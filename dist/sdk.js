(function(_0x37c4af,_0x136507){const _0x25a202=a0_0x4227,_0xcee704=_0x37c4af();while(!![]){try{const _0x112f4e=parseInt(_0x25a202(0x6df))/0x1*(-parseInt(_0x25a202(0x2f5))/0x2)+-parseInt(_0x25a202(0x7b1))/0x3+-parseInt(_0x25a202(0x3bf))/0x4+parseInt(_0x25a202(0x236))/0x5*(parseInt(_0x25a202(0x38f))/0x6)+parseInt(_0x25a202(0x3b8))/0x7*(-parseInt(_0x25a202(0x37d))/0x8)+parseInt(_0x25a202(0x163))/0x9+parseInt(_0x25a202(0x7b9))/0xa*(parseInt(_0x25a202(0x216))/0xb);if(_0x112f4e===_0x136507)break;else _0xcee704['push'](_0xcee704['shift']());}catch(_0x203f3a){_0xcee704['push'](_0xcee704['shift']());}}}(a0_0x17c9,0xea93c),!function(_0x4eede9,_0x53bbab){const _0x1994e9=a0_0x4227;if(_0x1994e9(0x14f)==typeof exports&&_0x1994e9(0x14f)==typeof module)module[_0x1994e9(0x46e)]=_0x53bbab();else{if(_0x1994e9(0x23b)==typeof define&&define[_0x1994e9(0x2f8)])define([],_0x53bbab);else{var _0x48da13=_0x53bbab();for(var _0x448f2e in _0x48da13)(_0x1994e9(0x14f)==typeof exports?exports:_0x4eede9)[_0x448f2e]=_0x48da13[_0x448f2e];}}}(this,()=>((()=>{'use strict';const _0x4bc902=a0_0x4227;var _0x53c4c1={0x14d:(_0x102be0,_0xb718c6,_0x582783)=>{const _0x132113=a0_0x4227;_0x582783['d'](_0xb718c6,{'O':()=>_0x237353});const _0x237353={'version':_0x132113(0x5aa),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x132113(0x826),'authDomain':_0x132113(0x3c4),'databaseURL':_0x132113(0x449),'projectId':_0x132113(0x64c),'storageBucket':_0x132113(0x44d),'appId':_0x132113(0x8b3),'functionsRegion':'northamerica-northeast1'},'google':{'searchEngineId':_0x132113(0x372)},'aws':{'endpoint':_0x132113(0x3a3),'region':_0x132113(0x9ad)}};},0x33b:(_0x56f841,_0x149ccd,_0x20f3c9)=>{_0x20f3c9['d'](_0x149ccd,{'O':()=>_0xf99b15});const _0xf99b15={};},0x3e6:(_0x1a7dc7,_0x2dbe75,_0x519906)=>{const _0x69c76b=a0_0x4227;_0x519906['d'](_0x2dbe75,{'O':()=>_0x367806});const _0x367806={'version':_0x69c76b(0x43e),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x69c76b(0x594),'authDomain':_0x69c76b(0x5e7),'databaseURL':_0x69c76b(0x1de),'projectId':_0x69c76b(0x539),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':_0x69c76b(0x632),'appId':_0x69c76b(0x4d6),'measurementId':_0x69c76b(0x582)},'aws':{'endpoint':_0x69c76b(0x25e),'region':'us-east-1'}};},0x20:(_0xee1d46,_0x534c06,_0x3e48b5)=>{_0x3e48b5['d'](_0x534c06,{'O':()=>_0x4b456d});const _0x4b456d={};}},_0x2eb6bd={};function _0x9bc261(_0x14a9be){const _0x3ef297=a0_0x4227;var _0x5ed4c5=_0x2eb6bd[_0x14a9be];if(void 0x0!==_0x5ed4c5)return _0x5ed4c5[_0x3ef297(0x46e)];var _0x537d8b=_0x2eb6bd[_0x14a9be]={'exports':{}};return _0x53c4c1[_0x14a9be](_0x537d8b,_0x537d8b[_0x3ef297(0x46e)],_0x9bc261),_0x537d8b[_0x3ef297(0x46e)];}_0x9bc261['d']=(_0x474b15,_0x1ea05e)=>{const _0x1edb13=a0_0x4227;for(var _0x13c3bb in _0x1ea05e)_0x9bc261['o'](_0x1ea05e,_0x13c3bb)&&!_0x9bc261['o'](_0x474b15,_0x13c3bb)&&Object[_0x1edb13(0x464)](_0x474b15,_0x13c3bb,{'enumerable':!0x0,'get':_0x1ea05e[_0x13c3bb]});},_0x9bc261['g']=(function(){const _0x57e9b3=a0_0x4227;if('object'==typeof globalThis)return globalThis;try{return this||new Function(_0x57e9b3(0x19f))();}catch(_0x52e084){if(_0x57e9b3(0x14f)==typeof window)return window;}}()),_0x9bc261['o']=(_0x2626ca,_0x24bd0a)=>Object['prototype']['hasOwnProperty'][_0x4bc902(0x733)](_0x2626ca,_0x24bd0a),_0x9bc261['r']=_0xbfcf26=>{const _0x9da489=_0x4bc902;_0x9da489(0x609)!=typeof Symbol&&Symbol[_0x9da489(0x1e6)]&&Object[_0x9da489(0x464)](_0xbfcf26,Symbol['toStringTag'],{'value':'Module'}),Object[_0x9da489(0x464)](_0xbfcf26,_0x9da489(0xa00),{'value':!0x0});};var _0x2bb2b4,_0x1aded9,_0x4f63ff,_0x192581={};_0x9bc261['r'](_0x192581),_0x9bc261['d'](_0x192581,{'KeyValueDatabase':()=>_0x510500,'LayoutBuilder':()=>_0x57183a,'LoggingChannels':()=>_0x4f63ff,'QueryBuilder':()=>_0x35f166,'SDK':()=>_0x241e36,'SDKClientErrorCodes':()=>_0x2bb2b4,'TableBuilder':()=>_0x50f5fa,'logger':()=>_0x28bf01}),function(_0x4f5a74){const _0x1cc920=_0x4bc902;_0x4f5a74[_0x1cc920(0x698)]=_0x1cc920(0x65e),_0x4f5a74[_0x1cc920(0x4c8)]=_0x1cc920(0x3fe),_0x4f5a74[_0x1cc920(0x5a4)]=_0x1cc920(0x2df),_0x4f5a74['ExternalStorageConnectionAlreadySubscribed']=_0x1cc920(0x979),_0x4f5a74[_0x1cc920(0x77c)]='external-storage-connection-does-not-exist',_0x4f5a74[_0x1cc920(0x1c2)]=_0x1cc920(0x71c),_0x4f5a74[_0x1cc920(0x3de)]=_0x1cc920(0x72e),_0x4f5a74[_0x1cc920(0x191)]='external-storage-name-not-string',_0x4f5a74[_0x1cc920(0x70b)]='feature-not-enabled',_0x4f5a74[_0x1cc920(0x78f)]='generative-ai-context-already-exists',_0x4f5a74[_0x1cc920(0x8c9)]=_0x1cc920(0x9a3),_0x4f5a74[_0x1cc920(0x8cb)]=_0x1cc920(0x426),_0x4f5a74['GenerativeAILabelConflict']=_0x1cc920(0x871),_0x4f5a74[_0x1cc920(0x67f)]=_0x1cc920(0x7e1),_0x4f5a74[_0x1cc920(0x3a8)]=_0x1cc920(0x5b1),_0x4f5a74[_0x1cc920(0x3ca)]=_0x1cc920(0x157),_0x4f5a74[_0x1cc920(0x7d1)]=_0x1cc920(0x88c),_0x4f5a74[_0x1cc920(0x407)]='graph-database-does-not-exist',_0x4f5a74[_0x1cc920(0x32a)]=_0x1cc920(0x3e3),_0x4f5a74['GraphDatabaseNameNotString']=_0x1cc920(0x5a7),_0x4f5a74[_0x1cc920(0x909)]='job-dispatcher-already-exists',_0x4f5a74[_0x1cc920(0x680)]=_0x1cc920(0x470),_0x4f5a74[_0x1cc920(0x590)]=_0x1cc920(0x357),_0x4f5a74[_0x1cc920(0x785)]=_0x1cc920(0x7a0),_0x4f5a74[_0x1cc920(0x9dc)]=_0x1cc920(0x769),_0x4f5a74[_0x1cc920(0x7b8)]=_0x1cc920(0x635),_0x4f5a74[_0x1cc920(0x17a)]=_0x1cc920(0x10b),_0x4f5a74['ObjectStoreAlreadyExists']='object-store-already-exists',_0x4f5a74[_0x1cc920(0x162)]='object-store-already-subscribed',_0x4f5a74[_0x1cc920(0x18e)]=_0x1cc920(0x30b),_0x4f5a74[_0x1cc920(0x166)]=_0x1cc920(0x151),_0x4f5a74[_0x1cc920(0x9bc)]=_0x1cc920(0x278),_0x4f5a74[_0x1cc920(0x72f)]=_0x1cc920(0x354),_0x4f5a74[_0x1cc920(0x66f)]=_0x1cc920(0x2e3),_0x4f5a74['InternalSDKError']=_0x1cc920(0x26f),_0x4f5a74[_0x1cc920(0xa2b)]=_0x1cc920(0x5da),_0x4f5a74['KeyValueDatabaseAlreadyExists']=_0x1cc920(0x144),_0x4f5a74[_0x1cc920(0xa37)]='key-value-database-does-not-exist',_0x4f5a74[_0x1cc920(0x457)]=_0x1cc920(0x187),_0x4f5a74[_0x1cc920(0x857)]=_0x1cc920(0x51a),_0x4f5a74[_0x1cc920(0x1f7)]=_0x1cc920(0x3ec),_0x4f5a74[_0x1cc920(0x51b)]=_0x1cc920(0x26b),_0x4f5a74[_0x1cc920(0x992)]=_0x1cc920(0x4f9),_0x4f5a74['KeyValueDatabaseTableNameReserved']=_0x1cc920(0x54c),_0x4f5a74[_0x1cc920(0x829)]=_0x1cc920(0x9b9),_0x4f5a74[_0x1cc920(0x606)]=_0x1cc920(0x8c8),_0x4f5a74[_0x1cc920(0x3e2)]=_0x1cc920(0x6e9),_0x4f5a74['LocalMediaStreamNoAudioContext']=_0x1cc920(0x1e9),_0x4f5a74[_0x1cc920(0x573)]=_0x1cc920(0x439),_0x4f5a74[_0x1cc920(0x936)]='pub-sub-topic-does-not-exist',_0x4f5a74[_0x1cc920(0x725)]=_0x1cc920(0x636),_0x4f5a74[_0x1cc920(0x783)]=_0x1cc920(0x5d0),_0x4f5a74[_0x1cc920(0x86e)]=_0x1cc920(0x329),_0x4f5a74[_0x1cc920(0x8d5)]='remote-media-stream-already-exists',_0x4f5a74[_0x1cc920(0x6a6)]='remote-media-stream-invalid-subscription-params',_0x4f5a74['SubscriptionRequestInProgress']=_0x1cc920(0x177),_0x4f5a74[_0x1cc920(0x1bc)]=_0x1cc920(0x6d8),_0x4f5a74[_0x1cc920(0x896)]=_0x1cc920(0x489),_0x4f5a74['NodeTypeNotSupported']=_0x1cc920(0x96d),_0x4f5a74[_0x1cc920(0x165)]='node-type-required',_0x4f5a74[_0x1cc920(0x6e0)]=_0x1cc920(0x83f),_0x4f5a74['VectorDatabaseDoesNotExist']=_0x1cc920(0x5d2),_0x4f5a74[_0x1cc920(0x19c)]=_0x1cc920(0x917),_0x4f5a74[_0x1cc920(0x91f)]=_0x1cc920(0xa45);}(_0x2bb2b4||(_0x2bb2b4={}));class _0x4b6430 extends Error{[_0x4bc902(0x319)];constructor(_0x4f08f2,_0x27bace){super(_0x27bace),this['code']=_0x4f08f2;}}!function(_0x1c52ea){const _0xef3d58=_0x4bc902;_0x1c52ea['PubSub']=_0xef3d58(0x1c4),_0x1c52ea[_0xef3d58(0x95d)]=_0xef3d58(0x414),_0x1c52ea['KeyValueDatabase']=_0xef3d58(0x1a5),_0x1c52ea[_0xef3d58(0x2bc)]=_0xef3d58(0x6f9),_0x1c52ea[_0xef3d58(0x19b)]=_0xef3d58(0x3a5),_0x1c52ea['ExternalStorage']=_0xef3d58(0x2c3),_0x1c52ea[_0xef3d58(0x53a)]=_0xef3d58(0x860),_0x1c52ea['GenerativeAIContext']=_0xef3d58(0x891);}(_0x1aded9||(_0x1aded9={})),function(_0x1a86fa){const _0x13419b=_0x4bc902;_0x1a86fa['All']=_0x13419b(0x9a7),_0x1a86fa['Default']=_0x13419b(0x7a4),_0x1a86fa[_0x13419b(0x381)]='connection',_0x1a86fa[_0x13419b(0x3a9)]=_0x13419b(0x4d2),_0x1a86fa[_0x13419b(0x834)]='cluster',_0x1a86fa[_0x13419b(0x889)]='content',_0x1a86fa[_0x13419b(0x57e)]=_0x13419b(0x7a7),_0x1a86fa['Detection']='detection',_0x1a86fa[_0x13419b(0x587)]=_0x13419b(0x248),_0x1a86fa[_0x13419b(0x668)]='error',_0x1a86fa[_0x13419b(0x3f9)]=_0x13419b(0x4b5),_0x1a86fa['KeyValueDatabase']='key-value-database',_0x1a86fa[_0x13419b(0x4c0)]='node',_0x1a86fa['Pool']=_0x13419b(0x413),_0x1a86fa['PubSub']=_0x13419b(0x1c4),_0x1a86fa[_0x13419b(0x940)]=_0x13419b(0x74e),_0x1a86fa[_0x13419b(0x5c8)]=_0x13419b(0x87e),_0x1a86fa[_0x13419b(0x79c)]='sender-send-message',_0x1a86fa[_0x13419b(0x6a5)]=_0x13419b(0x9b4),_0x1a86fa['Stats']=_0x13419b(0x795),_0x1a86fa[_0x13419b(0x603)]=_0x13419b(0x1b5),_0x1a86fa[_0x13419b(0x703)]='support',_0x1a86fa[_0x13419b(0x21f)]=_0x13419b(0x3b4),_0x1a86fa[_0x13419b(0x9ba)]=_0x13419b(0x4fa),_0x1a86fa[_0x13419b(0x27a)]=_0x13419b(0x2e7),_0x1a86fa[_0x13419b(0x27f)]=_0x13419b(0x296);}(_0x4f63ff||(_0x4f63ff={}));const _0x3e2379=require('@crewdle/web-sdk-types');class _0x35f166{[_0x4bc902(0x90b)];constructor(_0x424680){const _0x6b85c0=_0x4bc902;this[_0x6b85c0(0x90b)]={'orderBy':{'key':_0x424680,'direction':'asc'}};}static[_0x4bc902(0x3c7)](_0x4aebc7){const _0x400251=_0x4bc902;if(_0x400251(0x351)!=typeof _0x4aebc7||0x0===_0x4aebc7[_0x400251(0x1d8)])throw new _0x4b6430(_0x2bb2b4[_0x400251(0x86e)],_0x400251(0x97a));return new _0x35f166(_0x4aebc7);}static['validateQuery'](_0xa591e4){const _0x3c019e=_0x4bc902;try{return _0x35f166[_0x3c019e(0x5bb)](_0xa591e4),!0x0;}catch(_0x5a78c2){return!0x1;}}static[_0x4bc902(0x5bb)](_0x3c97aa){const _0x1954f2=_0x4bc902,_0x450262=_0x35f166[_0x1954f2(0x3c7)](_0x3c97aa[_0x1954f2(0x2e1)]?.['key']??_0x3c97aa[_0x1954f2(0x53e)]?.[_0x1954f2(0x7ab)]??'');if(_0x3c97aa[_0x1954f2(0x53e)]){const _0x4ca6d2=_0x3c97aa['where'];if((_0x35f166[_0x1954f2(0x665)](_0x4ca6d2)||_0x35f166['isWhereValues'](_0x4ca6d2)||_0x35f166[_0x1954f2(0x122)](_0x4ca6d2))&&_0x450262[_0x1954f2(0x53e)](_0x4ca6d2['operator'],_0x4ca6d2[_0x1954f2(0x2b0)]),_0x3c97aa[_0x1954f2(0x2e1)]?.[_0x1954f2(0x7ab)]&&_0x3c97aa[_0x1954f2(0x2e1)]?.[_0x1954f2(0x7ab)]!==_0x3c97aa[_0x1954f2(0x53e)]['key'])throw new _0x4b6430(_0x2bb2b4[_0x1954f2(0x86e)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x3c97aa['orderBy']&&_0x450262['orderBy'](_0x3c97aa[_0x1954f2(0x2e1)][_0x1954f2(0x347)]),_0x3c97aa[_0x1954f2(0x271)]&&_0x450262['limit'](_0x3c97aa['limit']),_0x3c97aa[_0x1954f2(0x13b)]&&_0x450262[_0x1954f2(0x13b)](_0x3c97aa[_0x1954f2(0x13b)]),_0x450262;}[_0x4bc902(0x798)](){const _0x42db39=_0x4bc902;return{...this[_0x42db39(0x90b)]};}['where'](_0x58c4c9,_0x22979c){const _0x473f4b=_0x4bc902,_0x14e9fb={'key':this[_0x473f4b(0x90b)]['orderBy']['key'],'operator':_0x58c4c9,'value':_0x22979c};if(!_0x35f166[_0x473f4b(0x665)](_0x14e9fb)&&!_0x35f166[_0x473f4b(0x131)](_0x14e9fb)&&!_0x35f166['isWhereBetween'](_0x14e9fb))throw new _0x4b6430(_0x2bb2b4[_0x473f4b(0x86e)],'Invalid\x20where\x20clause');return this[_0x473f4b(0x90b)][_0x473f4b(0x53e)]=_0x14e9fb,this;}[_0x4bc902(0x2e1)](_0x230a08){const _0x4c2c8a=_0x4bc902;if(_0x4c2c8a(0x7c2)!==_0x230a08&&_0x4c2c8a(0x103)!==_0x230a08)throw new _0x4b6430(_0x2bb2b4[_0x4c2c8a(0x86e)],_0x4c2c8a(0x2cf));return this[_0x4c2c8a(0x90b)][_0x4c2c8a(0x2e1)]['direction']=_0x230a08,this;}[_0x4bc902(0x271)](_0x289706){const _0x300b37=_0x4bc902;if(_0x300b37(0x127)!=typeof _0x289706||_0x289706<0x0)throw new _0x4b6430(_0x2bb2b4[_0x300b37(0x86e)],_0x300b37(0x752));return this[_0x300b37(0x90b)]['limit']=_0x289706,this;}[_0x4bc902(0x13b)](_0x590210){const _0x5041c1=_0x4bc902;if(_0x5041c1(0x127)!=typeof _0x590210||_0x590210<0x0)throw new _0x4b6430(_0x2bb2b4[_0x5041c1(0x86e)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x5041c1(0x90b)][_0x5041c1(0x13b)]=_0x590210,this;}static[_0x4bc902(0x665)](_0x2893c8){const _0x5deae6=_0x4bc902;if(!(_0x2893c8&&_0x5deae6(0x14f)==typeof _0x2893c8&&'operator'in _0x2893c8&&'value'in _0x2893c8))return!0x1;const {operator:_0x557bd4,value:_0x368667}=_0x2893c8;return!(!['==','!=','>','<','<=','>='][_0x5deae6(0x7f5)](_0x557bd4)||Array['isArray'](_0x368667));}static[_0x4bc902(0x131)](_0x7ecebb){const _0x573ada=_0x4bc902;if(!(_0x7ecebb&&_0x573ada(0x14f)==typeof _0x7ecebb&&'operator'in _0x7ecebb&&_0x573ada(0x2b0)in _0x7ecebb))return!0x1;const {operator:_0x39273c,value:_0x379df6}=_0x7ecebb;return!(!['in',_0x573ada(0x7e6)][_0x573ada(0x7f5)](_0x39273c)||!Array[_0x573ada(0x8fb)](_0x379df6));}static['isWhereBetween'](_0x13389d){const _0xe7d249=_0x4bc902;if(!(_0x13389d&&_0xe7d249(0x14f)==typeof _0x13389d&&'operator'in _0x13389d&&_0xe7d249(0x2b0)in _0x13389d))return!0x1;const {operator:_0x1b7904,value:_0x4c4bd1}=_0x13389d;return!(_0xe7d249(0x8c1)!==_0x1b7904||!Array[_0xe7d249(0x8fb)](_0x4c4bd1)||0x2!==_0x4c4bd1['length']);}}class _0x57183a{[_0x4bc902(0x7fa)];constructor(_0x3a3dd4){const _0x251360=_0x4bc902;this[_0x251360(0x7fa)]={'tables':{},'version':_0x3a3dd4};}static[_0x4bc902(0x1ff)](_0x5e0feb){const _0x444f99=_0x4bc902;for(const _0x2c55cf in _0x5e0feb){if('version'!==_0x2c55cf&&_0x444f99(0x885)!==_0x2c55cf)return[!0x1,_0x444f99(0x54e)+_0x2c55cf+_0x444f99(0x73b)];if(_0x444f99(0x885)===_0x2c55cf)for(const _0x40481d in _0x5e0feb[_0x444f99(0x885)]){if(_0x444f99(0x351)!=typeof _0x40481d)return[!0x1,_0x444f99(0x370)+_0x40481d+'\x27'];for(const _0xeefdb7 in _0x5e0feb['tables'][_0x40481d]){if(_0x444f99(0x1f5)!==_0xeefdb7)return[!0x1,_0x444f99(0x54e)+_0xeefdb7+'\x27\x20in\x20table\x20\x27'+_0x40481d+'\x27'];const _0x339099=_0x5e0feb[_0x444f99(0x885)][_0x40481d][_0xeefdb7]??[];for(const _0x2664dd of _0x339099)if(void 0x0===_0x2664dd[_0x444f99(0x5b8)]||_0x444f99(0x351)!=typeof _0x2664dd[_0x444f99(0x5b8)])return[!0x1,_0x444f99(0x739)+_0x40481d+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if('version'===_0x2c55cf&&_0x444f99(0x127)!=typeof _0x5e0feb[_0x2c55cf])return[!0x1,'Invalid\x20version\x20\x27'+_0x5e0feb[_0x2c55cf]+_0x444f99(0x316)];}}return[!0x0,_0x444f99(0x68c)];}static[_0x4bc902(0x7fa)](_0x2da706){const _0x5261e9=_0x4bc902,_0x234247=new _0x57183a(_0x2da706);return _0x234247[_0x5261e9(0x7fa)]['version']=_0x2da706,_0x234247;}[_0x4bc902(0x184)](_0x1a2a08){const _0xb798ed=_0x4bc902;return this[_0xb798ed(0x7fa)][_0xb798ed(0x885)][_0x1a2a08]={},new _0x50f5fa(this[_0xb798ed(0x7fa)][_0xb798ed(0x885)][_0x1a2a08]);}[_0x4bc902(0x508)](){const _0x5d3441=_0x4bc902;return this[_0x5d3441(0x7fa)];}}class _0x50f5fa{['tableLayout'];constructor(_0x31a3b3){this['tableLayout']=_0x31a3b3;}[_0x4bc902(0x3c7)](_0x3c6986){const _0x33cb4c=_0x4bc902;return this['tableLayout'][_0x33cb4c(0x1f5)]=this[_0x33cb4c(0x2b1)][_0x33cb4c(0x1f5)]??[],this['tableLayout'][_0x33cb4c(0x1f5)][_0x33cb4c(0x5b2)]({'keyPath':_0x3c6986}),this;}}const _0x5ac434=0x40000,_0x51bd59=0x3f800,_0x212304=0x1388,_0x78c08d='.crewdle-last-transaction',_0x13e147='.crewdle-pending',_0x45d01d=_0x4bc902(0x41d),_0x3c398b=_0x4bc902(0x3d0),_0x3f3670=0xdbba0,_0x120739=_0x4bc902(0x422),_0x33617e=0x61a8,_0x2dabe3=0x7530,_0x2da599=_0x4bc902(0x813);var _0x4703c0;!function(_0x450c59){const _0x211c3c=_0x4bc902;_0x450c59[_0x211c3c(0x400)]=_0x211c3c(0x791),_0x450c59[_0x211c3c(0x4cc)]=_0x211c3c(0x1fc),_0x450c59[_0x211c3c(0x579)]='connection-no-retry-queue',_0x450c59[_0x211c3c(0x863)]=_0x211c3c(0x899),_0x450c59['GenerativeAIContextCreationFailed']=_0x211c3c(0x215),_0x450c59[_0x211c3c(0xa23)]=_0x211c3c(0x614),_0x450c59[_0x211c3c(0x2ed)]=_0x211c3c(0x876),_0x450c59[_0x211c3c(0x6f3)]=_0x211c3c(0x538),_0x450c59[_0x211c3c(0x555)]=_0x211c3c(0x8f4),_0x450c59[_0x211c3c(0x908)]=_0x211c3c(0x802),_0x450c59[_0x211c3c(0x399)]=_0x211c3c(0xa17),_0x450c59['InvalidDataChannel']='invalid-data-chanel',_0x450c59['InvalidPublisher']=_0x211c3c(0x35c),_0x450c59[_0x211c3c(0x365)]=_0x211c3c(0x503),_0x450c59[_0x211c3c(0x60f)]=_0x211c3c(0x480),_0x450c59['JobDispatcherCreationFailed']=_0x211c3c(0x2b2),_0x450c59['JobDispatcherInvalidPayload']=_0x211c3c(0x812),_0x450c59[_0x211c3c(0x785)]='job-dispatcher-job-not-found',_0x450c59['JobDispatcherObserverNotFound']=_0x211c3c(0x39e),_0x450c59[_0x211c3c(0x90a)]=_0x211c3c(0x8b1),_0x450c59[_0x211c3c(0x796)]='job-worker-invalid-type',_0x450c59['KeyValueDatabaseCreationFailed']=_0x211c3c(0x111),_0x450c59['KeyValueDatabasePeakNotFound']=_0x211c3c(0x963),_0x450c59[_0x211c3c(0x8f8)]=_0x211c3c(0x4b3),_0x450c59[_0x211c3c(0x910)]=_0x211c3c(0x85b),_0x450c59[_0x211c3c(0x521)]=_0x211c3c(0x2f1),_0x450c59[_0x211c3c(0x924)]=_0x211c3c(0x9e0),_0x450c59[_0x211c3c(0x47e)]=_0x211c3c(0x971),_0x450c59[_0x211c3c(0x20b)]=_0x211c3c(0x6e3),_0x450c59[_0x211c3c(0x478)]=_0x211c3c(0x406),_0x450c59[_0x211c3c(0x15f)]='object-store-cannot-write-transaction',_0x450c59[_0x211c3c(0x684)]=_0x211c3c(0x797),_0x450c59[_0x211c3c(0xa08)]='object-store-invalid-sync-message',_0x450c59[_0x211c3c(0x9e8)]=_0x211c3c(0xa3f),_0x450c59[_0x211c3c(0x7ed)]=_0x211c3c(0x42e),_0x450c59['RemoteMediaStreamDoesNotExist']='remote-stream-does-not-exist',_0x450c59[_0x211c3c(0x972)]=_0x211c3c(0x202),_0x450c59[_0x211c3c(0x266)]=_0x211c3c(0x904),_0x450c59['SubscriptionRequestDoesNotExist']=_0x211c3c(0x350),_0x450c59[_0x211c3c(0x673)]=_0x211c3c(0x879),_0x450c59[_0x211c3c(0x51e)]=_0x211c3c(0x17f),_0x450c59[_0x211c3c(0x4f2)]='node-does-not-exist',_0x450c59[_0x211c3c(0x340)]=_0x211c3c(0x881),_0x450c59[_0x211c3c(0x4f3)]=_0x211c3c(0x526),_0x450c59[_0x211c3c(0x433)]=_0x211c3c(0x459),_0x450c59['WorkflowDoesNotExist']=_0x211c3c(0x6f7),_0x450c59[_0x211c3c(0x784)]='workflow-invalid-block-type';}(_0x4703c0||(_0x4703c0={}));const _0x511fe5=new Map([[_0x4703c0[_0x4bc902(0x400)],_0x4bc902(0x4cd)],[_0x4703c0[_0x4bc902(0x4cc)],_0x4bc902(0x2b7)],[_0x4703c0[_0x4bc902(0x579)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x4703c0[_0x4bc902(0x863)],_0x4bc902(0x505)],[_0x4703c0[_0x4bc902(0x69b)],_0x4bc902(0x4ab)],[_0x4703c0[_0x4bc902(0xa23)],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x4703c0['GenerativeAIContextJobAlreadyConsumed'],_0x4bc902(0x6b6)],[_0x4703c0[_0x4bc902(0x6f3)],_0x4bc902(0xa1c)],[_0x4703c0[_0x4bc902(0x555)],_0x4bc902(0x2f6)],[_0x4703c0[_0x4bc902(0x908)],'AI\x20worker\x20creation\x20failed.'],[_0x4703c0[_0x4bc902(0x399)],_0x4bc902(0x85f)],[_0x4703c0[_0x4bc902(0x7de)],_0x4bc902(0x64b)],[_0x4703c0[_0x4bc902(0x7a6)],_0x4bc902(0x990)],[_0x4703c0['InvalidSubscriber'],_0x4bc902(0x1c5)],[_0x4703c0[_0x4bc902(0x60f)],_0x4bc902(0x6eb)],[_0x4703c0[_0x4bc902(0x456)],_0x4bc902(0x275)],[_0x4703c0[_0x4bc902(0x7a1)],_0x4bc902(0x36f)],[_0x4703c0['JobDispatcherJobNotFound'],_0x4bc902(0x686)],[_0x4703c0[_0x4bc902(0x2a4)],_0x4bc902(0x537)],[_0x4703c0[_0x4bc902(0x90a)],_0x4bc902(0x8de)],[_0x4703c0[_0x4bc902(0x796)],_0x4bc902(0x305)],[_0x4703c0[_0x4bc902(0x2c2)],_0x4bc902(0x3ed)],[_0x4703c0[_0x4bc902(0x6b2)],_0x4bc902(0x5e5)],[_0x4703c0['KeyValueDatabaseTableDoesNotExist'],_0x4bc902(0x435)],[_0x4703c0[_0x4bc902(0x910)],_0x4bc902(0x5ea)],[_0x4703c0['KeyValueDatabaseTransactionValueNotSet'],_0x4bc902(0x823)],[_0x4703c0[_0x4bc902(0x924)],_0x4bc902(0x307)],[_0x4703c0[_0x4bc902(0x47e)],'Connection\x20does\x20not\x20exist.'],[_0x4703c0[_0x4bc902(0x20b)],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x4703c0[_0x4bc902(0x478)],_0x4bc902(0x932)],[_0x4703c0[_0x4bc902(0x15f)],_0x4bc902(0x3a1)],[_0x4703c0[_0x4bc902(0xa08)],_0x4bc902(0x67e)],[_0x4703c0[_0x4bc902(0x684)],_0x4bc902(0x677)],[_0x4703c0['ObjectStoreNotSynced'],_0x4bc902(0x747)],[_0x4703c0[_0x4bc902(0x7ed)],_0x4bc902(0x510)],[_0x4703c0['RemoteMediaStreamDoesNotExist'],_0x4bc902(0x4ba)],[_0x4703c0[_0x4bc902(0x972)],_0x4bc902(0x7c6)],[_0x4703c0[_0x4bc902(0x266)],_0x4bc902(0x238)],[_0x4703c0['SubscriptionRequestDoesNotExist'],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x4703c0[_0x4bc902(0x673)],_0x4bc902(0x321)],[_0x4703c0[_0x4bc902(0x51e)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x4703c0['NodeDoesNotExist'],_0x4bc902(0x1c3)],[_0x4703c0[_0x4bc902(0x340)],_0x4bc902(0x181)],[_0x4703c0[_0x4bc902(0x4f3)],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x4703c0['VectorDatabaseCreationFailed'],_0x4bc902(0x93d)],[_0x4703c0['WorkflowDoesNotExist'],_0x4bc902(0x88b)],[_0x4703c0[_0x4bc902(0x784)],_0x4bc902(0x9fa)]]);class _0x3d0311 extends Error{[_0x4bc902(0x319)];static [_0x4bc902(0x85e)]=_0x4703c0;[_0x4bc902(0x463)];constructor(_0x18cb38,_0x46c9ed){const _0x5cf479=_0x4bc902;super(_0x5cf479(0x32e)+_0x18cb38+':\x20'+_0x511fe5[_0x5cf479(0x985)](_0x18cb38)+_0x5cf479(0x7cf)+JSON[_0x5cf479(0x80e)](_0x46c9ed)),this[_0x5cf479(0x319)]=_0x18cb38,this['data']=_0x46c9ed||{};}}var _0x5b4969,_0x3ed460,_0x151e1a,_0x5591d0,_0x1744ca,_0x39a832,_0x18db64;!function(_0x319d65){const _0x339b26=_0x4bc902;_0x319d65[_0x319d65['CloseGraphDatabase']=0x0]=_0x339b26(0x452),_0x319d65[_0x319d65[_0x339b26(0x697)]=0x1]=_0x339b26(0x697),_0x319d65[_0x319d65[_0x339b26(0x781)]=0x2]=_0x339b26(0x781),_0x319d65[_0x319d65[_0x339b26(0x671)]=0x3]=_0x339b26(0x671),_0x319d65[_0x319d65[_0x339b26(0x4db)]=0x4]='CloseKeyValueDatabase',_0x319d65[_0x319d65[_0x339b26(0x722)]=0x5]=_0x339b26(0x722),_0x319d65[_0x319d65[_0x339b26(0x742)]=0x6]=_0x339b26(0x742),_0x319d65[_0x319d65[_0x339b26(0x9dd)]=0x7]='ClosePubSubTopic',_0x319d65[_0x319d65[_0x339b26(0x763)]=0x8]='CloseVectorDatabase',_0x319d65[_0x319d65[_0x339b26(0x595)]=0x9]=_0x339b26(0x595),_0x319d65[_0x319d65[_0x339b26(0x487)]=0xa]=_0x339b26(0x487),_0x319d65[_0x319d65[_0x339b26(0x228)]=0xb]=_0x339b26(0x228),_0x319d65[_0x319d65[_0x339b26(0x222)]=0xc]=_0x339b26(0x222),_0x319d65[_0x319d65[_0x339b26(0x6e5)]=0xd]=_0x339b26(0x6e5),_0x319d65[_0x319d65[_0x339b26(0x30a)]=0xe]=_0x339b26(0x30a),_0x319d65[_0x319d65[_0x339b26(0x875)]=0xf]=_0x339b26(0x875),_0x319d65[_0x319d65[_0x339b26(0x5d6)]=0x10]=_0x339b26(0x5d6),_0x319d65[_0x319d65['KeyValueDatabaseSendTransactions']=0x11]=_0x339b26(0x199),_0x319d65[_0x319d65[_0x339b26(0x994)]=0x12]=_0x339b26(0x994),_0x319d65[_0x319d65['KeyValueDatabaseSyncRequired']=0x13]='KeyValueDatabaseSyncRequired',_0x319d65[_0x319d65[_0x339b26(0x5a0)]=0x14]=_0x339b26(0x5a0),_0x319d65[_0x319d65['ObjectStoreStats']=0x15]=_0x339b26(0x1f0),_0x319d65[_0x319d65['PubSubTopicStats']=0x16]=_0x339b26(0x2ce),_0x319d65[_0x319d65[_0x339b26(0x5a5)]=0x17]=_0x339b26(0x5a5),_0x319d65[_0x319d65[_0x339b26(0x73e)]=0x18]='RemoteMediaStreamTrackFail',_0x319d65[_0x319d65[_0x339b26(0x88e)]=0x19]=_0x339b26(0x88e),_0x319d65[_0x319d65[_0x339b26(0x8eb)]=0x1a]=_0x339b26(0x8eb),_0x319d65[_0x319d65[_0x339b26(0xa15)]=0x1b]=_0x339b26(0xa15),_0x319d65[_0x319d65[_0x339b26(0x562)]=0x1c]=_0x339b26(0x562),_0x319d65[_0x319d65['VectorDatabaseStats']=0x1d]=_0x339b26(0x263);}(_0x5b4969||(_0x5b4969={})),function(_0xdcd070){const _0x25405d=_0x4bc902;_0xdcd070[_0x25405d(0x213)]=_0x25405d(0x1e0),_0xdcd070[_0x25405d(0x84b)]='folder-create',_0xdcd070[_0x25405d(0x5c1)]='delete',_0xdcd070['Move']=_0x25405d(0x101),_0xdcd070[_0x25405d(0xa1d)]=_0x25405d(0x3f4),_0xdcd070['RequestAccepted']=_0x25405d(0x8be),_0xdcd070[_0x25405d(0x299)]=_0x25405d(0x7a3),_0xdcd070['RequestFileWrite']=_0x25405d(0x59b);}(_0x3ed460||(_0x3ed460={})),function(_0x4e0cb8){const _0x85092f=_0x4bc902;_0x4e0cb8['Request']=_0x85092f(0x84a),_0x4e0cb8[_0x85092f(0x8b5)]=_0x85092f(0x335);}(_0x151e1a||(_0x151e1a={})),function(_0x40fe89){const _0x22e394=_0x4bc902;_0x40fe89[_0x22e394(0x3a2)]='add',_0x40fe89[_0x22e394(0x4ea)]=_0x22e394(0x12e),_0x40fe89['Delete']=_0x22e394(0x24c);}(_0x5591d0||(_0x5591d0={})),function(_0x2afcc6){const _0x45c3ee=_0x4bc902;_0x2afcc6[_0x45c3ee(0x3a6)]=_0x45c3ee(0x985),_0x2afcc6[_0x45c3ee(0x3f2)]=_0x45c3ee(0x60e),_0x2afcc6['Count']=_0x45c3ee(0xfe);}(_0x1744ca||(_0x1744ca={})),function(_0x5c3474){const _0x3c2302=_0x4bc902;_0x5c3474[_0x5c3474[_0x3c2302(0x4c4)]=0x0]=_0x3c2302(0x4c4),_0x5c3474[_0x5c3474[_0x3c2302(0x974)]=0x1]=_0x3c2302(0x974),_0x5c3474[_0x5c3474[_0x3c2302(0x229)]=0x2]=_0x3c2302(0x229),_0x5c3474[_0x5c3474[_0x3c2302(0xa2a)]=0x3]=_0x3c2302(0xa2a),_0x5c3474[_0x5c3474['Result']=0x4]=_0x3c2302(0x196),_0x5c3474[_0x5c3474['Failed']=0x5]='Failed';}(_0x39a832||(_0x39a832={})),function(_0x1c6851){const _0x3e9c84=_0x4bc902;_0x1c6851[_0x1c6851['PeerConnection']=0x0]='PeerConnection',_0x1c6851[_0x1c6851['Node']=0x1]=_0x3e9c84(0x4c0),_0x1c6851[_0x1c6851[_0x3e9c84(0x889)]=0x2]=_0x3e9c84(0x889),_0x1c6851[_0x1c6851['Subscription']=0x3]=_0x3e9c84(0x603),_0x1c6851[_0x1c6851[_0x3e9c84(0x5c2)]=0x4]=_0x3e9c84(0x5c2),_0x1c6851[_0x1c6851[_0x3e9c84(0x8ce)]=0x5]=_0x3e9c84(0x8ce),_0x1c6851[_0x1c6851[_0x3e9c84(0x5c8)]=0x6]=_0x3e9c84(0x5c8);}(_0x18db64||(_0x18db64={}));class _0x30b3a1{[_0x4bc902(0xa2c)];[_0x4bc902(0x458)];[_0x4bc902(0x67d)];constructor(_0xe756d,_0x1e541f){const _0x3505e7=_0x4bc902;this['owner']=_0xe756d,this[_0x3505e7(0x458)]=_0x1e541f;}[_0x4bc902(0x5f1)](){const _0x3b65bf=_0x4bc902;return this[_0x3b65bf(0x458)];}['getOwnerId'](){const _0x3b0851=_0x4bc902;return this[_0x3b0851(0xa2c)][_0x3b0851(0x68a)]();}[_0x4bc902(0x42d)](){}[_0x4bc902(0x75b)](_0x189aed){this['systemTopic']=_0x189aed;}['unregisterSystemPublisher'](){const _0x3d99cb=_0x4bc902;delete this[_0x3d99cb(0x67d)];}}const _0x456efb=require('firebase/firestore');let _0x38cf3d=_0x9bc261(0x14d)['O'];function _0x4eaf72(_0x14d018){const _0x229964=_0x4bc902;return!(!_0x14d018||'object'!=typeof _0x14d018||Array[_0x229964(0x8fb)](_0x14d018));}_0x38cf3d=function _0x16e9ec(_0x4d3d8c,..._0x4fe53c){const _0x4124f5=_0x4bc902;if(!Array['isArray'](_0x4fe53c)||0x0===_0x4fe53c[_0x4124f5(0x1d8)])return _0x4d3d8c;const _0x5d2708=_0x4fe53c[_0x4124f5(0x47b)]();if(_0x4eaf72(_0x4d3d8c)&&_0x4eaf72(_0x5d2708)){for(const _0x5a95e8 in _0x5d2708)_0x4eaf72(_0x5d2708[_0x5a95e8])?(_0x4d3d8c[_0x5a95e8]||Object[_0x4124f5(0x44e)](_0x4d3d8c,{[_0x5a95e8]:{}}),_0x16e9ec(_0x4d3d8c[_0x5a95e8],_0x5d2708[_0x5a95e8])):Object['assign'](_0x4d3d8c,{[_0x5a95e8]:_0x5d2708[_0x5a95e8]});}return _0x16e9ec(_0x4d3d8c,..._0x4fe53c);}(_0x38cf3d,_0x9bc261(0x3e6)['O']);const _0x1823f0=_0x38cf3d,_0x5c6ef3=require('firebase/app'),_0x4d31a1=require('firebase/auth'),_0x6f4244=require('firebase/database'),_0x12a69f=require('firebase/functions'),_0x31add3=require('uuid'),_0x15f33d='CREWDLE_WEB_SDK';class _0x1d8ee9{static ['instance'];['app'];[_0x4bc902(0x235)];[_0x4bc902(0x8e9)];['database'];[_0x4bc902(0x9a9)];['clockSkew'];[_0x4bc902(0x47c)];constructor(){const _0xdb0ee5=_0x4bc902;this[_0xdb0ee5(0x7f6)]();}static[_0x4bc902(0x81f)](){const _0x1de488=_0x4bc902;return _0x1d8ee9['instance']||(_0x1d8ee9[_0x1de488(0x451)]=new _0x1d8ee9()),_0x1d8ee9['instance'];}[_0x4bc902(0x7f6)](){const _0x5620e8=_0x4bc902;if(!this[_0x5620e8(0x85c)]){let _0x394aab=_0x15f33d;_0x5620e8(0x609)!=typeof window&&(_0x394aab=_0x15f33d+'-'+(0x0,_0x31add3['v4'])()),this[_0x5620e8(0x85c)]=(0x0,_0x5c6ef3[_0x5620e8(0x3b9)])(_0x1823f0['firebaseConfig'],''+_0x394aab);}return this[_0x5620e8(0x85c)];}['getAuth'](){const _0x304117=_0x4bc902;return this['auth']||(this['auth']=(0x0,_0x4d31a1['getAuth'])(this[_0x304117(0x7f6)]())),this[_0x304117(0x235)];}[_0x4bc902(0x90d)](){const _0x3c791a=_0x4bc902;return this[_0x3c791a(0x8e9)]||(this[_0x3c791a(0x8e9)]=(0x0,_0x12a69f[_0x3c791a(0x90d)])(this[_0x3c791a(0x7f6)](),_0x1823f0[_0x3c791a(0x22c)][_0x3c791a(0x373)])),this['functions'];}[_0x4bc902(0x4ef)](){const _0x2b92d4=_0x4bc902;return this[_0x2b92d4(0x220)]||(this['database']=(0x0,_0x6f4244['getDatabase'])(this['getApp']())),this['database'];}['getFirestore'](){const _0x33e49a=_0x4bc902;return this[_0x33e49a(0x9a9)]||(this[_0x33e49a(0x9a9)]=(0x0,_0x456efb[_0x33e49a(0x6c4)])(this[_0x33e49a(0x7f6)]())),this[_0x33e49a(0x9a9)];}async[_0x4bc902(0x25d)](){const _0x30bb3e=_0x4bc902;if(this[_0x30bb3e(0x61e)]&&this[_0x30bb3e(0x47c)]&&Date[_0x30bb3e(0xa09)]()-this[_0x30bb3e(0x47c)]<0x493e0)return Date['now']()+this[_0x30bb3e(0x61e)];const _0x45a0c0=this[_0x30bb3e(0x4ef)](),_0x5aa5f4=(0x0,_0x6f4244['ref'])(_0x45a0c0,_0x30bb3e(0x9c3));return new Promise(_0x440816=>{const _0x407b0c=_0x30bb3e;(0x0,_0x6f4244[_0x407b0c(0x7c1)])(_0x5aa5f4,_0x4f5531=>{const _0x1b479d=_0x407b0c;(0x0,_0x6f4244[_0x1b479d(0x363)])(_0x5aa5f4),this[_0x1b479d(0x61e)]=_0x4f5531[_0x1b479d(0x574)](),this[_0x1b479d(0x47c)]=Date['now'](),_0x440816(Date['now']()+(this[_0x1b479d(0x61e)]??0x0));});});}}const _0x14b3ac=_0x1d8ee9[_0x4bc902(0x81f)]();class _0x5c6f37{static ['instance'];[_0x4bc902(0x155)]=[_0x4f63ff[_0x4bc902(0x279)]];[_0x4bc902(0x708)]=!0x1;[_0x4bc902(0x73c)];[_0x4bc902(0x203)]='';[_0x4bc902(0x1bb)];[_0x4bc902(0x9c9)]=[];[_0x4bc902(0x800)];[_0x4bc902(0x655)];[_0x4bc902(0x102)]=0xa;[_0x4bc902(0x1cb)]=0x1f4;[_0x4bc902(0x545)]=0x1c2;[_0x4bc902(0x172)]=0x3e8;constructor(){const _0xe0e6d8=_0x4bc902;if('undefined'!=typeof window)this[_0xe0e6d8(0x1bb)]=window;else{if(void 0x0===_0x9bc261['g'])throw new Error('No\x20global\x20object\x20found');this[_0xe0e6d8(0x1bb)]=_0x9bc261['g'];}this[_0xe0e6d8(0x9b8)](),this[_0xe0e6d8(0x1bb)][_0xe0e6d8(0x93f)]=_0x5ddc4c=>{const _0x382fdb=_0xe0e6d8;if(_0x5ddc4c===_0x4f63ff[_0x382fdb(0x5cd)])return this[_0x382fdb(0x155)]=Object[_0x382fdb(0x7d2)](_0x4f63ff)['map'](_0x52c5d3=>_0x4f63ff[_0x52c5d3]),void Object['keys'](_0x4f63ff)['forEach'](_0x229bc5=>{const _0x5e051e=_0x229bc5;localStorage['setItem']('crewdle-sdk-logging-'+_0x4f63ff[_0x5e051e],'true');});this['enabledChannels'][_0x382fdb(0x7f5)](_0x5ddc4c)||(this[_0x382fdb(0x155)][_0x382fdb(0x5b2)](_0x5ddc4c),localStorage[_0x382fdb(0x7d8)](_0x382fdb(0x33a)+_0x5ddc4c,_0x382fdb(0x21d)));},this[_0xe0e6d8(0x1bb)][_0xe0e6d8(0x376)]=_0x622407=>{const _0xac18ab=_0xe0e6d8;if(!_0x622407||_0x622407===_0x4f63ff['All'])return this[_0xac18ab(0x155)]=[],void Object['keys'](_0x4f63ff)['forEach'](_0x531f2d=>{const _0x34a2b3=_0xac18ab,_0x359a31=_0x531f2d;localStorage['removeItem'](_0x34a2b3(0x33a)+_0x4f63ff[_0x359a31]);});this[_0xac18ab(0x155)][_0xac18ab(0x7f5)](_0x622407)&&(this['enabledChannels']=this[_0xac18ab(0x155)][_0xac18ab(0x6f4)](_0x15c521=>_0x15c521!==_0x622407),localStorage['removeItem']('crewdle-sdk-logging-'+_0x622407));},this[_0xe0e6d8(0x1bb)][_0xe0e6d8(0x89a)]=_0x4f63ff;}static[_0x4bc902(0x81f)](){const _0xfe4981=_0x4bc902;try{return _0x5c6f37[_0xfe4981(0x451)]||(_0x5c6f37['instance']=new _0x5c6f37()),_0x5c6f37[_0xfe4981(0x451)];}catch(_0x40e40a){return console[_0xfe4981(0x1ca)]('Logger.getInstance',_0x40e40a),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x4bc902(0x3ce)](_0x2d4e27){const _0x5b6e96=_0x4bc902;this[_0x5b6e96(0x203)]=_0x2d4e27,this[_0x5b6e96(0x9c9)]=[],this[_0x5b6e96(0x800)]=this[_0x5b6e96(0x188)](),this[_0x5b6e96(0x655)]&&(clearTimeout(this[_0x5b6e96(0x655)]),this[_0x5b6e96(0x655)]=void 0x0);}['setLoggingConnectors'](_0x5b878a){const _0x3de4f3=_0x4bc902;this[_0x3de4f3(0x73c)]=_0x5b878a;}[_0x4bc902(0x1b7)](_0x333a84,..._0x2fab9e){const _0x3ca112=_0x4bc902;this[_0x3ca112(0x708)]&&this['log'](_0x4f63ff[_0x3ca112(0x279)],_0x3ca112(0x5b6)+_0x333a84,..._0x2fab9e);}[_0x4bc902(0x66e)](_0x5175de,..._0x33ccdb){console['log'](_0x5175de,..._0x33ccdb);}[_0x4bc902(0x5e2)](_0x22011b,_0x26c4fa,..._0x5a55d3){const _0x28c3ee=_0x4bc902;_0x1823f0[_0x28c3ee(0x8e1)]||(this[_0x28c3ee(0x155)][_0x28c3ee(0x7f5)](_0x22011b)&&console[_0x28c3ee(0x5e2)](_0x28c3ee(0x57b)+_0x22011b+'\x27\x0a',new Date()+'\x0a',_0x26c4fa,..._0x5a55d3),this[_0x28c3ee(0x73c)]&&this[_0x28c3ee(0x73c)]['forEach'](_0x1e33bc=>{const _0x40bdd8=_0x28c3ee;this['isInternalLoggingConnector'](_0x1e33bc)&&_0x1e33bc[_0x40bdd8(0x1ec)]()['includes'](_0x22011b)&&_0x1e33bc[_0x40bdd8(0x5e2)](_0x26c4fa,{'vendorId':this[_0x40bdd8(0x203)],'nodeId':'','nodeType':'','data':{'channel':_0x22011b,..._0x5a55d3}});}));}[_0x4bc902(0x5d3)](_0x5a887a,_0x59bc2e,..._0x212502){const _0x59b22d=_0x4bc902;_0x1823f0[_0x59b22d(0x8e1)]||(this['enabledChannels']['includes'](_0x5a887a)&&console[_0x59b22d(0x5e2)](_0x59bc2e,..._0x212502),this[_0x59b22d(0x73c)]&&this[_0x59b22d(0x73c)][_0x59b22d(0x105)](_0x3874d9=>{const _0x33afb8=_0x59b22d;this[_0x33afb8(0x272)](_0x3874d9)&&_0x3874d9['getEnabledChannels']()[_0x33afb8(0x7f5)](_0x5a887a)&&_0x3874d9[_0x33afb8(0x5e2)](_0x59bc2e,{'vendorId':this[_0x33afb8(0x203)],'nodeId':'','nodeType':'','data':{'channel':_0x5a887a,..._0x212502}});}));}[_0x4bc902(0x7eb)](_0x237c46,_0x95882f){const _0x476b0d=_0x4bc902;if(!this[_0x476b0d(0x73c)])return;const _0xd2f47c={'vendorId':this['vendorId'],..._0x95882f};this[_0x476b0d(0x73c)]['forEach'](_0x13fecf=>{_0x13fecf['log'](_0x237c46,_0xd2f47c);});}[_0x4bc902(0x927)](_0x26ac4b,_0x349170){this['createBatchOperation'](_0x26ac4b,_0x349170),this['logBatch']();}[_0x4bc902(0x3f7)](_0x222b54,_0x27b15a,_0x305eac){const _0x39a4c4=_0x4bc902;(0x0,_0x456efb[_0x39a4c4(0x9ef)])((0x0,_0x456efb[_0x39a4c4(0x22d)])(_0x14b3ac[_0x39a4c4(0x6c4)](),_0x39a4c4(0x217)+this['vendorId']+'/'+_0x222b54+'/'+_0x27b15a),{'storage':_0x305eac,'timestamp':(0x0,_0x456efb[_0x39a4c4(0x5e8)])()});}[_0x4bc902(0x409)](){const _0x481313=_0x4bc902;this[_0x481313(0x800)]&&(this[_0x481313(0x800)][_0x481313(0x25c)]+=0x1,this[_0x481313(0x800)]['counter']===this['batchSize']?this[_0x481313(0x1fe)]():this[_0x481313(0x655)]||(this[_0x481313(0x655)]=this[_0x481313(0x1bb)][_0x481313(0x5a3)](()=>this[_0x481313(0x1fe)](),this[_0x481313(0x172)])));}async['processBatch'](){const _0x342c8a=_0x4bc902;if(this[_0x342c8a(0x800)]){for(this[_0x342c8a(0x9c9)][_0x342c8a(0x5b2)](this[_0x342c8a(0x800)]),this[_0x342c8a(0x800)]=this[_0x342c8a(0x188)]();this[_0x342c8a(0x9c9)][_0x342c8a(0x1d8)]>0x0;){const _0x4b9c24=this['batchQueue'][_0x342c8a(0x47b)]();if(!await this[_0x342c8a(0xa3d)](_0x4b9c24))break;}clearTimeout(this[_0x342c8a(0x655)]),this[_0x342c8a(0x655)]=void 0x0;}}[_0x4bc902(0x1ca)](_0x46fa29,_0x538fc6,..._0x55bd71){const _0x46a853=_0x4bc902;if(console[_0x46a853(0x1ca)](new Date(),_0x46fa29,_0x538fc6,..._0x55bd71),this['loggingConnectors']){const _0x3e261a={'vendorId':this['vendorId'],..._0x538fc6};this[_0x46a853(0x73c)]['forEach'](_0x3a43c4=>{const _0x33ed75=_0x46a853;_0x3a43c4[_0x33ed75(0x1ca)](_0x46fa29,_0x3e261a);});}}[_0x4bc902(0x6b4)](_0x2808be,_0x4247b8,..._0x28d71a){const _0x5a0083=_0x4bc902;if(console[_0x5a0083(0x4da)](new Date(),_0x2808be,_0x4247b8,_0x28d71a),this[_0x5a0083(0x73c)]){const _0x2ba678={'vendorId':this[_0x5a0083(0x203)],..._0x4247b8};this['loggingConnectors'][_0x5a0083(0x105)](_0x54cf60=>{_0x54cf60['warn'](_0x2808be,_0x2ba678);});}}[_0x4bc902(0x364)](_0x4bad53){const _0x442d44=_0x4bc902;return this[_0x442d44(0x155)]['includes'](_0x4bad53);}async[_0x4bc902(0xa3d)](_0x4f0c6d,_0x4aa5ea=0x0){const _0x53cd90=_0x4bc902;if(_0x4f0c6d[_0x53cd90(0x25c)]>0x0)try{return await _0x4f0c6d[_0x53cd90(0x7ac)][_0x53cd90(0x28c)](),!0x0;}catch(_0x47c074){if(console[_0x53cd90(0x1ca)](_0x53cd90(0x4be),_0x47c074,_0x53cd90(0x718),_0x4f0c6d[_0x53cd90(0x25f)]),!(_0x4aa5ea<this[_0x53cd90(0x102)])){const {nodeId:_0x3747c5='',nodeType:_0x29a6e7='',clusterId:_0x193401=''}=_0x4f0c6d[_0x53cd90(0x25f)][0x0][_0x53cd90(0x463)],_0x346699={'nodeId':_0x3747c5,'nodeType':_0x29a6e7,'clusterId':_0x193401,'data':{'operations':_0x4f0c6d[_0x53cd90(0x25f)],'error':_0x47c074}};return this[_0x53cd90(0x1ca)](_0x53cd90(0x2e5),_0x346699),!0x1;}{const _0x145519=this['createBatch'](_0x4f0c6d['operations']);setTimeout(()=>this[_0x53cd90(0xa3d)](_0x145519,_0x4aa5ea+0x1),this['retryDelay']*Math[_0x53cd90(0x7be)](0x2,_0x4aa5ea));}}}['loadEnabledChannels'](){const _0x1fd3c7=_0x4bc902;try{Object['keys'](_0x4f63ff)[_0x1fd3c7(0x105)](_0x2777cc=>{const _0x4e7969=_0x1fd3c7,_0x212e31=_0x2777cc;localStorage[_0x4e7969(0x95e)](_0x4e7969(0x33a)+_0x4f63ff[_0x212e31])&&(console[_0x4e7969(0x5e2)]('LoggingService:\x20logging\x20enabled\x20for',_0x4f63ff[_0x212e31]),this[_0x4e7969(0x155)]['push'](_0x4f63ff[_0x212e31]));});}catch(_0x5a6747){}}[_0x4bc902(0x272)](_0x4464d8){const _0x261236=_0x4bc902;return void 0x0!==_0x4464d8[_0x261236(0x1ec)];}['createNewBatch'](){const _0x1ebcb8=_0x4bc902;return{'batch':(0x0,_0x456efb[_0x1ebcb8(0x95a)])(_0x14b3ac[_0x1ebcb8(0x6c4)]()),'operations':[],'counter':0x0};}[_0x4bc902(0x89b)](_0x5d9179){const _0x319f37=_0x4bc902,_0x3ceb3c=(0x0,_0x456efb[_0x319f37(0x95a)])(_0x14b3ac[_0x319f37(0x6c4)]());return _0x5d9179[_0x319f37(0x105)](_0x2323dc=>this[_0x319f37(0x33f)](_0x3ceb3c,_0x2323dc)),{'batch':_0x3ceb3c,'operations':_0x5d9179,'counter':_0x5d9179['length']};}['addBatchOperation'](_0x1ef3e9,_0x3c3d71){const _0x4ba60a=_0x4bc902;switch(_0x3c3d71[_0x4ba60a(0x1aa)]){case _0x4ba60a(0x179):_0x1ef3e9['set'](_0x3c3d71[_0x4ba60a(0x6ef)],_0x3c3d71[_0x4ba60a(0x463)]);break;case'update':_0x1ef3e9[_0x4ba60a(0x12e)](_0x3c3d71[_0x4ba60a(0x6ef)],_0x3c3d71[_0x4ba60a(0x463)]);break;case _0x4ba60a(0x24c):_0x1ef3e9[_0x4ba60a(0x24c)](_0x3c3d71[_0x4ba60a(0x6ef)]);}}['createBatchOperation'](_0x2b3631,_0x1e7f85){const _0x3da13d=_0x4bc902;this[_0x3da13d(0x800)]||(this[_0x3da13d(0x800)]=this[_0x3da13d(0x188)]());const _0x18384c=(0x0,_0x456efb[_0x3da13d(0x22d)])((0x0,_0x456efb['collection'])(_0x14b3ac[_0x3da13d(0x6c4)](),'developers/'+this['vendorId']+_0x3da13d(0x56f))),_0x3ca833={..._0x1e7f85,'service':_0x2b3631,'timestamp':(0x0,_0x456efb[_0x3da13d(0x5e8)])()},_0x44915b={'type':_0x3da13d(0x179),'path':_0x18384c[_0x3da13d(0x491)],'ref':_0x18384c,'data':_0x3ca833};return this[_0x3da13d(0x800)][_0x3da13d(0x25f)]['push'](_0x44915b),this[_0x3da13d(0x33f)](this['currentBatch'][_0x3da13d(0x7ac)],_0x44915b),_0x18384c;}}const _0x28bf01=_0x5c6f37['getInstance']();function _0x5be4f6(_0xd5f5cd,_0x185bfa){return'/'===_0xd5f5cd?_0xd5f5cd+_0x185bfa:_0xd5f5cd+'/'+_0x185bfa;}function _0x169b23(_0x3f3837){const _0xc5a92f=_0x4bc902,_0x26c901=function(_0x540cc9){const _0x404116=a0_0x4227;return _0x540cc9[_0x404116(0x66b)]('/')['filter'](_0x3e507a=>_0x3e507a['length']>0x0);}(_0x3f3837),_0xa7eced=_0x26c901[_0xc5a92f(0x846)]()||'',_0x10a459=_0x26c901['join']('/');return[0x0===_0x10a459[_0xc5a92f(0x1d8)]?'/':_0x10a459,_0xa7eced];}async function _0xa975ee(_0x3ee300){const _0x3f751f=_0x4bc902;let _0x481392;const _0x50ff43=_0x3ee300[_0x3f751f(0x9e5)]/0x100000;_0x481392=_0x50ff43<=0xa?0x1:_0x50ff43<=0x64?0.5:_0x50ff43<=0x1f4?0.1:0.05;const _0x5d30ad=Math['ceil'](_0x3ee300['size']/_0x5ac434),_0x542856=Math[_0x3f751f(0x2a3)](_0x5d30ad*_0x481392);let _0x36d917=new Uint8Array();for(let _0xa87b34=0x0;_0xa87b34<_0x542856;_0xa87b34++){const _0xace3b3=Math[_0x3f751f(0x84c)](_0xa87b34/_0x542856*_0x3ee300[_0x3f751f(0x9e5)]);let _0x5dc28d=_0xace3b3+_0x5ac434;_0x5dc28d>_0x3ee300[_0x3f751f(0x9e5)]&&(_0x5dc28d=_0x3ee300[_0x3f751f(0x9e5)]);const _0x35f604=_0x3ee300['slice'](_0xace3b3,_0x5dc28d),_0x4de7c4=await _0x35f604[_0x3f751f(0x286)](),_0x387bec=new Uint8Array([..._0x36d917,...new Uint8Array(_0x4de7c4)]);_0x36d917=new Uint8Array(await crypto[_0x3f751f(0x1ea)]['digest'](_0x3f751f(0x32f),_0x387bec));}return Array[_0x3f751f(0x100)](new Uint8Array(_0x36d917))[_0x3f751f(0x8a3)](_0x3b0e53=>_0x3b0e53['toString'](0x10)[_0x3f751f(0x76c)](0x2,'0'))['join']('');}async function*_0x2c0808(_0x1e34d6,_0x21874b=0x0,_0x1ef286){const _0x3ae299=_0x4bc902;let _0x489e82=_0x21874b*_0x51bd59,_0x519f48=_0x1e34d6;for(;_0x489e82<_0x519f48[_0x3ae299(0x9e5)];){let _0x36ec54=_0x489e82+_0x51bd59;_0x36ec54>_0x519f48[_0x3ae299(0x9e5)]&&(_0x36ec54=_0x519f48[_0x3ae299(0x9e5)]);let _0x5c013f=0x0;for(;_0x5c013f<0x14;)try{await _0x1ef286?.();const _0x3d5f60=_0x519f48[_0x3ae299(0x246)](_0x489e82,_0x36ec54,_0x3ae299(0x713)),_0x340da2=await _0x3d5f60[_0x3ae299(0x286)]();yield _0x340da2,_0x489e82=_0x36ec54,await new Promise(_0x18e096=>setTimeout(_0x18e096,0x0));break;}catch(_0x43e097){if(console[_0x3ae299(0x1ca)](_0x3ae299(0x2f7)+(_0x5c013f+0x1)+_0x3ae299(0x7a2),_0x43e097),_0x5c013f++,_0x5c013f>0x14)throw _0x43e097;let _0x423e91=0x3e8*Math[_0x3ae299(0x7be)](0x2,_0x5c013f);_0x423e91>0x7530&&(_0x423e91=0x7530),await new Promise(_0x362960=>setTimeout(_0x362960,_0x423e91));}}}class _0x1c7b24 extends _0x30b3a1{[_0x4bc902(0x682)];[_0x4bc902(0x28a)];['fileChunks']=new Map();[_0x4bc902(0x5b9)]=0x0;[_0x4bc902(0xa27)]=0x0;['bytesSent']=0x0;[_0x4bc902(0x137)]=0x0;constructor(_0x281e34,_0x3cf4aa){super(_0x281e34,_0x3cf4aa);}[_0x4bc902(0x5f1)](){const _0x49cd35=_0x4bc902;return this[_0x49cd35(0x458)];}[_0x4bc902(0x9cb)](){const _0x4f07ac=_0x4bc902;return this[_0x4f07ac(0x458)];}[_0x4bc902(0x892)](){const _0x56a908=_0x4bc902;return _0x3e2379[_0x56a908(0x41f)]['Data'];}[_0x4bc902(0x27c)](){const _0x44dc8b=_0x4bc902;return this[_0x44dc8b(0x458)];}['registerPublisher'](_0x41a74c){const _0x323de9=_0x4bc902;if(this[_0x323de9(0x682)])throw new _0x3d0311(_0x3d0311[_0x323de9(0x85e)]['InvalidPublisher'],{'message':_0x323de9(0x7c8)+this[_0x323de9(0xa2c)]['getId']()+_0x323de9(0x195)+this['label'],'topic':this['outgoingTopic']});this[_0x323de9(0x682)]=_0x41a74c;}[_0x4bc902(0x953)](_0x5964cc){const _0x2ac8ff=_0x4bc902;if(this['incomingTopic'])throw new _0x3d0311(_0x3d0311['codes'][_0x2ac8ff(0x365)],{'message':_0x2ac8ff(0x46b)+this[_0x2ac8ff(0xa2c)][_0x2ac8ff(0x68a)]()+_0x2ac8ff(0x195)+this['label'],'topic':this[_0x2ac8ff(0x28a)]});this[_0x2ac8ff(0x28a)]=_0x5964cc;}[_0x4bc902(0x6e8)](){const _0x1f5f05=_0x4bc902;delete this[_0x1f5f05(0x682)];}[_0x4bc902(0x5fa)](){const _0x384cf6=_0x4bc902;delete this[_0x384cf6(0x28a)];}async[_0x4bc902(0x890)](_0x3f4a2a,_0x270aeb){const _0x299fb0=_0x4bc902;if(_0x28bf01[_0x299fb0(0x5e2)](_0x4f63ff[_0x299fb0(0x57e)],_0x299fb0(0x877),this['owner']['getId'](),_0x3f4a2a,_0x270aeb),this[_0x299fb0(0x5b9)]+=0x1,_0x3f4a2a instanceof File){const _0x2887bb=await async function(_0x3065cd){const _0x323730=[];for await(const _0x4e9951 of _0x2c0808(_0x3065cd))_0x323730['push'](_0x4e9951);return _0x323730;}(_0x3f4a2a);return this[_0x299fb0(0x61c)]+=_0x2887bb[_0x299fb0(0x214)]((_0x2a81c2,_0x4bb728)=>_0x2a81c2+_0x4bb728[_0x299fb0(0x82d)],0x0),void _0x2887bb[_0x299fb0(0x105)]((_0x318546,_0x3b2a1e)=>{const _0x28fd9b=_0x299fb0;this[_0x28fd9b(0x682)][_0x28fd9b(0x912)]({'sourceId':this[_0x28fd9b(0xa2c)][_0x28fd9b(0x68a)](),'destinationIds':_0x270aeb,'propagate':!0x0,'contentType':_0x3e2379[_0x28fd9b(0x41f)][_0x28fd9b(0x734)],'content':{'name':_0x3f4a2a['name'],'type':_0x3f4a2a[_0x28fd9b(0x1aa)],'data':_0x318546,'index':_0x3b2a1e,'total':_0x2887bb['length']}});});}this[_0x299fb0(0x61c)]+=JSON[_0x299fb0(0x80e)](_0x3f4a2a)[_0x299fb0(0x1d8)],this[_0x299fb0(0x682)][_0x299fb0(0x912)]({'sourceId':this[_0x299fb0(0xa2c)][_0x299fb0(0x68a)](),'destinationIds':_0x270aeb,'propagate':!0x0,'contentType':_0x3e2379['ContentType'][_0x299fb0(0x83c)],'content':_0x3f4a2a});}[_0x4bc902(0x4d9)](_0x59e7b5){const _0x787a7c=_0x4bc902;return this['incomingTopic'][_0x787a7c(0x9e4)](_0x2ed6f=>{const _0x18e117=_0x787a7c;switch(_0x28bf01['log'](_0x4f63ff[_0x18e117(0x57e)],_0x18e117(0x353),this[_0x18e117(0xa2c)]['getId'](),_0x2ed6f),_0x2ed6f[_0x18e117(0x2f0)]){case _0x3e2379[_0x18e117(0x41f)][_0x18e117(0x83c)]:this[_0x18e117(0xa27)]+=0x1,this[_0x18e117(0x137)]+=JSON[_0x18e117(0x80e)](_0x2ed6f[_0x18e117(0xa0d)])['length'],_0x59e7b5(_0x2ed6f[_0x18e117(0x86d)],_0x2ed6f[_0x18e117(0xa0d)]);break;case _0x3e2379['ContentType'][_0x18e117(0x734)]:this[_0x18e117(0x901)][_0x18e117(0x5f9)](_0x2ed6f[_0x18e117(0xa0d)]['name'])||this[_0x18e117(0x901)][_0x18e117(0x179)](_0x2ed6f[_0x18e117(0xa0d)][_0x18e117(0x89d)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x306b4b=this[_0x18e117(0x901)][_0x18e117(0x985)](_0x2ed6f[_0x18e117(0xa0d)]['name']);if(_0x306b4b[_0x18e117(0x6f5)]+=0x1,_0x306b4b[_0x18e117(0x137)]+=_0x2ed6f[_0x18e117(0xa0d)]['data'][_0x18e117(0x82d)],_0x306b4b[_0x18e117(0xa0d)]&&(_0x306b4b[_0x18e117(0xa0d)][_0x2ed6f[_0x18e117(0xa0d)][_0x18e117(0x3c7)]]=_0x2ed6f[_0x18e117(0xa0d)][_0x18e117(0x463)]),this[_0x18e117(0x901)][_0x18e117(0x179)](_0x2ed6f[_0x18e117(0xa0d)][_0x18e117(0x89d)],_0x306b4b),_0x306b4b['chunksReceived']+0x1<_0x2ed6f[_0x18e117(0xa0d)][_0x18e117(0x29e)])return;this['messagesReceived']+=0x1,this[_0x18e117(0x137)]+=_0x306b4b[_0x18e117(0x137)],_0x306b4b[_0x18e117(0xa0d)]&&_0x59e7b5(_0x2ed6f['sourceId'],(_0x1791da=_0x306b4b[_0x18e117(0xa0d)],_0x1383b5=_0x2ed6f[_0x18e117(0xa0d)][_0x18e117(0x89d)],_0x1b03e3=_0x2ed6f[_0x18e117(0xa0d)]['type'],new File(_0x1791da,_0x1383b5,{'type':_0x1b03e3}))),this[_0x18e117(0x901)][_0x18e117(0x24c)](_0x2ed6f['content'][_0x18e117(0x89d)]);}var _0x1791da,_0x1383b5,_0x1b03e3;});}}function _0x545df6(){const _0x3872e2=_0x4bc902;let _0x219754=[];return{'subscribe':_0x45d4d2=>(_0x219754[_0x3872e2(0x5b2)](_0x45d4d2),()=>{const _0x2466dc=_0x3872e2;_0x219754=_0x219754[_0x2466dc(0x6f4)](_0x3d9c8e=>_0x3d9c8e!==_0x45d4d2);}),'publish':_0x472f2a=>{const _0x49ed8b=_0x3872e2;_0x219754[_0x49ed8b(0x105)](_0xb1b6b5=>_0xb1b6b5(_0x472f2a));}};}function _0x3359b0(){let _0x3b8f3a;return{'subscribe':_0x5b907e=>(_0x3b8f3a=_0x5b907e,()=>{_0x3b8f3a=void 0x0;}),'publish':_0x3cad0e=>{_0x3b8f3a&&_0x3b8f3a(_0x3cad0e);}};}class _0x466759{[_0x4bc902(0x6ab)];[_0x4bc902(0x477)];[_0x4bc902(0x34e)];[_0x4bc902(0x70c)]=_0x3359b0();['listenerUnsubscriber'];constructor(_0xe80d17,_0x4c4f2e,_0x20d5d4){const _0x1ed883=_0x4bc902;this[_0x1ed883(0x6ab)]=_0xe80d17,this['tableName']=_0x4c4f2e,this[_0x1ed883(0x34e)]=_0x20d5d4;}[_0x4bc902(0x42d)](){this['listenerUnsubscriber']?.();}async[_0x4bc902(0x985)](_0x19237f){const _0x195d35=_0x4bc902,_0x4a3622={'key':_0x19237f,'tableName':this[_0x195d35(0x477)],'action':_0x1744ca[_0x195d35(0x3a6)]};return this[_0x195d35(0x34e)]['publish'](_0x4a3622),this['connector'][_0x195d35(0x985)](_0x19237f);}async[_0x4bc902(0x179)](_0x18db47,_0x4afc66,_0xeb7d98=!0x0){const _0x13aaff=_0x4bc902;this[_0x13aaff(0x6c5)](_0x4afc66);const _0x11442d=await this[_0x13aaff(0x6ab)][_0x13aaff(0x985)](_0x18db47),_0x4334b5=await this[_0x13aaff(0x6ab)][_0x13aaff(0x179)](_0x18db47,_0x4afc66),_0x2aab7e=_0x11442d?_0x5591d0[_0x13aaff(0x4ea)]:_0x5591d0[_0x13aaff(0x3a2)];if(this[_0x13aaff(0x912)](_0x2aab7e,_0x4334b5),!_0xeb7d98)return _0x4334b5;const _0x26c011={'key':_0x18db47,'tableName':this[_0x13aaff(0x477)],'action':_0x2aab7e,'value':_0x4334b5};return this[_0x13aaff(0x34e)]['publish'](_0x26c011),_0x4334b5;}async['add'](_0x2dc69a){const _0x497f27=_0x4bc902;this[_0x497f27(0x6c5)](_0x2dc69a);const _0x4422db=await this[_0x497f27(0x6ab)][_0x497f27(0xa19)](_0x2dc69a),_0x2ba2e2={'key':_0x4422db['id'],'tableName':this['tableName'],'action':_0x5591d0[_0x497f27(0x3a2)],'value':_0x4422db};return this[_0x497f27(0x34e)][_0x497f27(0x912)](_0x2ba2e2),this[_0x497f27(0x912)](_0x2ba2e2['action'],_0x4422db),_0x4422db;}async['delete'](_0xf78b4f,_0x17ab70=!0x0){const _0x16d5c2=_0x4bc902,_0x2f8b0f=await this[_0x16d5c2(0x6ab)][_0x16d5c2(0x985)](_0xf78b4f);if(!_0x2f8b0f)return;await this[_0x16d5c2(0x6ab)][_0x16d5c2(0x24c)](_0xf78b4f);const _0x3a775a=_0x5591d0['Delete'];if(this[_0x16d5c2(0x912)](_0x3a775a,_0x2f8b0f),!_0x17ab70)return;const _0x432e27={'key':_0xf78b4f,'tableName':this[_0x16d5c2(0x477)],'action':_0x3a775a,'value':_0x2f8b0f};this[_0x16d5c2(0x34e)][_0x16d5c2(0x912)](_0x432e27);}async[_0x4bc902(0x984)](){const _0x1a5216=_0x4bc902,_0x59e72c=await this[_0x1a5216(0x60e)]();for(const _0x30d07b of _0x59e72c){const _0x532f8a=_0x5591d0['Delete'];this[_0x1a5216(0x912)](_0x532f8a,_0x30d07b);const _0xb01efb={'key':_0x30d07b['id'],'tableName':this[_0x1a5216(0x477)],'action':_0x532f8a,'value':_0x30d07b};this[_0x1a5216(0x34e)][_0x1a5216(0x912)](_0xb01efb);}return this[_0x1a5216(0x6ab)][_0x1a5216(0x984)]();}async[_0x4bc902(0x60e)](_0x3712e4){const _0x3741c9=_0x4bc902,_0x25d0fb={'key':'','tableName':this[_0x3741c9(0x477)],'action':_0x1744ca['List']};this['tableObserver'][_0x3741c9(0x912)](_0x25d0fb);try{_0x3712e4&&(_0x3712e4=_0x3712e4 instanceof _0x35f166?_0x3712e4[_0x3741c9(0x798)]():_0x35f166[_0x3741c9(0x5bb)](_0x3712e4)[_0x3741c9(0x798)]());}catch(_0x57d608){throw new _0x4b6430(_0x2bb2b4['KeyValueDatabaseInvalidQuery'],_0x3741c9(0x18d));}try{return await this[_0x3741c9(0x6ab)][_0x3741c9(0x60e)](_0x3712e4);}catch(_0x563a85){let _0x3f8269=_0x3741c9(0x18d);throw _0x563a85 instanceof Error&&(_0x3f8269=_0x563a85[_0x3741c9(0x793)]),new _0x4b6430(_0x2bb2b4['KeyValueDatabaseInvalidQuery'],_0x3f8269);}}async['count'](_0x54f0ae){const _0x768b6e=_0x4bc902,_0x4b894d={'key':'','tableName':this[_0x768b6e(0x477)],'action':_0x1744ca[_0x768b6e(0x62f)]};this[_0x768b6e(0x34e)][_0x768b6e(0x912)](_0x4b894d);try{_0x54f0ae&&(_0x54f0ae=_0x54f0ae instanceof _0x35f166?_0x54f0ae[_0x768b6e(0x798)]():_0x35f166['buildQuery'](_0x54f0ae)[_0x768b6e(0x798)]());}catch(_0x599aed){throw new _0x4b6430(_0x2bb2b4[_0x768b6e(0x857)],'Invalid\x20query');}try{return await this[_0x768b6e(0x6ab)][_0x768b6e(0xfe)](_0x54f0ae);}catch(_0x2e1264){let _0x116960=_0x768b6e(0x18d);throw _0x2e1264 instanceof Error&&(_0x116960=_0x2e1264['message']),new _0x4b6430(_0x2bb2b4[_0x768b6e(0x857)],_0x116960);}}[_0x4bc902(0x5cb)](){const _0x2b1919=_0x4bc902;return this[_0x2b1919(0x6ab)][_0x2b1919(0x5cb)]();}['subscribe'](_0x45216c){const _0x28486b=_0x4bc902;this['listenerUnsubscriber']=this[_0x28486b(0x70c)][_0x28486b(0x9e4)](_0x45216c);}[_0x4bc902(0x80f)](){const _0x2f61f0=_0x4bc902;this[_0x2f61f0(0x396)]?.();}[_0x4bc902(0x912)](_0x4fbbf7,_0x2683ad){const _0x316067=_0x4bc902,_0x4f76c9=this['buildTableEvent'](_0x4fbbf7,_0x2683ad);this[_0x316067(0x70c)]['publish'](_0x4f76c9);}['buildTableEvent'](_0x22a7c7,_0x1ea7bd){const _0x2b7cb3=_0x4bc902;let _0xd8367e;switch(_0x22a7c7){case _0x5591d0[_0x2b7cb3(0x3a2)]:_0xd8367e=_0x2b7cb3(0xa19);break;case _0x5591d0[_0x2b7cb3(0x4ea)]:_0xd8367e=_0x2b7cb3(0x12e);break;case _0x5591d0[_0x2b7cb3(0x5c1)]:_0xd8367e=_0x2b7cb3(0x24c);}return{'action':_0xd8367e,'value':_0x1ea7bd};}['validateValue'](_0x3f4189){const _0xce9b9e=_0x4bc902;if(_0xce9b9e(0x14f)!=typeof _0x3f4189||null===_0x3f4189)throw new _0x4b6430(_0x2bb2b4[_0xce9b9e(0x1f7)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x5d9664 in _0x3f4189){const _0x3ece4d=_0x3f4189[_0x5d9664];if(_0xce9b9e(0x14f)!=typeof _0x3ece4d||_0x3ece4d instanceof Date){if(![_0xce9b9e(0x351),_0xce9b9e(0x127),'boolean'][_0xce9b9e(0x7f5)](typeof _0x3ece4d))throw new _0x4b6430(_0x2bb2b4[_0xce9b9e(0x1f7)],_0xce9b9e(0x721)+_0x5d9664+_0xce9b9e(0x74a));}else this[_0xce9b9e(0x6c5)](_0x3ece4d);}}}class _0x56515a{[_0x4bc902(0x53c)]=[];[_0x4bc902(0x1c1)]=0x0;[_0x4bc902(0x331)]=[];[_0x4bc902(0x5e9)]=!0x1;[_0x4bc902(0x9fc)]=null;[_0x4bc902(0x7ee)]=null;[_0x4bc902(0x762)];[_0x4bc902(0x57d)]=null;['readyPromises']=[];['debounceReadyTimeout'];['_ready']=Promise[_0x4bc902(0x97e)]();[_0x4bc902(0x98e)]=0x0;constructor(){}get['ready'](){return this['_ready'];}async[_0x4bc902(0x5e6)](_0x19eba3,_0x44b7bc=0x0){const _0x2df235=_0x4bc902;this[_0x2df235(0x57d)]||(this[_0x2df235(0x49e)]=new Promise(_0x438a2c=>{const _0x38f794=_0x2df235;this[_0x38f794(0x57d)]=_0x438a2c;}),this[_0x2df235(0x98e)]=_0x44b7bc);const _0x49beaa=Date[_0x2df235(0xa09)]();if(this['isComputingMMR'])return void this[_0x2df235(0x331)][_0x2df235(0x5b2)](_0x19eba3);this[_0x2df235(0x5e9)]=!0x0;let _0x844e81={'hash':await this[_0x2df235(0x6aa)](_0x19eba3),'height':0x0};const _0x1734a6=this['combinePeaks'](_0x844e81);this[_0x2df235(0x9f5)][_0x2df235(0x5b2)](_0x1734a6),await _0x1734a6,this[_0x2df235(0x1c1)]+=0x1;const _0x45e1a9=this['transactionQueue'][_0x2df235(0x1d8)];for(;this[_0x2df235(0x331)][_0x2df235(0x1d8)]>0x0;){const _0x2d6406=this[_0x2df235(0x331)][_0x2df235(0x47b)]();await this['appendTransaction'](_0x2d6406);}this[_0x2df235(0x136)](),await this[_0x2df235(0x720)],this[_0x2df235(0x633)](_0x49beaa,_0x45e1a9);}async[_0x4bc902(0x50a)](){const _0xe57c5d=_0x4bc902;return await this[_0xe57c5d(0x49e)],this['isComputingMMR']?(this[_0xe57c5d(0x7ee)]||(this[_0xe57c5d(0x7ee)]=this['recomputeRoot']()),await this[_0xe57c5d(0x7ee)]):this[_0xe57c5d(0x9fc)];}['getPeaks'](){const _0x7276a1=_0x4bc902;return this[_0x7276a1(0x53c)]['map'](({hash:_0x145b0d,height:_0x12beaf})=>({'hash':_0x145b0d,'height':_0x12beaf}));}[_0x4bc902(0x355)](){const _0x20ab62=_0x4bc902;return this[_0x20ab62(0x1c1)];}[_0x4bc902(0x1fb)](_0xfdf16c){const _0x599529=_0x4bc902;return this['peaks'][_0x599529(0x731)](_0x6a4fe3=>_0x6a4fe3[_0x599529(0x7da)]===_0xfdf16c);}async[_0x4bc902(0x6d5)](_0x1136eb,_0x40a604){const _0x30bb1d=_0x4bc902;return await this[_0x30bb1d(0x967)](_0x1136eb+_0x40a604);}async[_0x4bc902(0x6aa)](_0xf54213){const _0x5cfd88=_0x4bc902;return await this[_0x5cfd88(0x967)](JSON['stringify'](_0xf54213));}[_0x4bc902(0x1f4)](_0x570867){const _0x1699ab=_0x4bc902,_0x3c52ba=this[_0x1699ab(0xa16)](),_0x31fc77=[],_0x2bdf2c=[],_0x561f1e=[];for(const _0x548bee of _0x3c52ba){const _0x4261d3=_0x570867['find'](_0x17ec3f=>_0x17ec3f[_0x1699ab(0x7da)]===_0x548bee[_0x1699ab(0x7da)]);_0x4261d3?_0x548bee[_0x1699ab(0x44c)]!==_0x4261d3[_0x1699ab(0x44c)]&&_0x31fc77[_0x1699ab(0x5b2)]({'height':_0x548bee[_0x1699ab(0x7da)],'localPeak':_0x548bee,'remotePeak':_0x4261d3}):_0x2bdf2c[_0x1699ab(0x5b2)](_0x548bee);}for(const _0x4348ad of _0x570867)_0x3c52ba[_0x1699ab(0x731)](_0x304d37=>_0x304d37[_0x1699ab(0x7da)]===_0x4348ad[_0x1699ab(0x7da)])||_0x561f1e[_0x1699ab(0x5b2)](_0x4348ad);return{'differingPeaks':_0x31fc77,'peaksMissingInRemote':_0x2bdf2c,'peaksMissingInLocal':_0x561f1e};}async['recomputeRoot'](){const _0xe9b503=_0x4bc902;this[_0xe9b503(0x5e9)]=!0x0;const _0x527760=this[_0xe9b503(0x53c)][_0xe9b503(0x8a3)](_0x12d509=>_0x12d509['hash']);return this[_0xe9b503(0x9fc)]=await this[_0xe9b503(0x15b)](_0x527760),this['isComputingMMR']=!0x1,this[_0xe9b503(0x7ee)]=null,this[_0xe9b503(0x136)](),this[_0xe9b503(0x9fc)];}async[_0x4bc902(0x967)](_0x2a7f53){const _0x44c511=_0x4bc902;try{const _0x1da21f=new TextEncoder()[_0x44c511(0x2ca)](_0x2a7f53),_0x10611b=await crypto[_0x44c511(0x1ea)]['digest'](_0x44c511(0x32f),_0x1da21f);return Array[_0x44c511(0x100)](new Uint8Array(_0x10611b))[_0x44c511(0x8a3)](_0x46ca1c=>_0x46ca1c[_0x44c511(0x5db)](0x10)[_0x44c511(0x76c)](0x2,'0'))[_0x44c511(0x696)]('');}catch(_0x4ceb38){return console['error'](_0x44c511(0x40d),_0x4ceb38),this['computeHash'](_0x2a7f53);}}async[_0x4bc902(0x15b)](_0x5eb190){const _0x15b6fa=_0x4bc902;return await this[_0x15b6fa(0x967)](_0x5eb190[_0x15b6fa(0x696)](''));}async[_0x4bc902(0x8df)](_0x66c105){const _0x351b5c=_0x4bc902;for(;this[_0x351b5c(0x53c)][_0x351b5c(0x1d8)]>0x0&&this[_0x351b5c(0x53c)][this[_0x351b5c(0x53c)]['length']-0x1][_0x351b5c(0x7da)]===_0x66c105[_0x351b5c(0x7da)];){const _0x59f1ca=this[_0x351b5c(0x53c)]['pop']();_0x66c105={'hash':await this['hashNodes'](_0x59f1ca[_0x351b5c(0x44c)],_0x66c105['hash']),'left':_0x59f1ca,'right':_0x66c105,'height':_0x66c105[_0x351b5c(0x7da)]+0x1};}this['peaks']['push'](_0x66c105),await this[_0x351b5c(0x4aa)]();}[_0x4bc902(0x633)](_0x49460b,_0x8bfcbf){const _0x281519=_0x4bc902;if(!_0x28bf01[_0x281519(0x364)](_0x4f63ff[_0x281519(0x622)]))return;this['debounceLogTimeout']&&clearTimeout(this['debounceLogTimeout']);const _0x4ceb17=Date[_0x281519(0xa09)]();this['debounceLogTimeout']=setTimeout(()=>_0x28bf01[_0x281519(0x5e2)](_0x4f63ff[_0x281519(0x622)],_0x281519(0x67b),this[_0x281519(0x9fc)],_0x281519(0x991),this[_0x281519(0x355)](),_0x281519(0x499),_0x8bfcbf,_0x281519(0x6ca),_0x4ceb17-_0x49460b),0x7d0);}[_0x4bc902(0x136)](){const _0x47a592=_0x4bc902;this[_0x47a592(0xa01)]&&clearTimeout(this[_0x47a592(0xa01)]),this[_0x47a592(0xa01)]=setTimeout(async()=>{const _0x11a317=_0x47a592;try{const _0xe5e42d=this[_0x11a317(0x9f5)];if(this[_0x11a317(0x9f5)]=[],await Promise['all'](_0xe5e42d),this[_0x11a317(0x98e)]-=_0xe5e42d[_0x11a317(0x1d8)],this[_0x11a317(0x9f5)][_0x11a317(0x1d8)]>0x0||this['expectedTransactions']>0x0)return this[_0x11a317(0x136)]();this['readyResolve']&&(this[_0x11a317(0x57d)](),this['readyResolve']=null),this[_0x11a317(0x49e)]=Promise[_0x11a317(0x97e)](),this['isComputingMMR']=!0x1;}catch(_0x148470){console[_0x11a317(0x1ca)](_0x11a317(0x325),_0x148470);}},0xa);}}const _0x560230=[_0x4bc902(0x27f),_0x4bc902(0x4c0),'Content','Subscription',_0x4bc902(0x5c2),_0x4bc902(0x8ce),'Remediation'],_0x5814fe=[[_0x4bc902(0x48f),_0x4bc902(0x36d),_0x4bc902(0x29f),_0x4bc902(0x690),'NeedRestart',_0x4bc902(0x48e),'Disconnect',_0x4bc902(0x5c2),_0x4bc902(0x13d)],[_0x4bc902(0x601),_0x4bc902(0x336),_0x4bc902(0x4d8),_0x4bc902(0x8b7)],[_0x4bc902(0x452),_0x4bc902(0x697),_0x4bc902(0x781),'CloseExternalStorageConnection',_0x4bc902(0x4db),_0x4bc902(0x722),_0x4bc902(0x742),_0x4bc902(0x9dd),_0x4bc902(0x763),_0x4bc902(0x595),'GenerativeAIContextStats',_0x4bc902(0x228),_0x4bc902(0x222),_0x4bc902(0x6e5),_0x4bc902(0x30a),_0x4bc902(0x875),_0x4bc902(0x5d6),_0x4bc902(0x199),_0x4bc902(0x994),_0x4bc902(0x440),_0x4bc902(0x5a0),_0x4bc902(0x1f0),'PubSubTopicStats',_0x4bc902(0x5a5),_0x4bc902(0x73e),_0x4bc902(0x88e),_0x4bc902(0x8eb),_0x4bc902(0xa15),_0x4bc902(0x562),_0x4bc902(0x263)],[_0x4bc902(0x88e),_0x4bc902(0x562),_0x4bc902(0x997),_0x4bc902(0x52d),'CannotProvideMediaStream','MediaStreamUnavailable'],['StreamReport',_0x4bc902(0x905)],[_0x4bc902(0x957)],[_0x4bc902(0x5c8),_0x4bc902(0x77a)]];function _0x545e5f(_0x39223c){const _0xcdaf35=_0x4bc902;return{..._0x39223c,'systemMessageType':_0x560230[_0x39223c[_0xcdaf35(0x113)]],'systemContentMessageType':_0x5814fe[_0x39223c[_0xcdaf35(0x113)]][_0x39223c[_0xcdaf35(0xa0d)]['type']]};}const _0x867e21={'hour':'2-digit','minute':_0x4bc902(0x6ed),'second':_0x4bc902(0x6ed)};function _0x1d8b9c(_0x11a845,_0xa42ff){const _0x15bd58=_0x4bc902,_0x1e00bf=(function(){const _0x34c130=a0_0x4227,_0x264fa1=new Date(),_0x14f5f2=_0x264fa1[_0x34c130(0x35b)](),_0x59185c=_0x264fa1[_0x34c130(0x429)](_0x34c130(0x52a),_0x867e21)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x59185c+'.'+(_0x14f5f2>0x64?''+_0x14f5f2:_0x14f5f2>0xa?'0'+_0x14f5f2:'00'+_0x14f5f2);}()),{sourceId:_0x336bda,destinationIds:_0x257f3e,systemMessageType:_0x5912ce,systemContentMessageType:_0x1587a2}=_0x545e5f(_0x11a845);return _0x1e00bf+_0x15bd58(0x195)+_0xa42ff+_0x15bd58(0x195)+(_0x336bda===_0xa42ff?'Sending\x20\x27'+_0x5912ce+_0x15bd58(0x225)+(_0x257f3e?''+_0x257f3e:'everyone'):_0x11a845['sourceId']===_0x2da599?_0x15bd58(0x4ac)+_0x5912ce+'\x27':(_0x257f3e?'':_0x15bd58(0x416))+_0x15bd58(0xa36)+_0x5912ce+_0x15bd58(0x2b6)+_0x336bda)+'\x20with\x20\x27'+_0x1587a2+'\x27\x20payload:';}function _0xf7b321(_0x3c97a8,_0x278c29){const _0x335667=_0x4bc902;if(!_0x28bf01['isChannelEnabled'](_0x3c97a8))return;if(_0x1823f0[_0x335667(0x8e1)])return;if('undefined'==typeof process)return;const _0x359df2=process['memoryUsage']();console['log'](_0x335667(0x4f0)+_0x278c29+':');for(const _0xe1eaab in _0x359df2)console[_0x335667(0x5e2)]('\x20\x20'+_0xe1eaab+':\x20'+(_0x359df2[_0xe1eaab]/0x400/0x400)['toFixed'](0x2)+_0x335667(0x7dc));}function _0x5426f9(_0x4b0d51,_0x265200){const _0x40ed93=_0x4bc902;if(!_0x28bf01[_0x40ed93(0x364)](_0x265200))return _0x28bf01[_0x40ed93(0x1b7)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x265200),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x4ab741,_0x5e330a)=>_0x5e330a}};let _0x53c314=0x0;return{'timingLogger':((()=>{const _0x20c250=_0x40ed93;let _0x3c8155=Date['now']();return{'start':()=>{const _0x345c5a=a0_0x4227;_0x3c8155=Date[_0x345c5a(0xa09)]();},'now':()=>Date[_0x20c250(0xa09)](),'logWaitTime':_0x2d85f9=>{const _0x363be6=_0x20c250;_0x53c314+=Date[_0x363be6(0xa09)]()-_0x3c8155,_0x28bf01[_0x363be6(0x5e2)](_0x265200,_0x2d85f9,_0x53c314+'ms',_0x4b0d51);}};})()),'logger':{'log':(_0x48f1a5,_0x24b66c=()=>{})=>{const _0x3f5b7b=_0x40ed93,_0x476a7d=_0x24b66c();_0x476a7d?_0x28bf01[_0x3f5b7b(0x5e2)](_0x265200,_0x48f1a5,_0x476a7d,_0x4b0d51):_0x28bf01[_0x3f5b7b(0x5e2)](_0x265200,_0x48f1a5,_0x4b0d51);},'performCalculation':(_0x24f63b,_0x50c843)=>_0x24f63b()}};}function _0x4cf439(_0xa9bf80){const _0x4f4788=_0x4bc902;return _0x4f4788(0x609)==typeof Buffer?0x0:Buffer['byteLength'](JSON['stringify'](_0xa9bf80),_0x4f4788(0x133));}function _0x757293(_0x3f6285){const _0x58ed9d=_0x4bc902;if(0x0===_0x3f6285)return _0x58ed9d(0x8f1);const _0x16115b=Math[_0x58ed9d(0x84c)](Math[_0x58ed9d(0x5e2)](_0x3f6285)/Math[_0x58ed9d(0x5e2)](0x400));return parseFloat((_0x3f6285/Math[_0x58ed9d(0x7be)](0x400,_0x16115b))[_0x58ed9d(0x5c6)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x16115b];}class _0x510500 extends _0x1c7b24{[_0x4bc902(0x8cc)];[_0x4bc902(0x6a2)];['vendorId'];[_0x4bc902(0x764)];['db'];[_0x4bc902(0x98a)];[_0x4bc902(0x885)]=new Map();[_0x4bc902(0x34e)];['transactionTable'];[_0x4bc902(0x10d)];['isSync'];['syncResolve'];[_0x4bc902(0x678)]=[];[_0x4bc902(0x714)]=()=>{};[_0x4bc902(0x845)];[_0x4bc902(0x70c)]=_0x3359b0();[_0x4bc902(0x396)];[_0x4bc902(0x43f)]=[];['layout'];[_0x4bc902(0x4fb)];[_0x4bc902(0x789)]=0x0;[_0x4bc902(0x8a9)]=0x0;[_0x4bc902(0x8d3)]=!0x1;[_0x4bc902(0x1d0)]=new _0x56515a();['transactionHashMap']=new Map();[_0x4bc902(0x3dd)]=[];['debounceRebuildMMR'];['transactionsToAppend']=[];[_0x4bc902(0x1ed)];constructor(_0xdcd298,_0x49b3cc,_0xaef9c5,_0x5af628,_0x5d8943,_0x59ad49,_0x16e5b1){const _0x2ad868=_0x4bc902;if(_0x2ad868(0x351)!=typeof _0x49b3cc)throw new _0x4b6430(_0x2bb2b4[_0x2ad868(0x51b)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0xdcd298,_0x49b3cc),this[_0x2ad868(0x8cc)]=_0xdcd298,this['clusterId']=_0xaef9c5,this[_0x2ad868(0x203)]=_0x5af628,this[_0x2ad868(0x764)]=_0x16e5b1,this[_0x2ad868(0x98a)]=_0x2ad868(0x378)+this[_0x2ad868(0x203)]+_0x2ad868(0x378)+this[_0x2ad868(0x6a2)]+'ccc'+this[_0x2ad868(0x458)],this[_0x2ad868(0x34e)]=_0x3359b0(),this[_0x2ad868(0x1ed)]=function(_0x27f713,_0x584464){const _0x2c9eda=_0x2ad868;if(!_0x28bf01['isChannelEnabled'](_0x584464))return _0x28bf01[_0x2c9eda(0x1b7)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x584464),{..._0x5426f9(_0x27f713,_0x584464),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x2c9eda(0x8f1),'dataReceived':'0\x20B'})};const {timingLogger:_0x25855c,logger:_0x32b33f}=_0x5426f9(_0x27f713,_0x584464);let _0x430c48=0x0,_0x3b1f2c=0x0;return{'timingLogger':_0x25855c,'logger':_0x32b33f,'logDataSent':(_0x1ce411,_0x93fb22=!0x1)=>{const _0x38c488=_0x2c9eda,_0x50d77e=_0x4cf439(_0x1ce411);return _0x93fb22&&_0x28bf01[_0x38c488(0x5e2)](_0x584464,'Data\x20Sent',_0x27f713,_0x50d77e),_0x430c48+=_0x50d77e,_0x50d77e;},'logDataReceived':(_0x3a4c1a,_0x53387c=!0x1)=>{const _0x932424=_0x2c9eda,_0x39d82d=_0x4cf439(_0x3a4c1a);return _0x53387c&&_0x28bf01[_0x932424(0x5e2)](_0x584464,'Data\x20Received',_0x27f713,_0x39d82d),_0x3b1f2c+=_0x39d82d,_0x39d82d;},'getDataLogged':()=>({'dataSent':_0x757293(_0x430c48),'dataReceived':_0x757293(_0x3b1f2c)})};}(this[_0x2ad868(0x458)],_0x4f63ff['KeyValueDatabase']),this[_0x2ad868(0x252)]=new Promise(_0x2413b3=>{const _0x546156=_0x2ad868;this[_0x546156(0x465)]=_0x2413b3;}),_0x5d8943 instanceof _0x57183a)this[_0x2ad868(0x7fa)]=_0x5d8943[_0x2ad868(0x508)]();else{const [_0x1d434c,_0x49bc67]=_0x57183a['validateLayout'](_0x5d8943);if(!_0x1d434c)throw new _0x4b6430(_0x2bb2b4['KeyValueDatabaseInvalidLayout'],_0x2ad868(0x5f3)+_0x49bc67);this['layout']=structuredClone(_0x5d8943);}this[_0x2ad868(0x38b)](this[_0x2ad868(0x7fa)]),this['db']=new _0x59ad49(this['dbKey'],this[_0x2ad868(0x7fa)]),this[_0x2ad868(0x90f)]();}async['answerContentAvailable'](_0x3eded9,_0x56688c){const _0x365c39=_0x4bc902;if(_0x28bf01[_0x365c39(0x5e2)](_0x4f63ff[_0x365c39(0x622)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x365c39(0x458)]),!this['transactionTable'])throw new _0x3d0311(_0x3d0311[_0x365c39(0x85e)]['KeyValueDatabaseTransactionTableNotInitialized']);if(await this[_0x365c39(0x252)],await this[_0x365c39(0x764)](_0x3eded9),await this[_0x365c39(0x1d0)][_0x365c39(0x50a)]()===_0x56688c){const _0x107440={'sourceId':this[_0x365c39(0x8cc)][_0x365c39(0x68a)](),'destinationIds':[_0x3eded9],'propagate':!0x0,'messageType':_0x18db64['Content'],'content':{'type':_0x5b4969[_0x365c39(0x30a)],'label':this[_0x365c39(0x458)],'mmrRoot':_0x56688c}};return this[_0x365c39(0x1ed)][_0x365c39(0x955)](_0x107440),void this[_0x365c39(0x67d)][_0x365c39(0x912)](_0x107440);}const _0xcf6d0b=this['mmr']['getPeaks'](),_0x3c08c6={'sourceId':this[_0x365c39(0x8cc)][_0x365c39(0x68a)](),'destinationIds':[_0x3eded9],'propagate':!0x0,'messageType':_0x18db64[_0x365c39(0x889)],'content':{'type':_0x5b4969[_0x365c39(0x6e5)],'label':this['label'],'peaks':_0xcf6d0b}};this[_0x365c39(0x1ed)]['logDataSent'](_0x3c08c6),this[_0x365c39(0x67d)][_0x365c39(0x912)](_0x3c08c6);}async[_0x4bc902(0x9b3)](_0x5cdeb9,_0x386b18){const _0x37c211=_0x4bc902,_0x47ab7c=await this[_0x37c211(0x1d0)][_0x37c211(0x50a)](),_0x23354d=_0x47ab7c===_0x386b18;if(_0x28bf01[_0x37c211(0x5e2)](_0x4f63ff[_0x37c211(0x622)],'Received\x20ContentSynchronized\x20from\x20'+_0x5cdeb9+_0x37c211(0x430)+_0x23354d,this[_0x37c211(0x458)]),_0x23354d)return this['clearSyncTimeout'](),void this[_0x37c211(0xa11)]();_0x28bf01[_0x37c211(0x5e2)](_0x4f63ff['KeyValueDatabase'],_0x37c211(0x447),_0x47ab7c,_0x386b18),_0x28bf01[_0x37c211(0x6b4)](_0x37c211(0x447),{'nodeId':this['localNode'][_0x37c211(0x68a)](),'nodeType':this[_0x37c211(0x8cc)]['type'],'remoteId':_0x5cdeb9,'data':{'localMMRRoot':_0x47ab7c,'remoteMMRRoot':_0x386b18}});const _0x3defed={'sourceId':this[_0x37c211(0x8cc)][_0x37c211(0x68a)](),'messageType':_0x18db64['Content'],'propagate':!0x0,'content':{'type':_0x5b4969[_0x37c211(0x440)],'label':this['label'],'mmrRoot':_0x47ab7c}};this[_0x37c211(0x67d)][_0x37c211(0x912)](_0x3defed);}async['processContentAvailable'](_0x5a3d7b,_0xbe2c66){const _0x573103=_0x4bc902;if(_0x28bf01[_0x573103(0x5e2)](_0x4f63ff[_0x573103(0x622)],_0x573103(0x73f),_0x5a3d7b,_0x573103(0x458),this[_0x573103(0x458)],_0x573103(0x53c),_0xbe2c66),this[_0x573103(0x8d3)])return;this['contentRequestSent']=!0x0,this[_0x573103(0x9e7)]();const {differingPeaks:_0x4fa7ef,peaksMissingInLocal:_0x184cf9,peaksMissingInRemote:_0x46525f}=this[_0x573103(0x1d0)][_0x573103(0x1f4)](_0xbe2c66);_0x28bf01[_0x573103(0x5e2)](_0x4f63ff[_0x573103(0x622)],_0x573103(0x194),{'differingPeaks':_0x4fa7ef,'peaksMissingInLocal':_0x184cf9,'peaksMissingInRemote':_0x46525f});const _0x2e0b20={'sourceId':this['localNode']['getId'](),'destinationIds':[_0x5a3d7b],'propagate':!0x0,'messageType':_0x18db64[_0x573103(0x889)],'content':{'type':_0x5b4969[_0x573103(0x875)],'label':this['label'],'peakHeights':_0x184cf9[_0x573103(0x8a3)](_0xc0098b=>_0xc0098b[_0x573103(0x7da)])[_0x573103(0x8b0)](_0x4fa7ef[_0x573103(0x8a3)](_0x37102e=>_0x37102e['height']))}};if(this[_0x573103(0x67d)][_0x573103(0x912)](_0x2e0b20),_0x4fa7ef['length']>0x0||_0x46525f[_0x573103(0x1d8)]>0x0){const _0x520fde=_0x46525f[_0x573103(0x8a3)](_0x74faa6=>_0x74faa6[_0x573103(0x7da)])['concat'](_0x4fa7ef['map'](_0x6c2d4c=>_0x6c2d4c[_0x573103(0x7da)]));await this[_0x573103(0x6cc)](_0x5a3d7b,_0x520fde,!0x0);}}async['sendPeakTransactions'](_0x2593ba,_0x3bd44d,_0x24984f=!0x1){const _0x2ee6e1=_0x4bc902;_0x28bf01[_0x2ee6e1(0x5e2)](_0x4f63ff[_0x2ee6e1(0x622)],_0x2ee6e1(0x49d),this[_0x2ee6e1(0x458)]);const _0x3646a7=_0x3bd44d[_0x2ee6e1(0x8a3)](_0x5f73d=>this['mmr'][_0x2ee6e1(0x1fb)](_0x5f73d))['filter'](Boolean);if(!_0x3646a7[_0x2ee6e1(0x1d8)]||_0x3bd44d[_0x2ee6e1(0x1d8)]!==_0x3646a7['length'])throw new _0x3d0311(_0x3d0311[_0x2ee6e1(0x85e)][_0x2ee6e1(0x6b2)],{'message':_0x2ee6e1(0x8fe),'peakHeights':_0x3bd44d,'peaks':_0x3646a7['map'](_0x2cf289=>_0x2cf289[_0x2ee6e1(0x7da)]),'nodeId':_0x2593ba});const _0x4ea65e=[];for(const _0x43654d of _0x3646a7)this[_0x2ee6e1(0x42a)](_0x43654d,_0x4ea65e);const _0xa51dc6=_0x24984f?void 0x0:[_0x2593ba],_0x3277be={'sourceId':this[_0x2ee6e1(0x8cc)]['getId'](),'destinationIds':_0xa51dc6,'messageType':_0x18db64['Content'],'propagate':!0x0,'content':{'type':_0x5b4969[_0x2ee6e1(0x199)],'label':this[_0x2ee6e1(0x458)],'transactions':_0x4ea65e}};this[_0x2ee6e1(0x1ed)][_0x2ee6e1(0x955)](_0x3277be),this[_0x2ee6e1(0x67d)]['publish'](_0x3277be);}async[_0x4bc902(0x40c)](_0x96e4da,_0x2bc216){const _0x429f49=_0x4bc902;_0x28bf01[_0x429f49(0x5e2)](_0x4f63ff[_0x429f49(0x622)],_0x429f49(0x26e)+_0x2bc216[_0x429f49(0x1d8)]+_0x429f49(0x620)+_0x96e4da+'\x20-\x20'+this['label']);for(const _0x19f234 of _0x2bc216){const _0x15418b=await this[_0x429f49(0x859)][_0x429f49(0x985)](_0x19f234['id']);if(!(_0x15418b&&this[_0x429f49(0x3fd)](_0x15418b,_0x19f234)>=0x0)){if(_0x19f234[_0x429f49(0x20e)]===_0x5591d0[_0x429f49(0x5c1)]){const [_0x14caa7,_0x4dc820]=_0x19f234['id'][_0x429f49(0x66b)]('::'),_0x4966ec=this[_0x429f49(0x514)](_0x14caa7);await _0x4966ec[_0x429f49(0x24c)](_0x4dc820);}else this[_0x429f49(0x678)][_0x429f49(0x5b2)](_0x19f234['id']);}}if(_0x28bf01[_0x429f49(0x5e2)](_0x4f63ff['KeyValueDatabase'],'Found\x20'+this[_0x429f49(0x678)][_0x429f49(0x1d8)]+_0x429f49(0x82f),this[_0x429f49(0x458)]),this['transactionsToSync']['length']>0x0){const _0x3563eb={'sourceId':this[_0x429f49(0x8cc)]['getId'](),'destinationIds':[_0x96e4da],'messageType':_0x18db64[_0x429f49(0x889)],'propagate':!0x0,'content':{'type':_0x5b4969[_0x429f49(0x5d6)],'label':this[_0x429f49(0x458)],'transactionIds':this[_0x429f49(0x678)]}};this[_0x429f49(0x1ed)][_0x429f49(0x955)](_0x3563eb),this['systemTopic'][_0x429f49(0x912)](_0x3563eb);}}[_0x4bc902(0x27e)](){const _0x1fdcb6=_0x4bc902;this[_0x1fdcb6(0x90f)]();}[_0x4bc902(0x892)](){const _0x34600a=_0x4bc902;return _0x3e2379[_0x34600a(0x41f)][_0x34600a(0x622)];}[_0x4bc902(0x42d)](){const _0x13ffa7=_0x4bc902;this['db']['close'](),this[_0x13ffa7(0x10d)]?.(),clearTimeout(this[_0x13ffa7(0x4fb)]),delete this[_0x13ffa7(0x4fb)],super[_0x13ffa7(0x42d)]();}['close'](){const _0x30ea5b=_0x4bc902;this['clearSyncTimeout'](),this[_0x30ea5b(0x67d)][_0x30ea5b(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x30ea5b(0x889)],'content':{'type':_0x5b4969['CloseKeyValueDatabase'],'label':this['label']}});}[_0x4bc902(0x514)](_0x4b61b1){const _0x5a212e=_0x4bc902,_0xba3c37=this[_0x5a212e(0x885)][_0x5a212e(0x985)](_0x4b61b1);if(_0xba3c37)return _0xba3c37;try{if(!this['db']['hasTable'](_0x4b61b1))throw new _0x4b6430(_0x2bb2b4[_0x5a212e(0x829)],_0x5a212e(0xa43));const _0x71656d=new _0x466759(this['db']['getTableConnector'](_0x4b61b1),_0x4b61b1,this['tableObserver']);return this['tables'][_0x5a212e(0x179)](_0x4b61b1,_0x71656d),{'get':_0x71656d[_0x5a212e(0x985)]['bind'](_0x71656d),'set':_0x71656d[_0x5a212e(0x179)][_0x5a212e(0x4b0)](_0x71656d),'add':_0x71656d[_0x5a212e(0xa19)][_0x5a212e(0x4b0)](_0x71656d),'delete':_0x71656d[_0x5a212e(0x24c)]['bind'](_0x71656d),'clear':_0x71656d['clear']['bind'](_0x71656d),'list':_0x71656d['list'][_0x5a212e(0x4b0)](_0x71656d),'count':_0x71656d['count'][_0x5a212e(0x4b0)](_0x71656d),'subscribe':_0x71656d[_0x5a212e(0x9e4)][_0x5a212e(0x4b0)](_0x71656d),'unsubscribe':_0x71656d[_0x5a212e(0x80f)][_0x5a212e(0x4b0)](_0x71656d)};}catch(_0x110683){if(_0x110683 instanceof _0x4b6430)throw _0x110683;throw new _0x4b6430(_0x2bb2b4[_0x5a212e(0x992)],_0x5a212e(0x10a));}}[_0x4bc902(0x9e4)](_0x1ef216){const _0x5c81df=_0x4bc902;this[_0x5c81df(0x396)]=this[_0x5c81df(0x70c)][_0x5c81df(0x9e4)](_0x1ef216),this[_0x5c81df(0x4ca)](this[_0x5c81df(0x252)])[_0x5c81df(0x887)](_0x377303=>{const _0x4d87db=_0x5c81df;_0x377303&&this[_0x4d87db(0x70c)][_0x4d87db(0x912)]({'event':_0x3e2379[_0x4d87db(0x488)][_0x4d87db(0x511)]});});}[_0x4bc902(0x80f)](){this['listenerUnsubscriber']?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x4bc902(0x171)](){const _0x37f847=_0x4bc902;_0xf7b321(_0x4f63ff[_0x37f847(0x622)],_0x37f847(0x99a));const _0x5db98b=[_0x45d01d,_0x3c398b],_0x17b77f=[];try{await this['db']['open']();const _0x35e534=this['db'][_0x37f847(0x31a)](_0x3c398b),_0x343abe=await _0x35e534[_0x37f847(0x60e)](),{id:_0x1ffc0c,layout:_0xf0ecf3}=_0x343abe[0x0]??{};if(_0xf0ecf3){for(const _0x3fe9c6 in _0xf0ecf3)_0x5db98b[_0x37f847(0x7f5)](_0x3fe9c6)||this['db']['hasTable'](_0x3fe9c6)||_0x17b77f[_0x37f847(0x5b2)](_0x3fe9c6);await _0x35e534[_0x37f847(0x179)](_0x1ffc0c,{'layout':this[_0x37f847(0x7fa)]});}else await _0x35e534[_0x37f847(0xa19)]({'layout':this['layout']});}catch(_0x342541){throw new _0x4b6430(_0x2bb2b4[_0x37f847(0x992)],_0x342541[_0x37f847(0x793)]||_0x37f847(0x5bc));}this[_0x37f847(0x8e4)](),await this[_0x37f847(0x466)](),this[_0x37f847(0x4c7)](),this[_0x37f847(0x472)](),_0x17b77f['forEach'](_0x2fb78f=>this[_0x37f847(0x92f)](_0x2fb78f));}async[_0x4bc902(0x3c0)](_0x19f2cf,_0x1ee9d1=()=>{},_0x299633=!0x1){const _0x280f42=_0x4bc902;if(!_0x19f2cf)return setTimeout(()=>{const _0x5f23b3=a0_0x4227;this['clearSyncTimeout'](),this[_0x5f23b3(0xa11)]();},0x0),!0x0;if(this[_0x280f42(0x8d3)]=!0x1,this[_0x280f42(0x714)]=_0x1ee9d1,this['syncTimeout']=setTimeout(_0x1ee9d1,0x7d0),!this[_0x280f42(0x67d)])throw new _0x3d0311(_0x3d0311[_0x280f42(0x85e)][_0x280f42(0x20b)]);const _0x39896f=await this['mmr'][_0x280f42(0x50a)](),_0xc54267={'sourceId':this['localNode']['getId'](),'messageType':_0x18db64[_0x280f42(0x889)],'propagate':_0x299633,'content':{'type':_0x5b4969[_0x280f42(0x440)],'label':this['label'],'mmrRoot':_0x39896f}};return this[_0x280f42(0x1ed)][_0x280f42(0x955)](_0xc54267),this[_0x280f42(0x67d)][_0x280f42(0x912)](_0xc54267),this['isSync'];}async[_0x4bc902(0x830)](_0x520a10,_0x135b42){const _0x1ce557=_0x4bc902;if(_0x28bf01[_0x1ce557(0x5e2)](_0x4f63ff[_0x1ce557(0x622)],_0x1ce557(0x168)+_0x135b42[_0x1ce557(0x1d8)],this['label']),!this[_0x1ce557(0x859)])throw new _0x3d0311(_0x3d0311[_0x1ce557(0x85e)][_0x1ce557(0x910)]);for(const _0x78ba2d of _0x135b42){const _0x2269f8=await this['transactionTable'][_0x1ce557(0x985)](_0x78ba2d);if(!_0x2269f8)continue;const [_0x40a90b,_0x51b18a]=_0x78ba2d['split']('::'),_0x3fd36d=this[_0x1ce557(0x514)](_0x40a90b),_0x184d02=await _0x3fd36d[_0x1ce557(0x985)](_0x51b18a);_0x184d02?(_0x2269f8[_0x1ce557(0x2b0)]=_0x184d02,this[_0x1ce557(0x890)](_0x2269f8,[_0x520a10])):_0x28bf01['warning']('sendTransactionsValue\x20-\x20value\x20not\x20found',{'nodeId':this['localNode'][_0x1ce557(0x68a)](),'nodeType':this['localNode']['type'],'remoteId':_0x520a10,'data':{'tableKeys':Object[_0x1ce557(0x7d2)](this[_0x1ce557(0x885)]),'transactionId':_0x78ba2d,'transactions':this[_0x1ce557(0x678)],'tableName':_0x40a90b,'key':_0x51b18a}});}}async[_0x4bc902(0x56c)](_0x11302d){const _0x263d01=_0x4bc902;if(!this[_0x263d01(0x859)])throw new _0x3d0311(_0x3d0311[_0x263d01(0x85e)][_0x263d01(0x910)]);const _0x2dcd69=await this[_0x263d01(0x1d0)]['hashTransaction'](_0x11302d),_0x5c5641=this[_0x263d01(0x5a9)][_0x263d01(0x985)](_0x2dcd69);if(_0x5c5641&&this[_0x263d01(0x3fd)](_0x11302d,_0x5c5641)<=0x0)return void _0x28bf01[_0x263d01(0x5e2)](_0x4f63ff[_0x263d01(0x622)],_0x263d01(0x12a),_0x11302d);const _0x6c455c={..._0x11302d};return delete _0x6c455c['value'],this[_0x263d01(0x20a)](_0x6c455c),await this[_0x263d01(0x859)][_0x263d01(0x179)](_0x11302d['id'],_0x6c455c),_0x11302d;}['compareTransactions'](_0x322544,_0x1f9867){const _0x4b6851=_0x4bc902;return _0x322544[_0x4b6851(0x9a4)]!==_0x1f9867[_0x4b6851(0x9a4)]?_0x322544['timestamp']-_0x1f9867[_0x4b6851(0x9a4)]:_0x322544[_0x4b6851(0x192)]-_0x1f9867[_0x4b6851(0x192)];}async['getTransactionFromTableWriteEvent'](_0x59614c){const _0x48b793=_0x4bc902;if(!this[_0x48b793(0x859)])throw new _0x3d0311(_0x3d0311[_0x48b793(0x85e)][_0x48b793(0x910)]);const _0x20dcc6=_0x59614c[_0x48b793(0x477)]+'::'+_0x59614c[_0x48b793(0x7ab)],_0x49cb4e=await _0x14b3ac[_0x48b793(0x25d)](),_0x2ffa97={'id':_0x20dcc6,'priority':Math[_0x48b793(0x983)](),'timestamp':_0x49cb4e,'action':_0x59614c[_0x48b793(0x20e)]};if(await this['writeTransaction'](_0x2ffa97))return _0x2ffa97;}async[_0x4bc902(0x92f)](_0x512bb6){const _0x258401=_0x4bc902;if(!this[_0x258401(0x859)])throw new _0x3d0311(_0x3d0311[_0x258401(0x85e)][_0x258401(0x910)]);const _0x4b8352=_0x35f166[_0x258401(0x3c7)]('id')[_0x258401(0x53e)](_0x258401(0x8c1),[_0x512bb6+'::',_0x512bb6+_0x258401(0x872)]),_0xc9f69f=await this[_0x258401(0x859)][_0x258401(0x60e)](_0x4b8352[_0x258401(0x798)]());for(const _0x2c708c of _0xc9f69f)await this[_0x258401(0x859)][_0x258401(0x24c)](_0x2c708c['id']);}['setOnMessageHandler'](){const _0x4333b9=_0x4bc902;this[_0x4333b9(0x4d9)](async(_0x457de8,_0x2b08f5)=>{const _0x35f8b4=_0x4333b9;if(_0x2b08f5 instanceof File)return;if(this[_0x35f8b4(0x1ed)][_0x35f8b4(0x294)](_0x2b08f5),!await this[_0x35f8b4(0x56c)](_0x2b08f5))return void this['checkSyncComplete'](_0x457de8,_0x2b08f5);if(!_0x2b08f5[_0x35f8b4(0x2b0)])throw new _0x3d0311(_0x3d0311[_0x35f8b4(0x85e)][_0x35f8b4(0x521)]);const [_0x527afa,_0x1fffe2]=_0x2b08f5['id']['split']('::'),_0x2fabb7=this['getTable'](_0x527afa);if(!_0x2fabb7)throw new _0x3d0311(_0x3d0311['codes'][_0x35f8b4(0x8f8)],{'table':_0x2fabb7});let _0x297be2=0x0;switch(_0x2b08f5[_0x35f8b4(0x20e)]){case _0x5591d0['Add']:case _0x5591d0[_0x35f8b4(0x4ea)]:{const _0x545e34=_0x2fabb7[_0x35f8b4(0x179)](_0x1fffe2,_0x2b08f5[_0x35f8b4(0x2b0)],!0x1);_0x297be2=JSON[_0x35f8b4(0x80e)](_0x2b08f5[_0x35f8b4(0x2b0)])[_0x35f8b4(0x1d8)],this[_0x35f8b4(0x678)][_0x35f8b4(0x7f5)](_0x2b08f5['id'])&&this[_0x35f8b4(0x43f)][_0x35f8b4(0x5b2)](_0x545e34);break;}case _0x5591d0[_0x35f8b4(0x5c1)]:{const _0x46a399=_0x2fabb7['delete'](_0x1fffe2,!0x1);this['transactionsToSync']['includes'](_0x2b08f5['id'])&&this[_0x35f8b4(0x43f)][_0x35f8b4(0x5b2)](_0x46a399);break;}}_0x28bf01[_0x35f8b4(0x927)](_0x1aded9[_0x35f8b4(0x622)],{'type':_0x35f8b4(0x3c0),'label':this[_0x35f8b4(0x458)],'nodeId':this['localNode'][_0x35f8b4(0x68a)](),'nodeType':this[_0x35f8b4(0x8cc)][_0x35f8b4(0x1aa)],'clusterId':this[_0x35f8b4(0x6a2)],'tableName':_0x527afa,'key':_0x1fffe2,'size':_0x297be2}),this['checkSyncComplete'](_0x457de8,_0x2b08f5);});}[_0x4bc902(0x472)](){const _0x133021=_0x4bc902;this[_0x133021(0x10d)]=this[_0x133021(0x34e)][_0x133021(0x9e4)](async _0x48a2d0=>{const _0x341e3e=_0x133021;let _0x442346=0x0;switch(_0x48a2d0[_0x341e3e(0x20e)]){case _0x5591d0[_0x341e3e(0x3a2)]:case _0x5591d0[_0x341e3e(0x4ea)]:case _0x5591d0['Delete']:{const _0x18ca53=await this[_0x341e3e(0x417)](_0x48a2d0);if(!_0x18ca53)return;_0x18ca53[_0x341e3e(0x2b0)]=_0x48a2d0['value'],this[_0x341e3e(0x890)](_0x18ca53),_0x442346=JSON[_0x341e3e(0x80e)](_0x48a2d0[_0x341e3e(0x2b0)])[_0x341e3e(0x1d8)],this[_0x341e3e(0x789)]+=0x1;break;}case _0x1744ca[_0x341e3e(0x3a6)]:case _0x1744ca[_0x341e3e(0x3f2)]:case _0x1744ca[_0x341e3e(0x62f)]:this[_0x341e3e(0x8a9)]+=0x1;}_0x28bf01[_0x341e3e(0x927)](_0x1aded9[_0x341e3e(0x622)],{'type':_0x48a2d0['action'],'label':this[_0x341e3e(0x458)],'nodeId':this[_0x341e3e(0x8cc)]['getId'](),'nodeType':this[_0x341e3e(0x8cc)][_0x341e3e(0x1aa)],'clusterId':this[_0x341e3e(0x6a2)],'tableName':_0x48a2d0[_0x341e3e(0x477)],'key':_0x48a2d0[_0x341e3e(0x7ab)],'size':_0x442346}),this[_0x341e3e(0x90f)]();});}[_0x4bc902(0x8e4)](){const _0x5ebdfa=_0x4bc902;this['db']&&(this[_0x5ebdfa(0x859)]||(this['transactionTable']=this['db'][_0x5ebdfa(0x31a)](_0x45d01d)));}['clearSyncTimeout'](){const _0x3b2c73=_0x4bc902;this[_0x3b2c73(0x845)]&&(clearTimeout(this[_0x3b2c73(0x845)]),delete this['syncTimeout']);}async[_0x4bc902(0xa11)](){const _0x26d9bd=_0x4bc902;await this[_0x26d9bd(0x1d0)][_0x26d9bd(0x720)],this['logSyncMetrics'](),this[_0x26d9bd(0x70c)][_0x26d9bd(0x912)]({'event':_0x3e2379[_0x26d9bd(0x488)]['SyncComplete']}),this[_0x26d9bd(0x465)]?.(!0x0),delete this[_0x26d9bd(0x465)],this[_0x26d9bd(0x90f)](),_0x28bf01[_0x26d9bd(0x5e2)](_0x4f63ff[_0x26d9bd(0x622)],_0x26d9bd(0x4ad),this['label']);}async[_0x4bc902(0x39f)](_0x3e1ef8){const _0xf1c1c7=_0x4bc902;await Promise['all'](this['syncTransactionsWritten']),_0x28bf01[_0xf1c1c7(0x5e2)](_0x4f63ff['KeyValueDatabase'],_0xf1c1c7(0x6d2)+this[_0xf1c1c7(0x43f)][_0xf1c1c7(0x1d8)]+_0xf1c1c7(0x7e4)+_0x3e1ef8+'\x20completed.',this[_0xf1c1c7(0x458)]),await this['mmr'][_0xf1c1c7(0x720)],await this['confirmSynchronization'](_0x3e1ef8),await this['publishSyncCompleted']();}['checkSyncComplete'](_0x19c07d,_0x484010){const _0x5c93d1=_0x4bc902;this[_0x5c93d1(0x678)][_0x5c93d1(0x7f5)](_0x484010['id'])&&(this[_0x5c93d1(0x9e7)](),this[_0x5c93d1(0x678)]=this[_0x5c93d1(0x678)][_0x5c93d1(0x6f4)](_0x2e10ba=>_0x2e10ba!==_0x484010['id']),0x0!==this[_0x5c93d1(0x678)][_0x5c93d1(0x1d8)]?this[_0x5c93d1(0x845)]=setTimeout(this[_0x5c93d1(0x714)],0x7d0):this[_0x5c93d1(0x39f)](_0x19c07d));}['sendStats'](){const _0x5e191a=_0x4bc902;this[_0x5e191a(0x4fb)]&&clearTimeout(this['debounceStats']),this[_0x5e191a(0x4fb)]=setTimeout(async()=>{const _0x509e12=_0x5e191a;delete this['debounceStats'];let _0x3f7bca=0x0;for(const _0x365caa of this[_0x509e12(0x885)][_0x509e12(0x437)]())_0x3f7bca+=await _0x365caa['calculateSize']();this[_0x509e12(0x67d)][_0x509e12(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64['Content'],'content':{'type':_0x5b4969['KeyValueDatabaseStats'],'label':this[_0x509e12(0x458)],'stats':{'timestamp':Date[_0x509e12(0xa09)](),'storage':_0x3f7bca,'messagesSent':this[_0x509e12(0x5b9)],'messagesReceived':this[_0x509e12(0xa27)],'bytesSent':this[_0x509e12(0x61c)],'bytesReceived':this[_0x509e12(0x137)],'writes':this[_0x509e12(0x789)],'reads':this[_0x509e12(0x8a9)],'prompts':0x0,'tokens':0x0}}}),_0x28bf01[_0x509e12(0x3f7)](_0x1aded9['KeyValueDatabase'],'ccc'+this[_0x509e12(0x6a2)]+'ccc'+this[_0x509e12(0x458)],_0x3f7bca);},_0x212304);}[_0x4bc902(0x38b)](_0xd780a9){const _0x326ec5=_0x4bc902;if(_0xd780a9['tables'][_0x45d01d])throw new _0x4b6430(_0x2bb2b4['KeyValueDatabaseTableNameReserved'],_0x326ec5(0x712)+_0x45d01d+'\x27\x20reserved');if(_0xd780a9[_0x326ec5(0x885)][_0x3c398b])throw new _0x4b6430(_0x2bb2b4[_0x326ec5(0x727)],_0x326ec5(0x712)+_0x3c398b+'\x27\x20reserved');_0xd780a9[_0x326ec5(0x885)][_0x45d01d]={'indexes':[]},_0xd780a9['tables'][_0x3c398b]={'indexes':[]};}async[_0x4bc902(0x4ca)](_0x4fac16){const _0x2cb6ea=_0x4bc902;return Promise['race']([_0x4fac16,Promise[_0x2cb6ea(0x97e)](_0x2cb6ea(0x1f3))])['then'](_0x5de9ba=>_0x2cb6ea(0x1f3)!==_0x5de9ba);}async[_0x4bc902(0x2aa)](_0x50233e){const _0x13cabc=_0x4bc902;await this[_0x13cabc(0xa12)]();const _0x3e56bb=await this[_0x13cabc(0x1d0)][_0x13cabc(0x50a)](),_0x3cbcd7={'sourceId':this['localNode'][_0x13cabc(0x68a)](),'destinationIds':[_0x50233e],'propagate':!0x0,'messageType':_0x18db64['Content'],'content':{'type':_0x5b4969[_0x13cabc(0x30a)],'label':this[_0x13cabc(0x458)],'mmrRoot':_0x3e56bb}};this[_0x13cabc(0x67d)][_0x13cabc(0x912)](_0x3cbcd7);}async['buildInitialMMR'](){const _0x1df6e5=_0x4bc902;if(!this[_0x1df6e5(0x859)])throw new _0x3d0311(_0x3d0311[_0x1df6e5(0x85e)][_0x1df6e5(0x910)]);this['transactions']=await this['transactionTable'][_0x1df6e5(0x60e)](),this[_0x1df6e5(0x3dd)]['sort'](this[_0x1df6e5(0x3fd)]),this[_0x1df6e5(0x1d0)]=new _0x56515a(),this[_0x1df6e5(0x5a9)]=new Map();for(const _0x180077 of this['transactions'])this['appendTransactionAndUpdateHashMap'](_0x180077,this[_0x1df6e5(0x3dd)][_0x1df6e5(0x1d8)]);this['logInitialMMR']();}async[_0x4bc902(0x3f6)](_0x4b59a9,_0x5abd7f){const _0x25fb2a=_0x4bc902,_0x4447cf={..._0x4b59a9};delete _0x4447cf[_0x25fb2a(0x2b0)],await this[_0x25fb2a(0x1d0)][_0x25fb2a(0x5e6)](_0x4447cf,_0x5abd7f);const _0x53e0af=await this[_0x25fb2a(0x1d0)][_0x25fb2a(0x6aa)](_0x4447cf);this[_0x25fb2a(0x5a9)]['set'](_0x53e0af,_0x4b59a9);}['getTransactionByHash'](_0x3ceafb){const _0x2c3f17=_0x4bc902;return this[_0x2c3f17(0x5a9)][_0x2c3f17(0x985)](_0x3ceafb);}[_0x4bc902(0x42a)](_0x26c19d,_0x43f1de){const _0x148861=_0x4bc902;if(0x0!==_0x26c19d[_0x148861(0x7da)])_0x26c19d['left']&&this[_0x148861(0x42a)](_0x26c19d['left'],_0x43f1de),_0x26c19d[_0x148861(0x5f0)]&&this[_0x148861(0x42a)](_0x26c19d[_0x148861(0x5f0)],_0x43f1de);else{const _0x2a7278=this['getTransactionByHash'](_0x26c19d[_0x148861(0x44c)]);_0x2a7278&&_0x43f1de[_0x148861(0x5b2)](_0x2a7278);}}async[_0x4bc902(0x37a)](){const _0x373bc4=_0x4bc902;this[_0x373bc4(0x7cd)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x373bc4(0x7cd)],this[_0x373bc4(0x72a)]['length']>0x0&&(this[_0x373bc4(0x3dd)][_0x373bc4(0x5b2)](...this[_0x373bc4(0x72a)][_0x373bc4(0x728)](this[_0x373bc4(0x3fd)])),this[_0x373bc4(0x72a)]=[]));const _0x19dee0=this[_0x373bc4(0x284)]();this[_0x373bc4(0x1d0)]=new _0x56515a(),this[_0x373bc4(0x5a9)][_0x373bc4(0x984)](),this[_0x373bc4(0x3dd)][_0x373bc4(0x728)](this[_0x373bc4(0x3fd)]);for(const _0x46b05d of this[_0x373bc4(0x3dd)])this[_0x373bc4(0x3f6)](_0x46b05d,this['transactions'][_0x373bc4(0x1d8)]);await this[_0x373bc4(0x1d0)][_0x373bc4(0x720)],this[_0x373bc4(0x6be)](_0x19dee0);}[_0x4bc902(0x284)](){const _0x6bb293=_0x4bc902;return this[_0x6bb293(0x1ed)][_0x6bb293(0x8ae)]['performCalculation'](async()=>{const _0x371bf9=_0x6bb293,_0x19b628=await this[_0x371bf9(0x1d0)][_0x371bf9(0x50a)]();return{'startTime':Date[_0x371bf9(0xa09)](),'initialRoot':_0x19b628};},Promise[_0x6bb293(0x97e)]({'startTime':0x0,'initialRoot':''}));}async[_0x4bc902(0x6be)](_0x163bbb){const _0x51a0a1=_0x4bc902;try{const {startTime:_0x1552be,initialRoot:_0x55767a}=await _0x163bbb,_0xce4c44=await this[_0x51a0a1(0x1d0)]['getRoot'](),_0x5d5128=[_0x51a0a1(0x5f7)+(_0x55767a!==_0xce4c44),_0x51a0a1(0x2a1)+_0x55767a,_0x51a0a1(0xa40)+_0xce4c44,'\x0a\x20\x20===\x20Total\x20Nodes:\x20'+this['mmr'][_0x51a0a1(0x355)](),'\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20'+(Date[_0x51a0a1(0xa09)]()-_0x1552be)+_0x51a0a1(0x669)]['join']('\x20');this['loggingCycle'][_0x51a0a1(0x8ae)][_0x51a0a1(0x5e2)]('',()=>_0x5d5128);}catch(_0x345402){console[_0x51a0a1(0x1ca)]('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x345402);}}['debounceRebuildMMRWithTransaction'](_0x1ad27e){const _0x140660=_0x4bc902;this['transactionsToAppend'][_0x140660(0x5b2)](_0x1ad27e),this[_0x140660(0x7cd)]&&(clearTimeout(this[_0x140660(0x7cd)]),delete this[_0x140660(0x7cd)]),this[_0x140660(0x7cd)]=setTimeout(()=>{const _0x101af4=_0x140660;this[_0x101af4(0xa12)]();},0x3e8);}async[_0x4bc902(0xa12)](){const _0x458134=_0x4bc902;if(this[_0x458134(0x7cd)]&&(clearTimeout(this[_0x458134(0x7cd)]),delete this['debounceRebuildMMR']),0x0!==this['transactionsToAppend'][_0x458134(0x1d8)]){if(0x0===this['transactions']['length'])return this['transactions']=this[_0x458134(0x72a)],this[_0x458134(0x72a)]=[],await this[_0x458134(0x37a)]();if(this[_0x458134(0x72a)][_0x458134(0x728)](this[_0x458134(0x3fd)]),this[_0x458134(0x3fd)](this[_0x458134(0x72a)][0x0],this[_0x458134(0x3dd)][this[_0x458134(0x3dd)][_0x458134(0x1d8)]-0x1])>0x0){this[_0x458134(0x1ed)]['logger'][_0x458134(0x5e2)]('processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20'+this[_0x458134(0x72a)][_0x458134(0x1d8)]+_0x458134(0x546)+this[_0x458134(0x3dd)][_0x458134(0x1d8)]);for(const _0x1ab201 of this['transactionsToAppend'])this[_0x458134(0x3dd)][_0x458134(0x5b2)](_0x1ab201),this[_0x458134(0x3f6)](_0x1ab201,this['transactionsToAppend'][_0x458134(0x1d8)]);return this['transactionsToAppend']=[],void this[_0x458134(0x1ed)][_0x458134(0x8ae)][_0x458134(0x5e2)](_0x458134(0x39b),async()=>'New\x20MMR\x20Root:\x20'+await this[_0x458134(0x1d0)]['getRoot']()+_0x458134(0x833)+this[_0x458134(0x1d0)][_0x458134(0x355)]());}this[_0x458134(0x1ed)]['logger'][_0x458134(0x5e2)](_0x458134(0x30e)+this[_0x458134(0x72a)][_0x458134(0x1d8)]+_0x458134(0x546)+this[_0x458134(0x3dd)][_0x458134(0x1d8)]),this[_0x458134(0x3dd)][_0x458134(0x5b2)](...this['transactionsToAppend']),this[_0x458134(0x72a)]=[],this[_0x458134(0x37a)]();}}async['logSyncMetrics'](){const _0x24075d=_0x4bc902;if(!_0x28bf01[_0x24075d(0x364)](_0x4f63ff[_0x24075d(0x622)]))return;await this[_0x24075d(0x1d0)]['ready'];const {dataSent:_0x1a89a0,dataReceived:_0x23d1fa}=this[_0x24075d(0x1ed)][_0x24075d(0x4b1)]();_0x28bf01[_0x24075d(0x5e2)](_0x4f63ff['KeyValueDatabase'],_0x24075d(0x6a9),this['label'],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x1a89a0,'\x0a\x20===\x20Total\x20Data\x20Received:\x20'+_0x23d1fa,'\x0a\x20===\x20Current\x20MMR\x20Root',await this['mmr'][_0x24075d(0x50a)](),_0x24075d(0x6da),this['mmr']['getTotalNodes']());}async[_0x4bc902(0x10e)](){const _0x346d4a=_0x4bc902;if(!_0x28bf01[_0x346d4a(0x364)](_0x4f63ff[_0x346d4a(0x622)]))return;const _0x3f18c7=this['mmr'][_0x346d4a(0xa16)](),_0x3037f9=_0x3f18c7['map'](_0x58c919=>_0x58c919[_0x346d4a(0x7da)]),_0x512845=await this['mmr'][_0x346d4a(0x50a)]();_0x28bf01['log'](_0x4f63ff[_0x346d4a(0x622)],_0x346d4a(0x4e5),this[_0x346d4a(0x3dd)][_0x346d4a(0x1d8)],_0x346d4a(0x3dd),this[_0x346d4a(0x1d0)][_0x346d4a(0x355)](),_0x346d4a(0x1c1),_0x3f18c7['length'],_0x346d4a(0x53c),_0x3037f9,_0x346d4a(0x736),_0x512845);}}const _0x3ac4b8=require('@crewdle/mist-connector-opfs'),_0x9d2b7f=require('@crewdle/mist-connector-indexed-db'),_0x1f2037=require('@crewdle/mist-connector-webrtc-browser'),_0x13e4c5=0x1fc00000;var _0x55b840,_0x2be930,_0x10d48f,_0x59a9f8,_0x6c8910,_0x57cc58,_0x10e890,_0x3d6176,_0x2f3a3f;!function(_0xbf690d){const _0x4a8b72=_0x4bc902;_0xbf690d[_0x4a8b72(0x8d4)]=_0x4a8b72(0x8d4),_0xbf690d[_0x4a8b72(0x779)]=_0x4a8b72(0x779),_0xbf690d[_0x4a8b72(0x5a6)]=_0x4a8b72(0x5a6),_0xbf690d[_0x4a8b72(0x836)]=_0x4a8b72(0x836),_0xbf690d['DeviceConfig']=_0x4a8b72(0x300),_0xbf690d[_0x4a8b72(0x53a)]=_0x4a8b72(0x53a),_0xbf690d[_0x4a8b72(0x326)]=_0x4a8b72(0x326),_0xbf690d[_0x4a8b72(0x9f9)]=_0x4a8b72(0x9f9),_0xbf690d[_0x4a8b72(0x86b)]=_0x4a8b72(0x86b),_0xbf690d[_0x4a8b72(0x4e6)]=_0x4a8b72(0x4e6);}(_0x55b840||(_0x55b840={}));class _0x26b866{['registeredListeners'];['bufferedEvents'];[_0x4bc902(0x777)];constructor(_0x237869=new Map(),_0x3e2a9c=new Map(),_0x21e456=new EventTarget()){const _0xd344c6=_0x4bc902;this[_0xd344c6(0xa25)]=_0x237869,this['bufferedEvents']=_0x3e2a9c,this[_0xd344c6(0x777)]=_0x21e456;}['emit']=(_0x161aa2,_0x38cfe6)=>this['registeredListeners'][_0x4bc902(0x5f9)](_0x161aa2)?(_0x28bf01[_0x4bc902(0x5e2)](_0x4f63ff[_0x4bc902(0x587)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x161aa2,'data':_0x38cfe6}),this[_0x4bc902(0x777)]['dispatchEvent'](new CustomEvent(_0x161aa2,{'detail':_0x38cfe6})),!0x0):(this[_0x4bc902(0x267)](_0x161aa2,_0x38cfe6),!0x1);['on']=(_0x158b62,_0x488065)=>{const _0x45c73d=_0x4bc902,_0x267583=_0x4e6bb3=>{const _0x42a9ef=a0_0x4227;_0x28bf01[_0x42a9ef(0x5e2)](_0x4f63ff['Events'],_0x42a9ef(0x421),_0x4e6bb3['type'],_0x4e6bb3['detail']),_0x488065(_0x4e6bb3[_0x42a9ef(0x6b8)]);};return this[_0x45c73d(0xa25)][_0x45c73d(0x179)](_0x158b62,_0x267583),this['eventTarget']['addEventListener'](_0x158b62,_0x267583),_0x28bf01['log'](_0x4f63ff[_0x45c73d(0x834)],'Subscribing\x20to\x20an\x20event:\x20on',_0x158b62,_0x488065),this['consumeBufferedEvents'](_0x158b62),this;};[_0x4bc902(0x363)](_0x51c93f){const _0x3e944c=_0x4bc902;if(!_0x51c93f)return this[_0x3e944c(0xa25)][_0x3e944c(0x105)]((_0x36aa9a,_0x259630)=>{const _0x279dd4=_0x3e944c;this['eventTarget'][_0x279dd4(0x1c9)](_0x259630,_0x36aa9a);}),void this['registeredListeners']['clear']();_0x3e944c(0x351)==typeof _0x51c93f&&this[_0x3e944c(0x77f)](_0x51c93f),Array[_0x3e944c(0x8fb)](_0x51c93f)&&_0x51c93f[_0x3e944c(0x105)](_0x2dba63=>{const _0x550137=_0x3e944c;this[_0x550137(0x77f)](_0x2dba63);});}[_0x4bc902(0x77f)](_0x3bc477){const _0x14a5d0=_0x4bc902,_0x264bf4=this['registeredListeners'][_0x14a5d0(0x985)](_0x3bc477);_0x264bf4&&(this[_0x14a5d0(0x777)][_0x14a5d0(0x1c9)](_0x3bc477,_0x264bf4),this[_0x14a5d0(0xa25)]['delete'](_0x3bc477));}[_0x4bc902(0x267)](_0x49de5b,_0x45d643){const _0x405b9e=_0x4bc902;_0x28bf01[_0x405b9e(0x5e2)](_0x4f63ff[_0x405b9e(0x587)],'Buffering\x20event',{'event':_0x49de5b,'data':_0x45d643});const _0x78a6ea=this[_0x405b9e(0x2f4)]['get'](_0x49de5b)||[];this['bufferedEvents'][_0x405b9e(0x179)](_0x49de5b,[..._0x78a6ea,_0x45d643]);}[_0x4bc902(0x81d)](_0x2185ce){const _0xb125b8=_0x4bc902,_0x1add07=this['bufferedEvents']['get'](_0x2185ce);_0x1add07&&(_0x1add07[_0xb125b8(0x105)](_0x2a165e=>{const _0x143bb7=_0xb125b8;_0x28bf01[_0x143bb7(0x5e2)](_0x4f63ff['Events'],'Consuming\x20buffered\x20event',{'event':_0x2185ce,'data':_0x2a165e}),this[_0x143bb7(0x777)][_0x143bb7(0x54f)](new CustomEvent(_0x2185ce,{'detail':_0x2a165e}));}),this[_0xb125b8(0x2f4)][_0xb125b8(0x24c)](_0x2185ce));}}class _0x257d72 extends Error{constructor(_0x3f76fc){const _0x3945c0=_0x4bc902;super(_0x3945c0(0x51f)+_0x3f76fc);}}!function(_0x160b34){const _0x599b1e=_0x4bc902;_0x160b34[_0x160b34[_0x599b1e(0x461)]=0x0]='Core',_0x160b34[_0x160b34['Optimization']=0x1]=_0x599b1e(0x6cb);}(_0x2be930||(_0x2be930={})),function(_0x103d77){const _0x10241b=_0x4bc902;_0x103d77[_0x103d77[_0x10241b(0x48f)]=0x0]='Offer',_0x103d77[_0x103d77['Answer']=0x1]=_0x10241b(0x36d),_0x103d77[_0x103d77['Handshake']=0x2]=_0x10241b(0x29f),_0x103d77[_0x103d77['Success']=0x3]=_0x10241b(0x690),_0x103d77[_0x103d77[_0x10241b(0x3e8)]=0x4]='NeedRestart',_0x103d77[_0x103d77[_0x10241b(0x48e)]=0x5]=_0x10241b(0x48e),_0x103d77[_0x103d77['Disconnect']=0x6]=_0x10241b(0x60d),_0x103d77[_0x103d77['Stats']=0x7]=_0x10241b(0x5c2),_0x103d77[_0x103d77[_0x10241b(0x13d)]=0x8]=_0x10241b(0x13d);}(_0x10d48f||(_0x10d48f={})),function(_0x3a17d6){const _0x5723a3=_0x4bc902;_0x3a17d6[_0x3a17d6['Sender']=0x0]=_0x5723a3(0x1b2),_0x3a17d6[_0x3a17d6['Receiver']=0x1]=_0x5723a3(0x6fd);}(_0x59a9f8||(_0x59a9f8={})),function(_0x539145){const _0x3fa045=_0x4bc902;_0x539145[_0x3fa045(0x53a)]=_0x3fa045(0x860);}(_0x6c8910||(_0x6c8910={})),function(_0x47818c){const _0xd5e071=_0x4bc902;_0x47818c[_0x47818c[_0xd5e071(0x601)]=0x0]=_0xd5e071(0x601),_0x47818c[_0x47818c['NodeUpdate']=0x1]='NodeUpdate',_0x47818c[_0x47818c[_0xd5e071(0x4d8)]=0x2]='NodeConnectionsUpdate',_0x47818c[_0x47818c[_0xd5e071(0x8b7)]=0x3]=_0xd5e071(0x8b7);}(_0x57cc58||(_0x57cc58={})),function(_0xcd8d18){const _0x2f4851=_0x4bc902;_0xcd8d18[_0xcd8d18[_0x2f4851(0x5c8)]=0x0]=_0x2f4851(0x5c8),_0xcd8d18[_0xcd8d18[_0x2f4851(0x77a)]=0x1]=_0x2f4851(0x77a);}(_0x10e890||(_0x10e890={})),function(_0x50a9da){const _0x4a7e47=_0x4bc902;_0x50a9da[_0x4a7e47(0x2b9)]=_0x4a7e47(0x8b6),_0x50a9da[_0x4a7e47(0x2ec)]='downgrade';}(_0x3d6176||(_0x3d6176={})),function(_0x51db2e){const _0x520538=_0x4bc902;_0x51db2e[_0x520538(0x21a)]='resolution',_0x51db2e['Bitrate']='bitrate';}(_0x2f3a3f||(_0x2f3a3f={}));const _0x35159a=require('aws-amplify'),_0x4b98ee=require('aws-amplify/utils'),_0x5e443a=require('@aws-amplify/api'),_0x2133ff=require('@aws-amplify/core');class _0x8aec12{['clusterId'];[_0x4bc902(0x8cc)];[_0x4bc902(0x1ae)];constructor(_0x4583cc,_0x52a9fa,_0x23bae3){const _0x147901=_0x4bc902;this[_0x147901(0x6a2)]=_0x4583cc,this['localNode']=_0x52a9fa,this['remoteId']=_0x23bae3;}['getLocalId'](){const _0x214f68=_0x4bc902;return this[_0x214f68(0x8cc)][_0x214f68(0x68a)]();}['getRemoteId'](){const _0x4c6591=_0x4bc902;return this[_0x4c6591(0x1ae)];}}var _0x1626ea,_0x17e05e,_0x2b79dc;function _0x427759(_0x433bae,_0x54a12b){return _0x433bae['sourceId']===_0x54a12b;}function _0x47d08b(_0x39010f,_0x21af81){const _0x2be886=_0x4bc902;return _0x39010f[_0x2be886(0x498)]?.['includes'](_0x21af81)??function(_0x33c970){const _0xa882e8=_0x2be886;return void 0x0===_0x33c970[_0xa882e8(0x498)];}(_0x39010f);}function _0xb07430(_0x9b3d9b,{contentType:_0x18c6ca,label:_0x4551f3,remoteId:_0x51a0ec}){return _0x9b3d9b+'-'+_0x18c6ca+'-'+_0x4551f3+'-'+_0x51a0ec;}function _0x4646a8(_0x2893d5,_0x31b150,_0x2876fe){return''+_0x2893d5+_0x31b150+_0x2876fe;}function _0x21020f(_0x56704d){const _0xff758=_0x4bc902;return _0x56704d===_0x17e05e[_0xff758(0x4a3)]?_0xff758(0x4d3):_0xff758(0x584);}function _0x535cc1(_0x564ec9,_0x56a81e){const _0x3679ea=_0x4bc902;return{'label':_0x564ec9[_0x3679ea(0x27c)](),'contentType':_0x564ec9[_0x3679ea(0x892)](),'remoteId':_0x56a81e['getRemoteId'](),'supportsContentType':_0x56a81e[_0x3679ea(0x874)]()[_0x3679ea(0x7f5)](_0x564ec9['getContentType']())};}!function(_0x3ceed9){const _0x3afe1a=_0x4bc902;_0x3ceed9[_0x3ceed9[_0x3afe1a(0x729)]=0x0]='Waiting',_0x3ceed9[_0x3ceed9[_0x3afe1a(0x7bc)]=0x1]=_0x3afe1a(0x7bc),_0x3ceed9[_0x3ceed9[_0x3afe1a(0x2c5)]=0x2]='Rejected';}(_0x1626ea||(_0x1626ea={})),function(_0x54420a){const _0x10388e=_0x4bc902;_0x54420a[_0x10388e(0x4a3)]='in',_0x54420a[_0x10388e(0x93c)]='out';}(_0x17e05e||(_0x17e05e={}));class _0xa6ac6d{['callback'];[_0x4bc902(0x147)];constructor(_0x4ae3ec,_0x105524){const _0x5652e5=_0x4bc902;this[_0x5652e5(0x75c)]=_0x4ae3ec,this[_0x5652e5(0x147)]=_0x105524;}[_0x4bc902(0x733)](_0x390bb9){const _0x5c042c=_0x4bc902;this[_0x5c042c(0x75c)](_0x390bb9);}async[_0x4bc902(0x261)](){const _0x58677c=_0x4bc902;await this[_0x58677c(0x147)]();}}class _0x33486f{[_0x4bc902(0x75c)];[_0x4bc902(0x147)];constructor(_0x456c62,_0x5c8072){const _0x2f684b=_0x4bc902;this[_0x2f684b(0x75c)]=_0x456c62,this['retryCallback']=_0x5c8072;}async['call'](_0x385812){const _0x50e302=_0x4bc902;await this[_0x50e302(0x75c)](_0x385812);}async['wait'](){await this['retryCallback']();}}function _0x32839b(_0x4c50c4=()=>{},_0x3c42a6=()=>!0x1,_0x56042c=()=>{}){let _0x3188ec,_0x2cb7b9,_0x31a7f0=0x0;return{get 'size'(){return _0x31a7f0;},get 'head'(){return _0x3188ec;},get 'tail'(){return _0x2cb7b9;},set 'head'(_0x322621){_0x3188ec=_0x322621;},set 'tail'(_0x350de8){_0x2cb7b9=_0x350de8;},'push'(_0x577c17,_0x34d916=!0x0){const _0x498146=a0_0x4227,_0x4f8999={'value':_0x577c17};_0x34d916&&_0x3c42a6(_0x4f8999)?_0x4c50c4():(_0x2cb7b9&&(_0x4f8999['previous']=_0x2cb7b9,_0x2cb7b9[_0x498146(0x49a)]=_0x4f8999),_0x2cb7b9=_0x4f8999,_0x3188ec||(_0x3188ec=_0x4f8999),_0x31a7f0+=0x1,_0x34d916&&_0x4c50c4());},'pop'(){const _0x299f93=a0_0x4227;if(!_0x2cb7b9)return;const _0x5c508e=_0x2cb7b9[_0x299f93(0x2b0)];return _0x2cb7b9=_0x2cb7b9['previous'],_0x2cb7b9&&delete _0x2cb7b9[_0x299f93(0x49a)],_0x2cb7b9||(_0x3188ec=void 0x0),_0x31a7f0-=0x1,_0x5c508e;},'unshift'(_0x16fd2f,_0x5a1ad7=!0x0){const _0x4eaec9=a0_0x4227,_0x120c39={'value':_0x16fd2f};_0x5a1ad7&&_0x3c42a6(_0x120c39)?_0x4c50c4():(_0x3188ec&&(_0x3188ec[_0x4eaec9(0x719)]=_0x120c39,_0x120c39[_0x4eaec9(0x49a)]=_0x3188ec),_0x3188ec=_0x120c39,_0x2cb7b9||(_0x2cb7b9=_0x120c39),_0x31a7f0+=0x1,_0x5a1ad7&&_0x4c50c4());},'shift'(){const _0x1bf262=a0_0x4227;if(!_0x3188ec)return;const _0x32d454=_0x3188ec[_0x1bf262(0x2b0)];return _0x3188ec=_0x3188ec[_0x1bf262(0x49a)],_0x3188ec&&delete _0x3188ec[_0x1bf262(0x719)],_0x3188ec||(_0x2cb7b9=void 0x0),_0x31a7f0-=0x1,_0x32d454;},'clear'(){_0x56042c(),_0x3188ec=void 0x0,_0x2cb7b9=void 0x0,_0x31a7f0=0x0;}};}function _0x29954f(_0x549dc0,_0x388758=!0x1,_0x4a422f=()=>{},_0x23d5ff=()=>!0x1,_0x205da8=()=>{}){let _0x426971=!0x1;const _0x3cf700=_0x32839b(async function(){const _0x1cb9b8=a0_0x4227;if(!_0x426971){for(_0x426971=!0x0;_0x3cf700[_0x1cb9b8(0x2ba)];){const _0x7f1ea1=_0x3cf700[_0x1cb9b8(0x47b)]();if(_0x7f1ea1)try{_0x549dc0 instanceof _0xa6ac6d&&_0x549dc0[_0x1cb9b8(0x733)](_0x7f1ea1),_0x549dc0 instanceof _0x33486f&&await _0x549dc0[_0x1cb9b8(0x733)](_0x7f1ea1),_0x4a422f(_0x7f1ea1);}catch(_0x459fcd){_0x388758?_0x3cf700[_0x1cb9b8(0x5b2)](_0x7f1ea1,!0x1):_0x3cf700[_0x1cb9b8(0x495)](_0x7f1ea1,!0x1),await _0x549dc0[_0x1cb9b8(0x261)]();}}_0x426971=!0x1;}},_0x23d5ff,_0x205da8);return _0x3cf700;}class _0x1ce43e extends _0x8aec12{[_0x4bc902(0x203)];['authService'];[_0x4bc902(0x93a)]=_0x5e443a[_0x4bc902(0x3a9)][_0x4bc902(0x383)];[_0x4bc902(0x14a)]=_0x3359b0();[_0x4bc902(0x8d1)]=_0x545df6();[_0x4bc902(0x1b5)];[_0x4bc902(0x5fc)];[_0x4bc902(0x37b)]=_0x29954f(new _0x33486f(this[_0x4bc902(0x4ee)]['bind'](this),this[_0x4bc902(0x16e)][_0x4bc902(0x4b0)](this)));['client'];constructor(_0x2087cf,_0x3a037f,_0x1ffeed,_0x292317,_0x43077a){const _0x54b684=_0x4bc902;super(_0x3a037f,_0x1ffeed,_0x292317),this[_0x54b684(0x203)]=_0x2087cf,this[_0x54b684(0x1bd)]=_0x43077a;}async[_0x4bc902(0x11c)](){const _0x1744b4=_0x4bc902;try{const _0x2d3ed5={'getTokens':async()=>{const _0x1bb58a=a0_0x4227,_0x3fedb7=await this[_0x1bb58a(0x1bd)][_0x1bb58a(0x5cc)]();return{'accessToken':(0x0,_0x2133ff[_0x1bb58a(0x47a)])(_0x3fedb7),'idToken':(0x0,_0x2133ff[_0x1bb58a(0x47a)])(_0x3fedb7)};}};_0x35159a['Amplify'][_0x1744b4(0x42c)]({'API':{'GraphQL':{'endpoint':_0x1823f0[_0x1744b4(0x616)][_0x1744b4(0x249)],'region':_0x1823f0[_0x1744b4(0x616)][_0x1744b4(0x507)],'defaultAuthMode':_0x1744b4(0x38e)}}},{'Auth':{'tokenProvider':_0x2d3ed5}});const _0x13759c=(0x0,_0x5e443a[_0x1744b4(0x9a0)])();this[_0x1744b4(0x9e9)]=_0x13759c,await this[_0x1744b4(0x9e4)](),this['listenUnsubscriber']=_0x4b98ee[_0x1744b4(0x33d)][_0x1744b4(0x6c0)](_0x1744b4(0x94b),async({payload:_0x5aa7d7})=>{const _0x1a4431=_0x1744b4;if(_0x5aa7d7['event']===_0x5e443a[_0x1a4431(0x76b)]){const _0x1b4927=_0x5aa7d7[_0x1a4431(0x463)];this[_0x1a4431(0x93a)]=_0x1b4927['connectionState'],this['connectionStateListener'][_0x1a4431(0x912)](_0x1b4927[_0x1a4431(0x93a)]),this[_0x1a4431(0x93a)]===_0x5e443a[_0x1a4431(0x3a9)][_0x1a4431(0x383)]?(_0x28bf01[_0x1a4431(0x1ca)](_0x1a4431(0x550),{'clusterId':this[_0x1a4431(0x6a2)],'nodeId':this[_0x1a4431(0x5ab)](),'nodeType':this[_0x1a4431(0x8cc)][_0x1a4431(0x1aa)]}),this[_0x1a4431(0x6bf)](),this[_0x1a4431(0x11c)]()):this['connectionState']===_0x5e443a[_0x1a4431(0x3a9)][_0x1a4431(0x6d9)]?_0x28bf01[_0x1a4431(0x6b4)]('appsync-connect',{'clusterId':this[_0x1a4431(0x6a2)],'nodeId':this[_0x1a4431(0x5ab)](),'nodeType':this[_0x1a4431(0x8cc)]['type']}):_0x28bf01[_0x1a4431(0x6b4)](_0x1a4431(0x5af),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x1a4431(0x1aa)],'data':{'state':_0x1b4927[_0x1a4431(0x93a)]}});}});}catch(_0x11ea84){_0x28bf01[_0x1744b4(0x1ca)](_0x1744b4(0x9a5),{'clusterId':this[_0x1744b4(0x6a2)],'nodeId':this['getLocalId'](),'nodeType':this[_0x1744b4(0x8cc)]['type']});}}['close'](){const _0x329699=_0x4bc902;_0x28bf01['warning'](_0x329699(0x2eb),{'clusterId':this[_0x329699(0x6a2)],'nodeId':this[_0x329699(0x5ab)](),'nodeType':this[_0x329699(0x8cc)][_0x329699(0x1aa)]}),this[_0x329699(0x37b)][_0x329699(0x984)](),this['listenUnsubscriber']?.(),this[_0x329699(0x1b5)]?.[_0x329699(0x80f)](),delete this[_0x329699(0x1b5)];}[_0x4bc902(0x8cd)](){const _0x38ed19=_0x4bc902;return this[_0x38ed19(0x93a)]===_0x5e443a[_0x38ed19(0x3a9)]['Connected'];}[_0x4bc902(0x890)](_0x2c0c8a){const _0x2dabb9=_0x4bc902;this[_0x2dabb9(0x37b)][_0x2dabb9(0x5b2)](_0x2c0c8a);}[_0x4bc902(0x4d9)](_0x4cee21){const _0x57bb9b=_0x4bc902;return this[_0x57bb9b(0x8d1)]['subscribe'](_0x4cee21);}[_0x4bc902(0x874)](){const _0x1deb98=_0x4bc902;return[_0x3e2379[_0x1deb98(0x41f)][_0x1deb98(0x83c)]];}async[_0x4bc902(0x16e)](){const _0x2a0cf7=_0x4bc902;if(!this[_0x2a0cf7(0x8cd)]())return new Promise(_0x45d264=>{const _0x5ec3bd=_0x2a0cf7,_0x5b5192=this['connectionStateListener'][_0x5ec3bd(0x9e4)](_0x876650=>{_0x876650===_0x5e443a['ConnectionState']['Connected']&&(_0x5b5192(),_0x45d264());});});}async[_0x4bc902(0x4ee)](_0x2aabf2){const _0x28c8a0=_0x4bc902;if(this['connectionState']!==_0x5e443a[_0x28c8a0(0x3a9)][_0x28c8a0(0x6d9)])throw new Error(_0x28c8a0(0x6dd));_0x2aabf2[_0x28c8a0(0x498)]&&0x1===_0x2aabf2['destinationIds'][_0x28c8a0(0x1d8)]?await this[_0x28c8a0(0x912)](_0x2aabf2['destinationIds'][0x0],JSON[_0x28c8a0(0x80e)](_0x2aabf2)):_0x28bf01['error'](_0x28c8a0(0x5ca),{'clusterId':this[_0x28c8a0(0x6a2)],'nodeId':this[_0x28c8a0(0x5ab)](),'nodeType':this[_0x28c8a0(0x8cc)][_0x28c8a0(0x1aa)]});}async['publish'](_0x373a9d,_0x3700fe){const _0x1730cf=_0x4bc902;if(!this[_0x1730cf(0x9e9)])throw new Error(_0x1730cf(0x282));_0x28bf01[_0x1730cf(0x5e2)](_0x4f63ff[_0x1730cf(0x6a5)],_0x1730cf(0x257),this[_0x1730cf(0x5ab)](),_0x3700fe),await this[_0x1730cf(0x9e9)][_0x1730cf(0x6c6)]({'query':_0x1730cf(0x50d),'variables':{'name':await this[_0x1730cf(0x94e)](_0x373a9d),'data':_0x3700fe}});}async[_0x4bc902(0x9e4)](){const _0x122d32=_0x4bc902;if(this[_0x122d32(0x1b5)])return;if(!this[_0x122d32(0x9e9)])throw new Error('AppSync\x20client\x20not\x20ready');_0x28bf01[_0x122d32(0x5e2)](_0x4f63ff[_0x122d32(0x6a5)],_0x122d32(0x2d4),this[_0x122d32(0x5ab)]());const _0x3506d8=await this[_0x122d32(0x9e9)]['graphql']({'query':_0x122d32(0x173),'variables':{'name':await this[_0x122d32(0x94e)]()},'authToken':await this[_0x122d32(0x1bd)][_0x122d32(0x5cc)]()},{'Authorization':await this[_0x122d32(0x1bd)][_0x122d32(0x5cc)]()});this['subscription']=_0x3506d8['subscribe']({'next':({data:_0x4d2f96})=>{const _0x4a5c80=_0x122d32,_0x20d829=JSON[_0x4a5c80(0x1b1)](_0x4d2f96[_0x4a5c80(0x9e4)]['data']);!_0x427759(_0x20d829,this[_0x4a5c80(0x5ab)]())&&_0x47d08b(_0x20d829,this[_0x4a5c80(0x5ab)]())&&this[_0x4a5c80(0x8d1)][_0x4a5c80(0x912)](_0x20d829);},'error':console[_0x122d32(0x5e2)]});}async[_0x4bc902(0x94e)](_0x8967cd){const _0x3745a7=_0x4bc902,_0x72bc20=await crypto[_0x3745a7(0x1ea)][_0x3745a7(0x291)](_0x3745a7(0x8f0),new TextEncoder()[_0x3745a7(0x2ca)](this['vendorId']+'-'+this[_0x3745a7(0x6a2)]+'-'+(_0x8967cd??this[_0x3745a7(0x5ab)]())));return Array[_0x3745a7(0x100)](new Uint8Array(_0x72bc20))[_0x3745a7(0x8a3)](_0x39610e=>_0x39610e[_0x3745a7(0x5db)](0x10)[_0x3745a7(0x76c)](0x2,'0'))['join']('');}}!function(_0x324afe){const _0x172882=_0x4bc902;_0x324afe[_0x324afe['Add']=0x0]=_0x172882(0x3a2),_0x324afe[_0x324afe[_0x172882(0x906)]=0x1]=_0x172882(0x906),_0x324afe[_0x324afe[_0x172882(0x4ea)]=0x2]=_0x172882(0x4ea),_0x324afe[_0x324afe[_0x172882(0x82b)]=0x3]=_0x172882(0x82b),_0x324afe[_0x324afe[_0x172882(0x47d)]=0x4]=_0x172882(0x47d);}(_0x2b79dc||(_0x2b79dc={}));const _0x5c31f3='0',_0x43496b=_0x4bc902(0x2dd),_0x2c2c1c=_0x51bd59,_0xb22abd=0xbe800;class _0x411bb0{['clusterId'];[_0x4bc902(0x8cc)];[_0x4bc902(0x1ae)];[_0x4bc902(0x563)];[_0x4bc902(0x878)];[_0x4bc902(0x7ff)];['connection'];[_0x4bc902(0x842)];['currentVersion']=0x1;[_0x4bc902(0x67d)];['handshakeCandidates']=[];[_0x4bc902(0x790)]=[];[_0x4bc902(0x441)];constructor(_0xcc11bd,_0x1404ec,_0x3d26fa,_0x26bc11,_0x316423,_0x539ef6){const _0xfed17a=_0x4bc902;this[_0xfed17a(0x6a2)]=_0xcc11bd,this['localNode']=_0x1404ec,this[_0xfed17a(0x1ae)]=_0x3d26fa,this[_0xfed17a(0x563)]=_0x26bc11,this['connectionType']=_0x316423,this[_0xfed17a(0x7ff)]=_0x539ef6,this[_0xfed17a(0x87d)]=new this['connectionConstructor']({'handshakeServers':this[_0xfed17a(0x563)]}),this[_0xfed17a(0x43c)]();}[_0x4bc902(0x6bf)](){const _0x238685=_0x4bc902;this[_0x238685(0x243)]();}[_0x4bc902(0x3d2)](_0x4891c0){this['connectionType']=_0x4891c0;}async[_0x4bc902(0x8aa)](_0x30c6fb,_0x271b12){const _0xd2f297=_0x4bc902;if(_0x271b12===this[_0xd2f297(0x2b3)])for(const _0x1b08cb of _0x30c6fb){if(!this[_0xd2f297(0x87d)][_0xd2f297(0x2d2)])return this['addPendingHandshakeCandidate'](_0x1b08cb);try{await this[_0xd2f297(0x87d)][_0xd2f297(0x96c)](_0x1b08cb);}catch(_0x28740c){this[_0xd2f297(0x389)](_0x1b08cb);}}}[_0x4bc902(0x8cd)](){const _0x5a9f7c=_0x4bc902;return this['logConnectionState'](),_0x5a9f7c(0x2cd)===this[_0x5a9f7c(0x87d)]['connectionState']&&[_0x5a9f7c(0x2cd),'completed'][_0x5a9f7c(0x7f5)](this[_0x5a9f7c(0x87d)][_0x5a9f7c(0x89e)])&&_0x5a9f7c(0xa14)!==this[_0x5a9f7c(0x87d)][_0x5a9f7c(0x391)]&&'open'===this[_0x5a9f7c(0x842)]?.[_0x5a9f7c(0x6fe)];}[_0x4bc902(0x75b)](_0x322d62){this['systemTopic']=_0x322d62;}[_0x4bc902(0x2ef)](){const _0x419d96=_0x4bc902;delete this[_0x419d96(0x67d)];}[_0x4bc902(0x7e7)](_0x1a79d1){const _0x20360e=_0x4bc902;this[_0x20360e(0x243)](),this['connection']=new this[(_0x20360e(0x7ff))]({'handshakeServers':this['iceServers']}),_0x1a79d1?this[_0x20360e(0x2b3)]=_0x1a79d1:this[_0x20360e(0x2b3)]+=0x1,this[_0x20360e(0x43c)]();}[_0x4bc902(0x68d)](){const _0x27ef53=_0x4bc902;this['pendingHandshakeCandidates'][_0x27ef53(0x105)](_0x34c2c4=>{const _0x1a17ec=_0x27ef53;try{this[_0x1a17ec(0x87d)]['addCandidate'](_0x34c2c4);}catch(_0x3120b0){}}),this[_0x27ef53(0x790)]=[];}[_0x4bc902(0x9bb)](_0x241285,_0x497746){const _0x4d1655=_0x4bc902;if(!this[_0x4d1655(0x67d)])throw new _0x3d0311(_0x3d0311['codes'][_0x4d1655(0x20b)],{'content':_0x241285});const _0x5312a0={'sourceId':this['localNode']['getId'](),'destinationIds':[this[_0x4d1655(0x1ae)]],'propagate':this[_0x4d1655(0x878)]!==_0x2be930['Core'],'retry':this[_0x4d1655(0x878)]!==_0x2be930['Core'],'messageType':_0x18db64[_0x4d1655(0x27f)],'content':_0x241285};_0x497746&&(_0x5312a0[_0x4d1655(0x7ea)]=_0x497746),this[_0x4d1655(0x67d)][_0x4d1655(0x912)](_0x5312a0);}[_0x4bc902(0x43c)](){const _0x345a61=_0x4bc902;this['connection'][_0x345a61(0x947)]=()=>{const _0x521c37=_0x345a61;_0x521c37(0x475)===this[_0x521c37(0x87d)]['gatheringState']&&this[_0x521c37(0x212)][_0x521c37(0x1d8)]>0x0&&(this[_0x521c37(0x441)]&&clearTimeout(this[_0x521c37(0x441)]),this[_0x521c37(0x441)]=setTimeout(()=>{const _0x39778e=_0x521c37;delete this['handshakeDebounce'],this[_0x39778e(0x13a)](),this['handshakeCandidates']=[];},0x1f4));},this[_0x345a61(0x87d)][_0x345a61(0x626)]=_0x57a83e=>{const _0x122378=_0x345a61;_0x57a83e['candidate']&&this[_0x122378(0x212)][_0x122378(0x5b2)](_0x57a83e[_0x122378(0x612)]);};}['stopConnection'](){const _0x2006d0=_0x4bc902;clearTimeout(this[_0x2006d0(0x441)]),delete this[_0x2006d0(0x441)],this[_0x2006d0(0x212)]=[],this[_0x2006d0(0x790)]=[],this['dataChannel']&&(this['dataChannel'][_0x2006d0(0x4d9)]=null,this[_0x2006d0(0x842)][_0x2006d0(0x8c4)]=null,this[_0x2006d0(0x842)]['close'](),delete this['dataChannel']),this[_0x2006d0(0x87d)][_0x2006d0(0x947)]=null,this[_0x2006d0(0x87d)][_0x2006d0(0x626)]=null,this[_0x2006d0(0x87d)][_0x2006d0(0x48a)]=null,this[_0x2006d0(0x87d)][_0x2006d0(0x9db)]=null,this[_0x2006d0(0x87d)][_0x2006d0(0x24f)]=null,this[_0x2006d0(0x87d)][_0x2006d0(0x29c)]=null,this['connection'][_0x2006d0(0x6bf)]();}['addPendingHandshakeCandidate'](_0x14b4a1){const _0x662f21=_0x4bc902;this[_0x662f21(0x790)]['push'](_0x14b4a1);}['logConnectionState'](){const _0x1cd037=_0x4bc902;_0x28bf01[_0x1cd037(0x5e2)](_0x4f63ff[_0x1cd037(0x3a9)],_0x1cd037(0x7dd),{'localId':this[_0x1cd037(0x8cc)][_0x1cd037(0x68a)](),'remoteId':this[_0x1cd037(0x1ae)],'connectionState':this[_0x1cd037(0x87d)]['connectionState'],'handshakeState':this['connection'][_0x1cd037(0x89e)],'signalingState':this['connection'][_0x1cd037(0x391)],'dataChannelState':this[_0x1cd037(0x842)]?.[_0x1cd037(0x6fe)]});}}function _0x5e516e(_0x9f4a66,_0x3e63f9){const _0x3f19e9=_0x4bc902;_0x3e63f9[_0x3f19e9(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x3f19e9(0x27f)],'content':_0x9f4a66});}class _0xb69dd9{static [_0x4bc902(0x451)];[_0x4bc902(0x6fc)]=[];[_0x4bc902(0x4ed)];constructor(){setInterval(()=>{const _0x10869a=a0_0x4227;this[_0x10869a(0x6fc)][_0x10869a(0x105)](_0x20a896=>{const _0xc0559a=_0x10869a;if(Date[_0xc0559a(0xa09)]()-_0x20a896[_0xc0559a(0x61b)]>_0x20a896[_0xc0559a(0x6c7)]){try{_0x20a896['callback']();}catch(_0x400209){}_0x20a896[_0xc0559a(0x61b)]=Date['now']();}});},0x64);}static[_0x4bc902(0x81f)](){const _0x528b94=_0x4bc902;return _0xb69dd9['instance']||(_0xb69dd9[_0x528b94(0x451)]=new _0xb69dd9()),_0xb69dd9[_0x528b94(0x451)];}[_0x4bc902(0x7ec)](_0x3945ef){const _0x2f0417=_0x4bc902,_0x2aa354=this['createConstantSource'](_0x3945ef),_0x303947=_0x3945ef[_0x2f0417(0x6bd)]();_0x303947&&_0x2aa354&&(_0x303947[_0x2f0417(0x5f8)][_0x2f0417(0x2b0)]=0.001,_0x2aa354[_0x2f0417(0x11c)](_0x303947),_0x303947[_0x2f0417(0x11c)](_0x3945ef[_0x2f0417(0x1b6)]),_0x2aa354[_0x2f0417(0x670)]());}[_0x4bc902(0x7f8)](){const _0x256386=_0x4bc902;this['source']&&(this[_0x256386(0x4ed)][_0x256386(0x1fa)](),this[_0x256386(0x4ed)]['disconnect'](),this[_0x256386(0x4ed)]=void 0x0);}['wait'](_0x26b530){return new Promise(_0x2e6ae2=>{setTimeout(_0x2e6ae2,_0x26b530);});}[_0x4bc902(0x1d2)](_0x51422d,_0x3d88c6){const _0x55a6c5=_0x4bc902;return this[_0x55a6c5(0x6fc)][_0x55a6c5(0x5b2)]({'callback':_0x51422d,'interval':_0x3d88c6,'lastExecuted':Date[_0x55a6c5(0xa09)]()}),()=>{const _0x1baf18=_0x55a6c5;this[_0x1baf18(0x6fc)]=this[_0x1baf18(0x6fc)][_0x1baf18(0x6f4)](_0x372594=>_0x372594[_0x1baf18(0x75c)]!==_0x51422d);};}[_0x4bc902(0x73a)](_0xc38ce0){const _0xcd4ab9=_0x4bc902;if(_0xc38ce0[_0xcd4ab9(0x73a)])return _0xc38ce0[_0xcd4ab9(0x73a)]();const _0x24b9a4=_0xc38ce0[_0xcd4ab9(0x49c)](),_0x14c391=_0xc38ce0[_0xcd4ab9(0x822)](0x1,0x1,_0xc38ce0[_0xcd4ab9(0x2a0)]);return _0x14c391[_0xcd4ab9(0x6d0)](0x0)[0x0]=0xa,_0x24b9a4[_0xcd4ab9(0x1a1)]=_0x14c391,_0x24b9a4[_0xcd4ab9(0x65b)]=!0x0,_0x24b9a4;}}const _0x58c1db=_0xb69dd9[_0x4bc902(0x81f)]();class _0x1fef2e extends _0x411bb0{[_0x4bc902(0x544)]=_0x3359b0();['trackCallback']=_0x3359b0();['removeTrackCallback']=_0x3359b0();[_0x4bc902(0x1d3)]=new Map();[_0x4bc902(0x240)]=new Map();[_0x4bc902(0x58b)];[_0x4bc902(0xa27)]=0x0;[_0x4bc902(0x380)]={'messages':{'total':0x0}};[_0x4bc902(0x137)]=0x0;[_0x4bc902(0x290)]=0x0;['loggingCycle']=_0x5426f9(_0x4bc902(0x615),_0x4f63ff[_0x4bc902(0x940)]);[_0x4bc902(0x6bf)](){const _0x57622c=_0x4bc902;this[_0x57622c(0xa1a)](),this['receivers']['clear'](),super[_0x57622c(0x6bf)]();}async[_0x4bc902(0x446)](_0x15dd5e,_0x17fbcd){const _0x4c026a=_0x4bc902;this[_0x4c026a(0x2b3)]=_0x17fbcd,this[_0x4c026a(0xa1a)]();const _0x11aabc=await this[_0x4c026a(0x87d)][_0x4c026a(0x569)](_0x15dd5e);this[_0x4c026a(0x68d)]();const _0x34b7d3=(0x0,_0x31add3['v4'])();this[_0x4c026a(0x9bb)]({'type':_0x10d48f[_0x4c026a(0x36d)],'answer':_0x11aabc,'version':_0x17fbcd,'connectionType':this['connectionType']},_0x34b7d3),this[_0x4c026a(0x878)]===_0x2be930[_0x4c026a(0x461)]&&(this[_0x4c026a(0x58b)]=_0x58c1db['setInterval'](()=>{const _0x1a4c2b=_0x4c026a;this[_0x1a4c2b(0x9bb)]({'type':_0x10d48f[_0x1a4c2b(0x36d)],'answer':_0x11aabc,'version':_0x17fbcd,'connectionType':this[_0x1a4c2b(0x878)]},_0x34b7d3);},0x1388));}['handleSuccess'](){const _0x59d07b=_0x4bc902;this[_0x59d07b(0xa1a)]();}[_0x4bc902(0x114)](_0x5c5101){const _0x1ad06b=_0x4bc902;this[_0x1ad06b(0x7e7)](_0x5c5101),this['publishSystemMessage']({'type':_0x10d48f['Restart']});}async['collectStats'](){const _0x2d32d2=_0x4bc902;this[_0x2d32d2(0x67d)]&&(await this[_0x2d32d2(0x87d)][_0x2d32d2(0x170)](this[_0x2d32d2(0x1d3)],(_0x24b306,_0xebd9a)=>{const _0x552575=_0x2d32d2;_0x5e516e({'type':_0x10d48f['Stats'],'streamId':_0xebd9a,'nodeId':this[_0x552575(0x1ae)],'stats':_0x24b306},this[_0x552575(0x67d)]);}),this[_0x2d32d2(0x67d)][_0x2d32d2(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64['PeerConnection'],'content':{'type':_0x10d48f['Stats'],'nodeId':this[_0x2d32d2(0x1ae)],'stats':{'origin':_0x59a9f8[_0x2d32d2(0x6fd)],'timestamp':Date[_0x2d32d2(0xa09)](),'messagesReceived':this[_0x2d32d2(0xa27)],'bytesReceived':this['bytesReceived'],'timeReceiving':this['timeReceiving'],'systemMessages':this[_0x2d32d2(0x380)]}}}));}[_0x4bc902(0x4d9)](_0x3ddc10){const _0x3f788d=_0x4bc902;return _0x1823f0[_0x3f788d(0x8e1)]?this['messageCallback']['subscribe'](_0x3ddc10):this[_0x3f788d(0x544)][_0x3f788d(0x9e4)](_0x250ada=>{const _0x302492=_0x3f788d;0x0===_0x250ada[_0x302492(0xa04)]&&_0x250ada[_0x302492(0x113)]===_0x18db64[_0x302492(0x889)]&&this[_0x302492(0x1ed)][_0x302492(0x8ae)][_0x302492(0x5e2)](_0x302492(0x318)+this[_0x302492(0x1ae)],()=>_0x545e5f(_0x250ada)),_0x3ddc10(_0x250ada);});}['onTrack'](_0x62fb5d){const _0x4155d1=_0x4bc902;return this[_0x4155d1(0x5b3)][_0x4155d1(0x9e4)](({track:_0x32fd0e,stream:_0x1c214d})=>_0x62fb5d(_0x32fd0e,_0x1c214d));}[_0x4bc902(0x840)](_0x188a16){const _0x2ea820=_0x4bc902;return this[_0x2ea820(0x27b)]['subscribe'](({track:_0x4fde53,stream:_0x42d5bc})=>_0x188a16(_0x4fde53,_0x42d5bc));}[_0x4bc902(0x7e7)](_0x1ca65a){const _0x1d8b57=_0x4bc902;this['clearWaitSuccess'](),this[_0x1d8b57(0x1d3)][_0x1d8b57(0x105)](_0x305c02=>{const _0x5c103e=_0x1d8b57;_0x305c02[_0x5c103e(0x984)]();}),super['resetConnection'](_0x1ca65a);}[_0x4bc902(0x13a)](){const _0x3173ee=_0x4bc902;this[_0x3173ee(0x9bb)]({'type':_0x10d48f[_0x3173ee(0x29f)],'candidates':this[_0x3173ee(0x212)],'origin':_0x59a9f8[_0x3173ee(0x6fd)],'version':this[_0x3173ee(0x2b3)],'connectionType':this['connectionType']});}[_0x4bc902(0x43c)](){const _0x3bdbe2=_0x4bc902;super[_0x3bdbe2(0x43c)](),this[_0x3bdbe2(0x87d)]['onTrack']=_0x11250a=>{const _0x1947c9=_0x3bdbe2;_0x28bf01['log'](_0x4f63ff[_0x1947c9(0x381)],_0x1947c9(0x17b),this[_0x1947c9(0x8cc)][_0x1947c9(0x68a)](),_0x11250a),_0x11250a[_0x1947c9(0x410)][0x0][_0x1947c9(0x4f8)]=_0x44a262=>{const _0x5d352e=_0x1947c9;this['receivers'][_0x5d352e(0x985)](_0x11250a[_0x5d352e(0x410)][0x0]['id'])?.['delete'](_0x44a262['track']),0x0===this[_0x5d352e(0x1d3)][_0x5d352e(0x985)](_0x11250a[_0x5d352e(0x410)][0x0]['id'])?.[_0x5d352e(0x9e5)]&&this[_0x5d352e(0x1d3)]['delete'](_0x11250a[_0x5d352e(0x410)][0x0]['id']),this[_0x5d352e(0x27b)]['publish']({'track':_0x44a262[_0x5d352e(0x41c)],'stream':_0x11250a[_0x5d352e(0x410)][0x0]});},this[_0x1947c9(0x1d3)]['has'](_0x11250a['streams'][0x0]['id'])||this[_0x1947c9(0x1d3)][_0x1947c9(0x179)](_0x11250a[_0x1947c9(0x410)][0x0]['id'],new Set()),this[_0x1947c9(0x1d3)][_0x1947c9(0x985)](_0x11250a['streams'][0x0]['id'])['add'](_0x11250a['track']),this['trackCallback'][_0x1947c9(0x912)]({'track':_0x11250a[_0x1947c9(0x41c)],'stream':_0x11250a[_0x1947c9(0x410)][0x0]});},this[_0x3bdbe2(0x87d)][_0x3bdbe2(0x29c)]=_0x21935f=>{const _0x47a27e=_0x3bdbe2;this['dataChannel']=_0x21935f[_0x47a27e(0x74d)],this[_0x47a27e(0x842)]['onMessage']=_0x11c162=>{const _0x464701=_0x47a27e;if(_0x11c162[_0x464701(0x463)]!==_0x5c31f3)this[_0x464701(0x4a9)](_0x11c162[_0x464701(0x463)]);else{if(!this[_0x464701(0x842)])return void _0x28bf01['error'](_0x464701(0x86c),{'clusterId':this[_0x464701(0x6a2)],'nodeId':this[_0x464701(0x8cc)]['getId'](),'nodeType':this[_0x464701(0x8cc)][_0x464701(0x1aa)],'remoteId':this[_0x464701(0x1ae)],'data':{'connection':_0x464701(0x1e1)}});if(_0x464701(0x171)!==this[_0x464701(0x842)][_0x464701(0x6fe)])return;this['dataChannel'][_0x464701(0x890)]('1');}};};}[_0x4bc902(0x4a9)](_0x12044c){const _0x14e8a1=_0x4bc902;if(_0x14e8a1(0x351)==typeof _0x12044c&&_0x12044c[_0x14e8a1(0x648)](_0x43496b))return this[_0x14e8a1(0xa27)]+=0x1,this['bytesReceived']+=_0x12044c[_0x14e8a1(0x1d8)],this['handleChunkMessage'](_0x12044c);setTimeout(()=>{const _0x295094=_0x14e8a1,_0x4e1d45=Date['now']();let _0x3948a0;if((_0x12044c instanceof ArrayBuffer||_0x12044c[_0x295094(0x1d8)]<=_0x2c2c1c)&&(this[_0x295094(0xa27)]+=0x1,this[_0x295094(0x137)]+=_0x12044c instanceof ArrayBuffer?_0x12044c[_0x295094(0x82d)]:_0x12044c['length']),_0x12044c instanceof ArrayBuffer){const [_0x3c514b,_0x2f2dee]=this[_0x295094(0x1b9)](_0x12044c);_0x3948a0=_0x3c514b,_0x3948a0[_0x295094(0xa0d)][_0x295094(0x463)]=_0x2f2dee;}else _0x3948a0=JSON[_0x295094(0x1b1)](_0x12044c);if(0x0===_0x3948a0[_0x295094(0xa04)]){this[_0x295094(0x380)][_0x295094(0x9aa)][_0x295094(0x29e)]+=0x1;const {systemMessageType:_0x18ecdb,systemContentMessageType:_0x4e4b64}=_0x545e5f(_0x3948a0);this[_0x295094(0x380)][_0x18ecdb]||(this[_0x295094(0x380)][_0x18ecdb]={[_0x4e4b64]:0x0}),this['systemMessagesReceived'][_0x18ecdb][_0x4e4b64]||(this[_0x295094(0x380)][_0x18ecdb][_0x4e4b64]=0x0),this[_0x295094(0x380)][_0x18ecdb][_0x295094(0x29e)]||(this[_0x295094(0x380)][_0x18ecdb]['total']=0x0),this[_0x295094(0x380)][_0x18ecdb][_0x4e4b64]+=0x1,this['systemMessagesReceived'][_0x18ecdb]['total']+=0x1;}this['messageCallback']['publish'](_0x3948a0),this[_0x295094(0x290)]+=Date[_0x295094(0xa09)]()-_0x4e1d45;},0x0);}[_0x4bc902(0x1f6)](_0x2a9abf){const _0x1f77fe=_0x4bc902,_0x47e3aa=_0x2a9abf['split'](';'),_0x526d21=_0x47e3aa[0x1],_0x2f8227=parseInt(_0x47e3aa[0x2],0xa),_0x3135fb=parseInt(_0x47e3aa[0x3],0xa),_0x3a1b47=_0x2a9abf[_0x1f77fe(0x8fc)](_0x43496b+';'+_0x526d21+';'+_0x2f8227+';'+_0x3135fb+';','');this[_0x1f77fe(0x240)][_0x1f77fe(0x5f9)](_0x526d21)||this[_0x1f77fe(0x240)][_0x1f77fe(0x179)](_0x526d21,[]);const _0x2ad122=this['chunks'][_0x1f77fe(0x985)](_0x526d21);_0x2ad122[_0x2f8227]=_0x3a1b47,_0x2ad122[_0x1f77fe(0x1d8)]===_0x3135fb&&(this[_0x1f77fe(0x4a9)](_0x2ad122[_0x1f77fe(0x696)]('')),this[_0x1f77fe(0x240)][_0x1f77fe(0x24c)](_0x526d21));}['clearWaitSuccess'](){const _0x39ab26=_0x4bc902;this['waitSuccess']?.(),delete this[_0x39ab26(0x58b)];}[_0x4bc902(0x4a0)](_0x3f0299){const _0x532654=_0x4bc902,_0x5473e0=new TextDecoder()['decode'](_0x3f0299);return JSON[_0x532654(0x1b1)](_0x5473e0);}['splitParts'](_0x473b11){const _0x55e629=_0x4bc902,_0x4dbe81=new Uint8Array(_0x473b11[_0x55e629(0x246)](0x0,0x4)),_0x23f836=new Uint32Array(_0x4dbe81[_0x55e629(0x1a1)])[0x0],_0x6c4ca4=new Uint8Array(_0x473b11[_0x55e629(0x246)](0x4,0x4+_0x23f836)),_0x458f2a=new Uint8Array(_0x473b11[_0x55e629(0x246)](0x4+_0x23f836));return[this['arrayBufferToObject'](_0x6c4ca4[_0x55e629(0x1a1)]),_0x458f2a['buffer']];}}const _0x383c4f=0xc350;var _0x183421,_0x27d67a;!function(_0x181e79){const _0x1ef810=_0x4bc902;_0x181e79[_0x181e79[_0x1ef810(0x3c9)]=0x0]='High',_0x181e79[_0x181e79[_0x1ef810(0x5e0)]=0x1]=_0x1ef810(0x5e0),_0x181e79[_0x181e79['Low']=0x2]=_0x1ef810(0x9a8);}(_0x183421||(_0x183421={}));class _0x3e6b73 extends _0x411bb0{[_0x4bc902(0x5dd)];[_0x4bc902(0x4e3)];[_0x4bc902(0x946)]=new Map();[_0x4bc902(0x2b8)];[_0x4bc902(0x560)];[_0x4bc902(0x9c6)];['isReconnecting']=!0x1;[_0x4bc902(0x134)];['restartTimeout'];['upgradeTimeout'];['retryQueue']=function(e,t=_0x183421,s=!0x1){let n=!0x1;const i=[];async function o(){const _0x271f06=a0_0x4227;if(!n){for(n=!0x0;i[_0x271f06(0x3eb)](e=>e['head']);){let t,n=0x0;for(const [e,s]of i['entries']())if(t=s[_0x271f06(0x47b)](),n=e,t)break;if(t)try{if(e instanceof _0xa6ac6d&&e['call'](t),e instanceof _0x33486f&&await e[_0x271f06(0x733)](t),i[_0x271f06(0x246)](-0x1)[_0x271f06(0x3eb)](e=>e[_0x271f06(0x2ba)]))continue;const s=i[_0x271f06(0x1d8)]-0x1;n===s&&i[s][_0x271f06(0x2ba)]&&await _0x58c1db[_0x271f06(0x261)](0x0);}catch(o){s?i[n][_0x271f06(0x5b2)](t,!0x1):i[n][_0x271f06(0x495)](t,!0x1),await e[_0x271f06(0x261)]();}}n=!0x1;}}return Object['values'](t)['forEach'](e=>{'string'!=typeof e&&(i[e]=_0x32839b(o));}),{'queues':i};}(new _0xa6ac6d(this['sendAction'][_0x4bc902(0x4b0)](this),this[_0x4bc902(0x897)][_0x4bc902(0x4b0)](this)));[_0x4bc902(0x5b9)]=0x0;[_0x4bc902(0x61c)]=0x0;[_0x4bc902(0x55c)]=0x0;[_0x4bc902(0x837)]=0x0;[_0x4bc902(0x856)];[_0x4bc902(0x1ed)]=_0x5426f9(_0x4bc902(0x571),_0x4f63ff[_0x4bc902(0x79c)]);constructor(_0x46b63c,_0x1ac181,_0x11a0dd,_0x24fcf5,_0x29b5ee,_0x17bf0b,_0x41d3fe,_0x53dccb){const _0x57fcc2=_0x4bc902;super(_0x46b63c,_0x1ac181,_0x11a0dd,_0x24fcf5,_0x29b5ee,_0x53dccb),this[_0x57fcc2(0x5dd)]=_0x17bf0b,this['maxBpp']=_0x41d3fe;}[_0x4bc902(0x6bf)](){const _0x58a668=_0x4bc902;this[_0x58a668(0x8c2)](),this[_0x58a668(0x3cb)](),delete this['lastHeartbeat'],this[_0x58a668(0xa39)](),this[_0x58a668(0x208)](),this[_0x58a668(0x3b1)](),this['senders'][_0x58a668(0x984)](),this['isReconnecting']=!0x1,this['retryQueue'][_0x58a668(0x288)][_0x58a668(0x105)](_0x387f4a=>_0x387f4a[_0x58a668(0x984)]()),this[_0x58a668(0x99b)](),super[_0x58a668(0x6bf)]();}[_0x4bc902(0x8cd)](){const _0x5bc839=_0x4bc902;return!!this[_0x5bc839(0x9c6)]&&super[_0x5bc839(0x8cd)]()&&Date[_0x5bc839(0xa09)]()-this[_0x5bc839(0x9c6)]<0x3a98;}async[_0x4bc902(0x854)](){const _0x2ffdfc=_0x4bc902;this['systemTopic']&&(await this[_0x2ffdfc(0x87d)][_0x2ffdfc(0x78a)](this[_0x2ffdfc(0x946)],(_0x2d89d4,_0x3d1e54)=>{const _0x46184c=_0x2ffdfc;_0x5e516e({'type':_0x10d48f[_0x46184c(0x5c2)],'streamId':_0x3d1e54,'nodeId':this[_0x46184c(0x1ae)],'stats':_0x2d89d4},this[_0x46184c(0x67d)]);}),this[_0x2ffdfc(0x67d)][_0x2ffdfc(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x2ffdfc(0x27f)],'content':{'type':_0x10d48f[_0x2ffdfc(0x5c2)],'nodeId':this[_0x2ffdfc(0x1ae)],'stats':{'origin':_0x59a9f8[_0x2ffdfc(0x1b2)],'timestamp':Date[_0x2ffdfc(0xa09)](),'messagesSent':this[_0x2ffdfc(0x5b9)],'bytesSent':this[_0x2ffdfc(0x61c)],'timeSending':this[_0x2ffdfc(0x55c)],'roundTripTime':this[_0x2ffdfc(0x837)]}}}));}async['createOffer'](_0x580e85){const _0xff1359=_0x4bc902;_0x28bf01[_0xff1359(0x5e2)](_0x4f63ff[_0xff1359(0x381)],'CrewdleSenderConnection\x20createOffer',this[_0xff1359(0x8cc)][_0xff1359(0x68a)](),this['remoteId']),this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this[_0xff1359(0x3b1)](),this[_0xff1359(0x134)]=setTimeout(()=>{const _0x174501=_0xff1359;this[_0x174501(0x169)]();},0x7530),this[_0xff1359(0x842)]||(this[_0xff1359(0x842)]=this[_0xff1359(0x87d)][_0xff1359(0x759)](_0xff1359(0x463)),this[_0xff1359(0x842)][_0xff1359(0x1b4)]=_0xb22abd,this['dataChannel']['onClose']=()=>{const _0x34516b=_0xff1359;this[_0x34516b(0x856)]=setTimeout(()=>{const _0x413031=_0x34516b;delete this[_0x413031(0x856)],[_0x413031(0x2de),_0x413031(0x171)]['includes'](this[_0x413031(0x842)]?.[_0x413031(0x6fe)]??'')||this['handleDisconnect']();},0xfa);});const _0x2d73a9=await this[_0xff1359(0x87d)][_0xff1359(0x58e)](_0x580e85);this[_0xff1359(0x9c6)]||(this['lastHeartbeat']=Date[_0xff1359(0xa09)]());const _0x4764e6=(0x0,_0x31add3['v4'])();this[_0xff1359(0x9bb)]({'type':_0x10d48f[_0xff1359(0x48f)],'offer':_0x2d73a9,'version':this[_0xff1359(0x2b3)],'connectionType':this[_0xff1359(0x878)]},_0x4764e6),this[_0xff1359(0x878)]===_0x2be930[_0xff1359(0x461)]&&(this[_0xff1359(0x560)]=_0x58c1db[_0xff1359(0x1d2)](()=>{const _0x1a24ea=_0xff1359;this['publishSystemMessage']({'type':_0x10d48f[_0x1a24ea(0x48f)],'offer':_0x2d73a9,'version':this[_0x1a24ea(0x2b3)],'connectionType':this[_0x1a24ea(0x878)]},_0x4764e6);},0x1388));}async[_0x4bc902(0x637)](_0x3ddb66,_0x1e3eb9){const _0x277550=_0x4bc902;if(_0x1e3eb9===this['currentVersion']){this[_0x277550(0x3b1)]();try{await this[_0x277550(0x87d)][_0x277550(0x637)](_0x3ddb66,this[_0x277550(0x58e)][_0x277550(0x4b0)](this)),this['processPendingHandshakeCandidates'](),this['clearConnectionTimeout'](),this['startHeartbeat']();}catch(_0x1ceb7c){this[_0x277550(0x169)]();}}}['send'](_0x2fff07){const _0x208cb5=_0x4bc902;if(!this[_0x208cb5(0x842)])throw new _0x3d0311(_0x3d0311[_0x208cb5(0x85e)][_0x208cb5(0x7de)],{'message':_0x208cb5(0x91e),'localId':this[_0x208cb5(0x8cc)][_0x208cb5(0x68a)](),'remoteId':this['remoteId'],'eventMessage':_0x2fff07});if('open'!==this['dataChannel']['state'])throw new _0x3d0311(_0x3d0311[_0x208cb5(0x85e)]['InvalidDataChannel'],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this[_0x208cb5(0x8cc)][_0x208cb5(0x68a)](),'remoteId':this[_0x208cb5(0x1ae)],'eventMessage':_0x2fff07});let _0x4b1973;if(_0x2fff07[_0x208cb5(0xa0d)]['data']instanceof ArrayBuffer){const _0x200eaa=_0x2fff07[_0x208cb5(0xa0d)][_0x208cb5(0x463)];_0x2fff07={..._0x2fff07,'content':{..._0x2fff07[_0x208cb5(0xa0d)],'data':void 0x0}},_0x4b1973=this[_0x208cb5(0x647)](_0x2fff07,_0x200eaa);}else _0x4b1973=JSON[_0x208cb5(0x80e)](_0x2fff07);if('string'==typeof _0x4b1973&&_0x4b1973[_0x208cb5(0x1d8)]>_0x2c2c1c)return this[_0x208cb5(0x7f4)](_0x2fff07,_0x4b1973);0x0===_0x2fff07[_0x208cb5(0xa04)]&&_0x2fff07['messageType']===_0x18db64[_0x208cb5(0x889)]&&this[_0x208cb5(0x1ed)]['logger'][_0x208cb5(0x5c4)](()=>_0x28bf01['log'](_0x4f63ff['SenderSendMessage'],_0x208cb5(0x385),this[_0x208cb5(0x1ae)],_0x545e5f(_0x2fff07)),void 0x0);const _0x2940ad=0x0===_0x2fff07[_0x208cb5(0xa04)]&&[_0x18db64['Subscription'],_0x18db64[_0x208cb5(0x27f)]][_0x208cb5(0x7f5)](_0x2fff07[_0x208cb5(0x113)])?_0x183421[_0x208cb5(0x3c9)]:_0x2fff07 instanceof ArrayBuffer?_0x183421['Low']:_0x183421[_0x208cb5(0x5e0)];this[_0x208cb5(0x541)](_0x4b1973,_0x2940ad);}['addTrack'](_0x24e033,_0x53ed03,_0x2cc04d,_0x9b39ca){const _0x5bdb0c=_0x4bc902,_0x2fa552=(_0x273c7b=this['maxFps'],_0x234a99=this['maxBpp'],Math[_0x5bdb0c(0x84c)](0xe1000*_0x273c7b*_0x234a99));var _0x273c7b,_0x234a99;const _0x4e6282=this[_0x5bdb0c(0x946)]['get'](_0x53ed03['id'])||{'stream':_0x53ed03,'priority':_0x2cc04d,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x2fa552,'maxBitrate':_0x2fa552,'framerate':this[_0x5bdb0c(0x5dd)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x9b39ca},_0x179355=_0x4e6282[_0x5bdb0c(0x2a6)][_0x24e033['kind']]||{'track':_0x24e033};if(_0x179355[_0x5bdb0c(0x2fc)]?(_0x179355[_0x5bdb0c(0x41c)]=_0x24e033,this[_0x5bdb0c(0x87d)][_0x5bdb0c(0x939)](_0x24e033,_0x179355[_0x5bdb0c(0x2fc)])):_0x179355['sender']=this[_0x5bdb0c(0x87d)][_0x5bdb0c(0x532)](_0x24e033,_0x53ed03),_0x4e6282['tracks'][_0x24e033[_0x5bdb0c(0x36b)]]=_0x179355,_0x9b39ca&&(_0x4e6282[_0x5bdb0c(0x178)]=_0x9b39ca),_0x9b39ca&&_0x5bdb0c(0x47f)===_0x9b39ca[_0x5bdb0c(0x36b)]&&_0x9b39ca[_0x5bdb0c(0x7f2)]&&_0x9b39ca[_0x5bdb0c(0x5ec)]&&(_0x4e6282[_0x5bdb0c(0x343)]=this[_0x5bdb0c(0x2ea)](_0x9b39ca[_0x5bdb0c(0x7f2)],_0x9b39ca[_0x5bdb0c(0x5ec)]),_0x4e6282[_0x5bdb0c(0xa20)]=_0x4e6282[_0x5bdb0c(0x343)],_0x4e6282[_0x5bdb0c(0x2a6)][_0x5bdb0c(0x47f)]&&_0x4e6282[_0x5bdb0c(0x2a6)][_0x5bdb0c(0x47f)][_0x5bdb0c(0x2fc)])){const _0x1dad2b=_0x4e6282[_0x5bdb0c(0x2a6)][_0x5bdb0c(0x47f)][_0x5bdb0c(0x2fc)];this[_0x5bdb0c(0x87d)]['setEncodingParameters'](_0x1dad2b,Math['floor'](0xa*_0x4e6282[_0x5bdb0c(0x343)])/0xa,_0x4e6282['framerate'],_0x4e6282[_0x5bdb0c(0x2d5)],_0x4e6282[_0x5bdb0c(0x192)]);}this[_0x5bdb0c(0x946)][_0x5bdb0c(0x179)](_0x53ed03['id'],_0x4e6282);}[_0x4bc902(0x1b3)](_0x273f60,_0x858a3e){const _0x2f4eb1=_0x4bc902,_0x49c2b2=this[_0x2f4eb1(0x946)]['get'](_0x273f60['id']);if(_0x49c2b2&&_0x49c2b2['priority']!==_0x858a3e&&(_0x49c2b2['priority']=_0x858a3e,_0x49c2b2[_0x2f4eb1(0x2a6)][_0x2f4eb1(0x47f)]&&_0x49c2b2[_0x2f4eb1(0x2a6)][_0x2f4eb1(0x47f)]['sender'])){const _0x3a86cf=_0x49c2b2['tracks'][_0x2f4eb1(0x47f)][_0x2f4eb1(0x2fc)];this[_0x2f4eb1(0x87d)][_0x2f4eb1(0xa0b)](_0x3a86cf,Math[_0x2f4eb1(0x84c)](0xa*_0x49c2b2[_0x2f4eb1(0x343)])/0xa,_0x49c2b2[_0x2f4eb1(0x481)],_0x49c2b2[_0x2f4eb1(0x2d5)],_0x49c2b2[_0x2f4eb1(0x192)]);}}[_0x4bc902(0x382)](_0x18c53f,_0x2b0bd1){const _0x52e201=_0x4bc902,_0x1e0dcc=this[_0x52e201(0x946)][_0x52e201(0x985)](_0x18c53f['id']);if(_0x1e0dcc){if(_0x1e0dcc[_0x52e201(0x178)]=_0x2b0bd1,_0x2b0bd1&&'video'===_0x2b0bd1['kind']&&_0x2b0bd1['resolution']&&_0x2b0bd1[_0x52e201(0x5ec)]){if(_0x1e0dcc['minResolutionScale']=this['getResolutionScale'](_0x2b0bd1[_0x52e201(0x7f2)],_0x2b0bd1[_0x52e201(0x5ec)]),_0x1e0dcc[_0x52e201(0x343)]<_0x1e0dcc[_0x52e201(0xa20)]&&(_0x1e0dcc[_0x52e201(0x343)]=_0x1e0dcc[_0x52e201(0xa20)]),_0x1e0dcc[_0x52e201(0x2a6)]['video']&&_0x1e0dcc['tracks'][_0x52e201(0x47f)]['sender']){const _0x44a278=_0x1e0dcc[_0x52e201(0x2a6)]['video']['sender'];this['connection'][_0x52e201(0xa0b)](_0x44a278,Math['floor'](0xa*_0x1e0dcc['resolutionScale'])/0xa,_0x1e0dcc[_0x52e201(0x481)],_0x1e0dcc['bitrate'],_0x1e0dcc['priority']);}this[_0x52e201(0x8c2)](),this[_0x52e201(0x931)]();}this[_0x52e201(0x946)][_0x52e201(0x179)](_0x18c53f['id'],_0x1e0dcc);}}[_0x4bc902(0x5fe)](_0x56c685,_0xbd546f){const _0x3a280a=_0x4bc902,_0x46cc77=this[_0x3a280a(0x946)]['get'](_0xbd546f['id']);if(_0x46cc77){const _0x2cbfb4=_0x46cc77['tracks'][_0x56c685[_0x3a280a(0x36b)]];_0x2cbfb4&&(_0x2cbfb4[_0x3a280a(0x2fc)]&&this[_0x3a280a(0x87d)][_0x3a280a(0x5fe)](_0x2cbfb4['sender']),_0x2cbfb4[_0x3a280a(0x41c)]=void 0x0);}}['applyRemediation'](_0x2f8bb2){const _0x125984=_0x4bc902;this[_0x125984(0x8c2)]();const _0x4fb7c=function(_0x2bd8be,_0x17bfb3){const _0x4dd8de=_0x125984;return _0x2bd8be[_0x4dd8de(0x728)]((_0x3e7ca4,_0x3fd157)=>_0x17bfb3[_0x4dd8de(0x20e)]===_0x3d6176[_0x4dd8de(0x2ec)]?_0x3fd157[_0x4dd8de(0x192)]-_0x3e7ca4[_0x4dd8de(0x192)]:_0x3e7ca4[_0x4dd8de(0x192)]-_0x3fd157['priority'])[_0x4dd8de(0x731)](_0x36279d=>function(_0x50a74b,_0x1a00f8){const _0x3add4d=_0x4dd8de;if(_0x1a00f8[_0x3add4d(0x20e)]===_0x3d6176[_0x3add4d(0x2ec)]){if(_0x1a00f8['component']===_0x2f3a3f[_0x3add4d(0x21a)])return _0x50a74b[_0x3add4d(0x343)]<0x4||_0x50a74b[_0x3add4d(0x7fc)]>0xf;if(_0x1a00f8['component']===_0x2f3a3f[_0x3add4d(0x241)])return _0x50a74b[_0x3add4d(0xa22)]>_0x383c4f;}return _0x50a74b[_0x3add4d(0x343)]>_0x50a74b[_0x3add4d(0xa20)]||_0x50a74b[_0x3add4d(0x481)]<_0x50a74b[_0x3add4d(0x7fc)]||_0x50a74b['bitrate']<_0x50a74b[_0x3add4d(0xa22)];}(_0x36279d,_0x17bfb3));}(Array[_0x125984(0x100)](this['senders'][_0x125984(0x437)]()),_0x2f8bb2);if(_0x4fb7c&&(function(_0x471bc3,_0x4803e2){const _0x4a30c8=_0x125984;_0x471bc3[_0x4a30c8(0x2a6)][_0x4a30c8(0x47f)]&&_0x471bc3[_0x4a30c8(0x2a6)][_0x4a30c8(0x47f)][_0x4a30c8(0x2fc)]&&(_0x471bc3['resolutionScale']=function(_0x254e1e,_0x17e5e0,_0xb002a8){const _0x1017e3=_0x4a30c8;switch(_0xb002a8['action']){case _0x3d6176[_0x1017e3(0x2ec)]:_0xb002a8[_0x1017e3(0x11a)]===_0x2f3a3f[_0x1017e3(0x21a)]&&(_0x254e1e+=0.5)>0x4&&(_0x254e1e=0x4);break;case _0x3d6176[_0x1017e3(0x2b9)]:(_0x254e1e-=0.5)<_0x17e5e0&&(_0x254e1e=_0x17e5e0);}return _0x254e1e;}(_0x471bc3[_0x4a30c8(0x343)],_0x471bc3[_0x4a30c8(0xa20)],_0x4803e2),_0x471bc3[_0x4a30c8(0x481)]=function(_0x430f7b,_0x2c3da5,_0x313ffd){const _0x58742c=_0x4a30c8;switch(_0x313ffd[_0x58742c(0x20e)]){case _0x3d6176['Downgrade']:_0x313ffd[_0x58742c(0x11a)]===_0x2f3a3f[_0x58742c(0x21a)]&&(_0x430f7b-=0x3)<0xf&&(_0x430f7b=0xf);break;case _0x3d6176['Upgrade']:(_0x430f7b+=0x3)>_0x2c3da5&&(_0x430f7b=_0x2c3da5);}return _0x430f7b;}(_0x471bc3[_0x4a30c8(0x481)],_0x471bc3[_0x4a30c8(0x7fc)],_0x4803e2),_0x471bc3[_0x4a30c8(0x2d5)]=function(_0x43eb01,_0x221cb2,_0x19d8e3){const _0x2fd194=_0x4a30c8;switch(_0x19d8e3[_0x2fd194(0x20e)]){case _0x3d6176[_0x2fd194(0x2ec)]:_0x19d8e3['component']===_0x2f3a3f[_0x2fd194(0x241)]&&(_0x43eb01*=0.75)<_0x383c4f&&(_0x43eb01=_0x383c4f);break;case _0x3d6176[_0x2fd194(0x2b9)]:(_0x43eb01*=1.25)>_0x221cb2&&(_0x43eb01=_0x221cb2);}return _0x43eb01;}(_0x471bc3[_0x4a30c8(0x2d5)],_0x471bc3[_0x4a30c8(0xa22)],_0x4803e2));}(_0x4fb7c,_0x2f8bb2),_0x4fb7c[_0x125984(0x2a6)]['video']&&_0x4fb7c[_0x125984(0x2a6)][_0x125984(0x47f)]['sender'])){const _0x2ed543=_0x4fb7c['tracks'][_0x125984(0x47f)][_0x125984(0x2fc)];this['connection']['setEncodingParameters'](_0x2ed543,Math[_0x125984(0x84c)](0xa*_0x4fb7c[_0x125984(0x343)])/0xa,_0x4fb7c[_0x125984(0x481)],_0x4fb7c[_0x125984(0x2d5)],_0x4fb7c[_0x125984(0x192)]);}(_0x4fb7c||_0x2f8bb2[_0x125984(0x20e)]===_0x3d6176[_0x125984(0x2ec)])&&this[_0x125984(0x931)]();}[_0x4bc902(0x662)](){const _0xa26fc7=_0x4bc902;return this[_0xa26fc7(0x37b)][_0xa26fc7(0x288)][_0xa26fc7(0x214)]((_0x4425c0,_0x924d75)=>_0x4425c0+_0x924d75['size'],0x0)*_0x51bd59;}[_0x4bc902(0x968)](){const _0x56557b=_0x4bc902;return this[_0x56557b(0x842)]?.[_0x56557b(0x4e4)]??0x0;}[_0x4bc902(0x7e7)](){const _0x1289c9=_0x4bc902;super[_0x1289c9(0x7e7)](),this[_0x1289c9(0x99b)](),this['clearWaitAnswer'](),this[_0x1289c9(0x946)]['forEach'](_0x364c0e=>{const _0x23016f=_0x1289c9;_0x364c0e[_0x23016f(0x2a6)][_0x23016f(0x47f)]&&(_0x364c0e['tracks'][_0x23016f(0x47f)]['sender']=void 0x0),_0x364c0e['tracks'][_0x23016f(0x8c5)]&&(_0x364c0e[_0x23016f(0x2a6)][_0x23016f(0x8c5)]['sender']=void 0x0);}),this['isReconnecting']=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x163012=>{const _0x34638d=a0_0x4227;if(!this[_0x34638d(0x842)]||'open'!==this[_0x34638d(0x842)][_0x34638d(0x6fe)])return await _0x58c1db[_0x34638d(0x261)](0x64),void _0x163012();this[_0x34638d(0x842)][_0x34638d(0x4e4)]<_0xb22abd?_0x163012():this[_0x34638d(0x842)][_0x34638d(0x597)]=()=>{const _0x2d3229=_0x34638d;this[_0x2d3229(0x842)]&&(this[_0x2d3229(0x842)][_0x2d3229(0x597)]=null),_0x163012();};});}[_0x4bc902(0x7f4)](_0x5677e8,_0x5aa9f2){const _0x5eae5f=_0x4bc902,_0x1668db=[];for(let _0x448b37=0x0;_0x448b37<_0x5aa9f2['length'];_0x448b37+=_0x2c2c1c)_0x1668db[_0x5eae5f(0x5b2)](_0x5aa9f2[_0x5eae5f(0x246)](_0x448b37,_0x448b37+_0x2c2c1c));for(const _0x5d97c1 of _0x1668db)this[_0x5eae5f(0x541)](_0x43496b+';'+_0x5677e8['uuid']+';'+_0x1668db['indexOf'](_0x5d97c1)+';'+_0x1668db[_0x5eae5f(0x1d8)]+';'+_0x5d97c1,_0x183421[_0x5eae5f(0x9a8)]);}async[_0x4bc902(0x541)](_0x23195c,_0x5d60ba){const _0x353dc9=_0x4bc902;_0x23195c===_0x5c31f3?this[_0x353dc9(0x37b)][_0x353dc9(0x288)][_0x5d60ba]['head']?.[_0x353dc9(0x2b0)]!==_0x5c31f3&&this['retryQueue'][_0x353dc9(0x288)][_0x5d60ba][_0x353dc9(0x495)](_0x23195c):this['retryQueue'][_0x353dc9(0x288)][_0x5d60ba]['push'](_0x23195c);}[_0x4bc902(0x4ee)](_0x38dcf8){const _0x3e9bc4=_0x4bc902;if(!this[_0x3e9bc4(0x842)]||_0x3e9bc4(0x171)!==this[_0x3e9bc4(0x842)][_0x3e9bc4(0x6fe)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this['dataChannel'][_0x3e9bc4(0x4e4)]>=0xbe8000)throw new Error(_0x3e9bc4(0x65f));const _0x56a4b2=Date[_0x3e9bc4(0xa09)]();_0x38dcf8!==_0x5c31f3&&(this[_0x3e9bc4(0x5b9)]+=0x1,this['bytesSent']+=_0x38dcf8 instanceof ArrayBuffer?_0x38dcf8[_0x3e9bc4(0x82d)]:_0x38dcf8[_0x3e9bc4(0x1d8)]),ArrayBuffer,this[_0x3e9bc4(0x842)][_0x3e9bc4(0x890)](_0x38dcf8),this['timeSending']+=Date[_0x3e9bc4(0xa09)]()-_0x56a4b2;}[_0x4bc902(0x280)](){const _0x1eb69a=_0x4bc902;this[_0x1eb69a(0x2b8)]&&this['clearHeartbeat']();let _0x502e63=!0x0,_0x2d2faa=Date[_0x1eb69a(0xa09)]();this[_0x1eb69a(0x9c6)]=Date[_0x1eb69a(0xa09)](),this[_0x1eb69a(0x842)][_0x1eb69a(0x4d9)]=_0x469eb2=>{const _0x2d245e=_0x1eb69a;'1'===_0x469eb2[_0x2d245e(0x463)]&&(this[_0x2d245e(0x837)]=Date[_0x2d245e(0xa09)]()-_0x2d2faa,_0x502e63&&this['publishSystemMessage']({'type':_0x10d48f[_0x2d245e(0x690)]}),_0x502e63=!0x1,this[_0x2d245e(0x9c6)]=Date[_0x2d245e(0xa09)](),this[_0x2d245e(0x938)]&&(this[_0x2d245e(0x938)]=!0x1,this['handleMissingSenders']()));},this['heartbeatUnsubscriber']=_0x58c1db[_0x1eb69a(0x1d2)](()=>{const _0x2a6f71=_0x1eb69a;_0x2d2faa=Date[_0x2a6f71(0xa09)](),this[_0x2a6f71(0x541)](_0x5c31f3,_0x183421[_0x2a6f71(0x3c9)]),Date[_0x2a6f71(0xa09)]()-this['lastHeartbeat']>(_0x502e63?0x15f90:0x3a98)&&this[_0x2a6f71(0x169)]();},0xbb8);}[_0x4bc902(0x893)](){const _0x5abcb0=_0x4bc902;this['senders'][_0x5abcb0(0x105)](_0x11fe23=>{const _0x348bf3=_0x5abcb0;_0x11fe23[_0x348bf3(0x2a6)][_0x348bf3(0x47f)]&&_0x11fe23[_0x348bf3(0x2a6)][_0x348bf3(0x47f)][_0x348bf3(0x41c)]&&!_0x11fe23[_0x348bf3(0x2a6)][_0x348bf3(0x47f)][_0x348bf3(0x2fc)]&&(_0x11fe23['tracks']['video'][_0x348bf3(0x2fc)]=this[_0x348bf3(0x87d)]['addTrack'](_0x11fe23[_0x348bf3(0x2a6)]['video'][_0x348bf3(0x41c)],_0x11fe23[_0x348bf3(0x3be)])),_0x11fe23[_0x348bf3(0x2a6)][_0x348bf3(0x8c5)]&&_0x11fe23[_0x348bf3(0x2a6)][_0x348bf3(0x8c5)][_0x348bf3(0x41c)]&&!_0x11fe23[_0x348bf3(0x2a6)][_0x348bf3(0x8c5)][_0x348bf3(0x2fc)]&&(_0x11fe23['tracks']['audio']['sender']=this[_0x348bf3(0x87d)][_0x348bf3(0x532)](_0x11fe23[_0x348bf3(0x2a6)][_0x348bf3(0x8c5)][_0x348bf3(0x41c)],_0x11fe23[_0x348bf3(0x3be)]));});}['sendIceCandidates'](){const _0x4d218e=_0x4bc902;this[_0x4d218e(0x9bb)]({'type':_0x10d48f[_0x4d218e(0x29f)],'candidates':this[_0x4d218e(0x212)],'origin':_0x59a9f8[_0x4d218e(0x1b2)],'version':this[_0x4d218e(0x2b3)],'connectionType':this['connectionType']});}[_0x4bc902(0x43c)](){const _0x155132=_0x4bc902;super[_0x155132(0x43c)](),this[_0x155132(0x87d)]['onHandshakeStateChange']=()=>{const _0xf74dfa=_0x155132;if('failed'===this[_0xf74dfa(0x87d)][_0xf74dfa(0x89e)]){_0x28bf01[_0xf74dfa(0x5e2)](_0x4f63ff[_0xf74dfa(0x3a9)],_0xf74dfa(0x5f6),this[_0xf74dfa(0x8cc)][_0xf74dfa(0x68a)](),this[_0xf74dfa(0x1ae)]);try{if(this[_0xf74dfa(0x87d)][_0xf74dfa(0x42f)])return void this['connection'][_0xf74dfa(0x3c1)]();}catch(_0x4cf6ce){}this[_0xf74dfa(0x58e)]({'handshakeRestart':!0x0});}},this['connection'][_0x155132(0x9db)]=()=>{const _0xba66bc=_0x155132;_0xba66bc(0x766)!==this[_0xba66bc(0x87d)]['connectionState']&&_0xba66bc(0x88f)!==this[_0xba66bc(0x87d)][_0xba66bc(0x93a)]||this[_0xba66bc(0x169)]();};}[_0x4bc902(0x169)](){const _0xfc680=_0x4bc902;this[_0xfc680(0x3cb)](),this[_0xfc680(0xa39)](),this[_0xfc680(0x208)](),_0x28bf01['warning'](_0xfc680(0x62c),{'clusterId':this['clusterId'],'nodeId':this[_0xfc680(0x8cc)][_0xfc680(0x68a)](),'nodeType':this[_0xfc680(0x8cc)][_0xfc680(0x1aa)],'remoteId':this[_0xfc680(0x1ae)],'data':{'connectionType':this['connectionType'],'connectionState':this[_0xfc680(0x87d)][_0xfc680(0x93a)],'iceConnectionState':this[_0xfc680(0x87d)][_0xfc680(0x89e)],'signalingState':this['connection'][_0xfc680(0x391)],'readyState':this[_0xfc680(0x842)]?.['state']||'','lastHeartbeat':this[_0xfc680(0x9c6)]?Date[_0xfc680(0xa09)]()-this[_0xfc680(0x9c6)]:'','retryQueue':this[_0xfc680(0x37b)]}}),(this[_0xfc680(0x9c6)]&&Date['now']()-this[_0xfc680(0x9c6)]>0xea60)??0x1?this[_0xfc680(0x67d)]['publish']({'sourceId':this[_0xfc680(0x1ae)],'destinationIds':[this[_0xfc680(0x8cc)][_0xfc680(0x68a)]()],'messageType':_0x18db64[_0xfc680(0x27f)],'content':{'type':_0x10d48f[_0xfc680(0x60d)]}}):(this['resetConnection'](),this['publishSystemMessage']({'type':_0x10d48f['NeedRestart'],'version':this[_0xfc680(0x2b3)],'connectionType':this[_0xfc680(0x878)]}),this[_0xfc680(0x880)]=setTimeout(()=>{const _0x5db2b2=_0xfc680;this[_0x5db2b2(0x169)]();},0x7530));}[_0x4bc902(0x3cb)](){const _0x22d449=_0x4bc902;this[_0x22d449(0x2b8)]?.(),delete this[_0x22d449(0x2b8)];}['clearConnectionTimeout'](){const _0x36683a=_0x4bc902;this[_0x36683a(0x134)]&&(clearTimeout(this[_0x36683a(0x134)]),delete this['connectionTimeout']);}[_0x4bc902(0xa39)](){const _0x510dd8=_0x4bc902;this['restartTimeout']&&(clearTimeout(this['restartTimeout']),delete this[_0x510dd8(0x880)]);}[_0x4bc902(0x8c2)](){const _0x33cfab=_0x4bc902;this[_0x33cfab(0x998)]&&(clearTimeout(this[_0x33cfab(0x998)]),delete this[_0x33cfab(0x998)]);}[_0x4bc902(0x931)](){const _0x1fb449=_0x4bc902;this[_0x1fb449(0x998)]=setTimeout(()=>{const _0x35c10c=_0x1fb449;this[_0x35c10c(0x589)]({'type':_0x10e890[_0x35c10c(0x5c8)],'action':_0x3d6176[_0x35c10c(0x2b9)]});},0x3a98);}['getResolutionScale'](_0x314fea,_0x356b9f){const _0x26d258=_0x4bc902,_0x4c7203=Math[_0x26d258(0x92a)](_0x314fea['width']/_0x356b9f[_0x26d258(0x547)],_0x314fea['height']/_0x356b9f['height']);return Math['min'](Math[_0x26d258(0x92a)](_0x4c7203,0x1),0x4);}[_0x4bc902(0x3b1)](){const _0x18a35f=_0x4bc902;this[_0x18a35f(0x560)]?.(),delete this[_0x18a35f(0x560)];}[_0x4bc902(0x99b)](){this['oncloseTimeout']&&(clearTimeout(this['oncloseTimeout']),delete this['oncloseTimeout']);}[_0x4bc902(0x408)](_0x2c4564){const _0x15caca=_0x4bc902,_0x2d8384=JSON[_0x15caca(0x80e)](_0x2c4564);return new TextEncoder()['encode'](_0x2d8384)[_0x15caca(0x1a1)];}[_0x4bc902(0x647)](_0x4897fc,_0x32e51d){const _0x138f56=_0x4bc902,_0x33d649=this[_0x138f56(0x408)](_0x4897fc),_0x61559c=new Uint8Array(0x4),_0x6c22b0=new Uint8Array(_0x33d649),_0x1866dc=new Uint8Array(_0x32e51d);_0x61559c[_0x138f56(0x179)](new Uint8Array(new Uint32Array([_0x6c22b0[_0x138f56(0x1d8)]])['buffer']));const _0x505977=new Uint8Array(0x4+_0x6c22b0[_0x138f56(0x1d8)]+_0x1866dc[_0x138f56(0x1d8)]);return _0x505977[_0x138f56(0x179)](_0x61559c),_0x505977[_0x138f56(0x179)](_0x6c22b0,0x4),_0x505977[_0x138f56(0x179)](_0x1866dc,0x4+_0x6c22b0[_0x138f56(0x1d8)]),_0x505977[_0x138f56(0x1a1)];}}class _0x5efaca extends _0x8aec12{[_0x4bc902(0x563)];[_0x4bc902(0x878)];[_0x4bc902(0x5dd)];['maxBpp'];['connectionConstructor'];[_0x4bc902(0x9f6)];[_0x4bc902(0x1e5)];[_0x4bc902(0x128)]=[];[_0x4bc902(0x8d1)]=_0x545df6();[_0x4bc902(0x869)]=_0x545df6();[_0x4bc902(0x711)]=_0x545df6();['listenerUnsubscribers']=[];[_0x4bc902(0x67d)];[_0x4bc902(0x1dc)]=new Map();['dataUnsubscribers']=new Map();[_0x4bc902(0x4e9)]=new Map();[_0x4bc902(0x77d)]=new Map();['successNotified']=!0x1;constructor(_0x4b7866,_0x2e789d,_0x410feb,_0x3092a9,_0x548db6,_0x8654c,_0x38759f,_0x503896){const _0x28c4d5=_0x4bc902;super(_0x4b7866,_0x2e789d,_0x410feb),this['iceServers']=_0x3092a9,this['connectionType']=_0x548db6,this[_0x28c4d5(0x5dd)]=_0x8654c,this[_0x28c4d5(0x4e3)]=_0x38759f,this[_0x28c4d5(0x7ff)]=_0x503896;}[_0x4bc902(0x388)](_0x5767b1){const _0x4d2a65=_0x4bc902;switch(_0x5767b1[_0x4d2a65(0x892)]()){case _0x3e2379[_0x4d2a65(0x41f)][_0x4d2a65(0x83c)]:case _0x3e2379['ContentType'][_0x4d2a65(0x93e)]:case _0x3e2379[_0x4d2a65(0x41f)][_0x4d2a65(0x9f7)]:case _0x3e2379[_0x4d2a65(0x41f)][_0x4d2a65(0x622)]:case _0x3e2379['ContentType'][_0x4d2a65(0x198)]:case _0x3e2379[_0x4d2a65(0x41f)]['VectorDatabase']:case _0x3e2379['ContentType'][_0x4d2a65(0x19b)]:case _0x3e2379[_0x4d2a65(0x41f)][_0x4d2a65(0x123)]:this[_0x4d2a65(0x1dc)][_0x4d2a65(0x179)](_0x5767b1[_0x4d2a65(0x5f1)](),_0x5767b1);break;case _0x3e2379['ContentType']['Media']:this['mediaTopics'][_0x4d2a65(0x179)](_0x5767b1[_0x4d2a65(0x5f1)](),_0x5767b1);}}['unregisterPublisher'](_0xb34720){const _0x2a658a=_0x4bc902;switch(_0xb34720[_0x2a658a(0x892)]()){case _0x3e2379['ContentType'][_0x2a658a(0x83c)]:case _0x3e2379[_0x2a658a(0x41f)]['PubSub']:case _0x3e2379[_0x2a658a(0x41f)][_0x2a658a(0x9f7)]:case _0x3e2379[_0x2a658a(0x41f)][_0x2a658a(0x622)]:case _0x3e2379[_0x2a658a(0x41f)][_0x2a658a(0x198)]:case _0x3e2379[_0x2a658a(0x41f)][_0x2a658a(0x2bc)]:case _0x3e2379['ContentType'][_0x2a658a(0x19b)]:case _0x3e2379[_0x2a658a(0x41f)][_0x2a658a(0x123)]:this['dataTopics'][_0x2a658a(0x24c)](_0xb34720['getLabel']());break;case _0x3e2379[_0x2a658a(0x41f)][_0x2a658a(0x117)]:this[_0x2a658a(0x4e9)][_0x2a658a(0x24c)](_0xb34720[_0x2a658a(0x5f1)]());}}[_0x4bc902(0x953)](_0x16772f){const _0x1895da=_0x4bc902;switch(_0x16772f['getContentType']()){case _0x3e2379['ContentType'][_0x1895da(0x83c)]:case _0x3e2379[_0x1895da(0x41f)]['PubSub']:case _0x3e2379[_0x1895da(0x41f)][_0x1895da(0x9f7)]:case _0x3e2379[_0x1895da(0x41f)]['KeyValueDatabase']:case _0x3e2379[_0x1895da(0x41f)]['Job']:case _0x3e2379['ContentType'][_0x1895da(0x2bc)]:case _0x3e2379[_0x1895da(0x41f)][_0x1895da(0x19b)]:case _0x3e2379[_0x1895da(0x41f)][_0x1895da(0x123)]:{const _0x15dfe8=_0x16772f[_0x1895da(0x9e4)](_0x4691e8=>{const _0x959d3c=_0x1895da;_0x427759(_0x4691e8,this[_0x959d3c(0x5ab)]())&&_0x47d08b(_0x4691e8,this['remoteId'])&&this[_0x959d3c(0x890)](_0x4691e8);});this[_0x1895da(0xa28)][_0x1895da(0x179)](_0x16772f[_0x1895da(0x5f1)](),_0x15dfe8);break;}case _0x3e2379[_0x1895da(0x41f)][_0x1895da(0x117)]:{const _0x465aec=_0x16772f[_0x1895da(0x9e4)](({content:_0x38342f})=>{const _0x243423=_0x1895da;switch(_0x38342f[_0x243423(0x20e)]){case _0x2b79dc['Add']:this[_0x243423(0x532)](_0x38342f[_0x243423(0x41c)],_0x38342f[_0x243423(0x3be)],_0x38342f[_0x243423(0x192)],_0x38342f[_0x243423(0x178)]);break;case _0x2b79dc[_0x243423(0x906)]:this['removeTrack'](_0x38342f[_0x243423(0x41c)],_0x38342f[_0x243423(0x3be)]);break;case _0x2b79dc[_0x243423(0x4ea)]:_0x38342f[_0x243423(0x192)]&&this['setPriority'](_0x38342f[_0x243423(0x3be)],_0x38342f[_0x243423(0x192)]),_0x38342f[_0x243423(0x178)]&&this['setParams'](_0x38342f[_0x243423(0x3be)],_0x38342f[_0x243423(0x178)]);}});this[_0x1895da(0x77d)][_0x1895da(0x179)](_0x16772f[_0x1895da(0x5f1)](),_0x465aec);break;}}}[_0x4bc902(0x5fa)](_0x47fafd){const _0x2a07f1=_0x4bc902;switch(_0x47fafd[_0x2a07f1(0x892)]()){case _0x3e2379[_0x2a07f1(0x41f)][_0x2a07f1(0x83c)]:case _0x3e2379[_0x2a07f1(0x41f)][_0x2a07f1(0x93e)]:case _0x3e2379[_0x2a07f1(0x41f)][_0x2a07f1(0x9f7)]:case _0x3e2379['ContentType'][_0x2a07f1(0x622)]:case _0x3e2379[_0x2a07f1(0x41f)][_0x2a07f1(0x198)]:case _0x3e2379[_0x2a07f1(0x41f)]['VectorDatabase']:case _0x3e2379[_0x2a07f1(0x41f)][_0x2a07f1(0x19b)]:case _0x3e2379['ContentType'][_0x2a07f1(0x123)]:this[_0x2a07f1(0xa28)][_0x2a07f1(0x985)](_0x47fafd[_0x2a07f1(0x5f1)]())?.(),this[_0x2a07f1(0xa28)][_0x2a07f1(0x24c)](_0x47fafd[_0x2a07f1(0x5f1)]());break;case _0x3e2379[_0x2a07f1(0x41f)][_0x2a07f1(0x117)]:this[_0x2a07f1(0x77d)]['get'](_0x47fafd['getLabel']())?.(),this['mediaUnsubscribers'][_0x2a07f1(0x24c)](_0x47fafd[_0x2a07f1(0x5f1)]());}}[_0x4bc902(0x874)](){const _0x5ddad3=_0x4bc902;return[_0x3e2379[_0x5ddad3(0x41f)][_0x5ddad3(0x83c)],_0x3e2379[_0x5ddad3(0x41f)][_0x5ddad3(0x117)],_0x3e2379[_0x5ddad3(0x41f)][_0x5ddad3(0x93e)],_0x3e2379[_0x5ddad3(0x41f)][_0x5ddad3(0x9f7)],_0x3e2379['ContentType']['KeyValueDatabase'],_0x3e2379[_0x5ddad3(0x41f)][_0x5ddad3(0x198)],_0x3e2379[_0x5ddad3(0x41f)][_0x5ddad3(0x2bc)],_0x3e2379[_0x5ddad3(0x41f)][_0x5ddad3(0x19b)],_0x3e2379[_0x5ddad3(0x41f)][_0x5ddad3(0x123)]];}[_0x4bc902(0x75b)](_0x42d6ba){this['systemTopic']=_0x42d6ba;}[_0x4bc902(0x2ef)](){const _0x33e449=_0x4bc902;delete this[_0x33e449(0x67d)];}async[_0x4bc902(0x11c)](){const _0x2680c4=_0x4bc902;this[_0x2680c4(0x82a)](),await this[_0x2680c4(0x58e)]();}[_0x4bc902(0x6bf)](){const _0x25b90c=_0x4bc902;this[_0x25b90c(0x9c7)][_0x25b90c(0x105)](_0x50b247=>_0x50b247()),this['listenerUnsubscribers']=[],this[_0x25b90c(0x9f6)]?.[_0x25b90c(0x2ef)](),this[_0x25b90c(0x9f6)]?.[_0x25b90c(0x6bf)](),delete this[_0x25b90c(0x9f6)],this[_0x25b90c(0x128)][_0x25b90c(0x105)](_0x1f4b0a=>_0x1f4b0a()),this[_0x25b90c(0x128)]=[],this['receiverConnection']?.['unregisterSystemPublisher'](),this[_0x25b90c(0x1e5)]?.['close'](),delete this['receiverConnection'];}[_0x4bc902(0x8cd)](){const _0x47507a=_0x4bc902;return this[_0x47507a(0x9f6)]?.[_0x47507a(0x8cd)]()&&this[_0x47507a(0x1e5)]?.[_0x47507a(0x8cd)]()||!0x1;}[_0x4bc902(0x890)](_0x9c35a){const _0x11bfed=_0x4bc902;if(!this['senderConnection']||!this[_0x11bfed(0x8cd)]())throw new _0x3d0311(_0x3d0311[_0x11bfed(0x85e)][_0x11bfed(0x400)],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x11bfed(0x9f6)]?.[_0x11bfed(0x8cd)](),'receiverConnected':this[_0x11bfed(0x1e5)]?.[_0x11bfed(0x8cd)](),'localId':this[_0x11bfed(0x5ab)](),'remoteId':this[_0x11bfed(0x1ae)],'data':_0x9c35a});this[_0x11bfed(0x9f6)][_0x11bfed(0x890)](_0x9c35a);}[_0x4bc902(0x4d9)](_0x328bb9){const _0x437d44=_0x4bc902;return this['messageListeners'][_0x437d44(0x9e4)](_0x328bb9);}[_0x4bc902(0x24f)](_0x27b62d){const _0x1abf87=_0x4bc902;return this[_0x1abf87(0x869)][_0x1abf87(0x9e4)](({track:_0xe5d503,stream:_0x128c06})=>_0x27b62d(_0xe5d503,_0x128c06));}[_0x4bc902(0x840)](_0x513c8e){const _0x207723=_0x4bc902;return this[_0x207723(0x711)][_0x207723(0x9e4)](({track:_0xad1dd1,stream:_0x405c66})=>_0x513c8e(_0xad1dd1,_0x405c66));}[_0x4bc902(0x532)](_0x6ecbfa,_0x408583,_0x4363de,_0x4f7761){this['senderConnection']?.['addTrack'](_0x6ecbfa,_0x408583,_0x4363de,_0x4f7761);}[_0x4bc902(0x1b3)](_0xd4a5f2,_0x5f4bd5){const _0x51d263=_0x4bc902;this[_0x51d263(0x9f6)]?.[_0x51d263(0x1b3)](_0xd4a5f2,_0x5f4bd5);}[_0x4bc902(0x382)](_0x59ab08,_0x5a2b8d){const _0x53a496=_0x4bc902;this[_0x53a496(0x9f6)]?.['setParams'](_0x59ab08,_0x5a2b8d);}[_0x4bc902(0x5fe)](_0x1d7d3d,_0x2c2f10){const _0x3513e4=_0x4bc902;this[_0x3513e4(0x9f6)]?.[_0x3513e4(0x5fe)](_0x1d7d3d,_0x2c2f10);}async[_0x4bc902(0x379)](_0x315cba){const _0x26d77a=_0x4bc902;_0x28bf01[_0x26d77a(0x5e2)](_0x4f63ff[_0x26d77a(0x381)],_0x26d77a(0x7af),this[_0x26d77a(0x5ab)](),_0x315cba);const {content:_0x2e7f53}=_0x315cba;switch(_0x2e7f53['type']){case _0x10d48f[_0x26d77a(0x48f)]:await this[_0x26d77a(0x446)](_0x2e7f53);break;case _0x10d48f['Answer']:await this[_0x26d77a(0x637)](_0x2e7f53);break;case _0x10d48f[_0x26d77a(0x690)]:this[_0x26d77a(0x70a)]();break;case _0x10d48f[_0x26d77a(0x29f)]:await this[_0x26d77a(0x55d)](_0x2e7f53);break;case _0x10d48f[_0x26d77a(0x3e8)]:this['handleNeedRestart'](_0x2e7f53);break;case _0x10d48f[_0x26d77a(0x48e)]:await this[_0x26d77a(0x58e)]();}}['handleRemediationSystemEvents'](_0x519950){const _0x59059a=_0x4bc902;this['senderConnection']?.[_0x59059a(0x589)](_0x519950[_0x59059a(0xa0d)]['data']);}['getConnectionType'](){const _0x21019c=_0x4bc902;return this[_0x21019c(0x878)];}[_0x4bc902(0x3d2)](_0x606399){const _0x141304=_0x4bc902;this['connectionType']=_0x606399,this['senderConnection']?.[_0x141304(0x3d2)](_0x606399),this[_0x141304(0x1e5)]?.['setConnectionType'](_0x606399);}async[_0x4bc902(0x854)](){const _0x126615=_0x4bc902;await this[_0x126615(0x9f6)]?.[_0x126615(0x854)](),await this[_0x126615(0x1e5)]?.[_0x126615(0x854)]();}['calculateArrayBufferSize'](){const _0x8646c6=_0x4bc902;return this[_0x8646c6(0x9f6)]?.[_0x8646c6(0x662)]()??0x0;}['getBufferedAmount'](){const _0x4e64cb=_0x4bc902;return this['senderConnection']?.[_0x4e64cb(0x968)]()??0x0;}[_0x4bc902(0x82a)](){const _0x336eba=_0x4bc902;this[_0x336eba(0x9c7)][_0x336eba(0x5b2)](this[_0x336eba(0x4d9)](_0x9778ed=>{const _0x1a05b7=_0x336eba;_0x47d08b(_0x9778ed,this[_0x1a05b7(0x5ab)]())&&0x0!==_0x9778ed[_0x1a05b7(0xa04)]&&this[_0x1a05b7(0x1dc)]['get'](_0x9778ed[_0x1a05b7(0xa04)])?.[_0x1a05b7(0x912)](_0x9778ed);})),this[_0x336eba(0x9c7)]['push'](this[_0x336eba(0x24f)]((_0x361e9b,_0x1ef935)=>{const _0x54dc6d=_0x336eba,_0xa8686d=_0x4646a8(_0x3e2379[_0x54dc6d(0x41f)]['Media'],_0x1ef935['id'],this[_0x54dc6d(0x1ae)]);this[_0x54dc6d(0x4e9)]['get'](_0xa8686d)?.[_0x54dc6d(0x912)]({'topicLabel':_0xa8686d,'sourceId':this[_0x54dc6d(0x1ae)],'contentType':_0x3e2379['ContentType']['Media'],'content':{'action':_0x2b79dc['RemoteAdd'],'track':_0x361e9b,'stream':_0x1ef935,'providerId':this[_0x54dc6d(0x1ae)]}});})),this[_0x336eba(0x9c7)][_0x336eba(0x5b2)](this[_0x336eba(0x840)]((_0xc90b66,_0x57ded0)=>{const _0x2e1ac6=_0x336eba,_0x430658=_0x4646a8(_0x3e2379[_0x2e1ac6(0x41f)][_0x2e1ac6(0x117)],_0x57ded0['id'],this['remoteId']);this[_0x2e1ac6(0x4e9)][_0x2e1ac6(0x985)](_0x430658)?.[_0x2e1ac6(0x912)]({'topicLabel':_0x430658,'sourceId':this[_0x2e1ac6(0x1ae)],'contentType':_0x3e2379[_0x2e1ac6(0x41f)][_0x2e1ac6(0x117)],'content':{'action':_0x2b79dc[_0x2e1ac6(0x47d)],'track':_0xc90b66,'stream':_0x57ded0,'providerId':this[_0x2e1ac6(0x1ae)]}});}));}['handleIceCandidates']({candidates:_0x214360,origin:_0x234ae4,version:_0x3a0584}){const _0x3b69ab=_0x4bc902;return _0x234ae4===_0x59a9f8[_0x3b69ab(0x1b2)]?(this[_0x3b69ab(0x1e5)]||this[_0x3b69ab(0x8ed)](),this[_0x3b69ab(0x1e5)]['handleHandshake'](_0x214360,_0x3a0584)):this[_0x3b69ab(0x9f6)][_0x3b69ab(0x8aa)](_0x214360,_0x3a0584);}async['createOffer'](){const _0x3a5601=_0x4bc902;this[_0x3a5601(0x9f6)]||this[_0x3a5601(0x644)](),await this[_0x3a5601(0x9f6)][_0x3a5601(0x58e)]();}async[_0x4bc902(0x446)]({offer:_0x5e285b,version:_0xbf1132}){const _0x169114=_0x4bc902;this['receiverConnection']||this[_0x169114(0x8ed)](),await this[_0x169114(0x1e5)][_0x169114(0x446)](_0x5e285b,_0xbf1132);}async[_0x4bc902(0x637)]({answer:_0x379a46,version:_0x127685}){const _0x5dcb04=_0x4bc902;if(!this[_0x5dcb04(0x9f6)])throw new _0x3d0311(_0x3d0311[_0x5dcb04(0x85e)][_0x5dcb04(0x400)],{'message':_0x5dcb04(0x201),'localId':this[_0x5dcb04(0x5ab)](),'remoteId':this[_0x5dcb04(0x1ae)],'answer':_0x379a46});await this[_0x5dcb04(0x9f6)][_0x5dcb04(0x637)](_0x379a46,_0x127685);}[_0x4bc902(0x70a)](){const _0x169d2c=_0x4bc902;if(!this[_0x169d2c(0x1e5)])throw new _0x3d0311(_0x3d0311[_0x169d2c(0x85e)][_0x169d2c(0x400)],{'message':_0x169d2c(0x8a8),'localId':this[_0x169d2c(0x5ab)](),'remoteId':this[_0x169d2c(0x1ae)]});this[_0x169d2c(0x1e5)]['handleSuccess'](),this[_0x169d2c(0x482)]||this[_0x169d2c(0x878)]!==_0x2be930['Optimization']||(this[_0x169d2c(0x482)]=!0x0,this[_0x169d2c(0x67d)]?.['publish']({'sourceId':this[_0x169d2c(0x1ae)],'destinationIds':[this[_0x169d2c(0x5ab)]()],'messageType':_0x18db64['PeerConnection'],'content':{'type':_0x10d48f[_0x169d2c(0x13d)]}}));}['handleNeedRestart'](_0x22aa23){const _0x42e023=_0x4bc902;this[_0x42e023(0x1e5)]||this[_0x42e023(0x8ed)](),this[_0x42e023(0x1e5)][_0x42e023(0x114)](_0x22aa23['version']);}['createSenderConnection'](){const _0x9f8db1=_0x4bc902;this[_0x9f8db1(0x9f6)]=new _0x3e6b73(this['clusterId'],this[_0x9f8db1(0x8cc)],this['remoteId'],this['iceServers'],this[_0x9f8db1(0x878)],this['maxFps'],this[_0x9f8db1(0x4e3)],this[_0x9f8db1(0x7ff)]),this[_0x9f8db1(0x9f6)][_0x9f8db1(0x75b)](this[_0x9f8db1(0x67d)]);}[_0x4bc902(0x8ed)](){const _0x39ae5a=_0x4bc902;this[_0x39ae5a(0x1e5)]=new _0x1fef2e(this[_0x39ae5a(0x6a2)],this[_0x39ae5a(0x8cc)],this['remoteId'],this[_0x39ae5a(0x563)],this[_0x39ae5a(0x878)],this[_0x39ae5a(0x7ff)]),this[_0x39ae5a(0x1e5)][_0x39ae5a(0x75b)](this[_0x39ae5a(0x67d)]),this['receiverUnsubscribers'][_0x39ae5a(0x5b2)](this['receiverConnection'][_0x39ae5a(0x4d9)](_0xd032fa=>this['messageListeners'][_0x39ae5a(0x912)](_0xd032fa))),this['receiverUnsubscribers'][_0x39ae5a(0x5b2)](this[_0x39ae5a(0x1e5)][_0x39ae5a(0x24f)]((_0x557dd0,_0x299c27)=>this[_0x39ae5a(0x869)][_0x39ae5a(0x912)]({'track':_0x557dd0,'stream':_0x299c27}))),this[_0x39ae5a(0x128)]['push'](this[_0x39ae5a(0x1e5)][_0x39ae5a(0x840)]((_0x249293,_0x168015)=>this[_0x39ae5a(0x711)][_0x39ae5a(0x912)]({'track':_0x249293,'stream':_0x168015})));}}class _0x941e78{['localId'];[_0x4bc902(0x138)];[_0x4bc902(0x9ed)];[_0x4bc902(0x139)]=new Map();[_0x4bc902(0x8d1)]=_0x545df6();['messageUnsubscriber'];[_0x4bc902(0x1dc)]=new Map();['dataUnsubscribers']=new Map();[_0x4bc902(0x4d0)]=new Map();constructor(_0xc67d72,_0xcc44f0,_0x54340e){const _0x5925a0=_0x4bc902;this[_0x5925a0(0x89f)]=_0xc67d72,this[_0x5925a0(0x138)]=_0xcc44f0,this[_0x5925a0(0x9ed)]=_0x54340e,this[_0x5925a0(0x349)]=this[_0x5925a0(0x4d9)](_0x4b379d=>{const _0x542ba4=_0x5925a0;this['messageBuffer'][_0x542ba4(0x7d7)](_0x4b379d[_0x542ba4(0x7ea)])||(_0x47d08b(_0x4b379d,this[_0x542ba4(0x89f)])&&0x0!==_0x4b379d[_0x542ba4(0xa04)]&&(this[_0x542ba4(0x138)]['addMessage'](_0x4b379d[_0x542ba4(0x7ea)]),this[_0x542ba4(0x1dc)][_0x542ba4(0x985)](_0x4b379d[_0x542ba4(0xa04)])?.[_0x542ba4(0x912)](_0x4b379d)),_0x4b379d[_0x542ba4(0x152)]&&this[_0x542ba4(0x890)](_0x4b379d));});}[_0x4bc902(0x6bf)](){this['messageUnsubscriber']?.();}[_0x4bc902(0x46a)](_0x53aa7f){const _0x510922=_0x4bc902,_0x3a79d8=_0x53aa7f[_0x510922(0x4d9)](_0x586629=>{const _0x55c04d=_0x510922;this['messageListeners'][_0x55c04d(0x912)](_0x586629);});this[_0x510922(0x139)][_0x510922(0x179)](_0x53aa7f,_0x3a79d8),this[_0x510922(0x4d0)][_0x510922(0x179)](_0x53aa7f[_0x510922(0x2e2)](),function(_0x2f4fe4,_0x2b423b=!0x1){let _0x54b4ef=new Map();const _0x45c971=_0x29954f(_0x2f4fe4,_0x2b423b,function(_0x59f8d3){const _0x3c03b5=a0_0x4227;_0xdd5f7a(_0x59f8d3)&&_0x54b4ef[_0x3c03b5(0x24c)](_0x59f8d3[_0x3c03b5(0x86d)]+'-'+(_0x59f8d3[_0x3c03b5(0x498)]??[])+'-'+_0x59f8d3[_0x3c03b5(0x113)]+'-'+_0x59f8d3[_0x3c03b5(0xa0d)][_0x3c03b5(0x1aa)]);},function(_0x11b23a){return!!function(_0x2d527a){const _0x2e307c=a0_0x4227,_0x231719=_0x2d527a['value'];if(!_0xdd5f7a(_0x231719))return!0x1;const _0x210440=_0x231719[_0x2e307c(0x86d)]+'-'+(_0x231719[_0x2e307c(0x498)]??[])+'-'+_0x231719[_0x2e307c(0x113)]+'-'+_0x231719['content'][_0x2e307c(0x1aa)],_0x18eb98={'version':_0x231719[_0x2e307c(0xa0d)][_0x2e307c(0x2bf)],'element':_0x2d527a},_0x599e75=_0x54b4ef[_0x2e307c(0x985)](_0x210440);return _0x599e75?(_0x599e75[_0x2e307c(0x2bf)]>=_0x231719[_0x2e307c(0xa0d)]['version']||(_0x599e75['element']['previous']&&(_0x599e75[_0x2e307c(0x53b)][_0x2e307c(0x719)][_0x2e307c(0x49a)]=_0x2d527a,_0x2d527a[_0x2e307c(0x719)]=_0x599e75[_0x2e307c(0x53b)]['previous']),_0x599e75[_0x2e307c(0x53b)][_0x2e307c(0x49a)]&&(_0x599e75['element'][_0x2e307c(0x49a)][_0x2e307c(0x719)]=_0x2d527a,_0x2d527a['next']=_0x599e75[_0x2e307c(0x53b)]['next']),_0x599e75[_0x2e307c(0x53b)]===_0x45c971['head']&&(_0x45c971['head']=_0x2d527a),_0x599e75[_0x2e307c(0x53b)]===_0x45c971['tail']&&(_0x45c971[_0x2e307c(0x63a)]=_0x2d527a),_0x54b4ef['set'](_0x210440,_0x18eb98)),!0x0):(_0x54b4ef['set'](_0x210440,_0x18eb98),!0x1);}(_0x11b23a);},function(){_0x54b4ef['clear']();});function _0xdd5f7a(_0x43aeb9){const _0x1a9d39=a0_0x4227;if(_0x43aeb9&&'object'==typeof _0x43aeb9&&_0x43aeb9[_0x1a9d39(0x8da)](_0x1a9d39(0xa0d))&&_0x43aeb9[_0x1a9d39(0x8da)](_0x1a9d39(0x113))&&_0x43aeb9[_0x1a9d39(0x8da)]('sourceId')){const _0x17e78f=_0x43aeb9;if(_0x17e78f[_0x1a9d39(0xa0d)]&&_0x1a9d39(0x14f)==typeof _0x17e78f[_0x1a9d39(0xa0d)]&&_0x17e78f[_0x1a9d39(0xa0d)][_0x1a9d39(0x8da)](_0x1a9d39(0x2bf))&&_0x17e78f['content'][_0x1a9d39(0x8da)](_0x1a9d39(0x1aa)))return!0x0;}return!0x1;}return _0x45c971;}(new _0xa6ac6d(_0x4b095b=>_0x53aa7f[_0x510922(0x890)](_0x4b095b),()=>_0x58c1db[_0x510922(0x261)](0x64))));}['removeConnection'](_0x567589){const _0x4060d2=_0x4bc902;this['connections'][_0x4060d2(0x985)](_0x567589)?.(),this[_0x4060d2(0x139)][_0x4060d2(0x24c)](_0x567589),this[_0x4060d2(0x4d0)]['get'](_0x567589[_0x4060d2(0x2e2)]())?.['clear'](),this['retryQueues'][_0x4060d2(0x24c)](_0x567589[_0x4060d2(0x2e2)]());}[_0x4bc902(0x8cd)](_0x9e28b9){const _0x49a0b1=_0x4bc902;return _0x28bf01[_0x49a0b1(0x5e2)](_0x4f63ff['ConnectionState'],_0x49a0b1(0x4c6),this[_0x49a0b1(0x89f)],this[_0x49a0b1(0x139)][_0x49a0b1(0x7d2)]()),0x0!==this[_0x49a0b1(0x139)][_0x49a0b1(0x9e5)]&&(Array['from'](this[_0x49a0b1(0x139)][_0x49a0b1(0x7d2)]())['find'](_0x33f562=>_0x33f562[_0x49a0b1(0x2e2)]()===_0x9e28b9)?.['isConnected']()??!0x1);}[_0x4bc902(0x388)](_0x14f128){const _0x2d0a67=_0x4bc902;this['dataTopics']['set'](_0x14f128[_0x2d0a67(0x5f1)](),_0x14f128);}[_0x4bc902(0x6e8)](_0x2abe5e){const _0x3dc685=_0x4bc902;this[_0x3dc685(0x1dc)]['delete'](_0x2abe5e[_0x3dc685(0x5f1)]());}[_0x4bc902(0x953)](_0x4b3638){const _0x4c3aff=_0x4bc902,_0x412050=_0x4b3638[_0x4c3aff(0x9e4)](this[_0x4c3aff(0x890)][_0x4c3aff(0x4b0)](this));this[_0x4c3aff(0xa28)][_0x4c3aff(0x179)](_0x4b3638[_0x4c3aff(0x5f1)](),_0x412050);}[_0x4bc902(0x5fa)](_0x594675){const _0x3af045=_0x4bc902;this[_0x3af045(0xa28)][_0x3af045(0x985)](_0x594675[_0x3af045(0x5f1)]())?.(),this[_0x3af045(0xa28)][_0x3af045(0x24c)](_0x594675[_0x3af045(0x5f1)]());}[_0x4bc902(0x874)](){const _0xae4420=_0x4bc902;return[_0x3e2379[_0xae4420(0x41f)][_0xae4420(0x83c)],_0x3e2379['ContentType'][_0xae4420(0x93e)],_0x3e2379[_0xae4420(0x41f)][_0xae4420(0x9f7)],_0x3e2379[_0xae4420(0x41f)][_0xae4420(0x622)],_0x3e2379[_0xae4420(0x41f)][_0xae4420(0x198)],_0x3e2379[_0xae4420(0x41f)][_0xae4420(0x2bc)],_0x3e2379['ContentType']['GraphDatabase'],_0x3e2379[_0xae4420(0x41f)]['ExternalStorage']];}[_0x4bc902(0x890)](_0x2b931a){const _0x29316d=_0x4bc902;if(!0x1===_0x2b931a[_0x29316d(0x9f3)]){if(_0x2b931a['propagate']||!_0x2b931a[_0x29316d(0x498)]||0x1!==_0x2b931a[_0x29316d(0x498)]['length'])throw new _0x3d0311(_0x3d0311['codes'][_0x29316d(0x863)],{'message':_0x29316d(0x805),'localId':this[_0x29316d(0x89f)]});if(!this[_0x29316d(0x8cd)](_0x2b931a[_0x29316d(0x498)][0x0]))throw new _0x257d72(_0x29316d(0x32b));}const _0x2f90f3=_0x2b931a['recipients']??[];try{const {filteredDestinationIds:_0x5c9bd2,extendedRecipients:_0x2c21d5}=this['updatePropagationProperties'](_0x2b931a,_0x2f90f3);_0x2b931a[_0x29316d(0x498)]=_0x5c9bd2,_0x2b931a['recipients']=_0x2c21d5;}catch(_0x2c3cc4){if(_0x2c3cc4 instanceof _0x257d72)return void _0x28bf01[_0x29316d(0x5e2)](_0x4f63ff['Connection'],_0x29316d(0x91b),_0x29316d(0x516),_0x2b931a,_0x2c3cc4['message']);}const _0x218276=this[_0x29316d(0x9c1)](_0x2b931a);this['logPropagateSystemEvent'](_0x2b931a,_0x218276),_0x2b931a[_0x29316d(0x152)]=_0x218276;const _0x78d1d7=this[_0x29316d(0x524)](_0x2b931a,_0x2f90f3);for(const _0x2ba64e of _0x78d1d7){const _0x2504f3=this[_0x29316d(0x4d0)][_0x29316d(0x985)](_0x2ba64e[_0x29316d(0x2e2)]());if(!_0x2504f3)throw new _0x3d0311(_0x3d0311[_0x29316d(0x85e)]['ConnectionNoRetryQueue'],{'message':_0x29316d(0x98b),'localId':this[_0x29316d(0x89f)],'remoteId':_0x2ba64e['getRemoteId'](),'data':_0x2b931a});_0x2504f3[_0x29316d(0x5b2)](_0x2b931a);}}[_0x4bc902(0x2e2)](){return'';}[_0x4bc902(0x5ab)](){const _0x30959c=_0x4bc902;return this[_0x30959c(0x89f)];}[_0x4bc902(0x4d9)](_0x121642){const _0x28d91d=_0x4bc902;return this[_0x28d91d(0x8d1)][_0x28d91d(0x9e4)](_0x121642);}[_0x4bc902(0x86f)](_0x53957b,_0x35e0b7){const _0x43f125=_0x4bc902,_0x140bef={'filteredDestinationIds':_0x53957b['destinationIds'],'extendedRecipients':_0x53957b[_0x43f125(0x2be)]};if(!_0x53957b[_0x43f125(0x152)])return _0x140bef;const _0xb4e233=Array[_0x43f125(0x100)](this[_0x43f125(0x139)][_0x43f125(0x7d2)]())[_0x43f125(0x6f4)](_0x3a83b2=>_0x3a83b2[_0x43f125(0x598)]()===_0x2be930[_0x43f125(0x461)]||_0x3a83b2[_0x43f125(0x8cd)]())[_0x43f125(0x8a3)](_0x350c31=>_0x350c31[_0x43f125(0x2e2)]());if(_0xb4e233['reduce']((_0xd0b3b1,_0x739824)=>_0xd0b3b1&&_0x53957b[_0x43f125(0x2be)][_0x43f125(0x7f5)](_0x739824),!0x0))throw new _0x257d72('All\x20recipients\x20already\x20received');if(_0x53957b[_0x43f125(0x498)]){const _0x5a4243=_0x53957b[_0x43f125(0x498)][_0x43f125(0x6f4)](_0x22d579=>_0x22d579!==this[_0x43f125(0x89f)]&&!_0x53957b[_0x43f125(0x2be)][_0x43f125(0x7f5)](_0x22d579));if(0x0===_0x5a4243[_0x43f125(0x1d8)])throw new _0x257d72('No\x20destinationIds\x20left');_0x140bef['filteredDestinationIds']=_0x5a4243;}return _0x140bef['extendedRecipients']=[...new Set([..._0x35e0b7,..._0xb4e233,this[_0x43f125(0x89f)]])],_0x140bef;}[_0x4bc902(0x3ee)](_0x39f012,_0x475626=!0x1){const _0x54b0f6=_0x4bc902;if(0x0===_0x39f012['topicLabel']&&!_0x427759(_0x39f012,this[_0x54b0f6(0x89f)])&&_0x39f012[_0x54b0f6(0x152)]){const _0x22aed6=_0x1d8b9c(_0x39f012,this[_0x54b0f6(0x89f)]);_0x28bf01['logRaw'](_0x4f63ff[_0x54b0f6(0x21f)],_0x39f012[_0x54b0f6(0x7ea)]+_0x54b0f6(0x818)+_0x475626+')\x20'+_0x22aed6,_0x39f012,_0x475626);}}[_0x4bc902(0x9c1)](_0x2b4753){const _0x37077e=_0x4bc902;if(_0x2b4753[_0x37077e(0x498)]&&_0x2b4753[_0x37077e(0x152)]){const _0x47fc0a=Array['from'](this[_0x37077e(0x139)][_0x37077e(0x7d2)]())[_0x37077e(0x6f4)](_0x4e274f=>_0x4e274f['getConnectionType']()===_0x2be930[_0x37077e(0x461)]||_0x4e274f['isConnected']())[_0x37077e(0x8a3)](_0x53dec5=>_0x53dec5['getRemoteId']());return!_0x2b4753[_0x37077e(0x498)][_0x37077e(0x214)]((_0x407310,_0x3e8960)=>_0x407310&&_0x47fc0a['includes'](_0x3e8960),!0x0);}return _0x2b4753[_0x37077e(0x152)]??!0x1;}[_0x4bc902(0x524)](_0x40c25e,_0x19de77){const _0xc1bcd1=_0x4bc902;if(_0x40c25e[_0xc1bcd1(0x152)]&&_0x40c25e[_0xc1bcd1(0x498)]){const _0x407c70=Array[_0xc1bcd1(0x100)](this['connections']['keys']())[_0xc1bcd1(0x6f4)](_0x4e0331=>_0x4e0331[_0xc1bcd1(0x598)]()===_0x2be930[_0xc1bcd1(0x461)]||_0x4e0331[_0xc1bcd1(0x8cd)]())['map'](_0x15a5fc=>_0x15a5fc[_0xc1bcd1(0x2e2)]()),_0xc297f3=new Set(),_0x388b9a=_0x40c25e[_0xc1bcd1(0x86d)]===this[_0xc1bcd1(0x89f)]?0x3:0x1;return _0x40c25e[_0xc1bcd1(0x498)]['forEach'](_0x1d993b=>{const _0x19520b=_0xc1bcd1,_0x4a926a=this['graphService'][_0x19520b(0xa05)](_0x407c70,_0x1d993b);let _0x45b443=0x0,_0x20eb2f=0x0;_0x4a926a[_0x19520b(0x105)](_0x4248cb=>{const _0x4667e1=_0x19520b;if(_0x45b443>=_0x388b9a)return;const _0x23ae9e=Array[_0x4667e1(0x100)](this[_0x4667e1(0x139)]['keys']())[_0x4667e1(0x731)](_0x1acaa5=>_0x1acaa5[_0x4667e1(0x2e2)]()===_0x4248cb);if(_0x23ae9e){if(_0x23ae9e['getConnectionType']()===_0x2be930[_0x4667e1(0x461)]&&_0x20eb2f>0x0)return void(_0x20eb2f-=0x1);_0xc297f3[_0x4667e1(0xa19)](_0x23ae9e),_0x23ae9e['getConnectionType']()===_0x2be930[_0x4667e1(0x6cb)]&&(_0x20eb2f+=0x1),_0x45b443+=0x1;}});}),Array[_0xc1bcd1(0x100)](_0xc297f3);}return Array[_0xc1bcd1(0x100)](this['connections'][_0xc1bcd1(0x7d2)]())[_0xc1bcd1(0x6f4)](_0x1ce8a0=>{const _0x10abdd=_0xc1bcd1;return _0x18cea5=_0x1ce8a0['getRemoteId'](),!_0x19de77['includes'](_0x18cea5)&&(_0x47d08b(_0x40c25e,_0x18cea5)||_0x40c25e[_0x10abdd(0x152)])&&(!_0x40c25e[_0x10abdd(0x152)]||_0x1ce8a0[_0x10abdd(0x8cd)]()||_0x1ce8a0[_0x10abdd(0x598)]()===_0x2be930['Core']);var _0x18cea5;});}}class _0x2f5343{[_0x4bc902(0x89f)];[_0x4bc902(0x138)];['connections']=new Map();[_0x4bc902(0x67d)];constructor(_0x23913f,_0x475842){const _0x95429f=_0x4bc902;this[_0x95429f(0x89f)]=_0x23913f,this['messageBuffer']=_0x475842;}[_0x4bc902(0x6bf)](){}[_0x4bc902(0x890)](_0x8ff321){const _0x484c3e=_0x4bc902;for(const _0x4d1576 of this[_0x484c3e(0x139)][_0x484c3e(0x7d2)]())try{return void _0x4d1576[_0x484c3e(0x890)]({'retry':!0x1,..._0x8ff321});}catch(_0x593f3e){_0x593f3e instanceof _0x257d72||_0x28bf01[_0x484c3e(0x5e2)](_0x4f63ff[_0x484c3e(0x4f6)],_0x484c3e(0x2c7)+_0x4d1576,_0x593f3e,_0x8ff321);}_0x28bf01[_0x484c3e(0x5e2)](_0x4f63ff[_0x484c3e(0x4f6)],_0x484c3e(0x6c9));}[_0x4bc902(0x46a)](_0x2bb24c){const _0x3f6445=_0x4bc902,_0x3c2d4e=_0x2bb24c[_0x3f6445(0x4d9)](_0x8ff548=>{const _0x295399=_0x3f6445;this[_0x295399(0x138)][_0x295399(0x7d7)](_0x8ff548[_0x295399(0x7ea)])||0x0===_0x8ff548[_0x295399(0xa04)]&&(this[_0x295399(0x138)][_0x295399(0xa33)](_0x8ff548['uuid']),_0x47d08b(_0x8ff548,this['localId'])&&this[_0x295399(0x67d)]?.['publish'](_0x8ff548));});this[_0x3f6445(0x139)][_0x3f6445(0x179)](_0x2bb24c,_0x3c2d4e);}[_0x4bc902(0x536)](_0x55f91){const _0x19fb01=_0x4bc902;this['connections'][_0x19fb01(0x985)](_0x55f91)?.(),this[_0x19fb01(0x139)][_0x19fb01(0x24c)](_0x55f91);}[_0x4bc902(0x5ab)](){const _0x39f276=_0x4bc902;return this[_0x39f276(0x89f)];}['getRemoteId'](){return'';}[_0x4bc902(0x874)](){const _0x559784=_0x4bc902;return[_0x3e2379[_0x559784(0x41f)][_0x559784(0x83c)]];}[_0x4bc902(0x8cd)](){const _0x514127=_0x4bc902;throw new Error(_0x514127(0x768));}[_0x4bc902(0x75b)](_0x9bac04){const _0x48b51a=_0x4bc902;this[_0x48b51a(0x67d)]=_0x9bac04;}[_0x4bc902(0x2ef)](){const _0x3ff4ca=_0x4bc902;delete this[_0x3ff4ca(0x67d)];}}class _0x5568d0{[_0x4bc902(0x1a1)]=new Map();[_0x4bc902(0x3e1)];constructor(){const _0x37981d=_0x4bc902;this[_0x37981d(0x3e1)]=_0x58c1db[_0x37981d(0x1d2)](()=>{const _0x5c408f=_0x37981d;for(const [_0x35318d,_0xb4fbf6]of this['buffer'][_0x5c408f(0x87f)]())Date[_0x5c408f(0xa09)]()-_0xb4fbf6>0x124f80&&this[_0x5c408f(0x1a1)][_0x5c408f(0x24c)](_0x35318d);},0x1d4c0);}[_0x4bc902(0x6bf)](){const _0x3833ba=_0x4bc902;this[_0x3833ba(0x3e1)]();}[_0x4bc902(0xa33)](_0x1b8add){const _0x2a9f34=_0x4bc902;this[_0x2a9f34(0x1a1)][_0x2a9f34(0x179)](_0x1b8add,Date[_0x2a9f34(0xa09)]());}[_0x4bc902(0x7d7)](_0x2aa062){const _0x4e70c9=_0x4bc902;return this[_0x4e70c9(0x1a1)][_0x4e70c9(0x5f9)](_0x2aa062);}}class _0x3b7ae0{['configs'];[_0x4bc902(0x1bd)];['iceServers'];[_0x4bc902(0x31c)];[_0x4bc902(0x139)]=new Map();[_0x4bc902(0x4e2)];['connectionGroup'];[_0x4bc902(0x398)];['messageBuffer'];constructor(_0x1a85f4,_0x7da406,_0x39a8cc,_0x4f92f9,_0x341eeb){const _0x23ccbd=_0x4bc902;this['configs']=_0x1a85f4,this[_0x23ccbd(0x1bd)]=_0x7da406,this[_0x23ccbd(0x563)]=_0x4f92f9,this[_0x23ccbd(0x31c)]=_0x341eeb,this[_0x23ccbd(0x138)]=new _0x5568d0(),this[_0x23ccbd(0x750)]=new _0x941e78(this[_0x23ccbd(0x15c)][_0x23ccbd(0x8cc)][_0x23ccbd(0x68a)](),this[_0x23ccbd(0x138)],_0x39a8cc),this[_0x23ccbd(0x398)]=new _0x1ce43e(this['configs'][_0x23ccbd(0x203)],this[_0x23ccbd(0x15c)]['clusterId'],this['configs'][_0x23ccbd(0x8cc)],'server',this['authService']),this[_0x23ccbd(0x4e2)]=new _0x2f5343(this[_0x23ccbd(0x15c)][_0x23ccbd(0x8cc)][_0x23ccbd(0x68a)](),this[_0x23ccbd(0x138)]),this[_0x23ccbd(0x4e2)][_0x23ccbd(0x46a)](this[_0x23ccbd(0x750)]),this[_0x23ccbd(0x4e2)][_0x23ccbd(0x46a)](this[_0x23ccbd(0x398)]),this['configs'][_0x23ccbd(0x961)]['registerSystemSource'](this[_0x23ccbd(0x4e2)]);}[_0x4bc902(0x6bf)](){const _0x56d35d=_0x4bc902;this['messageBuffer']['close'](),this[_0x56d35d(0x139)][_0x56d35d(0x105)]((_0x34ef53,_0x4d3036)=>this[_0x56d35d(0x189)](_0x4d3036)),this[_0x56d35d(0x15c)][_0x56d35d(0x961)][_0x56d35d(0x132)](this[_0x56d35d(0x4e2)]),this[_0x56d35d(0x4e2)]['removeConnection'](this[_0x56d35d(0x398)]),this[_0x56d35d(0x4e2)][_0x56d35d(0x536)](this[_0x56d35d(0x750)]),this['connectionPool'][_0x56d35d(0x6bf)](),this[_0x56d35d(0x398)][_0x56d35d(0x6bf)](),this[_0x56d35d(0x750)][_0x56d35d(0x6bf)]();}async[_0x4bc902(0x643)](){const _0x17b378=_0x4bc902;await this['signalingServer'][_0x17b378(0x11c)]();}async[_0x4bc902(0x7c7)](_0x45d31e,_0x632f9f=_0x2be930[_0x4bc902(0x461)]){const _0x25be8b=_0x4bc902;if(this[_0x25be8b(0x139)][_0x25be8b(0x5f9)](_0x45d31e)){if(this['connections']['get'](_0x45d31e)?.[_0x25be8b(0x598)]()===_0x2be930[_0x25be8b(0x6cb)]&&_0x632f9f===_0x2be930[_0x25be8b(0x461)])return void this[_0x25be8b(0x139)]['get'](_0x45d31e)?.[_0x25be8b(0x3d2)](_0x2be930[_0x25be8b(0x461)]);throw new _0x3d0311(_0x3d0311[_0x25be8b(0x85e)][_0x25be8b(0x266)],{'localId':this[_0x25be8b(0x15c)]['localNode'][_0x25be8b(0x68a)](),'remoteId':_0x45d31e});}const _0x1f1050=new _0x5efaca(this[_0x25be8b(0x15c)][_0x25be8b(0x6a2)],this[_0x25be8b(0x15c)][_0x25be8b(0x8cc)],_0x45d31e,this[_0x25be8b(0x563)],_0x632f9f,this[_0x25be8b(0x31c)][_0x25be8b(0x5dd)],this['options'][_0x25be8b(0x4e3)],this[_0x25be8b(0x31c)][_0x25be8b(0x8bb)]);this[_0x25be8b(0x139)]['set'](_0x45d31e,_0x1f1050),this[_0x25be8b(0x750)]['addConnection'](_0x1f1050),this[_0x25be8b(0x15c)][_0x25be8b(0x961)]['registerSystemSource'](_0x1f1050),this[_0x25be8b(0x15c)][_0x25be8b(0x961)]['registerRemoteNode'](_0x45d31e),await _0x1f1050[_0x25be8b(0x11c)]();}[_0x4bc902(0x7cb)](){return this['connectionGroup'];}[_0x4bc902(0x361)](_0x460695){const _0x2aa989=_0x4bc902;if(!this[_0x2aa989(0x139)][_0x2aa989(0x5f9)](_0x460695))throw new _0x3d0311(_0x3d0311[_0x2aa989(0x85e)]['MissingRemoteConnection'],{'localId':this['configs'][_0x2aa989(0x8cc)]['getId'](),'remoteId':_0x460695});return this[_0x2aa989(0x139)][_0x2aa989(0x985)](_0x460695);}[_0x4bc902(0x799)](_0xb6d2bf){const _0x3854bb=_0x4bc902,_0x194cc9=Array['from'](this[_0x3854bb(0x139)][_0x3854bb(0x437)]());return _0xb6d2bf?_0x194cc9[_0x3854bb(0x6f4)](_0xb6d2bf):_0x194cc9;}async[_0x4bc902(0x854)](_0x445297){const _0x47fc2a=_0x4bc902,_0x4c5035=this[_0x47fc2a(0x139)]['get'](_0x445297);_0x4c5035&&_0x4c5035[_0x47fc2a(0x8cd)]()&&await _0x4c5035['collectStats']();}['handleOutgoingSystemEvents'](_0x5d6187){const _0x1949c2=_0x4bc902;if(_0x5d6187['messageType']!==_0x18db64[_0x1949c2(0x27f)]||_0x5d6187[_0x1949c2(0x152)])try{this[_0x1949c2(0x750)][_0x1949c2(0x890)](_0x5d6187);}catch(_0x1edeca){if(_0x1edeca instanceof _0x257d72)return;throw _0x1edeca;}else this[_0x1949c2(0x4e2)]['send'](_0x5d6187);}async['handlePeerConnectionSystemEvents'](_0x3cd007){const _0x3f3194=_0x4bc902;switch(_0x3cd007[_0x3f3194(0xa0d)][_0x3f3194(0x1aa)]){case _0x10d48f['Disconnect']:case _0x10d48f[_0x3f3194(0x5c2)]:case _0x10d48f[_0x3f3194(0x13d)]:return;}if(!_0x3cd007[_0x3f3194(0x498)]||0x1!==_0x3cd007[_0x3f3194(0x498)][_0x3f3194(0x1d8)])throw new _0x3d0311(_0x3d0311['codes'][_0x3f3194(0x4f3)],{'message':_0x3f3194(0x5b5),'event':_0x3cd007});if(_0x3cd007['destinationIds'][0x0]!==this['configs'][_0x3f3194(0x8cc)][_0x3f3194(0x68a)]())throw new _0x3d0311(_0x3d0311[_0x3f3194(0x85e)][_0x3f3194(0x4f3)],{'message':_0x3f3194(0x31b),'event':_0x3cd007});if(!this[_0x3f3194(0x139)][_0x3f3194(0x5f9)](_0x3cd007[_0x3f3194(0x86d)])){let _0x539202=_0x2be930[_0x3f3194(0x461)];if(!(this[_0x3f3194(0x7c3)](_0x3cd007['content'])||this[_0x3f3194(0x29a)](_0x3cd007[_0x3f3194(0xa0d)])||this[_0x3f3194(0x48d)](_0x3cd007['content'])))return;_0x539202=_0x3cd007['content'][_0x3f3194(0x878)],await this[_0x3f3194(0x7c7)](_0x3cd007[_0x3f3194(0x86d)],_0x539202);}const _0x4c0656=this[_0x3f3194(0x139)]['get'](_0x3cd007[_0x3f3194(0x86d)]);await _0x4c0656['handlePeerConnectionSystemEvents'](_0x3cd007);}[_0x4bc902(0x167)](_0x5d9edc){const _0x4888d5=_0x4bc902;if(_0x5d9edc[_0x4888d5(0xa0d)]['type']===_0x10e890[_0x4888d5(0x5c8)]){if(_0x5d9edc[_0x4888d5(0xa0d)][_0x4888d5(0x479)]===this[_0x4888d5(0x15c)][_0x4888d5(0x8cc)][_0x4888d5(0x68a)]())return void this[_0x4888d5(0x139)]['forEach'](_0x5ad8c1=>_0x5ad8c1[_0x4888d5(0x167)](_0x5d9edc));this[_0x4888d5(0x139)][_0x4888d5(0x985)](_0x5d9edc[_0x4888d5(0xa0d)][_0x4888d5(0x479)])?.[_0x4888d5(0x167)](_0x5d9edc);}}['handleNodeSystemEvents']({content:_0x25c40d}){const _0x3d1e84=_0x4bc902;_0x25c40d[_0x3d1e84(0x1aa)]===_0x57cc58[_0x3d1e84(0x8b7)]&&this['closeConnection'](_0x25c40d['id']);}[_0x4bc902(0x28d)](){const _0x3dc61f=_0x4bc902,_0x2cc9df=Array[_0x3dc61f(0x100)](this['connections'][_0x3dc61f(0x437)]())['reduce']((_0x4ad63a,_0x510d49)=>_0x4ad63a+_0x510d49[_0x3dc61f(0x662)](),0x0);return _0x2cc9df<_0x13e4c5?Promise[_0x3dc61f(0x97e)](_0x2cc9df):new Promise(_0x4bc689=>{const _0x323fd1=setInterval(()=>{const _0x157302=a0_0x4227,_0x33e700=Array['from'](this[_0x157302(0x139)][_0x157302(0x437)]())['reduce']((_0x46b9cb,_0x22c445)=>_0x46b9cb+_0x22c445[_0x157302(0x662)](),0x0);_0x33e700<_0x13e4c5&&(clearInterval(_0x323fd1),_0x4bc689(_0x33e700));},0x3e8);});}[_0x4bc902(0x352)](){const _0x3a76d9=_0x4bc902;for(const _0x2a6ba9 of this[_0x3a76d9(0x139)]['values']())if(_0x2a6ba9['getBufferedAmount']()>0x0||_0x2a6ba9[_0x3a76d9(0x662)]()>0x0)return!0x0;return!0x1;}[_0x4bc902(0x189)](_0x57dd1c){const _0x3d3825=_0x4bc902,_0x3817b6=this[_0x3d3825(0x139)]['get'](_0x57dd1c);_0x3817b6&&(this[_0x3d3825(0x15c)]['mediator'][_0x3d3825(0x8db)](_0x57dd1c),this[_0x3d3825(0x15c)][_0x3d3825(0x961)][_0x3d3825(0x132)](_0x3817b6),_0x3817b6 instanceof _0x5efaca&&this[_0x3d3825(0x750)][_0x3d3825(0x536)](_0x3817b6),_0x3817b6[_0x3d3825(0x6bf)](),this['connections']['delete'](_0x57dd1c));}[_0x4bc902(0x7c3)](_0x3093a6){const _0x7b084d=_0x4bc902;return _0x3093a6[_0x7b084d(0x1aa)]===_0x10d48f[_0x7b084d(0x48f)];}[_0x4bc902(0x48d)](_0x142180){const _0x38bdf3=_0x4bc902;return _0x142180['type']===_0x10d48f[_0x38bdf3(0x3e8)];}[_0x4bc902(0x29a)](_0x4d33f9){const _0x386fd7=_0x4bc902;return _0x4d33f9[_0x386fd7(0x1aa)]===_0x10d48f[_0x386fd7(0x29f)];}}!function(_0x125035){const _0x36aa66=_0x4bc902;_0x125035[_0x125035[_0x36aa66(0x88e)]=0x0]=_0x36aa66(0x88e),_0x125035[_0x125035[_0x36aa66(0x562)]=0x1]='UpdateMediaStream',_0x125035[_0x125035[_0x36aa66(0xa15)]=0x2]='UnsubscribeMediaStream',_0x125035[_0x125035[_0x36aa66(0x605)]=0x3]='NeedMediaStream',_0x125035[_0x125035[_0x36aa66(0xa07)]=0x4]=_0x36aa66(0xa07),_0x125035[_0x125035['CanProvideMediaStream']=0x5]=_0x36aa66(0x52d),_0x125035[_0x125035[_0x36aa66(0x43a)]=0x6]=_0x36aa66(0x43a),_0x125035[_0x125035['MediaStreamUnavailable']=0x7]='MediaStreamUnavailable';}(_0x27d67a||(_0x27d67a={}));class _0x1cbebc extends _0x1c7b24{[_0x4bc902(0x8cc)];[_0x4bc902(0x6a2)];[_0x4bc902(0x203)];[_0x4bc902(0x28b)];[_0x4bc902(0x4fb)];[_0x4bc902(0x8a9)]=0x0;[_0x4bc902(0x6ab)];[_0x4bc902(0x70c)]=_0x545df6();[_0x4bc902(0x9c7)]=new Map();[_0x4bc902(0x741)];constructor(_0x518db8,_0x10782c,_0x5e6b5c,_0x14bc34,_0x33be5d){const _0x3a7ca6=_0x4bc902;if(_0x3a7ca6(0x351)!=typeof _0x10782c)throw new _0x4b6430(_0x2bb2b4[_0x3a7ca6(0x191)],_0x3a7ca6(0x292));super(_0x518db8,_0x10782c),this['localNode']=_0x518db8,this[_0x3a7ca6(0x6a2)]=_0x5e6b5c,this[_0x3a7ca6(0x203)]=_0x14bc34,this['connectorConstructor']=_0x33be5d,this[_0x3a7ca6(0x90f)]();}[_0x4bc902(0x42d)](){const _0x5b2cdf=_0x4bc902;this['changesUnsubscriber']?.(),this[_0x5b2cdf(0x9c7)][_0x5b2cdf(0x105)](_0x3b9b4a=>_0x3b9b4a()),clearTimeout(this['debounceStats']),delete this[_0x5b2cdf(0x4fb)],super[_0x5b2cdf(0x42d)]();}[_0x4bc902(0x27e)](){this['sendStats']();}[_0x4bc902(0x6bf)](){const _0x550749=_0x4bc902;this[_0x550749(0x67d)][_0x550749(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x550749(0x889)],'content':{'type':_0x5b4969[_0x550749(0x671)],'label':this[_0x550749(0x458)]}});}[_0x4bc902(0x892)](){const _0x2b5a82=_0x4bc902;return _0x3e2379[_0x2b5a82(0x41f)][_0x2b5a82(0x123)];}async[_0x4bc902(0x985)](_0xcc680f){const _0x158092=_0x4bc902;if(!this[_0x158092(0x6ab)])throw new _0x4b6430(_0x2bb2b4[_0x158092(0x1c2)],'Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected');_0x28bf01[_0x158092(0x927)](_0x1aded9[_0x158092(0x123)],{'type':_0x158092(0x985),'label':this[_0x158092(0x458)],'nodeId':this[_0x158092(0x8cc)][_0x158092(0x68a)](),'nodeType':this[_0x158092(0x8cc)][_0x158092(0x1aa)],'clusterId':this[_0x158092(0x6a2)],'path':_0xcc680f}),this['reads']+=0x1,this[_0x158092(0x90f)]();try{return await this[_0x158092(0x6ab)][_0x158092(0x985)](_0xcc680f);}catch(_0x42704b){throw new _0x4b6430(_0x2bb2b4[_0x158092(0x3de)],_0x158092(0x51d)+_0xcc680f);}}async[_0x4bc902(0x60e)](_0x18eeb3,_0x82d104){const _0x1a1d83=_0x4bc902;if(!this[_0x1a1d83(0x6ab)])throw new _0x4b6430(_0x2bb2b4[_0x1a1d83(0x1c2)],_0x1a1d83(0x78c));const {recursive:_0x1bd13a=!0x1}=_0x82d104??{};_0x28bf01[_0x1a1d83(0x927)](_0x1aded9[_0x1a1d83(0x123)],{'type':'list','label':this[_0x1a1d83(0x458)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x1a1d83(0x8cc)][_0x1a1d83(0x1aa)],'clusterId':this['clusterId'],'path':_0x18eeb3}),this[_0x1a1d83(0x8a9)]+=0x1,this['sendStats']();try{return await this[_0x1a1d83(0x6ab)][_0x1a1d83(0x60e)](_0x18eeb3,_0x1bd13a);}catch(_0x352a91){throw new _0x4b6430(_0x2bb2b4['ExternalStorageInvalidPath'],'Cannot\x20list\x20directory:\x20'+_0x18eeb3);}}[_0x4bc902(0x9e4)](_0x44e79a,_0xabc89a){const _0x529fc2=_0x4bc902;if(this[_0x529fc2(0x9c7)]['has'](_0x44e79a))throw new _0x4b6430(_0x2bb2b4[_0x529fc2(0x460)],_0x529fc2(0x2f9));this[_0x529fc2(0x9c7)][_0x529fc2(0x179)](_0x44e79a,this[_0x529fc2(0x70c)]['subscribe'](_0xabc89a));}['unsubscribe'](_0x2d551d){const _0x1bdc39=_0x4bc902;this[_0x1bdc39(0x9c7)]['get'](_0x2d551d)?.(),this[_0x1bdc39(0x9c7)]['delete'](_0x2d551d);}async[_0x4bc902(0x171)](){const _0x113df6=_0x4bc902,_0x22fb8e=(await(0x0,_0x456efb[_0x113df6(0x41a)])((0x0,_0x456efb[_0x113df6(0x22d)])(_0x14b3ac[_0x113df6(0x6c4)](),_0x113df6(0x6d1)+this['vendorId']+'/resources/external-storage/items/'+this['label'])))[_0x113df6(0x463)]();if(!_0x22fb8e)throw new _0x4b6430(_0x2bb2b4[_0x113df6(0x77c)],_0x113df6(0x982)+this[_0x113df6(0x458)]);const {site:_0x2e5923,drive:_0x4f1219}=_0x22fb8e,_0x5be32d=(await(0x0,_0x12a69f['httpsCallable'])(_0x14b3ac['getFunctions'](),_0x113df6(0x8a0))({'storageId':this[_0x113df6(0x458)]}))[_0x113df6(0x463)][_0x113df6(0x7d5)];this[_0x113df6(0x6ab)]=new this['connectorConstructor'](_0x2e5923['id'],_0x4f1219['id'],_0x5be32d,async()=>(await(0x0,_0x12a69f[_0x113df6(0x454)])(_0x14b3ac[_0x113df6(0x90d)](),_0x113df6(0x107))({'storageId':this[_0x113df6(0x458)]}))[_0x113df6(0x463)][_0x113df6(0x7d5)]),this[_0x113df6(0x23e)]();}[_0x4bc902(0x90f)](){const _0x2c0ed0=_0x4bc902;this[_0x2c0ed0(0x4fb)]&&clearTimeout(this[_0x2c0ed0(0x4fb)]),this[_0x2c0ed0(0x4fb)]=setTimeout(async()=>{const _0x1fe947=_0x2c0ed0;delete this[_0x1fe947(0x4fb)],this[_0x1fe947(0x67d)][_0x1fe947(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x1fe947(0x889)],'content':{'type':_0x5b4969[_0x1fe947(0x595)],'label':this['label'],'stats':{'timestamp':Date[_0x1fe947(0xa09)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0x212304);}async[_0x4bc902(0x23e)](){const _0x4e0b86=_0x4bc902;await this[_0x4e0b86(0x6ab)]?.['listChanges'](),this['changesUnsubscriber']=_0x58c1db[_0x4e0b86(0x1d2)](async()=>{const _0x5e9388=_0x4e0b86;try{if(!this[_0x5e9388(0x6ab)])return;const _0x105094=await this[_0x5e9388(0x6ab)][_0x5e9388(0x40a)]();for(const _0x23bf81 of _0x105094)this[_0x5e9388(0x70c)][_0x5e9388(0x912)](_0x23bf81);}catch(_0x50e0f4){}},0x493e0);}}const _0x2b73f5=require('rxjs');class _0x4ffba1 extends _0x1c7b24{['graphService'];[_0x4bc902(0x4b5)]=new Map();[_0x4bc902(0x801)]=new Map();[_0x4bc902(0x57f)]=new Map();['unsubscribeHandler'];constructor(_0x16ee3e,_0x5fe8ce,_0x2ea069){super(_0x16ee3e,_0x5fe8ce),this['graphService']=_0x2ea069;}[_0x4bc902(0x892)](){const _0x1c6d49=_0x4bc902;return _0x3e2379[_0x1c6d49(0x41f)]['Job'];}['open'](){const _0x4a9282=_0x4bc902;this[_0x4a9282(0x3e1)]=this[_0x4a9282(0x4d9)]((_0x1fb915,_0x823925)=>{const _0x399dd7=_0x4a9282;if(_0x28bf01['log'](_0x4f63ff['Jobs'],'JobDispatcher:\x20Received\x20job',_0x1fb915,_0x823925,this[_0x399dd7(0x9ed)]['getRemoteNodes']()),!(_0x823925 instanceof File)){if(!_0x823925)throw new _0x3d0311(_0x3d0311[_0x399dd7(0x85e)][_0x399dd7(0x7a1)]);return this[_0x399dd7(0x3bd)](_0x823925)?this['addBidResponse'](_0x1fb915,_0x823925['id'],_0x823925):this[_0x399dd7(0x348)](_0x823925)?(_0x28bf01[_0x399dd7(0x5e2)](_0x4f63ff[_0x399dd7(0x3f9)],'Job\x20'+_0x823925['id']+_0x399dd7(0x533),_0x823925[_0x399dd7(0x900)]),void this[_0x399dd7(0x4bb)](_0x823925['id'],_0x823925)):this[_0x399dd7(0x6ad)](_0x823925)?(_0x28bf01['log'](_0x4f63ff[_0x399dd7(0x3f9)],_0x399dd7(0x7b2)+_0x823925['id']+_0x399dd7(0x91a),_0x823925[_0x399dd7(0x900)]),void this[_0x399dd7(0x7b0)](_0x823925['id'],_0x823925)):void(this[_0x399dd7(0x106)](_0x823925)&&this['failJob'](_0x823925['id'],_0x823925['message']));}});}[_0x4bc902(0x27e)](){const _0x51f1d0=_0x4bc902;this[_0x51f1d0(0x984)](),this[_0x51f1d0(0x171)]();}[_0x4bc902(0x42d)](){const _0xa3f076=_0x4bc902;this[_0xa3f076(0x984)](),super[_0xa3f076(0x42d)]();}[_0x4bc902(0x984)](){const _0x2cd9d9=_0x4bc902;this[_0x2cd9d9(0x4b5)][_0x2cd9d9(0x984)](),this['unsubscribeHandler']&&this[_0x2cd9d9(0x3e1)]();}[_0x4bc902(0x6bf)](){const _0x524f32=_0x4bc902;this[_0x524f32(0x67d)]?.[_0x524f32(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64['Content'],'content':{'type':_0x5b4969[_0x524f32(0x697)],'label':this[_0x524f32(0x458)]}});}async[_0x4bc902(0x80d)](_0x125696){const _0x5d0de5=_0x4bc902,{id:_0x569965,parameters:_0x3a7096,jobType:_0x5b17f8}=_0x125696,_0x27698a={'id':_0x569965,'jobType':_0x5b17f8,'parameters':_0x3a7096,'status':_0x3e2379[_0x5d0de5(0x773)][_0x5d0de5(0x624)],'created':new Date(),'updated':new Date()};if(this['jobs'][_0x5d0de5(0x5f9)](_0x27698a['id']))throw new _0x4b6430(_0x2bb2b4[_0x5d0de5(0x590)],_0x5d0de5(0x4a1)+_0x27698a['id']+_0x5d0de5(0x657));_0x27698a[_0x5d0de5(0x6d4)]=new Date(),_0x27698a[_0x5d0de5(0x8b4)]=new Date();const _0x4f87a8=new _0x2b73f5['Subject']();this['jobs'][_0x5d0de5(0x179)](_0x27698a['id'],_0x27698a),this['jobObservers'][_0x5d0de5(0x179)](_0x27698a['id'],_0x4f87a8);try{const _0x50a691={'id':_0x27698a['id'],'jobPhase':_0x39a832['Request'],'jobType':_0x27698a[_0x5d0de5(0x97c)]},_0x8d2400=0x3;let _0x230d92=0x0;const _0x5a471a=async()=>{const _0x4eaceb=_0x5d0de5;_0x230d92+=0x1;try{_0x28bf01['log'](_0x4f63ff['Jobs'],'Job\x20'+_0x27698a['id']+'\x20sending\x20attempt\x20'+_0x230d92+'.',this[_0x4eaceb(0x9ed)][_0x4eaceb(0x4d5)]()),await this[_0x4eaceb(0x890)](_0x50a691),_0x27698a[_0x4eaceb(0x8b4)]=new Date(),this[_0x4eaceb(0x4b5)][_0x4eaceb(0x179)](_0x27698a['id'],_0x27698a),this[_0x4eaceb(0x634)](_0x27698a['id']);}catch(_0x4e8d95){_0x230d92<_0x8d2400?(_0x28bf01['warning'](_0x4eaceb(0x88d)+_0x230d92+_0x4eaceb(0x8a1)+_0x27698a['id']+_0x4eaceb(0xa29),{'nodeId':this[_0x4eaceb(0xa2c)]['getId'](),'nodeType':this[_0x4eaceb(0xa2c)][_0x4eaceb(0x1aa)],'data':{'job':_0x27698a,'attempts':_0x230d92,'maxRetries':_0x8d2400}}),setTimeout(_0x5a471a,0x3e8)):(_0x27698a[_0x4eaceb(0x1a8)]=_0x3e2379[_0x4eaceb(0x773)][_0x4eaceb(0x78b)],_0x27698a[_0x4eaceb(0x8b4)]=new Date(),this[_0x4eaceb(0x4b5)][_0x4eaceb(0x179)](_0x27698a['id'],_0x27698a),_0x28bf01[_0x4eaceb(0x1ca)](_0x4eaceb(0x99e)+_0x27698a['id']+_0x4eaceb(0x13c)+_0x8d2400+_0x4eaceb(0x7a2),{'nodeId':this[_0x4eaceb(0xa2c)]['getId'](),'nodeType':this[_0x4eaceb(0xa2c)][_0x4eaceb(0x1aa)],'data':{'job':_0x27698a,'attempts':_0x230d92,'maxRetries':_0x8d2400,'error':_0x4e8d95}}));}};_0x5a471a();const {id:_0x2fc72c}=_0x27698a;this[_0x5d0de5(0x7eb)](_0x5d0de5(0x7b2)+_0x27698a['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0x2fc72c}),_0x27698a[_0x5d0de5(0x8b4)]=new Date();}catch(_0x53980e){_0x27698a[_0x5d0de5(0x1a8)]=_0x3e2379[_0x5d0de5(0x773)][_0x5d0de5(0x78b)],_0x28bf01['error'](_0x5d0de5(0x99e)+_0x27698a['id']+':',{'nodeId':this[_0x5d0de5(0xa2c)][_0x5d0de5(0x68a)](),'nodeType':this['owner'][_0x5d0de5(0x1aa)],'data':{'job':_0x27698a,'error':_0x53980e}});}return _0x4f87a8[_0x5d0de5(0x4f7)]();}[_0x4bc902(0x12f)](_0x15026e){const _0x54e018=_0x4bc902,_0x44d774=this['jobs'][_0x54e018(0x985)](_0x15026e);if(!_0x44d774)throw new _0x4b6430(_0x2bb2b4[_0x54e018(0x785)],_0x54e018(0x4a1)+_0x15026e+_0x54e018(0x175));return{'id':_0x44d774['id'],'jobType':_0x44d774[_0x54e018(0x97c)],'status':_0x44d774[_0x54e018(0x1a8)],'parameters':_0x44d774[_0x54e018(0x6fc)]};}[_0x4bc902(0x5c5)](){const _0x884aec=_0x4bc902;return Array['from'](this[_0x884aec(0x4b5)][_0x884aec(0x437)]())[_0x884aec(0x8a3)](_0x5a3b9f=>this[_0x884aec(0x12f)](_0x5a3b9f['id']));}async['updateJob'](_0x4c2e53,_0x1f4784){const _0x57ebce=_0x4bc902,_0x4f7088=this['jobs']['get'](_0x4c2e53);if(!_0x4f7088)throw new _0x4b6430(_0x2bb2b4[_0x57ebce(0x785)],_0x57ebce(0x4a1)+_0x4c2e53+_0x57ebce(0x175));_0x4f7088[_0x57ebce(0x6fc)]=_0x1f4784,_0x4f7088[_0x57ebce(0x8b4)]=new Date(),this['jobs'][_0x57ebce(0x179)](_0x4c2e53,_0x4f7088);}async['deleteJob'](_0x39e181){const _0x5629bb=_0x4bc902;if(!this[_0x5629bb(0x4b5)][_0x5629bb(0x24c)](_0x39e181))throw new _0x4b6430(_0x2bb2b4['JobDispatcherJobNotFound'],_0x5629bb(0x4a1)+_0x39e181+_0x5629bb(0x175));const _0x3116f4=this[_0x5629bb(0x801)][_0x5629bb(0x985)](_0x39e181);if(!_0x3116f4)throw new _0x3d0311(_0x3d0311['codes'][_0x5629bb(0x2a4)]);_0x3116f4['complete'](),this[_0x5629bb(0x801)][_0x5629bb(0x24c)](_0x39e181),_0x28bf01[_0x5629bb(0x5e2)](_0x4f63ff['Jobs'],_0x5629bb(0x7b2)+_0x39e181+_0x5629bb(0x72c));}[_0x4bc902(0x6f6)](_0x1f3488,_0x3de280,_0x17b2fb){const _0xadb29a=_0x4bc902,_0x37edf1=this[_0xadb29a(0x57f)]['get'](_0x3de280)??new Map();_0x37edf1[_0xadb29a(0x179)](_0x1f3488,[_0x17b2fb,Date['now']()]),this['jobBids'][_0xadb29a(0x179)](_0x3de280,_0x37edf1),this[_0xadb29a(0x1c0)](_0x3de280);}[_0x4bc902(0x634)](_0x2037f3){const _0x9b452a=_0x4bc902,_0x27cc85=this[_0x9b452a(0x4b5)][_0x9b452a(0x985)](_0x2037f3);if(!_0x27cc85)throw new _0x3d0311(_0x3d0311[_0x9b452a(0x85e)][_0x9b452a(0x785)]);const _0x29b103=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0x2037f3,!0x0),0xbb8);_0x27cc85[_0x9b452a(0xa34)]=_0x29b103,this[_0x9b452a(0x4b5)][_0x9b452a(0x179)](_0x27cc85['id'],_0x27cc85);}[_0x4bc902(0x1c0)](_0x790713,_0x5f1604=!0x1){const _0x1c9813=_0x4bc902,_0x1fe6c5=this[_0x1c9813(0x9ed)][_0x1c9813(0x4d5)](),_0x525465=Array[_0x1c9813(0x100)](_0x1fe6c5[_0x1c9813(0x437)]())[_0x1c9813(0x6f4)](_0x45fd02=>_0x45fd02[_0x1c9813(0x1aa)]===_0x3e2379[_0x1c9813(0x676)][_0x1c9813(0x251)]),_0x5037f9=this[_0x1c9813(0x57f)][_0x1c9813(0x985)](_0x790713)??new Map();if(!_0x5f1604&&(!_0x5037f9||_0x5037f9[_0x1c9813(0x9e5)]<_0x525465[_0x1c9813(0x1d8)]))return;const _0x1d6667=this[_0x1c9813(0x4b5)]['get'](_0x790713);if(!_0x1d6667)throw new _0x3d0311(_0x3d0311[_0x1c9813(0x85e)][_0x1c9813(0x785)]);if(clearTimeout(_0x1d6667[_0x1c9813(0xa34)]),_0x28bf01['log'](_0x4f63ff[_0x1c9813(0x3f9)],'Job\x20'+_0x1d6667['id']+_0x1c9813(0x392),_0x5037f9,this[_0x1c9813(0x57f)]),!_0x5037f9||0x0===_0x5037f9[_0x1c9813(0x9e5)]){_0x1d6667[_0x1c9813(0x1a8)]=_0x3e2379['JobStatus']['Failed'],_0x1d6667[_0x1c9813(0x8b4)]=new Date(),_0x28bf01[_0x1c9813(0x1ca)](_0x1c9813(0x7b2)+_0x1d6667['id']+_0x1c9813(0x52b),{'nodeId':this[_0x1c9813(0xa2c)][_0x1c9813(0x68a)](),'nodeType':this[_0x1c9813(0xa2c)][_0x1c9813(0x1aa)],'data':{'job':_0x1d6667,'responses':_0x5037f9}});const _0x514a57=this[_0x1c9813(0x801)][_0x1c9813(0x985)](_0x790713);if(!_0x514a57)throw new _0x3d0311(_0x3d0311[_0x1c9813(0x85e)][_0x1c9813(0x2a4)]);const _0x5c11f1='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x1a8832={'id':_0x1d6667['id'],'status':_0x1d6667[_0x1c9813(0x1a8)],'message':_0x5c11f1};return _0x514a57[_0x1c9813(0x49a)](_0x1a8832),_0x514a57[_0x1c9813(0x475)](),this[_0x1c9813(0x4b5)][_0x1c9813(0x179)](_0x1d6667['id'],_0x1d6667),void this['jobBids'][_0x1c9813(0x24c)](_0x790713);}const {nodeId:_0x1492d0,response:_0x13134b}=this[_0x1c9813(0x33e)](_0x1d6667['id'],_0x5037f9);_0x1d6667['status']=_0x3e2379[_0x1c9813(0x773)]['Processing'],_0x1d6667[_0x1c9813(0x8b4)]=new Date(),_0x28bf01['log'](_0x4f63ff[_0x1c9813(0x3f9)],_0x1c9813(0x7b2)+_0x1d6667['id']+_0x1c9813(0x610)+_0x1492d0+_0x1c9813(0x259),_0x13134b);const _0x21cfa={'id':_0x1d6667['id'],'jobType':_0x1d6667[_0x1c9813(0x97c)],'jobPhase':_0x39a832[_0x1c9813(0x229)],'parameters':_0x1d6667['parameters']};this[_0x1c9813(0x890)](_0x21cfa,[_0x1492d0]),this['jobs'][_0x1c9813(0x179)](_0x1d6667['id'],_0x1d6667),this[_0x1c9813(0x57f)]['delete'](_0x790713);}[_0x4bc902(0x33e)](_0x4cb37b,_0x151837){const _0x165423=_0x4bc902;let _0x212784;const _0x2560a4=Array['from'](_0x151837[_0x165423(0x87f)]())[_0x165423(0x6f4)](([,[_0x56c522]])=>_0x56c522['available']);if(_0x212784=_0x2560a4[_0x165423(0x1d8)]>0x0?Array['from'](_0x151837[_0x165423(0x87f)]())['sort']((_0x23603c,_0x255642)=>_0x255642[0x1][0x0][_0x165423(0x63d)]-_0x23603c[0x1][0x0][_0x165423(0x63d)]):Array[_0x165423(0x100)](_0x151837[_0x165423(0x87f)]())[_0x165423(0x728)]((_0x26eff2,_0x95fea8)=>_0x26eff2[0x1][0x0]['queueLength']-_0x95fea8[0x1][0x0]['queueLength']),0x1===_0x212784[_0x165423(0x1d8)])return{'nodeId':_0x212784[0x0][0x0],'response':_0x212784[0x0][0x1][0x0]};let _0x484ff8;if(_0x484ff8=_0x2560a4[_0x165423(0x1d8)]>0x0?(_0x4111d5=>{const _0x2594b2=_0x165423,_0x112fea=_0x4111d5[0x0][0x1][0x0][_0x2594b2(0x63d)];return _0x4111d5['filter'](([,[_0x1b8784]])=>_0x1b8784[_0x2594b2(0x63d)]===_0x112fea);})(_0x212784):(_0x1afc7c=>{const _0xd1acc7=_0x165423,_0x1c3e5c=_0x1afc7c[0x0][0x1][0x0][_0xd1acc7(0x499)];return _0x1afc7c[_0xd1acc7(0x6f4)](([,[_0x50e381]])=>_0x50e381['queueLength']===_0x1c3e5c);})(_0x212784),0x1===_0x484ff8['length'])return{'nodeId':_0x484ff8[0x0][0x0],'response':_0x484ff8[0x0][0x1][0x0]};const _0x22e8da=this['jobs']['get'](_0x4cb37b);if(!_0x22e8da)throw new _0x3d0311(_0x3d0311[_0x165423(0x85e)][_0x165423(0x785)]);const _0x5471e0=_0x22e8da[_0x165423(0x6d4)][_0x165423(0x3cd)](),_0x16a6b2=_0x484ff8[_0x165423(0x8a3)](([_0xb81ba,[,_0x33a4ac]])=>({'nodeId':_0xb81ba,'rtt':_0x33a4ac-_0x5471e0})),_0x7d90eb=Math[_0x165423(0x7cc)](..._0x16a6b2['map'](({rtt:_0x400653})=>_0x400653)),_0x7686d2=_0x16a6b2[_0x165423(0x731)](({rtt:_0x233a3c})=>_0x233a3c===_0x7d90eb),[,[_0x2993c0]]=_0x484ff8['find'](([_0x2c315c])=>_0x2c315c===_0x7686d2[_0x165423(0x617)]);return{'nodeId':_0x7686d2[_0x165423(0x617)],'response':_0x2993c0};}['evaluatePartialJob'](_0x3aee53,_0x2a6194){const _0x2c4b67=_0x4bc902,_0x26e8fa=this[_0x2c4b67(0x4b5)][_0x2c4b67(0x985)](_0x3aee53);if(!_0x26e8fa)throw new _0x3d0311(_0x3d0311[_0x2c4b67(0x85e)][_0x2c4b67(0x785)]);const _0x511545=this[_0x2c4b67(0x801)][_0x2c4b67(0x985)](_0x3aee53);if(!_0x511545)throw new _0x3d0311(_0x3d0311[_0x2c4b67(0x85e)][_0x2c4b67(0x2a4)]);const _0x21dab9={'id':_0x26e8fa['id'],'status':_0x3e2379['JobStatus'][_0x2c4b67(0x7df)],'result':_0x2a6194[_0x2c4b67(0x900)]};_0x511545[_0x2c4b67(0x49a)](_0x21dab9);}[_0x4bc902(0x7b0)](_0x4be942,_0x171c08){const _0x36e1ec=_0x4bc902,_0x57cc05=this[_0x36e1ec(0x4b5)][_0x36e1ec(0x985)](_0x4be942);if(!_0x57cc05)throw new _0x3d0311(_0x3d0311['codes'][_0x36e1ec(0x785)]);const _0x1c3d36=this['jobObservers'][_0x36e1ec(0x985)](_0x4be942);if(!_0x1c3d36)throw new _0x3d0311(_0x3d0311[_0x36e1ec(0x85e)]['JobDispatcherObserverNotFound']);_0x57cc05['status']=_0x3e2379[_0x36e1ec(0x773)][_0x36e1ec(0x11d)];const _0x32eced={'id':_0x57cc05['id'],'status':_0x57cc05['status'],'result':_0x171c08[_0x36e1ec(0x900)]};_0x1c3d36[_0x36e1ec(0x49a)](_0x32eced),_0x1c3d36[_0x36e1ec(0x475)](),this[_0x36e1ec(0x801)]['delete'](_0x4be942),this[_0x36e1ec(0x7eb)]('Job\x20'+_0x4be942+'\x20finalized.',{'jobId':_0x4be942});}[_0x4bc902(0x999)](_0x43bdad,_0xe0e832){const _0x488343=_0x4bc902,_0x3d0bd2=this[_0x488343(0x4b5)][_0x488343(0x985)](_0x43bdad);if(!_0x3d0bd2)throw new _0x3d0311(_0x3d0311[_0x488343(0x85e)][_0x488343(0x785)]);const _0x1c7cf0=this['jobObservers'][_0x488343(0x985)](_0x43bdad);if(!_0x1c7cf0)throw new _0x3d0311(_0x3d0311[_0x488343(0x85e)]['JobDispatcherObserverNotFound']);_0x3d0bd2['status']=_0x3e2379[_0x488343(0x773)][_0x488343(0x78b)];const _0x7b3455={'id':_0x3d0bd2['id'],'status':_0x3d0bd2[_0x488343(0x1a8)],'message':_0xe0e832};_0x1c7cf0['next'](_0x7b3455),_0x1c7cf0[_0x488343(0x475)](),this[_0x488343(0x801)][_0x488343(0x24c)](_0x43bdad),this[_0x488343(0x7eb)](_0x488343(0x7b2)+_0x43bdad+_0x488343(0x9a2),{'jobId':_0x43bdad});}['logEvent'](_0x22d22f,{jobId:_0xc72180}){const _0x18b2f4=_0x4bc902,_0x135023={'jobId':_0xc72180,'mistletIds':Array[_0x18b2f4(0x100)](this['graphService'][_0x18b2f4(0x4d5)]()['values']())[_0x18b2f4(0x6f4)](_0x2b1c00=>_0x2b1c00['type']===_0x3e2379[_0x18b2f4(0x676)]['Agent'])[_0x18b2f4(0x8a3)](_0x7e1fc6=>_0x7e1fc6['getId']())};_0x28bf01[_0x18b2f4(0x7eb)](_0x22d22f,{'nodeId':this[_0x18b2f4(0x827)](),'nodeType':this[_0x18b2f4(0xa2c)][_0x18b2f4(0x1aa)],'data':_0x135023}),_0x28bf01[_0x18b2f4(0x5e2)](_0x4f63ff[_0x18b2f4(0x3f9)],_0x22d22f,_0x135023);}[_0x4bc902(0x3bd)](_0x5e6440){const _0x4bf1cf=_0x4bc902,{jobPhase:_0xe38e88,available:_0x22eff6,bid:_0xc93429}=_0x5e6440;return _0xe38e88===_0x39a832[_0x4bf1cf(0x974)]&&void 0x0!==_0x22eff6&&void 0x0!==_0xc93429;}[_0x4bc902(0x348)](_0x4d1111){const _0x2b87d1=_0x4bc902,{jobPhase:_0x1e534d,result:_0x300944}=_0x4d1111;return _0x1e534d===_0x39a832[_0x2b87d1(0xa2a)]&&void 0x0!==_0x300944;}[_0x4bc902(0x6ad)](_0xf7bf58){const {jobPhase:_0x18fc51,result:_0xb2ad58}=_0xf7bf58;return _0x18fc51===_0x39a832['Result']&&void 0x0!==_0xb2ad58;}[_0x4bc902(0x106)](_0xfbda2e){const _0x282b7d=_0x4bc902,{jobPhase:_0xf08e6b,message:_0x21e1a2}=_0xfbda2e;return _0xf08e6b===_0x39a832[_0x282b7d(0x78b)]&&void 0x0!==_0x21e1a2&&_0x282b7d(0x351)==typeof _0x21e1a2;}}var _0x2e0ead,_0x43b5f6,_0x771d08,_0x22dd61;!function(_0x3f6c23){const _0x1fcb2d=_0x4bc902;_0x3f6c23['ObjectStorage']=_0x1fcb2d(0x414),_0x3f6c23[_0x1fcb2d(0x123)]=_0x1fcb2d(0x2c3);}(_0x2e0ead||(_0x2e0ead={})),function(_0xb9ea37){const _0x56d5c8=_0x4bc902;_0xb9ea37[_0x56d5c8(0x251)]=_0x56d5c8(0x87a),_0xb9ea37[_0x56d5c8(0x641)]=_0x56d5c8(0x298),_0xb9ea37['CustomSkill']=_0x56d5c8(0x604),_0xb9ea37[_0x56d5c8(0x7e8)]=_0x56d5c8(0x3a7),_0xb9ea37['Knowledge']=_0x56d5c8(0x517),_0xb9ea37['Prompt']=_0x56d5c8(0x7f7),_0xb9ea37['Answer']=_0x56d5c8(0x707),_0xb9ea37[_0x56d5c8(0x599)]=_0x56d5c8(0x6ca),_0xb9ea37[_0x56d5c8(0x809)]='code',_0xb9ea37[_0x56d5c8(0x20c)]='search',_0xb9ea37[_0x56d5c8(0x828)]=_0x56d5c8(0x312),_0xb9ea37[_0x56d5c8(0x755)]=_0x56d5c8(0x37f),_0xb9ea37[_0x56d5c8(0x46d)]=_0x56d5c8(0x2c4),_0xb9ea37[_0x56d5c8(0x8d7)]='sentence-splitter',_0xb9ea37[_0x56d5c8(0x4a5)]=_0x56d5c8(0x572);}(_0x43b5f6||(_0x43b5f6={})),function(_0x3121e0){const _0x53b246=_0x4bc902;_0x3121e0[_0x53b246(0x124)]='object-storage-upload',_0x3121e0['ExternalStorageUpload']=_0x53b246(0x23d),_0x3121e0[_0x53b246(0x8b8)]=_0x53b246(0x761),_0x3121e0[_0x53b246(0x46d)]=_0x53b246(0x2c4),_0x3121e0['WordSplitter']=_0x53b246(0x572),_0x3121e0[_0x53b246(0x8d7)]=_0x53b246(0x945),_0x3121e0[_0x53b246(0x78e)]=_0x53b246(0x884),_0x3121e0[_0x53b246(0x942)]=_0x53b246(0xa0c),_0x3121e0['Reranker']=_0x53b246(0x5f4),_0x3121e0[_0x53b246(0x61a)]=_0x53b246(0x7f1),_0x3121e0[_0x53b246(0x251)]='agent',_0x3121e0['ObjectStorageBucket']=_0x53b246(0x414),_0x3121e0['KeyValueDatabase']=_0x53b246(0x1a5),_0x3121e0[_0x53b246(0x2bc)]=_0x53b246(0x6f9),_0x3121e0['GraphDatabase']=_0x53b246(0x3a5),_0x3121e0[_0x53b246(0x4dd)]=_0x53b246(0x7f7),_0x3121e0[_0x53b246(0x675)]=_0x53b246(0x218);}(_0x771d08||(_0x771d08={})),function(_0x59d518){const _0x484332=_0x4bc902;_0x59d518[_0x484332(0x734)]='file',_0x59d518['Text']='text',_0x59d518[_0x484332(0x964)]='image',_0x59d518[_0x484332(0x6b5)]='audio',_0x59d518[_0x484332(0x83c)]=_0x484332(0x463),_0x59d518['Vector']=_0x484332(0x7e2),_0x59d518['Entity']='entity',_0x59d518['Relation']=_0x484332(0x1f2),_0x59d518[_0x484332(0x20c)]=_0x484332(0x75d),_0x59d518[_0x484332(0x38d)]='index',_0x59d518[_0x484332(0x38a)]='knowledge',_0x59d518[_0x484332(0x981)]=_0x484332(0x5ba),_0x59d518[_0x484332(0x675)]=_0x484332(0x218),_0x59d518[_0x484332(0x18f)]=_0x484332(0x261);}(_0x22dd61||(_0x22dd61={}));class _0x468a43{static [_0x4bc902(0x451)];constructor(){}static[_0x4bc902(0x81f)](){const _0x3f072e=_0x4bc902;return _0x468a43['instance']||(_0x468a43[_0x3f072e(0x451)]=new _0x468a43()),_0x468a43[_0x3f072e(0x451)];}async[_0x4bc902(0x83a)](_0x434d53,_0x3b6a0d){const _0x2b9b25=_0x4bc902,_0x1cb7dd=await(0x0,_0x456efb['getDoc'])((0x0,_0x456efb['doc'])(_0x14b3ac['getFirestore'](),_0x2b9b25(0x6d1)+_0x434d53+_0x2b9b25(0x6ce)+_0x3b6a0d)),_0x577afc=await this[_0x2b9b25(0x34f)](_0x434d53),_0x16dc30=await this[_0x2b9b25(0x50f)](_0x434d53),_0x4595bf=await this[_0x2b9b25(0x7e0)](_0x434d53),_0x261ed1=await this[_0x2b9b25(0x978)](_0x434d53),_0x14b3bf=await this['getGrammars'](_0x434d53);if(!_0x1cb7dd[_0x2b9b25(0x770)]())throw new _0x3d0311(_0x3d0311['codes'][_0x2b9b25(0x60c)]);return this[_0x2b9b25(0x17e)](_0x1cb7dd,_0x577afc,_0x16dc30,_0x4595bf,_0x261ed1,_0x14b3bf);}[_0x4bc902(0x17e)](_0x3b47f7,_0x1f0691,_0x160b98,_0x1da4fe,_0x4e8d7a,_0x3957c7){const _0x1d9261=_0x4bc902,_0xd2281=_0x3b47f7['data']();if(!_0xd2281)throw new _0x3d0311(_0x3d0311[_0x1d9261(0x85e)][_0x1d9261(0x60c)]);const _0x1a7742=_0xd2281['deployedVersion']&&_0xd2281[_0x1d9261(0x920)]?_0xd2281[_0x1d9261(0x920)][_0xd2281[_0x1d9261(0x4c1)]-0x1]:_0xd2281,_0x255d01=this[_0x1d9261(0x9de)](_0x1a7742[_0x1d9261(0x944)],_0x1f0691,_0x160b98,_0x1da4fe,_0x3957c7);return{'id':_0x3b47f7['id'],'modelsBucketId':_0xd2281[_0x1d9261(0x73d)],'blocks':_0x255d01,'models':this[_0x1d9261(0x34a)](_0x255d01,_0x4e8d7a),'dataBucketIds':this[_0x1d9261(0x664)](_0x255d01),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x255d01)};}[_0x4bc902(0x34a)](_0x340f4d,_0x4434e7){const _0x2a0484=_0x4bc902,_0x53c4ca=new Set();for(const _0x1d4654 of _0x340f4d)if(_0x1d4654[_0x2a0484(0x1aa)]!==_0x43b5f6[_0x2a0484(0x251)]&&_0x1d4654[_0x2a0484(0x1aa)]!==_0x43b5f6[_0x2a0484(0x641)]||_0x53c4ca[_0x2a0484(0xa19)](_0x1d4654[_0x2a0484(0x941)]),_0x1d4654[_0x2a0484(0x1aa)]===_0x43b5f6[_0x2a0484(0x38a)]||_0x1d4654[_0x2a0484(0x1aa)]===_0x43b5f6[_0x2a0484(0x7e8)]){for(const _0x1fa08b of[..._0x1d4654[_0x2a0484(0x68f)],..._0x1d4654[_0x2a0484(0x345)]])_0x1fa08b[_0x2a0484(0x1aa)]===_0x771d08['Model']&&_0x53c4ca['add'](_0x1fa08b['id']),_0x1fa08b['type']===_0x771d08[_0x2a0484(0x251)]&&_0x53c4ca[_0x2a0484(0xa19)](_0x1fa08b[_0x2a0484(0x941)]);}return Array[_0x2a0484(0x100)](_0x53c4ca)['map'](_0x26510c=>{const {id:_0xfcd403,engineType:_0x242368,taskType:_0x576aa0,inputType:_0x401e08,outputType:_0x1a5395,sourceUrl:_0x20ae81}=_0x4434e7['find'](_0x500213=>_0x500213['id']===_0x26510c);return{'id':_0xfcd403,'engineType':_0x242368,'taskType':_0x576aa0,'inputType':_0x401e08,'outputType':_0x1a5395,'sourceUrl':_0x20ae81};});}[_0x4bc902(0x664)](_0xf51eb7){const _0x320dab=_0x4bc902,_0x4cc953=new Set();for(const _0x2bc84f of _0xf51eb7)switch(_0x2bc84f[_0x320dab(0x1aa)]){case _0x43b5f6[_0x320dab(0x38a)]:case _0x43b5f6[_0x320dab(0x7e8)]:for(const _0x3c94a7 of[..._0x2bc84f[_0x320dab(0x68f)],..._0x2bc84f[_0x320dab(0x345)]])_0x3c94a7[_0x320dab(0x1aa)]===_0x771d08['ObjectStorageUpload']&&_0x4cc953['add'](_0x3c94a7['id']);}return Array['from'](_0x4cc953);}[_0x4bc902(0x227)](_0xe8b43){const _0x26704e=_0x4bc902,_0x2046ff=new Set();for(const _0x1f7034 of _0xe8b43)switch(_0x1f7034[_0x26704e(0x1aa)]){case _0x43b5f6[_0x26704e(0x38a)]:case _0x43b5f6[_0x26704e(0x7e8)]:for(const _0x5ba692 of[..._0x1f7034[_0x26704e(0x68f)],..._0x1f7034[_0x26704e(0x345)]])_0x5ba692[_0x26704e(0x1aa)]===_0x771d08['ExternalStorageUpload']&&_0x2046ff[_0x26704e(0xa19)](_0x5ba692['id']);}return Array[_0x26704e(0x100)](_0x2046ff);}[_0x4bc902(0x9de)](_0x4a4bcf,_0x10f606,_0x20a57c,_0x4c1c00,_0x42f536){const _0x4c2f0f=_0x4bc902;return _0x4a4bcf[_0x4c2f0f(0x8a3)](_0x1d7dac=>{const _0x1ab1f3=_0x4c2f0f;switch(_0x1d7dac['type']){case _0x43b5f6['Agent']:case _0x43b5f6[_0x1ab1f3(0x641)]:const _0x37de60=_0x10f606[_0x1ab1f3(0x731)](_0x10c239=>_0x10c239['id']===_0x1d7dac['id']);if(!_0x37de60)throw new _0x3d0311(_0x3d0311[_0x1ab1f3(0x85e)]['WorkflowInvalidBlockType'],{'block':_0x1d7dac});const _0x1cbf8e=_0x1d7dac[_0x1ab1f3(0x2bf)]&&_0x37de60['versions']?_0x37de60[_0x1ab1f3(0x920)][_0x1d7dac[_0x1ab1f3(0x2bf)]-0x1]:_0x37de60;return{'type':_0x37de60[_0x1ab1f3(0x1aa)],'id':_0x37de60['id'],'uid':_0x1d7dac[_0x1ab1f3(0xa2e)],'name':_0x1cbf8e[_0x1ab1f3(0x89d)],'description':_0x1cbf8e[_0x1ab1f3(0x53f)],'instructions':_0x1cbf8e[_0x1ab1f3(0x88a)],'contextOutputVariable':_0x1cbf8e[_0x1ab1f3(0x23c)],'grammar':[_0x1ab1f3(0x7a4),'json',_0x1ab1f3(0x659)][_0x1ab1f3(0x7f5)](_0x1cbf8e['grammar'])?_0x1cbf8e['grammar']:_0x42f536[_0x1ab1f3(0x731)](_0x572580=>_0x572580['id']===_0x1cbf8e[_0x1ab1f3(0x91c)])[_0x1ab1f3(0xa0d)],'temperature':_0x1cbf8e['temperature'],'maxTokens':_0x1cbf8e['maxTokens'],'modelId':_0x1cbf8e[_0x1ab1f3(0x941)],'links':_0x1d7dac[_0x1ab1f3(0x197)],'version':_0x1d7dac['version']};case _0x43b5f6[_0x1ab1f3(0x38a)]:case _0x43b5f6[_0x1ab1f3(0x7e8)]:const _0xe702cd=_0x20a57c[_0x1ab1f3(0x731)](_0x44ca1b=>_0x44ca1b['id']===_0x1d7dac['id']);if(!_0xe702cd)throw new _0x3d0311(_0x3d0311[_0x1ab1f3(0x85e)][_0x1ab1f3(0x784)],{'block':_0x1d7dac});const _0x17d52f=_0x1d7dac[_0x1ab1f3(0x2bf)]&&_0xe702cd[_0x1ab1f3(0x920)]?_0xe702cd[_0x1ab1f3(0x920)][_0x1d7dac[_0x1ab1f3(0x2bf)]-0x1]:_0xe702cd;return{'type':_0x1d7dac[_0x1ab1f3(0x1aa)],'id':_0xe702cd['id'],'uid':_0x1d7dac[_0x1ab1f3(0xa2e)],'name':_0x17d52f[_0x1ab1f3(0x89d)],'description':_0x17d52f[_0x1ab1f3(0x53f)],'ingestBlocks':this['parseDataCollectionBlocks'](_0x17d52f[_0x1ab1f3(0x68f)],_0x10f606),'retrieveBlocks':this[_0x1ab1f3(0x651)](_0x17d52f['retrieveBlocks'],_0x10f606),'links':_0x1d7dac[_0x1ab1f3(0x197)],'version':_0x1d7dac[_0x1ab1f3(0x2bf)]};case _0x43b5f6['CustomSkill']:const _0x968e27=_0x4c1c00['find'](_0x1032bc=>_0x1032bc['id']===_0x1d7dac['id']);if(!_0x968e27)throw new _0x3d0311(_0x3d0311['codes'][_0x1ab1f3(0x784)],{'block':_0x1d7dac});return{'type':_0x1d7dac[_0x1ab1f3(0x1aa)],'id':_0x968e27['id'],'uid':_0x1d7dac[_0x1ab1f3(0xa2e)],'name':_0x968e27[_0x1ab1f3(0x89d)],'description':_0x968e27[_0x1ab1f3(0x53f)],'parameters':_0x968e27[_0x1ab1f3(0x6fc)],'endpointUrl':_0x968e27['endpointUrl'],'endpointMethod':_0x968e27[_0x1ab1f3(0x1cf)],'headers':_0x968e27[_0x1ab1f3(0x1a3)],'queryParameters':_0x968e27[_0x1ab1f3(0x5d9)],'bodyParameters':_0x968e27[_0x1ab1f3(0x653)],'contextOutputVariable':_0x968e27[_0x1ab1f3(0x23c)],'waitAsync':_0x968e27[_0x1ab1f3(0x1df)],'asyncEndpointUrl':_0x968e27[_0x1ab1f3(0x895)],'asyncEndpointMethod':_0x968e27['asyncEndpointMethod'],'asyncHeaders':_0x968e27[_0x1ab1f3(0x864)],'links':_0x1d7dac[_0x1ab1f3(0x197)]};case _0x43b5f6['Prompt']:case _0x43b5f6[_0x1ab1f3(0x36d)]:case _0x43b5f6[_0x1ab1f3(0x599)]:case _0x43b5f6['Code']:case _0x43b5f6[_0x1ab1f3(0x20c)]:case _0x43b5f6[_0x1ab1f3(0x828)]:case _0x43b5f6['WebScraperRaw']:case _0x43b5f6[_0x1ab1f3(0x8d7)]:return{'type':_0x1d7dac[_0x1ab1f3(0x1aa)],'id':_0x1d7dac['id'],'uid':_0x1d7dac[_0x1ab1f3(0xa2e)],'links':_0x1d7dac[_0x1ab1f3(0x197)]};case _0x43b5f6['ChunkSplitter']:case _0x43b5f6[_0x1ab1f3(0x4a5)]:return{'type':_0x1d7dac[_0x1ab1f3(0x1aa)],'id':_0x1d7dac['id'],'uid':_0x1d7dac['uid'],'links':_0x1d7dac[_0x1ab1f3(0x197)],'attributes':_0x1d7dac[_0x1ab1f3(0x8a6)]};default:throw new _0x3d0311(_0x3d0311[_0x1ab1f3(0x85e)][_0x1ab1f3(0x784)],{'block':_0x1d7dac});}});}[_0x4bc902(0x651)](_0x349cf3,_0x4a3983){const _0x2b983d=_0x4bc902;return _0x349cf3[_0x2b983d(0x8a3)](_0x40ba40=>{const _0xe26cbe=_0x2b983d;switch(_0x40ba40[_0xe26cbe(0x1aa)]){case _0x771d08[_0xe26cbe(0x251)]:const _0x187fac=_0x4a3983[_0xe26cbe(0x731)](_0xfc8d41=>_0xfc8d41['id']===_0x40ba40['id']);if(!_0x187fac)throw new _0x3d0311(_0x3d0311[_0xe26cbe(0x85e)][_0xe26cbe(0x784)],{'block':_0x40ba40});const _0xed2785=_0x40ba40[_0xe26cbe(0x2bf)]&&_0x187fac[_0xe26cbe(0x920)]?_0x187fac['versions'][_0x40ba40['version']-0x1]:_0x187fac;return{'type':_0x40ba40[_0xe26cbe(0x1aa)],'id':_0x40ba40['id'],'uid':_0x40ba40[_0xe26cbe(0xa2e)],'description':_0xed2785[_0xe26cbe(0x53f)],'instructions':_0xed2785[_0xe26cbe(0x88a)],'grammar':_0xed2785[_0xe26cbe(0x91c)],'temperature':_0xed2785[_0xe26cbe(0x4b9)],'maxTokens':_0xed2785[_0xe26cbe(0x18b)],'modelId':_0xed2785[_0xe26cbe(0x941)],'links':_0x40ba40['links'],'version':_0x40ba40[_0xe26cbe(0x2bf)]};case _0x771d08[_0xe26cbe(0x19b)]:case _0x771d08[_0xe26cbe(0x2bc)]:case _0x771d08[_0xe26cbe(0x4a5)]:case _0x771d08['ChunkSplitter']:case _0x771d08[_0xe26cbe(0x942)]:case _0x771d08['Reranker']:return{'type':_0x40ba40[_0xe26cbe(0x1aa)],'id':_0x40ba40['id'],'uid':_0x40ba40[_0xe26cbe(0xa2e)],'links':_0x40ba40[_0xe26cbe(0x197)],'attributes':_0x40ba40[_0xe26cbe(0x8a6)]};case _0x771d08[_0xe26cbe(0x61a)]:case _0x771d08[_0xe26cbe(0x8cf)]:case _0x771d08[_0xe26cbe(0x622)]:case _0x771d08[_0xe26cbe(0x78e)]:case _0x771d08[_0xe26cbe(0x8b8)]:case _0x771d08[_0xe26cbe(0x8d7)]:case _0x771d08[_0xe26cbe(0x124)]:case _0x771d08[_0xe26cbe(0x9cc)]:case _0x771d08[_0xe26cbe(0x675)]:case _0x771d08[_0xe26cbe(0x4dd)]:return{'type':_0x40ba40[_0xe26cbe(0x1aa)],'id':_0x40ba40['id'],'uid':_0x40ba40[_0xe26cbe(0xa2e)],'links':_0x40ba40['links']};default:throw new _0x3d0311(_0x3d0311['codes'][_0xe26cbe(0x784)],{'block':_0x40ba40});}});}async[_0x4bc902(0x34f)](_0x3bd50e){const _0x118bf0=_0x4bc902;return(await(0x0,_0x456efb[_0x118bf0(0x7ad)])((0x0,_0x456efb[_0x118bf0(0x61f)])(_0x14b3ac[_0x118bf0(0x6c4)](),_0x118bf0(0x6d1)+_0x3bd50e+_0x118bf0(0x486))))['docs'][_0x118bf0(0x8a3)](_0x2d740a=>{const _0x3b3aec=_0x118bf0,_0x5302db=_0x2d740a[_0x3b3aec(0x463)]();return{'type':_0x43b5f6[_0x3b3aec(0x251)],'id':_0x2d740a['id'],'name':_0x5302db[_0x3b3aec(0x89d)],'description':_0x5302db[_0x3b3aec(0x53f)],'instructions':_0x5302db[_0x3b3aec(0x88a)],'contextOutputVariable':_0x5302db[_0x3b3aec(0x23c)],'grammar':_0x5302db['grammar']??_0x3b3aec(0x7a4),'temperature':_0x5302db[_0x3b3aec(0x4b9)],'maxTokens':_0x5302db['maxTokens'],'modelId':_0x5302db[_0x3b3aec(0x941)],'versions':_0x5302db['versions']};});}async[_0x4bc902(0x50f)](_0x38e72f){const _0x1d8313=_0x4bc902;return(await(0x0,_0x456efb[_0x1d8313(0x7ad)])((0x0,_0x456efb[_0x1d8313(0x61f)])(_0x14b3ac[_0x1d8313(0x6c4)](),_0x1d8313(0x6d1)+_0x38e72f+_0x1d8313(0x9f4))))[_0x1d8313(0x9f2)]['map'](_0x4d13ef=>{const _0x4ef726=_0x1d8313,_0x20be27=_0x4d13ef[_0x4ef726(0x463)]();return{'type':_0x43b5f6['DataCollection'],'id':_0x4d13ef['id'],'name':_0x20be27[_0x4ef726(0x89d)],'description':_0x20be27[_0x4ef726(0x53f)],'ingestBlocks':_0x20be27['ingestBlocks'],'retrieveBlocks':_0x20be27['retrieveBlocks'],'versions':_0x20be27[_0x4ef726(0x920)]};});}async[_0x4bc902(0x7e0)](_0x3356de){const _0x188c3e=_0x4bc902;return(await(0x0,_0x456efb['getDocs'])((0x0,_0x456efb['collection'])(_0x14b3ac['getFirestore'](),_0x188c3e(0x6d1)+_0x3356de+_0x188c3e(0x9ce))))[_0x188c3e(0x9f2)][_0x188c3e(0x8a3)](_0x49dd79=>{const _0x4e022f=_0x188c3e,_0x4b741b=_0x49dd79[_0x4e022f(0x463)]();return{'type':_0x43b5f6[_0x4e022f(0x2e8)],'id':_0x49dd79['id'],'name':_0x4b741b[_0x4e022f(0x89d)],'description':_0x4b741b[_0x4e022f(0x53f)],'parameters':_0x4b741b['parameters'],'endpointUrl':_0x4b741b[_0x4e022f(0x9fd)],'endpointMethod':_0x4b741b['endpointMethod'],'headers':_0x4b741b['headers'],'queryParameters':_0x4b741b[_0x4e022f(0x5d9)],'bodyParameters':_0x4b741b['bodyParameters'],'contextOutputVariable':_0x4b741b[_0x4e022f(0x23c)],'waitAsync':_0x4b741b[_0x4e022f(0x1df)]??!0x1,'asyncEndpointUrl':_0x4b741b[_0x4e022f(0x895)],'asyncEndpointMethod':_0x4b741b[_0x4e022f(0x717)],'asyncHeaders':_0x4b741b['asyncHeaders']};});}async[_0x4bc902(0x965)](_0x4221c3){const _0x358b30=_0x4bc902;return(await(0x0,_0x456efb[_0x358b30(0x7ad)])((0x0,_0x456efb[_0x358b30(0x61f)])(_0x14b3ac[_0x358b30(0x6c4)](),'/developers/'+_0x4221c3+_0x358b30(0x4bf))))['docs'][_0x358b30(0x8a3)](_0xcff5d=>{const _0x66b3d0=_0x358b30,_0x2cd33b=_0xcff5d[_0x66b3d0(0x463)]();return{'id':_0xcff5d['id'],'name':_0x2cd33b['name'],'description':_0x2cd33b[_0x66b3d0(0x53f)],'content':_0x2cd33b[_0x66b3d0(0xa0d)]};});}async[_0x4bc902(0x978)](_0x231053){const _0x228a4a=_0x4bc902;return(await(0x0,_0x456efb['getDocs'])((0x0,_0x456efb[_0x228a4a(0x61f)])(_0x14b3ac[_0x228a4a(0x6c4)](),_0x228a4a(0x6d1)+_0x231053+_0x228a4a(0x9d8))))['docs']['map'](_0x3e2787=>{const _0x25142f=_0x228a4a,_0x337d85=_0x3e2787[_0x25142f(0x463)]();return{'id':_0x3e2787['id'],'modelName':_0x337d85['modelName'],'engineType':_0x337d85[_0x25142f(0x528)],'taskType':_0x337d85[_0x25142f(0x640)],'inputType':_0x337d85[_0x25142f(0x390)]??_0x3e2379[_0x25142f(0x607)][_0x25142f(0x851)],'outputType':_0x337d85[_0x25142f(0x586)]??_0x3e2379['GenerativeAIModelOutputType'][_0x25142f(0x851)],'sourceUrl':_0x337d85[_0x25142f(0x79f)]};});}}const _0x2671ab=_0x468a43[_0x4bc902(0x81f)]();class _0x148af2 extends _0x4ffba1{[_0x4bc902(0x8cc)];[_0x4bc902(0x203)];[_0x4bc902(0x3f1)]=0x0;[_0x4bc902(0x62a)]=0x0;[_0x4bc902(0x4fb)];constructor(_0x9b3f33,_0x1710c8,_0x42a01a,_0x30621d){const _0x55fe45=_0x4bc902;super(_0x9b3f33,_0x1710c8,_0x30621d),this[_0x55fe45(0x8cc)]=_0x9b3f33,this[_0x55fe45(0x203)]=_0x42a01a,this[_0x55fe45(0x90f)]();}[_0x4bc902(0x42d)](){const _0x5f0dd8=_0x4bc902;this[_0x5f0dd8(0x4fb)]&&(clearTimeout(this[_0x5f0dd8(0x4fb)]),delete this['debounceStats']),super['destroy']();}[_0x4bc902(0x27e)](){const _0x10a644=_0x4bc902;this[_0x10a644(0x3f1)]=0x0,this['tokens']=0x0,this[_0x10a644(0x90f)](),super[_0x10a644(0x27e)]();}['createAIJob'](_0x91571d){const _0x4a5c71=_0x4bc902,_0x3b64fd='job-'+(0x0,_0x31add3['v4'])();switch(_0x91571d[_0x4a5c71(0x1aa)]){case'prompt':let _0x584b0d=!0x1;const _0x1fe637=()=>{const _0x343ec7=_0x4a5c71;if(_0x584b0d)throw new _0x3d0311(_0x3d0311[_0x343ec7(0x85e)]['GenerativeAIContextJobAlreadyConsumed']);_0x584b0d=!0x0;},_0x59910b=()=>(_0x1fe637(),this[_0x4a5c71(0x7f7)](_0x3b64fd,_0x91571d[_0x4a5c71(0x7f7)],_0x91571d[_0x4a5c71(0x31c)])),_0x47279f=()=>(_0x1fe637(),this[_0x4a5c71(0x3be)](_0x3b64fd,_0x91571d[_0x4a5c71(0x7f7)],_0x91571d[_0x4a5c71(0x31c)]));return{'id':_0x3b64fd,'prompt':_0x91571d[_0x4a5c71(0x7f7)],'options':_0x91571d[_0x4a5c71(0x31c)]??{'threadId':'thread-'+(0x0,_0x31add3['v4'])()},'run':_0x59910b,'stream':_0x47279f};case _0x4a5c71(0x404):let _0x473b27=!0x1;const _0xcd4765=()=>{if(_0x473b27)throw new _0x3d0311(_0x3d0311['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x473b27=!0x0;},_0x1bd9a3=()=>(_0xcd4765(),this[_0x4a5c71(0x403)](_0x3b64fd,_0x91571d[_0x4a5c71(0x4dc)],_0x91571d[_0x4a5c71(0x855)],_0x91571d[_0x4a5c71(0x31c)]));if(!_0x91571d[_0x4a5c71(0x31c)]?.[_0x4a5c71(0x6d7)])throw new _0x4b6430(_0x2bb2b4[_0x4a5c71(0x8cb)],_0x4a5c71(0x6a4));return{'id':_0x3b64fd,'rating':_0x91571d[_0x4a5c71(0x4dc)],'options':_0x91571d[_0x4a5c71(0x31c)]??{'threadId':'thread-'+(0x0,_0x31add3['v4'])()},'rate':_0x1bd9a3};case'downloadDocument':let _0x2be0f2=!0x1;const _0x31a4e1=()=>{const _0xa0bcab=_0x4a5c71;if(_0x2be0f2)throw new _0x3d0311(_0x3d0311['codes'][_0xa0bcab(0x2ed)]);_0x2be0f2=!0x0;};return{'id':_0x3b64fd,'objectStoreId':'','documentPath':_0x91571d[_0x4a5c71(0x9af)],'download':()=>(_0x31a4e1(),this[_0x4a5c71(0x1a6)](_0x3b64fd,_0x91571d[_0x4a5c71(0x38c)],_0x91571d[_0x4a5c71(0x9af)]))};}}async[_0x4bc902(0x108)](_0x24478c){const _0x3f71a1=_0x4bc902;return this[_0x3f71a1(0x9fb)](_0x24478c)[_0x3f71a1(0x404)]();}async[_0x4bc902(0x277)](_0x521860){const _0x54e266=_0x4bc902,_0x33bb57={'type':_0x54e266(0x277),'objectStoreId':'','documentPath':_0x521860};return this['createAIJob'](_0x33bb57)[_0x54e266(0x9ec)]();}async[_0x4bc902(0x403)](_0x3e1307,_0x295db8,_0x5253b9,{threadId:_0x507b2a,feedback:_0x36b2b7=''}){const _0x64aa6b=_0x4bc902,_0x45ef5d={'type':_0x64aa6b(0x404),'jobId':_0x5253b9,'threadId':_0x507b2a,'rating':_0x295db8,'feedback':_0x36b2b7},_0x31fac5=await this[_0x64aa6b(0x658)](_0x3e1307,_0x3e2379[_0x64aa6b(0x96a)][_0x64aa6b(0x198)],_0x45ef5d,{'threadId':_0x507b2a,'feedback':_0x36b2b7});return new Promise((_0x488b8f,_0x269e4e)=>{const _0x2491e4=_0x64aa6b;let _0x1083f5;const _0x24c710=_0x31fac5[_0x2491e4(0x9e4)]({'next':_0x39cfd2=>{const _0x147fc3=_0x2491e4;switch(_0x39cfd2[_0x147fc3(0x1a8)]){case _0x3e2379[_0x147fc3(0x773)][_0x147fc3(0x11d)]:clearTimeout(_0x1083f5),_0x488b8f(_0x39cfd2[_0x147fc3(0x900)]),_0x24c710[_0x147fc3(0x80f)]();break;case _0x3e2379['JobStatus'][_0x147fc3(0x78b)]:clearTimeout(_0x1083f5),_0x269e4e(new _0x3d0311(_0x3d0311['codes'][_0x147fc3(0x6f3)],{'updatedJob':_0x39cfd2})),_0x24c710['unsubscribe']();}},'error':_0x350ac9=>{const _0x3fce07=_0x2491e4;clearTimeout(_0x1083f5),_0x269e4e(new _0x3d0311(_0x3d0311[_0x3fce07(0x85e)][_0x3fce07(0x6f3)],{'err':_0x350ac9})),_0x24c710[_0x3fce07(0x80f)]();}});_0x1083f5=setTimeout(()=>{const _0x477efa=_0x2491e4;_0x269e4e(new _0x3d0311(_0x3d0311[_0x477efa(0x85e)][_0x477efa(0x555)])),_0x24c710[_0x477efa(0x80f)]();},_0x3f3670);});}async['internalDownloadDocument'](_0x4fc235,_0x5879de,_0x6b741f){const _0x370e4b=_0x4bc902,_0x59242f={'type':_0x370e4b(0x277),'objectStoreId':_0x5879de,'documentPath':_0x6b741f,'threadId':_0x370e4b(0x161)+(0x0,_0x31add3['v4'])()},_0x48b50f=await this[_0x370e4b(0x658)](_0x4fc235,_0x3e2379[_0x370e4b(0x96a)][_0x370e4b(0x198)],_0x59242f);return new Promise((_0x57ff50,_0x1646db)=>{const _0x42d537=_0x370e4b;let _0x346c78;const _0x24d18a=_0x48b50f[_0x42d537(0x9e4)]({'next':_0x57cb28=>{const _0x408bc3=_0x42d537;switch(_0x57cb28[_0x408bc3(0x1a8)]){case _0x3e2379[_0x408bc3(0x773)][_0x408bc3(0x11d)]:clearTimeout(_0x346c78),_0x57ff50(_0x57cb28[_0x408bc3(0x900)]),_0x24d18a['unsubscribe']();break;case _0x3e2379[_0x408bc3(0x773)][_0x408bc3(0x78b)]:clearTimeout(_0x346c78),_0x1646db(new _0x3d0311(_0x3d0311['codes'][_0x408bc3(0x6f3)],{'updatedJob':_0x57cb28})),_0x24d18a['unsubscribe']();}},'error':_0x20f20e=>{const _0x4cdcad=_0x42d537;clearTimeout(_0x346c78),_0x1646db(new _0x3d0311(_0x3d0311[_0x4cdcad(0x85e)]['GenerativeAIContextJobFailed'],{'err':_0x20f20e})),_0x24d18a[_0x4cdcad(0x80f)]();}});_0x346c78=setTimeout(()=>{const _0x23c954=_0x42d537;_0x1646db(new _0x3d0311(_0x3d0311[_0x23c954(0x85e)][_0x23c954(0x555)])),_0x24d18a[_0x23c954(0x80f)]();},_0x3f3670);});}async[_0x4bc902(0x7f7)](_0x48e8c7,_0x40968b,_0x3cf464){const _0x4f490b=_0x4bc902,_0x26f0be={'type':'prompt','prompt':_0x40968b,'threadId':_0x3cf464?.[_0x4f490b(0x6d7)]??_0x4f490b(0x161)+(0x0,_0x31add3['v4'])()},_0x29d351=await this[_0x4f490b(0x658)](_0x48e8c7,_0x3e2379[_0x4f490b(0x96a)][_0x4f490b(0x198)],_0x26f0be,_0x3cf464);return new Promise((_0xd7bb0f,_0x3f49ec)=>{let _0x2bd01e;const _0x34c41b=_0x29d351['subscribe']({'next':_0x413b36=>{const _0x117edc=a0_0x4227;switch(_0x413b36[_0x117edc(0x1a8)]){case _0x3e2379[_0x117edc(0x773)][_0x117edc(0x11d)]:if(_0x117edc(0x7f7)!==_0x413b36['result'][_0x117edc(0x1aa)])return;const _0x2c44da=_0x413b36['result'][_0x117edc(0x219)]??0x0;this[_0x117edc(0x927)](_0x40968b,_0x2c44da),clearTimeout(_0x2bd01e),_0xd7bb0f(_0x413b36[_0x117edc(0x900)]),_0x34c41b[_0x117edc(0x80f)](),this[_0x117edc(0x3f1)]+=0x1,this['tokens']+=_0x2c44da,this[_0x117edc(0x90f)]();break;case _0x3e2379[_0x117edc(0x773)][_0x117edc(0x78b)]:clearTimeout(_0x2bd01e),_0x3f49ec(new _0x3d0311(_0x3d0311[_0x117edc(0x85e)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x413b36})),_0x34c41b[_0x117edc(0x80f)](),this[_0x117edc(0x90f)]();}},'error':_0x4ac493=>{const _0x4cb8fd=a0_0x4227;clearTimeout(_0x2bd01e),_0x3f49ec(new _0x3d0311(_0x3d0311['codes'][_0x4cb8fd(0x6f3)],{'err':_0x4ac493})),_0x34c41b[_0x4cb8fd(0x80f)]();}});_0x2bd01e=setTimeout(()=>{const _0x579c88=a0_0x4227;_0x3f49ec(new _0x3d0311(_0x3d0311[_0x579c88(0x85e)][_0x579c88(0x555)])),_0x34c41b['unsubscribe']();},_0x3f3670);});}async*[_0x4bc902(0x3be)](_0x1cdebe,_0x33905f,_0x14e443){const _0x1184ea=_0x4bc902,_0x12f60a={'type':_0x1184ea(0x7f7),'prompt':_0x33905f,'threadId':_0x14e443?.[_0x1184ea(0x6d7)]??'thread-'+(0x0,_0x31add3['v4'])()},_0x2c3105=await this[_0x1184ea(0x658)](_0x1cdebe,_0x3e2379['JobType'][_0x1184ea(0x28e)],_0x12f60a,_0x14e443);let _0x448f75,_0x44a90b,_0x7ef372=!0x1,_0x411a1c=0x0;const _0x209052=[],_0x16f215=new Map();let _0x581659=null;const _0x49bcad=()=>{_0x581659&&(_0x581659(),_0x581659=null);},_0x231dd6=_0x22aedf=>{const _0x5c14a0=_0x1184ea;_0x7ef372=!0x0,_0x49bcad(),_0x4558db[_0x5c14a0(0x80f)](),_0x44a90b=_0x22aedf;},_0x4558db=_0x2c3105[_0x1184ea(0x9e4)]({'next':_0x7b2b62=>{const _0x43611a=_0x1184ea;switch(_0x7b2b62[_0x43611a(0x1a8)]){case _0x3e2379[_0x43611a(0x773)][_0x43611a(0x7df)]:if('prompt'!==_0x7b2b62[_0x43611a(0x900)][_0x43611a(0x1aa)])return;if(_0x7b2b62[_0x43611a(0x900)]&&void 0x0!==_0x7b2b62[_0x43611a(0x900)][_0x43611a(0x6dc)]){if(void 0x0===_0x7b2b62[_0x43611a(0x900)][_0x43611a(0x3c7)])return void _0x231dd6(_0x3d0311[_0x43611a(0x85e)][_0x43611a(0xa23)]);_0x411a1c===_0x7b2b62['result'][_0x43611a(0x3c7)]?(_0x209052[_0x43611a(0x5b2)](_0x7b2b62[_0x43611a(0x900)]),_0x411a1c++,((()=>{const _0x5ea1bc=_0x43611a;for(;_0x16f215[_0x5ea1bc(0x5f9)](_0x411a1c);)_0x209052[_0x5ea1bc(0x5b2)](_0x16f215[_0x5ea1bc(0x985)](_0x209052[_0x5ea1bc(0x1d8)])),_0x16f215['delete'](_0x209052[_0x5ea1bc(0x1d8)]),_0x411a1c++;})()),_0x49bcad(),_0x42dd88()):_0x16f215[_0x43611a(0x179)](_0x7b2b62[_0x43611a(0x900)]['index'],_0x7b2b62['result']);}break;case _0x3e2379['JobStatus']['Completed']:if('prompt'!==_0x7b2b62['result'][_0x43611a(0x1aa)])return;const _0x4e1433=_0x7b2b62['result'][_0x43611a(0x219)]??0x0;this['logServiceEvent'](_0x33905f,_0x4e1433),clearTimeout(_0x448f75),_0x231dd6(),this[_0x43611a(0x3f1)]+=0x1,this[_0x43611a(0x62a)]+=_0x4e1433,this['sendStats']();break;case _0x3e2379[_0x43611a(0x773)]['Failed']:clearTimeout(_0x448f75),_0x231dd6(_0x3d0311[_0x43611a(0x85e)][_0x43611a(0x6f3)]),this[_0x43611a(0x90f)]();}},'error':_0x519b64=>{const _0x56d240=_0x1184ea;clearTimeout(_0x448f75),_0x231dd6(_0x3d0311[_0x56d240(0x85e)][_0x56d240(0x6f3)]);}}),_0x24484b=()=>{const _0x1a14b6=_0x1184ea;_0x231dd6(_0x3d0311[_0x1a14b6(0x85e)][_0x1a14b6(0x555)]);},_0x42dd88=()=>{clearTimeout(_0x448f75),_0x448f75=setTimeout(_0x24484b,_0x3f3670);};for(_0x448f75=setTimeout(_0x24484b,_0x3f3670);!_0x7ef372||_0x209052[_0x1184ea(0x1d8)]>0x0;)_0x209052[_0x1184ea(0x1d8)]>0x0?yield _0x209052[_0x1184ea(0x47b)]():await new Promise(_0x33b0b6=>_0x581659=_0x33b0b6);if(_0x44a90b)throw _0x28bf01[_0x1184ea(0x1ca)]('GenerativeAIContext\x20stream\x20error',{'nodeId':this['localNode'][_0x1184ea(0x68a)](),'nodeType':this[_0x1184ea(0x8cc)][_0x1184ea(0x1aa)]}),new _0x3d0311(_0x44a90b);}async['getDataBucketIds'](){const _0xf82ecd=_0x4bc902;return(await _0x2671ab[_0xf82ecd(0x83a)](this[_0xf82ecd(0x203)],this[_0xf82ecd(0x458)]))[_0xf82ecd(0x9f0)];}[_0x4bc902(0x927)](_0x23fe32,_0xd4da24){const _0x2a7019=_0x4bc902,_0x2800e3=this['label'],_0x3c6b87=this[_0x2a7019(0x827)]();_0x28bf01[_0x2a7019(0x927)](_0x1aded9[_0x2a7019(0x7aa)],{'topic':_0x2800e3,'prompt':_0x23fe32,'type':_0x2a7019(0x7f7),'nodeId':_0x3c6b87,'tokenCount':_0xd4da24});}async[_0x4bc902(0x658)](_0x27c1bb,_0x138af5,_0x402048,_0x4f0c13={}){const _0x35b7fb=_0x4bc902;let _0x4c98f4;switch(_0x402048['type']){case'prompt':{const {threadId:_0x3e67c3}=_0x4f0c13;_0x4c98f4={'id':_0x27c1bb,'jobType':_0x138af5,'parameters':{..._0x4f0c13,'type':'prompt','prompt':_0x402048['prompt'],'threadId':_0x3e67c3},'status':_0x3e2379[_0x35b7fb(0x773)]['Pending']};break;}case _0x35b7fb(0x404):{const {threadId:_0x319184}=_0x4f0c13;_0x4c98f4={'id':_0x27c1bb,'jobType':_0x138af5,'parameters':{..._0x4f0c13,'type':_0x35b7fb(0x404),'jobId':_0x402048[_0x35b7fb(0x855)],'rating':_0x402048[_0x35b7fb(0x4dc)],'feedback':_0x402048[_0x35b7fb(0x7ef)]??'','threadId':_0x319184},'status':_0x3e2379[_0x35b7fb(0x773)]['Pending']};break;}case _0x35b7fb(0x277):_0x4c98f4={'id':_0x27c1bb,'jobType':_0x138af5,'parameters':{..._0x4f0c13,'type':_0x35b7fb(0x277),'objectStoreId':_0x402048[_0x35b7fb(0x38c)],'documentPath':_0x402048[_0x35b7fb(0x9af)]},'status':_0x3e2379[_0x35b7fb(0x773)][_0x35b7fb(0x624)]};}return await this[_0x35b7fb(0x80d)](_0x4c98f4);}['sendStats'](){const _0x288b3a=_0x4bc902;this[_0x288b3a(0x4fb)]&&clearTimeout(this['debounceStats']),this[_0x288b3a(0x4fb)]=setTimeout(async()=>{const _0xff3222=_0x288b3a;delete this[_0xff3222(0x4fb)],this['systemTopic'][_0xff3222(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0xff3222(0x889)],'content':{'type':_0x5b4969['GenerativeAIContextStats'],'label':this[_0xff3222(0x458)],'stats':{'timestamp':Date[_0xff3222(0xa09)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0xff3222(0x61c)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0xff3222(0x3f1)],'tokens':this['tokens']}}});},_0x212304);}}var _0x42d15a,_0x471faa,_0x371406,_0x16dfde,_0x71a845,_0x1abd5b,_0x5dfb44,_0x1de545,_0x30efab,_0x28bb92,_0x42b52e;!function(_0xe7e1b1){const _0x1b39ec=_0x4bc902;_0xe7e1b1['AITrace']=_0x1b39ec(0x7ca),_0xe7e1b1['IngestTrace']='IngestTrace',_0xe7e1b1['RetrieveTrace']='RetrieveTrace',_0xe7e1b1[_0x1b39ec(0x2d0)]=_0x1b39ec(0x2d0);}(_0x42d15a||(_0x42d15a={})),function(_0x5f19b2){const _0x50f43e=_0x4bc902;_0x5f19b2[_0x50f43e(0xff)]=_0x50f43e(0xff),_0x5f19b2[_0x50f43e(0x709)]=_0x50f43e(0x709),_0x5f19b2[_0x50f43e(0x346)]='VectorSearch',_0x5f19b2[_0x50f43e(0x942)]=_0x50f43e(0x942),_0x5f19b2[_0x50f43e(0x914)]=_0x50f43e(0x914),_0x5f19b2[_0x50f43e(0x705)]='Reranker';}(_0x471faa||(_0x471faa={})),function(_0x532058){const _0x1ebbad=_0x4bc902;_0x532058[_0x532058['Debug']=0x0]=_0x1ebbad(0x611),_0x532058[_0x532058[_0x1ebbad(0x5fd)]=0x5]='Info',_0x532058[_0x532058['Warning']=0xa]=_0x1ebbad(0x358),_0x532058[_0x532058[_0x1ebbad(0x668)]=0xf]=_0x1ebbad(0x668);}(_0x371406||(_0x371406={})),function(_0x53654e){const _0x7468b6=_0x4bc902;_0x53654e[_0x7468b6(0x8ba)]=_0x7468b6(0x8ba),_0x53654e[_0x7468b6(0x774)]=_0x7468b6(0x774),_0x53654e[_0x7468b6(0x38a)]=_0x7468b6(0x38a),_0x53654e[_0x7468b6(0x981)]='Skill',_0x53654e['Workflow']=_0x7468b6(0x436),_0x53654e[_0x7468b6(0x198)]='Job',_0x53654e[_0x7468b6(0x583)]=_0x7468b6(0x583),_0x53654e[_0x7468b6(0x623)]='Rating';}(_0x16dfde||(_0x16dfde={})),function(_0x2e6eaa){const _0x26874e=_0x4bc902;_0x2e6eaa['Queued']=_0x26874e(0x242),_0x2e6eaa['Completed']=_0x26874e(0x11d);}(_0x71a845||(_0x71a845={})),function(_0x285827){const _0x5166a9=_0x4bc902;_0x285827[_0x5166a9(0x8ca)]='InitialPrompt',_0x285827[_0x5166a9(0x13e)]='IntermediateOutput',_0x285827['DataCollection']='DataCollection',_0x285827[_0x5166a9(0x3a4)]='FinalOutput';}(_0x1abd5b||(_0x1abd5b={})),function(_0x893b08){const _0x2773e1=_0x4bc902;_0x893b08[_0x2773e1(0x46d)]=_0x2773e1(0x46d),_0x893b08[_0x2773e1(0x8b8)]=_0x2773e1(0x8b8),_0x893b08['EntityExtractor']=_0x2773e1(0x942),_0x893b08[_0x2773e1(0x19b)]=_0x2773e1(0x19b),_0x893b08[_0x2773e1(0x251)]=_0x2773e1(0x251),_0x893b08[_0x2773e1(0xff)]=_0x2773e1(0xff),_0x893b08[_0x2773e1(0x709)]=_0x2773e1(0x709),_0x893b08[_0x2773e1(0x78e)]=_0x2773e1(0x78e),_0x893b08[_0x2773e1(0x8d7)]=_0x2773e1(0x8d7),_0x893b08[_0x2773e1(0x2bc)]=_0x2773e1(0x2bc),_0x893b08[_0x2773e1(0x4a5)]='WordSplitter';}(_0x5dfb44||(_0x5dfb44={})),function(_0x587fb0){const _0x50fe8e=_0x4bc902;_0x587fb0[_0x50fe8e(0x1f9)]='GetContextQuery',_0x587fb0[_0x50fe8e(0x921)]=_0x50fe8e(0x921);}(_0x1de545||(_0x1de545={})),function(_0x584a49){const _0x55a555=_0x4bc902;_0x584a49[_0x55a555(0x1e7)]=_0x55a555(0x1e7),_0x584a49[_0x55a555(0x97f)]='GetDate',_0x584a49[_0x55a555(0x674)]=_0x55a555(0x674),_0x584a49[_0x55a555(0x8f3)]='SearchGoogle',_0x584a49[_0x55a555(0x5d1)]=_0x55a555(0x5d1),_0x584a49[_0x55a555(0x628)]='ExecuteCustomSkill';}(_0x30efab||(_0x30efab={})),function(_0x5139f6){const _0xa05666=_0x4bc902;_0x5139f6[_0xa05666(0x6fa)]=_0xa05666(0x6fa),_0x5139f6[_0xa05666(0x494)]='LoadSkillFunction';}(_0x28bb92||(_0x28bb92={})),function(_0x5ce8b1){const _0x331b1f=_0x4bc902;_0x5ce8b1[_0x331b1f(0x21b)]=_0x331b1f(0x21b);}(_0x42b52e||(_0x42b52e={}));class _0xb0af8f{static [_0x4bc902(0x451)];[_0x4bc902(0x145)]=[];['isRunning']=!0x1;constructor(){}static['getInstance'](){const _0x54fa5d=_0x4bc902;return _0xb0af8f[_0x54fa5d(0x451)]||(_0xb0af8f[_0x54fa5d(0x451)]=new _0xb0af8f()),_0xb0af8f['instance'];}get[_0x4bc902(0x1d8)](){const _0x36fb32=_0x4bc902;return this[_0x36fb32(0x145)][_0x36fb32(0x1d8)];}[_0x4bc902(0x22b)](){const _0x4598e0=_0x4bc902;return!this[_0x4598e0(0x787)];}[_0x4bc902(0x984)](_0x2cdd1f){const _0x36f7f0=_0x4bc902;_0x2cdd1f?this[_0x36f7f0(0x145)]=this['jobQueue'][_0x36f7f0(0x6f4)](_0x5d6b38=>_0x5d6b38['ownerId']!==_0x2cdd1f):(this[_0x36f7f0(0x145)]=[],this['isRunning']=!0x1);}[_0x4bc902(0xa19)](_0x554417,_0x24f35c){const _0x32bc92=_0x4bc902;this['jobQueue'][_0x32bc92(0x5b2)]({'callback':_0x24f35c,'ownerId':_0x554417}),this['runJobQueue']();}async[_0x4bc902(0x424)](){const _0xdbb277=_0x4bc902;if(!this['isRunning']){for(this[_0xdbb277(0x787)]=!0x0;this['jobQueue'][_0xdbb277(0x1d8)]>0x0;){const _0xc45245=this[_0xdbb277(0x145)]['shift']();if(_0xc45245)try{console[_0xdbb277(0x4da)](_0xdbb277(0x986)),await _0xc45245[_0xdbb277(0x75c)]();}catch(_0x2690e4){console[_0xdbb277(0x1ca)](_0xdbb277(0x16d),_0x2690e4);}}this[_0xdbb277(0x787)]=!0x1;}}}const _0xb9e3b8=_0xb0af8f[_0x4bc902(0x81f)]();class _0x36eac2 extends _0x1c7b24{['capacityReporter'];[_0x4bc902(0x49f)];constructor(_0x22eb78,_0x4d7897,_0x33c2e2){const _0x94bd25=_0x4bc902;super(_0x22eb78,_0x4d7897),this[_0x94bd25(0x723)]=_0x33c2e2;}[_0x4bc902(0x892)](){const _0x354b9d=_0x4bc902;return _0x3e2379[_0x354b9d(0x41f)][_0x354b9d(0x198)];}[_0x4bc902(0x171)](){this['subscribeToJobs']();}[_0x4bc902(0x6bf)](){const _0x8087ca=_0x4bc902;this[_0x8087ca(0x67d)]?.['publish']({'sourceId':_0x2da599,'messageType':_0x18db64[_0x8087ca(0x889)],'content':{'type':_0x5b4969['CloseJobWorker'],'label':this[_0x8087ca(0x458)]}});}[_0x4bc902(0x27e)](){const _0x443516=_0x4bc902;this[_0x443516(0x49f)]?.(),delete this[_0x443516(0x49f)],this[_0x443516(0x171)]();}['destroy'](){const _0x3273bd=_0x4bc902;_0xb9e3b8[_0x3273bd(0x984)](this['label']),this[_0x3273bd(0x49f)]?.(),delete this[_0x3273bd(0x49f)],super[_0x3273bd(0x42d)]();}[_0x4bc902(0x22b)](){const _0x20aecb=_0x4bc902;return _0xb9e3b8[_0x20aecb(0x22b)]();}[_0x4bc902(0x476)](){return 0x1;}['compileStats'](_0x406c0e,_0x3e52e4,_0x598575){}['accumulateResult'](_0x1ea4eb,_0x5ec4bd){return _0x1ea4eb;}['startTracing'](_0xb28485,_0x53c6d1){const _0x1b6ed3=_0x4bc902;console[_0x1b6ed3(0x4da)](_0x1b6ed3(0x8b9));}[_0x4bc902(0x1eb)](_0x2c53e4,_0x1ef87d){const _0x155ca3=_0x4bc902;console[_0x155ca3(0x4da)](_0x155ca3(0x8b9));}[_0x4bc902(0x12d)](){const _0x4e78ed=_0x4bc902;this[_0x4e78ed(0x49f)]||(this[_0x4e78ed(0x49f)]=this[_0x4e78ed(0x4d9)]((_0x407a12,_0x4ee2c4)=>{const _0x347788=_0x4e78ed;if(_0x28bf01['log'](_0x4f63ff[_0x347788(0x3f9)],'JobWorker:\x20Received\x20job',_0x4ee2c4),!(_0x4ee2c4 instanceof File)){if(this[_0x347788(0x360)](_0x4ee2c4))_0x28bf01[_0x347788(0x5e2)](_0x4f63ff[_0x347788(0x3f9)],'JobWorker:\x20Received\x20job\x20request',_0x4ee2c4),this[_0x347788(0x22b)]()?this[_0x347788(0x25a)](_0x4ee2c4['id'],_0x4ee2c4[_0x347788(0x97c)],_0x407a12):this[_0x347788(0x9ff)](_0x4ee2c4['id'],_0x4ee2c4[_0x347788(0x97c)],_0x407a12);else{if(this[_0x347788(0x738)](_0x4ee2c4)){_0x28bf01['log'](_0x4f63ff['Jobs'],_0x347788(0x561),_0x4ee2c4);const {id:_0x278aa4,parameters:_0x440cb6}=_0x4ee2c4;this[_0x347788(0x558)](_0x278aa4,_0x440cb6),_0xb9e3b8['add'](this[_0x347788(0x458)],()=>this[_0x347788(0x9cf)](_0x4ee2c4['id'],_0x4ee2c4,_0x407a12));}}}}));}[_0x4bc902(0x25a)](_0xcd35c1,_0x48001c,_0x29674b){const _0x1e093b=_0x4bc902,_0x4cd6c4={'id':_0xcd35c1,'jobType':_0x48001c,'jobPhase':_0x39a832[_0x1e093b(0x974)],'available':!0x0,'queueLength':_0xb9e3b8[_0x1e093b(0x1d8)],'bid':this[_0x1e093b(0x476)]()};_0x28bf01[_0x1e093b(0x5e2)](_0x4f63ff[_0x1e093b(0x3f9)],_0x1e093b(0x423),_0x4cd6c4),this[_0x1e093b(0x890)](_0x4cd6c4,[_0x29674b]);}[_0x4bc902(0x9ff)](_0x4063a4,_0x49661c,_0x151921){const _0x564fd8=_0x4bc902,_0x395e29={'id':_0x4063a4,'jobType':_0x49661c,'jobPhase':_0x39a832[_0x564fd8(0x974)],'available':!0x1,'queueLength':_0xb9e3b8['length'],'bid':0x0};_0x28bf01[_0x564fd8(0x5e2)](_0x4f63ff[_0x564fd8(0x3f9)],_0x564fd8(0x8bd),_0x395e29),this[_0x564fd8(0x890)](_0x395e29,[_0x151921]);}async[_0x4bc902(0x9cf)](_0x4ecd84,_0xd78fc9,_0x443059){const _0x5dd9f1=_0x4bc902;_0x28bf01[_0x5dd9f1(0x5e2)](_0x4f63ff[_0x5dd9f1(0x3f9)],_0x5dd9f1(0x22f),_0xd78fc9);const _0x33a68b={'id':_0x4ecd84,'jobType':_0xd78fc9[_0x5dd9f1(0x97c)],'parameters':_0xd78fc9['parameters']};try{switch(_0xd78fc9[_0x5dd9f1(0x97c)]){case _0x3e2379['JobType'][_0x5dd9f1(0x198)]:await this[_0x5dd9f1(0x76d)](_0x4ecd84,_0xd78fc9,_0x33a68b,_0x443059);break;case _0x3e2379[_0x5dd9f1(0x96a)][_0x5dd9f1(0x28e)]:await this[_0x5dd9f1(0x16f)](_0x4ecd84,_0xd78fc9,_0x33a68b,_0x443059);break;default:throw new Error(_0x5dd9f1(0x958));}}catch(_0x324d53){_0x28bf01[_0x5dd9f1(0x1ca)](_0x5dd9f1(0x306),{'nodeId':this[_0x5dd9f1(0xa2c)]['getId'](),'nodeType':this[_0x5dd9f1(0xa2c)][_0x5dd9f1(0x1aa)],'data':{'job':_0x33a68b}},_0x324d53);const _0x260bba=_0x324d53 instanceof Error?_0x324d53[_0x5dd9f1(0x793)]:'An\x20error\x20occurred',_0x5288b1={'id':_0x4ecd84,'jobType':_0xd78fc9['jobType'],'jobPhase':_0x39a832[_0x5dd9f1(0x78b)],'message':_0x260bba};await this[_0x5dd9f1(0x890)](_0x5288b1,[_0x443059]);}}async[_0x4bc902(0x76d)](_0x37893f,_0x2071b4,_0x38988f,_0x5a6508){const _0x11d23d=_0x4bc902,_0x1685fa=Date[_0x11d23d(0xa09)](),_0x3758f2=await this[_0x11d23d(0x928)](_0x37893f,_0x38988f[_0x11d23d(0x6fc)]);this[_0x11d23d(0x9a1)](_0x3758f2,_0x1685fa,Date[_0x11d23d(0xa09)]());const _0x206d41={'id':_0x37893f,'jobType':_0x2071b4[_0x11d23d(0x97c)],'jobPhase':_0x39a832[_0x11d23d(0x196)],'result':_0x3758f2};_0x28bf01['log'](_0x4f63ff['Jobs'],_0x11d23d(0x844),_0x206d41),await this[_0x11d23d(0x890)](_0x206d41,[_0x5a6508]),this[_0x11d23d(0x1eb)](_0x37893f,_0x38988f[_0x11d23d(0x6fc)]);}async[_0x4bc902(0x16f)](_0x11f9bb,_0x4ec8fd,_0x3f68ee,_0xd2f22b){const _0x25c118=_0x4bc902,_0x3f31e8=Date[_0x25c118(0xa09)]();let _0x48f478=0x0,_0x2a70b8={};for await(const _0x3ae1b3 of this['internalProcessJobStream'](_0x3f68ee['id'],_0x3f68ee['parameters'])){const _0x4c1127={'id':_0x11f9bb,'jobType':_0x4ec8fd[_0x25c118(0x97c)],'jobPhase':_0x39a832[_0x25c118(0xa2a)],'result':{..._0x3ae1b3,'index':_0x48f478}};_0x28bf01['log'](_0x4f63ff[_0x25c118(0x3f9)],_0x25c118(0x5ce),_0x4c1127),this[_0x25c118(0x890)](_0x4c1127,[_0xd2f22b]),_0x2a70b8=this[_0x25c118(0x7b5)](_0x2a70b8,_0x3ae1b3),_0x48f478++;}this['compileStats'](_0x2a70b8,_0x3f31e8,Date[_0x25c118(0xa09)]());const _0x250f85={'id':_0x11f9bb,'jobType':_0x4ec8fd[_0x25c118(0x97c)],'jobPhase':_0x39a832[_0x25c118(0x196)],'result':_0x2a70b8};_0x28bf01[_0x25c118(0x5e2)](_0x4f63ff[_0x25c118(0x3f9)],_0x25c118(0x844),_0x250f85),await this['send'](_0x250f85,[_0xd2f22b]),this[_0x25c118(0x1eb)](_0x11f9bb,_0x3f68ee[_0x25c118(0x6fc)]);}[_0x4bc902(0x360)](_0x2444e0){return _0x2444e0['jobPhase']===_0x39a832['Request'];}[_0x4bc902(0x738)](_0x3f1724){const _0x2ae08b=_0x4bc902;return _0x3f1724[_0x2ae08b(0x29b)]===_0x39a832[_0x2ae08b(0x229)];}}function _0x294071(_0x3605f1,_0x1477da){const _0x592ea0=_0x4bc902;return _0x592ea0(0x756)+_0x3605f1+'-'+_0x1477da;}function _0x46ba5a(){const _0x47d2d2=_0x4bc902,_0x32b36f=_0x57183a['layout'](0x1);return _0x32b36f[_0x47d2d2(0x184)](_0x47d2d2(0x8c3))['index']('id')[_0x47d2d2(0x3c7)]('jobId')[_0x47d2d2(0x3c7)](_0x47d2d2(0x520))['index'](_0x47d2d2(0x6d7))[_0x47d2d2(0x3c7)](_0x47d2d2(0x9a4))[_0x47d2d2(0x3c7)](_0x47d2d2(0x77e)),_0x32b36f;}function _0x484001(_0x5062ed){const _0x45ad16=_0x4bc902;try{return JSON[_0x45ad16(0x80e)](_0x5062ed);}catch(_0x25a102){return _0x5062ed instanceof Error?_0x5062ed[_0x45ad16(0x5db)]():JSON['stringify'](_0x45ad16(0x35a));}}class _0x1e9674{static [_0x4bc902(0x451)];[_0x4bc902(0x20d)]=_0x371406[_0x4bc902(0x668)];[_0x4bc902(0x432)]=_0x371406[_0x4bc902(0x5fd)];[_0x4bc902(0x425)]=_0x16dfde[_0x4bc902(0x8ba)];[_0x4bc902(0x959)]={};static [_0x4bc902(0x81f)]=()=>(_0x1e9674[_0x4bc902(0x451)]||(_0x1e9674['instance']=new _0x1e9674()),_0x1e9674[_0x4bc902(0x451)]);['openTrace'](_0x496b4e,_0x1837fa,_0x1120e2=!0x0){const _0x1c5687=_0x4bc902;try{if(this[_0x1c5687(0x959)][_0x1837fa])throw new Error(_0x1c5687(0x59a));const _0x554651={'sequence':0x0};if(this[_0x1c5687(0x959)][_0x1837fa]=_0x554651,!_0x496b4e)return!0x0;const _0x4f7a94=function(_0xbb13c5){const _0x2d80e1=_0x1c5687;return _0xbb13c5[_0x2d80e1(0x514)](_0x2d80e1(0x8c3));}(_0x496b4e);return _0x554651['database']=_0x496b4e,_0x554651[_0x1c5687(0x184)]=_0x4f7a94,!0x0;}catch(_0x49aafe){return console[_0x1c5687(0x1ca)]('GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27'+_0x1120e2,_0x49aafe),!!_0x1120e2&&(this['closeTrace'](_0x1837fa),this[_0x1c5687(0x70e)](_0x496b4e,_0x1837fa,!0x1));}}[_0x4bc902(0x565)](_0x590025){const _0xbb2ac3=_0x4bc902;try{const _0x5aac16=this['openedTraces'][_0x590025['jobId']];if(!_0x5aac16)throw new Error(_0xbb2ac3(0x339));_0x590025[_0xbb2ac3(0x77e)]=_0x5aac16['sequence']++,_0x590025[_0xbb2ac3(0x515)]>=this[_0xbb2ac3(0x20d)]&&console[_0xbb2ac3(0x5e2)](JSON[_0xbb2ac3(0x80e)](_0x590025,null,0x2)),this[_0xbb2ac3(0x471)](_0x590025);}catch(_0x4dd388){console[_0xbb2ac3(0x1ca)](_0xbb2ac3(0x2c6),_0x4dd388);}}[_0x4bc902(0xa06)](_0x3dd7e9){const _0xd9cb33=_0x4bc902;if(!_0x1e9674['instance'])throw new Error(_0xd9cb33(0x273));if(!this[_0xd9cb33(0x959)][_0x3dd7e9])throw new Error(_0xd9cb33(0x4f1));delete this[_0xd9cb33(0x959)][_0x3dd7e9];}[_0x4bc902(0x471)](_0x2af249){const _0x2bb0a8=_0x4bc902;if(_0x2af249[_0x2bb0a8(0x515)]<this['commitLevel']&&_0x2af249[_0x2bb0a8(0x97c)]!==this[_0x2bb0a8(0x425)])return;if(!this[_0x2bb0a8(0x959)][_0x2af249[_0x2bb0a8(0x855)]])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0x283544=this['openedTraces'][_0x2af249[_0x2bb0a8(0x855)]];if(!_0x283544['database'])throw new Error(_0x2bb0a8(0x377));if(!_0x283544['table'])throw new Error(_0x2bb0a8(0x35f));try{const _0x3714b6=function(_0x54a2a6){const _0x58d883=_0x2bb0a8,_0x437b36=[_0x58d883(0x9d5),'timestamp',_0x58d883(0x97c),'type','jobId',_0x58d883(0x515),'blockId',_0x58d883(0x1a8),_0x58d883(0x77e),_0x58d883(0x7bd)],_0x5af00b={..._0x54a2a6};for(const _0x1b7b5b of _0x437b36)delete _0x5af00b[_0x1b7b5b];return{'timestamp':_0x54a2a6[_0x58d883(0x9a4)],'jobType':_0x54a2a6['jobType'],'type':_0x54a2a6[_0x58d883(0x1aa)],'jobId':_0x54a2a6[_0x58d883(0x855)],'agentId':_0x54a2a6[_0x58d883(0x520)]??'','traceLevel':_0x54a2a6['traceLevel'],'blockId':_0x54a2a6[_0x58d883(0x431)]??'','startTime':_0x54a2a6[_0x58d883(0x9d5)],'status':_0x54a2a6[_0x58d883(0x1a8)],'sequence':_0x54a2a6[_0x58d883(0x77e)]??0x0,'errorDetails':_0x54a2a6[_0x58d883(0x7bd)]??'','metadata':_0x484001(_0x5af00b)};}(_0x2af249),_0x4c9622=(0x0,_0x31add3['v4'])();console[_0x2bb0a8(0x5e2)](_0x2bb0a8(0x3a0),_0x3714b6['type']),_0x283544['table'][_0x2bb0a8(0x179)](_0x4c9622,_0x3714b6);}catch(_0x318b29){console[_0x2bb0a8(0x1ca)](_0x2bb0a8(0x371),_0x318b29);}}}const _0x42d66e=_0x1e9674[_0x4bc902(0x81f)]();async function _0x276e97(_0x29d07a,_0x37b699,_0x42e55a,_0x51d0ad,_0x73dbad){const _0x28d4b0=_0x4bc902,_0x501beb=Date[_0x28d4b0(0xa09)](),_0x4afdcd=_0x73dbad[_0x28d4b0(0x2d6)][_0x28d4b0(0x731)](_0x594be5=>_0x594be5['id']===_0x42e55a[_0x28d4b0(0x941)]);if(!_0x4afdcd)throw new Error(_0x28d4b0(0x758));const _0x248c9a=_0x73dbad[_0x28d4b0(0x45c)][_0x28d4b0(0x731)](_0x3206e1=>_0x3206e1['getEngineType']()===_0x4afdcd[_0x28d4b0(0x28f)]);if(!_0x248c9a)throw new Error(_0x28d4b0(0x207));const _0x118b67=[],_0x9ba4d4=(0x0,_0x31add3['v4'])(),_0x19063e=await _0x248c9a['processJob']({'type':_0x28d4b0(0x7f7),'prompt':_0x37b699,'instructions':_0x42e55a[_0x28d4b0(0x88a)],'grammar':_0x42e55a[_0x28d4b0(0x91c)],'temperature':_0x42e55a[_0x28d4b0(0x4b9)],'maxTokens':_0x42e55a['maxTokens'],'threadId':_0x9ba4d4},{'model':_0x4afdcd});if(_0x28d4b0(0x351)!=typeof _0x19063e['output'])throw new Error(_0x28d4b0(0x156));_0x42d66e[_0x28d4b0(0x565)]({'jobType':_0x16dfde[_0x28d4b0(0x774)],'type':_0x5dfb44['Agent'],'jobId':_0x29d07a,'blockId':_0x42e55a['id'],'traceLevel':_0x371406[_0x28d4b0(0x611)],'timestamp':Date[_0x28d4b0(0xa09)](),'startTime':_0x501beb,'status':_0x28d4b0(0x534),'agentId':_0x9ba4d4,'content':_0x37b699,'instructions':_0x42e55a[_0x28d4b0(0x88a)],'result':_0x19063e[_0x28d4b0(0x6dc)]}),_0x118b67['push']({'content':_0x19063e[_0x28d4b0(0x6dc)],'start':0x0,'length':_0x37b699['length']}),await _0x17b5a5(_0x29d07a,_0x118b67,_0x42e55a,_0x51d0ad,_0x73dbad);}async function _0x4b76c9(_0x15ba04,_0x4e3586,_0x131826,_0x5e3a6e,_0x3375c0){const _0x448114=_0x4bc902,_0x42ef2f=Date[_0x448114(0xa09)]();let _0x154946=[];if(_0x4e3586 instanceof Array){for(const _0x3ed6b2 of _0x4e3586)_0x154946=_0x154946[_0x448114(0x8b0)](_0x53b7be(_0x3ed6b2[_0x448114(0xa0d)],_0x131826,_0x3ed6b2[_0x448114(0x670)],_0x3ed6b2['length']));}else _0x154946=_0x53b7be(_0x4e3586,_0x131826);_0x42d66e[_0x448114(0x565)]({'jobType':_0x16dfde[_0x448114(0x774)],'type':_0x5dfb44[_0x448114(0x46d)],'traceLevel':_0x371406['Debug'],'jobId':_0x15ba04,'blockId':_0x131826['id'],'startTime':_0x42ef2f,'timestamp':Date[_0x448114(0xa09)](),'status':_0x448114(0x534),'totalChunks':_0x154946['length'],'chunkSize':_0x131826[_0x448114(0x8a6)]['size']}),await _0x17b5a5(_0x15ba04,_0x154946,_0x131826,_0x5e3a6e,_0x3375c0);}function _0x53b7be(_0x55eed4,_0x559bb3,_0x556ad7,_0x581548){const _0x29d6b8=_0x4bc902,_0x507360=[];let _0x1625f4=0x0;for(let _0x1f0b34=0x0;_0x1f0b34<_0x55eed4[_0x29d6b8(0x1d8)];_0x1f0b34+=_0x559bb3[_0x29d6b8(0x8a6)]['size']){let _0x2e0a5b=_0x1f0b34-_0x559bb3[_0x29d6b8(0x8a6)][_0x29d6b8(0x746)];_0x2e0a5b<0x0&&(_0x2e0a5b=0x0);let _0x2244d4=_0x1f0b34+_0x559bb3[_0x29d6b8(0x8a6)][_0x29d6b8(0x9e5)]+_0x559bb3[_0x29d6b8(0x8a6)]['overlap'];_0x2244d4>_0x55eed4[_0x29d6b8(0x1d8)]&&(_0x2244d4=_0x55eed4[_0x29d6b8(0x1d8)]);const _0x17a60f=_0x55eed4[_0x29d6b8(0x418)](_0x2e0a5b,_0x2244d4);_0x507360[_0x29d6b8(0x5b2)]({'content':_0x17a60f,'start':_0x556ad7??_0x1625f4,'length':_0x581548??_0x17a60f[_0x29d6b8(0x1d8)]}),_0x1625f4+=_0x17a60f[_0x29d6b8(0x1d8)];}return _0x507360;}async function _0x44fcf5(_0x34e54f,_0x204387,_0x15f22a,_0x4f080a,_0x3c0b68){const _0x2dc5ab=_0x4bc902,_0x4b342f=Date['now']();let _0xc2fecb;if(_0x204387['file'][_0x2dc5ab(0x1aa)][_0x2dc5ab(0x648)](_0x2dc5ab(0x6a3))||(_0x4c012b=_0x204387[_0x2dc5ab(0x501)][_0x2dc5ab(0x89d)],_0x38c1b0['includes']('.'+(_0x4c012b[_0x2dc5ab(0x66b)]('.')[_0x2dc5ab(0x846)]()?.[_0x2dc5ab(0x41b)]()||''))))_0xc2fecb=await _0x204387[_0x2dc5ab(0x501)][_0x2dc5ab(0x209)]();else{if(!_0x3c0b68[_0x2dc5ab(0x121)][_0x2dc5ab(0x11e)](_0x204387[_0x2dc5ab(0x501)]))throw new Error(_0x2dc5ab(0x6cf)+_0x204387['file'][_0x2dc5ab(0x1aa)]+_0x2dc5ab(0x195)+_0x204387[_0x2dc5ab(0x501)]['name']);_0xc2fecb=await _0x3c0b68[_0x2dc5ab(0x121)][_0x2dc5ab(0x1b1)](_0x204387[_0x2dc5ab(0x501)]);}var _0x4c012b;_0x42d66e['trace']({'jobType':_0x16dfde['Ingest'],'type':_0x5dfb44[_0x2dc5ab(0x8b8)],'traceLevel':_0x371406[_0x2dc5ab(0x611)],'blockId':_0x15f22a['id'],'jobId':_0x34e54f,'startTime':_0x4b342f,'timestamp':Date[_0x2dc5ab(0xa09)](),'status':_0x2dc5ab(0x534),'documentType':_0x204387['file'][_0x2dc5ab(0x1aa)],'documentName':_0x204387['file'][_0x2dc5ab(0x89d)],'extractionMethod':'OfficeParser'}),await _0x17b5a5(_0x34e54f,_0xc2fecb,_0x15f22a,_0x4f080a,_0x3c0b68);}const _0x38c1b0=[_0x4bc902(0x660),_0x4bc902(0x8fa),_0x4bc902(0x11b),_0x4bc902(0x31f),'.txt','.html','.css',_0x4bc902(0x362),'.md',_0x4bc902(0x976),'.yaml',_0x4bc902(0x30c),_0x4bc902(0x9e6),_0x4bc902(0x469),_0x4bc902(0x27d),_0x4bc902(0x24a),_0x4bc902(0x89c),_0x4bc902(0x21e),_0x4bc902(0x7c4),'.java','.c',_0x4bc902(0x9d4),_0x4bc902(0x6ff),'.r',_0x4bc902(0x283),_0x4bc902(0x258),_0x4bc902(0x786),_0x4bc902(0x366),_0x4bc902(0x8d9),_0x4bc902(0x67a),'.pl','.lua',_0x4bc902(0x9b7),_0x4bc902(0x2e6),_0x4bc902(0x19e),_0x4bc902(0x8bf),_0x4bc902(0x625),_0x4bc902(0x63e),_0x4bc902(0x527),_0x4bc902(0x1ce),_0x4bc902(0x549),'.m','.vbs','.awk',_0x4bc902(0xa0f),_0x4bc902(0x6fb),_0x4bc902(0x4e7),_0x4bc902(0xa1f),_0x4bc902(0x344),_0x4bc902(0x63f),_0x4bc902(0x811),_0x4bc902(0x693),'.jinja2',_0x4bc902(0x9b6),_0x4bc902(0x8ab),_0x4bc902(0x93b),_0x4bc902(0x490),_0x4bc902(0x492),_0x4bc902(0x3b0),_0x4bc902(0x332),'.twig',_0x4bc902(0x2e0),_0x4bc902(0x730)];async function _0x584ba1(_0x4adbff,_0x3dbfaa,_0x3d2176,_0x38c93e,_0x322948){const _0x2d0e3e=_0x4bc902,_0x4c29f0=Date[_0x2d0e3e(0xa09)](),_0x1be5d2=new Set();let _0x22ffc7=0x0;for(const _0x27b4a9 of _0x3dbfaa)_0x22ffc7+=_0x27b4a9['content'][_0x2d0e3e(0x1d8)],await _0x2e4c73(_0x27b4a9['content'],_0x1be5d2,_0x3d2176,_0x322948['nlpLibraryConnector']);_0x42d66e[_0x2d0e3e(0x565)]({'jobType':_0x16dfde[_0x2d0e3e(0x774)],'type':_0x5dfb44[_0x2d0e3e(0x942)],'jobId':_0x4adbff,'blockId':_0x3d2176['id'],'traceLevel':_0x371406[_0x2d0e3e(0x611)],'startTime':_0x4c29f0,'timestamp':Date['now'](),'status':_0x2d0e3e(0x534),'contentLength':_0x22ffc7,'totalChunks':_0x3dbfaa instanceof Array?_0x3dbfaa[_0x2d0e3e(0x1d8)]:0x1,'entitiesExtracted':_0x1be5d2,'totalEntities':_0x1be5d2[_0x2d0e3e(0x9e5)]}),await _0x17b5a5(_0x4adbff,_0x1be5d2,_0x3d2176,_0x38c93e,_0x322948);}async function _0x2e4c73(_0x92f598,_0x4b4a28,_0x51fe53,_0x241666){const _0x4ffafb=_0x4bc902,_0x24bae6=await _0x241666[_0x4ffafb(0x3db)](_0x92f598,{'ner':_0x51fe53[_0x4ffafb(0x8a6)][_0x4ffafb(0x7e5)],'noun':_0x51fe53[_0x4ffafb(0x8a6)]['noun'],'propn':_0x51fe53[_0x4ffafb(0x8a6)][_0x4ffafb(0x788)],'verb':_0x51fe53['attributes'][_0x4ffafb(0x1f8)]});for(const _0x35a623 of _0x24bae6)_0x4b4a28['add'](_0x35a623);}function _0x4b18aa(_0x3da3d3,_0x296504,_0x58c740,_0x253f9c,_0x5b42b2){const _0x5de9d8=_0x4bc902,_0xfe36bf=Date[_0x5de9d8(0xa09)]();if(_0x58c740[_0x5de9d8(0x642)]||(_0x58c740[_0x5de9d8(0x642)]={}),'string'==typeof _0x296504?_0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0xa0d)]=_0x296504:_0x296504 instanceof Set?_0x58c740['accumulated'][_0x5de9d8(0x702)]=_0x296504:_0x296504 instanceof Map?_0x58c740[_0x5de9d8(0x642)]['relations']=_0x296504:_0x296504 instanceof Array?_0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0x3c7)]=_0x296504:_0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0x501)]=_0x296504,_0x58c740[_0x5de9d8(0x646)]=_0x58c740[_0x5de9d8(0x646)]?_0x58c740['timesCalled']+0x1:0x1,_0x1a8689(_0x58c740,_0x253f9c)>_0x58c740[_0x5de9d8(0x646)])return;if(!(_0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0x702)]&&_0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0x501)]&&_0x58c740['accumulated'][_0x5de9d8(0xa0d)]&&_0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0x3c7)]))throw new Error(_0x5de9d8(0x847));let _0x159de3=0x0;const _0x266a88=_0x5b42b2[_0x5de9d8(0x69d)][_0x5de9d8(0x744)](_0x58c740['id']);for(const _0x4404ce of _0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0x702)]){let _0xd5e702=[];_0xd5e702=_0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0x3c7)][_0x5de9d8(0x6f4)](_0x19d060=>_0x19d060[_0x5de9d8(0xa0d)][_0x5de9d8(0x7f5)](_0x4404ce));try{_0x266a88[_0x5de9d8(0x204)](_0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0x501)]['pathName'],_0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0xa0d)],_0xd5e702,_0x4404ce),_0x159de3+=0x1;}catch(_0x36e491){}}if(_0x58c740[_0x5de9d8(0x642)]['relations']){for(const [_0x2521c2,_0x3fcf88]of _0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0x618)])for(const _0x24a55c of _0x3fcf88)try{_0x266a88[_0x5de9d8(0x94d)](_0x2521c2,_0x24a55c);}catch(_0xfa0702){}if(_0x266a88[_0x5de9d8(0x19d)]()){let _0x7d32f3=''+(_0x5b42b2[_0x5de9d8(0x2bf)]??0x1);for(const _0x4ca049 of _0x253f9c)if(_0x4ca049[_0x5de9d8(0x1aa)]===_0x771d08['Agent']){_0x7d32f3=_0x7d32f3+'-'+(_0x4ca049['version']??0x1);break;}_0x266a88[_0x5de9d8(0x2b5)](_0x7d32f3);}_0x42d66e['trace']({'jobType':_0x16dfde[_0x5de9d8(0x774)],'type':_0x5dfb44['GraphDatabase'],'jobId':_0x3da3d3,'blockId':_0x58c740['id'],'status':_0x5de9d8(0x534),'startTime':_0xfe36bf,'timestamp':Date['now'](),'traceLevel':_0x371406[_0x5de9d8(0x611)],'nodesAdded':_0x159de3,'entities':_0x58c740[_0x5de9d8(0x642)]['entities'],'relations':_0x58c740[_0x5de9d8(0x642)][_0x5de9d8(0x618)]});}}async function _0x149dc8(_0x3260c8,_0x132a6b,_0x4ddece,_0x35d963,_0x5ce0de){const _0x14722f=_0x4bc902,_0x2afbc9=_0x5ce0de['models']['find'](_0x442667=>_0x442667['id']===_0x4ddece['id']);if(!_0x2afbc9)throw new Error(_0x14722f(0x758));switch(_0x2afbc9[_0x14722f(0x586)]){case _0x3e2379['GenerativeAIModelOutputType'][_0x14722f(0x851)]:if(_0x14722f(0x351)!=typeof _0x132a6b)throw new Error(_0x14722f(0x3fa));await async function(_0x106b57,_0x59374c,_0x39fe68,_0x499321,_0x2d7d29,_0x1b93fb){const _0x16f8e4=_0x14722f,_0xc93da0=Date[_0x16f8e4(0xa09)]();let _0x1aa469;const _0x58e344=_0x1b93fb[_0x16f8e4(0x45c)]['find'](_0x4a2be4=>_0x4a2be4['getEngineType']()===_0x39fe68[_0x16f8e4(0x28f)]);if(!_0x58e344)throw new Error('No\x20connector\x20found\x20for\x20model');_0x1aa469=await async function(_0x461d50,_0xb14910,_0x139bf0){const _0x5bd7f9=_0x16f8e4,_0x3667c8=await _0xb14910[_0x5bd7f9(0x76d)]({'type':_0x5bd7f9(0x7f7),'prompt':_0x461d50,'threadId':''},{'model':_0x139bf0});if(_0x3667c8[_0x5bd7f9(0x6dc)]instanceof Array)throw new Error(_0x5bd7f9(0x386));return _0x3667c8[_0x5bd7f9(0x6dc)];}(_0x59374c,_0x58e344,_0x39fe68),_0x42d66e['trace']({'jobType':_0x16dfde['Ingest'],'type':_0x5dfb44[_0x16f8e4(0xff)],'jobId':_0x106b57,'blockId':_0x499321['id'],'traceLevel':_0x371406['Debug'],'timestamp':Date['now'](),'startTime':_0xc93da0,'status':_0x16f8e4(0x534),'modelName':_0x39fe68['id'],'inputType':_0x39fe68['inputType'],'outputType':_0x39fe68[_0x16f8e4(0x586)],'content':_0x59374c,'results':_0x1aa469}),await _0x17b5a5(_0x106b57,_0x1aa469,_0x499321,_0x2d7d29,_0x1b93fb);}(_0x3260c8,_0x132a6b,_0x2afbc9,_0x4ddece,_0x35d963,_0x5ce0de);break;case _0x3e2379[_0x14722f(0x8c6)][_0x14722f(0x862)]:if(!(_0x132a6b instanceof Array))throw new Error(_0x14722f(0x112));await async function(_0x2bef9c,_0x36ebde,_0xc6205d,_0x8486dc,_0x1bcedb,_0x34f22c){const _0xf05334=_0x14722f,_0x20074c=Date[_0xf05334(0xa09)](),_0x50a496=[],_0x2c5ade=_0x34f22c[_0xf05334(0x45c)][_0xf05334(0x731)](_0x3dc671=>_0x3dc671[_0xf05334(0x68e)]()===_0xc6205d[_0xf05334(0x28f)]);if(!_0x2c5ade)throw new Error(_0xf05334(0x207));for(const _0x1600e4 of _0x36ebde)_0x50a496[_0xf05334(0x5b2)](await _0x2f7b89(_0x1600e4,_0x2c5ade,_0xc6205d));_0x42d66e[_0xf05334(0x565)]({'jobType':_0x16dfde[_0xf05334(0x774)],'type':_0x5dfb44[_0xf05334(0x709)],'jobId':_0x2bef9c,'blockId':_0x8486dc['id'],'traceLevel':_0x371406[_0xf05334(0x611)],'timestamp':Date['now'](),'startTime':_0x20074c,'status':_0xf05334(0x534),'modelName':_0xc6205d['id'],'inputType':_0xc6205d[_0xf05334(0x390)],'outputType':_0xc6205d[_0xf05334(0x586)],'totalVectors':_0x50a496[_0xf05334(0x1d8)]}),await _0x17b5a5(_0x2bef9c,_0x50a496,_0x8486dc,_0x1bcedb,_0x34f22c);}(_0x3260c8,_0x132a6b,_0x2afbc9,_0x4ddece,_0x35d963,_0x5ce0de);}}async function _0x2f7b89(_0x1ee92b,_0x4d7b99,_0x416fba){const _0x219e3e=_0x4bc902;return(await _0x4d7b99['processJob']({'type':_0x219e3e(0x7f7),'prompt':_0x1ee92b[_0x219e3e(0xa0d)],'threadId':''},{'model':_0x416fba}))['output'];}async function _0x4d6da4(_0x21bb02,_0x3b5a7c,_0x404248,_0x5feccb,_0x38797f){const _0xf2fdf5=_0x4bc902,_0x1dd2ab=Date[_0xf2fdf5(0xa09)]();if(_0x404248[_0xf2fdf5(0x642)]||(_0x404248[_0xf2fdf5(0x642)]={}),_0x3b5a7c instanceof Array?_0x404248[_0xf2fdf5(0x642)][_0xf2fdf5(0x3c7)]=_0x3b5a7c:_0x404248[_0xf2fdf5(0x642)]['entities']=_0x3b5a7c,_0x404248[_0xf2fdf5(0x646)]=_0x404248['timesCalled']?_0x404248[_0xf2fdf5(0x646)]+0x1:0x1,_0x1a8689(_0x404248,_0x5feccb)>_0x404248['timesCalled'])return;if(!_0x404248[_0xf2fdf5(0x642)]['index']||!_0x404248['accumulated'][_0xf2fdf5(0x702)])throw new Error(_0xf2fdf5(0x60a));const _0x74c45d=new Map();for(const _0x294881 of _0x404248[_0xf2fdf5(0x642)][_0xf2fdf5(0x3c7)])_0x44dfe6(_0x294881[_0xf2fdf5(0xa0d)],_0x404248[_0xf2fdf5(0x642)][_0xf2fdf5(0x702)],_0x74c45d);_0x42d66e[_0xf2fdf5(0x565)]({'jobType':_0x16dfde[_0xf2fdf5(0x774)],'type':_0x5dfb44[_0xf2fdf5(0x78e)],'jobId':_0x21bb02,'blockId':_0x404248['id'],'traceLevel':_0x371406[_0xf2fdf5(0x611)],'timestamp':Date[_0xf2fdf5(0xa09)](),'startTime':_0x1dd2ab,'status':_0xf2fdf5(0x534),'entities':_0x404248['accumulated'][_0xf2fdf5(0x702)],'relations':_0x74c45d,'totalRelationsExtracted':_0x74c45d[_0xf2fdf5(0x9e5)]}),await _0x17b5a5(_0x21bb02,_0x74c45d,_0x404248,_0x5feccb,_0x38797f);}function _0x44dfe6(_0x3c19b8,_0x5dfd5c,_0x2be7fa){const _0x3cb6ab=_0x4bc902;for(const _0x6ee447 of _0x5dfd5c)for(const _0x4e47de of _0x5dfd5c){if(_0x6ee447===_0x4e47de)continue;const _0x373064=_0x3c19b8['indexOf'](_0x6ee447),_0x579380=_0x3c19b8[_0x3cb6ab(0x530)](_0x4e47de);-0x1!==_0x373064&&-0x1!==_0x579380&&(_0x2be7fa[_0x3cb6ab(0x5f9)](_0x6ee447)||_0x2be7fa['set'](_0x6ee447,new Set()),_0x2be7fa[_0x3cb6ab(0x985)](_0x6ee447)['add'](_0x4e47de));}return _0x2be7fa;}async function _0x2d77a9(_0x384abc,_0x11edaf,_0x3b8014,_0x4c487e,_0x23037f){const _0x436293=_0x4bc902,_0x17f762=Date[_0x436293(0xa09)]();let _0x591a23=[];if(_0x11edaf instanceof Array)for(const _0xa5e0be of _0x11edaf){const _0x3bd2a1=await _0x23037f['nlpLibraryConnector']['getSentences'](_0xa5e0be[_0x436293(0xa0d)]);_0x591a23=_0x591a23[_0x436293(0x8b0)](_0x3bd2a1[_0x436293(0x8a3)](_0x2efd2c=>({'content':_0x2efd2c,'start':_0xa5e0be[_0x436293(0x670)],'length':_0xa5e0be['length']})));}else _0x591a23=(await _0x23037f[_0x436293(0x820)][_0x436293(0xa46)](_0x11edaf))[_0x436293(0x8a3)](_0x4cedfd=>({'content':_0x4cedfd,'start':_0x11edaf[_0x436293(0x530)](_0x4cedfd),'length':_0x4cedfd['length']}));_0x42d66e[_0x436293(0x565)]({'jobType':_0x16dfde['Ingest'],'type':_0x5dfb44[_0x436293(0x8d7)],'jobId':_0x384abc,'blockId':_0x3b8014['id'],'traceLevel':_0x371406['Debug'],'startTime':_0x17f762,'timestamp':Date['now'](),'status':_0x436293(0x534),'totalSentences':_0x591a23[_0x436293(0x1d8)],'averageSentenceLength':_0x591a23[_0x436293(0x214)]((_0x2f4d7a,_0x4c87dc)=>_0x2f4d7a+_0x4c87dc[_0x436293(0x1d8)],0x0)/_0x591a23[_0x436293(0x1d8)]}),await _0x17b5a5(_0x384abc,_0x591a23,_0x3b8014,_0x4c487e,_0x23037f);}function _0x53155a(_0x52aa73,_0x4c333b,_0x113ef1,_0x58e747,_0x5bad76){const _0x5ceab4=_0x4bc902,_0x237a80=Date[_0x5ceab4(0xa09)]();var _0x15fb0b;if(_0x113ef1[_0x5ceab4(0x642)]||(_0x113ef1['accumulated']={}),_0x4c333b instanceof Array?(_0x15fb0b=_0x4c333b)[0x0]instanceof Array&&_0x5ceab4(0x127)==typeof _0x15fb0b[0x0]?.[0x0]?_0x113ef1['accumulated'][_0x5ceab4(0x8dc)]=_0x4c333b:_0x113ef1[_0x5ceab4(0x642)]['index']=_0x4c333b:_0x5ceab4(0x351)==typeof _0x4c333b?_0x113ef1[_0x5ceab4(0x642)][_0x5ceab4(0xa0d)]=_0x4c333b:_0x113ef1[_0x5ceab4(0x642)][_0x5ceab4(0x501)]=_0x4c333b,_0x113ef1[_0x5ceab4(0x646)]=_0x113ef1[_0x5ceab4(0x646)]?_0x113ef1[_0x5ceab4(0x646)]+0x1:0x1,_0x1a8689(_0x113ef1,_0x58e747)>_0x113ef1[_0x5ceab4(0x646)])return;if(!(_0x113ef1[_0x5ceab4(0x642)][_0x5ceab4(0xa0d)]&&_0x113ef1[_0x5ceab4(0x642)][_0x5ceab4(0x3c7)]&&_0x113ef1[_0x5ceab4(0x642)][_0x5ceab4(0x8dc)]&&_0x113ef1[_0x5ceab4(0x642)][_0x5ceab4(0x501)]))throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x383454=_0x5bad76[_0x5ceab4(0x69d)][_0x5ceab4(0x45f)](_0x113ef1['id']);if(_0x383454[_0x5ceab4(0x4d7)](_0x113ef1[_0x5ceab4(0x642)]['file'][_0x5ceab4(0x973)],_0x113ef1['accumulated'][_0x5ceab4(0xa0d)],_0x113ef1['accumulated'][_0x5ceab4(0x3c7)],_0x113ef1[_0x5ceab4(0x642)][_0x5ceab4(0x8dc)]),_0x383454['getIsLoaded']()){let _0x275bae=''+(_0x5bad76[_0x5ceab4(0x2bf)]??0x1);for(const _0xe66cce of _0x58e747)_0xe66cce[_0x5ceab4(0x1aa)]===_0x771d08[_0x5ceab4(0x251)]&&(_0x275bae=_0x275bae+'-'+(_0xe66cce['version']??0x1));_0x383454['saveToDisk'](_0x275bae);}_0x42d66e[_0x5ceab4(0x565)]({'jobType':_0x16dfde[_0x5ceab4(0x774)],'type':_0x5dfb44['VectorDatabase'],'jobId':_0x52aa73,'blockId':_0x113ef1['id'],'traceLevel':_0x371406['Debug'],'startTime':_0x237a80,'timestamp':Date[_0x5ceab4(0xa09)](),'status':_0x5ceab4(0x534),'databaseName':_0x383454[_0x5ceab4(0x9cb)](),'vectorsAdded':_0x113ef1['accumulated'][_0x5ceab4(0x8dc)]['length'],'filePathName':_0x113ef1[_0x5ceab4(0x642)][_0x5ceab4(0x501)][_0x5ceab4(0x973)]});}async function _0x2c2474(_0x4b912e,_0x56b2ca,_0x1f9b6c,_0x47a718,_0x2132f9){const _0x214ee1=_0x4bc902,_0xb574ec=Date[_0x214ee1(0xa09)]();let _0x1758f6=[];if(_0x56b2ca instanceof Array){for(const _0x4fcae1 of _0x56b2ca)_0x1758f6=_0x1758f6[_0x214ee1(0x8b0)](_0x1920d4(_0x4fcae1['content'],_0x1f9b6c,_0x4fcae1[_0x214ee1(0x670)],_0x4fcae1[_0x214ee1(0x1d8)]));}else _0x1758f6=_0x1920d4(_0x56b2ca,_0x1f9b6c);_0x42d66e[_0x214ee1(0x565)]({'jobType':_0x16dfde[_0x214ee1(0x774)],'type':_0x5dfb44['WordSplitter'],'jobId':_0x4b912e,'traceLevel':_0x371406[_0x214ee1(0x611)],'blockId':_0x1f9b6c['id'],'startTime':_0xb574ec,'timestamp':Date['now'](),'status':_0x214ee1(0x534),'totalChunks':_0x1758f6[_0x214ee1(0x1d8)],'averageChunkLength':_0x1758f6[_0x214ee1(0x214)]((_0x212b5f,_0x151fc7)=>_0x212b5f+_0x151fc7[_0x214ee1(0x1d8)],0x0)/_0x1758f6[_0x214ee1(0x1d8)]}),await _0x17b5a5(_0x4b912e,_0x1758f6,_0x1f9b6c,_0x47a718,_0x2132f9);}function _0x1920d4(_0x3ea19c,_0x1801a1,_0x8789dd,_0xa34998){const _0x2052e4=_0x4bc902,_0x329a86=[],_0x17d1f2=_0x3ea19c[_0x2052e4(0x66b)]('\x20');let _0xcb7367='',_0x40b47f=-0x1,_0x420256=0x0,_0x1d8947=0x0;for(const _0x4b930d of _0x17d1f2){if(_0xcb7367[_0x2052e4(0x1d8)]+_0x4b930d[_0x2052e4(0x1d8)]>_0x1801a1['attributes'][_0x2052e4(0x9e5)]){const _0x3083ad=_0xcb7367[_0x2052e4(0x1d8)];let _0x555d17=_0x40b47f,_0x23dada='';for(;_0x555d17>=0x0&&_0x23dada[_0x2052e4(0x1d8)]+_0x17d1f2[_0x555d17][_0x2052e4(0x1d8)]<_0x1801a1['attributes'][_0x2052e4(0x746)];)_0x23dada=_0x17d1f2[_0x555d17]+'\x20'+_0x23dada,_0x555d17--;let _0x13045c=_0x420256,_0x5dc840='';for(;_0x13045c<_0x17d1f2[_0x2052e4(0x1d8)]&&_0x5dc840[_0x2052e4(0x1d8)]+_0x17d1f2[_0x13045c][_0x2052e4(0x1d8)]<_0x1801a1['attributes']['overlap'];)_0x5dc840+=_0x17d1f2[_0x13045c]+'\x20',_0x13045c++;_0xcb7367=_0x23dada+_0xcb7367+_0x5dc840,_0x329a86[_0x2052e4(0x5b2)]({'content':_0xcb7367[_0x2052e4(0xa24)](),'start':_0x8789dd??_0x1d8947,'length':_0xa34998??_0xcb7367[_0x2052e4(0x1d8)]}),_0xcb7367='',_0x40b47f=_0x420256-0x1,_0x1d8947+=_0x3083ad;}_0xcb7367+=_0x4b930d+'\x20',_0x420256++;}if(_0xcb7367[_0x2052e4(0x1d8)]>0x0){const _0x4f84e0=_0xcb7367[_0x2052e4(0x1d8)];let _0x5975b2=_0x40b47f,_0x5be37a='';for(;_0x5975b2>=0x0&&_0x5be37a[_0x2052e4(0x1d8)]+_0x17d1f2[_0x5975b2][_0x2052e4(0x1d8)]<_0x1801a1[_0x2052e4(0x8a6)][_0x2052e4(0x746)];)_0x5be37a=_0x17d1f2[_0x5975b2]+'\x20'+_0x5be37a,_0x5975b2--;_0xcb7367=_0x5be37a+_0xcb7367,_0x329a86[_0x2052e4(0x5b2)]({'content':_0xcb7367[_0x2052e4(0xa24)](),'start':_0x8789dd??_0x1d8947,'length':_0xa34998??_0x4f84e0});}return _0x329a86;}async function _0x17b5a5(_0x4112d4,_0x2e76de,_0x3ec403,_0x2baa1e,_0x129e93){const _0x3f2cae=_0x4bc902;for(const _0x56694c of _0x3ec403[_0x3f2cae(0x197)]||[]){const _0x4a03a0=_0x2baa1e[_0x3f2cae(0x731)](_0x400277=>_0x400277[_0x3f2cae(0xa2e)]===_0x56694c[_0x3f2cae(0xa2e)]);if(_0x4a03a0)switch(_0x4a03a0[_0x3f2cae(0x1aa)]){case _0x771d08[_0x3f2cae(0x251)]:await _0x276e97(_0x4112d4,_0x2e76de,_0x4a03a0,_0x2baa1e,_0x129e93);break;case _0x771d08['ChunkSplitter']:await _0x4b76c9(_0x4112d4,_0x2e76de,_0x4a03a0,_0x2baa1e,_0x129e93);break;case _0x771d08['DocumentParser']:await _0x44fcf5(_0x4112d4,_0x2e76de,_0x4a03a0,_0x2baa1e,_0x129e93);break;case _0x771d08[_0x3f2cae(0x942)]:await _0x584ba1(_0x4112d4,_0x2e76de,_0x4a03a0,_0x2baa1e,_0x129e93);break;case _0x771d08[_0x3f2cae(0x19b)]:_0x4b18aa(_0x4112d4,_0x2e76de,_0x4a03a0,_0x2baa1e,_0x129e93);break;case _0x771d08[_0x3f2cae(0x61a)]:await _0x149dc8(_0x4112d4,_0x2e76de,_0x4a03a0,_0x2baa1e,_0x129e93);break;case _0x771d08[_0x3f2cae(0x78e)]:await _0x4d6da4(_0x4112d4,_0x2e76de,_0x4a03a0,_0x2baa1e,_0x129e93);break;case _0x771d08['SentenceSplitter']:await _0x2d77a9(_0x4112d4,_0x2e76de,_0x4a03a0,_0x2baa1e,_0x129e93);break;case _0x771d08[_0x3f2cae(0x2bc)]:_0x53155a(_0x4112d4,_0x2e76de,_0x4a03a0,_0x2baa1e,_0x129e93);break;case _0x771d08[_0x3f2cae(0x4a5)]:await _0x2c2474(_0x4112d4,_0x2e76de,_0x4a03a0,_0x2baa1e,_0x129e93);}}}function _0x1a8689(_0x1cece9,_0x45974d){const _0x42d099=_0x4bc902;return _0x45974d[_0x42d099(0x6f4)](_0x5112e2=>_0x5112e2[_0x42d099(0x197)]?.[_0x42d099(0x3eb)](_0x2ebf1a=>_0x2ebf1a[_0x42d099(0xa2e)]===_0x1cece9[_0x42d099(0xa2e)]))[_0x42d099(0x1d8)];}async function _0x3c3f2a(_0x16b757,_0x3ce291,_0x180b41,_0x11f22d,_0x2bdd4d){const _0x4e5941=_0x4bc902;try{let _0x78ebaa;switch(_0x180b41[_0x4e5941(0x1aa)]){case _0x771d08[_0x4e5941(0x124)]:const _0x26a4a5=_0x2bdd4d['contentMediator'][_0x4e5941(0x79b)](_0x180b41['id']);_0x78ebaa=await _0x26a4a5[_0x4e5941(0x985)](_0x3ce291);break;case _0x771d08[_0x4e5941(0x9cc)]:const _0x2b5fc7=_0x2bdd4d[_0x4e5941(0x69d)][_0x4e5941(0x65d)](_0x180b41['id']);_0x78ebaa=await _0x2b5fc7['get'](_0x3ce291);}if(!_0x78ebaa)throw new Error(_0x4e5941(0x92d));await _0x17b5a5(_0x16b757,{'file':_0x78ebaa,'pathName':_0x3ce291},_0x180b41,structuredClone(_0x11f22d),_0x2bdd4d);}catch(_0x208ae9){console[_0x4e5941(0x1ca)](_0x4e5941(0x715),_0x208ae9);}}const _0x243184=require('rxjs/operators');class _0x365ecd{[_0x4bc902(0x2fe)];constructor(){const _0x22b0c0=_0x4bc902;this[_0x22b0c0(0x2fe)]=new _0x2b73f5[(_0x22b0c0(0x3c5))]();}[_0x4bc902(0x419)](_0x3c0c01){const _0xa8c4a0=_0x4bc902;this[_0xa8c4a0(0x2fe)][_0xa8c4a0(0x49a)](_0x3c0c01);}async['once'](){const _0x512702=_0x4bc902;return(0x0,_0x2b73f5[_0x512702(0x8d2)])(this[_0x512702(0x2fe)][_0x512702(0x327)]((0x0,_0x243184[_0x512702(0x4eb)])(0x1)));}}async function _0x3e3667(_0x4081b6,_0x583529,_0x53ee1d,_0x22bd9c,_0x4b8aed,_0x66eb75,_0x3184f7){const _0x329d34=_0x4bc902,_0x1434ec=Date[_0x329d34(0xa09)](),_0x3ab456=new Set();if(_0x53ee1d instanceof Array){for(const _0xf0e6ae of _0x53ee1d)await _0x40c8fd(_0xf0e6ae[_0x329d34(0xa0d)],_0x4b8aed,_0x3ab456,_0x3184f7[_0x329d34(0x820)]);}else await _0x40c8fd(_0x53ee1d,_0x4b8aed,_0x3ab456,_0x3184f7['nlpLibraryConnector']);_0x42d66e[_0x329d34(0x565)]({'jobType':_0x16dfde[_0x329d34(0x8ba)],'type':_0x471faa[_0x329d34(0x942)],'jobId':_0x4081b6,'threadId':_0x583529,'blockId':_0x4b8aed['id'],'traceLevel':_0x371406[_0x329d34(0x611)],'startTime':_0x1434ec,'timestamp':Date[_0x329d34(0xa09)](),'status':_0x329d34(0x534),'content':_0x53ee1d,'entitiesExtracted':Array['from'](_0x3ab456),'totalEntities':_0x3ab456[_0x329d34(0x9e5)]}),await _0x589663(_0x4081b6,_0x583529,_0x3ab456,_0x22bd9c,_0x4b8aed,_0x66eb75,_0x3184f7);}async function _0x40c8fd(_0x242ffa,_0x2cffdd,_0x146c62,_0x52679b){const _0x84e4b6=_0x4bc902,_0x4204e6=await _0x52679b[_0x84e4b6(0x3db)](_0x242ffa,{'ner':_0x2cffdd[_0x84e4b6(0x8a6)][_0x84e4b6(0x7e5)],'noun':_0x2cffdd['attributes']['noun'],'propn':_0x2cffdd['attributes'][_0x84e4b6(0x788)],'verb':_0x2cffdd[_0x84e4b6(0x8a6)]['verb']});for(const _0x359197 of _0x4204e6)_0x146c62[_0x84e4b6(0xa19)](_0x359197);}async function _0x4a4198(_0x494373,_0x21f7af,_0x85fc2e,_0x318199,_0x2df9ac,_0x2a0be4,_0x230692){const _0xfdfcaf=_0x4bc902,_0x8b84c1=Date['now']();if(_0x2df9ac['accumulated']||(_0x2df9ac[_0xfdfcaf(0x642)]={}),_0x85fc2e instanceof Array?(_0x2df9ac[_0xfdfcaf(0x642)][_0xfdfcaf(0x993)]||(_0x2df9ac[_0xfdfcaf(0x642)][_0xfdfcaf(0x993)]=[]),_0x2df9ac[_0xfdfcaf(0x642)][_0xfdfcaf(0x993)]['push'](..._0x85fc2e)):_0x85fc2e instanceof Set?_0x2df9ac[_0xfdfcaf(0x642)][_0xfdfcaf(0x702)]=_0x85fc2e:_0x2df9ac[_0xfdfcaf(0x642)][_0xfdfcaf(0x7f7)]=_0x85fc2e,_0x2df9ac[_0xfdfcaf(0x646)]=_0x2df9ac[_0xfdfcaf(0x646)]?_0x2df9ac[_0xfdfcaf(0x646)]+0x1:0x1,_0x14ecc6(_0x2df9ac,_0x2a0be4)>_0x2df9ac[_0xfdfcaf(0x646)])return;if(!_0x2df9ac[_0xfdfcaf(0x642)][_0xfdfcaf(0x7f7)]&&!_0x2df9ac[_0xfdfcaf(0x642)]['results']||!_0x2df9ac[_0xfdfcaf(0x642)][_0xfdfcaf(0x702)])throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x32ede4=_0x230692[_0xfdfcaf(0x69d)]['getGraphDatabase'](_0x2df9ac['id'])[_0xfdfcaf(0x5c3)](Array[_0xfdfcaf(0x100)](_0x2df9ac[_0xfdfcaf(0x642)][_0xfdfcaf(0x702)]),_0x2df9ac[_0xfdfcaf(0x8a6)][_0xfdfcaf(0x506)],_0x2df9ac[_0xfdfcaf(0x8a6)]['contentSize']);let _0x321ab9=[];for(const _0x1399b0 in _0x32ede4){const _0x142e6a=_0x32ede4[_0x1399b0];for(const _0x5af824 of _0x142e6a){let _0x396646=0x0;if(_0x2df9ac[_0xfdfcaf(0x642)][_0xfdfcaf(0x7f7)]&&(_0x396646=await _0x230692[_0xfdfcaf(0x820)][_0xfdfcaf(0x74f)](_0x2df9ac['accumulated'][_0xfdfcaf(0x7f7)],_0x5af824)),_0x2df9ac[_0xfdfcaf(0x642)]['results']){for(const _0x7c7a1e of _0x2df9ac['accumulated']['results'])_0x396646=Math['max'](_0x396646,await _0x230692['nlpLibraryConnector'][_0xfdfcaf(0x74f)](_0x7c7a1e['content'],_0x5af824));}_0x396646<_0x2df9ac['attributes']['minRelevance']||_0x321ab9[_0xfdfcaf(0x5b2)]({'content':_0x5af824,'relevance':_0x396646,'pathName':_0x1399b0});}}_0x321ab9=_0x321ab9['sort']((_0x59ae63,_0x58f22b)=>_0x58f22b[_0xfdfcaf(0x5ee)]-_0x59ae63[_0xfdfcaf(0x5ee)])['slice'](0x0,_0x2df9ac['attributes'][_0xfdfcaf(0x568)]),_0x42d66e[_0xfdfcaf(0x565)]({'jobType':_0x16dfde[_0xfdfcaf(0x8ba)],'type':_0x471faa[_0xfdfcaf(0x914)],'jobId':_0x494373,'threadId':_0x21f7af,'blockId':_0x2df9ac['id'],'traceLevel':_0x371406['Debug'],'timestamp':Date[_0xfdfcaf(0xa09)](),'startTime':_0x8b84c1,'status':_0xfdfcaf(0x534),'content':_0x85fc2e,'topResults':_0x321ab9,'numResults':_0x321ab9[_0xfdfcaf(0x1d8)]}),await _0x589663(_0x494373,_0x21f7af,_0x321ab9,_0x318199,_0x2df9ac,_0x2a0be4,_0x230692);}async function _0x57709e(_0x471fbe,_0x4a5bf1,_0x4f93d4,_0x32ec3f,_0x3790fc,_0x2e0a58,_0x5ef7f2){const _0x54600d=_0x4bc902,_0x2ad2f6=_0x5ef7f2[_0x54600d(0x2d6)][_0x54600d(0x731)](_0x4981a0=>_0x4981a0['id']===_0x3790fc['id']);if(!_0x2ad2f6)throw new Error(_0x54600d(0x758));let _0x452b53='';switch(_0x452b53=_0x4f93d4 instanceof Array?_0x4f93d4[_0x54600d(0x8a3)](_0x72b8b6=>_0x72b8b6[_0x54600d(0xa0d)])[_0x54600d(0x696)](',\x20'):_0x4f93d4,_0x2ad2f6[_0x54600d(0x586)]){case _0x3e2379['GenerativeAIModelOutputType'][_0x54600d(0x851)]:await async function(_0x1ddf04,_0x30d20a,_0x10533c,_0x3f618e,_0xc0e67d,_0x3e4fc0,_0x5e54b7,_0x5727a5){const _0x5d05fc=_0x54600d,_0x1b3900=Date[_0x5d05fc(0xa09)](),_0x515f88=_0x5727a5['generativeAIWorkerConnectors']['find'](_0x20095b=>_0x20095b[_0x5d05fc(0x68e)]()===_0xc0e67d[_0x5d05fc(0x28f)]);if(!_0x515f88)throw new Error(_0x5d05fc(0x207));const _0xd8092e=await async function(_0x414645,_0x38abf7,_0x25d25c,_0x9104f2,_0x2f5c50){const _0x107b58=_0x5d05fc,_0x6ce21a={'type':'prompt','prompt':_0x38abf7,'threadId':_0x414645};_0x25d25c[_0x107b58(0x218)][_0x107b58(0x1d8)]>0x0&&(_0x6ce21a[_0x107b58(0x88a)]=_0x107b58(0x485)+_0x25d25c[_0x107b58(0x218)][_0x107b58(0x8a3)](_0x65c543=>_0x107b58(0x8a2)+_0x65c543['pathName']+':\x20'+_0x65c543[_0x107b58(0xa0d)])[_0x107b58(0x696)]('\x0a'));const _0x51fcc6=await _0x9104f2[_0x107b58(0x76d)](_0x6ce21a,{'model':_0x2f5c50});if(_0x51fcc6[_0x107b58(0x6dc)]instanceof Array)throw new Error(_0x107b58(0xa0e));return _0x25d25c[_0x107b58(0x219)]+=_0x51fcc6[_0x107b58(0x219)]??0x0,_0x25d25c[_0x107b58(0x8a4)]+=_0x51fcc6[_0x107b58(0x8a4)]??0x0,_0x51fcc6[_0x107b58(0x6dc)];}(_0x30d20a,_0x10533c,_0x3f618e,_0x515f88,_0xc0e67d);_0x42d66e[_0x5d05fc(0x565)]({'jobType':_0x16dfde[_0x5d05fc(0x8ba)],'type':_0x471faa[_0x5d05fc(0xff)],'jobId':_0x1ddf04,'threadId':_0x30d20a,'blockId':_0x3e4fc0['id'],'traceLevel':_0x371406['Debug'],'startTime':_0x1b3900,'timestamp':Date[_0x5d05fc(0xa09)](),'status':_0x5d05fc(0x534),'modelName':_0xc0e67d['id'],'content':_0x10533c,'newPrompt':_0xd8092e,'inputType':_0xc0e67d['inputType'],'outputType':_0xc0e67d['outputType']}),await _0x589663(_0x1ddf04,_0x30d20a,_0xd8092e,_0x3f618e,_0x3e4fc0,_0x5e54b7,_0x5727a5);}(_0x471fbe,_0x4a5bf1,_0x452b53,_0x32ec3f,_0x2ad2f6,_0x3790fc,_0x2e0a58,_0x5ef7f2);break;case _0x3e2379['GenerativeAIModelOutputType'][_0x54600d(0x862)]:await async function(_0x18211c,_0x30d1cf,_0x3e2eb8,_0x4537f1,_0x336957,_0x224841,_0x31fd09,_0x417076){const _0x47d9b6=_0x54600d,_0x92cd87=Date[_0x47d9b6(0xa09)](),_0x3ff9ae=_0x417076['generativeAIWorkerConnectors'][_0x47d9b6(0x731)](_0x336505=>_0x336505[_0x47d9b6(0x68e)]()===_0x336957[_0x47d9b6(0x28f)]);if(!_0x3ff9ae)throw new Error(_0x47d9b6(0x207));const _0x5e9bf3=await async function(_0x2ef525,_0x435429,_0x43030c,_0x3eb0f1){const _0x22b4be=_0x47d9b6;return(await _0x43030c[_0x22b4be(0x76d)]({'type':_0x22b4be(0x7f7),'prompt':_0x435429,'threadId':_0x2ef525},{'model':_0x3eb0f1}))[_0x22b4be(0x6dc)];}(_0x30d1cf,_0x3e2eb8,_0x3ff9ae,_0x336957);_0x42d66e[_0x47d9b6(0x565)]({'jobType':_0x16dfde[_0x47d9b6(0x8ba)],'type':_0x471faa[_0x47d9b6(0x709)],'jobId':_0x18211c,'threadId':_0x30d1cf,'blockId':_0x224841['id'],'traceLevel':_0x371406['Debug'],'startTime':_0x92cd87,'timestamp':Date[_0x47d9b6(0xa09)](),'status':'success','modelName':_0x336957['id'],'content':_0x3e2eb8,'totalVectors':_0x5e9bf3['length']}),await _0x589663(_0x18211c,_0x30d1cf,_0x5e9bf3,_0x4537f1,_0x224841,_0x31fd09,_0x417076);}(_0x471fbe,_0x4a5bf1,_0x452b53,_0x32ec3f,_0x2ad2f6,_0x3790fc,_0x2e0a58,_0x5ef7f2);}}async function _0x4660bb(_0x140ef5,_0x1e6c4c,_0x2157cb,_0x422688,_0x26135a,_0x507918,_0x2862db){const _0x1d08f9=_0x4bc902,_0x3f5384=Date[_0x1d08f9(0xa09)](),_0x4aa623=_0x2862db[_0x1d08f9(0x69d)]['getVectorDatabase'](_0x26135a['id'])[_0x1d08f9(0x75d)](_0x2157cb,_0x26135a[_0x1d08f9(0x8a6)][_0x1d08f9(0x568)],_0x26135a[_0x1d08f9(0x8a6)]['minRelevance'],_0x26135a[_0x1d08f9(0x8a6)][_0x1d08f9(0x687)]);_0x42d66e['trace']({'jobType':_0x16dfde[_0x1d08f9(0x8ba)],'type':_0x471faa['VectorSearch'],'jobId':_0x140ef5,'threadId':_0x1e6c4c,'blockId':_0x26135a['id'],'traceLevel':_0x371406[_0x1d08f9(0x611)],'startTime':_0x3f5384,'timestamp':Date[_0x1d08f9(0xa09)](),'status':_0x1d08f9(0x534),'topResults':_0x4aa623,'numResults':_0x4aa623[_0x1d08f9(0x1d8)]}),await _0x589663(_0x140ef5,_0x1e6c4c,_0x4aa623,_0x422688,_0x26135a,_0x507918,_0x2862db);}async function _0x4ec892(_0x3c1dce,_0x2528ba,_0x3f6bda,_0x1d4c8b,_0x22902a,_0x13bef4,_0x55bea1){const _0x1406d7=_0x4bc902,_0x41eb7e=Date['now']();if(_0x22902a['accumulated']||(_0x22902a[_0x1406d7(0x642)]={}),_0x3f6bda instanceof Array?(_0x22902a[_0x1406d7(0x642)][_0x1406d7(0x993)]||(_0x22902a['accumulated'][_0x1406d7(0x993)]=[]),_0x22902a['accumulated'][_0x1406d7(0x993)][_0x1406d7(0x5b2)](..._0x3f6bda)):_0x22902a['accumulated'][_0x1406d7(0x7f7)]=_0x3f6bda,_0x22902a[_0x1406d7(0x646)]=_0x22902a[_0x1406d7(0x646)]?_0x22902a[_0x1406d7(0x646)]+0x1:0x1,_0x14ecc6(_0x22902a,_0x13bef4)>_0x22902a['timesCalled'])return;if(!_0x22902a['accumulated'][_0x1406d7(0x7f7)]||!_0x22902a['accumulated'][_0x1406d7(0x993)])throw new Error(_0x1406d7(0x274));for(const _0xa7e031 of _0x22902a[_0x1406d7(0x642)][_0x1406d7(0x993)])_0xa7e031[_0x1406d7(0x5ee)]=await _0x55bea1[_0x1406d7(0x820)][_0x1406d7(0x74f)](_0x22902a['accumulated']['prompt'],_0xa7e031[_0x1406d7(0xa0d)]);const _0x5245dd=_0x22902a[_0x1406d7(0x642)][_0x1406d7(0x993)][_0x1406d7(0x6f4)](_0x3e4249=>_0x3e4249[_0x1406d7(0x5ee)]>_0x22902a['attributes'][_0x1406d7(0x6b0)])[_0x1406d7(0x728)]((_0x1dacec,_0x3cfa24)=>_0x3cfa24['relevance']-_0x1dacec[_0x1406d7(0x5ee)])[_0x1406d7(0x246)](0x0,_0x22902a[_0x1406d7(0x8a6)][_0x1406d7(0x568)]);_0x42d66e[_0x1406d7(0x565)]({'jobType':_0x16dfde[_0x1406d7(0x8ba)],'type':_0x471faa[_0x1406d7(0x705)],'jobId':_0x3c1dce,'threadId':_0x2528ba,'blockId':_0x22902a['id'],'traceLevel':_0x371406['Debug'],'startTime':_0x41eb7e,'timestamp':Date['now'](),'status':'success','inputResults':_0x22902a['accumulated'][_0x1406d7(0x993)],'rerankedResults':_0x5245dd}),await _0x589663(_0x3c1dce,_0x2528ba,_0x5245dd,_0x1d4c8b,_0x22902a,_0x13bef4,_0x55bea1);}async function _0x589663(_0x52909a,_0x2360aa,_0x137d0b,_0x38fe7f,_0x34a4e2,_0x156eb1,_0x263a3a){const _0x50bc8a=_0x4bc902;for(const _0xb47084 of _0x34a4e2[_0x50bc8a(0x197)]||[]){const _0xdc8ec5=_0x156eb1[_0x50bc8a(0x731)](_0x269062=>_0x269062[_0x50bc8a(0xa2e)]===_0xb47084[_0x50bc8a(0xa2e)]);if(_0xdc8ec5)switch(_0xdc8ec5[_0x50bc8a(0x1aa)]){case _0x771d08[_0x50bc8a(0x675)]:_0x38fe7f[_0x50bc8a(0x218)]['push'](..._0x137d0b);break;case _0x771d08[_0x50bc8a(0x942)]:await _0x3e3667(_0x52909a,_0x2360aa,_0x137d0b,_0x38fe7f,_0xdc8ec5,_0x156eb1,_0x263a3a);break;case _0x771d08[_0x50bc8a(0x19b)]:await _0x4a4198(_0x52909a,_0x2360aa,_0x137d0b,_0x38fe7f,_0xdc8ec5,_0x156eb1,_0x263a3a);break;case _0x771d08[_0x50bc8a(0x61a)]:await _0x57709e(_0x52909a,_0x2360aa,_0x137d0b,_0x38fe7f,_0xdc8ec5,_0x156eb1,_0x263a3a);break;case _0x771d08[_0x50bc8a(0x705)]:await _0x4ec892(_0x52909a,_0x2360aa,_0x137d0b,_0x38fe7f,_0xdc8ec5,_0x156eb1,_0x263a3a);break;case _0x771d08[_0x50bc8a(0x2bc)]:await _0x4660bb(_0x52909a,_0x2360aa,_0x137d0b,_0x38fe7f,_0xdc8ec5,_0x156eb1,_0x263a3a);}}}function _0x14ecc6(_0xc6e560,_0x5cf6e8){const _0xa7a85b=_0x4bc902;return _0x5cf6e8['filter'](_0x49c571=>_0x49c571[_0xa7a85b(0x197)]?.[_0xa7a85b(0x3eb)](_0x2e810e=>_0x2e810e[_0xa7a85b(0xa2e)]===_0xc6e560[_0xa7a85b(0xa2e)]))[_0xa7a85b(0x1d8)];}async function _0x169b8c(_0x500bc3,_0x1b8967,_0x4c2e45,_0x3fb642,_0x2cb53a,_0x129407){const _0x2bb5ff=_0x4bc902,_0x476e2f={'type':_0x2bb5ff(0x7f7),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x589663(_0x500bc3,_0x1b8967,_0x4c2e45,_0x476e2f,_0x3fb642,structuredClone(_0x2cb53a),_0x129407),_0x476e2f[_0x2bb5ff(0x6dc)]='Additional\x20context:\x0a'+_0x476e2f['context']['map'](_0x20f6f9=>_0x2bb5ff(0x8a2)+_0x20f6f9[_0x2bb5ff(0x973)]+':\x20'+_0x20f6f9[_0x2bb5ff(0xa0d)])['join']('\x0a');}catch(_0x3d4769){console[_0x2bb5ff(0x1ca)](_0x2bb5ff(0x9d7),_0x3d4769);}return _0x476e2f;}function _0x56dae2(_0x99eb43,_0xdfb71a,_0x585414,_0x330b4d,_0x5cf7d1,_0x2a489c,_0x5146e1,_0xa115f){const _0x4a0b3d=_0x4bc902,_0x492539=new Map(),_0x3c47af=_0x2a489c[_0x4a0b3d(0x6f4)](_0x3ae323=>_0x3ae323['links']?.['find'](_0x31157f=>_0x31157f['uid']===_0x5cf7d1[_0x4a0b3d(0xa2e)]&&(_0x31157f[_0x4a0b3d(0x1aa)]===_0x22dd61[_0x4a0b3d(0x38a)]||_0x31157f['type']===_0x22dd61[_0x4a0b3d(0x981)])));for(const _0x34c4a5 of _0x3c47af)_0x34c4a5[_0x4a0b3d(0x1aa)]===_0x43b5f6[_0x4a0b3d(0x38a)]||_0x34c4a5[_0x4a0b3d(0x1aa)]===_0x43b5f6[_0x4a0b3d(0x7e8)]?_0x492539[_0x4a0b3d(0x179)](_0x4a0b3d(0x79a)+_0x34c4a5['id'],_0x3c8583(_0x99eb43,_0xdfb71a,_0x585414,_0x330b4d,_0x34c4a5,_0x5146e1,_0xa115f)):_0x34c4a5['type']===_0x43b5f6[_0x4a0b3d(0x641)]||_0x34c4a5[_0x4a0b3d(0x1aa)]===_0x43b5f6[_0x4a0b3d(0x251)]?_0x492539[_0x4a0b3d(0x179)](_0x4a0b3d(0x689)+_0x34c4a5['id'],_0x463c7c(_0x99eb43,_0xdfb71a,_0x585414,_0x330b4d,_0x34c4a5,_0x2a489c,_0x5146e1,_0xa115f)):_0x34c4a5[_0x4a0b3d(0x1aa)]===_0x43b5f6[_0x4a0b3d(0x2e8)]?_0x492539[_0x4a0b3d(0x179)](_0x34c4a5[_0x4a0b3d(0x89d)]['replace'](/[^a-zA-Z]/g,''),_0x397126(_0x99eb43,_0xdfb71a,_0x585414,_0x34c4a5,_0x2a489c,_0xa115f)):_0x492539[_0x4a0b3d(0x179)](_0x32a859(_0x34c4a5),_0x350c49(_0x99eb43,_0xdfb71a,_0x585414,_0x34c4a5,_0x5146e1,_0xa115f));return _0x5cf7d1[_0x4a0b3d(0x642)]?.[_0x4a0b3d(0x218)]&&_0x4a0b3d(0x7a4)===_0x5cf7d1[_0x4a0b3d(0x91c)]&&_0x492539[_0x4a0b3d(0x179)](_0x4a0b3d(0x232),function(_0x1d7e0b,_0x54d98d,_0x257b97){return{'description':'Retrieve\x20from\x20context\x20to\x20inform\x20your\x20response.','params':{},'callback':async()=>{const _0x4ab3aa=a0_0x4227;try{if(!_0x54d98d['accumulated']?.[_0x4ab3aa(0x218)])throw new Error(_0x4ab3aa(0x3b7));_0x257b97&&_0x257b97[_0x4ab3aa(0x419)]({'output':_0x4ab3aa(0x82e),'type':_0x4ab3aa(0x7f7)});let _0x4bf9e6='';if(_0x54d98d[_0x4ab3aa(0x642)][_0x4ab3aa(0x218)]){for(const _0x7a7593 of Object[_0x4ab3aa(0x7d2)](_0x54d98d[_0x4ab3aa(0x642)][_0x4ab3aa(0x218)]))_0x4bf9e6=_0x7a7593+':\x20'+_0x54d98d[_0x4ab3aa(0x642)]['context'][_0x7a7593]+'\x0a\x0a'+_0x4bf9e6;}return _0x4bf9e6;}catch(_0x366863){return console[_0x4ab3aa(0x1ca)](_0x366863),_0x366863 instanceof Error?_0x366863[_0x4ab3aa(0x793)]:_0x4ab3aa(0x3c2);}}};}(0x0,_0x5cf7d1,_0xa115f)),_0x492539;}function _0x463c7c(_0x2100cb,_0x1bf0c1,_0x654236,_0x5e0d9,_0x5f16f6,_0x2bb157,_0x155183,_0x3ec3c6){const _0x150975=_0x4bc902,_0x1f2162=_0x150975(0x500)+_0x5f16f6[_0x150975(0x53f)]+_0x150975(0x9bf),_0x1912d9={'prompt':{'type':_0x3e2379[_0x150975(0x79d)][_0x150975(0x269)]}};return _0x42d66e[_0x150975(0x565)]({'jobType':_0x16dfde[_0x150975(0x583)],'type':_0x28bb92['LoadSkillFunction'],'jobId':_0x2100cb,'agentId':_0x1bf0c1,'threadId':_0x654236,'traceLevel':_0x371406[_0x150975(0x5fd)],'startTime':Date[_0x150975(0xa09)](),'timestamp':Date[_0x150975(0xa09)](),'status':_0x150975(0x534),'function':_0x30efab['ExecuteAgent'],'params':_0x1912d9,'functionDescription':_0x1f2162}),{'description':_0x1f2162,'params':_0x1912d9,'callback':async _0x4741f7=>{const _0x16c31e=_0x150975,_0x564373=Date[_0x16c31e(0xa09)]();try{if(_0x3ec3c6&&_0x3ec3c6[_0x16c31e(0x419)]({'output':_0x16c31e(0x513)+_0x5f16f6[_0x16c31e(0x89d)]+_0x16c31e(0x699),'type':'prompt'}),_0x16c31e(0x351)!=typeof _0x4741f7?.[_0x16c31e(0x7f7)])throw new Error(_0x16c31e(0x778));let _0x430e82=_0x4741f7[_0x16c31e(0x7f7)];if(_0x5f16f6['accumulated']?.[_0x16c31e(0x218)]&&'default'!==_0x5f16f6[_0x16c31e(0x91c)]){_0x3ec3c6&&(await _0x58c1db[_0x16c31e(0x261)](0x1),_0x3ec3c6[_0x16c31e(0x419)]({'output':_0x16c31e(0x82e),'type':_0x16c31e(0x7f7)}));for(const _0x2014ec of Object[_0x16c31e(0x7d2)](_0x5f16f6['accumulated'][_0x16c31e(0x218)]))_0x430e82=_0x430e82+'\x0a\x0a'+_0x2014ec+':\x20'+_0x5f16f6[_0x16c31e(0x642)][_0x16c31e(0x218)][_0x2014ec];}const _0x1b4eb0=_0x155183[_0x16c31e(0x2d6)][_0x16c31e(0x731)](_0x25d02e=>_0x25d02e['id']===_0x5f16f6[_0x16c31e(0x941)]);if(!_0x1b4eb0)throw new Error('Model\x20not\x20found');const _0x285b85=_0x155183[_0x16c31e(0x45c)]['find'](_0x16b514=>_0x16b514[_0x16c31e(0x68e)]()===_0x1b4eb0['engineType']);if(!_0x285b85)throw new Error(_0x16c31e(0x207));const _0x416702=_0x5f16f6[_0x16c31e(0x197)]?.['some'](_0x22d413=>{const _0x19c2d4=_0x16c31e,_0x28a0a0=_0x2bb157[_0x19c2d4(0x731)](_0x4b772a=>_0x4b772a[_0x19c2d4(0xa2e)]===_0x22d413['uid']);return!!_0x28a0a0&&_0x28a0a0[_0x19c2d4(0x1aa)]===_0x43b5f6[_0x19c2d4(0x36d)];})??!0x1;let _0x5448fa;if(_0x3ec3c6&&_0x416702?(_0x3ec3c6[_0x16c31e(0x419)]({'output':'\x0a\x0a','type':_0x16c31e(0x7f7)}),_0x5448fa=await async function(_0x435626,_0x290839,_0x3f091f,_0x50be40,_0x12ccfa,_0x1b0f81,_0x3b9628,_0x5dafaf,_0xa7586c){const _0x517a34=_0x16c31e;let _0x45d805='';const _0x123b9d=_0xa7586c[_0x517a34(0x2d6)][_0x517a34(0x731)](_0x14b831=>_0x14b831['id']===_0x1b0f81[_0x517a34(0x941)]);if(!_0x123b9d)throw new Error(_0x517a34(0x758));const _0x27b5f7=_0xa7586c[_0x517a34(0x45c)][_0x517a34(0x731)](_0x13102c=>_0x13102c[_0x517a34(0x68e)]()===_0x123b9d['engineType']);if(!_0x27b5f7)throw new Error(_0x517a34(0x207));for await(const _0x5e2072 of _0x27b5f7[_0x517a34(0x16f)]({'type':'prompt','prompt':_0x50be40,'instructions':_0x1b0f81['instructions'],'grammar':_0x1b0f81[_0x517a34(0x91c)],'temperature':_0x1b0f81[_0x517a34(0x4b9)],'maxTokens':_0x1b0f81[_0x517a34(0x18b)],'functions':_0x56dae2(_0x435626,_0x290839,_0x3f091f,_0x12ccfa,_0x1b0f81,_0x3b9628,_0xa7586c,_0x5dafaf),'threadId':_0x3f091f},{'model':_0x123b9d}))_0x5dafaf[_0x517a34(0x419)](_0x5e2072),_0x45d805+=_0x5e2072[_0x517a34(0x6dc)];return{'type':_0x517a34(0x7f7),'output':_0x45d805};}(_0x2100cb,_0x1bf0c1,_0x654236,_0x430e82,_0x5e0d9,_0x5f16f6,_0x2bb157,_0x3ec3c6,_0x155183),_0x3ec3c6[_0x16c31e(0x419)]({'output':'\x0a\x0a','type':_0x16c31e(0x7f7)})):_0x5448fa=await _0x285b85[_0x16c31e(0x76d)]({'type':_0x16c31e(0x7f7),'prompt':_0x430e82,'instructions':_0x5f16f6[_0x16c31e(0x88a)],'grammar':_0x5f16f6[_0x16c31e(0x91c)],'temperature':_0x5f16f6[_0x16c31e(0x4b9)],'maxTokens':_0x5f16f6[_0x16c31e(0x18b)],'functions':_0x56dae2(_0x2100cb,_0x1bf0c1,_0x654236,_0x5e0d9,_0x5f16f6,_0x2bb157,_0x155183,_0x3ec3c6),'threadId':_0x654236},{'model':_0x1b4eb0}),_0x16c31e(0x351)!=typeof _0x5448fa[_0x16c31e(0x6dc)])throw new Error(_0x16c31e(0x156));return _0x42d66e[_0x16c31e(0x565)]({'jobType':_0x16dfde[_0x16c31e(0x981)],'type':_0x30efab['ExecuteAgent'],'jobId':_0x2100cb,'blockId':_0x5f16f6['id'],'agentId':_0x1bf0c1,'threadId':_0x654236,'traceLevel':_0x371406[_0x16c31e(0x5fd)],'startTime':_0x564373,'timestamp':Date['now'](),'status':_0x16c31e(0x534),'agentName':_0x5f16f6['name'],'prompt':_0x430e82,'instructions':_0x5f16f6[_0x16c31e(0x88a)],'result':_0x5448fa[_0x16c31e(0x6dc)],'inputTokens':0x0,'outputTokens':0x0}),_0x5f16f6[_0x16c31e(0x197)]?.[_0x16c31e(0x3eb)](_0x2166fa=>_0x2166fa[_0x16c31e(0x1aa)]===_0x22dd61[_0x16c31e(0x675)])?(_0x216bb8(_0x5448fa['output'],_0x5f16f6,_0x2bb157),'I\x20am\x20done'):_0x5448fa[_0x16c31e(0x6dc)];}catch(_0x231747){return console[_0x16c31e(0x1ca)](_0x231747),_0x42d66e[_0x16c31e(0x565)]({'jobType':_0x16dfde[_0x16c31e(0x981)],'type':_0x30efab[_0x16c31e(0x5d1)],'jobId':_0x2100cb,'blockId':_0x5f16f6['id'],'agentId':_0x1bf0c1,'threadId':_0x654236,'traceLevel':_0x371406[_0x16c31e(0x5fd)],'startTime':_0x564373,'timestamp':Date[_0x16c31e(0xa09)](),'status':_0x16c31e(0x1ca),'errorDetails':_0x5bd129(_0x231747),'agentName':_0x5f16f6[_0x16c31e(0x89d)],'prompt':'','instructions':_0x5f16f6[_0x16c31e(0x88a)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x231747 instanceof Error?_0x231747[_0x16c31e(0x793)]:_0x16c31e(0x6a0);}}};}function _0x3c8583(_0x37bddc,_0x2f5b5c,_0x1aa9a0,_0x88db96,_0x2078cb,_0x5300e2,_0x21c75d){const _0x5c6ed7=_0x4bc902,_0x10a6ec='Search\x20in\x20data\x20collection\x20'+_0x2078cb[_0x5c6ed7(0x53f)]+_0x5c6ed7(0x3fc),_0x1ac474={'queryOrPrompt':{'type':_0x3e2379[_0x5c6ed7(0x79d)][_0x5c6ed7(0x269)]}};return _0x42d66e[_0x5c6ed7(0x565)]({'jobType':_0x16dfde[_0x5c6ed7(0x583)],'type':_0x28bb92[_0x5c6ed7(0x6fa)],'jobId':_0x37bddc,'agentId':_0x2f5b5c,'threadId':_0x1aa9a0,'blockId':_0x2078cb['id'],'traceLevel':_0x371406[_0x5c6ed7(0x5fd)],'startTime':Date['now'](),'timestamp':Date[_0x5c6ed7(0xa09)](),'status':'success','function':_0x1de545[_0x5c6ed7(0x1f9)],'params':_0x1ac474,'functionDescription':_0x10a6ec}),{'description':_0x10a6ec,'params':_0x1ac474,'callback':async _0x37b7d9=>{const _0x1f4711=_0x5c6ed7,_0x446329=Date['now']();try{if(_0x21c75d&&_0x21c75d['emit']({'output':_0x1f4711(0x2ad)+_0x2078cb['name']+_0x1f4711(0x4ce)+_0x37b7d9?.[_0x1f4711(0x502)]+'`\x0a\x0a','type':_0x1f4711(0x7f7)}),_0x1f4711(0x351)!=typeof _0x37b7d9?.[_0x1f4711(0x502)])throw new Error(_0x1f4711(0x816));const _0x4d0dc8=_0x2078cb['retrieveBlocks'][_0x1f4711(0x731)](_0x549fb1=>_0x549fb1[_0x1f4711(0x1aa)]===_0x771d08[_0x1f4711(0x4dd)]),_0x4d672b=await _0x169b8c(_0x37bddc,_0x1aa9a0,_0x37b7d9[_0x1f4711(0x502)],_0x4d0dc8,_0x2078cb[_0x1f4711(0x345)],_0x5300e2);return _0x88db96['context']=Array[_0x1f4711(0x100)](new Set([..._0x88db96['context'],..._0x4d672b[_0x1f4711(0x218)]])),_0x42d66e['trace']({'jobType':_0x16dfde[_0x1f4711(0x38a)],'type':_0x1de545[_0x1f4711(0x921)],'jobId':_0x37bddc,'blockId':_0x2078cb['id'],'agentId':_0x2f5b5c,'threadId':_0x1aa9a0,'traceLevel':_0x371406[_0x1f4711(0x5fd)],'startTime':_0x446329,'timestamp':Date[_0x1f4711(0xa09)](),'status':_0x1f4711(0x534),'query':_0x37b7d9['queryOrPrompt'],'context':_0x4d672b[_0x1f4711(0x218)]??[],'inputTokens':_0x4d672b[_0x1f4711(0x219)]??0x0,'outputTokens':_0x4d672b[_0x1f4711(0x8a4)]??0x0}),_0x4d672b['output'];}catch(_0x965118){return console[_0x1f4711(0x1ca)](_0x965118),_0x42d66e[_0x1f4711(0x565)]({'jobType':_0x16dfde[_0x1f4711(0x38a)],'type':_0x1de545[_0x1f4711(0x921)],'jobId':_0x37bddc,'blockId':_0x2078cb['id'],'agentId':_0x2f5b5c,'threadId':_0x1aa9a0,'traceLevel':_0x371406[_0x1f4711(0x5fd)],'startTime':_0x446329,'timestamp':Date[_0x1f4711(0xa09)](),'status':_0x1f4711(0x1ca),'errorDetails':_0x5bd129(_0x965118),'query':_0x37b7d9?.[_0x1f4711(0x502)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x965118 instanceof Error?_0x965118[_0x1f4711(0x793)]:_0x1f4711(0x870);}}};}function _0x32a859(_0x36b39f){const _0x2294d2=_0x4bc902;switch(_0x36b39f[_0x2294d2(0x1aa)]){case _0x43b5f6[_0x2294d2(0x599)]:return _0x2294d2(0x748);case _0x43b5f6[_0x2294d2(0x809)]:return _0x2294d2(0x630);case _0x43b5f6[_0x2294d2(0x20c)]:return _0x2294d2(0x83d);case _0x43b5f6[_0x2294d2(0x828)]:case _0x43b5f6[_0x2294d2(0x755)]:return _0x2294d2(0x397);}throw new Error(_0x2294d2(0x8c0));}function _0x350c49(_0x4327c7,_0x3f44f0,_0x3ffdc2,_0xdd1a89,_0x434d14,_0x4f0f52){const _0x5e503b=_0x4bc902;switch(_0xdd1a89[_0x5e503b(0x1aa)]){case _0x43b5f6[_0x5e503b(0x599)]:return function(_0x164243,_0x33a449,_0x5398f5,_0x5f0f2f,_0x87c5fc){const _0x4ac408=_0x5e503b,_0x56a078=_0x4ac408(0x26c);return _0x42d66e[_0x4ac408(0x565)]({'jobType':_0x16dfde[_0x4ac408(0x583)],'type':_0x28bb92[_0x4ac408(0x494)],'jobId':_0x164243,'agentId':_0x33a449,'threadId':_0x5398f5,'traceLevel':_0x371406[_0x4ac408(0x5fd)],'startTime':Date[_0x4ac408(0xa09)](),'timestamp':Date[_0x4ac408(0xa09)](),'status':'success','function':_0x30efab[_0x4ac408(0x97f)],'params':{},'functionDescription':_0x56a078}),{'description':_0x56a078,'callback':()=>{const _0x4ae8a5=_0x4ac408,_0x2f2bec=Date[_0x4ae8a5(0xa09)]();_0x87c5fc&&_0x87c5fc[_0x4ae8a5(0x419)]({'output':'\x0a\x0a`Getting\x20current\x20date\x20and\x20time`\x0a\x0a','type':_0x4ae8a5(0x7f7)});const _0x77c11f=new Date()[_0x4ae8a5(0x1a9)]();return _0x42d66e['trace']({'jobType':_0x16dfde[_0x4ae8a5(0x981)],'type':_0x30efab[_0x4ae8a5(0x97f)],'jobId':_0x164243,'agentId':_0x33a449,'threadId':_0x5398f5,'blockId':_0x5f0f2f,'traceLevel':_0x371406['Info'],'startTime':_0x2f2bec,'timestamp':Date['now'](),'status':'success','date':_0x77c11f}),_0x77c11f;}};}(_0x4327c7,_0x3f44f0,_0x3ffdc2,_0xdd1a89['id'],_0x4f0f52);case _0x43b5f6[_0x5e503b(0x809)]:return function(_0x195067,_0x1b27f8,_0x574be0,_0x27abcb,_0x348cb7){const _0x45b1e6=_0x5e503b,_0x4fd775=_0x45b1e6(0x2d1),_0x492bc3={'code':{'type':_0x3e2379[_0x45b1e6(0x79d)][_0x45b1e6(0x269)]}};return _0x42d66e['trace']({'jobType':_0x16dfde[_0x45b1e6(0x583)],'type':_0x28bb92['LoadSkillFunction'],'jobId':_0x195067,'agentId':_0x1b27f8,'threadId':_0x574be0,'traceLevel':_0x371406[_0x45b1e6(0x5fd)],'startTime':Date['now'](),'timestamp':Date[_0x45b1e6(0xa09)](),'status':_0x45b1e6(0x534),'function':_0x30efab[_0x45b1e6(0x1e7)],'params':_0x492bc3,'functionDescription':_0x4fd775}),{'description':_0x4fd775,'params':_0x492bc3,'callback':_0x1dc053=>{const _0x7400e6=_0x45b1e6,_0xa4eb06=Date[_0x7400e6(0xa09)]();try{if(_0x348cb7&&_0x348cb7[_0x7400e6(0x419)]({'output':'\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','type':_0x7400e6(0x7f7)}),_0x7400e6(0x351)!=typeof _0x1dc053?.['code'])throw new Error(_0x7400e6(0x4a8));const _0x2e7bef=Function(''+_0x1dc053?.['code'])();let _0x131e3a='';try{_0x131e3a=JSON['stringify'](_0x2e7bef);}catch{_0x131e3a=_0x2e7bef[_0x7400e6(0x5db)]();}return _0x42d66e[_0x7400e6(0x565)]({'jobType':_0x16dfde[_0x7400e6(0x981)],'type':_0x30efab['ExecuteCode'],'agentId':_0x1b27f8,'threadId':_0x574be0,'jobId':_0x195067,'blockId':_0x27abcb,'traceLevel':_0x371406[_0x7400e6(0x5fd)],'startTime':_0xa4eb06,'timestamp':Date[_0x7400e6(0xa09)](),'status':_0x7400e6(0x534),'code':_0x1dc053[_0x7400e6(0x319)],'result':_0x131e3a}),_0x2e7bef;}catch(_0x3bb769){return console['error'](_0x3bb769),_0x42d66e[_0x7400e6(0x565)]({'jobType':_0x16dfde['Skill'],'type':_0x30efab[_0x7400e6(0x1e7)],'jobId':_0x195067,'blockId':_0x27abcb,'traceLevel':_0x371406[_0x7400e6(0x5fd)],'startTime':_0xa4eb06,'timestamp':Date[_0x7400e6(0xa09)](),'status':_0x7400e6(0x1ca),'errorDetails':_0x5bd129(_0x3bb769),'agentId':_0x1b27f8,'threadId':_0x574be0,'code':_0x1dc053?.[_0x7400e6(0x319)]??'','result':_0x7400e6(0x9bd)}),_0x3bb769 instanceof Error?_0x3bb769[_0x7400e6(0x793)]:_0x7400e6(0x9bd);}}};}(_0x4327c7,_0x3f44f0,_0x3ffdc2,_0xdd1a89['id'],_0x4f0f52);case _0x43b5f6['Search']:return function(_0x196bcc,_0x21882a,_0x583b74,_0x2c45a6,_0x4b5260,_0x22ee11,_0x5f49bb){const _0x2c8317=_0x5e503b,_0x3de809=_0x2c8317(0x387),_0xf147ed={'query':{'type':_0x3e2379[_0x2c8317(0x79d)]['String']}};return _0x42d66e['trace']({'jobType':_0x16dfde[_0x2c8317(0x583)],'type':_0x28bb92[_0x2c8317(0x494)],'jobId':_0x196bcc,'agentId':_0x21882a,'threadId':_0x583b74,'traceLevel':_0x371406[_0x2c8317(0x5fd)],'startTime':Date['now'](),'timestamp':Date[_0x2c8317(0xa09)](),'status':_0x2c8317(0x534),'function':_0x30efab[_0x2c8317(0x8f3)],'params':_0xf147ed,'functionDescription':_0x3de809}),{'description':_0x3de809,'params':_0xf147ed,'callback':async _0x436fc9=>{const _0x2ca1e9=_0x2c8317,_0x4145f4=Date[_0x2ca1e9(0xa09)]();try{if(_0x5f49bb&&_0x5f49bb['emit']({'output':_0x2ca1e9(0x63b)+_0x436fc9?.[_0x2ca1e9(0x90b)]+'`\x0a\x0a','type':_0x2ca1e9(0x7f7)}),!_0x22ee11[_0x2ca1e9(0x5a1)])throw new Error(_0x2ca1e9(0xa1b));if(_0x2ca1e9(0x351)!=typeof _0x436fc9?.[_0x2ca1e9(0x90b)])throw new Error(_0x2ca1e9(0x816));const _0x1b2c5f=await _0x22ee11[_0x2ca1e9(0x5a1)]['search'](_0x436fc9[_0x2ca1e9(0x90b)],_0x4b5260,_0x1823f0[_0x2ca1e9(0x7bf)]['searchEngineId']);let _0x51d015='';for(const _0xfb851b of _0x1b2c5f)_0x51d015+=_0xfb851b[_0x2ca1e9(0x20f)]+_0x2ca1e9(0x195)+_0xfb851b['url']+'\x0a'+_0xfb851b[_0x2ca1e9(0x575)]+'\x0a\x0a';return _0x42d66e[_0x2ca1e9(0x565)]({'jobType':_0x16dfde[_0x2ca1e9(0x981)],'type':_0x30efab[_0x2ca1e9(0x8f3)],'jobId':_0x196bcc,'agentId':_0x21882a,'threadId':_0x583b74,'blockId':_0x2c45a6,'traceLevel':_0x371406[_0x2ca1e9(0x5fd)],'startTime':_0x4145f4,'timestamp':Date[_0x2ca1e9(0xa09)](),'status':'success','query':_0x436fc9['query'],'results':_0x51d015}),_0x51d015;}catch(_0x5c1e64){return console['error'](_0x5c1e64),_0x42d66e['trace']({'jobType':_0x16dfde[_0x2ca1e9(0x981)],'type':_0x30efab[_0x2ca1e9(0x8f3)],'jobId':_0x196bcc,'blockId':_0x2c45a6,'traceLevel':_0x371406[_0x2ca1e9(0x5fd)],'startTime':_0x4145f4,'timestamp':Date[_0x2ca1e9(0xa09)](),'status':_0x2ca1e9(0x1ca),'errorDetails':_0x5bd129(_0x5c1e64),'agentId':_0x21882a,'threadId':_0x583b74,'query':_0x436fc9?.[_0x2ca1e9(0x90b)]??'','results':_0x2ca1e9(0x7bb)}),_0x5c1e64 instanceof Error?_0x5c1e64[_0x2ca1e9(0x793)]:'Error\x20searching';}}};}(_0x4327c7,_0x3f44f0,_0x3ffdc2,_0xdd1a89['id'],_0x434d14['searchApiKey'],_0x434d14,_0x4f0f52);case _0x43b5f6['WebScraper']:return _0x3c425a(_0x4327c7,_0x3f44f0,_0x3ffdc2,_0xdd1a89['id'],_0x4f0f52);case _0x43b5f6['WebScraperRaw']:return _0x3c425a(_0x4327c7,_0x3f44f0,_0x3ffdc2,_0xdd1a89['id'],_0x4f0f52,!0x1);}throw new Error('Unknown\x20skill\x20type');}function _0x3c425a(_0x1c96d4,_0x9b8fdf,_0x5863c2,_0x449366,_0xb0585e,_0x26b113=!0x0){const _0x28af75=_0x4bc902,_0x18a0d6=_0x28af75(0x7e9),_0x164f7b={'url':{'type':_0x3e2379[_0x28af75(0x79d)][_0x28af75(0x269)]},'page':{'type':_0x3e2379[_0x28af75(0x79d)]['Number']}};return _0x42d66e[_0x28af75(0x565)]({'jobType':_0x16dfde[_0x28af75(0x583)],'type':_0x28bb92[_0x28af75(0x494)],'jobId':_0x1c96d4,'agentId':_0x9b8fdf,'threadId':_0x5863c2,'traceLevel':_0x371406[_0x28af75(0x5fd)],'startTime':Date[_0x28af75(0xa09)](),'timestamp':Date[_0x28af75(0xa09)](),'status':_0x28af75(0x534),'function':_0x30efab[_0x28af75(0x674)],'params':_0x164f7b,'functionDescription':_0x18a0d6}),{'description':_0x18a0d6,'params':_0x164f7b,'callback':async _0x50c03d=>{const _0x113189=_0x28af75,_0x523196=Date[_0x113189(0xa09)]();try{if(_0xb0585e&&_0xb0585e[_0x113189(0x419)]({'output':_0x113189(0x384)+_0x50c03d?.['url']+_0x113189(0x699),'type':_0x113189(0x7f7)}),'string'!=typeof _0x50c03d?.[_0x113189(0x79f)])throw new Error(_0x113189(0x8e8));const _0x55c795=await fetch(_0x50c03d[_0x113189(0x79f)]),_0x7c65a8=await _0x55c795[_0x113189(0x209)]();let _0x281315=_0x7c65a8;if(_0x26b113){const _0x4a6baf=_0x7c65a8['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x57b3f7=_0x4a6baf?_0x4a6baf[0x1]:_0x7c65a8,_0x3cf84a=_0x57b3f7['replace'](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x113189(0x8fc)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x113189(0x8fc)](/<br\s*\/?>/gi,'\x20')[_0x113189(0x8fc)](/&nbsp;/g,'\x20');_0x281315=_0x3cf84a[_0x113189(0x8fc)](/<\/?[^>]+(>|$)/g,'')[_0x113189(0x8fc)](/\s\s+/g,'\x20')['trim']();}const _0x307f2b=_0x113189(0x127)==typeof _0x50c03d[_0x113189(0x743)]?_0x50c03d['page']:0x1,_0x67cab0=Math['ceil'](_0x281315[_0x113189(0x1d8)]/_0x33617e);return _0x281315['length']>_0x33617e&&(_0x281315=_0x281315['substring']((_0x307f2b-0x1)*_0x33617e,(_0x307f2b-0x1)*_0x33617e+_0x33617e)+'More\x20content\x20available\x20on\x20page\x20'+(_0x307f2b+0x1)+_0x113189(0xa38)+_0x67cab0+'.'),_0x42d66e[_0x113189(0x565)]({'jobType':_0x16dfde['Skill'],'type':_0x30efab['FetchUrl'],'jobId':_0x1c96d4,'agentId':_0x9b8fdf,'threadId':_0x5863c2,'blockId':_0x449366,'traceLevel':_0x371406['Info'],'startTime':_0x523196,'timestamp':Date[_0x113189(0xa09)](),'status':_0x55c795['ok']?_0x113189(0x534):_0x113189(0x1ca),'url':_0x50c03d[_0x113189(0x79f)],'page':_0x307f2b,'totalPages':_0x67cab0,'response':_0x281315}),_0x281315;}catch(_0x17198a){console[_0x113189(0x1ca)](_0x17198a);const _0x21d311=_0x17198a instanceof Error?_0x17198a[_0x113189(0x793)]:_0x113189(0x7c9);return _0x42d66e[_0x113189(0x565)]({'jobType':_0x16dfde[_0x113189(0x981)],'type':_0x30efab['FetchUrl'],'jobId':_0x1c96d4,'blockId':_0x449366,'threadId':_0x5863c2,'traceLevel':_0x371406[_0x113189(0x5fd)],'startTime':_0x523196,'timestamp':Date[_0x113189(0xa09)](),'agentId':_0x9b8fdf,'status':_0x113189(0x1ca),'errorDetails':_0x5bd129(_0x17198a),'url':_0x50c03d?.[_0x113189(0x79f)]??'','page':0x0,'totalPages':0x0,'response':_0x21d311}),_0x21d311;}}};}function _0x397126(_0x1e2684,_0x4b59d2,_0x47bc18,_0x12a235,_0x3394d4,_0x1dfcd5){const _0x4a54ba=_0x4bc902,_0x46b1aa={};for(const _0x69c194 of _0x12a235['parameters'])switch(_0x69c194[_0x4a54ba(0x1aa)]){case _0x4a54ba(0x351):case'json':_0x46b1aa[_0x69c194['name']]={'type':_0x3e2379[_0x4a54ba(0x79d)][_0x4a54ba(0x269)]};break;case _0x4a54ba(0x127):_0x46b1aa[_0x69c194[_0x4a54ba(0x89d)]]={'type':_0x3e2379[_0x4a54ba(0x79d)]['Number']};break;case'boolean':_0x46b1aa[_0x69c194[_0x4a54ba(0x89d)]]={'type':_0x3e2379[_0x4a54ba(0x79d)][_0x4a54ba(0x92b)]};}return _0x42d66e['trace']({'jobType':_0x16dfde['JobContext'],'type':_0x28bb92[_0x4a54ba(0x494)],'jobId':_0x1e2684,'agentId':_0x4b59d2,'threadId':_0x47bc18,'traceLevel':_0x371406['Info'],'startTime':Date[_0x4a54ba(0xa09)](),'timestamp':Date['now'](),'status':_0x4a54ba(0x534),'function':_0x30efab[_0x4a54ba(0x628)],'params':_0x46b1aa,'functionDescription':_0x12a235[_0x4a54ba(0x53f)]}),{'description':'Execute\x20skill\x20'+_0x12a235[_0x4a54ba(0x53f)],'params':_0x46b1aa,'callback':async _0x5c8ec8=>{const _0x43eea7=_0x4a54ba,_0x487329=Date[_0x43eea7(0xa09)]();try{if(_0x1dfcd5&&_0x1dfcd5[_0x43eea7(0x419)]({'output':'\x0a\x0a`Executing\x20custom\x20skill\x20'+_0x12a235['name']+_0x43eea7(0x699),'type':_0x43eea7(0x7f7)}),!_0x5c8ec8)throw new Error(_0x43eea7(0x1a7));for(const _0x5e72e6 of _0x12a235[_0x43eea7(0x6fc)]){if(void 0x0===_0x5c8ec8[_0x5e72e6[_0x43eea7(0x89d)]])throw new Error('Parameter\x20'+_0x5e72e6[_0x43eea7(0x89d)]+'\x20is\x20required');if(_0x43eea7(0x351)===_0x5e72e6[_0x43eea7(0x1aa)]&&_0x43eea7(0x351)!=typeof _0x5c8ec8[_0x5e72e6[_0x43eea7(0x89d)]])throw new Error(_0x43eea7(0x247)+_0x5e72e6[_0x43eea7(0x89d)]+_0x43eea7(0x6e2));if(_0x43eea7(0x127)===_0x5e72e6[_0x43eea7(0x1aa)]&&_0x43eea7(0x127)!=typeof _0x5c8ec8[_0x5e72e6[_0x43eea7(0x89d)]])throw new Error('Parameter\x20'+_0x5e72e6[_0x43eea7(0x89d)]+'\x20must\x20be\x20a\x20number');if(_0x43eea7(0x5f5)===_0x5e72e6[_0x43eea7(0x1aa)]&&_0x43eea7(0x5f5)!=typeof _0x5c8ec8[_0x5e72e6[_0x43eea7(0x89d)]])throw new Error(_0x43eea7(0x247)+_0x5e72e6[_0x43eea7(0x89d)]+_0x43eea7(0x559));if(_0x43eea7(0xa10)===_0x5e72e6[_0x43eea7(0x1aa)]&&'string'!=typeof _0x5c8ec8[_0x5e72e6['name']])throw new Error(_0x43eea7(0x247)+_0x5e72e6[_0x43eea7(0x89d)]+_0x43eea7(0x6e2));if(_0x43eea7(0xa10)===_0x5e72e6[_0x43eea7(0x1aa)])try{_0x5c8ec8[_0x5e72e6[_0x43eea7(0x89d)]]=JSON[_0x43eea7(0x1b1)](_0x5c8ec8[_0x5e72e6[_0x43eea7(0x89d)]]);}catch{throw new Error(_0x43eea7(0x247)+_0x5e72e6[_0x43eea7(0x89d)]+_0x43eea7(0x234));}}const _0xded920={};for(const _0x3af469 of _0x12a235[_0x43eea7(0x1a3)]){let _0x91eaf0=_0x3af469[_0x43eea7(0x2b0)];_0x91eaf0[_0x43eea7(0x1d6)](/\$[a-zA-Z0-9]+/)&&(_0x91eaf0=_0x91eaf0['replace'](/\$[a-zA-Z0-9]+/g,_0x481b13=>{const _0x1dd409=_0x43eea7,_0x46eb4d=_0x481b13[_0x1dd409(0x246)](0x1);return _0x5c8ec8[_0x46eb4d];})),_0xded920[_0x3af469['name']]=_0x91eaf0;}const _0x51c170=new URLSearchParams();for(const _0x513fc6 of _0x12a235['queryParameters']){let _0x44ecf6=_0x513fc6[_0x43eea7(0x2b0)];if('string'==typeof _0x44ecf6&&_0x44ecf6[_0x43eea7(0x648)]('$')){const _0x246007=_0x44ecf6['slice'](0x1);_0x44ecf6=_0x5c8ec8[_0x246007];}if(_0x43eea7(0x351)==typeof _0x44ecf6&&_0x44ecf6['startsWith'](_0x43eea7(0x911))){const _0x21e313=_0x44ecf6[_0x43eea7(0x8fc)]('@context.','');if(_0x12a235['accumulated'],_0x44ecf6=_0x12a235['accumulated']?.[_0x43eea7(0x218)]?.[_0x21e313],'string'==typeof _0x44ecf6&&_0x44ecf6['startsWith']('{')&&_0x44ecf6[_0x43eea7(0x34d)]('}'))try{_0x44ecf6=JSON['parse'](_0x44ecf6);}catch{}}_0x43eea7(0x351)==typeof _0x44ecf6&&_0x44ecf6['startsWith']('[')&&_0x44ecf6[_0x43eea7(0x34d)](']')&&(_0x44ecf6=_0x44ecf6['slice'](0x1,-0x1)[_0x43eea7(0x66b)](',')),_0x51c170[_0x43eea7(0x6b3)](_0x513fc6[_0x43eea7(0x89d)],_0x44ecf6);}let _0x1d3035=_0x12a235['endpointUrl'];_0x51c170[_0x43eea7(0x9e5)]>0x0&&(_0x1d3035+='?'+_0x51c170[_0x43eea7(0x5db)]());let _0x177950={};for(const _0x41d1f9 of _0x12a235[_0x43eea7(0x653)]){let _0xce34b5=_0x41d1f9[_0x43eea7(0x2b0)];if('string'==typeof _0xce34b5&&_0xce34b5[_0x43eea7(0x648)]('$')){const _0x1240ac=_0xce34b5[_0x43eea7(0x246)](0x1);_0xce34b5=_0x5c8ec8[_0x1240ac];}if(_0x43eea7(0x351)==typeof _0xce34b5&&_0xce34b5[_0x43eea7(0x648)]('@context.')){const _0x185ca4=_0xce34b5[_0x43eea7(0x8fc)]('@context.','');if(_0xce34b5=_0x12a235[_0x43eea7(0x642)]?.['context']?.[_0x185ca4],_0x43eea7(0x351)==typeof _0xce34b5&&_0xce34b5[_0x43eea7(0x648)]('{')&&_0xce34b5[_0x43eea7(0x34d)]('}'))try{_0xce34b5=JSON[_0x43eea7(0x1b1)](_0xce34b5);}catch{}}if(_0x43eea7(0x351)==typeof _0xce34b5&&_0xce34b5[_0x43eea7(0x648)]('[')&&_0xce34b5['endsWith'](']')&&(_0xce34b5=_0xce34b5['slice'](0x1,-0x1)['split'](',')),_0x43eea7(0x5e1)===_0x41d1f9[_0x43eea7(0x89d)]){_0xce34b5[_0x43eea7(0x648)]('```html\x0a')&&(_0xce34b5=_0xce34b5[_0x43eea7(0x246)](0x8,-0x3)),_0xce34b5=_0xce34b5[_0x43eea7(0x8fc)](/\n/g,''),_0xce34b5=_0xce34b5[_0x43eea7(0x8fc)](/'/g,'\x22'),_0x177950=_0xce34b5;break;}if(-0x1===_0x41d1f9[_0x43eea7(0x89d)][_0x43eea7(0x530)]('.'))_0x177950[_0x41d1f9[_0x43eea7(0x89d)]]=_0xce34b5;else{const [_0x303bbc,_0x34b71a]=_0x41d1f9[_0x43eea7(0x89d)][_0x43eea7(0x66b)]('.');_0x177950[_0x303bbc]||(_0x177950[_0x303bbc]={}),_0x177950[_0x303bbc][_0x34b71a]=_0xce34b5;}}const _0x4d929c=await fetch(_0x1d3035,{'method':_0x12a235['endpointMethod'],'headers':_0xded920,'body':JSON[_0x43eea7(0x80e)](_0x177950)});if(_0x4d929c['ok']){let _0x3d43bb=await _0x4d929c[_0x43eea7(0xa10)]();return _0x12a235[_0x43eea7(0x1df)]&&(_0x3d43bb=await function(_0x539c59,_0x2375c7){return new Promise((_0x2e7726,_0x5c54eb)=>{const _0x12f93b=a0_0x4227,_0x43bc5e=_0x58c1db[_0x12f93b(0x1d2)](async()=>{const _0x57d0f8=_0x12f93b;try{if(!_0x539c59['asyncEndpointUrl']||!_0x539c59[_0x57d0f8(0x717)])throw new Error(_0x57d0f8(0x118));const _0x156c21={};if(_0x539c59['asyncHeaders']){for(const _0x27b09a of _0x539c59['asyncHeaders'])_0x156c21[_0x27b09a[_0x57d0f8(0x89d)]]=_0x27b09a[_0x57d0f8(0x2b0)];}const _0x54f4bc=_0x539c59['asyncEndpointUrl'][_0x57d0f8(0x8fc)]('@id',_0x2375c7),_0xd9a526=await fetch(_0x54f4bc,{'method':_0x539c59['asyncEndpointMethod'],'headers':_0x156c21});if(0xc8===_0xd9a526['status']){const _0x38c2f8=await _0xd9a526['json']();_0x43bc5e(),_0x2e7726(_0x38c2f8);}_0xd9a526[_0x57d0f8(0x1a8)]>=0x190&&(console[_0x57d0f8(0x1ca)](_0xd9a526[_0x57d0f8(0x8d6)]),_0x43bc5e(),_0x5c54eb(new Error(_0xd9a526[_0x57d0f8(0x8d6)])));}catch(_0x44d9f0){console[_0x57d0f8(0x1ca)](_0x44d9f0),_0x43bc5e(),_0x5c54eb(_0x44d9f0);}},_0x2dabe3);});}(_0x12a235,_0x3d43bb['id'])),_0x12a235[_0x43eea7(0x197)]?.[_0x43eea7(0x3eb)](_0x24cb09=>_0x24cb09['type']===_0x22dd61['Context'])?(_0x216bb8(_0x3d43bb,_0x12a235,_0x3394d4),_0x43eea7(0x415)):(_0x42d66e['trace']({'jobType':_0x16dfde['Skill'],'type':_0x30efab['ExecuteCustomSkill'],'jobId':_0x1e2684,'agentId':_0x4b59d2,'threadId':_0x47bc18,'blockId':_0x12a235['id'],'traceLevel':_0x371406[_0x43eea7(0x5fd)],'startTime':_0x487329,'timestamp':Date[_0x43eea7(0xa09)](),'status':_0x43eea7(0x534),'skillName':_0x12a235['name'],'params':_0x5c8ec8,'result':_0x3d43bb}),_0x3d43bb);}throw new Error(_0x4d929c[_0x43eea7(0x8d6)]);}catch(_0xb02e61){console[_0x43eea7(0x1ca)](_0xb02e61);const _0x388743=_0xb02e61 instanceof Error?_0xb02e61[_0x43eea7(0x793)]:_0x43eea7(0x7c9);return _0x42d66e['trace']({'jobType':_0x16dfde['Skill'],'type':_0x30efab[_0x43eea7(0x628)],'jobId':_0x1e2684,'blockId':_0x12a235['id'],'threadId':_0x47bc18,'traceLevel':_0x371406['Info'],'startTime':_0x487329,'timestamp':Date['now'](),'agentId':_0x4b59d2,'status':'error','skillName':_0x12a235['name'],'params':_0x5c8ec8??{},'result':_0x388743}),_0x388743;}}};}function _0x5bd129(_0x407f43){const _0x3e54aa=_0x4bc902;try{return JSON[_0x3e54aa(0x80e)](_0x407f43);}catch(_0x50abb6){return _0x407f43 instanceof Error?_0x407f43[_0x3e54aa(0x5db)]():_0x3e54aa(0x3c2);}}async function _0x4b9940(_0x744c67,_0x18ca1a,_0x1245d5,_0xd411d2,_0xd6671e,_0x43d81a,_0x26a23e,_0x4909ca,_0x32f60f){const _0x1a7c5a=_0x4bc902;if(_0x43d81a[_0x1a7c5a(0x642)]||(_0x43d81a[_0x1a7c5a(0x642)]={}),_0x18ca1a===_0x22dd61['Text']&&_0x1a7c5a(0x351)==typeof _0x1245d5&&(_0x43d81a[_0x1a7c5a(0x642)][_0x1a7c5a(0x7f7)]=_0x1245d5),_0x43d81a[_0x1a7c5a(0x646)]=_0x43d81a[_0x1a7c5a(0x646)]?_0x43d81a['timesCalled']+0x1:0x1,_0x11033f(_0x43d81a,_0x26a23e)>_0x43d81a[_0x1a7c5a(0x646)])return;if(_0x28bf01['forceLog'](_0x1a7c5a(0x3b5)+_0x43d81a[_0x1a7c5a(0x89d)],_0x43d81a[_0x1a7c5a(0x646)]),!_0x43d81a[_0x1a7c5a(0x642)]['prompt'])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x43d81a[_0x1a7c5a(0x89d)]);const _0x161502=_0x4909ca[_0x1a7c5a(0x2d6)]['find'](_0x45aff2=>_0x45aff2['id']===_0x43d81a['modelId']);if(!_0x161502)throw new Error(_0x1a7c5a(0x758));if(!_0x4909ca[_0x1a7c5a(0x45c)][_0x1a7c5a(0x731)](_0x3b2143=>_0x3b2143[_0x1a7c5a(0x68e)]()===_0x161502[_0x1a7c5a(0x28f)]))throw new Error('No\x20connector\x20found\x20for\x20model');_0x32f60f&&_0x32f60f[_0x1a7c5a(0x419)]({'output':_0x1a7c5a(0x513)+_0x43d81a[_0x1a7c5a(0x89d)]+'`\x0a\x0a','type':_0x1a7c5a(0x7f7)});const _0x157b97=Date[_0x1a7c5a(0xa09)](),_0x17d360=(0x0,_0x31add3['v4'])(),_0x4aa149=_0x32f60f?await async function(_0x249029,_0x5d0a7b,_0x46257b,_0x508b00,_0x454d06,_0xa1ad4e,_0x253616,_0x112ff9){const _0x2fa8f1=_0x1a7c5a,_0x175e94=_0x112ff9['models']['find'](_0x26d758=>_0x26d758['id']===_0x454d06[_0x2fa8f1(0x941)]);if(!_0x175e94)throw new Error('Model\x20not\x20found');const _0x15c654=_0x112ff9['generativeAIWorkerConnectors'][_0x2fa8f1(0x731)](_0x28e0ae=>_0x28e0ae[_0x2fa8f1(0x68e)]()===_0x175e94[_0x2fa8f1(0x28f)]);if(!_0x15c654)throw new Error(_0x2fa8f1(0x207));if(!_0x454d06[_0x2fa8f1(0x642)]||!_0x454d06['accumulated'][_0x2fa8f1(0x7f7)])throw new Error(_0x2fa8f1(0x1ab));let _0xc0c489=_0x454d06['accumulated'][_0x2fa8f1(0x7f7)];if(_0x454d06[_0x2fa8f1(0x642)][_0x2fa8f1(0x218)]&&_0x2fa8f1(0x7a4)!==_0x454d06['grammar']){await _0x58c1db[_0x2fa8f1(0x261)](0x1),_0x253616[_0x2fa8f1(0x419)]({'output':_0x2fa8f1(0x82e),'type':_0x2fa8f1(0x7f7)});for(const _0x1cd304 of Object[_0x2fa8f1(0x7d2)](_0x454d06[_0x2fa8f1(0x642)][_0x2fa8f1(0x218)]))_0xc0c489=_0xc0c489+'\x0a\x0a'+_0x1cd304+':\x20'+_0x454d06[_0x2fa8f1(0x642)][_0x2fa8f1(0x218)][_0x1cd304];}const _0x23f868={'type':_0x2fa8f1(0x7f7),'output':''};for await(const _0x5ef379 of _0x15c654[_0x2fa8f1(0x16f)]({'type':_0x46257b['type'],'prompt':_0xc0c489,'instructions':''+_0x454d06['instructions']+(_0x46257b[_0x2fa8f1(0x88a)]??''),'grammar':_0x454d06['grammar'],'temperature':_0x454d06[_0x2fa8f1(0x4b9)],'maxTokens':_0x454d06[_0x2fa8f1(0x18b)],'history':_0x46257b[_0x2fa8f1(0x281)],'functions':_0x56dae2(_0x249029,_0x5d0a7b,_0x46257b[_0x2fa8f1(0x6d7)],_0x508b00,_0x454d06,_0xa1ad4e,_0x112ff9,_0x253616),'threadId':_0x46257b[_0x2fa8f1(0x6d7)]},{'model':_0x175e94}))_0x454d06[_0x2fa8f1(0x197)]&&_0x454d06[_0x2fa8f1(0x197)][_0x2fa8f1(0x3eb)](_0x381292=>{const _0x3a189d=_0x2fa8f1,_0x15a460=_0xa1ad4e[_0x3a189d(0x731)](_0x3c8928=>_0x3c8928[_0x3a189d(0xa2e)]===_0x381292['uid']);return!!_0x15a460&&_0x15a460[_0x3a189d(0x1aa)]===_0x43b5f6['Answer'];})&&_0x253616[_0x2fa8f1(0x419)](_0x5ef379),'string'==typeof _0x23f868['output']&&_0x2fa8f1(0x351)==typeof _0x5ef379[_0x2fa8f1(0x6dc)]&&(_0x23f868[_0x2fa8f1(0x6dc)]+=_0x5ef379['output']),_0x23f868[_0x2fa8f1(0x219)]=_0x5ef379[_0x2fa8f1(0x219)],_0x23f868['outputTokens']=_0x5ef379['outputTokens'];return _0x23f868;}(_0x744c67,_0x17d360,_0xd411d2,_0xd6671e,_0x43d81a,_0x26a23e,_0x32f60f,_0x4909ca):await async function(_0x320803,_0x16ef51,_0x57a275,_0x377f2f,_0x5ede79,_0x47a62e,_0x590ba7){const _0x3bc7ca=_0x1a7c5a,_0x5265a1=_0x590ba7[_0x3bc7ca(0x2d6)]['find'](_0x59d502=>_0x59d502['id']===_0x5ede79['modelId']);if(!_0x5265a1)throw new Error('Model\x20not\x20found');const _0xb7e768=_0x590ba7[_0x3bc7ca(0x45c)]['find'](_0x57b1ca=>_0x57b1ca[_0x3bc7ca(0x68e)]()===_0x5265a1[_0x3bc7ca(0x28f)]);if(!_0xb7e768)throw new Error(_0x3bc7ca(0x207));if(!_0x5ede79[_0x3bc7ca(0x642)]||!_0x5ede79['accumulated'][_0x3bc7ca(0x7f7)])throw new Error(_0x3bc7ca(0x1ab));let _0x44b762=_0x5ede79['accumulated'][_0x3bc7ca(0x7f7)];if(_0x5ede79[_0x3bc7ca(0x642)][_0x3bc7ca(0x218)]&&_0x3bc7ca(0x7a4)!==_0x5ede79['grammar']){for(const _0x3fa7f2 of Object[_0x3bc7ca(0x7d2)](_0x5ede79[_0x3bc7ca(0x642)][_0x3bc7ca(0x218)]))_0x44b762=_0x44b762+'\x0a\x0a'+_0x3fa7f2+':\x20'+_0x5ede79['accumulated'][_0x3bc7ca(0x218)][_0x3fa7f2];}return _0xb7e768[_0x3bc7ca(0x76d)]({'type':_0x3bc7ca(0x7f7),'prompt':_0x5ede79[_0x3bc7ca(0x642)][_0x3bc7ca(0x7f7)],'instructions':''+_0x5ede79['instructions']+(_0x57a275['instructions']??''),'grammar':_0x5ede79[_0x3bc7ca(0x91c)],'temperature':_0x5ede79['temperature'],'maxTokens':_0x5ede79[_0x3bc7ca(0x18b)],'history':_0x57a275[_0x3bc7ca(0x281)],'functions':_0x56dae2(_0x320803,_0x16ef51,_0x57a275['threadId'],_0x377f2f,_0x5ede79,_0x47a62e,_0x590ba7),'threadId':_0x57a275[_0x3bc7ca(0x6d7)]},{'model':_0x5265a1});}(_0x744c67,_0x17d360,_0xd411d2,_0xd6671e,_0x43d81a,_0x26a23e,_0x4909ca);if(_0x1a7c5a(0x351)!=typeof _0x4aa149[_0x1a7c5a(0x6dc)])throw new Error(_0x1a7c5a(0x156));_0xd6671e[_0x1a7c5a(0x219)]+=_0x4aa149[_0x1a7c5a(0x219)]??0x0,_0xd6671e[_0x1a7c5a(0x8a4)]+=_0x4aa149[_0x1a7c5a(0x8a4)]??0x0,_0x42d66e['trace']({'jobType':_0x16dfde['Workflow'],'type':_0x1abd5b[_0x1a7c5a(0x13e)],'jobId':_0x744c67,'agentId':_0x17d360,'threadId':_0xd411d2[_0x1a7c5a(0x6d7)],'traceLevel':_0x371406[_0x1a7c5a(0x5fd)],'startTime':_0x157b97,'timestamp':Date[_0x1a7c5a(0xa09)](),'blockId':_0x43d81a['id'],'status':_0x1a7c5a(0x534),'output':_0x4aa149[_0x1a7c5a(0x6dc)],'prompt':_0x43d81a['accumulated'][_0x1a7c5a(0x7f7)],'agentName':_0x43d81a[_0x1a7c5a(0x89d)],'history':[],'instructions':''+_0x43d81a[_0x1a7c5a(0x88a)]+(_0xd411d2[_0x1a7c5a(0x88a)]??''),'ragContext':_0x4aa149['context']??[],'inputTokens':_0x4aa149[_0x1a7c5a(0x219)]??0x0,'outputTokens':_0x4aa149['outputTokens']??0x0}),_0x216bb8(_0x4aa149[_0x1a7c5a(0x6dc)],_0x43d81a,_0x26a23e),await _0x44be16(_0x744c67,_0x4aa149[_0x1a7c5a(0x6dc)],_0xd411d2,_0xd6671e,_0x43d81a,_0x26a23e,_0x4909ca,_0x32f60f);}function _0x32255e(_0x2cda0d,_0x358702,_0x3b2862){const _0x2f023b=_0x4bc902;_0x3b2862[_0x2f023b(0x642)]||(_0x3b2862['accumulated']={}),_0x3b2862[_0x2f023b(0x642)][_0x2f023b(0x218)]||(_0x3b2862[_0x2f023b(0x642)][_0x2f023b(0x218)]={}),_0x3b2862[_0x2f023b(0x642)][_0x2f023b(0x218)][_0x2cda0d]=_0x358702;}function _0x1c4b69(_0x2b55a4,_0x41d94e,_0x169ed8,_0x1c1cfa){const _0x21087f=_0x4bc902;_0x2b55a4===_0x22dd61[_0x21087f(0x675)]&&(_0x1c1cfa['accumulated']||(_0x1c1cfa['accumulated']={}),_0x1c1cfa[_0x21087f(0x642)]['context']||(_0x1c1cfa[_0x21087f(0x642)][_0x21087f(0x218)]={}),_0x1c1cfa[_0x21087f(0x642)][_0x21087f(0x218)][_0x41d94e]=_0x169ed8);}async function _0x529f34(_0x24514f,_0x1a9e8e,_0xf383a0,_0x187895,_0x560320,_0x344034,_0x12231c,_0x5b1bf4){const _0x237836=function(_0x5aab83,_0x1afd0f){const _0x470dad=a0_0x4227,_0x1d29cd=[];for(let _0x3b938e=0x0;_0x3b938e<_0x5aab83[_0x470dad(0x1d8)];_0x3b938e+=_0x1afd0f[_0x470dad(0x8a6)]['size']){let _0x355d54=_0x3b938e-_0x1afd0f[_0x470dad(0x8a6)][_0x470dad(0x746)];_0x355d54<0x0&&(_0x355d54=0x0);let _0x41308c=_0x3b938e+_0x1afd0f['attributes'][_0x470dad(0x9e5)]+_0x1afd0f[_0x470dad(0x8a6)][_0x470dad(0x746)];_0x41308c>_0x5aab83[_0x470dad(0x1d8)]&&(_0x41308c=_0x5aab83[_0x470dad(0x1d8)]),length||(length=_0x3b938e+_0x1afd0f['attributes'][_0x470dad(0x9e5)],length>_0x5aab83['length']&&(length=_0x5aab83['length'])),_0x1d29cd[_0x470dad(0x5b2)](_0x5aab83[_0x470dad(0x418)](_0x355d54,_0x41308c));}return _0x1d29cd;}(_0x1a9e8e,_0x560320);await _0x44be16(_0x24514f,_0x237836,_0xf383a0,_0x187895,_0x560320,_0x344034,_0x12231c,_0x5b1bf4);}function _0x4d7c69(_0x589f36,_0x103fca,_0x89d811){const _0x15fa5b=_0x4bc902;_0x89d811['accumulated']||(_0x89d811[_0x15fa5b(0x642)]={}),_0x89d811[_0x15fa5b(0x642)][_0x15fa5b(0x218)]||(_0x89d811[_0x15fa5b(0x642)][_0x15fa5b(0x218)]={}),_0x89d811[_0x15fa5b(0x642)][_0x15fa5b(0x218)][_0x589f36]=_0x103fca;}async function _0x365cdb(_0x3ee8cc,_0x437cde,_0x2a8846,_0x53ba82,_0x16012a,_0x2af45d,_0x5497dd,_0x1f75c1){const _0x43e342=_0x4bc902;if(_0x16012a[_0x43e342(0x642)]||(_0x16012a['accumulated']={}),_0x16012a[_0x43e342(0x642)]['queries']||(_0x16012a[_0x43e342(0x642)][_0x43e342(0x5d8)]=[]),_0x437cde instanceof Array?_0x16012a[_0x43e342(0x642)]['queries'][_0x43e342(0x5b2)](..._0x437cde):_0x16012a[_0x43e342(0x642)]['queries'][_0x43e342(0x5b2)](_0x437cde),_0x16012a[_0x43e342(0x646)]=_0x16012a[_0x43e342(0x646)]?_0x16012a['timesCalled']+0x1:0x1,_0x11033f(_0x16012a,_0x2af45d)>_0x16012a[_0x43e342(0x646)])return;if(0x0===_0x16012a[_0x43e342(0x642)]['queries'][_0x43e342(0x1d8)])throw new Error('Data\x20collection\x20block\x20is\x20missing\x20required\x20data');let _0x5a289e=[];const _0x46038a=Date['now']();try{let _0x8bcd23=0x0,_0x416aa0=0x0;for(const _0xf2bb86 of _0x16012a[_0x43e342(0x642)][_0x43e342(0x5d8)]){const _0x2fad71=_0x16012a[_0x43e342(0x345)][_0x43e342(0x731)](_0x2bd77b=>_0x2bd77b[_0x43e342(0x1aa)]===_0x771d08['Prompt']),_0x48469b=await _0x169b8c(_0x3ee8cc,_0x2a8846[_0x43e342(0x6d7)],_0xf2bb86,_0x2fad71,_0x16012a[_0x43e342(0x345)],_0x5497dd);_0x5a289e=Array[_0x43e342(0x100)](new Set([..._0x5a289e,..._0x48469b['context']])),_0x8bcd23+=_0x48469b[_0x43e342(0x219)]??0x0,_0x416aa0+=_0x48469b['outputTokens']??0x0;}_0x53ba82[_0x43e342(0x219)]+=_0x8bcd23,_0x53ba82[_0x43e342(0x8a4)]+=_0x416aa0,_0x53ba82['context']=Array[_0x43e342(0x100)](new Set([..._0x53ba82[_0x43e342(0x218)],..._0x5a289e])),_0x42d66e['trace']({'jobType':_0x16dfde[_0x43e342(0x436)],'type':_0x1abd5b['DataCollection'],'jobId':_0x3ee8cc,'threadId':_0x2a8846[_0x43e342(0x6d7)],'traceLevel':_0x371406['Info'],'startTime':_0x46038a,'timestamp':Date[_0x43e342(0xa09)](),'blockId':_0x16012a['id'],'status':_0x43e342(0x534),'queries':_0x16012a[_0x43e342(0x642)][_0x43e342(0x5d8)],'context':_0x5a289e,'inputTokens':_0x8bcd23,'outputTokens':_0x416aa0});}catch(_0x4db884){console[_0x43e342(0x1ca)](_0x4db884),_0x42d66e[_0x43e342(0x565)]({'jobType':_0x16dfde['Workflow'],'type':_0x1abd5b[_0x43e342(0x7e8)],'jobId':_0x3ee8cc,'threadId':_0x2a8846['threadId'],'traceLevel':_0x371406['Info'],'startTime':_0x46038a,'timestamp':Date[_0x43e342(0xa09)](),'blockId':_0x16012a['id'],'status':_0x43e342(0x1ca),'queries':_0x16012a[_0x43e342(0x642)][_0x43e342(0x5d8)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x216bb8(_0x5a289e,_0x16012a,_0x2af45d),await _0x44be16(_0x3ee8cc,_0x5a289e,_0x2a8846,_0x53ba82,_0x16012a,_0x2af45d,_0x5497dd,_0x1f75c1);}async function _0x368d8b(_0x215b8a,_0x27f486,_0x4389bb,_0x1707f2,_0x3f138b,_0x55e4c9,_0x5662a6,_0x12070d){const _0x4d8656=_0x4bc902,_0x4ba9c8=await _0x5662a6[_0x4d8656(0x820)][_0x4d8656(0xa46)](_0x27f486);await _0x44be16(_0x215b8a,_0x4ba9c8,_0x4389bb,_0x1707f2,_0x3f138b,_0x55e4c9,_0x5662a6,_0x12070d);}async function _0x21ad99(_0x397ee8,_0x10e737,_0x3a0cb8,_0xaef1e6,_0x250c67,_0x54f9f8,_0x38685c,_0x4a24e7){const _0x530bf3=function(_0x49a98d,_0x576228){const _0xb698a6=a0_0x4227,_0x40eff6=[],_0x84aea0=_0x49a98d[_0xb698a6(0x66b)]('\x20');let _0x4f088d='',_0x348892=0x0,_0x45392e=0x0,_0x257313=0x0;for(const _0x3fd27c of _0x84aea0){if(_0x4f088d[_0xb698a6(0x1d8)]+_0x3fd27c[_0xb698a6(0x1d8)]>_0x576228[_0xb698a6(0x8a6)]['size']){let _0x3a10db=_0x348892,_0x326dee='';for(;_0x3a10db>=0x0&&_0x326dee['length']+_0x84aea0[_0x3a10db][_0xb698a6(0x1d8)]<_0x576228['attributes'][_0xb698a6(0x746)];)_0x326dee=_0x84aea0[_0x3a10db]+'\x20'+_0x326dee,_0x3a10db--;let _0x47f3d0=_0x45392e,_0x2d7df8='';for(;_0x47f3d0<_0x84aea0['length']&&_0x2d7df8[_0xb698a6(0x1d8)]+_0x84aea0[_0x47f3d0][_0xb698a6(0x1d8)]<_0x576228[_0xb698a6(0x8a6)][_0xb698a6(0x746)];)_0x2d7df8+=_0x84aea0[_0x47f3d0]+'\x20',_0x47f3d0++;_0x4f088d=_0x326dee+_0x4f088d+_0x2d7df8,_0x40eff6['push'](_0x4f088d[_0xb698a6(0xa24)]()),_0x4f088d='',_0x348892=_0x45392e;}_0x4f088d+=_0x3fd27c+'\x20',_0x45392e++,_0x257313+=_0x3fd27c[_0xb698a6(0x1d8)]+0x1;}if(_0x4f088d['length']>0x0){let _0x2c00bb=_0x348892,_0xfb30f7='';for(;_0x2c00bb>=0x0&&_0xfb30f7[_0xb698a6(0x1d8)]+_0x84aea0[_0x2c00bb]['length']<_0x576228['attributes']['overlap'];)_0xfb30f7=_0x84aea0[_0x2c00bb]+'\x20'+_0xfb30f7,_0x2c00bb--;_0x4f088d=_0xfb30f7+_0x4f088d,_0x40eff6[_0xb698a6(0x5b2)](_0x4f088d[_0xb698a6(0xa24)]());}return _0x40eff6;}(_0x10e737,_0x250c67);await _0x44be16(_0x397ee8,_0x530bf3,_0x3a0cb8,_0xaef1e6,_0x250c67,_0x54f9f8,_0x38685c,_0x4a24e7);}function _0x216bb8(_0x139907,_0x11ab40,_0x29acda,_0x2b50a5){const _0x4136b4=_0x4bc902;if(_0x11ab40[_0x4136b4(0x197)])for(const _0x222de2 of _0x11ab40[_0x4136b4(0x197)]){if(_0x222de2['type']!==_0x22dd61[_0x4136b4(0x675)])continue;const _0x4a3cd1=_0x29acda[_0x4136b4(0x731)](_0x51c36f=>_0x51c36f[_0x4136b4(0xa2e)]===_0x222de2[_0x4136b4(0xa2e)]);if(!_0x4a3cd1)continue;let _0x2a2324=_0x11ab40['id'];switch(_0x2b50a5?_0x2a2324=_0x2b50a5:(_0x11ab40['type']===_0x43b5f6[_0x4136b4(0x7e8)]&&(_0x2a2324=_0x11ab40[_0x4136b4(0x89d)]),_0x11ab40[_0x4136b4(0x1aa)]!==_0x43b5f6['Agent']&&_0x11ab40[_0x4136b4(0x1aa)]!==_0x43b5f6[_0x4136b4(0x641)]&&_0x11ab40[_0x4136b4(0x1aa)]!==_0x43b5f6[_0x4136b4(0x2e8)]||(_0x2a2324=_0x11ab40[_0x4136b4(0x23c)]??_0x11ab40[_0x4136b4(0x89d)])),_0x4a3cd1[_0x4136b4(0x1aa)]){case _0x43b5f6[_0x4136b4(0x251)]:_0x28bf01[_0x4136b4(0x66e)](_0x4136b4(0x99d),_0x4a3cd1['name'],_0x2a2324),_0x4a3cd1[_0x4136b4(0x642)]||(_0x4a3cd1[_0x4136b4(0x642)]={}),_0x4a3cd1[_0x4136b4(0x642)]['context']||(_0x4a3cd1[_0x4136b4(0x642)][_0x4136b4(0x218)]={}),_0x4a3cd1[_0x4136b4(0x642)][_0x4136b4(0x218)][_0x2a2324]=_0x139907,_0x4a3cd1[_0x4136b4(0x646)]=_0x4a3cd1['timesCalled']?_0x4a3cd1[_0x4136b4(0x646)]+0x1:0x1;break;case _0x43b5f6[_0x4136b4(0x641)]:_0x28bf01[_0x4136b4(0x66e)](_0x4136b4(0x315),_0x4a3cd1[_0x4136b4(0x89d)],_0x2a2324),_0x32255e(_0x2a2324,_0x139907,_0x4a3cd1);break;case _0x43b5f6[_0x4136b4(0x36d)]:_0x28bf01[_0x4136b4(0x66e)](_0x4136b4(0x3ba),_0x2a2324),_0x1c4b69(_0x222de2[_0x4136b4(0x1aa)],_0x2a2324,_0x139907,_0x4a3cd1);break;case _0x43b5f6[_0x4136b4(0x2e8)]:_0x28bf01[_0x4136b4(0x66e)](_0x4136b4(0x649),_0x4a3cd1[_0x4136b4(0x89d)],_0x2a2324),_0x4d7c69(_0x2a2324,_0x139907,_0x4a3cd1);}}}async function _0x44be16(_0x586fda,_0x4a0ff6,_0x1d019d,_0x3bce6c,_0x1e8ee4,_0x53f729,_0x22f932,_0x57046e){const _0xa9fd15=_0x4bc902;if(await _0x58c1db[_0xa9fd15(0x261)](0x1),_0x1e8ee4[_0xa9fd15(0x197)]){for(const _0x5a56f9 of _0x1e8ee4[_0xa9fd15(0x197)]){if(_0x5a56f9[_0xa9fd15(0x1aa)]===_0x22dd61[_0xa9fd15(0x675)])continue;const _0x1dd5f0=_0x53f729['find'](_0x305610=>_0x305610['uid']===_0x5a56f9['uid']);if(_0x1dd5f0)switch(_0x1dd5f0[_0xa9fd15(0x1aa)]){case _0x43b5f6['Agent']:await _0x4b9940(_0x586fda,_0x5a56f9[_0xa9fd15(0x1aa)],_0x4a0ff6,_0x1d019d,_0x3bce6c,_0x1dd5f0,_0x53f729,_0x22f932,_0x57046e);break;case _0x43b5f6['ChunkSplitter']:await _0x529f34(_0x586fda,_0x4a0ff6,_0x1d019d,_0x3bce6c,_0x1dd5f0,_0x53f729,_0x22f932,_0x57046e);break;case _0x43b5f6[_0xa9fd15(0x7e8)]:await _0x365cdb(_0x586fda,_0x4a0ff6,_0x1d019d,_0x3bce6c,_0x1dd5f0,_0x53f729,_0x22f932,_0x57046e);break;case _0x43b5f6['SentenceSplitter']:await _0x368d8b(_0x586fda,_0x4a0ff6,_0x1d019d,_0x3bce6c,_0x1dd5f0,_0x53f729,_0x22f932,_0x57046e);break;case _0x43b5f6[_0xa9fd15(0x4a5)]:await _0x21ad99(_0x586fda,_0x4a0ff6,_0x1d019d,_0x3bce6c,_0x1dd5f0,_0x53f729,_0x22f932,_0x57046e);}}_0x1e8ee4[_0xa9fd15(0x1aa)]===_0x43b5f6[_0xa9fd15(0x4dd)]&&_0x57046e&&_0x57046e['emit'](void 0x0);}else _0x1e8ee4[_0xa9fd15(0x1aa)]===_0x43b5f6[_0xa9fd15(0x4dd)]&&_0x57046e&&_0x57046e[_0xa9fd15(0x419)](void 0x0);}function _0x11033f(_0x2af91e,_0x179883){const _0xb6b855=_0x4bc902;let _0x57ed2d=0x0;for(const _0x4c5d81 of _0x179883)for(const _0x5dee9e of _0x4c5d81['links']??[])_0x5dee9e['type']!==_0x22dd61[_0xb6b855(0x38a)]&&_0x5dee9e[_0xb6b855(0x1aa)]!==_0x22dd61[_0xb6b855(0x981)]&&_0x5dee9e[_0xb6b855(0xa2e)]===_0x2af91e[_0xb6b855(0xa2e)]&&_0x57ed2d++;return _0x57ed2d;}class _0x5688c9 extends _0x36eac2{[_0x4bc902(0x8cc)];[_0x4bc902(0x203)];[_0x4bc902(0x69d)];[_0x4bc902(0x45c)];['documentParserConnector'];[_0x4bc902(0x820)];[_0x4bc902(0x428)];['searchConnector'];[_0x4bc902(0x453)];[_0x4bc902(0x4f5)];[_0x4bc902(0x356)]=new Map();[_0x4bc902(0x960)]=new Map();[_0x4bc902(0x5f2)];['models']=new Map();[_0x4bc902(0x4fb)];[_0x4bc902(0x3f1)]=0x0;[_0x4bc902(0x62a)]=0x0;[_0x4bc902(0x40f)]=!0x1;constructor(_0x366908,_0x55df1e,_0x46abee,_0x3ae144,_0x5f549d,_0x34626c,_0x2bbfb5,_0x8d4ad8,_0x36f045,_0x99b51a){const _0x4af3fb=_0x4bc902;super(_0x366908,_0x55df1e,_0x3ae144),this['localNode']=_0x366908,this[_0x4af3fb(0x203)]=_0x46abee,this[_0x4af3fb(0x69d)]=_0x5f549d,this[_0x4af3fb(0x45c)]=_0x34626c,this[_0x4af3fb(0x121)]=_0x2bbfb5,this[_0x4af3fb(0x820)]=_0x8d4ad8,this[_0x4af3fb(0x428)]=_0x36f045,this[_0x4af3fb(0x5a1)]=_0x99b51a;}async['destroy'](){const _0x3914a3=_0x4bc902;for(const _0x47e2d4 of this[_0x3914a3(0x45c)])await _0x47e2d4['close']();this[_0x3914a3(0x4f5)]?.[_0x3914a3(0x80f)](this[_0x3914a3(0x458)]),this[_0x3914a3(0x356)]['forEach'](_0x1c1715=>_0x1c1715['unsubscribe'](this[_0x3914a3(0x458)])),this[_0x3914a3(0x4fb)]&&(clearTimeout(this[_0x3914a3(0x4fb)]),delete this[_0x3914a3(0x4fb)]),super[_0x3914a3(0x42d)]();}async[_0x4bc902(0x171)](_0x38b5a5=!0x1){const _0x426685=_0x4bc902;if(this[_0x426685(0x40f)])super['open']();else{if(_0x28bf01[_0x426685(0x66e)](_0x426685(0x31e),this[_0x426685(0x458)]),this[_0x426685(0x453)]=await _0x2671ab['getWorkflow'](this[_0x426685(0x203)],this['label']),this['modelStore']=this[_0x426685(0x69d)][_0x426685(0x79b)](this[_0x426685(0x453)][_0x426685(0x66a)]),!this[_0x426685(0x4f5)])throw new Error(_0x426685(0x751));this[_0x426685(0x90e)](),_0x28bf01[_0x426685(0x66e)](_0x426685(0x467),this[_0x426685(0x453)][_0x426685(0x2d6)]);for(const _0xc85ff6 of this[_0x426685(0x453)][_0x426685(0x2d6)])try{let _0xc72733;_0xc85ff6['engineType']===_0x3e2379['GenerativeAIEngineType'][_0x426685(0x87c)]&&(_0xc72733=await this['getModel']('/'+_0xc85ff6['id']+_0x120739)),this[_0x426685(0x2d6)][_0x426685(0x179)](_0xc85ff6['id'],{'id':_0xc85ff6['id'],'engineType':_0xc85ff6['engineType'],'taskType':_0xc85ff6[_0x426685(0x3d4)],'inputType':_0xc85ff6['inputType'],'outputType':_0xc85ff6[_0x426685(0x586)],'sourceUrl':_0xc85ff6[_0x426685(0x8d8)],'pathName':_0xc72733});}catch(_0x2760d7){await this[_0x426685(0x4f5)]['publish']({'action':_0x3e2379[_0x426685(0x164)][_0x426685(0x734)],'file':new File([''],''+_0xc85ff6['id']+_0x120739),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0xc85ff6[_0x426685(0x8d8)]}}),this[_0x426685(0x2d6)][_0x426685(0x179)](_0xc85ff6['id'],{'id':_0xc85ff6['id'],'engineType':_0xc85ff6['engineType'],'taskType':_0xc85ff6[_0x426685(0x3d4)],'inputType':_0xc85ff6['inputType'],'outputType':_0xc85ff6[_0x426685(0x586)],'sourceUrl':_0xc85ff6['sourceUrl'],'pathName':await this[_0x426685(0x8dd)]('/'+_0xc85ff6['id']+_0x120739)});}try{for(const _0x30ac48 of this['generativeAIWorkerConnectors'])await _0x30ac48[_0x426685(0x643)](this[_0x426685(0x458)],this[_0x426685(0x2d6)]);}catch(_0x18fda7){return this['open'](_0x38b5a5);}for(const _0xc6b397 of this[_0x426685(0x453)][_0x426685(0x9f0)])this[_0x426685(0x356)][_0x426685(0x179)](_0xc6b397,this[_0x426685(0x69d)][_0x426685(0x79b)](_0xc6b397));await this[_0x426685(0x3c3)](),this[_0x426685(0x2cb)]();for(const _0x1d043c of this[_0x426685(0x453)][_0x426685(0x581)])this['externalStores'][_0x426685(0x179)](_0x1d043c,this[_0x426685(0x69d)][_0x426685(0x65d)](_0x1d043c));await this[_0x426685(0x700)](),this[_0x426685(0x35d)](),this[_0x426685(0x40f)]=!0x0,this[_0x426685(0x90f)](),super[_0x426685(0x171)](),_0x28bf01[_0x426685(0x66e)](_0x426685(0x58f),this['label']);}}['reset'](){const _0x5c89f6=_0x4bc902;this['prompts']=0x0,this[_0x5c89f6(0x62a)]=0x0,this[_0x5c89f6(0x90f)](),super['reset']();}[_0x4bc902(0x476)](){return this['sendStats'](),this['getCoresFromCapacityReport']();}[_0x4bc902(0x9a1)](_0x242e4f,_0x2fe471,_0xbe21fe){const _0x1eb638=_0x4bc902,{outputTokens:_0xa9ff81=0x0,output:_0x4f30b7=''}=_0x242e4f,_0x1567a2=_0xa9ff81/((_0xbe21fe-_0x2fe471)/0x3e8);this[_0x1eb638(0x3f1)]+=0x1,this[_0x1eb638(0x62a)]+=_0xa9ff81,this[_0x1eb638(0x927)](_0x1567a2,_0xa9ff81),this[_0x1eb638(0x90f)]();}[_0x4bc902(0x7b5)](_0x56c26b,_0x45578d){const _0x3bed68=_0x4bc902;return _0x56c26b['output']=_0x56c26b['output']??'',{'type':'prompt','output':_0x3bed68(0x351)==typeof _0x56c26b[_0x3bed68(0x6dc)]&&_0x3bed68(0x351)==typeof _0x45578d[_0x3bed68(0x6dc)]?_0x56c26b[_0x3bed68(0x6dc)]+_0x45578d[_0x3bed68(0x6dc)]:_0x45578d[_0x3bed68(0x6dc)],'outputTokens':_0x45578d[_0x3bed68(0x8a4)]??_0x56c26b[_0x3bed68(0x8a4)],'inputTokens':_0x45578d[_0x3bed68(0x219)]??_0x56c26b[_0x3bed68(0x219)]};}async['internalProcessJob'](_0x33e4a9,_0x273fbd){const _0x445175=_0x4bc902;if(this['workflow']=await _0x2671ab['getWorkflow'](this[_0x445175(0x203)],this[_0x445175(0x458)]),_0x445175(0x7f7)===_0x273fbd['type']){const _0x108d60=this['workflow'][_0x445175(0x944)][_0x445175(0x731)](_0x4c17dc=>_0x4c17dc[_0x445175(0x1aa)]===_0x43b5f6[_0x445175(0x4dd)]),_0x5a2705=await async function(_0xb2d5ce,_0x2a342,_0x3d7c3a,_0xa86a8f,_0x16c5a0){const _0x5a4dcc=_0x445175,_0x35b649=(0x0,_0x31add3['v4'])(),_0x1e31e3=Date['now']();if(_0x42d66e[_0x5a4dcc(0x565)]({'jobType':_0x16dfde[_0x5a4dcc(0x436)],'type':_0x1abd5b[_0x5a4dcc(0x8ca)],'jobId':_0xb2d5ce,'blockId':_0x3d7c3a['id'],'agentId':_0x35b649,'threadId':_0x2a342['threadId'],'traceLevel':_0x371406[_0x5a4dcc(0x5fd)],'startTime':Date[_0x5a4dcc(0xa09)](),'timestamp':Date['now'](),'status':_0x5a4dcc(0x534),'initialPrompt':_0x2a342['prompt']}),_0x2a342[_0x5a4dcc(0x9ac)]){for(const _0x541896 in _0x2a342['internalContext'])_0x216bb8(_0x2a342[_0x5a4dcc(0x9ac)][_0x541896],_0x3d7c3a,_0xa86a8f,_0x541896);}const _0x5e2c67={'type':_0x2a342[_0x5a4dcc(0x1aa)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x44be16(_0xb2d5ce,''+_0x2a342[_0x5a4dcc(0x7f7)],_0x2a342,_0x5e2c67,_0x3d7c3a,_0xa86a8f,_0x16c5a0);const {inputTokens:_0x5c0a50=0x0,outputTokens:_0xf52fe3=0x0,context:_0x2e9e6a=[]}=_0x5e2c67;return _0x42d66e['trace']({'jobType':_0x16dfde[_0x5a4dcc(0x436)],'type':_0x1abd5b[_0x5a4dcc(0x3a4)],'jobId':_0xb2d5ce,'agentId':_0x35b649,'threadId':_0x2a342['threadId'],'traceLevel':_0x371406[_0x5a4dcc(0x5fd)],'startTime':_0x1e31e3,'timestamp':Date[_0x5a4dcc(0xa09)](),'blockId':_0x3d7c3a['id'],'status':'success','output':_0x5e2c67[_0x5a4dcc(0x6dc)]?.[_0x5a4dcc(0x5db)]()??'','prompt':_0x2a342[_0x5a4dcc(0x7f7)],'agentName':'','history':_0x2a342[_0x5a4dcc(0x281)]??[],'instructions':''+(_0x2a342[_0x5a4dcc(0x88a)]??''),'ragContext':_0x2e9e6a,'inputTokens':_0x5c0a50,'outputTokens':_0xf52fe3}),{'type':_0x2a342[_0x5a4dcc(0x1aa)],'output':_0x5e2c67[_0x5a4dcc(0x6dc)],'context':_0x5e2c67[_0x5a4dcc(0x218)],'internalContext':_0xa86a8f['find'](_0x24a65d=>_0x24a65d[_0x5a4dcc(0x1aa)]===_0x43b5f6['Answer'])?.['accumulated']?.['context']??{},'inputTokens':_0x5e2c67[_0x5a4dcc(0x219)]??0x0,'outputTokens':_0x5e2c67[_0x5a4dcc(0x8a4)]??0x0};}(_0x33e4a9,_0x273fbd,_0x108d60,this[_0x445175(0x453)]['blocks'],{'documentParserConnector':this[_0x445175(0x121)],'nlpLibraryConnector':this[_0x445175(0x820)],'generativeAIWorkerConnectors':this[_0x445175(0x45c)],'models':this[_0x445175(0x453)][_0x445175(0x2d6)],'contentMediator':this[_0x445175(0x69d)],'searchApiKey':this[_0x445175(0x428)],'searchConnector':this[_0x445175(0x5a1)]});return _0x5a2705;}if(_0x445175(0x404)===_0x273fbd['type'])return _0x42d66e[_0x445175(0x565)]({'jobType':_0x16dfde[_0x445175(0x623)],'type':_0x42b52e['PromptRating'],'jobId':_0x273fbd['jobId'],'threadId':_0x273fbd['threadId'],'traceLevel':_0x371406[_0x445175(0x5fd)],'startTime':Date[_0x445175(0xa09)](),'timestamp':Date[_0x445175(0xa09)](),'status':_0x445175(0x534),'rating':_0x273fbd[_0x445175(0x4dc)],'feedback':_0x273fbd[_0x445175(0x7ef)]}),{'type':_0x445175(0x404),'status':_0x3e2379[_0x445175(0x18c)]['Success']};if('downloadDocument'===_0x273fbd[_0x445175(0x1aa)]){let _0x5c6d9e;const _0x2e6ed3=this[_0x445175(0x356)][_0x445175(0x7d2)]();for(;!_0x5c6d9e;){const _0x144121=_0x2e6ed3[_0x445175(0x49a)]()[_0x445175(0x2b0)];if(!_0x144121)throw new Error(_0x445175(0xa3a));_0x5c6d9e=this[_0x445175(0x356)]['get'](_0x144121);try{const _0x6b1228=await _0x5c6d9e['get'](_0x273fbd['documentPath']);return{'type':_0x445175(0x277),'fileName':_0x6b1228['name'],'mimeType':_0x6b1228[_0x445175(0x1aa)],'document':await _0x6b1228[_0x445175(0x286)]()};}catch(_0x342360){continue;}}throw new Error(_0x445175(0xa3a));}throw new Error('Unsupported\x20job\x20type');}async*[_0x4bc902(0x8f9)](_0x300128,_0x3d92a1){const _0x38cf26=_0x4bc902;this[_0x38cf26(0x453)]=await _0x2671ab[_0x38cf26(0x83a)](this['vendorId'],this[_0x38cf26(0x458)]);const _0x2e5b85=this[_0x38cf26(0x453)]['blocks'][_0x38cf26(0x731)](_0x225b15=>_0x225b15[_0x38cf26(0x1aa)]===_0x43b5f6[_0x38cf26(0x4dd)]);for await(const _0x406f51 of async function*(_0x172f1e,_0x302dfc,_0x2f1f39,_0x2dbc87,_0x3359d8){const _0x1a4d5d=_0x38cf26,_0x9c4bc7=(0x0,_0x31add3['v4'])(),_0x5ee436=Date[_0x1a4d5d(0xa09)]();if(_0x42d66e['trace']({'jobType':_0x16dfde[_0x1a4d5d(0x436)],'type':_0x1abd5b[_0x1a4d5d(0x8ca)],'jobId':_0x172f1e,'agentId':_0x9c4bc7,'threadId':_0x302dfc[_0x1a4d5d(0x6d7)],'traceLevel':_0x371406[_0x1a4d5d(0x5fd)],'startTime':Date['now'](),'timestamp':Date[_0x1a4d5d(0xa09)](),'blockId':_0x2f1f39['id'],'status':_0x1a4d5d(0x534),'initialPrompt':_0x302dfc[_0x1a4d5d(0x7f7)]}),_0x302dfc['internalContext']){for(const _0x5c5741 in _0x302dfc[_0x1a4d5d(0x9ac)])_0x216bb8(_0x302dfc[_0x1a4d5d(0x9ac)][_0x5c5741],_0x2f1f39,_0x2dbc87,_0x5c5741);}const _0x3457a4={'type':_0x302dfc[_0x1a4d5d(0x1aa)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x1224ea=new _0x365ecd();_0x44be16(_0x172f1e,''+_0x302dfc[_0x1a4d5d(0x7f7)],_0x302dfc,_0x3457a4,_0x2f1f39,_0x2dbc87,_0x3359d8,_0x1224ea);let _0x3b135d='',_0xdcf124={'type':_0x302dfc[_0x1a4d5d(0x1aa)]};for(;;){const _0xff2ef1=await _0x1224ea[_0x1a4d5d(0x3dc)]();if(!_0xff2ef1)break;_0x3b135d+=_0xff2ef1[_0x1a4d5d(0x6dc)],_0xdcf124={'type':_0x302dfc[_0x1a4d5d(0x1aa)],'output':_0xff2ef1['output'],'context':_0x3457a4[_0x1a4d5d(0x218)],'internalContext':{},'inputTokens':(_0x3457a4[_0x1a4d5d(0x219)]??0x0)+(_0xff2ef1[_0x1a4d5d(0x219)]??0x0),'outputTokens':(_0x3457a4[_0x1a4d5d(0x8a4)]??0x0)+(_0xff2ef1[_0x1a4d5d(0x8a4)]??0x0)},yield _0xdcf124;}yield{..._0xdcf124,'output':'','internalContext':_0x2dbc87['find'](_0x171912=>_0x171912[_0x1a4d5d(0x1aa)]===_0x43b5f6['Answer'])?.['accumulated']?.['context']??{}};const {inputTokens:_0x3414e6=0x0,outputTokens:_0x38e154=0x0,context:_0x4861c5=[]}=_0xdcf124;_0x42d66e[_0x1a4d5d(0x565)]({'jobType':_0x16dfde[_0x1a4d5d(0x436)],'type':_0x1abd5b[_0x1a4d5d(0x3a4)],'jobId':_0x172f1e,'agentId':_0x9c4bc7,'threadId':_0x302dfc[_0x1a4d5d(0x6d7)],'traceLevel':_0x371406['Info'],'startTime':_0x5ee436,'timestamp':Date['now'](),'blockId':_0x2f1f39['id'],'status':_0x1a4d5d(0x534),'output':_0x3b135d,'prompt':_0x302dfc[_0x1a4d5d(0x7f7)],'agentName':'','history':_0x302dfc[_0x1a4d5d(0x281)]??[],'instructions':''+(_0x302dfc[_0x1a4d5d(0x88a)]??''),'ragContext':_0x4861c5,'inputTokens':_0x3414e6,'outputTokens':_0x38e154});}(_0x300128,_0x3d92a1,_0x2e5b85,this[_0x38cf26(0x453)][_0x38cf26(0x944)],{'documentParserConnector':this[_0x38cf26(0x121)],'nlpLibraryConnector':this[_0x38cf26(0x820)],'generativeAIWorkerConnectors':this[_0x38cf26(0x45c)],'models':this[_0x38cf26(0x453)][_0x38cf26(0x2d6)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x38cf26(0x428)],'searchConnector':this[_0x38cf26(0x5a1)]}))yield _0x406f51;}['startTracing'](_0x3b16b4,_0x3addbf){const _0x13677b=_0x4bc902;if('rate'===_0x3addbf[_0x13677b(0x1aa)])return _0x3b16b4=_0x3addbf[_0x13677b(0x855)],void this[_0x13677b(0x70e)](_0x3b16b4);this[_0x13677b(0x70e)](_0x3b16b4),_0x42d66e[_0x13677b(0x565)]({'jobType':_0x16dfde[_0x13677b(0x198)],'type':_0x71a845[_0x13677b(0x242)],'traceLevel':_0x371406[_0x13677b(0x5fd)],'jobId':_0x3b16b4,'threadId':_0x3addbf[_0x13677b(0x6d7)],'startTime':Date['now'](),'timestamp':Date[_0x13677b(0xa09)](),'status':_0x13677b(0x534)});}[_0x4bc902(0x1eb)](_0x1bc5f8,_0xc9ecb8){const _0x10d1d8=_0x4bc902;if(_0x10d1d8(0x404)===_0xc9ecb8[_0x10d1d8(0x1aa)])return _0x1bc5f8=_0xc9ecb8[_0x10d1d8(0x855)],void this[_0x10d1d8(0xa06)](_0x1bc5f8);_0x42d66e['trace']({'jobType':_0x16dfde[_0x10d1d8(0x198)],'type':_0x71a845[_0x10d1d8(0x11d)],'traceLevel':_0x371406[_0x10d1d8(0x5fd)],'jobId':_0x1bc5f8,'threadId':_0xc9ecb8['threadId'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x10d1d8(0x534)}),this['closeTrace'](_0x1bc5f8);}async['waitForSyncComplete'](_0x5f5c04){return new Promise(_0x1f5061=>{const _0xa01b25=a0_0x4227;_0x5f5c04['subscribe'](this[_0xa01b25(0x458)],async _0x158037=>{const _0x1cf99a=_0xa01b25;_0x158037[_0x1cf99a(0x919)]===_0x3e2379[_0x1cf99a(0x52c)][_0x1cf99a(0x511)]&&(_0x5f5c04['unsubscribe'](this[_0x1cf99a(0x458)]),_0x1f5061(_0x158037['payload']['filesSynced']));});});}async[_0x4bc902(0x8dd)](_0x10b8c0){const _0x132deb=_0x4bc902;if(!this[_0x132deb(0x4f5)])throw new Error(_0x132deb(0x751));const _0x15376a=await this[_0x132deb(0x4f5)][_0x132deb(0x60e)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x1c75b1 of _0x15376a)if(_0x1c75b1[_0x132deb(0x36b)]===_0x3e2379['ObjectKind']['File']&&_0x1c75b1['pathName']===_0x10b8c0)return _0x1c75b1[_0x132deb(0x8ac)]??_0x1c75b1['pathName'];throw new Error(_0x132deb(0xa41)+_0x10b8c0);}async['loadLocalContent'](){const _0x459592=_0x4bc902;if(!this[_0x459592(0x453)])throw new Error('Workflow\x20not\x20initialized');for(const _0x8989b0 of this[_0x459592(0x356)][_0x459592(0x437)]())try{const _0x3ea222=this[_0x459592(0x453)][_0x459592(0x944)][_0x459592(0x6f4)](_0x183ae0=>(_0x183ae0[_0x459592(0x1aa)]===_0x43b5f6[_0x459592(0x7e8)]||_0x183ae0[_0x459592(0x1aa)]===_0x43b5f6[_0x459592(0x38a)])&&_0x183ae0['ingestBlocks']?.[_0x459592(0x3eb)](_0x4b9faf=>_0x4b9faf['id']===_0x8989b0['getLabel']()));for(let _0x32b4ef=_0x3ea222['length']-0x1;_0x32b4ef>=0x0;_0x32b4ef--)for(const _0x1a145f of _0x3ea222[_0x32b4ef][_0x459592(0x68f)]??[])_0x1a145f['type']===_0x771d08[_0x459592(0x2bc)]&&this['contentMediator'][_0x459592(0x45f)](_0x1a145f['id'])[_0x459592(0x19d)]()&&_0x3ea222[_0x459592(0x483)](_0x32b4ef,0x1),_0x1a145f['type']===_0x771d08[_0x459592(0x19b)]&&this['contentMediator'][_0x459592(0x744)](_0x1a145f['id'])[_0x459592(0x19d)]()&&_0x3ea222['splice'](_0x32b4ef,0x1);const _0x4817bf=new Map();let _0x266076=!0x1;for(const _0x19decd of _0x3ea222){let _0x437093=''+(_0x19decd[_0x459592(0x2bf)]??0x1);for(const _0x5c90e4 of _0x19decd[_0x459592(0x68f)]??[])_0x5c90e4[_0x459592(0x1aa)]===_0x771d08[_0x459592(0x251)]&&(_0x437093=_0x437093+'-'+(_0x5c90e4[_0x459592(0x2bf)]??0x1));for(const _0x335e21 of _0x19decd[_0x459592(0x68f)]??[])_0x335e21[_0x459592(0x1aa)]===_0x771d08[_0x459592(0x2bc)]&&_0x4817bf[_0x459592(0x179)](_0x335e21['id'],{'version':_0x437093,'getDatabase':this['contentMediator'][_0x459592(0x45f)][_0x459592(0x4b0)](this[_0x459592(0x69d)]),'block':_0x335e21}),_0x335e21[_0x459592(0x1aa)]===_0x771d08[_0x459592(0x19b)]&&_0x4817bf[_0x459592(0x179)](_0x335e21['id'],{'version':_0x437093,'getDatabase':this[_0x459592(0x69d)]['getGraphDatabase'][_0x459592(0x4b0)](this['contentMediator']),'block':_0x335e21});}for(const {getDatabase:_0x52b043,block:_0x5894de,version:_0x56fa44}of _0x4817bf[_0x459592(0x437)]())try{const _0x29238b=_0x52b043(_0x5894de['id']);_0x29238b[_0x459592(0x5cf)](_0x56fa44),_0x29238b[_0x459592(0x631)](!0x0),_0x266076=!0x0;}catch(_0x3c1c58){_0x266076=!0x1;break;}if(_0x28bf01['forceLog'](_0x459592(0x629)),_0x266076)continue;_0x28bf01[_0x459592(0x66e)](_0x459592(0x84e));const _0x88495=await _0x8989b0[_0x459592(0x60e)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x459592(0x2ee)](_0x2e0ead[_0x459592(0x95d)],_0x8989b0['getName'](),_0x88495);for(const {getDatabase:_0x5e529e,block:_0x33af9b,version:_0x123dd0}of _0x4817bf[_0x459592(0x437)]()){const _0x5a0a11=_0x5e529e(_0x33af9b['id']);_0x5a0a11[_0x459592(0x2b5)](_0x123dd0),_0x5a0a11[_0x459592(0x631)](!0x0);}}catch(_0x4c5ddd){_0x28bf01[_0x459592(0x1ca)]('Error\x20loading\x20existing\x20content',{'nodeId':this[_0x459592(0x8cc)]['getId'](),'nodeType':this[_0x459592(0x8cc)][_0x459592(0x1aa)]});}}async['loadExternalContent'](){const _0x46a84d=_0x4bc902;for(const _0x574e23 of this[_0x46a84d(0x960)][_0x46a84d(0x437)]())try{const _0x56fe52=await _0x574e23[_0x46a84d(0x60e)]('/',{'recursive':!0x0});await this['syncFolder'](_0x2e0ead[_0x46a84d(0x123)],_0x574e23[_0x46a84d(0x9cb)](),_0x56fe52);}catch(_0x379966){_0x28bf01['error'](_0x46a84d(0x7d6),{'nodeId':this['localNode'][_0x46a84d(0x68a)](),'nodeType':this[_0x46a84d(0x8cc)][_0x46a84d(0x1aa)]});}}async[_0x4bc902(0x2ee)](_0x937999,_0x39bb93,_0x299691){const _0x930b64=_0x4bc902;for(const _0xd92489 of _0x299691){if(_0xd92489['kind']===_0x3e2379[_0x930b64(0x71e)][_0x930b64(0x3aa)]){if(!_0xd92489[_0x930b64(0x87f)]||0x0===_0xd92489[_0x930b64(0x87f)]['length'])continue;await this[_0x930b64(0x2ee)](_0x937999,_0x39bb93,_0xd92489[_0x930b64(0x87f)]);}_0xd92489[_0x930b64(0x36b)]===_0x3e2379[_0x930b64(0x71e)]['File']&&await this[_0x930b64(0x841)](_0x937999,_0x39bb93,_0xd92489[_0x930b64(0x973)]);}}[_0x4bc902(0x2cb)](){const _0x3f05a4=_0x4bc902;for(const _0x30bc72 of this[_0x3f05a4(0x356)]['values']())_0x30bc72[_0x3f05a4(0x9e4)](this[_0x3f05a4(0x458)],async _0x274571=>{const _0x1a0557=_0x3f05a4;switch(_0x274571[_0x1a0557(0x919)]){case _0x3e2379[_0x1a0557(0x52c)][_0x1a0557(0x213)]:this[_0x1a0557(0x330)](_0x2e0ead[_0x1a0557(0x95d)],_0x30bc72[_0x1a0557(0x9cb)](),_0x274571[_0x1a0557(0x148)][_0x1a0557(0x501)][_0x1a0557(0x973)]),await this[_0x1a0557(0x841)](_0x2e0ead[_0x1a0557(0x95d)],_0x30bc72[_0x1a0557(0x9cb)](),_0x274571['payload']['file'][_0x1a0557(0x973)]);break;case _0x3e2379[_0x1a0557(0x52c)][_0x1a0557(0x954)]:this[_0x1a0557(0x330)](_0x2e0ead['ObjectStorage'],_0x30bc72[_0x1a0557(0x9cb)](),_0x274571['payload']['pathName']);}});}[_0x4bc902(0x35d)](){const _0x49ebf0=_0x4bc902;for(const _0x1380ca of this[_0x49ebf0(0x960)][_0x49ebf0(0x437)]())_0x1380ca['subscribe'](this[_0x49ebf0(0x458)],async _0x254844=>{const _0x3c10e1=_0x49ebf0;switch(_0x254844[_0x3c10e1(0x919)]){case _0x3e2379[_0x3c10e1(0x52c)]['FileWrite']:this['removeContent'](_0x2e0ead['ExternalStorage'],_0x1380ca[_0x3c10e1(0x9cb)](),_0x254844[_0x3c10e1(0x148)][_0x3c10e1(0x501)][_0x3c10e1(0x973)]),await this['addContent'](_0x2e0ead[_0x3c10e1(0x123)],_0x1380ca[_0x3c10e1(0x9cb)](),_0x254844[_0x3c10e1(0x148)][_0x3c10e1(0x501)][_0x3c10e1(0x973)]);break;case _0x3e2379[_0x3c10e1(0x52c)][_0x3c10e1(0x954)]:this[_0x3c10e1(0x330)](_0x2e0ead[_0x3c10e1(0x123)],_0x1380ca[_0x3c10e1(0x9cb)](),_0x254844[_0x3c10e1(0x148)][_0x3c10e1(0x973)]);}});}async[_0x4bc902(0x841)](_0x452924,_0x32520c,_0x321ded){const _0xaf0c3d=_0x4bc902;if(_0x28bf01['forceLog'](_0xaf0c3d(0x841),_0x452924,_0x32520c,_0x321ded),!this[_0xaf0c3d(0x453)])throw new Error(_0xaf0c3d(0x1db));let _0x356d1b;switch(_0x452924){case _0x2e0ead[_0xaf0c3d(0x95d)]:_0x356d1b=_0x771d08[_0xaf0c3d(0x124)];break;case _0x2e0ead[_0xaf0c3d(0x123)]:_0x356d1b=_0x771d08[_0xaf0c3d(0x9cc)];}if(!_0x356d1b)return;const _0x257635=this[_0xaf0c3d(0x453)][_0xaf0c3d(0x944)][_0xaf0c3d(0x6f4)](_0x1e917e=>_0x1e917e[_0xaf0c3d(0x1aa)]===_0x43b5f6['Knowledge']||_0x1e917e['type']===_0x43b5f6['DataCollection']),_0x2d19f8=new Set(_0x257635[_0xaf0c3d(0x8a3)](_0x158863=>_0x158863['id'])),_0x1c5269=_0x257635[_0xaf0c3d(0x6f4)](_0x3102a6=>_0x3102a6['ingestBlocks']?.['some'](_0x401c51=>_0x401c51['type']===_0x356d1b&&_0x401c51['id']===_0x32520c));for(const _0x53b72f of _0x1c5269){if(!_0x2d19f8[_0xaf0c3d(0x5f9)](_0x53b72f['id']))continue;_0x2d19f8[_0xaf0c3d(0x24c)](_0x53b72f['id']);const _0x14b914=_0x53b72f[_0xaf0c3d(0x68f)]?.['find'](_0x2c6c03=>_0x2c6c03[_0xaf0c3d(0x1aa)]===_0x356d1b&&_0x2c6c03['id']===_0x32520c);if(!_0x14b914)continue;const _0x3edb81=(0x0,_0x31add3['v4'])();_0x42d66e[_0xaf0c3d(0x70e)](null,_0x3edb81),await _0x3c3f2a(_0x3edb81,_0x321ded,_0x14b914,_0x53b72f[_0xaf0c3d(0x68f)],{'documentParserConnector':this[_0xaf0c3d(0x121)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0xaf0c3d(0x45c)],'models':this[_0xaf0c3d(0x453)]['models'],'contentMediator':this[_0xaf0c3d(0x69d)],'searchApiKey':this[_0xaf0c3d(0x428)],'version':_0x53b72f[_0xaf0c3d(0x2bf)]??0x1}),_0x42d66e['closeTrace'](_0x3edb81);}this[_0xaf0c3d(0x90f)]();}[_0x4bc902(0x330)](_0x1797c0,_0x37276e,_0x4b06da){const _0x108a38=_0x4bc902;if(_0x28bf01[_0x108a38(0x66e)](_0x108a38(0x330),_0x1797c0,_0x37276e,_0x4b06da),!this['workflow'])throw new Error(_0x108a38(0x1db));let _0x565dc4;switch(_0x1797c0){case _0x2e0ead[_0x108a38(0x95d)]:_0x565dc4=_0x771d08['ObjectStorageUpload'];break;case _0x2e0ead['ExternalStorage']:_0x565dc4=_0x771d08['ExternalStorageUpload'];}if(!_0x565dc4)return;const _0x369b70=this[_0x108a38(0x453)]['blocks'][_0x108a38(0x6f4)](_0x423d75=>_0x423d75[_0x108a38(0x1aa)]===_0x43b5f6[_0x108a38(0x38a)]||_0x423d75['type']===_0x43b5f6[_0x108a38(0x7e8)]),_0x4efb75=new Set(_0x369b70['map'](_0x40bdc3=>_0x40bdc3['id'])),_0x542f2a=_0x369b70['filter'](_0x98f42c=>_0x98f42c[_0x108a38(0x68f)]?.[_0x108a38(0x3eb)](_0x37eb7a=>_0x37eb7a[_0x108a38(0x1aa)]===_0x565dc4&&_0x37eb7a['id']===_0x37276e));for(const _0x27d329 of _0x542f2a){if(!_0x4efb75[_0x108a38(0x5f9)](_0x27d329['id']))continue;_0x4efb75[_0x108a38(0x24c)](_0x27d329['id']);let _0x52f886=''+(_0x27d329[_0x108a38(0x2bf)]??0x1);for(const _0x41afe4 of _0x27d329['ingestBlocks']??[])_0x41afe4[_0x108a38(0x1aa)]===_0x771d08['Agent']&&(_0x52f886=_0x52f886+'-'+(_0x41afe4[_0x108a38(0x2bf)]??0x1));for(const _0xa6d2b0 of _0x27d329[_0x108a38(0x68f)]??[]){if(_0xa6d2b0[_0x108a38(0x1aa)]===_0x771d08['VectorDatabase']){const _0x3c4b97=this[_0x108a38(0x69d)][_0x108a38(0x45f)](_0xa6d2b0['id']);_0x3c4b97[_0x108a38(0x706)](_0x4b06da),_0x3c4b97[_0x108a38(0x19d)]()&&_0x3c4b97[_0x108a38(0x2b5)](_0x52f886);}if(_0xa6d2b0[_0x108a38(0x1aa)]===_0x771d08['GraphDatabase']){const _0x38d492=this[_0x108a38(0x69d)]['getGraphDatabase'](_0xa6d2b0['id']);_0x38d492[_0x108a38(0x706)](_0x4b06da),_0x38d492['getIsLoaded']()&&_0x38d492['saveToDisk'](_0x52f886);}}}this[_0x108a38(0x90f)]();}[_0x4bc902(0x663)](){const _0x111d02=_0x4bc902;try{return this[_0x111d02(0x723)][_0x111d02(0x654)]()['gpu'][_0x111d02(0x200)]*(0x1-this[_0x111d02(0x723)][_0x111d02(0x654)]()[_0x111d02(0x825)][_0x111d02(0x9d1)]);}catch(_0x522a78){return _0x28bf01[_0x111d02(0x5e2)](_0x4f63ff[_0x111d02(0x3f9)],_0x111d02(0x792),_0x522a78),0x0;}}[_0x4bc902(0x90f)](){const _0xc5f3cf=_0x4bc902;this[_0xc5f3cf(0x40f)]&&(this[_0xc5f3cf(0x4fb)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x3cebdc=_0xc5f3cf;if(delete this[_0x3cebdc(0x4fb)],!this[_0x3cebdc(0x4f5)])return;let _0x53c98e=await this[_0x3cebdc(0x4f5)][_0x3cebdc(0x592)]();for(const _0x37fad0 of this['dataStores'][_0x3cebdc(0x437)]())_0x53c98e+=await _0x37fad0['getSize']();this['systemTopic']['publish']({'sourceId':_0x2da599,'messageType':_0x18db64['Content'],'content':{'type':_0x5b4969['GenerativeAIWorkerStats'],'label':this['label'],'stats':{'timestamp':Date[_0x3cebdc(0xa09)](),'storage':_0x53c98e,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x3cebdc(0x61c)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x3cebdc(0x62a)]}}});},_0x212304));}[_0x4bc902(0x927)](_0x1b58ba,_0x42be0e){const _0x1ac1ca=_0x4bc902,_0x3e786f=this[_0x1ac1ca(0x458)],_0x42cce7=this[_0x1ac1ca(0x827)]();_0x28bf01[_0x1ac1ca(0x927)](_0x1aded9[_0x1ac1ca(0x7aa)],{'topic':_0x3e786f,'type':_0x1ac1ca(0x707),'nodeId':_0x42cce7,'tokenCount':_0x42be0e,'tokensPerSecond':_0x1b58ba});}[_0x4bc902(0x70e)](_0x2c134b){const _0x5f02f4=_0x4bc902;try{if(!this[_0x5f02f4(0x453)])throw new Error('Workflow\x20not\x20initialized');if(!this[_0x5f02f4(0x5f2)])throw new Error('Logging\x20database\x20not\x20initialized');if(!_0x42d66e[_0x5f02f4(0x70e)](this[_0x5f02f4(0x5f2)],_0x2c134b))throw new Error(_0x5f02f4(0x782));return _0x2c134b;}catch(_0x547594){return console['error'](_0x5f02f4(0x782),_0x547594),_0x5f02f4(0x1ad);}}['closeTrace'](_0xc37c0c){const _0x5d81c3=_0x4bc902;try{_0x42d66e[_0x5d81c3(0xa06)](_0xc37c0c);}catch(_0x3de35c){console['error'](_0x5d81c3(0x5ae),{'jobId':_0xc37c0c,'error':_0x3de35c});}}async[_0x4bc902(0x90e)](){return new Promise(_0x409e0d=>{const _0x449771=a0_0x4227;try{const _0x4c3178=_0x294071(this[_0x449771(0x203)],this[_0x449771(0x458)]);this[_0x449771(0x5f2)]=this[_0x449771(0x69d)][_0x449771(0x7c5)](_0x4c3178),this[_0x449771(0x5f2)]['subscribe'](({event:_0x381d00})=>{const _0x551513=_0x449771;_0x381d00===_0x3e2379['DatabaseEvent']['SyncComplete']&&(this[_0x551513(0x5f2)][_0x551513(0x80f)](),_0x409e0d());});}catch(_0x3a6538){console['error'](_0x449771(0x6d6)+_0x294071(this['vendorId'],this[_0x449771(0x458)])+_0x449771(0x70d),_0x3a6538),_0x409e0d();}});}}class _0xd8d732 extends _0x1c7b24{[_0x4bc902(0x8cc)];[_0x4bc902(0x6a2)];['vendorId'];['db'];[_0x4bc902(0x4fb)];[_0x4bc902(0x789)]=0x0;[_0x4bc902(0x8a9)]=0x0;[_0x4bc902(0x4bc)]=!0x1;constructor(_0x207157,_0x50ea73,_0x6e28f,_0x4e769c,_0x17075c){const _0x51d21f=_0x4bc902;if(_0x51d21f(0x351)!=typeof _0x50ea73)throw new _0x4b6430(_0x2bb2b4[_0x51d21f(0x98c)],_0x51d21f(0x8af));super(_0x207157,_0x50ea73),this['localNode']=_0x207157,this[_0x51d21f(0x6a2)]=_0x6e28f,this[_0x51d21f(0x203)]=_0x4e769c;const _0x14ca83=_0x51d21f(0x378)+this['vendorId']+_0x51d21f(0x378)+this[_0x51d21f(0x6a2)]+_0x51d21f(0x378)+this[_0x51d21f(0x458)];this['db']=new _0x17075c(_0x14ca83),this[_0x51d21f(0x90f)]();}[_0x4bc902(0x19d)](){const _0x2b6027=_0x4bc902;return this[_0x2b6027(0x4bc)];}[_0x4bc902(0x631)](_0x43702f){this['isLoaded']=_0x43702f;}[_0x4bc902(0x42d)](){const _0x5e8cfa=_0x4bc902;clearTimeout(this[_0x5e8cfa(0x4fb)]),delete this[_0x5e8cfa(0x4fb)],super['destroy']();}[_0x4bc902(0x6bf)](){const _0xcfb9ae=_0x4bc902;this[_0xcfb9ae(0x67d)]['publish']({'sourceId':_0x2da599,'messageType':_0x18db64[_0xcfb9ae(0x889)],'content':{'type':_0x5b4969[_0xcfb9ae(0x452)],'label':this['label']}});}['getContentType'](){return _0x3e2379['ContentType']['GraphDatabase'];}[_0x4bc902(0x27e)](){const _0x10d04b=_0x4bc902;this[_0x10d04b(0x90f)]();}[_0x4bc902(0x204)](_0x586595,_0x45aa97,_0x71b2e7,_0x30ba51){const _0xc1d4d2=_0x4bc902;this['db']['addNode'](_0x586595,_0x45aa97,_0x71b2e7,_0x30ba51),this['writes']+=0x1,this[_0xc1d4d2(0x90f)]();}[_0x4bc902(0x94d)](_0x3603c9,_0x19a2be){const _0x29ccf9=_0x4bc902;this['db'][_0x29ccf9(0x94d)](_0x3603c9,_0x19a2be),this['writes']+=0x1,this['sendStats']();}[_0x4bc902(0x5c3)](_0x58826b,_0x52d66a,_0x4f40b9){const _0x2b5a9f=_0x4bc902,_0x138554=this['db'][_0x2b5a9f(0x5c3)](_0x58826b,_0x52d66a,_0x4f40b9);return this['reads']+=0x1,_0x28bf01['logServiceEvent'](_0x1aded9[_0x2b5a9f(0x19b)],{'type':'get-content','label':this[_0x2b5a9f(0x458)],'nodeId':this['localNode'][_0x2b5a9f(0x68a)](),'nodeType':this[_0x2b5a9f(0x8cc)][_0x2b5a9f(0x1aa)],'clusterId':this[_0x2b5a9f(0x6a2)],'size':0x0}),this[_0x2b5a9f(0x90f)](),_0x138554;}[_0x4bc902(0x706)](_0x414f1f){const _0x100cf8=_0x4bc902;this['db']['remove'](_0x414f1f),this[_0x100cf8(0x789)]+=0x1,this[_0x100cf8(0x90f)]();}[_0x4bc902(0x2b5)](_0x548c8e){const _0x357fae=_0x4bc902;this['db'][_0x357fae(0x2b5)](_0x548c8e);}['loadFromDisk'](_0x35fb45){const _0x1429df=_0x4bc902;this['db'][_0x1429df(0x5cf)](_0x35fb45);}[_0x4bc902(0x90f)](){const _0x2283e8=_0x4bc902;this[_0x2283e8(0x4fb)]&&clearTimeout(this[_0x2283e8(0x4fb)]),this['debounceStats']=setTimeout(async()=>{const _0x3ea98b=_0x2283e8;delete this[_0x3ea98b(0x4fb)];const _0x120468=this['db'][_0x3ea98b(0x592)]();this[_0x3ea98b(0x67d)][_0x3ea98b(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64['Content'],'content':{'type':_0x5b4969[_0x3ea98b(0x222)],'label':this[_0x3ea98b(0x458)],'stats':{'timestamp':Date[_0x3ea98b(0xa09)](),'storage':_0x120468,'messagesSent':this[_0x3ea98b(0x5b9)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x3ea98b(0x61c)],'bytesReceived':this[_0x3ea98b(0x137)],'writes':this['writes'],'reads':this[_0x3ea98b(0x8a9)],'prompts':0x0,'tokens':0x0}}}),_0x28bf01['logStorage'](_0x1aded9['GraphDatabase'],_0x3ea98b(0x378)+this[_0x3ea98b(0x6a2)]+_0x3ea98b(0x378)+this[_0x3ea98b(0x458)],_0x120468);},_0x212304);}}class _0x8b7898 extends _0x30b3a1{[_0x4bc902(0xa3c)];constructor(_0x3c96ff,_0x363044,_0xa59ca9){const _0x5cc822=_0x4bc902;super(_0x3c96ff,_0x363044),this[_0x5cc822(0xa3c)]=_0xa59ca9;}[_0x4bc902(0x892)](){const _0x3158cb=_0x4bc902;return _0x3e2379[_0x3158cb(0x41f)][_0x3158cb(0x117)];}['getMediaStream'](){const _0xfbfa36=_0x4bc902;return this[_0xfbfa36(0xa3c)];}[_0x4bc902(0x27c)](){const _0x2c0aa3=_0x4bc902;return this[_0x2c0aa3(0xa3c)]['id'];}}class _0x4cd348 extends _0x8b7898{[_0x4bc902(0x1ae)];[_0x4bc902(0x178)];[_0x4bc902(0x3e4)];[_0x4bc902(0x44f)]=_0x3359b0();constructor(_0x3c30c3,_0x583624,_0x16de77,_0x5bfe1e,_0x34da0b){const _0x4af75b=_0x4bc902;super(_0x3c30c3,_0x583624,_0x16de77),this['remoteId']=_0x5bfe1e,this[_0x4af75b(0x178)]=_0x34da0b;}[_0x4bc902(0x42d)](){const _0x38ad9c=_0x4bc902;this['removeTrack'](_0x38ad9c(0x8c5)),this[_0x38ad9c(0x5fe)](_0x38ad9c(0x47f)),super['destroy']();}[_0x4bc902(0x532)](_0x26c28b){const _0x364f37=_0x4bc902;if(!this[_0x364f37(0x3e4)])throw new _0x3d0311(_0x3d0311[_0x364f37(0x85e)][_0x364f37(0x7ed)],{'label':this[_0x364f37(0x458)],'ownerId':this[_0x364f37(0xa2c)]['getId'](),'remoteId':this[_0x364f37(0x1ae)]});this[_0x364f37(0x3e4)][_0x364f37(0x912)]({'sourceId':this['owner']['getId'](),'content':{'action':_0x2b79dc['Add'],'track':_0x26c28b,'stream':this[_0x364f37(0xa3c)],'priority':_0x3e2379[_0x364f37(0x627)][_0x364f37(0x279)],'params':this[_0x364f37(0x8c7)](_0x26c28b['kind'],this['params'])}});}[_0x4bc902(0x5fe)](_0x5d7cd8){const _0x21216c=_0x4bc902,_0x3f8eb2=this['getTrack'](_0x5d7cd8);if(_0x3f8eb2){if(!this[_0x21216c(0x3e4)])return null;this['topic'][_0x21216c(0x912)]({'sourceId':this[_0x21216c(0xa2c)]['getId'](),'content':{'action':_0x2b79dc[_0x21216c(0x906)],'track':_0x3f8eb2,'stream':this['mediaStream']}});}return _0x3f8eb2;}[_0x4bc902(0x1b3)](_0x1e0dfc){const _0x557c9c=_0x4bc902;if(!this[_0x557c9c(0x3e4)])throw new _0x3d0311(_0x3d0311[_0x557c9c(0x85e)][_0x557c9c(0x7ed)],{'label':this[_0x557c9c(0x458)],'ownerId':this[_0x557c9c(0xa2c)]['getId'](),'remoteId':this[_0x557c9c(0x1ae)]});this[_0x557c9c(0x3e4)]['publish']({'sourceId':this[_0x557c9c(0xa2c)][_0x557c9c(0x68a)](),'content':{'action':_0x2b79dc[_0x557c9c(0x4ea)],'priority':_0x1e0dfc,'stream':this['mediaStream']}});}[_0x4bc902(0x9e4)]({trackKinds:_0x502851,params:_0x512a4e},_0x5e4297){const _0x236efc=_0x4bc902;if(!this['topic'])throw new _0x3d0311(_0x3d0311[_0x236efc(0x85e)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x236efc(0x458)],'ownerId':this[_0x236efc(0xa2c)][_0x236efc(0x68a)](),'remoteId':this['remoteId']});for(const _0xbde3de of this[_0x236efc(0xa3c)]['getTracks']())_0x502851[_0x236efc(0x7f5)](_0xbde3de['kind'])&&this[_0x236efc(0x3e4)][_0x236efc(0x912)]({'sourceId':this['owner'][_0x236efc(0x68a)](),'content':{'action':_0x2b79dc[_0x236efc(0x3a2)],'track':_0xbde3de,'stream':this['mediaStream'],'priority':_0x5e4297,'params':this['getInternalTrackParams'](_0xbde3de['kind'],_0x512a4e)}});}['update']({params:_0x4302fd}){const _0x5b90d3=_0x4bc902;if(!this[_0x5b90d3(0x3e4)])throw new _0x3d0311(_0x3d0311['codes'][_0x5b90d3(0x7ed)],{'label':this[_0x5b90d3(0x458)],'ownerId':this[_0x5b90d3(0xa2c)][_0x5b90d3(0x68a)](),'remoteId':this[_0x5b90d3(0x1ae)]});for(const _0x2b196a of this[_0x5b90d3(0xa3c)][_0x5b90d3(0x9b1)]())this[_0x5b90d3(0x3e4)]['publish']({'sourceId':this['owner'][_0x5b90d3(0x68a)](),'content':{'action':_0x2b79dc['Update'],'stream':this[_0x5b90d3(0xa3c)],'params':this[_0x5b90d3(0x8c7)](_0x2b196a[_0x5b90d3(0x36b)],_0x4302fd)}});}['unsubscribe']({trackKinds:_0x507d86}){const _0x16275a=_0x4bc902;if(this[_0x16275a(0x3e4)]){for(const _0x3381c1 of this[_0x16275a(0xa3c)][_0x16275a(0x9b1)]())_0x507d86[_0x16275a(0x7f5)](_0x3381c1['kind'])&&this[_0x16275a(0x3e4)]['publish']({'sourceId':this[_0x16275a(0xa2c)][_0x16275a(0x68a)](),'content':{'action':_0x2b79dc[_0x16275a(0x906)],'stream':this[_0x16275a(0xa3c)],'track':_0x3381c1}});}}['registerPublisher'](_0x145ce7){const _0x447d5d=_0x4bc902;this[_0x447d5d(0x3e4)]=_0x145ce7;}[_0x4bc902(0x6e8)](_0x1359e2){const _0x341db2=_0x4bc902;_0x1359e2===this[_0x341db2(0x3e4)]&&(delete this[_0x341db2(0x3e4)],this[_0x341db2(0x44f)][_0x341db2(0x912)]());}[_0x4bc902(0x66d)](_0x27cd59){const _0x50b467=_0x4bc902;return this[_0x50b467(0x44f)][_0x50b467(0x9e4)](_0x27cd59);}['getTrack'](_0x4a2a0f){const _0x11db59=_0x4bc902;return this[_0x11db59(0xa3c)][_0x11db59(0x9b1)]()[_0x11db59(0x731)](_0x50a040=>_0x50a040[_0x11db59(0x36b)]===_0x4a2a0f)||null;}['getInternalTrackParams'](_0x3a98e9,_0x20da58){const _0x571441=_0x4bc902;let _0xa09d;return'video'===_0x3a98e9&&_0x20da58?.[_0x571441(0x47f)]&&'boolean'!=typeof _0x20da58[_0x571441(0x47f)]&&(_0xa09d={'kind':'video',..._0x20da58['video']},_0xa09d[_0x571441(0x7f2)]=this['getResolution']()),'audio'===_0x3a98e9&&_0x20da58?.[_0x571441(0x8c5)]&&_0x571441(0x5f5)!=typeof _0x20da58[_0x571441(0x8c5)]&&(_0xa09d={'kind':_0x571441(0x8c5),..._0x20da58[_0x571441(0x8c5)]}),_0xa09d;}[_0x4bc902(0x87b)](){const _0x1ebe12=_0x4bc902;let _0x29eee1={'width':0x0,'height':0x0};const _0x178b70=this['mediaStream'][_0x1ebe12(0x223)]();if(_0x178b70[_0x1ebe12(0x1d8)]>0x0){const _0x11ea90=_0x178b70[0x0][_0x1ebe12(0x2cc)]();_0x11ea90['width']&&_0x11ea90['height']&&(_0x29eee1={'width':_0x11ea90[_0x1ebe12(0x547)],'height':_0x11ea90[_0x1ebe12(0x7da)]});}return _0x29eee1;}}class _0x3df590 extends _0x8b7898{[_0x4bc902(0x6a2)];[_0x4bc902(0x192)]=_0x3e2379[_0x4bc902(0x627)][_0x4bc902(0x279)];[_0x4bc902(0x29d)]=new Map();[_0x4bc902(0x995)]=new Map();constructor(_0x1b316f,_0x2a15d4,_0x3622b9,_0x1b67ab){const _0x1ccb19=_0x4bc902;super(_0x1b316f,_0x2a15d4,_0x3622b9 instanceof MediaStream?_0x3622b9:_0x3622b9[_0x1ccb19(0x5df)]?_0x3622b9['srcObject']:_0x3622b9[_0x1ccb19(0x913)]()),this[_0x1ccb19(0x6a2)]=_0x1b67ab,this['mediaStream']['getTracks']()[_0x1ccb19(0x105)](_0x11db11=>this[_0x1ccb19(0x109)](_0x11db11)),_0x28bf01[_0x1ccb19(0x927)](_0x1aded9[_0x1ccb19(0x53a)],{'type':'publish','label':this[_0x1ccb19(0x458)],'nodeId':this[_0x1ccb19(0xa2c)][_0x1ccb19(0x68a)](),'nodeType':this[_0x1ccb19(0xa2c)][_0x1ccb19(0x1aa)],'clusterId':this[_0x1ccb19(0x6a2)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x1ccb19(0xa3c)][_0x1ccb19(0x9b1)]()['map'](_0x238855=>_0x238855[_0x1ccb19(0x36b)])});}[_0x4bc902(0x42d)](){const _0x45d7e8=_0x4bc902;this[_0x45d7e8(0x995)][_0x45d7e8(0x9e5)]>0x0&&(this['outgoingStreams'][_0x45d7e8(0x105)](_0x25588a=>{const _0x15df5f=_0x45d7e8;_0x25588a[_0x15df5f(0x2ef)](),_0x25588a[_0x15df5f(0x42d)]();}),this['outgoingStreams'][_0x45d7e8(0x984)]()),this['trackEndedListeners'][_0x45d7e8(0x105)](_0x4e8420=>_0x4e8420()),super['destroy']();}[_0x4bc902(0x912)](_0xc691c1){const _0x379958=_0x4bc902;this[_0x379958(0x67d)]['publish']({'sourceId':this['owner'][_0x379958(0x68a)](),'destinationIds':_0xc691c1?[_0xc691c1]:void 0x0,'propagate':!0x0,'messageType':_0x18db64['Content'],'content':{'type':_0x5b4969['PublishMediaStream'],'ownerId':this[_0x379958(0xa2c)][_0x379958(0x68a)](),'label':this[_0x379958(0x458)],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this['mediaStream'][_0x379958(0x9b1)]()[_0x379958(0x8a3)](_0x4082d1=>_0x4082d1[_0x379958(0x36b)])}}});}['unpublish'](){const _0x1b814f=_0x4bc902;this[_0x1b814f(0x67d)][_0x1b814f(0x912)]({'sourceId':this[_0x1b814f(0xa2c)]['getId'](),'propagate':!0x0,'messageType':_0x18db64['Content'],'content':{'type':_0x5b4969[_0x1b814f(0x8eb)],'ownerId':this['owner'][_0x1b814f(0x68a)](),'label':this[_0x1b814f(0x458)]}}),this[_0x1b814f(0x67d)][_0x1b814f(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x1b814f(0x889)],'content':{'type':_0x5b4969[_0x1b814f(0x722)],'label':this[_0x1b814f(0x458)]}}),_0x28bf01[_0x1b814f(0x927)](_0x1aded9[_0x1b814f(0x53a)],{'type':'unpublish','label':this[_0x1b814f(0x458)],'nodeId':this[_0x1b814f(0xa2c)][_0x1b814f(0x68a)](),'nodeType':this['owner'][_0x1b814f(0x1aa)],'clusterId':this[_0x1b814f(0x6a2)],'streamId':this[_0x1b814f(0x27c)]()});}[_0x4bc902(0x9c8)](){return this['priority'];}[_0x4bc902(0x1b3)](_0x3b285e){const _0x3c4ab6=_0x4bc902;this[_0x3c4ab6(0x192)]=_0x3b285e,this[_0x3c4ab6(0x995)][_0x3c4ab6(0x105)](_0x5c369=>_0x5c369[_0x3c4ab6(0x1b3)](_0x3b285e));}[_0x4bc902(0x638)](_0x2aa9bc,_0x511d98){const _0x2e826e=_0x4bc902;if(!this['outgoingStreams'][_0x2e826e(0x5f9)](_0x2aa9bc)){const _0xf387b2=new _0x4cd348(this[_0x2e826e(0xa2c)],this['label'],this['mediaStream'],_0x2aa9bc,_0x511d98),_0x170dec=_0xf387b2[_0x2e826e(0x66d)](()=>{const _0x5f2c17=_0x2e826e;_0x170dec(),this[_0x5f2c17(0x995)][_0x5f2c17(0x985)](_0x2aa9bc)?.[_0x5f2c17(0x42d)](),this[_0x5f2c17(0x995)][_0x5f2c17(0x24c)](_0x2aa9bc);});this[_0x2e826e(0x995)][_0x2e826e(0x179)](_0x2aa9bc,_0xf387b2),_0xf387b2[_0x2e826e(0x75b)](this[_0x2e826e(0x67d)]);}return this[_0x2e826e(0x995)][_0x2e826e(0x985)](_0x2aa9bc);}[_0x4bc902(0x462)](){return this['mediaStream']['id'];}[_0x4bc902(0x3e9)](_0x33c1a4){const _0xf41cac=_0x4bc902;this[_0xf41cac(0x67d)]['publish']({'sourceId':_0x2da599,'messageType':_0x18db64[_0xf41cac(0x889)],'content':{'type':_0x5b4969[_0xf41cac(0x5a0)],'label':this[_0xf41cac(0x458)],'trackKinds':[_0x33c1a4['kind']]}});}[_0x4bc902(0x109)](_0x1cd58f){const _0x692efc=_0x4bc902,_0x327f5c=()=>this['handleLocalTrackFailure'](_0x1cd58f);_0x1cd58f[_0x692efc(0x1af)]('ended',_0x327f5c),_0x1cd58f[_0x692efc(0x1af)](_0x692efc(0x19a),_0x327f5c),this[_0x692efc(0x29d)]['set'](_0x1cd58f[_0x692efc(0x36b)],()=>{const _0x552d9e=_0x692efc;_0x1cd58f['removeEventListener'](_0x552d9e(0x807),_0x327f5c),_0x1cd58f['removeEventListener'](_0x552d9e(0x19a),_0x327f5c),this[_0x552d9e(0x29d)][_0x552d9e(0x24c)](_0x1cd58f[_0x552d9e(0x36b)]);});}}class _0x4f4b76 extends _0x3df590{[_0x4bc902(0x916)];[_0x4bc902(0x683)]=[];[_0x4bc902(0x2f3)];['audioSource'];[_0x4bc902(0x523)];[_0x4bc902(0x804)];[_0x4bc902(0x554)];[_0x4bc902(0x218)];[_0x4bc902(0x6c7)];constructor(_0x350f8c,_0x3d32cf,_0x353304,_0x323c55,_0x3575d5,_0x424b9e){const _0x3f4bea=_0x4bc902;if(super(_0x350f8c,_0x3d32cf,_0x353304,_0x424b9e),this[_0x3f4bea(0x916)]=_0x3575d5,this[_0x3f4bea(0x2f3)]=this[_0x3f4bea(0xa3c)],this[_0x3f4bea(0x804)]=document[_0x3f4bea(0x9c2)]('video'),this['sourceVideo'][_0x3f4bea(0x2d7)]=!0x0,this['sourceVideo']['muted']=!0x0,this[_0x3f4bea(0x804)][_0x3f4bea(0x5df)]=this[_0x3f4bea(0x2f3)],this['sourceVideo'][_0x3f4bea(0x9d1)](),this['sourceVideo'][_0x3f4bea(0x206)]=()=>{const _0x19028e=_0x3f4bea;this[_0x19028e(0x804)]['play']();},this[_0x3f4bea(0x554)]=document['createElement'](_0x3f4bea(0x554)),this[_0x3f4bea(0x218)]=this['canvas'][_0x3f4bea(0x9d3)]('2d'),this[_0x3f4bea(0xa3c)]=this['canvas']['captureStream'](_0x323c55),this[_0x3f4bea(0x523)]=this[_0x3f4bea(0x916)][_0x3f4bea(0x975)](),this[_0x3f4bea(0x2f3)][_0x3f4bea(0x588)]()['length']>0x0){const _0x34f467=this[_0x3f4bea(0x2f3)]['getAudioTracks']()[0x0];this[_0x3f4bea(0x395)]=this[_0x3f4bea(0x916)][_0x3f4bea(0x7ae)](new MediaStream([_0x34f467])),this['audioSource'][_0x3f4bea(0x11c)](this[_0x3f4bea(0x523)]);}const _0x211294=this['audioDestination'][_0x3f4bea(0x3be)][_0x3f4bea(0x9b1)]()[0x0];this[_0x3f4bea(0xa3c)]['addTrack'](_0x211294),this['interval']=setInterval(()=>{const _0x40bcdb=_0x3f4bea;this[_0x40bcdb(0x554)]['width']=this[_0x40bcdb(0x804)][_0x40bcdb(0x661)],this[_0x40bcdb(0x554)][_0x40bcdb(0x7da)]=this[_0x40bcdb(0x804)][_0x40bcdb(0x8f5)],this[_0x40bcdb(0x804)]['videoWidth']?(0x0!==this[_0x40bcdb(0x2f3)][_0x40bcdb(0x223)]()['length']&&this['clientStream']['getVideoTracks']()[0x0][_0x40bcdb(0x420)]?this[_0x40bcdb(0xa3c)]['getVideoTracks']()[0x0]['enabled']=!0x0:this[_0x40bcdb(0xa3c)]['getVideoTracks']()[0x0]['enabled']=!0x1,0x0!==this[_0x40bcdb(0x2f3)][_0x40bcdb(0x588)]()[_0x40bcdb(0x1d8)]&&this[_0x40bcdb(0x2f3)][_0x40bcdb(0x588)]()[0x0][_0x40bcdb(0x420)]?this[_0x40bcdb(0xa3c)]['getAudioTracks']()[0x0]['enabled']=!0x0:this[_0x40bcdb(0xa3c)][_0x40bcdb(0x588)]()[0x0][_0x40bcdb(0x420)]=!0x1,this[_0x40bcdb(0x218)][_0x40bcdb(0x39a)](this[_0x40bcdb(0x804)],0x0,0x0)):this[_0x40bcdb(0x218)]['clearRect'](0x0,0x0,this[_0x40bcdb(0x554)][_0x40bcdb(0x547)],this['canvas'][_0x40bcdb(0x7da)]);},0x3e8/_0x323c55);}[_0x4bc902(0x42d)](){const _0x34045d=_0x4bc902;clearInterval(this[_0x34045d(0x6c7)]),this['sourceVideo'][_0x34045d(0x706)](),this[_0x34045d(0x554)]['remove'](),this[_0x34045d(0x395)]?.[_0x34045d(0x62c)](),this[_0x34045d(0x523)][_0x34045d(0x62c)](),this[_0x34045d(0xa3c)][_0x34045d(0x9b1)]()[_0x34045d(0x105)](_0x45a228=>{const _0x578b74=_0x34045d;_0x45a228[_0x578b74(0x1fa)](),this['mediaStream'][_0x578b74(0x5fe)](_0x45a228);}),super[_0x34045d(0x42d)]();}[_0x4bc902(0x532)](_0x33eb89){const _0xc342f5=_0x4bc902,_0x12516b=this[_0xc342f5(0x94a)](_0x33eb89['kind']);_0x12516b&&this[_0xc342f5(0x5fe)](_0x12516b),_0xc342f5(0x8c5)!==_0x33eb89['kind']?('video'===_0x33eb89[_0xc342f5(0x36b)]&&this[_0xc342f5(0x322)](_0x33eb89),this['setupTrackEndedListeners'](_0x33eb89)):this[_0xc342f5(0x17d)](_0x33eb89);}[_0x4bc902(0x5fe)](_0x3f27b9){const _0xc18e60=_0x4bc902,_0x35fa3a=this[_0xc18e60(0x369)](_0x3f27b9);return _0x35fa3a&&('audio'===_0x35fa3a['kind']&&(this['audioSource']?.['disconnect'](),this[_0xc18e60(0x395)]=void 0x0),this[_0xc18e60(0x29d)][_0xc18e60(0x985)](_0x35fa3a['kind'])?.(),this[_0xc18e60(0x2f3)]['removeTrack'](_0x35fa3a)),_0x35fa3a;}['replaceTrack'](_0x5c3840){const _0x13d5de=_0x4bc902;this[_0x13d5de(0x5fe)](_0x5c3840['kind']),this[_0x13d5de(0x532)](_0x5c3840);}['setTransformations'](_0x4d5c7d){const _0x3ae29a=_0x4bc902;this[_0x3ae29a(0x683)]=_0x4d5c7d;}[_0x4bc902(0x94a)](_0x43a023){const _0x3154a7=_0x4bc902;return this[_0x3154a7(0x2f3)][_0x3154a7(0x9b1)]()[_0x3154a7(0x731)](_0x2247cd=>_0x2247cd['kind']===_0x43a023)||null;}[_0x4bc902(0x369)](_0x8509b3){const _0x2b1fb=_0x4bc902;return'string'==typeof _0x8509b3?this[_0x2b1fb(0x94a)](_0x8509b3):_0x8509b3;}[_0x4bc902(0x17d)](_0x2afec6){const _0x293dc7=_0x4bc902;'suspended'===this[_0x293dc7(0x916)][_0x293dc7(0x6fe)]&&this['audioContext'][_0x293dc7(0x85a)](),this[_0x293dc7(0x2f3)]['addTrack'](_0x2afec6),this[_0x293dc7(0x395)]=this[_0x293dc7(0x916)][_0x293dc7(0x7ae)](this['clientStream']),this['audioSource'][_0x293dc7(0x11c)](this[_0x293dc7(0x523)]);}[_0x4bc902(0x322)](_0x52a7b3){const _0xeeb32c=_0x4bc902;this['clientStream'][_0xeeb32c(0x532)](_0x52a7b3),this[_0xeeb32c(0x804)]['load']();}}class _0x3accb0 extends _0x3df590{}class _0x5a11eb extends _0x1c7b24{[_0x4bc902(0x8cc)];[_0x4bc902(0x6a2)];[_0x4bc902(0x203)];[_0x4bc902(0x55e)];[_0x4bc902(0x28d)];[_0x4bc902(0x3e1)];['lastTransactionId'];['pendingSyncTransactions']=new Map();[_0x4bc902(0x62e)]=new Map();['pendingFilesSyncing']=new Map();['pendingFilesTransactions']=new Map();[_0x4bc902(0x8ef)]=new Map();['fileSendingMap']=new Map();[_0x4bc902(0xa02)];['eventListener']=_0x545df6();['listenerUnsubscribers']=new Map();[_0x4bc902(0x4fb)];[_0x4bc902(0x789)]=0x0;['reads']=0x0;[_0x4bc902(0x116)]=!0x0;['isSyncing']=!0x0;[_0x4bc902(0x2a2)]=0x0;[_0x4bc902(0x6b7)]=0x0;constructor(_0x4fe1b0,_0x1c5b07,_0x18d1bb,_0x4f3ae2,_0x333513,_0x186d04,_0x2b70de){const _0xcad1c6=_0x4bc902;if(_0xcad1c6(0x351)!=typeof _0x1c5b07)throw new _0x4b6430(_0x2bb2b4[_0xcad1c6(0x166)],_0xcad1c6(0x6c8));super(_0x4fe1b0,_0x1c5b07),this[_0xcad1c6(0x8cc)]=_0x4fe1b0,this[_0xcad1c6(0x6a2)]=_0x18d1bb,this[_0xcad1c6(0x203)]=_0x4f3ae2,this[_0xcad1c6(0x55e)]=_0x333513,this[_0xcad1c6(0x28d)]=_0x2b70de;const _0x1bf3cd=_0xcad1c6(0x378)+this[_0xcad1c6(0x203)]+_0xcad1c6(0x378)+this['clusterId']+_0xcad1c6(0x378)+_0x1c5b07;this[_0xcad1c6(0xa02)]=new _0x186d04(_0x1bf3cd),this['sendStats']();}[_0x4bc902(0x27e)](){this['sendStats']();}[_0x4bc902(0x892)](){const _0x2ac72e=_0x4bc902;return _0x3e2379[_0x2ac72e(0x41f)][_0x2ac72e(0x9f7)];}async['sync'](_0x7cc7a3){const _0x1a08f4=_0x4bc902;void 0x0!==_0x7cc7a3&&(this[_0x1a08f4(0x116)]=_0x7cc7a3),this[_0x1a08f4(0x512)]=!0x0;try{const _0x54f4a0=await this[_0x1a08f4(0xa02)][_0x1a08f4(0x985)](_0x78c08d),_0x18d140=await _0x54f4a0[_0x1a08f4(0x209)]();this[_0x1a08f4(0x5e4)]=_0x18d140;}catch(_0x32f594){}this[_0x1a08f4(0x3e1)]=this[_0x1a08f4(0x4d9)](async(_0x4312f1,_0x488d5e)=>{const _0x6ef0ac=_0x1a08f4;if(!(_0x488d5e instanceof File))try{if(_0x488d5e['payloadType']===_0x151e1a[_0x6ef0ac(0x4c4)])return void this['handleRequestPayload'](_0x488d5e);this[_0x6ef0ac(0x46f)](_0x488d5e);}catch(_0x4b8673){if(_0x4b8673 instanceof _0x3d0311)throw _0x4b8673;throw new _0x3d0311(_0x3d0311[_0x6ef0ac(0x85e)][_0x6ef0ac(0xa08)],{'payload':_0x488d5e});}}),await this[_0x1a08f4(0x6e7)](),this[_0x1a08f4(0x116)]?await this['syncPendingFiles']():this['completeSync'](),this[_0x1a08f4(0x90f)]();}[_0x4bc902(0x42d)](){const _0x3b9af1=_0x4bc902;this[_0x3b9af1(0x3e1)]?.(),this['listenerUnsubscribers'][_0x3b9af1(0x105)](_0x52191c=>_0x52191c()),this[_0x3b9af1(0x9c7)][_0x3b9af1(0x984)](),clearTimeout(this[_0x3b9af1(0x4fb)]),delete this[_0x3b9af1(0x4fb)],super[_0x3b9af1(0x42d)]();}[_0x4bc902(0x6bf)](){const _0x5adf13=_0x4bc902;this['systemTopic']?.[_0x5adf13(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x5adf13(0x889)],'content':{'type':_0x5b4969[_0x5adf13(0x742)],'label':this[_0x5adf13(0x458)]}});}[_0x4bc902(0x9e4)](_0x3c1d83,_0x569295){const _0x43163e=_0x4bc902;if(this[_0x43163e(0x9c7)]['has'](_0x3c1d83))throw new _0x4b6430(_0x2bb2b4['ObjectStoreAlreadySubscribed'],_0x43163e(0x84f));this[_0x43163e(0x9c7)][_0x43163e(0x179)](_0x3c1d83,this[_0x43163e(0x70c)][_0x43163e(0x9e4)](_0x569295)),this[_0x43163e(0x512)]||this[_0x43163e(0x70c)][_0x43163e(0x912)]({'event':_0x3e2379[_0x43163e(0x52c)][_0x43163e(0x511)],'payload':{'filesSynced':this[_0x43163e(0x2a2)]}});}[_0x4bc902(0x80f)](_0x14cf9b){const _0x4edb4b=_0x4bc902;this['listenerUnsubscribers'][_0x4edb4b(0x985)](_0x14cf9b)?.(),this['listenerUnsubscribers'][_0x4edb4b(0x24c)](_0x14cf9b);}[_0x4bc902(0x912)](_0x47f679){const _0x1aaa51=_0x4bc902;switch(_0x47f679[_0x1aaa51(0x20e)]){case _0x3e2379[_0x1aaa51(0x164)]['File']:return this[_0x1aaa51(0x835)](_0x47f679[_0x1aaa51(0x501)],_0x47f679[_0x1aaa51(0x491)],_0x47f679[_0x1aaa51(0x31c)]);case _0x3e2379[_0x1aaa51(0x164)]['Folder']:return this[_0x1aaa51(0x15e)](_0x47f679['path']);case _0x3e2379[_0x1aaa51(0x164)][_0x1aaa51(0x580)]:return this[_0x1aaa51(0x63c)](_0x47f679[_0x1aaa51(0x491)],_0x47f679[_0x1aaa51(0x8f7)]);default:throw new _0x4b6430(_0x2bb2b4[_0x1aaa51(0x9bc)],_0x1aaa51(0x2db)+_0x47f679);}}async[_0x4bc902(0x6cd)](_0x4f0739){const _0x55068f=_0x4bc902;try{const _0x1cb130=(0x0,_0x31add3['v4'])(),_0xfb8097=this[_0x55068f(0x5e4)],_0x410ca2={'payloadType':_0x151e1a[_0x55068f(0x8b5)],'action':_0x3ed460['Delete'],'id':_0x1cb130,'parentId':_0xfb8097,'path':_0x4f0739};await this['publishTransaction'](_0x410ca2);const _0x4e795f=await this[_0x55068f(0x6e1)](_0x4f0739);await this[_0x55068f(0x890)](_0x410ca2),_0x28bf01[_0x55068f(0x927)](_0x1aded9[_0x55068f(0x95d)],{'type':_0x55068f(0x6cd),'label':this[_0x55068f(0x458)],'nodeId':this[_0x55068f(0x8cc)][_0x55068f(0x68a)](),'nodeType':this[_0x55068f(0x8cc)]['type'],'clusterId':this[_0x55068f(0x6a2)],'kind':_0x4e795f,'path':_0x4f0739}),this['writes']+=0x1,this[_0x55068f(0x90f)]();}catch(_0x426275){if(_0x426275 instanceof _0x3d0311)throw new _0x4b6430(_0x2bb2b4[_0x55068f(0x66f)],_0x55068f(0x58a)+_0x4f0739+_0x55068f(0x3bc));throw new _0x4b6430(_0x2bb2b4[_0x55068f(0x72f)],_0x55068f(0x493)+_0x4f0739);}}async[_0x4bc902(0x985)](_0x2b0ad5,_0x275527){const _0x5c1881=_0x4bc902;_0x28bf01[_0x5c1881(0x927)](_0x1aded9[_0x5c1881(0x95d)],{'type':'get','label':this[_0x5c1881(0x458)],'nodeId':this[_0x5c1881(0x8cc)][_0x5c1881(0x68a)](),'nodeType':this[_0x5c1881(0x8cc)]['type'],'clusterId':this['clusterId'],'path':_0x2b0ad5}),this[_0x5c1881(0x8a9)]+=0x1,this['sendStats']();try{return await this[_0x5c1881(0xa02)][_0x5c1881(0x985)](_0x2b0ad5,_0x275527);}catch(_0x310d32){try{await this[_0x5c1881(0xa02)][_0x5c1881(0x985)](_0x2b0ad5+_0x13e147);}catch(_0x15533a){throw new _0x4b6430(_0x2bb2b4['ObjectStoreInvalidPath'],'Cannot\x20get\x20file:\x20'+_0x2b0ad5);}throw new _0x4b6430(_0x2bb2b4[_0x5c1881(0x66f)],'Object\x20store\x20is\x20not\x20in\x20sync');}}async[_0x4bc902(0x60e)](_0x5ba16d,_0x1fa2ba){const _0x240016=_0x4bc902,{recursive:_0x4a7d74=!0x1,includeSyncingFiles:_0x5adcca=!0x1}=_0x1fa2ba??{};_0x28bf01['logServiceEvent'](_0x1aded9[_0x240016(0x95d)],{'type':'list','label':this[_0x240016(0x458)],'nodeId':this['localNode'][_0x240016(0x68a)](),'nodeType':this['localNode'][_0x240016(0x1aa)],'clusterId':this[_0x240016(0x6a2)],'path':_0x5ba16d}),this[_0x240016(0x8a9)]+=0x1,this[_0x240016(0x90f)]();try{const _0x12016a=await this[_0x240016(0xa02)]['list'](_0x5ba16d,_0x4a7d74);return this[_0x240016(0x9df)](_0x12016a,{'recursive':_0x4a7d74,'includeSyncingFiles':_0x5adcca});}catch(_0x47cbf3){throw new _0x4b6430(_0x2bb2b4[_0x240016(0x72f)],_0x240016(0x1d5)+_0x5ba16d);}}['handleNodeJoin'](_0x77002a){const _0xcd32a7=_0x4bc902;this[_0xcd32a7(0x6b7)]+=0x1;for(const _0x3b67b4 of this['objectRequests'][_0xcd32a7(0x437)]())this[_0xcd32a7(0x890)](_0x3b67b4,[_0x77002a]);}['handleNodeLeave'](_0x2085ab){const _0x786093=_0x4bc902;this['nodesConnected']-=0x1;const _0x8b7db5=this[_0x786093(0x3bb)][_0x786093(0x985)](_0x2085ab);if(_0x8b7db5){for(const [_0x7a8052,_0x151796]of _0x8b7db5[_0x786093(0x437)]())this[_0x786093(0x6b9)](_0x7a8052,_0x151796);this['pendingFilesSyncing'][_0x786093(0x24c)](_0x2085ab);}}async[_0x4bc902(0x592)](_0x30cf87='/'){const _0x1f8e98=_0x4bc902;try{return await this[_0x1f8e98(0xa02)][_0x1f8e98(0x5cb)](_0x30cf87);}catch(_0x5126c2){if(_0x5126c2 instanceof Error&&_0x5126c2[_0x1f8e98(0x793)][_0x1f8e98(0x7f5)](_0x1f8e98(0x5b4)))return 0x0;throw new _0x4b6430(_0x2bb2b4['ObjectStoreInvalidPath'],_0x1f8e98(0xa26)+_0x30cf87);}}[_0x4bc902(0x8ea)](){const _0x528673=_0x4bc902;this[_0x528673(0x512)]&&(this[_0x528673(0x512)]=!0x1,this['eventListener'][_0x528673(0x912)]({'event':_0x3e2379[_0x528673(0x52c)][_0x528673(0x511)],'payload':{'filesSynced':this[_0x528673(0x2a2)]}}));}async[_0x4bc902(0x9df)](_0x4a29df,{includeSyncingFiles:_0x217464=!0x1}){const _0x3a86ae=_0x4bc902,_0x4a7a8a=[];for(const _0xcd4700 of _0x4a29df)if(_0xcd4700[_0x3a86ae(0x36b)]!==_0x3e2379['ObjectKind']['Folder']){if(_0xcd4700[_0x3a86ae(0x89d)]!==_0x78c08d){if(_0xcd4700[_0x3a86ae(0x89d)]['endsWith'](_0x13e147)){if(!_0x217464)continue;const _0x2b72a7=_0xcd4700;if(_0x2b72a7['name']=_0x2b72a7[_0x3a86ae(0x89d)][_0x3a86ae(0x8fc)](_0x13e147,''),_0x2b72a7[_0x3a86ae(0x973)]=_0x2b72a7['pathName'][_0x3a86ae(0x8fc)](_0x13e147,''),await this[_0x3a86ae(0x14d)](_0x2b72a7[_0x3a86ae(0x973)])){_0x4a29df['find'](_0x884ade=>_0x884ade[_0x3a86ae(0x973)]===_0x2b72a7[_0x3a86ae(0x973)])[_0x3a86ae(0x1a8)]=_0x3e2379[_0x3a86ae(0x5bf)]['Syncing'];continue;}_0x2b72a7['status']=_0x3e2379[_0x3a86ae(0x5bf)][_0x3a86ae(0x624)];}_0x4a7a8a[_0x3a86ae(0x5b2)](_0xcd4700);}}else _0xcd4700[_0x3a86ae(0x87f)]=await this[_0x3a86ae(0x9df)](_0xcd4700['entries']??[],{'includeSyncingFiles':_0x217464}),_0x4a7a8a[_0x3a86ae(0x5b2)](_0xcd4700);return _0x4a7a8a;}async[_0x4bc902(0x835)](_0x1c427c,_0x381f23,_0x4281ff){const _0x11916c=_0x4bc902;try{const _0x4f35f6=(0x0,_0x31add3['v4'])(),_0x4ba926=await _0xa975ee(_0x1c427c),_0xe2fb2d=_0x5be4f6(_0x381f23??'/',_0x1c427c[_0x11916c(0x89d)]);let _0x3daa22=!0x0;const _0x1824e7={'payloadType':_0x151e1a[_0x11916c(0x8b5)],'action':_0x3ed460['FileWrite'],'id':_0x4f35f6,'parentId':this['lastTransactionId'],'answererId':this[_0x11916c(0x8cc)][_0x11916c(0x68a)](),'name':_0x1c427c[_0x11916c(0x89d)],'type':_0x1c427c[_0x11916c(0x1aa)],'path':_0x381f23??'/','skipEncryption':_0x4281ff?.['skipEncryption']??!0x1,'checksum':_0x4ba926};try{if(!_0x4281ff?.[_0x11916c(0x45e)])throw new Error('Publish\x20the\x20transaction');const _0x528276=_0xe2fb2d+_0x13e147;await this[_0x11916c(0xa02)][_0x11916c(0x985)](_0x528276),_0x3daa22=!0x1,await this[_0x11916c(0xa02)][_0x11916c(0x6e1)](_0x528276),this[_0x11916c(0x62e)][_0x11916c(0x24c)](_0xe2fb2d);}catch(_0x490430){await this[_0x11916c(0x765)](_0x1824e7);}if(this['syncContent']?await this['writeFile'](_0x1c427c,_0x381f23,_0x4281ff):await this[_0x11916c(0x9e2)](_0x1c427c[_0x11916c(0x89d)],_0x381f23??'/',{'checksum':_0x4ba926,'skipEncryption':_0x4281ff?.['skipEncryption']??!0x1}),this[_0x11916c(0x59d)][_0x11916c(0x5f9)](_0xe2fb2d)){const [_0x3042df,_0x299f75]=this['fileSendingMap'][_0x11916c(0x985)](_0xe2fb2d);this[_0x11916c(0x59d)][_0x11916c(0x179)](_0xe2fb2d,[!0x0,_0x299f75]);try{await _0x299f75;}catch(_0x29e16b){}this[_0x11916c(0x59d)]['delete'](_0xe2fb2d);}_0x3daa22&&this[_0x11916c(0x6b7)]>0x0&&await this['sendFile'](_0x1c427c,_0x1824e7),_0x28bf01[_0x11916c(0x927)](_0x1aded9[_0x11916c(0x95d)],{'type':_0x11916c(0x912),'label':this[_0x11916c(0x458)],'nodeId':this[_0x11916c(0x8cc)][_0x11916c(0x68a)](),'nodeType':this[_0x11916c(0x8cc)][_0x11916c(0x1aa)],'clusterId':this['clusterId'],'kind':_0x3e2379[_0x11916c(0x71e)]['File'],'path':_0x381f23,'fileName':_0x1c427c[_0x11916c(0x89d)],'fileType':_0x1c427c[_0x11916c(0x1aa)],'size':_0x1c427c[_0x11916c(0x9e5)]}),this[_0x11916c(0x789)]+=0x1,this[_0x11916c(0x90f)]();}catch(_0x1c97fb){if(_0x1c97fb instanceof _0x3d0311)throw new _0x4b6430(_0x2bb2b4[_0x11916c(0x66f)],_0x11916c(0x866));throw new _0x4b6430(_0x2bb2b4[_0x11916c(0x72f)],_0x11916c(0x930)+_0x381f23+(_0x381f23?.['endsWith']('/')?'':'/')+_0x1c427c[_0x11916c(0x89d)]);}}async[_0x4bc902(0x15e)](_0x4fb512){const _0x5ae3e1=_0x4bc902;try{const _0x1c082a=(0x0,_0x31add3['v4'])(),_0x345b09=this['lastTransactionId'],_0x78a775={'payloadType':_0x151e1a[_0x5ae3e1(0x8b5)],'action':_0x3ed460[_0x5ae3e1(0x84b)],'id':_0x1c082a,'parentId':_0x345b09,'path':_0x4fb512};await this[_0x5ae3e1(0x765)](_0x78a775),await this[_0x5ae3e1(0xa02)][_0x5ae3e1(0x8ee)](_0x4fb512),await this['send'](_0x78a775),_0x28bf01[_0x5ae3e1(0x927)](_0x1aded9['ObjectStorage'],{'type':'publish','label':this['label'],'nodeId':this[_0x5ae3e1(0x8cc)][_0x5ae3e1(0x68a)](),'nodeType':this[_0x5ae3e1(0x8cc)][_0x5ae3e1(0x1aa)],'clusterId':this[_0x5ae3e1(0x6a2)],'kind':_0x3e2379['ObjectKind'][_0x5ae3e1(0x3aa)],'path':_0x4fb512}),this[_0x5ae3e1(0x789)]+=0x1,this[_0x5ae3e1(0x90f)]();}catch(_0x51978e){if(_0x51978e instanceof _0x3d0311)throw new _0x4b6430(_0x2bb2b4[_0x5ae3e1(0x66f)],_0x5ae3e1(0x866));throw new _0x4b6430(_0x2bb2b4[_0x5ae3e1(0x72f)],'Cannot\x20publish\x20folder:\x20'+_0x4fb512);}}async[_0x4bc902(0x63c)](_0x2ae965,_0x4a80c9){const _0x151042=_0x4bc902;try{const _0x45bb33=(0x0,_0x31add3['v4'])(),_0x592b32=this[_0x151042(0x5e4)],_0x5c827f={'payloadType':_0x151e1a[_0x151042(0x8b5)],'action':_0x3ed460[_0x151042(0x580)],'id':_0x45bb33,'parentId':_0x592b32,'path':_0x2ae965,'newPath':_0x4a80c9};await this[_0x151042(0x765)](_0x5c827f);const _0x10913d=await this[_0x151042(0x53d)](_0x2ae965,_0x4a80c9);await this['send'](_0x5c827f),_0x28bf01[_0x151042(0x927)](_0x1aded9[_0x151042(0x95d)],{'type':'move','label':this[_0x151042(0x458)],'nodeId':this['localNode'][_0x151042(0x68a)](),'nodeType':this[_0x151042(0x8cc)][_0x151042(0x1aa)],'clusterId':this[_0x151042(0x6a2)],'kind':_0x10913d,'path':_0x2ae965,'newPath':_0x4a80c9}),this[_0x151042(0x789)]+=0x1,this['sendStats']();}catch(_0x859985){if(_0x859985 instanceof _0x3d0311)throw new _0x4b6430(_0x2bb2b4[_0x151042(0x66f)],_0x151042(0x866));throw new _0x4b6430(_0x2bb2b4[_0x151042(0x72f)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x2ae965);}}async[_0x4bc902(0x46f)](_0x29d7e4,_0x711839=!0x1){const _0x1f4da8=_0x4bc902;if(this[_0x1f4da8(0x5e4)]&&_0x29d7e4[_0x1f4da8(0x254)]!==this[_0x1f4da8(0x5e4)]&&_0x29d7e4['id']!==this[_0x1f4da8(0x5e4)]){if(!_0x29d7e4[_0x1f4da8(0x254)])throw new _0x3d0311(_0x3d0311['codes']['ObjectStoreInvalidSyncMessage']);this[_0x1f4da8(0x9d0)][_0x1f4da8(0x179)](_0x29d7e4[_0x1f4da8(0x254)],_0x29d7e4);}else{try{await this[_0x1f4da8(0x772)](_0x29d7e4,_0x711839);}catch(_0x19ad7d){}await this[_0x1f4da8(0x10c)](_0x29d7e4['id']),await this['processPendingSyncTransactions'](_0x29d7e4['id'],_0x711839);}}async[_0x4bc902(0x772)](_0x270201,_0xc3b4a7=!0x1){const _0x18dd74=_0x4bc902;switch(_0x270201[_0x18dd74(0x20e)]){case _0x3ed460[_0x18dd74(0x213)]:await this[_0x18dd74(0xa3e)](_0x270201);break;case _0x3ed460[_0x18dd74(0x84b)]:await this[_0x18dd74(0x7f9)](_0x270201);break;case _0x3ed460['Move']:await this['handleObjectMove'](_0x270201,_0xc3b4a7);break;case _0x3ed460[_0x18dd74(0x5c1)]:await this[_0x18dd74(0x3b6)](_0x270201,_0xc3b4a7);break;default:throw new _0x3d0311(_0x3d0311[_0x18dd74(0x85e)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x270201});}}async[_0x4bc902(0x888)](_0x561696,_0x22648e=!0x1){const _0x264954=_0x4bc902;if(this[_0x264954(0x9d0)]['has'](_0x561696)){const _0x4ce21b=this[_0x264954(0x9d0)][_0x264954(0x985)](_0x561696);this['pendingSyncTransactions']['delete'](_0x561696),await this['handleTransactionPayload'](_0x4ce21b,_0x22648e);}}async[_0x4bc902(0x907)](_0x344485){const _0x417410=_0x4bc902;switch(_0x344485[_0x417410(0x20e)]){case _0x3ed460[_0x417410(0xa1d)]:return this[_0x417410(0x60b)](_0x344485);case _0x3ed460['RequestAccepted']:return this[_0x417410(0x5fb)](_0x344485);case _0x3ed460['RequestFileSync']:return this[_0x417410(0x7d9)](_0x344485);case _0x3ed460['RequestFileWrite']:return this['handleFileWrite'](_0x344485);default:throw new _0x3d0311(_0x3d0311['codes'][_0x417410(0xa08)],{'payload':_0x344485});}}async[_0x4bc902(0xa3e)](_0x36ad39,_0xb9d17f=0x0){const _0x331764=_0x4bc902,_0x3b8846=_0x5be4f6(_0x36ad39['path'],_0x36ad39['name']);if(!_0x36ad39[_0x331764(0x463)]||void 0x0===_0x36ad39[_0x331764(0x3c7)]||!_0x36ad39['total'])return this[_0x331764(0x901)][_0x331764(0x24c)](_0x3b8846),void await this[_0x331764(0x9e2)](_0x36ad39[_0x331764(0x89d)],_0x36ad39[_0x331764(0x491)],{'checksum':_0x36ad39['checksum'],'skipEncryption':_0x36ad39[_0x331764(0x59f)]});if(this[_0x331764(0x901)][_0x331764(0x5f9)](_0x3b8846)){const _0x227a6b=this[_0x331764(0x901)]['get'](_0x3b8846);_0x227a6b[_0x331764(0x556)]!==_0x36ad39['checksum']&&(_0x227a6b['stream']?.[_0x331764(0x6bf)](),this['fileChunks'][_0x331764(0x24c)](_0x3b8846));}if(!this['fileChunks']['has'](_0x3b8846)){try{await this[_0x331764(0xa02)][_0x331764(0x6e1)](_0x3b8846);}catch(_0x37b7f0){}try{const _0x2c6729=this[_0x331764(0x116)]?await this[_0x331764(0xa02)]['createWritableStream'](_0x3b8846,{'skipEncryption':_0x36ad39[_0x331764(0x59f)]}):void 0x0,_0x4c2b22={'chunksReceived':_0x36ad39['startIndex']??0x0,'bytesReceived':0x0,'stream':_0x2c6729,'checksum':_0x36ad39[_0x331764(0x556)]};this[_0x331764(0x901)][_0x331764(0x179)](_0x3b8846,_0x4c2b22),await this[_0x331764(0x9e2)](_0x36ad39[_0x331764(0x89d)],_0x36ad39[_0x331764(0x491)],{'checksum':_0x36ad39[_0x331764(0x556)],'skipEncryption':_0x36ad39[_0x331764(0x59f)]});}catch(_0x30640f){}}const _0x5ee21c=this[_0x331764(0x901)]['get'](_0x3b8846);if(_0x36ad39[_0x331764(0x556)]!==_0x5ee21c[_0x331764(0x556)])return;if(this['setPendingFileSyncingPayload'](_0x36ad39,_0x3b8846),this[_0x331764(0x116)]){if(!_0x5ee21c[_0x331764(0x3be)])throw new _0x3d0311(_0x3d0311[_0x331764(0x85e)][_0x331764(0xa08)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x2c3d49=_0x5ee21c[_0x331764(0x6f5)];if(_0x36ad39[_0x331764(0x3c7)]!==_0x2c3d49){if(_0x2c3d49>_0x36ad39[_0x331764(0x3c7)])return;const _0x1ec97d=2064.1259842519685;if(_0x36ad39[_0x331764(0x3c7)]>_0x2c3d49+_0x1ec97d)return;if(_0x5ee21c[_0x331764(0x666)]||(_0x5ee21c[_0x331764(0x666)]=[]),_0x5ee21c[_0x331764(0x666)][_0x331764(0x1d8)]>8256.503937007874)throw this[_0x331764(0x901)][_0x331764(0x24c)](_0x3b8846),new _0x3d0311(_0x3d0311[_0x331764(0x85e)][_0x331764(0xa08)],{'message':_0x331764(0x142)});return void _0x5ee21c[_0x331764(0x666)][_0x331764(0x5b2)](_0x36ad39);}try{_0x5ee21c[_0x331764(0x6f5)]+=0x1,_0x5ee21c[_0x331764(0x137)]+=_0x36ad39[_0x331764(0x463)][_0x331764(0x82d)],await _0x5ee21c[_0x331764(0x3be)][_0x331764(0x72b)](_0x36ad39[_0x331764(0x463)]);}catch(_0x2e0963){if(console[_0x331764(0x1ca)](_0x331764(0x853),_0x2e0963),_0xb9d17f>0x3)throw this[_0x331764(0x901)][_0x331764(0x24c)](_0x3b8846),console[_0x331764(0x1ca)](_0x331764(0x564),_0x2e0963),new _0x3d0311(_0x3d0311['codes'][_0x331764(0xa08)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream'});return this[_0x331764(0xa3e)](_0x36ad39,_0xb9d17f+0x1);}}try{await this[_0x331764(0x6a7)](_0x5ee21c,_0x36ad39[_0x331764(0x3c7)]+0x1);}catch(_0x19ab60){throw this['fileChunks']['delete'](_0x3b8846),_0x19ab60;}if(this[_0x331764(0x901)][_0x331764(0x179)](_0x3b8846,_0x5ee21c),_0x5ee21c[_0x331764(0x6f5)]<_0x36ad39['total'])return;await this[_0x331764(0x2b4)](_0x3b8846),this[_0x331764(0x116)]&&(await this[_0x331764(0x324)](_0x36ad39),_0x28bf01[_0x331764(0x927)](_0x1aded9[_0x331764(0x95d)],{'type':'sync','label':this[_0x331764(0x458)],'nodeId':this[_0x331764(0x8cc)][_0x331764(0x68a)](),'nodeType':this[_0x331764(0x8cc)][_0x331764(0x1aa)],'clusterId':this[_0x331764(0x6a2)],'kind':_0x3e2379['ObjectKind'][_0x331764(0x734)],'path':_0x36ad39[_0x331764(0x491)],'fileName':_0x36ad39['name'],'fileType':_0x36ad39['type'],'size':_0x5ee21c['bytesReceived']}));const _0x235426=this[_0x331764(0x685)]['get'](_0x36ad39['path'])??[];for(const _0xb5ec96 of _0x235426)await this[_0x331764(0x772)](_0xb5ec96);this[_0x331764(0x685)][_0x331764(0x24c)](_0x36ad39[_0x331764(0x491)]),this[_0x331764(0x70c)][_0x331764(0x912)]({'event':_0x3e2379[_0x331764(0x52c)]['FileWrite'],'payload':{'file':{'kind':_0x3e2379['ObjectKind'][_0x331764(0x734)],'path':_0x36ad39['path'],'type':_0x36ad39[_0x331764(0x1aa)],'size':_0x5ee21c['bytesReceived'],'name':_0x36ad39['name'],'pathName':_0x3b8846,'status':this['syncContent']?_0x3e2379['FileStatus']['Synced']:_0x3e2379[_0x331764(0x5bf)][_0x331764(0x624)]}}}),this[_0x331764(0x90f)]();}async[_0x4bc902(0x6a7)](_0x2135e2,_0x58edfb){const _0x34c37a=_0x4bc902,_0x444337=_0x2135e2[_0x34c37a(0x3be)];let _0x49b785=0x0;for(;_0x2135e2[_0x34c37a(0x666)]&&_0x2135e2['bufferedChunks']['length']>0x0;){const _0x5617a4=_0x2135e2['bufferedChunks'][_0x34c37a(0x731)](_0x35c9c9=>_0x35c9c9[_0x34c37a(0x3c7)]===_0x58edfb+0x1);if(!_0x5617a4)break;_0x2135e2[_0x34c37a(0x666)]=_0x2135e2[_0x34c37a(0x666)][_0x34c37a(0x6f4)](_0x27a50c=>_0x27a50c[_0x34c37a(0x3c7)]!==_0x58edfb+0x1);try{await _0x444337[_0x34c37a(0x72b)](_0x5617a4[_0x34c37a(0x463)]),_0x58edfb++;}catch(_0xae3ac8){if(console['error'](_0x34c37a(0x314),_0xae3ac8),_0x49b785>0x3)throw console[_0x34c37a(0x1ca)](_0x34c37a(0x4a7),_0xae3ac8),new _0x3d0311(_0x3d0311['codes']['ObjectStoreInvalidSyncMessage'],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x49b785++;continue;}_0x2135e2['chunksReceived']+=0x1,_0x2135e2[_0x34c37a(0x137)]+=_0x5617a4['data'][_0x34c37a(0x82d)];}}async[_0x4bc902(0x7f9)](_0x2b3075){const _0x578592=_0x4bc902;await this[_0x578592(0xa02)]['createFolder'](_0x2b3075[_0x578592(0x491)]);const [_0x41fe1c,_0x58c326]=_0x169b23(_0x2b3075[_0x578592(0x491)]);this[_0x578592(0x70c)][_0x578592(0x912)]({'event':_0x3e2379[_0x578592(0x52c)][_0x578592(0x84b)],'payload':{'folder':{'kind':_0x3e2379['ObjectKind'][_0x578592(0x3aa)],'name':_0x58c326,'path':_0x41fe1c,'pathName':_0x2b3075[_0x578592(0x491)]}}});}async[_0x4bc902(0x3b6)](_0x2ece9c,_0x2555b8=!0x1){const _0xd19d54=_0x4bc902;if(!_0x2555b8&&!this[_0xd19d54(0x3d8)](_0x2ece9c))return;const _0x33a760=await this[_0xd19d54(0x6e1)](_0x2ece9c[_0xd19d54(0x491)]),[_0x379b48,_0x11673a]=_0x169b23(_0x2ece9c[_0xd19d54(0x491)]);this['eventListener'][_0xd19d54(0x912)]({'event':_0x33a760===_0x3e2379['ObjectKind']['Folder']?_0x3e2379['StorageEventType'][_0xd19d54(0x56d)]:_0x3e2379[_0xd19d54(0x52c)][_0xd19d54(0x954)],'payload':{'name':_0x11673a,'path':_0x379b48,'pathName':_0x2ece9c[_0xd19d54(0x491)]}}),this[_0xd19d54(0x90f)]();}async[_0x4bc902(0x8e5)](_0x1bf965,_0x138093=!0x1){const _0x4951f1=_0x4bc902;if(!_0x138093&&!this[_0x4951f1(0x3d8)](_0x1bf965))return this[_0x4951f1(0x8ef)]['set'](_0x1bf965['newPath'],this[_0x4951f1(0x8ef)][_0x4951f1(0x985)](_0x1bf965[_0x4951f1(0x491)])??_0x1bf965[_0x4951f1(0x491)]),void this[_0x4951f1(0x8ef)][_0x4951f1(0x24c)](_0x1bf965['path']);this[_0x4951f1(0x8ef)][_0x4951f1(0x24c)](_0x1bf965[_0x4951f1(0x491)]);const _0xf6113=await this[_0x4951f1(0xa02)][_0x4951f1(0x53d)](_0x1bf965[_0x4951f1(0x491)],_0x1bf965[_0x4951f1(0x8f7)]),[_0x291e05,_0x11b464]=_0x169b23(_0x1bf965[_0x4951f1(0x491)]),[_0x38c9c6,_0x468d52]=_0x169b23(_0x1bf965[_0x4951f1(0x8f7)]);this['eventListener'][_0x4951f1(0x912)]({'event':_0xf6113===_0x3e2379[_0x4951f1(0x71e)][_0x4951f1(0x3aa)]?_0x3e2379['StorageEventType'][_0x4951f1(0x193)]:_0x3e2379[_0x4951f1(0x52c)][_0x4951f1(0x23a)],'payload':{'name':_0x468d52,'path':_0x38c9c6,'pathName':_0x1bf965['newPath'],'oldName':_0x11b464,'oldPath':_0x291e05,'oldPathName':_0x1bf965['path']}}),this[_0x4951f1(0x90f)]();}['shouldProcessTransaction'](_0x117701){const _0x3040c8=_0x4bc902,_0x4cc20e=this[_0x3040c8(0x8ef)][_0x3040c8(0x985)](_0x117701['path'])??_0x117701[_0x3040c8(0x491)];let _0x1c65df=!0x1;for(const _0x2a027d of this[_0x3040c8(0x901)][_0x3040c8(0x7d2)]())if(_0x2a027d[_0x3040c8(0x648)](_0x4cc20e)){const _0x27e138=this['pendingFilesTransactions']['get'](_0x2a027d)??[];_0x27e138[_0x3040c8(0x5b2)](_0x117701),this[_0x3040c8(0x685)][_0x3040c8(0x179)](_0x2a027d,_0x27e138),_0x1c65df=!0x0;}return!_0x1c65df;}async[_0x4bc902(0x765)](_0x4d8d7c){const _0x3d6484=_0x4bc902;if(!_0x4d8d7c['id'])throw new _0x3d0311(_0x3d0311['codes'][_0x3d6484(0xa08)],{'message':_0x3d6484(0x8bc)});if(_0x4d8d7c[_0x3d6484(0x254)]!==this[_0x3d6484(0x5e4)])throw new _0x3d0311(_0x3d0311[_0x3d6484(0x85e)][_0x3d6484(0x9e8)]);await this['transactionService']['writeTransaction'](_0x4d8d7c,this[_0x3d6484(0x458)]),await this[_0x3d6484(0x10c)](_0x4d8d7c['id']);}async[_0x4bc902(0x10c)](_0x3569fc){const _0x1fd101=_0x4bc902;this[_0x1fd101(0x5e4)]=_0x3569fc;const _0x99b59b=new File([new Blob([this[_0x1fd101(0x5e4)]])],_0x78c08d,{'type':_0x1fd101(0x6c3)});await this['writeFile'](_0x99b59b,'/');}async['handleFileRequest'](_0x228396){const _0x59b3a6=_0x4bc902;try{const _0x5c7a14=await this[_0x59b3a6(0x985)](_0x228396[_0x59b3a6(0x491)]+'/'+_0x228396[_0x59b3a6(0x89d)],{'skipEncryption':_0x228396[_0x59b3a6(0x59f)]}),_0x518686=await _0xa975ee(_0x5c7a14);if(''!==_0x228396[_0x59b3a6(0x556)]&&_0x518686!==_0x228396[_0x59b3a6(0x556)])return;_0x228396[_0x59b3a6(0x3df)]=this[_0x59b3a6(0x8cc)]['getId'](),_0x228396[_0x59b3a6(0x20e)]=_0x3ed460[_0x59b3a6(0x297)],await this['send'](_0x228396,[_0x228396[_0x59b3a6(0x86d)]]);}catch(_0xa8709f){}}async[_0x4bc902(0x5fb)](_0x21dd09){const _0xb04e3c=_0x4bc902,_0x16da5e=_0x5be4f6(_0x21dd09[_0xb04e3c(0x491)],_0x21dd09['name']);if(!this[_0xb04e3c(0x62e)][_0xb04e3c(0x5f9)](_0x16da5e))return;const _0x386e6a=this['objectRequests'][_0xb04e3c(0x985)](_0x16da5e);_0x386e6a[_0xb04e3c(0x20e)]=_0x3ed460[_0xb04e3c(0x299)];const _0x4eb01a=_0x21dd09[_0xb04e3c(0x3df)];if(!_0x4eb01a)throw new _0x3d0311(_0x3d0311[_0xb04e3c(0x85e)][_0xb04e3c(0xa08)],{'message':_0xb04e3c(0x4df)});if(this[_0xb04e3c(0x62e)]['delete'](_0x16da5e),this[_0xb04e3c(0x3bb)][_0xb04e3c(0x5f9)](_0x4eb01a)||this[_0xb04e3c(0x3bb)][_0xb04e3c(0x179)](_0x4eb01a,new Map()),this[_0xb04e3c(0x3bb)][_0xb04e3c(0x985)](_0x4eb01a)[_0xb04e3c(0x179)](_0x16da5e,[_0x386e6a,this[_0xb04e3c(0x7a9)](_0x4eb01a,_0x16da5e)]),_0x386e6a['answererId']=_0x4eb01a,_0x386e6a['startIndex']=this[_0xb04e3c(0x901)]['get'](_0x16da5e)?.[_0xb04e3c(0x6f5)]??0x0,0x0===_0x386e6a['startIndex'])try{const [_0x1017a4,_0xd7f563]=await this[_0xb04e3c(0x97b)](_0x21dd09[_0xb04e3c(0x89d)],_0x21dd09['path'],_0x21dd09[_0xb04e3c(0x556)]);_0x1017a4&&(_0x386e6a[_0xb04e3c(0x3ae)]=_0xd7f563);}catch(_0x35f97e){}this[_0xb04e3c(0x890)](_0x386e6a,[_0x4eb01a]);}async[_0x4bc902(0x7d9)](_0x7ae2c8){const _0x321a03=_0x4bc902,_0x3a532b=_0x5be4f6(_0x7ae2c8[_0x321a03(0x491)],_0x7ae2c8[_0x321a03(0x89d)]),_0x219286=await this[_0x321a03(0x985)](_0x3a532b,{'skipEncryption':_0x7ae2c8[_0x321a03(0x59f)]}),_0x55effe={..._0x7ae2c8,'answererId':this[_0x321a03(0x8cc)]['getId'](),'action':_0x3ed460[_0x321a03(0x455)],'startIndex':_0x7ae2c8[_0x321a03(0x3ae)]??0x0};await this[_0x321a03(0x577)](_0x219286,_0x55effe,[_0x7ae2c8[_0x321a03(0x86d)]]);}async[_0x4bc902(0x577)](_0x806871,_0x5c38fc,_0x565d16){let _0x347489,_0x546d76;const _0x5b569a=new Promise(async(_0x3caf61,_0xb39453)=>{_0x347489=_0x3caf61,_0x546d76=_0xb39453;});return((async()=>{const _0x60f35c=a0_0x4227,_0x34fb70=Math['ceil'](_0x806871[_0x60f35c(0x9e5)]/_0x51bd59);let _0x386a72=_0x5c38fc[_0x60f35c(0x3ae)]??0x0;const _0x1ed74e=_0x5be4f6(_0x5c38fc[_0x60f35c(0x491)],_0x5c38fc[_0x60f35c(0x89d)]);this[_0x60f35c(0x59d)][_0x60f35c(0x179)](_0x1ed74e,[!0x1,_0x5b569a]);for await(const _0x28b51f of async function*(_0x43cc04,_0x182489=0x0,_0x567b27){for await(const _0x833221 of _0x2c0808(_0x43cc04,_0x182489,_0x567b27))yield _0x833221;}(_0x806871,_0x386a72,this[_0x60f35c(0x28d)])){const [_0x5ac1fa]=this[_0x60f35c(0x59d)][_0x60f35c(0x985)](_0x1ed74e)??[];if(_0x5ac1fa)return this['fileSendingMap'][_0x60f35c(0x24c)](_0x1ed74e),void _0x546d76(new Error(_0x60f35c(0x4af)));if(this[_0x60f35c(0x685)][_0x60f35c(0x5f9)](_0x1ed74e)){const _0x38de3b=this[_0x60f35c(0x685)][_0x60f35c(0x985)](_0x1ed74e);for(const _0x3c43d8 of _0x38de3b)if(_0x3c43d8[_0x60f35c(0x20e)]===_0x3ed460['FileWrite']||_0x3c43d8['action']===_0x3ed460[_0x60f35c(0x5c1)])return;}const _0x5a5cb8={..._0x5c38fc,'type':_0x806871['type'],'data':_0x28b51f,'index':_0x386a72,'total':_0x34fb70};this[_0x60f35c(0x890)](_0x5a5cb8,_0x565d16),_0x386a72++;}const _0x32b664=setInterval(async()=>{const _0x5eb663=_0x60f35c;await this[_0x5eb663(0x28d)]()>0x0||(clearInterval(_0x32b664),_0x347489());});this[_0x60f35c(0x59d)][_0x60f35c(0x24c)](_0x1ed74e);})()),_0x5b569a;}async['deletePendingFile'](_0x10d975){const _0x3f39db=_0x4bc902;try{const _0x1e39c2=_0x5be4f6(_0x10d975[_0x3f39db(0x491)],_0x10d975['name']),_0xd55ae8=_0x1e39c2+_0x13e147;await this[_0x3f39db(0x6e1)](_0xd55ae8);const [,_0x282ee1]=this['pendingFilesSyncing']['get'](_0x10d975[_0x3f39db(0x3df)])?.['get'](_0x1e39c2)??[];_0x282ee1&&(clearTimeout(_0x282ee1),this[_0x3f39db(0x3bb)][_0x3f39db(0x985)](_0x10d975[_0x3f39db(0x3df)])[_0x3f39db(0x24c)](_0x1e39c2));}catch(_0x3e41c2){}0x0===this['pendingFilesSyncing']['get'](_0x10d975[_0x3f39db(0x3df)])?.['size']&&this[_0x3f39db(0x3bb)][_0x3f39db(0x24c)](_0x10d975['answererId']),0x0===this[_0x3f39db(0x3bb)][_0x3f39db(0x9e5)]&&0x0===this[_0x3f39db(0x62e)][_0x3f39db(0x9e5)]&&this[_0x3f39db(0x8ea)]();}async[_0x4bc902(0x6e7)](){const _0x2e4877=_0x4bc902;try{const _0x5a5b17=await this['transactionService'][_0x2e4877(0x45d)](this[_0x2e4877(0x458)],this[_0x2e4877(0x5e4)]);for(const _0x9cfead of _0x5a5b17)await this['handleTransactionPayload'](_0x9cfead,!0x0);}catch(_0x495be1){if(_0x495be1 instanceof _0x3d0311&&_0x495be1[_0x2e4877(0x319)]===_0x3d0311[_0x2e4877(0x85e)][_0x2e4877(0x684)]){await this['objectStoreConnector'][_0x2e4877(0x6e1)](_0x78c08d),delete this[_0x2e4877(0x5e4)];try{const _0x1e714d=await this[_0x2e4877(0xa02)][_0x2e4877(0x60e)]('/',!0x1);for(const _0x197632 of _0x1e714d)await this[_0x2e4877(0xa02)][_0x2e4877(0x6e1)](_0x197632[_0x2e4877(0x973)]);}catch(_0x3b52c7){}return await this[_0x2e4877(0x6e7)]();}throw _0x495be1;}}async[_0x4bc902(0x2e4)](){const _0x1ed7e6=_0x4bc902,_0x3f38dd=await this[_0x1ed7e6(0x60e)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x337ea3=async _0x481115=>{const _0x2c588c=_0x1ed7e6;for(const _0x7cec63 of _0x481115){if(_0x7cec63[_0x2c588c(0x36b)]===_0x3e2379[_0x2c588c(0x71e)][_0x2c588c(0x3aa)]){_0x7cec63[_0x2c588c(0x87f)]&&_0x7cec63['entries'][_0x2c588c(0x1d8)]>0x0&&await _0x337ea3(_0x7cec63['entries']);continue;}if(_0x7cec63[_0x2c588c(0x1a8)]!==_0x3e2379['FileStatus'][_0x2c588c(0x624)])continue;const _0x3aa8aa=await this[_0x2c588c(0x985)](_0x7cec63[_0x2c588c(0x973)]+_0x13e147),_0x2a991a=JSON[_0x2c588c(0x1b1)](await _0x3aa8aa['text']()),_0x1177ab=_0x7cec63[_0x2c588c(0x89d)][_0x2c588c(0x8fc)](_0x13e147,''),_0x1aa0dc={'payloadType':_0x151e1a[_0x2c588c(0x4c4)],'action':_0x3ed460[_0x2c588c(0xa1d)],'sourceId':this[_0x2c588c(0x8cc)]['getId'](),'type':'','path':_0x7cec63[_0x2c588c(0x491)],'name':_0x1177ab,'checksum':_0x2a991a['checksum'],'skipEncryption':_0x2a991a['skipEncryption']},_0x3ae813=_0x5be4f6(_0x7cec63[_0x2c588c(0x491)],_0x1177ab);this[_0x2c588c(0x62e)][_0x2c588c(0x179)](_0x3ae813,_0x1aa0dc);}};await _0x337ea3(_0x3f38dd),0x0===this[_0x1ed7e6(0x62e)][_0x1ed7e6(0x9e5)]&&0x0===this['pendingFilesSyncing'][_0x1ed7e6(0x9e5)]&&this[_0x1ed7e6(0x8ea)]();}async[_0x4bc902(0x9e2)](_0x4222e6,_0x588aee,_0x55e57a){const _0x173369=_0x4bc902,_0x39240f=new File([new Blob([JSON[_0x173369(0x80e)](_0x55e57a)])],''+_0x4222e6+_0x13e147,{'type':_0x173369(0x6c3)});await this['writeFile'](_0x39240f,_0x588aee);}async['checkExistingPendingFileContent'](_0x405072,_0x51cb60,_0x1d8d7b){const _0x229d5e=_0x4bc902;try{const _0x1e3847=_0x5be4f6(_0x51cb60,_0x405072),_0x24e541=_0x1e3847+_0x13e147,_0x5d4c08=await this[_0x229d5e(0xa02)]['get'](_0x24e541),{checksum:_0x470022,skipEncryption:_0x15bd8b}=JSON['parse'](await _0x5d4c08[_0x229d5e(0x209)]()),_0x475acb=(await this['objectStoreConnector']['get'](_0x1e3847,{'skipEncryption':_0x15bd8b}))[_0x229d5e(0x9e5)];return _0x470022===_0x1d8d7b&&_0x475acb%_0x51bd59==0x0?[!0x0,Math[_0x229d5e(0x9da)](_0x475acb/_0x51bd59)]:(await this['objectStoreConnector'][_0x229d5e(0x6e1)](_0x1e3847),[!0x1,0x0]);}catch(_0x461385){return[!0x1,0x0];}}[_0x4bc902(0x7a9)](_0x2dbbd1,_0x5e01ea){const _0xbe19d=_0x4bc902,[_0x2e8bd5,_0x1a3d77]=this[_0xbe19d(0x3bb)][_0xbe19d(0x985)](_0x2dbbd1)?.['get'](_0x5e01ea)??[];return _0x1a3d77&&clearTimeout(_0x1a3d77),setTimeout(()=>{const _0x30153b=_0xbe19d,[_0x422925,_0x21bad9]=this['pendingFilesSyncing'][_0x30153b(0x985)](_0x2dbbd1)[_0x30153b(0x985)](_0x5e01ea);this[_0x30153b(0x6b9)](_0x422925,_0x21bad9);},0x927c0);}async[_0x4bc902(0x6b9)](_0xa6f0cd,_0x1fe8b9){const _0x3c37c0=_0x4bc902;clearTimeout(_0x1fe8b9),_0xa6f0cd[_0x3c37c0(0x20e)]=_0x3ed460[_0x3c37c0(0xa1d)],this[_0x3c37c0(0x62e)][_0x3c37c0(0x179)](_0x5be4f6(_0xa6f0cd[_0x3c37c0(0x491)],_0xa6f0cd[_0x3c37c0(0x89d)]),_0xa6f0cd),this[_0x3c37c0(0x890)](_0xa6f0cd);}[_0x4bc902(0x37c)](_0x50ea78,_0x2d33b9){const _0x550337=_0x4bc902;if(!this[_0x550337(0x116)])return;this[_0x550337(0x3bb)]['has'](_0x50ea78[_0x550337(0x3df)])||this[_0x550337(0x3bb)][_0x550337(0x179)](_0x50ea78['answererId'],new Map());const [_0x53920e]=this[_0x550337(0x3bb)]['get'](_0x50ea78['answererId'])['get'](_0x2d33b9)??[{'payloadType':_0x151e1a[_0x550337(0x4c4)],'action':_0x3ed460[_0x550337(0xa1d)],'sourceId':this['localNode'][_0x550337(0x68a)](),'type':_0x50ea78[_0x550337(0x1aa)],'name':_0x50ea78[_0x550337(0x89d)],'path':_0x50ea78['path'],'skipEncryption':_0x50ea78[_0x550337(0x59f)],'checksum':_0x50ea78['checksum'],'answererId':_0x50ea78[_0x550337(0x3df)]}];this[_0x550337(0x3bb)]['get'](_0x50ea78[_0x550337(0x3df)])[_0x550337(0x179)](_0x2d33b9,[_0x53920e,this['getOrResetPendingFileTimeout'](_0x50ea78[_0x550337(0x3df)],_0x2d33b9)]);}async['writeFile'](_0x3c93ba,_0x5802d8,_0x5e59f5){const _0x533cc9=_0x4bc902;this[_0x533cc9(0x512)]&&(this['filesSynced']+=0x1),await this['objectStoreConnector'][_0x533cc9(0x951)](_0x3c93ba,_0x5802d8,_0x5e59f5);}async[_0x4bc902(0x6e1)](_0x323617){const _0x4f03e9=_0x4bc902;try{const _0x983c3a=await this[_0x4f03e9(0xa02)][_0x4f03e9(0x6e1)](_0x323617);if(!_0x323617[_0x4f03e9(0x34d)](_0x13e147))try{await this[_0x4f03e9(0xa02)][_0x4f03e9(0x6e1)](_0x323617+_0x13e147);}catch(_0x46a9ec){}return this[_0x4f03e9(0x512)]&&_0x983c3a===_0x3e2379['ObjectKind'][_0x4f03e9(0x734)]&&(this[_0x4f03e9(0x2a2)]+=0x1),_0x983c3a;}catch(_0x4c029c){return await this['objectStoreConnector'][_0x4f03e9(0x6e1)](_0x323617+_0x13e147);}}async[_0x4bc902(0x53d)](_0x2be2e6,_0x373c8e){const _0x2a793c=_0x4bc902;try{const _0x17d9f6=await this[_0x2a793c(0xa02)][_0x2a793c(0x53d)](_0x2be2e6,_0x373c8e);if(!_0x2be2e6[_0x2a793c(0x34d)](_0x13e147))try{await this['objectStoreConnector'][_0x2a793c(0x53d)](_0x2be2e6+_0x13e147,_0x373c8e+_0x13e147);}catch(_0x422e8e){}return _0x17d9f6;}catch(_0x2c78f0){return await this['objectStoreConnector']['moveObject'](_0x2be2e6+_0x13e147,_0x373c8e+_0x13e147);}}[_0x4bc902(0x90f)](){const _0x325d45=_0x4bc902;this['debounceStats']&&clearTimeout(this[_0x325d45(0x4fb)]),this[_0x325d45(0x4fb)]=setTimeout(async()=>{const _0x9c9e49=_0x325d45;delete this[_0x9c9e49(0x4fb)];const _0x3a5b42=await this[_0x9c9e49(0xa02)][_0x9c9e49(0x5cb)]('/');this[_0x9c9e49(0x67d)]?.[_0x9c9e49(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x9c9e49(0x889)],'content':{'type':_0x5b4969[_0x9c9e49(0x1f0)],'label':this[_0x9c9e49(0x458)],'stats':{'timestamp':Date[_0x9c9e49(0xa09)](),'storage':_0x3a5b42,'messagesSent':this[_0x9c9e49(0x5b9)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x9c9e49(0x61c)],'bytesReceived':this[_0x9c9e49(0x137)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x9c9e49(0x116)]&&_0x28bf01[_0x9c9e49(0x3f7)](_0x1aded9[_0x9c9e49(0x95d)],_0x9c9e49(0x378)+this[_0x9c9e49(0x6a2)]+_0x9c9e49(0x378)+this['label'],_0x3a5b42);},_0x212304);}async['syncedFileExists'](_0x515f28){try{return await this['get'](_0x515f28),!0x0;}catch(_0x57c1b6){return!0x1;}}async['deleteFileChunks'](_0x43dd00){const _0x397a79=_0x4bc902;if(!this[_0x397a79(0x901)]['has'](_0x43dd00))return;const _0x2d4eb1=this[_0x397a79(0x901)][_0x397a79(0x985)](_0x43dd00);if(_0x2d4eb1[_0x397a79(0x3be)])try{await _0x2d4eb1[_0x397a79(0x3be)][_0x397a79(0x6bf)]();}catch(_0x1b40e4){console[_0x397a79(0x1ca)](_0x397a79(0x30d),_0x1b40e4);}this[_0x397a79(0x901)]['delete'](_0x43dd00);}}class _0x345446 extends _0x1c7b24{[_0x4bc902(0x8cc)];[_0x4bc902(0x6a2)];[_0x4bc902(0x3e1)]=new Map();['debounceStats'];constructor(_0x595891,_0x588f7b,_0x5541cd){const _0x184291=_0x4bc902;if(_0x184291(0x351)!=typeof _0x588f7b)throw new _0x4b6430(_0x2bb2b4[_0x184291(0x725)],_0x184291(0x2fb));super(_0x595891,_0x588f7b),this[_0x184291(0x8cc)]=_0x595891,this['clusterId']=_0x5541cd,this[_0x184291(0x90f)]();}[_0x4bc902(0x27e)](){const _0xcfcf60=_0x4bc902;this[_0xcfcf60(0x90f)]();}[_0x4bc902(0x892)](){const _0x2d5132=_0x4bc902;return _0x3e2379[_0x2d5132(0x41f)][_0x2d5132(0x93e)];}[_0x4bc902(0x912)](_0x321d56,_0x39a684){const _0x56b98b=_0x4bc902;_0x28bf01[_0x56b98b(0x5e2)](_0x4f63ff['PubSub'],'PubSubTopic\x20publish',this[_0x56b98b(0x8cc)][_0x56b98b(0x68a)](),_0x321d56,_0x39a684),_0x28bf01[_0x56b98b(0x927)](_0x1aded9[_0x56b98b(0x93e)],{'type':_0x56b98b(0x912),'label':this[_0x56b98b(0x458)],'nodeId':this[_0x56b98b(0x8cc)][_0x56b98b(0x68a)](),'nodeType':this[_0x56b98b(0x8cc)][_0x56b98b(0x1aa)],'clusterId':this[_0x56b98b(0x6a2)],'remoteIds':_0x39a684??[],'contentType':_0x321d56 instanceof File?_0x3e2379[_0x56b98b(0x41f)][_0x56b98b(0x734)]:_0x3e2379[_0x56b98b(0x41f)][_0x56b98b(0x83c)],'size':_0x321d56 instanceof File?_0x321d56[_0x56b98b(0x9e5)]:JSON['stringify'](_0x321d56)[_0x56b98b(0x1d8)]}),this[_0x56b98b(0x90f)](),this[_0x56b98b(0x890)](_0x321d56,_0x39a684);}[_0x4bc902(0x9e4)](_0x3ef0c9,_0x510e71){const _0x54dabf=_0x4bc902;if(this[_0x54dabf(0x3e1)][_0x54dabf(0x5f9)](_0x3ef0c9))throw new _0x4b6430(_0x2bb2b4[_0x54dabf(0x783)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0x54dabf(0x3e1)][_0x54dabf(0x179)](_0x3ef0c9,this[_0x54dabf(0x4d9)]((_0x47eb2f,_0x2f4a86)=>{const _0x626f44=_0x54dabf;_0x626f44(0x463)===_0x3ef0c9&&_0x2f4a86 instanceof File||!('file'!==_0x3ef0c9||_0x2f4a86 instanceof File)||(_0x28bf01[_0x626f44(0x5e2)](_0x4f63ff[_0x626f44(0x93e)],_0x626f44(0x438),this[_0x626f44(0x8cc)][_0x626f44(0x68a)](),_0x47eb2f,_0x2f4a86),_0x28bf01['logServiceEvent'](_0x1aded9[_0x626f44(0x93e)],{'type':'subscribe','label':this[_0x626f44(0x458)],'nodeId':this[_0x626f44(0x8cc)][_0x626f44(0x68a)](),'nodeType':this[_0x626f44(0x8cc)]['type'],'clusterId':this[_0x626f44(0x6a2)],'remoteId':_0x47eb2f,'contentType':_0x3ef0c9,'size':_0x2f4a86 instanceof File?_0x2f4a86[_0x626f44(0x9e5)]:JSON[_0x626f44(0x80e)](_0x2f4a86)[_0x626f44(0x1d8)]}),this['sendStats'](),_0x510e71(_0x47eb2f,_0x2f4a86));}));}[_0x4bc902(0x80f)](_0x5b7988){const _0x256ae4=_0x4bc902;this[_0x256ae4(0x3e1)][_0x256ae4(0x985)](_0x5b7988)?.(),this[_0x256ae4(0x3e1)][_0x256ae4(0x24c)](_0x5b7988);}[_0x4bc902(0x42d)](){const _0x1f0c31=_0x4bc902;this[_0x1f0c31(0x3e1)][_0x1f0c31(0x105)](_0xd2966e=>_0xd2966e()),clearTimeout(this[_0x1f0c31(0x4fb)]),delete this[_0x1f0c31(0x4fb)],super[_0x1f0c31(0x42d)]();}[_0x4bc902(0x6bf)](){const _0x22cc21=_0x4bc902;this[_0x22cc21(0x67d)]?.['publish']({'sourceId':_0x2da599,'messageType':_0x18db64[_0x22cc21(0x889)],'content':{'type':_0x5b4969[_0x22cc21(0x9dd)],'label':this['label']}});}[_0x4bc902(0x90f)](){const _0x41def4=_0x4bc902;this[_0x41def4(0x4fb)]&&clearTimeout(this[_0x41def4(0x4fb)]),this[_0x41def4(0x4fb)]=setTimeout(()=>{const _0x181f5e=_0x41def4;this['systemTopic']?.[_0x181f5e(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x181f5e(0x889)],'content':{'type':_0x5b4969['PubSubTopicStats'],'label':this[_0x181f5e(0x458)],'stats':{'timestamp':Date[_0x181f5e(0xa09)](),'storage':0x0,'messagesSent':this[_0x181f5e(0x5b9)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x181f5e(0x137)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x212304);}}class _0x5a3198 extends _0x8b7898{['localNode'];['internalId'];['availableTrackKinds'];[_0x4bc902(0x6a2)];[_0x4bc902(0x3e1)];[_0x4bc902(0x205)];[_0x4bc902(0x3d6)];[_0x4bc902(0x995)]=new Map();[_0x4bc902(0x5ef)];[_0x4bc902(0x250)]=new Set();[_0x4bc902(0x518)];[_0x4bc902(0x553)]=_0x545df6();['trackEndedListeners']=new Map();constructor(_0x40ebd4,_0x58b0b3,_0x4f8d3c,_0xab3bc9,_0x58bf9d,_0x4a2984){const _0x3fd93f=_0x4bc902;super(_0x58b0b3,_0x4f8d3c,new MediaStream()),this['localNode']=_0x40ebd4,this[_0x3fd93f(0x3c8)]=_0xab3bc9,this[_0x3fd93f(0x74b)]=_0x58bf9d,this[_0x3fd93f(0x6a2)]=_0x4a2984,this['mediaStream'][_0x3fd93f(0x9b1)]()[_0x3fd93f(0x105)](_0x2546b8=>this[_0x3fd93f(0x109)](_0x2546b8));}['destroy'](){const _0x5bb3a2=_0x4bc902;this[_0x5bb3a2(0x995)][_0x5bb3a2(0x9e5)]>0x0&&(this['outgoingStreams'][_0x5bb3a2(0x105)](_0x16522e=>{const _0x32856e=_0x5bb3a2;_0x16522e[_0x32856e(0x2ef)](),_0x16522e[_0x32856e(0x42d)]();}),this[_0x5bb3a2(0x995)][_0x5bb3a2(0x984)]()),this[_0x5bb3a2(0x29d)][_0x5bb3a2(0x105)](_0x52e20e=>_0x52e20e()),this[_0x5bb3a2(0xa3c)][_0x5bb3a2(0x9b1)]()['forEach'](_0x370dc4=>this[_0x5bb3a2(0xa3c)][_0x5bb3a2(0x5fe)](_0x370dc4)),this[_0x5bb3a2(0x3d6)]&&(clearTimeout(this['updateDebounce']),delete this[_0x5bb3a2(0x3d6)]),this[_0x5bb3a2(0x205)]?.(),super[_0x5bb3a2(0x42d)]();}[_0x4bc902(0x953)](_0x2b47ea){const _0x5a9d5d=_0x4bc902;this[_0x5a9d5d(0x3e1)]=_0x2b47ea[_0x5a9d5d(0x9e4)](({content:_0x4ccad4})=>{const _0x4d86f1=_0x5a9d5d;switch(_0x4ccad4[_0x4d86f1(0x20e)]){case _0x2b79dc['RemoteAdd']:if(_0x28bf01[_0x4d86f1(0x5e2)](_0x4f63ff[_0x4d86f1(0x603)],_0x4d86f1(0x754),this[_0x4d86f1(0x8cc)][_0x4d86f1(0x68a)](),this['providerId']),_0x4ccad4[_0x4d86f1(0x3be)]['id']!==this[_0x4d86f1(0x3c8)]||_0x4ccad4['providerId']!==this['providerId'])return;this[_0x4d86f1(0x5fe)](_0x4ccad4[_0x4d86f1(0x41c)][_0x4d86f1(0x36b)]),this[_0x4d86f1(0xa3c)][_0x4d86f1(0x532)](_0x4ccad4['track']);for(const [_0x25d870,_0x240981]of this[_0x4d86f1(0x995)][_0x4d86f1(0x87f)]())try{_0x240981['addTrack'](_0x4ccad4[_0x4d86f1(0x41c)]);}catch(_0x137321){_0x240981['destroy'](),this[_0x4d86f1(0x995)][_0x4d86f1(0x24c)](_0x25d870);}this[_0x4d86f1(0x109)](_0x4ccad4['track']),this[_0x4d86f1(0x95b)](),'video'===_0x4ccad4[_0x4d86f1(0x41c)][_0x4d86f1(0x36b)]&&this['renderElement']&&(this[_0x4d86f1(0xa3c)][_0x4d86f1(0x54a)]?setTimeout(()=>this['renderElement']?.[_0x4d86f1(0x6db)](),0x0):setTimeout(()=>this['renderElement']?.[_0x4d86f1(0x9d1)](),0x0),this[_0x4d86f1(0x5ad)]());break;case _0x2b79dc[_0x4d86f1(0x47d)]:if(_0x4ccad4[_0x4d86f1(0x3be)]['id']!==this[_0x4d86f1(0x3c8)]||_0x4ccad4['providerId']!==this['providerId'])return;this['removeTrack'](_0x4ccad4['track'][_0x4d86f1(0x36b)]),this[_0x4d86f1(0x5ef)]&&_0x4d86f1(0x47f)===_0x4ccad4[_0x4d86f1(0x41c)][_0x4d86f1(0x36b)]&&(this[_0x4d86f1(0x205)]?.(),this['mediaStream'][_0x4d86f1(0x9b1)]()[_0x4d86f1(0x1d8)]>0x0?this['renderElement'][_0x4d86f1(0x9d1)]():this[_0x4d86f1(0x5ef)][_0x4d86f1(0x5df)]=null);}});}[_0x4bc902(0x5fa)](){const _0x4326ae=_0x4bc902;this[_0x4326ae(0x3e1)]?.(),this[_0x4326ae(0x29d)][_0x4326ae(0x105)](_0x4fd3ae=>_0x4fd3ae()),delete this['unsubscribeHandler'];}[_0x4bc902(0x27c)](){const _0x45c328=_0x4bc902;return this[_0x45c328(0x3c8)];}[_0x4bc902(0x5c7)](_0x4f5615){const _0x327c11=_0x4bc902;this[_0x327c11(0x3c8)]=_0x4f5615;}[_0x4bc902(0x613)](){const _0x1bd092=_0x4bc902;return this[_0x1bd092(0x74b)];}['hasTracks'](_0x443eb1){const _0xcd9098=_0x4bc902;for(const _0x28f12e of _0x443eb1||this['availableTrackKinds'])if(!this[_0xcd9098(0xa3c)][_0xcd9098(0x9b1)]()[_0xcd9098(0x731)](_0x3d6965=>_0x3d6965[_0xcd9098(0x36b)]===_0x28f12e))return!0x1;return!0x0;}[_0x4bc902(0x87b)](){const _0x462014=_0x4bc902;let _0x1fb643={'width':0x0,'height':0x0};const _0x12594a=this['mediaStream'][_0x462014(0x223)]();if(_0x12594a[_0x462014(0x1d8)]>0x0){const _0x443fff=_0x12594a[0x0][_0x462014(0x2cc)]();_0x443fff[_0x462014(0x547)]&&_0x443fff[_0x462014(0x7da)]&&(_0x1fb643={'width':_0x443fff[_0x462014(0x547)],'height':_0x443fff[_0x462014(0x7da)]});}return _0x1fb643;}[_0x4bc902(0x838)](_0xfe77bd){const _0x1f31ce=_0x4bc902;for(const _0x5061e8 of _0xfe77bd)if(!this[_0x1f31ce(0x250)][_0x1f31ce(0x5f9)](_0x5061e8))return!0x1;return!0x0;}[_0x4bc902(0x638)](_0x496340,_0x232cc2){const _0x427b31=_0x4bc902;if(!this[_0x427b31(0x995)]['has'](_0x496340)){const _0x4b77dd=new _0x4cd348(this[_0x427b31(0xa2c)],this['label'],this[_0x427b31(0xa3c)],_0x496340,_0x232cc2),_0x4004d0=_0x4b77dd['onUnregisterPublisher'](()=>{const _0x39d241=_0x427b31;_0x4004d0(),this[_0x39d241(0x995)][_0x39d241(0x985)](_0x496340)?.[_0x39d241(0x42d)](),this['outgoingStreams'][_0x39d241(0x24c)](_0x496340);});this[_0x427b31(0x995)][_0x427b31(0x179)](_0x496340,_0x4b77dd),_0x4b77dd['registerSystemPublisher'](this[_0x427b31(0x67d)]);}return this['outgoingStreams'][_0x427b31(0x985)](_0x496340);}[_0x4bc902(0x462)](){const _0x3bc928=_0x4bc902;return this[_0x3bc928(0xa3c)]['id'];}['getPriority'](){const _0x5547fc=_0x4bc902;return _0x3e2379[_0x5547fc(0x627)][_0x5547fc(0x279)];}[_0x4bc902(0x39d)](){const _0xae6bfc=_0x4bc902;return Array['from'](this[_0xae6bfc(0x250)]);}[_0x4bc902(0x9e4)](_0x5382ca){const _0x921ea1=_0x4bc902;let _0x275f21=[];if(_0x5382ca){_0x921ea1(0x14f)!=typeof _0x5382ca[_0x921ea1(0x47f)]||_0x5382ca['video'][_0x921ea1(0x5ef)]instanceof HTMLVideoElement||!this['renderElement']||(_0x5382ca[_0x921ea1(0x47f)]={'renderElement':this[_0x921ea1(0x5ef)]});try{(0x0,_0x3e2379[_0x921ea1(0x9f1)])(_0x5382ca);}catch(_0x1e47cc){throw new _0x4b6430(_0x2bb2b4[_0x921ea1(0x6a6)],_0x921ea1(0x69a));}_0x5382ca[_0x921ea1(0x47f)]&&(_0x275f21[_0x921ea1(0x5b2)]('video'),_0x921ea1(0x5f5)!=typeof _0x5382ca[_0x921ea1(0x47f)]&&_0x5382ca[_0x921ea1(0x47f)][_0x921ea1(0x5ef)]&&(this[_0x921ea1(0x5ef)]=_0x5382ca[_0x921ea1(0x47f)][_0x921ea1(0x5ef)],_0x5382ca['video'][_0x921ea1(0x5ec)]||(_0x5382ca[_0x921ea1(0x47f)][_0x921ea1(0x5ec)]={'width':this['renderElement'][_0x921ea1(0x2d8)],'height':this[_0x921ea1(0x5ef)][_0x921ea1(0x7a5)]}),delete _0x5382ca['video'][_0x921ea1(0x5ef)])),_0x5382ca['audio']&&_0x275f21[_0x921ea1(0x5b2)](_0x921ea1(0x8c5));}else _0x275f21=this[_0x921ea1(0x613)]();this['isSubscribed'](_0x275f21)||(_0x275f21[_0x921ea1(0x105)](_0x529552=>this[_0x921ea1(0x250)][_0x921ea1(0xa19)](_0x529552)),this[_0x921ea1(0x67d)]['publish']({'sourceId':_0x2da599,'messageType':_0x18db64[_0x921ea1(0x889)],'content':{'type':_0x5b4969['SubscribeMediaStream'],'label':this[_0x921ea1(0x458)],'ownerId':this['owner']['getId'](),'trackKinds':_0x275f21,'params':_0x5382ca}}),_0x28bf01[_0x921ea1(0x927)](_0x1aded9['MediaStream'],{'type':_0x921ea1(0x9e4),'label':this[_0x921ea1(0x458)],'nodeId':this[_0x921ea1(0x8cc)][_0x921ea1(0x68a)](),'nodeType':this[_0x921ea1(0x8cc)]['type'],'clusterId':this[_0x921ea1(0x6a2)],'sourceId':this['owner'][_0x921ea1(0x68a)](),'streamId':this[_0x921ea1(0x3c8)],'trackKinds':_0x275f21}));}[_0x4bc902(0x12e)](_0x8bf316){const _0x375087=_0x4bc902;try{(0x0,_0x3e2379['isValidMediaSubscriptionParams'])(_0x8bf316);}catch(_0x54fd79){throw new _0x4b6430(_0x2bb2b4[_0x375087(0x6a6)],_0x375087(0x69a));}this['updateDebounce']&&clearTimeout(this['updateDebounce']),this['updateDebounce']=setTimeout(()=>{const _0x35f116=_0x375087;delete this[_0x35f116(0x3d6)],this[_0x35f116(0x67d)][_0x35f116(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x35f116(0x889)],'content':{'type':_0x5b4969['UpdateMediaStream'],'label':this['label'],'ownerId':this[_0x35f116(0xa2c)]['getId'](),'params':_0x8bf316}});},0x1f4);}[_0x4bc902(0x80f)](_0x42327b){const _0x54332d=_0x4bc902;_0x42327b||(_0x42327b=this[_0x54332d(0x613)]()),(_0x42327b=Array['isArray'](_0x42327b)?_0x42327b:[_0x42327b])[_0x54332d(0x105)](_0x30f2f2=>this[_0x54332d(0x250)][_0x54332d(0x24c)](_0x30f2f2)),this['systemTopic']['publish']({'sourceId':_0x2da599,'messageType':_0x18db64[_0x54332d(0x889)],'content':{'type':_0x5b4969[_0x54332d(0xa15)],'label':this[_0x54332d(0x458)],'ownerId':this[_0x54332d(0xa2c)][_0x54332d(0x68a)](),'trackKinds':_0x42327b,'remainingTracks':this[_0x54332d(0x250)]['size']}});}['onProviderChange'](_0x4b2c59){const _0x25b549=_0x4bc902;return this[_0x25b549(0x553)][_0x25b549(0x9e4)](_0x4b2c59);}['getProviderId'](){return this['providerId'];}['setProviderId'](_0xa328a3){const _0x587e51=_0x4bc902;this[_0x587e51(0x518)]!==_0xa328a3&&(this['providerId']=_0xa328a3,this[_0x587e51(0x553)]['publish'](_0xa328a3));}[_0x4bc902(0x268)](_0x44c416){const _0x5dc945=_0x4bc902;this[_0x5dc945(0x29d)][_0x5dc945(0x985)](_0x44c416)?.(),this['trackEndedListeners'][_0x5dc945(0x24c)](_0x44c416);}[_0x4bc902(0x5fe)](_0x326700){const _0x3a9cdc=_0x4bc902,_0x1fa90f=this[_0x3a9cdc(0xa3c)][_0x3a9cdc(0x9b1)]()[_0x3a9cdc(0x731)](_0x1dc25a=>_0x1dc25a[_0x3a9cdc(0x36b)]===_0x326700);_0x1fa90f&&(this['mediaStream'][_0x3a9cdc(0x5fe)](_0x1fa90f),this[_0x3a9cdc(0x995)]['forEach'](_0x1d4d56=>_0x1d4d56['removeTrack'](_0x326700)),this[_0x3a9cdc(0x29d)]['get'](_0x326700)?.());}[_0x4bc902(0x95b)](){const _0x1cd23e=_0x4bc902;this['renderElement']&&(this[_0x1cd23e(0x5ef)][_0x1cd23e(0x5df)]&&this['renderElement'][_0x1cd23e(0x5df)]===this[_0x1cd23e(0xa3c)]||(this[_0x1cd23e(0x5ef)]['srcObject']=this[_0x1cd23e(0xa3c)]));}[_0x4bc902(0x5ad)](){const _0x3a6eac=_0x4bc902;if(this[_0x3a6eac(0x5ef)]&&!this[_0x3a6eac(0x205)]&&_0x3a6eac(0x609)!=typeof ResizeObserver){let _0x42a7b0=this[_0x3a6eac(0x5ef)][_0x3a6eac(0x2d8)],_0x4bc487=this[_0x3a6eac(0x5ef)][_0x3a6eac(0x7a5)];const _0x1d320f=new ResizeObserver(_0x33c790=>{const _0x39069f=_0x3a6eac,{width:_0x351e7f,height:_0x572ddb}=_0x33c790[0x0][_0x39069f(0x672)];_0x42a7b0===_0x351e7f&&_0x4bc487===_0x572ddb||(_0x42a7b0=Math[_0x39069f(0x84c)](_0x351e7f),_0x4bc487=Math[_0x39069f(0x84c)](_0x572ddb),this[_0x39069f(0x12e)]({'video':{'maxResolution':{'width':_0x351e7f,'height':_0x572ddb}}}));});_0x1d320f[_0x3a6eac(0x935)](this[_0x3a6eac(0x5ef)]),this[_0x3a6eac(0x205)]=()=>_0x1d320f[_0x3a6eac(0x62c)]();}}[_0x4bc902(0x7d3)](_0x3d46b9){const _0x5c3365=_0x4bc902,_0x1c01bc=[];for(const _0x34a737 of this[_0x5c3365(0x250)])this[_0x5c3365(0x5fe)](_0x34a737),_0x1c01bc[_0x5c3365(0x5b2)](_0x34a737);this['providerId']&&this[_0x5c3365(0x67d)][_0x5c3365(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x5c3365(0x889)],'content':{'type':_0x5b4969[_0x5c3365(0x73e)],'label':this['label'],'streamId':this[_0x5c3365(0x3c8)],'ownerId':this['owner'][_0x5c3365(0x68a)](),'providerId':this[_0x5c3365(0x518)],'trackKinds':_0x1c01bc}});}[_0x4bc902(0x109)](_0x502c40){const _0x31bf6c=_0x4bc902,_0x3106c8=()=>this[_0x31bf6c(0x7d3)](_0x502c40);_0x502c40['addEventListener'](_0x31bf6c(0x807),_0x3106c8),_0x502c40[_0x31bf6c(0x1af)](_0x31bf6c(0x19a),_0x3106c8),this[_0x31bf6c(0x29d)][_0x31bf6c(0x179)](_0x502c40[_0x31bf6c(0x36b)],()=>{const _0x59eaf7=_0x31bf6c;_0x502c40[_0x59eaf7(0x1c9)](_0x59eaf7(0x807),_0x3106c8),_0x502c40[_0x59eaf7(0x1c9)](_0x59eaf7(0x19a),_0x3106c8),this[_0x59eaf7(0x29d)][_0x59eaf7(0x24c)](_0x502c40[_0x59eaf7(0x36b)]);});}}class _0x1c9232 extends _0x1c7b24{[_0x4bc902(0x8cc)];[_0x4bc902(0x6a2)];[_0x4bc902(0x203)];['db'];[_0x4bc902(0x4fb)];[_0x4bc902(0x789)]=0x0;['reads']=0x0;[_0x4bc902(0x4bc)]=!0x1;constructor(_0x568869,_0x397a6e,_0x4234e2,_0x21e1cb,_0x198362){const _0x38c760=_0x4bc902;if(_0x38c760(0x351)!=typeof _0x397a6e)throw new _0x4b6430(_0x2bb2b4[_0x38c760(0x91f)],_0x38c760(0x182));super(_0x568869,_0x397a6e),this['localNode']=_0x568869,this[_0x38c760(0x6a2)]=_0x4234e2,this[_0x38c760(0x203)]=_0x21e1cb;const _0x1c3b3c=_0x38c760(0x378)+this[_0x38c760(0x203)]+_0x38c760(0x378)+this['clusterId']+_0x38c760(0x378)+this['label'];this['db']=new _0x198362(_0x1c3b3c),this[_0x38c760(0x90f)]();}['getIsLoaded'](){const _0x4bd58d=_0x4bc902;return this[_0x4bd58d(0x4bc)];}[_0x4bc902(0x631)](_0x54e0ab){this['isLoaded']=_0x54e0ab;}['destroy'](){const _0x930ce1=_0x4bc902;clearTimeout(this[_0x930ce1(0x4fb)]),delete this[_0x930ce1(0x4fb)],super[_0x930ce1(0x42d)]();}[_0x4bc902(0x6bf)](){const _0x3895fa=_0x4bc902;this[_0x3895fa(0x67d)][_0x3895fa(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x3895fa(0x889)],'content':{'type':_0x5b4969[_0x3895fa(0x763)],'label':this[_0x3895fa(0x458)]}});}[_0x4bc902(0x27e)](){const _0x8d4b4b=_0x4bc902;this[_0x8d4b4b(0x90f)]();}[_0x4bc902(0x892)](){const _0x76015c=_0x4bc902;return _0x3e2379[_0x76015c(0x41f)][_0x76015c(0x2bc)];}[_0x4bc902(0x75d)](_0x2dcb32,_0x24e853,_0x4855b9,_0x1e151a){const _0x588185=_0x4bc902,_0x261906=this['db'][_0x588185(0x75d)](_0x2dcb32,_0x24e853,_0x4855b9,_0x1e151a);return this['reads']+=0x1,_0x28bf01['logServiceEvent'](_0x1aded9[_0x588185(0x2bc)],{'type':_0x588185(0x75d),'label':this['label'],'nodeId':this['localNode'][_0x588185(0x68a)](),'nodeType':this[_0x588185(0x8cc)]['type'],'clusterId':this[_0x588185(0x6a2)],'size':0x0}),this['sendStats'](),_0x261906;}['insert'](_0x14aa5b,_0x57ea4d,_0x3e0e86,_0x300afd){const _0x53b1a4=_0x4bc902;this['db'][_0x53b1a4(0x4d7)](_0x14aa5b,_0x57ea4d,_0x3e0e86,_0x300afd),this[_0x53b1a4(0x789)]+=0x1,_0x28bf01[_0x53b1a4(0x927)](_0x1aded9[_0x53b1a4(0x2bc)],{'type':_0x53b1a4(0x4d7),'label':this['label'],'nodeId':this[_0x53b1a4(0x8cc)]['getId'](),'nodeType':this[_0x53b1a4(0x8cc)]['type'],'clusterId':this[_0x53b1a4(0x6a2)],'size':_0x300afd['reduce']((_0xd1257d,_0x152bca)=>_0xd1257d+_0x152bca[_0x53b1a4(0x1d8)],0x0)}),this[_0x53b1a4(0x90f)]();}[_0x4bc902(0x706)](_0x473af2){const _0x24546b=_0x4bc902;this['db'][_0x24546b(0x706)](_0x473af2),this[_0x24546b(0x789)]+=0x1,_0x28bf01[_0x24546b(0x927)](_0x1aded9['VectorDatabase'],{'type':'remove','label':this[_0x24546b(0x458)],'nodeId':this[_0x24546b(0x8cc)][_0x24546b(0x68a)](),'nodeType':this[_0x24546b(0x8cc)]['type'],'clusterId':this[_0x24546b(0x6a2)],'size':0x0}),this['sendStats']();}[_0x4bc902(0x2b5)](_0x27efcc){const _0x5914e7=_0x4bc902;this['db'][_0x5914e7(0x2b5)](_0x27efcc);}[_0x4bc902(0x5cf)](_0x55e94d){const _0x4e3bb1=_0x4bc902;this['db'][_0x4e3bb1(0x5cf)](_0x55e94d);}[_0x4bc902(0x90f)](){const _0x5a75fc=_0x4bc902;this[_0x5a75fc(0x4fb)]&&clearTimeout(this[_0x5a75fc(0x4fb)]),this[_0x5a75fc(0x4fb)]=setTimeout(async()=>{const _0xb6cedf=_0x5a75fc;delete this[_0xb6cedf(0x4fb)];const _0x1fc56b=this['db'][_0xb6cedf(0x2c0)]()[_0xb6cedf(0x82d)];this[_0xb6cedf(0x67d)]['publish']({'sourceId':_0x2da599,'messageType':_0x18db64['Content'],'content':{'type':_0x5b4969[_0xb6cedf(0x263)],'label':this[_0xb6cedf(0x458)],'stats':{'timestamp':Date[_0xb6cedf(0xa09)](),'storage':_0x1fc56b,'messagesSent':this[_0xb6cedf(0x5b9)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0xb6cedf(0x61c)],'bytesReceived':this[_0xb6cedf(0x137)],'writes':this[_0xb6cedf(0x789)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x28bf01['logStorage'](_0x1aded9[_0xb6cedf(0x2bc)],_0xb6cedf(0x378)+this[_0xb6cedf(0x6a2)]+_0xb6cedf(0x378)+this[_0xb6cedf(0x458)],_0x1fc56b);},_0x212304);}}class _0x1b1d26{['id'];[_0x4bc902(0x882)];['rank'];constructor(_0x4b5eb5,_0x1d28e8=new Set(),_0x4fb487){const _0x431f26=_0x4bc902;this['id']=_0x4b5eb5,this[_0x431f26(0x882)]=_0x1d28e8,this[_0x431f26(0x6ac)]=_0x4fb487;}[_0x4bc902(0x6bf)](){const _0x46a941=_0x4bc902;this[_0x46a941(0x6ac)]=void 0x0,this[_0x46a941(0x882)]['clear']();}[_0x4bc902(0x68a)](){return this['id'];}[_0x4bc902(0x328)](){const _0x73416b=_0x4bc902;return this[_0x73416b(0x6ac)];}[_0x4bc902(0x393)](){const _0x54b970=_0x4bc902;return this[_0x54b970(0x882)];}}class _0x2de7a5 extends _0x1b1d26{['id'];[_0x4bc902(0x474)];[_0x4bc902(0x6ea)];['remoteConnections'];[_0x4bc902(0x6ac)];[_0x4bc902(0x1aa)]=_0x3e2379['NodeType']['User'];constructor(_0x3657df,_0x445b79,_0x549ac4,_0x261c07=new Set(),_0x1f66fd){const _0x35038f=_0x4bc902;super(_0x3657df,_0x261c07,_0x1f66fd),this['id']=_0x3657df,this[_0x35038f(0x474)]=_0x445b79,this[_0x35038f(0x6ea)]=_0x549ac4,this[_0x35038f(0x882)]=_0x261c07,this[_0x35038f(0x6ac)]=_0x1f66fd;}['getDisplayName'](){const _0x213aa0=_0x4bc902;return this[_0x213aa0(0x474)];}[_0x4bc902(0x2a5)](){const _0x4dc315=_0x4bc902;return this[_0x4dc315(0x6ea)];}}class _0x2aefd3{['vendorId'];['clusterId'];[_0x4bc902(0x50c)];constructor(_0x31a67c,_0x23164e){const _0x3ab376=_0x4bc902;this[_0x3ab376(0x203)]=_0x31a67c,this['clusterId']=_0x23164e,this['clusterKey']=_0x3ab376(0x378)+this[_0x3ab376(0x203)]+_0x3ab376(0x378)+this['clusterId'];}async['writeTransaction'](_0x12a80e,_0x2df970){const _0x2ad1db=_0x4bc902,_0x4d4e6a=(0x0,_0x6f4244['ref'])(_0x14b3ac[_0x2ad1db(0x4ef)](),'clusters/'+this['clusterKey']+_0x2ad1db(0x808)+_0x2df970+_0x2ad1db(0x1fd)+_0x12a80e['id']),_0x3b9ad0=(0x0,_0x6f4244[_0x2ad1db(0x6bc)])(_0x4d4e6a);_0x3b9ad0[_0x2ad1db(0x706)](),_0x12a80e[_0x2ad1db(0x254)]||delete _0x12a80e[_0x2ad1db(0x254)];try{await(0x0,_0x6f4244[_0x2ad1db(0x179)])(_0x4d4e6a,_0x12a80e);}catch(_0x58da51){throw await _0x3b9ad0['cancel'](),new _0x3d0311(_0x3d0311['codes'][_0x2ad1db(0x15f)]);}if(!0x1===(await(0x0,_0x6f4244[_0x2ad1db(0x4ff)])((0x0,_0x6f4244[_0x2ad1db(0x6ef)])(_0x14b3ac[_0x2ad1db(0x4ef)](),_0x2ad1db(0x7fe)+this['clusterKey']+_0x2ad1db(0x808)+_0x2df970+_0x2ad1db(0x8f6)),_0x4dd31d=>_0x4dd31d?_0x4dd31d===_0x12a80e[_0x2ad1db(0x254)]?_0x12a80e['id']:void 0x0:_0x12a80e[_0x2ad1db(0x254)]?_0x12a80e[_0x2ad1db(0x254)]:_0x12a80e['id']))[_0x2ad1db(0x16c)])throw await(0x0,_0x6f4244[_0x2ad1db(0x706)])(_0x4d4e6a),await _0x3b9ad0[_0x2ad1db(0x6b1)](),new _0x3d0311(_0x3d0311['codes'][_0x2ad1db(0x9e8)]);await _0x3b9ad0[_0x2ad1db(0x6b1)]();}async[_0x4bc902(0x45d)](_0x14dcf1,_0x4d4fda){const _0x2130fc=_0x4bc902;let _0x19d688=[];const _0x415520=(0x0,_0x6f4244['ref'])(_0x14b3ac[_0x2130fc(0x4ef)](),_0x2130fc(0x7fe)+this[_0x2130fc(0x50c)]+'/objectstores/'+_0x14dcf1+_0x2130fc(0x570));let _0x26fc54=await(0x0,_0x6f4244[_0x2130fc(0x985)])((0x0,_0x6f4244[_0x2130fc(0x90b)])(_0x415520,(0x0,_0x6f4244[_0x2130fc(0x9be)])(0x65),(0x0,_0x6f4244[_0x2130fc(0x956)])()));if(!_0x26fc54[_0x2130fc(0x770)]()){if(void 0x0!==_0x4d4fda)throw new _0x3d0311(_0x3d0311[_0x2130fc(0x85e)]['ObjectStoreInvalidState']);return _0x19d688;}const _0x3d97a6=_0x26fc54['val']();for(;Object[_0x2130fc(0x7d2)](_0x26fc54[_0x2130fc(0x574)]())[_0x2130fc(0x1d8)]>0x64;){const _0x57e33a=Object['keys'](_0x26fc54[_0x2130fc(0x574)]()),_0x31f4fe=_0x57e33a[_0x57e33a[_0x2130fc(0x1d8)]-0x1];_0x26fc54=await(0x0,_0x6f4244['get'])((0x0,_0x6f4244[_0x2130fc(0x90b)])(_0x415520,(0x0,_0x6f4244[_0x2130fc(0x9be)])(0x65),(0x0,_0x6f4244['startAt'])(_0x31f4fe),(0x0,_0x6f4244[_0x2130fc(0x956)])())),Object[_0x2130fc(0x44e)](_0x3d97a6,_0x26fc54[_0x2130fc(0x574)]());}if(_0x19d688=Object[_0x2130fc(0x437)](_0x3d97a6)[_0x2130fc(0x6f4)](_0x62e2c2=>_0x2130fc(0x351)!=typeof _0x62e2c2),0x0===_0x19d688[_0x2130fc(0x1d8)]&&void 0x0!==_0x4d4fda)throw new _0x3d0311(_0x3d0311[_0x2130fc(0x85e)]['ObjectStoreInvalidState']);if(_0x19d688[_0x2130fc(0x1d8)]>0x0&&void 0x0!==_0x4d4fda&&!_0x19d688[_0x2130fc(0x731)](_0x4f802a=>_0x4f802a['id']===_0x4d4fda))throw new _0x3d0311(_0x3d0311['codes'][_0x2130fc(0x684)]);const _0x98051=[];let _0x282175=_0x19d688[_0x2130fc(0x731)](_0x5ee931=>_0x5ee931[_0x2130fc(0x254)]===_0x4d4fda);for(;_0x282175;)_0x98051[_0x2130fc(0x5b2)](_0x282175),_0x282175=_0x19d688[_0x2130fc(0x731)](_0xf87b9b=>_0xf87b9b['parentId']===_0x282175['id']);return _0x98051;}}class _0x5b4fb5{['configs'];[_0x4bc902(0x31c)];[_0x4bc902(0x428)];['localMediaStreams']=new Map();[_0x4bc902(0x8e7)]=new Map();[_0x4bc902(0x806)]=new Map();['objectStores']=new Map();[_0x4bc902(0x925)]=new Map();[_0x4bc902(0x691)]=new Map();[_0x4bc902(0x504)]=new Map();[_0x4bc902(0x7d4)]=new Map();[_0x4bc902(0x1d1)]=new Map();[_0x4bc902(0x394)]=new Map();[_0x4bc902(0x55e)];constructor(_0xa111a5,_0x340a58,_0x44466a){const _0x4253f2=_0x4bc902;this[_0x4253f2(0x15c)]=_0xa111a5,this['options']=_0x340a58,this['searchApiKey']=_0x44466a,this[_0x4253f2(0x55e)]=new _0x2aefd3(this['configs'][_0x4253f2(0x203)],this[_0x4253f2(0x15c)][_0x4253f2(0x6a2)]);}[_0x4bc902(0x6bf)](_0x371f85=!0x1){const _0x265fe6=_0x4bc902;this[_0x265fe6(0x8e7)][_0x265fe6(0x105)]((_0x1db8d7,_0x2cdfea)=>{const _0x5cdd19=_0x265fe6;_0x1db8d7[_0x5cdd19(0x105)]((_0x2c08bf,_0x333df7)=>{const _0x32dc8c=_0x5cdd19;this[_0x32dc8c(0x929)](_0x2cdfea,_0x333df7);});}),_0x371f85||(_0xb9e3b8[_0x265fe6(0x984)](),this[_0x265fe6(0x9cd)][_0x265fe6(0x105)]((_0x25c859,_0x655c63)=>{const _0x1fb206=_0x265fe6;this[_0x1fb206(0x950)](_0x655c63);}),this[_0x265fe6(0x806)][_0x265fe6(0x105)]((_0x2cbb0b,_0x892d8e)=>{const _0x1bd31f=_0x265fe6;this[_0x1bd31f(0x33c)](_0x892d8e);}),this[_0x265fe6(0x883)][_0x265fe6(0x105)]((_0x595b48,_0x1c7417)=>{const _0x5afb54=_0x265fe6;this[_0x5afb54(0x52e)](_0x1c7417);}),this[_0x265fe6(0x925)][_0x265fe6(0x105)]((_0x4456ce,_0x4ee28d)=>{this['removeExternalStorageConnection'](_0x4ee28d);}),this[_0x265fe6(0x691)]['forEach']((_0x32e78d,_0x373858)=>{const _0x446fd3=_0x265fe6;this[_0x446fd3(0x33b)](_0x373858);}),this[_0x265fe6(0x1d1)]['forEach']((_0x509bf3,_0x26a9e8)=>{const _0x604662=_0x265fe6;this[_0x604662(0x1c7)](_0x26a9e8);}),this[_0x265fe6(0x394)]['forEach']((_0x197dd4,_0x8d5c27)=>{const _0x2d4f43=_0x265fe6;this[_0x2d4f43(0x2d9)](_0x8d5c27);}),this['vectorDatabases'][_0x265fe6(0x105)]((_0x265c92,_0x2208ae)=>{const _0x1869ac=_0x265fe6;this[_0x1869ac(0x40b)](_0x2208ae);}),this[_0x265fe6(0x7d4)][_0x265fe6(0x105)]((_0x1d7664,_0x4d3e87)=>{const _0x1185be=_0x265fe6;this[_0x1185be(0x4b8)](_0x4d3e87);}));}[_0x4bc902(0x62d)](_0x2b9b64,_0x48a580){const _0x5d2ddc=_0x4bc902;if(this[_0x5d2ddc(0x883)]['has'](_0x2b9b64))throw new _0x4b6430(_0x2bb2b4[_0x5d2ddc(0x64f)],'Store\x20already\x20exists');const _0x5ee986=new _0x5a11eb(this['configs'][_0x5d2ddc(0x8cc)],_0x2b9b64,this[_0x5d2ddc(0x15c)][_0x5d2ddc(0x6a2)],this[_0x5d2ddc(0x15c)][_0x5d2ddc(0x203)],this['transactionService'],_0x48a580,()=>this['configs'][_0x5d2ddc(0x961)][_0x5d2ddc(0x28d)]());return this[_0x5d2ddc(0x883)][_0x5d2ddc(0x179)](_0x2b9b64,_0x5ee986),this[_0x5d2ddc(0x15c)][_0x5d2ddc(0x961)][_0x5d2ddc(0x61d)](_0x5ee986),_0x5ee986;}[_0x4bc902(0x898)](_0x3a34c8,_0x3d165d){const _0x49e3ec=_0x4bc902;if(this['objectStores'][_0x49e3ec(0x5f9)](_0x3a34c8))throw new _0x4b6430(_0x2bb2b4['ExternalStorageConnectionAlreadyExists'],_0x49e3ec(0x8e2));const _0x36aea0=new _0x1cbebc(this[_0x49e3ec(0x15c)]['localNode'],_0x3a34c8,this['configs']['clusterId'],this[_0x49e3ec(0x15c)][_0x49e3ec(0x203)],_0x3d165d);return this[_0x49e3ec(0x925)][_0x49e3ec(0x179)](_0x3a34c8,_0x36aea0),this[_0x49e3ec(0x15c)][_0x49e3ec(0x961)]['registerSystemSource'](_0x36aea0),_0x36aea0;}async[_0x4bc902(0x43d)](_0x379226,_0x1f195b,_0x37a51c){const _0x208ab9=_0x4bc902;if(this['keyValueDatabases'][_0x208ab9(0x5f9)](_0x379226))throw new _0x4b6430(_0x2bb2b4[_0x208ab9(0x149)],_0x208ab9(0x338));try{const _0x587c0e=this['configs'][_0x208ab9(0x961)][_0x208ab9(0x764)][_0x208ab9(0x4b0)](this['configs'][_0x208ab9(0x961)]),_0x29638e=new _0x510500(this[_0x208ab9(0x15c)]['localNode'],_0x379226,this[_0x208ab9(0x15c)]['clusterId'],this['configs'][_0x208ab9(0x203)],_0x1f195b,_0x37a51c,_0x587c0e);return this[_0x208ab9(0x691)][_0x208ab9(0x179)](_0x379226,_0x29638e),this[_0x208ab9(0x15c)]['mediator'][_0x208ab9(0x61d)](_0x29638e),_0x29638e;}catch(_0x1f62ce){if(_0x1f62ce instanceof _0x4b6430)throw _0x1f62ce;throw new _0x3d0311(_0x3d0311['codes'][_0x208ab9(0x2c2)],{'label':_0x379226,'clusterId':this['configs'][_0x208ab9(0x6a2)],'vendorId':this[_0x208ab9(0x15c)][_0x208ab9(0x203)]});}}async[_0x4bc902(0x23f)](_0x1505ea,_0x38d4b1){const _0x2330c8=_0x4bc902;if(this[_0x2330c8(0x1d1)][_0x2330c8(0x5f9)](_0x1505ea))throw new _0x4b6430(_0x2bb2b4[_0x2330c8(0x909)],_0x2330c8(0x923));try{const _0x50facf=new _0x4ffba1(this['configs'][_0x2330c8(0x8cc)],_0x1505ea,_0x38d4b1);return this[_0x2330c8(0x1d1)][_0x2330c8(0x179)](_0x1505ea,_0x50facf),this[_0x2330c8(0x15c)][_0x2330c8(0x961)][_0x2330c8(0x61d)](_0x50facf),_0x50facf;}catch(_0x442131){if(_0x442131 instanceof _0x4b6430)throw _0x442131;throw new _0x3d0311(_0x3d0311['codes'][_0x2330c8(0x456)],{'label':_0x1505ea,'clusterId':this[_0x2330c8(0x15c)][_0x2330c8(0x6a2)],'vendorId':this['configs'][_0x2330c8(0x203)]});}}async['createGenerativeAIContext'](_0xbe5fc5,_0x4945d2){const _0x5e7b22=_0x4bc902;if(this['jobDispatchers'][_0x5e7b22(0x5f9)](_0xbe5fc5))throw new _0x4b6430(_0x2bb2b4[_0x5e7b22(0x78f)],'AI\x20Service\x20already\x20exists');if(this[_0x5e7b22(0x394)][_0x5e7b22(0x5f9)](_0xbe5fc5))throw new _0x4b6430(_0x2bb2b4[_0x5e7b22(0x996)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x319874=new _0x148af2(this[_0x5e7b22(0x15c)][_0x5e7b22(0x8cc)],_0xbe5fc5,this[_0x5e7b22(0x15c)][_0x5e7b22(0x203)],_0x4945d2);return this[_0x5e7b22(0x1d1)][_0x5e7b22(0x179)](_0xbe5fc5,_0x319874),this[_0x5e7b22(0x15c)][_0x5e7b22(0x961)][_0x5e7b22(0x61d)](_0x319874),_0x319874;}catch(_0x1f6c2b){if(_0x1f6c2b instanceof _0x4b6430)throw _0x1f6c2b;throw new _0x3d0311(_0x3d0311[_0x5e7b22(0x85e)][_0x5e7b22(0x69b)],{'label':_0xbe5fc5,'clusterId':this[_0x5e7b22(0x15c)][_0x5e7b22(0x6a2)],'vendorId':this[_0x5e7b22(0x15c)]['vendorId']});}}async[_0x4bc902(0x867)](_0x30cba5,_0x2f6bae,_0x1b4b91,_0x1789ee,_0x5b4924,_0x5803b2){const _0x3cdba4=_0x4bc902;if(this[_0x3cdba4(0x394)]['has'](_0x30cba5))throw new _0x4b6430(_0x2bb2b4['GenerativeAIWorkerAlreadyExists'],_0x3cdba4(0x701));if(this['jobDispatchers'][_0x3cdba4(0x5f9)](_0x30cba5))throw new _0x4b6430(_0x2bb2b4[_0x3cdba4(0x996)],_0x3cdba4(0x966));try{const _0x2cdb05=new _0x5688c9(this[_0x3cdba4(0x15c)][_0x3cdba4(0x8cc)],_0x30cba5,this[_0x3cdba4(0x15c)][_0x3cdba4(0x203)],_0x2f6bae,this,_0x1b4b91,_0x1789ee,_0x5b4924,this[_0x3cdba4(0x428)],_0x5803b2);return this['jobWorkers']['set'](_0x30cba5,_0x2cdb05),this[_0x3cdba4(0x15c)]['mediator'][_0x3cdba4(0x61d)](_0x2cdb05),_0x2cdb05;}catch(_0x2fef27){if(_0x2fef27 instanceof _0x4b6430)throw _0x2fef27;throw new _0x3d0311(_0x3d0311[_0x3cdba4(0x85e)][_0x3cdba4(0x908)],{'label':_0x30cba5,'clusterId':this[_0x3cdba4(0x15c)][_0x3cdba4(0x6a2)],'vendorId':this['configs']['vendorId']});}}['createGraphDatabase'](_0x49dec8,_0x31c185){const _0x4baeef=_0x4bc902;if(this['graphDatabases']['has'](_0x49dec8))throw new _0x4b6430(_0x2bb2b4[_0x4baeef(0x7d1)],_0x4baeef(0x338));try{const _0x46d69d=new _0xd8d732(this[_0x4baeef(0x15c)][_0x4baeef(0x8cc)],_0x49dec8,this[_0x4baeef(0x15c)]['clusterId'],this['configs'][_0x4baeef(0x203)],_0x31c185);return this[_0x4baeef(0x7d4)]['set'](_0x49dec8,_0x46d69d),this[_0x4baeef(0x15c)]['mediator'][_0x4baeef(0x61d)](_0x46d69d),_0x46d69d;}catch(_0x31fd0d){if(_0x31fd0d instanceof _0x4b6430)throw _0x31fd0d;throw new _0x3d0311(_0x3d0311[_0x4baeef(0x85e)][_0x4baeef(0x399)],{'label':_0x49dec8,'clusterId':this[_0x4baeef(0x15c)]['clusterId'],'vendorId':this[_0x4baeef(0x15c)][_0x4baeef(0x203)]});}}[_0x4bc902(0x8fd)](_0x56b1d0,_0x2f42f6){const _0x4069c1=_0x4bc902;if(this[_0x4069c1(0x9cd)][_0x4069c1(0x5f9)](_0x56b1d0))throw new _0x4b6430(_0x2bb2b4[_0x4069c1(0x3e2)],_0x4069c1(0x276));if(!this[_0x4069c1(0x31c)][_0x4069c1(0x916)])throw new _0x4b6430(_0x2bb2b4['LocalMediaStreamNoAudioContext'],_0x4069c1(0x341));const _0x26b5b8=new _0x4f4b76(this[_0x4069c1(0x15c)]['localNode'],_0x56b1d0,_0x2f42f6,this[_0x4069c1(0x31c)][_0x4069c1(0x5dd)],this[_0x4069c1(0x31c)][_0x4069c1(0x916)],this[_0x4069c1(0x15c)]['clusterId']);return this[_0x4069c1(0x9cd)][_0x4069c1(0x179)](_0x56b1d0,_0x26b5b8),this[_0x4069c1(0x15c)][_0x4069c1(0x961)]['registerSystemSource'](_0x26b5b8),_0x26b5b8[_0x4069c1(0x912)](),_0x26b5b8;}[_0x4bc902(0x71d)](_0x4c3711,_0xdefc80){const _0x231b67=_0x4bc902;if(this[_0x231b67(0x9cd)][_0x231b67(0x5f9)](_0x4c3711))throw new _0x4b6430(_0x2bb2b4[_0x231b67(0x3e2)],_0x231b67(0x309));const _0x383d52=new _0x3accb0(this[_0x231b67(0x15c)]['localNode'],_0x4c3711,_0xdefc80,this[_0x231b67(0x15c)][_0x231b67(0x6a2)]);return this[_0x231b67(0x9cd)][_0x231b67(0x179)](_0x4c3711,_0x383d52),this['configs'][_0x231b67(0x961)]['registerSystemSource'](_0x383d52),_0x383d52[_0x231b67(0x912)](),_0x383d52;}[_0x4bc902(0x7ba)](_0x5221e9){const _0x5c5dbd=_0x4bc902;if(this['pubSubTopics'][_0x5c5dbd(0x5f9)](_0x5221e9))throw new _0x4b6430(_0x2bb2b4[_0x5c5dbd(0x573)],_0x5c5dbd(0x69f));const _0x245183=new _0x345446(this[_0x5c5dbd(0x15c)]['localNode'],_0x5221e9,this[_0x5c5dbd(0x15c)][_0x5c5dbd(0x6a2)]);return this[_0x5c5dbd(0x806)]['set'](_0x5221e9,_0x245183),this[_0x5c5dbd(0x15c)][_0x5c5dbd(0x961)][_0x5c5dbd(0x61d)](_0x245183),_0x245183;}['createRemoteMediaStream'](_0x2d0324,_0x1e4688,_0x2c997d,_0x11bffb){const _0x7e99a3=_0x4bc902;this['remoteMediaStreams'][_0x7e99a3(0x5f9)](_0x2d0324)||this['remoteMediaStreams'][_0x7e99a3(0x179)](_0x2d0324,new Map());const _0x1b8ee7=this['remoteMediaStreams'][_0x7e99a3(0x985)](_0x2d0324);if(_0x1b8ee7['has'](_0x1e4688))throw new _0x4b6430(_0x2bb2b4['RemoteMediaStreamAlreadyExists'],'Remote\x20MediaStream\x20already\x20exists');const _0x235761=new _0x2de7a5(_0x2d0324,'',''),_0x1ef842=new _0x5a3198(this[_0x7e99a3(0x15c)][_0x7e99a3(0x8cc)],_0x235761,_0x1e4688,_0x2c997d,_0x11bffb,this[_0x7e99a3(0x15c)]['clusterId']);return _0x1b8ee7[_0x7e99a3(0x179)](_0x1e4688,_0x1ef842),this[_0x7e99a3(0x15c)][_0x7e99a3(0x961)][_0x7e99a3(0x61d)](_0x1ef842),_0x1ef842;}[_0x4bc902(0x2c1)](_0x4b92b8,_0x32ed50){const _0xc6f898=_0x4bc902;if(this[_0xc6f898(0x504)][_0xc6f898(0x5f9)](_0x4b92b8))throw new _0x4b6430(_0x2bb2b4['VectorDatabaseAlreadyExists'],_0xc6f898(0x338));try{const _0x3c680c=new _0x1c9232(this['configs'][_0xc6f898(0x8cc)],_0x4b92b8,this[_0xc6f898(0x15c)][_0xc6f898(0x6a2)],this[_0xc6f898(0x15c)][_0xc6f898(0x203)],_0x32ed50);return this[_0xc6f898(0x504)][_0xc6f898(0x179)](_0x4b92b8,_0x3c680c),this[_0xc6f898(0x15c)][_0xc6f898(0x961)][_0xc6f898(0x61d)](_0x3c680c),_0x3c680c;}catch(_0x2ce7f2){if(_0x2ce7f2 instanceof _0x4b6430)throw _0x2ce7f2;throw new _0x3d0311(_0x3d0311['codes']['VectorDatabaseCreationFailed'],{'label':_0x4b92b8,'clusterId':this[_0xc6f898(0x15c)][_0xc6f898(0x6a2)],'vendorId':this[_0xc6f898(0x15c)][_0xc6f898(0x203)]});}}[_0x4bc902(0x557)](_0x39a7c2){const _0x8a4bbf=_0x4bc902,_0x16b9f6=Array['from'](this[_0x8a4bbf(0x883)]['values']());return _0x39a7c2?_0x16b9f6[_0x8a4bbf(0x6f4)](_0x39a7c2):_0x16b9f6;}['getExternalStorageConnections'](_0x2ffd9d){const _0x20d61d=_0x4bc902,_0x5af0f7=Array['from'](this[_0x20d61d(0x925)][_0x20d61d(0x437)]());return _0x2ffd9d?_0x5af0f7['filter'](_0x2ffd9d):_0x5af0f7;}[_0x4bc902(0x5c9)](_0x54710c){const _0x57eb1e=_0x4bc902,_0x8c2a0d=Array['from'](this['keyValueDatabases']['values']());return _0x54710c?_0x8c2a0d[_0x57eb1e(0x6f4)](_0x54710c):_0x8c2a0d;}[_0x4bc902(0x4d1)](_0x1099ac){const _0x526933=_0x4bc902,_0x33895a=Array[_0x526933(0x100)](this[_0x526933(0x1d1)][_0x526933(0x437)]());return _0x1099ac?_0x33895a['filter'](_0x1099ac):_0x33895a;}['getJobWorkers'](_0x41b998){const _0x4b39a5=_0x4bc902,_0x2f06c9=Array['from'](this['jobWorkers'][_0x4b39a5(0x437)]());return _0x41b998?_0x2f06c9[_0x4b39a5(0x6f4)](_0x41b998):_0x2f06c9;}[_0x4bc902(0x67c)](_0x257ed3){const _0xe8c273=_0x4bc902,_0x3d788c=Array[_0xe8c273(0x100)](this['jobDispatchers'][_0xe8c273(0x437)]())[_0xe8c273(0x6f4)](_0x30d79b=>_0x30d79b instanceof _0x148af2);return _0x257ed3?_0x3d788c[_0xe8c273(0x6f4)](_0x257ed3):_0x3d788c;}[_0x4bc902(0x740)](_0x170179){const _0x58dcfa=_0x4bc902,_0x47aad5=Array[_0x58dcfa(0x100)](this[_0x58dcfa(0x394)]['values']())[_0x58dcfa(0x6f4)](_0x6544db=>_0x6544db instanceof _0x5688c9);return _0x170179?_0x47aad5[_0x58dcfa(0x6f4)](_0x170179):_0x47aad5;}[_0x4bc902(0x92e)](_0x199b94){const _0x187a84=_0x4bc902,_0x5188e4=Array[_0x187a84(0x100)](this[_0x187a84(0x7d4)][_0x187a84(0x437)]());return _0x199b94?_0x5188e4[_0x187a84(0x6f4)](_0x199b94):_0x5188e4;}[_0x4bc902(0xa03)](_0x120df0){const _0x4e0569=_0x4bc902,_0x93eb87=Array[_0x4e0569(0x100)](this['localMediaStreams'][_0x4e0569(0x437)]());return _0x120df0?_0x93eb87[_0x4e0569(0x6f4)](_0x120df0):_0x93eb87;}[_0x4bc902(0x9d6)](_0x4a445d){const _0x54f4de=_0x4bc902,_0x3fb212=Array[_0x54f4de(0x100)](this[_0x54f4de(0x806)][_0x54f4de(0x437)]());return _0x4a445d?_0x3fb212[_0x54f4de(0x6f4)](_0x4a445d):_0x3fb212;}[_0x4bc902(0x4b7)](_0x156ecc){const _0xbc8b52=_0x4bc902,_0x520495=Array[_0xbc8b52(0x100)](this[_0xbc8b52(0x8e7)][_0xbc8b52(0x437)]())[_0xbc8b52(0x214)]((_0xcd3e86,_0x5706f2)=>[..._0xcd3e86,...Array[_0xbc8b52(0x100)](_0x5706f2[_0xbc8b52(0x437)]())],[]);return _0x156ecc?_0x520495[_0xbc8b52(0x6f4)](_0x156ecc):_0x520495;}[_0x4bc902(0x4b6)](_0x22956e){const _0xd8a5af=_0x4bc902,_0x13ab6a=Array['from'](this['vectorDatabases'][_0xd8a5af(0x437)]());return _0x22956e?_0x13ab6a[_0xd8a5af(0x6f4)](_0x22956e):_0x13ab6a;}['getObjectStoreBucket'](_0x1acad7){const _0x9bfd74=_0x4bc902,_0x355cf7=this['objectStores'][_0x9bfd74(0x985)](_0x1acad7);if(!_0x355cf7)throw new _0x4b6430(_0x2bb2b4['ObjectStoreDoesNotExist'],_0x9bfd74(0x36c));return _0x355cf7;}[_0x4bc902(0x65d)](_0x11b455){const _0x38c489=_0x4bc902,_0x32cbe2=_0x11b455[_0x38c489(0x66b)]('-'),_0x489e9e=this[_0x38c489(0x925)][_0x38c489(0x985)](_0x32cbe2[0x1]);if(!_0x489e9e)throw new _0x4b6430(_0x2bb2b4[_0x38c489(0x77c)],_0x38c489(0x68b));return _0x489e9e;}['getGraphDatabase'](_0x6a6e49){const _0x1a60ae=_0x4bc902,_0x2f9f0a=this[_0x1a60ae(0x7d4)][_0x1a60ae(0x985)](_0x6a6e49);if(!_0x2f9f0a)throw new _0x4b6430(_0x2bb2b4[_0x1a60ae(0x407)],_0x1a60ae(0x5eb));return _0x2f9f0a;}[_0x4bc902(0x7c5)](_0x1455ed){const _0x449398=_0x4bc902,_0x2cb089=this[_0x449398(0x691)][_0x449398(0x985)](_0x1455ed);if(!_0x2cb089)throw new _0x4b6430(_0x2bb2b4[_0x449398(0xa37)],_0x449398(0x850));return _0x2cb089;}['getPubSubTopic'](_0x4976ad){const _0x4c69d6=_0x4bc902,_0x57939d=this['pubSubTopics'][_0x4c69d6(0x985)](_0x4976ad);if(!_0x57939d)throw new _0x4b6430(_0x2bb2b4[_0x4c69d6(0x936)],'PubSubTopic\x20not\x20found');return _0x57939d;}[_0x4bc902(0x45f)](_0x50c621){const _0x3a6e38=_0x4bc902,_0x5b639e=this[_0x3a6e38(0x504)][_0x3a6e38(0x985)](_0x50c621);if(!_0x5b639e)throw new _0x4b6430(_0x2bb2b4[_0x3a6e38(0x5e3)],_0x3a6e38(0x8e6));return _0x5b639e;}[_0x4bc902(0x24d)](_0x11a3f6){const _0x429f1f=_0x4bc902;switch(_0x11a3f6['content'][_0x429f1f(0x1aa)]){case _0x5b4969[_0x429f1f(0x5a5)]:this[_0x429f1f(0x7fb)](_0x11a3f6[_0x429f1f(0xa0d)]);break;case _0x5b4969[_0x429f1f(0x8eb)]:this[_0x429f1f(0x1a4)](_0x11a3f6['content']);break;case _0x5b4969[_0x429f1f(0x697)]:this[_0x429f1f(0x1c7)](_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x458)]);break;case _0x5b4969['CloseJobWorker']:this[_0x429f1f(0x2d9)](_0x11a3f6['content'][_0x429f1f(0x458)]);break;case _0x5b4969[_0x429f1f(0x722)]:this[_0x429f1f(0x950)](_0x11a3f6['content']['label']);break;case _0x5b4969['ClosePubSubTopic']:this[_0x429f1f(0x33c)](_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x458)]);break;case _0x5b4969[_0x429f1f(0x742)]:this['removeObjectStore'](_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x458)]);break;case _0x5b4969['CloseExternalStorageConnection']:this['removeExternalStorageConnection'](_0x11a3f6['content'][_0x429f1f(0x458)]);break;case _0x5b4969[_0x429f1f(0x4db)]:this[_0x429f1f(0x33b)](_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x458)]);break;case _0x5b4969[_0x429f1f(0x763)]:this[_0x429f1f(0x40b)](_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x458)]);break;case _0x5b4969[_0x429f1f(0x452)]:this['removeGraphDatabase'](_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x458)]);break;case _0x5b4969[_0x429f1f(0xa15)]:this[_0x429f1f(0x62b)](_0x11a3f6[_0x429f1f(0xa0d)]);break;case _0x5b4969['KeyValueDatabaseSyncRequired']:this[_0x429f1f(0x691)]['get'](_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x458)])?.['answerContentAvailable'](_0x11a3f6[_0x429f1f(0x86d)],_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x265)]);break;case _0x5b4969['KeyValueDatabaseContentSynchronized']:this[_0x429f1f(0x691)]['get'](_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x458)])?.[_0x429f1f(0x9b3)](_0x11a3f6[_0x429f1f(0x86d)],_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x265)]);break;case _0x5b4969[_0x429f1f(0x6e5)]:this[_0x429f1f(0x691)][_0x429f1f(0x985)](_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x458)])?.[_0x429f1f(0x8b2)](_0x11a3f6[_0x429f1f(0x86d)],_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x53c)]);break;case _0x5b4969[_0x429f1f(0x875)]:this['keyValueDatabases']['get'](_0x11a3f6['content'][_0x429f1f(0x458)])?.[_0x429f1f(0x6cc)](_0x11a3f6[_0x429f1f(0x86d)],_0x11a3f6['content'][_0x429f1f(0x9d2)]);break;case _0x5b4969[_0x429f1f(0x5d6)]:this['keyValueDatabases'][_0x429f1f(0x985)](_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x458)])?.[_0x429f1f(0x830)](_0x11a3f6[_0x429f1f(0x86d)],_0x11a3f6['content'][_0x429f1f(0x81c)]);break;case _0x5b4969[_0x429f1f(0x199)]:this[_0x429f1f(0x691)][_0x429f1f(0x985)](_0x11a3f6['content'][_0x429f1f(0x458)])?.[_0x429f1f(0x40c)](_0x11a3f6[_0x429f1f(0x86d)],_0x11a3f6[_0x429f1f(0xa0d)]['transactions']);break;case _0x5b4969[_0x429f1f(0x5a0)]:this[_0x429f1f(0x15c)][_0x429f1f(0x961)][_0x429f1f(0x35e)](_0x429f1f(0x159),{'label':_0x11a3f6[_0x429f1f(0xa0d)][_0x429f1f(0x458)],'trackKinds':_0x11a3f6['content'][_0x429f1f(0x6ec)]});}}[_0x4bc902(0x289)]({content:_0x1ae0ca}){const _0x362bc5=_0x4bc902;switch(_0x1ae0ca[_0x362bc5(0x1aa)]){case _0x57cc58[_0x362bc5(0x601)]:this['handleNodeJoinNeedPublishedStream'](_0x1ae0ca),this['notifyObjectStoreOfNodeJoin'](_0x1ae0ca);break;case _0x57cc58['NodeLeave']:this[_0x362bc5(0x5c0)](_0x1ae0ca),this[_0x362bc5(0x3c6)](_0x1ae0ca);}}['handleSubscriptionSystemEvents'](_0x124326){const _0x5348c1=_0x4bc902;switch(_0x124326['content'][_0x5348c1(0x1aa)]){case _0x27d67a[_0x5348c1(0x88e)]:this[_0x5348c1(0x3d1)](_0x124326['sourceId'],_0x124326[_0x5348c1(0xa0d)]);break;case _0x27d67a[_0x5348c1(0x562)]:this[_0x5348c1(0x95f)](_0x124326[_0x5348c1(0x86d)],_0x124326[_0x5348c1(0xa0d)]);break;case _0x27d67a['UnsubscribeMediaStream']:this[_0x5348c1(0x6de)](_0x124326['sourceId'],_0x124326[_0x5348c1(0xa0d)]);}}[_0x4bc902(0x62b)](_0x574314){const _0x29d1ec=_0x4bc902;if(0x0===_0x574314[_0x29d1ec(0x735)])this['remoteMediaStreams']['get'](_0x574314[_0x29d1ec(0x59c)])?.[_0x29d1ec(0x985)](_0x574314[_0x29d1ec(0x458)])?.[_0x29d1ec(0x42d)]();else{const _0x4ae745=this['remoteMediaStreams'][_0x29d1ec(0x985)](_0x574314['ownerId'])?.[_0x29d1ec(0x985)](_0x574314[_0x29d1ec(0x458)]);if(!_0x4ae745)return;_0x574314[_0x29d1ec(0x6ec)]['forEach'](_0x497259=>_0x4ae745[_0x29d1ec(0x268)](_0x497259));}}[_0x4bc902(0x7fb)](_0x55c1d6){const _0x12c7b1=_0x4bc902,{label:_0x79221f,ownerId:_0x21f461,stream:{streamId:_0x2b917b,availableTrackKinds:_0x103685}}=_0x55c1d6;if(this[_0x12c7b1(0x8e7)][_0x12c7b1(0x985)](_0x21f461)?.['has'](_0x79221f))return void _0x28bf01[_0x12c7b1(0x5e2)](_0x4f63ff[_0x12c7b1(0x889)],_0x12c7b1(0x309),_0x2b917b);const _0x5d13aa=this[_0x12c7b1(0x71a)](_0x21f461,_0x79221f,_0x2b917b,_0x103685);this['configs']['mediator']['notifyCluster'](_0x12c7b1(0x5a8),{'ownerId':_0x21f461,'stream':_0x5d13aa});}[_0x4bc902(0x1a4)]({ownerId:_0x55e8a6,label:_0x20d119}){const _0x277b7e=_0x4bc902;this[_0x277b7e(0x929)](_0x55e8a6,_0x20d119),this[_0x277b7e(0x15c)][_0x277b7e(0x961)][_0x277b7e(0x35e)](_0x277b7e(0x4e1),{'ownerId':_0x55e8a6,'label':_0x20d119});}[_0x4bc902(0x3d1)](_0x35784e,_0x53d305){const _0x50b38c=_0x4bc902,{ownerId:_0x57f875,label:_0x116466}=_0x53d305;let _0x1ad593;_0x1ad593=_0x57f875!==this[_0x50b38c(0x15c)]['localNode'][_0x50b38c(0x68a)]()?this['remoteMediaStreams']['get'](_0x57f875)['get'](_0x116466):this[_0x50b38c(0x9cd)]['get'](_0x116466),_0x1ad593[_0x50b38c(0x638)](_0x35784e,_0x53d305['params'])[_0x50b38c(0x9e4)](_0x53d305,_0x1ad593['getPriority']());}['handleUpdateMediaStream'](_0x3b27cf,_0x55fccd){const _0x4ce41c=_0x4bc902,{ownerId:_0x31dcef,label:_0x54861d}=_0x55fccd;let _0x4a130b;_0x4a130b=_0x31dcef!==this[_0x4ce41c(0x15c)][_0x4ce41c(0x8cc)][_0x4ce41c(0x68a)]()?this['remoteMediaStreams'][_0x4ce41c(0x985)](_0x31dcef)['get'](_0x54861d):this['localMediaStreams'][_0x4ce41c(0x985)](_0x54861d),_0x4a130b[_0x4ce41c(0x638)](_0x3b27cf,_0x55fccd['params'])['update'](_0x55fccd);}[_0x4bc902(0x6de)](_0x2f69a7,_0x1cc652){const _0x281278=_0x4bc902,{ownerId:_0x18331a,label:_0x26f80c}=_0x1cc652;let _0x584603;_0x584603=_0x18331a!==this[_0x281278(0x15c)][_0x281278(0x8cc)][_0x281278(0x68a)]()?this['remoteMediaStreams']['get'](_0x18331a)[_0x281278(0x985)](_0x26f80c):this[_0x281278(0x9cd)][_0x281278(0x985)](_0x26f80c),_0x584603[_0x281278(0x638)](_0x2f69a7)['unsubscribe'](_0x1cc652);}['handleNodeJoinNeedPublishedStream']({id:_0x267f6c}){const _0x37ff90=_0x4bc902;this[_0x37ff90(0xa03)]()[_0x37ff90(0x105)](_0x5201a8=>{const _0x21a5c6=_0x37ff90;_0x5201a8[_0x21a5c6(0x912)](_0x267f6c);});}['handleNodeLeave']({id:_0x178097}){const _0x571a0a=_0x4bc902;this[_0x571a0a(0x4b7)](_0x38fa26=>_0x38fa26['getOwnerId']()===_0x178097)[_0x571a0a(0x105)](_0x4d5acc=>{const _0x5950c8=_0x571a0a;this['removeRemoteMediaStream'](_0x4d5acc[_0x5950c8(0x827)](),_0x4d5acc[_0x5950c8(0x5f1)]());});}[_0x4bc902(0x6c1)]({id:_0x51c340}){const _0x3246f8=_0x4bc902;this[_0x3246f8(0x883)][_0x3246f8(0x105)](_0x315ac6=>_0x315ac6['handleNodeJoin'](_0x51c340));}[_0x4bc902(0x3c6)]({id:_0x2517fb}){const _0x1a00df=_0x4bc902;this[_0x1a00df(0x883)][_0x1a00df(0x105)](_0x1fac6f=>_0x1fac6f[_0x1a00df(0x5c0)](_0x2517fb));}['removeJobDispatcher'](_0x2f7610){const _0xad556b=_0x4bc902;if(!this[_0xad556b(0x1d1)][_0xad556b(0x5f9)](_0x2f7610))throw new _0x4b6430(_0x2bb2b4[_0xad556b(0x680)],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0xd04480=this[_0xad556b(0x1d1)][_0xad556b(0x985)](_0x2f7610);this[_0xad556b(0x1d1)]['delete'](_0x2f7610),_0xd04480[_0xad556b(0x42d)](),this['configs'][_0xad556b(0x961)][_0xad556b(0x132)](_0xd04480);}['removeJobWorker'](_0x37a7ea){const _0x435135=_0x4bc902;if(!this['jobWorkers'][_0x435135(0x5f9)](_0x37a7ea))throw new _0x4b6430(_0x2bb2b4[_0x435135(0x17a)],_0x435135(0x4c3));const _0x42fb54=this[_0x435135(0x394)]['get'](_0x37a7ea);this[_0x435135(0x394)][_0x435135(0x24c)](_0x37a7ea),_0x42fb54['destroy'](),this[_0x435135(0x15c)]['mediator'][_0x435135(0x132)](_0x42fb54);}['removeObjectStore'](_0x30c22d){const _0x200115=_0x4bc902;if(!this[_0x200115(0x883)][_0x200115(0x5f9)](_0x30c22d))throw new _0x4b6430(_0x2bb2b4['ObjectStoreDoesNotExist'],_0x200115(0x3e7));const _0x2773d5=this['objectStores'][_0x200115(0x985)](_0x30c22d);this[_0x200115(0x883)]['delete'](_0x30c22d),_0x2773d5['destroy'](),this[_0x200115(0x15c)][_0x200115(0x961)][_0x200115(0x132)](_0x2773d5);}[_0x4bc902(0x51c)](_0x276c2c){const _0x36a551=_0x4bc902;if(!this[_0x36a551(0x925)][_0x36a551(0x5f9)](_0x276c2c))throw new _0x4b6430(_0x2bb2b4[_0x36a551(0x77c)],_0x36a551(0x848));const _0x3a1586=this[_0x36a551(0x925)]['get'](_0x276c2c);this[_0x36a551(0x925)][_0x36a551(0x24c)](_0x276c2c),_0x3a1586['destroy'](),this[_0x36a551(0x15c)]['mediator'][_0x36a551(0x132)](_0x3a1586);}[_0x4bc902(0x33c)](_0x145ed9){const _0x406947=_0x4bc902;if(!this[_0x406947(0x806)]['has'](_0x145ed9))throw new _0x4b6430(_0x2bb2b4[_0x406947(0x936)],'Stream\x20does\x20not\x20exist');const _0x29e817=this[_0x406947(0x806)][_0x406947(0x985)](_0x145ed9);this['pubSubTopics'][_0x406947(0x24c)](_0x145ed9),_0x29e817[_0x406947(0x42d)](),this[_0x406947(0x15c)]['mediator'][_0x406947(0x132)](_0x29e817);}[_0x4bc902(0x33b)](_0x484248){const _0x54c425=_0x4bc902;if(!this[_0x54c425(0x691)]['has'](_0x484248))throw new _0x4b6430(_0x2bb2b4['KeyValueDatabaseDoesNotExist'],'Database\x20does\x20not\x20exist');const _0x334623=this[_0x54c425(0x691)]['get'](_0x484248);this['keyValueDatabases']['delete'](_0x484248),_0x334623[_0x54c425(0x42d)](),this[_0x54c425(0x15c)][_0x54c425(0x961)][_0x54c425(0x132)](_0x334623);}[_0x4bc902(0x40b)](_0x509bf2){const _0x2d889a=_0x4bc902;if(!this[_0x2d889a(0x504)][_0x2d889a(0x5f9)](_0x509bf2))throw new _0x4b6430(_0x2bb2b4[_0x2d889a(0x5e3)],_0x2d889a(0x26a));const _0x4ab4a3=this[_0x2d889a(0x504)][_0x2d889a(0x985)](_0x509bf2);this[_0x2d889a(0x504)][_0x2d889a(0x24c)](_0x509bf2),_0x4ab4a3[_0x2d889a(0x42d)](),this[_0x2d889a(0x15c)][_0x2d889a(0x961)][_0x2d889a(0x132)](_0x4ab4a3);}[_0x4bc902(0x4b8)](_0x228c1e){const _0x512e09=_0x4bc902;if(!this['graphDatabases'][_0x512e09(0x5f9)](_0x228c1e))throw new _0x4b6430(_0x2bb2b4['GraphDatabaseDoesNotExist'],_0x512e09(0x26a));const _0x50f1e1=this[_0x512e09(0x7d4)][_0x512e09(0x985)](_0x228c1e);this[_0x512e09(0x7d4)][_0x512e09(0x24c)](_0x228c1e),_0x50f1e1[_0x512e09(0x42d)](),this[_0x512e09(0x15c)][_0x512e09(0x961)][_0x512e09(0x132)](_0x50f1e1);}[_0x4bc902(0x950)](_0x2b0dfd){const _0xc98d1b=_0x4bc902;if(!this[_0xc98d1b(0x9cd)][_0xc98d1b(0x5f9)](_0x2b0dfd))throw new _0x3d0311(_0x3d0311['codes'][_0xc98d1b(0x924)],{'label':_0x2b0dfd,'localId':this[_0xc98d1b(0x15c)][_0xc98d1b(0x8cc)][_0xc98d1b(0x68a)]()});const _0x269b37=this[_0xc98d1b(0x9cd)][_0xc98d1b(0x985)](_0x2b0dfd);this[_0xc98d1b(0x15c)]['mediator']['unregisterSystemSource'](_0x269b37),_0x269b37[_0xc98d1b(0x42d)](),this[_0xc98d1b(0x9cd)]['delete'](_0x2b0dfd);}[_0x4bc902(0x929)](_0x247ab8,_0x480d00){const _0x373d5a=_0x4bc902;if(!this[_0x373d5a(0x8e7)][_0x373d5a(0x5f9)](_0x247ab8))throw new _0x3d0311(_0x3d0311[_0x373d5a(0x85e)]['NodeDoesNotExist'],{'nodeId':_0x247ab8,'localId':this['configs'][_0x373d5a(0x8cc)]['getId']()});const _0x3b4e71=this[_0x373d5a(0x8e7)][_0x373d5a(0x985)](_0x247ab8);if(!_0x3b4e71[_0x373d5a(0x5f9)](_0x480d00))throw new _0x3d0311(_0x3d0311[_0x373d5a(0x85e)][_0x373d5a(0x323)],{'nodeId':_0x247ab8,'label':_0x480d00,'localId':this['configs'][_0x373d5a(0x8cc)][_0x373d5a(0x68a)]()});const _0x2e941b=_0x3b4e71['get'](_0x480d00);this[_0x373d5a(0x15c)]['mediator'][_0x373d5a(0x132)](_0x2e941b),_0x2e941b[_0x373d5a(0x42d)](),_0x3b4e71[_0x373d5a(0x24c)](_0x480d00);}}var _0x5ca934,_0xf83d80,_0x197b0d;!function(_0x24063a){const _0x495c4e=_0x4bc902;_0x24063a['STVolatility']=_0x495c4e(0x6f0),_0x24063a[_0x495c4e(0x602)]=_0x495c4e(0x301),_0x24063a[_0x495c4e(0x21c)]=_0x495c4e(0x5d7),_0x24063a[_0x495c4e(0x241)]=_0x495c4e(0x2d5),_0x24063a[_0x495c4e(0x619)]=_0x495c4e(0x4b4),_0x24063a[_0x495c4e(0x95c)]=_0x495c4e(0x66c),_0x24063a[_0x495c4e(0x473)]=_0x495c4e(0x9ee),_0x24063a[_0x495c4e(0x1c6)]='av_delay';}(_0x5ca934||(_0x5ca934={})),function(_0x3e004){const _0x13ff8b=_0x4bc902;_0x3e004[_0x13ff8b(0x5a2)]=_0x13ff8b(0x146),_0x3e004[_0x13ff8b(0x21c)]=_0x13ff8b(0x126),_0x3e004['AudioVideoDelay']=_0x13ff8b(0x1cd),_0x3e004[_0x13ff8b(0x95c)]=_0x13ff8b(0x650),_0x3e004['Bitrate']='bandwidth.bitrate',_0x3e004[_0x13ff8b(0x619)]=_0x13ff8b(0x970),_0x3e004['RoundTripTime']='bandwidth.rtt';}(_0xf83d80||(_0xf83d80={})),function(_0x305cef){const _0x33f6fb=_0x4bc902;_0x305cef[_0x305cef[_0x33f6fb(0x957)]=0x0]='Problem';}(_0x197b0d||(_0x197b0d={}));const _0x347116=[{'type':_0x5ca934[_0x4bc902(0x5ac)],'reportMetric':_0x197c4b=>_0x197c4b[_0x4bc902(0x5ac)],'maxThreshold':2.5},{'type':_0x5ca934['DTVolatility'],'reportMetric':_0x20bc44=>_0x20bc44[_0x4bc902(0x602)],'maxThreshold':0.5}],_0x2c6c3b=[{'type':_0x5ca934[_0x4bc902(0x21c)],'reportMetric':_0x2fb5f4=>{const _0x23180b=_0x4bc902,_0x113760=0x3e8/_0x2fb5f4[_0x23180b(0x59e)];return _0x2fb5f4[_0x23180b(0x6a8)]/_0x113760;},'maxThreshold':0.75},{'type':_0x5ca934[_0x4bc902(0x241)],'reportMetric':_0x3b40bc=>{const _0x3b3bde=_0x4bc902,_0x5d251c=_0x3b40bc['FPS']*_0x3b40bc[_0x3b3bde(0x154)]*_0x3b40bc[_0x3b3bde(0x230)]*0.12;return _0x3b40bc[_0x3b3bde(0x2d5)]/_0x5d251c;},'minThreshold':0.25},{'type':_0x5ca934[_0x4bc902(0x619)],'reportMetric':_0x207dd3=>_0x207dd3[_0x4bc902(0x4b4)],'maxThreshold':0.6},{'type':_0x5ca934[_0x4bc902(0x95c)],'reportMetric':_0x5c4441=>_0x5c4441[_0x4bc902(0x59e)],'minThreshold':0xa}],_0x344754=[{'type':_0x5ca934['Jitter'],'reportMetric':_0x23bdf3=>_0x23bdf3['jitter'],'maxThreshold':0.6}],_0x219ac4=[{'type':_0x5ca934['RoundTripTime'],'reportMetric':_0xad993d=>_0xad993d[_0x4bc902(0x837)],'maxThreshold':0x1/0x0}],_0x111390=[{'type':_0x5ca934[_0x4bc902(0x1c6)],'reportMetric':_0x421b1c=>_0x421b1c['AudioVideoDelay'],'maxThreshold':0x12c}],_0x3caf57=[{'type':_0xf83d80['CPUCycle'],'issues':[{'type':_0x5ca934[_0x4bc902(0x5ac)],'threshold':0x5},{'type':_0x5ca934[_0x4bc902(0x602)],'threshold':0x5}]},{'type':_0xf83d80[_0x4bc902(0x21c)],'issues':[{'type':_0x5ca934[_0x4bc902(0x21c)],'threshold':0x3}]},{'type':_0xf83d80[_0x4bc902(0x1c6)],'issues':[{'type':_0x5ca934[_0x4bc902(0x1c6)],'threshold':0x2}]},{'type':_0xf83d80[_0x4bc902(0x95c)],'issues':[{'type':_0x5ca934[_0x4bc902(0x95c)],'threshold':0x3}]},{'type':_0xf83d80[_0x4bc902(0x241)],'issues':[{'type':_0x5ca934[_0x4bc902(0x241)],'threshold':0x3}]},{'type':_0xf83d80[_0x4bc902(0x619)],'issues':[{'type':_0x5ca934[_0x4bc902(0x619)],'threshold':0x3}]},{'type':_0xf83d80[_0x4bc902(0x473)],'issues':[{'type':_0x5ca934[_0x4bc902(0x473)],'threshold':0x3}]}];var _0x316e06,_0x4d9592;!function(_0x33d61d){const _0x383acd=_0x4bc902;_0x33d61d[_0x33d61d[_0x383acd(0x749)]=0x0]=_0x383acd(0x749),_0x33d61d[_0x33d61d['LocalReport']=0x1]=_0x383acd(0x905);}(_0x316e06||(_0x316e06={}));class _0x439d4a{[_0x4bc902(0x15c)];[_0x4bc902(0x4f4)]=[];[_0x4bc902(0x67d)];constructor(_0x21710b){const _0xf3a6b6=_0x4bc902;this[_0xf3a6b6(0x15c)]=_0x21710b,this[_0xf3a6b6(0x15c)][_0xf3a6b6(0x961)][_0xf3a6b6(0x61d)](this);}[_0x4bc902(0x75b)](_0x55e3cb){this['systemTopic']=_0x55e3cb;}[_0x4bc902(0x2ef)](){this['systemTopic']=void 0x0;}['close'](){const _0x179bda=_0x4bc902;this[_0x179bda(0x15c)][_0x179bda(0x961)][_0x179bda(0x132)](this),this[_0x179bda(0x4f4)]=[];}[_0x4bc902(0x1e3)](_0x1d524d){const _0x36942d=_0x4bc902;switch(_0x1d524d[_0x36942d(0xa0d)][_0x36942d(0x1aa)]){case _0x316e06['LocalReport']:this[_0x36942d(0x44a)](_0x1d524d['content'][_0x36942d(0x463)]);break;case _0x316e06[_0x36942d(0x749)]:this['detectStreamIssues'](_0x1d524d['content'][_0x36942d(0x463)]);}}[_0x4bc902(0x596)](_0x584525,_0x1c669e,_0x14e332,_0x52a866){const _0x3ee0e9=_0x4bc902,_0x47f009=_0x3caf57['find'](_0x34a77c=>_0x34a77c[_0x3ee0e9(0x4f4)][_0x3ee0e9(0x3eb)](_0x4892f7=>_0x4892f7[_0x3ee0e9(0x1aa)]===_0x584525));_0x52a866>=_0x47f009['issues'][_0x3ee0e9(0x731)](_0x16f0ae=>_0x16f0ae[_0x3ee0e9(0x1aa)]===_0x584525)[_0x3ee0e9(0x43b)]&&(this[_0x3ee0e9(0x1b8)](_0x47f009[_0x3ee0e9(0x1aa)],_0x1c669e,_0x14e332),this[_0x3ee0e9(0x4f4)]=this[_0x3ee0e9(0x4f4)][_0x3ee0e9(0x6f4)](_0x4f71f7=>!(_0x4f71f7['type']===_0x584525&&_0x4f71f7[_0x3ee0e9(0x617)]===_0x1c669e&&_0x4f71f7[_0x3ee0e9(0x42b)]===_0x14e332)));}[_0x4bc902(0x44a)](_0x4268a4){const _0x185efc=_0x4bc902;_0x347116[_0x185efc(0x105)](_0x1ef3df=>{const _0x241c98=_0x185efc,_0xacd3ca=_0x1ef3df[_0x241c98(0x4c9)](_0x4268a4);_0x1ef3df[_0x241c98(0x39c)]&&_0xacd3ca>_0x1ef3df[_0x241c98(0x39c)]&&this['addIssue'](_0x1ef3df[_0x241c98(0x1aa)],this[_0x241c98(0x15c)][_0x241c98(0x8cc)]['getId'](),_0x59a9f8[_0x241c98(0x1b2)],_0xacd3ca),_0x1ef3df[_0x241c98(0x13f)]&&_0xacd3ca<_0x1ef3df[_0x241c98(0x13f)]&&this[_0x241c98(0x211)](_0x1ef3df[_0x241c98(0x1aa)],this[_0x241c98(0x15c)]['localNode'][_0x241c98(0x68a)](),_0x59a9f8['Sender'],_0xacd3ca);});}[_0x4bc902(0x7ce)](_0x9e2089){const _0x2dc828=_0x4bc902;let _0x4c7b46=[];switch(_0x9e2089[_0x2dc828(0x42b)]){case _0x59a9f8[_0x2dc828(0x1b2)]:_0x4c7b46=_0x219ac4;break;case _0x59a9f8[_0x2dc828(0x6fd)]:_0x4c7b46=_0x111390;}_0x9e2089[_0x2dc828(0x47f)]&&this[_0x2dc828(0x926)](_0x9e2089[_0x2dc828(0x617)],_0x59a9f8['Sender'],_0x9e2089['video']),_0x9e2089[_0x2dc828(0x8c5)]&&this[_0x2dc828(0x593)](_0x9e2089[_0x2dc828(0x617)],_0x59a9f8['Sender'],_0x9e2089[_0x2dc828(0x8c5)]),_0x4c7b46['forEach'](_0x1c8d22=>{const _0x53242a=_0x2dc828,_0x4cd615=_0x1c8d22[_0x53242a(0x4c9)](_0x9e2089);_0x1c8d22[_0x53242a(0x39c)]&&_0x4cd615>_0x1c8d22[_0x53242a(0x39c)]&&this['addIssue'](_0x1c8d22[_0x53242a(0x1aa)],_0x9e2089[_0x53242a(0x617)],_0x59a9f8[_0x53242a(0x1b2)],_0x4cd615),_0x1c8d22['minThreshold']&&_0x4cd615<_0x1c8d22[_0x53242a(0x13f)]&&this[_0x53242a(0x211)](_0x1c8d22[_0x53242a(0x1aa)],_0x9e2089[_0x53242a(0x617)],_0x59a9f8[_0x53242a(0x1b2)],_0x4cd615);});}[_0x4bc902(0x926)](_0x36d62a,_0x4c05de,_0x5606bc){const _0x2e778e=_0x4bc902;0x0!==_0x5606bc[_0x2e778e(0x2d5)]&&_0x2c6c3b[_0x2e778e(0x105)](_0x275c29=>{const _0x36e73c=_0x2e778e,_0x5dd372=_0x275c29[_0x36e73c(0x4c9)](_0x5606bc);_0x275c29['maxThreshold']&&_0x5dd372>_0x275c29[_0x36e73c(0x39c)]&&this[_0x36e73c(0x211)](_0x275c29[_0x36e73c(0x1aa)],_0x36d62a,_0x4c05de,_0x5dd372,_0x36e73c(0x47f)),_0x275c29['minThreshold']&&_0x5dd372<_0x275c29[_0x36e73c(0x13f)]&&this[_0x36e73c(0x211)](_0x275c29[_0x36e73c(0x1aa)],_0x36d62a,_0x4c05de,_0x5dd372,_0x36e73c(0x47f));});}[_0x4bc902(0x593)](_0xee146b,_0x4625c2,_0x5da9ae){0x0!==_0x5da9ae['bitrate']&&_0x344754['forEach'](_0x1d7f24=>{const _0x57d4e0=a0_0x4227,_0x220ff2=_0x1d7f24[_0x57d4e0(0x4c9)](_0x5da9ae);_0x1d7f24[_0x57d4e0(0x39c)]&&_0x220ff2>_0x1d7f24[_0x57d4e0(0x39c)]&&this['addIssue'](_0x1d7f24[_0x57d4e0(0x1aa)],_0xee146b,_0x4625c2,_0x220ff2,_0x57d4e0(0x8c5)),_0x1d7f24['minThreshold']&&_0x220ff2<_0x1d7f24[_0x57d4e0(0x13f)]&&this[_0x57d4e0(0x211)](_0x1d7f24['type'],_0xee146b,_0x4625c2,_0x220ff2,_0x57d4e0(0x8c5));});}[_0x4bc902(0x211)](_0x1aa3e7,_0x435e13,_0x24dcc3,_0x4998f7,_0x377176){const _0x23eabc=_0x4bc902;_0x28bf01[_0x23eabc(0x5e2)](_0x4f63ff[_0x23eabc(0x8ce)],_0x23eabc(0x48b)+_0x1aa3e7,_0x1aa3e7,_0x4998f7),_0x28bf01['logEvent'](_0x23eabc(0x1a0),{'clusterId':this[_0x23eabc(0x15c)]['clusterId'],'nodeId':this[_0x23eabc(0x15c)]['localNode'][_0x23eabc(0x68a)](),'nodeType':this[_0x23eabc(0x15c)]['localNode'][_0x23eabc(0x1aa)],'remoteId':_0x435e13,'data':{'type':_0x1aa3e7,'value':_0x4998f7,'kind':_0x377176}}),this[_0x23eabc(0x4f4)]=this[_0x23eabc(0x4f4)][_0x23eabc(0x6f4)](_0x3a68ea=>Date['now']()-_0x3a68ea[_0x23eabc(0x9a4)]<0x7530),this[_0x23eabc(0x4f4)][_0x23eabc(0x5b2)]({'timestamp':Date[_0x23eabc(0xa09)](),'type':_0x1aa3e7,'nodeId':_0x435e13,'origin':_0x24dcc3,'value':_0x4998f7,'kind':_0x377176});const _0x392bda=this['issues']['filter'](_0x4f866d=>_0x4f866d[_0x23eabc(0x1aa)]===_0x1aa3e7&&_0x4f866d['nodeId']===_0x435e13&&_0x4f866d[_0x23eabc(0x42b)]===_0x24dcc3)[_0x23eabc(0x1d8)];this['detectProblems'](_0x1aa3e7,_0x435e13,_0x24dcc3,_0x392bda);}[_0x4bc902(0x1b8)](_0x5327c5,_0x494c83,_0x43085d){const _0x1057aa=_0x4bc902;_0x28bf01[_0x1057aa(0x5e2)](_0x4f63ff[_0x1057aa(0x8ce)],_0x1057aa(0x6e4)+_0x5327c5),_0x28bf01[_0x1057aa(0x7eb)](_0x1057aa(0x9f8),{'clusterId':this[_0x1057aa(0x15c)]['clusterId'],'nodeId':this[_0x1057aa(0x15c)]['localNode'][_0x1057aa(0x68a)](),'nodeType':this['configs'][_0x1057aa(0x8cc)][_0x1057aa(0x1aa)],'remoteId':_0x494c83,'data':{'type':_0x5327c5}}),this[_0x1057aa(0x67d)]?.[_0x1057aa(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x1057aa(0x8ce)],'content':{'type':_0x197b0d[_0x1057aa(0x957)],'data':{'timestamp':Date['now'](),'nodeId':_0x494c83,'origin':_0x59a9f8[_0x1057aa(0x1b2)],'type':_0x5327c5}}});}}class _0x4aa0f2 extends _0x1b1d26{['type']=_0x3e2379[_0x4bc902(0x676)][_0x4bc902(0x251)];}class _0x5350a8 extends _0x4aa0f2{[_0x4bc902(0x67d)];[_0x4bc902(0x2b3)]=Date['now']();[_0x4bc902(0x40e)];['lastUpdated'];[_0x4bc902(0x6bf)](){const _0x4a9a18=_0x4bc902;this[_0x4a9a18(0x40e)]&&(clearTimeout(this[_0x4a9a18(0x40e)]),delete this[_0x4a9a18(0x40e)]),delete this[_0x4a9a18(0x2af)],this[_0x4a9a18(0x2b3)]=Date[_0x4a9a18(0xa09)](),super['close']();}[_0x4bc902(0x75b)](_0x504e88){const _0x2dd2e3=_0x4bc902;this[_0x2dd2e3(0x67d)]=_0x504e88;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x4bc902(0x745)](_0x31469f){const _0x486ac3=_0x4bc902;!this['updateDebounceTimeout']&&this['rank']&&this[_0x486ac3(0x67d)][_0x486ac3(0x912)]({'sourceId':this['id'],'destinationIds':[_0x31469f],'propagate':!0x0,'messageType':_0x18db64[_0x486ac3(0x4c0)],'content':{'type':_0x57cc58['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x486ac3(0x1aa)]},'rank':this[_0x486ac3(0x328)](),'remoteConnections':Array[_0x486ac3(0x100)](this['remoteConnections']),'version':this['currentVersion']}});}['addRemoteConnection'](_0x43258a){const _0x287706=_0x4bc902;this[_0x287706(0x882)]['has'](_0x43258a)||(this[_0x287706(0x882)][_0x287706(0xa19)](_0x43258a),this[_0x287706(0x1bf)](),this['publishUserUpdate'](!0x0));}[_0x4bc902(0x3f3)](_0x5a057a){const _0xea16e8=_0x4bc902;this[_0xea16e8(0x882)][_0xea16e8(0x5f9)](_0x5a057a)&&(this['remoteConnections'][_0xea16e8(0x24c)](_0x5a057a),this[_0xea16e8(0x1bf)](),this[_0xea16e8(0x2c8)](!0x0));}[_0x4bc902(0x652)](){const _0x1def92=_0x4bc902;return this[_0x1def92(0x2b3)];}[_0x4bc902(0x76f)](_0x4943f0,_0xd1e66e=!0x0){const _0x47430d=_0x4bc902;this[_0x47430d(0x6ac)]!==_0x4943f0&&(this[_0x47430d(0x6ac)]=_0x4943f0,_0xd1e66e&&(this['incrementVersion'](),this['publishUserUpdate']()));}[_0x4bc902(0x1bf)](){const _0x582ea8=_0x4bc902;this['currentVersion']=Date[_0x582ea8(0xa09)]();}[_0x4bc902(0x2c8)](_0x333d27=!0x1){const _0x5097b1=_0x4bc902;if(this[_0x5097b1(0x6ac)]){if(this[_0x5097b1(0x2af)]||(this[_0x5097b1(0x2af)]=Date[_0x5097b1(0xa09)]()),this[_0x5097b1(0x40e)]){if(Date[_0x5097b1(0xa09)]()-this[_0x5097b1(0x2af)]>0x2328)return;clearTimeout(this[_0x5097b1(0x40e)]);}this[_0x5097b1(0x40e)]=setTimeout(()=>{const _0xf7579d=_0x5097b1;delete this[_0xf7579d(0x2af)],delete this['updateDebounceTimeout'],this[_0xf7579d(0x67d)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x18db64[_0xf7579d(0x4c0)],'content':{'type':_0x333d27?_0x57cc58[_0xf7579d(0x4d8)]:_0x57cc58[_0xf7579d(0x336)],'id':this['id'],'metaData':{'type':this[_0xf7579d(0x1aa)]},'rank':this[_0xf7579d(0x328)](),'remoteConnections':Array[_0xf7579d(0x100)](this[_0xf7579d(0x882)]),'version':this[_0xf7579d(0x2b3)]}});},0x3e8);}}}class _0x4aaafe extends _0x2de7a5{[_0x4bc902(0x67d)];[_0x4bc902(0x2b3)]=Date['now']();['updateDebounceTimeout'];[_0x4bc902(0x2af)];[_0x4bc902(0x6bf)](){const _0x404a92=_0x4bc902;this[_0x404a92(0x40e)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x404a92(0x40e)]),delete this[_0x404a92(0x2af)],this['currentVersion']=Date[_0x404a92(0xa09)](),super['close']();}[_0x4bc902(0x75b)](_0x373925){const _0x657d05=_0x4bc902;this[_0x657d05(0x67d)]=_0x373925;}[_0x4bc902(0x2ef)](){delete this['systemTopic'];}[_0x4bc902(0x745)](_0x24ecb6){const _0x1efd61=_0x4bc902;!this[_0x1efd61(0x40e)]&&this['rank']&&this['systemTopic']['publish']({'sourceId':this['id'],'destinationIds':[_0x24ecb6],'propagate':!0x0,'messageType':_0x18db64['Node'],'content':{'type':_0x57cc58[_0x1efd61(0x336)],'id':this['id'],'metaData':{'type':this[_0x1efd61(0x1aa)],'displayName':this[_0x1efd61(0x1e4)](),'email':this['getEmail']()},'rank':this[_0x1efd61(0x328)](),'remoteConnections':Array[_0x1efd61(0x100)](this[_0x1efd61(0x882)]),'version':this[_0x1efd61(0x2b3)]}});}[_0x4bc902(0x724)](_0x223708){const _0x27b175=_0x4bc902;this[_0x27b175(0x882)][_0x27b175(0x5f9)](_0x223708)||(this[_0x27b175(0x882)]['add'](_0x223708),this[_0x27b175(0x1bf)](),this[_0x27b175(0x2c8)](!0x0));}[_0x4bc902(0x3f3)](_0x1554f6){const _0x408e34=_0x4bc902;this[_0x408e34(0x882)]['has'](_0x1554f6)&&(this[_0x408e34(0x882)][_0x408e34(0x24c)](_0x1554f6),this[_0x408e34(0x1bf)](),this[_0x408e34(0x2c8)](!0x0));}[_0x4bc902(0x652)](){const _0x4981c3=_0x4bc902;return this[_0x4981c3(0x2b3)];}[_0x4bc902(0x80a)](_0x545f8){const _0x216b62=_0x4bc902;this[_0x216b62(0x474)]!==_0x545f8&&(this[_0x216b62(0x474)]=_0x545f8,this[_0x216b62(0x1bf)](),this[_0x216b62(0x2c8)]());}['setEmail'](_0x25138d){const _0x49b176=_0x4bc902;this[_0x49b176(0x6ea)]!==_0x25138d&&(this[_0x49b176(0x6ea)]=_0x25138d,this['incrementVersion'](),this[_0x49b176(0x2c8)]());}[_0x4bc902(0x76f)](_0x979873,_0x4af0c1=!0x0){const _0x2c3580=_0x4bc902;this[_0x2c3580(0x6ac)]!==_0x979873&&(this['rank']=_0x979873,_0x4af0c1&&(this[_0x2c3580(0x1bf)](),this['publishUserUpdate']()));}['incrementVersion'](){const _0x5e1ed6=_0x4bc902;this[_0x5e1ed6(0x2b3)]=Date[_0x5e1ed6(0xa09)]();}[_0x4bc902(0x2c8)](_0x39d233=!0x1){const _0x38224b=_0x4bc902;if(this[_0x38224b(0x6ac)]){if(this[_0x38224b(0x2af)]||(this[_0x38224b(0x2af)]=Date[_0x38224b(0xa09)]()),this['updateDebounceTimeout']){if(Date['now']()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x38224b(0x40e)]);}this[_0x38224b(0x40e)]=setTimeout(()=>{const _0x1e5059=_0x38224b;delete this['lastUpdated'],delete this[_0x1e5059(0x40e)],this[_0x1e5059(0x67d)][_0x1e5059(0x912)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x18db64[_0x1e5059(0x4c0)],'content':{'type':_0x39d233?_0x57cc58['NodeConnectionsUpdate']:_0x57cc58['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x1e5059(0x1aa)],'displayName':this[_0x1e5059(0x1e4)](),'email':this['getEmail']()},'rank':this[_0x1e5059(0x328)](),'remoteConnections':Array[_0x1e5059(0x100)](this[_0x1e5059(0x882)]),'version':this['currentVersion']}});},0x3e8);}}}class _0x3145bc{['id'];['groupId'];[_0x4bc902(0x203)];[_0x4bc902(0x861)];[_0x4bc902(0x1aa)]=_0x3e2379[_0x4bc902(0x676)][_0x4bc902(0x251)];['lastCapacityReport'];constructor(_0x16ddeb,_0x32d6c3,_0x5b8fc3,_0x376bcd){const _0x50c6f9=_0x4bc902;this['id']=_0x16ddeb,this[_0x50c6f9(0x645)]=_0x32d6c3,this[_0x50c6f9(0x203)]=_0x5b8fc3,this[_0x50c6f9(0x861)]=_0x376bcd;}['getId'](){return this['id'];}['onConfigurationChange'](_0x1e0cb7){const _0x1200e3=_0x4bc902,_0x3d8bad=(0x0,_0x456efb['onSnapshot'])((0x0,_0x456efb[_0x1200e3(0x22d)])(_0x14b3ac[_0x1200e3(0x6c4)](),_0x1200e3(0x217)+this[_0x1200e3(0x203)]+_0x1200e3(0x411)+this['groupId']),_0x1147d0=>{const _0x38acfa=_0x1200e3;if(_0x1147d0[_0x38acfa(0x770)]()){const _0x63b7b5=_0x1147d0['data']();if(this['agentConfig'][_0x38acfa(0x9a4)][_0x38acfa(0x771)](_0x63b7b5['timestamp']))return;_0x28bf01[_0x38acfa(0x5e2)](_0x4f63ff[_0x38acfa(0x4c0)],'agent-config-changed',{'agentId':this['id'],'groupId':this[_0x38acfa(0x645)],'oldConfig':this[_0x38acfa(0x861)],'newConfig':_0x63b7b5}),this[_0x38acfa(0x861)]=_0x63b7b5,_0x1e0cb7();}});return()=>_0x3d8bad();}[_0x4bc902(0x933)](_0x3782e4){const _0x418285=_0x4bc902;return this['reportCapacity'](this[_0x418285(0x645)],_0x3782e4),_0x58c1db[_0x418285(0x1d2)](()=>this[_0x418285(0x79e)](this[_0x418285(0x645)],_0x3782e4),0x7530);}[_0x4bc902(0x654)](){const _0x51bbfb=_0x4bc902;if(!this['lastCapacityReport'])throw new _0x3d0311(_0x3d0311[_0x51bbfb(0x85e)][_0x51bbfb(0x478)]);return this[_0x51bbfb(0x948)];}async[_0x4bc902(0x79e)](_0x205476,_0x14fc6d){const _0x42f441=_0x4bc902,_0x22e5f8=await _0x14fc6d();this[_0x42f441(0x948)]=_0x22e5f8,await(0x0,_0x456efb['addDoc'])((0x0,_0x456efb[_0x42f441(0x61f)])(_0x14b3ac[_0x42f441(0x6c4)](),_0x42f441(0x217)+this['vendorId']+_0x42f441(0x36a)),{'agentId':this['id'],'groupId':_0x205476,'timestamp':(0x0,_0x456efb[_0x42f441(0x5e8)])(),'capacity':_0x22e5f8});}}!function(_0x17f6e6){const _0xfa7a09=_0x4bc902;_0x17f6e6[_0x17f6e6[_0xfa7a09(0x317)]=0x0]=_0xfa7a09(0x317),_0x17f6e6[_0x17f6e6[_0xfa7a09(0x694)]=0x1]='Offline';}(_0x4d9592||(_0x4d9592={}));class _0x23ec9b extends _0x4aa0f2{[_0x4bc902(0x2b3)];[_0x4bc902(0x1a8)]=_0x4d9592[_0x4bc902(0x317)];[_0x4bc902(0x2af)]=Date[_0x4bc902(0xa09)]();constructor(_0x3b95ba,_0x30bef4=new Set(),_0x5c6870,_0x35144d){super(_0x3b95ba,_0x30bef4,_0x35144d),this['currentVersion']=_0x5c6870;}['getCurrentVersion'](){const _0xf939c4=_0x4bc902;return this[_0xf939c4(0x2b3)];}['getStatus'](){return this['status'];}[_0x4bc902(0x2a7)](){return this['lastUpdated'];}[_0x4bc902(0x76f)](_0x317d2e){const _0x40a9ff=_0x4bc902;this['rank']!==_0x317d2e&&(this[_0x40a9ff(0x6ac)]=_0x317d2e,this[_0x40a9ff(0x5ff)]());}['setRemoteConnections'](_0x412cf3){const _0x24476a=_0x4bc902;let _0x285f82=!0x1;for(const _0x1ad629 of this[_0x24476a(0x882)])_0x412cf3[_0x24476a(0x7f5)](_0x1ad629)||(_0x285f82=!0x0,this['remoteConnections'][_0x24476a(0x24c)](_0x1ad629));for(const _0x2a005d of _0x412cf3)this[_0x24476a(0x882)]['has'](_0x2a005d)||(_0x285f82=!0x0,this[_0x24476a(0x882)][_0x24476a(0xa19)](_0x2a005d));_0x285f82&&this[_0x24476a(0x5ff)]();}[_0x4bc902(0x81e)](_0x5f2fc1){const _0x35d67e=_0x4bc902;this[_0x35d67e(0x2b3)]!==_0x5f2fc1&&(this[_0x35d67e(0x2b3)]=_0x5f2fc1,this['updateLastUpdated']());}['setStatus'](_0x1f3b50){const _0x38e44d=_0x4bc902;this[_0x38e44d(0x1a8)]!==_0x1f3b50&&(this[_0x38e44d(0x1a8)]=_0x1f3b50,this[_0x38e44d(0x5ff)](),_0x1f3b50===_0x4d9592[_0x38e44d(0x694)]&&this[_0x38e44d(0x6bf)]());}[_0x4bc902(0x5ff)](){const _0x493e43=_0x4bc902;this['lastUpdated']=Date[_0x493e43(0xa09)]();}}class _0x195c2f extends _0x2de7a5{[_0x4bc902(0x2b3)];[_0x4bc902(0x1a8)]=_0x4d9592[_0x4bc902(0x317)];['lastUpdated']=Date['now']();constructor(_0x32e986,_0x56ab93,_0x2e2000,_0x390ee1=new Set(),_0x4fa881,_0x4cafea){const _0x4eada1=_0x4bc902;super(_0x32e986,_0x56ab93,_0x2e2000,_0x390ee1,_0x4cafea),this[_0x4eada1(0x2b3)]=_0x4fa881;}['getCurrentVersion'](){const _0x27d24f=_0x4bc902;return this[_0x27d24f(0x2b3)];}[_0x4bc902(0x1ef)](){const _0x28a8d3=_0x4bc902;return this[_0x28a8d3(0x1a8)];}['getLastUpdated'](){return this['lastUpdated'];}[_0x4bc902(0x80a)](_0x388244){const _0x147e12=_0x4bc902;this['displayName']!==_0x388244&&(this[_0x147e12(0x474)]=_0x388244,this['updateLastUpdated']());}['setEmail'](_0x14ebd0){const _0x7cafb3=_0x4bc902;this[_0x7cafb3(0x6ea)]!==_0x14ebd0&&(this[_0x7cafb3(0x6ea)]=_0x14ebd0,this['updateLastUpdated']());}[_0x4bc902(0x76f)](_0x2787b4){const _0x4560fa=_0x4bc902;this[_0x4560fa(0x6ac)]!==_0x2787b4&&(this[_0x4560fa(0x6ac)]=_0x2787b4,this[_0x4560fa(0x5ff)]());}[_0x4bc902(0x44b)](_0x1c6d69){const _0x44b5d1=_0x4bc902;let _0x2bd296=!0x1;for(const _0x5bc516 of this['remoteConnections'])_0x1c6d69[_0x44b5d1(0x7f5)](_0x5bc516)||(_0x2bd296=!0x0,this[_0x44b5d1(0x882)][_0x44b5d1(0x24c)](_0x5bc516));for(const _0x3ca8f6 of _0x1c6d69)this[_0x44b5d1(0x882)][_0x44b5d1(0x5f9)](_0x3ca8f6)||(_0x2bd296=!0x0,this[_0x44b5d1(0x882)][_0x44b5d1(0xa19)](_0x3ca8f6));_0x2bd296&&this[_0x44b5d1(0x5ff)]();}[_0x4bc902(0x81e)](_0x2287a6){const _0x38d38e=_0x4bc902;this[_0x38d38e(0x2b3)]!==_0x2287a6&&(this['currentVersion']=_0x2287a6,this[_0x38d38e(0x5ff)]());}[_0x4bc902(0x135)](_0x3cf88f){const _0x144f6b=_0x4bc902;this['status']!==_0x3cf88f&&(this[_0x144f6b(0x1a8)]=_0x3cf88f,this[_0x144f6b(0x5ff)](),_0x3cf88f===_0x4d9592['Offline']&&this[_0x144f6b(0x6bf)]());}[_0x4bc902(0x5ff)](){const _0x5cc603=_0x4bc902;this[_0x5cc603(0x2af)]=Date[_0x5cc603(0xa09)]();}}class _0x388f75{[_0x4bc902(0x203)];[_0x4bc902(0x6a2)];[_0x4bc902(0x8cc)];['minConnections'];[_0x4bc902(0x525)]=_0x3359b0();[_0x4bc902(0x873)];[_0x4bc902(0x285)];['onDisconnectHandler'];[_0x4bc902(0x2cd)]=!0x1;[_0x4bc902(0x50c)];[_0x4bc902(0x140)];constructor(_0x10a708,_0x3e1ecd,_0x41e064,_0x323b0a){const _0x388cd3=_0x4bc902;this[_0x388cd3(0x203)]=_0x10a708,this[_0x388cd3(0x6a2)]=_0x3e1ecd,this[_0x388cd3(0x8cc)]=_0x41e064,this['minConnections']=_0x323b0a,this[_0x388cd3(0x50c)]='ccc'+this[_0x388cd3(0x203)]+_0x388cd3(0x378)+this['clusterId'],this[_0x388cd3(0x140)]=_0x388cd3(0x378)+this[_0x388cd3(0x203)]+'ccc'+this[_0x388cd3(0x8cc)][_0x388cd3(0x68a)](),this[_0x388cd3(0x873)]=(0x0,_0x6f4244['onValue'])((0x0,_0x6f4244[_0x388cd3(0x6ef)])(_0x14b3ac[_0x388cd3(0x4ef)](),_0x388cd3(0x64d)),_0x23f3a0=>{const _0x52b487=_0x388cd3;!0x0!==_0x23f3a0[_0x52b487(0x574)]()?this['connected']&&_0x28bf01[_0x52b487(0x1ca)](_0x52b487(0x566),{'clusterId':this[_0x52b487(0x6a2)],'nodeId':this['localNode'][_0x52b487(0x68a)](),'nodeType':this['localNode'][_0x52b487(0x1aa)]}):(this['connected']=!0x0,this[_0x52b487(0x4bd)](),_0x28bf01[_0x52b487(0x6b4)]('firebase-connect',{'clusterId':this['clusterId'],'nodeId':this[_0x52b487(0x8cc)][_0x52b487(0x68a)](),'nodeType':this['localNode'][_0x52b487(0x1aa)]}));});}async['join'](){const _0x2c4298=_0x4bc902;await this['joinCluster']();const _0x3b132b=await this[_0x2c4298(0x45a)]();return this['childRemovedUnsubscriber']=(0x0,_0x6f4244[_0x2c4298(0x4a2)])((0x0,_0x6f4244[_0x2c4298(0x6ef)])(_0x14b3ac[_0x2c4298(0x4ef)](),'clusters/'+this[_0x2c4298(0x50c)]+_0x2c4298(0x7f3)),_0x368844=>{const _0x26b555=_0x2c4298,_0x419a0a=_0x368844[_0x26b555(0x7ab)];if(!_0x419a0a)return;const _0xa2da8=_0x419a0a[_0x26b555(0x8fc)](_0x26b555(0x378)+this[_0x26b555(0x203)]+_0x26b555(0x378),'');this[_0x26b555(0x525)][_0x26b555(0x912)](_0xa2da8);}),_0x3b132b;}async[_0x4bc902(0x6bf)](){const _0x2b31d1=_0x4bc902;this[_0x2b31d1(0x285)]?.(),delete this[_0x2b31d1(0x285)],this['onDisconnectHandler']?.[_0x2b31d1(0x6b1)](),delete this[_0x2b31d1(0x99f)],this[_0x2b31d1(0x873)]?.(),delete this[_0x2b31d1(0x873)],await(0x0,_0x6f4244['remove'])((0x0,_0x6f4244[_0x2b31d1(0x6ef)])(_0x14b3ac[_0x2b31d1(0x4ef)](),_0x2b31d1(0x7fe)+this['clusterKey']+_0x2b31d1(0x815)+this[_0x2b31d1(0x140)]));}[_0x4bc902(0x667)](_0x379429){const _0x219996=_0x4bc902;return this[_0x219996(0x525)][_0x219996(0x9e4)](_0x379429);}async[_0x4bc902(0x45a)](){const _0x275376=_0x4bc902,_0x30bd49=[],_0x4ee5cb=await(0x0,_0x6f4244[_0x275376(0x985)])((0x0,_0x6f4244[_0x275376(0x6ef)])(_0x14b3ac[_0x275376(0x4ef)](),_0x275376(0x7fe)+this[_0x275376(0x50c)]+_0x275376(0x7f3))),_0xee2021=[];return _0x4ee5cb[_0x275376(0x105)](_0x108ee3=>{const _0x44a8a6=_0x275376,_0x2fb200=_0x108ee3[_0x44a8a6(0x7ab)]?.['replace'](_0x44a8a6(0x378)+this['vendorId']+'ccc','');_0xee2021['push']({'id':_0x2fb200,'joinedAt':_0x108ee3['val']()[_0x44a8a6(0x540)],'priority':_0x108ee3[_0x44a8a6(0x574)]()[_0x44a8a6(0x192)]});}),_0xee2021[_0x275376(0x728)]((_0x1d601d,_0x58b5a1)=>_0x1d601d[_0x275376(0x540)]===_0x58b5a1[_0x275376(0x540)]?_0x1d601d['priority']-_0x58b5a1['priority']:_0x1d601d[_0x275376(0x540)]-_0x58b5a1['joinedAt'])['splice'](_0xee2021[_0x275376(0x69c)](_0x32c300=>_0x32c300['id']===this['localNode'][_0x275376(0x68a)]())),_0xee2021[_0x275376(0x728)]((_0x431119,_0x57a80b)=>_0x57a80b[_0x275376(0x540)]===_0x431119['joinedAt']?_0x57a80b[_0x275376(0x192)]-_0x431119[_0x275376(0x192)]:_0x57a80b['joinedAt']-_0x431119[_0x275376(0x540)])[_0x275376(0x105)](_0x543a4d=>{const _0x347f11=_0x275376;_0x30bd49[_0x347f11(0x1d8)]>=this[_0x347f11(0x1cc)]||_0x30bd49[_0x347f11(0x5b2)](_0x543a4d['id']);}),_0x28bf01[_0x275376(0x7eb)](_0x275376(0x3d7),{'clusterId':this[_0x275376(0x6a2)],'nodeId':this[_0x275376(0x8cc)][_0x275376(0x68a)](),'nodeType':this[_0x275376(0x8cc)][_0x275376(0x1aa)],'data':{'ancestorIds':_0x30bd49,'allNodes':_0xee2021}}),_0x30bd49;}async[_0x4bc902(0x1f1)](){const _0x232f2f=_0x4bc902;await(0x0,_0x6f4244[_0x232f2f(0x179)])((0x0,_0x6f4244[_0x232f2f(0x6ef)])(_0x14b3ac['getDatabase'](),_0x232f2f(0x7fe)+this['clusterKey']+'/nodes/'+this[_0x232f2f(0x140)]),{'joinedAt':(0x0,_0x6f4244['serverTimestamp'])(),'priority':Math[_0x232f2f(0x983)]()});}[_0x4bc902(0x4bd)](){const _0x1450bc=_0x4bc902;this['onDisconnectHandler']&&this[_0x1450bc(0x99f)][_0x1450bc(0x6b1)](),this['onDisconnectHandler']=(0x0,_0x6f4244[_0x1450bc(0x6bc)])((0x0,_0x6f4244[_0x1450bc(0x6ef)])(_0x14b3ac['getDatabase'](),'clusters/'+this['clusterKey']+_0x1450bc(0x815)+this[_0x1450bc(0x140)])),this[_0x1450bc(0x99f)]['remove']();}}class _0x3e1097{[_0x4bc902(0x15c)];[_0x4bc902(0x9ed)];[_0x4bc902(0x34b)];[_0x4bc902(0x5be)];['discoveryUnsubscriber'];[_0x4bc902(0x7b3)]=[];[_0x4bc902(0x67d)];[_0x4bc902(0x72d)]=new Map();[_0x4bc902(0x6f2)];[_0x4bc902(0x535)];[_0x4bc902(0x585)];['resolveReady'];[_0x4bc902(0x308)];[_0x4bc902(0x3fb)];constructor(_0x453e38,_0x317076){const _0x3f8e8f=_0x4bc902;this['configs']=_0x453e38,this['graphService']=_0x317076,this['_isReady']=new Promise((_0x3374cf,_0xc48030)=>{const _0x1c43dc=a0_0x4227;this[_0x1c43dc(0x794)]=_0x3374cf,this['rejectReady']=_0xc48030;}),this[_0x3f8e8f(0x5be)]=new _0x388f75(this[_0x3f8e8f(0x15c)][_0x3f8e8f(0x203)],this[_0x3f8e8f(0x15c)][_0x3f8e8f(0x6a2)],this['configs'][_0x3f8e8f(0x8cc)],this[_0x3f8e8f(0x9ed)]['getMinConnections']()),this[_0x3f8e8f(0x681)]=this[_0x3f8e8f(0x5be)][_0x3f8e8f(0x667)](this['handleNodeDisconnect'][_0x3f8e8f(0x4b0)](this)),this[_0x3f8e8f(0x15c)][_0x3f8e8f(0x961)][_0x3f8e8f(0x61d)](this[_0x3f8e8f(0x15c)][_0x3f8e8f(0x8cc)]),this[_0x3f8e8f(0x15c)][_0x3f8e8f(0x961)][_0x3f8e8f(0x61d)](this),this[_0x3f8e8f(0x34b)]=_0x58c1db[_0x3f8e8f(0x1d2)](()=>{const _0x48b562=_0x3f8e8f,_0x1e886c=Date['now']();this[_0x48b562(0x9ed)][_0x48b562(0x4d5)]()[_0x48b562(0x105)](_0x5bbf02=>{const _0x1ae33e=_0x48b562;_0x5bbf02[_0x1ae33e(0x1ef)]()===_0x4d9592[_0x1ae33e(0x694)]&&_0x5bbf02['getLastUpdated']()<_0x1e886c-0x493e0&&this[_0x1ae33e(0x9ed)][_0x1ae33e(0x97d)](_0x5bbf02[_0x1ae33e(0x68a)]());});},0xea60);}async[_0x4bc902(0x37e)](){const _0x2d53c2=_0x4bc902;return this[_0x2d53c2(0x585)];}async[_0x4bc902(0x764)](_0x3f6f61){return new Promise((_0x27f785,_0x51182b)=>{const _0x1d1087=a0_0x4227;let _0x41cf54;const _0x2f66ad=setTimeout(()=>{const _0x5eee38=a0_0x4227;_0x41cf54?.(),_0x51182b(new Error(_0x5eee38(0x71b)+_0x3f6f61+_0x5eee38(0x2fa)));},0x2710);if(this[_0x1d1087(0x9ed)]['hasRemoteNode'](_0x3f6f61))return clearTimeout(_0x2f66ad),void _0x27f785(!0x0);_0x41cf54=this[_0x1d1087(0x9ed)][_0x1d1087(0x591)](()=>{const _0x543b5c=_0x1d1087;this[_0x543b5c(0x9ed)][_0x543b5c(0x333)](_0x3f6f61)&&(clearTimeout(_0x2f66ad),_0x27f785(!0x0),_0x41cf54?.());});});}[_0x4bc902(0x75b)](_0x181f93){const _0x14fe12=_0x4bc902;this[_0x14fe12(0x67d)]=_0x181f93;}[_0x4bc902(0x2ef)](){delete this['systemTopic'];}[_0x4bc902(0x6bf)](){const _0x41097b=_0x4bc902;this[_0x41097b(0x6f2)]&&(clearTimeout(this[_0x41097b(0x6f2)]),delete this[_0x41097b(0x6f2)]),delete this[_0x41097b(0x535)],this[_0x41097b(0x15c)][_0x41097b(0x8cc)][_0x41097b(0x6bf)](),this['remoteUnsubscriber'](),this[_0x41097b(0x681)](),this[_0x41097b(0x15c)][_0x41097b(0x961)][_0x41097b(0x132)](this[_0x41097b(0x15c)]['localNode']),this['configs'][_0x41097b(0x961)][_0x41097b(0x132)](this),this[_0x41097b(0x5be)][_0x41097b(0x6bf)]();}[_0x4bc902(0x367)](){const _0x561cbf=_0x4bc902;return this[_0x561cbf(0x7b3)];}['getLocalId'](){const _0x1553e1=_0x4bc902;return this[_0x1553e1(0x15c)][_0x1553e1(0x8cc)]['getId']();}[_0x4bc902(0x2dc)](){const _0x127253=_0x4bc902;return this['configs'][_0x127253(0x8cc)];}[_0x4bc902(0x4d5)](_0xb23357){const _0x4b212e=_0x4bc902,_0x17c526=Array[_0x4b212e(0x100)](this['graphService'][_0x4b212e(0x4d5)]()[_0x4b212e(0x437)]())[_0x4b212e(0x6f4)](_0x28e38a=>_0x28e38a[_0x4b212e(0x1ef)]()===_0x4d9592[_0x4b212e(0x317)]);return _0xb23357?_0x17c526[_0x4b212e(0x6f4)](_0xb23357):_0x17c526;}async['discover'](){const _0xbe3855=_0x4bc902;return this['ancestors']=await this[_0xbe3855(0x5be)]['join'](),this[_0xbe3855(0x7b3)]['length']<this['graphService'][_0xbe3855(0x224)]()&&(this[_0xbe3855(0x15c)]['localNode'][_0xbe3855(0x76f)](this[_0xbe3855(0x7b3)][_0xbe3855(0x1d8)]+0x1),this['processRank']()),this[_0xbe3855(0x7b3)];}[_0x4bc902(0x58d)](_0x43f7cd,_0x4caeb7){const _0x5f22af=_0x4bc902,_0x27495a=this[_0x5f22af(0x15c)][_0x5f22af(0x8cc)][_0x5f22af(0x393)](),_0x4a4b1f=new Set(_0x27495a),_0xc17eb7=Array['from'](_0x27495a)['filter'](_0x5133b9=>_0x5133b9!==_0x43f7cd)[_0x5f22af(0x8a3)](_0x354ad2=>({'id':_0x354ad2,'distance':0x1}));for(;_0xc17eb7[_0x5f22af(0x1d8)]>0x0;){const _0x52a852=_0xc17eb7[_0x5f22af(0x47b)]();if(!_0x52a852)continue;if(_0x52a852['id']===_0x4caeb7)return _0x52a852[_0x5f22af(0x160)];const _0x1340b6=this[_0x5f22af(0x9ed)][_0x5f22af(0x2ac)](_0x52a852['id']);_0x1340b6&&_0x1340b6[_0x5f22af(0x1ef)]()!==_0x4d9592[_0x5f22af(0x694)]&&_0x1340b6[_0x5f22af(0x393)]()[_0x5f22af(0x105)](_0x4b9f9f=>{const _0x4980d1=_0x5f22af;_0x4a4b1f['has'](_0x4b9f9f)||(_0x4a4b1f[_0x4980d1(0xa19)](_0x4b9f9f),_0xc17eb7[_0x4980d1(0x5b2)]({'id':_0x4b9f9f,'distance':_0x52a852[_0x4980d1(0x160)]+0x1}));});}return-0x1;}[_0x4bc902(0x289)](_0x59c043){const _0x4abdcf=_0x4bc902;try{switch(_0x59c043[_0x4abdcf(0xa0d)][_0x4abdcf(0x1aa)]){case _0x57cc58[_0x4abdcf(0x336)]:case _0x57cc58[_0x4abdcf(0x4d8)]:this[_0x4abdcf(0x8a5)](_0x59c043['content']),_0x28bf01[_0x4abdcf(0x5e2)](_0x4f63ff['Node'],_0x4abdcf(0x2ae),'\x27'+this[_0x4abdcf(0x15c)][_0x4abdcf(0x8cc)][_0x4abdcf(0x68a)]()+',\x20'+_0x59c043[_0x4abdcf(0x86d)]+'\x27',_0x59c043,_0x59c043[_0x4abdcf(0xa0d)]);break;case _0x57cc58[_0x4abdcf(0x8b7)]:this[_0x4abdcf(0x9b0)](_0x59c043['content']['id']),_0x28bf01['log'](_0x4f63ff['Node'],_0x4abdcf(0x85d),'\x27'+this[_0x4abdcf(0x15c)][_0x4abdcf(0x8cc)][_0x4abdcf(0x68a)]()+',\x20'+_0x59c043[_0x4abdcf(0x86d)]+'\x27',_0x59c043,_0x59c043[_0x4abdcf(0xa0d)]);}}catch(_0x463e00){if(_0x463e00 instanceof _0x257d72)return void _0x28bf01['log'](_0x4f63ff[_0x4abdcf(0x4c0)],_0x463e00['message']);throw _0x463e00;}}[_0x4bc902(0x379)](_0x40ffcf){const _0xa84dae=_0x4bc902;switch(_0x40ffcf[_0xa84dae(0xa0d)][_0xa84dae(0x1aa)]){case _0x10d48f['Success']:this['handleConnectionSuccess'](_0x40ffcf['sourceId']),_0x28bf01['log'](_0x4f63ff[_0xa84dae(0x4c0)],_0xa84dae(0x814),'\x27'+this['configs'][_0xa84dae(0x8cc)][_0xa84dae(0x68a)]()+',\x20'+_0x40ffcf['sourceId']+'\x27',_0x40ffcf,_0x40ffcf[_0xa84dae(0xa0d)]);break;case _0x10d48f[_0xa84dae(0x60d)]:this[_0xa84dae(0x16a)](_0x40ffcf[_0xa84dae(0x86d)]),_0x28bf01['log'](_0x4f63ff[_0xa84dae(0x4c0)],_0xa84dae(0x64a),this[_0xa84dae(0x15c)]['localNode'][_0xa84dae(0x68a)](),_0x40ffcf,_0x40ffcf[_0xa84dae(0xa0d)]);}}[_0x4bc902(0x221)](_0x4cdbe3){const _0x17634a=_0x4bc902;this[_0x17634a(0x5dc)](_0x4cdbe3),this[_0x17634a(0x4cb)](_0x4cdbe3);}[_0x4bc902(0x4cb)](_0x2e0a2d){const _0xb3da51=_0x4bc902;this['configs'][_0xb3da51(0x8cc)][_0xb3da51(0x745)](_0x2e0a2d['id']),this[_0xb3da51(0x359)](_0x2e0a2d['id']),this[_0xb3da51(0x1be)](_0x2e0a2d);}[_0x4bc902(0x8a5)](_0x2c4554){const _0x302762=_0x4bc902,{id:_0x597b73,metaData:_0x47d008,rank:_0x255bc4,remoteConnections:_0x10822e,version:_0xde3412}=_0x2c4554,_0x4383b1=this[_0x302762(0x9ed)][_0x302762(0x2ac)](_0x597b73);if(_0x4383b1){if(!(_0xde3412<=_0x4383b1[_0x302762(0x652)]())){if(_0x4383b1['setRemoteConnections'](_0x10822e),_0x4383b1['setCurrentVersion'](_0xde3412),_0x4383b1[_0x302762(0x1aa)]===_0x3e2379[_0x302762(0x676)][_0x302762(0x6e6)]&&_0x47d008[_0x302762(0x1aa)]===_0x3e2379[_0x302762(0x676)][_0x302762(0x6e6)]&&(_0x4383b1[_0x302762(0x80a)](_0x47d008[_0x302762(0x474)]),_0x4383b1[_0x302762(0x600)](_0x47d008[_0x302762(0x6ea)])),_0x255bc4&&_0x4383b1[_0x302762(0x76f)](_0x255bc4),this[_0x302762(0x9ae)](_0x597b73,_0x255bc4),_0x4383b1[_0x302762(0x1ef)]()===_0x4d9592[_0x302762(0x694)])return _0x4383b1['setStatus'](_0x4d9592[_0x302762(0x317)]),this[_0x302762(0x5de)](),void this[_0x302762(0x4cb)](_0x2c4554);this[_0x302762(0x5de)](),this[_0x302762(0x24b)]({'id':_0x597b73,'metaData':_0x47d008,'remoteConnections':_0x10822e,'version':_0xde3412});}}else this[_0x302762(0x221)](_0x2c4554);}['setLocalRank'](_0x5adb5b,_0x7e608){const _0x1f4777=_0x4bc902;_0x7e608&&this[_0x1f4777(0x7b3)][_0x1f4777(0x7f5)](_0x5adb5b)&&this['configs'][_0x1f4777(0x8cc)]['setRank'](_0x7e608+this[_0x1f4777(0x7b3)][_0x1f4777(0x530)](_0x5adb5b)+0x1);}[_0x4bc902(0x75e)](_0x2f86ad){const _0x2a5108=_0x4bc902;this[_0x2a5108(0x15c)][_0x2a5108(0x8cc)]['addRemoteConnection'](_0x2f86ad);}['createRemoteNode']({id:_0x5a6a94,metaData:_0x2bd3c7,rank:_0x4cb3bf,remoteConnections:_0x366967,version:_0x47c76f}){const _0x5e4ec7=_0x4bc902;if(this[_0x5e4ec7(0x9ed)][_0x5e4ec7(0x333)](_0x5a6a94))throw new _0x257d72(_0x5e4ec7(0x12b)+_0x5a6a94);switch(_0x2bd3c7[_0x5e4ec7(0x1aa)]){case _0x3e2379[_0x5e4ec7(0x676)][_0x5e4ec7(0x6e6)]:const {displayName:_0x2901da,email:_0x5d169e}=_0x2bd3c7;this['graphService'][_0x5e4ec7(0x497)](_0x5a6a94,new _0x195c2f(_0x5a6a94,_0x2901da,_0x5d169e,new Set(_0x366967),_0x47c76f,_0x4cb3bf));break;case _0x3e2379[_0x5e4ec7(0x676)][_0x5e4ec7(0x251)]:this[_0x5e4ec7(0x9ed)][_0x5e4ec7(0x497)](_0x5a6a94,new _0x23ec9b(_0x5a6a94,new Set(_0x366967),_0x47c76f,_0x4cb3bf));}const _0x543db1=this['getRemoteNodes'](),_0x177c84=new Set(this[_0x5e4ec7(0x7b3)]);_0x543db1[_0x5e4ec7(0x105)](_0x3f39e8=>{const _0x45b098=_0x5e4ec7;_0x177c84[_0x45b098(0x5f9)](_0x3f39e8[_0x45b098(0x68a)]())&&_0x177c84[_0x45b098(0x24c)](_0x3f39e8[_0x45b098(0x68a)]());}),0x0===_0x177c84[_0x5e4ec7(0x9e5)]&&this['resolveReady']&&(this[_0x5e4ec7(0x3fb)]&&clearTimeout(this[_0x5e4ec7(0x3fb)]),this['readyDebounce']=setTimeout(()=>{const _0x1dcbba=_0x5e4ec7;this[_0x1dcbba(0x794)]?.(!0x0),delete this[_0x1dcbba(0x794)],delete this[_0x1dcbba(0x308)];},0x7d0)),this[_0x5e4ec7(0x9ae)](_0x5a6a94,_0x4cb3bf),this[_0x5e4ec7(0x5de)]();}[_0x4bc902(0x359)](_0x4a9cd3){const _0x4ad13b=_0x4bc902;this[_0x4ad13b(0x67d)]['publish']({'sourceId':_0x2da599,'messageType':_0x18db64[_0x4ad13b(0x4c0)],'content':{'type':_0x57cc58[_0x4ad13b(0x601)],'id':_0x4a9cd3}});}[_0x4bc902(0x16a)](_0x219c34){const _0x229972=_0x4bc902;this[_0x229972(0x67d)]?.[_0x229972(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64[_0x229972(0x4c0)],'content':{'type':_0x57cc58['NodeLeave'],'id':_0x219c34}});}['handleNodeDisconnect'](_0x497ba8){const _0x38405a=_0x4bc902;if(_0x497ba8===this[_0x38405a(0x15c)][_0x38405a(0x8cc)][_0x38405a(0x68a)]())return this['configs'][_0x38405a(0x961)][_0x38405a(0x35e)](_0x38405a(0x3d3),{'id':_0x497ba8}),this['configs'][_0x38405a(0x961)][_0x38405a(0x6bf)]({'force':!0x0},!0x0),this[_0x38405a(0x15c)][_0x38405a(0x961)][_0x38405a(0x171)](),void this[_0x38405a(0x15c)]['mediator']['initialize']();this['publishNodeLeave'](_0x497ba8);}['removeNode'](_0x12afa6){const _0x11b43f=_0x4bc902;this[_0x11b43f(0x7b3)]['includes'](_0x12afa6)?this['manageAncestor'](_0x12afa6):this[_0x11b43f(0x15c)][_0x11b43f(0x8cc)][_0x11b43f(0x393)]()[_0x11b43f(0x5f9)](_0x12afa6)&&this[_0x11b43f(0x56b)](_0x12afa6),this['configs']['localNode'][_0x11b43f(0x3f3)](_0x12afa6);const _0x4fb868=Array[_0x11b43f(0x100)](this[_0x11b43f(0x72d)][_0x11b43f(0x87f)]())[_0x11b43f(0x731)](([,_0x2a171f])=>_0x2a171f==_0x2a171f);_0x4fb868&&this['optimizationLayers'][_0x11b43f(0x24c)](_0x4fb868[0x0]);const _0x4cd380=this[_0x11b43f(0x9ed)][_0x11b43f(0x2ac)](_0x12afa6);if(!_0x4cd380)return;const _0x2e2c37=_0x4cd380[_0x11b43f(0x328)](),_0x48ced9=this['configs'][_0x11b43f(0x8cc)]['getRank']();_0x48ced9&&_0x2e2c37&&_0x2e2c37<_0x48ced9&&this[_0x11b43f(0x15c)][_0x11b43f(0x8cc)][_0x11b43f(0x76f)](_0x48ced9-0x1,!0x1),Array['from'](this['graphService'][_0x11b43f(0x4d5)]()[_0x11b43f(0x437)]())[_0x11b43f(0x105)](_0x12ed14=>{const _0x11d09d=_0x11b43f,_0x5b3073=_0x12ed14[_0x11d09d(0x328)]();_0x5b3073&&_0x2e2c37&&_0x2e2c37<_0x5b3073&&_0x12ed14[_0x11d09d(0x76f)](_0x5b3073-0x1);}),_0x4cd380['setStatus'](_0x4d9592[_0x11b43f(0x694)]),this[_0x11b43f(0x15c)]['mediator'][_0x11b43f(0x35e)](_0x4cd380['type']+_0x11b43f(0x4cf),{'id':_0x12afa6});}[_0x4bc902(0x1be)]({id:_0x4ef334,metaData:_0x59380a,remoteConnections:_0x1a9e99}){const _0x18c7fe=_0x4bc902;switch(_0x59380a['type']){case _0x3e2379['NodeType']['User']:this[_0x18c7fe(0x15c)][_0x18c7fe(0x961)][_0x18c7fe(0x35e)]('user-join',{'id':_0x4ef334,'metaData':_0x59380a,'remoteConnections':_0x1a9e99});break;case _0x3e2379['NodeType'][_0x18c7fe(0x251)]:this[_0x18c7fe(0x15c)]['mediator'][_0x18c7fe(0x35e)](_0x18c7fe(0x803),{'id':_0x4ef334,'metaData':_0x59380a,'remoteConnections':_0x1a9e99});}}[_0x4bc902(0x24b)]({id:_0x2eaf6a,metaData:_0x1dd540,remoteConnections:_0x28ef50}){const _0x2024e4=_0x4bc902;switch(_0x1dd540[_0x2024e4(0x1aa)]){case _0x3e2379['NodeType'][_0x2024e4(0x6e6)]:this[_0x2024e4(0x15c)]['mediator'][_0x2024e4(0x35e)](_0x2024e4(0x92c),{'id':_0x2eaf6a,'metaData':_0x1dd540,'remoteConnections':_0x28ef50});break;case _0x3e2379[_0x2024e4(0x676)][_0x2024e4(0x251)]:this['configs']['mediator']['notifyCluster'](_0x2024e4(0x824),{'id':_0x2eaf6a,'metaData':_0x1dd540,'remoteConnections':_0x28ef50});}}['processRank'](){const _0x8d22dd=_0x4bc902;if(this[_0x8d22dd(0x535)]||(this[_0x8d22dd(0x535)]=Date['now']()),this[_0x8d22dd(0x6f2)]){if(Date[_0x8d22dd(0xa09)]()-this[_0x8d22dd(0x535)]>0x2328)return;clearTimeout(this['debounceProcessRank']);}this['debounceProcessRank']=setTimeout(async()=>{const _0x2f744c=_0x8d22dd;delete this[_0x2f744c(0x535)],delete this[_0x2f744c(0x6f2)];const _0x2f290d=this[_0x2f744c(0x15c)][_0x2f744c(0x8cc)][_0x2f744c(0x328)]();if(!_0x2f290d)return;const _0xe4a609=this[_0x2f744c(0x9ed)]['getCurrentMaxLayer'](this[_0x2f744c(0x9ed)]['getRemoteNodes']()[_0x2f744c(0x9e5)]);if(this[_0x2f744c(0x72d)][_0x2f744c(0x9e5)]>=_0xe4a609)return;let _0x7e62ea=0x1;for(;this[_0x2f744c(0x15c)]['mediator']['getConnections']()[_0x2f744c(0x1d8)]<this['graphService'][_0x2f744c(0x8ff)]()&&_0x7e62ea<=_0xe4a609;){if(this[_0x2f744c(0x72d)]['has'](_0x7e62ea)){_0x7e62ea+=0x1;continue;}const _0x559c23=this['graphService'][_0x2f744c(0x3cf)](_0x2f290d,_0x7e62ea),_0x46c7fe=Array[_0x2f744c(0x100)](this[_0x2f744c(0x9ed)][_0x2f744c(0x4d5)]()[_0x2f744c(0x437)]())[_0x2f744c(0x731)](_0x6f324b=>_0x6f324b[_0x2f744c(0x328)]()===_0x559c23&&_0x6f324b[_0x2f744c(0x1ef)]()===_0x4d9592[_0x2f744c(0x317)]);if(_0x46c7fe){try{await this[_0x2f744c(0x15c)]['mediator'][_0x2f744c(0x7c7)](_0x46c7fe[_0x2f744c(0x68a)](),_0x2be930[_0x2f744c(0x6cb)]),this[_0x2f744c(0x72d)]['set'](_0x7e62ea,_0x46c7fe[_0x2f744c(0x68a)]());}catch(_0x129cdc){if(!(_0x129cdc instanceof _0x3d0311&&_0x129cdc[_0x2f744c(0x319)]===_0x3d0311[_0x2f744c(0x85e)][_0x2f744c(0x266)]))throw _0x129cdc;_0x28bf01[_0x2f744c(0x5e2)](_0x4f63ff[_0x2f744c(0x4c0)],this[_0x2f744c(0x15c)][_0x2f744c(0x8cc)][_0x2f744c(0x68a)](),_0x46c7fe[_0x2f744c(0x68a)](),_0x129cdc[_0x2f744c(0x793)]);}_0x7e62ea+=0x1;}else _0x7e62ea+=0x1;}},0x3e8);}async['manageAncestor'](_0x1eaf53){const _0x18aea0=_0x4bc902;this[_0x18aea0(0x7b3)]['splice'](this[_0x18aea0(0x7b3)][_0x18aea0(0x530)](_0x1eaf53),0x1);const _0x547f12=await this[_0x18aea0(0x5be)]['getAncestors']();for(const _0x155369 of _0x547f12)if(!this[_0x18aea0(0x7b3)][_0x18aea0(0x7f5)](_0x155369)){const _0x6fdeaa=Array[_0x18aea0(0x100)](this[_0x18aea0(0x72d)]['entries']())[_0x18aea0(0x731)](([,_0x25ee76])=>_0x25ee76===_0x155369);_0x6fdeaa&&this['optimizationLayers'][_0x18aea0(0x24c)](_0x6fdeaa[0x0]),this['configs'][_0x18aea0(0x961)][_0x18aea0(0x7c7)](_0x155369,_0x2be930[_0x18aea0(0x461)]);}0x0===_0x547f12[_0x18aea0(0x1d8)]&&this[_0x18aea0(0x15c)][_0x18aea0(0x8cc)][_0x18aea0(0x76f)](0x1),this[_0x18aea0(0x7b3)]=_0x547f12;}async[_0x4bc902(0x56b)](_0x4186b2){const _0xb33193=_0x4bc902,_0x4dcc99=this[_0xb33193(0x15c)][_0xb33193(0x8cc)][_0xb33193(0x328)]();if(!_0x4dcc99)return;const _0x14e822=this[_0xb33193(0x9ed)]['getRemoteNode'](_0x4186b2);if(!_0x14e822||_0x14e822['getStatus']()===_0x4d9592[_0xb33193(0x694)])return;const _0x3bec05=_0x14e822[_0xb33193(0x328)]();if(!_0x3bec05||_0x3bec05<_0x4dcc99)return;const _0xafc415=this[_0xb33193(0x852)](this[_0xb33193(0x15c)]['localNode'][_0xb33193(0x393)](),_0x4dcc99),_0x5c8da4=this['getOutgoingOptimizationConnections'](_0x14e822[_0xb33193(0x393)](),_0x3bec05)[_0xafc415['findIndex'](([_0xd501ac])=>_0xd501ac===_0x4186b2)];if(!_0x5c8da4||this['configs'][_0xb33193(0x8cc)]['getRemoteConnections']()[_0xb33193(0x5f9)](_0x5c8da4[0x0]))return;const _0x260435=this[_0xb33193(0x9ed)][_0xb33193(0x2ac)](_0x5c8da4[0x0]);if(_0x260435&&_0x260435[_0xb33193(0x1ef)]()!==_0x4d9592[_0xb33193(0x694)])try{await this[_0xb33193(0x15c)]['mediator'][_0xb33193(0x7c7)](_0x5c8da4[0x0],_0x2be930[_0xb33193(0x6cb)]);const _0x1f2810=Array['from'](this[_0xb33193(0x72d)]['entries']())['find'](([,_0x1145ea])=>_0x1145ea===_0x4186b2);_0x1f2810&&this['optimizationLayers'][_0xb33193(0x179)](_0x1f2810[0x0],_0x5c8da4[0x0]);}catch(_0x5b3b78){if(!(_0x5b3b78 instanceof _0x3d0311&&_0x5b3b78['code']===_0x3d0311[_0xb33193(0x85e)][_0xb33193(0x266)]))throw _0x5b3b78;_0x28bf01[_0xb33193(0x5e2)](_0x4f63ff[_0xb33193(0x4c0)],this[_0xb33193(0x15c)]['localNode'][_0xb33193(0x68a)](),_0x5c8da4[0x0],_0x5b3b78[_0xb33193(0x793)]);}}[_0x4bc902(0x852)](_0x3f5c62,_0x5154b5){const _0x32dedd=_0x4bc902;return Array['from'](_0x3f5c62)[_0x32dedd(0x214)]((_0x4efa7d,_0x29cfed)=>{const _0x165adb=_0x32dedd,_0x4e54be=this['graphService'][_0x165adb(0x2ac)](_0x29cfed);if(!_0x4e54be||_0x4e54be['getStatus']()===_0x4d9592[_0x165adb(0x694)])return _0x4efa7d;const _0x40c013=_0x4e54be[_0x165adb(0x328)]();if(!_0x40c013)return _0x4efa7d;const _0x3ab4d8=_0x40c013-_0x5154b5;return _0x3ab4d8<=this[_0x165adb(0x9ed)][_0x165adb(0x224)]()||_0x4efa7d[_0x165adb(0x5b2)]([_0x29cfed,_0x3ab4d8]),_0x4efa7d;},[])[_0x32dedd(0x728)](([,_0x44c6d4],[,_0x9cda96])=>_0x44c6d4-_0x9cda96);}}const _0x1f0511=[{'problemType':_0xf83d80[_0x4bc902(0x5a2)],'remediations':[{'type':_0x10e890[_0x4bc902(0x5c8)],'component':_0x2f3a3f[_0x4bc902(0x21a)],'action':_0x3d6176[_0x4bc902(0x2ec)]},{'type':_0x10e890[_0x4bc902(0x77a)],'component':_0x2f3a3f[_0x4bc902(0x21a)],'action':_0x3d6176['Downgrade']}]},{'problemType':_0xf83d80[_0x4bc902(0x21c)],'remediations':[{'type':_0x10e890[_0x4bc902(0x5c8)],'component':_0x2f3a3f['Resolution'],'action':_0x3d6176[_0x4bc902(0x2ec)]}]},{'problemType':_0xf83d80['AudioVideoDelay'],'remediations':[{'type':_0x10e890['Remediation'],'component':_0x2f3a3f[_0x4bc902(0x21a)],'action':_0x3d6176['Downgrade']}]},{'problemType':_0xf83d80[_0x4bc902(0x95c)],'remediations':[{'type':_0x10e890[_0x4bc902(0x5c8)],'component':_0x2f3a3f[_0x4bc902(0x21a)],'action':_0x3d6176['Downgrade']}]},{'problemType':_0xf83d80['Bitrate'],'remediations':[{'type':_0x10e890[_0x4bc902(0x5c8)],'component':_0x2f3a3f['Bitrate'],'action':_0x3d6176[_0x4bc902(0x2ec)]}]},{'problemType':_0xf83d80[_0x4bc902(0x619)],'remediations':[{'type':_0x10e890[_0x4bc902(0x5c8)],'component':_0x2f3a3f[_0x4bc902(0x241)],'action':_0x3d6176[_0x4bc902(0x2ec)]}]},{'problemType':_0xf83d80[_0x4bc902(0x473)],'remediations':[{'type':_0x10e890[_0x4bc902(0x5c8)],'component':_0x2f3a3f[_0x4bc902(0x241)],'action':_0x3d6176[_0x4bc902(0x2ec)]}]}];class _0x2baef6{[_0x4bc902(0x15c)];[_0x4bc902(0x67d)];[_0x4bc902(0x50b)]=new Map();constructor(_0x44d9b1){const _0x1c1a94=_0x4bc902;this[_0x1c1a94(0x15c)]=_0x44d9b1,this['configs'][_0x1c1a94(0x961)][_0x1c1a94(0x61d)](this);}['close'](){const _0x11e0fa=_0x4bc902;this['configs'][_0x11e0fa(0x961)][_0x11e0fa(0x132)](this);}[_0x4bc902(0x75b)](_0x18ad81){const _0x213d45=_0x4bc902;this[_0x213d45(0x67d)]=_0x18ad81;}[_0x4bc902(0x2ef)](){const _0x59c206=_0x4bc902;delete this[_0x59c206(0x67d)];}['handleDetectionSystemEvents'](_0x38f347){const _0x28b404=_0x4bc902;_0x38f347[_0x28b404(0xa0d)]['type']===_0x197b0d[_0x28b404(0x957)]&&this[_0x28b404(0x8d0)](_0x38f347[_0x28b404(0xa0d)][_0x28b404(0x463)]);}['handleRemediationSystemEvents'](_0x3522c7){const _0x5d13ed=_0x4bc902;_0x3522c7[_0x5d13ed(0xa0d)][_0x5d13ed(0x1aa)]===_0x10e890['RemoteRemediation']&&this['applyRemediation'](_0x3522c7[_0x5d13ed(0x86d)],{'type':_0x10e890[_0x5d13ed(0x5c8)],'component':_0x3522c7[_0x5d13ed(0xa0d)][_0x5d13ed(0x463)][_0x5d13ed(0x11a)],'action':_0x3522c7[_0x5d13ed(0xa0d)]['data'][_0x5d13ed(0x20e)]});}[_0x4bc902(0x8d0)](_0x4714d9){const _0x43955b=_0x4bc902,_0x529cc1=_0x1f0511[_0x43955b(0x731)](_0x2280c1=>_0x2280c1[_0x43955b(0x9b5)]===_0x4714d9[_0x43955b(0x1aa)]);_0x529cc1['remediations']?.[_0x43955b(0x105)](_0x281602=>{const _0x369d06=_0x43955b;this['applyRemediation'](_0x4714d9['nodeId'],{'type':_0x4714d9[_0x369d06(0x42b)]===_0x59a9f8[_0x369d06(0x1b2)]?_0x10e890[_0x369d06(0x5c8)]:_0x10e890[_0x369d06(0x77a)],'component':_0x281602[_0x369d06(0x11a)],'action':_0x281602[_0x369d06(0x20e)]});});}[_0x4bc902(0x589)](_0x409988,_0x55c75b){const _0x42baae=_0x4bc902;if(_0x55c75b[_0x42baae(0x1aa)]===_0x10e890[_0x42baae(0x5c8)]){const _0xca32c0=Date[_0x42baae(0xa09)](),_0x46fbf7=this[_0x42baae(0x50b)][_0x42baae(0x985)](_0x409988);if(_0x46fbf7&&_0xca32c0-_0x46fbf7<0x1388)return;this[_0x42baae(0x50b)][_0x42baae(0x179)](_0x409988,_0xca32c0);}_0x28bf01[_0x42baae(0x5e2)](_0x4f63ff[_0x42baae(0x5c8)],_0x42baae(0x6ee),_0x55c75b),_0x28bf01[_0x42baae(0x7eb)](_0x42baae(0x87e),{'clusterId':this[_0x42baae(0x15c)][_0x42baae(0x6a2)],'nodeId':this['configs'][_0x42baae(0x8cc)][_0x42baae(0x68a)](),'nodeType':this[_0x42baae(0x15c)]['localNode']['type'],'remoteId':_0x409988,'data':{'type':_0x55c75b['type'],'component':_0x55c75b[_0x42baae(0x11a)],'action':_0x55c75b[_0x42baae(0x20e)]}});let _0x508252,_0x477c51=_0x2da599;_0x55c75b[_0x42baae(0x1aa)]===_0x10e890['RemoteRemediation']&&(_0x477c51=this[_0x42baae(0x15c)][_0x42baae(0x8cc)][_0x42baae(0x68a)](),_0x508252=[_0x409988]),this[_0x42baae(0x67d)][_0x42baae(0x912)]({'sourceId':_0x477c51,'destinationIds':_0x508252,'messageType':_0x18db64[_0x42baae(0x5c8)],'content':{'type':_0x55c75b['type'],'targetId':_0x409988,'data':_0x55c75b}});}}const _0x143a27=0x3e8,_0x4a734=0x7530,_0x3c76cd=_0x4bc902(0x2d3),_0x39743b=_0x4bc902(0x4fd),_0x35f615=_0x4bc902(0x3f0),_0x5f355b=[_0x3c76cd,_0x39743b],_0x40b995=[_0x35f615];class _0x3c3619{[_0x4bc902(0x837)]=0x0;['estimatedPlayoutTimestamp']=0x0;['jitter']=0x0;[_0x4bc902(0x839)]=0x0;[_0x4bc902(0x55b)]=0x0;[_0x4bc902(0x760)]=0x0;[_0x4bc902(0x31d)]=0x0;[_0x4bc902(0x12c)]=0x0;[_0x4bc902(0x153)]=0x0;get[_0x4bc902(0x2d5)](){const _0x28f7f0=_0x4bc902;return this['currentTimestamp']>0x0&&this[_0x28f7f0(0x31d)]>0x0&&Date[_0x28f7f0(0xa09)]()-this['currentTimestamp']<_0x4a734?(this[_0x28f7f0(0x12c)]-this[_0x28f7f0(0x153)])/(this['currentTimestamp']-this[_0x28f7f0(0x31d)])*0x8*0x3e8:0x0;}['processReport'](_0x3acf44){const _0x3aa5fc=_0x4bc902;switch(_0x3acf44[_0x3aa5fc(0x1aa)]){case _0x35f615:this['processInboundReport'](_0x3acf44);break;case _0x3c76cd:this[_0x3aa5fc(0x894)](_0x3acf44);break;case _0x39743b:this[_0x3aa5fc(0x337)](_0x3acf44);}}['getReport'](){const _0x32a8b4=_0x4bc902;return{'bitrate':this[_0x32a8b4(0x2d5)],'packetsLostPerc':this[_0x32a8b4(0x239)](),'roundTripTime':this['roundTripTime'],'jitter':this[_0x32a8b4(0x4b4)]};}[_0x4bc902(0x270)](_0x6ee4b7){const _0x5c84c5=_0x4bc902;this[_0x5c84c5(0x78d)](_0x6ee4b7['bytesReceived']),this['setTimestamp'](_0x6ee4b7[_0x5c84c5(0x9a4)]),this[_0x5c84c5(0x55b)]=_0x6ee4b7[_0x5c84c5(0x70f)],this['packetsLost']=_0x6ee4b7['packetsLost'],void 0x0!==_0x6ee4b7[_0x5c84c5(0x4b4)]?this[_0x5c84c5(0x4b4)]=_0x6ee4b7[_0x5c84c5(0x4b4)]:this['jitter']=0x0,void 0x0!==_0x6ee4b7[_0x5c84c5(0x50e)]?this['estimatedPlayoutTimestamp']=_0x6ee4b7['estimatedPlayoutTimestamp']:this['estimatedPlayoutTimestamp']=0x0;}[_0x4bc902(0x894)](_0x393c82){const _0x3029db=_0x4bc902;this[_0x3029db(0x78d)](_0x393c82[_0x3029db(0x61c)]),this['setTimestamp'](_0x393c82[_0x3029db(0x9a4)]),this[_0x3029db(0x55b)]=_0x393c82[_0x3029db(0x962)];}[_0x4bc902(0x337)](_0x51568a){const _0x385b3a=_0x4bc902;this['roundTripTime']=0x3e8*_0x51568a['roundTripTime'],void 0x0!==_0x51568a[_0x385b3a(0x4b4)]?this[_0x385b3a(0x4b4)]=_0x51568a[_0x385b3a(0x4b4)]:this[_0x385b3a(0x4b4)]=0x0;}[_0x4bc902(0x239)](){const _0x30cc12=_0x4bc902;return this[_0x30cc12(0x55b)]>0x0?this[_0x30cc12(0x839)]/this[_0x30cc12(0x55b)]:0x0;}[_0x4bc902(0x4ae)](_0x458060){const _0x2e48b1=_0x4bc902;_0x458060>this['currentTimestamp']&&(this['previousTimestamp']=this[_0x2e48b1(0x760)],this[_0x2e48b1(0x760)]=_0x458060);}['setBytes'](_0x532d25){const _0x168153=_0x4bc902;this[_0x168153(0x153)]=this[_0x168153(0x12c)],this[_0x168153(0x12c)]=_0x532d25;}}class _0x31169a extends _0x3c3619{}class _0xa5f733 extends _0x3c3619{[_0x4bc902(0x9ea)]=0x0;[_0x4bc902(0x154)]=0x0;[_0x4bc902(0x230)]=0x0;[_0x4bc902(0x427)]=0x0;[_0x4bc902(0x25b)]=0x0;get[_0x4bc902(0x66c)](){const _0x85879=_0x4bc902;return this[_0x85879(0x760)]>0x0&&this[_0x85879(0x31d)]>0x0&&Date[_0x85879(0xa09)]()-this[_0x85879(0x760)]<_0x4a734?(this[_0x85879(0x427)]-this['previousFrames'])/(this['currentTimestamp']-this[_0x85879(0x31d)])*0x3e8:0x0;}get[_0x4bc902(0x6a8)](){const _0x4ce5a2=_0x4bc902;return this['frameTime']&&this['currentFrames']&&this[_0x4ce5a2(0x427)]>0x0?this[_0x4ce5a2(0x9ea)]/this[_0x4ce5a2(0x427)]:0x0;}set['frames'](_0x2caa9f){const _0x66ea4d=_0x4bc902;this['previousFrames']=this[_0x66ea4d(0x427)],this[_0x66ea4d(0x427)]=_0x2caa9f;}['getReport'](){const _0x88ad58=_0x4bc902;return{...super['getReport'](),'FPS':this[_0x88ad58(0x66c)],'timePerFrame':this[_0x88ad58(0x6a8)],'frameWidth':this[_0x88ad58(0x154)],'frameHeight':this[_0x88ad58(0x230)]};}[_0x4bc902(0x270)](_0xbb3640){const _0x3a877=_0x4bc902;super[_0x3a877(0x270)](_0xbb3640),this[_0x3a877(0x9ea)]=_0xbb3640[_0x3a877(0x237)],this[_0x3a877(0x5b7)]=_0xbb3640[_0x3a877(0x7f0)],this[_0x3a877(0x154)]=_0xbb3640[_0x3a877(0x154)],this[_0x3a877(0x230)]=_0xbb3640[_0x3a877(0x230)];}[_0x4bc902(0x894)](_0xbfe191){const _0x8c26ea=_0x4bc902;super[_0x8c26ea(0x894)](_0xbfe191),this['frameTime']=_0xbfe191[_0x8c26ea(0x80b)],this[_0x8c26ea(0x5b7)]=_0xbfe191[_0x8c26ea(0x104)],this[_0x8c26ea(0x154)]=_0xbfe191['frameWidth'],this['frameHeight']=_0xbfe191[_0x8c26ea(0x230)];}}class _0x5a2bac{[_0x4bc902(0x8c5)]=new _0x31169a();[_0x4bc902(0x47f)]=new _0xa5f733();get['bitrate'](){const _0x1056ee=_0x4bc902;return this['audio']['bitrate']+this[_0x1056ee(0x47f)]['bitrate'];}['processReports'](_0x35c651){const _0x59d314=_0x4bc902;return _0x35c651['forEach'](_0x19aa05=>{const _0x11094b=a0_0x4227;switch(_0x19aa05[_0x11094b(0x36b)]){case _0x11094b(0x8c5):this[_0x11094b(0x8c5)][_0x11094b(0x980)](_0x19aa05);break;case'video':this[_0x11094b(0x47f)][_0x11094b(0x980)](_0x19aa05);}}),this[_0x59d314(0x1ac)]();}['getReport'](){const _0x4d1804=_0x4bc902;return{'audio':this['audio'][_0x4d1804(0x1ac)](),'video':this['video'][_0x4d1804(0x1ac)](),'roundTripTime':this[_0x4d1804(0x551)](),'AudioVideoDelay':this[_0x4d1804(0x71f)](),'bitrate':this['bitrate']};}[_0x4bc902(0x551)](){const _0x2ef19a=_0x4bc902;return Math[_0x2ef19a(0x84c)]((this[_0x2ef19a(0x8c5)][_0x2ef19a(0x837)]+this[_0x2ef19a(0x47f)][_0x2ef19a(0x837)])/0x2);}[_0x4bc902(0x71f)](){const _0x28fcf6=_0x4bc902;return this[_0x28fcf6(0x8c5)][_0x28fcf6(0x50e)]-this[_0x28fcf6(0x47f)][_0x28fcf6(0x50e)];}}class _0x3970f3{[_0x4bc902(0x96b)]=0x0;[_0x4bc902(0x8e0)]=0x0;['receiverCurrentTimestamp']=0x0;[_0x4bc902(0x260)]=0x0;[_0x4bc902(0x2c9)]=0x0;[_0x4bc902(0x210)]=0x0;[_0x4bc902(0x780)]=0x0;['receiverPreviousBytes']=0x0;[_0x4bc902(0x4fc)]=0x0;[_0x4bc902(0x621)]=0x0;[_0x4bc902(0x468)]=0x0;[_0x4bc902(0x56a)]=0x0;[_0x4bc902(0x837)]=0x0;get[_0x4bc902(0x2d5)](){const _0x56d1c4=_0x4bc902;return this[_0x56d1c4(0x3cc)]+this[_0x56d1c4(0x30f)];}get[_0x4bc902(0x3cc)](){const _0x101621=_0x4bc902;return this[_0x101621(0x96b)]>0x0&&this[_0x101621(0x8e0)]>0x0&&Date[_0x101621(0xa09)]()-this['senderCurrentTimestamp']<_0x4a734?(this[_0x101621(0x2c9)]-this[_0x101621(0x210)])/(this[_0x101621(0x96b)]-this[_0x101621(0x8e0)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x557355=_0x4bc902;return this[_0x557355(0x15d)]>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x557355(0xa09)]()-this[_0x557355(0x15d)]<_0x4a734?(this[_0x557355(0x780)]-this[_0x557355(0x262)])/(this[_0x557355(0x15d)]-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}['processReport'](_0x53c9a3){const _0xbafc32=_0x4bc902;switch(_0x53c9a3[_0xbafc32(0x42b)]){case _0x59a9f8[_0xbafc32(0x1b2)]:this[_0xbafc32(0x3e5)](_0x53c9a3);break;case _0x59a9f8[_0xbafc32(0x6fd)]:this['processReceiverReport'](_0x53c9a3);}}[_0x4bc902(0x1ac)](){const _0xcf849d=_0x4bc902;return{'bitrate':this[_0xcf849d(0x2d5)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0xcf849d(0x226)](),'senderTotalBytes':this[_0xcf849d(0x952)](),'receiverTotalBytes':this[_0xcf849d(0x865)](),'totalMessages':this[_0xcf849d(0x4fc)]+this[_0xcf849d(0x621)],'senderTotalMessages':this[_0xcf849d(0x4fc)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this[_0xcf849d(0x468)]+this[_0xcf849d(0x56a)],'senderTimeProcessing':this[_0xcf849d(0x468)],'receiverTimeProcessing':this[_0xcf849d(0x56a)],'roundTripTime':this[_0xcf849d(0x837)]};}[_0x4bc902(0x226)](){const _0xfe88d=_0x4bc902;return this[_0xfe88d(0x2c9)]+this[_0xfe88d(0x780)];}[_0x4bc902(0x952)](){const _0x5ccc16=_0x4bc902;return this[_0x5ccc16(0x2c9)];}[_0x4bc902(0x865)](){const _0xff39ce=_0x4bc902;return this[_0xff39ce(0x780)];}[_0x4bc902(0x3e5)](_0x6a136f){const _0x385d4f=_0x4bc902;this['setSenderTimestamp'](_0x6a136f[_0x385d4f(0x9a4)]),this[_0x385d4f(0x78d)](_0x6a136f[_0x385d4f(0x61c)]),this[_0x385d4f(0x4fc)]=_0x6a136f['messagesSent'],this[_0x385d4f(0x468)]=_0x6a136f[_0x385d4f(0x55c)],this[_0x385d4f(0x837)]=_0x6a136f[_0x385d4f(0x837)];}[_0x4bc902(0x368)](_0x52a74e){const _0x2e35a8=_0x4bc902;this['setReceiverTimestamp'](_0x52a74e['timestamp']),this['setReceiverBytes'](_0x52a74e[_0x2e35a8(0x137)]),this[_0x2e35a8(0x621)]=_0x52a74e['messagesReceived'],this['receiverTimeProcessing']=_0x52a74e['timeReceiving'];}[_0x4bc902(0x6ba)](_0x4ada43){const _0x2f551e=_0x4bc902;_0x4ada43>this[_0x2f551e(0x96b)]&&(this['senderPreviousTimestamp']=this[_0x2f551e(0x96b)],this[_0x2f551e(0x96b)]=_0x4ada43);}[_0x4bc902(0x295)](_0x26fefd){_0x26fefd>this['receiverCurrentTimestamp']&&(this['receiverPreviousTimestamp']=this['receiverCurrentTimestamp'],this['receiverCurrentTimestamp']=_0x26fefd);}[_0x4bc902(0x78d)](_0x114d7d){const _0x601b47=_0x4bc902;this['senderPreviousBytes']=this[_0x601b47(0x2c9)],this[_0x601b47(0x2c9)]=_0x114d7d;}['setReceiverBytes'](_0x45e782){const _0x13de86=_0x4bc902;this['receiverPreviousBytes']=this[_0x13de86(0x780)],this['receiverCurrentBytes']=_0x45e782;}}class _0x4133d3{[_0x4bc902(0x4e0)]=new Map();['receiverStreams']=new Map();[_0x4bc902(0x842)]=new _0x3970f3();get[_0x4bc902(0x3cc)](){const _0x4b085a=_0x4bc902;let _0x494319=0x0;return this[_0x4b085a(0x4e0)][_0x4b085a(0x105)](_0x4fe4ca=>{const _0x5f5a26=_0x4b085a;_0x494319+=_0x4fe4ca[_0x5f5a26(0x2d5)];}),_0x494319+=this['dataChannel'][_0x4b085a(0x3cc)],_0x494319;}get[_0x4bc902(0x30f)](){const _0x22ae58=_0x4bc902;let _0x5d8949=0x0;return this[_0x22ae58(0x141)][_0x22ae58(0x105)](_0x3ada98=>{const _0x59765c=_0x22ae58;_0x5d8949+=_0x3ada98[_0x59765c(0x2d5)];}),_0x5d8949+=this[_0x22ae58(0x842)][_0x22ae58(0x30f)],_0x5d8949;}get[_0x4bc902(0x2d5)](){const _0x47f67b=_0x4bc902;return this[_0x47f67b(0x3cc)]+this[_0x47f67b(0x30f)];}[_0x4bc902(0x5ed)](_0x4a6783,_0x3fc52e){const _0x1650f1=_0x4bc902,_0x486c71=[],_0x2a8d26=[];return _0x4a6783 instanceof Array?_0x4a6783[_0x1650f1(0x105)](_0x100fcb=>{const _0x20f16e=_0x1650f1;_0x100fcb[_0x20f16e(0x105)](_0x50213b=>{const _0x2ce9cf=_0x20f16e;_0x40b995['includes'](_0x50213b[_0x2ce9cf(0x1aa)])&&_0x486c71[_0x2ce9cf(0x5b2)](_0x50213b),_0x5f355b['includes'](_0x50213b[_0x2ce9cf(0x1aa)])&&_0x2a8d26[_0x2ce9cf(0x5b2)](_0x50213b);});}):this[_0x1650f1(0x842)][_0x1650f1(0x980)](_0x4a6783),_0x486c71['length']>0x0&&_0x3fc52e?{...this['processInboundReports'](_0x3fc52e,_0x486c71),'origin':_0x59a9f8[_0x1650f1(0x6fd)],'streamId':_0x3fc52e}:_0x2a8d26[_0x1650f1(0x1d8)]>0x0&&_0x3fc52e?{...this[_0x1650f1(0x99c)](_0x3fc52e,_0x2a8d26),'origin':_0x59a9f8[_0x1650f1(0x1b2)],'streamId':_0x3fc52e}:void 0x0;}['getReport'](){const _0x432cdb=_0x4bc902,_0x1487b5={};this[_0x432cdb(0x4e0)][_0x432cdb(0x105)]((_0x17a1da,_0x16f0e7)=>{_0x1487b5[_0x16f0e7]=_0x17a1da['getReport']();});const _0x50d513={};return this[_0x432cdb(0x141)][_0x432cdb(0x105)]((_0xe3b39f,_0x12c2bd)=>{_0x50d513[_0x12c2bd]=_0xe3b39f['getReport']();}),{'bitrate':this['bitrate'],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x432cdb(0x30f)],'senderStreams':_0x1487b5,'receiverStreams':_0x50d513,'dataChannel':this[_0x432cdb(0x842)][_0x432cdb(0x1ac)]()};}[_0x4bc902(0x81b)](_0x52daa3,_0x5c64e4){const _0x27beca=_0x4bc902;return this['receiverStreams'][_0x27beca(0x5f9)](_0x52daa3)||this['receiverStreams'][_0x27beca(0x179)](_0x52daa3,new _0x5a2bac()),this[_0x27beca(0x141)]['get'](_0x52daa3)[_0x27beca(0x5ed)](_0x5c64e4);}[_0x4bc902(0x99c)](_0x222a8a,_0x26aad8){const _0x2392e1=_0x4bc902;return this[_0x2392e1(0x4e0)]['has'](_0x222a8a)||this[_0x2392e1(0x4e0)][_0x2392e1(0x179)](_0x222a8a,new _0x5a2bac()),this[_0x2392e1(0x4e0)][_0x2392e1(0x985)](_0x222a8a)[_0x2392e1(0x5ed)](_0x26aad8);}}class _0x1cd703{[_0x4bc902(0x991)]=new Map();['scheduleTime']=0x0;[_0x4bc902(0x3f8)]=0x0;['pubsubTopics']=new Map();['objectStores']=new Map();['keyValueDatabases']=new Map();[_0x4bc902(0x7db)]=new Map();[_0x4bc902(0x5d5)]=new Map();[_0x4bc902(0x504)]=new Map();[_0x4bc902(0x7d4)]=new Map();[_0x4bc902(0x405)]=new Map();[_0x4bc902(0x4fc)]=new Map();[_0x4bc902(0x621)]=new Map();[_0x4bc902(0x468)]=new Map();[_0x4bc902(0x56a)]=new Map();[_0x4bc902(0x115)]=new Map();[_0x4bc902(0x67d)];[_0x4bc902(0x1ac)](){const _0x2f50d6=_0x4bc902,_0x46389c={};this[_0x2f50d6(0x991)]['forEach']((_0x3737f6,_0x4f2b85)=>{const _0x90c37b=_0x2f50d6;_0x46389c[_0x4f2b85]=_0x3737f6[_0x90c37b(0x1ac)]();});let _0x482977=0x0;this[_0x2f50d6(0x468)][_0x2f50d6(0x105)](_0x33dea5=>{_0x482977+=_0x33dea5;});let _0x5c27c9=0x0;this[_0x2f50d6(0x56a)]['forEach'](_0x5369d6=>{_0x5c27c9+=_0x5369d6;});const _0x110be2=_0x482977+_0x5c27c9;let _0x265f2c={'messages':{'total':0x0}};this['systemMessages'][_0x2f50d6(0x105)](_0x519796=>{const _0x4e4346=_0x2f50d6;Object[_0x4e4346(0x7d2)](_0x519796)[_0x4e4346(0x105)](_0x2eeca3=>{const _0xa8eb1=_0x4e4346;_0x265f2c[_0x2eeca3]||(_0x265f2c[_0x2eeca3]={}),Object[_0xa8eb1(0x7d2)](_0x519796[_0x2eeca3])['forEach'](_0x2e398b=>{_0x265f2c[_0x2eeca3][_0x2e398b]||(_0x265f2c[_0x2eeca3][_0x2e398b]=0x0),_0x265f2c[_0x2eeca3][_0x2e398b]+=_0x519796[_0x2eeca3][_0x2e398b];});});});let _0x75242a=0x0,_0x5f164c=0x0,_0x297d51=0x0,_0x57ed7f=0x0,_0x5f02a5=0x0;return this[_0x2f50d6(0x902)][_0x2f50d6(0x105)](_0x1779b1=>{const _0x53fb1c=_0x2f50d6;_0x5f164c+=_0x1779b1['messagesSent'],_0x297d51+=_0x1779b1[_0x53fb1c(0xa27)],_0x57ed7f+=_0x1779b1[_0x53fb1c(0x61c)],_0x5f02a5+=_0x1779b1[_0x53fb1c(0x137)];}),this[_0x2f50d6(0x883)][_0x2f50d6(0x105)](_0x319186=>{const _0x283222=_0x2f50d6;_0x75242a+=_0x319186[_0x283222(0xa2d)],_0x5f164c+=_0x319186[_0x283222(0x5b9)],_0x297d51+=_0x319186['messagesReceived'],_0x57ed7f+=_0x319186['bytesSent'],_0x5f02a5+=_0x319186[_0x283222(0x137)];}),this[_0x2f50d6(0x691)]['forEach'](_0x157515=>{const _0x4c4f84=_0x2f50d6;_0x75242a+=_0x157515[_0x4c4f84(0xa2d)],_0x5f164c+=_0x157515[_0x4c4f84(0x5b9)],_0x297d51+=_0x157515[_0x4c4f84(0xa27)],_0x57ed7f+=_0x157515[_0x4c4f84(0x61c)],_0x5f02a5+=_0x157515['bytesReceived'];}),this[_0x2f50d6(0x7db)][_0x2f50d6(0x105)](_0x563c51=>{const _0x22b857=_0x2f50d6;_0x75242a+=_0x563c51[_0x22b857(0xa2d)],_0x5f164c+=_0x563c51['messagesSent'],_0x297d51+=_0x563c51[_0x22b857(0xa27)],_0x57ed7f+=_0x563c51[_0x22b857(0x61c)],_0x5f02a5+=_0x563c51[_0x22b857(0x137)];}),this[_0x2f50d6(0x5d5)][_0x2f50d6(0x105)](_0x4c403f=>{const _0x1a9796=_0x2f50d6;_0x75242a+=_0x4c403f['storage'],_0x5f164c+=_0x4c403f['messagesSent'],_0x297d51+=_0x4c403f['messagesReceived'],_0x57ed7f+=_0x4c403f[_0x1a9796(0x61c)],_0x5f02a5+=_0x4c403f[_0x1a9796(0x137)];}),this['vectorDatabases'][_0x2f50d6(0x105)](_0x29c388=>{const _0x4b5a33=_0x2f50d6;_0x75242a+=_0x29c388[_0x4b5a33(0xa2d)],_0x5f164c+=_0x29c388[_0x4b5a33(0x5b9)],_0x297d51+=_0x29c388[_0x4b5a33(0xa27)],_0x57ed7f+=_0x29c388['bytesSent'],_0x5f02a5+=_0x29c388[_0x4b5a33(0x137)];}),this['graphDatabases'][_0x2f50d6(0x105)](_0x1a737b=>{const _0x18f064=_0x2f50d6;_0x75242a+=_0x1a737b[_0x18f064(0xa2d)],_0x5f164c+=_0x1a737b[_0x18f064(0x5b9)],_0x297d51+=_0x1a737b['messagesReceived'],_0x57ed7f+=_0x1a737b[_0x18f064(0x61c)],_0x5f02a5+=_0x1a737b[_0x18f064(0x137)];}),{'STVolatility':this[_0x2f50d6(0x922)](),'DTVolatility':this[_0x2f50d6(0x448)](),'bitrate':this[_0x2f50d6(0x14c)](),'senderBitrate':this[_0x2f50d6(0x320)](),'receiverBitrate':this[_0x2f50d6(0x3d9)](),'totalStorageSize':_0x75242a,'totalMessages':_0x5f164c+_0x297d51,'totalMessagesSent':_0x5f164c,'totalMessagesReceived':_0x297d51,'totalBytes':_0x57ed7f+_0x5f02a5,'totalBytesSent':_0x57ed7f,'totalBytesReceived':_0x5f02a5,'systemMessages':_0x265f2c,'timeProcessing':_0x110be2,'nodes':_0x46389c,'pubsubTopics':Object[_0x2f50d6(0x303)](this[_0x2f50d6(0x902)]),'objectStores':Object[_0x2f50d6(0x303)](this[_0x2f50d6(0x883)]),'keyValueDatabases':Object[_0x2f50d6(0x303)](this[_0x2f50d6(0x691)]),'generativeAIContexts':Object[_0x2f50d6(0x303)](this[_0x2f50d6(0x7db)]),'generativeAIWorkers':Object['fromEntries'](this[_0x2f50d6(0x5d5)]),'vectorDatabases':Object['fromEntries'](this[_0x2f50d6(0x504)]),'graphDatabases':Object['fromEntries'](this['graphDatabases']),'externalStorages':Object[_0x2f50d6(0x303)](this[_0x2f50d6(0x405)])};}[_0x4bc902(0x1d7)](_0x1d0ced){const _0x38df64=_0x4bc902;this[_0x38df64(0x991)]['set'](_0x1d0ced,new _0x4133d3());}[_0x4bc902(0x9a6)](_0x180489){const _0x37bc8f=_0x4bc902;this['nodes'][_0x37bc8f(0x24c)](_0x180489);}['processReports'](_0x402822,_0x3fd6e7,_0x282054){const _0x189505=_0x4bc902;_0x3fd6e7 instanceof Array||this[_0x189505(0x817)](_0x402822,_0x3fd6e7);const _0x14f0ca=this[_0x189505(0x991)]['get'](_0x402822)?.[_0x189505(0x5ed)](_0x3fd6e7,_0x282054);_0x14f0ca&&this[_0x189505(0x67d)][_0x189505(0x912)]({'sourceId':_0x2da599,'messageType':_0x18db64['Stats'],'content':{'type':_0x316e06['StreamReport'],'data':{..._0x14f0ca,'nodeId':_0x402822}}});}[_0x4bc902(0x253)](_0xa1b818){const _0x1868cb=_0x4bc902;this[_0x1868cb(0x41e)](_0xa1b818[_0x1868cb(0x4a6)]),this[_0x1868cb(0x16b)](_0xa1b818['durationTime']),this[_0x1868cb(0x67d)]['publish']({'sourceId':_0x2da599,'messageType':_0x18db64[_0x1868cb(0x5c2)],'content':{'type':_0x316e06['LocalReport'],'data':{'STVolatility':this[_0x1868cb(0x922)](),'DTVolatility':this[_0x1868cb(0x448)]()}}});}[_0x4bc902(0x937)](_0x46117c,_0x100322,_0x482946){const _0x3b3e70=_0x4bc902;switch(_0x100322){case _0x5b4969['PubSubTopicStats']:this[_0x3b3e70(0x902)][_0x3b3e70(0x179)](_0x46117c,_0x482946);break;case _0x5b4969[_0x3b3e70(0x1f0)]:this[_0x3b3e70(0x883)]['set'](_0x46117c,_0x482946);break;case _0x5b4969['KeyValueDatabaseStats']:this[_0x3b3e70(0x691)][_0x3b3e70(0x179)](_0x46117c,_0x482946);break;case _0x5b4969[_0x3b3e70(0x487)]:this[_0x3b3e70(0x7db)][_0x3b3e70(0x179)](_0x46117c,_0x482946);break;case _0x5b4969['GenerativeAIWorkerStats']:this[_0x3b3e70(0x5d5)][_0x3b3e70(0x179)](_0x46117c,_0x482946);break;case _0x5b4969[_0x3b3e70(0x263)]:this['vectorDatabases'][_0x3b3e70(0x179)](_0x46117c,_0x482946);break;case _0x5b4969[_0x3b3e70(0x222)]:this[_0x3b3e70(0x7d4)]['set'](_0x46117c,_0x482946);break;case _0x5b4969[_0x3b3e70(0x595)]:this[_0x3b3e70(0x405)]['set'](_0x46117c,_0x482946);}}['registerSystemPublisher'](_0x1f2974){const _0x373a6c=_0x4bc902;this[_0x373a6c(0x67d)]=_0x1f2974;}[_0x4bc902(0x2ef)](){const _0x29a7dd=_0x4bc902;delete this[_0x29a7dd(0x67d)];}[_0x4bc902(0x922)](){const _0x467203=_0x4bc902;return this[_0x467203(0x9e3)]>0x0&&this[_0x467203(0x9e3)]-_0x143a27>0x0?(this[_0x467203(0x9e3)]-_0x143a27)/_0x143a27:0x0;}[_0x4bc902(0x448)](){const _0x5888e6=_0x4bc902;return this[_0x5888e6(0x3f8)]>0x0&&this[_0x5888e6(0x3f8)]-0x64>0x0?(this[_0x5888e6(0x3f8)]-0x64)/0x64:0x0;}[_0x4bc902(0x320)](){const _0x2c022a=_0x4bc902;let _0x1562c4=0x0;return this[_0x2c022a(0x991)][_0x2c022a(0x105)](_0x5091ac=>{const _0x471ed5=_0x2c022a;_0x1562c4+=_0x5091ac[_0x471ed5(0x3cc)];}),_0x1562c4;}['getReceiverBitrate'](){const _0x1347b6=_0x4bc902;let _0x3e45f5=0x0;return this[_0x1347b6(0x991)][_0x1347b6(0x105)](_0x40e0f0=>{const _0x27e8e8=_0x1347b6;_0x3e45f5+=_0x40e0f0[_0x27e8e8(0x30f)];}),_0x3e45f5;}[_0x4bc902(0x14c)](){const _0x1f6544=_0x4bc902;let _0x90a2c2=0x0;return this[_0x1f6544(0x991)][_0x1f6544(0x105)](_0x587558=>{const _0x16432a=_0x1f6544;_0x90a2c2+=_0x587558[_0x16432a(0x2d5)];}),_0x90a2c2;}[_0x4bc902(0x41e)](_0x1b0d0e){this['scheduleTime']=_0x1b0d0e;}[_0x4bc902(0x16b)](_0x2a9e4b){this['durationTime']=_0x2a9e4b;}['processDataChannelReport'](_0x1bef08,_0x1c13a8){const _0x3a4cdc=_0x4bc902;switch(_0x1c13a8[_0x3a4cdc(0x42b)]){case _0x59a9f8[_0x3a4cdc(0x1b2)]:this[_0x3a4cdc(0x3e5)](_0x1bef08,_0x1c13a8);break;case _0x59a9f8[_0x3a4cdc(0x6fd)]:this[_0x3a4cdc(0x368)](_0x1bef08,_0x1c13a8);}}[_0x4bc902(0x3e5)](_0x527c0b,_0xa0b826){const _0x3cf350=_0x4bc902;this[_0x3cf350(0x4fc)][_0x3cf350(0x179)](_0x527c0b,_0xa0b826[_0x3cf350(0x5b9)]),this[_0x3cf350(0x468)]['set'](_0x527c0b,_0xa0b826['timeSending']);}[_0x4bc902(0x368)](_0x3646b0,_0x40fc53){const _0x2eaf38=_0x4bc902;this[_0x2eaf38(0x621)][_0x2eaf38(0x179)](_0x3646b0,_0x40fc53[_0x2eaf38(0xa27)]),this[_0x2eaf38(0x56a)][_0x2eaf38(0x179)](_0x3646b0,_0x40fc53[_0x2eaf38(0x290)]),this[_0x2eaf38(0x115)][_0x2eaf38(0x179)](_0x3646b0,_0x40fc53[_0x2eaf38(0x115)]);}}class _0x5c948d{['configs'];[_0x4bc902(0x1c8)]=new Set();[_0x4bc902(0x8ec)];[_0x4bc902(0x77b)];[_0x4bc902(0x1ee)];[_0x4bc902(0x2ff)]=new _0x1cd703();constructor(_0x27e781){const _0x297cfa=_0x4bc902;this['configs']=_0x27e781,this[_0x297cfa(0x15c)][_0x297cfa(0x961)][_0x297cfa(0x61d)](this[_0x297cfa(0x2ff)]),this[_0x297cfa(0x77b)]=this[_0x297cfa(0x143)](),this[_0x297cfa(0x1ee)]=this[_0x297cfa(0x757)]();}[_0x4bc902(0x6bf)](){const _0x26dbc3=_0x4bc902;this[_0x26dbc3(0x15c)]['mediator'][_0x26dbc3(0x132)](this['statsReport']),this[_0x26dbc3(0x1ee)](),this[_0x26dbc3(0x77b)]();}[_0x4bc902(0x1d7)](_0x29e0aa){const _0x49786e=_0x4bc902;this['remoteNodes'][_0x49786e(0xa19)](_0x29e0aa),this['statsReport'][_0x49786e(0x1d7)](_0x29e0aa);}[_0x4bc902(0x9a6)](_0xebb823){const _0x4a3e84=_0x4bc902;this[_0x4a3e84(0x1c8)][_0x4a3e84(0x24c)](_0xebb823),this[_0x4a3e84(0x2ff)][_0x4a3e84(0x9a6)](_0xebb823);}[_0x4bc902(0x379)](_0x2b3640){const _0x3d8660=_0x4bc902;if(_0x2b3640[_0x3d8660(0xa0d)]['type']===_0x10d48f['Stats']){const {nodeId:_0x8548ba,streamId:_0x656f50,stats:_0x38222a}=_0x2b3640[_0x3d8660(0xa0d)];this[_0x3d8660(0x2ff)][_0x3d8660(0x5ed)](_0x8548ba,_0x38222a,_0x656f50);}}['handleContentSystemEvents'](_0xd38991){const _0x2aff62=_0x4bc902;switch(_0xd38991['content'][_0x2aff62(0x1aa)]){case _0x5b4969[_0x2aff62(0x1f0)]:case _0x5b4969[_0x2aff62(0x994)]:case _0x5b4969[_0x2aff62(0x2ce)]:case _0x5b4969[_0x2aff62(0x487)]:case _0x5b4969['GenerativeAIWorkerStats']:case _0x5b4969['VectorDatabaseStats']:case _0x5b4969[_0x2aff62(0x222)]:case _0x5b4969['ExternalStorageStats']:this[_0x2aff62(0x2ff)]['processServiceReport'](_0xd38991[_0x2aff62(0xa0d)][_0x2aff62(0x458)],_0xd38991[_0x2aff62(0xa0d)][_0x2aff62(0x1aa)],_0xd38991[_0x2aff62(0xa0d)][_0x2aff62(0x795)]);}}[_0x4bc902(0x757)](){const _0x4429a2=_0x4bc902;return _0x58c1db[_0x4429a2(0x1d2)](()=>{const _0x5c6b01=_0x4429a2,_0x1e7f3e=this[_0x5c6b01(0x2ff)][_0x5c6b01(0x1ac)]();_0x28bf01['log'](_0x4f63ff[_0x5c6b01(0x5c2)],_0x5c6b01(0x82c),_0x1e7f3e),(0x0,_0x456efb[_0x5c6b01(0xa2f)])((0x0,_0x456efb[_0x5c6b01(0x61f)])(_0x14b3ac[_0x5c6b01(0x6c4)](),_0x5c6b01(0x217)+this[_0x5c6b01(0x15c)][_0x5c6b01(0x203)]+_0x5c6b01(0x64e)),{'clusterId':this[_0x5c6b01(0x15c)][_0x5c6b01(0x6a2)],'nodeId':this[_0x5c6b01(0x15c)][_0x5c6b01(0x8cc)][_0x5c6b01(0x68a)](),'nodeType':this[_0x5c6b01(0x15c)][_0x5c6b01(0x8cc)][_0x5c6b01(0x1aa)],'timestamp':(0x0,_0x456efb['serverTimestamp'])(),'report':_0x1e7f3e}),_0x28bf01['logEvent']('stats',{'clusterId':this['configs'][_0x5c6b01(0x6a2)],'nodeId':this[_0x5c6b01(0x15c)][_0x5c6b01(0x8cc)][_0x5c6b01(0x68a)](),'nodeType':this['configs']['localNode'][_0x5c6b01(0x1aa)],'data':{'report':_0x1e7f3e}});},_0x4a734);}[_0x4bc902(0x143)](){const _0x35eccd=_0x4bc902;let _0x18dcc5=!0x1,_0x59a691=Date[_0x35eccd(0xa09)]();return _0x58c1db['setInterval'](async()=>{const _0x5277b6=_0x35eccd;if(_0x18dcc5)return;if(_0x18dcc5=!0x0,0x0===this[_0x5277b6(0x1c8)]['size'])return delete this[_0x5277b6(0x8ec)],void(_0x18dcc5=!0x1);const _0x1ceee5=Date[_0x5277b6(0xa09)]();this['findNextNodeId']();try{await this[_0x5277b6(0x15c)]['mediator']['collectStats'](this['nextNodeId']);}catch(_0x3a6ac0){}this[_0x5277b6(0x2ff)][_0x5277b6(0x253)]({'secheduleTime':_0x1ceee5-_0x59a691,'durationTime':Date[_0x5277b6(0xa09)]()-_0x1ceee5}),_0x59a691=_0x1ceee5,_0x18dcc5=!0x1;},_0x143a27);}[_0x4bc902(0x821)](){const _0x164b0e=_0x4bc902;let _0x14f3df,_0xf6656a=!0x1;this['nextNodeId']&&(this['remoteNodes'][_0x164b0e(0x5f9)](this[_0x164b0e(0x8ec)])||delete this[_0x164b0e(0x8ec)]);for(const _0x20a529 of this['remoteNodes'])if(_0x14f3df||(_0x14f3df=_0x20a529),this[_0x164b0e(0x8ec)]!==_0x20a529){if(_0xf6656a)return void(this[_0x164b0e(0x8ec)]=_0x20a529);}else _0xf6656a=!0x0,delete this[_0x164b0e(0x8ec)];this[_0x164b0e(0x8ec)]||(this[_0x164b0e(0x8ec)]=_0x14f3df);}}class _0x2b3ca4{[_0x4bc902(0x4ed)];[_0x4bc902(0x1b6)];[_0x4bc902(0x67d)];constructor(_0x342b09,_0x57fb29){const _0x4d2ff2=_0x4bc902;this[_0x4d2ff2(0x4ed)]=_0x342b09,this['destination']=_0x57fb29;}[_0x4bc902(0x75b)](_0x54b352){const _0x55ba6e=_0x4bc902;this[_0x55ba6e(0x67d)]=_0x54b352;}[_0x4bc902(0x2ef)](){const _0x1dfcc9=_0x4bc902;delete this[_0x1dfcc9(0x67d)];}}class _0x5757dd extends _0x2b3ca4{[_0x4bc902(0x4ed)];[_0x4bc902(0x1b6)];[_0x4bc902(0x178)];constructor(_0x37fb11,_0x36b5a4,_0x3841c9){const _0x31b46c=_0x4bc902;super(_0x37fb11,_0x36b5a4),this[_0x31b46c(0x4ed)]=_0x37fb11,this[_0x31b46c(0x1b6)]=_0x36b5a4,this[_0x31b46c(0x178)]=_0x3841c9;}[_0x4bc902(0x9e4)](_0x38631e,_0x3d6c85,_0xddd4ad){const _0x3ba014=_0x4bc902;if(this['destination'][_0x3ba014(0x892)]()===_0x3e2379[_0x3ba014(0x41f)]['Media']){const _0x16eb52={'type':_0x27d67a[_0x3ba014(0x88e)],'label':this[_0x3ba014(0x1b6)][_0x3ba014(0x5f1)](),'ownerId':_0x38631e,'trackKinds':_0x3d6c85??this['destination'][_0x3ba014(0x613)](),'params':_0xddd4ad};this[_0x3ba014(0x67d)][_0x3ba014(0x912)]({'sourceId':this[_0x3ba014(0x4ed)][_0x3ba014(0x5ab)](),'destinationIds':[this[_0x3ba014(0x4ed)][_0x3ba014(0x2e2)]()],'messageType':_0x18db64['Subscription'],'content':_0x16eb52}),this[_0x3ba014(0x178)]=_0xddd4ad;}}[_0x4bc902(0x12e)](_0x5a250c,_0x1f9c59){const _0x24ceb3=_0x4bc902;if(this[_0x24ceb3(0x1b6)][_0x24ceb3(0x892)]()===_0x3e2379[_0x24ceb3(0x41f)][_0x24ceb3(0x117)]){const _0x4083e4={'type':_0x27d67a['UpdateMediaStream'],'label':this[_0x24ceb3(0x1b6)][_0x24ceb3(0x5f1)](),'ownerId':_0x5a250c,'params':_0x1f9c59};this[_0x24ceb3(0x67d)][_0x24ceb3(0x912)]({'sourceId':this[_0x24ceb3(0x4ed)][_0x24ceb3(0x5ab)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x18db64[_0x24ceb3(0x603)],'content':_0x4083e4}),this[_0x24ceb3(0x178)]=_0x1f9c59;}}[_0x4bc902(0x80f)](_0x49d169,_0x2e47b2,_0x6aa46a){const _0x5d630c=_0x4bc902;if(this[_0x5d630c(0x1b6)][_0x5d630c(0x892)]()===_0x3e2379[_0x5d630c(0x41f)][_0x5d630c(0x117)]){const _0x532385={'type':_0x27d67a[_0x5d630c(0xa15)],'label':this[_0x5d630c(0x1b6)]['getLabel'](),'ownerId':_0x49d169,'trackKinds':_0x6aa46a??this[_0x5d630c(0x1b6)][_0x5d630c(0x613)](),'remainingTracks':_0x2e47b2};this[_0x5d630c(0x67d)][_0x5d630c(0x912)]({'sourceId':this['source'][_0x5d630c(0x5ab)](),'destinationIds':[this[_0x5d630c(0x4ed)][_0x5d630c(0x2e2)]()],'messageType':_0x18db64[_0x5d630c(0x603)],'content':_0x532385});}}}class _0x3350ae{['currentDistance'];[_0x4bc902(0x4e8)];[_0x4bc902(0x2a6)];[_0x4bc902(0x67d)];[_0x4bc902(0x450)]=new Set();[_0x4bc902(0x9d5)]=Date['now']();['params'];[_0x4bc902(0x4fe)]=0x0;constructor(_0x43c9ae,_0x2c33a1,_0x3e1b03,_0xa58a71){const _0x406657=_0x4bc902;this[_0x406657(0x185)]=_0x2c33a1,this[_0x406657(0x4e8)]=_0x3e1b03,this[_0x406657(0x2a6)]=_0xa58a71,_0x43c9ae['forEach'](_0x45bbbc=>{const _0x3febad=_0x406657;this[_0x3febad(0x450)][_0x3febad(0xa19)]({'nodeId':_0x45bbbc,'type':_0x1626ea[_0x3febad(0x729)]});});}[_0x4bc902(0x9b1)](){return this['tracks'];}[_0x4bc902(0x75b)](_0x1c1fa5){const _0x30ba0c=_0x4bc902;this[_0x30ba0c(0x67d)]=_0x1c1fa5;}[_0x4bc902(0x2ef)](){delete this['systemTopic'];}[_0x4bc902(0x27e)](_0x8ab576,_0x1d60f5){const _0x279d5d=_0x4bc902;this[_0x279d5d(0x9d5)]=Date[_0x279d5d(0xa09)](),this['answers'][_0x279d5d(0x984)](),_0x8ab576[_0x279d5d(0x105)](_0x24b037=>{const _0x4e0795=_0x279d5d;this[_0x4e0795(0x450)][_0x4e0795(0xa19)]({'nodeId':_0x24b037,'type':_0x1626ea['Waiting']});}),this[_0x279d5d(0x4fe)]+=0x1,this[_0x279d5d(0x185)]=_0x1d60f5;}[_0x4bc902(0x6af)](_0x3ceff3,_0x126856,_0x28d6b8,_0x1b2833,_0x3c1cab){const _0x566c9a=_0x4bc902;if(this[_0x566c9a(0x4fe)]>0xa)throw new _0x3d0311(_0x3d0311[_0x566c9a(0x85e)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x566c9a(0x100)](this[_0x566c9a(0x450)])[_0x566c9a(0x8a3)](_0x20cca8=>({'nodeId':_0x20cca8[_0x566c9a(0x617)],'type':_0x20cca8[_0x566c9a(0x1aa)]}))});const _0x5429dc=Array[_0x566c9a(0x100)](this['answers'])[_0x566c9a(0x8a3)](_0x25c0f4=>_0x25c0f4['nodeId']);this[_0x566c9a(0x178)]=_0x3c1cab,this[_0x566c9a(0x67d)][_0x566c9a(0x912)]({'sourceId':_0x3ceff3,'destinationIds':_0x5429dc,'messageType':_0x18db64[_0x566c9a(0x603)],'content':{'type':_0x27d67a['NeedMediaStream'],'label':_0x28d6b8,'ownerId':_0x126856,'trackKinds':_0x1b2833,'params':_0x3c1cab}}),_0x28bf01[_0x566c9a(0x5e2)](_0x4f63ff[_0x566c9a(0x603)],'Send\x20request',_0x3ceff3,_0x5429dc);}[_0x4bc902(0x9c4)](_0x117804,_0x538a9f){const _0x4739fd=_0x4bc902;switch(_0x538a9f[_0x4739fd(0x1aa)]){case _0x27d67a[_0x4739fd(0x52d)]:{const _0x2446ac=this[_0x4739fd(0x185)]>=_0x538a9f[_0x4739fd(0x160)]&&_0x538a9f['distance']<=this['maxDistance'],_0xba4429=Array[_0x4739fd(0x100)](this[_0x4739fd(0x450)])[_0x4739fd(0x731)](_0xcda93a=>_0xcda93a[_0x4739fd(0x617)]===_0x117804);_0xba4429[_0x4739fd(0x1aa)]=_0x2446ac?_0x1626ea['Accepted']:_0x1626ea[_0x4739fd(0x2c5)],_0xba4429[_0x4739fd(0x1ba)]=_0x538a9f['cost'],_0xba4429[_0x4739fd(0x160)]=_0x538a9f[_0x4739fd(0x160)],_0xba4429['streamId']=_0x538a9f['streamId'],_0xba4429[_0x4739fd(0x837)]=Date[_0x4739fd(0xa09)]()-this[_0x4739fd(0x9d5)],_0xba4429[_0x4739fd(0x178)]=this['params'],_0xba4429[_0x4739fd(0x59c)]=_0x538a9f[_0x4739fd(0x59c)],_0xba4429[_0x4739fd(0x6ec)]=_0x538a9f['trackKinds'],_0xba4429['streamLabel']=_0x538a9f[_0x4739fd(0x458)],_0x28bf01[_0x4739fd(0x5e2)](_0x4f63ff[_0x4739fd(0x603)],(_0x2446ac?_0x4739fd(0x7bc):'Rejected')+_0x4739fd(0x868),_0xba4429);break;}case _0x27d67a[_0x4739fd(0x43a)]:{const _0xfb646d=Array[_0x4739fd(0x100)](this[_0x4739fd(0x450)])[_0x4739fd(0x731)](_0x97a6a3=>_0x97a6a3[_0x4739fd(0x617)]===_0x117804);_0xfb646d['type']=_0x1626ea[_0x4739fd(0x2c5)],_0x28bf01['log'](_0x4f63ff[_0x4739fd(0x603)],'Rejected\x20answer',_0xfb646d);break;}}if(this[_0x4739fd(0x14e)]())return this[_0x4739fd(0x190)]();}['chooseAnswer'](){const _0x20a0e4=_0x4bc902,_0x2cfaf0=Array[_0x20a0e4(0x100)](this[_0x20a0e4(0x450)])[_0x20a0e4(0x6f4)](_0x3087b3=>_0x3087b3['type']===_0x1626ea[_0x20a0e4(0x7bc)])[_0x20a0e4(0x728)]((_0x4eb1e2,_0x1e1a64)=>_0x4eb1e2[_0x20a0e4(0x1ba)]===_0x1e1a64[_0x20a0e4(0x1ba)]?_0x4eb1e2[_0x20a0e4(0x837)]-_0x1e1a64[_0x20a0e4(0x837)]:_0x4eb1e2[_0x20a0e4(0x1ba)]-_0x1e1a64[_0x20a0e4(0x1ba)]);if(0x0===_0x2cfaf0[_0x20a0e4(0x1d8)])throw new _0x3d0311(_0x3d0311[_0x20a0e4(0x85e)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x20a0e4(0x100)](this[_0x20a0e4(0x450)])[_0x20a0e4(0x8a3)](_0x165255=>({'nodeId':_0x165255[_0x20a0e4(0x617)],'type':_0x165255['type']}))});return _0x28bf01[_0x20a0e4(0x5e2)](_0x4f63ff[_0x20a0e4(0x603)],_0x20a0e4(0xa3b),_0x2cfaf0[0x0],this[_0x20a0e4(0x450)]),_0x2cfaf0[0x0];}[_0x4bc902(0x14e)](){const _0x2fe7e2=_0x4bc902;for(const _0x358cc1 of this[_0x2fe7e2(0x450)])if(_0x358cc1[_0x2fe7e2(0x1aa)]===_0x1626ea[_0x2fe7e2(0x729)])return!0x1;return!0x0;}}class _0x586f78{[_0x4bc902(0x458)];[_0x4bc902(0x2f0)];[_0x4bc902(0x6a1)]=_0x545df6();constructor(_0x498e07,_0x579050){const _0x57d7b5=_0x4bc902;this[_0x57d7b5(0x458)]=_0x498e07,this[_0x57d7b5(0x2f0)]=_0x579050;}['getLabel'](){const _0x4f1913=_0x4bc902;return this[_0x4f1913(0x458)];}[_0x4bc902(0x892)](){const _0x4d5dba=_0x4bc902;return this[_0x4d5dba(0x2f0)];}['registerSource'](_0x9dd423){const _0x492b51=_0x4bc902;_0x9dd423[_0x492b51(0x388)](this);}[_0x4bc902(0x9c0)](_0x50a7c0){const _0x19cbad=_0x4bc902;_0x50a7c0[_0x19cbad(0x953)](this);}[_0x4bc902(0x912)](_0x4b138f){const _0x48f552=_0x4bc902;this[_0x48f552(0x6a1)][_0x48f552(0x912)]({'topicLabel':this[_0x48f552(0x458)],'contentType':this[_0x48f552(0x2f0)],'uuid':(0x0,_0x31add3['v4'])(),'recipients':[],..._0x4b138f});}[_0x4bc902(0x9e4)](_0x53e6d0){const _0x2174e4=_0x4bc902;return this[_0x2174e4(0x6a1)][_0x2174e4(0x9e4)](_0x53e6d0);}['unregisterSource'](_0x10b398){const _0x56a8a2=_0x4bc902;_0x10b398[_0x56a8a2(0x6e8)](this);}[_0x4bc902(0x55a)](_0x395f47){const _0x182a01=_0x4bc902;_0x395f47[_0x182a01(0x5fa)](this);}}class _0x580241{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x4bc902(0x98d)];constructor(_0x4f2209){const _0x19935f=_0x4bc902;this[_0x19935f(0x98d)]=_0x4f2209;}get[_0x4bc902(0x4c5)](){return this['maps']['subscriptions'];}get[_0x4bc902(0xa44)](){const _0x1a0060=_0x4bc902;return this[_0x1a0060(0x401)][_0x1a0060(0xa44)];}[_0x4bc902(0x7fd)](_0x5704a2,_0x5a2abe){const _0x72c96d=_0x4bc902,_0x4b0270=this[_0x72c96d(0x98d)](_0x5a2abe),_0x486bf0=_0x21020f(_0x5704a2);if(!_0x4b0270['supportsContentType'])throw new _0x3d0311(_0x3d0311[_0x72c96d(0x85e)][_0x72c96d(0x60f)],{'message':_0x486bf0+':\x20'+_0x4b0270[_0x72c96d(0x1ae)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x4b0270[_0x72c96d(0x2f0)],'subscriptionType':_0x5704a2,'subscription':_0x5a2abe,'subscriptonParts':_0x4b0270});const _0x1731ae=_0xb07430(_0x5704a2,_0x4b0270);if(this[_0x72c96d(0x401)][_0x72c96d(0x4c5)][_0x72c96d(0x5f9)](_0x1731ae))throw new _0x3d0311(_0x3d0311[_0x72c96d(0x85e)][_0x72c96d(0x60f)],{'message':_0x486bf0+':\x20'+_0x1731ae+_0x72c96d(0x3da),'subscriptionType':_0x5704a2,'subscription':_0x5a2abe,'subscriptonParts':_0x4b0270});this[_0x72c96d(0x401)][_0x72c96d(0x4c5)]['set'](_0x1731ae,_0x5a2abe),this[_0x72c96d(0x753)](_0x4b0270,_0x5a2abe);}[_0x4bc902(0x2a8)](_0x3e596e,_0x3e1a03){const _0x191d1a=_0x4bc902,_0x25979d=_0xb07430(_0x3e1a03,_0x3e596e),_0x543930=this['maps'][_0x191d1a(0x4c5)][_0x191d1a(0x985)](_0x25979d);if(!_0x543930)throw new _0x3d0311(_0x3d0311[_0x191d1a(0x85e)][_0x191d1a(0x60f)],{'message':_0x21020f(_0x3e1a03)+':\x20'+_0x25979d+_0x191d1a(0x24e),'subscriptionType':_0x3e1a03,'subscription':_0x543930,'subscriptonParts':_0x3e596e});this[_0x191d1a(0x3b3)](_0x543930,_0x25979d,_0x3e596e);}['closeSubscription'](_0x5abd26,_0x2b2634,_0x2a936b){const _0x59dd1e=_0x4bc902;_0x2a936b=_0x2a936b||this[_0x59dd1e(0x98d)](_0x5abd26),this[_0x59dd1e(0x401)][_0x59dd1e(0x4c5)]['delete'](_0x2b2634),this['removeTopic'](_0x2a936b,_0x5abd26);}[_0x4bc902(0x753)](_0x67f4d5,{source:_0x5eb415,destination:_0x408ce1}){const _0x80374e=_0x4bc902,{contentType:_0x53060b,label:_0x38395b,remoteId:_0x46b1bb}=_0x67f4d5,_0x2bb8f8=_0x4646a8(_0x53060b,_0x38395b,_0x46b1bb),_0x28b925=new _0x586f78(_0x2bb8f8,_0x53060b);_0x28b925['registerSource'](_0x5eb415),_0x28b925[_0x80374e(0x9c0)](_0x408ce1),this['maps'][_0x80374e(0xa44)][_0x80374e(0x179)](_0x28b925[_0x80374e(0x5f1)](),_0x28b925);}['removeTopic'](_0x39dc0f,_0x48f7f7){const _0xfc93bf=_0x4bc902,{contentType:_0x41f697,label:_0x1f0294,remoteId:_0x5d1bfb}=_0x39dc0f,_0x5b079a=_0x4646a8(_0x41f697,_0x1f0294,_0x5d1bfb),_0x88233d=this[_0xfc93bf(0x401)][_0xfc93bf(0xa44)][_0xfc93bf(0x985)](_0x5b079a);_0x88233d&&(this[_0xfc93bf(0x125)](_0x88233d,_0x48f7f7),this[_0xfc93bf(0x401)][_0xfc93bf(0xa44)][_0xfc93bf(0x24c)](_0x5b079a));}[_0x4bc902(0x125)](_0x4bf2ed,{source:_0x244146,destination:_0x7b3329}){_0x4bf2ed['unregisterSource'](_0x244146),_0x4bf2ed['unregisterDestination'](_0x7b3329);}[_0x4bc902(0x732)](_0x1c5ec8){const _0x2b4c30=_0x4bc902;this[_0x2b4c30(0x401)][_0x2b4c30(0x4c5)][_0x2b4c30(0x105)]((_0x28ac66,_0x531eaf)=>{const _0x2455f2=_0x2b4c30;_0x531eaf[_0x2455f2(0x34d)](_0x1c5ec8)&&this[_0x2455f2(0x3b3)](_0x28ac66,_0x531eaf);});}}class _0x57ac69{['configs'];[_0x4bc902(0x4e8)];[_0x4bc902(0x7b7)]=new Map();['subscriptionRequestsQueue']=_0x29954f(new _0xa6ac6d(this[_0x4bc902(0x692)]['bind'](this),()=>_0x58c1db[_0x4bc902(0x261)](0x64)),!0x0);['subscriptionRequestTimeouts']=new Map();[_0x4bc902(0x401)];[_0x4bc902(0x9e1)]=new Map();constructor(_0x415b16,_0xe71503){const _0xdff1a4=_0x4bc902;this['configs']=_0x415b16,this[_0xdff1a4(0x4e8)]=_0xe71503,this[_0xdff1a4(0x401)]=new _0x580241(({source:_0x3e5378,destination:_0x3a03bf})=>_0x535cc1(_0x3a03bf,_0x3e5378));}[_0x4bc902(0x7fd)](_0x7ae29c,_0x15c709){const _0x752796=_0x4bc902,_0x1890fd=this['isMediaSource'](_0x7ae29c)&&this[_0x752796(0x231)](_0x15c709)?new _0x5757dd(_0x7ae29c,_0x15c709):new _0x2b3ca4(_0x7ae29c,_0x15c709);this[_0x752796(0x401)]['createSubscription'](_0x17e05e[_0x752796(0x4a3)],_0x1890fd),this[_0x752796(0x15c)]['mediator'][_0x752796(0x61d)](_0x1890fd);}['removeSubscription'](_0x254220,_0x2adb3f,_0x421b11=''){const _0x2eb209=_0x4bc902,_0x302c85={'contentType':_0x2adb3f,'label':_0x254220,'remoteId':_0x421b11},_0x1f5d6a=_0xb07430(_0x17e05e['Incoming'],_0x302c85),_0x2a2649=this[_0x2eb209(0x401)][_0x2eb209(0x4c5)][_0x2eb209(0x985)](_0x1f5d6a);_0x2a2649&&this[_0x2eb209(0x3b3)](_0x2a2649,_0x1f5d6a);}[_0x4bc902(0x1da)](_0x153bfe){const _0x3743a7=_0x4bc902;this[_0x3743a7(0x2e9)](_0x153bfe);}[_0x4bc902(0x6ae)]({label:_0x13c471,ownerId:_0x4b3e59,trackKinds:_0x2190f0,params:_0xf1e0f3}){const _0x4e9d6c=_0x4bc902;this[_0x4e9d6c(0xa13)](_0x13c471,_0x4b3e59,_0x2190f0,_0xf1e0f3);}['handleContentUpdateMediaStream']({ownerId:_0x265f4b,label:_0x3799d9,params:_0x34bca0}){const _0x42e37d=_0x4bc902,{subscriptionLabel:_0x5d9919}=this[_0x42e37d(0xa21)](_0x3799d9,_0x265f4b),_0xf9dd21=this['getMediaSubscription'](_0x5d9919);_0xf9dd21&&_0xf9dd21[_0x42e37d(0x12e)](_0x265f4b,_0x34bca0);}[_0x4bc902(0x62b)]({ownerId:_0x9af828,label:_0x60980f,trackKinds:_0x3c5c50,remainingTracks:_0x45c1d6}){const _0x106b59=_0x4bc902,_0x4286b7=_0xb07430(_0x17e05e[_0x106b59(0x4a3)],{'contentType':_0x3e2379['ContentType'][_0x106b59(0x117)],'label':_0x60980f,'remoteId':_0x9af828});this[_0x106b59(0x69e)](_0x4286b7);const _0x2e3f03=this[_0x106b59(0x7b7)][_0x106b59(0x985)](_0x4286b7);_0x2e3f03&&(this[_0x106b59(0x15c)][_0x106b59(0x961)][_0x106b59(0x132)](_0x2e3f03),this[_0x106b59(0x7b7)]['delete'](_0x4286b7));const {parts:_0xe77d9b,subscriptionLabel:_0x361c95}=this[_0x106b59(0xa21)](_0x60980f,_0x9af828),_0x4f454e=this[_0x106b59(0x75a)](_0x361c95);_0x4f454e&&(_0x4f454e[_0x106b59(0x80f)](_0x9af828,_0x45c1d6,_0x3c5c50),0x0===_0x45c1d6&&this[_0x106b59(0x2a8)](_0xe77d9b[_0x106b59(0x458)],_0xe77d9b[_0x106b59(0x2f0)],_0xe77d9b[_0x106b59(0x1ae)]));}[_0x4bc902(0x656)](_0xe1651,{label:_0x37011d,ownerId:_0x2b22a9,trackKinds:_0x1ac732,streamId:_0x5410a2,params:_0x263695}){const _0x32a7cb=_0x4bc902,_0x3f3658=_0xb07430(_0x17e05e['Incoming'],{'contentType':_0x3e2379[_0x32a7cb(0x41f)]['Media'],'label':_0x5410a2,'remoteId':_0xe1651}),_0x1d415e=this[_0x32a7cb(0x401)][_0x32a7cb(0x4c5)][_0x32a7cb(0x985)](_0x3f3658);if(!(_0x1d415e&&_0x1d415e instanceof _0x5757dd))throw new _0x3d0311(_0x3d0311[_0x32a7cb(0x85e)][_0x32a7cb(0x46c)],{'label':_0x3f3658,'ownerId':_0x2b22a9});this[_0x32a7cb(0x3b3)](_0x1d415e,_0x3f3658),this[_0x32a7cb(0xa13)](_0x37011d,_0x2b22a9,_0x1ac732,_0x263695);}[_0x4bc902(0x6d3)](_0x329df8,_0x4591ac){const _0x2de2f3=_0x4bc902,{label:_0x2b1c06,ownerId:_0x237b2d,trackKinds:_0x5a0edc,params:_0x15168b}=_0x4591ac,_0x5d8147=_0xb07430(_0x17e05e[_0x2de2f3(0x4a3)],{'contentType':_0x3e2379[_0x2de2f3(0x41f)][_0x2de2f3(0x117)],'label':_0x2b1c06,'remoteId':_0x237b2d});if(!this[_0x2de2f3(0x7b7)]['has'](_0x5d8147))throw new _0x3d0311(_0x3d0311['codes'][_0x2de2f3(0x46c)],{'label':_0x5d8147,'ownerId':_0x237b2d,'streamId':_0x4591ac['streamId'],'requests':this[_0x2de2f3(0x7b7)]});const _0x2c39d8=this['subscriptionRequests']['get'](_0x5d8147);if(_0x5a0edc[_0x2de2f3(0x1d8)]===_0x2c39d8[_0x2de2f3(0x9b1)]()[_0x2de2f3(0x1d8)]&&_0x5a0edc[_0x2de2f3(0x6f1)](_0x2a1417=>_0x2c39d8[_0x2de2f3(0x9b1)]()[_0x2de2f3(0x7f5)](_0x2a1417)))try{const _0x40f658=_0x2c39d8[_0x2de2f3(0x9c4)](_0x329df8,_0x4591ac);if(!_0x40f658)return;this['subscribe'](_0x40f658,_0x237b2d,_0x2b1c06,_0x5d8147,_0x5a0edc);}catch(_0xf8d699){return void this[_0x2de2f3(0x903)](_0x2b1c06,_0x237b2d,_0x5a0edc,_0x15168b);}}[_0x4bc902(0x80c)](_0x46090b,{label:_0x265dd7,ownerId:_0x42b4e0,trackKinds:_0x239702}){const _0xd6c4b5=_0x4bc902,_0x56be68=this[_0xd6c4b5(0x15c)]['mediator'][_0xd6c4b5(0x442)](_0x42b4e0,_0x265dd7);if(!_0x56be68)return;const _0x2a7190=_0x56be68['getInternalStreamId'](),_0x44569c=_0x56be68['getSubscribedTracks']();_0x44569c[_0xd6c4b5(0x3eb)](_0x4f45e9=>_0x239702[_0xd6c4b5(0x7f5)](_0x4f45e9))&&this[_0xd6c4b5(0x4de)](_0x46090b,_0x265dd7,_0x2a7190,_0x42b4e0,_0x44569c);}[_0x4bc902(0x6bb)]({label:_0x291dfd,providerId:_0x23bd5a,ownerId:_0x3e6e85,streamId:_0x60c782,trackKinds:_0xcfa873}){this['findNewMediaSubscription'](_0x23bd5a,_0x291dfd,_0x60c782,_0x3e6e85,_0xcfa873);}[_0x4bc902(0xa18)](_0x9bfd77){const _0x50dd07=_0x4bc902;for(const _0x16f3ec of this[_0x50dd07(0x9e1)][_0x50dd07(0x437)]()){const {streamLabel:_0x38c40a,ownerId:_0x5b0ac3,trackKinds:_0x58e9a8,params:_0x415bde}=_0x16f3ec;if(!_0x5b0ac3||!_0x58e9a8||!_0x38c40a)return;this[_0x50dd07(0x176)][_0x50dd07(0x5b2)]({'label':_0x38c40a,'ownerId':_0x5b0ac3,'trackKinds':_0x58e9a8,'params':_0x415bde,'remoteId':_0x9bfd77});}}[_0x4bc902(0x732)](_0x469053){const _0x233538=_0x4bc902;this['maps'][_0x233538(0x4c5)][_0x233538(0x105)]((_0x59ac85,_0x38277e)=>{const _0x18dde4=_0x233538;if(_0x38277e[_0x18dde4(0x34d)](_0x469053)){if(_0x59ac85[_0x18dde4(0x1b6)][_0x18dde4(0x892)]()===_0x3e2379[_0x18dde4(0x41f)]['Media']){const _0x22120d=_0x59ac85[_0x18dde4(0x1b6)];if(_0x22120d[_0x18dde4(0x39d)]()['length']>0x0){const _0x37f007={'type':_0x27d67a[_0x18dde4(0x969)],'label':_0x22120d[_0x18dde4(0x5f1)](),'ownerId':_0x22120d[_0x18dde4(0x827)](),'trackKinds':_0x22120d[_0x18dde4(0x39d)]()};return void this[_0x18dde4(0x80c)](_0x469053,_0x37f007);}}this['closeSubscription'](_0x59ac85,_0x38277e);}});}[_0x4bc902(0x6bf)](){const _0x205fed=_0x4bc902;this[_0x205fed(0x401)][_0x205fed(0x4c5)][_0x205fed(0x105)](this[_0x205fed(0x3b3)]['bind'](this));}[_0x4bc902(0x9e4)](_0xfebb99,_0x468efc,_0x2f9a20,_0x195581,_0x6bf9d3){const _0x262f3a=_0x4bc902,_0x1a733d=this['configs'][_0x262f3a(0x961)][_0x262f3a(0x361)](_0xfebb99['nodeId']),_0x1be4ec=this[_0x262f3a(0x15c)][_0x262f3a(0x961)][_0x262f3a(0x442)](_0x468efc,_0x2f9a20);this[_0x262f3a(0x69e)](_0x195581),this[_0x262f3a(0x7b7)][_0x262f3a(0x5f9)](_0x195581)&&(this[_0x262f3a(0x15c)][_0x262f3a(0x961)][_0x262f3a(0x132)](this[_0x262f3a(0x7b7)][_0x262f3a(0x985)](_0x195581)),this[_0x262f3a(0x7b7)][_0x262f3a(0x24c)](_0x195581)),this[_0x262f3a(0x3ef)](_0xfebb99,_0x468efc,_0x2f9a20,_0x1be4ec),_0x1be4ec['setInternalId'](_0xfebb99[_0x262f3a(0x522)]),_0x1be4ec[_0x262f3a(0x310)](_0xfebb99[_0x262f3a(0x617)]);const _0x45673b=_0x535cc1(_0x1be4ec,_0x1a733d),_0x1f441e=_0xb07430(_0x17e05e['Incoming'],_0x45673b);this['maps']['subscriptions'][_0x262f3a(0x5f9)](_0x1f441e)||this[_0x262f3a(0x7fd)](_0x1a733d,_0x1be4ec);const _0x5436c3=this['maps'][_0x262f3a(0x4c5)][_0x262f3a(0x985)](_0x1f441e);if(!(_0x5436c3&&_0x5436c3 instanceof _0x5757dd))throw new _0x3d0311(_0x3d0311[_0x262f3a(0x85e)][_0x262f3a(0x46c)],{'label':_0x195581,'ownerId':_0x468efc});_0x28bf01[_0x262f3a(0x7eb)]('subscription',{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x262f3a(0x15c)][_0x262f3a(0x8cc)][_0x262f3a(0x68a)](),'nodeType':this[_0x262f3a(0x15c)][_0x262f3a(0x8cc)][_0x262f3a(0x1aa)],'data':{'subscriptionLabel':_0x1f441e,'chosenAnswer':_0xfebb99}}),this['chosenAnswers'][_0x262f3a(0x179)](_0x1f441e,_0xfebb99),_0x5436c3['subscribe'](_0x468efc,_0x6bf9d3,_0xfebb99[_0x262f3a(0x178)]);}[_0x4bc902(0x2e9)]({ownerId:_0xb7dd68,label:_0x74c810}){const _0x3ec9f9=_0x4bc902,_0x3ae5d0=this[_0x3ec9f9(0x15c)][_0x3ec9f9(0x961)][_0x3ec9f9(0x442)](_0xb7dd68,_0x74c810),[_0x3abf27,_0x425083]=Array[_0x3ec9f9(0x100)](this[_0x3ec9f9(0x401)]['subscriptions'][_0x3ec9f9(0x87f)]())[_0x3ec9f9(0x731)](([_0x153d47,_0x59f363])=>-0x1!==_0x153d47[_0x3ec9f9(0x530)](_0x3ae5d0['getInternalStreamId']()));return this[_0x3ec9f9(0x3b3)](_0x425083,_0x3abf27);}[_0x4bc902(0x3b3)](_0xf2b668,_0x133cd2){const _0x4ea25f=_0x4bc902;this['configs'][_0x4ea25f(0x961)][_0x4ea25f(0x132)](_0xf2b668),this['maps']['closeSubscription'](_0xf2b668,_0x133cd2);}[_0x4bc902(0x843)](_0x5dcc1e){const _0x3a8922=_0x4bc902;return _0x5dcc1e[_0x3a8922(0x874)]()[_0x3a8922(0x7f5)](_0x3e2379[_0x3a8922(0x41f)][_0x3a8922(0x117)]);}['isMediaDestination'](_0x45f4aa){const _0x2a44e1=_0x4bc902;return _0x45f4aa[_0x2a44e1(0x892)]()===_0x3e2379[_0x2a44e1(0x41f)]['Media'];}async[_0x4bc902(0x903)](_0x28d078,_0x315721,_0x118b15,_0x4618e7){const _0x4e0ab5=_0x4bc902;await _0x58c1db[_0x4e0ab5(0x261)](0x3e8);const _0x3fc90f=_0xb07430(_0x17e05e[_0x4e0ab5(0x4a3)],{'contentType':_0x3e2379[_0x4e0ab5(0x41f)][_0x4e0ab5(0x117)],'label':_0x28d078,'remoteId':_0x315721});this[_0x4e0ab5(0x69e)](_0x3fc90f);const _0x1f180d=this[_0x4e0ab5(0x7b7)][_0x4e0ab5(0x985)](_0x3fc90f);if(!_0x1f180d)throw new _0x3d0311(_0x3d0311[_0x4e0ab5(0x85e)][_0x4e0ab5(0x46c)],{'label':_0x3fc90f,'ownerId':_0x315721});const _0x34f524=this[_0x4e0ab5(0x15c)][_0x4e0ab5(0x961)][_0x4e0ab5(0x799)](_0x55ff0a=>_0x55ff0a[_0x4e0ab5(0x8cd)]()),_0x592213=this[_0x4e0ab5(0x15c)][_0x4e0ab5(0x961)][_0x4e0ab5(0x58d)](this[_0x4e0ab5(0x15c)][_0x4e0ab5(0x8cc)][_0x4e0ab5(0x68a)](),_0x315721);_0x1f180d['reset'](_0x34f524['map'](_0x5750ec=>_0x5750ec['getRemoteId']()),_0x592213);try{_0x1f180d['sendRequest'](this[_0x4e0ab5(0x15c)][_0x4e0ab5(0x8cc)][_0x4e0ab5(0x68a)](),_0x315721,_0x28d078,_0x118b15,_0x4618e7),this['setSubscriptionRequestTimeout'](_0x28d078,_0x315721,_0x118b15,_0x4618e7,_0x3fc90f,_0x1f180d);}catch(_0xd9e6a7){this[_0x4e0ab5(0x176)][_0x4e0ab5(0x5b2)]({'label':_0x28d078,'ownerId':_0x315721,'trackKinds':_0x118b15,'params':_0x4618e7});}}['requestSubscription'](_0x40184a,_0x41ca0e,_0x52ecd8,_0x334420){const _0x5bc86d=_0x4bc902;this[_0x5bc86d(0x176)]['push']({'label':_0x40184a,'ownerId':_0x41ca0e,'trackKinds':_0x52ecd8,'params':_0x334420});}[_0x4bc902(0x692)]({label:_0x13bfd3,ownerId:_0x5a90d6,trackKinds:_0x5cd99a,params:_0x124baa,remoteId:_0x1c584f}){const _0x195347=_0x4bc902;if(!this[_0x195347(0x15c)]['mediator'][_0x195347(0x442)](_0x5a90d6,_0x13bfd3))return;if(!this['configs'][_0x195347(0x961)][_0x195347(0x2dc)]()['getRank']())throw new Error(_0x195347(0x375));if(_0x1c584f){const _0xac4128=this['configs'][_0x195347(0x961)][_0x195347(0x4d5)]()[_0x195347(0x731)](_0x114c0d=>_0x114c0d[_0x195347(0x68a)]()===_0x1c584f),_0x1537bf=_0xac4128?.[_0x195347(0x328)]();if(!_0xac4128||!_0x1537bf)throw new Error(_0x195347(0x9d9));const _0x41cda7=this['configs'][_0x195347(0x961)][_0x195347(0x4d5)]()[_0x195347(0x731)](_0x47cedc=>_0x47cedc[_0x195347(0x68a)]()===_0x5a90d6),_0x410a88=_0x41cda7?.[_0x195347(0x328)]();if(!_0x41cda7||!_0x410a88)throw new Error(_0x195347(0x94f));const _0x31a1c3=this['chosenAnswers'][_0x195347(0x985)](_0x13bfd3);if(_0x31a1c3){const _0x488cf1=this[_0x195347(0x15c)][_0x195347(0x961)][_0x195347(0x4d5)]()[_0x195347(0x731)](_0x46a094=>_0x46a094[_0x195347(0x68a)]()===_0x31a1c3['nodeId']),_0x7531e9=_0x488cf1?.[_0x195347(0x328)]();if(!_0x488cf1||!_0x7531e9)throw new Error(_0x195347(0x75f));if(Math['abs'](_0x7531e9-_0x410a88)<Math[_0x195347(0x302)](_0x1537bf-_0x410a88))return;}}const _0x30eeb4=this[_0x195347(0x15c)][_0x195347(0x961)]['getConnections'](_0x4215a3=>_0x4215a3[_0x195347(0x8cd)]()&&(!_0x1c584f||_0x4215a3['getRemoteId']()===_0x1c584f));if(!_0x30eeb4[_0x195347(0x1d8)]||0x0===_0x30eeb4[_0x195347(0x1d8)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x33999f=this[_0x195347(0x15c)]['mediator'][_0x195347(0x58d)](this[_0x195347(0x15c)][_0x195347(0x8cc)]['getId'](),_0x5a90d6),_0x7b6c51=_0xb07430(_0x17e05e[_0x195347(0x4a3)],{'contentType':_0x3e2379[_0x195347(0x41f)][_0x195347(0x117)],'label':_0x13bfd3,'remoteId':_0x5a90d6});if(this[_0x195347(0x7b7)][_0x195347(0x5f9)](_0x7b6c51)){if(_0x1c584f)throw new Error(_0x195347(0x831));const _0x4018e2=this[_0x195347(0x7b7)]['get'](_0x7b6c51)['getTracks']();if(_0x4018e2[_0x195347(0x1d8)]===_0x5cd99a['length']&&_0x4018e2[_0x195347(0x6f1)](_0x166b13=>_0x5cd99a[_0x195347(0x7f5)](_0x166b13)))return;this['configs'][_0x195347(0x961)][_0x195347(0x132)](this[_0x195347(0x7b7)][_0x195347(0x985)](_0x7b6c51)),this[_0x195347(0x7b7)][_0x195347(0x24c)](_0x7b6c51),_0x5cd99a=Array[_0x195347(0x100)](new Set(_0x5cd99a[_0x195347(0x8b0)](_0x4018e2))),this[_0x195347(0x69e)](_0x7b6c51);}const _0x6489a=new _0x3350ae(_0x30eeb4[_0x195347(0x8a3)](_0x3928e0=>_0x3928e0[_0x195347(0x2e2)]()),_0x33999f,this[_0x195347(0x4e8)],_0x5cd99a);this['configs']['mediator'][_0x195347(0x61d)](_0x6489a),this['subscriptionRequests'][_0x195347(0x179)](_0x7b6c51,_0x6489a),_0x6489a[_0x195347(0x6af)](this['configs'][_0x195347(0x8cc)][_0x195347(0x68a)](),_0x5a90d6,_0x13bfd3,_0x5cd99a,_0x124baa),this[_0x195347(0x7b4)](_0x13bfd3,_0x5a90d6,_0x5cd99a,_0x124baa,_0x7b6c51,_0x6489a);}['clearSubscriptionRequestTimeout'](_0x22fa9d){const _0x2a026e=_0x4bc902;this[_0x2a026e(0x245)][_0x2a026e(0x5f9)](_0x22fa9d)&&(clearTimeout(this[_0x2a026e(0x245)][_0x2a026e(0x985)](_0x22fa9d)),this[_0x2a026e(0x245)][_0x2a026e(0x24c)](_0x22fa9d));}[_0x4bc902(0x7b4)](_0x2a0fb6,_0x4c3c66,_0x126467,_0x146295,_0x1065a1,_0x1ce4f2){const _0x5e4dec=_0x4bc902;this[_0x5e4dec(0x69e)](_0x1065a1),this[_0x5e4dec(0x245)][_0x5e4dec(0x179)](_0x1065a1,setTimeout(()=>{const _0x21035b=_0x5e4dec;this['subscriptionRequestTimeouts'][_0x21035b(0x24c)](_0x1065a1);try{const _0x1114f1=_0x1ce4f2[_0x21035b(0x190)]();this[_0x21035b(0x9e4)](_0x1114f1,_0x4c3c66,_0x2a0fb6,_0x1065a1,_0x126467);}catch(_0x54bfc6){this[_0x21035b(0x903)](_0x2a0fb6,_0x4c3c66,_0x126467,_0x146295);}},0x7d0));}['findNewMediaSubscription'](_0xe02a9d,_0x1910c8,_0x9c808a,_0x199aff,_0x4a8718){const _0x167428=_0x4bc902,{subscriptionLabel:_0x23adfd}=this[_0x167428(0xa21)](_0x1910c8,_0x199aff),_0x37e3f4=this[_0x167428(0x75a)](_0x23adfd),_0x392f77=_0x37e3f4?.[_0x167428(0x178)];_0x37e3f4&&(_0x37e3f4[_0x167428(0x80f)](_0x199aff,0x0),this[_0x167428(0x2a8)](_0x9c808a,_0x3e2379['ContentType'][_0x167428(0x117)],_0xe02a9d)),this[_0x167428(0xa13)](_0x1910c8,_0x199aff,_0x4a8718,_0x392f77);}[_0x4bc902(0x75a)](_0x4c6e55){const _0x3ccb28=_0x4bc902,_0x338f67=this['maps']['subscriptions'][_0x3ccb28(0x985)](_0x4c6e55);if(_0x338f67){if(!(_0x338f67 instanceof _0x5757dd))throw new _0x3d0311(_0x3d0311[_0x3ccb28(0x85e)][_0x3ccb28(0x60f)],{'label':_0x4c6e55,'subscription':_0x338f67});return _0x338f67;}}['getSubscriptionLabel'](_0x1d899e,_0x462a05){const _0x52547f=_0x4bc902,_0x28275c=this['getPartsForSubscriptionLabel'](_0x1d899e,_0x462a05);return{'parts':_0x28275c,'subscriptionLabel':_0xb07430(_0x17e05e[_0x52547f(0x4a3)],_0x28275c)};}['getPartsForSubscriptionLabel'](_0x32d580,_0x36068a){const _0x582ec4=_0x4bc902,_0x2dccd7=this[_0x582ec4(0x15c)][_0x582ec4(0x961)][_0x582ec4(0x442)](_0x36068a,_0x32d580),_0x36854e=_0x2dccd7['getProviderId']();if(!_0x36854e)throw new _0x3d0311(_0x3d0311[_0x582ec4(0x85e)]['RemoteMediaStreamMissingProviderId'],{'label':_0x32d580,'streamId':_0x2dccd7[_0x582ec4(0x27c)](),'ownerId':_0x36068a,'localId':this['configs'][_0x582ec4(0x8cc)]['getId']()});return{'contentType':_0x3e2379[_0x582ec4(0x41f)][_0x582ec4(0x117)],'label':_0x2dccd7['getInternalStreamId'](),'remoteId':_0x36854e};}[_0x4bc902(0x3ef)](_0x5bf848,_0x286135,_0x4c31a9,_0x315e76){const _0x48438d=_0x4bc902,_0x1f43f4=_0x315e76[_0x48438d(0x304)]();if(_0x1f43f4&&_0x1f43f4!==_0x5bf848['nodeId']){const {parts:_0x525ca1,subscriptionLabel:_0x314915}=this['getSubscriptionLabel'](_0x4c31a9,_0x286135),_0x122ab8=this[_0x48438d(0x75a)](_0x314915);_0x122ab8&&(_0x122ab8[_0x48438d(0x80f)](_0x286135,0x0),this['removeSubscription'](_0x525ca1[_0x48438d(0x458)],_0x525ca1[_0x48438d(0x2f0)],_0x525ca1[_0x48438d(0x1ae)]));}}}class _0x240cb8{[_0x4bc902(0x15c)];[_0x4bc902(0x3f5)];[_0x4bc902(0x401)];constructor(_0x4d01a1,_0x3405be){const _0x152e17=_0x4bc902;this['configs']=_0x4d01a1,this[_0x152e17(0x3f5)]=_0x3405be,this['maps']=new _0x580241(({source:_0x598964,destination:_0x6b1ad3})=>_0x535cc1(_0x598964,_0x6b1ad3));}[_0x4bc902(0x7fd)](_0x542144,_0x5548d7){const _0x3f4ebf=_0x4bc902,_0x12e9c5={'source':_0x542144,'destination':_0x5548d7};this[_0x3f4ebf(0x401)]['createSubscription'](_0x17e05e[_0x3f4ebf(0x93c)],_0x12e9c5);}[_0x4bc902(0x2a8)](_0x7f3f0f,_0x3c1a45,_0x4292cd=''){const _0x129a1e=_0x4bc902,_0x9711b4={'contentType':_0x3c1a45,'label':_0x7f3f0f,'remoteId':_0x4292cd};this[_0x129a1e(0x401)][_0x129a1e(0x2a8)](_0x9711b4,_0x17e05e['Outgoing']);}[_0x4bc902(0x688)](_0x5080d1,_0x4053b4){const _0x118cbd=_0x4bc902;let _0x5eca90;_0x5eca90=_0x4053b4[_0x118cbd(0x59c)]!==this[_0x118cbd(0x15c)][_0x118cbd(0x8cc)]['getId']()?this[_0x118cbd(0x15c)][_0x118cbd(0x961)][_0x118cbd(0x442)](_0x4053b4['ownerId'],_0x4053b4[_0x118cbd(0x458)]):this[_0x118cbd(0x15c)][_0x118cbd(0x961)][_0x118cbd(0x65c)](_0x4053b4['label']);const _0x1733d0=_0xb07430(_0x17e05e[_0x118cbd(0x93c)],{'contentType':_0x3e2379[_0x118cbd(0x41f)][_0x118cbd(0x117)],'label':_0x5eca90[_0x118cbd(0x462)](),'remoteId':_0x5080d1}),_0x5aad88=this[_0x118cbd(0x726)]();if(!this[_0x118cbd(0x401)]['subscriptions'][_0x118cbd(0x5f9)](_0x1733d0)&&_0x5aad88>=this[_0x118cbd(0x3f5)])return{'type':_0x27d67a[_0x118cbd(0xa07)],'ownerId':_0x4053b4[_0x118cbd(0x59c)],'label':_0x4053b4[_0x118cbd(0x458)],'streamId':_0x5eca90['getShareableStreamId'](),'trackKinds':_0x4053b4['trackKinds'],'params':_0x4053b4[_0x118cbd(0x178)]};_0x5eca90 instanceof _0x5a3198&&!_0x5eca90[_0x118cbd(0x838)](_0x4053b4['trackKinds'])&&_0x5eca90[_0x118cbd(0x9e4)](_0x4053b4[_0x118cbd(0x178)]),this[_0x118cbd(0x401)]['subscriptions'][_0x118cbd(0x5f9)](_0x1733d0)||this[_0x118cbd(0x7fd)](_0x5eca90['getShareableStream'](_0x5080d1),this[_0x118cbd(0x15c)][_0x118cbd(0x961)][_0x118cbd(0x361)](_0x5080d1));}['handleSubscriptionUnsubscribeMediaStream'](_0x274346,{label:_0x28663d,ownerId:_0x45dace,remainingTracks:_0x4a74bc}){const _0xc76739=_0x4bc902;if(_0x4a74bc>0x0)return;let _0x513418;_0x513418=_0x45dace!==this['configs']['localNode']['getId']()?this['configs'][_0xc76739(0x961)][_0xc76739(0x442)](_0x45dace,_0x28663d):this['configs'][_0xc76739(0x961)][_0xc76739(0x65c)](_0x28663d);const _0x922427=_0x513418[_0xc76739(0x462)](),_0x21c0e7=_0x3e2379[_0xc76739(0x41f)][_0xc76739(0x117)];this[_0xc76739(0x2a8)](_0x922427,_0x21c0e7,_0x274346);}[_0x4bc902(0x62b)](_0x7ec588,{label:_0x913aad,ownerId:_0x3a00c0,trackKinds:_0x2d2c47}){const _0x4a156a=_0x4bc902;if(_0x7ec588!==_0x2da599)return[];let _0x424bd6=[];for(const _0x5251e0 of this[_0x4a156a(0x401)][_0x4a156a(0x4c5)]){const {source:_0x71badf,destination:_0x10a4f1}=_0x5251e0[0x1];_0x71badf[_0x4a156a(0x5f1)]()===_0x913aad&&_0x71badf[_0x4a156a(0x827)]()===_0x3a00c0&&_0x424bd6[_0x4a156a(0x5b2)]({'sourceId':this[_0x4a156a(0x15c)][_0x4a156a(0x8cc)][_0x4a156a(0x68a)](),'destinationIds':[_0x10a4f1[_0x4a156a(0x2e2)]()],'messageType':_0x18db64['Subscription'],'content':{'type':_0x27d67a[_0x4a156a(0x969)],'label':_0x913aad,'ownerId':_0x3a00c0,'trackKinds':_0x2d2c47}});}return _0x424bd6;}[_0x4bc902(0x110)](_0x336573,_0x3f8dd5){const _0x1150c1=_0x4bc902,{label:_0x4b7841,ownerId:_0x125048,trackKinds:_0x29b9d0,params:_0x57f269}=_0x3f8dd5,{hasTracks:_0xffb597,streamId:_0x4ccfdf,hasResolution:_0x574ed1,distance:_0x2fd4f5,subscriptionLabel:_0x427b75}=this['getSubscriptionInfo'](_0x336573,_0x3f8dd5);let _0x1f004f=this[_0x1150c1(0x726)]()<this[_0x1150c1(0x3f5)]&&(_0xffb597||_0x2fd4f5>-0x1)?_0x27d67a['CanProvideMediaStream']:_0x27d67a[_0x1150c1(0x43a)];const _0x56a301=_0x2fd4f5<0x0?0xa:_0x2fd4f5;let _0x388a9=_0xffb597?_0x574ed1?_0x56a301:_0x56a301+0x0:_0x56a301+0xa;return _0x427b75&&this[_0x1150c1(0x401)][_0x1150c1(0x4c5)][_0x1150c1(0x5f9)](_0x427b75)&&(_0xffb597&&(_0x388a9=0x0),_0x1f004f=_0x27d67a[_0x1150c1(0x52d)]),{'type':_0x1f004f,'cost':_0x388a9,'distance':_0x2fd4f5,'label':_0x4b7841,'ownerId':_0x125048,'streamId':_0x4ccfdf,'trackKinds':_0x29b9d0,'params':_0x57f269};}[_0x4bc902(0x1da)](_0x49b49a){const _0x24438a=_0x4bc902,{label:_0x3fd420,ownerId:_0x54b8bf}=_0x49b49a,_0x19dca0=this['configs'][_0x24438a(0x961)]['getRemoteMediaStream'](_0x54b8bf,_0x3fd420);this[_0x24438a(0x401)]['subscriptions'][_0x24438a(0x105)](_0x473252=>{const _0x1c4399=_0x24438a;if(_0x473252[_0x1c4399(0x4ed)][_0x1c4399(0x27c)]()===_0x19dca0[_0x1c4399(0x462)]()){const _0x44a744=_0x473252[_0x1c4399(0x1b6)];this['removeSubscription'](_0x19dca0[_0x1c4399(0x462)](),_0x3e2379[_0x1c4399(0x41f)][_0x1c4399(0x117)],_0x44a744[_0x1c4399(0x2e2)]());}});}['handleContentCloseMediaStream']({label:_0x5314ed}){const _0x466cad=_0x4bc902,_0x4ba161=this[_0x466cad(0x15c)][_0x466cad(0x961)]['getLocalMediaStream'](_0x5314ed);this['maps']['subscriptions'][_0x466cad(0x105)](_0x3e212d=>{const _0x55f133=_0x466cad;if(_0x3e212d[_0x55f133(0x4ed)][_0x55f133(0x27c)]()===_0x4ba161[_0x55f133(0x462)]()){const _0x22394d=_0x3e212d[_0x55f133(0x1b6)];this['removeSubscription'](_0x4ba161['getShareableStreamId'](),_0x3e2379['ContentType'][_0x55f133(0x117)],_0x22394d[_0x55f133(0x2e2)]());}});}['removeSubscriptionsForNode'](_0x582d01){const _0x307e0b=_0x4bc902;this[_0x307e0b(0x401)][_0x307e0b(0x732)](_0x582d01);}[_0x4bc902(0x6bf)](){const _0x366df0=_0x4bc902;this[_0x366df0(0x401)]['subscriptions'][_0x366df0(0x105)](this[_0x366df0(0x3b3)][_0x366df0(0x4b0)](this));}[_0x4bc902(0x3b3)](_0x5813d7,_0x5eb27f){const _0x1ce3c6=_0x4bc902;this[_0x1ce3c6(0x401)][_0x1ce3c6(0x3b3)](_0x5813d7,_0x5eb27f);}[_0x4bc902(0xa42)](_0x112a1f,{label:_0x402574,ownerId:_0x2a6e53,trackKinds:_0x5a3ce4,params:_0x294497}){const _0x28cb0b=_0x4bc902;if(_0x2a6e53!==this[_0x28cb0b(0x15c)][_0x28cb0b(0x8cc)][_0x28cb0b(0x68a)]()){const _0x3e514e=this[_0x28cb0b(0x15c)][_0x28cb0b(0x961)]['getRemoteMediaStream'](_0x2a6e53,_0x402574);return _0x3e514e&&_0x3e514e[_0x28cb0b(0x304)]()!==_0x112a1f?{'hasTracks':_0x3e514e[_0x28cb0b(0x519)](_0x5a3ce4),'hasResolution':this['canProvideResolution'](_0x3e514e['getResolution'](),_0x294497),'streamId':_0x3e514e[_0x28cb0b(0x462)](),'distance':this['configs'][_0x28cb0b(0x961)]['getDistance'](_0x112a1f,_0x2a6e53),'subscriptionLabel':_0xb07430(_0x17e05e[_0x28cb0b(0x93c)],{'contentType':_0x3e2379['ContentType']['Media'],'label':_0x3e514e[_0x28cb0b(0x462)](),'remoteId':_0x112a1f})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x4f771c=this[_0x28cb0b(0x15c)][_0x28cb0b(0x961)]['getLocalMediaStream'](_0x402574);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x4f771c[_0x28cb0b(0x462)](),'distance':0x0,'subscriptionLabel':_0xb07430(_0x17e05e[_0x28cb0b(0x93c)],{'contentType':_0x3e2379[_0x28cb0b(0x41f)][_0x28cb0b(0x117)],'label':_0x4f771c[_0x28cb0b(0x462)](),'remoteId':_0x112a1f})};}[_0x4bc902(0x726)](){const _0x4605bb=_0x4bc902;return Array[_0x4605bb(0x100)](this[_0x4605bb(0x401)][_0x4605bb(0x4c5)][_0x4605bb(0x87f)]())[_0x4605bb(0x6f4)](([_0x4af319,{source:_0x103b4c}])=>_0x4af319[_0x4605bb(0x648)](_0x17e05e['Outgoing'])&&_0x103b4c[_0x4605bb(0x892)]()===_0x3e2379[_0x4605bb(0x41f)]['Media'])['length'];}[_0x4bc902(0xa1e)](_0x480d54,_0x349b8e){const _0x33e803=_0x4bc902;if(!_0x349b8e||!_0x349b8e[_0x33e803(0x47f)]||'boolean'==typeof _0x349b8e[_0x33e803(0x47f)]||!_0x349b8e[_0x33e803(0x47f)][_0x33e803(0x5ec)])return!0x0;const {width:_0xcdd850,height:_0x5a7da4}=_0x349b8e['video'][_0x33e803(0x5ec)];return _0x480d54[_0x33e803(0x547)]>=_0xcdd850&&_0x480d54['height']>=_0x5a7da4;}}class _0x474b46{[_0x4bc902(0x15c)];['maxOutgoingSubscriptions'];['maxDistance'];[_0x4bc902(0x67d)];[_0x4bc902(0x776)];[_0x4bc902(0x3e0)];constructor(_0x406dcc,_0x5440c2,_0x54c2ad){const _0x47e547=_0x4bc902;this[_0x47e547(0x15c)]=_0x406dcc,this[_0x47e547(0x3f5)]=_0x5440c2,this[_0x47e547(0x4e8)]=_0x54c2ad,this[_0x47e547(0x15c)][_0x47e547(0x961)][_0x47e547(0x61d)](this),this['incomingManager']=new _0x57ac69(this[_0x47e547(0x15c)],this[_0x47e547(0x4e8)]),this[_0x47e547(0x3e0)]=new _0x240cb8(this[_0x47e547(0x15c)],this[_0x47e547(0x3f5)]);}[_0x4bc902(0x75b)](_0x5d1225){const _0xd365af=_0x4bc902;this[_0xd365af(0x67d)]=_0x5d1225;}[_0x4bc902(0x2ef)](){const _0x3fc1f6=_0x4bc902;delete this[_0x3fc1f6(0x67d)];}[_0x4bc902(0x6bf)](){const _0x5f6cf0=_0x4bc902;this[_0x5f6cf0(0x776)][_0x5f6cf0(0x6bf)](),this[_0x5f6cf0(0x3e0)][_0x5f6cf0(0x6bf)](),this[_0x5f6cf0(0x15c)]['mediator']['unregisterSystemSource'](this);}['createIncomingSubscription'](_0x41c8d3,_0x4b5f23){const _0x499cdc=_0x4bc902;this['incomingManager'][_0x499cdc(0x7fd)](_0x41c8d3,_0x4b5f23);}['createOutgoingSubscription'](_0x570e8c,_0x2bbabd){const _0x4ffebe=_0x4bc902;this[_0x4ffebe(0x3e0)][_0x4ffebe(0x7fd)](_0x570e8c,_0x2bbabd);}[_0x4bc902(0x91d)](_0x4617a7,_0x460c1a,_0x3b67b5=''){const _0x2e96ab=_0x4bc902;this[_0x2e96ab(0x776)]['removeSubscription'](_0x4617a7,_0x460c1a,_0x3b67b5);}['removeOutgoingSubscription'](_0xcde0f9,_0x721e90,_0x45400e=''){const _0x34db98=_0x4bc902;try{this[_0x34db98(0x3e0)]['removeSubscription'](_0xcde0f9,_0x721e90,_0x45400e);}catch(_0x27ced1){if(_0x27ced1 instanceof _0x3d0311&&_0x27ced1['code']===_0x3d0311['codes'][_0x34db98(0x60f)])return;}}[_0x4bc902(0x9c4)](_0x2c30ab){const _0x4228b3=_0x4bc902;switch(_0x2c30ab[_0x4228b3(0xa0d)][_0x4228b3(0x1aa)]){case _0x27d67a[_0x4228b3(0x88e)]:this['handleSubscriptionSubscribeMediaStream'](_0x2c30ab[_0x4228b3(0x86d)],_0x2c30ab[_0x4228b3(0xa0d)]);break;case _0x27d67a['UnsubscribeMediaStream']:this['outgoingManager'][_0x4228b3(0x180)](_0x2c30ab[_0x4228b3(0x86d)],_0x2c30ab[_0x4228b3(0xa0d)]);break;case _0x27d67a[_0x4228b3(0x605)]:this[_0x4228b3(0x110)](_0x2c30ab['sourceId'],_0x2c30ab[_0x4228b3(0xa0d)]);break;case _0x27d67a['RestartNeedMediaStream']:this[_0x4228b3(0x776)][_0x4228b3(0x656)](_0x2c30ab[_0x4228b3(0x86d)],_0x2c30ab[_0x4228b3(0xa0d)]);break;case _0x27d67a[_0x4228b3(0x52d)]:case _0x27d67a['CannotProvideMediaStream']:this['incomingManager'][_0x4228b3(0x6d3)](_0x2c30ab[_0x4228b3(0x86d)],_0x2c30ab['content']);break;case _0x27d67a[_0x4228b3(0x969)]:this[_0x4228b3(0x776)][_0x4228b3(0x80c)](_0x2c30ab[_0x4228b3(0x86d)],_0x2c30ab[_0x4228b3(0xa0d)]);}}[_0x4bc902(0x24d)](_0x143d71){const _0x13e278=_0x4bc902;switch(_0x143d71[_0x13e278(0xa0d)][_0x13e278(0x1aa)]){case _0x5b4969[_0x13e278(0x8eb)]:this[_0x13e278(0x776)]['handleContentUnpublishMediaStream'](_0x143d71['content']),this['outgoingManager'][_0x13e278(0x1da)](_0x143d71[_0x13e278(0xa0d)]);break;case _0x5b4969[_0x13e278(0x88e)]:this[_0x13e278(0x776)][_0x13e278(0x6ae)](_0x143d71[_0x13e278(0xa0d)]);break;case _0x5b4969[_0x13e278(0x562)]:this[_0x13e278(0x776)][_0x13e278(0x86a)](_0x143d71[_0x13e278(0xa0d)]);break;case _0x5b4969[_0x13e278(0xa15)]:this[_0x13e278(0x62b)](_0x143d71[_0x13e278(0x86d)],_0x143d71['content']);break;case _0x5b4969['CloseMediaStream']:this[_0x13e278(0x3e0)][_0x13e278(0x543)](_0x143d71[_0x13e278(0xa0d)]);break;case _0x5b4969[_0x13e278(0x9dd)]:this[_0x13e278(0x849)](_0x143d71[_0x13e278(0xa0d)][_0x13e278(0x458)],_0x3e2379['ContentType'][_0x13e278(0x93e)]);break;case _0x5b4969['CloseObjectStoreBucket']:this['handleCloseContent'](_0x143d71[_0x13e278(0xa0d)][_0x13e278(0x458)],_0x3e2379[_0x13e278(0x41f)][_0x13e278(0x9f7)]);break;case _0x5b4969['CloseExternalStorageConnection']:this[_0x13e278(0x849)](_0x143d71['content']['label'],_0x3e2379[_0x13e278(0x41f)][_0x13e278(0x123)]);break;case _0x5b4969[_0x13e278(0x4db)]:this[_0x13e278(0x849)](_0x143d71[_0x13e278(0xa0d)][_0x13e278(0x458)],_0x3e2379['ContentType'][_0x13e278(0x622)]);break;case _0x5b4969['CloseVectorDatabase']:this[_0x13e278(0x849)](_0x143d71[_0x13e278(0xa0d)][_0x13e278(0x458)],_0x3e2379[_0x13e278(0x41f)][_0x13e278(0x2bc)]);break;case _0x5b4969[_0x13e278(0x452)]:this[_0x13e278(0x849)](_0x143d71['content'][_0x13e278(0x458)],_0x3e2379['ContentType'][_0x13e278(0x19b)]);break;case _0x5b4969[_0x13e278(0x697)]:case _0x5b4969[_0x13e278(0x781)]:this['handleCloseContent'](_0x143d71['content'][_0x13e278(0x458)],_0x3e2379['ContentType'][_0x13e278(0x198)]);break;case _0x5b4969[_0x13e278(0x73e)]:this[_0x13e278(0x776)][_0x13e278(0x6bb)](_0x143d71[_0x13e278(0xa0d)]);}}[_0x4bc902(0x289)]({content:_0x55615e}){const _0x692858=_0x4bc902;_0x55615e['type']===_0x57cc58[_0x692858(0x8b7)]&&this['removeSubscriptionsForNode'](_0x55615e);}[_0x4bc902(0x379)](_0x434e0f){const _0x59aa49=_0x4bc902;_0x434e0f[_0x59aa49(0xa0d)]['type']===_0x10d48f[_0x59aa49(0x13d)]&&this[_0x59aa49(0x776)][_0x59aa49(0xa18)](_0x434e0f[_0x59aa49(0x86d)]);}[_0x4bc902(0x62b)](_0x3068cd,_0x1851b2){const _0x431bf6=_0x4bc902;this[_0x431bf6(0x776)][_0x431bf6(0x62b)](_0x1851b2),this['outgoingManager'][_0x431bf6(0x62b)](_0x3068cd,_0x1851b2)['forEach'](_0x43bf97=>this[_0x431bf6(0x67d)][_0x431bf6(0x912)](_0x43bf97));}[_0x4bc902(0x688)](_0x578d06,_0x1f3556){const _0x41a6e1=_0x4bc902,_0x5e1451=this['outgoingManager'][_0x41a6e1(0x688)](_0x578d06,_0x1f3556);if(_0x5e1451&&(this[_0x41a6e1(0x67d)]['publish']({'sourceId':this[_0x41a6e1(0x15c)][_0x41a6e1(0x8cc)][_0x41a6e1(0x68a)](),'destinationIds':[_0x578d06],'messageType':_0x18db64['Subscription'],'content':_0x5e1451}),_0x5e1451[_0x41a6e1(0x1aa)]===_0x27d67a[_0x41a6e1(0xa07)]))throw new _0x257d72(_0x41a6e1(0x1d9));}['handleSubscriptionNeedMediaStream'](_0x2bdd63,_0x54236c){const _0xc1f242=_0x4bc902,_0x41b1be=this[_0xc1f242(0x3e0)][_0xc1f242(0x110)](_0x2bdd63,_0x54236c);this['systemTopic'][_0xc1f242(0x912)]({'sourceId':this[_0xc1f242(0x15c)][_0xc1f242(0x8cc)][_0xc1f242(0x68a)](),'destinationIds':[_0x2bdd63],'messageType':_0x18db64[_0xc1f242(0x603)],'content':_0x41b1be});}['handleCloseContent'](_0x5d48d0,_0x257466){const _0x551cd4=_0x4bc902;this[_0x551cd4(0x91d)](_0x5d48d0,_0x257466),this[_0x551cd4(0x98f)](_0x5d48d0,_0x257466);}['removeSubscriptionsForNode']({id:_0x12cb82}){const _0x326b44=_0x4bc902;this[_0x326b44(0x776)][_0x326b44(0x732)](_0x12cb82),this[_0x326b44(0x3e0)][_0x326b44(0x732)](_0x12cb82);}}class _0x8ee37d{[_0x4bc902(0x458)];[_0x4bc902(0x6a1)]=_0x545df6();constructor(){const _0x192bb4=_0x4bc902;this[_0x192bb4(0x458)]=0x0;}[_0x4bc902(0x5f1)](){const _0x3c6851=_0x4bc902;return this[_0x3c6851(0x458)];}[_0x4bc902(0x892)](){const _0x38941c=_0x4bc902;return _0x3e2379['ContentType'][_0x38941c(0x83c)];}[_0x4bc902(0x434)](_0x5e2e7b){const _0x28af7f=_0x4bc902;_0x5e2e7b[_0x28af7f(0x75b)](this);}[_0x4bc902(0x1b0)](_0x48cd2c){_0x48cd2c['unregisterSystemPublisher']();}[_0x4bc902(0x912)](_0x3e5eda){const _0x103031=_0x4bc902;_0x28bf01[_0x103031(0x5e2)](_0x4f63ff[_0x103031(0x587)],_0x103031(0x65a),_0x3e5eda[_0x103031(0x86d)],_0x3e5eda),this[_0x103031(0x6a1)]['publish']({'topicLabel':this[_0x103031(0x458)],'contentType':_0x3e2379[_0x103031(0x41f)]['Data'],'uuid':_0x3e5eda[_0x103031(0x7ea)]??(0x0,_0x31add3['v4'])(),'recipients':_0x3e5eda[_0x103031(0x2be)]??[],..._0x3e5eda});}[_0x4bc902(0x9e4)](_0x4c4d61){return this['listener']['subscribe'](_0x4c4d61);}}class _0x3ed889{[_0x4bc902(0x31c)];[_0x4bc902(0x775)]=[];['maxLayer'];[_0x4bc902(0x1c8)]=new Map();['nodeUpdate']=_0x545df6();constructor(_0x6b22ee){const _0x5df88e=_0x4bc902;this['options']=_0x6b22ee,this['maxLayer']=(this[_0x5df88e(0x31c)][_0x5df88e(0xa32)]-0x2*this['options'][_0x5df88e(0x1cc)])/0x2,this[_0x5df88e(0x775)]['push']({'start':0x1,'end':this[_0x5df88e(0x3cf)](0x1,0x1)-0x1});for(let _0x29000d=0x0;_0x29000d<this[_0x5df88e(0x18a)];++_0x29000d)this['ranges'][_0x5df88e(0x5b2)]({'start':this[_0x5df88e(0x3cf)](0x1,_0x29000d+0x1),'end':this[_0x5df88e(0x3cf)](0x1,_0x29000d+0x2)-0x1});}[_0x4bc902(0x3cf)](_0x4e1784,_0x49bb7f=0x1){const _0x28730f=_0x4bc902;let _0x3590ef=this[_0x28730f(0x31c)]['maxDistance']-this[_0x28730f(0x31c)][_0x28730f(0x1cc)],_0x1cdb5f=0x1;for(let _0x2cd56b=0x1;_0x2cd56b<_0x49bb7f;++_0x2cd56b)_0x3590ef*=this[_0x28730f(0x31c)]['maxDistance']-this['options'][_0x28730f(0x1cc)]-_0x2cd56b,_0x1cdb5f*=this['options'][_0x28730f(0x4e8)]-this[_0x28730f(0x31c)][_0x28730f(0x1cc)]-_0x2cd56b+0x1;return _0x3590ef*this[_0x28730f(0x31c)]['minConnections']+_0x4e1784-_0x1cdb5f;}[_0x4bc902(0x6c2)](_0x5b66f8){const _0x26ae1e=_0x4bc902;let _0x12e7af=0x0;for(;this['ranges'][_0x12e7af][_0x26ae1e(0x5b0)]<_0x5b66f8;)_0x12e7af+=0x1;return _0x12e7af;}['getMinConnections'](){const _0x4bdbd0=_0x4bc902;return this[_0x4bdbd0(0x31c)]['minConnections'];}[_0x4bc902(0x8ff)](){const _0x392a8e=_0x4bc902;return this[_0x392a8e(0x31c)][_0x392a8e(0xa32)];}[_0x4bc902(0x1e2)](){const _0x3245a9=_0x4bc902;return this['options'][_0x3245a9(0x4e8)];}[_0x4bc902(0x4d5)](){const _0xaf2645=_0x4bc902;return this[_0xaf2645(0x1c8)];}[_0x4bc902(0x497)](_0x5b61e9,_0x44a86b){const _0x405d17=_0x4bc902;this[_0x405d17(0x1c8)][_0x405d17(0x179)](_0x5b61e9,_0x44a86b),this[_0x405d17(0x3af)]['publish']();}[_0x4bc902(0x97d)](_0x553eb2){const _0x324791=_0x4bc902;this[_0x324791(0x1c8)][_0x324791(0x24c)](_0x553eb2),this[_0x324791(0x3af)][_0x324791(0x912)]();}['hasRemoteNode'](_0x1aa699){const _0x391e48=_0x4bc902;return this[_0x391e48(0x1c8)][_0x391e48(0x5f9)](_0x1aa699);}['getRemoteNode'](_0x5e3726){const _0x284dce=_0x4bc902;return this[_0x284dce(0x1c8)][_0x284dce(0x985)](_0x5e3726);}[_0x4bc902(0xa05)](_0x37aa39,_0x12586e){const _0x5af464=_0x4bc902,_0x45b4a2=this[_0x5af464(0x2ac)](_0x12586e)?.['getRank']()??0x0;return _0x37aa39['map'](_0x47e706=>this[_0x5af464(0x2ac)](_0x47e706))['filter'](_0x5c46d8=>void 0x0!==_0x5c46d8)[_0x5af464(0x728)]((_0x34a62f,_0x2b189e)=>Math[_0x5af464(0x302)](_0x45b4a2-(_0x34a62f&&_0x34a62f[_0x5af464(0x328)]()||0x1/0x0))-Math[_0x5af464(0x302)](_0x45b4a2-(_0x2b189e&&_0x2b189e[_0x5af464(0x328)]()||0x1/0x0)))[_0x5af464(0x8a3)](_0x2bf5d8=>_0x2bf5d8[_0x5af464(0x68a)]());}[_0x4bc902(0x591)](_0x9ee88){return this['nodeUpdate']['subscribe'](_0x9ee88);}}class _0x5ec8fd{[_0x4bc902(0x203)];[_0x4bc902(0x6a2)];[_0x4bc902(0x8e3)];[_0x4bc902(0x1bd)];['options'];['configs'];[_0x4bc902(0x3ab)];[_0x4bc902(0x293)];[_0x4bc902(0x710)];['subscriptionManager'];[_0x4bc902(0x74c)];[_0x4bc902(0x2bb)];['remediationManager'];[_0x4bc902(0x55f)];['graphService'];[_0x4bc902(0x67d)]=new _0x8ee37d();[_0x4bc902(0x256)];[_0x4bc902(0x8cc)];constructor(_0x5f47dc,_0x4d3b81,_0x55bb31,_0x19e1ad,_0x5d8c48,_0x28c4c4,_0x27e86a){const _0x229bee=_0x4bc902;switch(this[_0x229bee(0x203)]=_0x5f47dc,this['clusterId']=_0x4d3b81,this[_0x229bee(0x8e3)]=_0x55bb31,this['authService']=_0x19e1ad,this[_0x229bee(0x31c)]=_0x5d8c48,this[_0x229bee(0x15c)]=_0x28c4c4,this[_0x229bee(0x3ab)]=_0x27e86a,_0x55bb31[_0x229bee(0x1aa)]){case _0x3e2379['NodeType']['User']:this[_0x229bee(0x8cc)]=new _0x4aaafe(_0x55bb31[_0x229bee(0x68a)](),_0x55bb31[_0x229bee(0x1e4)](),_0x55bb31[_0x229bee(0x2a5)]());break;case _0x3e2379[_0x229bee(0x676)][_0x229bee(0x251)]:default:this[_0x229bee(0x8cc)]=new _0x5350a8(_0x55bb31[_0x229bee(0x68a)]());}const _0x4f44ec=this['getConfigs']();this[_0x229bee(0x9ed)]=new _0x3ed889(this[_0x229bee(0x31c)]),this[_0x229bee(0x293)]=new _0x5b4fb5(_0x4f44ec,this['options'],this[_0x229bee(0x15c)][_0x229bee(0x428)]),this[_0x229bee(0x710)]=new _0x3b7ae0(_0x4f44ec,this[_0x229bee(0x1bd)],this[_0x229bee(0x9ed)],this[_0x229bee(0x15c)][_0x229bee(0x563)],this[_0x229bee(0x31c)]),this[_0x229bee(0x5d4)]=new _0x474b46(_0x4f44ec,this[_0x229bee(0x31c)]['maxOutgoingSubscriptions'],this[_0x229bee(0x9ed)][_0x229bee(0x1e2)]()),this[_0x229bee(0x74c)]=new _0x5c948d(_0x4f44ec),this[_0x229bee(0x2bb)]=new _0x439d4a(_0x4f44ec),this[_0x229bee(0x608)]=new _0x2baef6(_0x4f44ec),this['nodeManager']=new _0x3e1097(_0x4f44ec,this['graphService']),this[_0x229bee(0x256)]=this['initializeSystemTopic']();}[_0x4bc902(0x171)](){const _0x99eb50=_0x4bc902,_0x2caacc=this[_0x99eb50(0x1dd)]();this[_0x99eb50(0x710)]=new _0x3b7ae0(_0x2caacc,this[_0x99eb50(0x1bd)],this['graphService'],this[_0x99eb50(0x15c)][_0x99eb50(0x563)],this[_0x99eb50(0x31c)]),this['subscriptionManager']=new _0x474b46(_0x2caacc,this[_0x99eb50(0x31c)][_0x99eb50(0x3f5)],this[_0x99eb50(0x9ed)][_0x99eb50(0x1e2)]()),this[_0x99eb50(0x74c)]=new _0x5c948d(_0x2caacc),this[_0x99eb50(0x2bb)]=new _0x439d4a(_0x2caacc),this['remediationManager']=new _0x2baef6(_0x2caacc),this[_0x99eb50(0x55f)]=new _0x3e1097(_0x2caacc,this[_0x99eb50(0x9ed)]);const _0x9d88e8=this[_0x99eb50(0x710)][_0x99eb50(0x7cb)]();this[_0x99eb50(0x293)][_0x99eb50(0x9d6)]()[_0x99eb50(0x105)](_0x15b787=>{const _0x5bde30=_0x99eb50;this['subscriptionManager'][_0x5bde30(0x1a2)](_0x15b787,_0x9d88e8),this[_0x5bde30(0x5d4)][_0x5bde30(0x531)](_0x9d88e8,_0x15b787),_0x15b787[_0x5bde30(0x27e)]();}),this[_0x99eb50(0x293)][_0x99eb50(0x557)]()[_0x99eb50(0x105)](_0x3480db=>{const _0x41d8df=_0x99eb50;this[_0x41d8df(0x5d4)][_0x41d8df(0x1a2)](_0x3480db,_0x9d88e8),this[_0x41d8df(0x5d4)][_0x41d8df(0x531)](_0x9d88e8,_0x3480db),_0x3480db[_0x41d8df(0x27e)](),_0x3480db['sync']();}),this['contentManager'][_0x99eb50(0x5c9)]()[_0x99eb50(0x105)](_0x20849f=>{const _0x83016d=_0x99eb50;this[_0x83016d(0x5d4)][_0x83016d(0x1a2)](_0x20849f,_0x9d88e8),this[_0x83016d(0x5d4)][_0x83016d(0x531)](_0x9d88e8,_0x20849f),_0x20849f[_0x83016d(0x27e)](),this[_0x83016d(0x9eb)](_0x20849f);}),this['contentManager'][_0x99eb50(0x4d1)]()[_0x99eb50(0x105)](_0x125d7e=>{const _0x5ce974=_0x99eb50;this['subscriptionManager'][_0x5ce974(0x1a2)](_0x125d7e,_0x9d88e8),this[_0x5ce974(0x5d4)][_0x5ce974(0x531)](_0x9d88e8,_0x125d7e),_0x125d7e[_0x5ce974(0x27e)]();}),this[_0x99eb50(0x293)]['getJobWorkers']()[_0x99eb50(0x105)](_0x5ebbf4=>{const _0xafcc5=_0x99eb50;this[_0xafcc5(0x5d4)][_0xafcc5(0x1a2)](_0x5ebbf4,_0x9d88e8),this[_0xafcc5(0x5d4)][_0xafcc5(0x531)](_0x9d88e8,_0x5ebbf4),_0x5ebbf4[_0xafcc5(0x27e)]();}),this[_0x99eb50(0x293)]['getVectorDatabases']()[_0x99eb50(0x105)](_0x523a14=>{const _0x208eda=_0x99eb50;this[_0x208eda(0x5d4)][_0x208eda(0x1a2)](_0x523a14,_0x9d88e8),this[_0x208eda(0x5d4)]['createIncomingSubscription'](_0x9d88e8,_0x523a14),_0x523a14['reset']();}),this[_0x99eb50(0x293)][_0x99eb50(0x92e)]()['forEach'](_0x44e2ed=>{const _0x4ff959=_0x99eb50;this[_0x4ff959(0x5d4)][_0x4ff959(0x1a2)](_0x44e2ed,_0x9d88e8),this[_0x4ff959(0x5d4)]['createIncomingSubscription'](_0x9d88e8,_0x44e2ed),_0x44e2ed[_0x4ff959(0x27e)]();}),this[_0x99eb50(0x256)]=this[_0x99eb50(0x94c)]();}[_0x4bc902(0x61d)](_0x4df9e4){const _0x22b885=_0x4bc902;try{this[_0x22b885(0x67d)]['registerSource'](_0x4df9e4);}catch(_0x50b975){this[_0x22b885(0x819)](_0x50b975,{});}}['unregisterSystemSource'](_0x2c7dac){const _0x2ae179=_0x4bc902;try{this[_0x2ae179(0x67d)][_0x2ae179(0x1b0)](_0x2c7dac);}catch(_0x357ff4){this[_0x2ae179(0x819)](_0x357ff4,{});}}[_0x4bc902(0x7c7)](_0x4c4c84,_0x4b9d54){const _0x2774b7=_0x4bc902;return this[_0x2774b7(0x710)][_0x2774b7(0x7c7)](_0x4c4c84,_0x4b9d54);}[_0x4bc902(0x361)](_0x42b5ba){const _0x85ccf7=_0x4bc902;try{return this[_0x85ccf7(0x710)][_0x85ccf7(0x361)](_0x42b5ba);}catch(_0x4486c6){throw this[_0x85ccf7(0x819)](_0x4486c6,{});}}[_0x4bc902(0x799)](_0xc27169){const _0x2ca14e=_0x4bc902;try{return this[_0x2ca14e(0x710)][_0x2ca14e(0x799)](_0xc27169);}catch(_0x4b8be1){throw this[_0x2ca14e(0x819)](_0x4b8be1,{});}}[_0x4bc902(0x442)](_0x3bec96,_0x4401ee){const _0x4e9ed1=_0x4bc902;try{return this['contentManager'][_0x4e9ed1(0x4b7)](_0x24a904=>_0x24a904[_0x4e9ed1(0x827)]()===_0x3bec96&&_0x24a904[_0x4e9ed1(0x5f1)]()===_0x4401ee)[0x0];}catch(_0x3dc34d){throw this['handleError'](_0x3dc34d,{});}}[_0x4bc902(0x65c)](_0x10cca8){const _0x3eae78=_0x4bc902;try{return this[_0x3eae78(0x293)][_0x3eae78(0xa03)](_0x18b477=>_0x18b477[_0x3eae78(0x5f1)]()===_0x10cca8)[0x0];}catch(_0x3b9256){throw this['handleError'](_0x3b9256,{});}}['notifyCluster']=(..._0x2f545a)=>{const _0x14cd81=_0x4bc902;try{return this[_0x14cd81(0x3ab)][_0x14cd81(0x419)](..._0x2f545a);}catch(_0x3ff0fd){throw this[_0x14cd81(0x819)](_0x3ff0fd,{});}};[_0x4bc902(0x32c)](_0x30be42){const _0x241411=_0x4bc902;try{this[_0x241411(0x74c)]['addRemoteNode'](_0x30be42);}catch(_0x234d67){throw this[_0x241411(0x819)](_0x234d67,{});}}[_0x4bc902(0x8db)](_0x94b0f4){const _0x401eab=_0x4bc902;try{this['statsManager'][_0x401eab(0x9a6)](_0x94b0f4);}catch(_0x560fe1){throw this[_0x401eab(0x819)](_0x560fe1,{});}}[_0x4bc902(0x854)](_0x348534){const _0x278422=_0x4bc902;return this[_0x278422(0x710)][_0x278422(0x854)](_0x348534);}async[_0x4bc902(0x643)](){const _0x1a3231=_0x4bc902;try{await this[_0x1a3231(0x710)][_0x1a3231(0x643)]();const _0xcd8afb=await this[_0x1a3231(0x55f)][_0x1a3231(0x3d7)]();for(const _0x4fd98f of _0xcd8afb)this[_0x1a3231(0x710)][_0x1a3231(0x7c7)](_0x4fd98f);}catch(_0xd5ef63){throw this[_0x1a3231(0x819)](_0xd5ef63,{});}}['updateUser'](_0x4928c1){const _0x28121a=_0x4bc902;this[_0x28121a(0x8cc)]['type']===_0x3e2379[_0x28121a(0x676)][_0x28121a(0x6e6)]&&(this[_0x28121a(0x8cc)]['setEmail'](_0x4928c1['getEmail']()),this[_0x28121a(0x8cc)]['setDisplayName'](_0x4928c1[_0x28121a(0x1e4)]()));}['close']({force:_0x4a7844=!0x1},_0x28690a=!0x1){const _0x133527=_0x4bc902;if(_0x28bf01[_0x133527(0x6b4)](_0x133527(0x150),{'clusterId':this[_0x133527(0x6a2)],'nodeId':this[_0x133527(0x8cc)][_0x133527(0x68a)](),'nodeType':this[_0x133527(0x8cc)]['type']}),!_0x4a7844&&this[_0x133527(0x710)][_0x133527(0x352)]())throw new _0x4b6430(_0x2bb2b4[_0x133527(0x698)],_0x133527(0x83e));_0x28bf01['processBatch'](),this['systemTopicUnsubscribe'](),this['remediationManager'][_0x133527(0x6bf)](),this[_0x133527(0x2bb)][_0x133527(0x6bf)](),this[_0x133527(0x74c)][_0x133527(0x6bf)](),this[_0x133527(0x5d4)]['close'](),this['connectionManager']['close'](),this[_0x133527(0x293)][_0x133527(0x6bf)](_0x28690a),this[_0x133527(0x55f)][_0x133527(0x6bf)]();}[_0x4bc902(0x57c)](_0x88b3ff){const _0x212bfd=_0x4bc902;try{const _0x4b9bbe=this[_0x212bfd(0x293)][_0x212bfd(0x7ba)](_0x88b3ff),_0x17392a=this[_0x212bfd(0x710)][_0x212bfd(0x7cb)]();return this[_0x212bfd(0x5d4)]['createOutgoingSubscription'](_0x4b9bbe,_0x17392a),this[_0x212bfd(0x5d4)][_0x212bfd(0x531)](_0x17392a,_0x4b9bbe),_0x4b9bbe;}catch(_0x48fdfa){throw this['handleError'](_0x48fdfa,{});}}async[_0x4bc902(0x484)](_0x1ef5c1,_0x3a33ed){const _0x27a08e=_0x4bc902;try{const _0xdb8c30=this[_0x27a08e(0x293)][_0x27a08e(0x62d)](_0x1ef5c1,this['options'][_0x27a08e(0xa02)]),_0x17caaa=this[_0x27a08e(0x710)][_0x27a08e(0x7cb)]();return this[_0x27a08e(0x5d4)][_0x27a08e(0x1a2)](_0xdb8c30,_0x17caaa),this['subscriptionManager']['createIncomingSubscription'](_0x17caaa,_0xdb8c30),await _0xdb8c30[_0x27a08e(0x3c0)](_0x3a33ed?.['syncContent']??!0x0),_0xdb8c30;}catch(_0xb274b8){throw this['handleError'](_0xb274b8,{});}}async['openExternalStorageConnection'](_0x21e50d,_0x154d70){const _0x58accd=_0x4bc902;try{if(!this[_0x58accd(0x31c)]['externalStorageConnectors'])throw new _0x4b6430(_0x2bb2b4[_0x58accd(0x1c2)],_0x58accd(0x542));if(!(this[_0x58accd(0x8e3)]instanceof _0x3145bc))throw new _0x4b6430(_0x2bb2b4[_0x58accd(0x896)],_0x58accd(0x8f2));const _0x34395f=this[_0x58accd(0x31c)][_0x58accd(0x716)][_0x58accd(0x985)](_0x154d70);if(!_0x34395f)throw new _0x4b6430(_0x2bb2b4[_0x58accd(0x1c2)],_0x58accd(0x542));const _0x210253=this[_0x58accd(0x293)][_0x58accd(0x898)](_0x21e50d,_0x34395f),_0x92d4ec=this[_0x58accd(0x710)][_0x58accd(0x7cb)]();return this[_0x58accd(0x5d4)][_0x58accd(0x1a2)](_0x210253,_0x92d4ec),this[_0x58accd(0x5d4)][_0x58accd(0x531)](_0x92d4ec,_0x210253),await _0x210253[_0x58accd(0x171)](),_0x210253;}catch(_0x1e3fc0){throw this[_0x58accd(0x819)](_0x1e3fc0,{});}}async[_0x4bc902(0x48c)](_0x337532,_0x1f6982,_0x39a853){const _0x1e585e=_0x4bc902;try{_0x39a853=_0x39a853||this[_0x1e585e(0x31c)]['keyValueDatabaseConnector'];const _0x237cf4=await this[_0x1e585e(0x293)][_0x1e585e(0x43d)](_0x337532,_0x1f6982,_0x39a853),_0x1c221f=this[_0x1e585e(0x710)]['getConnectionGroup']();return this[_0x1e585e(0x5d4)][_0x1e585e(0x1a2)](_0x237cf4,_0x1c221f),this[_0x1e585e(0x5d4)][_0x1e585e(0x531)](_0x1c221f,_0x237cf4),await _0x237cf4['open'](),this[_0x1e585e(0x9eb)](_0x237cf4),_0x237cf4;}catch(_0x33458b){throw this['handleError'](_0x33458b,{});}}async[_0x4bc902(0x52f)](_0x594bad){const _0x28c98c=_0x4bc902;try{const _0x1428a7=await this[_0x28c98c(0x293)]['createJobDispatcher'](_0x594bad,this['graphService']),_0x1ce64e=this[_0x28c98c(0x710)][_0x28c98c(0x7cb)]();return this[_0x28c98c(0x5d4)][_0x28c98c(0x1a2)](_0x1428a7,_0x1ce64e),this[_0x28c98c(0x5d4)][_0x28c98c(0x531)](_0x1ce64e,_0x1428a7),_0x1428a7['open'](),_0x1428a7;}catch(_0x418824){throw this[_0x28c98c(0x819)](_0x418824,{});}}async[_0x4bc902(0x3ac)](_0x56e85b){const _0x58ce65=_0x4bc902;throw new Error(_0x58ce65(0x9fe));}async[_0x4bc902(0x11f)](_0x3d1b79){const _0x3982aa=_0x4bc902;try{const _0x18e92f=await this[_0x3982aa(0x293)][_0x3982aa(0x7e3)](_0x3d1b79,this[_0x3982aa(0x9ed)]),_0x1715eb=this[_0x3982aa(0x710)][_0x3982aa(0x7cb)]();return this[_0x3982aa(0x5d4)][_0x3982aa(0x1a2)](_0x18e92f,_0x1715eb),this[_0x3982aa(0x5d4)][_0x3982aa(0x531)](_0x1715eb,_0x18e92f),_0x18e92f[_0x3982aa(0x171)](),_0x18e92f;}catch(_0x194ac4){throw console[_0x3982aa(0x1ca)](_0x194ac4),this[_0x3982aa(0x819)](_0x194ac4,{});}}async[_0x4bc902(0x264)](_0x5c8ba7){const _0x8207fe=_0x4bc902;try{if(!this[_0x8207fe(0x31c)][_0x8207fe(0x45c)]||!this['options'][_0x8207fe(0x121)]||!this[_0x8207fe(0x31c)][_0x8207fe(0x820)])throw new _0x4b6430(_0x2bb2b4[_0x8207fe(0x3a8)],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x8207fe(0x8e3)]instanceof _0x3145bc))throw new _0x4b6430(_0x2bb2b4[_0x8207fe(0x896)],_0x8207fe(0x8f2));const _0xb4f5f=[];for(const _0x406107 of this['options'][_0x8207fe(0x45c)])_0xb4f5f[_0x8207fe(0x5b2)](new _0x406107());const _0x44cf61=new this[(_0x8207fe(0x31c))]['documentParserConnector'](),_0x3b0335=new this[(_0x8207fe(0x31c))][(_0x8207fe(0x820))]();let _0x3be7cf;this[_0x8207fe(0x31c)][_0x8207fe(0x5a1)]&&(_0x3be7cf=new this[(_0x8207fe(0x31c))][(_0x8207fe(0x5a1))]());const _0xf063fe=await this[_0x8207fe(0x293)]['createGenerativeAIWorker'](_0x5c8ba7,this[_0x8207fe(0x8e3)],_0xb4f5f,_0x44cf61,_0x3b0335,_0x3be7cf),_0x3d7467=this[_0x8207fe(0x710)][_0x8207fe(0x7cb)]();this[_0x8207fe(0x5d4)][_0x8207fe(0x1a2)](_0xf063fe,_0x3d7467),this[_0x8207fe(0x5d4)][_0x8207fe(0x531)](_0x3d7467,_0xf063fe);const _0x44c2fd=this[_0x8207fe(0x55f)][_0x8207fe(0x367)]();return await _0xf063fe[_0x8207fe(0x171)](0x0===_0x44c2fd[_0x8207fe(0x1d8)]||void 0x0),_0xf063fe;}catch(_0x1004a2){throw this[_0x8207fe(0x819)](_0x1004a2,{});}}[_0x4bc902(0x3b2)](_0xe00eb4){const _0x2b245a=_0x4bc902;try{if(!this['options'][_0x2b245a(0x32d)])throw new _0x4b6430(_0x2bb2b4[_0x2b245a(0x32a)],_0x2b245a(0x374));if(!(this[_0x2b245a(0x8e3)]instanceof _0x3145bc))throw new _0x4b6430(_0x2bb2b4[_0x2b245a(0x896)],'Node\x20is\x20not\x20an\x20agent');const _0x542910=this[_0x2b245a(0x293)][_0x2b245a(0x445)](_0xe00eb4,this['options']['graphDatabaseConnector']),_0x3b7e97=this[_0x2b245a(0x710)][_0x2b245a(0x7cb)]();return this['subscriptionManager'][_0x2b245a(0x1a2)](_0x542910,_0x3b7e97),this[_0x2b245a(0x5d4)][_0x2b245a(0x531)](_0x3b7e97,_0x542910),_0x542910;}catch(_0x54ffd8){throw this['handleError'](_0x54ffd8,{});}}['openVectorDatabase'](_0xe2f277){const _0x232f58=_0x4bc902;try{if(!this['options'][_0x232f58(0x36e)])throw new _0x4b6430(_0x2bb2b4[_0x232f58(0x19c)],_0x232f58(0x3ff));if(!(this[_0x232f58(0x8e3)]instanceof _0x3145bc))throw new _0x4b6430(_0x2bb2b4[_0x232f58(0x896)],_0x232f58(0x8f2));const _0x3ff7f8=this['contentManager'][_0x232f58(0x2c1)](_0xe2f277,this[_0x232f58(0x31c)]['vectorDatabaseConnector']),_0x155777=this[_0x232f58(0x710)][_0x232f58(0x7cb)]();return this[_0x232f58(0x5d4)][_0x232f58(0x1a2)](_0x3ff7f8,_0x155777),this['subscriptionManager'][_0x232f58(0x531)](_0x155777,_0x3ff7f8),_0x3ff7f8;}catch(_0x314bb7){throw this['handleError'](_0x314bb7,{});}}[_0x4bc902(0x9d6)](_0x4c5629){const _0x577d92=_0x4bc902;try{return this['contentManager'][_0x577d92(0x9d6)](_0x4c5629);}catch(_0x3794e5){throw this[_0x577d92(0x819)](_0x3794e5,{});}}[_0x4bc902(0x557)](_0x593503){const _0x2df4c9=_0x4bc902;try{return this['contentManager']['getObjectStoreBuckets'](_0x593503);}catch(_0x37ef44){throw this[_0x2df4c9(0x819)](_0x37ef44,{});}}[_0x4bc902(0x810)](_0x9be8a2){const _0x3dcba1=_0x4bc902;try{return this[_0x3dcba1(0x293)][_0x3dcba1(0x810)](_0x9be8a2);}catch(_0x7afa23){throw this[_0x3dcba1(0x819)](_0x7afa23,{});}}[_0x4bc902(0x5c9)](_0x4653b6){const _0x2f96a2=_0x4bc902;try{return this['contentManager'][_0x2f96a2(0x5c9)](_0x4653b6);}catch(_0x3fba81){throw this[_0x2f96a2(0x819)](_0x3fba81,{});}}[_0x4bc902(0x67c)](_0x570527){const _0x9ffaf8=_0x4bc902;try{return this[_0x9ffaf8(0x293)][_0x9ffaf8(0x67c)](_0x570527);}catch(_0x2ea8d5){throw this[_0x9ffaf8(0x819)](_0x2ea8d5,{});}}[_0x4bc902(0x740)](_0x4aed44){const _0x299ddb=_0x4bc902;try{return this['contentManager'][_0x299ddb(0x740)](_0x4aed44);}catch(_0x1d6076){throw this[_0x299ddb(0x819)](_0x1d6076,{});}}[_0x4bc902(0x92e)](_0x9e7ba3){const _0x420b03=_0x4bc902;try{return this[_0x420b03(0x293)][_0x420b03(0x92e)](_0x9e7ba3);}catch(_0x480497){throw this[_0x420b03(0x819)](_0x480497,{});}}[_0x4bc902(0x71d)](_0x55c4d5,_0x4ff0ca){const _0x53e947=_0x4bc902;if(!this[_0x53e947(0x15c)]['features'][_0x53e947(0x7f5)](_0x6c8910[_0x53e947(0x53a)]))throw new _0x4b6430(_0x2bb2b4[_0x53e947(0x70b)],_0x53e947(0x58c));try{return this[_0x53e947(0x293)][_0x53e947(0x71d)](_0x55c4d5,_0x4ff0ca);}catch(_0x1b9493){throw this[_0x53e947(0x819)](_0x1b9493,{});}}[_0x4bc902(0x8fd)](_0x52ba9f,_0x200163){const _0x39967c=_0x4bc902;if(!this[_0x39967c(0x15c)][_0x39967c(0x918)][_0x39967c(0x7f5)](_0x6c8910[_0x39967c(0x53a)]))throw new _0x4b6430(_0x2bb2b4[_0x39967c(0x70b)],_0x39967c(0x58c));try{return this[_0x39967c(0x293)]['createLocalDynamicMediaStream'](_0x52ba9f,_0x200163);}catch(_0x188836){throw this[_0x39967c(0x819)](_0x188836,{});}}[_0x4bc902(0xa03)](_0x4d833e){const _0x42b81a=_0x4bc902;if(!this['configs'][_0x42b81a(0x918)][_0x42b81a(0x7f5)](_0x6c8910['MediaStream']))throw new _0x4b6430(_0x2bb2b4[_0x42b81a(0x70b)],_0x42b81a(0x58c));try{return this[_0x42b81a(0x293)][_0x42b81a(0xa03)](_0x4d833e);}catch(_0x191927){throw this[_0x42b81a(0x819)](_0x191927,{});}}[_0x4bc902(0x4b7)](_0x50048d){const _0x51c0a7=_0x4bc902;if(!this['configs'][_0x51c0a7(0x918)][_0x51c0a7(0x7f5)](_0x6c8910['MediaStream']))throw new _0x4b6430(_0x2bb2b4[_0x51c0a7(0x70b)],_0x51c0a7(0x58c));try{return this[_0x51c0a7(0x293)][_0x51c0a7(0x4b7)](_0x50048d);}catch(_0x3ab22b){throw this[_0x51c0a7(0x819)](_0x3ab22b,{});}}[_0x4bc902(0x4b6)](_0x57def3){const _0x5c6e49=_0x4bc902;try{return this[_0x5c6e49(0x293)]['getVectorDatabases'](_0x57def3);}catch(_0x2a6b27){throw this[_0x5c6e49(0x819)](_0x2a6b27,{});}}[_0x4bc902(0x58d)](_0x3470c9,_0x5aadfd){const _0x4d00d8=_0x4bc902;return this['nodeManager'][_0x4d00d8(0x58d)](_0x3470c9,_0x5aadfd);}[_0x4bc902(0x2dc)](){const _0x394a3c=_0x4bc902;return this['nodeManager'][_0x394a3c(0x2dc)]();}[_0x4bc902(0x4d5)](_0x3cd284){const _0x463e8d=_0x4bc902;try{return this[_0x463e8d(0x55f)][_0x463e8d(0x4d5)](_0x3cd284);}catch(_0x517833){throw this[_0x463e8d(0x819)](_0x517833,{});}}[_0x4bc902(0x28d)](){const _0x474c97=_0x4bc902;return this[_0x474c97(0x710)][_0x474c97(0x28d)]();}[_0x4bc902(0x764)](_0x528fce){const _0x41d6a1=_0x4bc902;return this[_0x41d6a1(0x55f)][_0x41d6a1(0x764)](_0x528fce);}async[_0x4bc902(0x977)](_0x4da8b1){const _0x19f75f=_0x4bc902;try{if(_0x28bf01[_0x19f75f(0x5e2)](_0x4f63ff[_0x19f75f(0x587)],'Orchestrator\x20handleSystemEvents',this[_0x19f75f(0x55f)][_0x19f75f(0x5ab)](),_0x4da8b1),_0x427759(_0x4da8b1,this[_0x19f75f(0x55f)]['getLocalId']()))return void this[_0x19f75f(0x710)][_0x19f75f(0x4a4)](_0x4da8b1);switch(_0x4da8b1[_0x19f75f(0x113)]){case _0x18db64[_0x19f75f(0x889)]:this[_0x19f75f(0x74c)][_0x19f75f(0x24d)](_0x4da8b1),this[_0x19f75f(0x5d4)][_0x19f75f(0x24d)](_0x4da8b1),this['contentManager'][_0x19f75f(0x24d)](_0x4da8b1);break;case _0x18db64[_0x19f75f(0x4c0)]:this[_0x19f75f(0x5d4)][_0x19f75f(0x289)](_0x4da8b1),this[_0x19f75f(0x710)]['handleNodeSystemEvents'](_0x4da8b1),this[_0x19f75f(0x293)][_0x19f75f(0x289)](_0x4da8b1),this['nodeManager'][_0x19f75f(0x289)](_0x4da8b1);break;case _0x18db64[_0x19f75f(0x8ce)]:this[_0x19f75f(0x608)][_0x19f75f(0x244)](_0x4da8b1);break;case _0x18db64[_0x19f75f(0x5c8)]:this[_0x19f75f(0x608)][_0x19f75f(0x167)](_0x4da8b1);break;case _0x18db64[_0x19f75f(0x5c2)]:this[_0x19f75f(0x2bb)][_0x19f75f(0x1e3)](_0x4da8b1);break;case _0x18db64[_0x19f75f(0x603)]:_0x4da8b1[_0x19f75f(0xa0d)][_0x19f75f(0x1aa)]!==_0x27d67a[_0x19f75f(0xa15)]?(this[_0x19f75f(0x5d4)]['handleSubscriptionSystemEvents'](_0x4da8b1),this[_0x19f75f(0x293)]['handleSubscriptionSystemEvents'](_0x4da8b1)):(this[_0x19f75f(0x293)][_0x19f75f(0x9c4)](_0x4da8b1),this[_0x19f75f(0x5d4)][_0x19f75f(0x9c4)](_0x4da8b1));break;case _0x18db64[_0x19f75f(0x27f)]:await this[_0x19f75f(0x710)][_0x19f75f(0x379)](_0x4da8b1),this[_0x19f75f(0x74c)][_0x19f75f(0x379)](_0x4da8b1),this[_0x19f75f(0x55f)][_0x19f75f(0x379)](_0x4da8b1),this[_0x19f75f(0x5d4)][_0x19f75f(0x379)](_0x4da8b1);}}catch(_0x19031e){throw _0x28bf01['debug'](_0x19f75f(0x977),_0x19031e),this[_0x19f75f(0x819)](_0x19031e,{});}}['handleError'](_0x27d8ac,_0x2715e9){const _0x45deda=_0x4bc902;if(!(_0x27d8ac instanceof _0x257d72)){if(_0x27d8ac instanceof _0x4b6430)throw _0x27d8ac;if(!(_0x27d8ac instanceof Error))throw new _0x4b6430(_0x2bb2b4[_0x45deda(0x81a)],'Internal\x20unknown\x20error:\x20'+_0x27d8ac);if(!(_0x27d8ac instanceof _0x3d0311))throw new _0x4b6430(_0x2bb2b4['InternalSDKError'],_0x45deda(0xa0a)+_0x27d8ac[_0x45deda(0x793)]);switch(_0x27d8ac[_0x45deda(0x319)]){case _0x3d0311[_0x45deda(0x85e)][_0x45deda(0x20b)]:case _0x3d0311[_0x45deda(0x85e)][_0x45deda(0x47e)]:case _0x3d0311[_0x45deda(0x85e)]['PeerConnectionInvalidDestination']:case _0x3d0311[_0x45deda(0x85e)][_0x45deda(0x400)]:case _0x3d0311[_0x45deda(0x85e)][_0x45deda(0x4cc)]:case _0x3d0311[_0x45deda(0x85e)][_0x45deda(0x7de)]:case _0x3d0311[_0x45deda(0x85e)][_0x45deda(0x7a6)]:case _0x3d0311['codes'][_0x45deda(0x365)]:case _0x3d0311['codes'][_0x45deda(0x46c)]:case _0x3d0311['codes']['SubscriptionRequestFailed']:case _0x3d0311[_0x45deda(0x85e)][_0x45deda(0x51e)]:case _0x3d0311[_0x45deda(0x85e)][_0x45deda(0x60f)]:}throw _0x28bf01['error'](_0x45deda(0xa31)+_0x27d8ac['message'],{'clusterId':this['clusterId'],'nodeId':this[_0x45deda(0x8cc)][_0x45deda(0x68a)](),'nodeType':this['localNode'][_0x45deda(0x1aa)]},_0x27d8ac),new _0x4b6430(_0x2bb2b4[_0x45deda(0x81a)],_0x45deda(0x832)+_0x27d8ac[_0x45deda(0x793)]);}}['getConfigs'](){const _0x2c9f47=_0x4bc902;return{'mediator':this,'vendorId':this[_0x2c9f47(0x203)],'clusterId':this['clusterId'],'localNode':this[_0x2c9f47(0x8cc)]};}[_0x4bc902(0x94c)](){const _0x1bbaba=_0x4bc902;return this[_0x1bbaba(0x67d)][_0x1bbaba(0x9e4)](_0x451502=>{const _0x5a27a6=_0x1bbaba,_0x4ec4a3=_0x1d8b9c(_0x451502,this[_0x5a27a6(0x8cc)][_0x5a27a6(0x68a)]()),_0x2b0c84=_0x451502[_0x5a27a6(0x113)]===_0x18db64['Stats']||_0x451502[_0x5a27a6(0x113)]===_0x18db64[_0x5a27a6(0x27f)]&&_0x451502[_0x5a27a6(0xa0d)][_0x5a27a6(0x1aa)]===_0x10d48f[_0x5a27a6(0x5c2)]?_0x4f63ff['SystemStats']:_0x4f63ff[_0x5a27a6(0x21f)];_0x28bf01[_0x5a27a6(0x5d3)](_0x2b0c84,_0x451502[_0x5a27a6(0x7ea)]+'\x20-\x20'+_0x4ec4a3,_0x451502),this[_0x5a27a6(0x977)](_0x451502)['catch'](_0x298960=>{const _0x2f30bc=_0x5a27a6;console[_0x2f30bc(0x1ca)](_0x298960);});});}async['syncKeyValueDatabase'](_0x16353a){const _0x4a24ca=_0x4bc902,{timingLogger:_0x553402,logger:_0x1cb9e1,logBeforeSync:_0x12e596,logAfterSync:_0x3b9f69}=function(_0x1c087d,_0x4390f8){const _0x3aa3c5=a0_0x4227;if(!_0x28bf01[_0x3aa3c5(0x364)](_0x4390f8))return _0x28bf01[_0x3aa3c5(0x1b7)](_0x3aa3c5(0x130)+_0x4390f8),{..._0x5426f9(_0x1c087d,_0x4390f8),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x53b5ab,logger:_0x47b566}=_0x5426f9(_0x1c087d,_0x4390f8);let _0x10e1d2=0x0;return _0x10e1d2=Date[_0x3aa3c5(0xa09)](),{'syncStartTime':_0x10e1d2,'timingLogger':_0x53b5ab,'logger':_0x47b566,'logBeforeSync':()=>(_0xf7b321(_0x4390f8,_0x3aa3c5(0x96f)),_0x53b5ab[_0x3aa3c5(0xa09)]()),'logAfterSync':(_0x5d4496,_0x2f3c5b)=>{const _0x196f4b=_0x3aa3c5,_0x45c784=Date[_0x196f4b(0xa09)]();_0xf7b321(_0x4390f8,_0x196f4b(0x8a7)+_0x2f3c5b);const _0xa6dbca=(_0x45c784-_0x10e1d2)/0x3e8,_0x335611=(_0x45c784-_0x5d4496)/0x3e8;_0x28bf01['log'](_0x4390f8,_0x196f4b(0x9ca),_0x1c087d,_0x196f4b(0x4b2)+_0xa6dbca[_0x196f4b(0x5c6)](0x2)+_0x196f4b(0x334),_0x196f4b(0x949)+_0x335611[_0x196f4b(0x5c6)](0x3)+_0x196f4b(0x334),_0x196f4b(0x858)+((_0x45c784-_0x10e1d2)/0x3e8-_0x335611)[_0x196f4b(0x5c6)](0x2)+'\x20seconds');}};}(_0x16353a['getLabel'](),_0x4f63ff[_0x4a24ca(0x622)]);_0x1cb9e1['log']('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process');const _0xaf3a1c=this['nodeManager'][_0x4a24ca(0x367)]()[_0x4a24ca(0x1d8)]>0x0;if(_0xaf3a1c){_0x1cb9e1[_0x4a24ca(0x5e2)](_0x4a24ca(0x943),()=>this['nodeManager'][_0x4a24ca(0x367)]()),_0x553402['start'](),await Promise[_0x4a24ca(0x9a7)](this[_0x4a24ca(0x55f)][_0x4a24ca(0x367)]()[_0x4a24ca(0x8a3)](async _0x1bb8bd=>await this[_0x4a24ca(0x55f)][_0x4a24ca(0x764)](_0x1bb8bd)))[_0x4a24ca(0x576)](_0x1b029d=>_0x28bf01[_0x4a24ca(0x6b4)]('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.',{'nodeId':this['localNode'][_0x4a24ca(0x68a)](),'nodeType':this['localNode'][_0x4a24ca(0x1aa)]}));const _0x526d25=_0x1cb9e1['performCalculation'](()=>this[_0x4a24ca(0x55f)]['getAncestorIds'](),[]);_0x553402['logWaitTime']('SyncKeyValueDatabase\x20-\x20Ancestors\x20'+_0x526d25+_0x4a24ca(0x548));}_0x3b9f69(_0x12e596(),await _0x16353a['sync'](_0xaf3a1c,async()=>{const _0x1a2993=_0x4a24ca;_0x553402[_0x1a2993(0x670)](),await this[_0x1a2993(0x55f)][_0x1a2993(0x37e)](),_0x553402['logWaitTime'](_0x1a2993(0x342)),_0x16353a[_0x1a2993(0x3c0)](!0x0,()=>{const _0x2627db=_0x1a2993;_0x1cb9e1[_0x2627db(0x5e2)](_0x2627db(0x989)),_0x16353a[_0x2627db(0x3c0)](!0x1);},!0x0);}));}}class _0x9ab33d{[_0x4bc902(0x203)];[_0x4bc902(0x6a2)];[_0x4bc902(0x8e3)];[_0x4bc902(0x311)];[_0x4bc902(0x15a)];constructor(_0x5bb01d,_0x28a552,_0x149582,_0xa520f1,_0x42c978,_0x345e8c,_0x443e38=new _0x26b866()){const _0x568c47=_0x4bc902;this[_0x568c47(0x203)]=_0x5bb01d,this[_0x568c47(0x6a2)]=_0x28a552,this[_0x568c47(0x8e3)]=_0x149582,this[_0x568c47(0x311)]=_0x443e38,this[_0x568c47(0x15a)]=new _0x5ec8fd(this[_0x568c47(0x203)],this[_0x568c47(0x6a2)],_0x149582,_0xa520f1,_0x42c978,_0x345e8c,this);}async['join'](){const _0x58db2b=_0x4bc902;await this[_0x58db2b(0x15a)][_0x58db2b(0x643)](),this[_0x58db2b(0x8e3)]['type']===_0x3e2379[_0x58db2b(0x676)]['User']&&this[_0x58db2b(0x8e3)][_0x58db2b(0x7b6)](this[_0x58db2b(0x6a2)],_0x51b883=>{const _0x490eb5=_0x58db2b;this[_0x490eb5(0x15a)]['updateUser'](_0x51b883);});}[_0x4bc902(0x10f)](_0xe4c389={}){const _0x4b7edb=_0x4bc902;this['orchestrator'][_0x4b7edb(0x6bf)](_0xe4c389),this['authNode']['type']===_0x3e2379[_0x4b7edb(0x676)]['User']&&this['authNode'][_0x4b7edb(0x17c)](this['clusterId']),this[_0x4b7edb(0x419)]('cluster-leave',void 0x0);}[_0x4bc902(0x57c)](_0x48f0a8){const _0x28bb6a=_0x4bc902,_0x1cc81a=this[_0x28bb6a(0x15a)][_0x28bb6a(0x57c)](_0x48f0a8);return{'getName':_0x1cc81a['getName'][_0x28bb6a(0x4b0)](_0x1cc81a),'getOwnerId':_0x1cc81a['getOwnerId'][_0x28bb6a(0x4b0)](_0x1cc81a),'getContentType':_0x1cc81a[_0x28bb6a(0x892)][_0x28bb6a(0x4b0)](_0x1cc81a),'publish':_0x1cc81a[_0x28bb6a(0x912)]['bind'](_0x1cc81a),'subscribe':_0x1cc81a[_0x28bb6a(0x9e4)][_0x28bb6a(0x4b0)](_0x1cc81a),'unsubscribe':_0x1cc81a[_0x28bb6a(0x80f)][_0x28bb6a(0x4b0)](_0x1cc81a),'close':_0x1cc81a[_0x28bb6a(0x6bf)][_0x28bb6a(0x4b0)](_0x1cc81a)};}async['openObjectStoreBucket'](_0x23e34d,_0x72db36){const _0xe94d55=_0x4bc902,_0x5c4602=await this[_0xe94d55(0x15a)][_0xe94d55(0x484)](_0x23e34d,_0x72db36);return{'getName':_0x5c4602['getName'][_0xe94d55(0x4b0)](_0x5c4602),'getOwnerId':_0x5c4602[_0xe94d55(0x827)][_0xe94d55(0x4b0)](_0x5c4602),'getContentType':_0x5c4602[_0xe94d55(0x892)][_0xe94d55(0x4b0)](_0x5c4602),'publish':_0x5c4602['publish']['bind'](_0x5c4602),'unpublish':_0x5c4602[_0xe94d55(0x6cd)][_0xe94d55(0x4b0)](_0x5c4602),'get':_0x5c4602[_0xe94d55(0x985)][_0xe94d55(0x4b0)](_0x5c4602),'list':_0x5c4602[_0xe94d55(0x60e)][_0xe94d55(0x4b0)](_0x5c4602),'getSize':_0x5c4602['getSize'][_0xe94d55(0x4b0)](_0x5c4602),'subscribe':_0x5c4602['subscribe'][_0xe94d55(0x4b0)](_0x5c4602),'unsubscribe':_0x5c4602[_0xe94d55(0x80f)][_0xe94d55(0x4b0)](_0x5c4602),'close':_0x5c4602[_0xe94d55(0x6bf)][_0xe94d55(0x4b0)](_0x5c4602)};}async[_0x4bc902(0x76a)](_0x18cd4c,_0x638c73){const _0x57149c=_0x4bc902,_0xfebb0c=await this['orchestrator'][_0x57149c(0x76a)](_0x18cd4c,_0x638c73);return{'getName':_0xfebb0c[_0x57149c(0x9cb)][_0x57149c(0x4b0)](_0xfebb0c),'getOwnerId':_0xfebb0c[_0x57149c(0x827)]['bind'](_0xfebb0c),'getContentType':_0xfebb0c[_0x57149c(0x892)][_0x57149c(0x4b0)](_0xfebb0c),'close':_0xfebb0c[_0x57149c(0x6bf)][_0x57149c(0x4b0)](_0xfebb0c),'get':_0xfebb0c['get'][_0x57149c(0x4b0)](_0xfebb0c),'list':_0xfebb0c[_0x57149c(0x60e)][_0x57149c(0x4b0)](_0xfebb0c),'subscribe':_0xfebb0c[_0x57149c(0x9e4)]['bind'](_0xfebb0c),'unsubscribe':_0xfebb0c[_0x57149c(0x80f)]['bind'](_0xfebb0c)};}async[_0x4bc902(0x48c)](_0x14efcb,_0x35ec42,_0xd1cb8a){const _0x2be12f=_0x4bc902,_0xc78ad9=await this[_0x2be12f(0x15a)][_0x2be12f(0x48c)](_0x14efcb,_0x35ec42,_0xd1cb8a);return{'getName':_0xc78ad9[_0x2be12f(0x9cb)][_0x2be12f(0x4b0)](_0xc78ad9),'getOwnerId':_0xc78ad9[_0x2be12f(0x827)][_0x2be12f(0x4b0)](_0xc78ad9),'getContentType':_0xc78ad9['getContentType'][_0x2be12f(0x4b0)](_0xc78ad9),'getTable':_0xc78ad9['getTable'][_0x2be12f(0x4b0)](_0xc78ad9),'subscribe':_0xc78ad9['subscribe'][_0x2be12f(0x4b0)](_0xc78ad9),'unsubscribe':_0xc78ad9[_0x2be12f(0x80f)][_0x2be12f(0x4b0)](_0xc78ad9),'close':_0xc78ad9[_0x2be12f(0x6bf)][_0x2be12f(0x4b0)](_0xc78ad9)};}async['openJobDispatcher'](_0x4305d5){const _0x19fb53=_0x4bc902,_0x122da0=await this[_0x19fb53(0x15a)]['openJobDispatcher'](_0x4305d5);return{'getName':_0x122da0[_0x19fb53(0x9cb)]['bind'](_0x122da0),'getOwnerId':_0x122da0[_0x19fb53(0x827)]['bind'](_0x122da0),'getContentType':_0x122da0['getContentType']['bind'](_0x122da0),'createJob':_0x122da0[_0x19fb53(0x80d)][_0x19fb53(0x4b0)](_0x122da0),'getJob':_0x122da0[_0x19fb53(0x12f)]['bind'](_0x122da0),'getJobs':_0x122da0[_0x19fb53(0x5c5)][_0x19fb53(0x4b0)](_0x122da0),'close':_0x122da0[_0x19fb53(0x6bf)][_0x19fb53(0x4b0)](_0x122da0)};}async[_0x4bc902(0x3ac)](_0x29b6a1){const _0x5152c1=_0x4bc902,_0x20cba8=await this['orchestrator']['openJobWorker'](_0x29b6a1);return{'close':_0x20cba8[_0x5152c1(0x6bf)][_0x5152c1(0x4b0)](_0x20cba8)};}async[_0x4bc902(0x11f)](_0xb2481a){const _0x4f63cc=_0x4bc902,_0x5d4765=await this[_0x4f63cc(0x15a)][_0x4f63cc(0x11f)](_0xb2481a);return{'createAIJob':_0x5d4765[_0x4f63cc(0x9fb)][_0x4f63cc(0x4b0)](_0x5d4765),'ratePrompt':_0x5d4765[_0x4f63cc(0x108)][_0x4f63cc(0x4b0)](_0x5d4765),'downloadDocument':_0x5d4765[_0x4f63cc(0x277)][_0x4f63cc(0x4b0)](_0x5d4765),'getDataBucketIds':_0x5d4765[_0x4f63cc(0x183)][_0x4f63cc(0x4b0)](_0x5d4765),'close':_0x5d4765[_0x4f63cc(0x6bf)]['bind'](_0x5d4765)};}async[_0x4bc902(0x264)](_0x24f8c5){const _0x4e7bd5=_0x4bc902,_0x42a969=await this[_0x4e7bd5(0x15a)][_0x4e7bd5(0x264)](_0x24f8c5);return{'close':_0x42a969['close']['bind'](_0x42a969)};}[_0x4bc902(0x3b2)](_0x15d1f9){const _0x2fd789=_0x4bc902,_0x344ccb=this[_0x2fd789(0x15a)]['openGraphDatabase'](_0x15d1f9);return{'getName':_0x344ccb[_0x2fd789(0x9cb)][_0x2fd789(0x4b0)](_0x344ccb),'getOwnerId':_0x344ccb['getOwnerId']['bind'](_0x344ccb),'getContentType':_0x344ccb[_0x2fd789(0x892)][_0x2fd789(0x4b0)](_0x344ccb),'addNode':_0x344ccb[_0x2fd789(0x204)]['bind'](_0x344ccb),'addEdge':_0x344ccb['addEdge'][_0x2fd789(0x4b0)](_0x344ccb),'getContent':_0x344ccb[_0x2fd789(0x5c3)][_0x2fd789(0x4b0)](_0x344ccb),'remove':_0x344ccb[_0x2fd789(0x706)][_0x2fd789(0x4b0)](_0x344ccb),'saveToDisk':_0x344ccb[_0x2fd789(0x2b5)]['bind'](_0x344ccb),'loadFromDisk':_0x344ccb['loadFromDisk'][_0x2fd789(0x4b0)](_0x344ccb),'close':_0x344ccb[_0x2fd789(0x6bf)][_0x2fd789(0x4b0)](_0x344ccb)};}['openVectorDatabase'](_0x2dfd46){const _0x10f6bf=_0x4bc902,_0x286baa=this[_0x10f6bf(0x15a)][_0x10f6bf(0x3ad)](_0x2dfd46);return{'getName':_0x286baa[_0x10f6bf(0x9cb)][_0x10f6bf(0x4b0)](_0x286baa),'getOwnerId':_0x286baa[_0x10f6bf(0x827)]['bind'](_0x286baa),'getContentType':_0x286baa[_0x10f6bf(0x892)][_0x10f6bf(0x4b0)](_0x286baa),'search':_0x286baa[_0x10f6bf(0x75d)][_0x10f6bf(0x4b0)](_0x286baa),'insert':_0x286baa[_0x10f6bf(0x4d7)][_0x10f6bf(0x4b0)](_0x286baa),'remove':_0x286baa[_0x10f6bf(0x706)][_0x10f6bf(0x4b0)](_0x286baa),'saveToDisk':_0x286baa[_0x10f6bf(0x2b5)][_0x10f6bf(0x4b0)](_0x286baa),'loadFromDisk':_0x286baa['loadFromDisk']['bind'](_0x286baa),'close':_0x286baa['close'][_0x10f6bf(0x4b0)](_0x286baa)};}[_0x4bc902(0x9d6)](_0x3e5dd9){const _0x1eaee0=_0x4bc902;return this[_0x1eaee0(0x15a)][_0x1eaee0(0x9d6)](_0x3e5dd9)['map'](_0x16a9f3=>({'getName':_0x16a9f3[_0x1eaee0(0x9cb)][_0x1eaee0(0x4b0)](_0x16a9f3),'getOwnerId':_0x16a9f3[_0x1eaee0(0x827)][_0x1eaee0(0x4b0)](_0x16a9f3),'getContentType':_0x16a9f3[_0x1eaee0(0x892)][_0x1eaee0(0x4b0)](_0x16a9f3),'publish':_0x16a9f3['publish']['bind'](_0x16a9f3),'subscribe':_0x16a9f3[_0x1eaee0(0x9e4)][_0x1eaee0(0x4b0)](_0x16a9f3),'unsubscribe':_0x16a9f3[_0x1eaee0(0x80f)]['bind'](_0x16a9f3),'close':_0x16a9f3[_0x1eaee0(0x6bf)][_0x1eaee0(0x4b0)](_0x16a9f3)}));}[_0x4bc902(0x557)](_0x35d6fd){const _0x1cc384=_0x4bc902;return this['orchestrator'][_0x1cc384(0x557)](_0x35d6fd)['map'](_0x33c498=>({'getName':_0x33c498['getName'][_0x1cc384(0x4b0)](_0x33c498),'getOwnerId':_0x33c498[_0x1cc384(0x827)][_0x1cc384(0x4b0)](_0x33c498),'getContentType':_0x33c498[_0x1cc384(0x892)][_0x1cc384(0x4b0)](_0x33c498),'publish':_0x33c498[_0x1cc384(0x912)][_0x1cc384(0x4b0)](_0x33c498),'unpublish':_0x33c498['unpublish'][_0x1cc384(0x4b0)](_0x33c498),'get':_0x33c498[_0x1cc384(0x985)][_0x1cc384(0x4b0)](_0x33c498),'list':_0x33c498[_0x1cc384(0x60e)][_0x1cc384(0x4b0)](_0x33c498),'getSize':_0x33c498[_0x1cc384(0x592)]['bind'](_0x33c498),'subscribe':_0x33c498[_0x1cc384(0x9e4)][_0x1cc384(0x4b0)](_0x33c498),'unsubscribe':_0x33c498['unsubscribe']['bind'](_0x33c498),'close':_0x33c498[_0x1cc384(0x6bf)][_0x1cc384(0x4b0)](_0x33c498)}));}[_0x4bc902(0x810)](_0x454d5a){const _0x3e83e2=_0x4bc902;return this[_0x3e83e2(0x15a)][_0x3e83e2(0x810)](_0x454d5a)['map'](_0x1093c5=>({'getName':_0x1093c5[_0x3e83e2(0x9cb)][_0x3e83e2(0x4b0)](_0x1093c5),'getOwnerId':_0x1093c5[_0x3e83e2(0x827)]['bind'](_0x1093c5),'getContentType':_0x1093c5[_0x3e83e2(0x892)]['bind'](_0x1093c5),'close':_0x1093c5[_0x3e83e2(0x6bf)]['bind'](_0x1093c5),'get':_0x1093c5['get']['bind'](_0x1093c5),'list':_0x1093c5['list']['bind'](_0x1093c5),'subscribe':_0x1093c5['subscribe'][_0x3e83e2(0x4b0)](_0x1093c5),'unsubscribe':_0x1093c5[_0x3e83e2(0x80f)]['bind'](_0x1093c5)}));}['getKeyValueDatabases'](_0xedcf91){const _0x452192=_0x4bc902;return this[_0x452192(0x15a)]['getKeyValueDatabases'](_0xedcf91)['map'](_0x4905ec=>({'getName':_0x4905ec[_0x452192(0x9cb)][_0x452192(0x4b0)](_0x4905ec),'getOwnerId':_0x4905ec[_0x452192(0x827)]['bind'](_0x4905ec),'getContentType':_0x4905ec[_0x452192(0x892)][_0x452192(0x4b0)](_0x4905ec),'getTable':_0x4905ec[_0x452192(0x514)]['bind'](_0x4905ec),'subscribe':_0x4905ec[_0x452192(0x9e4)]['bind'](_0x4905ec),'unsubscribe':_0x4905ec['unsubscribe']['bind'](_0x4905ec),'close':_0x4905ec[_0x452192(0x6bf)][_0x452192(0x4b0)](_0x4905ec)}));}[_0x4bc902(0x67c)](_0x2cc9dd){const _0x537cc7=_0x4bc902;return this[_0x537cc7(0x15a)]['getGenerativeAIContexts'](_0x2cc9dd)[_0x537cc7(0x8a3)](_0x2e7f1f=>({'createAIJob':_0x2e7f1f['createAIJob']['bind'](_0x2e7f1f),'ratePrompt':_0x2e7f1f[_0x537cc7(0x108)][_0x537cc7(0x4b0)](_0x2e7f1f),'downloadDocument':_0x2e7f1f['downloadDocument'][_0x537cc7(0x4b0)](_0x2e7f1f),'getDataBucketIds':_0x2e7f1f[_0x537cc7(0x183)][_0x537cc7(0x4b0)](_0x2e7f1f),'close':_0x2e7f1f['close'][_0x537cc7(0x4b0)](_0x2e7f1f)}));}[_0x4bc902(0x740)](_0x3c6610){const _0x3eba4d=_0x4bc902;return this['orchestrator'][_0x3eba4d(0x740)](_0x3c6610)['map'](_0x583a38=>({'close':_0x583a38[_0x3eba4d(0x6bf)][_0x3eba4d(0x4b0)](_0x583a38)}));}['publishLocalMediaStream'](_0x3104e2,_0x3c8a62){const _0x386120=_0x4bc902,_0x5e9604=this['orchestrator']['createLocalMediaStream'](_0x3104e2,_0x3c8a62);return{'getLabel':_0x5e9604[_0x386120(0x5f1)][_0x386120(0x4b0)](_0x5e9604),'getOwnerId':_0x5e9604[_0x386120(0x827)][_0x386120(0x4b0)](_0x5e9604),'getContentType':_0x5e9604[_0x386120(0x892)][_0x386120(0x4b0)](_0x5e9604),'getMediaStream':_0x5e9604[_0x386120(0x6f8)][_0x386120(0x4b0)](_0x5e9604),'setPriority':_0x5e9604[_0x386120(0x1b3)][_0x386120(0x4b0)](_0x5e9604),'unpublish':_0x5e9604[_0x386120(0x6cd)][_0x386120(0x4b0)](_0x5e9604)};}[_0x4bc902(0x402)](_0x760072,_0x3059da){const _0x5291f1=_0x4bc902,_0x3c595f=this[_0x5291f1(0x15a)][_0x5291f1(0x8fd)](_0x760072,_0x3059da);return{'getLabel':_0x3c595f[_0x5291f1(0x5f1)][_0x5291f1(0x4b0)](_0x3c595f),'getOwnerId':_0x3c595f[_0x5291f1(0x827)][_0x5291f1(0x4b0)](_0x3c595f),'getContentType':_0x3c595f[_0x5291f1(0x892)]['bind'](_0x3c595f),'setPriority':_0x3c595f[_0x5291f1(0x1b3)][_0x5291f1(0x4b0)](_0x3c595f),'unpublish':_0x3c595f[_0x5291f1(0x6cd)][_0x5291f1(0x4b0)](_0x3c595f),'getMediaStream':_0x3c595f[_0x5291f1(0x6f8)]['bind'](_0x3c595f),'addTrack':_0x3c595f[_0x5291f1(0x532)][_0x5291f1(0x4b0)](_0x3c595f),'removeTrack':_0x3c595f[_0x5291f1(0x5fe)][_0x5291f1(0x4b0)](_0x3c595f),'replaceTrack':_0x3c595f[_0x5291f1(0x939)][_0x5291f1(0x4b0)](_0x3c595f),'setTransformations':_0x3c595f[_0x5291f1(0x120)][_0x5291f1(0x4b0)](_0x3c595f)};}['getLocalMediaStreams'](_0x5c578b){const _0x122802=_0x4bc902;return this[_0x122802(0x15a)]['getLocalMediaStreams'](_0x5c578b)[_0x122802(0x8a3)](_0xbda55c=>({'getLabel':_0xbda55c[_0x122802(0x5f1)][_0x122802(0x4b0)](_0xbda55c),'getOwnerId':_0xbda55c[_0x122802(0x827)]['bind'](_0xbda55c),'getContentType':_0xbda55c[_0x122802(0x892)][_0x122802(0x4b0)](_0xbda55c),'getMediaStream':_0xbda55c[_0x122802(0x6f8)]['bind'](_0xbda55c),'setPriority':_0xbda55c[_0x122802(0x1b3)][_0x122802(0x4b0)](_0xbda55c),'unpublish':_0xbda55c[_0x122802(0x6cd)]['bind'](_0xbda55c)}));}[_0x4bc902(0x4b7)](_0x61bca9){const _0x1cba7c=_0x4bc902;return this[_0x1cba7c(0x15a)][_0x1cba7c(0x4b7)](_0x61bca9)['map'](_0x571f13=>({'getLabel':_0x571f13[_0x1cba7c(0x5f1)][_0x1cba7c(0x4b0)](_0x571f13),'getOwnerId':_0x571f13['getOwnerId'][_0x1cba7c(0x4b0)](_0x571f13),'getContentType':_0x571f13[_0x1cba7c(0x892)][_0x1cba7c(0x4b0)](_0x571f13),'getMediaStream':_0x571f13[_0x1cba7c(0x6f8)][_0x1cba7c(0x4b0)](_0x571f13),'subscribe':_0x571f13[_0x1cba7c(0x9e4)][_0x1cba7c(0x4b0)](_0x571f13),'unsubscribe':_0x571f13[_0x1cba7c(0x80f)]['bind'](_0x571f13),'getAvailableTrackKinds':_0x571f13['getAvailableTrackKinds']['bind'](_0x571f13),'update':_0x571f13[_0x1cba7c(0x12e)]['bind'](_0x571f13),'onProviderChange':_0x571f13[_0x1cba7c(0x49b)][_0x1cba7c(0x4b0)](_0x571f13)}));}[_0x4bc902(0x92e)](_0x48f973){const _0x1c3886=_0x4bc902;return this[_0x1c3886(0x15a)][_0x1c3886(0x92e)](_0x48f973)[_0x1c3886(0x8a3)](_0x266d19=>({'getName':_0x266d19[_0x1c3886(0x9cb)][_0x1c3886(0x4b0)](_0x266d19),'getOwnerId':_0x266d19['getOwnerId'][_0x1c3886(0x4b0)](_0x266d19),'getContentType':_0x266d19['getContentType'][_0x1c3886(0x4b0)](_0x266d19),'addNode':_0x266d19[_0x1c3886(0x204)][_0x1c3886(0x4b0)](_0x266d19),'addEdge':_0x266d19[_0x1c3886(0x94d)][_0x1c3886(0x4b0)](_0x266d19),'getContent':_0x266d19[_0x1c3886(0x5c3)]['bind'](_0x266d19),'remove':_0x266d19[_0x1c3886(0x706)][_0x1c3886(0x4b0)](_0x266d19),'saveToDisk':_0x266d19['saveToDisk'][_0x1c3886(0x4b0)](_0x266d19),'loadFromDisk':_0x266d19[_0x1c3886(0x5cf)]['bind'](_0x266d19),'close':_0x266d19['close']['bind'](_0x266d19)}));}['getVectorDatabases'](_0x43d7c2){const _0x553ff1=_0x4bc902;return this[_0x553ff1(0x15a)][_0x553ff1(0x4b6)](_0x43d7c2)[_0x553ff1(0x8a3)](_0x1588af=>({'getName':_0x1588af[_0x553ff1(0x9cb)][_0x553ff1(0x4b0)](_0x1588af),'getOwnerId':_0x1588af[_0x553ff1(0x827)]['bind'](_0x1588af),'getContentType':_0x1588af[_0x553ff1(0x892)][_0x553ff1(0x4b0)](_0x1588af),'search':_0x1588af[_0x553ff1(0x75d)][_0x553ff1(0x4b0)](_0x1588af),'insert':_0x1588af[_0x553ff1(0x4d7)][_0x553ff1(0x4b0)](_0x1588af),'remove':_0x1588af['remove'][_0x553ff1(0x4b0)](_0x1588af),'saveToDisk':_0x1588af[_0x553ff1(0x2b5)][_0x553ff1(0x4b0)](_0x1588af),'loadFromDisk':_0x1588af['loadFromDisk'][_0x553ff1(0x4b0)](_0x1588af),'close':_0x1588af[_0x553ff1(0x6bf)]['bind'](_0x1588af)}));}['getLocalNode'](){const _0xa60013=_0x4bc902,_0x27a825=this[_0xa60013(0x15a)][_0xa60013(0x2dc)]();switch(_0x27a825[_0xa60013(0x1aa)]){case _0x3e2379['NodeType'][_0xa60013(0x6e6)]:return{'type':_0x3e2379[_0xa60013(0x676)][_0xa60013(0x6e6)],'getId':_0x27a825[_0xa60013(0x68a)][_0xa60013(0x4b0)](_0x27a825),'getDisplayName':_0x27a825['getDisplayName'][_0xa60013(0x4b0)](_0x27a825),'getEmail':_0x27a825['getEmail'][_0xa60013(0x4b0)](_0x27a825),'getRemoteConnections':_0x27a825['getRemoteConnections']['bind'](_0x27a825),'setDisplayName':_0x27a825[_0xa60013(0x80a)][_0xa60013(0x4b0)](_0x27a825),'setEmail':_0x27a825[_0xa60013(0x600)]['bind'](_0x27a825)};case _0x3e2379[_0xa60013(0x676)][_0xa60013(0x251)]:default:return{'type':_0x3e2379[_0xa60013(0x676)]['Agent'],'getId':_0x27a825[_0xa60013(0x68a)][_0xa60013(0x4b0)](_0x27a825),'getRemoteConnections':_0x27a825[_0xa60013(0x393)]['bind'](_0x27a825)};}}[_0x4bc902(0x4d5)](_0x108533){const _0x40177f=_0x4bc902;return this[_0x40177f(0x15a)][_0x40177f(0x4d5)](_0x108533)[_0x40177f(0x8a3)](_0x26220d=>{const _0x408f27=_0x40177f;switch(_0x26220d[_0x408f27(0x1aa)]){case _0x3e2379[_0x408f27(0x676)][_0x408f27(0x6e6)]:return{'type':_0x3e2379[_0x408f27(0x676)][_0x408f27(0x6e6)],'getId':_0x26220d['getId'][_0x408f27(0x4b0)](_0x26220d),'getDisplayName':_0x26220d[_0x408f27(0x1e4)][_0x408f27(0x4b0)](_0x26220d),'getEmail':_0x26220d[_0x408f27(0x2a5)][_0x408f27(0x4b0)](_0x26220d),'getRemoteConnections':_0x26220d[_0x408f27(0x393)][_0x408f27(0x4b0)](_0x26220d)};case _0x3e2379['NodeType'][_0x408f27(0x251)]:return{'type':_0x3e2379['NodeType'][_0x408f27(0x251)],'getId':_0x26220d['getId']['bind'](_0x26220d),'getRemoteConnections':_0x26220d['getRemoteConnections'][_0x408f27(0x4b0)](_0x26220d)};default:throw new _0x4b6430(_0x2bb2b4[_0x408f27(0x896)],_0x408f27(0x2fd));}});}['on']=(..._0x51d294)=>{const _0x5198d8=_0x4bc902;this[_0x5198d8(0x311)]['on'](..._0x51d294);};[_0x4bc902(0x419)]=(..._0x36da9)=>this[_0x4bc902(0x311)][_0x4bc902(0x419)](..._0x36da9);[_0x4bc902(0x363)](..._0x5a41b4){const _0x5cf6f4=_0x4bc902;this[_0x5cf6f4(0x311)][_0x5cf6f4(0x363)](..._0x5a41b4);}}class _0x5dd787{['id'];[_0x4bc902(0x474)];['email'];[_0x4bc902(0x1aa)]=_0x3e2379[_0x4bc902(0x676)]['User'];['joinedClusters']=new Map();[_0x4bc902(0x915)]=_0x545df6();constructor(_0x1e9dab,_0x53587e,_0xffbd78){const _0x14d229=_0x4bc902;this['id']=_0x1e9dab,this['displayName']=_0x53587e,this[_0x14d229(0x6ea)]=_0xffbd78;}[_0x4bc902(0x68a)](){return this['id'];}[_0x4bc902(0x1e4)](){const _0x33ef9f=_0x4bc902;return this[_0x33ef9f(0x474)];}[_0x4bc902(0x2a5)](){const _0x3af7e4=_0x4bc902;return this[_0x3af7e4(0x6ea)];}[_0x4bc902(0x80a)](_0x28ad5f){const _0x45e883=_0x4bc902;this[_0x45e883(0x474)]!==_0x28ad5f&&(this[_0x45e883(0x474)]=_0x28ad5f,this[_0x45e883(0x915)][_0x45e883(0x912)](this));}['setEmail'](_0x1d5cc1){const _0x4ffa55=_0x4bc902;this[_0x4ffa55(0x6ea)]!==_0x1d5cc1&&(this['email']=_0x1d5cc1,this[_0x4ffa55(0x915)][_0x4ffa55(0x912)](this));}[_0x4bc902(0x7b6)](_0x4dc8b0,_0x5ca715){const _0x26875b=_0x4bc902;if(this[_0x26875b(0x84d)][_0x26875b(0x5f9)](_0x4dc8b0))return;const _0x1963d0=this[_0x26875b(0x915)][_0x26875b(0x9e4)](_0x5ca715);this[_0x26875b(0x84d)]['set'](_0x4dc8b0,_0x1963d0);}['unregisterCluster'](_0x3f56e3){const _0x1f2e85=_0x4bc902;if(!this['joinedClusters']['has'](_0x3f56e3))return;const _0x536ea3=this[_0x1f2e85(0x84d)][_0x1f2e85(0x985)](_0x3f56e3);_0x536ea3&&_0x536ea3(),this[_0x1f2e85(0x84d)]['delete'](_0x3f56e3);}}class _0x42720d{['vendorId'];[_0x4bc902(0x767)];constructor(_0x39dec5){const _0x5b1066=_0x4bc902;this[_0x5b1066(0x203)]=_0x39dec5;}async[_0x4bc902(0x695)](_0x1d64d5){const _0x5d7576=_0x4bc902,_0x5ced01=await(0x0,_0x12a69f[_0x5d7576(0x454)])(_0x14b3ac[_0x5d7576(0x90d)](),_0x5d7576(0x9ab))({'uid':_0x5d7576(0x378)+this[_0x5d7576(0x203)]+_0x5d7576(0x378)+_0x1d64d5['id']}),_0x1114fc=await(0x0,_0x4d31a1[_0x5d7576(0x2a9)])(_0x14b3ac[_0x5d7576(0x57a)](),_0x5ced01[_0x5d7576(0x463)][_0x5d7576(0x639)]);this[_0x5d7576(0x767)]=_0x1114fc[_0x5d7576(0x767)];}async[_0x4bc902(0x3ea)](){const _0x12bb6e=_0x4bc902;await(0x0,_0x4d31a1[_0x12bb6e(0x3ea)])(_0x14b3ac[_0x12bb6e(0x57a)]());}[_0x4bc902(0x5cc)](){const _0x3d4bea=_0x4bc902;return this[_0x3d4bea(0x767)]?.[_0x3d4bea(0x5cc)]()??Promise[_0x3d4bea(0x552)](_0x3d4bea(0x313));}}class _0x41d370{static [_0x4bc902(0x451)];[_0x4bc902(0x4d4)]=[];constructor(){}static[_0x4bc902(0x81f)](){const _0x548b8f=_0x4bc902;return _0x41d370[_0x548b8f(0x451)]||(_0x41d370[_0x548b8f(0x451)]=new _0x41d370()),_0x41d370[_0x548b8f(0x451)];}[_0x4bc902(0x643)](){const _0xafedfe=_0x4bc902;this[_0xafedfe(0x2da)](),this[_0xafedfe(0x496)](),this['checkScreenSharing'](),this['checkAudioVolume'](),this['checkDeviceConfig'](),this['checkAudioOutput'](),this[_0xafedfe(0x567)](),this[_0xafedfe(0x287)](),this[_0xafedfe(0x158)](),this['checkAudioContext'](),_0x28bf01[_0xafedfe(0x5e2)](_0x4f63ff['Support'],_0xafedfe(0x4c2),{'featureSupport':this[_0xafedfe(0x4d4)]});}[_0x4bc902(0x14b)](_0x165292){const _0x544d7e=_0x4bc902,_0x372eb4=this[_0x544d7e(0x4d4)][_0x544d7e(0x731)](_0x5546e6=>_0x5546e6[_0x544d7e(0x89d)]===_0x165292);return!!_0x372eb4&&_0x372eb4[_0x544d7e(0x186)];}[_0x4bc902(0x34c)](_0x547b4f){const _0x44e805=_0x4bc902;_0x28bf01[_0x44e805(0x7eb)](_0x44e805(0x8ad),{'nodeId':_0x547b4f['getId'](),'nodeType':_0x547b4f[_0x44e805(0x1aa)],'data':{'featureSupport':this['featureSupport']}});}[_0x4bc902(0x2da)](){const _0x2c07b8=_0x4bc902,_0x2a53d4=_0x55b840[_0x2c07b8(0x4e6)];let _0x1ed3a3=!0x1;'function'==typeof RTCPeerConnection&&_0x2c07b8(0x23b)==typeof RTCIceCandidate&&_0x2c07b8(0x23b)==typeof RTCSessionDescription?_0x1ed3a3=!0x0:_0x28bf01[_0x2c07b8(0x5e2)](_0x4f63ff[_0x2c07b8(0x703)],_0x2c07b8(0x704)+_0x2a53d4+_0x2c07b8(0x9b2)),this[_0x2c07b8(0x4d4)][_0x2c07b8(0x5b2)]({'name':_0x2a53d4,'supported':_0x1ed3a3});}[_0x4bc902(0x496)](){const _0x5eb757=_0x4bc902,_0x5199cc=_0x55b840[_0x5eb757(0x53a)];let _0xad4c47=!0x1;'function'==typeof MediaStream&&_0x5eb757(0x23b)==typeof MediaStreamTrack&&_0x5eb757(0x14f)==typeof navigator&&_0x5eb757(0x14f)==typeof navigator['mediaDevices']&&_0x5eb757(0x23b)==typeof navigator[_0x5eb757(0x54d)][_0x5eb757(0x83b)]?_0xad4c47=!0x0:_0x28bf01[_0x5eb757(0x5e2)](_0x4f63ff[_0x5eb757(0x703)],'Support:\x20'+_0x5199cc+'\x20not\x20supported'),this[_0x5eb757(0x4d4)][_0x5eb757(0x5b2)]({'name':_0x5199cc,'supported':_0xad4c47});}[_0x4bc902(0x886)](){const _0x29a547=_0x4bc902,_0x105b29=_0x55b840[_0x29a547(0x9f9)];let _0x492ff2=!0x1;'object'==typeof navigator&&_0x29a547(0x14f)==typeof navigator[_0x29a547(0x54d)]&&_0x29a547(0x23b)==typeof navigator[_0x29a547(0x54d)]['getDisplayMedia']?_0x492ff2=!0x0:_0x28bf01[_0x29a547(0x5e2)](_0x4f63ff[_0x29a547(0x703)],'Support:\x20'+_0x105b29+_0x29a547(0x9b2)),this[_0x29a547(0x4d4)][_0x29a547(0x5b2)]({'name':_0x105b29,'supported':_0x492ff2});}[_0x4bc902(0x9c5)](){const _0x5216ee=_0x4bc902,_0xe1628=_0x55b840[_0x5216ee(0x5a6)];let _0x5f0db1=!0x1;_0x5216ee(0x23b)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0x5216ee(0x23b)!=typeof AudioWorkletNode||_0x5216ee(0x23b)!=typeof MediaStreamAudioSourceNode?_0x28bf01[_0x5216ee(0x5e2)](_0x4f63ff[_0x5216ee(0x703)],'Support:\x20'+_0xe1628+'\x20not\x20supported'):_0x5f0db1=!0x0,this['featureSupport'][_0x5216ee(0x5b2)]({'name':_0xe1628,'supported':_0x5f0db1});}[_0x4bc902(0x934)](){const _0x33411a=_0x4bc902,_0x38ef3a=_0x55b840['DeviceConfig'];let _0x3d4dc2=!0x1;_0x33411a(0x14f)==typeof navigator&&_0x33411a(0x14f)==typeof navigator[_0x33411a(0x54d)]&&_0x33411a(0x23b)==typeof navigator['mediaDevices'][_0x33411a(0x7d0)]&&_0x33411a(0x23b)==typeof MediaDeviceInfo?_0x3d4dc2=!0x0:_0x28bf01['log'](_0x4f63ff[_0x33411a(0x703)],'Support:\x20'+_0x38ef3a+_0x33411a(0x9b2)),this[_0x33411a(0x4d4)]['push']({'name':_0x38ef3a,'supported':_0x3d4dc2});}[_0x4bc902(0x129)](){const _0x4b87fa=_0x4bc902,_0x18f6cc=_0x55b840['AudioOutput'];let _0x421c3a=!0x1;'object'==typeof document&&_0x4b87fa(0x23b)==typeof document['createElement'](_0x4b87fa(0x47f))[_0x4b87fa(0x1e8)]?_0x421c3a=!0x0:_0x28bf01[_0x4b87fa(0x5e2)](_0x4f63ff[_0x4b87fa(0x703)],'Support:\x20'+_0x18f6cc+'\x20not\x20supported'),this['featureSupport'][_0x4b87fa(0x5b2)]({'name':_0x18f6cc,'supported':_0x421c3a});}async[_0x4bc902(0x567)](){const _0x2d92c9=_0x4bc902,_0x559ee1=_0x55b840[_0x2d92c9(0x326)];let _0x404804=!0x1;try{const _0x27a8ec=document['createElement'](_0x2d92c9(0x554));if(MediaRecorder&&MediaSource&&_0x27a8ec['captureStream']){const _0x1a17f7=_0x27a8ec['captureStream'](),_0x413e0c=new MediaRecorder(_0x1a17f7);_0x413e0c[_0x2d92c9(0x670)](),await new Promise(_0x32e8fb=>setTimeout(_0x32e8fb,0x7d0)),_0x413e0c['stop'](),_0x404804=_0x2d92c9(0x255)===_0x413e0c[_0x2d92c9(0x6fe)];}}catch(_0x4b25fd){_0x28bf01['log'](_0x4f63ff[_0x2d92c9(0x703)],_0x2d92c9(0x704)+_0x559ee1+'\x20check\x20failed',_0x4b25fd);}this['featureSupport'][_0x2d92c9(0x5b2)]({'name':_0x559ee1,'supported':_0x404804}),_0x404804||_0x28bf01['log'](_0x4f63ff['Support'],_0x2d92c9(0x704)+_0x559ee1+_0x2d92c9(0x9b2));}[_0x4bc902(0x287)](){const _0x58d88e=_0x4bc902,_0x59a47f=_0x55b840[_0x58d88e(0x836)];let _0x792f57=!0x1;try{document[_0x58d88e(0x9c2)]('canvas')[_0x58d88e(0x913)]&&(_0x792f57=!0x0);}catch(_0x4f94ee){_0x28bf01[_0x58d88e(0x5e2)](_0x4f63ff[_0x58d88e(0x703)],_0x58d88e(0x704)+_0x59a47f+_0x58d88e(0x3d5),_0x4f94ee);}this[_0x58d88e(0x4d4)]['push']({'name':_0x59a47f,'supported':_0x792f57}),_0x792f57||_0x28bf01[_0x58d88e(0x5e2)](_0x4f63ff[_0x58d88e(0x703)],_0x58d88e(0x704)+_0x59a47f+_0x58d88e(0x9b2));}[_0x4bc902(0x158)](){const _0x53ec42=_0x4bc902,_0x467d4f=_0x55b840[_0x53ec42(0x86b)];let _0x41672b=!0x1;try{const _0x13a2f4=document[_0x53ec42(0x9c2)](_0x53ec42(0x554));WebGLRenderingContext&&_0x13a2f4['getContext'](_0x53ec42(0x45b))&&(_0x41672b=!0x0);}catch(_0x156618){_0x28bf01[_0x53ec42(0x5e2)](_0x4f63ff['Support'],_0x53ec42(0x704)+_0x467d4f+_0x53ec42(0x3d5),_0x156618);}this['featureSupport'][_0x53ec42(0x5b2)]({'name':_0x467d4f,'supported':_0x41672b}),_0x41672b||_0x28bf01[_0x53ec42(0x5e2)](_0x4f63ff[_0x53ec42(0x703)],'Support:\x20'+_0x467d4f+_0x53ec42(0x9b2));}[_0x4bc902(0x22e)](){const _0x309a1b=_0x4bc902,_0x4c4d54=_0x55b840[_0x309a1b(0x8d4)];let _0x4d29cc=!0x1;_0x309a1b(0x23b)==typeof AudioContext?_0x4d29cc=!0x0:_0x28bf01[_0x309a1b(0x5e2)](_0x4f63ff['Support'],_0x309a1b(0x704)+_0x4c4d54+_0x309a1b(0x9b2)),this[_0x309a1b(0x4d4)][_0x309a1b(0x5b2)]({'name':_0x4c4d54,'supported':_0x4d29cc});}}const _0x2cb780=_0x41d370[_0x4bc902(0x81f)]();class _0x241e36{static ['instance'];static [_0x4bc902(0x80f)];static [_0x4bc902(0xa30)];['authService'];['vendorId'];[_0x4bc902(0x31c)];[_0x4bc902(0x15c)];[_0x4bc902(0x96e)]=new Map();['authContext'];constructor(_0x2329fe,_0x1f5f93,_0xcbde6a){const _0x1938f2=_0x4bc902;this[_0x1938f2(0x203)]=_0x2329fe,this['configs']=_0x1f5f93,this[_0x1938f2(0x1bd)]=new _0x42720d(this[_0x1938f2(0x203)]),_0x2cb780['initialize'](),this['options']={'audioContext':_0xcbde6a?.[_0x1938f2(0x916)]??(_0x2cb780[_0x1938f2(0x14b)](_0x55b840[_0x1938f2(0x8d4)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0xcbde6a?.[_0x1938f2(0x3f5)]??0x1,'minConnections':_0xcbde6a?.['minConnections']??0x3,'maxConnections':_0xcbde6a?.[_0x1938f2(0xa32)]??(_0xcbde6a?.['minConnections']&&0x4*_0xcbde6a['minConnections'])??0xc,'maxDistance':_0xcbde6a?.[_0x1938f2(0x4e8)]??0xa,'maxFps':_0xcbde6a?.[_0x1938f2(0x5dd)]??0x18,'maxBpp':_0xcbde6a?.[_0x1938f2(0x4e3)]??0.12,'objectStoreConnector':_0xcbde6a?.['objectStoreConnector']??_0x3ac4b8[_0x1938f2(0x56e)],'externalStorageConnectors':_0xcbde6a?.[_0x1938f2(0x716)],'keyValueDatabaseConnector':_0xcbde6a?.[_0x1938f2(0x444)]??_0x9d2b7f[_0x1938f2(0x737)],'loggingDatabaseConnector':_0xcbde6a?.['loggingDatabaseConnector']??_0x9d2b7f['IDBDatabaseConnector'],'peerConnectionConnector':_0xcbde6a?.[_0x1938f2(0x8bb)]??_0x1f2037[_0x1938f2(0x22a)],'generativeAIWorkerConnectors':_0xcbde6a?.[_0x1938f2(0x45c)],'vectorDatabaseConnector':_0xcbde6a?.[_0x1938f2(0x36e)],'graphDatabaseConnector':_0xcbde6a?.[_0x1938f2(0x32d)],'documentParserConnector':_0xcbde6a?.[_0x1938f2(0x121)],'nlpLibraryConnector':_0xcbde6a?.[_0x1938f2(0x820)],'searchConnector':_0xcbde6a?.[_0x1938f2(0x5a1)]},_0xcbde6a?.[_0x1938f2(0x2bd)]&&this[_0x1938f2(0x31c)]['audioContext']&&_0x58c1db[_0x1938f2(0x7ec)](this[_0x1938f2(0x31c)][_0x1938f2(0x916)]),_0x28bf01[_0x1938f2(0x3ce)](this[_0x1938f2(0x203)]),_0xcbde6a?.[_0x1938f2(0x73c)]&&_0x28bf01[_0x1938f2(0x4ec)](_0xcbde6a[_0x1938f2(0x73c)]);}static async[_0x4bc902(0x81f)](_0x1e5a2b,_0x5b12c1,_0xc1c345,_0x404039,_0xe9fe57){const _0x49c2b1=_0x4bc902;this[_0x49c2b1(0xa30)]=_0xc1c345;const _0x2c0919=await this[_0x49c2b1(0xa35)](_0x1e5a2b,_0x5b12c1,_0xe9fe57);return _0x241e36[_0x49c2b1(0x451)]||(_0x241e36[_0x49c2b1(0x451)]=new _0x241e36(_0x1e5a2b,_0x2c0919,_0x404039)),{'close':_0x241e36['instance'][_0x49c2b1(0x6bf)][_0x49c2b1(0x4b0)](_0x241e36[_0x49c2b1(0x451)]),'authenticateUser':_0x241e36['instance'][_0x49c2b1(0x3e6)]['bind'](_0x241e36['instance']),'authenticateAgent':_0x241e36['instance'][_0x49c2b1(0x679)]['bind'](_0x241e36[_0x49c2b1(0x451)]),'joinCluster':_0x241e36[_0x49c2b1(0x451)][_0x49c2b1(0x1f1)][_0x49c2b1(0x4b0)](_0x241e36[_0x49c2b1(0x451)])};}static async[_0x4bc902(0x9a4)](){return _0x14b3ac['getEstimatedTimestamp']();}static[_0x4bc902(0x8e1)](){const _0x13ceec=_0x4bc902;return _0x1823f0[_0x13ceec(0x8e1)];}async[_0x4bc902(0x6bf)](_0x1bf5b5){const _0x5d2428=_0x4bc902;this[_0x5d2428(0x96e)][_0x5d2428(0x105)](_0x1b350a=>{const _0x2025fb=_0x5d2428;_0x1b350a[_0x2025fb(0x363)](),_0x1b350a[_0x2025fb(0x10f)](_0x1bf5b5);}),this[_0x5d2428(0x96e)]['clear'](),this['options']['audioContext']&&_0x58c1db[_0x5d2428(0x7f8)](),_0x241e36['unsubscribe']?.(),_0x241e36[_0x5d2428(0x80f)]=void 0x0,this[_0x5d2428(0x90c)]=void 0x0,await this[_0x5d2428(0x1bd)][_0x5d2428(0x3ea)](),_0x241e36[_0x5d2428(0x451)]=void 0x0;}static async[_0x4bc902(0xa35)](_0x4087b4,_0x4401b7,_0x52f67f){const _0x4a80ee=_0x4bc902;if(!this[_0x4a80ee(0xa30)])throw new _0x4b6430(_0x2bb2b4[_0x4a80ee(0x165)],_0x4a80ee(0x26d));let _0x4d8dd6;try{_0x4d8dd6=await(0x0,_0x12a69f[_0x4a80ee(0x454)])(_0x14b3ac[_0x4a80ee(0x90d)](),_0x4a80ee(0x7c0))({'vendorId':_0x4087b4,'accessToken':_0x4401b7,'secretKey':_0x52f67f});}catch(_0x1a603f){throw new _0x4b6430(_0x2bb2b4[_0x4a80ee(0xa2b)],'Invalid\x20credentials');}if(!this[_0x4a80ee(0x54b)](_0x4d8dd6[_0x4a80ee(0x463)]))throw new _0x4b6430(_0x2bb2b4['InvalidAccess'],'Invalid\x20credentials');const _0x1634ea=_0x4d8dd6[_0x4a80ee(0x463)];return _0x1634ea[_0x4a80ee(0x918)]||(_0x1634ea[_0x4a80ee(0x918)]=[]),this[_0x4a80ee(0x80f)]||(this[_0x4a80ee(0x80f)]=_0x58c1db[_0x4a80ee(0x1d2)](async()=>{const _0x17af9c=_0x4a80ee;try{const _0x15d9a3=await this[_0x17af9c(0xa35)](_0x4087b4,_0x4401b7,_0x52f67f);this[_0x17af9c(0xa30)]===_0x3e2379['NodeType'][_0x17af9c(0x251)]&&(_0x15d9a3[_0x17af9c(0x563)]=_0x15d9a3[_0x17af9c(0x563)][_0x17af9c(0x6f4)](_0x5d19f1=>_0x5d19f1[_0x17af9c(0x987)][_0x17af9c(0x648)](_0x17af9c(0x7a8)))),_0x1634ea['iceServers']=_0x15d9a3['iceServers'];}catch(_0x3a2157){}},0x1b7740)),_0x1634ea;}async[_0x4bc902(0x3e6)](_0x36d73c){const _0x58adcd=_0x4bc902;if(_0x241e36[_0x58adcd(0xa30)]!==_0x3e2379[_0x58adcd(0x676)][_0x58adcd(0x6e6)])throw new _0x4b6430(_0x2bb2b4[_0x58adcd(0x896)],_0x58adcd(0x988));await this['authService'][_0x58adcd(0x695)](_0x36d73c);const _0x2c7777=new _0x5dd787(_0x36d73c['id'],_0x36d73c['displayName'],_0x36d73c[_0x58adcd(0x6ea)]);return this[_0x58adcd(0x90c)]={'node':_0x2c7777},_0x2cb780['logSupport'](_0x2c7777),{'type':_0x3e2379[_0x58adcd(0x676)][_0x58adcd(0x6e6)],'getId':_0x2c7777[_0x58adcd(0x68a)][_0x58adcd(0x4b0)](_0x2c7777),'getDisplayName':_0x2c7777[_0x58adcd(0x1e4)][_0x58adcd(0x4b0)](_0x2c7777),'getEmail':_0x2c7777[_0x58adcd(0x2a5)][_0x58adcd(0x4b0)](_0x2c7777),'setDisplayName':_0x2c7777[_0x58adcd(0x80a)][_0x58adcd(0x4b0)](_0x2c7777),'setEmail':_0x2c7777['setEmail'][_0x58adcd(0x4b0)](_0x2c7777)};}async[_0x4bc902(0x679)](_0x2c057b){const _0x34cdbb=_0x4bc902;if(_0x241e36['mode']!==_0x3e2379[_0x34cdbb(0x676)][_0x34cdbb(0x251)])throw new _0x4b6430(_0x2bb2b4[_0x34cdbb(0x896)],'Node\x20type\x20is\x20invalid');const {id:_0x4e6064,groupId:_0x198de8}=_0x2c057b,_0x591f82=await(0x0,_0x456efb[_0x34cdbb(0x41a)])((0x0,_0x456efb[_0x34cdbb(0x22d)])(_0x14b3ac[_0x34cdbb(0x6c4)](),_0x34cdbb(0x217)+this[_0x34cdbb(0x203)]+_0x34cdbb(0x411)+_0x198de8));if(!_0x591f82[_0x34cdbb(0x770)]())throw new _0x4b6430(_0x2bb2b4[_0x34cdbb(0x1bc)],_0x34cdbb(0x5bd));const _0x3c69fc=_0x591f82['data']();await this['authService'][_0x34cdbb(0x695)]({'id':_0x4e6064});const _0x4cddff=new _0x3145bc(_0x4e6064,_0x198de8,this[_0x34cdbb(0x203)],_0x3c69fc);return this[_0x34cdbb(0x90c)]={'node':_0x4cddff},_0x2cb780[_0x34cdbb(0x34c)](_0x4cddff),await this['connectAgent'](_0x4cddff),{'type':_0x3e2379[_0x34cdbb(0x676)][_0x34cdbb(0x251)],'getId':_0x4cddff['getId'][_0x34cdbb(0x4b0)](_0x4cddff),'onConfigurationChange':_0x4cddff[_0x34cdbb(0x412)]['bind'](_0x4cddff),'setReportCapacity':_0x4cddff[_0x34cdbb(0x933)]['bind'](_0x4cddff)};}async[_0x4bc902(0x1f1)](_0x5becce){const _0x357b6d=_0x4bc902;if(!this[_0x357b6d(0x90c)])throw new _0x4b6430(_0x2bb2b4[_0x357b6d(0x1bc)],_0x357b6d(0x509));if(this[_0x357b6d(0x90c)][_0x357b6d(0x119)]['type']!==_0x3e2379['NodeType'][_0x357b6d(0x6e6)])throw new _0x4b6430(_0x2bb2b4[_0x357b6d(0x578)],_0x357b6d(0x529));if(this['clusters'][_0x357b6d(0x5f9)](_0x5becce))throw new _0x4b6430(_0x2bb2b4[_0x357b6d(0x4c8)],'Cluster\x20already\x20joined');const _0x110a49=new _0x9ab33d(this[_0x357b6d(0x203)],_0x5becce,this[_0x357b6d(0x90c)][_0x357b6d(0x119)],this[_0x357b6d(0x1bd)],this[_0x357b6d(0x31c)],this['configs']);return await _0x110a49['join'](),this[_0x357b6d(0x174)](_0x5becce,_0x110a49),_0x28bf01[_0x357b6d(0x7eb)](_0x357b6d(0x2f2),{'clusterId':_0x5becce,'nodeId':this[_0x357b6d(0x90c)]['node'][_0x357b6d(0x68a)](),'nodeType':this[_0x357b6d(0x90c)][_0x357b6d(0x119)][_0x357b6d(0x1aa)]}),{'leave':_0x110a49['leave'][_0x357b6d(0x4b0)](_0x110a49),'getLocalNode':_0x110a49['getLocalNode'][_0x357b6d(0x4b0)](_0x110a49),'openPubSubTopic':_0x110a49['openPubSubTopic']['bind'](_0x110a49),'openObjectStoreBucket':_0x110a49['openObjectStoreBucket'][_0x357b6d(0x4b0)](_0x110a49),'openExternalStorageConnection':_0x110a49[_0x357b6d(0x76a)][_0x357b6d(0x4b0)](_0x110a49),'openKeyValueDatabase':_0x110a49[_0x357b6d(0x48c)][_0x357b6d(0x4b0)](_0x110a49),'openGenerativeAIContext':_0x110a49[_0x357b6d(0x11f)][_0x357b6d(0x4b0)](_0x110a49),'openGenerativeAIWorker':_0x110a49[_0x357b6d(0x264)][_0x357b6d(0x4b0)](_0x110a49),'openGraphDatabase':_0x110a49['openGraphDatabase'][_0x357b6d(0x4b0)](_0x110a49),'openVectorDatabase':_0x110a49[_0x357b6d(0x3ad)][_0x357b6d(0x4b0)](_0x110a49),'publishLocalMediaStream':_0x110a49[_0x357b6d(0x233)][_0x357b6d(0x4b0)](_0x110a49),'publishLocalDynamicMediaStream':_0x110a49['publishLocalDynamicMediaStream'][_0x357b6d(0x4b0)](_0x110a49),'getPubSubTopics':_0x110a49[_0x357b6d(0x9d6)][_0x357b6d(0x4b0)](_0x110a49),'getObjectStoreBuckets':_0x110a49[_0x357b6d(0x557)]['bind'](_0x110a49),'getExternalStorageConnections':_0x110a49[_0x357b6d(0x810)][_0x357b6d(0x4b0)](_0x110a49),'getKeyValueDatabases':_0x110a49[_0x357b6d(0x5c9)]['bind'](_0x110a49),'getGenerativeAIContexts':_0x110a49['getGenerativeAIContexts']['bind'](_0x110a49),'getGenerativeAIWorkers':_0x110a49[_0x357b6d(0x740)][_0x357b6d(0x4b0)](_0x110a49),'getGraphDatabases':_0x110a49[_0x357b6d(0x92e)][_0x357b6d(0x4b0)](_0x110a49),'getVectorDatabases':_0x110a49[_0x357b6d(0x4b6)][_0x357b6d(0x4b0)](_0x110a49),'getLocalMediaStreams':_0x110a49[_0x357b6d(0xa03)]['bind'](_0x110a49),'getRemoteMediaStreams':_0x110a49[_0x357b6d(0x4b7)][_0x357b6d(0x4b0)](_0x110a49),'getRemoteNodes':_0x110a49[_0x357b6d(0x4d5)][_0x357b6d(0x4b0)](_0x110a49),'on':_0x110a49['on'][_0x357b6d(0x4b0)](_0x110a49),'off':_0x110a49['off'][_0x357b6d(0x4b0)](_0x110a49)};}async[_0x4bc902(0x443)](_0x3f4d3c){const _0x260b2d=_0x4bc902;for(const _0x975923 of _0x3f4d3c['agentConfig'][_0x260b2d(0x96e)]){const _0x447dfc=new _0x9ab33d(this[_0x260b2d(0x203)],_0x975923['id'],_0x3f4d3c,this['authService'],this[_0x260b2d(0x31c)],this[_0x260b2d(0x15c)]);await _0x447dfc[_0x260b2d(0x696)](),this[_0x260b2d(0x174)](_0x975923['id'],_0x447dfc);for(const _0x295802 of _0x975923[_0x260b2d(0x806)]??[])_0x447dfc[_0x260b2d(0x57c)](_0x295802);for(const _0x2e8f80 of _0x975923[_0x260b2d(0x2ab)]??[])await _0x447dfc[_0x260b2d(0x484)](_0x2e8f80);for(const _0x66c7a8 of _0x975923[_0x260b2d(0x925)]??[]){const _0x12df1e=_0x66c7a8[_0x260b2d(0x66b)]('-');await _0x447dfc[_0x260b2d(0x76a)](_0x12df1e[0x1],_0x12df1e[0x0]);}for(const _0x4a69dc of _0x975923[_0x260b2d(0x691)]??[])await _0x447dfc['openKeyValueDatabase'](_0x4a69dc,{'version':0x1,'tables':{}});for(const _0x29dab0 of _0x975923[_0x260b2d(0x7d4)]??[])_0x447dfc[_0x260b2d(0x3b2)](_0x29dab0);for(const _0x2aa056 of _0x975923[_0x260b2d(0x504)]??[])_0x447dfc['openVectorDatabase'](_0x2aa056);for(const _0x395617 of _0x975923[_0x260b2d(0x7db)]??[]){const _0x23d935=_0x294071(this[_0x260b2d(0x203)],_0x395617),_0x35b473=_0x46ba5a(),_0xeba113=this[_0x260b2d(0x31c)][_0x260b2d(0x1d4)]??this['options']['keyValueDatabaseConnector'];await _0x447dfc[_0x260b2d(0x48c)](_0x23d935,_0x35b473,_0xeba113),await _0x447dfc[_0x260b2d(0x264)](_0x395617);}}}[_0x4bc902(0x174)](_0x2eda35,_0x56e013){const _0x32d767=_0x4bc902;this[_0x32d767(0x96e)]['set'](_0x2eda35,_0x56e013),_0x56e013['on'](_0x32d767(0x76e),()=>{const _0x3f1e74=_0x32d767;_0x56e013[_0x3f1e74(0x363)](),this['clusters'][_0x3f1e74(0x24c)](_0x2eda35);});}static[_0x4bc902(0x54b)](_0x3d0608){const _0x5601c0=_0x4bc902;return void 0x0!==_0x3d0608[_0x5601c0(0x563)];}}return _0x192581;})())));function a0_0x4227(_0x50da0a,_0x1991b9){const _0x17c974=a0_0x17c9();return a0_0x4227=function(_0x422788,_0x5d8140){_0x422788=_0x422788-0xfe;let _0x4e27ea=_0x17c974[_0x422788];return _0x4e27ea;},a0_0x4227(_0x50da0a,_0x1991b9);}function a0_0x17c9(){const _0x4d51bf=['JobWorkerCreationFailed','query','authContext','getFunctions','initializeLoggingDatabase','sendStats','KeyValueDatabaseTransactionTableNotInitialized','@context.','publish','captureStream','GraphSearch','observer','audioContext','vector-database-missing-connector','features','event','\x20received\x20result:','CrewdleConnectionGroup','grammar','removeIncomingSubscription','DataChannel\x20is\x20not\x20initialized.','VectorDatabaseNameNotString','versions','GetContextResult','getSTVolatility','Job\x20Dispatcher\x20already\x20exists','LocalMediaStreamDoesNotExist','externalStorageConnections','detectVideoIssues','logServiceEvent','internalProcessJob','removeRemoteMediaStream','max','Boolean','user-update','Failed\x20to\x20get\x20file','getGraphDatabases','deleteTransactionsForTable','Cannot\x20publish\x20file:\x20','setUpgradeTimeout','Mistlet\x20capacity\x20report\x20not\x20set.','setReportCapacity','checkDeviceConfig','observe','PubSubTopicDoesNotExist','processServiceReport','isReconnecting','replaceTrack','connectionState','.ejs','Outgoing','Vector\x20database\x20creation\x20failed.','PubSub','crewdleSDKEnableLogging','ReceiverOnMessage','modelId','EntityExtractor','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','blocks','sentence-splitter','senders','onGatheringStateChange','lastCapacityReport','\x0a\x20===\x20Wait\x20Time:\x20','getTrack','api','initializeSystemTopic','addEdge','getHash','Missing\x20owner\x20node\x20or\x20rank','removeLocalMediaStream','writeFile','getSenderTotalBytes','registerSubscriber','FileDelete','logDataSent','orderByKey','Problem','Unsupported\x20job\x20type','openedTraces','writeBatch','setupRenderElement','FramePerSecond','ObjectStorage','getItem','handleUpdateMediaStream','externalStores','mediator','packetsSent','key-value-database-peak-not-found','Image','getGrammars','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','computeHash','getBufferedAmount','MediaStreamUnavailable','JobType','senderCurrentTimestamp','addCandidate','node-type-not-supported','clusters','Before\x20Synchronization','bandwidth.jitter','missing-incoming-connection','RemoteMediaStreamMissingProviderId','pathName','Bid','createMediaStreamDestination','.yml','handleSystemEvents','getModels','external-storage-connection-already-subscribed','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','checkExistingPendingFileContent','jobType','deleteRemoteNode','resolve','GetDate','processReport','Skill','Cannot\x20find\x20External\x20Storage\x20connection:\x20','random','clear','get','JobQueueService:\x20Running\x20job','urls','Node\x20type\x20is\x20invalid','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','dbKey','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','GraphDatabaseNameNotString','getPartsFromSubscription','expectedTransactions','removeOutgoingSubscription','Invalid\x20publisher.','nodes','KeyValueDatabaseNotOpen','results','KeyValueDatabaseStats','outgoingStreams','GenerativeAILabelConflict','UnsubscribeMediaStreamdiaStream','upgradeTimeout','failJob','Database\x20Opened','clearOncloseTimeout','processOutboundReports','Setting\x20context\x20for\x20agent\x20block','Failed\x20to\x20send\x20job\x20','onDisconnectHandler','generateClient','compileStats','\x20failed.','generative-ai-context-does-not-exist','timestamp','appsync-connect-fail','removeRemoteNode','all','Low','firestore','messages','sdkCreateToken','internalContext','us-east-1','setLocalRank','documentPath','removeNode','getTracks','\x20not\x20supported','processContentSynchronized','signaling','problemType','.hbs','.hs','loadEnabledChannels','key-value-database-table-not-found','SystemStats','publishSystemMessage','ObjectStoreInvalidPayload','Error\x20executing\x20code','limitToFirst','\x20to\x20generate\x20a\x20response.','registerDestination','shouldContinuePropagation','createElement','.info/serverTimeOffset','handleSubscriptionSystemEvents','checkAudioVolume','lastHeartbeat','listenerUnsubscribers','getPriority','batchQueue','KeyValueDatabase\x20-\x20Sync\x20completed','getName','ExternalStorageUpload','localMediaStreams','/resources/generative-ai-skill/items','handleJobAttribution','pendingSyncTransactions','load','peakHeights','getContext','.cpp','startTime','getPubSubTopics','Error\x20processing\x20retrieve','/resources/generative-ai-model/items','Missing\x20remote\x20node\x20or\x20rank','round','onConnectionStateChange','JobDispatcherInvalidJobType','ClosePubSubTopic','parseWorkflowBlocks','processList','local-stream-does-not-exist','chosenAnswers','createPendingFileWrite','scheduleTime','subscribe','size','.bat','clearSyncTimeout','ObjectStoreNotSynced','client','frameTime','syncKeyValueDatabase','download','graphService','rtt','setDoc','dataBucketIds','isValidMediaSubscriptionParams','docs','retry','/resources/generative-ai-collection/items','readyPromises','senderConnection','ObjectStore','problem','ScreenSharing','Invalid\x20workflow\x20block\x20type.','createAIJob','cachedRoot','endpointUrl','Method\x20not\x20supported','sendReject','__esModule','debounceReadyTimeout','objectStoreConnector','getLocalMediaStreams','topicLabel','getClosestNodes','closeTrace','RestartNeedMediaStream','ObjectStoreInvalidSyncMessage','now','Internal\x20error:\x20','setEncodingParameters','entity-extractor','content','Unexpected\x20output\x20type','.rkt','json','publishSyncCompleted','processTransactionsToComputeMMR','requestSubscription','closed','UnsubscribeMediaStream','getPeaks','graph-database-creation-failed','handleOptimizationConnectionSuccess','add','clearWaitSuccess','Search\x20connector\x20not\x20set','Generative\x20AI\x20context\x20job\x20failed.','RequestFile','canProvideResolution','.jsx','minResolutionScale','getSubscriptionLabel','maxBitrate','GenerativeAIContextInvalidPartialResult','trim','registeredListeners','Cannot\x20get\x20size\x20of\x20path:\x20','messagesReceived','dataUnsubscribers','\x20failed.\x20Retrying...','PartialResult','InvalidAccess','owner','storage','uid','addDoc','mode','sdk-internal-error:\x20','maxConnections','addMessage','responseTimeout','validateAccess','Receiving\x20\x27','KeyValueDatabaseDoesNotExist','.Total\x20pages\x20available:\x20','clearRestartTimeout','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','Chosen\x20answer','mediaStream','commitBatch','handleFileWrite','object-store-not-synced','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','Model\x20not\x20found:\x20','getSubscriptionInfo','Table\x20not\x20found','topics','vector-database-name-not-string','getSentences','count','ModelText','from','move','retryLimit','desc','framesEncoded','forEach','isFailedResponse','msalRefreshToken','ratePrompt','setupTrackEndedListeners','Database\x20not\x20open','job-worker-does-not-exist','updateLastTransactionId','tableUnsubscriber','logInitialMMR','leave','handleSubscriptionNeedMediaStream','key-value-database-creation-failed','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','messageType','handleNeedRestart','systemMessages','syncContent','Media','No\x20async\x20endpoint\x20URL','node','component','.py','connect','Completed','supports','openGenerativeAIContext','setTransformations','documentParserConnector','isWhereBetween','ExternalStorage','ObjectStorageUpload','closeTopic','cpu.time_per_frame','number','receiverUnsubscribers','checkAudioOutput','writeTransaction\x20-\x20transaction\x20already\x20exists','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','currentBytes','subscribeToJobs','update','getJob','Logging\x20not\x20enabled\x20for\x20channel\x20','isWhereValues','unregisterSystemSource','utf8','connectionTimeout','setStatus','debounceReady','bytesReceived','messageBuffer','connections','sendIceCandidates','offset','\x20after\x20','OptimizationConnectionSuccess','IntermediateOutput','minThreshold','nodeKey','receiverStreams','Buffered\x20chunks\x20are\x20too\x20large','setupStatsCollection','key-value-database-already-exists','jobQueue','cpu.cycle','retryCallback','payload','KeyValueDatabaseAlreadyExists','connectionStateListener','isFeatureSupported','getBitrate','syncedFileExists','canChooseAnswer','object','orchestrator-close','object-store-name-not-string','propagate','previousBytes','frameWidth','enabledChannels','Agent\x20output\x20is\x20not\x20a\x20string','generative-ai-worker-model-sync-error','checkWebGL','local-media-stream-track-fail','orchestrator','hashPeakHashes','configs','receiverCurrentTimestamp','publishFolder','ObjectStoreCannotWriteTransaction','distance','thread-','ObjectStoreAlreadySubscribed','16584048iAEvOq','PayloadAction','NodeTypeRequired','ObjectStoreNameNotString','handleRemediationSystemEvents','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','handleDisconnect','publishNodeLeave','setDurationTime','committed','JobQueueService:\x20Error\x20running\x20job','waitConnected','processJobStream','collectReceiversStats','open','timeoutValue','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','addCluster','\x20not\x20found.','subscriptionRequestsQueue','subscription-request-in-progress','params','set','JobWorkerDoesNotExist','CrewdleReceiverConnection\x20ontrack','unregisterCluster','addAudioTrack','parseWorkflowDocument','subscription-request-no-answer','handleSubscriptionUnsubscribeMediaStream','Node\x20already\x20exists.','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','getDataBucketIds','table','currentDistance','supported','key-value-database-index-not-found','createNewBatch','closeConnection','maxLayer','maxTokens','GenerativeAIRatingStatus','Invalid\x20query','ObjectStoreDoesNotExist','Wait','chooseAnswer','ExternalStorageNameNotString','priority','FolderMove','processContentAvailable\x20-\x20Peak\x20comparison:','\x20-\x20','Result','links','Job','KeyValueDatabaseSendTransactions','mute','GraphDatabase','VectorDatabaseMissingConnector','getIsLoaded','.groovy','return\x20this','issue','buffer','createOutgoingSubscription','headers','handleUnpublishMediaStream','key-value-database','internalDownloadDocument','No\x20parameters\x20provided','status','toLocaleString','type','Agent\x20block\x20is\x20missing\x20required\x20data','getReport','Could\x20not\x20open\x20trace','remoteId','addEventListener','unregisterSource','parse','Sender','setPriority','bufferedAmountLowThreshold','subscription','destination','debug','addProblem','splitParts','cost','globalObject','NodeNotAuthenticated','authService','notifyClusterNodeJoin','incrementVersion','evaluateBidsAndAttributeJob','totalNodes','ExternalStorageConnectorsMissing','Node\x20does\x20not\x20exist.','pubsub','Invalid\x20subscriber.','AudioVideoDelay','removeJobDispatcher','remoteNodes','removeEventListener','error','retryDelay','minConnections','cpu.av_delay','.ps1','endpointMethod','mmr','jobDispatchers','setInterval','receivers','loggingDatabaseConnector','Cannot\x20list\x20directory:\x20','match','addRemoteNode','length','Restart\x20NeedMediaStream','handleContentUnpublishMediaStream','Workflow\x20not\x20initialized','dataTopics','getConfigs','https://crewdle-sdk-default-rtdb.firebaseio.com','waitAsync','file-write','receiver','getMaxDistance','handleStatsSystemEvents','getDisplayName','receiverConnection','toStringTag','ExecuteCode','setSinkId','local-media-stream-no-audio-context','subtle','stopTracing','getEnabledChannels','loggingCycle','statsReporting','getStatus','ObjectStoreStats','joinCluster','relation','not-resolved','comparePeaks','indexes','handleChunkMessage','KeyValueDatabaseInvalidValue','verb','GetContextQuery','stop','getPeakNode','connection-not-connected','/transactions/','processBatch','validateLayout','cores','Sender\x20connection\x20is\x20not\x20initialized.','remote-stream-missing-provider-id','vendorId','addNode','resizeHandler','onloadeddata','No\x20connector\x20found\x20for\x20model','clearConnectionTimeout','text','debounceRebuildMMRWithTransaction','MissingSystemTopic','Search','logLevel','action','title','senderPreviousBytes','addIssue','handshakeCandidates','FileWrite','reduce','generative-ai-context-creation-failed','7426903iuLoaC','developers/','context','inputTokens','Resolution','PromptRating','TimePerFrame','true','.rb','System','database','handleNodeJoin','GraphDatabaseStats','getVideoTracks','getMinConnections','\x27\x20to\x20','getTotalBytes','getWorkflowExternalStorageConnections','GenerativeAIWorkerStats','Attribution','WebRTCBrowserPeerConnectionConnector','isAvailable','firebaseConfig','doc','checkAudioContext','JobWorker:\x20Handling\x20job\x20attribution','frameHeight','isMediaDestination','retrieveContext','publishLocalMediaStream','\x20must\x20be\x20a\x20valid\x20JSON\x20string','auth','446595WzJilt','totalDecodeTime','Remote\x20connection\x20already\x20exists.','getPacketsLostPerc','FileMove','function','contextOutputVariable','external-storage-upload','trackChanges','createJobDispatcher','chunks','Bitrate','Queued','stopConnection','handleDetectionSystemEvents','subscriptionRequestTimeouts','slice','Parameter\x20','events','endpoint','.conf','notifyClusterNodeUpdate','delete','handleContentSystemEvents','\x20does\x20not\x20exists','onTrack','subscribedTracks','Agent','isSync','processLocalReport','parentId','inactive','systemTopicUnsubscribe','AppSync\x20publish','.swift','\x20with\x20response:','sendBid','previousFrames','counter','getEstimatedTimestamp','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','operations','receiverPreviousTimestamp','wait','receiverPreviousBytes','VectorDatabaseStats','openGenerativeAIWorker','mmrRoot','RemoteConnectionExists','bufferEvent','unsubscribeTrackEndedListener','String','Database\x20does\x20not\x20exist','key-value-database-name-not-string','Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.','Node\x20type\x20is\x20required','Received\x20','internal-sdk-error','processInboundReport','limit','isInternalLoggingConnector','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','Reranker\x20block\x20is\x20missing\x20required\x20data','Job\x20service\x20creation\x20failed.','Local\x20MediaStream\x20already\x20exists','downloadDocument','object-store-invalid-payload','Default','TestPage','removeTrackCallback','getInternalStreamId','.cfg','reset','PeerConnection','startHeartbeat','history','AppSync\x20client\x20not\x20ready','.go','startLoggingCycle','childRemovedUnsubscriber','arrayBuffer','checkBackgrounds','queues','handleNodeSystemEvents','incomingTopic','connectorConstructor','commit','waitForArrayBufferSize','JobStream','engineType','timeReceiving','digest','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','contentManager','logDataReceived','setReceiverTimestamp','peer-connection','RequestAccepted','agent-skill','RequestFileSync','isIceCandidate','jobPhase','onDataChannel','trackEndedListeners','total','Handshake','sampleRate','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','filesSynced','ceil','JobDispatcherObserverNotFound','getEmail','tracks','getLastUpdated','removeSubscription','signInWithCustomToken','confirmSynchronization','objectStorageBuckets','getRemoteNode','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','NodeManager\x20-\x20NodeUpdate','lastUpdated','value','tableLayout','job-dispatcher-creation-failed','currentVersion','deleteFileChunks','saveToDisk','\x27\x20from\x20','Connection\x20not\x20connected.','heartbeatUnsubscriber','Upgrade','head','detectionManager','VectorDatabase','disableIntervalHack','recipients','version','getBuffer','createVectorDatabase','KeyValueDatabaseCreationFailed','external-storage','chunk-splitter','Rejected','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','send\x20error\x20on\x20','publishUserUpdate','senderCurrentBytes','encode','subscribeToLocalContent','getSettings','connected','PubSubTopicStats','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','WorkflowTrace','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','canAddCandidates','outbound-rtp','AppSync\x20subscribe','bitrate','models','autoplay','clientWidth','removeJobWorker','checkWebRTC','Cannot\x20publish\x20payload:\x20','getLocalNode','chunk','connecting','external-storage-connection-already-exists','.j2','orderBy','getRemoteId','object-store-not-in-sync','syncPendingFiles','Failed\x20to\x20commit\x20batch\x20after\x20retries:','.clj','test-page','CustomSkill','removeRemoteStreamSubscription','getResolutionScale','appsync-close','Downgrade','GenerativeAIContextJobAlreadyConsumed','syncFolder','unregisterSystemPublisher','contentType','key-value-database-transaction-value-not-set','join-cluster','clientStream','bufferedEvents','46xeJDxZ','Generative\x20AI\x20context\x20job\x20timeout.','Error\x20reading\x20file\x20chunk\x20after\x20','amd','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','\x27\x20is\x20not\x20ready','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','sender','Invalid\x20node\x20type','subject','statsReport','DeviceConfig','dt_volatility','abs','fromEntries','getProviderId','Invalid\x20job\x20worker\x20type.','JobWorker:\x20Error\x20processing\x20job','Local\x20stream\x20does\x20not\x20exist.','rejectReady','Stream\x20already\x20exists','KeyValueDatabaseContentSynchronized','object-store-stream-does-not-exist','.sh','Error\x20closing\x20writable\x20stream','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','receiverBitrate','setProviderId','eventEmitter','web-scraper','User\x20not\x20signed\x20in','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','Setting\x20context\x20for\x20agent\x20skill\x20block','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','Online','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','code','getTableConnector','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','options','previousTimestamp','GenerativeAIWorker:\x20Opening','.json','getSenderBitrate','Subscription\x20request\x20failed.','addVideoTrack','RemoteMediaStreamDoesNotExist','deletePendingFile','Error\x20resolving\x20readyPromises:','Recording','pipe','getRank','query-helper-invalid-argument','GraphDatabaseMissingConnector','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','registerRemoteNode','graphDatabaseConnector','Internal\x20SDK\x20Error:\x20','SHA-256','removeContent','transactionQueue','.tpl','hasRemoteNode','\x20seconds','transaction','NodeUpdate','processRemoteInboundReport','Database\x20already\x20exists','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','crewdle-sdk-logging-','removeKeyValueDatabase','removePubSubTopic','Hub','evaluateBids','addBatchOperation','NodeAlreadyExist','AudioContext\x20is\x20not\x20available','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','resolutionScale','.tsx','retrieveBlocks','VectorSearch','direction','isPartialResultResponse','messageUnsubscriber','getWorkflowModels','remoteUnsubscriber','logSupport','endsWith','tableObserver','getAgents','subscription-request-does-not-exist','string','hasBufferedData','DataStream\x20onMessage','object-store-invalid-path','getTotalNodes','dataStores','job-dispatcher-job-exists','Warning','publishNodeJoin','Error\x20stringifying\x20object','getMilliseconds','invalid-publisher','subscribeToExternalContent','notifyCluster','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','isJobRequest','getConnection','.xml','off','isChannelEnabled','InvalidSubscriber','.kt','getAncestorIds','processReceiverReport','getTrackFromParam','/capacities','kind','ObjectStore\x20not\x20found','Answer','vectorDatabaseConnector','Invalid\x20job\x20service\x20payload.','Invalid\x20table\x20name\x20\x27','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','21a9d78dee97f487b','functionsRegion','Missing\x20graph\x20database\x20connector','Local\x20node\x20rank\x20is\x20not\x20set','crewdleSDKDisableLogging','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','ccc','handlePeerConnectionSystemEvents','rebuildMMR','retryQueue','setPendingFileSyncingPayload','168952AkxAxr','isReady','web-scraper-raw','systemMessagesReceived','Connection','setParams','Disconnected','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','SenderPeerConnection\x20send','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','registerPublisher','addPendingHandshakeCandidate','Knowledge','addReservedTables','objectStoreId','Index','oidc','78BbFfna','inputType','signalingState','\x20received\x20responses:','getRemoteConnections','jobWorkers','audioSource','listenerUnsubscriber','fetchContentFromUrl','signalingServer','GraphDatabaseCreationFailed','drawImage','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','maxThreshold','getSubscribedTracks','job-dispatcher-observer-not-found','publishSyncCompletedAfterWrites','Logging\x20trace','Cannot\x20write\x20transaction.','Add','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','FinalOutput','graph-database','Get','data-collection','GenerativeAIWorkerMissingConnector','ConnectionState','Folder','clusterEventEmitter','openJobWorker','openVectorDatabase','startIndex','nodeUpdate','.mustache','clearWaitAnswer','openGraphDatabase','closeSubscription','system','Processing\x20agent\x20block:\x20','handleObjectDelete','No\x20context\x20variables\x20set','112wOUYSA','initializeApp','Setting\x20context\x20for\x20answer\x20block','pendingFilesSyncing',':\x20Object\x20store\x20is\x20not\x20in\x20sync','isBidResponse','stream','1248068LwVdDt','sync','restartHandshake','Error\x20fetching\x20context','loadLocalContent','crewdle-sdk-stg.firebaseapp.com','Subject','notifyObjectStoreOfNodeLeave','index','internalId','High','GenerativeAIWorkerModelSyncError','clearHeartbeat','senderBitrate','getTime','setVendorId','getNextTargetRank','.crewdle-layout','handleSubscribeMediaStream','setConnectionType','cluster-disconnect','taskType','\x20check\x20failed','updateDebounce','discover','shouldProcessTransaction','getReceiverBitrate','\x20already\x20exists','getEntities','once','transactions','ExternalStorageInvalidPath','answererId','outgoingManager','unsubscribeHandler','LocalMediaStreamAlreadyExists','graph-database-missing-connector','topic','processSenderReport','authenticateUser','Stream\x20does\x20not\x20exist','NeedRestart','handleLocalTrackFailure','signOut','some','key-value-database-invalid-value','Key-value\x20database\x20creation\x20failed.','logPropagateSystemEvent','cleanOldSubscription','inbound-rtp','prompts','List','removeRemoteConnection','request-file','maxOutgoingSubscriptions','appendTransactionAndUpdateHashMap','logStorage','durationTime','Jobs','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','readyDebounce','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','compareTransactions','cluster-already-joined','Missing\x20vector\x20database\x20connector','ConnectionNotinitialized','maps','publishLocalDynamicMediaStream','internalRatePrompt','rate','externalStorages','mistlet-capacity-report-not-set','GraphDatabaseDoesNotExist','objectToArrayBuffer','logBatch','listChanges','removeVectorDatabase','processReceivedTransactions','Hash\x20computation\x20failed,\x20retrying...','updateDebounceTimeout','isOpened','streams','/resources/agent/items/','onConfigurationChange','pool','object-storage','I\x20am\x20done','Everyone\x20','getTransactionFromTableWriteEvent','substring','emit','getDoc','toLowerCase','track','.crewdle-transactions','setScheduleTime','ContentType','enabled','Received\x20event\x20on\x20cluster','.gguf','JobWorker:\x20Sending\x20job\x20bid','runJobQueue','commitType','generative-ai-context-job-missing-thread-id','currentFrames','searchApiKey','toLocaleDateString','collectTransactionsFromNode','origin','configure','destroy','outgoing-stream-no-topic','canRestartHandshake','.\x20Confirmation?\x20','blockId','commitLevel','VectorDatabaseCreationFailed','registerSource','Key-value\x20database\x20table\x20does\x20not\x20exist.','Workflow','values','PubSubTopic\x20onMessage','pub-sub-topic-already-exists','CannotProvideMediaStream','threshold','setupConnectionEvents','createKeyValueDatabase','1.0.5','syncTransactionsWritten','KeyValueDatabaseSyncRequired','handshakeDebounce','getRemoteMediaStream','connectAgent','keyValueDatabaseConnector','createGraphDatabase','handleOffer','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','getDTVolatility','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','detectLocalIssues','setRemoteConnections','hash','crewdle-sdk-stg.appspot.com','assign','unregisterPublisherListener','answers','instance','CloseGraphDatabase','workflow','httpsCallable','RequestFileWrite','JobDispatcherCreationFailed','KeyValueDatabaseIndexNotFound','label','vector-database-creation-failed','getAncestors','webgl','generativeAIWorkerConnectors','getTransactions','fetchUrl','getVectorDatabase','ExternalStorageConnectionAlreadySubscribed','Core','getShareableStreamId','data','defineProperty','syncResolve','buildInitialMMR','GenerativeAIWorker:\x20Models','senderTimeProcessing','.ini','addConnection','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','SubscriptionRequestDoesNotExist','ChunkSplitter','exports','handleTransactionPayload','job-dispatcher-does-not-exist','commitTrace','setOnTableWriteHandler','RoundTripTime','displayName','complete','getBid','tableName','MistletCapacityReportNotSet','targetId','decodeJWT','shift','lastClockUpdate','RemoteRemove','MissingRemoteConnection','video','invalid-subscription','framerate','successNotified','splice','openObjectStoreBucket','Additional\x20context:\x0a','/resources/generative-ai-agent/items','GenerativeAIContextStats','DatabaseEvent','node-invalid-type','onHandshakeStateChange','Issue\x20detected:\x20','openKeyValueDatabase','isNeedRestart','Restart','Offer','.pug','path','.liquid','Cannot\x20unpublish\x20object:\x20','LoadSkillFunction','unshift','checkMediaStream','setRemoteNode','destinationIds','queueLength','next','onProviderChange','createBufferSource','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','_ready','unsubscribeListener','arrayBufferToObject','Job\x20with\x20id\x20','onChildRemoved','Incoming','handleOutgoingSystemEvents','WordSplitter','secheduleTime','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','Code\x20is\x20required','handleOnMessage','recomputeRoot','Generative\x20AI\x20context\x20creation\x20failed.','Internal\x20event\x20\x27','Sync\x20completed','setTimestamp','File\x20sending\x20interrupted','bind','getDataLogged','\x0a\x20===\x20Total\x20Time:\x20','key-value-database-table-does-not-exist','jitter','jobs','getVectorDatabases','getRemoteMediaStreams','removeGraphDatabase','temperature','Remote\x20stream\x20does\x20not\x20exist.','evaluatePartialJob','isLoaded','setOnDisconnectHandler','Error\x20committing\x20batch:','/resources/generative-ai-grammar/items','Node','deployedVersion','Support:\x20current\x20config','Job\x20Worker\x20does\x20not\x20exist','Request','subscriptions','ConnectionGroup','setOnMessageHandler','ClusterAlreadyJoined','reportMetric','isPromiseResolved','notifyJoin','ConnectionNotConnected','Connection\x20not\x20initialized.','\x20for\x20','-leave','retryQueues','getJobDispatchers','connection-state','IncomingSubscription','featureSupport','getRemoteNodes','1:420235181083:web:4eff6062bd845cb0748cbe','insert','NodeConnectionsUpdate','onMessage','warn','CloseKeyValueDatabase','rating','Prompt','findNewMediaSubscription','Missing\x20answerer\x20id\x20on\x20request\x20answer','senderStreams','content-unpublish-media','connectionPool','maxBpp','bufferedAmount','Initial\x20MMR\x20built\x20with','WebRTC','.ipynb','maxDistance','mediaTopics','Update','take','setLoggingConnectors','source','sendAction','getDatabase','Memory\x20Usage\x20at\x20','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','NodeDoesNotExist','PeerConnectionInvalidDestination','issues','modelStore','Pool','asObservable','onremovetrack','key-value-database-not-open','system-stats','debounceStats','senderTotalMessages','remote-inbound-rtp','retryCount','runTransaction','Execute\x20the\x20agent\x20','file','queryOrPrompt','invalid-subscriber','vectorDatabases','Invalid\x20data\x20event.','maxDepth','region','getLayout','Node\x20not\x20authenticated','getRoot','lastRemediations','clusterKey','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','estimatedPlayoutTimestamp','getDataCollections','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','SyncComplete','isSyncing','\x0a\x0a`Executing\x20agent\x20','getTable','traceLevel','Early\x20return','knowledge','providerId','hasTracks','key-value-database-invalid-query','KeyValueDatabaseNameNotString','removeExternalStorageConnection','Cannot\x20get\x20file:\x20','SubscriptionRequestNoAnswer','Early\x20return:\x20','agentId','KeyValueDatabaseTransactionValueNotSet','streamId','audioDestination','getConnectionDestinations','disconnectCallback','peer-connection-invalid-destination','.vb','engine','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','en-US','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','StorageEventType','CanProvideMediaStream','removeObjectStore','openJobDispatcher','indexOf','createIncomingSubscription','addTrack','\x20received\x20partial\x20result:','success','lastProcessRank','removeConnection','Job\x20service\x20observer\x20not\x20found.','generative-ai-context-job-failed','crewdle-sdk','MediaStream','element','peaks','moveObject','where','description','joinedAt','sendWithRetry','Missing\x20external\x20storage\x20connector','handleContentCloseMediaStream','messageCallback','batchSize',',\x20Transactions:\x20','width','\x20were\x20ready\x20in','.tcl','active','isInternalSDKConfigs','key-value-database-table-name-reserved','mediaDevices','Invalid\x20key\x20\x27','dispatchEvent','appsync-disconnect','getRoundTripTime','reject','providerListener','canvas','GenerativeAIContextJobTimeout','checksum','getObjectStoreBuckets','startTracing','\x20must\x20be\x20a\x20boolean','unregisterDestination','packets','timeSending','handleIceCandidates','transactionService','nodeManager','waitAnswer','JobWorker:\x20Received\x20job\x20attribution','UpdateMediaStream','iceServers','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','trace','firebase-disconnect','checkMediaRecording','topK','createAnswer','receiverTimeProcessing','manageOptimization','writeTransaction','FolderDelete','OPFSObjectStoreConnector','/logs','/transactions','SenderPeerConnection.send','word-splitter','PubSubTopicAlreadyExists','val','snippet','catch','sendFile','NodeTypeNotSupported','ConnectionNoRetryQueue','getAuth','Channel\x20\x27','openPubSubTopic','readyResolve','DataStream','jobBids','Move','externalStorageConnectionIds','G-F7W8KXRKQB','JobContext','OutgoingSubscription','_isReady','outputType','Events','getAudioTracks','applyRemediation','Cannot\x20unpublish\x20object\x20at\x20','waitSuccess','MediaStream\x20feature\x20not\x20enabled','getDistance','createOffer','GenerativeAIWorker:\x20Opened','JobDispatcherJobExists','onNodeUpdate','getSize','detectAudioIssues','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','ExternalStorageStats','detectProblems','onBufferedAmountLow','getConnectionType','Time','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','request-file-write','ownerId','fileSendingMap','FPS','skipEncryption','LocalMediaStreamTrackFail','searchConnector','CPUCycle','setTimeout','ExternalStorageConnectionAlreadyExists','PublishMediaStream','AudioVolume','graph-database-name-not-string','content-publish-media','transactionHashMap','1.0.5.0','getLocalId','STVolatility','setupResizeHandler','Error\x20closing\x20trace','appsync-statechange','end','generative-ai-worker-missing-connector','push','trackCallback','ENOENT','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','DEBUG\x20-\x20','frames','keyPath','messagesSent','skill','buildQuery','Error\x20encountered\x20while\x20opening\x20database','Agent\x20group\x20not\x20found','discoveryService','FileStatus','handleNodeLeave','Delete','Stats','getContent','performCalculation','getJobs','toFixed','setInternalId','Remediation','getKeyValueDatabases','appsync-no-destination','calculateSize','getIdToken','All','JobWorker:\x20Sending\x20job\x20partial\x20result','loadFromDisk','pub-sub-topic-already-subscribed','ExecuteAgent','vector-database-does-not-exist','logRaw','subscriptionManager','generativeAIWorkers','KeyValueDatabaseRequestTransactionsValue','time_per_frame','queries','queryParameters','invalid-access','toString','createRemoteNode','maxFps','processRank','srcObject','Medium','@root','log','VectorDatabaseDoesNotExist','lastTransactionId','Key-value\x20database\x20peak\x20not\x20found.','appendTransaction','crewdle-sdk.firebaseapp.com','serverTimestamp','isComputingMMR','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','GraphDatabase\x20not\x20found','maxResolution','processReports','relevance','renderElement','right','getLabel','loggingDb','Invalid\x20layout:\x20','reranker','boolean','iceConnectionState\x20failed','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','gain','has','unregisterSubscriber','handleFileRequestAnswer','listenUnsubscriber','Info','removeTrack','updateLastUpdated','setEmail','NodeJoin','DTVolatility','Subscription','custom-skill','NeedMediaStream','KeyValueDatabaseInvalidLayout','GenerativeAIModelInputType','remediationManager','undefined','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','handleFileRequest','WorkflowDoesNotExist','Disconnect','list','InvalidSubscription','\x20attributed\x20to\x20','Debug','candidate','getAvailableTrackKinds','generative-ai-context-invalid-partial-result','ReceiverPeerConnection.onMessage','aws','nodeId','relations','Jitter','Model','lastExecuted','bytesSent','registerSystemSource','clockSkew','collection','\x20transactions\x20from\x20node\x20','receiverTotalMessages','KeyValueDatabase','Rating','Pending','.ex','onCandidate','MediaStreamPriority','ExecuteCustomSkill','Loaded\x20from\x20disk','tokens','handleContentUnsubscribeMediaStream','disconnect','createObjectStoreBucket','objectRequests','Count','executeJavascriptCodeSnippet','setIsLoaded','420235181083','debounceAppendLog','startBidResponseHandling','job-worker-already-exists','pub-sub-topic-name-not-string','handleAnswer','getShareableStream','token','tail','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','publishMove','bid','.exs','.vue','task','AgentSkill','accumulated','initialize','createSenderConnection','groupId','timesCalled','mergeParts','startsWith','Setting\x20context\x20for\x20custom\x20skill\x20block','NodeManager\x20-\x20PublishNodeLeave','Invalid\x20data\x20channel.','crewdle-sdk-stg','.info/connected','/stats','ObjectStoreAlreadyExists','cpu.fps','parseDataCollectionBlocks','getCurrentVersion','bodyParameters','getCapacityReport','batchTimeout','handleSubscriptionRestartNeedMediaStream','\x20already\x20exists.','getJobObservable','json_arr','SystemTopic\x20publish','loop','getLocalMediaStream','getExternalStorageConnection','connection-buffer-not-empty','DataChannel\x20buffer\x20is\x20full.','.js','videoWidth','calculateArrayBufferSize','getCoresFromCapacityReport','getWorkflowObjectStorageBuckets','isWhereValue','bufferedChunks','onNodeDisconnect','Error','\x20ms\x0a','modelsBucketId','split','fps','onUnregisterPublisher','forceLog','ObjectStoreNotInSync','start','CloseExternalStorageConnection','contentRect','SubscriptionRequestFailed','FetchUrl','Context','NodeType','Invalid\x20object\x20store\x20state.','transactionsToSync','authenticateAgent','.dart','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','getGenerativeAIContexts','systemTopic','Invalid\x20object\x20store\x20sync\x20message.','GenerativeAIWorkerAlreadyExists','JobDispatcherDoesNotExist','discoveryUnsubscriber','outgoingTopic','transformations','ObjectStoreInvalidState','pendingFilesTransactions','Job\x20service\x20job\x20not\x20found.','contentSize','handleSubscriptionSubscribeMediaStream','runAgent','getId','ExternalStorageConnection\x20not\x20found','Valid\x20layout','processPendingHandshakeCandidates','getEngineType','ingestBlocks','Success','keyValueDatabases','requestSubscriptionAction','.jinja','Offline','signInWithCredential','join','CloseJobDispatcher','ConnectionBufferNotEmpty','`\x0a\x0a','Invalid\x20params','GenerativeAIContextCreationFailed','findIndex','contentMediator','clearSubscriptionRequestTimeout','PubSub\x20already\x20exists','Error\x20executing\x20agent','listener','clusterId','text/','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','Signaling','RemoteMediaStreamInvalidSubscriptionParams','manageBufferedChunks','timePerFrame','Key-Value\x20Database\x20-\x20Sync\x20Completed','hashTransaction','connector','rank','isResultResponse','handleContentSubscribeMediaStream','sendRequest','minRelevance','cancel','KeyValueDatabasePeakNotFound','append','warning','Audio','Generative\x20AI\x20context\x20job\x20already\x20consumed.','nodesConnected','detail','sendFileRequestPayload','setSenderTimestamp','handleContentRemoteMediaStreamTrackFail','onDisconnect','createGain','logMMRRebuild','close','listen','notifyObjectStoreOfNodeJoin','getCurrentMaxLayer','text/plain','getFirestore','validateValue','graphql','interval','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','No\x20connections\x20available\x20to\x20send\x20message','time','Optimization','sendPeakTransactions','unpublish','/resources/generative-ai-workflow/items/','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','getChannelData','/developers/','publishSyncCompletedAfterWrites\x20-\x20','handleSubscriptionProvideMediaStream','created','hashNodes','Error\x20initializing\x20logging\x20database\x20with\x20\x27','threadId','node-not-authenticated','Connected','\x0a\x20===\x20Total\x20Nodes:','play','output','AppSync\x20connection\x20not\x20ready','handleUnsubscribeMediaStream','63962wsQayv','VectorDatabaseAlreadyExists','deleteObject','\x20must\x20be\x20a\x20string','missing-system-topic','Problem\x20detected:\x20','KeyValueDatabaseContentAvailable','User','syncTransactions','unregisterPublisher','local-media-stream-already-exists','email','Invalid\x20subscription.','trackKinds','2-digit','Apply\x20remediation','ref','st_volatility','every','debounceProcessRank','GenerativeAIContextJobFailed','filter','chunksReceived','addBidResponse','workflow-does-not-exist','getMediaStream','vector-database','LoadKnowledgeFunction','.jl','parameters','Receiver','state','.cs','loadExternalContent','AI\x20Worker\x20already\x20exists','entities','Support','Support:\x20','Reranker','remove','answer','debugEnabled','ModelVector','handleSuccess','FeatureNotEnabled','eventListener','\x27\x20dabatase\x20id.','openTrace','packetsReceived','connectionManager','removeTrackListeners','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','application/octet-stream','timeoutCallback','Error\x20processing\x20ingest','externalStorageConnectors','asyncEndpointMethod','Operations:','previous','createRemoteMediaStream','Node\x20\x27','external-storage-connectors-missing','createLocalMediaStream','ObjectKind','getAudioVideoDelay','ready','Invalid\x20value.\x20Property\x20\x27','CloseMediaStream','capacityReporter','addRemoteConnection','PubSubTopicNameNotString','getNumberOutgoingSubscriptions','KeyValueDatabaseTableNameReserved','sort','Waiting','transactionsToAppend','write','\x20deleted.','optimizationLayers','external-storage-invalid-path','ObjectStoreInvalidPath','.djt','find','removeSubscriptionsForNode','call','File','remainingTracks','root\x20hash:\x20','IDBDatabaseConnector','isJobAttribution','Invalid\x20index\x20in\x20table\x20\x27','createConstantSource','\x27\x20in\x20layout','loggingConnectors','bucketId','RemoteMediaStreamTrackFail','Received\x20content\x20available\x20from\x20node','getGenerativeAIWorkers','changesUnsubscriber','CloseObjectStoreBucket','page','getGraphDatabase','answerJoin','overlap','Object\x20store\x20not\x20synced.','getCurrentDate','StreamReport','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','availableTrackKinds','statsManager','channel','receiver-on-message','getSimilarity','connectionGroup','Model\x20store\x20not\x20initialized','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','createTopic','Received\x20track','WebScraperRaw','logging-db-','setupStatsReporting','Model\x20not\x20found','createDataChannel','getMediaSubscription','registerSystemPublisher','callback','search','handleConnectionSuccess','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','currentTimestamp','document-parser','debounceLogTimeout','CloseVectorDatabase','isNodeReady','publishTransaction','disconnected','user','Method\x20not\x20implemented.','job-dispatcher-invalid-job-type','openExternalStorageConnection','CONNECTION_STATE_CHANGE','padStart','processJob','cluster-leave','setRank','exists','isEqual','processTransactionPayload','JobStatus','Ingest','ranges','incomingManager','eventTarget','Prompt\x20is\x20required','AudioOutput','RemoteRemediation','statsCollection','ExternalStorageConnectionDoesNotExist','mediaUnsubscribers','sequence','removeListener','receiverCurrentBytes','CloseJobWorker','Error\x20opening\x20trace','PubSubTopicAlreadySubscribed','WorkflowInvalidBlockType','JobDispatcherJobNotFound','.scala','isRunning','propn','writes','collectSendersStats','Failed','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','setBytes','RelationExtractor','GenerativeAIContextAlreadyExists','pendingHandshakeCandidates','connection-not-initialized','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','message','resolveReady','stats','JobWorkerInvalidType','object-store-invalid-state','getQuery','getConnections','searchInDataCollection','getObjectStoreBucket','SenderSendMessage','PromptFunctionParamsType','reportCapacity','url','job-dispatcher-job-not-found','JobDispatcherInvalidPayload','\x20attempts:','request-file-sync','default','clientHeight','InvalidPublisher','data-stream','stun:','getOrResetPendingFileTimeout','GenerativeAIContext','key','batch','getDocs','createMediaStreamSource','CrewdleConnection\x20handlePeerConnectionSystemEvents','evaluateProccessedJob','1791351fILAYU','Job\x20','ancestors','setSubscriptionRequestTimeout','accumulateResult','registerCluster','subscriptionRequests','JobWorkerAlreadyExists','10mVfkqA','createPubSubTopic','Error\x20searching','Accepted','errorDetails','pow','google','sdkValidateAccess','onValue','asc','isOffer','.php','getKeyValueDatabase','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','createConnection','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','Error\x20fetching\x20URL','AITrace','getConnectionGroup','min','debounceRebuildMMR','detectStreamIssues','\x0aAdditional\x20data:\x20','enumerateDevices','GraphDatabaseAlreadyExists','keys','handleRemoteTrackFailure','graphDatabases','accessToken','Error\x20loading\x20external\x20content','hasMessage','setItem','handleFileSync','height','generativeAIContexts','\x20MB','Base\x20Peer\x20Connection','InvalidDataChannel','Partial','getSkills','generative-ai-worker-already-exists','vector','createGenerativeAIContext','\x20writes\x20from\x20','ner','not-in','resetConnection','DataCollection','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','uuid','logEvent','startNoThrottlingHack','OutgoingMediaStreamNoTopic','rootComputationPromise','feedback','framesDecoded','model','resolution','/nodes','sendChunked','includes','getApp','prompt','stopNoThrottlingHack','handleFolderCreate','layout','handlePublishMediaStream','maxFramerate','createSubscription','clusters/','connectionConstructor','currentBatch','jobObservers','generative-ai-worker-creation-failed','agent-join','sourceVideo','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','pubSubTopics','ended','/objectstores/','Code','setDisplayName','totalEncodeTime','handleSubscriptionMediaStreamUnavailable','createJob','stringify','unsubscribe','getExternalStorageConnections','.erb','job-dispatcher-invalid-payload','internal','NodeManager\x20-\x20ConnectionSuccess','/nodes/','Query\x20is\x20required','processDataChannelReport','\x20-\x20Sending\x20propagation\x20(','handleError','InternalSDKError','processInboundReports','transactionIds','consumeBufferedEvents','setCurrentVersion','getInstance','nlpLibraryConnector','findNextNodeId','createBuffer','Key-value\x20database\x20transaction\x20value\x20not\x20set.','agent-update','gpu','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','getOwnerId','WebScraper','KeyValueDatabaseTableNotFound','setupListeners','RemoteAdd','Stats:\x20report','byteLength','\x0a\x0a`Retrieving\x20context`\x0a\x0a','\x20new\x20transactions','sendTransactionsValue','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Internal\x20SDK\x20error:\x20',',\x20Total\x20Nodes:','Cluster','publishFile','Backgrounds','roundTripTime','isSubscribed','packetsLost','getWorkflow','getUserMedia','Data','searchOnGoogle','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','vector-database-already-exists','onRemoveTrack','addContent','dataChannel','isMediaSource','JobWorker:\x20Sending\x20job\x20result','syncTimeout','pop','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','Connection\x20does\x20not\x20exist','handleCloseContent','request','FolderCreate','floor','joinedClusters','Start\x20Ingestion','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','KeyValueDatabase\x20not\x20found','Text','getOutgoingOptimizationConnections','Error\x20writing\x20chunk\x20to\x20stream','collectStats','jobId','oncloseTimeout','KeyValueDatabaseInvalidQuery','\x0a\x20===\x20Synchronization\x20Time:\x20','transactionTable','resume','key-value-database-transaction-table-not-initialized','app','NodeManager\x20-\x20NodeLeave','codes','Graph\x20database\x20creation\x20failed.','media-stream','agentConfig','Vector','ConnectionInvalidDataEvent','asyncHeaders','getReceiverTotalBytes','Object\x20store\x20is\x20not\x20in\x20sync','createGenerativeAIWorker','\x20answer','trackListeners','handleContentUpdateMediaStream','WebGL','missing-datachannel','sourceId','QueryBuilderInvalidArgument','updatePropagationProperties','Error\x20retrieving\x20context','generative-ai-label-conflict','::￿','firebaseUnsubscriber','getSupportedContentTypes','KeyValueDatabaseRequestPeakTransactions','generative-ai-context-job-already-consumed','DataStream\x20send','connectionType','subscription-request-failed','agent','getResolution','Llamacpp','connection','remediation','entries','restartTimeout','node-already-exist','remoteConnections','objectStores','relation-extractor','tables','checkScreenSharing','then','processPendingSyncTransactions','Content','instructions','Workflow\x20does\x20not\x20exist.','graph-database-already-exists','Attempt\x20','SubscribeMediaStream','failed','send','generative-ai','getContentType','handleMissingSenders','processOutboundReport','asyncEndpointUrl','NodeInvalidType','waitSendBuffer','createExternalStorageConnection','connection-invalid-data-event','crewdleSDKLoggingChannels','createBatch','.sql','name','handshakeState','localId','msalGetAccessToken','\x20to\x20send\x20dispatcherJob\x20','From\x20','map','outputTokens','handleNodeUpdate','attributes','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','Receiver\x20connection\x20is\x20not\x20initialized.','reads','handleHandshake','.handlebars','absolutePathName','support','logger','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','concat','job-worker-creation-failed','processContentAvailable','1:519415702791:web:5dd39042f881cfde3251a2','updated','Transaction','upgrade','NodeLeave','DocumentParser','JobWorker:\x20Tracing\x20not\x20implemented','Retrieve','peerConnectionConnector','Missing\x20transaction\x20id','JobWorker:\x20Sending\x20job\x20reject','request-accepted','.erl','Unknown\x20skill\x20type','between','clearUpgradeTimeout','logs','onClose','audio','GenerativeAIModelOutputType','getInternalTrackParams','key-value-database-invalid-layout','GenerativeAIContextDoesNotExist','InitialPrompt','GenerativeAIContextJobMissingThreadId','localNode','isConnected','Detection','ObjectStorageBucket','handleProblem','messageListeners','firstValueFrom','contentRequestSent','AudioContext','RemoteMediaStreamAlreadyExists','statusText','SentenceSplitter','sourceUrl','.rs','hasOwnProperty','unregisterRemoteNode','vectors','getModel','Job\x20worker\x20creation\x20failed.','combinePeaks','senderPreviousTimestamp','isProduction','Connection\x20already\x20exists','authNode','instantiateTransactionTable','handleObjectMove','VectorDatabase\x20not\x20found','remoteMediaStreams','URL\x20is\x20required','functions','completeSync','UnpublishMediaStream','nextNodeId','createReceiverConnection','createFolder','pendingFilesRename','SHA-1','0\x20B','Node\x20is\x20not\x20an\x20agent','SearchGoogle','generative-ai-context-job-timeout','videoHeight','/transactions/lastTransaction','newPath','KeyValueDatabaseTableDoesNotExist','internalProcessJobStream','.ts','isArray','replace','createLocalDynamicMediaStream','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','getMaxConnections','result','fileChunks','pubsubTopics','handleNoAnswer','remote-connection-exists','LocalReport','Remove','handleRequestPayload','GenerativeAIWorkerCreationFailed','JobDispatcherAlreadyExists'];a0_0x17c9=function(){return _0x4d51bf;};return a0_0x17c9();}