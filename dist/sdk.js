function a0_0x1667(){const _0x7de66a=['nlpLibraryConnector','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','Key-value\x20database\x20transaction\x20value\x20not\x20set.','commitLevel','getHash','removeTopic','vendorId','queryParameters','getRemoteNode','getModel','Knowledge','isMediaDestination','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','node-already-exist','Syncing','optimizationLayers','clientStream','Database\x20already\x20exists','mute','removeExternalStorageConnection','object-store-not-synced','processReports','requestSubscriptionAction','getSubscriptionLabel','writeTransaction\x20-\x20transaction\x20already\x20exists','reranker','.vue','openGenerativeAIWorker','currentVersion','crewdle-sdk','processContentSynchronized','minRelevance','getBitrate','Execute\x20the\x20agent\x20','type','subscriptionRequestTimeouts','remoteMediaStreams','authenticateAgent','answerJoin','getApp','getTrack','functions','propagate','Everyone\x20','Error\x20executing\x20code','DataStream\x20send','handleDetectionSystemEvents','\x27\x20reserved','accumulateResult','resolve','dataUnsubscribers','outgoing-stream-no-topic','connection-not-initialized','push','mediaUnsubscribers','generateClient','.tpl','JobStream','\x20finalized.','subscribedTracks','KeyValueDatabaseIndexNotFound','Subscription','history','subscribe','getShareableStream','detectStreamIssues','onConnectionStateChange','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','NodeManager\x20-\x20NodeUpdate','docs','openGenerativeAIContext','getEngineType','jobDispatchers','InvalidDataChannel','startIndex','getCurrentMaxLayer','maxConnections','\x0a\x0a`Retrieving\x20context`\x0a\x0a','Failed\x20to\x20get\x20file','\x0a\x0a`Getting\x20current\x20date\x20and\x20time`\x0a\x0a','onGatheringStateChange','prompt','Error\x20during\x20MMR\x20rebuild\x20logging:','jobObservers','openExternalStorageConnection','detectionManager','NeedRestart','getExternalStorageConnections','readyDebounce','ChunkSplitter','notifyJoin','key-value-database-already-exists','\x20transactions\x20from\x20node\x20','GraphDatabaseCreationFailed','enabled','channel','clusterKey','.exs','Logger.getInstance','event','timeSending','updateLastUpdated','retryQueue','minThreshold','receiverTotalMessages','findNextNodeId','getSimilarity','addDoc','KeyValueDatabaseRequestPeakTransactions','map','node-not-authenticated','.js','receiverStreams','includes','removeJobWorker','open','rejectReady','Error\x20executing\x20agent','statusText','getAvailableTrackKinds','crewdle-sdk-stg.appspot.com','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','kind','autoplay','generativeAIWorkers','/stats','filesSynced','Search\x20in\x20data\x20collection\x20','messagesReceived','index','getEstimatedTimestamp','PubSubTopicStats','SubscriptionRequestDoesNotExist','checkAudioOutput','removeItem','upgradeTimeout','@context.','connectorConstructor','ObjectStore','Agent','chooseAnswer','listenUnsubscriber','setScheduleTime','retryCallback','lastUpdated','internal','.jl','internalContext','ObjectStorageUpload','eventTarget','database','search','node','GetDate','Support','Rating','rating','upgrade','No\x20answer\x20block\x20found','RestartNeedMediaStream','unregisterPublisherListener','getKeyValueDatabase','successNotified','Invalid\x20params','incrementVersion','retry','limit','getConnection','GenerativeAIContextJobTimeout','/nodes/','JobDispatcherDoesNotExist','sendReject','clusterEventEmitter','QueryBuilderInvalidArgument','RoundTripTime','endsWith','setReceiverBytes','frameHeight','No\x20parameters\x20provided','CrewdleConnection\x20handlePeerConnectionSystemEvents','192afEavM','removeNode','removeJobDispatcher','KeyValueDatabaseSendTransactions','bandwidth.rtt','handleNodeLeave','getChannelData','setTransformations','codes','\x0a\x0a`Executing\x20agent\x20','checkMediaStream','DTVolatility','jobType','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','inputTokens','localNode','unregisterSource','SHA-256','CloseMediaStream','job-dispatcher-invalid-job-type','messageBuffer','Debug','VectorDatabaseNameNotString','getTracks','toLocaleDateString','mode','compileStats','processReport','publishLocalMediaStream','generative-ai-context-job-timeout','Bearer\x20','Cannot\x20publish\x20move\x20operation:\x20','models','Time','sync','ready','getDataCollections','ObjectStoreInvalidSyncMessage','clearSubscriptionRequestTimeout','RequestFile','publishFile','Invalid\x20query','messagesSent','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','Invalid\x20peer\x20connection\x20event\x20destination.','addTrack','setLocalRank','handleProblem','\x0a\x20===\x20Current\x20MMR\x20Root','tables','WordSplitter','max','mmr','maxBitrate','writeTransaction','getLocalMediaStream','toLowerCase','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','getDistance','bufferedChunks','knowledge','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','\x20MB','Resolution','external-storage-connection-already-subscribed','bid','senderPreviousTimestamp','maxOutgoingSubscriptions','maxTokens','LocalMediaStreamTrackFail','.java','Rejected','remote-stream-missing-provider-id','versions','engine','Events','stopTracing','25700uCdwPO','Local\x20stream\x20does\x20not\x20exist.','getInternalStreamId','createElement','catch','publishSystemMessage','hasTracks','581229IRvTkY','startsWith','path','unsubscribeHandler','join','syncTransactionsWritten','updatePropagationProperties','object-store-name-not-string','threadId','connectionStateListener','discoveryService','startLoggingCycle','internal-sdk-error','loggingDatabaseConnector','Connection\x20does\x20not\x20exist','eventListener','Job\x20','updateUser','next','maxFps','isProduction','addProblem','auth','removeEventListener','pendingFilesTransactions','pow','once','Before\x20Synchronization','pubsub','generative-ai-context-job-missing-thread-id','getClosestNodes','grammar','GraphSearch','Info','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','processReceiverReport','canAddCandidates','getWorkflowModels','jobWorkers','Channel\x20\x27','fileChunks','saveToDisk','leave','indexes','2070RwAEEX','track','sendBid','receiverPreviousBytes','getId','listener','prototype','Database\x20Opened','Waiting','ObjectStoreStats','syncFolder','showSkillOutput','UnsubscribeMediaStreamdiaStream','bind','job-','logSupport','maxThreshold','JobWorker:\x20Received\x20job','Key-value\x20database\x20peak\x20not\x20found.','JobDispatcherJobExists','pubsubTopics','getOrResetPendingFileTimeout','.vb','All','getAgents','description','GenerativeAIWorkerAlreadyExists','graphDatabaseConnector','signInWithCredential','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','subject','statsCollection','GraphDatabaseDoesNotExist','urls','parse','createWritableStream','ContentType','endpointUrl','stats','.erl','getDisplayName','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','Error\x20processing\x20retrieve','getOwnerId','getIdToken','bufferedAmountLowThreshold','batch','resume','ObjectStoreNameNotString','invalid-subscriber','packetsSent','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','audioDestination','startHeartbeat','PubSub','MediaStream','statsManager','VectorDatabaseStats','sourceUrl','transactionService','Job\x20Dispatcher\x20already\x20exists','handleUnsubscribeMediaStream','pop','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','syncTimeout','vectorDatabaseConnector','parseDataCollectionBlocks','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','Error\x20processing\x20ingest','Data\x20Sent','handleOptimizationConnectionSuccess','restartTimeout','Agent\x20block\x20is\x20missing\x20required\x20data','PubSubTopicAlreadySubscribed','features','GenerativeAIContextAlreadyExists','object-store-invalid-state','setProviderId','searchOnGoogle','PubSubTopic\x20onMessage','job-dispatcher-job-not-found','request-file-sync','getJobDispatchers','sendPeakTransactions','getAncestorIds','getAudioTracks','processList','syncTransactions','Receiver\x20connection\x20is\x20not\x20initialized.','VectorDatabaseMissingConnector','authenticateUser','.txt','relation','Reranker','external-storage','append','appendTransactionAndUpdateHashMap','node-type-not-supported','.crewdle-transactions','systemMessagesReceived','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','\x0a\x20\x20===\x20Total\x20Nodes:\x20','NodeType','calculateArrayBufferSize','parentId','ended','setEncodingParameters','downloadDocument','packetsReceived','handleObjectMove','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','\x27\x20in\x20table\x20\x27','onloadeddata','topics','ConnectionBufferNotEmpty','isOpened','local-media-stream-already-exists','getSTVolatility','getFirestore','value','recomputeRoot','sendChunked','logInitialMMR','ConnectionState','processJobStream','handleOnMessage','Reranker\x20block\x20is\x20missing\x20required\x20data','.clj','packets','Subscription\x20request\x20does\x20not\x20exist.','sendFile','candidate','System','Cannot\x20unpublish\x20object:\x20','ObjectStorageBucket','processRank','add','connectionManager','job-worker-invalid-type','clearSyncTimeout','isLoaded','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','user-join','/transactions','\x20created\x20and\x20dispatched.','closed','\x20not\x20supported','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','startBidResponseHandling','ReceiverPeerConnection.onMessage','not-in','crewdle-sdk.firebaseapp.com','Start\x20Ingestion','handleContentRemoteMediaStreamTrackFail','deleteFileChunks','Error\x20opening\x20trace','boolean','JobWorker:\x20Received\x20job\x20request','isPromiseResolved','toFixed','waitForArrayBufferSize','senderCurrentBytes','removeLocalMediaStream','RemoteRemove','Received\x20track','name','setDurationTime','PeerConnection','ratePrompt','getUserMedia','GenerativeAIContextInvalidPartialResult','removePubSubTopic','onNodeDisconnect','listChanges','Invalid\x20value.\x20Property\x20\x27','receivers','getMediaStream','capacityReporter','call','Incoming','connected','ObjectStoreInvalidPath','getContent','loadLocalContent','validateAccess','documentParserConnector','callback','findNewMediaSubscription','log','StorageEventType','subscriptionRequestsQueue','removeGraphDatabase','.go','getAuth','rank','I\x20am\x20done','Cannot\x20unpublish\x20object\x20at\x20','download','lastCapacityReport','Invalid\x20job\x20worker\x20type.','.lua','getObjectStoreBucket','LocalMediaStreamDoesNotExist','incomingManager','rootComputationPromise','getThread','unsubscribe','subscriptionManager','true','checkScreenSharing','hasMessage','owner','key-value-database','statsReport','::ï¿¿','setLoggingConnectors','NodeLeave','endpointMethod','checkDeviceConfig','externalStores','LoggingService:\x20logging\x20enabled\x20for','debounceStats','undefined','syncKeyValueDatabase','logLevel','offset','\x20completed.','ExecuteCode','sendWithRetry','Stream\x20does\x20not\x20exist','.rkt','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','maxBpp','debounceAppendLog','hasTable','.cfg','unregisterSystemPublisher','jobQueue','sort','WebGL','getPeaks','0\x20B','KeyValueDatabasePeakNotFound','comparePeaks','desc','onConfigurationChange','getDataBucketIds','listenerUnsubscriber','processOutboundReports','ObjectStoreAlreadyExists','generative-ai-worker-missing-connector','clearOncloseTimeout','hasRemoteNode','Failed\x20to\x20commit\x20batch\x20after\x20retries:','.ini','title','Cannot\x20write\x20transaction.','senderCurrentTimestamp','debounceRebuildMMRWithTransaction','Missing\x20transaction\x20id','aws','.md','processServiceReport','retryLimit','GenerativeAIContextJobFailed','deployedVersion','signalingServer','publishUserUpdate','addMessage','ObjectStoreCannotWriteTransaction','ccc','getGraphDatabase','SenderSendMessage','storage','.kt','Data','currentFrames','CPUCycle','move','processReceivedTransactions','reduce','.xml','onProviderChange','bodyParameters','crewdle-sdk.appspot.com','\x20ms\x0a','getLocalId','connectionConstructor','shouldContinuePropagation','Job\x20with\x20id\x20','TestPage','CanProvideMediaStream','notifyCluster','\x20deleted.','min','Partial','WebRTCBrowserPeerConnectionConnector','Connection','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','CloseExternalStorageConnection','Could\x20not\x20open\x20trace','WebRTC','removeIncomingSubscription','instructions','NodeConnectionsUpdate','connectionPool','AgentSkill','supports','/nodes','rtt','isSyncing','.jinja','token','Cannot\x20find\x20External\x20Storage\x20connection:\x20','AppSync\x20client\x20not\x20ready','createMediaStreamSource','Generative\x20AI\x20context\x20job\x20already\x20consumed.','registerRemoteNode','createReceiverConnection','take','Outgoing','KeyValueDatabaseSyncRequired','retryCount','contentRect','Additional\x20context:\x0a','Remediation','handleContentSystemEvents','senderStreams','removeSubscriptionsForNode','observer','Cluster','publishTransaction','transactions','failed','ExternalStorage','combinePeaks','setInterval','getRoundTripTime','addPendingHandshakeCandidate','cluster-already-joined','GraphDatabaseNameNotString','job-worker-creation-failed','list','appsync-statechange','\x20must\x20be\x20a\x20string','getPriority','maps','senderBitrate','peerConnectionConnector','\x0a\x20===\x20Total\x20Nodes:','EntityExtractor','getRoot','inactive','NodeTypeNotSupported','dataTopics','setupRenderElement','waitAnswer','serverTimestamp','vector-database-does-not-exist','webgl','Error\x20closing\x20trace','tail','JobStatus','cores','getGraphDatabases','addReservedTables','.erb','resizeHandler','bufferEvent','createLocalDynamicMediaStream','remediation','graph-database-already-exists','clearRestartTimeout','WebScraperRaw','getRank','uid','IntermediateOutput','object-store-already-subscribed','handleSystemEvents','objectStoreConnector','enabledChannels','oidc','tracks','processTransactionsToComputeMMR','thread-','FPS','ObjectStoreInvalidPayload','wait','clientHeight','Failed\x20to\x20send\x20job\x20','buildQuery','eventEmitter','getConnectionType','logEvent','Connected','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','createGain','mergeParts','agent-skill','publishNodeJoin','Graph\x20database\x20creation\x20failed.','RemoteRemediation','FileWrite','isBidResponse','setupListeners','JobContext','Entity','isInternalSDKConfigs','setTimeout','Consuming\x20buffered\x20event','bitrate','getReceiverTotalBytes','Error\x20committing\x20batch:','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','Cannot\x20list\x20directory:\x20','openedTraces','reject','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','CannotProvideMediaStream','.ex','setReportCapacity','DatabaseEvent','subscription-request-does-not-exist','Received\x20','GetContextResult','Node','SentenceSplitter','commitTrace','incomingTopic','substring','SearchGoogle','timesCalled','Node\x20\x27','\x20is\x20required','ancestors','recipients','setConnectionType','support','disconnectCallback','Database\x20does\x20not\x20exist','registerDestination','handleMissingSenders','Invalid\x20workflow\x20block\x20type.','peaks','toString','remote-inbound-rtp','Workflow','UnpublishMediaStream','Object\x20store\x20is\x20not\x20in\x20sync','MissingRemoteConnection','bufferedAmount','createExternalStorageConnection','registerSubscriber','MediaStreamPriority','inputType','handshakeState','getTable','deletePendingFile','DocumentParser','blockId','createConstantSource','.scala','Invalid\x20key\x20\x27','cluster-leave','links','setPendingFileSyncingPayload','bufferedEvents','SyncComplete','vector-database-name-not-string',',\x20Transactions:\x20','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','\x0a\x20===\x20Total\x20Data\x20Received:\x20','handleFolderCreate','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','GenerativeAIContextCreationFailed','\x20must\x20be\x20a\x20boolean','createBatch','RelationExtractor','1845RUIDwm','debounceProcessRank','GenerativeAIContextJobMissingThreadId','logConnectionState','KeyValueDatabaseNameNotString','checkWebRTC','KeyValueDatabaseInvalidQuery','gain','systemTopicUnsubscribe','pathName','media-stream','Remove','Offline','getOutgoingOptimizationConnections','invalid-subscription','Media','CloseVectorDatabase','subscribeToExternalContent','StreamReport','.crewdle-pending','sendAction','onClose','results','Answer','user','getReport','verb','ExternalStorageUpload','createJob','invalid-data-chanel','debounceReadyTimeout','isComputingMMR','Connection\x20not\x20connected.','getBufferedAmount','21yTHcEb','key-value-database-name-not-string','\x20already\x20exists.','streamLabel','createTopic','Disconnect','clockSkew','events','replaceTrack','every','handleCloseContent','String','.pl','contentType','Early\x20return','hashPeakHashes','version','system','internalDownloadDocument','KeyValueDatabaseDoesNotExist','createNewBatch','DataCollection','createBufferSource','Success','bandwidth.bitrate','graphql','byteLength','JobWorker:\x20Sending\x20job\x20reject','contextInputVariable','output','openVectorDatabase','joinedAt','getEnabledChannels','Node\x20type\x20is\x20required','RequestFileWrite','Missing\x20graph\x20database\x20connector','\x20not\x20found.','previousBytes','Database\x20not\x20open','\x27:\x20missing\x20or\x20invalid\x20keyPath','modelsBucketId','deleteObject','entity-extractor','padStart','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','detectVideoIssues','getDoc','tableUnsubscriber','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','Synced','setUpgradeTimeout','messageUnsubscriber','hashTransaction','handleContentSubscribeMediaStream','onMessage','count','complete','handleOutgoingSystemEvents','onUnregisterPublisher','getRemoteMediaStreams','topic','jobs','clusterId','\x20seconds','vector-database-already-exists','logDataSent','ingestBlocks','end','processPendingSyncTransactions','openTrace','setIsLoaded','InitialPrompt','handleSubscriptionNeedMediaStream','job-dispatcher-creation-failed','node-type-required','RemoteMediaStreamMissingProviderId','peakHeights','authContext','searchApiKey','logging-db-','random','debounceReady','file-write','retryQueues','DataStream','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','Invalid\x20credentials','handleRemoteTrackFailure','load','logStorage','reset','setItem','cleanOldSubscription','getEmail','return\x20this','subscriptionRequests','VectorDatabase','receiverBitrate','error','object-store-not-in-sync','unregisterSystemSource','encode','answers','handleFileSync','createRemoteNode','publishSyncCompleted','isReconnecting','code','Orchestrator\x20handleSystemEvents','collectStats','handleSuccess','setOnMessageHandler','setBytes','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','checkAudioVolume','fetchUrl','ExternalStorageConnectionDoesNotExist','setSenderTimestamp','handleSubscriptionProvideMediaStream','JobQueueService:\x20Error\x20running\x20job','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','buildInitialMMR','generative-ai','createGraphDatabase','confirmSynchronization','isPartialResultResponse','DataChannel\x20buffer\x20is\x20full.','SenderPeerConnection\x20send','ConnectionNotinitialized','enumerateDevices','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','AppSync\x20connection\x20not\x20ready','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','dataChannel','receiverConnection','AudioContext','ObjectStorage','1801224iAUBPD','onValue','unregisterCluster','isNodeReady','modelStore','waitSuccess','Logging\x20database\x20not\x20initialized','Invalid\x20value.\x20Must\x20be\x20an\x20object.','handleDisconnect','joinedClusters','externalStorageConnections','/developers/','1301992PgNayy','onDisconnectHandler','isFeatureSupported','List','concat','debounceLogTimeout','JobWorker:\x20Sending\x20job\x20result','findIndex','registeredListeners','removeTrackListeners','getTransactions','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','getCurrentVersion','GenerativeAIContext\x20stream\x20error','workflow','ownerId','RemoteConnectionExists','job-dispatcher-already-exists','defineProperty','key-value-database-transaction-value-not-set','handleNodeUpdate','\x0aAdditional\x20Context:\x20','addBatchOperation','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','Subscribing\x20to\x20an\x20event:\x20on','getWorkflowExternalStorageConnections','.Total\x20pages\x20available:\x20','head','pendingFilesSyncing','Upgrade','\x20were\x20ready\x20in','interval','function','sendStats','targetId','estimatedPlayoutTimestamp','isNeedRestart','operator','InvalidSubscriber','Node\x20is\x20not\x20an\x20agent','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','closeTrace','Rejected\x20answer','find','initializeLoggingDatabase','currentDistance','signaling','server','graphService','cluster-disconnect','Received\x20content\x20available\x20from\x20node','mediator','Missing\x20external\x20storage\x20connector','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','.bat','right','getContentType','missing-incoming-connection','updateLastTransactionId','getVideoTracks','getSenderBitrate','InternalSDKError','removeRemoteNode','connectionGroup','Problem','\x20already\x20exists','Apply\x20remediation','clearConnectionTimeout','root\x20hash:\x20','getGrammars','word-splitter','onTrack','MissingSystemTopic','GenerativeAIWorkerStats','removeListener','Error','getConfigs','Chosen\x20answer','createVectorDatabase','getQuery','removeRemoteConnection','Model\x20not\x20found','external-storage-connectors-missing','ceil','configs','\x20attempts:','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','uuid','ModelVector','/resources/external-storage/items/','.json','object-store-cannot-write-transaction','waitSendBuffer','Writable\x20stream\x20is\x20missing','Early\x20return:\x20','handleTransactionPayload','Core','getItem','downgrade','collectSendersStats','canvas','clientWidth','close','isArray','send','processPendingHandshakeCandidates','vector-database','.ipynb','logWaitTime','workflow-does-not-exist','RetrieveTrace','addCluster','All\x20recipients\x20already\x20received','buildTableEvent','Count','handleRequestPayload','forceLog','retrieveBlocks','CustomSkill','MistletCapacityReportNotSet','out','getFunctions','Invalid\x20index\x20in\x20table\x20\x27','User\x20not\x20signed\x20in','get','slice','loggingConnectors','logPropagateSystemEvent','fileSendingMap','setOnTableWriteHandler','getSubscriptionInfo','Receiver','getWorkflow','node-does-not-exist','\x20with\x20response:','registerSource','receiverCurrentTimestamp','time_per_frame','connect','sendTransactionsValue\x20-\x20value\x20not\x20found','NeedMediaStream','createFolder','size','.gguf','Downgrade','blocks',':\x20Object\x20store\x20is\x20not\x20in\x20sync','initializeSystemTopic','currentBytes','previousFrames','layout','addEventListener','\x20sending\x20attempt\x20','\x20failed.','handleLocalTrackFailure','VectorDatabaseCreationFailed','FileStatus','\x20received\x20responses:','transactionIds','remote-stream-does-not-exist','GenerativeAIWorkerCreationFailed','isMediaSource','audioSource','onremovetrack','Offer','JobType','contentSize','agent-config-changed','model','content-publish-media','Operations:','message','SubscribeMediaStream','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','key-value-database-invalid-query','Processing','updateDebounceTimeout','/resources/generative-ai-collection/items','handleHandshake','NodeNotAuthenticated','getBuffer','nodesConnected','createSenderConnection','Bid','remoteUnsubscriber','getNumberOutgoingSubscriptions','pubSubTopics','discoveryUnsubscriber','table','lastHeartbeat','chosenAnswers','Hub','sender','.rs','getGenerativeAIContexts','externalStorageConnectionIds','getVectorDatabases','RequestFileSync','handleUpdateMediaStream','getConnections','getInternalTrackParams','Code\x20is\x20required','request-file','action','getTrackFromParam','handleSubscriptionSystemEvents','generativeAIContexts','detectAudioIssues','Subscription\x20request\x20failed.','distance','PeerConnectionInvalidDestination','Prompt\x20is\x20required','sampleRate','removeRemoteMediaStream','.py','notifyObjectStoreOfNodeJoin','completeSync','external-storage-invalid-path','Buffered\x20chunks\x20are\x20too\x20large','outbound-rtp','queryOrPrompt','handleContentUnpublishMediaStream','localId','external-storage-upload','jobId','KeyValueDatabase','length','Internal\x20unknown\x20error:\x20','propn','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','accessToken','setRemoteConnections','element','trackListeners','Parameter\x20','local-stream-does-not-exist','OptimizationConnectionSuccess','objectRequests','PubSubTopicDoesNotExist','getVectorDatabase','Online','isSync','.crewdle-last-transaction','Send\x20request','generative-ai-context-does-not-exist','frames','Invalid\x20publisher.','clearUpgradeTimeout','validateLayout','shift','Completed','remote-connection-exists','Transaction','senders','split','groupId','logger','getTime','getBid','buffer','setVendorId','documentPath','pub-sub-topic-already-exists','New\x20MMR\x20Root:\x20','vectors','.tsx','getMaxConnections','PromptRating','NodeDoesNotExist','ObjectStoreNotInSync','hash','Emitting\x20event\x20on\x20local\x20cluster','connection-buffer-not-empty','cpu.av_delay','PartialResult','setupStatsReporting','User','.info/connected','syncedFileExists','not-resolved','GenerativeAIEngineType','getJobObservable','internalProcessJobStream','lastClockUpdate','params','.jinja2','Stats:\x20report','handleNodeJoin','ObjectStore\x20not\x20found','Number','payload','handleAnswer','limitToFirst','WorkflowDoesNotExist','asc','Invalid\x20where\x20clause','\x20after\x20','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','startNoThrottlingHack','Search','authService','ClusterAlreadyJoined','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','where','fetchContentFromUrl','JobWorker:\x20Error\x20processing\x20job','CloseGraphDatabase','getContext','query-helper-invalid-argument','RemoteMediaStreamDoesNotExist','handleContentUpdateMediaStream','File','us-east-1','manageBufferedChunks','ModelText','all','createGenerativeAIWorker','ObjectKind','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','Error\x20fetching\x20URL','width','time','manageOptimization','discover','clusters/','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','connection','queueLength','GenerativeAIContextJobAlreadyConsumed','result','remediationManager','queues','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','graph-database-missing-connector','isWhereBetween','createRemoteMediaStream','OutgoingMediaStreamNoTopic','.cs','generativeAIWorkerConnectors','Queued','subtle','topicLabel','NodeAlreadyExist','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','TimePerFrame','crewdleSDKLoggingChannels','getPeakNode','Workflow\x20not\x20initialized','\x20received\x20result:','objectStorageBuckets','More\x20content\x20available\x20on\x20page\x20','handleStatsSystemEvents','collection','ObjectStoreNotSynced','region','task','resolution','writeBatch','trackCallback','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','registerCluster','skill','setOnDisconnectHandler','CloseJobWorker','handleChunkMessage','disableIntervalHack','GenerativeAIContext','Object\x20store\x20not\x20synced.','processTransactionPayload','connectionState','getPacketsLostPerc','writeFile','Node\x20type\x20is\x20invalid','Module','getJob','filter','mediaTopics','arrayBuffer','direction','DeviceConfig','childRemovedUnsubscriber','Code','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','ExternalStorageConnectionAlreadyExists','setReceiverTimestamp','assign','KeyValueDatabaseTransactionTableNotInitialized','sequence','destroy','frameTime','subscribeToLocalContent','Job\x20Worker\x20does\x20not\x20exist','handleError','.tcl','mediaStream','traceLevel','removeRemoteStreamSubscription','commit','removeThread','parseWorkflowDocument','Failed','addRemoteConnection','has','createConnection','Medium','closeConnection','No\x20global\x20object\x20found','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','sendFileRequestPayload','drawImage','CloseKeyValueDatabase','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','.sql','senderTotalMessages','batchQueue','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','LocalReport','isSubscribed','\x20attributed\x20to\x20','remoteId','/transactions/','updateDebounce','videoHeight','connecting','KeyValueDatabaseTableNotFound','stun:','httpsCallable','objectToArrayBuffer','receiverPreviousTimestamp','JobWorkerInvalidType','LocalMediaStreamAlreadyExists','manageAncestor','Error\x20stringifying\x20object','supported','registerPublisher','srcObject','messageType','AudioOutput','text/plain','Disconnected','cancel','handshakeDebounce','Low','addNode','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','stream','accumulated','isWhereValues','pendingFilesRename','readyPromises','signalingState','handleSubscriptionRestartNeedMediaStream','ExternalStorageNameNotString','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','collectTransactionsFromNode','amd','createIncomingSubscription','GraphDatabaseStats','Vector','then','applyRemediation','Invalid\x20table\x20name\x20\x27','CloseJobDispatcher','parameters','component','processDataChannelReport','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','Result','fromEntries','exists','key-value-database-creation-failed','Boolean','createGenerativeAIContext','modelId','systemMessages','setStatus','processSenderReport','Agent\x20group\x20not\x20found','addRemoteNode','Table\x20not\x20found','Hash\x20computation\x20failed,\x20retrying...','timestamp','logDataReceived','agent-update','keyValueDatabases','committed','bandwidth.jitter','crewdleSDKEnableLogging','handleSubscribeMediaStream','Invalid\x20object\x20store\x20state.','firebaseConfig','ClosePubSubTopic','Key-value\x20database\x20creation\x20failed.','startTime','processContentAvailable\x20-\x20Peak\x20comparison:','contextOutputVariable','Attribution','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','isJobRequest','syncPendingFiles','suspended','handleNoAnswer','checkAudioContext','Job\x20service\x20job\x20not\x20found.','openJobDispatcher','generative-ai-label-conflict','Received\x20ContentSynchronized\x20from\x20','authNode','start','consumeBufferedEvents','loadEnabledChannels','Found\x20','setDoc','ref','getTableConnector','stopNoThrottlingHack','unshift','Missing\x20remote\x20node\x20or\x20rank','Key-value\x20database\x20table\x20does\x20not\x20exist.','setEmail','logBatch','file','.cpp','Job','detectProblems','firebase-connect','Support:\x20','options','Ingest','removeKeyValueDatabase','stop','Error\x20searching','handleFileWrite','STVolatility','completed','Jobs','NodeManager\x20-\x20NodeLeave','\x20must\x20be\x20a\x20valid\x20JSON\x20string','responseTimeout','getMinConnections','SubscriptionRequestFailed','DataChannel\x20is\x20not\x20open.','mmrRoot','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','batchTimeout','ConnectionNoRetryQueue','GenerativeAIContextStats','temperature','nodeUpdate','captureStream','Error\x20encountered\x20while\x20opening\x20database','height','getDocs','ConnectionNotConnected','cpu.fps','\x20failed.\x20Retrying...','Cannot\x20get\x20size\x20of\x20path:\x20','SystemTopic\x20publish','LocalMediaStreamNoAudioContext','processInboundReport','folder-create','send\x20error\x20on\x20','pendingSyncTransactions','race','taskType','digest','checkBackgrounds','handleSubscriptionSubscribeMediaStream','OPFSObjectStoreConnector','isFailedResponse','Initial\x20MMR\x20built\x20with','external-storage-connection-does-not-exist','isInternalLoggingConnector','Subject','searchConnector','text','ranges','Move','graph-database-creation-failed','getSkills','publishLocalDynamicMediaStream','orderBy','between','previous','readyResolve','context','handleJobAttribution','NodeUpdate','outgoingManager','Method\x20not\x20supported','ConnectionInvalidDataEvent','getReceiverBitrate','isValidMediaSubscriptionParams','trackKinds','clusters','application/octet-stream','Get','featureSupport','Issue\x20detected:\x20','setCurrentVersion','remediations','play','deleteJob','object-store-invalid-sync-message','SystemStats','totalDecodeTime','internalId','\x20answer','email','availableTrackKinds','handleUnpublishMediaStream','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','Data\x20cluster\x20is\x20not\x20open.','setRank','payloadType','debugEnabled','unregisterSubscriber','GenerativeAILabelConflict','getLocalMediaStreams','PublishMediaStream','handleNeedRestart','systemTopic','handleFileRequestAnswer','isChannelEnabled','messageCallback','RequestAccepted','FolderCreate','minResolutionScale','ObjectStoreDoesNotExist','getCoresFromCapacityReport','appendTransaction','handleOffer','addEdge','checkWebGL','generative-ai-worker-model-sync-error','isConnected','getTransactionByHash','ScreenSharing','appsync-disconnect','chunksReceived','.mustache','removeTrack','createBuffer','ENOENT','forEach','createSubscription','origin','Error\x20resolving\x20readyPromises:','Text','runJobQueue','maxResolution','getWorkflowObjectStorageBuckets','agent','getObjectStoreBuckets','waitConnected','addContent','senderConnection','firebaseUnsubscriber','signOut','evaluateBids','/resources/agent/items/','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','framesEncoded','overlap','tableName','internalProcessJob','iceServers','processRemoteInboundReport','onRemoveTrack','orchestrator','string','local-media-stream-track-fail','SyncKeyValueDatabase\x20-\x20Ancestors\x20','senderTimeProcessing','ObjectStoreAlreadySubscribed','unpublish','1.0.3.0','evaluateBidsAndAttributeJob','setupStatsCollection','reportCapacity','createObjectStoreBucket','Update','sentence-splitter','messages','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','SenderPeerConnection.send','MediaStream\x20feature\x20not\x20enabled','AudioVolume','decodeJWT','IngestTrace','getRemoteConnections','outgoingTopic','getInstance','CrewdleConnectionGroup','Accepted','KeyValueDatabaseContentSynchronized','UpdateMediaStream','Generative\x20AI\x20context\x20creation\x20failed.','contentManager','getEntities','unregisterPublisher','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','getExternalStorageConnection','LoadSkillFunction','AudioContext\x20is\x20not\x20available','newPath','key-value-database-transaction-table-not-initialized','GenerativeAIWorkerMissingConnector','key-value-database-index-not-found','objectStores','1.0.3','MediaStreamUnavailable','detail','UnsubscribeMediaStream','parseWorkflowBlocks','setDisplayName','maxDistance','hashNodes','snippet','Unknown\x20skill\x20type','.twig','VectorDatabase\x20not\x20found','performCalculation','Internal\x20SDK\x20error:\x20','connection-not-connected','generative-ai-worker-creation-failed','trackEndedListeners','indexOf','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','notifyClusterNodeUpdate','default','createAnswer','resetConnection','debug','key-value-database-peak-not-found','InvalidSubscription','delete','onCandidate','Bitrate','external-storage-name-not-string','noun','connectionType','image','localMediaStreams','GenerativeAIModelOutputType','runAgent','Delete','update','handleNodeJoinNeedPublishedStream','getSize','pub-sub-topic-already-subscribed','Invalid\x20subscriber.','durationTime','Pending','.conf','Error\x20loading\x20external\x20content','connection-no-retry-queue','now','trim','handleSubscriptionMediaStreamUnavailable','dbKey','generative-ai-context-already-exists','getRemoteMediaStream','setupResizeHandler','handleContentUnsubscribeMediaStream','Backgrounds','checkExistingPendingFileContent','`\x0a\x0a','unsubscribeListener','lastTransactionId','graph-database','KeyValueDatabaseInvalidValue','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','initialize','_isReady','FramePerSecond','disconnect','cachedRoot','getSupportedContentTypes','\x27\x20to\x20','KeyValueDatabaseContentAvailable','Optimization','Job\x20Dispatcher\x20does\x20not\x20exist','Detection','High','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','getDisplayMedia','addConnection','Connection\x20already\x20exists','NodeInvalidType','Cluster\x20already\x20joined','ExternalStorageConnectionAlreadySubscribed','answer','\x20does\x20not\x20exists','nodeManager','getDTVolatility','No\x20destinationIds\x20left','providerId','JobWorkerAlreadyExists','google','some','developers/','ConnectionGroup','key-value-database-does-not-exist','agent-join','searchInDataCollection','query','topK','Problem\x20detected:\x20','internalRatePrompt','endpoint','Subscription\x20request\x20has\x20not\x20been\x20answered.','crewdle-sdk-logging-','setSubscriptionRequestTimeout','getKeyValueDatabases','createOutgoingSubscription','processContentAvailable','JobDispatcherInvalidJobType','jitter','insert','addBidResponse','Error\x20initializing\x20logging\x20database\x20with\x20\x27','removeContent','tableObserver','Invalid\x20job\x20service\x20payload.','Workflow\x20does\x20not\x20exist.','getResolutionScale','packetsLost','addVideoTrack','commitType','\x0aAdditional\x20data:\x20','.hbs','exports','getSettings','1428CRPxPP','logs','generative-ai-context-job-failed','VectorDatabaseDoesNotExist','Jitter','/objectstores/','Local\x20MediaStream\x20already\x20exists','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','receiverUnsubscribers','Sender','Model\x20store\x20not\x20initialized','logServiceEvent','canChooseAnswer','handlePeerConnectionSystemEvents','values','doc','createMediaStreamDestination','\x20to\x20generate\x20a\x20response.','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','nodeId','getRemoteId','Buffering\x20event','setTimestamp','commitBatch','supportsContentType','previousTimestamp','Content','clear','bytesReceived','KeyValueDatabaseNotOpen','Agent\x20output\x20is\x20not\x20a\x20string','JobWorkerCreationFailed','Image','totalNodes','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','isWhereValue','loggingCycle','KeyValueDatabaseTableNameReserved','transactionHashMap','connections','from','emit','abs','status','setContent','orchestrator-close','detectLocalIssues','Folder','ExternalStorageStats','isJobAttribution','getMediaSubscription','instantiateTransactionTable','handleNodeDisconnect','Cannot\x20get\x20file:\x20','handleSubscriptionUnsubscribeMediaStream','.\x20Confirmation?\x20','Retrieve','pendingHandshakeCandidates','ObjectStoreInvalidState','Search\x20connector\x20not\x20set','getPubSubTopics','skipEncryption','Context','outputTokens','.pug','calculateSize','instance','retryDelay','getPartsFromSubscription','nodes','stringify','Recording','globalObject','getStatus','keyPath','contentRequestSent','keyValueDatabaseConnector','RemoteAdd','createJobDispatcher','Pool','key','subscribeToJobs','relation-extractor','invalid-access','minConnections','\x20-\x20','getMaxDistance','deleteTransactionsForTable','subscriptions','openJobWorker','setParams','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','gpu','page','Generative\x20AI\x20context\x20job\x20timeout.','attributes','createPendingFileWrite','OutgoingSubscription','messageListeners','/resources/generative-ai-agent/items','publishSyncCompletedAfterWrites','setPriority','Method\x20not\x20implemented.','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','created','rate','Node\x20not\x20authenticated','restartHandshake','object-store-invalid-payload','loop','document-parser','registerSystemPublisher','floor','label','IDBDatabaseConnector','updateJob','getPubSubTopic','job-dispatcher-job-exists','getSubscribedTracks','handleIceCandidates','getJobs','PubSub\x20already\x20exists','video','AITrace','lastProcessRank','removeConnection','outgoingStreams','ExecuteAgent','processBatch','JobWorkerDoesNotExist','msalGetAccessToken','openPubSubTopic','trackChanges','Query\x20is\x20required','closeSubscription','Signaling','getIsLoaded','reportMetric','Logging\x20not\x20enabled\x20for\x20channel\x20','removeSubscription','handleFileRequest','sourceId','heartbeatUnsubscriber','nodeKey','scheduleTime','web-scraper-raw','roundTripTime','answerContentAvailable','joinCluster','PubSubTopicNameNotString','errorDetails','KeyValueDatabaseTableDoesNotExist','PubSubTopic\x20publish','addIssue','handleNodeSystemEvents','vector-database-missing-connector','WorkflowInvalidBlockType','unregisterDestination','transformations','getConnectionGroup','left','Retrieve\x20from\x20context\x20to\x20inform\x20your\x20response.','sendIceCandidates','Error\x20fetching\x20context','cost','connectAgent','createAIJob','asObservable','getModels','openKeyValueDatabase','JobDispatcherJobNotFound','rebuildMMR','Error\x20writing\x20chunk\x20to\x20stream','vectorDatabases','streamId','decode','av_delay','GetContextQuery','getDatabase','updated','removeObjectStore','web-scraper','syncContent','computeHash','statsReporting','removeVectorDatabase','relevance','destinationIds','renderElement','arrayBufferToObject','startAt','CrewdleReceiverConnection\x20ontrack','streams','loggingDb','Missing\x20AI\x20worker\x20connector','object','evaluatePartialJob','.liquid','test-page','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','createBatchOperation','processLocalReport','FolderMove','getResolution','counter','sender-send-message','getGenerativeAIWorkers','JobWorker:\x20Sending\x20job\x20partial\x20result','SubscriptionRequestNoAnswer','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','getPartsForSubscriptionLabel','cpu.cycle','splice','invalid-publisher','Invalid\x20layout:\x20','queries','content-unpublish-media','data','unsubscribeTrackEndedListener','warn','Invalid\x20version\x20\x27','failJob','getAudioVideoDelay','AudioVideoDelay','KeyValueDatabaseAlreadyExists','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','2-digit','clearHeartbeat','NodeManager\x20-\x20PublishNodeLeave','feature-not-enabled','reads','createDataChannel','firstValueFrom','resolutionScale','resolveReady','getCapacityReport','getTransactionFromTableWriteEvent','handshakeCandidates','subscription-request-no-answer','match','frameWidth','KeyValueDatabase\x20-\x20Sync\x20completed','KeyValueDatabaseInvalidLayout','KeyValueDatabaseTransactionValueNotSet','getCurrentDate','timeoutValue','notifyObjectStoreOfNodeLeave','RemoteMediaStreamInvalidSubscriptionParams','getJobWorkers','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','local-media-stream-no-audio-context','generative-ai-context-creation-failed','Model','entities','transactionTable','transactionQueue','state','keys','key-value-database-table-name-reserved','jobBids','Vector\x20database\x20creation\x20failed.','app','processInboundReports','content','JobWorker:\x20Received\x20job\x20attribution','getSentences','\x20must\x20be\x20a\x20number','object-store-already-exists','\x20check\x20failed','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','destination','tokens','syncResolve','\x20for\x20','createPubSubTopic','OfficeParser','getLocalNode','GenerativeAIWorkerModelSyncError','Connection\x20not\x20initialized.','WorkflowTrace','feedback','replace','addCandidate','splitParts','\x27\x20from\x20','maxFramerate','key-value-database-table-not-found','FeatureNotEnabled','addAudioTrack','isIceCandidate','priority','waitForSyncComplete','agentConfig','ner','No\x20connections\x20available\x20to\x20send\x20message','providerListener','.php','setupConnectionEvents','KeyValueDatabaseCreationFailed','onNodeUpdate','Store\x20already\x20exists','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','framerate','getTotalNodes','pool','externalStorageConnectors','/resources/generative-ai-grammar/items','total','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','openGraphDatabase','From\x20','getLabel','getLastUpdated','timeoutCallback','stopConnection','No\x20connector\x20found\x20for\x20model','Invalid\x20node\x20type','writes','success','dataStores','NodeTypeRequired','clearWaitSuccess','trace','oncloseTimeout','Sync\x20completed','answererId','validateValue','VectorSearch','Default','timeReceiving','jobPhase','dispatchEvent','getNextTargetRank','GraphDatabase','WebScraper','createOffer','listenerUnsubscribers','Invalid\x20object\x20store\x20sync\x20message.','checkSyncComplete','off','set','DataStream\x20onMessage','subscription-request-in-progress','round','lastRemediations','removeTrackCallback','agentId','peer-connection','LoadKnowledgeFunction','checksum','No\x20context\x20variables\x20set','publishNodeLeave','onChildRemoved','RemoteMediaStreamTrackFail','Missing\x20answerer\x20id\x20on\x20request\x20answer','getSenderTotalBytes','openObjectStoreBucket','setupTrackEndedListeners','744VGVHnK','startTracing','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','GraphDatabase\x20not\x20found','videoWidth','receiverCurrentBytes','inbound-rtp','transactionsToSync','remoteConnections','subscription','st_volatility','request-accepted','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','/resources/generative-ai-model/items','Warning','CrewdleSenderConnection\x20createOffer','bytesSent','currentBatch','audio','object-storage','JobDispatcher:\x20Received\x20job','appsync-connect-fail','handleContentCloseMediaStream','Data\x20Received','val','Handshake','Execute\x20skill\x20','object-store-invalid-path','tableLayout','\x0a\x20===\x20Total\x20Time:\x20','cluster','ExternalStorageInvalidPath','requestSubscription','connector','onDataChannel','Restart','url','connectionTimeout','firestore','vector','Job\x20service\x20creation\x20failed.','KeyValueDatabaseStats','source','loadFromDisk','Unsupported\x20job\x20type','registerSystemSource','VectorDatabaseAlreadyExists','chunks','-leave','NodeJoin','shouldProcessTransaction','audioContext','json','objectStoreId','remove','Node\x20already\x20exists.','isAvailable','PubSubTopic\x20not\x20found','framesDecoded','expectedTransactions','prompts','Remote\x20MediaStream\x20already\x20exists','operations','\x0a\x0a`Executing\x20custom\x20skill\x20','Stream\x20already\x20exists','get-content','createKeyValueDatabase','remainingTracks','Invalid\x20data\x20event.','getRemoteNodes','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','fps','1:420235181083:web:4eff6062bd845cb0748cbe','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','remoteNodes','JobDispatcherInvalidPayload','InvalidPublisher','warning','maxLayer','toLocaleString','Prompt','request','JobDispatcherCreationFailed','relations','nextNodeId','contentMediator','Support:\x20current\x20config','crewdle-sdk-stg','job-dispatcher-does-not-exist','createLocalMediaStream','displayName','sendTransactionsValue','_ready','graphDatabases','InvalidAccess','chunk-splitter','externalStorages','PromptFunctionParamsType','.groovy','publishFolder','processOutboundReport','Add','dataBucketIds','sourceVideo','publish','CloseObjectStoreBucket','orderByKey','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','.rb','KeyValueDatabaseRequestTransactionsValue','logRaw','issues','job-worker-does-not-exist','mediaDevices','outputType','entries','RemoteMediaStreamAlreadyExists','handlePublishMediaStream','ExecuteCustomSkill','loadExternalContent','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','moveObject','active','senderPreviousBytes','timePerFrame','hasOwnProperty','batchSize','number','mistlet-capacity-report-not-set','disconnected','deleteRemoteNode','Error\x20retrieving\x20context','closeTopic','.dart','changesUnsubscriber','88fJjzVY','JobDispatcherObserverNotFound','handleRemediationSystemEvents','key-value-database-table-does-not-exist','2250831pEuYYx','onHandshakeStateChange','isReady','dt_volatility','functionsRegion','hasBufferedData','Error\x20closing\x20writable\x20stream','FetchUrl','FinalOutput','\x27\x20dabatase\x20id.','compareTransactions','publishMove','currentTimestamp','missing-system-topic','Stats','notifyClusterNodeJoin','/resources/generative-ai-workflow/items/','getName','publishSyncCompletedAfterWrites\x20-\x20','PayloadAction','clearWaitAnswer','client','evaluateProccessedJob','isRunning','isEqual','getProviderId','Request','sdkValidateAccess','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','application/json','Sender\x20connection\x20is\x20not\x20initialized.','getShareableStreamId','bucketId','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','debounceRebuildMMR','engineType','.vbs','external-storage-connection-already-exists','transactionsToAppend','setRemoteNode','processJob','ExternalStorageConnectorsMissing','.jsx','receiverTimeProcessing','FileDelete','Skill','.yml','Audio'];a0_0x1667=function(){return _0x7de66a;};return a0_0x1667();}function a0_0x27c7(_0x25d50a,_0x256637){const _0x166703=a0_0x1667();return a0_0x27c7=function(_0x27c7b1,_0x2ab9f1){_0x27c7b1=_0x27c7b1-0x14f;let _0x2ac0d5=_0x166703[_0x27c7b1];return _0x2ac0d5;},a0_0x27c7(_0x25d50a,_0x256637);}(function(_0x1fb628,_0x1fa3a8){const _0xfcd2b9=a0_0x27c7,_0x5147de=_0x1fb628();while(!![]){try{const _0x639dec=-parseInt(_0xfcd2b9(0x81c))/0x1*(-parseInt(_0xfcd2b9(0x8a3))/0x2)+parseInt(_0xfcd2b9(0x8a7))/0x3+parseInt(_0xfcd2b9(0x6b4))/0x4*(parseInt(_0xfcd2b9(0xa0c))/0x5)+parseInt(_0xfcd2b9(0x366))/0x6+parseInt(_0xfcd2b9(0x2dc))/0x7*(-parseInt(_0xfcd2b9(0x372))/0x8)+parseInt(_0xfcd2b9(0x2ba))/0x9*(parseInt(_0xfcd2b9(0x9d9))/0xa)+parseInt(_0xfcd2b9(0x9e0))/0xb*(-parseInt(_0xfcd2b9(0x98c))/0xc);if(_0x639dec===_0x1fa3a8)break;else _0x5147de['push'](_0x5147de['shift']());}catch(_0x16c301){_0x5147de['push'](_0x5147de['shift']());}}}(a0_0x1667,0x67902),!function(_0x23d5d2,_0x23408e){const _0x1abb5f=a0_0x27c7;if(_0x1abb5f(0x778)==typeof exports&&_0x1abb5f(0x778)==typeof module)module[_0x1abb5f(0x6b2)]=_0x23408e();else{if(_0x1abb5f(0x392)==typeof define&&define[_0x1abb5f(0x539)])define([],_0x23408e);else{var _0x3fc080=_0x23408e();for(var _0x56533d in _0x3fc080)(_0x1abb5f(0x778)==typeof exports?exports:_0x23d5d2)[_0x56533d]=_0x3fc080[_0x56533d];}}}(this,()=>((()=>{'use strict';const _0xdcbb79=a0_0x27c7;var _0x434bb5={0x14d:(_0x52e19f,_0x1403b2,_0x112b58)=>{const _0x22ffcc=a0_0x27c7;_0x112b58['d'](_0x1403b2,{'O':()=>_0x2e9e27});const _0x2e9e27={'version':_0x22ffcc(0x616),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x22ffcc(0x4be),'authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x22ffcc(0x6c6),'projectId':_0x22ffcc(0x873),'storageBucket':_0x22ffcc(0x950),'appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':'northamerica-northeast1'},'google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':_0x22ffcc(0x71c),'region':_0x22ffcc(0x4aa)}};},0x33b:(_0x43cc17,_0x23db6a,_0xf005af)=>{_0xf005af['d'](_0x23db6a,{'O':()=>_0x430416});const _0x430416={};},0x3e6:(_0x1c1191,_0x53625e,_0x27f61d)=>{const _0x1ddbdc=a0_0x27c7;_0x27f61d['d'](_0x53625e,{'O':()=>_0x1e8d84});const _0x1e8d84={'version':_0x1ddbdc(0x638),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x1ddbdc(0x4f0),'authDomain':_0x1ddbdc(0x173),'databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':_0x1ddbdc(0x8f5),'storageBucket':_0x1ddbdc(0x1f8),'messagingSenderId':'420235181083','appId':_0x1ddbdc(0x864),'measurementId':'G-F7W8KXRKQB'},'aws':{'endpoint':_0x1ddbdc(0x8c8),'region':_0x1ddbdc(0x4aa)}};},0x20:(_0x48d7ac,_0x29a516,_0x11f97b)=>{_0x11f97b['d'](_0x29a516,{'O':()=>_0x50306e});const _0x50306e={};}},_0x175c64={};function _0x56af55(_0x567230){const _0x4ce3ab=a0_0x27c7;var _0x4511ff=_0x175c64[_0x567230];if(void 0x0!==_0x4511ff)return _0x4511ff[_0x4ce3ab(0x6b2)];var _0x2f2b4b=_0x175c64[_0x567230]={'exports':{}};return _0x434bb5[_0x567230](_0x2f2b4b,_0x2f2b4b[_0x4ce3ab(0x6b2)],_0x56af55),_0x2f2b4b[_0x4ce3ab(0x6b2)];}_0x56af55['d']=(_0x3078ff,_0x44f0a7)=>{for(var _0x10800e in _0x44f0a7)_0x56af55['o'](_0x44f0a7,_0x10800e)&&!_0x56af55['o'](_0x3078ff,_0x10800e)&&Object['defineProperty'](_0x3078ff,_0x10800e,{'enumerable':!0x0,'get':_0x44f0a7[_0x10800e]});},_0x56af55['g']=(function(){const _0x26620f=a0_0x27c7;if(_0x26620f(0x778)==typeof globalThis)return globalThis;try{return this||new Function(_0x26620f(0x33b))();}catch(_0x4cbeed){if('object'==typeof window)return window;}}()),_0x56af55['o']=(_0x27a086,_0x54219a)=>Object[_0xdcbb79(0xa12)][_0xdcbb79(0x899)][_0xdcbb79(0x18e)](_0x27a086,_0x54219a),_0x56af55['r']=_0x2a4b10=>{const _0x351c14=_0xdcbb79;_0x351c14(0x1ba)!=typeof Symbol&&Symbol['toStringTag']&&Object[_0x351c14(0x384)](_0x2a4b10,Symbol['toStringTag'],{'value':_0x351c14(0x4e7)}),Object[_0x351c14(0x384)](_0x2a4b10,'__esModule',{'value':!0x0});};var _0x29ef36,_0x3a8602,_0x1f75f2,_0x33d229={};_0x56af55['r'](_0x33d229),_0x56af55['d'](_0x33d229,{'KeyValueDatabase':()=>_0x1e0931,'LayoutBuilder':()=>_0x830d90,'LoggingChannels':()=>_0x1f75f2,'QueryBuilder':()=>_0x1bcb9f,'SDK':()=>_0x2f13cd,'SDKClientErrorCodes':()=>_0x29ef36,'TableBuilder':()=>_0x15e75a,'logger':()=>_0xbff73d}),function(_0xeed990){const _0x261f70=_0xdcbb79;_0xeed990['ConnectionBufferNotEmpty']=_0x261f70(0x482),_0xeed990['ClusterAlreadyJoined']=_0x261f70(0x22f),_0xeed990[_0x261f70(0x4f1)]=_0x261f70(0x8cd),_0xeed990[_0x261f70(0x689)]=_0x261f70(0x9cc),_0xeed990[_0x261f70(0x351)]=_0x261f70(0x5ad),_0xeed990[_0x261f70(0x8d1)]=_0x261f70(0x3c4),_0xeed990[_0x261f70(0x83b)]=_0x261f70(0x44b),_0xeed990['ExternalStorageNameNotString']=_0x261f70(0x655),_0xeed990[_0x261f70(0x7d5)]=_0x261f70(0x79b),_0xeed990['GenerativeAIContextAlreadyExists']=_0x261f70(0x66b),_0xeed990['GenerativeAIContextDoesNotExist']=_0x261f70(0x466),_0xeed990['GenerativeAIContextJobMissingThreadId']=_0x261f70(0x9fd),_0xeed990['GenerativeAILabelConflict']=_0x261f70(0x56b),_0xeed990[_0x261f70(0xa26)]='generative-ai-worker-already-exists',_0xeed990[_0x261f70(0x635)]=_0x261f70(0x1d6),_0xeed990[_0x261f70(0x7cb)]=_0x261f70(0x5ec),_0xeed990['GraphDatabaseAlreadyExists']=_0x261f70(0x24f),_0xeed990[_0x261f70(0xa2c)]='graph-database-does-not-exist',_0xeed990['GraphDatabaseMissingConnector']=_0x261f70(0x4bf),_0xeed990[_0x261f70(0x230)]='graph-database-name-not-string',_0xeed990['JobDispatcherAlreadyExists']=_0x261f70(0x383),_0xeed990['JobDispatcherDoesNotExist']=_0x261f70(0x874),_0xeed990[_0x261f70(0xa1f)]=_0x261f70(0x72a),_0xeed990[_0x261f70(0x75f)]=_0x261f70(0xa5c),_0xeed990[_0x261f70(0x6a3)]=_0x261f70(0x99f),_0xeed990[_0x261f70(0x690)]='job-worker-already-exists',_0xeed990['JobWorkerDoesNotExist']=_0x261f70(0x88c),_0xeed990['ObjectStoreAlreadyExists']=_0x261f70(0x7c1),_0xeed990[_0x261f70(0x614)]=_0x261f70(0x255),_0xeed990[_0x261f70(0x5e6)]='object-store-stream-does-not-exist',_0xeed990[_0x261f70(0xa3c)]=_0x261f70(0x9e7),_0xeed990[_0x261f70(0x25e)]=_0x261f70(0x721),_0xeed990[_0x261f70(0x191)]=_0x261f70(0x837),_0xeed990['ObjectStoreNotInSync']=_0x261f70(0x340),_0xeed990[_0x261f70(0x3af)]=_0x261f70(0x9ec),_0xeed990[_0x261f70(0x87a)]=_0x261f70(0x708),_0xeed990['KeyValueDatabaseAlreadyExists']=_0x261f70(0x933),_0xeed990[_0x261f70(0x2ef)]=_0x261f70(0x695),_0xeed990[_0x261f70(0x914)]=_0x261f70(0x636),_0xeed990[_0x261f70(0x2c0)]=_0x261f70(0x420),_0xeed990[_0x261f70(0x675)]='key-value-database-invalid-value',_0xeed990[_0x261f70(0x2be)]=_0x261f70(0x2dd),_0xeed990[_0x261f70(0x6d2)]='key-value-database-not-open',_0xeed990['KeyValueDatabaseTableNameReserved']=_0x261f70(0x7b8),_0xeed990[_0x261f70(0x51a)]=_0x261f70(0x7d4),_0xeed990[_0x261f70(0x7a8)]='key-value-database-invalid-layout',_0xeed990[_0x261f70(0x520)]=_0x261f70(0x150),_0xeed990[_0x261f70(0x5a0)]=_0x261f70(0x7b0),_0xeed990['PubSubTopicAlreadyExists']=_0x261f70(0x478),_0xeed990[_0x261f70(0x460)]='pub-sub-topic-does-not-exist',_0xeed990[_0x261f70(0x74a)]='pub-sub-topic-name-not-string',_0xeed990[_0x261f70(0xa55)]=_0x261f70(0x660),_0xeed990[_0x261f70(0x985)]=_0x261f70(0x4a6),_0xeed990['RemoteMediaStreamAlreadyExists']='remote-media-stream-already-exists',_0xeed990[_0x261f70(0x7ad)]='remote-media-stream-invalid-subscription-params',_0xeed990['SubscriptionRequestInProgress']=_0x261f70(0x80c),_0xeed990[_0x261f70(0x425)]=_0x261f70(0x946),_0xeed990[_0x261f70(0x687)]='node-invalid-type',_0xeed990['NodeTypeNotSupported']=_0x261f70(0xa6d),_0xeed990[_0x261f70(0x7f6)]=_0x261f70(0x326),_0xeed990[_0x261f70(0x84a)]=_0x261f70(0x31c),_0xeed990['VectorDatabaseDoesNotExist']=_0x261f70(0x242),_0xeed990[_0x261f70(0xa65)]=_0x261f70(0x750),_0xeed990[_0x261f70(0x9a2)]=_0x261f70(0x2b0);}(_0x29ef36||(_0x29ef36={}));class _0x5df866 extends Error{[_0xdcbb79(0x348)];constructor(_0x131332,_0x31f60b){super(_0x31f60b),this['code']=_0x131332;}}!function(_0x36daec){const _0x426647=_0xdcbb79;_0x36daec[_0x426647(0xa42)]=_0x426647(0x9fc),_0x36daec[_0x426647(0x365)]=_0x426647(0x82f),_0x36daec[_0x426647(0x453)]=_0x426647(0x1b0),_0x36daec[_0x426647(0x33d)]=_0x426647(0x3dc),_0x36daec[_0x426647(0x803)]=_0x426647(0x674),_0x36daec['ExternalStorage']=_0x426647(0xa6a),_0x36daec[_0x426647(0xa43)]=_0x426647(0x2c4),_0x36daec['GenerativeAIContext']=_0x426647(0x357);}(_0x3a8602||(_0x3a8602={})),function(_0x3229d9){const _0x4c1a81=_0xdcbb79;_0x3229d9['All']=_0x4c1a81(0x4ad),_0x3229d9[_0x4c1a81(0x7fe)]=_0x4c1a81(0x64c),_0x3229d9[_0x4c1a81(0x205)]=_0x4c1a81(0x4b8),_0x3229d9[_0x4c1a81(0x157)]='connection-state',_0x3229d9['Cluster']=_0x4c1a81(0x83a),_0x3229d9[_0x4c1a81(0x6cf)]=_0x4c1a81(0x7bd),_0x3229d9[_0x4c1a81(0x330)]='data-stream',_0x3229d9[_0x4c1a81(0x681)]='detection',_0x3229d9['Events']=_0x4c1a81(0x2e3),_0x3229d9[_0x4c1a81(0x3bd)]=_0x4c1a81(0x33f),_0x3229d9['Jobs']=_0x4c1a81(0x319),_0x3229d9[_0x4c1a81(0x453)]=_0x4c1a81(0x1b0),_0x3229d9['Node']=_0x4c1a81(0x970),_0x3229d9[_0x4c1a81(0x704)]=_0x4c1a81(0x7e6),_0x3229d9[_0x4c1a81(0xa42)]=_0x4c1a81(0x9fc),_0x3229d9['ReceiverOnMessage']='receiver-on-message',_0x3229d9[_0x4c1a81(0x221)]=_0x4c1a81(0x24e),_0x3229d9[_0x4c1a81(0x1ec)]=_0x4c1a81(0x782),_0x3229d9[_0x4c1a81(0x73c)]=_0x4c1a81(0x3a0),_0x3229d9['Stats']=_0x4c1a81(0xa32),_0x3229d9['Subscription']=_0x4c1a81(0x825),_0x3229d9['Support']=_0x4c1a81(0x291),_0x3229d9[_0x4c1a81(0x160)]=_0x4c1a81(0x2ed),_0x3229d9['SystemStats']='system-stats',_0x3229d9[_0x4c1a81(0x1fe)]=_0x4c1a81(0x77b),_0x3229d9[_0x4c1a81(0x183)]=_0x4c1a81(0x811);}(_0x1f75f2||(_0x1f75f2={}));const _0x410512=require('@crewdle/web-sdk-types');class _0x1bcb9f{[_0xdcbb79(0x698)];constructor(_0x25461c){const _0x97ef1c=_0xdcbb79;this[_0x97ef1c(0x698)]={'orderBy':{'key':_0x25461c,'direction':_0x97ef1c(0x498)}};}static[_0xdcbb79(0x959)](_0x32e6a9){const _0x3915c9=_0xdcbb79;if(_0x3915c9(0x610)!=typeof _0x32e6a9||0x0===_0x32e6a9[_0x3915c9(0x454)])throw new _0x5df866(_0x29ef36['QueryBuilderInvalidArgument'],_0x3915c9(0xa35));return new _0x1bcb9f(_0x32e6a9);}static['validateQuery'](_0xbd9b71){try{return _0x1bcb9f['buildQuery'](_0xbd9b71),!0x0;}catch(_0x3843f9){return!0x1;}}static[_0xdcbb79(0x262)](_0x740b7a){const _0x4c51e9=_0xdcbb79,_0x944e3e=_0x1bcb9f[_0x4c51e9(0x959)](_0x740b7a[_0x4c51e9(0x5b7)]?.[_0x4c51e9(0x705)]??_0x740b7a[_0x4c51e9(0x4a1)]?.[_0x4c51e9(0x705)]??'');if(_0x740b7a[_0x4c51e9(0x4a1)]){const _0x8c3d66=_0x740b7a[_0x4c51e9(0x4a1)];if((_0x1bcb9f[_0x4c51e9(0x6d8)](_0x8c3d66)||_0x1bcb9f[_0x4c51e9(0x531)](_0x8c3d66)||_0x1bcb9f['isWhereBetween'](_0x8c3d66))&&_0x944e3e['where'](_0x8c3d66[_0x4c51e9(0x397)],_0x8c3d66[_0x4c51e9(0x153)]),_0x740b7a[_0x4c51e9(0x5b7)]?.[_0x4c51e9(0x705)]&&_0x740b7a[_0x4c51e9(0x5b7)]?.[_0x4c51e9(0x705)]!==_0x740b7a['where'][_0x4c51e9(0x705)])throw new _0x5df866(_0x29ef36[_0x4c51e9(0x985)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x740b7a[_0x4c51e9(0x5b7)]&&_0x944e3e[_0x4c51e9(0x5b7)](_0x740b7a['orderBy'][_0x4c51e9(0x4ec)]),_0x740b7a[_0x4c51e9(0x97e)]&&_0x944e3e['limit'](_0x740b7a['limit']),_0x740b7a[_0x4c51e9(0x1bd)]&&_0x944e3e['offset'](_0x740b7a[_0x4c51e9(0x1bd)]),_0x944e3e;}[_0xdcbb79(0x3c1)](){return{...this['query']};}['where'](_0x3eea55,_0x161a35){const _0x51760d=_0xdcbb79,_0x180d9e={'key':this[_0x51760d(0x698)][_0x51760d(0x5b7)][_0x51760d(0x705)],'operator':_0x3eea55,'value':_0x161a35};if(!_0x1bcb9f[_0x51760d(0x6d8)](_0x180d9e)&&!_0x1bcb9f['isWhereValues'](_0x180d9e)&&!_0x1bcb9f[_0x51760d(0x4c0)](_0x180d9e))throw new _0x5df866(_0x29ef36['QueryBuilderInvalidArgument'],_0x51760d(0x499));return this[_0x51760d(0x698)]['where']=_0x180d9e,this;}['orderBy'](_0x19df7f){const _0x4e0f5e=_0xdcbb79;if(_0x4e0f5e(0x498)!==_0x19df7f&&_0x4e0f5e(0x1d0)!==_0x19df7f)throw new _0x5df866(_0x29ef36['QueryBuilderInvalidArgument'],_0x4e0f5e(0x1c3));return this['query']['orderBy'][_0x4e0f5e(0x4ec)]=_0x19df7f,this;}[_0xdcbb79(0x97e)](_0x2b3785){const _0x48a97a=_0xdcbb79;if('number'!=typeof _0x2b3785||_0x2b3785<0x0)throw new _0x5df866(_0x29ef36[_0x48a97a(0x985)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0x48a97a(0x97e)]=_0x2b3785,this;}[_0xdcbb79(0x1bd)](_0x8d8a6f){const _0x910078=_0xdcbb79;if(_0x910078(0x89b)!=typeof _0x8d8a6f||_0x8d8a6f<0x0)throw new _0x5df866(_0x29ef36['QueryBuilderInvalidArgument'],_0x910078(0x39a));return this[_0x910078(0x698)][_0x910078(0x1bd)]=_0x8d8a6f,this;}static[_0xdcbb79(0x6d8)](_0x4dc58f){const _0x46c4ba=_0xdcbb79;if(!(_0x4dc58f&&'object'==typeof _0x4dc58f&&_0x46c4ba(0x397)in _0x4dc58f&&_0x46c4ba(0x153)in _0x4dc58f))return!0x1;const {operator:_0x43606d,value:_0x4aa18d}=_0x4dc58f;return!(!['==','!=','>','<','<=','>='][_0x46c4ba(0x949)](_0x43606d)||Array[_0x46c4ba(0x3d9)](_0x4aa18d));}static[_0xdcbb79(0x531)](_0x52c3da){const _0x2491d4=_0xdcbb79;if(!(_0x52c3da&&_0x2491d4(0x778)==typeof _0x52c3da&&_0x2491d4(0x397)in _0x52c3da&&_0x2491d4(0x153)in _0x52c3da))return!0x1;const {operator:_0x3756c0,value:_0x1127c6}=_0x52c3da;return!(!['in',_0x2491d4(0x172)][_0x2491d4(0x949)](_0x3756c0)||!Array[_0x2491d4(0x3d9)](_0x1127c6));}static[_0xdcbb79(0x4c0)](_0x23bb57){const _0x1638a4=_0xdcbb79;if(!(_0x23bb57&&_0x1638a4(0x778)==typeof _0x23bb57&&_0x1638a4(0x397)in _0x23bb57&&'value'in _0x23bb57))return!0x1;const {operator:_0x5e700c,value:_0x3768ef}=_0x23bb57;return!(_0x1638a4(0x5b8)!==_0x5e700c||!Array['isArray'](_0x3768ef)||0x2!==_0x3768ef[_0x1638a4(0x454)]);}}class _0x830d90{[_0xdcbb79(0x408)];constructor(_0x27ea13){this['layout']={'tables':{},'version':_0x27ea13};}static[_0xdcbb79(0x46a)](_0x25697a){const _0x3481a1=_0xdcbb79;for(const _0x2af50f in _0x25697a){if(_0x3481a1(0x2ec)!==_0x2af50f&&'tables'!==_0x2af50f)return[!0x1,_0x3481a1(0x2aa)+_0x2af50f+'\x27\x20in\x20layout'];if('tables'===_0x2af50f)for(const _0x52f149 in _0x25697a[_0x3481a1(0x9bd)]){if(_0x3481a1(0x610)!=typeof _0x52f149)return[!0x1,_0x3481a1(0x53f)+_0x52f149+'\x27'];for(const _0x451d71 in _0x25697a[_0x3481a1(0x9bd)][_0x52f149]){if(_0x3481a1(0xa0b)!==_0x451d71)return[!0x1,_0x3481a1(0x2aa)+_0x451d71+_0x3481a1(0xa7b)+_0x52f149+'\x27'];const _0x57300a=_0x25697a[_0x3481a1(0x9bd)][_0x52f149][_0x451d71]??[];for(const _0x2e9cf3 of _0x57300a)if(void 0x0===_0x2e9cf3[_0x3481a1(0x6ff)]||_0x3481a1(0x610)!=typeof _0x2e9cf3[_0x3481a1(0x6ff)])return[!0x1,_0x3481a1(0x3ec)+_0x52f149+_0x3481a1(0x303)];}}else{if(_0x3481a1(0x2ec)===_0x2af50f&&_0x3481a1(0x89b)!=typeof _0x25697a[_0x2af50f])return[!0x1,_0x3481a1(0x791)+_0x25697a[_0x2af50f]+_0x3481a1(0x30c)];}}return[!0x0,'Valid\x20layout'];}static['layout'](_0x47465f){const _0x5ed501=_0xdcbb79,_0x55cc24=new _0x830d90(_0x47465f);return _0x55cc24[_0x5ed501(0x408)][_0x5ed501(0x2ec)]=_0x47465f,_0x55cc24;}['table'](_0x70c28){const _0x191d27=_0xdcbb79;return this['layout']['tables'][_0x70c28]={},new _0x15e75a(this['layout'][_0x191d27(0x9bd)][_0x70c28]);}['getLayout'](){return this['layout'];}}class _0x15e75a{[_0xdcbb79(0x838)];constructor(_0x332d0e){const _0x284cc5=_0xdcbb79;this[_0x284cc5(0x838)]=_0x332d0e;}[_0xdcbb79(0x959)](_0x567aea){const _0x475da4=_0xdcbb79;return this[_0x475da4(0x838)]['indexes']=this[_0x475da4(0x838)]['indexes']??[],this[_0x475da4(0x838)]['indexes'][_0x475da4(0x90d)]({'keyPath':_0x567aea}),this;}}const _0x44229b=0x40000,_0x3eb73a=0x3f800,_0xe479f=0x1388,_0x202fa1=_0xdcbb79(0x464),_0x2d31a8=_0xdcbb79(0x2cd),_0x425387=_0xdcbb79(0xa6e),_0x54bc8a='.crewdle-layout',_0x246b04=0xdbba0,_0x1328d0=_0xdcbb79(0x401),_0x3d26f6=0x61a8,_0x3c7c3b=_0xdcbb79(0x969);var _0x1549ef;!function(_0x599f12){const _0x131572=_0xdcbb79;_0x599f12['ConnectionNotinitialized']=_0x131572(0x90c),_0x599f12[_0x131572(0x59b)]=_0x131572(0x646),_0x599f12[_0x131572(0x593)]=_0x131572(0x666),_0x599f12[_0x131572(0x5c0)]='connection-invalid-data-event',_0x599f12[_0x131572(0x2b6)]=_0x131572(0x7b1),_0x599f12[_0x131572(0x186)]='generative-ai-context-invalid-partial-result',_0x599f12[_0x131572(0x4ba)]='generative-ai-context-job-already-consumed',_0x599f12[_0x131572(0x1e4)]=_0x131572(0x6b6),_0x599f12['GenerativeAIContextJobTimeout']=_0x131572(0x9a9),_0x599f12[_0x131572(0x412)]=_0x131572(0x647),_0x599f12['GraphDatabaseCreationFailed']=_0x131572(0x5b4),_0x599f12['InvalidDataChannel']=_0x131572(0x2d7),_0x599f12['InvalidPublisher']=_0x131572(0x78a),_0x599f12[_0x131572(0x398)]=_0x131572(0xa3d),_0x599f12[_0x131572(0x651)]=_0x131572(0x2c8),_0x599f12[_0x131572(0x86e)]=_0x131572(0x325),_0x599f12['JobDispatcherInvalidPayload']='job-dispatcher-invalid-payload',_0x599f12[_0x131572(0x75f)]='job-dispatcher-job-not-found',_0x599f12[_0x131572(0x8a4)]='job-dispatcher-observer-not-found',_0x599f12[_0x131572(0x6d4)]=_0x131572(0x231),_0x599f12['JobWorkerInvalidType']=_0x131572(0x166),_0x599f12[_0x131572(0x7e0)]=_0x131572(0x548),_0x599f12['KeyValueDatabasePeakNotFound']=_0x131572(0x650),_0x599f12[_0x131572(0x74c)]=_0x131572(0x8a6),_0x599f12['KeyValueDatabaseTransactionTableNotInitialized']=_0x131572(0x634),_0x599f12[_0x131572(0x7a9)]=_0x131572(0x385),_0x599f12[_0x131572(0x1a6)]=_0x131572(0x45d),_0x599f12['MissingRemoteConnection']=_0x131572(0x3ab),_0x599f12[_0x131572(0x3ba)]=_0x131572(0x8b4),_0x599f12[_0x131572(0x3e9)]=_0x131572(0x89c),_0x599f12['ObjectStoreCannotWriteTransaction']=_0x131572(0x3cd),_0x599f12[_0x131572(0x6ef)]=_0x131572(0xa58),_0x599f12[_0x131572(0x9b1)]=_0x131572(0x5cd),_0x599f12[_0x131572(0x4d3)]=_0x131572(0x8ec),_0x599f12[_0x131572(0x4c2)]=_0x131572(0x90b),_0x599f12['RemoteMediaStreamDoesNotExist']=_0x131572(0x411),_0x599f12[_0x131572(0x327)]=_0x131572(0x9d4),_0x599f12[_0x131572(0x382)]=_0x131572(0x46d),_0x599f12[_0x131572(0x95c)]=_0x131572(0x282),_0x599f12[_0x131572(0x58e)]='subscription-request-failed',_0x599f12[_0x131572(0x785)]=_0x131572(0x7a4),_0x599f12[_0x131572(0x47e)]=_0x131572(0x3f7),_0x599f12['NodeAlreadyExist']=_0x131572(0x8e5),_0x599f12[_0x131572(0x444)]='peer-connection-invalid-destination',_0x599f12[_0x131572(0x40d)]='vector-database-creation-failed',_0x599f12['WorkflowDoesNotExist']=_0x131572(0x3df),_0x599f12['WorkflowInvalidBlockType']='workflow-invalid-block-type';}(_0x1549ef||(_0x1549ef={}));const _0x4966e4=new Map([[_0x1549ef[_0xdcbb79(0x35d)],_0xdcbb79(0x7cc)],[_0x1549ef['ConnectionNotConnected'],_0xdcbb79(0x2da)],[_0x1549ef[_0xdcbb79(0x593)],_0xdcbb79(0x7af)],[_0x1549ef['ConnectionInvalidDataEvent'],_0xdcbb79(0x860)],[_0x1549ef['GenerativeAIContextCreationFailed'],_0xdcbb79(0x62b)],[_0x1549ef[_0xdcbb79(0x186)],_0xdcbb79(0x710)],[_0x1549ef[_0xdcbb79(0x4ba)],_0xdcbb79(0x218)],[_0x1549ef['GenerativeAIContextJobFailed'],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x1549ef['GenerativeAIContextJobTimeout'],_0xdcbb79(0x713)],[_0x1549ef[_0xdcbb79(0x412)],'AI\x20worker\x20creation\x20failed.'],[_0x1549ef[_0xdcbb79(0x935)],_0xdcbb79(0x26c)],[_0x1549ef[_0xdcbb79(0x921)],'Invalid\x20data\x20channel.'],[_0x1549ef[_0xdcbb79(0x868)],_0xdcbb79(0x468)],[_0x1549ef[_0xdcbb79(0x398)],_0xdcbb79(0x661)],[_0x1549ef[_0xdcbb79(0x651)],'Invalid\x20subscription.'],[_0x1549ef[_0xdcbb79(0x86e)],_0xdcbb79(0x844)],[_0x1549ef['JobDispatcherInvalidPayload'],_0xdcbb79(0x6aa)],[_0x1549ef[_0xdcbb79(0x75f)],_0xdcbb79(0x569)],[_0x1549ef[_0xdcbb79(0x8a4)],'Job\x20service\x20observer\x20not\x20found.'],[_0x1549ef[_0xdcbb79(0x6d4)],'Job\x20worker\x20creation\x20failed.'],[_0x1549ef[_0xdcbb79(0x51f)],_0xdcbb79(0x1a3)],[_0x1549ef[_0xdcbb79(0x7e0)],_0xdcbb79(0x55e)],[_0x1549ef[_0xdcbb79(0x1ce)],_0xdcbb79(0xa1e)],[_0x1549ef['KeyValueDatabaseTableDoesNotExist'],_0xdcbb79(0x578)],[_0x1549ef['KeyValueDatabaseTransactionTableNotInitialized'],_0xdcbb79(0x9c5)],[_0x1549ef['KeyValueDatabaseTransactionValueNotSet'],_0xdcbb79(0x8da)],[_0x1549ef[_0xdcbb79(0x1a6)],_0xdcbb79(0x9da)],[_0x1549ef[_0xdcbb79(0x29d)],'Connection\x20does\x20not\x20exist.'],[_0x1549ef[_0xdcbb79(0x3ba)],_0xdcbb79(0x865)],[_0x1549ef['MistletCapacityReportNotSet'],'Mistlet\x20capacity\x20report\x20not\x20set.'],[_0x1549ef[_0xdcbb79(0x1e9)],_0xdcbb79(0x1dc)],[_0x1549ef[_0xdcbb79(0x9b1)],_0xdcbb79(0x807)],[_0x1549ef[_0xdcbb79(0x6ef)],_0xdcbb79(0x55b)],[_0x1549ef[_0xdcbb79(0x4d3)],_0xdcbb79(0x4e1)],[_0x1549ef[_0xdcbb79(0x4c2)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x1549ef[_0xdcbb79(0x4a7)],'Remote\x20stream\x20does\x20not\x20exist.'],[_0x1549ef['RemoteMediaStreamMissingProviderId'],_0xdcbb79(0x91b)],[_0x1549ef[_0xdcbb79(0x382)],'Remote\x20connection\x20already\x20exists.'],[_0x1549ef[_0xdcbb79(0x95c)],_0xdcbb79(0x15d)],[_0x1549ef[_0xdcbb79(0x58e)],_0xdcbb79(0x442)],[_0x1549ef[_0xdcbb79(0x785)],_0xdcbb79(0x69d)],[_0x1549ef[_0xdcbb79(0x47e)],'Node\x20does\x20not\x20exist.'],[_0x1549ef[_0xdcbb79(0x4c8)],_0xdcbb79(0x853)],[_0x1549ef[_0xdcbb79(0x444)],_0xdcbb79(0x9b8)],[_0x1549ef[_0xdcbb79(0x40d)],_0xdcbb79(0x7ba)],[_0x1549ef[_0xdcbb79(0x497)],_0xdcbb79(0x6ab)],[_0x1549ef[_0xdcbb79(0x751)],_0xdcbb79(0x296)]]);class _0x3c9628 extends Error{['code'];static ['codes']=_0x1549ef;[_0xdcbb79(0x78e)];constructor(_0x374ee,_0x3daa6a){const _0x57fd0e=_0xdcbb79;super('Internal\x20SDK\x20Error:\x20'+_0x374ee+':\x20'+_0x4966e4[_0x57fd0e(0x3ee)](_0x374ee)+_0x57fd0e(0x6b0)+JSON[_0x57fd0e(0x6fb)](_0x3daa6a)),this[_0x57fd0e(0x348)]=_0x374ee,this[_0x57fd0e(0x78e)]=_0x3daa6a||{};}}var _0x31d4ec,_0x492123,_0x54a3f8,_0x1ce65a,_0x548014,_0x4240da,_0x447632;!function(_0x34cbd4){const _0xd5e130=_0xdcbb79;_0x34cbd4[_0x34cbd4[_0xd5e130(0x4a4)]=0x0]=_0xd5e130(0x4a4),_0x34cbd4[_0x34cbd4[_0xd5e130(0x540)]=0x1]=_0xd5e130(0x540),_0x34cbd4[_0x34cbd4[_0xd5e130(0x4dd)]=0x2]=_0xd5e130(0x4dd),_0x34cbd4[_0x34cbd4[_0xd5e130(0x207)]=0x3]=_0xd5e130(0x207),_0x34cbd4[_0x34cbd4[_0xd5e130(0x50c)]=0x4]='CloseKeyValueDatabase',_0x34cbd4[_0x34cbd4[_0xd5e130(0x99e)]=0x5]=_0xd5e130(0x99e),_0x34cbd4[_0x34cbd4['CloseObjectStoreBucket']=0x6]=_0xd5e130(0x885),_0x34cbd4[_0x34cbd4[_0xd5e130(0x55d)]=0x7]='ClosePubSubTopic',_0x34cbd4[_0x34cbd4[_0xd5e130(0x2ca)]=0x8]=_0xd5e130(0x2ca),_0x34cbd4[_0x34cbd4[_0xd5e130(0x6e5)]=0x9]=_0xd5e130(0x6e5),_0x34cbd4[_0x34cbd4['GenerativeAIContextStats']=0xa]=_0xd5e130(0x594),_0x34cbd4[_0x34cbd4[_0xd5e130(0x3bb)]=0xb]=_0xd5e130(0x3bb),_0x34cbd4[_0x34cbd4[_0xd5e130(0x53b)]=0xc]=_0xd5e130(0x53b),_0x34cbd4[_0x34cbd4[_0xd5e130(0x67e)]=0xd]=_0xd5e130(0x67e),_0x34cbd4[_0x34cbd4[_0xd5e130(0x629)]=0xe]=_0xd5e130(0x629),_0x34cbd4[_0x34cbd4['KeyValueDatabaseRequestPeakTransactions']=0xf]='KeyValueDatabaseRequestPeakTransactions',_0x34cbd4[_0x34cbd4[_0xd5e130(0x889)]=0x10]=_0xd5e130(0x889),_0x34cbd4[_0x34cbd4[_0xd5e130(0x98f)]=0x11]=_0xd5e130(0x98f),_0x34cbd4[_0x34cbd4[_0xd5e130(0x845)]=0x12]=_0xd5e130(0x845),_0x34cbd4[_0x34cbd4[_0xd5e130(0x21d)]=0x13]=_0xd5e130(0x21d),_0x34cbd4[_0x34cbd4[_0xd5e130(0x9d1)]=0x14]=_0xd5e130(0x9d1),_0x34cbd4[_0x34cbd4[_0xd5e130(0xa15)]=0x15]='ObjectStoreStats',_0x34cbd4[_0x34cbd4[_0xd5e130(0x95b)]=0x16]='PubSubTopicStats',_0x34cbd4[_0x34cbd4['PublishMediaStream']=0x17]='PublishMediaStream',_0x34cbd4[_0x34cbd4[_0xd5e130(0x817)]=0x18]='RemoteMediaStreamTrackFail',_0x34cbd4[_0x34cbd4[_0xd5e130(0x41e)]=0x19]=_0xd5e130(0x41e),_0x34cbd4[_0x34cbd4[_0xd5e130(0x29b)]=0x1a]='UnpublishMediaStream',_0x34cbd4[_0x34cbd4['UnsubscribeMediaStream']=0x1b]='UnsubscribeMediaStream',_0x34cbd4[_0x34cbd4[_0xd5e130(0x62a)]=0x1c]=_0xd5e130(0x62a),_0x34cbd4[_0x34cbd4[_0xd5e130(0xa45)]=0x1d]=_0xd5e130(0xa45);}(_0x31d4ec||(_0x31d4ec={})),function(_0x4478d6){const _0x29a991=_0xdcbb79;_0x4478d6[_0x29a991(0x26e)]=_0x29a991(0x32e),_0x4478d6[_0x29a991(0x5e4)]=_0x29a991(0x5a2),_0x4478d6['Delete']=_0x29a991(0x652),_0x4478d6[_0x29a991(0x5b3)]=_0x29a991(0x1f2),_0x4478d6[_0x29a991(0x9b3)]=_0x29a991(0x43c),_0x4478d6['RequestAccepted']=_0x29a991(0x827),_0x4478d6[_0x29a991(0x437)]=_0x29a991(0xa5d),_0x4478d6[_0x29a991(0x2fe)]='request-file-write';}(_0x492123||(_0x492123={})),function(_0x34fdc9){const _0x36c38a=_0xdcbb79;_0x34fdc9[_0x36c38a(0x8c1)]=_0x36c38a(0x86d),_0x34fdc9[_0x36c38a(0x46e)]='transaction';}(_0x54a3f8||(_0x54a3f8={})),function(_0x10d835){const _0x5cb7ab=_0xdcbb79;_0x10d835[_0x5cb7ab(0x881)]=_0x5cb7ab(0x164),_0x10d835[_0x5cb7ab(0x61b)]=_0x5cb7ab(0x65d),_0x10d835[_0x5cb7ab(0x65c)]=_0x5cb7ab(0x652);}(_0x1ce65a||(_0x1ce65a={})),function(_0x1796ac){const _0x15964d=_0xdcbb79;_0x1796ac[_0x15964d(0x5c6)]=_0x15964d(0x3ee),_0x1796ac[_0x15964d(0x375)]=_0x15964d(0x232),_0x1796ac[_0x15964d(0x3e4)]='count';}(_0x548014||(_0x548014={})),function(_0x452c76){const _0x4cd4b9=_0xdcbb79;_0x452c76[_0x452c76['Request']=0x0]=_0x4cd4b9(0x8c1),_0x452c76[_0x452c76[_0x4cd4b9(0x429)]=0x1]='Bid',_0x452c76[_0x452c76[_0x4cd4b9(0x562)]=0x2]=_0x4cd4b9(0x562),_0x452c76[_0x452c76[_0x4cd4b9(0x484)]=0x3]=_0x4cd4b9(0x484),_0x452c76[_0x452c76['Result']=0x4]=_0x4cd4b9(0x545),_0x452c76[_0x452c76[_0x4cd4b9(0x502)]=0x5]='Failed';}(_0x4240da||(_0x4240da={})),function(_0x5a6893){const _0x2ccdb5=_0xdcbb79;_0x5a6893[_0x5a6893[_0x2ccdb5(0x183)]=0x0]=_0x2ccdb5(0x183),_0x5a6893[_0x5a6893[_0x2ccdb5(0x285)]=0x1]=_0x2ccdb5(0x285),_0x5a6893[_0x5a6893[_0x2ccdb5(0x6cf)]=0x2]='Content',_0x5a6893[_0x5a6893[_0x2ccdb5(0x915)]=0x3]=_0x2ccdb5(0x915),_0x5a6893[_0x5a6893['Stats']=0x4]='Stats',_0x5a6893[_0x5a6893[_0x2ccdb5(0x681)]=0x5]='Detection',_0x5a6893[_0x5a6893[_0x2ccdb5(0x221)]=0x6]='Remediation';}(_0x447632||(_0x447632={}));class _0x30e0bb{['owner'];[_0xdcbb79(0x726)];[_0xdcbb79(0x5df)];constructor(_0x4421ec,_0x4633df){const _0x4c750c=_0xdcbb79;this[_0x4c750c(0x1af)]=_0x4421ec,this[_0x4c750c(0x726)]=_0x4633df;}['getLabel'](){const _0x460ff8=_0xdcbb79;return this[_0x460ff8(0x726)];}[_0xdcbb79(0xa37)](){const _0xd1e965=_0xdcbb79;return this[_0xd1e965(0x1af)][_0xd1e965(0xa10)]();}[_0xdcbb79(0x4f6)](){}[_0xdcbb79(0x724)](_0x5bfaf5){const _0x2b82c4=_0xdcbb79;this[_0x2b82c4(0x5df)]=_0x5bfaf5;}['unregisterSystemPublisher'](){const _0x4ce389=_0xdcbb79;delete this[_0x4ce389(0x5df)];}}const _0x34d3c5=require('firebase/firestore');let _0x5eb805=_0x56af55(0x14d)['O'];function _0x58ef5a(_0x587e23){const _0x253c61=_0xdcbb79;return!(!_0x587e23||_0x253c61(0x778)!=typeof _0x587e23||Array['isArray'](_0x587e23));}_0x5eb805=function _0x53d141(_0x19a44a,..._0x5df6e8){const _0x1640fa=_0xdcbb79;if(!Array['isArray'](_0x5df6e8)||0x0===_0x5df6e8['length'])return _0x19a44a;const _0x4bb066=_0x5df6e8[_0x1640fa(0x46b)]();if(_0x58ef5a(_0x19a44a)&&_0x58ef5a(_0x4bb066)){for(const _0x5d598c in _0x4bb066)_0x58ef5a(_0x4bb066[_0x5d598c])?(_0x19a44a[_0x5d598c]||Object[_0x1640fa(0x4f3)](_0x19a44a,{[_0x5d598c]:{}}),_0x53d141(_0x19a44a[_0x5d598c],_0x4bb066[_0x5d598c])):Object[_0x1640fa(0x4f3)](_0x19a44a,{[_0x5d598c]:_0x4bb066[_0x5d598c]});}return _0x53d141(_0x19a44a,..._0x5df6e8);}(_0x5eb805,_0x56af55(0x3e6)['O']);const _0x2df60e=_0x5eb805,_0x5246b3=require('firebase/app'),_0x33ed90=require('firebase/auth'),_0x6be76a=require('firebase/database'),_0x577889=require('firebase/functions'),_0x539333=require('uuid'),_0x310222='CREWDLE_WEB_SDK';class _0x2ae21d{static [_0xdcbb79(0x6f7)];['app'];[_0xdcbb79(0x9f6)];['functions'];[_0xdcbb79(0x96e)];['firestore'];[_0xdcbb79(0x2e2)];[_0xdcbb79(0x48d)];constructor(){const _0x482d47=_0xdcbb79;this[_0x482d47(0x8ff)]();}static[_0xdcbb79(0x626)](){const _0xd34231=_0xdcbb79;return _0x2ae21d[_0xd34231(0x6f7)]||(_0x2ae21d[_0xd34231(0x6f7)]=new _0x2ae21d()),_0x2ae21d[_0xd34231(0x6f7)];}[_0xdcbb79(0x8ff)](){const _0x4629c2=_0xdcbb79;if(!this[_0x4629c2(0x7bb)]){let _0x586f1d=_0x310222;_0x4629c2(0x1ba)!=typeof window&&(_0x586f1d=_0x310222+'-'+(0x0,_0x539333['v4'])()),this[_0x4629c2(0x7bb)]=(0x0,_0x5246b3['initializeApp'])(_0x2df60e[_0x4629c2(0x55c)],''+_0x586f1d);}return this[_0x4629c2(0x7bb)];}[_0xdcbb79(0x19d)](){const _0x415661=_0xdcbb79;return this[_0x415661(0x9f6)]||(this[_0x415661(0x9f6)]=(0x0,_0x33ed90[_0x415661(0x19d)])(this[_0x415661(0x8ff)]())),this[_0x415661(0x9f6)];}[_0xdcbb79(0x3eb)](){const _0x3a0337=_0xdcbb79;return this['functions']||(this[_0x3a0337(0x901)]=(0x0,_0x577889['getFunctions'])(this['getApp'](),_0x2df60e[_0x3a0337(0x55c)][_0x3a0337(0x8ab)])),this['functions'];}[_0xdcbb79(0x767)](){const _0x117b72=_0xdcbb79;return this['database']||(this['database']=(0x0,_0x6be76a[_0x117b72(0x767)])(this[_0x117b72(0x8ff)]())),this['database'];}[_0xdcbb79(0x152)](){const _0x4eaaf8=_0xdcbb79;return this['firestore']||(this[_0x4eaaf8(0x842)]=(0x0,_0x34d3c5[_0x4eaaf8(0x152)])(this[_0x4eaaf8(0x8ff)]())),this[_0x4eaaf8(0x842)];}async['getEstimatedTimestamp'](){const _0x134609=_0xdcbb79;if(this['clockSkew']&&this[_0x134609(0x48d)]&&Date['now']()-this[_0x134609(0x48d)]<0x493e0)return Date['now']()+this[_0x134609(0x2e2)];const _0x5a3622=this[_0x134609(0x767)](),_0x10e95c=(0x0,_0x6be76a[_0x134609(0x573)])(_0x5a3622,'.info/serverTimeOffset');return new Promise(_0x2c2441=>{(0x0,_0x6be76a['onValue'])(_0x10e95c,_0x334551=>{const _0x3a4022=a0_0x27c7;(0x0,_0x6be76a[_0x3a4022(0x809)])(_0x10e95c),this[_0x3a4022(0x2e2)]=_0x334551[_0x3a4022(0x834)](),this[_0x3a4022(0x48d)]=Date[_0x3a4022(0x667)](),_0x2c2441(Date['now']()+(this[_0x3a4022(0x2e2)]??0x0));});});}}const _0x35c568=_0x2ae21d[_0xdcbb79(0x626)]();class _0x3fe80f{static [_0xdcbb79(0x6f7)];[_0xdcbb79(0x258)]=[_0x1f75f2[_0xdcbb79(0x7fe)]];[_0xdcbb79(0x5d9)]=!0x1;['loggingConnectors'];[_0xdcbb79(0x8de)]='';['globalObject'];[_0xdcbb79(0x510)]=[];[_0xdcbb79(0x82d)];[_0xdcbb79(0x592)];['retryLimit']=0xa;[_0xdcbb79(0x6f8)]=0x1f4;[_0xdcbb79(0x89a)]=0x1c2;[_0xdcbb79(0x7ab)]=0x3e8;constructor(){const _0x2e91f4=_0xdcbb79;if(_0x2e91f4(0x1ba)!=typeof window)this[_0x2e91f4(0x6fd)]=window;else{if(void 0x0===_0x56af55['g'])throw new Error(_0x2e91f4(0x508));this[_0x2e91f4(0x6fd)]=_0x56af55['g'];}this[_0x2e91f4(0x570)](),this[_0x2e91f4(0x6fd)][_0x2e91f4(0x559)]=_0x12b2a0=>{const _0x3e4b1c=_0x2e91f4;if(_0x12b2a0===_0x1f75f2[_0x3e4b1c(0xa23)])return this[_0x3e4b1c(0x258)]=Object[_0x3e4b1c(0x7b7)](_0x1f75f2)[_0x3e4b1c(0x945)](_0x5306f6=>_0x1f75f2[_0x5306f6]),void Object[_0x3e4b1c(0x7b7)](_0x1f75f2)['forEach'](_0x1f7083=>{const _0x5a3e40=_0x3e4b1c,_0x1319b7=_0x1f7083;localStorage[_0x5a3e40(0x338)](_0x5a3e40(0x69e)+_0x1f75f2[_0x1319b7],_0x5a3e40(0x1ac));});this[_0x3e4b1c(0x258)][_0x3e4b1c(0x949)](_0x12b2a0)||(this[_0x3e4b1c(0x258)][_0x3e4b1c(0x90d)](_0x12b2a0),localStorage['setItem'](_0x3e4b1c(0x69e)+_0x12b2a0,_0x3e4b1c(0x1ac)));},this[_0x2e91f4(0x6fd)]['crewdleSDKDisableLogging']=_0xff88c6=>{const _0xa73fd2=_0x2e91f4;if(!_0xff88c6||_0xff88c6===_0x1f75f2[_0xa73fd2(0xa23)])return this[_0xa73fd2(0x258)]=[],void Object[_0xa73fd2(0x7b7)](_0x1f75f2)['forEach'](_0x114a42=>{const _0x4c5254=_0xa73fd2,_0x547fb6=_0x114a42;localStorage[_0x4c5254(0x95e)](_0x4c5254(0x69e)+_0x1f75f2[_0x547fb6]);});this[_0xa73fd2(0x258)]['includes'](_0xff88c6)&&(this['enabledChannels']=this[_0xa73fd2(0x258)][_0xa73fd2(0x4e9)](_0x56d1e2=>_0x56d1e2!==_0xff88c6),localStorage['removeItem'](_0xa73fd2(0x69e)+_0xff88c6));},this[_0x2e91f4(0x6fd)][_0x2e91f4(0x4cb)]=_0x1f75f2;}static[_0xdcbb79(0x626)](){const _0x403849=_0xdcbb79;try{return _0x3fe80f[_0x403849(0x6f7)]||(_0x3fe80f[_0x403849(0x6f7)]=new _0x3fe80f()),_0x3fe80f[_0x403849(0x6f7)];}catch(_0x6d6ac){return console[_0x403849(0x33f)](_0x403849(0x93a),_0x6d6ac),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}['setVendorId'](_0x3d6a23){const _0x51b6b=_0xdcbb79;this[_0x51b6b(0x8de)]=_0x3d6a23,this[_0x51b6b(0x510)]=[],this[_0x51b6b(0x82d)]=this[_0x51b6b(0x2f0)](),this['batchTimeout']&&(clearTimeout(this[_0x51b6b(0x592)]),this[_0x51b6b(0x592)]=void 0x0);}[_0xdcbb79(0x1b3)](_0x2ca1c4){const _0x37e6d1=_0xdcbb79;this[_0x37e6d1(0x3f0)]=_0x2ca1c4;}['debug'](_0x44a4c1,..._0x43f812){const _0x11f4eb=_0xdcbb79;this['debugEnabled']&&this[_0x11f4eb(0x198)](_0x1f75f2[_0x11f4eb(0x7fe)],'DEBUG\x20-\x20'+_0x44a4c1,..._0x43f812);}[_0xdcbb79(0x3e6)](_0x1d27c6,..._0x2983e5){const _0x51a117=_0xdcbb79;console[_0x51a117(0x198)](_0x1d27c6,..._0x2983e5);}[_0xdcbb79(0x198)](_0x5a3d3d,_0x1a7c46,..._0x1978c8){const _0x1d9056=_0xdcbb79;_0x2df60e[_0x1d9056(0x9f4)]||(this[_0x1d9056(0x258)][_0x1d9056(0x949)](_0x5a3d3d)&&console[_0x1d9056(0x198)](_0x1d9056(0xa07)+_0x5a3d3d+'\x27\x0a',new Date()+'\x0a',_0x1a7c46,..._0x1978c8),this[_0x1d9056(0x3f0)]&&this[_0x1d9056(0x3f0)][_0x1d9056(0x5f6)](_0x46de6c=>{const _0x8e5687=_0x1d9056;this['isInternalLoggingConnector'](_0x46de6c)&&_0x46de6c[_0x8e5687(0x2fc)]()['includes'](_0x5a3d3d)&&_0x46de6c[_0x8e5687(0x198)](_0x1a7c46,{'vendorId':this[_0x8e5687(0x8de)],'nodeId':'','nodeType':'','data':{'channel':_0x5a3d3d,..._0x1978c8}});}));}[_0xdcbb79(0x88a)](_0xe44760,_0x42a594,..._0x4e9c0f){const _0x447e32=_0xdcbb79;_0x2df60e[_0x447e32(0x9f4)]||(this['enabledChannels'][_0x447e32(0x949)](_0xe44760)&&console[_0x447e32(0x198)](_0x42a594,..._0x4e9c0f),this[_0x447e32(0x3f0)]&&this[_0x447e32(0x3f0)][_0x447e32(0x5f6)](_0x439d1b=>{const _0x309185=_0x447e32;this[_0x309185(0x5ae)](_0x439d1b)&&_0x439d1b[_0x309185(0x2fc)]()[_0x309185(0x949)](_0xe44760)&&_0x439d1b[_0x309185(0x198)](_0x42a594,{'vendorId':this[_0x309185(0x8de)],'nodeId':'','nodeType':'','data':{'channel':_0xe44760,..._0x4e9c0f}});}));}[_0xdcbb79(0x265)](_0x2de315,_0x4e2fb5){const _0x1627a4=_0xdcbb79;if(!this[_0x1627a4(0x3f0)])return;const _0x99002e={'vendorId':this[_0x1627a4(0x8de)],..._0x4e2fb5};this[_0x1627a4(0x3f0)]['forEach'](_0x3e298c=>{_0x3e298c['log'](_0x2de315,_0x99002e);});}[_0xdcbb79(0x6bf)](_0x4cd305,_0x527f2d){const _0x1f246e=_0xdcbb79;this[_0x1f246e(0x77d)](_0x4cd305,_0x527f2d),this['logBatch']();}[_0xdcbb79(0x336)](_0x3a2594,_0x4cc13c,_0x3670d3){const _0x37da9b=_0xdcbb79;(0x0,_0x34d3c5[_0x37da9b(0x572)])((0x0,_0x34d3c5['doc'])(_0x35c568[_0x37da9b(0x152)](),_0x37da9b(0x693)+this['vendorId']+'/'+_0x3a2594+'/'+_0x4cc13c),{'storage':_0x3670d3,'timestamp':(0x0,_0x34d3c5['serverTimestamp'])()});}[_0xdcbb79(0x57a)](){const _0x48d715=_0xdcbb79;this[_0x48d715(0x82d)]&&(this[_0x48d715(0x82d)][_0x48d715(0x781)]+=0x1,this['currentBatch'][_0x48d715(0x781)]===this[_0x48d715(0x89a)]?this[_0x48d715(0x735)]():this[_0x48d715(0x592)]||(this[_0x48d715(0x592)]=this[_0x48d715(0x6fd)][_0x48d715(0x274)](()=>this[_0x48d715(0x735)](),this[_0x48d715(0x7ab)])));}async['processBatch'](){const _0x157099=_0xdcbb79;if(this[_0x157099(0x82d)]){for(this[_0x157099(0x510)]['push'](this[_0x157099(0x82d)]),this['currentBatch']=this[_0x157099(0x2f0)]();this[_0x157099(0x510)][_0x157099(0x454)]>0x0;){const _0x217ac2=this[_0x157099(0x510)][_0x157099(0x46b)]();if(!await this[_0x157099(0x6cc)](_0x217ac2))break;}clearTimeout(this[_0x157099(0x592)]),this[_0x157099(0x592)]=void 0x0;}}['error'](_0x5f1fbc,_0x14227d,..._0x3b51a4){const _0x598003=_0xdcbb79;if(console['error'](new Date(),_0x5f1fbc,_0x14227d,..._0x3b51a4),this[_0x598003(0x3f0)]){const _0x3e67b6={'vendorId':this['vendorId'],..._0x14227d};this[_0x598003(0x3f0)][_0x598003(0x5f6)](_0x62289e=>{const _0x203b0c=_0x598003;_0x62289e[_0x203b0c(0x33f)](_0x5f1fbc,_0x3e67b6);});}}['warning'](_0x2571d9,_0x4df5d9,..._0x5cb755){const _0x387303=_0xdcbb79;if(console[_0x387303(0x790)](new Date(),_0x2571d9,_0x4df5d9,_0x5cb755),this[_0x387303(0x3f0)]){const _0x5fd65e={'vendorId':this[_0x387303(0x8de)],..._0x4df5d9};this[_0x387303(0x3f0)][_0x387303(0x5f6)](_0x5ba539=>{const _0x151b7b=_0x387303;_0x5ba539[_0x151b7b(0x790)](_0x2571d9,_0x5fd65e);});}}[_0xdcbb79(0x5e1)](_0x53c92e){const _0x19a6f6=_0xdcbb79;return this['enabledChannels'][_0x19a6f6(0x949)](_0x53c92e);}async[_0xdcbb79(0x6cc)](_0x46b7a2,_0x3859d2=0x0){const _0x2ed603=_0xdcbb79;if(_0x46b7a2[_0x2ed603(0x781)]>0x0)try{return await _0x46b7a2[_0x2ed603(0xa3a)][_0x2ed603(0x4ff)](),!0x0;}catch(_0x1fef51){if(console[_0x2ed603(0x33f)](_0x2ed603(0x278),_0x1fef51,_0x2ed603(0x41c),_0x46b7a2['operations']),!(_0x3859d2<this[_0x2ed603(0x1e3)])){const {nodeId:_0x55986f='',nodeType:_0x24b28b='',clusterId:_0xd346bd=''}=_0x46b7a2[_0x2ed603(0x85a)][0x0][_0x2ed603(0x78e)],_0x43fd01={'nodeId':_0x55986f,'nodeType':_0x24b28b,'clusterId':_0xd346bd,'data':{'operations':_0x46b7a2[_0x2ed603(0x85a)],'error':_0x1fef51}};return this['error'](_0x2ed603(0x1d9),_0x43fd01),!0x1;}{const _0x3dd163=this[_0x2ed603(0x2b8)](_0x46b7a2[_0x2ed603(0x85a)]);setTimeout(()=>this[_0x2ed603(0x6cc)](_0x3dd163,_0x3859d2+0x1),this[_0x2ed603(0x6f8)]*Math[_0x2ed603(0x9f9)](0x2,_0x3859d2));}}}[_0xdcbb79(0x570)](){const _0x3f7cad=_0xdcbb79;try{Object['keys'](_0x1f75f2)[_0x3f7cad(0x5f6)](_0x26f4da=>{const _0x471926=_0x3f7cad,_0x4c63f9=_0x26f4da;localStorage[_0x471926(0x3d3)](_0x471926(0x69e)+_0x1f75f2[_0x4c63f9])&&(console[_0x471926(0x198)](_0x471926(0x1b8),_0x1f75f2[_0x4c63f9]),this['enabledChannels'][_0x471926(0x90d)](_0x1f75f2[_0x4c63f9]));});}catch(_0x2f8e42){}}[_0xdcbb79(0x5ae)](_0x4f1d6e){const _0x5d3c18=_0xdcbb79;return void 0x0!==_0x4f1d6e[_0x5d3c18(0x2fc)];}[_0xdcbb79(0x2f0)](){const _0x4c5c32=_0xdcbb79;return{'batch':(0x0,_0x34d3c5[_0x4c5c32(0x4d7)])(_0x35c568[_0x4c5c32(0x152)]()),'operations':[],'counter':0x0};}[_0xdcbb79(0x2b8)](_0xa09375){const _0x57603c=_0xdcbb79,_0x4cbad6=(0x0,_0x34d3c5['writeBatch'])(_0x35c568[_0x57603c(0x152)]());return _0xa09375[_0x57603c(0x5f6)](_0x220049=>this[_0x57603c(0x388)](_0x4cbad6,_0x220049)),{'batch':_0x4cbad6,'operations':_0xa09375,'counter':_0xa09375[_0x57603c(0x454)]};}[_0xdcbb79(0x388)](_0x2b2509,_0x4457cc){const _0x523b4a=_0xdcbb79;switch(_0x4457cc[_0x523b4a(0x8fa)]){case _0x523b4a(0x80a):_0x2b2509[_0x523b4a(0x80a)](_0x4457cc[_0x523b4a(0x573)],_0x4457cc[_0x523b4a(0x78e)]);break;case _0x523b4a(0x65d):_0x2b2509[_0x523b4a(0x65d)](_0x4457cc[_0x523b4a(0x573)],_0x4457cc['data']);break;case _0x523b4a(0x652):_0x2b2509[_0x523b4a(0x652)](_0x4457cc[_0x523b4a(0x573)]);}}[_0xdcbb79(0x77d)](_0x3db5a3,_0x5689d6){const _0x28fb6d=_0xdcbb79;this[_0x28fb6d(0x82d)]||(this['currentBatch']=this[_0x28fb6d(0x2f0)]());const _0x2f6c16=(0x0,_0x34d3c5[_0x28fb6d(0x6c3)])((0x0,_0x34d3c5[_0x28fb6d(0x4d2)])(_0x35c568[_0x28fb6d(0x152)](),_0x28fb6d(0x693)+this[_0x28fb6d(0x8de)]+'/logs')),_0x1aab9d={..._0x5689d6,'service':_0x3db5a3,'timestamp':(0x0,_0x34d3c5[_0x28fb6d(0x241)])()},_0x3dd1b6={'type':_0x28fb6d(0x80a),'path':_0x2f6c16[_0x28fb6d(0x9e2)],'ref':_0x2f6c16,'data':_0x1aab9d};return this['currentBatch'][_0x28fb6d(0x85a)][_0x28fb6d(0x90d)](_0x3dd1b6),this[_0x28fb6d(0x388)](this[_0x28fb6d(0x82d)][_0x28fb6d(0xa3a)],_0x3dd1b6),_0x2f6c16;}}const _0xbff73d=_0x3fe80f[_0xdcbb79(0x626)]();function _0x151b83(_0xdfffd9,_0x13f13c){return'/'===_0xdfffd9?_0xdfffd9+_0x13f13c:_0xdfffd9+'/'+_0x13f13c;}function _0x99a207(_0x562f9e){const _0x4c1839=_0xdcbb79,_0x5617f0=function(_0x131eda){const _0x1c68e2=a0_0x27c7;return _0x131eda[_0x1c68e2(0x470)]('/')[_0x1c68e2(0x4e9)](_0x3587b4=>_0x3587b4[_0x1c68e2(0x454)]>0x0);}(_0x562f9e),_0x408b96=_0x5617f0[_0x4c1839(0xa4a)]()||'',_0x4a38d8=_0x5617f0[_0x4c1839(0x9e4)]('/');return[0x0===_0x4a38d8[_0x4c1839(0x454)]?'/':_0x4a38d8,_0x408b96];}async function _0x3e61f5(_0x4993b9){const _0x3e2ff4=_0xdcbb79;let _0x3cafa5;const _0x414dda=_0x4993b9[_0x3e2ff4(0x400)]/0x100000;_0x3cafa5=_0x414dda<=0xa?0x1:_0x414dda<=0x64?0.5:_0x414dda<=0x1f4?0.1:0.05;const _0x25eb63=Math[_0x3e2ff4(0x3c5)](_0x4993b9[_0x3e2ff4(0x400)]/_0x44229b),_0x4712d4=Math[_0x3e2ff4(0x3c5)](_0x25eb63*_0x3cafa5);let _0x393046=new Uint8Array();for(let _0x4cd548=0x0;_0x4cd548<_0x4712d4;_0x4cd548++){const _0x543dc0=Math[_0x3e2ff4(0x725)](_0x4cd548/_0x4712d4*_0x4993b9['size']);let _0x30ae74=_0x543dc0+_0x44229b;_0x30ae74>_0x4993b9[_0x3e2ff4(0x400)]&&(_0x30ae74=_0x4993b9[_0x3e2ff4(0x400)]);const _0x2926fb=_0x4993b9['slice'](_0x543dc0,_0x30ae74),_0x487b8d=await _0x2926fb[_0x3e2ff4(0x4eb)](),_0x3bfa39=new Uint8Array([..._0x393046,...new Uint8Array(_0x487b8d)]);_0x393046=new Uint8Array(await crypto[_0x3e2ff4(0x4c6)]['digest']('SHA-256',_0x3bfa39));}return Array[_0x3e2ff4(0x6dd)](new Uint8Array(_0x393046))[_0x3e2ff4(0x945)](_0x3164da=>_0x3164da[_0x3e2ff4(0x298)](0x10)[_0x3e2ff4(0x307)](0x2,'0'))[_0x3e2ff4(0x9e4)]('');}async function*_0x2cdf49(_0x33e6f8,_0x2f9d82=0x0,_0x17aa55){const _0x1f5ec8=_0xdcbb79;let _0x175682=_0x2f9d82*_0x3eb73a,_0x28ca9d=_0x33e6f8;for(;_0x175682<_0x28ca9d[_0x1f5ec8(0x400)];){let _0x5d06e8=_0x175682+_0x3eb73a;_0x5d06e8>_0x28ca9d[_0x1f5ec8(0x400)]&&(_0x5d06e8=_0x28ca9d[_0x1f5ec8(0x400)]);let _0x3af368=0x0;for(;_0x3af368<0x14;)try{await _0x17aa55?.();const _0x33f440=_0x28ca9d[_0x1f5ec8(0x3ef)](_0x175682,_0x5d06e8,_0x1f5ec8(0x5c5)),_0x9b7c09=await _0x33f440[_0x1f5ec8(0x4eb)]();yield _0x9b7c09,_0x175682=_0x5d06e8,await new Promise(_0xee6980=>setTimeout(_0xee6980,0x0));break;}catch(_0x3cd3f0){if(console[_0x1f5ec8(0x33f)]('Error\x20reading\x20file\x20chunk\x20after\x20'+(_0x3af368+0x1)+'\x20attempts:',_0x3cd3f0),_0x3af368++,_0x3af368>0x14)throw _0x3cd3f0;let _0x4b214a=0x3e8*Math[_0x1f5ec8(0x9f9)](0x2,_0x3af368);_0x4b214a>0x7530&&(_0x4b214a=0x7530),await new Promise(_0x419956=>setTimeout(_0x419956,_0x4b214a));}}}class _0x2be12e extends _0x30e0bb{['outgoingTopic'];[_0xdcbb79(0x288)];[_0xdcbb79(0xa08)]=new Map();[_0xdcbb79(0x9b6)]=0x0;[_0xdcbb79(0x958)]=0x0;['bytesSent']=0x0;[_0xdcbb79(0x6d1)]=0x0;constructor(_0x4f4949,_0xf095f1){super(_0x4f4949,_0xf095f1);}['getLabel'](){return this['label'];}[_0xdcbb79(0x8b8)](){return this['label'];}[_0xdcbb79(0x3aa)](){const _0x5de24e=_0xdcbb79;return _0x410512[_0x5de24e(0xa30)][_0x5de24e(0x1ef)];}[_0xdcbb79(0x9db)](){return this['label'];}[_0xdcbb79(0x524)](_0x937544){const _0xa62c3=_0xdcbb79;if(this[_0xa62c3(0x625)])throw new _0x3c9628(_0x3c9628[_0xa62c3(0x994)][_0xa62c3(0x868)],{'message':_0xa62c3(0xa29)+this[_0xa62c3(0x1af)][_0xa62c3(0xa10)]()+_0xa62c3(0x70a)+this[_0xa62c3(0x726)],'topic':this['outgoingTopic']});this['outgoingTopic']=_0x937544;}[_0xdcbb79(0x2a0)](_0x42fe25){const _0x5ec540=_0xdcbb79;if(this[_0x5ec540(0x288)])throw new _0x3c9628(_0x3c9628[_0x5ec540(0x994)][_0x5ec540(0x398)],{'message':_0x5ec540(0x62f)+this[_0x5ec540(0x1af)][_0x5ec540(0xa10)]()+'\x20-\x20'+this[_0x5ec540(0x726)],'topic':this[_0x5ec540(0x288)]});this[_0x5ec540(0x288)]=_0x42fe25;}[_0xdcbb79(0x62e)](){const _0x3ea5d5=_0xdcbb79;delete this[_0x3ea5d5(0x625)];}[_0xdcbb79(0x5da)](){const _0x36dcd6=_0xdcbb79;delete this[_0x36dcd6(0x288)];}async[_0xdcbb79(0x3da)](_0x3c1522,_0x529534){const _0x33aeac=_0xdcbb79;if(_0xbff73d[_0x33aeac(0x198)](_0x1f75f2[_0x33aeac(0x330)],_0x33aeac(0x905),this[_0x33aeac(0x1af)]['getId'](),_0x3c1522,_0x529534),this[_0x33aeac(0x9b6)]+=0x1,_0x3c1522 instanceof File){const _0x5151bd=await async function(_0x144ffe){const _0x16b37=_0x33aeac,_0x1d079d=[];for await(const _0xaf8908 of _0x2cdf49(_0x144ffe))_0x1d079d[_0x16b37(0x90d)](_0xaf8908);return _0x1d079d;}(_0x3c1522);return this[_0x33aeac(0x82c)]+=_0x5151bd[_0x33aeac(0x1f4)]((_0x2e9664,_0x4c0b26)=>_0x2e9664+_0x4c0b26[_0x33aeac(0x2f6)],0x0),void _0x5151bd['forEach']((_0x4c4ae7,_0xb4e0f7)=>{const _0x507ff8=_0x33aeac;this[_0x507ff8(0x625)]['publish']({'sourceId':this['owner']['getId'](),'destinationIds':_0x529534,'propagate':!0x0,'contentType':_0x410512['ContentType'][_0x507ff8(0x4a9)],'content':{'name':_0x3c1522[_0x507ff8(0x181)],'type':_0x3c1522[_0x507ff8(0x8fa)],'data':_0x4c4ae7,'index':_0xb4e0f7,'total':_0x5151bd['length']}});});}this[_0x33aeac(0x82c)]+=JSON[_0x33aeac(0x6fb)](_0x3c1522)[_0x33aeac(0x454)],this[_0x33aeac(0x625)][_0x33aeac(0x884)]({'sourceId':this['owner'][_0x33aeac(0xa10)](),'destinationIds':_0x529534,'propagate':!0x0,'contentType':_0x410512[_0x33aeac(0xa30)][_0x33aeac(0x1ef)],'content':_0x3c1522});}[_0xdcbb79(0x312)](_0x45ee1d){const _0x5f0552=_0xdcbb79;return this[_0x5f0552(0x288)]['subscribe'](_0x45f21e=>{const _0x52ea3d=_0x5f0552;switch(_0xbff73d['log'](_0x1f75f2[_0x52ea3d(0x330)],_0x52ea3d(0x80b),this[_0x52ea3d(0x1af)]['getId'](),_0x45f21e),_0x45f21e[_0x52ea3d(0x2e9)]){case _0x410512[_0x52ea3d(0xa30)]['Data']:this['messagesReceived']+=0x1,this[_0x52ea3d(0x6d1)]+=JSON['stringify'](_0x45f21e[_0x52ea3d(0x7bd)])[_0x52ea3d(0x454)],_0x45ee1d(_0x45f21e['sourceId'],_0x45f21e[_0x52ea3d(0x7bd)]);break;case _0x410512[_0x52ea3d(0xa30)]['File']:this['fileChunks'][_0x52ea3d(0x504)](_0x45f21e[_0x52ea3d(0x7bd)]['name'])||this['fileChunks'][_0x52ea3d(0x80a)](_0x45f21e['content'][_0x52ea3d(0x181)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x12c562=this[_0x52ea3d(0xa08)][_0x52ea3d(0x3ee)](_0x45f21e[_0x52ea3d(0x7bd)]['name']);if(_0x12c562['chunksReceived']+=0x1,_0x12c562['bytesReceived']+=_0x45f21e[_0x52ea3d(0x7bd)][_0x52ea3d(0x78e)][_0x52ea3d(0x2f6)],_0x12c562[_0x52ea3d(0x7bd)]&&(_0x12c562[_0x52ea3d(0x7bd)][_0x45f21e[_0x52ea3d(0x7bd)][_0x52ea3d(0x959)]]=_0x45f21e['content'][_0x52ea3d(0x78e)]),this['fileChunks']['set'](_0x45f21e['content'][_0x52ea3d(0x181)],_0x12c562),_0x12c562[_0x52ea3d(0x5f1)]+0x1<_0x45f21e[_0x52ea3d(0x7bd)][_0x52ea3d(0x7e9)])return;this[_0x52ea3d(0x958)]+=0x1,this['bytesReceived']+=_0x12c562[_0x52ea3d(0x6d1)],_0x12c562[_0x52ea3d(0x7bd)]&&_0x45ee1d(_0x45f21e[_0x52ea3d(0x742)],(_0x2ae6af=_0x12c562['content'],_0x1e5323=_0x45f21e['content'][_0x52ea3d(0x181)],_0x3a2e1f=_0x45f21e[_0x52ea3d(0x7bd)]['type'],new File(_0x2ae6af,_0x1e5323,{'type':_0x3a2e1f}))),this[_0x52ea3d(0xa08)]['delete'](_0x45f21e[_0x52ea3d(0x7bd)][_0x52ea3d(0x181)]);}var _0x2ae6af,_0x1e5323,_0x3a2e1f;});}}function _0x5de5e8(){let _0xa9d977=[];return{'subscribe':_0x337a3e=>(_0xa9d977['push'](_0x337a3e),()=>{const _0x48a68d=a0_0x27c7;_0xa9d977=_0xa9d977[_0x48a68d(0x4e9)](_0x140b51=>_0x140b51!==_0x337a3e);}),'publish':_0x5e9f9a=>{const _0x8160f8=a0_0x27c7;_0xa9d977[_0x8160f8(0x5f6)](_0x40de42=>_0x40de42(_0x5e9f9a));}};}function _0x39cb77(){let _0x543461;return{'subscribe':_0xf0a3aa=>(_0x543461=_0xf0a3aa,()=>{_0x543461=void 0x0;}),'publish':_0xa9234=>{_0x543461&&_0x543461(_0xa9234);}};}class _0x359978{[_0xdcbb79(0x83d)];[_0xdcbb79(0x60a)];[_0xdcbb79(0x6a9)];[_0xdcbb79(0x9ef)]=_0x39cb77();[_0xdcbb79(0x1d3)];constructor(_0x300e75,_0xc43880,_0x593d49){const _0x1fd0c6=_0xdcbb79;this['connector']=_0x300e75,this[_0x1fd0c6(0x60a)]=_0xc43880,this[_0x1fd0c6(0x6a9)]=_0x593d49;}['destroy'](){const _0xbc5daa=_0xdcbb79;this[_0xbc5daa(0x1d3)]?.();}async[_0xdcbb79(0x3ee)](_0x4da834){const _0x292005=_0xdcbb79,_0x564ae3={'key':_0x4da834,'tableName':this[_0x292005(0x60a)],'action':_0x548014[_0x292005(0x5c6)]};return this['tableObserver'][_0x292005(0x884)](_0x564ae3),this[_0x292005(0x83d)][_0x292005(0x3ee)](_0x4da834);}async[_0xdcbb79(0x80a)](_0x53f9b5,_0x1cf6ee,_0x214500=!0x0){const _0x15d285=_0xdcbb79;this[_0x15d285(0x7fc)](_0x1cf6ee);const _0x11d4a2=await this[_0x15d285(0x83d)]['get'](_0x53f9b5),_0x4cc0b5=await this[_0x15d285(0x83d)]['set'](_0x53f9b5,_0x1cf6ee),_0x33e442=_0x11d4a2?_0x1ce65a['Update']:_0x1ce65a['Add'];if(this['publish'](_0x33e442,_0x4cc0b5),!_0x214500)return _0x4cc0b5;const _0x2bd88c={'key':_0x53f9b5,'tableName':this[_0x15d285(0x60a)],'action':_0x33e442,'value':_0x4cc0b5};return this[_0x15d285(0x6a9)][_0x15d285(0x884)](_0x2bd88c),_0x4cc0b5;}async[_0xdcbb79(0x164)](_0x52e599){const _0xff971b=_0xdcbb79;this[_0xff971b(0x7fc)](_0x52e599);const _0x2f1a71=await this[_0xff971b(0x83d)][_0xff971b(0x164)](_0x52e599),_0x541632={'key':_0x2f1a71['id'],'tableName':this[_0xff971b(0x60a)],'action':_0x1ce65a[_0xff971b(0x881)],'value':_0x2f1a71};return this[_0xff971b(0x6a9)][_0xff971b(0x884)](_0x541632),this['publish'](_0x541632['action'],_0x2f1a71),_0x2f1a71;}async[_0xdcbb79(0x652)](_0xe8e1b,_0x532956=!0x0){const _0x1ba349=_0xdcbb79,_0x1b64c7=await this[_0x1ba349(0x83d)]['get'](_0xe8e1b);if(!_0x1b64c7)return;await this[_0x1ba349(0x83d)][_0x1ba349(0x652)](_0xe8e1b);const _0x2c9f58=_0x1ce65a[_0x1ba349(0x65c)];if(this[_0x1ba349(0x884)](_0x2c9f58,_0x1b64c7),!_0x532956)return;const _0x386dd6={'key':_0xe8e1b,'tableName':this['tableName'],'action':_0x2c9f58,'value':_0x1b64c7};this['tableObserver']['publish'](_0x386dd6);}async[_0xdcbb79(0x6d0)](){const _0xf3fc16=_0xdcbb79,_0x587ea4=await this['list']();for(const _0x28b93e of _0x587ea4){const _0x110f8f=_0x1ce65a[_0xf3fc16(0x65c)];this[_0xf3fc16(0x884)](_0x110f8f,_0x28b93e);const _0x1362c0={'key':_0x28b93e['id'],'tableName':this[_0xf3fc16(0x60a)],'action':_0x110f8f,'value':_0x28b93e};this['tableObserver']['publish'](_0x1362c0);}return this['connector'][_0xf3fc16(0x6d0)]();}async[_0xdcbb79(0x232)](_0x3ee538){const _0x2097fd=_0xdcbb79,_0x43ac98={'key':'','tableName':this[_0x2097fd(0x60a)],'action':_0x548014['List']};this[_0x2097fd(0x6a9)][_0x2097fd(0x884)](_0x43ac98);try{_0x3ee538&&(_0x3ee538=_0x3ee538 instanceof _0x1bcb9f?_0x3ee538[_0x2097fd(0x3c1)]():_0x1bcb9f[_0x2097fd(0x262)](_0x3ee538)[_0x2097fd(0x3c1)]());}catch(_0xc2c436){throw new _0x5df866(_0x29ef36['KeyValueDatabaseInvalidQuery'],_0x2097fd(0x9b5));}try{return await this['connector'][_0x2097fd(0x232)](_0x3ee538);}catch(_0x3a3179){let _0x47b282=_0x2097fd(0x9b5);throw _0x3a3179 instanceof Error&&(_0x47b282=_0x3a3179['message']),new _0x5df866(_0x29ef36[_0x2097fd(0x2c0)],_0x47b282);}}async[_0xdcbb79(0x313)](_0x16f321){const _0x5731e8=_0xdcbb79,_0x3f01b4={'key':'','tableName':this[_0x5731e8(0x60a)],'action':_0x548014[_0x5731e8(0x3e4)]};this['tableObserver']['publish'](_0x3f01b4);try{_0x16f321&&(_0x16f321=_0x16f321 instanceof _0x1bcb9f?_0x16f321[_0x5731e8(0x3c1)]():_0x1bcb9f['buildQuery'](_0x16f321)[_0x5731e8(0x3c1)]());}catch(_0x56304d){throw new _0x5df866(_0x29ef36['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{return await this[_0x5731e8(0x83d)]['count'](_0x16f321);}catch(_0x510c27){let _0x5e4e0f=_0x5731e8(0x9b5);throw _0x510c27 instanceof Error&&(_0x5e4e0f=_0x510c27[_0x5731e8(0x41d)]),new _0x5df866(_0x29ef36['KeyValueDatabaseInvalidQuery'],_0x5e4e0f);}}[_0xdcbb79(0x6f6)](){const _0x5ea423=_0xdcbb79;return this[_0x5ea423(0x83d)][_0x5ea423(0x6f6)]();}[_0xdcbb79(0x917)](_0x44fee3){const _0x2eb8da=_0xdcbb79;this['listenerUnsubscriber']=this[_0x2eb8da(0x9ef)]['subscribe'](_0x44fee3);}['unsubscribe'](){this['listenerUnsubscriber']?.();}[_0xdcbb79(0x884)](_0xe6b3dd,_0x4f9ce1){const _0xb79295=_0xdcbb79,_0x5b89f2=this[_0xb79295(0x3e3)](_0xe6b3dd,_0x4f9ce1);this[_0xb79295(0x9ef)][_0xb79295(0x884)](_0x5b89f2);}[_0xdcbb79(0x3e3)](_0xd7abc1,_0x1ac754){const _0x5ce579=_0xdcbb79;let _0x3d3a16;switch(_0xd7abc1){case _0x1ce65a['Add']:_0x3d3a16=_0x5ce579(0x164);break;case _0x1ce65a[_0x5ce579(0x61b)]:_0x3d3a16='update';break;case _0x1ce65a['Delete']:_0x3d3a16='delete';}return{'action':_0x3d3a16,'value':_0x1ac754};}[_0xdcbb79(0x7fc)](_0x36f139){const _0x532bf8=_0xdcbb79;if(_0x532bf8(0x778)!=typeof _0x36f139||null===_0x36f139)throw new _0x5df866(_0x29ef36[_0x532bf8(0x675)],_0x532bf8(0x36d));for(const _0x975220 in _0x36f139){const _0x5b2043=_0x36f139[_0x975220];if(_0x532bf8(0x778)!=typeof _0x5b2043||_0x5b2043 instanceof Date){if(![_0x532bf8(0x610),_0x532bf8(0x89b),_0x532bf8(0x178)]['includes'](typeof _0x5b2043))throw new _0x5df866(_0x29ef36['KeyValueDatabaseInvalidValue'],_0x532bf8(0x18a)+_0x975220+_0x532bf8(0x9c9));}else this[_0x532bf8(0x7fc)](_0x5b2043);}}}class _0x1d17a5{['peaks']=[];['totalNodes']=0x0;['transactionQueue']=[];[_0xdcbb79(0x2d9)]=!0x1;[_0xdcbb79(0x67b)]=null;[_0xdcbb79(0x1a8)]=null;[_0xdcbb79(0x377)];['readyResolve']=null;[_0xdcbb79(0x533)]=[];[_0xdcbb79(0x2d8)];[_0xdcbb79(0x878)]=Promise[_0xdcbb79(0x909)]();[_0xdcbb79(0x857)]=0x0;constructor(){}get[_0xdcbb79(0x9af)](){const _0x114a4f=_0xdcbb79;return this[_0x114a4f(0x878)];}async[_0xdcbb79(0x5e8)](_0x190355,_0x89c619=0x0){const _0x136b07=_0xdcbb79;this[_0x136b07(0x5ba)]||(this[_0x136b07(0x878)]=new Promise(_0x17fffc=>{const _0x361e3f=_0x136b07;this[_0x361e3f(0x5ba)]=_0x17fffc;}),this['expectedTransactions']=_0x89c619);const _0xb127f5=Date[_0x136b07(0x667)]();if(this[_0x136b07(0x2d9)])return void this[_0x136b07(0x7b5)]['push'](_0x190355);this['isComputingMMR']=!0x0;let _0x454d71={'hash':await this['hashTransaction'](_0x190355),'height':0x0};const _0x4c869f=this['combinePeaks'](_0x454d71);this['readyPromises']['push'](_0x4c869f),await _0x4c869f,this[_0x136b07(0x6d6)]+=0x1;const _0x3ca186=this[_0x136b07(0x7b5)][_0x136b07(0x454)];for(;this[_0x136b07(0x7b5)][_0x136b07(0x454)]>0x0;){const _0xec93f5=this[_0x136b07(0x7b5)][_0x136b07(0x46b)]();await this[_0x136b07(0x5e8)](_0xec93f5);}this[_0x136b07(0x32d)](),await this[_0x136b07(0x9af)],this[_0x136b07(0x1c5)](_0xb127f5,_0x3ca186);}async[_0xdcbb79(0x23b)](){const _0x256198=_0xdcbb79;return await this[_0x256198(0x878)],this[_0x256198(0x2d9)]?(this['rootComputationPromise']||(this[_0x256198(0x1a8)]=this[_0x256198(0x154)]()),await this['rootComputationPromise']):this[_0x256198(0x67b)];}['getPeaks'](){const _0x304398=_0xdcbb79;return this['peaks'][_0x304398(0x945)](({hash:_0x6f3a5b,height:_0xa072a3})=>({'hash':_0x6f3a5b,'height':_0xa072a3}));}[_0xdcbb79(0x7e5)](){const _0x3846b2=_0xdcbb79;return this[_0x3846b2(0x6d6)];}[_0xdcbb79(0x4cc)](_0x122fa4){const _0x3efd82=_0xdcbb79;return this[_0x3efd82(0x297)][_0x3efd82(0x39d)](_0x21b325=>_0x21b325[_0x3efd82(0x599)]===_0x122fa4);}async[_0xdcbb79(0x63f)](_0x144c6b,_0x5c2bd8){const _0x2158de=_0xdcbb79;return await this[_0x2158de(0x76c)](_0x144c6b+_0x5c2bd8);}async[_0xdcbb79(0x310)](_0x7f694e){const _0xd30b34=_0xdcbb79;return await this[_0xd30b34(0x76c)](JSON[_0xd30b34(0x6fb)](_0x7f694e));}['comparePeaks'](_0x3fe30a){const _0x324da1=_0xdcbb79,_0x1fbfc1=this[_0x324da1(0x1cc)](),_0x597577=[],_0x117b1e=[],_0x53b41f=[];for(const _0x34b9d7 of _0x1fbfc1){const _0x4910b5=_0x3fe30a[_0x324da1(0x39d)](_0x223b49=>_0x223b49['height']===_0x34b9d7[_0x324da1(0x599)]);_0x4910b5?_0x34b9d7[_0x324da1(0x480)]!==_0x4910b5[_0x324da1(0x480)]&&_0x597577[_0x324da1(0x90d)]({'height':_0x34b9d7['height'],'localPeak':_0x34b9d7,'remotePeak':_0x4910b5}):_0x117b1e[_0x324da1(0x90d)](_0x34b9d7);}for(const _0x687066 of _0x3fe30a)_0x1fbfc1['find'](_0x3e9dde=>_0x3e9dde[_0x324da1(0x599)]===_0x687066[_0x324da1(0x599)])||_0x53b41f[_0x324da1(0x90d)](_0x687066);return{'differingPeaks':_0x597577,'peaksMissingInRemote':_0x117b1e,'peaksMissingInLocal':_0x53b41f};}async[_0xdcbb79(0x154)](){const _0x8a9d85=_0xdcbb79;this[_0x8a9d85(0x2d9)]=!0x0;const _0x31e5a8=this[_0x8a9d85(0x297)][_0x8a9d85(0x945)](_0x3de7a4=>_0x3de7a4['hash']);return this[_0x8a9d85(0x67b)]=await this[_0x8a9d85(0x2eb)](_0x31e5a8),this[_0x8a9d85(0x2d9)]=!0x1,this[_0x8a9d85(0x1a8)]=null,this[_0x8a9d85(0x32d)](),this[_0x8a9d85(0x67b)];}async[_0xdcbb79(0x76c)](_0x986748){const _0x8d4463=_0xdcbb79;try{const _0x46aa79=new TextEncoder()[_0x8d4463(0x342)](_0x986748),_0xb6c628=await crypto[_0x8d4463(0x4c6)][_0x8d4463(0x5a7)](_0x8d4463(0x99d),_0x46aa79);return Array['from'](new Uint8Array(_0xb6c628))[_0x8d4463(0x945)](_0x7c266d=>_0x7c266d[_0x8d4463(0x298)](0x10)[_0x8d4463(0x307)](0x2,'0'))[_0x8d4463(0x9e4)]('');}catch(_0x356344){return console[_0x8d4463(0x33f)](_0x8d4463(0x552),_0x356344),this[_0x8d4463(0x76c)](_0x986748);}}async[_0xdcbb79(0x2eb)](_0x47fdfd){const _0x5c5ee7=_0xdcbb79;return await this[_0x5c5ee7(0x76c)](_0x47fdfd['join'](''));}async[_0xdcbb79(0x22b)](_0x23db43){const _0x5c23c4=_0xdcbb79;for(;this['peaks'][_0x5c23c4(0x454)]>0x0&&this['peaks'][this[_0x5c23c4(0x297)][_0x5c23c4(0x454)]-0x1][_0x5c23c4(0x599)]===_0x23db43[_0x5c23c4(0x599)];){const _0x250f84=this['peaks'][_0x5c23c4(0xa4a)]();_0x23db43={'hash':await this['hashNodes'](_0x250f84[_0x5c23c4(0x480)],_0x23db43[_0x5c23c4(0x480)]),'left':_0x250f84,'right':_0x23db43,'height':_0x23db43[_0x5c23c4(0x599)]+0x1};}this['peaks'][_0x5c23c4(0x90d)](_0x23db43),await this[_0x5c23c4(0x154)]();}[_0xdcbb79(0x1c5)](_0x16fe98,_0x423cdc){const _0x18ae17=_0xdcbb79;if(!_0xbff73d['isChannelEnabled'](_0x1f75f2[_0x18ae17(0x453)]))return;this[_0x18ae17(0x377)]&&clearTimeout(this[_0x18ae17(0x377)]);const _0x463962=Date[_0x18ae17(0x667)]();this[_0x18ae17(0x377)]=setTimeout(()=>_0xbff73d['log'](_0x1f75f2[_0x18ae17(0x453)],_0x18ae17(0x331),this[_0x18ae17(0x67b)],_0x18ae17(0x6fa),this[_0x18ae17(0x7e5)](),'queueLength',_0x423cdc,_0x18ae17(0x4b3),_0x463962-_0x16fe98),0x7d0);}[_0xdcbb79(0x32d)](){const _0xec0850=_0xdcbb79;this[_0xec0850(0x2d8)]&&clearTimeout(this[_0xec0850(0x2d8)]),this[_0xec0850(0x2d8)]=setTimeout(async()=>{const _0x17d743=_0xec0850;try{const _0x2e9ed4=this['readyPromises'];if(this[_0x17d743(0x533)]=[],await Promise[_0x17d743(0x4ad)](_0x2e9ed4),this[_0x17d743(0x857)]-=_0x2e9ed4[_0x17d743(0x454)],this[_0x17d743(0x533)][_0x17d743(0x454)]>0x0||this[_0x17d743(0x857)]>0x0)return this['debounceReady']();this[_0x17d743(0x5ba)]&&(this[_0x17d743(0x5ba)](),this['readyResolve']=null),this[_0x17d743(0x878)]=Promise[_0x17d743(0x909)](),this[_0x17d743(0x2d9)]=!0x1;}catch(_0x29546a){console[_0x17d743(0x33f)](_0x17d743(0x5f9),_0x29546a);}},0xa);}}const _0x3db175=[_0xdcbb79(0x183),_0xdcbb79(0x285),'Content',_0xdcbb79(0x915),_0xdcbb79(0x8b5),_0xdcbb79(0x681),_0xdcbb79(0x221)],_0x220ded=[[_0xdcbb79(0x416),_0xdcbb79(0x2d1),'Handshake','Success',_0xdcbb79(0x92e),_0xdcbb79(0x83f),_0xdcbb79(0x2e1),_0xdcbb79(0x8b5),_0xdcbb79(0x45e)],[_0xdcbb79(0x84d),_0xdcbb79(0x5bd),_0xdcbb79(0x20c),_0xdcbb79(0x1b4)],[_0xdcbb79(0x4a4),_0xdcbb79(0x540),_0xdcbb79(0x4dd),'CloseExternalStorageConnection',_0xdcbb79(0x50c),_0xdcbb79(0x99e),_0xdcbb79(0x885),_0xdcbb79(0x55d),_0xdcbb79(0x2ca),'ExternalStorageStats',_0xdcbb79(0x594),_0xdcbb79(0x3bb),_0xdcbb79(0x53b),'KeyValueDatabaseContentAvailable','KeyValueDatabaseContentSynchronized','KeyValueDatabaseRequestPeakTransactions','KeyValueDatabaseRequestTransactionsValue','KeyValueDatabaseSendTransactions','KeyValueDatabaseStats','KeyValueDatabaseSyncRequired',_0xdcbb79(0x9d1),_0xdcbb79(0xa15),_0xdcbb79(0x95b),_0xdcbb79(0x5dd),'RemoteMediaStreamTrackFail',_0xdcbb79(0x41e),_0xdcbb79(0x29b),_0xdcbb79(0x63b),'UpdateMediaStream',_0xdcbb79(0xa45)],['SubscribeMediaStream',_0xdcbb79(0x62a),_0xdcbb79(0xa18),_0xdcbb79(0x1ff),_0xdcbb79(0x27e),_0xdcbb79(0x639)],['StreamReport',_0xdcbb79(0x512)],[_0xdcbb79(0x3b2)],[_0xdcbb79(0x221),_0xdcbb79(0x26d)]];function _0x7db090(_0x37826b){const _0x38500d=_0xdcbb79;return{..._0x37826b,'systemMessageType':_0x3db175[_0x37826b[_0x38500d(0x526)]],'systemContentMessageType':_0x220ded[_0x37826b[_0x38500d(0x526)]][_0x37826b[_0x38500d(0x7bd)]['type']]};}const _0x141729={'hour':_0xdcbb79(0x798),'minute':_0xdcbb79(0x798),'second':_0xdcbb79(0x798)};function _0x1fb664(_0xbd71d6,_0x2dbd08){const _0x2b3397=_0xdcbb79,_0x7db7f5=(function(){const _0x594b1c=a0_0x27c7,_0x131873=new Date(),_0x1b35ef=_0x131873['getMilliseconds'](),_0x54d715=_0x131873[_0x594b1c(0x9a4)]('en-US',_0x141729)[_0x594b1c(0x7a5)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x54d715+'.'+(_0x1b35ef>0x64?''+_0x1b35ef:_0x1b35ef>0xa?'0'+_0x1b35ef:'00'+_0x1b35ef);}()),{sourceId:_0xd62910,destinationIds:_0x34329a,systemMessageType:_0x3e82fd,systemContentMessageType:_0x9fe9eb}=_0x7db090(_0xbd71d6);return _0x7db7f5+_0x2b3397(0x70a)+_0x2dbd08+'\x20-\x20'+(_0xd62910===_0x2dbd08?'Sending\x20\x27'+_0x3e82fd+_0x2b3397(0x67d)+(_0x34329a?''+_0x34329a:'everyone'):_0xbd71d6[_0x2b3397(0x742)]===_0x3c7c3b?'Internal\x20event\x20\x27'+_0x3e82fd+'\x27':(_0x34329a?'':_0x2b3397(0x903))+'Receiving\x20\x27'+_0x3e82fd+_0x2b3397(0x7d2)+_0xd62910)+'\x20with\x20\x27'+_0x9fe9eb+'\x27\x20payload:';}function _0x48db51(_0x52b452,_0xe783bc){const _0x66c57a=_0xdcbb79;if(!_0xbff73d[_0x66c57a(0x5e1)](_0x52b452))return;if(_0x2df60e[_0x66c57a(0x9f4)])return;if(_0x66c57a(0x1ba)==typeof process)return;const _0x5da5e2=process['memoryUsage']();console[_0x66c57a(0x198)]('Memory\x20Usage\x20at\x20'+_0xe783bc+':');for(const _0x5aa0c2 in _0x5da5e2)console[_0x66c57a(0x198)]('\x20\x20'+_0x5aa0c2+':\x20'+(_0x5da5e2[_0x5aa0c2]/0x400/0x400)[_0x66c57a(0x17b)](0x2)+_0x66c57a(0x9ca));}function _0x2a49e0(_0x4cd1a1,_0xd6b845){const _0x1e164c=_0xdcbb79;if(!_0xbff73d['isChannelEnabled'](_0xd6b845))return _0xbff73d[_0x1e164c(0x64f)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0xd6b845),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x695124,_0x4e13a3)=>_0x4e13a3}};let _0x129b83=0x0;return{'timingLogger':((()=>{const _0x33244c=_0x1e164c;let _0xa46111=Date['now']();return{'start':()=>{const _0x1bf91e=a0_0x27c7;_0xa46111=Date[_0x1bf91e(0x667)]();},'now':()=>Date[_0x33244c(0x667)](),'logWaitTime':_0x648a89=>{const _0x54660e=_0x33244c;_0x129b83+=Date[_0x54660e(0x667)]()-_0xa46111,_0xbff73d['log'](_0xd6b845,_0x648a89,_0x129b83+'ms',_0x4cd1a1);}};})()),'logger':{'log':(_0x282035,_0x47fb0e=()=>{})=>{const _0x153813=_0x1e164c,_0x251944=_0x47fb0e();_0x251944?_0xbff73d[_0x153813(0x198)](_0xd6b845,_0x282035,_0x251944,_0x4cd1a1):_0xbff73d[_0x153813(0x198)](_0xd6b845,_0x282035,_0x4cd1a1);},'performCalculation':(_0x12bfe5,_0x172b85)=>_0x12bfe5()}};}function _0x3e6cba(_0x4b375c){const _0x28df83=_0xdcbb79;return _0x28df83(0x1ba)==typeof Buffer?0x0:Buffer[_0x28df83(0x2f6)](JSON['stringify'](_0x4b375c),'utf8');}function _0x2e3e17(_0x4d1bc1){const _0x3b1571=_0xdcbb79;if(0x0===_0x4d1bc1)return _0x3b1571(0x1cd);const _0x36fc03=Math[_0x3b1571(0x725)](Math[_0x3b1571(0x198)](_0x4d1bc1)/Math[_0x3b1571(0x198)](0x400));return parseFloat((_0x4d1bc1/Math[_0x3b1571(0x9f9)](0x400,_0x36fc03))[_0x3b1571(0x17b)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x36fc03];}class _0x1e0931 extends _0x2be12e{[_0xdcbb79(0x99b)];[_0xdcbb79(0x31a)];[_0xdcbb79(0x8de)];['isNodeReady'];['db'];[_0xdcbb79(0x66a)];[_0xdcbb79(0x9bd)]=new Map();['tableObserver'];[_0xdcbb79(0x7b4)];[_0xdcbb79(0x30b)];[_0xdcbb79(0x463)];['syncResolve'];['transactionsToSync']=[];['timeoutCallback']=()=>{};[_0xdcbb79(0xa4c)];[_0xdcbb79(0x9ef)]=_0x39cb77();['listenerUnsubscriber'];[_0xdcbb79(0x9e5)]=[];[_0xdcbb79(0x408)];[_0xdcbb79(0x1b9)];['writes']=0x0;[_0xdcbb79(0x79c)]=0x0;[_0xdcbb79(0x700)]=!0x1;['mmr']=new _0x1d17a5();[_0xdcbb79(0x6db)]=new Map();[_0xdcbb79(0x228)]=[];['debounceRebuildMMR'];['transactionsToAppend']=[];[_0xdcbb79(0x6d9)];constructor(_0x573b0c,_0x3db64f,_0x57d9ba,_0x41cba6,_0xde968e,_0x3cdc10,_0xd95165){const _0x2b67a0=_0xdcbb79;if(_0x2b67a0(0x610)!=typeof _0x3db64f)throw new _0x5df866(_0x29ef36[_0x2b67a0(0x2be)],_0x2b67a0(0x591));if(super(_0x573b0c,_0x3db64f),this[_0x2b67a0(0x99b)]=_0x573b0c,this[_0x2b67a0(0x31a)]=_0x57d9ba,this['vendorId']=_0x41cba6,this[_0x2b67a0(0x369)]=_0xd95165,this[_0x2b67a0(0x66a)]='ccc'+this['vendorId']+_0x2b67a0(0x1ea)+this[_0x2b67a0(0x31a)]+_0x2b67a0(0x1ea)+this[_0x2b67a0(0x726)],this[_0x2b67a0(0x6a9)]=_0x39cb77(),this['loggingCycle']=function(_0x4b2ee6,_0x415125){const _0x272aae=_0x2b67a0;if(!_0xbff73d[_0x272aae(0x5e1)](_0x415125))return _0xbff73d[_0x272aae(0x64f)](_0x272aae(0x73f)+_0x415125),{..._0x2a49e0(_0x4b2ee6,_0x415125),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':'0\x20B'})};const {timingLogger:_0x5ce6bb,logger:_0x4bbea5}=_0x2a49e0(_0x4b2ee6,_0x415125);let _0x50852a=0x0,_0x288c8e=0x0;return{'timingLogger':_0x5ce6bb,'logger':_0x4bbea5,'logDataSent':(_0x3f8eff,_0x518a9a=!0x1)=>{const _0x86b79=_0x272aae,_0x101070=_0x3e6cba(_0x3f8eff);return _0x518a9a&&_0xbff73d['log'](_0x415125,_0x86b79(0xa51),_0x4b2ee6,_0x101070),_0x50852a+=_0x101070,_0x101070;},'logDataReceived':(_0x79b143,_0x5f0120=!0x1)=>{const _0x1b8c12=_0x272aae,_0x45f78d=_0x3e6cba(_0x79b143);return _0x5f0120&&_0xbff73d[_0x1b8c12(0x198)](_0x415125,_0x1b8c12(0x833),_0x4b2ee6,_0x45f78d),_0x288c8e+=_0x45f78d,_0x45f78d;},'getDataLogged':()=>({'dataSent':_0x2e3e17(_0x50852a),'dataReceived':_0x2e3e17(_0x288c8e)})};}(this['label'],_0x1f75f2[_0x2b67a0(0x453)]),this[_0x2b67a0(0x463)]=new Promise(_0x3519fd=>{const _0x32bc37=_0x2b67a0;this[_0x32bc37(0x7c6)]=_0x3519fd;}),_0xde968e instanceof _0x830d90)this['layout']=_0xde968e['getLayout']();else{const [_0x3c2a6d,_0x1763d5]=_0x830d90[_0x2b67a0(0x46a)](_0xde968e);if(!_0x3c2a6d)throw new _0x5df866(_0x29ef36[_0x2b67a0(0x7a8)],_0x2b67a0(0x78b)+_0x1763d5);this[_0x2b67a0(0x408)]=structuredClone(_0xde968e);}this[_0x2b67a0(0x249)](this['layout']),this['db']=new _0x3cdc10(this[_0x2b67a0(0x66a)],this[_0x2b67a0(0x408)]),this[_0x2b67a0(0x393)]();}async[_0xdcbb79(0x748)](_0xb20594,_0x4e0862){const _0x20a990=_0xdcbb79;if(_0xbff73d[_0x20a990(0x198)](_0x1f75f2[_0x20a990(0x453)],_0x20a990(0x81e),this[_0x20a990(0x726)]),!this[_0x20a990(0x7b4)])throw new _0x3c9628(_0x3c9628[_0x20a990(0x994)][_0x20a990(0x4f4)]);if(await this[_0x20a990(0x463)],await this[_0x20a990(0x369)](_0xb20594),await this[_0x20a990(0x9c0)][_0x20a990(0x23b)]()===_0x4e0862){const _0x540547={'sourceId':this[_0x20a990(0x99b)][_0x20a990(0xa10)](),'destinationIds':[_0xb20594],'propagate':!0x0,'messageType':_0x447632[_0x20a990(0x6cf)],'content':{'type':_0x31d4ec[_0x20a990(0x629)],'label':this[_0x20a990(0x726)],'mmrRoot':_0x4e0862}};return this[_0x20a990(0x6d9)]['logDataSent'](_0x540547),void this[_0x20a990(0x5df)][_0x20a990(0x884)](_0x540547);}const _0xf135f4=this['mmr']['getPeaks'](),_0x464a4f={'sourceId':this[_0x20a990(0x99b)][_0x20a990(0xa10)](),'destinationIds':[_0xb20594],'propagate':!0x0,'messageType':_0x447632['Content'],'content':{'type':_0x31d4ec[_0x20a990(0x67e)],'label':this[_0x20a990(0x726)],'peaks':_0xf135f4}};this[_0x20a990(0x6d9)]['logDataSent'](_0x464a4f),this[_0x20a990(0x5df)][_0x20a990(0x884)](_0x464a4f);}async[_0xdcbb79(0x8f6)](_0x1b13e0,_0x383723){const _0x35fca0=_0xdcbb79,_0x3fef7c=await this[_0x35fca0(0x9c0)][_0x35fca0(0x23b)](),_0x57c424=_0x3fef7c===_0x383723;if(_0xbff73d[_0x35fca0(0x198)](_0x1f75f2[_0x35fca0(0x453)],_0x35fca0(0x56c)+_0x1b13e0+_0x35fca0(0x6ec)+_0x57c424,this[_0x35fca0(0x726)]),_0x57c424)return this[_0x35fca0(0x167)](),void this[_0x35fca0(0x346)]();_0xbff73d[_0x35fca0(0x198)](_0x1f75f2[_0x35fca0(0x453)],_0x35fca0(0xa4b),_0x3fef7c,_0x383723),_0xbff73d[_0x35fca0(0x869)](_0x35fca0(0xa4b),{'nodeId':this[_0x35fca0(0x99b)]['getId'](),'nodeType':this[_0x35fca0(0x99b)][_0x35fca0(0x8fa)],'remoteId':_0x1b13e0,'data':{'localMMRRoot':_0x3fef7c,'remoteMMRRoot':_0x383723}});const _0xc4bea1={'sourceId':this[_0x35fca0(0x99b)][_0x35fca0(0xa10)](),'messageType':_0x447632[_0x35fca0(0x6cf)],'propagate':!0x0,'content':{'type':_0x31d4ec['KeyValueDatabaseSyncRequired'],'label':this[_0x35fca0(0x726)],'mmrRoot':_0x3fef7c}};this[_0x35fca0(0x5df)]['publish'](_0xc4bea1);}async[_0xdcbb79(0x6a2)](_0x5b6136,_0x54afc3){const _0x2dadc9=_0xdcbb79;if(_0xbff73d['log'](_0x1f75f2['KeyValueDatabase'],_0x2dadc9(0x3a4),_0x5b6136,_0x2dadc9(0x726),this['label'],_0x2dadc9(0x297),_0x54afc3),this[_0x2dadc9(0x700)])return;this[_0x2dadc9(0x700)]=!0x0,this[_0x2dadc9(0x167)]();const {differingPeaks:_0x224702,peaksMissingInLocal:_0x3e728e,peaksMissingInRemote:_0x442c1a}=this['mmr'][_0x2dadc9(0x1cf)](_0x54afc3);_0xbff73d[_0x2dadc9(0x198)](_0x1f75f2[_0x2dadc9(0x453)],_0x2dadc9(0x560),{'differingPeaks':_0x224702,'peaksMissingInLocal':_0x3e728e,'peaksMissingInRemote':_0x442c1a});const _0x5c20b3={'sourceId':this[_0x2dadc9(0x99b)][_0x2dadc9(0xa10)](),'destinationIds':[_0x5b6136],'propagate':!0x0,'messageType':_0x447632['Content'],'content':{'type':_0x31d4ec['KeyValueDatabaseRequestPeakTransactions'],'label':this[_0x2dadc9(0x726)],'peakHeights':_0x3e728e['map'](_0x2c4203=>_0x2c4203['height'])[_0x2dadc9(0x376)](_0x224702[_0x2dadc9(0x945)](_0xe24008=>_0xe24008[_0x2dadc9(0x599)]))}};if(this[_0x2dadc9(0x5df)][_0x2dadc9(0x884)](_0x5c20b3),_0x224702['length']>0x0||_0x442c1a['length']>0x0){const _0x53a143=_0x442c1a[_0x2dadc9(0x945)](_0x50f09c=>_0x50f09c[_0x2dadc9(0x599)])[_0x2dadc9(0x376)](_0x224702[_0x2dadc9(0x945)](_0x4c8f53=>_0x4c8f53[_0x2dadc9(0x599)]));await this[_0x2dadc9(0xa5f)](_0x5b6136,_0x53a143,!0x0);}}async[_0xdcbb79(0xa5f)](_0x195896,_0x5ea5a3,_0x29d333=!0x1){const _0x2bc673=_0xdcbb79;_0xbff73d[_0x2bc673(0x198)](_0x1f75f2[_0x2bc673(0x453)],_0x2bc673(0x35f),this[_0x2bc673(0x726)]);const _0x264b1e=_0x5ea5a3[_0x2bc673(0x945)](_0x2cfbd9=>this['mmr']['getPeakNode'](_0x2cfbd9))['filter'](Boolean);if(!_0x264b1e[_0x2bc673(0x454)]||_0x5ea5a3[_0x2bc673(0x454)]!==_0x264b1e[_0x2bc673(0x454)])throw new _0x3c9628(_0x3c9628[_0x2bc673(0x994)]['KeyValueDatabasePeakNotFound'],{'message':_0x2bc673(0x862),'peakHeights':_0x5ea5a3,'peaks':_0x264b1e['map'](_0x519bcf=>_0x519bcf[_0x2bc673(0x599)]),'nodeId':_0x195896});const _0x3d269a=[];for(const _0x3c294f of _0x264b1e)this[_0x2bc673(0x538)](_0x3c294f,_0x3d269a);const _0x110b52=_0x29d333?void 0x0:[_0x195896],_0x458bc7={'sourceId':this[_0x2bc673(0x99b)][_0x2bc673(0xa10)](),'destinationIds':_0x110b52,'messageType':_0x447632[_0x2bc673(0x6cf)],'propagate':!0x0,'content':{'type':_0x31d4ec[_0x2bc673(0x98f)],'label':this['label'],'transactions':_0x3d269a}};this[_0x2bc673(0x6d9)]['logDataSent'](_0x458bc7),this[_0x2bc673(0x5df)]['publish'](_0x458bc7);}async[_0xdcbb79(0x1f3)](_0x513a7d,_0x589bf6){const _0x414d24=_0xdcbb79;_0xbff73d['log'](_0x1f75f2['KeyValueDatabase'],_0x414d24(0x283)+_0x589bf6[_0x414d24(0x454)]+_0x414d24(0x934)+_0x513a7d+_0x414d24(0x70a)+this[_0x414d24(0x726)]);for(const _0x274d93 of _0x589bf6){const _0x246104=await this['transactionTable'][_0x414d24(0x3ee)](_0x274d93['id']);if(!(_0x246104&&this[_0x414d24(0x8b1)](_0x246104,_0x274d93)>=0x0)){if(_0x274d93['action']===_0x1ce65a[_0x414d24(0x65c)]){const [_0x4de91f,_0x5eb1d5]=_0x274d93['id'][_0x414d24(0x470)]('::'),_0x2d2461=this[_0x414d24(0x2a4)](_0x4de91f);await _0x2d2461[_0x414d24(0x652)](_0x5eb1d5);}else this['transactionsToSync'][_0x414d24(0x90d)](_0x274d93['id']);}}if(_0xbff73d['log'](_0x1f75f2[_0x414d24(0x453)],_0x414d24(0x571)+this['transactionsToSync'][_0x414d24(0x454)]+'\x20new\x20transactions',this['label']),this[_0x414d24(0x823)][_0x414d24(0x454)]>0x0){const _0x2db760={'sourceId':this[_0x414d24(0x99b)][_0x414d24(0xa10)](),'destinationIds':[_0x513a7d],'messageType':_0x447632[_0x414d24(0x6cf)],'propagate':!0x0,'content':{'type':_0x31d4ec[_0x414d24(0x889)],'label':this[_0x414d24(0x726)],'transactionIds':this[_0x414d24(0x823)]}};this[_0x414d24(0x6d9)][_0x414d24(0x31d)](_0x2db760),this[_0x414d24(0x5df)][_0x414d24(0x884)](_0x2db760);}}['reset'](){this['sendStats']();}[_0xdcbb79(0x3aa)](){const _0x33d470=_0xdcbb79;return _0x410512[_0x33d470(0xa30)][_0x33d470(0x453)];}[_0xdcbb79(0x4f6)](){const _0xe04001=_0xdcbb79;this['db']['close'](),this[_0xe04001(0x30b)]?.(),clearTimeout(this['debounceStats']),delete this['debounceStats'],super['destroy']();}['close'](){const _0x336a23=_0xdcbb79;this[_0x336a23(0x167)](),this[_0x336a23(0x5df)][_0x336a23(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632['Content'],'content':{'type':_0x31d4ec[_0x336a23(0x50c)],'label':this[_0x336a23(0x726)]}});}[_0xdcbb79(0x2a4)](_0x1524cf){const _0x191b35=_0xdcbb79,_0x3260f3=this['tables']['get'](_0x1524cf);if(_0x3260f3)return _0x3260f3;try{if(!this['db'][_0x191b35(0x1c6)](_0x1524cf))throw new _0x5df866(_0x29ef36['KeyValueDatabaseTableNotFound'],_0x191b35(0x551));const _0x5760df=new _0x359978(this['db'][_0x191b35(0x574)](_0x1524cf),_0x1524cf,this[_0x191b35(0x6a9)]);return this['tables'][_0x191b35(0x80a)](_0x1524cf,_0x5760df),{'get':_0x5760df['get'][_0x191b35(0xa19)](_0x5760df),'set':_0x5760df['set'][_0x191b35(0xa19)](_0x5760df),'add':_0x5760df[_0x191b35(0x164)][_0x191b35(0xa19)](_0x5760df),'delete':_0x5760df[_0x191b35(0x652)][_0x191b35(0xa19)](_0x5760df),'clear':_0x5760df[_0x191b35(0x6d0)]['bind'](_0x5760df),'list':_0x5760df[_0x191b35(0x232)][_0x191b35(0xa19)](_0x5760df),'count':_0x5760df[_0x191b35(0x313)][_0x191b35(0xa19)](_0x5760df),'subscribe':_0x5760df[_0x191b35(0x917)][_0x191b35(0xa19)](_0x5760df),'unsubscribe':_0x5760df[_0x191b35(0x1aa)][_0x191b35(0xa19)](_0x5760df)};}catch(_0x5c2da3){if(_0x5c2da3 instanceof _0x5df866)throw _0x5c2da3;throw new _0x5df866(_0x29ef36['KeyValueDatabaseNotOpen'],_0x191b35(0x302));}}[_0xdcbb79(0x917)](_0x3ccf63){const _0xce6fa1=_0xdcbb79;this[_0xce6fa1(0x1d3)]=this[_0xce6fa1(0x9ef)]['subscribe'](_0x3ccf63),this[_0xce6fa1(0x17a)](this['isSync'])[_0xce6fa1(0x53d)](_0x147d66=>{const _0x1119f7=_0xce6fa1;_0x147d66&&this[_0x1119f7(0x9ef)][_0x1119f7(0x884)]({'event':_0x410512[_0x1119f7(0x281)][_0x1119f7(0x2af)]});});}[_0xdcbb79(0x1aa)](){const _0x2f6a72=_0xdcbb79;this[_0x2f6a72(0x1d3)]?.(),this['listenerUnsubscriber']=void 0x0;}async[_0xdcbb79(0x94b)](){const _0x664f79=_0xdcbb79;_0x48db51(_0x1f75f2['KeyValueDatabase'],_0x664f79(0xa13));const _0x1a4f2d=[_0x425387,_0x54bc8a],_0x459b0=[];try{await this['db']['open']();const _0x1517a1=this['db']['getTableConnector'](_0x54bc8a),_0x2e8686=await _0x1517a1[_0x664f79(0x232)](),{id:_0xac1053,layout:_0x5c899f}=_0x2e8686[0x0]??{};if(_0x5c899f){for(const _0x1fb2a4 in _0x5c899f)_0x1a4f2d['includes'](_0x1fb2a4)||this['db'][_0x664f79(0x1c6)](_0x1fb2a4)||_0x459b0[_0x664f79(0x90d)](_0x1fb2a4);await _0x1517a1[_0x664f79(0x80a)](_0xac1053,{'layout':this['layout']});}else await _0x1517a1[_0x664f79(0x164)]({'layout':this['layout']});}catch(_0x5897b5){throw new _0x5df866(_0x29ef36[_0x664f79(0x6d2)],_0x5897b5[_0x664f79(0x41d)]||_0x664f79(0x598));}this[_0x664f79(0x6e8)](),await this['buildInitialMMR'](),this[_0x664f79(0x34c)](),this[_0x664f79(0x3f3)](),_0x459b0[_0x664f79(0x5f6)](_0x468da9=>this[_0x664f79(0x70c)](_0x468da9));}async[_0xdcbb79(0x9ae)](_0x3886d4,_0xf197a7=()=>{},_0x4dc8fe=!0x1){const _0x44e9ed=_0xdcbb79;if(!_0x3886d4)return setTimeout(()=>{const _0x2f9a42=a0_0x27c7;this[_0x2f9a42(0x167)](),this[_0x2f9a42(0x346)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this['timeoutCallback']=_0xf197a7,this[_0x44e9ed(0xa4c)]=setTimeout(_0xf197a7,0x7d0),!this['systemTopic'])throw new _0x3c9628(_0x3c9628[_0x44e9ed(0x994)][_0x44e9ed(0x3ba)]);const _0x4240e3=await this['mmr']['getRoot'](),_0x10973a={'sourceId':this['localNode'][_0x44e9ed(0xa10)](),'messageType':_0x447632['Content'],'propagate':_0x4dc8fe,'content':{'type':_0x31d4ec[_0x44e9ed(0x21d)],'label':this['label'],'mmrRoot':_0x4240e3}};return this['loggingCycle'][_0x44e9ed(0x31d)](_0x10973a),this['systemTopic'][_0x44e9ed(0x884)](_0x10973a),this[_0x44e9ed(0x463)];}async[_0xdcbb79(0x877)](_0x240980,_0x178b7a){const _0x53b9d9=_0xdcbb79;if(_0xbff73d[_0x53b9d9(0x198)](_0x1f75f2[_0x53b9d9(0x453)],'Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20'+_0x178b7a[_0x53b9d9(0x454)],this['label']),!this['transactionTable'])throw new _0x3c9628(_0x3c9628[_0x53b9d9(0x994)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x14ab26 of _0x178b7a){const _0x4afe32=await this[_0x53b9d9(0x7b4)][_0x53b9d9(0x3ee)](_0x14ab26);if(!_0x4afe32)continue;const [_0x490b1c,_0x4397d7]=_0x14ab26[_0x53b9d9(0x470)]('::'),_0x143601=this[_0x53b9d9(0x2a4)](_0x490b1c),_0x4e2590=await _0x143601[_0x53b9d9(0x3ee)](_0x4397d7);_0x4e2590?(_0x4afe32[_0x53b9d9(0x153)]=_0x4e2590,this[_0x53b9d9(0x3da)](_0x4afe32,[_0x240980])):_0xbff73d[_0x53b9d9(0x869)](_0x53b9d9(0x3fd),{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x53b9d9(0x99b)][_0x53b9d9(0x8fa)],'remoteId':_0x240980,'data':{'tableKeys':Object[_0x53b9d9(0x7b7)](this[_0x53b9d9(0x9bd)]),'transactionId':_0x14ab26,'transactions':this['transactionsToSync'],'tableName':_0x490b1c,'key':_0x4397d7}});}}async[_0xdcbb79(0x9c2)](_0x73d179){const _0x5b78f3=_0xdcbb79;if(!this['transactionTable'])throw new _0x3c9628(_0x3c9628[_0x5b78f3(0x994)][_0x5b78f3(0x4f4)]);const _0x32be79=await this[_0x5b78f3(0x9c0)][_0x5b78f3(0x310)](_0x73d179),_0x455aa8=this[_0x5b78f3(0x6db)]['get'](_0x32be79);if(_0x455aa8&&this['compareTransactions'](_0x73d179,_0x455aa8)<=0x0)return void _0xbff73d[_0x5b78f3(0x198)](_0x1f75f2[_0x5b78f3(0x453)],_0x5b78f3(0x8f0),_0x73d179);const _0x5a5e20={..._0x73d179};return delete _0x5a5e20[_0x5b78f3(0x153)],this[_0x5b78f3(0x1de)](_0x5a5e20),await this[_0x5b78f3(0x7b4)][_0x5b78f3(0x80a)](_0x73d179['id'],_0x5a5e20),_0x73d179;}['compareTransactions'](_0xb00612,_0x12a65a){const _0x2454a5=_0xdcbb79;return _0xb00612[_0x2454a5(0x553)]!==_0x12a65a[_0x2454a5(0x553)]?_0xb00612[_0x2454a5(0x553)]-_0x12a65a[_0x2454a5(0x553)]:_0xb00612[_0x2454a5(0x7d8)]-_0x12a65a['priority'];}async['getTransactionFromTableWriteEvent'](_0x1c6768){const _0x51cafc=_0xdcbb79;if(!this['transactionTable'])throw new _0x3c9628(_0x3c9628['codes'][_0x51cafc(0x4f4)]);const _0x42bab2=_0x1c6768[_0x51cafc(0x60a)]+'::'+_0x1c6768['key'],_0x5be772=await _0x35c568[_0x51cafc(0x95a)](),_0x261c44={'id':_0x42bab2,'priority':Math[_0x51cafc(0x32c)](),'timestamp':_0x5be772,'action':_0x1c6768[_0x51cafc(0x43d)]};if(await this[_0x51cafc(0x9c2)](_0x261c44))return _0x261c44;}async[_0xdcbb79(0x70c)](_0x278c0e){const _0xeafb31=_0xdcbb79;if(!this[_0xeafb31(0x7b4)])throw new _0x3c9628(_0x3c9628[_0xeafb31(0x994)][_0xeafb31(0x4f4)]);const _0x263aa5=_0x1bcb9f[_0xeafb31(0x959)]('id')[_0xeafb31(0x4a1)](_0xeafb31(0x5b8),[_0x278c0e+'::',_0x278c0e+_0xeafb31(0x1b2)]),_0x578ae2=await this['transactionTable'][_0xeafb31(0x232)](_0x263aa5['getQuery']());for(const _0xcb897c of _0x578ae2)await this[_0xeafb31(0x7b4)][_0xeafb31(0x652)](_0xcb897c['id']);}['setOnMessageHandler'](){const _0x13f395=_0xdcbb79;this[_0x13f395(0x312)](async(_0x249b9c,_0x32005f)=>{const _0x1b3b43=_0x13f395;if(_0x32005f instanceof File)return;if(this[_0x1b3b43(0x6d9)][_0x1b3b43(0x554)](_0x32005f),!await this[_0x1b3b43(0x9c2)](_0x32005f))return void this[_0x1b3b43(0x808)](_0x249b9c,_0x32005f);if(!_0x32005f[_0x1b3b43(0x153)])throw new _0x3c9628(_0x3c9628[_0x1b3b43(0x994)][_0x1b3b43(0x7a9)]);const [_0x20793e,_0x55d126]=_0x32005f['id'][_0x1b3b43(0x470)]('::'),_0x51da59=this[_0x1b3b43(0x2a4)](_0x20793e);if(!_0x51da59)throw new _0x3c9628(_0x3c9628[_0x1b3b43(0x994)][_0x1b3b43(0x74c)],{'table':_0x51da59});let _0x57e70d=0x0;switch(_0x32005f[_0x1b3b43(0x43d)]){case _0x1ce65a[_0x1b3b43(0x881)]:case _0x1ce65a[_0x1b3b43(0x61b)]:{const _0xcff194=_0x51da59['set'](_0x55d126,_0x32005f[_0x1b3b43(0x153)],!0x1);_0x57e70d=JSON[_0x1b3b43(0x6fb)](_0x32005f[_0x1b3b43(0x153)])[_0x1b3b43(0x454)],this[_0x1b3b43(0x823)][_0x1b3b43(0x949)](_0x32005f['id'])&&this[_0x1b3b43(0x9e5)][_0x1b3b43(0x90d)](_0xcff194);break;}case _0x1ce65a[_0x1b3b43(0x65c)]:{const _0x2576b1=_0x51da59[_0x1b3b43(0x652)](_0x55d126,!0x1);this['transactionsToSync']['includes'](_0x32005f['id'])&&this[_0x1b3b43(0x9e5)][_0x1b3b43(0x90d)](_0x2576b1);break;}}_0xbff73d[_0x1b3b43(0x6bf)](_0x3a8602[_0x1b3b43(0x453)],{'type':_0x1b3b43(0x9ae),'label':this['label'],'nodeId':this[_0x1b3b43(0x99b)][_0x1b3b43(0xa10)](),'nodeType':this[_0x1b3b43(0x99b)][_0x1b3b43(0x8fa)],'clusterId':this[_0x1b3b43(0x31a)],'tableName':_0x20793e,'key':_0x55d126,'size':_0x57e70d}),this[_0x1b3b43(0x808)](_0x249b9c,_0x32005f);});}[_0xdcbb79(0x3f3)](){const _0x1242a2=_0xdcbb79;this['tableUnsubscriber']=this[_0x1242a2(0x6a9)][_0x1242a2(0x917)](async _0x1333a4=>{const _0x40a7bf=_0x1242a2;let _0x3c2bc5=0x0;switch(_0x1333a4[_0x40a7bf(0x43d)]){case _0x1ce65a['Add']:case _0x1ce65a['Update']:case _0x1ce65a[_0x40a7bf(0x65c)]:{const _0x372e7c=await this[_0x40a7bf(0x7a2)](_0x1333a4);if(!_0x372e7c)return;_0x372e7c['value']=_0x1333a4[_0x40a7bf(0x153)],this[_0x40a7bf(0x3da)](_0x372e7c),_0x3c2bc5=JSON[_0x40a7bf(0x6fb)](_0x1333a4[_0x40a7bf(0x153)])['length'],this['writes']+=0x1;break;}case _0x548014[_0x40a7bf(0x5c6)]:case _0x548014[_0x40a7bf(0x375)]:case _0x548014[_0x40a7bf(0x3e4)]:this[_0x40a7bf(0x79c)]+=0x1;}_0xbff73d[_0x40a7bf(0x6bf)](_0x3a8602[_0x40a7bf(0x453)],{'type':_0x1333a4[_0x40a7bf(0x43d)],'label':this[_0x40a7bf(0x726)],'nodeId':this[_0x40a7bf(0x99b)][_0x40a7bf(0xa10)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'tableName':_0x1333a4['tableName'],'key':_0x1333a4['key'],'size':_0x3c2bc5}),this['sendStats']();});}[_0xdcbb79(0x6e8)](){const _0x307192=_0xdcbb79;this['db']&&(this['transactionTable']||(this['transactionTable']=this['db'][_0x307192(0x574)](_0x425387)));}[_0xdcbb79(0x167)](){const _0x2309ef=_0xdcbb79;this[_0x2309ef(0xa4c)]&&(clearTimeout(this[_0x2309ef(0xa4c)]),delete this[_0x2309ef(0xa4c)]);}async[_0xdcbb79(0x346)](){const _0x594485=_0xdcbb79;await this['mmr'][_0x594485(0x9af)],this['logSyncMetrics'](),this['eventListener'][_0x594485(0x884)]({'event':_0x410512[_0x594485(0x281)][_0x594485(0x2af)]}),this[_0x594485(0x7c6)]?.(!0x0),delete this[_0x594485(0x7c6)],this[_0x594485(0x393)](),_0xbff73d[_0x594485(0x198)](_0x1f75f2[_0x594485(0x453)],_0x594485(0x7fa),this['label']);}async[_0xdcbb79(0x719)](_0xce4202){const _0x1b4565=_0xdcbb79;await Promise[_0x1b4565(0x4ad)](this[_0x1b4565(0x9e5)]),_0xbff73d[_0x1b4565(0x198)](_0x1f75f2[_0x1b4565(0x453)],_0x1b4565(0x8b9)+this[_0x1b4565(0x9e5)][_0x1b4565(0x454)]+'\x20writes\x20from\x20'+_0xce4202+_0x1b4565(0x1be),this[_0x1b4565(0x726)]),await this[_0x1b4565(0x9c0)][_0x1b4565(0x9af)],await this[_0x1b4565(0x359)](_0xce4202),await this[_0x1b4565(0x346)]();}[_0xdcbb79(0x808)](_0x36b220,_0x1374db){const _0x4359af=_0xdcbb79;this[_0x4359af(0x823)][_0x4359af(0x949)](_0x1374db['id'])&&(this[_0x4359af(0x167)](),this[_0x4359af(0x823)]=this[_0x4359af(0x823)][_0x4359af(0x4e9)](_0x3e7385=>_0x3e7385!==_0x1374db['id']),0x0!==this[_0x4359af(0x823)][_0x4359af(0x454)]?this['syncTimeout']=setTimeout(this[_0x4359af(0x7ef)],0x7d0):this[_0x4359af(0x719)](_0x36b220));}[_0xdcbb79(0x393)](){const _0x3dbddd=_0xdcbb79;this[_0x3dbddd(0x1b9)]&&clearTimeout(this[_0x3dbddd(0x1b9)]),this['debounceStats']=setTimeout(async()=>{const _0x10149c=_0x3dbddd;delete this[_0x10149c(0x1b9)];let _0xba7926=0x0;for(const _0x38c3d9 of this['tables'][_0x10149c(0x6c2)]())_0xba7926+=await _0x38c3d9[_0x10149c(0x6f6)]();this[_0x10149c(0x5df)][_0x10149c(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x10149c(0x6cf)],'content':{'type':_0x31d4ec['KeyValueDatabaseStats'],'label':this[_0x10149c(0x726)],'stats':{'timestamp':Date[_0x10149c(0x667)](),'storage':_0xba7926,'messagesSent':this[_0x10149c(0x9b6)],'messagesReceived':this[_0x10149c(0x958)],'bytesSent':this[_0x10149c(0x82c)],'bytesReceived':this[_0x10149c(0x6d1)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0xbff73d[_0x10149c(0x336)](_0x3a8602[_0x10149c(0x453)],_0x10149c(0x1ea)+this[_0x10149c(0x31a)]+'ccc'+this[_0x10149c(0x726)],_0xba7926);},_0xe479f);}[_0xdcbb79(0x249)](_0x54afa8){const _0x4aa941=_0xdcbb79;if(_0x54afa8['tables'][_0x425387])throw new _0x5df866(_0x29ef36[_0x4aa941(0x6da)],_0x4aa941(0x7ea)+_0x425387+_0x4aa941(0x907));if(_0x54afa8['tables'][_0x54bc8a])throw new _0x5df866(_0x29ef36[_0x4aa941(0x6da)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x54bc8a+_0x4aa941(0x907));_0x54afa8[_0x4aa941(0x9bd)][_0x425387]={'indexes':[]},_0x54afa8[_0x4aa941(0x9bd)][_0x54bc8a]={'indexes':[]};}async['isPromiseResolved'](_0x323f0){const _0x93a62b=_0xdcbb79;return Promise[_0x93a62b(0x5a5)]([_0x323f0,Promise[_0x93a62b(0x909)](_0x93a62b(0x489))])[_0x93a62b(0x53d)](_0x2639f2=>_0x93a62b(0x489)!==_0x2639f2);}async['confirmSynchronization'](_0x2cce60){const _0x3b911a=_0xdcbb79;await this[_0x3b911a(0x25b)]();const _0x1e4b1c=await this[_0x3b911a(0x9c0)]['getRoot'](),_0x4d99ac={'sourceId':this[_0x3b911a(0x99b)][_0x3b911a(0xa10)](),'destinationIds':[_0x2cce60],'propagate':!0x0,'messageType':_0x447632[_0x3b911a(0x6cf)],'content':{'type':_0x31d4ec[_0x3b911a(0x629)],'label':this['label'],'mmrRoot':_0x1e4b1c}};this[_0x3b911a(0x5df)][_0x3b911a(0x884)](_0x4d99ac);}async[_0xdcbb79(0x356)](){const _0x4cbbf3=_0xdcbb79;if(!this[_0x4cbbf3(0x7b4)])throw new _0x3c9628(_0x3c9628[_0x4cbbf3(0x994)]['KeyValueDatabaseTransactionTableNotInitialized']);this[_0x4cbbf3(0x228)]=await this['transactionTable'][_0x4cbbf3(0x232)](),this[_0x4cbbf3(0x228)]['sort'](this[_0x4cbbf3(0x8b1)]),this[_0x4cbbf3(0x9c0)]=new _0x1d17a5(),this[_0x4cbbf3(0x6db)]=new Map();for(const _0x5eabc6 of this[_0x4cbbf3(0x228)])this[_0x4cbbf3(0xa6c)](_0x5eabc6,this[_0x4cbbf3(0x228)][_0x4cbbf3(0x454)]);this[_0x4cbbf3(0x156)]();}async[_0xdcbb79(0xa6c)](_0x2d3f7e,_0x1b4413){const _0x2e2641=_0xdcbb79,_0x5b109a={..._0x2d3f7e};delete _0x5b109a[_0x2e2641(0x153)],await this[_0x2e2641(0x9c0)][_0x2e2641(0x5e8)](_0x5b109a,_0x1b4413);const _0x48a0e0=await this[_0x2e2641(0x9c0)][_0x2e2641(0x310)](_0x5b109a);this[_0x2e2641(0x6db)][_0x2e2641(0x80a)](_0x48a0e0,_0x2d3f7e);}[_0xdcbb79(0x5ee)](_0x57d1ac){const _0x30471a=_0xdcbb79;return this[_0x30471a(0x6db)][_0x30471a(0x3ee)](_0x57d1ac);}[_0xdcbb79(0x538)](_0xde7139,_0x446d9e){const _0x467978=_0xdcbb79;if(0x0!==_0xde7139['height'])_0xde7139['left']&&this[_0x467978(0x538)](_0xde7139[_0x467978(0x755)],_0x446d9e),_0xde7139[_0x467978(0x3a9)]&&this[_0x467978(0x538)](_0xde7139[_0x467978(0x3a9)],_0x446d9e);else{const _0x5f237f=this[_0x467978(0x5ee)](_0xde7139[_0x467978(0x480)]);_0x5f237f&&_0x446d9e[_0x467978(0x90d)](_0x5f237f);}}async[_0xdcbb79(0x760)](){const _0x46e9c3=_0xdcbb79;this[_0x46e9c3(0x8ca)]&&(clearTimeout(this[_0x46e9c3(0x8ca)]),delete this[_0x46e9c3(0x8ca)],this['transactionsToAppend'][_0x46e9c3(0x454)]>0x0&&(this[_0x46e9c3(0x228)][_0x46e9c3(0x90d)](...this['transactionsToAppend']['sort'](this[_0x46e9c3(0x8b1)])),this[_0x46e9c3(0x8ce)]=[]));const _0x44d583=this['startLoggingCycle']();this[_0x46e9c3(0x9c0)]=new _0x1d17a5(),this[_0x46e9c3(0x6db)][_0x46e9c3(0x6d0)](),this['transactions']['sort'](this['compareTransactions']);for(const _0x4db8fd of this[_0x46e9c3(0x228)])this[_0x46e9c3(0xa6c)](_0x4db8fd,this[_0x46e9c3(0x228)][_0x46e9c3(0x454)]);await this[_0x46e9c3(0x9c0)][_0x46e9c3(0x9af)],this['logMMRRebuild'](_0x44d583);}[_0xdcbb79(0x9eb)](){const _0x3e0c1c=_0xdcbb79;return this[_0x3e0c1c(0x6d9)][_0x3e0c1c(0x472)][_0x3e0c1c(0x644)](async()=>{const _0x107e8f=_0x3e0c1c,_0x3b9e99=await this[_0x107e8f(0x9c0)][_0x107e8f(0x23b)]();return{'startTime':Date['now'](),'initialRoot':_0x3b9e99};},Promise[_0x3e0c1c(0x909)]({'startTime':0x0,'initialRoot':''}));}async['logMMRRebuild'](_0x4952a6){const _0x5d86d2=_0xdcbb79;try{const {startTime:_0x12eaaa,initialRoot:_0x5c702b}=await _0x4952a6,_0xfd645a=await this[_0x5d86d2(0x9c0)][_0x5d86d2(0x23b)](),_0x22d88b=[_0x5d86d2(0x37d)+(_0x5c702b!==_0xfd645a),_0x5d86d2(0x6d7)+_0x5c702b,_0x5d86d2(0x3c8)+_0xfd645a,_0x5d86d2(0xa71)+this[_0x5d86d2(0x9c0)][_0x5d86d2(0x7e5)](),_0x5d86d2(0x8c3)+(Date[_0x5d86d2(0x667)]()-_0x12eaaa)+_0x5d86d2(0x1f9)][_0x5d86d2(0x9e4)]('\x20');this['loggingCycle'][_0x5d86d2(0x472)]['log']('',()=>_0x22d88b);}catch(_0x5adeaf){console['error'](_0x5d86d2(0x92a),_0x5adeaf);}}[_0xdcbb79(0x1de)](_0x31aaff){const _0x5c0107=_0xdcbb79;this[_0x5c0107(0x8ce)][_0x5c0107(0x90d)](_0x31aaff),this['debounceRebuildMMR']&&(clearTimeout(this[_0x5c0107(0x8ca)]),delete this['debounceRebuildMMR']),this[_0x5c0107(0x8ca)]=setTimeout(()=>{const _0x23f072=_0x5c0107;this[_0x23f072(0x25b)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x25d93e=_0xdcbb79;if(this[_0x25d93e(0x8ca)]&&(clearTimeout(this[_0x25d93e(0x8ca)]),delete this[_0x25d93e(0x8ca)]),0x0!==this[_0x25d93e(0x8ce)][_0x25d93e(0x454)]){if(0x0===this[_0x25d93e(0x228)]['length'])return this['transactions']=this[_0x25d93e(0x8ce)],this['transactionsToAppend']=[],await this[_0x25d93e(0x760)]();if(this[_0x25d93e(0x8ce)][_0x25d93e(0x1ca)](this['compareTransactions']),this['compareTransactions'](this[_0x25d93e(0x8ce)][0x0],this[_0x25d93e(0x228)][this['transactions']['length']-0x1])>0x0){this[_0x25d93e(0x6d9)][_0x25d93e(0x472)][_0x25d93e(0x198)](_0x25d93e(0x16f)+this[_0x25d93e(0x8ce)]['length']+_0x25d93e(0x2b1)+this[_0x25d93e(0x228)]['length']);for(const _0x1ac76b of this[_0x25d93e(0x8ce)])this['transactions'][_0x25d93e(0x90d)](_0x1ac76b),this[_0x25d93e(0xa6c)](_0x1ac76b,this[_0x25d93e(0x8ce)][_0x25d93e(0x454)]);return this[_0x25d93e(0x8ce)]=[],void this[_0x25d93e(0x6d9)]['logger']['log'](_0x25d93e(0x676),async()=>_0x25d93e(0x479)+await this['mmr'][_0x25d93e(0x23b)]()+',\x20Total\x20Nodes:'+this[_0x25d93e(0x9c0)][_0x25d93e(0x7e5)]());}this[_0x25d93e(0x6d9)][_0x25d93e(0x472)][_0x25d93e(0x198)](_0x25d93e(0x61e)+this[_0x25d93e(0x8ce)][_0x25d93e(0x454)]+_0x25d93e(0x2b1)+this[_0x25d93e(0x228)]['length']),this[_0x25d93e(0x228)][_0x25d93e(0x90d)](...this[_0x25d93e(0x8ce)]),this[_0x25d93e(0x8ce)]=[],this[_0x25d93e(0x760)]();}}async['logSyncMetrics'](){const _0x2c158a=_0xdcbb79;if(!_0xbff73d[_0x2c158a(0x5e1)](_0x1f75f2[_0x2c158a(0x453)]))return;await this[_0x2c158a(0x9c0)]['ready'];const {dataSent:_0x553a15,dataReceived:_0x1bfe22}=this[_0x2c158a(0x6d9)]['getDataLogged']();_0xbff73d[_0x2c158a(0x198)](_0x1f75f2['KeyValueDatabase'],'Key-Value\x20Database\x20-\x20Sync\x20Completed',this['label'],_0x2c158a(0x279)+_0x553a15,_0x2c158a(0x2b3)+_0x1bfe22,_0x2c158a(0x9bc),await this[_0x2c158a(0x9c0)][_0x2c158a(0x23b)](),_0x2c158a(0x239),this['mmr'][_0x2c158a(0x7e5)]());}async[_0xdcbb79(0x156)](){const _0x14db78=_0xdcbb79;if(!_0xbff73d['isChannelEnabled'](_0x1f75f2[_0x14db78(0x453)]))return;const _0x9a7218=this[_0x14db78(0x9c0)][_0x14db78(0x1cc)](),_0x499814=_0x9a7218[_0x14db78(0x945)](_0xb5488d=>_0xb5488d[_0x14db78(0x599)]),_0x4fe663=await this[_0x14db78(0x9c0)][_0x14db78(0x23b)]();_0xbff73d[_0x14db78(0x198)](_0x1f75f2[_0x14db78(0x453)],_0x14db78(0x5ac),this[_0x14db78(0x228)][_0x14db78(0x454)],_0x14db78(0x228),this[_0x14db78(0x9c0)][_0x14db78(0x7e5)](),_0x14db78(0x6d6),_0x9a7218[_0x14db78(0x454)],'peaks',_0x499814,_0x14db78(0x3b6),_0x4fe663);}}const _0x574b57=require('@crewdle/mist-connector-opfs'),_0x500654=require('@crewdle/mist-connector-indexed-db'),_0x6fe00e=require('@crewdle/mist-connector-webrtc-browser'),_0x2dccc3=0x1fc00000;var _0x43704b,_0x9e7bd3,_0x35a889,_0x54ce26,_0x236819,_0x328d11,_0x26b693,_0x348f6b,_0x59223e;!function(_0x1ea7b2){const _0x4e251d=_0xdcbb79;_0x1ea7b2[_0x4e251d(0x364)]=_0x4e251d(0x364),_0x1ea7b2[_0x4e251d(0x527)]=_0x4e251d(0x527),_0x1ea7b2[_0x4e251d(0x621)]=_0x4e251d(0x621),_0x1ea7b2[_0x4e251d(0x66f)]=_0x4e251d(0x66f),_0x1ea7b2[_0x4e251d(0x4ed)]=_0x4e251d(0x4ed),_0x1ea7b2[_0x4e251d(0xa43)]=_0x4e251d(0xa43),_0x1ea7b2[_0x4e251d(0x6fc)]='Recording',_0x1ea7b2[_0x4e251d(0x5ef)]=_0x4e251d(0x5ef),_0x1ea7b2[_0x4e251d(0x1cb)]=_0x4e251d(0x1cb),_0x1ea7b2[_0x4e251d(0x209)]=_0x4e251d(0x209);}(_0x43704b||(_0x43704b={}));class _0x5b1d2f{['registeredListeners'];[_0xdcbb79(0x2ae)];[_0xdcbb79(0x96d)];constructor(_0x349a5c=new Map(),_0x570247=new Map(),_0x11ef3b=new EventTarget()){const _0x5cd01e=_0xdcbb79;this[_0x5cd01e(0x37a)]=_0x349a5c,this[_0x5cd01e(0x2ae)]=_0x570247,this[_0x5cd01e(0x96d)]=_0x11ef3b;}['emit']=(_0xf3a62b,_0x11be82)=>this[_0xdcbb79(0x37a)][_0xdcbb79(0x504)](_0xf3a62b)?(_0xbff73d[_0xdcbb79(0x198)](_0x1f75f2['Events'],_0xdcbb79(0x481),{'event':_0xf3a62b,'data':_0x11be82}),this[_0xdcbb79(0x96d)][_0xdcbb79(0x801)](new CustomEvent(_0xf3a62b,{'detail':_0x11be82})),!0x0):(this[_0xdcbb79(0x24c)](_0xf3a62b,_0x11be82),!0x1);['on']=(_0x3317c2,_0x4e6f5d)=>{const _0x22ce1a=_0xdcbb79,_0xd2d500=_0x3c20f1=>{const _0x46ed5e=a0_0x27c7;_0xbff73d[_0x46ed5e(0x198)](_0x1f75f2[_0x46ed5e(0x9d7)],'Received\x20event\x20on\x20cluster',_0x3c20f1[_0x46ed5e(0x8fa)],_0x3c20f1[_0x46ed5e(0x63a)]),_0x4e6f5d(_0x3c20f1[_0x46ed5e(0x63a)]);};return this[_0x22ce1a(0x37a)][_0x22ce1a(0x80a)](_0x3317c2,_0xd2d500),this[_0x22ce1a(0x96d)][_0x22ce1a(0x409)](_0x3317c2,_0xd2d500),_0xbff73d[_0x22ce1a(0x198)](_0x1f75f2[_0x22ce1a(0x226)],_0x22ce1a(0x38a),_0x3317c2,_0x4e6f5d),this[_0x22ce1a(0x56f)](_0x3317c2),this;};[_0xdcbb79(0x809)](_0x5e0b3c){const _0x35cb89=_0xdcbb79;if(!_0x5e0b3c)return this[_0x35cb89(0x37a)][_0x35cb89(0x5f6)]((_0x43fb3a,_0x416588)=>{const _0x1b8fc7=_0x35cb89;this['eventTarget'][_0x1b8fc7(0x9f7)](_0x416588,_0x43fb3a);}),void this[_0x35cb89(0x37a)][_0x35cb89(0x6d0)]();_0x35cb89(0x610)==typeof _0x5e0b3c&&this[_0x35cb89(0x3bc)](_0x5e0b3c),Array[_0x35cb89(0x3d9)](_0x5e0b3c)&&_0x5e0b3c['forEach'](_0x316889=>{const _0x51df4f=_0x35cb89;this[_0x51df4f(0x3bc)](_0x316889);});}[_0xdcbb79(0x3bc)](_0xb3c177){const _0x16f964=_0xdcbb79,_0x410c96=this['registeredListeners'][_0x16f964(0x3ee)](_0xb3c177);_0x410c96&&(this[_0x16f964(0x96d)][_0x16f964(0x9f7)](_0xb3c177,_0x410c96),this[_0x16f964(0x37a)]['delete'](_0xb3c177));}[_0xdcbb79(0x24c)](_0x10e356,_0x662352){const _0x5743e8=_0xdcbb79;_0xbff73d['log'](_0x1f75f2['Events'],_0x5743e8(0x6ca),{'event':_0x10e356,'data':_0x662352});const _0x19eb56=this[_0x5743e8(0x2ae)][_0x5743e8(0x3ee)](_0x10e356)||[];this[_0x5743e8(0x2ae)][_0x5743e8(0x80a)](_0x10e356,[..._0x19eb56,_0x662352]);}[_0xdcbb79(0x56f)](_0x59c437){const _0x545f98=_0xdcbb79,_0x3c4b79=this[_0x545f98(0x2ae)][_0x545f98(0x3ee)](_0x59c437);_0x3c4b79&&(_0x3c4b79[_0x545f98(0x5f6)](_0x3e40fb=>{const _0x1650b8=_0x545f98;_0xbff73d[_0x1650b8(0x198)](_0x1f75f2[_0x1650b8(0x9d7)],_0x1650b8(0x275),{'event':_0x59c437,'data':_0x3e40fb}),this['eventTarget'][_0x1650b8(0x801)](new CustomEvent(_0x59c437,{'detail':_0x3e40fb}));}),this['bufferedEvents'][_0x545f98(0x652)](_0x59c437));}}class _0xfe4e17 extends Error{constructor(_0x1609bc){const _0x410d75=_0xdcbb79;super(_0x410d75(0x3d0)+_0x1609bc);}}!function(_0x4c8586){const _0x2201ba=_0xdcbb79;_0x4c8586[_0x4c8586[_0x2201ba(0x3d2)]=0x0]='Core',_0x4c8586[_0x4c8586[_0x2201ba(0x67f)]=0x1]=_0x2201ba(0x67f);}(_0x9e7bd3||(_0x9e7bd3={})),function(_0x55e95f){const _0x545042=_0xdcbb79;_0x55e95f[_0x55e95f[_0x545042(0x416)]=0x0]=_0x545042(0x416),_0x55e95f[_0x55e95f['Answer']=0x1]=_0x545042(0x2d1),_0x55e95f[_0x55e95f[_0x545042(0x835)]=0x2]=_0x545042(0x835),_0x55e95f[_0x55e95f[_0x545042(0x2f3)]=0x3]=_0x545042(0x2f3),_0x55e95f[_0x55e95f['NeedRestart']=0x4]=_0x545042(0x92e),_0x55e95f[_0x55e95f[_0x545042(0x83f)]=0x5]=_0x545042(0x83f),_0x55e95f[_0x55e95f[_0x545042(0x2e1)]=0x6]='Disconnect',_0x55e95f[_0x55e95f[_0x545042(0x8b5)]=0x7]=_0x545042(0x8b5),_0x55e95f[_0x55e95f[_0x545042(0x45e)]=0x8]=_0x545042(0x45e);}(_0x35a889||(_0x35a889={})),function(_0x25c0bf){const _0x8af8fc=_0xdcbb79;_0x25c0bf[_0x25c0bf['Sender']=0x0]=_0x8af8fc(0x6bd),_0x25c0bf[_0x25c0bf[_0x8af8fc(0x3f5)]=0x1]=_0x8af8fc(0x3f5);}(_0x54ce26||(_0x54ce26={})),function(_0x59cefe){const _0x5d9679=_0xdcbb79;_0x59cefe[_0x5d9679(0xa43)]=_0x5d9679(0x2c4);}(_0x236819||(_0x236819={})),function(_0x47e8a8){const _0x336e37=_0xdcbb79;_0x47e8a8[_0x47e8a8['NodeJoin']=0x0]='NodeJoin',_0x47e8a8[_0x47e8a8[_0x336e37(0x5bd)]=0x1]=_0x336e37(0x5bd),_0x47e8a8[_0x47e8a8[_0x336e37(0x20c)]=0x2]=_0x336e37(0x20c),_0x47e8a8[_0x47e8a8[_0x336e37(0x1b4)]=0x3]=_0x336e37(0x1b4);}(_0x328d11||(_0x328d11={})),function(_0x45d35a){const _0x8e6518=_0xdcbb79;_0x45d35a[_0x45d35a[_0x8e6518(0x221)]=0x0]=_0x8e6518(0x221),_0x45d35a[_0x45d35a[_0x8e6518(0x26d)]=0x1]='RemoteRemediation';}(_0x26b693||(_0x26b693={})),function(_0x86e625){const _0x15fb3e=_0xdcbb79;_0x86e625[_0x15fb3e(0x38f)]=_0x15fb3e(0x975),_0x86e625[_0x15fb3e(0x402)]=_0x15fb3e(0x3d4);}(_0x348f6b||(_0x348f6b={})),function(_0x571581){const _0x4e36ac=_0xdcbb79;_0x571581[_0x4e36ac(0x9cb)]=_0x4e36ac(0x4d6),_0x571581[_0x4e36ac(0x654)]=_0x4e36ac(0x276);}(_0x59223e||(_0x59223e={}));const _0xb167ad=require('aws-amplify'),_0x3d0897=require('aws-amplify/utils'),_0x526624=require('@aws-amplify/api'),_0xfb8dc3=require('@aws-amplify/core');class _0x138b73{[_0xdcbb79(0x31a)];[_0xdcbb79(0x99b)];[_0xdcbb79(0x515)];constructor(_0x3da498,_0x320cb0,_0x30b39e){const _0x2ff9d5=_0xdcbb79;this[_0x2ff9d5(0x31a)]=_0x3da498,this[_0x2ff9d5(0x99b)]=_0x320cb0,this[_0x2ff9d5(0x515)]=_0x30b39e;}[_0xdcbb79(0x1fa)](){const _0x3f3dbf=_0xdcbb79;return this[_0x3f3dbf(0x99b)][_0x3f3dbf(0xa10)]();}[_0xdcbb79(0x6c9)](){const _0x14dee5=_0xdcbb79;return this[_0x14dee5(0x515)];}}var _0x5b5c37,_0x23a41e,_0x1b3ca9;function _0x2e8725(_0xcb6233,_0x166c01){const _0x308a66=_0xdcbb79;return _0xcb6233[_0x308a66(0x742)]===_0x166c01;}function _0x39c5bd(_0x4a2999,_0xfb89ea){const _0x1dc68e=_0xdcbb79;return _0x4a2999[_0x1dc68e(0x770)]?.[_0x1dc68e(0x949)](_0xfb89ea)??function(_0x5ddf73){return void 0x0===_0x5ddf73['destinationIds'];}(_0x4a2999);}function _0x116ef0(_0x449475,{contentType:_0x3f9dbe,label:_0x17b95f,remoteId:_0x4d45f}){return _0x449475+'-'+_0x3f9dbe+'-'+_0x17b95f+'-'+_0x4d45f;}function _0x338449(_0x902a96,_0x17da2e,_0x50760f){return''+_0x902a96+_0x17da2e+_0x50760f;}function _0x2f5012(_0x30aca8){const _0xbe9e0a=_0xdcbb79;return _0x30aca8===_0x23a41e['Incoming']?'IncomingSubscription':_0xbe9e0a(0x716);}function _0x90f46a(_0x32dde1,_0x5d784e){const _0x1bd0f8=_0xdcbb79;return{'label':_0x32dde1[_0x1bd0f8(0x9db)](),'contentType':_0x32dde1[_0x1bd0f8(0x3aa)](),'remoteId':_0x5d784e[_0x1bd0f8(0x6c9)](),'supportsContentType':_0x5d784e[_0x1bd0f8(0x67c)]()[_0x1bd0f8(0x949)](_0x32dde1[_0x1bd0f8(0x3aa)]())};}!function(_0x5617bd){const _0x1f693f=_0xdcbb79;_0x5617bd[_0x5617bd[_0x1f693f(0xa14)]=0x0]=_0x1f693f(0xa14),_0x5617bd[_0x5617bd[_0x1f693f(0x628)]=0x1]=_0x1f693f(0x628),_0x5617bd[_0x5617bd['Rejected']=0x2]='Rejected';}(_0x5b5c37||(_0x5b5c37={})),function(_0x3a6110){const _0x1eaf2d=_0xdcbb79;_0x3a6110[_0x1eaf2d(0x18f)]='in',_0x3a6110[_0x1eaf2d(0x21c)]=_0x1eaf2d(0x3ea);}(_0x23a41e||(_0x23a41e={}));class _0xc2a5e8{['callback'];[_0xdcbb79(0x967)];constructor(_0x1552a1,_0x489646){const _0x1c1fc8=_0xdcbb79;this[_0x1c1fc8(0x196)]=_0x1552a1,this['retryCallback']=_0x489646;}[_0xdcbb79(0x18e)](_0x58c819){this['callback'](_0x58c819);}async[_0xdcbb79(0x25f)](){const _0x285e94=_0xdcbb79;await this[_0x285e94(0x967)]();}}class _0x3ec546{[_0xdcbb79(0x196)];[_0xdcbb79(0x967)];constructor(_0x550d48,_0xe72a5f){const _0x50c18c=_0xdcbb79;this[_0x50c18c(0x196)]=_0x550d48,this['retryCallback']=_0xe72a5f;}async[_0xdcbb79(0x18e)](_0x175aa2){const _0x515d37=_0xdcbb79;await this[_0x515d37(0x196)](_0x175aa2);}async[_0xdcbb79(0x25f)](){const _0x162be=_0xdcbb79;await this[_0x162be(0x967)]();}}function _0x6854b4(_0x2488b1=()=>{},_0x12e6c2=()=>!0x1,_0x538692=()=>{}){let _0x3a2321,_0x31ebd7,_0x4ba73e=0x0;return{get 'size'(){return _0x4ba73e;},get 'head'(){return _0x3a2321;},get 'tail'(){return _0x31ebd7;},set 'head'(_0x2ca42d){_0x3a2321=_0x2ca42d;},set 'tail'(_0x21bbc3){_0x31ebd7=_0x21bbc3;},'push'(_0x18bd54,_0x1438f7=!0x0){const _0xa0bffa=a0_0x27c7,_0x107980={'value':_0x18bd54};_0x1438f7&&_0x12e6c2(_0x107980)?_0x2488b1():(_0x31ebd7&&(_0x107980[_0xa0bffa(0x5b9)]=_0x31ebd7,_0x31ebd7[_0xa0bffa(0x9f2)]=_0x107980),_0x31ebd7=_0x107980,_0x3a2321||(_0x3a2321=_0x107980),_0x4ba73e+=0x1,_0x1438f7&&_0x2488b1());},'pop'(){const _0x1727c8=a0_0x27c7;if(!_0x31ebd7)return;const _0x2fe42d=_0x31ebd7['value'];return _0x31ebd7=_0x31ebd7['previous'],_0x31ebd7&&delete _0x31ebd7[_0x1727c8(0x9f2)],_0x31ebd7||(_0x3a2321=void 0x0),_0x4ba73e-=0x1,_0x2fe42d;},'unshift'(_0x486e92,_0x4dafc6=!0x0){const _0x3db7ee={'value':_0x486e92};_0x4dafc6&&_0x12e6c2(_0x3db7ee)?_0x2488b1():(_0x3a2321&&(_0x3a2321['previous']=_0x3db7ee,_0x3db7ee['next']=_0x3a2321),_0x3a2321=_0x3db7ee,_0x31ebd7||(_0x31ebd7=_0x3db7ee),_0x4ba73e+=0x1,_0x4dafc6&&_0x2488b1());},'shift'(){const _0x4f51ad=a0_0x27c7;if(!_0x3a2321)return;const _0x19657f=_0x3a2321['value'];return _0x3a2321=_0x3a2321[_0x4f51ad(0x9f2)],_0x3a2321&&delete _0x3a2321[_0x4f51ad(0x5b9)],_0x3a2321||(_0x31ebd7=void 0x0),_0x4ba73e-=0x1,_0x19657f;},'clear'(){_0x538692(),_0x3a2321=void 0x0,_0x31ebd7=void 0x0,_0x4ba73e=0x0;}};}function _0xa3398e(_0xff84da,_0x42de81=!0x1,_0x22ce8a=()=>{},_0x51ad90=()=>!0x1,_0x5386cb=()=>{}){let _0x529d18=!0x1;const _0x5c6e3a=_0x6854b4(async function(){const _0x308f5d=a0_0x27c7;if(!_0x529d18){for(_0x529d18=!0x0;_0x5c6e3a['head'];){const _0x1a1db6=_0x5c6e3a[_0x308f5d(0x46b)]();if(_0x1a1db6)try{_0xff84da instanceof _0xc2a5e8&&_0xff84da[_0x308f5d(0x18e)](_0x1a1db6),_0xff84da instanceof _0x3ec546&&await _0xff84da['call'](_0x1a1db6),_0x22ce8a(_0x1a1db6);}catch(_0x54e24e){_0x42de81?_0x5c6e3a[_0x308f5d(0x90d)](_0x1a1db6,!0x1):_0x5c6e3a['unshift'](_0x1a1db6,!0x1),await _0xff84da[_0x308f5d(0x25f)]();}}_0x529d18=!0x1;}},_0x51ad90,_0x5386cb);return _0x5c6e3a;}class _0x50fa25 extends _0x138b73{[_0xdcbb79(0x8de)];[_0xdcbb79(0x49e)];[_0xdcbb79(0x4e3)]=_0x526624[_0xdcbb79(0x157)][_0xdcbb79(0x529)];[_0xdcbb79(0x9e9)]=_0x39cb77();[_0xdcbb79(0x717)]=_0x5de5e8();[_0xdcbb79(0x825)];[_0xdcbb79(0x965)];[_0xdcbb79(0x93e)]=_0xa3398e(new _0x3ec546(this[_0xdcbb79(0x2ce)][_0xdcbb79(0xa19)](this),this[_0xdcbb79(0x600)]['bind'](this)));['client'];constructor(_0x134e96,_0x3e23d9,_0x33a3d7,_0x589942,_0x383bb0){const _0x218fe3=_0xdcbb79;super(_0x3e23d9,_0x33a3d7,_0x589942),this['vendorId']=_0x134e96,this[_0x218fe3(0x49e)]=_0x383bb0;}async[_0xdcbb79(0x3fc)](){const _0xe3f71f=_0xdcbb79;try{const _0x5cbd5b={'getTokens':async()=>{const _0x5e47b3=a0_0x27c7,_0x56b767=await this[_0x5e47b3(0x49e)][_0x5e47b3(0xa38)]();return{'accessToken':(0x0,_0xfb8dc3[_0x5e47b3(0x622)])(_0x56b767),'idToken':(0x0,_0xfb8dc3[_0x5e47b3(0x622)])(_0x56b767)};}};_0xb167ad['Amplify']['configure']({'API':{'GraphQL':{'endpoint':_0x2df60e[_0xe3f71f(0x1e0)][_0xe3f71f(0x69c)],'region':_0x2df60e[_0xe3f71f(0x1e0)][_0xe3f71f(0x4d4)],'defaultAuthMode':_0xe3f71f(0x259)}}},{'Auth':{'tokenProvider':_0x5cbd5b}});const _0x45cd27=(0x0,_0x526624[_0xe3f71f(0x90f)])();this[_0xe3f71f(0x8bc)]=_0x45cd27,await this[_0xe3f71f(0x917)](),this['listenUnsubscriber']=_0x3d0897[_0xe3f71f(0x431)]['listen']('api',async({payload:_0x51d3f1})=>{const _0x392493=_0xe3f71f;if(_0x51d3f1[_0x392493(0x93b)]===_0x526624['CONNECTION_STATE_CHANGE']){const _0x307d6a=_0x51d3f1[_0x392493(0x78e)];this[_0x392493(0x4e3)]=_0x307d6a[_0x392493(0x4e3)],this['connectionStateListener'][_0x392493(0x884)](_0x307d6a['connectionState']),this['connectionState']===_0x526624[_0x392493(0x157)][_0x392493(0x529)]?(_0xbff73d[_0x392493(0x33f)](_0x392493(0x5f0),{'clusterId':this['clusterId'],'nodeId':this[_0x392493(0x1fa)](),'nodeType':this['localNode'][_0x392493(0x8fa)]}),this[_0x392493(0x3d8)](),this[_0x392493(0x3fc)]()):this[_0x392493(0x4e3)]===_0x526624[_0x392493(0x157)][_0x392493(0x266)]?_0xbff73d['warning']('appsync-connect',{'clusterId':this[_0x392493(0x31a)],'nodeId':this['getLocalId'](),'nodeType':this[_0x392493(0x99b)][_0x392493(0x8fa)]}):_0xbff73d[_0x392493(0x869)](_0x392493(0x233),{'clusterId':this['clusterId'],'nodeId':this[_0x392493(0x1fa)](),'nodeType':this['localNode'][_0x392493(0x8fa)],'data':{'state':_0x307d6a[_0x392493(0x4e3)]}});}});}catch(_0xb947f6){_0xbff73d[_0xe3f71f(0x33f)](_0xe3f71f(0x831),{'clusterId':this[_0xe3f71f(0x31a)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0xe3f71f(0x8fa)]});}}[_0xdcbb79(0x3d8)](){const _0x406f9c=_0xdcbb79;_0xbff73d[_0x406f9c(0x869)]('appsync-close',{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x406f9c(0x8fa)]}),this[_0x406f9c(0x93e)][_0x406f9c(0x6d0)](),this[_0x406f9c(0x965)]?.(),this[_0x406f9c(0x825)]?.[_0x406f9c(0x1aa)](),delete this[_0x406f9c(0x825)];}[_0xdcbb79(0x5ed)](){const _0x41eda1=_0xdcbb79;return this[_0x41eda1(0x4e3)]===_0x526624[_0x41eda1(0x157)]['Connected'];}[_0xdcbb79(0x3da)](_0x157a7a){const _0x2d2d82=_0xdcbb79;this[_0x2d2d82(0x93e)][_0x2d2d82(0x90d)](_0x157a7a);}[_0xdcbb79(0x312)](_0x14d380){return this['messageListeners']['subscribe'](_0x14d380);}[_0xdcbb79(0x67c)](){const _0x469944=_0xdcbb79;return[_0x410512[_0x469944(0xa30)]['Data']];}async[_0xdcbb79(0x600)](){const _0x4df5e6=_0xdcbb79;if(!this[_0x4df5e6(0x5ed)]())return new Promise(_0x75c715=>{const _0x4db495=_0x4df5e6,_0x53fb00=this[_0x4db495(0x9e9)]['subscribe'](_0x82a600=>{const _0x1fb2b2=_0x4db495;_0x82a600===_0x526624[_0x1fb2b2(0x157)]['Connected']&&(_0x53fb00(),_0x75c715());});});}async[_0xdcbb79(0x2ce)](_0xac2bc){const _0x2f2003=_0xdcbb79;if(this['connectionState']!==_0x526624[_0x2f2003(0x157)][_0x2f2003(0x266)])throw new Error(_0x2f2003(0x360));_0xac2bc[_0x2f2003(0x770)]&&0x1===_0xac2bc['destinationIds'][_0x2f2003(0x454)]?await this[_0x2f2003(0x884)](_0xac2bc[_0x2f2003(0x770)][0x0],JSON[_0x2f2003(0x6fb)](_0xac2bc)):_0xbff73d[_0x2f2003(0x33f)]('appsync-no-destination',{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x2f2003(0x99b)]['type']});}async[_0xdcbb79(0x884)](_0x57dac7,_0x4024bc){const _0x322274=_0xdcbb79;if(!this['client'])throw new Error(_0x322274(0x216));_0xbff73d[_0x322274(0x198)](_0x1f75f2['Signaling'],'AppSync\x20publish',this[_0x322274(0x1fa)](),_0x4024bc),await this[_0x322274(0x8bc)][_0x322274(0x2f5)]({'query':_0x322274(0x34e),'variables':{'name':await this[_0x322274(0x8dc)](_0x57dac7),'data':_0x4024bc}});}async[_0xdcbb79(0x917)](){const _0x325ef3=_0xdcbb79;if(this[_0x325ef3(0x825)])return;if(!this[_0x325ef3(0x8bc)])throw new Error('AppSync\x20client\x20not\x20ready');_0xbff73d[_0x325ef3(0x198)](_0x1f75f2['Signaling'],'AppSync\x20subscribe',this[_0x325ef3(0x1fa)]());const _0x26a004=await this[_0x325ef3(0x8bc)][_0x325ef3(0x2f5)]({'query':_0x325ef3(0x951),'variables':{'name':await this[_0x325ef3(0x8dc)]()},'authToken':await this[_0x325ef3(0x49e)][_0x325ef3(0xa38)]()},{'Authorization':await this[_0x325ef3(0x49e)][_0x325ef3(0xa38)]()});this[_0x325ef3(0x825)]=_0x26a004['subscribe']({'next':({data:_0x4019a4})=>{const _0x1f7db9=_0x325ef3,_0x2ab95c=JSON['parse'](_0x4019a4[_0x1f7db9(0x917)][_0x1f7db9(0x78e)]);!_0x2e8725(_0x2ab95c,this[_0x1f7db9(0x1fa)]())&&_0x39c5bd(_0x2ab95c,this[_0x1f7db9(0x1fa)]())&&this[_0x1f7db9(0x717)][_0x1f7db9(0x884)](_0x2ab95c);},'error':console[_0x325ef3(0x198)]});}async[_0xdcbb79(0x8dc)](_0x1ed3dd){const _0x583379=_0xdcbb79,_0xeb7f75=await crypto[_0x583379(0x4c6)][_0x583379(0x5a7)]('SHA-1',new TextEncoder()['encode'](this[_0x583379(0x8de)]+'-'+this['clusterId']+'-'+(_0x1ed3dd??this[_0x583379(0x1fa)]())));return Array[_0x583379(0x6dd)](new Uint8Array(_0xeb7f75))[_0x583379(0x945)](_0x30462f=>_0x30462f[_0x583379(0x298)](0x10)['padStart'](0x2,'0'))[_0x583379(0x9e4)]('');}}!function(_0x13c6aa){const _0x5dcacd=_0xdcbb79;_0x13c6aa[_0x13c6aa[_0x5dcacd(0x881)]=0x0]=_0x5dcacd(0x881),_0x13c6aa[_0x13c6aa['Remove']=0x1]=_0x5dcacd(0x2c5),_0x13c6aa[_0x13c6aa[_0x5dcacd(0x61b)]=0x2]=_0x5dcacd(0x61b),_0x13c6aa[_0x13c6aa[_0x5dcacd(0x702)]=0x3]='RemoteAdd',_0x13c6aa[_0x13c6aa[_0x5dcacd(0x17f)]=0x4]='RemoteRemove';}(_0x1b3ca9||(_0x1b3ca9={}));const _0x3912ca='0',_0x274792='chunk',_0x583399=_0x3eb73a,_0x51ca95=0xbe800;class _0x2a40ea{[_0xdcbb79(0x31a)];[_0xdcbb79(0x99b)];[_0xdcbb79(0x515)];[_0xdcbb79(0x60c)];[_0xdcbb79(0x657)];[_0xdcbb79(0x1fb)];[_0xdcbb79(0x4b8)];['dataChannel'];[_0xdcbb79(0x8f4)]=0x1;[_0xdcbb79(0x5df)];[_0xdcbb79(0x7a3)]=[];[_0xdcbb79(0x6ee)]=[];['handshakeDebounce'];constructor(_0x34f9bd,_0x4908d8,_0xc42ac8,_0x2dd617,_0x245178,_0x5a724f){const _0x255aaa=_0xdcbb79;this['clusterId']=_0x34f9bd,this[_0x255aaa(0x99b)]=_0x4908d8,this[_0x255aaa(0x515)]=_0xc42ac8,this['iceServers']=_0x2dd617,this[_0x255aaa(0x657)]=_0x245178,this[_0x255aaa(0x1fb)]=_0x5a724f,this[_0x255aaa(0x4b8)]=new this[(_0x255aaa(0x1fb))]({'handshakeServers':this[_0x255aaa(0x60c)]}),this['setupConnectionEvents']();}[_0xdcbb79(0x3d8)](){this['stopConnection']();}[_0xdcbb79(0x290)](_0x5e6460){const _0x1f9f77=_0xdcbb79;this[_0x1f9f77(0x657)]=_0x5e6460;}async[_0xdcbb79(0x424)](_0x247264,_0x43876b){const _0x4448cf=_0xdcbb79;if(_0x43876b===this[_0x4448cf(0x8f4)])for(const _0x60c1b2 of _0x247264){if(!this[_0x4448cf(0x4b8)][_0x4448cf(0xa04)])return this['addPendingHandshakeCandidate'](_0x60c1b2);try{await this[_0x4448cf(0x4b8)][_0x4448cf(0x7d0)](_0x60c1b2);}catch(_0x5601fc){this['addPendingHandshakeCandidate'](_0x60c1b2);}}}['isConnected'](){const _0x427528=_0xdcbb79;return this[_0x427528(0x2bd)](),_0x427528(0x190)===this['connection'][_0x427528(0x4e3)]&&['connected',_0x427528(0x588)]['includes'](this[_0x427528(0x4b8)]['handshakeState'])&&_0x427528(0x16d)!==this[_0x427528(0x4b8)][_0x427528(0x534)]&&_0x427528(0x94b)===this['dataChannel']?.[_0x427528(0x7b6)];}['registerSystemPublisher'](_0x4a6408){const _0x4ef776=_0xdcbb79;this[_0x4ef776(0x5df)]=_0x4a6408;}[_0xdcbb79(0x1c8)](){const _0x5399bb=_0xdcbb79;delete this[_0x5399bb(0x5df)];}[_0xdcbb79(0x64e)](_0x2dd9cd){const _0x497100=_0xdcbb79;this[_0x497100(0x7f0)](),this[_0x497100(0x4b8)]=new this[(_0x497100(0x1fb))]({'handshakeServers':this['iceServers']}),_0x2dd9cd?this[_0x497100(0x8f4)]=_0x2dd9cd:this[_0x497100(0x8f4)]+=0x1,this[_0x497100(0x7df)]();}[_0xdcbb79(0x3db)](){const _0x1aee99=_0xdcbb79;this[_0x1aee99(0x6ee)][_0x1aee99(0x5f6)](_0x25cb49=>{const _0x30e398=_0x1aee99;try{this[_0x30e398(0x4b8)][_0x30e398(0x7d0)](_0x25cb49);}catch(_0x5f2598){}}),this['pendingHandshakeCandidates']=[];}[_0xdcbb79(0x9de)](_0x494661,_0x1c3db4){const _0x41d021=_0xdcbb79;if(!this['systemTopic'])throw new _0x3c9628(_0x3c9628[_0x41d021(0x994)][_0x41d021(0x3ba)],{'content':_0x494661});const _0x4badc2={'sourceId':this['localNode'][_0x41d021(0xa10)](),'destinationIds':[this[_0x41d021(0x515)]],'propagate':this[_0x41d021(0x657)]!==_0x9e7bd3['Core'],'retry':this[_0x41d021(0x657)]!==_0x9e7bd3[_0x41d021(0x3d2)],'messageType':_0x447632[_0x41d021(0x183)],'content':_0x494661};_0x1c3db4&&(_0x4badc2[_0x41d021(0x3c9)]=_0x1c3db4),this[_0x41d021(0x5df)][_0x41d021(0x884)](_0x4badc2);}['setupConnectionEvents'](){const _0x57f118=_0xdcbb79;this[_0x57f118(0x4b8)][_0x57f118(0x928)]=()=>{const _0x569d23=_0x57f118;_0x569d23(0x314)===this[_0x569d23(0x4b8)]['gatheringState']&&this['handshakeCandidates']['length']>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x569d23(0x52b)]),this[_0x569d23(0x52b)]=setTimeout(()=>{const _0x19d706=_0x569d23;delete this[_0x19d706(0x52b)],this[_0x19d706(0x757)](),this[_0x19d706(0x7a3)]=[];},0x1f4));},this[_0x57f118(0x4b8)]['onCandidate']=_0x40c280=>{const _0x1386f2=_0x57f118;_0x40c280[_0x1386f2(0x15f)]&&this[_0x1386f2(0x7a3)]['push'](_0x40c280[_0x1386f2(0x15f)]);};}[_0xdcbb79(0x7f0)](){const _0xfc01bc=_0xdcbb79;clearTimeout(this[_0xfc01bc(0x52b)]),delete this[_0xfc01bc(0x52b)],this[_0xfc01bc(0x7a3)]=[],this['pendingHandshakeCandidates']=[],this[_0xfc01bc(0x362)]&&(this['dataChannel'][_0xfc01bc(0x312)]=null,this[_0xfc01bc(0x362)][_0xfc01bc(0x2cf)]=null,this['dataChannel'][_0xfc01bc(0x3d8)](),delete this[_0xfc01bc(0x362)]),this[_0xfc01bc(0x4b8)][_0xfc01bc(0x928)]=null,this['connection'][_0xfc01bc(0x653)]=null,this['connection'][_0xfc01bc(0x8a8)]=null,this[_0xfc01bc(0x4b8)]['onConnectionStateChange']=null,this['connection'][_0xfc01bc(0x3b9)]=null,this['connection']['onDataChannel']=null,this[_0xfc01bc(0x4b8)][_0xfc01bc(0x3d8)]();}[_0xdcbb79(0x22e)](_0x33081f){const _0x20c46a=_0xdcbb79;this[_0x20c46a(0x6ee)][_0x20c46a(0x90d)](_0x33081f);}[_0xdcbb79(0x2bd)](){const _0x41b0f3=_0xdcbb79;_0xbff73d[_0x41b0f3(0x198)](_0x1f75f2[_0x41b0f3(0x157)],'Base\x20Peer\x20Connection',{'localId':this[_0x41b0f3(0x99b)][_0x41b0f3(0xa10)](),'remoteId':this[_0x41b0f3(0x515)],'connectionState':this[_0x41b0f3(0x4b8)]['connectionState'],'handshakeState':this['connection'][_0x41b0f3(0x2a3)],'signalingState':this[_0x41b0f3(0x4b8)][_0x41b0f3(0x534)],'dataChannelState':this[_0x41b0f3(0x362)]?.['state']});}}function _0x484218(_0x4ed49e,_0x295ebb){const _0x32dc1e=_0xdcbb79;_0x295ebb[_0x32dc1e(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x32dc1e(0x183)],'content':_0x4ed49e});}class _0x47fa81{static [_0xdcbb79(0x6f7)];[_0xdcbb79(0x541)]=[];['source'];constructor(){setInterval(()=>{const _0x11902f=a0_0x27c7;this[_0x11902f(0x541)]['forEach'](_0x180d33=>{const _0x5bf1a7=_0x11902f;if(Date[_0x5bf1a7(0x667)]()-_0x180d33['lastExecuted']>_0x180d33[_0x5bf1a7(0x391)]){try{_0x180d33[_0x5bf1a7(0x196)]();}catch(_0x465655){}_0x180d33['lastExecuted']=Date[_0x5bf1a7(0x667)]();}});},0x64);}static[_0xdcbb79(0x626)](){const _0x1624e8=_0xdcbb79;return _0x47fa81[_0x1624e8(0x6f7)]||(_0x47fa81[_0x1624e8(0x6f7)]=new _0x47fa81()),_0x47fa81['instance'];}[_0xdcbb79(0x49c)](_0x29b5b5){const _0x2be41b=_0xdcbb79,_0x5b2de4=this[_0x2be41b(0x2a8)](_0x29b5b5),_0x23a330=_0x29b5b5[_0x2be41b(0x268)]();_0x23a330&&_0x5b2de4&&(_0x23a330[_0x2be41b(0x2c1)][_0x2be41b(0x153)]=0.001,_0x5b2de4[_0x2be41b(0x3fc)](_0x23a330),_0x23a330['connect'](_0x29b5b5[_0x2be41b(0x7c4)]),_0x5b2de4['start']());}['stopNoThrottlingHack'](){const _0x106c7d=_0xdcbb79;this['source']&&(this[_0x106c7d(0x846)][_0x106c7d(0x584)](),this[_0x106c7d(0x846)][_0x106c7d(0x67a)](),this[_0x106c7d(0x846)]=void 0x0);}[_0xdcbb79(0x25f)](_0x457897){return new Promise(_0x4ad2ec=>{setTimeout(_0x4ad2ec,_0x457897);});}[_0xdcbb79(0x22c)](_0x348423,_0x110ab0){const _0x242cc1=_0xdcbb79;return this[_0x242cc1(0x541)][_0x242cc1(0x90d)]({'callback':_0x348423,'interval':_0x110ab0,'lastExecuted':Date[_0x242cc1(0x667)]()}),()=>{const _0x56cdd9=_0x242cc1;this['parameters']=this['parameters'][_0x56cdd9(0x4e9)](_0x3d8413=>_0x3d8413['callback']!==_0x348423);};}[_0xdcbb79(0x2a8)](_0x80a647){const _0x45e092=_0xdcbb79;if(_0x80a647[_0x45e092(0x2a8)])return _0x80a647[_0x45e092(0x2a8)]();const _0xb431ee=_0x80a647[_0x45e092(0x2f2)](),_0x4a0bb0=_0x80a647[_0x45e092(0x5f4)](0x1,0x1,_0x80a647[_0x45e092(0x446)]);return _0x4a0bb0[_0x45e092(0x992)](0x0)[0x0]=0xa,_0xb431ee['buffer']=_0x4a0bb0,_0xb431ee[_0x45e092(0x722)]=!0x0,_0xb431ee;}}const _0x4f45f0=_0x47fa81['getInstance']();class _0x2db533 extends _0x2a40ea{['messageCallback']=_0x39cb77();['trackCallback']=_0x39cb77();[_0xdcbb79(0x80f)]=_0x39cb77();[_0xdcbb79(0x18b)]=new Map();['chunks']=new Map();[_0xdcbb79(0x36b)];['messagesReceived']=0x0;[_0xdcbb79(0xa6f)]={'messages':{'total':0x0}};[_0xdcbb79(0x6d1)]=0x0;[_0xdcbb79(0x7ff)]=0x0;[_0xdcbb79(0x6d9)]=_0x2a49e0(_0xdcbb79(0x171),_0x1f75f2['ReceiverOnMessage']);['close'](){const _0x365470=_0xdcbb79;this[_0x365470(0x7f7)](),this['receivers'][_0x365470(0x6d0)](),super[_0x365470(0x3d8)]();}async[_0xdcbb79(0x5e9)](_0x643a97,_0x3fcff7){const _0x19d0cd=_0xdcbb79;this['currentVersion']=_0x3fcff7,this['clearWaitSuccess']();const _0x288532=await this['connection'][_0x19d0cd(0x64d)](_0x643a97);this[_0x19d0cd(0x3db)]();const _0x213354=(0x0,_0x539333['v4'])();this[_0x19d0cd(0x9de)]({'type':_0x35a889['Answer'],'answer':_0x288532,'version':_0x3fcff7,'connectionType':this['connectionType']},_0x213354),this[_0x19d0cd(0x657)]===_0x9e7bd3[_0x19d0cd(0x3d2)]&&(this['waitSuccess']=_0x4f45f0['setInterval'](()=>{const _0x4c5483=_0x19d0cd;this[_0x4c5483(0x9de)]({'type':_0x35a889[_0x4c5483(0x2d1)],'answer':_0x288532,'version':_0x3fcff7,'connectionType':this['connectionType']},_0x213354);},0x1388));}[_0xdcbb79(0x34b)](){const _0xada3b5=_0xdcbb79;this[_0xada3b5(0x7f7)]();}['handleNeedRestart'](_0x597065){const _0xe60f50=_0xdcbb79;this[_0xe60f50(0x64e)](_0x597065),this[_0xe60f50(0x9de)]({'type':_0x35a889['Restart']});}async[_0xdcbb79(0x34a)](){const _0x5a56bd=_0xdcbb79;this[_0x5a56bd(0x5df)]&&(await this[_0x5a56bd(0x4b8)]['collectReceiversStats'](this[_0x5a56bd(0x18b)],(_0x19fe78,_0x57fb8e)=>{const _0x124d5c=_0x5a56bd;_0x484218({'type':_0x35a889[_0x124d5c(0x8b5)],'streamId':_0x57fb8e,'nodeId':this['remoteId'],'stats':_0x19fe78},this[_0x124d5c(0x5df)]);}),this[_0x5a56bd(0x5df)]['publish']({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x5a56bd(0x183)],'content':{'type':_0x35a889[_0x5a56bd(0x8b5)],'nodeId':this[_0x5a56bd(0x515)],'stats':{'origin':_0x54ce26['Receiver'],'timestamp':Date['now'](),'messagesReceived':this[_0x5a56bd(0x958)],'bytesReceived':this['bytesReceived'],'timeReceiving':this[_0x5a56bd(0x7ff)],'systemMessages':this[_0x5a56bd(0xa6f)]}}}));}[_0xdcbb79(0x312)](_0x5758aa){const _0x57d7b8=_0xdcbb79;return _0x2df60e[_0x57d7b8(0x9f4)]?this['messageCallback'][_0x57d7b8(0x917)](_0x5758aa):this[_0x57d7b8(0x5e2)][_0x57d7b8(0x917)](_0x8bd2ff=>{const _0x1ced05=_0x57d7b8;0x0===_0x8bd2ff[_0x1ced05(0x4c7)]&&_0x8bd2ff['messageType']===_0x447632[_0x1ced05(0x6cf)]&&this[_0x1ced05(0x6d9)][_0x1ced05(0x472)][_0x1ced05(0x198)](_0x1ced05(0xa02)+this[_0x1ced05(0x515)],()=>_0x7db090(_0x8bd2ff)),_0x5758aa(_0x8bd2ff);});}[_0xdcbb79(0x3b9)](_0xedf7d3){const _0x29c2c8=_0xdcbb79;return this[_0x29c2c8(0x4d8)][_0x29c2c8(0x917)](({track:_0x7c3156,stream:_0x4d82e9})=>_0xedf7d3(_0x7c3156,_0x4d82e9));}['onRemoveTrack'](_0x32f6e9){const _0x5839c0=_0xdcbb79;return this[_0x5839c0(0x80f)][_0x5839c0(0x917)](({track:_0x14f361,stream:_0x3d5005})=>_0x32f6e9(_0x14f361,_0x3d5005));}[_0xdcbb79(0x64e)](_0x4bbf79){const _0x150e5e=_0xdcbb79;this[_0x150e5e(0x7f7)](),this[_0x150e5e(0x18b)][_0x150e5e(0x5f6)](_0x42525f=>{_0x42525f['clear']();}),super[_0x150e5e(0x64e)](_0x4bbf79);}['sendIceCandidates'](){const _0x5a206b=_0xdcbb79;this[_0x5a206b(0x9de)]({'type':_0x35a889[_0x5a206b(0x835)],'candidates':this[_0x5a206b(0x7a3)],'origin':_0x54ce26[_0x5a206b(0x3f5)],'version':this['currentVersion'],'connectionType':this[_0x5a206b(0x657)]});}[_0xdcbb79(0x7df)](){const _0x1a4599=_0xdcbb79;super[_0x1a4599(0x7df)](),this[_0x1a4599(0x4b8)][_0x1a4599(0x3b9)]=_0x20cd26=>{const _0x1e707f=_0x1a4599;_0xbff73d[_0x1e707f(0x198)](_0x1f75f2[_0x1e707f(0x205)],_0x1e707f(0x774),this[_0x1e707f(0x99b)]['getId'](),_0x20cd26),_0x20cd26[_0x1e707f(0x775)][0x0][_0x1e707f(0x415)]=_0x6c9b08=>{const _0x35c5d6=_0x1e707f;this['receivers'][_0x35c5d6(0x3ee)](_0x20cd26[_0x35c5d6(0x775)][0x0]['id'])?.[_0x35c5d6(0x652)](_0x6c9b08[_0x35c5d6(0xa0d)]),0x0===this['receivers'][_0x35c5d6(0x3ee)](_0x20cd26[_0x35c5d6(0x775)][0x0]['id'])?.[_0x35c5d6(0x400)]&&this[_0x35c5d6(0x18b)][_0x35c5d6(0x652)](_0x20cd26[_0x35c5d6(0x775)][0x0]['id']),this['removeTrackCallback']['publish']({'track':_0x6c9b08['track'],'stream':_0x20cd26[_0x35c5d6(0x775)][0x0]});},this[_0x1e707f(0x18b)]['has'](_0x20cd26[_0x1e707f(0x775)][0x0]['id'])||this['receivers'][_0x1e707f(0x80a)](_0x20cd26[_0x1e707f(0x775)][0x0]['id'],new Set()),this[_0x1e707f(0x18b)]['get'](_0x20cd26['streams'][0x0]['id'])[_0x1e707f(0x164)](_0x20cd26[_0x1e707f(0xa0d)]),this[_0x1e707f(0x4d8)][_0x1e707f(0x884)]({'track':_0x20cd26['track'],'stream':_0x20cd26[_0x1e707f(0x775)][0x0]});},this[_0x1a4599(0x4b8)][_0x1a4599(0x83e)]=_0x2223d3=>{const _0x58b85e=_0x1a4599;this['dataChannel']=_0x2223d3[_0x58b85e(0x937)],this[_0x58b85e(0x362)][_0x58b85e(0x312)]=_0x4ebdc4=>{const _0x3d8754=_0x58b85e;if(_0x4ebdc4[_0x3d8754(0x78e)]!==_0x3912ca)this[_0x3d8754(0x159)](_0x4ebdc4[_0x3d8754(0x78e)]);else{if(!this['dataChannel'])return void _0xbff73d['error']('missing-datachannel',{'clusterId':this['clusterId'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x3d8754(0x99b)][_0x3d8754(0x8fa)],'remoteId':this[_0x3d8754(0x515)],'data':{'connection':'receiver'}});if(_0x3d8754(0x94b)!==this[_0x3d8754(0x362)][_0x3d8754(0x7b6)])return;this[_0x3d8754(0x362)][_0x3d8754(0x3da)]('1');}};};}[_0xdcbb79(0x159)](_0x112977){const _0x42034a=_0xdcbb79;if(_0x42034a(0x610)==typeof _0x112977&&_0x112977[_0x42034a(0x9e1)](_0x274792))return this[_0x42034a(0x958)]+=0x1,this[_0x42034a(0x6d1)]+=_0x112977[_0x42034a(0x454)],this['handleChunkMessage'](_0x112977);setTimeout(()=>{const _0x3b031a=_0x42034a,_0x6aef5f=Date[_0x3b031a(0x667)]();let _0x2794dc;if((_0x112977 instanceof ArrayBuffer||_0x112977[_0x3b031a(0x454)]<=_0x583399)&&(this[_0x3b031a(0x958)]+=0x1,this[_0x3b031a(0x6d1)]+=_0x112977 instanceof ArrayBuffer?_0x112977[_0x3b031a(0x2f6)]:_0x112977[_0x3b031a(0x454)]),_0x112977 instanceof ArrayBuffer){const [_0x449301,_0x106155]=this['splitParts'](_0x112977);_0x2794dc=_0x449301,_0x2794dc[_0x3b031a(0x7bd)]['data']=_0x106155;}else _0x2794dc=JSON[_0x3b031a(0xa2e)](_0x112977);if(0x0===_0x2794dc[_0x3b031a(0x4c7)]){this['systemMessagesReceived'][_0x3b031a(0x61d)][_0x3b031a(0x7e9)]+=0x1;const {systemMessageType:_0x1c81c5,systemContentMessageType:_0x38f786}=_0x7db090(_0x2794dc);this['systemMessagesReceived'][_0x1c81c5]||(this[_0x3b031a(0xa6f)][_0x1c81c5]={[_0x38f786]:0x0}),this[_0x3b031a(0xa6f)][_0x1c81c5][_0x38f786]||(this[_0x3b031a(0xa6f)][_0x1c81c5][_0x38f786]=0x0),this['systemMessagesReceived'][_0x1c81c5][_0x3b031a(0x7e9)]||(this[_0x3b031a(0xa6f)][_0x1c81c5][_0x3b031a(0x7e9)]=0x0),this[_0x3b031a(0xa6f)][_0x1c81c5][_0x38f786]+=0x1,this[_0x3b031a(0xa6f)][_0x1c81c5][_0x3b031a(0x7e9)]+=0x1;}this[_0x3b031a(0x5e2)]['publish'](_0x2794dc),this[_0x3b031a(0x7ff)]+=Date[_0x3b031a(0x667)]()-_0x6aef5f;},0x0);}[_0xdcbb79(0x4de)](_0x38eda7){const _0x510f5a=_0xdcbb79,_0x4e0b48=_0x38eda7[_0x510f5a(0x470)](';'),_0x1f659e=_0x4e0b48[0x1],_0x2950d6=parseInt(_0x4e0b48[0x2],0xa),_0x5315e9=parseInt(_0x4e0b48[0x3],0xa),_0x2f5960=_0x38eda7[_0x510f5a(0x7cf)](_0x274792+';'+_0x1f659e+';'+_0x2950d6+';'+_0x5315e9+';','');this[_0x510f5a(0x84b)][_0x510f5a(0x504)](_0x1f659e)||this[_0x510f5a(0x84b)]['set'](_0x1f659e,[]);const _0x4d42f0=this[_0x510f5a(0x84b)][_0x510f5a(0x3ee)](_0x1f659e);_0x4d42f0[_0x2950d6]=_0x2f5960,_0x4d42f0[_0x510f5a(0x454)]===_0x5315e9&&(this['handleOnMessage'](_0x4d42f0[_0x510f5a(0x9e4)]('')),this[_0x510f5a(0x84b)][_0x510f5a(0x652)](_0x1f659e));}[_0xdcbb79(0x7f7)](){const _0x1ce5b4=_0xdcbb79;this[_0x1ce5b4(0x36b)]?.(),delete this['waitSuccess'];}[_0xdcbb79(0x772)](_0x3c204b){const _0x149eb4=_0xdcbb79,_0x581cb5=new TextDecoder()[_0x149eb4(0x764)](_0x3c204b);return JSON['parse'](_0x581cb5);}[_0xdcbb79(0x7d1)](_0x39e13d){const _0x57bc3a=_0xdcbb79,_0x4ad953=new Uint8Array(_0x39e13d[_0x57bc3a(0x3ef)](0x0,0x4)),_0x2ec92d=new Uint32Array(_0x4ad953[_0x57bc3a(0x475)])[0x0],_0x41eb15=new Uint8Array(_0x39e13d[_0x57bc3a(0x3ef)](0x4,0x4+_0x2ec92d)),_0x3c632e=new Uint8Array(_0x39e13d[_0x57bc3a(0x3ef)](0x4+_0x2ec92d));return[this['arrayBufferToObject'](_0x41eb15[_0x57bc3a(0x475)]),_0x3c632e[_0x57bc3a(0x475)]];}}const _0x2084be=0xc350;var _0x2469ab,_0x1875b9;!function(_0x51f43c){const _0xaeb253=_0xdcbb79;_0x51f43c[_0x51f43c[_0xaeb253(0x682)]=0x0]=_0xaeb253(0x682),_0x51f43c[_0x51f43c[_0xaeb253(0x506)]=0x1]='Medium',_0x51f43c[_0x51f43c[_0xaeb253(0x52c)]=0x2]='Low';}(_0x2469ab||(_0x2469ab={}));class _0x39f682 extends _0x2a40ea{[_0xdcbb79(0x9f3)];[_0xdcbb79(0x1c4)];[_0xdcbb79(0x46f)]=new Map();[_0xdcbb79(0x743)];[_0xdcbb79(0x240)];[_0xdcbb79(0x42f)];[_0xdcbb79(0x347)]=!0x1;[_0xdcbb79(0x841)];[_0xdcbb79(0xa53)];[_0xdcbb79(0x95f)];[_0xdcbb79(0x93e)]=function(e,t=_0x2469ab,s=!0x1){const _0x4d72f5=_0xdcbb79;let n=!0x1;const i=[];async function o(){const _0x1c70ab=a0_0x27c7;if(!n){for(n=!0x0;i[_0x1c70ab(0x692)](e=>e[_0x1c70ab(0x38d)]);){let t,n=0x0;for(const [e,s]of i[_0x1c70ab(0x88f)]())if(t=s[_0x1c70ab(0x46b)](),n=e,t)break;if(t)try{if(e instanceof _0xc2a5e8&&e[_0x1c70ab(0x18e)](t),e instanceof _0x3ec546&&await e[_0x1c70ab(0x18e)](t),i[_0x1c70ab(0x3ef)](-0x1)[_0x1c70ab(0x692)](e=>e['head']))continue;const s=i[_0x1c70ab(0x454)]-0x1;n===s&&i[s]['head']&&await _0x4f45f0[_0x1c70ab(0x25f)](0x0);}catch(o){s?i[n][_0x1c70ab(0x90d)](t,!0x1):i[n]['unshift'](t,!0x1),await e[_0x1c70ab(0x25f)]();}}n=!0x1;}}return Object[_0x4d72f5(0x6c2)](t)[_0x4d72f5(0x5f6)](e=>{const _0x356664=_0x4d72f5;_0x356664(0x610)!=typeof e&&(i[e]=_0x6854b4(o));}),{'queues':i};}(new _0xc2a5e8(this[_0xdcbb79(0x2ce)][_0xdcbb79(0xa19)](this),this[_0xdcbb79(0x3ce)][_0xdcbb79(0xa19)](this)));[_0xdcbb79(0x9b6)]=0x0;[_0xdcbb79(0x82c)]=0x0;[_0xdcbb79(0x93c)]=0x0;[_0xdcbb79(0x747)]=0x0;[_0xdcbb79(0x7f9)];[_0xdcbb79(0x6d9)]=_0x2a49e0(_0xdcbb79(0x61f),_0x1f75f2[_0xdcbb79(0x1ec)]);constructor(_0x371d91,_0x5bcffc,_0x829709,_0x34696f,_0x3ecf08,_0xfa16b8,_0x823582,_0x4ad383){const _0x19f229=_0xdcbb79;super(_0x371d91,_0x5bcffc,_0x829709,_0x34696f,_0x3ecf08,_0x4ad383),this[_0x19f229(0x9f3)]=_0xfa16b8,this[_0x19f229(0x1c4)]=_0x823582;}[_0xdcbb79(0x3d8)](){const _0x30565d=_0xdcbb79;this['clearUpgradeTimeout'](),this[_0x30565d(0x799)](),delete this[_0x30565d(0x42f)],this['clearRestartTimeout'](),this[_0x30565d(0x3b5)](),this['clearWaitAnswer'](),this[_0x30565d(0x46f)]['clear'](),this['isReconnecting']=!0x1,this[_0x30565d(0x93e)]['queues'][_0x30565d(0x5f6)](_0x372379=>_0x372379[_0x30565d(0x6d0)]()),this[_0x30565d(0x1d7)](),super[_0x30565d(0x3d8)]();}[_0xdcbb79(0x5ed)](){const _0x5e49e5=_0xdcbb79;return!!this[_0x5e49e5(0x42f)]&&super['isConnected']()&&Date[_0x5e49e5(0x667)]()-this['lastHeartbeat']<0x3a98;}async[_0xdcbb79(0x34a)](){const _0xae8bcc=_0xdcbb79;this[_0xae8bcc(0x5df)]&&(await this[_0xae8bcc(0x4b8)][_0xae8bcc(0x3d5)](this['senders'],(_0xb0fc4a,_0x32f55c)=>{const _0x4d4845=_0xae8bcc;_0x484218({'type':_0x35a889['Stats'],'streamId':_0x32f55c,'nodeId':this[_0x4d4845(0x515)],'stats':_0xb0fc4a},this[_0x4d4845(0x5df)]);}),this[_0xae8bcc(0x5df)][_0xae8bcc(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632['PeerConnection'],'content':{'type':_0x35a889[_0xae8bcc(0x8b5)],'nodeId':this[_0xae8bcc(0x515)],'stats':{'origin':_0x54ce26[_0xae8bcc(0x6bd)],'timestamp':Date[_0xae8bcc(0x667)](),'messagesSent':this[_0xae8bcc(0x9b6)],'bytesSent':this[_0xae8bcc(0x82c)],'timeSending':this['timeSending'],'roundTripTime':this[_0xae8bcc(0x747)]}}}));}async[_0xdcbb79(0x805)](_0x10653f){const _0x5f5ad0=_0xdcbb79;_0xbff73d[_0x5f5ad0(0x198)](_0x1f75f2[_0x5f5ad0(0x205)],_0x5f5ad0(0x82b),this[_0x5f5ad0(0x99b)][_0x5f5ad0(0xa10)](),this['remoteId']),this[_0x5f5ad0(0x250)](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this['connectionTimeout']=setTimeout(()=>{this['handleDisconnect']();},0x7530),this[_0x5f5ad0(0x362)]||(this['dataChannel']=this[_0x5f5ad0(0x4b8)][_0x5f5ad0(0x79d)](_0x5f5ad0(0x78e)),this[_0x5f5ad0(0x362)][_0x5f5ad0(0xa39)]=_0x51ca95,this['dataChannel'][_0x5f5ad0(0x2cf)]=()=>{const _0x2beef5=_0x5f5ad0;this[_0x2beef5(0x7f9)]=setTimeout(()=>{const _0x42d133=_0x2beef5;delete this[_0x42d133(0x7f9)],[_0x42d133(0x519),_0x42d133(0x94b)][_0x42d133(0x949)](this['dataChannel']?.[_0x42d133(0x7b6)]??'')||this[_0x42d133(0x36e)]();},0xfa);});const _0x2478ca=await this['connection']['createOffer'](_0x10653f);this[_0x5f5ad0(0x42f)]||(this[_0x5f5ad0(0x42f)]=Date['now']());const _0x19b1dd=(0x0,_0x539333['v4'])();this['publishSystemMessage']({'type':_0x35a889[_0x5f5ad0(0x416)],'offer':_0x2478ca,'version':this[_0x5f5ad0(0x8f4)],'connectionType':this[_0x5f5ad0(0x657)]},_0x19b1dd),this[_0x5f5ad0(0x657)]===_0x9e7bd3[_0x5f5ad0(0x3d2)]&&(this[_0x5f5ad0(0x240)]=_0x4f45f0[_0x5f5ad0(0x22c)](()=>{const _0x2ca104=_0x5f5ad0;this[_0x2ca104(0x9de)]({'type':_0x35a889[_0x2ca104(0x416)],'offer':_0x2478ca,'version':this[_0x2ca104(0x8f4)],'connectionType':this['connectionType']},_0x19b1dd);},0x1388));}async[_0xdcbb79(0x495)](_0x880f9f,_0x35bab0){const _0xd96528=_0xdcbb79;if(_0x35bab0===this['currentVersion']){this[_0xd96528(0x8bb)]();try{await this[_0xd96528(0x4b8)]['handleAnswer'](_0x880f9f,this['createOffer'][_0xd96528(0xa19)](this)),this[_0xd96528(0x3db)](),this['clearConnectionTimeout'](),this[_0xd96528(0xa41)]();}catch(_0x182893){this[_0xd96528(0x36e)]();}}}[_0xdcbb79(0x3da)](_0x2f1dcc){const _0x47c2b5=_0xdcbb79;if(!this[_0x47c2b5(0x362)])throw new _0x3c9628(_0x3c9628['codes'][_0x47c2b5(0x921)],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x47c2b5(0x99b)]['getId'](),'remoteId':this[_0x47c2b5(0x515)],'eventMessage':_0x2f1dcc});if(_0x47c2b5(0x94b)!==this[_0x47c2b5(0x362)][_0x47c2b5(0x7b6)])throw new _0x3c9628(_0x3c9628[_0x47c2b5(0x994)][_0x47c2b5(0x921)],{'message':_0x47c2b5(0x5d6),'localId':this[_0x47c2b5(0x99b)][_0x47c2b5(0xa10)](),'remoteId':this[_0x47c2b5(0x515)],'eventMessage':_0x2f1dcc});let _0x5bfc41;if(_0x2f1dcc['content'][_0x47c2b5(0x78e)]instanceof ArrayBuffer){const _0x3d2044=_0x2f1dcc[_0x47c2b5(0x7bd)][_0x47c2b5(0x78e)];_0x2f1dcc={..._0x2f1dcc,'content':{..._0x2f1dcc[_0x47c2b5(0x7bd)],'data':void 0x0}},_0x5bfc41=this['mergeParts'](_0x2f1dcc,_0x3d2044);}else _0x5bfc41=JSON['stringify'](_0x2f1dcc);if(_0x47c2b5(0x610)==typeof _0x5bfc41&&_0x5bfc41['length']>_0x583399)return this['sendChunked'](_0x2f1dcc,_0x5bfc41);0x0===_0x2f1dcc[_0x47c2b5(0x4c7)]&&_0x2f1dcc[_0x47c2b5(0x526)]===_0x447632['Content']&&this[_0x47c2b5(0x6d9)][_0x47c2b5(0x472)][_0x47c2b5(0x644)](()=>_0xbff73d[_0x47c2b5(0x198)](_0x1f75f2[_0x47c2b5(0x1ec)],_0x47c2b5(0x35c),this['remoteId'],_0x7db090(_0x2f1dcc)),void 0x0);const _0x5616b4=0x0===_0x2f1dcc[_0x47c2b5(0x4c7)]&&[_0x447632['Subscription'],_0x447632['PeerConnection']]['includes'](_0x2f1dcc[_0x47c2b5(0x526)])?_0x2469ab[_0x47c2b5(0x682)]:_0x2f1dcc instanceof ArrayBuffer?_0x2469ab[_0x47c2b5(0x52c)]:_0x2469ab[_0x47c2b5(0x506)];this[_0x47c2b5(0x1c0)](_0x5bfc41,_0x5616b4);}['addTrack'](_0x9525a9,_0xbb4283,_0x20376e,_0x41211c){const _0x1613ca=_0xdcbb79,_0x37ba60=(_0x24d7da=this[_0x1613ca(0x9f3)],_0x1be23f=this[_0x1613ca(0x1c4)],Math[_0x1613ca(0x725)](0xe1000*_0x24d7da*_0x1be23f));var _0x24d7da,_0x1be23f;const _0x47a42b=this['senders'][_0x1613ca(0x3ee)](_0xbb4283['id'])||{'stream':_0xbb4283,'priority':_0x20376e,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x37ba60,'maxBitrate':_0x37ba60,'framerate':this[_0x1613ca(0x9f3)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x41211c},_0x453021=_0x47a42b['tracks'][_0x9525a9['kind']]||{'track':_0x9525a9};if(_0x453021[_0x1613ca(0x432)]?(_0x453021[_0x1613ca(0xa0d)]=_0x9525a9,this['connection'][_0x1613ca(0x2e4)](_0x9525a9,_0x453021[_0x1613ca(0x432)])):_0x453021['sender']=this[_0x1613ca(0x4b8)][_0x1613ca(0x9b9)](_0x9525a9,_0xbb4283),_0x47a42b[_0x1613ca(0x25a)][_0x9525a9[_0x1613ca(0x952)]]=_0x453021,_0x41211c&&(_0x47a42b[_0x1613ca(0x48e)]=_0x41211c),_0x41211c&&_0x1613ca(0x72f)===_0x41211c[_0x1613ca(0x952)]&&_0x41211c['resolution']&&_0x41211c[_0x1613ca(0x5fc)]&&(_0x47a42b[_0x1613ca(0x79f)]=this[_0x1613ca(0x6ac)](_0x41211c[_0x1613ca(0x4d6)],_0x41211c['maxResolution']),_0x47a42b[_0x1613ca(0x5e5)]=_0x47a42b['resolutionScale'],_0x47a42b['tracks'][_0x1613ca(0x72f)]&&_0x47a42b[_0x1613ca(0x25a)][_0x1613ca(0x72f)][_0x1613ca(0x432)])){const _0x4b1ed0=_0x47a42b[_0x1613ca(0x25a)]['video'][_0x1613ca(0x432)];this[_0x1613ca(0x4b8)][_0x1613ca(0xa76)](_0x4b1ed0,Math['floor'](0xa*_0x47a42b['resolutionScale'])/0xa,_0x47a42b[_0x1613ca(0x7e4)],_0x47a42b[_0x1613ca(0x276)],_0x47a42b[_0x1613ca(0x7d8)]);}this[_0x1613ca(0x46f)][_0x1613ca(0x80a)](_0xbb4283['id'],_0x47a42b);}[_0xdcbb79(0x71a)](_0x3b3c4c,_0x2f0e15){const _0x22b332=_0xdcbb79,_0x37aad4=this[_0x22b332(0x46f)][_0x22b332(0x3ee)](_0x3b3c4c['id']);if(_0x37aad4&&_0x37aad4[_0x22b332(0x7d8)]!==_0x2f0e15&&(_0x37aad4['priority']=_0x2f0e15,_0x37aad4[_0x22b332(0x25a)]['video']&&_0x37aad4[_0x22b332(0x25a)][_0x22b332(0x72f)]['sender'])){const _0x379bd7=_0x37aad4[_0x22b332(0x25a)][_0x22b332(0x72f)]['sender'];this[_0x22b332(0x4b8)]['setEncodingParameters'](_0x379bd7,Math[_0x22b332(0x725)](0xa*_0x37aad4[_0x22b332(0x79f)])/0xa,_0x37aad4[_0x22b332(0x7e4)],_0x37aad4[_0x22b332(0x276)],_0x37aad4['priority']);}}[_0xdcbb79(0x70f)](_0x43e7cc,_0x3ba072){const _0x5f2108=_0xdcbb79,_0xfe20a1=this[_0x5f2108(0x46f)]['get'](_0x43e7cc['id']);if(_0xfe20a1){if(_0xfe20a1[_0x5f2108(0x48e)]=_0x3ba072,_0x3ba072&&_0x5f2108(0x72f)===_0x3ba072[_0x5f2108(0x952)]&&_0x3ba072[_0x5f2108(0x4d6)]&&_0x3ba072[_0x5f2108(0x5fc)]){if(_0xfe20a1[_0x5f2108(0x5e5)]=this['getResolutionScale'](_0x3ba072[_0x5f2108(0x4d6)],_0x3ba072[_0x5f2108(0x5fc)]),_0xfe20a1['resolutionScale']<_0xfe20a1[_0x5f2108(0x5e5)]&&(_0xfe20a1[_0x5f2108(0x79f)]=_0xfe20a1[_0x5f2108(0x5e5)]),_0xfe20a1[_0x5f2108(0x25a)][_0x5f2108(0x72f)]&&_0xfe20a1[_0x5f2108(0x25a)]['video'][_0x5f2108(0x432)]){const _0x1bf234=_0xfe20a1[_0x5f2108(0x25a)][_0x5f2108(0x72f)][_0x5f2108(0x432)];this['connection']['setEncodingParameters'](_0x1bf234,Math[_0x5f2108(0x725)](0xa*_0xfe20a1['resolutionScale'])/0xa,_0xfe20a1[_0x5f2108(0x7e4)],_0xfe20a1['bitrate'],_0xfe20a1[_0x5f2108(0x7d8)]);}this[_0x5f2108(0x469)](),this[_0x5f2108(0x30e)]();}this[_0x5f2108(0x46f)]['set'](_0x43e7cc['id'],_0xfe20a1);}}[_0xdcbb79(0x5f3)](_0x2d86a6,_0x578963){const _0x4f3ff4=_0xdcbb79,_0x39a99e=this[_0x4f3ff4(0x46f)][_0x4f3ff4(0x3ee)](_0x578963['id']);if(_0x39a99e){const _0x53281b=_0x39a99e[_0x4f3ff4(0x25a)][_0x2d86a6[_0x4f3ff4(0x952)]];_0x53281b&&(_0x53281b[_0x4f3ff4(0x432)]&&this[_0x4f3ff4(0x4b8)]['removeTrack'](_0x53281b['sender']),_0x53281b['track']=void 0x0);}}[_0xdcbb79(0x53e)](_0x2a6951){const _0x443b12=_0xdcbb79;this[_0x443b12(0x469)]();const _0x413765=function(_0x1cce5b,_0x440740){const _0x3ce830=_0x443b12;return _0x1cce5b[_0x3ce830(0x1ca)]((_0x10b734,_0x306414)=>_0x440740[_0x3ce830(0x43d)]===_0x348f6b[_0x3ce830(0x402)]?_0x306414['priority']-_0x10b734['priority']:_0x10b734[_0x3ce830(0x7d8)]-_0x306414[_0x3ce830(0x7d8)])[_0x3ce830(0x39d)](_0xabcdc=>function(_0x4887eb,_0x2a8d49){const _0x381476=_0x3ce830;if(_0x2a8d49['action']===_0x348f6b[_0x381476(0x402)]){if(_0x2a8d49['component']===_0x59223e[_0x381476(0x9cb)])return _0x4887eb[_0x381476(0x79f)]<0x4||_0x4887eb['maxFramerate']>0xf;if(_0x2a8d49[_0x381476(0x542)]===_0x59223e['Bitrate'])return _0x4887eb['maxBitrate']>_0x2084be;}return _0x4887eb[_0x381476(0x79f)]>_0x4887eb[_0x381476(0x5e5)]||_0x4887eb[_0x381476(0x7e4)]<_0x4887eb['maxFramerate']||_0x4887eb[_0x381476(0x276)]<_0x4887eb[_0x381476(0x9c1)];}(_0xabcdc,_0x440740));}(Array[_0x443b12(0x6dd)](this[_0x443b12(0x46f)]['values']()),_0x2a6951);if(_0x413765&&(function(_0x468ec7,_0x36a96c){const _0x5e134c=_0x443b12;_0x468ec7[_0x5e134c(0x25a)][_0x5e134c(0x72f)]&&_0x468ec7[_0x5e134c(0x25a)][_0x5e134c(0x72f)][_0x5e134c(0x432)]&&(_0x468ec7[_0x5e134c(0x79f)]=function(_0x28c4c3,_0x5cf87c,_0x4713aa){const _0x8f48a4=_0x5e134c;switch(_0x4713aa['action']){case _0x348f6b[_0x8f48a4(0x402)]:_0x4713aa[_0x8f48a4(0x542)]===_0x59223e['Resolution']&&(_0x28c4c3+=0.5)>0x4&&(_0x28c4c3=0x4);break;case _0x348f6b[_0x8f48a4(0x38f)]:(_0x28c4c3-=0.5)<_0x5cf87c&&(_0x28c4c3=_0x5cf87c);}return _0x28c4c3;}(_0x468ec7[_0x5e134c(0x79f)],_0x468ec7[_0x5e134c(0x5e5)],_0x36a96c),_0x468ec7['framerate']=function(_0xe71af,_0x568d70,_0x5ba5d1){const _0x886f2f=_0x5e134c;switch(_0x5ba5d1[_0x886f2f(0x43d)]){case _0x348f6b[_0x886f2f(0x402)]:_0x5ba5d1[_0x886f2f(0x542)]===_0x59223e['Resolution']&&(_0xe71af-=0x3)<0xf&&(_0xe71af=0xf);break;case _0x348f6b['Upgrade']:(_0xe71af+=0x3)>_0x568d70&&(_0xe71af=_0x568d70);}return _0xe71af;}(_0x468ec7[_0x5e134c(0x7e4)],_0x468ec7[_0x5e134c(0x7d3)],_0x36a96c),_0x468ec7[_0x5e134c(0x276)]=function(_0x347588,_0x5ba043,_0x213c8c){const _0x5de55f=_0x5e134c;switch(_0x213c8c[_0x5de55f(0x43d)]){case _0x348f6b['Downgrade']:_0x213c8c[_0x5de55f(0x542)]===_0x59223e['Bitrate']&&(_0x347588*=0.75)<_0x2084be&&(_0x347588=_0x2084be);break;case _0x348f6b[_0x5de55f(0x38f)]:(_0x347588*=1.25)>_0x5ba043&&(_0x347588=_0x5ba043);}return _0x347588;}(_0x468ec7[_0x5e134c(0x276)],_0x468ec7[_0x5e134c(0x9c1)],_0x36a96c));}(_0x413765,_0x2a6951),_0x413765[_0x443b12(0x25a)][_0x443b12(0x72f)]&&_0x413765[_0x443b12(0x25a)][_0x443b12(0x72f)][_0x443b12(0x432)])){const _0x2ced8c=_0x413765[_0x443b12(0x25a)][_0x443b12(0x72f)][_0x443b12(0x432)];this[_0x443b12(0x4b8)][_0x443b12(0xa76)](_0x2ced8c,Math[_0x443b12(0x725)](0xa*_0x413765[_0x443b12(0x79f)])/0xa,_0x413765[_0x443b12(0x7e4)],_0x413765[_0x443b12(0x276)],_0x413765[_0x443b12(0x7d8)]);}(_0x413765||_0x2a6951[_0x443b12(0x43d)]===_0x348f6b['Downgrade'])&&this[_0x443b12(0x30e)]();}['calculateArrayBufferSize'](){const _0x53f875=_0xdcbb79;return this[_0x53f875(0x93e)][_0x53f875(0x4bd)][_0x53f875(0x1f4)]((_0x2a8392,_0x4f7acc)=>_0x2a8392+_0x4f7acc['size'],0x0)*_0x3eb73a;}[_0xdcbb79(0x2db)](){const _0x178769=_0xdcbb79;return this['dataChannel']?.[_0x178769(0x29e)]??0x0;}[_0xdcbb79(0x64e)](){const _0x4dcf5b=_0xdcbb79;super['resetConnection'](),this[_0x4dcf5b(0x1d7)](),this['clearWaitAnswer'](),this[_0x4dcf5b(0x46f)]['forEach'](_0x121a03=>{const _0x4baa37=_0x4dcf5b;_0x121a03[_0x4baa37(0x25a)]['video']&&(_0x121a03[_0x4baa37(0x25a)][_0x4baa37(0x72f)][_0x4baa37(0x432)]=void 0x0),_0x121a03['tracks'][_0x4baa37(0x82e)]&&(_0x121a03[_0x4baa37(0x25a)][_0x4baa37(0x82e)][_0x4baa37(0x432)]=void 0x0);}),this['isReconnecting']=!0x0;}async[_0xdcbb79(0x3ce)](){return new Promise(async _0x26c5c9=>{const _0x384b60=a0_0x27c7;if(!this[_0x384b60(0x362)]||_0x384b60(0x94b)!==this[_0x384b60(0x362)]['state'])return await _0x4f45f0[_0x384b60(0x25f)](0x64),void _0x26c5c9();this['dataChannel'][_0x384b60(0x29e)]<_0x51ca95?_0x26c5c9():this['dataChannel']['onBufferedAmountLow']=()=>{const _0x27f0af=_0x384b60;this[_0x27f0af(0x362)]&&(this[_0x27f0af(0x362)]['onBufferedAmountLow']=null),_0x26c5c9();};});}[_0xdcbb79(0x155)](_0x2c8cbf,_0x4c99a8){const _0x378232=_0xdcbb79,_0x4ddd1b=[];for(let _0x344457=0x0;_0x344457<_0x4c99a8[_0x378232(0x454)];_0x344457+=_0x583399)_0x4ddd1b['push'](_0x4c99a8[_0x378232(0x3ef)](_0x344457,_0x344457+_0x583399));for(const _0x5c2021 of _0x4ddd1b)this['sendWithRetry'](_0x274792+';'+_0x2c8cbf[_0x378232(0x3c9)]+';'+_0x4ddd1b[_0x378232(0x649)](_0x5c2021)+';'+_0x4ddd1b[_0x378232(0x454)]+';'+_0x5c2021,_0x2469ab[_0x378232(0x52c)]);}async[_0xdcbb79(0x1c0)](_0x2e7cf3,_0x3c8d34){const _0x544c6f=_0xdcbb79;_0x2e7cf3===_0x3912ca?this[_0x544c6f(0x93e)]['queues'][_0x3c8d34][_0x544c6f(0x38d)]?.[_0x544c6f(0x153)]!==_0x3912ca&&this[_0x544c6f(0x93e)][_0x544c6f(0x4bd)][_0x3c8d34][_0x544c6f(0x576)](_0x2e7cf3):this[_0x544c6f(0x93e)]['queues'][_0x3c8d34]['push'](_0x2e7cf3);}[_0xdcbb79(0x2ce)](_0x563570){const _0x552b2f=_0xdcbb79;if(!this[_0x552b2f(0x362)]||'open'!==this[_0x552b2f(0x362)][_0x552b2f(0x7b6)])throw new Error(_0x552b2f(0x58f));if(this['dataChannel'][_0x552b2f(0x29e)]>=0xbe8000)throw new Error(_0x552b2f(0x35b));const _0x570822=Date[_0x552b2f(0x667)]();_0x563570!==_0x3912ca&&(this[_0x552b2f(0x9b6)]+=0x1,this[_0x552b2f(0x82c)]+=_0x563570 instanceof ArrayBuffer?_0x563570[_0x552b2f(0x2f6)]:_0x563570[_0x552b2f(0x454)]),ArrayBuffer,this[_0x552b2f(0x362)][_0x552b2f(0x3da)](_0x563570),this[_0x552b2f(0x93c)]+=Date[_0x552b2f(0x667)]()-_0x570822;}[_0xdcbb79(0xa41)](){const _0x5985a5=_0xdcbb79;this[_0x5985a5(0x743)]&&this['clearHeartbeat']();let _0x11cd5d=!0x0,_0xadc9e5=Date[_0x5985a5(0x667)]();this[_0x5985a5(0x42f)]=Date[_0x5985a5(0x667)](),this[_0x5985a5(0x362)]['onMessage']=_0x18906f=>{const _0x53302d=_0x5985a5;'1'===_0x18906f[_0x53302d(0x78e)]&&(this[_0x53302d(0x747)]=Date[_0x53302d(0x667)]()-_0xadc9e5,_0x11cd5d&&this[_0x53302d(0x9de)]({'type':_0x35a889[_0x53302d(0x2f3)]}),_0x11cd5d=!0x1,this[_0x53302d(0x42f)]=Date[_0x53302d(0x667)](),this[_0x53302d(0x347)]&&(this[_0x53302d(0x347)]=!0x1,this['handleMissingSenders']()));},this[_0x5985a5(0x743)]=_0x4f45f0[_0x5985a5(0x22c)](()=>{const _0x591f76=_0x5985a5;_0xadc9e5=Date[_0x591f76(0x667)](),this['sendWithRetry'](_0x3912ca,_0x2469ab[_0x591f76(0x682)]),Date[_0x591f76(0x667)]()-this[_0x591f76(0x42f)]>(_0x11cd5d?0x15f90:0x3a98)&&this[_0x591f76(0x36e)]();},0xbb8);}[_0xdcbb79(0x295)](){const _0x3f0f8b=_0xdcbb79;this[_0x3f0f8b(0x46f)][_0x3f0f8b(0x5f6)](_0x105a8c=>{const _0x3034fe=_0x3f0f8b;_0x105a8c[_0x3034fe(0x25a)]['video']&&_0x105a8c[_0x3034fe(0x25a)][_0x3034fe(0x72f)][_0x3034fe(0xa0d)]&&!_0x105a8c['tracks'][_0x3034fe(0x72f)]['sender']&&(_0x105a8c[_0x3034fe(0x25a)][_0x3034fe(0x72f)][_0x3034fe(0x432)]=this[_0x3034fe(0x4b8)][_0x3034fe(0x9b9)](_0x105a8c[_0x3034fe(0x25a)]['video'][_0x3034fe(0xa0d)],_0x105a8c[_0x3034fe(0x52f)])),_0x105a8c[_0x3034fe(0x25a)][_0x3034fe(0x82e)]&&_0x105a8c[_0x3034fe(0x25a)][_0x3034fe(0x82e)][_0x3034fe(0xa0d)]&&!_0x105a8c[_0x3034fe(0x25a)]['audio'][_0x3034fe(0x432)]&&(_0x105a8c[_0x3034fe(0x25a)][_0x3034fe(0x82e)][_0x3034fe(0x432)]=this['connection'][_0x3034fe(0x9b9)](_0x105a8c[_0x3034fe(0x25a)][_0x3034fe(0x82e)][_0x3034fe(0xa0d)],_0x105a8c[_0x3034fe(0x52f)]));});}[_0xdcbb79(0x757)](){const _0x69b9c7=_0xdcbb79;this[_0x69b9c7(0x9de)]({'type':_0x35a889['Handshake'],'candidates':this[_0x69b9c7(0x7a3)],'origin':_0x54ce26['Sender'],'version':this[_0x69b9c7(0x8f4)],'connectionType':this[_0x69b9c7(0x657)]});}['setupConnectionEvents'](){const _0x247a0d=_0xdcbb79;super[_0x247a0d(0x7df)](),this[_0x247a0d(0x4b8)][_0x247a0d(0x8a8)]=()=>{const _0xb2851d=_0x247a0d;if(_0xb2851d(0x229)===this['connection']['handshakeState']){_0xbff73d[_0xb2851d(0x198)](_0x1f75f2[_0xb2851d(0x157)],'iceConnectionState\x20failed',this[_0xb2851d(0x99b)][_0xb2851d(0xa10)](),this[_0xb2851d(0x515)]);try{if(this['connection']['canRestartHandshake'])return void this[_0xb2851d(0x4b8)][_0xb2851d(0x720)]();}catch(_0x18c122){}this[_0xb2851d(0x805)]({'handshakeRestart':!0x0});}},this[_0x247a0d(0x4b8)][_0x247a0d(0x91a)]=()=>{const _0x32b9b4=_0x247a0d;_0x32b9b4(0x89d)!==this[_0x32b9b4(0x4b8)]['connectionState']&&'failed'!==this[_0x32b9b4(0x4b8)]['connectionState']||this['handleDisconnect']();};}['handleDisconnect'](){const _0x2605f4=_0xdcbb79;this[_0x2605f4(0x799)](),this[_0x2605f4(0x250)](),this[_0x2605f4(0x3b5)](),_0xbff73d['warning'](_0x2605f4(0x67a),{'clusterId':this['clusterId'],'nodeId':this[_0x2605f4(0x99b)]['getId'](),'nodeType':this[_0x2605f4(0x99b)][_0x2605f4(0x8fa)],'remoteId':this[_0x2605f4(0x515)],'data':{'connectionType':this[_0x2605f4(0x657)],'connectionState':this[_0x2605f4(0x4b8)][_0x2605f4(0x4e3)],'iceConnectionState':this[_0x2605f4(0x4b8)][_0x2605f4(0x2a3)],'signalingState':this['connection'][_0x2605f4(0x534)],'readyState':this['dataChannel']?.['state']||'','lastHeartbeat':this['lastHeartbeat']?Date['now']()-this[_0x2605f4(0x42f)]:'','retryQueue':this['retryQueue']}}),(this['lastHeartbeat']&&Date['now']()-this[_0x2605f4(0x42f)]>0xea60)??0x1?this[_0x2605f4(0x5df)][_0x2605f4(0x884)]({'sourceId':this[_0x2605f4(0x515)],'destinationIds':[this['localNode'][_0x2605f4(0xa10)]()],'messageType':_0x447632['PeerConnection'],'content':{'type':_0x35a889[_0x2605f4(0x2e1)]}}):(this[_0x2605f4(0x64e)](),this[_0x2605f4(0x9de)]({'type':_0x35a889['NeedRestart'],'version':this[_0x2605f4(0x8f4)],'connectionType':this['connectionType']}),this[_0x2605f4(0xa53)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0xdcbb79(0x799)](){const _0x49454a=_0xdcbb79;this[_0x49454a(0x743)]?.(),delete this[_0x49454a(0x743)];}[_0xdcbb79(0x3b5)](){const _0x3a8361=_0xdcbb79;this[_0x3a8361(0x841)]&&(clearTimeout(this[_0x3a8361(0x841)]),delete this[_0x3a8361(0x841)]);}[_0xdcbb79(0x250)](){const _0x4302a0=_0xdcbb79;this[_0x4302a0(0xa53)]&&(clearTimeout(this[_0x4302a0(0xa53)]),delete this[_0x4302a0(0xa53)]);}[_0xdcbb79(0x469)](){const _0x5cd057=_0xdcbb79;this[_0x5cd057(0x95f)]&&(clearTimeout(this[_0x5cd057(0x95f)]),delete this['upgradeTimeout']);}[_0xdcbb79(0x30e)](){const _0x5b7a77=_0xdcbb79;this[_0x5b7a77(0x95f)]=setTimeout(()=>{const _0x4bae33=_0x5b7a77;this[_0x4bae33(0x53e)]({'type':_0x26b693[_0x4bae33(0x221)],'action':_0x348f6b[_0x4bae33(0x38f)]});},0x3a98);}['getResolutionScale'](_0x41ad60,_0xd753d2){const _0x486dea=_0xdcbb79,_0x1a03e5=Math['max'](_0x41ad60[_0x486dea(0x4b2)]/_0xd753d2[_0x486dea(0x4b2)],_0x41ad60[_0x486dea(0x599)]/_0xd753d2[_0x486dea(0x599)]);return Math[_0x486dea(0x202)](Math[_0x486dea(0x9bf)](_0x1a03e5,0x1),0x4);}[_0xdcbb79(0x8bb)](){const _0x1aaee5=_0xdcbb79;this[_0x1aaee5(0x240)]?.(),delete this[_0x1aaee5(0x240)];}[_0xdcbb79(0x1d7)](){const _0x546766=_0xdcbb79;this['oncloseTimeout']&&(clearTimeout(this['oncloseTimeout']),delete this[_0x546766(0x7f9)]);}[_0xdcbb79(0x51d)](_0x37a60e){const _0x3ec4c2=_0xdcbb79,_0x434d35=JSON[_0x3ec4c2(0x6fb)](_0x37a60e);return new TextEncoder()[_0x3ec4c2(0x342)](_0x434d35)['buffer'];}[_0xdcbb79(0x269)](_0x1288d6,_0x3718c4){const _0x30d8a2=_0xdcbb79,_0x4dfce2=this['objectToArrayBuffer'](_0x1288d6),_0x2c2e0f=new Uint8Array(0x4),_0x3a9053=new Uint8Array(_0x4dfce2),_0xbb02a2=new Uint8Array(_0x3718c4);_0x2c2e0f[_0x30d8a2(0x80a)](new Uint8Array(new Uint32Array([_0x3a9053[_0x30d8a2(0x454)]])['buffer']));const _0x34921c=new Uint8Array(0x4+_0x3a9053[_0x30d8a2(0x454)]+_0xbb02a2[_0x30d8a2(0x454)]);return _0x34921c[_0x30d8a2(0x80a)](_0x2c2e0f),_0x34921c['set'](_0x3a9053,0x4),_0x34921c[_0x30d8a2(0x80a)](_0xbb02a2,0x4+_0x3a9053[_0x30d8a2(0x454)]),_0x34921c['buffer'];}}class _0x560415 extends _0x138b73{[_0xdcbb79(0x60c)];['connectionType'];[_0xdcbb79(0x9f3)];[_0xdcbb79(0x1c4)];[_0xdcbb79(0x1fb)];[_0xdcbb79(0x602)];['receiverConnection'];[_0xdcbb79(0x6bc)]=[];[_0xdcbb79(0x717)]=_0x5de5e8();['trackListeners']=_0x5de5e8();[_0xdcbb79(0x37b)]=_0x5de5e8();[_0xdcbb79(0x806)]=[];['systemTopic'];['dataTopics']=new Map();['dataUnsubscribers']=new Map();[_0xdcbb79(0x4ea)]=new Map();[_0xdcbb79(0x90e)]=new Map();[_0xdcbb79(0x97a)]=!0x1;constructor(_0x53ba8a,_0x3482a4,_0x24e8a3,_0x31f2fe,_0x287e83,_0x1503b6,_0x3a1fcb,_0x2b7beb){const _0x29df82=_0xdcbb79;super(_0x53ba8a,_0x3482a4,_0x24e8a3),this[_0x29df82(0x60c)]=_0x31f2fe,this[_0x29df82(0x657)]=_0x287e83,this['maxFps']=_0x1503b6,this[_0x29df82(0x1c4)]=_0x3a1fcb,this[_0x29df82(0x1fb)]=_0x2b7beb;}[_0xdcbb79(0x524)](_0x5d4e45){const _0x5dada8=_0xdcbb79;switch(_0x5d4e45[_0x5dada8(0x3aa)]()){case _0x410512[_0x5dada8(0xa30)]['Data']:case _0x410512[_0x5dada8(0xa30)][_0x5dada8(0xa42)]:case _0x410512[_0x5dada8(0xa30)][_0x5dada8(0x962)]:case _0x410512[_0x5dada8(0xa30)]['KeyValueDatabase']:case _0x410512[_0x5dada8(0xa30)][_0x5dada8(0x57d)]:case _0x410512[_0x5dada8(0xa30)]['VectorDatabase']:case _0x410512[_0x5dada8(0xa30)]['GraphDatabase']:case _0x410512['ContentType'][_0x5dada8(0x22a)]:this[_0x5dada8(0x23e)][_0x5dada8(0x80a)](_0x5d4e45[_0x5dada8(0x7ed)](),_0x5d4e45);break;case _0x410512['ContentType'][_0x5dada8(0x2c9)]:this[_0x5dada8(0x4ea)][_0x5dada8(0x80a)](_0x5d4e45['getLabel'](),_0x5d4e45);}}[_0xdcbb79(0x62e)](_0x3bc1a7){const _0x37615c=_0xdcbb79;switch(_0x3bc1a7['getContentType']()){case _0x410512[_0x37615c(0xa30)][_0x37615c(0x1ef)]:case _0x410512[_0x37615c(0xa30)][_0x37615c(0xa42)]:case _0x410512['ContentType']['ObjectStore']:case _0x410512[_0x37615c(0xa30)][_0x37615c(0x453)]:case _0x410512[_0x37615c(0xa30)][_0x37615c(0x57d)]:case _0x410512[_0x37615c(0xa30)][_0x37615c(0x33d)]:case _0x410512[_0x37615c(0xa30)][_0x37615c(0x803)]:case _0x410512[_0x37615c(0xa30)][_0x37615c(0x22a)]:this['dataTopics'][_0x37615c(0x652)](_0x3bc1a7['getLabel']());break;case _0x410512[_0x37615c(0xa30)][_0x37615c(0x2c9)]:this[_0x37615c(0x4ea)][_0x37615c(0x652)](_0x3bc1a7[_0x37615c(0x7ed)]());}}[_0xdcbb79(0x2a0)](_0x2b6679){const _0x1a6409=_0xdcbb79;switch(_0x2b6679[_0x1a6409(0x3aa)]()){case _0x410512[_0x1a6409(0xa30)][_0x1a6409(0x1ef)]:case _0x410512['ContentType'][_0x1a6409(0xa42)]:case _0x410512['ContentType'][_0x1a6409(0x962)]:case _0x410512[_0x1a6409(0xa30)]['KeyValueDatabase']:case _0x410512[_0x1a6409(0xa30)][_0x1a6409(0x57d)]:case _0x410512['ContentType'][_0x1a6409(0x33d)]:case _0x410512[_0x1a6409(0xa30)][_0x1a6409(0x803)]:case _0x410512[_0x1a6409(0xa30)][_0x1a6409(0x22a)]:{const _0x1a84cb=_0x2b6679[_0x1a6409(0x917)](_0x235d8b=>{const _0x37e615=_0x1a6409;_0x2e8725(_0x235d8b,this['getLocalId']())&&_0x39c5bd(_0x235d8b,this[_0x37e615(0x515)])&&this['send'](_0x235d8b);});this['dataUnsubscribers'][_0x1a6409(0x80a)](_0x2b6679['getLabel'](),_0x1a84cb);break;}case _0x410512[_0x1a6409(0xa30)][_0x1a6409(0x2c9)]:{const _0x3d3fa2=_0x2b6679['subscribe'](({content:_0x5c1e5c})=>{const _0x94dfd6=_0x1a6409;switch(_0x5c1e5c['action']){case _0x1b3ca9[_0x94dfd6(0x881)]:this[_0x94dfd6(0x9b9)](_0x5c1e5c[_0x94dfd6(0xa0d)],_0x5c1e5c['stream'],_0x5c1e5c['priority'],_0x5c1e5c[_0x94dfd6(0x48e)]);break;case _0x1b3ca9[_0x94dfd6(0x2c5)]:this[_0x94dfd6(0x5f3)](_0x5c1e5c[_0x94dfd6(0xa0d)],_0x5c1e5c[_0x94dfd6(0x52f)]);break;case _0x1b3ca9[_0x94dfd6(0x61b)]:_0x5c1e5c[_0x94dfd6(0x7d8)]&&this[_0x94dfd6(0x71a)](_0x5c1e5c[_0x94dfd6(0x52f)],_0x5c1e5c[_0x94dfd6(0x7d8)]),_0x5c1e5c['params']&&this[_0x94dfd6(0x70f)](_0x5c1e5c[_0x94dfd6(0x52f)],_0x5c1e5c['params']);}});this[_0x1a6409(0x90e)]['set'](_0x2b6679[_0x1a6409(0x7ed)](),_0x3d3fa2);break;}}}[_0xdcbb79(0x5da)](_0x46b558){const _0x97dfeb=_0xdcbb79;switch(_0x46b558[_0x97dfeb(0x3aa)]()){case _0x410512[_0x97dfeb(0xa30)][_0x97dfeb(0x1ef)]:case _0x410512['ContentType'][_0x97dfeb(0xa42)]:case _0x410512[_0x97dfeb(0xa30)][_0x97dfeb(0x962)]:case _0x410512[_0x97dfeb(0xa30)]['KeyValueDatabase']:case _0x410512['ContentType'][_0x97dfeb(0x57d)]:case _0x410512[_0x97dfeb(0xa30)][_0x97dfeb(0x33d)]:case _0x410512['ContentType'][_0x97dfeb(0x803)]:case _0x410512[_0x97dfeb(0xa30)]['ExternalStorage']:this[_0x97dfeb(0x90a)][_0x97dfeb(0x3ee)](_0x46b558[_0x97dfeb(0x7ed)]())?.(),this['dataUnsubscribers'][_0x97dfeb(0x652)](_0x46b558[_0x97dfeb(0x7ed)]());break;case _0x410512[_0x97dfeb(0xa30)][_0x97dfeb(0x2c9)]:this['mediaUnsubscribers'][_0x97dfeb(0x3ee)](_0x46b558[_0x97dfeb(0x7ed)]())?.(),this[_0x97dfeb(0x90e)]['delete'](_0x46b558[_0x97dfeb(0x7ed)]());}}['getSupportedContentTypes'](){const _0x34fcaf=_0xdcbb79;return[_0x410512['ContentType'][_0x34fcaf(0x1ef)],_0x410512[_0x34fcaf(0xa30)]['Media'],_0x410512[_0x34fcaf(0xa30)][_0x34fcaf(0xa42)],_0x410512['ContentType'][_0x34fcaf(0x962)],_0x410512[_0x34fcaf(0xa30)][_0x34fcaf(0x453)],_0x410512['ContentType'][_0x34fcaf(0x57d)],_0x410512[_0x34fcaf(0xa30)][_0x34fcaf(0x33d)],_0x410512['ContentType'][_0x34fcaf(0x803)],_0x410512[_0x34fcaf(0xa30)][_0x34fcaf(0x22a)]];}[_0xdcbb79(0x724)](_0x3232ea){const _0x3432e6=_0xdcbb79;this[_0x3432e6(0x5df)]=_0x3232ea;}[_0xdcbb79(0x1c8)](){const _0x36fcf3=_0xdcbb79;delete this[_0x36fcf3(0x5df)];}async[_0xdcbb79(0x3fc)](){const _0x4de4f5=_0xdcbb79;this[_0x4de4f5(0x270)](),await this[_0x4de4f5(0x805)]();}[_0xdcbb79(0x3d8)](){const _0x3ec881=_0xdcbb79;this[_0x3ec881(0x806)]['forEach'](_0x376dbc=>_0x376dbc()),this[_0x3ec881(0x806)]=[],this[_0x3ec881(0x602)]?.[_0x3ec881(0x1c8)](),this[_0x3ec881(0x602)]?.['close'](),delete this[_0x3ec881(0x602)],this[_0x3ec881(0x6bc)][_0x3ec881(0x5f6)](_0x2462cf=>_0x2462cf()),this[_0x3ec881(0x6bc)]=[],this[_0x3ec881(0x363)]?.[_0x3ec881(0x1c8)](),this[_0x3ec881(0x363)]?.[_0x3ec881(0x3d8)](),delete this['receiverConnection'];}['isConnected'](){const _0x1b4be8=_0xdcbb79;return this[_0x1b4be8(0x602)]?.['isConnected']()&&this[_0x1b4be8(0x363)]?.[_0x1b4be8(0x5ed)]()||!0x1;}[_0xdcbb79(0x3da)](_0x97060e){const _0x463637=_0xdcbb79;if(!this['senderConnection']||!this['isConnected']())throw new _0x3c9628(_0x3c9628[_0x463637(0x994)][_0x463637(0x35d)],{'message':_0x463637(0x4a0),'senderConnected':this[_0x463637(0x602)]?.[_0x463637(0x5ed)](),'receiverConnected':this[_0x463637(0x363)]?.[_0x463637(0x5ed)](),'localId':this['getLocalId'](),'remoteId':this[_0x463637(0x515)],'data':_0x97060e});this['senderConnection'][_0x463637(0x3da)](_0x97060e);}[_0xdcbb79(0x312)](_0x27616f){const _0x2ba713=_0xdcbb79;return this['messageListeners'][_0x2ba713(0x917)](_0x27616f);}[_0xdcbb79(0x3b9)](_0x568e56){return this['trackListeners']['subscribe'](({track:_0xdd1c5e,stream:_0x550c66})=>_0x568e56(_0xdd1c5e,_0x550c66));}[_0xdcbb79(0x60e)](_0x22564f){const _0x1409fb=_0xdcbb79;return this[_0x1409fb(0x37b)][_0x1409fb(0x917)](({track:_0x46f199,stream:_0x197469})=>_0x22564f(_0x46f199,_0x197469));}['addTrack'](_0x88ec53,_0x89fe7e,_0x14385d,_0x321f4b){const _0x11c5fe=_0xdcbb79;this['senderConnection']?.[_0x11c5fe(0x9b9)](_0x88ec53,_0x89fe7e,_0x14385d,_0x321f4b);}[_0xdcbb79(0x71a)](_0x179ac1,_0x1e38ca){const _0x114585=_0xdcbb79;this[_0x114585(0x602)]?.[_0x114585(0x71a)](_0x179ac1,_0x1e38ca);}[_0xdcbb79(0x70f)](_0x5de15c,_0x23f26c){const _0x5bfb0d=_0xdcbb79;this[_0x5bfb0d(0x602)]?.[_0x5bfb0d(0x70f)](_0x5de15c,_0x23f26c);}[_0xdcbb79(0x5f3)](_0x3a3a98,_0x4d2ecb){const _0x513560=_0xdcbb79;this[_0x513560(0x602)]?.[_0x513560(0x5f3)](_0x3a3a98,_0x4d2ecb);}async[_0xdcbb79(0x6c1)](_0x2f7768){const _0x22877f=_0xdcbb79;_0xbff73d[_0x22877f(0x198)](_0x1f75f2[_0x22877f(0x205)],_0x22877f(0x98b),this[_0x22877f(0x1fa)](),_0x2f7768);const {content:_0x4f0be8}=_0x2f7768;switch(_0x4f0be8[_0x22877f(0x8fa)]){case _0x35a889[_0x22877f(0x416)]:await this[_0x22877f(0x5e9)](_0x4f0be8);break;case _0x35a889[_0x22877f(0x2d1)]:await this[_0x22877f(0x495)](_0x4f0be8);break;case _0x35a889[_0x22877f(0x2f3)]:this['handleSuccess']();break;case _0x35a889[_0x22877f(0x835)]:await this[_0x22877f(0x72c)](_0x4f0be8);break;case _0x35a889['NeedRestart']:this[_0x22877f(0x5de)](_0x4f0be8);break;case _0x35a889[_0x22877f(0x83f)]:await this[_0x22877f(0x805)]();}}[_0xdcbb79(0x8a5)](_0x4b0548){const _0x95b163=_0xdcbb79;this[_0x95b163(0x602)]?.[_0x95b163(0x53e)](_0x4b0548[_0x95b163(0x7bd)][_0x95b163(0x78e)]);}[_0xdcbb79(0x264)](){return this['connectionType'];}[_0xdcbb79(0x290)](_0x118f66){const _0x4624d9=_0xdcbb79;this['connectionType']=_0x118f66,this[_0x4624d9(0x602)]?.[_0x4624d9(0x290)](_0x118f66),this[_0x4624d9(0x363)]?.[_0x4624d9(0x290)](_0x118f66);}async[_0xdcbb79(0x34a)](){const _0x43619a=_0xdcbb79;await this[_0x43619a(0x602)]?.[_0x43619a(0x34a)](),await this['receiverConnection']?.[_0x43619a(0x34a)]();}['calculateArrayBufferSize'](){return this['senderConnection']?.['calculateArrayBufferSize']()??0x0;}[_0xdcbb79(0x2db)](){const _0x3a54ab=_0xdcbb79;return this[_0x3a54ab(0x602)]?.[_0x3a54ab(0x2db)]()??0x0;}[_0xdcbb79(0x270)](){const _0x4a1270=_0xdcbb79;this[_0x4a1270(0x806)][_0x4a1270(0x90d)](this[_0x4a1270(0x312)](_0x5d222c=>{const _0x12d353=_0x4a1270;_0x39c5bd(_0x5d222c,this['getLocalId']())&&0x0!==_0x5d222c[_0x12d353(0x4c7)]&&this['dataTopics']['get'](_0x5d222c[_0x12d353(0x4c7)])?.[_0x12d353(0x884)](_0x5d222c);})),this['listenerUnsubscribers'][_0x4a1270(0x90d)](this[_0x4a1270(0x3b9)]((_0x20b11d,_0x3ba681)=>{const _0x1fc740=_0x4a1270,_0xd5a41a=_0x338449(_0x410512[_0x1fc740(0xa30)]['Media'],_0x3ba681['id'],this['remoteId']);this[_0x1fc740(0x4ea)]['get'](_0xd5a41a)?.[_0x1fc740(0x884)]({'topicLabel':_0xd5a41a,'sourceId':this[_0x1fc740(0x515)],'contentType':_0x410512['ContentType']['Media'],'content':{'action':_0x1b3ca9[_0x1fc740(0x702)],'track':_0x20b11d,'stream':_0x3ba681,'providerId':this[_0x1fc740(0x515)]}});})),this[_0x4a1270(0x806)][_0x4a1270(0x90d)](this[_0x4a1270(0x60e)]((_0x4e2bcc,_0x3ed614)=>{const _0x2be42d=_0x4a1270,_0x7d9485=_0x338449(_0x410512[_0x2be42d(0xa30)][_0x2be42d(0x2c9)],_0x3ed614['id'],this[_0x2be42d(0x515)]);this[_0x2be42d(0x4ea)][_0x2be42d(0x3ee)](_0x7d9485)?.[_0x2be42d(0x884)]({'topicLabel':_0x7d9485,'sourceId':this[_0x2be42d(0x515)],'contentType':_0x410512[_0x2be42d(0xa30)][_0x2be42d(0x2c9)],'content':{'action':_0x1b3ca9[_0x2be42d(0x17f)],'track':_0x4e2bcc,'stream':_0x3ed614,'providerId':this[_0x2be42d(0x515)]}});}));}[_0xdcbb79(0x72c)]({candidates:_0x25edce,origin:_0x19b2ff,version:_0x5497b9}){const _0x28791e=_0xdcbb79;return _0x19b2ff===_0x54ce26[_0x28791e(0x6bd)]?(this[_0x28791e(0x363)]||this[_0x28791e(0x21a)](),this['receiverConnection'][_0x28791e(0x424)](_0x25edce,_0x5497b9)):this[_0x28791e(0x602)]['handleHandshake'](_0x25edce,_0x5497b9);}async[_0xdcbb79(0x805)](){const _0x4ee394=_0xdcbb79;this[_0x4ee394(0x602)]||this[_0x4ee394(0x428)](),await this[_0x4ee394(0x602)]['createOffer']();}async[_0xdcbb79(0x5e9)]({offer:_0x4f13df,version:_0x36136e}){const _0x196731=_0xdcbb79;this[_0x196731(0x363)]||this[_0x196731(0x21a)](),await this[_0x196731(0x363)][_0x196731(0x5e9)](_0x4f13df,_0x36136e);}async['handleAnswer']({answer:_0x8190ad,version:_0x489f0b}){const _0x4fa806=_0xdcbb79;if(!this[_0x4fa806(0x602)])throw new _0x3c9628(_0x3c9628[_0x4fa806(0x994)]['ConnectionNotinitialized'],{'message':_0x4fa806(0x8c5),'localId':this[_0x4fa806(0x1fa)](),'remoteId':this[_0x4fa806(0x515)],'answer':_0x8190ad});await this[_0x4fa806(0x602)][_0x4fa806(0x495)](_0x8190ad,_0x489f0b);}[_0xdcbb79(0x34b)](){const _0x51a612=_0xdcbb79;if(!this[_0x51a612(0x363)])throw new _0x3c9628(_0x3c9628[_0x51a612(0x994)][_0x51a612(0x35d)],{'message':_0x51a612(0xa64),'localId':this[_0x51a612(0x1fa)](),'remoteId':this[_0x51a612(0x515)]});this[_0x51a612(0x363)][_0x51a612(0x34b)](),this[_0x51a612(0x97a)]||this[_0x51a612(0x657)]!==_0x9e7bd3['Optimization']||(this[_0x51a612(0x97a)]=!0x0,this[_0x51a612(0x5df)]?.['publish']({'sourceId':this[_0x51a612(0x515)],'destinationIds':[this[_0x51a612(0x1fa)]()],'messageType':_0x447632[_0x51a612(0x183)],'content':{'type':_0x35a889['OptimizationConnectionSuccess']}}));}[_0xdcbb79(0x5de)](_0x3ce921){const _0x66796e=_0xdcbb79;this[_0x66796e(0x363)]||this[_0x66796e(0x21a)](),this['receiverConnection'][_0x66796e(0x5de)](_0x3ce921[_0x66796e(0x2ec)]);}[_0xdcbb79(0x428)](){const _0x1594f9=_0xdcbb79;this[_0x1594f9(0x602)]=new _0x39f682(this[_0x1594f9(0x31a)],this[_0x1594f9(0x99b)],this[_0x1594f9(0x515)],this[_0x1594f9(0x60c)],this['connectionType'],this[_0x1594f9(0x9f3)],this[_0x1594f9(0x1c4)],this[_0x1594f9(0x1fb)]),this[_0x1594f9(0x602)][_0x1594f9(0x724)](this[_0x1594f9(0x5df)]);}[_0xdcbb79(0x21a)](){const _0x2dc04d=_0xdcbb79;this[_0x2dc04d(0x363)]=new _0x2db533(this[_0x2dc04d(0x31a)],this[_0x2dc04d(0x99b)],this[_0x2dc04d(0x515)],this['iceServers'],this['connectionType'],this[_0x2dc04d(0x1fb)]),this[_0x2dc04d(0x363)]['registerSystemPublisher'](this['systemTopic']),this[_0x2dc04d(0x6bc)][_0x2dc04d(0x90d)](this[_0x2dc04d(0x363)][_0x2dc04d(0x312)](_0x36dbce=>this[_0x2dc04d(0x717)][_0x2dc04d(0x884)](_0x36dbce))),this[_0x2dc04d(0x6bc)][_0x2dc04d(0x90d)](this[_0x2dc04d(0x363)][_0x2dc04d(0x3b9)]((_0x490601,_0x3fe278)=>this[_0x2dc04d(0x45b)]['publish']({'track':_0x490601,'stream':_0x3fe278}))),this['receiverUnsubscribers'][_0x2dc04d(0x90d)](this['receiverConnection'][_0x2dc04d(0x60e)]((_0x14dd4b,_0x5d9c9c)=>this[_0x2dc04d(0x37b)][_0x2dc04d(0x884)]({'track':_0x14dd4b,'stream':_0x5d9c9c})));}}class _0x2caaaf{[_0xdcbb79(0x450)];[_0xdcbb79(0x9a0)];[_0xdcbb79(0x3a2)];[_0xdcbb79(0x6dc)]=new Map();[_0xdcbb79(0x717)]=_0x5de5e8();[_0xdcbb79(0x30f)];[_0xdcbb79(0x23e)]=new Map();[_0xdcbb79(0x90a)]=new Map();[_0xdcbb79(0x32f)]=new Map();constructor(_0x5af4ae,_0x2836ab,_0x1fa4d6){const _0x12f1e9=_0xdcbb79;this[_0x12f1e9(0x450)]=_0x5af4ae,this[_0x12f1e9(0x9a0)]=_0x2836ab,this[_0x12f1e9(0x3a2)]=_0x1fa4d6,this[_0x12f1e9(0x30f)]=this[_0x12f1e9(0x312)](_0x32bb4a=>{const _0x1176d1=_0x12f1e9;this[_0x1176d1(0x9a0)][_0x1176d1(0x1ae)](_0x32bb4a['uuid'])||(_0x39c5bd(_0x32bb4a,this[_0x1176d1(0x450)])&&0x0!==_0x32bb4a[_0x1176d1(0x4c7)]&&(this[_0x1176d1(0x9a0)][_0x1176d1(0x1e8)](_0x32bb4a[_0x1176d1(0x3c9)]),this[_0x1176d1(0x23e)]['get'](_0x32bb4a['topicLabel'])?.['publish'](_0x32bb4a)),_0x32bb4a[_0x1176d1(0x902)]&&this[_0x1176d1(0x3da)](_0x32bb4a));});}[_0xdcbb79(0x3d8)](){const _0x45ba2a=_0xdcbb79;this[_0x45ba2a(0x30f)]?.();}[_0xdcbb79(0x685)](_0x4f1682){const _0x32c29f=_0xdcbb79,_0x21560b=_0x4f1682['onMessage'](_0x2593f3=>{const _0xfadd63=a0_0x27c7;this[_0xfadd63(0x717)]['publish'](_0x2593f3);});this[_0x32c29f(0x6dc)]['set'](_0x4f1682,_0x21560b),this[_0x32c29f(0x32f)][_0x32c29f(0x80a)](_0x4f1682[_0x32c29f(0x6c9)](),function(_0x4cf22c,_0x32882d=!0x1){let _0x13e445=new Map();const _0x3884a5=_0xa3398e(_0x4cf22c,_0x32882d,function(_0xd91bfe){const _0x588c06=a0_0x27c7;_0x5c7d3f(_0xd91bfe)&&_0x13e445['delete'](_0xd91bfe[_0x588c06(0x742)]+'-'+(_0xd91bfe['destinationIds']??[])+'-'+_0xd91bfe[_0x588c06(0x526)]+'-'+_0xd91bfe[_0x588c06(0x7bd)][_0x588c06(0x8fa)]);},function(_0x48f247){return!!function(_0x2e7a23){const _0x5dbc9d=a0_0x27c7,_0x3f69ec=_0x2e7a23[_0x5dbc9d(0x153)];if(!_0x5c7d3f(_0x3f69ec))return!0x1;const _0x2c9c24=_0x3f69ec['sourceId']+'-'+(_0x3f69ec[_0x5dbc9d(0x770)]??[])+'-'+_0x3f69ec[_0x5dbc9d(0x526)]+'-'+_0x3f69ec['content'][_0x5dbc9d(0x8fa)],_0x352ec9={'version':_0x3f69ec['content']['version'],'element':_0x2e7a23},_0x3f1b47=_0x13e445['get'](_0x2c9c24);return _0x3f1b47?(_0x3f1b47[_0x5dbc9d(0x2ec)]>=_0x3f69ec[_0x5dbc9d(0x7bd)][_0x5dbc9d(0x2ec)]||(_0x3f1b47[_0x5dbc9d(0x45a)][_0x5dbc9d(0x5b9)]&&(_0x3f1b47[_0x5dbc9d(0x45a)][_0x5dbc9d(0x5b9)][_0x5dbc9d(0x9f2)]=_0x2e7a23,_0x2e7a23[_0x5dbc9d(0x5b9)]=_0x3f1b47[_0x5dbc9d(0x45a)][_0x5dbc9d(0x5b9)]),_0x3f1b47[_0x5dbc9d(0x45a)][_0x5dbc9d(0x9f2)]&&(_0x3f1b47['element'][_0x5dbc9d(0x9f2)][_0x5dbc9d(0x5b9)]=_0x2e7a23,_0x2e7a23['next']=_0x3f1b47[_0x5dbc9d(0x45a)][_0x5dbc9d(0x9f2)]),_0x3f1b47[_0x5dbc9d(0x45a)]===_0x3884a5['head']&&(_0x3884a5[_0x5dbc9d(0x38d)]=_0x2e7a23),_0x3f1b47[_0x5dbc9d(0x45a)]===_0x3884a5[_0x5dbc9d(0x245)]&&(_0x3884a5[_0x5dbc9d(0x245)]=_0x2e7a23),_0x13e445[_0x5dbc9d(0x80a)](_0x2c9c24,_0x352ec9)),!0x0):(_0x13e445[_0x5dbc9d(0x80a)](_0x2c9c24,_0x352ec9),!0x1);}(_0x48f247);},function(){const _0x2fda44=a0_0x27c7;_0x13e445[_0x2fda44(0x6d0)]();});function _0x5c7d3f(_0x2cddc4){const _0x3440f8=a0_0x27c7;if(_0x2cddc4&&_0x3440f8(0x778)==typeof _0x2cddc4&&_0x2cddc4[_0x3440f8(0x899)]('content')&&_0x2cddc4['hasOwnProperty'](_0x3440f8(0x526))&&_0x2cddc4[_0x3440f8(0x899)](_0x3440f8(0x742))){const _0x258399=_0x2cddc4;if(_0x258399['content']&&_0x3440f8(0x778)==typeof _0x258399[_0x3440f8(0x7bd)]&&_0x258399[_0x3440f8(0x7bd)][_0x3440f8(0x899)](_0x3440f8(0x2ec))&&_0x258399[_0x3440f8(0x7bd)][_0x3440f8(0x899)](_0x3440f8(0x8fa)))return!0x0;}return!0x1;}return _0x3884a5;}(new _0xc2a5e8(_0xa7e518=>_0x4f1682[_0x32c29f(0x3da)](_0xa7e518),()=>_0x4f45f0[_0x32c29f(0x25f)](0x64))));}[_0xdcbb79(0x732)](_0x566a09){const _0x30f311=_0xdcbb79;this[_0x30f311(0x6dc)][_0x30f311(0x3ee)](_0x566a09)?.(),this[_0x30f311(0x6dc)][_0x30f311(0x652)](_0x566a09),this[_0x30f311(0x32f)]['get'](_0x566a09[_0x30f311(0x6c9)]())?.['clear'](),this[_0x30f311(0x32f)][_0x30f311(0x652)](_0x566a09[_0x30f311(0x6c9)]());}[_0xdcbb79(0x5ed)](_0x1984ae){const _0x5213c3=_0xdcbb79;return _0xbff73d[_0x5213c3(0x198)](_0x1f75f2[_0x5213c3(0x157)],_0x5213c3(0x694),this[_0x5213c3(0x450)],this[_0x5213c3(0x6dc)][_0x5213c3(0x7b7)]()),0x0!==this[_0x5213c3(0x6dc)][_0x5213c3(0x400)]&&(Array[_0x5213c3(0x6dd)](this['connections']['keys']())['find'](_0x3ebfe9=>_0x3ebfe9['getRemoteId']()===_0x1984ae)?.[_0x5213c3(0x5ed)]()??!0x1);}[_0xdcbb79(0x524)](_0xd94ee1){const _0x25b853=_0xdcbb79;this['dataTopics']['set'](_0xd94ee1[_0x25b853(0x7ed)](),_0xd94ee1);}[_0xdcbb79(0x62e)](_0x241b24){const _0x7204fb=_0xdcbb79;this[_0x7204fb(0x23e)]['delete'](_0x241b24[_0x7204fb(0x7ed)]());}[_0xdcbb79(0x2a0)](_0x2f4d5f){const _0x1a90c8=_0xdcbb79,_0x2baeec=_0x2f4d5f['subscribe'](this[_0x1a90c8(0x3da)][_0x1a90c8(0xa19)](this));this[_0x1a90c8(0x90a)][_0x1a90c8(0x80a)](_0x2f4d5f[_0x1a90c8(0x7ed)](),_0x2baeec);}[_0xdcbb79(0x5da)](_0x36b957){const _0x42e883=_0xdcbb79;this[_0x42e883(0x90a)]['get'](_0x36b957['getLabel']())?.(),this['dataUnsubscribers'][_0x42e883(0x652)](_0x36b957[_0x42e883(0x7ed)]());}[_0xdcbb79(0x67c)](){const _0x36e10f=_0xdcbb79;return[_0x410512['ContentType'][_0x36e10f(0x1ef)],_0x410512[_0x36e10f(0xa30)][_0x36e10f(0xa42)],_0x410512[_0x36e10f(0xa30)][_0x36e10f(0x962)],_0x410512[_0x36e10f(0xa30)][_0x36e10f(0x453)],_0x410512[_0x36e10f(0xa30)][_0x36e10f(0x57d)],_0x410512[_0x36e10f(0xa30)][_0x36e10f(0x33d)],_0x410512[_0x36e10f(0xa30)][_0x36e10f(0x803)],_0x410512[_0x36e10f(0xa30)][_0x36e10f(0x22a)]];}[_0xdcbb79(0x3da)](_0x1419cf){const _0xfb6c6d=_0xdcbb79;if(!0x1===_0x1419cf[_0xfb6c6d(0x97d)]){if(_0x1419cf[_0xfb6c6d(0x902)]||!_0x1419cf[_0xfb6c6d(0x770)]||0x1!==_0x1419cf[_0xfb6c6d(0x770)][_0xfb6c6d(0x454)])throw new _0x3c9628(_0x3c9628[_0xfb6c6d(0x994)][_0xfb6c6d(0x5c0)],{'message':_0xfb6c6d(0x786),'localId':this[_0xfb6c6d(0x450)]});if(!this[_0xfb6c6d(0x5ed)](_0x1419cf[_0xfb6c6d(0x770)][0x0]))throw new _0xfe4e17(_0xfb6c6d(0x6bb));}const _0x151cce=_0x1419cf[_0xfb6c6d(0x28f)]??[];try{const {filteredDestinationIds:_0x3f81c0,extendedRecipients:_0x43c53e}=this[_0xfb6c6d(0x9e6)](_0x1419cf,_0x151cce);_0x1419cf[_0xfb6c6d(0x770)]=_0x3f81c0,_0x1419cf['recipients']=_0x43c53e;}catch(_0x496c5e){if(_0x496c5e instanceof _0xfe4e17)return void _0xbff73d[_0xfb6c6d(0x198)](_0x1f75f2[_0xfb6c6d(0x205)],_0xfb6c6d(0x627),_0xfb6c6d(0x2ea),_0x1419cf,_0x496c5e[_0xfb6c6d(0x41d)]);}const _0x394a97=this[_0xfb6c6d(0x1fc)](_0x1419cf);this[_0xfb6c6d(0x3f1)](_0x1419cf,_0x394a97),_0x1419cf[_0xfb6c6d(0x902)]=_0x394a97;const _0x5c97a9=this['getConnectionDestinations'](_0x1419cf,_0x151cce);for(const _0x5350f1 of _0x5c97a9){const _0x2edaee=this[_0xfb6c6d(0x32f)][_0xfb6c6d(0x3ee)](_0x5350f1[_0xfb6c6d(0x6c9)]());if(!_0x2edaee)throw new _0x3c9628(_0x3c9628[_0xfb6c6d(0x994)][_0xfb6c6d(0x593)],{'message':_0xfb6c6d(0x267),'localId':this['localId'],'remoteId':_0x5350f1[_0xfb6c6d(0x6c9)](),'data':_0x1419cf});_0x2edaee[_0xfb6c6d(0x90d)](_0x1419cf);}}[_0xdcbb79(0x6c9)](){return'';}[_0xdcbb79(0x1fa)](){const _0x1083e8=_0xdcbb79;return this[_0x1083e8(0x450)];}[_0xdcbb79(0x312)](_0x33c5ff){const _0x16b99f=_0xdcbb79;return this[_0x16b99f(0x717)][_0x16b99f(0x917)](_0x33c5ff);}[_0xdcbb79(0x9e6)](_0x545ffb,_0x5c5fb8){const _0x576d90=_0xdcbb79,_0x4483f8={'filteredDestinationIds':_0x545ffb[_0x576d90(0x770)],'extendedRecipients':_0x545ffb[_0x576d90(0x28f)]};if(!_0x545ffb[_0x576d90(0x902)])return _0x4483f8;const _0x3df4fd=Array[_0x576d90(0x6dd)](this['connections'][_0x576d90(0x7b7)]())['filter'](_0x313d81=>_0x313d81[_0x576d90(0x264)]()===_0x9e7bd3['Core']||_0x313d81[_0x576d90(0x5ed)]())[_0x576d90(0x945)](_0x19dc7b=>_0x19dc7b['getRemoteId']());if(_0x3df4fd[_0x576d90(0x1f4)]((_0x27a34d,_0x5c66d0)=>_0x27a34d&&_0x545ffb[_0x576d90(0x28f)]['includes'](_0x5c66d0),!0x0))throw new _0xfe4e17(_0x576d90(0x3e2));if(_0x545ffb[_0x576d90(0x770)]){const _0x2152c9=_0x545ffb[_0x576d90(0x770)][_0x576d90(0x4e9)](_0x4efd04=>_0x4efd04!==this['localId']&&!_0x545ffb[_0x576d90(0x28f)][_0x576d90(0x949)](_0x4efd04));if(0x0===_0x2152c9[_0x576d90(0x454)])throw new _0xfe4e17(_0x576d90(0x68e));_0x4483f8['filteredDestinationIds']=_0x2152c9;}return _0x4483f8['extendedRecipients']=[...new Set([..._0x5c5fb8,..._0x3df4fd,this[_0x576d90(0x450)]])],_0x4483f8;}['logPropagateSystemEvent'](_0x1e9c23,_0x190cb7=!0x1){const _0x3f002f=_0xdcbb79;if(0x0===_0x1e9c23[_0x3f002f(0x4c7)]&&!_0x2e8725(_0x1e9c23,this[_0x3f002f(0x450)])&&_0x1e9c23[_0x3f002f(0x902)]){const _0x55fb30=_0x1fb664(_0x1e9c23,this[_0x3f002f(0x450)]);_0xbff73d['logRaw'](_0x1f75f2[_0x3f002f(0x160)],_0x1e9c23['uuid']+'\x20-\x20Sending\x20propagation\x20('+_0x190cb7+')\x20'+_0x55fb30,_0x1e9c23,_0x190cb7);}}[_0xdcbb79(0x1fc)](_0x409881){const _0x1d352b=_0xdcbb79;if(_0x409881['destinationIds']&&_0x409881['propagate']){const _0x2bc4be=Array[_0x1d352b(0x6dd)](this[_0x1d352b(0x6dc)][_0x1d352b(0x7b7)]())[_0x1d352b(0x4e9)](_0x2a1993=>_0x2a1993[_0x1d352b(0x264)]()===_0x9e7bd3['Core']||_0x2a1993[_0x1d352b(0x5ed)]())[_0x1d352b(0x945)](_0x107cac=>_0x107cac[_0x1d352b(0x6c9)]());return!_0x409881[_0x1d352b(0x770)][_0x1d352b(0x1f4)]((_0x49e275,_0x51e692)=>_0x49e275&&_0x2bc4be['includes'](_0x51e692),!0x0);}return _0x409881[_0x1d352b(0x902)]??!0x1;}['getConnectionDestinations'](_0x24d952,_0x2782a3){const _0x701d09=_0xdcbb79;if(_0x24d952[_0x701d09(0x902)]&&_0x24d952[_0x701d09(0x770)]){const _0x8858d8=Array[_0x701d09(0x6dd)](this[_0x701d09(0x6dc)][_0x701d09(0x7b7)]())['filter'](_0x4b5402=>_0x4b5402[_0x701d09(0x264)]()===_0x9e7bd3['Core']||_0x4b5402['isConnected']())['map'](_0x1a0878=>_0x1a0878['getRemoteId']()),_0x34f3ff=new Set(),_0x4bbf66=_0x24d952[_0x701d09(0x742)]===this[_0x701d09(0x450)]?0x3:0x1;return _0x24d952['destinationIds']['forEach'](_0x5c57fc=>{const _0x1b1f37=_0x701d09,_0x400de1=this['graphService'][_0x1b1f37(0x9fe)](_0x8858d8,_0x5c57fc);let _0x5d8388=0x0,_0x5b2f9c=0x0;_0x400de1[_0x1b1f37(0x5f6)](_0x41adb2=>{const _0x3ec70a=_0x1b1f37;if(_0x5d8388>=_0x4bbf66)return;const _0x36f242=Array[_0x3ec70a(0x6dd)](this[_0x3ec70a(0x6dc)][_0x3ec70a(0x7b7)]())[_0x3ec70a(0x39d)](_0x51f7fe=>_0x51f7fe[_0x3ec70a(0x6c9)]()===_0x41adb2);if(_0x36f242){if(_0x36f242[_0x3ec70a(0x264)]()===_0x9e7bd3[_0x3ec70a(0x3d2)]&&_0x5b2f9c>0x0)return void(_0x5b2f9c-=0x1);_0x34f3ff[_0x3ec70a(0x164)](_0x36f242),_0x36f242[_0x3ec70a(0x264)]()===_0x9e7bd3[_0x3ec70a(0x67f)]&&(_0x5b2f9c+=0x1),_0x5d8388+=0x1;}});}),Array[_0x701d09(0x6dd)](_0x34f3ff);}return Array[_0x701d09(0x6dd)](this['connections']['keys']())[_0x701d09(0x4e9)](_0x537cbd=>{const _0x112646=_0x701d09;return _0x203398=_0x537cbd[_0x112646(0x6c9)](),!_0x2782a3[_0x112646(0x949)](_0x203398)&&(_0x39c5bd(_0x24d952,_0x203398)||_0x24d952[_0x112646(0x902)])&&(!_0x24d952['propagate']||_0x537cbd[_0x112646(0x5ed)]()||_0x537cbd[_0x112646(0x264)]()===_0x9e7bd3[_0x112646(0x3d2)]);var _0x203398;});}}class _0x3b79ba{[_0xdcbb79(0x450)];['messageBuffer'];['connections']=new Map();[_0xdcbb79(0x5df)];constructor(_0x1ecf4c,_0x393c0b){const _0x35bf6b=_0xdcbb79;this['localId']=_0x1ecf4c,this[_0x35bf6b(0x9a0)]=_0x393c0b;}['close'](){}['send'](_0x479993){const _0x55b6aa=_0xdcbb79;for(const _0x5de7f8 of this[_0x55b6aa(0x6dc)][_0x55b6aa(0x7b7)]())try{return void _0x5de7f8[_0x55b6aa(0x3da)]({'retry':!0x1,..._0x479993});}catch(_0x442440){_0x442440 instanceof _0xfe4e17||_0xbff73d['log'](_0x1f75f2['Pool'],_0x55b6aa(0x5a3)+_0x5de7f8,_0x442440,_0x479993);}_0xbff73d[_0x55b6aa(0x198)](_0x1f75f2[_0x55b6aa(0x704)],_0x55b6aa(0x7dc));}[_0xdcbb79(0x685)](_0x208877){const _0x3af721=_0xdcbb79,_0x566e5a=_0x208877[_0x3af721(0x312)](_0x21623c=>{const _0x58df7=_0x3af721;this[_0x58df7(0x9a0)][_0x58df7(0x1ae)](_0x21623c[_0x58df7(0x3c9)])||0x0===_0x21623c[_0x58df7(0x4c7)]&&(this[_0x58df7(0x9a0)][_0x58df7(0x1e8)](_0x21623c['uuid']),_0x39c5bd(_0x21623c,this[_0x58df7(0x450)])&&this[_0x58df7(0x5df)]?.[_0x58df7(0x884)](_0x21623c));});this[_0x3af721(0x6dc)][_0x3af721(0x80a)](_0x208877,_0x566e5a);}[_0xdcbb79(0x732)](_0x28d4ea){const _0x3010b8=_0xdcbb79;this[_0x3010b8(0x6dc)][_0x3010b8(0x3ee)](_0x28d4ea)?.(),this[_0x3010b8(0x6dc)]['delete'](_0x28d4ea);}[_0xdcbb79(0x1fa)](){const _0x5829d8=_0xdcbb79;return this[_0x5829d8(0x450)];}[_0xdcbb79(0x6c9)](){return'';}['getSupportedContentTypes'](){const _0xaa8027=_0xdcbb79;return[_0x410512[_0xaa8027(0xa30)][_0xaa8027(0x1ef)]];}[_0xdcbb79(0x5ed)](){const _0x2d2890=_0xdcbb79;throw new Error(_0x2d2890(0x71b));}['registerSystemPublisher'](_0x355381){const _0xfc64d8=_0xdcbb79;this[_0xfc64d8(0x5df)]=_0x355381;}['unregisterSystemPublisher'](){const _0x3a0c33=_0xdcbb79;delete this[_0x3a0c33(0x5df)];}}class _0x2245c5{['buffer']=new Map();[_0xdcbb79(0x9e3)];constructor(){const _0x493db7=_0xdcbb79;this[_0x493db7(0x9e3)]=_0x4f45f0[_0x493db7(0x22c)](()=>{const _0x594f4d=_0x493db7;for(const [_0x78eac5,_0x1d9c6a]of this[_0x594f4d(0x475)][_0x594f4d(0x88f)]())Date['now']()-_0x1d9c6a>0x124f80&&this[_0x594f4d(0x475)][_0x594f4d(0x652)](_0x78eac5);},0x1d4c0);}[_0xdcbb79(0x3d8)](){const _0x5c042e=_0xdcbb79;this[_0x5c042e(0x9e3)]();}[_0xdcbb79(0x1e8)](_0x3f5975){const _0x6785bd=_0xdcbb79;this[_0x6785bd(0x475)][_0x6785bd(0x80a)](_0x3f5975,Date[_0x6785bd(0x667)]());}[_0xdcbb79(0x1ae)](_0x40bd7d){const _0x75ca00=_0xdcbb79;return this[_0x75ca00(0x475)][_0x75ca00(0x504)](_0x40bd7d);}}class _0x481f0d{[_0xdcbb79(0x3c6)];['authService'];[_0xdcbb79(0x60c)];[_0xdcbb79(0x581)];[_0xdcbb79(0x6dc)]=new Map();[_0xdcbb79(0x20d)];[_0xdcbb79(0x3b1)];[_0xdcbb79(0x1e6)];[_0xdcbb79(0x9a0)];constructor(_0x1ca459,_0x34dd52,_0x15a5ae,_0x33c287,_0x438d44){const _0x10cb83=_0xdcbb79;this['configs']=_0x1ca459,this[_0x10cb83(0x49e)]=_0x34dd52,this['iceServers']=_0x33c287,this[_0x10cb83(0x581)]=_0x438d44,this[_0x10cb83(0x9a0)]=new _0x2245c5(),this[_0x10cb83(0x3b1)]=new _0x2caaaf(this[_0x10cb83(0x3c6)][_0x10cb83(0x99b)]['getId'](),this[_0x10cb83(0x9a0)],_0x15a5ae),this[_0x10cb83(0x1e6)]=new _0x50fa25(this[_0x10cb83(0x3c6)][_0x10cb83(0x8de)],this['configs'][_0x10cb83(0x31a)],this[_0x10cb83(0x3c6)][_0x10cb83(0x99b)],_0x10cb83(0x3a1),this[_0x10cb83(0x49e)]),this['connectionPool']=new _0x3b79ba(this[_0x10cb83(0x3c6)][_0x10cb83(0x99b)][_0x10cb83(0xa10)](),this[_0x10cb83(0x9a0)]),this[_0x10cb83(0x20d)][_0x10cb83(0x685)](this[_0x10cb83(0x3b1)]),this['connectionPool'][_0x10cb83(0x685)](this[_0x10cb83(0x1e6)]),this[_0x10cb83(0x3c6)][_0x10cb83(0x3a5)][_0x10cb83(0x849)](this[_0x10cb83(0x20d)]);}[_0xdcbb79(0x3d8)](){const _0x2a5261=_0xdcbb79;this[_0x2a5261(0x9a0)][_0x2a5261(0x3d8)](),this[_0x2a5261(0x6dc)][_0x2a5261(0x5f6)]((_0xc7824a,_0x4e6581)=>this[_0x2a5261(0x507)](_0x4e6581)),this[_0x2a5261(0x3c6)]['mediator'][_0x2a5261(0x341)](this[_0x2a5261(0x20d)]),this[_0x2a5261(0x20d)][_0x2a5261(0x732)](this['signalingServer']),this[_0x2a5261(0x20d)]['removeConnection'](this[_0x2a5261(0x3b1)]),this[_0x2a5261(0x20d)][_0x2a5261(0x3d8)](),this[_0x2a5261(0x1e6)]['close'](),this[_0x2a5261(0x3b1)]['close']();}async[_0xdcbb79(0x677)](){await this['signalingServer']['connect']();}async[_0xdcbb79(0x505)](_0x16d345,_0xdca7e8=_0x9e7bd3['Core']){const _0x3f571f=_0xdcbb79;if(this[_0x3f571f(0x6dc)][_0x3f571f(0x504)](_0x16d345)){if(this['connections'][_0x3f571f(0x3ee)](_0x16d345)?.['getConnectionType']()===_0x9e7bd3[_0x3f571f(0x67f)]&&_0xdca7e8===_0x9e7bd3[_0x3f571f(0x3d2)])return void this[_0x3f571f(0x6dc)][_0x3f571f(0x3ee)](_0x16d345)?.['setConnectionType'](_0x9e7bd3[_0x3f571f(0x3d2)]);throw new _0x3c9628(_0x3c9628[_0x3f571f(0x994)][_0x3f571f(0x382)],{'localId':this[_0x3f571f(0x3c6)][_0x3f571f(0x99b)][_0x3f571f(0xa10)](),'remoteId':_0x16d345});}const _0x16299b=new _0x560415(this[_0x3f571f(0x3c6)][_0x3f571f(0x31a)],this[_0x3f571f(0x3c6)]['localNode'],_0x16d345,this[_0x3f571f(0x60c)],_0xdca7e8,this[_0x3f571f(0x581)][_0x3f571f(0x9f3)],this[_0x3f571f(0x581)][_0x3f571f(0x1c4)],this[_0x3f571f(0x581)][_0x3f571f(0x238)]);this[_0x3f571f(0x6dc)]['set'](_0x16d345,_0x16299b),this['connectionGroup']['addConnection'](_0x16299b),this['configs'][_0x3f571f(0x3a5)][_0x3f571f(0x849)](_0x16299b),this[_0x3f571f(0x3c6)]['mediator'][_0x3f571f(0x219)](_0x16d345),await _0x16299b[_0x3f571f(0x3fc)]();}[_0xdcbb79(0x754)](){const _0x159d53=_0xdcbb79;return this[_0x159d53(0x3b1)];}[_0xdcbb79(0x97f)](_0xa3ddc){const _0x20a676=_0xdcbb79;if(!this[_0x20a676(0x6dc)][_0x20a676(0x504)](_0xa3ddc))throw new _0x3c9628(_0x3c9628[_0x20a676(0x994)][_0x20a676(0x29d)],{'localId':this['configs'][_0x20a676(0x99b)][_0x20a676(0xa10)](),'remoteId':_0xa3ddc});return this[_0x20a676(0x6dc)][_0x20a676(0x3ee)](_0xa3ddc);}[_0xdcbb79(0x439)](_0x50d082){const _0x410df8=_0xdcbb79,_0x3cdeb1=Array[_0x410df8(0x6dd)](this[_0x410df8(0x6dc)]['values']());return _0x50d082?_0x3cdeb1[_0x410df8(0x4e9)](_0x50d082):_0x3cdeb1;}async[_0xdcbb79(0x34a)](_0xa45399){const _0x53d54d=_0xdcbb79,_0xb10e21=this[_0x53d54d(0x6dc)]['get'](_0xa45399);_0xb10e21&&_0xb10e21[_0x53d54d(0x5ed)]()&&await _0xb10e21[_0x53d54d(0x34a)]();}[_0xdcbb79(0x315)](_0x45fb6e){const _0x5eb570=_0xdcbb79;if(_0x45fb6e[_0x5eb570(0x526)]!==_0x447632[_0x5eb570(0x183)]||_0x45fb6e[_0x5eb570(0x902)])try{this[_0x5eb570(0x3b1)][_0x5eb570(0x3da)](_0x45fb6e);}catch(_0x36c922){if(_0x36c922 instanceof _0xfe4e17)return;throw _0x36c922;}else this[_0x5eb570(0x20d)][_0x5eb570(0x3da)](_0x45fb6e);}async[_0xdcbb79(0x6c1)](_0x5c6c66){const _0x2415d6=_0xdcbb79;switch(_0x5c6c66[_0x2415d6(0x7bd)][_0x2415d6(0x8fa)]){case _0x35a889[_0x2415d6(0x2e1)]:case _0x35a889[_0x2415d6(0x8b5)]:case _0x35a889[_0x2415d6(0x45e)]:return;}if(!_0x5c6c66[_0x2415d6(0x770)]||0x1!==_0x5c6c66['destinationIds'][_0x2415d6(0x454)])throw new _0x3c9628(_0x3c9628['codes'][_0x2415d6(0x444)],{'message':_0x2415d6(0x206),'event':_0x5c6c66});if(_0x5c6c66['destinationIds'][0x0]!==this[_0x2415d6(0x3c6)]['localNode'][_0x2415d6(0xa10)]())throw new _0x3c9628(_0x3c9628[_0x2415d6(0x994)][_0x2415d6(0x444)],{'message':_0x2415d6(0x52e),'event':_0x5c6c66});if(!this[_0x2415d6(0x6dc)][_0x2415d6(0x504)](_0x5c6c66[_0x2415d6(0x742)])){let _0x53ecb0=_0x9e7bd3[_0x2415d6(0x3d2)];if(!(this['isOffer'](_0x5c6c66[_0x2415d6(0x7bd)])||this[_0x2415d6(0x7d7)](_0x5c6c66['content'])||this[_0x2415d6(0x396)](_0x5c6c66[_0x2415d6(0x7bd)])))return;_0x53ecb0=_0x5c6c66[_0x2415d6(0x7bd)][_0x2415d6(0x657)],await this[_0x2415d6(0x505)](_0x5c6c66[_0x2415d6(0x742)],_0x53ecb0);}const _0x587e97=this[_0x2415d6(0x6dc)][_0x2415d6(0x3ee)](_0x5c6c66['sourceId']);await _0x587e97[_0x2415d6(0x6c1)](_0x5c6c66);}[_0xdcbb79(0x8a5)](_0x27c36f){const _0x498651=_0xdcbb79;if(_0x27c36f[_0x498651(0x7bd)][_0x498651(0x8fa)]===_0x26b693[_0x498651(0x221)]){if(_0x27c36f[_0x498651(0x7bd)][_0x498651(0x394)]===this[_0x498651(0x3c6)][_0x498651(0x99b)][_0x498651(0xa10)]())return void this[_0x498651(0x6dc)][_0x498651(0x5f6)](_0x2bc374=>_0x2bc374[_0x498651(0x8a5)](_0x27c36f));this['connections'][_0x498651(0x3ee)](_0x27c36f[_0x498651(0x7bd)][_0x498651(0x394)])?.[_0x498651(0x8a5)](_0x27c36f);}}[_0xdcbb79(0x74f)]({content:_0x1b3035}){const _0x3fece3=_0xdcbb79;_0x1b3035['type']===_0x328d11[_0x3fece3(0x1b4)]&&this[_0x3fece3(0x507)](_0x1b3035['id']);}[_0xdcbb79(0x17c)](){const _0x3b1559=_0xdcbb79,_0x585f9f=Array[_0x3b1559(0x6dd)](this[_0x3b1559(0x6dc)][_0x3b1559(0x6c2)]())[_0x3b1559(0x1f4)]((_0x3a54d8,_0x3dd988)=>_0x3a54d8+_0x3dd988[_0x3b1559(0xa73)](),0x0);return _0x585f9f<_0x2dccc3?Promise['resolve'](_0x585f9f):new Promise(_0x3dca3b=>{const _0x4e8d16=setInterval(()=>{const _0x4b4951=a0_0x27c7,_0x460141=Array[_0x4b4951(0x6dd)](this['connections'][_0x4b4951(0x6c2)]())[_0x4b4951(0x1f4)]((_0x47bd63,_0x45488a)=>_0x47bd63+_0x45488a[_0x4b4951(0xa73)](),0x0);_0x460141<_0x2dccc3&&(clearInterval(_0x4e8d16),_0x3dca3b(_0x460141));},0x3e8);});}[_0xdcbb79(0x8ac)](){const _0x239c26=_0xdcbb79;for(const _0x19615c of this[_0x239c26(0x6dc)][_0x239c26(0x6c2)]())if(_0x19615c[_0x239c26(0x2db)]()>0x0||_0x19615c[_0x239c26(0xa73)]()>0x0)return!0x0;return!0x1;}[_0xdcbb79(0x507)](_0x579f6b){const _0x354bf6=_0xdcbb79,_0x1fbc73=this[_0x354bf6(0x6dc)][_0x354bf6(0x3ee)](_0x579f6b);_0x1fbc73&&(this[_0x354bf6(0x3c6)]['mediator']['unregisterRemoteNode'](_0x579f6b),this['configs'][_0x354bf6(0x3a5)][_0x354bf6(0x341)](_0x1fbc73),_0x1fbc73 instanceof _0x560415&&this[_0x354bf6(0x3b1)][_0x354bf6(0x732)](_0x1fbc73),_0x1fbc73[_0x354bf6(0x3d8)](),this['connections'][_0x354bf6(0x652)](_0x579f6b));}['isOffer'](_0x221805){const _0x4c6f84=_0xdcbb79;return _0x221805[_0x4c6f84(0x8fa)]===_0x35a889['Offer'];}[_0xdcbb79(0x396)](_0x116f66){const _0x215349=_0xdcbb79;return _0x116f66[_0x215349(0x8fa)]===_0x35a889['NeedRestart'];}[_0xdcbb79(0x7d7)](_0x4b4c53){const _0x665f=_0xdcbb79;return _0x4b4c53[_0x665f(0x8fa)]===_0x35a889['Handshake'];}}!function(_0x124861){const _0x1c79b3=_0xdcbb79;_0x124861[_0x124861[_0x1c79b3(0x41e)]=0x0]=_0x1c79b3(0x41e),_0x124861[_0x124861['UpdateMediaStream']=0x1]='UpdateMediaStream',_0x124861[_0x124861['UnsubscribeMediaStream']=0x2]=_0x1c79b3(0x63b),_0x124861[_0x124861[_0x1c79b3(0x3fe)]=0x3]=_0x1c79b3(0x3fe),_0x124861[_0x124861[_0x1c79b3(0x977)]=0x4]=_0x1c79b3(0x977),_0x124861[_0x124861[_0x1c79b3(0x1ff)]=0x5]=_0x1c79b3(0x1ff),_0x124861[_0x124861[_0x1c79b3(0x27e)]=0x6]=_0x1c79b3(0x27e),_0x124861[_0x124861[_0x1c79b3(0x639)]=0x7]=_0x1c79b3(0x639);}(_0x1875b9||(_0x1875b9={}));class _0x2e20a3 extends _0x2be12e{[_0xdcbb79(0x99b)];['clusterId'];[_0xdcbb79(0x8de)];[_0xdcbb79(0x961)];[_0xdcbb79(0x1b9)];[_0xdcbb79(0x79c)]=0x0;[_0xdcbb79(0x83d)];['eventListener']=_0x5de5e8();[_0xdcbb79(0x806)]=new Map();[_0xdcbb79(0x8a2)];constructor(_0x3b9f33,_0x23cb28,_0x2fe9bc,_0x28dcb1,_0x10a018){const _0x85f047=_0xdcbb79;if(_0x85f047(0x610)!=typeof _0x23cb28)throw new _0x5df866(_0x29ef36[_0x85f047(0x536)],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x3b9f33,_0x23cb28),this[_0x85f047(0x99b)]=_0x3b9f33,this['clusterId']=_0x2fe9bc,this[_0x85f047(0x8de)]=_0x28dcb1,this[_0x85f047(0x961)]=_0x10a018,this[_0x85f047(0x393)]();}[_0xdcbb79(0x4f6)](){const _0x4eab73=_0xdcbb79;this['changesUnsubscriber']?.(),this[_0x4eab73(0x806)]['forEach'](_0x199234=>_0x199234()),clearTimeout(this['debounceStats']),delete this[_0x4eab73(0x1b9)],super['destroy']();}[_0xdcbb79(0x337)](){this['sendStats']();}[_0xdcbb79(0x3d8)](){const _0x49abb5=_0xdcbb79;this['systemTopic']['publish']({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x49abb5(0x6cf)],'content':{'type':_0x31d4ec['CloseExternalStorageConnection'],'label':this['label']}});}[_0xdcbb79(0x3aa)](){const _0x4db0f0=_0xdcbb79;return _0x410512[_0x4db0f0(0xa30)][_0x4db0f0(0x22a)];}async[_0xdcbb79(0x3ee)](_0x4e7b3a){const _0x57dc78=_0xdcbb79;if(!this[_0x57dc78(0x83d)])throw new _0x5df866(_0x29ef36['ExternalStorageConnectorsMissing'],_0x57dc78(0x509));_0xbff73d[_0x57dc78(0x6bf)](_0x3a8602[_0x57dc78(0x22a)],{'type':_0x57dc78(0x3ee),'label':this['label'],'nodeId':this[_0x57dc78(0x99b)]['getId'](),'nodeType':this[_0x57dc78(0x99b)][_0x57dc78(0x8fa)],'clusterId':this[_0x57dc78(0x31a)],'path':_0x4e7b3a}),this[_0x57dc78(0x79c)]+=0x1,this[_0x57dc78(0x393)]();try{return await this[_0x57dc78(0x83d)][_0x57dc78(0x3ee)](_0x4e7b3a);}catch(_0x1b2f20){throw new _0x5df866(_0x29ef36[_0x57dc78(0x83b)],'Cannot\x20get\x20file:\x20'+_0x4e7b3a);}}async[_0xdcbb79(0x232)](_0x258090,_0x49a77f){const _0x10ec63=_0xdcbb79;if(!this['connector'])throw new _0x5df866(_0x29ef36[_0x10ec63(0x8d1)],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x15777d=!0x1}=_0x49a77f??{};_0xbff73d[_0x10ec63(0x6bf)](_0x3a8602[_0x10ec63(0x22a)],{'type':'list','label':this[_0x10ec63(0x726)],'nodeId':this[_0x10ec63(0x99b)][_0x10ec63(0xa10)](),'nodeType':this[_0x10ec63(0x99b)][_0x10ec63(0x8fa)],'clusterId':this[_0x10ec63(0x31a)],'path':_0x258090}),this['reads']+=0x1,this[_0x10ec63(0x393)]();try{return await this['connector']['list'](_0x258090,_0x15777d);}catch(_0x296609){throw new _0x5df866(_0x29ef36[_0x10ec63(0x83b)],_0x10ec63(0x27a)+_0x258090);}}[_0xdcbb79(0x917)](_0x104aa5,_0x58295f){const _0x5b5a2b=_0xdcbb79;if(this[_0x5b5a2b(0x806)]['has'](_0x104aa5))throw new _0x5df866(_0x29ef36['ExternalStorageConnectionAlreadySubscribed'],_0x5b5a2b(0x355));this[_0x5b5a2b(0x806)][_0x5b5a2b(0x80a)](_0x104aa5,this['eventListener'][_0x5b5a2b(0x917)](_0x58295f));}[_0xdcbb79(0x1aa)](_0x20c372){const _0x42938f=_0xdcbb79;this['listenerUnsubscribers'][_0x42938f(0x3ee)](_0x20c372)?.(),this['listenerUnsubscribers'][_0x42938f(0x652)](_0x20c372);}async[_0xdcbb79(0x94b)](){const _0x2b98a5=_0xdcbb79,_0x1bbd94=(await(0x0,_0x34d3c5[_0x2b98a5(0x30a)])((0x0,_0x34d3c5[_0x2b98a5(0x6c3)])(_0x35c568[_0x2b98a5(0x152)](),_0x2b98a5(0x371)+this[_0x2b98a5(0x8de)]+_0x2b98a5(0x3cb)+this['label'])))[_0x2b98a5(0x78e)]();if(!_0x1bbd94)throw new _0x5df866(_0x29ef36[_0x2b98a5(0x351)],_0x2b98a5(0x215)+this[_0x2b98a5(0x726)]);const {site:_0x279874,drive:_0x5a09ea}=_0x1bbd94,_0x3dbf09=(await(0x0,_0x577889[_0x2b98a5(0x51c)])(_0x35c568[_0x2b98a5(0x3eb)](),_0x2b98a5(0x737))({'storageId':this[_0x2b98a5(0x726)]}))[_0x2b98a5(0x78e)][_0x2b98a5(0x458)];this[_0x2b98a5(0x83d)]=new this[(_0x2b98a5(0x961))](_0x279874['id'],_0x5a09ea['id'],_0x3dbf09,async()=>(await(0x0,_0x577889[_0x2b98a5(0x51c)])(_0x35c568[_0x2b98a5(0x3eb)](),'msalRefreshToken')({'storageId':this[_0x2b98a5(0x726)]}))[_0x2b98a5(0x78e)]['accessToken']),this[_0x2b98a5(0x739)]();}[_0xdcbb79(0x393)](){const _0x4a2567=_0xdcbb79;this['debounceStats']&&clearTimeout(this[_0x4a2567(0x1b9)]),this['debounceStats']=setTimeout(async()=>{const _0x478b6a=_0x4a2567;delete this[_0x478b6a(0x1b9)],this['systemTopic'][_0x478b6a(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x478b6a(0x6cf)],'content':{'type':_0x31d4ec['ExternalStorageStats'],'label':this[_0x478b6a(0x726)],'stats':{'timestamp':Date[_0x478b6a(0x667)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x478b6a(0x79c)],'prompts':0x0,'tokens':0x0}}});},_0xe479f);}async['trackChanges'](){const _0x1ee5dc=_0xdcbb79;await this['connector']?.[_0x1ee5dc(0x189)](),this[_0x1ee5dc(0x8a2)]=_0x4f45f0['setInterval'](async()=>{const _0x299e83=_0x1ee5dc;try{if(!this[_0x299e83(0x83d)])return;const _0xef3062=await this['connector'][_0x299e83(0x189)]();for(const _0x4b1cb9 of _0xef3062)this[_0x299e83(0x9ef)][_0x299e83(0x884)](_0x4b1cb9);}catch(_0x106310){}},0x493e0);}}const _0x5ab66e=require('rxjs');class _0x3beba2 extends _0x2be12e{[_0xdcbb79(0x3a2)];[_0xdcbb79(0x319)]=new Map();[_0xdcbb79(0x92b)]=new Map();['jobBids']=new Map();[_0xdcbb79(0x9e3)];constructor(_0x468914,_0x44f29c,_0x55ed3a){const _0x27aef7=_0xdcbb79;super(_0x468914,_0x44f29c),this[_0x27aef7(0x3a2)]=_0x55ed3a;}[_0xdcbb79(0x3aa)](){const _0x5db267=_0xdcbb79;return _0x410512[_0x5db267(0xa30)]['Job'];}['open'](){const _0x32a7b6=_0xdcbb79;this[_0x32a7b6(0x9e3)]=this['onMessage']((_0x4e44e2,_0x3ff5ba)=>{const _0x2b1653=_0x32a7b6;if(_0xbff73d[_0x2b1653(0x198)](_0x1f75f2['Jobs'],_0x2b1653(0x830),_0x4e44e2,_0x3ff5ba,this['graphService'][_0x2b1653(0x861)]()),!(_0x3ff5ba instanceof File)){if(!_0x3ff5ba)throw new _0x3c9628(_0x3c9628['codes'][_0x2b1653(0x867)]);return this[_0x2b1653(0x26f)](_0x3ff5ba)?this[_0x2b1653(0x6a6)](_0x4e44e2,_0x3ff5ba['id'],_0x3ff5ba):this['isPartialResultResponse'](_0x3ff5ba)?(_0xbff73d[_0x2b1653(0x198)](_0x1f75f2['Jobs'],_0x2b1653(0x9f0)+_0x3ff5ba['id']+'\x20received\x20partial\x20result:',_0x3ff5ba[_0x2b1653(0x4bb)]),void this[_0x2b1653(0x779)](_0x3ff5ba['id'],_0x3ff5ba)):this['isResultResponse'](_0x3ff5ba)?(_0xbff73d[_0x2b1653(0x198)](_0x1f75f2[_0x2b1653(0x589)],_0x2b1653(0x9f0)+_0x3ff5ba['id']+_0x2b1653(0x4ce),_0x3ff5ba[_0x2b1653(0x4bb)]),void this['evaluateProccessedJob'](_0x3ff5ba['id'],_0x3ff5ba)):void(this[_0x2b1653(0x5ab)](_0x3ff5ba)&&this[_0x2b1653(0x792)](_0x3ff5ba['id'],_0x3ff5ba[_0x2b1653(0x41d)]));}});}['reset'](){const _0x5ff0af=_0xdcbb79;this[_0x5ff0af(0x6d0)](),this[_0x5ff0af(0x94b)]();}[_0xdcbb79(0x4f6)](){const _0x313e11=_0xdcbb79;this[_0x313e11(0x6d0)](),super['destroy']();}[_0xdcbb79(0x6d0)](){const _0x4cbf55=_0xdcbb79;this[_0x4cbf55(0x319)]['clear'](),this[_0x4cbf55(0x9e3)]&&this[_0x4cbf55(0x9e3)]();}[_0xdcbb79(0x3d8)](){const _0x378653=_0xdcbb79;this[_0x378653(0x5df)]?.[_0x378653(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x378653(0x6cf)],'content':{'type':_0x31d4ec['CloseJobDispatcher'],'label':this[_0x378653(0x726)]}});}async[_0xdcbb79(0x2d6)](_0x3a4f9d){const _0x3dea18=_0xdcbb79,{id:_0x11425b,parameters:_0x1e500f,jobType:_0x510b88}=_0x3a4f9d,_0x1ba98b={'id':_0x11425b,'jobType':_0x510b88,'parameters':_0x1e500f,'status':_0x410512[_0x3dea18(0x246)][_0x3dea18(0x663)],'created':new Date(),'updated':new Date()};if(this[_0x3dea18(0x319)][_0x3dea18(0x504)](_0x1ba98b['id']))throw new _0x5df866(_0x29ef36[_0x3dea18(0xa1f)],_0x3dea18(0x1fd)+_0x1ba98b['id']+_0x3dea18(0x2de));_0x1ba98b[_0x3dea18(0x71d)]=new Date(),_0x1ba98b[_0x3dea18(0x768)]=new Date();const _0x55d4b0=new _0x5ab66e['Subject']();this[_0x3dea18(0x319)]['set'](_0x1ba98b['id'],_0x1ba98b),this[_0x3dea18(0x92b)][_0x3dea18(0x80a)](_0x1ba98b['id'],_0x55d4b0);try{const _0x26c95c={'id':_0x1ba98b['id'],'jobPhase':_0x4240da[_0x3dea18(0x8c1)],'jobType':_0x1ba98b[_0x3dea18(0x998)]},_0x24710b=0x3;let _0x418e8e=0x0;const _0x137034=async()=>{const _0x247725=_0x3dea18;_0x418e8e+=0x1;try{_0xbff73d[_0x247725(0x198)](_0x1f75f2['Jobs'],_0x247725(0x9f0)+_0x1ba98b['id']+_0x247725(0x40a)+_0x418e8e+'.',this[_0x247725(0x3a2)][_0x247725(0x861)]()),await this['send'](_0x26c95c),_0x1ba98b[_0x247725(0x768)]=new Date(),this[_0x247725(0x319)][_0x247725(0x80a)](_0x1ba98b['id'],_0x1ba98b),this[_0x247725(0x170)](_0x1ba98b['id']);}catch(_0x4227f5){_0x418e8e<_0x24710b?(_0xbff73d[_0x247725(0x869)]('Attempt\x20'+_0x418e8e+'\x20to\x20send\x20dispatcherJob\x20'+_0x1ba98b['id']+_0x247725(0x59d),{'nodeId':this[_0x247725(0x1af)][_0x247725(0xa10)](),'nodeType':this[_0x247725(0x1af)][_0x247725(0x8fa)],'data':{'job':_0x1ba98b,'attempts':_0x418e8e,'maxRetries':_0x24710b}}),setTimeout(_0x137034,0x3e8)):(_0x1ba98b[_0x247725(0x6e0)]=_0x410512[_0x247725(0x246)][_0x247725(0x502)],_0x1ba98b[_0x247725(0x768)]=new Date(),this[_0x247725(0x319)]['set'](_0x1ba98b['id'],_0x1ba98b),_0xbff73d[_0x247725(0x33f)](_0x247725(0x261)+_0x1ba98b['id']+_0x247725(0x49a)+_0x24710b+_0x247725(0x3c7),{'nodeId':this[_0x247725(0x1af)][_0x247725(0xa10)](),'nodeType':this[_0x247725(0x1af)][_0x247725(0x8fa)],'data':{'job':_0x1ba98b,'attempts':_0x418e8e,'maxRetries':_0x24710b,'error':_0x4227f5}}));}};_0x137034();const {id:_0x131d8f}=_0x1ba98b;this[_0x3dea18(0x265)](_0x3dea18(0x9f0)+_0x1ba98b['id']+_0x3dea18(0x16c),{'jobId':_0x131d8f}),_0x1ba98b[_0x3dea18(0x768)]=new Date();}catch(_0x43ea0a){_0x1ba98b['status']=_0x410512[_0x3dea18(0x246)][_0x3dea18(0x502)],_0xbff73d[_0x3dea18(0x33f)](_0x3dea18(0x261)+_0x1ba98b['id']+':',{'nodeId':this['owner'][_0x3dea18(0xa10)](),'nodeType':this[_0x3dea18(0x1af)][_0x3dea18(0x8fa)],'data':{'job':_0x1ba98b,'error':_0x43ea0a}});}return _0x55d4b0[_0x3dea18(0x75c)]();}[_0xdcbb79(0x4e8)](_0x31c341){const _0x50d7cd=_0xdcbb79,_0x343cf1=this['jobs'][_0x50d7cd(0x3ee)](_0x31c341);if(!_0x343cf1)throw new _0x5df866(_0x29ef36[_0x50d7cd(0x75f)],'Job\x20with\x20id\x20'+_0x31c341+_0x50d7cd(0x300));return{'id':_0x343cf1['id'],'jobType':_0x343cf1['jobType'],'status':_0x343cf1[_0x50d7cd(0x6e0)],'parameters':_0x343cf1[_0x50d7cd(0x541)]};}[_0xdcbb79(0x72d)](){const _0x4af8e3=_0xdcbb79;return Array[_0x4af8e3(0x6dd)](this[_0x4af8e3(0x319)][_0x4af8e3(0x6c2)]())[_0x4af8e3(0x945)](_0x298f98=>this[_0x4af8e3(0x4e8)](_0x298f98['id']));}async[_0xdcbb79(0x728)](_0x27a7b3,_0x3e9ce7){const _0x34a240=_0xdcbb79,_0x4c7fbd=this['jobs'][_0x34a240(0x3ee)](_0x27a7b3);if(!_0x4c7fbd)throw new _0x5df866(_0x29ef36[_0x34a240(0x75f)],_0x34a240(0x1fd)+_0x27a7b3+'\x20not\x20found.');_0x4c7fbd[_0x34a240(0x541)]=_0x3e9ce7,_0x4c7fbd[_0x34a240(0x768)]=new Date(),this['jobs']['set'](_0x27a7b3,_0x4c7fbd);}async[_0xdcbb79(0x5cc)](_0x2856d0){const _0x517f56=_0xdcbb79;if(!this[_0x517f56(0x319)][_0x517f56(0x652)](_0x2856d0))throw new _0x5df866(_0x29ef36[_0x517f56(0x75f)],'Job\x20with\x20id\x20'+_0x2856d0+_0x517f56(0x300));const _0xf4d0d8=this[_0x517f56(0x92b)][_0x517f56(0x3ee)](_0x2856d0);if(!_0xf4d0d8)throw new _0x3c9628(_0x3c9628[_0x517f56(0x994)][_0x517f56(0x8a4)]);_0xf4d0d8[_0x517f56(0x314)](),this['jobObservers'][_0x517f56(0x652)](_0x2856d0),_0xbff73d[_0x517f56(0x198)](_0x1f75f2[_0x517f56(0x589)],_0x517f56(0x9f0)+_0x2856d0+_0x517f56(0x201));}[_0xdcbb79(0x6a6)](_0x3d50d8,_0x5eec85,_0x1e188d){const _0x19aa77=_0xdcbb79,_0x5f2247=this[_0x19aa77(0x7b9)][_0x19aa77(0x3ee)](_0x5eec85)??new Map();_0x5f2247['set'](_0x3d50d8,[_0x1e188d,Date[_0x19aa77(0x667)]()]),this[_0x19aa77(0x7b9)][_0x19aa77(0x80a)](_0x5eec85,_0x5f2247),this[_0x19aa77(0x617)](_0x5eec85);}[_0xdcbb79(0x170)](_0x51cef3){const _0x284c62=_0xdcbb79,_0x3c045c=this[_0x284c62(0x319)]['get'](_0x51cef3);if(!_0x3c045c)throw new _0x3c9628(_0x3c9628[_0x284c62(0x994)]['JobDispatcherJobNotFound']);const _0x38f866=setTimeout(()=>this[_0x284c62(0x617)](_0x51cef3,!0x0),0xbb8);_0x3c045c[_0x284c62(0x58c)]=_0x38f866,this[_0x284c62(0x319)][_0x284c62(0x80a)](_0x3c045c['id'],_0x3c045c);}[_0xdcbb79(0x617)](_0x3c5507,_0x3bd0c5=!0x1){const _0x279c65=_0xdcbb79,_0x7e8c29=this[_0x279c65(0x3a2)]['getRemoteNodes'](),_0x596ce7=Array[_0x279c65(0x6dd)](_0x7e8c29[_0x279c65(0x6c2)]())[_0x279c65(0x4e9)](_0x4e1a6a=>_0x4e1a6a[_0x279c65(0x8fa)]===_0x410512[_0x279c65(0xa72)]['Agent']),_0x5beca3=this[_0x279c65(0x7b9)][_0x279c65(0x3ee)](_0x3c5507)??new Map();if(!_0x3bd0c5&&(!_0x5beca3||_0x5beca3[_0x279c65(0x400)]<_0x596ce7['length']))return;const _0x322018=this[_0x279c65(0x319)][_0x279c65(0x3ee)](_0x3c5507);if(!_0x322018)throw new _0x3c9628(_0x3c9628[_0x279c65(0x994)]['JobDispatcherJobNotFound']);if(clearTimeout(_0x322018[_0x279c65(0x58c)]),_0xbff73d[_0x279c65(0x198)](_0x1f75f2[_0x279c65(0x589)],_0x279c65(0x9f0)+_0x322018['id']+_0x279c65(0x40f),_0x5beca3,this[_0x279c65(0x7b9)]),!_0x5beca3||0x0===_0x5beca3[_0x279c65(0x400)]){_0x322018['status']=_0x410512[_0x279c65(0x246)][_0x279c65(0x502)],_0x322018[_0x279c65(0x768)]=new Date(),_0xbff73d[_0x279c65(0x33f)](_0x279c65(0x9f0)+_0x322018['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x279c65(0x1af)][_0x279c65(0xa10)](),'nodeType':this[_0x279c65(0x1af)][_0x279c65(0x8fa)],'data':{'job':_0x322018,'responses':_0x5beca3}});const _0x54d927=this['jobObservers'][_0x279c65(0x3ee)](_0x3c5507);if(!_0x54d927)throw new _0x3c9628(_0x3c9628[_0x279c65(0x994)]['JobDispatcherObserverNotFound']);const _0x1c9ab9=_0x279c65(0x361),_0x1b9dc6={'id':_0x322018['id'],'status':_0x322018['status'],'message':_0x1c9ab9};return _0x54d927['next'](_0x1b9dc6),_0x54d927['complete'](),this[_0x279c65(0x319)][_0x279c65(0x80a)](_0x322018['id'],_0x322018),void this[_0x279c65(0x7b9)][_0x279c65(0x652)](_0x3c5507);}const {nodeId:_0x4e8b79,response:_0x22ccd4}=this[_0x279c65(0x605)](_0x322018['id'],_0x5beca3);_0x322018[_0x279c65(0x6e0)]=_0x410512[_0x279c65(0x246)][_0x279c65(0x421)],_0x322018[_0x279c65(0x768)]=new Date(),_0xbff73d['log'](_0x1f75f2[_0x279c65(0x589)],_0x279c65(0x9f0)+_0x322018['id']+_0x279c65(0x514)+_0x4e8b79+_0x279c65(0x3f8),_0x22ccd4);const _0x38f065={'id':_0x322018['id'],'jobType':_0x322018[_0x279c65(0x998)],'jobPhase':_0x4240da[_0x279c65(0x562)],'parameters':_0x322018[_0x279c65(0x541)]};this['send'](_0x38f065,[_0x4e8b79]),this[_0x279c65(0x319)][_0x279c65(0x80a)](_0x322018['id'],_0x322018),this[_0x279c65(0x7b9)]['delete'](_0x3c5507);}['evaluateBids'](_0x3d5e6c,_0xf7a405){const _0x5569c2=_0xdcbb79;let _0x233d75;const _0x2c62e4=Array[_0x5569c2(0x6dd)](_0xf7a405['entries']())[_0x5569c2(0x4e9)](([,[_0x233120]])=>_0x233120['available']);if(_0x233d75=_0x2c62e4['length']>0x0?Array[_0x5569c2(0x6dd)](_0xf7a405['entries']())[_0x5569c2(0x1ca)]((_0x44144c,_0x5a178f)=>_0x5a178f[0x1][0x0]['bid']-_0x44144c[0x1][0x0][_0x5569c2(0x9cd)]):Array[_0x5569c2(0x6dd)](_0xf7a405[_0x5569c2(0x88f)]())[_0x5569c2(0x1ca)]((_0x23663e,_0x5651b6)=>_0x23663e[0x1][0x0][_0x5569c2(0x4b9)]-_0x5651b6[0x1][0x0]['queueLength']),0x1===_0x233d75['length'])return{'nodeId':_0x233d75[0x0][0x0],'response':_0x233d75[0x0][0x1][0x0]};let _0x1811ce;if(_0x1811ce=_0x2c62e4[_0x5569c2(0x454)]>0x0?(_0x20fdae=>{const _0x1f1e79=_0x5569c2,_0xd374af=_0x20fdae[0x0][0x1][0x0]['bid'];return _0x20fdae['filter'](([,[_0x3c3c65]])=>_0x3c3c65[_0x1f1e79(0x9cd)]===_0xd374af);})(_0x233d75):(_0x454aa0=>{const _0x252957=_0x5569c2,_0x5b0857=_0x454aa0[0x0][0x1][0x0][_0x252957(0x4b9)];return _0x454aa0[_0x252957(0x4e9)](([,[_0x29052d]])=>_0x29052d[_0x252957(0x4b9)]===_0x5b0857);})(_0x233d75),0x1===_0x1811ce[_0x5569c2(0x454)])return{'nodeId':_0x1811ce[0x0][0x0],'response':_0x1811ce[0x0][0x1][0x0]};const _0x458810=this[_0x5569c2(0x319)][_0x5569c2(0x3ee)](_0x3d5e6c);if(!_0x458810)throw new _0x3c9628(_0x3c9628[_0x5569c2(0x994)][_0x5569c2(0x75f)]);const _0x2351e3=_0x458810[_0x5569c2(0x71d)][_0x5569c2(0x473)](),_0x302489=_0x1811ce[_0x5569c2(0x945)](([_0x99f984,[,_0x542431]])=>({'nodeId':_0x99f984,'rtt':_0x542431-_0x2351e3})),_0x49b816=Math[_0x5569c2(0x202)](..._0x302489[_0x5569c2(0x945)](({rtt:_0x109cf6})=>_0x109cf6)),_0x4de159=_0x302489[_0x5569c2(0x39d)](({rtt:_0xb73055})=>_0xb73055===_0x49b816),[,[_0x35d278]]=_0x1811ce[_0x5569c2(0x39d)](([_0x3d07e4])=>_0x3d07e4===_0x4de159[_0x5569c2(0x6c8)]);return{'nodeId':_0x4de159[_0x5569c2(0x6c8)],'response':_0x35d278};}['evaluatePartialJob'](_0x4b5abe,_0x284c3d){const _0x17a686=_0xdcbb79,_0x173b57=this[_0x17a686(0x319)][_0x17a686(0x3ee)](_0x4b5abe);if(!_0x173b57)throw new _0x3c9628(_0x3c9628[_0x17a686(0x994)][_0x17a686(0x75f)]);const _0x4b7203=this[_0x17a686(0x92b)]['get'](_0x4b5abe);if(!_0x4b7203)throw new _0x3c9628(_0x3c9628['codes'][_0x17a686(0x8a4)]);const _0x7a694={'id':_0x173b57['id'],'status':_0x410512[_0x17a686(0x246)][_0x17a686(0x203)],'result':_0x284c3d[_0x17a686(0x4bb)]};_0x4b7203[_0x17a686(0x9f2)](_0x7a694);}[_0xdcbb79(0x8bd)](_0x2e510d,_0x35dc15){const _0x3706b9=_0xdcbb79,_0x29c0c6=this['jobs'][_0x3706b9(0x3ee)](_0x2e510d);if(!_0x29c0c6)throw new _0x3c9628(_0x3c9628['codes'][_0x3706b9(0x75f)]);const _0x361e98=this[_0x3706b9(0x92b)][_0x3706b9(0x3ee)](_0x2e510d);if(!_0x361e98)throw new _0x3c9628(_0x3c9628[_0x3706b9(0x994)][_0x3706b9(0x8a4)]);_0x29c0c6[_0x3706b9(0x6e0)]=_0x410512[_0x3706b9(0x246)]['Completed'];const _0x3d2b69={'id':_0x29c0c6['id'],'status':_0x29c0c6[_0x3706b9(0x6e0)],'result':_0x35dc15[_0x3706b9(0x4bb)]};_0x361e98['next'](_0x3d2b69),_0x361e98[_0x3706b9(0x314)](),this[_0x3706b9(0x92b)][_0x3706b9(0x652)](_0x2e510d),this[_0x3706b9(0x265)](_0x3706b9(0x9f0)+_0x2e510d+_0x3706b9(0x912),{'jobId':_0x2e510d});}['failJob'](_0x19b73a,_0x10510f){const _0x342ab4=_0xdcbb79,_0x5d6f6e=this[_0x342ab4(0x319)][_0x342ab4(0x3ee)](_0x19b73a);if(!_0x5d6f6e)throw new _0x3c9628(_0x3c9628['codes']['JobDispatcherJobNotFound']);const _0x38f617=this[_0x342ab4(0x92b)][_0x342ab4(0x3ee)](_0x19b73a);if(!_0x38f617)throw new _0x3c9628(_0x3c9628['codes']['JobDispatcherObserverNotFound']);_0x5d6f6e[_0x342ab4(0x6e0)]=_0x410512[_0x342ab4(0x246)][_0x342ab4(0x502)];const _0xd07b={'id':_0x5d6f6e['id'],'status':_0x5d6f6e[_0x342ab4(0x6e0)],'message':_0x10510f};_0x38f617[_0x342ab4(0x9f2)](_0xd07b),_0x38f617[_0x342ab4(0x314)](),this[_0x342ab4(0x92b)][_0x342ab4(0x652)](_0x19b73a),this[_0x342ab4(0x265)](_0x342ab4(0x9f0)+_0x19b73a+_0x342ab4(0x40b),{'jobId':_0x19b73a});}[_0xdcbb79(0x265)](_0x46a959,{jobId:_0x1879f7}){const _0x15b48b=_0xdcbb79,_0x257aef={'jobId':_0x1879f7,'mistletIds':Array[_0x15b48b(0x6dd)](this['graphService'][_0x15b48b(0x861)]()[_0x15b48b(0x6c2)]())[_0x15b48b(0x4e9)](_0x5360a7=>_0x5360a7[_0x15b48b(0x8fa)]===_0x410512[_0x15b48b(0xa72)][_0x15b48b(0x963)])[_0x15b48b(0x945)](_0x52e935=>_0x52e935['getId']())};_0xbff73d[_0x15b48b(0x265)](_0x46a959,{'nodeId':this[_0x15b48b(0xa37)](),'nodeType':this['owner']['type'],'data':_0x257aef}),_0xbff73d[_0x15b48b(0x198)](_0x1f75f2['Jobs'],_0x46a959,_0x257aef);}[_0xdcbb79(0x26f)](_0x320c3c){const _0x1ce0b4=_0xdcbb79,{jobPhase:_0x3ba16d,available:_0x5c4fc0,bid:_0x4264a4}=_0x320c3c;return _0x3ba16d===_0x4240da[_0x1ce0b4(0x429)]&&void 0x0!==_0x5c4fc0&&void 0x0!==_0x4264a4;}[_0xdcbb79(0x35a)](_0x30cd9d){const _0x233616=_0xdcbb79,{jobPhase:_0x468fb6,result:_0x1d0b37}=_0x30cd9d;return _0x468fb6===_0x4240da[_0x233616(0x484)]&&void 0x0!==_0x1d0b37;}['isResultResponse'](_0xb7c0ae){const _0x356e34=_0xdcbb79,{jobPhase:_0x52438f,result:_0x421ee4}=_0xb7c0ae;return _0x52438f===_0x4240da[_0x356e34(0x545)]&&void 0x0!==_0x421ee4;}['isFailedResponse'](_0x441d9a){const _0x392ce3=_0xdcbb79,{jobPhase:_0x1a59d9,message:_0x2f3df4}=_0x441d9a;return _0x1a59d9===_0x4240da[_0x392ce3(0x502)]&&void 0x0!==_0x2f3df4&&'string'==typeof _0x2f3df4;}}var _0x55d9b0,_0x9e7c8,_0x303f13,_0x512626;!function(_0x235e21){const _0x27fb29=_0xdcbb79;_0x235e21[_0x27fb29(0x365)]=_0x27fb29(0x82f),_0x235e21[_0x27fb29(0x22a)]='external-storage';}(_0x55d9b0||(_0x55d9b0={})),function(_0x44e0b1){const _0x5558f5=_0xdcbb79;_0x44e0b1[_0x5558f5(0x963)]=_0x5558f5(0x5fe),_0x44e0b1[_0x5558f5(0x20e)]=_0x5558f5(0x26a),_0x44e0b1[_0x5558f5(0x3e8)]='custom-skill',_0x44e0b1[_0x5558f5(0x2f1)]='data-collection',_0x44e0b1['Knowledge']='knowledge',_0x44e0b1[_0x5558f5(0x86c)]='prompt',_0x44e0b1['Answer']=_0x5558f5(0x68a),_0x44e0b1[_0x5558f5(0x9ad)]=_0x5558f5(0x4b3),_0x44e0b1['Code']='code',_0x44e0b1['Search']='search',_0x44e0b1[_0x5558f5(0x804)]=_0x5558f5(0x76a),_0x44e0b1['WebScraperRaw']=_0x5558f5(0x746),_0x44e0b1[_0x5558f5(0x931)]=_0x5558f5(0x87b),_0x44e0b1['SentenceSplitter']=_0x5558f5(0x61c),_0x44e0b1['WordSplitter']=_0x5558f5(0x3b8);}(_0x9e7c8||(_0x9e7c8={})),function(_0x498215){const _0x21d5c1=_0xdcbb79;_0x498215[_0x21d5c1(0x96c)]='object-storage-upload',_0x498215[_0x21d5c1(0x2d5)]=_0x21d5c1(0x451),_0x498215[_0x21d5c1(0x2a6)]=_0x21d5c1(0x723),_0x498215['ChunkSplitter']=_0x21d5c1(0x87b),_0x498215[_0x21d5c1(0x9be)]='word-splitter',_0x498215['SentenceSplitter']='sentence-splitter',_0x498215[_0x21d5c1(0x2b9)]=_0x21d5c1(0x707),_0x498215[_0x21d5c1(0x23a)]=_0x21d5c1(0x306),_0x498215['Reranker']=_0x21d5c1(0x8f1),_0x498215[_0x21d5c1(0x7b2)]=_0x21d5c1(0x41a),_0x498215[_0x21d5c1(0x963)]=_0x21d5c1(0x5fe),_0x498215[_0x21d5c1(0x162)]=_0x21d5c1(0x82f),_0x498215[_0x21d5c1(0x453)]=_0x21d5c1(0x1b0),_0x498215[_0x21d5c1(0x33d)]='vector-database',_0x498215['GraphDatabase']=_0x21d5c1(0x674),_0x498215[_0x21d5c1(0x86c)]=_0x21d5c1(0x929),_0x498215[_0x21d5c1(0x6f3)]=_0x21d5c1(0x5bb);}(_0x303f13||(_0x303f13={})),function(_0x218c2d){const _0x37fc36=_0xdcbb79;_0x218c2d[_0x37fc36(0x4a9)]='file',_0x218c2d[_0x37fc36(0x5fa)]=_0x37fc36(0x5b1),_0x218c2d[_0x37fc36(0x6d5)]=_0x37fc36(0x658),_0x218c2d[_0x37fc36(0x8d7)]=_0x37fc36(0x82e),_0x218c2d['Data']=_0x37fc36(0x78e),_0x218c2d[_0x37fc36(0x53c)]=_0x37fc36(0x843),_0x218c2d[_0x37fc36(0x272)]='entity',_0x218c2d['Relation']=_0x37fc36(0xa68),_0x218c2d[_0x37fc36(0x49d)]=_0x37fc36(0x96f),_0x218c2d['Index']=_0x37fc36(0x959),_0x218c2d['Knowledge']=_0x37fc36(0x9c8),_0x218c2d[_0x37fc36(0x8d5)]=_0x37fc36(0x4db);}(_0x512626||(_0x512626={}));class _0x36c605{static [_0xdcbb79(0x6f7)];constructor(){}static[_0xdcbb79(0x626)](){const _0x1d9294=_0xdcbb79;return _0x36c605['instance']||(_0x36c605[_0x1d9294(0x6f7)]=new _0x36c605()),_0x36c605['instance'];}async[_0xdcbb79(0x3f6)](_0x377948,_0x4f5817){const _0x10ba95=_0xdcbb79,_0x3fa558=await(0x0,_0x34d3c5[_0x10ba95(0x30a)])((0x0,_0x34d3c5[_0x10ba95(0x6c3)])(_0x35c568[_0x10ba95(0x152)](),'/developers/'+_0x377948+_0x10ba95(0x8b7)+_0x4f5817)),_0x51f139=await this[_0x10ba95(0xa24)](_0x377948),_0x5ce56d=await this['getDataCollections'](_0x377948),_0x3b6530=await this[_0x10ba95(0x5b5)](_0x377948),_0x1a782f=await this[_0x10ba95(0x75d)](_0x377948),_0x4c852e=await this['getGrammars'](_0x377948);if(!_0x3fa558[_0x10ba95(0x547)]())throw new _0x3c9628(_0x3c9628['codes'][_0x10ba95(0x497)]);return this[_0x10ba95(0x501)](_0x3fa558,_0x51f139,_0x5ce56d,_0x3b6530,_0x1a782f,_0x4c852e);}['parseWorkflowDocument'](_0x53e626,_0x3e2c12,_0x5762a4,_0x5cf095,_0x4cafad,_0x22a1a2){const _0x1f2646=_0xdcbb79,_0x2185d6=_0x53e626[_0x1f2646(0x78e)]();if(!_0x2185d6)throw new _0x3c9628(_0x3c9628[_0x1f2646(0x994)][_0x1f2646(0x497)]);const _0x45ed3b=_0x2185d6[_0x1f2646(0x1e5)]&&_0x2185d6['versions']?_0x2185d6[_0x1f2646(0x9d5)][_0x2185d6[_0x1f2646(0x1e5)]-0x1]:_0x2185d6,_0x52e972=this['parseWorkflowBlocks'](_0x45ed3b['blocks'],_0x3e2c12,_0x5762a4,_0x5cf095,_0x22a1a2);return{'id':_0x53e626['id'],'modelsBucketId':_0x2185d6[_0x1f2646(0x8c7)],'blocks':_0x52e972,'models':this['getWorkflowModels'](_0x52e972,_0x4cafad),'dataBucketIds':this[_0x1f2646(0x5fd)](_0x52e972),'externalStorageConnectionIds':this[_0x1f2646(0x38b)](_0x52e972)};}[_0xdcbb79(0xa05)](_0x49f1c7,_0x259136){const _0x3cda4a=_0xdcbb79,_0x3c3dc0=new Set();for(const _0x388651 of _0x49f1c7)if(_0x388651[_0x3cda4a(0x8fa)]!==_0x9e7c8[_0x3cda4a(0x963)]&&_0x388651[_0x3cda4a(0x8fa)]!==_0x9e7c8[_0x3cda4a(0x20e)]||_0x3c3dc0['add'](_0x388651[_0x3cda4a(0x54b)]),_0x388651['type']===_0x9e7c8[_0x3cda4a(0x8e2)]||_0x388651['type']===_0x9e7c8['DataCollection']){for(const _0x4f1d79 of[..._0x388651['ingestBlocks'],..._0x388651[_0x3cda4a(0x3e7)]])_0x4f1d79['type']===_0x303f13['Model']&&_0x3c3dc0[_0x3cda4a(0x164)](_0x4f1d79['id']),_0x4f1d79[_0x3cda4a(0x8fa)]===_0x303f13[_0x3cda4a(0x963)]&&_0x3c3dc0[_0x3cda4a(0x164)](_0x4f1d79[_0x3cda4a(0x54b)]);}return Array[_0x3cda4a(0x6dd)](_0x3c3dc0)[_0x3cda4a(0x945)](_0x499ed0=>{const _0x3f956c=_0x3cda4a,{id:_0x374f22,engineType:_0xeb7f90,taskType:_0x1c324b,inputType:_0x59df29,outputType:_0x56e7ff,sourceUrl:_0x5b8857}=_0x259136[_0x3f956c(0x39d)](_0x1ce8da=>_0x1ce8da['id']===_0x499ed0);return{'id':_0x374f22,'engineType':_0xeb7f90,'taskType':_0x1c324b,'inputType':_0x59df29,'outputType':_0x56e7ff,'sourceUrl':_0x5b8857};});}[_0xdcbb79(0x5fd)](_0x3bbd32){const _0x1b81a2=_0xdcbb79,_0x1655ab=new Set();for(const _0x439295 of _0x3bbd32)switch(_0x439295[_0x1b81a2(0x8fa)]){case _0x9e7c8[_0x1b81a2(0x8e2)]:case _0x9e7c8[_0x1b81a2(0x2f1)]:for(const _0x3631c1 of[..._0x439295[_0x1b81a2(0x31e)],..._0x439295[_0x1b81a2(0x3e7)]])_0x3631c1[_0x1b81a2(0x8fa)]===_0x303f13[_0x1b81a2(0x96c)]&&_0x1655ab[_0x1b81a2(0x164)](_0x3631c1['id']);}return Array[_0x1b81a2(0x6dd)](_0x1655ab);}[_0xdcbb79(0x38b)](_0x5961ae){const _0xfb243d=_0xdcbb79,_0x2f5c22=new Set();for(const _0x21137f of _0x5961ae)switch(_0x21137f['type']){case _0x9e7c8[_0xfb243d(0x8e2)]:case _0x9e7c8[_0xfb243d(0x2f1)]:for(const _0x3e8bbe of[..._0x21137f[_0xfb243d(0x31e)],..._0x21137f[_0xfb243d(0x3e7)]])_0x3e8bbe[_0xfb243d(0x8fa)]===_0x303f13[_0xfb243d(0x2d5)]&&_0x2f5c22['add'](_0x3e8bbe['id']);}return Array[_0xfb243d(0x6dd)](_0x2f5c22);}[_0xdcbb79(0x63c)](_0x9297ef,_0x460558,_0x5e9dc1,_0x1ca61d,_0xf1024e){const _0x25d11d=_0xdcbb79;return _0x9297ef[_0x25d11d(0x945)](_0x5781a1=>{const _0x3a7608=_0x25d11d;switch(_0x5781a1[_0x3a7608(0x8fa)]){case _0x9e7c8[_0x3a7608(0x963)]:case _0x9e7c8[_0x3a7608(0x20e)]:const _0x866111=_0x460558[_0x3a7608(0x39d)](_0x573574=>_0x573574['id']===_0x5781a1['id']);if(!_0x866111)throw new _0x3c9628(_0x3c9628[_0x3a7608(0x994)][_0x3a7608(0x751)],{'block':_0x5781a1});const _0x479f4e=_0x5781a1[_0x3a7608(0x2ec)]&&_0x866111[_0x3a7608(0x9d5)]?_0x866111['versions'][_0x5781a1[_0x3a7608(0x2ec)]-0x1]:_0x866111;return{'type':_0x866111['type'],'id':_0x866111['id'],'uid':_0x5781a1[_0x3a7608(0x253)],'name':_0x479f4e[_0x3a7608(0x181)],'description':_0x479f4e[_0x3a7608(0xa25)],'instructions':_0x479f4e[_0x3a7608(0x20b)],'contextInputVariable':_0x479f4e[_0x3a7608(0x2f8)],'contextOutputVariable':_0x479f4e[_0x3a7608(0x561)],'showSkillOutput':_0x479f4e[_0x3a7608(0xa17)],'grammar':[_0x3a7608(0x64c),_0x3a7608(0x850),'json_arr'][_0x3a7608(0x949)](_0x479f4e[_0x3a7608(0x9ff)])?_0x479f4e[_0x3a7608(0x9ff)]:_0xf1024e[_0x3a7608(0x39d)](_0x8194e0=>_0x8194e0['id']===_0x479f4e['grammar'])[_0x3a7608(0x7bd)],'temperature':_0x479f4e[_0x3a7608(0x595)],'maxTokens':_0x479f4e[_0x3a7608(0x9d0)],'modelId':_0x479f4e[_0x3a7608(0x54b)],'links':_0x5781a1[_0x3a7608(0x2ac)],'version':_0x5781a1['version']};case _0x9e7c8[_0x3a7608(0x8e2)]:case _0x9e7c8['DataCollection']:const _0x4f8bb=_0x5e9dc1[_0x3a7608(0x39d)](_0x1c483e=>_0x1c483e['id']===_0x5781a1['id']);if(!_0x4f8bb)throw new _0x3c9628(_0x3c9628[_0x3a7608(0x994)][_0x3a7608(0x751)],{'block':_0x5781a1});const _0x42b5cb=_0x5781a1[_0x3a7608(0x2ec)]&&_0x4f8bb[_0x3a7608(0x9d5)]?_0x4f8bb['versions'][_0x5781a1[_0x3a7608(0x2ec)]-0x1]:_0x4f8bb;return{'type':_0x5781a1['type'],'id':_0x4f8bb['id'],'uid':_0x5781a1[_0x3a7608(0x253)],'name':_0x42b5cb[_0x3a7608(0x181)],'description':_0x42b5cb[_0x3a7608(0xa25)],'ingestBlocks':this['parseDataCollectionBlocks'](_0x42b5cb[_0x3a7608(0x31e)],_0x460558),'retrieveBlocks':this[_0x3a7608(0xa4e)](_0x42b5cb[_0x3a7608(0x3e7)],_0x460558),'links':_0x5781a1[_0x3a7608(0x2ac)],'version':_0x5781a1[_0x3a7608(0x2ec)]};case _0x9e7c8[_0x3a7608(0x3e8)]:const _0x103cfa=_0x1ca61d['find'](_0x16f1ae=>_0x16f1ae['id']===_0x5781a1['id']);if(!_0x103cfa)throw new _0x3c9628(_0x3c9628[_0x3a7608(0x994)][_0x3a7608(0x751)],{'block':_0x5781a1});return{'type':_0x5781a1['type'],'id':_0x103cfa['id'],'uid':_0x5781a1[_0x3a7608(0x253)],'name':_0x103cfa[_0x3a7608(0x181)],'description':_0x103cfa[_0x3a7608(0xa25)],'parameters':_0x103cfa[_0x3a7608(0x541)],'endpointUrl':_0x103cfa[_0x3a7608(0xa31)],'endpointMethod':_0x103cfa['endpointMethod'],'accessToken':_0x103cfa['accessToken'],'queryParameters':_0x103cfa[_0x3a7608(0x8df)],'bodyParameters':_0x103cfa[_0x3a7608(0x1f7)],'links':_0x5781a1[_0x3a7608(0x2ac)]};case _0x9e7c8['Prompt']:case _0x9e7c8[_0x3a7608(0x2d1)]:case _0x9e7c8[_0x3a7608(0x9ad)]:case _0x9e7c8[_0x3a7608(0x4ef)]:case _0x9e7c8[_0x3a7608(0x49d)]:case _0x9e7c8[_0x3a7608(0x804)]:case _0x9e7c8[_0x3a7608(0x251)]:case _0x9e7c8[_0x3a7608(0x286)]:return{'type':_0x5781a1[_0x3a7608(0x8fa)],'id':_0x5781a1['id'],'uid':_0x5781a1[_0x3a7608(0x253)],'links':_0x5781a1[_0x3a7608(0x2ac)]};case _0x9e7c8['ChunkSplitter']:case _0x9e7c8[_0x3a7608(0x9be)]:return{'type':_0x5781a1[_0x3a7608(0x8fa)],'id':_0x5781a1['id'],'uid':_0x5781a1[_0x3a7608(0x253)],'links':_0x5781a1[_0x3a7608(0x2ac)],'attributes':_0x5781a1['attributes']};default:throw new _0x3c9628(_0x3c9628[_0x3a7608(0x994)][_0x3a7608(0x751)],{'block':_0x5781a1});}});}['parseDataCollectionBlocks'](_0x349348,_0x23acc8){const _0x5c3949=_0xdcbb79;return _0x349348[_0x5c3949(0x945)](_0xca6051=>{const _0x3699a4=_0x5c3949;switch(_0xca6051[_0x3699a4(0x8fa)]){case _0x303f13[_0x3699a4(0x963)]:const _0x3314dc=_0x23acc8[_0x3699a4(0x39d)](_0x58fe96=>_0x58fe96['id']===_0xca6051['id']);if(!_0x3314dc)throw new _0x3c9628(_0x3c9628[_0x3699a4(0x994)][_0x3699a4(0x751)],{'block':_0xca6051});const _0x58451b=_0xca6051[_0x3699a4(0x2ec)]&&_0x3314dc[_0x3699a4(0x9d5)]?_0x3314dc[_0x3699a4(0x9d5)][_0xca6051[_0x3699a4(0x2ec)]-0x1]:_0x3314dc;return{'type':_0xca6051['type'],'id':_0xca6051['id'],'uid':_0xca6051[_0x3699a4(0x253)],'description':_0x58451b[_0x3699a4(0xa25)],'instructions':_0x58451b[_0x3699a4(0x20b)],'grammar':_0x58451b[_0x3699a4(0x9ff)],'temperature':_0x58451b[_0x3699a4(0x595)],'maxTokens':_0x58451b['maxTokens'],'modelId':_0x58451b[_0x3699a4(0x54b)],'links':_0xca6051[_0x3699a4(0x2ac)],'version':_0xca6051[_0x3699a4(0x2ec)]};case _0x303f13['GraphDatabase']:case _0x303f13[_0x3699a4(0x33d)]:case _0x303f13[_0x3699a4(0x9be)]:case _0x303f13[_0x3699a4(0x931)]:case _0x303f13['EntityExtractor']:case _0x303f13[_0x3699a4(0xa69)]:return{'type':_0xca6051[_0x3699a4(0x8fa)],'id':_0xca6051['id'],'uid':_0xca6051[_0x3699a4(0x253)],'links':_0xca6051[_0x3699a4(0x2ac)],'attributes':_0xca6051[_0x3699a4(0x714)]};case _0x303f13[_0x3699a4(0x7b2)]:case _0x303f13['ObjectStorageBucket']:case _0x303f13[_0x3699a4(0x453)]:case _0x303f13[_0x3699a4(0x2b9)]:case _0x303f13[_0x3699a4(0x2a6)]:case _0x303f13['SentenceSplitter']:case _0x303f13[_0x3699a4(0x96c)]:case _0x303f13[_0x3699a4(0x2d5)]:case _0x303f13[_0x3699a4(0x6f3)]:case _0x303f13[_0x3699a4(0x86c)]:return{'type':_0xca6051['type'],'id':_0xca6051['id'],'uid':_0xca6051[_0x3699a4(0x253)],'links':_0xca6051[_0x3699a4(0x2ac)]};default:throw new _0x3c9628(_0x3c9628['codes']['WorkflowInvalidBlockType'],{'block':_0xca6051});}});}async[_0xdcbb79(0xa24)](_0x2997a1){const _0x4d8ff7=_0xdcbb79;return(await(0x0,_0x34d3c5['getDocs'])((0x0,_0x34d3c5[_0x4d8ff7(0x4d2)])(_0x35c568[_0x4d8ff7(0x152)](),'/developers/'+_0x2997a1+_0x4d8ff7(0x718))))['docs'][_0x4d8ff7(0x945)](_0x326e69=>{const _0x1831a3=_0x4d8ff7,_0x22aceb=_0x326e69[_0x1831a3(0x78e)]();return{'type':_0x9e7c8[_0x1831a3(0x963)],'id':_0x326e69['id'],'name':_0x22aceb['name'],'description':_0x22aceb['description'],'instructions':_0x22aceb['instructions'],'contextInputVariable':_0x22aceb[_0x1831a3(0x2f8)],'contextOutputVariable':_0x22aceb['contextOutputVariable'],'showSkillOutput':_0x22aceb[_0x1831a3(0xa17)]??!0x0,'grammar':_0x22aceb[_0x1831a3(0x9ff)]??'default','temperature':_0x22aceb[_0x1831a3(0x595)],'maxTokens':_0x22aceb['maxTokens'],'modelId':_0x22aceb[_0x1831a3(0x54b)],'versions':_0x22aceb[_0x1831a3(0x9d5)]};});}async[_0xdcbb79(0x9b0)](_0x4b5c31){const _0x4c1dcf=_0xdcbb79;return(await(0x0,_0x34d3c5[_0x4c1dcf(0x59a)])((0x0,_0x34d3c5[_0x4c1dcf(0x4d2)])(_0x35c568[_0x4c1dcf(0x152)](),_0x4c1dcf(0x371)+_0x4b5c31+_0x4c1dcf(0x423))))[_0x4c1dcf(0x91d)]['map'](_0xe36cba=>{const _0x343f20=_0x4c1dcf,_0x2de6fb=_0xe36cba[_0x343f20(0x78e)]();return{'type':_0x9e7c8[_0x343f20(0x2f1)],'id':_0xe36cba['id'],'name':_0x2de6fb['name'],'description':_0x2de6fb[_0x343f20(0xa25)],'ingestBlocks':_0x2de6fb[_0x343f20(0x31e)],'retrieveBlocks':_0x2de6fb[_0x343f20(0x3e7)],'versions':_0x2de6fb[_0x343f20(0x9d5)]};});}async[_0xdcbb79(0x5b5)](_0x2aeaae){const _0x18f3aa=_0xdcbb79;return(await(0x0,_0x34d3c5[_0x18f3aa(0x59a)])((0x0,_0x34d3c5[_0x18f3aa(0x4d2)])(_0x35c568[_0x18f3aa(0x152)](),'/developers/'+_0x2aeaae+'/resources/generative-ai-skill/items')))['docs'][_0x18f3aa(0x945)](_0x268116=>{const _0x25e7e1=_0x18f3aa,_0x526d89=_0x268116[_0x25e7e1(0x78e)]();return{'type':_0x9e7c8[_0x25e7e1(0x3e8)],'id':_0x268116['id'],'name':_0x526d89['name'],'description':_0x526d89[_0x25e7e1(0xa25)],'parameters':_0x526d89[_0x25e7e1(0x541)],'endpointUrl':_0x526d89['endpointUrl'],'endpointMethod':_0x526d89[_0x25e7e1(0x1b5)],'accessToken':_0x526d89['accessToken'],'queryParameters':_0x526d89[_0x25e7e1(0x8df)],'bodyParameters':_0x526d89['bodyParameters']};});}async[_0xdcbb79(0x3b7)](_0x93b20a){const _0x3e83df=_0xdcbb79;return(await(0x0,_0x34d3c5['getDocs'])((0x0,_0x34d3c5[_0x3e83df(0x4d2)])(_0x35c568[_0x3e83df(0x152)](),_0x3e83df(0x371)+_0x93b20a+_0x3e83df(0x7e8))))[_0x3e83df(0x91d)]['map'](_0xbda97e=>{const _0x1b17a8=_0x3e83df,_0x98eb17=_0xbda97e[_0x1b17a8(0x78e)]();return{'id':_0xbda97e['id'],'name':_0x98eb17['name'],'description':_0x98eb17['description'],'content':_0x98eb17[_0x1b17a8(0x7bd)]};});}async[_0xdcbb79(0x75d)](_0x59c41f){const _0x64fd52=_0xdcbb79;return(await(0x0,_0x34d3c5[_0x64fd52(0x59a)])((0x0,_0x34d3c5[_0x64fd52(0x4d2)])(_0x35c568['getFirestore'](),'/developers/'+_0x59c41f+_0x64fd52(0x829))))[_0x64fd52(0x91d)][_0x64fd52(0x945)](_0x1fe34f=>{const _0x507e56=_0x64fd52,_0x391a83=_0x1fe34f['data']();return{'id':_0x1fe34f['id'],'modelName':_0x391a83['modelName'],'engineType':_0x391a83[_0x507e56(0x9d6)],'taskType':_0x391a83[_0x507e56(0x4d5)],'inputType':_0x391a83[_0x507e56(0x2a2)]??_0x410512['GenerativeAIModelInputType'][_0x507e56(0x5fa)],'outputType':_0x391a83[_0x507e56(0x88e)]??_0x410512[_0x507e56(0x65a)][_0x507e56(0x5fa)],'sourceUrl':_0x391a83[_0x507e56(0x840)]};});}}const _0x569d76=_0x36c605['getInstance']();class _0x195873 extends _0x3beba2{[_0xdcbb79(0x99b)];['vendorId'];[_0xdcbb79(0x858)]=0x0;[_0xdcbb79(0x7c5)]=0x0;[_0xdcbb79(0x1b9)];constructor(_0x242ce6,_0x4cde0d,_0x3ce7fd,_0x35aef0){const _0x2dbfaa=_0xdcbb79;super(_0x242ce6,_0x4cde0d,_0x35aef0),this[_0x2dbfaa(0x99b)]=_0x242ce6,this[_0x2dbfaa(0x8de)]=_0x3ce7fd,this[_0x2dbfaa(0x393)]();}['destroy'](){const _0x2a4a25=_0xdcbb79;this['debounceStats']&&(clearTimeout(this[_0x2a4a25(0x1b9)]),delete this[_0x2a4a25(0x1b9)]),super[_0x2a4a25(0x4f6)]();}['reset'](){const _0x36f88f=_0xdcbb79;this[_0x36f88f(0x858)]=0x0,this[_0x36f88f(0x7c5)]=0x0,this[_0x36f88f(0x393)](),super[_0x36f88f(0x337)]();}[_0xdcbb79(0x75b)](_0x510df4){const _0x3f9035=_0xdcbb79,_0x15ea3d=_0x3f9035(0xa1a)+(0x0,_0x539333['v4'])();switch(_0x510df4[_0x3f9035(0x8fa)]){case'prompt':let _0x1b8f39=!0x1;const _0xcff2f7=()=>{const _0x23488a=_0x3f9035;if(_0x1b8f39)throw new _0x3c9628(_0x3c9628[_0x23488a(0x994)]['GenerativeAIContextJobAlreadyConsumed']);_0x1b8f39=!0x0;},_0x51c867=()=>(_0xcff2f7(),this[_0x3f9035(0x929)](_0x15ea3d,_0x510df4['prompt'],_0x510df4[_0x3f9035(0x581)])),_0x116f5c=()=>(_0xcff2f7(),this[_0x3f9035(0x52f)](_0x15ea3d,_0x510df4['prompt'],_0x510df4[_0x3f9035(0x581)]));return{'id':_0x15ea3d,'prompt':_0x510df4['prompt'],'options':_0x510df4[_0x3f9035(0x581)]??{'threadId':_0x3f9035(0x25c)+(0x0,_0x539333['v4'])()},'run':_0x51c867,'stream':_0x116f5c};case _0x3f9035(0x71e):let _0xe18db0=!0x1;const _0x5d788b=()=>{const _0x9eae5b=_0x3f9035;if(_0xe18db0)throw new _0x3c9628(_0x3c9628[_0x9eae5b(0x994)][_0x9eae5b(0x4ba)]);_0xe18db0=!0x0;},_0x2012bc=()=>(_0x5d788b(),this[_0x3f9035(0x69b)](_0x15ea3d,_0x510df4['rating'],_0x510df4['jobId'],_0x510df4[_0x3f9035(0x581)]));if(!_0x510df4[_0x3f9035(0x581)]?.['threadId'])throw new _0x5df866(_0x29ef36[_0x3f9035(0x2bc)],_0x3f9035(0x4d9));return{'id':_0x15ea3d,'rating':_0x510df4[_0x3f9035(0x974)],'options':_0x510df4[_0x3f9035(0x581)]??{'threadId':'thread-'+(0x0,_0x539333['v4'])()},'rate':_0x2012bc};case _0x3f9035(0xa77):let _0x502c04=!0x1;const _0x4d1479=()=>{const _0x33a8d2=_0x3f9035;if(_0x502c04)throw new _0x3c9628(_0x3c9628[_0x33a8d2(0x994)][_0x33a8d2(0x4ba)]);_0x502c04=!0x0;};return{'id':_0x15ea3d,'objectStoreId':'','documentPath':_0x510df4[_0x3f9035(0x477)],'download':()=>(_0x4d1479(),this[_0x3f9035(0x2ee)](_0x15ea3d,_0x510df4[_0x3f9035(0x851)],_0x510df4['documentPath']))};}}async[_0xdcbb79(0x184)](_0x139d05){const _0x217138=_0xdcbb79;return this[_0x217138(0x75b)](_0x139d05)[_0x217138(0x71e)]();}async[_0xdcbb79(0xa77)](_0x308b41){const _0x3199e7=_0xdcbb79,_0x4ed327={'type':_0x3199e7(0xa77),'objectStoreId':'','documentPath':_0x308b41};return this['createAIJob'](_0x4ed327)[_0x3199e7(0x1a1)]();}async[_0xdcbb79(0x69b)](_0x53cde5,_0x28e987,_0x57bb4a,{threadId:_0xbf8795,feedback:_0x1ded49=''}){const _0x4d7e91=_0xdcbb79,_0x51ec14={'type':_0x4d7e91(0x71e),'jobId':_0x57bb4a,'threadId':_0xbf8795,'rating':_0x28e987,'feedback':_0x1ded49},_0x427986=await this[_0x4d7e91(0x48b)](_0x53cde5,_0x410512[_0x4d7e91(0x417)][_0x4d7e91(0x57d)],_0x51ec14,{'threadId':_0xbf8795,'feedback':_0x1ded49});return new Promise((_0x2fb81a,_0x42a7b5)=>{const _0x24b1ad=_0x4d7e91;let _0x134673;const _0x35dc9d=_0x427986[_0x24b1ad(0x917)]({'next':_0x163da1=>{const _0x7660b1=_0x24b1ad;switch(_0x163da1['status']){case _0x410512[_0x7660b1(0x246)][_0x7660b1(0x46c)]:clearTimeout(_0x134673),_0x2fb81a(_0x163da1['result']),_0x35dc9d[_0x7660b1(0x1aa)]();break;case _0x410512['JobStatus'][_0x7660b1(0x502)]:clearTimeout(_0x134673),_0x42a7b5(new _0x3c9628(_0x3c9628[_0x7660b1(0x994)][_0x7660b1(0x1e4)],{'updatedJob':_0x163da1})),_0x35dc9d['unsubscribe']();}},'error':_0x153601=>{const _0x32ff2f=_0x24b1ad;clearTimeout(_0x134673),_0x42a7b5(new _0x3c9628(_0x3c9628['codes'][_0x32ff2f(0x1e4)],{'err':_0x153601})),_0x35dc9d[_0x32ff2f(0x1aa)]();}});_0x134673=setTimeout(()=>{const _0x2deb07=_0x24b1ad;_0x42a7b5(new _0x3c9628(_0x3c9628[_0x2deb07(0x994)]['GenerativeAIContextJobTimeout'])),_0x35dc9d[_0x2deb07(0x1aa)]();},_0x246b04);});}async['internalDownloadDocument'](_0xc57738,_0x711af2,_0x93fc6c){const _0xd84398=_0xdcbb79,_0x46eded={'type':_0xd84398(0xa77),'objectStoreId':_0x711af2,'documentPath':_0x93fc6c,'threadId':'thread-'+(0x0,_0x539333['v4'])()},_0x325699=await this['getJobObservable'](_0xc57738,_0x410512['JobType'][_0xd84398(0x57d)],_0x46eded);return new Promise((_0x11be3e,_0x15f972)=>{const _0x9a50f0=_0xd84398;let _0x3507f3;const _0x56685b=_0x325699[_0x9a50f0(0x917)]({'next':_0x13b837=>{const _0x5376ea=_0x9a50f0;switch(_0x13b837[_0x5376ea(0x6e0)]){case _0x410512[_0x5376ea(0x246)][_0x5376ea(0x46c)]:clearTimeout(_0x3507f3),_0x11be3e(_0x13b837['result']),_0x56685b[_0x5376ea(0x1aa)]();break;case _0x410512['JobStatus']['Failed']:clearTimeout(_0x3507f3),_0x15f972(new _0x3c9628(_0x3c9628['codes'][_0x5376ea(0x1e4)],{'updatedJob':_0x13b837})),_0x56685b[_0x5376ea(0x1aa)]();}},'error':_0x225e9e=>{const _0x27f802=_0x9a50f0;clearTimeout(_0x3507f3),_0x15f972(new _0x3c9628(_0x3c9628[_0x27f802(0x994)]['GenerativeAIContextJobFailed'],{'err':_0x225e9e})),_0x56685b['unsubscribe']();}});_0x3507f3=setTimeout(()=>{const _0x2fcf1e=_0x9a50f0;_0x15f972(new _0x3c9628(_0x3c9628[_0x2fcf1e(0x994)][_0x2fcf1e(0x980)])),_0x56685b[_0x2fcf1e(0x1aa)]();},_0x246b04);});}async[_0xdcbb79(0x929)](_0x47461e,_0x5c7f02,_0x3f46f1){const _0x2248f5=_0xdcbb79,_0x5b4669={'type':'prompt','prompt':_0x5c7f02,'threadId':_0x3f46f1?.[_0x2248f5(0x9e8)]??'thread-'+(0x0,_0x539333['v4'])()},_0x246c71=await this[_0x2248f5(0x48b)](_0x47461e,_0x410512[_0x2248f5(0x417)][_0x2248f5(0x57d)],_0x5b4669,_0x3f46f1);return new Promise((_0x54636b,_0x107403)=>{let _0x1cd591;const _0x494330=_0x246c71['subscribe']({'next':_0x2a3fc7=>{const _0x1da2f9=a0_0x27c7;switch(_0x2a3fc7[_0x1da2f9(0x6e0)]){case _0x410512[_0x1da2f9(0x246)][_0x1da2f9(0x46c)]:if(_0x1da2f9(0x929)!==_0x2a3fc7[_0x1da2f9(0x4bb)]['type'])return;const _0x5e9018=_0x2a3fc7[_0x1da2f9(0x4bb)]['inputTokens']??0x0;this[_0x1da2f9(0x6bf)](_0x5c7f02,_0x5e9018),clearTimeout(_0x1cd591),_0x54636b(_0x2a3fc7[_0x1da2f9(0x4bb)]),_0x494330[_0x1da2f9(0x1aa)](),this[_0x1da2f9(0x858)]+=0x1,this[_0x1da2f9(0x7c5)]+=_0x5e9018,this[_0x1da2f9(0x393)]();break;case _0x410512['JobStatus'][_0x1da2f9(0x502)]:clearTimeout(_0x1cd591),_0x107403(new _0x3c9628(_0x3c9628[_0x1da2f9(0x994)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x2a3fc7})),_0x494330['unsubscribe'](),this[_0x1da2f9(0x393)]();}},'error':_0x2f7105=>{const _0x4e8474=a0_0x27c7;clearTimeout(_0x1cd591),_0x107403(new _0x3c9628(_0x3c9628[_0x4e8474(0x994)][_0x4e8474(0x1e4)],{'err':_0x2f7105})),_0x494330['unsubscribe']();}});_0x1cd591=setTimeout(()=>{const _0x2502eb=a0_0x27c7;_0x107403(new _0x3c9628(_0x3c9628[_0x2502eb(0x994)][_0x2502eb(0x980)])),_0x494330['unsubscribe']();},_0x246b04);});}async*[_0xdcbb79(0x52f)](_0x3aed82,_0x2053a0,_0x4398f6){const _0x4cf68c=_0xdcbb79,_0x22e46d={'type':_0x4cf68c(0x929),'prompt':_0x2053a0,'threadId':_0x4398f6?.[_0x4cf68c(0x9e8)]??'thread-'+(0x0,_0x539333['v4'])()},_0x56b984=await this[_0x4cf68c(0x48b)](_0x3aed82,_0x410512[_0x4cf68c(0x417)][_0x4cf68c(0x911)],_0x22e46d,_0x4398f6);let _0x394f5d,_0x44187a,_0x4127fe=!0x1,_0x9c03b0=0x0;const _0x5342f5=[],_0x4ba783=new Map();let _0x5bd121=null;const _0xa16e3a=()=>{_0x5bd121&&(_0x5bd121(),_0x5bd121=null);},_0x600608=_0x3042e0=>{const _0x1ac9aa=_0x4cf68c;_0x4127fe=!0x0,_0xa16e3a(),_0x45904f[_0x1ac9aa(0x1aa)](),_0x44187a=_0x3042e0;},_0x45904f=_0x56b984['subscribe']({'next':_0x58ebee=>{const _0x1c834a=_0x4cf68c;switch(_0x58ebee[_0x1c834a(0x6e0)]){case _0x410512[_0x1c834a(0x246)]['Partial']:if(_0x1c834a(0x929)!==_0x58ebee[_0x1c834a(0x4bb)][_0x1c834a(0x8fa)])return;if(_0x58ebee[_0x1c834a(0x4bb)]&&void 0x0!==_0x58ebee[_0x1c834a(0x4bb)][_0x1c834a(0x2f9)]){if(void 0x0===_0x58ebee[_0x1c834a(0x4bb)]['index'])return void _0x600608(_0x3c9628[_0x1c834a(0x994)]['GenerativeAIContextInvalidPartialResult']);_0x9c03b0===_0x58ebee[_0x1c834a(0x4bb)]['index']?(_0x5342f5[_0x1c834a(0x90d)](_0x58ebee['result']),_0x9c03b0++,((()=>{const _0x4f7f6c=_0x1c834a;for(;_0x4ba783[_0x4f7f6c(0x504)](_0x9c03b0);)_0x5342f5['push'](_0x4ba783[_0x4f7f6c(0x3ee)](_0x5342f5[_0x4f7f6c(0x454)])),_0x4ba783['delete'](_0x5342f5['length']),_0x9c03b0++;})()),_0xa16e3a(),_0x552405()):_0x4ba783[_0x1c834a(0x80a)](_0x58ebee[_0x1c834a(0x4bb)][_0x1c834a(0x959)],_0x58ebee['result']);}break;case _0x410512[_0x1c834a(0x246)][_0x1c834a(0x46c)]:if(_0x1c834a(0x929)!==_0x58ebee[_0x1c834a(0x4bb)][_0x1c834a(0x8fa)])return;const _0x493809=_0x58ebee['result'][_0x1c834a(0x99a)]??0x0;this[_0x1c834a(0x6bf)](_0x2053a0,_0x493809),clearTimeout(_0x394f5d),_0x600608(),this['prompts']+=0x1,this['tokens']+=_0x493809,this[_0x1c834a(0x393)]();break;case _0x410512[_0x1c834a(0x246)][_0x1c834a(0x502)]:clearTimeout(_0x394f5d),_0x600608(_0x3c9628[_0x1c834a(0x994)][_0x1c834a(0x1e4)]),this[_0x1c834a(0x393)]();}},'error':_0x40d62e=>{const _0x48a43f=_0x4cf68c;clearTimeout(_0x394f5d),_0x600608(_0x3c9628['codes'][_0x48a43f(0x1e4)]);}}),_0x1f657e=()=>{const _0x4bd968=_0x4cf68c;_0x600608(_0x3c9628[_0x4bd968(0x994)][_0x4bd968(0x980)]);},_0x552405=()=>{clearTimeout(_0x394f5d),_0x394f5d=setTimeout(_0x1f657e,_0x246b04);};for(_0x394f5d=setTimeout(_0x1f657e,_0x246b04);!_0x4127fe||_0x5342f5[_0x4cf68c(0x454)]>0x0;)_0x5342f5[_0x4cf68c(0x454)]>0x0?yield _0x5342f5[_0x4cf68c(0x46b)]():await new Promise(_0xbdb760=>_0x5bd121=_0xbdb760);if(_0x44187a)throw _0xbff73d['error'](_0x4cf68c(0x37f),{'nodeId':this[_0x4cf68c(0x99b)][_0x4cf68c(0xa10)](),'nodeType':this[_0x4cf68c(0x99b)]['type']}),new _0x3c9628(_0x44187a);}async[_0xdcbb79(0x1d2)](){const _0x2dfbf6=_0xdcbb79;return(await _0x569d76['getWorkflow'](this[_0x2dfbf6(0x8de)],this['label']))[_0x2dfbf6(0x882)];}['logServiceEvent'](_0x468b4a,_0x278ce0){const _0x1a38c8=_0xdcbb79,_0x2e96cd=this[_0x1a38c8(0x726)],_0xca3f1a=this[_0x1a38c8(0xa37)]();_0xbff73d['logServiceEvent'](_0x3a8602[_0x1a38c8(0x4e0)],{'topic':_0x2e96cd,'prompt':_0x468b4a,'type':_0x1a38c8(0x929),'nodeId':_0xca3f1a,'tokenCount':_0x278ce0});}async[_0xdcbb79(0x48b)](_0x3d3bc4,_0x15b49b,_0x3019c3,_0x492abb={}){const _0x116941=_0xdcbb79;let _0x10ee7d;switch(_0x3019c3['type']){case _0x116941(0x929):{const {threadId:_0x14c4f5}=_0x492abb;_0x10ee7d={'id':_0x3d3bc4,'jobType':_0x15b49b,'parameters':{..._0x492abb,'type':_0x116941(0x929),'prompt':_0x3019c3[_0x116941(0x929)],'threadId':_0x14c4f5},'status':_0x410512['JobStatus'][_0x116941(0x663)]};break;}case _0x116941(0x71e):{const {threadId:_0x50986d}=_0x492abb;_0x10ee7d={'id':_0x3d3bc4,'jobType':_0x15b49b,'parameters':{..._0x492abb,'type':_0x116941(0x71e),'jobId':_0x3019c3[_0x116941(0x452)],'rating':_0x3019c3[_0x116941(0x974)],'feedback':_0x3019c3[_0x116941(0x7ce)]??'','threadId':_0x50986d},'status':_0x410512[_0x116941(0x246)][_0x116941(0x663)]};break;}case _0x116941(0xa77):_0x10ee7d={'id':_0x3d3bc4,'jobType':_0x15b49b,'parameters':{..._0x492abb,'type':_0x116941(0xa77),'objectStoreId':_0x3019c3[_0x116941(0x851)],'documentPath':_0x3019c3['documentPath']},'status':_0x410512[_0x116941(0x246)][_0x116941(0x663)]};}return await this[_0x116941(0x2d6)](_0x10ee7d);}[_0xdcbb79(0x393)](){const _0x47b45d=_0xdcbb79;this[_0x47b45d(0x1b9)]&&clearTimeout(this[_0x47b45d(0x1b9)]),this[_0x47b45d(0x1b9)]=setTimeout(async()=>{const _0x24c923=_0x47b45d;delete this[_0x24c923(0x1b9)],this[_0x24c923(0x5df)][_0x24c923(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x24c923(0x6cf)],'content':{'type':_0x31d4ec[_0x24c923(0x594)],'label':this[_0x24c923(0x726)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x24c923(0x9b6)],'messagesReceived':this[_0x24c923(0x958)],'bytesSent':this[_0x24c923(0x82c)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x24c923(0x858)],'tokens':this['tokens']}}});},_0xe479f);}}var _0x431bce,_0x2e8125,_0x51e2ca,_0x1f107e,_0x396697,_0x565071,_0x4628dc,_0xc11c21,_0x5d124b,_0x163d68,_0xa2d18b;!function(_0x48acf8){const _0x135c2c=_0xdcbb79;_0x48acf8[_0x135c2c(0x730)]=_0x135c2c(0x730),_0x48acf8[_0x135c2c(0x623)]=_0x135c2c(0x623),_0x48acf8[_0x135c2c(0x3e0)]=_0x135c2c(0x3e0),_0x48acf8[_0x135c2c(0x7cd)]=_0x135c2c(0x7cd);}(_0x431bce||(_0x431bce={})),function(_0xc1a915){const _0x43dcef=_0xdcbb79;_0xc1a915[_0x43dcef(0x4ac)]=_0x43dcef(0x4ac),_0xc1a915['ModelVector']=_0x43dcef(0x3ca),_0xc1a915[_0x43dcef(0x7fd)]=_0x43dcef(0x7fd),_0xc1a915[_0x43dcef(0x23a)]=_0x43dcef(0x23a),_0xc1a915[_0x43dcef(0xa00)]=_0x43dcef(0xa00),_0xc1a915[_0x43dcef(0xa69)]='Reranker';}(_0x2e8125||(_0x2e8125={})),function(_0x4c9613){const _0x4b5a0a=_0xdcbb79;_0x4c9613[_0x4c9613['Debug']=0x0]=_0x4b5a0a(0x9a1),_0x4c9613[_0x4c9613[_0x4b5a0a(0xa01)]=0x5]=_0x4b5a0a(0xa01),_0x4c9613[_0x4c9613[_0x4b5a0a(0x82a)]=0xa]=_0x4b5a0a(0x82a),_0x4c9613[_0x4c9613[_0x4b5a0a(0x3bd)]=0xf]=_0x4b5a0a(0x3bd);}(_0x51e2ca||(_0x51e2ca={})),function(_0x362cb5){const _0x5dcd32=_0xdcbb79;_0x362cb5[_0x5dcd32(0x6ed)]=_0x5dcd32(0x6ed),_0x362cb5['Ingest']=_0x5dcd32(0x582),_0x362cb5['Knowledge']='Knowledge',_0x362cb5[_0x5dcd32(0x8d5)]=_0x5dcd32(0x8d5),_0x362cb5['Workflow']=_0x5dcd32(0x29a),_0x362cb5['Job']=_0x5dcd32(0x57d),_0x362cb5[_0x5dcd32(0x271)]=_0x5dcd32(0x271),_0x362cb5['Rating']=_0x5dcd32(0x973);}(_0x1f107e||(_0x1f107e={})),function(_0x5a5577){const _0x3a4680=_0xdcbb79;_0x5a5577[_0x3a4680(0x4c5)]=_0x3a4680(0x4c5),_0x5a5577[_0x3a4680(0x46c)]=_0x3a4680(0x46c);}(_0x396697||(_0x396697={})),function(_0x3504ba){const _0xf3c117=_0xdcbb79;_0x3504ba[_0xf3c117(0x323)]=_0xf3c117(0x323),_0x3504ba[_0xf3c117(0x254)]=_0xf3c117(0x254),_0x3504ba[_0xf3c117(0x2f1)]=_0xf3c117(0x2f1),_0x3504ba[_0xf3c117(0x8af)]=_0xf3c117(0x8af);}(_0x565071||(_0x565071={})),function(_0x9225d5){const _0x48a852=_0xdcbb79;_0x9225d5[_0x48a852(0x931)]=_0x48a852(0x931),_0x9225d5['DocumentParser']=_0x48a852(0x2a6),_0x9225d5['EntityExtractor']='EntityExtractor',_0x9225d5[_0x48a852(0x803)]=_0x48a852(0x803),_0x9225d5[_0x48a852(0x963)]='Agent',_0x9225d5[_0x48a852(0x4ac)]=_0x48a852(0x4ac),_0x9225d5['ModelVector']=_0x48a852(0x3ca),_0x9225d5['RelationExtractor']=_0x48a852(0x2b9),_0x9225d5['SentenceSplitter']=_0x48a852(0x286),_0x9225d5[_0x48a852(0x33d)]=_0x48a852(0x33d),_0x9225d5['WordSplitter']=_0x48a852(0x9be);}(_0x4628dc||(_0x4628dc={})),function(_0x481820){const _0x4cd72e=_0xdcbb79;_0x481820[_0x4cd72e(0x766)]=_0x4cd72e(0x766),_0x481820['GetContextResult']=_0x4cd72e(0x284);}(_0xc11c21||(_0xc11c21={})),function(_0x2839b9){const _0x373af3=_0xdcbb79;_0x2839b9[_0x373af3(0x1bf)]=_0x373af3(0x1bf),_0x2839b9[_0x373af3(0x971)]=_0x373af3(0x971),_0x2839b9['FetchUrl']=_0x373af3(0x8ae),_0x2839b9[_0x373af3(0x28a)]=_0x373af3(0x28a),_0x2839b9[_0x373af3(0x734)]=_0x373af3(0x734),_0x2839b9['ExecuteCustomSkill']='ExecuteCustomSkill';}(_0x5d124b||(_0x5d124b={})),function(_0xc72de3){const _0x3ad2ee=_0xdcbb79;_0xc72de3[_0x3ad2ee(0x812)]=_0x3ad2ee(0x812),_0xc72de3['LoadSkillFunction']=_0x3ad2ee(0x631);}(_0x163d68||(_0x163d68={})),function(_0x5a9b0b){const _0x57c0a=_0xdcbb79;_0x5a9b0b[_0x57c0a(0x47d)]=_0x57c0a(0x47d);}(_0xa2d18b||(_0xa2d18b={}));class _0x2d2337{static [_0xdcbb79(0x6f7)];[_0xdcbb79(0x1c9)]=[];[_0xdcbb79(0x8be)]=!0x1;constructor(){}static[_0xdcbb79(0x626)](){const _0x24bcf6=_0xdcbb79;return _0x2d2337[_0x24bcf6(0x6f7)]||(_0x2d2337[_0x24bcf6(0x6f7)]=new _0x2d2337()),_0x2d2337['instance'];}get[_0xdcbb79(0x454)](){const _0x188922=_0xdcbb79;return this[_0x188922(0x1c9)][_0x188922(0x454)];}['isAvailable'](){const _0x4d3664=_0xdcbb79;return!this[_0x4d3664(0x8be)];}['clear'](_0x7529a0){const _0x482e4b=_0xdcbb79;_0x7529a0?this[_0x482e4b(0x1c9)]=this[_0x482e4b(0x1c9)][_0x482e4b(0x4e9)](_0x26eb00=>_0x26eb00['ownerId']!==_0x7529a0):(this[_0x482e4b(0x1c9)]=[],this[_0x482e4b(0x8be)]=!0x1);}[_0xdcbb79(0x164)](_0x2b18a2,_0x1abba4){const _0x14cc5b=_0xdcbb79;this[_0x14cc5b(0x1c9)][_0x14cc5b(0x90d)]({'callback':_0x1abba4,'ownerId':_0x2b18a2}),this[_0x14cc5b(0x5fb)]();}async[_0xdcbb79(0x5fb)](){const _0x5302d1=_0xdcbb79;if(!this[_0x5302d1(0x8be)]){for(this[_0x5302d1(0x8be)]=!0x0;this[_0x5302d1(0x1c9)][_0x5302d1(0x454)]>0x0;){const _0x14a805=this[_0x5302d1(0x1c9)][_0x5302d1(0x46b)]();if(_0x14a805)try{console[_0x5302d1(0x790)]('JobQueueService:\x20Running\x20job'),await _0x14a805['callback']();}catch(_0x16b64b){console['error'](_0x5302d1(0x354),_0x16b64b);}}this[_0x5302d1(0x8be)]=!0x1;}}}const _0xb96ac7=_0x2d2337['getInstance']();class _0x5eb472 extends _0x2be12e{['capacityReporter'];['unsubscribeListener'];constructor(_0x457c5c,_0x208a59,_0x417276){const _0x4f68f3=_0xdcbb79;super(_0x457c5c,_0x208a59),this[_0x4f68f3(0x18d)]=_0x417276;}[_0xdcbb79(0x3aa)](){const _0x116979=_0xdcbb79;return _0x410512['ContentType'][_0x116979(0x57d)];}[_0xdcbb79(0x94b)](){this['subscribeToJobs']();}['close'](){const _0x48f77f=_0xdcbb79;this[_0x48f77f(0x5df)]?.[_0x48f77f(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x48f77f(0x6cf)],'content':{'type':_0x31d4ec[_0x48f77f(0x4dd)],'label':this[_0x48f77f(0x726)]}});}['reset'](){const _0x5d58fc=_0xdcbb79;this[_0x5d58fc(0x672)]?.(),delete this[_0x5d58fc(0x672)],this[_0x5d58fc(0x94b)]();}['destroy'](){const _0x3ca395=_0xdcbb79;_0xb96ac7[_0x3ca395(0x6d0)](this[_0x3ca395(0x726)]),this['unsubscribeListener']?.(),delete this[_0x3ca395(0x672)],super[_0x3ca395(0x4f6)]();}[_0xdcbb79(0x854)](){const _0x6dcf96=_0xdcbb79;return _0xb96ac7[_0x6dcf96(0x854)]();}[_0xdcbb79(0x474)](){return 0x1;}[_0xdcbb79(0x9a6)](_0x15fed5,_0x495822,_0x2fa237){}[_0xdcbb79(0x908)](_0x2b9154,_0x5e77b1){return _0x2b9154;}[_0xdcbb79(0x81d)](_0x198142,_0x398bcf){console['warn']('JobWorker:\x20Tracing\x20not\x20implemented');}[_0xdcbb79(0x9d8)](_0x515cc9,_0x280ab9){console['warn']('JobWorker:\x20Tracing\x20not\x20implemented');}[_0xdcbb79(0x706)](){const _0x1ff11a=_0xdcbb79;this['unsubscribeListener']||(this[_0x1ff11a(0x672)]=this[_0x1ff11a(0x312)]((_0x4bd58d,_0xc516f)=>{const _0x502596=_0x1ff11a;if(_0xbff73d[_0x502596(0x198)](_0x1f75f2[_0x502596(0x589)],_0x502596(0xa1d),_0xc516f),!(_0xc516f instanceof File)){if(this[_0x502596(0x564)](_0xc516f))_0xbff73d[_0x502596(0x198)](_0x1f75f2['Jobs'],_0x502596(0x179),_0xc516f),this['isAvailable']()?this[_0x502596(0xa0e)](_0xc516f['id'],_0xc516f[_0x502596(0x998)],_0x4bd58d):this[_0x502596(0x983)](_0xc516f['id'],_0xc516f[_0x502596(0x998)],_0x4bd58d);else{if(this[_0x502596(0x6e6)](_0xc516f)){_0xbff73d[_0x502596(0x198)](_0x1f75f2['Jobs'],_0x502596(0x7be),_0xc516f);const {id:_0x2e8c79,parameters:_0x35018b}=_0xc516f;this[_0x502596(0x81d)](_0x2e8c79,_0x35018b),_0xb96ac7['add'](this[_0x502596(0x726)],()=>this['handleJobAttribution'](_0xc516f['id'],_0xc516f,_0x4bd58d));}}}}));}[_0xdcbb79(0xa0e)](_0x5273af,_0x34f147,_0x39f1f5){const _0x3e1ad0=_0xdcbb79,_0x16ff72={'id':_0x5273af,'jobType':_0x34f147,'jobPhase':_0x4240da[_0x3e1ad0(0x429)],'available':!0x0,'queueLength':_0xb96ac7[_0x3e1ad0(0x454)],'bid':this['getBid']()};_0xbff73d[_0x3e1ad0(0x198)](_0x1f75f2[_0x3e1ad0(0x589)],'JobWorker:\x20Sending\x20job\x20bid',_0x16ff72),this[_0x3e1ad0(0x3da)](_0x16ff72,[_0x39f1f5]);}[_0xdcbb79(0x983)](_0x44eff9,_0x1c109e,_0x421b6e){const _0x486b4b=_0xdcbb79,_0x137117={'id':_0x44eff9,'jobType':_0x1c109e,'jobPhase':_0x4240da[_0x486b4b(0x429)],'available':!0x1,'queueLength':_0xb96ac7['length'],'bid':0x0};_0xbff73d[_0x486b4b(0x198)](_0x1f75f2[_0x486b4b(0x589)],_0x486b4b(0x2f7),_0x137117),this[_0x486b4b(0x3da)](_0x137117,[_0x421b6e]);}async[_0xdcbb79(0x5bc)](_0x4e2772,_0x15cc55,_0x189d7c){const _0x243133=_0xdcbb79;_0xbff73d[_0x243133(0x198)](_0x1f75f2['Jobs'],'JobWorker:\x20Handling\x20job\x20attribution',_0x15cc55);const _0x28ec89={'id':_0x4e2772,'jobType':_0x15cc55[_0x243133(0x998)],'parameters':_0x15cc55[_0x243133(0x541)]};try{switch(_0x15cc55[_0x243133(0x998)]){case _0x410512[_0x243133(0x417)][_0x243133(0x57d)]:await this['processJob'](_0x4e2772,_0x15cc55,_0x28ec89,_0x189d7c);break;case _0x410512[_0x243133(0x417)][_0x243133(0x911)]:await this[_0x243133(0x158)](_0x4e2772,_0x15cc55,_0x28ec89,_0x189d7c);break;default:throw new Error(_0x243133(0x848));}}catch(_0x557309){_0xbff73d[_0x243133(0x33f)](_0x243133(0x4a3),{'nodeId':this[_0x243133(0x1af)][_0x243133(0xa10)](),'nodeType':this[_0x243133(0x1af)][_0x243133(0x8fa)],'data':{'job':_0x28ec89}},_0x557309);const _0x59b414=_0x557309 instanceof Error?_0x557309[_0x243133(0x41d)]:'An\x20error\x20occurred',_0x10c95d={'id':_0x4e2772,'jobType':_0x15cc55['jobType'],'jobPhase':_0x4240da[_0x243133(0x502)],'message':_0x59b414};await this[_0x243133(0x3da)](_0x10c95d,[_0x189d7c]);}}async['processJob'](_0x450047,_0x2694b7,_0x5c8a5f,_0x1c2d8a){const _0x10d9cc=_0xdcbb79,_0x404648=Date[_0x10d9cc(0x667)](),_0x545b0c=await this[_0x10d9cc(0x60b)](_0x450047,_0x5c8a5f[_0x10d9cc(0x541)]);this['compileStats'](_0x545b0c,_0x404648,Date['now']());const _0x309555={'id':_0x450047,'jobType':_0x2694b7[_0x10d9cc(0x998)],'jobPhase':_0x4240da['Result'],'result':_0x545b0c};_0xbff73d[_0x10d9cc(0x198)](_0x1f75f2[_0x10d9cc(0x589)],_0x10d9cc(0x378),_0x309555),await this[_0x10d9cc(0x3da)](_0x309555,[_0x1c2d8a]),this[_0x10d9cc(0x9d8)](_0x450047,_0x5c8a5f['parameters']);}async[_0xdcbb79(0x158)](_0x36a31c,_0x352bea,_0x1dd7a8,_0x3e1e5a){const _0x534c20=_0xdcbb79,_0x45ea68=Date[_0x534c20(0x667)]();let _0x2db2b6=0x0,_0x38a31c={};for await(const _0x159618 of this[_0x534c20(0x48c)](_0x1dd7a8['id'],_0x1dd7a8[_0x534c20(0x541)])){const _0x28ce09={'id':_0x36a31c,'jobType':_0x352bea[_0x534c20(0x998)],'jobPhase':_0x4240da[_0x534c20(0x484)],'result':{..._0x159618,'index':_0x2db2b6}};_0xbff73d[_0x534c20(0x198)](_0x1f75f2[_0x534c20(0x589)],_0x534c20(0x784),_0x28ce09),this[_0x534c20(0x3da)](_0x28ce09,[_0x3e1e5a]),_0x38a31c=this[_0x534c20(0x908)](_0x38a31c,_0x159618),_0x2db2b6++;}this['compileStats'](_0x38a31c,_0x45ea68,Date[_0x534c20(0x667)]());const _0x1c7f8a={'id':_0x36a31c,'jobType':_0x352bea[_0x534c20(0x998)],'jobPhase':_0x4240da[_0x534c20(0x545)],'result':_0x38a31c};_0xbff73d['log'](_0x1f75f2[_0x534c20(0x589)],_0x534c20(0x378),_0x1c7f8a),await this[_0x534c20(0x3da)](_0x1c7f8a,[_0x3e1e5a]),this[_0x534c20(0x9d8)](_0x36a31c,_0x1dd7a8[_0x534c20(0x541)]);}[_0xdcbb79(0x564)](_0x2dedca){const _0x5c58a2=_0xdcbb79;return _0x2dedca[_0x5c58a2(0x800)]===_0x4240da[_0x5c58a2(0x8c1)];}[_0xdcbb79(0x6e6)](_0x2e2261){const _0x40989d=_0xdcbb79;return _0x2e2261['jobPhase']===_0x4240da[_0x40989d(0x562)];}}function _0x1c8b30(_0x1686a9,_0x5eb1d1){const _0x380c76=_0xdcbb79;return _0x380c76(0x32b)+_0x1686a9+'-'+_0x5eb1d1;}function _0x4cae66(){const _0x365a5f=_0xdcbb79,_0xdc7758=_0x830d90[_0x365a5f(0x408)](0x1);return _0xdc7758[_0x365a5f(0x42e)](_0x365a5f(0x6b5))['index']('id')[_0x365a5f(0x959)]('jobId')[_0x365a5f(0x959)]('agentId')[_0x365a5f(0x959)](_0x365a5f(0x9e8))[_0x365a5f(0x959)]('timestamp')[_0x365a5f(0x959)](_0x365a5f(0x4f5)),_0xdc7758;}function _0x5867f2(_0x1e5c53){const _0x5d7266=_0xdcbb79;try{return JSON[_0x5d7266(0x6fb)](_0x1e5c53);}catch(_0x1c38b9){return _0x1e5c53 instanceof Error?_0x1e5c53[_0x5d7266(0x298)]():JSON['stringify'](_0x5d7266(0x522));}}class _0x2a83b0{static [_0xdcbb79(0x6f7)];[_0xdcbb79(0x1bc)]=_0x51e2ca[_0xdcbb79(0x3bd)];[_0xdcbb79(0x8db)]=_0x51e2ca['Info'];[_0xdcbb79(0x6af)]=_0x1f107e[_0xdcbb79(0x6ed)];[_0xdcbb79(0x27b)]={};static [_0xdcbb79(0x626)]=()=>(_0x2a83b0['instance']||(_0x2a83b0['instance']=new _0x2a83b0()),_0x2a83b0['instance']);[_0xdcbb79(0x321)](_0x438f63,_0x3f6452,_0x1fa525=!0x0){const _0x19a54d=_0xdcbb79;try{if(this[_0x19a54d(0x27b)][_0x3f6452])throw new Error(_0x19a54d(0x6c7));const _0x3c51e0={'sequence':0x0};if(this[_0x19a54d(0x27b)][_0x3f6452]=_0x3c51e0,!_0x438f63)return!0x0;const _0x326180=function(_0x2db184){const _0x395700=_0x19a54d;return _0x2db184[_0x395700(0x2a4)]('logs');}(_0x438f63);return _0x3c51e0[_0x19a54d(0x96e)]=_0x438f63,_0x3c51e0[_0x19a54d(0x42e)]=_0x326180,!0x0;}catch(_0x5722de){return console[_0x19a54d(0x33f)](_0x19a54d(0x41f)+_0x1fa525,_0x5722de),!!_0x1fa525&&(this[_0x19a54d(0x39b)](_0x3f6452),this['openTrace'](_0x438f63,_0x3f6452,!0x1));}}[_0xdcbb79(0x7f8)](_0x37aee9){const _0x102fe3=_0xdcbb79;try{const _0x287329=this['openedTraces'][_0x37aee9[_0x102fe3(0x452)]];if(!_0x287329)throw new Error(_0x102fe3(0x3a7));_0x37aee9[_0x102fe3(0x4f5)]=_0x287329[_0x102fe3(0x4f5)]++,_0x37aee9[_0x102fe3(0x4fd)]>=this[_0x102fe3(0x1bc)]&&console[_0x102fe3(0x198)](JSON[_0x102fe3(0x6fb)](_0x37aee9,null,0x2)),this[_0x102fe3(0x287)](_0x37aee9);}catch(_0x3d94c4){console['error']('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x3d94c4);}}[_0xdcbb79(0x39b)](_0x3b9220){const _0x33a580=_0xdcbb79;if(!_0x2a83b0['instance'])throw new Error(_0x33a580(0x64a));if(!this[_0x33a580(0x27b)][_0x3b9220])throw new Error(_0x33a580(0x9b7));delete this['openedTraces'][_0x3b9220];}[_0xdcbb79(0x287)](_0x2f22e4){const _0x3d11ac=_0xdcbb79;if(_0x2f22e4[_0x3d11ac(0x4fd)]<this[_0x3d11ac(0x8db)]&&_0x2f22e4[_0x3d11ac(0x998)]!==this['commitType'])return;if(!this[_0x3d11ac(0x27b)][_0x2f22e4[_0x3d11ac(0x452)]])throw new Error(_0x3d11ac(0x169));const _0x5d2b8d=this[_0x3d11ac(0x27b)][_0x2f22e4[_0x3d11ac(0x452)]];if(!_0x5d2b8d[_0x3d11ac(0x96e)])throw new Error(_0x3d11ac(0x50d));if(!_0x5d2b8d[_0x3d11ac(0x42e)])throw new Error('GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set');try{const _0x5ca4f5=function(_0x1d6d35){const _0x593d37=_0x3d11ac,_0x436e42=[_0x593d37(0x55f),_0x593d37(0x553),_0x593d37(0x998),_0x593d37(0x8fa),'jobId','traceLevel',_0x593d37(0x2a7),_0x593d37(0x6e0),'sequence',_0x593d37(0x74b)],_0x396735={..._0x1d6d35};for(const _0x377b14 of _0x436e42)delete _0x396735[_0x377b14];return{'timestamp':_0x1d6d35[_0x593d37(0x553)],'jobType':_0x1d6d35[_0x593d37(0x998)],'type':_0x1d6d35[_0x593d37(0x8fa)],'jobId':_0x1d6d35[_0x593d37(0x452)],'agentId':_0x1d6d35[_0x593d37(0x810)]??'','traceLevel':_0x1d6d35[_0x593d37(0x4fd)],'blockId':_0x1d6d35[_0x593d37(0x2a7)]??'','startTime':_0x1d6d35[_0x593d37(0x55f)],'status':_0x1d6d35['status'],'sequence':_0x1d6d35[_0x593d37(0x4f5)]??0x0,'errorDetails':_0x1d6d35[_0x593d37(0x74b)]??'','metadata':_0x5867f2(_0x396735)};}(_0x2f22e4),_0x3c9d48=(0x0,_0x539333['v4'])();console['log']('Logging\x20trace',_0x5ca4f5[_0x3d11ac(0x8fa)]),_0x5d2b8d['table'][_0x3d11ac(0x80a)](_0x3c9d48,_0x5ca4f5);}catch(_0x527fc1){console[_0x3d11ac(0x33f)](_0x3d11ac(0x8d9),_0x527fc1);}}}const _0x2a25ba=_0x2a83b0[_0xdcbb79(0x626)]();async function _0x1a7a2b(_0x3c379f,_0x231832,_0x4b3107,_0x2fad15,_0x8a0446){const _0x8cdfc=_0xdcbb79,_0x1a8fe4=Date[_0x8cdfc(0x667)](),_0x368521=_0x8a0446[_0x8cdfc(0x9ac)][_0x8cdfc(0x39d)](_0x22cc8d=>_0x22cc8d['id']===_0x4b3107[_0x8cdfc(0x54b)]);if(!_0x368521)throw new Error(_0x8cdfc(0x3c3));const _0x2eea20=_0x8a0446['generativeAIWorkerConnectors'][_0x8cdfc(0x39d)](_0x1a3a24=>_0x1a3a24[_0x8cdfc(0x91f)]()===_0x368521['engineType']);if(!_0x2eea20)throw new Error(_0x8cdfc(0x7f1));const _0x5a3a4a=[],_0x1e3fa0=(0x0,_0x539333['v4'])(),_0x49663c=await _0x2eea20['processJob']({'type':_0x8cdfc(0x929),'prompt':_0x231832,'instructions':_0x4b3107[_0x8cdfc(0x20b)],'grammar':_0x4b3107[_0x8cdfc(0x9ff)],'temperature':_0x4b3107[_0x8cdfc(0x595)],'maxTokens':_0x4b3107[_0x8cdfc(0x9d0)],'threadId':_0x1e3fa0},{'model':_0x368521});if(_0x8cdfc(0x610)!=typeof _0x49663c[_0x8cdfc(0x2f9)])throw new Error(_0x8cdfc(0x6d3));_0x2a25ba[_0x8cdfc(0x7f8)]({'jobType':_0x1f107e[_0x8cdfc(0x582)],'type':_0x4628dc['Agent'],'jobId':_0x3c379f,'blockId':_0x4b3107['id'],'traceLevel':_0x51e2ca[_0x8cdfc(0x9a1)],'timestamp':Date[_0x8cdfc(0x667)](),'startTime':_0x1a8fe4,'status':_0x8cdfc(0x7f4),'agentId':_0x1e3fa0,'content':_0x231832,'instructions':_0x4b3107[_0x8cdfc(0x20b)],'result':_0x49663c[_0x8cdfc(0x2f9)]}),_0x5a3a4a[_0x8cdfc(0x90d)]({'content':_0x49663c[_0x8cdfc(0x2f9)],'start':0x0,'length':_0x231832[_0x8cdfc(0x454)]}),await _0x184593(_0x3c379f,_0x5a3a4a,_0x4b3107,_0x2fad15,_0x8a0446);}async function _0x132965(_0x4f5d0d,_0x37a8c0,_0xd7da62,_0x1a5ec5,_0x1a836d){const _0x4d53ab=_0xdcbb79,_0x52d5fe=Date['now']();let _0xd6df6a=[];if(_0x37a8c0 instanceof Array){for(const _0x2b6b05 of _0x37a8c0)_0xd6df6a=_0xd6df6a[_0x4d53ab(0x376)](_0x38bb6b(_0x2b6b05[_0x4d53ab(0x7bd)],_0xd7da62,_0x2b6b05[_0x4d53ab(0x56e)],_0x2b6b05[_0x4d53ab(0x454)]));}else _0xd6df6a=_0x38bb6b(_0x37a8c0,_0xd7da62);_0x2a25ba[_0x4d53ab(0x7f8)]({'jobType':_0x1f107e[_0x4d53ab(0x582)],'type':_0x4628dc[_0x4d53ab(0x931)],'traceLevel':_0x51e2ca[_0x4d53ab(0x9a1)],'jobId':_0x4f5d0d,'blockId':_0xd7da62['id'],'startTime':_0x52d5fe,'timestamp':Date[_0x4d53ab(0x667)](),'status':'success','totalChunks':_0xd6df6a['length'],'chunkSize':_0xd7da62[_0x4d53ab(0x714)][_0x4d53ab(0x400)]}),await _0x184593(_0x4f5d0d,_0xd6df6a,_0xd7da62,_0x1a5ec5,_0x1a836d);}function _0x38bb6b(_0x41868e,_0x3179f0,_0x2c313e,_0x4755e5){const _0x35ea68=_0xdcbb79,_0x102b5e=[];let _0xf102f4=0x0;for(let _0x5bbede=0x0;_0x5bbede<_0x41868e[_0x35ea68(0x454)];_0x5bbede+=_0x3179f0[_0x35ea68(0x714)][_0x35ea68(0x400)]){let _0x4ec2ad=_0x5bbede-_0x3179f0[_0x35ea68(0x714)]['overlap'];_0x4ec2ad<0x0&&(_0x4ec2ad=0x0);let _0x1af076=_0x5bbede+_0x3179f0[_0x35ea68(0x714)][_0x35ea68(0x400)]+_0x3179f0[_0x35ea68(0x714)]['overlap'];_0x1af076>_0x41868e[_0x35ea68(0x454)]&&(_0x1af076=_0x41868e['length']);const _0x386d6b=_0x41868e[_0x35ea68(0x289)](_0x4ec2ad,_0x1af076);_0x102b5e[_0x35ea68(0x90d)]({'content':_0x386d6b,'start':_0x2c313e??_0xf102f4,'length':_0x4755e5??_0x386d6b[_0x35ea68(0x454)]}),_0xf102f4+=_0x386d6b[_0x35ea68(0x454)];}return _0x102b5e;}async function _0x424609(_0x1cbcb0,_0x1d47b2,_0x276512,_0x5a763b,_0x39519f){const _0x2d5f81=_0xdcbb79,_0xa744c1=Date[_0x2d5f81(0x667)]();let _0x16db99;if(_0x1d47b2['file'][_0x2d5f81(0x8fa)][_0x2d5f81(0x9e1)]('text/')||(_0x8bd6ac=_0x1d47b2['file'][_0x2d5f81(0x181)],_0x1cdf1d[_0x2d5f81(0x949)]('.'+(_0x8bd6ac['split']('.')[_0x2d5f81(0xa4a)]()?.[_0x2d5f81(0x9c4)]()||''))))_0x16db99=await _0x1d47b2['file'][_0x2d5f81(0x5b1)]();else{if(!_0x39519f['documentParserConnector'][_0x2d5f81(0x20f)](_0x1d47b2[_0x2d5f81(0x57b)]))throw new Error(_0x2d5f81(0x8e4)+_0x1d47b2[_0x2d5f81(0x57b)]['type']+_0x2d5f81(0x70a)+_0x1d47b2[_0x2d5f81(0x57b)][_0x2d5f81(0x181)]);_0x16db99=await _0x39519f[_0x2d5f81(0x195)][_0x2d5f81(0xa2e)](_0x1d47b2['file']);}var _0x8bd6ac;_0x2a25ba[_0x2d5f81(0x7f8)]({'jobType':_0x1f107e[_0x2d5f81(0x582)],'type':_0x4628dc[_0x2d5f81(0x2a6)],'traceLevel':_0x51e2ca[_0x2d5f81(0x9a1)],'blockId':_0x276512['id'],'jobId':_0x1cbcb0,'startTime':_0xa744c1,'timestamp':Date[_0x2d5f81(0x667)](),'status':'success','documentType':_0x1d47b2[_0x2d5f81(0x57b)][_0x2d5f81(0x8fa)],'documentName':_0x1d47b2[_0x2d5f81(0x57b)][_0x2d5f81(0x181)],'extractionMethod':_0x2d5f81(0x7c9)}),await _0x184593(_0x1cbcb0,_0x16db99,_0x276512,_0x5a763b,_0x39519f);}const _0x1cdf1d=[_0xdcbb79(0x947),'.ts',_0xdcbb79(0x448),_0xdcbb79(0x3cc),_0xdcbb79(0xa67),'.html','.css',_0xdcbb79(0x1f5),_0xdcbb79(0x1e1),_0xdcbb79(0x8d6),'.yaml','.sh',_0xdcbb79(0x3a8),_0xdcbb79(0x1da),_0xdcbb79(0x1c7),_0xdcbb79(0x664),_0xdcbb79(0x50e),_0xdcbb79(0x888),_0xdcbb79(0x7de),_0xdcbb79(0x9d2),'.c',_0xdcbb79(0x57c),_0xdcbb79(0x4c3),'.r',_0xdcbb79(0x19c),'.swift',_0xdcbb79(0x2a9),_0xdcbb79(0x1ee),_0xdcbb79(0x433),_0xdcbb79(0x8a1),_0xdcbb79(0x2e8),_0xdcbb79(0x1a4),'.hs',_0xdcbb79(0x15b),_0xdcbb79(0x87e),_0xdcbb79(0xa33),_0xdcbb79(0x27f),_0xdcbb79(0x939),_0xdcbb79(0xa22),'.ps1',_0xdcbb79(0x4fb),'.m',_0xdcbb79(0x8cc),'.awk',_0xdcbb79(0x1c2),_0xdcbb79(0x96a),_0xdcbb79(0x3dd),_0xdcbb79(0x8d2),_0xdcbb79(0x47b),_0xdcbb79(0x8f2),_0xdcbb79(0x24a),_0xdcbb79(0x213),_0xdcbb79(0x48f),_0xdcbb79(0x6b1),'.handlebars','.ejs',_0xdcbb79(0x6f5),_0xdcbb79(0x77a),_0xdcbb79(0x5f2),_0xdcbb79(0x910),_0xdcbb79(0x642),'.j2','.djt'];async function _0x2ca235(_0x2123ed,_0x1c64a0,_0x379167,_0x11737c,_0x385442){const _0x185f63=_0xdcbb79,_0x461ab4=Date[_0x185f63(0x667)](),_0x510a57=new Set();let _0x394b5d=0x0;for(const _0xe5649b of _0x1c64a0)_0x394b5d+=_0xe5649b[_0x185f63(0x7bd)][_0x185f63(0x454)],await _0x67e43d(_0xe5649b[_0x185f63(0x7bd)],_0x510a57,_0x379167,_0x385442[_0x185f63(0x8d8)]);_0x2a25ba['trace']({'jobType':_0x1f107e[_0x185f63(0x582)],'type':_0x4628dc['EntityExtractor'],'jobId':_0x2123ed,'blockId':_0x379167['id'],'traceLevel':_0x51e2ca[_0x185f63(0x9a1)],'startTime':_0x461ab4,'timestamp':Date['now'](),'status':_0x185f63(0x7f4),'contentLength':_0x394b5d,'totalChunks':_0x1c64a0 instanceof Array?_0x1c64a0[_0x185f63(0x454)]:0x1,'entitiesExtracted':_0x510a57,'totalEntities':_0x510a57[_0x185f63(0x400)]}),await _0x184593(_0x2123ed,_0x510a57,_0x379167,_0x11737c,_0x385442);}async function _0x67e43d(_0xc00b22,_0x307df3,_0x1dda23,_0x4d0991){const _0x4ea056=_0xdcbb79,_0xffb96f=await _0x4d0991['getEntities'](_0xc00b22,{'ner':_0x1dda23[_0x4ea056(0x714)][_0x4ea056(0x7db)],'noun':_0x1dda23[_0x4ea056(0x714)][_0x4ea056(0x656)],'propn':_0x1dda23[_0x4ea056(0x714)]['propn'],'verb':_0x1dda23[_0x4ea056(0x714)][_0x4ea056(0x2d4)]});for(const _0x50da02 of _0xffb96f)_0x307df3['add'](_0x50da02);}function _0x1452fc(_0x95c4ea,_0x1c6747,_0x43a17a,_0x5700fa,_0x305a08){const _0x1f3c0b=_0xdcbb79,_0x5c124a=Date[_0x1f3c0b(0x667)]();if(_0x43a17a[_0x1f3c0b(0x530)]||(_0x43a17a['accumulated']={}),_0x1f3c0b(0x610)==typeof _0x1c6747?_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x7bd)]=_0x1c6747:_0x1c6747 instanceof Set?_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x7b3)]=_0x1c6747:_0x1c6747 instanceof Map?_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x86f)]=_0x1c6747:_0x1c6747 instanceof Array?_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x959)]=_0x1c6747:_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x57b)]=_0x1c6747,_0x43a17a[_0x1f3c0b(0x28b)]=_0x43a17a[_0x1f3c0b(0x28b)]?_0x43a17a[_0x1f3c0b(0x28b)]+0x1:0x1,_0x33cdf3(_0x43a17a,_0x5700fa)>_0x43a17a[_0x1f3c0b(0x28b)])return;if(!(_0x43a17a['accumulated'][_0x1f3c0b(0x7b3)]&&_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x57b)]&&_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x7bd)]&&_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x959)]))throw new Error(_0x1f3c0b(0x308));let _0x1d57bc=0x0;const _0x3219e1=_0x305a08[_0x1f3c0b(0x871)][_0x1f3c0b(0x1eb)](_0x43a17a['id']);for(const _0x59dfd8 of _0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x7b3)]){let _0x2f20a2=[];_0x2f20a2=_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x959)][_0x1f3c0b(0x4e9)](_0x3a7545=>_0x3a7545[_0x1f3c0b(0x7bd)][_0x1f3c0b(0x949)](_0x59dfd8));try{_0x3219e1['addNode'](_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x57b)][_0x1f3c0b(0x2c3)],_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x7bd)],_0x2f20a2,_0x59dfd8),_0x1d57bc+=0x1;}catch(_0x36a2ed){}}if(_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x86f)]){for(const [_0xd3d5f7,_0x327360]of _0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x86f)])for(const _0xc5ee9c of _0x327360)try{_0x3219e1[_0x1f3c0b(0x5ea)](_0xd3d5f7,_0xc5ee9c);}catch(_0x582812){}if(_0x3219e1[_0x1f3c0b(0x73d)]()){let _0x426e55=''+(_0x305a08[_0x1f3c0b(0x2ec)]??0x1);for(const _0x1ca6bb of _0x5700fa)if(_0x1ca6bb[_0x1f3c0b(0x8fa)]===_0x303f13[_0x1f3c0b(0x963)]){_0x426e55=_0x426e55+'-'+(_0x1ca6bb['version']??0x1);break;}_0x3219e1[_0x1f3c0b(0xa09)](_0x426e55);}_0x2a25ba['trace']({'jobType':_0x1f107e[_0x1f3c0b(0x582)],'type':_0x4628dc[_0x1f3c0b(0x803)],'jobId':_0x95c4ea,'blockId':_0x43a17a['id'],'status':_0x1f3c0b(0x7f4),'startTime':_0x5c124a,'timestamp':Date[_0x1f3c0b(0x667)](),'traceLevel':_0x51e2ca[_0x1f3c0b(0x9a1)],'nodesAdded':_0x1d57bc,'entities':_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x7b3)],'relations':_0x43a17a[_0x1f3c0b(0x530)][_0x1f3c0b(0x86f)]});}}async function _0x2b435e(_0x5cfe9d,_0x27efb1,_0x13c5f7,_0x28ba14,_0x1e8eac){const _0x135855=_0xdcbb79,_0x78a5bd=_0x1e8eac[_0x135855(0x9ac)][_0x135855(0x39d)](_0x599829=>_0x599829['id']===_0x13c5f7['id']);if(!_0x78a5bd)throw new Error(_0x135855(0x3c3));switch(_0x78a5bd[_0x135855(0x88e)]){case _0x410512[_0x135855(0x65a)][_0x135855(0x5fa)]:if(_0x135855(0x610)!=typeof _0x27efb1)throw new Error(_0x135855(0x537));await async function(_0x24c1d5,_0x2a8b48,_0x5b85d5,_0x5004dc,_0xf80dd0,_0x16e079){const _0x1da0e5=_0x135855,_0x148993=Date['now']();let _0x3a7224;const _0x1de41d=_0x16e079['generativeAIWorkerConnectors'][_0x1da0e5(0x39d)](_0x584b53=>_0x584b53[_0x1da0e5(0x91f)]()===_0x5b85d5['engineType']);if(!_0x1de41d)throw new Error('No\x20connector\x20found\x20for\x20model');_0x3a7224=await async function(_0x20dae8,_0x1a4315,_0x184b4e){const _0xc4d74f=_0x1da0e5,_0x4a6b32=await _0x1a4315['processJob']({'type':_0xc4d74f(0x929),'prompt':_0x20dae8,'threadId':''},{'model':_0x184b4e});if(_0x4a6b32[_0xc4d74f(0x2f9)]instanceof Array)throw new Error(_0xc4d74f(0x563));return _0x4a6b32['output'];}(_0x2a8b48,_0x1de41d,_0x5b85d5),_0x2a25ba['trace']({'jobType':_0x1f107e[_0x1da0e5(0x582)],'type':_0x4628dc[_0x1da0e5(0x4ac)],'jobId':_0x24c1d5,'blockId':_0x5004dc['id'],'traceLevel':_0x51e2ca['Debug'],'timestamp':Date[_0x1da0e5(0x667)](),'startTime':_0x148993,'status':_0x1da0e5(0x7f4),'modelName':_0x5b85d5['id'],'inputType':_0x5b85d5['inputType'],'outputType':_0x5b85d5[_0x1da0e5(0x88e)],'content':_0x2a8b48,'results':_0x3a7224}),await _0x184593(_0x24c1d5,_0x3a7224,_0x5004dc,_0xf80dd0,_0x16e079);}(_0x5cfe9d,_0x27efb1,_0x78a5bd,_0x13c5f7,_0x28ba14,_0x1e8eac);break;case _0x410512[_0x135855(0x65a)][_0x135855(0x53c)]:if(!(_0x27efb1 instanceof Array))throw new Error(_0x135855(0xa7a));await async function(_0x403650,_0x1e5b74,_0x4bee68,_0x24fb67,_0x298ea7,_0x402726){const _0x43adfa=_0x135855,_0x18ddec=Date[_0x43adfa(0x667)](),_0x4b11f6=[],_0x12d151=_0x402726[_0x43adfa(0x4c4)][_0x43adfa(0x39d)](_0x3a75b1=>_0x3a75b1[_0x43adfa(0x91f)]()===_0x4bee68['engineType']);if(!_0x12d151)throw new Error(_0x43adfa(0x7f1));for(const _0x37f73c of _0x1e5b74)_0x4b11f6['push'](await _0x5a02dd(_0x37f73c,_0x12d151,_0x4bee68));_0x2a25ba[_0x43adfa(0x7f8)]({'jobType':_0x1f107e[_0x43adfa(0x582)],'type':_0x4628dc[_0x43adfa(0x3ca)],'jobId':_0x403650,'blockId':_0x24fb67['id'],'traceLevel':_0x51e2ca[_0x43adfa(0x9a1)],'timestamp':Date['now'](),'startTime':_0x18ddec,'status':_0x43adfa(0x7f4),'modelName':_0x4bee68['id'],'inputType':_0x4bee68[_0x43adfa(0x2a2)],'outputType':_0x4bee68['outputType'],'totalVectors':_0x4b11f6['length']}),await _0x184593(_0x403650,_0x4b11f6,_0x24fb67,_0x298ea7,_0x402726);}(_0x5cfe9d,_0x27efb1,_0x78a5bd,_0x13c5f7,_0x28ba14,_0x1e8eac);}}async function _0x5a02dd(_0x2c42c6,_0x3c5db0,_0x5e5cd7){const _0x763365=_0xdcbb79;return(await _0x3c5db0[_0x763365(0x8d0)]({'type':_0x763365(0x929),'prompt':_0x2c42c6[_0x763365(0x7bd)],'threadId':''},{'model':_0x5e5cd7}))[_0x763365(0x2f9)];}async function _0xed1482(_0x17f29a,_0x5ac3c0,_0xb696d4,_0x2f72c0,_0x3412d0){const _0x502444=_0xdcbb79,_0x1e28f7=Date[_0x502444(0x667)]();if(_0xb696d4[_0x502444(0x530)]||(_0xb696d4[_0x502444(0x530)]={}),_0x5ac3c0 instanceof Array?_0xb696d4['accumulated'][_0x502444(0x959)]=_0x5ac3c0:_0xb696d4[_0x502444(0x530)][_0x502444(0x7b3)]=_0x5ac3c0,_0xb696d4[_0x502444(0x28b)]=_0xb696d4[_0x502444(0x28b)]?_0xb696d4[_0x502444(0x28b)]+0x1:0x1,_0x33cdf3(_0xb696d4,_0x2f72c0)>_0xb696d4[_0x502444(0x28b)])return;if(!_0xb696d4['accumulated'][_0x502444(0x959)]||!_0xb696d4[_0x502444(0x530)][_0x502444(0x7b3)])throw new Error(_0x502444(0xa70));const _0x1fd78a=new Map();for(const _0x3bb201 of _0xb696d4[_0x502444(0x530)][_0x502444(0x959)])_0x6eb629(_0x3bb201[_0x502444(0x7bd)],_0xb696d4[_0x502444(0x530)][_0x502444(0x7b3)],_0x1fd78a);_0x2a25ba[_0x502444(0x7f8)]({'jobType':_0x1f107e['Ingest'],'type':_0x4628dc[_0x502444(0x2b9)],'jobId':_0x17f29a,'blockId':_0xb696d4['id'],'traceLevel':_0x51e2ca['Debug'],'timestamp':Date['now'](),'startTime':_0x1e28f7,'status':_0x502444(0x7f4),'entities':_0xb696d4[_0x502444(0x530)][_0x502444(0x7b3)],'relations':_0x1fd78a,'totalRelationsExtracted':_0x1fd78a['size']}),await _0x184593(_0x17f29a,_0x1fd78a,_0xb696d4,_0x2f72c0,_0x3412d0);}function _0x6eb629(_0x4ee435,_0x24ad78,_0x17e504){const _0x24c239=_0xdcbb79;for(const _0x569a9e of _0x24ad78)for(const _0x35385a of _0x24ad78){if(_0x569a9e===_0x35385a)continue;const _0x46670b=_0x4ee435[_0x24c239(0x649)](_0x569a9e),_0x553fb7=_0x4ee435[_0x24c239(0x649)](_0x35385a);-0x1!==_0x46670b&&-0x1!==_0x553fb7&&(_0x17e504[_0x24c239(0x504)](_0x569a9e)||_0x17e504['set'](_0x569a9e,new Set()),_0x17e504[_0x24c239(0x3ee)](_0x569a9e)['add'](_0x35385a));}return _0x17e504;}async function _0x35124e(_0x5aff07,_0x3af426,_0x1781cc,_0x147288,_0x2776d6){const _0x259010=_0xdcbb79,_0x2294dd=Date[_0x259010(0x667)]();let _0x5263a5=[];if(_0x3af426 instanceof Array)for(const _0x5258a6 of _0x3af426){const _0xbf8fef=await _0x2776d6['nlpLibraryConnector'][_0x259010(0x7bf)](_0x5258a6[_0x259010(0x7bd)]);_0x5263a5=_0x5263a5[_0x259010(0x376)](_0xbf8fef[_0x259010(0x945)](_0x1f5da9=>({'content':_0x1f5da9,'start':_0x5258a6[_0x259010(0x56e)],'length':_0x5258a6[_0x259010(0x454)]})));}else _0x5263a5=(await _0x2776d6[_0x259010(0x8d8)][_0x259010(0x7bf)](_0x3af426))[_0x259010(0x945)](_0xe7c48b=>({'content':_0xe7c48b,'start':_0x3af426[_0x259010(0x649)](_0xe7c48b),'length':_0xe7c48b[_0x259010(0x454)]}));_0x2a25ba['trace']({'jobType':_0x1f107e['Ingest'],'type':_0x4628dc[_0x259010(0x286)],'jobId':_0x5aff07,'blockId':_0x1781cc['id'],'traceLevel':_0x51e2ca[_0x259010(0x9a1)],'startTime':_0x2294dd,'timestamp':Date[_0x259010(0x667)](),'status':_0x259010(0x7f4),'totalSentences':_0x5263a5['length'],'averageSentenceLength':_0x5263a5['reduce']((_0x514b8a,_0x2a28a9)=>_0x514b8a+_0x2a28a9[_0x259010(0x454)],0x0)/_0x5263a5['length']}),await _0x184593(_0x5aff07,_0x5263a5,_0x1781cc,_0x147288,_0x2776d6);}function _0x16bc66(_0x259733,_0x2078aa,_0x5e7ea8,_0x3784ae,_0x492147){const _0xb36c76=_0xdcbb79,_0x430939=Date['now']();var _0xceb507;if(_0x5e7ea8[_0xb36c76(0x530)]||(_0x5e7ea8[_0xb36c76(0x530)]={}),_0x2078aa instanceof Array?(_0xceb507=_0x2078aa)[0x0]instanceof Array&&'number'==typeof _0xceb507[0x0]?.[0x0]?_0x5e7ea8[_0xb36c76(0x530)]['vectors']=_0x2078aa:_0x5e7ea8[_0xb36c76(0x530)][_0xb36c76(0x959)]=_0x2078aa:_0xb36c76(0x610)==typeof _0x2078aa?_0x5e7ea8[_0xb36c76(0x530)]['content']=_0x2078aa:_0x5e7ea8[_0xb36c76(0x530)]['file']=_0x2078aa,_0x5e7ea8[_0xb36c76(0x28b)]=_0x5e7ea8[_0xb36c76(0x28b)]?_0x5e7ea8[_0xb36c76(0x28b)]+0x1:0x1,_0x33cdf3(_0x5e7ea8,_0x3784ae)>_0x5e7ea8[_0xb36c76(0x28b)])return;if(!(_0x5e7ea8['accumulated'][_0xb36c76(0x7bd)]&&_0x5e7ea8[_0xb36c76(0x530)][_0xb36c76(0x959)]&&_0x5e7ea8[_0xb36c76(0x530)][_0xb36c76(0x47a)]&&_0x5e7ea8[_0xb36c76(0x530)][_0xb36c76(0x57b)]))throw new Error(_0xb36c76(0x4c9));const _0x5d30bb=_0x492147[_0xb36c76(0x871)]['getVectorDatabase'](_0x5e7ea8['id']);if(_0x5d30bb[_0xb36c76(0x6a5)](_0x5e7ea8[_0xb36c76(0x530)][_0xb36c76(0x57b)][_0xb36c76(0x2c3)],_0x5e7ea8['accumulated'][_0xb36c76(0x7bd)],_0x5e7ea8[_0xb36c76(0x530)][_0xb36c76(0x959)],_0x5e7ea8[_0xb36c76(0x530)]['vectors']),_0x5d30bb[_0xb36c76(0x73d)]()){let _0x4beb1b=''+(_0x492147[_0xb36c76(0x2ec)]??0x1);for(const _0x5709b1 of _0x3784ae)_0x5709b1[_0xb36c76(0x8fa)]===_0x303f13[_0xb36c76(0x963)]&&(_0x4beb1b=_0x4beb1b+'-'+(_0x5709b1['version']??0x1));_0x5d30bb['saveToDisk'](_0x4beb1b);}_0x2a25ba[_0xb36c76(0x7f8)]({'jobType':_0x1f107e['Ingest'],'type':_0x4628dc[_0xb36c76(0x33d)],'jobId':_0x259733,'blockId':_0x5e7ea8['id'],'traceLevel':_0x51e2ca['Debug'],'startTime':_0x430939,'timestamp':Date[_0xb36c76(0x667)](),'status':_0xb36c76(0x7f4),'databaseName':_0x5d30bb[_0xb36c76(0x8b8)](),'vectorsAdded':_0x5e7ea8[_0xb36c76(0x530)][_0xb36c76(0x47a)][_0xb36c76(0x454)],'filePathName':_0x5e7ea8[_0xb36c76(0x530)][_0xb36c76(0x57b)]['pathName']});}async function _0x4efa9c(_0x4a7112,_0x22bac7,_0x1971a6,_0x290b8d,_0x55ca64){const _0x28f925=_0xdcbb79,_0x1f1ec3=Date[_0x28f925(0x667)]();let _0x565483=[];if(_0x22bac7 instanceof Array){for(const _0x560e75 of _0x22bac7)_0x565483=_0x565483[_0x28f925(0x376)](_0x1ef53f(_0x560e75['content'],_0x1971a6,_0x560e75['start'],_0x560e75[_0x28f925(0x454)]));}else _0x565483=_0x1ef53f(_0x22bac7,_0x1971a6);_0x2a25ba[_0x28f925(0x7f8)]({'jobType':_0x1f107e['Ingest'],'type':_0x4628dc[_0x28f925(0x9be)],'jobId':_0x4a7112,'traceLevel':_0x51e2ca['Debug'],'blockId':_0x1971a6['id'],'startTime':_0x1f1ec3,'timestamp':Date[_0x28f925(0x667)](),'status':_0x28f925(0x7f4),'totalChunks':_0x565483[_0x28f925(0x454)],'averageChunkLength':_0x565483[_0x28f925(0x1f4)]((_0x3145e6,_0xe10ddd)=>_0x3145e6+_0xe10ddd[_0x28f925(0x454)],0x0)/_0x565483['length']}),await _0x184593(_0x4a7112,_0x565483,_0x1971a6,_0x290b8d,_0x55ca64);}function _0x1ef53f(_0x1d4a92,_0x4dce2f,_0x13a879,_0xc32a1e){const _0x16ad21=_0xdcbb79,_0x532fd5=[],_0x3e0c34=_0x1d4a92[_0x16ad21(0x470)]('\x20');let _0x15e4fc='',_0x949877=-0x1,_0x461643=0x0,_0x291ce2=0x0;for(const _0x4dc7c4 of _0x3e0c34){if(_0x15e4fc[_0x16ad21(0x454)]+_0x4dc7c4[_0x16ad21(0x454)]>_0x4dce2f[_0x16ad21(0x714)][_0x16ad21(0x400)]){const _0xa1ace6=_0x15e4fc['length'];let _0x31ccc5=_0x949877,_0xeaf4de='';for(;_0x31ccc5>=0x0&&_0xeaf4de[_0x16ad21(0x454)]+_0x3e0c34[_0x31ccc5][_0x16ad21(0x454)]<_0x4dce2f['attributes'][_0x16ad21(0x609)];)_0xeaf4de=_0x3e0c34[_0x31ccc5]+'\x20'+_0xeaf4de,_0x31ccc5--;let _0x33e5bb=_0x461643,_0xaf05ee='';for(;_0x33e5bb<_0x3e0c34[_0x16ad21(0x454)]&&_0xaf05ee[_0x16ad21(0x454)]+_0x3e0c34[_0x33e5bb][_0x16ad21(0x454)]<_0x4dce2f['attributes'][_0x16ad21(0x609)];)_0xaf05ee+=_0x3e0c34[_0x33e5bb]+'\x20',_0x33e5bb++;_0x15e4fc=_0xeaf4de+_0x15e4fc+_0xaf05ee,_0x532fd5['push']({'content':_0x15e4fc[_0x16ad21(0x668)](),'start':_0x13a879??_0x291ce2,'length':_0xc32a1e??_0x15e4fc['length']}),_0x15e4fc='',_0x949877=_0x461643-0x1,_0x291ce2+=_0xa1ace6;}_0x15e4fc+=_0x4dc7c4+'\x20',_0x461643++;}if(_0x15e4fc[_0x16ad21(0x454)]>0x0){const _0x106c1c=_0x15e4fc[_0x16ad21(0x454)];let _0x21575f=_0x949877,_0x12c23b='';for(;_0x21575f>=0x0&&_0x12c23b['length']+_0x3e0c34[_0x21575f][_0x16ad21(0x454)]<_0x4dce2f[_0x16ad21(0x714)][_0x16ad21(0x609)];)_0x12c23b=_0x3e0c34[_0x21575f]+'\x20'+_0x12c23b,_0x21575f--;_0x15e4fc=_0x12c23b+_0x15e4fc,_0x532fd5[_0x16ad21(0x90d)]({'content':_0x15e4fc[_0x16ad21(0x668)](),'start':_0x13a879??_0x291ce2,'length':_0xc32a1e??_0x106c1c});}return _0x532fd5;}async function _0x184593(_0x385f5a,_0x2f85ac,_0x1deb62,_0x12adcf,_0x588c07){const _0x54cd70=_0xdcbb79;for(const _0x28934f of _0x1deb62['links']||[]){const _0x3bd7f8=_0x12adcf[_0x54cd70(0x39d)](_0x3cdc51=>_0x3cdc51['uid']===_0x28934f['uid']);if(_0x3bd7f8)switch(_0x3bd7f8[_0x54cd70(0x8fa)]){case _0x303f13[_0x54cd70(0x963)]:await _0x1a7a2b(_0x385f5a,_0x2f85ac,_0x3bd7f8,_0x12adcf,_0x588c07);break;case _0x303f13[_0x54cd70(0x931)]:await _0x132965(_0x385f5a,_0x2f85ac,_0x3bd7f8,_0x12adcf,_0x588c07);break;case _0x303f13[_0x54cd70(0x2a6)]:await _0x424609(_0x385f5a,_0x2f85ac,_0x3bd7f8,_0x12adcf,_0x588c07);break;case _0x303f13[_0x54cd70(0x23a)]:await _0x2ca235(_0x385f5a,_0x2f85ac,_0x3bd7f8,_0x12adcf,_0x588c07);break;case _0x303f13[_0x54cd70(0x803)]:_0x1452fc(_0x385f5a,_0x2f85ac,_0x3bd7f8,_0x12adcf,_0x588c07);break;case _0x303f13[_0x54cd70(0x7b2)]:await _0x2b435e(_0x385f5a,_0x2f85ac,_0x3bd7f8,_0x12adcf,_0x588c07);break;case _0x303f13[_0x54cd70(0x2b9)]:await _0xed1482(_0x385f5a,_0x2f85ac,_0x3bd7f8,_0x12adcf,_0x588c07);break;case _0x303f13[_0x54cd70(0x286)]:await _0x35124e(_0x385f5a,_0x2f85ac,_0x3bd7f8,_0x12adcf,_0x588c07);break;case _0x303f13['VectorDatabase']:_0x16bc66(_0x385f5a,_0x2f85ac,_0x3bd7f8,_0x12adcf,_0x588c07);break;case _0x303f13[_0x54cd70(0x9be)]:await _0x4efa9c(_0x385f5a,_0x2f85ac,_0x3bd7f8,_0x12adcf,_0x588c07);}}}function _0x33cdf3(_0x5561f4,_0x30067c){const _0x576493=_0xdcbb79;return _0x30067c[_0x576493(0x4e9)](_0x468ca5=>_0x468ca5[_0x576493(0x2ac)]?.[_0x576493(0x692)](_0x4b320f=>_0x4b320f[_0x576493(0x253)]===_0x5561f4[_0x576493(0x253)]))[_0x576493(0x454)];}async function _0x464e3d(_0x319152,_0x3a1eef,_0x23b71b,_0x343296,_0x45a3ed){const _0xc63d6a=_0xdcbb79;try{let _0x13438d;switch(_0x23b71b['type']){case _0x303f13['ObjectStorageUpload']:const _0x504c46=_0x45a3ed[_0xc63d6a(0x871)][_0xc63d6a(0x1a5)](_0x23b71b['id']);_0x13438d=await _0x504c46[_0xc63d6a(0x3ee)](_0x3a1eef);break;case _0x303f13[_0xc63d6a(0x2d5)]:const _0x1ac406=_0x45a3ed['contentMediator']['getExternalStorageConnection'](_0x23b71b['id']);_0x13438d=await _0x1ac406[_0xc63d6a(0x3ee)](_0x3a1eef);}if(!_0x13438d)throw new Error(_0xc63d6a(0x926));await _0x184593(_0x319152,{'file':_0x13438d,'pathName':_0x3a1eef},_0x23b71b,structuredClone(_0x343296),_0x45a3ed);}catch(_0x3c11c3){console[_0xc63d6a(0x33f)](_0xc63d6a(0xa50),_0x3c11c3);}}async function _0xc8faad(_0x2e5da4,_0x1a3dbe,_0x18203a,_0x431916,_0x386af4,_0xa434b9,_0x542ae9){const _0x15e1ab=_0xdcbb79,_0xdc6083=Date[_0x15e1ab(0x667)](),_0x5ea08a=new Set();if(_0x18203a instanceof Array){for(const _0x253ed0 of _0x18203a)await _0x2e51c5(_0x253ed0['content'],_0x386af4,_0x5ea08a,_0x542ae9[_0x15e1ab(0x8d8)]);}else await _0x2e51c5(_0x18203a,_0x386af4,_0x5ea08a,_0x542ae9[_0x15e1ab(0x8d8)]);_0x2a25ba[_0x15e1ab(0x7f8)]({'jobType':_0x1f107e[_0x15e1ab(0x6ed)],'type':_0x2e8125[_0x15e1ab(0x23a)],'jobId':_0x2e5da4,'threadId':_0x1a3dbe,'blockId':_0x386af4['id'],'traceLevel':_0x51e2ca[_0x15e1ab(0x9a1)],'startTime':_0xdc6083,'timestamp':Date[_0x15e1ab(0x667)](),'status':_0x15e1ab(0x7f4),'content':_0x18203a,'entitiesExtracted':Array[_0x15e1ab(0x6dd)](_0x5ea08a),'totalEntities':_0x5ea08a[_0x15e1ab(0x400)]}),await _0x41b5e5(_0x2e5da4,_0x1a3dbe,_0x5ea08a,_0x431916,_0x386af4,_0xa434b9,_0x542ae9);}async function _0x2e51c5(_0x235ebe,_0x2949d1,_0x241fbf,_0x11e328){const _0x113c75=_0xdcbb79,_0x3807da=await _0x11e328[_0x113c75(0x62d)](_0x235ebe,{'ner':_0x2949d1[_0x113c75(0x714)][_0x113c75(0x7db)],'noun':_0x2949d1[_0x113c75(0x714)][_0x113c75(0x656)],'propn':_0x2949d1[_0x113c75(0x714)][_0x113c75(0x456)],'verb':_0x2949d1['attributes'][_0x113c75(0x2d4)]});for(const _0x14b9a3 of _0x3807da)_0x241fbf[_0x113c75(0x164)](_0x14b9a3);}async function _0x2c46d5(_0x4d1148,_0x2664b0,_0xf25e2a,_0x3f4841,_0x477500,_0x3dda4e,_0x107a95){const _0x4e1c63=_0xdcbb79,_0x5b6873=Date[_0x4e1c63(0x667)]();if(_0x477500['accumulated']||(_0x477500['accumulated']={}),_0xf25e2a instanceof Array?(_0x477500[_0x4e1c63(0x530)][_0x4e1c63(0x2d0)]||(_0x477500[_0x4e1c63(0x530)][_0x4e1c63(0x2d0)]=[]),_0x477500['accumulated']['results'][_0x4e1c63(0x90d)](..._0xf25e2a)):_0xf25e2a instanceof Set?_0x477500[_0x4e1c63(0x530)][_0x4e1c63(0x7b3)]=_0xf25e2a:_0x477500['accumulated'][_0x4e1c63(0x929)]=_0xf25e2a,_0x477500['timesCalled']=_0x477500[_0x4e1c63(0x28b)]?_0x477500[_0x4e1c63(0x28b)]+0x1:0x1,_0x3db621(_0x477500,_0x3dda4e)>_0x477500[_0x4e1c63(0x28b)])return;if(!_0x477500[_0x4e1c63(0x530)]['prompt']&&!_0x477500['accumulated']['results']||!_0x477500[_0x4e1c63(0x530)][_0x4e1c63(0x7b3)])throw new Error(_0x4e1c63(0x308));const _0x25c92b=_0x107a95[_0x4e1c63(0x871)][_0x4e1c63(0x1eb)](_0x477500['id'])['getContent'](Array[_0x4e1c63(0x6dd)](_0x477500[_0x4e1c63(0x530)][_0x4e1c63(0x7b3)]),_0x477500[_0x4e1c63(0x714)]['maxDepth'],_0x477500[_0x4e1c63(0x714)][_0x4e1c63(0x418)]);let _0x58f6d5=[];for(const _0x322894 in _0x25c92b){const _0x429728=_0x25c92b[_0x322894];for(const _0xf06a8e of _0x429728){let _0x21eed3=0x0;if(_0x477500[_0x4e1c63(0x530)]['prompt']&&(_0x21eed3=await _0x107a95[_0x4e1c63(0x8d8)][_0x4e1c63(0x942)](_0x477500['accumulated'][_0x4e1c63(0x929)],_0xf06a8e)),_0x477500[_0x4e1c63(0x530)][_0x4e1c63(0x2d0)]){for(const _0x1c211a of _0x477500['accumulated'][_0x4e1c63(0x2d0)])_0x21eed3=Math[_0x4e1c63(0x9bf)](_0x21eed3,await _0x107a95['nlpLibraryConnector']['getSimilarity'](_0x1c211a[_0x4e1c63(0x7bd)],_0xf06a8e));}_0x21eed3<_0x477500['attributes']['minRelevance']||_0x58f6d5['push']({'content':_0xf06a8e,'relevance':_0x21eed3,'pathName':_0x322894});}}_0x58f6d5=_0x58f6d5[_0x4e1c63(0x1ca)]((_0x42292d,_0x540693)=>_0x540693['relevance']-_0x42292d[_0x4e1c63(0x76f)])[_0x4e1c63(0x3ef)](0x0,_0x477500['attributes'][_0x4e1c63(0x699)]),_0x2a25ba[_0x4e1c63(0x7f8)]({'jobType':_0x1f107e[_0x4e1c63(0x6ed)],'type':_0x2e8125[_0x4e1c63(0xa00)],'jobId':_0x4d1148,'threadId':_0x2664b0,'blockId':_0x477500['id'],'traceLevel':_0x51e2ca[_0x4e1c63(0x9a1)],'timestamp':Date[_0x4e1c63(0x667)](),'startTime':_0x5b6873,'status':_0x4e1c63(0x7f4),'content':_0xf25e2a,'topResults':_0x58f6d5,'numResults':_0x58f6d5[_0x4e1c63(0x454)]}),await _0x41b5e5(_0x4d1148,_0x2664b0,_0x58f6d5,_0x3f4841,_0x477500,_0x3dda4e,_0x107a95);}async function _0x66ac69(_0x33f7f4,_0x1e99a5,_0x3e5f6a,_0x58b5e0,_0x2f2e4f,_0x24adfa,_0x539071){const _0x81c4c=_0xdcbb79,_0x334df2=_0x539071[_0x81c4c(0x9ac)][_0x81c4c(0x39d)](_0x23352c=>_0x23352c['id']===_0x2f2e4f['id']);if(!_0x334df2)throw new Error(_0x81c4c(0x3c3));let _0xc770ea='';switch(_0xc770ea=_0x3e5f6a instanceof Array?_0x3e5f6a[_0x81c4c(0x945)](_0xee0864=>_0xee0864[_0x81c4c(0x7bd)])[_0x81c4c(0x9e4)](',\x20'):_0x3e5f6a,_0x334df2[_0x81c4c(0x88e)]){case _0x410512[_0x81c4c(0x65a)][_0x81c4c(0x5fa)]:await async function(_0x56b045,_0x3fa34c,_0x190d73,_0x28e201,_0x509a74,_0x3d7074,_0x14276b,_0x1f0df9){const _0x5429e9=_0x81c4c,_0x1a72df=Date['now'](),_0x34b16a=_0x1f0df9[_0x5429e9(0x4c4)][_0x5429e9(0x39d)](_0x565668=>_0x565668[_0x5429e9(0x91f)]()===_0x509a74[_0x5429e9(0x8cb)]);if(!_0x34b16a)throw new Error(_0x5429e9(0x7f1));const _0x10d413=await async function(_0x4880d9,_0x2f84e1,_0x3435a7,_0x2b1273,_0x2b0da9){const _0x371dcd=_0x5429e9,_0x4257cf={'type':'prompt','prompt':_0x2f84e1,'threadId':_0x4880d9};_0x3435a7['context'][_0x371dcd(0x454)]>0x0&&(_0x4257cf['instructions']=_0x371dcd(0x220)+_0x3435a7[_0x371dcd(0x5bb)]['map'](_0x4d7d29=>'From\x20'+_0x4d7d29[_0x371dcd(0x2c3)]+':\x20'+_0x4d7d29['content'])['join']('\x0a'));const _0x4f43e=await _0x2b1273[_0x371dcd(0x8d0)](_0x4257cf,{'model':_0x2b0da9});if(_0x4f43e[_0x371dcd(0x2f9)]instanceof Array)throw new Error('Unexpected\x20output\x20type');return _0x3435a7[_0x371dcd(0x99a)]+=_0x4f43e['inputTokens']??0x0,_0x3435a7[_0x371dcd(0x6f4)]+=_0x4f43e[_0x371dcd(0x6f4)]??0x0,_0x4f43e[_0x371dcd(0x2f9)];}(_0x3fa34c,_0x190d73,_0x28e201,_0x34b16a,_0x509a74);_0x2a25ba[_0x5429e9(0x7f8)]({'jobType':_0x1f107e[_0x5429e9(0x6ed)],'type':_0x2e8125['ModelText'],'jobId':_0x56b045,'threadId':_0x3fa34c,'blockId':_0x3d7074['id'],'traceLevel':_0x51e2ca['Debug'],'startTime':_0x1a72df,'timestamp':Date[_0x5429e9(0x667)](),'status':_0x5429e9(0x7f4),'modelName':_0x509a74['id'],'content':_0x190d73,'newPrompt':_0x10d413,'inputType':_0x509a74['inputType'],'outputType':_0x509a74['outputType']}),await _0x41b5e5(_0x56b045,_0x3fa34c,_0x10d413,_0x28e201,_0x3d7074,_0x14276b,_0x1f0df9);}(_0x33f7f4,_0x1e99a5,_0xc770ea,_0x58b5e0,_0x334df2,_0x2f2e4f,_0x24adfa,_0x539071);break;case _0x410512[_0x81c4c(0x65a)][_0x81c4c(0x53c)]:await async function(_0x46aec1,_0x34d084,_0x115e88,_0x7dd893,_0x165f4b,_0x5458b0,_0x3a3741,_0x4a8ef7){const _0xbfac00=_0x81c4c,_0x3a35f4=Date[_0xbfac00(0x667)](),_0x4e8ecf=_0x4a8ef7[_0xbfac00(0x4c4)][_0xbfac00(0x39d)](_0x5b0b78=>_0x5b0b78[_0xbfac00(0x91f)]()===_0x165f4b['engineType']);if(!_0x4e8ecf)throw new Error(_0xbfac00(0x7f1));const _0x42eab3=await async function(_0x2a2828,_0x13cdd7,_0x374134,_0xd18db3){const _0x427fad=_0xbfac00;return(await _0x374134['processJob']({'type':'prompt','prompt':_0x13cdd7,'threadId':_0x2a2828},{'model':_0xd18db3}))[_0x427fad(0x2f9)];}(_0x34d084,_0x115e88,_0x4e8ecf,_0x165f4b);_0x2a25ba['trace']({'jobType':_0x1f107e[_0xbfac00(0x6ed)],'type':_0x2e8125[_0xbfac00(0x3ca)],'jobId':_0x46aec1,'threadId':_0x34d084,'blockId':_0x5458b0['id'],'traceLevel':_0x51e2ca[_0xbfac00(0x9a1)],'startTime':_0x3a35f4,'timestamp':Date[_0xbfac00(0x667)](),'status':_0xbfac00(0x7f4),'modelName':_0x165f4b['id'],'content':_0x115e88,'totalVectors':_0x42eab3[_0xbfac00(0x454)]}),await _0x41b5e5(_0x46aec1,_0x34d084,_0x42eab3,_0x7dd893,_0x5458b0,_0x3a3741,_0x4a8ef7);}(_0x33f7f4,_0x1e99a5,_0xc770ea,_0x58b5e0,_0x334df2,_0x2f2e4f,_0x24adfa,_0x539071);}}async function _0x3e95a9(_0x49263c,_0x592d05,_0x4bd8cb,_0x2d9539,_0x4b0928,_0x542b39,_0xef703e){const _0x6c1ab3=_0xdcbb79,_0x2cc326=Date['now'](),_0x3f1286=_0xef703e['contentMediator']['getVectorDatabase'](_0x4b0928['id'])[_0x6c1ab3(0x96f)](_0x4bd8cb,_0x4b0928[_0x6c1ab3(0x714)][_0x6c1ab3(0x699)],_0x4b0928[_0x6c1ab3(0x714)][_0x6c1ab3(0x8f7)],_0x4b0928['attributes']['contentSize']);_0x2a25ba[_0x6c1ab3(0x7f8)]({'jobType':_0x1f107e[_0x6c1ab3(0x6ed)],'type':_0x2e8125[_0x6c1ab3(0x7fd)],'jobId':_0x49263c,'threadId':_0x592d05,'blockId':_0x4b0928['id'],'traceLevel':_0x51e2ca[_0x6c1ab3(0x9a1)],'startTime':_0x2cc326,'timestamp':Date['now'](),'status':_0x6c1ab3(0x7f4),'topResults':_0x3f1286,'numResults':_0x3f1286[_0x6c1ab3(0x454)]}),await _0x41b5e5(_0x49263c,_0x592d05,_0x3f1286,_0x2d9539,_0x4b0928,_0x542b39,_0xef703e);}async function _0x4fc654(_0x3e5781,_0x2f5d9d,_0x5d7299,_0x5101b3,_0x526892,_0x31d712,_0x5ed1e0){const _0x4d7692=_0xdcbb79,_0x17599c=Date[_0x4d7692(0x667)]();if(_0x526892[_0x4d7692(0x530)]||(_0x526892['accumulated']={}),_0x5d7299 instanceof Array?(_0x526892[_0x4d7692(0x530)]['results']||(_0x526892[_0x4d7692(0x530)][_0x4d7692(0x2d0)]=[]),_0x526892[_0x4d7692(0x530)]['results'][_0x4d7692(0x90d)](..._0x5d7299)):_0x526892[_0x4d7692(0x530)]['prompt']=_0x5d7299,_0x526892[_0x4d7692(0x28b)]=_0x526892['timesCalled']?_0x526892[_0x4d7692(0x28b)]+0x1:0x1,_0x3db621(_0x526892,_0x31d712)>_0x526892[_0x4d7692(0x28b)])return;if(!_0x526892['accumulated'][_0x4d7692(0x929)]||!_0x526892[_0x4d7692(0x530)][_0x4d7692(0x2d0)])throw new Error(_0x4d7692(0x15a));for(const _0x112c29 of _0x526892[_0x4d7692(0x530)][_0x4d7692(0x2d0)])_0x112c29['relevance']=await _0x5ed1e0[_0x4d7692(0x8d8)][_0x4d7692(0x942)](_0x526892[_0x4d7692(0x530)][_0x4d7692(0x929)],_0x112c29[_0x4d7692(0x7bd)]);const _0x254a0a=_0x526892['accumulated']['results'][_0x4d7692(0x4e9)](_0x342940=>_0x342940['relevance']>_0x526892[_0x4d7692(0x714)][_0x4d7692(0x8f7)])[_0x4d7692(0x1ca)]((_0x5a5ca8,_0x2a06a2)=>_0x2a06a2[_0x4d7692(0x76f)]-_0x5a5ca8[_0x4d7692(0x76f)])[_0x4d7692(0x3ef)](0x0,_0x526892[_0x4d7692(0x714)][_0x4d7692(0x699)]);_0x2a25ba[_0x4d7692(0x7f8)]({'jobType':_0x1f107e[_0x4d7692(0x6ed)],'type':_0x2e8125[_0x4d7692(0xa69)],'jobId':_0x3e5781,'threadId':_0x2f5d9d,'blockId':_0x526892['id'],'traceLevel':_0x51e2ca[_0x4d7692(0x9a1)],'startTime':_0x17599c,'timestamp':Date[_0x4d7692(0x667)](),'status':_0x4d7692(0x7f4),'inputResults':_0x526892[_0x4d7692(0x530)][_0x4d7692(0x2d0)],'rerankedResults':_0x254a0a}),await _0x41b5e5(_0x3e5781,_0x2f5d9d,_0x254a0a,_0x5101b3,_0x526892,_0x31d712,_0x5ed1e0);}async function _0x41b5e5(_0xb8a899,_0x7fb779,_0x3c959e,_0x2f7b19,_0x4f702b,_0x346f0c,_0xb9b4a1){const _0x2991fd=_0xdcbb79;for(const _0x5c38bd of _0x4f702b[_0x2991fd(0x2ac)]||[]){const _0x1042ba=_0x346f0c[_0x2991fd(0x39d)](_0xa581e8=>_0xa581e8[_0x2991fd(0x253)]===_0x5c38bd[_0x2991fd(0x253)]);if(_0x1042ba)switch(_0x1042ba[_0x2991fd(0x8fa)]){case _0x303f13[_0x2991fd(0x6f3)]:_0x2f7b19[_0x2991fd(0x5bb)][_0x2991fd(0x90d)](..._0x3c959e);break;case _0x303f13[_0x2991fd(0x23a)]:await _0xc8faad(_0xb8a899,_0x7fb779,_0x3c959e,_0x2f7b19,_0x1042ba,_0x346f0c,_0xb9b4a1);break;case _0x303f13['GraphDatabase']:await _0x2c46d5(_0xb8a899,_0x7fb779,_0x3c959e,_0x2f7b19,_0x1042ba,_0x346f0c,_0xb9b4a1);break;case _0x303f13[_0x2991fd(0x7b2)]:await _0x66ac69(_0xb8a899,_0x7fb779,_0x3c959e,_0x2f7b19,_0x1042ba,_0x346f0c,_0xb9b4a1);break;case _0x303f13[_0x2991fd(0xa69)]:await _0x4fc654(_0xb8a899,_0x7fb779,_0x3c959e,_0x2f7b19,_0x1042ba,_0x346f0c,_0xb9b4a1);break;case _0x303f13['VectorDatabase']:await _0x3e95a9(_0xb8a899,_0x7fb779,_0x3c959e,_0x2f7b19,_0x1042ba,_0x346f0c,_0xb9b4a1);}}}function _0x3db621(_0x5afd43,_0x280847){const _0xc39a39=_0xdcbb79;return _0x280847[_0xc39a39(0x4e9)](_0x187e3a=>_0x187e3a[_0xc39a39(0x2ac)]?.[_0xc39a39(0x692)](_0xbd329e=>_0xbd329e[_0xc39a39(0x253)]===_0x5afd43['uid']))['length'];}async function _0x1fe05f(_0x44d91e,_0x558420,_0x10216b,_0x535221,_0x21b8c5,_0x4262b4){const _0x451262=_0xdcbb79,_0x5fdded={'type':'prompt','output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x41b5e5(_0x44d91e,_0x558420,_0x10216b,_0x5fdded,_0x535221,structuredClone(_0x21b8c5),_0x4262b4),_0x5fdded[_0x451262(0x2f9)]=_0x451262(0x220)+_0x5fdded[_0x451262(0x5bb)]['map'](_0x4ca56a=>_0x451262(0x7ec)+_0x4ca56a[_0x451262(0x2c3)]+':\x20'+_0x4ca56a['content'])['join']('\x0a');}catch(_0x479744){console[_0x451262(0x33f)](_0x451262(0xa36),_0x479744);}return _0x5fdded;}class _0xdf2bfc{static [_0xdcbb79(0x5bb)]={};static[_0xdcbb79(0x192)](_0x300b06,_0x481e6f){const _0x34f531=_0xdcbb79;return this[_0x34f531(0x5bb)][_0x300b06]?.[_0x481e6f]??'';}static[_0xdcbb79(0x6e1)](_0xe47f11,_0x415ee7,_0x2bc9d7){const _0x403a05=_0xdcbb79;this[_0x403a05(0x5bb)][_0xe47f11]||(this[_0x403a05(0x5bb)][_0xe47f11]={}),this[_0x403a05(0x5bb)][_0xe47f11][_0x415ee7]=_0x2bc9d7;}static[_0xdcbb79(0x1a9)](_0x483c81){const _0x59964e=_0xdcbb79;return this[_0x59964e(0x5bb)][_0x483c81]??{};}static[_0xdcbb79(0x500)](_0x27a53a){const _0x417cbb=_0xdcbb79;delete this[_0x417cbb(0x5bb)][_0x27a53a];}}function _0x3f8742(_0x74293f,_0x4ee243,_0x41ccd7,_0x15ccdb,_0x1aac40,_0x4e5390,_0x888355,_0x3c5e18){const _0x5f1d27=_0xdcbb79,_0x19aa10=new Map(),_0x55d98e=_0x4e5390[_0x5f1d27(0x4e9)](_0x31c195=>_0x31c195[_0x5f1d27(0x2ac)]?.[_0x5f1d27(0x39d)](_0x245329=>_0x245329[_0x5f1d27(0x253)]===_0x1aac40[_0x5f1d27(0x253)]&&(_0x245329['type']===_0x512626['Knowledge']||_0x245329[_0x5f1d27(0x8fa)]===_0x512626[_0x5f1d27(0x8d5)])));for(const _0x456ff1 of _0x55d98e)_0x456ff1[_0x5f1d27(0x8fa)]===_0x9e7c8[_0x5f1d27(0x8e2)]||_0x456ff1[_0x5f1d27(0x8fa)]===_0x9e7c8[_0x5f1d27(0x2f1)]?_0x19aa10[_0x5f1d27(0x80a)](_0x5f1d27(0x697)+_0x456ff1['id'],_0x11bed3(_0x74293f,_0x4ee243,_0x41ccd7,_0x15ccdb,_0x456ff1,_0x888355,_0x3c5e18)):_0x456ff1['type']===_0x9e7c8['AgentSkill']||_0x456ff1[_0x5f1d27(0x8fa)]===_0x9e7c8[_0x5f1d27(0x963)]?_0x19aa10[_0x5f1d27(0x80a)](_0x5f1d27(0x65b)+_0x456ff1['id'],_0x35dcb8(_0x74293f,_0x4ee243,_0x41ccd7,_0x15ccdb,_0x456ff1,_0x4e5390,_0x888355,_0x3c5e18)):_0x456ff1[_0x5f1d27(0x8fa)]===_0x9e7c8['CustomSkill']?_0x19aa10[_0x5f1d27(0x80a)](_0x456ff1[_0x5f1d27(0x181)][_0x5f1d27(0x7cf)](/[^a-zA-Z]/g,''),_0x21ecfa(_0x74293f,_0x4ee243,_0x41ccd7,_0x456ff1,_0x3c5e18)):_0x19aa10[_0x5f1d27(0x80a)](_0x35b8a2(_0x456ff1),_0x51a52b(_0x74293f,_0x4ee243,_0x41ccd7,_0x456ff1,_0x888355,_0x3c5e18));return(_0x1aac40['contextInputVariable']&&''!==_0x1aac40[_0x5f1d27(0x2f8)]||_0x1aac40[_0x5f1d27(0x561)]&&''!==_0x1aac40['contextOutputVariable'])&&'default'===_0x1aac40[_0x5f1d27(0x9ff)]&&_0x19aa10[_0x5f1d27(0x80a)]('retrieveContext',function(_0xf5f9e9,_0x1782a6,_0x45be74){const _0x535171=_0x5f1d27;return{'description':_0x535171(0x756),'params':{},'callback':async()=>{const _0x120142=_0x535171;try{if(!_0x1782a6[_0x120142(0x2f8)]&&!_0x1782a6[_0x120142(0x561)])throw new Error(_0x120142(0x814));_0x45be74&&_0x45be74[_0x120142(0x6de)]({'output':_0x120142(0x925),'type':_0x120142(0x929)});let _0x309cb8='';if(_0x1782a6[_0x120142(0x2f8)]){const _0x5daa70=_0x1782a6[_0x120142(0x2f8)][_0x120142(0x470)](',');for(const _0x5a122f of _0x5daa70){const _0x23859d=_0xdf2bfc[_0x120142(0x192)](_0xf5f9e9,_0x5a122f);''!==_0x23859d&&(_0x309cb8=_0x5a122f+':\x20'+_0x23859d+'\x0a\x0a'+_0x309cb8);}}if(_0x1782a6['contextOutputVariable']){const _0x328ebd=_0x1782a6[_0x120142(0x561)][_0x120142(0x470)](',');for(const _0x3206cf of _0x328ebd){const _0x1b2435=_0xdf2bfc[_0x120142(0x192)](_0xf5f9e9,_0x3206cf);''!==_0x1b2435&&(_0x309cb8=_0x3206cf+':\x20'+_0x1b2435+'\x0a\x0a'+_0x309cb8);}}return _0x309cb8;}catch(_0x5ccc54){return console[_0x120142(0x33f)](_0x5ccc54),_0x5ccc54 instanceof Error?_0x5ccc54[_0x120142(0x41d)]:_0x120142(0x758);}}};}(_0x41ccd7,_0x1aac40,_0x3c5e18)),_0x19aa10;}function _0x35dcb8(_0x44eda9,_0x58d57e,_0x541e20,_0x56426d,_0x1f8aec,_0x192016,_0x99850a,_0x559578){const _0x2d5618=_0xdcbb79,_0x3c4d96=_0x2d5618(0x8f9)+_0x1f8aec[_0x2d5618(0xa25)]+_0x2d5618(0x6c5),_0xa98653={'prompt':{'type':_0x410512[_0x2d5618(0x87d)][_0x2d5618(0x2e7)]}};return _0x2a25ba['trace']({'jobType':_0x1f107e[_0x2d5618(0x271)],'type':_0x163d68[_0x2d5618(0x631)],'jobId':_0x44eda9,'agentId':_0x58d57e,'threadId':_0x541e20,'traceLevel':_0x51e2ca['Info'],'startTime':Date[_0x2d5618(0x667)](),'timestamp':Date['now'](),'status':_0x2d5618(0x7f4),'function':_0x5d124b[_0x2d5618(0x734)],'params':_0xa98653,'functionDescription':_0x3c4d96}),{'description':_0x3c4d96,'params':_0xa98653,'callback':async _0x4f480e=>{const _0x17ea60=_0x2d5618,_0xf1084e=Date[_0x17ea60(0x667)]();let _0xaa6592='';try{if(_0x559578&&_0x559578[_0x17ea60(0x6de)]({'output':_0x17ea60(0x995)+_0x1f8aec[_0x17ea60(0x181)]+_0x17ea60(0x671),'type':_0x17ea60(0x929)}),_0x17ea60(0x610)!=typeof _0x4f480e?.[_0x17ea60(0x929)])throw new Error(_0x17ea60(0x445));if(_0xaa6592=_0x4f480e[_0x17ea60(0x929)],_0x1f8aec[_0x17ea60(0x2f8)]&&''!==_0x1f8aec[_0x17ea60(0x2f8)]&&_0x17ea60(0x64c)!==_0x1f8aec[_0x17ea60(0x9ff)]){const _0x3616c1=_0x1f8aec[_0x17ea60(0x2f8)][_0x17ea60(0x470)](',');for(const _0xd7e1e5 of _0x3616c1){const _0xbad8f6=_0xdf2bfc[_0x17ea60(0x192)](_0x541e20,_0xd7e1e5);''!==_0xbad8f6&&(_0xaa6592=_0xaa6592+'\x0a\x0a'+_0xd7e1e5+':\x20'+_0xbad8f6);}}if(_0x1f8aec[_0x17ea60(0x561)]&&''!==_0x1f8aec[_0x17ea60(0x561)]&&_0x17ea60(0x64c)!==_0x1f8aec[_0x17ea60(0x9ff)]){const _0x58f9a7=_0x1f8aec[_0x17ea60(0x561)][_0x17ea60(0x470)](',');for(const _0x3f218d of _0x58f9a7){const _0x2ffcde=_0xdf2bfc[_0x17ea60(0x192)](_0x541e20,_0x3f218d);''!==_0x2ffcde&&(_0xaa6592=_0xaa6592+'\x0a\x0a'+_0x3f218d+':\x20'+_0x2ffcde);}}const _0x4605a2=_0x99850a[_0x17ea60(0x9ac)]['find'](_0x1764e1=>_0x1764e1['id']===_0x1f8aec['modelId']);if(!_0x4605a2)throw new Error(_0x17ea60(0x3c3));const _0x16f664=_0x99850a['generativeAIWorkerConnectors'][_0x17ea60(0x39d)](_0x43ebd9=>_0x43ebd9['getEngineType']()===_0x4605a2['engineType']);if(!_0x16f664)throw new Error(_0x17ea60(0x7f1));let _0x130cef;if(_0x559578&&!0x1!==_0x1f8aec[_0x17ea60(0xa17)]?(_0x559578[_0x17ea60(0x6de)]({'output':'\x0a\x0a','type':_0x17ea60(0x929)}),_0x130cef=await async function(_0x323735,_0x2246c8,_0x2b2470,_0x168e93,_0x1163d1,_0x1b77d7,_0x5ef08b,_0x1cab18,_0x5b1a47){const _0x22ae9d=_0x17ea60;let _0x5b1237='';const _0x343398=_0x5b1a47[_0x22ae9d(0x9ac)][_0x22ae9d(0x39d)](_0x394332=>_0x394332['id']===_0x1b77d7[_0x22ae9d(0x54b)]);if(!_0x343398)throw new Error(_0x22ae9d(0x3c3));const _0x22124c=_0x5b1a47['generativeAIWorkerConnectors'][_0x22ae9d(0x39d)](_0x294a51=>_0x294a51[_0x22ae9d(0x91f)]()===_0x343398['engineType']);if(!_0x22124c)throw new Error('No\x20connector\x20found\x20for\x20model');for await(const _0x5b208d of _0x22124c[_0x22ae9d(0x158)]({'type':_0x22ae9d(0x929),'prompt':_0x168e93,'instructions':_0x1b77d7[_0x22ae9d(0x20b)],'grammar':_0x1b77d7[_0x22ae9d(0x9ff)],'temperature':_0x1b77d7[_0x22ae9d(0x595)],'maxTokens':_0x1b77d7[_0x22ae9d(0x9d0)],'functions':_0x3f8742(_0x323735,_0x2246c8,_0x2b2470,_0x1163d1,_0x1b77d7,_0x5ef08b,_0x5b1a47,_0x1cab18),'threadId':_0x2b2470},{'model':_0x343398}))_0x1cab18[_0x22ae9d(0x6de)](_0x5b208d),_0x5b1237+=_0x5b208d[_0x22ae9d(0x2f9)];return{'type':_0x22ae9d(0x929),'output':_0x5b1237};}(_0x44eda9,_0x58d57e,_0x541e20,_0xaa6592,_0x56426d,_0x1f8aec,_0x192016,_0x559578,_0x99850a),_0x559578[_0x17ea60(0x6de)]({'output':'\x0a\x0a','type':'prompt'})):_0x130cef=await _0x16f664[_0x17ea60(0x8d0)]({'type':_0x17ea60(0x929),'prompt':_0xaa6592,'instructions':_0x1f8aec[_0x17ea60(0x20b)],'grammar':_0x1f8aec[_0x17ea60(0x9ff)],'temperature':_0x1f8aec[_0x17ea60(0x595)],'maxTokens':_0x1f8aec[_0x17ea60(0x9d0)],'functions':_0x3f8742(_0x44eda9,_0x58d57e,_0x541e20,_0x56426d,_0x1f8aec,_0x192016,_0x99850a,_0x559578),'threadId':_0x541e20},{'model':_0x4605a2}),_0x17ea60(0x610)!=typeof _0x130cef[_0x17ea60(0x2f9)])throw new Error(_0x17ea60(0x6d3));return _0x2a25ba[_0x17ea60(0x7f8)]({'jobType':_0x1f107e[_0x17ea60(0x8d5)],'type':_0x5d124b['ExecuteAgent'],'jobId':_0x44eda9,'blockId':_0x1f8aec['id'],'agentId':_0x58d57e,'threadId':_0x541e20,'traceLevel':_0x51e2ca[_0x17ea60(0xa01)],'startTime':_0xf1084e,'timestamp':Date[_0x17ea60(0x667)](),'status':_0x17ea60(0x7f4),'agentName':_0x1f8aec[_0x17ea60(0x181)],'prompt':_0xaa6592,'instructions':_0x1f8aec[_0x17ea60(0x20b)],'result':_0x130cef[_0x17ea60(0x2f9)],'inputTokens':0x0,'outputTokens':0x0}),_0x1f8aec[_0x17ea60(0x561)]&&(_0xdf2bfc[_0x17ea60(0x6e1)](_0x541e20,_0x1f8aec['contextOutputVariable'],_0x130cef[_0x17ea60(0x2f9)]),_0x56426d['internalContext']=_0xdf2bfc[_0x17ea60(0x1a9)](_0x541e20)),_0x559578?_0x17ea60(0x19f):_0x130cef['output'];}catch(_0xc137ef){return console[_0x17ea60(0x33f)](_0xc137ef),_0x2a25ba[_0x17ea60(0x7f8)]({'jobType':_0x1f107e[_0x17ea60(0x8d5)],'type':_0x5d124b['ExecuteAgent'],'jobId':_0x44eda9,'blockId':_0x1f8aec['id'],'agentId':_0x58d57e,'threadId':_0x541e20,'traceLevel':_0x51e2ca[_0x17ea60(0xa01)],'startTime':_0xf1084e,'timestamp':Date[_0x17ea60(0x667)](),'status':_0x17ea60(0x33f),'errorDetails':_0x46d83c(_0xc137ef),'agentName':_0x1f8aec[_0x17ea60(0x181)],'prompt':_0xaa6592,'instructions':_0x1f8aec[_0x17ea60(0x20b)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0xc137ef instanceof Error?_0xc137ef[_0x17ea60(0x41d)]:_0x17ea60(0x94d);}}};}function _0x11bed3(_0x1d90ae,_0x1cab29,_0x3148c1,_0x2d3930,_0x9f3283,_0x46c8e0,_0x5d3d11){const _0x35a3bd=_0xdcbb79,_0x12a9cb=_0x35a3bd(0x957)+_0x9f3283[_0x35a3bd(0xa25)]+_0x35a3bd(0x7e3),_0x40dfac={'queryOrPrompt':{'type':_0x410512[_0x35a3bd(0x87d)]['String']}};return _0x2a25ba['trace']({'jobType':_0x1f107e[_0x35a3bd(0x271)],'type':_0x163d68['LoadKnowledgeFunction'],'jobId':_0x1d90ae,'agentId':_0x1cab29,'threadId':_0x3148c1,'blockId':_0x9f3283['id'],'traceLevel':_0x51e2ca[_0x35a3bd(0xa01)],'startTime':Date[_0x35a3bd(0x667)](),'timestamp':Date[_0x35a3bd(0x667)](),'status':_0x35a3bd(0x7f4),'function':_0xc11c21[_0x35a3bd(0x766)],'params':_0x40dfac,'functionDescription':_0x12a9cb}),{'description':_0x12a9cb,'params':_0x40dfac,'callback':async _0x1167e6=>{const _0x428034=_0x35a3bd,_0x908e97=Date['now']();try{if(_0x5d3d11&&_0x5d3d11['emit']({'output':_0x428034(0x2b2)+_0x9f3283[_0x428034(0x181)]+_0x428034(0x7c7)+_0x1167e6?.[_0x428034(0x44e)]+'`\x0a\x0a','type':'prompt'}),_0x428034(0x610)!=typeof _0x1167e6?.[_0x428034(0x44e)])throw new Error(_0x428034(0x73a));const _0x3b35da=_0x9f3283['retrieveBlocks']['find'](_0x2164f0=>_0x2164f0[_0x428034(0x8fa)]===_0x303f13[_0x428034(0x86c)]),_0x627a94=await _0x1fe05f(_0x1d90ae,_0x3148c1,_0x1167e6[_0x428034(0x44e)],_0x3b35da,_0x9f3283[_0x428034(0x3e7)],_0x46c8e0);return _0x2d3930[_0x428034(0x5bb)]=Array[_0x428034(0x6dd)](new Set([..._0x2d3930['context'],..._0x627a94['context']])),_0x2a25ba[_0x428034(0x7f8)]({'jobType':_0x1f107e[_0x428034(0x8e2)],'type':_0xc11c21[_0x428034(0x284)],'jobId':_0x1d90ae,'blockId':_0x9f3283['id'],'agentId':_0x1cab29,'threadId':_0x3148c1,'traceLevel':_0x51e2ca[_0x428034(0xa01)],'startTime':_0x908e97,'timestamp':Date[_0x428034(0x667)](),'status':_0x428034(0x7f4),'query':_0x1167e6[_0x428034(0x44e)],'context':_0x627a94[_0x428034(0x5bb)]??[],'inputTokens':_0x627a94['inputTokens']??0x0,'outputTokens':_0x627a94[_0x428034(0x6f4)]??0x0}),_0x627a94[_0x428034(0x2f9)];}catch(_0x255434){return console[_0x428034(0x33f)](_0x255434),_0x2a25ba[_0x428034(0x7f8)]({'jobType':_0x1f107e[_0x428034(0x8e2)],'type':_0xc11c21['GetContextResult'],'jobId':_0x1d90ae,'blockId':_0x9f3283['id'],'agentId':_0x1cab29,'threadId':_0x3148c1,'traceLevel':_0x51e2ca[_0x428034(0xa01)],'startTime':_0x908e97,'timestamp':Date['now'](),'status':'error','errorDetails':_0x46d83c(_0x255434),'query':_0x1167e6?.['queryOrPrompt']??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x255434 instanceof Error?_0x255434[_0x428034(0x41d)]:_0x428034(0x89f);}}};}function _0x35b8a2(_0x594414){const _0x3c261f=_0xdcbb79;switch(_0x594414['type']){case _0x9e7c8['Time']:return _0x3c261f(0x7aa);case _0x9e7c8[_0x3c261f(0x4ef)]:return'executeJavascriptCodeSnippet';case _0x9e7c8[_0x3c261f(0x49d)]:return _0x3c261f(0xa5a);case _0x9e7c8['WebScraper']:case _0x9e7c8[_0x3c261f(0x251)]:return _0x3c261f(0x4a2);}throw new Error(_0x3c261f(0x641));}function _0x51a52b(_0x96c437,_0xe3d184,_0x161f57,_0x7d3fe,_0x2df24f,_0x21f38e){const _0xb8f5c1=_0xdcbb79;switch(_0x7d3fe['type']){case _0x9e7c8['Time']:return function(_0x978f08,_0x36359f,_0x5b96d0,_0x24cda1,_0x1158d5){const _0x2e6b32=a0_0x27c7,_0x3aaeb4='Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.';return _0x2a25ba[_0x2e6b32(0x7f8)]({'jobType':_0x1f107e[_0x2e6b32(0x271)],'type':_0x163d68[_0x2e6b32(0x631)],'jobId':_0x978f08,'agentId':_0x36359f,'threadId':_0x5b96d0,'traceLevel':_0x51e2ca[_0x2e6b32(0xa01)],'startTime':Date[_0x2e6b32(0x667)](),'timestamp':Date[_0x2e6b32(0x667)](),'status':'success','function':_0x5d124b[_0x2e6b32(0x971)],'params':{},'functionDescription':_0x3aaeb4}),{'description':_0x3aaeb4,'callback':()=>{const _0x57a59f=_0x2e6b32,_0x28b1f0=Date[_0x57a59f(0x667)]();_0x1158d5&&_0x1158d5[_0x57a59f(0x6de)]({'output':_0x57a59f(0x927),'type':_0x57a59f(0x929)});const _0x215285=new Date()[_0x57a59f(0x86b)]();return _0x2a25ba[_0x57a59f(0x7f8)]({'jobType':_0x1f107e[_0x57a59f(0x8d5)],'type':_0x5d124b[_0x57a59f(0x971)],'jobId':_0x978f08,'agentId':_0x36359f,'threadId':_0x5b96d0,'blockId':_0x24cda1,'traceLevel':_0x51e2ca['Info'],'startTime':_0x28b1f0,'timestamp':Date[_0x57a59f(0x667)](),'status':'success','date':_0x215285}),_0x215285;}};}(_0x96c437,_0xe3d184,_0x161f57,_0x7d3fe['id'],_0x21f38e);case _0x9e7c8['Code']:return function(_0x1e9216,_0x142b48,_0x9646b5,_0x26e618,_0x355297){const _0x3025a7=a0_0x27c7,_0x1e920d=_0x3025a7(0x389),_0x34e503={'code':{'type':_0x410512[_0x3025a7(0x87d)][_0x3025a7(0x2e7)]}};return _0x2a25ba['trace']({'jobType':_0x1f107e[_0x3025a7(0x271)],'type':_0x163d68[_0x3025a7(0x631)],'jobId':_0x1e9216,'agentId':_0x142b48,'threadId':_0x9646b5,'traceLevel':_0x51e2ca[_0x3025a7(0xa01)],'startTime':Date['now'](),'timestamp':Date[_0x3025a7(0x667)](),'status':'success','function':_0x5d124b[_0x3025a7(0x1bf)],'params':_0x34e503,'functionDescription':_0x1e920d}),{'description':_0x1e920d,'params':_0x34e503,'callback':_0x1da2ad=>{const _0x34bbb3=_0x3025a7,_0xbf340e=Date[_0x34bbb3(0x667)]();try{if(_0x355297&&_0x355297['emit']({'output':_0x34bbb3(0xa4f),'type':_0x34bbb3(0x929)}),'string'!=typeof _0x1da2ad?.[_0x34bbb3(0x348)])throw new Error(_0x34bbb3(0x43b));const _0x214d9b=Function(''+_0x1da2ad?.[_0x34bbb3(0x348)])();let _0x3a0f64='';try{_0x3a0f64=JSON[_0x34bbb3(0x6fb)](_0x214d9b);}catch{_0x3a0f64=_0x214d9b['toString']();}return _0x2a25ba['trace']({'jobType':_0x1f107e['Skill'],'type':_0x5d124b['ExecuteCode'],'agentId':_0x142b48,'threadId':_0x9646b5,'jobId':_0x1e9216,'blockId':_0x26e618,'traceLevel':_0x51e2ca['Info'],'startTime':_0xbf340e,'timestamp':Date[_0x34bbb3(0x667)](),'status':'success','code':_0x1da2ad[_0x34bbb3(0x348)],'result':_0x3a0f64}),_0x214d9b;}catch(_0x1567b1){return console[_0x34bbb3(0x33f)](_0x1567b1),_0x2a25ba[_0x34bbb3(0x7f8)]({'jobType':_0x1f107e['Skill'],'type':_0x5d124b[_0x34bbb3(0x1bf)],'jobId':_0x1e9216,'blockId':_0x26e618,'traceLevel':_0x51e2ca[_0x34bbb3(0xa01)],'startTime':_0xbf340e,'timestamp':Date[_0x34bbb3(0x667)](),'status':'error','errorDetails':_0x46d83c(_0x1567b1),'agentId':_0x142b48,'threadId':_0x9646b5,'code':_0x1da2ad?.[_0x34bbb3(0x348)]??'','result':_0x34bbb3(0x904)}),_0x1567b1 instanceof Error?_0x1567b1[_0x34bbb3(0x41d)]:_0x34bbb3(0x904);}}};}(_0x96c437,_0xe3d184,_0x161f57,_0x7d3fe['id'],_0x21f38e);case _0x9e7c8[_0xb8f5c1(0x49d)]:return function(_0x28ad5b,_0x48564e,_0x32f607,_0x5a4fa4,_0x10e6df,_0x245788,_0xba96db){const _0x584993=_0xb8f5c1,_0x5836b1=_0x584993(0x457),_0x5cd3c9={'query':{'type':_0x410512[_0x584993(0x87d)][_0x584993(0x2e7)]}};return _0x2a25ba[_0x584993(0x7f8)]({'jobType':_0x1f107e['JobContext'],'type':_0x163d68[_0x584993(0x631)],'jobId':_0x28ad5b,'agentId':_0x48564e,'threadId':_0x32f607,'traceLevel':_0x51e2ca[_0x584993(0xa01)],'startTime':Date['now'](),'timestamp':Date[_0x584993(0x667)](),'status':'success','function':_0x5d124b[_0x584993(0x28a)],'params':_0x5cd3c9,'functionDescription':_0x5836b1}),{'description':_0x5836b1,'params':_0x5cd3c9,'callback':async _0x23a497=>{const _0xd9b46c=_0x584993,_0x2efc9e=Date['now']();try{if(_0xba96db&&_0xba96db[_0xd9b46c(0x6de)]({'output':_0xd9b46c(0x511)+_0x23a497?.[_0xd9b46c(0x698)]+_0xd9b46c(0x671),'type':_0xd9b46c(0x929)}),!_0x245788['searchConnector'])throw new Error(_0xd9b46c(0x6f0));if(_0xd9b46c(0x610)!=typeof _0x23a497?.[_0xd9b46c(0x698)])throw new Error('Query\x20is\x20required');const _0x29d27d=await _0x245788['searchConnector']['search'](_0x23a497['query'],_0x10e6df,_0x2df60e[_0xd9b46c(0x691)]['searchEngineId']);let _0x22879='';for(const _0x50f34f of _0x29d27d)_0x22879+=_0x50f34f[_0xd9b46c(0x1db)]+_0xd9b46c(0x70a)+_0x50f34f[_0xd9b46c(0x840)]+'\x0a'+_0x50f34f[_0xd9b46c(0x640)]+'\x0a\x0a';return _0x2a25ba[_0xd9b46c(0x7f8)]({'jobType':_0x1f107e[_0xd9b46c(0x8d5)],'type':_0x5d124b['SearchGoogle'],'jobId':_0x28ad5b,'agentId':_0x48564e,'threadId':_0x32f607,'blockId':_0x5a4fa4,'traceLevel':_0x51e2ca[_0xd9b46c(0xa01)],'startTime':_0x2efc9e,'timestamp':Date[_0xd9b46c(0x667)](),'status':_0xd9b46c(0x7f4),'query':_0x23a497[_0xd9b46c(0x698)],'results':_0x22879}),_0x22879;}catch(_0x7d0879){return console[_0xd9b46c(0x33f)](_0x7d0879),_0x2a25ba[_0xd9b46c(0x7f8)]({'jobType':_0x1f107e[_0xd9b46c(0x8d5)],'type':_0x5d124b[_0xd9b46c(0x28a)],'jobId':_0x28ad5b,'blockId':_0x5a4fa4,'traceLevel':_0x51e2ca[_0xd9b46c(0xa01)],'startTime':_0x2efc9e,'timestamp':Date[_0xd9b46c(0x667)](),'status':_0xd9b46c(0x33f),'errorDetails':_0x46d83c(_0x7d0879),'agentId':_0x48564e,'threadId':_0x32f607,'query':_0x23a497?.['query']??'','results':_0xd9b46c(0x585)}),_0x7d0879 instanceof Error?_0x7d0879[_0xd9b46c(0x41d)]:_0xd9b46c(0x585);}}};}(_0x96c437,_0xe3d184,_0x161f57,_0x7d3fe['id'],_0x2df24f[_0xb8f5c1(0x32a)],_0x2df24f,_0x21f38e);case _0x9e7c8[_0xb8f5c1(0x804)]:return _0x242b15(_0x96c437,_0xe3d184,_0x161f57,_0x7d3fe['id'],_0x21f38e);case _0x9e7c8['WebScraperRaw']:return _0x242b15(_0x96c437,_0xe3d184,_0x161f57,_0x7d3fe['id'],_0x21f38e,!0x1);}throw new Error(_0xb8f5c1(0x641));}function _0x242b15(_0x5ef8cf,_0x173508,_0xe28c64,_0xb2589d,_0xe640f9,_0x49207a=!0x0){const _0x3ed0f7=_0xdcbb79,_0x301ebf='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x538174={'url':{'type':_0x410512['PromptFunctionParamsType'][_0x3ed0f7(0x2e7)]},'page':{'type':_0x410512[_0x3ed0f7(0x87d)]['Number']}};return _0x2a25ba['trace']({'jobType':_0x1f107e['JobContext'],'type':_0x163d68['LoadSkillFunction'],'jobId':_0x5ef8cf,'agentId':_0x173508,'threadId':_0xe28c64,'traceLevel':_0x51e2ca[_0x3ed0f7(0xa01)],'startTime':Date[_0x3ed0f7(0x667)](),'timestamp':Date[_0x3ed0f7(0x667)](),'status':_0x3ed0f7(0x7f4),'function':_0x5d124b['FetchUrl'],'params':_0x538174,'functionDescription':_0x301ebf}),{'description':_0x301ebf,'params':_0x538174,'callback':async _0x5edc40=>{const _0x5ed198=_0x3ed0f7,_0x1ff54c=Date[_0x5ed198(0x667)]();try{if(_0xe640f9&&_0xe640f9[_0x5ed198(0x6de)]({'output':_0x5ed198(0x607)+_0x5edc40?.[_0x5ed198(0x840)]+_0x5ed198(0x671),'type':'prompt'}),'string'!=typeof _0x5edc40?.['url'])throw new Error('URL\x20is\x20required');const _0x4f71c6=await fetch(_0x5edc40[_0x5ed198(0x840)]),_0x2a641d=await _0x4f71c6[_0x5ed198(0x5b1)]();let _0x3af1d6=_0x2a641d;if(_0x49207a){const _0x38f1a4=_0x2a641d[_0x5ed198(0x7a5)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x1eb7ba=_0x38f1a4?_0x38f1a4[0x1]:_0x2a641d,_0x35844a=_0x1eb7ba[_0x5ed198(0x7cf)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x5ed198(0x7cf)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x5ed198(0x7cf)](/<br\s*\/?>/gi,'\x20')[_0x5ed198(0x7cf)](/&nbsp;/g,'\x20');_0x3af1d6=_0x35844a['replace'](/<\/?[^>]+(>|$)/g,'')['replace'](/\s\s+/g,'\x20')[_0x5ed198(0x668)]();}const _0x1ad0c8=_0x5ed198(0x89b)==typeof _0x5edc40[_0x5ed198(0x712)]?_0x5edc40[_0x5ed198(0x712)]:0x1,_0x16385b=Math[_0x5ed198(0x3c5)](_0x3af1d6[_0x5ed198(0x454)]/_0x3d26f6);return _0x3af1d6['length']>_0x3d26f6&&(_0x3af1d6=_0x3af1d6[_0x5ed198(0x289)]((_0x1ad0c8-0x1)*_0x3d26f6,(_0x1ad0c8-0x1)*_0x3d26f6+_0x3d26f6)+_0x5ed198(0x4d0)+(_0x1ad0c8+0x1)+_0x5ed198(0x38c)+_0x16385b+'.'),_0x2a25ba[_0x5ed198(0x7f8)]({'jobType':_0x1f107e[_0x5ed198(0x8d5)],'type':_0x5d124b[_0x5ed198(0x8ae)],'jobId':_0x5ef8cf,'agentId':_0x173508,'threadId':_0xe28c64,'blockId':_0xb2589d,'traceLevel':_0x51e2ca[_0x5ed198(0xa01)],'startTime':_0x1ff54c,'timestamp':Date[_0x5ed198(0x667)](),'status':_0x4f71c6['ok']?_0x5ed198(0x7f4):'error','url':_0x5edc40[_0x5ed198(0x840)],'page':_0x1ad0c8,'totalPages':_0x16385b,'response':_0x3af1d6}),_0x3af1d6;}catch(_0x8c315d){console['error'](_0x8c315d);const _0x1eac08=_0x8c315d instanceof Error?_0x8c315d['message']:_0x5ed198(0x4b1);return _0x2a25ba[_0x5ed198(0x7f8)]({'jobType':_0x1f107e[_0x5ed198(0x8d5)],'type':_0x5d124b['FetchUrl'],'jobId':_0x5ef8cf,'blockId':_0xb2589d,'threadId':_0xe28c64,'traceLevel':_0x51e2ca['Info'],'startTime':_0x1ff54c,'timestamp':Date['now'](),'agentId':_0x173508,'status':_0x5ed198(0x33f),'errorDetails':_0x46d83c(_0x8c315d),'url':_0x5edc40?.[_0x5ed198(0x840)]??'','page':0x0,'totalPages':0x0,'response':_0x1eac08}),_0x1eac08;}}};}function _0x21ecfa(_0x3be49f,_0x26242b,_0x237ed9,_0x55fa9c,_0x90dd9c){const _0x11316b=_0xdcbb79,_0x3f2197={};for(const _0x57e2b9 of _0x55fa9c[_0x11316b(0x541)])switch(_0x57e2b9[_0x11316b(0x8fa)]){case _0x11316b(0x610):case'json':_0x3f2197[_0x57e2b9['name']]={'type':_0x410512['PromptFunctionParamsType'][_0x11316b(0x2e7)]};break;case _0x11316b(0x89b):_0x3f2197[_0x57e2b9[_0x11316b(0x181)]]={'type':_0x410512['PromptFunctionParamsType'][_0x11316b(0x493)]};break;case _0x11316b(0x178):_0x3f2197[_0x57e2b9['name']]={'type':_0x410512['PromptFunctionParamsType'][_0x11316b(0x549)]};}return _0x2a25ba[_0x11316b(0x7f8)]({'jobType':_0x1f107e['JobContext'],'type':_0x163d68[_0x11316b(0x631)],'jobId':_0x3be49f,'agentId':_0x26242b,'threadId':_0x237ed9,'traceLevel':_0x51e2ca[_0x11316b(0xa01)],'startTime':Date['now'](),'timestamp':Date[_0x11316b(0x667)](),'status':_0x11316b(0x7f4),'function':_0x5d124b[_0x11316b(0x892)],'params':_0x3f2197,'functionDescription':_0x55fa9c[_0x11316b(0xa25)]}),{'description':_0x11316b(0x836)+_0x55fa9c['description'],'params':_0x3f2197,'callback':async _0x1a5dee=>{const _0x942c94=_0x11316b,_0x5b9415=Date[_0x942c94(0x667)]();try{if(_0x90dd9c&&_0x90dd9c[_0x942c94(0x6de)]({'output':_0x942c94(0x85b)+_0x55fa9c[_0x942c94(0x181)]+_0x942c94(0x671),'type':_0x942c94(0x929)}),!_0x1a5dee)throw new Error(_0x942c94(0x98a));for(const _0x411f88 of _0x55fa9c[_0x942c94(0x541)]){if(void 0x0===_0x1a5dee[_0x411f88[_0x942c94(0x181)]])throw new Error(_0x942c94(0x45c)+_0x411f88[_0x942c94(0x181)]+_0x942c94(0x28d));if(_0x942c94(0x610)===_0x411f88[_0x942c94(0x8fa)]&&_0x942c94(0x610)!=typeof _0x1a5dee[_0x411f88[_0x942c94(0x181)]])throw new Error(_0x942c94(0x45c)+_0x411f88[_0x942c94(0x181)]+_0x942c94(0x234));if(_0x942c94(0x89b)===_0x411f88['type']&&_0x942c94(0x89b)!=typeof _0x1a5dee[_0x411f88[_0x942c94(0x181)]])throw new Error(_0x942c94(0x45c)+_0x411f88['name']+_0x942c94(0x7c0));if(_0x942c94(0x178)===_0x411f88['type']&&_0x942c94(0x178)!=typeof _0x1a5dee[_0x411f88[_0x942c94(0x181)]])throw new Error(_0x942c94(0x45c)+_0x411f88[_0x942c94(0x181)]+_0x942c94(0x2b7));if(_0x942c94(0x850)===_0x411f88['type']&&'string'!=typeof _0x1a5dee[_0x411f88[_0x942c94(0x181)]])throw new Error(_0x942c94(0x45c)+_0x411f88['name']+_0x942c94(0x234));if('json'===_0x411f88[_0x942c94(0x8fa)])try{_0x1a5dee[_0x411f88[_0x942c94(0x181)]]=JSON[_0x942c94(0xa2e)](_0x1a5dee[_0x411f88[_0x942c94(0x181)]]);}catch{throw new Error(_0x942c94(0x45c)+_0x411f88['name']+_0x942c94(0x58b));}}let _0x4c9ca2=_0x55fa9c[_0x942c94(0x458)];_0x4c9ca2[_0x942c94(0x9e1)]('$')&&(_0x4c9ca2=_0x1a5dee[_0x55fa9c['accessToken'][_0x942c94(0x3ef)](0x1)]);const _0xea9d16=new URLSearchParams();for(const _0x3d0760 of _0x55fa9c['queryParameters']){let _0x63b0c6=_0x3d0760[_0x942c94(0x153)];if(_0x942c94(0x610)==typeof _0x63b0c6&&_0x63b0c6['startsWith']('$')){const _0x455337=_0x63b0c6['slice'](0x1);_0x63b0c6=_0x1a5dee[_0x455337];}if(_0x942c94(0x610)==typeof _0x63b0c6&&_0x63b0c6[_0x942c94(0x9e1)](_0x942c94(0x960))){const _0x418ac2=_0x63b0c6['replace'](_0x942c94(0x960),'');if(_0x63b0c6=_0xdf2bfc['getContent'](_0x237ed9,_0x418ac2),_0x942c94(0x610)==typeof _0x63b0c6&&_0x63b0c6[_0x942c94(0x9e1)]('{')&&_0x63b0c6['endsWith']('}'))try{_0x63b0c6=JSON[_0x942c94(0xa2e)](_0x63b0c6);}catch{}}_0x942c94(0x610)==typeof _0x63b0c6&&_0x63b0c6[_0x942c94(0x9e1)]('[')&&_0x63b0c6[_0x942c94(0x987)](']')&&(_0x63b0c6=_0x63b0c6['slice'](0x1,-0x1)[_0x942c94(0x470)](',')),_0xea9d16[_0x942c94(0xa6b)](_0x3d0760[_0x942c94(0x181)],_0x63b0c6);}let _0xc23c0a=_0x55fa9c[_0x942c94(0xa31)];_0xea9d16[_0x942c94(0x400)]>0x0&&(_0xc23c0a+='?'+_0xea9d16[_0x942c94(0x298)]());const _0x2a7f0c={};for(const _0xe66d4e of _0x55fa9c[_0x942c94(0x1f7)]){let _0x3c63d5=_0xe66d4e['value'];if(_0x942c94(0x610)==typeof _0x3c63d5&&_0x3c63d5['startsWith']('$')){const _0x505b2d=_0x3c63d5[_0x942c94(0x3ef)](0x1);_0x3c63d5=_0x1a5dee[_0x505b2d];}if(_0x942c94(0x610)==typeof _0x3c63d5&&_0x3c63d5[_0x942c94(0x9e1)](_0x942c94(0x960))){const _0x22ce9a=_0x3c63d5[_0x942c94(0x7cf)](_0x942c94(0x960),'');if(_0x3c63d5=_0xdf2bfc['getContent'](_0x237ed9,_0x22ce9a),_0x942c94(0x610)==typeof _0x3c63d5&&_0x3c63d5[_0x942c94(0x9e1)]('{')&&_0x3c63d5[_0x942c94(0x987)]('}'))try{_0x3c63d5=JSON['parse'](_0x3c63d5);}catch{}}if('string'==typeof _0x3c63d5&&_0x3c63d5[_0x942c94(0x9e1)]('[')&&_0x3c63d5[_0x942c94(0x987)](']')&&(_0x3c63d5=_0x3c63d5['slice'](0x1,-0x1)[_0x942c94(0x470)](',')),-0x1===_0xe66d4e[_0x942c94(0x181)][_0x942c94(0x649)]('.'))_0x2a7f0c[_0xe66d4e['name']]=_0x3c63d5;else{const [_0x1574ed,_0x2979af]=_0xe66d4e[_0x942c94(0x181)]['split']('.');_0x2a7f0c[_0x1574ed]||(_0x2a7f0c[_0x1574ed]={}),_0x2a7f0c[_0x1574ed][_0x2979af]=_0x3c63d5;}}const _0x5755c4=await fetch(_0xc23c0a,{'method':_0x55fa9c[_0x942c94(0x1b5)],'headers':{'Authorization':_0x942c94(0x9aa)+_0x4c9ca2,'Content-Type':_0x942c94(0x8c4)},'body':JSON[_0x942c94(0x6fb)](_0x2a7f0c)});if(_0x5755c4['ok']){const _0x4e7a78=await _0x5755c4[_0x942c94(0x850)]();return _0x2a25ba[_0x942c94(0x7f8)]({'jobType':_0x1f107e[_0x942c94(0x8d5)],'type':_0x5d124b[_0x942c94(0x892)],'jobId':_0x3be49f,'agentId':_0x26242b,'threadId':_0x237ed9,'blockId':_0x55fa9c['id'],'traceLevel':_0x51e2ca[_0x942c94(0xa01)],'startTime':_0x5b9415,'timestamp':Date[_0x942c94(0x667)](),'status':_0x942c94(0x7f4),'skillName':_0x55fa9c['name'],'params':_0x1a5dee,'result':_0x4e7a78}),_0x4e7a78;}throw new Error(_0x5755c4[_0x942c94(0x94e)]);}catch(_0x42a2dc){console['error'](_0x42a2dc);const _0x1b8da9=_0x42a2dc instanceof Error?_0x42a2dc['message']:_0x942c94(0x4b1);return _0x2a25ba[_0x942c94(0x7f8)]({'jobType':_0x1f107e[_0x942c94(0x8d5)],'type':_0x5d124b[_0x942c94(0x892)],'jobId':_0x3be49f,'blockId':_0x55fa9c['id'],'threadId':_0x237ed9,'traceLevel':_0x51e2ca[_0x942c94(0xa01)],'startTime':_0x5b9415,'timestamp':Date[_0x942c94(0x667)](),'agentId':_0x26242b,'status':_0x942c94(0x33f),'skillName':_0x55fa9c[_0x942c94(0x181)],'params':_0x1a5dee??{},'result':_0x1b8da9}),_0x1b8da9;}}};}function _0x46d83c(_0x2f916a){const _0x3503fa=_0xdcbb79;try{return JSON[_0x3503fa(0x6fb)](_0x2f916a);}catch(_0xec134d){return _0x2f916a instanceof Error?_0x2f916a[_0x3503fa(0x298)]():'Error\x20fetching\x20context';}}async function _0x6470f5(_0x4781df,_0x5e28b3,_0x27b29e,_0x17ec52,_0x556584,_0x3a36e4,_0x4ba7ef){const _0x5424a7=_0xdcbb79;for(const _0x13b62e of _0x556584[_0x5424a7(0x2ac)]||[]){const _0x36e0e3=_0x3a36e4[_0x5424a7(0x39d)](_0x10c065=>_0x10c065[_0x5424a7(0x253)]===_0x13b62e['uid']);if(_0x36e0e3&&_0x36e0e3[_0x5424a7(0x8fa)]===_0x9e7c8[_0x5424a7(0x2d1)]){if(_0x556584[_0x5424a7(0x530)]||(_0x556584[_0x5424a7(0x530)]={}),_0x5e28b3 instanceof Array?_0x556584[_0x5424a7(0x530)][_0x5424a7(0x5bb)]=_0x5e28b3:_0x556584[_0x5424a7(0x530)][_0x5424a7(0x929)]=_0x5e28b3,_0x556584[_0x5424a7(0x28b)]=_0x556584[_0x5424a7(0x28b)]?_0x556584[_0x5424a7(0x28b)]+0x1:0x1,_0xb3a558(_0x556584,_0x3a36e4)>_0x556584[_0x5424a7(0x28b)])return;return _0x556584;}}if(_0x556584['accumulated']||(_0x556584[_0x5424a7(0x530)]={}),_0x5e28b3 instanceof Array?_0x556584[_0x5424a7(0x530)][_0x5424a7(0x5bb)]=_0x5e28b3:_0x556584[_0x5424a7(0x530)][_0x5424a7(0x929)]=_0x5e28b3,_0x556584[_0x5424a7(0x28b)]=_0x556584[_0x5424a7(0x28b)]?_0x556584[_0x5424a7(0x28b)]+0x1:0x1,_0xb3a558(_0x556584,_0x3a36e4)>_0x556584[_0x5424a7(0x28b)])return;if(!_0x556584[_0x5424a7(0x530)][_0x5424a7(0x929)])throw new Error(_0x5424a7(0xa54));const _0x419b0d=_0x4ba7ef['models']['find'](_0x117260=>_0x117260['id']===_0x556584['modelId']);if(!_0x419b0d)throw new Error(_0x5424a7(0x3c3));const _0x4b1ebb=_0x4ba7ef['generativeAIWorkerConnectors'][_0x5424a7(0x39d)](_0x31b86f=>_0x31b86f[_0x5424a7(0x91f)]()===_0x419b0d[_0x5424a7(0x8cb)]);if(!_0x4b1ebb)throw new Error(_0x5424a7(0x7f1));const _0x2b15aa=Date['now'](),_0xb6d70b=(0x0,_0x539333['v4'])(),_0x59bb28=await _0x4b1ebb[_0x5424a7(0x8d0)]({'type':_0x5424a7(0x929),'prompt':_0x556584[_0x5424a7(0x530)][_0x5424a7(0x929)],'instructions':''+_0x556584[_0x5424a7(0x20b)]+(_0x27b29e[_0x5424a7(0x20b)]??'')+(_0x556584[_0x5424a7(0x530)][_0x5424a7(0x5bb)]?_0x5424a7(0x387)+_0x556584[_0x5424a7(0x530)]['context'][_0x5424a7(0x945)](_0x4521cb=>_0x4521cb[_0x5424a7(0x7bd)])[_0x5424a7(0x9e4)]('\x0a'):''),'grammar':_0x556584[_0x5424a7(0x9ff)],'temperature':_0x556584[_0x5424a7(0x595)],'maxTokens':_0x556584[_0x5424a7(0x9d0)],'history':_0x27b29e[_0x5424a7(0x916)],'functions':_0x3f8742(_0x4781df,_0xb6d70b,_0x27b29e[_0x5424a7(0x9e8)],_0x17ec52,_0x556584,_0x3a36e4,_0x4ba7ef),'threadId':_0x27b29e[_0x5424a7(0x9e8)]},{'model':_0x419b0d});if(_0x5424a7(0x610)!=typeof _0x59bb28[_0x5424a7(0x2f9)])throw new Error(_0x5424a7(0x6d3));return _0x17ec52[_0x5424a7(0x99a)]+=_0x59bb28[_0x5424a7(0x99a)]??0x0,_0x17ec52[_0x5424a7(0x6f4)]+=_0x59bb28[_0x5424a7(0x6f4)]??0x0,_0x2a25ba[_0x5424a7(0x7f8)]({'jobType':_0x1f107e[_0x5424a7(0x29a)],'type':_0x565071['IntermediateOutput'],'jobId':_0x4781df,'agentId':_0xb6d70b,'threadId':_0x27b29e['threadId'],'traceLevel':_0x51e2ca[_0x5424a7(0xa01)],'startTime':_0x2b15aa,'timestamp':Date[_0x5424a7(0x667)](),'blockId':_0x556584['id'],'status':_0x5424a7(0x7f4),'output':_0x59bb28[_0x5424a7(0x2f9)]?.[_0x5424a7(0x298)]()??'','history':[],'instructions':''+_0x556584[_0x5424a7(0x20b)]+(_0x27b29e[_0x5424a7(0x20b)]??''),'ragContext':_0x59bb28['context']??[],'inputTokens':_0x59bb28[_0x5424a7(0x99a)]??0x0,'outputTokens':_0x59bb28[_0x5424a7(0x6f4)]??0x0}),_0x2ab7b0(_0x4781df,_0x59bb28['output'],_0x27b29e,_0x17ec52,_0x556584,_0x3a36e4,_0x4ba7ef);}async function _0x4cf016(_0x54c2a6,_0x4c88b8,_0x4fd93e,_0x1b070e,_0x200d5d,_0x1ddc98,_0x481d15){const _0x4b75f5=function(_0xa495f1,_0x29f40a){const _0x4ca55a=a0_0x27c7,_0x388cbd=[];for(let _0x35eec3=0x0;_0x35eec3<_0xa495f1[_0x4ca55a(0x454)];_0x35eec3+=_0x29f40a[_0x4ca55a(0x714)][_0x4ca55a(0x400)]){let _0x172a0d=_0x35eec3-_0x29f40a[_0x4ca55a(0x714)][_0x4ca55a(0x609)];_0x172a0d<0x0&&(_0x172a0d=0x0);let _0x1ea575=_0x35eec3+_0x29f40a[_0x4ca55a(0x714)]['size']+_0x29f40a[_0x4ca55a(0x714)][_0x4ca55a(0x609)];_0x1ea575>_0xa495f1['length']&&(_0x1ea575=_0xa495f1['length']),length||(length=_0x35eec3+_0x29f40a['attributes'][_0x4ca55a(0x400)],length>_0xa495f1['length']&&(length=_0xa495f1[_0x4ca55a(0x454)])),_0x388cbd['push'](_0xa495f1['substring'](_0x172a0d,_0x1ea575));}return _0x388cbd;}(_0x4c88b8,_0x200d5d);return _0x2ab7b0(_0x54c2a6,_0x4b75f5,_0x4fd93e,_0x1b070e,_0x200d5d,_0x1ddc98,_0x481d15);}async function _0x2ea754(_0x3b58fd,_0x11507f,_0x9a0951,_0x5e23c3,_0x24df72,_0x169400,_0x4abc63){const _0x2de75=_0xdcbb79;if(_0x24df72[_0x2de75(0x530)]||(_0x24df72['accumulated']={}),_0x24df72['accumulated'][_0x2de75(0x78c)]||(_0x24df72[_0x2de75(0x530)][_0x2de75(0x78c)]=[]),_0x11507f instanceof Array?_0x24df72[_0x2de75(0x530)][_0x2de75(0x78c)]['push'](..._0x11507f):_0x24df72[_0x2de75(0x530)][_0x2de75(0x78c)][_0x2de75(0x90d)](_0x11507f),_0x24df72[_0x2de75(0x28b)]=_0x24df72[_0x2de75(0x28b)]?_0x24df72[_0x2de75(0x28b)]+0x1:0x1,_0xb3a558(_0x24df72,_0x169400)>_0x24df72[_0x2de75(0x28b)])return;if(0x0===_0x24df72['accumulated']['queries'][_0x2de75(0x454)])throw new Error(_0x2de75(0xa3f));let _0x374fa3=[];const _0x5130f0=Date[_0x2de75(0x667)]();try{let _0xf4be49=0x0,_0x45f9b7=0x0;for(const _0x554275 of _0x24df72[_0x2de75(0x530)][_0x2de75(0x78c)]){const _0x24d82b=_0x24df72[_0x2de75(0x3e7)]['find'](_0x5df081=>_0x5df081[_0x2de75(0x8fa)]===_0x303f13['Prompt']),_0x5b30b3=await _0x1fe05f(_0x3b58fd,_0x9a0951[_0x2de75(0x9e8)],_0x554275,_0x24d82b,_0x24df72['retrieveBlocks'],_0x4abc63);_0x374fa3=Array[_0x2de75(0x6dd)](new Set([..._0x374fa3,..._0x5b30b3[_0x2de75(0x5bb)]])),_0xf4be49+=_0x5b30b3['inputTokens']??0x0,_0x45f9b7+=_0x5b30b3[_0x2de75(0x6f4)]??0x0;}_0x5e23c3[_0x2de75(0x99a)]+=_0xf4be49,_0x5e23c3[_0x2de75(0x6f4)]+=_0x45f9b7,_0x5e23c3[_0x2de75(0x5bb)]=Array['from'](new Set([..._0x5e23c3[_0x2de75(0x5bb)],..._0x374fa3])),_0x2a25ba[_0x2de75(0x7f8)]({'jobType':_0x1f107e[_0x2de75(0x29a)],'type':_0x565071[_0x2de75(0x2f1)],'jobId':_0x3b58fd,'threadId':_0x9a0951[_0x2de75(0x9e8)],'traceLevel':_0x51e2ca[_0x2de75(0xa01)],'startTime':_0x5130f0,'timestamp':Date['now'](),'blockId':_0x24df72['id'],'status':_0x2de75(0x7f4),'queries':_0x24df72[_0x2de75(0x530)][_0x2de75(0x78c)],'context':_0x374fa3,'inputTokens':_0xf4be49,'outputTokens':_0x45f9b7});}catch(_0x1c58df){console[_0x2de75(0x33f)](_0x1c58df),_0x2a25ba['trace']({'jobType':_0x1f107e[_0x2de75(0x29a)],'type':_0x565071[_0x2de75(0x2f1)],'jobId':_0x3b58fd,'threadId':_0x9a0951[_0x2de75(0x9e8)],'traceLevel':_0x51e2ca[_0x2de75(0xa01)],'startTime':_0x5130f0,'timestamp':Date[_0x2de75(0x667)](),'blockId':_0x24df72['id'],'status':_0x2de75(0x33f),'queries':_0x24df72[_0x2de75(0x530)][_0x2de75(0x78c)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}return _0x2ab7b0(_0x3b58fd,_0x374fa3,_0x9a0951,_0x5e23c3,_0x24df72,_0x169400,_0x4abc63);}async function _0x27188a(_0x32bfac,_0x55f88a,_0x234332,_0x407607,_0x224718,_0x4d065b,_0xf56d2d){const _0x28607f=_0xdcbb79;return _0x2ab7b0(_0x32bfac,await _0xf56d2d[_0x28607f(0x8d8)]['getSentences'](_0x55f88a),_0x234332,_0x407607,_0x224718,_0x4d065b,_0xf56d2d);}async function _0x46a83e(_0x83e2d5,_0x592f94,_0x31f787,_0x14e059,_0x359a07,_0x2ba8cb,_0x5ea289){const _0x484900=function(_0x3b5034,_0xaedff8){const _0x5cf9cc=a0_0x27c7,_0x3a0607=[],_0x2e477c=_0x3b5034['split']('\x20');let _0xdf5446='',_0x3b9260=0x0,_0x1108f9=0x0,_0x1314d6=0x0;for(const _0x39887d of _0x2e477c){if(_0xdf5446['length']+_0x39887d['length']>_0xaedff8[_0x5cf9cc(0x714)][_0x5cf9cc(0x400)]){let _0x273066=_0x3b9260,_0x2b0051='';for(;_0x273066>=0x0&&_0x2b0051[_0x5cf9cc(0x454)]+_0x2e477c[_0x273066][_0x5cf9cc(0x454)]<_0xaedff8[_0x5cf9cc(0x714)][_0x5cf9cc(0x609)];)_0x2b0051=_0x2e477c[_0x273066]+'\x20'+_0x2b0051,_0x273066--;let _0x2f8e56=_0x1108f9,_0xa26ece='';for(;_0x2f8e56<_0x2e477c[_0x5cf9cc(0x454)]&&_0xa26ece['length']+_0x2e477c[_0x2f8e56][_0x5cf9cc(0x454)]<_0xaedff8[_0x5cf9cc(0x714)][_0x5cf9cc(0x609)];)_0xa26ece+=_0x2e477c[_0x2f8e56]+'\x20',_0x2f8e56++;_0xdf5446=_0x2b0051+_0xdf5446+_0xa26ece,_0x3a0607[_0x5cf9cc(0x90d)](_0xdf5446['trim']()),_0xdf5446='',_0x3b9260=_0x1108f9;}_0xdf5446+=_0x39887d+'\x20',_0x1108f9++,_0x1314d6+=_0x39887d[_0x5cf9cc(0x454)]+0x1;}if(_0xdf5446[_0x5cf9cc(0x454)]>0x0){let _0x17a453=_0x3b9260,_0x448522='';for(;_0x17a453>=0x0&&_0x448522[_0x5cf9cc(0x454)]+_0x2e477c[_0x17a453]['length']<_0xaedff8['attributes'][_0x5cf9cc(0x609)];)_0x448522=_0x2e477c[_0x17a453]+'\x20'+_0x448522,_0x17a453--;_0xdf5446=_0x448522+_0xdf5446,_0x3a0607[_0x5cf9cc(0x90d)](_0xdf5446['trim']());}return _0x3a0607;}(_0x592f94,_0x359a07);return _0x2ab7b0(_0x83e2d5,_0x484900,_0x31f787,_0x14e059,_0x359a07,_0x2ba8cb,_0x5ea289);}async function _0x2ab7b0(_0x5d3f39,_0x544f9f,_0x24542c,_0x3a1e48,_0x455e80,_0x546efb,_0x1d1f39){const _0x4ffe8e=_0xdcbb79;let _0x105690;for(const _0x1166ee of _0x455e80['links']||[]){const _0x4086e7=_0x546efb[_0x4ffe8e(0x39d)](_0x2d7802=>_0x2d7802['uid']===_0x1166ee[_0x4ffe8e(0x253)]);if(_0x4086e7){switch(_0x4086e7[_0x4ffe8e(0x8fa)]){case _0x9e7c8['Agent']:_0x105690=await _0x6470f5(_0x5d3f39,_0x544f9f,_0x24542c,_0x3a1e48,_0x4086e7,_0x546efb,_0x1d1f39);break;case _0x9e7c8[_0x4ffe8e(0x931)]:_0x105690=await _0x4cf016(_0x5d3f39,_0x544f9f,_0x24542c,_0x3a1e48,_0x4086e7,_0x546efb,_0x1d1f39);break;case _0x9e7c8['DataCollection']:_0x105690=await _0x2ea754(_0x5d3f39,_0x544f9f,_0x24542c,_0x3a1e48,_0x4086e7,_0x546efb,_0x1d1f39);break;case _0x9e7c8['SentenceSplitter']:_0x105690=await _0x27188a(_0x5d3f39,_0x544f9f,_0x24542c,_0x3a1e48,_0x4086e7,_0x546efb,_0x1d1f39);break;case _0x9e7c8[_0x4ffe8e(0x9be)]:_0x105690=await _0x46a83e(_0x5d3f39,_0x544f9f,_0x24542c,_0x3a1e48,_0x4086e7,_0x546efb,_0x1d1f39);}if(_0x105690)return _0x105690;}}}function _0xb3a558(_0x1c6570,_0x5b25b6){const _0x5bda80=_0xdcbb79;return _0x5b25b6[_0x5bda80(0x4e9)](_0x4692a8=>_0x4692a8[_0x5bda80(0x2ac)]?.[_0x5bda80(0x692)](_0x3708bd=>_0x3708bd[_0x5bda80(0x8fa)]!==_0x512626[_0x5bda80(0x8e2)]&&_0x3708bd['type']!==_0x512626['Skill']&&_0x3708bd[_0x5bda80(0x253)]===_0x1c6570[_0x5bda80(0x253)]))[_0x5bda80(0x454)];}const _0x4d755e=require('rxjs/operators');class _0x383b39{[_0xdcbb79(0xa2a)];constructor(){const _0x215085=_0xdcbb79;this['subject']=new _0x5ab66e[(_0x215085(0x5af))]();}[_0xdcbb79(0x6de)](_0x40335f){const _0x31c9fe=_0xdcbb79;this[_0x31c9fe(0xa2a)][_0x31c9fe(0x9f2)](_0x40335f);}async[_0xdcbb79(0x9fa)](){const _0x521026=_0xdcbb79;return(0x0,_0x5ab66e[_0x521026(0x79e)])(this[_0x521026(0xa2a)]['pipe']((0x0,_0x4d755e[_0x521026(0x21b)])(0x1)));}}class _0x180289 extends _0x5eb472{['localNode'];[_0xdcbb79(0x8de)];[_0xdcbb79(0x871)];['generativeAIWorkerConnectors'];['documentParserConnector'];[_0xdcbb79(0x8d8)];[_0xdcbb79(0x32a)];['searchConnector'];[_0xdcbb79(0x380)];[_0xdcbb79(0x36a)];['dataStores']=new Map();['externalStores']=new Map();[_0xdcbb79(0x776)];['models']=new Map();[_0xdcbb79(0x1b9)];[_0xdcbb79(0x858)]=0x0;[_0xdcbb79(0x7c5)]=0x0;['isOpened']=!0x1;constructor(_0xe5d25e,_0xd0e4c8,_0xccba80,_0xf97b31,_0x436526,_0x464513,_0xa7a48d,_0x1ac209,_0x5aea2f,_0x580068){const _0x2f55bd=_0xdcbb79;super(_0xe5d25e,_0xd0e4c8,_0xf97b31),this[_0x2f55bd(0x99b)]=_0xe5d25e,this[_0x2f55bd(0x8de)]=_0xccba80,this[_0x2f55bd(0x871)]=_0x436526,this[_0x2f55bd(0x4c4)]=_0x464513,this['documentParserConnector']=_0xa7a48d,this[_0x2f55bd(0x8d8)]=_0x1ac209,this['searchApiKey']=_0x5aea2f,this[_0x2f55bd(0x5b0)]=_0x580068;}async['destroy'](){const _0x340834=_0xdcbb79;for(const _0x437b40 of this[_0x340834(0x4c4)])await _0x437b40[_0x340834(0x3d8)]();this[_0x340834(0x36a)]?.[_0x340834(0x1aa)](this[_0x340834(0x726)]),this[_0x340834(0x7f5)][_0x340834(0x5f6)](_0x3b41e3=>_0x3b41e3[_0x340834(0x1aa)](this[_0x340834(0x726)])),this[_0x340834(0x1b9)]&&(clearTimeout(this[_0x340834(0x1b9)]),delete this[_0x340834(0x1b9)]),super[_0x340834(0x4f6)]();}async[_0xdcbb79(0x94b)](_0xa26e06=!0x1){const _0x456125=_0xdcbb79;if(this['isOpened'])super[_0x456125(0x94b)]();else{if(this[_0x456125(0x380)]=await _0x569d76[_0x456125(0x3f6)](this['vendorId'],this[_0x456125(0x726)]),this['modelStore']=this[_0x456125(0x871)]['getObjectStoreBucket'](this['workflow'][_0x456125(0x304)]),!this['modelStore'])throw new Error(_0x456125(0x6be));this[_0x456125(0x39e)](),_0xa26e06||await this['waitForSyncComplete'](this[_0x456125(0x36a)]);for(const _0x5f46e6 of this['workflow'][_0x456125(0x9ac)])try{let _0x1d9155;_0x5f46e6[_0x456125(0x8cb)]===_0x410512[_0x456125(0x48a)]['Llamacpp']&&(_0x1d9155=await this[_0x456125(0x8e1)]('/'+_0x5f46e6['id']+_0x1328d0)),this[_0x456125(0x9ac)][_0x456125(0x80a)](_0x5f46e6['id'],{'id':_0x5f46e6['id'],'engineType':_0x5f46e6['engineType'],'taskType':_0x5f46e6[_0x456125(0x5a6)],'inputType':_0x5f46e6[_0x456125(0x2a2)],'outputType':_0x5f46e6[_0x456125(0x88e)],'sourceUrl':_0x5f46e6[_0x456125(0xa46)],'pathName':_0x1d9155});}catch(_0x828df9){await this['modelStore'][_0x456125(0x884)]({'action':_0x410512[_0x456125(0x8ba)][_0x456125(0x4a9)],'file':new File([''],''+_0x5f46e6['id']+_0x1328d0),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x5f46e6[_0x456125(0xa46)]}}),this[_0x456125(0x9ac)][_0x456125(0x80a)](_0x5f46e6['id'],{'id':_0x5f46e6['id'],'engineType':_0x5f46e6[_0x456125(0x8cb)],'taskType':_0x5f46e6[_0x456125(0x5a6)],'inputType':_0x5f46e6['inputType'],'outputType':_0x5f46e6[_0x456125(0x88e)],'sourceUrl':_0x5f46e6[_0x456125(0xa46)],'pathName':await this[_0x456125(0x8e1)]('/'+_0x5f46e6['id']+_0x1328d0)});}try{for(const _0x1d2596 of this[_0x456125(0x4c4)])await _0x1d2596[_0x456125(0x677)](this[_0x456125(0x726)],this[_0x456125(0x9ac)]);}catch(_0x8d48b0){return this[_0x456125(0x94b)](_0xa26e06);}for(const _0xaec3c2 of this[_0x456125(0x380)]['dataBucketIds'])this['dataStores'][_0x456125(0x80a)](_0xaec3c2,this[_0x456125(0x871)]['getObjectStoreBucket'](_0xaec3c2));await this[_0x456125(0x193)](),this[_0x456125(0x4f8)]();for(const _0x1b6484 of this[_0x456125(0x380)][_0x456125(0x435)])this[_0x456125(0x1b7)][_0x456125(0x80a)](_0x1b6484,this['contentMediator']['getExternalStorageConnection'](_0x1b6484));await this[_0x456125(0x893)](),this[_0x456125(0x2cb)](),this[_0x456125(0x14f)]=!0x0,this['sendStats'](),super[_0x456125(0x94b)]();}}[_0xdcbb79(0x337)](){const _0x11f610=_0xdcbb79;this[_0x11f610(0x858)]=0x0,this['tokens']=0x0,this[_0x11f610(0x393)](),super[_0x11f610(0x337)]();}[_0xdcbb79(0x474)](){const _0x43dfdb=_0xdcbb79;return this[_0x43dfdb(0x393)](),this[_0x43dfdb(0x5e7)]();}[_0xdcbb79(0x9a6)](_0x5eb7f8,_0x2ad3de,_0x28ab71){const _0x51142c=_0xdcbb79,{outputTokens:_0x312f73=0x0,output:_0x304ced=''}=_0x5eb7f8,_0x54858f=_0x312f73/((_0x28ab71-_0x2ad3de)/0x3e8);this[_0x51142c(0x858)]+=0x1,this[_0x51142c(0x7c5)]+=_0x312f73,this[_0x51142c(0x6bf)](_0x54858f,_0x312f73),this[_0x51142c(0x393)]();}[_0xdcbb79(0x908)](_0x44ef4a,_0x24e2c1){const _0x492f6b=_0xdcbb79;return _0x44ef4a[_0x492f6b(0x2f9)]=_0x44ef4a[_0x492f6b(0x2f9)]??'',{'type':'prompt','output':_0x492f6b(0x610)==typeof _0x44ef4a[_0x492f6b(0x2f9)]&&_0x492f6b(0x610)==typeof _0x24e2c1['output']?_0x44ef4a[_0x492f6b(0x2f9)]+_0x24e2c1[_0x492f6b(0x2f9)]:_0x24e2c1[_0x492f6b(0x2f9)],'outputTokens':_0x24e2c1['outputTokens']??_0x44ef4a[_0x492f6b(0x6f4)],'inputTokens':_0x24e2c1[_0x492f6b(0x99a)]??_0x44ef4a[_0x492f6b(0x99a)]};}async[_0xdcbb79(0x60b)](_0x56f9be,_0xd27715){const _0x613e1c=_0xdcbb79;if(!this[_0x613e1c(0x380)])throw new Error(_0x613e1c(0x4cd));if(_0x613e1c(0x929)===_0xd27715['type']){const _0x152a1e=this[_0x613e1c(0x380)][_0x613e1c(0x403)][_0x613e1c(0x39d)](_0x3190ba=>_0x3190ba[_0x613e1c(0x8fa)]===_0x9e7c8[_0x613e1c(0x86c)]),_0x5b016d=await async function(_0x38f268,_0x3dc756,_0x5c66a4,_0x2ac8f1,_0x375d5d){const _0x5f1bdd=_0x613e1c,_0x322e47=(0x0,_0x539333['v4'])();if(_0x2a25ba[_0x5f1bdd(0x7f8)]({'jobType':_0x1f107e[_0x5f1bdd(0x29a)],'type':_0x565071[_0x5f1bdd(0x323)],'jobId':_0x38f268,'blockId':_0x5c66a4['id'],'agentId':_0x322e47,'threadId':_0x3dc756[_0x5f1bdd(0x9e8)],'traceLevel':_0x51e2ca['Info'],'startTime':Date[_0x5f1bdd(0x667)](),'timestamp':Date[_0x5f1bdd(0x667)](),'status':_0x5f1bdd(0x7f4),'initialPrompt':_0x3dc756[_0x5f1bdd(0x929)]}),_0x3dc756[_0x5f1bdd(0x96b)]){for(const _0x1c0fc0 in _0x3dc756[_0x5f1bdd(0x96b)])_0xdf2bfc['setContent'](_0x3dc756[_0x5f1bdd(0x9e8)],_0x1c0fc0,_0x3dc756['internalContext'][_0x1c0fc0]);}const _0x207c46={'type':_0x3dc756[_0x5f1bdd(0x8fa)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x234d85=await _0x2ab7b0(_0x38f268,''+_0x3dc756[_0x5f1bdd(0x929)],_0x3dc756,_0x207c46,_0x5c66a4,_0x2ac8f1,_0x375d5d);if(!_0x234d85)throw new Error('No\x20answer\x20block\x20found');const _0x521892=_0x375d5d['models']['find'](_0x52c0d1=>_0x52c0d1['id']===_0x234d85[_0x5f1bdd(0x54b)]);if(!_0x521892)throw new Error(_0x5f1bdd(0x3c3));const _0x2a2273=_0x375d5d[_0x5f1bdd(0x4c4)][_0x5f1bdd(0x39d)](_0x3d204f=>_0x3d204f[_0x5f1bdd(0x91f)]()===_0x521892[_0x5f1bdd(0x8cb)]);if(!_0x2a2273)throw new Error(_0x5f1bdd(0x7f1));let _0x54dde9=_0x234d85[_0x5f1bdd(0x530)][_0x5f1bdd(0x929)];if(_0x234d85['contextInputVariable']&&''!==_0x234d85[_0x5f1bdd(0x2f8)]&&_0x5f1bdd(0x64c)!==_0x234d85['grammar']){const _0x2ab307=_0x234d85[_0x5f1bdd(0x2f8)][_0x5f1bdd(0x470)](',');for(const _0x4c2b8f of _0x2ab307)_0x54dde9=_0x54dde9+'\x0a\x0a'+_0x4c2b8f+':\x20'+_0xdf2bfc[_0x5f1bdd(0x192)](_0x3dc756[_0x5f1bdd(0x9e8)],_0x4c2b8f);}const _0x5b122c=Date[_0x5f1bdd(0x667)](),_0x417d08=await _0x2a2273[_0x5f1bdd(0x8d0)]({'type':_0x3dc756[_0x5f1bdd(0x8fa)],'prompt':_0x54dde9,'instructions':''+_0x234d85[_0x5f1bdd(0x20b)]+(_0x3dc756[_0x5f1bdd(0x20b)]??'')+(_0x234d85[_0x5f1bdd(0x530)]?.[_0x5f1bdd(0x5bb)]?_0x5f1bdd(0x387)+_0x234d85[_0x5f1bdd(0x530)][_0x5f1bdd(0x5bb)]['map'](_0x1d6647=>_0x1d6647['content'])[_0x5f1bdd(0x9e4)]('\x0a'):''),'grammar':_0x234d85[_0x5f1bdd(0x9ff)],'temperature':_0x234d85[_0x5f1bdd(0x595)],'maxTokens':_0x234d85['maxTokens'],'history':_0x3dc756['history'],'functions':_0x3f8742(_0x38f268,_0x322e47,_0x3dc756[_0x5f1bdd(0x9e8)],_0x207c46,_0x234d85,_0x2ac8f1,_0x375d5d),'threadId':_0x3dc756[_0x5f1bdd(0x9e8)]},{'model':_0x521892}),{inputTokens:_0x38dca9=0x0,outputTokens:_0x4583af=0x0,context:_0x473a5e=[]}=_0x417d08;return _0x2a25ba[_0x5f1bdd(0x7f8)]({'jobType':_0x1f107e[_0x5f1bdd(0x29a)],'type':_0x565071['FinalOutput'],'jobId':_0x38f268,'agentId':_0x322e47,'threadId':_0x3dc756['threadId'],'traceLevel':_0x51e2ca['Info'],'startTime':_0x5b122c,'timestamp':Date[_0x5f1bdd(0x667)](),'blockId':_0x5c66a4['id'],'status':'success','output':_0x417d08[_0x5f1bdd(0x2f9)]?.[_0x5f1bdd(0x298)]()??'','history':_0x3dc756['history']??[],'instructions':''+_0x234d85[_0x5f1bdd(0x20b)]+(_0x3dc756['instructions']??''),'ragContext':_0x473a5e,'inputTokens':_0x38dca9,'outputTokens':_0x4583af}),_0xdf2bfc[_0x5f1bdd(0x500)](_0x3dc756[_0x5f1bdd(0x9e8)]),{'type':_0x3dc756[_0x5f1bdd(0x8fa)],'output':_0x417d08[_0x5f1bdd(0x2f9)],'context':_0x207c46[_0x5f1bdd(0x5bb)],'internalContext':_0x207c46[_0x5f1bdd(0x96b)],'inputTokens':(_0x207c46[_0x5f1bdd(0x99a)]??0x0)+(_0x417d08[_0x5f1bdd(0x99a)]??0x0),'outputTokens':(_0x207c46[_0x5f1bdd(0x6f4)]??0x0)+(_0x417d08['outputTokens']??0x0)};}(_0x56f9be,_0xd27715,_0x152a1e,this[_0x613e1c(0x380)]['blocks'],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x613e1c(0x8d8)],'generativeAIWorkerConnectors':this[_0x613e1c(0x4c4)],'models':this[_0x613e1c(0x380)]['models'],'contentMediator':this[_0x613e1c(0x871)],'searchApiKey':this[_0x613e1c(0x32a)],'searchConnector':this[_0x613e1c(0x5b0)]});return _0x5b016d;}if(_0x613e1c(0x71e)===_0xd27715[_0x613e1c(0x8fa)])return _0x2a25ba[_0x613e1c(0x7f8)]({'jobType':_0x1f107e[_0x613e1c(0x973)],'type':_0xa2d18b[_0x613e1c(0x47d)],'jobId':_0xd27715['jobId'],'threadId':_0xd27715[_0x613e1c(0x9e8)],'traceLevel':_0x51e2ca[_0x613e1c(0xa01)],'startTime':Date[_0x613e1c(0x667)](),'timestamp':Date['now'](),'status':'success','rating':_0xd27715['rating'],'feedback':_0xd27715[_0x613e1c(0x7ce)]}),{'type':_0x613e1c(0x71e),'status':_0x410512['GenerativeAIRatingStatus']['Success']};if(_0x613e1c(0xa77)===_0xd27715[_0x613e1c(0x8fa)]){let _0x3c39d9;const _0x226da2=this[_0x613e1c(0x7f5)][_0x613e1c(0x7b7)]();for(;!_0x3c39d9;){const _0x19a194=_0x226da2[_0x613e1c(0x9f2)]()[_0x613e1c(0x153)];if(!_0x19a194)throw new Error(_0x613e1c(0x7c3));_0x3c39d9=this['dataStores'][_0x613e1c(0x3ee)](_0x19a194);try{const _0x4e9190=await _0x3c39d9[_0x613e1c(0x3ee)](_0xd27715[_0x613e1c(0x477)]);return{'type':_0x613e1c(0xa77),'fileName':_0x4e9190[_0x613e1c(0x181)],'mimeType':_0x4e9190['type'],'document':await _0x4e9190[_0x613e1c(0x4eb)]()};}catch(_0x540f41){continue;}}throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');}throw new Error(_0x613e1c(0x848));}async*[_0xdcbb79(0x48c)](_0x87d8e3,_0x5270c5){const _0x226fda=_0xdcbb79;if(!this[_0x226fda(0x380)])throw new Error(_0x226fda(0x4cd));const _0x35ab0e=this['workflow'][_0x226fda(0x403)][_0x226fda(0x39d)](_0xb3e9ba=>_0xb3e9ba['type']===_0x9e7c8[_0x226fda(0x86c)]);for await(const _0xf154ff of async function*(_0x8246db,_0x218e92,_0x4c21f0,_0x6dd104,_0x5a5051){const _0xc2dfb1=_0x226fda,_0x3ef725=(0x0,_0x539333['v4'])();if(_0x2a25ba[_0xc2dfb1(0x7f8)]({'jobType':_0x1f107e[_0xc2dfb1(0x29a)],'type':_0x565071[_0xc2dfb1(0x323)],'jobId':_0x8246db,'agentId':_0x3ef725,'threadId':_0x218e92['threadId'],'traceLevel':_0x51e2ca[_0xc2dfb1(0xa01)],'startTime':Date[_0xc2dfb1(0x667)](),'timestamp':Date[_0xc2dfb1(0x667)](),'blockId':_0x4c21f0['id'],'status':_0xc2dfb1(0x7f4),'initialPrompt':_0x218e92['prompt']}),_0x218e92['internalContext']){for(const _0x24e2db in _0x218e92[_0xc2dfb1(0x96b)])_0xdf2bfc[_0xc2dfb1(0x6e1)](_0x218e92[_0xc2dfb1(0x9e8)],_0x24e2db,_0x218e92[_0xc2dfb1(0x96b)][_0x24e2db]);}const _0x4bd6b8={'type':_0x218e92[_0xc2dfb1(0x8fa)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x9cb546=await _0x2ab7b0(_0x8246db,''+_0x218e92[_0xc2dfb1(0x929)],_0x218e92,_0x4bd6b8,_0x4c21f0,_0x6dd104,_0x5a5051);if(!_0x9cb546)throw new Error(_0xc2dfb1(0x976));const _0x588667=Date[_0xc2dfb1(0x667)]();let _0x46b49f='',_0x5cdc50={'type':_0x218e92[_0xc2dfb1(0x8fa)]};const _0x33c379=new _0x383b39();for(async function(_0x100b80,_0x3a4daa,_0x5c5738,_0x1a5a78,_0x327934,_0x35f835,_0x2d65d6,_0xc7939b){const _0x46e5a3=_0xc2dfb1,_0x1ed4df=_0xc7939b[_0x46e5a3(0x9ac)][_0x46e5a3(0x39d)](_0x456d00=>_0x456d00['id']===_0x327934[_0x46e5a3(0x54b)]);if(!_0x1ed4df)throw new Error('Model\x20not\x20found');const _0x4cdb1c=_0xc7939b[_0x46e5a3(0x4c4)][_0x46e5a3(0x39d)](_0x26b3b5=>_0x26b3b5[_0x46e5a3(0x91f)]()===_0x1ed4df['engineType']);if(!_0x4cdb1c)throw new Error(_0x46e5a3(0x7f1));let _0x4012a2=_0x327934[_0x46e5a3(0x530)][_0x46e5a3(0x929)];if(_0x327934[_0x46e5a3(0x2f8)]&&''!==_0x327934[_0x46e5a3(0x2f8)]&&_0x46e5a3(0x64c)!==_0x327934[_0x46e5a3(0x9ff)]){const _0x2a7eea=_0x327934['contextInputVariable'][_0x46e5a3(0x470)](',');for(const _0x3f0a22 of _0x2a7eea)_0x4012a2=_0x4012a2+'\x0a\x0a'+_0x3f0a22+':\x20'+_0xdf2bfc[_0x46e5a3(0x192)](_0x5c5738[_0x46e5a3(0x9e8)],_0x3f0a22);}for await(const _0x31566e of _0x4cdb1c[_0x46e5a3(0x158)]({'type':_0x5c5738[_0x46e5a3(0x8fa)],'prompt':_0x4012a2,'instructions':''+_0x327934[_0x46e5a3(0x20b)]+(_0x5c5738[_0x46e5a3(0x20b)]??'')+(_0x327934['accumulated']?.[_0x46e5a3(0x5bb)]?'\x0aAdditional\x20Context:\x20'+_0x327934[_0x46e5a3(0x530)][_0x46e5a3(0x5bb)][_0x46e5a3(0x945)](_0x4cb909=>_0x4cb909[_0x46e5a3(0x7bd)])[_0x46e5a3(0x9e4)]('\x0a'):''),'grammar':_0x327934[_0x46e5a3(0x9ff)],'temperature':_0x327934[_0x46e5a3(0x595)],'maxTokens':_0x327934[_0x46e5a3(0x9d0)],'history':_0x5c5738['history'],'functions':_0x3f8742(_0x100b80,_0x3a4daa,_0x5c5738[_0x46e5a3(0x9e8)],_0x1a5a78,_0x327934,_0x35f835,_0xc7939b,_0x2d65d6),'threadId':_0x5c5738[_0x46e5a3(0x9e8)]},{'model':_0x1ed4df}))_0x2d65d6['emit'](_0x31566e);_0x2d65d6[_0x46e5a3(0x6de)](void 0x0);}(_0x8246db,_0x3ef725,_0x218e92,_0x4bd6b8,_0x9cb546,_0x6dd104,_0x33c379,_0x5a5051);;){const _0x3624cf=await _0x33c379[_0xc2dfb1(0x9fa)]();if(!_0x3624cf)break;_0x46b49f+=_0x3624cf[_0xc2dfb1(0x2f9)],_0x5cdc50={'type':_0x218e92['type'],'output':_0x3624cf[_0xc2dfb1(0x2f9)],'context':_0x4bd6b8[_0xc2dfb1(0x5bb)],'internalContext':_0x4bd6b8[_0xc2dfb1(0x96b)],'inputTokens':(_0x4bd6b8[_0xc2dfb1(0x99a)]??0x0)+(_0x3624cf[_0xc2dfb1(0x99a)]??0x0),'outputTokens':(_0x4bd6b8[_0xc2dfb1(0x6f4)]??0x0)+(_0x3624cf[_0xc2dfb1(0x6f4)]??0x0)},yield _0x5cdc50;}const {inputTokens:_0x22dfa6=0x0,outputTokens:_0x19de8c=0x0,context:_0x1875de=[]}=_0x5cdc50;_0x2a25ba[_0xc2dfb1(0x7f8)]({'jobType':_0x1f107e[_0xc2dfb1(0x29a)],'type':_0x565071[_0xc2dfb1(0x8af)],'jobId':_0x8246db,'agentId':_0x3ef725,'threadId':_0x218e92[_0xc2dfb1(0x9e8)],'traceLevel':_0x51e2ca['Info'],'startTime':_0x588667,'timestamp':Date[_0xc2dfb1(0x667)](),'blockId':_0x4c21f0['id'],'status':_0xc2dfb1(0x7f4),'output':_0x46b49f,'history':_0x218e92[_0xc2dfb1(0x916)]??[],'instructions':''+_0x9cb546[_0xc2dfb1(0x20b)]+(_0x218e92[_0xc2dfb1(0x20b)]??''),'ragContext':_0x1875de,'inputTokens':_0x22dfa6,'outputTokens':_0x19de8c}),_0xdf2bfc[_0xc2dfb1(0x500)](_0x218e92[_0xc2dfb1(0x9e8)]);}(_0x87d8e3,_0x5270c5,_0x35ab0e,this[_0x226fda(0x380)]['blocks'],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x226fda(0x4c4)],'models':this[_0x226fda(0x380)][_0x226fda(0x9ac)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x226fda(0x32a)],'searchConnector':this[_0x226fda(0x5b0)]}))yield _0xf154ff;}[_0xdcbb79(0x81d)](_0x4f26ac,_0x756f9e){const _0x129fd3=_0xdcbb79;if(_0x129fd3(0x71e)===_0x756f9e['type'])return _0x4f26ac=_0x756f9e['jobId'],void this[_0x129fd3(0x321)](_0x4f26ac);this[_0x129fd3(0x321)](_0x4f26ac),_0x2a25ba[_0x129fd3(0x7f8)]({'jobType':_0x1f107e[_0x129fd3(0x57d)],'type':_0x396697['Queued'],'traceLevel':_0x51e2ca[_0x129fd3(0xa01)],'jobId':_0x4f26ac,'threadId':_0x756f9e[_0x129fd3(0x9e8)],'startTime':Date['now'](),'timestamp':Date[_0x129fd3(0x667)](),'status':_0x129fd3(0x7f4)});}['stopTracing'](_0x46e5af,_0x3fd891){const _0x552b61=_0xdcbb79;if(_0x552b61(0x71e)===_0x3fd891['type'])return _0x46e5af=_0x3fd891[_0x552b61(0x452)],void this[_0x552b61(0x39b)](_0x46e5af);_0x2a25ba['trace']({'jobType':_0x1f107e[_0x552b61(0x57d)],'type':_0x396697[_0x552b61(0x46c)],'traceLevel':_0x51e2ca[_0x552b61(0xa01)],'jobId':_0x46e5af,'threadId':_0x3fd891['threadId'],'startTime':Date['now'](),'timestamp':Date[_0x552b61(0x667)](),'status':_0x552b61(0x7f4)}),this['closeTrace'](_0x46e5af);}async[_0xdcbb79(0x7d9)](_0x214b60){return new Promise(_0xe854a9=>{const _0x105a11=a0_0x27c7;_0x214b60[_0x105a11(0x917)](this[_0x105a11(0x726)],async _0x2d28df=>{const _0x4172a8=_0x105a11;_0x2d28df[_0x4172a8(0x93b)]===_0x410512[_0x4172a8(0x199)]['SyncComplete']&&(_0x214b60[_0x4172a8(0x1aa)](this[_0x4172a8(0x726)]),_0xe854a9(_0x2d28df[_0x4172a8(0x494)][_0x4172a8(0x956)]));});});}async[_0xdcbb79(0x8e1)](_0x3e4d76){const _0x11c5a2=_0xdcbb79;if(!this[_0x11c5a2(0x36a)])throw new Error(_0x11c5a2(0x6be));const _0x4103cd=await this[_0x11c5a2(0x36a)][_0x11c5a2(0x232)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x1e965c of _0x4103cd)if(_0x1e965c[_0x11c5a2(0x952)]===_0x410512[_0x11c5a2(0x4af)][_0x11c5a2(0x4a9)]&&_0x1e965c[_0x11c5a2(0x2c3)]===_0x3e4d76)return _0x1e965c['absolutePathName']??_0x1e965c['pathName'];throw new Error('Model\x20not\x20found:\x20'+_0x3e4d76);}async[_0xdcbb79(0x193)](){const _0x5e3c36=_0xdcbb79;if(!this[_0x5e3c36(0x380)])throw new Error(_0x5e3c36(0x4cd));for(const _0x25cc5e of this[_0x5e3c36(0x7f5)]['values']())try{const _0x2c7d16=this['workflow'][_0x5e3c36(0x403)]['filter'](_0x5c2b29=>(_0x5c2b29[_0x5e3c36(0x8fa)]===_0x9e7c8[_0x5e3c36(0x2f1)]||_0x5c2b29[_0x5e3c36(0x8fa)]===_0x9e7c8[_0x5e3c36(0x8e2)])&&_0x5c2b29[_0x5e3c36(0x31e)]?.[_0x5e3c36(0x692)](_0x127532=>_0x127532['id']===_0x25cc5e['getLabel']()));for(let _0x3a7d0b=_0x2c7d16[_0x5e3c36(0x454)]-0x1;_0x3a7d0b>=0x0;_0x3a7d0b--)for(const _0xf163f7 of _0x2c7d16[_0x3a7d0b][_0x5e3c36(0x31e)]??[])_0xf163f7[_0x5e3c36(0x8fa)]===_0x303f13[_0x5e3c36(0x33d)]&&this[_0x5e3c36(0x871)]['getVectorDatabase'](_0xf163f7['id'])[_0x5e3c36(0x73d)]()&&_0x2c7d16[_0x5e3c36(0x789)](_0x3a7d0b,0x1),_0xf163f7[_0x5e3c36(0x8fa)]===_0x303f13[_0x5e3c36(0x803)]&&this[_0x5e3c36(0x871)][_0x5e3c36(0x1eb)](_0xf163f7['id'])[_0x5e3c36(0x73d)]()&&_0x2c7d16['splice'](_0x3a7d0b,0x1);const _0x16229c=new Map();let _0x79914b=!0x1;for(const _0x31229e of _0x2c7d16){let _0x87fcfc=''+(_0x31229e['version']??0x1);for(const _0x5df67d of _0x31229e[_0x5e3c36(0x31e)]??[])_0x5df67d[_0x5e3c36(0x8fa)]===_0x303f13[_0x5e3c36(0x963)]&&(_0x87fcfc=_0x87fcfc+'-'+(_0x5df67d[_0x5e3c36(0x2ec)]??0x1));for(const _0xe0c8a9 of _0x31229e[_0x5e3c36(0x31e)]??[])_0xe0c8a9[_0x5e3c36(0x8fa)]===_0x303f13[_0x5e3c36(0x33d)]&&_0x16229c['set'](_0xe0c8a9['id'],{'version':_0x87fcfc,'getDatabase':this[_0x5e3c36(0x871)][_0x5e3c36(0x461)][_0x5e3c36(0xa19)](this['contentMediator']),'block':_0xe0c8a9}),_0xe0c8a9[_0x5e3c36(0x8fa)]===_0x303f13['GraphDatabase']&&_0x16229c[_0x5e3c36(0x80a)](_0xe0c8a9['id'],{'version':_0x87fcfc,'getDatabase':this[_0x5e3c36(0x871)][_0x5e3c36(0x1eb)][_0x5e3c36(0xa19)](this[_0x5e3c36(0x871)]),'block':_0xe0c8a9});}for(const {getDatabase:_0x5ccc18,block:_0x507ff2,version:_0x3cd593}of _0x16229c[_0x5e3c36(0x6c2)]())try{const _0x5b01aa=_0x5ccc18(_0x507ff2['id']);_0x5b01aa[_0x5e3c36(0x847)](_0x3cd593),_0x5b01aa['setIsLoaded'](!0x0),_0x79914b=!0x0;}catch(_0x110938){_0x79914b=!0x1;break;}if(_0xbff73d[_0x5e3c36(0x3e6)]('Loaded\x20from\x20disk'),_0x79914b)continue;_0xbff73d[_0x5e3c36(0x3e6)](_0x5e3c36(0x174));const _0x578e9b=await _0x25cc5e[_0x5e3c36(0x232)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x5e3c36(0xa16)](_0x55d9b0[_0x5e3c36(0x365)],_0x25cc5e[_0x5e3c36(0x8b8)](),_0x578e9b);for(const {getDatabase:_0x91f336,block:_0x49345f,version:_0x5bab75}of _0x16229c[_0x5e3c36(0x6c2)]()){const _0x12864c=_0x91f336(_0x49345f['id']);_0x12864c[_0x5e3c36(0xa09)](_0x5bab75),_0x12864c['setIsLoaded'](!0x0);}}catch(_0x599db6){_0xbff73d['error']('Error\x20loading\x20existing\x20content',{'nodeId':this['localNode'][_0x5e3c36(0xa10)](),'nodeType':this[_0x5e3c36(0x99b)][_0x5e3c36(0x8fa)]});}}async['loadExternalContent'](){const _0x51cf5a=_0xdcbb79;for(const _0x49adb9 of this[_0x51cf5a(0x1b7)][_0x51cf5a(0x6c2)]())try{const _0x43eb34=await _0x49adb9[_0x51cf5a(0x232)]('/',{'recursive':!0x0});await this[_0x51cf5a(0xa16)](_0x55d9b0[_0x51cf5a(0x22a)],_0x49adb9[_0x51cf5a(0x8b8)](),_0x43eb34);}catch(_0xcf9c37){_0xbff73d[_0x51cf5a(0x33f)](_0x51cf5a(0x665),{'nodeId':this['localNode'][_0x51cf5a(0xa10)](),'nodeType':this['localNode'][_0x51cf5a(0x8fa)]});}}async[_0xdcbb79(0xa16)](_0x383979,_0x39d050,_0x57e35b){const _0x381186=_0xdcbb79;for(const _0x290b2e of _0x57e35b){if(_0x290b2e[_0x381186(0x952)]===_0x410512[_0x381186(0x4af)][_0x381186(0x6e4)]){if(!_0x290b2e['entries']||0x0===_0x290b2e['entries'][_0x381186(0x454)])continue;await this['syncFolder'](_0x383979,_0x39d050,_0x290b2e[_0x381186(0x88f)]);}_0x290b2e['kind']===_0x410512[_0x381186(0x4af)][_0x381186(0x4a9)]&&await this[_0x381186(0x601)](_0x383979,_0x39d050,_0x290b2e[_0x381186(0x2c3)]);}}['subscribeToLocalContent'](){const _0x5aeffb=_0xdcbb79;for(const _0x4baf40 of this[_0x5aeffb(0x7f5)][_0x5aeffb(0x6c2)]())_0x4baf40[_0x5aeffb(0x917)](this[_0x5aeffb(0x726)],async _0xfd9051=>{const _0x4444d2=_0x5aeffb;switch(_0xfd9051[_0x4444d2(0x93b)]){case _0x410512[_0x4444d2(0x199)]['FileWrite']:this[_0x4444d2(0x6a8)](_0x55d9b0['ObjectStorage'],_0x4baf40[_0x4444d2(0x8b8)](),_0xfd9051[_0x4444d2(0x494)]['file'][_0x4444d2(0x2c3)]),await this[_0x4444d2(0x601)](_0x55d9b0[_0x4444d2(0x365)],_0x4baf40[_0x4444d2(0x8b8)](),_0xfd9051['payload'][_0x4444d2(0x57b)][_0x4444d2(0x2c3)]);break;case _0x410512[_0x4444d2(0x199)][_0x4444d2(0x8d4)]:this[_0x4444d2(0x6a8)](_0x55d9b0[_0x4444d2(0x365)],_0x4baf40[_0x4444d2(0x8b8)](),_0xfd9051[_0x4444d2(0x494)][_0x4444d2(0x2c3)]);}});}[_0xdcbb79(0x2cb)](){const _0x4cb15e=_0xdcbb79;for(const _0x3fed35 of this[_0x4cb15e(0x1b7)]['values']())_0x3fed35['subscribe'](this[_0x4cb15e(0x726)],async _0xdbea10=>{const _0x5b9e22=_0x4cb15e;switch(_0xdbea10[_0x5b9e22(0x93b)]){case _0x410512[_0x5b9e22(0x199)][_0x5b9e22(0x26e)]:this[_0x5b9e22(0x6a8)](_0x55d9b0[_0x5b9e22(0x22a)],_0x3fed35[_0x5b9e22(0x8b8)](),_0xdbea10[_0x5b9e22(0x494)][_0x5b9e22(0x57b)][_0x5b9e22(0x2c3)]),await this['addContent'](_0x55d9b0[_0x5b9e22(0x22a)],_0x3fed35['getName'](),_0xdbea10[_0x5b9e22(0x494)][_0x5b9e22(0x57b)][_0x5b9e22(0x2c3)]);break;case _0x410512['StorageEventType'][_0x5b9e22(0x8d4)]:this['removeContent'](_0x55d9b0[_0x5b9e22(0x22a)],_0x3fed35['getName'](),_0xdbea10[_0x5b9e22(0x494)]['pathName']);}});}async[_0xdcbb79(0x601)](_0x4cbc39,_0x3a2ada,_0x22bf00){const _0x22d39d=_0xdcbb79;if(_0xbff73d[_0x22d39d(0x3e6)]('addContent',_0x4cbc39,_0x3a2ada,_0x22bf00),!this[_0x22d39d(0x380)])throw new Error(_0x22d39d(0x4cd));let _0x56604b;switch(_0x4cbc39){case _0x55d9b0[_0x22d39d(0x365)]:_0x56604b=_0x303f13[_0x22d39d(0x96c)];break;case _0x55d9b0[_0x22d39d(0x22a)]:_0x56604b=_0x303f13['ExternalStorageUpload'];}if(!_0x56604b)return;const _0x330322=this[_0x22d39d(0x380)][_0x22d39d(0x403)]['filter'](_0x3681db=>_0x3681db[_0x22d39d(0x8fa)]===_0x9e7c8[_0x22d39d(0x8e2)]||_0x3681db[_0x22d39d(0x8fa)]===_0x9e7c8[_0x22d39d(0x2f1)]),_0x5ba2da=new Set(_0x330322[_0x22d39d(0x945)](_0x55b95d=>_0x55b95d['id'])),_0x497fbe=_0x330322[_0x22d39d(0x4e9)](_0x4a8274=>_0x4a8274[_0x22d39d(0x31e)]?.[_0x22d39d(0x692)](_0x6f2d82=>_0x6f2d82[_0x22d39d(0x8fa)]===_0x56604b&&_0x6f2d82['id']===_0x3a2ada));for(const _0x246420 of _0x497fbe){if(!_0x5ba2da['has'](_0x246420['id']))continue;_0x5ba2da['delete'](_0x246420['id']);const _0x18c974=_0x246420[_0x22d39d(0x31e)]?.[_0x22d39d(0x39d)](_0x36eea8=>_0x36eea8[_0x22d39d(0x8fa)]===_0x56604b&&_0x36eea8['id']===_0x3a2ada);if(!_0x18c974)continue;const _0x24c39c=(0x0,_0x539333['v4'])();_0x2a25ba[_0x22d39d(0x321)](null,_0x24c39c),await _0x464e3d(_0x24c39c,_0x22bf00,_0x18c974,_0x246420['ingestBlocks'],{'documentParserConnector':this[_0x22d39d(0x195)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':this[_0x22d39d(0x380)][_0x22d39d(0x9ac)],'contentMediator':this[_0x22d39d(0x871)],'searchApiKey':this['searchApiKey'],'version':_0x246420[_0x22d39d(0x2ec)]??0x1}),_0x2a25ba[_0x22d39d(0x39b)](_0x24c39c);}this[_0x22d39d(0x393)]();}[_0xdcbb79(0x6a8)](_0x3a5a20,_0x4f23bf,_0x34443b){const _0x304b79=_0xdcbb79;if(_0xbff73d[_0x304b79(0x3e6)]('removeContent',_0x3a5a20,_0x4f23bf,_0x34443b),!this[_0x304b79(0x380)])throw new Error('Workflow\x20not\x20initialized');let _0x7944b3;switch(_0x3a5a20){case _0x55d9b0[_0x304b79(0x365)]:_0x7944b3=_0x303f13['ObjectStorageUpload'];break;case _0x55d9b0[_0x304b79(0x22a)]:_0x7944b3=_0x303f13['ExternalStorageUpload'];}if(!_0x7944b3)return;const _0x571694=this[_0x304b79(0x380)]['blocks'][_0x304b79(0x4e9)](_0x127d3c=>_0x127d3c[_0x304b79(0x8fa)]===_0x9e7c8['Knowledge']||_0x127d3c[_0x304b79(0x8fa)]===_0x9e7c8['DataCollection']),_0x27c91a=new Set(_0x571694[_0x304b79(0x945)](_0x360f31=>_0x360f31['id'])),_0x34f909=_0x571694[_0x304b79(0x4e9)](_0x5dc486=>_0x5dc486['ingestBlocks']?.[_0x304b79(0x692)](_0x3ea720=>_0x3ea720[_0x304b79(0x8fa)]===_0x7944b3&&_0x3ea720['id']===_0x4f23bf));for(const _0x4917d7 of _0x34f909){if(!_0x27c91a[_0x304b79(0x504)](_0x4917d7['id']))continue;_0x27c91a[_0x304b79(0x652)](_0x4917d7['id']);let _0x35d728=''+(_0x4917d7[_0x304b79(0x2ec)]??0x1);for(const _0x10b007 of _0x4917d7[_0x304b79(0x31e)]??[])_0x10b007[_0x304b79(0x8fa)]===_0x303f13[_0x304b79(0x963)]&&(_0x35d728=_0x35d728+'-'+(_0x10b007[_0x304b79(0x2ec)]??0x1));for(const _0x11c120 of _0x4917d7[_0x304b79(0x31e)]??[]){if(_0x11c120[_0x304b79(0x8fa)]===_0x303f13[_0x304b79(0x33d)]){const _0x3b36d0=this[_0x304b79(0x871)][_0x304b79(0x461)](_0x11c120['id']);_0x3b36d0[_0x304b79(0x852)](_0x34443b),_0x3b36d0[_0x304b79(0x73d)]()&&_0x3b36d0[_0x304b79(0xa09)](_0x35d728);}if(_0x11c120['type']===_0x303f13[_0x304b79(0x803)]){const _0x12b1be=this[_0x304b79(0x871)][_0x304b79(0x1eb)](_0x11c120['id']);_0x12b1be[_0x304b79(0x852)](_0x34443b),_0x12b1be[_0x304b79(0x73d)]()&&_0x12b1be['saveToDisk'](_0x35d728);}}}this[_0x304b79(0x393)]();}[_0xdcbb79(0x5e7)](){const _0x688ce4=_0xdcbb79;try{return this[_0x688ce4(0x18d)][_0x688ce4(0x7a1)]()['gpu'][_0x688ce4(0x247)]*(0x1-this['capacityReporter'][_0x688ce4(0x7a1)]()[_0x688ce4(0x711)][_0x688ce4(0x335)]);}catch(_0x324db5){return _0xbff73d['log'](_0x1f75f2[_0x688ce4(0x589)],_0x688ce4(0x4b7),_0x324db5),0x0;}}[_0xdcbb79(0x393)](){const _0x272f91=_0xdcbb79;this[_0x272f91(0x14f)]&&(this['debounceStats']&&clearTimeout(this[_0x272f91(0x1b9)]),this[_0x272f91(0x1b9)]=setTimeout(async()=>{const _0x41955e=_0x272f91;if(delete this[_0x41955e(0x1b9)],!this[_0x41955e(0x36a)])return;let _0x374b1e=await this['modelStore'][_0x41955e(0x65f)]();for(const _0x54058a of this['dataStores']['values']())_0x374b1e+=await _0x54058a[_0x41955e(0x65f)]();this[_0x41955e(0x5df)]['publish']({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x41955e(0x6cf)],'content':{'type':_0x31d4ec['GenerativeAIWorkerStats'],'label':this['label'],'stats':{'timestamp':Date[_0x41955e(0x667)](),'storage':_0x374b1e,'messagesSent':this[_0x41955e(0x9b6)],'messagesReceived':this[_0x41955e(0x958)],'bytesSent':this[_0x41955e(0x82c)],'bytesReceived':this[_0x41955e(0x6d1)],'writes':0x0,'reads':0x0,'prompts':this[_0x41955e(0x858)],'tokens':this[_0x41955e(0x7c5)]}}});},_0xe479f));}[_0xdcbb79(0x6bf)](_0x433b8e,_0x5dc387){const _0x3fd1ec=_0xdcbb79,_0xe27374=this['label'],_0x3433d0=this[_0x3fd1ec(0xa37)]();_0xbff73d[_0x3fd1ec(0x6bf)](_0x3a8602['GenerativeAIContext'],{'topic':_0xe27374,'type':'answer','nodeId':_0x3433d0,'tokenCount':_0x5dc387,'tokensPerSecond':_0x433b8e});}[_0xdcbb79(0x321)](_0x58b494){const _0x36521b=_0xdcbb79;try{if(!this['workflow'])throw new Error('Workflow\x20not\x20initialized');if(!this[_0x36521b(0x776)])throw new Error(_0x36521b(0x36c));if(!_0x2a25ba[_0x36521b(0x321)](this[_0x36521b(0x776)],_0x58b494))throw new Error(_0x36521b(0x177));return _0x58b494;}catch(_0x28ec7d){return console['error'](_0x36521b(0x177),_0x28ec7d),_0x36521b(0x208);}}[_0xdcbb79(0x39b)](_0x363b1c){const _0x12912d=_0xdcbb79;try{_0x2a25ba[_0x12912d(0x39b)](_0x363b1c);}catch(_0x5ab1a5){console[_0x12912d(0x33f)](_0x12912d(0x244),{'jobId':_0x363b1c,'error':_0x5ab1a5});}}async[_0xdcbb79(0x39e)](){return new Promise(_0x304b6a=>{const _0x5b25f2=a0_0x27c7;try{const _0x4eff1f=_0x1c8b30(this[_0x5b25f2(0x8de)],this[_0x5b25f2(0x726)]);this['loggingDb']=this['contentMediator'][_0x5b25f2(0x979)](_0x4eff1f),this[_0x5b25f2(0x776)][_0x5b25f2(0x917)](({event:_0x27e490})=>{const _0x9923eb=_0x5b25f2;_0x27e490===_0x410512[_0x9923eb(0x281)][_0x9923eb(0x2af)]&&(this[_0x9923eb(0x776)][_0x9923eb(0x1aa)](),_0x304b6a());});}catch(_0x4061f7){console[_0x5b25f2(0x33f)](_0x5b25f2(0x6a7)+_0x1c8b30(this['vendorId'],this[_0x5b25f2(0x726)])+_0x5b25f2(0x8b0),_0x4061f7),_0x304b6a();}});}}class _0x54cf6c extends _0x2be12e{['localNode'];[_0xdcbb79(0x31a)];[_0xdcbb79(0x8de)];['db'];['debounceStats'];['writes']=0x0;[_0xdcbb79(0x79c)]=0x0;[_0xdcbb79(0x168)]=!0x1;constructor(_0x1f856a,_0x57f81d,_0x53f646,_0x17c4ab,_0x3f8780){const _0x288812=_0xdcbb79;if(_0x288812(0x610)!=typeof _0x57f81d)throw new _0x5df866(_0x29ef36[_0x288812(0x230)],_0x288812(0x683));super(_0x1f856a,_0x57f81d),this[_0x288812(0x99b)]=_0x1f856a,this[_0x288812(0x31a)]=_0x53f646,this[_0x288812(0x8de)]=_0x17c4ab;const _0x1b3f9c=_0x288812(0x1ea)+this[_0x288812(0x8de)]+_0x288812(0x1ea)+this[_0x288812(0x31a)]+_0x288812(0x1ea)+this[_0x288812(0x726)];this['db']=new _0x3f8780(_0x1b3f9c),this[_0x288812(0x393)]();}[_0xdcbb79(0x73d)](){return this['isLoaded'];}[_0xdcbb79(0x322)](_0x7ae9b3){this['isLoaded']=_0x7ae9b3;}[_0xdcbb79(0x4f6)](){const _0xaa0d3f=_0xdcbb79;clearTimeout(this[_0xaa0d3f(0x1b9)]),delete this[_0xaa0d3f(0x1b9)],super[_0xaa0d3f(0x4f6)]();}['close'](){const _0x319de8=_0xdcbb79;this[_0x319de8(0x5df)][_0x319de8(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x319de8(0x6cf)],'content':{'type':_0x31d4ec[_0x319de8(0x4a4)],'label':this['label']}});}['getContentType'](){const _0x379ef2=_0xdcbb79;return _0x410512['ContentType'][_0x379ef2(0x803)];}[_0xdcbb79(0x337)](){this['sendStats']();}[_0xdcbb79(0x52d)](_0x4a6a72,_0x14bffc,_0x51cafa,_0x37203b){const _0x38ff12=_0xdcbb79;this['db']['addNode'](_0x4a6a72,_0x14bffc,_0x51cafa,_0x37203b),this['writes']+=0x1,this[_0x38ff12(0x393)]();}['addEdge'](_0xd63e6a,_0x29cfac){const _0x4aa93b=_0xdcbb79;this['db'][_0x4aa93b(0x5ea)](_0xd63e6a,_0x29cfac),this['writes']+=0x1,this['sendStats']();}[_0xdcbb79(0x192)](_0xbe9d9e,_0x4a261b,_0xe21df){const _0x409aaa=_0xdcbb79,_0x59c5e8=this['db'][_0x409aaa(0x192)](_0xbe9d9e,_0x4a261b,_0xe21df);return this[_0x409aaa(0x79c)]+=0x1,_0xbff73d[_0x409aaa(0x6bf)](_0x3a8602[_0x409aaa(0x803)],{'type':_0x409aaa(0x85d),'label':this[_0x409aaa(0x726)],'nodeId':this['localNode'][_0x409aaa(0xa10)](),'nodeType':this[_0x409aaa(0x99b)][_0x409aaa(0x8fa)],'clusterId':this['clusterId'],'size':0x0}),this[_0x409aaa(0x393)](),_0x59c5e8;}['remove'](_0x22a3a7){const _0xf84c5f=_0xdcbb79;this['db'][_0xf84c5f(0x852)](_0x22a3a7),this[_0xf84c5f(0x7f3)]+=0x1,this[_0xf84c5f(0x393)]();}[_0xdcbb79(0xa09)](_0x28b991){const _0x344b6f=_0xdcbb79;this['db'][_0x344b6f(0xa09)](_0x28b991);}[_0xdcbb79(0x847)](_0x36deaa){const _0x5d5722=_0xdcbb79;this['db'][_0x5d5722(0x847)](_0x36deaa);}[_0xdcbb79(0x393)](){const _0x452cf4=_0xdcbb79;this[_0x452cf4(0x1b9)]&&clearTimeout(this[_0x452cf4(0x1b9)]),this['debounceStats']=setTimeout(async()=>{const _0xb86c6e=_0x452cf4;delete this[_0xb86c6e(0x1b9)];const _0x46d7cb=this['db'][_0xb86c6e(0x65f)]();this[_0xb86c6e(0x5df)][_0xb86c6e(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0xb86c6e(0x6cf)],'content':{'type':_0x31d4ec['GraphDatabaseStats'],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x46d7cb,'messagesSent':this[_0xb86c6e(0x9b6)],'messagesReceived':this[_0xb86c6e(0x958)],'bytesSent':this[_0xb86c6e(0x82c)],'bytesReceived':this[_0xb86c6e(0x6d1)],'writes':this['writes'],'reads':this[_0xb86c6e(0x79c)],'prompts':0x0,'tokens':0x0}}}),_0xbff73d[_0xb86c6e(0x336)](_0x3a8602[_0xb86c6e(0x803)],_0xb86c6e(0x1ea)+this['clusterId']+_0xb86c6e(0x1ea)+this[_0xb86c6e(0x726)],_0x46d7cb);},_0xe479f);}}class _0x190ae1 extends _0x30e0bb{['mediaStream'];constructor(_0x2e7b01,_0x10ecee,_0x487f1c){const _0x726c8f=_0xdcbb79;super(_0x2e7b01,_0x10ecee),this[_0x726c8f(0x4fc)]=_0x487f1c;}['getContentType'](){const _0x1f2208=_0xdcbb79;return _0x410512[_0x1f2208(0xa30)]['Media'];}[_0xdcbb79(0x18c)](){return this['mediaStream'];}[_0xdcbb79(0x9db)](){return this['mediaStream']['id'];}}class _0x37cc07 extends _0x190ae1{[_0xdcbb79(0x515)];['params'];[_0xdcbb79(0x318)];[_0xdcbb79(0x978)]=_0x39cb77();constructor(_0x305cb6,_0x5b2066,_0x2a6169,_0x2e52a2,_0xaca753){const _0x5acd73=_0xdcbb79;super(_0x305cb6,_0x5b2066,_0x2a6169),this['remoteId']=_0x2e52a2,this[_0x5acd73(0x48e)]=_0xaca753;}[_0xdcbb79(0x4f6)](){const _0x142915=_0xdcbb79;this[_0x142915(0x5f3)](_0x142915(0x82e)),this['removeTrack'](_0x142915(0x72f)),super[_0x142915(0x4f6)]();}[_0xdcbb79(0x9b9)](_0x2b22e1){const _0x5ce158=_0xdcbb79;if(!this[_0x5ce158(0x318)])throw new _0x3c9628(_0x3c9628[_0x5ce158(0x994)][_0x5ce158(0x4c2)],{'label':this[_0x5ce158(0x726)],'ownerId':this[_0x5ce158(0x1af)][_0x5ce158(0xa10)](),'remoteId':this['remoteId']});this['topic']['publish']({'sourceId':this[_0x5ce158(0x1af)]['getId'](),'content':{'action':_0x1b3ca9[_0x5ce158(0x881)],'track':_0x2b22e1,'stream':this[_0x5ce158(0x4fc)],'priority':_0x410512['MediaStreamPriority'][_0x5ce158(0x7fe)],'params':this[_0x5ce158(0x43a)](_0x2b22e1[_0x5ce158(0x952)],this[_0x5ce158(0x48e)])}});}['removeTrack'](_0x1efa21){const _0x1c968b=_0xdcbb79,_0x1d7951=this['getTrack'](_0x1efa21);if(_0x1d7951){if(!this[_0x1c968b(0x318)])return null;this[_0x1c968b(0x318)]['publish']({'sourceId':this[_0x1c968b(0x1af)][_0x1c968b(0xa10)](),'content':{'action':_0x1b3ca9[_0x1c968b(0x2c5)],'track':_0x1d7951,'stream':this[_0x1c968b(0x4fc)]}});}return _0x1d7951;}[_0xdcbb79(0x71a)](_0x53e9a4){const _0x1f9676=_0xdcbb79;if(!this[_0x1f9676(0x318)])throw new _0x3c9628(_0x3c9628[_0x1f9676(0x994)][_0x1f9676(0x4c2)],{'label':this[_0x1f9676(0x726)],'ownerId':this['owner'][_0x1f9676(0xa10)](),'remoteId':this['remoteId']});this[_0x1f9676(0x318)]['publish']({'sourceId':this[_0x1f9676(0x1af)][_0x1f9676(0xa10)](),'content':{'action':_0x1b3ca9[_0x1f9676(0x61b)],'priority':_0x53e9a4,'stream':this[_0x1f9676(0x4fc)]}});}[_0xdcbb79(0x917)]({trackKinds:_0x54288e,params:_0x42d0e5},_0xef9a7e){const _0x55c919=_0xdcbb79;if(!this['topic'])throw new _0x3c9628(_0x3c9628[_0x55c919(0x994)][_0x55c919(0x4c2)],{'label':this[_0x55c919(0x726)],'ownerId':this[_0x55c919(0x1af)][_0x55c919(0xa10)](),'remoteId':this[_0x55c919(0x515)]});for(const _0x41155a of this[_0x55c919(0x4fc)]['getTracks']())_0x54288e[_0x55c919(0x949)](_0x41155a[_0x55c919(0x952)])&&this[_0x55c919(0x318)][_0x55c919(0x884)]({'sourceId':this['owner'][_0x55c919(0xa10)](),'content':{'action':_0x1b3ca9['Add'],'track':_0x41155a,'stream':this[_0x55c919(0x4fc)],'priority':_0xef9a7e,'params':this['getInternalTrackParams'](_0x41155a[_0x55c919(0x952)],_0x42d0e5)}});}[_0xdcbb79(0x65d)]({params:_0x39a120}){const _0x53dd5d=_0xdcbb79;if(!this['topic'])throw new _0x3c9628(_0x3c9628[_0x53dd5d(0x994)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x53dd5d(0x726)],'ownerId':this[_0x53dd5d(0x1af)][_0x53dd5d(0xa10)](),'remoteId':this[_0x53dd5d(0x515)]});for(const _0x43e303 of this[_0x53dd5d(0x4fc)]['getTracks']())this[_0x53dd5d(0x318)][_0x53dd5d(0x884)]({'sourceId':this[_0x53dd5d(0x1af)][_0x53dd5d(0xa10)](),'content':{'action':_0x1b3ca9[_0x53dd5d(0x61b)],'stream':this['mediaStream'],'params':this[_0x53dd5d(0x43a)](_0x43e303[_0x53dd5d(0x952)],_0x39a120)}});}[_0xdcbb79(0x1aa)]({trackKinds:_0x1f103b}){const _0x520188=_0xdcbb79;if(this['topic']){for(const _0x370e4a of this[_0x520188(0x4fc)][_0x520188(0x9a3)]())_0x1f103b[_0x520188(0x949)](_0x370e4a['kind'])&&this[_0x520188(0x318)][_0x520188(0x884)]({'sourceId':this[_0x520188(0x1af)][_0x520188(0xa10)](),'content':{'action':_0x1b3ca9[_0x520188(0x2c5)],'stream':this[_0x520188(0x4fc)],'track':_0x370e4a}});}}[_0xdcbb79(0x524)](_0x22151f){const _0x3450bd=_0xdcbb79;this[_0x3450bd(0x318)]=_0x22151f;}[_0xdcbb79(0x62e)](_0x52d65b){const _0x50bed3=_0xdcbb79;_0x52d65b===this[_0x50bed3(0x318)]&&(delete this[_0x50bed3(0x318)],this[_0x50bed3(0x978)][_0x50bed3(0x884)]());}[_0xdcbb79(0x316)](_0x9fc78c){const _0x1ff5b2=_0xdcbb79;return this[_0x1ff5b2(0x978)][_0x1ff5b2(0x917)](_0x9fc78c);}['getTrack'](_0x415c6b){const _0x5bd846=_0xdcbb79;return this[_0x5bd846(0x4fc)][_0x5bd846(0x9a3)]()['find'](_0x67f32e=>_0x67f32e[_0x5bd846(0x952)]===_0x415c6b)||null;}[_0xdcbb79(0x43a)](_0x277cd9,_0x18554f){const _0x555705=_0xdcbb79;let _0x15654c;return _0x555705(0x72f)===_0x277cd9&&_0x18554f?.[_0x555705(0x72f)]&&'boolean'!=typeof _0x18554f['video']&&(_0x15654c={'kind':'video',..._0x18554f[_0x555705(0x72f)]},_0x15654c[_0x555705(0x4d6)]=this[_0x555705(0x780)]()),_0x555705(0x82e)===_0x277cd9&&_0x18554f?.[_0x555705(0x82e)]&&_0x555705(0x178)!=typeof _0x18554f['audio']&&(_0x15654c={'kind':_0x555705(0x82e),..._0x18554f['audio']}),_0x15654c;}[_0xdcbb79(0x780)](){const _0xa533e0=_0xdcbb79;let _0x12c159={'width':0x0,'height':0x0};const _0x5ae732=this[_0xa533e0(0x4fc)][_0xa533e0(0x3ad)]();if(_0x5ae732['length']>0x0){const _0x3b631c=_0x5ae732[0x0][_0xa533e0(0x6b3)]();_0x3b631c[_0xa533e0(0x4b2)]&&_0x3b631c[_0xa533e0(0x599)]&&(_0x12c159={'width':_0x3b631c['width'],'height':_0x3b631c[_0xa533e0(0x599)]});}return _0x12c159;}}class _0x33d840 extends _0x190ae1{['clusterId'];[_0xdcbb79(0x7d8)]=_0x410512[_0xdcbb79(0x2a1)][_0xdcbb79(0x7fe)];[_0xdcbb79(0x648)]=new Map();[_0xdcbb79(0x733)]=new Map();constructor(_0x336451,_0x2bc279,_0x526c41,_0x142275){const _0x9f07aa=_0xdcbb79;super(_0x336451,_0x2bc279,_0x526c41 instanceof MediaStream?_0x526c41:_0x526c41['srcObject']?_0x526c41[_0x9f07aa(0x525)]:_0x526c41[_0x9f07aa(0x597)]()),this[_0x9f07aa(0x31a)]=_0x142275,this[_0x9f07aa(0x4fc)][_0x9f07aa(0x9a3)]()[_0x9f07aa(0x5f6)](_0x2f3769=>this['setupTrackEndedListeners'](_0x2f3769)),_0xbff73d[_0x9f07aa(0x6bf)](_0x3a8602[_0x9f07aa(0xa43)],{'type':'publish','label':this[_0x9f07aa(0x726)],'nodeId':this[_0x9f07aa(0x1af)][_0x9f07aa(0xa10)](),'nodeType':this[_0x9f07aa(0x1af)][_0x9f07aa(0x8fa)],'clusterId':this['clusterId'],'streamId':this[_0x9f07aa(0x9db)](),'trackKinds':this['mediaStream'][_0x9f07aa(0x9a3)]()[_0x9f07aa(0x945)](_0x219ca6=>_0x219ca6['kind'])});}[_0xdcbb79(0x4f6)](){const _0x158227=_0xdcbb79;this[_0x158227(0x733)][_0x158227(0x400)]>0x0&&(this[_0x158227(0x733)][_0x158227(0x5f6)](_0x33c324=>{const _0x3d8909=_0x158227;_0x33c324[_0x3d8909(0x1c8)](),_0x33c324[_0x3d8909(0x4f6)]();}),this[_0x158227(0x733)][_0x158227(0x6d0)]()),this[_0x158227(0x648)][_0x158227(0x5f6)](_0x26bf2c=>_0x26bf2c()),super[_0x158227(0x4f6)]();}['publish'](_0x568644){const _0x308a04=_0xdcbb79;this['systemTopic'][_0x308a04(0x884)]({'sourceId':this[_0x308a04(0x1af)][_0x308a04(0xa10)](),'destinationIds':_0x568644?[_0x568644]:void 0x0,'propagate':!0x0,'messageType':_0x447632[_0x308a04(0x6cf)],'content':{'type':_0x31d4ec['PublishMediaStream'],'ownerId':this[_0x308a04(0x1af)][_0x308a04(0xa10)](),'label':this[_0x308a04(0x726)],'stream':{'streamId':this[_0x308a04(0x9db)](),'availableTrackKinds':this[_0x308a04(0x4fc)][_0x308a04(0x9a3)]()['map'](_0x289aa=>_0x289aa[_0x308a04(0x952)])}}});}[_0xdcbb79(0x615)](){const _0x33e745=_0xdcbb79;this[_0x33e745(0x5df)][_0x33e745(0x884)]({'sourceId':this['owner'][_0x33e745(0xa10)](),'propagate':!0x0,'messageType':_0x447632[_0x33e745(0x6cf)],'content':{'type':_0x31d4ec[_0x33e745(0x29b)],'ownerId':this[_0x33e745(0x1af)]['getId'](),'label':this[_0x33e745(0x726)]}}),this[_0x33e745(0x5df)][_0x33e745(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632['Content'],'content':{'type':_0x31d4ec['CloseMediaStream'],'label':this['label']}}),_0xbff73d['logServiceEvent'](_0x3a8602[_0x33e745(0xa43)],{'type':_0x33e745(0x615),'label':this[_0x33e745(0x726)],'nodeId':this[_0x33e745(0x1af)][_0x33e745(0xa10)](),'nodeType':this[_0x33e745(0x1af)][_0x33e745(0x8fa)],'clusterId':this[_0x33e745(0x31a)],'streamId':this[_0x33e745(0x9db)]()});}[_0xdcbb79(0x235)](){const _0x52d089=_0xdcbb79;return this[_0x52d089(0x7d8)];}[_0xdcbb79(0x71a)](_0x497aae){const _0x28dc5d=_0xdcbb79;this['priority']=_0x497aae,this['outgoingStreams'][_0x28dc5d(0x5f6)](_0x3c981e=>_0x3c981e['setPriority'](_0x497aae));}[_0xdcbb79(0x918)](_0x576867,_0x20f4a6){const _0x117271=_0xdcbb79;if(!this[_0x117271(0x733)][_0x117271(0x504)](_0x576867)){const _0x4a7a3e=new _0x37cc07(this['owner'],this[_0x117271(0x726)],this['mediaStream'],_0x576867,_0x20f4a6),_0x5a599d=_0x4a7a3e['onUnregisterPublisher'](()=>{const _0x5b5af2=_0x117271;_0x5a599d(),this['outgoingStreams'][_0x5b5af2(0x3ee)](_0x576867)?.['destroy'](),this[_0x5b5af2(0x733)][_0x5b5af2(0x652)](_0x576867);});this[_0x117271(0x733)][_0x117271(0x80a)](_0x576867,_0x4a7a3e),_0x4a7a3e[_0x117271(0x724)](this[_0x117271(0x5df)]);}return this[_0x117271(0x733)][_0x117271(0x3ee)](_0x576867);}[_0xdcbb79(0x8c6)](){const _0x48f763=_0xdcbb79;return this[_0x48f763(0x4fc)]['id'];}[_0xdcbb79(0x40c)](_0x32f7c2){const _0x1fba83=_0xdcbb79;this['systemTopic'][_0x1fba83(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x1fba83(0x6cf)],'content':{'type':_0x31d4ec[_0x1fba83(0x9d1)],'label':this[_0x1fba83(0x726)],'trackKinds':[_0x32f7c2[_0x1fba83(0x952)]]}});}[_0xdcbb79(0x81b)](_0x6d977){const _0x1c77e4=_0xdcbb79,_0x385749=()=>this['handleLocalTrackFailure'](_0x6d977);_0x6d977[_0x1c77e4(0x409)]('ended',_0x385749),_0x6d977['addEventListener'](_0x1c77e4(0x8ea),_0x385749),this[_0x1c77e4(0x648)][_0x1c77e4(0x80a)](_0x6d977[_0x1c77e4(0x952)],()=>{const _0x29655c=_0x1c77e4;_0x6d977[_0x29655c(0x9f7)](_0x29655c(0xa75),_0x385749),_0x6d977['removeEventListener'](_0x29655c(0x8ea),_0x385749),this['trackEndedListeners'][_0x29655c(0x652)](_0x6d977[_0x29655c(0x952)]);});}}class _0x106fa1 extends _0x33d840{[_0xdcbb79(0x84f)];[_0xdcbb79(0x753)]=[];[_0xdcbb79(0x8e8)];['audioSource'];[_0xdcbb79(0xa40)];[_0xdcbb79(0x883)];[_0xdcbb79(0x3d6)];[_0xdcbb79(0x5bb)];['interval'];constructor(_0x300ca5,_0x294f5a,_0x369b02,_0x3fc143,_0x5c46ce,_0x1da564){const _0x4481d4=_0xdcbb79;if(super(_0x300ca5,_0x294f5a,_0x369b02,_0x1da564),this[_0x4481d4(0x84f)]=_0x5c46ce,this[_0x4481d4(0x8e8)]=this[_0x4481d4(0x4fc)],this[_0x4481d4(0x883)]=document[_0x4481d4(0x9dc)](_0x4481d4(0x72f)),this[_0x4481d4(0x883)][_0x4481d4(0x953)]=!0x0,this[_0x4481d4(0x883)]['muted']=!0x0,this[_0x4481d4(0x883)][_0x4481d4(0x525)]=this[_0x4481d4(0x8e8)],this[_0x4481d4(0x883)]['load'](),this[_0x4481d4(0x883)][_0x4481d4(0xa7c)]=()=>{this['sourceVideo']['play']();},this[_0x4481d4(0x3d6)]=document['createElement']('canvas'),this['context']=this[_0x4481d4(0x3d6)][_0x4481d4(0x4a5)]('2d'),this[_0x4481d4(0x4fc)]=this['canvas']['captureStream'](_0x3fc143),this[_0x4481d4(0xa40)]=this[_0x4481d4(0x84f)][_0x4481d4(0x6c4)](),this[_0x4481d4(0x8e8)]['getAudioTracks']()[_0x4481d4(0x454)]>0x0){const _0x380218=this['clientStream'][_0x4481d4(0xa61)]()[0x0];this[_0x4481d4(0x414)]=this['audioContext'][_0x4481d4(0x217)](new MediaStream([_0x380218])),this[_0x4481d4(0x414)][_0x4481d4(0x3fc)](this[_0x4481d4(0xa40)]);}const _0x47bcf9=this[_0x4481d4(0xa40)]['stream'][_0x4481d4(0x9a3)]()[0x0];this['mediaStream'][_0x4481d4(0x9b9)](_0x47bcf9),this['interval']=setInterval(()=>{const _0x208b4b=_0x4481d4;this['canvas'][_0x208b4b(0x4b2)]=this[_0x208b4b(0x883)][_0x208b4b(0x820)],this[_0x208b4b(0x3d6)]['height']=this[_0x208b4b(0x883)][_0x208b4b(0x518)],this['sourceVideo'][_0x208b4b(0x820)]?(0x0!==this['clientStream']['getVideoTracks']()[_0x208b4b(0x454)]&&this[_0x208b4b(0x8e8)][_0x208b4b(0x3ad)]()[0x0][_0x208b4b(0x936)]?this[_0x208b4b(0x4fc)][_0x208b4b(0x3ad)]()[0x0]['enabled']=!0x0:this['mediaStream'][_0x208b4b(0x3ad)]()[0x0][_0x208b4b(0x936)]=!0x1,0x0!==this[_0x208b4b(0x8e8)][_0x208b4b(0xa61)]()[_0x208b4b(0x454)]&&this[_0x208b4b(0x8e8)][_0x208b4b(0xa61)]()[0x0]['enabled']?this[_0x208b4b(0x4fc)][_0x208b4b(0xa61)]()[0x0][_0x208b4b(0x936)]=!0x0:this[_0x208b4b(0x4fc)]['getAudioTracks']()[0x0][_0x208b4b(0x936)]=!0x1,this[_0x208b4b(0x5bb)][_0x208b4b(0x50b)](this[_0x208b4b(0x883)],0x0,0x0)):this[_0x208b4b(0x5bb)]['clearRect'](0x0,0x0,this[_0x208b4b(0x3d6)][_0x208b4b(0x4b2)],this[_0x208b4b(0x3d6)]['height']);},0x3e8/_0x3fc143);}[_0xdcbb79(0x4f6)](){const _0x603c16=_0xdcbb79;clearInterval(this[_0x603c16(0x391)]),this[_0x603c16(0x883)]['remove'](),this[_0x603c16(0x3d6)][_0x603c16(0x852)](),this[_0x603c16(0x414)]?.['disconnect'](),this[_0x603c16(0xa40)][_0x603c16(0x67a)](),this[_0x603c16(0x4fc)]['getTracks']()[_0x603c16(0x5f6)](_0x29aadd=>{const _0x4adbd4=_0x603c16;_0x29aadd[_0x4adbd4(0x584)](),this['mediaStream']['removeTrack'](_0x29aadd);}),super[_0x603c16(0x4f6)]();}[_0xdcbb79(0x9b9)](_0x32cdb2){const _0x4721dd=_0xdcbb79,_0xe43ffa=this['getTrack'](_0x32cdb2['kind']);_0xe43ffa&&this['removeTrack'](_0xe43ffa),'audio'!==_0x32cdb2[_0x4721dd(0x952)]?(_0x4721dd(0x72f)===_0x32cdb2[_0x4721dd(0x952)]&&this[_0x4721dd(0x6ae)](_0x32cdb2),this[_0x4721dd(0x81b)](_0x32cdb2)):this['addAudioTrack'](_0x32cdb2);}[_0xdcbb79(0x5f3)](_0x1dd7b7){const _0x1d601f=_0xdcbb79,_0x24509c=this[_0x1d601f(0x43e)](_0x1dd7b7);return _0x24509c&&('audio'===_0x24509c[_0x1d601f(0x952)]&&(this[_0x1d601f(0x414)]?.[_0x1d601f(0x67a)](),this[_0x1d601f(0x414)]=void 0x0),this[_0x1d601f(0x648)][_0x1d601f(0x3ee)](_0x24509c[_0x1d601f(0x952)])?.(),this[_0x1d601f(0x8e8)]['removeTrack'](_0x24509c)),_0x24509c;}[_0xdcbb79(0x2e4)](_0x1dccab){const _0x5e18d9=_0xdcbb79;this[_0x5e18d9(0x5f3)](_0x1dccab[_0x5e18d9(0x952)]),this['addTrack'](_0x1dccab);}[_0xdcbb79(0x993)](_0x177f56){const _0x2ac01b=_0xdcbb79;this[_0x2ac01b(0x753)]=_0x177f56;}[_0xdcbb79(0x900)](_0x1df64d){const _0x454553=_0xdcbb79;return this[_0x454553(0x8e8)][_0x454553(0x9a3)]()[_0x454553(0x39d)](_0x10fc90=>_0x10fc90[_0x454553(0x952)]===_0x1df64d)||null;}[_0xdcbb79(0x43e)](_0x96667f){const _0x5c780d=_0xdcbb79;return _0x5c780d(0x610)==typeof _0x96667f?this[_0x5c780d(0x900)](_0x96667f):_0x96667f;}[_0xdcbb79(0x7d6)](_0x779d3d){const _0x21fd27=_0xdcbb79;_0x21fd27(0x566)===this[_0x21fd27(0x84f)][_0x21fd27(0x7b6)]&&this['audioContext'][_0x21fd27(0xa3b)](),this[_0x21fd27(0x8e8)]['addTrack'](_0x779d3d),this[_0x21fd27(0x414)]=this[_0x21fd27(0x84f)][_0x21fd27(0x217)](this[_0x21fd27(0x8e8)]),this[_0x21fd27(0x414)][_0x21fd27(0x3fc)](this[_0x21fd27(0xa40)]);}[_0xdcbb79(0x6ae)](_0x5209ea){const _0x44f132=_0xdcbb79;this[_0x44f132(0x8e8)][_0x44f132(0x9b9)](_0x5209ea),this['sourceVideo']['load']();}}class _0x17b80f extends _0x33d840{}class _0x4808f0 extends _0x2be12e{[_0xdcbb79(0x99b)];[_0xdcbb79(0x31a)];[_0xdcbb79(0x8de)];[_0xdcbb79(0xa47)];[_0xdcbb79(0x17c)];[_0xdcbb79(0x9e3)];['lastTransactionId'];[_0xdcbb79(0x5a4)]=new Map();['objectRequests']=new Map();[_0xdcbb79(0x38e)]=new Map();['pendingFilesTransactions']=new Map();[_0xdcbb79(0x532)]=new Map();[_0xdcbb79(0x3f2)]=new Map();[_0xdcbb79(0x257)];[_0xdcbb79(0x9ef)]=_0x5de5e8();['listenerUnsubscribers']=new Map();[_0xdcbb79(0x1b9)];[_0xdcbb79(0x7f3)]=0x0;[_0xdcbb79(0x79c)]=0x0;[_0xdcbb79(0x76b)]=!0x0;[_0xdcbb79(0x212)]=!0x0;[_0xdcbb79(0x956)]=0x0;[_0xdcbb79(0x427)]=0x0;constructor(_0x5368d5,_0x2ea51c,_0x21020d,_0x431839,_0x3e0538,_0x5a9816,_0x3f6088){const _0x1545c0=_0xdcbb79;if(_0x1545c0(0x610)!=typeof _0x2ea51c)throw new _0x5df866(_0x29ef36['ObjectStoreNameNotString'],_0x1545c0(0x797));super(_0x5368d5,_0x2ea51c),this[_0x1545c0(0x99b)]=_0x5368d5,this[_0x1545c0(0x31a)]=_0x21020d,this['vendorId']=_0x431839,this['transactionService']=_0x3e0538,this[_0x1545c0(0x17c)]=_0x3f6088;const _0x4a17cb=_0x1545c0(0x1ea)+this['vendorId']+'ccc'+this[_0x1545c0(0x31a)]+'ccc'+_0x2ea51c;this[_0x1545c0(0x257)]=new _0x5a9816(_0x4a17cb),this[_0x1545c0(0x393)]();}[_0xdcbb79(0x337)](){const _0xb2b4a1=_0xdcbb79;this[_0xb2b4a1(0x393)]();}[_0xdcbb79(0x3aa)](){const _0x303ef0=_0xdcbb79;return _0x410512[_0x303ef0(0xa30)][_0x303ef0(0x962)];}async[_0xdcbb79(0x9ae)](_0x2179c9){const _0x2c741c=_0xdcbb79;void 0x0!==_0x2179c9&&(this['syncContent']=_0x2179c9),this['isSyncing']=!0x0;try{const _0x56816a=await this['objectStoreConnector'][_0x2c741c(0x3ee)](_0x202fa1),_0x491a74=await _0x56816a[_0x2c741c(0x5b1)]();this[_0x2c741c(0x673)]=_0x491a74;}catch(_0x241176){}this[_0x2c741c(0x9e3)]=this[_0x2c741c(0x312)](async(_0x17bb5d,_0x5be243)=>{const _0x33f357=_0x2c741c;if(!(_0x5be243 instanceof File))try{if(_0x5be243[_0x33f357(0x5d8)]===_0x54a3f8[_0x33f357(0x8c1)])return void this['handleRequestPayload'](_0x5be243);this[_0x33f357(0x3d1)](_0x5be243);}catch(_0x3e3a14){if(_0x3e3a14 instanceof _0x3c9628)throw _0x3e3a14;throw new _0x3c9628(_0x3c9628[_0x33f357(0x994)][_0x33f357(0x9b1)],{'payload':_0x5be243});}}),await this[_0x2c741c(0xa63)](),this[_0x2c741c(0x76b)]?await this[_0x2c741c(0x565)]():this[_0x2c741c(0x44a)](),this[_0x2c741c(0x393)]();}[_0xdcbb79(0x4f6)](){const _0x194dff=_0xdcbb79;this[_0x194dff(0x9e3)]?.(),this[_0x194dff(0x806)][_0x194dff(0x5f6)](_0x468a8b=>_0x468a8b()),this[_0x194dff(0x806)][_0x194dff(0x6d0)](),clearTimeout(this[_0x194dff(0x1b9)]),delete this[_0x194dff(0x1b9)],super[_0x194dff(0x4f6)]();}[_0xdcbb79(0x3d8)](){const _0x27eab1=_0xdcbb79;this[_0x27eab1(0x5df)]?.[_0x27eab1(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x27eab1(0x6cf)],'content':{'type':_0x31d4ec['CloseObjectStoreBucket'],'label':this['label']}});}['subscribe'](_0x48e4c0,_0x4329c5){const _0x37ca1d=_0xdcbb79;if(this[_0x37ca1d(0x806)][_0x37ca1d(0x504)](_0x48e4c0))throw new _0x5df866(_0x29ef36[_0x37ca1d(0x614)],_0x37ca1d(0x544));this['listenerUnsubscribers'][_0x37ca1d(0x80a)](_0x48e4c0,this[_0x37ca1d(0x9ef)][_0x37ca1d(0x917)](_0x4329c5)),this[_0x37ca1d(0x212)]||this[_0x37ca1d(0x9ef)][_0x37ca1d(0x884)]({'event':_0x410512['StorageEventType'][_0x37ca1d(0x2af)],'payload':{'filesSynced':this[_0x37ca1d(0x956)]}});}[_0xdcbb79(0x1aa)](_0x5aeae1){const _0x908031=_0xdcbb79;this['listenerUnsubscribers'][_0x908031(0x3ee)](_0x5aeae1)?.(),this[_0x908031(0x806)]['delete'](_0x5aeae1);}[_0xdcbb79(0x884)](_0x196dcf){const _0x171482=_0xdcbb79;switch(_0x196dcf[_0x171482(0x43d)]){case _0x410512[_0x171482(0x8ba)]['File']:return this[_0x171482(0x9b4)](_0x196dcf['file'],_0x196dcf[_0x171482(0x9e2)],_0x196dcf[_0x171482(0x581)]);case _0x410512[_0x171482(0x8ba)][_0x171482(0x6e4)]:return this[_0x171482(0x87f)](_0x196dcf['path']);case _0x410512['PayloadAction'][_0x171482(0x5b3)]:return this['publishMove'](_0x196dcf[_0x171482(0x9e2)],_0x196dcf[_0x171482(0x633)]);default:throw new _0x5df866(_0x29ef36['ObjectStoreInvalidPayload'],'Cannot\x20publish\x20payload:\x20'+_0x196dcf);}}async[_0xdcbb79(0x615)](_0x8d7fdb){const _0xe145a0=_0xdcbb79;try{const _0x57a214=(0x0,_0x539333['v4'])(),_0x3872ab=this[_0xe145a0(0x673)],_0x323841={'payloadType':_0x54a3f8['Transaction'],'action':_0x492123['Delete'],'id':_0x57a214,'parentId':_0x3872ab,'path':_0x8d7fdb};await this['publishTransaction'](_0x323841);const _0x124979=await this[_0xe145a0(0x305)](_0x8d7fdb);await this[_0xe145a0(0x3da)](_0x323841),_0xbff73d[_0xe145a0(0x6bf)](_0x3a8602[_0xe145a0(0x365)],{'type':_0xe145a0(0x615),'label':this[_0xe145a0(0x726)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0xe145a0(0x8fa)],'clusterId':this[_0xe145a0(0x31a)],'kind':_0x124979,'path':_0x8d7fdb}),this[_0xe145a0(0x7f3)]+=0x1,this['sendStats']();}catch(_0x22b4aa){if(_0x22b4aa instanceof _0x3c9628)throw new _0x5df866(_0x29ef36[_0xe145a0(0x47f)],_0xe145a0(0x1a0)+_0x8d7fdb+_0xe145a0(0x404));throw new _0x5df866(_0x29ef36['ObjectStoreInvalidPath'],_0xe145a0(0x161)+_0x8d7fdb);}}async['get'](_0x15d542,_0xb35d20){const _0x258f51=_0xdcbb79;_0xbff73d[_0x258f51(0x6bf)](_0x3a8602[_0x258f51(0x365)],{'type':_0x258f51(0x3ee),'label':this[_0x258f51(0x726)],'nodeId':this['localNode'][_0x258f51(0xa10)](),'nodeType':this[_0x258f51(0x99b)][_0x258f51(0x8fa)],'clusterId':this[_0x258f51(0x31a)],'path':_0x15d542}),this['reads']+=0x1,this[_0x258f51(0x393)]();try{return await this[_0x258f51(0x257)]['get'](_0x15d542,_0xb35d20);}catch(_0x4d2158){try{await this[_0x258f51(0x257)][_0x258f51(0x3ee)](_0x15d542+_0x2d31a8);}catch(_0x28a648){throw new _0x5df866(_0x29ef36[_0x258f51(0x191)],_0x258f51(0x6ea)+_0x15d542);}throw new _0x5df866(_0x29ef36[_0x258f51(0x47f)],_0x258f51(0x29c));}}async[_0xdcbb79(0x232)](_0x35a161,_0xca60f0){const _0x428a2d=_0xdcbb79,{recursive:_0x197fd9=!0x1,includeSyncingFiles:_0x1abb46=!0x1}=_0xca60f0??{};_0xbff73d[_0x428a2d(0x6bf)](_0x3a8602[_0x428a2d(0x365)],{'type':_0x428a2d(0x232),'label':this[_0x428a2d(0x726)],'nodeId':this[_0x428a2d(0x99b)][_0x428a2d(0xa10)](),'nodeType':this[_0x428a2d(0x99b)][_0x428a2d(0x8fa)],'clusterId':this[_0x428a2d(0x31a)],'path':_0x35a161}),this[_0x428a2d(0x79c)]+=0x1,this[_0x428a2d(0x393)]();try{const _0x47bffe=await this[_0x428a2d(0x257)][_0x428a2d(0x232)](_0x35a161,_0x197fd9);return this[_0x428a2d(0xa62)](_0x47bffe,{'recursive':_0x197fd9,'includeSyncingFiles':_0x1abb46});}catch(_0x443fbd){throw new _0x5df866(_0x29ef36['ObjectStoreInvalidPath'],_0x428a2d(0x27a)+_0x35a161);}}[_0xdcbb79(0x491)](_0x44c02){const _0x1037d4=_0xdcbb79;this[_0x1037d4(0x427)]+=0x1;for(const _0x4b7aa4 of this[_0x1037d4(0x45f)][_0x1037d4(0x6c2)]())this[_0x1037d4(0x3da)](_0x4b7aa4,[_0x44c02]);}[_0xdcbb79(0x991)](_0x3bd9d6){const _0x1ca85e=_0xdcbb79;this[_0x1ca85e(0x427)]-=0x1;const _0x258647=this[_0x1ca85e(0x38e)][_0x1ca85e(0x3ee)](_0x3bd9d6);if(_0x258647){for(const [_0x271e7f,_0x1f3bd1]of _0x258647['values']())this[_0x1ca85e(0x50a)](_0x271e7f,_0x1f3bd1);this[_0x1ca85e(0x38e)][_0x1ca85e(0x652)](_0x3bd9d6);}}async[_0xdcbb79(0x65f)](_0x566d89='/'){const _0x518174=_0xdcbb79;try{return await this[_0x518174(0x257)][_0x518174(0x6f6)](_0x566d89);}catch(_0xd112f){if(_0xd112f instanceof Error&&_0xd112f[_0x518174(0x41d)][_0x518174(0x949)](_0x518174(0x5f5)))return 0x0;throw new _0x5df866(_0x29ef36[_0x518174(0x191)],_0x518174(0x59e)+_0x566d89);}}[_0xdcbb79(0x44a)](){const _0x1c915c=_0xdcbb79;this['isSyncing']&&(this[_0x1c915c(0x212)]=!0x1,this['eventListener']['publish']({'event':_0x410512[_0x1c915c(0x199)][_0x1c915c(0x2af)],'payload':{'filesSynced':this[_0x1c915c(0x956)]}}));}async[_0xdcbb79(0xa62)](_0x2d55b2,{includeSyncingFiles:_0x469978=!0x1}){const _0x109f4a=_0xdcbb79,_0x410a80=[];for(const _0x162b34 of _0x2d55b2)if(_0x162b34[_0x109f4a(0x952)]!==_0x410512[_0x109f4a(0x4af)]['Folder']){if(_0x162b34['name']!==_0x202fa1){if(_0x162b34['name'][_0x109f4a(0x987)](_0x2d31a8)){if(!_0x469978)continue;const _0x4eb2ac=_0x162b34;if(_0x4eb2ac[_0x109f4a(0x181)]=_0x4eb2ac[_0x109f4a(0x181)]['replace'](_0x2d31a8,''),_0x4eb2ac['pathName']=_0x4eb2ac[_0x109f4a(0x2c3)][_0x109f4a(0x7cf)](_0x2d31a8,''),await this[_0x109f4a(0x488)](_0x4eb2ac[_0x109f4a(0x2c3)])){_0x2d55b2[_0x109f4a(0x39d)](_0x65a664=>_0x65a664[_0x109f4a(0x2c3)]===_0x4eb2ac[_0x109f4a(0x2c3)])[_0x109f4a(0x6e0)]=_0x410512['FileStatus'][_0x109f4a(0x8e6)];continue;}_0x4eb2ac[_0x109f4a(0x6e0)]=_0x410512[_0x109f4a(0x40e)]['Pending'];}_0x410a80['push'](_0x162b34);}}else _0x162b34[_0x109f4a(0x88f)]=await this[_0x109f4a(0xa62)](_0x162b34[_0x109f4a(0x88f)]??[],{'includeSyncingFiles':_0x469978}),_0x410a80['push'](_0x162b34);return _0x410a80;}async[_0xdcbb79(0x9b4)](_0xa68f21,_0x3631f0,_0x461ba0){const _0x354909=_0xdcbb79;try{const _0x29bd4e=(0x0,_0x539333['v4'])(),_0x2c26f3=await _0x3e61f5(_0xa68f21),_0x24bbaa=_0x151b83(_0x3631f0??'/',_0xa68f21['name']);let _0xfe2030=!0x0;const _0x380644={'payloadType':_0x54a3f8[_0x354909(0x46e)],'action':_0x492123['FileWrite'],'id':_0x29bd4e,'parentId':this[_0x354909(0x673)],'answererId':this[_0x354909(0x99b)][_0x354909(0xa10)](),'name':_0xa68f21[_0x354909(0x181)],'type':_0xa68f21[_0x354909(0x8fa)],'path':_0x3631f0??'/','skipEncryption':_0x461ba0?.[_0x354909(0x6f2)]??!0x1,'checksum':_0x2c26f3};try{if(!_0x461ba0?.[_0x354909(0x350)])throw new Error('Publish\x20the\x20transaction');const _0x4bea08=_0x24bbaa+_0x2d31a8;await this[_0x354909(0x257)][_0x354909(0x3ee)](_0x4bea08),_0xfe2030=!0x1,await this[_0x354909(0x257)]['deleteObject'](_0x4bea08),this[_0x354909(0x45f)][_0x354909(0x652)](_0x24bbaa);}catch(_0x5d7fa2){await this[_0x354909(0x227)](_0x380644);}if(this[_0x354909(0x76b)]?await this['writeFile'](_0xa68f21,_0x3631f0,_0x461ba0):await this[_0x354909(0x715)](_0xa68f21[_0x354909(0x181)],_0x3631f0??'/',{'checksum':_0x2c26f3,'skipEncryption':_0x461ba0?.['skipEncryption']??!0x1}),this[_0x354909(0x3f2)][_0x354909(0x504)](_0x24bbaa)){const [_0x51f547,_0xeaa832]=this[_0x354909(0x3f2)][_0x354909(0x3ee)](_0x24bbaa);this['fileSendingMap']['set'](_0x24bbaa,[!0x0,_0xeaa832]);try{await _0xeaa832;}catch(_0x5d56a8){}this[_0x354909(0x3f2)][_0x354909(0x652)](_0x24bbaa);}_0xfe2030&&this['nodesConnected']>0x0&&await this['sendFile'](_0xa68f21,_0x380644),_0xbff73d[_0x354909(0x6bf)](_0x3a8602[_0x354909(0x365)],{'type':'publish','label':this[_0x354909(0x726)],'nodeId':this[_0x354909(0x99b)][_0x354909(0xa10)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'kind':_0x410512['ObjectKind'][_0x354909(0x4a9)],'path':_0x3631f0,'fileName':_0xa68f21[_0x354909(0x181)],'fileType':_0xa68f21['type'],'size':_0xa68f21[_0x354909(0x400)]}),this[_0x354909(0x7f3)]+=0x1,this[_0x354909(0x393)]();}catch(_0x573920){if(_0x573920 instanceof _0x3c9628)throw new _0x5df866(_0x29ef36['ObjectStoreNotInSync'],_0x354909(0x29c));throw new _0x5df866(_0x29ef36[_0x354909(0x191)],'Cannot\x20publish\x20file:\x20'+_0x3631f0+(_0x3631f0?.['endsWith']('/')?'':'/')+_0xa68f21[_0x354909(0x181)]);}}async['publishFolder'](_0x1f9217){const _0x4318d2=_0xdcbb79;try{const _0xd134fe=(0x0,_0x539333['v4'])(),_0x48d8d7=this[_0x4318d2(0x673)],_0x4df185={'payloadType':_0x54a3f8[_0x4318d2(0x46e)],'action':_0x492123['FolderCreate'],'id':_0xd134fe,'parentId':_0x48d8d7,'path':_0x1f9217};await this[_0x4318d2(0x227)](_0x4df185),await this[_0x4318d2(0x257)]['createFolder'](_0x1f9217),await this[_0x4318d2(0x3da)](_0x4df185),_0xbff73d[_0x4318d2(0x6bf)](_0x3a8602[_0x4318d2(0x365)],{'type':_0x4318d2(0x884),'label':this[_0x4318d2(0x726)],'nodeId':this[_0x4318d2(0x99b)]['getId'](),'nodeType':this[_0x4318d2(0x99b)][_0x4318d2(0x8fa)],'clusterId':this[_0x4318d2(0x31a)],'kind':_0x410512[_0x4318d2(0x4af)][_0x4318d2(0x6e4)],'path':_0x1f9217}),this[_0x4318d2(0x7f3)]+=0x1,this['sendStats']();}catch(_0x2a5bd1){if(_0x2a5bd1 instanceof _0x3c9628)throw new _0x5df866(_0x29ef36['ObjectStoreNotInSync'],_0x4318d2(0x29c));throw new _0x5df866(_0x29ef36[_0x4318d2(0x191)],'Cannot\x20publish\x20folder:\x20'+_0x1f9217);}}async[_0xdcbb79(0x8b2)](_0x5ea552,_0x2138d5){const _0x5bba81=_0xdcbb79;try{const _0x45597f=(0x0,_0x539333['v4'])(),_0x3c9886=this[_0x5bba81(0x673)],_0xaec95c={'payloadType':_0x54a3f8[_0x5bba81(0x46e)],'action':_0x492123[_0x5bba81(0x5b3)],'id':_0x45597f,'parentId':_0x3c9886,'path':_0x5ea552,'newPath':_0x2138d5};await this[_0x5bba81(0x227)](_0xaec95c);const _0x2c00cd=await this[_0x5bba81(0x895)](_0x5ea552,_0x2138d5);await this['send'](_0xaec95c),_0xbff73d[_0x5bba81(0x6bf)](_0x3a8602[_0x5bba81(0x365)],{'type':'move','label':this[_0x5bba81(0x726)],'nodeId':this['localNode'][_0x5bba81(0xa10)](),'nodeType':this[_0x5bba81(0x99b)][_0x5bba81(0x8fa)],'clusterId':this[_0x5bba81(0x31a)],'kind':_0x2c00cd,'path':_0x5ea552,'newPath':_0x2138d5}),this['writes']+=0x1,this[_0x5bba81(0x393)]();}catch(_0x34b49a){if(_0x34b49a instanceof _0x3c9628)throw new _0x5df866(_0x29ef36[_0x5bba81(0x47f)],_0x5bba81(0x29c));throw new _0x5df866(_0x29ef36['ObjectStoreInvalidPath'],_0x5bba81(0x9ab)+_0x5ea552);}}async['handleTransactionPayload'](_0x426ac3,_0x35ca80=!0x1){const _0x345039=_0xdcbb79;if(this['lastTransactionId']&&_0x426ac3[_0x345039(0xa74)]!==this[_0x345039(0x673)]&&_0x426ac3['id']!==this['lastTransactionId']){if(!_0x426ac3[_0x345039(0xa74)])throw new _0x3c9628(_0x3c9628[_0x345039(0x994)][_0x345039(0x9b1)]);this[_0x345039(0x5a4)][_0x345039(0x80a)](_0x426ac3['parentId'],_0x426ac3);}else{try{await this['processTransactionPayload'](_0x426ac3,_0x35ca80);}catch(_0x4325ac){}await this['updateLastTransactionId'](_0x426ac3['id']),await this['processPendingSyncTransactions'](_0x426ac3['id'],_0x35ca80);}}async[_0xdcbb79(0x4e2)](_0x6a99bb,_0x538297=!0x1){const _0x1bec1b=_0xdcbb79;switch(_0x6a99bb[_0x1bec1b(0x43d)]){case _0x492123[_0x1bec1b(0x26e)]:await this[_0x1bec1b(0x586)](_0x6a99bb);break;case _0x492123[_0x1bec1b(0x5e4)]:await this[_0x1bec1b(0x2b4)](_0x6a99bb);break;case _0x492123[_0x1bec1b(0x5b3)]:await this[_0x1bec1b(0xa79)](_0x6a99bb,_0x538297);break;case _0x492123[_0x1bec1b(0x65c)]:await this['handleObjectDelete'](_0x6a99bb,_0x538297);break;default:throw new _0x3c9628(_0x3c9628[_0x1bec1b(0x994)][_0x1bec1b(0x9b1)],{'payload':_0x6a99bb});}}async[_0xdcbb79(0x320)](_0x1871a0,_0x8f40f9=!0x1){const _0x5eaeb0=_0xdcbb79;if(this['pendingSyncTransactions'][_0x5eaeb0(0x504)](_0x1871a0)){const _0x86b89b=this[_0x5eaeb0(0x5a4)][_0x5eaeb0(0x3ee)](_0x1871a0);this['pendingSyncTransactions']['delete'](_0x1871a0),await this[_0x5eaeb0(0x3d1)](_0x86b89b,_0x8f40f9);}}async[_0xdcbb79(0x3e5)](_0x216027){const _0x11f041=_0xdcbb79;switch(_0x216027[_0x11f041(0x43d)]){case _0x492123['RequestFile']:return this['handleFileRequest'](_0x216027);case _0x492123['RequestAccepted']:return this['handleFileRequestAnswer'](_0x216027);case _0x492123['RequestFileSync']:return this[_0x11f041(0x344)](_0x216027);case _0x492123[_0x11f041(0x2fe)]:return this[_0x11f041(0x586)](_0x216027);default:throw new _0x3c9628(_0x3c9628[_0x11f041(0x994)][_0x11f041(0x9b1)],{'payload':_0x216027});}}async[_0xdcbb79(0x586)](_0x2a9bcf,_0x2a3461=0x0){const _0xb9009d=_0xdcbb79,_0x1c55c1=_0x151b83(_0x2a9bcf[_0xb9009d(0x9e2)],_0x2a9bcf[_0xb9009d(0x181)]);if(!_0x2a9bcf[_0xb9009d(0x78e)]||void 0x0===_0x2a9bcf[_0xb9009d(0x959)]||!_0x2a9bcf[_0xb9009d(0x7e9)])return this[_0xb9009d(0xa08)][_0xb9009d(0x652)](_0x1c55c1),void await this[_0xb9009d(0x715)](_0x2a9bcf['name'],_0x2a9bcf['path'],{'checksum':_0x2a9bcf[_0xb9009d(0x813)],'skipEncryption':_0x2a9bcf[_0xb9009d(0x6f2)]});if(this[_0xb9009d(0xa08)][_0xb9009d(0x504)](_0x1c55c1)){const _0x4c4da8=this['fileChunks'][_0xb9009d(0x3ee)](_0x1c55c1);_0x4c4da8[_0xb9009d(0x813)]!==_0x2a9bcf[_0xb9009d(0x813)]&&(_0x4c4da8[_0xb9009d(0x52f)]?.[_0xb9009d(0x3d8)](),this[_0xb9009d(0xa08)]['delete'](_0x1c55c1));}if(!this[_0xb9009d(0xa08)]['has'](_0x1c55c1)){try{await this['objectStoreConnector'][_0xb9009d(0x305)](_0x1c55c1);}catch(_0x318fde){}try{const _0x6bf1b2=this[_0xb9009d(0x76b)]?await this['objectStoreConnector'][_0xb9009d(0xa2f)](_0x1c55c1,{'skipEncryption':_0x2a9bcf[_0xb9009d(0x6f2)]}):void 0x0,_0x23a857={'chunksReceived':_0x2a9bcf[_0xb9009d(0x922)]??0x0,'bytesReceived':0x0,'stream':_0x6bf1b2,'checksum':_0x2a9bcf[_0xb9009d(0x813)]};this[_0xb9009d(0xa08)][_0xb9009d(0x80a)](_0x1c55c1,_0x23a857),await this[_0xb9009d(0x715)](_0x2a9bcf[_0xb9009d(0x181)],_0x2a9bcf['path'],{'checksum':_0x2a9bcf[_0xb9009d(0x813)],'skipEncryption':_0x2a9bcf[_0xb9009d(0x6f2)]});}catch(_0x36bda7){}}const _0x11c620=this[_0xb9009d(0xa08)][_0xb9009d(0x3ee)](_0x1c55c1);if(_0x2a9bcf[_0xb9009d(0x813)]!==_0x11c620['checksum'])return;if(this[_0xb9009d(0x2ad)](_0x2a9bcf,_0x1c55c1),this[_0xb9009d(0x76b)]){if(!_0x11c620[_0xb9009d(0x52f)])throw new _0x3c9628(_0x3c9628['codes'][_0xb9009d(0x9b1)],{'message':_0xb9009d(0x3cf)});let _0x31535f=_0x11c620[_0xb9009d(0x5f1)];if(_0x2a9bcf[_0xb9009d(0x959)]!==_0x31535f){if(_0x31535f>_0x2a9bcf[_0xb9009d(0x959)])return;const _0x2cdffb=2064.1259842519685;if(_0x2a9bcf[_0xb9009d(0x959)]>_0x31535f+_0x2cdffb)return;if(_0x11c620[_0xb9009d(0x9c7)]||(_0x11c620[_0xb9009d(0x9c7)]=[]),_0x11c620[_0xb9009d(0x9c7)][_0xb9009d(0x454)]>8256.503937007874)throw this['fileChunks'][_0xb9009d(0x652)](_0x1c55c1),new _0x3c9628(_0x3c9628[_0xb9009d(0x994)][_0xb9009d(0x9b1)],{'message':_0xb9009d(0x44c)});return void _0x11c620[_0xb9009d(0x9c7)][_0xb9009d(0x90d)](_0x2a9bcf);}try{_0x11c620['chunksReceived']+=0x1,_0x11c620[_0xb9009d(0x6d1)]+=_0x2a9bcf[_0xb9009d(0x78e)][_0xb9009d(0x2f6)],await _0x11c620[_0xb9009d(0x52f)]['write'](_0x2a9bcf[_0xb9009d(0x78e)]);}catch(_0x118212){if(console[_0xb9009d(0x33f)](_0xb9009d(0x761),_0x118212),_0x2a3461>0x3)throw this[_0xb9009d(0xa08)]['delete'](_0x1c55c1),console['error'](_0xb9009d(0x796),_0x118212),new _0x3c9628(_0x3c9628['codes'][_0xb9009d(0x9b1)],{'message':_0xb9009d(0x796)});return this['handleFileWrite'](_0x2a9bcf,_0x2a3461+0x1);}}try{await this[_0xb9009d(0x4ab)](_0x11c620,_0x2a9bcf['index']+0x1);}catch(_0x186853){throw this['fileChunks']['delete'](_0x1c55c1),_0x186853;}if(this['fileChunks'][_0xb9009d(0x80a)](_0x1c55c1,_0x11c620),_0x11c620[_0xb9009d(0x5f1)]<_0x2a9bcf[_0xb9009d(0x7e9)])return;await this[_0xb9009d(0x176)](_0x1c55c1),this[_0xb9009d(0x76b)]&&(await this[_0xb9009d(0x2a5)](_0x2a9bcf),_0xbff73d['logServiceEvent'](_0x3a8602[_0xb9009d(0x365)],{'type':_0xb9009d(0x9ae),'label':this[_0xb9009d(0x726)],'nodeId':this[_0xb9009d(0x99b)][_0xb9009d(0xa10)](),'nodeType':this[_0xb9009d(0x99b)][_0xb9009d(0x8fa)],'clusterId':this[_0xb9009d(0x31a)],'kind':_0x410512[_0xb9009d(0x4af)][_0xb9009d(0x4a9)],'path':_0x2a9bcf[_0xb9009d(0x9e2)],'fileName':_0x2a9bcf['name'],'fileType':_0x2a9bcf['type'],'size':_0x11c620[_0xb9009d(0x6d1)]}));const _0x26c2ba=this['pendingFilesTransactions'][_0xb9009d(0x3ee)](_0x2a9bcf[_0xb9009d(0x9e2)])??[];for(const _0x524159 of _0x26c2ba)await this[_0xb9009d(0x4e2)](_0x524159);this[_0xb9009d(0x9f8)][_0xb9009d(0x652)](_0x2a9bcf[_0xb9009d(0x9e2)]),this['eventListener'][_0xb9009d(0x884)]({'event':_0x410512[_0xb9009d(0x199)]['FileWrite'],'payload':{'file':{'kind':_0x410512[_0xb9009d(0x4af)][_0xb9009d(0x4a9)],'path':_0x2a9bcf[_0xb9009d(0x9e2)],'type':_0x2a9bcf['type'],'size':_0x11c620[_0xb9009d(0x6d1)],'name':_0x2a9bcf[_0xb9009d(0x181)],'pathName':_0x1c55c1,'status':this[_0xb9009d(0x76b)]?_0x410512[_0xb9009d(0x40e)][_0xb9009d(0x30d)]:_0x410512[_0xb9009d(0x40e)][_0xb9009d(0x663)]}}}),this[_0xb9009d(0x393)]();}async[_0xdcbb79(0x4ab)](_0x5b81c4,_0x546fd1){const _0x2b9f4f=_0xdcbb79,_0x1173b7=_0x5b81c4[_0x2b9f4f(0x52f)];let _0x33ef15=0x0;for(;_0x5b81c4[_0x2b9f4f(0x9c7)]&&_0x5b81c4['bufferedChunks'][_0x2b9f4f(0x454)]>0x0;){const _0x1a1a40=_0x5b81c4['bufferedChunks'][_0x2b9f4f(0x39d)](_0x1de51d=>_0x1de51d[_0x2b9f4f(0x959)]===_0x546fd1+0x1);if(!_0x1a1a40)break;_0x5b81c4[_0x2b9f4f(0x9c7)]=_0x5b81c4[_0x2b9f4f(0x9c7)][_0x2b9f4f(0x4e9)](_0x2170af=>_0x2170af[_0x2b9f4f(0x959)]!==_0x546fd1+0x1);try{await _0x1173b7['write'](_0x1a1a40[_0x2b9f4f(0x78e)]),_0x546fd1++;}catch(_0x52a5c5){if(console[_0x2b9f4f(0x33f)](_0x2b9f4f(0x332),_0x52a5c5),_0x33ef15>0x3)throw console[_0x2b9f4f(0x33f)](_0x2b9f4f(0x894),_0x52a5c5),new _0x3c9628(_0x3c9628[_0x2b9f4f(0x994)]['ObjectStoreInvalidSyncMessage'],{'message':_0x2b9f4f(0x894)});_0x33ef15++;continue;}_0x5b81c4[_0x2b9f4f(0x5f1)]+=0x1,_0x5b81c4[_0x2b9f4f(0x6d1)]+=_0x1a1a40[_0x2b9f4f(0x78e)][_0x2b9f4f(0x2f6)];}}async['handleFolderCreate'](_0xec277f){const _0xd3a5e5=_0xdcbb79;await this['objectStoreConnector'][_0xd3a5e5(0x3ff)](_0xec277f[_0xd3a5e5(0x9e2)]);const [_0x4df3b6,_0x1baf73]=_0x99a207(_0xec277f[_0xd3a5e5(0x9e2)]);this['eventListener'][_0xd3a5e5(0x884)]({'event':_0x410512['StorageEventType']['FolderCreate'],'payload':{'folder':{'kind':_0x410512[_0xd3a5e5(0x4af)][_0xd3a5e5(0x6e4)],'name':_0x1baf73,'path':_0x4df3b6,'pathName':_0xec277f[_0xd3a5e5(0x9e2)]}}});}async['handleObjectDelete'](_0x2367f3,_0x31d2ba=!0x1){const _0x19fe96=_0xdcbb79;if(!_0x31d2ba&&!this[_0x19fe96(0x84e)](_0x2367f3))return;const _0x1103ae=await this['deleteObject'](_0x2367f3[_0x19fe96(0x9e2)]),[_0x2cd8f0,_0x57b0d6]=_0x99a207(_0x2367f3[_0x19fe96(0x9e2)]);this[_0x19fe96(0x9ef)][_0x19fe96(0x884)]({'event':_0x1103ae===_0x410512['ObjectKind'][_0x19fe96(0x6e4)]?_0x410512[_0x19fe96(0x199)]['FolderDelete']:_0x410512[_0x19fe96(0x199)][_0x19fe96(0x8d4)],'payload':{'name':_0x57b0d6,'path':_0x2cd8f0,'pathName':_0x2367f3['path']}}),this[_0x19fe96(0x393)]();}async['handleObjectMove'](_0x551602,_0x21ea84=!0x1){const _0x585381=_0xdcbb79;if(!_0x21ea84&&!this['shouldProcessTransaction'](_0x551602))return this[_0x585381(0x532)][_0x585381(0x80a)](_0x551602['newPath'],this['pendingFilesRename'][_0x585381(0x3ee)](_0x551602['path'])??_0x551602[_0x585381(0x9e2)]),void this['pendingFilesRename']['delete'](_0x551602[_0x585381(0x9e2)]);this[_0x585381(0x532)]['delete'](_0x551602['path']);const _0x2a205d=await this[_0x585381(0x257)][_0x585381(0x895)](_0x551602[_0x585381(0x9e2)],_0x551602[_0x585381(0x633)]),[_0x54aa90,_0x3b850c]=_0x99a207(_0x551602[_0x585381(0x9e2)]),[_0x5e8e01,_0x54ca3f]=_0x99a207(_0x551602['newPath']);this['eventListener'][_0x585381(0x884)]({'event':_0x2a205d===_0x410512[_0x585381(0x4af)][_0x585381(0x6e4)]?_0x410512[_0x585381(0x199)][_0x585381(0x77f)]:_0x410512['StorageEventType']['FileMove'],'payload':{'name':_0x54ca3f,'path':_0x5e8e01,'pathName':_0x551602[_0x585381(0x633)],'oldName':_0x3b850c,'oldPath':_0x54aa90,'oldPathName':_0x551602[_0x585381(0x9e2)]}}),this[_0x585381(0x393)]();}['shouldProcessTransaction'](_0x33abd3){const _0x5a70c3=_0xdcbb79,_0x5da9fd=this[_0x5a70c3(0x532)][_0x5a70c3(0x3ee)](_0x33abd3[_0x5a70c3(0x9e2)])??_0x33abd3[_0x5a70c3(0x9e2)];let _0x1806e4=!0x1;for(const _0x1b8189 of this[_0x5a70c3(0xa08)][_0x5a70c3(0x7b7)]())if(_0x1b8189['startsWith'](_0x5da9fd)){const _0x47a315=this['pendingFilesTransactions'][_0x5a70c3(0x3ee)](_0x1b8189)??[];_0x47a315[_0x5a70c3(0x90d)](_0x33abd3),this[_0x5a70c3(0x9f8)][_0x5a70c3(0x80a)](_0x1b8189,_0x47a315),_0x1806e4=!0x0;}return!_0x1806e4;}async[_0xdcbb79(0x227)](_0x5d9cfa){const _0x22b00f=_0xdcbb79;if(!_0x5d9cfa['id'])throw new _0x3c9628(_0x3c9628['codes'][_0x22b00f(0x9b1)],{'message':_0x22b00f(0x1df)});if(_0x5d9cfa['parentId']!==this['lastTransactionId'])throw new _0x3c9628(_0x3c9628[_0x22b00f(0x994)][_0x22b00f(0x4d3)]);await this['transactionService'][_0x22b00f(0x9c2)](_0x5d9cfa,this[_0x22b00f(0x726)]),await this['updateLastTransactionId'](_0x5d9cfa['id']);}async[_0xdcbb79(0x3ac)](_0x59f979){const _0x268b68=_0xdcbb79;this[_0x268b68(0x673)]=_0x59f979;const _0x24b4fa=new File([new Blob([this[_0x268b68(0x673)]])],_0x202fa1,{'type':_0x268b68(0x528)});await this[_0x268b68(0x4e5)](_0x24b4fa,'/');}async[_0xdcbb79(0x741)](_0xd35f3d){const _0x3abad5=_0xdcbb79;try{const _0x3a8c4a=await this[_0x3abad5(0x3ee)](_0xd35f3d[_0x3abad5(0x9e2)]+'/'+_0xd35f3d[_0x3abad5(0x181)],{'skipEncryption':_0xd35f3d['skipEncryption']}),_0x325320=await _0x3e61f5(_0x3a8c4a);if(''!==_0xd35f3d[_0x3abad5(0x813)]&&_0x325320!==_0xd35f3d[_0x3abad5(0x813)])return;_0xd35f3d[_0x3abad5(0x7fb)]=this[_0x3abad5(0x99b)][_0x3abad5(0xa10)](),_0xd35f3d[_0x3abad5(0x43d)]=_0x492123[_0x3abad5(0x5e3)],await this[_0x3abad5(0x3da)](_0xd35f3d,[_0xd35f3d[_0x3abad5(0x742)]]);}catch(_0x37e090){}}async[_0xdcbb79(0x5e0)](_0x485ef6){const _0x29fdb8=_0xdcbb79,_0x29aedb=_0x151b83(_0x485ef6[_0x29fdb8(0x9e2)],_0x485ef6[_0x29fdb8(0x181)]);if(!this[_0x29fdb8(0x45f)][_0x29fdb8(0x504)](_0x29aedb))return;const _0x1a0605=this['objectRequests']['get'](_0x29aedb);_0x1a0605[_0x29fdb8(0x43d)]=_0x492123[_0x29fdb8(0x437)];const _0x4331d4=_0x485ef6[_0x29fdb8(0x7fb)];if(!_0x4331d4)throw new _0x3c9628(_0x3c9628[_0x29fdb8(0x994)][_0x29fdb8(0x9b1)],{'message':_0x29fdb8(0x818)});if(this[_0x29fdb8(0x45f)][_0x29fdb8(0x652)](_0x29aedb),this[_0x29fdb8(0x38e)][_0x29fdb8(0x504)](_0x4331d4)||this[_0x29fdb8(0x38e)]['set'](_0x4331d4,new Map()),this[_0x29fdb8(0x38e)]['get'](_0x4331d4)[_0x29fdb8(0x80a)](_0x29aedb,[_0x1a0605,this['getOrResetPendingFileTimeout'](_0x4331d4,_0x29aedb)]),_0x1a0605[_0x29fdb8(0x7fb)]=_0x4331d4,_0x1a0605[_0x29fdb8(0x922)]=this[_0x29fdb8(0xa08)][_0x29fdb8(0x3ee)](_0x29aedb)?.[_0x29fdb8(0x5f1)]??0x0,0x0===_0x1a0605['startIndex'])try{const [_0x286efe,_0x2e05ef]=await this[_0x29fdb8(0x670)](_0x485ef6[_0x29fdb8(0x181)],_0x485ef6[_0x29fdb8(0x9e2)],_0x485ef6['checksum']);_0x286efe&&(_0x1a0605['startIndex']=_0x2e05ef);}catch(_0x396a9a){}this[_0x29fdb8(0x3da)](_0x1a0605,[_0x4331d4]);}async[_0xdcbb79(0x344)](_0x319d58){const _0x5bc318=_0xdcbb79,_0x554957=_0x151b83(_0x319d58['path'],_0x319d58[_0x5bc318(0x181)]),_0x23b9bc=await this[_0x5bc318(0x3ee)](_0x554957,{'skipEncryption':_0x319d58['skipEncryption']}),_0x3f5484={..._0x319d58,'answererId':this[_0x5bc318(0x99b)]['getId'](),'action':_0x492123[_0x5bc318(0x2fe)],'startIndex':_0x319d58[_0x5bc318(0x922)]??0x0};await this[_0x5bc318(0x15e)](_0x23b9bc,_0x3f5484,[_0x319d58['sourceId']]);}async[_0xdcbb79(0x15e)](_0x164cde,_0x6d1afc,_0xab1ae7){let _0x196bc0,_0x1f9462;const _0x1747ae=new Promise(async(_0x5b4219,_0x1e35f0)=>{_0x196bc0=_0x5b4219,_0x1f9462=_0x1e35f0;});return((async()=>{const _0x4b17a1=a0_0x27c7,_0xe9d730=Math[_0x4b17a1(0x3c5)](_0x164cde['size']/_0x3eb73a);let _0x251c93=_0x6d1afc[_0x4b17a1(0x922)]??0x0;const _0x504864=_0x151b83(_0x6d1afc[_0x4b17a1(0x9e2)],_0x6d1afc['name']);this[_0x4b17a1(0x3f2)][_0x4b17a1(0x80a)](_0x504864,[!0x1,_0x1747ae]);for await(const _0x296c2a of async function*(_0x52d985,_0xa6b134=0x0,_0x42e224){for await(const _0x15d1bf of _0x2cdf49(_0x52d985,_0xa6b134,_0x42e224))yield _0x15d1bf;}(_0x164cde,_0x251c93,this[_0x4b17a1(0x17c)])){const [_0x2177f9]=this[_0x4b17a1(0x3f2)]['get'](_0x504864)??[];if(_0x2177f9)return this['fileSendingMap'][_0x4b17a1(0x652)](_0x504864),void _0x1f9462(new Error('File\x20sending\x20interrupted'));if(this['pendingFilesTransactions'][_0x4b17a1(0x504)](_0x504864)){const _0x1389ac=this[_0x4b17a1(0x9f8)][_0x4b17a1(0x3ee)](_0x504864);for(const _0x361399 of _0x1389ac)if(_0x361399[_0x4b17a1(0x43d)]===_0x492123[_0x4b17a1(0x26e)]||_0x361399[_0x4b17a1(0x43d)]===_0x492123[_0x4b17a1(0x65c)])return;}const _0x1b22cc={..._0x6d1afc,'type':_0x164cde[_0x4b17a1(0x8fa)],'data':_0x296c2a,'index':_0x251c93,'total':_0xe9d730};this[_0x4b17a1(0x3da)](_0x1b22cc,_0xab1ae7),_0x251c93++;}const _0x1ebe15=setInterval(async()=>{const _0x33e098=_0x4b17a1;await this[_0x33e098(0x17c)]()>0x0||(clearInterval(_0x1ebe15),_0x196bc0());});this[_0x4b17a1(0x3f2)]['delete'](_0x504864);})()),_0x1747ae;}async[_0xdcbb79(0x2a5)](_0x7da770){const _0x588854=_0xdcbb79;try{const _0x50ad38=_0x151b83(_0x7da770['path'],_0x7da770[_0x588854(0x181)]),_0x52b563=_0x50ad38+_0x2d31a8;await this[_0x588854(0x305)](_0x52b563);const [,_0x3b9f53]=this[_0x588854(0x38e)][_0x588854(0x3ee)](_0x7da770['answererId'])?.[_0x588854(0x3ee)](_0x50ad38)??[];_0x3b9f53&&(clearTimeout(_0x3b9f53),this[_0x588854(0x38e)][_0x588854(0x3ee)](_0x7da770[_0x588854(0x7fb)])[_0x588854(0x652)](_0x50ad38));}catch(_0x3168c1){}0x0===this[_0x588854(0x38e)]['get'](_0x7da770[_0x588854(0x7fb)])?.[_0x588854(0x400)]&&this[_0x588854(0x38e)]['delete'](_0x7da770['answererId']),0x0===this[_0x588854(0x38e)][_0x588854(0x400)]&&0x0===this[_0x588854(0x45f)]['size']&&this[_0x588854(0x44a)]();}async[_0xdcbb79(0xa63)](){const _0x3f6302=_0xdcbb79;try{const _0xb7c6a1=await this[_0x3f6302(0xa47)][_0x3f6302(0x37c)](this[_0x3f6302(0x726)],this[_0x3f6302(0x673)]);for(const _0x45cb55 of _0xb7c6a1)await this['handleTransactionPayload'](_0x45cb55,!0x0);}catch(_0x591238){if(_0x591238 instanceof _0x3c9628&&_0x591238[_0x3f6302(0x348)]===_0x3c9628[_0x3f6302(0x994)][_0x3f6302(0x6ef)]){await this['objectStoreConnector'][_0x3f6302(0x305)](_0x202fa1),delete this[_0x3f6302(0x673)];try{const _0x3263d5=await this[_0x3f6302(0x257)][_0x3f6302(0x232)]('/',!0x1);for(const _0x2c1e7f of _0x3263d5)await this[_0x3f6302(0x257)][_0x3f6302(0x305)](_0x2c1e7f[_0x3f6302(0x2c3)]);}catch(_0x2ad967){}return await this['syncTransactions']();}throw _0x591238;}}async[_0xdcbb79(0x565)](){const _0x836e1=_0xdcbb79,_0x15aa0c=await this[_0x836e1(0x232)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x2ef353=async _0x5120c7=>{const _0x331561=_0x836e1;for(const _0x3be398 of _0x5120c7){if(_0x3be398[_0x331561(0x952)]===_0x410512['ObjectKind'][_0x331561(0x6e4)]){_0x3be398['entries']&&_0x3be398[_0x331561(0x88f)]['length']>0x0&&await _0x2ef353(_0x3be398[_0x331561(0x88f)]);continue;}if(_0x3be398['status']!==_0x410512[_0x331561(0x40e)][_0x331561(0x663)])continue;const _0x4252b1=await this[_0x331561(0x3ee)](_0x3be398['pathName']+_0x2d31a8),_0x282e54=JSON[_0x331561(0xa2e)](await _0x4252b1[_0x331561(0x5b1)]()),_0x2b6798=_0x3be398[_0x331561(0x181)][_0x331561(0x7cf)](_0x2d31a8,''),_0x49189a={'payloadType':_0x54a3f8[_0x331561(0x8c1)],'action':_0x492123[_0x331561(0x9b3)],'sourceId':this[_0x331561(0x99b)][_0x331561(0xa10)](),'type':'','path':_0x3be398['path'],'name':_0x2b6798,'checksum':_0x282e54['checksum'],'skipEncryption':_0x282e54[_0x331561(0x6f2)]},_0x11a562=_0x151b83(_0x3be398['path'],_0x2b6798);this[_0x331561(0x45f)]['set'](_0x11a562,_0x49189a);}};await _0x2ef353(_0x15aa0c),0x0===this['objectRequests'][_0x836e1(0x400)]&&0x0===this[_0x836e1(0x38e)][_0x836e1(0x400)]&&this[_0x836e1(0x44a)]();}async[_0xdcbb79(0x715)](_0x563e19,_0x411794,_0x3de3f4){const _0x198c7c=_0xdcbb79,_0xbff99c=new File([new Blob([JSON[_0x198c7c(0x6fb)](_0x3de3f4)])],''+_0x563e19+_0x2d31a8,{'type':_0x198c7c(0x528)});await this[_0x198c7c(0x4e5)](_0xbff99c,_0x411794);}async['checkExistingPendingFileContent'](_0x11bd2f,_0x129f2f,_0x55431a){const _0x147384=_0xdcbb79;try{const _0x45d2a8=_0x151b83(_0x129f2f,_0x11bd2f),_0xb34574=_0x45d2a8+_0x2d31a8,_0x46a90c=await this[_0x147384(0x257)]['get'](_0xb34574),{checksum:_0xb525b4,skipEncryption:_0x2e5cee}=JSON[_0x147384(0xa2e)](await _0x46a90c[_0x147384(0x5b1)]()),_0x4ac93f=(await this[_0x147384(0x257)][_0x147384(0x3ee)](_0x45d2a8,{'skipEncryption':_0x2e5cee}))['size'];return _0xb525b4===_0x55431a&&_0x4ac93f%_0x3eb73a==0x0?[!0x0,Math[_0x147384(0x80d)](_0x4ac93f/_0x3eb73a)]:(await this[_0x147384(0x257)][_0x147384(0x305)](_0x45d2a8),[!0x1,0x0]);}catch(_0x579a5d){return[!0x1,0x0];}}[_0xdcbb79(0xa21)](_0x4cb433,_0x54f042){const _0x4f7000=_0xdcbb79,[_0x3d0205,_0x4dda71]=this[_0x4f7000(0x38e)][_0x4f7000(0x3ee)](_0x4cb433)?.[_0x4f7000(0x3ee)](_0x54f042)??[];return _0x4dda71&&clearTimeout(_0x4dda71),setTimeout(()=>{const _0x1121d2=_0x4f7000,[_0x143317,_0x3a6374]=this[_0x1121d2(0x38e)][_0x1121d2(0x3ee)](_0x4cb433)[_0x1121d2(0x3ee)](_0x54f042);this[_0x1121d2(0x50a)](_0x143317,_0x3a6374);},0x927c0);}async['sendFileRequestPayload'](_0x230785,_0x1e825b){const _0x345beb=_0xdcbb79;clearTimeout(_0x1e825b),_0x230785[_0x345beb(0x43d)]=_0x492123[_0x345beb(0x9b3)],this[_0x345beb(0x45f)][_0x345beb(0x80a)](_0x151b83(_0x230785[_0x345beb(0x9e2)],_0x230785[_0x345beb(0x181)]),_0x230785),this[_0x345beb(0x3da)](_0x230785);}[_0xdcbb79(0x2ad)](_0x3b0879,_0x2ab362){const _0x4f2436=_0xdcbb79;if(!this[_0x4f2436(0x76b)])return;this[_0x4f2436(0x38e)][_0x4f2436(0x504)](_0x3b0879[_0x4f2436(0x7fb)])||this['pendingFilesSyncing']['set'](_0x3b0879['answererId'],new Map());const [_0x5423e0]=this[_0x4f2436(0x38e)]['get'](_0x3b0879[_0x4f2436(0x7fb)])[_0x4f2436(0x3ee)](_0x2ab362)??[{'payloadType':_0x54a3f8[_0x4f2436(0x8c1)],'action':_0x492123[_0x4f2436(0x9b3)],'sourceId':this[_0x4f2436(0x99b)]['getId'](),'type':_0x3b0879[_0x4f2436(0x8fa)],'name':_0x3b0879[_0x4f2436(0x181)],'path':_0x3b0879[_0x4f2436(0x9e2)],'skipEncryption':_0x3b0879['skipEncryption'],'checksum':_0x3b0879[_0x4f2436(0x813)],'answererId':_0x3b0879[_0x4f2436(0x7fb)]}];this[_0x4f2436(0x38e)][_0x4f2436(0x3ee)](_0x3b0879[_0x4f2436(0x7fb)])['set'](_0x2ab362,[_0x5423e0,this[_0x4f2436(0xa21)](_0x3b0879[_0x4f2436(0x7fb)],_0x2ab362)]);}async[_0xdcbb79(0x4e5)](_0x5e0947,_0x1171c9,_0x13387f){const _0x549f9d=_0xdcbb79;this[_0x549f9d(0x212)]&&(this[_0x549f9d(0x956)]+=0x1),await this[_0x549f9d(0x257)][_0x549f9d(0x4e5)](_0x5e0947,_0x1171c9,_0x13387f);}async[_0xdcbb79(0x305)](_0x2bd61a){const _0xa16b3e=_0xdcbb79;try{const _0x39be73=await this[_0xa16b3e(0x257)][_0xa16b3e(0x305)](_0x2bd61a);if(!_0x2bd61a['endsWith'](_0x2d31a8))try{await this[_0xa16b3e(0x257)]['deleteObject'](_0x2bd61a+_0x2d31a8);}catch(_0x11f77a){}return this['isSyncing']&&_0x39be73===_0x410512[_0xa16b3e(0x4af)][_0xa16b3e(0x4a9)]&&(this[_0xa16b3e(0x956)]+=0x1),_0x39be73;}catch(_0x47cf0b){return await this[_0xa16b3e(0x257)][_0xa16b3e(0x305)](_0x2bd61a+_0x2d31a8);}}async[_0xdcbb79(0x895)](_0x215968,_0x1b7e32){const _0x15d696=_0xdcbb79;try{const _0x5167e1=await this[_0x15d696(0x257)]['moveObject'](_0x215968,_0x1b7e32);if(!_0x215968[_0x15d696(0x987)](_0x2d31a8))try{await this[_0x15d696(0x257)][_0x15d696(0x895)](_0x215968+_0x2d31a8,_0x1b7e32+_0x2d31a8);}catch(_0x20677){}return _0x5167e1;}catch(_0x470c72){return await this[_0x15d696(0x257)][_0x15d696(0x895)](_0x215968+_0x2d31a8,_0x1b7e32+_0x2d31a8);}}[_0xdcbb79(0x393)](){const _0x57b0d3=_0xdcbb79;this[_0x57b0d3(0x1b9)]&&clearTimeout(this['debounceStats']),this[_0x57b0d3(0x1b9)]=setTimeout(async()=>{const _0x167c7c=_0x57b0d3;delete this[_0x167c7c(0x1b9)];const _0x5aa657=await this[_0x167c7c(0x257)][_0x167c7c(0x6f6)]('/');this[_0x167c7c(0x5df)]?.[_0x167c7c(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632['Content'],'content':{'type':_0x31d4ec[_0x167c7c(0xa15)],'label':this['label'],'stats':{'timestamp':Date[_0x167c7c(0x667)](),'storage':_0x5aa657,'messagesSent':this[_0x167c7c(0x9b6)],'messagesReceived':this[_0x167c7c(0x958)],'bytesSent':this[_0x167c7c(0x82c)],'bytesReceived':this[_0x167c7c(0x6d1)],'writes':this['writes'],'reads':this[_0x167c7c(0x79c)],'prompts':0x0,'tokens':0x0}}}),this[_0x167c7c(0x76b)]&&_0xbff73d['logStorage'](_0x3a8602[_0x167c7c(0x365)],_0x167c7c(0x1ea)+this['clusterId']+_0x167c7c(0x1ea)+this['label'],_0x5aa657);},_0xe479f);}async[_0xdcbb79(0x488)](_0x17e760){const _0x356404=_0xdcbb79;try{return await this[_0x356404(0x3ee)](_0x17e760),!0x0;}catch(_0x357190){return!0x1;}}async[_0xdcbb79(0x176)](_0x41a531){const _0x3507ab=_0xdcbb79;if(!this[_0x3507ab(0xa08)][_0x3507ab(0x504)](_0x41a531))return;const _0x30debd=this[_0x3507ab(0xa08)][_0x3507ab(0x3ee)](_0x41a531);if(_0x30debd[_0x3507ab(0x52f)])try{await _0x30debd['stream'][_0x3507ab(0x3d8)]();}catch(_0xfc1ff6){console[_0x3507ab(0x33f)](_0x3507ab(0x8ad),_0xfc1ff6);}this[_0x3507ab(0xa08)]['delete'](_0x41a531);}}class _0x40ca05 extends _0x2be12e{['localNode'];[_0xdcbb79(0x31a)];[_0xdcbb79(0x9e3)]=new Map();[_0xdcbb79(0x1b9)];constructor(_0x2ea3bb,_0x5da919,_0x284477){const _0x3aa751=_0xdcbb79;if(_0x3aa751(0x610)!=typeof _0x5da919)throw new _0x5df866(_0x29ef36[_0x3aa751(0x74a)],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x2ea3bb,_0x5da919),this['localNode']=_0x2ea3bb,this[_0x3aa751(0x31a)]=_0x284477,this[_0x3aa751(0x393)]();}[_0xdcbb79(0x337)](){this['sendStats']();}[_0xdcbb79(0x3aa)](){const _0x5039d1=_0xdcbb79;return _0x410512['ContentType'][_0x5039d1(0xa42)];}['publish'](_0x5de1fb,_0xcecad1){const _0x432b3b=_0xdcbb79;_0xbff73d[_0x432b3b(0x198)](_0x1f75f2['PubSub'],_0x432b3b(0x74d),this[_0x432b3b(0x99b)][_0x432b3b(0xa10)](),_0x5de1fb,_0xcecad1),_0xbff73d[_0x432b3b(0x6bf)](_0x3a8602[_0x432b3b(0xa42)],{'type':_0x432b3b(0x884),'label':this[_0x432b3b(0x726)],'nodeId':this[_0x432b3b(0x99b)][_0x432b3b(0xa10)](),'nodeType':this[_0x432b3b(0x99b)][_0x432b3b(0x8fa)],'clusterId':this[_0x432b3b(0x31a)],'remoteIds':_0xcecad1??[],'contentType':_0x5de1fb instanceof File?_0x410512[_0x432b3b(0xa30)]['File']:_0x410512[_0x432b3b(0xa30)][_0x432b3b(0x1ef)],'size':_0x5de1fb instanceof File?_0x5de1fb['size']:JSON['stringify'](_0x5de1fb)[_0x432b3b(0x454)]}),this[_0x432b3b(0x393)](),this['send'](_0x5de1fb,_0xcecad1);}[_0xdcbb79(0x917)](_0x33d353,_0x3dd9ea){const _0x237bdd=_0xdcbb79;if(this[_0x237bdd(0x9e3)][_0x237bdd(0x504)](_0x33d353))throw new _0x5df866(_0x29ef36[_0x237bdd(0xa55)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0x237bdd(0x9e3)][_0x237bdd(0x80a)](_0x33d353,this[_0x237bdd(0x312)]((_0x42f602,_0x792899)=>{const _0x31e59d=_0x237bdd;'data'===_0x33d353&&_0x792899 instanceof File||!(_0x31e59d(0x57b)!==_0x33d353||_0x792899 instanceof File)||(_0xbff73d[_0x31e59d(0x198)](_0x1f75f2['PubSub'],_0x31e59d(0xa5b),this[_0x31e59d(0x99b)][_0x31e59d(0xa10)](),_0x42f602,_0x792899),_0xbff73d['logServiceEvent'](_0x3a8602['PubSub'],{'type':_0x31e59d(0x917),'label':this[_0x31e59d(0x726)],'nodeId':this[_0x31e59d(0x99b)][_0x31e59d(0xa10)](),'nodeType':this[_0x31e59d(0x99b)]['type'],'clusterId':this[_0x31e59d(0x31a)],'remoteId':_0x42f602,'contentType':_0x33d353,'size':_0x792899 instanceof File?_0x792899[_0x31e59d(0x400)]:JSON['stringify'](_0x792899)[_0x31e59d(0x454)]}),this[_0x31e59d(0x393)](),_0x3dd9ea(_0x42f602,_0x792899));}));}[_0xdcbb79(0x1aa)](_0x291da8){const _0x522932=_0xdcbb79;this[_0x522932(0x9e3)][_0x522932(0x3ee)](_0x291da8)?.(),this[_0x522932(0x9e3)][_0x522932(0x652)](_0x291da8);}[_0xdcbb79(0x4f6)](){const _0x95e83f=_0xdcbb79;this[_0x95e83f(0x9e3)][_0x95e83f(0x5f6)](_0x2c390b=>_0x2c390b()),clearTimeout(this[_0x95e83f(0x1b9)]),delete this[_0x95e83f(0x1b9)],super[_0x95e83f(0x4f6)]();}[_0xdcbb79(0x3d8)](){const _0x26545f=_0xdcbb79;this[_0x26545f(0x5df)]?.['publish']({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x26545f(0x6cf)],'content':{'type':_0x31d4ec[_0x26545f(0x55d)],'label':this[_0x26545f(0x726)]}});}[_0xdcbb79(0x393)](){this['debounceStats']&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(()=>{const _0xec7d99=a0_0x27c7;this[_0xec7d99(0x5df)]?.[_0xec7d99(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0xec7d99(0x6cf)],'content':{'type':_0x31d4ec[_0xec7d99(0x95b)],'label':this[_0xec7d99(0x726)],'stats':{'timestamp':Date[_0xec7d99(0x667)](),'storage':0x0,'messagesSent':this[_0xec7d99(0x9b6)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0xec7d99(0x82c)],'bytesReceived':this[_0xec7d99(0x6d1)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0xe479f);}}class _0x3ecc25 extends _0x190ae1{[_0xdcbb79(0x99b)];[_0xdcbb79(0x5d0)];[_0xdcbb79(0x5d3)];[_0xdcbb79(0x31a)];[_0xdcbb79(0x9e3)];['resizeHandler'];[_0xdcbb79(0x517)];['outgoingStreams']=new Map();['renderElement'];[_0xdcbb79(0x913)]=new Set();[_0xdcbb79(0x68f)];[_0xdcbb79(0x7dd)]=_0x5de5e8();[_0xdcbb79(0x648)]=new Map();constructor(_0x229c2b,_0x8ee9be,_0x2482c1,_0x10ef7f,_0xf34ea6,_0x508211){const _0x104d77=_0xdcbb79;super(_0x8ee9be,_0x2482c1,new MediaStream()),this[_0x104d77(0x99b)]=_0x229c2b,this[_0x104d77(0x5d0)]=_0x10ef7f,this[_0x104d77(0x5d3)]=_0xf34ea6,this[_0x104d77(0x31a)]=_0x508211,this[_0x104d77(0x4fc)][_0x104d77(0x9a3)]()['forEach'](_0x402a4d=>this['setupTrackEndedListeners'](_0x402a4d));}[_0xdcbb79(0x4f6)](){const _0x276a5e=_0xdcbb79;this['outgoingStreams'][_0x276a5e(0x400)]>0x0&&(this[_0x276a5e(0x733)][_0x276a5e(0x5f6)](_0x58db67=>{const _0x204f04=_0x276a5e;_0x58db67[_0x204f04(0x1c8)](),_0x58db67['destroy']();}),this[_0x276a5e(0x733)][_0x276a5e(0x6d0)]()),this[_0x276a5e(0x648)][_0x276a5e(0x5f6)](_0x845916=>_0x845916()),this[_0x276a5e(0x4fc)][_0x276a5e(0x9a3)]()[_0x276a5e(0x5f6)](_0x3c9fb4=>this[_0x276a5e(0x4fc)]['removeTrack'](_0x3c9fb4)),this[_0x276a5e(0x517)]&&(clearTimeout(this['updateDebounce']),delete this['updateDebounce']),this['resizeHandler']?.(),super['destroy']();}['registerSubscriber'](_0x33ae73){const _0x14c372=_0xdcbb79;this[_0x14c372(0x9e3)]=_0x33ae73['subscribe'](({content:_0x93fd6e})=>{const _0x57277a=_0x14c372;switch(_0x93fd6e[_0x57277a(0x43d)]){case _0x1b3ca9[_0x57277a(0x702)]:if(_0xbff73d[_0x57277a(0x198)](_0x1f75f2[_0x57277a(0x915)],_0x57277a(0x180),this[_0x57277a(0x99b)][_0x57277a(0xa10)](),this[_0x57277a(0x68f)]),_0x93fd6e[_0x57277a(0x52f)]['id']!==this['internalId']||_0x93fd6e[_0x57277a(0x68f)]!==this['providerId'])return;this[_0x57277a(0x5f3)](_0x93fd6e['track'][_0x57277a(0x952)]),this[_0x57277a(0x4fc)][_0x57277a(0x9b9)](_0x93fd6e[_0x57277a(0xa0d)]);for(const [_0x292ed7,_0x57e214]of this[_0x57277a(0x733)][_0x57277a(0x88f)]())try{_0x57e214[_0x57277a(0x9b9)](_0x93fd6e['track']);}catch(_0x3dd8fc){_0x57e214['destroy'](),this[_0x57277a(0x733)]['delete'](_0x292ed7);}this[_0x57277a(0x81b)](_0x93fd6e['track']),this[_0x57277a(0x23f)](),_0x57277a(0x72f)===_0x93fd6e[_0x57277a(0xa0d)][_0x57277a(0x952)]&&this[_0x57277a(0x771)]&&(this[_0x57277a(0x4fc)][_0x57277a(0x896)]?setTimeout(()=>this['renderElement']?.[_0x57277a(0x5cb)](),0x0):setTimeout(()=>this[_0x57277a(0x771)]?.[_0x57277a(0x335)](),0x0),this[_0x57277a(0x66d)]());break;case _0x1b3ca9[_0x57277a(0x17f)]:if(_0x93fd6e['stream']['id']!==this[_0x57277a(0x5d0)]||_0x93fd6e[_0x57277a(0x68f)]!==this['providerId'])return;this[_0x57277a(0x5f3)](_0x93fd6e['track']['kind']),this['renderElement']&&'video'===_0x93fd6e[_0x57277a(0xa0d)][_0x57277a(0x952)]&&(this[_0x57277a(0x24b)]?.(),this[_0x57277a(0x4fc)][_0x57277a(0x9a3)]()[_0x57277a(0x454)]>0x0?this[_0x57277a(0x771)][_0x57277a(0x335)]():this[_0x57277a(0x771)]['srcObject']=null);}});}[_0xdcbb79(0x5da)](){const _0x4dbe0b=_0xdcbb79;this[_0x4dbe0b(0x9e3)]?.(),this[_0x4dbe0b(0x648)][_0x4dbe0b(0x5f6)](_0x32c86d=>_0x32c86d()),delete this[_0x4dbe0b(0x9e3)];}[_0xdcbb79(0x9db)](){return this['internalId'];}['setInternalId'](_0x2f4694){const _0x32a97c=_0xdcbb79;this[_0x32a97c(0x5d0)]=_0x2f4694;}[_0xdcbb79(0x94f)](){const _0x2a5aee=_0xdcbb79;return this[_0x2a5aee(0x5d3)];}['hasTracks'](_0x25f1c4){const _0x2b73c3=_0xdcbb79;for(const _0x364fe7 of _0x25f1c4||this['availableTrackKinds'])if(!this[_0x2b73c3(0x4fc)][_0x2b73c3(0x9a3)]()[_0x2b73c3(0x39d)](_0x231cb7=>_0x231cb7[_0x2b73c3(0x952)]===_0x364fe7))return!0x1;return!0x0;}['getResolution'](){const _0x122660=_0xdcbb79;let _0x5e44a0={'width':0x0,'height':0x0};const _0x5a1f2e=this['mediaStream'][_0x122660(0x3ad)]();if(_0x5a1f2e[_0x122660(0x454)]>0x0){const _0x196069=_0x5a1f2e[0x0][_0x122660(0x6b3)]();_0x196069[_0x122660(0x4b2)]&&_0x196069[_0x122660(0x599)]&&(_0x5e44a0={'width':_0x196069[_0x122660(0x4b2)],'height':_0x196069[_0x122660(0x599)]});}return _0x5e44a0;}['isSubscribed'](_0x3d685e){const _0x18f559=_0xdcbb79;for(const _0x58be46 of _0x3d685e)if(!this[_0x18f559(0x913)][_0x18f559(0x504)](_0x58be46))return!0x1;return!0x0;}[_0xdcbb79(0x918)](_0x3152f5,_0x51c09a){const _0x4ed64e=_0xdcbb79;if(!this['outgoingStreams']['has'](_0x3152f5)){const _0x4d11ec=new _0x37cc07(this[_0x4ed64e(0x1af)],this[_0x4ed64e(0x726)],this[_0x4ed64e(0x4fc)],_0x3152f5,_0x51c09a),_0x694dda=_0x4d11ec[_0x4ed64e(0x316)](()=>{const _0x534caa=_0x4ed64e;_0x694dda(),this[_0x534caa(0x733)][_0x534caa(0x3ee)](_0x3152f5)?.[_0x534caa(0x4f6)](),this[_0x534caa(0x733)]['delete'](_0x3152f5);});this['outgoingStreams'][_0x4ed64e(0x80a)](_0x3152f5,_0x4d11ec),_0x4d11ec[_0x4ed64e(0x724)](this[_0x4ed64e(0x5df)]);}return this[_0x4ed64e(0x733)][_0x4ed64e(0x3ee)](_0x3152f5);}[_0xdcbb79(0x8c6)](){return this['mediaStream']['id'];}['getPriority'](){const _0x515325=_0xdcbb79;return _0x410512[_0x515325(0x2a1)][_0x515325(0x7fe)];}['getSubscribedTracks'](){const _0xcbab71=_0xdcbb79;return Array[_0xcbab71(0x6dd)](this[_0xcbab71(0x913)]);}[_0xdcbb79(0x917)](_0x4ffee7){const _0x2b5866=_0xdcbb79;let _0x231cc6=[];if(_0x4ffee7){_0x2b5866(0x778)!=typeof _0x4ffee7['video']||_0x4ffee7[_0x2b5866(0x72f)][_0x2b5866(0x771)]instanceof HTMLVideoElement||!this['renderElement']||(_0x4ffee7[_0x2b5866(0x72f)]={'renderElement':this['renderElement']});try{(0x0,_0x410512[_0x2b5866(0x5c2)])(_0x4ffee7);}catch(_0x31b564){throw new _0x5df866(_0x29ef36['RemoteMediaStreamInvalidSubscriptionParams'],_0x2b5866(0x97b));}_0x4ffee7[_0x2b5866(0x72f)]&&(_0x231cc6['push'](_0x2b5866(0x72f)),'boolean'!=typeof _0x4ffee7['video']&&_0x4ffee7[_0x2b5866(0x72f)][_0x2b5866(0x771)]&&(this[_0x2b5866(0x771)]=_0x4ffee7[_0x2b5866(0x72f)]['renderElement'],_0x4ffee7[_0x2b5866(0x72f)][_0x2b5866(0x5fc)]||(_0x4ffee7[_0x2b5866(0x72f)]['maxResolution']={'width':this[_0x2b5866(0x771)][_0x2b5866(0x3d7)],'height':this[_0x2b5866(0x771)]['clientHeight']}),delete _0x4ffee7[_0x2b5866(0x72f)][_0x2b5866(0x771)])),_0x4ffee7[_0x2b5866(0x82e)]&&_0x231cc6[_0x2b5866(0x90d)]('audio');}else _0x231cc6=this[_0x2b5866(0x94f)]();this[_0x2b5866(0x513)](_0x231cc6)||(_0x231cc6[_0x2b5866(0x5f6)](_0x10bd20=>this[_0x2b5866(0x913)][_0x2b5866(0x164)](_0x10bd20)),this[_0x2b5866(0x5df)]['publish']({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x2b5866(0x6cf)],'content':{'type':_0x31d4ec[_0x2b5866(0x41e)],'label':this['label'],'ownerId':this[_0x2b5866(0x1af)]['getId'](),'trackKinds':_0x231cc6,'params':_0x4ffee7}}),_0xbff73d['logServiceEvent'](_0x3a8602[_0x2b5866(0xa43)],{'type':'subscribe','label':this[_0x2b5866(0x726)],'nodeId':this[_0x2b5866(0x99b)]['getId'](),'nodeType':this[_0x2b5866(0x99b)][_0x2b5866(0x8fa)],'clusterId':this['clusterId'],'sourceId':this[_0x2b5866(0x1af)][_0x2b5866(0xa10)](),'streamId':this[_0x2b5866(0x5d0)],'trackKinds':_0x231cc6}));}[_0xdcbb79(0x65d)](_0x538c8b){const _0x2cd1f9=_0xdcbb79;try{(0x0,_0x410512[_0x2cd1f9(0x5c2)])(_0x538c8b);}catch(_0x44f5bd){throw new _0x5df866(_0x29ef36[_0x2cd1f9(0x7ad)],_0x2cd1f9(0x97b));}this[_0x2cd1f9(0x517)]&&clearTimeout(this[_0x2cd1f9(0x517)]),this[_0x2cd1f9(0x517)]=setTimeout(()=>{const _0x2f0218=_0x2cd1f9;delete this[_0x2f0218(0x517)],this[_0x2f0218(0x5df)][_0x2f0218(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x2f0218(0x6cf)],'content':{'type':_0x31d4ec['UpdateMediaStream'],'label':this['label'],'ownerId':this[_0x2f0218(0x1af)][_0x2f0218(0xa10)](),'params':_0x538c8b}});},0x1f4);}['unsubscribe'](_0x65b1ca){const _0x1aacc5=_0xdcbb79;_0x65b1ca||(_0x65b1ca=this[_0x1aacc5(0x94f)]()),(_0x65b1ca=Array['isArray'](_0x65b1ca)?_0x65b1ca:[_0x65b1ca])['forEach'](_0x17d107=>this[_0x1aacc5(0x913)][_0x1aacc5(0x652)](_0x17d107)),this['systemTopic'][_0x1aacc5(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632['Content'],'content':{'type':_0x31d4ec[_0x1aacc5(0x63b)],'label':this[_0x1aacc5(0x726)],'ownerId':this['owner'][_0x1aacc5(0xa10)](),'trackKinds':_0x65b1ca,'remainingTracks':this['subscribedTracks'][_0x1aacc5(0x400)]}});}[_0xdcbb79(0x1f6)](_0x41125b){const _0x272411=_0xdcbb79;return this[_0x272411(0x7dd)][_0x272411(0x917)](_0x41125b);}['getProviderId'](){const _0x3dd8f5=_0xdcbb79;return this[_0x3dd8f5(0x68f)];}[_0xdcbb79(0xa59)](_0x2c17c0){const _0x344c85=_0xdcbb79;this[_0x344c85(0x68f)]!==_0x2c17c0&&(this['providerId']=_0x2c17c0,this['providerListener'][_0x344c85(0x884)](_0x2c17c0));}[_0xdcbb79(0x78f)](_0x133967){const _0x506f40=_0xdcbb79;this['trackEndedListeners'][_0x506f40(0x3ee)](_0x133967)?.(),this[_0x506f40(0x648)][_0x506f40(0x652)](_0x133967);}[_0xdcbb79(0x5f3)](_0xd800c8){const _0x1c092=_0xdcbb79,_0x558f05=this[_0x1c092(0x4fc)][_0x1c092(0x9a3)]()[_0x1c092(0x39d)](_0x24046b=>_0x24046b['kind']===_0xd800c8);_0x558f05&&(this['mediaStream'][_0x1c092(0x5f3)](_0x558f05),this[_0x1c092(0x733)][_0x1c092(0x5f6)](_0xdf253=>_0xdf253[_0x1c092(0x5f3)](_0xd800c8)),this[_0x1c092(0x648)][_0x1c092(0x3ee)](_0xd800c8)?.());}[_0xdcbb79(0x23f)](){const _0x5e8c52=_0xdcbb79;this[_0x5e8c52(0x771)]&&(this[_0x5e8c52(0x771)]['srcObject']&&this[_0x5e8c52(0x771)]['srcObject']===this[_0x5e8c52(0x4fc)]||(this[_0x5e8c52(0x771)][_0x5e8c52(0x525)]=this[_0x5e8c52(0x4fc)]));}[_0xdcbb79(0x66d)](){const _0x1e802e=_0xdcbb79;if(this[_0x1e802e(0x771)]&&!this[_0x1e802e(0x24b)]&&_0x1e802e(0x1ba)!=typeof ResizeObserver){let _0x1769a6=this['renderElement'][_0x1e802e(0x3d7)],_0x4f11ec=this[_0x1e802e(0x771)][_0x1e802e(0x260)];const _0x277184=new ResizeObserver(_0x43cfb5=>{const _0x38ee24=_0x1e802e,{width:_0x915d22,height:_0x2cf636}=_0x43cfb5[0x0][_0x38ee24(0x21f)];_0x1769a6===_0x915d22&&_0x4f11ec===_0x2cf636||(_0x1769a6=Math[_0x38ee24(0x725)](_0x915d22),_0x4f11ec=Math[_0x38ee24(0x725)](_0x2cf636),this[_0x38ee24(0x65d)]({'video':{'maxResolution':{'width':_0x915d22,'height':_0x2cf636}}}));});_0x277184['observe'](this[_0x1e802e(0x771)]),this[_0x1e802e(0x24b)]=()=>_0x277184[_0x1e802e(0x67a)]();}}[_0xdcbb79(0x334)](_0x3fa0fe){const _0x5be0cb=_0xdcbb79,_0x9b9141=[];for(const _0x6eedd8 of this[_0x5be0cb(0x913)])this['removeTrack'](_0x6eedd8),_0x9b9141[_0x5be0cb(0x90d)](_0x6eedd8);this['providerId']&&this[_0x5be0cb(0x5df)][_0x5be0cb(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x5be0cb(0x6cf)],'content':{'type':_0x31d4ec[_0x5be0cb(0x817)],'label':this[_0x5be0cb(0x726)],'streamId':this[_0x5be0cb(0x5d0)],'ownerId':this[_0x5be0cb(0x1af)]['getId'](),'providerId':this[_0x5be0cb(0x68f)],'trackKinds':_0x9b9141}});}[_0xdcbb79(0x81b)](_0x266ed0){const _0x78d34d=_0xdcbb79,_0x4ca244=()=>this[_0x78d34d(0x334)](_0x266ed0);_0x266ed0['addEventListener'](_0x78d34d(0xa75),_0x4ca244),_0x266ed0[_0x78d34d(0x409)](_0x78d34d(0x8ea),_0x4ca244),this[_0x78d34d(0x648)][_0x78d34d(0x80a)](_0x266ed0['kind'],()=>{const _0x2c6e93=_0x78d34d;_0x266ed0[_0x2c6e93(0x9f7)](_0x2c6e93(0xa75),_0x4ca244),_0x266ed0[_0x2c6e93(0x9f7)](_0x2c6e93(0x8ea),_0x4ca244),this[_0x2c6e93(0x648)][_0x2c6e93(0x652)](_0x266ed0[_0x2c6e93(0x952)]);});}}class _0x5f3c1c extends _0x2be12e{['localNode'];[_0xdcbb79(0x31a)];['vendorId'];['db'];[_0xdcbb79(0x1b9)];[_0xdcbb79(0x7f3)]=0x0;['reads']=0x0;[_0xdcbb79(0x168)]=!0x1;constructor(_0x392423,_0x354c5a,_0x5cb965,_0x319a67,_0x1fd82a){const _0x406798=_0xdcbb79;if(_0x406798(0x610)!=typeof _0x354c5a)throw new _0x5df866(_0x29ef36[_0x406798(0x9a2)],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x392423,_0x354c5a),this[_0x406798(0x99b)]=_0x392423,this[_0x406798(0x31a)]=_0x5cb965,this[_0x406798(0x8de)]=_0x319a67;const _0x51eb99=_0x406798(0x1ea)+this[_0x406798(0x8de)]+_0x406798(0x1ea)+this[_0x406798(0x31a)]+_0x406798(0x1ea)+this[_0x406798(0x726)];this['db']=new _0x1fd82a(_0x51eb99),this[_0x406798(0x393)]();}[_0xdcbb79(0x73d)](){const _0xcd48=_0xdcbb79;return this[_0xcd48(0x168)];}[_0xdcbb79(0x322)](_0x3ce6e9){const _0x1e6013=_0xdcbb79;this[_0x1e6013(0x168)]=_0x3ce6e9;}[_0xdcbb79(0x4f6)](){const _0x3b9398=_0xdcbb79;clearTimeout(this['debounceStats']),delete this[_0x3b9398(0x1b9)],super[_0x3b9398(0x4f6)]();}[_0xdcbb79(0x3d8)](){const _0x4c3386=_0xdcbb79;this[_0x4c3386(0x5df)][_0x4c3386(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x4c3386(0x6cf)],'content':{'type':_0x31d4ec[_0x4c3386(0x2ca)],'label':this['label']}});}['reset'](){const _0xabd662=_0xdcbb79;this[_0xabd662(0x393)]();}[_0xdcbb79(0x3aa)](){const _0xf1cd6b=_0xdcbb79;return _0x410512[_0xf1cd6b(0xa30)][_0xf1cd6b(0x33d)];}[_0xdcbb79(0x96f)](_0x4df864,_0x4ae052,_0x33dc4a,_0x8291a4){const _0x7bc62d=_0xdcbb79,_0x22a111=this['db'][_0x7bc62d(0x96f)](_0x4df864,_0x4ae052,_0x33dc4a,_0x8291a4);return this['reads']+=0x1,_0xbff73d[_0x7bc62d(0x6bf)](_0x3a8602[_0x7bc62d(0x33d)],{'type':_0x7bc62d(0x96f),'label':this[_0x7bc62d(0x726)],'nodeId':this[_0x7bc62d(0x99b)]['getId'](),'nodeType':this[_0x7bc62d(0x99b)][_0x7bc62d(0x8fa)],'clusterId':this[_0x7bc62d(0x31a)],'size':0x0}),this[_0x7bc62d(0x393)](),_0x22a111;}[_0xdcbb79(0x6a5)](_0x1d6ad6,_0x1fa07f,_0x4cf2b0,_0x2f2448){const _0x45351d=_0xdcbb79;this['db']['insert'](_0x1d6ad6,_0x1fa07f,_0x4cf2b0,_0x2f2448),this[_0x45351d(0x7f3)]+=0x1,_0xbff73d['logServiceEvent'](_0x3a8602[_0x45351d(0x33d)],{'type':'insert','label':this[_0x45351d(0x726)],'nodeId':this[_0x45351d(0x99b)][_0x45351d(0xa10)](),'nodeType':this[_0x45351d(0x99b)]['type'],'clusterId':this[_0x45351d(0x31a)],'size':_0x2f2448[_0x45351d(0x1f4)]((_0x4826fb,_0x23daf3)=>_0x4826fb+_0x23daf3['length'],0x0)}),this[_0x45351d(0x393)]();}[_0xdcbb79(0x852)](_0x23eacd){const _0x47ff51=_0xdcbb79;this['db'][_0x47ff51(0x852)](_0x23eacd),this[_0x47ff51(0x7f3)]+=0x1,_0xbff73d['logServiceEvent'](_0x3a8602[_0x47ff51(0x33d)],{'type':_0x47ff51(0x852),'label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x47ff51(0x99b)]['type'],'clusterId':this[_0x47ff51(0x31a)],'size':0x0}),this[_0x47ff51(0x393)]();}[_0xdcbb79(0xa09)](_0x3df62e){const _0x3190f2=_0xdcbb79;this['db'][_0x3190f2(0xa09)](_0x3df62e);}['loadFromDisk'](_0x57abaf){const _0x5c508d=_0xdcbb79;this['db'][_0x5c508d(0x847)](_0x57abaf);}[_0xdcbb79(0x393)](){const _0x504c2f=_0xdcbb79;this[_0x504c2f(0x1b9)]&&clearTimeout(this['debounceStats']),this[_0x504c2f(0x1b9)]=setTimeout(async()=>{const _0x59eb0c=_0x504c2f;delete this[_0x59eb0c(0x1b9)];const _0x2989cf=this['db'][_0x59eb0c(0x426)]()['byteLength'];this[_0x59eb0c(0x5df)][_0x59eb0c(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x59eb0c(0x6cf)],'content':{'type':_0x31d4ec['VectorDatabaseStats'],'label':this[_0x59eb0c(0x726)],'stats':{'timestamp':Date[_0x59eb0c(0x667)](),'storage':_0x2989cf,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x59eb0c(0x82c)],'bytesReceived':this[_0x59eb0c(0x6d1)],'writes':this[_0x59eb0c(0x7f3)],'reads':this[_0x59eb0c(0x79c)],'prompts':0x0,'tokens':0x0}}}),_0xbff73d[_0x59eb0c(0x336)](_0x3a8602[_0x59eb0c(0x33d)],_0x59eb0c(0x1ea)+this[_0x59eb0c(0x31a)]+'ccc'+this[_0x59eb0c(0x726)],_0x2989cf);},_0xe479f);}}class _0x20a0ec{['id'];['remoteConnections'];[_0xdcbb79(0x19e)];constructor(_0x25e90b,_0xb0f4f5=new Set(),_0x1ef14f){const _0x416558=_0xdcbb79;this['id']=_0x25e90b,this['remoteConnections']=_0xb0f4f5,this[_0x416558(0x19e)]=_0x1ef14f;}['close'](){const _0x20514d=_0xdcbb79;this['rank']=void 0x0,this[_0x20514d(0x824)][_0x20514d(0x6d0)]();}[_0xdcbb79(0xa10)](){return this['id'];}[_0xdcbb79(0x252)](){const _0x36f5c6=_0xdcbb79;return this[_0x36f5c6(0x19e)];}[_0xdcbb79(0x624)](){return this['remoteConnections'];}}class _0x4e822e extends _0x20a0ec{['id'];[_0xdcbb79(0x876)];[_0xdcbb79(0x5d2)];[_0xdcbb79(0x824)];['rank'];[_0xdcbb79(0x8fa)]=_0x410512[_0xdcbb79(0xa72)]['User'];constructor(_0x4ad14a,_0x3f8184,_0x5d3f08,_0x2b9e5b=new Set(),_0x3e7f18){const _0x7abb27=_0xdcbb79;super(_0x4ad14a,_0x2b9e5b,_0x3e7f18),this['id']=_0x4ad14a,this['displayName']=_0x3f8184,this[_0x7abb27(0x5d2)]=_0x5d3f08,this[_0x7abb27(0x824)]=_0x2b9e5b,this['rank']=_0x3e7f18;}[_0xdcbb79(0xa34)](){return this['displayName'];}[_0xdcbb79(0x33a)](){const _0x21c69b=_0xdcbb79;return this[_0x21c69b(0x5d2)];}}class _0x442f6f{[_0xdcbb79(0x8de)];['clusterId'];[_0xdcbb79(0x938)];constructor(_0x554125,_0x36850a){const _0x25936b=_0xdcbb79;this[_0x25936b(0x8de)]=_0x554125,this['clusterId']=_0x36850a,this[_0x25936b(0x938)]='ccc'+this['vendorId']+'ccc'+this[_0x25936b(0x31a)];}async[_0xdcbb79(0x9c2)](_0x22dc05,_0x5acd6c){const _0x4604a7=_0xdcbb79,_0x17bdec=(0x0,_0x6be76a[_0x4604a7(0x573)])(_0x35c568[_0x4604a7(0x767)](),'clusters/'+this[_0x4604a7(0x938)]+'/objectstores/'+_0x5acd6c+_0x4604a7(0x516)+_0x22dc05['id']),_0xe238d2=(0x0,_0x6be76a['onDisconnect'])(_0x17bdec);_0xe238d2[_0x4604a7(0x852)](),_0x22dc05[_0x4604a7(0xa74)]||delete _0x22dc05[_0x4604a7(0xa74)];try{await(0x0,_0x6be76a[_0x4604a7(0x80a)])(_0x17bdec,_0x22dc05);}catch(_0x5b48a1){throw await _0xe238d2[_0x4604a7(0x52a)](),new _0x3c9628(_0x3c9628[_0x4604a7(0x994)][_0x4604a7(0x1e9)]);}if(!0x1===(await(0x0,_0x6be76a['runTransaction'])((0x0,_0x6be76a[_0x4604a7(0x573)])(_0x35c568[_0x4604a7(0x767)](),_0x4604a7(0x4b6)+this[_0x4604a7(0x938)]+_0x4604a7(0x6b9)+_0x5acd6c+'/transactions/lastTransaction'),_0x42e102=>_0x42e102?_0x42e102===_0x22dc05[_0x4604a7(0xa74)]?_0x22dc05['id']:void 0x0:_0x22dc05['parentId']?_0x22dc05[_0x4604a7(0xa74)]:_0x22dc05['id']))[_0x4604a7(0x557)])throw await(0x0,_0x6be76a['remove'])(_0x17bdec),await _0xe238d2[_0x4604a7(0x52a)](),new _0x3c9628(_0x3c9628[_0x4604a7(0x994)][_0x4604a7(0x4d3)]);await _0xe238d2[_0x4604a7(0x52a)]();}async[_0xdcbb79(0x37c)](_0x51aafe,_0x4e2e79){const _0xe0b147=_0xdcbb79;let _0x5e408d=[];const _0x25aa2c=(0x0,_0x6be76a[_0xe0b147(0x573)])(_0x35c568[_0xe0b147(0x767)](),_0xe0b147(0x4b6)+this[_0xe0b147(0x938)]+_0xe0b147(0x6b9)+_0x51aafe+_0xe0b147(0x16b));let _0x3c584a=await(0x0,_0x6be76a[_0xe0b147(0x3ee)])((0x0,_0x6be76a[_0xe0b147(0x698)])(_0x25aa2c,(0x0,_0x6be76a['limitToFirst'])(0x65),(0x0,_0x6be76a[_0xe0b147(0x886)])()));if(!_0x3c584a['exists']()){if(void 0x0!==_0x4e2e79)throw new _0x3c9628(_0x3c9628[_0xe0b147(0x994)]['ObjectStoreInvalidState']);return _0x5e408d;}const _0x170002=_0x3c584a[_0xe0b147(0x834)]();for(;Object[_0xe0b147(0x7b7)](_0x3c584a['val']())['length']>0x64;){const _0x5f2ccb=Object[_0xe0b147(0x7b7)](_0x3c584a['val']()),_0x180baf=_0x5f2ccb[_0x5f2ccb[_0xe0b147(0x454)]-0x1];_0x3c584a=await(0x0,_0x6be76a['get'])((0x0,_0x6be76a[_0xe0b147(0x698)])(_0x25aa2c,(0x0,_0x6be76a[_0xe0b147(0x496)])(0x65),(0x0,_0x6be76a[_0xe0b147(0x773)])(_0x180baf),(0x0,_0x6be76a[_0xe0b147(0x886)])())),Object[_0xe0b147(0x4f3)](_0x170002,_0x3c584a[_0xe0b147(0x834)]());}if(_0x5e408d=Object[_0xe0b147(0x6c2)](_0x170002)[_0xe0b147(0x4e9)](_0x308710=>_0xe0b147(0x610)!=typeof _0x308710),0x0===_0x5e408d[_0xe0b147(0x454)]&&void 0x0!==_0x4e2e79)throw new _0x3c9628(_0x3c9628[_0xe0b147(0x994)][_0xe0b147(0x6ef)]);if(_0x5e408d[_0xe0b147(0x454)]>0x0&&void 0x0!==_0x4e2e79&&!_0x5e408d['find'](_0x98b592=>_0x98b592['id']===_0x4e2e79))throw new _0x3c9628(_0x3c9628[_0xe0b147(0x994)]['ObjectStoreInvalidState']);const _0x1d642d=[];let _0x2d4d4d=_0x5e408d['find'](_0xddee38=>_0xddee38[_0xe0b147(0xa74)]===_0x4e2e79);for(;_0x2d4d4d;)_0x1d642d[_0xe0b147(0x90d)](_0x2d4d4d),_0x2d4d4d=_0x5e408d[_0xe0b147(0x39d)](_0x4c3100=>_0x4c3100[_0xe0b147(0xa74)]===_0x2d4d4d['id']);return _0x1d642d;}}class _0x2396af{[_0xdcbb79(0x3c6)];[_0xdcbb79(0x581)];['searchApiKey'];['localMediaStreams']=new Map();[_0xdcbb79(0x8fc)]=new Map();['pubSubTopics']=new Map();[_0xdcbb79(0x637)]=new Map();[_0xdcbb79(0x370)]=new Map();[_0xdcbb79(0x556)]=new Map();['vectorDatabases']=new Map();[_0xdcbb79(0x879)]=new Map();['jobDispatchers']=new Map();['jobWorkers']=new Map();[_0xdcbb79(0xa47)];constructor(_0x5a782f,_0x223d57,_0x2219f2){const _0x2e936b=_0xdcbb79;this[_0x2e936b(0x3c6)]=_0x5a782f,this[_0x2e936b(0x581)]=_0x223d57,this['searchApiKey']=_0x2219f2,this[_0x2e936b(0xa47)]=new _0x442f6f(this[_0x2e936b(0x3c6)][_0x2e936b(0x8de)],this[_0x2e936b(0x3c6)][_0x2e936b(0x31a)]);}[_0xdcbb79(0x3d8)](_0x24698f=!0x1){const _0x3df5ae=_0xdcbb79;this[_0x3df5ae(0x8fc)][_0x3df5ae(0x5f6)]((_0x2800a5,_0x3e6c32)=>{const _0x32a931=_0x3df5ae;_0x2800a5[_0x32a931(0x5f6)]((_0x592f2e,_0x449320)=>{const _0xdca729=_0x32a931;this[_0xdca729(0x447)](_0x3e6c32,_0x449320);});}),_0x24698f||(_0xb96ac7[_0x3df5ae(0x6d0)](),this[_0x3df5ae(0x659)][_0x3df5ae(0x5f6)]((_0x346583,_0x4d987d)=>{const _0x5c0def=_0x3df5ae;this[_0x5c0def(0x17e)](_0x4d987d);}),this[_0x3df5ae(0x42c)]['forEach']((_0x16c57e,_0x1a71cc)=>{const _0x4adc15=_0x3df5ae;this[_0x4adc15(0x187)](_0x1a71cc);}),this[_0x3df5ae(0x637)][_0x3df5ae(0x5f6)]((_0x67d508,_0x496e48)=>{const _0x50581b=_0x3df5ae;this[_0x50581b(0x769)](_0x496e48);}),this[_0x3df5ae(0x370)][_0x3df5ae(0x5f6)]((_0x20bd48,_0x1ac524)=>{this['removeExternalStorageConnection'](_0x1ac524);}),this['keyValueDatabases'][_0x3df5ae(0x5f6)]((_0x420c76,_0x57a80b)=>{const _0x4f5591=_0x3df5ae;this[_0x4f5591(0x583)](_0x57a80b);}),this[_0x3df5ae(0x920)]['forEach']((_0x3cc951,_0x407e85)=>{const _0x57cb52=_0x3df5ae;this[_0x57cb52(0x98e)](_0x407e85);}),this[_0x3df5ae(0xa06)][_0x3df5ae(0x5f6)]((_0x20c7d4,_0x520be0)=>{this['removeJobWorker'](_0x520be0);}),this[_0x3df5ae(0x762)][_0x3df5ae(0x5f6)]((_0x52b39d,_0x17be48)=>{const _0x57f495=_0x3df5ae;this[_0x57f495(0x76e)](_0x17be48);}),this['graphDatabases']['forEach']((_0x483b4e,_0x42c80a)=>{const _0x1be3d6=_0x3df5ae;this[_0x1be3d6(0x19b)](_0x42c80a);}));}[_0xdcbb79(0x61a)](_0x27e58a,_0x5c2df3){const _0x4ea5e8=_0xdcbb79;if(this[_0x4ea5e8(0x637)][_0x4ea5e8(0x504)](_0x27e58a))throw new _0x5df866(_0x29ef36[_0x4ea5e8(0x1d5)],_0x4ea5e8(0x7e2));const _0x2322a7=new _0x4808f0(this[_0x4ea5e8(0x3c6)][_0x4ea5e8(0x99b)],_0x27e58a,this[_0x4ea5e8(0x3c6)][_0x4ea5e8(0x31a)],this[_0x4ea5e8(0x3c6)][_0x4ea5e8(0x8de)],this[_0x4ea5e8(0xa47)],_0x5c2df3,()=>this['configs'][_0x4ea5e8(0x3a5)][_0x4ea5e8(0x17c)]());return this[_0x4ea5e8(0x637)][_0x4ea5e8(0x80a)](_0x27e58a,_0x2322a7),this[_0x4ea5e8(0x3c6)][_0x4ea5e8(0x3a5)]['registerSystemSource'](_0x2322a7),_0x2322a7;}[_0xdcbb79(0x29f)](_0x88c4e8,_0x48f650){const _0x310bdc=_0xdcbb79;if(this[_0x310bdc(0x637)]['has'](_0x88c4e8))throw new _0x5df866(_0x29ef36[_0x310bdc(0x4f1)],_0x310bdc(0x686));const _0x1fb5ad=new _0x2e20a3(this[_0x310bdc(0x3c6)]['localNode'],_0x88c4e8,this[_0x310bdc(0x3c6)][_0x310bdc(0x31a)],this[_0x310bdc(0x3c6)]['vendorId'],_0x48f650);return this[_0x310bdc(0x370)][_0x310bdc(0x80a)](_0x88c4e8,_0x1fb5ad),this[_0x310bdc(0x3c6)][_0x310bdc(0x3a5)][_0x310bdc(0x849)](_0x1fb5ad),_0x1fb5ad;}async[_0xdcbb79(0x85e)](_0x15917d,_0x490567,_0x1f3959){const _0x3eba7b=_0xdcbb79;if(this[_0x3eba7b(0x556)][_0x3eba7b(0x504)](_0x15917d))throw new _0x5df866(_0x29ef36[_0x3eba7b(0x795)],_0x3eba7b(0x8e9));try{const _0x55622c=this[_0x3eba7b(0x3c6)][_0x3eba7b(0x3a5)][_0x3eba7b(0x369)][_0x3eba7b(0xa19)](this[_0x3eba7b(0x3c6)][_0x3eba7b(0x3a5)]),_0x2b0e9c=new _0x1e0931(this['configs'][_0x3eba7b(0x99b)],_0x15917d,this[_0x3eba7b(0x3c6)][_0x3eba7b(0x31a)],this[_0x3eba7b(0x3c6)][_0x3eba7b(0x8de)],_0x490567,_0x1f3959,_0x55622c);return this[_0x3eba7b(0x556)][_0x3eba7b(0x80a)](_0x15917d,_0x2b0e9c),this['configs'][_0x3eba7b(0x3a5)][_0x3eba7b(0x849)](_0x2b0e9c),_0x2b0e9c;}catch(_0x49b5c1){if(_0x49b5c1 instanceof _0x5df866)throw _0x49b5c1;throw new _0x3c9628(_0x3c9628[_0x3eba7b(0x994)][_0x3eba7b(0x7e0)],{'label':_0x15917d,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x3eba7b(0x3c6)][_0x3eba7b(0x8de)]});}}async[_0xdcbb79(0x703)](_0xd8ce13,_0x1424c6){const _0x4b401a=_0xdcbb79;if(this['jobDispatchers'][_0x4b401a(0x504)](_0xd8ce13))throw new _0x5df866(_0x29ef36['JobDispatcherAlreadyExists'],_0x4b401a(0xa48));try{const _0x2568a3=new _0x3beba2(this['configs'][_0x4b401a(0x99b)],_0xd8ce13,_0x1424c6);return this['jobDispatchers']['set'](_0xd8ce13,_0x2568a3),this[_0x4b401a(0x3c6)][_0x4b401a(0x3a5)][_0x4b401a(0x849)](_0x2568a3),_0x2568a3;}catch(_0x52af2f){if(_0x52af2f instanceof _0x5df866)throw _0x52af2f;throw new _0x3c9628(_0x3c9628[_0x4b401a(0x994)][_0x4b401a(0x86e)],{'label':_0xd8ce13,'clusterId':this[_0x4b401a(0x3c6)][_0x4b401a(0x31a)],'vendorId':this['configs'][_0x4b401a(0x8de)]});}}async['createGenerativeAIContext'](_0x346bba,_0x224298){const _0x244545=_0xdcbb79;if(this[_0x244545(0x920)][_0x244545(0x504)](_0x346bba))throw new _0x5df866(_0x29ef36[_0x244545(0xa57)],'AI\x20Service\x20already\x20exists');if(this[_0x244545(0xa06)][_0x244545(0x504)](_0x346bba))throw new _0x5df866(_0x29ef36[_0x244545(0x5db)],_0x244545(0x5d5));try{const _0x3c62d6=new _0x195873(this[_0x244545(0x3c6)][_0x244545(0x99b)],_0x346bba,this[_0x244545(0x3c6)][_0x244545(0x8de)],_0x224298);return this[_0x244545(0x920)]['set'](_0x346bba,_0x3c62d6),this[_0x244545(0x3c6)][_0x244545(0x3a5)][_0x244545(0x849)](_0x3c62d6),_0x3c62d6;}catch(_0x3e4569){if(_0x3e4569 instanceof _0x5df866)throw _0x3e4569;throw new _0x3c9628(_0x3c9628[_0x244545(0x994)]['GenerativeAIContextCreationFailed'],{'label':_0x346bba,'clusterId':this['configs'][_0x244545(0x31a)],'vendorId':this['configs'][_0x244545(0x8de)]});}}async[_0xdcbb79(0x4ae)](_0x2ad623,_0x29190f,_0x501fb9,_0x3e0a76,_0x2a58f6,_0x2aeea6){const _0x4c12e8=_0xdcbb79;if(this['jobWorkers'][_0x4c12e8(0x504)](_0x2ad623))throw new _0x5df866(_0x29ef36[_0x4c12e8(0xa26)],'AI\x20Worker\x20already\x20exists');if(this[_0x4c12e8(0x920)][_0x4c12e8(0x504)](_0x2ad623))throw new _0x5df866(_0x29ef36[_0x4c12e8(0x5db)],_0x4c12e8(0x5d5));try{const _0x10623b=new _0x180289(this[_0x4c12e8(0x3c6)]['localNode'],_0x2ad623,this[_0x4c12e8(0x3c6)][_0x4c12e8(0x8de)],_0x29190f,this,_0x501fb9,_0x3e0a76,_0x2a58f6,this[_0x4c12e8(0x32a)],_0x2aeea6);return this[_0x4c12e8(0xa06)]['set'](_0x2ad623,_0x10623b),this['configs'][_0x4c12e8(0x3a5)][_0x4c12e8(0x849)](_0x10623b),_0x10623b;}catch(_0x3b40e8){if(_0x3b40e8 instanceof _0x5df866)throw _0x3b40e8;throw new _0x3c9628(_0x3c9628[_0x4c12e8(0x994)][_0x4c12e8(0x412)],{'label':_0x2ad623,'clusterId':this[_0x4c12e8(0x3c6)][_0x4c12e8(0x31a)],'vendorId':this['configs']['vendorId']});}}[_0xdcbb79(0x358)](_0x2201a6,_0x5e3f3c){const _0x1dcbfe=_0xdcbb79;if(this[_0x1dcbfe(0x879)][_0x1dcbfe(0x504)](_0x2201a6))throw new _0x5df866(_0x29ef36['GraphDatabaseAlreadyExists'],_0x1dcbfe(0x8e9));try{const _0xff628=new _0x54cf6c(this['configs'][_0x1dcbfe(0x99b)],_0x2201a6,this['configs'][_0x1dcbfe(0x31a)],this['configs']['vendorId'],_0x5e3f3c);return this[_0x1dcbfe(0x879)]['set'](_0x2201a6,_0xff628),this[_0x1dcbfe(0x3c6)]['mediator'][_0x1dcbfe(0x849)](_0xff628),_0xff628;}catch(_0x28149c){if(_0x28149c instanceof _0x5df866)throw _0x28149c;throw new _0x3c9628(_0x3c9628['codes']['GraphDatabaseCreationFailed'],{'label':_0x2201a6,'clusterId':this['configs'][_0x1dcbfe(0x31a)],'vendorId':this[_0x1dcbfe(0x3c6)]['vendorId']});}}[_0xdcbb79(0x24d)](_0xb024a2,_0x65bd64){const _0x3be7e8=_0xdcbb79;if(this['localMediaStreams'][_0x3be7e8(0x504)](_0xb024a2))throw new _0x5df866(_0x29ef36['LocalMediaStreamAlreadyExists'],_0x3be7e8(0x6ba));if(!this[_0x3be7e8(0x581)]['audioContext'])throw new _0x5df866(_0x29ef36[_0x3be7e8(0x5a0)],_0x3be7e8(0x632));const _0x10e444=new _0x106fa1(this[_0x3be7e8(0x3c6)][_0x3be7e8(0x99b)],_0xb024a2,_0x65bd64,this[_0x3be7e8(0x581)]['maxFps'],this['options'][_0x3be7e8(0x84f)],this[_0x3be7e8(0x3c6)][_0x3be7e8(0x31a)]);return this[_0x3be7e8(0x659)][_0x3be7e8(0x80a)](_0xb024a2,_0x10e444),this[_0x3be7e8(0x3c6)]['mediator']['registerSystemSource'](_0x10e444),_0x10e444[_0x3be7e8(0x884)](),_0x10e444;}[_0xdcbb79(0x875)](_0x2295ab,_0x180386){const _0x3e9372=_0xdcbb79;if(this[_0x3e9372(0x659)][_0x3e9372(0x504)](_0x2295ab))throw new _0x5df866(_0x29ef36[_0x3e9372(0x520)],_0x3e9372(0x85c));const _0x478ebd=new _0x17b80f(this[_0x3e9372(0x3c6)][_0x3e9372(0x99b)],_0x2295ab,_0x180386,this[_0x3e9372(0x3c6)][_0x3e9372(0x31a)]);return this[_0x3e9372(0x659)][_0x3e9372(0x80a)](_0x2295ab,_0x478ebd),this[_0x3e9372(0x3c6)][_0x3e9372(0x3a5)][_0x3e9372(0x849)](_0x478ebd),_0x478ebd['publish'](),_0x478ebd;}[_0xdcbb79(0x7c8)](_0x317b59){const _0x5bfaa9=_0xdcbb79;if(this['pubSubTopics']['has'](_0x317b59))throw new _0x5df866(_0x29ef36['PubSubTopicAlreadyExists'],_0x5bfaa9(0x72e));const _0x4b7792=new _0x40ca05(this[_0x5bfaa9(0x3c6)]['localNode'],_0x317b59,this[_0x5bfaa9(0x3c6)][_0x5bfaa9(0x31a)]);return this[_0x5bfaa9(0x42c)][_0x5bfaa9(0x80a)](_0x317b59,_0x4b7792),this[_0x5bfaa9(0x3c6)][_0x5bfaa9(0x3a5)][_0x5bfaa9(0x849)](_0x4b7792),_0x4b7792;}[_0xdcbb79(0x4c1)](_0x595d01,_0x3c8dcb,_0x47f583,_0x15a25f){const _0x6df4bd=_0xdcbb79;this[_0x6df4bd(0x8fc)][_0x6df4bd(0x504)](_0x595d01)||this[_0x6df4bd(0x8fc)]['set'](_0x595d01,new Map());const _0x88039b=this[_0x6df4bd(0x8fc)][_0x6df4bd(0x3ee)](_0x595d01);if(_0x88039b['has'](_0x3c8dcb))throw new _0x5df866(_0x29ef36[_0x6df4bd(0x890)],_0x6df4bd(0x859));const _0x5a969d=new _0x4e822e(_0x595d01,'',''),_0x1a053e=new _0x3ecc25(this[_0x6df4bd(0x3c6)][_0x6df4bd(0x99b)],_0x5a969d,_0x3c8dcb,_0x47f583,_0x15a25f,this[_0x6df4bd(0x3c6)][_0x6df4bd(0x31a)]);return _0x88039b[_0x6df4bd(0x80a)](_0x3c8dcb,_0x1a053e),this[_0x6df4bd(0x3c6)][_0x6df4bd(0x3a5)][_0x6df4bd(0x849)](_0x1a053e),_0x1a053e;}[_0xdcbb79(0x3c0)](_0x2e8fa1,_0x410270){const _0x147d71=_0xdcbb79;if(this[_0x147d71(0x762)]['has'](_0x2e8fa1))throw new _0x5df866(_0x29ef36[_0x147d71(0x84a)],_0x147d71(0x8e9));try{const _0x661c81=new _0x5f3c1c(this['configs'][_0x147d71(0x99b)],_0x2e8fa1,this['configs'][_0x147d71(0x31a)],this[_0x147d71(0x3c6)][_0x147d71(0x8de)],_0x410270);return this[_0x147d71(0x762)][_0x147d71(0x80a)](_0x2e8fa1,_0x661c81),this['configs'][_0x147d71(0x3a5)][_0x147d71(0x849)](_0x661c81),_0x661c81;}catch(_0x59d8f3){if(_0x59d8f3 instanceof _0x5df866)throw _0x59d8f3;throw new _0x3c9628(_0x3c9628[_0x147d71(0x994)]['VectorDatabaseCreationFailed'],{'label':_0x2e8fa1,'clusterId':this[_0x147d71(0x3c6)][_0x147d71(0x31a)],'vendorId':this[_0x147d71(0x3c6)][_0x147d71(0x8de)]});}}[_0xdcbb79(0x5ff)](_0x7ce5fd){const _0x4d603f=_0xdcbb79,_0x213d89=Array[_0x4d603f(0x6dd)](this[_0x4d603f(0x637)][_0x4d603f(0x6c2)]());return _0x7ce5fd?_0x213d89['filter'](_0x7ce5fd):_0x213d89;}[_0xdcbb79(0x92f)](_0x1b209f){const _0x299b58=_0xdcbb79,_0x3d312f=Array[_0x299b58(0x6dd)](this['externalStorageConnections'][_0x299b58(0x6c2)]());return _0x1b209f?_0x3d312f[_0x299b58(0x4e9)](_0x1b209f):_0x3d312f;}[_0xdcbb79(0x6a0)](_0x1cbd3e){const _0x39e07d=_0xdcbb79,_0x4e8c8d=Array[_0x39e07d(0x6dd)](this['keyValueDatabases'][_0x39e07d(0x6c2)]());return _0x1cbd3e?_0x4e8c8d['filter'](_0x1cbd3e):_0x4e8c8d;}[_0xdcbb79(0xa5e)](_0x810600){const _0x2d9500=_0xdcbb79,_0x367ff0=Array[_0x2d9500(0x6dd)](this[_0x2d9500(0x920)][_0x2d9500(0x6c2)]());return _0x810600?_0x367ff0[_0x2d9500(0x4e9)](_0x810600):_0x367ff0;}[_0xdcbb79(0x7ae)](_0x55923f){const _0x46ae76=_0xdcbb79,_0x5ad865=Array[_0x46ae76(0x6dd)](this[_0x46ae76(0xa06)]['values']());return _0x55923f?_0x5ad865[_0x46ae76(0x4e9)](_0x55923f):_0x5ad865;}[_0xdcbb79(0x434)](_0x4a4ce1){const _0x92f2ca=_0xdcbb79,_0x9c8cf9=Array[_0x92f2ca(0x6dd)](this[_0x92f2ca(0x920)]['values']())['filter'](_0x3562dc=>_0x3562dc instanceof _0x195873);return _0x4a4ce1?_0x9c8cf9[_0x92f2ca(0x4e9)](_0x4a4ce1):_0x9c8cf9;}[_0xdcbb79(0x783)](_0x50fece){const _0x10f9dc=_0xdcbb79,_0x43bc5b=Array[_0x10f9dc(0x6dd)](this[_0x10f9dc(0xa06)]['values']())[_0x10f9dc(0x4e9)](_0x420fd8=>_0x420fd8 instanceof _0x180289);return _0x50fece?_0x43bc5b[_0x10f9dc(0x4e9)](_0x50fece):_0x43bc5b;}[_0xdcbb79(0x248)](_0x1776c9){const _0x5cc224=_0xdcbb79,_0x5b3923=Array[_0x5cc224(0x6dd)](this['graphDatabases'][_0x5cc224(0x6c2)]());return _0x1776c9?_0x5b3923[_0x5cc224(0x4e9)](_0x1776c9):_0x5b3923;}[_0xdcbb79(0x5dc)](_0x18a2d5){const _0x3f4a28=_0xdcbb79,_0x1bc966=Array[_0x3f4a28(0x6dd)](this[_0x3f4a28(0x659)][_0x3f4a28(0x6c2)]());return _0x18a2d5?_0x1bc966['filter'](_0x18a2d5):_0x1bc966;}[_0xdcbb79(0x6f1)](_0x5ef0ad){const _0x2889c4=_0xdcbb79,_0x39ca13=Array[_0x2889c4(0x6dd)](this[_0x2889c4(0x42c)][_0x2889c4(0x6c2)]());return _0x5ef0ad?_0x39ca13[_0x2889c4(0x4e9)](_0x5ef0ad):_0x39ca13;}[_0xdcbb79(0x317)](_0x2669fb){const _0x3746e5=_0xdcbb79,_0x1c1486=Array[_0x3746e5(0x6dd)](this[_0x3746e5(0x8fc)][_0x3746e5(0x6c2)]())['reduce']((_0x500249,_0x21c11e)=>[..._0x500249,...Array[_0x3746e5(0x6dd)](_0x21c11e[_0x3746e5(0x6c2)]())],[]);return _0x2669fb?_0x1c1486['filter'](_0x2669fb):_0x1c1486;}[_0xdcbb79(0x436)](_0x249e8f){const _0x2650a2=_0xdcbb79,_0x77cb23=Array[_0x2650a2(0x6dd)](this[_0x2650a2(0x762)][_0x2650a2(0x6c2)]());return _0x249e8f?_0x77cb23[_0x2650a2(0x4e9)](_0x249e8f):_0x77cb23;}[_0xdcbb79(0x1a5)](_0xc0bb56){const _0x586b04=_0xdcbb79,_0x1b3a04=this[_0x586b04(0x637)][_0x586b04(0x3ee)](_0xc0bb56);if(!_0x1b3a04)throw new _0x5df866(_0x29ef36[_0x586b04(0x5e6)],_0x586b04(0x492));return _0x1b3a04;}[_0xdcbb79(0x630)](_0xdb4698){const _0x15734d=_0xdcbb79,_0x585993=_0xdb4698[_0x15734d(0x470)]('-'),_0x5c419b=this[_0x15734d(0x370)][_0x15734d(0x3ee)](_0x585993[0x1]);if(!_0x5c419b)throw new _0x5df866(_0x29ef36[_0x15734d(0x351)],'ExternalStorageConnection\x20not\x20found');return _0x5c419b;}[_0xdcbb79(0x1eb)](_0x2b9972){const _0x3c0405=_0xdcbb79,_0xd49ba1=this[_0x3c0405(0x879)][_0x3c0405(0x3ee)](_0x2b9972);if(!_0xd49ba1)throw new _0x5df866(_0x29ef36['GraphDatabaseDoesNotExist'],_0x3c0405(0x81f));return _0xd49ba1;}['getKeyValueDatabase'](_0x5b7a1a){const _0x2f80e3=_0xdcbb79,_0x1587a0=this['keyValueDatabases']['get'](_0x5b7a1a);if(!_0x1587a0)throw new _0x5df866(_0x29ef36[_0x2f80e3(0x2ef)],'KeyValueDatabase\x20not\x20found');return _0x1587a0;}[_0xdcbb79(0x729)](_0x361f42){const _0x28f4cc=_0xdcbb79,_0x3014d3=this[_0x28f4cc(0x42c)][_0x28f4cc(0x3ee)](_0x361f42);if(!_0x3014d3)throw new _0x5df866(_0x29ef36[_0x28f4cc(0x460)],_0x28f4cc(0x855));return _0x3014d3;}[_0xdcbb79(0x461)](_0x863252){const _0x1d38d6=_0xdcbb79,_0x4a1b25=this[_0x1d38d6(0x762)][_0x1d38d6(0x3ee)](_0x863252);if(!_0x4a1b25)throw new _0x5df866(_0x29ef36['VectorDatabaseDoesNotExist'],_0x1d38d6(0x643));return _0x4a1b25;}['handleContentSystemEvents'](_0x31aace){const _0x5ccd6f=_0xdcbb79;switch(_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x8fa)]){case _0x31d4ec['PublishMediaStream']:this[_0x5ccd6f(0x891)](_0x31aace[_0x5ccd6f(0x7bd)]);break;case _0x31d4ec[_0x5ccd6f(0x29b)]:this[_0x5ccd6f(0x5d4)](_0x31aace['content']);break;case _0x31d4ec[_0x5ccd6f(0x540)]:this[_0x5ccd6f(0x98e)](_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x726)]);break;case _0x31d4ec[_0x5ccd6f(0x4dd)]:this[_0x5ccd6f(0x94a)](_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x726)]);break;case _0x31d4ec[_0x5ccd6f(0x99e)]:this[_0x5ccd6f(0x17e)](_0x31aace['content'][_0x5ccd6f(0x726)]);break;case _0x31d4ec[_0x5ccd6f(0x55d)]:this[_0x5ccd6f(0x187)](_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x726)]);break;case _0x31d4ec[_0x5ccd6f(0x885)]:this['removeObjectStore'](_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x726)]);break;case _0x31d4ec[_0x5ccd6f(0x207)]:this['removeExternalStorageConnection'](_0x31aace['content'][_0x5ccd6f(0x726)]);break;case _0x31d4ec[_0x5ccd6f(0x50c)]:this[_0x5ccd6f(0x583)](_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x726)]);break;case _0x31d4ec[_0x5ccd6f(0x2ca)]:this[_0x5ccd6f(0x76e)](_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x726)]);break;case _0x31d4ec[_0x5ccd6f(0x4a4)]:this[_0x5ccd6f(0x19b)](_0x31aace[_0x5ccd6f(0x7bd)]['label']);break;case _0x31d4ec[_0x5ccd6f(0x63b)]:this['handleContentUnsubscribeMediaStream'](_0x31aace[_0x5ccd6f(0x7bd)]);break;case _0x31d4ec[_0x5ccd6f(0x21d)]:this[_0x5ccd6f(0x556)]['get'](_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x726)])?.[_0x5ccd6f(0x748)](_0x31aace[_0x5ccd6f(0x742)],_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x590)]);break;case _0x31d4ec['KeyValueDatabaseContentSynchronized']:this['keyValueDatabases'][_0x5ccd6f(0x3ee)](_0x31aace['content']['label'])?.[_0x5ccd6f(0x8f6)](_0x31aace[_0x5ccd6f(0x742)],_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x590)]);break;case _0x31d4ec[_0x5ccd6f(0x67e)]:this['keyValueDatabases']['get'](_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x726)])?.[_0x5ccd6f(0x6a2)](_0x31aace[_0x5ccd6f(0x742)],_0x31aace['content'][_0x5ccd6f(0x297)]);break;case _0x31d4ec[_0x5ccd6f(0x944)]:this[_0x5ccd6f(0x556)][_0x5ccd6f(0x3ee)](_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x726)])?.[_0x5ccd6f(0xa5f)](_0x31aace[_0x5ccd6f(0x742)],_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x328)]);break;case _0x31d4ec['KeyValueDatabaseRequestTransactionsValue']:this[_0x5ccd6f(0x556)]['get'](_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x726)])?.[_0x5ccd6f(0x877)](_0x31aace[_0x5ccd6f(0x742)],_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x410)]);break;case _0x31d4ec['KeyValueDatabaseSendTransactions']:this[_0x5ccd6f(0x556)][_0x5ccd6f(0x3ee)](_0x31aace['content'][_0x5ccd6f(0x726)])?.[_0x5ccd6f(0x1f3)](_0x31aace['sourceId'],_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x228)]);break;case _0x31d4ec[_0x5ccd6f(0x9d1)]:this[_0x5ccd6f(0x3c6)][_0x5ccd6f(0x3a5)][_0x5ccd6f(0x200)](_0x5ccd6f(0x611),{'label':_0x31aace[_0x5ccd6f(0x7bd)]['label'],'trackKinds':_0x31aace[_0x5ccd6f(0x7bd)][_0x5ccd6f(0x5c3)]});}}[_0xdcbb79(0x74f)]({content:_0x555d43}){const _0x3f347a=_0xdcbb79;switch(_0x555d43[_0x3f347a(0x8fa)]){case _0x328d11[_0x3f347a(0x84d)]:this['handleNodeJoinNeedPublishedStream'](_0x555d43),this[_0x3f347a(0x449)](_0x555d43);break;case _0x328d11[_0x3f347a(0x1b4)]:this[_0x3f347a(0x991)](_0x555d43),this[_0x3f347a(0x7ac)](_0x555d43);}}[_0xdcbb79(0x43f)](_0x2dc57f){const _0x20249a=_0xdcbb79;switch(_0x2dc57f[_0x20249a(0x7bd)]['type']){case _0x1875b9[_0x20249a(0x41e)]:this[_0x20249a(0x55a)](_0x2dc57f[_0x20249a(0x742)],_0x2dc57f[_0x20249a(0x7bd)]);break;case _0x1875b9['UpdateMediaStream']:this[_0x20249a(0x438)](_0x2dc57f['sourceId'],_0x2dc57f[_0x20249a(0x7bd)]);break;case _0x1875b9[_0x20249a(0x63b)]:this[_0x20249a(0xa49)](_0x2dc57f['sourceId'],_0x2dc57f[_0x20249a(0x7bd)]);}}[_0xdcbb79(0x66e)](_0x198451){const _0x4d38a4=_0xdcbb79;if(0x0===_0x198451[_0x4d38a4(0x85f)])this[_0x4d38a4(0x8fc)][_0x4d38a4(0x3ee)](_0x198451[_0x4d38a4(0x381)])?.[_0x4d38a4(0x3ee)](_0x198451[_0x4d38a4(0x726)])?.['destroy']();else{const _0x32e4cd=this[_0x4d38a4(0x8fc)]['get'](_0x198451[_0x4d38a4(0x381)])?.['get'](_0x198451[_0x4d38a4(0x726)]);if(!_0x32e4cd)return;_0x198451['trackKinds'][_0x4d38a4(0x5f6)](_0x324982=>_0x32e4cd[_0x4d38a4(0x78f)](_0x324982));}}[_0xdcbb79(0x891)](_0xef1618){const _0x5d4da3=_0xdcbb79,{label:_0x457147,ownerId:_0x10e0ad,stream:{streamId:_0x32b52e,availableTrackKinds:_0x4fecc7}}=_0xef1618;if(this[_0x5d4da3(0x8fc)][_0x5d4da3(0x3ee)](_0x10e0ad)?.['has'](_0x457147))return void _0xbff73d[_0x5d4da3(0x198)](_0x1f75f2[_0x5d4da3(0x6cf)],_0x5d4da3(0x85c),_0x32b52e);const _0x5e979b=this['createRemoteMediaStream'](_0x10e0ad,_0x457147,_0x32b52e,_0x4fecc7);this['configs']['mediator']['notifyCluster'](_0x5d4da3(0x41b),{'ownerId':_0x10e0ad,'stream':_0x5e979b});}['handleUnpublishMediaStream']({ownerId:_0x31bf81,label:_0x4ec09f}){const _0x1ec67b=_0xdcbb79;this[_0x1ec67b(0x447)](_0x31bf81,_0x4ec09f),this['configs'][_0x1ec67b(0x3a5)]['notifyCluster'](_0x1ec67b(0x78d),{'ownerId':_0x31bf81,'label':_0x4ec09f});}['handleSubscribeMediaStream'](_0x5d3cdc,_0x549b9c){const _0x205295=_0xdcbb79,{ownerId:_0xce4299,label:_0xe061c6}=_0x549b9c;let _0x4882b6;_0x4882b6=_0xce4299!==this[_0x205295(0x3c6)][_0x205295(0x99b)][_0x205295(0xa10)]()?this[_0x205295(0x8fc)]['get'](_0xce4299)['get'](_0xe061c6):this[_0x205295(0x659)][_0x205295(0x3ee)](_0xe061c6),_0x4882b6[_0x205295(0x918)](_0x5d3cdc,_0x549b9c[_0x205295(0x48e)])[_0x205295(0x917)](_0x549b9c,_0x4882b6[_0x205295(0x235)]());}[_0xdcbb79(0x438)](_0x4253d2,_0x196fd4){const _0x487f9e=_0xdcbb79,{ownerId:_0x3335de,label:_0x223793}=_0x196fd4;let _0x3f6772;_0x3f6772=_0x3335de!==this[_0x487f9e(0x3c6)][_0x487f9e(0x99b)][_0x487f9e(0xa10)]()?this[_0x487f9e(0x8fc)][_0x487f9e(0x3ee)](_0x3335de)[_0x487f9e(0x3ee)](_0x223793):this[_0x487f9e(0x659)][_0x487f9e(0x3ee)](_0x223793),_0x3f6772[_0x487f9e(0x918)](_0x4253d2,_0x196fd4[_0x487f9e(0x48e)])[_0x487f9e(0x65d)](_0x196fd4);}[_0xdcbb79(0xa49)](_0x258697,_0x112905){const _0x20c765=_0xdcbb79,{ownerId:_0x1498bc,label:_0x2ef845}=_0x112905;let _0x528828;_0x528828=_0x1498bc!==this[_0x20c765(0x3c6)][_0x20c765(0x99b)]['getId']()?this['remoteMediaStreams'][_0x20c765(0x3ee)](_0x1498bc)[_0x20c765(0x3ee)](_0x2ef845):this[_0x20c765(0x659)][_0x20c765(0x3ee)](_0x2ef845),_0x528828[_0x20c765(0x918)](_0x258697)[_0x20c765(0x1aa)](_0x112905);}[_0xdcbb79(0x65e)]({id:_0x27fc02}){const _0x3a1b13=_0xdcbb79;this[_0x3a1b13(0x5dc)]()[_0x3a1b13(0x5f6)](_0x1af636=>{const _0x346934=_0x3a1b13;_0x1af636[_0x346934(0x884)](_0x27fc02);});}[_0xdcbb79(0x991)]({id:_0x4b1f73}){const _0xd2665f=_0xdcbb79;this[_0xd2665f(0x317)](_0x349d09=>_0x349d09[_0xd2665f(0xa37)]()===_0x4b1f73)[_0xd2665f(0x5f6)](_0x20f8a5=>{const _0x171483=_0xd2665f;this[_0x171483(0x447)](_0x20f8a5[_0x171483(0xa37)](),_0x20f8a5[_0x171483(0x7ed)]());});}[_0xdcbb79(0x449)]({id:_0x2bfa4a}){const _0x421ea6=_0xdcbb79;this[_0x421ea6(0x637)][_0x421ea6(0x5f6)](_0x3f2bbc=>_0x3f2bbc[_0x421ea6(0x491)](_0x2bfa4a));}[_0xdcbb79(0x7ac)]({id:_0x1e5106}){const _0x1675be=_0xdcbb79;this['objectStores']['forEach'](_0x3ea65d=>_0x3ea65d[_0x1675be(0x991)](_0x1e5106));}[_0xdcbb79(0x98e)](_0x5d7a75){const _0x2ea922=_0xdcbb79;if(!this[_0x2ea922(0x920)][_0x2ea922(0x504)](_0x5d7a75))throw new _0x5df866(_0x29ef36[_0x2ea922(0x982)],_0x2ea922(0x680));const _0x118dc0=this[_0x2ea922(0x920)][_0x2ea922(0x3ee)](_0x5d7a75);this[_0x2ea922(0x920)][_0x2ea922(0x652)](_0x5d7a75),_0x118dc0['destroy'](),this['configs'][_0x2ea922(0x3a5)][_0x2ea922(0x341)](_0x118dc0);}[_0xdcbb79(0x94a)](_0x17b22a){const _0x2664a7=_0xdcbb79;if(!this['jobWorkers'][_0x2664a7(0x504)](_0x17b22a))throw new _0x5df866(_0x29ef36[_0x2664a7(0x736)],_0x2664a7(0x4f9));const _0x3e0650=this['jobWorkers'][_0x2664a7(0x3ee)](_0x17b22a);this[_0x2664a7(0xa06)][_0x2664a7(0x652)](_0x17b22a),_0x3e0650['destroy'](),this[_0x2664a7(0x3c6)][_0x2664a7(0x3a5)][_0x2664a7(0x341)](_0x3e0650);}[_0xdcbb79(0x769)](_0x59ec73){const _0x33c9fb=_0xdcbb79;if(!this[_0x33c9fb(0x637)][_0x33c9fb(0x504)](_0x59ec73))throw new _0x5df866(_0x29ef36['ObjectStoreDoesNotExist'],_0x33c9fb(0x1c1));const _0x8799c7=this[_0x33c9fb(0x637)][_0x33c9fb(0x3ee)](_0x59ec73);this[_0x33c9fb(0x637)]['delete'](_0x59ec73),_0x8799c7[_0x33c9fb(0x4f6)](),this[_0x33c9fb(0x3c6)][_0x33c9fb(0x3a5)][_0x33c9fb(0x341)](_0x8799c7);}[_0xdcbb79(0x8eb)](_0x4dcffd){const _0x59389b=_0xdcbb79;if(!this['externalStorageConnections'][_0x59389b(0x504)](_0x4dcffd))throw new _0x5df866(_0x29ef36[_0x59389b(0x351)],_0x59389b(0x9ee));const _0x25388a=this[_0x59389b(0x370)]['get'](_0x4dcffd);this['externalStorageConnections'][_0x59389b(0x652)](_0x4dcffd),_0x25388a[_0x59389b(0x4f6)](),this[_0x59389b(0x3c6)][_0x59389b(0x3a5)][_0x59389b(0x341)](_0x25388a);}[_0xdcbb79(0x187)](_0x3c5594){const _0x3184f4=_0xdcbb79;if(!this[_0x3184f4(0x42c)][_0x3184f4(0x504)](_0x3c5594))throw new _0x5df866(_0x29ef36[_0x3184f4(0x460)],_0x3184f4(0x1c1));const _0x508524=this[_0x3184f4(0x42c)]['get'](_0x3c5594);this[_0x3184f4(0x42c)]['delete'](_0x3c5594),_0x508524[_0x3184f4(0x4f6)](),this[_0x3184f4(0x3c6)][_0x3184f4(0x3a5)]['unregisterSystemSource'](_0x508524);}[_0xdcbb79(0x583)](_0x1823b9){const _0x5fdd11=_0xdcbb79;if(!this['keyValueDatabases'][_0x5fdd11(0x504)](_0x1823b9))throw new _0x5df866(_0x29ef36[_0x5fdd11(0x2ef)],_0x5fdd11(0x293));const _0x1884a2=this[_0x5fdd11(0x556)][_0x5fdd11(0x3ee)](_0x1823b9);this['keyValueDatabases'][_0x5fdd11(0x652)](_0x1823b9),_0x1884a2[_0x5fdd11(0x4f6)](),this[_0x5fdd11(0x3c6)]['mediator'][_0x5fdd11(0x341)](_0x1884a2);}['removeVectorDatabase'](_0x2bdb31){const _0x213cba=_0xdcbb79;if(!this['vectorDatabases'][_0x213cba(0x504)](_0x2bdb31))throw new _0x5df866(_0x29ef36[_0x213cba(0x6b7)],_0x213cba(0x293));const _0x27d7c9=this['vectorDatabases'][_0x213cba(0x3ee)](_0x2bdb31);this[_0x213cba(0x762)][_0x213cba(0x652)](_0x2bdb31),_0x27d7c9[_0x213cba(0x4f6)](),this[_0x213cba(0x3c6)][_0x213cba(0x3a5)][_0x213cba(0x341)](_0x27d7c9);}[_0xdcbb79(0x19b)](_0x5babf5){const _0x21bb53=_0xdcbb79;if(!this[_0x21bb53(0x879)]['has'](_0x5babf5))throw new _0x5df866(_0x29ef36[_0x21bb53(0xa2c)],_0x21bb53(0x293));const _0x30a763=this['graphDatabases'][_0x21bb53(0x3ee)](_0x5babf5);this['graphDatabases'][_0x21bb53(0x652)](_0x5babf5),_0x30a763[_0x21bb53(0x4f6)](),this[_0x21bb53(0x3c6)][_0x21bb53(0x3a5)]['unregisterSystemSource'](_0x30a763);}[_0xdcbb79(0x17e)](_0x552df9){const _0x45740b=_0xdcbb79;if(!this['localMediaStreams'][_0x45740b(0x504)](_0x552df9))throw new _0x3c9628(_0x3c9628[_0x45740b(0x994)][_0x45740b(0x1a6)],{'label':_0x552df9,'localId':this['configs']['localNode'][_0x45740b(0xa10)]()});const _0x3c47fa=this[_0x45740b(0x659)][_0x45740b(0x3ee)](_0x552df9);this[_0x45740b(0x3c6)][_0x45740b(0x3a5)][_0x45740b(0x341)](_0x3c47fa),_0x3c47fa[_0x45740b(0x4f6)](),this['localMediaStreams'][_0x45740b(0x652)](_0x552df9);}[_0xdcbb79(0x447)](_0xb695f,_0x270266){const _0x765ec4=_0xdcbb79;if(!this[_0x765ec4(0x8fc)]['has'](_0xb695f))throw new _0x3c9628(_0x3c9628[_0x765ec4(0x994)]['NodeDoesNotExist'],{'nodeId':_0xb695f,'localId':this[_0x765ec4(0x3c6)][_0x765ec4(0x99b)][_0x765ec4(0xa10)]()});const _0x59ba0d=this[_0x765ec4(0x8fc)][_0x765ec4(0x3ee)](_0xb695f);if(!_0x59ba0d['has'](_0x270266))throw new _0x3c9628(_0x3c9628[_0x765ec4(0x994)][_0x765ec4(0x4a7)],{'nodeId':_0xb695f,'label':_0x270266,'localId':this[_0x765ec4(0x3c6)][_0x765ec4(0x99b)][_0x765ec4(0xa10)]()});const _0x3eb0f5=_0x59ba0d['get'](_0x270266);this[_0x765ec4(0x3c6)][_0x765ec4(0x3a5)][_0x765ec4(0x341)](_0x3eb0f5),_0x3eb0f5[_0x765ec4(0x4f6)](),_0x59ba0d['delete'](_0x270266);}}var _0x455670,_0x1f4bc3,_0x17170c;!function(_0x4c2d8b){const _0x24ac1b=_0xdcbb79;_0x4c2d8b[_0x24ac1b(0x587)]=_0x24ac1b(0x826),_0x4c2d8b[_0x24ac1b(0x997)]=_0x24ac1b(0x8aa),_0x4c2d8b['TimePerFrame']=_0x24ac1b(0x3fb),_0x4c2d8b[_0x24ac1b(0x654)]='bitrate',_0x4c2d8b[_0x24ac1b(0x6b8)]=_0x24ac1b(0x6a4),_0x4c2d8b[_0x24ac1b(0x679)]=_0x24ac1b(0x863),_0x4c2d8b[_0x24ac1b(0x986)]=_0x24ac1b(0x211),_0x4c2d8b[_0x24ac1b(0x794)]=_0x24ac1b(0x765);}(_0x455670||(_0x455670={})),function(_0x4ee54b){const _0x200526=_0xdcbb79;_0x4ee54b[_0x200526(0x1f1)]=_0x200526(0x788),_0x4ee54b[_0x200526(0x4ca)]='cpu.time_per_frame',_0x4ee54b[_0x200526(0x794)]=_0x200526(0x483),_0x4ee54b[_0x200526(0x679)]=_0x200526(0x59c),_0x4ee54b[_0x200526(0x654)]=_0x200526(0x2f4),_0x4ee54b[_0x200526(0x6b8)]=_0x200526(0x558),_0x4ee54b['RoundTripTime']=_0x200526(0x990);}(_0x1f4bc3||(_0x1f4bc3={})),function(_0x353498){const _0x333483=_0xdcbb79;_0x353498[_0x353498[_0x333483(0x3b2)]=0x0]=_0x333483(0x3b2);}(_0x17170c||(_0x17170c={}));const _0x736fb5=[{'type':_0x455670['STVolatility'],'reportMetric':_0x5ac29e=>_0x5ac29e[_0xdcbb79(0x587)],'maxThreshold':2.5},{'type':_0x455670['DTVolatility'],'reportMetric':_0x35a99e=>_0x35a99e[_0xdcbb79(0x997)],'maxThreshold':0.5}],_0xada8f1=[{'type':_0x455670[_0xdcbb79(0x4ca)],'reportMetric':_0x2913c1=>{const _0x11ff4c=_0xdcbb79,_0x11849f=0x3e8/_0x2913c1[_0x11ff4c(0x25d)];return _0x2913c1['timePerFrame']/_0x11849f;},'maxThreshold':0.75},{'type':_0x455670[_0xdcbb79(0x654)],'reportMetric':_0x3a4d9d=>{const _0x54172c=_0xdcbb79,_0x7ec81a=_0x3a4d9d[_0x54172c(0x25d)]*_0x3a4d9d[_0x54172c(0x7a6)]*_0x3a4d9d[_0x54172c(0x989)]*0.12;return _0x3a4d9d[_0x54172c(0x276)]/_0x7ec81a;},'minThreshold':0.25},{'type':_0x455670[_0xdcbb79(0x6b8)],'reportMetric':_0x4e20ef=>_0x4e20ef['jitter'],'maxThreshold':0.6},{'type':_0x455670[_0xdcbb79(0x679)],'reportMetric':_0x3af53a=>_0x3af53a[_0xdcbb79(0x25d)],'minThreshold':0xa}],_0x2f0223=[{'type':_0x455670['Jitter'],'reportMetric':_0x434ec2=>_0x434ec2[_0xdcbb79(0x6a4)],'maxThreshold':0.6}],_0x1efab7=[{'type':_0x455670[_0xdcbb79(0x986)],'reportMetric':_0x358ac3=>_0x358ac3[_0xdcbb79(0x747)],'maxThreshold':0x1/0x0}],_0x52d23b=[{'type':_0x455670[_0xdcbb79(0x794)],'reportMetric':_0x1704f5=>_0x1704f5[_0xdcbb79(0x794)],'maxThreshold':0x12c}],_0x514c2b=[{'type':_0x1f4bc3[_0xdcbb79(0x1f1)],'issues':[{'type':_0x455670['STVolatility'],'threshold':0x5},{'type':_0x455670[_0xdcbb79(0x997)],'threshold':0x5}]},{'type':_0x1f4bc3[_0xdcbb79(0x4ca)],'issues':[{'type':_0x455670[_0xdcbb79(0x4ca)],'threshold':0x3}]},{'type':_0x1f4bc3[_0xdcbb79(0x794)],'issues':[{'type':_0x455670['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x1f4bc3['FramePerSecond'],'issues':[{'type':_0x455670['FramePerSecond'],'threshold':0x3}]},{'type':_0x1f4bc3['Bitrate'],'issues':[{'type':_0x455670[_0xdcbb79(0x654)],'threshold':0x3}]},{'type':_0x1f4bc3[_0xdcbb79(0x6b8)],'issues':[{'type':_0x455670[_0xdcbb79(0x6b8)],'threshold':0x3}]},{'type':_0x1f4bc3['RoundTripTime'],'issues':[{'type':_0x455670[_0xdcbb79(0x986)],'threshold':0x3}]}];var _0x5c830e,_0x330c5d;!function(_0x41feb4){const _0x24a631=_0xdcbb79;_0x41feb4[_0x41feb4[_0x24a631(0x2cc)]=0x0]=_0x24a631(0x2cc),_0x41feb4[_0x41feb4[_0x24a631(0x512)]=0x1]=_0x24a631(0x512);}(_0x5c830e||(_0x5c830e={}));class _0x43be3d{['configs'];[_0xdcbb79(0x88b)]=[];[_0xdcbb79(0x5df)];constructor(_0x4e3dd8){const _0x6dfad4=_0xdcbb79;this[_0x6dfad4(0x3c6)]=_0x4e3dd8,this[_0x6dfad4(0x3c6)]['mediator'][_0x6dfad4(0x849)](this);}[_0xdcbb79(0x724)](_0x17804b){const _0x2c62aa=_0xdcbb79;this[_0x2c62aa(0x5df)]=_0x17804b;}[_0xdcbb79(0x1c8)](){const _0x586b8e=_0xdcbb79;this[_0x586b8e(0x5df)]=void 0x0;}[_0xdcbb79(0x3d8)](){const _0x44196d=_0xdcbb79;this[_0x44196d(0x3c6)][_0x44196d(0x3a5)][_0x44196d(0x341)](this),this['issues']=[];}[_0xdcbb79(0x4d1)](_0x21749a){const _0x293078=_0xdcbb79;switch(_0x21749a[_0x293078(0x7bd)][_0x293078(0x8fa)]){case _0x5c830e[_0x293078(0x512)]:this[_0x293078(0x6e3)](_0x21749a[_0x293078(0x7bd)][_0x293078(0x78e)]);break;case _0x5c830e[_0x293078(0x2cc)]:this['detectStreamIssues'](_0x21749a['content'][_0x293078(0x78e)]);}}[_0xdcbb79(0x57e)](_0x45b88c,_0xb2d266,_0x1cf659,_0x5b87a5){const _0x17fd4b=_0xdcbb79,_0x57746e=_0x514c2b[_0x17fd4b(0x39d)](_0x1e3cd0=>_0x1e3cd0[_0x17fd4b(0x88b)][_0x17fd4b(0x692)](_0x219af4=>_0x219af4[_0x17fd4b(0x8fa)]===_0x45b88c));_0x5b87a5>=_0x57746e[_0x17fd4b(0x88b)][_0x17fd4b(0x39d)](_0xcb495d=>_0xcb495d[_0x17fd4b(0x8fa)]===_0x45b88c)['threshold']&&(this['addProblem'](_0x57746e[_0x17fd4b(0x8fa)],_0xb2d266,_0x1cf659),this['issues']=this[_0x17fd4b(0x88b)][_0x17fd4b(0x4e9)](_0x51cffc=>!(_0x51cffc[_0x17fd4b(0x8fa)]===_0x45b88c&&_0x51cffc['nodeId']===_0xb2d266&&_0x51cffc[_0x17fd4b(0x5f8)]===_0x1cf659)));}[_0xdcbb79(0x6e3)](_0xf4f6df){const _0x153fe6=_0xdcbb79;_0x736fb5[_0x153fe6(0x5f6)](_0x4961c6=>{const _0x25e578=_0x153fe6,_0x4de361=_0x4961c6[_0x25e578(0x73e)](_0xf4f6df);_0x4961c6[_0x25e578(0xa1c)]&&_0x4de361>_0x4961c6[_0x25e578(0xa1c)]&&this['addIssue'](_0x4961c6[_0x25e578(0x8fa)],this['configs']['localNode'][_0x25e578(0xa10)](),_0x54ce26['Sender'],_0x4de361),_0x4961c6['minThreshold']&&_0x4de361<_0x4961c6['minThreshold']&&this[_0x25e578(0x74e)](_0x4961c6['type'],this[_0x25e578(0x3c6)][_0x25e578(0x99b)][_0x25e578(0xa10)](),_0x54ce26[_0x25e578(0x6bd)],_0x4de361);});}[_0xdcbb79(0x919)](_0x26a8e9){const _0x49c30a=_0xdcbb79;let _0x2f7032=[];switch(_0x26a8e9['origin']){case _0x54ce26[_0x49c30a(0x6bd)]:_0x2f7032=_0x1efab7;break;case _0x54ce26[_0x49c30a(0x3f5)]:_0x2f7032=_0x52d23b;}_0x26a8e9[_0x49c30a(0x72f)]&&this[_0x49c30a(0x309)](_0x26a8e9[_0x49c30a(0x6c8)],_0x54ce26[_0x49c30a(0x6bd)],_0x26a8e9[_0x49c30a(0x72f)]),_0x26a8e9[_0x49c30a(0x82e)]&&this[_0x49c30a(0x441)](_0x26a8e9[_0x49c30a(0x6c8)],_0x54ce26[_0x49c30a(0x6bd)],_0x26a8e9[_0x49c30a(0x82e)]),_0x2f7032[_0x49c30a(0x5f6)](_0x203d35=>{const _0x47d2cd=_0x49c30a,_0x212c30=_0x203d35[_0x47d2cd(0x73e)](_0x26a8e9);_0x203d35['maxThreshold']&&_0x212c30>_0x203d35['maxThreshold']&&this[_0x47d2cd(0x74e)](_0x203d35[_0x47d2cd(0x8fa)],_0x26a8e9[_0x47d2cd(0x6c8)],_0x54ce26[_0x47d2cd(0x6bd)],_0x212c30),_0x203d35[_0x47d2cd(0x93f)]&&_0x212c30<_0x203d35[_0x47d2cd(0x93f)]&&this[_0x47d2cd(0x74e)](_0x203d35[_0x47d2cd(0x8fa)],_0x26a8e9[_0x47d2cd(0x6c8)],_0x54ce26[_0x47d2cd(0x6bd)],_0x212c30);});}['detectVideoIssues'](_0x23bfb4,_0x27ffc8,_0xb3e343){const _0x5393b9=_0xdcbb79;0x0!==_0xb3e343[_0x5393b9(0x276)]&&_0xada8f1[_0x5393b9(0x5f6)](_0x407251=>{const _0x10b802=_0x5393b9,_0x204046=_0x407251[_0x10b802(0x73e)](_0xb3e343);_0x407251['maxThreshold']&&_0x204046>_0x407251[_0x10b802(0xa1c)]&&this[_0x10b802(0x74e)](_0x407251['type'],_0x23bfb4,_0x27ffc8,_0x204046,'video'),_0x407251[_0x10b802(0x93f)]&&_0x204046<_0x407251['minThreshold']&&this['addIssue'](_0x407251[_0x10b802(0x8fa)],_0x23bfb4,_0x27ffc8,_0x204046,_0x10b802(0x72f));});}[_0xdcbb79(0x441)](_0x43b415,_0xc826,_0x127836){const _0x3afbf9=_0xdcbb79;0x0!==_0x127836[_0x3afbf9(0x276)]&&_0x2f0223['forEach'](_0x3e96ce=>{const _0x186708=_0x3afbf9,_0x3f330e=_0x3e96ce['reportMetric'](_0x127836);_0x3e96ce[_0x186708(0xa1c)]&&_0x3f330e>_0x3e96ce[_0x186708(0xa1c)]&&this['addIssue'](_0x3e96ce[_0x186708(0x8fa)],_0x43b415,_0xc826,_0x3f330e,'audio'),_0x3e96ce[_0x186708(0x93f)]&&_0x3f330e<_0x3e96ce['minThreshold']&&this[_0x186708(0x74e)](_0x3e96ce[_0x186708(0x8fa)],_0x43b415,_0xc826,_0x3f330e,_0x186708(0x82e));});}['addIssue'](_0x54ed12,_0x114713,_0x22014d,_0x8649bd,_0x3b06e8){const _0x34c855=_0xdcbb79;_0xbff73d[_0x34c855(0x198)](_0x1f75f2['Detection'],_0x34c855(0x5c8)+_0x54ed12,_0x54ed12,_0x8649bd),_0xbff73d[_0x34c855(0x265)]('issue',{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x34c855(0x3c6)][_0x34c855(0x99b)][_0x34c855(0xa10)](),'nodeType':this[_0x34c855(0x3c6)][_0x34c855(0x99b)][_0x34c855(0x8fa)],'remoteId':_0x114713,'data':{'type':_0x54ed12,'value':_0x8649bd,'kind':_0x3b06e8}}),this[_0x34c855(0x88b)]=this[_0x34c855(0x88b)][_0x34c855(0x4e9)](_0x1fbcf6=>Date[_0x34c855(0x667)]()-_0x1fbcf6[_0x34c855(0x553)]<0x7530),this[_0x34c855(0x88b)]['push']({'timestamp':Date[_0x34c855(0x667)](),'type':_0x54ed12,'nodeId':_0x114713,'origin':_0x22014d,'value':_0x8649bd,'kind':_0x3b06e8});const _0x19a6d5=this['issues']['filter'](_0x351c44=>_0x351c44[_0x34c855(0x8fa)]===_0x54ed12&&_0x351c44[_0x34c855(0x6c8)]===_0x114713&&_0x351c44[_0x34c855(0x5f8)]===_0x22014d)[_0x34c855(0x454)];this[_0x34c855(0x57e)](_0x54ed12,_0x114713,_0x22014d,_0x19a6d5);}[_0xdcbb79(0x9f5)](_0x430934,_0x3d048a,_0x59aced){const _0x2fd54c=_0xdcbb79;_0xbff73d[_0x2fd54c(0x198)](_0x1f75f2[_0x2fd54c(0x681)],_0x2fd54c(0x69a)+_0x430934),_0xbff73d[_0x2fd54c(0x265)]('problem',{'clusterId':this['configs'][_0x2fd54c(0x31a)],'nodeId':this[_0x2fd54c(0x3c6)][_0x2fd54c(0x99b)]['getId'](),'nodeType':this['configs'][_0x2fd54c(0x99b)]['type'],'remoteId':_0x3d048a,'data':{'type':_0x430934}}),this['systemTopic']?.[_0x2fd54c(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632['Detection'],'content':{'type':_0x17170c[_0x2fd54c(0x3b2)],'data':{'timestamp':Date[_0x2fd54c(0x667)](),'nodeId':_0x3d048a,'origin':_0x54ce26[_0x2fd54c(0x6bd)],'type':_0x430934}}});}}class _0x8799a7 extends _0x20a0ec{[_0xdcbb79(0x8fa)]=_0x410512[_0xdcbb79(0xa72)]['Agent'];}class _0xd1d183 extends _0x8799a7{[_0xdcbb79(0x5df)];[_0xdcbb79(0x8f4)]=Date['now']();[_0xdcbb79(0x422)];[_0xdcbb79(0x968)];[_0xdcbb79(0x3d8)](){const _0x479662=_0xdcbb79;this[_0x479662(0x422)]&&(clearTimeout(this[_0x479662(0x422)]),delete this[_0x479662(0x422)]),delete this['lastUpdated'],this['currentVersion']=Date['now'](),super['close']();}[_0xdcbb79(0x724)](_0x26219d){const _0x58029c=_0xdcbb79;this[_0x58029c(0x5df)]=_0x26219d;}[_0xdcbb79(0x1c8)](){const _0x4ed720=_0xdcbb79;delete this[_0x4ed720(0x5df)];}[_0xdcbb79(0x8fe)](_0x377e82){const _0xad7454=_0xdcbb79;!this[_0xad7454(0x422)]&&this['rank']&&this['systemTopic'][_0xad7454(0x884)]({'sourceId':this['id'],'destinationIds':[_0x377e82],'propagate':!0x0,'messageType':_0x447632[_0xad7454(0x285)],'content':{'type':_0x328d11[_0xad7454(0x5bd)],'id':this['id'],'metaData':{'type':this[_0xad7454(0x8fa)]},'rank':this[_0xad7454(0x252)](),'remoteConnections':Array['from'](this[_0xad7454(0x824)]),'version':this[_0xad7454(0x8f4)]}});}[_0xdcbb79(0x503)](_0x1cfb81){const _0x4af10e=_0xdcbb79;this['remoteConnections'][_0x4af10e(0x504)](_0x1cfb81)||(this['remoteConnections']['add'](_0x1cfb81),this[_0x4af10e(0x97c)](),this['publishUserUpdate'](!0x0));}['removeRemoteConnection'](_0x322d77){const _0x40f67c=_0xdcbb79;this[_0x40f67c(0x824)]['has'](_0x322d77)&&(this['remoteConnections'][_0x40f67c(0x652)](_0x322d77),this[_0x40f67c(0x97c)](),this[_0x40f67c(0x1e7)](!0x0));}[_0xdcbb79(0x37e)](){const _0x3702a4=_0xdcbb79;return this[_0x3702a4(0x8f4)];}[_0xdcbb79(0x5d7)](_0x15792f,_0xf99c63=!0x0){const _0x1b53d2=_0xdcbb79;this[_0x1b53d2(0x19e)]!==_0x15792f&&(this[_0x1b53d2(0x19e)]=_0x15792f,_0xf99c63&&(this[_0x1b53d2(0x97c)](),this[_0x1b53d2(0x1e7)]()));}[_0xdcbb79(0x97c)](){const _0x4d7c11=_0xdcbb79;this[_0x4d7c11(0x8f4)]=Date[_0x4d7c11(0x667)]();}[_0xdcbb79(0x1e7)](_0x47c84a=!0x1){const _0x1adc96=_0xdcbb79;if(this[_0x1adc96(0x19e)]){if(this['lastUpdated']||(this[_0x1adc96(0x968)]=Date[_0x1adc96(0x667)]()),this[_0x1adc96(0x422)]){if(Date[_0x1adc96(0x667)]()-this[_0x1adc96(0x968)]>0x2328)return;clearTimeout(this[_0x1adc96(0x422)]);}this[_0x1adc96(0x422)]=setTimeout(()=>{const _0x191aa3=_0x1adc96;delete this[_0x191aa3(0x968)],delete this[_0x191aa3(0x422)],this['systemTopic'][_0x191aa3(0x884)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x447632[_0x191aa3(0x285)],'content':{'type':_0x47c84a?_0x328d11[_0x191aa3(0x20c)]:_0x328d11[_0x191aa3(0x5bd)],'id':this['id'],'metaData':{'type':this[_0x191aa3(0x8fa)]},'rank':this[_0x191aa3(0x252)](),'remoteConnections':Array[_0x191aa3(0x6dd)](this[_0x191aa3(0x824)]),'version':this[_0x191aa3(0x8f4)]}});},0x3e8);}}}class _0x1a5229 extends _0x4e822e{[_0xdcbb79(0x5df)];['currentVersion']=Date[_0xdcbb79(0x667)]();[_0xdcbb79(0x422)];[_0xdcbb79(0x968)];[_0xdcbb79(0x3d8)](){const _0x16a85d=_0xdcbb79;this[_0x16a85d(0x422)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x16a85d(0x422)]),delete this[_0x16a85d(0x968)],this['currentVersion']=Date[_0x16a85d(0x667)](),super['close']();}[_0xdcbb79(0x724)](_0x34bd8c){this['systemTopic']=_0x34bd8c;}[_0xdcbb79(0x1c8)](){const _0x20a0a5=_0xdcbb79;delete this[_0x20a0a5(0x5df)];}[_0xdcbb79(0x8fe)](_0x470640){const _0x533f5d=_0xdcbb79;!this[_0x533f5d(0x422)]&&this['rank']&&this[_0x533f5d(0x5df)][_0x533f5d(0x884)]({'sourceId':this['id'],'destinationIds':[_0x470640],'propagate':!0x0,'messageType':_0x447632[_0x533f5d(0x285)],'content':{'type':_0x328d11['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x533f5d(0x8fa)],'displayName':this[_0x533f5d(0xa34)](),'email':this[_0x533f5d(0x33a)]()},'rank':this[_0x533f5d(0x252)](),'remoteConnections':Array['from'](this[_0x533f5d(0x824)]),'version':this[_0x533f5d(0x8f4)]}});}['addRemoteConnection'](_0x47fffd){const _0xfe53c5=_0xdcbb79;this[_0xfe53c5(0x824)][_0xfe53c5(0x504)](_0x47fffd)||(this[_0xfe53c5(0x824)][_0xfe53c5(0x164)](_0x47fffd),this[_0xfe53c5(0x97c)](),this['publishUserUpdate'](!0x0));}[_0xdcbb79(0x3c2)](_0x228d96){const _0x1e0dbd=_0xdcbb79;this[_0x1e0dbd(0x824)][_0x1e0dbd(0x504)](_0x228d96)&&(this[_0x1e0dbd(0x824)][_0x1e0dbd(0x652)](_0x228d96),this['incrementVersion'](),this[_0x1e0dbd(0x1e7)](!0x0));}[_0xdcbb79(0x37e)](){const _0x51ac06=_0xdcbb79;return this[_0x51ac06(0x8f4)];}[_0xdcbb79(0x63d)](_0x38461b){const _0x5a81e6=_0xdcbb79;this['displayName']!==_0x38461b&&(this[_0x5a81e6(0x876)]=_0x38461b,this[_0x5a81e6(0x97c)](),this[_0x5a81e6(0x1e7)]());}['setEmail'](_0x107822){const _0x133a80=_0xdcbb79;this[_0x133a80(0x5d2)]!==_0x107822&&(this[_0x133a80(0x5d2)]=_0x107822,this[_0x133a80(0x97c)](),this['publishUserUpdate']());}[_0xdcbb79(0x5d7)](_0x2747dd,_0x4dc2c3=!0x0){const _0x452e2d=_0xdcbb79;this[_0x452e2d(0x19e)]!==_0x2747dd&&(this['rank']=_0x2747dd,_0x4dc2c3&&(this[_0x452e2d(0x97c)](),this['publishUserUpdate']()));}[_0xdcbb79(0x97c)](){const _0x28947f=_0xdcbb79;this[_0x28947f(0x8f4)]=Date[_0x28947f(0x667)]();}['publishUserUpdate'](_0x34688e=!0x1){const _0x477971=_0xdcbb79;if(this[_0x477971(0x19e)]){if(this[_0x477971(0x968)]||(this[_0x477971(0x968)]=Date[_0x477971(0x667)]()),this['updateDebounceTimeout']){if(Date[_0x477971(0x667)]()-this[_0x477971(0x968)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x477971(0x422)]=setTimeout(()=>{const _0x4229e6=_0x477971;delete this[_0x4229e6(0x968)],delete this['updateDebounceTimeout'],this['systemTopic'][_0x4229e6(0x884)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x447632[_0x4229e6(0x285)],'content':{'type':_0x34688e?_0x328d11['NodeConnectionsUpdate']:_0x328d11[_0x4229e6(0x5bd)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x4229e6(0xa34)](),'email':this[_0x4229e6(0x33a)]()},'rank':this[_0x4229e6(0x252)](),'remoteConnections':Array[_0x4229e6(0x6dd)](this[_0x4229e6(0x824)]),'version':this[_0x4229e6(0x8f4)]}});},0x3e8);}}}class _0x3c4d41{['id'];[_0xdcbb79(0x471)];[_0xdcbb79(0x8de)];[_0xdcbb79(0x7da)];[_0xdcbb79(0x8fa)]=_0x410512[_0xdcbb79(0xa72)][_0xdcbb79(0x963)];[_0xdcbb79(0x1a2)];constructor(_0x29fbea,_0x2d7845,_0x567e02,_0x34d13e){const _0x163f16=_0xdcbb79;this['id']=_0x29fbea,this[_0x163f16(0x471)]=_0x2d7845,this['vendorId']=_0x567e02,this['agentConfig']=_0x34d13e;}[_0xdcbb79(0xa10)](){return this['id'];}[_0xdcbb79(0x1d1)](_0x23d535){const _0x401678=_0xdcbb79,_0x1cf166=(0x0,_0x34d3c5['onSnapshot'])((0x0,_0x34d3c5[_0x401678(0x6c3)])(_0x35c568[_0x401678(0x152)](),_0x401678(0x693)+this['vendorId']+_0x401678(0x606)+this['groupId']),_0x1aeb92=>{const _0x503d9b=_0x401678;if(_0x1aeb92[_0x503d9b(0x547)]()){const _0x1d2cf8=_0x1aeb92[_0x503d9b(0x78e)]();if(this[_0x503d9b(0x7da)][_0x503d9b(0x553)][_0x503d9b(0x8bf)](_0x1d2cf8['timestamp']))return;_0xbff73d[_0x503d9b(0x198)](_0x1f75f2[_0x503d9b(0x285)],_0x503d9b(0x419),{'agentId':this['id'],'groupId':this[_0x503d9b(0x471)],'oldConfig':this['agentConfig'],'newConfig':_0x1d2cf8}),this['agentConfig']=_0x1d2cf8,_0x23d535();}});return()=>_0x1cf166();}[_0xdcbb79(0x280)](_0x3b33e9){const _0x5ed95f=_0xdcbb79;return this[_0x5ed95f(0x619)](this[_0x5ed95f(0x471)],_0x3b33e9),_0x4f45f0['setInterval'](()=>this[_0x5ed95f(0x619)](this[_0x5ed95f(0x471)],_0x3b33e9),0x7530);}[_0xdcbb79(0x7a1)](){const _0x1f60c2=_0xdcbb79;if(!this[_0x1f60c2(0x1a2)])throw new _0x3c9628(_0x3c9628[_0x1f60c2(0x994)][_0x1f60c2(0x3e9)]);return this['lastCapacityReport'];}async[_0xdcbb79(0x619)](_0x29d3a7,_0x28009d){const _0x134eee=_0xdcbb79,_0x18586=await _0x28009d();this['lastCapacityReport']=_0x18586,await(0x0,_0x34d3c5[_0x134eee(0x943)])((0x0,_0x34d3c5[_0x134eee(0x4d2)])(_0x35c568[_0x134eee(0x152)](),_0x134eee(0x693)+this[_0x134eee(0x8de)]+'/capacities'),{'agentId':this['id'],'groupId':_0x29d3a7,'timestamp':(0x0,_0x34d3c5['serverTimestamp'])(),'capacity':_0x18586});}}!function(_0x430f40){const _0x1d0b3a=_0xdcbb79;_0x430f40[_0x430f40[_0x1d0b3a(0x462)]=0x0]=_0x1d0b3a(0x462),_0x430f40[_0x430f40['Offline']=0x1]=_0x1d0b3a(0x2c6);}(_0x330c5d||(_0x330c5d={}));class _0x4fd8a5 extends _0x8799a7{[_0xdcbb79(0x8f4)];[_0xdcbb79(0x6e0)]=_0x330c5d['Online'];[_0xdcbb79(0x968)]=Date[_0xdcbb79(0x667)]();constructor(_0x5e8429,_0x583518=new Set(),_0x230251,_0x41b5e1){super(_0x5e8429,_0x583518,_0x41b5e1),this['currentVersion']=_0x230251;}['getCurrentVersion'](){return this['currentVersion'];}['getStatus'](){return this['status'];}[_0xdcbb79(0x7ee)](){return this['lastUpdated'];}[_0xdcbb79(0x5d7)](_0x48aa42){const _0x181f6c=_0xdcbb79;this[_0x181f6c(0x19e)]!==_0x48aa42&&(this[_0x181f6c(0x19e)]=_0x48aa42,this[_0x181f6c(0x93d)]());}[_0xdcbb79(0x459)](_0x1c5e8e){const _0x50c6a6=_0xdcbb79;let _0x22fce6=!0x1;for(const _0x449ce2 of this[_0x50c6a6(0x824)])_0x1c5e8e[_0x50c6a6(0x949)](_0x449ce2)||(_0x22fce6=!0x0,this[_0x50c6a6(0x824)][_0x50c6a6(0x652)](_0x449ce2));for(const _0x4c1acc of _0x1c5e8e)this['remoteConnections'][_0x50c6a6(0x504)](_0x4c1acc)||(_0x22fce6=!0x0,this[_0x50c6a6(0x824)][_0x50c6a6(0x164)](_0x4c1acc));_0x22fce6&&this[_0x50c6a6(0x93d)]();}[_0xdcbb79(0x5c9)](_0x4217b2){const _0x34aff0=_0xdcbb79;this[_0x34aff0(0x8f4)]!==_0x4217b2&&(this[_0x34aff0(0x8f4)]=_0x4217b2,this[_0x34aff0(0x93d)]());}[_0xdcbb79(0x54d)](_0x1424ba){const _0x5468d0=_0xdcbb79;this[_0x5468d0(0x6e0)]!==_0x1424ba&&(this['status']=_0x1424ba,this[_0x5468d0(0x93d)](),_0x1424ba===_0x330c5d[_0x5468d0(0x2c6)]&&this[_0x5468d0(0x3d8)]());}['updateLastUpdated'](){const _0x237f17=_0xdcbb79;this[_0x237f17(0x968)]=Date[_0x237f17(0x667)]();}}class _0x3339bb extends _0x4e822e{[_0xdcbb79(0x8f4)];[_0xdcbb79(0x6e0)]=_0x330c5d[_0xdcbb79(0x462)];[_0xdcbb79(0x968)]=Date[_0xdcbb79(0x667)]();constructor(_0x52c12c,_0x26a0d4,_0x1a78d4,_0x27292d=new Set(),_0x256bac,_0x14e329){const _0x4d1499=_0xdcbb79;super(_0x52c12c,_0x26a0d4,_0x1a78d4,_0x27292d,_0x14e329),this[_0x4d1499(0x8f4)]=_0x256bac;}[_0xdcbb79(0x37e)](){return this['currentVersion'];}[_0xdcbb79(0x6fe)](){return this['status'];}[_0xdcbb79(0x7ee)](){return this['lastUpdated'];}[_0xdcbb79(0x63d)](_0x237e89){const _0x47f85e=_0xdcbb79;this[_0x47f85e(0x876)]!==_0x237e89&&(this[_0x47f85e(0x876)]=_0x237e89,this[_0x47f85e(0x93d)]());}[_0xdcbb79(0x579)](_0x24b9f6){const _0x3c11a4=_0xdcbb79;this[_0x3c11a4(0x5d2)]!==_0x24b9f6&&(this[_0x3c11a4(0x5d2)]=_0x24b9f6,this['updateLastUpdated']());}[_0xdcbb79(0x5d7)](_0x1e8b23){const _0x305ed5=_0xdcbb79;this['rank']!==_0x1e8b23&&(this['rank']=_0x1e8b23,this[_0x305ed5(0x93d)]());}[_0xdcbb79(0x459)](_0x478a5f){const _0x32e9eb=_0xdcbb79;let _0x5396ca=!0x1;for(const _0x5c1c87 of this[_0x32e9eb(0x824)])_0x478a5f[_0x32e9eb(0x949)](_0x5c1c87)||(_0x5396ca=!0x0,this[_0x32e9eb(0x824)]['delete'](_0x5c1c87));for(const _0x3d215a of _0x478a5f)this[_0x32e9eb(0x824)][_0x32e9eb(0x504)](_0x3d215a)||(_0x5396ca=!0x0,this[_0x32e9eb(0x824)][_0x32e9eb(0x164)](_0x3d215a));_0x5396ca&&this[_0x32e9eb(0x93d)]();}[_0xdcbb79(0x5c9)](_0x330ae5){const _0x310fcb=_0xdcbb79;this[_0x310fcb(0x8f4)]!==_0x330ae5&&(this[_0x310fcb(0x8f4)]=_0x330ae5,this['updateLastUpdated']());}['setStatus'](_0x4baba3){const _0xcd35d9=_0xdcbb79;this[_0xcd35d9(0x6e0)]!==_0x4baba3&&(this['status']=_0x4baba3,this[_0xcd35d9(0x93d)](),_0x4baba3===_0x330c5d['Offline']&&this[_0xcd35d9(0x3d8)]());}[_0xdcbb79(0x93d)](){const _0x1fc025=_0xdcbb79;this[_0x1fc025(0x968)]=Date[_0x1fc025(0x667)]();}}class _0x2cc35d{[_0xdcbb79(0x8de)];[_0xdcbb79(0x31a)];[_0xdcbb79(0x99b)];['minConnections'];[_0xdcbb79(0x292)]=_0x39cb77();['firebaseUnsubscriber'];[_0xdcbb79(0x4ee)];['onDisconnectHandler'];[_0xdcbb79(0x190)]=!0x1;[_0xdcbb79(0x938)];[_0xdcbb79(0x744)];constructor(_0x35c95e,_0x151e44,_0x310c6e,_0x441e00){const _0x1e1dd5=_0xdcbb79;this[_0x1e1dd5(0x8de)]=_0x35c95e,this[_0x1e1dd5(0x31a)]=_0x151e44,this[_0x1e1dd5(0x99b)]=_0x310c6e,this[_0x1e1dd5(0x709)]=_0x441e00,this[_0x1e1dd5(0x938)]='ccc'+this[_0x1e1dd5(0x8de)]+'ccc'+this[_0x1e1dd5(0x31a)],this['nodeKey']=_0x1e1dd5(0x1ea)+this[_0x1e1dd5(0x8de)]+_0x1e1dd5(0x1ea)+this[_0x1e1dd5(0x99b)][_0x1e1dd5(0xa10)](),this[_0x1e1dd5(0x603)]=(0x0,_0x6be76a[_0x1e1dd5(0x367)])((0x0,_0x6be76a[_0x1e1dd5(0x573)])(_0x35c568[_0x1e1dd5(0x767)](),_0x1e1dd5(0x487)),_0x48c0b1=>{const _0x38d7d0=_0x1e1dd5;!0x0!==_0x48c0b1[_0x38d7d0(0x834)]()?this[_0x38d7d0(0x190)]&&_0xbff73d[_0x38d7d0(0x33f)]('firebase-disconnect',{'clusterId':this[_0x38d7d0(0x31a)],'nodeId':this[_0x38d7d0(0x99b)][_0x38d7d0(0xa10)](),'nodeType':this[_0x38d7d0(0x99b)][_0x38d7d0(0x8fa)]}):(this[_0x38d7d0(0x190)]=!0x0,this[_0x38d7d0(0x4dc)](),_0xbff73d[_0x38d7d0(0x869)](_0x38d7d0(0x57f),{'clusterId':this['clusterId'],'nodeId':this[_0x38d7d0(0x99b)]['getId'](),'nodeType':this[_0x38d7d0(0x99b)]['type']}));});}async[_0xdcbb79(0x9e4)](){const _0x3654a8=_0xdcbb79;await this[_0x3654a8(0x749)]();const _0x41db33=await this['getAncestors']();return this[_0x3654a8(0x4ee)]=(0x0,_0x6be76a[_0x3654a8(0x816)])((0x0,_0x6be76a[_0x3654a8(0x573)])(_0x35c568['getDatabase'](),_0x3654a8(0x4b6)+this[_0x3654a8(0x938)]+_0x3654a8(0x210)),_0x1c7612=>{const _0x20a693=_0x3654a8,_0x143dca=_0x1c7612['key'];if(!_0x143dca)return;const _0x457bae=_0x143dca['replace']('ccc'+this[_0x20a693(0x8de)]+_0x20a693(0x1ea),'');this[_0x20a693(0x292)][_0x20a693(0x884)](_0x457bae);}),_0x41db33;}async[_0xdcbb79(0x3d8)](){const _0x289a77=_0xdcbb79;this[_0x289a77(0x4ee)]?.(),delete this[_0x289a77(0x4ee)],this[_0x289a77(0x373)]?.[_0x289a77(0x52a)](),delete this['onDisconnectHandler'],this[_0x289a77(0x603)]?.(),delete this[_0x289a77(0x603)],await(0x0,_0x6be76a[_0x289a77(0x852)])((0x0,_0x6be76a[_0x289a77(0x573)])(_0x35c568[_0x289a77(0x767)](),_0x289a77(0x4b6)+this[_0x289a77(0x938)]+'/nodes/'+this['nodeKey']));}['onNodeDisconnect'](_0x25f0f2){const _0x29b4cb=_0xdcbb79;return this[_0x29b4cb(0x292)]['subscribe'](_0x25f0f2);}async['getAncestors'](){const _0x1a85e4=_0xdcbb79,_0x1a7f89=[],_0x14a7a0=await(0x0,_0x6be76a[_0x1a85e4(0x3ee)])((0x0,_0x6be76a['ref'])(_0x35c568['getDatabase'](),'clusters/'+this['clusterKey']+_0x1a85e4(0x210))),_0x4cae9a=[];return _0x14a7a0['forEach'](_0x11c78c=>{const _0x595f9e=_0x1a85e4,_0x52f03a=_0x11c78c[_0x595f9e(0x705)]?.[_0x595f9e(0x7cf)](_0x595f9e(0x1ea)+this[_0x595f9e(0x8de)]+_0x595f9e(0x1ea),'');_0x4cae9a[_0x595f9e(0x90d)]({'id':_0x52f03a,'joinedAt':_0x11c78c[_0x595f9e(0x834)]()[_0x595f9e(0x2fb)],'priority':_0x11c78c[_0x595f9e(0x834)]()['priority']});}),_0x4cae9a[_0x1a85e4(0x1ca)]((_0x302738,_0x5bbed9)=>_0x302738['joinedAt']===_0x5bbed9[_0x1a85e4(0x2fb)]?_0x302738[_0x1a85e4(0x7d8)]-_0x5bbed9[_0x1a85e4(0x7d8)]:_0x302738[_0x1a85e4(0x2fb)]-_0x5bbed9[_0x1a85e4(0x2fb)])[_0x1a85e4(0x789)](_0x4cae9a['findIndex'](_0x3f4147=>_0x3f4147['id']===this['localNode']['getId']())),_0x4cae9a[_0x1a85e4(0x1ca)]((_0x410c37,_0x9a43da)=>_0x9a43da[_0x1a85e4(0x2fb)]===_0x410c37[_0x1a85e4(0x2fb)]?_0x9a43da[_0x1a85e4(0x7d8)]-_0x410c37[_0x1a85e4(0x7d8)]:_0x9a43da[_0x1a85e4(0x2fb)]-_0x410c37[_0x1a85e4(0x2fb)])[_0x1a85e4(0x5f6)](_0x3b0517=>{const _0x3c7a95=_0x1a85e4;_0x1a7f89[_0x3c7a95(0x454)]>=this[_0x3c7a95(0x709)]||_0x1a7f89['push'](_0x3b0517['id']);}),_0xbff73d[_0x1a85e4(0x265)](_0x1a85e4(0x4b5),{'clusterId':this['clusterId'],'nodeId':this[_0x1a85e4(0x99b)]['getId'](),'nodeType':this['localNode']['type'],'data':{'ancestorIds':_0x1a7f89,'allNodes':_0x4cae9a}}),_0x1a7f89;}async['joinCluster'](){const _0x33bc40=_0xdcbb79;await(0x0,_0x6be76a[_0x33bc40(0x80a)])((0x0,_0x6be76a['ref'])(_0x35c568[_0x33bc40(0x767)](),_0x33bc40(0x4b6)+this[_0x33bc40(0x938)]+'/nodes/'+this['nodeKey']),{'joinedAt':(0x0,_0x6be76a[_0x33bc40(0x241)])(),'priority':Math[_0x33bc40(0x32c)]()});}['setOnDisconnectHandler'](){const _0xb580a2=_0xdcbb79;this[_0xb580a2(0x373)]&&this[_0xb580a2(0x373)]['cancel'](),this[_0xb580a2(0x373)]=(0x0,_0x6be76a['onDisconnect'])((0x0,_0x6be76a[_0xb580a2(0x573)])(_0x35c568[_0xb580a2(0x767)](),_0xb580a2(0x4b6)+this['clusterKey']+_0xb580a2(0x981)+this[_0xb580a2(0x744)])),this[_0xb580a2(0x373)][_0xb580a2(0x852)]();}}class _0x4087b0{[_0xdcbb79(0x3c6)];[_0xdcbb79(0x3a2)];[_0xdcbb79(0x42a)];[_0xdcbb79(0x9ea)];[_0xdcbb79(0x42d)];['ancestors']=[];[_0xdcbb79(0x5df)];[_0xdcbb79(0x8e7)]=new Map();[_0xdcbb79(0x2bb)];[_0xdcbb79(0x731)];[_0xdcbb79(0x678)];['resolveReady'];['rejectReady'];[_0xdcbb79(0x930)];constructor(_0x5b090d,_0xb440ee){const _0x15f6d8=_0xdcbb79;this[_0x15f6d8(0x3c6)]=_0x5b090d,this[_0x15f6d8(0x3a2)]=_0xb440ee,this[_0x15f6d8(0x678)]=new Promise((_0x3fb3b2,_0xc8d56d)=>{const _0x509de9=_0x15f6d8;this[_0x509de9(0x7a0)]=_0x3fb3b2,this[_0x509de9(0x94c)]=_0xc8d56d;}),this[_0x15f6d8(0x9ea)]=new _0x2cc35d(this[_0x15f6d8(0x3c6)][_0x15f6d8(0x8de)],this[_0x15f6d8(0x3c6)][_0x15f6d8(0x31a)],this['configs'][_0x15f6d8(0x99b)],this[_0x15f6d8(0x3a2)][_0x15f6d8(0x58d)]()),this[_0x15f6d8(0x42d)]=this[_0x15f6d8(0x9ea)][_0x15f6d8(0x188)](this[_0x15f6d8(0x6e9)][_0x15f6d8(0xa19)](this)),this['configs'][_0x15f6d8(0x3a5)][_0x15f6d8(0x849)](this[_0x15f6d8(0x3c6)]['localNode']),this[_0x15f6d8(0x3c6)][_0x15f6d8(0x3a5)][_0x15f6d8(0x849)](this),this[_0x15f6d8(0x42a)]=_0x4f45f0['setInterval'](()=>{const _0x19bf91=_0x15f6d8,_0x1e07f5=Date['now']();this['graphService']['getRemoteNodes']()[_0x19bf91(0x5f6)](_0x15a9b4=>{const _0x54c76b=_0x19bf91;_0x15a9b4[_0x54c76b(0x6fe)]()===_0x330c5d[_0x54c76b(0x2c6)]&&_0x15a9b4['getLastUpdated']()<_0x1e07f5-0x493e0&&this['graphService'][_0x54c76b(0x89e)](_0x15a9b4[_0x54c76b(0xa10)]());});},0xea60);}async[_0xdcbb79(0x8a9)](){const _0x3e89e4=_0xdcbb79;return this[_0x3e89e4(0x678)];}async[_0xdcbb79(0x369)](_0x1e34ea){return new Promise((_0x51c0bc,_0x13c16e)=>{const _0x37632c=a0_0x27c7;let _0x356880;const _0x1948e7=setTimeout(()=>{const _0x55cc4c=a0_0x27c7;_0x356880?.(),_0x13c16e(new Error(_0x55cc4c(0x28c)+_0x1e34ea+'\x27\x20is\x20not\x20ready'));},0x2710);if(this[_0x37632c(0x3a2)]['hasRemoteNode'](_0x1e34ea))return clearTimeout(_0x1948e7),void _0x51c0bc(!0x0);_0x356880=this[_0x37632c(0x3a2)][_0x37632c(0x7e1)](()=>{const _0x49917e=_0x37632c;this[_0x49917e(0x3a2)][_0x49917e(0x1d8)](_0x1e34ea)&&(clearTimeout(_0x1948e7),_0x51c0bc(!0x0),_0x356880?.());});});}['registerSystemPublisher'](_0x281779){const _0x488d9f=_0xdcbb79;this[_0x488d9f(0x5df)]=_0x281779;}['unregisterSystemPublisher'](){delete this['systemTopic'];}['close'](){const _0x1b93f8=_0xdcbb79;this['debounceProcessRank']&&(clearTimeout(this[_0x1b93f8(0x2bb)]),delete this[_0x1b93f8(0x2bb)]),delete this[_0x1b93f8(0x731)],this[_0x1b93f8(0x3c6)][_0x1b93f8(0x99b)][_0x1b93f8(0x3d8)](),this['remoteUnsubscriber'](),this[_0x1b93f8(0x42d)](),this[_0x1b93f8(0x3c6)][_0x1b93f8(0x3a5)]['unregisterSystemSource'](this[_0x1b93f8(0x3c6)][_0x1b93f8(0x99b)]),this[_0x1b93f8(0x3c6)][_0x1b93f8(0x3a5)][_0x1b93f8(0x341)](this),this['discoveryService'][_0x1b93f8(0x3d8)]();}[_0xdcbb79(0xa60)](){return this['ancestors'];}[_0xdcbb79(0x1fa)](){const _0x1d778a=_0xdcbb79;return this[_0x1d778a(0x3c6)][_0x1d778a(0x99b)][_0x1d778a(0xa10)]();}['getLocalNode'](){const _0x4b935b=_0xdcbb79;return this[_0x4b935b(0x3c6)][_0x4b935b(0x99b)];}[_0xdcbb79(0x861)](_0x4d880b){const _0x1da399=_0xdcbb79,_0x9671d6=Array['from'](this[_0x1da399(0x3a2)][_0x1da399(0x861)]()[_0x1da399(0x6c2)]())['filter'](_0x53b8a2=>_0x53b8a2[_0x1da399(0x6fe)]()===_0x330c5d[_0x1da399(0x462)]);return _0x4d880b?_0x9671d6[_0x1da399(0x4e9)](_0x4d880b):_0x9671d6;}async[_0xdcbb79(0x4b5)](){const _0x48ff9f=_0xdcbb79;return this[_0x48ff9f(0x28e)]=await this[_0x48ff9f(0x9ea)][_0x48ff9f(0x9e4)](),this[_0x48ff9f(0x28e)][_0x48ff9f(0x454)]<this[_0x48ff9f(0x3a2)][_0x48ff9f(0x58d)]()&&(this[_0x48ff9f(0x3c6)][_0x48ff9f(0x99b)]['setRank'](this[_0x48ff9f(0x28e)]['length']+0x1),this[_0x48ff9f(0x163)]()),this[_0x48ff9f(0x28e)];}[_0xdcbb79(0x9c6)](_0x4e954e,_0x2a5693){const _0x1903e3=_0xdcbb79,_0x282994=this['configs']['localNode'][_0x1903e3(0x624)](),_0x1bdaf0=new Set(_0x282994),_0x1c873c=Array[_0x1903e3(0x6dd)](_0x282994)[_0x1903e3(0x4e9)](_0x250401=>_0x250401!==_0x4e954e)['map'](_0x248f84=>({'id':_0x248f84,'distance':0x1}));for(;_0x1c873c[_0x1903e3(0x454)]>0x0;){const _0x35d8b4=_0x1c873c[_0x1903e3(0x46b)]();if(!_0x35d8b4)continue;if(_0x35d8b4['id']===_0x2a5693)return _0x35d8b4[_0x1903e3(0x443)];const _0x9234=this[_0x1903e3(0x3a2)][_0x1903e3(0x8e0)](_0x35d8b4['id']);_0x9234&&_0x9234[_0x1903e3(0x6fe)]()!==_0x330c5d[_0x1903e3(0x2c6)]&&_0x9234['getRemoteConnections']()['forEach'](_0x464ad7=>{const _0x2aa4a5=_0x1903e3;_0x1bdaf0[_0x2aa4a5(0x504)](_0x464ad7)||(_0x1bdaf0[_0x2aa4a5(0x164)](_0x464ad7),_0x1c873c['push']({'id':_0x464ad7,'distance':_0x35d8b4['distance']+0x1}));});}return-0x1;}[_0xdcbb79(0x74f)](_0x6075a3){const _0xe164f=_0xdcbb79;try{switch(_0x6075a3[_0xe164f(0x7bd)][_0xe164f(0x8fa)]){case _0x328d11[_0xe164f(0x5bd)]:case _0x328d11[_0xe164f(0x20c)]:this[_0xe164f(0x386)](_0x6075a3['content']),_0xbff73d[_0xe164f(0x198)](_0x1f75f2['Node'],_0xe164f(0x91c),'\x27'+this['configs'][_0xe164f(0x99b)][_0xe164f(0xa10)]()+',\x20'+_0x6075a3[_0xe164f(0x742)]+'\x27',_0x6075a3,_0x6075a3[_0xe164f(0x7bd)]);break;case _0x328d11[_0xe164f(0x1b4)]:this[_0xe164f(0x98d)](_0x6075a3[_0xe164f(0x7bd)]['id']),_0xbff73d[_0xe164f(0x198)](_0x1f75f2[_0xe164f(0x285)],_0xe164f(0x58a),'\x27'+this[_0xe164f(0x3c6)][_0xe164f(0x99b)][_0xe164f(0xa10)]()+',\x20'+_0x6075a3[_0xe164f(0x742)]+'\x27',_0x6075a3,_0x6075a3['content']);}}catch(_0x146fd1){if(_0x146fd1 instanceof _0xfe4e17)return void _0xbff73d[_0xe164f(0x198)](_0x1f75f2[_0xe164f(0x285)],_0x146fd1[_0xe164f(0x41d)]);throw _0x146fd1;}}[_0xdcbb79(0x6c1)](_0x2d1ba8){const _0xb18105=_0xdcbb79;switch(_0x2d1ba8[_0xb18105(0x7bd)][_0xb18105(0x8fa)]){case _0x35a889['Success']:this['handleConnectionSuccess'](_0x2d1ba8['sourceId']),_0xbff73d[_0xb18105(0x198)](_0x1f75f2[_0xb18105(0x285)],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this[_0xb18105(0x3c6)][_0xb18105(0x99b)][_0xb18105(0xa10)]()+',\x20'+_0x2d1ba8['sourceId']+'\x27',_0x2d1ba8,_0x2d1ba8[_0xb18105(0x7bd)]);break;case _0x35a889['Disconnect']:this[_0xb18105(0x815)](_0x2d1ba8[_0xb18105(0x742)]),_0xbff73d['log'](_0x1f75f2[_0xb18105(0x285)],_0xb18105(0x79a),this['configs'][_0xb18105(0x99b)]['getId'](),_0x2d1ba8,_0x2d1ba8['content']);}}[_0xdcbb79(0x491)](_0x234bba){const _0x68cbd1=_0xdcbb79;this[_0x68cbd1(0x345)](_0x234bba),this['notifyJoin'](_0x234bba);}[_0xdcbb79(0x932)](_0x3e04e1){const _0x25234a=_0xdcbb79;this['configs']['localNode'][_0x25234a(0x8fe)](_0x3e04e1['id']),this[_0x25234a(0x26b)](_0x3e04e1['id']),this[_0x25234a(0x8b6)](_0x3e04e1);}['handleNodeUpdate'](_0x560026){const _0x488102=_0xdcbb79,{id:_0x4b9c31,metaData:_0x2bd018,rank:_0x1b869d,remoteConnections:_0x389039,version:_0x12382c}=_0x560026,_0x43defd=this[_0x488102(0x3a2)][_0x488102(0x8e0)](_0x4b9c31);if(_0x43defd){if(!(_0x12382c<=_0x43defd['getCurrentVersion']())){if(_0x43defd[_0x488102(0x459)](_0x389039),_0x43defd[_0x488102(0x5c9)](_0x12382c),_0x43defd[_0x488102(0x8fa)]===_0x410512[_0x488102(0xa72)]['User']&&_0x2bd018[_0x488102(0x8fa)]===_0x410512[_0x488102(0xa72)][_0x488102(0x486)]&&(_0x43defd[_0x488102(0x63d)](_0x2bd018[_0x488102(0x876)]),_0x43defd[_0x488102(0x579)](_0x2bd018[_0x488102(0x5d2)])),_0x1b869d&&_0x43defd['setRank'](_0x1b869d),this[_0x488102(0x9ba)](_0x4b9c31,_0x1b869d),_0x43defd[_0x488102(0x6fe)]()===_0x330c5d[_0x488102(0x2c6)])return _0x43defd['setStatus'](_0x330c5d[_0x488102(0x462)]),this[_0x488102(0x163)](),void this[_0x488102(0x932)](_0x560026);this[_0x488102(0x163)](),this[_0x488102(0x64b)]({'id':_0x4b9c31,'metaData':_0x2bd018,'remoteConnections':_0x389039,'version':_0x12382c});}}else this[_0x488102(0x491)](_0x560026);}[_0xdcbb79(0x9ba)](_0x2df122,_0x2b1875){const _0x2dde69=_0xdcbb79;_0x2b1875&&this[_0x2dde69(0x28e)]['includes'](_0x2df122)&&this[_0x2dde69(0x3c6)][_0x2dde69(0x99b)][_0x2dde69(0x5d7)](_0x2b1875+this[_0x2dde69(0x28e)][_0x2dde69(0x649)](_0x2df122)+0x1);}['handleConnectionSuccess'](_0x3aabef){const _0x50e9a4=_0xdcbb79;this[_0x50e9a4(0x3c6)][_0x50e9a4(0x99b)][_0x50e9a4(0x503)](_0x3aabef);}[_0xdcbb79(0x345)]({id:_0x55156e,metaData:_0x3dc2aa,rank:_0x1847c6,remoteConnections:_0x40adb5,version:_0x571373}){const _0x2e6b03=_0xdcbb79;if(this[_0x2e6b03(0x3a2)]['hasRemoteNode'](_0x55156e))throw new _0xfe4e17(_0x2e6b03(0x2b5)+_0x55156e);switch(_0x3dc2aa[_0x2e6b03(0x8fa)]){case _0x410512['NodeType'][_0x2e6b03(0x486)]:const {displayName:_0x468e62,email:_0x9889cf}=_0x3dc2aa;this[_0x2e6b03(0x3a2)][_0x2e6b03(0x8cf)](_0x55156e,new _0x3339bb(_0x55156e,_0x468e62,_0x9889cf,new Set(_0x40adb5),_0x571373,_0x1847c6));break;case _0x410512[_0x2e6b03(0xa72)][_0x2e6b03(0x963)]:this['graphService'][_0x2e6b03(0x8cf)](_0x55156e,new _0x4fd8a5(_0x55156e,new Set(_0x40adb5),_0x571373,_0x1847c6));}const _0x1a0ed3=this[_0x2e6b03(0x861)](),_0x6480fa=new Set(this['ancestors']);_0x1a0ed3['forEach'](_0x1e125f=>{const _0x496814=_0x2e6b03;_0x6480fa[_0x496814(0x504)](_0x1e125f[_0x496814(0xa10)]())&&_0x6480fa['delete'](_0x1e125f['getId']());}),0x0===_0x6480fa['size']&&this[_0x2e6b03(0x7a0)]&&(this[_0x2e6b03(0x930)]&&clearTimeout(this[_0x2e6b03(0x930)]),this[_0x2e6b03(0x930)]=setTimeout(()=>{const _0x15cb5b=_0x2e6b03;this['resolveReady']?.(!0x0),delete this['resolveReady'],delete this[_0x15cb5b(0x94c)];},0x7d0)),this['setLocalRank'](_0x55156e,_0x1847c6),this['processRank']();}[_0xdcbb79(0x26b)](_0x4ed07d){const _0x323bdc=_0xdcbb79;this['systemTopic'][_0x323bdc(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x323bdc(0x285)],'content':{'type':_0x328d11[_0x323bdc(0x84d)],'id':_0x4ed07d}});}['publishNodeLeave'](_0x1ee941){const _0xad19fe=_0xdcbb79;this[_0xad19fe(0x5df)]?.[_0xad19fe(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0xad19fe(0x285)],'content':{'type':_0x328d11[_0xad19fe(0x1b4)],'id':_0x1ee941}});}['handleNodeDisconnect'](_0x4df0c6){const _0x10c61d=_0xdcbb79;if(_0x4df0c6===this[_0x10c61d(0x3c6)][_0x10c61d(0x99b)][_0x10c61d(0xa10)]())return this['configs'][_0x10c61d(0x3a5)]['notifyCluster'](_0x10c61d(0x3a3),{'id':_0x4df0c6}),this[_0x10c61d(0x3c6)][_0x10c61d(0x3a5)][_0x10c61d(0x3d8)]({'force':!0x0},!0x0),this[_0x10c61d(0x3c6)][_0x10c61d(0x3a5)][_0x10c61d(0x94b)](),void this[_0x10c61d(0x3c6)][_0x10c61d(0x3a5)][_0x10c61d(0x677)]();this[_0x10c61d(0x815)](_0x4df0c6);}[_0xdcbb79(0x98d)](_0x51b80e){const _0x5d249e=_0xdcbb79;this[_0x5d249e(0x28e)][_0x5d249e(0x949)](_0x51b80e)?this[_0x5d249e(0x521)](_0x51b80e):this[_0x5d249e(0x3c6)][_0x5d249e(0x99b)][_0x5d249e(0x624)]()[_0x5d249e(0x504)](_0x51b80e)&&this['manageOptimization'](_0x51b80e),this[_0x5d249e(0x3c6)]['localNode'][_0x5d249e(0x3c2)](_0x51b80e);const _0x94652b=Array['from'](this[_0x5d249e(0x8e7)][_0x5d249e(0x88f)]())[_0x5d249e(0x39d)](([,_0x5ce074])=>_0x5ce074==_0x5ce074);_0x94652b&&this[_0x5d249e(0x8e7)][_0x5d249e(0x652)](_0x94652b[0x0]);const _0x5ad392=this[_0x5d249e(0x3a2)][_0x5d249e(0x8e0)](_0x51b80e);if(!_0x5ad392)return;const _0x23130f=_0x5ad392[_0x5d249e(0x252)](),_0x58044f=this[_0x5d249e(0x3c6)][_0x5d249e(0x99b)]['getRank']();_0x58044f&&_0x23130f&&_0x23130f<_0x58044f&&this[_0x5d249e(0x3c6)][_0x5d249e(0x99b)]['setRank'](_0x58044f-0x1,!0x1),Array['from'](this[_0x5d249e(0x3a2)][_0x5d249e(0x861)]()[_0x5d249e(0x6c2)]())['forEach'](_0x3b8b8a=>{const _0x57b4de=_0x5d249e,_0x18cd66=_0x3b8b8a[_0x57b4de(0x252)]();_0x18cd66&&_0x23130f&&_0x23130f<_0x18cd66&&_0x3b8b8a['setRank'](_0x18cd66-0x1);}),_0x5ad392[_0x5d249e(0x54d)](_0x330c5d['Offline']),this['configs'][_0x5d249e(0x3a5)][_0x5d249e(0x200)](_0x5ad392['type']+_0x5d249e(0x84c),{'id':_0x51b80e});}['notifyClusterNodeJoin']({id:_0x57281f,metaData:_0x4d4cc5,remoteConnections:_0x4c1686}){const _0xe5abea=_0xdcbb79;switch(_0x4d4cc5[_0xe5abea(0x8fa)]){case _0x410512[_0xe5abea(0xa72)][_0xe5abea(0x486)]:this[_0xe5abea(0x3c6)][_0xe5abea(0x3a5)][_0xe5abea(0x200)](_0xe5abea(0x16a),{'id':_0x57281f,'metaData':_0x4d4cc5,'remoteConnections':_0x4c1686});break;case _0x410512[_0xe5abea(0xa72)][_0xe5abea(0x963)]:this[_0xe5abea(0x3c6)][_0xe5abea(0x3a5)][_0xe5abea(0x200)](_0xe5abea(0x696),{'id':_0x57281f,'metaData':_0x4d4cc5,'remoteConnections':_0x4c1686});}}[_0xdcbb79(0x64b)]({id:_0x483db9,metaData:_0x16544a,remoteConnections:_0x1a214b}){const _0x4f89e2=_0xdcbb79;switch(_0x16544a[_0x4f89e2(0x8fa)]){case _0x410512['NodeType']['User']:this[_0x4f89e2(0x3c6)][_0x4f89e2(0x3a5)][_0x4f89e2(0x200)]('user-update',{'id':_0x483db9,'metaData':_0x16544a,'remoteConnections':_0x1a214b});break;case _0x410512['NodeType']['Agent']:this[_0x4f89e2(0x3c6)][_0x4f89e2(0x3a5)][_0x4f89e2(0x200)](_0x4f89e2(0x555),{'id':_0x483db9,'metaData':_0x16544a,'remoteConnections':_0x1a214b});}}[_0xdcbb79(0x163)](){const _0x1a8bf0=_0xdcbb79;if(this['lastProcessRank']||(this[_0x1a8bf0(0x731)]=Date['now']()),this[_0x1a8bf0(0x2bb)]){if(Date[_0x1a8bf0(0x667)]()-this[_0x1a8bf0(0x731)]>0x2328)return;clearTimeout(this[_0x1a8bf0(0x2bb)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x5216c2=_0x1a8bf0;delete this[_0x5216c2(0x731)],delete this[_0x5216c2(0x2bb)];const _0x29428a=this['configs'][_0x5216c2(0x99b)][_0x5216c2(0x252)]();if(!_0x29428a)return;const _0x1a7499=this[_0x5216c2(0x3a2)][_0x5216c2(0x923)](this['graphService'][_0x5216c2(0x861)]()[_0x5216c2(0x400)]);if(this[_0x5216c2(0x8e7)]['size']>=_0x1a7499)return;let _0x4cb5cd=0x1;for(;this[_0x5216c2(0x3c6)][_0x5216c2(0x3a5)][_0x5216c2(0x439)]()[_0x5216c2(0x454)]<this[_0x5216c2(0x3a2)][_0x5216c2(0x47c)]()&&_0x4cb5cd<=_0x1a7499;){if(this['optimizationLayers'][_0x5216c2(0x504)](_0x4cb5cd)){_0x4cb5cd+=0x1;continue;}const _0x5118c5=this[_0x5216c2(0x3a2)][_0x5216c2(0x802)](_0x29428a,_0x4cb5cd),_0x52246c=Array[_0x5216c2(0x6dd)](this[_0x5216c2(0x3a2)][_0x5216c2(0x861)]()['values']())[_0x5216c2(0x39d)](_0x4d2813=>_0x4d2813['getRank']()===_0x5118c5&&_0x4d2813[_0x5216c2(0x6fe)]()===_0x330c5d[_0x5216c2(0x462)]);if(_0x52246c){try{await this[_0x5216c2(0x3c6)][_0x5216c2(0x3a5)][_0x5216c2(0x505)](_0x52246c[_0x5216c2(0xa10)](),_0x9e7bd3['Optimization']),this[_0x5216c2(0x8e7)]['set'](_0x4cb5cd,_0x52246c[_0x5216c2(0xa10)]());}catch(_0xf36d5b){if(!(_0xf36d5b instanceof _0x3c9628&&_0xf36d5b[_0x5216c2(0x348)]===_0x3c9628[_0x5216c2(0x994)]['RemoteConnectionExists']))throw _0xf36d5b;_0xbff73d[_0x5216c2(0x198)](_0x1f75f2[_0x5216c2(0x285)],this[_0x5216c2(0x3c6)][_0x5216c2(0x99b)][_0x5216c2(0xa10)](),_0x52246c[_0x5216c2(0xa10)](),_0xf36d5b['message']);}_0x4cb5cd+=0x1;}else _0x4cb5cd+=0x1;}},0x3e8);}async[_0xdcbb79(0x521)](_0x3f6cc4){const _0x5bc1b5=_0xdcbb79;this['ancestors'][_0x5bc1b5(0x789)](this['ancestors'][_0x5bc1b5(0x649)](_0x3f6cc4),0x1);const _0x433efc=await this[_0x5bc1b5(0x9ea)]['getAncestors']();for(const _0x22e40e of _0x433efc)if(!this[_0x5bc1b5(0x28e)]['includes'](_0x22e40e)){const _0x20d92e=Array['from'](this[_0x5bc1b5(0x8e7)][_0x5bc1b5(0x88f)]())[_0x5bc1b5(0x39d)](([,_0x4752b3])=>_0x4752b3===_0x22e40e);_0x20d92e&&this[_0x5bc1b5(0x8e7)][_0x5bc1b5(0x652)](_0x20d92e[0x0]),this[_0x5bc1b5(0x3c6)][_0x5bc1b5(0x3a5)]['createConnection'](_0x22e40e,_0x9e7bd3['Core']);}0x0===_0x433efc[_0x5bc1b5(0x454)]&&this[_0x5bc1b5(0x3c6)][_0x5bc1b5(0x99b)]['setRank'](0x1),this['ancestors']=_0x433efc;}async[_0xdcbb79(0x4b4)](_0x57f4d4){const _0x49b561=_0xdcbb79,_0x14e2ca=this[_0x49b561(0x3c6)]['localNode']['getRank']();if(!_0x14e2ca)return;const _0x146aaf=this['graphService'][_0x49b561(0x8e0)](_0x57f4d4);if(!_0x146aaf||_0x146aaf['getStatus']()===_0x330c5d[_0x49b561(0x2c6)])return;const _0x5e951a=_0x146aaf[_0x49b561(0x252)]();if(!_0x5e951a||_0x5e951a<_0x14e2ca)return;const _0x2c7952=this[_0x49b561(0x2c7)](this['configs'][_0x49b561(0x99b)][_0x49b561(0x624)](),_0x14e2ca),_0x3d765d=this[_0x49b561(0x2c7)](_0x146aaf[_0x49b561(0x624)](),_0x5e951a)[_0x2c7952[_0x49b561(0x379)](([_0x24507c])=>_0x24507c===_0x57f4d4)];if(!_0x3d765d||this[_0x49b561(0x3c6)][_0x49b561(0x99b)][_0x49b561(0x624)]()['has'](_0x3d765d[0x0]))return;const _0x55086a=this['graphService']['getRemoteNode'](_0x3d765d[0x0]);if(_0x55086a&&_0x55086a[_0x49b561(0x6fe)]()!==_0x330c5d[_0x49b561(0x2c6)])try{await this[_0x49b561(0x3c6)][_0x49b561(0x3a5)][_0x49b561(0x505)](_0x3d765d[0x0],_0x9e7bd3[_0x49b561(0x67f)]);const _0x129ed1=Array[_0x49b561(0x6dd)](this[_0x49b561(0x8e7)][_0x49b561(0x88f)]())[_0x49b561(0x39d)](([,_0x2cb486])=>_0x2cb486===_0x57f4d4);_0x129ed1&&this[_0x49b561(0x8e7)]['set'](_0x129ed1[0x0],_0x3d765d[0x0]);}catch(_0x22ec1b){if(!(_0x22ec1b instanceof _0x3c9628&&_0x22ec1b['code']===_0x3c9628[_0x49b561(0x994)][_0x49b561(0x382)]))throw _0x22ec1b;_0xbff73d[_0x49b561(0x198)](_0x1f75f2[_0x49b561(0x285)],this['configs'][_0x49b561(0x99b)]['getId'](),_0x3d765d[0x0],_0x22ec1b[_0x49b561(0x41d)]);}}[_0xdcbb79(0x2c7)](_0x33f5aa,_0x3c5037){const _0x3a442f=_0xdcbb79;return Array[_0x3a442f(0x6dd)](_0x33f5aa)[_0x3a442f(0x1f4)]((_0x54c151,_0x118270)=>{const _0x67ca8b=_0x3a442f,_0xb385c7=this[_0x67ca8b(0x3a2)][_0x67ca8b(0x8e0)](_0x118270);if(!_0xb385c7||_0xb385c7[_0x67ca8b(0x6fe)]()===_0x330c5d[_0x67ca8b(0x2c6)])return _0x54c151;const _0x138a05=_0xb385c7[_0x67ca8b(0x252)]();if(!_0x138a05)return _0x54c151;const _0x27cf96=_0x138a05-_0x3c5037;return _0x27cf96<=this[_0x67ca8b(0x3a2)][_0x67ca8b(0x58d)]()||_0x54c151['push']([_0x118270,_0x27cf96]),_0x54c151;},[])['sort'](([,_0x246b13],[,_0x3c66a8])=>_0x246b13-_0x3c66a8);}}const _0x58188e=[{'problemType':_0x1f4bc3[_0xdcbb79(0x1f1)],'remediations':[{'type':_0x26b693[_0xdcbb79(0x221)],'component':_0x59223e[_0xdcbb79(0x9cb)],'action':_0x348f6b[_0xdcbb79(0x402)]},{'type':_0x26b693[_0xdcbb79(0x26d)],'component':_0x59223e[_0xdcbb79(0x9cb)],'action':_0x348f6b[_0xdcbb79(0x402)]}]},{'problemType':_0x1f4bc3['TimePerFrame'],'remediations':[{'type':_0x26b693[_0xdcbb79(0x221)],'component':_0x59223e[_0xdcbb79(0x9cb)],'action':_0x348f6b[_0xdcbb79(0x402)]}]},{'problemType':_0x1f4bc3[_0xdcbb79(0x794)],'remediations':[{'type':_0x26b693[_0xdcbb79(0x221)],'component':_0x59223e[_0xdcbb79(0x9cb)],'action':_0x348f6b[_0xdcbb79(0x402)]}]},{'problemType':_0x1f4bc3[_0xdcbb79(0x679)],'remediations':[{'type':_0x26b693[_0xdcbb79(0x221)],'component':_0x59223e[_0xdcbb79(0x9cb)],'action':_0x348f6b[_0xdcbb79(0x402)]}]},{'problemType':_0x1f4bc3['Bitrate'],'remediations':[{'type':_0x26b693[_0xdcbb79(0x221)],'component':_0x59223e[_0xdcbb79(0x654)],'action':_0x348f6b[_0xdcbb79(0x402)]}]},{'problemType':_0x1f4bc3[_0xdcbb79(0x6b8)],'remediations':[{'type':_0x26b693[_0xdcbb79(0x221)],'component':_0x59223e[_0xdcbb79(0x654)],'action':_0x348f6b[_0xdcbb79(0x402)]}]},{'problemType':_0x1f4bc3[_0xdcbb79(0x986)],'remediations':[{'type':_0x26b693[_0xdcbb79(0x221)],'component':_0x59223e[_0xdcbb79(0x654)],'action':_0x348f6b[_0xdcbb79(0x402)]}]}];class _0x3b36f2{[_0xdcbb79(0x3c6)];[_0xdcbb79(0x5df)];[_0xdcbb79(0x80e)]=new Map();constructor(_0x22833e){const _0x107e81=_0xdcbb79;this['configs']=_0x22833e,this[_0x107e81(0x3c6)]['mediator'][_0x107e81(0x849)](this);}[_0xdcbb79(0x3d8)](){const _0x469c8f=_0xdcbb79;this[_0x469c8f(0x3c6)][_0x469c8f(0x3a5)][_0x469c8f(0x341)](this);}[_0xdcbb79(0x724)](_0x1182ad){const _0x1e896b=_0xdcbb79;this[_0x1e896b(0x5df)]=_0x1182ad;}[_0xdcbb79(0x1c8)](){const _0x5f5735=_0xdcbb79;delete this[_0x5f5735(0x5df)];}['handleDetectionSystemEvents'](_0x5c7ee0){const _0x264065=_0xdcbb79;_0x5c7ee0['content'][_0x264065(0x8fa)]===_0x17170c[_0x264065(0x3b2)]&&this['handleProblem'](_0x5c7ee0[_0x264065(0x7bd)][_0x264065(0x78e)]);}[_0xdcbb79(0x8a5)](_0x4d0e35){const _0x4a4246=_0xdcbb79;_0x4d0e35['content'][_0x4a4246(0x8fa)]===_0x26b693[_0x4a4246(0x26d)]&&this[_0x4a4246(0x53e)](_0x4d0e35[_0x4a4246(0x742)],{'type':_0x26b693[_0x4a4246(0x221)],'component':_0x4d0e35['content'][_0x4a4246(0x78e)][_0x4a4246(0x542)],'action':_0x4d0e35[_0x4a4246(0x7bd)]['data']['action']});}[_0xdcbb79(0x9bb)](_0x235e25){const _0x44681a=_0xdcbb79,_0x14b975=_0x58188e[_0x44681a(0x39d)](_0xc0491c=>_0xc0491c['problemType']===_0x235e25['type']);_0x14b975[_0x44681a(0x5ca)]?.[_0x44681a(0x5f6)](_0x72cda8=>{const _0x47a0f6=_0x44681a;this[_0x47a0f6(0x53e)](_0x235e25[_0x47a0f6(0x6c8)],{'type':_0x235e25[_0x47a0f6(0x5f8)]===_0x54ce26[_0x47a0f6(0x6bd)]?_0x26b693['Remediation']:_0x26b693['RemoteRemediation'],'component':_0x72cda8[_0x47a0f6(0x542)],'action':_0x72cda8[_0x47a0f6(0x43d)]});});}[_0xdcbb79(0x53e)](_0x751279,_0x19a000){const _0x3ad23a=_0xdcbb79;if(_0x19a000[_0x3ad23a(0x8fa)]===_0x26b693[_0x3ad23a(0x221)]){const _0x1fc908=Date[_0x3ad23a(0x667)](),_0x8adbd1=this[_0x3ad23a(0x80e)][_0x3ad23a(0x3ee)](_0x751279);if(_0x8adbd1&&_0x1fc908-_0x8adbd1<0x1388)return;this[_0x3ad23a(0x80e)][_0x3ad23a(0x80a)](_0x751279,_0x1fc908);}_0xbff73d[_0x3ad23a(0x198)](_0x1f75f2[_0x3ad23a(0x221)],_0x3ad23a(0x3b4),_0x19a000),_0xbff73d[_0x3ad23a(0x265)](_0x3ad23a(0x24e),{'clusterId':this['configs'][_0x3ad23a(0x31a)],'nodeId':this[_0x3ad23a(0x3c6)][_0x3ad23a(0x99b)][_0x3ad23a(0xa10)](),'nodeType':this[_0x3ad23a(0x3c6)][_0x3ad23a(0x99b)]['type'],'remoteId':_0x751279,'data':{'type':_0x19a000['type'],'component':_0x19a000[_0x3ad23a(0x542)],'action':_0x19a000['action']}});let _0x5c1c80,_0x777a05=_0x3c7c3b;_0x19a000['type']===_0x26b693[_0x3ad23a(0x26d)]&&(_0x777a05=this[_0x3ad23a(0x3c6)][_0x3ad23a(0x99b)][_0x3ad23a(0xa10)](),_0x5c1c80=[_0x751279]),this[_0x3ad23a(0x5df)][_0x3ad23a(0x884)]({'sourceId':_0x777a05,'destinationIds':_0x5c1c80,'messageType':_0x447632[_0x3ad23a(0x221)],'content':{'type':_0x19a000['type'],'targetId':_0x751279,'data':_0x19a000}});}}const _0x23cbc6=0x3e8,_0x5d5fda=0x7530,_0x48dba3=_0xdcbb79(0x44d),_0x28b92c=_0xdcbb79(0x299),_0x5bc445=_0xdcbb79(0x822),_0x5c0343=[_0x48dba3,_0x28b92c],_0x2a216b=[_0x5bc445];class _0x2c9773{[_0xdcbb79(0x747)]=0x0;[_0xdcbb79(0x395)]=0x0;[_0xdcbb79(0x6a4)]=0x0;['packetsLost']=0x0;[_0xdcbb79(0x15c)]=0x0;[_0xdcbb79(0x8b3)]=0x0;['previousTimestamp']=0x0;[_0xdcbb79(0x406)]=0x0;[_0xdcbb79(0x301)]=0x0;get[_0xdcbb79(0x276)](){const _0x36db27=_0xdcbb79;return this[_0x36db27(0x8b3)]>0x0&&this[_0x36db27(0x6ce)]>0x0&&Date[_0x36db27(0x667)]()-this[_0x36db27(0x8b3)]<_0x5d5fda?(this[_0x36db27(0x406)]-this[_0x36db27(0x301)])/(this[_0x36db27(0x8b3)]-this[_0x36db27(0x6ce)])*0x8*0x3e8:0x0;}['processReport'](_0x198d1f){const _0x2847e1=_0xdcbb79;switch(_0x198d1f[_0x2847e1(0x8fa)]){case _0x5bc445:this[_0x2847e1(0x5a1)](_0x198d1f);break;case _0x48dba3:this[_0x2847e1(0x880)](_0x198d1f);break;case _0x28b92c:this[_0x2847e1(0x60d)](_0x198d1f);}}['getReport'](){const _0x452e27=_0xdcbb79;return{'bitrate':this[_0x452e27(0x276)],'packetsLostPerc':this[_0x452e27(0x4e4)](),'roundTripTime':this[_0x452e27(0x747)],'jitter':this[_0x452e27(0x6a4)]};}['processInboundReport'](_0x2c7f70){const _0x209542=_0xdcbb79;this[_0x209542(0x34d)](_0x2c7f70[_0x209542(0x6d1)]),this['setTimestamp'](_0x2c7f70[_0x209542(0x553)]),this[_0x209542(0x15c)]=_0x2c7f70[_0x209542(0xa78)],this[_0x209542(0x6ad)]=_0x2c7f70[_0x209542(0x6ad)],void 0x0!==_0x2c7f70[_0x209542(0x6a4)]?this[_0x209542(0x6a4)]=_0x2c7f70['jitter']:this['jitter']=0x0,void 0x0!==_0x2c7f70[_0x209542(0x395)]?this[_0x209542(0x395)]=_0x2c7f70[_0x209542(0x395)]:this['estimatedPlayoutTimestamp']=0x0;}[_0xdcbb79(0x880)](_0x1167d0){const _0x5425cb=_0xdcbb79;this[_0x5425cb(0x34d)](_0x1167d0[_0x5425cb(0x82c)]),this[_0x5425cb(0x6cb)](_0x1167d0[_0x5425cb(0x553)]),this[_0x5425cb(0x15c)]=_0x1167d0[_0x5425cb(0xa3e)];}['processRemoteInboundReport'](_0xab2b7b){const _0x87018b=_0xdcbb79;this[_0x87018b(0x747)]=0x3e8*_0xab2b7b['roundTripTime'],void 0x0!==_0xab2b7b[_0x87018b(0x6a4)]?this[_0x87018b(0x6a4)]=_0xab2b7b['jitter']:this[_0x87018b(0x6a4)]=0x0;}[_0xdcbb79(0x4e4)](){const _0x48e461=_0xdcbb79;return this[_0x48e461(0x15c)]>0x0?this[_0x48e461(0x6ad)]/this[_0x48e461(0x15c)]:0x0;}[_0xdcbb79(0x6cb)](_0x389768){const _0x5df7ee=_0xdcbb79;_0x389768>this[_0x5df7ee(0x8b3)]&&(this[_0x5df7ee(0x6ce)]=this[_0x5df7ee(0x8b3)],this[_0x5df7ee(0x8b3)]=_0x389768);}['setBytes'](_0x1aa4d4){const _0x30d39b=_0xdcbb79;this[_0x30d39b(0x301)]=this['currentBytes'],this[_0x30d39b(0x406)]=_0x1aa4d4;}}class _0x810a75 extends _0x2c9773{}class _0x219fe3 extends _0x2c9773{[_0xdcbb79(0x4f7)]=0x0;['frameWidth']=0x0;[_0xdcbb79(0x989)]=0x0;['currentFrames']=0x0;[_0xdcbb79(0x407)]=0x0;get[_0xdcbb79(0x863)](){const _0x3c1447=_0xdcbb79;return this[_0x3c1447(0x8b3)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x3c1447(0x667)]()-this['currentTimestamp']<_0x5d5fda?(this[_0x3c1447(0x1f0)]-this[_0x3c1447(0x407)])/(this[_0x3c1447(0x8b3)]-this[_0x3c1447(0x6ce)])*0x3e8:0x0;}get[_0xdcbb79(0x898)](){const _0x184fb7=_0xdcbb79;return this[_0x184fb7(0x4f7)]&&this[_0x184fb7(0x1f0)]&&this[_0x184fb7(0x1f0)]>0x0?this['frameTime']/this['currentFrames']:0x0;}set[_0xdcbb79(0x467)](_0x2915e8){const _0x4d5808=_0xdcbb79;this[_0x4d5808(0x407)]=this[_0x4d5808(0x1f0)],this[_0x4d5808(0x1f0)]=_0x2915e8;}[_0xdcbb79(0x2d3)](){const _0x4ac10c=_0xdcbb79;return{...super['getReport'](),'FPS':this[_0x4ac10c(0x863)],'timePerFrame':this['timePerFrame'],'frameWidth':this['frameWidth'],'frameHeight':this[_0x4ac10c(0x989)]};}[_0xdcbb79(0x5a1)](_0x2293c1){const _0x48aad4=_0xdcbb79;super[_0x48aad4(0x5a1)](_0x2293c1),this['frameTime']=_0x2293c1[_0x48aad4(0x5cf)],this[_0x48aad4(0x467)]=_0x2293c1[_0x48aad4(0x856)],this[_0x48aad4(0x7a6)]=_0x2293c1[_0x48aad4(0x7a6)],this[_0x48aad4(0x989)]=_0x2293c1['frameHeight'];}[_0xdcbb79(0x880)](_0x2bf406){const _0x1b5bd2=_0xdcbb79;super['processOutboundReport'](_0x2bf406),this[_0x1b5bd2(0x4f7)]=_0x2bf406['totalEncodeTime'],this[_0x1b5bd2(0x467)]=_0x2bf406[_0x1b5bd2(0x608)],this[_0x1b5bd2(0x7a6)]=_0x2bf406[_0x1b5bd2(0x7a6)],this[_0x1b5bd2(0x989)]=_0x2bf406[_0x1b5bd2(0x989)];}}class _0x2618d3{[_0xdcbb79(0x82e)]=new _0x810a75();[_0xdcbb79(0x72f)]=new _0x219fe3();get[_0xdcbb79(0x276)](){const _0x52d3b6=_0xdcbb79;return this[_0x52d3b6(0x82e)][_0x52d3b6(0x276)]+this[_0x52d3b6(0x72f)][_0x52d3b6(0x276)];}[_0xdcbb79(0x8ed)](_0x224954){const _0x26fae6=_0xdcbb79;return _0x224954['forEach'](_0x26ea7c=>{const _0xace387=a0_0x27c7;switch(_0x26ea7c[_0xace387(0x952)]){case _0xace387(0x82e):this[_0xace387(0x82e)][_0xace387(0x9a7)](_0x26ea7c);break;case _0xace387(0x72f):this[_0xace387(0x72f)]['processReport'](_0x26ea7c);}}),this[_0x26fae6(0x2d3)]();}[_0xdcbb79(0x2d3)](){const _0x48f8bb=_0xdcbb79;return{'audio':this['audio']['getReport'](),'video':this[_0x48f8bb(0x72f)][_0x48f8bb(0x2d3)](),'roundTripTime':this[_0x48f8bb(0x22d)](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this[_0x48f8bb(0x276)]};}[_0xdcbb79(0x22d)](){const _0x3b714e=_0xdcbb79;return Math[_0x3b714e(0x725)]((this['audio'][_0x3b714e(0x747)]+this[_0x3b714e(0x72f)][_0x3b714e(0x747)])/0x2);}[_0xdcbb79(0x793)](){const _0x3f37dc=_0xdcbb79;return this[_0x3f37dc(0x82e)]['estimatedPlayoutTimestamp']-this[_0x3f37dc(0x72f)][_0x3f37dc(0x395)];}}class _0x375986{[_0xdcbb79(0x1dd)]=0x0;[_0xdcbb79(0x9ce)]=0x0;['receiverCurrentTimestamp']=0x0;['receiverPreviousTimestamp']=0x0;[_0xdcbb79(0x17d)]=0x0;[_0xdcbb79(0x897)]=0x0;[_0xdcbb79(0x821)]=0x0;['receiverPreviousBytes']=0x0;[_0xdcbb79(0x50f)]=0x0;[_0xdcbb79(0x940)]=0x0;[_0xdcbb79(0x613)]=0x0;[_0xdcbb79(0x8d3)]=0x0;[_0xdcbb79(0x747)]=0x0;get[_0xdcbb79(0x276)](){const _0x3e9398=_0xdcbb79;return this[_0x3e9398(0x237)]+this[_0x3e9398(0x33e)];}get['senderBitrate'](){const _0x143325=_0xdcbb79;return this[_0x143325(0x1dd)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date['now']()-this[_0x143325(0x1dd)]<_0x5d5fda?(this[_0x143325(0x17d)]-this[_0x143325(0x897)])/(this[_0x143325(0x1dd)]-this[_0x143325(0x9ce)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x26a65f=_0xdcbb79;return this[_0x26a65f(0x3fa)]>0x0&&this['receiverPreviousTimestamp']>0x0&&Date['now']()-this[_0x26a65f(0x3fa)]<_0x5d5fda?(this['receiverCurrentBytes']-this[_0x26a65f(0xa0f)])/(this[_0x26a65f(0x3fa)]-this[_0x26a65f(0x51e)])*0x8*0x3e8:0x0;}['processReport'](_0x9ae28c){const _0x33fb52=_0xdcbb79;switch(_0x9ae28c[_0x33fb52(0x5f8)]){case _0x54ce26[_0x33fb52(0x6bd)]:this[_0x33fb52(0x54e)](_0x9ae28c);break;case _0x54ce26[_0x33fb52(0x3f5)]:this[_0x33fb52(0xa03)](_0x9ae28c);}}[_0xdcbb79(0x2d3)](){const _0x150256=_0xdcbb79;return{'bitrate':this[_0x150256(0x276)],'senderBitrate':this[_0x150256(0x237)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this['getTotalBytes'](),'senderTotalBytes':this['getSenderTotalBytes'](),'receiverTotalBytes':this[_0x150256(0x277)](),'totalMessages':this[_0x150256(0x50f)]+this[_0x150256(0x940)],'senderTotalMessages':this[_0x150256(0x50f)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this['senderTimeProcessing']+this[_0x150256(0x8d3)],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x150256(0x747)]};}['getTotalBytes'](){const _0x46d7b6=_0xdcbb79;return this[_0x46d7b6(0x17d)]+this[_0x46d7b6(0x821)];}[_0xdcbb79(0x819)](){const _0x13067f=_0xdcbb79;return this[_0x13067f(0x17d)];}[_0xdcbb79(0x277)](){const _0x1b73f9=_0xdcbb79;return this[_0x1b73f9(0x821)];}['processSenderReport'](_0x384c65){const _0x33be2b=_0xdcbb79;this[_0x33be2b(0x352)](_0x384c65[_0x33be2b(0x553)]),this[_0x33be2b(0x34d)](_0x384c65[_0x33be2b(0x82c)]),this[_0x33be2b(0x50f)]=_0x384c65['messagesSent'],this[_0x33be2b(0x613)]=_0x384c65[_0x33be2b(0x93c)],this[_0x33be2b(0x747)]=_0x384c65['roundTripTime'];}[_0xdcbb79(0xa03)](_0x1c4c84){const _0x583c5b=_0xdcbb79;this[_0x583c5b(0x4f2)](_0x1c4c84[_0x583c5b(0x553)]),this[_0x583c5b(0x988)](_0x1c4c84['bytesReceived']),this[_0x583c5b(0x940)]=_0x1c4c84[_0x583c5b(0x958)],this[_0x583c5b(0x8d3)]=_0x1c4c84[_0x583c5b(0x7ff)];}[_0xdcbb79(0x352)](_0x22c796){const _0x46add9=_0xdcbb79;_0x22c796>this[_0x46add9(0x1dd)]&&(this[_0x46add9(0x9ce)]=this[_0x46add9(0x1dd)],this['senderCurrentTimestamp']=_0x22c796);}[_0xdcbb79(0x4f2)](_0x4fd14b){const _0x23d443=_0xdcbb79;_0x4fd14b>this[_0x23d443(0x3fa)]&&(this[_0x23d443(0x51e)]=this[_0x23d443(0x3fa)],this[_0x23d443(0x3fa)]=_0x4fd14b);}[_0xdcbb79(0x34d)](_0xd10e37){const _0x5b115c=_0xdcbb79;this[_0x5b115c(0x897)]=this[_0x5b115c(0x17d)],this['senderCurrentBytes']=_0xd10e37;}[_0xdcbb79(0x988)](_0x25331b){const _0x2c7d3f=_0xdcbb79;this[_0x2c7d3f(0xa0f)]=this['receiverCurrentBytes'],this[_0x2c7d3f(0x821)]=_0x25331b;}}class _0x16a518{['senderStreams']=new Map();[_0xdcbb79(0x948)]=new Map();[_0xdcbb79(0x362)]=new _0x375986();get['senderBitrate'](){const _0x56807c=_0xdcbb79;let _0x2f0fbe=0x0;return this[_0x56807c(0x223)][_0x56807c(0x5f6)](_0x32ccd7=>{const _0x537833=_0x56807c;_0x2f0fbe+=_0x32ccd7[_0x537833(0x276)];}),_0x2f0fbe+=this[_0x56807c(0x362)][_0x56807c(0x237)],_0x2f0fbe;}get[_0xdcbb79(0x33e)](){const _0x3b01cf=_0xdcbb79;let _0x324abf=0x0;return this[_0x3b01cf(0x948)][_0x3b01cf(0x5f6)](_0x28c531=>{const _0x54d6a0=_0x3b01cf;_0x324abf+=_0x28c531[_0x54d6a0(0x276)];}),_0x324abf+=this[_0x3b01cf(0x362)][_0x3b01cf(0x33e)],_0x324abf;}get[_0xdcbb79(0x276)](){const _0x39857c=_0xdcbb79;return this[_0x39857c(0x237)]+this[_0x39857c(0x33e)];}[_0xdcbb79(0x8ed)](_0x465bb3,_0x3fb65b){const _0x421328=_0xdcbb79,_0xd066f1=[],_0xd41137=[];return _0x465bb3 instanceof Array?_0x465bb3[_0x421328(0x5f6)](_0x56b979=>{const _0x4c54ac=_0x421328;_0x56b979[_0x4c54ac(0x5f6)](_0x2b6a2f=>{const _0x7aaafc=_0x4c54ac;_0x2a216b['includes'](_0x2b6a2f[_0x7aaafc(0x8fa)])&&_0xd066f1[_0x7aaafc(0x90d)](_0x2b6a2f),_0x5c0343[_0x7aaafc(0x949)](_0x2b6a2f[_0x7aaafc(0x8fa)])&&_0xd41137[_0x7aaafc(0x90d)](_0x2b6a2f);});}):this['dataChannel'][_0x421328(0x9a7)](_0x465bb3),_0xd066f1[_0x421328(0x454)]>0x0&&_0x3fb65b?{...this['processInboundReports'](_0x3fb65b,_0xd066f1),'origin':_0x54ce26[_0x421328(0x3f5)],'streamId':_0x3fb65b}:_0xd41137['length']>0x0&&_0x3fb65b?{...this['processOutboundReports'](_0x3fb65b,_0xd41137),'origin':_0x54ce26['Sender'],'streamId':_0x3fb65b}:void 0x0;}['getReport'](){const _0x1cd53e=_0xdcbb79,_0x46d131={};this['senderStreams'][_0x1cd53e(0x5f6)]((_0x2bf57f,_0x5b0bce)=>{const _0x253bb9=_0x1cd53e;_0x46d131[_0x5b0bce]=_0x2bf57f[_0x253bb9(0x2d3)]();});const _0x5315aa={};return this[_0x1cd53e(0x948)][_0x1cd53e(0x5f6)]((_0x2f3c10,_0x34427d)=>{_0x5315aa[_0x34427d]=_0x2f3c10['getReport']();}),{'bitrate':this['bitrate'],'senderBitrate':this[_0x1cd53e(0x237)],'receiverBitrate':this[_0x1cd53e(0x33e)],'senderStreams':_0x46d131,'receiverStreams':_0x5315aa,'dataChannel':this[_0x1cd53e(0x362)][_0x1cd53e(0x2d3)]()};}[_0xdcbb79(0x7bc)](_0x2db7ed,_0x33a630){const _0x442555=_0xdcbb79;return this[_0x442555(0x948)]['has'](_0x2db7ed)||this[_0x442555(0x948)][_0x442555(0x80a)](_0x2db7ed,new _0x2618d3()),this[_0x442555(0x948)][_0x442555(0x3ee)](_0x2db7ed)[_0x442555(0x8ed)](_0x33a630);}[_0xdcbb79(0x1d4)](_0x254351,_0x541fac){const _0x364bac=_0xdcbb79;return this['senderStreams'][_0x364bac(0x504)](_0x254351)||this['senderStreams'][_0x364bac(0x80a)](_0x254351,new _0x2618d3()),this[_0x364bac(0x223)]['get'](_0x254351)[_0x364bac(0x8ed)](_0x541fac);}}class _0x27e48a{['nodes']=new Map();[_0xdcbb79(0x745)]=0x0;[_0xdcbb79(0x662)]=0x0;['pubsubTopics']=new Map();[_0xdcbb79(0x637)]=new Map();[_0xdcbb79(0x556)]=new Map();['generativeAIContexts']=new Map();[_0xdcbb79(0x954)]=new Map();[_0xdcbb79(0x762)]=new Map();['graphDatabases']=new Map();[_0xdcbb79(0x87c)]=new Map();[_0xdcbb79(0x50f)]=new Map();[_0xdcbb79(0x940)]=new Map();[_0xdcbb79(0x613)]=new Map();[_0xdcbb79(0x8d3)]=new Map();['systemMessages']=new Map();[_0xdcbb79(0x5df)];['getReport'](){const _0x267370=_0xdcbb79,_0x77559e={};this[_0x267370(0x6fa)]['forEach']((_0x405ea6,_0x5c6cc1)=>{const _0x34a881=_0x267370;_0x77559e[_0x5c6cc1]=_0x405ea6[_0x34a881(0x2d3)]();});let _0x55d370=0x0;this['senderTimeProcessing'][_0x267370(0x5f6)](_0x5f0ace=>{_0x55d370+=_0x5f0ace;});let _0x8d3b5c=0x0;this['receiverTimeProcessing'][_0x267370(0x5f6)](_0x39b0b2=>{_0x8d3b5c+=_0x39b0b2;});const _0x27fc33=_0x55d370+_0x8d3b5c;let _0x560796={'messages':{'total':0x0}};this[_0x267370(0x54c)][_0x267370(0x5f6)](_0xa2d67e=>{const _0x592ba2=_0x267370;Object[_0x592ba2(0x7b7)](_0xa2d67e)['forEach'](_0x3a0cf8=>{const _0x2c903a=_0x592ba2;_0x560796[_0x3a0cf8]||(_0x560796[_0x3a0cf8]={}),Object[_0x2c903a(0x7b7)](_0xa2d67e[_0x3a0cf8])[_0x2c903a(0x5f6)](_0x306179=>{_0x560796[_0x3a0cf8][_0x306179]||(_0x560796[_0x3a0cf8][_0x306179]=0x0),_0x560796[_0x3a0cf8][_0x306179]+=_0xa2d67e[_0x3a0cf8][_0x306179];});});});let _0x414a9a=0x0,_0x539fb9=0x0,_0x127f1a=0x0,_0x607ab3=0x0,_0x1d860f=0x0;return this['pubsubTopics'][_0x267370(0x5f6)](_0xa6b6ca=>{const _0x320933=_0x267370;_0x539fb9+=_0xa6b6ca[_0x320933(0x9b6)],_0x127f1a+=_0xa6b6ca[_0x320933(0x958)],_0x607ab3+=_0xa6b6ca['bytesSent'],_0x1d860f+=_0xa6b6ca[_0x320933(0x6d1)];}),this[_0x267370(0x637)][_0x267370(0x5f6)](_0x4c68ee=>{const _0x437998=_0x267370;_0x414a9a+=_0x4c68ee[_0x437998(0x1ed)],_0x539fb9+=_0x4c68ee['messagesSent'],_0x127f1a+=_0x4c68ee['messagesReceived'],_0x607ab3+=_0x4c68ee[_0x437998(0x82c)],_0x1d860f+=_0x4c68ee[_0x437998(0x6d1)];}),this[_0x267370(0x556)]['forEach'](_0x12e4eb=>{const _0x415aa4=_0x267370;_0x414a9a+=_0x12e4eb[_0x415aa4(0x1ed)],_0x539fb9+=_0x12e4eb[_0x415aa4(0x9b6)],_0x127f1a+=_0x12e4eb[_0x415aa4(0x958)],_0x607ab3+=_0x12e4eb[_0x415aa4(0x82c)],_0x1d860f+=_0x12e4eb[_0x415aa4(0x6d1)];}),this[_0x267370(0x440)][_0x267370(0x5f6)](_0x17f956=>{const _0x534267=_0x267370;_0x414a9a+=_0x17f956[_0x534267(0x1ed)],_0x539fb9+=_0x17f956['messagesSent'],_0x127f1a+=_0x17f956[_0x534267(0x958)],_0x607ab3+=_0x17f956[_0x534267(0x82c)],_0x1d860f+=_0x17f956[_0x534267(0x6d1)];}),this[_0x267370(0x954)][_0x267370(0x5f6)](_0x3e952e=>{const _0x1396a3=_0x267370;_0x414a9a+=_0x3e952e['storage'],_0x539fb9+=_0x3e952e['messagesSent'],_0x127f1a+=_0x3e952e[_0x1396a3(0x958)],_0x607ab3+=_0x3e952e[_0x1396a3(0x82c)],_0x1d860f+=_0x3e952e[_0x1396a3(0x6d1)];}),this[_0x267370(0x762)][_0x267370(0x5f6)](_0x125667=>{const _0x3214fe=_0x267370;_0x414a9a+=_0x125667[_0x3214fe(0x1ed)],_0x539fb9+=_0x125667['messagesSent'],_0x127f1a+=_0x125667[_0x3214fe(0x958)],_0x607ab3+=_0x125667[_0x3214fe(0x82c)],_0x1d860f+=_0x125667[_0x3214fe(0x6d1)];}),this[_0x267370(0x879)][_0x267370(0x5f6)](_0x2ce503=>{const _0x52f9b7=_0x267370;_0x414a9a+=_0x2ce503[_0x52f9b7(0x1ed)],_0x539fb9+=_0x2ce503[_0x52f9b7(0x9b6)],_0x127f1a+=_0x2ce503[_0x52f9b7(0x958)],_0x607ab3+=_0x2ce503[_0x52f9b7(0x82c)],_0x1d860f+=_0x2ce503['bytesReceived'];}),{'STVolatility':this[_0x267370(0x151)](),'DTVolatility':this[_0x267370(0x68d)](),'bitrate':this[_0x267370(0x8f8)](),'senderBitrate':this[_0x267370(0x3ae)](),'receiverBitrate':this[_0x267370(0x5c1)](),'totalStorageSize':_0x414a9a,'totalMessages':_0x539fb9+_0x127f1a,'totalMessagesSent':_0x539fb9,'totalMessagesReceived':_0x127f1a,'totalBytes':_0x607ab3+_0x1d860f,'totalBytesSent':_0x607ab3,'totalBytesReceived':_0x1d860f,'systemMessages':_0x560796,'timeProcessing':_0x27fc33,'nodes':_0x77559e,'pubsubTopics':Object[_0x267370(0x546)](this[_0x267370(0xa20)]),'objectStores':Object[_0x267370(0x546)](this[_0x267370(0x637)]),'keyValueDatabases':Object['fromEntries'](this['keyValueDatabases']),'generativeAIContexts':Object[_0x267370(0x546)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x267370(0x546)](this['generativeAIWorkers']),'vectorDatabases':Object[_0x267370(0x546)](this[_0x267370(0x762)]),'graphDatabases':Object[_0x267370(0x546)](this['graphDatabases']),'externalStorages':Object[_0x267370(0x546)](this[_0x267370(0x87c)])};}[_0xdcbb79(0x550)](_0x1a12da){const _0x12b718=_0xdcbb79;this[_0x12b718(0x6fa)][_0x12b718(0x80a)](_0x1a12da,new _0x16a518());}[_0xdcbb79(0x3b0)](_0x458a2f){const _0x4ec02e=_0xdcbb79;this[_0x4ec02e(0x6fa)][_0x4ec02e(0x652)](_0x458a2f);}[_0xdcbb79(0x8ed)](_0x39f341,_0x297cf2,_0x514817){const _0x5e9679=_0xdcbb79;_0x297cf2 instanceof Array||this[_0x5e9679(0x543)](_0x39f341,_0x297cf2);const _0x7e933b=this[_0x5e9679(0x6fa)][_0x5e9679(0x3ee)](_0x39f341)?.['processReports'](_0x297cf2,_0x514817);_0x7e933b&&this[_0x5e9679(0x5df)][_0x5e9679(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x5e9679(0x8b5)],'content':{'type':_0x5c830e[_0x5e9679(0x2cc)],'data':{..._0x7e933b,'nodeId':_0x39f341}}});}[_0xdcbb79(0x77e)](_0x178a58){const _0x4935b0=_0xdcbb79;this[_0x4935b0(0x966)](_0x178a58['secheduleTime']),this[_0x4935b0(0x182)](_0x178a58['durationTime']),this[_0x4935b0(0x5df)][_0x4935b0(0x884)]({'sourceId':_0x3c7c3b,'messageType':_0x447632[_0x4935b0(0x8b5)],'content':{'type':_0x5c830e[_0x4935b0(0x512)],'data':{'STVolatility':this[_0x4935b0(0x151)](),'DTVolatility':this[_0x4935b0(0x68d)]()}}});}[_0xdcbb79(0x1e2)](_0x3771df,_0x1f3e48,_0x684364){const _0x4596cc=_0xdcbb79;switch(_0x1f3e48){case _0x31d4ec[_0x4596cc(0x95b)]:this[_0x4596cc(0xa20)][_0x4596cc(0x80a)](_0x3771df,_0x684364);break;case _0x31d4ec['ObjectStoreStats']:this[_0x4596cc(0x637)][_0x4596cc(0x80a)](_0x3771df,_0x684364);break;case _0x31d4ec['KeyValueDatabaseStats']:this[_0x4596cc(0x556)][_0x4596cc(0x80a)](_0x3771df,_0x684364);break;case _0x31d4ec[_0x4596cc(0x594)]:this['generativeAIContexts'][_0x4596cc(0x80a)](_0x3771df,_0x684364);break;case _0x31d4ec[_0x4596cc(0x3bb)]:this[_0x4596cc(0x954)][_0x4596cc(0x80a)](_0x3771df,_0x684364);break;case _0x31d4ec[_0x4596cc(0xa45)]:this['vectorDatabases'][_0x4596cc(0x80a)](_0x3771df,_0x684364);break;case _0x31d4ec[_0x4596cc(0x53b)]:this[_0x4596cc(0x879)][_0x4596cc(0x80a)](_0x3771df,_0x684364);break;case _0x31d4ec[_0x4596cc(0x6e5)]:this['externalStorages'][_0x4596cc(0x80a)](_0x3771df,_0x684364);}}['registerSystemPublisher'](_0x5c829b){const _0x15013c=_0xdcbb79;this[_0x15013c(0x5df)]=_0x5c829b;}[_0xdcbb79(0x1c8)](){const _0xd0f5f7=_0xdcbb79;delete this[_0xd0f5f7(0x5df)];}[_0xdcbb79(0x151)](){const _0x1c81b8=_0xdcbb79;return this['scheduleTime']>0x0&&this[_0x1c81b8(0x745)]-_0x23cbc6>0x0?(this[_0x1c81b8(0x745)]-_0x23cbc6)/_0x23cbc6:0x0;}['getDTVolatility'](){const _0x222ea6=_0xdcbb79;return this[_0x222ea6(0x662)]>0x0&&this[_0x222ea6(0x662)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0xdcbb79(0x3ae)](){const _0x3bfed9=_0xdcbb79;let _0x2559aa=0x0;return this['nodes'][_0x3bfed9(0x5f6)](_0x434d44=>{const _0x1e6e26=_0x3bfed9;_0x2559aa+=_0x434d44[_0x1e6e26(0x237)];}),_0x2559aa;}[_0xdcbb79(0x5c1)](){const _0x39586b=_0xdcbb79;let _0x4ed9aa=0x0;return this[_0x39586b(0x6fa)][_0x39586b(0x5f6)](_0x256208=>{_0x4ed9aa+=_0x256208['receiverBitrate'];}),_0x4ed9aa;}[_0xdcbb79(0x8f8)](){const _0x33e3b8=_0xdcbb79;let _0xc4a9bc=0x0;return this[_0x33e3b8(0x6fa)][_0x33e3b8(0x5f6)](_0x248f85=>{const _0xa3569=_0x33e3b8;_0xc4a9bc+=_0x248f85[_0xa3569(0x276)];}),_0xc4a9bc;}[_0xdcbb79(0x966)](_0x5bc448){const _0x5b501c=_0xdcbb79;this[_0x5b501c(0x745)]=_0x5bc448;}['setDurationTime'](_0x16765a){const _0x4492d6=_0xdcbb79;this[_0x4492d6(0x662)]=_0x16765a;}[_0xdcbb79(0x543)](_0x28c539,_0xa253f5){const _0x57dbc9=_0xdcbb79;switch(_0xa253f5[_0x57dbc9(0x5f8)]){case _0x54ce26['Sender']:this[_0x57dbc9(0x54e)](_0x28c539,_0xa253f5);break;case _0x54ce26['Receiver']:this[_0x57dbc9(0xa03)](_0x28c539,_0xa253f5);}}[_0xdcbb79(0x54e)](_0x1ea266,_0x24d0c3){const _0x1a28e6=_0xdcbb79;this['senderTotalMessages']['set'](_0x1ea266,_0x24d0c3[_0x1a28e6(0x9b6)]),this[_0x1a28e6(0x613)][_0x1a28e6(0x80a)](_0x1ea266,_0x24d0c3[_0x1a28e6(0x93c)]);}['processReceiverReport'](_0x599165,_0x4febcc){const _0x27ef69=_0xdcbb79;this[_0x27ef69(0x940)][_0x27ef69(0x80a)](_0x599165,_0x4febcc[_0x27ef69(0x958)]),this[_0x27ef69(0x8d3)][_0x27ef69(0x80a)](_0x599165,_0x4febcc[_0x27ef69(0x7ff)]),this[_0x27ef69(0x54c)][_0x27ef69(0x80a)](_0x599165,_0x4febcc[_0x27ef69(0x54c)]);}}class _0x1bd2a4{[_0xdcbb79(0x3c6)];[_0xdcbb79(0x866)]=new Set();[_0xdcbb79(0x870)];[_0xdcbb79(0xa2b)];[_0xdcbb79(0x76d)];[_0xdcbb79(0x1b1)]=new _0x27e48a();constructor(_0x56079e){const _0x1cf421=_0xdcbb79;this[_0x1cf421(0x3c6)]=_0x56079e,this[_0x1cf421(0x3c6)][_0x1cf421(0x3a5)][_0x1cf421(0x849)](this[_0x1cf421(0x1b1)]),this['statsCollection']=this[_0x1cf421(0x618)](),this[_0x1cf421(0x76d)]=this[_0x1cf421(0x485)]();}['close'](){const _0x289c05=_0xdcbb79;this[_0x289c05(0x3c6)]['mediator'][_0x289c05(0x341)](this['statsReport']),this[_0x289c05(0x76d)](),this[_0x289c05(0xa2b)]();}[_0xdcbb79(0x550)](_0x2eeade){const _0x3cef32=_0xdcbb79;this['remoteNodes'][_0x3cef32(0x164)](_0x2eeade),this[_0x3cef32(0x1b1)][_0x3cef32(0x550)](_0x2eeade);}['removeRemoteNode'](_0x4e358d){const _0x1aae69=_0xdcbb79;this[_0x1aae69(0x866)][_0x1aae69(0x652)](_0x4e358d),this[_0x1aae69(0x1b1)][_0x1aae69(0x3b0)](_0x4e358d);}['handlePeerConnectionSystemEvents'](_0x47c16f){const _0x380baa=_0xdcbb79;if(_0x47c16f[_0x380baa(0x7bd)][_0x380baa(0x8fa)]===_0x35a889[_0x380baa(0x8b5)]){const {nodeId:_0x3123f0,streamId:_0xc95f97,stats:_0x4b184f}=_0x47c16f['content'];this[_0x380baa(0x1b1)][_0x380baa(0x8ed)](_0x3123f0,_0x4b184f,_0xc95f97);}}['handleContentSystemEvents'](_0x440e8c){const _0x24215d=_0xdcbb79;switch(_0x440e8c[_0x24215d(0x7bd)]['type']){case _0x31d4ec[_0x24215d(0xa15)]:case _0x31d4ec[_0x24215d(0x845)]:case _0x31d4ec[_0x24215d(0x95b)]:case _0x31d4ec[_0x24215d(0x594)]:case _0x31d4ec[_0x24215d(0x3bb)]:case _0x31d4ec[_0x24215d(0xa45)]:case _0x31d4ec[_0x24215d(0x53b)]:case _0x31d4ec[_0x24215d(0x6e5)]:this[_0x24215d(0x1b1)][_0x24215d(0x1e2)](_0x440e8c[_0x24215d(0x7bd)][_0x24215d(0x726)],_0x440e8c[_0x24215d(0x7bd)][_0x24215d(0x8fa)],_0x440e8c[_0x24215d(0x7bd)][_0x24215d(0xa32)]);}}[_0xdcbb79(0x485)](){const _0x491c9c=_0xdcbb79;return _0x4f45f0[_0x491c9c(0x22c)](()=>{const _0xd4cda6=_0x491c9c,_0x3c9f4a=this[_0xd4cda6(0x1b1)][_0xd4cda6(0x2d3)]();_0xbff73d[_0xd4cda6(0x198)](_0x1f75f2[_0xd4cda6(0x8b5)],_0xd4cda6(0x490),_0x3c9f4a),(0x0,_0x34d3c5[_0xd4cda6(0x943)])((0x0,_0x34d3c5['collection'])(_0x35c568[_0xd4cda6(0x152)](),_0xd4cda6(0x693)+this[_0xd4cda6(0x3c6)]['vendorId']+_0xd4cda6(0x955)),{'clusterId':this[_0xd4cda6(0x3c6)][_0xd4cda6(0x31a)],'nodeId':this[_0xd4cda6(0x3c6)]['localNode']['getId'](),'nodeType':this[_0xd4cda6(0x3c6)][_0xd4cda6(0x99b)][_0xd4cda6(0x8fa)],'timestamp':(0x0,_0x34d3c5[_0xd4cda6(0x241)])(),'report':_0x3c9f4a}),_0xbff73d[_0xd4cda6(0x265)](_0xd4cda6(0xa32),{'clusterId':this[_0xd4cda6(0x3c6)][_0xd4cda6(0x31a)],'nodeId':this['configs'][_0xd4cda6(0x99b)][_0xd4cda6(0xa10)](),'nodeType':this['configs'][_0xd4cda6(0x99b)][_0xd4cda6(0x8fa)],'data':{'report':_0x3c9f4a}});},_0x5d5fda);}[_0xdcbb79(0x618)](){const _0x2c9078=_0xdcbb79;let _0x56db0c=!0x1,_0x2bd0b5=Date[_0x2c9078(0x667)]();return _0x4f45f0[_0x2c9078(0x22c)](async()=>{const _0x1ec87d=_0x2c9078;if(_0x56db0c)return;if(_0x56db0c=!0x0,0x0===this[_0x1ec87d(0x866)][_0x1ec87d(0x400)])return delete this[_0x1ec87d(0x870)],void(_0x56db0c=!0x1);const _0x131c66=Date[_0x1ec87d(0x667)]();this[_0x1ec87d(0x941)]();try{await this['configs'][_0x1ec87d(0x3a5)]['collectStats'](this[_0x1ec87d(0x870)]);}catch(_0x5d7b70){}this[_0x1ec87d(0x1b1)]['processLocalReport']({'secheduleTime':_0x131c66-_0x2bd0b5,'durationTime':Date[_0x1ec87d(0x667)]()-_0x131c66}),_0x2bd0b5=_0x131c66,_0x56db0c=!0x1;},_0x23cbc6);}['findNextNodeId'](){const _0x3b860e=_0xdcbb79;let _0x407990,_0x6b48f7=!0x1;this[_0x3b860e(0x870)]&&(this[_0x3b860e(0x866)][_0x3b860e(0x504)](this[_0x3b860e(0x870)])||delete this[_0x3b860e(0x870)]);for(const _0x579799 of this[_0x3b860e(0x866)])if(_0x407990||(_0x407990=_0x579799),this[_0x3b860e(0x870)]!==_0x579799){if(_0x6b48f7)return void(this[_0x3b860e(0x870)]=_0x579799);}else _0x6b48f7=!0x0,delete this[_0x3b860e(0x870)];this[_0x3b860e(0x870)]||(this['nextNodeId']=_0x407990);}}class _0x23c75c{[_0xdcbb79(0x846)];[_0xdcbb79(0x7c4)];[_0xdcbb79(0x5df)];constructor(_0x451b59,_0x119dc1){const _0x281965=_0xdcbb79;this[_0x281965(0x846)]=_0x451b59,this['destination']=_0x119dc1;}[_0xdcbb79(0x724)](_0x5c6756){this['systemTopic']=_0x5c6756;}[_0xdcbb79(0x1c8)](){const _0x3c0e2a=_0xdcbb79;delete this[_0x3c0e2a(0x5df)];}}class _0x19a51f extends _0x23c75c{['source'];[_0xdcbb79(0x7c4)];[_0xdcbb79(0x48e)];constructor(_0x207e23,_0x515460,_0x519fa3){const _0x372594=_0xdcbb79;super(_0x207e23,_0x515460),this[_0x372594(0x846)]=_0x207e23,this[_0x372594(0x7c4)]=_0x515460,this[_0x372594(0x48e)]=_0x519fa3;}[_0xdcbb79(0x917)](_0x36a838,_0x5254a2,_0x2a9c36){const _0x2118cd=_0xdcbb79;if(this['destination']['getContentType']()===_0x410512[_0x2118cd(0xa30)][_0x2118cd(0x2c9)]){const _0x55ca43={'type':_0x1875b9[_0x2118cd(0x41e)],'label':this[_0x2118cd(0x7c4)][_0x2118cd(0x7ed)](),'ownerId':_0x36a838,'trackKinds':_0x5254a2??this['destination'][_0x2118cd(0x94f)](),'params':_0x2a9c36};this[_0x2118cd(0x5df)][_0x2118cd(0x884)]({'sourceId':this[_0x2118cd(0x846)]['getLocalId'](),'destinationIds':[this[_0x2118cd(0x846)][_0x2118cd(0x6c9)]()],'messageType':_0x447632[_0x2118cd(0x915)],'content':_0x55ca43}),this[_0x2118cd(0x48e)]=_0x2a9c36;}}[_0xdcbb79(0x65d)](_0xc90e3,_0x2fb21a){const _0x2e05fb=_0xdcbb79;if(this['destination']['getContentType']()===_0x410512[_0x2e05fb(0xa30)]['Media']){const _0x1a1be9={'type':_0x1875b9[_0x2e05fb(0x62a)],'label':this[_0x2e05fb(0x7c4)]['getLabel'](),'ownerId':_0xc90e3,'params':_0x2fb21a};this['systemTopic'][_0x2e05fb(0x884)]({'sourceId':this[_0x2e05fb(0x846)]['getLocalId'](),'destinationIds':[this['source'][_0x2e05fb(0x6c9)]()],'messageType':_0x447632[_0x2e05fb(0x915)],'content':_0x1a1be9}),this[_0x2e05fb(0x48e)]=_0x2fb21a;}}[_0xdcbb79(0x1aa)](_0x215c54,_0x361da7,_0x3010a7){const _0x1fefe2=_0xdcbb79;if(this['destination'][_0x1fefe2(0x3aa)]()===_0x410512['ContentType'][_0x1fefe2(0x2c9)]){const _0x4aa2aa={'type':_0x1875b9[_0x1fefe2(0x63b)],'label':this[_0x1fefe2(0x7c4)]['getLabel'](),'ownerId':_0x215c54,'trackKinds':_0x3010a7??this[_0x1fefe2(0x7c4)]['getAvailableTrackKinds'](),'remainingTracks':_0x361da7};this['systemTopic'][_0x1fefe2(0x884)]({'sourceId':this[_0x1fefe2(0x846)][_0x1fefe2(0x1fa)](),'destinationIds':[this[_0x1fefe2(0x846)][_0x1fefe2(0x6c9)]()],'messageType':_0x447632[_0x1fefe2(0x915)],'content':_0x4aa2aa});}}}class _0x1676b7{[_0xdcbb79(0x39f)];['maxDistance'];[_0xdcbb79(0x25a)];['systemTopic'];['answers']=new Set();[_0xdcbb79(0x55f)]=Date[_0xdcbb79(0x667)]();[_0xdcbb79(0x48e)];[_0xdcbb79(0x21e)]=0x0;constructor(_0x597ec8,_0x526cc0,_0x463d90,_0x5e2df6){const _0x34cb36=_0xdcbb79;this[_0x34cb36(0x39f)]=_0x526cc0,this[_0x34cb36(0x63e)]=_0x463d90,this[_0x34cb36(0x25a)]=_0x5e2df6,_0x597ec8[_0x34cb36(0x5f6)](_0x305c9f=>{const _0x2aa8d3=_0x34cb36;this[_0x2aa8d3(0x343)]['add']({'nodeId':_0x305c9f,'type':_0x5b5c37[_0x2aa8d3(0xa14)]});});}[_0xdcbb79(0x9a3)](){const _0x2fb44e=_0xdcbb79;return this[_0x2fb44e(0x25a)];}[_0xdcbb79(0x724)](_0x110c79){this['systemTopic']=_0x110c79;}['unregisterSystemPublisher'](){const _0x2fd456=_0xdcbb79;delete this[_0x2fd456(0x5df)];}[_0xdcbb79(0x337)](_0x3c7a94,_0x5ca0c8){const _0x8c01c0=_0xdcbb79;this['startTime']=Date[_0x8c01c0(0x667)](),this[_0x8c01c0(0x343)][_0x8c01c0(0x6d0)](),_0x3c7a94[_0x8c01c0(0x5f6)](_0x33dcf3=>{const _0x9117fe=_0x8c01c0;this['answers'][_0x9117fe(0x164)]({'nodeId':_0x33dcf3,'type':_0x5b5c37[_0x9117fe(0xa14)]});}),this['retryCount']+=0x1,this['currentDistance']=_0x5ca0c8;}['sendRequest'](_0x59d7c8,_0x851ffa,_0x2df710,_0x4ea8c1,_0x1e123f){const _0x664f6e=_0xdcbb79;if(this['retryCount']>0xa)throw new _0x3c9628(_0x3c9628['codes'][_0x664f6e(0x785)],{'answers':Array[_0x664f6e(0x6dd)](this[_0x664f6e(0x343)])[_0x664f6e(0x945)](_0x1f434f=>({'nodeId':_0x1f434f[_0x664f6e(0x6c8)],'type':_0x1f434f[_0x664f6e(0x8fa)]}))});const _0x445f0e=Array['from'](this[_0x664f6e(0x343)])[_0x664f6e(0x945)](_0x47b7f8=>_0x47b7f8['nodeId']);this[_0x664f6e(0x48e)]=_0x1e123f,this[_0x664f6e(0x5df)][_0x664f6e(0x884)]({'sourceId':_0x59d7c8,'destinationIds':_0x445f0e,'messageType':_0x447632['Subscription'],'content':{'type':_0x1875b9[_0x664f6e(0x3fe)],'label':_0x2df710,'ownerId':_0x851ffa,'trackKinds':_0x4ea8c1,'params':_0x1e123f}}),_0xbff73d[_0x664f6e(0x198)](_0x1f75f2[_0x664f6e(0x915)],_0x664f6e(0x465),_0x59d7c8,_0x445f0e);}[_0xdcbb79(0x43f)](_0x32af58,_0x380921){const _0x169d86=_0xdcbb79;switch(_0x380921['type']){case _0x1875b9[_0x169d86(0x1ff)]:{const _0x26b1bb=this[_0x169d86(0x39f)]>=_0x380921[_0x169d86(0x443)]&&_0x380921['distance']<=this['maxDistance'],_0x1c8cc2=Array[_0x169d86(0x6dd)](this[_0x169d86(0x343)])[_0x169d86(0x39d)](_0x53d0e2=>_0x53d0e2['nodeId']===_0x32af58);_0x1c8cc2[_0x169d86(0x8fa)]=_0x26b1bb?_0x5b5c37[_0x169d86(0x628)]:_0x5b5c37[_0x169d86(0x9d3)],_0x1c8cc2['cost']=_0x380921[_0x169d86(0x759)],_0x1c8cc2[_0x169d86(0x443)]=_0x380921[_0x169d86(0x443)],_0x1c8cc2[_0x169d86(0x763)]=_0x380921['streamId'],_0x1c8cc2[_0x169d86(0x747)]=Date[_0x169d86(0x667)]()-this[_0x169d86(0x55f)],_0x1c8cc2[_0x169d86(0x48e)]=this[_0x169d86(0x48e)],_0x1c8cc2[_0x169d86(0x381)]=_0x380921[_0x169d86(0x381)],_0x1c8cc2[_0x169d86(0x5c3)]=_0x380921[_0x169d86(0x5c3)],_0x1c8cc2[_0x169d86(0x2df)]=_0x380921['label'],_0xbff73d['log'](_0x1f75f2[_0x169d86(0x915)],(_0x26b1bb?_0x169d86(0x628):'Rejected')+_0x169d86(0x5d1),_0x1c8cc2);break;}case _0x1875b9[_0x169d86(0x27e)]:{const _0x235d90=Array[_0x169d86(0x6dd)](this[_0x169d86(0x343)])['find'](_0x586705=>_0x586705[_0x169d86(0x6c8)]===_0x32af58);_0x235d90['type']=_0x5b5c37[_0x169d86(0x9d3)],_0xbff73d[_0x169d86(0x198)](_0x1f75f2[_0x169d86(0x915)],_0x169d86(0x39c),_0x235d90);break;}}if(this[_0x169d86(0x6c0)]())return this[_0x169d86(0x964)]();}[_0xdcbb79(0x964)](){const _0x8e4112=_0xdcbb79,_0x7ddc5=Array[_0x8e4112(0x6dd)](this[_0x8e4112(0x343)])[_0x8e4112(0x4e9)](_0x43fabe=>_0x43fabe['type']===_0x5b5c37[_0x8e4112(0x628)])[_0x8e4112(0x1ca)]((_0x107e0c,_0x2fcfa7)=>_0x107e0c[_0x8e4112(0x759)]===_0x2fcfa7[_0x8e4112(0x759)]?_0x107e0c[_0x8e4112(0x747)]-_0x2fcfa7[_0x8e4112(0x747)]:_0x107e0c[_0x8e4112(0x759)]-_0x2fcfa7['cost']);if(0x0===_0x7ddc5[_0x8e4112(0x454)])throw new _0x3c9628(_0x3c9628[_0x8e4112(0x994)]['SubscriptionRequestNoAnswer'],{'answers':Array['from'](this[_0x8e4112(0x343)])[_0x8e4112(0x945)](_0x4f5303=>({'nodeId':_0x4f5303['nodeId'],'type':_0x4f5303[_0x8e4112(0x8fa)]}))});return _0xbff73d['log'](_0x1f75f2[_0x8e4112(0x915)],_0x8e4112(0x3bf),_0x7ddc5[0x0],this[_0x8e4112(0x343)]),_0x7ddc5[0x0];}[_0xdcbb79(0x6c0)](){const _0x4982c3=_0xdcbb79;for(const _0x25f05f of this['answers'])if(_0x25f05f[_0x4982c3(0x8fa)]===_0x5b5c37[_0x4982c3(0xa14)])return!0x1;return!0x0;}}class _0x366f7f{['label'];[_0xdcbb79(0x2e9)];[_0xdcbb79(0xa11)]=_0x5de5e8();constructor(_0x41db5b,_0x61b473){const _0x19411d=_0xdcbb79;this[_0x19411d(0x726)]=_0x41db5b,this[_0x19411d(0x2e9)]=_0x61b473;}[_0xdcbb79(0x7ed)](){const _0x35159d=_0xdcbb79;return this[_0x35159d(0x726)];}['getContentType'](){const _0x27c558=_0xdcbb79;return this[_0x27c558(0x2e9)];}[_0xdcbb79(0x3f9)](_0x3cdc22){const _0x13ea9e=_0xdcbb79;_0x3cdc22[_0x13ea9e(0x524)](this);}[_0xdcbb79(0x294)](_0x35f30d){_0x35f30d['registerSubscriber'](this);}[_0xdcbb79(0x884)](_0x196891){const _0x59acc5=_0xdcbb79;this[_0x59acc5(0xa11)]['publish']({'topicLabel':this[_0x59acc5(0x726)],'contentType':this[_0x59acc5(0x2e9)],'uuid':(0x0,_0x539333['v4'])(),'recipients':[],..._0x196891});}['subscribe'](_0x594e49){const _0x54b1b0=_0xdcbb79;return this[_0x54b1b0(0xa11)][_0x54b1b0(0x917)](_0x594e49);}[_0xdcbb79(0x99c)](_0x18bd2f){const _0x190504=_0xdcbb79;_0x18bd2f[_0x190504(0x62e)](this);}[_0xdcbb79(0x752)](_0x5242d3){const _0x268a43=_0xdcbb79;_0x5242d3[_0x268a43(0x5da)](this);}}class _0x289511{[_0xdcbb79(0x236)]={'topics':new Map(),'subscriptions':new Map()};[_0xdcbb79(0x6f9)];constructor(_0x2006e5){this['getPartsFromSubscription']=_0x2006e5;}get[_0xdcbb79(0x70d)](){const _0x2e9bff=_0xdcbb79;return this[_0x2e9bff(0x236)][_0x2e9bff(0x70d)];}get[_0xdcbb79(0xa7d)](){const _0x38d10b=_0xdcbb79;return this[_0x38d10b(0x236)][_0x38d10b(0xa7d)];}['createSubscription'](_0x5b9d6,_0xc80bb1){const _0x132f8f=_0xdcbb79,_0x424af6=this[_0x132f8f(0x6f9)](_0xc80bb1),_0xf228b8=_0x2f5012(_0x5b9d6);if(!_0x424af6[_0x132f8f(0x6cd)])throw new _0x3c9628(_0x3c9628['codes'][_0x132f8f(0x651)],{'message':_0xf228b8+':\x20'+_0x424af6[_0x132f8f(0x515)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x424af6[_0x132f8f(0x2e9)],'subscriptionType':_0x5b9d6,'subscription':_0xc80bb1,'subscriptonParts':_0x424af6});const _0x5f9d26=_0x116ef0(_0x5b9d6,_0x424af6);if(this[_0x132f8f(0x236)][_0x132f8f(0x70d)][_0x132f8f(0x504)](_0x5f9d26))throw new _0x3c9628(_0x3c9628['codes'][_0x132f8f(0x651)],{'message':_0xf228b8+':\x20'+_0x5f9d26+_0x132f8f(0x3b3),'subscriptionType':_0x5b9d6,'subscription':_0xc80bb1,'subscriptonParts':_0x424af6});this[_0x132f8f(0x236)][_0x132f8f(0x70d)][_0x132f8f(0x80a)](_0x5f9d26,_0xc80bb1),this['createTopic'](_0x424af6,_0xc80bb1);}['removeSubscription'](_0x5d534c,_0x321b23){const _0x432403=_0xdcbb79,_0x39eb98=_0x116ef0(_0x321b23,_0x5d534c),_0x2ba9ed=this['maps'][_0x432403(0x70d)][_0x432403(0x3ee)](_0x39eb98);if(!_0x2ba9ed)throw new _0x3c9628(_0x3c9628[_0x432403(0x994)][_0x432403(0x651)],{'message':_0x2f5012(_0x321b23)+':\x20'+_0x39eb98+_0x432403(0x68b),'subscriptionType':_0x321b23,'subscription':_0x2ba9ed,'subscriptonParts':_0x5d534c});this[_0x432403(0x73b)](_0x2ba9ed,_0x39eb98,_0x5d534c);}[_0xdcbb79(0x73b)](_0x5c9220,_0x25879f,_0x4fa0e9){const _0xb78ab2=_0xdcbb79;_0x4fa0e9=_0x4fa0e9||this[_0xb78ab2(0x6f9)](_0x5c9220),this['maps'][_0xb78ab2(0x70d)]['delete'](_0x25879f),this[_0xb78ab2(0x8dd)](_0x4fa0e9,_0x5c9220);}[_0xdcbb79(0x2e0)](_0x1a7ad4,{source:_0xbd8672,destination:_0x155c02}){const _0xbbe4b0=_0xdcbb79,{contentType:_0x28df7f,label:_0x266343,remoteId:_0x979d99}=_0x1a7ad4,_0x312efa=_0x338449(_0x28df7f,_0x266343,_0x979d99),_0x48dd35=new _0x366f7f(_0x312efa,_0x28df7f);_0x48dd35[_0xbbe4b0(0x3f9)](_0xbd8672),_0x48dd35[_0xbbe4b0(0x294)](_0x155c02),this[_0xbbe4b0(0x236)][_0xbbe4b0(0xa7d)][_0xbbe4b0(0x80a)](_0x48dd35[_0xbbe4b0(0x7ed)](),_0x48dd35);}[_0xdcbb79(0x8dd)](_0x391f4c,_0x23b8ad){const _0x1fb6ba=_0xdcbb79,{contentType:_0x22d0bf,label:_0x41c7c2,remoteId:_0x46cc85}=_0x391f4c,_0x18d890=_0x338449(_0x22d0bf,_0x41c7c2,_0x46cc85),_0x1ff608=this[_0x1fb6ba(0x236)][_0x1fb6ba(0xa7d)][_0x1fb6ba(0x3ee)](_0x18d890);_0x1ff608&&(this[_0x1fb6ba(0x8a0)](_0x1ff608,_0x23b8ad),this[_0x1fb6ba(0x236)]['topics']['delete'](_0x18d890));}[_0xdcbb79(0x8a0)](_0x3a4f8c,{source:_0x3eb8bc,destination:_0x443554}){const _0x642e38=_0xdcbb79;_0x3a4f8c[_0x642e38(0x99c)](_0x3eb8bc),_0x3a4f8c[_0x642e38(0x752)](_0x443554);}['removeSubscriptionsForNode'](_0x598c5e){const _0x30200d=_0xdcbb79;this['maps'][_0x30200d(0x70d)][_0x30200d(0x5f6)]((_0xa3b2cb,_0x1a9941)=>{const _0x1ac5b2=_0x30200d;_0x1a9941[_0x1ac5b2(0x987)](_0x598c5e)&&this[_0x1ac5b2(0x73b)](_0xa3b2cb,_0x1a9941);});}}class _0x453f33{[_0xdcbb79(0x3c6)];[_0xdcbb79(0x63e)];[_0xdcbb79(0x33c)]=new Map();['subscriptionRequestsQueue']=_0xa3398e(new _0xc2a5e8(this[_0xdcbb79(0x8ee)][_0xdcbb79(0xa19)](this),()=>_0x4f45f0[_0xdcbb79(0x25f)](0x64)),!0x0);[_0xdcbb79(0x8fb)]=new Map();[_0xdcbb79(0x236)];['chosenAnswers']=new Map();constructor(_0xdb088b,_0x2232d9){const _0x26d486=_0xdcbb79;this['configs']=_0xdb088b,this[_0x26d486(0x63e)]=_0x2232d9,this[_0x26d486(0x236)]=new _0x289511(({source:_0x1728d5,destination:_0xc4e863})=>_0x90f46a(_0xc4e863,_0x1728d5));}['createSubscription'](_0x324fbc,_0x114d6d){const _0x3c066f=_0xdcbb79,_0x24bb63=this[_0x3c066f(0x413)](_0x324fbc)&&this[_0x3c066f(0x8e3)](_0x114d6d)?new _0x19a51f(_0x324fbc,_0x114d6d):new _0x23c75c(_0x324fbc,_0x114d6d);this[_0x3c066f(0x236)][_0x3c066f(0x5f7)](_0x23a41e[_0x3c066f(0x18f)],_0x24bb63),this['configs'][_0x3c066f(0x3a5)]['registerSystemSource'](_0x24bb63);}[_0xdcbb79(0x740)](_0x15256b,_0x398c56,_0x301a10=''){const _0x11cd6b=_0xdcbb79,_0x7ed98e={'contentType':_0x398c56,'label':_0x15256b,'remoteId':_0x301a10},_0xbe37f2=_0x116ef0(_0x23a41e[_0x11cd6b(0x18f)],_0x7ed98e),_0x59ec41=this[_0x11cd6b(0x236)][_0x11cd6b(0x70d)][_0x11cd6b(0x3ee)](_0xbe37f2);_0x59ec41&&this['closeSubscription'](_0x59ec41,_0xbe37f2);}[_0xdcbb79(0x44f)](_0x5b3253){const _0x13ed0d=_0xdcbb79;this[_0x13ed0d(0x4fe)](_0x5b3253);}['handleContentSubscribeMediaStream']({label:_0x1177db,ownerId:_0x24f410,trackKinds:_0x2a248d,params:_0x43cf1f}){this['requestSubscription'](_0x1177db,_0x24f410,_0x2a248d,_0x43cf1f);}[_0xdcbb79(0x4a8)]({ownerId:_0x559086,label:_0x37685c,params:_0x32bb6c}){const _0x32d2aa=_0xdcbb79,{subscriptionLabel:_0x5d4d70}=this[_0x32d2aa(0x8ef)](_0x37685c,_0x559086),_0xb446cc=this['getMediaSubscription'](_0x5d4d70);_0xb446cc&&_0xb446cc[_0x32d2aa(0x65d)](_0x559086,_0x32bb6c);}[_0xdcbb79(0x66e)]({ownerId:_0x25c42c,label:_0x562358,trackKinds:_0x58424d,remainingTracks:_0x4f193e}){const _0x1785ce=_0xdcbb79,_0xe76dc9=_0x116ef0(_0x23a41e[_0x1785ce(0x18f)],{'contentType':_0x410512[_0x1785ce(0xa30)][_0x1785ce(0x2c9)],'label':_0x562358,'remoteId':_0x25c42c});this[_0x1785ce(0x9b2)](_0xe76dc9);const _0x4cf339=this[_0x1785ce(0x33c)][_0x1785ce(0x3ee)](_0xe76dc9);_0x4cf339&&(this[_0x1785ce(0x3c6)][_0x1785ce(0x3a5)]['unregisterSystemSource'](_0x4cf339),this['subscriptionRequests'][_0x1785ce(0x652)](_0xe76dc9));const {parts:_0x5d0e4f,subscriptionLabel:_0x28452e}=this[_0x1785ce(0x8ef)](_0x562358,_0x25c42c),_0x5dc228=this[_0x1785ce(0x6e7)](_0x28452e);_0x5dc228&&(_0x5dc228['unsubscribe'](_0x25c42c,_0x4f193e,_0x58424d),0x0===_0x4f193e&&this[_0x1785ce(0x740)](_0x5d0e4f['label'],_0x5d0e4f[_0x1785ce(0x2e9)],_0x5d0e4f[_0x1785ce(0x515)]));}['handleSubscriptionRestartNeedMediaStream'](_0x33ea3e,{label:_0x10759a,ownerId:_0x2f6cdd,trackKinds:_0x24f9b7,streamId:_0x8dacb0,params:_0x13d6b9}){const _0x195352=_0xdcbb79,_0x499b63=_0x116ef0(_0x23a41e[_0x195352(0x18f)],{'contentType':_0x410512['ContentType'][_0x195352(0x2c9)],'label':_0x8dacb0,'remoteId':_0x33ea3e}),_0x22b688=this['maps']['subscriptions'][_0x195352(0x3ee)](_0x499b63);if(!(_0x22b688&&_0x22b688 instanceof _0x19a51f))throw new _0x3c9628(_0x3c9628['codes'][_0x195352(0x95c)],{'label':_0x499b63,'ownerId':_0x2f6cdd});this[_0x195352(0x73b)](_0x22b688,_0x499b63),this[_0x195352(0x83c)](_0x10759a,_0x2f6cdd,_0x24f9b7,_0x13d6b9);}[_0xdcbb79(0x353)](_0x2c6547,_0xdfcb56){const _0x1b492d=_0xdcbb79,{label:_0x1e3911,ownerId:_0x3257dc,trackKinds:_0xc833bb,params:_0x27c2db}=_0xdfcb56,_0x10f12a=_0x116ef0(_0x23a41e['Incoming'],{'contentType':_0x410512[_0x1b492d(0xa30)][_0x1b492d(0x2c9)],'label':_0x1e3911,'remoteId':_0x3257dc});if(!this[_0x1b492d(0x33c)][_0x1b492d(0x504)](_0x10f12a))throw new _0x3c9628(_0x3c9628[_0x1b492d(0x994)][_0x1b492d(0x95c)],{'label':_0x10f12a,'ownerId':_0x3257dc,'streamId':_0xdfcb56[_0x1b492d(0x763)],'requests':this[_0x1b492d(0x33c)]});const _0x17a6d=this[_0x1b492d(0x33c)][_0x1b492d(0x3ee)](_0x10f12a);if(_0xc833bb[_0x1b492d(0x454)]===_0x17a6d[_0x1b492d(0x9a3)]()[_0x1b492d(0x454)]&&_0xc833bb[_0x1b492d(0x2e5)](_0x28fb26=>_0x17a6d['getTracks']()[_0x1b492d(0x949)](_0x28fb26)))try{const _0x145872=_0x17a6d[_0x1b492d(0x43f)](_0x2c6547,_0xdfcb56);if(!_0x145872)return;this[_0x1b492d(0x917)](_0x145872,_0x3257dc,_0x1e3911,_0x10f12a,_0xc833bb);}catch(_0x595071){return void this[_0x1b492d(0x567)](_0x1e3911,_0x3257dc,_0xc833bb,_0x27c2db);}}[_0xdcbb79(0x669)](_0x4da55f,{label:_0x346d0c,ownerId:_0x104ad4,trackKinds:_0x2b4b5c}){const _0x5ca1b6=_0xdcbb79,_0x50f6e1=this[_0x5ca1b6(0x3c6)][_0x5ca1b6(0x3a5)][_0x5ca1b6(0x66c)](_0x104ad4,_0x346d0c);if(!_0x50f6e1)return;const _0x37add8=_0x50f6e1[_0x5ca1b6(0x9db)](),_0x183038=_0x50f6e1[_0x5ca1b6(0x72b)]();_0x183038[_0x5ca1b6(0x692)](_0x252bff=>_0x2b4b5c[_0x5ca1b6(0x949)](_0x252bff))&&this[_0x5ca1b6(0x197)](_0x4da55f,_0x346d0c,_0x37add8,_0x104ad4,_0x183038);}[_0xdcbb79(0x175)]({label:_0x2a0079,providerId:_0x2716aa,ownerId:_0x4faa0f,streamId:_0x55d458,trackKinds:_0x52d7ea}){const _0x55c21b=_0xdcbb79;this[_0x55c21b(0x197)](_0x2716aa,_0x2a0079,_0x55d458,_0x4faa0f,_0x52d7ea);}[_0xdcbb79(0xa52)](_0xe46c09){const _0x1c7dfd=_0xdcbb79;for(const _0x52ba27 of this[_0x1c7dfd(0x430)][_0x1c7dfd(0x6c2)]()){const {streamLabel:_0x180b00,ownerId:_0xd1da30,trackKinds:_0x5790c2,params:_0x353cd1}=_0x52ba27;if(!_0xd1da30||!_0x5790c2||!_0x180b00)return;this[_0x1c7dfd(0x19a)][_0x1c7dfd(0x90d)]({'label':_0x180b00,'ownerId':_0xd1da30,'trackKinds':_0x5790c2,'params':_0x353cd1,'remoteId':_0xe46c09});}}[_0xdcbb79(0x224)](_0x3b5397){const _0x5e62d3=_0xdcbb79;this[_0x5e62d3(0x236)][_0x5e62d3(0x70d)][_0x5e62d3(0x5f6)]((_0x35c0be,_0x5b6cba)=>{const _0x2b0767=_0x5e62d3;if(_0x5b6cba[_0x2b0767(0x987)](_0x3b5397)){if(_0x35c0be[_0x2b0767(0x7c4)][_0x2b0767(0x3aa)]()===_0x410512[_0x2b0767(0xa30)]['Media']){const _0x49e515=_0x35c0be[_0x2b0767(0x7c4)];if(_0x49e515[_0x2b0767(0x72b)]()['length']>0x0){const _0x31953f={'type':_0x1875b9[_0x2b0767(0x639)],'label':_0x49e515['getLabel'](),'ownerId':_0x49e515[_0x2b0767(0xa37)](),'trackKinds':_0x49e515['getSubscribedTracks']()};return void this[_0x2b0767(0x669)](_0x3b5397,_0x31953f);}}this[_0x2b0767(0x73b)](_0x35c0be,_0x5b6cba);}});}[_0xdcbb79(0x3d8)](){const _0x41914e=_0xdcbb79;this[_0x41914e(0x236)][_0x41914e(0x70d)][_0x41914e(0x5f6)](this[_0x41914e(0x73b)][_0x41914e(0xa19)](this));}[_0xdcbb79(0x917)](_0x4ef5a8,_0x30c20b,_0x472ac8,_0x22a61c,_0x52d4a7){const _0x4cbf51=_0xdcbb79,_0x256ef5=this['configs'][_0x4cbf51(0x3a5)]['getConnection'](_0x4ef5a8[_0x4cbf51(0x6c8)]),_0x273d82=this[_0x4cbf51(0x3c6)][_0x4cbf51(0x3a5)][_0x4cbf51(0x66c)](_0x30c20b,_0x472ac8);this[_0x4cbf51(0x9b2)](_0x22a61c),this[_0x4cbf51(0x33c)][_0x4cbf51(0x504)](_0x22a61c)&&(this['configs']['mediator'][_0x4cbf51(0x341)](this[_0x4cbf51(0x33c)]['get'](_0x22a61c)),this['subscriptionRequests'][_0x4cbf51(0x652)](_0x22a61c)),this[_0x4cbf51(0x339)](_0x4ef5a8,_0x30c20b,_0x472ac8,_0x273d82),_0x273d82['setInternalId'](_0x4ef5a8[_0x4cbf51(0x763)]),_0x273d82['setProviderId'](_0x4ef5a8[_0x4cbf51(0x6c8)]);const _0x41bf15=_0x90f46a(_0x273d82,_0x256ef5),_0x2e6975=_0x116ef0(_0x23a41e[_0x4cbf51(0x18f)],_0x41bf15);this[_0x4cbf51(0x236)][_0x4cbf51(0x70d)][_0x4cbf51(0x504)](_0x2e6975)||this[_0x4cbf51(0x5f7)](_0x256ef5,_0x273d82);const _0x5980e1=this[_0x4cbf51(0x236)]['subscriptions'][_0x4cbf51(0x3ee)](_0x2e6975);if(!(_0x5980e1&&_0x5980e1 instanceof _0x19a51f))throw new _0x3c9628(_0x3c9628[_0x4cbf51(0x994)][_0x4cbf51(0x95c)],{'label':_0x22a61c,'ownerId':_0x30c20b});_0xbff73d[_0x4cbf51(0x265)]('subscription',{'clusterId':this[_0x4cbf51(0x3c6)][_0x4cbf51(0x31a)],'nodeId':this['configs'][_0x4cbf51(0x99b)][_0x4cbf51(0xa10)](),'nodeType':this[_0x4cbf51(0x3c6)][_0x4cbf51(0x99b)][_0x4cbf51(0x8fa)],'data':{'subscriptionLabel':_0x2e6975,'chosenAnswer':_0x4ef5a8}}),this[_0x4cbf51(0x430)][_0x4cbf51(0x80a)](_0x2e6975,_0x4ef5a8),_0x5980e1[_0x4cbf51(0x917)](_0x30c20b,_0x52d4a7,_0x4ef5a8[_0x4cbf51(0x48e)]);}[_0xdcbb79(0x4fe)]({ownerId:_0x590448,label:_0x2a9ba8}){const _0x61fd61=_0xdcbb79,_0x1a6874=this[_0x61fd61(0x3c6)]['mediator']['getRemoteMediaStream'](_0x590448,_0x2a9ba8),[_0x20303e,_0x8dc68f]=Array['from'](this[_0x61fd61(0x236)][_0x61fd61(0x70d)][_0x61fd61(0x88f)]())[_0x61fd61(0x39d)](([_0x475684,_0x3c4ace])=>-0x1!==_0x475684['indexOf'](_0x1a6874[_0x61fd61(0x9db)]()));return this['closeSubscription'](_0x8dc68f,_0x20303e);}[_0xdcbb79(0x73b)](_0xe5c829,_0x1a78a3){const _0x30f99b=_0xdcbb79;this[_0x30f99b(0x3c6)][_0x30f99b(0x3a5)][_0x30f99b(0x341)](_0xe5c829),this[_0x30f99b(0x236)][_0x30f99b(0x73b)](_0xe5c829,_0x1a78a3);}[_0xdcbb79(0x413)](_0x4102af){const _0x1123b0=_0xdcbb79;return _0x4102af[_0x1123b0(0x67c)]()[_0x1123b0(0x949)](_0x410512[_0x1123b0(0xa30)]['Media']);}[_0xdcbb79(0x8e3)](_0x473d69){const _0x147c81=_0xdcbb79;return _0x473d69[_0x147c81(0x3aa)]()===_0x410512[_0x147c81(0xa30)]['Media'];}async[_0xdcbb79(0x567)](_0x26a102,_0x3e90bb,_0x1a78b8,_0x3692a8){const _0x134e5c=_0xdcbb79;await _0x4f45f0[_0x134e5c(0x25f)](0x3e8);const _0x446092=_0x116ef0(_0x23a41e['Incoming'],{'contentType':_0x410512[_0x134e5c(0xa30)][_0x134e5c(0x2c9)],'label':_0x26a102,'remoteId':_0x3e90bb});this[_0x134e5c(0x9b2)](_0x446092);const _0x267123=this[_0x134e5c(0x33c)]['get'](_0x446092);if(!_0x267123)throw new _0x3c9628(_0x3c9628[_0x134e5c(0x994)][_0x134e5c(0x95c)],{'label':_0x446092,'ownerId':_0x3e90bb});const _0x523dbd=this[_0x134e5c(0x3c6)][_0x134e5c(0x3a5)][_0x134e5c(0x439)](_0xaeb5d2=>_0xaeb5d2[_0x134e5c(0x5ed)]()),_0x5475eb=this[_0x134e5c(0x3c6)][_0x134e5c(0x3a5)][_0x134e5c(0x9c6)](this['configs']['localNode'][_0x134e5c(0xa10)](),_0x3e90bb);_0x267123[_0x134e5c(0x337)](_0x523dbd[_0x134e5c(0x945)](_0x34557b=>_0x34557b['getRemoteId']()),_0x5475eb);try{_0x267123['sendRequest'](this[_0x134e5c(0x3c6)][_0x134e5c(0x99b)]['getId'](),_0x3e90bb,_0x26a102,_0x1a78b8,_0x3692a8),this[_0x134e5c(0x69f)](_0x26a102,_0x3e90bb,_0x1a78b8,_0x3692a8,_0x446092,_0x267123);}catch(_0x3160c6){this['subscriptionRequestsQueue']['push']({'label':_0x26a102,'ownerId':_0x3e90bb,'trackKinds':_0x1a78b8,'params':_0x3692a8});}}[_0xdcbb79(0x83c)](_0x2bec8b,_0x5404e4,_0x4dc5cd,_0x5f0968){this['subscriptionRequestsQueue']['push']({'label':_0x2bec8b,'ownerId':_0x5404e4,'trackKinds':_0x4dc5cd,'params':_0x5f0968});}[_0xdcbb79(0x8ee)]({label:_0x52c4ac,ownerId:_0x52f017,trackKinds:_0x4e164d,params:_0x43d330,remoteId:_0xb771b7}){const _0x592f40=_0xdcbb79;if(!this['configs']['mediator'][_0x592f40(0x66c)](_0x52f017,_0x52c4ac))return;if(!this['configs']['mediator'][_0x592f40(0x7ca)]()[_0x592f40(0x252)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0xb771b7){const _0x1bdcf0=this['configs'][_0x592f40(0x3a5)]['getRemoteNodes']()[_0x592f40(0x39d)](_0x2efda6=>_0x2efda6['getId']()===_0xb771b7),_0x2beb38=_0x1bdcf0?.[_0x592f40(0x252)]();if(!_0x1bdcf0||!_0x2beb38)throw new Error(_0x592f40(0x577));const _0x237ea4=this['configs']['mediator'][_0x592f40(0x861)]()[_0x592f40(0x39d)](_0x59df75=>_0x59df75[_0x592f40(0xa10)]()===_0x52f017),_0x411aab=_0x237ea4?.[_0x592f40(0x252)]();if(!_0x237ea4||!_0x411aab)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0xbbb779=this['chosenAnswers'][_0x592f40(0x3ee)](_0x52c4ac);if(_0xbbb779){const _0x19c775=this[_0x592f40(0x3c6)][_0x592f40(0x3a5)][_0x592f40(0x861)]()[_0x592f40(0x39d)](_0x2db7c3=>_0x2db7c3[_0x592f40(0xa10)]()===_0xbbb779['nodeId']),_0x33cfb0=_0x19c775?.[_0x592f40(0x252)]();if(!_0x19c775||!_0x33cfb0)throw new Error(_0x592f40(0x49b));if(Math[_0x592f40(0x6df)](_0x33cfb0-_0x411aab)<Math[_0x592f40(0x6df)](_0x2beb38-_0x411aab))return;}}const _0x3707cb=this[_0x592f40(0x3c6)][_0x592f40(0x3a5)][_0x592f40(0x439)](_0x314284=>_0x314284[_0x592f40(0x5ed)]()&&(!_0xb771b7||_0x314284[_0x592f40(0x6c9)]()===_0xb771b7));if(!_0x3707cb['length']||0x0===_0x3707cb[_0x592f40(0x454)])throw new Error(_0x592f40(0x8c9));const _0x144530=this[_0x592f40(0x3c6)]['mediator']['getDistance'](this[_0x592f40(0x3c6)][_0x592f40(0x99b)][_0x592f40(0xa10)](),_0x52f017),_0x444ede=_0x116ef0(_0x23a41e[_0x592f40(0x18f)],{'contentType':_0x410512[_0x592f40(0xa30)][_0x592f40(0x2c9)],'label':_0x52c4ac,'remoteId':_0x52f017});if(this[_0x592f40(0x33c)]['has'](_0x444ede)){if(_0xb771b7)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x1ba6a4=this[_0x592f40(0x33c)][_0x592f40(0x3ee)](_0x444ede)['getTracks']();if(_0x1ba6a4['length']===_0x4e164d[_0x592f40(0x454)]&&_0x1ba6a4[_0x592f40(0x2e5)](_0x4d1a9c=>_0x4e164d[_0x592f40(0x949)](_0x4d1a9c)))return;this[_0x592f40(0x3c6)]['mediator'][_0x592f40(0x341)](this[_0x592f40(0x33c)][_0x592f40(0x3ee)](_0x444ede)),this[_0x592f40(0x33c)][_0x592f40(0x652)](_0x444ede),_0x4e164d=Array['from'](new Set(_0x4e164d[_0x592f40(0x376)](_0x1ba6a4))),this[_0x592f40(0x9b2)](_0x444ede);}const _0x309f10=new _0x1676b7(_0x3707cb[_0x592f40(0x945)](_0x546f24=>_0x546f24['getRemoteId']()),_0x144530,this[_0x592f40(0x63e)],_0x4e164d);this['configs'][_0x592f40(0x3a5)][_0x592f40(0x849)](_0x309f10),this[_0x592f40(0x33c)][_0x592f40(0x80a)](_0x444ede,_0x309f10),_0x309f10['sendRequest'](this[_0x592f40(0x3c6)]['localNode'][_0x592f40(0xa10)](),_0x52f017,_0x52c4ac,_0x4e164d,_0x43d330),this[_0x592f40(0x69f)](_0x52c4ac,_0x52f017,_0x4e164d,_0x43d330,_0x444ede,_0x309f10);}[_0xdcbb79(0x9b2)](_0x40fb7a){const _0x593f7a=_0xdcbb79;this['subscriptionRequestTimeouts']['has'](_0x40fb7a)&&(clearTimeout(this[_0x593f7a(0x8fb)][_0x593f7a(0x3ee)](_0x40fb7a)),this[_0x593f7a(0x8fb)][_0x593f7a(0x652)](_0x40fb7a));}['setSubscriptionRequestTimeout'](_0x5f08f9,_0x35675d,_0x3a50b1,_0x53f806,_0x892ebb,_0x599ee8){const _0xf0a343=_0xdcbb79;this[_0xf0a343(0x9b2)](_0x892ebb),this[_0xf0a343(0x8fb)]['set'](_0x892ebb,setTimeout(()=>{const _0x368c7c=_0xf0a343;this[_0x368c7c(0x8fb)][_0x368c7c(0x652)](_0x892ebb);try{const _0x5a314d=_0x599ee8[_0x368c7c(0x964)]();this[_0x368c7c(0x917)](_0x5a314d,_0x35675d,_0x5f08f9,_0x892ebb,_0x3a50b1);}catch(_0x2b4890){this['handleNoAnswer'](_0x5f08f9,_0x35675d,_0x3a50b1,_0x53f806);}},0x7d0));}['findNewMediaSubscription'](_0x2068b9,_0x337c57,_0x332bdd,_0x4a997b,_0x5709c8){const _0x464e2d=_0xdcbb79,{subscriptionLabel:_0x12087b}=this[_0x464e2d(0x8ef)](_0x337c57,_0x4a997b),_0x1d828e=this[_0x464e2d(0x6e7)](_0x12087b),_0xc6005b=_0x1d828e?.[_0x464e2d(0x48e)];_0x1d828e&&(_0x1d828e['unsubscribe'](_0x4a997b,0x0),this[_0x464e2d(0x740)](_0x332bdd,_0x410512[_0x464e2d(0xa30)][_0x464e2d(0x2c9)],_0x2068b9)),this['requestSubscription'](_0x337c57,_0x4a997b,_0x5709c8,_0xc6005b);}[_0xdcbb79(0x6e7)](_0x4e6d8c){const _0x46d417=_0xdcbb79,_0x736892=this['maps'][_0x46d417(0x70d)][_0x46d417(0x3ee)](_0x4e6d8c);if(_0x736892){if(!(_0x736892 instanceof _0x19a51f))throw new _0x3c9628(_0x3c9628['codes'][_0x46d417(0x651)],{'label':_0x4e6d8c,'subscription':_0x736892});return _0x736892;}}[_0xdcbb79(0x8ef)](_0x28e2ca,_0x13f6b1){const _0x2fdf6c=_0xdcbb79,_0x6e422=this[_0x2fdf6c(0x787)](_0x28e2ca,_0x13f6b1);return{'parts':_0x6e422,'subscriptionLabel':_0x116ef0(_0x23a41e['Incoming'],_0x6e422)};}['getPartsForSubscriptionLabel'](_0x3d2d50,_0x51fc90){const _0x28669a=_0xdcbb79,_0x3dc2c8=this[_0x28669a(0x3c6)][_0x28669a(0x3a5)][_0x28669a(0x66c)](_0x51fc90,_0x3d2d50),_0x10cce8=_0x3dc2c8[_0x28669a(0x8c0)]();if(!_0x10cce8)throw new _0x3c9628(_0x3c9628['codes'][_0x28669a(0x327)],{'label':_0x3d2d50,'streamId':_0x3dc2c8[_0x28669a(0x9db)](),'ownerId':_0x51fc90,'localId':this[_0x28669a(0x3c6)][_0x28669a(0x99b)][_0x28669a(0xa10)]()});return{'contentType':_0x410512[_0x28669a(0xa30)][_0x28669a(0x2c9)],'label':_0x3dc2c8['getInternalStreamId'](),'remoteId':_0x10cce8};}[_0xdcbb79(0x339)](_0x393d05,_0x94df99,_0x2c0388,_0x5e7503){const _0x5b32d7=_0xdcbb79,_0x3dfb1f=_0x5e7503[_0x5b32d7(0x8c0)]();if(_0x3dfb1f&&_0x3dfb1f!==_0x393d05[_0x5b32d7(0x6c8)]){const {parts:_0x3371db,subscriptionLabel:_0x9b230d}=this[_0x5b32d7(0x8ef)](_0x2c0388,_0x94df99),_0x2464d6=this[_0x5b32d7(0x6e7)](_0x9b230d);_0x2464d6&&(_0x2464d6[_0x5b32d7(0x1aa)](_0x94df99,0x0),this[_0x5b32d7(0x740)](_0x3371db['label'],_0x3371db[_0x5b32d7(0x2e9)],_0x3371db[_0x5b32d7(0x515)]));}}}class _0x58263d{[_0xdcbb79(0x3c6)];[_0xdcbb79(0x9cf)];['maps'];constructor(_0x3dc95b,_0x3a3aeb){const _0x253472=_0xdcbb79;this[_0x253472(0x3c6)]=_0x3dc95b,this[_0x253472(0x9cf)]=_0x3a3aeb,this[_0x253472(0x236)]=new _0x289511(({source:_0x356449,destination:_0x4eb8f3})=>_0x90f46a(_0x356449,_0x4eb8f3));}['createSubscription'](_0x38296d,_0x171f0d){const _0x26260c=_0xdcbb79,_0x5e833e={'source':_0x38296d,'destination':_0x171f0d};this[_0x26260c(0x236)]['createSubscription'](_0x23a41e[_0x26260c(0x21c)],_0x5e833e);}[_0xdcbb79(0x740)](_0x1341e2,_0x2fa898,_0x1ec51b=''){const _0x2bba90=_0xdcbb79,_0x31c880={'contentType':_0x2fa898,'label':_0x1341e2,'remoteId':_0x1ec51b};this['maps'][_0x2bba90(0x740)](_0x31c880,_0x23a41e[_0x2bba90(0x21c)]);}[_0xdcbb79(0x5a9)](_0x547314,_0x596c53){const _0x509dd3=_0xdcbb79;let _0x51a5a5;_0x51a5a5=_0x596c53[_0x509dd3(0x381)]!==this['configs'][_0x509dd3(0x99b)]['getId']()?this[_0x509dd3(0x3c6)][_0x509dd3(0x3a5)]['getRemoteMediaStream'](_0x596c53[_0x509dd3(0x381)],_0x596c53[_0x509dd3(0x726)]):this[_0x509dd3(0x3c6)][_0x509dd3(0x3a5)][_0x509dd3(0x9c3)](_0x596c53[_0x509dd3(0x726)]);const _0x41d089=_0x116ef0(_0x23a41e[_0x509dd3(0x21c)],{'contentType':_0x410512[_0x509dd3(0xa30)][_0x509dd3(0x2c9)],'label':_0x51a5a5[_0x509dd3(0x8c6)](),'remoteId':_0x547314}),_0x52bddf=this['getNumberOutgoingSubscriptions']();if(!this['maps']['subscriptions'][_0x509dd3(0x504)](_0x41d089)&&_0x52bddf>=this[_0x509dd3(0x9cf)])return{'type':_0x1875b9[_0x509dd3(0x977)],'ownerId':_0x596c53[_0x509dd3(0x381)],'label':_0x596c53[_0x509dd3(0x726)],'streamId':_0x51a5a5[_0x509dd3(0x8c6)](),'trackKinds':_0x596c53[_0x509dd3(0x5c3)],'params':_0x596c53[_0x509dd3(0x48e)]};_0x51a5a5 instanceof _0x3ecc25&&!_0x51a5a5[_0x509dd3(0x513)](_0x596c53[_0x509dd3(0x5c3)])&&_0x51a5a5[_0x509dd3(0x917)](_0x596c53['params']),this[_0x509dd3(0x236)][_0x509dd3(0x70d)][_0x509dd3(0x504)](_0x41d089)||this[_0x509dd3(0x5f7)](_0x51a5a5['getShareableStream'](_0x547314),this[_0x509dd3(0x3c6)][_0x509dd3(0x3a5)][_0x509dd3(0x97f)](_0x547314));}[_0xdcbb79(0x6eb)](_0x475d6a,{label:_0x49db4d,ownerId:_0x2beb5a,remainingTracks:_0x237ebd}){const _0x532c13=_0xdcbb79;if(_0x237ebd>0x0)return;let _0x122e74;_0x122e74=_0x2beb5a!==this[_0x532c13(0x3c6)][_0x532c13(0x99b)]['getId']()?this[_0x532c13(0x3c6)]['mediator']['getRemoteMediaStream'](_0x2beb5a,_0x49db4d):this[_0x532c13(0x3c6)][_0x532c13(0x3a5)][_0x532c13(0x9c3)](_0x49db4d);const _0x73fe12=_0x122e74[_0x532c13(0x8c6)](),_0x408b55=_0x410512['ContentType'][_0x532c13(0x2c9)];this[_0x532c13(0x740)](_0x73fe12,_0x408b55,_0x475d6a);}['handleContentUnsubscribeMediaStream'](_0x5d196d,{label:_0x7bf90e,ownerId:_0x1fdb1c,trackKinds:_0x2b8f1d}){const _0x149ef7=_0xdcbb79;if(_0x5d196d!==_0x3c7c3b)return[];let _0x57038b=[];for(const _0x4eb0a0 of this[_0x149ef7(0x236)][_0x149ef7(0x70d)]){const {source:_0x5daaeb,destination:_0x260f95}=_0x4eb0a0[0x1];_0x5daaeb['getLabel']()===_0x7bf90e&&_0x5daaeb['getOwnerId']()===_0x1fdb1c&&_0x57038b[_0x149ef7(0x90d)]({'sourceId':this[_0x149ef7(0x3c6)][_0x149ef7(0x99b)][_0x149ef7(0xa10)](),'destinationIds':[_0x260f95[_0x149ef7(0x6c9)]()],'messageType':_0x447632['Subscription'],'content':{'type':_0x1875b9['MediaStreamUnavailable'],'label':_0x7bf90e,'ownerId':_0x1fdb1c,'trackKinds':_0x2b8f1d}});}return _0x57038b;}[_0xdcbb79(0x324)](_0x5abefb,_0x3eb650){const _0x49f48a=_0xdcbb79,{label:_0x46600e,ownerId:_0x122cd7,trackKinds:_0x319475,params:_0x3adf20}=_0x3eb650,{hasTracks:_0xa99a93,streamId:_0x407e8b,hasResolution:_0x5e615d,distance:_0x46530b,subscriptionLabel:_0x530fc2}=this[_0x49f48a(0x3f4)](_0x5abefb,_0x3eb650);let _0x543015=this['getNumberOutgoingSubscriptions']()<this['maxOutgoingSubscriptions']&&(_0xa99a93||_0x46530b>-0x1)?_0x1875b9[_0x49f48a(0x1ff)]:_0x1875b9[_0x49f48a(0x27e)];const _0x3f0011=_0x46530b<0x0?0xa:_0x46530b;let _0x2359e6=_0xa99a93?_0x5e615d?_0x3f0011:_0x3f0011+0x0:_0x3f0011+0xa;return _0x530fc2&&this[_0x49f48a(0x236)][_0x49f48a(0x70d)]['has'](_0x530fc2)&&(_0xa99a93&&(_0x2359e6=0x0),_0x543015=_0x1875b9[_0x49f48a(0x1ff)]),{'type':_0x543015,'cost':_0x2359e6,'distance':_0x46530b,'label':_0x46600e,'ownerId':_0x122cd7,'streamId':_0x407e8b,'trackKinds':_0x319475,'params':_0x3adf20};}[_0xdcbb79(0x44f)](_0x5a42b6){const _0x54f749=_0xdcbb79,{label:_0x194f5c,ownerId:_0x4f2d9c}=_0x5a42b6,_0x30a5d8=this['configs'][_0x54f749(0x3a5)]['getRemoteMediaStream'](_0x4f2d9c,_0x194f5c);this['maps'][_0x54f749(0x70d)][_0x54f749(0x5f6)](_0x43ba99=>{const _0x114c19=_0x54f749;if(_0x43ba99[_0x114c19(0x846)][_0x114c19(0x9db)]()===_0x30a5d8[_0x114c19(0x8c6)]()){const _0x33279f=_0x43ba99[_0x114c19(0x7c4)];this[_0x114c19(0x740)](_0x30a5d8[_0x114c19(0x8c6)](),_0x410512[_0x114c19(0xa30)][_0x114c19(0x2c9)],_0x33279f['getRemoteId']());}});}[_0xdcbb79(0x832)]({label:_0xc3d37d}){const _0xc03a8c=_0xdcbb79,_0x5dc3a9=this[_0xc03a8c(0x3c6)][_0xc03a8c(0x3a5)][_0xc03a8c(0x9c3)](_0xc3d37d);this[_0xc03a8c(0x236)]['subscriptions']['forEach'](_0x146eac=>{const _0xe7ad10=_0xc03a8c;if(_0x146eac[_0xe7ad10(0x846)][_0xe7ad10(0x9db)]()===_0x5dc3a9[_0xe7ad10(0x8c6)]()){const _0x418117=_0x146eac[_0xe7ad10(0x7c4)];this[_0xe7ad10(0x740)](_0x5dc3a9['getShareableStreamId'](),_0x410512[_0xe7ad10(0xa30)][_0xe7ad10(0x2c9)],_0x418117['getRemoteId']());}});}[_0xdcbb79(0x224)](_0x480295){const _0x159fc8=_0xdcbb79;this['maps'][_0x159fc8(0x224)](_0x480295);}['close'](){const _0x352640=_0xdcbb79;this['maps'][_0x352640(0x70d)][_0x352640(0x5f6)](this[_0x352640(0x73b)][_0x352640(0xa19)](this));}[_0xdcbb79(0x73b)](_0x5b1aa3,_0x4f68f4){const _0x4d641d=_0xdcbb79;this[_0x4d641d(0x236)][_0x4d641d(0x73b)](_0x5b1aa3,_0x4f68f4);}[_0xdcbb79(0x3f4)](_0x27d671,{label:_0x3af55b,ownerId:_0x20f415,trackKinds:_0x334c23,params:_0x4c4e1b}){const _0x14c1fc=_0xdcbb79;if(_0x20f415!==this['configs']['localNode'][_0x14c1fc(0xa10)]()){const _0x27ca53=this[_0x14c1fc(0x3c6)]['mediator']['getRemoteMediaStream'](_0x20f415,_0x3af55b);return _0x27ca53&&_0x27ca53[_0x14c1fc(0x8c0)]()!==_0x27d671?{'hasTracks':_0x27ca53[_0x14c1fc(0x9df)](_0x334c23),'hasResolution':this['canProvideResolution'](_0x27ca53[_0x14c1fc(0x780)](),_0x4c4e1b),'streamId':_0x27ca53[_0x14c1fc(0x8c6)](),'distance':this[_0x14c1fc(0x3c6)][_0x14c1fc(0x3a5)][_0x14c1fc(0x9c6)](_0x27d671,_0x20f415),'subscriptionLabel':_0x116ef0(_0x23a41e[_0x14c1fc(0x21c)],{'contentType':_0x410512[_0x14c1fc(0xa30)][_0x14c1fc(0x2c9)],'label':_0x27ca53['getShareableStreamId'](),'remoteId':_0x27d671})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x18281e=this[_0x14c1fc(0x3c6)][_0x14c1fc(0x3a5)]['getLocalMediaStream'](_0x3af55b);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x18281e[_0x14c1fc(0x8c6)](),'distance':0x0,'subscriptionLabel':_0x116ef0(_0x23a41e[_0x14c1fc(0x21c)],{'contentType':_0x410512[_0x14c1fc(0xa30)]['Media'],'label':_0x18281e[_0x14c1fc(0x8c6)](),'remoteId':_0x27d671})};}[_0xdcbb79(0x42b)](){const _0x390435=_0xdcbb79;return Array[_0x390435(0x6dd)](this['maps'][_0x390435(0x70d)][_0x390435(0x88f)]())['filter'](([_0x5e0bbb,{source:_0x2f2144}])=>_0x5e0bbb[_0x390435(0x9e1)](_0x23a41e[_0x390435(0x21c)])&&_0x2f2144[_0x390435(0x3aa)]()===_0x410512['ContentType']['Media'])[_0x390435(0x454)];}['canProvideResolution'](_0x3f3d95,_0x52be54){const _0x1be5c9=_0xdcbb79;if(!_0x52be54||!_0x52be54[_0x1be5c9(0x72f)]||'boolean'==typeof _0x52be54[_0x1be5c9(0x72f)]||!_0x52be54['video'][_0x1be5c9(0x5fc)])return!0x0;const {width:_0x1b9f09,height:_0x28d8d3}=_0x52be54[_0x1be5c9(0x72f)][_0x1be5c9(0x5fc)];return _0x3f3d95[_0x1be5c9(0x4b2)]>=_0x1b9f09&&_0x3f3d95['height']>=_0x28d8d3;}}class _0x1fd628{[_0xdcbb79(0x3c6)];[_0xdcbb79(0x9cf)];[_0xdcbb79(0x63e)];['systemTopic'];['incomingManager'];[_0xdcbb79(0x5be)];constructor(_0x2af35f,_0x103c0a,_0x59f58e){const _0x3e1d02=_0xdcbb79;this[_0x3e1d02(0x3c6)]=_0x2af35f,this['maxOutgoingSubscriptions']=_0x103c0a,this[_0x3e1d02(0x63e)]=_0x59f58e,this[_0x3e1d02(0x3c6)][_0x3e1d02(0x3a5)][_0x3e1d02(0x849)](this),this[_0x3e1d02(0x1a7)]=new _0x453f33(this[_0x3e1d02(0x3c6)],this['maxDistance']),this[_0x3e1d02(0x5be)]=new _0x58263d(this[_0x3e1d02(0x3c6)],this[_0x3e1d02(0x9cf)]);}[_0xdcbb79(0x724)](_0x4653c8){const _0x4c9042=_0xdcbb79;this[_0x4c9042(0x5df)]=_0x4653c8;}[_0xdcbb79(0x1c8)](){delete this['systemTopic'];}[_0xdcbb79(0x3d8)](){const _0x3fe05a=_0xdcbb79;this[_0x3fe05a(0x1a7)][_0x3fe05a(0x3d8)](),this[_0x3fe05a(0x5be)][_0x3fe05a(0x3d8)](),this[_0x3fe05a(0x3c6)][_0x3fe05a(0x3a5)][_0x3fe05a(0x341)](this);}['createIncomingSubscription'](_0x195970,_0x446d1e){const _0x545207=_0xdcbb79;this[_0x545207(0x1a7)][_0x545207(0x5f7)](_0x195970,_0x446d1e);}['createOutgoingSubscription'](_0x1c8f91,_0x15e67d){const _0x91807c=_0xdcbb79;this[_0x91807c(0x5be)]['createSubscription'](_0x1c8f91,_0x15e67d);}[_0xdcbb79(0x20a)](_0x4bba2f,_0x44ae56,_0x4191ac=''){const _0x1c01fe=_0xdcbb79;this['incomingManager'][_0x1c01fe(0x740)](_0x4bba2f,_0x44ae56,_0x4191ac);}['removeOutgoingSubscription'](_0x56cda1,_0x1789b7,_0x4e6072=''){const _0x32bbc1=_0xdcbb79;try{this[_0x32bbc1(0x5be)]['removeSubscription'](_0x56cda1,_0x1789b7,_0x4e6072);}catch(_0x2d616d){if(_0x2d616d instanceof _0x3c9628&&_0x2d616d[_0x32bbc1(0x348)]===_0x3c9628[_0x32bbc1(0x994)]['InvalidSubscription'])return;}}[_0xdcbb79(0x43f)](_0x318a3b){const _0x1c8ce3=_0xdcbb79;switch(_0x318a3b[_0x1c8ce3(0x7bd)]['type']){case _0x1875b9['SubscribeMediaStream']:this[_0x1c8ce3(0x5a9)](_0x318a3b['sourceId'],_0x318a3b[_0x1c8ce3(0x7bd)]);break;case _0x1875b9[_0x1c8ce3(0x63b)]:this[_0x1c8ce3(0x5be)][_0x1c8ce3(0x6eb)](_0x318a3b['sourceId'],_0x318a3b[_0x1c8ce3(0x7bd)]);break;case _0x1875b9['NeedMediaStream']:this[_0x1c8ce3(0x324)](_0x318a3b['sourceId'],_0x318a3b[_0x1c8ce3(0x7bd)]);break;case _0x1875b9[_0x1c8ce3(0x977)]:this[_0x1c8ce3(0x1a7)][_0x1c8ce3(0x535)](_0x318a3b['sourceId'],_0x318a3b['content']);break;case _0x1875b9[_0x1c8ce3(0x1ff)]:case _0x1875b9[_0x1c8ce3(0x27e)]:this[_0x1c8ce3(0x1a7)][_0x1c8ce3(0x353)](_0x318a3b[_0x1c8ce3(0x742)],_0x318a3b[_0x1c8ce3(0x7bd)]);break;case _0x1875b9[_0x1c8ce3(0x639)]:this[_0x1c8ce3(0x1a7)][_0x1c8ce3(0x669)](_0x318a3b[_0x1c8ce3(0x742)],_0x318a3b['content']);}}[_0xdcbb79(0x222)](_0x14d655){const _0xdf92eb=_0xdcbb79;switch(_0x14d655['content']['type']){case _0x31d4ec['UnpublishMediaStream']:this['incomingManager'][_0xdf92eb(0x44f)](_0x14d655['content']),this[_0xdf92eb(0x5be)][_0xdf92eb(0x44f)](_0x14d655['content']);break;case _0x31d4ec[_0xdf92eb(0x41e)]:this['incomingManager'][_0xdf92eb(0x311)](_0x14d655[_0xdf92eb(0x7bd)]);break;case _0x31d4ec[_0xdf92eb(0x62a)]:this[_0xdf92eb(0x1a7)][_0xdf92eb(0x4a8)](_0x14d655[_0xdf92eb(0x7bd)]);break;case _0x31d4ec[_0xdf92eb(0x63b)]:this[_0xdf92eb(0x66e)](_0x14d655[_0xdf92eb(0x742)],_0x14d655[_0xdf92eb(0x7bd)]);break;case _0x31d4ec[_0xdf92eb(0x99e)]:this[_0xdf92eb(0x5be)]['handleContentCloseMediaStream'](_0x14d655[_0xdf92eb(0x7bd)]);break;case _0x31d4ec[_0xdf92eb(0x55d)]:this[_0xdf92eb(0x2e6)](_0x14d655[_0xdf92eb(0x7bd)]['label'],_0x410512[_0xdf92eb(0xa30)][_0xdf92eb(0xa42)]);break;case _0x31d4ec[_0xdf92eb(0x885)]:this[_0xdf92eb(0x2e6)](_0x14d655['content'][_0xdf92eb(0x726)],_0x410512[_0xdf92eb(0xa30)][_0xdf92eb(0x962)]);break;case _0x31d4ec[_0xdf92eb(0x207)]:this[_0xdf92eb(0x2e6)](_0x14d655[_0xdf92eb(0x7bd)][_0xdf92eb(0x726)],_0x410512['ContentType'][_0xdf92eb(0x22a)]);break;case _0x31d4ec[_0xdf92eb(0x50c)]:this[_0xdf92eb(0x2e6)](_0x14d655[_0xdf92eb(0x7bd)]['label'],_0x410512[_0xdf92eb(0xa30)][_0xdf92eb(0x453)]);break;case _0x31d4ec[_0xdf92eb(0x2ca)]:this[_0xdf92eb(0x2e6)](_0x14d655[_0xdf92eb(0x7bd)][_0xdf92eb(0x726)],_0x410512[_0xdf92eb(0xa30)]['VectorDatabase']);break;case _0x31d4ec[_0xdf92eb(0x4a4)]:this['handleCloseContent'](_0x14d655[_0xdf92eb(0x7bd)][_0xdf92eb(0x726)],_0x410512['ContentType'][_0xdf92eb(0x803)]);break;case _0x31d4ec['CloseJobDispatcher']:case _0x31d4ec[_0xdf92eb(0x4dd)]:this['handleCloseContent'](_0x14d655[_0xdf92eb(0x7bd)][_0xdf92eb(0x726)],_0x410512['ContentType'][_0xdf92eb(0x57d)]);break;case _0x31d4ec[_0xdf92eb(0x817)]:this[_0xdf92eb(0x1a7)][_0xdf92eb(0x175)](_0x14d655[_0xdf92eb(0x7bd)]);}}[_0xdcbb79(0x74f)]({content:_0x5398da}){const _0x59813d=_0xdcbb79;_0x5398da[_0x59813d(0x8fa)]===_0x328d11[_0x59813d(0x1b4)]&&this[_0x59813d(0x224)](_0x5398da);}[_0xdcbb79(0x6c1)](_0x1a5fc8){const _0x15aa4b=_0xdcbb79;_0x1a5fc8['content']['type']===_0x35a889[_0x15aa4b(0x45e)]&&this[_0x15aa4b(0x1a7)]['handleOptimizationConnectionSuccess'](_0x1a5fc8['sourceId']);}['handleContentUnsubscribeMediaStream'](_0x23d1c6,_0x3d9b81){const _0x47455c=_0xdcbb79;this[_0x47455c(0x1a7)][_0x47455c(0x66e)](_0x3d9b81),this[_0x47455c(0x5be)][_0x47455c(0x66e)](_0x23d1c6,_0x3d9b81)['forEach'](_0x558ebc=>this[_0x47455c(0x5df)][_0x47455c(0x884)](_0x558ebc));}['handleSubscriptionSubscribeMediaStream'](_0x3974d8,_0x444359){const _0x393b0d=_0xdcbb79,_0x347983=this[_0x393b0d(0x5be)][_0x393b0d(0x5a9)](_0x3974d8,_0x444359);if(_0x347983&&(this['systemTopic'][_0x393b0d(0x884)]({'sourceId':this[_0x393b0d(0x3c6)][_0x393b0d(0x99b)][_0x393b0d(0xa10)](),'destinationIds':[_0x3974d8],'messageType':_0x447632[_0x393b0d(0x915)],'content':_0x347983}),_0x347983[_0x393b0d(0x8fa)]===_0x1875b9[_0x393b0d(0x977)]))throw new _0xfe4e17('Restart\x20NeedMediaStream');}[_0xdcbb79(0x324)](_0x5281cb,_0x172e9f){const _0xe28eb5=_0xdcbb79,_0x557d59=this['outgoingManager'][_0xe28eb5(0x324)](_0x5281cb,_0x172e9f);this['systemTopic'][_0xe28eb5(0x884)]({'sourceId':this['configs'][_0xe28eb5(0x99b)]['getId'](),'destinationIds':[_0x5281cb],'messageType':_0x447632[_0xe28eb5(0x915)],'content':_0x557d59});}[_0xdcbb79(0x2e6)](_0x511437,_0x30d8ea){const _0xf4cb6e=_0xdcbb79;this[_0xf4cb6e(0x20a)](_0x511437,_0x30d8ea),this['removeOutgoingSubscription'](_0x511437,_0x30d8ea);}[_0xdcbb79(0x224)]({id:_0x1c9906}){this['incomingManager']['removeSubscriptionsForNode'](_0x1c9906),this['outgoingManager']['removeSubscriptionsForNode'](_0x1c9906);}}class _0x275d5c{['label'];[_0xdcbb79(0xa11)]=_0x5de5e8();constructor(){const _0xaf4e5b=_0xdcbb79;this[_0xaf4e5b(0x726)]=0x0;}['getLabel'](){const _0x131aeb=_0xdcbb79;return this[_0x131aeb(0x726)];}[_0xdcbb79(0x3aa)](){const _0x24c115=_0xdcbb79;return _0x410512[_0x24c115(0xa30)][_0x24c115(0x1ef)];}[_0xdcbb79(0x3f9)](_0x51c7ca){_0x51c7ca['registerSystemPublisher'](this);}[_0xdcbb79(0x99c)](_0x552349){const _0x3d3748=_0xdcbb79;_0x552349[_0x3d3748(0x1c8)]();}[_0xdcbb79(0x884)](_0x309329){const _0x22894a=_0xdcbb79;_0xbff73d[_0x22894a(0x198)](_0x1f75f2[_0x22894a(0x9d7)],_0x22894a(0x59f),_0x309329['sourceId'],_0x309329),this[_0x22894a(0xa11)]['publish']({'topicLabel':this['label'],'contentType':_0x410512[_0x22894a(0xa30)][_0x22894a(0x1ef)],'uuid':_0x309329[_0x22894a(0x3c9)]??(0x0,_0x539333['v4'])(),'recipients':_0x309329[_0x22894a(0x28f)]??[],..._0x309329});}[_0xdcbb79(0x917)](_0x15cdc7){const _0xd09eab=_0xdcbb79;return this[_0xd09eab(0xa11)]['subscribe'](_0x15cdc7);}}class _0x20cb39{[_0xdcbb79(0x581)];[_0xdcbb79(0x5b2)]=[];['maxLayer'];[_0xdcbb79(0x866)]=new Map();[_0xdcbb79(0x596)]=_0x5de5e8();constructor(_0x43b4bd){const _0x42d82e=_0xdcbb79;this[_0x42d82e(0x581)]=_0x43b4bd,this[_0x42d82e(0x86a)]=(this['options']['maxConnections']-0x2*this[_0x42d82e(0x581)]['minConnections'])/0x2,this[_0x42d82e(0x5b2)][_0x42d82e(0x90d)]({'start':0x1,'end':this[_0x42d82e(0x802)](0x1,0x1)-0x1});for(let _0x2b87e7=0x0;_0x2b87e7<this[_0x42d82e(0x86a)];++_0x2b87e7)this['ranges']['push']({'start':this[_0x42d82e(0x802)](0x1,_0x2b87e7+0x1),'end':this[_0x42d82e(0x802)](0x1,_0x2b87e7+0x2)-0x1});}[_0xdcbb79(0x802)](_0x15df6a,_0x166d72=0x1){const _0x45176f=_0xdcbb79;let _0x219457=this['options'][_0x45176f(0x63e)]-this[_0x45176f(0x581)][_0x45176f(0x709)],_0x454dd1=0x1;for(let _0x46f5be=0x1;_0x46f5be<_0x166d72;++_0x46f5be)_0x219457*=this[_0x45176f(0x581)]['maxDistance']-this[_0x45176f(0x581)][_0x45176f(0x709)]-_0x46f5be,_0x454dd1*=this['options'][_0x45176f(0x63e)]-this[_0x45176f(0x581)]['minConnections']-_0x46f5be+0x1;return _0x219457*this[_0x45176f(0x581)][_0x45176f(0x709)]+_0x15df6a-_0x454dd1;}[_0xdcbb79(0x923)](_0x3c2b81){const _0xec141a=_0xdcbb79;let _0x39b86f=0x0;for(;this[_0xec141a(0x5b2)][_0x39b86f][_0xec141a(0x31f)]<_0x3c2b81;)_0x39b86f+=0x1;return _0x39b86f;}['getMinConnections'](){const _0x3f6512=_0xdcbb79;return this[_0x3f6512(0x581)][_0x3f6512(0x709)];}[_0xdcbb79(0x47c)](){const _0x9913a6=_0xdcbb79;return this[_0x9913a6(0x581)]['maxConnections'];}[_0xdcbb79(0x70b)](){const _0x5b2f5e=_0xdcbb79;return this[_0x5b2f5e(0x581)][_0x5b2f5e(0x63e)];}[_0xdcbb79(0x861)](){return this['remoteNodes'];}[_0xdcbb79(0x8cf)](_0x22ff62,_0x2e4338){const _0x1ca509=_0xdcbb79;this['remoteNodes'][_0x1ca509(0x80a)](_0x22ff62,_0x2e4338),this[_0x1ca509(0x596)][_0x1ca509(0x884)]();}[_0xdcbb79(0x89e)](_0x1511e4){const _0x42823b=_0xdcbb79;this[_0x42823b(0x866)][_0x42823b(0x652)](_0x1511e4),this[_0x42823b(0x596)][_0x42823b(0x884)]();}[_0xdcbb79(0x1d8)](_0xa185d0){return this['remoteNodes']['has'](_0xa185d0);}['getRemoteNode'](_0x546835){const _0x4c9982=_0xdcbb79;return this[_0x4c9982(0x866)][_0x4c9982(0x3ee)](_0x546835);}['getClosestNodes'](_0x231bf6,_0x41cc3c){const _0x4fcace=_0xdcbb79,_0x13b8c1=this[_0x4fcace(0x8e0)](_0x41cc3c)?.[_0x4fcace(0x252)]()??0x0;return _0x231bf6[_0x4fcace(0x945)](_0xdf5d3f=>this[_0x4fcace(0x8e0)](_0xdf5d3f))[_0x4fcace(0x4e9)](_0x364159=>void 0x0!==_0x364159)[_0x4fcace(0x1ca)]((_0xd79860,_0xca69d2)=>Math['abs'](_0x13b8c1-(_0xd79860&&_0xd79860[_0x4fcace(0x252)]()||0x1/0x0))-Math[_0x4fcace(0x6df)](_0x13b8c1-(_0xca69d2&&_0xca69d2[_0x4fcace(0x252)]()||0x1/0x0)))[_0x4fcace(0x945)](_0x49a3a5=>_0x49a3a5['getId']());}[_0xdcbb79(0x7e1)](_0x2b5b7c){const _0xf2db8e=_0xdcbb79;return this[_0xf2db8e(0x596)][_0xf2db8e(0x917)](_0x2b5b7c);}}class _0x1fa562{[_0xdcbb79(0x8de)];[_0xdcbb79(0x31a)];[_0xdcbb79(0x56d)];[_0xdcbb79(0x49e)];['options'];[_0xdcbb79(0x3c6)];[_0xdcbb79(0x984)];[_0xdcbb79(0x62c)];[_0xdcbb79(0x165)];[_0xdcbb79(0x1ab)];[_0xdcbb79(0xa44)];['detectionManager'];[_0xdcbb79(0x4bc)];[_0xdcbb79(0x68c)];['graphService'];['systemTopic']=new _0x275d5c();[_0xdcbb79(0x2c2)];[_0xdcbb79(0x99b)];constructor(_0x3c52d9,_0x15081e,_0x16e4a0,_0x35a36f,_0x5324f9,_0x28c74c,_0x446e31){const _0x2586b2=_0xdcbb79;switch(this[_0x2586b2(0x8de)]=_0x3c52d9,this[_0x2586b2(0x31a)]=_0x15081e,this[_0x2586b2(0x56d)]=_0x16e4a0,this[_0x2586b2(0x49e)]=_0x35a36f,this[_0x2586b2(0x581)]=_0x5324f9,this[_0x2586b2(0x3c6)]=_0x28c74c,this['clusterEventEmitter']=_0x446e31,_0x16e4a0[_0x2586b2(0x8fa)]){case _0x410512[_0x2586b2(0xa72)]['User']:this[_0x2586b2(0x99b)]=new _0x1a5229(_0x16e4a0[_0x2586b2(0xa10)](),_0x16e4a0[_0x2586b2(0xa34)](),_0x16e4a0[_0x2586b2(0x33a)]());break;case _0x410512[_0x2586b2(0xa72)]['Agent']:default:this['localNode']=new _0xd1d183(_0x16e4a0['getId']());}const _0x113fab=this[_0x2586b2(0x3be)]();this[_0x2586b2(0x3a2)]=new _0x20cb39(this[_0x2586b2(0x581)]),this[_0x2586b2(0x62c)]=new _0x2396af(_0x113fab,this['options'],this['configs'][_0x2586b2(0x32a)]),this[_0x2586b2(0x165)]=new _0x481f0d(_0x113fab,this[_0x2586b2(0x49e)],this['graphService'],this[_0x2586b2(0x3c6)]['iceServers'],this[_0x2586b2(0x581)]),this[_0x2586b2(0x1ab)]=new _0x1fd628(_0x113fab,this[_0x2586b2(0x581)][_0x2586b2(0x9cf)],this[_0x2586b2(0x3a2)][_0x2586b2(0x70b)]()),this[_0x2586b2(0xa44)]=new _0x1bd2a4(_0x113fab),this['detectionManager']=new _0x43be3d(_0x113fab),this[_0x2586b2(0x4bc)]=new _0x3b36f2(_0x113fab),this[_0x2586b2(0x68c)]=new _0x4087b0(_0x113fab,this[_0x2586b2(0x3a2)]),this['systemTopicUnsubscribe']=this[_0x2586b2(0x405)]();}[_0xdcbb79(0x94b)](){const _0x6a1ddf=_0xdcbb79,_0x472819=this[_0x6a1ddf(0x3be)]();this['connectionManager']=new _0x481f0d(_0x472819,this[_0x6a1ddf(0x49e)],this[_0x6a1ddf(0x3a2)],this[_0x6a1ddf(0x3c6)]['iceServers'],this[_0x6a1ddf(0x581)]),this[_0x6a1ddf(0x1ab)]=new _0x1fd628(_0x472819,this[_0x6a1ddf(0x581)][_0x6a1ddf(0x9cf)],this['graphService'][_0x6a1ddf(0x70b)]()),this[_0x6a1ddf(0xa44)]=new _0x1bd2a4(_0x472819),this[_0x6a1ddf(0x92d)]=new _0x43be3d(_0x472819),this[_0x6a1ddf(0x4bc)]=new _0x3b36f2(_0x472819),this[_0x6a1ddf(0x68c)]=new _0x4087b0(_0x472819,this['graphService']);const _0xa12b5e=this[_0x6a1ddf(0x165)][_0x6a1ddf(0x754)]();this[_0x6a1ddf(0x62c)][_0x6a1ddf(0x6f1)]()[_0x6a1ddf(0x5f6)](_0x566bb6=>{const _0x505ba0=_0x6a1ddf;this[_0x505ba0(0x1ab)][_0x505ba0(0x6a1)](_0x566bb6,_0xa12b5e),this[_0x505ba0(0x1ab)][_0x505ba0(0x53a)](_0xa12b5e,_0x566bb6),_0x566bb6[_0x505ba0(0x337)]();}),this[_0x6a1ddf(0x62c)][_0x6a1ddf(0x5ff)]()[_0x6a1ddf(0x5f6)](_0x24c09c=>{const _0x42325f=_0x6a1ddf;this[_0x42325f(0x1ab)][_0x42325f(0x6a1)](_0x24c09c,_0xa12b5e),this[_0x42325f(0x1ab)][_0x42325f(0x53a)](_0xa12b5e,_0x24c09c),_0x24c09c[_0x42325f(0x337)](),_0x24c09c['sync']();}),this['contentManager'][_0x6a1ddf(0x6a0)]()[_0x6a1ddf(0x5f6)](_0x4f0226=>{const _0x4e29d9=_0x6a1ddf;this[_0x4e29d9(0x1ab)][_0x4e29d9(0x6a1)](_0x4f0226,_0xa12b5e),this[_0x4e29d9(0x1ab)]['createIncomingSubscription'](_0xa12b5e,_0x4f0226),_0x4f0226[_0x4e29d9(0x337)](),this['syncKeyValueDatabase'](_0x4f0226);}),this[_0x6a1ddf(0x62c)][_0x6a1ddf(0xa5e)]()[_0x6a1ddf(0x5f6)](_0x589e1a=>{const _0x3ad086=_0x6a1ddf;this[_0x3ad086(0x1ab)][_0x3ad086(0x6a1)](_0x589e1a,_0xa12b5e),this[_0x3ad086(0x1ab)][_0x3ad086(0x53a)](_0xa12b5e,_0x589e1a),_0x589e1a[_0x3ad086(0x337)]();}),this['contentManager'][_0x6a1ddf(0x7ae)]()[_0x6a1ddf(0x5f6)](_0x7a75c0=>{const _0x967d05=_0x6a1ddf;this[_0x967d05(0x1ab)][_0x967d05(0x6a1)](_0x7a75c0,_0xa12b5e),this['subscriptionManager']['createIncomingSubscription'](_0xa12b5e,_0x7a75c0),_0x7a75c0['reset']();}),this['contentManager'][_0x6a1ddf(0x436)]()[_0x6a1ddf(0x5f6)](_0x51bffc=>{const _0x2b7a8b=_0x6a1ddf;this['subscriptionManager'][_0x2b7a8b(0x6a1)](_0x51bffc,_0xa12b5e),this['subscriptionManager'][_0x2b7a8b(0x53a)](_0xa12b5e,_0x51bffc),_0x51bffc[_0x2b7a8b(0x337)]();}),this[_0x6a1ddf(0x62c)][_0x6a1ddf(0x248)]()[_0x6a1ddf(0x5f6)](_0x5ee6d8=>{const _0x4c5f99=_0x6a1ddf;this[_0x4c5f99(0x1ab)][_0x4c5f99(0x6a1)](_0x5ee6d8,_0xa12b5e),this[_0x4c5f99(0x1ab)][_0x4c5f99(0x53a)](_0xa12b5e,_0x5ee6d8),_0x5ee6d8[_0x4c5f99(0x337)]();}),this[_0x6a1ddf(0x2c2)]=this[_0x6a1ddf(0x405)]();}[_0xdcbb79(0x849)](_0x42fa7b){const _0x5561da=_0xdcbb79;try{this[_0x5561da(0x5df)][_0x5561da(0x3f9)](_0x42fa7b);}catch(_0x13c418){this[_0x5561da(0x4fa)](_0x13c418,{});}}[_0xdcbb79(0x341)](_0x54eaec){const _0x2cbdfa=_0xdcbb79;try{this[_0x2cbdfa(0x5df)]['unregisterSource'](_0x54eaec);}catch(_0x12469d){this[_0x2cbdfa(0x4fa)](_0x12469d,{});}}[_0xdcbb79(0x505)](_0x3c359b,_0x5e7e2c){const _0x3ec3f7=_0xdcbb79;return this[_0x3ec3f7(0x165)]['createConnection'](_0x3c359b,_0x5e7e2c);}[_0xdcbb79(0x97f)](_0x45f2e){const _0x5a20f9=_0xdcbb79;try{return this[_0x5a20f9(0x165)]['getConnection'](_0x45f2e);}catch(_0x49ec75){throw this['handleError'](_0x49ec75,{});}}['getConnections'](_0x240c1b){const _0x18fe15=_0xdcbb79;try{return this['connectionManager'][_0x18fe15(0x439)](_0x240c1b);}catch(_0x2d9d40){throw this[_0x18fe15(0x4fa)](_0x2d9d40,{});}}[_0xdcbb79(0x66c)](_0x19bd02,_0x201c6d){const _0x3fa4cf=_0xdcbb79;try{return this[_0x3fa4cf(0x62c)][_0x3fa4cf(0x317)](_0x5bcf7d=>_0x5bcf7d[_0x3fa4cf(0xa37)]()===_0x19bd02&&_0x5bcf7d['getLabel']()===_0x201c6d)[0x0];}catch(_0x2951bd){throw this[_0x3fa4cf(0x4fa)](_0x2951bd,{});}}[_0xdcbb79(0x9c3)](_0x23323e){const _0x2f797f=_0xdcbb79;try{return this[_0x2f797f(0x62c)]['getLocalMediaStreams'](_0x3c7e84=>_0x3c7e84['getLabel']()===_0x23323e)[0x0];}catch(_0x7f032d){throw this[_0x2f797f(0x4fa)](_0x7f032d,{});}}['notifyCluster']=(..._0x1b5866)=>{const _0x3a0d57=_0xdcbb79;try{return this[_0x3a0d57(0x984)]['emit'](..._0x1b5866);}catch(_0x40a860){throw this['handleError'](_0x40a860,{});}};[_0xdcbb79(0x219)](_0x3786d1){const _0x347589=_0xdcbb79;try{this[_0x347589(0xa44)][_0x347589(0x550)](_0x3786d1);}catch(_0x1c65f9){throw this[_0x347589(0x4fa)](_0x1c65f9,{});}}['unregisterRemoteNode'](_0x3db738){const _0x117bd4=_0xdcbb79;try{this[_0x117bd4(0xa44)][_0x117bd4(0x3b0)](_0x3db738);}catch(_0x5c022f){throw this['handleError'](_0x5c022f,{});}}[_0xdcbb79(0x34a)](_0x4fdf32){const _0x2b5d10=_0xdcbb79;return this['connectionManager'][_0x2b5d10(0x34a)](_0x4fdf32);}async[_0xdcbb79(0x677)](){const _0x19af48=_0xdcbb79;try{await this['connectionManager']['initialize']();const _0x173bdd=await this['nodeManager']['discover']();for(const _0x3701f1 of _0x173bdd)this['connectionManager']['createConnection'](_0x3701f1);}catch(_0x3b6266){throw this[_0x19af48(0x4fa)](_0x3b6266,{});}}['updateUser'](_0x3f0f40){const _0x23f089=_0xdcbb79;this[_0x23f089(0x99b)][_0x23f089(0x8fa)]===_0x410512[_0x23f089(0xa72)][_0x23f089(0x486)]&&(this[_0x23f089(0x99b)][_0x23f089(0x579)](_0x3f0f40[_0x23f089(0x33a)]()),this['localNode'][_0x23f089(0x63d)](_0x3f0f40[_0x23f089(0xa34)]()));}['close']({force:_0x47a1f3=!0x1},_0x5701d3=!0x1){const _0x34f52f=_0xdcbb79;if(_0xbff73d['warning'](_0x34f52f(0x6e2),{'clusterId':this['clusterId'],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x34f52f(0x8fa)]}),!_0x47a1f3&&this[_0x34f52f(0x165)]['hasBufferedData']())throw new _0x5df866(_0x29ef36[_0x34f52f(0xa7e)],'Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection');_0xbff73d[_0x34f52f(0x735)](),this['systemTopicUnsubscribe'](),this[_0x34f52f(0x4bc)][_0x34f52f(0x3d8)](),this['detectionManager']['close'](),this[_0x34f52f(0xa44)][_0x34f52f(0x3d8)](),this[_0x34f52f(0x1ab)]['close'](),this[_0x34f52f(0x165)][_0x34f52f(0x3d8)](),this['contentManager']['close'](_0x5701d3),this['nodeManager'][_0x34f52f(0x3d8)]();}[_0xdcbb79(0x738)](_0x231689){const _0xdc7260=_0xdcbb79;try{const _0x44b63e=this[_0xdc7260(0x62c)][_0xdc7260(0x7c8)](_0x231689),_0x1d8848=this[_0xdc7260(0x165)][_0xdc7260(0x754)]();return this[_0xdc7260(0x1ab)][_0xdc7260(0x6a1)](_0x44b63e,_0x1d8848),this[_0xdc7260(0x1ab)][_0xdc7260(0x53a)](_0x1d8848,_0x44b63e),_0x44b63e;}catch(_0x67bed0){throw this['handleError'](_0x67bed0,{});}}async[_0xdcbb79(0x81a)](_0x5225f0,_0x54539b){const _0x4385f8=_0xdcbb79;try{const _0x3b1c76=this[_0x4385f8(0x62c)][_0x4385f8(0x61a)](_0x5225f0,this[_0x4385f8(0x581)]['objectStoreConnector']),_0x2637ac=this['connectionManager']['getConnectionGroup']();return this['subscriptionManager'][_0x4385f8(0x6a1)](_0x3b1c76,_0x2637ac),this[_0x4385f8(0x1ab)][_0x4385f8(0x53a)](_0x2637ac,_0x3b1c76),await _0x3b1c76[_0x4385f8(0x9ae)](_0x54539b?.[_0x4385f8(0x76b)]??!0x0),_0x3b1c76;}catch(_0x3952c4){throw this['handleError'](_0x3952c4,{});}}async['openExternalStorageConnection'](_0x1deb21,_0x4c14b2){const _0x2bbaba=_0xdcbb79;try{if(!this[_0x2bbaba(0x581)]['externalStorageConnectors'])throw new _0x5df866(_0x29ef36[_0x2bbaba(0x8d1)],_0x2bbaba(0x3a6));if(!(this[_0x2bbaba(0x56d)]instanceof _0x3c4d41))throw new _0x5df866(_0x29ef36[_0x2bbaba(0x687)],_0x2bbaba(0x399));const _0x40088f=this[_0x2bbaba(0x581)][_0x2bbaba(0x7e7)][_0x2bbaba(0x3ee)](_0x4c14b2);if(!_0x40088f)throw new _0x5df866(_0x29ef36['ExternalStorageConnectorsMissing'],_0x2bbaba(0x3a6));const _0x246bb2=this[_0x2bbaba(0x62c)][_0x2bbaba(0x29f)](_0x1deb21,_0x40088f),_0x4510d3=this[_0x2bbaba(0x165)][_0x2bbaba(0x754)]();return this['subscriptionManager'][_0x2bbaba(0x6a1)](_0x246bb2,_0x4510d3),this[_0x2bbaba(0x1ab)][_0x2bbaba(0x53a)](_0x4510d3,_0x246bb2),await _0x246bb2[_0x2bbaba(0x94b)](),_0x246bb2;}catch(_0xb5fd00){throw this[_0x2bbaba(0x4fa)](_0xb5fd00,{});}}async['openKeyValueDatabase'](_0x35f351,_0x5f1e31,_0x10a6f6){const _0x4143e9=_0xdcbb79;try{_0x10a6f6=_0x10a6f6||this[_0x4143e9(0x581)][_0x4143e9(0x701)];const _0x5ac289=await this['contentManager'][_0x4143e9(0x85e)](_0x35f351,_0x5f1e31,_0x10a6f6),_0x42393e=this[_0x4143e9(0x165)][_0x4143e9(0x754)]();return this[_0x4143e9(0x1ab)]['createOutgoingSubscription'](_0x5ac289,_0x42393e),this['subscriptionManager']['createIncomingSubscription'](_0x42393e,_0x5ac289),await _0x5ac289[_0x4143e9(0x94b)](),this[_0x4143e9(0x1bb)](_0x5ac289),_0x5ac289;}catch(_0x19fc72){throw this[_0x4143e9(0x4fa)](_0x19fc72,{});}}async[_0xdcbb79(0x56a)](_0x26f060){const _0x39237f=_0xdcbb79;try{const _0x5a3cb1=await this[_0x39237f(0x62c)][_0x39237f(0x703)](_0x26f060,this[_0x39237f(0x3a2)]),_0x146165=this['connectionManager'][_0x39237f(0x754)]();return this['subscriptionManager'][_0x39237f(0x6a1)](_0x5a3cb1,_0x146165),this['subscriptionManager'][_0x39237f(0x53a)](_0x146165,_0x5a3cb1),_0x5a3cb1['open'](),_0x5a3cb1;}catch(_0x43da3e){throw this['handleError'](_0x43da3e,{});}}async[_0xdcbb79(0x70e)](_0x181ffe){const _0x5ed67a=_0xdcbb79;throw new Error(_0x5ed67a(0x5bf));}async[_0xdcbb79(0x91e)](_0x4be433){const _0xa8d632=_0xdcbb79;try{const _0x2949b3=await this['contentManager'][_0xa8d632(0x54a)](_0x4be433,this['graphService']),_0x216f47=this['connectionManager'][_0xa8d632(0x754)]();return this[_0xa8d632(0x1ab)][_0xa8d632(0x6a1)](_0x2949b3,_0x216f47),this['subscriptionManager']['createIncomingSubscription'](_0x216f47,_0x2949b3),_0x2949b3[_0xa8d632(0x94b)](),_0x2949b3;}catch(_0x5c17a8){throw console[_0xa8d632(0x33f)](_0x5c17a8),this[_0xa8d632(0x4fa)](_0x5c17a8,{});}}async[_0xdcbb79(0x8f3)](_0x54c472){const _0x26f325=_0xdcbb79;try{if(!this['options'][_0x26f325(0x4c4)]||!this[_0x26f325(0x581)]['documentParserConnector']||!this['options'][_0x26f325(0x8d8)])throw new _0x5df866(_0x29ef36['GenerativeAIWorkerMissingConnector'],_0x26f325(0x777));if(!(this['authNode']instanceof _0x3c4d41))throw new _0x5df866(_0x29ef36[_0x26f325(0x687)],_0x26f325(0x399));const _0x3ce4a2=[];for(const _0x2f32e2 of this[_0x26f325(0x581)][_0x26f325(0x4c4)])_0x3ce4a2['push'](new _0x2f32e2());const _0x51575a=new this[(_0x26f325(0x581))][(_0x26f325(0x195))](),_0x12931a=new this[(_0x26f325(0x581))][(_0x26f325(0x8d8))]();let _0x31d21d;this['options']['searchConnector']&&(_0x31d21d=new this[(_0x26f325(0x581))][(_0x26f325(0x5b0))]());const _0x39329=await this['contentManager']['createGenerativeAIWorker'](_0x54c472,this[_0x26f325(0x56d)],_0x3ce4a2,_0x51575a,_0x12931a,_0x31d21d),_0x2a0d60=this[_0x26f325(0x165)]['getConnectionGroup']();this[_0x26f325(0x1ab)][_0x26f325(0x6a1)](_0x39329,_0x2a0d60),this[_0x26f325(0x1ab)][_0x26f325(0x53a)](_0x2a0d60,_0x39329);const _0x2deb1a=this[_0x26f325(0x68c)][_0x26f325(0xa60)]();return _0x39329[_0x26f325(0x94b)](0x0===_0x2deb1a[_0x26f325(0x454)]||void 0x0),_0x39329;}catch(_0x5fa247){throw this[_0x26f325(0x4fa)](_0x5fa247,{});}}[_0xdcbb79(0x7eb)](_0x320579){const _0x49d204=_0xdcbb79;try{if(!this[_0x49d204(0x581)][_0x49d204(0xa27)])throw new _0x5df866(_0x29ef36['GraphDatabaseMissingConnector'],_0x49d204(0x2ff));if(!(this['authNode']instanceof _0x3c4d41))throw new _0x5df866(_0x29ef36[_0x49d204(0x687)],_0x49d204(0x399));const _0x340429=this[_0x49d204(0x62c)][_0x49d204(0x358)](_0x320579,this[_0x49d204(0x581)][_0x49d204(0xa27)]),_0x257e4e=this[_0x49d204(0x165)][_0x49d204(0x754)]();return this[_0x49d204(0x1ab)][_0x49d204(0x6a1)](_0x340429,_0x257e4e),this['subscriptionManager'][_0x49d204(0x53a)](_0x257e4e,_0x340429),_0x340429;}catch(_0x5a2e9f){throw this[_0x49d204(0x4fa)](_0x5a2e9f,{});}}[_0xdcbb79(0x2fa)](_0x5e059f){const _0xe67528=_0xdcbb79;try{if(!this['options'][_0xe67528(0xa4d)])throw new _0x5df866(_0x29ef36[_0xe67528(0xa65)],'Missing\x20vector\x20database\x20connector');if(!(this[_0xe67528(0x56d)]instanceof _0x3c4d41))throw new _0x5df866(_0x29ef36[_0xe67528(0x687)],_0xe67528(0x399));const _0x3561ca=this[_0xe67528(0x62c)]['createVectorDatabase'](_0x5e059f,this[_0xe67528(0x581)][_0xe67528(0xa4d)]),_0x16cd94=this['connectionManager']['getConnectionGroup']();return this[_0xe67528(0x1ab)]['createOutgoingSubscription'](_0x3561ca,_0x16cd94),this['subscriptionManager']['createIncomingSubscription'](_0x16cd94,_0x3561ca),_0x3561ca;}catch(_0x46ee9d){throw this[_0xe67528(0x4fa)](_0x46ee9d,{});}}[_0xdcbb79(0x6f1)](_0x20f851){const _0x25f03b=_0xdcbb79;try{return this['contentManager']['getPubSubTopics'](_0x20f851);}catch(_0x175ef4){throw this[_0x25f03b(0x4fa)](_0x175ef4,{});}}[_0xdcbb79(0x5ff)](_0x5cec58){const _0x395da8=_0xdcbb79;try{return this[_0x395da8(0x62c)][_0x395da8(0x5ff)](_0x5cec58);}catch(_0xe6ec61){throw this[_0x395da8(0x4fa)](_0xe6ec61,{});}}[_0xdcbb79(0x92f)](_0x18b8f4){const _0x3e6b47=_0xdcbb79;try{return this[_0x3e6b47(0x62c)][_0x3e6b47(0x92f)](_0x18b8f4);}catch(_0x417dc4){throw this[_0x3e6b47(0x4fa)](_0x417dc4,{});}}[_0xdcbb79(0x6a0)](_0x5045e0){const _0x868b1f=_0xdcbb79;try{return this[_0x868b1f(0x62c)][_0x868b1f(0x6a0)](_0x5045e0);}catch(_0x486198){throw this[_0x868b1f(0x4fa)](_0x486198,{});}}[_0xdcbb79(0x434)](_0x3fe200){const _0x60f05b=_0xdcbb79;try{return this[_0x60f05b(0x62c)][_0x60f05b(0x434)](_0x3fe200);}catch(_0x6ec43e){throw this[_0x60f05b(0x4fa)](_0x6ec43e,{});}}[_0xdcbb79(0x783)](_0x2b9553){const _0x8abc1e=_0xdcbb79;try{return this[_0x8abc1e(0x62c)][_0x8abc1e(0x783)](_0x2b9553);}catch(_0x2fbcee){throw this[_0x8abc1e(0x4fa)](_0x2fbcee,{});}}[_0xdcbb79(0x248)](_0x23f65a){const _0xd0b8bf=_0xdcbb79;try{return this[_0xd0b8bf(0x62c)][_0xd0b8bf(0x248)](_0x23f65a);}catch(_0x56a3b4){throw this[_0xd0b8bf(0x4fa)](_0x56a3b4,{});}}['createLocalMediaStream'](_0x5879a2,_0x484731){const _0x32a357=_0xdcbb79;if(!this['configs'][_0x32a357(0xa56)]['includes'](_0x236819[_0x32a357(0xa43)]))throw new _0x5df866(_0x29ef36[_0x32a357(0x7d5)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x32a357(0x62c)][_0x32a357(0x875)](_0x5879a2,_0x484731);}catch(_0x587a66){throw this[_0x32a357(0x4fa)](_0x587a66,{});}}[_0xdcbb79(0x24d)](_0x119e6b,_0x1e2ebe){const _0x420c09=_0xdcbb79;if(!this[_0x420c09(0x3c6)][_0x420c09(0xa56)][_0x420c09(0x949)](_0x236819['MediaStream']))throw new _0x5df866(_0x29ef36[_0x420c09(0x7d5)],_0x420c09(0x620));try{return this['contentManager']['createLocalDynamicMediaStream'](_0x119e6b,_0x1e2ebe);}catch(_0x3c9ad4){throw this['handleError'](_0x3c9ad4,{});}}['getLocalMediaStreams'](_0x280e80){const _0x242669=_0xdcbb79;if(!this['configs']['features'][_0x242669(0x949)](_0x236819[_0x242669(0xa43)]))throw new _0x5df866(_0x29ef36[_0x242669(0x7d5)],_0x242669(0x620));try{return this[_0x242669(0x62c)][_0x242669(0x5dc)](_0x280e80);}catch(_0x45d461){throw this[_0x242669(0x4fa)](_0x45d461,{});}}[_0xdcbb79(0x317)](_0x2b8c21){const _0x3ebb75=_0xdcbb79;if(!this[_0x3ebb75(0x3c6)][_0x3ebb75(0xa56)]['includes'](_0x236819[_0x3ebb75(0xa43)]))throw new _0x5df866(_0x29ef36[_0x3ebb75(0x7d5)],_0x3ebb75(0x620));try{return this[_0x3ebb75(0x62c)][_0x3ebb75(0x317)](_0x2b8c21);}catch(_0x5bad37){throw this[_0x3ebb75(0x4fa)](_0x5bad37,{});}}[_0xdcbb79(0x436)](_0x4f5f78){const _0x4e3db9=_0xdcbb79;try{return this[_0x4e3db9(0x62c)][_0x4e3db9(0x436)](_0x4f5f78);}catch(_0x325cfc){throw this[_0x4e3db9(0x4fa)](_0x325cfc,{});}}[_0xdcbb79(0x9c6)](_0x431e73,_0x57be98){const _0x453a06=_0xdcbb79;return this[_0x453a06(0x68c)][_0x453a06(0x9c6)](_0x431e73,_0x57be98);}[_0xdcbb79(0x7ca)](){const _0x52ba0d=_0xdcbb79;return this[_0x52ba0d(0x68c)]['getLocalNode']();}['getRemoteNodes'](_0x2fdf49){const _0xac9df0=_0xdcbb79;try{return this['nodeManager'][_0xac9df0(0x861)](_0x2fdf49);}catch(_0x2e32ec){throw this[_0xac9df0(0x4fa)](_0x2e32ec,{});}}['waitForArrayBufferSize'](){const _0x2b2994=_0xdcbb79;return this[_0x2b2994(0x165)]['waitForArrayBufferSize']();}[_0xdcbb79(0x369)](_0xdd13f3){const _0x5271b2=_0xdcbb79;return this[_0x5271b2(0x68c)][_0x5271b2(0x369)](_0xdd13f3);}async[_0xdcbb79(0x256)](_0x1209b6){const _0x5d76b2=_0xdcbb79;try{if(_0xbff73d[_0x5d76b2(0x198)](_0x1f75f2[_0x5d76b2(0x9d7)],_0x5d76b2(0x349),this['nodeManager'][_0x5d76b2(0x1fa)](),_0x1209b6),_0x2e8725(_0x1209b6,this[_0x5d76b2(0x68c)]['getLocalId']()))return void this[_0x5d76b2(0x165)]['handleOutgoingSystemEvents'](_0x1209b6);switch(_0x1209b6['messageType']){case _0x447632[_0x5d76b2(0x6cf)]:this[_0x5d76b2(0xa44)][_0x5d76b2(0x222)](_0x1209b6),this[_0x5d76b2(0x1ab)]['handleContentSystemEvents'](_0x1209b6),this[_0x5d76b2(0x62c)]['handleContentSystemEvents'](_0x1209b6);break;case _0x447632['Node']:this[_0x5d76b2(0x1ab)][_0x5d76b2(0x74f)](_0x1209b6),this[_0x5d76b2(0x165)]['handleNodeSystemEvents'](_0x1209b6),this[_0x5d76b2(0x62c)][_0x5d76b2(0x74f)](_0x1209b6),this[_0x5d76b2(0x68c)]['handleNodeSystemEvents'](_0x1209b6);break;case _0x447632[_0x5d76b2(0x681)]:this[_0x5d76b2(0x4bc)][_0x5d76b2(0x906)](_0x1209b6);break;case _0x447632['Remediation']:this[_0x5d76b2(0x4bc)]['handleRemediationSystemEvents'](_0x1209b6);break;case _0x447632[_0x5d76b2(0x8b5)]:this[_0x5d76b2(0x92d)][_0x5d76b2(0x4d1)](_0x1209b6);break;case _0x447632[_0x5d76b2(0x915)]:_0x1209b6[_0x5d76b2(0x7bd)][_0x5d76b2(0x8fa)]!==_0x1875b9[_0x5d76b2(0x63b)]?(this['subscriptionManager']['handleSubscriptionSystemEvents'](_0x1209b6),this['contentManager']['handleSubscriptionSystemEvents'](_0x1209b6)):(this['contentManager'][_0x5d76b2(0x43f)](_0x1209b6),this[_0x5d76b2(0x1ab)]['handleSubscriptionSystemEvents'](_0x1209b6));break;case _0x447632[_0x5d76b2(0x183)]:await this['connectionManager']['handlePeerConnectionSystemEvents'](_0x1209b6),this[_0x5d76b2(0xa44)]['handlePeerConnectionSystemEvents'](_0x1209b6),this[_0x5d76b2(0x68c)][_0x5d76b2(0x6c1)](_0x1209b6),this['subscriptionManager']['handlePeerConnectionSystemEvents'](_0x1209b6);}}catch(_0x3df824){throw _0xbff73d['debug'](_0x5d76b2(0x256),_0x3df824),this[_0x5d76b2(0x4fa)](_0x3df824,{});}}[_0xdcbb79(0x4fa)](_0xb892d6,_0x495135){const _0x593796=_0xdcbb79;if(!(_0xb892d6 instanceof _0xfe4e17)){if(_0xb892d6 instanceof _0x5df866)throw _0xb892d6;if(!(_0xb892d6 instanceof Error))throw new _0x5df866(_0x29ef36[_0x593796(0x3af)],_0x593796(0x455)+_0xb892d6);if(!(_0xb892d6 instanceof _0x3c9628))throw new _0x5df866(_0x29ef36[_0x593796(0x3af)],'Internal\x20error:\x20'+_0xb892d6[_0x593796(0x41d)]);switch(_0xb892d6[_0x593796(0x348)]){case _0x3c9628['codes']['MissingSystemTopic']:case _0x3c9628['codes']['MissingRemoteConnection']:case _0x3c9628[_0x593796(0x994)][_0x593796(0x444)]:case _0x3c9628['codes'][_0x593796(0x35d)]:case _0x3c9628[_0x593796(0x994)]['ConnectionNotConnected']:case _0x3c9628[_0x593796(0x994)][_0x593796(0x921)]:case _0x3c9628[_0x593796(0x994)][_0x593796(0x868)]:case _0x3c9628[_0x593796(0x994)][_0x593796(0x398)]:case _0x3c9628[_0x593796(0x994)][_0x593796(0x95c)]:case _0x3c9628[_0x593796(0x994)]['SubscriptionRequestFailed']:case _0x3c9628[_0x593796(0x994)]['SubscriptionRequestNoAnswer']:case _0x3c9628[_0x593796(0x994)]['InvalidSubscription']:}throw _0xbff73d[_0x593796(0x33f)]('sdk-internal-error:\x20'+_0xb892d6[_0x593796(0x41d)],{'clusterId':this[_0x593796(0x31a)],'nodeId':this[_0x593796(0x99b)]['getId'](),'nodeType':this[_0x593796(0x99b)][_0x593796(0x8fa)]},_0xb892d6),new _0x5df866(_0x29ef36[_0x593796(0x3af)],_0x593796(0x645)+_0xb892d6[_0x593796(0x41d)]);}}[_0xdcbb79(0x3be)](){const _0x2a858d=_0xdcbb79;return{'mediator':this,'vendorId':this[_0x2a858d(0x8de)],'clusterId':this['clusterId'],'localNode':this[_0x2a858d(0x99b)]};}[_0xdcbb79(0x405)](){const _0x30c126=_0xdcbb79;return this['systemTopic'][_0x30c126(0x917)](_0x24b16d=>{const _0x2e5799=_0x30c126,_0x7a3a94=_0x1fb664(_0x24b16d,this[_0x2e5799(0x99b)][_0x2e5799(0xa10)]()),_0x3d64b6=_0x24b16d['messageType']===_0x447632[_0x2e5799(0x8b5)]||_0x24b16d[_0x2e5799(0x526)]===_0x447632[_0x2e5799(0x183)]&&_0x24b16d['content'][_0x2e5799(0x8fa)]===_0x35a889[_0x2e5799(0x8b5)]?_0x1f75f2[_0x2e5799(0x5ce)]:_0x1f75f2[_0x2e5799(0x160)];_0xbff73d[_0x2e5799(0x88a)](_0x3d64b6,_0x24b16d[_0x2e5799(0x3c9)]+_0x2e5799(0x70a)+_0x7a3a94,_0x24b16d),this[_0x2e5799(0x256)](_0x24b16d)[_0x2e5799(0x9dd)](_0x96c78=>{const _0x496071=_0x2e5799;console[_0x496071(0x33f)](_0x96c78);});});}async['syncKeyValueDatabase'](_0x4643b4){const _0x13c290=_0xdcbb79,{timingLogger:_0x4aa649,logger:_0x43c0f4,logBeforeSync:_0x37ff90,logAfterSync:_0x71e915}=function(_0x16ee69,_0x397e2e){const _0x2f0d02=a0_0x27c7;if(!_0xbff73d['isChannelEnabled'](_0x397e2e))return _0xbff73d['debug'](_0x2f0d02(0x73f)+_0x397e2e),{..._0x2a49e0(_0x16ee69,_0x397e2e),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x23ee49,logger:_0x17e2fb}=_0x2a49e0(_0x16ee69,_0x397e2e);let _0x482c62=0x0;return _0x482c62=Date[_0x2f0d02(0x667)](),{'syncStartTime':_0x482c62,'timingLogger':_0x23ee49,'logger':_0x17e2fb,'logBeforeSync':()=>(_0x48db51(_0x397e2e,_0x2f0d02(0x9fb)),_0x23ee49['now']()),'logAfterSync':(_0x31bd4f,_0x9d222f)=>{const _0x35ca9e=_0x2f0d02,_0x3aa7ff=Date['now']();_0x48db51(_0x397e2e,_0x35ca9e(0x999)+_0x9d222f);const _0x3f8d56=(_0x3aa7ff-_0x482c62)/0x3e8,_0x1e4c35=(_0x3aa7ff-_0x31bd4f)/0x3e8;_0xbff73d[_0x35ca9e(0x198)](_0x397e2e,_0x35ca9e(0x7a7),_0x16ee69,_0x35ca9e(0x839)+_0x3f8d56[_0x35ca9e(0x17b)](0x2)+_0x35ca9e(0x31b),'\x0a\x20===\x20Wait\x20Time:\x20'+_0x1e4c35[_0x35ca9e(0x17b)](0x3)+_0x35ca9e(0x31b),'\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x3aa7ff-_0x482c62)/0x3e8-_0x1e4c35)[_0x35ca9e(0x17b)](0x2)+_0x35ca9e(0x31b));}};}(_0x4643b4[_0x13c290(0x7ed)](),_0x1f75f2['KeyValueDatabase']);_0x43c0f4[_0x13c290(0x198)](_0x13c290(0x4b0));const _0x5e31ee=this['nodeManager']['getAncestorIds']()[_0x13c290(0x454)]>0x0;if(_0x5e31ee){_0x43c0f4[_0x13c290(0x198)](_0x13c290(0x828),()=>this[_0x13c290(0x68c)][_0x13c290(0xa60)]()),_0x4aa649['start'](),await Promise[_0x13c290(0x4ad)](this[_0x13c290(0x68c)][_0x13c290(0xa60)]()[_0x13c290(0x945)](async _0xc8d0a2=>await this[_0x13c290(0x68c)][_0x13c290(0x369)](_0xc8d0a2)))['catch'](_0x79ef7f=>_0xbff73d[_0x13c290(0x869)](_0x13c290(0x77c),{'nodeId':this[_0x13c290(0x99b)][_0x13c290(0xa10)](),'nodeType':this['localNode'][_0x13c290(0x8fa)]}));const _0x1152c=_0x43c0f4[_0x13c290(0x644)](()=>this['nodeManager'][_0x13c290(0xa60)](),[]);_0x4aa649[_0x13c290(0x3de)](_0x13c290(0x612)+_0x1152c+_0x13c290(0x390));}_0x71e915(_0x37ff90(),await _0x4643b4[_0x13c290(0x9ae)](_0x5e31ee,async()=>{const _0x19545b=_0x13c290;_0x4aa649[_0x19545b(0x56e)](),await this['nodeManager'][_0x19545b(0x8a9)](),_0x4aa649[_0x19545b(0x3de)](_0x19545b(0x887)),_0x4643b4[_0x19545b(0x9ae)](!0x0,()=>{const _0x493d35=_0x19545b;_0x43c0f4[_0x493d35(0x198)](_0x493d35(0x27d)),_0x4643b4[_0x493d35(0x9ae)](!0x1);},!0x0);}));}}class _0x1e0ff3{[_0xdcbb79(0x8de)];[_0xdcbb79(0x31a)];[_0xdcbb79(0x56d)];['eventEmitter'];['orchestrator'];constructor(_0xa7d5b1,_0x1aa96c,_0x21d028,_0x1b424e,_0x1d10ff,_0x5199be,_0x4f803a=new _0x5b1d2f()){const _0x555bac=_0xdcbb79;this[_0x555bac(0x8de)]=_0xa7d5b1,this[_0x555bac(0x31a)]=_0x1aa96c,this[_0x555bac(0x56d)]=_0x21d028,this[_0x555bac(0x263)]=_0x4f803a,this['orchestrator']=new _0x1fa562(this[_0x555bac(0x8de)],this[_0x555bac(0x31a)],_0x21d028,_0x1b424e,_0x1d10ff,_0x5199be,this);}async['join'](){const _0xc7e181=_0xdcbb79;await this[_0xc7e181(0x60f)]['initialize'](),this[_0xc7e181(0x56d)][_0xc7e181(0x8fa)]===_0x410512[_0xc7e181(0xa72)]['User']&&this[_0xc7e181(0x56d)][_0xc7e181(0x4da)](this[_0xc7e181(0x31a)],_0xeecb29=>{const _0xb38c3a=_0xc7e181;this[_0xb38c3a(0x60f)][_0xb38c3a(0x9f1)](_0xeecb29);});}[_0xdcbb79(0xa0a)](_0x2f5b06={}){const _0x5a4e7a=_0xdcbb79;this[_0x5a4e7a(0x60f)][_0x5a4e7a(0x3d8)](_0x2f5b06),this[_0x5a4e7a(0x56d)][_0x5a4e7a(0x8fa)]===_0x410512[_0x5a4e7a(0xa72)][_0x5a4e7a(0x486)]&&this['authNode'][_0x5a4e7a(0x368)](this['clusterId']),this[_0x5a4e7a(0x6de)](_0x5a4e7a(0x2ab),void 0x0);}[_0xdcbb79(0x738)](_0x381a9a){const _0x3a4aee=_0xdcbb79,_0x23ab87=this[_0x3a4aee(0x60f)][_0x3a4aee(0x738)](_0x381a9a);return{'getName':_0x23ab87['getName'][_0x3a4aee(0xa19)](_0x23ab87),'getOwnerId':_0x23ab87[_0x3a4aee(0xa37)][_0x3a4aee(0xa19)](_0x23ab87),'getContentType':_0x23ab87[_0x3a4aee(0x3aa)][_0x3a4aee(0xa19)](_0x23ab87),'publish':_0x23ab87[_0x3a4aee(0x884)][_0x3a4aee(0xa19)](_0x23ab87),'subscribe':_0x23ab87[_0x3a4aee(0x917)][_0x3a4aee(0xa19)](_0x23ab87),'unsubscribe':_0x23ab87['unsubscribe'][_0x3a4aee(0xa19)](_0x23ab87),'close':_0x23ab87[_0x3a4aee(0x3d8)]['bind'](_0x23ab87)};}async[_0xdcbb79(0x81a)](_0x451f9f,_0x2e2c02){const _0x495191=_0xdcbb79,_0x266771=await this[_0x495191(0x60f)][_0x495191(0x81a)](_0x451f9f,_0x2e2c02);return{'getName':_0x266771[_0x495191(0x8b8)][_0x495191(0xa19)](_0x266771),'getOwnerId':_0x266771[_0x495191(0xa37)][_0x495191(0xa19)](_0x266771),'getContentType':_0x266771[_0x495191(0x3aa)][_0x495191(0xa19)](_0x266771),'publish':_0x266771[_0x495191(0x884)][_0x495191(0xa19)](_0x266771),'unpublish':_0x266771[_0x495191(0x615)]['bind'](_0x266771),'get':_0x266771[_0x495191(0x3ee)][_0x495191(0xa19)](_0x266771),'list':_0x266771[_0x495191(0x232)][_0x495191(0xa19)](_0x266771),'getSize':_0x266771[_0x495191(0x65f)][_0x495191(0xa19)](_0x266771),'subscribe':_0x266771[_0x495191(0x917)][_0x495191(0xa19)](_0x266771),'unsubscribe':_0x266771[_0x495191(0x1aa)][_0x495191(0xa19)](_0x266771),'close':_0x266771[_0x495191(0x3d8)][_0x495191(0xa19)](_0x266771)};}async[_0xdcbb79(0x92c)](_0xa8801,_0x5d8043){const _0x29736f=_0xdcbb79,_0x2da714=await this[_0x29736f(0x60f)][_0x29736f(0x92c)](_0xa8801,_0x5d8043);return{'getName':_0x2da714['getName']['bind'](_0x2da714),'getOwnerId':_0x2da714[_0x29736f(0xa37)]['bind'](_0x2da714),'getContentType':_0x2da714[_0x29736f(0x3aa)][_0x29736f(0xa19)](_0x2da714),'close':_0x2da714[_0x29736f(0x3d8)][_0x29736f(0xa19)](_0x2da714),'get':_0x2da714['get'][_0x29736f(0xa19)](_0x2da714),'list':_0x2da714['list']['bind'](_0x2da714),'subscribe':_0x2da714[_0x29736f(0x917)][_0x29736f(0xa19)](_0x2da714),'unsubscribe':_0x2da714[_0x29736f(0x1aa)][_0x29736f(0xa19)](_0x2da714)};}async[_0xdcbb79(0x75e)](_0x23a8e2,_0x55208c,_0x54a403){const _0x1d0714=_0xdcbb79,_0xf12aca=await this[_0x1d0714(0x60f)][_0x1d0714(0x75e)](_0x23a8e2,_0x55208c,_0x54a403);return{'getName':_0xf12aca['getName'][_0x1d0714(0xa19)](_0xf12aca),'getOwnerId':_0xf12aca[_0x1d0714(0xa37)][_0x1d0714(0xa19)](_0xf12aca),'getContentType':_0xf12aca[_0x1d0714(0x3aa)][_0x1d0714(0xa19)](_0xf12aca),'getTable':_0xf12aca[_0x1d0714(0x2a4)][_0x1d0714(0xa19)](_0xf12aca),'subscribe':_0xf12aca[_0x1d0714(0x917)][_0x1d0714(0xa19)](_0xf12aca),'unsubscribe':_0xf12aca[_0x1d0714(0x1aa)][_0x1d0714(0xa19)](_0xf12aca),'close':_0xf12aca[_0x1d0714(0x3d8)][_0x1d0714(0xa19)](_0xf12aca)};}async[_0xdcbb79(0x56a)](_0x4ef85c){const _0x3dccfe=_0xdcbb79,_0x5e4cfa=await this[_0x3dccfe(0x60f)][_0x3dccfe(0x56a)](_0x4ef85c);return{'getName':_0x5e4cfa[_0x3dccfe(0x8b8)]['bind'](_0x5e4cfa),'getOwnerId':_0x5e4cfa[_0x3dccfe(0xa37)][_0x3dccfe(0xa19)](_0x5e4cfa),'getContentType':_0x5e4cfa[_0x3dccfe(0x3aa)][_0x3dccfe(0xa19)](_0x5e4cfa),'createJob':_0x5e4cfa[_0x3dccfe(0x2d6)][_0x3dccfe(0xa19)](_0x5e4cfa),'getJob':_0x5e4cfa[_0x3dccfe(0x4e8)][_0x3dccfe(0xa19)](_0x5e4cfa),'getJobs':_0x5e4cfa[_0x3dccfe(0x72d)][_0x3dccfe(0xa19)](_0x5e4cfa),'close':_0x5e4cfa['close']['bind'](_0x5e4cfa)};}async[_0xdcbb79(0x70e)](_0x150094){const _0x4ac9ae=_0xdcbb79,_0x4bf66d=await this[_0x4ac9ae(0x60f)][_0x4ac9ae(0x70e)](_0x150094);return{'close':_0x4bf66d['close'][_0x4ac9ae(0xa19)](_0x4bf66d)};}async['openGenerativeAIContext'](_0x435f64){const _0x49ffa7=_0xdcbb79,_0x570a55=await this['orchestrator']['openGenerativeAIContext'](_0x435f64);return{'createAIJob':_0x570a55['createAIJob'][_0x49ffa7(0xa19)](_0x570a55),'ratePrompt':_0x570a55[_0x49ffa7(0x184)][_0x49ffa7(0xa19)](_0x570a55),'downloadDocument':_0x570a55[_0x49ffa7(0xa77)][_0x49ffa7(0xa19)](_0x570a55),'getDataBucketIds':_0x570a55[_0x49ffa7(0x1d2)]['bind'](_0x570a55),'close':_0x570a55[_0x49ffa7(0x3d8)][_0x49ffa7(0xa19)](_0x570a55)};}async[_0xdcbb79(0x8f3)](_0x4306d8){const _0x1783a0=_0xdcbb79,_0x36b4ed=await this['orchestrator'][_0x1783a0(0x8f3)](_0x4306d8);return{'close':_0x36b4ed['close'][_0x1783a0(0xa19)](_0x36b4ed)};}[_0xdcbb79(0x7eb)](_0x2a4e78){const _0x3239b3=_0xdcbb79,_0x44070d=this[_0x3239b3(0x60f)][_0x3239b3(0x7eb)](_0x2a4e78);return{'getName':_0x44070d[_0x3239b3(0x8b8)]['bind'](_0x44070d),'getOwnerId':_0x44070d[_0x3239b3(0xa37)]['bind'](_0x44070d),'getContentType':_0x44070d[_0x3239b3(0x3aa)][_0x3239b3(0xa19)](_0x44070d),'addNode':_0x44070d[_0x3239b3(0x52d)][_0x3239b3(0xa19)](_0x44070d),'addEdge':_0x44070d[_0x3239b3(0x5ea)]['bind'](_0x44070d),'getContent':_0x44070d[_0x3239b3(0x192)][_0x3239b3(0xa19)](_0x44070d),'remove':_0x44070d[_0x3239b3(0x852)]['bind'](_0x44070d),'saveToDisk':_0x44070d['saveToDisk'][_0x3239b3(0xa19)](_0x44070d),'loadFromDisk':_0x44070d[_0x3239b3(0x847)][_0x3239b3(0xa19)](_0x44070d),'close':_0x44070d[_0x3239b3(0x3d8)][_0x3239b3(0xa19)](_0x44070d)};}[_0xdcbb79(0x2fa)](_0x4d87b7){const _0x46f040=_0xdcbb79,_0x990717=this[_0x46f040(0x60f)][_0x46f040(0x2fa)](_0x4d87b7);return{'getName':_0x990717['getName'][_0x46f040(0xa19)](_0x990717),'getOwnerId':_0x990717[_0x46f040(0xa37)][_0x46f040(0xa19)](_0x990717),'getContentType':_0x990717[_0x46f040(0x3aa)]['bind'](_0x990717),'search':_0x990717[_0x46f040(0x96f)][_0x46f040(0xa19)](_0x990717),'insert':_0x990717[_0x46f040(0x6a5)]['bind'](_0x990717),'remove':_0x990717[_0x46f040(0x852)][_0x46f040(0xa19)](_0x990717),'saveToDisk':_0x990717[_0x46f040(0xa09)][_0x46f040(0xa19)](_0x990717),'loadFromDisk':_0x990717['loadFromDisk']['bind'](_0x990717),'close':_0x990717[_0x46f040(0x3d8)][_0x46f040(0xa19)](_0x990717)};}[_0xdcbb79(0x6f1)](_0x1cec6a){const _0x28dc23=_0xdcbb79;return this[_0x28dc23(0x60f)]['getPubSubTopics'](_0x1cec6a)['map'](_0x367e9b=>({'getName':_0x367e9b[_0x28dc23(0x8b8)]['bind'](_0x367e9b),'getOwnerId':_0x367e9b[_0x28dc23(0xa37)][_0x28dc23(0xa19)](_0x367e9b),'getContentType':_0x367e9b['getContentType'][_0x28dc23(0xa19)](_0x367e9b),'publish':_0x367e9b[_0x28dc23(0x884)]['bind'](_0x367e9b),'subscribe':_0x367e9b[_0x28dc23(0x917)][_0x28dc23(0xa19)](_0x367e9b),'unsubscribe':_0x367e9b[_0x28dc23(0x1aa)][_0x28dc23(0xa19)](_0x367e9b),'close':_0x367e9b[_0x28dc23(0x3d8)][_0x28dc23(0xa19)](_0x367e9b)}));}[_0xdcbb79(0x5ff)](_0x1f88d7){const _0xaeb905=_0xdcbb79;return this['orchestrator'][_0xaeb905(0x5ff)](_0x1f88d7)[_0xaeb905(0x945)](_0x2a600b=>({'getName':_0x2a600b[_0xaeb905(0x8b8)][_0xaeb905(0xa19)](_0x2a600b),'getOwnerId':_0x2a600b[_0xaeb905(0xa37)][_0xaeb905(0xa19)](_0x2a600b),'getContentType':_0x2a600b[_0xaeb905(0x3aa)][_0xaeb905(0xa19)](_0x2a600b),'publish':_0x2a600b[_0xaeb905(0x884)][_0xaeb905(0xa19)](_0x2a600b),'unpublish':_0x2a600b[_0xaeb905(0x615)][_0xaeb905(0xa19)](_0x2a600b),'get':_0x2a600b[_0xaeb905(0x3ee)]['bind'](_0x2a600b),'list':_0x2a600b[_0xaeb905(0x232)][_0xaeb905(0xa19)](_0x2a600b),'getSize':_0x2a600b['getSize'][_0xaeb905(0xa19)](_0x2a600b),'subscribe':_0x2a600b[_0xaeb905(0x917)][_0xaeb905(0xa19)](_0x2a600b),'unsubscribe':_0x2a600b[_0xaeb905(0x1aa)][_0xaeb905(0xa19)](_0x2a600b),'close':_0x2a600b[_0xaeb905(0x3d8)][_0xaeb905(0xa19)](_0x2a600b)}));}[_0xdcbb79(0x92f)](_0x17faee){const _0x336d30=_0xdcbb79;return this['orchestrator']['getExternalStorageConnections'](_0x17faee)[_0x336d30(0x945)](_0x36e9f9=>({'getName':_0x36e9f9[_0x336d30(0x8b8)][_0x336d30(0xa19)](_0x36e9f9),'getOwnerId':_0x36e9f9[_0x336d30(0xa37)][_0x336d30(0xa19)](_0x36e9f9),'getContentType':_0x36e9f9[_0x336d30(0x3aa)][_0x336d30(0xa19)](_0x36e9f9),'close':_0x36e9f9['close'][_0x336d30(0xa19)](_0x36e9f9),'get':_0x36e9f9[_0x336d30(0x3ee)][_0x336d30(0xa19)](_0x36e9f9),'list':_0x36e9f9['list'][_0x336d30(0xa19)](_0x36e9f9),'subscribe':_0x36e9f9['subscribe']['bind'](_0x36e9f9),'unsubscribe':_0x36e9f9['unsubscribe'][_0x336d30(0xa19)](_0x36e9f9)}));}[_0xdcbb79(0x6a0)](_0x1892a4){const _0x256a7c=_0xdcbb79;return this[_0x256a7c(0x60f)][_0x256a7c(0x6a0)](_0x1892a4)[_0x256a7c(0x945)](_0x307575=>({'getName':_0x307575[_0x256a7c(0x8b8)]['bind'](_0x307575),'getOwnerId':_0x307575[_0x256a7c(0xa37)][_0x256a7c(0xa19)](_0x307575),'getContentType':_0x307575[_0x256a7c(0x3aa)][_0x256a7c(0xa19)](_0x307575),'getTable':_0x307575['getTable']['bind'](_0x307575),'subscribe':_0x307575['subscribe'][_0x256a7c(0xa19)](_0x307575),'unsubscribe':_0x307575[_0x256a7c(0x1aa)][_0x256a7c(0xa19)](_0x307575),'close':_0x307575[_0x256a7c(0x3d8)]['bind'](_0x307575)}));}[_0xdcbb79(0x434)](_0x27b2a3){const _0x5c2040=_0xdcbb79;return this[_0x5c2040(0x60f)][_0x5c2040(0x434)](_0x27b2a3)['map'](_0x2139fb=>({'createAIJob':_0x2139fb[_0x5c2040(0x75b)][_0x5c2040(0xa19)](_0x2139fb),'ratePrompt':_0x2139fb['ratePrompt'][_0x5c2040(0xa19)](_0x2139fb),'downloadDocument':_0x2139fb[_0x5c2040(0xa77)][_0x5c2040(0xa19)](_0x2139fb),'getDataBucketIds':_0x2139fb[_0x5c2040(0x1d2)][_0x5c2040(0xa19)](_0x2139fb),'close':_0x2139fb['close'][_0x5c2040(0xa19)](_0x2139fb)}));}[_0xdcbb79(0x783)](_0x4cdec7){const _0xec38da=_0xdcbb79;return this[_0xec38da(0x60f)][_0xec38da(0x783)](_0x4cdec7)[_0xec38da(0x945)](_0x208b14=>({'close':_0x208b14[_0xec38da(0x3d8)]['bind'](_0x208b14)}));}[_0xdcbb79(0x9a8)](_0x20431d,_0x31e2f8){const _0x3d6fea=_0xdcbb79,_0x2d6063=this[_0x3d6fea(0x60f)][_0x3d6fea(0x875)](_0x20431d,_0x31e2f8);return{'getLabel':_0x2d6063['getLabel'][_0x3d6fea(0xa19)](_0x2d6063),'getOwnerId':_0x2d6063['getOwnerId']['bind'](_0x2d6063),'getContentType':_0x2d6063[_0x3d6fea(0x3aa)][_0x3d6fea(0xa19)](_0x2d6063),'getMediaStream':_0x2d6063[_0x3d6fea(0x18c)][_0x3d6fea(0xa19)](_0x2d6063),'setPriority':_0x2d6063['setPriority'][_0x3d6fea(0xa19)](_0x2d6063),'unpublish':_0x2d6063[_0x3d6fea(0x615)][_0x3d6fea(0xa19)](_0x2d6063)};}[_0xdcbb79(0x5b6)](_0x9657ba,_0x1e9d03){const _0x209b7b=_0xdcbb79,_0x4385bd=this[_0x209b7b(0x60f)][_0x209b7b(0x24d)](_0x9657ba,_0x1e9d03);return{'getLabel':_0x4385bd['getLabel']['bind'](_0x4385bd),'getOwnerId':_0x4385bd['getOwnerId'][_0x209b7b(0xa19)](_0x4385bd),'getContentType':_0x4385bd[_0x209b7b(0x3aa)][_0x209b7b(0xa19)](_0x4385bd),'setPriority':_0x4385bd[_0x209b7b(0x71a)][_0x209b7b(0xa19)](_0x4385bd),'unpublish':_0x4385bd[_0x209b7b(0x615)][_0x209b7b(0xa19)](_0x4385bd),'getMediaStream':_0x4385bd[_0x209b7b(0x18c)][_0x209b7b(0xa19)](_0x4385bd),'addTrack':_0x4385bd['addTrack'][_0x209b7b(0xa19)](_0x4385bd),'removeTrack':_0x4385bd[_0x209b7b(0x5f3)]['bind'](_0x4385bd),'replaceTrack':_0x4385bd[_0x209b7b(0x2e4)][_0x209b7b(0xa19)](_0x4385bd),'setTransformations':_0x4385bd[_0x209b7b(0x993)][_0x209b7b(0xa19)](_0x4385bd)};}['getLocalMediaStreams'](_0x162d66){const _0xc50174=_0xdcbb79;return this[_0xc50174(0x60f)]['getLocalMediaStreams'](_0x162d66)[_0xc50174(0x945)](_0x376b4e=>({'getLabel':_0x376b4e['getLabel'][_0xc50174(0xa19)](_0x376b4e),'getOwnerId':_0x376b4e[_0xc50174(0xa37)][_0xc50174(0xa19)](_0x376b4e),'getContentType':_0x376b4e[_0xc50174(0x3aa)][_0xc50174(0xa19)](_0x376b4e),'getMediaStream':_0x376b4e[_0xc50174(0x18c)][_0xc50174(0xa19)](_0x376b4e),'setPriority':_0x376b4e[_0xc50174(0x71a)][_0xc50174(0xa19)](_0x376b4e),'unpublish':_0x376b4e['unpublish'][_0xc50174(0xa19)](_0x376b4e)}));}['getRemoteMediaStreams'](_0x393c7a){const _0x26028b=_0xdcbb79;return this[_0x26028b(0x60f)][_0x26028b(0x317)](_0x393c7a)['map'](_0x592b36=>({'getLabel':_0x592b36['getLabel']['bind'](_0x592b36),'getOwnerId':_0x592b36[_0x26028b(0xa37)][_0x26028b(0xa19)](_0x592b36),'getContentType':_0x592b36['getContentType'][_0x26028b(0xa19)](_0x592b36),'getMediaStream':_0x592b36['getMediaStream'][_0x26028b(0xa19)](_0x592b36),'subscribe':_0x592b36[_0x26028b(0x917)][_0x26028b(0xa19)](_0x592b36),'unsubscribe':_0x592b36[_0x26028b(0x1aa)][_0x26028b(0xa19)](_0x592b36),'getAvailableTrackKinds':_0x592b36['getAvailableTrackKinds'][_0x26028b(0xa19)](_0x592b36),'update':_0x592b36[_0x26028b(0x65d)][_0x26028b(0xa19)](_0x592b36),'onProviderChange':_0x592b36[_0x26028b(0x1f6)][_0x26028b(0xa19)](_0x592b36)}));}['getGraphDatabases'](_0x7ee29){const _0x1f86d4=_0xdcbb79;return this[_0x1f86d4(0x60f)][_0x1f86d4(0x248)](_0x7ee29)[_0x1f86d4(0x945)](_0x2165e9=>({'getName':_0x2165e9[_0x1f86d4(0x8b8)][_0x1f86d4(0xa19)](_0x2165e9),'getOwnerId':_0x2165e9['getOwnerId'][_0x1f86d4(0xa19)](_0x2165e9),'getContentType':_0x2165e9['getContentType'][_0x1f86d4(0xa19)](_0x2165e9),'addNode':_0x2165e9[_0x1f86d4(0x52d)][_0x1f86d4(0xa19)](_0x2165e9),'addEdge':_0x2165e9[_0x1f86d4(0x5ea)][_0x1f86d4(0xa19)](_0x2165e9),'getContent':_0x2165e9[_0x1f86d4(0x192)]['bind'](_0x2165e9),'remove':_0x2165e9[_0x1f86d4(0x852)][_0x1f86d4(0xa19)](_0x2165e9),'saveToDisk':_0x2165e9[_0x1f86d4(0xa09)][_0x1f86d4(0xa19)](_0x2165e9),'loadFromDisk':_0x2165e9[_0x1f86d4(0x847)]['bind'](_0x2165e9),'close':_0x2165e9[_0x1f86d4(0x3d8)]['bind'](_0x2165e9)}));}[_0xdcbb79(0x436)](_0x1f1813){const _0xef4ea8=_0xdcbb79;return this[_0xef4ea8(0x60f)][_0xef4ea8(0x436)](_0x1f1813)['map'](_0x27ded1=>({'getName':_0x27ded1['getName'][_0xef4ea8(0xa19)](_0x27ded1),'getOwnerId':_0x27ded1['getOwnerId'][_0xef4ea8(0xa19)](_0x27ded1),'getContentType':_0x27ded1[_0xef4ea8(0x3aa)]['bind'](_0x27ded1),'search':_0x27ded1[_0xef4ea8(0x96f)][_0xef4ea8(0xa19)](_0x27ded1),'insert':_0x27ded1['insert'][_0xef4ea8(0xa19)](_0x27ded1),'remove':_0x27ded1[_0xef4ea8(0x852)][_0xef4ea8(0xa19)](_0x27ded1),'saveToDisk':_0x27ded1[_0xef4ea8(0xa09)][_0xef4ea8(0xa19)](_0x27ded1),'loadFromDisk':_0x27ded1[_0xef4ea8(0x847)][_0xef4ea8(0xa19)](_0x27ded1),'close':_0x27ded1['close']['bind'](_0x27ded1)}));}['getLocalNode'](){const _0xb964ec=_0xdcbb79,_0x53794e=this[_0xb964ec(0x60f)][_0xb964ec(0x7ca)]();switch(_0x53794e[_0xb964ec(0x8fa)]){case _0x410512[_0xb964ec(0xa72)][_0xb964ec(0x486)]:return{'type':_0x410512[_0xb964ec(0xa72)]['User'],'getId':_0x53794e[_0xb964ec(0xa10)][_0xb964ec(0xa19)](_0x53794e),'getDisplayName':_0x53794e[_0xb964ec(0xa34)]['bind'](_0x53794e),'getEmail':_0x53794e['getEmail'][_0xb964ec(0xa19)](_0x53794e),'getRemoteConnections':_0x53794e[_0xb964ec(0x624)][_0xb964ec(0xa19)](_0x53794e),'setDisplayName':_0x53794e[_0xb964ec(0x63d)][_0xb964ec(0xa19)](_0x53794e),'setEmail':_0x53794e[_0xb964ec(0x579)][_0xb964ec(0xa19)](_0x53794e)};case _0x410512[_0xb964ec(0xa72)][_0xb964ec(0x963)]:default:return{'type':_0x410512[_0xb964ec(0xa72)][_0xb964ec(0x963)],'getId':_0x53794e[_0xb964ec(0xa10)]['bind'](_0x53794e),'getRemoteConnections':_0x53794e['getRemoteConnections']['bind'](_0x53794e)};}}[_0xdcbb79(0x861)](_0x2b759b){const _0x48c279=_0xdcbb79;return this['orchestrator'][_0x48c279(0x861)](_0x2b759b)[_0x48c279(0x945)](_0x3748e1=>{const _0x5adc1d=_0x48c279;switch(_0x3748e1[_0x5adc1d(0x8fa)]){case _0x410512[_0x5adc1d(0xa72)][_0x5adc1d(0x486)]:return{'type':_0x410512[_0x5adc1d(0xa72)][_0x5adc1d(0x486)],'getId':_0x3748e1[_0x5adc1d(0xa10)][_0x5adc1d(0xa19)](_0x3748e1),'getDisplayName':_0x3748e1[_0x5adc1d(0xa34)][_0x5adc1d(0xa19)](_0x3748e1),'getEmail':_0x3748e1[_0x5adc1d(0x33a)][_0x5adc1d(0xa19)](_0x3748e1),'getRemoteConnections':_0x3748e1[_0x5adc1d(0x624)]['bind'](_0x3748e1)};case _0x410512[_0x5adc1d(0xa72)][_0x5adc1d(0x963)]:return{'type':_0x410512[_0x5adc1d(0xa72)][_0x5adc1d(0x963)],'getId':_0x3748e1[_0x5adc1d(0xa10)][_0x5adc1d(0xa19)](_0x3748e1),'getRemoteConnections':_0x3748e1[_0x5adc1d(0x624)][_0x5adc1d(0xa19)](_0x3748e1)};default:throw new _0x5df866(_0x29ef36[_0x5adc1d(0x687)],_0x5adc1d(0x7f2));}});}['on']=(..._0x1594be)=>{const _0x5c9a21=_0xdcbb79;this[_0x5c9a21(0x263)]['on'](..._0x1594be);};[_0xdcbb79(0x6de)]=(..._0x30bc0e)=>this['eventEmitter']['emit'](..._0x30bc0e);[_0xdcbb79(0x809)](..._0x3ece71){const _0x408d89=_0xdcbb79;this[_0x408d89(0x263)][_0x408d89(0x809)](..._0x3ece71);}}class _0x8b6ea6{['id'];[_0xdcbb79(0x876)];[_0xdcbb79(0x5d2)];[_0xdcbb79(0x8fa)]=_0x410512[_0xdcbb79(0xa72)][_0xdcbb79(0x486)];[_0xdcbb79(0x36f)]=new Map();[_0xdcbb79(0x225)]=_0x5de5e8();constructor(_0x2300d0,_0x23e3f8,_0x3dd067){const _0x524652=_0xdcbb79;this['id']=_0x2300d0,this[_0x524652(0x876)]=_0x23e3f8,this[_0x524652(0x5d2)]=_0x3dd067;}[_0xdcbb79(0xa10)](){return this['id'];}[_0xdcbb79(0xa34)](){const _0x1a2f21=_0xdcbb79;return this[_0x1a2f21(0x876)];}[_0xdcbb79(0x33a)](){const _0x381f66=_0xdcbb79;return this[_0x381f66(0x5d2)];}[_0xdcbb79(0x63d)](_0x50344b){const _0x54eb94=_0xdcbb79;this[_0x54eb94(0x876)]!==_0x50344b&&(this['displayName']=_0x50344b,this['observer'][_0x54eb94(0x884)](this));}[_0xdcbb79(0x579)](_0x4b9148){const _0x503b6c=_0xdcbb79;this[_0x503b6c(0x5d2)]!==_0x4b9148&&(this[_0x503b6c(0x5d2)]=_0x4b9148,this[_0x503b6c(0x225)]['publish'](this));}[_0xdcbb79(0x4da)](_0x2672c9,_0x27d0e5){const _0x3db700=_0xdcbb79;if(this[_0x3db700(0x36f)][_0x3db700(0x504)](_0x2672c9))return;const _0x34b3c9=this[_0x3db700(0x225)][_0x3db700(0x917)](_0x27d0e5);this[_0x3db700(0x36f)][_0x3db700(0x80a)](_0x2672c9,_0x34b3c9);}[_0xdcbb79(0x368)](_0x19d870){const _0x1b3d38=_0xdcbb79;if(!this[_0x1b3d38(0x36f)]['has'](_0x19d870))return;const _0x48549d=this[_0x1b3d38(0x36f)][_0x1b3d38(0x3ee)](_0x19d870);_0x48549d&&_0x48549d(),this[_0x1b3d38(0x36f)]['delete'](_0x19d870);}}class _0x324fe8{[_0xdcbb79(0x8de)];[_0xdcbb79(0x2d2)];constructor(_0x1aa64b){const _0x4ba17c=_0xdcbb79;this[_0x4ba17c(0x8de)]=_0x1aa64b;}async[_0xdcbb79(0xa28)](_0x679d75){const _0x3c9d2e=_0xdcbb79,_0x3154bb=await(0x0,_0x577889[_0x3c9d2e(0x51c)])(_0x35c568[_0x3c9d2e(0x3eb)](),'sdkCreateToken')({'uid':_0x3c9d2e(0x1ea)+this[_0x3c9d2e(0x8de)]+_0x3c9d2e(0x1ea)+_0x679d75['id']}),_0x535900=await(0x0,_0x33ed90['signInWithCustomToken'])(_0x35c568[_0x3c9d2e(0x19d)](),_0x3154bb['data'][_0x3c9d2e(0x214)]);this[_0x3c9d2e(0x2d2)]=_0x535900['user'];}async[_0xdcbb79(0x604)](){const _0x33644f=_0xdcbb79;await(0x0,_0x33ed90['signOut'])(_0x35c568[_0x33644f(0x19d)]());}[_0xdcbb79(0xa38)](){const _0x386a02=_0xdcbb79;return this[_0x386a02(0x2d2)]?.[_0x386a02(0xa38)]()??Promise[_0x386a02(0x27c)](_0x386a02(0x3ed));}}class _0x3a0033{static [_0xdcbb79(0x6f7)];[_0xdcbb79(0x5c7)]=[];constructor(){}static[_0xdcbb79(0x626)](){const _0x51a7e1=_0xdcbb79;return _0x3a0033[_0x51a7e1(0x6f7)]||(_0x3a0033['instance']=new _0x3a0033()),_0x3a0033[_0x51a7e1(0x6f7)];}[_0xdcbb79(0x677)](){const _0x278194=_0xdcbb79;this[_0x278194(0x2bf)](),this['checkMediaStream'](),this[_0x278194(0x1ad)](),this[_0x278194(0x34f)](),this[_0x278194(0x1b6)](),this[_0x278194(0x95d)](),this['checkMediaRecording'](),this[_0x278194(0x5a8)](),this[_0x278194(0x5eb)](),this[_0x278194(0x568)](),_0xbff73d[_0x278194(0x198)](_0x1f75f2[_0x278194(0x972)],_0x278194(0x872),{'featureSupport':this['featureSupport']});}[_0xdcbb79(0x374)](_0x26ae4f){const _0x9750e=_0xdcbb79,_0x3d40f4=this['featureSupport']['find'](_0x5a66a5=>_0x5a66a5[_0x9750e(0x181)]===_0x26ae4f);return!!_0x3d40f4&&_0x3d40f4[_0x9750e(0x523)];}['logSupport'](_0x57adb2){const _0x3f9581=_0xdcbb79;_0xbff73d[_0x3f9581(0x265)](_0x3f9581(0x291),{'nodeId':_0x57adb2[_0x3f9581(0xa10)](),'nodeType':_0x57adb2[_0x3f9581(0x8fa)],'data':{'featureSupport':this[_0x3f9581(0x5c7)]}});}[_0xdcbb79(0x2bf)](){const _0x2dc6db=_0xdcbb79,_0x1f80c2=_0x43704b[_0x2dc6db(0x209)];let _0x429fd5=!0x1;_0x2dc6db(0x392)==typeof RTCPeerConnection&&_0x2dc6db(0x392)==typeof RTCIceCandidate&&_0x2dc6db(0x392)==typeof RTCSessionDescription?_0x429fd5=!0x0:_0xbff73d[_0x2dc6db(0x198)](_0x1f75f2[_0x2dc6db(0x972)],'Support:\x20'+_0x1f80c2+'\x20not\x20supported'),this[_0x2dc6db(0x5c7)][_0x2dc6db(0x90d)]({'name':_0x1f80c2,'supported':_0x429fd5});}[_0xdcbb79(0x996)](){const _0x352abc=_0xdcbb79,_0x1176ad=_0x43704b[_0x352abc(0xa43)];let _0x591f03=!0x1;_0x352abc(0x392)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x352abc(0x778)==typeof navigator&&'object'==typeof navigator['mediaDevices']&&_0x352abc(0x392)==typeof navigator['mediaDevices'][_0x352abc(0x185)]?_0x591f03=!0x0:_0xbff73d[_0x352abc(0x198)](_0x1f75f2[_0x352abc(0x972)],'Support:\x20'+_0x1176ad+_0x352abc(0x16e)),this['featureSupport'][_0x352abc(0x90d)]({'name':_0x1176ad,'supported':_0x591f03});}[_0xdcbb79(0x1ad)](){const _0x7d199e=_0xdcbb79,_0x1a1c61=_0x43704b[_0x7d199e(0x5ef)];let _0xd7d35f=!0x1;'object'==typeof navigator&&_0x7d199e(0x778)==typeof navigator['mediaDevices']&&_0x7d199e(0x392)==typeof navigator[_0x7d199e(0x88d)][_0x7d199e(0x684)]?_0xd7d35f=!0x0:_0xbff73d['log'](_0x1f75f2[_0x7d199e(0x972)],_0x7d199e(0x580)+_0x1a1c61+'\x20not\x20supported'),this[_0x7d199e(0x5c7)][_0x7d199e(0x90d)]({'name':_0x1a1c61,'supported':_0xd7d35f});}[_0xdcbb79(0x34f)](){const _0x40d589=_0xdcbb79,_0x294c84=_0x43704b[_0x40d589(0x621)];let _0x1dde3e=!0x1;_0x40d589(0x392)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0x40d589(0x392)!=typeof AudioWorkletNode||_0x40d589(0x392)!=typeof MediaStreamAudioSourceNode?_0xbff73d[_0x40d589(0x198)](_0x1f75f2['Support'],_0x40d589(0x580)+_0x294c84+_0x40d589(0x16e)):_0x1dde3e=!0x0,this[_0x40d589(0x5c7)][_0x40d589(0x90d)]({'name':_0x294c84,'supported':_0x1dde3e});}[_0xdcbb79(0x1b6)](){const _0x5b3259=_0xdcbb79,_0x22e1f3=_0x43704b[_0x5b3259(0x4ed)];let _0x27072c=!0x1;'object'==typeof navigator&&'object'==typeof navigator[_0x5b3259(0x88d)]&&_0x5b3259(0x392)==typeof navigator['mediaDevices'][_0x5b3259(0x35e)]&&_0x5b3259(0x392)==typeof MediaDeviceInfo?_0x27072c=!0x0:_0xbff73d[_0x5b3259(0x198)](_0x1f75f2[_0x5b3259(0x972)],_0x5b3259(0x580)+_0x22e1f3+_0x5b3259(0x16e)),this[_0x5b3259(0x5c7)][_0x5b3259(0x90d)]({'name':_0x22e1f3,'supported':_0x27072c});}[_0xdcbb79(0x95d)](){const _0x4c6279=_0xdcbb79,_0x4cb216=_0x43704b[_0x4c6279(0x527)];let _0x11adbb=!0x1;'object'==typeof document&&_0x4c6279(0x392)==typeof document[_0x4c6279(0x9dc)](_0x4c6279(0x72f))['setSinkId']?_0x11adbb=!0x0:_0xbff73d[_0x4c6279(0x198)](_0x1f75f2['Support'],_0x4c6279(0x580)+_0x4cb216+_0x4c6279(0x16e)),this[_0x4c6279(0x5c7)][_0x4c6279(0x90d)]({'name':_0x4cb216,'supported':_0x11adbb});}async['checkMediaRecording'](){const _0x155940=_0xdcbb79,_0x15a0df=_0x43704b['Recording'];let _0x355e6c=!0x1;try{const _0x3e85da=document[_0x155940(0x9dc)](_0x155940(0x3d6));if(MediaRecorder&&MediaSource&&_0x3e85da[_0x155940(0x597)]){const _0x17018d=_0x3e85da[_0x155940(0x597)](),_0xabe1cb=new MediaRecorder(_0x17018d);_0xabe1cb[_0x155940(0x56e)](),await new Promise(_0x32c9b4=>setTimeout(_0x32c9b4,0x7d0)),_0xabe1cb[_0x155940(0x584)](),_0x355e6c=_0x155940(0x23c)===_0xabe1cb[_0x155940(0x7b6)];}}catch(_0x215c2a){_0xbff73d[_0x155940(0x198)](_0x1f75f2[_0x155940(0x972)],_0x155940(0x580)+_0x15a0df+_0x155940(0x7c2),_0x215c2a);}this[_0x155940(0x5c7)][_0x155940(0x90d)]({'name':_0x15a0df,'supported':_0x355e6c}),_0x355e6c||_0xbff73d['log'](_0x1f75f2['Support'],_0x155940(0x580)+_0x15a0df+_0x155940(0x16e));}[_0xdcbb79(0x5a8)](){const _0x44e1fe=_0xdcbb79,_0x5cfd9d=_0x43704b[_0x44e1fe(0x66f)];let _0x2a8fbc=!0x1;try{document[_0x44e1fe(0x9dc)](_0x44e1fe(0x3d6))[_0x44e1fe(0x597)]&&(_0x2a8fbc=!0x0);}catch(_0x29c8c7){_0xbff73d[_0x44e1fe(0x198)](_0x1f75f2['Support'],'Support:\x20'+_0x5cfd9d+_0x44e1fe(0x7c2),_0x29c8c7);}this['featureSupport']['push']({'name':_0x5cfd9d,'supported':_0x2a8fbc}),_0x2a8fbc||_0xbff73d[_0x44e1fe(0x198)](_0x1f75f2[_0x44e1fe(0x972)],_0x44e1fe(0x580)+_0x5cfd9d+'\x20not\x20supported');}[_0xdcbb79(0x5eb)](){const _0x1082f3=_0xdcbb79,_0x5e1766=_0x43704b[_0x1082f3(0x1cb)];let _0x26dda1=!0x1;try{const _0x1d2f85=document[_0x1082f3(0x9dc)](_0x1082f3(0x3d6));WebGLRenderingContext&&_0x1d2f85[_0x1082f3(0x4a5)](_0x1082f3(0x243))&&(_0x26dda1=!0x0);}catch(_0x27f383){_0xbff73d['log'](_0x1f75f2['Support'],_0x1082f3(0x580)+_0x5e1766+_0x1082f3(0x7c2),_0x27f383);}this[_0x1082f3(0x5c7)][_0x1082f3(0x90d)]({'name':_0x5e1766,'supported':_0x26dda1}),_0x26dda1||_0xbff73d[_0x1082f3(0x198)](_0x1f75f2[_0x1082f3(0x972)],'Support:\x20'+_0x5e1766+_0x1082f3(0x16e));}[_0xdcbb79(0x568)](){const _0x2ff8dd=_0xdcbb79,_0x1f98f5=_0x43704b[_0x2ff8dd(0x364)];let _0x8f50f7=!0x1;_0x2ff8dd(0x392)==typeof AudioContext?_0x8f50f7=!0x0:_0xbff73d[_0x2ff8dd(0x198)](_0x1f75f2[_0x2ff8dd(0x972)],'Support:\x20'+_0x1f98f5+_0x2ff8dd(0x16e)),this['featureSupport'][_0x2ff8dd(0x90d)]({'name':_0x1f98f5,'supported':_0x8f50f7});}}const _0x33f5c9=_0x3a0033[_0xdcbb79(0x626)]();class _0x2f13cd{static [_0xdcbb79(0x6f7)];static [_0xdcbb79(0x1aa)];static ['mode'];[_0xdcbb79(0x49e)];[_0xdcbb79(0x8de)];['options'];['configs'];[_0xdcbb79(0x5c4)]=new Map();[_0xdcbb79(0x329)];constructor(_0x466209,_0x120ac0,_0x2fb87f){const _0x49ae87=_0xdcbb79;this[_0x49ae87(0x8de)]=_0x466209,this[_0x49ae87(0x3c6)]=_0x120ac0,this['authService']=new _0x324fe8(this[_0x49ae87(0x8de)]),_0x33f5c9[_0x49ae87(0x677)](),this[_0x49ae87(0x581)]={'audioContext':_0x2fb87f?.[_0x49ae87(0x84f)]??(_0x33f5c9[_0x49ae87(0x374)](_0x43704b[_0x49ae87(0x364)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x2fb87f?.[_0x49ae87(0x9cf)]??0x1,'minConnections':_0x2fb87f?.['minConnections']??0x3,'maxConnections':_0x2fb87f?.[_0x49ae87(0x924)]??(_0x2fb87f?.[_0x49ae87(0x709)]&&0x4*_0x2fb87f[_0x49ae87(0x709)])??0xc,'maxDistance':_0x2fb87f?.[_0x49ae87(0x63e)]??0xa,'maxFps':_0x2fb87f?.[_0x49ae87(0x9f3)]??0x18,'maxBpp':_0x2fb87f?.[_0x49ae87(0x1c4)]??0.12,'objectStoreConnector':_0x2fb87f?.[_0x49ae87(0x257)]??_0x574b57[_0x49ae87(0x5aa)],'externalStorageConnectors':_0x2fb87f?.[_0x49ae87(0x7e7)],'keyValueDatabaseConnector':_0x2fb87f?.[_0x49ae87(0x701)]??_0x500654['IDBDatabaseConnector'],'loggingDatabaseConnector':_0x2fb87f?.[_0x49ae87(0x9ed)]??_0x500654[_0x49ae87(0x727)],'peerConnectionConnector':_0x2fb87f?.[_0x49ae87(0x238)]??_0x6fe00e[_0x49ae87(0x204)],'generativeAIWorkerConnectors':_0x2fb87f?.[_0x49ae87(0x4c4)],'vectorDatabaseConnector':_0x2fb87f?.[_0x49ae87(0xa4d)],'graphDatabaseConnector':_0x2fb87f?.[_0x49ae87(0xa27)],'documentParserConnector':_0x2fb87f?.['documentParserConnector'],'nlpLibraryConnector':_0x2fb87f?.[_0x49ae87(0x8d8)],'searchConnector':_0x2fb87f?.[_0x49ae87(0x5b0)]},_0x2fb87f?.[_0x49ae87(0x4df)]&&this[_0x49ae87(0x581)][_0x49ae87(0x84f)]&&_0x4f45f0['startNoThrottlingHack'](this[_0x49ae87(0x581)][_0x49ae87(0x84f)]),_0xbff73d[_0x49ae87(0x476)](this[_0x49ae87(0x8de)]),_0x2fb87f?.[_0x49ae87(0x3f0)]&&_0xbff73d['setLoggingConnectors'](_0x2fb87f[_0x49ae87(0x3f0)]);}static async[_0xdcbb79(0x626)](_0x599a41,_0x171672,_0x57830d,_0x5d859f,_0x3985c4){const _0x380e4d=_0xdcbb79;this['mode']=_0x57830d;const _0x583410=await this['validateAccess'](_0x599a41,_0x171672,_0x3985c4);return _0x2f13cd[_0x380e4d(0x6f7)]||(_0x2f13cd[_0x380e4d(0x6f7)]=new _0x2f13cd(_0x599a41,_0x583410,_0x5d859f)),{'close':_0x2f13cd[_0x380e4d(0x6f7)][_0x380e4d(0x3d8)][_0x380e4d(0xa19)](_0x2f13cd[_0x380e4d(0x6f7)]),'authenticateUser':_0x2f13cd[_0x380e4d(0x6f7)]['authenticateUser'][_0x380e4d(0xa19)](_0x2f13cd['instance']),'authenticateAgent':_0x2f13cd[_0x380e4d(0x6f7)][_0x380e4d(0x8fd)][_0x380e4d(0xa19)](_0x2f13cd[_0x380e4d(0x6f7)]),'joinCluster':_0x2f13cd['instance'][_0x380e4d(0x749)]['bind'](_0x2f13cd[_0x380e4d(0x6f7)])};}static async['timestamp'](){const _0x421124=_0xdcbb79;return _0x35c568[_0x421124(0x95a)]();}static[_0xdcbb79(0x9f4)](){const _0x2e2c70=_0xdcbb79;return _0x2df60e[_0x2e2c70(0x9f4)];}async[_0xdcbb79(0x3d8)](_0x51b8ab){const _0x36e8fd=_0xdcbb79;this[_0x36e8fd(0x5c4)][_0x36e8fd(0x5f6)](_0x38c7d8=>{const _0x318b20=_0x36e8fd;_0x38c7d8[_0x318b20(0x809)](),_0x38c7d8[_0x318b20(0xa0a)](_0x51b8ab);}),this[_0x36e8fd(0x5c4)][_0x36e8fd(0x6d0)](),this[_0x36e8fd(0x581)][_0x36e8fd(0x84f)]&&_0x4f45f0[_0x36e8fd(0x575)](),_0x2f13cd['unsubscribe']?.(),_0x2f13cd[_0x36e8fd(0x1aa)]=void 0x0,this['authContext']=void 0x0,await this[_0x36e8fd(0x49e)][_0x36e8fd(0x604)](),_0x2f13cd[_0x36e8fd(0x6f7)]=void 0x0;}static async[_0xdcbb79(0x194)](_0xd42501,_0x10d662,_0x13924d){const _0x2ae826=_0xdcbb79;if(!this['mode'])throw new _0x5df866(_0x29ef36['NodeTypeRequired'],_0x2ae826(0x2fd));let _0x553a3d;try{_0x553a3d=await(0x0,_0x577889[_0x2ae826(0x51c)])(_0x35c568[_0x2ae826(0x3eb)](),_0x2ae826(0x8c2))({'vendorId':_0xd42501,'accessToken':_0x10d662,'secretKey':_0x13924d});}catch(_0x15d81c){throw new _0x5df866(_0x29ef36['InvalidAccess'],_0x2ae826(0x333));}if(!this[_0x2ae826(0x273)](_0x553a3d[_0x2ae826(0x78e)]))throw new _0x5df866(_0x29ef36[_0x2ae826(0x87a)],_0x2ae826(0x333));const _0xa55da=_0x553a3d[_0x2ae826(0x78e)];return _0xa55da[_0x2ae826(0xa56)]||(_0xa55da[_0x2ae826(0xa56)]=[]),this[_0x2ae826(0x1aa)]||(this[_0x2ae826(0x1aa)]=_0x4f45f0[_0x2ae826(0x22c)](async()=>{const _0x4922e5=_0x2ae826;try{const _0x246129=await this[_0x4922e5(0x194)](_0xd42501,_0x10d662,_0x13924d);this['mode']===_0x410512[_0x4922e5(0xa72)][_0x4922e5(0x963)]&&(_0x246129['iceServers']=_0x246129[_0x4922e5(0x60c)][_0x4922e5(0x4e9)](_0x3a97ae=>_0x3a97ae[_0x4922e5(0xa2d)][_0x4922e5(0x9e1)](_0x4922e5(0x51b)))),_0xa55da['iceServers']=_0x246129[_0x4922e5(0x60c)];}catch(_0x58db8a){}},0x1b7740)),_0xa55da;}async[_0xdcbb79(0xa66)](_0x5f49c0){const _0x1ac4cd=_0xdcbb79;if(_0x2f13cd[_0x1ac4cd(0x9a5)]!==_0x410512[_0x1ac4cd(0xa72)][_0x1ac4cd(0x486)])throw new _0x5df866(_0x29ef36[_0x1ac4cd(0x687)],_0x1ac4cd(0x4e6));await this['authService'][_0x1ac4cd(0xa28)](_0x5f49c0);const _0x3c0061=new _0x8b6ea6(_0x5f49c0['id'],_0x5f49c0[_0x1ac4cd(0x876)],_0x5f49c0[_0x1ac4cd(0x5d2)]);return this[_0x1ac4cd(0x329)]={'node':_0x3c0061},_0x33f5c9[_0x1ac4cd(0xa1b)](_0x3c0061),{'type':_0x410512[_0x1ac4cd(0xa72)]['User'],'getId':_0x3c0061[_0x1ac4cd(0xa10)]['bind'](_0x3c0061),'getDisplayName':_0x3c0061[_0x1ac4cd(0xa34)][_0x1ac4cd(0xa19)](_0x3c0061),'getEmail':_0x3c0061[_0x1ac4cd(0x33a)][_0x1ac4cd(0xa19)](_0x3c0061),'setDisplayName':_0x3c0061[_0x1ac4cd(0x63d)][_0x1ac4cd(0xa19)](_0x3c0061),'setEmail':_0x3c0061[_0x1ac4cd(0x579)][_0x1ac4cd(0xa19)](_0x3c0061)};}async[_0xdcbb79(0x8fd)](_0x17153f){const _0x5925e3=_0xdcbb79;if(_0x2f13cd[_0x5925e3(0x9a5)]!==_0x410512[_0x5925e3(0xa72)][_0x5925e3(0x963)])throw new _0x5df866(_0x29ef36[_0x5925e3(0x687)],'Node\x20type\x20is\x20invalid');const {id:_0x1767ee,groupId:_0x4eb631}=_0x17153f,_0x281101=await(0x0,_0x34d3c5['getDoc'])((0x0,_0x34d3c5[_0x5925e3(0x6c3)])(_0x35c568[_0x5925e3(0x152)](),_0x5925e3(0x693)+this[_0x5925e3(0x8de)]+_0x5925e3(0x606)+_0x4eb631));if(!_0x281101[_0x5925e3(0x547)]())throw new _0x5df866(_0x29ef36['NodeNotAuthenticated'],_0x5925e3(0x54f));const _0xc11dc3=_0x281101[_0x5925e3(0x78e)]();await this[_0x5925e3(0x49e)][_0x5925e3(0xa28)]({'id':_0x1767ee});const _0x2ef5a6=new _0x3c4d41(_0x1767ee,_0x4eb631,this[_0x5925e3(0x8de)],_0xc11dc3);return this[_0x5925e3(0x329)]={'node':_0x2ef5a6},_0x33f5c9[_0x5925e3(0xa1b)](_0x2ef5a6),await this[_0x5925e3(0x75a)](_0x2ef5a6),{'type':_0x410512[_0x5925e3(0xa72)][_0x5925e3(0x963)],'getId':_0x2ef5a6[_0x5925e3(0xa10)][_0x5925e3(0xa19)](_0x2ef5a6),'onConfigurationChange':_0x2ef5a6[_0x5925e3(0x1d1)][_0x5925e3(0xa19)](_0x2ef5a6),'setReportCapacity':_0x2ef5a6['setReportCapacity'][_0x5925e3(0xa19)](_0x2ef5a6)};}async[_0xdcbb79(0x749)](_0x44acc7){const _0x8f61a=_0xdcbb79;if(!this['authContext'])throw new _0x5df866(_0x29ef36[_0x8f61a(0x425)],_0x8f61a(0x71f));if(this[_0x8f61a(0x329)][_0x8f61a(0x970)][_0x8f61a(0x8fa)]!==_0x410512[_0x8f61a(0xa72)]['User'])throw new _0x5df866(_0x29ef36[_0x8f61a(0x23d)],'Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user');if(this['clusters'][_0x8f61a(0x504)](_0x44acc7))throw new _0x5df866(_0x29ef36[_0x8f61a(0x49f)],_0x8f61a(0x688));const _0x34ef36=new _0x1e0ff3(this[_0x8f61a(0x8de)],_0x44acc7,this[_0x8f61a(0x329)][_0x8f61a(0x970)],this[_0x8f61a(0x49e)],this['options'],this[_0x8f61a(0x3c6)]);return await _0x34ef36[_0x8f61a(0x9e4)](),this[_0x8f61a(0x3e1)](_0x44acc7,_0x34ef36),_0xbff73d['logEvent']('join-cluster',{'clusterId':_0x44acc7,'nodeId':this[_0x8f61a(0x329)][_0x8f61a(0x970)][_0x8f61a(0xa10)](),'nodeType':this[_0x8f61a(0x329)][_0x8f61a(0x970)][_0x8f61a(0x8fa)]}),{'leave':_0x34ef36[_0x8f61a(0xa0a)][_0x8f61a(0xa19)](_0x34ef36),'getLocalNode':_0x34ef36[_0x8f61a(0x7ca)]['bind'](_0x34ef36),'openPubSubTopic':_0x34ef36[_0x8f61a(0x738)][_0x8f61a(0xa19)](_0x34ef36),'openObjectStoreBucket':_0x34ef36[_0x8f61a(0x81a)][_0x8f61a(0xa19)](_0x34ef36),'openExternalStorageConnection':_0x34ef36[_0x8f61a(0x92c)][_0x8f61a(0xa19)](_0x34ef36),'openKeyValueDatabase':_0x34ef36[_0x8f61a(0x75e)][_0x8f61a(0xa19)](_0x34ef36),'openGenerativeAIContext':_0x34ef36[_0x8f61a(0x91e)][_0x8f61a(0xa19)](_0x34ef36),'openGenerativeAIWorker':_0x34ef36[_0x8f61a(0x8f3)][_0x8f61a(0xa19)](_0x34ef36),'openGraphDatabase':_0x34ef36['openGraphDatabase'][_0x8f61a(0xa19)](_0x34ef36),'openVectorDatabase':_0x34ef36[_0x8f61a(0x2fa)][_0x8f61a(0xa19)](_0x34ef36),'publishLocalMediaStream':_0x34ef36[_0x8f61a(0x9a8)][_0x8f61a(0xa19)](_0x34ef36),'publishLocalDynamicMediaStream':_0x34ef36[_0x8f61a(0x5b6)][_0x8f61a(0xa19)](_0x34ef36),'getPubSubTopics':_0x34ef36[_0x8f61a(0x6f1)][_0x8f61a(0xa19)](_0x34ef36),'getObjectStoreBuckets':_0x34ef36[_0x8f61a(0x5ff)][_0x8f61a(0xa19)](_0x34ef36),'getExternalStorageConnections':_0x34ef36[_0x8f61a(0x92f)][_0x8f61a(0xa19)](_0x34ef36),'getKeyValueDatabases':_0x34ef36['getKeyValueDatabases'][_0x8f61a(0xa19)](_0x34ef36),'getGenerativeAIContexts':_0x34ef36[_0x8f61a(0x434)][_0x8f61a(0xa19)](_0x34ef36),'getGenerativeAIWorkers':_0x34ef36['getGenerativeAIWorkers'][_0x8f61a(0xa19)](_0x34ef36),'getGraphDatabases':_0x34ef36[_0x8f61a(0x248)][_0x8f61a(0xa19)](_0x34ef36),'getVectorDatabases':_0x34ef36[_0x8f61a(0x436)]['bind'](_0x34ef36),'getLocalMediaStreams':_0x34ef36['getLocalMediaStreams'][_0x8f61a(0xa19)](_0x34ef36),'getRemoteMediaStreams':_0x34ef36['getRemoteMediaStreams'][_0x8f61a(0xa19)](_0x34ef36),'getRemoteNodes':_0x34ef36['getRemoteNodes'][_0x8f61a(0xa19)](_0x34ef36),'on':_0x34ef36['on'][_0x8f61a(0xa19)](_0x34ef36),'off':_0x34ef36[_0x8f61a(0x809)][_0x8f61a(0xa19)](_0x34ef36)};}async[_0xdcbb79(0x75a)](_0x8f79a9){const _0x4a63f7=_0xdcbb79;for(const _0x3420b3 of _0x8f79a9[_0x4a63f7(0x7da)][_0x4a63f7(0x5c4)]){const _0x5cd3b6=new _0x1e0ff3(this[_0x4a63f7(0x8de)],_0x3420b3['id'],_0x8f79a9,this[_0x4a63f7(0x49e)],this[_0x4a63f7(0x581)],this[_0x4a63f7(0x3c6)]);await _0x5cd3b6[_0x4a63f7(0x9e4)](),this[_0x4a63f7(0x3e1)](_0x3420b3['id'],_0x5cd3b6);for(const _0x491cb8 of _0x3420b3['pubSubTopics']??[])_0x5cd3b6[_0x4a63f7(0x738)](_0x491cb8);for(const _0x13fb26 of _0x3420b3[_0x4a63f7(0x4cf)]??[])await _0x5cd3b6[_0x4a63f7(0x81a)](_0x13fb26);for(const _0x4e2136 of _0x3420b3[_0x4a63f7(0x370)]??[]){const _0x550bf8=_0x4e2136['split']('-');await _0x5cd3b6['openExternalStorageConnection'](_0x550bf8[0x1],_0x550bf8[0x0]);}for(const _0x3ea4fb of _0x3420b3[_0x4a63f7(0x556)]??[])await _0x5cd3b6[_0x4a63f7(0x75e)](_0x3ea4fb,{'version':0x1,'tables':{}});for(const _0x2d21a4 of _0x3420b3['graphDatabases']??[])_0x5cd3b6['openGraphDatabase'](_0x2d21a4);for(const _0x35c81d of _0x3420b3[_0x4a63f7(0x762)]??[])_0x5cd3b6['openVectorDatabase'](_0x35c81d);for(const _0x3cf8c4 of _0x3420b3[_0x4a63f7(0x440)]??[]){await _0x5cd3b6[_0x4a63f7(0x8f3)](_0x3cf8c4);const _0x2019a1=_0x1c8b30(this[_0x4a63f7(0x8de)],_0x3cf8c4),_0x61c0f2=_0x4cae66(),_0x707017=this['options'][_0x4a63f7(0x9ed)]??this['options']['keyValueDatabaseConnector'];await _0x5cd3b6[_0x4a63f7(0x75e)](_0x2019a1,_0x61c0f2,_0x707017);}}}['addCluster'](_0x36cae8,_0x17cd1d){const _0x59770f=_0xdcbb79;this[_0x59770f(0x5c4)][_0x59770f(0x80a)](_0x36cae8,_0x17cd1d),_0x17cd1d['on']('cluster-leave',()=>{const _0xc5dc51=_0x59770f;_0x17cd1d['off'](),this[_0xc5dc51(0x5c4)][_0xc5dc51(0x652)](_0x36cae8);});}static[_0xdcbb79(0x273)](_0x2f6d15){return void 0x0!==_0x2f6d15['iceServers'];}}return _0x33d229;})())));