function a0_0xbe57(_0x145c70,_0x557533){const _0x2f8357=a0_0x2f83();return a0_0xbe57=function(_0xbe5747,_0x3ba9a4){_0xbe5747=_0xbe5747-0xc5;let _0x156046=_0x2f8357[_0xbe5747];return _0x156046;},a0_0xbe57(_0x145c70,_0x557533);}function a0_0x2f83(){const _0x13ba2b=['CloseExternalStorageConnection','chunk-splitter','memoryUsage','evaluateProccessedJob','waitForSyncComplete','CustomSkill','LocalMediaStreamAlreadyExists','.bat','vector-database-already-exists','PubSubTopicStats','contentRect','warning','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','Boolean','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','relevance','localMediaStreams','registerSubscriber','GraphSearch','PubSubTopic\x20publish','getGraphDatabase','nodeId','subject','checkMediaStream','getItem','VectorDatabase','Optimization','getApp','.xml','Sync\x20completed','hasTable','content','logWaitTime','handleSuccess','\x20seconds','tableLayout','isComputingMMR','reject','saveToDisk','handleError','retrieveBlocks','muted','graph-database-already-exists','canRestartHandshake','Workflow\x20does\x20not\x20exist.','addBidResponse','responseTimeout','removeTrack','createBatchOperation','generative-ai','generative-ai-worker-already-exists','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Error','handleFolderCreate','generateClient','FolderCreate','configs','.handlebars','peakHeights','counter','arrayBuffer','ner','crewdle-sdk-stg.firebaseapp.com','Transaction','getTotalBytes','handleDetectionSystemEvents','removeContent','createMediaStreamDestination','Resolution','getRemoteMediaStream','isRunning','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','sourceVideo','where','MissingSystemTopic','map','New\x20MMR\x20Root:\x20','file','extendedRecipients','Media','removeEventListener','handleSubscriptionSystemEvents','agent-update','problem','listener','availableTrackKinds','messageCallback','remediation','rating','concat','call','getMediaStream','onConnectionStateChange','openJobWorker','fromEntries','Bid','\x20failed.\x20Retrying...','frameWidth','dataUnsubscribers','commitBatch','bytesSent','getDatabase','tables','now','setEncodingParameters','WorkflowTrace','receiverCurrentBytes','getModel','instance','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','signalingServer','start','4cwgglI','orderBy','24713550yrxMnz','FileStatus','close','pubsubTopics','logDataReceived','getObjectStoreBuckets','previousFrames','onConfigurationChange','ExternalStorageConnectionDoesNotExist','filesSynced','pendingFilesSyncing','cores','getQuery','DTVolatility','processOutboundReports','getGraphDatabases','batch','createLocalMediaStream','.conf','exports','appsync-close','floor','getAncestors','candidate','isLoaded','graph-database-creation-failed','GenerativeAIContextDoesNotExist','Node\x20does\x20not\x20exist.','retrieveContext','propn','VectorDatabaseStats','runTransaction','.md','system-stats','renderElement','CloseJobWorker','Job\x20service\x20job\x20not\x20found.','remoteMediaStreams','InvalidAccess','removeItem','optimizationLayers','processReceiverReport','addMessage','senderCurrentBytes','resolutionScale','jobDispatchers','internalProcessJobStream','inbound-rtp','database','some','logSyncMetrics','answer','G-F7W8KXRKQB','User','\x20must\x20be\x20a\x20valid\x20JSON\x20string','.jl','handleLocalTrackFailure','DocumentParser','checkWebGL','listenUnsubscriber','expectedTransactions','loggingDatabaseConnector','registerSource','I\x20am\x20done','registeredListeners','stop','Error\x20during\x20MMR\x20rebuild\x20logging:','handleRemediationSystemEvents','Execute\x20the\x20agent\x20','initialize','getModels','instantiateTransactionTable','Folder','sendReject','Invalid\x20object\x20store\x20sync\x20message.','heartbeatUnsubscriber','event','sendRequest','syncResolve','CPUCycle','lastUpdated','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','GraphDatabaseAlreadyExists','processJob','readyResolve','sender-send-message','Missing\x20vector\x20database\x20connector','transactionService','getSupportedContentTypes','ObjectStoreAlreadyExists','1619267dFdJqc','detectVideoIssues','startIndex','.Total\x20pages\x20available:\x20','request-file-sync','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Connected','maps','forEach','cpu.fps','appsync-connect','receiverPreviousBytes','openVectorDatabase','fileChunks','generativeAIWorkers','tokens','getMilliseconds','CrewdleSenderConnection\x20createOffer','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','stopTracing','Workflow','Info','key-value-database-transaction-value-not-set','parentId','clusterKey','onTrack','.cs','signOut','isWhereValues','publishSyncCompleted','pub-sub-topic-already-exists','answers','crewdleSDKEnableLogging','\x27\x20from\x20','Invalid\x20peer\x20connection\x20event\x20destination.','node-type-required','.txt','api','publishNodeJoin','isMediaDestination','complete','.exs','JobWorkerInvalidType','SystemStats','sendBid','\x20MB','setDoc','outgoing-stream-no-topic','NodeAlreadyExist','Error\x20processing\x20retrieve','Prompt\x20is\x20required','subscriptionRequests','processSenderReport','amd','RestartNeedMediaStream','Invalid\x20value.\x20Property\x20\x27','NodeJoin','hashTransaction','Invalid\x20job\x20worker\x20type.','ConnectionNotinitialized','height','endsWith','processTransactionPayload','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','subscribe','getObjectStoreBucket','\x0a\x20\x20===\x20Total\x20Nodes:\x20','documentParserConnector','RemoteConnectionExists','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','statsManager','list','Problem\x20detected:\x20','ConnectionNoRetryQueue','every','WebScraperRaw','distance','buildInitialMMR','Connection','owner','Remote\x20MediaStream\x20already\x20exists','generativeAIContexts','byteLength','source','handleSubscriptionNeedMediaStream','Rejected\x20answer','pendingFilesRename','dbKey','Method\x20not\x20supported','removeRemoteStreamSubscription','targetId','.go','getSimilarity','externalStores','checkBackgrounds','drawImage','.cpp','checkSyncComplete','cost','getPeaks','setPriority','peaks','currentVersion','successNotified','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','tableUnsubscriber','data-stream','LocalMediaStreamNoAudioContext','page','getRemoteId','Job\x20service\x20observer\x20not\x20found.','senderConnection','.yml','sendPeakTransactions','remove','frames','feedback','onMessage','GenerativeAIContextInvalidPartialResult','transactionQueue','addRemoteNode','getLocalMediaStreams','\x20-\x20Sending\x20propagation\x20(','deleteObject','.pug','handleSystemEvents','discover','Subscription\x20request\x20failed.','deletePendingFile','getMaxConnections','DataStream\x20onMessage','ended','vectorDatabaseConnector','onHandshakeStateChange','removeJobDispatcher','setupResizeHandler','key','\x0a\x0a`Retrieving\x20context`\x0a\x0a','node-type-not-supported','lastProcessRank','addEdge','decode','splitParts','versions','DEBUG\x20-\x20','processServiceReport','onDataChannel','ObjectStoreNotInSync','transactionsToAppend','connectionType','vector-database-creation-failed','blockId','ObjectStorageBucket','notifyClusterNodeUpdate','count','utf8','retryLimit','\x20already\x20exists.','GetContextResult','Bitrate','Backgrounds','loop','getPacketsLostPerc','WorkflowDoesNotExist','.sh','joinCluster','getName','errorDetails','remote-connection-exists','orchestrator','setRank','Additional\x20context:\x0a','changesUnsubscriber','title','removeConnection','getTransactionFromTableWriteEvent','setInterval','publish','remediationManager','engine','Index','remote-inbound-rtp','getMediaSubscription','downloadDocument','outgoingTopic','Receiver','localNode','accumulated','handleUnpublishMediaStream','jobQueue','disableIntervalHack','handleNodeJoin','incomingManager','handleFileSync','Online','StorageEventType','Ingest','subscribeToLocalContent','getCurrentDate','createPubSubTopic','\x0a\x20===\x20Total\x20Data\x20Received:\x20','handleTransactionPayload','incrementVersion','syncTransactionsWritten','.html','out','av_delay','CannotProvideMediaStream','setVendorId','engineType','ExternalStorageStats','handleNeedRestart','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','KeyValueDatabaseContentSynchronized','processRemoteInboundReport','subscription','getTableConnector','Key-value\x20database\x20transaction\x20value\x20not\x20set.','Time','setReceiverBytes','estimatedPlayoutTimestamp','clearSubscriptionRequestTimeout','skill','uuid','Issue\x20detected:\x20','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','CloseMediaStream','processInboundReports','Attribution','420235181083','getStatus','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','.css','trackChanges','length','unsubscribeListener','Invalid\x20node\x20type','handshakeDebounce','getResolutionScale','options','webgl','isSync','currentBytes','CrewdleConnectionGroup','NodeUpdate','getContentType','addTrack','MissingRemoteConnection','getKeyValueDatabases','us-east-1','KeyValueDatabaseTableNotFound','fetchContentFromUrl','has','checksum','NodeType','PublishMediaStream','answerJoin','onChildRemoved','function','SentenceSplitter','openKeyValueDatabase','Error\x20loading\x20existing\x20content','bufferEvent','sendChunked','unpublish','handleStatsSystemEvents','getPriority','Error\x20searching','clear','query','JobWorker:\x20Tracing\x20not\x20implemented','issues','getClosestNodes','collectTransactionsFromNode','lastTransactionId','GenerativeAIWorkerMissingConnector','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','transactionIds','commitType','KeyValueDatabaseIndexNotFound','publishFile','getTracks','Chosen\x20answer','searchInDataCollection','LoggingService:\x20logging\x20enabled\x20for','Logging\x20not\x20enabled\x20for\x20channel\x20','onNodeDisconnect','getVectorDatabases','answererId','limit','syncTimeout','KeyValueDatabaseInvalidLayout','operator','JobWorker:\x20Received\x20job','High','notifyCluster','JobStatus','Hub','rtt','messagesSent','publishNodeLeave','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','detectProblems','getJobDispatchers','shouldContinuePropagation','roundTripTime','object-store-invalid-payload','Found\x20','interval','connect','head','clearOncloseTimeout','chooseAnswer','append','entries','getIdToken','.ejs','/resources/external-storage/items/','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','publishTransaction','handleHandshake','generative-ai-context-job-already-consumed','112sdFUXD','ExternalStorageNameNotString','internal-sdk-error','processContentAvailable\x20-\x20Peak\x20comparison:','getProviderId','node-does-not-exist','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','Disconnect','jitter','vector-database-name-not-string','toLowerCase','sendFileRequestPayload','model','updateLastUpdated','GenerativeAIEngineType','audioSource','sequence','getGenerativeAIWorkers','sendFile','systemTopic','processInboundReport','Received\x20ContentSynchronized\x20from\x20','getVideoTracks','currentBatch','File\x20sending\x20interrupted','statsReport','ObjectKind','registerSystemPublisher','outgoingStreams','firebase-disconnect','Text','Low','PubSubTopicAlreadySubscribed','links','debounceAppendLog','size','writeBatch','Handshake','remote-stream-missing-provider-id','handleNodeDisconnect','root\x20hash:\x20','onValue','\x0aAdditional\x20Context:\x20','removeRemoteNode','removeOutgoingSubscription','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','KeyValueDatabase\x20not\x20found','processJobStream','connectionTimeout','key-value-database','traceLevel','pipe','handleOffer','object-store-already-exists','getOrResetPendingFileTimeout','\x20completed.','subscription-request-failed','requestSubscription','problemType','VectorDatabaseAlreadyExists','models','Buffering\x20event','closeTrace','fileSendingMap','openObjectStoreBucket','`\x0a\x0a','resolution','cluster-already-joined','mediator','listen','getMinConnections','ObjectStoreAlreadySubscribed','\x20finalized.','Cannot\x20write\x20transaction.','track','description','origin','getExternalStorageConnections','clearHeartbeat','SubscriptionRequestDoesNotExist','CloseGraphDatabase','Invalid\x20key\x20\x27','ObjectStoreInvalidState','generative-ai-label-conflict','logDataSent','appsync-no-destination','GenerativeAIWorkerCreationFailed','handleSubscriptionSubscribeMediaStream','maxBitrate','Subscribing\x20to\x20an\x20event:\x20on','clearWaitSuccess','node','InvalidSubscription','LoadSkillFunction','setTransformations','boolean','Invalid\x20job\x20service\x20payload.','SubscriptionRequestNoAnswer','Model\x20not\x20found:\x20','Workflow\x20not\x20initialized','JobWorker:\x20Sending\x20job\x20result','.php','getLayout','stats','createObjectStoreBucket','off','statsReporting','getEntities','.jinja','findNextNodeId','contextOutputVariable','Cannot\x20get\x20file:\x20','handleObjectDelete','startTracing','RemoteAdd','open','app','receivers','element','jobWorkers','NeedMediaStream','rate','KeyValueDatabasePeakNotFound','connectionPool','SubscriptionRequestFailed','_isReady','Syncing','getReport','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','CONNECTION_STATE_CHANGE','receiverTimeProcessing','threadId','transactionsToSync','updateJob','contentMediator','getShareableStream','startHeartbeat','getSubscriptionLabel','.vb','getResolution','Could\x20not\x20open\x20trace','debounceRebuildMMRWithTransaction','evaluatePartialJob','Agent','Support:\x20','end','Job\x20with\x20id\x20','prompt','key-value-database-already-exists','discoveryService','Add','Sender\x20connection\x20is\x20not\x20initialized.','Vector\x20database\x20creation\x20failed.','JobWorker:\x20Sending\x20job\x20bid','threshold','total','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','getLocalMediaStream','offset','isIceCandidate','pub-sub-topic-already-subscribed','createBatch','unregisterDestination','invalid-access','getFirestore','KeyValueDatabaseContentAvailable','outputType','openGraphDatabase','dataBucketIds','statsCollection','Parameter\x20','test-page','publishUserUpdate','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','handshakeCandidates','json','Restart','247512taUzFq','\x20to\x20generate\x20a\x20response.','job-worker-invalid-type','workflow','setIsLoaded','.tsx','Channel\x20\x27','NodeManager\x20-\x20PublishNodeLeave','getNextTargetRank','failJob','width','GetDate','object-store-already-subscribed','KeyValueDatabaseInvalidValue','iceServers','firebaseConfig','authNode','video','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','Invalid\x20credentials','IncomingSubscription','Error\x20closing\x20writable\x20stream','setSenderTimestamp','onDisconnectHandler','from','Object\x20store\x20is\x20not\x20in\x20sync','handleRemoteTrackFailure','timestamp','sdkCreateToken','listenerUnsubscribers','jobType','systemTopicUnsubscribe','isInternalLoggingConnector','setLoggingConnectors','handleFileRequest','statusText','agent-skill','messageListeners','RequestFileSync','externalStorageConnectionIds','Disconnected','addConnection','queues','getAvailableTrackKinds','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','.liquid','trackListeners',',\x20Total\x20Nodes:','padStart','removeThread','slice','WordSplitter','waitConnected','senderPreviousBytes','isWhereBetween','Unsupported\x20job\x20type','getSkills','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','processReport','timeoutCallback','getSubscribedTracks','An\x20error\x20occurred','crewdle-sdk.appspot.com','processReports','Invalid\x20params','setInternalId','RequestAccepted','topicLabel','createGenerativeAIWorker','data-collection','\x20-\x20','RemoteRemove','JobQueueService:\x20Error\x20running\x20job','isBidResponse','commit','ConnectionState','handleContentUnpublishMediaStream','loadFromDisk','object-store-invalid-path','getDataCollections','Offline','setupStatsReporting','handleNodeUpdate','getSTVolatility','String','totalNodes','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','receiverConnection','previousBytes','Key-value\x20database\x20table\x20does\x20not\x20exist.','jobId','requestSubscriptionAction','storage','developers/','unregisterRemoteNode','prompts','startTime','Partial','\x20received\x20result:','compareTransactions','parseDataCollectionBlocks','/transactions','generative-ai-context-job-missing-thread-id','NodeTypeRequired','videoWidth','destination','Move','isEqual','Llamacpp','Apply\x20remediation','messageBuffer','path','collectSendersStats','addRemoteConnection','\x27\x20to\x20','object','handleOptimizationConnectionSuccess','connection-state','internalId','checkAudioVolume','createVectorDatabase','handshakeState','handleContentRemoteMediaStreamTrackFail','logPropagateSystemEvent','getKeyValueDatabase','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','connectAgent','maxBpp','SearchGoogle','Missing\x20answerer\x20id\x20on\x20request\x20answer','vector','next','Code','STVolatility','currentFrames','resizeHandler','setupListeners','getVectorDatabase','.rkt','Internal\x20event\x20\x27','loadEnabledChannels','No\x20connections\x20available\x20to\x20send\x20message','unregisterSystemSource','KeyValueDatabase','setOnTableWriteHandler','token','createBuffer','subscriptionRequestsQueue','isInternalSDKConfigs','file-write','getExternalStorageConnection','messages','GraphDatabaseNameNotString','transactionHashMap','sourceId','restartHandshake','authenticateAgent','Default','addAudioTrack','loadExternalContent','pubSubTopics','external-storage-connectors-missing','VectorDatabase\x20not\x20found','onRemoveTrack','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','LocalMediaStreamDoesNotExist','Job\x20Dispatcher\x20does\x20not\x20exist','Everyone\x20','removeTrackListeners','Detection','getTotalNodes','functions','ready','WorkflowInvalidBlockType','nodesConnected','job-','ChunkSplitter','SHA-1','lastExecuted','commitLevel','setSinkId','setRemoteNode','modelId','restartTimeout','deployedVersion','removeIncomingSubscription','Memory\x20Usage\x20at\x20','handleJobAttribution','payload','jobBids','connectionGroup','ObjectStorageUpload','\x27\x20reserved','bitrate','createOutgoingSubscription','addIssue','cluster-leave','Generative\x20AI\x20context\x20creation\x20failed.','Restart\x20NeedMediaStream','downgrade','closeSubscription','createJob','job-worker-creation-failed','authService','addVideoTrack','tableName','NodeManager\x20-\x20ConnectionSuccess','.kt','Cannot\x20unpublish\x20object\x20at\x20','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','Remote\x20connection\x20already\x20exists.','processOutboundReport','msalRefreshToken','httpsCallable','removeObjectStore','serverTimestamp','update','minThreshold','minRelevance','getBufferedAmount','generative-ai-context-creation-failed','firebaseUnsubscriber','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','DataStream','oncloseTimeout','supported','getEstimatedTimestamp','timesCalled','inputType','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','getId','graphDatabases','ClusterAlreadyJoined','logger','external-storage-name-not-string','GenerativeAIContextStats','receiverUnsubscribers','job-worker-already-exists','object-store-not-synced','canProvideResolution','object-store-name-not-string','hasOwnProperty','getContent','stringify','max','GenerativeAIRatingStatus','Generative\x20AI\x20context\x20job\x20failed.','handleContentSystemEvents','Reranker','createLocalDynamicMediaStream','streamLabel','calculateSize','graph-database','objectStoreConnector','Agent\x20block\x20is\x20missing\x20required\x20data','FolderMove','messageUnsubscriber','clusters','logStorage','Connection\x20does\x20not\x20exist.','InvalidPublisher','AudioContext','packetsReceived','registerCluster','isPartialResultResponse','email','detectionManager','handleUnsubscribeMediaStream','Knowledge','Processing','retryDelay','signalingState','startLoggingCycle','queueLength','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','SenderSendMessage','write','-leave','.hs','openedTraces','MediaStream\x20feature\x20not\x20enabled','arrayBufferToObject','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','clientWidth','validateQuery','northamerica-northeast1','https://crewdle-sdk-default-rtdb.firebaseio.com','consumeBufferedEvents','No\x20connector\x20found\x20for\x20model','hasBufferedData','entities','syncFolder','isArray','Success','audioDestination','KeyValueDatabaseAlreadyExists','CloseObjectStoreBucket','nodeManager','Error\x20fetching\x20context','currentTimestamp','retryCallback','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','getDocs','/developers/','transactionTable','key-value-database-invalid-layout','receiverTotalMessages','GenerativeAIContextJobMissingThreadId','\x20writes\x20from\x20','ObjectStoreStats','senderPreviousTimestamp','recomputeRoot','processTransactionsToComputeMMR','\x20created\x20and\x20dispatched.','isMediaSource','toFixed','childRemovedUnsubscriber','detectStreamIssues','insert','splice','subscribedTracks','providerId','history','streamId','crewdle-sdk-stg','KeyValueDatabaseCreationFailed','addNode','getAudioTracks','handleAnswer','JobWorker:\x20Error\x20processing\x20job','bodyParameters','handleSubscriptionProvideMediaStream','uid','Update','isConnected','AudioOutput','Content','registerPublisher','ObjectStoreDoesNotExist','peerConnectionConnector','checkExistingPendingFileContent','checkScreenSharing','task','RemoteMediaStreamInvalidSubscriptionParams','handleMissingSenders','Before\x20Synchronization','getConnection','All\x20recipients\x20already\x20received','mediaTopics','key-value-database-not-open','Cannot\x20publish\x20payload:\x20','clearWaitAnswer','setDurationTime','receiver-on-message','Graph\x20database\x20creation\x20failed.','PubSub\x20already\x20exists','SenderPeerConnection\x20send','/resources/agent/items/','success','Pending','isOpened','AITrace','waitAnswer','joinedAt','internalContext','startNoThrottlingHack','publishSyncCompletedAfterWrites','Early\x20return','removeNode','unregisterPublisher','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','Jitter','bufferedEvents','getAgents','addProblem','getDisplayMedia','createDataChannel','loggingCycle','Cannot\x20publish\x20move\x20operation:\x20','custom-skill','topic','object-store-invalid-sync-message','bufferedChunks','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','JobStream','Data\x20cluster\x20is\x20not\x20open.','\x20not\x20supported','reportCapacity','remoteNodes','\x20attributed\x20to\x20','setLocalRank','trim','user-update','onNodeUpdate','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','abs','ccc','KeyValueDatabaseRequestTransactionsValue','local-stream-does-not-exist','getPubSubTopics','JobDispatcherAlreadyExists','InternalSDKError','remoteId','PartialResult','graph-database-missing-connector','createOffer','debounceLogTimeout','vector-database-missing-connector','JobWorkerDoesNotExist','getSize','groupId','external-storage','createIncomingSubscription','SHA-256','mute','subscriptions','currentDistance','graphql','Writable\x20stream\x20is\x20missing','defineProperty','graph-database-name-not-string','processDataChannelReport','detail','getDataLogged','available','subscription-request-no-answer','generative-ai-context-already-exists','pubsub','GenerativeAIContextJobTimeout','modelStore','priority','logRaw','attributes','onGatheringStateChange','packetsLost','callback','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','unshift','Emitting\x20event\x20on\x20local\x20cluster','\x20must\x20be\x20a\x20number','connectionStateListener','timeoutValue','accessToken','move','Operations:','FolderDelete','createSubscription','Invalid\x20table\x20name\x20\x27','getTime','getRoot','transactions','Store\x20already\x20exists','recipients','firebase-connect','cluster-disconnect','code','bandwidth.rtt','find','job-dispatcher-observer-not-found','loggingConnectors','collectStats','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','checkDeviceConfig','maxFps','getDistance','parseWorkflowBlocks','media-stream','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','2094832GMdaXi','rejectReady','Job\x20service\x20creation\x20failed.','Mistlet\x20capacity\x20report\x20not\x20set.','detectAudioIssues','Receiver\x20connection\x20is\x20not\x20initialized.','getDTVolatility','KeyValueDatabaseSendTransactions','fps','getContext','orderByKey','result','time','canChooseAnswer','job-dispatcher-invalid-job-type','notifyObjectStoreOfNodeJoin','JobQueueService:\x20Running\x20job','not-resolved','.crewdle-pending','Search','Database\x20does\x20not\x20exist','checkWebRTC','handleNoAnswer','dataStores','unregisterSource','logServiceEvent','transaction','issue','relations','JobWorker:\x20Sending\x20job\x20reject','ObjectStore','Count','includes','Query\x20is\x20required','1711595EhSTIo','url','getJobWorkers','handleNodeJoinNeedPublishedStream','.cfg','external-storage-invalid-path','writeTransaction\x20-\x20transaction\x20already\x20exists','chunksReceived','reset','Stream\x20does\x20not\x20exist','agentConfig','getNumberOutgoingSubscriptions','crewdle-sdk-logging-','connection-not-initialized','Logging\x20trace','Attempt\x20','receiverBitrate','createMediaStreamSource','Remove','openGenerativeAIWorker','getOwnerId','VectorSearch','CrewdleConnection\x20handlePeerConnectionSystemEvents','minResolutionScale','Support:\x20current\x20config','Received\x20content\x20available\x20from\x20node','setReportCapacity','Key-value\x20database\x20peak\x20not\x20found.','stream','trace','destroy','vectorDatabases','Get','Send\x20request','externalStorages','channel','isNeedRestart','ExternalStorageConnection\x20not\x20found','packetsSent','setupStatsCollection','removeTopic','removeTrackCallback','value','createJobDispatcher','checkAudioContext','messageType','closeConnection','startsWith','previousTimestamp','Model','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','key-value-database-does-not-exist','enabledChannels','action','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','local-media-stream-track-fail','syncedFileExists','match','waitSendBuffer','createGain','setCurrentVersion','\x20does\x20not\x20exists','debug','dataChannel','frameTime','component','removePubSubTopic','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','setOnMessageHandler','min','subtle','setContent','mmr','grammar','ObjectStorage','Key-value\x20database\x20creation\x20failed.','add','framerate','WebScraper','text','objectToArrayBuffer','local-media-stream-already-exists','updateDebounce','thread-','handleConnectionSuccess','Connection\x20not\x20initialized.','jobs','\x20received\x20responses:','catch','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','onCandidate','Invalid\x20object\x20store\x20state.','getCurrentVersion','ScreenSharing','JobDispatcherInvalidJobType','CloseJobDispatcher','setScheduleTime','Node','logSupport','Waiting','searchApiKey','Debug','true','Result','syncTransactions','setItem','openExternalStorageConnection','MediaStream','.j2','Recording','absolutePathName','LoadKnowledgeFunction','Valid\x20layout','warn','listenerUnsubscriber','peer-connection-invalid-destination','createConnection','processBatch','.swift','.ps1','doc','ContentType','scheduleTime','chunks','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','1520108zTHWrV','take','hasRemoteNode','contextInputVariable','lastHeartbeat','getJobObservable','removeExternalStorageConnection','JobWorker:\x20Received\x20job\x20attribution','generative-ai-context-job-failed','topics','previous','MediaStreamUnavailable','removeJobWorker','key-value-database-table-name-reserved','senderTotalMessages','enabled','AppSync\x20publish','evaluateBidsAndAttributeJob','.sql','getCurrentMaxLayer','ObjectStoreCannotWriteTransaction','connection','audioContext','parse','sendIceCandidates','key-value-database-name-not-string','setSubscriptionRequestTimeout','InvalidDataChannel','objectStorageBuckets','Cannot\x20list\x20directory:\x20','ranges','.mustache','manageBufferedChunks','getConnectionDestinations','All','debounceProcessRank','Method\x20not\x20implemented.','object-store-invalid-state','clearConnectionTimeout','remoteUnsubscriber','RelationExtractor','sendStats','aws','getRemoteMediaStreams','Generative\x20AI\x20context\x20job\x20already\x20consumed.','buffer','isSubscribed','\x0a\x20===\x20Total\x20Nodes:','once','\x0a\x0a`Getting\x20current\x20date\x20and\x20time`\x0a\x0a','ObjectStoreInvalidPath','left','Database\x20already\x20exists','Request','CloseVectorDatabase','GenerativeAIContextJobAlreadyConsumed','handleContentSubscribeMediaStream',':\x20Object\x20store\x20is\x20not\x20in\x20sync','writeFile','Error\x20resolving\x20readyPromises:','Cannot\x20find\x20External\x20Storage\x20connection:\x20','skipEncryption','Context','VectorDatabaseCreationFailed','JobDispatcherJobExists','getLocalId','GraphDatabaseDoesNotExist','getInstance','destinationIds','GenerativeAIContext','createWritableStream','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','clearRestartTimeout','KeyValueDatabaseRequestPeakTransactions','getTransactionByHash','retryQueues','resolve','PeerConnectionInvalidDestination','contentType','documentPath','connecting','NodeTypeNotSupported','getConfigs','setupTrackEndedListeners','handleSubscriptionUnsubscribeMediaStream','kind','AudioContext\x20is\x20not\x20available','Missing\x20remote\x20node\x20or\x20rank','handlePeerConnectionSystemEvents','getEngineType','\x20deleted.','data','externalStorageConnections','DataStream\x20send','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','getWorkflow','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','minConnections','createRemoteNode','NodeInvalidType','outbound-rtp','active','totalDecodeTime','Completed','FPS','searchConnector','object-store-not-in-sync','substring','eventEmitter','SenderPeerConnection.send','loadLocalContent','all','setStatus','2-digit','ExecuteAgent','NodeDoesNotExist','getTrack','onDisconnect','maxTokens','blocks','Missing\x20external\x20storage\x20connector','endpointMethod','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','externalStorageConnectors','stopConnection','setTimeout','loggingDb','Error\x20fetching\x20URL','events','Error\x20opening\x20trace','detectLocalIssues','Sender','Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.','appsync-statechange','createGenerativeAIContext','output','Job\x20','RemoteMediaStreamAlreadyExists','assign','.erl','Key-Value\x20Database\x20-\x20Sync\x20Completed','debounceReady','temperature','RequestFileWrite','GraphDatabaseMissingConnector','connection-buffer-not-empty','sendAction','__esModule','prototype','Subscription','Prompt','Jobs','context','getPeakNode','getEnabledChannels','KeyValueDatabaseNotOpen','buildTableEvent','exists','Table\x20not\x20found','1.0.1.0','.crewdle-last-transaction','SyncKeyValueDatabase\x20-\x20Ancestors\x20','Invalid\x20subscription.','handleContentUnsubscribeMediaStream','getTable','outputTokens','handleProblem','getJob','between','bufferedAmount','setReceiverTimestamp','retryQueue','missing-datachannel','onClose','ObjectStoreInvalidSyncMessage','firestore','getConnectionType','Warning','syncKeyValueDatabase','applyRemediation','Logging\x20database\x20not\x20initialized','removeGraphDatabase','ancestors','nodeKey','connected','Agent\x20output\x20is\x20not\x20a\x20string','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','batchSize','ownerId','providerListener','Local\x20MediaStream\x20already\x20exists','hasMessage','trackEndedListeners','object-store-cannot-write-transaction','DataChannel\x20buffer\x20is\x20full.','createExternalStorageConnection','toStringTag','publishFolder','subscription-request-in-progress','onUnregisterPublisher','isSyncing','disconnect','OptimizationConnectionSuccess','Search\x20in\x20data\x20collection\x20','Invalid\x20version\x20\x27','ConnectionGroup','LocalReport','commitTrace','word-splitter','user','Cluster','getLastUpdated','addEventListener','message','observer','mediaStream','searchOnGoogle','completeSync','nextNodeId','KeyValueDatabaseNameNotString','GenerativeAIContextAlreadyExists','publishSyncCompletedAfterWrites\x20-\x20','.jsx','docs','getTransactions','knowledge','.awk','JobWorkerCreationFailed','collectReceiversStats','Job\x20Dispatcher\x20already\x20exists','getRoundTripTime','addContent','KeyValueDatabaseTableDoesNotExist','\x27\x20in\x20layout','authContext','GenerativeAILabelConflict','dt_volatility','getDoc','Answer','SubscribeMediaStream','streams','parameters','getLocalNode','mergeParts','Unknown\x20skill\x20type','generative-ai-worker-missing-connector','timeSending','No\x20global\x20object\x20found','GenerativeAIModelInputType','handleChunkMessage','JobDispatcherJobNotFound','gpu','0\x20B','functionsRegion','PeerConnection','GetContextQuery','validateValue','reads','readyPromises','logEvent','registerDestination','Delete','performCalculation','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','FileDelete','OfficeParser','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','Remediation','GenerativeAIModelOutputType','toLocaleDateString','web-scraper','compileStats','bid','\x20does\x20not\x20support\x20content\x20type\x20','values','resolveReady','load','bind','workflow-does-not-exist','remote-media-stream-already-exists','FileWrite','addCluster','state','removeSubscriptionsForNode','Data','TimePerFrame','isJobAttribution','filter','createReceiverConnection','topK','ratePrompt','getDataBucketIds','index','IntermediateOutput','senders','processContentAvailable','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','RoundTripTime','waitForArrayBufferSize','handleContentUpdateMediaStream','Invalid\x20query','logs','getSettings','framesEncoded','handleIceCandidates','Error\x20stringifying\x20object','.scala','graphDatabaseConnector','default','FetchUrl','hashNodes','Node\x20already\x20exists.','nlpLibraryConnector','createRemoteMediaStream','Support','displayName','pub-sub-topic-name-not-string','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','bucketId','.ipynb','/stats','keyValueDatabaseConnector','No\x20parameters\x20provided','.clj','createKeyValueDatabase','ceil','getSentences','createFolder','receiverPreviousTimestamp','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','KeyValueDatabaseSyncRequired','.vbs','DeviceConfig','crewdleSDKLoggingChannels','No\x20answer\x20block\x20found','reportMetric','Error\x20reading\x20file\x20chunk\x20after\x20','runAgent','resume','comparePeaks','internalDownloadDocument','Code\x20is\x20required','Medium','handleNodeLeave','queries','RemoteRemediation','subscriptionManager','Skill','unregisterPublisherListener','gatheringState','_ready','type','results','addPendingHandshakeCandidate','@context.','taskType','search','incomingTopic','Error\x20executing\x20code','Receiving\x20\x27','senderStreams','processList','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','getReceiverBitrate','Data\x20Received','getUserMedia','NeedRestart','PromptRating','right','error','\x20is\x20required','Offer','play','nodes','CloseKeyValueDatabase','writeTransaction','configure','More\x20content\x20available\x20on\x20page\x20','openJobDispatcher','replaceTrack','jobObservers','appendTransaction','name','handleUpdateMediaStream','Failed\x20to\x20get\x20file','remoteConnections','handleRequestPayload','capacityReporter','getWorkflowObjectStorageBuckets','processReceivedTransactions','rebuildMMR','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','rootComputationPromise','srcObject','clearUpgradeTimeout','VectorDatabaseDoesNotExist','subscribeToExternalContent','contentRequestSent','orchestrator-close','WebGL','transformations','JobContext','lastClockUpdate','isValidMediaSubscriptionParams','committed','debounceReadyTimeout','onBufferedAmountLow','timePerFrame','ObjectStoreInvalidPayload','clockSkew','publishLocalDynamicMediaStream','handleDisconnect','newPath','sdk-internal-error:\x20','systemMessagesReceived','failed','ExternalStorage','RetrieveTrace','getMaxDistance','google','\x0a\x20===\x20Current\x20MMR\x20Root','sampleRate','bytesReceived','JobWorker:\x20Handling\x20job\x20attribution','processRank','job-dispatcher-creation-failed','AudioVideoDelay','deleteTransactionsForTable','Invalid\x20where\x20clause','/nodes','findIndex','removeRemoteMediaStream','debounceRebuildMMR','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','QueryBuilderInvalidArgument','pop','localId','entity','local-media-stream-no-audio-context','getTrackFromParam','GraphDatabase','StreamReport','digest','handleFileWrite','processPendingHandshakeCandidates','removeLocalMediaStream','isOffer','createTopic','mediaDevices','getEmail','clientStream','UnpublishMediaStream','Missing\x20graph\x20database\x20connector','KeyValueDatabaseInvalidQuery','encode','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','buildQuery','senderBitrate','Logger.getInstance','ExternalStorageConnectorsMissing','ExternalStorageUpload','videoHeight','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','JobType','firstValueFrom','indexOf','maxFramerate','invalid-data-chanel','PubSub','/capacities','AudioVolume','st_volatility','noun','joinedClusters','indexes','JobDispatcherInvalidPayload','instructions','FeatureNotEnabled','messagesReceived','inputTokens','connectionConstructor','overlap','isWhereValue','VectorDatabaseNameNotString','sort','canvas','job-dispatcher-invalid-payload','combinePeaks','Relation','handleOutgoingSystemEvents','handlePublishMediaStream','sendTransactionsValue','clusterId','/resources/generative-ai-agent/items','\x20for\x20','graphService','UnsubscribeMediaStream','split','batchQueue',',\x20Transactions:\x20','maxDistance','NodeNotAuthenticated','LocalMediaStreamTrackFail','getShareableStreamId','PayloadAction','Hash\x20computation\x20failed,\x20retrying...','random','WebRTC','createElement','relation','AI\x20Worker\x20already\x20exists','OutgoingMediaStreamNoTopic','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','removeSubscription','\x20received\x20partial\x20result:','Failed','ClosePubSubTopic','clientHeight','Received\x20track','/resources/generative-ai-collection/items','unregisterSubscriber','keys','resetConnection','21a9d78dee97f487b','tableObserver','getPartsForSubscriptionLabel','KeyValueDatabaseTableNameReserved','cachedRoot','GraphDatabaseCreationFailed','ConnectionInvalidDataEvent','calculateArrayBufferSize','receiverCurrentTimestamp','checkAudioOutput','/resources/generative-ai-model/items','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','\x20already\x20exists','/objectstores/','toString','SyncComplete','confirmSynchronization','internalProcessJob','.tcl','oidc','isNodeReady','job-dispatcher-already-exists','/nodes/','GenerativeAIWorkerStats','writes','getCapacityReport','.groovy','\x20not\x20found.','request-file-write','ExecuteCustomSkill','notifyJoin','accumulateResult','GraphDatabase\x20not\x20found','shouldProcessTransaction','getAncestorIds','\x27:\x20missing\x20or\x20invalid\x20keyPath','eventTarget','GenerativeAIContext\x20stream\x20error','endpointUrl','Stats:\x20report','lastCapacityReport','key-value-database-peak-not-found','registerSystemSource','Error\x20committing\x20batch:','handleSubscriptionRestartNeedMediaStream','onremovetrack','delete','initializeLoggingDatabase','objectStores','setProviderId','number','KeyValueDatabaseTransactionTableNotInitialized','senderTimeProcessing','lastRemediations','retryCount','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','JobWorker:\x20Received\x20job\x20request','text/plain','handleOnMessage','isReady','node-not-authenticated','ReceiverOnMessage','reduce','featureSupport','getRemoteNodes','Node\x20not\x20authenticated','isFeatureSupported','decodeJWT','removeVectorDatabase','Initial\x20MMR\x20built\x20with','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','discoveryUnsubscriber','AppSync\x20client\x20not\x20ready','version','.ex','OutgoingSubscription','handleCloseContent','createNewBatch','audio','isAvailable','Core','queryOrPrompt','ExternalStorageConnectionAlreadySubscribed','Subject','openPubSubTopic','frameHeight','Problem','send','.rs','ConnectionNotConnected','getInternalStreamId','operations','.info/serverTimeOffset','updated','\x20transactions\x20from\x20node\x20','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','ModelVector','peer-connection','isReconnecting','agent','systemMessages','getRank','Error\x20executing\x20agent','maxThreshold','logMMRRebuild','send\x20error\x20on\x20','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','ExecuteCode','collection','MistletCapacityReportNotSet','pendingFilesTransactions','outgoingManager','getSenderTotalBytes','validateAccess','getIsLoaded','key-value-database-table-not-found','Incoming','vectors','ObjectStoreNameNotString','.crewdle-transactions','setRemoteConnections','ReceiverPeerConnection.onMessage','Search\x20connector\x20not\x20set','logBatch','cpu.time_per_frame','status','signaling','getWorkflowExternalStorageConnections','signInWithCustomToken','manageAncestor','join','runJobQueue','addBatchOperation','key-value-database-invalid-value','onSnapshot','replace','Upgrade','agentId','Base\x20Peer\x20Connection','findNewMediaSubscription','mmrRoot','RemoteMediaStreamTrackFail','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','node-invalid-type','bandwidth.jitter','wait','stun:','KeyValueDatabaseDoesNotExist','pendingHandshakeCandidates','Missing\x20AI\x20worker\x20connector','closeTopic','maxLayer','getSenderBitrate','round','setupConnectionEvents','tracks','createAIJob','.yaml','PubSubTopic\x20onMessage','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','addReservedTables','val','not-in','Number','set','limitToFirst','subscription-request-does-not-exist','document-parser','startBidResponseHandling','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','getConnectionGroup','isResultResponse','connectionState','\x20with\x20response:','verb','nodeUpdate','eventListener','completed','FramePerSecond','table','signInWithCredential','Model\x20store\x20not\x20initialized','Buffered\x20chunks\x20are\x20too\x20large','.ini','ENOENT','processContentSynchronized','GenerativeAIContextCreationFailed','JobDispatcherCreationFailed','pow','KeyValueDatabaseTransactionValueNotSet','authenticateUser','getOutgoingOptimizationConnections','getAuth','openTrace','Downgrade','computeHash','Model\x20not\x20found','UpdateMediaStream','clusterEventEmitter','\x20after\x20','request-file','undefined','.twig','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','mode','RemoteMediaStreamDoesNotExist','ref','Rating','request-accepted','asObservable','trackCallback','getPartsFromSubscription','No\x20destinationIds\x20left','registerRemoteNode','durationTime','\x0a\x0a`Executing\x20agent\x20','upgradeTimeout','Job','RequestFile','autoplay','objectStoreId','sendTransactionsValue\x20-\x20value\x20not\x20found','Consuming\x20buffered\x20event','Retrieve','Queued','objectRequests','getHash','Subscription\x20request\x20does\x20not\x20exist.','isChannelEnabled','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','push','job-dispatcher-does-not-exist','handleObjectMove','client','asc','Local\x20node\x20rank\x20is\x20not\x20set','params','system','layout','Received\x20event\x20on\x20cluster','debugEnabled','KeyValueDatabaseStats','PubSubTopicNameNotString','\x20must\x20be\x20a\x20string','createAnswer','listChanges','hash','dataTopics','ModelText','getBitrate','isProduction','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','trackKinds','totalEncodeTime','clearSyncTimeout','AppSync\x20subscribe','ExternalStorageInvalidPath','internal','packets','handleSubscribeMediaStream','debounceStats','getAudioVideoDelay','cpu.av_delay','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','setupRenderElement','appendTransactionAndUpdateHashMap','json_arr','subscribeToJobs','validateLayout','pendingSyncTransactions','secheduleTime','onloadeddata','handleSubscriptionMediaStreamUnavailable','\x20sending\x20attempt\x20','\x20must\x20be\x20a\x20boolean','keyValueDatabases','setPendingFileSyncingPayload','getChannelData','Error\x20writing\x20chunk\x20to\x20stream','vector-database','\x27\x20is\x20not\x20ready','Synced','get','updatePropagationProperties','ObjectStoreNotSynced','chosenAnswers','CanProvideMediaStream','label','codes','mediaUnsubscribers','vendorId','unsubscribeTrackEndedListener','Failed\x20to\x20send\x20job\x20','contentManager','maxOutgoingSubscriptions','NodeConnectionsUpdate','updateUser','getGenerativeAIContexts','connectionManager','getWorkflowModels','publishSystemMessage','queryParameters','sender','Unexpected\x20output\x20type','clusters/','subscriptionRequestTimeouts','CrewdleReceiverConnection\x20ontrack','Remote\x20stream\x20does\x20not\x20exist.','sourceUrl','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','GenerativeAIContextJobFailed','globalObject','batchTimeout','invalid-publisher','isFailedResponse','suspended','object-storage','receiver','getDisplayName','EntityExtractor','readyDebounce','syncContent','waitSuccess','emit','/resources/generative-ai-grammar/items','InvalidSubscriber','.pl','disconnected','connection-invalid-data-event','OPFSObjectStoreConnector','NodeLeave','getCoresFromCapacityReport','\x20check\x20failed','captureStream','deleteRemoteNode','\x27\x20payload:','processLocalReport','key-value-database-transaction-table-not-initialized','FinalOutput','Outgoing','senderCurrentTimestamp','getFunctions','URL\x20is\x20required','publishMove','getInternalTrackParams','Node\x20is\x20not\x20an\x20agent','showSkillOutput','\x27\x20dabatase\x20id.','updateDebounceTimeout','generative-ai-worker-creation-failed','generative-ai-context-does-not-exist','RemoteMediaStreamMissingProviderId','sentence-splitter','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','content-publish-media','setOnDisconnectHandler','rank','PubSubTopicDoesNotExist','getRemoteConnections','Events','moveObject','timeReceiving','en-US','JobWorkerAlreadyExists','setDisplayName','sync','setParams','getSubscriptionInfo','System','Stream\x20already\x20exists','VectorDatabaseMissingConnector','crewdle-sdk','Invalid\x20data\x20channel.','Connection\x20not\x20connected.','setBytes','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','createPendingFileWrite','AgentSkill','propagate','unregisterSystemPublisher','answerContentAvailable','IDBDatabaseConnector','checkMediaRecording','notifyObjectStoreOfNodeLeave','keyPath','startAt','direction','addCandidate','hashPeakHashes','getLabel','missing-system-topic','KeyValueDatabase\x20-\x20Sync\x20completed','log','.dart','receiverStreams','Vector','setConnectionType','.erb','Retrieve\x20from\x20context\x20to\x20inform\x20your\x20response.','removeListener','Rejected','maxConnections','Stats','initializeSystemTopic','syncPendingFiles','remediations','string','relation-extractor','Node\x20type\x20is\x20invalid','Invalid\x20data\x20event.','hasTracks','canAddCandidates','createConstantSource','reranker','leave','disconnectCallback','setUpgradeTimeout','Error\x20initializing\x20logging\x20database\x20with\x20\x27','setEmail','key-value-database-invalid-query','server','MediaStreamPriority','isJobRequest','handleNodeSystemEvents','openGenerativeAIContext','ingestBlocks','2011047kAMEmO','object-store-stream-does-not-exist','iceConnectionState\x20failed','PubSubTopicAlreadyExists','Accepted','generativeAIWorkerConnectors','getConnections','pathName','removeKeyValueDatabase','contentSize','removeRemoteConnection','DatabaseEvent','maxResolution','Node\x20\x27','unsubscribe','CREWDLE_WEB_SDK','DataCollection','publishLocalMediaStream','shift','missing-incoming-connection','unsubscribeHandler','GraphDatabaseStats','tail','Pool','connector','getRemoteNode','JobDispatcherObserverNotFound','features','Agent\x20group\x20not\x20found','getBid','.crewdle-layout','cancel','auth','getGrammars','File','getThread','Error\x20retrieving\x20context','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','crewdle-sdk-stg.appspot.com','filteredDestinationIds','PromptFunctionParamsType','createGraphDatabase','InitialPrompt','connections','endpoint'];a0_0x2f83=function(){return _0x13ba2b;};return a0_0x2f83();}(function(_0x208f18,_0x2aa487){const _0x3a851e=a0_0xbe57,_0x5efecd=_0x208f18();while(!![]){try{const _0x4eb9da=parseInt(_0x3a851e(0x972))/0x1+parseInt(_0x3a851e(0x4c4))/0x2+parseInt(_0x3a851e(0x879))/0x3*(parseInt(_0x3a851e(0x916))/0x4)+-parseInt(_0x3a851e(0x446))/0x5+-parseInt(_0x3a851e(0x24f))/0x6*(-parseInt(_0x3a851e(0x19e))/0x7)+parseInt(_0x3a851e(0x424))/0x8+-parseInt(_0x3a851e(0x918))/0x9;if(_0x4eb9da===_0x2aa487)break;else _0x5efecd['push'](_0x5efecd['shift']());}catch(_0x19131f){_0x5efecd['push'](_0x5efecd['shift']());}}}(a0_0x2f83,0xd7a57),!function(_0x3ef3d5,_0x10e12b){const _0x11e197=a0_0xbe57;if('object'==typeof exports&&_0x11e197(0x2c3)==typeof module)module['exports']=_0x10e12b();else{if(_0x11e197(0x15e)==typeof define&&define[_0x11e197(0x9a7)])define([],_0x10e12b);else{var _0x2d2450=_0x10e12b();for(var _0x1f4888 in _0x2d2450)(_0x11e197(0x2c3)==typeof exports?exports:_0x3ef3d5)[_0x1f4888]=_0x2d2450[_0x1f4888];}}}(this,()=>((()=>{'use strict';const _0x37ac7d=a0_0xbe57;var _0x4ae042={0x14d:(_0x3ea1b,_0x2e129f,_0xd9ea8f)=>{const _0x4b739b=a0_0xbe57;_0xd9ea8f['d'](_0x2e129f,{'O':()=>_0x15a89a});const _0x15a89a={'version':_0x4b739b(0x563),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x4b739b(0x4c2),'authDomain':_0x4b739b(0x8e4),'databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':_0x4b739b(0x394),'storageBucket':_0x4b739b(0x89f),'appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':_0x4b739b(0x36d)},'google':{'searchEngineId':_0x4b739b(0x6cf)},'aws':{'endpoint':_0x4b739b(0x692),'region':_0x4b739b(0x155)}};},0x33b:(_0x330fd8,_0x33c58f,_0x3e2fb1)=>{_0x3e2fb1['d'](_0x33c58f,{'O':()=>_0x1fe79a});const _0x1fe79a={};},0x3e6:(_0x31fa22,_0xf91dd1,_0xb72a6f)=>{const _0x1ae562=a0_0xbe57;_0xb72a6f['d'](_0xf91dd1,{'O':()=>_0x344e86});const _0x344e86={'version':'1.0.1','isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':_0x1ae562(0x36e),'projectId':_0x1ae562(0x842),'storageBucket':_0x1ae562(0x28d),'messagingSenderId':_0x1ae562(0x141),'appId':'1:420235181083:web:4eff6062bd845cb0748cbe','measurementId':_0x1ae562(0x94c)},'aws':{'endpoint':_0x1ae562(0x8b4),'region':_0x1ae562(0x155)}};},0x20:(_0x1fec43,_0x2ff252,_0x51bbdb)=>{_0x51bbdb['d'](_0x2ff252,{'O':()=>_0x2cd7ae});const _0x2cd7ae={};}},_0x4bde45={};function _0x51067e(_0x406c5f){const _0x30ecdc=a0_0xbe57;var _0x129a2a=_0x4bde45[_0x406c5f];if(void 0x0!==_0x129a2a)return _0x129a2a[_0x30ecdc(0x92b)];var _0x3a49b4=_0x4bde45[_0x406c5f]={'exports':{}};return _0x4ae042[_0x406c5f](_0x3a49b4,_0x3a49b4[_0x30ecdc(0x92b)],_0x51067e),_0x3a49b4[_0x30ecdc(0x92b)];}_0x51067e['d']=(_0x50b204,_0x207077)=>{for(var _0x465000 in _0x207077)_0x51067e['o'](_0x207077,_0x465000)&&!_0x51067e['o'](_0x50b204,_0x465000)&&Object['defineProperty'](_0x50b204,_0x465000,{'enumerable':!0x0,'get':_0x207077[_0x465000]});},_0x51067e['g']=(function(){const _0x15f064=a0_0xbe57;if('object'==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0xda1079){if(_0x15f064(0x2c3)==typeof window)return window;}}()),_0x51067e['o']=(_0x5c80a1,_0x2bfb53)=>Object[_0x37ac7d(0x558)][_0x37ac7d(0x341)][_0x37ac7d(0x900)](_0x5c80a1,_0x2bfb53),_0x51067e['r']=_0x2a9ae6=>{const _0x35fcc6=_0x37ac7d;_0x35fcc6(0x798)!=typeof Symbol&&Symbol[_0x35fcc6(0x588)]&&Object[_0x35fcc6(0x3f3)](_0x2a9ae6,Symbol[_0x35fcc6(0x588)],{'value':'Module'}),Object[_0x35fcc6(0x3f3)](_0x2a9ae6,_0x35fcc6(0x557),{'value':!0x0});};var _0x5b4e17,_0x5ddb4d,_0xdea279,_0x480e78={};_0x51067e['r'](_0x480e78),_0x51067e['d'](_0x480e78,{'KeyValueDatabase':()=>_0x4f7cc4,'LayoutBuilder':()=>_0x40f972,'LoggingChannels':()=>_0xdea279,'QueryBuilder':()=>_0x4baab9,'SDK':()=>_0x42eadf,'SDKClientErrorCodes':()=>_0x5b4e17,'TableBuilder':()=>_0x245779,'logger':()=>_0x52aedf}),function(_0xdb7f1c){const _0x1467ac=_0x37ac7d;_0xdb7f1c['ConnectionBufferNotEmpty']=_0x1467ac(0x555),_0xdb7f1c['ClusterAlreadyJoined']=_0x1467ac(0x1e1),_0xdb7f1c['ExternalStorageConnectionAlreadyExists']='external-storage-connection-already-exists',_0xdb7f1c[_0x1467ac(0x721)]='external-storage-connection-already-subscribed',_0xdb7f1c['ExternalStorageConnectionDoesNotExist']='external-storage-connection-does-not-exist',_0xdb7f1c[_0x1467ac(0x68f)]=_0x1467ac(0x2f1),_0xdb7f1c[_0x1467ac(0x7cf)]=_0x1467ac(0x44b),_0xdb7f1c[_0x1467ac(0x19f)]=_0x1467ac(0x33a),_0xdb7f1c['FeatureNotEnabled']='feature-not-enabled',_0xdb7f1c[_0x1467ac(0x5a0)]=_0x1467ac(0x3fa),_0xdb7f1c[_0x1467ac(0x932)]=_0x1467ac(0x82d),_0xdb7f1c[_0x1467ac(0x383)]=_0x1467ac(0x2b6),_0xdb7f1c[_0x1467ac(0x5af)]=_0x1467ac(0x1f1),_0xdb7f1c['GenerativeAIWorkerAlreadyExists']=_0x1467ac(0x8d8),_0xdb7f1c[_0x1467ac(0x16f)]=_0x1467ac(0x5b9),_0xdb7f1c['GenerativeAIWorkerModelSyncError']='generative-ai-worker-model-sync-error',_0xdb7f1c['GraphDatabaseAlreadyExists']=_0x1467ac(0x8d0),_0xdb7f1c[_0x1467ac(0x506)]='graph-database-does-not-exist',_0xdb7f1c[_0x1467ac(0x554)]=_0x1467ac(0x3e4),_0xdb7f1c[_0x1467ac(0x2e8)]=_0x1467ac(0x3f4),_0xdb7f1c[_0x1467ac(0x3e0)]=_0x1467ac(0x6e4),_0xdb7f1c['JobDispatcherDoesNotExist']=_0x1467ac(0x7b6),_0xdb7f1c[_0x1467ac(0x504)]='job-dispatcher-job-exists',_0xdb7f1c[_0x1467ac(0x5be)]='job-dispatcher-job-not-found',_0xdb7f1c[_0x1467ac(0x4a4)]=_0x1467ac(0x432),_0xdb7f1c[_0x1467ac(0x83a)]=_0x1467ac(0x33d),_0xdb7f1c[_0x1467ac(0x3e8)]='job-worker-does-not-exist',_0xdb7f1c[_0x1467ac(0x971)]=_0x1467ac(0x1d3),_0xdb7f1c[_0x1467ac(0x1e5)]=_0x1467ac(0x25b),_0xdb7f1c[_0x1467ac(0x3a2)]=_0x1467ac(0x87a),_0xdb7f1c[_0x1467ac(0x745)]=_0x1467ac(0x340),_0xdb7f1c['ObjectStoreInvalidPayload']=_0x1467ac(0x18e),_0xdb7f1c['ObjectStoreInvalidPath']=_0x1467ac(0x29d),_0xdb7f1c[_0x1467ac(0xef)]=_0x1467ac(0x52e),_0xdb7f1c[_0x1467ac(0x3e1)]=_0x1467ac(0x1a0),_0xdb7f1c[_0x1467ac(0x93e)]=_0x1467ac(0x241),_0xdb7f1c[_0x1467ac(0x377)]=_0x1467ac(0x232),_0xdb7f1c[_0x1467ac(0x762)]=_0x1467ac(0x479),_0xdb7f1c[_0x1467ac(0x173)]='key-value-database-index-not-found',_0xdb7f1c[_0x1467ac(0x689)]=_0x1467ac(0x872),_0xdb7f1c['KeyValueDatabaseInvalidValue']=_0x1467ac(0x754),_0xdb7f1c[_0x1467ac(0x59f)]=_0x1467ac(0x4dd),_0xdb7f1c[_0x1467ac(0x55f)]=_0x1467ac(0x3ad),_0xdb7f1c[_0x1467ac(0x6d2)]=_0x1467ac(0x4d1),_0xdb7f1c[_0x1467ac(0x156)]=_0x1467ac(0x742),_0xdb7f1c[_0x1467ac(0x17f)]=_0x1467ac(0x381),_0xdb7f1c[_0x1467ac(0x8ac)]=_0x1467ac(0x497),_0xdb7f1c[_0x1467ac(0xc7)]=_0x1467ac(0x67a),_0xdb7f1c[_0x1467ac(0x87c)]=_0x1467ac(0x990),_0xdb7f1c[_0x1467ac(0x834)]='pub-sub-topic-does-not-exist',_0xdb7f1c[_0x1467ac(0x7c1)]=_0x1467ac(0x600),_0xdb7f1c[_0x1467ac(0x1be)]=_0x1467ac(0x23e),_0xdb7f1c[_0x1467ac(0x676)]='query-helper-invalid-argument',_0xdb7f1c[_0x1467ac(0x54d)]=_0x1467ac(0x5db),_0xdb7f1c[_0x1467ac(0x3a7)]='remote-media-stream-invalid-subscription-params',_0xdb7f1c['SubscriptionRequestInProgress']=_0x1467ac(0x58a),_0xdb7f1c['NodeNotAuthenticated']=_0x1467ac(0x70b),_0xdb7f1c[_0x1467ac(0x527)]=_0x1467ac(0x75e),_0xdb7f1c[_0x1467ac(0x515)]=_0x1467ac(0xe6),_0xdb7f1c[_0x1467ac(0x2b7)]=_0x1467ac(0x995),_0xdb7f1c['VectorDatabaseAlreadyExists']=_0x1467ac(0x8ae),_0xdb7f1c['VectorDatabaseDoesNotExist']='vector-database-does-not-exist',_0xdb7f1c[_0x1467ac(0x841)]=_0x1467ac(0x3e7),_0xdb7f1c[_0x1467ac(0x6a7)]=_0x1467ac(0x1a7);}(_0x5b4e17||(_0x5b4e17={}));class _0x3e3c93 extends Error{[_0x37ac7d(0x417)];constructor(_0xb73c2b,_0x52ffa6){const _0x456691=_0x37ac7d;super(_0x52ffa6),this[_0x456691(0x417)]=_0xb73c2b;}}!function(_0x9d7813){const _0x5dbff0=_0x37ac7d;_0x9d7813[_0x5dbff0(0x698)]=_0x5dbff0(0x3fb),_0x9d7813[_0x5dbff0(0x490)]=_0x5dbff0(0x80b),_0x9d7813[_0x5dbff0(0x2df)]=_0x5dbff0(0x1cf),_0x9d7813[_0x5dbff0(0x8bf)]=_0x5dbff0(0x7e6),_0x9d7813[_0x5dbff0(0x67c)]=_0x5dbff0(0x34c),_0x9d7813[_0x5dbff0(0x664)]=_0x5dbff0(0x3eb),_0x9d7813['MediaStream']='media-stream',_0x9d7813[_0x5dbff0(0x509)]=_0x5dbff0(0x8d7);}(_0x5ddb4d||(_0x5ddb4d={})),function(_0x3cd216){const _0x21e980=_0x37ac7d;_0x3cd216['All']=_0x21e980(0x533),_0x3cd216['Default']=_0x21e980(0x5f8),_0x3cd216[_0x21e980(0x9c0)]=_0x21e980(0x4d9),_0x3cd216[_0x21e980(0x29a)]=_0x21e980(0x2c5),_0x3cd216[_0x21e980(0x596)]='cluster',_0x3cd216[_0x21e980(0x3a0)]='content',_0x3cd216['DataStream']=_0x21e980(0xc6),_0x3cd216['Detection']='detection',_0x3cd216[_0x21e980(0x836)]=_0x21e980(0x544),_0x3cd216[_0x21e980(0x8da)]='error',_0x3cd216[_0x21e980(0x55b)]=_0x21e980(0x49c),_0x3cd216['KeyValueDatabase']=_0x21e980(0x1cf),_0x3cd216[_0x21e980(0x4a7)]=_0x21e980(0x1f9),_0x3cd216[_0x21e980(0x890)]='pool',_0x3cd216['PubSub']=_0x21e980(0x3fb),_0x3cd216[_0x21e980(0x70c)]=_0x21e980(0x3b1),_0x3cd216['Remediation']=_0x21e980(0x8fd),_0x3cd216['SenderSendMessage']=_0x21e980(0x96d),_0x3cd216['Signaling']=_0x21e980(0x74d),_0x3cd216['Stats']='stats',_0x3cd216[_0x21e980(0x559)]=_0x21e980(0x133),_0x3cd216[_0x21e980(0x5fe)]='support',_0x3cd216[_0x21e980(0x83f)]=_0x21e980(0x7bc),_0x3cd216[_0x21e980(0x99d)]=_0x21e980(0x939),_0x3cd216['TestPage']=_0x21e980(0x249),_0x3cd216[_0x21e980(0x5c2)]=_0x21e980(0x730);}(_0xdea279||(_0xdea279={}));const _0x441722=require('@crewdle/web-sdk-types');class _0x4baab9{[_0x37ac7d(0x169)];constructor(_0xef2dda){const _0x39b8fa=_0x37ac7d;this[_0x39b8fa(0x169)]={'orderBy':{'key':_0xef2dda,'direction':'asc'}};}static[_0x37ac7d(0x5e8)](_0xa3bf43){const _0x1ddcc1=_0x37ac7d;if('string'!=typeof _0xa3bf43||0x0===_0xa3bf43[_0x1ddcc1(0x146)])throw new _0x3e3c93(_0x5b4e17['QueryBuilderInvalidArgument'],_0x1ddcc1(0x50b));return new _0x4baab9(_0xa3bf43);}static[_0x37ac7d(0x36c)](_0x5f3f02){try{return _0x4baab9['buildQuery'](_0x5f3f02),!0x0;}catch(_0x241c35){return!0x1;}}static[_0x37ac7d(0x68c)](_0x2d75ab){const _0x28bfd4=_0x37ac7d,_0x469f42=_0x4baab9[_0x28bfd4(0x5e8)](_0x2d75ab[_0x28bfd4(0x917)]?.[_0x28bfd4(0xe4)]??_0x2d75ab[_0x28bfd4(0x8ef)]?.[_0x28bfd4(0xe4)]??'');if(_0x2d75ab['where']){const _0x31b2cc=_0x2d75ab['where'];if((_0x4baab9[_0x28bfd4(0x6a6)](_0x31b2cc)||_0x4baab9[_0x28bfd4(0x98e)](_0x31b2cc)||_0x4baab9[_0x28bfd4(0x285)](_0x31b2cc))&&_0x469f42[_0x28bfd4(0x8ef)](_0x31b2cc['operator'],_0x31b2cc['value']),_0x2d75ab[_0x28bfd4(0x917)]?.[_0x28bfd4(0xe4)]&&_0x2d75ab['orderBy']?.['key']!==_0x2d75ab['where'][_0x28bfd4(0xe4)])throw new _0x3e3c93(_0x5b4e17['QueryBuilderInvalidArgument'],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x2d75ab[_0x28bfd4(0x917)]&&_0x469f42[_0x28bfd4(0x917)](_0x2d75ab[_0x28bfd4(0x917)][_0x28bfd4(0x851)]),_0x2d75ab[_0x28bfd4(0x17d)]&&_0x469f42[_0x28bfd4(0x17d)](_0x2d75ab[_0x28bfd4(0x17d)]),_0x2d75ab['offset']&&_0x469f42['offset'](_0x2d75ab['offset']),_0x469f42;}['getQuery'](){return{...this['query']};}[_0x37ac7d(0x8ef)](_0x197638,_0x122269){const _0x45f7de=_0x37ac7d,_0x4ccc1a={'key':this['query'][_0x45f7de(0x917)]['key'],'operator':_0x197638,'value':_0x122269};if(!_0x4baab9[_0x45f7de(0x6a6)](_0x4ccc1a)&&!_0x4baab9['isWhereValues'](_0x4ccc1a)&&!_0x4baab9[_0x45f7de(0x285)](_0x4ccc1a))throw new _0x3e3c93(_0x5b4e17[_0x45f7de(0x676)],_0x45f7de(0x670));return this['query'][_0x45f7de(0x8ef)]=_0x4ccc1a,this;}['orderBy'](_0x15ba18){const _0x375ca9=_0x37ac7d;if(_0x375ca9(0x7b9)!==_0x15ba18&&'desc'!==_0x15ba18)throw new _0x3e3c93(_0x5b4e17[_0x375ca9(0x676)],_0x375ca9(0x423));return this[_0x375ca9(0x169)][_0x375ca9(0x917)][_0x375ca9(0x851)]=_0x15ba18,this;}[_0x37ac7d(0x17d)](_0x5320b7){const _0x322a3f=_0x37ac7d;if('number'!=typeof _0x5320b7||_0x5320b7<0x0)throw new _0x3e3c93(_0x5b4e17[_0x322a3f(0x676)],_0x322a3f(0x3c2));return this['query'][_0x322a3f(0x17d)]=_0x5320b7,this;}[_0x37ac7d(0x23c)](_0x30041b){const _0x515da7=_0x37ac7d;if('number'!=typeof _0x30041b||_0x30041b<0x0)throw new _0x3e3c93(_0x5b4e17[_0x515da7(0x676)],_0x515da7(0x9b1));return this[_0x515da7(0x169)]['offset']=_0x30041b,this;}static[_0x37ac7d(0x6a6)](_0x1981c8){const _0x35596f=_0x37ac7d;if(!(_0x1981c8&&'object'==typeof _0x1981c8&&_0x35596f(0x180)in _0x1981c8&&_0x35596f(0x470)in _0x1981c8))return!0x1;const {operator:_0x4dcb2c,value:_0x5eae56}=_0x1981c8;return!(!['==','!=','>','<','<=','>='][_0x35596f(0x444)](_0x4dcb2c)||Array[_0x35596f(0x374)](_0x5eae56));}static[_0x37ac7d(0x98e)](_0x212a10){const _0x1227b5=_0x37ac7d;if(!(_0x212a10&&_0x1227b5(0x2c3)==typeof _0x212a10&&'operator'in _0x212a10&&'value'in _0x212a10))return!0x1;const {operator:_0x5713f8,value:_0x37220f}=_0x212a10;return!(!['in',_0x1227b5(0x771)][_0x1227b5(0x444)](_0x5713f8)||!Array[_0x1227b5(0x374)](_0x37220f));}static[_0x37ac7d(0x285)](_0x403cf2){const _0x5d6440=_0x37ac7d;if(!(_0x403cf2&&_0x5d6440(0x2c3)==typeof _0x403cf2&&'operator'in _0x403cf2&&'value'in _0x403cf2))return!0x1;const {operator:_0x2d6d32,value:_0x3025a7}=_0x403cf2;return!(_0x5d6440(0x56c)!==_0x2d6d32||!Array[_0x5d6440(0x374)](_0x3025a7)||0x2!==_0x3025a7[_0x5d6440(0x146)]);}}class _0x40f972{[_0x37ac7d(0x7bd)];constructor(_0x5d7859){const _0x4abede=_0x37ac7d;this[_0x4abede(0x7bd)]={'tables':{},'version':_0x5d7859};}static['validateLayout'](_0x5de1dc){const _0x247297=_0x37ac7d;for(const _0x524013 in _0x5de1dc){if('version'!==_0x524013&&_0x247297(0x90c)!==_0x524013)return[!0x1,'Invalid\x20key\x20\x27'+_0x524013+_0x247297(0x5ad)];if('tables'===_0x524013)for(const _0x4c3429 in _0x5de1dc[_0x247297(0x90c)]){if(_0x247297(0x865)!=typeof _0x4c3429)return[!0x1,_0x247297(0x40f)+_0x4c3429+'\x27'];for(const _0x486825 in _0x5de1dc[_0x247297(0x90c)][_0x4c3429]){if(_0x247297(0x69e)!==_0x486825)return[!0x1,_0x247297(0x1ef)+_0x486825+'\x27\x20in\x20table\x20\x27'+_0x4c3429+'\x27'];const _0x41d6fe=_0x5de1dc[_0x247297(0x90c)][_0x4c3429][_0x486825]??[];for(const _0x48560b of _0x41d6fe)if(void 0x0===_0x48560b[_0x247297(0x84f)]||_0x247297(0x865)!=typeof _0x48560b[_0x247297(0x84f)])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x4c3429+_0x247297(0x6f2)];}}else{if(_0x247297(0x718)===_0x524013&&'number'!=typeof _0x5de1dc[_0x524013])return[!0x1,_0x247297(0x590)+_0x5de1dc[_0x524013]+_0x247297(0x72e)];}}return[!0x0,_0x247297(0x4b6)];}static[_0x37ac7d(0x7bd)](_0x5c31aa){const _0x1e642a=_0x37ac7d,_0x5bb3e7=new _0x40f972(_0x5c31aa);return _0x5bb3e7[_0x1e642a(0x7bd)]['version']=_0x5c31aa,_0x5bb3e7;}['table'](_0x2b469e){const _0x23c0c7=_0x37ac7d;return this[_0x23c0c7(0x7bd)][_0x23c0c7(0x90c)][_0x2b469e]={},new _0x245779(this[_0x23c0c7(0x7bd)][_0x23c0c7(0x90c)][_0x2b469e]);}[_0x37ac7d(0x204)](){const _0x2ee96a=_0x37ac7d;return this[_0x2ee96a(0x7bd)];}}class _0x245779{[_0x37ac7d(0x8c9)];constructor(_0x1c7b9c){const _0x154b35=_0x37ac7d;this[_0x154b35(0x8c9)]=_0x1c7b9c;}[_0x37ac7d(0x5e8)](_0x32c892){const _0x12c691=_0x37ac7d;return this['tableLayout'][_0x12c691(0x69e)]=this[_0x12c691(0x8c9)]['indexes']??[],this[_0x12c691(0x8c9)][_0x12c691(0x69e)]['push']({'keyPath':_0x32c892}),this;}}const _0x1e4763=0x40000,_0x44909b=0x3f800,_0x3d132a=0x1388,_0x32f40c=_0x37ac7d(0x564),_0x29aeeb=_0x37ac7d(0x436),_0x38eda0=_0x37ac7d(0x746),_0x68c75c=_0x37ac7d(0x897),_0x59c1d7=0xdbba0,_0x55ea1f='.gguf',_0x58b7e2=0x61a8,_0x19393c=_0x37ac7d(0x7d0);var _0x5a9615;!function(_0x2d38cc){const _0x4529f9=_0x37ac7d;_0x2d38cc[_0x4529f9(0x9ad)]=_0x4529f9(0x453),_0x2d38cc[_0x4529f9(0x728)]='connection-not-connected',_0x2d38cc['ConnectionNoRetryQueue']='connection-no-retry-queue',_0x2d38cc[_0x4529f9(0x6d5)]=_0x4529f9(0x817),_0x2d38cc['GenerativeAIContextCreationFailed']=_0x4529f9(0x32c),_0x2d38cc[_0x4529f9(0xd2)]='generative-ai-context-invalid-partial-result',_0x2d38cc[_0x4529f9(0x4fb)]=_0x4529f9(0x19d),_0x2d38cc[_0x4529f9(0x805)]=_0x4529f9(0x4cc),_0x2d38cc[_0x4529f9(0x3fc)]='generative-ai-context-job-timeout',_0x2d38cc[_0x4529f9(0x1f4)]=_0x4529f9(0x82c),_0x2d38cc[_0x4529f9(0x6d4)]=_0x4529f9(0x931),_0x2d38cc[_0x4529f9(0x4df)]=_0x4529f9(0x697),_0x2d38cc['InvalidPublisher']=_0x4529f9(0x808),_0x2d38cc[_0x4529f9(0x814)]='invalid-subscriber',_0x2d38cc[_0x4529f9(0x1fa)]='invalid-subscription',_0x2d38cc[_0x4529f9(0x78a)]=_0x4529f9(0x66d),_0x2d38cc[_0x4529f9(0x69f)]=_0x4529f9(0x6aa),_0x2d38cc['JobDispatcherJobNotFound']='job-dispatcher-job-not-found',_0x2d38cc[_0x4529f9(0x893)]=_0x4529f9(0x41a),_0x2d38cc[_0x4529f9(0x5a7)]=_0x4529f9(0x31a),_0x2d38cc[_0x4529f9(0x99c)]=_0x4529f9(0x251),_0x2d38cc[_0x4529f9(0x395)]='key-value-database-creation-failed',_0x2d38cc[_0x4529f9(0x218)]=_0x4529f9(0x6f8),_0x2d38cc[_0x4529f9(0x5ac)]='key-value-database-table-does-not-exist',_0x2d38cc[_0x4529f9(0x702)]=_0x4529f9(0x820),_0x2d38cc[_0x4529f9(0x78c)]=_0x4529f9(0x988),_0x2d38cc['LocalMediaStreamDoesNotExist']=_0x4529f9(0x3de),_0x2d38cc['MissingRemoteConnection']=_0x4529f9(0x88c),_0x2d38cc[_0x4529f9(0x8f0)]=_0x4529f9(0x855),_0x2d38cc[_0x4529f9(0x73c)]='mistlet-capacity-report-not-set',_0x2d38cc['ObjectStoreCannotWriteTransaction']=_0x4529f9(0x585),_0x2d38cc[_0x4529f9(0x1f0)]=_0x4529f9(0x4e9),_0x2d38cc[_0x4529f9(0x572)]=_0x4529f9(0x3cd),_0x2d38cc['ObjectStoreNotSynced']=_0x4529f9(0x33e),_0x2d38cc['OutgoingMediaStreamNoTopic']=_0x4529f9(0x9a1),_0x2d38cc['RemoteMediaStreamDoesNotExist']='remote-stream-does-not-exist',_0x2d38cc[_0x4529f9(0x82e)]=_0x4529f9(0x1c4),_0x2d38cc[_0x4529f9(0x9b6)]=_0x4529f9(0x104),_0x2d38cc[_0x4529f9(0x1ed)]=_0x4529f9(0x775),_0x2d38cc['SubscriptionRequestFailed']=_0x4529f9(0x1d6),_0x2d38cc['SubscriptionRequestNoAnswer']=_0x4529f9(0x3f9),_0x2d38cc[_0x4529f9(0x537)]=_0x4529f9(0x1a3),_0x2d38cc[_0x4529f9(0x9a2)]='node-already-exist',_0x2d38cc[_0x4529f9(0x511)]=_0x4529f9(0x4b9),_0x2d38cc['VectorDatabaseCreationFailed']=_0x4529f9(0xf2),_0x2d38cc[_0x4529f9(0xff)]=_0x4529f9(0x5da),_0x2d38cc[_0x4529f9(0x2fd)]='workflow-invalid-block-type';}(_0x5a9615||(_0x5a9615={}));const _0x4ebcac=new Map([[_0x5a9615[_0x37ac7d(0x9ad)],_0x37ac7d(0x49b)],[_0x5a9615['ConnectionNotConnected'],_0x37ac7d(0x844)],[_0x5a9615[_0x37ac7d(0x9bb)],_0x37ac7d(0x57e)],[_0x5a9615[_0x37ac7d(0x6d5)],_0x37ac7d(0x868)],[_0x5a9615[_0x37ac7d(0x789)],_0x37ac7d(0x315)],[_0x5a9615[_0x37ac7d(0xd2)],_0x37ac7d(0x913)],[_0x5a9615['GenerativeAIContextJobAlreadyConsumed'],_0x37ac7d(0x4f0)],[_0x5a9615['GenerativeAIContextJobFailed'],_0x37ac7d(0x346)],[_0x5a9615[_0x37ac7d(0x3fc)],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x5a9615[_0x37ac7d(0x1f4)],'AI\x20worker\x20creation\x20failed.'],[_0x5a9615['GraphDatabaseCreationFailed'],_0x37ac7d(0x3b2)],[_0x5a9615['InvalidDataChannel'],_0x37ac7d(0x843)],[_0x5a9615[_0x37ac7d(0x354)],'Invalid\x20publisher.'],[_0x5a9615['InvalidSubscriber'],'Invalid\x20subscriber.'],[_0x5a9615[_0x37ac7d(0x1fa)],_0x37ac7d(0x566)],[_0x5a9615[_0x37ac7d(0x78a)],_0x37ac7d(0x426)],[_0x5a9615[_0x37ac7d(0x69f)],_0x37ac7d(0x1fe)],[_0x5a9615[_0x37ac7d(0x5be)],_0x37ac7d(0x93c)],[_0x5a9615[_0x37ac7d(0x893)],_0x37ac7d(0xca)],[_0x5a9615[_0x37ac7d(0x5a7)],'Job\x20worker\x20creation\x20failed.'],[_0x5a9615[_0x37ac7d(0x99c)],_0x37ac7d(0x9ac)],[_0x5a9615[_0x37ac7d(0x395)],_0x37ac7d(0x491)],[_0x5a9615['KeyValueDatabasePeakNotFound'],_0x37ac7d(0x461)],[_0x5a9615[_0x37ac7d(0x5ac)],_0x37ac7d(0x2a9)],[_0x5a9615['KeyValueDatabaseTransactionTableNotInitialized'],_0x37ac7d(0x53e)],[_0x5a9615[_0x37ac7d(0x78c)],_0x37ac7d(0x135)],[_0x5a9615[_0x37ac7d(0x2f5)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x5a9615[_0x37ac7d(0x153)],_0x37ac7d(0x353)],[_0x5a9615['MissingSystemTopic'],_0x37ac7d(0x261)],[_0x5a9615[_0x37ac7d(0x73c)],_0x37ac7d(0x427)],[_0x5a9615[_0x37ac7d(0x4d8)],_0x37ac7d(0x1e7)],[_0x5a9615[_0x37ac7d(0x572)],_0x37ac7d(0x962)],[_0x5a9615[_0x37ac7d(0x1f0)],_0x37ac7d(0x4a1)],[_0x5a9615[_0x37ac7d(0x7eb)],'Object\x20store\x20not\x20synced.'],[_0x5a9615[_0x37ac7d(0x6c3)],_0x37ac7d(0x47c)],[_0x5a9615[_0x37ac7d(0x79c)],_0x37ac7d(0x802)],[_0x5a9615[_0x37ac7d(0x82e)],_0x37ac7d(0x130)],[_0x5a9615[_0x37ac7d(0x9b6)],_0x37ac7d(0x322)],[_0x5a9615[_0x37ac7d(0x1ed)],_0x37ac7d(0x7b2)],[_0x5a9615[_0x37ac7d(0x21a)],_0x37ac7d(0xdb)],[_0x5a9615[_0x37ac7d(0x1ff)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x5a9615['NodeDoesNotExist'],_0x37ac7d(0x933)],[_0x5a9615[_0x37ac7d(0x9a2)],_0x37ac7d(0x5fb)],[_0x5a9615[_0x37ac7d(0x511)],_0x37ac7d(0x994)],[_0x5a9615[_0x37ac7d(0x503)],_0x37ac7d(0x236)],[_0x5a9615[_0x37ac7d(0xff)],_0x37ac7d(0x8d2)],[_0x5a9615[_0x37ac7d(0x2fd)],'Invalid\x20workflow\x20block\x20type.']]);class _0x4a800a extends Error{['code'];static ['codes']=_0x5a9615;[_0x37ac7d(0x51f)];constructor(_0x13c1a6,_0x16ea17){const _0x40c911=_0x37ac7d;super('Internal\x20SDK\x20Error:\x20'+_0x13c1a6+':\x20'+_0x4ebcac['get'](_0x13c1a6)+'\x0aAdditional\x20data:\x20'+JSON[_0x40c911(0x343)](_0x16ea17)),this[_0x40c911(0x417)]=_0x13c1a6,this[_0x40c911(0x51f)]=_0x16ea17||{};}}var _0x3b90a2,_0x2820eb,_0x572cef,_0x3d6182,_0x251a55,_0x47dd02,_0x403b04;!function(_0x246f91){const _0x32982a=_0x37ac7d;_0x246f91[_0x246f91['CloseGraphDatabase']=0x0]=_0x32982a(0x1ee),_0x246f91[_0x246f91[_0x32982a(0x4a5)]=0x1]=_0x32982a(0x4a5),_0x246f91[_0x246f91[_0x32982a(0x93b)]=0x2]='CloseJobWorker',_0x246f91[_0x246f91[_0x32982a(0x8a6)]=0x3]=_0x32982a(0x8a6),_0x246f91[_0x246f91[_0x32982a(0x63a)]=0x4]=_0x32982a(0x63a),_0x246f91[_0x246f91[_0x32982a(0x13e)]=0x5]=_0x32982a(0x13e),_0x246f91[_0x246f91[_0x32982a(0x378)]=0x6]=_0x32982a(0x378),_0x246f91[_0x246f91['ClosePubSubTopic']=0x7]=_0x32982a(0x6c8),_0x246f91[_0x246f91[_0x32982a(0x4fa)]=0x8]=_0x32982a(0x4fa),_0x246f91[_0x246f91[_0x32982a(0x12e)]=0x9]=_0x32982a(0x12e),_0x246f91[_0x246f91[_0x32982a(0x33b)]=0xa]=_0x32982a(0x33b),_0x246f91[_0x246f91[_0x32982a(0x6e6)]=0xb]='GenerativeAIWorkerStats',_0x246f91[_0x246f91[_0x32982a(0x88e)]=0xc]='GraphDatabaseStats',_0x246f91[_0x246f91[_0x32982a(0x243)]=0xd]='KeyValueDatabaseContentAvailable',_0x246f91[_0x246f91[_0x32982a(0x131)]=0xe]=_0x32982a(0x131),_0x246f91[_0x246f91['KeyValueDatabaseRequestPeakTransactions']=0xf]=_0x32982a(0x50d),_0x246f91[_0x246f91[_0x32982a(0x3dd)]=0x10]=_0x32982a(0x3dd),_0x246f91[_0x246f91['KeyValueDatabaseSendTransactions']=0x11]=_0x32982a(0x42b),_0x246f91[_0x246f91['KeyValueDatabaseStats']=0x12]=_0x32982a(0x7c0),_0x246f91[_0x246f91['KeyValueDatabaseSyncRequired']=0x13]=_0x32982a(0x60e),_0x246f91[_0x246f91['LocalMediaStreamTrackFail']=0x14]=_0x32982a(0x6ba),_0x246f91[_0x246f91[_0x32982a(0x385)]=0x15]='ObjectStoreStats',_0x246f91[_0x246f91[_0x32982a(0x8af)]=0x16]=_0x32982a(0x8af),_0x246f91[_0x246f91[_0x32982a(0x15b)]=0x17]='PublishMediaStream',_0x246f91[_0x246f91['RemoteMediaStreamTrackFail']=0x18]='RemoteMediaStreamTrackFail',_0x246f91[_0x246f91[_0x32982a(0x5b3)]=0x19]=_0x32982a(0x5b3),_0x246f91[_0x246f91[_0x32982a(0x687)]=0x1a]=_0x32982a(0x687),_0x246f91[_0x246f91['UnsubscribeMediaStream']=0x1b]=_0x32982a(0x6b4),_0x246f91[_0x246f91[_0x32982a(0x794)]=0x1c]=_0x32982a(0x794),_0x246f91[_0x246f91[_0x32982a(0x936)]=0x1d]=_0x32982a(0x936);}(_0x3b90a2||(_0x3b90a2={})),function(_0x442d05){const _0x2fa876=_0x37ac7d;_0x442d05[_0x2fa876(0x5dc)]=_0x2fa876(0x2e5),_0x442d05['FolderCreate']='folder-create',_0x442d05[_0x2fa876(0x5c9)]=_0x2fa876(0x6fd),_0x442d05[_0x2fa876(0x2ba)]='move',_0x442d05[_0x2fa876(0x7a9)]=_0x2fa876(0x797),_0x442d05[_0x2fa876(0x291)]=_0x2fa876(0x79f),_0x442d05[_0x2fa876(0x275)]=_0x2fa876(0x976),_0x442d05[_0x2fa876(0x553)]=_0x2fa876(0x6eb);}(_0x2820eb||(_0x2820eb={})),function(_0x5209b9){const _0x1fa873=_0x37ac7d;_0x5209b9[_0x1fa873(0x4f9)]='request',_0x5209b9['Transaction']=_0x1fa873(0x43e);}(_0x572cef||(_0x572cef={})),function(_0x292f5f){const _0x537883=_0x37ac7d;_0x292f5f[_0x537883(0x234)]=_0x537883(0x492),_0x292f5f[_0x537883(0x39d)]=_0x537883(0x328),_0x292f5f[_0x537883(0x5c9)]=_0x537883(0x6fd);}(_0x3d6182||(_0x3d6182={})),function(_0x2baf8b){const _0x22070a=_0x37ac7d;_0x2baf8b['Get']='get',_0x2baf8b['List']=_0x22070a(0x9b9),_0x2baf8b[_0x22070a(0x443)]=_0x22070a(0xf6);}(_0x251a55||(_0x251a55={})),function(_0x528b47){const _0x4ff4b0=_0x37ac7d;_0x528b47[_0x528b47[_0x4ff4b0(0x4f9)]=0x0]=_0x4ff4b0(0x4f9),_0x528b47[_0x528b47[_0x4ff4b0(0x905)]=0x1]=_0x4ff4b0(0x905),_0x528b47[_0x528b47['Attribution']=0x2]='Attribution',_0x528b47[_0x528b47[_0x4ff4b0(0x3e3)]=0x3]=_0x4ff4b0(0x3e3),_0x528b47[_0x528b47[_0x4ff4b0(0x4ad)]=0x4]=_0x4ff4b0(0x4ad),_0x528b47[_0x528b47[_0x4ff4b0(0x6c7)]=0x5]=_0x4ff4b0(0x6c7);}(_0x47dd02||(_0x47dd02={})),function(_0x963868){const _0x3d7b0d=_0x37ac7d;_0x963868[_0x963868[_0x3d7b0d(0x5c2)]=0x0]=_0x3d7b0d(0x5c2),_0x963868[_0x963868[_0x3d7b0d(0x4a7)]=0x1]='Node',_0x963868[_0x963868['Content']=0x2]=_0x3d7b0d(0x3a0),_0x963868[_0x963868[_0x3d7b0d(0x559)]=0x3]=_0x3d7b0d(0x559),_0x963868[_0x963868[_0x3d7b0d(0x861)]=0x4]='Stats',_0x963868[_0x963868[_0x3d7b0d(0x2f9)]=0x5]=_0x3d7b0d(0x2f9),_0x963868[_0x963868[_0x3d7b0d(0x5cf)]=0x6]=_0x3d7b0d(0x5cf);}(_0x403b04||(_0x403b04={}));class _0x2a744d{[_0x37ac7d(0x9c1)];[_0x37ac7d(0x7ee)];['systemTopic'];constructor(_0x43033d,_0x424bb3){const _0x5e51c0=_0x37ac7d;this[_0x5e51c0(0x9c1)]=_0x43033d,this[_0x5e51c0(0x7ee)]=_0x424bb3;}[_0x37ac7d(0x854)](){const _0x24cd27=_0x37ac7d;return this[_0x24cd27(0x7ee)];}[_0x37ac7d(0x45a)](){const _0xf61a06=_0x37ac7d;return this[_0xf61a06(0x9c1)][_0xf61a06(0x336)]();}['destroy'](){}[_0x37ac7d(0x1b9)](_0x13cead){const _0xccd17b=_0x37ac7d;this[_0xccd17b(0x1b1)]=_0x13cead;}['unregisterSystemPublisher'](){const _0x340a15=_0x37ac7d;delete this[_0x340a15(0x1b1)];}}const _0x2c741a=require('firebase/firestore');let _0x1b0adb=_0x51067e(0x14d)['O'];function _0x500676(_0x325eac){const _0x2d3ec2=_0x37ac7d;return!(!_0x325eac||_0x2d3ec2(0x2c3)!=typeof _0x325eac||Array[_0x2d3ec2(0x374)](_0x325eac));}_0x1b0adb=function _0x18bf1d(_0x1da89e,..._0x19922c){const _0x11c22e=_0x37ac7d;if(!Array[_0x11c22e(0x374)](_0x19922c)||0x0===_0x19922c[_0x11c22e(0x146)])return _0x1da89e;const _0x45b2f4=_0x19922c['shift']();if(_0x500676(_0x1da89e)&&_0x500676(_0x45b2f4)){for(const _0x38ced8 in _0x45b2f4)_0x500676(_0x45b2f4[_0x38ced8])?(_0x1da89e[_0x38ced8]||Object[_0x11c22e(0x54e)](_0x1da89e,{[_0x38ced8]:{}}),_0x18bf1d(_0x1da89e[_0x38ced8],_0x45b2f4[_0x38ced8])):Object[_0x11c22e(0x54e)](_0x1da89e,{[_0x38ced8]:_0x45b2f4[_0x38ced8]});}return _0x18bf1d(_0x1da89e,..._0x19922c);}(_0x1b0adb,_0x51067e(0x3e6)['O']);const _0x46f3bd=_0x1b0adb,_0xd16dac=require('firebase/app'),_0x2868ad=require('firebase/auth'),_0x171159=require('firebase/database'),_0x1be25c=require('firebase/functions'),_0x3e20b1=require('uuid'),_0x5bede3=_0x37ac7d(0x888);class _0x8b4a5f{static [_0x37ac7d(0x912)];[_0x37ac7d(0x212)];['auth'];[_0x37ac7d(0x2fb)];[_0x37ac7d(0x948)];[_0x37ac7d(0x573)];[_0x37ac7d(0x65d)];[_0x37ac7d(0x656)];constructor(){this['getApp']();}static['getInstance'](){const _0x2d50fb=_0x37ac7d;return _0x8b4a5f[_0x2d50fb(0x912)]||(_0x8b4a5f[_0x2d50fb(0x912)]=new _0x8b4a5f()),_0x8b4a5f['instance'];}['getApp'](){const _0x21cbc0=_0x37ac7d;if(!this['app']){let _0xc17f54=_0x5bede3;'undefined'!=typeof window&&(_0xc17f54=_0x5bede3+'-'+(0x0,_0x3e20b1['v4'])()),this[_0x21cbc0(0x212)]=(0x0,_0xd16dac['initializeApp'])(_0x46f3bd[_0x21cbc0(0x25e)],''+_0xc17f54);}return this['app'];}[_0x37ac7d(0x78f)](){const _0x4db308=_0x37ac7d;return this[_0x4db308(0x899)]||(this['auth']=(0x0,_0x2868ad['getAuth'])(this[_0x4db308(0x8c1)]())),this[_0x4db308(0x899)];}[_0x37ac7d(0x824)](){const _0x11f7ba=_0x37ac7d;return this[_0x11f7ba(0x2fb)]||(this[_0x11f7ba(0x2fb)]=(0x0,_0x1be25c[_0x11f7ba(0x824)])(this[_0x11f7ba(0x8c1)](),_0x46f3bd['firebaseConfig'][_0x11f7ba(0x5c1)])),this[_0x11f7ba(0x2fb)];}['getDatabase'](){const _0x4b6fa6=_0x37ac7d;return this[_0x4b6fa6(0x948)]||(this['database']=(0x0,_0x171159[_0x4b6fa6(0x90b)])(this['getApp']())),this['database'];}['getFirestore'](){const _0x458159=_0x37ac7d;return this[_0x458159(0x573)]||(this[_0x458159(0x573)]=(0x0,_0x2c741a[_0x458159(0x242)])(this[_0x458159(0x8c1)]())),this[_0x458159(0x573)];}async[_0x37ac7d(0x332)](){const _0x10462f=_0x37ac7d;if(this[_0x10462f(0x65d)]&&this[_0x10462f(0x656)]&&Date['now']()-this['lastClockUpdate']<0x493e0)return Date[_0x10462f(0x90d)]()+this['clockSkew'];const _0x9d7672=this[_0x10462f(0x90b)](),_0x177da5=(0x0,_0x171159[_0x10462f(0x79d)])(_0x9d7672,_0x10462f(0x72b));return new Promise(_0x1f41b6=>{(0x0,_0x171159['onValue'])(_0x177da5,_0x638d73=>{const _0x28db91=a0_0xbe57;(0x0,_0x171159[_0x28db91(0x207)])(_0x177da5),this[_0x28db91(0x65d)]=_0x638d73['val'](),this[_0x28db91(0x656)]=Date[_0x28db91(0x90d)](),_0x1f41b6(Date['now']()+(this[_0x28db91(0x65d)]??0x0));});});}}const _0xe4f57=_0x8b4a5f[_0x37ac7d(0x507)]();class _0x2a1674{static [_0x37ac7d(0x912)];[_0x37ac7d(0x47a)]=[_0xdea279['Default']];[_0x37ac7d(0x7bf)]=!0x1;[_0x37ac7d(0x41b)];[_0x37ac7d(0x7f1)]='';['globalObject'];[_0x37ac7d(0x6b6)]=[];[_0x37ac7d(0x1b5)];['batchTimeout'];[_0x37ac7d(0xf8)]=0xa;['retryDelay']=0x1f4;[_0x37ac7d(0x57f)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x3de197=_0x37ac7d;if(_0x3de197(0x798)!=typeof window)this[_0x3de197(0x806)]=window;else{if(void 0x0===_0x51067e['g'])throw new Error(_0x3de197(0x5bb));this[_0x3de197(0x806)]=_0x51067e['g'];}this[_0x3de197(0x2dc)](),this[_0x3de197(0x806)][_0x3de197(0x992)]=_0x5bae73=>{const _0x116e41=_0x3de197;if(_0x5bae73===_0xdea279[_0x116e41(0x4e6)])return this[_0x116e41(0x47a)]=Object[_0x116e41(0x6cd)](_0xdea279)['map'](_0x2ac682=>_0xdea279[_0x2ac682]),void Object[_0x116e41(0x6cd)](_0xdea279)['forEach'](_0x5ee6e3=>{const _0xda2520=_0x116e41,_0x72a814=_0x5ee6e3;localStorage[_0xda2520(0x4af)](_0xda2520(0x452)+_0xdea279[_0x72a814],_0xda2520(0x4ac));});this[_0x116e41(0x47a)][_0x116e41(0x444)](_0x5bae73)||(this['enabledChannels'][_0x116e41(0x7b5)](_0x5bae73),localStorage[_0x116e41(0x4af)]('crewdle-sdk-logging-'+_0x5bae73,_0x116e41(0x4ac)));},this[_0x3de197(0x806)]['crewdleSDKDisableLogging']=_0x3e5cef=>{const _0xcde618=_0x3de197;if(!_0x3e5cef||_0x3e5cef===_0xdea279[_0xcde618(0x4e6)])return this['enabledChannels']=[],void Object[_0xcde618(0x6cd)](_0xdea279)['forEach'](_0x4d1038=>{const _0x503441=_0xcde618,_0x10304b=_0x4d1038;localStorage[_0x503441(0x93f)](_0x503441(0x452)+_0xdea279[_0x10304b]);});this[_0xcde618(0x47a)][_0xcde618(0x444)](_0x3e5cef)&&(this[_0xcde618(0x47a)]=this[_0xcde618(0x47a)][_0xcde618(0x5e3)](_0x5f314e=>_0x5f314e!==_0x3e5cef),localStorage[_0xcde618(0x93f)](_0xcde618(0x452)+_0x3e5cef));},this[_0x3de197(0x806)][_0x3de197(0x611)]=_0xdea279;}static[_0x37ac7d(0x507)](){const _0x218a03=_0x37ac7d;try{return _0x2a1674[_0x218a03(0x912)]||(_0x2a1674[_0x218a03(0x912)]=new _0x2a1674()),_0x2a1674[_0x218a03(0x912)];}catch(_0x327d0d){return console['error'](_0x218a03(0x68e),_0x327d0d),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x37ac7d(0x12c)](_0x23575a){const _0x2f5801=_0x37ac7d;this['vendorId']=_0x23575a,this['batchQueue']=[],this[_0x2f5801(0x1b5)]=this['createNewBatch'](),this[_0x2f5801(0x807)]&&(clearTimeout(this['batchTimeout']),this[_0x2f5801(0x807)]=void 0x0);}[_0x37ac7d(0x270)](_0x12dfe7){const _0x2fc9e9=_0x37ac7d;this[_0x2fc9e9(0x41b)]=_0x12dfe7;}[_0x37ac7d(0x484)](_0x12e136,..._0x2b7000){const _0x516136=_0x37ac7d;this[_0x516136(0x7bf)]&&this[_0x516136(0x857)](_0xdea279[_0x516136(0x2ed)],_0x516136(0xec)+_0x12e136,..._0x2b7000);}[_0x37ac7d(0x857)](_0x41cc2f,_0xa1f352,..._0x3945a5){const _0x2f97a6=_0x37ac7d;_0x46f3bd[_0x2f97a6(0x7c9)]||(this[_0x2f97a6(0x47a)][_0x2f97a6(0x444)](_0x41cc2f)&&console[_0x2f97a6(0x857)](_0x2f97a6(0x255)+_0x41cc2f+'\x27\x0a',new Date()+'\x0a',_0xa1f352,..._0x3945a5),this[_0x2f97a6(0x41b)]&&this[_0x2f97a6(0x41b)][_0x2f97a6(0x97a)](_0xa4a66c=>{const _0x2e3f67=_0x2f97a6;this[_0x2e3f67(0x26f)](_0xa4a66c)&&_0xa4a66c['getEnabledChannels']()[_0x2e3f67(0x444)](_0x41cc2f)&&_0xa4a66c[_0x2e3f67(0x857)](_0xa1f352,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x41cc2f,..._0x3945a5}});}));}[_0x37ac7d(0x3ff)](_0x4ba079,_0x304b7e,..._0x1ef639){const _0x25c681=_0x37ac7d;_0x46f3bd[_0x25c681(0x7c9)]||(this[_0x25c681(0x47a)][_0x25c681(0x444)](_0x4ba079)&&console[_0x25c681(0x857)](_0x304b7e,..._0x1ef639),this['loggingConnectors']&&this[_0x25c681(0x41b)][_0x25c681(0x97a)](_0xd36e76=>{const _0x523d00=_0x25c681;this['isInternalLoggingConnector'](_0xd36e76)&&_0xd36e76[_0x523d00(0x55e)]()[_0x523d00(0x444)](_0x4ba079)&&_0xd36e76[_0x523d00(0x857)](_0x304b7e,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x4ba079,..._0x1ef639}});}));}[_0x37ac7d(0x5c7)](_0x3eac59,_0x52cd7f){const _0x2b0b07=_0x37ac7d;if(!this['loggingConnectors'])return;const _0x911e25={'vendorId':this[_0x2b0b07(0x7f1)],..._0x52cd7f};this[_0x2b0b07(0x41b)][_0x2b0b07(0x97a)](_0x4756e9=>{const _0x1bdc5f=_0x2b0b07;_0x4756e9[_0x1bdc5f(0x857)](_0x3eac59,_0x911e25);});}[_0x37ac7d(0x43d)](_0x301f0f,_0x5a6436){const _0x5ca96d=_0x37ac7d;this[_0x5ca96d(0x8d6)](_0x301f0f,_0x5a6436),this[_0x5ca96d(0x74a)]();}['logStorage'](_0x4364c7,_0x127a5f,_0x39706a){const _0x46731b=_0x37ac7d;(0x0,_0x2c741a[_0x46731b(0x9a0)])((0x0,_0x2c741a['doc'])(_0xe4f57[_0x46731b(0x242)](),_0x46731b(0x2ad)+this[_0x46731b(0x7f1)]+'/'+_0x4364c7+'/'+_0x127a5f),{'storage':_0x39706a,'timestamp':(0x0,_0x2c741a['serverTimestamp'])()});}['logBatch'](){const _0x430a4b=_0x37ac7d;this[_0x430a4b(0x1b5)]&&(this[_0x430a4b(0x1b5)][_0x430a4b(0x8e1)]+=0x1,this['currentBatch'][_0x430a4b(0x8e1)]===this[_0x430a4b(0x57f)]?this[_0x430a4b(0x4bb)]():this[_0x430a4b(0x807)]||(this[_0x430a4b(0x807)]=this[_0x430a4b(0x806)][_0x430a4b(0x541)](()=>this[_0x430a4b(0x4bb)](),this[_0x430a4b(0x409)])));}async[_0x37ac7d(0x4bb)](){const _0x155242=_0x37ac7d;if(this[_0x155242(0x1b5)]){for(this[_0x155242(0x6b6)][_0x155242(0x7b5)](this[_0x155242(0x1b5)]),this[_0x155242(0x1b5)]=this[_0x155242(0x71c)]();this['batchQueue'][_0x155242(0x146)]>0x0;){const _0x547eb7=this[_0x155242(0x6b6)]['shift']();if(!await this['commitBatch'](_0x547eb7))break;}clearTimeout(this[_0x155242(0x807)]),this[_0x155242(0x807)]=void 0x0;}}['error'](_0x4d0a13,_0x14a719,..._0x246eb5){const _0x4744c6=_0x37ac7d;if(console[_0x4744c6(0x635)](new Date(),_0x4d0a13,_0x14a719,..._0x246eb5),this[_0x4744c6(0x41b)]){const _0xc672f9={'vendorId':this[_0x4744c6(0x7f1)],..._0x14a719};this[_0x4744c6(0x41b)][_0x4744c6(0x97a)](_0x45551f=>{const _0x25d17d=_0x4744c6;_0x45551f[_0x25d17d(0x635)](_0x4d0a13,_0xc672f9);});}}[_0x37ac7d(0x8b1)](_0x1d08ca,_0x4e4753,..._0x410168){const _0x27103f=_0x37ac7d;if(console[_0x27103f(0x4b7)](new Date(),_0x1d08ca,_0x4e4753,_0x410168),this[_0x27103f(0x41b)]){const _0x18ce9b={'vendorId':this['vendorId'],..._0x4e4753};this[_0x27103f(0x41b)]['forEach'](_0xb6c476=>{const _0x2896b3=_0x27103f;_0xb6c476[_0x2896b3(0x4b7)](_0x1d08ca,_0x18ce9b);});}}['isChannelEnabled'](_0xbb25b7){const _0x5a2171=_0x37ac7d;return this[_0x5a2171(0x47a)][_0x5a2171(0x444)](_0xbb25b7);}async[_0x37ac7d(0x909)](_0x558758,_0xd2615b=0x0){const _0x5b6d30=_0x37ac7d;if(_0x558758[_0x5b6d30(0x8e1)]>0x0)try{return await _0x558758['batch'][_0x5b6d30(0x299)](),!0x0;}catch(_0x50f11f){if(console[_0x5b6d30(0x635)](_0x5b6d30(0x6fa),_0x50f11f,_0x5b6d30(0x40c),_0x558758[_0x5b6d30(0x72a)]),!(_0xd2615b<this[_0x5b6d30(0xf8)])){const {nodeId:_0x261b4d='',nodeType:_0x2938e6='',clusterId:_0x128db1=''}=_0x558758[_0x5b6d30(0x72a)][0x0][_0x5b6d30(0x51f)],_0x122e7f={'nodeId':_0x261b4d,'nodeType':_0x2938e6,'clusterId':_0x128db1,'data':{'operations':_0x558758['operations'],'error':_0x50f11f}};return this[_0x5b6d30(0x635)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0x122e7f),!0x1;}{const _0xce9650=this[_0x5b6d30(0x23f)](_0x558758['operations']);setTimeout(()=>this[_0x5b6d30(0x909)](_0xce9650,_0xd2615b+0x1),this[_0x5b6d30(0x35e)]*Math[_0x5b6d30(0x78b)](0x2,_0xd2615b));}}}[_0x37ac7d(0x2dc)](){const _0x3462de=_0x37ac7d;try{Object[_0x3462de(0x6cd)](_0xdea279)[_0x3462de(0x97a)](_0x59d4b4=>{const _0x2e6fe9=_0x3462de,_0x2aaef8=_0x59d4b4;localStorage[_0x2e6fe9(0x8be)](_0x2e6fe9(0x452)+_0xdea279[_0x2aaef8])&&(console[_0x2e6fe9(0x857)](_0x2e6fe9(0x178),_0xdea279[_0x2aaef8]),this[_0x2e6fe9(0x47a)][_0x2e6fe9(0x7b5)](_0xdea279[_0x2aaef8]));});}catch(_0x4cdd1f){}}[_0x37ac7d(0x26f)](_0x514cba){return void 0x0!==_0x514cba['getEnabledChannels'];}['createNewBatch'](){return{'batch':(0x0,_0x2c741a['writeBatch'])(_0xe4f57['getFirestore']()),'operations':[],'counter':0x0};}['createBatch'](_0xcc7b3f){const _0xfd44c6=_0x37ac7d,_0x57bc2e=(0x0,_0x2c741a[_0xfd44c6(0x1c2)])(_0xe4f57[_0xfd44c6(0x242)]());return _0xcc7b3f[_0xfd44c6(0x97a)](_0x4c20ba=>this[_0xfd44c6(0x753)](_0x57bc2e,_0x4c20ba)),{'batch':_0x57bc2e,'operations':_0xcc7b3f,'counter':_0xcc7b3f[_0xfd44c6(0x146)]};}[_0x37ac7d(0x753)](_0xebca74,_0x311727){const _0x40f0f3=_0x37ac7d;switch(_0x311727[_0x40f0f3(0x623)]){case _0x40f0f3(0x773):_0xebca74['set'](_0x311727[_0x40f0f3(0x79d)],_0x311727[_0x40f0f3(0x51f)]);break;case _0x40f0f3(0x328):_0xebca74['update'](_0x311727[_0x40f0f3(0x79d)],_0x311727[_0x40f0f3(0x51f)]);break;case _0x40f0f3(0x6fd):_0xebca74[_0x40f0f3(0x6fd)](_0x311727[_0x40f0f3(0x79d)]);}}[_0x37ac7d(0x8d6)](_0x936248,_0x340861){const _0x104919=_0x37ac7d;this[_0x104919(0x1b5)]||(this[_0x104919(0x1b5)]=this['createNewBatch']());const _0x5bb996=(0x0,_0x2c741a[_0x104919(0x4be)])((0x0,_0x2c741a[_0x104919(0x73b)])(_0xe4f57[_0x104919(0x242)](),_0x104919(0x2ad)+this['vendorId']+'/logs')),_0x2947b5={..._0x340861,'service':_0x936248,'timestamp':(0x0,_0x2c741a[_0x104919(0x327)])()},_0x365133={'type':_0x104919(0x773),'path':_0x5bb996[_0x104919(0x2bf)],'ref':_0x5bb996,'data':_0x2947b5};return this[_0x104919(0x1b5)][_0x104919(0x72a)][_0x104919(0x7b5)](_0x365133),this['addBatchOperation'](this[_0x104919(0x1b5)][_0x104919(0x928)],_0x365133),_0x5bb996;}}const _0x52aedf=_0x2a1674[_0x37ac7d(0x507)]();function _0x5544af(_0x409802,_0x3c2211){return'/'===_0x409802?_0x409802+_0x3c2211:_0x409802+'/'+_0x3c2211;}function _0x5e736c(_0x3f7c4b){const _0x4657c8=_0x37ac7d,_0x32d77e=function(_0x119095){const _0x3b0050=a0_0xbe57;return _0x119095[_0x3b0050(0x6b5)]('/')[_0x3b0050(0x5e3)](_0x5af2f3=>_0x5af2f3[_0x3b0050(0x146)]>0x0);}(_0x3f7c4b),_0x4badb5=_0x32d77e[_0x4657c8(0x677)]()||'',_0x10c947=_0x32d77e['join']('/');return[0x0===_0x10c947[_0x4657c8(0x146)]?'/':_0x10c947,_0x4badb5];}async function _0x2aa67d(_0x1a484c){const _0x50b19f=_0x37ac7d;let _0x46382f;const _0x42841f=_0x1a484c[_0x50b19f(0x1c1)]/0x100000;_0x46382f=_0x42841f<=0xa?0x1:_0x42841f<=0x64?0.5:_0x42841f<=0x1f4?0.1:0.05;const _0x5930c2=Math[_0x50b19f(0x609)](_0x1a484c['size']/_0x1e4763),_0x531f22=Math['ceil'](_0x5930c2*_0x46382f);let _0x54e756=new Uint8Array();for(let _0x453507=0x0;_0x453507<_0x531f22;_0x453507++){const _0x41b265=Math[_0x50b19f(0x92d)](_0x453507/_0x531f22*_0x1a484c[_0x50b19f(0x1c1)]);let _0x3cd684=_0x41b265+_0x1e4763;_0x3cd684>_0x1a484c[_0x50b19f(0x1c1)]&&(_0x3cd684=_0x1a484c[_0x50b19f(0x1c1)]);const _0x28ba13=_0x1a484c[_0x50b19f(0x281)](_0x41b265,_0x3cd684),_0x4498ae=await _0x28ba13[_0x50b19f(0x8e2)](),_0x2b6cfa=new Uint8Array([..._0x54e756,...new Uint8Array(_0x4498ae)]);_0x54e756=new Uint8Array(await crypto[_0x50b19f(0x48c)][_0x50b19f(0x67e)]('SHA-256',_0x2b6cfa));}return Array[_0x50b19f(0x267)](new Uint8Array(_0x54e756))[_0x50b19f(0x8f1)](_0x486993=>_0x486993[_0x50b19f(0x6dd)](0x10)[_0x50b19f(0x27f)](0x2,'0'))['join']('');}async function*_0xc4eae0(_0x1e298a,_0x34d2ec=0x0,_0x29d903){const _0x2238e1=_0x37ac7d;let _0x55b7d6=_0x34d2ec*_0x44909b,_0x2bc381=_0x1e298a;for(;_0x55b7d6<_0x2bc381['size'];){let _0x4b1952=_0x55b7d6+_0x44909b;_0x4b1952>_0x2bc381[_0x2238e1(0x1c1)]&&(_0x4b1952=_0x2bc381['size']);let _0x656410=0x0;for(;_0x656410<0x14;)try{await _0x29d903?.();const _0x4dbb42=_0x2bc381['slice'](_0x55b7d6,_0x4b1952,'application/octet-stream'),_0x3a200e=await _0x4dbb42[_0x2238e1(0x8e2)]();yield _0x3a200e,_0x55b7d6=_0x4b1952,await new Promise(_0x256e31=>setTimeout(_0x256e31,0x0));break;}catch(_0x4c92c4){if(console['error'](_0x2238e1(0x614)+(_0x656410+0x1)+'\x20attempts:',_0x4c92c4),_0x656410++,_0x656410>0x14)throw _0x4c92c4;let _0x48b7f4=0x3e8*Math[_0x2238e1(0x78b)](0x2,_0x656410);_0x48b7f4>0x7530&&(_0x48b7f4=0x7530),await new Promise(_0x23bc1a=>setTimeout(_0x23bc1a,_0x48b7f4));}}}class _0x15db27 extends _0x2a744d{[_0x37ac7d(0x114)];[_0x37ac7d(0x629)];[_0x37ac7d(0x97f)]=new Map();[_0x37ac7d(0x187)]=0x0;[_0x37ac7d(0x6a2)]=0x0;[_0x37ac7d(0x90a)]=0x0;[_0x37ac7d(0x66a)]=0x0;constructor(_0x1a2fff,_0x13e7ad){super(_0x1a2fff,_0x13e7ad);}[_0x37ac7d(0x854)](){const _0x3cc171=_0x37ac7d;return this[_0x3cc171(0x7ee)];}['getName'](){return this['label'];}[_0x37ac7d(0x151)](){const _0x48c479=_0x37ac7d;return _0x441722['ContentType'][_0x48c479(0x5e0)];}[_0x37ac7d(0x729)](){const _0x2dabfa=_0x37ac7d;return this[_0x2dabfa(0x7ee)];}[_0x37ac7d(0x3a1)](_0x3f9019){const _0x5a56dc=_0x37ac7d;if(this[_0x5a56dc(0x114)])throw new _0x4a800a(_0x4a800a[_0x5a56dc(0x7ef)][_0x5a56dc(0x354)],{'message':_0x5a56dc(0x189)+this[_0x5a56dc(0x9c1)][_0x5a56dc(0x336)]()+_0x5a56dc(0x295)+this[_0x5a56dc(0x7ee)],'topic':this[_0x5a56dc(0x114)]});this[_0x5a56dc(0x114)]=_0x3f9019;}[_0x37ac7d(0x8b7)](_0x11b1eb){const _0x4d6010=_0x37ac7d;if(this[_0x4d6010(0x629)])throw new _0x4a800a(_0x4a800a['codes'][_0x4d6010(0x814)],{'message':_0x4d6010(0x60d)+this[_0x4d6010(0x9c1)]['getId']()+'\x20-\x20'+this[_0x4d6010(0x7ee)],'topic':this['incomingTopic']});this[_0x4d6010(0x629)]=_0x11b1eb;}[_0x37ac7d(0x3c1)](){const _0xa3b801=_0x37ac7d;delete this[_0xa3b801(0x114)];}[_0x37ac7d(0x6cc)](){delete this['incomingTopic'];}async[_0x37ac7d(0x726)](_0x7077ac,_0x42d0cb){const _0x4b3992=_0x37ac7d;if(_0x52aedf[_0x4b3992(0x857)](_0xdea279[_0x4b3992(0x32f)],_0x4b3992(0x521),this[_0x4b3992(0x9c1)][_0x4b3992(0x336)](),_0x7077ac,_0x42d0cb),this[_0x4b3992(0x187)]+=0x1,_0x7077ac instanceof File){const _0x3ff1f8=await async function(_0x1b4ef5){const _0x165561=_0x4b3992,_0x299f89=[];for await(const _0xb3c21a of _0xc4eae0(_0x1b4ef5))_0x299f89[_0x165561(0x7b5)](_0xb3c21a);return _0x299f89;}(_0x7077ac);return this[_0x4b3992(0x90a)]+=_0x3ff1f8[_0x4b3992(0x70d)]((_0x4ca853,_0x9a6a5b)=>_0x4ca853+_0x9a6a5b[_0x4b3992(0x9c4)],0x0),void _0x3ff1f8[_0x4b3992(0x97a)]((_0xa93cc4,_0x379f30)=>{const _0x3cd58d=_0x4b3992;this['outgoingTopic'][_0x3cd58d(0x10d)]({'sourceId':this[_0x3cd58d(0x9c1)]['getId'](),'destinationIds':_0x42d0cb,'propagate':!0x0,'contentType':_0x441722[_0x3cd58d(0x4bf)][_0x3cd58d(0x89b)],'content':{'name':_0x7077ac['name'],'type':_0x7077ac[_0x3cd58d(0x623)],'data':_0xa93cc4,'index':_0x379f30,'total':_0x3ff1f8[_0x3cd58d(0x146)]}});});}this[_0x4b3992(0x90a)]+=JSON['stringify'](_0x7077ac)[_0x4b3992(0x146)],this[_0x4b3992(0x114)][_0x4b3992(0x10d)]({'sourceId':this[_0x4b3992(0x9c1)][_0x4b3992(0x336)](),'destinationIds':_0x42d0cb,'propagate':!0x0,'contentType':_0x441722[_0x4b3992(0x4bf)]['Data'],'content':_0x7077ac});}[_0x37ac7d(0xd1)](_0x231627){const _0x2f67c0=_0x37ac7d;return this[_0x2f67c0(0x629)]['subscribe'](_0x1c1884=>{const _0x144339=_0x2f67c0;switch(_0x52aedf[_0x144339(0x857)](_0xdea279['DataStream'],_0x144339(0xde),this[_0x144339(0x9c1)][_0x144339(0x336)](),_0x1c1884),_0x1c1884['contentType']){case _0x441722[_0x144339(0x4bf)][_0x144339(0x5e0)]:this[_0x144339(0x6a2)]+=0x1,this[_0x144339(0x66a)]+=JSON['stringify'](_0x1c1884[_0x144339(0x8c5)])[_0x144339(0x146)],_0x231627(_0x1c1884['sourceId'],_0x1c1884['content']);break;case _0x441722[_0x144339(0x4bf)][_0x144339(0x89b)]:this[_0x144339(0x97f)][_0x144339(0x158)](_0x1c1884['content'][_0x144339(0x642)])||this[_0x144339(0x97f)][_0x144339(0x773)](_0x1c1884[_0x144339(0x8c5)][_0x144339(0x642)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x1ecb53=this[_0x144339(0x97f)]['get'](_0x1c1884[_0x144339(0x8c5)]['name']);if(_0x1ecb53[_0x144339(0x44d)]+=0x1,_0x1ecb53[_0x144339(0x66a)]+=_0x1c1884[_0x144339(0x8c5)]['data'][_0x144339(0x9c4)],_0x1ecb53[_0x144339(0x8c5)]&&(_0x1ecb53['content'][_0x1c1884['content'][_0x144339(0x5e8)]]=_0x1c1884['content'][_0x144339(0x51f)]),this[_0x144339(0x97f)][_0x144339(0x773)](_0x1c1884['content'][_0x144339(0x642)],_0x1ecb53),_0x1ecb53[_0x144339(0x44d)]+0x1<_0x1c1884['content'][_0x144339(0x239)])return;this[_0x144339(0x6a2)]+=0x1,this[_0x144339(0x66a)]+=_0x1ecb53[_0x144339(0x66a)],_0x1ecb53[_0x144339(0x8c5)]&&_0x231627(_0x1c1884[_0x144339(0x2ea)],(_0x1cf2f5=_0x1ecb53[_0x144339(0x8c5)],_0x32e0c0=_0x1c1884[_0x144339(0x8c5)][_0x144339(0x642)],_0x53f24d=_0x1c1884[_0x144339(0x8c5)]['type'],new File(_0x1cf2f5,_0x32e0c0,{'type':_0x53f24d}))),this[_0x144339(0x97f)]['delete'](_0x1c1884['content'][_0x144339(0x642)]);}var _0x1cf2f5,_0x32e0c0,_0x53f24d;});}}function _0x376fa8(){const _0x4c128f=_0x37ac7d;let _0x454ffe=[];return{'subscribe':_0x18f526=>(_0x454ffe[_0x4c128f(0x7b5)](_0x18f526),()=>{_0x454ffe=_0x454ffe['filter'](_0x47759a=>_0x47759a!==_0x18f526);}),'publish':_0x3bbb34=>{const _0x256db4=_0x4c128f;_0x454ffe[_0x256db4(0x97a)](_0x59ec3d=>_0x59ec3d(_0x3bbb34));}};}function _0x28e357(){let _0x2eab77;return{'subscribe':_0x268fa5=>(_0x2eab77=_0x268fa5,()=>{_0x2eab77=void 0x0;}),'publish':_0x51263e=>{_0x2eab77&&_0x2eab77(_0x51263e);}};}class _0x1d1812{[_0x37ac7d(0x891)];[_0x37ac7d(0x31d)];['tableObserver'];[_0x37ac7d(0x77f)]=_0x28e357();[_0x37ac7d(0x4b8)];constructor(_0x3dcaa8,_0x3c42e9,_0x170d92){const _0x3b6a96=_0x37ac7d;this['connector']=_0x3dcaa8,this['tableName']=_0x3c42e9,this[_0x3b6a96(0x6d0)]=_0x170d92;}[_0x37ac7d(0x464)](){const _0x74c2ad=_0x37ac7d;this[_0x74c2ad(0x4b8)]?.();}async[_0x37ac7d(0x7e9)](_0x1bf12f){const _0x2c9678=_0x37ac7d,_0x478574={'key':_0x1bf12f,'tableName':this[_0x2c9678(0x31d)],'action':_0x251a55[_0x2c9678(0x466)]};return this[_0x2c9678(0x6d0)][_0x2c9678(0x10d)](_0x478574),this['connector']['get'](_0x1bf12f);}async[_0x37ac7d(0x773)](_0x53d1e7,_0x2f5c4d,_0x2439ab=!0x0){const _0x152743=_0x37ac7d;this[_0x152743(0x5c4)](_0x2f5c4d);const _0xa44f26=await this[_0x152743(0x891)][_0x152743(0x7e9)](_0x53d1e7),_0x48bf9f=await this[_0x152743(0x891)][_0x152743(0x773)](_0x53d1e7,_0x2f5c4d),_0x33894c=_0xa44f26?_0x3d6182[_0x152743(0x39d)]:_0x3d6182['Add'];if(this[_0x152743(0x10d)](_0x33894c,_0x48bf9f),!_0x2439ab)return _0x48bf9f;const _0xc8b5e2={'key':_0x53d1e7,'tableName':this[_0x152743(0x31d)],'action':_0x33894c,'value':_0x48bf9f};return this['tableObserver'][_0x152743(0x10d)](_0xc8b5e2),_0x48bf9f;}async[_0x37ac7d(0x492)](_0x5b3eaf){const _0xf45595=_0x37ac7d;this['validateValue'](_0x5b3eaf);const _0xc19d8c=await this['connector'][_0xf45595(0x492)](_0x5b3eaf),_0x37ec98={'key':_0xc19d8c['id'],'tableName':this[_0xf45595(0x31d)],'action':_0x3d6182[_0xf45595(0x234)],'value':_0xc19d8c};return this[_0xf45595(0x6d0)][_0xf45595(0x10d)](_0x37ec98),this['publish'](_0x37ec98[_0xf45595(0x47b)],_0xc19d8c),_0xc19d8c;}async[_0x37ac7d(0x6fd)](_0x31f95a,_0x373b6f=!0x0){const _0x3caf3a=_0x37ac7d,_0x4949d4=await this[_0x3caf3a(0x891)][_0x3caf3a(0x7e9)](_0x31f95a);if(!_0x4949d4)return;await this[_0x3caf3a(0x891)][_0x3caf3a(0x6fd)](_0x31f95a);const _0x2b8f57=_0x3d6182[_0x3caf3a(0x5c9)];if(this[_0x3caf3a(0x10d)](_0x2b8f57,_0x4949d4),!_0x373b6f)return;const _0x1adac5={'key':_0x31f95a,'tableName':this[_0x3caf3a(0x31d)],'action':_0x2b8f57,'value':_0x4949d4};this[_0x3caf3a(0x6d0)]['publish'](_0x1adac5);}async[_0x37ac7d(0x168)](){const _0x4f72ea=_0x37ac7d,_0x9cf2ef=await this[_0x4f72ea(0x9b9)]();for(const _0x53cdf4 of _0x9cf2ef){const _0x27238b=_0x3d6182['Delete'];this[_0x4f72ea(0x10d)](_0x27238b,_0x53cdf4);const _0x2cf25f={'key':_0x53cdf4['id'],'tableName':this[_0x4f72ea(0x31d)],'action':_0x27238b,'value':_0x53cdf4};this[_0x4f72ea(0x6d0)][_0x4f72ea(0x10d)](_0x2cf25f);}return this['connector']['clear']();}async[_0x37ac7d(0x9b9)](_0x561b91){const _0x163b6d=_0x37ac7d,_0x14d3ea={'key':'','tableName':this[_0x163b6d(0x31d)],'action':_0x251a55['List']};this[_0x163b6d(0x6d0)][_0x163b6d(0x10d)](_0x14d3ea);try{_0x561b91&&(_0x561b91=_0x561b91 instanceof _0x4baab9?_0x561b91['getQuery']():_0x4baab9[_0x163b6d(0x68c)](_0x561b91)[_0x163b6d(0x924)]());}catch(_0x323595){throw new _0x3e3c93(_0x5b4e17['KeyValueDatabaseInvalidQuery'],_0x163b6d(0x5f0));}try{return await this['connector'][_0x163b6d(0x9b9)](_0x561b91);}catch(_0x3feb92){let _0x1c03ae=_0x163b6d(0x5f0);throw _0x3feb92 instanceof Error&&(_0x1c03ae=_0x3feb92[_0x163b6d(0x599)]),new _0x3e3c93(_0x5b4e17[_0x163b6d(0x689)],_0x1c03ae);}}async[_0x37ac7d(0xf6)](_0x3ef522){const _0x47e250=_0x37ac7d,_0x13ccd1={'key':'','tableName':this[_0x47e250(0x31d)],'action':_0x251a55['Count']};this[_0x47e250(0x6d0)][_0x47e250(0x10d)](_0x13ccd1);try{_0x3ef522&&(_0x3ef522=_0x3ef522 instanceof _0x4baab9?_0x3ef522[_0x47e250(0x924)]():_0x4baab9[_0x47e250(0x68c)](_0x3ef522)['getQuery']());}catch(_0x1f790b){throw new _0x3e3c93(_0x5b4e17['KeyValueDatabaseInvalidQuery'],_0x47e250(0x5f0));}try{return await this['connector'][_0x47e250(0xf6)](_0x3ef522);}catch(_0x385df0){let _0x30acd5=_0x47e250(0x5f0);throw _0x385df0 instanceof Error&&(_0x30acd5=_0x385df0['message']),new _0x3e3c93(_0x5b4e17[_0x47e250(0x689)],_0x30acd5);}}['calculateSize'](){const _0xa67164=_0x37ac7d;return this[_0xa67164(0x891)][_0xa67164(0x34b)]();}[_0x37ac7d(0x9b2)](_0x455701){const _0x470ed8=_0x37ac7d;this['listenerUnsubscriber']=this['eventListener'][_0x470ed8(0x9b2)](_0x455701);}[_0x37ac7d(0x887)](){const _0x4b6172=_0x37ac7d;this[_0x4b6172(0x4b8)]?.();}[_0x37ac7d(0x10d)](_0x1ce4ea,_0x382e61){const _0x447cff=_0x37ac7d,_0x184cdc=this[_0x447cff(0x560)](_0x1ce4ea,_0x382e61);this['eventListener'][_0x447cff(0x10d)](_0x184cdc);}['buildTableEvent'](_0x9a0a30,_0x3c791e){const _0x5ebf53=_0x37ac7d;let _0x10af94;switch(_0x9a0a30){case _0x3d6182[_0x5ebf53(0x234)]:_0x10af94=_0x5ebf53(0x492);break;case _0x3d6182[_0x5ebf53(0x39d)]:_0x10af94=_0x5ebf53(0x328);break;case _0x3d6182[_0x5ebf53(0x5c9)]:_0x10af94=_0x5ebf53(0x6fd);}return{'action':_0x10af94,'value':_0x3c791e};}['validateValue'](_0x4684bf){const _0x8d81dd=_0x37ac7d;if('object'!=typeof _0x4684bf||null===_0x4684bf)throw new _0x3e3c93(_0x5b4e17['KeyValueDatabaseInvalidValue'],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x2e1715 in _0x4684bf){const _0x2d493a=_0x4684bf[_0x2e1715];if(_0x8d81dd(0x2c3)!=typeof _0x2d493a||_0x2d493a instanceof Date){if(![_0x8d81dd(0x865),_0x8d81dd(0x701),'boolean'][_0x8d81dd(0x444)](typeof _0x2d493a))throw new _0x3e3c93(_0x5b4e17[_0x8d81dd(0x25c)],_0x8d81dd(0x9a9)+_0x2e1715+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x8d81dd(0x5c4)](_0x2d493a);}}}class _0x492d72{[_0x37ac7d(0x9d7)]=[];[_0x37ac7d(0x2a4)]=0x0;[_0x37ac7d(0xd3)]=[];[_0x37ac7d(0x8ca)]=!0x1;[_0x37ac7d(0x6d3)]=null;['rootComputationPromise']=null;['debounceLogTimeout'];[_0x37ac7d(0x96c)]=null;[_0x37ac7d(0x5c6)]=[];['debounceReadyTimeout'];[_0x37ac7d(0x622)]=Promise[_0x37ac7d(0x510)]();[_0x37ac7d(0x954)]=0x0;constructor(){}get['ready'](){const _0x1ca63a=_0x37ac7d;return this[_0x1ca63a(0x622)];}async[_0x37ac7d(0x641)](_0x26e8ff,_0x3d24f6=0x0){const _0x19e3f9=_0x37ac7d;this[_0x19e3f9(0x96c)]||(this['_ready']=new Promise(_0xcb6b7=>{this['readyResolve']=_0xcb6b7;}),this[_0x19e3f9(0x954)]=_0x3d24f6);const _0x22a3f0=Date[_0x19e3f9(0x90d)]();if(this['isComputingMMR'])return void this['transactionQueue']['push'](_0x26e8ff);this[_0x19e3f9(0x8ca)]=!0x0;let _0x3a5042={'hash':await this[_0x19e3f9(0x9ab)](_0x26e8ff),'height':0x0};const _0x44d1ef=this[_0x19e3f9(0x6ab)](_0x3a5042);this['readyPromises'][_0x19e3f9(0x7b5)](_0x44d1ef),await _0x44d1ef,this[_0x19e3f9(0x2a4)]+=0x1;const _0x27750e=this[_0x19e3f9(0xd3)][_0x19e3f9(0x146)];for(;this[_0x19e3f9(0xd3)][_0x19e3f9(0x146)]>0x0;){const _0x298fcc=this[_0x19e3f9(0xd3)]['shift']();await this[_0x19e3f9(0x641)](_0x298fcc);}this[_0x19e3f9(0x551)](),await this[_0x19e3f9(0x2fc)],this[_0x19e3f9(0x1c0)](_0x22a3f0,_0x27750e);}async[_0x37ac7d(0x411)](){const _0x49ac1f=_0x37ac7d;return await this['_ready'],this[_0x49ac1f(0x8ca)]?(this['rootComputationPromise']||(this[_0x49ac1f(0x64c)]=this['recomputeRoot']()),await this[_0x49ac1f(0x64c)]):this[_0x49ac1f(0x6d3)];}[_0x37ac7d(0x9d5)](){const _0x17a4bd=_0x37ac7d;return this[_0x17a4bd(0x9d7)]['map'](({hash:_0x1a9275,height:_0x5a22ab})=>({'hash':_0x1a9275,'height':_0x5a22ab}));}[_0x37ac7d(0x2fa)](){const _0x6eaf6f=_0x37ac7d;return this[_0x6eaf6f(0x2a4)];}[_0x37ac7d(0x55d)](_0xdb41ae){const _0x49b270=_0x37ac7d;return this['peaks']['find'](_0x3e6502=>_0x3e6502[_0x49b270(0x9ae)]===_0xdb41ae);}async[_0x37ac7d(0x5fa)](_0x270812,_0x2da273){const _0x2ad57a=_0x37ac7d;return await this[_0x2ad57a(0x792)](_0x270812+_0x2da273);}async['hashTransaction'](_0x54c3ab){const _0xf2d0c6=_0x37ac7d;return await this[_0xf2d0c6(0x792)](JSON[_0xf2d0c6(0x343)](_0x54c3ab));}[_0x37ac7d(0x617)](_0x2d30ab){const _0x56b566=_0x37ac7d,_0xbaf3aa=this['getPeaks'](),_0x1e81a6=[],_0x4a51ce=[],_0x16e62e=[];for(const _0x2822df of _0xbaf3aa){const _0x56763d=_0x2d30ab[_0x56b566(0x419)](_0x845939=>_0x845939[_0x56b566(0x9ae)]===_0x2822df[_0x56b566(0x9ae)]);_0x56763d?_0x2822df[_0x56b566(0x7c5)]!==_0x56763d[_0x56b566(0x7c5)]&&_0x1e81a6['push']({'height':_0x2822df[_0x56b566(0x9ae)],'localPeak':_0x2822df,'remotePeak':_0x56763d}):_0x4a51ce[_0x56b566(0x7b5)](_0x2822df);}for(const _0x575b67 of _0x2d30ab)_0xbaf3aa['find'](_0x112b0b=>_0x112b0b[_0x56b566(0x9ae)]===_0x575b67[_0x56b566(0x9ae)])||_0x16e62e[_0x56b566(0x7b5)](_0x575b67);return{'differingPeaks':_0x1e81a6,'peaksMissingInRemote':_0x4a51ce,'peaksMissingInLocal':_0x16e62e};}async[_0x37ac7d(0x387)](){const _0x2728aa=_0x37ac7d;this[_0x2728aa(0x8ca)]=!0x0;const _0x3fd315=this['peaks'][_0x2728aa(0x8f1)](_0x125a02=>_0x125a02[_0x2728aa(0x7c5)]);return this[_0x2728aa(0x6d3)]=await this[_0x2728aa(0x853)](_0x3fd315),this[_0x2728aa(0x8ca)]=!0x1,this[_0x2728aa(0x64c)]=null,this[_0x2728aa(0x551)](),this['cachedRoot'];}async[_0x37ac7d(0x792)](_0x39afb0){const _0x371a79=_0x37ac7d;try{const _0x50ad22=new TextEncoder()[_0x371a79(0x68a)](_0x39afb0),_0x265d68=await crypto[_0x371a79(0x48c)][_0x371a79(0x67e)](_0x371a79(0x3ed),_0x50ad22);return Array[_0x371a79(0x267)](new Uint8Array(_0x265d68))[_0x371a79(0x8f1)](_0xd48823=>_0xd48823[_0x371a79(0x6dd)](0x10)[_0x371a79(0x27f)](0x2,'0'))['join']('');}catch(_0x586101){return console[_0x371a79(0x635)](_0x371a79(0x6bd),_0x586101),this['computeHash'](_0x39afb0);}}async[_0x37ac7d(0x853)](_0x79cd0a){const _0x24d720=_0x37ac7d;return await this[_0x24d720(0x792)](_0x79cd0a[_0x24d720(0x751)](''));}async[_0x37ac7d(0x6ab)](_0x92a502){const _0x1fd6bb=_0x37ac7d;for(;this[_0x1fd6bb(0x9d7)][_0x1fd6bb(0x146)]>0x0&&this[_0x1fd6bb(0x9d7)][this[_0x1fd6bb(0x9d7)]['length']-0x1]['height']===_0x92a502[_0x1fd6bb(0x9ae)];){const _0x23e57b=this[_0x1fd6bb(0x9d7)]['pop']();_0x92a502={'hash':await this['hashNodes'](_0x23e57b[_0x1fd6bb(0x7c5)],_0x92a502['hash']),'left':_0x23e57b,'right':_0x92a502,'height':_0x92a502[_0x1fd6bb(0x9ae)]+0x1};}this[_0x1fd6bb(0x9d7)][_0x1fd6bb(0x7b5)](_0x92a502),await this[_0x1fd6bb(0x387)]();}['debounceAppendLog'](_0x5278b3,_0x206b70){const _0x3a5a3c=_0x37ac7d;if(!_0x52aedf[_0x3a5a3c(0x7b3)](_0xdea279['KeyValueDatabase']))return;this[_0x3a5a3c(0x3e6)]&&clearTimeout(this['debounceLogTimeout']);const _0x44ee76=Date[_0x3a5a3c(0x90d)]();this[_0x3a5a3c(0x3e6)]=setTimeout(()=>_0x52aedf[_0x3a5a3c(0x857)](_0xdea279['KeyValueDatabase'],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this[_0x3a5a3c(0x6d3)],_0x3a5a3c(0x639),this[_0x3a5a3c(0x2fa)](),_0x3a5a3c(0x361),_0x206b70,_0x3a5a3c(0x430),_0x44ee76-_0x5278b3),0x7d0);}[_0x37ac7d(0x551)](){const _0x1c7362=_0x37ac7d;this['debounceReadyTimeout']&&clearTimeout(this[_0x1c7362(0x659)]),this[_0x1c7362(0x659)]=setTimeout(async()=>{const _0x5f0b0a=_0x1c7362;try{const _0x3579fe=this[_0x5f0b0a(0x5c6)];if(this[_0x5f0b0a(0x5c6)]=[],await Promise[_0x5f0b0a(0x533)](_0x3579fe),this[_0x5f0b0a(0x954)]-=_0x3579fe[_0x5f0b0a(0x146)],this[_0x5f0b0a(0x5c6)]['length']>0x0||this[_0x5f0b0a(0x954)]>0x0)return this[_0x5f0b0a(0x551)]();this[_0x5f0b0a(0x96c)]&&(this[_0x5f0b0a(0x96c)](),this[_0x5f0b0a(0x96c)]=null),this['_ready']=Promise['resolve'](),this[_0x5f0b0a(0x8ca)]=!0x1;}catch(_0x5709a1){console[_0x5f0b0a(0x635)](_0x5f0b0a(0x4ff),_0x5709a1);}},0xa);}}const _0x5c16b8=[_0x37ac7d(0x5c2),_0x37ac7d(0x4a7),_0x37ac7d(0x3a0),_0x37ac7d(0x559),_0x37ac7d(0x861),_0x37ac7d(0x2f9),_0x37ac7d(0x5cf)],_0x2e7f3b=[['Offer',_0x37ac7d(0x5b2),'Handshake',_0x37ac7d(0x375),'NeedRestart',_0x37ac7d(0x24e),_0x37ac7d(0x1a5),_0x37ac7d(0x861),'OptimizationConnectionSuccess'],['NodeJoin',_0x37ac7d(0x150),_0x37ac7d(0x7f6),_0x37ac7d(0x819)],[_0x37ac7d(0x1ee),_0x37ac7d(0x4a5),_0x37ac7d(0x93b),_0x37ac7d(0x8a6),_0x37ac7d(0x63a),_0x37ac7d(0x13e),_0x37ac7d(0x378),_0x37ac7d(0x6c8),_0x37ac7d(0x4fa),_0x37ac7d(0x12e),_0x37ac7d(0x33b),_0x37ac7d(0x6e6),_0x37ac7d(0x88e),'KeyValueDatabaseContentAvailable','KeyValueDatabaseContentSynchronized',_0x37ac7d(0x50d),_0x37ac7d(0x3dd),_0x37ac7d(0x42b),_0x37ac7d(0x7c0),'KeyValueDatabaseSyncRequired',_0x37ac7d(0x6ba),_0x37ac7d(0x385),_0x37ac7d(0x8af),_0x37ac7d(0x15b),'RemoteMediaStreamTrackFail',_0x37ac7d(0x5b3),'UnpublishMediaStream',_0x37ac7d(0x6b4),_0x37ac7d(0x794),_0x37ac7d(0x936)],[_0x37ac7d(0x5b3),_0x37ac7d(0x794),'UnsubscribeMediaStreamdiaStream',_0x37ac7d(0x7ed),_0x37ac7d(0x12b),_0x37ac7d(0x4cf)],['StreamReport',_0x37ac7d(0x592)],[_0x37ac7d(0x725)],['Remediation','RemoteRemediation']];function _0xd536aa(_0x5efb73){const _0x55de56=_0x37ac7d;return{..._0x5efb73,'systemMessageType':_0x5c16b8[_0x5efb73[_0x55de56(0x473)]],'systemContentMessageType':_0x2e7f3b[_0x5efb73[_0x55de56(0x473)]][_0x5efb73[_0x55de56(0x8c5)][_0x55de56(0x623)]]};}const _0xdc6d24={'hour':_0x37ac7d(0x535),'minute':_0x37ac7d(0x535),'second':'2-digit'};function _0xd792fc(_0x4fee53,_0x4abf67){const _0x4cfe05=_0x37ac7d,_0x1bec80=(function(){const _0x33ef5e=a0_0xbe57,_0x3df6c4=new Date(),_0x4a4c39=_0x3df6c4[_0x33ef5e(0x982)](),_0x2974d3=_0x3df6c4[_0x33ef5e(0x5d1)](_0x33ef5e(0x839),_0xdc6d24)[_0x33ef5e(0x47f)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x2974d3+'.'+(_0x4a4c39>0x64?''+_0x4a4c39:_0x4a4c39>0xa?'0'+_0x4a4c39:'00'+_0x4a4c39);}()),{sourceId:_0x2703eb,destinationIds:_0xb85f86,systemMessageType:_0x21745c,systemContentMessageType:_0x50c3ff}=_0xd536aa(_0x4fee53);return _0x1bec80+_0x4cfe05(0x295)+_0x4abf67+_0x4cfe05(0x295)+(_0x2703eb===_0x4abf67?'Sending\x20\x27'+_0x21745c+_0x4cfe05(0x2c2)+(_0xb85f86?''+_0xb85f86:'everyone'):_0x4fee53['sourceId']===_0x19393c?_0x4cfe05(0x2db)+_0x21745c+'\x27':(_0xb85f86?'':_0x4cfe05(0x2f7))+_0x4cfe05(0x62b)+_0x21745c+_0x4cfe05(0x993)+_0x2703eb)+'\x20with\x20\x27'+_0x50c3ff+_0x4cfe05(0x81e);}function _0x1f0744(_0x221829,_0x203e82){const _0x15fb25=_0x37ac7d;if(!_0x52aedf[_0x15fb25(0x7b3)](_0x221829))return;if(_0x46f3bd[_0x15fb25(0x7c9)])return;if(_0x15fb25(0x798)==typeof process)return;const _0x1ca3cf=process[_0x15fb25(0x8a8)]();console[_0x15fb25(0x857)](_0x15fb25(0x30a)+_0x203e82+':');for(const _0x2d5518 in _0x1ca3cf)console[_0x15fb25(0x857)]('\x20\x20'+_0x2d5518+':\x20'+(_0x1ca3cf[_0x2d5518]/0x400/0x400)['toFixed'](0x2)+_0x15fb25(0x99f));}function _0x4e5110(_0x159891,_0xfbe0ad){const _0x328187=_0x37ac7d;if(!_0x52aedf[_0x328187(0x7b3)](_0xfbe0ad))return _0x52aedf[_0x328187(0x484)](_0x328187(0x179)+_0xfbe0ad),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x4da9ee,_0x2d3e7a)=>_0x2d3e7a}};let _0x54119a=0x0;return{'timingLogger':((()=>{const _0x38add4=_0x328187;let _0x2f4619=Date[_0x38add4(0x90d)]();return{'start':()=>{_0x2f4619=Date['now']();},'now':()=>Date[_0x38add4(0x90d)](),'logWaitTime':_0xda99b9=>{const _0x464228=_0x38add4;_0x54119a+=Date[_0x464228(0x90d)]()-_0x2f4619,_0x52aedf[_0x464228(0x857)](_0xfbe0ad,_0xda99b9,_0x54119a+'ms',_0x159891);}};})()),'logger':{'log':(_0x3e6ec8,_0x32f686=()=>{})=>{const _0x557434=_0x328187,_0x4cc436=_0x32f686();_0x4cc436?_0x52aedf['log'](_0xfbe0ad,_0x3e6ec8,_0x4cc436,_0x159891):_0x52aedf[_0x557434(0x857)](_0xfbe0ad,_0x3e6ec8,_0x159891);},'performCalculation':(_0x4efeec,_0x244382)=>_0x4efeec()}};}function _0x46b44c(_0x1be130){const _0x5befed=_0x37ac7d;return _0x5befed(0x798)==typeof Buffer?0x0:Buffer[_0x5befed(0x9c4)](JSON[_0x5befed(0x343)](_0x1be130),_0x5befed(0xf7));}function _0xb8786c(_0x2649df){const _0x75e84b=_0x37ac7d;if(0x0===_0x2649df)return _0x75e84b(0x5c0);const _0x2ae847=Math['floor'](Math['log'](_0x2649df)/Math[_0x75e84b(0x857)](0x400));return parseFloat((_0x2649df/Math[_0x75e84b(0x78b)](0x400,_0x2ae847))['toFixed'](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x2ae847];}class _0x4f7cc4 extends _0x15db27{[_0x37ac7d(0x116)];['clusterId'];['vendorId'];[_0x37ac7d(0x6e3)];['db'];['dbKey'];[_0x37ac7d(0x90c)]=new Map();[_0x37ac7d(0x6d0)];[_0x37ac7d(0x380)];['tableUnsubscriber'];[_0x37ac7d(0x14d)];[_0x37ac7d(0x966)];[_0x37ac7d(0x222)]=[];['timeoutCallback']=()=>{};['syncTimeout'];[_0x37ac7d(0x77f)]=_0x28e357();[_0x37ac7d(0x4b8)];[_0x37ac7d(0x127)]=[];[_0x37ac7d(0x7bd)];[_0x37ac7d(0x7d3)];[_0x37ac7d(0x6e7)]=0x0;[_0x37ac7d(0x5c5)]=0x0;['contentRequestSent']=!0x1;['mmr']=new _0x492d72();[_0x37ac7d(0x2e9)]=new Map();[_0x37ac7d(0x412)]=[];['debounceRebuildMMR'];[_0x37ac7d(0xf0)]=[];[_0x37ac7d(0x3c9)];constructor(_0x471231,_0x567b3e,_0x49f4fc,_0x1b430e,_0x16bfbc,_0x1c86c2,_0x1d814c){const _0x40b0b5=_0x37ac7d;if(_0x40b0b5(0x865)!=typeof _0x567b3e)throw new _0x3e3c93(_0x5b4e17[_0x40b0b5(0x59f)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x471231,_0x567b3e),this[_0x40b0b5(0x116)]=_0x471231,this[_0x40b0b5(0x6b0)]=_0x49f4fc,this[_0x40b0b5(0x7f1)]=_0x1b430e,this['isNodeReady']=_0x1d814c,this[_0x40b0b5(0x9c9)]=_0x40b0b5(0x3dc)+this[_0x40b0b5(0x7f1)]+'ccc'+this[_0x40b0b5(0x6b0)]+_0x40b0b5(0x3dc)+this[_0x40b0b5(0x7ee)],this[_0x40b0b5(0x6d0)]=_0x28e357(),this[_0x40b0b5(0x3c9)]=function(_0xf88146,_0x4f54e7){const _0x4eb78c=_0x40b0b5;if(!_0x52aedf['isChannelEnabled'](_0x4f54e7))return _0x52aedf[_0x4eb78c(0x484)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x4f54e7),{..._0x4e5110(_0xf88146,_0x4f54e7),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x4eb78c(0x5c0),'dataReceived':_0x4eb78c(0x5c0)})};const {timingLogger:_0xad80d7,logger:_0x14246b}=_0x4e5110(_0xf88146,_0x4f54e7);let _0x293dcd=0x0,_0x37e65b=0x0;return{'timingLogger':_0xad80d7,'logger':_0x14246b,'logDataSent':(_0x102d2f,_0xf1e2ef=!0x1)=>{const _0x719921=_0x4eb78c,_0x4180c1=_0x46b44c(_0x102d2f);return _0xf1e2ef&&_0x52aedf[_0x719921(0x857)](_0x4f54e7,'Data\x20Sent',_0xf88146,_0x4180c1),_0x293dcd+=_0x4180c1,_0x4180c1;},'logDataReceived':(_0x1844c7,_0x3ac375=!0x1)=>{const _0x2bf36e=_0x4eb78c,_0x2334b4=_0x46b44c(_0x1844c7);return _0x3ac375&&_0x52aedf[_0x2bf36e(0x857)](_0x4f54e7,_0x2bf36e(0x630),_0xf88146,_0x2334b4),_0x37e65b+=_0x2334b4,_0x2334b4;},'getDataLogged':()=>({'dataSent':_0xb8786c(_0x293dcd),'dataReceived':_0xb8786c(_0x37e65b)})};}(this[_0x40b0b5(0x7ee)],_0xdea279[_0x40b0b5(0x2df)]),this[_0x40b0b5(0x14d)]=new Promise(_0x3c1c70=>{this['syncResolve']=_0x3c1c70;}),_0x16bfbc instanceof _0x40f972)this[_0x40b0b5(0x7bd)]=_0x16bfbc[_0x40b0b5(0x204)]();else{const [_0x29a5b7,_0x2e958e]=_0x40f972[_0x40b0b5(0x7db)](_0x16bfbc);if(!_0x29a5b7)throw new _0x3e3c93(_0x5b4e17['KeyValueDatabaseInvalidLayout'],'Invalid\x20layout:\x20'+_0x2e958e);this[_0x40b0b5(0x7bd)]=structuredClone(_0x16bfbc);}this[_0x40b0b5(0x76f)](this[_0x40b0b5(0x7bd)]),this['db']=new _0x1c86c2(this[_0x40b0b5(0x9c9)],this['layout']),this[_0x40b0b5(0x4ed)]();}async[_0x37ac7d(0x84b)](_0x1f96cf,_0x55a307){const _0x128522=_0x37ac7d;if(_0x52aedf[_0x128522(0x857)](_0xdea279[_0x128522(0x2df)],_0x128522(0x9da),this[_0x128522(0x7ee)]),!this[_0x128522(0x380)])throw new _0x4a800a(_0x4a800a[_0x128522(0x7ef)][_0x128522(0x702)]);if(await this[_0x128522(0x14d)],await this[_0x128522(0x6e3)](_0x1f96cf),await this[_0x128522(0x48e)][_0x128522(0x411)]()===_0x55a307){const _0x1dac0c={'sourceId':this[_0x128522(0x116)][_0x128522(0x336)](),'destinationIds':[_0x1f96cf],'propagate':!0x0,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2[_0x128522(0x131)],'label':this[_0x128522(0x7ee)],'mmrRoot':_0x55a307}};return this['loggingCycle'][_0x128522(0x1f2)](_0x1dac0c),void this[_0x128522(0x1b1)]['publish'](_0x1dac0c);}const _0x535cb2=this[_0x128522(0x48e)]['getPeaks'](),_0x123d70={'sourceId':this[_0x128522(0x116)][_0x128522(0x336)](),'destinationIds':[_0x1f96cf],'propagate':!0x0,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2[_0x128522(0x243)],'label':this[_0x128522(0x7ee)],'peaks':_0x535cb2}};this['loggingCycle'][_0x128522(0x1f2)](_0x123d70),this['systemTopic'][_0x128522(0x10d)](_0x123d70);}async[_0x37ac7d(0x788)](_0x203f92,_0x3801df){const _0x469576=_0x37ac7d,_0x4fd83f=await this[_0x469576(0x48e)]['getRoot'](),_0x23d084=_0x4fd83f===_0x3801df;if(_0x52aedf[_0x469576(0x857)](_0xdea279[_0x469576(0x2df)],_0x469576(0x1b3)+_0x203f92+'.\x20Confirmation?\x20'+_0x23d084,this[_0x469576(0x7ee)]),_0x23d084)return this['clearSyncTimeout'](),void this['publishSyncCompleted']();_0x52aedf[_0x469576(0x857)](_0xdea279[_0x469576(0x2df)],_0x469576(0x489),_0x4fd83f,_0x3801df),_0x52aedf[_0x469576(0x8b1)](_0x469576(0x489),{'nodeId':this['localNode'][_0x469576(0x336)](),'nodeType':this[_0x469576(0x116)][_0x469576(0x623)],'remoteId':_0x203f92,'data':{'localMMRRoot':_0x4fd83f,'remoteMMRRoot':_0x3801df}});const _0x2d0d08={'sourceId':this[_0x469576(0x116)][_0x469576(0x336)](),'messageType':_0x403b04['Content'],'propagate':!0x0,'content':{'type':_0x3b90a2[_0x469576(0x60e)],'label':this[_0x469576(0x7ee)],'mmrRoot':_0x4fd83f}};this['systemTopic'][_0x469576(0x10d)](_0x2d0d08);}async[_0x37ac7d(0x5eb)](_0x21b7ce,_0x95e539){const _0x5e1112=_0x37ac7d;if(_0x52aedf[_0x5e1112(0x857)](_0xdea279[_0x5e1112(0x2df)],_0x5e1112(0x45f),_0x21b7ce,'label',this['label'],_0x5e1112(0x9d7),_0x95e539),this[_0x5e1112(0x651)])return;this[_0x5e1112(0x651)]=!0x0,this[_0x5e1112(0x7cd)]();const {differingPeaks:_0x4d115b,peaksMissingInLocal:_0x3fcc2a,peaksMissingInRemote:_0x11e529}=this['mmr'][_0x5e1112(0x617)](_0x95e539);_0x52aedf['log'](_0xdea279[_0x5e1112(0x2df)],_0x5e1112(0x1a1),{'differingPeaks':_0x4d115b,'peaksMissingInLocal':_0x3fcc2a,'peaksMissingInRemote':_0x11e529});const _0x59c3cb={'sourceId':this[_0x5e1112(0x116)][_0x5e1112(0x336)](),'destinationIds':[_0x21b7ce],'propagate':!0x0,'messageType':_0x403b04[_0x5e1112(0x3a0)],'content':{'type':_0x3b90a2['KeyValueDatabaseRequestPeakTransactions'],'label':this[_0x5e1112(0x7ee)],'peakHeights':_0x3fcc2a[_0x5e1112(0x8f1)](_0x3184fe=>_0x3184fe[_0x5e1112(0x9ae)])[_0x5e1112(0x8ff)](_0x4d115b[_0x5e1112(0x8f1)](_0x4322e6=>_0x4322e6['height']))}};if(this[_0x5e1112(0x1b1)][_0x5e1112(0x10d)](_0x59c3cb),_0x4d115b[_0x5e1112(0x146)]>0x0||_0x11e529['length']>0x0){const _0x474d12=_0x11e529[_0x5e1112(0x8f1)](_0x54b1cb=>_0x54b1cb['height'])[_0x5e1112(0x8ff)](_0x4d115b[_0x5e1112(0x8f1)](_0x27ecb5=>_0x27ecb5[_0x5e1112(0x9ae)]));await this[_0x5e1112(0xcd)](_0x21b7ce,_0x474d12,!0x0);}}async[_0x37ac7d(0xcd)](_0x73f093,_0x45d85a,_0x373ad4=!0x1){const _0x51b822=_0x37ac7d;_0x52aedf[_0x51b822(0x857)](_0xdea279[_0x51b822(0x2df)],_0x51b822(0x21e),this[_0x51b822(0x7ee)]);const _0x154c8f=_0x45d85a[_0x51b822(0x8f1)](_0x33c5cd=>this[_0x51b822(0x48e)][_0x51b822(0x55d)](_0x33c5cd))[_0x51b822(0x5e3)](Boolean);if(!_0x154c8f[_0x51b822(0x146)]||_0x45d85a['length']!==_0x154c8f[_0x51b822(0x146)])throw new _0x4a800a(_0x4a800a['codes'][_0x51b822(0x218)],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x45d85a,'peaks':_0x154c8f[_0x51b822(0x8f1)](_0x183bd5=>_0x183bd5['height']),'nodeId':_0x73f093});const _0x1ff364=[];for(const _0x28f160 of _0x154c8f)this['collectTransactionsFromNode'](_0x28f160,_0x1ff364);const _0x45400e=_0x373ad4?void 0x0:[_0x73f093],_0x103521={'sourceId':this['localNode']['getId'](),'destinationIds':_0x45400e,'messageType':_0x403b04[_0x51b822(0x3a0)],'propagate':!0x0,'content':{'type':_0x3b90a2[_0x51b822(0x42b)],'label':this['label'],'transactions':_0x1ff364}};this[_0x51b822(0x3c9)][_0x51b822(0x1f2)](_0x103521),this['systemTopic'][_0x51b822(0x10d)](_0x103521);}async[_0x37ac7d(0x649)](_0x4c96a5,_0x14368a){const _0x6a8a00=_0x37ac7d;_0x52aedf[_0x6a8a00(0x857)](_0xdea279[_0x6a8a00(0x2df)],'Received\x20'+_0x14368a[_0x6a8a00(0x146)]+_0x6a8a00(0x72d)+_0x4c96a5+_0x6a8a00(0x295)+this['label']);for(const _0x12f416 of _0x14368a){const _0x5deb83=await this['transactionTable'][_0x6a8a00(0x7e9)](_0x12f416['id']);if(!(_0x5deb83&&this['compareTransactions'](_0x5deb83,_0x12f416)>=0x0)){if(_0x12f416[_0x6a8a00(0x47b)]===_0x3d6182[_0x6a8a00(0x5c9)]){const [_0x338ca0,_0x5c5aa7]=_0x12f416['id'][_0x6a8a00(0x6b5)]('::'),_0x4799d7=this[_0x6a8a00(0x568)](_0x338ca0);await _0x4799d7[_0x6a8a00(0x6fd)](_0x5c5aa7);}else this[_0x6a8a00(0x222)][_0x6a8a00(0x7b5)](_0x12f416['id']);}}if(_0x52aedf[_0x6a8a00(0x857)](_0xdea279[_0x6a8a00(0x2df)],_0x6a8a00(0x18f)+this[_0x6a8a00(0x222)]['length']+'\x20new\x20transactions',this[_0x6a8a00(0x7ee)]),this[_0x6a8a00(0x222)][_0x6a8a00(0x146)]>0x0){const _0x2a210d={'sourceId':this[_0x6a8a00(0x116)][_0x6a8a00(0x336)](),'destinationIds':[_0x4c96a5],'messageType':_0x403b04[_0x6a8a00(0x3a0)],'propagate':!0x0,'content':{'type':_0x3b90a2[_0x6a8a00(0x3dd)],'label':this[_0x6a8a00(0x7ee)],'transactionIds':this[_0x6a8a00(0x222)]}};this[_0x6a8a00(0x3c9)][_0x6a8a00(0x1f2)](_0x2a210d),this[_0x6a8a00(0x1b1)][_0x6a8a00(0x10d)](_0x2a210d);}}[_0x37ac7d(0x44e)](){const _0x28b67d=_0x37ac7d;this[_0x28b67d(0x4ed)]();}[_0x37ac7d(0x151)](){return _0x441722['ContentType']['KeyValueDatabase'];}[_0x37ac7d(0x464)](){const _0x177094=_0x37ac7d;this['db']['close'](),this['tableUnsubscriber']?.(),clearTimeout(this['debounceStats']),delete this[_0x177094(0x7d3)],super[_0x177094(0x464)]();}[_0x37ac7d(0x91a)](){const _0x367386=_0x37ac7d;this['clearSyncTimeout'](),this[_0x367386(0x1b1)]['publish']({'sourceId':_0x19393c,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2[_0x367386(0x63a)],'label':this[_0x367386(0x7ee)]}});}[_0x37ac7d(0x568)](_0x4c3e2f){const _0x502eee=_0x37ac7d,_0x252bbb=this[_0x502eee(0x90c)][_0x502eee(0x7e9)](_0x4c3e2f);if(_0x252bbb)return _0x252bbb;try{if(!this['db']['hasTable'](_0x4c3e2f))throw new _0x3e3c93(_0x5b4e17[_0x502eee(0x156)],_0x502eee(0x562));const _0x61122c=new _0x1d1812(this['db'][_0x502eee(0x134)](_0x4c3e2f),_0x4c3e2f,this[_0x502eee(0x6d0)]);return this[_0x502eee(0x90c)][_0x502eee(0x773)](_0x4c3e2f,_0x61122c),{'get':_0x61122c['get']['bind'](_0x61122c),'set':_0x61122c[_0x502eee(0x773)][_0x502eee(0x5d9)](_0x61122c),'add':_0x61122c['add'][_0x502eee(0x5d9)](_0x61122c),'delete':_0x61122c[_0x502eee(0x6fd)]['bind'](_0x61122c),'clear':_0x61122c[_0x502eee(0x168)][_0x502eee(0x5d9)](_0x61122c),'list':_0x61122c['list'][_0x502eee(0x5d9)](_0x61122c),'count':_0x61122c[_0x502eee(0xf6)]['bind'](_0x61122c),'subscribe':_0x61122c[_0x502eee(0x9b2)][_0x502eee(0x5d9)](_0x61122c),'unsubscribe':_0x61122c[_0x502eee(0x887)][_0x502eee(0x5d9)](_0x61122c)};}catch(_0x1f75fb){if(_0x1f75fb instanceof _0x3e3c93)throw _0x1f75fb;throw new _0x3e3c93(_0x5b4e17[_0x502eee(0x55f)],'Database\x20not\x20open');}}[_0x37ac7d(0x9b2)](_0x15fbec){const _0x5afe38=_0x37ac7d;this[_0x5afe38(0x4b8)]=this[_0x5afe38(0x77f)]['subscribe'](_0x15fbec),this['isPromiseResolved'](this[_0x5afe38(0x14d)])['then'](_0xfdeb77=>{const _0x5d323f=_0x5afe38;_0xfdeb77&&this[_0x5d323f(0x77f)][_0x5d323f(0x10d)]({'event':_0x441722[_0x5d323f(0x884)][_0x5d323f(0x6de)]});});}[_0x37ac7d(0x887)](){const _0x280c92=_0x37ac7d;this['listenerUnsubscriber']?.(),this[_0x280c92(0x4b8)]=void 0x0;}async[_0x37ac7d(0x211)](){const _0x51c484=_0x37ac7d;_0x1f0744(_0xdea279[_0x51c484(0x2df)],'Database\x20Opened');const _0x4eb641=[_0x38eda0,_0x68c75c],_0x1a8756=[];try{await this['db'][_0x51c484(0x211)]();const _0x1f8f66=this['db'][_0x51c484(0x134)](_0x68c75c),_0x476c38=await _0x1f8f66[_0x51c484(0x9b9)](),{id:_0x11408f,layout:_0x259c28}=_0x476c38[0x0]??{};if(_0x259c28){for(const _0x248ccc in _0x259c28)_0x4eb641[_0x51c484(0x444)](_0x248ccc)||this['db'][_0x51c484(0x8c4)](_0x248ccc)||_0x1a8756['push'](_0x248ccc);await _0x1f8f66[_0x51c484(0x773)](_0x11408f,{'layout':this['layout']});}else await _0x1f8f66[_0x51c484(0x492)]({'layout':this['layout']});}catch(_0xfe6418){throw new _0x3e3c93(_0x5b4e17[_0x51c484(0x55f)],_0xfe6418[_0x51c484(0x599)]||'Error\x20encountered\x20while\x20opening\x20database');}this['instantiateTransactionTable'](),await this[_0x51c484(0x9bf)](),this[_0x51c484(0x48a)](),this[_0x51c484(0x2e0)](),_0x1a8756[_0x51c484(0x97a)](_0x36370e=>this['deleteTransactionsForTable'](_0x36370e));}async[_0x37ac7d(0x83c)](_0x73ed44,_0x329437=()=>{},_0x179137=!0x1){const _0x1dc422=_0x37ac7d;if(!_0x73ed44)return setTimeout(()=>{const _0x2fe2e5=a0_0xbe57;this[_0x2fe2e5(0x7cd)](),this['publishSyncCompleted']();},0x0),!0x0;if(this[_0x1dc422(0x651)]=!0x1,this[_0x1dc422(0x28a)]=_0x329437,this[_0x1dc422(0x17e)]=setTimeout(_0x329437,0x7d0),!this[_0x1dc422(0x1b1)])throw new _0x4a800a(_0x4a800a[_0x1dc422(0x7ef)][_0x1dc422(0x8f0)]);const _0x3ec968=await this['mmr'][_0x1dc422(0x411)](),_0x3388a2={'sourceId':this[_0x1dc422(0x116)]['getId'](),'messageType':_0x403b04[_0x1dc422(0x3a0)],'propagate':_0x179137,'content':{'type':_0x3b90a2[_0x1dc422(0x60e)],'label':this['label'],'mmrRoot':_0x3ec968}};return this[_0x1dc422(0x3c9)][_0x1dc422(0x1f2)](_0x3388a2),this[_0x1dc422(0x1b1)][_0x1dc422(0x10d)](_0x3388a2),this[_0x1dc422(0x14d)];}async[_0x37ac7d(0x6af)](_0x815172,_0xf3fd5c){const _0x119a4d=_0x37ac7d;if(_0x52aedf[_0x119a4d(0x857)](_0xdea279['KeyValueDatabase'],'Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20'+_0xf3fd5c['length'],this[_0x119a4d(0x7ee)]),!this[_0x119a4d(0x380)])throw new _0x4a800a(_0x4a800a[_0x119a4d(0x7ef)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x5afbcf of _0xf3fd5c){const _0x57af97=await this['transactionTable']['get'](_0x5afbcf);if(!_0x57af97)continue;const [_0x33a9d1,_0x466b75]=_0x5afbcf['split']('::'),_0x4fbcf8=this[_0x119a4d(0x568)](_0x33a9d1),_0x488d7c=await _0x4fbcf8[_0x119a4d(0x7e9)](_0x466b75);_0x488d7c?(_0x57af97[_0x119a4d(0x470)]=_0x488d7c,this['send'](_0x57af97,[_0x815172])):_0x52aedf[_0x119a4d(0x8b1)](_0x119a4d(0x7ac),{'nodeId':this[_0x119a4d(0x116)][_0x119a4d(0x336)](),'nodeType':this[_0x119a4d(0x116)][_0x119a4d(0x623)],'remoteId':_0x815172,'data':{'tableKeys':Object[_0x119a4d(0x6cd)](this[_0x119a4d(0x90c)]),'transactionId':_0x5afbcf,'transactions':this['transactionsToSync'],'tableName':_0x33a9d1,'key':_0x466b75}});}}async[_0x37ac7d(0x63b)](_0x46e899){const _0xc1c99=_0x37ac7d;if(!this[_0xc1c99(0x380)])throw new _0x4a800a(_0x4a800a[_0xc1c99(0x7ef)][_0xc1c99(0x702)]);const _0x538f20=await this[_0xc1c99(0x48e)][_0xc1c99(0x9ab)](_0x46e899),_0x4285f4=this['transactionHashMap'][_0xc1c99(0x7e9)](_0x538f20);if(_0x4285f4&&this[_0xc1c99(0x2b3)](_0x46e899,_0x4285f4)<=0x0)return void _0x52aedf[_0xc1c99(0x857)](_0xdea279[_0xc1c99(0x2df)],_0xc1c99(0x44c),_0x46e899);const _0x59e47f={..._0x46e899};return delete _0x59e47f[_0xc1c99(0x470)],this[_0xc1c99(0x22b)](_0x59e47f),await this[_0xc1c99(0x380)][_0xc1c99(0x773)](_0x46e899['id'],_0x59e47f),_0x46e899;}[_0x37ac7d(0x2b3)](_0x4e14be,_0x3a898e){const _0x4f2fd8=_0x37ac7d;return _0x4e14be[_0x4f2fd8(0x26a)]!==_0x3a898e[_0x4f2fd8(0x26a)]?_0x4e14be[_0x4f2fd8(0x26a)]-_0x3a898e[_0x4f2fd8(0x26a)]:_0x4e14be[_0x4f2fd8(0x3fe)]-_0x3a898e[_0x4f2fd8(0x3fe)];}async[_0x37ac7d(0x10b)](_0x2ffa6c){const _0x545cbf=_0x37ac7d;if(!this[_0x545cbf(0x380)])throw new _0x4a800a(_0x4a800a['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x4355f4=_0x2ffa6c['tableName']+'::'+_0x2ffa6c[_0x545cbf(0xe4)],_0x19c956=await _0xe4f57[_0x545cbf(0x332)](),_0x12a4e5={'id':_0x4355f4,'priority':Math[_0x545cbf(0x6be)](),'timestamp':_0x19c956,'action':_0x2ffa6c['action']};if(await this[_0x545cbf(0x63b)](_0x12a4e5))return _0x12a4e5;}async[_0x37ac7d(0x66f)](_0x1e1e0c){const _0x6e6ee0=_0x37ac7d;if(!this[_0x6e6ee0(0x380)])throw new _0x4a800a(_0x4a800a[_0x6e6ee0(0x7ef)][_0x6e6ee0(0x702)]);const _0x363642=_0x4baab9[_0x6e6ee0(0x5e8)]('id')['where']('between',[_0x1e1e0c+'::',_0x1e1e0c+'::']),_0x2ae129=await this[_0x6e6ee0(0x380)][_0x6e6ee0(0x9b9)](_0x363642[_0x6e6ee0(0x924)]());for(const _0x548f16 of _0x2ae129)await this['transactionTable']['delete'](_0x548f16['id']);}['setOnMessageHandler'](){const _0x52a509=_0x37ac7d;this[_0x52a509(0xd1)](async(_0xb0e431,_0x78a08e)=>{const _0x178db0=_0x52a509;if(_0x78a08e instanceof File)return;if(this[_0x178db0(0x3c9)][_0x178db0(0x91c)](_0x78a08e),!await this[_0x178db0(0x63b)](_0x78a08e))return void this[_0x178db0(0x9d3)](_0xb0e431,_0x78a08e);if(!_0x78a08e[_0x178db0(0x470)])throw new _0x4a800a(_0x4a800a[_0x178db0(0x7ef)][_0x178db0(0x78c)]);const [_0x46422b,_0x10a50d]=_0x78a08e['id']['split']('::'),_0x39ee63=this[_0x178db0(0x568)](_0x46422b);if(!_0x39ee63)throw new _0x4a800a(_0x4a800a[_0x178db0(0x7ef)][_0x178db0(0x5ac)],{'table':_0x39ee63});let _0x145457=0x0;switch(_0x78a08e['action']){case _0x3d6182['Add']:case _0x3d6182[_0x178db0(0x39d)]:{const _0x46cf3e=_0x39ee63[_0x178db0(0x773)](_0x10a50d,_0x78a08e[_0x178db0(0x470)],!0x1);_0x145457=JSON['stringify'](_0x78a08e[_0x178db0(0x470)])[_0x178db0(0x146)],this[_0x178db0(0x222)][_0x178db0(0x444)](_0x78a08e['id'])&&this['syncTransactionsWritten'][_0x178db0(0x7b5)](_0x46cf3e);break;}case _0x3d6182[_0x178db0(0x5c9)]:{const _0x2b2e9d=_0x39ee63['delete'](_0x10a50d,!0x1);this[_0x178db0(0x222)][_0x178db0(0x444)](_0x78a08e['id'])&&this[_0x178db0(0x127)][_0x178db0(0x7b5)](_0x2b2e9d);break;}}_0x52aedf['logServiceEvent'](_0x5ddb4d[_0x178db0(0x2df)],{'type':_0x178db0(0x83c),'label':this[_0x178db0(0x7ee)],'nodeId':this[_0x178db0(0x116)][_0x178db0(0x336)](),'nodeType':this[_0x178db0(0x116)]['type'],'clusterId':this[_0x178db0(0x6b0)],'tableName':_0x46422b,'key':_0x10a50d,'size':_0x145457}),this['checkSyncComplete'](_0xb0e431,_0x78a08e);});}['setOnTableWriteHandler'](){const _0x5c307d=_0x37ac7d;this[_0x5c307d(0xc5)]=this[_0x5c307d(0x6d0)][_0x5c307d(0x9b2)](async _0x250749=>{const _0x5d2d50=_0x5c307d;let _0x58bf5c=0x0;switch(_0x250749[_0x5d2d50(0x47b)]){case _0x3d6182[_0x5d2d50(0x234)]:case _0x3d6182['Update']:case _0x3d6182[_0x5d2d50(0x5c9)]:{const _0x2dd75e=await this[_0x5d2d50(0x10b)](_0x250749);if(!_0x2dd75e)return;_0x2dd75e[_0x5d2d50(0x470)]=_0x250749[_0x5d2d50(0x470)],this[_0x5d2d50(0x726)](_0x2dd75e),_0x58bf5c=JSON[_0x5d2d50(0x343)](_0x250749[_0x5d2d50(0x470)])[_0x5d2d50(0x146)],this[_0x5d2d50(0x6e7)]+=0x1;break;}case _0x251a55['Get']:case _0x251a55['List']:case _0x251a55[_0x5d2d50(0x443)]:this[_0x5d2d50(0x5c5)]+=0x1;}_0x52aedf[_0x5d2d50(0x43d)](_0x5ddb4d[_0x5d2d50(0x2df)],{'type':_0x250749[_0x5d2d50(0x47b)],'label':this[_0x5d2d50(0x7ee)],'nodeId':this[_0x5d2d50(0x116)]['getId'](),'nodeType':this[_0x5d2d50(0x116)][_0x5d2d50(0x623)],'clusterId':this['clusterId'],'tableName':_0x250749['tableName'],'key':_0x250749['key'],'size':_0x58bf5c}),this[_0x5d2d50(0x4ed)]();});}[_0x37ac7d(0x95f)](){const _0x5cac90=_0x37ac7d;this['db']&&(this[_0x5cac90(0x380)]||(this['transactionTable']=this['db'][_0x5cac90(0x134)](_0x38eda0)));}[_0x37ac7d(0x7cd)](){const _0xebbf5d=_0x37ac7d;this[_0xebbf5d(0x17e)]&&(clearTimeout(this[_0xebbf5d(0x17e)]),delete this[_0xebbf5d(0x17e)]);}async[_0x37ac7d(0x98f)](){const _0x495228=_0x37ac7d;await this[_0x495228(0x48e)][_0x495228(0x2fc)],this[_0x495228(0x94a)](),this[_0x495228(0x77f)][_0x495228(0x10d)]({'event':_0x441722[_0x495228(0x884)][_0x495228(0x6de)]}),this[_0x495228(0x966)]?.(!0x0),delete this[_0x495228(0x966)],this[_0x495228(0x4ed)](),_0x52aedf[_0x495228(0x857)](_0xdea279[_0x495228(0x2df)],_0x495228(0x8c3),this[_0x495228(0x7ee)]);}async['publishSyncCompletedAfterWrites'](_0xfcf894){const _0x10a867=_0x37ac7d;await Promise[_0x10a867(0x533)](this['syncTransactionsWritten']),_0x52aedf['log'](_0xdea279[_0x10a867(0x2df)],_0x10a867(0x5a1)+this[_0x10a867(0x127)][_0x10a867(0x146)]+_0x10a867(0x384)+_0xfcf894+_0x10a867(0x1d5),this['label']),await this['mmr']['ready'],await this[_0x10a867(0x6df)](_0xfcf894),await this[_0x10a867(0x98f)]();}[_0x37ac7d(0x9d3)](_0x4bca46,_0x4e5cb1){const _0x4016f8=_0x37ac7d;this[_0x4016f8(0x222)][_0x4016f8(0x444)](_0x4e5cb1['id'])&&(this['clearSyncTimeout'](),this['transactionsToSync']=this[_0x4016f8(0x222)]['filter'](_0x2b1141=>_0x2b1141!==_0x4e5cb1['id']),0x0!==this[_0x4016f8(0x222)][_0x4016f8(0x146)]?this[_0x4016f8(0x17e)]=setTimeout(this[_0x4016f8(0x28a)],0x7d0):this[_0x4016f8(0x3be)](_0x4bca46));}[_0x37ac7d(0x4ed)](){const _0x3fbb35=_0x37ac7d;this[_0x3fbb35(0x7d3)]&&clearTimeout(this[_0x3fbb35(0x7d3)]),this[_0x3fbb35(0x7d3)]=setTimeout(async()=>{const _0x359692=_0x3fbb35;delete this['debounceStats'];let _0x3f60fd=0x0;for(const _0x2178ef of this['tables'][_0x359692(0x5d6)]())_0x3f60fd+=await _0x2178ef[_0x359692(0x34b)]();this['systemTopic'][_0x359692(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2[_0x359692(0x7c0)],'label':this[_0x359692(0x7ee)],'stats':{'timestamp':Date[_0x359692(0x90d)](),'storage':_0x3f60fd,'messagesSent':this[_0x359692(0x187)],'messagesReceived':this[_0x359692(0x6a2)],'bytesSent':this[_0x359692(0x90a)],'bytesReceived':this[_0x359692(0x66a)],'writes':this[_0x359692(0x6e7)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x52aedf[_0x359692(0x352)](_0x5ddb4d[_0x359692(0x2df)],'ccc'+this[_0x359692(0x6b0)]+'ccc'+this[_0x359692(0x7ee)],_0x3f60fd);},_0x3d132a);}['addReservedTables'](_0x5146d4){const _0x196064=_0x37ac7d;if(_0x5146d4[_0x196064(0x90c)][_0x38eda0])throw new _0x3e3c93(_0x5b4e17['KeyValueDatabaseTableNameReserved'],_0x196064(0x5ce)+_0x38eda0+_0x196064(0x310));if(_0x5146d4[_0x196064(0x90c)][_0x68c75c])throw new _0x3e3c93(_0x5b4e17['KeyValueDatabaseTableNameReserved'],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x68c75c+'\x27\x20reserved');_0x5146d4[_0x196064(0x90c)][_0x38eda0]={'indexes':[]},_0x5146d4[_0x196064(0x90c)][_0x68c75c]={'indexes':[]};}async['isPromiseResolved'](_0x5c59af){const _0x3b3775=_0x37ac7d;return Promise['race']([_0x5c59af,Promise[_0x3b3775(0x510)]('not-resolved')])['then'](_0x3394cd=>_0x3b3775(0x435)!==_0x3394cd);}async[_0x37ac7d(0x6df)](_0x5ae0b1){const _0x3c7a06=_0x37ac7d;await this[_0x3c7a06(0x388)]();const _0x21abb1=await this[_0x3c7a06(0x48e)][_0x3c7a06(0x411)](),_0x4e9ae7={'sourceId':this[_0x3c7a06(0x116)][_0x3c7a06(0x336)](),'destinationIds':[_0x5ae0b1],'propagate':!0x0,'messageType':_0x403b04[_0x3c7a06(0x3a0)],'content':{'type':_0x3b90a2[_0x3c7a06(0x131)],'label':this[_0x3c7a06(0x7ee)],'mmrRoot':_0x21abb1}};this[_0x3c7a06(0x1b1)][_0x3c7a06(0x10d)](_0x4e9ae7);}async[_0x37ac7d(0x9bf)](){const _0x5df09a=_0x37ac7d;if(!this[_0x5df09a(0x380)])throw new _0x4a800a(_0x4a800a['codes'][_0x5df09a(0x702)]);this['transactions']=await this[_0x5df09a(0x380)]['list'](),this[_0x5df09a(0x412)][_0x5df09a(0x6a8)](this[_0x5df09a(0x2b3)]),this[_0x5df09a(0x48e)]=new _0x492d72(),this[_0x5df09a(0x2e9)]=new Map();for(const _0x4c3497 of this[_0x5df09a(0x412)])this[_0x5df09a(0x7d8)](_0x4c3497,this[_0x5df09a(0x412)][_0x5df09a(0x146)]);this['logInitialMMR']();}async['appendTransactionAndUpdateHashMap'](_0x27f5bf,_0x4fa212){const _0x24a196=_0x37ac7d,_0x1b6768={..._0x27f5bf};delete _0x1b6768['value'],await this[_0x24a196(0x48e)]['appendTransaction'](_0x1b6768,_0x4fa212);const _0x50a672=await this[_0x24a196(0x48e)][_0x24a196(0x9ab)](_0x1b6768);this['transactionHashMap'][_0x24a196(0x773)](_0x50a672,_0x27f5bf);}[_0x37ac7d(0x50e)](_0x2dfe0e){const _0x209803=_0x37ac7d;return this[_0x209803(0x2e9)][_0x209803(0x7e9)](_0x2dfe0e);}[_0x37ac7d(0x16d)](_0x3d47fa,_0x1a1611){const _0xab979b=_0x37ac7d;if(0x0!==_0x3d47fa[_0xab979b(0x9ae)])_0x3d47fa[_0xab979b(0x4f7)]&&this[_0xab979b(0x16d)](_0x3d47fa['left'],_0x1a1611),_0x3d47fa[_0xab979b(0x634)]&&this[_0xab979b(0x16d)](_0x3d47fa['right'],_0x1a1611);else{const _0x2ff026=this[_0xab979b(0x50e)](_0x3d47fa['hash']);_0x2ff026&&_0x1a1611[_0xab979b(0x7b5)](_0x2ff026);}}async[_0x37ac7d(0x64a)](){const _0x498b8a=_0x37ac7d;this[_0x498b8a(0x674)]&&(clearTimeout(this[_0x498b8a(0x674)]),delete this[_0x498b8a(0x674)],this['transactionsToAppend'][_0x498b8a(0x146)]>0x0&&(this[_0x498b8a(0x412)][_0x498b8a(0x7b5)](...this[_0x498b8a(0xf0)][_0x498b8a(0x6a8)](this[_0x498b8a(0x2b3)])),this['transactionsToAppend']=[]));const _0x1065df=this[_0x498b8a(0x360)]();this[_0x498b8a(0x48e)]=new _0x492d72(),this[_0x498b8a(0x2e9)][_0x498b8a(0x168)](),this[_0x498b8a(0x412)][_0x498b8a(0x6a8)](this[_0x498b8a(0x2b3)]);for(const _0x2f1ff4 of this['transactions'])this['appendTransactionAndUpdateHashMap'](_0x2f1ff4,this[_0x498b8a(0x412)][_0x498b8a(0x146)]);await this['mmr'][_0x498b8a(0x2fc)],this[_0x498b8a(0x737)](_0x1065df);}[_0x37ac7d(0x360)](){const _0x4cfc6b=_0x37ac7d;return this[_0x4cfc6b(0x3c9)][_0x4cfc6b(0x339)][_0x4cfc6b(0x5ca)](async()=>{const _0xf62cd1=_0x4cfc6b,_0x2aab28=await this['mmr'][_0xf62cd1(0x411)]();return{'startTime':Date[_0xf62cd1(0x90d)](),'initialRoot':_0x2aab28};},Promise[_0x4cfc6b(0x510)]({'startTime':0x0,'initialRoot':''}));}async['logMMRRebuild'](_0xb5df0a){const _0x553bbc=_0x37ac7d;try{const {startTime:_0x196c34,initialRoot:_0x1b78ee}=await _0xb5df0a,_0x55099a=await this['mmr'][_0x553bbc(0x411)](),_0x2cedf9=[_0x553bbc(0x5cb)+(_0x1b78ee!==_0x55099a),_0x553bbc(0x37d)+_0x1b78ee,_0x553bbc(0x75d)+_0x55099a,_0x553bbc(0x9b4)+this[_0x553bbc(0x48e)][_0x553bbc(0x2fa)](),'\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20'+(Date[_0x553bbc(0x90d)]()-_0x196c34)+'\x20ms\x0a'][_0x553bbc(0x751)]('\x20');this[_0x553bbc(0x3c9)]['logger'][_0x553bbc(0x857)]('',()=>_0x2cedf9);}catch(_0x25400c){console['error'](_0x553bbc(0x95a),_0x25400c);}}['debounceRebuildMMRWithTransaction'](_0x27eec3){const _0xfe6641=_0x37ac7d;this[_0xfe6641(0xf0)][_0xfe6641(0x7b5)](_0x27eec3),this['debounceRebuildMMR']&&(clearTimeout(this[_0xfe6641(0x674)]),delete this[_0xfe6641(0x674)]),this[_0xfe6641(0x674)]=setTimeout(()=>{const _0x453902=_0xfe6641;this[_0x453902(0x388)]();},0x3e8);}async[_0x37ac7d(0x388)](){const _0x341cc5=_0x37ac7d;if(this[_0x341cc5(0x674)]&&(clearTimeout(this[_0x341cc5(0x674)]),delete this[_0x341cc5(0x674)]),0x0!==this['transactionsToAppend'][_0x341cc5(0x146)]){if(0x0===this['transactions'][_0x341cc5(0x146)])return this[_0x341cc5(0x412)]=this[_0x341cc5(0xf0)],this[_0x341cc5(0xf0)]=[],await this[_0x341cc5(0x64a)]();if(this[_0x341cc5(0xf0)][_0x341cc5(0x6a8)](this[_0x341cc5(0x2b3)]),this[_0x341cc5(0x2b3)](this[_0x341cc5(0xf0)][0x0],this[_0x341cc5(0x412)][this[_0x341cc5(0x412)][_0x341cc5(0x146)]-0x1])>0x0){this[_0x341cc5(0x3c9)][_0x341cc5(0x339)][_0x341cc5(0x857)](_0x341cc5(0x362)+this['transactionsToAppend']['length']+',\x20Transactions:\x20'+this['transactions']['length']);for(const _0x2d0f94 of this[_0x341cc5(0xf0)])this[_0x341cc5(0x412)][_0x341cc5(0x7b5)](_0x2d0f94),this['appendTransactionAndUpdateHashMap'](_0x2d0f94,this[_0x341cc5(0xf0)][_0x341cc5(0x146)]);return this[_0x341cc5(0xf0)]=[],void this[_0x341cc5(0x3c9)]['logger'][_0x341cc5(0x857)](_0x341cc5(0x6da),async()=>_0x341cc5(0x8f2)+await this[_0x341cc5(0x48e)][_0x341cc5(0x411)]()+_0x341cc5(0x27e)+this[_0x341cc5(0x48e)][_0x341cc5(0x2fa)]());}this['loggingCycle']['logger'][_0x341cc5(0x857)](_0x341cc5(0x321)+this[_0x341cc5(0xf0)][_0x341cc5(0x146)]+_0x341cc5(0x6b7)+this['transactions'][_0x341cc5(0x146)]),this['transactions'][_0x341cc5(0x7b5)](...this[_0x341cc5(0xf0)]),this[_0x341cc5(0xf0)]=[],this['rebuildMMR']();}}async['logSyncMetrics'](){const _0x2fcb51=_0x37ac7d;if(!_0x52aedf[_0x2fcb51(0x7b3)](_0xdea279[_0x2fcb51(0x2df)]))return;await this[_0x2fcb51(0x48e)][_0x2fcb51(0x2fc)];const {dataSent:_0x1bf217,dataReceived:_0xd457bf}=this[_0x2fcb51(0x3c9)][_0x2fcb51(0x3f7)]();_0x52aedf[_0x2fcb51(0x857)](_0xdea279[_0x2fcb51(0x2df)],_0x2fcb51(0x550),this[_0x2fcb51(0x7ee)],_0x2fcb51(0x76e)+_0x1bf217,_0x2fcb51(0x124)+_0xd457bf,_0x2fcb51(0x668),await this[_0x2fcb51(0x48e)][_0x2fcb51(0x411)](),_0x2fcb51(0x4f3),this[_0x2fcb51(0x48e)][_0x2fcb51(0x2fa)]());}async['logInitialMMR'](){const _0x484d46=_0x37ac7d;if(!_0x52aedf[_0x484d46(0x7b3)](_0xdea279[_0x484d46(0x2df)]))return;const _0x2f05b4=this[_0x484d46(0x48e)]['getPeaks'](),_0x1e4d35=_0x2f05b4[_0x484d46(0x8f1)](_0x104fb2=>_0x104fb2[_0x484d46(0x9ae)]),_0x560087=await this['mmr'][_0x484d46(0x411)]();_0x52aedf['log'](_0xdea279['KeyValueDatabase'],_0x484d46(0x714),this[_0x484d46(0x412)][_0x484d46(0x146)],'transactions',this[_0x484d46(0x48e)][_0x484d46(0x2fa)](),'totalNodes',_0x2f05b4['length'],_0x484d46(0x9d7),_0x1e4d35,_0x484d46(0x1c6),_0x560087);}}const _0x4e18ab=require('@crewdle/mist-connector-opfs'),_0x161426=require('@crewdle/mist-connector-indexed-db'),_0x21def8=require('@crewdle/mist-connector-webrtc-browser'),_0x15816b=0x1fc00000;var _0x57c9b6,_0x3c24ef,_0x4ef545,_0x11d6ca,_0x3fa2fc,_0x12a052,_0x43b6a7,_0x35c4f2,_0x3b7697;!function(_0x22ce73){const _0xf015f2=_0x37ac7d;_0x22ce73[_0xf015f2(0x355)]=_0xf015f2(0x355),_0x22ce73[_0xf015f2(0x39f)]=_0xf015f2(0x39f),_0x22ce73[_0xf015f2(0x69a)]='AudioVolume',_0x22ce73['Backgrounds']=_0xf015f2(0xfc),_0x22ce73[_0xf015f2(0x610)]=_0xf015f2(0x610),_0x22ce73[_0xf015f2(0x4b1)]=_0xf015f2(0x4b1),_0x22ce73[_0xf015f2(0x4b3)]=_0xf015f2(0x4b3),_0x22ce73[_0xf015f2(0x4a3)]=_0xf015f2(0x4a3),_0x22ce73['WebGL']='WebGL',_0x22ce73[_0xf015f2(0x6bf)]=_0xf015f2(0x6bf);}(_0x57c9b6||(_0x57c9b6={}));class _0x42d356{[_0x37ac7d(0x958)];[_0x37ac7d(0x3c4)];[_0x37ac7d(0x6f3)];constructor(_0x2022fb=new Map(),_0x15a762=new Map(),_0x31c450=new EventTarget()){const _0x3ec766=_0x37ac7d;this[_0x3ec766(0x958)]=_0x2022fb,this[_0x3ec766(0x3c4)]=_0x15a762,this[_0x3ec766(0x6f3)]=_0x31c450;}[_0x37ac7d(0x812)]=(_0x52c1c1,_0x541b25)=>this[_0x37ac7d(0x958)]['has'](_0x52c1c1)?(_0x52aedf[_0x37ac7d(0x857)](_0xdea279[_0x37ac7d(0x836)],_0x37ac7d(0x406),{'event':_0x52c1c1,'data':_0x541b25}),this['eventTarget']['dispatchEvent'](new CustomEvent(_0x52c1c1,{'detail':_0x541b25})),!0x0):(this[_0x37ac7d(0x162)](_0x52c1c1,_0x541b25),!0x1);['on']=(_0x2e0765,_0x3f14da)=>{const _0x385436=_0x37ac7d,_0x108e97=_0x440946=>{const _0x35667e=a0_0xbe57;_0x52aedf[_0x35667e(0x857)](_0xdea279[_0x35667e(0x836)],_0x35667e(0x7be),_0x440946[_0x35667e(0x623)],_0x440946[_0x35667e(0x3f6)]),_0x3f14da(_0x440946['detail']);};return this[_0x385436(0x958)][_0x385436(0x773)](_0x2e0765,_0x108e97),this[_0x385436(0x6f3)][_0x385436(0x598)](_0x2e0765,_0x108e97),_0x52aedf[_0x385436(0x857)](_0xdea279[_0x385436(0x596)],_0x385436(0x1f7),_0x2e0765,_0x3f14da),this[_0x385436(0x36f)](_0x2e0765),this;};['off'](_0x18028b){const _0x60e285=_0x37ac7d;if(!_0x18028b)return this[_0x60e285(0x958)][_0x60e285(0x97a)]((_0x5ec464,_0x463ecf)=>{const _0xa90d07=_0x60e285;this[_0xa90d07(0x6f3)][_0xa90d07(0x8f6)](_0x463ecf,_0x5ec464);}),void this['registeredListeners']['clear']();_0x60e285(0x865)==typeof _0x18028b&&this[_0x60e285(0x85e)](_0x18028b),Array['isArray'](_0x18028b)&&_0x18028b[_0x60e285(0x97a)](_0xa89d45=>{this['removeListener'](_0xa89d45);});}[_0x37ac7d(0x85e)](_0x50755d){const _0x5d5942=_0x37ac7d,_0x230fed=this[_0x5d5942(0x958)][_0x5d5942(0x7e9)](_0x50755d);_0x230fed&&(this[_0x5d5942(0x6f3)][_0x5d5942(0x8f6)](_0x50755d,_0x230fed),this[_0x5d5942(0x958)][_0x5d5942(0x6fd)](_0x50755d));}[_0x37ac7d(0x162)](_0x1649b4,_0xa4297c){const _0x328920=_0x37ac7d;_0x52aedf[_0x328920(0x857)](_0xdea279['Events'],_0x328920(0x1db),{'event':_0x1649b4,'data':_0xa4297c});const _0x125776=this[_0x328920(0x3c4)][_0x328920(0x7e9)](_0x1649b4)||[];this[_0x328920(0x3c4)][_0x328920(0x773)](_0x1649b4,[..._0x125776,_0xa4297c]);}[_0x37ac7d(0x36f)](_0x4b88cf){const _0x6fce43=_0x37ac7d,_0x51eb4d=this['bufferedEvents'][_0x6fce43(0x7e9)](_0x4b88cf);_0x51eb4d&&(_0x51eb4d['forEach'](_0x451c60=>{const _0x1d1c15=_0x6fce43;_0x52aedf['log'](_0xdea279[_0x1d1c15(0x836)],_0x1d1c15(0x7ad),{'event':_0x4b88cf,'data':_0x451c60}),this[_0x1d1c15(0x6f3)]['dispatchEvent'](new CustomEvent(_0x4b88cf,{'detail':_0x451c60}));}),this[_0x6fce43(0x3c4)][_0x6fce43(0x6fd)](_0x4b88cf));}}class _0x335dcf extends Error{constructor(_0x19282c){super('Early\x20return:\x20'+_0x19282c);}}!function(_0x4d0e55){const _0x397806=_0x37ac7d;_0x4d0e55[_0x4d0e55['Core']=0x0]=_0x397806(0x71f),_0x4d0e55[_0x4d0e55[_0x397806(0x8c0)]=0x1]=_0x397806(0x8c0);}(_0x3c24ef||(_0x3c24ef={})),function(_0x159d1c){const _0x5635dd=_0x37ac7d;_0x159d1c[_0x159d1c[_0x5635dd(0x637)]=0x0]=_0x5635dd(0x637),_0x159d1c[_0x159d1c[_0x5635dd(0x5b2)]=0x1]=_0x5635dd(0x5b2),_0x159d1c[_0x159d1c[_0x5635dd(0x1c3)]=0x2]=_0x5635dd(0x1c3),_0x159d1c[_0x159d1c['Success']=0x3]='Success',_0x159d1c[_0x159d1c['NeedRestart']=0x4]=_0x5635dd(0x632),_0x159d1c[_0x159d1c[_0x5635dd(0x24e)]=0x5]=_0x5635dd(0x24e),_0x159d1c[_0x159d1c[_0x5635dd(0x1a5)]=0x6]=_0x5635dd(0x1a5),_0x159d1c[_0x159d1c['Stats']=0x7]=_0x5635dd(0x861),_0x159d1c[_0x159d1c[_0x5635dd(0x58e)]=0x8]=_0x5635dd(0x58e);}(_0x4ef545||(_0x4ef545={})),function(_0x389b11){const _0x5e497b=_0x37ac7d;_0x389b11[_0x389b11[_0x5e497b(0x547)]=0x0]='Sender',_0x389b11[_0x389b11['Receiver']=0x1]=_0x5e497b(0x115);}(_0x11d6ca||(_0x11d6ca={})),function(_0x63411){const _0x401a2d=_0x37ac7d;_0x63411[_0x401a2d(0x4b1)]=_0x401a2d(0x422);}(_0x3fa2fc||(_0x3fa2fc={})),function(_0x5cc052){const _0x3a4377=_0x37ac7d;_0x5cc052[_0x5cc052[_0x3a4377(0x9aa)]=0x0]=_0x3a4377(0x9aa),_0x5cc052[_0x5cc052[_0x3a4377(0x150)]=0x1]='NodeUpdate',_0x5cc052[_0x5cc052['NodeConnectionsUpdate']=0x2]=_0x3a4377(0x7f6),_0x5cc052[_0x5cc052['NodeLeave']=0x3]=_0x3a4377(0x819);}(_0x12a052||(_0x12a052={})),function(_0x375637){const _0x3b71e3=_0x37ac7d;_0x375637[_0x375637['Remediation']=0x0]='Remediation',_0x375637[_0x375637[_0x3b71e3(0x61d)]=0x1]=_0x3b71e3(0x61d);}(_0x43b6a7||(_0x43b6a7={})),function(_0x11538d){const _0xc55a78=_0x37ac7d;_0x11538d[_0xc55a78(0x757)]='upgrade',_0x11538d['Downgrade']=_0xc55a78(0x317);}(_0x35c4f2||(_0x35c4f2={})),function(_0x2774e0){const _0x1b5a12=_0x37ac7d;_0x2774e0['Resolution']=_0x1b5a12(0x1e0),_0x2774e0[_0x1b5a12(0xfb)]='bitrate';}(_0x3b7697||(_0x3b7697={}));const _0x1c781b=require('aws-amplify'),_0x9fa414=require('aws-amplify/utils'),_0x13204f=require('@aws-amplify/api'),_0x4a297b=require('@aws-amplify/core');class _0x1e5593{[_0x37ac7d(0x6b0)];[_0x37ac7d(0x116)];[_0x37ac7d(0x3e2)];constructor(_0x414715,_0x67b3b2,_0x312b9c){const _0x345d39=_0x37ac7d;this[_0x345d39(0x6b0)]=_0x414715,this[_0x345d39(0x116)]=_0x67b3b2,this['remoteId']=_0x312b9c;}[_0x37ac7d(0x505)](){const _0xf777f9=_0x37ac7d;return this[_0xf777f9(0x116)][_0xf777f9(0x336)]();}[_0x37ac7d(0xc9)](){return this['remoteId'];}}var _0x1a5a26,_0x3d7361,_0x24cd00;function _0x2c65fe(_0x283e42,_0x85c783){const _0xf0cb8f=_0x37ac7d;return _0x283e42[_0xf0cb8f(0x2ea)]===_0x85c783;}function _0x49adb7(_0x5ad26a,_0x28e862){const _0x41f2dc=_0x37ac7d;return _0x5ad26a[_0x41f2dc(0x508)]?.[_0x41f2dc(0x444)](_0x28e862)??function(_0x2fa82c){return void 0x0===_0x2fa82c['destinationIds'];}(_0x5ad26a);}function _0x1b0bd8(_0x583138,{contentType:_0x46e6c1,label:_0x3853d2,remoteId:_0x1c1b2e}){return _0x583138+'-'+_0x46e6c1+'-'+_0x3853d2+'-'+_0x1c1b2e;}function _0x1e04f1(_0x4fa890,_0x3ed0c9,_0x4ba086){return''+_0x4fa890+_0x3ed0c9+_0x4ba086;}function _0x28be41(_0x37788c){const _0x680e78=_0x37ac7d;return _0x37788c===_0x3d7361[_0x680e78(0x743)]?_0x680e78(0x263):_0x680e78(0x71a);}function _0x3df0b7(_0x43ea36,_0x212daf){const _0x19642e=_0x37ac7d;return{'label':_0x43ea36['getInternalStreamId'](),'contentType':_0x43ea36['getContentType'](),'remoteId':_0x212daf['getRemoteId'](),'supportsContentType':_0x212daf[_0x19642e(0x970)]()[_0x19642e(0x444)](_0x43ea36[_0x19642e(0x151)]())};}!function(_0x5bc2a2){const _0x3c40c1=_0x37ac7d;_0x5bc2a2[_0x5bc2a2[_0x3c40c1(0x4a9)]=0x0]=_0x3c40c1(0x4a9),_0x5bc2a2[_0x5bc2a2['Accepted']=0x1]=_0x3c40c1(0x87d),_0x5bc2a2[_0x5bc2a2[_0x3c40c1(0x85f)]=0x2]=_0x3c40c1(0x85f);}(_0x1a5a26||(_0x1a5a26={})),function(_0x1e61fc){const _0x1030b6=_0x37ac7d;_0x1e61fc[_0x1030b6(0x743)]='in',_0x1e61fc[_0x1030b6(0x822)]=_0x1030b6(0x129);}(_0x3d7361||(_0x3d7361={}));class _0x4c999a{['callback'];[_0x37ac7d(0x37c)];constructor(_0x7d69cf,_0x91d3d8){const _0x1c67ed=_0x37ac7d;this[_0x1c67ed(0x403)]=_0x7d69cf,this[_0x1c67ed(0x37c)]=_0x91d3d8;}[_0x37ac7d(0x900)](_0x1e4266){const _0x3bc0eb=_0x37ac7d;this[_0x3bc0eb(0x403)](_0x1e4266);}async[_0x37ac7d(0x760)](){const _0x15a1c3=_0x37ac7d;await this[_0x15a1c3(0x37c)]();}}class _0x3f96e5{[_0x37ac7d(0x403)];['retryCallback'];constructor(_0x116eb8,_0x4ad036){const _0x8d9c1e=_0x37ac7d;this[_0x8d9c1e(0x403)]=_0x116eb8,this[_0x8d9c1e(0x37c)]=_0x4ad036;}async[_0x37ac7d(0x900)](_0x623551){const _0x5ef805=_0x37ac7d;await this[_0x5ef805(0x403)](_0x623551);}async['wait'](){await this['retryCallback']();}}function _0x3690e8(_0x1179d5=()=>{},_0x46b184=()=>!0x1,_0x5200ab=()=>{}){let _0x23ae63,_0x44ace7,_0x17a4ca=0x0;return{get 'size'(){return _0x17a4ca;},get 'head'(){return _0x23ae63;},get 'tail'(){return _0x44ace7;},set 'head'(_0x5a0701){_0x23ae63=_0x5a0701;},set 'tail'(_0x509113){_0x44ace7=_0x509113;},'push'(_0x93f5f8,_0x3ad3e2=!0x0){const _0x4bc21a=a0_0xbe57,_0x244712={'value':_0x93f5f8};_0x3ad3e2&&_0x46b184(_0x244712)?_0x1179d5():(_0x44ace7&&(_0x244712[_0x4bc21a(0x4ce)]=_0x44ace7,_0x44ace7[_0x4bc21a(0x2d3)]=_0x244712),_0x44ace7=_0x244712,_0x23ae63||(_0x23ae63=_0x244712),_0x17a4ca+=0x1,_0x3ad3e2&&_0x1179d5());},'pop'(){const _0x1fd5f3=a0_0xbe57;if(!_0x44ace7)return;const _0xfd1f9c=_0x44ace7[_0x1fd5f3(0x470)];return _0x44ace7=_0x44ace7[_0x1fd5f3(0x4ce)],_0x44ace7&&delete _0x44ace7[_0x1fd5f3(0x2d3)],_0x44ace7||(_0x23ae63=void 0x0),_0x17a4ca-=0x1,_0xfd1f9c;},'unshift'(_0x5d0070,_0x3ec20f=!0x0){const _0x2c7ec5=a0_0xbe57,_0x214d03={'value':_0x5d0070};_0x3ec20f&&_0x46b184(_0x214d03)?_0x1179d5():(_0x23ae63&&(_0x23ae63[_0x2c7ec5(0x4ce)]=_0x214d03,_0x214d03['next']=_0x23ae63),_0x23ae63=_0x214d03,_0x44ace7||(_0x44ace7=_0x214d03),_0x17a4ca+=0x1,_0x3ec20f&&_0x1179d5());},'shift'(){const _0x2d950c=a0_0xbe57;if(!_0x23ae63)return;const _0x334309=_0x23ae63[_0x2d950c(0x470)];return _0x23ae63=_0x23ae63['next'],_0x23ae63&&delete _0x23ae63[_0x2d950c(0x4ce)],_0x23ae63||(_0x44ace7=void 0x0),_0x17a4ca-=0x1,_0x334309;},'clear'(){_0x5200ab(),_0x23ae63=void 0x0,_0x44ace7=void 0x0,_0x17a4ca=0x0;}};}function _0x524878(_0x33c77b,_0x59a481=!0x1,_0x46b4b5=()=>{},_0x20f69c=()=>!0x1,_0x4e8144=()=>{}){let _0x453965=!0x1;const _0x295788=_0x3690e8(async function(){const _0x1b2c6c=a0_0xbe57;if(!_0x453965){for(_0x453965=!0x0;_0x295788[_0x1b2c6c(0x192)];){const _0x45d5fc=_0x295788[_0x1b2c6c(0x88b)]();if(_0x45d5fc)try{_0x33c77b instanceof _0x4c999a&&_0x33c77b['call'](_0x45d5fc),_0x33c77b instanceof _0x3f96e5&&await _0x33c77b[_0x1b2c6c(0x900)](_0x45d5fc),_0x46b4b5(_0x45d5fc);}catch(_0x52e7a0){_0x59a481?_0x295788[_0x1b2c6c(0x7b5)](_0x45d5fc,!0x1):_0x295788[_0x1b2c6c(0x405)](_0x45d5fc,!0x1),await _0x33c77b[_0x1b2c6c(0x760)]();}}_0x453965=!0x1;}},_0x20f69c,_0x4e8144);return _0x295788;}class _0x59a6ab extends _0x1e5593{[_0x37ac7d(0x7f1)];[_0x37ac7d(0x31b)];[_0x37ac7d(0x77b)]=_0x13204f[_0x37ac7d(0x29a)][_0x37ac7d(0x277)];[_0x37ac7d(0x408)]=_0x28e357();['messageListeners']=_0x376fa8();[_0x37ac7d(0x133)];[_0x37ac7d(0x953)];[_0x37ac7d(0x56f)]=_0x524878(new _0x3f96e5(this[_0x37ac7d(0x556)][_0x37ac7d(0x5d9)](this),this[_0x37ac7d(0x283)][_0x37ac7d(0x5d9)](this)));['client'];constructor(_0x3109bb,_0x1668e0,_0x279fa6,_0x494875,_0x442dfd){const _0xfd7198=_0x37ac7d;super(_0x1668e0,_0x279fa6,_0x494875),this[_0xfd7198(0x7f1)]=_0x3109bb,this[_0xfd7198(0x31b)]=_0x442dfd;}async[_0x37ac7d(0x191)](){const _0x15aa69=_0x37ac7d;try{const _0x26b6dc={'getTokens':async()=>{const _0xff9d4=a0_0xbe57,_0x2862ef=await this[_0xff9d4(0x31b)][_0xff9d4(0x197)]();return{'accessToken':(0x0,_0x4a297b[_0xff9d4(0x712)])(_0x2862ef),'idToken':(0x0,_0x4a297b[_0xff9d4(0x712)])(_0x2862ef)};}};_0x1c781b['Amplify'][_0x15aa69(0x63c)]({'API':{'GraphQL':{'endpoint':_0x46f3bd[_0x15aa69(0x4ee)][_0x15aa69(0x8a5)],'region':_0x46f3bd['aws']['region'],'defaultAuthMode':_0x15aa69(0x6e2)}}},{'Auth':{'tokenProvider':_0x26b6dc}});const _0x4d7b9a=(0x0,_0x13204f[_0x15aa69(0x8dc)])();this[_0x15aa69(0x7b8)]=_0x4d7b9a,await this[_0x15aa69(0x9b2)](),this['listenUnsubscriber']=_0x9fa414[_0x15aa69(0x185)][_0x15aa69(0x1e3)](_0x15aa69(0x997),async({payload:_0x31da60})=>{const _0x1ef656=_0x15aa69;if(_0x31da60[_0x1ef656(0x964)]===_0x13204f[_0x1ef656(0x21f)]){const _0x297e7f=_0x31da60['data'];this[_0x1ef656(0x77b)]=_0x297e7f[_0x1ef656(0x77b)],this[_0x1ef656(0x408)][_0x1ef656(0x10d)](_0x297e7f[_0x1ef656(0x77b)]),this['connectionState']===_0x13204f[_0x1ef656(0x29a)][_0x1ef656(0x277)]?(_0x52aedf[_0x1ef656(0x635)]('appsync-disconnect',{'clusterId':this[_0x1ef656(0x6b0)],'nodeId':this['getLocalId'](),'nodeType':this[_0x1ef656(0x116)][_0x1ef656(0x623)]}),this[_0x1ef656(0x91a)](),this['connect']()):this[_0x1ef656(0x77b)]===_0x13204f[_0x1ef656(0x29a)]['Connected']?_0x52aedf['warning'](_0x1ef656(0x97c),{'clusterId':this[_0x1ef656(0x6b0)],'nodeId':this[_0x1ef656(0x505)](),'nodeType':this[_0x1ef656(0x116)][_0x1ef656(0x623)]}):_0x52aedf[_0x1ef656(0x8b1)](_0x1ef656(0x549),{'clusterId':this[_0x1ef656(0x6b0)],'nodeId':this[_0x1ef656(0x505)](),'nodeType':this[_0x1ef656(0x116)][_0x1ef656(0x623)],'data':{'state':_0x297e7f[_0x1ef656(0x77b)]}});}});}catch(_0x1a0f36){_0x52aedf[_0x15aa69(0x635)]('appsync-connect-fail',{'clusterId':this[_0x15aa69(0x6b0)],'nodeId':this['getLocalId'](),'nodeType':this[_0x15aa69(0x116)]['type']});}}[_0x37ac7d(0x91a)](){const _0x2764ce=_0x37ac7d;_0x52aedf[_0x2764ce(0x8b1)](_0x2764ce(0x92c),{'clusterId':this['clusterId'],'nodeId':this[_0x2764ce(0x505)](),'nodeType':this['localNode'][_0x2764ce(0x623)]}),this[_0x2764ce(0x56f)]['clear'](),this[_0x2764ce(0x953)]?.(),this['subscription']?.[_0x2764ce(0x887)](),delete this[_0x2764ce(0x133)];}['isConnected'](){const _0xab5a56=_0x37ac7d;return this[_0xab5a56(0x77b)]===_0x13204f[_0xab5a56(0x29a)]['Connected'];}[_0x37ac7d(0x726)](_0x3e3e13){const _0x2b226a=_0x37ac7d;this[_0x2b226a(0x56f)][_0x2b226a(0x7b5)](_0x3e3e13);}[_0x37ac7d(0xd1)](_0x56c7e7){return this['messageListeners']['subscribe'](_0x56c7e7);}['getSupportedContentTypes'](){const _0x31fe76=_0x37ac7d;return[_0x441722[_0x31fe76(0x4bf)][_0x31fe76(0x5e0)]];}async['waitConnected'](){const _0x84e774=_0x37ac7d;if(!this[_0x84e774(0x39e)]())return new Promise(_0x506714=>{const _0x11a184=_0x84e774,_0x292875=this['connectionStateListener'][_0x11a184(0x9b2)](_0x306055=>{const _0x309fa8=_0x11a184;_0x306055===_0x13204f[_0x309fa8(0x29a)][_0x309fa8(0x978)]&&(_0x292875(),_0x506714());});});}async[_0x37ac7d(0x556)](_0x18dd9e){const _0x59a68c=_0x37ac7d;if(this['connectionState']!==_0x13204f[_0x59a68c(0x29a)]['Connected'])throw new Error('AppSync\x20connection\x20not\x20ready');_0x18dd9e['destinationIds']&&0x1===_0x18dd9e[_0x59a68c(0x508)][_0x59a68c(0x146)]?await this['publish'](_0x18dd9e['destinationIds'][0x0],JSON[_0x59a68c(0x343)](_0x18dd9e)):_0x52aedf[_0x59a68c(0x635)](_0x59a68c(0x1f3),{'clusterId':this['clusterId'],'nodeId':this[_0x59a68c(0x505)](),'nodeType':this[_0x59a68c(0x116)][_0x59a68c(0x623)]});}async['publish'](_0x2f67ac,_0x36fc54){const _0x3802ea=_0x37ac7d;if(!this['client'])throw new Error(_0x3802ea(0x717));_0x52aedf['log'](_0xdea279['Signaling'],_0x3802ea(0x4d4),this[_0x3802ea(0x505)](),_0x36fc54),await this[_0x3802ea(0x7b8)][_0x3802ea(0x3f1)]({'query':_0x3802ea(0x2cd),'variables':{'name':await this[_0x3802ea(0x7b1)](_0x2f67ac),'data':_0x36fc54}});}async[_0x37ac7d(0x9b2)](){const _0x46592c=_0x37ac7d;if(this[_0x46592c(0x133)])return;if(!this[_0x46592c(0x7b8)])throw new Error(_0x46592c(0x717));_0x52aedf[_0x46592c(0x857)](_0xdea279['Signaling'],_0x46592c(0x7ce),this[_0x46592c(0x505)]());const _0x520a4d=await this['client'][_0x46592c(0x3f1)]({'query':_0x46592c(0x8d9),'variables':{'name':await this[_0x46592c(0x7b1)]()},'authToken':await this[_0x46592c(0x31b)][_0x46592c(0x197)]()},{'Authorization':await this[_0x46592c(0x31b)][_0x46592c(0x197)]()});this[_0x46592c(0x133)]=_0x520a4d[_0x46592c(0x9b2)]({'next':({data:_0x24c3fb})=>{const _0x5e142c=_0x46592c,_0x5e7e2e=JSON[_0x5e142c(0x4db)](_0x24c3fb['subscribe']['data']);!_0x2c65fe(_0x5e7e2e,this[_0x5e142c(0x505)]())&&_0x49adb7(_0x5e7e2e,this['getLocalId']())&&this[_0x5e142c(0x274)][_0x5e142c(0x10d)](_0x5e7e2e);},'error':console[_0x46592c(0x857)]});}async[_0x37ac7d(0x7b1)](_0x13fc40){const _0x449ea8=_0x37ac7d,_0xd0612b=await crypto[_0x449ea8(0x48c)]['digest'](_0x449ea8(0x301),new TextEncoder()[_0x449ea8(0x68a)](this['vendorId']+'-'+this[_0x449ea8(0x6b0)]+'-'+(_0x13fc40??this[_0x449ea8(0x505)]())));return Array[_0x449ea8(0x267)](new Uint8Array(_0xd0612b))['map'](_0x2b355c=>_0x2b355c[_0x449ea8(0x6dd)](0x10)[_0x449ea8(0x27f)](0x2,'0'))['join']('');}}!function(_0x332c1b){const _0x3af2f4=_0x37ac7d;_0x332c1b[_0x332c1b[_0x3af2f4(0x234)]=0x0]='Add',_0x332c1b[_0x332c1b[_0x3af2f4(0x458)]=0x1]=_0x3af2f4(0x458),_0x332c1b[_0x332c1b[_0x3af2f4(0x39d)]=0x2]=_0x3af2f4(0x39d),_0x332c1b[_0x332c1b[_0x3af2f4(0x210)]=0x3]=_0x3af2f4(0x210),_0x332c1b[_0x332c1b[_0x3af2f4(0x296)]=0x4]=_0x3af2f4(0x296);}(_0x24cd00||(_0x24cd00={}));const _0x4fd9b9='0',_0x1bbf33='chunk',_0x48369f=_0x44909b,_0x432bb5=0xbe800;class _0xb040a3{[_0x37ac7d(0x6b0)];[_0x37ac7d(0x116)];[_0x37ac7d(0x3e2)];['iceServers'];[_0x37ac7d(0xf1)];[_0x37ac7d(0x6a4)];['connection'];[_0x37ac7d(0x485)];['currentVersion']=0x1;[_0x37ac7d(0x1b1)];[_0x37ac7d(0x24c)]=[];['pendingHandshakeCandidates']=[];[_0x37ac7d(0x149)];constructor(_0x83f641,_0x1927f7,_0x42fb23,_0x48834d,_0x4be93c,_0x53714d){const _0x60118=_0x37ac7d;this[_0x60118(0x6b0)]=_0x83f641,this[_0x60118(0x116)]=_0x1927f7,this[_0x60118(0x3e2)]=_0x42fb23,this[_0x60118(0x25d)]=_0x48834d,this[_0x60118(0xf1)]=_0x4be93c,this['connectionConstructor']=_0x53714d,this[_0x60118(0x4d9)]=new this[(_0x60118(0x6a4))]({'handshakeServers':this[_0x60118(0x25d)]}),this[_0x60118(0x769)]();}[_0x37ac7d(0x91a)](){this['stopConnection']();}[_0x37ac7d(0x85b)](_0x442545){const _0x228ef7=_0x37ac7d;this[_0x228ef7(0xf1)]=_0x442545;}async[_0x37ac7d(0x19c)](_0x115edd,_0x205e74){const _0x39d182=_0x37ac7d;if(_0x205e74===this[_0x39d182(0x9d8)])for(const _0x5c1d1d of _0x115edd){if(!this['connection'][_0x39d182(0x86a)])return this[_0x39d182(0x625)](_0x5c1d1d);try{await this[_0x39d182(0x4d9)][_0x39d182(0x852)](_0x5c1d1d);}catch(_0xe1157){this[_0x39d182(0x625)](_0x5c1d1d);}}}[_0x37ac7d(0x39e)](){const _0x4156c8=_0x37ac7d;return this['logConnectionState'](),'connected'===this['connection'][_0x4156c8(0x77b)]&&['connected',_0x4156c8(0x780)][_0x4156c8(0x444)](this[_0x4156c8(0x4d9)][_0x4156c8(0x2c9)])&&'closed'!==this[_0x4156c8(0x4d9)][_0x4156c8(0x35f)]&&_0x4156c8(0x211)===this[_0x4156c8(0x485)]?.[_0x4156c8(0x5de)];}[_0x37ac7d(0x1b9)](_0x25165d){const _0x2dbff2=_0x37ac7d;this[_0x2dbff2(0x1b1)]=_0x25165d;}[_0x37ac7d(0x84a)](){const _0xd0b76f=_0x37ac7d;delete this[_0xd0b76f(0x1b1)];}[_0x37ac7d(0x6ce)](_0x2b03d3){const _0x4f1dfc=_0x37ac7d;this['stopConnection'](),this[_0x4f1dfc(0x4d9)]=new this['connectionConstructor']({'handshakeServers':this[_0x4f1dfc(0x25d)]}),_0x2b03d3?this[_0x4f1dfc(0x9d8)]=_0x2b03d3:this['currentVersion']+=0x1,this['setupConnectionEvents']();}[_0x37ac7d(0x680)](){const _0x34384f=_0x37ac7d;this[_0x34384f(0x763)][_0x34384f(0x97a)](_0x37cd33=>{const _0x49604a=_0x34384f;try{this[_0x49604a(0x4d9)][_0x49604a(0x852)](_0x37cd33);}catch(_0x4d86d8){}}),this[_0x34384f(0x763)]=[];}[_0x37ac7d(0x7fb)](_0x58cf1a,_0x57611d){const _0x415e3b=_0x37ac7d;if(!this[_0x415e3b(0x1b1)])throw new _0x4a800a(_0x4a800a['codes'][_0x415e3b(0x8f0)],{'content':_0x58cf1a});const _0x112d62={'sourceId':this[_0x415e3b(0x116)][_0x415e3b(0x336)](),'destinationIds':[this[_0x415e3b(0x3e2)]],'propagate':this['connectionType']!==_0x3c24ef[_0x415e3b(0x71f)],'retry':this[_0x415e3b(0xf1)]!==_0x3c24ef[_0x415e3b(0x71f)],'messageType':_0x403b04[_0x415e3b(0x5c2)],'content':_0x58cf1a};_0x57611d&&(_0x112d62[_0x415e3b(0x13b)]=_0x57611d),this['systemTopic'][_0x415e3b(0x10d)](_0x112d62);}[_0x37ac7d(0x769)](){const _0x169236=_0x37ac7d;this[_0x169236(0x4d9)][_0x169236(0x401)]=()=>{const _0x40116b=_0x169236;_0x40116b(0x99a)===this[_0x40116b(0x4d9)][_0x40116b(0x621)]&&this['handshakeCandidates'][_0x40116b(0x146)]>0x0&&(this[_0x40116b(0x149)]&&clearTimeout(this[_0x40116b(0x149)]),this[_0x40116b(0x149)]=setTimeout(()=>{const _0x238f19=_0x40116b;delete this[_0x238f19(0x149)],this['sendIceCandidates'](),this[_0x238f19(0x24c)]=[];},0x1f4));},this[_0x169236(0x4d9)]['onCandidate']=_0x241046=>{const _0x5c7049=_0x169236;_0x241046[_0x5c7049(0x92f)]&&this[_0x5c7049(0x24c)][_0x5c7049(0x7b5)](_0x241046['candidate']);};}[_0x37ac7d(0x540)](){const _0x163828=_0x37ac7d;clearTimeout(this[_0x163828(0x149)]),delete this[_0x163828(0x149)],this[_0x163828(0x24c)]=[],this[_0x163828(0x763)]=[],this[_0x163828(0x485)]&&(this[_0x163828(0x485)][_0x163828(0xd1)]=null,this['dataChannel'][_0x163828(0x571)]=null,this[_0x163828(0x485)][_0x163828(0x91a)](),delete this[_0x163828(0x485)]),this['connection']['onGatheringStateChange']=null,this[_0x163828(0x4d9)][_0x163828(0x4a0)]=null,this['connection'][_0x163828(0xe1)]=null,this['connection'][_0x163828(0x902)]=null,this['connection'][_0x163828(0x98b)]=null,this[_0x163828(0x4d9)][_0x163828(0xee)]=null,this[_0x163828(0x4d9)][_0x163828(0x91a)]();}[_0x37ac7d(0x625)](_0x438730){const _0x4cd53b=_0x37ac7d;this[_0x4cd53b(0x763)][_0x4cd53b(0x7b5)](_0x438730);}['logConnectionState'](){const _0x5868b4=_0x37ac7d;_0x52aedf['log'](_0xdea279['ConnectionState'],_0x5868b4(0x759),{'localId':this[_0x5868b4(0x116)]['getId'](),'remoteId':this[_0x5868b4(0x3e2)],'connectionState':this[_0x5868b4(0x4d9)][_0x5868b4(0x77b)],'handshakeState':this[_0x5868b4(0x4d9)]['handshakeState'],'signalingState':this[_0x5868b4(0x4d9)]['signalingState'],'dataChannelState':this['dataChannel']?.[_0x5868b4(0x5de)]});}}function _0x13c792(_0x1fc919,_0x417013){const _0x3949cc=_0x37ac7d;_0x417013[_0x3949cc(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x3949cc(0x5c2)],'content':_0x1fc919});}class _0x177a3e{static [_0x37ac7d(0x912)];[_0x37ac7d(0x5b5)]=[];[_0x37ac7d(0x9c5)];constructor(){setInterval(()=>{const _0x20487d=a0_0xbe57;this[_0x20487d(0x5b5)][_0x20487d(0x97a)](_0x106996=>{const _0x562f2b=_0x20487d;if(Date[_0x562f2b(0x90d)]()-_0x106996['lastExecuted']>_0x106996[_0x562f2b(0x190)]){try{_0x106996[_0x562f2b(0x403)]();}catch(_0x147ee0){}_0x106996[_0x562f2b(0x302)]=Date['now']();}});},0x64);}static[_0x37ac7d(0x507)](){const _0x4d139c=_0x37ac7d;return _0x177a3e[_0x4d139c(0x912)]||(_0x177a3e['instance']=new _0x177a3e()),_0x177a3e[_0x4d139c(0x912)];}['startNoThrottlingHack'](_0x3d65de){const _0x1292c4=_0x37ac7d,_0x5b14ea=this[_0x1292c4(0x86b)](_0x3d65de),_0x3d609a=_0x3d65de[_0x1292c4(0x481)]();_0x3d609a&&_0x5b14ea&&(_0x3d609a['gain'][_0x1292c4(0x470)]=0.001,_0x5b14ea[_0x1292c4(0x191)](_0x3d609a),_0x3d609a['connect'](_0x3d65de[_0x1292c4(0x2b9)]),_0x5b14ea[_0x1292c4(0x915)]());}['stopNoThrottlingHack'](){const _0x4507f3=_0x37ac7d;this[_0x4507f3(0x9c5)]&&(this[_0x4507f3(0x9c5)]['stop'](),this[_0x4507f3(0x9c5)][_0x4507f3(0x58d)](),this[_0x4507f3(0x9c5)]=void 0x0);}['wait'](_0x260634){return new Promise(_0x17f78f=>{setTimeout(_0x17f78f,_0x260634);});}[_0x37ac7d(0x10c)](_0x54de14,_0x922680){const _0xcc3e2f=_0x37ac7d;return this[_0xcc3e2f(0x5b5)][_0xcc3e2f(0x7b5)]({'callback':_0x54de14,'interval':_0x922680,'lastExecuted':Date[_0xcc3e2f(0x90d)]()}),()=>{const _0x5b9b1d=_0xcc3e2f;this[_0x5b9b1d(0x5b5)]=this['parameters']['filter'](_0xe01529=>_0xe01529['callback']!==_0x54de14);};}[_0x37ac7d(0x86b)](_0x42bbd1){const _0x316d44=_0x37ac7d;if(_0x42bbd1[_0x316d44(0x86b)])return _0x42bbd1[_0x316d44(0x86b)]();const _0x41989f=_0x42bbd1['createBufferSource'](),_0x159101=_0x42bbd1[_0x316d44(0x2e2)](0x1,0x1,_0x42bbd1[_0x316d44(0x669)]);return _0x159101[_0x316d44(0x7e4)](0x0)[0x0]=0xa,_0x41989f[_0x316d44(0x4f1)]=_0x159101,_0x41989f[_0x316d44(0xfd)]=!0x0,_0x41989f;}}const _0x29b976=_0x177a3e[_0x37ac7d(0x507)]();class _0x4e1d54 extends _0xb040a3{['messageCallback']=_0x28e357();[_0x37ac7d(0x7a1)]=_0x28e357();['removeTrackCallback']=_0x28e357();[_0x37ac7d(0x213)]=new Map();['chunks']=new Map();[_0x37ac7d(0x811)];[_0x37ac7d(0x6a2)]=0x0;[_0x37ac7d(0x662)]={'messages':{'total':0x0}};['bytesReceived']=0x0;[_0x37ac7d(0x838)]=0x0;['loggingCycle']=_0x4e5110(_0x37ac7d(0x748),_0xdea279['ReceiverOnMessage']);['close'](){const _0x51aece=_0x37ac7d;this[_0x51aece(0x1f8)](),this[_0x51aece(0x213)][_0x51aece(0x168)](),super[_0x51aece(0x91a)]();}async['handleOffer'](_0x17f309,_0x567a68){const _0x3a485d=_0x37ac7d;this[_0x3a485d(0x9d8)]=_0x567a68,this[_0x3a485d(0x1f8)]();const _0x6d3662=await this[_0x3a485d(0x4d9)][_0x3a485d(0x7c3)](_0x17f309);this[_0x3a485d(0x680)]();const _0x3e5bbc=(0x0,_0x3e20b1['v4'])();this[_0x3a485d(0x7fb)]({'type':_0x4ef545[_0x3a485d(0x5b2)],'answer':_0x6d3662,'version':_0x567a68,'connectionType':this[_0x3a485d(0xf1)]},_0x3e5bbc),this[_0x3a485d(0xf1)]===_0x3c24ef[_0x3a485d(0x71f)]&&(this[_0x3a485d(0x811)]=_0x29b976[_0x3a485d(0x10c)](()=>{const _0x1cda97=_0x3a485d;this[_0x1cda97(0x7fb)]({'type':_0x4ef545[_0x1cda97(0x5b2)],'answer':_0x6d3662,'version':_0x567a68,'connectionType':this['connectionType']},_0x3e5bbc);},0x1388));}['handleSuccess'](){const _0x2be5a2=_0x37ac7d;this[_0x2be5a2(0x1f8)]();}[_0x37ac7d(0x12f)](_0x5c9519){const _0x393a98=_0x37ac7d;this[_0x393a98(0x6ce)](_0x5c9519),this[_0x393a98(0x7fb)]({'type':_0x4ef545[_0x393a98(0x24e)]});}async[_0x37ac7d(0x41c)](){const _0x53dc2a=_0x37ac7d;this[_0x53dc2a(0x1b1)]&&(await this[_0x53dc2a(0x4d9)][_0x53dc2a(0x5a8)](this[_0x53dc2a(0x213)],(_0x23b725,_0x317479)=>{const _0x19067c=_0x53dc2a;_0x13c792({'type':_0x4ef545['Stats'],'streamId':_0x317479,'nodeId':this[_0x19067c(0x3e2)],'stats':_0x23b725},this['systemTopic']);}),this['systemTopic'][_0x53dc2a(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x53dc2a(0x5c2)],'content':{'type':_0x4ef545['Stats'],'nodeId':this[_0x53dc2a(0x3e2)],'stats':{'origin':_0x11d6ca[_0x53dc2a(0x115)],'timestamp':Date[_0x53dc2a(0x90d)](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x53dc2a(0x66a)],'timeReceiving':this['timeReceiving'],'systemMessages':this[_0x53dc2a(0x662)]}}}));}[_0x37ac7d(0xd1)](_0x232bed){const _0x2cba68=_0x37ac7d;return _0x46f3bd[_0x2cba68(0x7c9)]?this['messageCallback'][_0x2cba68(0x9b2)](_0x232bed):this[_0x2cba68(0x8fc)][_0x2cba68(0x9b2)](_0x524072=>{const _0x379dc7=_0x2cba68;0x0===_0x524072['topicLabel']&&_0x524072['messageType']===_0x403b04[_0x379dc7(0x3a0)]&&this[_0x379dc7(0x3c9)][_0x379dc7(0x339)][_0x379dc7(0x857)]('ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20'+this[_0x379dc7(0x3e2)],()=>_0xd536aa(_0x524072)),_0x232bed(_0x524072);});}[_0x37ac7d(0x98b)](_0x16b871){const _0x301d9f=_0x37ac7d;return this[_0x301d9f(0x7a1)][_0x301d9f(0x9b2)](({track:_0x4cd7d6,stream:_0x533829})=>_0x16b871(_0x4cd7d6,_0x533829));}['onRemoveTrack'](_0x90ae8b){const _0x1d45cb=_0x37ac7d;return this['removeTrackCallback'][_0x1d45cb(0x9b2)](({track:_0x589c3e,stream:_0x24933f})=>_0x90ae8b(_0x589c3e,_0x24933f));}[_0x37ac7d(0x6ce)](_0x459be6){const _0x53cfe8=_0x37ac7d;this[_0x53cfe8(0x1f8)](),this[_0x53cfe8(0x213)][_0x53cfe8(0x97a)](_0xaaa978=>{const _0x4d0c40=_0x53cfe8;_0xaaa978[_0x4d0c40(0x168)]();}),super['resetConnection'](_0x459be6);}[_0x37ac7d(0x4dc)](){const _0x37dc83=_0x37ac7d;this[_0x37dc83(0x7fb)]({'type':_0x4ef545['Handshake'],'candidates':this[_0x37dc83(0x24c)],'origin':_0x11d6ca[_0x37dc83(0x115)],'version':this[_0x37dc83(0x9d8)],'connectionType':this[_0x37dc83(0xf1)]});}[_0x37ac7d(0x769)](){const _0x19c27b=_0x37ac7d;super[_0x19c27b(0x769)](),this[_0x19c27b(0x4d9)][_0x19c27b(0x98b)]=_0x33dca4=>{const _0xaa17b8=_0x19c27b;_0x52aedf[_0xaa17b8(0x857)](_0xdea279[_0xaa17b8(0x9c0)],_0xaa17b8(0x801),this[_0xaa17b8(0x116)][_0xaa17b8(0x336)](),_0x33dca4),_0x33dca4[_0xaa17b8(0x5b4)][0x0][_0xaa17b8(0x6fc)]=_0x4e866c=>{const _0x420ed4=_0xaa17b8;this[_0x420ed4(0x213)][_0x420ed4(0x7e9)](_0x33dca4[_0x420ed4(0x5b4)][0x0]['id'])?.[_0x420ed4(0x6fd)](_0x4e866c['track']),0x0===this['receivers'][_0x420ed4(0x7e9)](_0x33dca4[_0x420ed4(0x5b4)][0x0]['id'])?.['size']&&this['receivers'][_0x420ed4(0x6fd)](_0x33dca4[_0x420ed4(0x5b4)][0x0]['id']),this[_0x420ed4(0x46f)]['publish']({'track':_0x4e866c[_0x420ed4(0x1e8)],'stream':_0x33dca4[_0x420ed4(0x5b4)][0x0]});},this[_0xaa17b8(0x213)]['has'](_0x33dca4['streams'][0x0]['id'])||this[_0xaa17b8(0x213)][_0xaa17b8(0x773)](_0x33dca4[_0xaa17b8(0x5b4)][0x0]['id'],new Set()),this[_0xaa17b8(0x213)][_0xaa17b8(0x7e9)](_0x33dca4[_0xaa17b8(0x5b4)][0x0]['id'])['add'](_0x33dca4[_0xaa17b8(0x1e8)]),this['trackCallback']['publish']({'track':_0x33dca4['track'],'stream':_0x33dca4[_0xaa17b8(0x5b4)][0x0]});},this['connection'][_0x19c27b(0xee)]=_0x28efe0=>{const _0x2fc09e=_0x19c27b;this[_0x2fc09e(0x485)]=_0x28efe0[_0x2fc09e(0x469)],this['dataChannel']['onMessage']=_0x10f40a=>{const _0x3dee90=_0x2fc09e;if(_0x10f40a[_0x3dee90(0x51f)]!==_0x4fd9b9)this[_0x3dee90(0x709)](_0x10f40a[_0x3dee90(0x51f)]);else{if(!this[_0x3dee90(0x485)])return void _0x52aedf['error'](_0x3dee90(0x570),{'clusterId':this[_0x3dee90(0x6b0)],'nodeId':this[_0x3dee90(0x116)][_0x3dee90(0x336)](),'nodeType':this[_0x3dee90(0x116)][_0x3dee90(0x623)],'remoteId':this[_0x3dee90(0x3e2)],'data':{'connection':_0x3dee90(0x80c)}});if(_0x3dee90(0x211)!==this[_0x3dee90(0x485)][_0x3dee90(0x5de)])return;this[_0x3dee90(0x485)][_0x3dee90(0x726)]('1');}};};}['handleOnMessage'](_0x554a2d){const _0x439c53=_0x37ac7d;if(_0x439c53(0x865)==typeof _0x554a2d&&_0x554a2d[_0x439c53(0x475)](_0x1bbf33))return this[_0x439c53(0x6a2)]+=0x1,this[_0x439c53(0x66a)]+=_0x554a2d[_0x439c53(0x146)],this['handleChunkMessage'](_0x554a2d);setTimeout(()=>{const _0x53e7fa=_0x439c53,_0x39a33b=Date[_0x53e7fa(0x90d)]();let _0x4f67ce;if((_0x554a2d instanceof ArrayBuffer||_0x554a2d['length']<=_0x48369f)&&(this[_0x53e7fa(0x6a2)]+=0x1,this[_0x53e7fa(0x66a)]+=_0x554a2d instanceof ArrayBuffer?_0x554a2d[_0x53e7fa(0x9c4)]:_0x554a2d[_0x53e7fa(0x146)]),_0x554a2d instanceof ArrayBuffer){const [_0x5da906,_0x27849c]=this[_0x53e7fa(0xea)](_0x554a2d);_0x4f67ce=_0x5da906,_0x4f67ce['content']['data']=_0x27849c;}else _0x4f67ce=JSON['parse'](_0x554a2d);if(0x0===_0x4f67ce[_0x53e7fa(0x292)]){this[_0x53e7fa(0x662)][_0x53e7fa(0x2e7)][_0x53e7fa(0x239)]+=0x1;const {systemMessageType:_0x5c1e36,systemContentMessageType:_0x3c4479}=_0xd536aa(_0x4f67ce);this[_0x53e7fa(0x662)][_0x5c1e36]||(this[_0x53e7fa(0x662)][_0x5c1e36]={[_0x3c4479]:0x0}),this[_0x53e7fa(0x662)][_0x5c1e36][_0x3c4479]||(this[_0x53e7fa(0x662)][_0x5c1e36][_0x3c4479]=0x0),this[_0x53e7fa(0x662)][_0x5c1e36][_0x53e7fa(0x239)]||(this['systemMessagesReceived'][_0x5c1e36][_0x53e7fa(0x239)]=0x0),this[_0x53e7fa(0x662)][_0x5c1e36][_0x3c4479]+=0x1,this[_0x53e7fa(0x662)][_0x5c1e36][_0x53e7fa(0x239)]+=0x1;}this[_0x53e7fa(0x8fc)][_0x53e7fa(0x10d)](_0x4f67ce),this[_0x53e7fa(0x838)]+=Date['now']()-_0x39a33b;},0x0);}[_0x37ac7d(0x5bd)](_0x22e195){const _0x14ec1a=_0x37ac7d,_0x4a9cbb=_0x22e195[_0x14ec1a(0x6b5)](';'),_0x34c4e6=_0x4a9cbb[0x1],_0x41ba24=parseInt(_0x4a9cbb[0x2],0xa),_0x3f9ee2=parseInt(_0x4a9cbb[0x3],0xa),_0x17b0af=_0x22e195[_0x14ec1a(0x756)](_0x1bbf33+';'+_0x34c4e6+';'+_0x41ba24+';'+_0x3f9ee2+';','');this['chunks'][_0x14ec1a(0x158)](_0x34c4e6)||this[_0x14ec1a(0x4c1)][_0x14ec1a(0x773)](_0x34c4e6,[]);const _0x481721=this[_0x14ec1a(0x4c1)]['get'](_0x34c4e6);_0x481721[_0x41ba24]=_0x17b0af,_0x481721[_0x14ec1a(0x146)]===_0x3f9ee2&&(this['handleOnMessage'](_0x481721['join']('')),this[_0x14ec1a(0x4c1)]['delete'](_0x34c4e6));}['clearWaitSuccess'](){const _0x580419=_0x37ac7d;this[_0x580419(0x811)]?.(),delete this[_0x580419(0x811)];}['arrayBufferToObject'](_0x134eb9){const _0x1d5084=_0x37ac7d,_0x29a0e8=new TextDecoder()[_0x1d5084(0xe9)](_0x134eb9);return JSON[_0x1d5084(0x4db)](_0x29a0e8);}[_0x37ac7d(0xea)](_0x395502){const _0x1f4034=_0x37ac7d,_0x2d99bc=new Uint8Array(_0x395502['slice'](0x0,0x4)),_0x3a3a1c=new Uint32Array(_0x2d99bc[_0x1f4034(0x4f1)])[0x0],_0x11654e=new Uint8Array(_0x395502[_0x1f4034(0x281)](0x4,0x4+_0x3a3a1c)),_0x18b084=new Uint8Array(_0x395502[_0x1f4034(0x281)](0x4+_0x3a3a1c));return[this[_0x1f4034(0x369)](_0x11654e[_0x1f4034(0x4f1)]),_0x18b084[_0x1f4034(0x4f1)]];}}const _0xc7812e=0xc350;var _0xf8e86f,_0x4df43c;!function(_0x36a7c5){const _0x116e4c=_0x37ac7d;_0x36a7c5[_0x36a7c5[_0x116e4c(0x182)]=0x0]='High',_0x36a7c5[_0x36a7c5[_0x116e4c(0x61a)]=0x1]='Medium',_0x36a7c5[_0x36a7c5[_0x116e4c(0x1bd)]=0x2]=_0x116e4c(0x1bd);}(_0xf8e86f||(_0xf8e86f={}));class _0x1f2529 extends _0xb040a3{[_0x37ac7d(0x41f)];[_0x37ac7d(0x2cf)];['senders']=new Map();[_0x37ac7d(0x963)];[_0x37ac7d(0x3ba)];['lastHeartbeat'];['isReconnecting']=!0x1;['connectionTimeout'];[_0x37ac7d(0x307)];[_0x37ac7d(0x7a7)];[_0x37ac7d(0x56f)]=function(e,t=_0xf8e86f,s=!0x1){const _0x45584d=_0x37ac7d;let n=!0x1;const i=[];async function o(){const _0x4147f9=a0_0xbe57;if(!n){for(n=!0x0;i['some'](e=>e[_0x4147f9(0x192)]);){let t,n=0x0;for(const [e,s]of i['entries']())if(t=s[_0x4147f9(0x88b)](),n=e,t)break;if(t)try{if(e instanceof _0x4c999a&&e[_0x4147f9(0x900)](t),e instanceof _0x3f96e5&&await e[_0x4147f9(0x900)](t),i[_0x4147f9(0x281)](-0x1)['some'](e=>e[_0x4147f9(0x192)]))continue;const s=i[_0x4147f9(0x146)]-0x1;n===s&&i[s]['head']&&await _0x29b976[_0x4147f9(0x760)](0x0);}catch(o){s?i[n][_0x4147f9(0x7b5)](t,!0x1):i[n][_0x4147f9(0x405)](t,!0x1),await e[_0x4147f9(0x760)]();}}n=!0x1;}}return Object['values'](t)[_0x45584d(0x97a)](e=>{'string'!=typeof e&&(i[e]=_0x3690e8(o));}),{'queues':i};}(new _0x4c999a(this['sendAction'][_0x37ac7d(0x5d9)](this),this['waitSendBuffer'][_0x37ac7d(0x5d9)](this)));['messagesSent']=0x0;['bytesSent']=0x0;[_0x37ac7d(0x5ba)]=0x0;['roundTripTime']=0x0;['oncloseTimeout'];[_0x37ac7d(0x3c9)]=_0x4e5110(_0x37ac7d(0x531),_0xdea279['SenderSendMessage']);constructor(_0x13817f,_0x161141,_0x471928,_0x25d2ef,_0x45003c,_0x718392,_0x3ca5fe,_0x439075){const _0x146803=_0x37ac7d;super(_0x13817f,_0x161141,_0x471928,_0x25d2ef,_0x45003c,_0x439075),this[_0x146803(0x41f)]=_0x718392,this[_0x146803(0x2cf)]=_0x3ca5fe;}[_0x37ac7d(0x91a)](){const _0x56b4dd=_0x37ac7d;this[_0x56b4dd(0x64e)](),this['clearHeartbeat'](),delete this[_0x56b4dd(0x4c8)],this[_0x56b4dd(0x50c)](),this[_0x56b4dd(0x4ea)](),this[_0x56b4dd(0x3af)](),this['senders'][_0x56b4dd(0x168)](),this[_0x56b4dd(0x731)]=!0x1,this['retryQueue']['queues'][_0x56b4dd(0x97a)](_0x24452a=>_0x24452a[_0x56b4dd(0x168)]()),this[_0x56b4dd(0x193)](),super[_0x56b4dd(0x91a)]();}[_0x37ac7d(0x39e)](){const _0x5f4295=_0x37ac7d;return!!this['lastHeartbeat']&&super[_0x5f4295(0x39e)]()&&Date[_0x5f4295(0x90d)]()-this[_0x5f4295(0x4c8)]<0x3a98;}async[_0x37ac7d(0x41c)](){const _0x5e1faa=_0x37ac7d;this[_0x5e1faa(0x1b1)]&&(await this[_0x5e1faa(0x4d9)][_0x5e1faa(0x2c0)](this[_0x5e1faa(0x5ea)],(_0x15782f,_0x28a842)=>{const _0x1cb693=_0x5e1faa;_0x13c792({'type':_0x4ef545['Stats'],'streamId':_0x28a842,'nodeId':this[_0x1cb693(0x3e2)],'stats':_0x15782f},this[_0x1cb693(0x1b1)]);}),this[_0x5e1faa(0x1b1)][_0x5e1faa(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x5e1faa(0x5c2)],'content':{'type':_0x4ef545[_0x5e1faa(0x861)],'nodeId':this[_0x5e1faa(0x3e2)],'stats':{'origin':_0x11d6ca[_0x5e1faa(0x547)],'timestamp':Date[_0x5e1faa(0x90d)](),'messagesSent':this[_0x5e1faa(0x187)],'bytesSent':this['bytesSent'],'timeSending':this[_0x5e1faa(0x5ba)],'roundTripTime':this[_0x5e1faa(0x18d)]}}}));}async['createOffer'](_0x4229fd){const _0xab9a8a=_0x37ac7d;_0x52aedf['log'](_0xdea279[_0xab9a8a(0x9c0)],_0xab9a8a(0x983),this[_0xab9a8a(0x116)][_0xab9a8a(0x336)](),this[_0xab9a8a(0x3e2)]),this[_0xab9a8a(0x50c)](),this[_0xab9a8a(0x4ea)](),this[_0xab9a8a(0x3af)](),this[_0xab9a8a(0x1ce)]=setTimeout(()=>{this['handleDisconnect']();},0x7530),this[_0xab9a8a(0x485)]||(this[_0xab9a8a(0x485)]=this[_0xab9a8a(0x4d9)][_0xab9a8a(0x3c8)](_0xab9a8a(0x51f)),this['dataChannel']['bufferedAmountLowThreshold']=_0x432bb5,this['dataChannel'][_0xab9a8a(0x571)]=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x1c857f=a0_0xbe57;delete this[_0x1c857f(0x330)],[_0x1c857f(0x514),_0x1c857f(0x211)]['includes'](this[_0x1c857f(0x485)]?.[_0x1c857f(0x5de)]??'')||this[_0x1c857f(0x65f)]();},0xfa);});const _0x44578b=await this[_0xab9a8a(0x4d9)][_0xab9a8a(0x3e5)](_0x4229fd);this[_0xab9a8a(0x4c8)]||(this[_0xab9a8a(0x4c8)]=Date['now']());const _0x348d54=(0x0,_0x3e20b1['v4'])();this[_0xab9a8a(0x7fb)]({'type':_0x4ef545[_0xab9a8a(0x637)],'offer':_0x44578b,'version':this['currentVersion'],'connectionType':this[_0xab9a8a(0xf1)]},_0x348d54),this[_0xab9a8a(0xf1)]===_0x3c24ef[_0xab9a8a(0x71f)]&&(this['waitAnswer']=_0x29b976[_0xab9a8a(0x10c)](()=>{const _0x16076f=_0xab9a8a;this[_0x16076f(0x7fb)]({'type':_0x4ef545[_0x16076f(0x637)],'offer':_0x44578b,'version':this[_0x16076f(0x9d8)],'connectionType':this[_0x16076f(0xf1)]},_0x348d54);},0x1388));}async[_0x37ac7d(0x398)](_0x366e03,_0x54bd87){const _0x185c3e=_0x37ac7d;if(_0x54bd87===this['currentVersion']){this[_0x185c3e(0x3af)]();try{await this['connection'][_0x185c3e(0x398)](_0x366e03,this[_0x185c3e(0x3e5)]['bind'](this)),this[_0x185c3e(0x680)](),this[_0x185c3e(0x4ea)](),this[_0x185c3e(0x226)]();}catch(_0x3164f3){this[_0x185c3e(0x65f)]();}}}[_0x37ac7d(0x726)](_0x2235c4){const _0x33c804=_0x37ac7d;if(!this[_0x33c804(0x485)])throw new _0x4a800a(_0x4a800a[_0x33c804(0x7ef)][_0x33c804(0x4df)],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x33c804(0x116)][_0x33c804(0x336)](),'remoteId':this[_0x33c804(0x3e2)],'eventMessage':_0x2235c4});if(_0x33c804(0x211)!==this[_0x33c804(0x485)]['state'])throw new _0x4a800a(_0x4a800a['codes']['InvalidDataChannel'],{'message':_0x33c804(0x3d1),'localId':this[_0x33c804(0x116)][_0x33c804(0x336)](),'remoteId':this[_0x33c804(0x3e2)],'eventMessage':_0x2235c4});let _0x6ffb36;if(_0x2235c4[_0x33c804(0x8c5)][_0x33c804(0x51f)]instanceof ArrayBuffer){const _0x12bfe1=_0x2235c4[_0x33c804(0x8c5)][_0x33c804(0x51f)];_0x2235c4={..._0x2235c4,'content':{..._0x2235c4[_0x33c804(0x8c5)],'data':void 0x0}},_0x6ffb36=this['mergeParts'](_0x2235c4,_0x12bfe1);}else _0x6ffb36=JSON['stringify'](_0x2235c4);if('string'==typeof _0x6ffb36&&_0x6ffb36[_0x33c804(0x146)]>_0x48369f)return this['sendChunked'](_0x2235c4,_0x6ffb36);0x0===_0x2235c4[_0x33c804(0x292)]&&_0x2235c4['messageType']===_0x403b04['Content']&&this[_0x33c804(0x3c9)][_0x33c804(0x339)][_0x33c804(0x5ca)](()=>_0x52aedf[_0x33c804(0x857)](_0xdea279[_0x33c804(0x363)],_0x33c804(0x3b4),this[_0x33c804(0x3e2)],_0xd536aa(_0x2235c4)),void 0x0);const _0x23d2fb=0x0===_0x2235c4[_0x33c804(0x292)]&&[_0x403b04[_0x33c804(0x559)],_0x403b04[_0x33c804(0x5c2)]]['includes'](_0x2235c4[_0x33c804(0x473)])?_0xf8e86f['High']:_0x2235c4 instanceof ArrayBuffer?_0xf8e86f[_0x33c804(0x1bd)]:_0xf8e86f[_0x33c804(0x61a)];this['sendWithRetry'](_0x6ffb36,_0x23d2fb);}[_0x37ac7d(0x152)](_0x14e42c,_0x34e006,_0x2b9ff0,_0x3e3ba0){const _0x31e0a8=_0x37ac7d,_0x2a4c45=(_0x31fee6=this[_0x31e0a8(0x41f)],_0x52efcf=this[_0x31e0a8(0x2cf)],Math['floor'](0xe1000*_0x31fee6*_0x52efcf));var _0x31fee6,_0x52efcf;const _0x71c218=this[_0x31e0a8(0x5ea)][_0x31e0a8(0x7e9)](_0x34e006['id'])||{'stream':_0x34e006,'priority':_0x2b9ff0,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x2a4c45,'maxBitrate':_0x2a4c45,'framerate':this['maxFps'],'maxFramerate':this[_0x31e0a8(0x41f)],'tracks':{},'params':_0x3e3ba0},_0x382acf=_0x71c218['tracks'][_0x14e42c[_0x31e0a8(0x519)]]||{'track':_0x14e42c};if(_0x382acf[_0x31e0a8(0x7fd)]?(_0x382acf[_0x31e0a8(0x1e8)]=_0x14e42c,this['connection']['replaceTrack'](_0x14e42c,_0x382acf['sender'])):_0x382acf[_0x31e0a8(0x7fd)]=this[_0x31e0a8(0x4d9)][_0x31e0a8(0x152)](_0x14e42c,_0x34e006),_0x71c218['tracks'][_0x14e42c['kind']]=_0x382acf,_0x3e3ba0&&(_0x71c218[_0x31e0a8(0x7bb)]=_0x3e3ba0),_0x3e3ba0&&'video'===_0x3e3ba0[_0x31e0a8(0x519)]&&_0x3e3ba0[_0x31e0a8(0x1e0)]&&_0x3e3ba0[_0x31e0a8(0x885)]&&(_0x71c218[_0x31e0a8(0x944)]=this[_0x31e0a8(0x14a)](_0x3e3ba0[_0x31e0a8(0x1e0)],_0x3e3ba0[_0x31e0a8(0x885)]),_0x71c218[_0x31e0a8(0x45d)]=_0x71c218['resolutionScale'],_0x71c218[_0x31e0a8(0x76a)][_0x31e0a8(0x260)]&&_0x71c218[_0x31e0a8(0x76a)]['video'][_0x31e0a8(0x7fd)])){const _0x29f041=_0x71c218['tracks'][_0x31e0a8(0x260)]['sender'];this[_0x31e0a8(0x4d9)]['setEncodingParameters'](_0x29f041,Math[_0x31e0a8(0x92d)](0xa*_0x71c218['resolutionScale'])/0xa,_0x71c218['framerate'],_0x71c218[_0x31e0a8(0x311)],_0x71c218[_0x31e0a8(0x3fe)]);}this[_0x31e0a8(0x5ea)][_0x31e0a8(0x773)](_0x34e006['id'],_0x71c218);}[_0x37ac7d(0x9d6)](_0x19f1d8,_0x543695){const _0x3766c8=_0x37ac7d,_0x5de49c=this[_0x3766c8(0x5ea)]['get'](_0x19f1d8['id']);if(_0x5de49c&&_0x5de49c[_0x3766c8(0x3fe)]!==_0x543695&&(_0x5de49c['priority']=_0x543695,_0x5de49c[_0x3766c8(0x76a)]['video']&&_0x5de49c[_0x3766c8(0x76a)][_0x3766c8(0x260)][_0x3766c8(0x7fd)])){const _0x1f4580=_0x5de49c[_0x3766c8(0x76a)][_0x3766c8(0x260)]['sender'];this['connection'][_0x3766c8(0x90e)](_0x1f4580,Math[_0x3766c8(0x92d)](0xa*_0x5de49c[_0x3766c8(0x944)])/0xa,_0x5de49c[_0x3766c8(0x493)],_0x5de49c[_0x3766c8(0x311)],_0x5de49c[_0x3766c8(0x3fe)]);}}[_0x37ac7d(0x83d)](_0x23dd33,_0x215c2f){const _0x17c991=_0x37ac7d,_0x4bddcb=this[_0x17c991(0x5ea)][_0x17c991(0x7e9)](_0x23dd33['id']);if(_0x4bddcb){if(_0x4bddcb[_0x17c991(0x7bb)]=_0x215c2f,_0x215c2f&&_0x17c991(0x260)===_0x215c2f[_0x17c991(0x519)]&&_0x215c2f[_0x17c991(0x1e0)]&&_0x215c2f[_0x17c991(0x885)]){if(_0x4bddcb['minResolutionScale']=this[_0x17c991(0x14a)](_0x215c2f['resolution'],_0x215c2f[_0x17c991(0x885)]),_0x4bddcb[_0x17c991(0x944)]<_0x4bddcb[_0x17c991(0x45d)]&&(_0x4bddcb[_0x17c991(0x944)]=_0x4bddcb['minResolutionScale']),_0x4bddcb['tracks'][_0x17c991(0x260)]&&_0x4bddcb['tracks'][_0x17c991(0x260)][_0x17c991(0x7fd)]){const _0x3b7300=_0x4bddcb[_0x17c991(0x76a)][_0x17c991(0x260)][_0x17c991(0x7fd)];this[_0x17c991(0x4d9)][_0x17c991(0x90e)](_0x3b7300,Math[_0x17c991(0x92d)](0xa*_0x4bddcb['resolutionScale'])/0xa,_0x4bddcb[_0x17c991(0x493)],_0x4bddcb[_0x17c991(0x311)],_0x4bddcb[_0x17c991(0x3fe)]);}this['clearUpgradeTimeout'](),this[_0x17c991(0x86f)]();}this[_0x17c991(0x5ea)]['set'](_0x23dd33['id'],_0x4bddcb);}}[_0x37ac7d(0x8d5)](_0x28ca60,_0x4ed675){const _0x3178d4=_0x37ac7d,_0x23afd3=this[_0x3178d4(0x5ea)]['get'](_0x4ed675['id']);if(_0x23afd3){const _0x577260=_0x23afd3[_0x3178d4(0x76a)][_0x28ca60[_0x3178d4(0x519)]];_0x577260&&(_0x577260[_0x3178d4(0x7fd)]&&this['connection'][_0x3178d4(0x8d5)](_0x577260[_0x3178d4(0x7fd)]),_0x577260[_0x3178d4(0x1e8)]=void 0x0);}}['applyRemediation'](_0x35c126){const _0x186ab9=_0x37ac7d;this[_0x186ab9(0x64e)]();const _0x3ca0c1=function(_0x37493a,_0x34382f){const _0x24a430=_0x186ab9;return _0x37493a[_0x24a430(0x6a8)]((_0x3b9705,_0x591ae7)=>_0x34382f[_0x24a430(0x47b)]===_0x35c4f2[_0x24a430(0x791)]?_0x591ae7[_0x24a430(0x3fe)]-_0x3b9705['priority']:_0x3b9705['priority']-_0x591ae7[_0x24a430(0x3fe)])['find'](_0x18b238=>function(_0x7e9667,_0x335948){const _0x1f86c5=_0x24a430;if(_0x335948[_0x1f86c5(0x47b)]===_0x35c4f2['Downgrade']){if(_0x335948[_0x1f86c5(0x487)]===_0x3b7697['Resolution'])return _0x7e9667['resolutionScale']<0x4||_0x7e9667[_0x1f86c5(0x696)]>0xf;if(_0x335948[_0x1f86c5(0x487)]===_0x3b7697[_0x1f86c5(0xfb)])return _0x7e9667[_0x1f86c5(0x1f6)]>_0xc7812e;}return _0x7e9667[_0x1f86c5(0x944)]>_0x7e9667[_0x1f86c5(0x45d)]||_0x7e9667['framerate']<_0x7e9667[_0x1f86c5(0x696)]||_0x7e9667['bitrate']<_0x7e9667['maxBitrate'];}(_0x18b238,_0x34382f));}(Array['from'](this['senders'][_0x186ab9(0x5d6)]()),_0x35c126);if(_0x3ca0c1&&(function(_0x3ce293,_0x3231cd){const _0x56b897=_0x186ab9;_0x3ce293[_0x56b897(0x76a)][_0x56b897(0x260)]&&_0x3ce293[_0x56b897(0x76a)][_0x56b897(0x260)][_0x56b897(0x7fd)]&&(_0x3ce293[_0x56b897(0x944)]=function(_0x4f0802,_0x2266ef,_0x1ab6aa){const _0x5594d1=_0x56b897;switch(_0x1ab6aa[_0x5594d1(0x47b)]){case _0x35c4f2[_0x5594d1(0x791)]:_0x1ab6aa['component']===_0x3b7697[_0x5594d1(0x8ea)]&&(_0x4f0802+=0.5)>0x4&&(_0x4f0802=0x4);break;case _0x35c4f2[_0x5594d1(0x757)]:(_0x4f0802-=0.5)<_0x2266ef&&(_0x4f0802=_0x2266ef);}return _0x4f0802;}(_0x3ce293['resolutionScale'],_0x3ce293[_0x56b897(0x45d)],_0x3231cd),_0x3ce293[_0x56b897(0x493)]=function(_0x4dd200,_0x226fdc,_0x177242){const _0xcc4b65=_0x56b897;switch(_0x177242[_0xcc4b65(0x47b)]){case _0x35c4f2['Downgrade']:_0x177242['component']===_0x3b7697[_0xcc4b65(0x8ea)]&&(_0x4dd200-=0x3)<0xf&&(_0x4dd200=0xf);break;case _0x35c4f2[_0xcc4b65(0x757)]:(_0x4dd200+=0x3)>_0x226fdc&&(_0x4dd200=_0x226fdc);}return _0x4dd200;}(_0x3ce293[_0x56b897(0x493)],_0x3ce293[_0x56b897(0x696)],_0x3231cd),_0x3ce293[_0x56b897(0x311)]=function(_0x45b74c,_0x3e7e80,_0x223d9d){const _0x3c5cec=_0x56b897;switch(_0x223d9d[_0x3c5cec(0x47b)]){case _0x35c4f2['Downgrade']:_0x223d9d[_0x3c5cec(0x487)]===_0x3b7697[_0x3c5cec(0xfb)]&&(_0x45b74c*=0.75)<_0xc7812e&&(_0x45b74c=_0xc7812e);break;case _0x35c4f2[_0x3c5cec(0x757)]:(_0x45b74c*=1.25)>_0x3e7e80&&(_0x45b74c=_0x3e7e80);}return _0x45b74c;}(_0x3ce293[_0x56b897(0x311)],_0x3ce293[_0x56b897(0x1f6)],_0x3231cd));}(_0x3ca0c1,_0x35c126),_0x3ca0c1[_0x186ab9(0x76a)]['video']&&_0x3ca0c1[_0x186ab9(0x76a)]['video'][_0x186ab9(0x7fd)])){const _0x59f161=_0x3ca0c1['tracks']['video'][_0x186ab9(0x7fd)];this[_0x186ab9(0x4d9)][_0x186ab9(0x90e)](_0x59f161,Math['floor'](0xa*_0x3ca0c1[_0x186ab9(0x944)])/0xa,_0x3ca0c1['framerate'],_0x3ca0c1[_0x186ab9(0x311)],_0x3ca0c1[_0x186ab9(0x3fe)]);}(_0x3ca0c1||_0x35c126[_0x186ab9(0x47b)]===_0x35c4f2[_0x186ab9(0x791)])&&this[_0x186ab9(0x86f)]();}[_0x37ac7d(0x6d6)](){const _0x426597=_0x37ac7d;return this[_0x426597(0x56f)]['queues'][_0x426597(0x70d)]((_0x1776e6,_0x509b08)=>_0x1776e6+_0x509b08[_0x426597(0x1c1)],0x0)*_0x44909b;}[_0x37ac7d(0x32b)](){const _0x25211e=_0x37ac7d;return this[_0x25211e(0x485)]?.[_0x25211e(0x56d)]??0x0;}[_0x37ac7d(0x6ce)](){const _0x17951c=_0x37ac7d;super['resetConnection'](),this['clearOncloseTimeout'](),this[_0x17951c(0x3af)](),this['senders'][_0x17951c(0x97a)](_0x1ad41e=>{const _0x305de6=_0x17951c;_0x1ad41e[_0x305de6(0x76a)][_0x305de6(0x260)]&&(_0x1ad41e[_0x305de6(0x76a)][_0x305de6(0x260)][_0x305de6(0x7fd)]=void 0x0),_0x1ad41e[_0x305de6(0x76a)][_0x305de6(0x71d)]&&(_0x1ad41e[_0x305de6(0x76a)][_0x305de6(0x71d)][_0x305de6(0x7fd)]=void 0x0);}),this[_0x17951c(0x731)]=!0x0;}async[_0x37ac7d(0x480)](){return new Promise(async _0x10d56c=>{const _0x5740b4=a0_0xbe57;if(!this[_0x5740b4(0x485)]||'open'!==this[_0x5740b4(0x485)][_0x5740b4(0x5de)])return await _0x29b976[_0x5740b4(0x760)](0x64),void _0x10d56c();this[_0x5740b4(0x485)][_0x5740b4(0x56d)]<_0x432bb5?_0x10d56c():this[_0x5740b4(0x485)][_0x5740b4(0x65a)]=()=>{const _0x40a759=_0x5740b4;this['dataChannel']&&(this[_0x40a759(0x485)][_0x40a759(0x65a)]=null),_0x10d56c();};});}[_0x37ac7d(0x163)](_0x14f50b,_0x12365c){const _0x505df8=_0x37ac7d,_0x13e332=[];for(let _0x287198=0x0;_0x287198<_0x12365c[_0x505df8(0x146)];_0x287198+=_0x48369f)_0x13e332['push'](_0x12365c[_0x505df8(0x281)](_0x287198,_0x287198+_0x48369f));for(const _0x26c8ce of _0x13e332)this['sendWithRetry'](_0x1bbf33+';'+_0x14f50b['uuid']+';'+_0x13e332['indexOf'](_0x26c8ce)+';'+_0x13e332['length']+';'+_0x26c8ce,_0xf8e86f[_0x505df8(0x1bd)]);}async['sendWithRetry'](_0x1ba78a,_0xe1bc88){const _0x2905ae=_0x37ac7d;_0x1ba78a===_0x4fd9b9?this[_0x2905ae(0x56f)][_0x2905ae(0x279)][_0xe1bc88]['head']?.[_0x2905ae(0x470)]!==_0x4fd9b9&&this[_0x2905ae(0x56f)]['queues'][_0xe1bc88][_0x2905ae(0x405)](_0x1ba78a):this[_0x2905ae(0x56f)][_0x2905ae(0x279)][_0xe1bc88][_0x2905ae(0x7b5)](_0x1ba78a);}[_0x37ac7d(0x556)](_0x152fe7){const _0x5e0130=_0x37ac7d;if(!this['dataChannel']||'open'!==this[_0x5e0130(0x485)][_0x5e0130(0x5de)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this[_0x5e0130(0x485)]['bufferedAmount']>=0xbe8000)throw new Error(_0x5e0130(0x586));const _0x529b08=Date[_0x5e0130(0x90d)]();_0x152fe7!==_0x4fd9b9&&(this['messagesSent']+=0x1,this[_0x5e0130(0x90a)]+=_0x152fe7 instanceof ArrayBuffer?_0x152fe7['byteLength']:_0x152fe7[_0x5e0130(0x146)]),ArrayBuffer,this[_0x5e0130(0x485)][_0x5e0130(0x726)](_0x152fe7),this[_0x5e0130(0x5ba)]+=Date[_0x5e0130(0x90d)]()-_0x529b08;}[_0x37ac7d(0x226)](){const _0x5de340=_0x37ac7d;this['heartbeatUnsubscriber']&&this['clearHeartbeat']();let _0x367c52=!0x0,_0x1b6609=Date[_0x5de340(0x90d)]();this[_0x5de340(0x4c8)]=Date[_0x5de340(0x90d)](),this[_0x5de340(0x485)][_0x5de340(0xd1)]=_0x51aaff=>{const _0x257f96=_0x5de340;'1'===_0x51aaff[_0x257f96(0x51f)]&&(this[_0x257f96(0x18d)]=Date[_0x257f96(0x90d)]()-_0x1b6609,_0x367c52&&this[_0x257f96(0x7fb)]({'type':_0x4ef545['Success']}),_0x367c52=!0x1,this['lastHeartbeat']=Date['now'](),this['isReconnecting']&&(this[_0x257f96(0x731)]=!0x1,this[_0x257f96(0x3a8)]()));},this['heartbeatUnsubscriber']=_0x29b976[_0x5de340(0x10c)](()=>{const _0x1a190e=_0x5de340;_0x1b6609=Date[_0x1a190e(0x90d)](),this['sendWithRetry'](_0x4fd9b9,_0xf8e86f[_0x1a190e(0x182)]),Date[_0x1a190e(0x90d)]()-this['lastHeartbeat']>(_0x367c52?0x15f90:0x3a98)&&this[_0x1a190e(0x65f)]();},0xbb8);}[_0x37ac7d(0x3a8)](){const _0x5e61ff=_0x37ac7d;this[_0x5e61ff(0x5ea)][_0x5e61ff(0x97a)](_0x134b11=>{const _0x216003=_0x5e61ff;_0x134b11[_0x216003(0x76a)]['video']&&_0x134b11[_0x216003(0x76a)][_0x216003(0x260)][_0x216003(0x1e8)]&&!_0x134b11['tracks'][_0x216003(0x260)][_0x216003(0x7fd)]&&(_0x134b11['tracks'][_0x216003(0x260)]['sender']=this[_0x216003(0x4d9)][_0x216003(0x152)](_0x134b11[_0x216003(0x76a)][_0x216003(0x260)][_0x216003(0x1e8)],_0x134b11[_0x216003(0x462)])),_0x134b11[_0x216003(0x76a)]['audio']&&_0x134b11[_0x216003(0x76a)][_0x216003(0x71d)][_0x216003(0x1e8)]&&!_0x134b11['tracks'][_0x216003(0x71d)][_0x216003(0x7fd)]&&(_0x134b11[_0x216003(0x76a)][_0x216003(0x71d)]['sender']=this['connection'][_0x216003(0x152)](_0x134b11[_0x216003(0x76a)][_0x216003(0x71d)][_0x216003(0x1e8)],_0x134b11[_0x216003(0x462)]));});}['sendIceCandidates'](){const _0x4614aa=_0x37ac7d;this[_0x4614aa(0x7fb)]({'type':_0x4ef545['Handshake'],'candidates':this[_0x4614aa(0x24c)],'origin':_0x11d6ca[_0x4614aa(0x547)],'version':this[_0x4614aa(0x9d8)],'connectionType':this[_0x4614aa(0xf1)]});}['setupConnectionEvents'](){const _0x5fb14a=_0x37ac7d;super[_0x5fb14a(0x769)](),this[_0x5fb14a(0x4d9)][_0x5fb14a(0xe1)]=()=>{const _0x43c0ee=_0x5fb14a;if('failed'===this[_0x43c0ee(0x4d9)][_0x43c0ee(0x2c9)]){_0x52aedf['log'](_0xdea279[_0x43c0ee(0x29a)],_0x43c0ee(0x87b),this['localNode']['getId'](),this[_0x43c0ee(0x3e2)]);try{if(this[_0x43c0ee(0x4d9)][_0x43c0ee(0x8d1)])return void this['connection'][_0x43c0ee(0x2eb)]();}catch(_0x5f47d7){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x5fb14a(0x4d9)]['onConnectionStateChange']=()=>{const _0x5dbe93=_0x5fb14a;_0x5dbe93(0x816)!==this[_0x5dbe93(0x4d9)][_0x5dbe93(0x77b)]&&_0x5dbe93(0x663)!==this['connection']['connectionState']||this[_0x5dbe93(0x65f)]();};}[_0x37ac7d(0x65f)](){const _0x21b8aa=_0x37ac7d;this[_0x21b8aa(0x1ec)](),this[_0x21b8aa(0x50c)](),this['clearConnectionTimeout'](),_0x52aedf[_0x21b8aa(0x8b1)](_0x21b8aa(0x58d),{'clusterId':this[_0x21b8aa(0x6b0)],'nodeId':this['localNode'][_0x21b8aa(0x336)](),'nodeType':this['localNode'][_0x21b8aa(0x623)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x21b8aa(0xf1)],'connectionState':this[_0x21b8aa(0x4d9)][_0x21b8aa(0x77b)],'iceConnectionState':this[_0x21b8aa(0x4d9)][_0x21b8aa(0x2c9)],'signalingState':this[_0x21b8aa(0x4d9)][_0x21b8aa(0x35f)],'readyState':this[_0x21b8aa(0x485)]?.['state']||'','lastHeartbeat':this[_0x21b8aa(0x4c8)]?Date[_0x21b8aa(0x90d)]()-this[_0x21b8aa(0x4c8)]:'','retryQueue':this[_0x21b8aa(0x56f)]}}),(this['lastHeartbeat']&&Date['now']()-this[_0x21b8aa(0x4c8)]>0xea60)??0x1?this['systemTopic'][_0x21b8aa(0x10d)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x21b8aa(0x116)][_0x21b8aa(0x336)]()],'messageType':_0x403b04[_0x21b8aa(0x5c2)],'content':{'type':_0x4ef545[_0x21b8aa(0x1a5)]}}):(this[_0x21b8aa(0x6ce)](),this['publishSystemMessage']({'type':_0x4ef545[_0x21b8aa(0x632)],'version':this[_0x21b8aa(0x9d8)],'connectionType':this[_0x21b8aa(0xf1)]}),this[_0x21b8aa(0x307)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0x37ac7d(0x1ec)](){const _0x573ac7=_0x37ac7d;this['heartbeatUnsubscriber']?.(),delete this[_0x573ac7(0x963)];}[_0x37ac7d(0x4ea)](){const _0x159ab0=_0x37ac7d;this[_0x159ab0(0x1ce)]&&(clearTimeout(this[_0x159ab0(0x1ce)]),delete this[_0x159ab0(0x1ce)]);}[_0x37ac7d(0x50c)](){const _0x306fda=_0x37ac7d;this[_0x306fda(0x307)]&&(clearTimeout(this['restartTimeout']),delete this['restartTimeout']);}[_0x37ac7d(0x64e)](){const _0x27bdf1=_0x37ac7d;this[_0x27bdf1(0x7a7)]&&(clearTimeout(this[_0x27bdf1(0x7a7)]),delete this[_0x27bdf1(0x7a7)]);}[_0x37ac7d(0x86f)](){const _0x5987f1=_0x37ac7d;this[_0x5987f1(0x7a7)]=setTimeout(()=>{const _0x2e0db3=_0x5987f1;this[_0x2e0db3(0x577)]({'type':_0x43b6a7[_0x2e0db3(0x5cf)],'action':_0x35c4f2[_0x2e0db3(0x757)]});},0x3a98);}['getResolutionScale'](_0x4b2524,_0x4548a1){const _0x152b24=_0x37ac7d,_0x1f9abe=Math[_0x152b24(0x344)](_0x4b2524[_0x152b24(0x259)]/_0x4548a1[_0x152b24(0x259)],_0x4b2524['height']/_0x4548a1[_0x152b24(0x9ae)]);return Math[_0x152b24(0x48b)](Math[_0x152b24(0x344)](_0x1f9abe,0x1),0x4);}[_0x37ac7d(0x3af)](){const _0x4986f9=_0x37ac7d;this['waitAnswer']?.(),delete this[_0x4986f9(0x3ba)];}[_0x37ac7d(0x193)](){const _0x61342f=_0x37ac7d;this[_0x61342f(0x330)]&&(clearTimeout(this[_0x61342f(0x330)]),delete this[_0x61342f(0x330)]);}[_0x37ac7d(0x496)](_0xd831ee){const _0x5c798e=_0x37ac7d,_0x4cd222=JSON[_0x5c798e(0x343)](_0xd831ee);return new TextEncoder()[_0x5c798e(0x68a)](_0x4cd222)[_0x5c798e(0x4f1)];}[_0x37ac7d(0x5b7)](_0x4806a8,_0x15904f){const _0x365296=_0x37ac7d,_0x4f9e61=this[_0x365296(0x496)](_0x4806a8),_0x4b8bcc=new Uint8Array(0x4),_0x3b950c=new Uint8Array(_0x4f9e61),_0x474c4c=new Uint8Array(_0x15904f);_0x4b8bcc[_0x365296(0x773)](new Uint8Array(new Uint32Array([_0x3b950c[_0x365296(0x146)]])[_0x365296(0x4f1)]));const _0x5cca6d=new Uint8Array(0x4+_0x3b950c[_0x365296(0x146)]+_0x474c4c[_0x365296(0x146)]);return _0x5cca6d['set'](_0x4b8bcc),_0x5cca6d['set'](_0x3b950c,0x4),_0x5cca6d[_0x365296(0x773)](_0x474c4c,0x4+_0x3b950c['length']),_0x5cca6d[_0x365296(0x4f1)];}}class _0x409e5a extends _0x1e5593{[_0x37ac7d(0x25d)];[_0x37ac7d(0xf1)];[_0x37ac7d(0x41f)];['maxBpp'];[_0x37ac7d(0x6a4)];['senderConnection'];[_0x37ac7d(0x2a7)];['receiverUnsubscribers']=[];['messageListeners']=_0x376fa8();[_0x37ac7d(0x27d)]=_0x376fa8();[_0x37ac7d(0x2f8)]=_0x376fa8();['listenerUnsubscribers']=[];[_0x37ac7d(0x1b1)];[_0x37ac7d(0x7c6)]=new Map();[_0x37ac7d(0x908)]=new Map();[_0x37ac7d(0x3ac)]=new Map();['mediaUnsubscribers']=new Map();['successNotified']=!0x1;constructor(_0x380e2a,_0x423df2,_0x2a2e85,_0x2f5ae1,_0xab0c45,_0x3a337e,_0x55458b,_0xb8e748){const _0x42da9c=_0x37ac7d;super(_0x380e2a,_0x423df2,_0x2a2e85),this[_0x42da9c(0x25d)]=_0x2f5ae1,this['connectionType']=_0xab0c45,this[_0x42da9c(0x41f)]=_0x3a337e,this['maxBpp']=_0x55458b,this[_0x42da9c(0x6a4)]=_0xb8e748;}[_0x37ac7d(0x3a1)](_0x2ca645){const _0x346764=_0x37ac7d;switch(_0x2ca645[_0x346764(0x151)]()){case _0x441722[_0x346764(0x4bf)][_0x346764(0x5e0)]:case _0x441722[_0x346764(0x4bf)][_0x346764(0x698)]:case _0x441722[_0x346764(0x4bf)]['ObjectStore']:case _0x441722[_0x346764(0x4bf)]['KeyValueDatabase']:case _0x441722['ContentType']['Job']:case _0x441722['ContentType'][_0x346764(0x8bf)]:case _0x441722[_0x346764(0x4bf)][_0x346764(0x67c)]:case _0x441722[_0x346764(0x4bf)]['ExternalStorage']:this[_0x346764(0x7c6)]['set'](_0x2ca645['getLabel'](),_0x2ca645);break;case _0x441722[_0x346764(0x4bf)]['Media']:this[_0x346764(0x3ac)][_0x346764(0x773)](_0x2ca645[_0x346764(0x854)](),_0x2ca645);}}[_0x37ac7d(0x3c1)](_0x515413){const _0x4be4e6=_0x37ac7d;switch(_0x515413[_0x4be4e6(0x151)]()){case _0x441722['ContentType']['Data']:case _0x441722[_0x4be4e6(0x4bf)][_0x4be4e6(0x698)]:case _0x441722[_0x4be4e6(0x4bf)][_0x4be4e6(0x442)]:case _0x441722[_0x4be4e6(0x4bf)]['KeyValueDatabase']:case _0x441722[_0x4be4e6(0x4bf)][_0x4be4e6(0x7a8)]:case _0x441722['ContentType'][_0x4be4e6(0x8bf)]:case _0x441722['ContentType']['GraphDatabase']:case _0x441722[_0x4be4e6(0x4bf)][_0x4be4e6(0x664)]:this[_0x4be4e6(0x7c6)][_0x4be4e6(0x6fd)](_0x515413[_0x4be4e6(0x854)]());break;case _0x441722[_0x4be4e6(0x4bf)]['Media']:this[_0x4be4e6(0x3ac)][_0x4be4e6(0x6fd)](_0x515413['getLabel']());}}[_0x37ac7d(0x8b7)](_0x18cb55){const _0x10c2ca=_0x37ac7d;switch(_0x18cb55[_0x10c2ca(0x151)]()){case _0x441722[_0x10c2ca(0x4bf)][_0x10c2ca(0x5e0)]:case _0x441722['ContentType'][_0x10c2ca(0x698)]:case _0x441722[_0x10c2ca(0x4bf)][_0x10c2ca(0x442)]:case _0x441722[_0x10c2ca(0x4bf)][_0x10c2ca(0x2df)]:case _0x441722[_0x10c2ca(0x4bf)]['Job']:case _0x441722[_0x10c2ca(0x4bf)][_0x10c2ca(0x8bf)]:case _0x441722['ContentType'][_0x10c2ca(0x67c)]:case _0x441722[_0x10c2ca(0x4bf)][_0x10c2ca(0x664)]:{const _0x358068=_0x18cb55[_0x10c2ca(0x9b2)](_0x5db670=>{const _0x450f40=_0x10c2ca;_0x2c65fe(_0x5db670,this['getLocalId']())&&_0x49adb7(_0x5db670,this['remoteId'])&&this[_0x450f40(0x726)](_0x5db670);});this[_0x10c2ca(0x908)]['set'](_0x18cb55[_0x10c2ca(0x854)](),_0x358068);break;}case _0x441722[_0x10c2ca(0x4bf)][_0x10c2ca(0x8f5)]:{const _0x5cca31=_0x18cb55[_0x10c2ca(0x9b2)](({content:_0x2304cd})=>{const _0x3ab268=_0x10c2ca;switch(_0x2304cd['action']){case _0x24cd00['Add']:this[_0x3ab268(0x152)](_0x2304cd[_0x3ab268(0x1e8)],_0x2304cd[_0x3ab268(0x462)],_0x2304cd[_0x3ab268(0x3fe)],_0x2304cd['params']);break;case _0x24cd00[_0x3ab268(0x458)]:this[_0x3ab268(0x8d5)](_0x2304cd[_0x3ab268(0x1e8)],_0x2304cd[_0x3ab268(0x462)]);break;case _0x24cd00[_0x3ab268(0x39d)]:_0x2304cd[_0x3ab268(0x3fe)]&&this[_0x3ab268(0x9d6)](_0x2304cd[_0x3ab268(0x462)],_0x2304cd[_0x3ab268(0x3fe)]),_0x2304cd['params']&&this[_0x3ab268(0x83d)](_0x2304cd[_0x3ab268(0x462)],_0x2304cd[_0x3ab268(0x7bb)]);}});this[_0x10c2ca(0x7f0)][_0x10c2ca(0x773)](_0x18cb55[_0x10c2ca(0x854)](),_0x5cca31);break;}}}[_0x37ac7d(0x6cc)](_0x357374){const _0x5afbf8=_0x37ac7d;switch(_0x357374['getContentType']()){case _0x441722[_0x5afbf8(0x4bf)][_0x5afbf8(0x5e0)]:case _0x441722[_0x5afbf8(0x4bf)][_0x5afbf8(0x698)]:case _0x441722[_0x5afbf8(0x4bf)][_0x5afbf8(0x442)]:case _0x441722[_0x5afbf8(0x4bf)][_0x5afbf8(0x2df)]:case _0x441722[_0x5afbf8(0x4bf)][_0x5afbf8(0x7a8)]:case _0x441722[_0x5afbf8(0x4bf)][_0x5afbf8(0x8bf)]:case _0x441722[_0x5afbf8(0x4bf)][_0x5afbf8(0x67c)]:case _0x441722['ContentType']['ExternalStorage']:this['dataUnsubscribers']['get'](_0x357374[_0x5afbf8(0x854)]())?.(),this[_0x5afbf8(0x908)][_0x5afbf8(0x6fd)](_0x357374[_0x5afbf8(0x854)]());break;case _0x441722['ContentType'][_0x5afbf8(0x8f5)]:this['mediaUnsubscribers']['get'](_0x357374[_0x5afbf8(0x854)]())?.(),this[_0x5afbf8(0x7f0)][_0x5afbf8(0x6fd)](_0x357374['getLabel']());}}[_0x37ac7d(0x970)](){const _0x12b71e=_0x37ac7d;return[_0x441722[_0x12b71e(0x4bf)][_0x12b71e(0x5e0)],_0x441722['ContentType'][_0x12b71e(0x8f5)],_0x441722[_0x12b71e(0x4bf)][_0x12b71e(0x698)],_0x441722[_0x12b71e(0x4bf)][_0x12b71e(0x442)],_0x441722[_0x12b71e(0x4bf)]['KeyValueDatabase'],_0x441722[_0x12b71e(0x4bf)][_0x12b71e(0x7a8)],_0x441722['ContentType'][_0x12b71e(0x8bf)],_0x441722[_0x12b71e(0x4bf)][_0x12b71e(0x67c)],_0x441722['ContentType'][_0x12b71e(0x664)]];}[_0x37ac7d(0x1b9)](_0x1aba68){const _0x44a866=_0x37ac7d;this[_0x44a866(0x1b1)]=_0x1aba68;}[_0x37ac7d(0x84a)](){delete this['systemTopic'];}async[_0x37ac7d(0x191)](){const _0x33b1e1=_0x37ac7d;this[_0x33b1e1(0x2d8)](),await this[_0x33b1e1(0x3e5)]();}['close'](){const _0x16021d=_0x37ac7d;this[_0x16021d(0x26c)]['forEach'](_0x5e842d=>_0x5e842d()),this[_0x16021d(0x26c)]=[],this[_0x16021d(0xcb)]?.[_0x16021d(0x84a)](),this[_0x16021d(0xcb)]?.[_0x16021d(0x91a)](),delete this[_0x16021d(0xcb)],this[_0x16021d(0x33c)]['forEach'](_0x22d5ff=>_0x22d5ff()),this[_0x16021d(0x33c)]=[],this[_0x16021d(0x2a7)]?.['unregisterSystemPublisher'](),this[_0x16021d(0x2a7)]?.[_0x16021d(0x91a)](),delete this['receiverConnection'];}[_0x37ac7d(0x39e)](){const _0x2b04e2=_0x37ac7d;return this['senderConnection']?.[_0x2b04e2(0x39e)]()&&this[_0x2b04e2(0x2a7)]?.['isConnected']()||!0x1;}['send'](_0x347683){const _0x34ee23=_0x37ac7d;if(!this[_0x34ee23(0xcb)]||!this[_0x34ee23(0x39e)]())throw new _0x4a800a(_0x4a800a[_0x34ee23(0x7ef)][_0x34ee23(0x9ad)],{'message':_0x34ee23(0x9b7),'senderConnected':this[_0x34ee23(0xcb)]?.[_0x34ee23(0x39e)](),'receiverConnected':this[_0x34ee23(0x2a7)]?.[_0x34ee23(0x39e)](),'localId':this[_0x34ee23(0x505)](),'remoteId':this['remoteId'],'data':_0x347683});this['senderConnection'][_0x34ee23(0x726)](_0x347683);}[_0x37ac7d(0xd1)](_0x50f309){const _0x25c08e=_0x37ac7d;return this[_0x25c08e(0x274)]['subscribe'](_0x50f309);}[_0x37ac7d(0x98b)](_0x6c5bf3){const _0x7b45c8=_0x37ac7d;return this[_0x7b45c8(0x27d)][_0x7b45c8(0x9b2)](({track:_0x22c645,stream:_0x35c344})=>_0x6c5bf3(_0x22c645,_0x35c344));}['onRemoveTrack'](_0x5f0894){const _0x4fc29e=_0x37ac7d;return this['removeTrackListeners'][_0x4fc29e(0x9b2)](({track:_0x130032,stream:_0x2e6f3c})=>_0x5f0894(_0x130032,_0x2e6f3c));}[_0x37ac7d(0x152)](_0x195266,_0x2b32d2,_0x3a9be2,_0x48c2ea){const _0x370309=_0x37ac7d;this['senderConnection']?.[_0x370309(0x152)](_0x195266,_0x2b32d2,_0x3a9be2,_0x48c2ea);}['setPriority'](_0x38ccce,_0x55b535){const _0x15e177=_0x37ac7d;this['senderConnection']?.[_0x15e177(0x9d6)](_0x38ccce,_0x55b535);}[_0x37ac7d(0x83d)](_0x557b1a,_0x38b932){const _0x3f89fe=_0x37ac7d;this['senderConnection']?.[_0x3f89fe(0x83d)](_0x557b1a,_0x38b932);}[_0x37ac7d(0x8d5)](_0x517360,_0x2f9203){const _0x4138dd=_0x37ac7d;this[_0x4138dd(0xcb)]?.[_0x4138dd(0x8d5)](_0x517360,_0x2f9203);}async[_0x37ac7d(0x51c)](_0x360919){const _0xb6457c=_0x37ac7d;_0x52aedf[_0xb6457c(0x857)](_0xdea279[_0xb6457c(0x9c0)],_0xb6457c(0x45c),this[_0xb6457c(0x505)](),_0x360919);const {content:_0x44e602}=_0x360919;switch(_0x44e602[_0xb6457c(0x623)]){case _0x4ef545[_0xb6457c(0x637)]:await this[_0xb6457c(0x1d2)](_0x44e602);break;case _0x4ef545[_0xb6457c(0x5b2)]:await this[_0xb6457c(0x398)](_0x44e602);break;case _0x4ef545['Success']:this[_0xb6457c(0x8c7)]();break;case _0x4ef545[_0xb6457c(0x1c3)]:await this[_0xb6457c(0x5f4)](_0x44e602);break;case _0x4ef545[_0xb6457c(0x632)]:this['handleNeedRestart'](_0x44e602);break;case _0x4ef545['Restart']:await this['createOffer']();}}['handleRemediationSystemEvents'](_0x4fe485){const _0x571264=_0x37ac7d;this[_0x571264(0xcb)]?.['applyRemediation'](_0x4fe485['content'][_0x571264(0x51f)]);}[_0x37ac7d(0x574)](){const _0x372acb=_0x37ac7d;return this[_0x372acb(0xf1)];}['setConnectionType'](_0x2f9a43){const _0x4a0c89=_0x37ac7d;this[_0x4a0c89(0xf1)]=_0x2f9a43,this[_0x4a0c89(0xcb)]?.[_0x4a0c89(0x85b)](_0x2f9a43),this[_0x4a0c89(0x2a7)]?.[_0x4a0c89(0x85b)](_0x2f9a43);}async[_0x37ac7d(0x41c)](){const _0x36a195=_0x37ac7d;await this[_0x36a195(0xcb)]?.['collectStats'](),await this['receiverConnection']?.[_0x36a195(0x41c)]();}[_0x37ac7d(0x6d6)](){const _0x4200e1=_0x37ac7d;return this['senderConnection']?.[_0x4200e1(0x6d6)]()??0x0;}[_0x37ac7d(0x32b)](){const _0x43fa83=_0x37ac7d;return this[_0x43fa83(0xcb)]?.[_0x43fa83(0x32b)]()??0x0;}['setupListeners'](){const _0x3d341c=_0x37ac7d;this[_0x3d341c(0x26c)][_0x3d341c(0x7b5)](this[_0x3d341c(0xd1)](_0x3915fa=>{const _0x581cd0=_0x3d341c;_0x49adb7(_0x3915fa,this[_0x581cd0(0x505)]())&&0x0!==_0x3915fa[_0x581cd0(0x292)]&&this['dataTopics']['get'](_0x3915fa[_0x581cd0(0x292)])?.[_0x581cd0(0x10d)](_0x3915fa);})),this[_0x3d341c(0x26c)][_0x3d341c(0x7b5)](this['onTrack']((_0x8bdea9,_0x3d46d3)=>{const _0x11e13a=_0x3d341c,_0x3e1292=_0x1e04f1(_0x441722[_0x11e13a(0x4bf)]['Media'],_0x3d46d3['id'],this[_0x11e13a(0x3e2)]);this['mediaTopics'][_0x11e13a(0x7e9)](_0x3e1292)?.['publish']({'topicLabel':_0x3e1292,'sourceId':this['remoteId'],'contentType':_0x441722['ContentType']['Media'],'content':{'action':_0x24cd00[_0x11e13a(0x210)],'track':_0x8bdea9,'stream':_0x3d46d3,'providerId':this[_0x11e13a(0x3e2)]}});})),this[_0x3d341c(0x26c)][_0x3d341c(0x7b5)](this[_0x3d341c(0x2f3)]((_0x5b3056,_0x71b5da)=>{const _0x3e6f4c=_0x3d341c,_0x56b729=_0x1e04f1(_0x441722['ContentType'][_0x3e6f4c(0x8f5)],_0x71b5da['id'],this[_0x3e6f4c(0x3e2)]);this['mediaTopics'][_0x3e6f4c(0x7e9)](_0x56b729)?.[_0x3e6f4c(0x10d)]({'topicLabel':_0x56b729,'sourceId':this['remoteId'],'contentType':_0x441722['ContentType'][_0x3e6f4c(0x8f5)],'content':{'action':_0x24cd00[_0x3e6f4c(0x296)],'track':_0x5b3056,'stream':_0x71b5da,'providerId':this['remoteId']}});}));}[_0x37ac7d(0x5f4)]({candidates:_0x291493,origin:_0x4023a2,version:_0x140e39}){const _0xda027b=_0x37ac7d;return _0x4023a2===_0x11d6ca[_0xda027b(0x547)]?(this['receiverConnection']||this[_0xda027b(0x5e4)](),this[_0xda027b(0x2a7)]['handleHandshake'](_0x291493,_0x140e39)):this[_0xda027b(0xcb)][_0xda027b(0x19c)](_0x291493,_0x140e39);}async[_0x37ac7d(0x3e5)](){const _0x3d50ba=_0x37ac7d;this[_0x3d50ba(0xcb)]||this['createSenderConnection'](),await this[_0x3d50ba(0xcb)]['createOffer']();}async[_0x37ac7d(0x1d2)]({offer:_0x1713ec,version:_0x51459c}){const _0x25147b=_0x37ac7d;this[_0x25147b(0x2a7)]||this[_0x25147b(0x5e4)](),await this[_0x25147b(0x2a7)][_0x25147b(0x1d2)](_0x1713ec,_0x51459c);}async[_0x37ac7d(0x398)]({answer:_0x5a72b3,version:_0x5c6b16}){const _0x4d90dd=_0x37ac7d;if(!this['senderConnection'])throw new _0x4a800a(_0x4a800a[_0x4d90dd(0x7ef)][_0x4d90dd(0x9ad)],{'message':_0x4d90dd(0x235),'localId':this['getLocalId'](),'remoteId':this[_0x4d90dd(0x3e2)],'answer':_0x5a72b3});await this[_0x4d90dd(0xcb)][_0x4d90dd(0x398)](_0x5a72b3,_0x5c6b16);}[_0x37ac7d(0x8c7)](){const _0xa2de92=_0x37ac7d;if(!this[_0xa2de92(0x2a7)])throw new _0x4a800a(_0x4a800a[_0xa2de92(0x7ef)][_0xa2de92(0x9ad)],{'message':_0xa2de92(0x429),'localId':this[_0xa2de92(0x505)](),'remoteId':this[_0xa2de92(0x3e2)]});this[_0xa2de92(0x2a7)]['handleSuccess'](),this[_0xa2de92(0x9d9)]||this['connectionType']!==_0x3c24ef[_0xa2de92(0x8c0)]||(this[_0xa2de92(0x9d9)]=!0x0,this['systemTopic']?.['publish']({'sourceId':this[_0xa2de92(0x3e2)],'destinationIds':[this[_0xa2de92(0x505)]()],'messageType':_0x403b04[_0xa2de92(0x5c2)],'content':{'type':_0x4ef545[_0xa2de92(0x58e)]}}));}[_0x37ac7d(0x12f)](_0x1048f5){const _0x16c61d=_0x37ac7d;this[_0x16c61d(0x2a7)]||this[_0x16c61d(0x5e4)](),this[_0x16c61d(0x2a7)]['handleNeedRestart'](_0x1048f5[_0x16c61d(0x718)]);}['createSenderConnection'](){const _0x53d369=_0x37ac7d;this[_0x53d369(0xcb)]=new _0x1f2529(this[_0x53d369(0x6b0)],this[_0x53d369(0x116)],this[_0x53d369(0x3e2)],this[_0x53d369(0x25d)],this['connectionType'],this[_0x53d369(0x41f)],this[_0x53d369(0x2cf)],this['connectionConstructor']),this['senderConnection'][_0x53d369(0x1b9)](this['systemTopic']);}[_0x37ac7d(0x5e4)](){const _0x217851=_0x37ac7d;this[_0x217851(0x2a7)]=new _0x4e1d54(this['clusterId'],this[_0x217851(0x116)],this[_0x217851(0x3e2)],this['iceServers'],this['connectionType'],this[_0x217851(0x6a4)]),this[_0x217851(0x2a7)][_0x217851(0x1b9)](this[_0x217851(0x1b1)]),this[_0x217851(0x33c)]['push'](this[_0x217851(0x2a7)]['onMessage'](_0x550112=>this['messageListeners'][_0x217851(0x10d)](_0x550112))),this[_0x217851(0x33c)][_0x217851(0x7b5)](this[_0x217851(0x2a7)]['onTrack']((_0x836c3,_0x524e45)=>this[_0x217851(0x27d)][_0x217851(0x10d)]({'track':_0x836c3,'stream':_0x524e45}))),this['receiverUnsubscribers']['push'](this['receiverConnection']['onRemoveTrack']((_0x3398a1,_0x2f4df9)=>this[_0x217851(0x2f8)]['publish']({'track':_0x3398a1,'stream':_0x2f4df9})));}}class _0x35184f{[_0x37ac7d(0x678)];[_0x37ac7d(0x2be)];[_0x37ac7d(0x6b3)];[_0x37ac7d(0x8a4)]=new Map();[_0x37ac7d(0x274)]=_0x376fa8();[_0x37ac7d(0x350)];['dataTopics']=new Map();[_0x37ac7d(0x908)]=new Map();[_0x37ac7d(0x50f)]=new Map();constructor(_0x16f297,_0x14bf9a,_0x48f147){const _0x2d2f88=_0x37ac7d;this['localId']=_0x16f297,this[_0x2d2f88(0x2be)]=_0x14bf9a,this[_0x2d2f88(0x6b3)]=_0x48f147,this[_0x2d2f88(0x350)]=this[_0x2d2f88(0xd1)](_0x215c60=>{const _0x589ff7=_0x2d2f88;this['messageBuffer'][_0x589ff7(0x583)](_0x215c60[_0x589ff7(0x13b)])||(_0x49adb7(_0x215c60,this['localId'])&&0x0!==_0x215c60[_0x589ff7(0x292)]&&(this[_0x589ff7(0x2be)][_0x589ff7(0x942)](_0x215c60[_0x589ff7(0x13b)]),this['dataTopics']['get'](_0x215c60[_0x589ff7(0x292)])?.[_0x589ff7(0x10d)](_0x215c60)),_0x215c60[_0x589ff7(0x849)]&&this['send'](_0x215c60));});}[_0x37ac7d(0x91a)](){const _0x49b723=_0x37ac7d;this[_0x49b723(0x350)]?.();}[_0x37ac7d(0x278)](_0x311ad2){const _0x28a6df=_0x37ac7d,_0x4f08b0=_0x311ad2[_0x28a6df(0xd1)](_0x1116a0=>{const _0x264cdb=_0x28a6df;this[_0x264cdb(0x274)][_0x264cdb(0x10d)](_0x1116a0);});this[_0x28a6df(0x8a4)][_0x28a6df(0x773)](_0x311ad2,_0x4f08b0),this['retryQueues'][_0x28a6df(0x773)](_0x311ad2[_0x28a6df(0xc9)](),function(_0x17cb00,_0x3595cb=!0x1){let _0x483808=new Map();const _0x23fd65=_0x524878(_0x17cb00,_0x3595cb,function(_0x17db49){const _0x40c444=a0_0xbe57;_0x68ed1e(_0x17db49)&&_0x483808[_0x40c444(0x6fd)](_0x17db49[_0x40c444(0x2ea)]+'-'+(_0x17db49['destinationIds']??[])+'-'+_0x17db49[_0x40c444(0x473)]+'-'+_0x17db49[_0x40c444(0x8c5)][_0x40c444(0x623)]);},function(_0x4ef6a9){return!!function(_0x1f70dd){const _0x38d4c6=a0_0xbe57,_0x459675=_0x1f70dd[_0x38d4c6(0x470)];if(!_0x68ed1e(_0x459675))return!0x1;const _0x21df12=_0x459675['sourceId']+'-'+(_0x459675[_0x38d4c6(0x508)]??[])+'-'+_0x459675[_0x38d4c6(0x473)]+'-'+_0x459675[_0x38d4c6(0x8c5)]['type'],_0x16397a={'version':_0x459675['content'][_0x38d4c6(0x718)],'element':_0x1f70dd},_0x222acd=_0x483808['get'](_0x21df12);return _0x222acd?(_0x222acd[_0x38d4c6(0x718)]>=_0x459675[_0x38d4c6(0x8c5)][_0x38d4c6(0x718)]||(_0x222acd[_0x38d4c6(0x214)][_0x38d4c6(0x4ce)]&&(_0x222acd[_0x38d4c6(0x214)][_0x38d4c6(0x4ce)][_0x38d4c6(0x2d3)]=_0x1f70dd,_0x1f70dd[_0x38d4c6(0x4ce)]=_0x222acd['element'][_0x38d4c6(0x4ce)]),_0x222acd[_0x38d4c6(0x214)]['next']&&(_0x222acd[_0x38d4c6(0x214)][_0x38d4c6(0x2d3)][_0x38d4c6(0x4ce)]=_0x1f70dd,_0x1f70dd[_0x38d4c6(0x2d3)]=_0x222acd['element'][_0x38d4c6(0x2d3)]),_0x222acd[_0x38d4c6(0x214)]===_0x23fd65[_0x38d4c6(0x192)]&&(_0x23fd65[_0x38d4c6(0x192)]=_0x1f70dd),_0x222acd['element']===_0x23fd65[_0x38d4c6(0x88f)]&&(_0x23fd65[_0x38d4c6(0x88f)]=_0x1f70dd),_0x483808['set'](_0x21df12,_0x16397a)),!0x0):(_0x483808[_0x38d4c6(0x773)](_0x21df12,_0x16397a),!0x1);}(_0x4ef6a9);},function(){const _0x436e70=a0_0xbe57;_0x483808[_0x436e70(0x168)]();});function _0x68ed1e(_0x42df84){const _0x1842da=a0_0xbe57;if(_0x42df84&&_0x1842da(0x2c3)==typeof _0x42df84&&_0x42df84[_0x1842da(0x341)](_0x1842da(0x8c5))&&_0x42df84[_0x1842da(0x341)](_0x1842da(0x473))&&_0x42df84[_0x1842da(0x341)]('sourceId')){const _0x52192c=_0x42df84;if(_0x52192c[_0x1842da(0x8c5)]&&_0x1842da(0x2c3)==typeof _0x52192c[_0x1842da(0x8c5)]&&_0x52192c[_0x1842da(0x8c5)][_0x1842da(0x341)](_0x1842da(0x718))&&_0x52192c['content'][_0x1842da(0x341)](_0x1842da(0x623)))return!0x0;}return!0x1;}return _0x23fd65;}(new _0x4c999a(_0x35de50=>_0x311ad2['send'](_0x35de50),()=>_0x29b976[_0x28a6df(0x760)](0x64))));}[_0x37ac7d(0x10a)](_0x3fbebb){const _0x172953=_0x37ac7d;this[_0x172953(0x8a4)][_0x172953(0x7e9)](_0x3fbebb)?.(),this['connections']['delete'](_0x3fbebb),this[_0x172953(0x50f)][_0x172953(0x7e9)](_0x3fbebb[_0x172953(0xc9)]())?.[_0x172953(0x168)](),this[_0x172953(0x50f)]['delete'](_0x3fbebb[_0x172953(0xc9)]());}['isConnected'](_0x25066b){const _0x2ad861=_0x37ac7d;return _0x52aedf[_0x2ad861(0x857)](_0xdea279[_0x2ad861(0x29a)],_0x2ad861(0x591),this[_0x2ad861(0x678)],this['connections']['keys']()),0x0!==this[_0x2ad861(0x8a4)]['size']&&(Array['from'](this[_0x2ad861(0x8a4)][_0x2ad861(0x6cd)]())['find'](_0x4f2f9f=>_0x4f2f9f[_0x2ad861(0xc9)]()===_0x25066b)?.[_0x2ad861(0x39e)]()??!0x1);}[_0x37ac7d(0x3a1)](_0x428e3a){const _0x1a1d73=_0x37ac7d;this[_0x1a1d73(0x7c6)][_0x1a1d73(0x773)](_0x428e3a['getLabel'](),_0x428e3a);}[_0x37ac7d(0x3c1)](_0x1e4cbb){const _0x37fa43=_0x37ac7d;this[_0x37fa43(0x7c6)][_0x37fa43(0x6fd)](_0x1e4cbb[_0x37fa43(0x854)]());}[_0x37ac7d(0x8b7)](_0x5e8820){const _0x4c4005=_0x37ac7d,_0xa123f5=_0x5e8820[_0x4c4005(0x9b2)](this[_0x4c4005(0x726)]['bind'](this));this[_0x4c4005(0x908)]['set'](_0x5e8820[_0x4c4005(0x854)](),_0xa123f5);}['unregisterSubscriber'](_0x2fff75){const _0x43c333=_0x37ac7d;this[_0x43c333(0x908)][_0x43c333(0x7e9)](_0x2fff75[_0x43c333(0x854)]())?.(),this[_0x43c333(0x908)]['delete'](_0x2fff75['getLabel']());}[_0x37ac7d(0x970)](){const _0x248c9e=_0x37ac7d;return[_0x441722[_0x248c9e(0x4bf)][_0x248c9e(0x5e0)],_0x441722['ContentType'][_0x248c9e(0x698)],_0x441722[_0x248c9e(0x4bf)][_0x248c9e(0x442)],_0x441722['ContentType'][_0x248c9e(0x2df)],_0x441722[_0x248c9e(0x4bf)][_0x248c9e(0x7a8)],_0x441722[_0x248c9e(0x4bf)][_0x248c9e(0x8bf)],_0x441722[_0x248c9e(0x4bf)]['GraphDatabase'],_0x441722['ContentType'][_0x248c9e(0x664)]];}['send'](_0x56bc81){const _0xa70e6=_0x37ac7d;if(!0x1===_0x56bc81['retry']){if(_0x56bc81['propagate']||!_0x56bc81[_0xa70e6(0x508)]||0x1!==_0x56bc81[_0xa70e6(0x508)]['length'])throw new _0x4a800a(_0x4a800a['codes'][_0xa70e6(0x6d5)],{'message':_0xa70e6(0x715),'localId':this['localId']});if(!this[_0xa70e6(0x39e)](_0x56bc81[_0xa70e6(0x508)][0x0]))throw new _0x335dcf(_0xa70e6(0x478));}const _0x35d881=_0x56bc81[_0xa70e6(0x414)]??[];try{const {filteredDestinationIds:_0x1cd4e1,extendedRecipients:_0x372102}=this[_0xa70e6(0x7ea)](_0x56bc81,_0x35d881);_0x56bc81[_0xa70e6(0x508)]=_0x1cd4e1,_0x56bc81[_0xa70e6(0x414)]=_0x372102;}catch(_0x40bd0b){if(_0x40bd0b instanceof _0x335dcf)return void _0x52aedf[_0xa70e6(0x857)](_0xdea279['Connection'],_0xa70e6(0x14f),_0xa70e6(0x3bf),_0x56bc81,_0x40bd0b['message']);}const _0x3acc24=this['shouldContinuePropagation'](_0x56bc81);this['logPropagateSystemEvent'](_0x56bc81,_0x3acc24),_0x56bc81[_0xa70e6(0x849)]=_0x3acc24;const _0x1f958f=this[_0xa70e6(0x4e5)](_0x56bc81,_0x35d881);for(const _0x387eed of _0x1f958f){const _0x301d31=this[_0xa70e6(0x50f)][_0xa70e6(0x7e9)](_0x387eed[_0xa70e6(0xc9)]());if(!_0x301d31)throw new _0x4a800a(_0x4a800a[_0xa70e6(0x7ef)][_0xa70e6(0x9bb)],{'message':_0xa70e6(0x36a),'localId':this[_0xa70e6(0x678)],'remoteId':_0x387eed[_0xa70e6(0xc9)](),'data':_0x56bc81});_0x301d31[_0xa70e6(0x7b5)](_0x56bc81);}}[_0x37ac7d(0xc9)](){return'';}[_0x37ac7d(0x505)](){const _0x38f5bb=_0x37ac7d;return this[_0x38f5bb(0x678)];}[_0x37ac7d(0xd1)](_0x12e70f){const _0x2b850a=_0x37ac7d;return this[_0x2b850a(0x274)][_0x2b850a(0x9b2)](_0x12e70f);}[_0x37ac7d(0x7ea)](_0x3aa8cd,_0x3c12cb){const _0x24d89f=_0x37ac7d,_0x4639d3={'filteredDestinationIds':_0x3aa8cd[_0x24d89f(0x508)],'extendedRecipients':_0x3aa8cd[_0x24d89f(0x414)]};if(!_0x3aa8cd['propagate'])return _0x4639d3;const _0x59c172=Array[_0x24d89f(0x267)](this[_0x24d89f(0x8a4)][_0x24d89f(0x6cd)]())[_0x24d89f(0x5e3)](_0x3554b4=>_0x3554b4[_0x24d89f(0x574)]()===_0x3c24ef[_0x24d89f(0x71f)]||_0x3554b4[_0x24d89f(0x39e)]())[_0x24d89f(0x8f1)](_0x470685=>_0x470685[_0x24d89f(0xc9)]());if(_0x59c172[_0x24d89f(0x70d)]((_0x33d16f,_0x2a053f)=>_0x33d16f&&_0x3aa8cd[_0x24d89f(0x414)][_0x24d89f(0x444)](_0x2a053f),!0x0))throw new _0x335dcf(_0x24d89f(0x3ab));if(_0x3aa8cd[_0x24d89f(0x508)]){const _0x489905=_0x3aa8cd[_0x24d89f(0x508)]['filter'](_0x535d9e=>_0x535d9e!==this[_0x24d89f(0x678)]&&!_0x3aa8cd[_0x24d89f(0x414)][_0x24d89f(0x444)](_0x535d9e));if(0x0===_0x489905['length'])throw new _0x335dcf(_0x24d89f(0x7a3));_0x4639d3[_0x24d89f(0x8a0)]=_0x489905;}return _0x4639d3[_0x24d89f(0x8f4)]=[...new Set([..._0x3c12cb,..._0x59c172,this['localId']])],_0x4639d3;}[_0x37ac7d(0x2cb)](_0x2c1491,_0x4c8c5b=!0x1){const _0x157300=_0x37ac7d;if(0x0===_0x2c1491[_0x157300(0x292)]&&!_0x2c65fe(_0x2c1491,this[_0x157300(0x678)])&&_0x2c1491[_0x157300(0x849)]){const _0x3e4a25=_0xd792fc(_0x2c1491,this[_0x157300(0x678)]);_0x52aedf['logRaw'](_0xdea279[_0x157300(0x83f)],_0x2c1491[_0x157300(0x13b)]+_0x157300(0xd6)+_0x4c8c5b+')\x20'+_0x3e4a25,_0x2c1491,_0x4c8c5b);}}[_0x37ac7d(0x18c)](_0x60699a){const _0x5363c5=_0x37ac7d;if(_0x60699a[_0x5363c5(0x508)]&&_0x60699a[_0x5363c5(0x849)]){const _0x91bf23=Array[_0x5363c5(0x267)](this[_0x5363c5(0x8a4)][_0x5363c5(0x6cd)]())['filter'](_0x4fec97=>_0x4fec97['getConnectionType']()===_0x3c24ef[_0x5363c5(0x71f)]||_0x4fec97[_0x5363c5(0x39e)]())[_0x5363c5(0x8f1)](_0x605556=>_0x605556[_0x5363c5(0xc9)]());return!_0x60699a[_0x5363c5(0x508)][_0x5363c5(0x70d)]((_0x1a0c9a,_0x1152b6)=>_0x1a0c9a&&_0x91bf23[_0x5363c5(0x444)](_0x1152b6),!0x0);}return _0x60699a[_0x5363c5(0x849)]??!0x1;}[_0x37ac7d(0x4e5)](_0x53e45c,_0x1859b6){const _0x295aa0=_0x37ac7d;if(_0x53e45c[_0x295aa0(0x849)]&&_0x53e45c[_0x295aa0(0x508)]){const _0x345131=Array[_0x295aa0(0x267)](this[_0x295aa0(0x8a4)][_0x295aa0(0x6cd)]())[_0x295aa0(0x5e3)](_0x3a7173=>_0x3a7173[_0x295aa0(0x574)]()===_0x3c24ef['Core']||_0x3a7173[_0x295aa0(0x39e)]())[_0x295aa0(0x8f1)](_0xe96a92=>_0xe96a92['getRemoteId']()),_0x63abd7=new Set(),_0x10668b=_0x53e45c[_0x295aa0(0x2ea)]===this['localId']?0x3:0x1;return _0x53e45c[_0x295aa0(0x508)][_0x295aa0(0x97a)](_0x285388=>{const _0x15969b=_0x295aa0,_0x513fd8=this[_0x15969b(0x6b3)]['getClosestNodes'](_0x345131,_0x285388);let _0x3b5390=0x0,_0x49b95f=0x0;_0x513fd8[_0x15969b(0x97a)](_0x4f1b49=>{const _0x3cc476=_0x15969b;if(_0x3b5390>=_0x10668b)return;const _0x412fe6=Array['from'](this[_0x3cc476(0x8a4)][_0x3cc476(0x6cd)]())[_0x3cc476(0x419)](_0x14529a=>_0x14529a[_0x3cc476(0xc9)]()===_0x4f1b49);if(_0x412fe6){if(_0x412fe6[_0x3cc476(0x574)]()===_0x3c24ef[_0x3cc476(0x71f)]&&_0x49b95f>0x0)return void(_0x49b95f-=0x1);_0x63abd7['add'](_0x412fe6),_0x412fe6[_0x3cc476(0x574)]()===_0x3c24ef['Optimization']&&(_0x49b95f+=0x1),_0x3b5390+=0x1;}});}),Array[_0x295aa0(0x267)](_0x63abd7);}return Array[_0x295aa0(0x267)](this[_0x295aa0(0x8a4)]['keys']())[_0x295aa0(0x5e3)](_0x42d69b=>{const _0x555b22=_0x295aa0;return _0x11e0b7=_0x42d69b[_0x555b22(0xc9)](),!_0x1859b6[_0x555b22(0x444)](_0x11e0b7)&&(_0x49adb7(_0x53e45c,_0x11e0b7)||_0x53e45c[_0x555b22(0x849)])&&(!_0x53e45c[_0x555b22(0x849)]||_0x42d69b[_0x555b22(0x39e)]()||_0x42d69b[_0x555b22(0x574)]()===_0x3c24ef[_0x555b22(0x71f)]);var _0x11e0b7;});}}class _0x1d1e4b{[_0x37ac7d(0x678)];[_0x37ac7d(0x2be)];['connections']=new Map();[_0x37ac7d(0x1b1)];constructor(_0x45e2c2,_0x508e61){const _0x1236fd=_0x37ac7d;this[_0x1236fd(0x678)]=_0x45e2c2,this['messageBuffer']=_0x508e61;}[_0x37ac7d(0x91a)](){}['send'](_0x3a1095){const _0x1d90e=_0x37ac7d;for(const _0x336c85 of this[_0x1d90e(0x8a4)][_0x1d90e(0x6cd)]())try{return void _0x336c85[_0x1d90e(0x726)]({'retry':!0x1,..._0x3a1095});}catch(_0x9e5c40){_0x9e5c40 instanceof _0x335dcf||_0x52aedf[_0x1d90e(0x857)](_0xdea279[_0x1d90e(0x890)],_0x1d90e(0x738)+_0x336c85,_0x9e5c40,_0x3a1095);}_0x52aedf['log'](_0xdea279[_0x1d90e(0x890)],_0x1d90e(0x2dd));}[_0x37ac7d(0x278)](_0x4973e6){const _0x5dcc4d=_0x37ac7d,_0x245b7a=_0x4973e6['onMessage'](_0x3af496=>{const _0x4fae68=a0_0xbe57;this['messageBuffer']['hasMessage'](_0x3af496[_0x4fae68(0x13b)])||0x0===_0x3af496['topicLabel']&&(this[_0x4fae68(0x2be)]['addMessage'](_0x3af496[_0x4fae68(0x13b)]),_0x49adb7(_0x3af496,this[_0x4fae68(0x678)])&&this['systemTopic']?.[_0x4fae68(0x10d)](_0x3af496));});this['connections'][_0x5dcc4d(0x773)](_0x4973e6,_0x245b7a);}[_0x37ac7d(0x10a)](_0x363266){const _0x4ec7a7=_0x37ac7d;this[_0x4ec7a7(0x8a4)][_0x4ec7a7(0x7e9)](_0x363266)?.(),this['connections'][_0x4ec7a7(0x6fd)](_0x363266);}[_0x37ac7d(0x505)](){const _0x4fb3b6=_0x37ac7d;return this[_0x4fb3b6(0x678)];}['getRemoteId'](){return'';}[_0x37ac7d(0x970)](){return[_0x441722['ContentType']['Data']];}[_0x37ac7d(0x39e)](){const _0x2df23e=_0x37ac7d;throw new Error(_0x2df23e(0x4e8));}[_0x37ac7d(0x1b9)](_0x5b2f24){const _0x299081=_0x37ac7d;this[_0x299081(0x1b1)]=_0x5b2f24;}[_0x37ac7d(0x84a)](){const _0x14a3c3=_0x37ac7d;delete this[_0x14a3c3(0x1b1)];}}class _0x3e8a50{[_0x37ac7d(0x4f1)]=new Map();[_0x37ac7d(0x88d)];constructor(){const _0x1c33d0=_0x37ac7d;this[_0x1c33d0(0x88d)]=_0x29b976[_0x1c33d0(0x10c)](()=>{const _0x4ccb2f=_0x1c33d0;for(const [_0x3b99b8,_0x5cc53f]of this[_0x4ccb2f(0x4f1)][_0x4ccb2f(0x196)]())Date[_0x4ccb2f(0x90d)]()-_0x5cc53f>0x124f80&&this[_0x4ccb2f(0x4f1)][_0x4ccb2f(0x6fd)](_0x3b99b8);},0x1d4c0);}[_0x37ac7d(0x91a)](){const _0x5056d=_0x37ac7d;this[_0x5056d(0x88d)]();}[_0x37ac7d(0x942)](_0x120957){const _0x377ed6=_0x37ac7d;this['buffer']['set'](_0x120957,Date[_0x377ed6(0x90d)]());}['hasMessage'](_0x1425a){const _0xac7841=_0x37ac7d;return this[_0xac7841(0x4f1)][_0xac7841(0x158)](_0x1425a);}}class _0x274a28{[_0x37ac7d(0x8de)];[_0x37ac7d(0x31b)];[_0x37ac7d(0x25d)];[_0x37ac7d(0x14b)];[_0x37ac7d(0x8a4)]=new Map();[_0x37ac7d(0x219)];[_0x37ac7d(0x30e)];[_0x37ac7d(0x914)];['messageBuffer'];constructor(_0x2110a6,_0x374b1b,_0x28ca0e,_0x2788b9,_0x552f4f){const _0x34da0c=_0x37ac7d;this[_0x34da0c(0x8de)]=_0x2110a6,this[_0x34da0c(0x31b)]=_0x374b1b,this['iceServers']=_0x2788b9,this[_0x34da0c(0x14b)]=_0x552f4f,this['messageBuffer']=new _0x3e8a50(),this['connectionGroup']=new _0x35184f(this[_0x34da0c(0x8de)][_0x34da0c(0x116)][_0x34da0c(0x336)](),this[_0x34da0c(0x2be)],_0x28ca0e),this['signalingServer']=new _0x59a6ab(this[_0x34da0c(0x8de)]['vendorId'],this[_0x34da0c(0x8de)][_0x34da0c(0x6b0)],this[_0x34da0c(0x8de)][_0x34da0c(0x116)],_0x34da0c(0x873),this[_0x34da0c(0x31b)]),this[_0x34da0c(0x219)]=new _0x1d1e4b(this[_0x34da0c(0x8de)]['localNode'][_0x34da0c(0x336)](),this['messageBuffer']),this[_0x34da0c(0x219)]['addConnection'](this[_0x34da0c(0x30e)]),this[_0x34da0c(0x219)][_0x34da0c(0x278)](this[_0x34da0c(0x914)]),this[_0x34da0c(0x8de)][_0x34da0c(0x1e2)]['registerSystemSource'](this[_0x34da0c(0x219)]);}[_0x37ac7d(0x91a)](){const _0x3f906f=_0x37ac7d;this[_0x3f906f(0x2be)][_0x3f906f(0x91a)](),this[_0x3f906f(0x8a4)][_0x3f906f(0x97a)]((_0x22e6f3,_0x3e551f)=>this[_0x3f906f(0x474)](_0x3e551f)),this[_0x3f906f(0x8de)][_0x3f906f(0x1e2)][_0x3f906f(0x2de)](this[_0x3f906f(0x219)]),this[_0x3f906f(0x219)][_0x3f906f(0x10a)](this[_0x3f906f(0x914)]),this[_0x3f906f(0x219)][_0x3f906f(0x10a)](this[_0x3f906f(0x30e)]),this[_0x3f906f(0x219)][_0x3f906f(0x91a)](),this[_0x3f906f(0x914)]['close'](),this[_0x3f906f(0x30e)][_0x3f906f(0x91a)]();}async[_0x37ac7d(0x95d)](){const _0x38c597=_0x37ac7d;await this[_0x38c597(0x914)][_0x38c597(0x191)]();}async[_0x37ac7d(0x4ba)](_0x42b851,_0xf653e5=_0x3c24ef[_0x37ac7d(0x71f)]){const _0x1507d7=_0x37ac7d;if(this[_0x1507d7(0x8a4)][_0x1507d7(0x158)](_0x42b851)){if(this[_0x1507d7(0x8a4)]['get'](_0x42b851)?.[_0x1507d7(0x574)]()===_0x3c24ef[_0x1507d7(0x8c0)]&&_0xf653e5===_0x3c24ef[_0x1507d7(0x71f)])return void this[_0x1507d7(0x8a4)][_0x1507d7(0x7e9)](_0x42b851)?.[_0x1507d7(0x85b)](_0x3c24ef['Core']);throw new _0x4a800a(_0x4a800a['codes'][_0x1507d7(0x9b6)],{'localId':this['configs']['localNode']['getId'](),'remoteId':_0x42b851});}const _0xc8fee8=new _0x409e5a(this[_0x1507d7(0x8de)][_0x1507d7(0x6b0)],this[_0x1507d7(0x8de)][_0x1507d7(0x116)],_0x42b851,this[_0x1507d7(0x25d)],_0xf653e5,this[_0x1507d7(0x14b)]['maxFps'],this[_0x1507d7(0x14b)][_0x1507d7(0x2cf)],this[_0x1507d7(0x14b)][_0x1507d7(0x3a3)]);this[_0x1507d7(0x8a4)][_0x1507d7(0x773)](_0x42b851,_0xc8fee8),this[_0x1507d7(0x30e)][_0x1507d7(0x278)](_0xc8fee8),this['configs'][_0x1507d7(0x1e2)]['registerSystemSource'](_0xc8fee8),this[_0x1507d7(0x8de)]['mediator'][_0x1507d7(0x7a4)](_0x42b851),await _0xc8fee8[_0x1507d7(0x191)]();}[_0x37ac7d(0x779)](){const _0x2f696a=_0x37ac7d;return this[_0x2f696a(0x30e)];}['getConnection'](_0x3e561c){const _0xc63649=_0x37ac7d;if(!this[_0xc63649(0x8a4)][_0xc63649(0x158)](_0x3e561c))throw new _0x4a800a(_0x4a800a[_0xc63649(0x7ef)][_0xc63649(0x153)],{'localId':this[_0xc63649(0x8de)][_0xc63649(0x116)][_0xc63649(0x336)](),'remoteId':_0x3e561c});return this[_0xc63649(0x8a4)][_0xc63649(0x7e9)](_0x3e561c);}[_0x37ac7d(0x87f)](_0x45943d){const _0x40efcd=_0x37ac7d,_0xac52ad=Array['from'](this[_0x40efcd(0x8a4)][_0x40efcd(0x5d6)]());return _0x45943d?_0xac52ad[_0x40efcd(0x5e3)](_0x45943d):_0xac52ad;}async[_0x37ac7d(0x41c)](_0x3db47c){const _0x258dff=this['connections']['get'](_0x3db47c);_0x258dff&&_0x258dff['isConnected']()&&await _0x258dff['collectStats']();}[_0x37ac7d(0x6ad)](_0x2e83a0){const _0x775adf=_0x37ac7d;if(_0x2e83a0[_0x775adf(0x473)]!==_0x403b04['PeerConnection']||_0x2e83a0[_0x775adf(0x849)])try{this[_0x775adf(0x30e)][_0x775adf(0x726)](_0x2e83a0);}catch(_0x1afdb8){if(_0x1afdb8 instanceof _0x335dcf)return;throw _0x1afdb8;}else this[_0x775adf(0x219)][_0x775adf(0x726)](_0x2e83a0);}async['handlePeerConnectionSystemEvents'](_0xa678b0){const _0x4593aa=_0x37ac7d;switch(_0xa678b0[_0x4593aa(0x8c5)][_0x4593aa(0x623)]){case _0x4ef545[_0x4593aa(0x1a5)]:case _0x4ef545[_0x4593aa(0x861)]:case _0x4ef545[_0x4593aa(0x58e)]:return;}if(!_0xa678b0['destinationIds']||0x1!==_0xa678b0[_0x4593aa(0x508)][_0x4593aa(0x146)])throw new _0x4a800a(_0x4a800a[_0x4593aa(0x7ef)][_0x4593aa(0x511)],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0xa678b0});if(_0xa678b0[_0x4593aa(0x508)][0x0]!==this[_0x4593aa(0x8de)]['localNode'][_0x4593aa(0x336)]())throw new _0x4a800a(_0x4a800a[_0x4593aa(0x7ef)][_0x4593aa(0x511)],{'message':_0x4593aa(0x7b4),'event':_0xa678b0});if(!this['connections']['has'](_0xa678b0['sourceId'])){let _0x4945f0=_0x3c24ef[_0x4593aa(0x71f)];if(!(this['isOffer'](_0xa678b0[_0x4593aa(0x8c5)])||this[_0x4593aa(0x23d)](_0xa678b0['content'])||this[_0x4593aa(0x46a)](_0xa678b0[_0x4593aa(0x8c5)])))return;_0x4945f0=_0xa678b0[_0x4593aa(0x8c5)][_0x4593aa(0xf1)],await this[_0x4593aa(0x4ba)](_0xa678b0[_0x4593aa(0x2ea)],_0x4945f0);}const _0x2e7642=this[_0x4593aa(0x8a4)]['get'](_0xa678b0['sourceId']);await _0x2e7642['handlePeerConnectionSystemEvents'](_0xa678b0);}['handleRemediationSystemEvents'](_0x370246){const _0x387490=_0x37ac7d;if(_0x370246['content'][_0x387490(0x623)]===_0x43b6a7[_0x387490(0x5cf)]){if(_0x370246[_0x387490(0x8c5)][_0x387490(0x9cc)]===this[_0x387490(0x8de)][_0x387490(0x116)][_0x387490(0x336)]())return void this['connections'][_0x387490(0x97a)](_0x28b6df=>_0x28b6df[_0x387490(0x95b)](_0x370246));this['connections'][_0x387490(0x7e9)](_0x370246[_0x387490(0x8c5)][_0x387490(0x9cc)])?.['handleRemediationSystemEvents'](_0x370246);}}['handleNodeSystemEvents']({content:_0x5820e5}){const _0x4f0b9e=_0x37ac7d;_0x5820e5[_0x4f0b9e(0x623)]===_0x12a052['NodeLeave']&&this['closeConnection'](_0x5820e5['id']);}['waitForArrayBufferSize'](){const _0x4bd955=_0x37ac7d,_0x58e20c=Array[_0x4bd955(0x267)](this['connections'][_0x4bd955(0x5d6)]())[_0x4bd955(0x70d)]((_0x20ea0d,_0x550868)=>_0x20ea0d+_0x550868['calculateArrayBufferSize'](),0x0);return _0x58e20c<_0x15816b?Promise['resolve'](_0x58e20c):new Promise(_0x4ad191=>{const _0x45d4d8=setInterval(()=>{const _0x4f0fdc=a0_0xbe57,_0x9945b9=Array[_0x4f0fdc(0x267)](this[_0x4f0fdc(0x8a4)]['values']())[_0x4f0fdc(0x70d)]((_0x1aa621,_0x1a05b4)=>_0x1aa621+_0x1a05b4[_0x4f0fdc(0x6d6)](),0x0);_0x9945b9<_0x15816b&&(clearInterval(_0x45d4d8),_0x4ad191(_0x9945b9));},0x3e8);});}['hasBufferedData'](){const _0x1f4374=_0x37ac7d;for(const _0x5833e5 of this[_0x1f4374(0x8a4)]['values']())if(_0x5833e5[_0x1f4374(0x32b)]()>0x0||_0x5833e5[_0x1f4374(0x6d6)]()>0x0)return!0x0;return!0x1;}[_0x37ac7d(0x474)](_0x5cf64f){const _0x4e4656=_0x37ac7d,_0xd05a5d=this['connections'][_0x4e4656(0x7e9)](_0x5cf64f);_0xd05a5d&&(this[_0x4e4656(0x8de)]['mediator'][_0x4e4656(0x2ae)](_0x5cf64f),this[_0x4e4656(0x8de)][_0x4e4656(0x1e2)][_0x4e4656(0x2de)](_0xd05a5d),_0xd05a5d instanceof _0x409e5a&&this[_0x4e4656(0x30e)][_0x4e4656(0x10a)](_0xd05a5d),_0xd05a5d[_0x4e4656(0x91a)](),this[_0x4e4656(0x8a4)][_0x4e4656(0x6fd)](_0x5cf64f));}[_0x37ac7d(0x682)](_0x359609){const _0x263a07=_0x37ac7d;return _0x359609[_0x263a07(0x623)]===_0x4ef545[_0x263a07(0x637)];}[_0x37ac7d(0x46a)](_0x5dc9c6){const _0x50a46e=_0x37ac7d;return _0x5dc9c6['type']===_0x4ef545[_0x50a46e(0x632)];}[_0x37ac7d(0x23d)](_0x29c12e){const _0x2faf56=_0x37ac7d;return _0x29c12e['type']===_0x4ef545[_0x2faf56(0x1c3)];}}!function(_0x3db60a){const _0x36c718=_0x37ac7d;_0x3db60a[_0x3db60a[_0x36c718(0x5b3)]=0x0]='SubscribeMediaStream',_0x3db60a[_0x3db60a[_0x36c718(0x794)]=0x1]=_0x36c718(0x794),_0x3db60a[_0x3db60a['UnsubscribeMediaStream']=0x2]='UnsubscribeMediaStream',_0x3db60a[_0x3db60a[_0x36c718(0x216)]=0x3]=_0x36c718(0x216),_0x3db60a[_0x3db60a[_0x36c718(0x9a8)]=0x4]=_0x36c718(0x9a8),_0x3db60a[_0x3db60a[_0x36c718(0x7ed)]=0x5]=_0x36c718(0x7ed),_0x3db60a[_0x3db60a['CannotProvideMediaStream']=0x6]='CannotProvideMediaStream',_0x3db60a[_0x3db60a[_0x36c718(0x4cf)]=0x7]=_0x36c718(0x4cf);}(_0x4df43c||(_0x4df43c={}));class _0x45b9ee extends _0x15db27{[_0x37ac7d(0x116)];[_0x37ac7d(0x6b0)];[_0x37ac7d(0x7f1)];['connectorConstructor'];[_0x37ac7d(0x7d3)];['reads']=0x0;[_0x37ac7d(0x891)];[_0x37ac7d(0x77f)]=_0x376fa8();[_0x37ac7d(0x26c)]=new Map();[_0x37ac7d(0x108)];constructor(_0x26bb0d,_0x549370,_0x51ab91,_0x59618e,_0x344173){const _0x3959a7=_0x37ac7d;if('string'!=typeof _0x549370)throw new _0x3e3c93(_0x5b4e17[_0x3959a7(0x19f)],_0x3959a7(0x778));super(_0x26bb0d,_0x549370),this['localNode']=_0x26bb0d,this['clusterId']=_0x51ab91,this[_0x3959a7(0x7f1)]=_0x59618e,this['connectorConstructor']=_0x344173,this[_0x3959a7(0x4ed)]();}[_0x37ac7d(0x464)](){const _0x1ed6a0=_0x37ac7d;this['changesUnsubscriber']?.(),this[_0x1ed6a0(0x26c)][_0x1ed6a0(0x97a)](_0x45eee3=>_0x45eee3()),clearTimeout(this[_0x1ed6a0(0x7d3)]),delete this[_0x1ed6a0(0x7d3)],super[_0x1ed6a0(0x464)]();}[_0x37ac7d(0x44e)](){this['sendStats']();}[_0x37ac7d(0x91a)](){const _0x1ece80=_0x37ac7d;this['systemTopic']['publish']({'sourceId':_0x19393c,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2[_0x1ece80(0x8a6)],'label':this[_0x1ece80(0x7ee)]}});}['getContentType'](){const _0x48b93f=_0x37ac7d;return _0x441722[_0x48b93f(0x4bf)]['ExternalStorage'];}async[_0x37ac7d(0x7e9)](_0x1bee42){const _0x24ae49=_0x37ac7d;if(!this[_0x24ae49(0x891)])throw new _0x3e3c93(_0x5b4e17[_0x24ae49(0x68f)],_0x24ae49(0x5ec));_0x52aedf['logServiceEvent'](_0x5ddb4d[_0x24ae49(0x664)],{'type':_0x24ae49(0x7e9),'label':this[_0x24ae49(0x7ee)],'nodeId':this[_0x24ae49(0x116)][_0x24ae49(0x336)](),'nodeType':this[_0x24ae49(0x116)][_0x24ae49(0x623)],'clusterId':this[_0x24ae49(0x6b0)],'path':_0x1bee42}),this[_0x24ae49(0x5c5)]+=0x1,this['sendStats']();try{return await this['connector'][_0x24ae49(0x7e9)](_0x1bee42);}catch(_0x44b4fd){throw new _0x3e3c93(_0x5b4e17[_0x24ae49(0x7cf)],'Cannot\x20get\x20file:\x20'+_0x1bee42);}}async['list'](_0x153182,_0x471c01){const _0x580868=_0x37ac7d;if(!this['connector'])throw new _0x3e3c93(_0x5b4e17[_0x580868(0x68f)],_0x580868(0x830));const {recursive:_0x30df9f=!0x1}=_0x471c01??{};_0x52aedf[_0x580868(0x43d)](_0x5ddb4d['ExternalStorage'],{'type':_0x580868(0x9b9),'label':this[_0x580868(0x7ee)],'nodeId':this['localNode'][_0x580868(0x336)](),'nodeType':this[_0x580868(0x116)][_0x580868(0x623)],'clusterId':this[_0x580868(0x6b0)],'path':_0x153182}),this[_0x580868(0x5c5)]+=0x1,this[_0x580868(0x4ed)]();try{return await this['connector'][_0x580868(0x9b9)](_0x153182,_0x30df9f);}catch(_0xab23f2){throw new _0x3e3c93(_0x5b4e17['ExternalStorageInvalidPath'],_0x580868(0x4e1)+_0x153182);}}[_0x37ac7d(0x9b2)](_0x2d718c,_0x27d3b5){const _0x5e5baa=_0x37ac7d;if(this[_0x5e5baa(0x26c)][_0x5e5baa(0x158)](_0x2d718c))throw new _0x3e3c93(_0x5b4e17['ExternalStorageConnectionAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x5e5baa(0x26c)][_0x5e5baa(0x773)](_0x2d718c,this[_0x5e5baa(0x77f)][_0x5e5baa(0x9b2)](_0x27d3b5));}['unsubscribe'](_0x4bed15){const _0x3fb7d2=_0x37ac7d;this['listenerUnsubscribers']['get'](_0x4bed15)?.(),this['listenerUnsubscribers'][_0x3fb7d2(0x6fd)](_0x4bed15);}async[_0x37ac7d(0x211)](){const _0x11704c=_0x37ac7d,_0x3f6c27=(await(0x0,_0x2c741a[_0x11704c(0x5b1)])((0x0,_0x2c741a['doc'])(_0xe4f57[_0x11704c(0x242)](),_0x11704c(0x37f)+this[_0x11704c(0x7f1)]+_0x11704c(0x199)+this[_0x11704c(0x7ee)])))[_0x11704c(0x51f)]();if(!_0x3f6c27)throw new _0x3e3c93(_0x5b4e17[_0x11704c(0x920)],_0x11704c(0x500)+this[_0x11704c(0x7ee)]);const {site:_0x4b00d7,drive:_0x3cc76f}=_0x3f6c27,_0x38d286=(await(0x0,_0x1be25c[_0x11704c(0x325)])(_0xe4f57[_0x11704c(0x824)](),'msalGetAccessToken')({'storageId':this['label']}))[_0x11704c(0x51f)][_0x11704c(0x40a)];this[_0x11704c(0x891)]=new this['connectorConstructor'](_0x4b00d7['id'],_0x3cc76f['id'],_0x38d286,async()=>(await(0x0,_0x1be25c[_0x11704c(0x325)])(_0xe4f57[_0x11704c(0x824)](),_0x11704c(0x324))({'storageId':this[_0x11704c(0x7ee)]}))[_0x11704c(0x51f)][_0x11704c(0x40a)]),this[_0x11704c(0x145)]();}[_0x37ac7d(0x4ed)](){const _0x123652=_0x37ac7d;this[_0x123652(0x7d3)]&&clearTimeout(this['debounceStats']),this[_0x123652(0x7d3)]=setTimeout(async()=>{const _0x4db72e=_0x123652;delete this[_0x4db72e(0x7d3)],this[_0x4db72e(0x1b1)][_0x4db72e(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x4db72e(0x3a0)],'content':{'type':_0x3b90a2[_0x4db72e(0x12e)],'label':this[_0x4db72e(0x7ee)],'stats':{'timestamp':Date[_0x4db72e(0x90d)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x4db72e(0x5c5)],'prompts':0x0,'tokens':0x0}}});},_0x3d132a);}async[_0x37ac7d(0x145)](){const _0x25ab2b=_0x37ac7d;await this['connector']?.[_0x25ab2b(0x7c4)](),this[_0x25ab2b(0x108)]=_0x29b976[_0x25ab2b(0x10c)](async()=>{const _0x1299fc=_0x25ab2b;try{if(!this['connector'])return;const _0xb8fe74=await this['connector'][_0x1299fc(0x7c4)]();for(const _0x396935 of _0xb8fe74)this[_0x1299fc(0x77f)][_0x1299fc(0x10d)](_0x396935);}catch(_0x10776c){}},0x493e0);}}const _0x40fd25=require('rxjs');class _0x11256d extends _0x15db27{['graphService'];[_0x37ac7d(0x49c)]=new Map();[_0x37ac7d(0x640)]=new Map();['jobBids']=new Map();[_0x37ac7d(0x88d)];constructor(_0x175bcb,_0x4bd2a8,_0x475d3c){const _0x33489b=_0x37ac7d;super(_0x175bcb,_0x4bd2a8),this[_0x33489b(0x6b3)]=_0x475d3c;}['getContentType'](){return _0x441722['ContentType']['Job'];}[_0x37ac7d(0x211)](){const _0x1f57f4=_0x37ac7d;this[_0x1f57f4(0x88d)]=this['onMessage']((_0x41e159,_0x5d7bac)=>{const _0xed2d0a=_0x1f57f4;if(_0x52aedf[_0xed2d0a(0x857)](_0xdea279['Jobs'],'JobDispatcher:\x20Received\x20job',_0x41e159,_0x5d7bac,this['graphService'][_0xed2d0a(0x70f)]()),!(_0x5d7bac instanceof File)){if(!_0x5d7bac)throw new _0x4a800a(_0x4a800a[_0xed2d0a(0x7ef)][_0xed2d0a(0x69f)]);return this['isBidResponse'](_0x5d7bac)?this[_0xed2d0a(0x8d3)](_0x41e159,_0x5d7bac['id'],_0x5d7bac):this['isPartialResultResponse'](_0x5d7bac)?(_0x52aedf[_0xed2d0a(0x857)](_0xdea279['Jobs'],'Job\x20'+_0x5d7bac['id']+_0xed2d0a(0x6c6),_0x5d7bac['result']),void this['evaluatePartialJob'](_0x5d7bac['id'],_0x5d7bac)):this[_0xed2d0a(0x77a)](_0x5d7bac)?(_0x52aedf[_0xed2d0a(0x857)](_0xdea279[_0xed2d0a(0x55b)],_0xed2d0a(0x54c)+_0x5d7bac['id']+_0xed2d0a(0x2b2),_0x5d7bac[_0xed2d0a(0x42f)]),void this[_0xed2d0a(0x8a9)](_0x5d7bac['id'],_0x5d7bac)):void(this[_0xed2d0a(0x809)](_0x5d7bac)&&this['failJob'](_0x5d7bac['id'],_0x5d7bac[_0xed2d0a(0x599)]));}});}[_0x37ac7d(0x44e)](){const _0xd3bab3=_0x37ac7d;this[_0xd3bab3(0x168)](),this[_0xd3bab3(0x211)]();}[_0x37ac7d(0x464)](){this['clear'](),super['destroy']();}[_0x37ac7d(0x168)](){const _0x2e096e=_0x37ac7d;this['jobs'][_0x2e096e(0x168)](),this[_0x2e096e(0x88d)]&&this['unsubscribeHandler']();}[_0x37ac7d(0x91a)](){const _0x344f3a=_0x37ac7d;this[_0x344f3a(0x1b1)]?.['publish']({'sourceId':_0x19393c,'messageType':_0x403b04[_0x344f3a(0x3a0)],'content':{'type':_0x3b90a2[_0x344f3a(0x4a5)],'label':this['label']}});}async['createJob'](_0x3f8224){const _0x1a78f4=_0x37ac7d,{id:_0x40505c,parameters:_0xfd16ce,jobType:_0x28db92}=_0x3f8224,_0x26f951={'id':_0x40505c,'jobType':_0x28db92,'parameters':_0xfd16ce,'status':_0x441722[_0x1a78f4(0x184)][_0x1a78f4(0x3b7)],'created':new Date(),'updated':new Date()};if(this[_0x1a78f4(0x49c)]['has'](_0x26f951['id']))throw new _0x3e3c93(_0x5b4e17[_0x1a78f4(0x504)],_0x1a78f4(0x230)+_0x26f951['id']+_0x1a78f4(0xf9));_0x26f951['created']=new Date(),_0x26f951[_0x1a78f4(0x72c)]=new Date();const _0x4c7093=new _0x40fd25['Subject']();this['jobs'][_0x1a78f4(0x773)](_0x26f951['id'],_0x26f951),this[_0x1a78f4(0x640)][_0x1a78f4(0x773)](_0x26f951['id'],_0x4c7093);try{const _0x114edd={'id':_0x26f951['id'],'jobPhase':_0x47dd02[_0x1a78f4(0x4f9)],'jobType':_0x26f951[_0x1a78f4(0x26d)]},_0x1d09be=0x3;let _0x55058e=0x0;const _0x4f7d75=async()=>{const _0x1f1459=_0x1a78f4;_0x55058e+=0x1;try{_0x52aedf[_0x1f1459(0x857)](_0xdea279[_0x1f1459(0x55b)],_0x1f1459(0x54c)+_0x26f951['id']+_0x1f1459(0x7e0)+_0x55058e+'.',this[_0x1f1459(0x6b3)][_0x1f1459(0x70f)]()),await this[_0x1f1459(0x726)](_0x114edd),_0x26f951[_0x1f1459(0x72c)]=new Date(),this['jobs']['set'](_0x26f951['id'],_0x26f951),this[_0x1f1459(0x777)](_0x26f951['id']);}catch(_0x4f2931){_0x55058e<_0x1d09be?(_0x52aedf[_0x1f1459(0x8b1)](_0x1f1459(0x455)+_0x55058e+'\x20to\x20send\x20dispatcherJob\x20'+_0x26f951['id']+_0x1f1459(0x906),{'nodeId':this[_0x1f1459(0x9c1)][_0x1f1459(0x336)](),'nodeType':this[_0x1f1459(0x9c1)][_0x1f1459(0x623)],'data':{'job':_0x26f951,'attempts':_0x55058e,'maxRetries':_0x1d09be}}),setTimeout(_0x4f7d75,0x3e8)):(_0x26f951[_0x1f1459(0x74c)]=_0x441722[_0x1f1459(0x184)][_0x1f1459(0x6c7)],_0x26f951[_0x1f1459(0x72c)]=new Date(),this['jobs']['set'](_0x26f951['id'],_0x26f951),_0x52aedf[_0x1f1459(0x635)](_0x1f1459(0x7f3)+_0x26f951['id']+_0x1f1459(0x796)+_0x1d09be+'\x20attempts:',{'nodeId':this[_0x1f1459(0x9c1)][_0x1f1459(0x336)](),'nodeType':this['owner'][_0x1f1459(0x623)],'data':{'job':_0x26f951,'attempts':_0x55058e,'maxRetries':_0x1d09be,'error':_0x4f2931}}));}};_0x4f7d75();const {id:_0xc5f45}=_0x26f951;this[_0x1a78f4(0x5c7)](_0x1a78f4(0x54c)+_0x26f951['id']+_0x1a78f4(0x389),{'jobId':_0xc5f45}),_0x26f951['updated']=new Date();}catch(_0x50d7dc){_0x26f951[_0x1a78f4(0x74c)]=_0x441722[_0x1a78f4(0x184)]['Failed'],_0x52aedf[_0x1a78f4(0x635)](_0x1a78f4(0x7f3)+_0x26f951['id']+':',{'nodeId':this[_0x1a78f4(0x9c1)][_0x1a78f4(0x336)](),'nodeType':this[_0x1a78f4(0x9c1)][_0x1a78f4(0x623)],'data':{'job':_0x26f951,'error':_0x50d7dc}});}return _0x4c7093[_0x1a78f4(0x7a0)]();}[_0x37ac7d(0x56b)](_0x314ef6){const _0x3f173e=_0x37ac7d,_0xa810ec=this[_0x3f173e(0x49c)][_0x3f173e(0x7e9)](_0x314ef6);if(!_0xa810ec)throw new _0x3e3c93(_0x5b4e17[_0x3f173e(0x5be)],_0x3f173e(0x230)+_0x314ef6+_0x3f173e(0x6ea));return{'id':_0xa810ec['id'],'jobType':_0xa810ec[_0x3f173e(0x26d)],'status':_0xa810ec['status'],'parameters':_0xa810ec[_0x3f173e(0x5b5)]};}['getJobs'](){const _0x45248a=_0x37ac7d;return Array[_0x45248a(0x267)](this[_0x45248a(0x49c)][_0x45248a(0x5d6)]())[_0x45248a(0x8f1)](_0x1bb2c2=>this[_0x45248a(0x56b)](_0x1bb2c2['id']));}async[_0x37ac7d(0x223)](_0x1ee974,_0x3183a3){const _0x47eec7=_0x37ac7d,_0x47118d=this[_0x47eec7(0x49c)]['get'](_0x1ee974);if(!_0x47118d)throw new _0x3e3c93(_0x5b4e17[_0x47eec7(0x5be)],_0x47eec7(0x230)+_0x1ee974+_0x47eec7(0x6ea));_0x47118d[_0x47eec7(0x5b5)]=_0x3183a3,_0x47118d[_0x47eec7(0x72c)]=new Date(),this[_0x47eec7(0x49c)]['set'](_0x1ee974,_0x47118d);}async['deleteJob'](_0x2c3ac7){const _0x2792e7=_0x37ac7d;if(!this['jobs'][_0x2792e7(0x6fd)](_0x2c3ac7))throw new _0x3e3c93(_0x5b4e17[_0x2792e7(0x5be)],_0x2792e7(0x230)+_0x2c3ac7+_0x2792e7(0x6ea));const _0x529c98=this[_0x2792e7(0x640)][_0x2792e7(0x7e9)](_0x2c3ac7);if(!_0x529c98)throw new _0x4a800a(_0x4a800a[_0x2792e7(0x7ef)][_0x2792e7(0x893)]);_0x529c98['complete'](),this[_0x2792e7(0x640)][_0x2792e7(0x6fd)](_0x2c3ac7),_0x52aedf['log'](_0xdea279[_0x2792e7(0x55b)],_0x2792e7(0x54c)+_0x2c3ac7+_0x2792e7(0x51e));}[_0x37ac7d(0x8d3)](_0x527ac6,_0x13db1a,_0x30ebd9){const _0x34b266=_0x37ac7d,_0x57e1e4=this[_0x34b266(0x30d)][_0x34b266(0x7e9)](_0x13db1a)??new Map();_0x57e1e4['set'](_0x527ac6,[_0x30ebd9,Date[_0x34b266(0x90d)]()]),this[_0x34b266(0x30d)][_0x34b266(0x773)](_0x13db1a,_0x57e1e4),this[_0x34b266(0x4d5)](_0x13db1a);}[_0x37ac7d(0x777)](_0x414a34){const _0x43b524=_0x37ac7d,_0x306f66=this[_0x43b524(0x49c)][_0x43b524(0x7e9)](_0x414a34);if(!_0x306f66)throw new _0x4a800a(_0x4a800a[_0x43b524(0x7ef)]['JobDispatcherJobNotFound']);const _0x153388=setTimeout(()=>this[_0x43b524(0x4d5)](_0x414a34,!0x0),0xbb8);_0x306f66['responseTimeout']=_0x153388,this['jobs'][_0x43b524(0x773)](_0x306f66['id'],_0x306f66);}[_0x37ac7d(0x4d5)](_0x2a91c6,_0x7eca7=!0x1){const _0x76a289=_0x37ac7d,_0x23fc2a=this[_0x76a289(0x6b3)]['getRemoteNodes'](),_0x221e87=Array[_0x76a289(0x267)](_0x23fc2a[_0x76a289(0x5d6)]())[_0x76a289(0x5e3)](_0x28f4fd=>_0x28f4fd['type']===_0x441722[_0x76a289(0x15a)]['Agent']),_0x5daed1=this[_0x76a289(0x30d)][_0x76a289(0x7e9)](_0x2a91c6)??new Map();if(!_0x7eca7&&(!_0x5daed1||_0x5daed1[_0x76a289(0x1c1)]<_0x221e87['length']))return;const _0x3dcb01=this[_0x76a289(0x49c)][_0x76a289(0x7e9)](_0x2a91c6);if(!_0x3dcb01)throw new _0x4a800a(_0x4a800a['codes'][_0x76a289(0x5be)]);if(clearTimeout(_0x3dcb01[_0x76a289(0x8d4)]),_0x52aedf[_0x76a289(0x857)](_0xdea279[_0x76a289(0x55b)],_0x76a289(0x54c)+_0x3dcb01['id']+_0x76a289(0x49d),_0x5daed1,this['jobBids']),!_0x5daed1||0x0===_0x5daed1['size']){_0x3dcb01[_0x76a289(0x74c)]=_0x441722[_0x76a289(0x184)][_0x76a289(0x6c7)],_0x3dcb01[_0x76a289(0x72c)]=new Date(),_0x52aedf[_0x76a289(0x635)]('Job\x20'+_0x3dcb01['id']+_0x76a289(0x19a),{'nodeId':this[_0x76a289(0x9c1)][_0x76a289(0x336)](),'nodeType':this[_0x76a289(0x9c1)][_0x76a289(0x623)],'data':{'job':_0x3dcb01,'responses':_0x5daed1}});const _0x1079fd=this[_0x76a289(0x640)][_0x76a289(0x7e9)](_0x2a91c6);if(!_0x1079fd)throw new _0x4a800a(_0x4a800a['codes'][_0x76a289(0x893)]);const _0x2804ca=_0x76a289(0x24b),_0x511baa={'id':_0x3dcb01['id'],'status':_0x3dcb01[_0x76a289(0x74c)],'message':_0x2804ca};return _0x1079fd[_0x76a289(0x2d3)](_0x511baa),_0x1079fd[_0x76a289(0x99a)](),this['jobs'][_0x76a289(0x773)](_0x3dcb01['id'],_0x3dcb01),void this[_0x76a289(0x30d)][_0x76a289(0x6fd)](_0x2a91c6);}const {nodeId:_0x5d89ae,response:_0x52fbb1}=this['evaluateBids'](_0x3dcb01['id'],_0x5daed1);_0x3dcb01[_0x76a289(0x74c)]=_0x441722[_0x76a289(0x184)][_0x76a289(0x35d)],_0x3dcb01[_0x76a289(0x72c)]=new Date(),_0x52aedf[_0x76a289(0x857)](_0xdea279['Jobs'],'Job\x20'+_0x3dcb01['id']+_0x76a289(0x3d5)+_0x5d89ae+_0x76a289(0x77c),_0x52fbb1);const _0x568f22={'id':_0x3dcb01['id'],'jobType':_0x3dcb01[_0x76a289(0x26d)],'jobPhase':_0x47dd02[_0x76a289(0x140)],'parameters':_0x3dcb01['parameters']};this[_0x76a289(0x726)](_0x568f22,[_0x5d89ae]),this[_0x76a289(0x49c)][_0x76a289(0x773)](_0x3dcb01['id'],_0x3dcb01),this['jobBids']['delete'](_0x2a91c6);}['evaluateBids'](_0x12c84f,_0x2bae05){const _0x4aa155=_0x37ac7d;let _0x267dd1;const _0x4fa30a=Array[_0x4aa155(0x267)](_0x2bae05['entries']())[_0x4aa155(0x5e3)](([,[_0x8da2d4]])=>_0x8da2d4[_0x4aa155(0x3f8)]);if(_0x267dd1=_0x4fa30a[_0x4aa155(0x146)]>0x0?Array[_0x4aa155(0x267)](_0x2bae05[_0x4aa155(0x196)]())[_0x4aa155(0x6a8)]((_0x2fa979,_0xb66a62)=>_0xb66a62[0x1][0x0]['bid']-_0x2fa979[0x1][0x0][_0x4aa155(0x5d4)]):Array['from'](_0x2bae05[_0x4aa155(0x196)]())['sort']((_0x21c45b,_0xc1ec91)=>_0x21c45b[0x1][0x0][_0x4aa155(0x361)]-_0xc1ec91[0x1][0x0][_0x4aa155(0x361)]),0x1===_0x267dd1[_0x4aa155(0x146)])return{'nodeId':_0x267dd1[0x0][0x0],'response':_0x267dd1[0x0][0x1][0x0]};let _0x592267;if(_0x592267=_0x4fa30a['length']>0x0?(_0x38419c=>{const _0x10c901=_0x4aa155,_0x1c2e15=_0x38419c[0x0][0x1][0x0][_0x10c901(0x5d4)];return _0x38419c[_0x10c901(0x5e3)](([,[_0x2c5466]])=>_0x2c5466[_0x10c901(0x5d4)]===_0x1c2e15);})(_0x267dd1):(_0x320591=>{const _0x2d1b41=_0x4aa155,_0x3e95e4=_0x320591[0x0][0x1][0x0][_0x2d1b41(0x361)];return _0x320591['filter'](([,[_0x4c7a06]])=>_0x4c7a06['queueLength']===_0x3e95e4);})(_0x267dd1),0x1===_0x592267[_0x4aa155(0x146)])return{'nodeId':_0x592267[0x0][0x0],'response':_0x592267[0x0][0x1][0x0]};const _0xab14db=this[_0x4aa155(0x49c)]['get'](_0x12c84f);if(!_0xab14db)throw new _0x4a800a(_0x4a800a[_0x4aa155(0x7ef)]['JobDispatcherJobNotFound']);const _0xb2c44b=_0xab14db['created'][_0x4aa155(0x410)](),_0x4ac0a7=_0x592267[_0x4aa155(0x8f1)](([_0x2beef6,[,_0xe95832]])=>({'nodeId':_0x2beef6,'rtt':_0xe95832-_0xb2c44b})),_0x29d219=Math[_0x4aa155(0x48b)](..._0x4ac0a7[_0x4aa155(0x8f1)](({rtt:_0x1090a9})=>_0x1090a9)),_0x34f891=_0x4ac0a7[_0x4aa155(0x419)](({rtt:_0x417e53})=>_0x417e53===_0x29d219),[,[_0x58ca45]]=_0x592267[_0x4aa155(0x419)](([_0x38d912])=>_0x38d912===_0x34f891[_0x4aa155(0x8bb)]);return{'nodeId':_0x34f891['nodeId'],'response':_0x58ca45};}[_0x37ac7d(0x22c)](_0x3019f0,_0x4de0a0){const _0x200da5=_0x37ac7d,_0x2fad82=this[_0x200da5(0x49c)][_0x200da5(0x7e9)](_0x3019f0);if(!_0x2fad82)throw new _0x4a800a(_0x4a800a[_0x200da5(0x7ef)][_0x200da5(0x5be)]);const _0x56134b=this[_0x200da5(0x640)]['get'](_0x3019f0);if(!_0x56134b)throw new _0x4a800a(_0x4a800a[_0x200da5(0x7ef)][_0x200da5(0x893)]);const _0x914908={'id':_0x2fad82['id'],'status':_0x441722[_0x200da5(0x184)][_0x200da5(0x2b1)],'result':_0x4de0a0[_0x200da5(0x42f)]};_0x56134b[_0x200da5(0x2d3)](_0x914908);}[_0x37ac7d(0x8a9)](_0x50f9bb,_0x3119c7){const _0x8e1bdf=_0x37ac7d,_0x5e3ac7=this['jobs'][_0x8e1bdf(0x7e9)](_0x50f9bb);if(!_0x5e3ac7)throw new _0x4a800a(_0x4a800a[_0x8e1bdf(0x7ef)][_0x8e1bdf(0x5be)]);const _0xbd2274=this[_0x8e1bdf(0x640)]['get'](_0x50f9bb);if(!_0xbd2274)throw new _0x4a800a(_0x4a800a[_0x8e1bdf(0x7ef)][_0x8e1bdf(0x893)]);_0x5e3ac7[_0x8e1bdf(0x74c)]=_0x441722[_0x8e1bdf(0x184)]['Completed'];const _0x510120={'id':_0x5e3ac7['id'],'status':_0x5e3ac7[_0x8e1bdf(0x74c)],'result':_0x3119c7[_0x8e1bdf(0x42f)]};_0xbd2274[_0x8e1bdf(0x2d3)](_0x510120),_0xbd2274[_0x8e1bdf(0x99a)](),this[_0x8e1bdf(0x640)][_0x8e1bdf(0x6fd)](_0x50f9bb),this[_0x8e1bdf(0x5c7)](_0x8e1bdf(0x54c)+_0x50f9bb+_0x8e1bdf(0x1e6),{'jobId':_0x50f9bb});}[_0x37ac7d(0x258)](_0x3e02a9,_0x7e4b8){const _0x345eb2=_0x37ac7d,_0x1f087e=this[_0x345eb2(0x49c)][_0x345eb2(0x7e9)](_0x3e02a9);if(!_0x1f087e)throw new _0x4a800a(_0x4a800a[_0x345eb2(0x7ef)][_0x345eb2(0x5be)]);const _0x13ab6a=this[_0x345eb2(0x640)][_0x345eb2(0x7e9)](_0x3e02a9);if(!_0x13ab6a)throw new _0x4a800a(_0x4a800a[_0x345eb2(0x7ef)][_0x345eb2(0x893)]);_0x1f087e['status']=_0x441722[_0x345eb2(0x184)]['Failed'];const _0x257e31={'id':_0x1f087e['id'],'status':_0x1f087e[_0x345eb2(0x74c)],'message':_0x7e4b8};_0x13ab6a['next'](_0x257e31),_0x13ab6a[_0x345eb2(0x99a)](),this[_0x345eb2(0x640)][_0x345eb2(0x6fd)](_0x3e02a9),this[_0x345eb2(0x5c7)](_0x345eb2(0x54c)+_0x3e02a9+'\x20failed.',{'jobId':_0x3e02a9});}[_0x37ac7d(0x5c7)](_0xd6cc21,{jobId:_0x216828}){const _0x31333f=_0x37ac7d,_0x34e49a={'jobId':_0x216828,'mistletIds':Array[_0x31333f(0x267)](this['graphService'][_0x31333f(0x70f)]()['values']())[_0x31333f(0x5e3)](_0x10bcb6=>_0x10bcb6[_0x31333f(0x623)]===_0x441722[_0x31333f(0x15a)]['Agent'])[_0x31333f(0x8f1)](_0x216626=>_0x216626[_0x31333f(0x336)]())};_0x52aedf[_0x31333f(0x5c7)](_0xd6cc21,{'nodeId':this[_0x31333f(0x45a)](),'nodeType':this[_0x31333f(0x9c1)]['type'],'data':_0x34e49a}),_0x52aedf[_0x31333f(0x857)](_0xdea279[_0x31333f(0x55b)],_0xd6cc21,_0x34e49a);}[_0x37ac7d(0x298)](_0x4bec1c){const _0x1a144a=_0x37ac7d,{jobPhase:_0x431a4f,available:_0x3f591e,bid:_0x4512c0}=_0x4bec1c;return _0x431a4f===_0x47dd02[_0x1a144a(0x905)]&&void 0x0!==_0x3f591e&&void 0x0!==_0x4512c0;}[_0x37ac7d(0x358)](_0x12340e){const _0x461b67=_0x37ac7d,{jobPhase:_0x3a8edf,result:_0x2748a1}=_0x12340e;return _0x3a8edf===_0x47dd02[_0x461b67(0x3e3)]&&void 0x0!==_0x2748a1;}[_0x37ac7d(0x77a)](_0x11bf10){const _0x250215=_0x37ac7d,{jobPhase:_0x4c02bf,result:_0x1dc8e1}=_0x11bf10;return _0x4c02bf===_0x47dd02[_0x250215(0x4ad)]&&void 0x0!==_0x1dc8e1;}[_0x37ac7d(0x809)](_0x89bd3a){const _0x1a3760=_0x37ac7d,{jobPhase:_0x12234c,message:_0x5a6c1c}=_0x89bd3a;return _0x12234c===_0x47dd02[_0x1a3760(0x6c7)]&&void 0x0!==_0x5a6c1c&&'string'==typeof _0x5a6c1c;}}var _0x112f57,_0x2fa67d,_0x1a021a,_0x363d4a;!function(_0x158850){const _0x367f31=_0x37ac7d;_0x158850['ObjectStorage']=_0x367f31(0x80b),_0x158850[_0x367f31(0x664)]=_0x367f31(0x3eb);}(_0x112f57||(_0x112f57={})),function(_0x1e9ffe){const _0x4f8e97=_0x37ac7d;_0x1e9ffe[_0x4f8e97(0x22d)]=_0x4f8e97(0x732),_0x1e9ffe[_0x4f8e97(0x848)]=_0x4f8e97(0x273),_0x1e9ffe['CustomSkill']=_0x4f8e97(0x3cb),_0x1e9ffe[_0x4f8e97(0x889)]=_0x4f8e97(0x294),_0x1e9ffe['Knowledge']=_0x4f8e97(0x5a5),_0x1e9ffe[_0x4f8e97(0x55a)]=_0x4f8e97(0x231),_0x1e9ffe[_0x4f8e97(0x5b2)]=_0x4f8e97(0x94b),_0x1e9ffe[_0x4f8e97(0x136)]='time',_0x1e9ffe['Code']=_0x4f8e97(0x417),_0x1e9ffe[_0x4f8e97(0x437)]='search',_0x1e9ffe[_0x4f8e97(0x494)]=_0x4f8e97(0x5d2),_0x1e9ffe[_0x4f8e97(0x9bd)]='web-scraper-raw',_0x1e9ffe[_0x4f8e97(0x300)]=_0x4f8e97(0x8a7),_0x1e9ffe[_0x4f8e97(0x15f)]=_0x4f8e97(0x82f),_0x1e9ffe[_0x4f8e97(0x282)]=_0x4f8e97(0x594);}(_0x2fa67d||(_0x2fa67d={})),function(_0x16219c){const _0x4a4c4b=_0x37ac7d;_0x16219c['ObjectStorageUpload']='object-storage-upload',_0x16219c['ExternalStorageUpload']='external-storage-upload',_0x16219c[_0x4a4c4b(0x951)]=_0x4a4c4b(0x776),_0x16219c[_0x4a4c4b(0x300)]=_0x4a4c4b(0x8a7),_0x16219c[_0x4a4c4b(0x282)]=_0x4a4c4b(0x594),_0x16219c[_0x4a4c4b(0x15f)]='sentence-splitter',_0x16219c['RelationExtractor']=_0x4a4c4b(0x866),_0x16219c[_0x4a4c4b(0x80e)]='entity-extractor',_0x16219c[_0x4a4c4b(0x348)]=_0x4a4c4b(0x86c),_0x16219c[_0x4a4c4b(0x477)]=_0x4a4c4b(0x1aa),_0x16219c[_0x4a4c4b(0x22d)]=_0x4a4c4b(0x732),_0x16219c[_0x4a4c4b(0xf4)]=_0x4a4c4b(0x80b),_0x16219c[_0x4a4c4b(0x2df)]=_0x4a4c4b(0x1cf),_0x16219c[_0x4a4c4b(0x8bf)]=_0x4a4c4b(0x7e6),_0x16219c[_0x4a4c4b(0x67c)]=_0x4a4c4b(0x34c),_0x16219c['Prompt']=_0x4a4c4b(0x231),_0x16219c[_0x4a4c4b(0x502)]=_0x4a4c4b(0x55c);}(_0x1a021a||(_0x1a021a={})),function(_0x5016c4){const _0x26edc0=_0x37ac7d;_0x5016c4[_0x26edc0(0x89b)]=_0x26edc0(0x8f3),_0x5016c4['Text']=_0x26edc0(0x495),_0x5016c4['Image']='image',_0x5016c4['Audio']=_0x26edc0(0x71d),_0x5016c4[_0x26edc0(0x5e0)]=_0x26edc0(0x51f),_0x5016c4[_0x26edc0(0x85a)]=_0x26edc0(0x2d2),_0x5016c4['Entity']=_0x26edc0(0x679),_0x5016c4[_0x26edc0(0x6ac)]=_0x26edc0(0x6c1),_0x5016c4['Search']=_0x26edc0(0x628),_0x5016c4[_0x26edc0(0x110)]=_0x26edc0(0x5e8),_0x5016c4[_0x26edc0(0x35c)]=_0x26edc0(0x5a5),_0x5016c4['Skill']=_0x26edc0(0x13a);}(_0x363d4a||(_0x363d4a={}));class _0x378c7a{static ['instance'];constructor(){}static[_0x37ac7d(0x507)](){const _0x4693dc=_0x37ac7d;return _0x378c7a[_0x4693dc(0x912)]||(_0x378c7a[_0x4693dc(0x912)]=new _0x378c7a()),_0x378c7a[_0x4693dc(0x912)];}async[_0x37ac7d(0x523)](_0x1934e4,_0x2a5e54){const _0xf6b958=_0x37ac7d,_0x4a4c70=await(0x0,_0x2c741a['getDoc'])((0x0,_0x2c741a[_0xf6b958(0x4be)])(_0xe4f57['getFirestore'](),_0xf6b958(0x37f)+_0x1934e4+'/resources/generative-ai-workflow/items/'+_0x2a5e54)),_0x19b04f=await this[_0xf6b958(0x3c5)](_0x1934e4),_0x4c7765=await this[_0xf6b958(0x29e)](_0x1934e4),_0xb8f576=await this['getSkills'](_0x1934e4),_0x4406f8=await this['getModels'](_0x1934e4),_0x478010=await this[_0xf6b958(0x89a)](_0x1934e4);if(!_0x4a4c70[_0xf6b958(0x561)]())throw new _0x4a800a(_0x4a800a[_0xf6b958(0x7ef)][_0xf6b958(0xff)]);return this['parseWorkflowDocument'](_0x4a4c70,_0x19b04f,_0x4c7765,_0xb8f576,_0x4406f8,_0x478010);}['parseWorkflowDocument'](_0x2c2bef,_0x2ff0e2,_0x49ef5c,_0x1b6bd1,_0x5738b3,_0x194771){const _0x57fdcf=_0x37ac7d,_0x1fb0d1=_0x2c2bef[_0x57fdcf(0x51f)]();if(!_0x1fb0d1)throw new _0x4a800a(_0x4a800a[_0x57fdcf(0x7ef)][_0x57fdcf(0xff)]);const _0x29fb8e=_0x1fb0d1[_0x57fdcf(0x308)]&&_0x1fb0d1[_0x57fdcf(0xeb)]?_0x1fb0d1[_0x57fdcf(0xeb)][_0x1fb0d1[_0x57fdcf(0x308)]-0x1]:_0x1fb0d1,_0x1ce3a4=this[_0x57fdcf(0x421)](_0x29fb8e[_0x57fdcf(0x53b)],_0x2ff0e2,_0x49ef5c,_0x1b6bd1,_0x194771);return{'id':_0x2c2bef['id'],'modelsBucketId':_0x1fb0d1[_0x57fdcf(0x602)],'blocks':_0x1ce3a4,'models':this[_0x57fdcf(0x7fa)](_0x1ce3a4,_0x5738b3),'dataBucketIds':this[_0x57fdcf(0x648)](_0x1ce3a4),'externalStorageConnectionIds':this[_0x57fdcf(0x74e)](_0x1ce3a4)};}[_0x37ac7d(0x7fa)](_0x3672f3,_0x477dd0){const _0x2cea30=_0x37ac7d,_0x9baed2=new Set();for(const _0x294f65 of _0x3672f3)if(_0x294f65['type']!==_0x2fa67d['Agent']&&_0x294f65[_0x2cea30(0x623)]!==_0x2fa67d[_0x2cea30(0x848)]||_0x9baed2[_0x2cea30(0x492)](_0x294f65[_0x2cea30(0x306)]),_0x294f65[_0x2cea30(0x623)]===_0x2fa67d['Knowledge']||_0x294f65['type']===_0x2fa67d[_0x2cea30(0x889)]){for(const _0x2bef61 of[..._0x294f65[_0x2cea30(0x878)],..._0x294f65[_0x2cea30(0x8ce)]])_0x2bef61['type']===_0x1a021a[_0x2cea30(0x477)]&&_0x9baed2[_0x2cea30(0x492)](_0x2bef61['id']),_0x2bef61[_0x2cea30(0x623)]===_0x1a021a[_0x2cea30(0x22d)]&&_0x9baed2[_0x2cea30(0x492)](_0x2bef61[_0x2cea30(0x306)]);}return Array[_0x2cea30(0x267)](_0x9baed2)[_0x2cea30(0x8f1)](_0x4faca2=>{const _0x2a9391=_0x2cea30,{id:_0x2629c2,engineType:_0xc77693,taskType:_0x290c28,inputType:_0x5c80b8,outputType:_0x5bbd54,sourceUrl:_0x35e358}=_0x477dd0[_0x2a9391(0x419)](_0x216283=>_0x216283['id']===_0x4faca2);return{'id':_0x2629c2,'engineType':_0xc77693,'taskType':_0x290c28,'inputType':_0x5c80b8,'outputType':_0x5bbd54,'sourceUrl':_0x35e358};});}['getWorkflowObjectStorageBuckets'](_0x1e7830){const _0x486dd6=_0x37ac7d,_0x433d03=new Set();for(const _0x3a8c23 of _0x1e7830)switch(_0x3a8c23['type']){case _0x2fa67d[_0x486dd6(0x35c)]:case _0x2fa67d['DataCollection']:for(const _0x4cb060 of[..._0x3a8c23['ingestBlocks'],..._0x3a8c23[_0x486dd6(0x8ce)]])_0x4cb060['type']===_0x1a021a[_0x486dd6(0x30f)]&&_0x433d03['add'](_0x4cb060['id']);}return Array[_0x486dd6(0x267)](_0x433d03);}['getWorkflowExternalStorageConnections'](_0x5a9b63){const _0x25604d=_0x37ac7d,_0x3674b2=new Set();for(const _0x3e7ddf of _0x5a9b63)switch(_0x3e7ddf[_0x25604d(0x623)]){case _0x2fa67d[_0x25604d(0x35c)]:case _0x2fa67d[_0x25604d(0x889)]:for(const _0x24446e of[..._0x3e7ddf[_0x25604d(0x878)],..._0x3e7ddf[_0x25604d(0x8ce)]])_0x24446e[_0x25604d(0x623)]===_0x1a021a['ExternalStorageUpload']&&_0x3674b2[_0x25604d(0x492)](_0x24446e['id']);}return Array['from'](_0x3674b2);}[_0x37ac7d(0x421)](_0x63c49e,_0x54dd41,_0x541add,_0x15dc2f,_0x1b410b){const _0x3093fd=_0x37ac7d;return _0x63c49e[_0x3093fd(0x8f1)](_0x1a7dca=>{const _0x4e6e30=_0x3093fd;switch(_0x1a7dca[_0x4e6e30(0x623)]){case _0x2fa67d[_0x4e6e30(0x22d)]:case _0x2fa67d[_0x4e6e30(0x848)]:const _0x55bb04=_0x54dd41[_0x4e6e30(0x419)](_0x11ffe1=>_0x11ffe1['id']===_0x1a7dca['id']);if(!_0x55bb04)throw new _0x4a800a(_0x4a800a[_0x4e6e30(0x7ef)][_0x4e6e30(0x2fd)],{'block':_0x1a7dca});const _0x2d3aa6=_0x1a7dca[_0x4e6e30(0x718)]&&_0x55bb04['versions']?_0x55bb04[_0x4e6e30(0xeb)][_0x1a7dca[_0x4e6e30(0x718)]-0x1]:_0x55bb04;return{'type':_0x55bb04[_0x4e6e30(0x623)],'id':_0x55bb04['id'],'uid':_0x1a7dca[_0x4e6e30(0x39c)],'name':_0x2d3aa6[_0x4e6e30(0x642)],'description':_0x2d3aa6[_0x4e6e30(0x1e9)],'instructions':_0x2d3aa6[_0x4e6e30(0x6a0)],'contextInputVariable':_0x2d3aa6['contextInputVariable'],'contextOutputVariable':_0x2d3aa6[_0x4e6e30(0x20c)],'showSkillOutput':_0x2d3aa6['showSkillOutput'],'grammar':[_0x4e6e30(0x5f8),_0x4e6e30(0x24d),_0x4e6e30(0x7d9)][_0x4e6e30(0x444)](_0x2d3aa6[_0x4e6e30(0x48f)])?_0x2d3aa6[_0x4e6e30(0x48f)]:_0x1b410b[_0x4e6e30(0x419)](_0x7d78c8=>_0x7d78c8['id']===_0x2d3aa6['grammar'])[_0x4e6e30(0x8c5)],'temperature':_0x2d3aa6[_0x4e6e30(0x552)],'maxTokens':_0x2d3aa6[_0x4e6e30(0x53a)],'modelId':_0x2d3aa6[_0x4e6e30(0x306)],'links':_0x1a7dca[_0x4e6e30(0x1bf)],'version':_0x1a7dca[_0x4e6e30(0x718)]};case _0x2fa67d['Knowledge']:case _0x2fa67d[_0x4e6e30(0x889)]:const _0x1dba21=_0x541add[_0x4e6e30(0x419)](_0x2adc37=>_0x2adc37['id']===_0x1a7dca['id']);if(!_0x1dba21)throw new _0x4a800a(_0x4a800a[_0x4e6e30(0x7ef)][_0x4e6e30(0x2fd)],{'block':_0x1a7dca});const _0x389a49=_0x1a7dca[_0x4e6e30(0x718)]&&_0x1dba21[_0x4e6e30(0xeb)]?_0x1dba21[_0x4e6e30(0xeb)][_0x1a7dca[_0x4e6e30(0x718)]-0x1]:_0x1dba21;return{'type':_0x1a7dca[_0x4e6e30(0x623)],'id':_0x1dba21['id'],'uid':_0x1a7dca[_0x4e6e30(0x39c)],'name':_0x389a49[_0x4e6e30(0x642)],'description':_0x389a49[_0x4e6e30(0x1e9)],'ingestBlocks':this[_0x4e6e30(0x2b4)](_0x389a49[_0x4e6e30(0x878)],_0x54dd41),'retrieveBlocks':this[_0x4e6e30(0x2b4)](_0x389a49['retrieveBlocks'],_0x54dd41),'links':_0x1a7dca[_0x4e6e30(0x1bf)],'version':_0x1a7dca[_0x4e6e30(0x718)]};case _0x2fa67d[_0x4e6e30(0x8ab)]:const _0x1f455b=_0x15dc2f['find'](_0x29358f=>_0x29358f['id']===_0x1a7dca['id']);if(!_0x1f455b)throw new _0x4a800a(_0x4a800a[_0x4e6e30(0x7ef)]['WorkflowInvalidBlockType'],{'block':_0x1a7dca});return{'type':_0x1a7dca[_0x4e6e30(0x623)],'id':_0x1f455b['id'],'uid':_0x1a7dca['uid'],'name':_0x1f455b['name'],'description':_0x1f455b[_0x4e6e30(0x1e9)],'parameters':_0x1f455b[_0x4e6e30(0x5b5)],'endpointUrl':_0x1f455b[_0x4e6e30(0x6f5)],'endpointMethod':_0x1f455b[_0x4e6e30(0x53d)],'accessToken':_0x1f455b[_0x4e6e30(0x40a)],'queryParameters':_0x1f455b['queryParameters'],'bodyParameters':_0x1f455b['bodyParameters'],'links':_0x1a7dca['links']};case _0x2fa67d[_0x4e6e30(0x55a)]:case _0x2fa67d['Answer']:case _0x2fa67d[_0x4e6e30(0x136)]:case _0x2fa67d[_0x4e6e30(0x2d4)]:case _0x2fa67d[_0x4e6e30(0x437)]:case _0x2fa67d[_0x4e6e30(0x494)]:case _0x2fa67d[_0x4e6e30(0x9bd)]:case _0x2fa67d[_0x4e6e30(0x15f)]:return{'type':_0x1a7dca[_0x4e6e30(0x623)],'id':_0x1a7dca['id'],'uid':_0x1a7dca[_0x4e6e30(0x39c)],'links':_0x1a7dca[_0x4e6e30(0x1bf)]};case _0x2fa67d['ChunkSplitter']:case _0x2fa67d[_0x4e6e30(0x282)]:return{'type':_0x1a7dca[_0x4e6e30(0x623)],'id':_0x1a7dca['id'],'uid':_0x1a7dca[_0x4e6e30(0x39c)],'links':_0x1a7dca[_0x4e6e30(0x1bf)],'attributes':_0x1a7dca['attributes']};default:throw new _0x4a800a(_0x4a800a[_0x4e6e30(0x7ef)][_0x4e6e30(0x2fd)],{'block':_0x1a7dca});}});}[_0x37ac7d(0x2b4)](_0x37a9ff,_0x6671a5){const _0x57e048=_0x37ac7d;return _0x37a9ff[_0x57e048(0x8f1)](_0xfa246a=>{const _0x32789c=_0x57e048;switch(_0xfa246a[_0x32789c(0x623)]){case _0x1a021a[_0x32789c(0x22d)]:const _0x544df4=_0x6671a5[_0x32789c(0x419)](_0x476556=>_0x476556['id']===_0xfa246a['id']);if(!_0x544df4)throw new _0x4a800a(_0x4a800a[_0x32789c(0x7ef)][_0x32789c(0x2fd)],{'block':_0xfa246a});const _0x224080=_0xfa246a[_0x32789c(0x718)]&&_0x544df4[_0x32789c(0xeb)]?_0x544df4[_0x32789c(0xeb)][_0xfa246a[_0x32789c(0x718)]-0x1]:_0x544df4;return{'type':_0xfa246a[_0x32789c(0x623)],'id':_0xfa246a['id'],'uid':_0xfa246a['uid'],'description':_0x224080[_0x32789c(0x1e9)],'instructions':_0x224080[_0x32789c(0x6a0)],'grammar':_0x224080[_0x32789c(0x48f)],'temperature':_0x224080[_0x32789c(0x552)],'maxTokens':_0x224080['maxTokens'],'modelId':_0x224080[_0x32789c(0x306)],'links':_0xfa246a[_0x32789c(0x1bf)],'version':_0xfa246a['version']};case _0x1a021a[_0x32789c(0x67c)]:case _0x1a021a[_0x32789c(0x8bf)]:case _0x1a021a[_0x32789c(0x282)]:case _0x1a021a[_0x32789c(0x300)]:case _0x1a021a[_0x32789c(0x80e)]:case _0x1a021a[_0x32789c(0x348)]:return{'type':_0xfa246a['type'],'id':_0xfa246a['id'],'uid':_0xfa246a[_0x32789c(0x39c)],'links':_0xfa246a[_0x32789c(0x1bf)],'attributes':_0xfa246a[_0x32789c(0x400)]};case _0x1a021a['Model']:case _0x1a021a['ObjectStorageBucket']:case _0x1a021a[_0x32789c(0x2df)]:case _0x1a021a[_0x32789c(0x4ec)]:case _0x1a021a[_0x32789c(0x951)]:case _0x1a021a[_0x32789c(0x15f)]:case _0x1a021a[_0x32789c(0x30f)]:case _0x1a021a[_0x32789c(0x690)]:case _0x1a021a[_0x32789c(0x502)]:case _0x1a021a[_0x32789c(0x55a)]:return{'type':_0xfa246a[_0x32789c(0x623)],'id':_0xfa246a['id'],'uid':_0xfa246a[_0x32789c(0x39c)],'links':_0xfa246a['links']};default:throw new _0x4a800a(_0x4a800a[_0x32789c(0x7ef)]['WorkflowInvalidBlockType'],{'block':_0xfa246a});}});}async[_0x37ac7d(0x3c5)](_0x3b41dc){const _0x2c2748=_0x37ac7d;return(await(0x0,_0x2c741a['getDocs'])((0x0,_0x2c741a[_0x2c2748(0x73b)])(_0xe4f57['getFirestore'](),_0x2c2748(0x37f)+_0x3b41dc+_0x2c2748(0x6b1))))[_0x2c2748(0x5a3)][_0x2c2748(0x8f1)](_0x390b73=>{const _0x4b3ec1=_0x2c2748,_0x2a4a81=_0x390b73[_0x4b3ec1(0x51f)]();return{'type':_0x2fa67d[_0x4b3ec1(0x22d)],'id':_0x390b73['id'],'name':_0x2a4a81[_0x4b3ec1(0x642)],'description':_0x2a4a81[_0x4b3ec1(0x1e9)],'instructions':_0x2a4a81[_0x4b3ec1(0x6a0)],'contextInputVariable':_0x2a4a81[_0x4b3ec1(0x4c7)],'contextOutputVariable':_0x2a4a81[_0x4b3ec1(0x20c)],'showSkillOutput':_0x2a4a81[_0x4b3ec1(0x829)]??!0x0,'grammar':_0x2a4a81[_0x4b3ec1(0x48f)]??'default','temperature':_0x2a4a81[_0x4b3ec1(0x552)],'maxTokens':_0x2a4a81['maxTokens'],'modelId':_0x2a4a81[_0x4b3ec1(0x306)],'versions':_0x2a4a81['versions']};});}async['getDataCollections'](_0x18ec26){const _0x3444f4=_0x37ac7d;return(await(0x0,_0x2c741a[_0x3444f4(0x37e)])((0x0,_0x2c741a[_0x3444f4(0x73b)])(_0xe4f57['getFirestore'](),_0x3444f4(0x37f)+_0x18ec26+_0x3444f4(0x6cb))))[_0x3444f4(0x5a3)][_0x3444f4(0x8f1)](_0x49feea=>{const _0x1c9737=_0x3444f4,_0x49628d=_0x49feea[_0x1c9737(0x51f)]();return{'type':_0x2fa67d[_0x1c9737(0x889)],'id':_0x49feea['id'],'name':_0x49628d[_0x1c9737(0x642)],'description':_0x49628d['description'],'ingestBlocks':_0x49628d[_0x1c9737(0x878)],'retrieveBlocks':_0x49628d[_0x1c9737(0x8ce)],'versions':_0x49628d[_0x1c9737(0xeb)]};});}async[_0x37ac7d(0x287)](_0x1c3cb1){const _0x920b07=_0x37ac7d;return(await(0x0,_0x2c741a[_0x920b07(0x37e)])((0x0,_0x2c741a['collection'])(_0xe4f57[_0x920b07(0x242)](),_0x920b07(0x37f)+_0x1c3cb1+'/resources/generative-ai-skill/items')))[_0x920b07(0x5a3)][_0x920b07(0x8f1)](_0x52c238=>{const _0x23277f=_0x920b07,_0x5b698f=_0x52c238[_0x23277f(0x51f)]();return{'type':_0x2fa67d[_0x23277f(0x8ab)],'id':_0x52c238['id'],'name':_0x5b698f[_0x23277f(0x642)],'description':_0x5b698f['description'],'parameters':_0x5b698f[_0x23277f(0x5b5)],'endpointUrl':_0x5b698f['endpointUrl'],'endpointMethod':_0x5b698f['endpointMethod'],'accessToken':_0x5b698f[_0x23277f(0x40a)],'queryParameters':_0x5b698f[_0x23277f(0x7fc)],'bodyParameters':_0x5b698f[_0x23277f(0x39a)]};});}async[_0x37ac7d(0x89a)](_0x1d621d){const _0x4d5956=_0x37ac7d;return(await(0x0,_0x2c741a['getDocs'])((0x0,_0x2c741a['collection'])(_0xe4f57[_0x4d5956(0x242)](),'/developers/'+_0x1d621d+_0x4d5956(0x813))))['docs']['map'](_0x310bda=>{const _0x12aa98=_0x4d5956,_0x7f1dab=_0x310bda[_0x12aa98(0x51f)]();return{'id':_0x310bda['id'],'name':_0x7f1dab['name'],'description':_0x7f1dab['description'],'content':_0x7f1dab[_0x12aa98(0x8c5)]};});}async[_0x37ac7d(0x95e)](_0xaece8a){const _0x11d66b=_0x37ac7d;return(await(0x0,_0x2c741a[_0x11d66b(0x37e)])((0x0,_0x2c741a[_0x11d66b(0x73b)])(_0xe4f57[_0x11d66b(0x242)](),_0x11d66b(0x37f)+_0xaece8a+_0x11d66b(0x6d9))))[_0x11d66b(0x5a3)][_0x11d66b(0x8f1)](_0x3d651c=>{const _0x489f96=_0x11d66b,_0x6ebfb2=_0x3d651c[_0x489f96(0x51f)]();return{'id':_0x3d651c['id'],'modelName':_0x6ebfb2['modelName'],'engineType':_0x6ebfb2[_0x489f96(0x10f)],'taskType':_0x6ebfb2[_0x489f96(0x3a6)],'inputType':_0x6ebfb2[_0x489f96(0x334)]??_0x441722[_0x489f96(0x5bc)][_0x489f96(0x1bc)],'outputType':_0x6ebfb2['outputType']??_0x441722[_0x489f96(0x5d0)][_0x489f96(0x1bc)],'sourceUrl':_0x6ebfb2[_0x489f96(0x447)]};});}}const _0x34e4c7=_0x378c7a[_0x37ac7d(0x507)]();class _0x4d9adb extends _0x11256d{[_0x37ac7d(0x116)];[_0x37ac7d(0x7f1)];[_0x37ac7d(0x2af)]=0x0;[_0x37ac7d(0x981)]=0x0;[_0x37ac7d(0x7d3)];constructor(_0x557e78,_0x365091,_0x131b99,_0x1e70fe){super(_0x557e78,_0x365091,_0x1e70fe),this['localNode']=_0x557e78,this['vendorId']=_0x131b99,this['sendStats']();}['destroy'](){const _0x23bbc1=_0x37ac7d;this[_0x23bbc1(0x7d3)]&&(clearTimeout(this[_0x23bbc1(0x7d3)]),delete this[_0x23bbc1(0x7d3)]),super['destroy']();}[_0x37ac7d(0x44e)](){const _0x33bea0=_0x37ac7d;this[_0x33bea0(0x2af)]=0x0,this['tokens']=0x0,this[_0x33bea0(0x4ed)](),super[_0x33bea0(0x44e)]();}[_0x37ac7d(0x76b)](_0x1b52dc){const _0x36565c=_0x37ac7d,_0x311021=_0x36565c(0x2ff)+(0x0,_0x3e20b1['v4'])();switch(_0x1b52dc[_0x36565c(0x623)]){case'prompt':let _0x1b1be8=!0x1;const _0x52f3cc=()=>{const _0x42488f=_0x36565c;if(_0x1b1be8)throw new _0x4a800a(_0x4a800a[_0x42488f(0x7ef)][_0x42488f(0x4fb)]);_0x1b1be8=!0x0;},_0x49c8d8=()=>(_0x52f3cc(),this[_0x36565c(0x231)](_0x311021,_0x1b52dc[_0x36565c(0x231)],_0x1b52dc['options'])),_0x2ee8ed=()=>(_0x52f3cc(),this[_0x36565c(0x462)](_0x311021,_0x1b52dc[_0x36565c(0x231)],_0x1b52dc[_0x36565c(0x14b)]));return{'id':_0x311021,'prompt':_0x1b52dc[_0x36565c(0x231)],'options':_0x1b52dc[_0x36565c(0x14b)]??{'threadId':'thread-'+(0x0,_0x3e20b1['v4'])()},'run':_0x49c8d8,'stream':_0x2ee8ed};case'rate':let _0x33307e=!0x1;const _0x48a647=()=>{const _0x1ce6a1=_0x36565c;if(_0x33307e)throw new _0x4a800a(_0x4a800a[_0x1ce6a1(0x7ef)][_0x1ce6a1(0x4fb)]);_0x33307e=!0x0;},_0x167aae=()=>(_0x48a647(),this['internalRatePrompt'](_0x311021,_0x1b52dc[_0x36565c(0x8fe)],_0x1b52dc['jobId'],_0x1b52dc['options']));if(!_0x1b52dc[_0x36565c(0x14b)]?.['threadId'])throw new _0x3e3c93(_0x5b4e17['GenerativeAIContextJobMissingThreadId'],_0x36565c(0x804));return{'id':_0x311021,'rating':_0x1b52dc[_0x36565c(0x8fe)],'options':_0x1b52dc[_0x36565c(0x14b)]??{'threadId':'thread-'+(0x0,_0x3e20b1['v4'])()},'rate':_0x167aae};case _0x36565c(0x113):let _0x2539f3=!0x1;const _0x5a3fad=()=>{const _0x2053cc=_0x36565c;if(_0x2539f3)throw new _0x4a800a(_0x4a800a[_0x2053cc(0x7ef)][_0x2053cc(0x4fb)]);_0x2539f3=!0x0;};return{'id':_0x311021,'objectStoreId':'','documentPath':_0x1b52dc[_0x36565c(0x513)],'download':()=>(_0x5a3fad(),this['internalDownloadDocument'](_0x311021,_0x1b52dc[_0x36565c(0x7ab)],_0x1b52dc[_0x36565c(0x513)]))};}}async[_0x37ac7d(0x5e6)](_0x2ecaa3){const _0x4eadff=_0x37ac7d;return this['createAIJob'](_0x2ecaa3)[_0x4eadff(0x217)]();}async[_0x37ac7d(0x113)](_0x115fcc){const _0x5f2e52=_0x37ac7d,_0x5c01f5={'type':_0x5f2e52(0x113),'objectStoreId':'','documentPath':_0x115fcc};return this[_0x5f2e52(0x76b)](_0x5c01f5)['download']();}async['internalRatePrompt'](_0x15a047,_0x37f5c8,_0x2ca69e,{threadId:_0x1531b2,feedback:_0x34e990=''}){const _0x539a8b=_0x37ac7d,_0x33cd84={'type':'rate','jobId':_0x2ca69e,'threadId':_0x1531b2,'rating':_0x37f5c8,'feedback':_0x34e990},_0x657c18=await this['getJobObservable'](_0x15a047,_0x441722[_0x539a8b(0x693)]['Job'],_0x33cd84,{'threadId':_0x1531b2,'feedback':_0x34e990});return new Promise((_0x3a5ac6,_0x19f56e)=>{const _0x12ccb1=_0x539a8b;let _0x4db8d4;const _0x51807b=_0x657c18[_0x12ccb1(0x9b2)]({'next':_0x53ceed=>{const _0x1dbae0=_0x12ccb1;switch(_0x53ceed[_0x1dbae0(0x74c)]){case _0x441722['JobStatus'][_0x1dbae0(0x52b)]:clearTimeout(_0x4db8d4),_0x3a5ac6(_0x53ceed['result']),_0x51807b['unsubscribe']();break;case _0x441722[_0x1dbae0(0x184)][_0x1dbae0(0x6c7)]:clearTimeout(_0x4db8d4),_0x19f56e(new _0x4a800a(_0x4a800a[_0x1dbae0(0x7ef)][_0x1dbae0(0x805)],{'updatedJob':_0x53ceed})),_0x51807b[_0x1dbae0(0x887)]();}},'error':_0x100d46=>{const _0x289142=_0x12ccb1;clearTimeout(_0x4db8d4),_0x19f56e(new _0x4a800a(_0x4a800a[_0x289142(0x7ef)]['GenerativeAIContextJobFailed'],{'err':_0x100d46})),_0x51807b[_0x289142(0x887)]();}});_0x4db8d4=setTimeout(()=>{const _0x42bd75=_0x12ccb1;_0x19f56e(new _0x4a800a(_0x4a800a[_0x42bd75(0x7ef)][_0x42bd75(0x3fc)])),_0x51807b['unsubscribe']();},_0x59c1d7);});}async[_0x37ac7d(0x618)](_0x5d905d,_0x208a33,_0x52d096){const _0x5a2a2d=_0x37ac7d,_0x29c5ce={'type':'downloadDocument','objectStoreId':_0x208a33,'documentPath':_0x52d096,'threadId':_0x5a2a2d(0x499)+(0x0,_0x3e20b1['v4'])()},_0x59cb2d=await this[_0x5a2a2d(0x4c9)](_0x5d905d,_0x441722[_0x5a2a2d(0x693)]['Job'],_0x29c5ce);return new Promise((_0xd842f0,_0x29541e)=>{let _0x21e13b;const _0x108fae=_0x59cb2d['subscribe']({'next':_0x4dc595=>{const _0xe868b8=a0_0xbe57;switch(_0x4dc595['status']){case _0x441722[_0xe868b8(0x184)][_0xe868b8(0x52b)]:clearTimeout(_0x21e13b),_0xd842f0(_0x4dc595['result']),_0x108fae[_0xe868b8(0x887)]();break;case _0x441722[_0xe868b8(0x184)]['Failed']:clearTimeout(_0x21e13b),_0x29541e(new _0x4a800a(_0x4a800a[_0xe868b8(0x7ef)][_0xe868b8(0x805)],{'updatedJob':_0x4dc595})),_0x108fae[_0xe868b8(0x887)]();}},'error':_0x24baee=>{const _0x1a79aa=a0_0xbe57;clearTimeout(_0x21e13b),_0x29541e(new _0x4a800a(_0x4a800a[_0x1a79aa(0x7ef)][_0x1a79aa(0x805)],{'err':_0x24baee})),_0x108fae[_0x1a79aa(0x887)]();}});_0x21e13b=setTimeout(()=>{const _0x53f9ba=a0_0xbe57;_0x29541e(new _0x4a800a(_0x4a800a[_0x53f9ba(0x7ef)][_0x53f9ba(0x3fc)])),_0x108fae['unsubscribe']();},_0x59c1d7);});}async['prompt'](_0xb88c57,_0xc20556,_0x371e47){const _0x300160=_0x37ac7d,_0x43f981={'type':_0x300160(0x231),'prompt':_0xc20556,'threadId':_0x371e47?.[_0x300160(0x221)]??_0x300160(0x499)+(0x0,_0x3e20b1['v4'])()},_0x21f958=await this[_0x300160(0x4c9)](_0xb88c57,_0x441722['JobType'][_0x300160(0x7a8)],_0x43f981,_0x371e47);return new Promise((_0x1bcb95,_0x313ef2)=>{const _0x3fe5a9=_0x300160;let _0x17ec10;const _0x2e67bb=_0x21f958[_0x3fe5a9(0x9b2)]({'next':_0x2ffcf7=>{const _0x547ce1=_0x3fe5a9;switch(_0x2ffcf7[_0x547ce1(0x74c)]){case _0x441722['JobStatus']['Completed']:if(_0x547ce1(0x231)!==_0x2ffcf7[_0x547ce1(0x42f)][_0x547ce1(0x623)])return;const _0x475080=_0x2ffcf7[_0x547ce1(0x42f)][_0x547ce1(0x6a3)]??0x0;this[_0x547ce1(0x43d)](_0xc20556,_0x475080),clearTimeout(_0x17ec10),_0x1bcb95(_0x2ffcf7['result']),_0x2e67bb[_0x547ce1(0x887)](),this[_0x547ce1(0x2af)]+=0x1,this[_0x547ce1(0x981)]+=_0x475080,this[_0x547ce1(0x4ed)]();break;case _0x441722['JobStatus'][_0x547ce1(0x6c7)]:clearTimeout(_0x17ec10),_0x313ef2(new _0x4a800a(_0x4a800a[_0x547ce1(0x7ef)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x2ffcf7})),_0x2e67bb[_0x547ce1(0x887)](),this[_0x547ce1(0x4ed)]();}},'error':_0x12af59=>{const _0xfc72b4=_0x3fe5a9;clearTimeout(_0x17ec10),_0x313ef2(new _0x4a800a(_0x4a800a[_0xfc72b4(0x7ef)]['GenerativeAIContextJobFailed'],{'err':_0x12af59})),_0x2e67bb[_0xfc72b4(0x887)]();}});_0x17ec10=setTimeout(()=>{const _0x4fc2d5=_0x3fe5a9;_0x313ef2(new _0x4a800a(_0x4a800a['codes']['GenerativeAIContextJobTimeout'])),_0x2e67bb[_0x4fc2d5(0x887)]();},_0x59c1d7);});}async*[_0x37ac7d(0x462)](_0x100e7b,_0x3cdc40,_0x1cee2a){const _0x6a412b=_0x37ac7d,_0x3debd9={'type':_0x6a412b(0x231),'prompt':_0x3cdc40,'threadId':_0x1cee2a?.[_0x6a412b(0x221)]??_0x6a412b(0x499)+(0x0,_0x3e20b1['v4'])()},_0x3d4806=await this['getJobObservable'](_0x100e7b,_0x441722[_0x6a412b(0x693)][_0x6a412b(0x3d0)],_0x3debd9,_0x1cee2a);let _0x48326b,_0x39e256,_0x48a68c=!0x1,_0xf24fdd=0x0;const _0x177151=[],_0x3c55f9=new Map();let _0x28b94d=null;const _0x1a3a69=()=>{_0x28b94d&&(_0x28b94d(),_0x28b94d=null);},_0x17a9c0=_0x4226e2=>{const _0x3f4bed=_0x6a412b;_0x48a68c=!0x0,_0x1a3a69(),_0x5e361a[_0x3f4bed(0x887)](),_0x39e256=_0x4226e2;},_0x5e361a=_0x3d4806[_0x6a412b(0x9b2)]({'next':_0x379631=>{const _0x673ad1=_0x6a412b;switch(_0x379631['status']){case _0x441722[_0x673ad1(0x184)][_0x673ad1(0x2b1)]:if(_0x673ad1(0x231)!==_0x379631[_0x673ad1(0x42f)][_0x673ad1(0x623)])return;if(_0x379631[_0x673ad1(0x42f)]&&void 0x0!==_0x379631[_0x673ad1(0x42f)]['output']){if(void 0x0===_0x379631[_0x673ad1(0x42f)]['index'])return void _0x17a9c0(_0x4a800a[_0x673ad1(0x7ef)][_0x673ad1(0xd2)]);_0xf24fdd===_0x379631['result'][_0x673ad1(0x5e8)]?(_0x177151[_0x673ad1(0x7b5)](_0x379631[_0x673ad1(0x42f)]),_0xf24fdd++,((()=>{const _0x10e76d=_0x673ad1;for(;_0x3c55f9[_0x10e76d(0x158)](_0xf24fdd);)_0x177151[_0x10e76d(0x7b5)](_0x3c55f9[_0x10e76d(0x7e9)](_0x177151[_0x10e76d(0x146)])),_0x3c55f9[_0x10e76d(0x6fd)](_0x177151[_0x10e76d(0x146)]),_0xf24fdd++;})()),_0x1a3a69(),_0x3ef9ff()):_0x3c55f9['set'](_0x379631[_0x673ad1(0x42f)][_0x673ad1(0x5e8)],_0x379631['result']);}break;case _0x441722[_0x673ad1(0x184)][_0x673ad1(0x52b)]:if(_0x673ad1(0x231)!==_0x379631[_0x673ad1(0x42f)][_0x673ad1(0x623)])return;const _0x3a0e39=_0x379631[_0x673ad1(0x42f)]['inputTokens']??0x0;this[_0x673ad1(0x43d)](_0x3cdc40,_0x3a0e39),clearTimeout(_0x48326b),_0x17a9c0(),this[_0x673ad1(0x2af)]+=0x1,this[_0x673ad1(0x981)]+=_0x3a0e39,this[_0x673ad1(0x4ed)]();break;case _0x441722[_0x673ad1(0x184)][_0x673ad1(0x6c7)]:clearTimeout(_0x48326b),_0x17a9c0(_0x4a800a[_0x673ad1(0x7ef)]['GenerativeAIContextJobFailed']),this[_0x673ad1(0x4ed)]();}},'error':_0x233bff=>{const _0x72294f=_0x6a412b;clearTimeout(_0x48326b),_0x17a9c0(_0x4a800a[_0x72294f(0x7ef)][_0x72294f(0x805)]);}}),_0x220ca6=()=>{const _0x145363=_0x6a412b;_0x17a9c0(_0x4a800a[_0x145363(0x7ef)][_0x145363(0x3fc)]);},_0x3ef9ff=()=>{clearTimeout(_0x48326b),_0x48326b=setTimeout(_0x220ca6,_0x59c1d7);};for(_0x48326b=setTimeout(_0x220ca6,_0x59c1d7);!_0x48a68c||_0x177151[_0x6a412b(0x146)]>0x0;)_0x177151[_0x6a412b(0x146)]>0x0?yield _0x177151[_0x6a412b(0x88b)]():await new Promise(_0x352375=>_0x28b94d=_0x352375);if(_0x39e256)throw _0x52aedf['error'](_0x6a412b(0x6f4),{'nodeId':this[_0x6a412b(0x116)]['getId'](),'nodeType':this[_0x6a412b(0x116)][_0x6a412b(0x623)]}),new _0x4a800a(_0x39e256);}async['getDataBucketIds'](){const _0x2c7ceb=_0x37ac7d;return(await _0x34e4c7[_0x2c7ceb(0x523)](this['vendorId'],this['label']))[_0x2c7ceb(0x246)];}[_0x37ac7d(0x43d)](_0x1cd671,_0x4d0f6f){const _0x1bee6c=_0x37ac7d,_0x1c62e7=this[_0x1bee6c(0x7ee)],_0x4b0cb6=this[_0x1bee6c(0x45a)]();_0x52aedf[_0x1bee6c(0x43d)](_0x5ddb4d[_0x1bee6c(0x509)],{'topic':_0x1c62e7,'prompt':_0x1cd671,'type':_0x1bee6c(0x231),'nodeId':_0x4b0cb6,'tokenCount':_0x4d0f6f});}async[_0x37ac7d(0x4c9)](_0x2bfccb,_0x6e4262,_0x5183d9,_0x3a6adb={}){const _0x2abcb6=_0x37ac7d;let _0x3d3971;switch(_0x5183d9['type']){case'prompt':{const {threadId:_0xcc4c0d}=_0x3a6adb;_0x3d3971={'id':_0x2bfccb,'jobType':_0x6e4262,'parameters':{..._0x3a6adb,'type':_0x2abcb6(0x231),'prompt':_0x5183d9['prompt'],'threadId':_0xcc4c0d},'status':_0x441722[_0x2abcb6(0x184)]['Pending']};break;}case _0x2abcb6(0x217):{const {threadId:_0x78a112}=_0x3a6adb;_0x3d3971={'id':_0x2bfccb,'jobType':_0x6e4262,'parameters':{..._0x3a6adb,'type':'rate','jobId':_0x5183d9[_0x2abcb6(0x2aa)],'rating':_0x5183d9[_0x2abcb6(0x8fe)],'feedback':_0x5183d9[_0x2abcb6(0xd0)]??'','threadId':_0x78a112},'status':_0x441722[_0x2abcb6(0x184)]['Pending']};break;}case _0x2abcb6(0x113):_0x3d3971={'id':_0x2bfccb,'jobType':_0x6e4262,'parameters':{..._0x3a6adb,'type':_0x2abcb6(0x113),'objectStoreId':_0x5183d9[_0x2abcb6(0x7ab)],'documentPath':_0x5183d9[_0x2abcb6(0x513)]},'status':_0x441722['JobStatus'][_0x2abcb6(0x3b7)]};}return await this[_0x2abcb6(0x319)](_0x3d3971);}['sendStats'](){const _0x38051d=_0x37ac7d;this['debounceStats']&&clearTimeout(this[_0x38051d(0x7d3)]),this[_0x38051d(0x7d3)]=setTimeout(async()=>{const _0x5cedfb=_0x38051d;delete this[_0x5cedfb(0x7d3)],this[_0x5cedfb(0x1b1)][_0x5cedfb(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2['GenerativeAIContextStats'],'label':this['label'],'stats':{'timestamp':Date[_0x5cedfb(0x90d)](),'storage':0x0,'messagesSent':this[_0x5cedfb(0x187)],'messagesReceived':this[_0x5cedfb(0x6a2)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x5cedfb(0x66a)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x5cedfb(0x981)]}}});},_0x3d132a);}}var _0x26756c,_0x3e951c,_0x507097,_0x216dc7,_0x29c6e5,_0x493565,_0x198a57,_0x289bb7,_0x5a7bb7,_0x2780bc,_0x13973b;!function(_0x415719){const _0x4ddd44=_0x37ac7d;_0x415719[_0x4ddd44(0x3b9)]=_0x4ddd44(0x3b9),_0x415719['IngestTrace']='IngestTrace',_0x415719[_0x4ddd44(0x665)]=_0x4ddd44(0x665),_0x415719['WorkflowTrace']=_0x4ddd44(0x90f);}(_0x26756c||(_0x26756c={})),function(_0x5da076){const _0xfb8b6c=_0x37ac7d;_0x5da076[_0xfb8b6c(0x7c7)]=_0xfb8b6c(0x7c7),_0x5da076['ModelVector']=_0xfb8b6c(0x72f),_0x5da076[_0xfb8b6c(0x45b)]=_0xfb8b6c(0x45b),_0x5da076['EntityExtractor']=_0xfb8b6c(0x80e),_0x5da076[_0xfb8b6c(0x8b8)]=_0xfb8b6c(0x8b8),_0x5da076[_0xfb8b6c(0x348)]=_0xfb8b6c(0x348);}(_0x3e951c||(_0x3e951c={})),function(_0x11fb02){const _0x4d775f=_0x37ac7d;_0x11fb02[_0x11fb02[_0x4d775f(0x4ab)]=0x0]='Debug',_0x11fb02[_0x11fb02['Info']=0x5]='Info',_0x11fb02[_0x11fb02[_0x4d775f(0x575)]=0xa]=_0x4d775f(0x575),_0x11fb02[_0x11fb02[_0x4d775f(0x8da)]=0xf]=_0x4d775f(0x8da);}(_0x507097||(_0x507097={})),function(_0x34d454){const _0x26bf44=_0x37ac7d;_0x34d454[_0x26bf44(0x7ae)]=_0x26bf44(0x7ae),_0x34d454['Ingest']='Ingest',_0x34d454['Knowledge']=_0x26bf44(0x35c),_0x34d454[_0x26bf44(0x61f)]='Skill',_0x34d454[_0x26bf44(0x986)]='Workflow',_0x34d454['Job']='Job',_0x34d454[_0x26bf44(0x655)]=_0x26bf44(0x655),_0x34d454['Rating']=_0x26bf44(0x79e);}(_0x216dc7||(_0x216dc7={})),function(_0x3fd4ed){const _0x15ae8b=_0x37ac7d;_0x3fd4ed[_0x15ae8b(0x7af)]=_0x15ae8b(0x7af),_0x3fd4ed['Completed']=_0x15ae8b(0x52b);}(_0x29c6e5||(_0x29c6e5={})),function(_0x194bea){const _0x18f471=_0x37ac7d;_0x194bea[_0x18f471(0x8a3)]=_0x18f471(0x8a3),_0x194bea[_0x18f471(0x5e9)]=_0x18f471(0x5e9),_0x194bea[_0x18f471(0x889)]=_0x18f471(0x889),_0x194bea['FinalOutput']=_0x18f471(0x821);}(_0x493565||(_0x493565={})),function(_0x5c6d36){const _0x5c3bbf=_0x37ac7d;_0x5c6d36['ChunkSplitter']=_0x5c3bbf(0x300),_0x5c6d36[_0x5c3bbf(0x951)]=_0x5c3bbf(0x951),_0x5c6d36[_0x5c3bbf(0x80e)]=_0x5c3bbf(0x80e),_0x5c6d36[_0x5c3bbf(0x67c)]='GraphDatabase',_0x5c6d36[_0x5c3bbf(0x22d)]=_0x5c3bbf(0x22d),_0x5c6d36[_0x5c3bbf(0x7c7)]=_0x5c3bbf(0x7c7),_0x5c6d36[_0x5c3bbf(0x72f)]=_0x5c3bbf(0x72f),_0x5c6d36[_0x5c3bbf(0x4ec)]=_0x5c3bbf(0x4ec),_0x5c6d36['SentenceSplitter']='SentenceSplitter',_0x5c6d36[_0x5c3bbf(0x8bf)]=_0x5c3bbf(0x8bf),_0x5c6d36[_0x5c3bbf(0x282)]='WordSplitter';}(_0x198a57||(_0x198a57={})),function(_0x51bb63){const _0x4cd178=_0x37ac7d;_0x51bb63[_0x4cd178(0x5c3)]=_0x4cd178(0x5c3),_0x51bb63[_0x4cd178(0xfa)]=_0x4cd178(0xfa);}(_0x289bb7||(_0x289bb7={})),function(_0x804216){const _0x47e94d=_0x37ac7d;_0x804216[_0x47e94d(0x73a)]=_0x47e94d(0x73a),_0x804216[_0x47e94d(0x25a)]=_0x47e94d(0x25a),_0x804216[_0x47e94d(0x5f9)]=_0x47e94d(0x5f9),_0x804216['SearchGoogle']=_0x47e94d(0x2d0),_0x804216[_0x47e94d(0x536)]=_0x47e94d(0x536),_0x804216[_0x47e94d(0x6ec)]=_0x47e94d(0x6ec);}(_0x5a7bb7||(_0x5a7bb7={})),function(_0x33b493){const _0x14acbf=_0x37ac7d;_0x33b493[_0x14acbf(0x4b5)]=_0x14acbf(0x4b5),_0x33b493[_0x14acbf(0x1fb)]=_0x14acbf(0x1fb);}(_0x2780bc||(_0x2780bc={})),function(_0x23be90){const _0xe46c60=_0x37ac7d;_0x23be90[_0xe46c60(0x633)]=_0xe46c60(0x633);}(_0x13973b||(_0x13973b={}));class _0xefa3c8{static [_0x37ac7d(0x912)];[_0x37ac7d(0x119)]=[];['isRunning']=!0x1;constructor(){}static['getInstance'](){const _0x32a822=_0x37ac7d;return _0xefa3c8[_0x32a822(0x912)]||(_0xefa3c8[_0x32a822(0x912)]=new _0xefa3c8()),_0xefa3c8[_0x32a822(0x912)];}get[_0x37ac7d(0x146)](){const _0x474f13=_0x37ac7d;return this[_0x474f13(0x119)][_0x474f13(0x146)];}[_0x37ac7d(0x71e)](){const _0x3f44de=_0x37ac7d;return!this[_0x3f44de(0x8ec)];}[_0x37ac7d(0x168)](_0x4dc8ea){const _0x24ced4=_0x37ac7d;_0x4dc8ea?this[_0x24ced4(0x119)]=this[_0x24ced4(0x119)][_0x24ced4(0x5e3)](_0x384419=>_0x384419[_0x24ced4(0x580)]!==_0x4dc8ea):(this[_0x24ced4(0x119)]=[],this[_0x24ced4(0x8ec)]=!0x1);}[_0x37ac7d(0x492)](_0x4342fe,_0x4cf46f){const _0x25670c=_0x37ac7d;this[_0x25670c(0x119)]['push']({'callback':_0x4cf46f,'ownerId':_0x4342fe}),this[_0x25670c(0x752)]();}async[_0x37ac7d(0x752)](){const _0x3811a0=_0x37ac7d;if(!this[_0x3811a0(0x8ec)]){for(this[_0x3811a0(0x8ec)]=!0x0;this[_0x3811a0(0x119)][_0x3811a0(0x146)]>0x0;){const _0x27d563=this[_0x3811a0(0x119)][_0x3811a0(0x88b)]();if(_0x27d563)try{console[_0x3811a0(0x4b7)](_0x3811a0(0x434)),await _0x27d563[_0x3811a0(0x403)]();}catch(_0x3f9e92){console[_0x3811a0(0x635)](_0x3811a0(0x297),_0x3f9e92);}}this['isRunning']=!0x1;}}}const _0x54eef1=_0xefa3c8['getInstance']();class _0x464c16 extends _0x15db27{[_0x37ac7d(0x647)];['unsubscribeListener'];constructor(_0x292ba0,_0x5fa9f7,_0x35d4e2){super(_0x292ba0,_0x5fa9f7),this['capacityReporter']=_0x35d4e2;}[_0x37ac7d(0x151)](){const _0x1ac15=_0x37ac7d;return _0x441722[_0x1ac15(0x4bf)][_0x1ac15(0x7a8)];}[_0x37ac7d(0x211)](){const _0x3ca78f=_0x37ac7d;this[_0x3ca78f(0x7da)]();}['close'](){const _0x25882a=_0x37ac7d;this[_0x25882a(0x1b1)]?.[_0x25882a(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2[_0x25882a(0x93b)],'label':this['label']}});}['reset'](){const _0x19451b=_0x37ac7d;this[_0x19451b(0x147)]?.(),delete this['unsubscribeListener'],this['open']();}[_0x37ac7d(0x464)](){const _0x5758bb=_0x37ac7d;_0x54eef1[_0x5758bb(0x168)](this[_0x5758bb(0x7ee)]),this['unsubscribeListener']?.(),delete this[_0x5758bb(0x147)],super[_0x5758bb(0x464)]();}[_0x37ac7d(0x71e)](){const _0x574cc6=_0x37ac7d;return _0x54eef1[_0x574cc6(0x71e)]();}['getBid'](){return 0x1;}[_0x37ac7d(0x5d3)](_0x1f954a,_0xb64e87,_0x3bc98b){}[_0x37ac7d(0x6ee)](_0x45d31b,_0xd893ef){return _0x45d31b;}['startTracing'](_0x13409c,_0x352359){const _0x122c8c=_0x37ac7d;console[_0x122c8c(0x4b7)](_0x122c8c(0x16a));}[_0x37ac7d(0x985)](_0x36334f,_0x4369a6){const _0x2da0d2=_0x37ac7d;console[_0x2da0d2(0x4b7)](_0x2da0d2(0x16a));}[_0x37ac7d(0x7da)](){const _0x5f4b5c=_0x37ac7d;this['unsubscribeListener']||(this[_0x5f4b5c(0x147)]=this[_0x5f4b5c(0xd1)]((_0x32c33b,_0xbfad4e)=>{const _0x24170c=_0x5f4b5c;if(_0x52aedf[_0x24170c(0x857)](_0xdea279[_0x24170c(0x55b)],_0x24170c(0x181),_0xbfad4e),!(_0xbfad4e instanceof File)){if(this[_0x24170c(0x875)](_0xbfad4e))_0x52aedf['log'](_0xdea279[_0x24170c(0x55b)],_0x24170c(0x707),_0xbfad4e),this[_0x24170c(0x71e)]()?this[_0x24170c(0x99e)](_0xbfad4e['id'],_0xbfad4e[_0x24170c(0x26d)],_0x32c33b):this[_0x24170c(0x961)](_0xbfad4e['id'],_0xbfad4e[_0x24170c(0x26d)],_0x32c33b);else{if(this[_0x24170c(0x5e2)](_0xbfad4e)){_0x52aedf[_0x24170c(0x857)](_0xdea279[_0x24170c(0x55b)],_0x24170c(0x4cb),_0xbfad4e);const {id:_0x41e79c,parameters:_0xe7df8c}=_0xbfad4e;this[_0x24170c(0x20f)](_0x41e79c,_0xe7df8c),_0x54eef1[_0x24170c(0x492)](this['label'],()=>this[_0x24170c(0x30b)](_0xbfad4e['id'],_0xbfad4e,_0x32c33b));}}}}));}[_0x37ac7d(0x99e)](_0x21e679,_0x32cf98,_0x1226f4){const _0x53ffaf=_0x37ac7d,_0x59e233={'id':_0x21e679,'jobType':_0x32cf98,'jobPhase':_0x47dd02['Bid'],'available':!0x0,'queueLength':_0x54eef1['length'],'bid':this[_0x53ffaf(0x896)]()};_0x52aedf['log'](_0xdea279['Jobs'],_0x53ffaf(0x237),_0x59e233),this[_0x53ffaf(0x726)](_0x59e233,[_0x1226f4]);}[_0x37ac7d(0x961)](_0x39bc17,_0x48f799,_0x32474c){const _0x21bb23=_0x37ac7d,_0x5cb9a6={'id':_0x39bc17,'jobType':_0x48f799,'jobPhase':_0x47dd02[_0x21bb23(0x905)],'available':!0x1,'queueLength':_0x54eef1[_0x21bb23(0x146)],'bid':0x0};_0x52aedf['log'](_0xdea279[_0x21bb23(0x55b)],_0x21bb23(0x441),_0x5cb9a6),this[_0x21bb23(0x726)](_0x5cb9a6,[_0x32474c]);}async[_0x37ac7d(0x30b)](_0x11a6dd,_0x595815,_0x4bb48f){const _0x4d05e0=_0x37ac7d;_0x52aedf[_0x4d05e0(0x857)](_0xdea279[_0x4d05e0(0x55b)],_0x4d05e0(0x66b),_0x595815);const _0x4cd8ba={'id':_0x11a6dd,'jobType':_0x595815['jobType'],'parameters':_0x595815[_0x4d05e0(0x5b5)]};try{switch(_0x595815['jobType']){case _0x441722[_0x4d05e0(0x693)][_0x4d05e0(0x7a8)]:await this[_0x4d05e0(0x96b)](_0x11a6dd,_0x595815,_0x4cd8ba,_0x4bb48f);break;case _0x441722[_0x4d05e0(0x693)][_0x4d05e0(0x3d0)]:await this[_0x4d05e0(0x1cd)](_0x11a6dd,_0x595815,_0x4cd8ba,_0x4bb48f);break;default:throw new Error(_0x4d05e0(0x286));}}catch(_0x4d182d){_0x52aedf[_0x4d05e0(0x635)](_0x4d05e0(0x399),{'nodeId':this[_0x4d05e0(0x9c1)][_0x4d05e0(0x336)](),'nodeType':this[_0x4d05e0(0x9c1)][_0x4d05e0(0x623)],'data':{'job':_0x4cd8ba}},_0x4d182d);const _0xe99aa0=_0x4d182d instanceof Error?_0x4d182d[_0x4d05e0(0x599)]:_0x4d05e0(0x28c),_0x506a0d={'id':_0x11a6dd,'jobType':_0x595815['jobType'],'jobPhase':_0x47dd02[_0x4d05e0(0x6c7)],'message':_0xe99aa0};await this['send'](_0x506a0d,[_0x4bb48f]);}}async[_0x37ac7d(0x96b)](_0x58749f,_0x5e4534,_0x52d4ed,_0x3d0dc){const _0x44074e=_0x37ac7d,_0x2a69ec=Date['now'](),_0x2ba6b8=await this[_0x44074e(0x6e0)](_0x58749f,_0x52d4ed[_0x44074e(0x5b5)]);this[_0x44074e(0x5d3)](_0x2ba6b8,_0x2a69ec,Date[_0x44074e(0x90d)]());const _0x3f75fc={'id':_0x58749f,'jobType':_0x5e4534[_0x44074e(0x26d)],'jobPhase':_0x47dd02[_0x44074e(0x4ad)],'result':_0x2ba6b8};_0x52aedf[_0x44074e(0x857)](_0xdea279['Jobs'],_0x44074e(0x202),_0x3f75fc),await this[_0x44074e(0x726)](_0x3f75fc,[_0x3d0dc]),this[_0x44074e(0x985)](_0x58749f,_0x52d4ed[_0x44074e(0x5b5)]);}async[_0x37ac7d(0x1cd)](_0x40ebce,_0x26fc1e,_0x1093cc,_0x8e716d){const _0x139f46=_0x37ac7d,_0x263d62=Date[_0x139f46(0x90d)]();let _0x1d9448=0x0,_0x59f474={};for await(const _0x4a514d of this[_0x139f46(0x946)](_0x1093cc['id'],_0x1093cc[_0x139f46(0x5b5)])){const _0x190e2a={'id':_0x40ebce,'jobType':_0x26fc1e[_0x139f46(0x26d)],'jobPhase':_0x47dd02['PartialResult'],'result':{..._0x4a514d,'index':_0x1d9448}};_0x52aedf[_0x139f46(0x857)](_0xdea279['Jobs'],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x190e2a),this[_0x139f46(0x726)](_0x190e2a,[_0x8e716d]),_0x59f474=this[_0x139f46(0x6ee)](_0x59f474,_0x4a514d),_0x1d9448++;}this[_0x139f46(0x5d3)](_0x59f474,_0x263d62,Date[_0x139f46(0x90d)]());const _0x2895e8={'id':_0x40ebce,'jobType':_0x26fc1e[_0x139f46(0x26d)],'jobPhase':_0x47dd02['Result'],'result':_0x59f474};_0x52aedf[_0x139f46(0x857)](_0xdea279[_0x139f46(0x55b)],_0x139f46(0x202),_0x2895e8),await this['send'](_0x2895e8,[_0x8e716d]),this[_0x139f46(0x985)](_0x40ebce,_0x1093cc['parameters']);}['isJobRequest'](_0x3b4290){const _0x2b5b5b=_0x37ac7d;return _0x3b4290['jobPhase']===_0x47dd02[_0x2b5b5b(0x4f9)];}[_0x37ac7d(0x5e2)](_0x25b40){const _0x11b832=_0x37ac7d;return _0x25b40['jobPhase']===_0x47dd02[_0x11b832(0x140)];}}function _0xe62062(_0x5e4706,_0x3d597e){return'logging-db-'+_0x5e4706+'-'+_0x3d597e;}function _0x13e08c(){const _0x4d6d45=_0x37ac7d,_0x2d1f66=_0x40f972[_0x4d6d45(0x7bd)](0x1);return _0x2d1f66[_0x4d6d45(0x782)](_0x4d6d45(0x5f1))[_0x4d6d45(0x5e8)]('id')[_0x4d6d45(0x5e8)](_0x4d6d45(0x2aa))[_0x4d6d45(0x5e8)](_0x4d6d45(0x758))[_0x4d6d45(0x5e8)](_0x4d6d45(0x221))[_0x4d6d45(0x5e8)]('timestamp')[_0x4d6d45(0x5e8)](_0x4d6d45(0x1ae)),_0x2d1f66;}function _0x2e75a7(_0x4572b7){const _0x4008b3=_0x37ac7d;try{return JSON[_0x4008b3(0x343)](_0x4572b7);}catch(_0xdc4c65){return _0x4572b7 instanceof Error?_0x4572b7['toString']():JSON[_0x4008b3(0x343)](_0x4008b3(0x5f5));}}class _0x418525{static [_0x37ac7d(0x912)];['logLevel']=_0x507097[_0x37ac7d(0x8da)];[_0x37ac7d(0x303)]=_0x507097[_0x37ac7d(0x987)];[_0x37ac7d(0x172)]=_0x216dc7[_0x37ac7d(0x7ae)];[_0x37ac7d(0x367)]={};static ['getInstance']=()=>(_0x418525['instance']||(_0x418525['instance']=new _0x418525()),_0x418525[_0x37ac7d(0x912)]);[_0x37ac7d(0x790)](_0x223de8,_0x4684d7,_0xdfc3e3=!0x0){const _0x1e6461=_0x37ac7d;try{if(this['openedTraces'][_0x4684d7])throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set');const _0x23344d={'sequence':0x0};if(this['openedTraces'][_0x4684d7]=_0x23344d,!_0x223de8)return!0x0;const _0x32f909=function(_0x4e00ef){const _0x36c817=a0_0xbe57;return _0x4e00ef[_0x36c817(0x568)](_0x36c817(0x5f1));}(_0x223de8);return _0x23344d[_0x1e6461(0x948)]=_0x223de8,_0x23344d[_0x1e6461(0x782)]=_0x32f909,!0x0;}catch(_0x979638){return console[_0x1e6461(0x635)](_0x1e6461(0x89e)+_0xdfc3e3,_0x979638),!!_0xdfc3e3&&(this[_0x1e6461(0x1dc)](_0x4684d7),this[_0x1e6461(0x790)](_0x223de8,_0x4684d7,!0x1));}}['trace'](_0x3700c5){const _0xaa9459=_0x37ac7d;try{const _0x229d73=this[_0xaa9459(0x367)][_0x3700c5[_0xaa9459(0x2aa)]];if(!_0x229d73)throw new Error(_0xaa9459(0x64b));_0x3700c5[_0xaa9459(0x1ae)]=_0x229d73['sequence']++,_0x3700c5[_0xaa9459(0x1d0)]>=this['logLevel']&&console['log'](JSON['stringify'](_0x3700c5,null,0x2)),this[_0xaa9459(0x593)](_0x3700c5);}catch(_0x1babd1){console[_0xaa9459(0x635)]('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x1babd1);}}['closeTrace'](_0x4d10aa){const _0x2a2817=_0x37ac7d;if(!_0x418525[_0x2a2817(0x912)])throw new Error(_0x2a2817(0x846));if(!this['openedTraces'][_0x4d10aa])throw new Error('GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match');delete this[_0x2a2817(0x367)][_0x4d10aa];}['commitTrace'](_0x297698){const _0x1e7455=_0x37ac7d;if(_0x297698['traceLevel']<this[_0x1e7455(0x303)]&&_0x297698['jobType']!==this[_0x1e7455(0x172)])return;if(!this[_0x1e7455(0x367)][_0x297698[_0x1e7455(0x2aa)]])throw new Error(_0x1e7455(0x335));const _0x15dd72=this[_0x1e7455(0x367)][_0x297698[_0x1e7455(0x2aa)]];if(!_0x15dd72[_0x1e7455(0x948)])throw new Error(_0x1e7455(0x524));if(!_0x15dd72[_0x1e7455(0x782)])throw new Error(_0x1e7455(0x404));try{const _0x693f54=function(_0x1604c4){const _0x1ae7f8=_0x1e7455,_0x188109=[_0x1ae7f8(0x2b0),'timestamp',_0x1ae7f8(0x26d),'type',_0x1ae7f8(0x2aa),_0x1ae7f8(0x1d0),_0x1ae7f8(0xf3),_0x1ae7f8(0x74c),_0x1ae7f8(0x1ae),_0x1ae7f8(0x103)],_0x3f4f93={..._0x1604c4};for(const _0x4294f9 of _0x188109)delete _0x3f4f93[_0x4294f9];return{'timestamp':_0x1604c4[_0x1ae7f8(0x26a)],'jobType':_0x1604c4[_0x1ae7f8(0x26d)],'type':_0x1604c4[_0x1ae7f8(0x623)],'jobId':_0x1604c4[_0x1ae7f8(0x2aa)],'agentId':_0x1604c4[_0x1ae7f8(0x758)]??'','traceLevel':_0x1604c4['traceLevel'],'blockId':_0x1604c4[_0x1ae7f8(0xf3)]??'','startTime':_0x1604c4[_0x1ae7f8(0x2b0)],'status':_0x1604c4[_0x1ae7f8(0x74c)],'sequence':_0x1604c4['sequence']??0x0,'errorDetails':_0x1604c4['errorDetails']??'','metadata':_0x2e75a7(_0x3f4f93)};}(_0x297698),_0xbae2a1=(0x0,_0x3e20b1['v4'])();console['log'](_0x1e7455(0x454),_0x693f54[_0x1e7455(0x623)]),_0x15dd72[_0x1e7455(0x782)][_0x1e7455(0x773)](_0xbae2a1,_0x693f54);}catch(_0x3034cc){console[_0x1e7455(0x635)](_0x1e7455(0x4c3),_0x3034cc);}}}const _0x1da8e7=_0x418525[_0x37ac7d(0x507)]();async function _0x1bf61c(_0xa60c03,_0x24e4e2,_0x2bf4fd,_0x27fc57,_0x219994){const _0x1020d7=_0x37ac7d,_0x503475=Date['now'](),_0x36e86a=_0x219994[_0x1020d7(0x1da)]['find'](_0x25551e=>_0x25551e['id']===_0x2bf4fd[_0x1020d7(0x306)]);if(!_0x36e86a)throw new Error(_0x1020d7(0x793));const _0x295d57=_0x219994[_0x1020d7(0x87e)]['find'](_0x40a22c=>_0x40a22c[_0x1020d7(0x51d)]()===_0x36e86a[_0x1020d7(0x12d)]);if(!_0x295d57)throw new Error(_0x1020d7(0x370));const _0x5dbe39=[],_0x55ca01=(0x0,_0x3e20b1['v4'])(),_0x51d1ee=await _0x295d57[_0x1020d7(0x96b)]({'type':_0x1020d7(0x231),'prompt':_0x24e4e2,'instructions':_0x2bf4fd[_0x1020d7(0x6a0)],'grammar':_0x2bf4fd[_0x1020d7(0x48f)],'temperature':_0x2bf4fd[_0x1020d7(0x552)],'maxTokens':_0x2bf4fd[_0x1020d7(0x53a)],'threadId':_0x55ca01},{'model':_0x36e86a});if('string'!=typeof _0x51d1ee['output'])throw new Error(_0x1020d7(0x57d));_0x1da8e7[_0x1020d7(0x463)]({'jobType':_0x216dc7['Ingest'],'type':_0x198a57[_0x1020d7(0x22d)],'jobId':_0xa60c03,'blockId':_0x2bf4fd['id'],'traceLevel':_0x507097[_0x1020d7(0x4ab)],'timestamp':Date[_0x1020d7(0x90d)](),'startTime':_0x503475,'status':_0x1020d7(0x3b6),'agentId':_0x55ca01,'content':_0x24e4e2,'instructions':_0x2bf4fd[_0x1020d7(0x6a0)],'result':_0x51d1ee[_0x1020d7(0x54b)]}),_0x5dbe39[_0x1020d7(0x7b5)]({'content':_0x51d1ee[_0x1020d7(0x54b)],'start':0x0,'length':_0x24e4e2[_0x1020d7(0x146)]}),await _0x34437f(_0xa60c03,_0x5dbe39,_0x2bf4fd,_0x27fc57,_0x219994);}async function _0x58cee0(_0x451dd1,_0x1cb35d,_0x4fd5ff,_0x5a7c2f,_0x1eb74c){const _0x596c0c=_0x37ac7d,_0x4e22dc=Date[_0x596c0c(0x90d)]();let _0x33bc57=[];if(_0x1cb35d instanceof Array){for(const _0x31ad86 of _0x1cb35d)_0x33bc57=_0x33bc57['concat'](_0xe31990(_0x31ad86[_0x596c0c(0x8c5)],_0x4fd5ff,_0x31ad86[_0x596c0c(0x915)],_0x31ad86[_0x596c0c(0x146)]));}else _0x33bc57=_0xe31990(_0x1cb35d,_0x4fd5ff);_0x1da8e7[_0x596c0c(0x463)]({'jobType':_0x216dc7['Ingest'],'type':_0x198a57[_0x596c0c(0x300)],'traceLevel':_0x507097[_0x596c0c(0x4ab)],'jobId':_0x451dd1,'blockId':_0x4fd5ff['id'],'startTime':_0x4e22dc,'timestamp':Date[_0x596c0c(0x90d)](),'status':'success','totalChunks':_0x33bc57[_0x596c0c(0x146)],'chunkSize':_0x4fd5ff['attributes'][_0x596c0c(0x1c1)]}),await _0x34437f(_0x451dd1,_0x33bc57,_0x4fd5ff,_0x5a7c2f,_0x1eb74c);}function _0xe31990(_0x487ab2,_0x3e641f,_0x3a3964,_0x1920fe){const _0x5411ce=_0x37ac7d,_0x4b346e=[];let _0x3181a8=0x0;for(let _0x204c55=0x0;_0x204c55<_0x487ab2[_0x5411ce(0x146)];_0x204c55+=_0x3e641f['attributes'][_0x5411ce(0x1c1)]){let _0xc2c2d8=_0x204c55-_0x3e641f['attributes'][_0x5411ce(0x6a5)];_0xc2c2d8<0x0&&(_0xc2c2d8=0x0);let _0x5171c4=_0x204c55+_0x3e641f[_0x5411ce(0x400)][_0x5411ce(0x1c1)]+_0x3e641f['attributes'][_0x5411ce(0x6a5)];_0x5171c4>_0x487ab2[_0x5411ce(0x146)]&&(_0x5171c4=_0x487ab2[_0x5411ce(0x146)]);const _0x51ef5d=_0x487ab2[_0x5411ce(0x52f)](_0xc2c2d8,_0x5171c4);_0x4b346e[_0x5411ce(0x7b5)]({'content':_0x51ef5d,'start':_0x3a3964??_0x3181a8,'length':_0x1920fe??_0x51ef5d[_0x5411ce(0x146)]}),_0x3181a8+=_0x51ef5d[_0x5411ce(0x146)];}return _0x4b346e;}async function _0x422d57(_0x3ac9c0,_0x1a0283,_0x462b22,_0x6e323c,_0x2fdc2a){const _0x49427a=_0x37ac7d,_0x61ee73=Date[_0x49427a(0x90d)]();let _0x545b81;if(_0x1a0283[_0x49427a(0x8f3)][_0x49427a(0x623)][_0x49427a(0x475)]('text/')||(_0x4165e8=_0x1a0283['file']['name'],_0x563c83[_0x49427a(0x444)]('.'+(_0x4165e8[_0x49427a(0x6b5)]('.')[_0x49427a(0x677)]()?.[_0x49427a(0x1a8)]()||''))))_0x545b81=await _0x1a0283[_0x49427a(0x8f3)][_0x49427a(0x495)]();else{if(!_0x2fdc2a[_0x49427a(0x9b5)]['supports'](_0x1a0283[_0x49427a(0x8f3)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x1a0283[_0x49427a(0x8f3)][_0x49427a(0x623)]+_0x49427a(0x295)+_0x1a0283[_0x49427a(0x8f3)]['name']);_0x545b81=await _0x2fdc2a[_0x49427a(0x9b5)][_0x49427a(0x4db)](_0x1a0283[_0x49427a(0x8f3)]);}var _0x4165e8;_0x1da8e7[_0x49427a(0x463)]({'jobType':_0x216dc7[_0x49427a(0x120)],'type':_0x198a57[_0x49427a(0x951)],'traceLevel':_0x507097['Debug'],'blockId':_0x462b22['id'],'jobId':_0x3ac9c0,'startTime':_0x61ee73,'timestamp':Date[_0x49427a(0x90d)](),'status':_0x49427a(0x3b6),'documentType':_0x1a0283['file'][_0x49427a(0x623)],'documentName':_0x1a0283[_0x49427a(0x8f3)]['name'],'extractionMethod':_0x49427a(0x5cd)}),await _0x34437f(_0x3ac9c0,_0x545b81,_0x462b22,_0x6e323c,_0x2fdc2a);}const _0x563c83=['.js','.ts','.py','.json',_0x37ac7d(0x996),_0x37ac7d(0x128),_0x37ac7d(0x144),_0x37ac7d(0x8c2),_0x37ac7d(0x938),_0x37ac7d(0xcc),_0x37ac7d(0x76c),_0x37ac7d(0x100),_0x37ac7d(0x8ad),_0x37ac7d(0x786),_0x37ac7d(0x44a),_0x37ac7d(0x92a),_0x37ac7d(0x4d6),'.rb',_0x37ac7d(0x203),'.java','.c',_0x37ac7d(0x9d2),_0x37ac7d(0x98c),'.r',_0x37ac7d(0x9cd),_0x37ac7d(0x4bc),_0x37ac7d(0x5f6),_0x37ac7d(0x31f),_0x37ac7d(0x727),_0x37ac7d(0x858),_0x37ac7d(0x815),'.lua',_0x37ac7d(0x366),_0x37ac7d(0x607),_0x37ac7d(0x6e9),_0x37ac7d(0x54f),_0x37ac7d(0x719),_0x37ac7d(0x99b),_0x37ac7d(0x228),_0x37ac7d(0x4bd),_0x37ac7d(0x6e1),'.m',_0x37ac7d(0x60f),_0x37ac7d(0x5a6),_0x37ac7d(0x2da),_0x37ac7d(0x94f),_0x37ac7d(0x603),_0x37ac7d(0x5a2),_0x37ac7d(0x254),'.vue',_0x37ac7d(0x85c),_0x37ac7d(0x20a),'.jinja2','.hbs',_0x37ac7d(0x8df),_0x37ac7d(0x198),_0x37ac7d(0xd8),_0x37ac7d(0x27c),_0x37ac7d(0x4e3),'.tpl',_0x37ac7d(0x799),_0x37ac7d(0x4b2),'.djt'];async function _0x574546(_0x3147cc,_0x5e96ed,_0x4e4eef,_0x4f855a,_0x51dc55){const _0x4e3d70=_0x37ac7d,_0x1abb58=Date[_0x4e3d70(0x90d)](),_0x1239bd=new Set();let _0x3251fa=0x0;for(const _0x3d6d44 of _0x5e96ed)_0x3251fa+=_0x3d6d44[_0x4e3d70(0x8c5)][_0x4e3d70(0x146)],await _0x549f8a(_0x3d6d44[_0x4e3d70(0x8c5)],_0x1239bd,_0x4e4eef,_0x51dc55[_0x4e3d70(0x5fc)]);_0x1da8e7['trace']({'jobType':_0x216dc7[_0x4e3d70(0x120)],'type':_0x198a57[_0x4e3d70(0x80e)],'jobId':_0x3147cc,'blockId':_0x4e4eef['id'],'traceLevel':_0x507097[_0x4e3d70(0x4ab)],'startTime':_0x1abb58,'timestamp':Date[_0x4e3d70(0x90d)](),'status':_0x4e3d70(0x3b6),'contentLength':_0x3251fa,'totalChunks':_0x5e96ed instanceof Array?_0x5e96ed[_0x4e3d70(0x146)]:0x1,'entitiesExtracted':_0x1239bd,'totalEntities':_0x1239bd[_0x4e3d70(0x1c1)]}),await _0x34437f(_0x3147cc,_0x1239bd,_0x4e4eef,_0x4f855a,_0x51dc55);}async function _0x549f8a(_0x5c5d11,_0x5dd44b,_0x3bf6dc,_0x30d48f){const _0x6da4a2=_0x37ac7d,_0x2f1ca4=await _0x30d48f['getEntities'](_0x5c5d11,{'ner':_0x3bf6dc[_0x6da4a2(0x400)][_0x6da4a2(0x8e3)],'noun':_0x3bf6dc[_0x6da4a2(0x400)][_0x6da4a2(0x69c)],'propn':_0x3bf6dc[_0x6da4a2(0x400)][_0x6da4a2(0x935)],'verb':_0x3bf6dc[_0x6da4a2(0x400)][_0x6da4a2(0x77d)]});for(const _0x216824 of _0x2f1ca4)_0x5dd44b['add'](_0x216824);}function _0x2744a4(_0x406e46,_0x913b4,_0x3856da,_0x5a598b,_0x39fce4){const _0x3b0a41=_0x37ac7d,_0x57f188=Date[_0x3b0a41(0x90d)]();if(_0x3856da[_0x3b0a41(0x117)]||(_0x3856da['accumulated']={}),_0x3b0a41(0x865)==typeof _0x913b4?_0x3856da['accumulated']['content']=_0x913b4:_0x913b4 instanceof Set?_0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x372)]=_0x913b4:_0x913b4 instanceof Map?_0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x440)]=_0x913b4:_0x913b4 instanceof Array?_0x3856da[_0x3b0a41(0x117)]['index']=_0x913b4:_0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x8f3)]=_0x913b4,_0x3856da[_0x3b0a41(0x333)]=_0x3856da[_0x3b0a41(0x333)]?_0x3856da[_0x3b0a41(0x333)]+0x1:0x1,_0x58e244(_0x3856da,_0x5a598b)>_0x3856da['timesCalled'])return;if(!(_0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x372)]&&_0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x8f3)]&&_0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x8c5)]&&_0x3856da['accumulated'][_0x3b0a41(0x5e8)]))throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');let _0x4d27ba=0x0;const _0x2901c0=_0x39fce4[_0x3b0a41(0x224)][_0x3b0a41(0x8ba)](_0x3856da['id']);for(const _0x373e5c of _0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x372)]){let _0x13bc30=[];_0x13bc30=_0x3856da[_0x3b0a41(0x117)]['index']['filter'](_0x155f0b=>_0x155f0b['content'][_0x3b0a41(0x444)](_0x373e5c));try{_0x2901c0[_0x3b0a41(0x396)](_0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x8f3)]['pathName'],_0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x8c5)],_0x13bc30,_0x373e5c),_0x4d27ba+=0x1;}catch(_0x4dc0c2){}}if(_0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x440)]){for(const [_0x437f7d,_0x3f44ce]of _0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x440)])for(const _0x43dbad of _0x3f44ce)try{_0x2901c0[_0x3b0a41(0xe8)](_0x437f7d,_0x43dbad);}catch(_0x2a812a){}if(_0x2901c0['getIsLoaded']()){let _0x2bd2db=''+(_0x39fce4[_0x3b0a41(0x718)]??0x1);for(const _0x1111e9 of _0x5a598b)if(_0x1111e9[_0x3b0a41(0x623)]===_0x1a021a[_0x3b0a41(0x22d)]){_0x2bd2db=_0x2bd2db+'-'+(_0x1111e9[_0x3b0a41(0x718)]??0x1);break;}_0x2901c0['saveToDisk'](_0x2bd2db);}_0x1da8e7['trace']({'jobType':_0x216dc7['Ingest'],'type':_0x198a57[_0x3b0a41(0x67c)],'jobId':_0x406e46,'blockId':_0x3856da['id'],'status':_0x3b0a41(0x3b6),'startTime':_0x57f188,'timestamp':Date[_0x3b0a41(0x90d)](),'traceLevel':_0x507097['Debug'],'nodesAdded':_0x4d27ba,'entities':_0x3856da['accumulated'][_0x3b0a41(0x372)],'relations':_0x3856da[_0x3b0a41(0x117)][_0x3b0a41(0x440)]});}}async function _0x53c428(_0x501e02,_0x4d84bc,_0x268308,_0x268c00,_0x808ecd){const _0x4336f9=_0x37ac7d,_0x5a7c70=_0x808ecd['models'][_0x4336f9(0x419)](_0x40ab80=>_0x40ab80['id']===_0x268308['id']);if(!_0x5a7c70)throw new Error(_0x4336f9(0x793));switch(_0x5a7c70[_0x4336f9(0x244)]){case _0x441722[_0x4336f9(0x5d0)]['Text']:if(_0x4336f9(0x865)!=typeof _0x4d84bc)throw new Error(_0x4336f9(0x170));await async function(_0xb487e3,_0x27975d,_0x3938d3,_0x46d186,_0x42902c,_0x58f45b){const _0x31b4a6=_0x4336f9,_0x215fd5=Date['now']();let _0x24fb10;const _0x13c67b=_0x58f45b['generativeAIWorkerConnectors'][_0x31b4a6(0x419)](_0x58e010=>_0x58e010[_0x31b4a6(0x51d)]()===_0x3938d3[_0x31b4a6(0x12d)]);if(!_0x13c67b)throw new Error(_0x31b4a6(0x370));_0x24fb10=await async function(_0x5ef43c,_0x577d1d,_0x435e57){const _0xe6b5f=_0x31b4a6,_0xc5fd58=await _0x577d1d[_0xe6b5f(0x96b)]({'type':'prompt','prompt':_0x5ef43c,'threadId':''},{'model':_0x435e57});if(_0xc5fd58[_0xe6b5f(0x54b)]instanceof Array)throw new Error(_0xe6b5f(0x7d6));return _0xc5fd58[_0xe6b5f(0x54b)];}(_0x27975d,_0x13c67b,_0x3938d3),_0x1da8e7[_0x31b4a6(0x463)]({'jobType':_0x216dc7[_0x31b4a6(0x120)],'type':_0x198a57[_0x31b4a6(0x7c7)],'jobId':_0xb487e3,'blockId':_0x46d186['id'],'traceLevel':_0x507097[_0x31b4a6(0x4ab)],'timestamp':Date[_0x31b4a6(0x90d)](),'startTime':_0x215fd5,'status':'success','modelName':_0x3938d3['id'],'inputType':_0x3938d3[_0x31b4a6(0x334)],'outputType':_0x3938d3[_0x31b4a6(0x244)],'content':_0x27975d,'results':_0x24fb10}),await _0x34437f(_0xb487e3,_0x24fb10,_0x46d186,_0x42902c,_0x58f45b);}(_0x501e02,_0x4d84bc,_0x5a7c70,_0x268308,_0x268c00,_0x808ecd);break;case _0x441722['GenerativeAIModelOutputType'][_0x4336f9(0x85a)]:if(!(_0x4d84bc instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x3d4587,_0x181fb2,_0x32a906,_0x458101,_0x2396bc,_0x59a61b){const _0x593eaa=_0x4336f9,_0x11014c=Date[_0x593eaa(0x90d)](),_0x2f9aed=[],_0x14b7cf=_0x59a61b[_0x593eaa(0x87e)][_0x593eaa(0x419)](_0x3163d8=>_0x3163d8[_0x593eaa(0x51d)]()===_0x32a906[_0x593eaa(0x12d)]);if(!_0x14b7cf)throw new Error(_0x593eaa(0x370));for(const _0x146e29 of _0x181fb2)_0x2f9aed[_0x593eaa(0x7b5)](await _0x2e9e52(_0x146e29,_0x14b7cf,_0x32a906));_0x1da8e7['trace']({'jobType':_0x216dc7[_0x593eaa(0x120)],'type':_0x198a57['ModelVector'],'jobId':_0x3d4587,'blockId':_0x458101['id'],'traceLevel':_0x507097[_0x593eaa(0x4ab)],'timestamp':Date[_0x593eaa(0x90d)](),'startTime':_0x11014c,'status':_0x593eaa(0x3b6),'modelName':_0x32a906['id'],'inputType':_0x32a906[_0x593eaa(0x334)],'outputType':_0x32a906['outputType'],'totalVectors':_0x2f9aed['length']}),await _0x34437f(_0x3d4587,_0x2f9aed,_0x458101,_0x2396bc,_0x59a61b);}(_0x501e02,_0x4d84bc,_0x5a7c70,_0x268308,_0x268c00,_0x808ecd);}}async function _0x2e9e52(_0x59a840,_0x3f910b,_0x4798be){const _0x57bc44=_0x37ac7d;return(await _0x3f910b[_0x57bc44(0x96b)]({'type':_0x57bc44(0x231),'prompt':_0x59a840[_0x57bc44(0x8c5)],'threadId':''},{'model':_0x4798be}))[_0x57bc44(0x54b)];}async function _0x512204(_0x13e495,_0x402c45,_0x3b90d3,_0x17cf96,_0x118ae1){const _0x1c7712=_0x37ac7d,_0x417234=Date[_0x1c7712(0x90d)]();if(_0x3b90d3['accumulated']||(_0x3b90d3[_0x1c7712(0x117)]={}),_0x402c45 instanceof Array?_0x3b90d3[_0x1c7712(0x117)][_0x1c7712(0x5e8)]=_0x402c45:_0x3b90d3['accumulated']['entities']=_0x402c45,_0x3b90d3['timesCalled']=_0x3b90d3[_0x1c7712(0x333)]?_0x3b90d3[_0x1c7712(0x333)]+0x1:0x1,_0x58e244(_0x3b90d3,_0x17cf96)>_0x3b90d3[_0x1c7712(0x333)])return;if(!_0x3b90d3[_0x1c7712(0x117)][_0x1c7712(0x5e8)]||!_0x3b90d3[_0x1c7712(0x117)][_0x1c7712(0x372)])throw new Error('Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data');const _0x36a246=new Map();for(const _0x56e514 of _0x3b90d3[_0x1c7712(0x117)][_0x1c7712(0x5e8)])_0x53b6df(_0x56e514[_0x1c7712(0x8c5)],_0x3b90d3[_0x1c7712(0x117)][_0x1c7712(0x372)],_0x36a246);_0x1da8e7[_0x1c7712(0x463)]({'jobType':_0x216dc7[_0x1c7712(0x120)],'type':_0x198a57['RelationExtractor'],'jobId':_0x13e495,'blockId':_0x3b90d3['id'],'traceLevel':_0x507097['Debug'],'timestamp':Date[_0x1c7712(0x90d)](),'startTime':_0x417234,'status':'success','entities':_0x3b90d3[_0x1c7712(0x117)][_0x1c7712(0x372)],'relations':_0x36a246,'totalRelationsExtracted':_0x36a246[_0x1c7712(0x1c1)]}),await _0x34437f(_0x13e495,_0x36a246,_0x3b90d3,_0x17cf96,_0x118ae1);}function _0x53b6df(_0x30ee53,_0x3660ca,_0x583970){const _0x2ab580=_0x37ac7d;for(const _0x59b029 of _0x3660ca)for(const _0x54eff4 of _0x3660ca){if(_0x59b029===_0x54eff4)continue;const _0x335fa8=_0x30ee53[_0x2ab580(0x695)](_0x59b029),_0x46f6af=_0x30ee53['indexOf'](_0x54eff4);-0x1!==_0x335fa8&&-0x1!==_0x46f6af&&(_0x583970['has'](_0x59b029)||_0x583970[_0x2ab580(0x773)](_0x59b029,new Set()),_0x583970[_0x2ab580(0x7e9)](_0x59b029)[_0x2ab580(0x492)](_0x54eff4));}return _0x583970;}async function _0x58816e(_0x2d816e,_0x7fae01,_0x16c0bb,_0x5caf8e,_0x764e26){const _0x8b707c=_0x37ac7d,_0x482194=Date[_0x8b707c(0x90d)]();let _0x4b7448=[];if(_0x7fae01 instanceof Array)for(const _0x836af5 of _0x7fae01){const _0x148d47=await _0x764e26[_0x8b707c(0x5fc)][_0x8b707c(0x60a)](_0x836af5['content']);_0x4b7448=_0x4b7448[_0x8b707c(0x8ff)](_0x148d47[_0x8b707c(0x8f1)](_0x563436=>({'content':_0x563436,'start':_0x836af5[_0x8b707c(0x915)],'length':_0x836af5[_0x8b707c(0x146)]})));}else _0x4b7448=(await _0x764e26['nlpLibraryConnector'][_0x8b707c(0x60a)](_0x7fae01))[_0x8b707c(0x8f1)](_0x4b5178=>({'content':_0x4b5178,'start':_0x7fae01['indexOf'](_0x4b5178),'length':_0x4b5178['length']}));_0x1da8e7[_0x8b707c(0x463)]({'jobType':_0x216dc7[_0x8b707c(0x120)],'type':_0x198a57[_0x8b707c(0x15f)],'jobId':_0x2d816e,'blockId':_0x16c0bb['id'],'traceLevel':_0x507097[_0x8b707c(0x4ab)],'startTime':_0x482194,'timestamp':Date[_0x8b707c(0x90d)](),'status':_0x8b707c(0x3b6),'totalSentences':_0x4b7448['length'],'averageSentenceLength':_0x4b7448[_0x8b707c(0x70d)]((_0x496922,_0xca7b4a)=>_0x496922+_0xca7b4a['length'],0x0)/_0x4b7448[_0x8b707c(0x146)]}),await _0x34437f(_0x2d816e,_0x4b7448,_0x16c0bb,_0x5caf8e,_0x764e26);}function _0x3eb173(_0x4709af,_0x5bee39,_0x1f948c,_0xa5fb9f,_0x863b7e){const _0x1c983e=_0x37ac7d,_0x1f4a27=Date[_0x1c983e(0x90d)]();var _0x58c67d;if(_0x1f948c[_0x1c983e(0x117)]||(_0x1f948c[_0x1c983e(0x117)]={}),_0x5bee39 instanceof Array?(_0x58c67d=_0x5bee39)[0x0]instanceof Array&&_0x1c983e(0x701)==typeof _0x58c67d[0x0]?.[0x0]?_0x1f948c[_0x1c983e(0x117)]['vectors']=_0x5bee39:_0x1f948c[_0x1c983e(0x117)][_0x1c983e(0x5e8)]=_0x5bee39:_0x1c983e(0x865)==typeof _0x5bee39?_0x1f948c['accumulated'][_0x1c983e(0x8c5)]=_0x5bee39:_0x1f948c[_0x1c983e(0x117)][_0x1c983e(0x8f3)]=_0x5bee39,_0x1f948c[_0x1c983e(0x333)]=_0x1f948c[_0x1c983e(0x333)]?_0x1f948c['timesCalled']+0x1:0x1,_0x58e244(_0x1f948c,_0xa5fb9f)>_0x1f948c[_0x1c983e(0x333)])return;if(!(_0x1f948c[_0x1c983e(0x117)][_0x1c983e(0x8c5)]&&_0x1f948c[_0x1c983e(0x117)][_0x1c983e(0x5e8)]&&_0x1f948c[_0x1c983e(0x117)][_0x1c983e(0x744)]&&_0x1f948c['accumulated'][_0x1c983e(0x8f3)]))throw new Error(_0x1c983e(0x6c4));const _0x4f418e=_0x863b7e[_0x1c983e(0x224)][_0x1c983e(0x2d9)](_0x1f948c['id']);if(_0x4f418e[_0x1c983e(0x38e)](_0x1f948c[_0x1c983e(0x117)][_0x1c983e(0x8f3)]['pathName'],_0x1f948c['accumulated']['content'],_0x1f948c['accumulated'][_0x1c983e(0x5e8)],_0x1f948c[_0x1c983e(0x117)][_0x1c983e(0x744)]),_0x4f418e['getIsLoaded']()){let _0x3dae9d=''+(_0x863b7e[_0x1c983e(0x718)]??0x1);for(const _0x2068b2 of _0xa5fb9f)_0x2068b2['type']===_0x1a021a[_0x1c983e(0x22d)]&&(_0x3dae9d=_0x3dae9d+'-'+(_0x2068b2['version']??0x1));_0x4f418e[_0x1c983e(0x8cc)](_0x3dae9d);}_0x1da8e7[_0x1c983e(0x463)]({'jobType':_0x216dc7['Ingest'],'type':_0x198a57[_0x1c983e(0x8bf)],'jobId':_0x4709af,'blockId':_0x1f948c['id'],'traceLevel':_0x507097[_0x1c983e(0x4ab)],'startTime':_0x1f4a27,'timestamp':Date[_0x1c983e(0x90d)](),'status':'success','databaseName':_0x4f418e[_0x1c983e(0x102)](),'vectorsAdded':_0x1f948c['accumulated'][_0x1c983e(0x744)][_0x1c983e(0x146)],'filePathName':_0x1f948c[_0x1c983e(0x117)][_0x1c983e(0x8f3)][_0x1c983e(0x880)]});}async function _0x2b8836(_0x19f2f1,_0x4382ed,_0x49a4e6,_0x3d499e,_0x1847d0){const _0x35f26d=_0x37ac7d,_0x5c1263=Date[_0x35f26d(0x90d)]();let _0x22c76e=[];if(_0x4382ed instanceof Array){for(const _0x1699a1 of _0x4382ed)_0x22c76e=_0x22c76e[_0x35f26d(0x8ff)](_0x13560c(_0x1699a1['content'],_0x49a4e6,_0x1699a1['start'],_0x1699a1[_0x35f26d(0x146)]));}else _0x22c76e=_0x13560c(_0x4382ed,_0x49a4e6);_0x1da8e7[_0x35f26d(0x463)]({'jobType':_0x216dc7['Ingest'],'type':_0x198a57[_0x35f26d(0x282)],'jobId':_0x19f2f1,'traceLevel':_0x507097[_0x35f26d(0x4ab)],'blockId':_0x49a4e6['id'],'startTime':_0x5c1263,'timestamp':Date[_0x35f26d(0x90d)](),'status':_0x35f26d(0x3b6),'totalChunks':_0x22c76e[_0x35f26d(0x146)],'averageChunkLength':_0x22c76e[_0x35f26d(0x70d)]((_0x156997,_0x2e4564)=>_0x156997+_0x2e4564[_0x35f26d(0x146)],0x0)/_0x22c76e[_0x35f26d(0x146)]}),await _0x34437f(_0x19f2f1,_0x22c76e,_0x49a4e6,_0x3d499e,_0x1847d0);}function _0x13560c(_0x3d2f0f,_0x5368ea,_0x582302,_0x380eea){const _0x2f1ed6=_0x37ac7d,_0x1c2a1b=[],_0x11e060=_0x3d2f0f[_0x2f1ed6(0x6b5)]('\x20');let _0x3d6071='',_0x108cac=0x0,_0x3c189f=0x0,_0x285613=0x0;for(const _0x3a279c of _0x11e060){if(_0x3d6071['length']+_0x3a279c[_0x2f1ed6(0x146)]>_0x5368ea[_0x2f1ed6(0x400)]['size']){const _0x521da0=_0x3d6071[_0x2f1ed6(0x146)];let _0x5b5cf3=_0x108cac,_0xc561b7='';for(;_0x5b5cf3>=0x0&&_0xc561b7[_0x2f1ed6(0x146)]+_0x11e060[_0x5b5cf3][_0x2f1ed6(0x146)]<_0x5368ea[_0x2f1ed6(0x400)][_0x2f1ed6(0x6a5)];)_0xc561b7=_0x11e060[_0x5b5cf3]+'\x20'+_0xc561b7,_0x5b5cf3--;let _0x432f03=_0x3c189f,_0x3aa2ae='';for(;_0x432f03<_0x11e060['length']&&_0x3aa2ae[_0x2f1ed6(0x146)]+_0x11e060[_0x432f03][_0x2f1ed6(0x146)]<_0x5368ea[_0x2f1ed6(0x400)][_0x2f1ed6(0x6a5)];)_0x3aa2ae+=_0x11e060[_0x432f03]+'\x20',_0x432f03++;_0x3d6071=_0xc561b7+_0x3d6071+_0x3aa2ae,_0x1c2a1b[_0x2f1ed6(0x7b5)]({'content':_0x3d6071[_0x2f1ed6(0x3d7)](),'start':_0x582302??_0x285613,'length':_0x380eea??_0x3d6071['length']}),_0x3d6071='',_0x108cac=_0x3c189f,_0x285613+=_0x521da0;}_0x3d6071+=_0x3a279c+'\x20',_0x3c189f++;}if(_0x3d6071[_0x2f1ed6(0x146)]>0x0){const _0x228674=_0x3d6071[_0x2f1ed6(0x146)];let _0x42cac9=_0x108cac,_0x28eef7='';for(;_0x42cac9>=0x0&&_0x28eef7[_0x2f1ed6(0x146)]+_0x11e060[_0x42cac9][_0x2f1ed6(0x146)]<_0x5368ea[_0x2f1ed6(0x400)][_0x2f1ed6(0x6a5)];)_0x28eef7=_0x11e060[_0x42cac9]+'\x20'+_0x28eef7,_0x42cac9--;_0x3d6071=_0x28eef7+_0x3d6071,_0x1c2a1b[_0x2f1ed6(0x7b5)]({'content':_0x3d6071[_0x2f1ed6(0x3d7)](),'start':_0x582302??_0x285613,'length':_0x380eea??_0x228674});}return _0x1c2a1b;}async function _0x34437f(_0xc778a9,_0x5527f2,_0x2f84e2,_0x254568,_0x333021){const _0x12143d=_0x37ac7d;for(const _0x42ca66 of _0x2f84e2[_0x12143d(0x1bf)]||[]){const _0x324ca8=_0x254568['find'](_0xdaed21=>_0xdaed21[_0x12143d(0x39c)]===_0x42ca66[_0x12143d(0x39c)]);if(_0x324ca8)switch(_0x324ca8['type']){case _0x1a021a[_0x12143d(0x22d)]:await _0x1bf61c(_0xc778a9,_0x5527f2,_0x324ca8,_0x254568,_0x333021);break;case _0x1a021a['ChunkSplitter']:await _0x58cee0(_0xc778a9,_0x5527f2,_0x324ca8,_0x254568,_0x333021);break;case _0x1a021a['DocumentParser']:await _0x422d57(_0xc778a9,_0x5527f2,_0x324ca8,_0x254568,_0x333021);break;case _0x1a021a[_0x12143d(0x80e)]:await _0x574546(_0xc778a9,_0x5527f2,_0x324ca8,_0x254568,_0x333021);break;case _0x1a021a[_0x12143d(0x67c)]:_0x2744a4(_0xc778a9,_0x5527f2,_0x324ca8,_0x254568,_0x333021);break;case _0x1a021a[_0x12143d(0x477)]:await _0x53c428(_0xc778a9,_0x5527f2,_0x324ca8,_0x254568,_0x333021);break;case _0x1a021a[_0x12143d(0x4ec)]:await _0x512204(_0xc778a9,_0x5527f2,_0x324ca8,_0x254568,_0x333021);break;case _0x1a021a['SentenceSplitter']:await _0x58816e(_0xc778a9,_0x5527f2,_0x324ca8,_0x254568,_0x333021);break;case _0x1a021a[_0x12143d(0x8bf)]:_0x3eb173(_0xc778a9,_0x5527f2,_0x324ca8,_0x254568,_0x333021);break;case _0x1a021a[_0x12143d(0x282)]:await _0x2b8836(_0xc778a9,_0x5527f2,_0x324ca8,_0x254568,_0x333021);}}}function _0x58e244(_0x1bfc65,_0x3dfc2c){const _0x502763=_0x37ac7d;return _0x3dfc2c[_0x502763(0x5e3)](_0x52985f=>_0x52985f[_0x502763(0x1bf)]?.[_0x502763(0x949)](_0x4eb74d=>_0x4eb74d['uid']===_0x1bfc65['uid']))[_0x502763(0x146)];}async function _0x1cb5c6(_0xb132f2,_0x5b1357,_0x58287e,_0x2cf6b2,_0xdab47e){const _0x4ed8d5=_0x37ac7d;try{let _0xabbcc3;switch(_0x58287e[_0x4ed8d5(0x623)]){case _0x1a021a[_0x4ed8d5(0x30f)]:const _0x4e6d9b=_0xdab47e[_0x4ed8d5(0x224)][_0x4ed8d5(0x9b3)](_0x58287e['id']);_0xabbcc3=await _0x4e6d9b['get'](_0x5b1357);break;case _0x1a021a[_0x4ed8d5(0x690)]:const _0x2175ef=_0xdab47e[_0x4ed8d5(0x224)][_0x4ed8d5(0x2e6)](_0x58287e['id']);_0xabbcc3=await _0x2175ef[_0x4ed8d5(0x7e9)](_0x5b1357);}if(!_0xabbcc3)throw new Error(_0x4ed8d5(0x644));await _0x34437f(_0xb132f2,{'file':_0xabbcc3,'pathName':_0x5b1357},_0x58287e,structuredClone(_0x2cf6b2),_0xdab47e);}catch(_0x240f24){console[_0x4ed8d5(0x635)]('Error\x20processing\x20ingest',_0x240f24);}}async function _0x83ad51(_0x219920,_0x233d78,_0x436f0b,_0x4ef9fe,_0x2a9b2a,_0x3a0530,_0x496cfe){const _0x428a21=_0x37ac7d,_0x537540=Date[_0x428a21(0x90d)](),_0x16a898=new Set();if(_0x436f0b instanceof Array){for(const _0x135021 of _0x436f0b)await _0x1624be(_0x135021[_0x428a21(0x8c5)],_0x2a9b2a,_0x16a898,_0x496cfe[_0x428a21(0x5fc)]);}else await _0x1624be(_0x436f0b,_0x2a9b2a,_0x16a898,_0x496cfe['nlpLibraryConnector']);_0x1da8e7[_0x428a21(0x463)]({'jobType':_0x216dc7[_0x428a21(0x7ae)],'type':_0x3e951c[_0x428a21(0x80e)],'jobId':_0x219920,'threadId':_0x233d78,'blockId':_0x2a9b2a['id'],'traceLevel':_0x507097[_0x428a21(0x4ab)],'startTime':_0x537540,'timestamp':Date['now'](),'status':_0x428a21(0x3b6),'content':_0x436f0b,'entitiesExtracted':Array[_0x428a21(0x267)](_0x16a898),'totalEntities':_0x16a898[_0x428a21(0x1c1)]}),await _0x4f9315(_0x219920,_0x233d78,_0x16a898,_0x4ef9fe,_0x2a9b2a,_0x3a0530,_0x496cfe);}async function _0x1624be(_0x5d135a,_0x2070b8,_0xf0d855,_0x3cd70c){const _0x1e1293=_0x37ac7d,_0x202f78=await _0x3cd70c[_0x1e1293(0x209)](_0x5d135a,{'ner':_0x2070b8[_0x1e1293(0x400)][_0x1e1293(0x8e3)],'noun':_0x2070b8[_0x1e1293(0x400)]['noun'],'propn':_0x2070b8[_0x1e1293(0x400)][_0x1e1293(0x935)],'verb':_0x2070b8[_0x1e1293(0x400)]['verb']});for(const _0x1c7652 of _0x202f78)_0xf0d855['add'](_0x1c7652);}async function _0x1661ad(_0x5a8717,_0x3b4e7b,_0x85f579,_0x1e457a,_0x26fdfa,_0x47774a,_0x13459c){const _0x4a2c88=_0x37ac7d,_0x3b2343=Date[_0x4a2c88(0x90d)]();if(_0x26fdfa[_0x4a2c88(0x117)]||(_0x26fdfa[_0x4a2c88(0x117)]={}),_0x85f579 instanceof Array?(_0x26fdfa['accumulated']['results']||(_0x26fdfa[_0x4a2c88(0x117)]['results']=[]),_0x26fdfa[_0x4a2c88(0x117)][_0x4a2c88(0x624)][_0x4a2c88(0x7b5)](..._0x85f579)):_0x85f579 instanceof Set?_0x26fdfa[_0x4a2c88(0x117)]['entities']=_0x85f579:_0x26fdfa[_0x4a2c88(0x117)][_0x4a2c88(0x231)]=_0x85f579,_0x26fdfa['timesCalled']=_0x26fdfa[_0x4a2c88(0x333)]?_0x26fdfa[_0x4a2c88(0x333)]+0x1:0x1,_0x547df0(_0x26fdfa,_0x47774a)>_0x26fdfa[_0x4a2c88(0x333)])return;if(!_0x26fdfa[_0x4a2c88(0x117)][_0x4a2c88(0x231)]&&!_0x26fdfa[_0x4a2c88(0x117)][_0x4a2c88(0x624)]||!_0x26fdfa[_0x4a2c88(0x117)]['entities'])throw new Error(_0x4a2c88(0x969));const _0x364466=_0x13459c[_0x4a2c88(0x224)][_0x4a2c88(0x8ba)](_0x26fdfa['id'])['getContent'](Array['from'](_0x26fdfa[_0x4a2c88(0x117)][_0x4a2c88(0x372)]),_0x26fdfa[_0x4a2c88(0x400)]['maxDepth'],_0x26fdfa['attributes'][_0x4a2c88(0x882)]);let _0x18e564=[];for(const _0x2701a2 in _0x364466){const _0x1a0e76=_0x364466[_0x2701a2];for(const _0x43011a of _0x1a0e76){let _0x538294=0x0;if(_0x26fdfa[_0x4a2c88(0x117)][_0x4a2c88(0x231)]&&(_0x538294=await _0x13459c[_0x4a2c88(0x5fc)][_0x4a2c88(0x9ce)](_0x26fdfa[_0x4a2c88(0x117)][_0x4a2c88(0x231)],_0x43011a)),_0x26fdfa['accumulated'][_0x4a2c88(0x624)]){for(const _0x1031e4 of _0x26fdfa[_0x4a2c88(0x117)][_0x4a2c88(0x624)])_0x538294=Math[_0x4a2c88(0x344)](_0x538294,await _0x13459c[_0x4a2c88(0x5fc)][_0x4a2c88(0x9ce)](_0x1031e4[_0x4a2c88(0x8c5)],_0x43011a));}_0x538294<_0x26fdfa[_0x4a2c88(0x400)][_0x4a2c88(0x32a)]||_0x18e564[_0x4a2c88(0x7b5)]({'content':_0x43011a,'relevance':_0x538294,'pathName':_0x2701a2});}}_0x18e564=_0x18e564['sort']((_0x19f263,_0x462b51)=>_0x462b51[_0x4a2c88(0x8b5)]-_0x19f263[_0x4a2c88(0x8b5)])[_0x4a2c88(0x281)](0x0,_0x26fdfa['attributes'][_0x4a2c88(0x5e5)]),_0x1da8e7[_0x4a2c88(0x463)]({'jobType':_0x216dc7['Retrieve'],'type':_0x3e951c[_0x4a2c88(0x8b8)],'jobId':_0x5a8717,'threadId':_0x3b4e7b,'blockId':_0x26fdfa['id'],'traceLevel':_0x507097['Debug'],'timestamp':Date['now'](),'startTime':_0x3b2343,'status':_0x4a2c88(0x3b6),'content':_0x85f579,'topResults':_0x18e564,'numResults':_0x18e564[_0x4a2c88(0x146)]}),await _0x4f9315(_0x5a8717,_0x3b4e7b,_0x18e564,_0x1e457a,_0x26fdfa,_0x47774a,_0x13459c);}async function _0xa89ff3(_0x507821,_0x1c9fca,_0x100240,_0x24c606,_0x510517,_0x4feb00,_0x4d4c59){const _0x20e36b=_0x37ac7d,_0x51148d=_0x4d4c59[_0x20e36b(0x1da)][_0x20e36b(0x419)](_0x102508=>_0x102508['id']===_0x510517['id']);if(!_0x51148d)throw new Error('Model\x20not\x20found');let _0x5d80f7='';switch(_0x5d80f7=_0x100240 instanceof Array?_0x100240['map'](_0x57fb4e=>_0x57fb4e[_0x20e36b(0x8c5)])[_0x20e36b(0x751)](',\x20'):_0x100240,_0x51148d['outputType']){case _0x441722[_0x20e36b(0x5d0)]['Text']:await async function(_0x5697b8,_0x534fca,_0x121df3,_0x3b0896,_0x7689d0,_0x45118b,_0x342861,_0x5352af){const _0x281d2e=_0x20e36b,_0x205d07=Date[_0x281d2e(0x90d)](),_0x14ec54=_0x5352af['generativeAIWorkerConnectors'][_0x281d2e(0x419)](_0x26849f=>_0x26849f[_0x281d2e(0x51d)]()===_0x7689d0[_0x281d2e(0x12d)]);if(!_0x14ec54)throw new Error(_0x281d2e(0x370));const _0x5792f8=await async function(_0x5c54e7,_0x457fbb,_0x3edbb9,_0x1aad78,_0x5acae9){const _0x170e9c=_0x281d2e,_0x57fc2d={'type':'prompt','prompt':_0x457fbb,'threadId':_0x5c54e7};_0x3edbb9[_0x170e9c(0x55c)][_0x170e9c(0x146)]>0x0&&(_0x57fc2d[_0x170e9c(0x6a0)]=_0x170e9c(0x107)+_0x3edbb9[_0x170e9c(0x55c)][_0x170e9c(0x8f1)](_0x355e85=>'From\x20'+_0x355e85[_0x170e9c(0x880)]+':\x20'+_0x355e85[_0x170e9c(0x8c5)])[_0x170e9c(0x751)]('\x0a'));const _0x369852=await _0x1aad78['processJob'](_0x57fc2d,{'model':_0x5acae9});if(_0x369852[_0x170e9c(0x54b)]instanceof Array)throw new Error(_0x170e9c(0x7fe));return _0x3edbb9[_0x170e9c(0x6a3)]+=_0x369852[_0x170e9c(0x6a3)]??0x0,_0x3edbb9[_0x170e9c(0x569)]+=_0x369852[_0x170e9c(0x569)]??0x0,_0x369852[_0x170e9c(0x54b)];}(_0x534fca,_0x121df3,_0x3b0896,_0x14ec54,_0x7689d0);_0x1da8e7[_0x281d2e(0x463)]({'jobType':_0x216dc7[_0x281d2e(0x7ae)],'type':_0x3e951c['ModelText'],'jobId':_0x5697b8,'threadId':_0x534fca,'blockId':_0x45118b['id'],'traceLevel':_0x507097[_0x281d2e(0x4ab)],'startTime':_0x205d07,'timestamp':Date[_0x281d2e(0x90d)](),'status':_0x281d2e(0x3b6),'modelName':_0x7689d0['id'],'content':_0x121df3,'newPrompt':_0x5792f8,'inputType':_0x7689d0[_0x281d2e(0x334)],'outputType':_0x7689d0[_0x281d2e(0x244)]}),await _0x4f9315(_0x5697b8,_0x534fca,_0x5792f8,_0x3b0896,_0x45118b,_0x342861,_0x5352af);}(_0x507821,_0x1c9fca,_0x5d80f7,_0x24c606,_0x51148d,_0x510517,_0x4feb00,_0x4d4c59);break;case _0x441722['GenerativeAIModelOutputType'][_0x20e36b(0x85a)]:await async function(_0x49822e,_0x546335,_0x571971,_0x485ae3,_0x46893e,_0x183369,_0x262aea,_0x4d289a){const _0x4b3044=_0x20e36b,_0x89ed22=Date[_0x4b3044(0x90d)](),_0x8882b0=_0x4d289a['generativeAIWorkerConnectors'][_0x4b3044(0x419)](_0x2e78a3=>_0x2e78a3[_0x4b3044(0x51d)]()===_0x46893e[_0x4b3044(0x12d)]);if(!_0x8882b0)throw new Error(_0x4b3044(0x370));const _0x54f2da=await async function(_0x10ca9a,_0x1cdaf1,_0x559bad,_0x379af3){const _0x40cb33=_0x4b3044;return(await _0x559bad[_0x40cb33(0x96b)]({'type':_0x40cb33(0x231),'prompt':_0x1cdaf1,'threadId':_0x10ca9a},{'model':_0x379af3}))[_0x40cb33(0x54b)];}(_0x546335,_0x571971,_0x8882b0,_0x46893e);_0x1da8e7[_0x4b3044(0x463)]({'jobType':_0x216dc7[_0x4b3044(0x7ae)],'type':_0x3e951c[_0x4b3044(0x72f)],'jobId':_0x49822e,'threadId':_0x546335,'blockId':_0x183369['id'],'traceLevel':_0x507097['Debug'],'startTime':_0x89ed22,'timestamp':Date['now'](),'status':'success','modelName':_0x46893e['id'],'content':_0x571971,'totalVectors':_0x54f2da[_0x4b3044(0x146)]}),await _0x4f9315(_0x49822e,_0x546335,_0x54f2da,_0x485ae3,_0x183369,_0x262aea,_0x4d289a);}(_0x507821,_0x1c9fca,_0x5d80f7,_0x24c606,_0x51148d,_0x510517,_0x4feb00,_0x4d4c59);}}async function _0x5427a9(_0x55c5f6,_0x54fb2d,_0x580341,_0x343f52,_0x5e4884,_0x31e334,_0x40aec5){const _0x21c7e2=_0x37ac7d,_0x2c3eaa=Date[_0x21c7e2(0x90d)](),_0x51bb3a=_0x40aec5[_0x21c7e2(0x224)][_0x21c7e2(0x2d9)](_0x5e4884['id'])['search'](_0x580341,_0x5e4884[_0x21c7e2(0x400)][_0x21c7e2(0x5e5)],_0x5e4884[_0x21c7e2(0x400)][_0x21c7e2(0x32a)],_0x5e4884['attributes'][_0x21c7e2(0x882)]);_0x1da8e7[_0x21c7e2(0x463)]({'jobType':_0x216dc7[_0x21c7e2(0x7ae)],'type':_0x3e951c[_0x21c7e2(0x45b)],'jobId':_0x55c5f6,'threadId':_0x54fb2d,'blockId':_0x5e4884['id'],'traceLevel':_0x507097[_0x21c7e2(0x4ab)],'startTime':_0x2c3eaa,'timestamp':Date[_0x21c7e2(0x90d)](),'status':'success','topResults':_0x51bb3a,'numResults':_0x51bb3a[_0x21c7e2(0x146)]}),await _0x4f9315(_0x55c5f6,_0x54fb2d,_0x51bb3a,_0x343f52,_0x5e4884,_0x31e334,_0x40aec5);}async function _0x2b0d8f(_0x554e00,_0x15a01d,_0x483052,_0x4d1f3a,_0x370288,_0x265f30,_0x242995){const _0xa9bf60=_0x37ac7d,_0x4490ff=Date[_0xa9bf60(0x90d)]();if(_0x370288[_0xa9bf60(0x117)]||(_0x370288[_0xa9bf60(0x117)]={}),_0x483052 instanceof Array?(_0x370288[_0xa9bf60(0x117)][_0xa9bf60(0x624)]||(_0x370288['accumulated'][_0xa9bf60(0x624)]=[]),_0x370288[_0xa9bf60(0x117)][_0xa9bf60(0x624)][_0xa9bf60(0x7b5)](..._0x483052)):_0x370288['accumulated'][_0xa9bf60(0x231)]=_0x483052,_0x370288[_0xa9bf60(0x333)]=_0x370288[_0xa9bf60(0x333)]?_0x370288[_0xa9bf60(0x333)]+0x1:0x1,_0x547df0(_0x370288,_0x265f30)>_0x370288[_0xa9bf60(0x333)])return;if(!_0x370288[_0xa9bf60(0x117)][_0xa9bf60(0x231)]||!_0x370288['accumulated'][_0xa9bf60(0x624)])throw new Error('Reranker\x20block\x20is\x20missing\x20required\x20data');for(const _0x2b9869 of _0x370288[_0xa9bf60(0x117)][_0xa9bf60(0x624)])_0x2b9869[_0xa9bf60(0x8b5)]=await _0x242995['nlpLibraryConnector'][_0xa9bf60(0x9ce)](_0x370288[_0xa9bf60(0x117)][_0xa9bf60(0x231)],_0x2b9869[_0xa9bf60(0x8c5)]);const _0x485b56=_0x370288['accumulated'][_0xa9bf60(0x624)][_0xa9bf60(0x5e3)](_0x4902b0=>_0x4902b0[_0xa9bf60(0x8b5)]>_0x370288[_0xa9bf60(0x400)]['minRelevance'])[_0xa9bf60(0x6a8)]((_0x10266a,_0x3878e8)=>_0x3878e8[_0xa9bf60(0x8b5)]-_0x10266a['relevance'])[_0xa9bf60(0x281)](0x0,_0x370288[_0xa9bf60(0x400)][_0xa9bf60(0x5e5)]);_0x1da8e7[_0xa9bf60(0x463)]({'jobType':_0x216dc7[_0xa9bf60(0x7ae)],'type':_0x3e951c[_0xa9bf60(0x348)],'jobId':_0x554e00,'threadId':_0x15a01d,'blockId':_0x370288['id'],'traceLevel':_0x507097['Debug'],'startTime':_0x4490ff,'timestamp':Date['now'](),'status':_0xa9bf60(0x3b6),'inputResults':_0x370288['accumulated']['results'],'rerankedResults':_0x485b56}),await _0x4f9315(_0x554e00,_0x15a01d,_0x485b56,_0x4d1f3a,_0x370288,_0x265f30,_0x242995);}async function _0x4f9315(_0x231d4f,_0x227cb6,_0x36e30e,_0x3db119,_0x424da6,_0x252222,_0x51fc15){const _0x5c576a=_0x37ac7d;for(const _0x12a232 of _0x424da6['links']||[]){const _0x4dec83=_0x252222[_0x5c576a(0x419)](_0x3c39f3=>_0x3c39f3[_0x5c576a(0x39c)]===_0x12a232[_0x5c576a(0x39c)]);if(_0x4dec83)switch(_0x4dec83[_0x5c576a(0x623)]){case _0x1a021a[_0x5c576a(0x502)]:_0x3db119[_0x5c576a(0x55c)][_0x5c576a(0x7b5)](..._0x36e30e);break;case _0x1a021a[_0x5c576a(0x80e)]:await _0x83ad51(_0x231d4f,_0x227cb6,_0x36e30e,_0x3db119,_0x4dec83,_0x252222,_0x51fc15);break;case _0x1a021a[_0x5c576a(0x67c)]:await _0x1661ad(_0x231d4f,_0x227cb6,_0x36e30e,_0x3db119,_0x4dec83,_0x252222,_0x51fc15);break;case _0x1a021a[_0x5c576a(0x477)]:await _0xa89ff3(_0x231d4f,_0x227cb6,_0x36e30e,_0x3db119,_0x4dec83,_0x252222,_0x51fc15);break;case _0x1a021a[_0x5c576a(0x348)]:await _0x2b0d8f(_0x231d4f,_0x227cb6,_0x36e30e,_0x3db119,_0x4dec83,_0x252222,_0x51fc15);break;case _0x1a021a[_0x5c576a(0x8bf)]:await _0x5427a9(_0x231d4f,_0x227cb6,_0x36e30e,_0x3db119,_0x4dec83,_0x252222,_0x51fc15);}}}function _0x547df0(_0x3492a5,_0x2747b5){const _0x93ea21=_0x37ac7d;return _0x2747b5[_0x93ea21(0x5e3)](_0x14ac40=>_0x14ac40[_0x93ea21(0x1bf)]?.[_0x93ea21(0x949)](_0x12b70f=>_0x12b70f[_0x93ea21(0x39c)]===_0x3492a5[_0x93ea21(0x39c)]))[_0x93ea21(0x146)];}async function _0xa17a63(_0x5451f8,_0xfba78f,_0x235940,_0x3a3346,_0x2a9bf8,_0x3174b2){const _0x1a117a=_0x37ac7d,_0x40023b={'type':_0x1a117a(0x231),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x4f9315(_0x5451f8,_0xfba78f,_0x235940,_0x40023b,_0x3a3346,structuredClone(_0x2a9bf8),_0x3174b2),_0x40023b[_0x1a117a(0x54b)]=_0x1a117a(0x107)+_0x40023b[_0x1a117a(0x55c)][_0x1a117a(0x8f1)](_0x4fed41=>'From\x20'+_0x4fed41[_0x1a117a(0x880)]+':\x20'+_0x4fed41['content'])['join']('\x0a');}catch(_0x524f7d){console[_0x1a117a(0x635)](_0x1a117a(0x9a3),_0x524f7d);}return _0x40023b;}class _0x486767{static [_0x37ac7d(0x55c)]={};static['getContent'](_0x386a2d,_0x877b2b){const _0xa44379=_0x37ac7d;return this[_0xa44379(0x55c)][_0x386a2d]?.[_0x877b2b]??'';}static[_0x37ac7d(0x48d)](_0x11478f,_0x5bd93,_0x7548d9){const _0x20e970=_0x37ac7d;this[_0x20e970(0x55c)][_0x11478f]||(this[_0x20e970(0x55c)][_0x11478f]={}),this[_0x20e970(0x55c)][_0x11478f][_0x5bd93]=_0x7548d9;}static[_0x37ac7d(0x89c)](_0x4cf7d2){const _0x2b757f=_0x37ac7d;return this[_0x2b757f(0x55c)][_0x4cf7d2]??{};}static[_0x37ac7d(0x280)](_0x1f4fbb){delete this['context'][_0x1f4fbb];}}function _0x40a0fa(_0x1f6857,_0x3c00d0,_0x1c3884,_0x189cf7,_0x50027b,_0x51f408,_0x5d5cd2,_0x1c4e62){const _0x436af6=_0x37ac7d,_0x4786dc=new Map(),_0x51d8cf=_0x51f408[_0x436af6(0x5e3)](_0x32ed7f=>_0x32ed7f['links']?.['find'](_0xe03358=>_0xe03358[_0x436af6(0x39c)]===_0x50027b[_0x436af6(0x39c)]&&(_0xe03358[_0x436af6(0x623)]===_0x363d4a[_0x436af6(0x35c)]||_0xe03358['type']===_0x363d4a[_0x436af6(0x61f)])));for(const _0x18cd55 of _0x51d8cf)_0x18cd55['type']===_0x2fa67d[_0x436af6(0x35c)]||_0x18cd55[_0x436af6(0x623)]===_0x2fa67d[_0x436af6(0x889)]?_0x4786dc[_0x436af6(0x773)](_0x436af6(0x177)+_0x18cd55['id'],_0x3a1b0c(_0x1f6857,_0x3c00d0,_0x1c3884,_0x189cf7,_0x18cd55,_0x5d5cd2,_0x1c4e62)):_0x18cd55[_0x436af6(0x623)]===_0x2fa67d[_0x436af6(0x848)]||_0x18cd55['type']===_0x2fa67d[_0x436af6(0x22d)]?_0x4786dc[_0x436af6(0x773)](_0x436af6(0x615)+_0x18cd55['id'],_0x183cb9(_0x1f6857,_0x3c00d0,_0x1c3884,_0x189cf7,_0x18cd55,_0x51f408,_0x5d5cd2,_0x1c4e62)):_0x18cd55[_0x436af6(0x623)]===_0x2fa67d[_0x436af6(0x8ab)]?_0x4786dc['set'](_0x18cd55[_0x436af6(0x642)]['replace'](/[^a-zA-Z]/g,''),_0x75c744(_0x1f6857,_0x3c00d0,_0x1c3884,_0x18cd55,_0x1c4e62)):_0x4786dc[_0x436af6(0x773)](_0x231f0c(_0x18cd55),_0x13d57b(_0x1f6857,_0x3c00d0,_0x1c3884,_0x18cd55,_0x5d5cd2,_0x1c4e62));return(_0x50027b[_0x436af6(0x4c7)]&&''!==_0x50027b[_0x436af6(0x4c7)]||_0x50027b['contextOutputVariable']&&''!==_0x50027b[_0x436af6(0x20c)])&&_0x436af6(0x5f8)===_0x50027b[_0x436af6(0x48f)]&&_0x4786dc[_0x436af6(0x773)](_0x436af6(0x934),function(_0x3e03e6,_0x2f6341,_0x3f6798){const _0x323e0d=_0x436af6;return{'description':_0x323e0d(0x85d),'params':{},'callback':async()=>{const _0x580260=_0x323e0d;try{if(!_0x2f6341[_0x580260(0x4c7)]&&!_0x2f6341[_0x580260(0x20c)])throw new Error('No\x20context\x20variables\x20set');_0x3f6798&&_0x3f6798[_0x580260(0x812)]({'output':_0x580260(0xe5),'type':'prompt'});let _0x256644='';if(_0x2f6341[_0x580260(0x4c7)]){const _0x34130e=_0x2f6341[_0x580260(0x4c7)][_0x580260(0x6b5)](',');for(const _0x482b5a of _0x34130e){const _0x56592f=_0x486767[_0x580260(0x342)](_0x3e03e6,_0x482b5a);''!==_0x56592f&&(_0x256644=_0x482b5a+':\x20'+_0x56592f+'\x0a\x0a'+_0x256644);}}if(_0x2f6341['contextOutputVariable']){const _0x37be8e=_0x2f6341['contextOutputVariable'][_0x580260(0x6b5)](',');for(const _0x2a2a01 of _0x37be8e){const _0x450e1e=_0x486767[_0x580260(0x342)](_0x3e03e6,_0x2a2a01);''!==_0x450e1e&&(_0x256644=_0x2a2a01+':\x20'+_0x450e1e+'\x0a\x0a'+_0x256644);}}return _0x256644;}catch(_0x5d238b){return console[_0x580260(0x635)](_0x5d238b),_0x5d238b instanceof Error?_0x5d238b[_0x580260(0x599)]:_0x580260(0x37a);}}};}(_0x1c3884,_0x50027b,_0x1c4e62)),_0x4786dc;}function _0x183cb9(_0x8fb91d,_0x1ee164,_0x47f477,_0x4df1c3,_0x5727f8,_0x48942b,_0x3be228,_0x4c0983){const _0x596e34=_0x37ac7d,_0x1e8d64=_0x596e34(0x95c)+_0x5727f8[_0x596e34(0x1e9)]+_0x596e34(0x250),_0x510f62={'prompt':{'type':_0x441722[_0x596e34(0x8a1)][_0x596e34(0x2a3)]}};return _0x1da8e7[_0x596e34(0x463)]({'jobType':_0x216dc7[_0x596e34(0x655)],'type':_0x2780bc[_0x596e34(0x1fb)],'jobId':_0x8fb91d,'agentId':_0x1ee164,'threadId':_0x47f477,'traceLevel':_0x507097[_0x596e34(0x987)],'startTime':Date[_0x596e34(0x90d)](),'timestamp':Date[_0x596e34(0x90d)](),'status':_0x596e34(0x3b6),'function':_0x5a7bb7[_0x596e34(0x536)],'params':_0x510f62,'functionDescription':_0x1e8d64}),{'description':_0x1e8d64,'params':_0x510f62,'callback':async _0x56535b=>{const _0x14c7d8=_0x596e34,_0x2ddf85=Date[_0x14c7d8(0x90d)]();let _0x23aa4c='';try{if(_0x4c0983&&_0x4c0983['emit']({'output':_0x14c7d8(0x7a6)+_0x5727f8[_0x14c7d8(0x642)]+_0x14c7d8(0x1df),'type':'prompt'}),_0x14c7d8(0x865)!=typeof _0x56535b?.['prompt'])throw new Error(_0x14c7d8(0x9a4));if(_0x23aa4c=_0x56535b[_0x14c7d8(0x231)],_0x5727f8[_0x14c7d8(0x4c7)]&&''!==_0x5727f8[_0x14c7d8(0x4c7)]&&_0x14c7d8(0x5f8)!==_0x5727f8['grammar']){const _0x246e41=_0x5727f8['contextInputVariable'][_0x14c7d8(0x6b5)](',');for(const _0x482dfd of _0x246e41){const _0x42a98c=_0x486767[_0x14c7d8(0x342)](_0x47f477,_0x482dfd);''!==_0x42a98c&&(_0x23aa4c=_0x23aa4c+'\x0a\x0a'+_0x482dfd+':\x20'+_0x42a98c);}}if(_0x5727f8[_0x14c7d8(0x20c)]&&''!==_0x5727f8[_0x14c7d8(0x20c)]&&_0x14c7d8(0x5f8)!==_0x5727f8[_0x14c7d8(0x48f)]){const _0x11cbed=_0x5727f8['contextOutputVariable']['split'](',');for(const _0xf54f88 of _0x11cbed){const _0x2b526f=_0x486767[_0x14c7d8(0x342)](_0x47f477,_0xf54f88);''!==_0x2b526f&&(_0x23aa4c=_0x23aa4c+'\x0a\x0a'+_0xf54f88+':\x20'+_0x2b526f);}}const _0x21043d=_0x3be228[_0x14c7d8(0x1da)][_0x14c7d8(0x419)](_0x485b57=>_0x485b57['id']===_0x5727f8[_0x14c7d8(0x306)]);if(!_0x21043d)throw new Error(_0x14c7d8(0x793));const _0x33bdf9=_0x3be228['generativeAIWorkerConnectors']['find'](_0xbf5ee=>_0xbf5ee['getEngineType']()===_0x21043d[_0x14c7d8(0x12d)]);if(!_0x33bdf9)throw new Error(_0x14c7d8(0x370));let _0x34176d;if(_0x4c0983&&!0x1!==_0x5727f8['showSkillOutput']?(_0x4c0983[_0x14c7d8(0x812)]({'output':'\x0a\x0a','type':'prompt'}),_0x34176d=await async function(_0x3f8dec,_0x315acf,_0x10e298,_0x3641a1,_0x4e76d7,_0xedf80a,_0x2a99f1,_0x5b0534,_0x4ab32e){const _0x344992=_0x14c7d8;let _0x3a1cfc='';const _0x4bb472=_0x4ab32e[_0x344992(0x1da)][_0x344992(0x419)](_0x3dce42=>_0x3dce42['id']===_0xedf80a[_0x344992(0x306)]);if(!_0x4bb472)throw new Error(_0x344992(0x793));const _0x37fab4=_0x4ab32e[_0x344992(0x87e)][_0x344992(0x419)](_0x5bbda2=>_0x5bbda2[_0x344992(0x51d)]()===_0x4bb472['engineType']);if(!_0x37fab4)throw new Error(_0x344992(0x370));for await(const _0x255f4b of _0x37fab4[_0x344992(0x1cd)]({'type':_0x344992(0x231),'prompt':_0x3641a1,'instructions':_0xedf80a[_0x344992(0x6a0)],'grammar':_0xedf80a[_0x344992(0x48f)],'temperature':_0xedf80a[_0x344992(0x552)],'maxTokens':_0xedf80a[_0x344992(0x53a)],'functions':_0x40a0fa(_0x3f8dec,_0x315acf,_0x10e298,_0x4e76d7,_0xedf80a,_0x2a99f1,_0x4ab32e,_0x5b0534),'threadId':_0x10e298},{'model':_0x4bb472}))_0x5b0534['emit'](_0x255f4b),_0x3a1cfc+=_0x255f4b[_0x344992(0x54b)];return{'type':_0x344992(0x231),'output':_0x3a1cfc};}(_0x8fb91d,_0x1ee164,_0x47f477,_0x23aa4c,_0x4df1c3,_0x5727f8,_0x48942b,_0x4c0983,_0x3be228),_0x4c0983[_0x14c7d8(0x812)]({'output':'\x0a\x0a','type':_0x14c7d8(0x231)})):_0x34176d=await _0x33bdf9[_0x14c7d8(0x96b)]({'type':_0x14c7d8(0x231),'prompt':_0x23aa4c,'instructions':_0x5727f8[_0x14c7d8(0x6a0)],'grammar':_0x5727f8[_0x14c7d8(0x48f)],'temperature':_0x5727f8[_0x14c7d8(0x552)],'maxTokens':_0x5727f8['maxTokens'],'functions':_0x40a0fa(_0x8fb91d,_0x1ee164,_0x47f477,_0x4df1c3,_0x5727f8,_0x48942b,_0x3be228,_0x4c0983),'threadId':_0x47f477},{'model':_0x21043d}),'string'!=typeof _0x34176d['output'])throw new Error(_0x14c7d8(0x57d));return _0x1da8e7['trace']({'jobType':_0x216dc7[_0x14c7d8(0x61f)],'type':_0x5a7bb7[_0x14c7d8(0x536)],'jobId':_0x8fb91d,'blockId':_0x5727f8['id'],'agentId':_0x1ee164,'threadId':_0x47f477,'traceLevel':_0x507097[_0x14c7d8(0x987)],'startTime':_0x2ddf85,'timestamp':Date[_0x14c7d8(0x90d)](),'status':'success','agentName':_0x5727f8[_0x14c7d8(0x642)],'prompt':_0x23aa4c,'instructions':_0x5727f8[_0x14c7d8(0x6a0)],'result':_0x34176d[_0x14c7d8(0x54b)],'inputTokens':0x0,'outputTokens':0x0}),_0x5727f8[_0x14c7d8(0x20c)]&&(_0x486767[_0x14c7d8(0x48d)](_0x47f477,_0x5727f8['contextOutputVariable'],_0x34176d['output']),_0x4df1c3[_0x14c7d8(0x3bc)]=_0x486767[_0x14c7d8(0x89c)](_0x47f477)),_0x4c0983?_0x14c7d8(0x957):_0x34176d[_0x14c7d8(0x54b)];}catch(_0x5d5768){return console[_0x14c7d8(0x635)](_0x5d5768),_0x1da8e7[_0x14c7d8(0x463)]({'jobType':_0x216dc7[_0x14c7d8(0x61f)],'type':_0x5a7bb7['ExecuteAgent'],'jobId':_0x8fb91d,'blockId':_0x5727f8['id'],'agentId':_0x1ee164,'threadId':_0x47f477,'traceLevel':_0x507097[_0x14c7d8(0x987)],'startTime':_0x2ddf85,'timestamp':Date['now'](),'status':'error','errorDetails':_0x2ad37e(_0x5d5768),'agentName':_0x5727f8[_0x14c7d8(0x642)],'prompt':_0x23aa4c,'instructions':_0x5727f8[_0x14c7d8(0x6a0)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x5d5768 instanceof Error?_0x5d5768['message']:_0x14c7d8(0x735);}}};}function _0x3a1b0c(_0x5d453a,_0x5d309b,_0x18a10d,_0x5e2ef6,_0x16c9ca,_0x3a6743,_0x3a1401){const _0x541a0b=_0x37ac7d,_0x46c92e=_0x541a0b(0x58f)+_0x16c9ca[_0x541a0b(0x1e9)]+_0x541a0b(0x984),_0x55b8ad={'queryOrPrompt':{'type':_0x441722[_0x541a0b(0x8a1)][_0x541a0b(0x2a3)]}};return _0x1da8e7[_0x541a0b(0x463)]({'jobType':_0x216dc7[_0x541a0b(0x655)],'type':_0x2780bc[_0x541a0b(0x4b5)],'jobId':_0x5d453a,'agentId':_0x5d309b,'threadId':_0x18a10d,'blockId':_0x16c9ca['id'],'traceLevel':_0x507097['Info'],'startTime':Date[_0x541a0b(0x90d)](),'timestamp':Date[_0x541a0b(0x90d)](),'status':_0x541a0b(0x3b6),'function':_0x289bb7['GetContextQuery'],'params':_0x55b8ad,'functionDescription':_0x46c92e}),{'description':_0x46c92e,'params':_0x55b8ad,'callback':async _0x3c6681=>{const _0x308c73=_0x541a0b,_0x5c6cce=Date[_0x308c73(0x90d)]();try{if(_0x3a1401&&_0x3a1401[_0x308c73(0x812)]({'output':_0x308c73(0x522)+_0x16c9ca[_0x308c73(0x642)]+_0x308c73(0x6b2)+_0x3c6681?.[_0x308c73(0x720)]+_0x308c73(0x1df),'type':_0x308c73(0x231)}),_0x308c73(0x865)!=typeof _0x3c6681?.[_0x308c73(0x720)])throw new Error(_0x308c73(0x445));const _0x39077b=_0x16c9ca[_0x308c73(0x8ce)][_0x308c73(0x419)](_0x59e8f6=>_0x59e8f6[_0x308c73(0x623)]===_0x1a021a['Prompt']),_0x3f6083=await _0xa17a63(_0x5d453a,_0x18a10d,_0x3c6681['queryOrPrompt'],_0x39077b,_0x16c9ca[_0x308c73(0x8ce)],_0x3a6743);return _0x5e2ef6[_0x308c73(0x55c)]=Array[_0x308c73(0x267)](new Set([..._0x5e2ef6['context'],..._0x3f6083[_0x308c73(0x55c)]])),_0x1da8e7[_0x308c73(0x463)]({'jobType':_0x216dc7[_0x308c73(0x35c)],'type':_0x289bb7['GetContextResult'],'jobId':_0x5d453a,'blockId':_0x16c9ca['id'],'agentId':_0x5d309b,'threadId':_0x18a10d,'traceLevel':_0x507097[_0x308c73(0x987)],'startTime':_0x5c6cce,'timestamp':Date[_0x308c73(0x90d)](),'status':_0x308c73(0x3b6),'query':_0x3c6681[_0x308c73(0x720)],'context':_0x3f6083[_0x308c73(0x55c)]??[],'inputTokens':_0x3f6083[_0x308c73(0x6a3)]??0x0,'outputTokens':_0x3f6083[_0x308c73(0x569)]??0x0}),_0x3f6083['output'];}catch(_0x33e687){return console[_0x308c73(0x635)](_0x33e687),_0x1da8e7[_0x308c73(0x463)]({'jobType':_0x216dc7[_0x308c73(0x35c)],'type':_0x289bb7[_0x308c73(0xfa)],'jobId':_0x5d453a,'blockId':_0x16c9ca['id'],'agentId':_0x5d309b,'threadId':_0x18a10d,'traceLevel':_0x507097[_0x308c73(0x987)],'startTime':_0x5c6cce,'timestamp':Date[_0x308c73(0x90d)](),'status':_0x308c73(0x635),'errorDetails':_0x2ad37e(_0x33e687),'query':_0x3c6681?.[_0x308c73(0x720)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x33e687 instanceof Error?_0x33e687[_0x308c73(0x599)]:_0x308c73(0x89d);}}};}function _0x231f0c(_0x4c9f17){const _0x599a4a=_0x37ac7d;switch(_0x4c9f17[_0x599a4a(0x623)]){case _0x2fa67d[_0x599a4a(0x136)]:return _0x599a4a(0x122);case _0x2fa67d['Code']:return'executeJavascriptCodeSnippet';case _0x2fa67d[_0x599a4a(0x437)]:return _0x599a4a(0x59c);case _0x2fa67d[_0x599a4a(0x494)]:case _0x2fa67d[_0x599a4a(0x9bd)]:return _0x599a4a(0x157);}throw new Error(_0x599a4a(0x5b8));}function _0x13d57b(_0x3e2bdb,_0x115de1,_0x2f7344,_0x131bd6,_0x1e417f,_0x5c4bd0){const _0x326d1c=_0x37ac7d;switch(_0x131bd6['type']){case _0x2fa67d['Time']:return function(_0x18ea23,_0x461279,_0x2a0651,_0x3c242a,_0x4892f6){const _0x417c87=a0_0xbe57,_0x23220e=_0x417c87(0x548);return _0x1da8e7[_0x417c87(0x463)]({'jobType':_0x216dc7[_0x417c87(0x655)],'type':_0x2780bc[_0x417c87(0x1fb)],'jobId':_0x18ea23,'agentId':_0x461279,'threadId':_0x2a0651,'traceLevel':_0x507097[_0x417c87(0x987)],'startTime':Date['now'](),'timestamp':Date[_0x417c87(0x90d)](),'status':'success','function':_0x5a7bb7[_0x417c87(0x25a)],'params':{},'functionDescription':_0x23220e}),{'description':_0x23220e,'callback':()=>{const _0x208deb=_0x417c87,_0x53edc5=Date['now']();_0x4892f6&&_0x4892f6[_0x208deb(0x812)]({'output':_0x208deb(0x4f5),'type':'prompt'});const _0x46def1=new Date()['toLocaleString']();return _0x1da8e7[_0x208deb(0x463)]({'jobType':_0x216dc7[_0x208deb(0x61f)],'type':_0x5a7bb7[_0x208deb(0x25a)],'jobId':_0x18ea23,'agentId':_0x461279,'threadId':_0x2a0651,'blockId':_0x3c242a,'traceLevel':_0x507097[_0x208deb(0x987)],'startTime':_0x53edc5,'timestamp':Date[_0x208deb(0x90d)](),'status':_0x208deb(0x3b6),'date':_0x46def1}),_0x46def1;}};}(_0x3e2bdb,_0x115de1,_0x2f7344,_0x131bd6['id'],_0x5c4bd0);case _0x2fa67d[_0x326d1c(0x2d4)]:return function(_0x41674b,_0x5df05c,_0x3c393d,_0x504de2,_0x371250){const _0x5acd74=_0x326d1c,_0x4266ed=_0x5acd74(0x7ca),_0x2fe79d={'code':{'type':_0x441722[_0x5acd74(0x8a1)][_0x5acd74(0x2a3)]}};return _0x1da8e7[_0x5acd74(0x463)]({'jobType':_0x216dc7[_0x5acd74(0x655)],'type':_0x2780bc[_0x5acd74(0x1fb)],'jobId':_0x41674b,'agentId':_0x5df05c,'threadId':_0x3c393d,'traceLevel':_0x507097[_0x5acd74(0x987)],'startTime':Date[_0x5acd74(0x90d)](),'timestamp':Date[_0x5acd74(0x90d)](),'status':_0x5acd74(0x3b6),'function':_0x5a7bb7[_0x5acd74(0x73a)],'params':_0x2fe79d,'functionDescription':_0x4266ed}),{'description':_0x4266ed,'params':_0x2fe79d,'callback':_0x5c3d17=>{const _0x24a23c=_0x5acd74,_0x221847=Date[_0x24a23c(0x90d)]();try{if(_0x371250&&_0x371250['emit']({'output':_0x24a23c(0x79a),'type':_0x24a23c(0x231)}),_0x24a23c(0x865)!=typeof _0x5c3d17?.['code'])throw new Error(_0x24a23c(0x619));const _0x39dac5=Function(''+_0x5c3d17?.[_0x24a23c(0x417)])();let _0x59b2b7='';try{_0x59b2b7=JSON[_0x24a23c(0x343)](_0x39dac5);}catch{_0x59b2b7=_0x39dac5[_0x24a23c(0x6dd)]();}return _0x1da8e7['trace']({'jobType':_0x216dc7[_0x24a23c(0x61f)],'type':_0x5a7bb7['ExecuteCode'],'agentId':_0x5df05c,'threadId':_0x3c393d,'jobId':_0x41674b,'blockId':_0x504de2,'traceLevel':_0x507097[_0x24a23c(0x987)],'startTime':_0x221847,'timestamp':Date[_0x24a23c(0x90d)](),'status':_0x24a23c(0x3b6),'code':_0x5c3d17['code'],'result':_0x59b2b7}),_0x39dac5;}catch(_0x20a756){return console[_0x24a23c(0x635)](_0x20a756),_0x1da8e7[_0x24a23c(0x463)]({'jobType':_0x216dc7[_0x24a23c(0x61f)],'type':_0x5a7bb7[_0x24a23c(0x73a)],'jobId':_0x41674b,'blockId':_0x504de2,'traceLevel':_0x507097['Info'],'startTime':_0x221847,'timestamp':Date['now'](),'status':'error','errorDetails':_0x2ad37e(_0x20a756),'agentId':_0x5df05c,'threadId':_0x3c393d,'code':_0x5c3d17?.['code']??'','result':'Error\x20executing\x20code'}),_0x20a756 instanceof Error?_0x20a756[_0x24a23c(0x599)]:_0x24a23c(0x62a);}}};}(_0x3e2bdb,_0x115de1,_0x2f7344,_0x131bd6['id'],_0x5c4bd0);case _0x2fa67d['Search']:return function(_0x536cd7,_0x183503,_0x351c89,_0x127393,_0x360d50,_0x34d6ad,_0xaeef7e){const _0x554461=_0x326d1c,_0xc09ae5=_0x554461(0x49f),_0x5c380a={'query':{'type':_0x441722[_0x554461(0x8a1)][_0x554461(0x2a3)]}};return _0x1da8e7[_0x554461(0x463)]({'jobType':_0x216dc7[_0x554461(0x655)],'type':_0x2780bc['LoadSkillFunction'],'jobId':_0x536cd7,'agentId':_0x183503,'threadId':_0x351c89,'traceLevel':_0x507097[_0x554461(0x987)],'startTime':Date['now'](),'timestamp':Date[_0x554461(0x90d)](),'status':_0x554461(0x3b6),'function':_0x5a7bb7[_0x554461(0x2d0)],'params':_0x5c380a,'functionDescription':_0xc09ae5}),{'description':_0xc09ae5,'params':_0x5c380a,'callback':async _0x1d7900=>{const _0x2a085b=_0x554461,_0x529ea0=Date['now']();try{if(_0xaeef7e&&_0xaeef7e[_0x2a085b(0x812)]({'output':_0x2a085b(0x3cf)+_0x1d7900?.['query']+_0x2a085b(0x1df),'type':_0x2a085b(0x231)}),!_0x34d6ad['searchConnector'])throw new Error(_0x2a085b(0x749));if(_0x2a085b(0x865)!=typeof _0x1d7900?.['query'])throw new Error('Query\x20is\x20required');const _0x20cfe2=await _0x34d6ad[_0x2a085b(0x52d)][_0x2a085b(0x628)](_0x1d7900[_0x2a085b(0x169)],_0x360d50,_0x46f3bd[_0x2a085b(0x667)]['searchEngineId']);let _0x3441a2='';for(const _0x324aae of _0x20cfe2)_0x3441a2+=_0x324aae[_0x2a085b(0x109)]+_0x2a085b(0x295)+_0x324aae[_0x2a085b(0x447)]+'\x0a'+_0x324aae['snippet']+'\x0a\x0a';return _0x1da8e7[_0x2a085b(0x463)]({'jobType':_0x216dc7[_0x2a085b(0x61f)],'type':_0x5a7bb7[_0x2a085b(0x2d0)],'jobId':_0x536cd7,'agentId':_0x183503,'threadId':_0x351c89,'blockId':_0x127393,'traceLevel':_0x507097[_0x2a085b(0x987)],'startTime':_0x529ea0,'timestamp':Date[_0x2a085b(0x90d)](),'status':_0x2a085b(0x3b6),'query':_0x1d7900['query'],'results':_0x3441a2}),_0x3441a2;}catch(_0x3c195c){return console[_0x2a085b(0x635)](_0x3c195c),_0x1da8e7[_0x2a085b(0x463)]({'jobType':_0x216dc7['Skill'],'type':_0x5a7bb7['SearchGoogle'],'jobId':_0x536cd7,'blockId':_0x127393,'traceLevel':_0x507097['Info'],'startTime':_0x529ea0,'timestamp':Date[_0x2a085b(0x90d)](),'status':'error','errorDetails':_0x2ad37e(_0x3c195c),'agentId':_0x183503,'threadId':_0x351c89,'query':_0x1d7900?.[_0x2a085b(0x169)]??'','results':_0x2a085b(0x167)}),_0x3c195c instanceof Error?_0x3c195c[_0x2a085b(0x599)]:_0x2a085b(0x167);}}};}(_0x3e2bdb,_0x115de1,_0x2f7344,_0x131bd6['id'],_0x1e417f['searchApiKey'],_0x1e417f,_0x5c4bd0);case _0x2fa67d[_0x326d1c(0x494)]:return _0x39ab50(_0x3e2bdb,_0x115de1,_0x2f7344,_0x131bd6['id'],_0x5c4bd0);case _0x2fa67d['WebScraperRaw']:return _0x39ab50(_0x3e2bdb,_0x115de1,_0x2f7344,_0x131bd6['id'],_0x5c4bd0,!0x1);}throw new Error(_0x326d1c(0x5b8));}function _0x39ab50(_0x48eff9,_0x564d43,_0x46a6b0,_0x400124,_0x40d69b,_0x4397c4=!0x0){const _0x4c1b5c=_0x37ac7d,_0x2b5631=_0x4c1b5c(0x3da),_0x58db7f={'url':{'type':_0x441722[_0x4c1b5c(0x8a1)][_0x4c1b5c(0x2a3)]},'page':{'type':_0x441722['PromptFunctionParamsType'][_0x4c1b5c(0x772)]}};return _0x1da8e7[_0x4c1b5c(0x463)]({'jobType':_0x216dc7[_0x4c1b5c(0x655)],'type':_0x2780bc['LoadSkillFunction'],'jobId':_0x48eff9,'agentId':_0x564d43,'threadId':_0x46a6b0,'traceLevel':_0x507097['Info'],'startTime':Date[_0x4c1b5c(0x90d)](),'timestamp':Date[_0x4c1b5c(0x90d)](),'status':_0x4c1b5c(0x3b6),'function':_0x5a7bb7[_0x4c1b5c(0x5f9)],'params':_0x58db7f,'functionDescription':_0x2b5631}),{'description':_0x2b5631,'params':_0x58db7f,'callback':async _0x21ffaf=>{const _0x3553b2=_0x4c1b5c,_0x227310=Date['now']();try{if(_0x40d69b&&_0x40d69b[_0x3553b2(0x812)]({'output':_0x3553b2(0x8b2)+_0x21ffaf?.[_0x3553b2(0x447)]+_0x3553b2(0x1df),'type':'prompt'}),_0x3553b2(0x865)!=typeof _0x21ffaf?.[_0x3553b2(0x447)])throw new Error(_0x3553b2(0x825));const _0xa59053=await fetch(_0x21ffaf[_0x3553b2(0x447)]),_0x569d0f=await _0xa59053[_0x3553b2(0x495)]();let _0x5e0490=_0x569d0f;if(_0x4397c4){const _0x4236f4=_0x569d0f[_0x3553b2(0x47f)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x4beda5=_0x4236f4?_0x4236f4[0x1]:_0x569d0f,_0xe27a86=_0x4beda5[_0x3553b2(0x756)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')['replace'](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x3553b2(0x756)](/<br\s*\/?>/gi,'\x20')[_0x3553b2(0x756)](/&nbsp;/g,'\x20');_0x5e0490=_0xe27a86[_0x3553b2(0x756)](/<\/?[^>]+(>|$)/g,'')[_0x3553b2(0x756)](/\s\s+/g,'\x20')[_0x3553b2(0x3d7)]();}const _0x1bbca5=_0x3553b2(0x701)==typeof _0x21ffaf[_0x3553b2(0xc8)]?_0x21ffaf['page']:0x1,_0x1297bd=Math['ceil'](_0x5e0490[_0x3553b2(0x146)]/_0x58b7e2);return _0x5e0490[_0x3553b2(0x146)]>_0x58b7e2&&(_0x5e0490=_0x5e0490[_0x3553b2(0x52f)]((_0x1bbca5-0x1)*_0x58b7e2,(_0x1bbca5-0x1)*_0x58b7e2+_0x58b7e2)+_0x3553b2(0x63d)+(_0x1bbca5+0x1)+_0x3553b2(0x975)+_0x1297bd+'.'),_0x1da8e7[_0x3553b2(0x463)]({'jobType':_0x216dc7[_0x3553b2(0x61f)],'type':_0x5a7bb7['FetchUrl'],'jobId':_0x48eff9,'agentId':_0x564d43,'threadId':_0x46a6b0,'blockId':_0x400124,'traceLevel':_0x507097['Info'],'startTime':_0x227310,'timestamp':Date[_0x3553b2(0x90d)](),'status':_0xa59053['ok']?_0x3553b2(0x3b6):_0x3553b2(0x635),'url':_0x21ffaf[_0x3553b2(0x447)],'page':_0x1bbca5,'totalPages':_0x1297bd,'response':_0x5e0490}),_0x5e0490;}catch(_0x3c5be2){console[_0x3553b2(0x635)](_0x3c5be2);const _0x5afb97=_0x3c5be2 instanceof Error?_0x3c5be2['message']:_0x3553b2(0x543);return _0x1da8e7['trace']({'jobType':_0x216dc7[_0x3553b2(0x61f)],'type':_0x5a7bb7[_0x3553b2(0x5f9)],'jobId':_0x48eff9,'blockId':_0x400124,'threadId':_0x46a6b0,'traceLevel':_0x507097[_0x3553b2(0x987)],'startTime':_0x227310,'timestamp':Date[_0x3553b2(0x90d)](),'agentId':_0x564d43,'status':_0x3553b2(0x635),'errorDetails':_0x2ad37e(_0x3c5be2),'url':_0x21ffaf?.['url']??'','page':0x0,'totalPages':0x0,'response':_0x5afb97}),_0x5afb97;}}};}function _0x75c744(_0x1814fc,_0xcc8150,_0x180295,_0x18b864,_0x1ac4a3){const _0x3bca4d=_0x37ac7d,_0x5d773a={};for(const _0x5cc665 of _0x18b864[_0x3bca4d(0x5b5)])switch(_0x5cc665[_0x3bca4d(0x623)]){case _0x3bca4d(0x865):case _0x3bca4d(0x24d):_0x5d773a[_0x5cc665[_0x3bca4d(0x642)]]={'type':_0x441722[_0x3bca4d(0x8a1)]['String']};break;case _0x3bca4d(0x701):_0x5d773a[_0x5cc665[_0x3bca4d(0x642)]]={'type':_0x441722[_0x3bca4d(0x8a1)]['Number']};break;case _0x3bca4d(0x1fd):_0x5d773a[_0x5cc665[_0x3bca4d(0x642)]]={'type':_0x441722[_0x3bca4d(0x8a1)][_0x3bca4d(0x8b3)]};}return _0x1da8e7[_0x3bca4d(0x463)]({'jobType':_0x216dc7[_0x3bca4d(0x655)],'type':_0x2780bc[_0x3bca4d(0x1fb)],'jobId':_0x1814fc,'agentId':_0xcc8150,'threadId':_0x180295,'traceLevel':_0x507097['Info'],'startTime':Date[_0x3bca4d(0x90d)](),'timestamp':Date['now'](),'status':_0x3bca4d(0x3b6),'function':_0x5a7bb7['ExecuteCustomSkill'],'params':_0x5d773a,'functionDescription':_0x18b864[_0x3bca4d(0x1e9)]}),{'description':'Execute\x20skill\x20'+_0x18b864['description'],'params':_0x5d773a,'callback':async _0x4801fd=>{const _0x175cc3=_0x3bca4d,_0x230532=Date['now']();try{if(_0x1ac4a3&&_0x1ac4a3['emit']({'output':'\x0a\x0a`Executing\x20custom\x20skill\x20'+_0x18b864[_0x175cc3(0x642)]+'`\x0a\x0a','type':_0x175cc3(0x231)}),!_0x4801fd)throw new Error(_0x175cc3(0x606));for(const _0x1f1000 of _0x18b864['parameters']){if(void 0x0===_0x4801fd[_0x1f1000[_0x175cc3(0x642)]])throw new Error(_0x175cc3(0x248)+_0x1f1000[_0x175cc3(0x642)]+_0x175cc3(0x636));if(_0x175cc3(0x865)===_0x1f1000[_0x175cc3(0x623)]&&_0x175cc3(0x865)!=typeof _0x4801fd[_0x1f1000[_0x175cc3(0x642)]])throw new Error(_0x175cc3(0x248)+_0x1f1000[_0x175cc3(0x642)]+_0x175cc3(0x7c2));if('number'===_0x1f1000[_0x175cc3(0x623)]&&_0x175cc3(0x701)!=typeof _0x4801fd[_0x1f1000[_0x175cc3(0x642)]])throw new Error('Parameter\x20'+_0x1f1000[_0x175cc3(0x642)]+_0x175cc3(0x407));if(_0x175cc3(0x1fd)===_0x1f1000['type']&&_0x175cc3(0x1fd)!=typeof _0x4801fd[_0x1f1000[_0x175cc3(0x642)]])throw new Error(_0x175cc3(0x248)+_0x1f1000['name']+_0x175cc3(0x7e1));if('json'===_0x1f1000[_0x175cc3(0x623)]&&_0x175cc3(0x865)!=typeof _0x4801fd[_0x1f1000[_0x175cc3(0x642)]])throw new Error(_0x175cc3(0x248)+_0x1f1000['name']+_0x175cc3(0x7c2));if('json'===_0x1f1000[_0x175cc3(0x623)])try{_0x4801fd[_0x1f1000[_0x175cc3(0x642)]]=JSON[_0x175cc3(0x4db)](_0x4801fd[_0x1f1000[_0x175cc3(0x642)]]);}catch{throw new Error(_0x175cc3(0x248)+_0x1f1000[_0x175cc3(0x642)]+_0x175cc3(0x94e));}}let _0x21aa3a=_0x18b864[_0x175cc3(0x40a)];_0x21aa3a[_0x175cc3(0x475)]('$')&&(_0x21aa3a=_0x4801fd[_0x18b864[_0x175cc3(0x40a)][_0x175cc3(0x281)](0x1)]);const _0x523aec=new URLSearchParams();for(const _0x495ad8 of _0x18b864[_0x175cc3(0x7fc)]){let _0x177d6b=_0x495ad8['value'];if(_0x175cc3(0x865)==typeof _0x177d6b&&_0x177d6b[_0x175cc3(0x475)]('$')){const _0x4c8179=_0x177d6b[_0x175cc3(0x281)](0x1);_0x177d6b=_0x4801fd[_0x4c8179];}if(_0x175cc3(0x865)==typeof _0x177d6b&&_0x177d6b[_0x175cc3(0x475)](_0x175cc3(0x626))){const _0x4f9c56=_0x177d6b[_0x175cc3(0x756)](_0x175cc3(0x626),'');if(_0x177d6b=_0x486767[_0x175cc3(0x342)](_0x180295,_0x4f9c56),_0x175cc3(0x865)==typeof _0x177d6b&&_0x177d6b[_0x175cc3(0x475)]('{')&&_0x177d6b[_0x175cc3(0x9af)]('}'))try{_0x177d6b=JSON[_0x175cc3(0x4db)](_0x177d6b);}catch{}}_0x175cc3(0x865)==typeof _0x177d6b&&_0x177d6b[_0x175cc3(0x475)]('[')&&_0x177d6b[_0x175cc3(0x9af)](']')&&(_0x177d6b=_0x177d6b[_0x175cc3(0x281)](0x1,-0x1)['split'](',')),_0x523aec[_0x175cc3(0x195)](_0x495ad8[_0x175cc3(0x642)],_0x177d6b);}let _0x5a4717=_0x18b864[_0x175cc3(0x6f5)];_0x523aec[_0x175cc3(0x1c1)]>0x0&&(_0x5a4717+='?'+_0x523aec[_0x175cc3(0x6dd)]());const _0x5f548b={};for(const _0x18b212 of _0x18b864[_0x175cc3(0x39a)]){let _0x47d619=_0x18b212[_0x175cc3(0x470)];if(_0x175cc3(0x865)==typeof _0x47d619&&_0x47d619[_0x175cc3(0x475)]('$')){const _0x1acb57=_0x47d619[_0x175cc3(0x281)](0x1);_0x47d619=_0x4801fd[_0x1acb57];}if(_0x175cc3(0x865)==typeof _0x47d619&&_0x47d619['startsWith'](_0x175cc3(0x626))){const _0x2ea6ca=_0x47d619[_0x175cc3(0x756)](_0x175cc3(0x626),'');if(_0x47d619=_0x486767[_0x175cc3(0x342)](_0x180295,_0x2ea6ca),_0x175cc3(0x865)==typeof _0x47d619&&_0x47d619['startsWith']('{')&&_0x47d619[_0x175cc3(0x9af)]('}'))try{_0x47d619=JSON[_0x175cc3(0x4db)](_0x47d619);}catch{}}if(_0x175cc3(0x865)==typeof _0x47d619&&_0x47d619[_0x175cc3(0x475)]('[')&&_0x47d619['endsWith'](']')&&(_0x47d619=_0x47d619[_0x175cc3(0x281)](0x1,-0x1)['split'](',')),-0x1===_0x18b212[_0x175cc3(0x642)][_0x175cc3(0x695)]('.'))_0x5f548b[_0x18b212['name']]=_0x47d619;else{const [_0xa5c970,_0x949c75]=_0x18b212[_0x175cc3(0x642)][_0x175cc3(0x6b5)]('.');_0x5f548b[_0xa5c970]||(_0x5f548b[_0xa5c970]={}),_0x5f548b[_0xa5c970][_0x949c75]=_0x47d619;}}const _0x55b3fd=await fetch(_0x5a4717,{'method':_0x18b864['endpointMethod'],'headers':{'Authorization':'Bearer\x20'+_0x21aa3a,'Content-Type':'application/json'},'body':JSON[_0x175cc3(0x343)](_0x5f548b)});if(_0x55b3fd['ok']){const _0xb65266=await _0x55b3fd[_0x175cc3(0x24d)]();return _0x1da8e7[_0x175cc3(0x463)]({'jobType':_0x216dc7[_0x175cc3(0x61f)],'type':_0x5a7bb7[_0x175cc3(0x6ec)],'jobId':_0x1814fc,'agentId':_0xcc8150,'threadId':_0x180295,'blockId':_0x18b864['id'],'traceLevel':_0x507097[_0x175cc3(0x987)],'startTime':_0x230532,'timestamp':Date[_0x175cc3(0x90d)](),'status':_0x175cc3(0x3b6),'skillName':_0x18b864[_0x175cc3(0x642)],'params':_0x4801fd,'result':_0xb65266}),_0xb65266;}throw new Error(_0x55b3fd[_0x175cc3(0x272)]);}catch(_0x24d6ec){console[_0x175cc3(0x635)](_0x24d6ec);const _0x872d49=_0x24d6ec instanceof Error?_0x24d6ec[_0x175cc3(0x599)]:_0x175cc3(0x543);return _0x1da8e7[_0x175cc3(0x463)]({'jobType':_0x216dc7[_0x175cc3(0x61f)],'type':_0x5a7bb7[_0x175cc3(0x6ec)],'jobId':_0x1814fc,'blockId':_0x18b864['id'],'threadId':_0x180295,'traceLevel':_0x507097[_0x175cc3(0x987)],'startTime':_0x230532,'timestamp':Date['now'](),'agentId':_0xcc8150,'status':_0x175cc3(0x635),'skillName':_0x18b864[_0x175cc3(0x642)],'params':_0x4801fd??{},'result':_0x872d49}),_0x872d49;}}};}function _0x2ad37e(_0x4fb282){const _0x2586e1=_0x37ac7d;try{return JSON[_0x2586e1(0x343)](_0x4fb282);}catch(_0x512e9e){return _0x4fb282 instanceof Error?_0x4fb282[_0x2586e1(0x6dd)]():'Error\x20fetching\x20context';}}async function _0xbbdf5b(_0x4d7d48,_0x4b2165,_0x193912,_0x1fece7,_0x477845,_0x31978e,_0x40b1ad){const _0x893330=_0x37ac7d;for(const _0x1da9a7 of _0x477845[_0x893330(0x1bf)]||[]){const _0x53284c=_0x31978e[_0x893330(0x419)](_0x188262=>_0x188262[_0x893330(0x39c)]===_0x1da9a7[_0x893330(0x39c)]);if(_0x53284c&&_0x53284c[_0x893330(0x623)]===_0x2fa67d['Answer']){if(_0x477845['accumulated']||(_0x477845[_0x893330(0x117)]={}),_0x4b2165 instanceof Array?_0x477845[_0x893330(0x117)]['context']=_0x4b2165:_0x477845[_0x893330(0x117)]['prompt']=_0x4b2165,_0x477845[_0x893330(0x333)]=_0x477845['timesCalled']?_0x477845[_0x893330(0x333)]+0x1:0x1,_0x4d852e(_0x477845,_0x31978e)>_0x477845[_0x893330(0x333)])return;return _0x477845;}}if(_0x477845[_0x893330(0x117)]||(_0x477845[_0x893330(0x117)]={}),_0x4b2165 instanceof Array?_0x477845['accumulated'][_0x893330(0x55c)]=_0x4b2165:_0x477845[_0x893330(0x117)][_0x893330(0x231)]=_0x4b2165,_0x477845[_0x893330(0x333)]=_0x477845[_0x893330(0x333)]?_0x477845['timesCalled']+0x1:0x1,_0x4d852e(_0x477845,_0x31978e)>_0x477845['timesCalled'])return;if(!_0x477845[_0x893330(0x117)][_0x893330(0x231)])throw new Error(_0x893330(0x34e));const _0x5dca73=_0x40b1ad['models'][_0x893330(0x419)](_0x530b2b=>_0x530b2b['id']===_0x477845[_0x893330(0x306)]);if(!_0x5dca73)throw new Error(_0x893330(0x793));const _0x2f703f=_0x40b1ad[_0x893330(0x87e)][_0x893330(0x419)](_0xae1d7e=>_0xae1d7e['getEngineType']()===_0x5dca73['engineType']);if(!_0x2f703f)throw new Error(_0x893330(0x370));const _0x18b02c=Date[_0x893330(0x90d)](),_0x4e59bc=(0x0,_0x3e20b1['v4'])(),_0x2a5c32=await _0x2f703f[_0x893330(0x96b)]({'type':_0x893330(0x231),'prompt':_0x477845['accumulated'][_0x893330(0x231)],'instructions':''+_0x477845[_0x893330(0x6a0)]+(_0x193912[_0x893330(0x6a0)]??'')+(_0x477845['accumulated'][_0x893330(0x55c)]?_0x893330(0x1c8)+_0x477845[_0x893330(0x117)][_0x893330(0x55c)][_0x893330(0x8f1)](_0x5138c3=>_0x5138c3[_0x893330(0x8c5)])['join']('\x0a'):''),'grammar':_0x477845[_0x893330(0x48f)],'temperature':_0x477845['temperature'],'maxTokens':_0x477845[_0x893330(0x53a)],'history':_0x193912[_0x893330(0x392)],'functions':_0x40a0fa(_0x4d7d48,_0x4e59bc,_0x193912[_0x893330(0x221)],_0x1fece7,_0x477845,_0x31978e,_0x40b1ad),'threadId':_0x193912[_0x893330(0x221)]},{'model':_0x5dca73});if(_0x893330(0x865)!=typeof _0x2a5c32['output'])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x1fece7[_0x893330(0x6a3)]+=_0x2a5c32[_0x893330(0x6a3)]??0x0,_0x1fece7[_0x893330(0x569)]+=_0x2a5c32['outputTokens']??0x0,_0x1da8e7[_0x893330(0x463)]({'jobType':_0x216dc7[_0x893330(0x986)],'type':_0x493565[_0x893330(0x5e9)],'jobId':_0x4d7d48,'agentId':_0x4e59bc,'threadId':_0x193912['threadId'],'traceLevel':_0x507097[_0x893330(0x987)],'startTime':_0x18b02c,'timestamp':Date['now'](),'blockId':_0x477845['id'],'status':'success','output':_0x2a5c32[_0x893330(0x54b)]?.[_0x893330(0x6dd)]()??'','history':[],'instructions':''+_0x477845[_0x893330(0x6a0)]+(_0x193912[_0x893330(0x6a0)]??''),'ragContext':_0x2a5c32[_0x893330(0x55c)]??[],'inputTokens':_0x2a5c32[_0x893330(0x6a3)]??0x0,'outputTokens':_0x2a5c32[_0x893330(0x569)]??0x0}),_0x55fd54(_0x4d7d48,_0x2a5c32['output'],_0x193912,_0x1fece7,_0x477845,_0x31978e,_0x40b1ad);}async function _0x4c34b1(_0x953a06,_0x389c3b,_0x4a86bd,_0x574c43,_0x1fad0d,_0x50d3cb,_0x247ee8){const _0xe0add8=function(_0x387465,_0x47ace7){const _0xcd76cc=a0_0xbe57,_0x2a6c25=[];for(let _0x217c73=0x0;_0x217c73<_0x387465[_0xcd76cc(0x146)];_0x217c73+=_0x47ace7[_0xcd76cc(0x400)]['size']){let _0x402e89=_0x217c73-_0x47ace7[_0xcd76cc(0x400)][_0xcd76cc(0x6a5)];_0x402e89<0x0&&(_0x402e89=0x0);let _0x25509d=_0x217c73+_0x47ace7[_0xcd76cc(0x400)][_0xcd76cc(0x1c1)]+_0x47ace7[_0xcd76cc(0x400)]['overlap'];_0x25509d>_0x387465[_0xcd76cc(0x146)]&&(_0x25509d=_0x387465[_0xcd76cc(0x146)]),length||(length=_0x217c73+_0x47ace7['attributes'][_0xcd76cc(0x1c1)],length>_0x387465[_0xcd76cc(0x146)]&&(length=_0x387465[_0xcd76cc(0x146)])),_0x2a6c25[_0xcd76cc(0x7b5)](_0x387465[_0xcd76cc(0x52f)](_0x402e89,_0x25509d));}return _0x2a6c25;}(_0x389c3b,_0x1fad0d);return _0x55fd54(_0x953a06,_0xe0add8,_0x4a86bd,_0x574c43,_0x1fad0d,_0x50d3cb,_0x247ee8);}async function _0x10064e(_0x1883ec,_0x3adcfb,_0x484cf9,_0x30c2e0,_0x2e3d15,_0x493ee3,_0x47e02d){const _0x98b892=_0x37ac7d;if(_0x2e3d15['accumulated']||(_0x2e3d15[_0x98b892(0x117)]={}),_0x2e3d15[_0x98b892(0x117)][_0x98b892(0x61c)]||(_0x2e3d15[_0x98b892(0x117)][_0x98b892(0x61c)]=[]),_0x3adcfb instanceof Array?_0x2e3d15['accumulated'][_0x98b892(0x61c)][_0x98b892(0x7b5)](..._0x3adcfb):_0x2e3d15[_0x98b892(0x117)][_0x98b892(0x61c)][_0x98b892(0x7b5)](_0x3adcfb),_0x2e3d15[_0x98b892(0x333)]=_0x2e3d15[_0x98b892(0x333)]?_0x2e3d15['timesCalled']+0x1:0x1,_0x4d852e(_0x2e3d15,_0x493ee3)>_0x2e3d15['timesCalled'])return;if(0x0===_0x2e3d15[_0x98b892(0x117)]['queries'][_0x98b892(0x146)])throw new Error(_0x98b892(0x288));let _0x363d24=[];const _0x329aa4=Date[_0x98b892(0x90d)]();try{let _0x302d6e=0x0,_0x5c60c1=0x0;for(const _0x5f191b of _0x2e3d15[_0x98b892(0x117)][_0x98b892(0x61c)]){const _0x490065=_0x2e3d15[_0x98b892(0x8ce)][_0x98b892(0x419)](_0x415fbc=>_0x415fbc[_0x98b892(0x623)]===_0x1a021a[_0x98b892(0x55a)]),_0x3c91d6=await _0xa17a63(_0x1883ec,_0x484cf9[_0x98b892(0x221)],_0x5f191b,_0x490065,_0x2e3d15[_0x98b892(0x8ce)],_0x47e02d);_0x363d24=Array[_0x98b892(0x267)](new Set([..._0x363d24,..._0x3c91d6[_0x98b892(0x55c)]])),_0x302d6e+=_0x3c91d6['inputTokens']??0x0,_0x5c60c1+=_0x3c91d6['outputTokens']??0x0;}_0x30c2e0[_0x98b892(0x6a3)]+=_0x302d6e,_0x30c2e0['outputTokens']+=_0x5c60c1,_0x30c2e0['context']=Array[_0x98b892(0x267)](new Set([..._0x30c2e0[_0x98b892(0x55c)],..._0x363d24])),_0x1da8e7[_0x98b892(0x463)]({'jobType':_0x216dc7[_0x98b892(0x986)],'type':_0x493565[_0x98b892(0x889)],'jobId':_0x1883ec,'threadId':_0x484cf9[_0x98b892(0x221)],'traceLevel':_0x507097['Info'],'startTime':_0x329aa4,'timestamp':Date[_0x98b892(0x90d)](),'blockId':_0x2e3d15['id'],'status':_0x98b892(0x3b6),'queries':_0x2e3d15[_0x98b892(0x117)][_0x98b892(0x61c)],'context':_0x363d24,'inputTokens':_0x302d6e,'outputTokens':_0x5c60c1});}catch(_0x1e471b){console[_0x98b892(0x635)](_0x1e471b),_0x1da8e7['trace']({'jobType':_0x216dc7['Workflow'],'type':_0x493565[_0x98b892(0x889)],'jobId':_0x1883ec,'threadId':_0x484cf9[_0x98b892(0x221)],'traceLevel':_0x507097[_0x98b892(0x987)],'startTime':_0x329aa4,'timestamp':Date[_0x98b892(0x90d)](),'blockId':_0x2e3d15['id'],'status':_0x98b892(0x635),'queries':_0x2e3d15[_0x98b892(0x117)][_0x98b892(0x61c)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}return _0x55fd54(_0x1883ec,_0x363d24,_0x484cf9,_0x30c2e0,_0x2e3d15,_0x493ee3,_0x47e02d);}async function _0x29d72d(_0xb256b9,_0x181360,_0x5cba50,_0x33b0ad,_0x6e2f69,_0x5d6643,_0x78e5a7){const _0x2859af=_0x37ac7d;return _0x55fd54(_0xb256b9,await _0x78e5a7[_0x2859af(0x5fc)][_0x2859af(0x60a)](_0x181360),_0x5cba50,_0x33b0ad,_0x6e2f69,_0x5d6643,_0x78e5a7);}async function _0x550ff5(_0x32b976,_0x134fbb,_0x1c37c7,_0x55795a,_0x34035b,_0x212e42,_0xcf4d){const _0x4ea53a=function(_0x216702,_0x50b6aa){const _0x229d1a=a0_0xbe57,_0x1d282d=[],_0x10ec33=_0x216702[_0x229d1a(0x6b5)]('\x20');let _0x32fc10='',_0x24c7b9=0x0,_0x16a8b6=0x0,_0x4b7b7d=0x0;for(const _0x3c510e of _0x10ec33){if(_0x32fc10[_0x229d1a(0x146)]+_0x3c510e[_0x229d1a(0x146)]>_0x50b6aa[_0x229d1a(0x400)][_0x229d1a(0x1c1)]){let _0xe63cb6=_0x24c7b9,_0xd772ba='';for(;_0xe63cb6>=0x0&&_0xd772ba[_0x229d1a(0x146)]+_0x10ec33[_0xe63cb6][_0x229d1a(0x146)]<_0x50b6aa['attributes'][_0x229d1a(0x6a5)];)_0xd772ba=_0x10ec33[_0xe63cb6]+'\x20'+_0xd772ba,_0xe63cb6--;let _0x2d5d8f=_0x16a8b6,_0x5ab318='';for(;_0x2d5d8f<_0x10ec33['length']&&_0x5ab318[_0x229d1a(0x146)]+_0x10ec33[_0x2d5d8f][_0x229d1a(0x146)]<_0x50b6aa[_0x229d1a(0x400)][_0x229d1a(0x6a5)];)_0x5ab318+=_0x10ec33[_0x2d5d8f]+'\x20',_0x2d5d8f++;_0x32fc10=_0xd772ba+_0x32fc10+_0x5ab318,_0x1d282d[_0x229d1a(0x7b5)](_0x32fc10['trim']()),_0x32fc10='',_0x24c7b9=_0x16a8b6;}_0x32fc10+=_0x3c510e+'\x20',_0x16a8b6++,_0x4b7b7d+=_0x3c510e[_0x229d1a(0x146)]+0x1;}if(_0x32fc10[_0x229d1a(0x146)]>0x0){let _0x323845=_0x24c7b9,_0x3a0d6c='';for(;_0x323845>=0x0&&_0x3a0d6c['length']+_0x10ec33[_0x323845]['length']<_0x50b6aa['attributes'][_0x229d1a(0x6a5)];)_0x3a0d6c=_0x10ec33[_0x323845]+'\x20'+_0x3a0d6c,_0x323845--;_0x32fc10=_0x3a0d6c+_0x32fc10,_0x1d282d[_0x229d1a(0x7b5)](_0x32fc10[_0x229d1a(0x3d7)]());}return _0x1d282d;}(_0x134fbb,_0x34035b);return _0x55fd54(_0x32b976,_0x4ea53a,_0x1c37c7,_0x55795a,_0x34035b,_0x212e42,_0xcf4d);}async function _0x55fd54(_0x256b12,_0x570513,_0x36e657,_0x9a358c,_0x51123a,_0x58df51,_0x2cfa4e){const _0x4b6aa0=_0x37ac7d;let _0x2d3bcb;for(const _0x5ec0d1 of _0x51123a['links']||[]){const _0x29cd31=_0x58df51['find'](_0x1d8e69=>_0x1d8e69[_0x4b6aa0(0x39c)]===_0x5ec0d1[_0x4b6aa0(0x39c)]);if(_0x29cd31){switch(_0x29cd31[_0x4b6aa0(0x623)]){case _0x2fa67d[_0x4b6aa0(0x22d)]:_0x2d3bcb=await _0xbbdf5b(_0x256b12,_0x570513,_0x36e657,_0x9a358c,_0x29cd31,_0x58df51,_0x2cfa4e);break;case _0x2fa67d[_0x4b6aa0(0x300)]:_0x2d3bcb=await _0x4c34b1(_0x256b12,_0x570513,_0x36e657,_0x9a358c,_0x29cd31,_0x58df51,_0x2cfa4e);break;case _0x2fa67d[_0x4b6aa0(0x889)]:_0x2d3bcb=await _0x10064e(_0x256b12,_0x570513,_0x36e657,_0x9a358c,_0x29cd31,_0x58df51,_0x2cfa4e);break;case _0x2fa67d['SentenceSplitter']:_0x2d3bcb=await _0x29d72d(_0x256b12,_0x570513,_0x36e657,_0x9a358c,_0x29cd31,_0x58df51,_0x2cfa4e);break;case _0x2fa67d[_0x4b6aa0(0x282)]:_0x2d3bcb=await _0x550ff5(_0x256b12,_0x570513,_0x36e657,_0x9a358c,_0x29cd31,_0x58df51,_0x2cfa4e);}if(_0x2d3bcb)return _0x2d3bcb;}}}function _0x4d852e(_0x4e228f,_0x4c15a9){const _0x767a29=_0x37ac7d;return _0x4c15a9['filter'](_0x560299=>_0x560299[_0x767a29(0x1bf)]?.[_0x767a29(0x949)](_0x40690a=>_0x40690a[_0x767a29(0x623)]!==_0x363d4a[_0x767a29(0x35c)]&&_0x40690a[_0x767a29(0x623)]!==_0x363d4a[_0x767a29(0x61f)]&&_0x40690a[_0x767a29(0x39c)]===_0x4e228f[_0x767a29(0x39c)]))[_0x767a29(0x146)];}const _0x2cd263=require('rxjs/operators');class _0x4e042d{[_0x37ac7d(0x8bc)];constructor(){const _0x3be83c=_0x37ac7d;this[_0x3be83c(0x8bc)]=new _0x40fd25[(_0x3be83c(0x722))]();}[_0x37ac7d(0x812)](_0x5d91ac){const _0x3c53dd=_0x37ac7d;this[_0x3c53dd(0x8bc)][_0x3c53dd(0x2d3)](_0x5d91ac);}async[_0x37ac7d(0x4f4)](){const _0x14b148=_0x37ac7d;return(0x0,_0x40fd25[_0x14b148(0x694)])(this[_0x14b148(0x8bc)][_0x14b148(0x1d1)]((0x0,_0x2cd263[_0x14b148(0x4c5)])(0x1)));}}class _0x302e00 extends _0x464c16{['localNode'];[_0x37ac7d(0x7f1)];[_0x37ac7d(0x224)];[_0x37ac7d(0x87e)];[_0x37ac7d(0x9b5)];[_0x37ac7d(0x5fc)];[_0x37ac7d(0x4aa)];[_0x37ac7d(0x52d)];[_0x37ac7d(0x252)];[_0x37ac7d(0x3fd)];['dataStores']=new Map();[_0x37ac7d(0x9cf)]=new Map();['loggingDb'];[_0x37ac7d(0x1da)]=new Map();[_0x37ac7d(0x7d3)];[_0x37ac7d(0x2af)]=0x0;['tokens']=0x0;['isOpened']=!0x1;constructor(_0x431f8b,_0x5288ad,_0x5c4caa,_0x34630c,_0x7bb7a7,_0x2a7acc,_0x14b11a,_0x2135a7,_0x22b90a,_0x171551){const _0x319329=_0x37ac7d;super(_0x431f8b,_0x5288ad,_0x34630c),this[_0x319329(0x116)]=_0x431f8b,this[_0x319329(0x7f1)]=_0x5c4caa,this[_0x319329(0x224)]=_0x7bb7a7,this[_0x319329(0x87e)]=_0x2a7acc,this[_0x319329(0x9b5)]=_0x14b11a,this[_0x319329(0x5fc)]=_0x2135a7,this[_0x319329(0x4aa)]=_0x22b90a,this[_0x319329(0x52d)]=_0x171551;}async[_0x37ac7d(0x464)](){const _0x288e63=_0x37ac7d;for(const _0xaf737b of this[_0x288e63(0x87e)])await _0xaf737b[_0x288e63(0x91a)]();this[_0x288e63(0x3fd)]?.[_0x288e63(0x887)](this[_0x288e63(0x7ee)]),this[_0x288e63(0x43b)][_0x288e63(0x97a)](_0xf3d47a=>_0xf3d47a[_0x288e63(0x887)](this['label'])),this[_0x288e63(0x7d3)]&&(clearTimeout(this[_0x288e63(0x7d3)]),delete this[_0x288e63(0x7d3)]),super[_0x288e63(0x464)]();}async['open'](_0x495863=!0x1){const _0xf74383=_0x37ac7d;if(this[_0xf74383(0x3b8)])super[_0xf74383(0x211)]();else{if(this['workflow']=await _0x34e4c7[_0xf74383(0x523)](this[_0xf74383(0x7f1)],this[_0xf74383(0x7ee)]),this[_0xf74383(0x3fd)]=this[_0xf74383(0x224)][_0xf74383(0x9b3)](this[_0xf74383(0x252)]['modelsBucketId']),!this['modelStore'])throw new Error('Model\x20store\x20not\x20initialized');this[_0xf74383(0x6fe)](),_0x495863||await this[_0xf74383(0x8aa)](this[_0xf74383(0x3fd)]);for(const _0x24909a of this[_0xf74383(0x252)][_0xf74383(0x1da)])try{let _0x26be95;_0x24909a[_0xf74383(0x12d)]===_0x441722[_0xf74383(0x1ac)][_0xf74383(0x2bc)]&&(_0x26be95=await this['getModel']('/'+_0x24909a['id']+_0x55ea1f)),this['models']['set'](_0x24909a['id'],{'id':_0x24909a['id'],'engineType':_0x24909a[_0xf74383(0x12d)],'taskType':_0x24909a[_0xf74383(0x627)],'inputType':_0x24909a[_0xf74383(0x334)],'outputType':_0x24909a[_0xf74383(0x244)],'sourceUrl':_0x24909a['sourceUrl'],'pathName':_0x26be95});}catch(_0x159121){await this[_0xf74383(0x3fd)]['publish']({'action':_0x441722[_0xf74383(0x6bc)][_0xf74383(0x89b)],'file':new File([''],''+_0x24909a['id']+_0x55ea1f),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x24909a[_0xf74383(0x803)]}}),this[_0xf74383(0x1da)]['set'](_0x24909a['id'],{'id':_0x24909a['id'],'engineType':_0x24909a[_0xf74383(0x12d)],'taskType':_0x24909a[_0xf74383(0x627)],'inputType':_0x24909a[_0xf74383(0x334)],'outputType':_0x24909a[_0xf74383(0x244)],'sourceUrl':_0x24909a[_0xf74383(0x803)],'pathName':await this['getModel']('/'+_0x24909a['id']+_0x55ea1f)});}for(const _0x39be26 of this[_0xf74383(0x87e)])await _0x39be26[_0xf74383(0x95d)](this['label'],this[_0xf74383(0x1da)]);for(const _0x4d0f1a of this[_0xf74383(0x252)]['dataBucketIds'])this[_0xf74383(0x43b)][_0xf74383(0x773)](_0x4d0f1a,this[_0xf74383(0x224)][_0xf74383(0x9b3)](_0x4d0f1a));await this[_0xf74383(0x532)](_0x495863),this[_0xf74383(0x121)]();for(const _0x14dc44 of this[_0xf74383(0x252)][_0xf74383(0x276)])this['externalStores'][_0xf74383(0x773)](_0x14dc44,this['contentMediator'][_0xf74383(0x2e6)](_0x14dc44));await this[_0xf74383(0x2ef)](),this[_0xf74383(0x650)](),this[_0xf74383(0x3b8)]=!0x0,this[_0xf74383(0x4ed)](),super[_0xf74383(0x211)]();}}['reset'](){const _0x45c03d=_0x37ac7d;this['prompts']=0x0,this[_0x45c03d(0x981)]=0x0,this['sendStats'](),super[_0x45c03d(0x44e)]();}[_0x37ac7d(0x896)](){const _0x46271e=_0x37ac7d;return this[_0x46271e(0x4ed)](),this['getCoresFromCapacityReport']();}[_0x37ac7d(0x5d3)](_0x110518,_0x156c31,_0x18c07f){const _0xbb9217=_0x37ac7d,{outputTokens:_0x30a886=0x0,output:_0xbe7bc0=''}=_0x110518,_0x4b4138=_0x30a886/((_0x18c07f-_0x156c31)/0x3e8);this[_0xbb9217(0x2af)]+=0x1,this[_0xbb9217(0x981)]+=_0x30a886,this[_0xbb9217(0x43d)](_0x4b4138,_0x30a886),this[_0xbb9217(0x4ed)]();}[_0x37ac7d(0x6ee)](_0x51a19d,_0x44c2d4){const _0xe9c45=_0x37ac7d;return _0x51a19d[_0xe9c45(0x54b)]=_0x51a19d[_0xe9c45(0x54b)]??'',{'type':_0xe9c45(0x231),'output':'string'==typeof _0x51a19d[_0xe9c45(0x54b)]&&'string'==typeof _0x44c2d4[_0xe9c45(0x54b)]?_0x51a19d[_0xe9c45(0x54b)]+_0x44c2d4[_0xe9c45(0x54b)]:_0x44c2d4[_0xe9c45(0x54b)],'outputTokens':_0x44c2d4[_0xe9c45(0x569)]??_0x51a19d[_0xe9c45(0x569)],'inputTokens':_0x44c2d4['inputTokens']??_0x51a19d['inputTokens']};}async[_0x37ac7d(0x6e0)](_0x5bc84d,_0x2910b6){const _0x53f56b=_0x37ac7d;if(!this[_0x53f56b(0x252)])throw new Error(_0x53f56b(0x201));if(_0x53f56b(0x231)===_0x2910b6['type']){const _0x3e0178=this[_0x53f56b(0x252)][_0x53f56b(0x53b)]['find'](_0x42cadd=>_0x42cadd[_0x53f56b(0x623)]===_0x2fa67d[_0x53f56b(0x55a)]),_0x84bef1=await async function(_0x2f8358,_0x8ee2e3,_0x230893,_0x2717f2,_0x27f65c){const _0x1edb40=_0x53f56b,_0x5d22e7=(0x0,_0x3e20b1['v4'])();if(_0x1da8e7[_0x1edb40(0x463)]({'jobType':_0x216dc7[_0x1edb40(0x986)],'type':_0x493565['InitialPrompt'],'jobId':_0x2f8358,'blockId':_0x230893['id'],'agentId':_0x5d22e7,'threadId':_0x8ee2e3['threadId'],'traceLevel':_0x507097[_0x1edb40(0x987)],'startTime':Date[_0x1edb40(0x90d)](),'timestamp':Date[_0x1edb40(0x90d)](),'status':_0x1edb40(0x3b6),'initialPrompt':_0x8ee2e3[_0x1edb40(0x231)]}),_0x8ee2e3[_0x1edb40(0x3bc)]){for(const _0x28040a in _0x8ee2e3[_0x1edb40(0x3bc)])_0x486767[_0x1edb40(0x48d)](_0x8ee2e3[_0x1edb40(0x221)],_0x28040a,_0x8ee2e3[_0x1edb40(0x3bc)][_0x28040a]);}const _0x426508={'type':_0x8ee2e3[_0x1edb40(0x623)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x1ca22e=await _0x55fd54(_0x2f8358,''+_0x8ee2e3[_0x1edb40(0x231)],_0x8ee2e3,_0x426508,_0x230893,_0x2717f2,_0x27f65c);if(!_0x1ca22e)throw new Error(_0x1edb40(0x612));const _0x58564d=_0x27f65c[_0x1edb40(0x1da)]['find'](_0x7704e1=>_0x7704e1['id']===_0x1ca22e[_0x1edb40(0x306)]);if(!_0x58564d)throw new Error(_0x1edb40(0x793));const _0xc69766=_0x27f65c[_0x1edb40(0x87e)][_0x1edb40(0x419)](_0x1c4189=>_0x1c4189['getEngineType']()===_0x58564d[_0x1edb40(0x12d)]);if(!_0xc69766)throw new Error(_0x1edb40(0x370));let _0x8cfcb0=_0x1ca22e[_0x1edb40(0x117)][_0x1edb40(0x231)];if(_0x1ca22e[_0x1edb40(0x4c7)]&&''!==_0x1ca22e['contextInputVariable']&&_0x1edb40(0x5f8)!==_0x1ca22e[_0x1edb40(0x48f)]){const _0x3ac2eb=_0x1ca22e[_0x1edb40(0x4c7)]['split'](',');for(const _0x188471 of _0x3ac2eb)_0x8cfcb0=_0x8cfcb0+'\x0a\x0a'+_0x188471+':\x20'+_0x486767[_0x1edb40(0x342)](_0x8ee2e3[_0x1edb40(0x221)],_0x188471);}const _0x5db54c=Date['now'](),_0x22c566=await _0xc69766[_0x1edb40(0x96b)]({'type':_0x8ee2e3[_0x1edb40(0x623)],'prompt':_0x8cfcb0,'instructions':''+_0x1ca22e[_0x1edb40(0x6a0)]+(_0x8ee2e3[_0x1edb40(0x6a0)]??'')+(_0x1ca22e['accumulated']?.[_0x1edb40(0x55c)]?'\x0aAdditional\x20Context:\x20'+_0x1ca22e[_0x1edb40(0x117)][_0x1edb40(0x55c)]['map'](_0x2b12b8=>_0x2b12b8[_0x1edb40(0x8c5)])[_0x1edb40(0x751)]('\x0a'):''),'grammar':_0x1ca22e[_0x1edb40(0x48f)],'temperature':_0x1ca22e[_0x1edb40(0x552)],'maxTokens':_0x1ca22e[_0x1edb40(0x53a)],'history':_0x8ee2e3[_0x1edb40(0x392)],'functions':_0x40a0fa(_0x2f8358,_0x5d22e7,_0x8ee2e3['threadId'],_0x426508,_0x1ca22e,_0x2717f2,_0x27f65c),'threadId':_0x8ee2e3[_0x1edb40(0x221)]},{'model':_0x58564d}),{inputTokens:_0x3cfa8d=0x0,outputTokens:_0x9e1d93=0x0,context:_0x39cb2a=[]}=_0x22c566;return _0x1da8e7[_0x1edb40(0x463)]({'jobType':_0x216dc7['Workflow'],'type':_0x493565[_0x1edb40(0x821)],'jobId':_0x2f8358,'agentId':_0x5d22e7,'threadId':_0x8ee2e3['threadId'],'traceLevel':_0x507097[_0x1edb40(0x987)],'startTime':_0x5db54c,'timestamp':Date[_0x1edb40(0x90d)](),'blockId':_0x230893['id'],'status':_0x1edb40(0x3b6),'output':_0x22c566[_0x1edb40(0x54b)]?.[_0x1edb40(0x6dd)]()??'','history':_0x8ee2e3['history']??[],'instructions':''+_0x1ca22e[_0x1edb40(0x6a0)]+(_0x8ee2e3[_0x1edb40(0x6a0)]??''),'ragContext':_0x39cb2a,'inputTokens':_0x3cfa8d,'outputTokens':_0x9e1d93}),_0x486767[_0x1edb40(0x280)](_0x8ee2e3['threadId']),{'type':_0x8ee2e3[_0x1edb40(0x623)],'output':_0x22c566[_0x1edb40(0x54b)],'context':_0x426508[_0x1edb40(0x55c)],'internalContext':_0x426508[_0x1edb40(0x3bc)],'inputTokens':(_0x426508['inputTokens']??0x0)+(_0x22c566[_0x1edb40(0x6a3)]??0x0),'outputTokens':(_0x426508['outputTokens']??0x0)+(_0x22c566[_0x1edb40(0x569)]??0x0)};}(_0x5bc84d,_0x2910b6,_0x3e0178,this[_0x53f56b(0x252)]['blocks'],{'documentParserConnector':this[_0x53f56b(0x9b5)],'nlpLibraryConnector':this[_0x53f56b(0x5fc)],'generativeAIWorkerConnectors':this[_0x53f56b(0x87e)],'models':this['workflow']['models'],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x53f56b(0x4aa)],'searchConnector':this[_0x53f56b(0x52d)]});return _0x84bef1;}if(_0x53f56b(0x217)===_0x2910b6['type'])return _0x1da8e7[_0x53f56b(0x463)]({'jobType':_0x216dc7[_0x53f56b(0x79e)],'type':_0x13973b['PromptRating'],'jobId':_0x2910b6[_0x53f56b(0x2aa)],'threadId':_0x2910b6[_0x53f56b(0x221)],'traceLevel':_0x507097[_0x53f56b(0x987)],'startTime':Date[_0x53f56b(0x90d)](),'timestamp':Date[_0x53f56b(0x90d)](),'status':_0x53f56b(0x3b6),'rating':_0x2910b6['rating'],'feedback':_0x2910b6[_0x53f56b(0xd0)]}),{'type':_0x53f56b(0x217),'status':_0x441722[_0x53f56b(0x345)][_0x53f56b(0x375)]};if(_0x53f56b(0x113)===_0x2910b6[_0x53f56b(0x623)]){let _0x597a8a;const _0x315e81=this[_0x53f56b(0x43b)][_0x53f56b(0x6cd)]();for(;!_0x597a8a;){const _0x41b084=_0x315e81[_0x53f56b(0x2d3)]()[_0x53f56b(0x470)];if(!_0x41b084)throw new Error(_0x53f56b(0x706));_0x597a8a=this[_0x53f56b(0x43b)][_0x53f56b(0x7e9)](_0x41b084);try{const _0x2126dd=await _0x597a8a['get'](_0x2910b6[_0x53f56b(0x513)]);return{'type':_0x53f56b(0x113),'fileName':_0x2126dd[_0x53f56b(0x642)],'mimeType':_0x2126dd[_0x53f56b(0x623)],'document':await _0x2126dd[_0x53f56b(0x8e2)]()};}catch(_0x36e7b4){continue;}}throw new Error(_0x53f56b(0x706));}throw new Error('Unsupported\x20job\x20type');}async*[_0x37ac7d(0x946)](_0xbc1d46,_0x2feba3){const _0x58ae5f=_0x37ac7d;if(!this['workflow'])throw new Error(_0x58ae5f(0x201));const _0x207956=this[_0x58ae5f(0x252)][_0x58ae5f(0x53b)]['find'](_0x14f9a4=>_0x14f9a4['type']===_0x2fa67d[_0x58ae5f(0x55a)]);for await(const _0x4a7594 of async function*(_0x18b1bf,_0x92f222,_0x5ad93b,_0x2cc729,_0x1670ad){const _0x5ae5a1=_0x58ae5f,_0x14dceb=(0x0,_0x3e20b1['v4'])();if(_0x1da8e7[_0x5ae5a1(0x463)]({'jobType':_0x216dc7[_0x5ae5a1(0x986)],'type':_0x493565[_0x5ae5a1(0x8a3)],'jobId':_0x18b1bf,'agentId':_0x14dceb,'threadId':_0x92f222['threadId'],'traceLevel':_0x507097[_0x5ae5a1(0x987)],'startTime':Date['now'](),'timestamp':Date[_0x5ae5a1(0x90d)](),'blockId':_0x5ad93b['id'],'status':_0x5ae5a1(0x3b6),'initialPrompt':_0x92f222[_0x5ae5a1(0x231)]}),_0x92f222[_0x5ae5a1(0x3bc)]){for(const _0x257644 in _0x92f222[_0x5ae5a1(0x3bc)])_0x486767[_0x5ae5a1(0x48d)](_0x92f222[_0x5ae5a1(0x221)],_0x257644,_0x92f222[_0x5ae5a1(0x3bc)][_0x257644]);}const _0x5093a9={'type':_0x92f222[_0x5ae5a1(0x623)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x11e550=await _0x55fd54(_0x18b1bf,''+_0x92f222[_0x5ae5a1(0x231)],_0x92f222,_0x5093a9,_0x5ad93b,_0x2cc729,_0x1670ad);if(!_0x11e550)throw new Error(_0x5ae5a1(0x612));const _0x5d4f70=Date[_0x5ae5a1(0x90d)]();let _0x42afdc='',_0x3d06f5={'type':_0x92f222['type']};const _0x3e4559=new _0x4e042d();for(async function(_0x5a9088,_0x4579c3,_0x39359c,_0x5f30f2,_0x118894,_0x817e7,_0x588ceb,_0xcb4f9d){const _0x370bae=_0x5ae5a1,_0x41e7e1=_0xcb4f9d[_0x370bae(0x1da)][_0x370bae(0x419)](_0x1fb198=>_0x1fb198['id']===_0x118894[_0x370bae(0x306)]);if(!_0x41e7e1)throw new Error(_0x370bae(0x793));const _0x2aecc0=_0xcb4f9d[_0x370bae(0x87e)]['find'](_0x22bb5b=>_0x22bb5b['getEngineType']()===_0x41e7e1[_0x370bae(0x12d)]);if(!_0x2aecc0)throw new Error(_0x370bae(0x370));let _0xe27974=_0x118894[_0x370bae(0x117)][_0x370bae(0x231)];if(_0x118894[_0x370bae(0x4c7)]&&''!==_0x118894[_0x370bae(0x4c7)]&&_0x370bae(0x5f8)!==_0x118894[_0x370bae(0x48f)]){const _0x1dc27b=_0x118894['contextInputVariable']['split'](',');for(const _0x100a03 of _0x1dc27b)_0xe27974=_0xe27974+'\x0a\x0a'+_0x100a03+':\x20'+_0x486767['getContent'](_0x39359c[_0x370bae(0x221)],_0x100a03);}for await(const _0x25a63e of _0x2aecc0[_0x370bae(0x1cd)]({'type':_0x39359c[_0x370bae(0x623)],'prompt':_0xe27974,'instructions':''+_0x118894[_0x370bae(0x6a0)]+(_0x39359c[_0x370bae(0x6a0)]??'')+(_0x118894[_0x370bae(0x117)]?.['context']?_0x370bae(0x1c8)+_0x118894[_0x370bae(0x117)][_0x370bae(0x55c)][_0x370bae(0x8f1)](_0x7a7a1a=>_0x7a7a1a[_0x370bae(0x8c5)])[_0x370bae(0x751)]('\x0a'):''),'grammar':_0x118894[_0x370bae(0x48f)],'temperature':_0x118894['temperature'],'maxTokens':_0x118894[_0x370bae(0x53a)],'history':_0x39359c[_0x370bae(0x392)],'functions':_0x40a0fa(_0x5a9088,_0x4579c3,_0x39359c[_0x370bae(0x221)],_0x5f30f2,_0x118894,_0x817e7,_0xcb4f9d,_0x588ceb),'threadId':_0x39359c[_0x370bae(0x221)]},{'model':_0x41e7e1}))_0x588ceb[_0x370bae(0x812)](_0x25a63e);_0x588ceb[_0x370bae(0x812)](void 0x0);}(_0x18b1bf,_0x14dceb,_0x92f222,_0x5093a9,_0x11e550,_0x2cc729,_0x3e4559,_0x1670ad);;){const _0x39b347=await _0x3e4559[_0x5ae5a1(0x4f4)]();if(!_0x39b347)break;_0x42afdc+=_0x39b347[_0x5ae5a1(0x54b)],_0x3d06f5={'type':_0x92f222['type'],'output':_0x39b347['output'],'context':_0x5093a9[_0x5ae5a1(0x55c)],'internalContext':_0x5093a9['internalContext'],'inputTokens':(_0x5093a9[_0x5ae5a1(0x6a3)]??0x0)+(_0x39b347['inputTokens']??0x0),'outputTokens':(_0x5093a9[_0x5ae5a1(0x569)]??0x0)+(_0x39b347['outputTokens']??0x0)},yield _0x3d06f5;}const {inputTokens:_0x53d88f=0x0,outputTokens:_0x32a559=0x0,context:_0x1be18a=[]}=_0x3d06f5;_0x1da8e7[_0x5ae5a1(0x463)]({'jobType':_0x216dc7[_0x5ae5a1(0x986)],'type':_0x493565[_0x5ae5a1(0x821)],'jobId':_0x18b1bf,'agentId':_0x14dceb,'threadId':_0x92f222[_0x5ae5a1(0x221)],'traceLevel':_0x507097[_0x5ae5a1(0x987)],'startTime':_0x5d4f70,'timestamp':Date['now'](),'blockId':_0x5ad93b['id'],'status':'success','output':_0x42afdc,'history':_0x92f222[_0x5ae5a1(0x392)]??[],'instructions':''+_0x11e550[_0x5ae5a1(0x6a0)]+(_0x92f222['instructions']??''),'ragContext':_0x1be18a,'inputTokens':_0x53d88f,'outputTokens':_0x32a559}),_0x486767[_0x5ae5a1(0x280)](_0x92f222[_0x5ae5a1(0x221)]);}(_0xbc1d46,_0x2feba3,_0x207956,this[_0x58ae5f(0x252)]['blocks'],{'documentParserConnector':this[_0x58ae5f(0x9b5)],'nlpLibraryConnector':this[_0x58ae5f(0x5fc)],'generativeAIWorkerConnectors':this[_0x58ae5f(0x87e)],'models':this['workflow'][_0x58ae5f(0x1da)],'contentMediator':this[_0x58ae5f(0x224)],'searchApiKey':this[_0x58ae5f(0x4aa)],'searchConnector':this[_0x58ae5f(0x52d)]}))yield _0x4a7594;}[_0x37ac7d(0x20f)](_0x410db9,_0x594556){const _0x1dfe8f=_0x37ac7d;if(_0x1dfe8f(0x217)===_0x594556[_0x1dfe8f(0x623)])return _0x410db9=_0x594556[_0x1dfe8f(0x2aa)],void this[_0x1dfe8f(0x790)](_0x410db9);this[_0x1dfe8f(0x790)](_0x410db9),_0x1da8e7[_0x1dfe8f(0x463)]({'jobType':_0x216dc7[_0x1dfe8f(0x7a8)],'type':_0x29c6e5['Queued'],'traceLevel':_0x507097['Info'],'jobId':_0x410db9,'threadId':_0x594556[_0x1dfe8f(0x221)],'startTime':Date[_0x1dfe8f(0x90d)](),'timestamp':Date[_0x1dfe8f(0x90d)](),'status':_0x1dfe8f(0x3b6)});}[_0x37ac7d(0x985)](_0x1f000a,_0x34b61d){const _0x5ca9d2=_0x37ac7d;if(_0x5ca9d2(0x217)===_0x34b61d[_0x5ca9d2(0x623)])return _0x1f000a=_0x34b61d[_0x5ca9d2(0x2aa)],void this['closeTrace'](_0x1f000a);_0x1da8e7[_0x5ca9d2(0x463)]({'jobType':_0x216dc7[_0x5ca9d2(0x7a8)],'type':_0x29c6e5[_0x5ca9d2(0x52b)],'traceLevel':_0x507097['Info'],'jobId':_0x1f000a,'threadId':_0x34b61d[_0x5ca9d2(0x221)],'startTime':Date['now'](),'timestamp':Date[_0x5ca9d2(0x90d)](),'status':_0x5ca9d2(0x3b6)}),this[_0x5ca9d2(0x1dc)](_0x1f000a);}async[_0x37ac7d(0x8aa)](_0x6c96fa){return new Promise(_0x2cc4c1=>{const _0x21793d=a0_0xbe57;_0x6c96fa[_0x21793d(0x9b2)](this[_0x21793d(0x7ee)],async _0x29cba9=>{const _0x266a50=_0x21793d;_0x29cba9[_0x266a50(0x964)]===_0x441722['StorageEventType'][_0x266a50(0x6de)]&&(_0x6c96fa[_0x266a50(0x887)](this['label']),_0x2cc4c1(_0x29cba9['payload'][_0x266a50(0x921)]));});});}async[_0x37ac7d(0x911)](_0xfe1fe4){const _0x328894=_0x37ac7d;if(!this[_0x328894(0x3fd)])throw new Error(_0x328894(0x784));const _0x5cfa03=await this[_0x328894(0x3fd)][_0x328894(0x9b9)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x385644 of _0x5cfa03)if(_0x385644[_0x328894(0x519)]===_0x441722['ObjectKind'][_0x328894(0x89b)]&&_0x385644[_0x328894(0x880)]===_0xfe1fe4)return _0x385644[_0x328894(0x4b4)]??_0x385644['pathName'];throw new Error(_0x328894(0x200)+_0xfe1fe4);}async[_0x37ac7d(0x532)](_0x469168){const _0x4f0688=_0x37ac7d;if(!this['workflow'])throw new Error(_0x4f0688(0x201));for(const _0x3e842e of this[_0x4f0688(0x43b)]['values']())try{const _0x1d436f=this['workflow']['blocks']['filter'](_0x180de4=>(_0x180de4[_0x4f0688(0x623)]===_0x2fa67d[_0x4f0688(0x889)]||_0x180de4[_0x4f0688(0x623)]===_0x2fa67d[_0x4f0688(0x35c)])&&_0x180de4[_0x4f0688(0x878)]?.['some'](_0x17371f=>_0x17371f['id']===_0x3e842e['getLabel']()));for(let _0x163ac3=_0x1d436f['length']-0x1;_0x163ac3>=0x0;_0x163ac3--)for(const _0x3143ec of _0x1d436f[_0x163ac3]['ingestBlocks']??[])_0x3143ec[_0x4f0688(0x623)]===_0x1a021a[_0x4f0688(0x8bf)]&&this[_0x4f0688(0x224)][_0x4f0688(0x2d9)](_0x3143ec['id'])[_0x4f0688(0x741)]()&&_0x1d436f[_0x4f0688(0x38f)](_0x163ac3,0x1),_0x3143ec[_0x4f0688(0x623)]===_0x1a021a[_0x4f0688(0x67c)]&&this[_0x4f0688(0x224)][_0x4f0688(0x8ba)](_0x3143ec['id'])['getIsLoaded']()&&_0x1d436f[_0x4f0688(0x38f)](_0x163ac3,0x1);const _0x2ed404=new Map();let _0x508eba=0x0;_0x469168||(_0x508eba=await this[_0x4f0688(0x8aa)](_0x3e842e));let _0x39168e=!0x1;if(0x0===_0x508eba){for(const _0x3a38fb of _0x1d436f){let _0x5e8178=''+(_0x3a38fb[_0x4f0688(0x718)]??0x1);for(const _0x1e2416 of _0x3a38fb['ingestBlocks']??[])_0x1e2416[_0x4f0688(0x623)]===_0x1a021a[_0x4f0688(0x22d)]&&(_0x5e8178=_0x5e8178+'-'+(_0x1e2416[_0x4f0688(0x718)]??0x1));for(const _0x22f673 of _0x3a38fb[_0x4f0688(0x878)]??[])_0x22f673[_0x4f0688(0x623)]===_0x1a021a['VectorDatabase']&&_0x2ed404[_0x4f0688(0x773)](_0x22f673['id'],{'version':_0x5e8178,'getDatabase':this[_0x4f0688(0x224)][_0x4f0688(0x2d9)][_0x4f0688(0x5d9)](this[_0x4f0688(0x224)]),'block':_0x22f673}),_0x22f673['type']===_0x1a021a[_0x4f0688(0x67c)]&&_0x2ed404[_0x4f0688(0x773)](_0x22f673['id'],{'version':_0x5e8178,'getDatabase':this[_0x4f0688(0x224)]['getGraphDatabase'][_0x4f0688(0x5d9)](this[_0x4f0688(0x224)]),'block':_0x22f673});}for(const {getDatabase:_0x9cb171,block:_0x2400f3,version:_0x57a926}of _0x2ed404[_0x4f0688(0x5d6)]())try{_0x9cb171(_0x2400f3['id'])[_0x4f0688(0x29c)](_0x57a926),_0x39168e=!0x0;}catch(_0x1d3d79){_0x39168e=!0x1;break;}}if(_0x39168e)continue;const _0x20ab4b=await _0x3e842e[_0x4f0688(0x9b9)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x4f0688(0x373)](_0x112f57[_0x4f0688(0x490)],_0x3e842e[_0x4f0688(0x102)](),_0x20ab4b);for(const {getDatabase:_0x3a2a45,block:_0x411169,version:_0xdc1832}of _0x2ed404[_0x4f0688(0x5d6)]()){const _0x390d28=_0x3a2a45(_0x411169['id']);_0x390d28[_0x4f0688(0x8cc)](_0xdc1832),_0x390d28[_0x4f0688(0x253)](!0x0);}}catch(_0x14b6a2){_0x52aedf[_0x4f0688(0x635)](_0x4f0688(0x161),{'nodeId':this[_0x4f0688(0x116)][_0x4f0688(0x336)](),'nodeType':this[_0x4f0688(0x116)][_0x4f0688(0x623)]});}}async['loadExternalContent'](){const _0x57fbc6=_0x37ac7d;for(const _0x3ebbb4 of this[_0x57fbc6(0x9cf)][_0x57fbc6(0x5d6)]())try{const _0x4ee935=await _0x3ebbb4[_0x57fbc6(0x9b9)]('/',{'recursive':!0x0});await this['syncFolder'](_0x112f57[_0x57fbc6(0x664)],_0x3ebbb4[_0x57fbc6(0x102)](),_0x4ee935);}catch(_0x362673){_0x52aedf[_0x57fbc6(0x635)]('Error\x20loading\x20external\x20content',{'nodeId':this['localNode'][_0x57fbc6(0x336)](),'nodeType':this[_0x57fbc6(0x116)]['type']});}}async[_0x37ac7d(0x373)](_0x26184e,_0xff312c,_0x1a452c){const _0x1083f7=_0x37ac7d;for(const _0x686d7c of _0x1a452c){if(_0x686d7c[_0x1083f7(0x519)]===_0x441722[_0x1083f7(0x1b8)][_0x1083f7(0x960)]){if(!_0x686d7c['entries']||0x0===_0x686d7c['entries']['length'])continue;await this[_0x1083f7(0x373)](_0x26184e,_0xff312c,_0x686d7c[_0x1083f7(0x196)]);}_0x686d7c[_0x1083f7(0x519)]===_0x441722['ObjectKind'][_0x1083f7(0x89b)]&&await this[_0x1083f7(0x5ab)](_0x26184e,_0xff312c,_0x686d7c['pathName']);}}['subscribeToLocalContent'](){const _0x44ebc6=_0x37ac7d;for(const _0x2472ac of this[_0x44ebc6(0x43b)]['values']())_0x2472ac['subscribe'](this['label'],async _0x5c4f1d=>{const _0x23ed6e=_0x44ebc6;switch(_0x5c4f1d[_0x23ed6e(0x964)]){case _0x441722['StorageEventType'][_0x23ed6e(0x5dc)]:this[_0x23ed6e(0x8e8)](_0x112f57['ObjectStorage'],_0x2472ac[_0x23ed6e(0x102)](),_0x5c4f1d[_0x23ed6e(0x30c)][_0x23ed6e(0x8f3)][_0x23ed6e(0x880)]),await this[_0x23ed6e(0x5ab)](_0x112f57[_0x23ed6e(0x490)],_0x2472ac[_0x23ed6e(0x102)](),_0x5c4f1d[_0x23ed6e(0x30c)]['file']['pathName']);break;case _0x441722['StorageEventType'][_0x23ed6e(0x5cc)]:this['removeContent'](_0x112f57[_0x23ed6e(0x490)],_0x2472ac[_0x23ed6e(0x102)](),_0x5c4f1d[_0x23ed6e(0x30c)][_0x23ed6e(0x642)]);}});}[_0x37ac7d(0x650)](){const _0x4cc915=_0x37ac7d;for(const _0x52b457 of this[_0x4cc915(0x9cf)]['values']())_0x52b457[_0x4cc915(0x9b2)](this[_0x4cc915(0x7ee)],async _0x56870c=>{const _0x30090c=_0x4cc915;switch(_0x56870c[_0x30090c(0x964)]){case _0x441722[_0x30090c(0x11f)]['FileWrite']:this[_0x30090c(0x8e8)](_0x112f57[_0x30090c(0x664)],_0x52b457[_0x30090c(0x102)](),_0x56870c[_0x30090c(0x30c)][_0x30090c(0x8f3)][_0x30090c(0x880)]),await this[_0x30090c(0x5ab)](_0x112f57[_0x30090c(0x664)],_0x52b457['getName'](),_0x56870c['payload'][_0x30090c(0x8f3)][_0x30090c(0x880)]);break;case _0x441722[_0x30090c(0x11f)]['FileDelete']:this[_0x30090c(0x8e8)](_0x112f57['ExternalStorage'],_0x52b457['getName'](),_0x56870c[_0x30090c(0x30c)][_0x30090c(0x642)]);}});}async['addContent'](_0x237d74,_0x39d68f,_0x1756d2){const _0x2403da=_0x37ac7d;if(!this[_0x2403da(0x252)])throw new Error(_0x2403da(0x201));let _0x15b5e1;switch(_0x237d74){case _0x112f57[_0x2403da(0x490)]:_0x15b5e1=_0x1a021a[_0x2403da(0x30f)];break;case _0x112f57[_0x2403da(0x664)]:_0x15b5e1=_0x1a021a[_0x2403da(0x690)];}if(!_0x15b5e1)return;const _0x5e454c=this[_0x2403da(0x252)][_0x2403da(0x53b)][_0x2403da(0x5e3)](_0x2500a7=>_0x2500a7[_0x2403da(0x623)]===_0x2fa67d[_0x2403da(0x35c)]||_0x2500a7['type']===_0x2fa67d[_0x2403da(0x889)]),_0x4a6784=new Set(_0x5e454c[_0x2403da(0x8f1)](_0x3abac3=>_0x3abac3['id'])),_0x506d9f=_0x5e454c[_0x2403da(0x5e3)](_0x162db8=>_0x162db8['ingestBlocks']?.[_0x2403da(0x949)](_0x3b699e=>_0x3b699e[_0x2403da(0x623)]===_0x15b5e1&&_0x3b699e['id']===_0x39d68f));for(const _0x5c49de of _0x506d9f){if(!_0x4a6784[_0x2403da(0x158)](_0x5c49de['id']))continue;_0x4a6784[_0x2403da(0x6fd)](_0x5c49de['id']);const _0x2447f6=_0x5c49de['ingestBlocks']?.[_0x2403da(0x419)](_0xb9caef=>_0xb9caef[_0x2403da(0x623)]===_0x15b5e1&&_0xb9caef['id']===_0x39d68f);if(!_0x2447f6)continue;const _0x423ec0=(0x0,_0x3e20b1['v4'])();_0x1da8e7[_0x2403da(0x790)](null,_0x423ec0),await _0x1cb5c6(_0x423ec0,_0x1756d2,_0x2447f6,_0x5c49de[_0x2403da(0x878)],{'documentParserConnector':this[_0x2403da(0x9b5)],'nlpLibraryConnector':this[_0x2403da(0x5fc)],'generativeAIWorkerConnectors':this[_0x2403da(0x87e)],'models':this[_0x2403da(0x252)][_0x2403da(0x1da)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x2403da(0x4aa)],'version':_0x5c49de[_0x2403da(0x718)]??0x1}),_0x1da8e7[_0x2403da(0x1dc)](_0x423ec0);}this[_0x2403da(0x4ed)]();}[_0x37ac7d(0x8e8)](_0x14e353,_0x4868d1,_0x163d10){const _0x413853=_0x37ac7d;if(!this[_0x413853(0x252)])throw new Error(_0x413853(0x201));let _0x118ce0;switch(_0x14e353){case _0x112f57[_0x413853(0x490)]:_0x118ce0=_0x1a021a['ObjectStorageUpload'];break;case _0x112f57[_0x413853(0x664)]:_0x118ce0=_0x1a021a['ExternalStorageUpload'];}if(!_0x118ce0)return;const _0x2acc7d=this[_0x413853(0x252)][_0x413853(0x53b)]['filter'](_0x89216f=>_0x89216f[_0x413853(0x623)]===_0x2fa67d[_0x413853(0x35c)]||_0x89216f['type']===_0x2fa67d[_0x413853(0x889)]),_0x37d0eb=new Set(_0x2acc7d[_0x413853(0x8f1)](_0x5174fd=>_0x5174fd['id'])),_0x586d4b=_0x2acc7d['filter'](_0x58dc68=>_0x58dc68['ingestBlocks']?.[_0x413853(0x949)](_0x52bcdf=>_0x52bcdf[_0x413853(0x623)]===_0x118ce0&&_0x52bcdf['id']===_0x4868d1));for(const _0x16538a of _0x586d4b){if(!_0x37d0eb[_0x413853(0x158)](_0x16538a['id']))continue;_0x37d0eb['delete'](_0x16538a['id']);let _0x4097fe=''+(_0x16538a[_0x413853(0x718)]??0x1);for(const _0x22db91 of _0x16538a[_0x413853(0x878)]??[])_0x22db91[_0x413853(0x623)]===_0x1a021a[_0x413853(0x22d)]&&(_0x4097fe=_0x4097fe+'-'+(_0x22db91[_0x413853(0x718)]??0x1));for(const _0x283795 of _0x16538a[_0x413853(0x878)]??[]){if(_0x283795[_0x413853(0x623)]===_0x1a021a[_0x413853(0x8bf)]){const _0x6165e8=this[_0x413853(0x224)]['getVectorDatabase'](_0x283795['id']);_0x6165e8[_0x413853(0xce)](_0x163d10),_0x6165e8['getIsLoaded']()&&_0x6165e8[_0x413853(0x8cc)](_0x4097fe);}if(_0x283795[_0x413853(0x623)]===_0x1a021a[_0x413853(0x67c)]){const _0x6152d9=this['contentMediator'][_0x413853(0x8ba)](_0x283795['id']);_0x6152d9[_0x413853(0xce)](_0x163d10),_0x6152d9[_0x413853(0x741)]()&&_0x6152d9['saveToDisk'](_0x4097fe);}}}this[_0x413853(0x4ed)]();}[_0x37ac7d(0x81a)](){const _0x1b1dba=_0x37ac7d;try{return this[_0x1b1dba(0x647)][_0x1b1dba(0x6e8)]()[_0x1b1dba(0x5bf)][_0x1b1dba(0x923)]*(0x1-this[_0x1b1dba(0x647)][_0x1b1dba(0x6e8)]()[_0x1b1dba(0x5bf)][_0x1b1dba(0x5d8)]);}catch(_0x267d16){return _0x52aedf[_0x1b1dba(0x857)](_0xdea279[_0x1b1dba(0x55b)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x267d16),0x0;}}['sendStats'](){const _0x357fd7=_0x37ac7d;this['isOpened']&&(this[_0x357fd7(0x7d3)]&&clearTimeout(this[_0x357fd7(0x7d3)]),this[_0x357fd7(0x7d3)]=setTimeout(async()=>{const _0x3a314c=_0x357fd7;if(delete this['debounceStats'],!this['modelStore'])return;let _0x3c0a5a=await this[_0x3a314c(0x3fd)][_0x3a314c(0x3e9)]();for(const _0x19e385 of this[_0x3a314c(0x43b)]['values']())_0x3c0a5a+=await _0x19e385['getSize']();this[_0x3a314c(0x1b1)][_0x3a314c(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x3a314c(0x3a0)],'content':{'type':_0x3b90a2[_0x3a314c(0x6e6)],'label':this[_0x3a314c(0x7ee)],'stats':{'timestamp':Date['now'](),'storage':_0x3c0a5a,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x3a314c(0x90a)],'bytesReceived':this[_0x3a314c(0x66a)],'writes':0x0,'reads':0x0,'prompts':this[_0x3a314c(0x2af)],'tokens':this['tokens']}}});},_0x3d132a));}['logServiceEvent'](_0x127e65,_0xf15db9){const _0x284410=_0x37ac7d,_0x3161e2=this[_0x284410(0x7ee)],_0x2d4e34=this['getOwnerId']();_0x52aedf['logServiceEvent'](_0x5ddb4d[_0x284410(0x509)],{'topic':_0x3161e2,'type':_0x284410(0x94b),'nodeId':_0x2d4e34,'tokenCount':_0xf15db9,'tokensPerSecond':_0x127e65});}[_0x37ac7d(0x790)](_0x43630f){const _0x18d3f8=_0x37ac7d;try{if(!this[_0x18d3f8(0x252)])throw new Error(_0x18d3f8(0x201));if(!this[_0x18d3f8(0x542)])throw new Error(_0x18d3f8(0x578));if(!_0x1da8e7[_0x18d3f8(0x790)](this[_0x18d3f8(0x542)],_0x43630f))throw new Error(_0x18d3f8(0x545));return _0x43630f;}catch(_0x333ca3){return console[_0x18d3f8(0x635)]('Error\x20opening\x20trace',_0x333ca3),_0x18d3f8(0x22a);}}['closeTrace'](_0x447384){const _0x391a8a=_0x37ac7d;try{_0x1da8e7[_0x391a8a(0x1dc)](_0x447384);}catch(_0x46668c){console['error']('Error\x20closing\x20trace',{'jobId':_0x447384,'error':_0x46668c});}}async['initializeLoggingDatabase'](){return new Promise(_0x58bca7=>{const _0x2510ab=a0_0xbe57;try{const _0x2951ab=_0xe62062(this['vendorId'],this[_0x2510ab(0x7ee)]);this[_0x2510ab(0x542)]=this[_0x2510ab(0x224)][_0x2510ab(0x2cc)](_0x2951ab),this['loggingDb']['subscribe'](({event:_0x56d2ec})=>{const _0x3b8752=_0x2510ab;_0x56d2ec===_0x441722[_0x3b8752(0x884)]['SyncComplete']&&(this[_0x3b8752(0x542)][_0x3b8752(0x887)](),_0x58bca7());});}catch(_0x15a96e){console[_0x2510ab(0x635)](_0x2510ab(0x870)+_0xe62062(this[_0x2510ab(0x7f1)],this[_0x2510ab(0x7ee)])+_0x2510ab(0x82a),_0x15a96e),_0x58bca7();}});}}class _0xfb2af8 extends _0x15db27{['localNode'];[_0x37ac7d(0x6b0)];['vendorId'];['db'];[_0x37ac7d(0x7d3)];['writes']=0x0;['reads']=0x0;[_0x37ac7d(0x930)]=!0x1;constructor(_0x16dce4,_0x1e4ff8,_0x3c6646,_0x18fca6,_0x1fc098){const _0x3e4eab=_0x37ac7d;if('string'!=typeof _0x1e4ff8)throw new _0x3e3c93(_0x5b4e17['GraphDatabaseNameNotString'],_0x3e4eab(0x1a4));super(_0x16dce4,_0x1e4ff8),this['localNode']=_0x16dce4,this[_0x3e4eab(0x6b0)]=_0x3c6646,this[_0x3e4eab(0x7f1)]=_0x18fca6;const _0x95112e='ccc'+this[_0x3e4eab(0x7f1)]+_0x3e4eab(0x3dc)+this['clusterId']+_0x3e4eab(0x3dc)+this['label'];this['db']=new _0x1fc098(_0x95112e),this['sendStats']();}['getIsLoaded'](){return this['isLoaded'];}[_0x37ac7d(0x253)](_0x86ffe6){const _0x4e5804=_0x37ac7d;this[_0x4e5804(0x930)]=_0x86ffe6;}['destroy'](){const _0x1a4612=_0x37ac7d;clearTimeout(this['debounceStats']),delete this[_0x1a4612(0x7d3)],super[_0x1a4612(0x464)]();}[_0x37ac7d(0x91a)](){const _0x216b38=_0x37ac7d;this[_0x216b38(0x1b1)][_0x216b38(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2[_0x216b38(0x1ee)],'label':this[_0x216b38(0x7ee)]}});}['getContentType'](){const _0x3eb3ef=_0x37ac7d;return _0x441722[_0x3eb3ef(0x4bf)][_0x3eb3ef(0x67c)];}['reset'](){const _0x37534b=_0x37ac7d;this[_0x37534b(0x4ed)]();}[_0x37ac7d(0x396)](_0x4c5c8f,_0x2544eb,_0x3d95fd,_0x3e30b7){const _0x497836=_0x37ac7d;this['db'][_0x497836(0x396)](_0x4c5c8f,_0x2544eb,_0x3d95fd,_0x3e30b7),this[_0x497836(0x6e7)]+=0x1,this['sendStats']();}['addEdge'](_0x5e8112,_0x31423b){const _0x564046=_0x37ac7d;this['db'][_0x564046(0xe8)](_0x5e8112,_0x31423b),this[_0x564046(0x6e7)]+=0x1,this[_0x564046(0x4ed)]();}[_0x37ac7d(0x342)](_0x867313,_0x19637f,_0x4ff1ba){const _0x4a1a19=_0x37ac7d,_0x940222=this['db'][_0x4a1a19(0x342)](_0x867313,_0x19637f,_0x4ff1ba);return this['reads']+=0x1,_0x52aedf['logServiceEvent'](_0x5ddb4d[_0x4a1a19(0x67c)],{'type':'get-content','label':this[_0x4a1a19(0x7ee)],'nodeId':this[_0x4a1a19(0x116)][_0x4a1a19(0x336)](),'nodeType':this[_0x4a1a19(0x116)][_0x4a1a19(0x623)],'clusterId':this[_0x4a1a19(0x6b0)],'size':0x0}),this[_0x4a1a19(0x4ed)](),_0x940222;}[_0x37ac7d(0xce)](_0x45e3b8){const _0x52e9c6=_0x37ac7d;this['db'][_0x52e9c6(0xce)](_0x45e3b8),this[_0x52e9c6(0x6e7)]+=0x1,this['sendStats']();}[_0x37ac7d(0x8cc)](_0x37523b){const _0x2c1c11=_0x37ac7d;this['db'][_0x2c1c11(0x8cc)](_0x37523b);}[_0x37ac7d(0x29c)](_0x27dc97){this['db']['loadFromDisk'](_0x27dc97);}[_0x37ac7d(0x4ed)](){const _0x3c8046=_0x37ac7d;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x3c8046(0x7d3)]=setTimeout(async()=>{const _0x154eb8=_0x3c8046;delete this[_0x154eb8(0x7d3)];const _0x52ebec=this['db'][_0x154eb8(0x3e9)]();this['systemTopic'][_0x154eb8(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x154eb8(0x3a0)],'content':{'type':_0x3b90a2['GraphDatabaseStats'],'label':this[_0x154eb8(0x7ee)],'stats':{'timestamp':Date[_0x154eb8(0x90d)](),'storage':_0x52ebec,'messagesSent':this[_0x154eb8(0x187)],'messagesReceived':this[_0x154eb8(0x6a2)],'bytesSent':this[_0x154eb8(0x90a)],'bytesReceived':this[_0x154eb8(0x66a)],'writes':this[_0x154eb8(0x6e7)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x52aedf[_0x154eb8(0x352)](_0x5ddb4d[_0x154eb8(0x67c)],_0x154eb8(0x3dc)+this[_0x154eb8(0x6b0)]+_0x154eb8(0x3dc)+this[_0x154eb8(0x7ee)],_0x52ebec);},_0x3d132a);}}class _0x566dae extends _0x2a744d{[_0x37ac7d(0x59b)];constructor(_0x30c162,_0x2a2bd7,_0x2554bd){const _0xb292ea=_0x37ac7d;super(_0x30c162,_0x2a2bd7),this[_0xb292ea(0x59b)]=_0x2554bd;}[_0x37ac7d(0x151)](){const _0x5c614f=_0x37ac7d;return _0x441722[_0x5c614f(0x4bf)][_0x5c614f(0x8f5)];}['getMediaStream'](){return this['mediaStream'];}[_0x37ac7d(0x729)](){const _0x381e2a=_0x37ac7d;return this[_0x381e2a(0x59b)]['id'];}}class _0x37f3f8 extends _0x566dae{['remoteId'];[_0x37ac7d(0x7bb)];[_0x37ac7d(0x3cc)];[_0x37ac7d(0x620)]=_0x28e357();constructor(_0x2797da,_0x708ca4,_0x5e30a9,_0x215010,_0x4874ef){const _0x361332=_0x37ac7d;super(_0x2797da,_0x708ca4,_0x5e30a9),this[_0x361332(0x3e2)]=_0x215010,this[_0x361332(0x7bb)]=_0x4874ef;}['destroy'](){const _0x3bbefe=_0x37ac7d;this[_0x3bbefe(0x8d5)](_0x3bbefe(0x71d)),this[_0x3bbefe(0x8d5)](_0x3bbefe(0x260)),super['destroy']();}['addTrack'](_0x1770e0){const _0x5efc6b=_0x37ac7d;if(!this[_0x5efc6b(0x3cc)])throw new _0x4a800a(_0x4a800a[_0x5efc6b(0x7ef)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x5efc6b(0x7ee)],'ownerId':this[_0x5efc6b(0x9c1)][_0x5efc6b(0x336)](),'remoteId':this['remoteId']});this[_0x5efc6b(0x3cc)]['publish']({'sourceId':this[_0x5efc6b(0x9c1)][_0x5efc6b(0x336)](),'content':{'action':_0x24cd00[_0x5efc6b(0x234)],'track':_0x1770e0,'stream':this[_0x5efc6b(0x59b)],'priority':_0x441722[_0x5efc6b(0x874)][_0x5efc6b(0x2ed)],'params':this[_0x5efc6b(0x827)](_0x1770e0[_0x5efc6b(0x519)],this['params'])}});}['removeTrack'](_0xcba344){const _0x58f6a3=_0x37ac7d,_0x5a85a5=this[_0x58f6a3(0x538)](_0xcba344);if(_0x5a85a5){if(!this[_0x58f6a3(0x3cc)])return null;this[_0x58f6a3(0x3cc)][_0x58f6a3(0x10d)]({'sourceId':this['owner'][_0x58f6a3(0x336)](),'content':{'action':_0x24cd00[_0x58f6a3(0x458)],'track':_0x5a85a5,'stream':this[_0x58f6a3(0x59b)]}});}return _0x5a85a5;}['setPriority'](_0x2ee481){const _0x236f74=_0x37ac7d;if(!this[_0x236f74(0x3cc)])throw new _0x4a800a(_0x4a800a[_0x236f74(0x7ef)][_0x236f74(0x6c3)],{'label':this[_0x236f74(0x7ee)],'ownerId':this[_0x236f74(0x9c1)][_0x236f74(0x336)](),'remoteId':this[_0x236f74(0x3e2)]});this[_0x236f74(0x3cc)]['publish']({'sourceId':this['owner'][_0x236f74(0x336)](),'content':{'action':_0x24cd00['Update'],'priority':_0x2ee481,'stream':this[_0x236f74(0x59b)]}});}[_0x37ac7d(0x9b2)]({trackKinds:_0x3c76bc,params:_0x57bfc9},_0x12fae5){const _0x3e5ed3=_0x37ac7d;if(!this[_0x3e5ed3(0x3cc)])throw new _0x4a800a(_0x4a800a['codes'][_0x3e5ed3(0x6c3)],{'label':this['label'],'ownerId':this[_0x3e5ed3(0x9c1)][_0x3e5ed3(0x336)](),'remoteId':this['remoteId']});for(const _0x924123 of this[_0x3e5ed3(0x59b)][_0x3e5ed3(0x175)]())_0x3c76bc[_0x3e5ed3(0x444)](_0x924123['kind'])&&this[_0x3e5ed3(0x3cc)][_0x3e5ed3(0x10d)]({'sourceId':this[_0x3e5ed3(0x9c1)][_0x3e5ed3(0x336)](),'content':{'action':_0x24cd00['Add'],'track':_0x924123,'stream':this[_0x3e5ed3(0x59b)],'priority':_0x12fae5,'params':this[_0x3e5ed3(0x827)](_0x924123[_0x3e5ed3(0x519)],_0x57bfc9)}});}[_0x37ac7d(0x328)]({params:_0x455084}){const _0x35e791=_0x37ac7d;if(!this['topic'])throw new _0x4a800a(_0x4a800a[_0x35e791(0x7ef)][_0x35e791(0x6c3)],{'label':this[_0x35e791(0x7ee)],'ownerId':this[_0x35e791(0x9c1)][_0x35e791(0x336)](),'remoteId':this['remoteId']});for(const _0x54690e of this['mediaStream'][_0x35e791(0x175)]())this[_0x35e791(0x3cc)][_0x35e791(0x10d)]({'sourceId':this[_0x35e791(0x9c1)][_0x35e791(0x336)](),'content':{'action':_0x24cd00[_0x35e791(0x39d)],'stream':this['mediaStream'],'params':this[_0x35e791(0x827)](_0x54690e[_0x35e791(0x519)],_0x455084)}});}[_0x37ac7d(0x887)]({trackKinds:_0x15648e}){const _0x3a2143=_0x37ac7d;if(this['topic']){for(const _0x4bb098 of this[_0x3a2143(0x59b)]['getTracks']())_0x15648e['includes'](_0x4bb098[_0x3a2143(0x519)])&&this['topic'][_0x3a2143(0x10d)]({'sourceId':this[_0x3a2143(0x9c1)]['getId'](),'content':{'action':_0x24cd00['Remove'],'stream':this[_0x3a2143(0x59b)],'track':_0x4bb098}});}}['registerPublisher'](_0x24d169){const _0x520e41=_0x37ac7d;this[_0x520e41(0x3cc)]=_0x24d169;}[_0x37ac7d(0x3c1)](_0x462243){const _0x4d86c9=_0x37ac7d;_0x462243===this[_0x4d86c9(0x3cc)]&&(delete this[_0x4d86c9(0x3cc)],this[_0x4d86c9(0x620)][_0x4d86c9(0x10d)]());}[_0x37ac7d(0x58b)](_0x32a826){const _0x3276a6=_0x37ac7d;return this[_0x3276a6(0x620)][_0x3276a6(0x9b2)](_0x32a826);}['getTrack'](_0x16bca3){const _0x9a0426=_0x37ac7d;return this[_0x9a0426(0x59b)][_0x9a0426(0x175)]()['find'](_0x1cbcb7=>_0x1cbcb7['kind']===_0x16bca3)||null;}[_0x37ac7d(0x827)](_0x24b9e7,_0x16e22d){const _0x30ba23=_0x37ac7d;let _0x586131;return _0x30ba23(0x260)===_0x24b9e7&&_0x16e22d?.[_0x30ba23(0x260)]&&_0x30ba23(0x1fd)!=typeof _0x16e22d['video']&&(_0x586131={'kind':_0x30ba23(0x260),..._0x16e22d['video']},_0x586131[_0x30ba23(0x1e0)]=this['getResolution']()),'audio'===_0x24b9e7&&_0x16e22d?.['audio']&&_0x30ba23(0x1fd)!=typeof _0x16e22d[_0x30ba23(0x71d)]&&(_0x586131={'kind':_0x30ba23(0x71d),..._0x16e22d[_0x30ba23(0x71d)]}),_0x586131;}[_0x37ac7d(0x229)](){const _0x170ded=_0x37ac7d;let _0x1a7639={'width':0x0,'height':0x0};const _0xcced96=this[_0x170ded(0x59b)][_0x170ded(0x1b4)]();if(_0xcced96[_0x170ded(0x146)]>0x0){const _0x21d831=_0xcced96[0x0]['getSettings']();_0x21d831['width']&&_0x21d831[_0x170ded(0x9ae)]&&(_0x1a7639={'width':_0x21d831[_0x170ded(0x259)],'height':_0x21d831[_0x170ded(0x9ae)]});}return _0x1a7639;}}class _0x11251f extends _0x566dae{[_0x37ac7d(0x6b0)];[_0x37ac7d(0x3fe)]=_0x441722['MediaStreamPriority'][_0x37ac7d(0x2ed)];[_0x37ac7d(0x584)]=new Map();[_0x37ac7d(0x1ba)]=new Map();constructor(_0x595055,_0x46cc23,_0x2eb04a,_0x420291){const _0xeedfb1=_0x37ac7d;super(_0x595055,_0x46cc23,_0x2eb04a instanceof MediaStream?_0x2eb04a:_0x2eb04a['srcObject']?_0x2eb04a[_0xeedfb1(0x64d)]:_0x2eb04a['captureStream']()),this[_0xeedfb1(0x6b0)]=_0x420291,this[_0xeedfb1(0x59b)][_0xeedfb1(0x175)]()[_0xeedfb1(0x97a)](_0x46854c=>this[_0xeedfb1(0x517)](_0x46854c)),_0x52aedf['logServiceEvent'](_0x5ddb4d[_0xeedfb1(0x4b1)],{'type':_0xeedfb1(0x10d),'label':this[_0xeedfb1(0x7ee)],'nodeId':this['owner'][_0xeedfb1(0x336)](),'nodeType':this[_0xeedfb1(0x9c1)][_0xeedfb1(0x623)],'clusterId':this[_0xeedfb1(0x6b0)],'streamId':this[_0xeedfb1(0x729)](),'trackKinds':this['mediaStream'][_0xeedfb1(0x175)]()['map'](_0x54dd00=>_0x54dd00['kind'])});}[_0x37ac7d(0x464)](){const _0x4d4289=_0x37ac7d;this[_0x4d4289(0x1ba)][_0x4d4289(0x1c1)]>0x0&&(this['outgoingStreams'][_0x4d4289(0x97a)](_0xbafe6f=>{_0xbafe6f['unregisterSystemPublisher'](),_0xbafe6f['destroy']();}),this[_0x4d4289(0x1ba)]['clear']()),this['trackEndedListeners'][_0x4d4289(0x97a)](_0x19603d=>_0x19603d()),super[_0x4d4289(0x464)]();}[_0x37ac7d(0x10d)](_0x3a83df){const _0x18369a=_0x37ac7d;this['systemTopic']['publish']({'sourceId':this[_0x18369a(0x9c1)]['getId'](),'destinationIds':_0x3a83df?[_0x3a83df]:void 0x0,'propagate':!0x0,'messageType':_0x403b04[_0x18369a(0x3a0)],'content':{'type':_0x3b90a2['PublishMediaStream'],'ownerId':this[_0x18369a(0x9c1)][_0x18369a(0x336)](),'label':this['label'],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this['mediaStream'][_0x18369a(0x175)]()['map'](_0xea6d73=>_0xea6d73['kind'])}}});}[_0x37ac7d(0x164)](){const _0x462ffd=_0x37ac7d;this[_0x462ffd(0x1b1)]['publish']({'sourceId':this[_0x462ffd(0x9c1)][_0x462ffd(0x336)](),'propagate':!0x0,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2['UnpublishMediaStream'],'ownerId':this[_0x462ffd(0x9c1)][_0x462ffd(0x336)](),'label':this[_0x462ffd(0x7ee)]}}),this[_0x462ffd(0x1b1)][_0x462ffd(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2[_0x462ffd(0x13e)],'label':this[_0x462ffd(0x7ee)]}}),_0x52aedf[_0x462ffd(0x43d)](_0x5ddb4d['MediaStream'],{'type':'unpublish','label':this[_0x462ffd(0x7ee)],'nodeId':this['owner']['getId'](),'nodeType':this[_0x462ffd(0x9c1)]['type'],'clusterId':this['clusterId'],'streamId':this['getInternalStreamId']()});}[_0x37ac7d(0x166)](){const _0x5890b6=_0x37ac7d;return this[_0x5890b6(0x3fe)];}['setPriority'](_0x31336a){const _0x5bf8f9=_0x37ac7d;this['priority']=_0x31336a,this[_0x5bf8f9(0x1ba)][_0x5bf8f9(0x97a)](_0x1b6a73=>_0x1b6a73[_0x5bf8f9(0x9d6)](_0x31336a));}[_0x37ac7d(0x225)](_0xd310d9,_0x320046){const _0x377f67=_0x37ac7d;if(!this[_0x377f67(0x1ba)]['has'](_0xd310d9)){const _0x21e935=new _0x37f3f8(this['owner'],this[_0x377f67(0x7ee)],this[_0x377f67(0x59b)],_0xd310d9,_0x320046),_0x19f02c=_0x21e935['onUnregisterPublisher'](()=>{const _0x43db79=_0x377f67;_0x19f02c(),this[_0x43db79(0x1ba)][_0x43db79(0x7e9)](_0xd310d9)?.[_0x43db79(0x464)](),this[_0x43db79(0x1ba)][_0x43db79(0x6fd)](_0xd310d9);});this[_0x377f67(0x1ba)]['set'](_0xd310d9,_0x21e935),_0x21e935[_0x377f67(0x1b9)](this[_0x377f67(0x1b1)]);}return this[_0x377f67(0x1ba)][_0x377f67(0x7e9)](_0xd310d9);}[_0x37ac7d(0x6bb)](){const _0x9170f7=_0x37ac7d;return this[_0x9170f7(0x59b)]['id'];}[_0x37ac7d(0x950)](_0x593429){const _0x4ddbc0=_0x37ac7d;this[_0x4ddbc0(0x1b1)]['publish']({'sourceId':_0x19393c,'messageType':_0x403b04[_0x4ddbc0(0x3a0)],'content':{'type':_0x3b90a2[_0x4ddbc0(0x6ba)],'label':this['label'],'trackKinds':[_0x593429[_0x4ddbc0(0x519)]]}});}[_0x37ac7d(0x517)](_0x43469d){const _0x48e2d0=_0x37ac7d,_0xb26b9c=()=>this[_0x48e2d0(0x950)](_0x43469d);_0x43469d[_0x48e2d0(0x598)](_0x48e2d0(0xdf),_0xb26b9c),_0x43469d[_0x48e2d0(0x598)](_0x48e2d0(0x3ee),_0xb26b9c),this[_0x48e2d0(0x584)][_0x48e2d0(0x773)](_0x43469d[_0x48e2d0(0x519)],()=>{const _0x5bfc55=_0x48e2d0;_0x43469d[_0x5bfc55(0x8f6)](_0x5bfc55(0xdf),_0xb26b9c),_0x43469d[_0x5bfc55(0x8f6)](_0x5bfc55(0x3ee),_0xb26b9c),this[_0x5bfc55(0x584)]['delete'](_0x43469d['kind']);});}}class _0x5f0c41 extends _0x11251f{['audioContext'];[_0x37ac7d(0x654)]=[];[_0x37ac7d(0x686)];[_0x37ac7d(0x1ad)];['audioDestination'];['sourceVideo'];[_0x37ac7d(0x6a9)];[_0x37ac7d(0x55c)];[_0x37ac7d(0x190)];constructor(_0x541563,_0x4dd8d7,_0x503a8d,_0x56ea60,_0x1d104b,_0x489bd0){const _0xb2040b=_0x37ac7d;if(super(_0x541563,_0x4dd8d7,_0x503a8d,_0x489bd0),this[_0xb2040b(0x4da)]=_0x1d104b,this[_0xb2040b(0x686)]=this[_0xb2040b(0x59b)],this[_0xb2040b(0x8ee)]=document[_0xb2040b(0x6c0)](_0xb2040b(0x260)),this[_0xb2040b(0x8ee)][_0xb2040b(0x7aa)]=!0x0,this[_0xb2040b(0x8ee)][_0xb2040b(0x8cf)]=!0x0,this[_0xb2040b(0x8ee)][_0xb2040b(0x64d)]=this[_0xb2040b(0x686)],this[_0xb2040b(0x8ee)][_0xb2040b(0x5d8)](),this['sourceVideo'][_0xb2040b(0x7de)]=()=>{const _0x2b965f=_0xb2040b;this['sourceVideo'][_0x2b965f(0x638)]();},this[_0xb2040b(0x6a9)]=document[_0xb2040b(0x6c0)]('canvas'),this[_0xb2040b(0x55c)]=this[_0xb2040b(0x6a9)][_0xb2040b(0x42d)]('2d'),this[_0xb2040b(0x59b)]=this['canvas'][_0xb2040b(0x81c)](_0x56ea60),this['audioDestination']=this[_0xb2040b(0x4da)][_0xb2040b(0x8e9)](),this['clientStream'][_0xb2040b(0x397)]()['length']>0x0){const _0x2e0515=this['clientStream'][_0xb2040b(0x397)]()[0x0];this[_0xb2040b(0x1ad)]=this[_0xb2040b(0x4da)][_0xb2040b(0x457)](new MediaStream([_0x2e0515])),this['audioSource'][_0xb2040b(0x191)](this[_0xb2040b(0x376)]);}const _0x3d64fd=this[_0xb2040b(0x376)][_0xb2040b(0x462)][_0xb2040b(0x175)]()[0x0];this['mediaStream'][_0xb2040b(0x152)](_0x3d64fd),this[_0xb2040b(0x190)]=setInterval(()=>{const _0x14ab3f=_0xb2040b;this[_0x14ab3f(0x6a9)][_0x14ab3f(0x259)]=this['sourceVideo'][_0x14ab3f(0x2b8)],this[_0x14ab3f(0x6a9)][_0x14ab3f(0x9ae)]=this[_0x14ab3f(0x8ee)][_0x14ab3f(0x691)],this['sourceVideo'][_0x14ab3f(0x2b8)]?(0x0!==this['clientStream'][_0x14ab3f(0x1b4)]()[_0x14ab3f(0x146)]&&this[_0x14ab3f(0x686)][_0x14ab3f(0x1b4)]()[0x0][_0x14ab3f(0x4d3)]?this[_0x14ab3f(0x59b)][_0x14ab3f(0x1b4)]()[0x0][_0x14ab3f(0x4d3)]=!0x0:this[_0x14ab3f(0x59b)][_0x14ab3f(0x1b4)]()[0x0][_0x14ab3f(0x4d3)]=!0x1,0x0!==this[_0x14ab3f(0x686)][_0x14ab3f(0x397)]()[_0x14ab3f(0x146)]&&this[_0x14ab3f(0x686)][_0x14ab3f(0x397)]()[0x0][_0x14ab3f(0x4d3)]?this['mediaStream'][_0x14ab3f(0x397)]()[0x0]['enabled']=!0x0:this[_0x14ab3f(0x59b)][_0x14ab3f(0x397)]()[0x0][_0x14ab3f(0x4d3)]=!0x1,this[_0x14ab3f(0x55c)][_0x14ab3f(0x9d1)](this[_0x14ab3f(0x8ee)],0x0,0x0)):this['context']['clearRect'](0x0,0x0,this['canvas'][_0x14ab3f(0x259)],this[_0x14ab3f(0x6a9)]['height']);},0x3e8/_0x56ea60);}[_0x37ac7d(0x464)](){const _0x12536f=_0x37ac7d;clearInterval(this[_0x12536f(0x190)]),this[_0x12536f(0x8ee)][_0x12536f(0xce)](),this['canvas'][_0x12536f(0xce)](),this['audioSource']?.[_0x12536f(0x58d)](),this['audioDestination'][_0x12536f(0x58d)](),this['mediaStream'][_0x12536f(0x175)]()[_0x12536f(0x97a)](_0x457cbb=>{const _0x2194e1=_0x12536f;_0x457cbb['stop'](),this['mediaStream'][_0x2194e1(0x8d5)](_0x457cbb);}),super['destroy']();}[_0x37ac7d(0x152)](_0xeabff1){const _0x1f5064=_0x37ac7d,_0x24e405=this[_0x1f5064(0x538)](_0xeabff1[_0x1f5064(0x519)]);_0x24e405&&this[_0x1f5064(0x8d5)](_0x24e405),_0x1f5064(0x71d)!==_0xeabff1[_0x1f5064(0x519)]?('video'===_0xeabff1['kind']&&this[_0x1f5064(0x31c)](_0xeabff1),this['setupTrackEndedListeners'](_0xeabff1)):this['addAudioTrack'](_0xeabff1);}[_0x37ac7d(0x8d5)](_0x221d99){const _0x24d121=_0x37ac7d,_0x5e1b65=this[_0x24d121(0x67b)](_0x221d99);return _0x5e1b65&&(_0x24d121(0x71d)===_0x5e1b65[_0x24d121(0x519)]&&(this[_0x24d121(0x1ad)]?.[_0x24d121(0x58d)](),this[_0x24d121(0x1ad)]=void 0x0),this[_0x24d121(0x584)][_0x24d121(0x7e9)](_0x5e1b65['kind'])?.(),this[_0x24d121(0x686)]['removeTrack'](_0x5e1b65)),_0x5e1b65;}[_0x37ac7d(0x63f)](_0x424c70){const _0x2ad817=_0x37ac7d;this[_0x2ad817(0x8d5)](_0x424c70['kind']),this['addTrack'](_0x424c70);}['setTransformations'](_0x44b28f){const _0x568f1b=_0x37ac7d;this[_0x568f1b(0x654)]=_0x44b28f;}[_0x37ac7d(0x538)](_0x3586c2){const _0x1aec58=_0x37ac7d;return this['clientStream'][_0x1aec58(0x175)]()['find'](_0x4c3dec=>_0x4c3dec[_0x1aec58(0x519)]===_0x3586c2)||null;}['getTrackFromParam'](_0x126597){const _0x33a02d=_0x37ac7d;return _0x33a02d(0x865)==typeof _0x126597?this[_0x33a02d(0x538)](_0x126597):_0x126597;}[_0x37ac7d(0x2ee)](_0x358b7f){const _0x39c1bc=_0x37ac7d;_0x39c1bc(0x80a)===this[_0x39c1bc(0x4da)]['state']&&this[_0x39c1bc(0x4da)][_0x39c1bc(0x616)](),this[_0x39c1bc(0x686)]['addTrack'](_0x358b7f),this[_0x39c1bc(0x1ad)]=this[_0x39c1bc(0x4da)][_0x39c1bc(0x457)](this[_0x39c1bc(0x686)]),this['audioSource'][_0x39c1bc(0x191)](this['audioDestination']);}['addVideoTrack'](_0x5353ff){const _0x14037f=_0x37ac7d;this['clientStream'][_0x14037f(0x152)](_0x5353ff),this[_0x14037f(0x8ee)][_0x14037f(0x5d8)]();}}class _0x4bf351 extends _0x11251f{}class _0x165409 extends _0x15db27{[_0x37ac7d(0x116)];[_0x37ac7d(0x6b0)];[_0x37ac7d(0x7f1)];['transactionService'];[_0x37ac7d(0x5ee)];[_0x37ac7d(0x88d)];[_0x37ac7d(0x16e)];[_0x37ac7d(0x7dc)]=new Map();[_0x37ac7d(0x7b0)]=new Map();[_0x37ac7d(0x922)]=new Map();[_0x37ac7d(0x73d)]=new Map();[_0x37ac7d(0x9c8)]=new Map();[_0x37ac7d(0x1dd)]=new Map();[_0x37ac7d(0x34d)];[_0x37ac7d(0x77f)]=_0x376fa8();[_0x37ac7d(0x26c)]=new Map();[_0x37ac7d(0x7d3)];[_0x37ac7d(0x6e7)]=0x0;[_0x37ac7d(0x5c5)]=0x0;['syncContent']=!0x0;['isSyncing']=!0x0;['filesSynced']=0x0;['nodesConnected']=0x0;constructor(_0x185fac,_0x8ab594,_0x1041c3,_0x19c4ab,_0x38ef68,_0x28e9b2,_0x3f36b0){const _0x4de372=_0x37ac7d;if(_0x4de372(0x865)!=typeof _0x8ab594)throw new _0x3e3c93(_0x5b4e17[_0x4de372(0x745)],_0x4de372(0x601));super(_0x185fac,_0x8ab594),this['localNode']=_0x185fac,this[_0x4de372(0x6b0)]=_0x1041c3,this['vendorId']=_0x19c4ab,this[_0x4de372(0x96f)]=_0x38ef68,this['waitForArrayBufferSize']=_0x3f36b0;const _0x25c213=_0x4de372(0x3dc)+this['vendorId']+_0x4de372(0x3dc)+this[_0x4de372(0x6b0)]+_0x4de372(0x3dc)+_0x8ab594;this[_0x4de372(0x34d)]=new _0x28e9b2(_0x25c213),this['sendStats']();}[_0x37ac7d(0x44e)](){this['sendStats']();}[_0x37ac7d(0x151)](){const _0x11cacf=_0x37ac7d;return _0x441722[_0x11cacf(0x4bf)][_0x11cacf(0x442)];}async[_0x37ac7d(0x83c)](_0x40509f){const _0x43ba5a=_0x37ac7d;void 0x0!==_0x40509f&&(this[_0x43ba5a(0x810)]=_0x40509f),this[_0x43ba5a(0x58c)]=!0x0;try{const _0x1519eb=await this[_0x43ba5a(0x34d)]['get'](_0x32f40c),_0x5ca96b=await _0x1519eb[_0x43ba5a(0x495)]();this[_0x43ba5a(0x16e)]=_0x5ca96b;}catch(_0x13d641){}this[_0x43ba5a(0x88d)]=this[_0x43ba5a(0xd1)](async(_0x3727d6,_0x54eb9a)=>{const _0x507543=_0x43ba5a;if(!(_0x54eb9a instanceof File))try{if(_0x54eb9a['payloadType']===_0x572cef[_0x507543(0x4f9)])return void this[_0x507543(0x646)](_0x54eb9a);this[_0x507543(0x125)](_0x54eb9a);}catch(_0x24425b){if(_0x24425b instanceof _0x4a800a)throw _0x24425b;throw new _0x4a800a(_0x4a800a[_0x507543(0x7ef)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x54eb9a});}}),await this['syncTransactions'](),this[_0x43ba5a(0x810)]?await this[_0x43ba5a(0x863)]():this[_0x43ba5a(0x59d)](),this[_0x43ba5a(0x4ed)]();}[_0x37ac7d(0x464)](){const _0x495e1f=_0x37ac7d;this[_0x495e1f(0x88d)]?.(),this['listenerUnsubscribers']['forEach'](_0x33dca2=>_0x33dca2()),clearTimeout(this[_0x495e1f(0x7d3)]),delete this[_0x495e1f(0x7d3)],super[_0x495e1f(0x464)]();}[_0x37ac7d(0x91a)](){const _0x320d8b=_0x37ac7d;this[_0x320d8b(0x1b1)]?.[_0x320d8b(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x320d8b(0x3a0)],'content':{'type':_0x3b90a2[_0x320d8b(0x378)],'label':this[_0x320d8b(0x7ee)]}});}[_0x37ac7d(0x9b2)](_0x2e98b9,_0x56a941){const _0x8059aa=_0x37ac7d;if(this[_0x8059aa(0x26c)][_0x8059aa(0x158)](_0x2e98b9))throw new _0x3e3c93(_0x5b4e17['ObjectStoreAlreadySubscribed'],_0x8059aa(0x32e));this['listenerUnsubscribers'][_0x8059aa(0x773)](_0x2e98b9,this['eventListener'][_0x8059aa(0x9b2)](_0x56a941)),this['isSyncing']||this[_0x8059aa(0x77f)][_0x8059aa(0x10d)]({'event':_0x441722[_0x8059aa(0x11f)][_0x8059aa(0x6de)],'payload':{'filesSynced':this[_0x8059aa(0x921)]}});}[_0x37ac7d(0x887)](_0x13e5dd){const _0x39ae2d=_0x37ac7d;this[_0x39ae2d(0x26c)]['get'](_0x13e5dd)?.(),this[_0x39ae2d(0x26c)]['delete'](_0x13e5dd);}[_0x37ac7d(0x10d)](_0x5d45ff){const _0x925d51=_0x37ac7d;switch(_0x5d45ff[_0x925d51(0x47b)]){case _0x441722[_0x925d51(0x6bc)][_0x925d51(0x89b)]:return this[_0x925d51(0x174)](_0x5d45ff[_0x925d51(0x8f3)],_0x5d45ff[_0x925d51(0x2bf)],_0x5d45ff['options']);case _0x441722[_0x925d51(0x6bc)]['Folder']:return this[_0x925d51(0x589)](_0x5d45ff[_0x925d51(0x2bf)]);case _0x441722['PayloadAction']['Move']:return this['publishMove'](_0x5d45ff[_0x925d51(0x2bf)],_0x5d45ff[_0x925d51(0x660)]);default:throw new _0x3e3c93(_0x5b4e17[_0x925d51(0x65c)],_0x925d51(0x3ae)+_0x5d45ff);}}async[_0x37ac7d(0x164)](_0x18b3e6){const _0x3c2ba5=_0x37ac7d;try{const _0x490098=(0x0,_0x3e20b1['v4'])(),_0x1997e9=this[_0x3c2ba5(0x16e)],_0x3a2f50={'payloadType':_0x572cef['Transaction'],'action':_0x2820eb[_0x3c2ba5(0x5c9)],'id':_0x490098,'parentId':_0x1997e9,'path':_0x18b3e6};await this[_0x3c2ba5(0x19b)](_0x3a2f50);const _0x3b2715=await this[_0x3c2ba5(0xd7)](_0x18b3e6);await this[_0x3c2ba5(0x726)](_0x3a2f50),_0x52aedf[_0x3c2ba5(0x43d)](_0x5ddb4d[_0x3c2ba5(0x490)],{'type':_0x3c2ba5(0x164),'label':this[_0x3c2ba5(0x7ee)],'nodeId':this['localNode'][_0x3c2ba5(0x336)](),'nodeType':this[_0x3c2ba5(0x116)][_0x3c2ba5(0x623)],'clusterId':this[_0x3c2ba5(0x6b0)],'kind':_0x3b2715,'path':_0x18b3e6}),this[_0x3c2ba5(0x6e7)]+=0x1,this[_0x3c2ba5(0x4ed)]();}catch(_0x4bbb89){if(_0x4bbb89 instanceof _0x4a800a)throw new _0x3e3c93(_0x5b4e17[_0x3c2ba5(0xef)],_0x3c2ba5(0x320)+_0x18b3e6+_0x3c2ba5(0x4fd));throw new _0x3e3c93(_0x5b4e17['ObjectStoreInvalidPath'],'Cannot\x20unpublish\x20object:\x20'+_0x18b3e6);}}async[_0x37ac7d(0x7e9)](_0xcb3e6a,_0x99ba72){const _0x14ddb1=_0x37ac7d;_0x52aedf[_0x14ddb1(0x43d)](_0x5ddb4d[_0x14ddb1(0x490)],{'type':_0x14ddb1(0x7e9),'label':this[_0x14ddb1(0x7ee)],'nodeId':this[_0x14ddb1(0x116)]['getId'](),'nodeType':this[_0x14ddb1(0x116)][_0x14ddb1(0x623)],'clusterId':this[_0x14ddb1(0x6b0)],'path':_0xcb3e6a}),this[_0x14ddb1(0x5c5)]+=0x1,this[_0x14ddb1(0x4ed)]();try{return await this[_0x14ddb1(0x34d)][_0x14ddb1(0x7e9)](_0xcb3e6a,_0x99ba72);}catch(_0x1f62a0){try{await this[_0x14ddb1(0x34d)][_0x14ddb1(0x7e9)](_0xcb3e6a+_0x29aeeb);}catch(_0x7778d8){throw new _0x3e3c93(_0x5b4e17[_0x14ddb1(0x4f6)],_0x14ddb1(0x20d)+_0xcb3e6a);}throw new _0x3e3c93(_0x5b4e17[_0x14ddb1(0xef)],_0x14ddb1(0x268));}}async[_0x37ac7d(0x9b9)](_0x2e920a,_0x10bdbc){const _0x2f0732=_0x37ac7d,{recursive:_0x2e1f84=!0x1,includeSyncingFiles:_0x3fb27f=!0x1}=_0x10bdbc??{};_0x52aedf[_0x2f0732(0x43d)](_0x5ddb4d['ObjectStorage'],{'type':_0x2f0732(0x9b9),'label':this[_0x2f0732(0x7ee)],'nodeId':this['localNode'][_0x2f0732(0x336)](),'nodeType':this[_0x2f0732(0x116)][_0x2f0732(0x623)],'clusterId':this['clusterId'],'path':_0x2e920a}),this[_0x2f0732(0x5c5)]+=0x1,this['sendStats']();try{const _0x4b7d8b=await this['objectStoreConnector'][_0x2f0732(0x9b9)](_0x2e920a,_0x2e1f84);return this[_0x2f0732(0x62d)](_0x4b7d8b,{'recursive':_0x2e1f84,'includeSyncingFiles':_0x3fb27f});}catch(_0x83076){throw new _0x3e3c93(_0x5b4e17[_0x2f0732(0x4f6)],'Cannot\x20list\x20directory:\x20'+_0x2e920a);}}[_0x37ac7d(0x11b)](_0x290088){const _0x521cae=_0x37ac7d;this[_0x521cae(0x2fe)]+=0x1;for(const _0x4d4db7 of this['objectRequests'][_0x521cae(0x5d6)]())this[_0x521cae(0x726)](_0x4d4db7,[_0x290088]);}[_0x37ac7d(0x61b)](_0x355b5b){const _0x17562c=_0x37ac7d;this[_0x17562c(0x2fe)]-=0x1;const _0x642a65=this[_0x17562c(0x922)]['get'](_0x355b5b);if(_0x642a65){for(const [_0xd8ae31,_0x2ed33f]of _0x642a65['values']())this[_0x17562c(0x1a9)](_0xd8ae31,_0x2ed33f);this['pendingFilesSyncing']['delete'](_0x355b5b);}}async['getSize'](_0xe04a29='/'){const _0x53da12=_0x37ac7d;try{return await this[_0x53da12(0x34d)][_0x53da12(0x34b)](_0xe04a29);}catch(_0x1b2bb3){if(_0x1b2bb3 instanceof Error&&_0x1b2bb3[_0x53da12(0x599)][_0x53da12(0x444)](_0x53da12(0x787)))return 0x0;throw new _0x3e3c93(_0x5b4e17[_0x53da12(0x4f6)],'Cannot\x20get\x20size\x20of\x20path:\x20'+_0xe04a29);}}[_0x37ac7d(0x59d)](){const _0x301716=_0x37ac7d;this[_0x301716(0x58c)]&&(this['isSyncing']=!0x1,this['eventListener'][_0x301716(0x10d)]({'event':_0x441722[_0x301716(0x11f)][_0x301716(0x6de)],'payload':{'filesSynced':this[_0x301716(0x921)]}}));}async[_0x37ac7d(0x62d)](_0x240aa6,{includeSyncingFiles:_0x47f18b=!0x1}){const _0x3b4d73=_0x37ac7d,_0x1e4f53=[];for(const _0x2d178d of _0x240aa6)if(_0x2d178d[_0x3b4d73(0x519)]!==_0x441722[_0x3b4d73(0x1b8)][_0x3b4d73(0x960)]){if(_0x2d178d[_0x3b4d73(0x642)]!==_0x32f40c){if(_0x2d178d['name']['endsWith'](_0x29aeeb)){if(!_0x47f18b)continue;const _0x1b22d9=_0x2d178d;if(_0x1b22d9['name']=_0x1b22d9['name'][_0x3b4d73(0x756)](_0x29aeeb,''),_0x1b22d9[_0x3b4d73(0x880)]=_0x1b22d9[_0x3b4d73(0x880)][_0x3b4d73(0x756)](_0x29aeeb,''),await this[_0x3b4d73(0x47e)](_0x1b22d9[_0x3b4d73(0x880)])){_0x240aa6[_0x3b4d73(0x419)](_0x27fb0a=>_0x27fb0a[_0x3b4d73(0x880)]===_0x1b22d9[_0x3b4d73(0x880)])[_0x3b4d73(0x74c)]=_0x441722[_0x3b4d73(0x919)][_0x3b4d73(0x21c)];continue;}_0x1b22d9[_0x3b4d73(0x74c)]=_0x441722[_0x3b4d73(0x919)][_0x3b4d73(0x3b7)];}_0x1e4f53['push'](_0x2d178d);}}else _0x2d178d[_0x3b4d73(0x196)]=await this[_0x3b4d73(0x62d)](_0x2d178d[_0x3b4d73(0x196)]??[],{'includeSyncingFiles':_0x47f18b}),_0x1e4f53['push'](_0x2d178d);return _0x1e4f53;}async[_0x37ac7d(0x174)](_0x20c2ec,_0x2f3a40,_0x555e97){const _0x3171fd=_0x37ac7d;try{const _0x324f9d=(0x0,_0x3e20b1['v4'])(),_0x16f32c=await _0x2aa67d(_0x20c2ec),_0x104753=_0x5544af(_0x2f3a40??'/',_0x20c2ec['name']);let _0x564465=!0x0;const _0x1beb4a={'payloadType':_0x572cef[_0x3171fd(0x8e5)],'action':_0x2820eb[_0x3171fd(0x5dc)],'id':_0x324f9d,'parentId':this[_0x3171fd(0x16e)],'answererId':this['localNode'][_0x3171fd(0x336)](),'name':_0x20c2ec[_0x3171fd(0x642)],'type':_0x20c2ec[_0x3171fd(0x623)],'path':_0x2f3a40??'/','skipEncryption':_0x555e97?.[_0x3171fd(0x501)]??!0x1,'checksum':_0x16f32c};try{const _0x31e92a=_0x104753+_0x29aeeb;await this[_0x3171fd(0x34d)]['get'](_0x31e92a),_0x564465=!0x1,await this[_0x3171fd(0x34d)]['deleteObject'](_0x31e92a),this[_0x3171fd(0x7b0)][_0x3171fd(0x6fd)](_0x104753);}catch(_0x2b2137){await this[_0x3171fd(0x19b)](_0x1beb4a);}if(this['syncContent']?await this['writeFile'](_0x20c2ec,_0x2f3a40,_0x555e97):await this[_0x3171fd(0x847)](_0x20c2ec['name'],_0x2f3a40??'/',{'checksum':_0x16f32c,'skipEncryption':_0x555e97?.[_0x3171fd(0x501)]??!0x1}),this[_0x3171fd(0x1dd)][_0x3171fd(0x158)](_0x104753)){const [_0x30ab9d,_0x3e9b5e]=this[_0x3171fd(0x1dd)][_0x3171fd(0x7e9)](_0x104753);this[_0x3171fd(0x1dd)]['set'](_0x104753,[!0x0,_0x3e9b5e]);try{await _0x3e9b5e;}catch(_0x5969f2){}this[_0x3171fd(0x1dd)]['delete'](_0x104753);}_0x564465&&this['nodesConnected']>0x0&&await this['sendFile'](_0x20c2ec,_0x1beb4a),_0x52aedf[_0x3171fd(0x43d)](_0x5ddb4d[_0x3171fd(0x490)],{'type':_0x3171fd(0x10d),'label':this[_0x3171fd(0x7ee)],'nodeId':this['localNode'][_0x3171fd(0x336)](),'nodeType':this[_0x3171fd(0x116)][_0x3171fd(0x623)],'clusterId':this['clusterId'],'kind':_0x441722[_0x3171fd(0x1b8)][_0x3171fd(0x89b)],'path':_0x2f3a40,'fileName':_0x20c2ec[_0x3171fd(0x642)],'fileType':_0x20c2ec[_0x3171fd(0x623)],'size':_0x20c2ec['size']}),this[_0x3171fd(0x6e7)]+=0x1,this[_0x3171fd(0x4ed)]();}catch(_0x5f3ccc){if(_0x5f3ccc instanceof _0x4a800a)throw new _0x3e3c93(_0x5b4e17[_0x3171fd(0xef)],_0x3171fd(0x268));throw new _0x3e3c93(_0x5b4e17['ObjectStoreInvalidPath'],'Cannot\x20publish\x20file:\x20'+_0x2f3a40+(_0x2f3a40?.[_0x3171fd(0x9af)]('/')?'':'/')+_0x20c2ec[_0x3171fd(0x642)]);}}async['publishFolder'](_0xeaa245){const _0xdab6e3=_0x37ac7d;try{const _0x2623a3=(0x0,_0x3e20b1['v4'])(),_0x228d1e=this['lastTransactionId'],_0x39ab9f={'payloadType':_0x572cef[_0xdab6e3(0x8e5)],'action':_0x2820eb[_0xdab6e3(0x8dd)],'id':_0x2623a3,'parentId':_0x228d1e,'path':_0xeaa245};await this[_0xdab6e3(0x19b)](_0x39ab9f),await this[_0xdab6e3(0x34d)][_0xdab6e3(0x60b)](_0xeaa245),await this[_0xdab6e3(0x726)](_0x39ab9f),_0x52aedf['logServiceEvent'](_0x5ddb4d['ObjectStorage'],{'type':_0xdab6e3(0x10d),'label':this['label'],'nodeId':this['localNode'][_0xdab6e3(0x336)](),'nodeType':this[_0xdab6e3(0x116)][_0xdab6e3(0x623)],'clusterId':this[_0xdab6e3(0x6b0)],'kind':_0x441722[_0xdab6e3(0x1b8)][_0xdab6e3(0x960)],'path':_0xeaa245}),this[_0xdab6e3(0x6e7)]+=0x1,this['sendStats']();}catch(_0x5c9c47){if(_0x5c9c47 instanceof _0x4a800a)throw new _0x3e3c93(_0x5b4e17[_0xdab6e3(0xef)],_0xdab6e3(0x268));throw new _0x3e3c93(_0x5b4e17[_0xdab6e3(0x4f6)],'Cannot\x20publish\x20folder:\x20'+_0xeaa245);}}async[_0x37ac7d(0x826)](_0x130bfd,_0x51b730){const _0x41c6f9=_0x37ac7d;try{const _0x458683=(0x0,_0x3e20b1['v4'])(),_0x50fc36=this[_0x41c6f9(0x16e)],_0x15cdee={'payloadType':_0x572cef[_0x41c6f9(0x8e5)],'action':_0x2820eb[_0x41c6f9(0x2ba)],'id':_0x458683,'parentId':_0x50fc36,'path':_0x130bfd,'newPath':_0x51b730};await this[_0x41c6f9(0x19b)](_0x15cdee);const _0x3159b8=await this['moveObject'](_0x130bfd,_0x51b730);await this[_0x41c6f9(0x726)](_0x15cdee),_0x52aedf['logServiceEvent'](_0x5ddb4d['ObjectStorage'],{'type':_0x41c6f9(0x40b),'label':this['label'],'nodeId':this[_0x41c6f9(0x116)][_0x41c6f9(0x336)](),'nodeType':this[_0x41c6f9(0x116)]['type'],'clusterId':this[_0x41c6f9(0x6b0)],'kind':_0x3159b8,'path':_0x130bfd,'newPath':_0x51b730}),this[_0x41c6f9(0x6e7)]+=0x1,this[_0x41c6f9(0x4ed)]();}catch(_0x2a8075){if(_0x2a8075 instanceof _0x4a800a)throw new _0x3e3c93(_0x5b4e17[_0x41c6f9(0xef)],_0x41c6f9(0x268));throw new _0x3e3c93(_0x5b4e17[_0x41c6f9(0x4f6)],_0x41c6f9(0x3ca)+_0x130bfd);}}async[_0x37ac7d(0x125)](_0x23f039,_0x3af19f=!0x1){const _0x2aefdf=_0x37ac7d;if(this[_0x2aefdf(0x16e)]&&_0x23f039['parentId']!==this[_0x2aefdf(0x16e)]&&_0x23f039['id']!==this['lastTransactionId']){if(!_0x23f039[_0x2aefdf(0x989)])throw new _0x4a800a(_0x4a800a['codes'][_0x2aefdf(0x572)]);this['pendingSyncTransactions'][_0x2aefdf(0x773)](_0x23f039[_0x2aefdf(0x989)],_0x23f039);}else{try{await this['processTransactionPayload'](_0x23f039,_0x3af19f);}catch(_0x373c87){}await this['updateLastTransactionId'](_0x23f039['id']),await this['processPendingSyncTransactions'](_0x23f039['id'],_0x3af19f);}}async['processTransactionPayload'](_0xcb5458,_0x5b61ed=!0x1){const _0x283da0=_0x37ac7d;switch(_0xcb5458[_0x283da0(0x47b)]){case _0x2820eb[_0x283da0(0x5dc)]:await this[_0x283da0(0x67f)](_0xcb5458);break;case _0x2820eb['FolderCreate']:await this['handleFolderCreate'](_0xcb5458);break;case _0x2820eb[_0x283da0(0x2ba)]:await this[_0x283da0(0x7b7)](_0xcb5458,_0x5b61ed);break;case _0x2820eb[_0x283da0(0x5c9)]:await this[_0x283da0(0x20e)](_0xcb5458,_0x5b61ed);break;default:throw new _0x4a800a(_0x4a800a[_0x283da0(0x7ef)]['ObjectStoreInvalidSyncMessage'],{'payload':_0xcb5458});}}async['processPendingSyncTransactions'](_0x3836e9,_0x24c121=!0x1){const _0x33abe5=_0x37ac7d;if(this[_0x33abe5(0x7dc)][_0x33abe5(0x158)](_0x3836e9)){const _0x3ee56c=this[_0x33abe5(0x7dc)][_0x33abe5(0x7e9)](_0x3836e9);this['pendingSyncTransactions'][_0x33abe5(0x6fd)](_0x3836e9),await this[_0x33abe5(0x125)](_0x3ee56c,_0x24c121);}}async[_0x37ac7d(0x646)](_0x512bc4){const _0x418df7=_0x37ac7d;switch(_0x512bc4[_0x418df7(0x47b)]){case _0x2820eb[_0x418df7(0x7a9)]:return this[_0x418df7(0x271)](_0x512bc4);case _0x2820eb[_0x418df7(0x291)]:return this['handleFileRequestAnswer'](_0x512bc4);case _0x2820eb[_0x418df7(0x275)]:return this[_0x418df7(0x11d)](_0x512bc4);case _0x2820eb['RequestFileWrite']:return this[_0x418df7(0x67f)](_0x512bc4);default:throw new _0x4a800a(_0x4a800a['codes']['ObjectStoreInvalidSyncMessage'],{'payload':_0x512bc4});}}async[_0x37ac7d(0x67f)](_0x53c755,_0x497c40=0x0){const _0xd1413=_0x37ac7d,_0x5f161b=_0x5544af(_0x53c755[_0xd1413(0x2bf)],_0x53c755[_0xd1413(0x642)]);if(!_0x53c755[_0xd1413(0x51f)]||void 0x0===_0x53c755[_0xd1413(0x5e8)]||!_0x53c755['total'])return this[_0xd1413(0x97f)][_0xd1413(0x6fd)](_0x5f161b),void await this['createPendingFileWrite'](_0x53c755['name'],_0x53c755[_0xd1413(0x2bf)],{'checksum':_0x53c755[_0xd1413(0x159)],'skipEncryption':_0x53c755['skipEncryption']});if(this[_0xd1413(0x97f)][_0xd1413(0x158)](_0x5f161b)){const _0x44ad57=this['fileChunks'][_0xd1413(0x7e9)](_0x5f161b);_0x44ad57[_0xd1413(0x159)]!==_0x53c755[_0xd1413(0x159)]&&(_0x44ad57['stream']?.[_0xd1413(0x91a)](),this[_0xd1413(0x97f)][_0xd1413(0x6fd)](_0x5f161b));}if(!this[_0xd1413(0x97f)][_0xd1413(0x158)](_0x5f161b)){try{await this[_0xd1413(0x34d)][_0xd1413(0xd7)](_0x5f161b);}catch(_0xd84d68){}try{const _0x33c63a=this[_0xd1413(0x810)]?await this[_0xd1413(0x34d)][_0xd1413(0x50a)](_0x5f161b,{'skipEncryption':_0x53c755[_0xd1413(0x501)]}):void 0x0,_0x98e43d={'chunksReceived':_0x53c755['startIndex']??0x0,'bytesReceived':0x0,'stream':_0x33c63a,'checksum':_0x53c755[_0xd1413(0x159)]};this[_0xd1413(0x97f)][_0xd1413(0x773)](_0x5f161b,_0x98e43d),await this['createPendingFileWrite'](_0x53c755[_0xd1413(0x642)],_0x53c755[_0xd1413(0x2bf)],{'checksum':_0x53c755['checksum'],'skipEncryption':_0x53c755[_0xd1413(0x501)]});}catch(_0x1c2717){}}const _0x196795=this[_0xd1413(0x97f)][_0xd1413(0x7e9)](_0x5f161b);if(_0x53c755['checksum']!==_0x196795[_0xd1413(0x159)])return;if(this[_0xd1413(0x7e3)](_0x53c755,_0x5f161b),this[_0xd1413(0x810)]){if(!_0x196795[_0xd1413(0x462)])throw new _0x4a800a(_0x4a800a[_0xd1413(0x7ef)][_0xd1413(0x572)],{'message':_0xd1413(0x3f2)});let _0x55cd35=_0x196795[_0xd1413(0x44d)];if(_0x53c755[_0xd1413(0x5e8)]!==_0x55cd35){if(_0x55cd35>_0x53c755['index'])return;const _0x596782=2064.1259842519685;if(_0x53c755['index']>_0x55cd35+_0x596782)return;if(_0x196795[_0xd1413(0x3ce)]||(_0x196795[_0xd1413(0x3ce)]=[]),_0x196795[_0xd1413(0x3ce)][_0xd1413(0x146)]>8256.503937007874)throw this[_0xd1413(0x97f)][_0xd1413(0x6fd)](_0x5f161b),new _0x4a800a(_0x4a800a[_0xd1413(0x7ef)][_0xd1413(0x572)],{'message':_0xd1413(0x785)});return void _0x196795['bufferedChunks']['push'](_0x53c755);}try{_0x196795['chunksReceived']+=0x1,_0x196795[_0xd1413(0x66a)]+=_0x53c755['data']['byteLength'],await _0x196795[_0xd1413(0x462)][_0xd1413(0x364)](_0x53c755[_0xd1413(0x51f)]);}catch(_0x467265){if(console[_0xd1413(0x635)](_0xd1413(0x7e5),_0x467265),_0x497c40>0x3)throw this[_0xd1413(0x97f)]['delete'](_0x5f161b),console[_0xd1413(0x635)](_0xd1413(0x2a6),_0x467265),new _0x4a800a(_0x4a800a[_0xd1413(0x7ef)][_0xd1413(0x572)],{'message':_0xd1413(0x2a6)});return this[_0xd1413(0x67f)](_0x53c755,_0x497c40+0x1);}}try{await this['manageBufferedChunks'](_0x196795,_0x53c755[_0xd1413(0x5e8)]+0x1);}catch(_0x5c34b2){throw this[_0xd1413(0x97f)][_0xd1413(0x6fd)](_0x5f161b),_0x5c34b2;}if(this[_0xd1413(0x97f)][_0xd1413(0x773)](_0x5f161b,_0x196795),_0x196795[_0xd1413(0x44d)]<_0x53c755[_0xd1413(0x239)])return;await this['deleteFileChunks'](_0x5f161b),this[_0xd1413(0x810)]&&(await this[_0xd1413(0xdc)](_0x53c755),_0x52aedf[_0xd1413(0x43d)](_0x5ddb4d[_0xd1413(0x490)],{'type':_0xd1413(0x83c),'label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0xd1413(0x116)][_0xd1413(0x623)],'clusterId':this['clusterId'],'kind':_0x441722[_0xd1413(0x1b8)][_0xd1413(0x89b)],'path':_0x53c755[_0xd1413(0x2bf)],'fileName':_0x53c755[_0xd1413(0x642)],'fileType':_0x53c755[_0xd1413(0x623)],'size':_0x196795[_0xd1413(0x66a)]}));const _0x2d5f3e=this[_0xd1413(0x73d)][_0xd1413(0x7e9)](_0x53c755['path'])??[];for(const _0x551efc of _0x2d5f3e)await this[_0xd1413(0x9b0)](_0x551efc);this[_0xd1413(0x73d)][_0xd1413(0x6fd)](_0x53c755[_0xd1413(0x2bf)]),this[_0xd1413(0x77f)][_0xd1413(0x10d)]({'event':_0x441722[_0xd1413(0x11f)][_0xd1413(0x5dc)],'payload':{'file':{'kind':_0x441722['ObjectKind'][_0xd1413(0x89b)],'path':_0x53c755[_0xd1413(0x2bf)],'type':_0x53c755[_0xd1413(0x623)],'size':_0x196795['bytesReceived'],'name':_0x53c755['name'],'pathName':_0x5f161b,'status':this[_0xd1413(0x810)]?_0x441722[_0xd1413(0x919)][_0xd1413(0x7e8)]:_0x441722[_0xd1413(0x919)]['Pending']}}}),this[_0xd1413(0x4ed)]();}async[_0x37ac7d(0x4e4)](_0x117650,_0x162c6a){const _0x2242d0=_0x37ac7d,_0x4edb7e=_0x117650[_0x2242d0(0x462)];let _0x23719a=0x0;for(;_0x117650[_0x2242d0(0x3ce)]&&_0x117650[_0x2242d0(0x3ce)][_0x2242d0(0x146)]>0x0;){const _0x21b066=_0x117650[_0x2242d0(0x3ce)][_0x2242d0(0x419)](_0x364cd3=>_0x364cd3[_0x2242d0(0x5e8)]===_0x162c6a+0x1);if(!_0x21b066)break;_0x117650['bufferedChunks']=_0x117650[_0x2242d0(0x3ce)][_0x2242d0(0x5e3)](_0x367883=>_0x367883['index']!==_0x162c6a+0x1);try{await _0x4edb7e[_0x2242d0(0x364)](_0x21b066[_0x2242d0(0x51f)]),_0x162c6a++;}catch(_0x52c2fb){if(console[_0x2242d0(0x635)](_0x2242d0(0x41d),_0x52c2fb),_0x23719a>0x3)throw console[_0x2242d0(0x635)]('Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream',_0x52c2fb),new _0x4a800a(_0x4a800a['codes'][_0x2242d0(0x572)],{'message':_0x2242d0(0x2f4)});_0x23719a++;continue;}_0x117650[_0x2242d0(0x44d)]+=0x1,_0x117650[_0x2242d0(0x66a)]+=_0x21b066[_0x2242d0(0x51f)]['byteLength'];}}async[_0x37ac7d(0x8db)](_0x22a140){const _0x4d38c8=_0x37ac7d;await this[_0x4d38c8(0x34d)][_0x4d38c8(0x60b)](_0x22a140[_0x4d38c8(0x2bf)]);const [_0x5b7a39,_0x3a49ab]=_0x5e736c(_0x22a140[_0x4d38c8(0x2bf)]);this[_0x4d38c8(0x77f)][_0x4d38c8(0x10d)]({'event':_0x441722['StorageEventType'][_0x4d38c8(0x8dd)],'payload':{'folder':{'kind':_0x441722['ObjectKind'][_0x4d38c8(0x960)],'name':_0x3a49ab,'path':_0x5b7a39,'pathName':_0x22a140[_0x4d38c8(0x2bf)]}}});}async[_0x37ac7d(0x20e)](_0x5d7678,_0x1d13e=!0x1){const _0x1986d7=_0x37ac7d;if(!_0x1d13e&&!this['shouldProcessTransaction'](_0x5d7678))return;const _0x4f34b0=await this[_0x1986d7(0xd7)](_0x5d7678[_0x1986d7(0x2bf)]),[_0x44050b,_0x4e20d5]=_0x5e736c(_0x5d7678[_0x1986d7(0x2bf)]);this[_0x1986d7(0x77f)][_0x1986d7(0x10d)]({'event':_0x4f34b0===_0x441722[_0x1986d7(0x1b8)][_0x1986d7(0x960)]?_0x441722[_0x1986d7(0x11f)][_0x1986d7(0x40d)]:_0x441722[_0x1986d7(0x11f)][_0x1986d7(0x5cc)],'payload':{'name':_0x4e20d5,'path':_0x44050b,'pathName':_0x5d7678[_0x1986d7(0x2bf)]}}),this[_0x1986d7(0x4ed)]();}async[_0x37ac7d(0x7b7)](_0x54061c,_0x48b49d=!0x1){const _0x43c067=_0x37ac7d;if(!_0x48b49d&&!this[_0x43c067(0x6f0)](_0x54061c))return this['pendingFilesRename'][_0x43c067(0x773)](_0x54061c[_0x43c067(0x660)],this[_0x43c067(0x9c8)]['get'](_0x54061c[_0x43c067(0x2bf)])??_0x54061c[_0x43c067(0x2bf)]),void this[_0x43c067(0x9c8)]['delete'](_0x54061c[_0x43c067(0x2bf)]);this[_0x43c067(0x9c8)][_0x43c067(0x6fd)](_0x54061c['path']);const _0x1cd253=await this[_0x43c067(0x34d)]['moveObject'](_0x54061c['path'],_0x54061c[_0x43c067(0x660)]),[_0x47d610,_0x5556e0]=_0x5e736c(_0x54061c[_0x43c067(0x2bf)]),[_0x1fb90d,_0x5f0179]=_0x5e736c(_0x54061c[_0x43c067(0x660)]);this[_0x43c067(0x77f)][_0x43c067(0x10d)]({'event':_0x1cd253===_0x441722[_0x43c067(0x1b8)][_0x43c067(0x960)]?_0x441722[_0x43c067(0x11f)][_0x43c067(0x34f)]:_0x441722[_0x43c067(0x11f)]['FileMove'],'payload':{'name':_0x5f0179,'path':_0x1fb90d,'pathName':_0x54061c['newPath'],'oldName':_0x5556e0,'oldPath':_0x47d610,'oldPathName':_0x54061c['path']}}),this[_0x43c067(0x4ed)]();}[_0x37ac7d(0x6f0)](_0x599ad9){const _0x151124=_0x37ac7d,_0x25849e=this[_0x151124(0x9c8)][_0x151124(0x7e9)](_0x599ad9[_0x151124(0x2bf)])??_0x599ad9[_0x151124(0x2bf)];let _0x10ad9c=!0x1;for(const _0x39fb1c of this['fileChunks'][_0x151124(0x6cd)]())if(_0x39fb1c[_0x151124(0x475)](_0x25849e)){const _0x988f12=this[_0x151124(0x73d)]['get'](_0x39fb1c)??[];_0x988f12[_0x151124(0x7b5)](_0x599ad9),this['pendingFilesTransactions'][_0x151124(0x773)](_0x39fb1c,_0x988f12),_0x10ad9c=!0x0;}return!_0x10ad9c;}async[_0x37ac7d(0x19b)](_0x348e0d){const _0x51176b=_0x37ac7d;if(!_0x348e0d['id'])throw new _0x4a800a(_0x4a800a[_0x51176b(0x7ef)]['ObjectStoreInvalidSyncMessage'],{'message':'Missing\x20transaction\x20id'});if(_0x348e0d[_0x51176b(0x989)]!==this[_0x51176b(0x16e)])throw new _0x4a800a(_0x4a800a[_0x51176b(0x7ef)]['ObjectStoreNotSynced']);await this[_0x51176b(0x96f)][_0x51176b(0x63b)](_0x348e0d,this['label']),await this['updateLastTransactionId'](_0x348e0d['id']);}async['updateLastTransactionId'](_0x4c77f6){const _0x5eeec0=_0x37ac7d;this[_0x5eeec0(0x16e)]=_0x4c77f6;const _0x2b0a0e=new File([new Blob([this['lastTransactionId']])],_0x32f40c,{'type':_0x5eeec0(0x708)});await this[_0x5eeec0(0x4fe)](_0x2b0a0e,'/');}async[_0x37ac7d(0x271)](_0x39ccdd){const _0x3b8293=_0x37ac7d;try{const _0x45e99f=await this[_0x3b8293(0x7e9)](_0x39ccdd['path']+'/'+_0x39ccdd[_0x3b8293(0x642)],{'skipEncryption':_0x39ccdd[_0x3b8293(0x501)]}),_0x147f25=await _0x2aa67d(_0x45e99f);if(''!==_0x39ccdd[_0x3b8293(0x159)]&&_0x147f25!==_0x39ccdd['checksum'])return;_0x39ccdd[_0x3b8293(0x17c)]=this['localNode'][_0x3b8293(0x336)](),_0x39ccdd[_0x3b8293(0x47b)]=_0x2820eb[_0x3b8293(0x291)],await this['send'](_0x39ccdd,[_0x39ccdd[_0x3b8293(0x2ea)]]);}catch(_0x5d69ce){}}async['handleFileRequestAnswer'](_0xaf0147){const _0x2e99dd=_0x37ac7d,_0x4208d6=_0x5544af(_0xaf0147['path'],_0xaf0147[_0x2e99dd(0x642)]);if(!this[_0x2e99dd(0x7b0)][_0x2e99dd(0x158)](_0x4208d6))return;const _0x36d019=this['objectRequests']['get'](_0x4208d6);_0x36d019['action']=_0x2820eb[_0x2e99dd(0x275)];const _0x37ddac=_0xaf0147[_0x2e99dd(0x17c)];if(!_0x37ddac)throw new _0x4a800a(_0x4a800a[_0x2e99dd(0x7ef)][_0x2e99dd(0x572)],{'message':_0x2e99dd(0x2d1)});if(this[_0x2e99dd(0x7b0)]['delete'](_0x4208d6),this['pendingFilesSyncing']['has'](_0x37ddac)||this[_0x2e99dd(0x922)][_0x2e99dd(0x773)](_0x37ddac,new Map()),this[_0x2e99dd(0x922)][_0x2e99dd(0x7e9)](_0x37ddac)[_0x2e99dd(0x773)](_0x4208d6,[_0x36d019,this[_0x2e99dd(0x1d4)](_0x37ddac,_0x4208d6)]),_0x36d019['answererId']=_0x37ddac,_0x36d019[_0x2e99dd(0x974)]=this[_0x2e99dd(0x97f)][_0x2e99dd(0x7e9)](_0x4208d6)?.[_0x2e99dd(0x44d)]??0x0,0x0===_0x36d019[_0x2e99dd(0x974)])try{const [_0x122dc7,_0x416836]=await this[_0x2e99dd(0x3a4)](_0xaf0147[_0x2e99dd(0x642)],_0xaf0147[_0x2e99dd(0x2bf)],_0xaf0147[_0x2e99dd(0x159)]);_0x122dc7&&(_0x36d019['startIndex']=_0x416836);}catch(_0x5eaa8f){}this[_0x2e99dd(0x726)](_0x36d019,[_0x37ddac]);}async[_0x37ac7d(0x11d)](_0x1f9dd6){const _0x56c988=_0x37ac7d,_0x473a86=_0x5544af(_0x1f9dd6[_0x56c988(0x2bf)],_0x1f9dd6[_0x56c988(0x642)]),_0x38ea27=await this['get'](_0x473a86,{'skipEncryption':_0x1f9dd6[_0x56c988(0x501)]}),_0x24f3cd={..._0x1f9dd6,'answererId':this[_0x56c988(0x116)]['getId'](),'action':_0x2820eb[_0x56c988(0x553)],'startIndex':_0x1f9dd6['startIndex']??0x0};await this['sendFile'](_0x38ea27,_0x24f3cd,[_0x1f9dd6[_0x56c988(0x2ea)]]);}async[_0x37ac7d(0x1b0)](_0x4a9031,_0x14389a,_0xab9f1d){let _0x2f4ced,_0x4c2ab4;const _0x3b327f=new Promise(async(_0x23dc3a,_0x9fe861)=>{_0x2f4ced=_0x23dc3a,_0x4c2ab4=_0x9fe861;});return((async()=>{const _0xe3114e=a0_0xbe57,_0x288cd4=Math[_0xe3114e(0x609)](_0x4a9031[_0xe3114e(0x1c1)]/_0x44909b);let _0x2162fc=_0x14389a[_0xe3114e(0x974)]??0x0;const _0x396d23=_0x5544af(_0x14389a['path'],_0x14389a[_0xe3114e(0x642)]);this[_0xe3114e(0x1dd)][_0xe3114e(0x773)](_0x396d23,[!0x1,_0x3b327f]);for await(const _0x2f4b39 of async function*(_0x134985,_0x436a12=0x0,_0x1734bf){for await(const _0xd0d16b of _0xc4eae0(_0x134985,_0x436a12,_0x1734bf))yield _0xd0d16b;}(_0x4a9031,_0x2162fc,this[_0xe3114e(0x5ee)])){const [_0x1d9e72]=this[_0xe3114e(0x1dd)][_0xe3114e(0x7e9)](_0x396d23)??[];if(_0x1d9e72)return this[_0xe3114e(0x1dd)][_0xe3114e(0x6fd)](_0x396d23),void _0x4c2ab4(new Error(_0xe3114e(0x1b6)));if(this[_0xe3114e(0x73d)][_0xe3114e(0x158)](_0x396d23)){const _0x3547d4=this[_0xe3114e(0x73d)][_0xe3114e(0x7e9)](_0x396d23);for(const _0x662cb1 of _0x3547d4)if(_0x662cb1[_0xe3114e(0x47b)]===_0x2820eb[_0xe3114e(0x5dc)]||_0x662cb1[_0xe3114e(0x47b)]===_0x2820eb[_0xe3114e(0x5c9)])return;}const _0xc4e718={..._0x14389a,'type':_0x4a9031[_0xe3114e(0x623)],'data':_0x2f4b39,'index':_0x2162fc,'total':_0x288cd4};this[_0xe3114e(0x726)](_0xc4e718,_0xab9f1d),_0x2162fc++;}const _0xe78de3=setInterval(async()=>{const _0x2fdd23=_0xe3114e;await this[_0x2fdd23(0x5ee)]()>0x0||(clearInterval(_0xe78de3),_0x2f4ced());});this[_0xe3114e(0x1dd)]['delete'](_0x396d23);})()),_0x3b327f;}async['deletePendingFile'](_0x940986){const _0x2b598e=_0x37ac7d;try{const _0x464815=_0x5544af(_0x940986[_0x2b598e(0x2bf)],_0x940986[_0x2b598e(0x642)]),_0x4ac0f1=_0x464815+_0x29aeeb;await this[_0x2b598e(0xd7)](_0x4ac0f1);const [,_0x8adacd]=this[_0x2b598e(0x922)][_0x2b598e(0x7e9)](_0x940986[_0x2b598e(0x17c)])?.[_0x2b598e(0x7e9)](_0x464815)??[];_0x8adacd&&(clearTimeout(_0x8adacd),this['pendingFilesSyncing'][_0x2b598e(0x7e9)](_0x940986[_0x2b598e(0x17c)])[_0x2b598e(0x6fd)](_0x464815));}catch(_0x41de6f){}0x0===this[_0x2b598e(0x922)][_0x2b598e(0x7e9)](_0x940986['answererId'])?.['size']&&this['pendingFilesSyncing'][_0x2b598e(0x6fd)](_0x940986['answererId']),0x0===this['pendingFilesSyncing']['size']&&0x0===this[_0x2b598e(0x7b0)][_0x2b598e(0x1c1)]&&this['completeSync']();}async['syncTransactions'](){const _0x15e029=_0x37ac7d;try{const _0x508b08=await this[_0x15e029(0x96f)][_0x15e029(0x5a4)](this[_0x15e029(0x7ee)],this[_0x15e029(0x16e)]);for(const _0xe8328d of _0x508b08)await this[_0x15e029(0x125)](_0xe8328d,!0x0);}catch(_0x3fba0d){if(_0x3fba0d instanceof _0x4a800a&&_0x3fba0d[_0x15e029(0x417)]===_0x4a800a['codes'][_0x15e029(0x1f0)]){await this[_0x15e029(0x34d)][_0x15e029(0xd7)](_0x32f40c),delete this['lastTransactionId'];try{const _0x50a035=await this[_0x15e029(0x34d)][_0x15e029(0x9b9)]('/',!0x1);for(const _0x27d831 of _0x50a035)await this[_0x15e029(0x34d)][_0x15e029(0xd7)](_0x27d831[_0x15e029(0x880)]);}catch(_0x30ec52){}return await this[_0x15e029(0x4ae)]();}throw _0x3fba0d;}}async[_0x37ac7d(0x863)](){const _0x1b9844=_0x37ac7d,_0x2e1c9f=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x406eaa=async _0x17e408=>{const _0xd370e4=a0_0xbe57;for(const _0x508fc2 of _0x17e408){if(_0x508fc2[_0xd370e4(0x519)]===_0x441722[_0xd370e4(0x1b8)][_0xd370e4(0x960)]){_0x508fc2[_0xd370e4(0x196)]&&_0x508fc2[_0xd370e4(0x196)]['length']>0x0&&await _0x406eaa(_0x508fc2['entries']);continue;}if(_0x508fc2[_0xd370e4(0x74c)]!==_0x441722['FileStatus'][_0xd370e4(0x3b7)])continue;const _0x408626=await this[_0xd370e4(0x7e9)](_0x508fc2[_0xd370e4(0x880)]+_0x29aeeb),_0x2950de=JSON['parse'](await _0x408626[_0xd370e4(0x495)]()),_0x51df69=_0x508fc2[_0xd370e4(0x642)][_0xd370e4(0x756)](_0x29aeeb,''),_0x57bff8={'payloadType':_0x572cef['Request'],'action':_0x2820eb[_0xd370e4(0x7a9)],'sourceId':this[_0xd370e4(0x116)][_0xd370e4(0x336)](),'type':'','path':_0x508fc2[_0xd370e4(0x2bf)],'name':_0x51df69,'checksum':_0x2950de[_0xd370e4(0x159)],'skipEncryption':_0x2950de[_0xd370e4(0x501)]},_0x2f2f66=_0x5544af(_0x508fc2[_0xd370e4(0x2bf)],_0x51df69);this[_0xd370e4(0x7b0)]['set'](_0x2f2f66,_0x57bff8);}};await _0x406eaa(_0x2e1c9f),0x0===this[_0x1b9844(0x7b0)][_0x1b9844(0x1c1)]&&0x0===this[_0x1b9844(0x922)][_0x1b9844(0x1c1)]&&this[_0x1b9844(0x59d)]();}async['createPendingFileWrite'](_0x35a154,_0x3e7f2c,_0x4e60a7){const _0x1d4a4b=_0x37ac7d,_0x3bb63b=new File([new Blob([JSON[_0x1d4a4b(0x343)](_0x4e60a7)])],''+_0x35a154+_0x29aeeb,{'type':_0x1d4a4b(0x708)});await this[_0x1d4a4b(0x4fe)](_0x3bb63b,_0x3e7f2c);}async[_0x37ac7d(0x3a4)](_0x191541,_0x35f01b,_0x4f39e6){const _0x4733c3=_0x37ac7d;try{const _0x1835bf=_0x5544af(_0x35f01b,_0x191541),_0x2279f4=_0x1835bf+_0x29aeeb,_0x198adb=await this['objectStoreConnector'][_0x4733c3(0x7e9)](_0x2279f4),{checksum:_0x3da4df,skipEncryption:_0x2c861f}=JSON[_0x4733c3(0x4db)](await _0x198adb[_0x4733c3(0x495)]()),_0x20b240=(await this[_0x4733c3(0x34d)][_0x4733c3(0x7e9)](_0x1835bf,{'skipEncryption':_0x2c861f}))[_0x4733c3(0x1c1)];return _0x3da4df===_0x4f39e6&&_0x20b240%_0x44909b==0x0?[!0x0,Math[_0x4733c3(0x768)](_0x20b240/_0x44909b)]:(await this[_0x4733c3(0x34d)]['deleteObject'](_0x1835bf),[!0x1,0x0]);}catch(_0x11242b){return[!0x1,0x0];}}[_0x37ac7d(0x1d4)](_0x39cbac,_0x4a03c2){const _0x2bb301=_0x37ac7d,[_0xbb03fb,_0x4fa1e3]=this[_0x2bb301(0x922)]['get'](_0x39cbac)?.['get'](_0x4a03c2)??[];return _0x4fa1e3&&clearTimeout(_0x4fa1e3),setTimeout(()=>{const _0x19f8a2=_0x2bb301,[_0x547f40,_0x29ba57]=this[_0x19f8a2(0x922)][_0x19f8a2(0x7e9)](_0x39cbac)['get'](_0x4a03c2);this[_0x19f8a2(0x1a9)](_0x547f40,_0x29ba57);},0x927c0);}async['sendFileRequestPayload'](_0x58faca,_0x2c06b1){const _0x47b37a=_0x37ac7d;clearTimeout(_0x2c06b1),_0x58faca['action']=_0x2820eb[_0x47b37a(0x7a9)],this[_0x47b37a(0x7b0)]['set'](_0x5544af(_0x58faca['path'],_0x58faca[_0x47b37a(0x642)]),_0x58faca),this['send'](_0x58faca);}[_0x37ac7d(0x7e3)](_0x2aeee4,_0x1e0d35){const _0x2fc3b1=_0x37ac7d;if(!this[_0x2fc3b1(0x810)])return;this[_0x2fc3b1(0x922)][_0x2fc3b1(0x158)](_0x2aeee4[_0x2fc3b1(0x17c)])||this['pendingFilesSyncing'][_0x2fc3b1(0x773)](_0x2aeee4['answererId'],new Map());const [_0xa3ad48]=this[_0x2fc3b1(0x922)][_0x2fc3b1(0x7e9)](_0x2aeee4[_0x2fc3b1(0x17c)])[_0x2fc3b1(0x7e9)](_0x1e0d35)??[{'payloadType':_0x572cef['Request'],'action':_0x2820eb[_0x2fc3b1(0x7a9)],'sourceId':this['localNode'][_0x2fc3b1(0x336)](),'type':_0x2aeee4[_0x2fc3b1(0x623)],'name':_0x2aeee4['name'],'path':_0x2aeee4[_0x2fc3b1(0x2bf)],'skipEncryption':_0x2aeee4['skipEncryption'],'checksum':_0x2aeee4[_0x2fc3b1(0x159)],'answererId':_0x2aeee4[_0x2fc3b1(0x17c)]}];this[_0x2fc3b1(0x922)][_0x2fc3b1(0x7e9)](_0x2aeee4[_0x2fc3b1(0x17c)])[_0x2fc3b1(0x773)](_0x1e0d35,[_0xa3ad48,this['getOrResetPendingFileTimeout'](_0x2aeee4['answererId'],_0x1e0d35)]);}async[_0x37ac7d(0x4fe)](_0x3ed2ec,_0x56c696,_0x36630d){const _0x13e189=_0x37ac7d;this[_0x13e189(0x58c)]&&(this[_0x13e189(0x921)]+=0x1),await this[_0x13e189(0x34d)]['writeFile'](_0x3ed2ec,_0x56c696,_0x36630d);}async[_0x37ac7d(0xd7)](_0x2980a7){const _0x4550fb=_0x37ac7d;try{const _0xb63766=await this[_0x4550fb(0x34d)]['deleteObject'](_0x2980a7);if(!_0x2980a7[_0x4550fb(0x9af)](_0x29aeeb))try{await this['objectStoreConnector'][_0x4550fb(0xd7)](_0x2980a7+_0x29aeeb);}catch(_0xe5ea1f){}return this['isSyncing']&&_0xb63766===_0x441722[_0x4550fb(0x1b8)][_0x4550fb(0x89b)]&&(this[_0x4550fb(0x921)]+=0x1),_0xb63766;}catch(_0x2ac11b){return await this[_0x4550fb(0x34d)][_0x4550fb(0xd7)](_0x2980a7+_0x29aeeb);}}async[_0x37ac7d(0x837)](_0xb2febb,_0x25d83c){const _0x7a860c=_0x37ac7d;try{const _0x245dc8=await this['objectStoreConnector']['moveObject'](_0xb2febb,_0x25d83c);if(!_0xb2febb[_0x7a860c(0x9af)](_0x29aeeb))try{await this[_0x7a860c(0x34d)][_0x7a860c(0x837)](_0xb2febb+_0x29aeeb,_0x25d83c+_0x29aeeb);}catch(_0x419c92){}return _0x245dc8;}catch(_0x26f0e5){return await this['objectStoreConnector'][_0x7a860c(0x837)](_0xb2febb+_0x29aeeb,_0x25d83c+_0x29aeeb);}}[_0x37ac7d(0x4ed)](){this['debounceStats']&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x28e5b9=a0_0xbe57;delete this['debounceStats'];const _0x5f3b77=await this[_0x28e5b9(0x34d)][_0x28e5b9(0x34b)]('/');this[_0x28e5b9(0x1b1)]?.['publish']({'sourceId':_0x19393c,'messageType':_0x403b04[_0x28e5b9(0x3a0)],'content':{'type':_0x3b90a2[_0x28e5b9(0x385)],'label':this[_0x28e5b9(0x7ee)],'stats':{'timestamp':Date[_0x28e5b9(0x90d)](),'storage':_0x5f3b77,'messagesSent':this[_0x28e5b9(0x187)],'messagesReceived':this[_0x28e5b9(0x6a2)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x28e5b9(0x66a)],'writes':this[_0x28e5b9(0x6e7)],'reads':this[_0x28e5b9(0x5c5)],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x52aedf[_0x28e5b9(0x352)](_0x5ddb4d['ObjectStorage'],_0x28e5b9(0x3dc)+this[_0x28e5b9(0x6b0)]+_0x28e5b9(0x3dc)+this[_0x28e5b9(0x7ee)],_0x5f3b77);},_0x3d132a);}async[_0x37ac7d(0x47e)](_0x5ea6e2){const _0x462fb3=_0x37ac7d;try{return await this[_0x462fb3(0x7e9)](_0x5ea6e2),!0x0;}catch(_0x438c67){return!0x1;}}async['deleteFileChunks'](_0x5b33d0){const _0x3f9ff5=_0x37ac7d;if(!this[_0x3f9ff5(0x97f)][_0x3f9ff5(0x158)](_0x5b33d0))return;const _0x156b5c=this[_0x3f9ff5(0x97f)]['get'](_0x5b33d0);if(_0x156b5c[_0x3f9ff5(0x462)])try{await _0x156b5c['stream']['close']();}catch(_0xcff3bd){console[_0x3f9ff5(0x635)](_0x3f9ff5(0x264),_0xcff3bd);}this[_0x3f9ff5(0x97f)][_0x3f9ff5(0x6fd)](_0x5b33d0);}}class _0x3af346 extends _0x15db27{[_0x37ac7d(0x116)];[_0x37ac7d(0x6b0)];[_0x37ac7d(0x88d)]=new Map();['debounceStats'];constructor(_0x2cf30a,_0x4c21fe,_0x30a9e2){const _0x12db87=_0x37ac7d;if('string'!=typeof _0x4c21fe)throw new _0x3e3c93(_0x5b4e17['PubSubTopicNameNotString'],_0x12db87(0x675));super(_0x2cf30a,_0x4c21fe),this['localNode']=_0x2cf30a,this[_0x12db87(0x6b0)]=_0x30a9e2,this['sendStats']();}[_0x37ac7d(0x44e)](){this['sendStats']();}[_0x37ac7d(0x151)](){const _0x3ec88c=_0x37ac7d;return _0x441722[_0x3ec88c(0x4bf)][_0x3ec88c(0x698)];}[_0x37ac7d(0x10d)](_0x19725e,_0x73aeb7){const _0x3a852e=_0x37ac7d;_0x52aedf[_0x3a852e(0x857)](_0xdea279['PubSub'],_0x3a852e(0x8b9),this[_0x3a852e(0x116)][_0x3a852e(0x336)](),_0x19725e,_0x73aeb7),_0x52aedf[_0x3a852e(0x43d)](_0x5ddb4d['PubSub'],{'type':_0x3a852e(0x10d),'label':this[_0x3a852e(0x7ee)],'nodeId':this[_0x3a852e(0x116)]['getId'](),'nodeType':this['localNode'][_0x3a852e(0x623)],'clusterId':this[_0x3a852e(0x6b0)],'remoteIds':_0x73aeb7??[],'contentType':_0x19725e instanceof File?_0x441722[_0x3a852e(0x4bf)][_0x3a852e(0x89b)]:_0x441722[_0x3a852e(0x4bf)][_0x3a852e(0x5e0)],'size':_0x19725e instanceof File?_0x19725e['size']:JSON[_0x3a852e(0x343)](_0x19725e)[_0x3a852e(0x146)]}),this[_0x3a852e(0x4ed)](),this[_0x3a852e(0x726)](_0x19725e,_0x73aeb7);}[_0x37ac7d(0x9b2)](_0x37b748,_0x5bb969){const _0x45db87=_0x37ac7d;if(this[_0x45db87(0x88d)][_0x45db87(0x158)](_0x37b748))throw new _0x3e3c93(_0x5b4e17[_0x45db87(0x1be)],_0x45db87(0x27b));this[_0x45db87(0x88d)]['set'](_0x37b748,this[_0x45db87(0xd1)]((_0x576d02,_0x17d24d)=>{const _0x3ae790=_0x45db87;_0x3ae790(0x51f)===_0x37b748&&_0x17d24d instanceof File||!(_0x3ae790(0x8f3)!==_0x37b748||_0x17d24d instanceof File)||(_0x52aedf[_0x3ae790(0x857)](_0xdea279[_0x3ae790(0x698)],_0x3ae790(0x76d),this[_0x3ae790(0x116)]['getId'](),_0x576d02,_0x17d24d),_0x52aedf[_0x3ae790(0x43d)](_0x5ddb4d[_0x3ae790(0x698)],{'type':_0x3ae790(0x9b2),'label':this[_0x3ae790(0x7ee)],'nodeId':this[_0x3ae790(0x116)]['getId'](),'nodeType':this[_0x3ae790(0x116)][_0x3ae790(0x623)],'clusterId':this['clusterId'],'remoteId':_0x576d02,'contentType':_0x37b748,'size':_0x17d24d instanceof File?_0x17d24d[_0x3ae790(0x1c1)]:JSON[_0x3ae790(0x343)](_0x17d24d)[_0x3ae790(0x146)]}),this[_0x3ae790(0x4ed)](),_0x5bb969(_0x576d02,_0x17d24d));}));}['unsubscribe'](_0x2b5c34){const _0x553c4b=_0x37ac7d;this[_0x553c4b(0x88d)][_0x553c4b(0x7e9)](_0x2b5c34)?.(),this[_0x553c4b(0x88d)][_0x553c4b(0x6fd)](_0x2b5c34);}[_0x37ac7d(0x464)](){const _0x5c8b17=_0x37ac7d;this[_0x5c8b17(0x88d)][_0x5c8b17(0x97a)](_0x578f71=>_0x578f71()),clearTimeout(this[_0x5c8b17(0x7d3)]),delete this[_0x5c8b17(0x7d3)],super[_0x5c8b17(0x464)]();}[_0x37ac7d(0x91a)](){const _0x29a665=_0x37ac7d;this[_0x29a665(0x1b1)]?.[_0x29a665(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x29a665(0x3a0)],'content':{'type':_0x3b90a2[_0x29a665(0x6c8)],'label':this[_0x29a665(0x7ee)]}});}[_0x37ac7d(0x4ed)](){const _0x231bdf=_0x37ac7d;this[_0x231bdf(0x7d3)]&&clearTimeout(this[_0x231bdf(0x7d3)]),this[_0x231bdf(0x7d3)]=setTimeout(()=>{const _0x52537e=_0x231bdf;this[_0x52537e(0x1b1)]?.[_0x52537e(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x52537e(0x3a0)],'content':{'type':_0x3b90a2[_0x52537e(0x8af)],'label':this[_0x52537e(0x7ee)],'stats':{'timestamp':Date[_0x52537e(0x90d)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x52537e(0x6a2)],'bytesSent':this[_0x52537e(0x90a)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x3d132a);}}class _0x2c5a7f extends _0x566dae{[_0x37ac7d(0x116)];[_0x37ac7d(0x2c6)];[_0x37ac7d(0x8fb)];[_0x37ac7d(0x6b0)];['unsubscribeHandler'];[_0x37ac7d(0x2d7)];[_0x37ac7d(0x498)];[_0x37ac7d(0x1ba)]=new Map();[_0x37ac7d(0x93a)];['subscribedTracks']=new Set();['providerId'];[_0x37ac7d(0x581)]=_0x376fa8();['trackEndedListeners']=new Map();constructor(_0x557521,_0x22c031,_0x45e8c2,_0xb3de4f,_0x4e92c6,_0xb93af6){const _0xe350b6=_0x37ac7d;super(_0x22c031,_0x45e8c2,new MediaStream()),this[_0xe350b6(0x116)]=_0x557521,this['internalId']=_0xb3de4f,this[_0xe350b6(0x8fb)]=_0x4e92c6,this[_0xe350b6(0x6b0)]=_0xb93af6,this[_0xe350b6(0x59b)][_0xe350b6(0x175)]()['forEach'](_0x5a9952=>this[_0xe350b6(0x517)](_0x5a9952));}[_0x37ac7d(0x464)](){const _0x4b6b33=_0x37ac7d;this['outgoingStreams'][_0x4b6b33(0x1c1)]>0x0&&(this['outgoingStreams'][_0x4b6b33(0x97a)](_0x4e8dc1=>{const _0xc1c35f=_0x4b6b33;_0x4e8dc1[_0xc1c35f(0x84a)](),_0x4e8dc1[_0xc1c35f(0x464)]();}),this[_0x4b6b33(0x1ba)]['clear']()),this[_0x4b6b33(0x584)][_0x4b6b33(0x97a)](_0x107084=>_0x107084()),this[_0x4b6b33(0x59b)]['getTracks']()[_0x4b6b33(0x97a)](_0x157125=>this['mediaStream']['removeTrack'](_0x157125)),this['updateDebounce']&&(clearTimeout(this['updateDebounce']),delete this[_0x4b6b33(0x498)]),this[_0x4b6b33(0x2d7)]?.(),super[_0x4b6b33(0x464)]();}[_0x37ac7d(0x8b7)](_0x518c6b){this['unsubscribeHandler']=_0x518c6b['subscribe'](({content:_0x1fc2f7})=>{const _0x2185fc=a0_0xbe57;switch(_0x1fc2f7[_0x2185fc(0x47b)]){case _0x24cd00[_0x2185fc(0x210)]:if(_0x52aedf['log'](_0xdea279[_0x2185fc(0x559)],_0x2185fc(0x6ca),this[_0x2185fc(0x116)]['getId'](),this['providerId']),_0x1fc2f7['stream']['id']!==this[_0x2185fc(0x2c6)]||_0x1fc2f7[_0x2185fc(0x391)]!==this[_0x2185fc(0x391)])return;this[_0x2185fc(0x8d5)](_0x1fc2f7[_0x2185fc(0x1e8)][_0x2185fc(0x519)]),this[_0x2185fc(0x59b)][_0x2185fc(0x152)](_0x1fc2f7[_0x2185fc(0x1e8)]);for(const [_0x575e51,_0x3073a9]of this[_0x2185fc(0x1ba)][_0x2185fc(0x196)]())try{_0x3073a9[_0x2185fc(0x152)](_0x1fc2f7[_0x2185fc(0x1e8)]);}catch(_0xf54658){_0x3073a9[_0x2185fc(0x464)](),this['outgoingStreams'][_0x2185fc(0x6fd)](_0x575e51);}this[_0x2185fc(0x517)](_0x1fc2f7[_0x2185fc(0x1e8)]),this['setupRenderElement'](),'video'===_0x1fc2f7[_0x2185fc(0x1e8)][_0x2185fc(0x519)]&&this[_0x2185fc(0x93a)]&&(this[_0x2185fc(0x59b)][_0x2185fc(0x529)]?setTimeout(()=>this[_0x2185fc(0x93a)]?.[_0x2185fc(0x638)](),0x0):setTimeout(()=>this[_0x2185fc(0x93a)]?.['load'](),0x0),this['setupResizeHandler']());break;case _0x24cd00[_0x2185fc(0x296)]:if(_0x1fc2f7[_0x2185fc(0x462)]['id']!==this[_0x2185fc(0x2c6)]||_0x1fc2f7[_0x2185fc(0x391)]!==this['providerId'])return;this[_0x2185fc(0x8d5)](_0x1fc2f7[_0x2185fc(0x1e8)][_0x2185fc(0x519)]),this[_0x2185fc(0x93a)]&&_0x2185fc(0x260)===_0x1fc2f7[_0x2185fc(0x1e8)][_0x2185fc(0x519)]&&(this[_0x2185fc(0x2d7)]?.(),this['mediaStream']['getTracks']()[_0x2185fc(0x146)]>0x0?this[_0x2185fc(0x93a)][_0x2185fc(0x5d8)]():this['renderElement'][_0x2185fc(0x64d)]=null);}});}[_0x37ac7d(0x6cc)](){const _0x11f1b5=_0x37ac7d;this['unsubscribeHandler']?.(),this[_0x11f1b5(0x584)][_0x11f1b5(0x97a)](_0x3a8564=>_0x3a8564()),delete this['unsubscribeHandler'];}[_0x37ac7d(0x729)](){const _0x59115a=_0x37ac7d;return this[_0x59115a(0x2c6)];}[_0x37ac7d(0x290)](_0x3fb0c4){const _0x5bcd59=_0x37ac7d;this[_0x5bcd59(0x2c6)]=_0x3fb0c4;}['getAvailableTrackKinds'](){return this['availableTrackKinds'];}['hasTracks'](_0x3f7418){const _0x6d0e9d=_0x37ac7d;for(const _0x163900 of _0x3f7418||this['availableTrackKinds'])if(!this['mediaStream']['getTracks']()[_0x6d0e9d(0x419)](_0x411ad3=>_0x411ad3[_0x6d0e9d(0x519)]===_0x163900))return!0x1;return!0x0;}['getResolution'](){const _0x473eba=_0x37ac7d;let _0x199e46={'width':0x0,'height':0x0};const _0x428f74=this[_0x473eba(0x59b)]['getVideoTracks']();if(_0x428f74[_0x473eba(0x146)]>0x0){const _0x4cc13e=_0x428f74[0x0][_0x473eba(0x5f2)]();_0x4cc13e['width']&&_0x4cc13e[_0x473eba(0x9ae)]&&(_0x199e46={'width':_0x4cc13e[_0x473eba(0x259)],'height':_0x4cc13e[_0x473eba(0x9ae)]});}return _0x199e46;}[_0x37ac7d(0x4f2)](_0x267118){const _0x303d60=_0x37ac7d;for(const _0x594881 of _0x267118)if(!this[_0x303d60(0x390)][_0x303d60(0x158)](_0x594881))return!0x1;return!0x0;}[_0x37ac7d(0x225)](_0x11966b,_0x2ef746){const _0x124c14=_0x37ac7d;if(!this[_0x124c14(0x1ba)][_0x124c14(0x158)](_0x11966b)){const _0xa4ca6f=new _0x37f3f8(this[_0x124c14(0x9c1)],this[_0x124c14(0x7ee)],this[_0x124c14(0x59b)],_0x11966b,_0x2ef746),_0x545a35=_0xa4ca6f[_0x124c14(0x58b)](()=>{const _0x3fc90a=_0x124c14;_0x545a35(),this['outgoingStreams']['get'](_0x11966b)?.[_0x3fc90a(0x464)](),this[_0x3fc90a(0x1ba)][_0x3fc90a(0x6fd)](_0x11966b);});this[_0x124c14(0x1ba)][_0x124c14(0x773)](_0x11966b,_0xa4ca6f),_0xa4ca6f[_0x124c14(0x1b9)](this[_0x124c14(0x1b1)]);}return this[_0x124c14(0x1ba)][_0x124c14(0x7e9)](_0x11966b);}[_0x37ac7d(0x6bb)](){return this['mediaStream']['id'];}[_0x37ac7d(0x166)](){const _0x4abb27=_0x37ac7d;return _0x441722['MediaStreamPriority'][_0x4abb27(0x2ed)];}[_0x37ac7d(0x28b)](){const _0x26c315=_0x37ac7d;return Array['from'](this[_0x26c315(0x390)]);}['subscribe'](_0x3b64d3){const _0xaf2ea8=_0x37ac7d;let _0x3557d8=[];if(_0x3b64d3){_0xaf2ea8(0x2c3)!=typeof _0x3b64d3['video']||_0x3b64d3[_0xaf2ea8(0x260)][_0xaf2ea8(0x93a)]instanceof HTMLVideoElement||!this['renderElement']||(_0x3b64d3[_0xaf2ea8(0x260)]={'renderElement':this[_0xaf2ea8(0x93a)]});try{(0x0,_0x441722[_0xaf2ea8(0x657)])(_0x3b64d3);}catch(_0x3bfdc3){throw new _0x3e3c93(_0x5b4e17[_0xaf2ea8(0x3a7)],_0xaf2ea8(0x28f));}_0x3b64d3[_0xaf2ea8(0x260)]&&(_0x3557d8[_0xaf2ea8(0x7b5)](_0xaf2ea8(0x260)),_0xaf2ea8(0x1fd)!=typeof _0x3b64d3['video']&&_0x3b64d3[_0xaf2ea8(0x260)][_0xaf2ea8(0x93a)]&&(this['renderElement']=_0x3b64d3[_0xaf2ea8(0x260)][_0xaf2ea8(0x93a)],_0x3b64d3[_0xaf2ea8(0x260)][_0xaf2ea8(0x885)]||(_0x3b64d3[_0xaf2ea8(0x260)][_0xaf2ea8(0x885)]={'width':this[_0xaf2ea8(0x93a)][_0xaf2ea8(0x36b)],'height':this['renderElement'][_0xaf2ea8(0x6c9)]}),delete _0x3b64d3[_0xaf2ea8(0x260)][_0xaf2ea8(0x93a)])),_0x3b64d3[_0xaf2ea8(0x71d)]&&_0x3557d8[_0xaf2ea8(0x7b5)](_0xaf2ea8(0x71d));}else _0x3557d8=this[_0xaf2ea8(0x27a)]();this[_0xaf2ea8(0x4f2)](_0x3557d8)||(_0x3557d8[_0xaf2ea8(0x97a)](_0x306e5a=>this[_0xaf2ea8(0x390)]['add'](_0x306e5a)),this['systemTopic'][_0xaf2ea8(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0xaf2ea8(0x3a0)],'content':{'type':_0x3b90a2[_0xaf2ea8(0x5b3)],'label':this[_0xaf2ea8(0x7ee)],'ownerId':this[_0xaf2ea8(0x9c1)][_0xaf2ea8(0x336)](),'trackKinds':_0x3557d8,'params':_0x3b64d3}}),_0x52aedf[_0xaf2ea8(0x43d)](_0x5ddb4d[_0xaf2ea8(0x4b1)],{'type':'subscribe','label':this[_0xaf2ea8(0x7ee)],'nodeId':this[_0xaf2ea8(0x116)][_0xaf2ea8(0x336)](),'nodeType':this['localNode']['type'],'clusterId':this[_0xaf2ea8(0x6b0)],'sourceId':this[_0xaf2ea8(0x9c1)][_0xaf2ea8(0x336)](),'streamId':this[_0xaf2ea8(0x2c6)],'trackKinds':_0x3557d8}));}['update'](_0xe1a031){const _0x4fe915=_0x37ac7d;try{(0x0,_0x441722[_0x4fe915(0x657)])(_0xe1a031);}catch(_0x118513){throw new _0x3e3c93(_0x5b4e17[_0x4fe915(0x3a7)],'Invalid\x20params');}this['updateDebounce']&&clearTimeout(this[_0x4fe915(0x498)]),this['updateDebounce']=setTimeout(()=>{const _0xe731d5=_0x4fe915;delete this[_0xe731d5(0x498)],this['systemTopic']['publish']({'sourceId':_0x19393c,'messageType':_0x403b04[_0xe731d5(0x3a0)],'content':{'type':_0x3b90a2[_0xe731d5(0x794)],'label':this['label'],'ownerId':this[_0xe731d5(0x9c1)][_0xe731d5(0x336)](),'params':_0xe1a031}});},0x1f4);}['unsubscribe'](_0x265b48){const _0x259d23=_0x37ac7d;_0x265b48||(_0x265b48=this[_0x259d23(0x27a)]()),(_0x265b48=Array[_0x259d23(0x374)](_0x265b48)?_0x265b48:[_0x265b48])[_0x259d23(0x97a)](_0x434454=>this[_0x259d23(0x390)][_0x259d23(0x6fd)](_0x434454)),this[_0x259d23(0x1b1)]['publish']({'sourceId':_0x19393c,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2[_0x259d23(0x6b4)],'label':this[_0x259d23(0x7ee)],'ownerId':this['owner'][_0x259d23(0x336)](),'trackKinds':_0x265b48,'remainingTracks':this['subscribedTracks']['size']}});}['onProviderChange'](_0x121e8f){const _0x5f49f8=_0x37ac7d;return this[_0x5f49f8(0x581)][_0x5f49f8(0x9b2)](_0x121e8f);}['getProviderId'](){const _0x1cc036=_0x37ac7d;return this[_0x1cc036(0x391)];}[_0x37ac7d(0x700)](_0x52d8a7){const _0x4395be=_0x37ac7d;this[_0x4395be(0x391)]!==_0x52d8a7&&(this['providerId']=_0x52d8a7,this[_0x4395be(0x581)][_0x4395be(0x10d)](_0x52d8a7));}[_0x37ac7d(0x7f2)](_0x5ccebc){const _0x5d96f2=_0x37ac7d;this[_0x5d96f2(0x584)]['get'](_0x5ccebc)?.(),this[_0x5d96f2(0x584)][_0x5d96f2(0x6fd)](_0x5ccebc);}[_0x37ac7d(0x8d5)](_0x3e9622){const _0x55acf8=_0x37ac7d,_0xa15d29=this[_0x55acf8(0x59b)][_0x55acf8(0x175)]()['find'](_0x4a77c6=>_0x4a77c6[_0x55acf8(0x519)]===_0x3e9622);_0xa15d29&&(this[_0x55acf8(0x59b)]['removeTrack'](_0xa15d29),this[_0x55acf8(0x1ba)]['forEach'](_0x77ab0c=>_0x77ab0c[_0x55acf8(0x8d5)](_0x3e9622)),this[_0x55acf8(0x584)][_0x55acf8(0x7e9)](_0x3e9622)?.());}[_0x37ac7d(0x7d7)](){const _0x3ce897=_0x37ac7d;this[_0x3ce897(0x93a)]&&(this['renderElement'][_0x3ce897(0x64d)]&&this[_0x3ce897(0x93a)][_0x3ce897(0x64d)]===this[_0x3ce897(0x59b)]||(this[_0x3ce897(0x93a)][_0x3ce897(0x64d)]=this[_0x3ce897(0x59b)]));}[_0x37ac7d(0xe3)](){const _0x23030f=_0x37ac7d;if(this['renderElement']&&!this[_0x23030f(0x2d7)]&&_0x23030f(0x798)!=typeof ResizeObserver){let _0x198e10=this[_0x23030f(0x93a)]['clientWidth'],_0x77b642=this['renderElement'][_0x23030f(0x6c9)];const _0x47997e=new ResizeObserver(_0x37ccd5=>{const _0x32447b=_0x23030f,{width:_0x5e0697,height:_0x334712}=_0x37ccd5[0x0][_0x32447b(0x8b0)];_0x198e10===_0x5e0697&&_0x77b642===_0x334712||(_0x198e10=Math[_0x32447b(0x92d)](_0x5e0697),_0x77b642=Math[_0x32447b(0x92d)](_0x334712),this[_0x32447b(0x328)]({'video':{'maxResolution':{'width':_0x5e0697,'height':_0x334712}}}));});_0x47997e['observe'](this['renderElement']),this[_0x23030f(0x2d7)]=()=>_0x47997e[_0x23030f(0x58d)]();}}[_0x37ac7d(0x269)](_0x102d7d){const _0x844699=_0x37ac7d,_0x27d296=[];for(const _0x1a356b of this['subscribedTracks'])this[_0x844699(0x8d5)](_0x1a356b),_0x27d296[_0x844699(0x7b5)](_0x1a356b);this[_0x844699(0x391)]&&this[_0x844699(0x1b1)][_0x844699(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2[_0x844699(0x75c)],'label':this[_0x844699(0x7ee)],'streamId':this[_0x844699(0x2c6)],'ownerId':this[_0x844699(0x9c1)][_0x844699(0x336)](),'providerId':this[_0x844699(0x391)],'trackKinds':_0x27d296}});}[_0x37ac7d(0x517)](_0x30ca93){const _0x496fba=_0x37ac7d,_0xa3b17d=()=>this[_0x496fba(0x269)](_0x30ca93);_0x30ca93[_0x496fba(0x598)](_0x496fba(0xdf),_0xa3b17d),_0x30ca93[_0x496fba(0x598)](_0x496fba(0x3ee),_0xa3b17d),this['trackEndedListeners'][_0x496fba(0x773)](_0x30ca93[_0x496fba(0x519)],()=>{const _0x3d4dd3=_0x496fba;_0x30ca93[_0x3d4dd3(0x8f6)](_0x3d4dd3(0xdf),_0xa3b17d),_0x30ca93[_0x3d4dd3(0x8f6)](_0x3d4dd3(0x3ee),_0xa3b17d),this[_0x3d4dd3(0x584)][_0x3d4dd3(0x6fd)](_0x30ca93[_0x3d4dd3(0x519)]);});}}class _0x4df054 extends _0x15db27{[_0x37ac7d(0x116)];['clusterId'];[_0x37ac7d(0x7f1)];['db'];[_0x37ac7d(0x7d3)];[_0x37ac7d(0x6e7)]=0x0;[_0x37ac7d(0x5c5)]=0x0;['isLoaded']=!0x1;constructor(_0x3a305a,_0x3017b2,_0x19c493,_0xfe248b,_0x6f0b63){const _0x5d25d2=_0x37ac7d;if(_0x5d25d2(0x865)!=typeof _0x3017b2)throw new _0x3e3c93(_0x5b4e17['VectorDatabaseNameNotString'],_0x5d25d2(0x62e));super(_0x3a305a,_0x3017b2),this['localNode']=_0x3a305a,this[_0x5d25d2(0x6b0)]=_0x19c493,this[_0x5d25d2(0x7f1)]=_0xfe248b;const _0x31d0c1='ccc'+this['vendorId']+_0x5d25d2(0x3dc)+this[_0x5d25d2(0x6b0)]+_0x5d25d2(0x3dc)+this[_0x5d25d2(0x7ee)];this['db']=new _0x6f0b63(_0x31d0c1),this['sendStats']();}['getIsLoaded'](){return this['isLoaded'];}[_0x37ac7d(0x253)](_0x4748dd){const _0x4a4b12=_0x37ac7d;this[_0x4a4b12(0x930)]=_0x4748dd;}['destroy'](){const _0x3a796c=_0x37ac7d;clearTimeout(this['debounceStats']),delete this[_0x3a796c(0x7d3)],super[_0x3a796c(0x464)]();}[_0x37ac7d(0x91a)](){const _0x5243b6=_0x37ac7d;this[_0x5243b6(0x1b1)][_0x5243b6(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x5243b6(0x3a0)],'content':{'type':_0x3b90a2[_0x5243b6(0x4fa)],'label':this[_0x5243b6(0x7ee)]}});}['reset'](){const _0xee123=_0x37ac7d;this[_0xee123(0x4ed)]();}[_0x37ac7d(0x151)](){const _0x18ba3b=_0x37ac7d;return _0x441722[_0x18ba3b(0x4bf)][_0x18ba3b(0x8bf)];}[_0x37ac7d(0x628)](_0x378446,_0xf1fbdd,_0x4b4796,_0x473a7f){const _0x589923=_0x37ac7d,_0xee914c=this['db'][_0x589923(0x628)](_0x378446,_0xf1fbdd,_0x4b4796,_0x473a7f);return this['reads']+=0x1,_0x52aedf[_0x589923(0x43d)](_0x5ddb4d[_0x589923(0x8bf)],{'type':_0x589923(0x628),'label':this['label'],'nodeId':this['localNode'][_0x589923(0x336)](),'nodeType':this[_0x589923(0x116)][_0x589923(0x623)],'clusterId':this[_0x589923(0x6b0)],'size':0x0}),this[_0x589923(0x4ed)](),_0xee914c;}[_0x37ac7d(0x38e)](_0x15d255,_0x5dceea,_0x16e53a,_0x1e867b){const _0x3c9e1c=_0x37ac7d;this['db'][_0x3c9e1c(0x38e)](_0x15d255,_0x5dceea,_0x16e53a,_0x1e867b),this['writes']+=0x1,_0x52aedf[_0x3c9e1c(0x43d)](_0x5ddb4d[_0x3c9e1c(0x8bf)],{'type':_0x3c9e1c(0x38e),'label':this['label'],'nodeId':this[_0x3c9e1c(0x116)][_0x3c9e1c(0x336)](),'nodeType':this['localNode'][_0x3c9e1c(0x623)],'clusterId':this['clusterId'],'size':_0x1e867b[_0x3c9e1c(0x70d)]((_0x1ad31c,_0xa2c710)=>_0x1ad31c+_0xa2c710['length'],0x0)}),this['sendStats']();}[_0x37ac7d(0xce)](_0x547f5f){const _0x221767=_0x37ac7d;this['db'][_0x221767(0xce)](_0x547f5f),this[_0x221767(0x6e7)]+=0x1,_0x52aedf[_0x221767(0x43d)](_0x5ddb4d[_0x221767(0x8bf)],{'type':_0x221767(0xce),'label':this[_0x221767(0x7ee)],'nodeId':this[_0x221767(0x116)][_0x221767(0x336)](),'nodeType':this[_0x221767(0x116)][_0x221767(0x623)],'clusterId':this[_0x221767(0x6b0)],'size':0x0}),this['sendStats']();}['saveToDisk'](_0x3ac8e5){const _0x3b1d90=_0x37ac7d;this['db'][_0x3b1d90(0x8cc)](_0x3ac8e5);}[_0x37ac7d(0x29c)](_0x17cbc3){const _0x1efa5a=_0x37ac7d;this['db'][_0x1efa5a(0x29c)](_0x17cbc3);}[_0x37ac7d(0x4ed)](){const _0x5a03da=_0x37ac7d;this[_0x5a03da(0x7d3)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x56e29a=_0x5a03da;delete this[_0x56e29a(0x7d3)];const _0x356d80=this['db']['getBuffer']()[_0x56e29a(0x9c4)];this[_0x56e29a(0x1b1)][_0x56e29a(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04['Content'],'content':{'type':_0x3b90a2[_0x56e29a(0x936)],'label':this[_0x56e29a(0x7ee)],'stats':{'timestamp':Date['now'](),'storage':_0x356d80,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x56e29a(0x66a)],'writes':this[_0x56e29a(0x6e7)],'reads':this[_0x56e29a(0x5c5)],'prompts':0x0,'tokens':0x0}}}),_0x52aedf[_0x56e29a(0x352)](_0x5ddb4d[_0x56e29a(0x8bf)],'ccc'+this['clusterId']+_0x56e29a(0x3dc)+this[_0x56e29a(0x7ee)],_0x356d80);},_0x3d132a);}}class _0x38ba44{['id'];['remoteConnections'];['rank'];constructor(_0x1a2790,_0x34511e=new Set(),_0x1c7753){const _0x282f78=_0x37ac7d;this['id']=_0x1a2790,this['remoteConnections']=_0x34511e,this[_0x282f78(0x833)]=_0x1c7753;}['close'](){const _0x1ff2e4=_0x37ac7d;this[_0x1ff2e4(0x833)]=void 0x0,this[_0x1ff2e4(0x645)][_0x1ff2e4(0x168)]();}[_0x37ac7d(0x336)](){return this['id'];}[_0x37ac7d(0x734)](){const _0x369e72=_0x37ac7d;return this[_0x369e72(0x833)];}[_0x37ac7d(0x835)](){return this['remoteConnections'];}}class _0x46cdd0 extends _0x38ba44{['id'];[_0x37ac7d(0x5ff)];[_0x37ac7d(0x359)];[_0x37ac7d(0x645)];[_0x37ac7d(0x833)];['type']=_0x441722['NodeType'][_0x37ac7d(0x94d)];constructor(_0x2cd70f,_0x129422,_0x1ac7a1,_0x501ec8=new Set(),_0x9d7a57){const _0x5a3148=_0x37ac7d;super(_0x2cd70f,_0x501ec8,_0x9d7a57),this['id']=_0x2cd70f,this[_0x5a3148(0x5ff)]=_0x129422,this['email']=_0x1ac7a1,this[_0x5a3148(0x645)]=_0x501ec8,this[_0x5a3148(0x833)]=_0x9d7a57;}[_0x37ac7d(0x80d)](){return this['displayName'];}['getEmail'](){const _0x499542=_0x37ac7d;return this[_0x499542(0x359)];}}class _0x37fa2c{['vendorId'];['clusterId'];[_0x37ac7d(0x98a)];constructor(_0x560f03,_0x209e08){const _0x1e3254=_0x37ac7d;this[_0x1e3254(0x7f1)]=_0x560f03,this[_0x1e3254(0x6b0)]=_0x209e08,this[_0x1e3254(0x98a)]=_0x1e3254(0x3dc)+this[_0x1e3254(0x7f1)]+_0x1e3254(0x3dc)+this['clusterId'];}async[_0x37ac7d(0x63b)](_0x36c890,_0x289f1c){const _0x2c08f8=_0x37ac7d,_0x3f2f62=(0x0,_0x171159[_0x2c08f8(0x79d)])(_0xe4f57[_0x2c08f8(0x90b)](),_0x2c08f8(0x7ff)+this[_0x2c08f8(0x98a)]+_0x2c08f8(0x6dc)+_0x289f1c+'/transactions/'+_0x36c890['id']),_0x346ccb=(0x0,_0x171159[_0x2c08f8(0x539)])(_0x3f2f62);_0x346ccb['remove'](),_0x36c890[_0x2c08f8(0x989)]||delete _0x36c890[_0x2c08f8(0x989)];try{await(0x0,_0x171159[_0x2c08f8(0x773)])(_0x3f2f62,_0x36c890);}catch(_0x4f2ff5){throw await _0x346ccb[_0x2c08f8(0x898)](),new _0x4a800a(_0x4a800a[_0x2c08f8(0x7ef)]['ObjectStoreCannotWriteTransaction']);}if(!0x1===(await(0x0,_0x171159[_0x2c08f8(0x937)])((0x0,_0x171159[_0x2c08f8(0x79d)])(_0xe4f57[_0x2c08f8(0x90b)](),_0x2c08f8(0x7ff)+this[_0x2c08f8(0x98a)]+_0x2c08f8(0x6dc)+_0x289f1c+'/transactions/lastTransaction'),_0x592b96=>_0x592b96?_0x592b96===_0x36c890['parentId']?_0x36c890['id']:void 0x0:_0x36c890[_0x2c08f8(0x989)]?_0x36c890['parentId']:_0x36c890['id']))[_0x2c08f8(0x658)])throw await(0x0,_0x171159[_0x2c08f8(0xce)])(_0x3f2f62),await _0x346ccb['cancel'](),new _0x4a800a(_0x4a800a[_0x2c08f8(0x7ef)][_0x2c08f8(0x7eb)]);await _0x346ccb[_0x2c08f8(0x898)]();}async['getTransactions'](_0x1232d3,_0x596cf5){const _0x41d2dd=_0x37ac7d;let _0x3f23da=[];const _0x4de23d=(0x0,_0x171159['ref'])(_0xe4f57[_0x41d2dd(0x90b)](),_0x41d2dd(0x7ff)+this[_0x41d2dd(0x98a)]+_0x41d2dd(0x6dc)+_0x1232d3+_0x41d2dd(0x2b5));let _0x35c134=await(0x0,_0x171159['get'])((0x0,_0x171159[_0x41d2dd(0x169)])(_0x4de23d,(0x0,_0x171159[_0x41d2dd(0x774)])(0x65),(0x0,_0x171159[_0x41d2dd(0x42e)])()));if(!_0x35c134[_0x41d2dd(0x561)]()){if(void 0x0!==_0x596cf5)throw new _0x4a800a(_0x4a800a[_0x41d2dd(0x7ef)]['ObjectStoreInvalidState']);return _0x3f23da;}const _0x2fc3c7=_0x35c134[_0x41d2dd(0x770)]();for(;Object[_0x41d2dd(0x6cd)](_0x35c134[_0x41d2dd(0x770)]())[_0x41d2dd(0x146)]>0x64;){const _0x2393ed=Object['keys'](_0x35c134[_0x41d2dd(0x770)]()),_0x1907ae=_0x2393ed[_0x2393ed[_0x41d2dd(0x146)]-0x1];_0x35c134=await(0x0,_0x171159[_0x41d2dd(0x7e9)])((0x0,_0x171159[_0x41d2dd(0x169)])(_0x4de23d,(0x0,_0x171159[_0x41d2dd(0x774)])(0x65),(0x0,_0x171159[_0x41d2dd(0x850)])(_0x1907ae),(0x0,_0x171159['orderByKey'])())),Object[_0x41d2dd(0x54e)](_0x2fc3c7,_0x35c134[_0x41d2dd(0x770)]());}if(_0x3f23da=Object['values'](_0x2fc3c7)[_0x41d2dd(0x5e3)](_0x575f47=>'string'!=typeof _0x575f47),0x0===_0x3f23da[_0x41d2dd(0x146)]&&void 0x0!==_0x596cf5)throw new _0x4a800a(_0x4a800a[_0x41d2dd(0x7ef)][_0x41d2dd(0x1f0)]);if(_0x3f23da[_0x41d2dd(0x146)]>0x0&&void 0x0!==_0x596cf5&&!_0x3f23da[_0x41d2dd(0x419)](_0x282246=>_0x282246['id']===_0x596cf5))throw new _0x4a800a(_0x4a800a[_0x41d2dd(0x7ef)][_0x41d2dd(0x1f0)]);const _0x426105=[];let _0x140cd9=_0x3f23da[_0x41d2dd(0x419)](_0x336190=>_0x336190[_0x41d2dd(0x989)]===_0x596cf5);for(;_0x140cd9;)_0x426105[_0x41d2dd(0x7b5)](_0x140cd9),_0x140cd9=_0x3f23da['find'](_0x27cc2a=>_0x27cc2a[_0x41d2dd(0x989)]===_0x140cd9['id']);return _0x426105;}}class _0x2ca02f{['configs'];[_0x37ac7d(0x14b)];[_0x37ac7d(0x4aa)];[_0x37ac7d(0x8b6)]=new Map();[_0x37ac7d(0x93d)]=new Map();[_0x37ac7d(0x2f0)]=new Map();[_0x37ac7d(0x6ff)]=new Map();[_0x37ac7d(0x520)]=new Map();[_0x37ac7d(0x7e2)]=new Map();[_0x37ac7d(0x465)]=new Map();[_0x37ac7d(0x337)]=new Map();[_0x37ac7d(0x945)]=new Map();[_0x37ac7d(0x215)]=new Map();['transactionService'];constructor(_0x27ee30,_0x2cc508,_0x23f8ea){const _0x5c3ff8=_0x37ac7d;this[_0x5c3ff8(0x8de)]=_0x27ee30,this[_0x5c3ff8(0x14b)]=_0x2cc508,this[_0x5c3ff8(0x4aa)]=_0x23f8ea,this[_0x5c3ff8(0x96f)]=new _0x37fa2c(this['configs'][_0x5c3ff8(0x7f1)],this[_0x5c3ff8(0x8de)][_0x5c3ff8(0x6b0)]);}[_0x37ac7d(0x91a)](_0x937a24=!0x1){const _0x6f29d6=_0x37ac7d;this[_0x6f29d6(0x93d)][_0x6f29d6(0x97a)]((_0x163bca,_0x113a07)=>{const _0x34dcfd=_0x6f29d6;_0x163bca[_0x34dcfd(0x97a)]((_0x3b902e,_0x24ea92)=>{const _0x13d45b=_0x34dcfd;this[_0x13d45b(0x673)](_0x113a07,_0x24ea92);});}),_0x937a24||(_0x54eef1[_0x6f29d6(0x168)](),this['localMediaStreams'][_0x6f29d6(0x97a)]((_0x434312,_0x59de50)=>{const _0x4616e8=_0x6f29d6;this[_0x4616e8(0x681)](_0x59de50);}),this[_0x6f29d6(0x2f0)][_0x6f29d6(0x97a)]((_0x464153,_0x470064)=>{const _0x1345df=_0x6f29d6;this[_0x1345df(0x488)](_0x470064);}),this['objectStores']['forEach']((_0x2d0139,_0x534dbe)=>{const _0x4508d9=_0x6f29d6;this[_0x4508d9(0x326)](_0x534dbe);}),this[_0x6f29d6(0x520)]['forEach']((_0x55359e,_0x5a27ca)=>{const _0x4810a7=_0x6f29d6;this[_0x4810a7(0x4ca)](_0x5a27ca);}),this['keyValueDatabases'][_0x6f29d6(0x97a)]((_0xf615d9,_0x121465)=>{const _0x556688=_0x6f29d6;this[_0x556688(0x881)](_0x121465);}),this[_0x6f29d6(0x945)][_0x6f29d6(0x97a)]((_0x49f7b1,_0x5e28e1)=>{this['removeJobDispatcher'](_0x5e28e1);}),this[_0x6f29d6(0x215)][_0x6f29d6(0x97a)]((_0x5d923e,_0x511e4b)=>{const _0x2fe3ed=_0x6f29d6;this[_0x2fe3ed(0x4d0)](_0x511e4b);}),this[_0x6f29d6(0x465)][_0x6f29d6(0x97a)]((_0x110f16,_0x1741f2)=>{const _0x24625b=_0x6f29d6;this[_0x24625b(0x713)](_0x1741f2);}),this[_0x6f29d6(0x337)]['forEach']((_0x34d88e,_0x9ea915)=>{const _0x426352=_0x6f29d6;this[_0x426352(0x579)](_0x9ea915);}));}[_0x37ac7d(0x206)](_0x4a576c,_0x6c3615){const _0xac90b5=_0x37ac7d;if(this[_0xac90b5(0x6ff)]['has'](_0x4a576c))throw new _0x3e3c93(_0x5b4e17[_0xac90b5(0x971)],_0xac90b5(0x413));const _0x3623f2=new _0x165409(this[_0xac90b5(0x8de)][_0xac90b5(0x116)],_0x4a576c,this['configs'][_0xac90b5(0x6b0)],this['configs'][_0xac90b5(0x7f1)],this[_0xac90b5(0x96f)],_0x6c3615,()=>this[_0xac90b5(0x8de)][_0xac90b5(0x1e2)]['waitForArrayBufferSize']());return this['objectStores']['set'](_0x4a576c,_0x3623f2),this['configs'][_0xac90b5(0x1e2)][_0xac90b5(0x6f9)](_0x3623f2),_0x3623f2;}[_0x37ac7d(0x587)](_0x380aa8,_0x2ab091){const _0x3743c2=_0x37ac7d;if(this[_0x3743c2(0x6ff)][_0x3743c2(0x158)](_0x380aa8))throw new _0x3e3c93(_0x5b4e17['ExternalStorageConnectionAlreadyExists'],'Connection\x20already\x20exists');const _0x539271=new _0x45b9ee(this[_0x3743c2(0x8de)][_0x3743c2(0x116)],_0x380aa8,this['configs']['clusterId'],this[_0x3743c2(0x8de)][_0x3743c2(0x7f1)],_0x2ab091);return this['externalStorageConnections'][_0x3743c2(0x773)](_0x380aa8,_0x539271),this['configs'][_0x3743c2(0x1e2)]['registerSystemSource'](_0x539271),_0x539271;}async['createKeyValueDatabase'](_0x104ffa,_0x1055e4,_0x474055){const _0x28344c=_0x37ac7d;if(this[_0x28344c(0x7e2)][_0x28344c(0x158)](_0x104ffa))throw new _0x3e3c93(_0x5b4e17[_0x28344c(0x377)],'Database\x20already\x20exists');try{const _0x397504=this[_0x28344c(0x8de)]['mediator'][_0x28344c(0x6e3)][_0x28344c(0x5d9)](this[_0x28344c(0x8de)]['mediator']),_0x5dc370=new _0x4f7cc4(this[_0x28344c(0x8de)]['localNode'],_0x104ffa,this['configs'][_0x28344c(0x6b0)],this['configs']['vendorId'],_0x1055e4,_0x474055,_0x397504);return this[_0x28344c(0x7e2)][_0x28344c(0x773)](_0x104ffa,_0x5dc370),this[_0x28344c(0x8de)]['mediator'][_0x28344c(0x6f9)](_0x5dc370),_0x5dc370;}catch(_0x3fec4b){if(_0x3fec4b instanceof _0x3e3c93)throw _0x3fec4b;throw new _0x4a800a(_0x4a800a[_0x28344c(0x7ef)][_0x28344c(0x395)],{'label':_0x104ffa,'clusterId':this['configs'][_0x28344c(0x6b0)],'vendorId':this[_0x28344c(0x8de)][_0x28344c(0x7f1)]});}}async[_0x37ac7d(0x471)](_0x4b0e3c,_0x592cc7){const _0x894ecb=_0x37ac7d;if(this[_0x894ecb(0x945)][_0x894ecb(0x158)](_0x4b0e3c))throw new _0x3e3c93(_0x5b4e17[_0x894ecb(0x3e0)],_0x894ecb(0x5a9));try{const _0x2f6b32=new _0x11256d(this['configs'][_0x894ecb(0x116)],_0x4b0e3c,_0x592cc7);return this[_0x894ecb(0x945)]['set'](_0x4b0e3c,_0x2f6b32),this[_0x894ecb(0x8de)]['mediator'][_0x894ecb(0x6f9)](_0x2f6b32),_0x2f6b32;}catch(_0x5476e3){if(_0x5476e3 instanceof _0x3e3c93)throw _0x5476e3;throw new _0x4a800a(_0x4a800a[_0x894ecb(0x7ef)][_0x894ecb(0x78a)],{'label':_0x4b0e3c,'clusterId':this[_0x894ecb(0x8de)][_0x894ecb(0x6b0)],'vendorId':this[_0x894ecb(0x8de)][_0x894ecb(0x7f1)]});}}async['createGenerativeAIContext'](_0x3d3b79,_0x38dfb1){const _0xf1645e=_0x37ac7d;if(this[_0xf1645e(0x945)][_0xf1645e(0x158)](_0x3d3b79))throw new _0x3e3c93(_0x5b4e17['GenerativeAIContextAlreadyExists'],'AI\x20Service\x20already\x20exists');if(this[_0xf1645e(0x215)]['has'](_0x3d3b79))throw new _0x3e3c93(_0x5b4e17[_0xf1645e(0x5af)],_0xf1645e(0x23a));try{const _0xa72f8f=new _0x4d9adb(this[_0xf1645e(0x8de)][_0xf1645e(0x116)],_0x3d3b79,this[_0xf1645e(0x8de)]['vendorId'],_0x38dfb1);return this[_0xf1645e(0x945)]['set'](_0x3d3b79,_0xa72f8f),this['configs'][_0xf1645e(0x1e2)][_0xf1645e(0x6f9)](_0xa72f8f),_0xa72f8f;}catch(_0xc12e97){if(_0xc12e97 instanceof _0x3e3c93)throw _0xc12e97;throw new _0x4a800a(_0x4a800a[_0xf1645e(0x7ef)][_0xf1645e(0x789)],{'label':_0x3d3b79,'clusterId':this[_0xf1645e(0x8de)]['clusterId'],'vendorId':this[_0xf1645e(0x8de)][_0xf1645e(0x7f1)]});}}async[_0x37ac7d(0x293)](_0x1b7559,_0x459fca,_0x615b68,_0x39cbe5,_0x56bdce,_0x8f2ef4){const _0x4afa61=_0x37ac7d;if(this[_0x4afa61(0x215)][_0x4afa61(0x158)](_0x1b7559))throw new _0x3e3c93(_0x5b4e17['GenerativeAIWorkerAlreadyExists'],_0x4afa61(0x6c2));if(this[_0x4afa61(0x945)][_0x4afa61(0x158)](_0x1b7559))throw new _0x3e3c93(_0x5b4e17['GenerativeAILabelConflict'],_0x4afa61(0x23a));try{const _0x1fa918=new _0x302e00(this[_0x4afa61(0x8de)][_0x4afa61(0x116)],_0x1b7559,this[_0x4afa61(0x8de)][_0x4afa61(0x7f1)],_0x459fca,this,_0x615b68,_0x39cbe5,_0x56bdce,this['searchApiKey'],_0x8f2ef4);return this[_0x4afa61(0x215)]['set'](_0x1b7559,_0x1fa918),this[_0x4afa61(0x8de)][_0x4afa61(0x1e2)][_0x4afa61(0x6f9)](_0x1fa918),_0x1fa918;}catch(_0x36391d){if(_0x36391d instanceof _0x3e3c93)throw _0x36391d;throw new _0x4a800a(_0x4a800a[_0x4afa61(0x7ef)][_0x4afa61(0x1f4)],{'label':_0x1b7559,'clusterId':this[_0x4afa61(0x8de)]['clusterId'],'vendorId':this[_0x4afa61(0x8de)][_0x4afa61(0x7f1)]});}}[_0x37ac7d(0x8a2)](_0x1570a7,_0xa2df4e){const _0x2814d7=_0x37ac7d;if(this['graphDatabases'][_0x2814d7(0x158)](_0x1570a7))throw new _0x3e3c93(_0x5b4e17[_0x2814d7(0x96a)],'Database\x20already\x20exists');try{const _0x3db24d=new _0xfb2af8(this['configs'][_0x2814d7(0x116)],_0x1570a7,this[_0x2814d7(0x8de)][_0x2814d7(0x6b0)],this['configs'][_0x2814d7(0x7f1)],_0xa2df4e);return this['graphDatabases'][_0x2814d7(0x773)](_0x1570a7,_0x3db24d),this[_0x2814d7(0x8de)][_0x2814d7(0x1e2)][_0x2814d7(0x6f9)](_0x3db24d),_0x3db24d;}catch(_0x132028){if(_0x132028 instanceof _0x3e3c93)throw _0x132028;throw new _0x4a800a(_0x4a800a['codes'][_0x2814d7(0x6d4)],{'label':_0x1570a7,'clusterId':this[_0x2814d7(0x8de)][_0x2814d7(0x6b0)],'vendorId':this['configs'][_0x2814d7(0x7f1)]});}}['createLocalDynamicMediaStream'](_0x5c9965,_0x270953){const _0xfffe41=_0x37ac7d;if(this[_0xfffe41(0x8b6)][_0xfffe41(0x158)](_0x5c9965))throw new _0x3e3c93(_0x5b4e17[_0xfffe41(0x8ac)],_0xfffe41(0x582));if(!this[_0xfffe41(0x14b)]['audioContext'])throw new _0x3e3c93(_0x5b4e17[_0xfffe41(0xc7)],_0xfffe41(0x51a));const _0x42b35f=new _0x5f0c41(this[_0xfffe41(0x8de)][_0xfffe41(0x116)],_0x5c9965,_0x270953,this['options'][_0xfffe41(0x41f)],this[_0xfffe41(0x14b)][_0xfffe41(0x4da)],this[_0xfffe41(0x8de)][_0xfffe41(0x6b0)]);return this[_0xfffe41(0x8b6)][_0xfffe41(0x773)](_0x5c9965,_0x42b35f),this[_0xfffe41(0x8de)][_0xfffe41(0x1e2)]['registerSystemSource'](_0x42b35f),_0x42b35f[_0xfffe41(0x10d)](),_0x42b35f;}[_0x37ac7d(0x929)](_0x59ffdb,_0x334996){const _0x302cb2=_0x37ac7d;if(this[_0x302cb2(0x8b6)]['has'](_0x59ffdb))throw new _0x3e3c93(_0x5b4e17[_0x302cb2(0x8ac)],_0x302cb2(0x840));const _0x24bb17=new _0x4bf351(this['configs'][_0x302cb2(0x116)],_0x59ffdb,_0x334996,this[_0x302cb2(0x8de)][_0x302cb2(0x6b0)]);return this[_0x302cb2(0x8b6)]['set'](_0x59ffdb,_0x24bb17),this[_0x302cb2(0x8de)][_0x302cb2(0x1e2)][_0x302cb2(0x6f9)](_0x24bb17),_0x24bb17[_0x302cb2(0x10d)](),_0x24bb17;}[_0x37ac7d(0x123)](_0x139189){const _0x43816f=_0x37ac7d;if(this['pubSubTopics'][_0x43816f(0x158)](_0x139189))throw new _0x3e3c93(_0x5b4e17[_0x43816f(0x87c)],_0x43816f(0x3b3));const _0x48e210=new _0x3af346(this[_0x43816f(0x8de)][_0x43816f(0x116)],_0x139189,this[_0x43816f(0x8de)][_0x43816f(0x6b0)]);return this[_0x43816f(0x2f0)][_0x43816f(0x773)](_0x139189,_0x48e210),this[_0x43816f(0x8de)]['mediator']['registerSystemSource'](_0x48e210),_0x48e210;}[_0x37ac7d(0x5fd)](_0x2ae823,_0x3220bd,_0xb48150,_0x1cb07b){const _0x32a7b1=_0x37ac7d;this[_0x32a7b1(0x93d)][_0x32a7b1(0x158)](_0x2ae823)||this[_0x32a7b1(0x93d)][_0x32a7b1(0x773)](_0x2ae823,new Map());const _0x4a35fd=this[_0x32a7b1(0x93d)][_0x32a7b1(0x7e9)](_0x2ae823);if(_0x4a35fd[_0x32a7b1(0x158)](_0x3220bd))throw new _0x3e3c93(_0x5b4e17[_0x32a7b1(0x54d)],_0x32a7b1(0x9c2));const _0x38d42f=new _0x46cdd0(_0x2ae823,'',''),_0x5107d1=new _0x2c5a7f(this[_0x32a7b1(0x8de)][_0x32a7b1(0x116)],_0x38d42f,_0x3220bd,_0xb48150,_0x1cb07b,this[_0x32a7b1(0x8de)][_0x32a7b1(0x6b0)]);return _0x4a35fd['set'](_0x3220bd,_0x5107d1),this[_0x32a7b1(0x8de)][_0x32a7b1(0x1e2)][_0x32a7b1(0x6f9)](_0x5107d1),_0x5107d1;}[_0x37ac7d(0x2c8)](_0xb32070,_0x43c46d){const _0x60b935=_0x37ac7d;if(this[_0x60b935(0x465)][_0x60b935(0x158)](_0xb32070))throw new _0x3e3c93(_0x5b4e17[_0x60b935(0x1d9)],_0x60b935(0x4f8));try{const _0x540b80=new _0x4df054(this['configs'][_0x60b935(0x116)],_0xb32070,this['configs'][_0x60b935(0x6b0)],this['configs'][_0x60b935(0x7f1)],_0x43c46d);return this[_0x60b935(0x465)][_0x60b935(0x773)](_0xb32070,_0x540b80),this[_0x60b935(0x8de)][_0x60b935(0x1e2)][_0x60b935(0x6f9)](_0x540b80),_0x540b80;}catch(_0x84274a){if(_0x84274a instanceof _0x3e3c93)throw _0x84274a;throw new _0x4a800a(_0x4a800a[_0x60b935(0x7ef)][_0x60b935(0x503)],{'label':_0xb32070,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x60b935(0x8de)]['vendorId']});}}[_0x37ac7d(0x91d)](_0x573a90){const _0x5d6672=_0x37ac7d,_0x59b1a3=Array[_0x5d6672(0x267)](this[_0x5d6672(0x6ff)][_0x5d6672(0x5d6)]());return _0x573a90?_0x59b1a3[_0x5d6672(0x5e3)](_0x573a90):_0x59b1a3;}['getExternalStorageConnections'](_0x50d093){const _0x4df2cc=_0x37ac7d,_0x42591e=Array['from'](this[_0x4df2cc(0x520)][_0x4df2cc(0x5d6)]());return _0x50d093?_0x42591e[_0x4df2cc(0x5e3)](_0x50d093):_0x42591e;}[_0x37ac7d(0x154)](_0x5694b4){const _0x48861b=_0x37ac7d,_0x53c74a=Array[_0x48861b(0x267)](this[_0x48861b(0x7e2)][_0x48861b(0x5d6)]());return _0x5694b4?_0x53c74a[_0x48861b(0x5e3)](_0x5694b4):_0x53c74a;}['getJobDispatchers'](_0x294ecb){const _0x2b1a7c=_0x37ac7d,_0x4feb74=Array[_0x2b1a7c(0x267)](this['jobDispatchers'][_0x2b1a7c(0x5d6)]());return _0x294ecb?_0x4feb74['filter'](_0x294ecb):_0x4feb74;}['getJobWorkers'](_0x27ee0e){const _0x5be33a=_0x37ac7d,_0x391448=Array['from'](this[_0x5be33a(0x215)][_0x5be33a(0x5d6)]());return _0x27ee0e?_0x391448[_0x5be33a(0x5e3)](_0x27ee0e):_0x391448;}[_0x37ac7d(0x7f8)](_0x2badd1){const _0x4f21f0=_0x37ac7d,_0x2bf686=Array[_0x4f21f0(0x267)](this[_0x4f21f0(0x945)][_0x4f21f0(0x5d6)]())['filter'](_0x16ff9d=>_0x16ff9d instanceof _0x4d9adb);return _0x2badd1?_0x2bf686[_0x4f21f0(0x5e3)](_0x2badd1):_0x2bf686;}[_0x37ac7d(0x1af)](_0x1448a9){const _0x48ea6e=_0x37ac7d,_0x5512ac=Array[_0x48ea6e(0x267)](this[_0x48ea6e(0x215)][_0x48ea6e(0x5d6)]())['filter'](_0x5a25ab=>_0x5a25ab instanceof _0x302e00);return _0x1448a9?_0x5512ac[_0x48ea6e(0x5e3)](_0x1448a9):_0x5512ac;}[_0x37ac7d(0x927)](_0x52220d){const _0x406ebb=_0x37ac7d,_0x5b0ae3=Array[_0x406ebb(0x267)](this[_0x406ebb(0x337)]['values']());return _0x52220d?_0x5b0ae3['filter'](_0x52220d):_0x5b0ae3;}[_0x37ac7d(0xd5)](_0x167b9c){const _0x3b12ed=_0x37ac7d,_0x4a34fc=Array[_0x3b12ed(0x267)](this[_0x3b12ed(0x8b6)]['values']());return _0x167b9c?_0x4a34fc[_0x3b12ed(0x5e3)](_0x167b9c):_0x4a34fc;}['getPubSubTopics'](_0x74b9e){const _0x172dab=_0x37ac7d,_0x4eb568=Array['from'](this['pubSubTopics'][_0x172dab(0x5d6)]());return _0x74b9e?_0x4eb568[_0x172dab(0x5e3)](_0x74b9e):_0x4eb568;}[_0x37ac7d(0x4ef)](_0x453929){const _0x5e79ed=_0x37ac7d,_0x5a7f0b=Array[_0x5e79ed(0x267)](this[_0x5e79ed(0x93d)][_0x5e79ed(0x5d6)]())[_0x5e79ed(0x70d)]((_0x5e9760,_0x2fccbe)=>[..._0x5e9760,...Array[_0x5e79ed(0x267)](_0x2fccbe[_0x5e79ed(0x5d6)]())],[]);return _0x453929?_0x5a7f0b[_0x5e79ed(0x5e3)](_0x453929):_0x5a7f0b;}['getVectorDatabases'](_0x555d84){const _0x2b0c3d=_0x37ac7d,_0x410993=Array['from'](this['vectorDatabases'][_0x2b0c3d(0x5d6)]());return _0x555d84?_0x410993[_0x2b0c3d(0x5e3)](_0x555d84):_0x410993;}['getObjectStoreBucket'](_0x376fe7){const _0x58e3d4=_0x37ac7d,_0x42c913=this[_0x58e3d4(0x6ff)][_0x58e3d4(0x7e9)](_0x376fe7);if(!_0x42c913)throw new _0x3e3c93(_0x5b4e17[_0x58e3d4(0x3a2)],'ObjectStore\x20not\x20found');return _0x42c913;}['getExternalStorageConnection'](_0x275cad){const _0x13dfae=_0x37ac7d,_0x714346=_0x275cad[_0x13dfae(0x6b5)]('-'),_0x2471d1=this[_0x13dfae(0x520)][_0x13dfae(0x7e9)](_0x714346[0x1]);if(!_0x2471d1)throw new _0x3e3c93(_0x5b4e17[_0x13dfae(0x920)],_0x13dfae(0x46b));return _0x2471d1;}[_0x37ac7d(0x8ba)](_0x305b7c){const _0x4955cf=_0x37ac7d,_0x5f510e=this[_0x4955cf(0x337)]['get'](_0x305b7c);if(!_0x5f510e)throw new _0x3e3c93(_0x5b4e17[_0x4955cf(0x506)],_0x4955cf(0x6ef));return _0x5f510e;}['getKeyValueDatabase'](_0x5cf0c4){const _0x3c842e=_0x37ac7d,_0x5e6a91=this['keyValueDatabases'][_0x3c842e(0x7e9)](_0x5cf0c4);if(!_0x5e6a91)throw new _0x3e3c93(_0x5b4e17[_0x3c842e(0x762)],_0x3c842e(0x1cc));return _0x5e6a91;}['getPubSubTopic'](_0x561aae){const _0x401251=_0x37ac7d,_0x1726ae=this[_0x401251(0x2f0)]['get'](_0x561aae);if(!_0x1726ae)throw new _0x3e3c93(_0x5b4e17[_0x401251(0x834)],'PubSubTopic\x20not\x20found');return _0x1726ae;}['getVectorDatabase'](_0x5a9c4d){const _0x1a8df8=_0x37ac7d,_0x321f39=this[_0x1a8df8(0x465)][_0x1a8df8(0x7e9)](_0x5a9c4d);if(!_0x321f39)throw new _0x3e3c93(_0x5b4e17['VectorDatabaseDoesNotExist'],_0x1a8df8(0x2f2));return _0x321f39;}[_0x37ac7d(0x347)](_0x23afae){const _0x1ffd3f=_0x37ac7d;switch(_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x623)]){case _0x3b90a2[_0x1ffd3f(0x15b)]:this[_0x1ffd3f(0x6ae)](_0x23afae[_0x1ffd3f(0x8c5)]);break;case _0x3b90a2[_0x1ffd3f(0x687)]:this[_0x1ffd3f(0x118)](_0x23afae['content']);break;case _0x3b90a2[_0x1ffd3f(0x4a5)]:this[_0x1ffd3f(0xe2)](_0x23afae[_0x1ffd3f(0x8c5)]['label']);break;case _0x3b90a2['CloseJobWorker']:this[_0x1ffd3f(0x4d0)](_0x23afae['content'][_0x1ffd3f(0x7ee)]);break;case _0x3b90a2[_0x1ffd3f(0x13e)]:this[_0x1ffd3f(0x681)](_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x7ee)]);break;case _0x3b90a2[_0x1ffd3f(0x6c8)]:this[_0x1ffd3f(0x488)](_0x23afae[_0x1ffd3f(0x8c5)]['label']);break;case _0x3b90a2[_0x1ffd3f(0x378)]:this[_0x1ffd3f(0x326)](_0x23afae[_0x1ffd3f(0x8c5)]['label']);break;case _0x3b90a2[_0x1ffd3f(0x8a6)]:this[_0x1ffd3f(0x4ca)](_0x23afae['content']['label']);break;case _0x3b90a2[_0x1ffd3f(0x63a)]:this[_0x1ffd3f(0x881)](_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x7ee)]);break;case _0x3b90a2[_0x1ffd3f(0x4fa)]:this[_0x1ffd3f(0x713)](_0x23afae[_0x1ffd3f(0x8c5)]['label']);break;case _0x3b90a2['CloseGraphDatabase']:this[_0x1ffd3f(0x579)](_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x7ee)]);break;case _0x3b90a2[_0x1ffd3f(0x6b4)]:this[_0x1ffd3f(0x567)](_0x23afae[_0x1ffd3f(0x8c5)]);break;case _0x3b90a2[_0x1ffd3f(0x60e)]:this[_0x1ffd3f(0x7e2)][_0x1ffd3f(0x7e9)](_0x23afae['content'][_0x1ffd3f(0x7ee)])?.[_0x1ffd3f(0x84b)](_0x23afae[_0x1ffd3f(0x2ea)],_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x75b)]);break;case _0x3b90a2[_0x1ffd3f(0x131)]:this[_0x1ffd3f(0x7e2)]['get'](_0x23afae[_0x1ffd3f(0x8c5)]['label'])?.[_0x1ffd3f(0x788)](_0x23afae[_0x1ffd3f(0x2ea)],_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x75b)]);break;case _0x3b90a2[_0x1ffd3f(0x243)]:this[_0x1ffd3f(0x7e2)][_0x1ffd3f(0x7e9)](_0x23afae['content'][_0x1ffd3f(0x7ee)])?.[_0x1ffd3f(0x5eb)](_0x23afae[_0x1ffd3f(0x2ea)],_0x23afae['content']['peaks']);break;case _0x3b90a2[_0x1ffd3f(0x50d)]:this[_0x1ffd3f(0x7e2)][_0x1ffd3f(0x7e9)](_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x7ee)])?.[_0x1ffd3f(0xcd)](_0x23afae[_0x1ffd3f(0x2ea)],_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x8e0)]);break;case _0x3b90a2[_0x1ffd3f(0x3dd)]:this[_0x1ffd3f(0x7e2)]['get'](_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x7ee)])?.[_0x1ffd3f(0x6af)](_0x23afae[_0x1ffd3f(0x2ea)],_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x171)]);break;case _0x3b90a2[_0x1ffd3f(0x42b)]:this[_0x1ffd3f(0x7e2)][_0x1ffd3f(0x7e9)](_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x7ee)])?.[_0x1ffd3f(0x649)](_0x23afae['sourceId'],_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x412)]);break;case _0x3b90a2[_0x1ffd3f(0x6ba)]:this[_0x1ffd3f(0x8de)][_0x1ffd3f(0x1e2)][_0x1ffd3f(0x183)](_0x1ffd3f(0x47d),{'label':_0x23afae[_0x1ffd3f(0x8c5)]['label'],'trackKinds':_0x23afae[_0x1ffd3f(0x8c5)][_0x1ffd3f(0x7cb)]});}}[_0x37ac7d(0x876)]({content:_0x515af7}){const _0x56a7fb=_0x37ac7d;switch(_0x515af7[_0x56a7fb(0x623)]){case _0x12a052[_0x56a7fb(0x9aa)]:this[_0x56a7fb(0x449)](_0x515af7),this['notifyObjectStoreOfNodeJoin'](_0x515af7);break;case _0x12a052[_0x56a7fb(0x819)]:this[_0x56a7fb(0x61b)](_0x515af7),this[_0x56a7fb(0x84e)](_0x515af7);}}[_0x37ac7d(0x8f7)](_0x4fb690){const _0x772e86=_0x37ac7d;switch(_0x4fb690['content'][_0x772e86(0x623)]){case _0x4df43c[_0x772e86(0x5b3)]:this[_0x772e86(0x7d2)](_0x4fb690[_0x772e86(0x2ea)],_0x4fb690[_0x772e86(0x8c5)]);break;case _0x4df43c[_0x772e86(0x794)]:this['handleUpdateMediaStream'](_0x4fb690[_0x772e86(0x2ea)],_0x4fb690['content']);break;case _0x4df43c[_0x772e86(0x6b4)]:this['handleUnsubscribeMediaStream'](_0x4fb690['sourceId'],_0x4fb690[_0x772e86(0x8c5)]);}}[_0x37ac7d(0x567)](_0x31c713){const _0x3c0956=_0x37ac7d;if(0x0===_0x31c713['remainingTracks'])this[_0x3c0956(0x93d)]['get'](_0x31c713[_0x3c0956(0x580)])?.[_0x3c0956(0x7e9)](_0x31c713['label'])?.['destroy']();else{const _0x50d5ac=this[_0x3c0956(0x93d)][_0x3c0956(0x7e9)](_0x31c713['ownerId'])?.[_0x3c0956(0x7e9)](_0x31c713[_0x3c0956(0x7ee)]);if(!_0x50d5ac)return;_0x31c713[_0x3c0956(0x7cb)][_0x3c0956(0x97a)](_0x315e27=>_0x50d5ac[_0x3c0956(0x7f2)](_0x315e27));}}[_0x37ac7d(0x6ae)](_0x7f8448){const _0x10f11e=_0x37ac7d,{label:_0x424f12,ownerId:_0x32f5b6,stream:{streamId:_0x5eac0b,availableTrackKinds:_0x2af860}}=_0x7f8448;if(this['remoteMediaStreams']['get'](_0x32f5b6)?.[_0x10f11e(0x158)](_0x424f12))return void _0x52aedf['log'](_0xdea279[_0x10f11e(0x3a0)],_0x10f11e(0x840),_0x5eac0b);const _0x2ab60a=this[_0x10f11e(0x5fd)](_0x32f5b6,_0x424f12,_0x5eac0b,_0x2af860);this['configs']['mediator'][_0x10f11e(0x183)](_0x10f11e(0x831),{'ownerId':_0x32f5b6,'stream':_0x2ab60a});}[_0x37ac7d(0x118)]({ownerId:_0x468bb4,label:_0x374e0a}){const _0x5245eb=_0x37ac7d;this[_0x5245eb(0x673)](_0x468bb4,_0x374e0a),this[_0x5245eb(0x8de)][_0x5245eb(0x1e2)][_0x5245eb(0x183)]('content-unpublish-media',{'ownerId':_0x468bb4,'label':_0x374e0a});}[_0x37ac7d(0x7d2)](_0x36ffcb,_0x18483a){const _0x2d44bc=_0x37ac7d,{ownerId:_0x5ee86c,label:_0x2ac050}=_0x18483a;let _0x3ed38e;_0x3ed38e=_0x5ee86c!==this[_0x2d44bc(0x8de)][_0x2d44bc(0x116)][_0x2d44bc(0x336)]()?this[_0x2d44bc(0x93d)][_0x2d44bc(0x7e9)](_0x5ee86c)[_0x2d44bc(0x7e9)](_0x2ac050):this[_0x2d44bc(0x8b6)]['get'](_0x2ac050),_0x3ed38e['getShareableStream'](_0x36ffcb,_0x18483a[_0x2d44bc(0x7bb)])[_0x2d44bc(0x9b2)](_0x18483a,_0x3ed38e['getPriority']());}[_0x37ac7d(0x643)](_0x3a5842,_0x41a6c7){const _0x3d6e06=_0x37ac7d,{ownerId:_0x569f92,label:_0x3a7705}=_0x41a6c7;let _0x17d27b;_0x17d27b=_0x569f92!==this['configs'][_0x3d6e06(0x116)]['getId']()?this['remoteMediaStreams'][_0x3d6e06(0x7e9)](_0x569f92)[_0x3d6e06(0x7e9)](_0x3a7705):this[_0x3d6e06(0x8b6)][_0x3d6e06(0x7e9)](_0x3a7705),_0x17d27b[_0x3d6e06(0x225)](_0x3a5842,_0x41a6c7[_0x3d6e06(0x7bb)])[_0x3d6e06(0x328)](_0x41a6c7);}[_0x37ac7d(0x35b)](_0x5d8c52,_0x399913){const _0x55796a=_0x37ac7d,{ownerId:_0x2495ac,label:_0x11221f}=_0x399913;let _0x1d6e64;_0x1d6e64=_0x2495ac!==this[_0x55796a(0x8de)][_0x55796a(0x116)]['getId']()?this['remoteMediaStreams']['get'](_0x2495ac)[_0x55796a(0x7e9)](_0x11221f):this['localMediaStreams']['get'](_0x11221f),_0x1d6e64[_0x55796a(0x225)](_0x5d8c52)[_0x55796a(0x887)](_0x399913);}[_0x37ac7d(0x449)]({id:_0x6db0d4}){const _0x2e292d=_0x37ac7d;this[_0x2e292d(0xd5)]()[_0x2e292d(0x97a)](_0x1c323a=>{const _0x163f70=_0x2e292d;_0x1c323a[_0x163f70(0x10d)](_0x6db0d4);});}['handleNodeLeave']({id:_0x229943}){const _0x107167=_0x37ac7d;this[_0x107167(0x4ef)](_0xbf168d=>_0xbf168d[_0x107167(0x45a)]()===_0x229943)[_0x107167(0x97a)](_0x4e9ae1=>{const _0x7bd94d=_0x107167;this[_0x7bd94d(0x673)](_0x4e9ae1[_0x7bd94d(0x45a)](),_0x4e9ae1[_0x7bd94d(0x854)]());});}[_0x37ac7d(0x433)]({id:_0x224a39}){const _0x3cbbcf=_0x37ac7d;this[_0x3cbbcf(0x6ff)][_0x3cbbcf(0x97a)](_0x36265f=>_0x36265f[_0x3cbbcf(0x11b)](_0x224a39));}[_0x37ac7d(0x84e)]({id:_0x22d1ad}){const _0x3fee3b=_0x37ac7d;this['objectStores'][_0x3fee3b(0x97a)](_0x551409=>_0x551409['handleNodeLeave'](_0x22d1ad));}[_0x37ac7d(0xe2)](_0x1b9f4b){const _0x41f134=_0x37ac7d;if(!this[_0x41f134(0x945)][_0x41f134(0x158)](_0x1b9f4b))throw new _0x3e3c93(_0x5b4e17['JobDispatcherDoesNotExist'],_0x41f134(0x2f6));const _0x45680f=this[_0x41f134(0x945)][_0x41f134(0x7e9)](_0x1b9f4b);this[_0x41f134(0x945)][_0x41f134(0x6fd)](_0x1b9f4b),_0x45680f['destroy'](),this[_0x41f134(0x8de)][_0x41f134(0x1e2)][_0x41f134(0x2de)](_0x45680f);}[_0x37ac7d(0x4d0)](_0x4d6c4d){const _0x590089=_0x37ac7d;if(!this[_0x590089(0x215)]['has'](_0x4d6c4d))throw new _0x3e3c93(_0x5b4e17['JobWorkerDoesNotExist'],'Job\x20Worker\x20does\x20not\x20exist');const _0x2647d9=this['jobWorkers'][_0x590089(0x7e9)](_0x4d6c4d);this[_0x590089(0x215)]['delete'](_0x4d6c4d),_0x2647d9[_0x590089(0x464)](),this[_0x590089(0x8de)][_0x590089(0x1e2)][_0x590089(0x2de)](_0x2647d9);}['removeObjectStore'](_0xf7999b){const _0x4487bf=_0x37ac7d;if(!this[_0x4487bf(0x6ff)][_0x4487bf(0x158)](_0xf7999b))throw new _0x3e3c93(_0x5b4e17[_0x4487bf(0x3a2)],_0x4487bf(0x44f));const _0x1fa00b=this[_0x4487bf(0x6ff)]['get'](_0xf7999b);this['objectStores'][_0x4487bf(0x6fd)](_0xf7999b),_0x1fa00b['destroy'](),this['configs'][_0x4487bf(0x1e2)][_0x4487bf(0x2de)](_0x1fa00b);}[_0x37ac7d(0x4ca)](_0x7a2e3b){const _0x1936bd=_0x37ac7d;if(!this[_0x1936bd(0x520)][_0x1936bd(0x158)](_0x7a2e3b))throw new _0x3e3c93(_0x5b4e17[_0x1936bd(0x920)],'Connection\x20does\x20not\x20exist');const _0xcf07e9=this[_0x1936bd(0x520)][_0x1936bd(0x7e9)](_0x7a2e3b);this[_0x1936bd(0x520)][_0x1936bd(0x6fd)](_0x7a2e3b),_0xcf07e9['destroy'](),this[_0x1936bd(0x8de)][_0x1936bd(0x1e2)][_0x1936bd(0x2de)](_0xcf07e9);}[_0x37ac7d(0x488)](_0x5ef334){const _0x4a9bb8=_0x37ac7d;if(!this[_0x4a9bb8(0x2f0)][_0x4a9bb8(0x158)](_0x5ef334))throw new _0x3e3c93(_0x5b4e17[_0x4a9bb8(0x834)],_0x4a9bb8(0x44f));const _0x5a04b=this[_0x4a9bb8(0x2f0)][_0x4a9bb8(0x7e9)](_0x5ef334);this[_0x4a9bb8(0x2f0)][_0x4a9bb8(0x6fd)](_0x5ef334),_0x5a04b['destroy'](),this['configs'][_0x4a9bb8(0x1e2)][_0x4a9bb8(0x2de)](_0x5a04b);}['removeKeyValueDatabase'](_0x1b67a4){const _0x2c7f61=_0x37ac7d;if(!this[_0x2c7f61(0x7e2)][_0x2c7f61(0x158)](_0x1b67a4))throw new _0x3e3c93(_0x5b4e17[_0x2c7f61(0x762)],_0x2c7f61(0x438));const _0x49488c=this[_0x2c7f61(0x7e2)][_0x2c7f61(0x7e9)](_0x1b67a4);this[_0x2c7f61(0x7e2)][_0x2c7f61(0x6fd)](_0x1b67a4),_0x49488c['destroy'](),this['configs'][_0x2c7f61(0x1e2)]['unregisterSystemSource'](_0x49488c);}[_0x37ac7d(0x713)](_0x48bdf8){const _0xad27bc=_0x37ac7d;if(!this[_0xad27bc(0x465)][_0xad27bc(0x158)](_0x48bdf8))throw new _0x3e3c93(_0x5b4e17[_0xad27bc(0x64f)],'Database\x20does\x20not\x20exist');const _0x55c16b=this[_0xad27bc(0x465)][_0xad27bc(0x7e9)](_0x48bdf8);this[_0xad27bc(0x465)][_0xad27bc(0x6fd)](_0x48bdf8),_0x55c16b[_0xad27bc(0x464)](),this['configs'][_0xad27bc(0x1e2)][_0xad27bc(0x2de)](_0x55c16b);}[_0x37ac7d(0x579)](_0x20c311){const _0x1c161d=_0x37ac7d;if(!this[_0x1c161d(0x337)][_0x1c161d(0x158)](_0x20c311))throw new _0x3e3c93(_0x5b4e17[_0x1c161d(0x506)],_0x1c161d(0x438));const _0x1fe9cb=this[_0x1c161d(0x337)][_0x1c161d(0x7e9)](_0x20c311);this[_0x1c161d(0x337)][_0x1c161d(0x6fd)](_0x20c311),_0x1fe9cb[_0x1c161d(0x464)](),this['configs']['mediator'][_0x1c161d(0x2de)](_0x1fe9cb);}[_0x37ac7d(0x681)](_0x2a8709){const _0x28cf63=_0x37ac7d;if(!this[_0x28cf63(0x8b6)][_0x28cf63(0x158)](_0x2a8709))throw new _0x4a800a(_0x4a800a[_0x28cf63(0x7ef)][_0x28cf63(0x2f5)],{'label':_0x2a8709,'localId':this[_0x28cf63(0x8de)][_0x28cf63(0x116)][_0x28cf63(0x336)]()});const _0x47d114=this[_0x28cf63(0x8b6)][_0x28cf63(0x7e9)](_0x2a8709);this[_0x28cf63(0x8de)][_0x28cf63(0x1e2)]['unregisterSystemSource'](_0x47d114),_0x47d114[_0x28cf63(0x464)](),this[_0x28cf63(0x8b6)][_0x28cf63(0x6fd)](_0x2a8709);}[_0x37ac7d(0x673)](_0x21b6b6,_0x467dcc){const _0x8efffd=_0x37ac7d;if(!this[_0x8efffd(0x93d)]['has'](_0x21b6b6))throw new _0x4a800a(_0x4a800a[_0x8efffd(0x7ef)][_0x8efffd(0x537)],{'nodeId':_0x21b6b6,'localId':this[_0x8efffd(0x8de)][_0x8efffd(0x116)][_0x8efffd(0x336)]()});const _0xb5e837=this['remoteMediaStreams'][_0x8efffd(0x7e9)](_0x21b6b6);if(!_0xb5e837[_0x8efffd(0x158)](_0x467dcc))throw new _0x4a800a(_0x4a800a[_0x8efffd(0x7ef)][_0x8efffd(0x79c)],{'nodeId':_0x21b6b6,'label':_0x467dcc,'localId':this[_0x8efffd(0x8de)][_0x8efffd(0x116)][_0x8efffd(0x336)]()});const _0x412599=_0xb5e837[_0x8efffd(0x7e9)](_0x467dcc);this[_0x8efffd(0x8de)][_0x8efffd(0x1e2)]['unregisterSystemSource'](_0x412599),_0x412599[_0x8efffd(0x464)](),_0xb5e837[_0x8efffd(0x6fd)](_0x467dcc);}}var _0x49bc30,_0x27215f,_0x46823f;!function(_0x4d7a1a){const _0x3974ae=_0x37ac7d;_0x4d7a1a[_0x3974ae(0x2d5)]=_0x3974ae(0x69b),_0x4d7a1a['DTVolatility']=_0x3974ae(0x5b0),_0x4d7a1a[_0x3974ae(0x5e1)]='time_per_frame',_0x4d7a1a[_0x3974ae(0xfb)]=_0x3974ae(0x311),_0x4d7a1a['Jitter']=_0x3974ae(0x1a6),_0x4d7a1a[_0x3974ae(0x781)]=_0x3974ae(0x42c),_0x4d7a1a['RoundTripTime']=_0x3974ae(0x186),_0x4d7a1a['AudioVideoDelay']=_0x3974ae(0x12a);}(_0x49bc30||(_0x49bc30={})),function(_0x1fa1b0){const _0x324b0f=_0x37ac7d;_0x1fa1b0[_0x324b0f(0x967)]='cpu.cycle',_0x1fa1b0[_0x324b0f(0x5e1)]=_0x324b0f(0x74b),_0x1fa1b0[_0x324b0f(0x66e)]=_0x324b0f(0x7d5),_0x1fa1b0[_0x324b0f(0x781)]=_0x324b0f(0x97b),_0x1fa1b0[_0x324b0f(0xfb)]='bandwidth.bitrate',_0x1fa1b0[_0x324b0f(0x3c3)]=_0x324b0f(0x75f),_0x1fa1b0[_0x324b0f(0x5ed)]=_0x324b0f(0x418);}(_0x27215f||(_0x27215f={})),function(_0x503c2c){_0x503c2c[_0x503c2c['Problem']=0x0]='Problem';}(_0x46823f||(_0x46823f={}));const _0x3d5eb1=[{'type':_0x49bc30[_0x37ac7d(0x2d5)],'reportMetric':_0x39aa9d=>_0x39aa9d[_0x37ac7d(0x2d5)],'maxThreshold':2.5},{'type':_0x49bc30['DTVolatility'],'reportMetric':_0x1af316=>_0x1af316[_0x37ac7d(0x925)],'maxThreshold':0.5}],_0x2ec418=[{'type':_0x49bc30[_0x37ac7d(0x5e1)],'reportMetric':_0x1d5088=>{const _0x4d9ad2=_0x37ac7d,_0x17ddf7=0x3e8/_0x1d5088['FPS'];return _0x1d5088[_0x4d9ad2(0x65b)]/_0x17ddf7;},'maxThreshold':0.75},{'type':_0x49bc30[_0x37ac7d(0xfb)],'reportMetric':_0x2d7fd8=>{const _0x3b4954=_0x2d7fd8['FPS']*_0x2d7fd8['frameWidth']*_0x2d7fd8['frameHeight']*0.12;return _0x2d7fd8['bitrate']/_0x3b4954;},'minThreshold':0.25},{'type':_0x49bc30[_0x37ac7d(0x3c3)],'reportMetric':_0x486828=>_0x486828[_0x37ac7d(0x1a6)],'maxThreshold':0.6},{'type':_0x49bc30[_0x37ac7d(0x781)],'reportMetric':_0x2d5536=>_0x2d5536[_0x37ac7d(0x52c)],'minThreshold':0xa}],_0x18035b=[{'type':_0x49bc30[_0x37ac7d(0x3c3)],'reportMetric':_0x136793=>_0x136793[_0x37ac7d(0x1a6)],'maxThreshold':0.6}],_0x17a808=[{'type':_0x49bc30[_0x37ac7d(0x5ed)],'reportMetric':_0x1a4d2a=>_0x1a4d2a[_0x37ac7d(0x18d)],'maxThreshold':0x1/0x0}],_0x36a575=[{'type':_0x49bc30['AudioVideoDelay'],'reportMetric':_0x195a8f=>_0x195a8f[_0x37ac7d(0x66e)],'maxThreshold':0x12c}],_0x3e3a8f=[{'type':_0x27215f[_0x37ac7d(0x967)],'issues':[{'type':_0x49bc30[_0x37ac7d(0x2d5)],'threshold':0x5},{'type':_0x49bc30[_0x37ac7d(0x925)],'threshold':0x5}]},{'type':_0x27215f[_0x37ac7d(0x5e1)],'issues':[{'type':_0x49bc30[_0x37ac7d(0x5e1)],'threshold':0x3}]},{'type':_0x27215f[_0x37ac7d(0x66e)],'issues':[{'type':_0x49bc30[_0x37ac7d(0x66e)],'threshold':0x2}]},{'type':_0x27215f[_0x37ac7d(0x781)],'issues':[{'type':_0x49bc30['FramePerSecond'],'threshold':0x3}]},{'type':_0x27215f['Bitrate'],'issues':[{'type':_0x49bc30[_0x37ac7d(0xfb)],'threshold':0x3}]},{'type':_0x27215f[_0x37ac7d(0x3c3)],'issues':[{'type':_0x49bc30[_0x37ac7d(0x3c3)],'threshold':0x3}]},{'type':_0x27215f[_0x37ac7d(0x5ed)],'issues':[{'type':_0x49bc30['RoundTripTime'],'threshold':0x3}]}];var _0x14e3b2,_0x476bd8;!function(_0x27eea1){const _0x5cf1b7=_0x37ac7d;_0x27eea1[_0x27eea1[_0x5cf1b7(0x67d)]=0x0]=_0x5cf1b7(0x67d),_0x27eea1[_0x27eea1[_0x5cf1b7(0x592)]=0x1]=_0x5cf1b7(0x592);}(_0x14e3b2||(_0x14e3b2={}));class _0x479cbf{[_0x37ac7d(0x8de)];[_0x37ac7d(0x16b)]=[];['systemTopic'];constructor(_0x25c34f){const _0x4f9770=_0x37ac7d;this[_0x4f9770(0x8de)]=_0x25c34f,this[_0x4f9770(0x8de)]['mediator'][_0x4f9770(0x6f9)](this);}[_0x37ac7d(0x1b9)](_0x290d55){this['systemTopic']=_0x290d55;}[_0x37ac7d(0x84a)](){this['systemTopic']=void 0x0;}['close'](){const _0x309ab8=_0x37ac7d;this[_0x309ab8(0x8de)][_0x309ab8(0x1e2)][_0x309ab8(0x2de)](this),this['issues']=[];}[_0x37ac7d(0x165)](_0x2d9a29){const _0x4d3796=_0x37ac7d;switch(_0x2d9a29['content'][_0x4d3796(0x623)]){case _0x14e3b2[_0x4d3796(0x592)]:this[_0x4d3796(0x546)](_0x2d9a29[_0x4d3796(0x8c5)][_0x4d3796(0x51f)]);break;case _0x14e3b2[_0x4d3796(0x67d)]:this[_0x4d3796(0x38d)](_0x2d9a29[_0x4d3796(0x8c5)]['data']);}}[_0x37ac7d(0x18a)](_0x1a16ba,_0x5cb2eb,_0x25e66a,_0x140171){const _0x4b55b8=_0x37ac7d,_0x47dbde=_0x3e3a8f[_0x4b55b8(0x419)](_0xf28af0=>_0xf28af0[_0x4b55b8(0x16b)][_0x4b55b8(0x949)](_0x94a4c0=>_0x94a4c0['type']===_0x1a16ba));_0x140171>=_0x47dbde[_0x4b55b8(0x16b)][_0x4b55b8(0x419)](_0x1ebdb8=>_0x1ebdb8['type']===_0x1a16ba)[_0x4b55b8(0x238)]&&(this['addProblem'](_0x47dbde[_0x4b55b8(0x623)],_0x5cb2eb,_0x25e66a),this['issues']=this[_0x4b55b8(0x16b)][_0x4b55b8(0x5e3)](_0x414daf=>!(_0x414daf[_0x4b55b8(0x623)]===_0x1a16ba&&_0x414daf['nodeId']===_0x5cb2eb&&_0x414daf[_0x4b55b8(0x1ea)]===_0x25e66a)));}['detectLocalIssues'](_0x4ad6e5){const _0x56d5aa=_0x37ac7d;_0x3d5eb1[_0x56d5aa(0x97a)](_0x566f66=>{const _0x56e317=_0x56d5aa,_0x2ed2c9=_0x566f66['reportMetric'](_0x4ad6e5);_0x566f66['maxThreshold']&&_0x2ed2c9>_0x566f66['maxThreshold']&&this['addIssue'](_0x566f66[_0x56e317(0x623)],this[_0x56e317(0x8de)][_0x56e317(0x116)]['getId'](),_0x11d6ca['Sender'],_0x2ed2c9),_0x566f66['minThreshold']&&_0x2ed2c9<_0x566f66[_0x56e317(0x329)]&&this[_0x56e317(0x313)](_0x566f66[_0x56e317(0x623)],this[_0x56e317(0x8de)]['localNode'][_0x56e317(0x336)](),_0x11d6ca[_0x56e317(0x547)],_0x2ed2c9);});}[_0x37ac7d(0x38d)](_0x3e62c3){const _0x358a40=_0x37ac7d;let _0x3795b0=[];switch(_0x3e62c3['origin']){case _0x11d6ca[_0x358a40(0x547)]:_0x3795b0=_0x17a808;break;case _0x11d6ca[_0x358a40(0x115)]:_0x3795b0=_0x36a575;}_0x3e62c3[_0x358a40(0x260)]&&this[_0x358a40(0x973)](_0x3e62c3[_0x358a40(0x8bb)],_0x11d6ca[_0x358a40(0x547)],_0x3e62c3[_0x358a40(0x260)]),_0x3e62c3[_0x358a40(0x71d)]&&this[_0x358a40(0x428)](_0x3e62c3['nodeId'],_0x11d6ca[_0x358a40(0x547)],_0x3e62c3[_0x358a40(0x71d)]),_0x3795b0[_0x358a40(0x97a)](_0x27b148=>{const _0x295bc8=_0x358a40,_0x2c3c98=_0x27b148['reportMetric'](_0x3e62c3);_0x27b148[_0x295bc8(0x736)]&&_0x2c3c98>_0x27b148[_0x295bc8(0x736)]&&this['addIssue'](_0x27b148[_0x295bc8(0x623)],_0x3e62c3[_0x295bc8(0x8bb)],_0x11d6ca[_0x295bc8(0x547)],_0x2c3c98),_0x27b148[_0x295bc8(0x329)]&&_0x2c3c98<_0x27b148[_0x295bc8(0x329)]&&this[_0x295bc8(0x313)](_0x27b148[_0x295bc8(0x623)],_0x3e62c3[_0x295bc8(0x8bb)],_0x11d6ca[_0x295bc8(0x547)],_0x2c3c98);});}[_0x37ac7d(0x973)](_0x564f33,_0x6b5a69,_0x1b1dce){const _0x23d876=_0x37ac7d;0x0!==_0x1b1dce[_0x23d876(0x311)]&&_0x2ec418[_0x23d876(0x97a)](_0x12d011=>{const _0x1ba401=_0x23d876,_0x44ce0d=_0x12d011[_0x1ba401(0x613)](_0x1b1dce);_0x12d011[_0x1ba401(0x736)]&&_0x44ce0d>_0x12d011[_0x1ba401(0x736)]&&this['addIssue'](_0x12d011[_0x1ba401(0x623)],_0x564f33,_0x6b5a69,_0x44ce0d,_0x1ba401(0x260)),_0x12d011[_0x1ba401(0x329)]&&_0x44ce0d<_0x12d011['minThreshold']&&this[_0x1ba401(0x313)](_0x12d011[_0x1ba401(0x623)],_0x564f33,_0x6b5a69,_0x44ce0d,_0x1ba401(0x260));});}['detectAudioIssues'](_0x3ab325,_0x58195f,_0x2f8815){const _0x4d838a=_0x37ac7d;0x0!==_0x2f8815[_0x4d838a(0x311)]&&_0x18035b[_0x4d838a(0x97a)](_0x2e7e8b=>{const _0x59d2f6=_0x4d838a,_0x27bc92=_0x2e7e8b['reportMetric'](_0x2f8815);_0x2e7e8b[_0x59d2f6(0x736)]&&_0x27bc92>_0x2e7e8b[_0x59d2f6(0x736)]&&this['addIssue'](_0x2e7e8b[_0x59d2f6(0x623)],_0x3ab325,_0x58195f,_0x27bc92,_0x59d2f6(0x71d)),_0x2e7e8b[_0x59d2f6(0x329)]&&_0x27bc92<_0x2e7e8b[_0x59d2f6(0x329)]&&this[_0x59d2f6(0x313)](_0x2e7e8b[_0x59d2f6(0x623)],_0x3ab325,_0x58195f,_0x27bc92,_0x59d2f6(0x71d));});}['addIssue'](_0x5e9903,_0x42f757,_0x295e0d,_0x2c77e5,_0x32ea92){const _0x2550a6=_0x37ac7d;_0x52aedf[_0x2550a6(0x857)](_0xdea279[_0x2550a6(0x2f9)],_0x2550a6(0x13c)+_0x5e9903,_0x5e9903,_0x2c77e5),_0x52aedf[_0x2550a6(0x5c7)](_0x2550a6(0x43f),{'clusterId':this[_0x2550a6(0x8de)][_0x2550a6(0x6b0)],'nodeId':this['configs'][_0x2550a6(0x116)][_0x2550a6(0x336)](),'nodeType':this[_0x2550a6(0x8de)][_0x2550a6(0x116)]['type'],'remoteId':_0x42f757,'data':{'type':_0x5e9903,'value':_0x2c77e5,'kind':_0x32ea92}}),this[_0x2550a6(0x16b)]=this[_0x2550a6(0x16b)][_0x2550a6(0x5e3)](_0xe0b4a5=>Date[_0x2550a6(0x90d)]()-_0xe0b4a5['timestamp']<0x7530),this[_0x2550a6(0x16b)][_0x2550a6(0x7b5)]({'timestamp':Date[_0x2550a6(0x90d)](),'type':_0x5e9903,'nodeId':_0x42f757,'origin':_0x295e0d,'value':_0x2c77e5,'kind':_0x32ea92});const _0x375ce1=this['issues'][_0x2550a6(0x5e3)](_0x306b08=>_0x306b08[_0x2550a6(0x623)]===_0x5e9903&&_0x306b08[_0x2550a6(0x8bb)]===_0x42f757&&_0x306b08['origin']===_0x295e0d)[_0x2550a6(0x146)];this[_0x2550a6(0x18a)](_0x5e9903,_0x42f757,_0x295e0d,_0x375ce1);}[_0x37ac7d(0x3c6)](_0x561cb0,_0x2ba5d7,_0xf43aea){const _0x4c9c2e=_0x37ac7d;_0x52aedf[_0x4c9c2e(0x857)](_0xdea279[_0x4c9c2e(0x2f9)],_0x4c9c2e(0x9ba)+_0x561cb0),_0x52aedf[_0x4c9c2e(0x5c7)](_0x4c9c2e(0x8f9),{'clusterId':this[_0x4c9c2e(0x8de)]['clusterId'],'nodeId':this[_0x4c9c2e(0x8de)][_0x4c9c2e(0x116)][_0x4c9c2e(0x336)](),'nodeType':this[_0x4c9c2e(0x8de)][_0x4c9c2e(0x116)]['type'],'remoteId':_0x2ba5d7,'data':{'type':_0x561cb0}}),this[_0x4c9c2e(0x1b1)]?.[_0x4c9c2e(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x4c9c2e(0x2f9)],'content':{'type':_0x46823f[_0x4c9c2e(0x725)],'data':{'timestamp':Date[_0x4c9c2e(0x90d)](),'nodeId':_0x2ba5d7,'origin':_0x11d6ca['Sender'],'type':_0x561cb0}}});}}class _0x2b0594 extends _0x38ba44{[_0x37ac7d(0x623)]=_0x441722['NodeType'][_0x37ac7d(0x22d)];}class _0x4d1576 extends _0x2b0594{['systemTopic'];[_0x37ac7d(0x9d8)]=Date[_0x37ac7d(0x90d)]();[_0x37ac7d(0x82b)];[_0x37ac7d(0x968)];[_0x37ac7d(0x91a)](){const _0x501470=_0x37ac7d;this[_0x501470(0x82b)]&&(clearTimeout(this[_0x501470(0x82b)]),delete this[_0x501470(0x82b)]),delete this[_0x501470(0x968)],this[_0x501470(0x9d8)]=Date[_0x501470(0x90d)](),super[_0x501470(0x91a)]();}[_0x37ac7d(0x1b9)](_0x5ad55c){const _0x4ce330=_0x37ac7d;this[_0x4ce330(0x1b1)]=_0x5ad55c;}[_0x37ac7d(0x84a)](){delete this['systemTopic'];}[_0x37ac7d(0x15c)](_0x52ee06){const _0x3c29f9=_0x37ac7d;!this[_0x3c29f9(0x82b)]&&this[_0x3c29f9(0x833)]&&this[_0x3c29f9(0x1b1)][_0x3c29f9(0x10d)]({'sourceId':this['id'],'destinationIds':[_0x52ee06],'propagate':!0x0,'messageType':_0x403b04[_0x3c29f9(0x4a7)],'content':{'type':_0x12a052[_0x3c29f9(0x150)],'id':this['id'],'metaData':{'type':this[_0x3c29f9(0x623)]},'rank':this['getRank'](),'remoteConnections':Array['from'](this[_0x3c29f9(0x645)]),'version':this[_0x3c29f9(0x9d8)]}});}[_0x37ac7d(0x2c1)](_0x3a3b6d){const _0x36b6c8=_0x37ac7d;this[_0x36b6c8(0x645)]['has'](_0x3a3b6d)||(this[_0x36b6c8(0x645)]['add'](_0x3a3b6d),this[_0x36b6c8(0x126)](),this['publishUserUpdate'](!0x0));}['removeRemoteConnection'](_0x53f4a4){const _0x31ec8a=_0x37ac7d;this[_0x31ec8a(0x645)][_0x31ec8a(0x158)](_0x53f4a4)&&(this[_0x31ec8a(0x645)][_0x31ec8a(0x6fd)](_0x53f4a4),this['incrementVersion'](),this[_0x31ec8a(0x24a)](!0x0));}['getCurrentVersion'](){const _0x428853=_0x37ac7d;return this[_0x428853(0x9d8)];}[_0x37ac7d(0x106)](_0x5d99e0,_0x3fa9b3=!0x0){const _0x74d142=_0x37ac7d;this[_0x74d142(0x833)]!==_0x5d99e0&&(this[_0x74d142(0x833)]=_0x5d99e0,_0x3fa9b3&&(this[_0x74d142(0x126)](),this[_0x74d142(0x24a)]()));}['incrementVersion'](){const _0x5694c8=_0x37ac7d;this[_0x5694c8(0x9d8)]=Date['now']();}[_0x37ac7d(0x24a)](_0x27290c=!0x1){const _0x440a47=_0x37ac7d;if(this['rank']){if(this['lastUpdated']||(this['lastUpdated']=Date[_0x440a47(0x90d)]()),this[_0x440a47(0x82b)]){if(Date['now']()-this[_0x440a47(0x968)]>0x2328)return;clearTimeout(this[_0x440a47(0x82b)]);}this[_0x440a47(0x82b)]=setTimeout(()=>{const _0x3e1519=_0x440a47;delete this[_0x3e1519(0x968)],delete this[_0x3e1519(0x82b)],this[_0x3e1519(0x1b1)][_0x3e1519(0x10d)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x403b04[_0x3e1519(0x4a7)],'content':{'type':_0x27290c?_0x12a052[_0x3e1519(0x7f6)]:_0x12a052['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x3e1519(0x623)]},'rank':this[_0x3e1519(0x734)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0x3e1519(0x9d8)]}});},0x3e8);}}}class _0x45949b extends _0x46cdd0{[_0x37ac7d(0x1b1)];[_0x37ac7d(0x9d8)]=Date[_0x37ac7d(0x90d)]();[_0x37ac7d(0x82b)];[_0x37ac7d(0x968)];[_0x37ac7d(0x91a)](){const _0x3fc9aa=_0x37ac7d;this[_0x3fc9aa(0x82b)]&&(clearTimeout(this[_0x3fc9aa(0x82b)]),delete this[_0x3fc9aa(0x82b)]),delete this[_0x3fc9aa(0x968)],this['currentVersion']=Date[_0x3fc9aa(0x90d)](),super[_0x3fc9aa(0x91a)]();}['registerSystemPublisher'](_0x444853){const _0x5bf93b=_0x37ac7d;this[_0x5bf93b(0x1b1)]=_0x444853;}[_0x37ac7d(0x84a)](){const _0x3e73b4=_0x37ac7d;delete this[_0x3e73b4(0x1b1)];}['answerJoin'](_0x57f0d9){const _0xb15bd4=_0x37ac7d;!this['updateDebounceTimeout']&&this[_0xb15bd4(0x833)]&&this[_0xb15bd4(0x1b1)][_0xb15bd4(0x10d)]({'sourceId':this['id'],'destinationIds':[_0x57f0d9],'propagate':!0x0,'messageType':_0x403b04['Node'],'content':{'type':_0x12a052[_0xb15bd4(0x150)],'id':this['id'],'metaData':{'type':this[_0xb15bd4(0x623)],'displayName':this[_0xb15bd4(0x80d)](),'email':this[_0xb15bd4(0x685)]()},'rank':this['getRank'](),'remoteConnections':Array[_0xb15bd4(0x267)](this[_0xb15bd4(0x645)]),'version':this[_0xb15bd4(0x9d8)]}});}['addRemoteConnection'](_0x15082d){const _0x33d836=_0x37ac7d;this[_0x33d836(0x645)]['has'](_0x15082d)||(this['remoteConnections'][_0x33d836(0x492)](_0x15082d),this['incrementVersion'](),this[_0x33d836(0x24a)](!0x0));}[_0x37ac7d(0x883)](_0x1dc07c){const _0x213670=_0x37ac7d;this[_0x213670(0x645)]['has'](_0x1dc07c)&&(this[_0x213670(0x645)][_0x213670(0x6fd)](_0x1dc07c),this[_0x213670(0x126)](),this[_0x213670(0x24a)](!0x0));}[_0x37ac7d(0x4a2)](){const _0x472205=_0x37ac7d;return this[_0x472205(0x9d8)];}[_0x37ac7d(0x83b)](_0x2cb161){const _0x551390=_0x37ac7d;this[_0x551390(0x5ff)]!==_0x2cb161&&(this['displayName']=_0x2cb161,this[_0x551390(0x126)](),this[_0x551390(0x24a)]());}[_0x37ac7d(0x871)](_0x152e5b){const _0x464ca6=_0x37ac7d;this[_0x464ca6(0x359)]!==_0x152e5b&&(this[_0x464ca6(0x359)]=_0x152e5b,this[_0x464ca6(0x126)](),this[_0x464ca6(0x24a)]());}[_0x37ac7d(0x106)](_0x4eaf16,_0x4efb76=!0x0){const _0x5e9600=_0x37ac7d;this[_0x5e9600(0x833)]!==_0x4eaf16&&(this[_0x5e9600(0x833)]=_0x4eaf16,_0x4efb76&&(this[_0x5e9600(0x126)](),this[_0x5e9600(0x24a)]()));}[_0x37ac7d(0x126)](){const _0x543e2b=_0x37ac7d;this[_0x543e2b(0x9d8)]=Date[_0x543e2b(0x90d)]();}[_0x37ac7d(0x24a)](_0x282dac=!0x1){const _0x46840d=_0x37ac7d;if(this[_0x46840d(0x833)]){if(this[_0x46840d(0x968)]||(this[_0x46840d(0x968)]=Date['now']()),this[_0x46840d(0x82b)]){if(Date[_0x46840d(0x90d)]()-this[_0x46840d(0x968)]>0x2328)return;clearTimeout(this[_0x46840d(0x82b)]);}this[_0x46840d(0x82b)]=setTimeout(()=>{const _0x14085f=_0x46840d;delete this[_0x14085f(0x968)],delete this[_0x14085f(0x82b)],this[_0x14085f(0x1b1)][_0x14085f(0x10d)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x403b04[_0x14085f(0x4a7)],'content':{'type':_0x282dac?_0x12a052[_0x14085f(0x7f6)]:_0x12a052['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x14085f(0x623)],'displayName':this[_0x14085f(0x80d)](),'email':this['getEmail']()},'rank':this[_0x14085f(0x734)](),'remoteConnections':Array['from'](this[_0x14085f(0x645)]),'version':this[_0x14085f(0x9d8)]}});},0x3e8);}}}class _0x40fd9a{['id'];[_0x37ac7d(0x3ea)];[_0x37ac7d(0x7f1)];['agentConfig'];[_0x37ac7d(0x623)]=_0x441722[_0x37ac7d(0x15a)][_0x37ac7d(0x22d)];[_0x37ac7d(0x6f7)];constructor(_0xcb7ea3,_0x2f4425,_0x48ee4d,_0xcb9a54){const _0x36ba32=_0x37ac7d;this['id']=_0xcb7ea3,this[_0x36ba32(0x3ea)]=_0x2f4425,this[_0x36ba32(0x7f1)]=_0x48ee4d,this[_0x36ba32(0x450)]=_0xcb9a54;}[_0x37ac7d(0x336)](){return this['id'];}[_0x37ac7d(0x91f)](_0x5983bf){const _0x1ce67f=_0x37ac7d,_0x3ff118=(0x0,_0x2c741a[_0x1ce67f(0x755)])((0x0,_0x2c741a[_0x1ce67f(0x4be)])(_0xe4f57[_0x1ce67f(0x242)](),_0x1ce67f(0x2ad)+this[_0x1ce67f(0x7f1)]+_0x1ce67f(0x3b5)+this[_0x1ce67f(0x3ea)]),_0xfcb9d=>{const _0x201602=_0x1ce67f;if(_0xfcb9d[_0x201602(0x561)]()){const _0x410722=_0xfcb9d['data']();if(this[_0x201602(0x450)][_0x201602(0x26a)][_0x201602(0x2bb)](_0x410722[_0x201602(0x26a)]))return;_0x52aedf[_0x201602(0x857)](_0xdea279[_0x201602(0x4a7)],'agent-config-changed',{'agentId':this['id'],'groupId':this[_0x201602(0x3ea)],'oldConfig':this[_0x201602(0x450)],'newConfig':_0x410722}),this[_0x201602(0x450)]=_0x410722,_0x5983bf();}});return()=>_0x3ff118();}[_0x37ac7d(0x460)](_0x11cc39){const _0x2917ae=_0x37ac7d;return this[_0x2917ae(0x3d3)](this[_0x2917ae(0x3ea)],_0x11cc39),_0x29b976[_0x2917ae(0x10c)](()=>this['reportCapacity'](this[_0x2917ae(0x3ea)],_0x11cc39),0x7530);}[_0x37ac7d(0x6e8)](){const _0x512b6c=_0x37ac7d;if(!this[_0x512b6c(0x6f7)])throw new _0x4a800a(_0x4a800a[_0x512b6c(0x7ef)]['MistletCapacityReportNotSet']);return this['lastCapacityReport'];}async[_0x37ac7d(0x3d3)](_0x2d9c95,_0x448a5e){const _0x2f5f94=_0x37ac7d,_0x3dadb6=await _0x448a5e();this[_0x2f5f94(0x6f7)]=_0x3dadb6,await(0x0,_0x2c741a['addDoc'])((0x0,_0x2c741a[_0x2f5f94(0x73b)])(_0xe4f57[_0x2f5f94(0x242)](),_0x2f5f94(0x2ad)+this[_0x2f5f94(0x7f1)]+_0x2f5f94(0x699)),{'agentId':this['id'],'groupId':_0x2d9c95,'timestamp':(0x0,_0x2c741a[_0x2f5f94(0x327)])(),'capacity':_0x3dadb6});}}!function(_0x4ad947){const _0x42b287=_0x37ac7d;_0x4ad947[_0x4ad947[_0x42b287(0x11e)]=0x0]=_0x42b287(0x11e),_0x4ad947[_0x4ad947[_0x42b287(0x29f)]=0x1]=_0x42b287(0x29f);}(_0x476bd8||(_0x476bd8={}));class _0x434503 extends _0x2b0594{[_0x37ac7d(0x9d8)];[_0x37ac7d(0x74c)]=_0x476bd8[_0x37ac7d(0x11e)];[_0x37ac7d(0x968)]=Date[_0x37ac7d(0x90d)]();constructor(_0x1ccf1a,_0x125f81=new Set(),_0x511846,_0x4e6051){const _0x169356=_0x37ac7d;super(_0x1ccf1a,_0x125f81,_0x4e6051),this[_0x169356(0x9d8)]=_0x511846;}[_0x37ac7d(0x4a2)](){const _0x2ad952=_0x37ac7d;return this[_0x2ad952(0x9d8)];}[_0x37ac7d(0x142)](){const _0x316ef0=_0x37ac7d;return this[_0x316ef0(0x74c)];}['getLastUpdated'](){const _0x1d72b0=_0x37ac7d;return this[_0x1d72b0(0x968)];}[_0x37ac7d(0x106)](_0x5b9b43){const _0x45314d=_0x37ac7d;this['rank']!==_0x5b9b43&&(this[_0x45314d(0x833)]=_0x5b9b43,this[_0x45314d(0x1ab)]());}[_0x37ac7d(0x747)](_0x11425c){const _0x5f0ddd=_0x37ac7d;let _0xb53df=!0x1;for(const _0x14855e of this[_0x5f0ddd(0x645)])_0x11425c[_0x5f0ddd(0x444)](_0x14855e)||(_0xb53df=!0x0,this[_0x5f0ddd(0x645)][_0x5f0ddd(0x6fd)](_0x14855e));for(const _0xf4f236 of _0x11425c)this['remoteConnections'][_0x5f0ddd(0x158)](_0xf4f236)||(_0xb53df=!0x0,this[_0x5f0ddd(0x645)][_0x5f0ddd(0x492)](_0xf4f236));_0xb53df&&this['updateLastUpdated']();}[_0x37ac7d(0x482)](_0x1fb7a0){const _0x2c8241=_0x37ac7d;this[_0x2c8241(0x9d8)]!==_0x1fb7a0&&(this[_0x2c8241(0x9d8)]=_0x1fb7a0,this[_0x2c8241(0x1ab)]());}[_0x37ac7d(0x534)](_0x5c672f){const _0xfd2151=_0x37ac7d;this[_0xfd2151(0x74c)]!==_0x5c672f&&(this[_0xfd2151(0x74c)]=_0x5c672f,this[_0xfd2151(0x1ab)](),_0x5c672f===_0x476bd8[_0xfd2151(0x29f)]&&this[_0xfd2151(0x91a)]());}['updateLastUpdated'](){const _0x144f81=_0x37ac7d;this[_0x144f81(0x968)]=Date['now']();}}class _0x25d61e extends _0x46cdd0{[_0x37ac7d(0x9d8)];[_0x37ac7d(0x74c)]=_0x476bd8[_0x37ac7d(0x11e)];[_0x37ac7d(0x968)]=Date[_0x37ac7d(0x90d)]();constructor(_0x5d3358,_0x2b68a2,_0x50f7d0,_0x5ca3f6=new Set(),_0x169115,_0x402149){const _0x496699=_0x37ac7d;super(_0x5d3358,_0x2b68a2,_0x50f7d0,_0x5ca3f6,_0x402149),this[_0x496699(0x9d8)]=_0x169115;}[_0x37ac7d(0x4a2)](){const _0x4ecbfc=_0x37ac7d;return this[_0x4ecbfc(0x9d8)];}[_0x37ac7d(0x142)](){const _0x1f0c93=_0x37ac7d;return this[_0x1f0c93(0x74c)];}['getLastUpdated'](){const _0x85ee4b=_0x37ac7d;return this[_0x85ee4b(0x968)];}[_0x37ac7d(0x83b)](_0x362a86){const _0x15c3eb=_0x37ac7d;this['displayName']!==_0x362a86&&(this[_0x15c3eb(0x5ff)]=_0x362a86,this[_0x15c3eb(0x1ab)]());}[_0x37ac7d(0x871)](_0x486022){const _0x4c3492=_0x37ac7d;this[_0x4c3492(0x359)]!==_0x486022&&(this[_0x4c3492(0x359)]=_0x486022,this[_0x4c3492(0x1ab)]());}['setRank'](_0xdbf37c){const _0x470178=_0x37ac7d;this[_0x470178(0x833)]!==_0xdbf37c&&(this['rank']=_0xdbf37c,this['updateLastUpdated']());}['setRemoteConnections'](_0x2a4279){const _0x190344=_0x37ac7d;let _0x581f01=!0x1;for(const _0x399136 of this['remoteConnections'])_0x2a4279[_0x190344(0x444)](_0x399136)||(_0x581f01=!0x0,this[_0x190344(0x645)]['delete'](_0x399136));for(const _0x242336 of _0x2a4279)this['remoteConnections'][_0x190344(0x158)](_0x242336)||(_0x581f01=!0x0,this['remoteConnections'][_0x190344(0x492)](_0x242336));_0x581f01&&this[_0x190344(0x1ab)]();}[_0x37ac7d(0x482)](_0x2c57e6){const _0x2c3cd6=_0x37ac7d;this[_0x2c3cd6(0x9d8)]!==_0x2c57e6&&(this[_0x2c3cd6(0x9d8)]=_0x2c57e6,this[_0x2c3cd6(0x1ab)]());}[_0x37ac7d(0x534)](_0x54f908){const _0x211ed5=_0x37ac7d;this['status']!==_0x54f908&&(this[_0x211ed5(0x74c)]=_0x54f908,this[_0x211ed5(0x1ab)](),_0x54f908===_0x476bd8[_0x211ed5(0x29f)]&&this[_0x211ed5(0x91a)]());}[_0x37ac7d(0x1ab)](){const _0x5d543d=_0x37ac7d;this[_0x5d543d(0x968)]=Date[_0x5d543d(0x90d)]();}}class _0x39c6f6{['vendorId'];[_0x37ac7d(0x6b0)];[_0x37ac7d(0x116)];[_0x37ac7d(0x525)];['disconnectCallback']=_0x28e357();[_0x37ac7d(0x32d)];[_0x37ac7d(0x38c)];['onDisconnectHandler'];['connected']=!0x1;[_0x37ac7d(0x98a)];[_0x37ac7d(0x57b)];constructor(_0x1d50ed,_0x2c74f1,_0x4ecdf7,_0x2c9a3f){const _0x5c9c64=_0x37ac7d;this[_0x5c9c64(0x7f1)]=_0x1d50ed,this['clusterId']=_0x2c74f1,this[_0x5c9c64(0x116)]=_0x4ecdf7,this[_0x5c9c64(0x525)]=_0x2c9a3f,this[_0x5c9c64(0x98a)]=_0x5c9c64(0x3dc)+this[_0x5c9c64(0x7f1)]+_0x5c9c64(0x3dc)+this[_0x5c9c64(0x6b0)],this[_0x5c9c64(0x57b)]=_0x5c9c64(0x3dc)+this[_0x5c9c64(0x7f1)]+'ccc'+this['localNode']['getId'](),this[_0x5c9c64(0x32d)]=(0x0,_0x171159[_0x5c9c64(0x1c7)])((0x0,_0x171159[_0x5c9c64(0x79d)])(_0xe4f57[_0x5c9c64(0x90b)](),'.info/connected'),_0x29efec=>{const _0x5bdc7b=_0x5c9c64;!0x0!==_0x29efec['val']()?this['connected']&&_0x52aedf[_0x5bdc7b(0x635)](_0x5bdc7b(0x1bb),{'clusterId':this[_0x5bdc7b(0x6b0)],'nodeId':this[_0x5bdc7b(0x116)][_0x5bdc7b(0x336)](),'nodeType':this[_0x5bdc7b(0x116)]['type']}):(this[_0x5bdc7b(0x57c)]=!0x0,this[_0x5bdc7b(0x832)](),_0x52aedf[_0x5bdc7b(0x8b1)](_0x5bdc7b(0x415),{'clusterId':this[_0x5bdc7b(0x6b0)],'nodeId':this[_0x5bdc7b(0x116)][_0x5bdc7b(0x336)](),'nodeType':this[_0x5bdc7b(0x116)]['type']}));});}async[_0x37ac7d(0x751)](){const _0x2a14c5=_0x37ac7d;await this[_0x2a14c5(0x101)]();const _0x498ab1=await this[_0x2a14c5(0x92e)]();return this[_0x2a14c5(0x38c)]=(0x0,_0x171159[_0x2a14c5(0x15d)])((0x0,_0x171159[_0x2a14c5(0x79d)])(_0xe4f57[_0x2a14c5(0x90b)](),'clusters/'+this['clusterKey']+'/nodes'),_0x2b8743=>{const _0x5b2b73=_0x2a14c5,_0x2f8e2f=_0x2b8743['key'];if(!_0x2f8e2f)return;const _0x2e6385=_0x2f8e2f[_0x5b2b73(0x756)](_0x5b2b73(0x3dc)+this['vendorId']+'ccc','');this['disconnectCallback'][_0x5b2b73(0x10d)](_0x2e6385);}),_0x498ab1;}async[_0x37ac7d(0x91a)](){const _0x138e91=_0x37ac7d;this[_0x138e91(0x38c)]?.(),delete this['childRemovedUnsubscriber'],this['onDisconnectHandler']?.[_0x138e91(0x898)](),delete this[_0x138e91(0x266)],this['firebaseUnsubscriber']?.(),delete this[_0x138e91(0x32d)],await(0x0,_0x171159['remove'])((0x0,_0x171159[_0x138e91(0x79d)])(_0xe4f57[_0x138e91(0x90b)](),_0x138e91(0x7ff)+this[_0x138e91(0x98a)]+_0x138e91(0x6e5)+this[_0x138e91(0x57b)]));}[_0x37ac7d(0x17a)](_0x3cdd72){const _0x2ea0ea=_0x37ac7d;return this[_0x2ea0ea(0x86e)][_0x2ea0ea(0x9b2)](_0x3cdd72);}async['getAncestors'](){const _0x41234d=_0x37ac7d,_0x3ffe2c=[],_0x938006=await(0x0,_0x171159[_0x41234d(0x7e9)])((0x0,_0x171159[_0x41234d(0x79d)])(_0xe4f57[_0x41234d(0x90b)](),_0x41234d(0x7ff)+this['clusterKey']+_0x41234d(0x671))),_0x55183e=[];return _0x938006[_0x41234d(0x97a)](_0x58afc7=>{const _0x359522=_0x41234d,_0x2cbe1b=_0x58afc7[_0x359522(0xe4)]?.[_0x359522(0x756)](_0x359522(0x3dc)+this[_0x359522(0x7f1)]+_0x359522(0x3dc),'');_0x55183e['push']({'id':_0x2cbe1b,'joinedAt':_0x58afc7['val']()[_0x359522(0x3bb)],'priority':_0x58afc7[_0x359522(0x770)]()[_0x359522(0x3fe)]});}),_0x55183e[_0x41234d(0x6a8)]((_0x5cacbc,_0x263bb2)=>_0x5cacbc[_0x41234d(0x3bb)]===_0x263bb2[_0x41234d(0x3bb)]?_0x5cacbc[_0x41234d(0x3fe)]-_0x263bb2[_0x41234d(0x3fe)]:_0x5cacbc['joinedAt']-_0x263bb2[_0x41234d(0x3bb)])[_0x41234d(0x38f)](_0x55183e[_0x41234d(0x672)](_0xb94964=>_0xb94964['id']===this[_0x41234d(0x116)]['getId']())),_0x55183e[_0x41234d(0x6a8)]((_0x9b4b2d,_0x7d82ce)=>_0x7d82ce['joinedAt']===_0x9b4b2d['joinedAt']?_0x7d82ce[_0x41234d(0x3fe)]-_0x9b4b2d['priority']:_0x7d82ce[_0x41234d(0x3bb)]-_0x9b4b2d[_0x41234d(0x3bb)])[_0x41234d(0x97a)](_0x385c29=>{const _0x132349=_0x41234d;_0x3ffe2c[_0x132349(0x146)]>=this['minConnections']||_0x3ffe2c[_0x132349(0x7b5)](_0x385c29['id']);}),_0x52aedf[_0x41234d(0x5c7)](_0x41234d(0xda),{'clusterId':this[_0x41234d(0x6b0)],'nodeId':this['localNode'][_0x41234d(0x336)](),'nodeType':this[_0x41234d(0x116)]['type'],'data':{'ancestorIds':_0x3ffe2c,'allNodes':_0x55183e}}),_0x3ffe2c;}async['joinCluster'](){const _0x1bc1aa=_0x37ac7d;await(0x0,_0x171159[_0x1bc1aa(0x773)])((0x0,_0x171159['ref'])(_0xe4f57[_0x1bc1aa(0x90b)](),_0x1bc1aa(0x7ff)+this[_0x1bc1aa(0x98a)]+_0x1bc1aa(0x6e5)+this[_0x1bc1aa(0x57b)]),{'joinedAt':(0x0,_0x171159[_0x1bc1aa(0x327)])(),'priority':Math[_0x1bc1aa(0x6be)]()});}[_0x37ac7d(0x832)](){const _0x557cd2=_0x37ac7d;this[_0x557cd2(0x266)]&&this['onDisconnectHandler'][_0x557cd2(0x898)](),this[_0x557cd2(0x266)]=(0x0,_0x171159[_0x557cd2(0x539)])((0x0,_0x171159[_0x557cd2(0x79d)])(_0xe4f57[_0x557cd2(0x90b)](),'clusters/'+this[_0x557cd2(0x98a)]+'/nodes/'+this[_0x557cd2(0x57b)])),this[_0x557cd2(0x266)][_0x557cd2(0xce)]();}}class _0x47fff7{['configs'];[_0x37ac7d(0x6b3)];['remoteUnsubscriber'];[_0x37ac7d(0x233)];[_0x37ac7d(0x716)];['ancestors']=[];[_0x37ac7d(0x1b1)];['optimizationLayers']=new Map();[_0x37ac7d(0x4e7)];['lastProcessRank'];['_isReady'];[_0x37ac7d(0x5d7)];[_0x37ac7d(0x425)];[_0x37ac7d(0x80f)];constructor(_0x33d5d5,_0x3bd392){const _0x4ac9b1=_0x37ac7d;this[_0x4ac9b1(0x8de)]=_0x33d5d5,this[_0x4ac9b1(0x6b3)]=_0x3bd392,this['_isReady']=new Promise((_0x4d3b49,_0x4370ae)=>{const _0x436fda=_0x4ac9b1;this[_0x436fda(0x5d7)]=_0x4d3b49,this[_0x436fda(0x425)]=_0x4370ae;}),this['discoveryService']=new _0x39c6f6(this['configs'][_0x4ac9b1(0x7f1)],this[_0x4ac9b1(0x8de)]['clusterId'],this[_0x4ac9b1(0x8de)][_0x4ac9b1(0x116)],this[_0x4ac9b1(0x6b3)][_0x4ac9b1(0x1e4)]()),this['discoveryUnsubscriber']=this[_0x4ac9b1(0x233)][_0x4ac9b1(0x17a)](this[_0x4ac9b1(0x1c5)][_0x4ac9b1(0x5d9)](this)),this[_0x4ac9b1(0x8de)]['mediator'][_0x4ac9b1(0x6f9)](this['configs'][_0x4ac9b1(0x116)]),this['configs']['mediator']['registerSystemSource'](this),this[_0x4ac9b1(0x4eb)]=_0x29b976[_0x4ac9b1(0x10c)](()=>{const _0x349885=_0x4ac9b1,_0x4611a8=Date[_0x349885(0x90d)]();this[_0x349885(0x6b3)][_0x349885(0x70f)]()[_0x349885(0x97a)](_0x1ead35=>{const _0x53e5f4=_0x349885;_0x1ead35[_0x53e5f4(0x142)]()===_0x476bd8[_0x53e5f4(0x29f)]&&_0x1ead35[_0x53e5f4(0x597)]()<_0x4611a8-0x493e0&&this[_0x53e5f4(0x6b3)]['deleteRemoteNode'](_0x1ead35[_0x53e5f4(0x336)]());});},0xea60);}async['isReady'](){const _0x3de1b8=_0x37ac7d;return this[_0x3de1b8(0x21b)];}async[_0x37ac7d(0x6e3)](_0x48f170){return new Promise((_0x2ffc45,_0x4ba744)=>{const _0xa1169e=a0_0xbe57;let _0x1abcf4;const _0x1f22d7=setTimeout(()=>{const _0x39e88b=a0_0xbe57;_0x1abcf4?.(),_0x4ba744(new Error(_0x39e88b(0x886)+_0x48f170+_0x39e88b(0x7e7)));},0x2710);if(this[_0xa1169e(0x6b3)][_0xa1169e(0x4c6)](_0x48f170))return clearTimeout(_0x1f22d7),void _0x2ffc45(!0x0);_0x1abcf4=this['graphService'][_0xa1169e(0x3d9)](()=>{const _0xe05f78=_0xa1169e;this[_0xe05f78(0x6b3)]['hasRemoteNode'](_0x48f170)&&(clearTimeout(_0x1f22d7),_0x2ffc45(!0x0),_0x1abcf4?.());});});}[_0x37ac7d(0x1b9)](_0x201af5){const _0x155df1=_0x37ac7d;this[_0x155df1(0x1b1)]=_0x201af5;}[_0x37ac7d(0x84a)](){delete this['systemTopic'];}[_0x37ac7d(0x91a)](){const _0x1f93b2=_0x37ac7d;this[_0x1f93b2(0x4e7)]&&(clearTimeout(this[_0x1f93b2(0x4e7)]),delete this[_0x1f93b2(0x4e7)]),delete this['lastProcessRank'],this['configs'][_0x1f93b2(0x116)]['close'](),this[_0x1f93b2(0x4eb)](),this[_0x1f93b2(0x716)](),this[_0x1f93b2(0x8de)]['mediator'][_0x1f93b2(0x2de)](this[_0x1f93b2(0x8de)][_0x1f93b2(0x116)]),this[_0x1f93b2(0x8de)][_0x1f93b2(0x1e2)][_0x1f93b2(0x2de)](this),this[_0x1f93b2(0x233)][_0x1f93b2(0x91a)]();}[_0x37ac7d(0x6f1)](){const _0x2a6487=_0x37ac7d;return this[_0x2a6487(0x57a)];}['getLocalId'](){const _0x20a45d=_0x37ac7d;return this['configs'][_0x20a45d(0x116)][_0x20a45d(0x336)]();}[_0x37ac7d(0x5b6)](){const _0x2378c4=_0x37ac7d;return this[_0x2378c4(0x8de)][_0x2378c4(0x116)];}['getRemoteNodes'](_0x3c6323){const _0x1b0f96=_0x37ac7d,_0x144303=Array['from'](this[_0x1b0f96(0x6b3)][_0x1b0f96(0x70f)]()['values']())[_0x1b0f96(0x5e3)](_0x2cc932=>_0x2cc932[_0x1b0f96(0x142)]()===_0x476bd8[_0x1b0f96(0x11e)]);return _0x3c6323?_0x144303['filter'](_0x3c6323):_0x144303;}async[_0x37ac7d(0xda)](){const _0x28c914=_0x37ac7d;return this['ancestors']=await this[_0x28c914(0x233)][_0x28c914(0x751)](),this[_0x28c914(0x57a)][_0x28c914(0x146)]<this['graphService'][_0x28c914(0x1e4)]()&&(this[_0x28c914(0x8de)][_0x28c914(0x116)][_0x28c914(0x106)](this[_0x28c914(0x57a)][_0x28c914(0x146)]+0x1),this[_0x28c914(0x66c)]()),this[_0x28c914(0x57a)];}[_0x37ac7d(0x420)](_0x191be7,_0x22ba8f){const _0x3d07a5=_0x37ac7d,_0x33e850=this[_0x3d07a5(0x8de)][_0x3d07a5(0x116)][_0x3d07a5(0x835)](),_0x30a433=new Set(_0x33e850),_0x4129b6=Array[_0x3d07a5(0x267)](_0x33e850)[_0x3d07a5(0x5e3)](_0x276eee=>_0x276eee!==_0x191be7)[_0x3d07a5(0x8f1)](_0x4cccf6=>({'id':_0x4cccf6,'distance':0x1}));for(;_0x4129b6[_0x3d07a5(0x146)]>0x0;){const _0x20163a=_0x4129b6[_0x3d07a5(0x88b)]();if(!_0x20163a)continue;if(_0x20163a['id']===_0x22ba8f)return _0x20163a[_0x3d07a5(0x9be)];const _0x5a54a4=this[_0x3d07a5(0x6b3)][_0x3d07a5(0x892)](_0x20163a['id']);_0x5a54a4&&_0x5a54a4[_0x3d07a5(0x142)]()!==_0x476bd8[_0x3d07a5(0x29f)]&&_0x5a54a4[_0x3d07a5(0x835)]()['forEach'](_0x3b73c9=>{const _0x2f6895=_0x3d07a5;_0x30a433[_0x2f6895(0x158)](_0x3b73c9)||(_0x30a433[_0x2f6895(0x492)](_0x3b73c9),_0x4129b6['push']({'id':_0x3b73c9,'distance':_0x20163a['distance']+0x1}));});}return-0x1;}[_0x37ac7d(0x876)](_0x294f25){const _0x1c0b3b=_0x37ac7d;try{switch(_0x294f25[_0x1c0b3b(0x8c5)][_0x1c0b3b(0x623)]){case _0x12a052[_0x1c0b3b(0x150)]:case _0x12a052[_0x1c0b3b(0x7f6)]:this[_0x1c0b3b(0x2a1)](_0x294f25['content']),_0x52aedf[_0x1c0b3b(0x857)](_0xdea279['Node'],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x1c0b3b(0x8de)][_0x1c0b3b(0x116)][_0x1c0b3b(0x336)]()+',\x20'+_0x294f25[_0x1c0b3b(0x2ea)]+'\x27',_0x294f25,_0x294f25['content']);break;case _0x12a052[_0x1c0b3b(0x819)]:this[_0x1c0b3b(0x3c0)](_0x294f25['content']['id']),_0x52aedf[_0x1c0b3b(0x857)](_0xdea279[_0x1c0b3b(0x4a7)],'NodeManager\x20-\x20NodeLeave','\x27'+this['configs'][_0x1c0b3b(0x116)][_0x1c0b3b(0x336)]()+',\x20'+_0x294f25[_0x1c0b3b(0x2ea)]+'\x27',_0x294f25,_0x294f25[_0x1c0b3b(0x8c5)]);}}catch(_0xba1e61){if(_0xba1e61 instanceof _0x335dcf)return void _0x52aedf[_0x1c0b3b(0x857)](_0xdea279[_0x1c0b3b(0x4a7)],_0xba1e61[_0x1c0b3b(0x599)]);throw _0xba1e61;}}[_0x37ac7d(0x51c)](_0x2356b2){const _0x56dc99=_0x37ac7d;switch(_0x2356b2[_0x56dc99(0x8c5)][_0x56dc99(0x623)]){case _0x4ef545['Success']:this['handleConnectionSuccess'](_0x2356b2[_0x56dc99(0x2ea)]),_0x52aedf['log'](_0xdea279[_0x56dc99(0x4a7)],_0x56dc99(0x31e),'\x27'+this[_0x56dc99(0x8de)][_0x56dc99(0x116)]['getId']()+',\x20'+_0x2356b2[_0x56dc99(0x2ea)]+'\x27',_0x2356b2,_0x2356b2['content']);break;case _0x4ef545[_0x56dc99(0x1a5)]:this[_0x56dc99(0x188)](_0x2356b2['sourceId']),_0x52aedf['log'](_0xdea279['Node'],_0x56dc99(0x256),this[_0x56dc99(0x8de)][_0x56dc99(0x116)][_0x56dc99(0x336)](),_0x2356b2,_0x2356b2[_0x56dc99(0x8c5)]);}}[_0x37ac7d(0x11b)](_0x5b11f9){const _0x1ce970=_0x37ac7d;this[_0x1ce970(0x526)](_0x5b11f9),this[_0x1ce970(0x6ed)](_0x5b11f9);}[_0x37ac7d(0x6ed)](_0x18db3c){const _0x5ef434=_0x37ac7d;this['configs'][_0x5ef434(0x116)][_0x5ef434(0x15c)](_0x18db3c['id']),this[_0x5ef434(0x998)](_0x18db3c['id']),this['notifyClusterNodeJoin'](_0x18db3c);}[_0x37ac7d(0x2a1)](_0x48cdb9){const _0x158563=_0x37ac7d,{id:_0x202b9e,metaData:_0x180972,rank:_0x47d144,remoteConnections:_0x7f5857,version:_0x7dc692}=_0x48cdb9,_0x346aa2=this[_0x158563(0x6b3)][_0x158563(0x892)](_0x202b9e);if(_0x346aa2){if(!(_0x7dc692<=_0x346aa2[_0x158563(0x4a2)]())){if(_0x346aa2[_0x158563(0x747)](_0x7f5857),_0x346aa2[_0x158563(0x482)](_0x7dc692),_0x346aa2[_0x158563(0x623)]===_0x441722[_0x158563(0x15a)][_0x158563(0x94d)]&&_0x180972[_0x158563(0x623)]===_0x441722[_0x158563(0x15a)][_0x158563(0x94d)]&&(_0x346aa2[_0x158563(0x83b)](_0x180972[_0x158563(0x5ff)]),_0x346aa2[_0x158563(0x871)](_0x180972[_0x158563(0x359)])),_0x47d144&&_0x346aa2['setRank'](_0x47d144),this[_0x158563(0x3d6)](_0x202b9e,_0x47d144),_0x346aa2['getStatus']()===_0x476bd8[_0x158563(0x29f)])return _0x346aa2[_0x158563(0x534)](_0x476bd8[_0x158563(0x11e)]),this['processRank'](),void this[_0x158563(0x6ed)](_0x48cdb9);this[_0x158563(0x66c)](),this[_0x158563(0xf5)]({'id':_0x202b9e,'metaData':_0x180972,'remoteConnections':_0x7f5857,'version':_0x7dc692});}}else this[_0x158563(0x11b)](_0x48cdb9);}[_0x37ac7d(0x3d6)](_0x1b3525,_0x3f1127){const _0x1c4991=_0x37ac7d;_0x3f1127&&this['ancestors'][_0x1c4991(0x444)](_0x1b3525)&&this[_0x1c4991(0x8de)][_0x1c4991(0x116)][_0x1c4991(0x106)](_0x3f1127+this[_0x1c4991(0x57a)]['indexOf'](_0x1b3525)+0x1);}[_0x37ac7d(0x49a)](_0x26b1fc){const _0x150b4b=_0x37ac7d;this[_0x150b4b(0x8de)][_0x150b4b(0x116)][_0x150b4b(0x2c1)](_0x26b1fc);}[_0x37ac7d(0x526)]({id:_0x1bab27,metaData:_0x3c3ffb,rank:_0x20700d,remoteConnections:_0x245eb5,version:_0x16b5c3}){const _0xe58112=_0x37ac7d;if(this[_0xe58112(0x6b3)][_0xe58112(0x4c6)](_0x1bab27))throw new _0x335dcf(_0xe58112(0x1cb)+_0x1bab27);switch(_0x3c3ffb[_0xe58112(0x623)]){case _0x441722[_0xe58112(0x15a)][_0xe58112(0x94d)]:const {displayName:_0x7374c9,email:_0x436a5c}=_0x3c3ffb;this[_0xe58112(0x6b3)][_0xe58112(0x305)](_0x1bab27,new _0x25d61e(_0x1bab27,_0x7374c9,_0x436a5c,new Set(_0x245eb5),_0x16b5c3,_0x20700d));break;case _0x441722[_0xe58112(0x15a)][_0xe58112(0x22d)]:this[_0xe58112(0x6b3)][_0xe58112(0x305)](_0x1bab27,new _0x434503(_0x1bab27,new Set(_0x245eb5),_0x16b5c3,_0x20700d));}const _0x3e15d4=this[_0xe58112(0x70f)](),_0x3e3052=new Set(this[_0xe58112(0x57a)]);_0x3e15d4['forEach'](_0x583a3a=>{const _0x5af5be=_0xe58112;_0x3e3052[_0x5af5be(0x158)](_0x583a3a[_0x5af5be(0x336)]())&&_0x3e3052[_0x5af5be(0x6fd)](_0x583a3a[_0x5af5be(0x336)]());}),0x0===_0x3e3052[_0xe58112(0x1c1)]&&this[_0xe58112(0x5d7)]&&(this[_0xe58112(0x80f)]&&clearTimeout(this[_0xe58112(0x80f)]),this['readyDebounce']=setTimeout(()=>{const _0x3805a7=_0xe58112;this['resolveReady']?.(!0x0),delete this[_0x3805a7(0x5d7)],delete this[_0x3805a7(0x425)];},0x7d0)),this[_0xe58112(0x3d6)](_0x1bab27,_0x20700d),this['processRank']();}['publishNodeJoin'](_0x11d8c9){const _0x57dcca=_0x37ac7d;this['systemTopic'][_0x57dcca(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x57dcca(0x4a7)],'content':{'type':_0x12a052['NodeJoin'],'id':_0x11d8c9}});}[_0x37ac7d(0x188)](_0x2840b4){const _0x1041a0=_0x37ac7d;this[_0x1041a0(0x1b1)]?.['publish']({'sourceId':_0x19393c,'messageType':_0x403b04[_0x1041a0(0x4a7)],'content':{'type':_0x12a052[_0x1041a0(0x819)],'id':_0x2840b4}});}[_0x37ac7d(0x1c5)](_0xb9f7cb){const _0x31a90d=_0x37ac7d;if(_0xb9f7cb===this[_0x31a90d(0x8de)][_0x31a90d(0x116)][_0x31a90d(0x336)]())return this[_0x31a90d(0x8de)]['mediator'][_0x31a90d(0x183)](_0x31a90d(0x416),{'id':_0xb9f7cb}),this['configs'][_0x31a90d(0x1e2)]['close']({'force':!0x0},!0x0),this[_0x31a90d(0x8de)][_0x31a90d(0x1e2)][_0x31a90d(0x211)](),void this[_0x31a90d(0x8de)][_0x31a90d(0x1e2)]['initialize']();this[_0x31a90d(0x188)](_0xb9f7cb);}[_0x37ac7d(0x3c0)](_0x1a591){const _0x29c3ef=_0x37ac7d;this[_0x29c3ef(0x57a)]['includes'](_0x1a591)?this[_0x29c3ef(0x750)](_0x1a591):this[_0x29c3ef(0x8de)][_0x29c3ef(0x116)]['getRemoteConnections']()['has'](_0x1a591)&&this['manageOptimization'](_0x1a591),this[_0x29c3ef(0x8de)][_0x29c3ef(0x116)][_0x29c3ef(0x883)](_0x1a591);const _0x4bbb27=Array[_0x29c3ef(0x267)](this[_0x29c3ef(0x940)][_0x29c3ef(0x196)]())[_0x29c3ef(0x419)](([,_0x39a2b6])=>_0x39a2b6==_0x39a2b6);_0x4bbb27&&this[_0x29c3ef(0x940)][_0x29c3ef(0x6fd)](_0x4bbb27[0x0]);const _0x4b784c=this[_0x29c3ef(0x6b3)][_0x29c3ef(0x892)](_0x1a591);if(!_0x4b784c)return;const _0x30e953=_0x4b784c[_0x29c3ef(0x734)](),_0x4d9788=this[_0x29c3ef(0x8de)][_0x29c3ef(0x116)]['getRank']();_0x4d9788&&_0x30e953&&_0x30e953<_0x4d9788&&this[_0x29c3ef(0x8de)][_0x29c3ef(0x116)][_0x29c3ef(0x106)](_0x4d9788-0x1,!0x1),Array[_0x29c3ef(0x267)](this[_0x29c3ef(0x6b3)]['getRemoteNodes']()['values']())['forEach'](_0x573da1=>{const _0xa9bee4=_0x29c3ef,_0x3ff104=_0x573da1[_0xa9bee4(0x734)]();_0x3ff104&&_0x30e953&&_0x30e953<_0x3ff104&&_0x573da1['setRank'](_0x3ff104-0x1);}),_0x4b784c[_0x29c3ef(0x534)](_0x476bd8[_0x29c3ef(0x29f)]),this[_0x29c3ef(0x8de)]['mediator'][_0x29c3ef(0x183)](_0x4b784c[_0x29c3ef(0x623)]+_0x29c3ef(0x365),{'id':_0x1a591});}['notifyClusterNodeJoin']({id:_0x17757e,metaData:_0x464795,remoteConnections:_0xa10ac}){const _0x5c3e9d=_0x37ac7d;switch(_0x464795[_0x5c3e9d(0x623)]){case _0x441722['NodeType'][_0x5c3e9d(0x94d)]:this[_0x5c3e9d(0x8de)]['mediator'][_0x5c3e9d(0x183)]('user-join',{'id':_0x17757e,'metaData':_0x464795,'remoteConnections':_0xa10ac});break;case _0x441722[_0x5c3e9d(0x15a)][_0x5c3e9d(0x22d)]:this[_0x5c3e9d(0x8de)][_0x5c3e9d(0x1e2)][_0x5c3e9d(0x183)]('agent-join',{'id':_0x17757e,'metaData':_0x464795,'remoteConnections':_0xa10ac});}}['notifyClusterNodeUpdate']({id:_0x529545,metaData:_0xa27094,remoteConnections:_0x1b9068}){const _0x31a228=_0x37ac7d;switch(_0xa27094[_0x31a228(0x623)]){case _0x441722[_0x31a228(0x15a)][_0x31a228(0x94d)]:this[_0x31a228(0x8de)][_0x31a228(0x1e2)][_0x31a228(0x183)](_0x31a228(0x3d8),{'id':_0x529545,'metaData':_0xa27094,'remoteConnections':_0x1b9068});break;case _0x441722[_0x31a228(0x15a)][_0x31a228(0x22d)]:this[_0x31a228(0x8de)][_0x31a228(0x1e2)][_0x31a228(0x183)](_0x31a228(0x8f8),{'id':_0x529545,'metaData':_0xa27094,'remoteConnections':_0x1b9068});}}[_0x37ac7d(0x66c)](){const _0x23b323=_0x37ac7d;if(this[_0x23b323(0xe7)]||(this[_0x23b323(0xe7)]=Date['now']()),this[_0x23b323(0x4e7)]){if(Date[_0x23b323(0x90d)]()-this[_0x23b323(0xe7)]>0x2328)return;clearTimeout(this['debounceProcessRank']);}this[_0x23b323(0x4e7)]=setTimeout(async()=>{const _0xb4bfc4=_0x23b323;delete this[_0xb4bfc4(0xe7)],delete this[_0xb4bfc4(0x4e7)];const _0x4159c9=this[_0xb4bfc4(0x8de)][_0xb4bfc4(0x116)][_0xb4bfc4(0x734)]();if(!_0x4159c9)return;const _0x5c955d=this[_0xb4bfc4(0x6b3)]['getCurrentMaxLayer'](this[_0xb4bfc4(0x6b3)][_0xb4bfc4(0x70f)]()[_0xb4bfc4(0x1c1)]);if(this['optimizationLayers'][_0xb4bfc4(0x1c1)]>=_0x5c955d)return;let _0x596c4a=0x1;for(;this['configs'][_0xb4bfc4(0x1e2)]['getConnections']()[_0xb4bfc4(0x146)]<this[_0xb4bfc4(0x6b3)][_0xb4bfc4(0xdd)]()&&_0x596c4a<=_0x5c955d;){if(this[_0xb4bfc4(0x940)][_0xb4bfc4(0x158)](_0x596c4a)){_0x596c4a+=0x1;continue;}const _0xf7d4b1=this['graphService'][_0xb4bfc4(0x257)](_0x4159c9,_0x596c4a),_0x442cfc=Array[_0xb4bfc4(0x267)](this[_0xb4bfc4(0x6b3)][_0xb4bfc4(0x70f)]()[_0xb4bfc4(0x5d6)]())[_0xb4bfc4(0x419)](_0x110372=>_0x110372[_0xb4bfc4(0x734)]()===_0xf7d4b1&&_0x110372[_0xb4bfc4(0x142)]()===_0x476bd8['Online']);if(_0x442cfc){try{await this['configs'][_0xb4bfc4(0x1e2)][_0xb4bfc4(0x4ba)](_0x442cfc[_0xb4bfc4(0x336)](),_0x3c24ef[_0xb4bfc4(0x8c0)]),this[_0xb4bfc4(0x940)][_0xb4bfc4(0x773)](_0x596c4a,_0x442cfc['getId']());}catch(_0x54c5d2){if(!(_0x54c5d2 instanceof _0x4a800a&&_0x54c5d2[_0xb4bfc4(0x417)]===_0x4a800a[_0xb4bfc4(0x7ef)][_0xb4bfc4(0x9b6)]))throw _0x54c5d2;_0x52aedf[_0xb4bfc4(0x857)](_0xdea279['Node'],this['configs']['localNode'][_0xb4bfc4(0x336)](),_0x442cfc[_0xb4bfc4(0x336)](),_0x54c5d2['message']);}_0x596c4a+=0x1;}else _0x596c4a+=0x1;}},0x3e8);}async['manageAncestor'](_0xd497f7){const _0x49f760=_0x37ac7d;this[_0x49f760(0x57a)][_0x49f760(0x38f)](this[_0x49f760(0x57a)]['indexOf'](_0xd497f7),0x1);const _0x54acad=await this[_0x49f760(0x233)][_0x49f760(0x92e)]();for(const _0x201fee of _0x54acad)if(!this[_0x49f760(0x57a)]['includes'](_0x201fee)){const _0x19f554=Array[_0x49f760(0x267)](this[_0x49f760(0x940)][_0x49f760(0x196)]())['find'](([,_0x1607cf])=>_0x1607cf===_0x201fee);_0x19f554&&this[_0x49f760(0x940)][_0x49f760(0x6fd)](_0x19f554[0x0]),this[_0x49f760(0x8de)]['mediator'][_0x49f760(0x4ba)](_0x201fee,_0x3c24ef[_0x49f760(0x71f)]);}0x0===_0x54acad[_0x49f760(0x146)]&&this[_0x49f760(0x8de)][_0x49f760(0x116)][_0x49f760(0x106)](0x1),this['ancestors']=_0x54acad;}async['manageOptimization'](_0x56c393){const _0x5a7263=_0x37ac7d,_0x59e4f8=this[_0x5a7263(0x8de)][_0x5a7263(0x116)][_0x5a7263(0x734)]();if(!_0x59e4f8)return;const _0x4f52df=this[_0x5a7263(0x6b3)][_0x5a7263(0x892)](_0x56c393);if(!_0x4f52df||_0x4f52df[_0x5a7263(0x142)]()===_0x476bd8[_0x5a7263(0x29f)])return;const _0x2c0b37=_0x4f52df[_0x5a7263(0x734)]();if(!_0x2c0b37||_0x2c0b37<_0x59e4f8)return;const _0x766830=this[_0x5a7263(0x78e)](this[_0x5a7263(0x8de)][_0x5a7263(0x116)][_0x5a7263(0x835)](),_0x59e4f8),_0x512b1c=this[_0x5a7263(0x78e)](_0x4f52df[_0x5a7263(0x835)](),_0x2c0b37)[_0x766830[_0x5a7263(0x672)](([_0x2ebc92])=>_0x2ebc92===_0x56c393)];if(!_0x512b1c||this[_0x5a7263(0x8de)]['localNode'][_0x5a7263(0x835)]()['has'](_0x512b1c[0x0]))return;const _0x27a37d=this[_0x5a7263(0x6b3)][_0x5a7263(0x892)](_0x512b1c[0x0]);if(_0x27a37d&&_0x27a37d[_0x5a7263(0x142)]()!==_0x476bd8[_0x5a7263(0x29f)])try{await this[_0x5a7263(0x8de)][_0x5a7263(0x1e2)]['createConnection'](_0x512b1c[0x0],_0x3c24ef[_0x5a7263(0x8c0)]);const _0x261a9e=Array[_0x5a7263(0x267)](this['optimizationLayers']['entries']())[_0x5a7263(0x419)](([,_0x17d5d7])=>_0x17d5d7===_0x56c393);_0x261a9e&&this[_0x5a7263(0x940)][_0x5a7263(0x773)](_0x261a9e[0x0],_0x512b1c[0x0]);}catch(_0x3a6884){if(!(_0x3a6884 instanceof _0x4a800a&&_0x3a6884['code']===_0x4a800a[_0x5a7263(0x7ef)][_0x5a7263(0x9b6)]))throw _0x3a6884;_0x52aedf[_0x5a7263(0x857)](_0xdea279[_0x5a7263(0x4a7)],this[_0x5a7263(0x8de)][_0x5a7263(0x116)][_0x5a7263(0x336)](),_0x512b1c[0x0],_0x3a6884[_0x5a7263(0x599)]);}}[_0x37ac7d(0x78e)](_0xe1d72,_0x40f13d){const _0x29a90a=_0x37ac7d;return Array[_0x29a90a(0x267)](_0xe1d72)['reduce']((_0x4b493e,_0x3f7be2)=>{const _0x35fbfd=_0x29a90a,_0x5b6f0f=this['graphService']['getRemoteNode'](_0x3f7be2);if(!_0x5b6f0f||_0x5b6f0f['getStatus']()===_0x476bd8[_0x35fbfd(0x29f)])return _0x4b493e;const _0x87cb5e=_0x5b6f0f['getRank']();if(!_0x87cb5e)return _0x4b493e;const _0x301629=_0x87cb5e-_0x40f13d;return _0x301629<=this[_0x35fbfd(0x6b3)]['getMinConnections']()||_0x4b493e['push']([_0x3f7be2,_0x301629]),_0x4b493e;},[])['sort'](([,_0x59542a],[,_0x2f2b8a])=>_0x59542a-_0x2f2b8a);}}const _0x34cd42=[{'problemType':_0x27215f[_0x37ac7d(0x967)],'remediations':[{'type':_0x43b6a7[_0x37ac7d(0x5cf)],'component':_0x3b7697['Resolution'],'action':_0x35c4f2[_0x37ac7d(0x791)]},{'type':_0x43b6a7[_0x37ac7d(0x61d)],'component':_0x3b7697['Resolution'],'action':_0x35c4f2[_0x37ac7d(0x791)]}]},{'problemType':_0x27215f[_0x37ac7d(0x5e1)],'remediations':[{'type':_0x43b6a7['Remediation'],'component':_0x3b7697[_0x37ac7d(0x8ea)],'action':_0x35c4f2[_0x37ac7d(0x791)]}]},{'problemType':_0x27215f[_0x37ac7d(0x66e)],'remediations':[{'type':_0x43b6a7[_0x37ac7d(0x5cf)],'component':_0x3b7697['Resolution'],'action':_0x35c4f2[_0x37ac7d(0x791)]}]},{'problemType':_0x27215f[_0x37ac7d(0x781)],'remediations':[{'type':_0x43b6a7[_0x37ac7d(0x5cf)],'component':_0x3b7697[_0x37ac7d(0x8ea)],'action':_0x35c4f2[_0x37ac7d(0x791)]}]},{'problemType':_0x27215f['Bitrate'],'remediations':[{'type':_0x43b6a7[_0x37ac7d(0x5cf)],'component':_0x3b7697[_0x37ac7d(0xfb)],'action':_0x35c4f2['Downgrade']}]},{'problemType':_0x27215f[_0x37ac7d(0x3c3)],'remediations':[{'type':_0x43b6a7[_0x37ac7d(0x5cf)],'component':_0x3b7697[_0x37ac7d(0xfb)],'action':_0x35c4f2[_0x37ac7d(0x791)]}]},{'problemType':_0x27215f[_0x37ac7d(0x5ed)],'remediations':[{'type':_0x43b6a7['Remediation'],'component':_0x3b7697[_0x37ac7d(0xfb)],'action':_0x35c4f2['Downgrade']}]}];class _0xbece55{[_0x37ac7d(0x8de)];[_0x37ac7d(0x1b1)];['lastRemediations']=new Map();constructor(_0x3240a6){const _0x356429=_0x37ac7d;this[_0x356429(0x8de)]=_0x3240a6,this[_0x356429(0x8de)][_0x356429(0x1e2)][_0x356429(0x6f9)](this);}[_0x37ac7d(0x91a)](){const _0x50f8a4=_0x37ac7d;this[_0x50f8a4(0x8de)][_0x50f8a4(0x1e2)]['unregisterSystemSource'](this);}['registerSystemPublisher'](_0x228cde){const _0xcbef06=_0x37ac7d;this[_0xcbef06(0x1b1)]=_0x228cde;}[_0x37ac7d(0x84a)](){const _0x5cf569=_0x37ac7d;delete this[_0x5cf569(0x1b1)];}[_0x37ac7d(0x8e7)](_0x503412){const _0x339dd9=_0x37ac7d;_0x503412[_0x339dd9(0x8c5)][_0x339dd9(0x623)]===_0x46823f[_0x339dd9(0x725)]&&this['handleProblem'](_0x503412[_0x339dd9(0x8c5)][_0x339dd9(0x51f)]);}[_0x37ac7d(0x95b)](_0xf5b1c8){const _0x35da99=_0x37ac7d;_0xf5b1c8['content'][_0x35da99(0x623)]===_0x43b6a7[_0x35da99(0x61d)]&&this[_0x35da99(0x577)](_0xf5b1c8[_0x35da99(0x2ea)],{'type':_0x43b6a7[_0x35da99(0x5cf)],'component':_0xf5b1c8[_0x35da99(0x8c5)][_0x35da99(0x51f)]['component'],'action':_0xf5b1c8[_0x35da99(0x8c5)]['data'][_0x35da99(0x47b)]});}[_0x37ac7d(0x56a)](_0x1f413e){const _0x2bad82=_0x37ac7d,_0x3b98a5=_0x34cd42[_0x2bad82(0x419)](_0x3a6ef6=>_0x3a6ef6[_0x2bad82(0x1d8)]===_0x1f413e[_0x2bad82(0x623)]);_0x3b98a5[_0x2bad82(0x864)]?.['forEach'](_0x480577=>{const _0x4fd827=_0x2bad82;this[_0x4fd827(0x577)](_0x1f413e['nodeId'],{'type':_0x1f413e[_0x4fd827(0x1ea)]===_0x11d6ca['Sender']?_0x43b6a7['Remediation']:_0x43b6a7[_0x4fd827(0x61d)],'component':_0x480577['component'],'action':_0x480577[_0x4fd827(0x47b)]});});}['applyRemediation'](_0x4369c0,_0x395437){const _0x485cf9=_0x37ac7d;if(_0x395437[_0x485cf9(0x623)]===_0x43b6a7[_0x485cf9(0x5cf)]){const _0x3e6acc=Date[_0x485cf9(0x90d)](),_0xd09d7b=this[_0x485cf9(0x704)]['get'](_0x4369c0);if(_0xd09d7b&&_0x3e6acc-_0xd09d7b<0x1388)return;this[_0x485cf9(0x704)][_0x485cf9(0x773)](_0x4369c0,_0x3e6acc);}_0x52aedf[_0x485cf9(0x857)](_0xdea279[_0x485cf9(0x5cf)],_0x485cf9(0x2bd),_0x395437),_0x52aedf[_0x485cf9(0x5c7)](_0x485cf9(0x8fd),{'clusterId':this['configs'][_0x485cf9(0x6b0)],'nodeId':this['configs'][_0x485cf9(0x116)][_0x485cf9(0x336)](),'nodeType':this[_0x485cf9(0x8de)][_0x485cf9(0x116)]['type'],'remoteId':_0x4369c0,'data':{'type':_0x395437[_0x485cf9(0x623)],'component':_0x395437[_0x485cf9(0x487)],'action':_0x395437['action']}});let _0x5532b2,_0x26d393=_0x19393c;_0x395437[_0x485cf9(0x623)]===_0x43b6a7['RemoteRemediation']&&(_0x26d393=this[_0x485cf9(0x8de)][_0x485cf9(0x116)]['getId'](),_0x5532b2=[_0x4369c0]),this[_0x485cf9(0x1b1)][_0x485cf9(0x10d)]({'sourceId':_0x26d393,'destinationIds':_0x5532b2,'messageType':_0x403b04[_0x485cf9(0x5cf)],'content':{'type':_0x395437[_0x485cf9(0x623)],'targetId':_0x4369c0,'data':_0x395437}});}}const _0x4ed3db=0x3e8,_0x2f1c9a=0x7530,_0x4d154a=_0x37ac7d(0x528),_0xb647b1=_0x37ac7d(0x111),_0x2507b9=_0x37ac7d(0x947),_0x40c1cd=[_0x4d154a,_0xb647b1],_0x456a7d=[_0x2507b9];class _0x3b6358{['roundTripTime']=0x0;[_0x37ac7d(0x138)]=0x0;[_0x37ac7d(0x1a6)]=0x0;[_0x37ac7d(0x402)]=0x0;['packets']=0x0;[_0x37ac7d(0x37b)]=0x0;[_0x37ac7d(0x476)]=0x0;[_0x37ac7d(0x14e)]=0x0;[_0x37ac7d(0x2a8)]=0x0;get[_0x37ac7d(0x311)](){const _0x37ae18=_0x37ac7d;return this[_0x37ae18(0x37b)]>0x0&&this[_0x37ae18(0x476)]>0x0&&Date['now']()-this['currentTimestamp']<_0x2f1c9a?(this[_0x37ae18(0x14e)]-this[_0x37ae18(0x2a8)])/(this['currentTimestamp']-this[_0x37ae18(0x476)])*0x8*0x3e8:0x0;}['processReport'](_0x2f33f9){const _0x56f577=_0x37ac7d;switch(_0x2f33f9[_0x56f577(0x623)]){case _0x2507b9:this[_0x56f577(0x1b2)](_0x2f33f9);break;case _0x4d154a:this['processOutboundReport'](_0x2f33f9);break;case _0xb647b1:this[_0x56f577(0x132)](_0x2f33f9);}}[_0x37ac7d(0x21d)](){const _0xcdd489=_0x37ac7d;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0xcdd489(0xfe)](),'roundTripTime':this[_0xcdd489(0x18d)],'jitter':this[_0xcdd489(0x1a6)]};}[_0x37ac7d(0x1b2)](_0x3be6f4){const _0x544f19=_0x37ac7d;this['setBytes'](_0x3be6f4[_0x544f19(0x66a)]),this['setTimestamp'](_0x3be6f4[_0x544f19(0x26a)]),this['packets']=_0x3be6f4[_0x544f19(0x356)],this[_0x544f19(0x402)]=_0x3be6f4[_0x544f19(0x402)],void 0x0!==_0x3be6f4['jitter']?this[_0x544f19(0x1a6)]=_0x3be6f4['jitter']:this['jitter']=0x0,void 0x0!==_0x3be6f4[_0x544f19(0x138)]?this[_0x544f19(0x138)]=_0x3be6f4[_0x544f19(0x138)]:this[_0x544f19(0x138)]=0x0;}['processOutboundReport'](_0xee207d){const _0xac976c=_0x37ac7d;this[_0xac976c(0x845)](_0xee207d[_0xac976c(0x90a)]),this['setTimestamp'](_0xee207d[_0xac976c(0x26a)]),this[_0xac976c(0x7d1)]=_0xee207d[_0xac976c(0x46c)];}[_0x37ac7d(0x132)](_0x247ca1){const _0x1cf970=_0x37ac7d;this['roundTripTime']=0x3e8*_0x247ca1[_0x1cf970(0x18d)],void 0x0!==_0x247ca1[_0x1cf970(0x1a6)]?this[_0x1cf970(0x1a6)]=_0x247ca1[_0x1cf970(0x1a6)]:this[_0x1cf970(0x1a6)]=0x0;}[_0x37ac7d(0xfe)](){const _0x3cc118=_0x37ac7d;return this[_0x3cc118(0x7d1)]>0x0?this['packetsLost']/this['packets']:0x0;}['setTimestamp'](_0x577023){const _0x5795f4=_0x37ac7d;_0x577023>this[_0x5795f4(0x37b)]&&(this[_0x5795f4(0x476)]=this['currentTimestamp'],this[_0x5795f4(0x37b)]=_0x577023);}[_0x37ac7d(0x845)](_0x1ade66){const _0x3706dc=_0x37ac7d;this[_0x3706dc(0x2a8)]=this[_0x3706dc(0x14e)],this[_0x3706dc(0x14e)]=_0x1ade66;}}class _0x2def45 extends _0x3b6358{}class _0x311b9e extends _0x3b6358{[_0x37ac7d(0x486)]=0x0;[_0x37ac7d(0x907)]=0x0;['frameHeight']=0x0;[_0x37ac7d(0x2d6)]=0x0;[_0x37ac7d(0x91e)]=0x0;get['fps'](){const _0x4a0b06=_0x37ac7d;return this['currentTimestamp']>0x0&&this[_0x4a0b06(0x476)]>0x0&&Date['now']()-this[_0x4a0b06(0x37b)]<_0x2f1c9a?(this['currentFrames']-this[_0x4a0b06(0x91e)])/(this[_0x4a0b06(0x37b)]-this['previousTimestamp'])*0x3e8:0x0;}get['timePerFrame'](){const _0x37d6c9=_0x37ac7d;return this[_0x37d6c9(0x486)]&&this[_0x37d6c9(0x2d6)]&&this['currentFrames']>0x0?this[_0x37d6c9(0x486)]/this[_0x37d6c9(0x2d6)]:0x0;}set[_0x37ac7d(0xcf)](_0x549df6){const _0x13fc19=_0x37ac7d;this[_0x13fc19(0x91e)]=this['currentFrames'],this[_0x13fc19(0x2d6)]=_0x549df6;}['getReport'](){const _0x1aca97=_0x37ac7d;return{...super[_0x1aca97(0x21d)](),'FPS':this[_0x1aca97(0x42c)],'timePerFrame':this[_0x1aca97(0x65b)],'frameWidth':this[_0x1aca97(0x907)],'frameHeight':this['frameHeight']};}[_0x37ac7d(0x1b2)](_0x553cb1){const _0x15d005=_0x37ac7d;super[_0x15d005(0x1b2)](_0x553cb1),this[_0x15d005(0x486)]=_0x553cb1[_0x15d005(0x52a)],this[_0x15d005(0xcf)]=_0x553cb1['framesDecoded'],this[_0x15d005(0x907)]=_0x553cb1[_0x15d005(0x907)],this['frameHeight']=_0x553cb1['frameHeight'];}[_0x37ac7d(0x323)](_0x1e5956){const _0x21da4d=_0x37ac7d;super[_0x21da4d(0x323)](_0x1e5956),this[_0x21da4d(0x486)]=_0x1e5956[_0x21da4d(0x7cc)],this[_0x21da4d(0xcf)]=_0x1e5956[_0x21da4d(0x5f3)],this['frameWidth']=_0x1e5956[_0x21da4d(0x907)],this[_0x21da4d(0x724)]=_0x1e5956[_0x21da4d(0x724)];}}class _0x38083b{['audio']=new _0x2def45();[_0x37ac7d(0x260)]=new _0x311b9e();get[_0x37ac7d(0x311)](){const _0xa059c4=_0x37ac7d;return this[_0xa059c4(0x71d)][_0xa059c4(0x311)]+this['video'][_0xa059c4(0x311)];}[_0x37ac7d(0x28e)](_0x4649b2){const _0x2a1396=_0x37ac7d;return _0x4649b2[_0x2a1396(0x97a)](_0x37c7e4=>{const _0x35bda5=_0x2a1396;switch(_0x37c7e4[_0x35bda5(0x519)]){case _0x35bda5(0x71d):this[_0x35bda5(0x71d)][_0x35bda5(0x289)](_0x37c7e4);break;case _0x35bda5(0x260):this['video'][_0x35bda5(0x289)](_0x37c7e4);}}),this['getReport']();}['getReport'](){const _0x5bf238=_0x37ac7d;return{'audio':this[_0x5bf238(0x71d)]['getReport'](),'video':this[_0x5bf238(0x260)][_0x5bf238(0x21d)](),'roundTripTime':this[_0x5bf238(0x5aa)](),'AudioVideoDelay':this[_0x5bf238(0x7d4)](),'bitrate':this[_0x5bf238(0x311)]};}[_0x37ac7d(0x5aa)](){const _0x493130=_0x37ac7d;return Math[_0x493130(0x92d)]((this['audio'][_0x493130(0x18d)]+this[_0x493130(0x260)]['roundTripTime'])/0x2);}[_0x37ac7d(0x7d4)](){const _0x403ff3=_0x37ac7d;return this['audio'][_0x403ff3(0x138)]-this[_0x403ff3(0x260)][_0x403ff3(0x138)];}}class _0x2610ef{[_0x37ac7d(0x823)]=0x0;[_0x37ac7d(0x386)]=0x0;['receiverCurrentTimestamp']=0x0;[_0x37ac7d(0x60c)]=0x0;[_0x37ac7d(0x943)]=0x0;[_0x37ac7d(0x284)]=0x0;[_0x37ac7d(0x910)]=0x0;['receiverPreviousBytes']=0x0;[_0x37ac7d(0x4d2)]=0x0;[_0x37ac7d(0x382)]=0x0;['senderTimeProcessing']=0x0;[_0x37ac7d(0x220)]=0x0;['roundTripTime']=0x0;get['bitrate'](){const _0x5efc74=_0x37ac7d;return this[_0x5efc74(0x68d)]+this[_0x5efc74(0x456)];}get[_0x37ac7d(0x68d)](){const _0x4790c6=_0x37ac7d;return this['senderCurrentTimestamp']>0x0&&this[_0x4790c6(0x386)]>0x0&&Date[_0x4790c6(0x90d)]()-this[_0x4790c6(0x823)]<_0x2f1c9a?(this['senderCurrentBytes']-this[_0x4790c6(0x284)])/(this[_0x4790c6(0x823)]-this[_0x4790c6(0x386)])*0x8*0x3e8:0x0;}get[_0x37ac7d(0x456)](){const _0x1c7d85=_0x37ac7d;return this[_0x1c7d85(0x6d7)]>0x0&&this[_0x1c7d85(0x60c)]>0x0&&Date[_0x1c7d85(0x90d)]()-this[_0x1c7d85(0x6d7)]<_0x2f1c9a?(this[_0x1c7d85(0x910)]-this[_0x1c7d85(0x97d)])/(this['receiverCurrentTimestamp']-this[_0x1c7d85(0x60c)])*0x8*0x3e8:0x0;}[_0x37ac7d(0x289)](_0x5cfe6e){const _0xebe06=_0x37ac7d;switch(_0x5cfe6e[_0xebe06(0x1ea)]){case _0x11d6ca['Sender']:this[_0xebe06(0x9a6)](_0x5cfe6e);break;case _0x11d6ca[_0xebe06(0x115)]:this[_0xebe06(0x941)](_0x5cfe6e);}}[_0x37ac7d(0x21d)](){const _0x4cd1ab=_0x37ac7d;return{'bitrate':this[_0x4cd1ab(0x311)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x4cd1ab(0x456)],'totalBytes':this[_0x4cd1ab(0x8e6)](),'senderTotalBytes':this[_0x4cd1ab(0x73f)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this[_0x4cd1ab(0x4d2)]+this[_0x4cd1ab(0x382)],'senderTotalMessages':this[_0x4cd1ab(0x4d2)],'receiverTotalMessages':this[_0x4cd1ab(0x382)],'timeProcessing':this[_0x4cd1ab(0x703)]+this[_0x4cd1ab(0x220)],'senderTimeProcessing':this[_0x4cd1ab(0x703)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this['roundTripTime']};}['getTotalBytes'](){const _0x41589f=_0x37ac7d;return this[_0x41589f(0x943)]+this['receiverCurrentBytes'];}[_0x37ac7d(0x73f)](){const _0x179079=_0x37ac7d;return this[_0x179079(0x943)];}['getReceiverTotalBytes'](){const _0x4119ac=_0x37ac7d;return this[_0x4119ac(0x910)];}['processSenderReport'](_0x758236){const _0x8cdea1=_0x37ac7d;this[_0x8cdea1(0x265)](_0x758236['timestamp']),this[_0x8cdea1(0x845)](_0x758236[_0x8cdea1(0x90a)]),this['senderTotalMessages']=_0x758236[_0x8cdea1(0x187)],this[_0x8cdea1(0x703)]=_0x758236[_0x8cdea1(0x5ba)],this[_0x8cdea1(0x18d)]=_0x758236[_0x8cdea1(0x18d)];}['processReceiverReport'](_0x1ad8a0){const _0x1ec410=_0x37ac7d;this[_0x1ec410(0x56e)](_0x1ad8a0[_0x1ec410(0x26a)]),this[_0x1ec410(0x137)](_0x1ad8a0[_0x1ec410(0x66a)]),this[_0x1ec410(0x382)]=_0x1ad8a0[_0x1ec410(0x6a2)],this[_0x1ec410(0x220)]=_0x1ad8a0[_0x1ec410(0x838)];}['setSenderTimestamp'](_0x48471a){const _0x32c575=_0x37ac7d;_0x48471a>this[_0x32c575(0x823)]&&(this[_0x32c575(0x386)]=this[_0x32c575(0x823)],this['senderCurrentTimestamp']=_0x48471a);}[_0x37ac7d(0x56e)](_0x3fb0fc){const _0x2d55e0=_0x37ac7d;_0x3fb0fc>this[_0x2d55e0(0x6d7)]&&(this[_0x2d55e0(0x60c)]=this[_0x2d55e0(0x6d7)],this['receiverCurrentTimestamp']=_0x3fb0fc);}[_0x37ac7d(0x845)](_0x509115){const _0x299a49=_0x37ac7d;this[_0x299a49(0x284)]=this[_0x299a49(0x943)],this[_0x299a49(0x943)]=_0x509115;}[_0x37ac7d(0x137)](_0x1fb7bb){const _0xb1e2e7=_0x37ac7d;this[_0xb1e2e7(0x97d)]=this['receiverCurrentBytes'],this[_0xb1e2e7(0x910)]=_0x1fb7bb;}}class _0x146586{['senderStreams']=new Map();[_0x37ac7d(0x859)]=new Map();[_0x37ac7d(0x485)]=new _0x2610ef();get[_0x37ac7d(0x68d)](){const _0x9a382f=_0x37ac7d;let _0x5b0141=0x0;return this[_0x9a382f(0x62c)][_0x9a382f(0x97a)](_0x19e103=>{const _0x337b15=_0x9a382f;_0x5b0141+=_0x19e103[_0x337b15(0x311)];}),_0x5b0141+=this[_0x9a382f(0x485)][_0x9a382f(0x68d)],_0x5b0141;}get[_0x37ac7d(0x456)](){const _0x5d66d6=_0x37ac7d;let _0x1b3e98=0x0;return this[_0x5d66d6(0x859)][_0x5d66d6(0x97a)](_0x2bd1b2=>{const _0x30badd=_0x5d66d6;_0x1b3e98+=_0x2bd1b2[_0x30badd(0x311)];}),_0x1b3e98+=this[_0x5d66d6(0x485)][_0x5d66d6(0x456)],_0x1b3e98;}get[_0x37ac7d(0x311)](){const _0x52647e=_0x37ac7d;return this[_0x52647e(0x68d)]+this[_0x52647e(0x456)];}[_0x37ac7d(0x28e)](_0x369afb,_0x500112){const _0x2563c7=_0x37ac7d,_0x2671eb=[],_0x430a24=[];return _0x369afb instanceof Array?_0x369afb[_0x2563c7(0x97a)](_0x2171d0=>{const _0x90459d=_0x2563c7;_0x2171d0[_0x90459d(0x97a)](_0x5f04bf=>{const _0x1ceb86=_0x90459d;_0x456a7d['includes'](_0x5f04bf[_0x1ceb86(0x623)])&&_0x2671eb[_0x1ceb86(0x7b5)](_0x5f04bf),_0x40c1cd[_0x1ceb86(0x444)](_0x5f04bf[_0x1ceb86(0x623)])&&_0x430a24[_0x1ceb86(0x7b5)](_0x5f04bf);});}):this[_0x2563c7(0x485)][_0x2563c7(0x289)](_0x369afb),_0x2671eb[_0x2563c7(0x146)]>0x0&&_0x500112?{...this['processInboundReports'](_0x500112,_0x2671eb),'origin':_0x11d6ca[_0x2563c7(0x115)],'streamId':_0x500112}:_0x430a24['length']>0x0&&_0x500112?{...this[_0x2563c7(0x926)](_0x500112,_0x430a24),'origin':_0x11d6ca['Sender'],'streamId':_0x500112}:void 0x0;}[_0x37ac7d(0x21d)](){const _0xac1b88=_0x37ac7d,_0x366cf4={};this[_0xac1b88(0x62c)][_0xac1b88(0x97a)]((_0x2d52d0,_0x1e808d)=>{const _0x3c9301=_0xac1b88;_0x366cf4[_0x1e808d]=_0x2d52d0[_0x3c9301(0x21d)]();});const _0x2e2a9c={};return this[_0xac1b88(0x859)][_0xac1b88(0x97a)]((_0x51d48d,_0x49d97d)=>{_0x2e2a9c[_0x49d97d]=_0x51d48d['getReport']();}),{'bitrate':this[_0xac1b88(0x311)],'senderBitrate':this[_0xac1b88(0x68d)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x366cf4,'receiverStreams':_0x2e2a9c,'dataChannel':this[_0xac1b88(0x485)][_0xac1b88(0x21d)]()};}[_0x37ac7d(0x13f)](_0x2e3e57,_0x282db9){const _0x1af06e=_0x37ac7d;return this[_0x1af06e(0x859)][_0x1af06e(0x158)](_0x2e3e57)||this[_0x1af06e(0x859)]['set'](_0x2e3e57,new _0x38083b()),this[_0x1af06e(0x859)][_0x1af06e(0x7e9)](_0x2e3e57)[_0x1af06e(0x28e)](_0x282db9);}[_0x37ac7d(0x926)](_0x20997f,_0x180fc8){const _0x1ece8d=_0x37ac7d;return this[_0x1ece8d(0x62c)][_0x1ece8d(0x158)](_0x20997f)||this[_0x1ece8d(0x62c)][_0x1ece8d(0x773)](_0x20997f,new _0x38083b()),this[_0x1ece8d(0x62c)][_0x1ece8d(0x7e9)](_0x20997f)[_0x1ece8d(0x28e)](_0x180fc8);}}class _0x316ba8{['nodes']=new Map();[_0x37ac7d(0x4c0)]=0x0;[_0x37ac7d(0x7a5)]=0x0;['pubsubTopics']=new Map();[_0x37ac7d(0x6ff)]=new Map();[_0x37ac7d(0x7e2)]=new Map();[_0x37ac7d(0x9c3)]=new Map();[_0x37ac7d(0x980)]=new Map();[_0x37ac7d(0x465)]=new Map();[_0x37ac7d(0x337)]=new Map();[_0x37ac7d(0x468)]=new Map();[_0x37ac7d(0x4d2)]=new Map();[_0x37ac7d(0x382)]=new Map();['senderTimeProcessing']=new Map();['receiverTimeProcessing']=new Map();['systemMessages']=new Map();[_0x37ac7d(0x1b1)];[_0x37ac7d(0x21d)](){const _0x5603c7=_0x37ac7d,_0x491a16={};this['nodes'][_0x5603c7(0x97a)]((_0x11d84a,_0x31f329)=>{const _0x2a7706=_0x5603c7;_0x491a16[_0x31f329]=_0x11d84a[_0x2a7706(0x21d)]();});let _0x425046=0x0;this[_0x5603c7(0x703)][_0x5603c7(0x97a)](_0x4b6610=>{_0x425046+=_0x4b6610;});let _0x1269a7=0x0;this[_0x5603c7(0x220)]['forEach'](_0x2ff62f=>{_0x1269a7+=_0x2ff62f;});const _0x2b02bb=_0x425046+_0x1269a7;let _0x4a6beb={'messages':{'total':0x0}};this[_0x5603c7(0x733)][_0x5603c7(0x97a)](_0x357cc7=>{const _0x413787=_0x5603c7;Object[_0x413787(0x6cd)](_0x357cc7)[_0x413787(0x97a)](_0x3a8ca2=>{const _0x256007=_0x413787;_0x4a6beb[_0x3a8ca2]||(_0x4a6beb[_0x3a8ca2]={}),Object[_0x256007(0x6cd)](_0x357cc7[_0x3a8ca2])[_0x256007(0x97a)](_0x3920a5=>{_0x4a6beb[_0x3a8ca2][_0x3920a5]||(_0x4a6beb[_0x3a8ca2][_0x3920a5]=0x0),_0x4a6beb[_0x3a8ca2][_0x3920a5]+=_0x357cc7[_0x3a8ca2][_0x3920a5];});});});let _0xc0c271=0x0,_0x1b6000=0x0,_0xf8acc4=0x0,_0x883194=0x0,_0x229a2f=0x0;return this['pubsubTopics'][_0x5603c7(0x97a)](_0x510245=>{const _0x56bb30=_0x5603c7;_0x1b6000+=_0x510245[_0x56bb30(0x187)],_0xf8acc4+=_0x510245['messagesReceived'],_0x883194+=_0x510245['bytesSent'],_0x229a2f+=_0x510245[_0x56bb30(0x66a)];}),this[_0x5603c7(0x6ff)]['forEach'](_0x42dbb6=>{const _0x576f35=_0x5603c7;_0xc0c271+=_0x42dbb6[_0x576f35(0x2ac)],_0x1b6000+=_0x42dbb6[_0x576f35(0x187)],_0xf8acc4+=_0x42dbb6[_0x576f35(0x6a2)],_0x883194+=_0x42dbb6[_0x576f35(0x90a)],_0x229a2f+=_0x42dbb6[_0x576f35(0x66a)];}),this[_0x5603c7(0x7e2)][_0x5603c7(0x97a)](_0x22b4b7=>{const _0x2caa56=_0x5603c7;_0xc0c271+=_0x22b4b7[_0x2caa56(0x2ac)],_0x1b6000+=_0x22b4b7[_0x2caa56(0x187)],_0xf8acc4+=_0x22b4b7[_0x2caa56(0x6a2)],_0x883194+=_0x22b4b7[_0x2caa56(0x90a)],_0x229a2f+=_0x22b4b7[_0x2caa56(0x66a)];}),this[_0x5603c7(0x9c3)][_0x5603c7(0x97a)](_0x237287=>{const _0x4872d4=_0x5603c7;_0xc0c271+=_0x237287[_0x4872d4(0x2ac)],_0x1b6000+=_0x237287['messagesSent'],_0xf8acc4+=_0x237287[_0x4872d4(0x6a2)],_0x883194+=_0x237287[_0x4872d4(0x90a)],_0x229a2f+=_0x237287[_0x4872d4(0x66a)];}),this['generativeAIWorkers'][_0x5603c7(0x97a)](_0x176c2b=>{const _0x53d47e=_0x5603c7;_0xc0c271+=_0x176c2b[_0x53d47e(0x2ac)],_0x1b6000+=_0x176c2b[_0x53d47e(0x187)],_0xf8acc4+=_0x176c2b[_0x53d47e(0x6a2)],_0x883194+=_0x176c2b[_0x53d47e(0x90a)],_0x229a2f+=_0x176c2b[_0x53d47e(0x66a)];}),this[_0x5603c7(0x465)]['forEach'](_0x2503dd=>{const _0x2a8778=_0x5603c7;_0xc0c271+=_0x2503dd[_0x2a8778(0x2ac)],_0x1b6000+=_0x2503dd['messagesSent'],_0xf8acc4+=_0x2503dd[_0x2a8778(0x6a2)],_0x883194+=_0x2503dd[_0x2a8778(0x90a)],_0x229a2f+=_0x2503dd[_0x2a8778(0x66a)];}),this['graphDatabases']['forEach'](_0x1e4bea=>{const _0x25f5f4=_0x5603c7;_0xc0c271+=_0x1e4bea[_0x25f5f4(0x2ac)],_0x1b6000+=_0x1e4bea['messagesSent'],_0xf8acc4+=_0x1e4bea['messagesReceived'],_0x883194+=_0x1e4bea[_0x25f5f4(0x90a)],_0x229a2f+=_0x1e4bea[_0x25f5f4(0x66a)];}),{'STVolatility':this[_0x5603c7(0x2a2)](),'DTVolatility':this[_0x5603c7(0x42a)](),'bitrate':this[_0x5603c7(0x7c8)](),'senderBitrate':this[_0x5603c7(0x767)](),'receiverBitrate':this[_0x5603c7(0x62f)](),'totalStorageSize':_0xc0c271,'totalMessages':_0x1b6000+_0xf8acc4,'totalMessagesSent':_0x1b6000,'totalMessagesReceived':_0xf8acc4,'totalBytes':_0x883194+_0x229a2f,'totalBytesSent':_0x883194,'totalBytesReceived':_0x229a2f,'systemMessages':_0x4a6beb,'timeProcessing':_0x2b02bb,'nodes':_0x491a16,'pubsubTopics':Object[_0x5603c7(0x904)](this[_0x5603c7(0x91b)]),'objectStores':Object['fromEntries'](this[_0x5603c7(0x6ff)]),'keyValueDatabases':Object[_0x5603c7(0x904)](this[_0x5603c7(0x7e2)]),'generativeAIContexts':Object[_0x5603c7(0x904)](this[_0x5603c7(0x9c3)]),'generativeAIWorkers':Object[_0x5603c7(0x904)](this[_0x5603c7(0x980)]),'vectorDatabases':Object[_0x5603c7(0x904)](this[_0x5603c7(0x465)]),'graphDatabases':Object[_0x5603c7(0x904)](this[_0x5603c7(0x337)]),'externalStorages':Object[_0x5603c7(0x904)](this[_0x5603c7(0x468)])};}['addRemoteNode'](_0x437de6){const _0x469312=_0x37ac7d;this[_0x469312(0x639)]['set'](_0x437de6,new _0x146586());}[_0x37ac7d(0x1c9)](_0x2e0be5){const _0x4399c4=_0x37ac7d;this['nodes'][_0x4399c4(0x6fd)](_0x2e0be5);}[_0x37ac7d(0x28e)](_0x317298,_0x2db21c,_0x48e671){const _0x2c056a=_0x37ac7d;_0x2db21c instanceof Array||this['processDataChannelReport'](_0x317298,_0x2db21c);const _0x155bd2=this[_0x2c056a(0x639)][_0x2c056a(0x7e9)](_0x317298)?.[_0x2c056a(0x28e)](_0x2db21c,_0x48e671);_0x155bd2&&this['systemTopic']['publish']({'sourceId':_0x19393c,'messageType':_0x403b04[_0x2c056a(0x861)],'content':{'type':_0x14e3b2[_0x2c056a(0x67d)],'data':{..._0x155bd2,'nodeId':_0x317298}}});}['processLocalReport'](_0x5b57c1){const _0x16a938=_0x37ac7d;this['setScheduleTime'](_0x5b57c1[_0x16a938(0x7dd)]),this['setDurationTime'](_0x5b57c1[_0x16a938(0x7a5)]),this[_0x16a938(0x1b1)][_0x16a938(0x10d)]({'sourceId':_0x19393c,'messageType':_0x403b04[_0x16a938(0x861)],'content':{'type':_0x14e3b2[_0x16a938(0x592)],'data':{'STVolatility':this[_0x16a938(0x2a2)](),'DTVolatility':this[_0x16a938(0x42a)]()}}});}['processServiceReport'](_0x3fb68a,_0x1cd960,_0x53d230){const _0x48e67f=_0x37ac7d;switch(_0x1cd960){case _0x3b90a2['PubSubTopicStats']:this[_0x48e67f(0x91b)][_0x48e67f(0x773)](_0x3fb68a,_0x53d230);break;case _0x3b90a2[_0x48e67f(0x385)]:this['objectStores'][_0x48e67f(0x773)](_0x3fb68a,_0x53d230);break;case _0x3b90a2['KeyValueDatabaseStats']:this[_0x48e67f(0x7e2)][_0x48e67f(0x773)](_0x3fb68a,_0x53d230);break;case _0x3b90a2[_0x48e67f(0x33b)]:this[_0x48e67f(0x9c3)][_0x48e67f(0x773)](_0x3fb68a,_0x53d230);break;case _0x3b90a2[_0x48e67f(0x6e6)]:this['generativeAIWorkers'][_0x48e67f(0x773)](_0x3fb68a,_0x53d230);break;case _0x3b90a2[_0x48e67f(0x936)]:this[_0x48e67f(0x465)][_0x48e67f(0x773)](_0x3fb68a,_0x53d230);break;case _0x3b90a2[_0x48e67f(0x88e)]:this[_0x48e67f(0x337)][_0x48e67f(0x773)](_0x3fb68a,_0x53d230);break;case _0x3b90a2[_0x48e67f(0x12e)]:this[_0x48e67f(0x468)][_0x48e67f(0x773)](_0x3fb68a,_0x53d230);}}[_0x37ac7d(0x1b9)](_0x423b08){const _0x33b68c=_0x37ac7d;this[_0x33b68c(0x1b1)]=_0x423b08;}[_0x37ac7d(0x84a)](){const _0x56fcc2=_0x37ac7d;delete this[_0x56fcc2(0x1b1)];}[_0x37ac7d(0x2a2)](){const _0x25389b=_0x37ac7d;return this[_0x25389b(0x4c0)]>0x0&&this['scheduleTime']-_0x4ed3db>0x0?(this[_0x25389b(0x4c0)]-_0x4ed3db)/_0x4ed3db:0x0;}['getDTVolatility'](){const _0x152886=_0x37ac7d;return this[_0x152886(0x7a5)]>0x0&&this[_0x152886(0x7a5)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x37ac7d(0x767)](){const _0x19ac9f=_0x37ac7d;let _0x121c06=0x0;return this[_0x19ac9f(0x639)][_0x19ac9f(0x97a)](_0x10ec44=>{const _0x5ad275=_0x19ac9f;_0x121c06+=_0x10ec44[_0x5ad275(0x68d)];}),_0x121c06;}[_0x37ac7d(0x62f)](){const _0x39e3e3=_0x37ac7d;let _0x3954b5=0x0;return this[_0x39e3e3(0x639)][_0x39e3e3(0x97a)](_0x530590=>{_0x3954b5+=_0x530590['receiverBitrate'];}),_0x3954b5;}[_0x37ac7d(0x7c8)](){const _0x4368d1=_0x37ac7d;let _0x1edb89=0x0;return this[_0x4368d1(0x639)][_0x4368d1(0x97a)](_0x15f5db=>{const _0x2373a0=_0x4368d1;_0x1edb89+=_0x15f5db[_0x2373a0(0x311)];}),_0x1edb89;}[_0x37ac7d(0x4a6)](_0x3586ab){const _0x4866fe=_0x37ac7d;this[_0x4866fe(0x4c0)]=_0x3586ab;}[_0x37ac7d(0x3b0)](_0x4b1cf1){const _0xa74342=_0x37ac7d;this[_0xa74342(0x7a5)]=_0x4b1cf1;}[_0x37ac7d(0x3f5)](_0x5c676c,_0x42929b){const _0x53145f=_0x37ac7d;switch(_0x42929b[_0x53145f(0x1ea)]){case _0x11d6ca[_0x53145f(0x547)]:this[_0x53145f(0x9a6)](_0x5c676c,_0x42929b);break;case _0x11d6ca['Receiver']:this['processReceiverReport'](_0x5c676c,_0x42929b);}}['processSenderReport'](_0x366a60,_0x252be4){const _0x5748da=_0x37ac7d;this[_0x5748da(0x4d2)][_0x5748da(0x773)](_0x366a60,_0x252be4[_0x5748da(0x187)]),this[_0x5748da(0x703)][_0x5748da(0x773)](_0x366a60,_0x252be4[_0x5748da(0x5ba)]);}[_0x37ac7d(0x941)](_0x1d2700,_0x5c2641){const _0x38093e=_0x37ac7d;this[_0x38093e(0x382)][_0x38093e(0x773)](_0x1d2700,_0x5c2641['messagesReceived']),this[_0x38093e(0x220)][_0x38093e(0x773)](_0x1d2700,_0x5c2641[_0x38093e(0x838)]),this[_0x38093e(0x733)]['set'](_0x1d2700,_0x5c2641[_0x38093e(0x733)]);}}class _0x1a00d1{['configs'];[_0x37ac7d(0x3d4)]=new Set();[_0x37ac7d(0x59e)];['statsCollection'];['statsReporting'];[_0x37ac7d(0x1b7)]=new _0x316ba8();constructor(_0x20ecd6){const _0x20b398=_0x37ac7d;this[_0x20b398(0x8de)]=_0x20ecd6,this[_0x20b398(0x8de)][_0x20b398(0x1e2)][_0x20b398(0x6f9)](this[_0x20b398(0x1b7)]),this['statsCollection']=this[_0x20b398(0x46d)](),this[_0x20b398(0x208)]=this[_0x20b398(0x2a0)]();}['close'](){const _0x258153=_0x37ac7d;this[_0x258153(0x8de)]['mediator']['unregisterSystemSource'](this['statsReport']),this[_0x258153(0x208)](),this[_0x258153(0x247)]();}[_0x37ac7d(0xd4)](_0x44992b){const _0x3d4f29=_0x37ac7d;this[_0x3d4f29(0x3d4)][_0x3d4f29(0x492)](_0x44992b),this[_0x3d4f29(0x1b7)][_0x3d4f29(0xd4)](_0x44992b);}[_0x37ac7d(0x1c9)](_0x3c4a22){const _0x792275=_0x37ac7d;this[_0x792275(0x3d4)][_0x792275(0x6fd)](_0x3c4a22),this[_0x792275(0x1b7)][_0x792275(0x1c9)](_0x3c4a22);}[_0x37ac7d(0x51c)](_0x33746f){const _0x4ceb19=_0x37ac7d;if(_0x33746f[_0x4ceb19(0x8c5)]['type']===_0x4ef545[_0x4ceb19(0x861)]){const {nodeId:_0x4a38c6,streamId:_0x5f2408,stats:_0xc65d1c}=_0x33746f[_0x4ceb19(0x8c5)];this['statsReport'][_0x4ceb19(0x28e)](_0x4a38c6,_0xc65d1c,_0x5f2408);}}['handleContentSystemEvents'](_0x6216ee){const _0x56b18d=_0x37ac7d;switch(_0x6216ee[_0x56b18d(0x8c5)]['type']){case _0x3b90a2['ObjectStoreStats']:case _0x3b90a2[_0x56b18d(0x7c0)]:case _0x3b90a2['PubSubTopicStats']:case _0x3b90a2['GenerativeAIContextStats']:case _0x3b90a2[_0x56b18d(0x6e6)]:case _0x3b90a2[_0x56b18d(0x936)]:case _0x3b90a2[_0x56b18d(0x88e)]:case _0x3b90a2[_0x56b18d(0x12e)]:this[_0x56b18d(0x1b7)][_0x56b18d(0xed)](_0x6216ee[_0x56b18d(0x8c5)]['label'],_0x6216ee['content'][_0x56b18d(0x623)],_0x6216ee['content'][_0x56b18d(0x205)]);}}['setupStatsReporting'](){const _0x348b6c=_0x37ac7d;return _0x29b976[_0x348b6c(0x10c)](()=>{const _0x3cd20a=_0x348b6c,_0x187e5c=this[_0x3cd20a(0x1b7)]['getReport']();_0x52aedf[_0x3cd20a(0x857)](_0xdea279[_0x3cd20a(0x861)],_0x3cd20a(0x6f6),_0x187e5c),(0x0,_0x2c741a['addDoc'])((0x0,_0x2c741a[_0x3cd20a(0x73b)])(_0xe4f57[_0x3cd20a(0x242)](),'developers/'+this['configs']['vendorId']+_0x3cd20a(0x604)),{'clusterId':this[_0x3cd20a(0x8de)][_0x3cd20a(0x6b0)],'nodeId':this[_0x3cd20a(0x8de)][_0x3cd20a(0x116)][_0x3cd20a(0x336)](),'nodeType':this['configs']['localNode'][_0x3cd20a(0x623)],'timestamp':(0x0,_0x2c741a[_0x3cd20a(0x327)])(),'report':_0x187e5c}),_0x52aedf[_0x3cd20a(0x5c7)](_0x3cd20a(0x205),{'clusterId':this[_0x3cd20a(0x8de)][_0x3cd20a(0x6b0)],'nodeId':this[_0x3cd20a(0x8de)][_0x3cd20a(0x116)]['getId'](),'nodeType':this[_0x3cd20a(0x8de)]['localNode'][_0x3cd20a(0x623)],'data':{'report':_0x187e5c}});},_0x2f1c9a);}['setupStatsCollection'](){const _0x5cf217=_0x37ac7d;let _0x5178b9=!0x1,_0x59f61e=Date[_0x5cf217(0x90d)]();return _0x29b976['setInterval'](async()=>{const _0x209480=_0x5cf217;if(_0x5178b9)return;if(_0x5178b9=!0x0,0x0===this[_0x209480(0x3d4)][_0x209480(0x1c1)])return delete this[_0x209480(0x59e)],void(_0x5178b9=!0x1);const _0x296330=Date[_0x209480(0x90d)]();this[_0x209480(0x20b)]();try{await this['configs'][_0x209480(0x1e2)][_0x209480(0x41c)](this[_0x209480(0x59e)]);}catch(_0x13fdbe){}this[_0x209480(0x1b7)][_0x209480(0x81f)]({'secheduleTime':_0x296330-_0x59f61e,'durationTime':Date[_0x209480(0x90d)]()-_0x296330}),_0x59f61e=_0x296330,_0x5178b9=!0x1;},_0x4ed3db);}['findNextNodeId'](){const _0x42ae66=_0x37ac7d;let _0x5c18b5,_0x21cef7=!0x1;this[_0x42ae66(0x59e)]&&(this['remoteNodes'][_0x42ae66(0x158)](this[_0x42ae66(0x59e)])||delete this[_0x42ae66(0x59e)]);for(const _0x436ade of this['remoteNodes'])if(_0x5c18b5||(_0x5c18b5=_0x436ade),this['nextNodeId']!==_0x436ade){if(_0x21cef7)return void(this[_0x42ae66(0x59e)]=_0x436ade);}else _0x21cef7=!0x0,delete this[_0x42ae66(0x59e)];this[_0x42ae66(0x59e)]||(this[_0x42ae66(0x59e)]=_0x5c18b5);}}class _0x312c2f{[_0x37ac7d(0x9c5)];[_0x37ac7d(0x2b9)];['systemTopic'];constructor(_0x3f4e9d,_0x52a0c4){const _0x4d8ff4=_0x37ac7d;this[_0x4d8ff4(0x9c5)]=_0x3f4e9d,this[_0x4d8ff4(0x2b9)]=_0x52a0c4;}['registerSystemPublisher'](_0x535607){this['systemTopic']=_0x535607;}['unregisterSystemPublisher'](){const _0x3f6aaf=_0x37ac7d;delete this[_0x3f6aaf(0x1b1)];}}class _0x3e3db1 extends _0x312c2f{[_0x37ac7d(0x9c5)];[_0x37ac7d(0x2b9)];[_0x37ac7d(0x7bb)];constructor(_0x70df45,_0x41d9ad,_0x10693e){const _0x358902=_0x37ac7d;super(_0x70df45,_0x41d9ad),this[_0x358902(0x9c5)]=_0x70df45,this[_0x358902(0x2b9)]=_0x41d9ad,this['params']=_0x10693e;}[_0x37ac7d(0x9b2)](_0x209f26,_0xf1848c,_0x46fb66){const _0xae1e34=_0x37ac7d;if(this[_0xae1e34(0x2b9)]['getContentType']()===_0x441722[_0xae1e34(0x4bf)][_0xae1e34(0x8f5)]){const _0xbb0af7={'type':_0x4df43c['SubscribeMediaStream'],'label':this[_0xae1e34(0x2b9)][_0xae1e34(0x854)](),'ownerId':_0x209f26,'trackKinds':_0xf1848c??this[_0xae1e34(0x2b9)][_0xae1e34(0x27a)](),'params':_0x46fb66};this[_0xae1e34(0x1b1)]['publish']({'sourceId':this['source']['getLocalId'](),'destinationIds':[this[_0xae1e34(0x9c5)][_0xae1e34(0xc9)]()],'messageType':_0x403b04['Subscription'],'content':_0xbb0af7}),this[_0xae1e34(0x7bb)]=_0x46fb66;}}[_0x37ac7d(0x328)](_0xf35afb,_0x5b78f0){const _0x414074=_0x37ac7d;if(this[_0x414074(0x2b9)][_0x414074(0x151)]()===_0x441722[_0x414074(0x4bf)][_0x414074(0x8f5)]){const _0x3967a9={'type':_0x4df43c[_0x414074(0x794)],'label':this[_0x414074(0x2b9)]['getLabel'](),'ownerId':_0xf35afb,'params':_0x5b78f0};this[_0x414074(0x1b1)][_0x414074(0x10d)]({'sourceId':this[_0x414074(0x9c5)][_0x414074(0x505)](),'destinationIds':[this[_0x414074(0x9c5)][_0x414074(0xc9)]()],'messageType':_0x403b04['Subscription'],'content':_0x3967a9}),this[_0x414074(0x7bb)]=_0x5b78f0;}}[_0x37ac7d(0x887)](_0x179dbc,_0x1b7ed7,_0x35fc4b){const _0x433218=_0x37ac7d;if(this[_0x433218(0x2b9)]['getContentType']()===_0x441722[_0x433218(0x4bf)][_0x433218(0x8f5)]){const _0x15ad32={'type':_0x4df43c['UnsubscribeMediaStream'],'label':this[_0x433218(0x2b9)][_0x433218(0x854)](),'ownerId':_0x179dbc,'trackKinds':_0x35fc4b??this[_0x433218(0x2b9)][_0x433218(0x27a)](),'remainingTracks':_0x1b7ed7};this[_0x433218(0x1b1)][_0x433218(0x10d)]({'sourceId':this[_0x433218(0x9c5)][_0x433218(0x505)](),'destinationIds':[this['source'][_0x433218(0xc9)]()],'messageType':_0x403b04['Subscription'],'content':_0x15ad32});}}}class _0x4d18e5{[_0x37ac7d(0x3f0)];['maxDistance'];[_0x37ac7d(0x76a)];[_0x37ac7d(0x1b1)];[_0x37ac7d(0x991)]=new Set();['startTime']=Date[_0x37ac7d(0x90d)]();['params'];[_0x37ac7d(0x705)]=0x0;constructor(_0x1dcfdd,_0xc12660,_0x132545,_0x4f0396){const _0x412cfd=_0x37ac7d;this['currentDistance']=_0xc12660,this[_0x412cfd(0x6b8)]=_0x132545,this[_0x412cfd(0x76a)]=_0x4f0396,_0x1dcfdd['forEach'](_0x5afd84=>{const _0x3c0656=_0x412cfd;this[_0x3c0656(0x991)][_0x3c0656(0x492)]({'nodeId':_0x5afd84,'type':_0x1a5a26[_0x3c0656(0x4a9)]});});}[_0x37ac7d(0x175)](){const _0x232474=_0x37ac7d;return this[_0x232474(0x76a)];}[_0x37ac7d(0x1b9)](_0x27ba0f){const _0x109a39=_0x37ac7d;this[_0x109a39(0x1b1)]=_0x27ba0f;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x37ac7d(0x44e)](_0x499d35,_0x59bcce){const _0x3e822d=_0x37ac7d;this[_0x3e822d(0x2b0)]=Date['now'](),this['answers'][_0x3e822d(0x168)](),_0x499d35[_0x3e822d(0x97a)](_0x173dcd=>{const _0x227fb7=_0x3e822d;this[_0x227fb7(0x991)][_0x227fb7(0x492)]({'nodeId':_0x173dcd,'type':_0x1a5a26[_0x227fb7(0x4a9)]});}),this[_0x3e822d(0x705)]+=0x1,this[_0x3e822d(0x3f0)]=_0x59bcce;}[_0x37ac7d(0x965)](_0x283b79,_0x2ef92b,_0x193b1b,_0x3d63b9,_0x3474a8){const _0x3b2604=_0x37ac7d;if(this[_0x3b2604(0x705)]>0xa)throw new _0x4a800a(_0x4a800a['codes'][_0x3b2604(0x1ff)],{'answers':Array[_0x3b2604(0x267)](this['answers'])[_0x3b2604(0x8f1)](_0x161be2=>({'nodeId':_0x161be2[_0x3b2604(0x8bb)],'type':_0x161be2[_0x3b2604(0x623)]}))});const _0x3b16f3=Array['from'](this['answers'])['map'](_0xafd0c4=>_0xafd0c4[_0x3b2604(0x8bb)]);this['params']=_0x3474a8,this[_0x3b2604(0x1b1)]['publish']({'sourceId':_0x283b79,'destinationIds':_0x3b16f3,'messageType':_0x403b04['Subscription'],'content':{'type':_0x4df43c['NeedMediaStream'],'label':_0x193b1b,'ownerId':_0x2ef92b,'trackKinds':_0x3d63b9,'params':_0x3474a8}}),_0x52aedf[_0x3b2604(0x857)](_0xdea279['Subscription'],_0x3b2604(0x467),_0x283b79,_0x3b16f3);}[_0x37ac7d(0x8f7)](_0x32f62a,_0x103cd5){const _0x145b42=_0x37ac7d;switch(_0x103cd5[_0x145b42(0x623)]){case _0x4df43c[_0x145b42(0x7ed)]:{const _0x29a7dc=this[_0x145b42(0x3f0)]>=_0x103cd5[_0x145b42(0x9be)]&&_0x103cd5[_0x145b42(0x9be)]<=this[_0x145b42(0x6b8)],_0xe895ef=Array[_0x145b42(0x267)](this[_0x145b42(0x991)])['find'](_0x60bc10=>_0x60bc10['nodeId']===_0x32f62a);_0xe895ef[_0x145b42(0x623)]=_0x29a7dc?_0x1a5a26[_0x145b42(0x87d)]:_0x1a5a26[_0x145b42(0x85f)],_0xe895ef[_0x145b42(0x9d4)]=_0x103cd5[_0x145b42(0x9d4)],_0xe895ef[_0x145b42(0x9be)]=_0x103cd5[_0x145b42(0x9be)],_0xe895ef[_0x145b42(0x393)]=_0x103cd5['streamId'],_0xe895ef[_0x145b42(0x18d)]=Date[_0x145b42(0x90d)]()-this[_0x145b42(0x2b0)],_0xe895ef[_0x145b42(0x7bb)]=this['params'],_0xe895ef[_0x145b42(0x580)]=_0x103cd5['ownerId'],_0xe895ef[_0x145b42(0x7cb)]=_0x103cd5['trackKinds'],_0xe895ef[_0x145b42(0x34a)]=_0x103cd5[_0x145b42(0x7ee)],_0x52aedf[_0x145b42(0x857)](_0xdea279[_0x145b42(0x559)],(_0x29a7dc?'Accepted':_0x145b42(0x85f))+'\x20answer',_0xe895ef);break;}case _0x4df43c[_0x145b42(0x12b)]:{const _0x5823c4=Array['from'](this['answers'])['find'](_0x2d79a9=>_0x2d79a9[_0x145b42(0x8bb)]===_0x32f62a);_0x5823c4[_0x145b42(0x623)]=_0x1a5a26[_0x145b42(0x85f)],_0x52aedf['log'](_0xdea279[_0x145b42(0x559)],_0x145b42(0x9c7),_0x5823c4);break;}}if(this['canChooseAnswer']())return this[_0x145b42(0x194)]();}[_0x37ac7d(0x194)](){const _0x19fb67=_0x37ac7d,_0x3077af=Array[_0x19fb67(0x267)](this[_0x19fb67(0x991)])[_0x19fb67(0x5e3)](_0x3732a=>_0x3732a['type']===_0x1a5a26[_0x19fb67(0x87d)])[_0x19fb67(0x6a8)]((_0x484ed0,_0x29f767)=>_0x484ed0[_0x19fb67(0x9d4)]===_0x29f767[_0x19fb67(0x9d4)]?_0x484ed0[_0x19fb67(0x18d)]-_0x29f767[_0x19fb67(0x18d)]:_0x484ed0['cost']-_0x29f767['cost']);if(0x0===_0x3077af['length'])throw new _0x4a800a(_0x4a800a[_0x19fb67(0x7ef)][_0x19fb67(0x1ff)],{'answers':Array[_0x19fb67(0x267)](this[_0x19fb67(0x991)])[_0x19fb67(0x8f1)](_0x45e90c=>({'nodeId':_0x45e90c['nodeId'],'type':_0x45e90c[_0x19fb67(0x623)]}))});return _0x52aedf[_0x19fb67(0x857)](_0xdea279[_0x19fb67(0x559)],_0x19fb67(0x176),_0x3077af[0x0],this[_0x19fb67(0x991)]),_0x3077af[0x0];}[_0x37ac7d(0x431)](){const _0x57ca22=_0x37ac7d;for(const _0x2de983 of this[_0x57ca22(0x991)])if(_0x2de983[_0x57ca22(0x623)]===_0x1a5a26[_0x57ca22(0x4a9)])return!0x1;return!0x0;}}class _0x4cd1dc{['label'];['contentType'];[_0x37ac7d(0x8fa)]=_0x376fa8();constructor(_0x3c5911,_0x381265){const _0x4d964c=_0x37ac7d;this[_0x4d964c(0x7ee)]=_0x3c5911,this[_0x4d964c(0x512)]=_0x381265;}[_0x37ac7d(0x854)](){const _0x494c8b=_0x37ac7d;return this[_0x494c8b(0x7ee)];}[_0x37ac7d(0x151)](){const _0x309063=_0x37ac7d;return this[_0x309063(0x512)];}[_0x37ac7d(0x956)](_0x9a9f50){const _0x2ea4bf=_0x37ac7d;_0x9a9f50[_0x2ea4bf(0x3a1)](this);}[_0x37ac7d(0x5c8)](_0xaf5549){const _0x80a7c5=_0x37ac7d;_0xaf5549[_0x80a7c5(0x8b7)](this);}['publish'](_0x53acfc){const _0x2a68c3=_0x37ac7d;this[_0x2a68c3(0x8fa)][_0x2a68c3(0x10d)]({'topicLabel':this[_0x2a68c3(0x7ee)],'contentType':this['contentType'],'uuid':(0x0,_0x3e20b1['v4'])(),'recipients':[],..._0x53acfc});}[_0x37ac7d(0x9b2)](_0x5b8e6c){return this['listener']['subscribe'](_0x5b8e6c);}[_0x37ac7d(0x43c)](_0x26bf28){const _0x2ae781=_0x37ac7d;_0x26bf28[_0x2ae781(0x3c1)](this);}[_0x37ac7d(0x240)](_0x3e9eb1){const _0x4cf112=_0x37ac7d;_0x3e9eb1[_0x4cf112(0x6cc)](this);}}class _0xc466f7{[_0x37ac7d(0x979)]={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x3b5444){const _0x54a786=_0x37ac7d;this[_0x54a786(0x7a2)]=_0x3b5444;}get[_0x37ac7d(0x3ef)](){const _0x8ff334=_0x37ac7d;return this[_0x8ff334(0x979)]['subscriptions'];}get[_0x37ac7d(0x4cd)](){const _0x104a06=_0x37ac7d;return this[_0x104a06(0x979)][_0x104a06(0x4cd)];}[_0x37ac7d(0x40e)](_0xffb231,_0x430aba){const _0x4eda9c=_0x37ac7d,_0x252209=this[_0x4eda9c(0x7a2)](_0x430aba),_0x5abb17=_0x28be41(_0xffb231);if(!_0x252209['supportsContentType'])throw new _0x4a800a(_0x4a800a[_0x4eda9c(0x7ef)][_0x4eda9c(0x1fa)],{'message':_0x5abb17+':\x20'+_0x252209[_0x4eda9c(0x3e2)]+_0x4eda9c(0x5d5)+_0x252209[_0x4eda9c(0x512)],'subscriptionType':_0xffb231,'subscription':_0x430aba,'subscriptonParts':_0x252209});const _0x3b1c24=_0x1b0bd8(_0xffb231,_0x252209);if(this['maps'][_0x4eda9c(0x3ef)][_0x4eda9c(0x158)](_0x3b1c24))throw new _0x4a800a(_0x4a800a[_0x4eda9c(0x7ef)][_0x4eda9c(0x1fa)],{'message':_0x5abb17+':\x20'+_0x3b1c24+_0x4eda9c(0x6db),'subscriptionType':_0xffb231,'subscription':_0x430aba,'subscriptonParts':_0x252209});this['maps'][_0x4eda9c(0x3ef)]['set'](_0x3b1c24,_0x430aba),this[_0x4eda9c(0x683)](_0x252209,_0x430aba);}[_0x37ac7d(0x6c5)](_0x106e47,_0x39c8db){const _0x4ce6c3=_0x37ac7d,_0x4986f8=_0x1b0bd8(_0x39c8db,_0x106e47),_0x3c604b=this[_0x4ce6c3(0x979)]['subscriptions'][_0x4ce6c3(0x7e9)](_0x4986f8);if(!_0x3c604b)throw new _0x4a800a(_0x4a800a[_0x4ce6c3(0x7ef)][_0x4ce6c3(0x1fa)],{'message':_0x28be41(_0x39c8db)+':\x20'+_0x4986f8+_0x4ce6c3(0x483),'subscriptionType':_0x39c8db,'subscription':_0x3c604b,'subscriptonParts':_0x106e47});this['closeSubscription'](_0x3c604b,_0x4986f8,_0x106e47);}[_0x37ac7d(0x318)](_0x300dd2,_0x4e9d58,_0x90779c){const _0x1f20d6=_0x37ac7d;_0x90779c=_0x90779c||this['getPartsFromSubscription'](_0x300dd2),this[_0x1f20d6(0x979)]['subscriptions'][_0x1f20d6(0x6fd)](_0x4e9d58),this['removeTopic'](_0x90779c,_0x300dd2);}['createTopic'](_0x484fbf,{source:_0x392adc,destination:_0x52f5d2}){const _0x10a451=_0x37ac7d,{contentType:_0x1a68cc,label:_0x540ada,remoteId:_0x294ae0}=_0x484fbf,_0x17990c=_0x1e04f1(_0x1a68cc,_0x540ada,_0x294ae0),_0x4f6829=new _0x4cd1dc(_0x17990c,_0x1a68cc);_0x4f6829[_0x10a451(0x956)](_0x392adc),_0x4f6829[_0x10a451(0x5c8)](_0x52f5d2),this['maps']['topics'][_0x10a451(0x773)](_0x4f6829['getLabel'](),_0x4f6829);}[_0x37ac7d(0x46e)](_0x18f064,_0x395cf4){const _0x13c9af=_0x37ac7d,{contentType:_0x294152,label:_0x2846a9,remoteId:_0x1ce1e3}=_0x18f064,_0x2d0725=_0x1e04f1(_0x294152,_0x2846a9,_0x1ce1e3),_0x302071=this[_0x13c9af(0x979)][_0x13c9af(0x4cd)][_0x13c9af(0x7e9)](_0x2d0725);_0x302071&&(this['closeTopic'](_0x302071,_0x395cf4),this[_0x13c9af(0x979)][_0x13c9af(0x4cd)][_0x13c9af(0x6fd)](_0x2d0725));}[_0x37ac7d(0x765)](_0x5e0768,{source:_0x52d093,destination:_0x469673}){const _0xb58014=_0x37ac7d;_0x5e0768[_0xb58014(0x43c)](_0x52d093),_0x5e0768['unregisterDestination'](_0x469673);}[_0x37ac7d(0x5df)](_0x55dcbc){const _0x12a459=_0x37ac7d;this[_0x12a459(0x979)][_0x12a459(0x3ef)][_0x12a459(0x97a)]((_0x2691b5,_0x49e50d)=>{const _0x1260b8=_0x12a459;_0x49e50d[_0x1260b8(0x9af)](_0x55dcbc)&&this[_0x1260b8(0x318)](_0x2691b5,_0x49e50d);});}}class _0x4f364b{[_0x37ac7d(0x8de)];[_0x37ac7d(0x6b8)];[_0x37ac7d(0x9a5)]=new Map();[_0x37ac7d(0x2e3)]=_0x524878(new _0x4c999a(this[_0x37ac7d(0x2ab)][_0x37ac7d(0x5d9)](this),()=>_0x29b976['wait'](0x64)),!0x0);[_0x37ac7d(0x800)]=new Map();[_0x37ac7d(0x979)];[_0x37ac7d(0x7ec)]=new Map();constructor(_0x30c738,_0x5e5134){const _0x9f81cf=_0x37ac7d;this[_0x9f81cf(0x8de)]=_0x30c738,this[_0x9f81cf(0x6b8)]=_0x5e5134,this[_0x9f81cf(0x979)]=new _0xc466f7(({source:_0x2bb2b6,destination:_0x269d22})=>_0x3df0b7(_0x269d22,_0x2bb2b6));}[_0x37ac7d(0x40e)](_0x3a5d03,_0x42f3fa){const _0x5b6c57=_0x37ac7d,_0x45591b=this[_0x5b6c57(0x38a)](_0x3a5d03)&&this[_0x5b6c57(0x999)](_0x42f3fa)?new _0x3e3db1(_0x3a5d03,_0x42f3fa):new _0x312c2f(_0x3a5d03,_0x42f3fa);this[_0x5b6c57(0x979)]['createSubscription'](_0x3d7361[_0x5b6c57(0x743)],_0x45591b),this[_0x5b6c57(0x8de)]['mediator']['registerSystemSource'](_0x45591b);}['removeSubscription'](_0xadfbaf,_0x2dc986,_0x27c44a=''){const _0x123e0f=_0x37ac7d,_0x2e488={'contentType':_0x2dc986,'label':_0xadfbaf,'remoteId':_0x27c44a},_0x2f7b8f=_0x1b0bd8(_0x3d7361[_0x123e0f(0x743)],_0x2e488),_0x447b45=this[_0x123e0f(0x979)][_0x123e0f(0x3ef)][_0x123e0f(0x7e9)](_0x2f7b8f);_0x447b45&&this[_0x123e0f(0x318)](_0x447b45,_0x2f7b8f);}[_0x37ac7d(0x29b)](_0x4f67c0){const _0x21a384=_0x37ac7d;this[_0x21a384(0x9cb)](_0x4f67c0);}[_0x37ac7d(0x4fc)]({label:_0x849c52,ownerId:_0x31463a,trackKinds:_0x5039b6,params:_0x2f6e8e}){const _0x4a6a4d=_0x37ac7d;this[_0x4a6a4d(0x1d7)](_0x849c52,_0x31463a,_0x5039b6,_0x2f6e8e);}[_0x37ac7d(0x5ef)]({ownerId:_0x402313,label:_0x379d77,params:_0x41c5f4}){const _0x4aa11b=_0x37ac7d,{subscriptionLabel:_0x3f8067}=this[_0x4aa11b(0x227)](_0x379d77,_0x402313),_0x47581f=this[_0x4aa11b(0x112)](_0x3f8067);_0x47581f&&_0x47581f[_0x4aa11b(0x328)](_0x402313,_0x41c5f4);}[_0x37ac7d(0x567)]({ownerId:_0x576126,label:_0xf67405,trackKinds:_0x48c27d,remainingTracks:_0x5987f2}){const _0x408a47=_0x37ac7d,_0x13a70b=_0x1b0bd8(_0x3d7361[_0x408a47(0x743)],{'contentType':_0x441722[_0x408a47(0x4bf)][_0x408a47(0x8f5)],'label':_0xf67405,'remoteId':_0x576126});this[_0x408a47(0x139)](_0x13a70b);const _0x25902e=this['subscriptionRequests'][_0x408a47(0x7e9)](_0x13a70b);_0x25902e&&(this[_0x408a47(0x8de)][_0x408a47(0x1e2)][_0x408a47(0x2de)](_0x25902e),this[_0x408a47(0x9a5)][_0x408a47(0x6fd)](_0x13a70b));const {parts:_0x1df33b,subscriptionLabel:_0x55d3db}=this['getSubscriptionLabel'](_0xf67405,_0x576126),_0x11d5d1=this[_0x408a47(0x112)](_0x55d3db);_0x11d5d1&&(_0x11d5d1[_0x408a47(0x887)](_0x576126,_0x5987f2,_0x48c27d),0x0===_0x5987f2&&this[_0x408a47(0x6c5)](_0x1df33b[_0x408a47(0x7ee)],_0x1df33b[_0x408a47(0x512)],_0x1df33b[_0x408a47(0x3e2)]));}[_0x37ac7d(0x6fb)](_0x153d30,{label:_0x23faa3,ownerId:_0x3c6c30,trackKinds:_0x2361cc,streamId:_0x35cae6,params:_0x74a4}){const _0x1c8292=_0x37ac7d,_0x52ec04=_0x1b0bd8(_0x3d7361[_0x1c8292(0x743)],{'contentType':_0x441722['ContentType'][_0x1c8292(0x8f5)],'label':_0x35cae6,'remoteId':_0x153d30}),_0x9617c0=this[_0x1c8292(0x979)][_0x1c8292(0x3ef)][_0x1c8292(0x7e9)](_0x52ec04);if(!(_0x9617c0&&_0x9617c0 instanceof _0x3e3db1))throw new _0x4a800a(_0x4a800a[_0x1c8292(0x7ef)][_0x1c8292(0x1ed)],{'label':_0x52ec04,'ownerId':_0x3c6c30});this[_0x1c8292(0x318)](_0x9617c0,_0x52ec04),this[_0x1c8292(0x1d7)](_0x23faa3,_0x3c6c30,_0x2361cc,_0x74a4);}['handleSubscriptionProvideMediaStream'](_0x40d421,_0x331510){const _0x1283d9=_0x37ac7d,{label:_0x5a5591,ownerId:_0x5ac058,trackKinds:_0x236187,params:_0x187f02}=_0x331510,_0x167196=_0x1b0bd8(_0x3d7361[_0x1283d9(0x743)],{'contentType':_0x441722[_0x1283d9(0x4bf)]['Media'],'label':_0x5a5591,'remoteId':_0x5ac058});if(!this[_0x1283d9(0x9a5)][_0x1283d9(0x158)](_0x167196))throw new _0x4a800a(_0x4a800a['codes'][_0x1283d9(0x1ed)],{'label':_0x167196,'ownerId':_0x5ac058,'streamId':_0x331510[_0x1283d9(0x393)],'requests':this[_0x1283d9(0x9a5)]});const _0x59c4d8=this['subscriptionRequests'][_0x1283d9(0x7e9)](_0x167196);if(_0x236187[_0x1283d9(0x146)]===_0x59c4d8[_0x1283d9(0x175)]()[_0x1283d9(0x146)]&&_0x236187[_0x1283d9(0x9bc)](_0x54ced1=>_0x59c4d8['getTracks']()['includes'](_0x54ced1)))try{const _0x3e79b8=_0x59c4d8[_0x1283d9(0x8f7)](_0x40d421,_0x331510);if(!_0x3e79b8)return;this[_0x1283d9(0x9b2)](_0x3e79b8,_0x5ac058,_0x5a5591,_0x167196,_0x236187);}catch(_0x2ee7c4){return void this[_0x1283d9(0x43a)](_0x5a5591,_0x5ac058,_0x236187,_0x187f02);}}[_0x37ac7d(0x7df)](_0x322bf9,{label:_0x59111e,ownerId:_0x147dd3,trackKinds:_0x498295}){const _0x58c21d=_0x37ac7d,_0x522862=this[_0x58c21d(0x8de)][_0x58c21d(0x1e2)][_0x58c21d(0x8eb)](_0x147dd3,_0x59111e);if(!_0x522862)return;const _0x147bc2=_0x522862[_0x58c21d(0x729)](),_0x1cb020=_0x522862['getSubscribedTracks']();_0x1cb020['some'](_0x15b0ed=>_0x498295[_0x58c21d(0x444)](_0x15b0ed))&&this[_0x58c21d(0x75a)](_0x322bf9,_0x59111e,_0x147bc2,_0x147dd3,_0x1cb020);}[_0x37ac7d(0x2ca)]({label:_0x260027,providerId:_0x91bc0e,ownerId:_0x3b1e13,streamId:_0x3e2aec,trackKinds:_0x26b4a4}){const _0x3f04e2=_0x37ac7d;this[_0x3f04e2(0x75a)](_0x91bc0e,_0x260027,_0x3e2aec,_0x3b1e13,_0x26b4a4);}[_0x37ac7d(0x2c4)](_0x2fa91a){const _0x233e14=_0x37ac7d;for(const _0xb43956 of this[_0x233e14(0x7ec)]['values']()){const {streamLabel:_0x4f91fb,ownerId:_0x255557,trackKinds:_0x1f3664,params:_0x4cf97a}=_0xb43956;if(!_0x255557||!_0x1f3664||!_0x4f91fb)return;this[_0x233e14(0x2e3)][_0x233e14(0x7b5)]({'label':_0x4f91fb,'ownerId':_0x255557,'trackKinds':_0x1f3664,'params':_0x4cf97a,'remoteId':_0x2fa91a});}}[_0x37ac7d(0x5df)](_0x2ea243){const _0x10c5be=_0x37ac7d;this[_0x10c5be(0x979)][_0x10c5be(0x3ef)][_0x10c5be(0x97a)]((_0x1c61f1,_0xda3320)=>{const _0x52df5c=_0x10c5be;if(_0xda3320[_0x52df5c(0x9af)](_0x2ea243)){if(_0x1c61f1[_0x52df5c(0x2b9)][_0x52df5c(0x151)]()===_0x441722['ContentType'][_0x52df5c(0x8f5)]){const _0x3ce460=_0x1c61f1[_0x52df5c(0x2b9)];if(_0x3ce460[_0x52df5c(0x28b)]()[_0x52df5c(0x146)]>0x0){const _0x1d87de={'type':_0x4df43c['MediaStreamUnavailable'],'label':_0x3ce460[_0x52df5c(0x854)](),'ownerId':_0x3ce460[_0x52df5c(0x45a)](),'trackKinds':_0x3ce460[_0x52df5c(0x28b)]()};return void this[_0x52df5c(0x7df)](_0x2ea243,_0x1d87de);}}this[_0x52df5c(0x318)](_0x1c61f1,_0xda3320);}});}[_0x37ac7d(0x91a)](){const _0x3e8fca=_0x37ac7d;this[_0x3e8fca(0x979)][_0x3e8fca(0x3ef)][_0x3e8fca(0x97a)](this['closeSubscription']['bind'](this));}[_0x37ac7d(0x9b2)](_0x5f1e49,_0x575ba7,_0x1d3414,_0x48fd9f,_0x224bc2){const _0x3aa19b=_0x37ac7d,_0x42be90=this[_0x3aa19b(0x8de)][_0x3aa19b(0x1e2)][_0x3aa19b(0x3aa)](_0x5f1e49['nodeId']),_0x2efdf5=this[_0x3aa19b(0x8de)][_0x3aa19b(0x1e2)]['getRemoteMediaStream'](_0x575ba7,_0x1d3414);this['clearSubscriptionRequestTimeout'](_0x48fd9f),this['subscriptionRequests'][_0x3aa19b(0x158)](_0x48fd9f)&&(this[_0x3aa19b(0x8de)][_0x3aa19b(0x1e2)][_0x3aa19b(0x2de)](this[_0x3aa19b(0x9a5)]['get'](_0x48fd9f)),this['subscriptionRequests'][_0x3aa19b(0x6fd)](_0x48fd9f)),this['cleanOldSubscription'](_0x5f1e49,_0x575ba7,_0x1d3414,_0x2efdf5),_0x2efdf5[_0x3aa19b(0x290)](_0x5f1e49[_0x3aa19b(0x393)]),_0x2efdf5['setProviderId'](_0x5f1e49[_0x3aa19b(0x8bb)]);const _0x590f46=_0x3df0b7(_0x2efdf5,_0x42be90),_0xe6fbe4=_0x1b0bd8(_0x3d7361[_0x3aa19b(0x743)],_0x590f46);this[_0x3aa19b(0x979)][_0x3aa19b(0x3ef)]['has'](_0xe6fbe4)||this[_0x3aa19b(0x40e)](_0x42be90,_0x2efdf5);const _0x56b2e7=this['maps']['subscriptions'][_0x3aa19b(0x7e9)](_0xe6fbe4);if(!(_0x56b2e7&&_0x56b2e7 instanceof _0x3e3db1))throw new _0x4a800a(_0x4a800a['codes'][_0x3aa19b(0x1ed)],{'label':_0x48fd9f,'ownerId':_0x575ba7});_0x52aedf[_0x3aa19b(0x5c7)]('subscription',{'clusterId':this[_0x3aa19b(0x8de)][_0x3aa19b(0x6b0)],'nodeId':this[_0x3aa19b(0x8de)][_0x3aa19b(0x116)][_0x3aa19b(0x336)](),'nodeType':this[_0x3aa19b(0x8de)]['localNode'][_0x3aa19b(0x623)],'data':{'subscriptionLabel':_0xe6fbe4,'chosenAnswer':_0x5f1e49}}),this[_0x3aa19b(0x7ec)]['set'](_0xe6fbe4,_0x5f1e49),_0x56b2e7[_0x3aa19b(0x9b2)](_0x575ba7,_0x224bc2,_0x5f1e49[_0x3aa19b(0x7bb)]);}[_0x37ac7d(0x9cb)]({ownerId:_0x243296,label:_0x4ed8f4}){const _0x1cf63a=_0x37ac7d,_0x767e92=this['configs']['mediator'][_0x1cf63a(0x8eb)](_0x243296,_0x4ed8f4),[_0x387317,_0x3c528c]=Array[_0x1cf63a(0x267)](this[_0x1cf63a(0x979)][_0x1cf63a(0x3ef)][_0x1cf63a(0x196)]())['find'](([_0x18960b,_0x12ac4e])=>-0x1!==_0x18960b[_0x1cf63a(0x695)](_0x767e92[_0x1cf63a(0x729)]()));return this['closeSubscription'](_0x3c528c,_0x387317);}[_0x37ac7d(0x318)](_0x154b6d,_0x1dac6c){const _0x4e9901=_0x37ac7d;this[_0x4e9901(0x8de)][_0x4e9901(0x1e2)][_0x4e9901(0x2de)](_0x154b6d),this[_0x4e9901(0x979)][_0x4e9901(0x318)](_0x154b6d,_0x1dac6c);}['isMediaSource'](_0x235e70){const _0x25d207=_0x37ac7d;return _0x235e70[_0x25d207(0x970)]()[_0x25d207(0x444)](_0x441722[_0x25d207(0x4bf)][_0x25d207(0x8f5)]);}[_0x37ac7d(0x999)](_0x292406){const _0x1a416f=_0x37ac7d;return _0x292406[_0x1a416f(0x151)]()===_0x441722[_0x1a416f(0x4bf)][_0x1a416f(0x8f5)];}async[_0x37ac7d(0x43a)](_0x17a9b3,_0x5492d0,_0x1df805,_0x3abf1a){const _0x5e9078=_0x37ac7d;await _0x29b976[_0x5e9078(0x760)](0x3e8);const _0x1e9f1c=_0x1b0bd8(_0x3d7361[_0x5e9078(0x743)],{'contentType':_0x441722['ContentType']['Media'],'label':_0x17a9b3,'remoteId':_0x5492d0});this[_0x5e9078(0x139)](_0x1e9f1c);const _0x2c3c86=this[_0x5e9078(0x9a5)][_0x5e9078(0x7e9)](_0x1e9f1c);if(!_0x2c3c86)throw new _0x4a800a(_0x4a800a['codes'][_0x5e9078(0x1ed)],{'label':_0x1e9f1c,'ownerId':_0x5492d0});const _0x9e997c=this[_0x5e9078(0x8de)]['mediator']['getConnections'](_0x10f5f8=>_0x10f5f8[_0x5e9078(0x39e)]()),_0x7c9bcd=this[_0x5e9078(0x8de)][_0x5e9078(0x1e2)][_0x5e9078(0x420)](this[_0x5e9078(0x8de)][_0x5e9078(0x116)][_0x5e9078(0x336)](),_0x5492d0);_0x2c3c86[_0x5e9078(0x44e)](_0x9e997c['map'](_0x1a0dfc=>_0x1a0dfc['getRemoteId']()),_0x7c9bcd);try{_0x2c3c86[_0x5e9078(0x965)](this[_0x5e9078(0x8de)][_0x5e9078(0x116)][_0x5e9078(0x336)](),_0x5492d0,_0x17a9b3,_0x1df805,_0x3abf1a),this[_0x5e9078(0x4de)](_0x17a9b3,_0x5492d0,_0x1df805,_0x3abf1a,_0x1e9f1c,_0x2c3c86);}catch(_0x36b29f){this[_0x5e9078(0x2e3)]['push']({'label':_0x17a9b3,'ownerId':_0x5492d0,'trackKinds':_0x1df805,'params':_0x3abf1a});}}[_0x37ac7d(0x1d7)](_0xf455bf,_0x30cc59,_0x3fce39,_0x140177){const _0x1a99a6=_0x37ac7d;this['subscriptionRequestsQueue'][_0x1a99a6(0x7b5)]({'label':_0xf455bf,'ownerId':_0x30cc59,'trackKinds':_0x3fce39,'params':_0x140177});}[_0x37ac7d(0x2ab)]({label:_0x5b9c5c,ownerId:_0x14a665,trackKinds:_0xeaa14d,params:_0xc19afa,remoteId:_0x579594}){const _0x5b9d67=_0x37ac7d;if(!this[_0x5b9d67(0x8de)][_0x5b9d67(0x1e2)][_0x5b9d67(0x8eb)](_0x14a665,_0x5b9c5c))return;if(!this[_0x5b9d67(0x8de)][_0x5b9d67(0x1e2)]['getLocalNode']()[_0x5b9d67(0x734)]())throw new Error(_0x5b9d67(0x7ba));if(_0x579594){const _0x41b347=this[_0x5b9d67(0x8de)][_0x5b9d67(0x1e2)][_0x5b9d67(0x70f)]()[_0x5b9d67(0x419)](_0x15dd84=>_0x15dd84[_0x5b9d67(0x336)]()===_0x579594),_0x56f9c4=_0x41b347?.['getRank']();if(!_0x41b347||!_0x56f9c4)throw new Error(_0x5b9d67(0x51b));const _0x4f5029=this[_0x5b9d67(0x8de)][_0x5b9d67(0x1e2)][_0x5b9d67(0x70f)]()[_0x5b9d67(0x419)](_0x368dd2=>_0x368dd2[_0x5b9d67(0x336)]()===_0x14a665),_0x16c4cf=_0x4f5029?.[_0x5b9d67(0x734)]();if(!_0x4f5029||!_0x16c4cf)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x4199f1=this[_0x5b9d67(0x7ec)][_0x5b9d67(0x7e9)](_0x5b9c5c);if(_0x4199f1){const _0x4ddd25=this[_0x5b9d67(0x8de)]['mediator'][_0x5b9d67(0x70f)]()['find'](_0x5bd2f6=>_0x5bd2f6[_0x5b9d67(0x336)]()===_0x4199f1[_0x5b9d67(0x8bb)]),_0xe8bbc0=_0x4ddd25?.[_0x5b9d67(0x734)]();if(!_0x4ddd25||!_0xe8bbc0)throw new Error(_0x5b9d67(0x8ed));if(Math[_0x5b9d67(0x3db)](_0xe8bbc0-_0x16c4cf)<Math[_0x5b9d67(0x3db)](_0x56f9c4-_0x16c4cf))return;}}const _0x1bae32=this[_0x5b9d67(0x8de)]['mediator'][_0x5b9d67(0x87f)](_0x17cc1f=>_0x17cc1f[_0x5b9d67(0x39e)]()&&(!_0x579594||_0x17cc1f['getRemoteId']()===_0x579594));if(!_0x1bae32['length']||0x0===_0x1bae32[_0x5b9d67(0x146)])throw new Error(_0x5b9d67(0x143));const _0x44f030=this['configs']['mediator']['getDistance'](this['configs'][_0x5b9d67(0x116)][_0x5b9d67(0x336)](),_0x14a665),_0x1d2d3c=_0x1b0bd8(_0x3d7361[_0x5b9d67(0x743)],{'contentType':_0x441722[_0x5b9d67(0x4bf)][_0x5b9d67(0x8f5)],'label':_0x5b9c5c,'remoteId':_0x14a665});if(this[_0x5b9d67(0x9a5)]['has'](_0x1d2d3c)){if(_0x579594)throw new Error(_0x5b9d67(0x977));const _0x52b0c2=this[_0x5b9d67(0x9a5)][_0x5b9d67(0x7e9)](_0x1d2d3c)[_0x5b9d67(0x175)]();if(_0x52b0c2[_0x5b9d67(0x146)]===_0xeaa14d[_0x5b9d67(0x146)]&&_0x52b0c2['every'](_0x21a21e=>_0xeaa14d[_0x5b9d67(0x444)](_0x21a21e)))return;this[_0x5b9d67(0x8de)][_0x5b9d67(0x1e2)]['unregisterSystemSource'](this[_0x5b9d67(0x9a5)][_0x5b9d67(0x7e9)](_0x1d2d3c)),this[_0x5b9d67(0x9a5)][_0x5b9d67(0x6fd)](_0x1d2d3c),_0xeaa14d=Array[_0x5b9d67(0x267)](new Set(_0xeaa14d['concat'](_0x52b0c2))),this['clearSubscriptionRequestTimeout'](_0x1d2d3c);}const _0x3a140b=new _0x4d18e5(_0x1bae32[_0x5b9d67(0x8f1)](_0x1a51d8=>_0x1a51d8[_0x5b9d67(0xc9)]()),_0x44f030,this['maxDistance'],_0xeaa14d);this[_0x5b9d67(0x8de)][_0x5b9d67(0x1e2)][_0x5b9d67(0x6f9)](_0x3a140b),this['subscriptionRequests'][_0x5b9d67(0x773)](_0x1d2d3c,_0x3a140b),_0x3a140b[_0x5b9d67(0x965)](this[_0x5b9d67(0x8de)][_0x5b9d67(0x116)][_0x5b9d67(0x336)](),_0x14a665,_0x5b9c5c,_0xeaa14d,_0xc19afa),this[_0x5b9d67(0x4de)](_0x5b9c5c,_0x14a665,_0xeaa14d,_0xc19afa,_0x1d2d3c,_0x3a140b);}[_0x37ac7d(0x139)](_0x446d98){const _0x262f63=_0x37ac7d;this['subscriptionRequestTimeouts']['has'](_0x446d98)&&(clearTimeout(this[_0x262f63(0x800)]['get'](_0x446d98)),this['subscriptionRequestTimeouts'][_0x262f63(0x6fd)](_0x446d98));}[_0x37ac7d(0x4de)](_0x101d3e,_0x5638df,_0x38796d,_0xbbb1dd,_0x54d4e9,_0x1fa395){const _0xf7d8ca=_0x37ac7d;this[_0xf7d8ca(0x139)](_0x54d4e9),this[_0xf7d8ca(0x800)][_0xf7d8ca(0x773)](_0x54d4e9,setTimeout(()=>{const _0x161894=_0xf7d8ca;this[_0x161894(0x800)][_0x161894(0x6fd)](_0x54d4e9);try{const _0x1dec17=_0x1fa395[_0x161894(0x194)]();this['subscribe'](_0x1dec17,_0x5638df,_0x101d3e,_0x54d4e9,_0x38796d);}catch(_0x6ded1e){this[_0x161894(0x43a)](_0x101d3e,_0x5638df,_0x38796d,_0xbbb1dd);}},0x7d0));}['findNewMediaSubscription'](_0x327e4d,_0x110183,_0x270093,_0x387945,_0x3b1ec5){const _0x2b2ef3=_0x37ac7d,{subscriptionLabel:_0x37bab9}=this[_0x2b2ef3(0x227)](_0x110183,_0x387945),_0x34252a=this[_0x2b2ef3(0x112)](_0x37bab9),_0x1a0e20=_0x34252a?.['params'];_0x34252a&&(_0x34252a[_0x2b2ef3(0x887)](_0x387945,0x0),this[_0x2b2ef3(0x6c5)](_0x270093,_0x441722[_0x2b2ef3(0x4bf)][_0x2b2ef3(0x8f5)],_0x327e4d)),this[_0x2b2ef3(0x1d7)](_0x110183,_0x387945,_0x3b1ec5,_0x1a0e20);}[_0x37ac7d(0x112)](_0x300b2c){const _0x47ec87=_0x37ac7d,_0x6f39a=this[_0x47ec87(0x979)][_0x47ec87(0x3ef)][_0x47ec87(0x7e9)](_0x300b2c);if(_0x6f39a){if(!(_0x6f39a instanceof _0x3e3db1))throw new _0x4a800a(_0x4a800a[_0x47ec87(0x7ef)][_0x47ec87(0x1fa)],{'label':_0x300b2c,'subscription':_0x6f39a});return _0x6f39a;}}[_0x37ac7d(0x227)](_0x4a72fd,_0x5dbe3c){const _0x3c8cff=_0x37ac7d,_0x3f1cd0=this[_0x3c8cff(0x6d1)](_0x4a72fd,_0x5dbe3c);return{'parts':_0x3f1cd0,'subscriptionLabel':_0x1b0bd8(_0x3d7361[_0x3c8cff(0x743)],_0x3f1cd0)};}['getPartsForSubscriptionLabel'](_0x33e040,_0x42a372){const _0x533e36=_0x37ac7d,_0x44b0b0=this[_0x533e36(0x8de)][_0x533e36(0x1e2)][_0x533e36(0x8eb)](_0x42a372,_0x33e040),_0x5eb338=_0x44b0b0[_0x533e36(0x1a2)]();if(!_0x5eb338)throw new _0x4a800a(_0x4a800a[_0x533e36(0x7ef)]['RemoteMediaStreamMissingProviderId'],{'label':_0x33e040,'streamId':_0x44b0b0[_0x533e36(0x729)](),'ownerId':_0x42a372,'localId':this[_0x533e36(0x8de)][_0x533e36(0x116)][_0x533e36(0x336)]()});return{'contentType':_0x441722[_0x533e36(0x4bf)][_0x533e36(0x8f5)],'label':_0x44b0b0[_0x533e36(0x729)](),'remoteId':_0x5eb338};}['cleanOldSubscription'](_0x129a32,_0x38595c,_0x36be90,_0x363c7d){const _0x47c4df=_0x37ac7d,_0x9e522f=_0x363c7d[_0x47c4df(0x1a2)]();if(_0x9e522f&&_0x9e522f!==_0x129a32['nodeId']){const {parts:_0xa50890,subscriptionLabel:_0x173a20}=this[_0x47c4df(0x227)](_0x36be90,_0x38595c),_0x2c0d1e=this[_0x47c4df(0x112)](_0x173a20);_0x2c0d1e&&(_0x2c0d1e[_0x47c4df(0x887)](_0x38595c,0x0),this[_0x47c4df(0x6c5)](_0xa50890[_0x47c4df(0x7ee)],_0xa50890['contentType'],_0xa50890['remoteId']));}}}class _0x354e48{[_0x37ac7d(0x8de)];[_0x37ac7d(0x7f5)];['maps'];constructor(_0xbb60e3,_0x31e4ad){const _0x15b18a=_0x37ac7d;this[_0x15b18a(0x8de)]=_0xbb60e3,this[_0x15b18a(0x7f5)]=_0x31e4ad,this[_0x15b18a(0x979)]=new _0xc466f7(({source:_0x4eaa49,destination:_0x35e849})=>_0x3df0b7(_0x4eaa49,_0x35e849));}[_0x37ac7d(0x40e)](_0x571dd9,_0x14955d){const _0x64de6b=_0x37ac7d,_0x4b2803={'source':_0x571dd9,'destination':_0x14955d};this[_0x64de6b(0x979)]['createSubscription'](_0x3d7361[_0x64de6b(0x822)],_0x4b2803);}[_0x37ac7d(0x6c5)](_0x2be7f5,_0x596ec8,_0x27bb0e=''){const _0x592907=_0x37ac7d,_0x5d3fc8={'contentType':_0x596ec8,'label':_0x2be7f5,'remoteId':_0x27bb0e};this[_0x592907(0x979)]['removeSubscription'](_0x5d3fc8,_0x3d7361[_0x592907(0x822)]);}[_0x37ac7d(0x1f5)](_0x2a456a,_0x3994ae){const _0x3ea80b=_0x37ac7d;let _0x165363;_0x165363=_0x3994ae[_0x3ea80b(0x580)]!==this['configs'][_0x3ea80b(0x116)][_0x3ea80b(0x336)]()?this['configs'][_0x3ea80b(0x1e2)][_0x3ea80b(0x8eb)](_0x3994ae[_0x3ea80b(0x580)],_0x3994ae['label']):this[_0x3ea80b(0x8de)][_0x3ea80b(0x1e2)][_0x3ea80b(0x23b)](_0x3994ae[_0x3ea80b(0x7ee)]);const _0x535346=_0x1b0bd8(_0x3d7361['Outgoing'],{'contentType':_0x441722['ContentType'][_0x3ea80b(0x8f5)],'label':_0x165363[_0x3ea80b(0x6bb)](),'remoteId':_0x2a456a}),_0x45e733=this[_0x3ea80b(0x451)]();if(!this[_0x3ea80b(0x979)][_0x3ea80b(0x3ef)]['has'](_0x535346)&&_0x45e733>=this['maxOutgoingSubscriptions'])return{'type':_0x4df43c[_0x3ea80b(0x9a8)],'ownerId':_0x3994ae['ownerId'],'label':_0x3994ae[_0x3ea80b(0x7ee)],'streamId':_0x165363[_0x3ea80b(0x6bb)](),'trackKinds':_0x3994ae[_0x3ea80b(0x7cb)],'params':_0x3994ae['params']};_0x165363 instanceof _0x2c5a7f&&!_0x165363[_0x3ea80b(0x4f2)](_0x3994ae[_0x3ea80b(0x7cb)])&&_0x165363['subscribe'](_0x3994ae['params']),this['maps']['subscriptions']['has'](_0x535346)||this[_0x3ea80b(0x40e)](_0x165363[_0x3ea80b(0x225)](_0x2a456a),this[_0x3ea80b(0x8de)][_0x3ea80b(0x1e2)][_0x3ea80b(0x3aa)](_0x2a456a));}[_0x37ac7d(0x518)](_0x328827,{label:_0x5a9071,ownerId:_0x51991e,remainingTracks:_0x2361f7}){const _0x1b785c=_0x37ac7d;if(_0x2361f7>0x0)return;let _0x2010ff;_0x2010ff=_0x51991e!==this['configs'][_0x1b785c(0x116)][_0x1b785c(0x336)]()?this[_0x1b785c(0x8de)]['mediator'][_0x1b785c(0x8eb)](_0x51991e,_0x5a9071):this['configs'][_0x1b785c(0x1e2)]['getLocalMediaStream'](_0x5a9071);const _0x2cef41=_0x2010ff[_0x1b785c(0x6bb)](),_0x40630c=_0x441722[_0x1b785c(0x4bf)]['Media'];this['removeSubscription'](_0x2cef41,_0x40630c,_0x328827);}[_0x37ac7d(0x567)](_0x2639f3,{label:_0x7cd3f5,ownerId:_0x4d5ba9,trackKinds:_0x1ac53c}){const _0x5e1e69=_0x37ac7d;if(_0x2639f3!==_0x19393c)return[];let _0x45448a=[];for(const _0x3e97d0 of this[_0x5e1e69(0x979)][_0x5e1e69(0x3ef)]){const {source:_0x1877f0,destination:_0x4be721}=_0x3e97d0[0x1];_0x1877f0[_0x5e1e69(0x854)]()===_0x7cd3f5&&_0x1877f0[_0x5e1e69(0x45a)]()===_0x4d5ba9&&_0x45448a[_0x5e1e69(0x7b5)]({'sourceId':this[_0x5e1e69(0x8de)]['localNode'][_0x5e1e69(0x336)](),'destinationIds':[_0x4be721[_0x5e1e69(0xc9)]()],'messageType':_0x403b04[_0x5e1e69(0x559)],'content':{'type':_0x4df43c[_0x5e1e69(0x4cf)],'label':_0x7cd3f5,'ownerId':_0x4d5ba9,'trackKinds':_0x1ac53c}});}return _0x45448a;}[_0x37ac7d(0x9c6)](_0x332191,_0x1951da){const _0x535959=_0x37ac7d,{label:_0x3c2b2c,ownerId:_0x3a453a,trackKinds:_0x495d58,params:_0x11b59d}=_0x1951da,{hasTracks:_0xa86416,streamId:_0x5929d2,hasResolution:_0x139e81,distance:_0x3a3afc,subscriptionLabel:_0x24b218}=this['getSubscriptionInfo'](_0x332191,_0x1951da);let _0x5e4c6e=this[_0x535959(0x451)]()<this['maxOutgoingSubscriptions']&&(_0xa86416||_0x3a3afc>-0x1)?_0x4df43c[_0x535959(0x7ed)]:_0x4df43c[_0x535959(0x12b)];const _0x5cc793=_0x3a3afc<0x0?0xa:_0x3a3afc;let _0x3faa24=_0xa86416?_0x139e81?_0x5cc793:_0x5cc793+0x0:_0x5cc793+0xa;return _0x24b218&&this['maps']['subscriptions']['has'](_0x24b218)&&(_0xa86416&&(_0x3faa24=0x0),_0x5e4c6e=_0x4df43c[_0x535959(0x7ed)]),{'type':_0x5e4c6e,'cost':_0x3faa24,'distance':_0x3a3afc,'label':_0x3c2b2c,'ownerId':_0x3a453a,'streamId':_0x5929d2,'trackKinds':_0x495d58,'params':_0x11b59d};}[_0x37ac7d(0x29b)](_0x37c416){const _0x20316c=_0x37ac7d,{label:_0x268811,ownerId:_0x239daa}=_0x37c416,_0x29bbc5=this[_0x20316c(0x8de)][_0x20316c(0x1e2)][_0x20316c(0x8eb)](_0x239daa,_0x268811);this[_0x20316c(0x979)][_0x20316c(0x3ef)][_0x20316c(0x97a)](_0x49687d=>{const _0x365144=_0x20316c;if(_0x49687d[_0x365144(0x9c5)][_0x365144(0x729)]()===_0x29bbc5[_0x365144(0x6bb)]()){const _0x216ae4=_0x49687d[_0x365144(0x2b9)];this[_0x365144(0x6c5)](_0x29bbc5[_0x365144(0x6bb)](),_0x441722[_0x365144(0x4bf)]['Media'],_0x216ae4[_0x365144(0xc9)]());}});}['handleContentCloseMediaStream']({label:_0x4b4066}){const _0x80d508=_0x37ac7d,_0x48476e=this['configs'][_0x80d508(0x1e2)][_0x80d508(0x23b)](_0x4b4066);this[_0x80d508(0x979)][_0x80d508(0x3ef)][_0x80d508(0x97a)](_0x260991=>{const _0x478741=_0x80d508;if(_0x260991['source'][_0x478741(0x729)]()===_0x48476e[_0x478741(0x6bb)]()){const _0x284b23=_0x260991[_0x478741(0x2b9)];this[_0x478741(0x6c5)](_0x48476e[_0x478741(0x6bb)](),_0x441722['ContentType'][_0x478741(0x8f5)],_0x284b23['getRemoteId']());}});}[_0x37ac7d(0x5df)](_0x10508c){const _0x2ca11b=_0x37ac7d;this['maps'][_0x2ca11b(0x5df)](_0x10508c);}[_0x37ac7d(0x91a)](){const _0x2ad431=_0x37ac7d;this['maps'][_0x2ad431(0x3ef)][_0x2ad431(0x97a)](this[_0x2ad431(0x318)]['bind'](this));}[_0x37ac7d(0x318)](_0x34d87f,_0x109126){const _0x24a07b=_0x37ac7d;this[_0x24a07b(0x979)]['closeSubscription'](_0x34d87f,_0x109126);}[_0x37ac7d(0x83e)](_0x2169b7,{label:_0x15f2c5,ownerId:_0x214fe8,trackKinds:_0x376fd4,params:_0x7645b3}){const _0x2fa667=_0x37ac7d;if(_0x214fe8!==this['configs'][_0x2fa667(0x116)][_0x2fa667(0x336)]()){const _0x5ddb1c=this[_0x2fa667(0x8de)][_0x2fa667(0x1e2)][_0x2fa667(0x8eb)](_0x214fe8,_0x15f2c5);return _0x5ddb1c&&_0x5ddb1c['getProviderId']()!==_0x2169b7?{'hasTracks':_0x5ddb1c[_0x2fa667(0x869)](_0x376fd4),'hasResolution':this[_0x2fa667(0x33f)](_0x5ddb1c[_0x2fa667(0x229)](),_0x7645b3),'streamId':_0x5ddb1c[_0x2fa667(0x6bb)](),'distance':this['configs']['mediator']['getDistance'](_0x2169b7,_0x214fe8),'subscriptionLabel':_0x1b0bd8(_0x3d7361[_0x2fa667(0x822)],{'contentType':_0x441722['ContentType'][_0x2fa667(0x8f5)],'label':_0x5ddb1c[_0x2fa667(0x6bb)](),'remoteId':_0x2169b7})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x59632d=this[_0x2fa667(0x8de)][_0x2fa667(0x1e2)]['getLocalMediaStream'](_0x15f2c5);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x59632d['getShareableStreamId'](),'distance':0x0,'subscriptionLabel':_0x1b0bd8(_0x3d7361[_0x2fa667(0x822)],{'contentType':_0x441722[_0x2fa667(0x4bf)][_0x2fa667(0x8f5)],'label':_0x59632d[_0x2fa667(0x6bb)](),'remoteId':_0x2169b7})};}['getNumberOutgoingSubscriptions'](){const _0x5e1053=_0x37ac7d;return Array['from'](this[_0x5e1053(0x979)][_0x5e1053(0x3ef)][_0x5e1053(0x196)]())[_0x5e1053(0x5e3)](([_0x32af40,{source:_0x260df5}])=>_0x32af40[_0x5e1053(0x475)](_0x3d7361['Outgoing'])&&_0x260df5[_0x5e1053(0x151)]()===_0x441722[_0x5e1053(0x4bf)][_0x5e1053(0x8f5)])['length'];}[_0x37ac7d(0x33f)](_0x147e5b,_0x272832){const _0x4f710c=_0x37ac7d;if(!_0x272832||!_0x272832['video']||'boolean'==typeof _0x272832[_0x4f710c(0x260)]||!_0x272832[_0x4f710c(0x260)][_0x4f710c(0x885)])return!0x0;const {width:_0x529d96,height:_0x39d0be}=_0x272832[_0x4f710c(0x260)][_0x4f710c(0x885)];return _0x147e5b['width']>=_0x529d96&&_0x147e5b['height']>=_0x39d0be;}}class _0x3c20eb{['configs'];['maxOutgoingSubscriptions'];[_0x37ac7d(0x6b8)];[_0x37ac7d(0x1b1)];['incomingManager'];[_0x37ac7d(0x73e)];constructor(_0x56e093,_0x161858,_0xb2a93){const _0x2d7f50=_0x37ac7d;this[_0x2d7f50(0x8de)]=_0x56e093,this[_0x2d7f50(0x7f5)]=_0x161858,this[_0x2d7f50(0x6b8)]=_0xb2a93,this['configs'][_0x2d7f50(0x1e2)][_0x2d7f50(0x6f9)](this),this['incomingManager']=new _0x4f364b(this['configs'],this[_0x2d7f50(0x6b8)]),this[_0x2d7f50(0x73e)]=new _0x354e48(this[_0x2d7f50(0x8de)],this['maxOutgoingSubscriptions']);}[_0x37ac7d(0x1b9)](_0x2a2106){const _0x378def=_0x37ac7d;this[_0x378def(0x1b1)]=_0x2a2106;}[_0x37ac7d(0x84a)](){const _0x5c44fe=_0x37ac7d;delete this[_0x5c44fe(0x1b1)];}['close'](){const _0x3763ea=_0x37ac7d;this['incomingManager']['close'](),this[_0x3763ea(0x73e)]['close'](),this['configs'][_0x3763ea(0x1e2)]['unregisterSystemSource'](this);}[_0x37ac7d(0x3ec)](_0x34536f,_0x199f00){const _0x5d424f=_0x37ac7d;this[_0x5d424f(0x11c)][_0x5d424f(0x40e)](_0x34536f,_0x199f00);}['createOutgoingSubscription'](_0x5054ba,_0x32f14b){const _0x4f0551=_0x37ac7d;this[_0x4f0551(0x73e)][_0x4f0551(0x40e)](_0x5054ba,_0x32f14b);}[_0x37ac7d(0x309)](_0x44274e,_0x511f05,_0x58169b=''){const _0x543831=_0x37ac7d;this[_0x543831(0x11c)]['removeSubscription'](_0x44274e,_0x511f05,_0x58169b);}['removeOutgoingSubscription'](_0x51af1b,_0x489ade,_0x59cad4=''){const _0x58c3f4=_0x37ac7d;try{this[_0x58c3f4(0x73e)][_0x58c3f4(0x6c5)](_0x51af1b,_0x489ade,_0x59cad4);}catch(_0x3a1c90){if(_0x3a1c90 instanceof _0x4a800a&&_0x3a1c90[_0x58c3f4(0x417)]===_0x4a800a[_0x58c3f4(0x7ef)][_0x58c3f4(0x1fa)])return;}}['handleSubscriptionSystemEvents'](_0x23ccf2){const _0x3d610a=_0x37ac7d;switch(_0x23ccf2['content'][_0x3d610a(0x623)]){case _0x4df43c[_0x3d610a(0x5b3)]:this[_0x3d610a(0x1f5)](_0x23ccf2['sourceId'],_0x23ccf2[_0x3d610a(0x8c5)]);break;case _0x4df43c[_0x3d610a(0x6b4)]:this[_0x3d610a(0x73e)][_0x3d610a(0x518)](_0x23ccf2[_0x3d610a(0x2ea)],_0x23ccf2[_0x3d610a(0x8c5)]);break;case _0x4df43c['NeedMediaStream']:this['handleSubscriptionNeedMediaStream'](_0x23ccf2[_0x3d610a(0x2ea)],_0x23ccf2[_0x3d610a(0x8c5)]);break;case _0x4df43c[_0x3d610a(0x9a8)]:this[_0x3d610a(0x11c)][_0x3d610a(0x6fb)](_0x23ccf2[_0x3d610a(0x2ea)],_0x23ccf2[_0x3d610a(0x8c5)]);break;case _0x4df43c[_0x3d610a(0x7ed)]:case _0x4df43c[_0x3d610a(0x12b)]:this[_0x3d610a(0x11c)][_0x3d610a(0x39b)](_0x23ccf2['sourceId'],_0x23ccf2[_0x3d610a(0x8c5)]);break;case _0x4df43c[_0x3d610a(0x4cf)]:this[_0x3d610a(0x11c)]['handleSubscriptionMediaStreamUnavailable'](_0x23ccf2[_0x3d610a(0x2ea)],_0x23ccf2[_0x3d610a(0x8c5)]);}}[_0x37ac7d(0x347)](_0x26370b){const _0x205768=_0x37ac7d;switch(_0x26370b['content'][_0x205768(0x623)]){case _0x3b90a2['UnpublishMediaStream']:this[_0x205768(0x11c)][_0x205768(0x29b)](_0x26370b[_0x205768(0x8c5)]),this[_0x205768(0x73e)][_0x205768(0x29b)](_0x26370b['content']);break;case _0x3b90a2['SubscribeMediaStream']:this[_0x205768(0x11c)][_0x205768(0x4fc)](_0x26370b[_0x205768(0x8c5)]);break;case _0x3b90a2['UpdateMediaStream']:this['incomingManager'][_0x205768(0x5ef)](_0x26370b['content']);break;case _0x3b90a2[_0x205768(0x6b4)]:this[_0x205768(0x567)](_0x26370b['sourceId'],_0x26370b[_0x205768(0x8c5)]);break;case _0x3b90a2[_0x205768(0x13e)]:this[_0x205768(0x73e)]['handleContentCloseMediaStream'](_0x26370b[_0x205768(0x8c5)]);break;case _0x3b90a2['ClosePubSubTopic']:this[_0x205768(0x71b)](_0x26370b['content'][_0x205768(0x7ee)],_0x441722[_0x205768(0x4bf)][_0x205768(0x698)]);break;case _0x3b90a2[_0x205768(0x378)]:this[_0x205768(0x71b)](_0x26370b[_0x205768(0x8c5)]['label'],_0x441722[_0x205768(0x4bf)]['ObjectStore']);break;case _0x3b90a2[_0x205768(0x8a6)]:this[_0x205768(0x71b)](_0x26370b[_0x205768(0x8c5)][_0x205768(0x7ee)],_0x441722[_0x205768(0x4bf)][_0x205768(0x664)]);break;case _0x3b90a2['CloseKeyValueDatabase']:this[_0x205768(0x71b)](_0x26370b[_0x205768(0x8c5)][_0x205768(0x7ee)],_0x441722[_0x205768(0x4bf)][_0x205768(0x2df)]);break;case _0x3b90a2[_0x205768(0x4fa)]:this['handleCloseContent'](_0x26370b[_0x205768(0x8c5)][_0x205768(0x7ee)],_0x441722[_0x205768(0x4bf)]['VectorDatabase']);break;case _0x3b90a2[_0x205768(0x1ee)]:this['handleCloseContent'](_0x26370b[_0x205768(0x8c5)][_0x205768(0x7ee)],_0x441722[_0x205768(0x4bf)][_0x205768(0x67c)]);break;case _0x3b90a2['CloseJobDispatcher']:case _0x3b90a2['CloseJobWorker']:this[_0x205768(0x71b)](_0x26370b[_0x205768(0x8c5)][_0x205768(0x7ee)],_0x441722[_0x205768(0x4bf)]['Job']);break;case _0x3b90a2[_0x205768(0x75c)]:this['incomingManager'][_0x205768(0x2ca)](_0x26370b[_0x205768(0x8c5)]);}}['handleNodeSystemEvents']({content:_0x46a66c}){const _0x23d967=_0x37ac7d;_0x46a66c[_0x23d967(0x623)]===_0x12a052[_0x23d967(0x819)]&&this[_0x23d967(0x5df)](_0x46a66c);}[_0x37ac7d(0x51c)](_0x5c7b1e){const _0x568f4a=_0x37ac7d;_0x5c7b1e[_0x568f4a(0x8c5)]['type']===_0x4ef545[_0x568f4a(0x58e)]&&this['incomingManager'][_0x568f4a(0x2c4)](_0x5c7b1e['sourceId']);}[_0x37ac7d(0x567)](_0x4c7b5e,_0x8baf5a){const _0x159054=_0x37ac7d;this[_0x159054(0x11c)][_0x159054(0x567)](_0x8baf5a),this[_0x159054(0x73e)][_0x159054(0x567)](_0x4c7b5e,_0x8baf5a)['forEach'](_0x2719fd=>this[_0x159054(0x1b1)][_0x159054(0x10d)](_0x2719fd));}[_0x37ac7d(0x1f5)](_0x55807a,_0x487f18){const _0x5265d7=_0x37ac7d,_0x119b72=this[_0x5265d7(0x73e)]['handleSubscriptionSubscribeMediaStream'](_0x55807a,_0x487f18);if(_0x119b72&&(this['systemTopic'][_0x5265d7(0x10d)]({'sourceId':this[_0x5265d7(0x8de)][_0x5265d7(0x116)]['getId'](),'destinationIds':[_0x55807a],'messageType':_0x403b04[_0x5265d7(0x559)],'content':_0x119b72}),_0x119b72[_0x5265d7(0x623)]===_0x4df43c[_0x5265d7(0x9a8)]))throw new _0x335dcf(_0x5265d7(0x316));}[_0x37ac7d(0x9c6)](_0x20e427,_0x4f8cd5){const _0x4ceebf=_0x37ac7d,_0x437bf3=this[_0x4ceebf(0x73e)][_0x4ceebf(0x9c6)](_0x20e427,_0x4f8cd5);this[_0x4ceebf(0x1b1)][_0x4ceebf(0x10d)]({'sourceId':this[_0x4ceebf(0x8de)]['localNode'][_0x4ceebf(0x336)](),'destinationIds':[_0x20e427],'messageType':_0x403b04[_0x4ceebf(0x559)],'content':_0x437bf3});}[_0x37ac7d(0x71b)](_0x4135ca,_0xa92143){const _0x1c59c5=_0x37ac7d;this[_0x1c59c5(0x309)](_0x4135ca,_0xa92143),this[_0x1c59c5(0x1ca)](_0x4135ca,_0xa92143);}['removeSubscriptionsForNode']({id:_0xcf429a}){const _0x42656d=_0x37ac7d;this[_0x42656d(0x11c)][_0x42656d(0x5df)](_0xcf429a),this[_0x42656d(0x73e)][_0x42656d(0x5df)](_0xcf429a);}}class _0x446bfd{['label'];[_0x37ac7d(0x8fa)]=_0x376fa8();constructor(){const _0x38eb0a=_0x37ac7d;this[_0x38eb0a(0x7ee)]=0x0;}[_0x37ac7d(0x854)](){const _0x3b08a9=_0x37ac7d;return this[_0x3b08a9(0x7ee)];}['getContentType'](){const _0x45b183=_0x37ac7d;return _0x441722[_0x45b183(0x4bf)][_0x45b183(0x5e0)];}[_0x37ac7d(0x956)](_0x36f728){const _0x4a4cfc=_0x37ac7d;_0x36f728[_0x4a4cfc(0x1b9)](this);}['unregisterSource'](_0xc237c6){const _0x2b79c7=_0x37ac7d;_0xc237c6[_0x2b79c7(0x84a)]();}[_0x37ac7d(0x10d)](_0x26eb22){const _0xbb97c2=_0x37ac7d;_0x52aedf[_0xbb97c2(0x857)](_0xdea279[_0xbb97c2(0x836)],'SystemTopic\x20publish',_0x26eb22[_0xbb97c2(0x2ea)],_0x26eb22),this[_0xbb97c2(0x8fa)]['publish']({'topicLabel':this[_0xbb97c2(0x7ee)],'contentType':_0x441722[_0xbb97c2(0x4bf)][_0xbb97c2(0x5e0)],'uuid':_0x26eb22[_0xbb97c2(0x13b)]??(0x0,_0x3e20b1['v4'])(),'recipients':_0x26eb22[_0xbb97c2(0x414)]??[],..._0x26eb22});}[_0x37ac7d(0x9b2)](_0x3ab7ac){const _0x43f0a3=_0x37ac7d;return this['listener'][_0x43f0a3(0x9b2)](_0x3ab7ac);}}class _0x549ab2{[_0x37ac7d(0x14b)];[_0x37ac7d(0x4e2)]=[];[_0x37ac7d(0x766)];[_0x37ac7d(0x3d4)]=new Map();[_0x37ac7d(0x77e)]=_0x376fa8();constructor(_0x2fae5e){const _0xece547=_0x37ac7d;this['options']=_0x2fae5e,this[_0xece547(0x766)]=(this['options'][_0xece547(0x860)]-0x2*this[_0xece547(0x14b)][_0xece547(0x525)])/0x2,this[_0xece547(0x4e2)][_0xece547(0x7b5)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x567ed0=0x0;_0x567ed0<this[_0xece547(0x766)];++_0x567ed0)this[_0xece547(0x4e2)][_0xece547(0x7b5)]({'start':this[_0xece547(0x257)](0x1,_0x567ed0+0x1),'end':this[_0xece547(0x257)](0x1,_0x567ed0+0x2)-0x1});}[_0x37ac7d(0x257)](_0x1a73ab,_0x17c5b9=0x1){const _0x50e006=_0x37ac7d;let _0x19cea4=this['options'][_0x50e006(0x6b8)]-this[_0x50e006(0x14b)][_0x50e006(0x525)],_0x45c5cb=0x1;for(let _0x358974=0x1;_0x358974<_0x17c5b9;++_0x358974)_0x19cea4*=this[_0x50e006(0x14b)]['maxDistance']-this[_0x50e006(0x14b)][_0x50e006(0x525)]-_0x358974,_0x45c5cb*=this[_0x50e006(0x14b)][_0x50e006(0x6b8)]-this[_0x50e006(0x14b)][_0x50e006(0x525)]-_0x358974+0x1;return _0x19cea4*this[_0x50e006(0x14b)][_0x50e006(0x525)]+_0x1a73ab-_0x45c5cb;}[_0x37ac7d(0x4d7)](_0x4365c5){const _0x4fe618=_0x37ac7d;let _0x54ae24=0x0;for(;this[_0x4fe618(0x4e2)][_0x54ae24][_0x4fe618(0x22f)]<_0x4365c5;)_0x54ae24+=0x1;return _0x54ae24;}[_0x37ac7d(0x1e4)](){const _0x312ffa=_0x37ac7d;return this[_0x312ffa(0x14b)][_0x312ffa(0x525)];}[_0x37ac7d(0xdd)](){const _0xbde045=_0x37ac7d;return this['options'][_0xbde045(0x860)];}[_0x37ac7d(0x666)](){const _0x5694fe=_0x37ac7d;return this[_0x5694fe(0x14b)][_0x5694fe(0x6b8)];}['getRemoteNodes'](){const _0x31daae=_0x37ac7d;return this[_0x31daae(0x3d4)];}[_0x37ac7d(0x305)](_0x2e1001,_0xca793d){const _0x22d67c=_0x37ac7d;this[_0x22d67c(0x3d4)]['set'](_0x2e1001,_0xca793d),this[_0x22d67c(0x77e)][_0x22d67c(0x10d)]();}[_0x37ac7d(0x81d)](_0x1cfec0){const _0x41b6f5=_0x37ac7d;this[_0x41b6f5(0x3d4)][_0x41b6f5(0x6fd)](_0x1cfec0),this[_0x41b6f5(0x77e)][_0x41b6f5(0x10d)]();}[_0x37ac7d(0x4c6)](_0xc23e87){const _0x2d6d40=_0x37ac7d;return this[_0x2d6d40(0x3d4)][_0x2d6d40(0x158)](_0xc23e87);}['getRemoteNode'](_0x36cf9a){const _0x2cdc8b=_0x37ac7d;return this[_0x2cdc8b(0x3d4)]['get'](_0x36cf9a);}[_0x37ac7d(0x16c)](_0x1e75ac,_0x573adb){const _0x54960e=_0x37ac7d,_0x5c0451=this[_0x54960e(0x892)](_0x573adb)?.['getRank']()??0x0;return _0x1e75ac[_0x54960e(0x8f1)](_0x270db0=>this['getRemoteNode'](_0x270db0))[_0x54960e(0x5e3)](_0x1218f8=>void 0x0!==_0x1218f8)[_0x54960e(0x6a8)]((_0x5f592c,_0x40868f)=>Math[_0x54960e(0x3db)](_0x5c0451-(_0x5f592c&&_0x5f592c[_0x54960e(0x734)]()||0x1/0x0))-Math[_0x54960e(0x3db)](_0x5c0451-(_0x40868f&&_0x40868f[_0x54960e(0x734)]()||0x1/0x0)))[_0x54960e(0x8f1)](_0x45764b=>_0x45764b['getId']());}['onNodeUpdate'](_0x136f6d){const _0x43b6ff=_0x37ac7d;return this[_0x43b6ff(0x77e)]['subscribe'](_0x136f6d);}}class _0x41aceb{[_0x37ac7d(0x7f1)];[_0x37ac7d(0x6b0)];[_0x37ac7d(0x25f)];['authService'];[_0x37ac7d(0x14b)];[_0x37ac7d(0x8de)];[_0x37ac7d(0x795)];[_0x37ac7d(0x7f4)];['connectionManager'];[_0x37ac7d(0x61e)];[_0x37ac7d(0x9b8)];[_0x37ac7d(0x35a)];[_0x37ac7d(0x10e)];['nodeManager'];[_0x37ac7d(0x6b3)];[_0x37ac7d(0x1b1)]=new _0x446bfd();['systemTopicUnsubscribe'];[_0x37ac7d(0x116)];constructor(_0xeb434d,_0x5bd48d,_0x19f765,_0x1c9538,_0x2bdba8,_0x1979f5,_0x7f98c6){const _0x220105=_0x37ac7d;switch(this[_0x220105(0x7f1)]=_0xeb434d,this[_0x220105(0x6b0)]=_0x5bd48d,this[_0x220105(0x25f)]=_0x19f765,this[_0x220105(0x31b)]=_0x1c9538,this['options']=_0x2bdba8,this[_0x220105(0x8de)]=_0x1979f5,this['clusterEventEmitter']=_0x7f98c6,_0x19f765[_0x220105(0x623)]){case _0x441722[_0x220105(0x15a)][_0x220105(0x94d)]:this[_0x220105(0x116)]=new _0x45949b(_0x19f765['getId'](),_0x19f765[_0x220105(0x80d)](),_0x19f765[_0x220105(0x685)]());break;case _0x441722[_0x220105(0x15a)][_0x220105(0x22d)]:default:this[_0x220105(0x116)]=new _0x4d1576(_0x19f765['getId']());}const _0x193f44=this['getConfigs']();this['graphService']=new _0x549ab2(this[_0x220105(0x14b)]),this[_0x220105(0x7f4)]=new _0x2ca02f(_0x193f44,this[_0x220105(0x14b)],this['configs'][_0x220105(0x4aa)]),this[_0x220105(0x7f9)]=new _0x274a28(_0x193f44,this[_0x220105(0x31b)],this[_0x220105(0x6b3)],this[_0x220105(0x8de)][_0x220105(0x25d)],this['options']),this[_0x220105(0x61e)]=new _0x3c20eb(_0x193f44,this['options'][_0x220105(0x7f5)],this[_0x220105(0x6b3)][_0x220105(0x666)]()),this[_0x220105(0x9b8)]=new _0x1a00d1(_0x193f44),this[_0x220105(0x35a)]=new _0x479cbf(_0x193f44),this['remediationManager']=new _0xbece55(_0x193f44),this[_0x220105(0x379)]=new _0x47fff7(_0x193f44,this[_0x220105(0x6b3)]),this[_0x220105(0x26e)]=this[_0x220105(0x862)]();}[_0x37ac7d(0x211)](){const _0x4b9026=_0x37ac7d,_0x3b414f=this['getConfigs']();this[_0x4b9026(0x7f9)]=new _0x274a28(_0x3b414f,this[_0x4b9026(0x31b)],this[_0x4b9026(0x6b3)],this[_0x4b9026(0x8de)][_0x4b9026(0x25d)],this[_0x4b9026(0x14b)]),this[_0x4b9026(0x61e)]=new _0x3c20eb(_0x3b414f,this[_0x4b9026(0x14b)][_0x4b9026(0x7f5)],this[_0x4b9026(0x6b3)][_0x4b9026(0x666)]()),this[_0x4b9026(0x9b8)]=new _0x1a00d1(_0x3b414f),this[_0x4b9026(0x35a)]=new _0x479cbf(_0x3b414f),this[_0x4b9026(0x10e)]=new _0xbece55(_0x3b414f),this[_0x4b9026(0x379)]=new _0x47fff7(_0x3b414f,this[_0x4b9026(0x6b3)]);const _0x4093e5=this[_0x4b9026(0x7f9)][_0x4b9026(0x779)]();this['contentManager']['getPubSubTopics']()['forEach'](_0xab2aaa=>{const _0x327e2b=_0x4b9026;this[_0x327e2b(0x61e)][_0x327e2b(0x312)](_0xab2aaa,_0x4093e5),this[_0x327e2b(0x61e)][_0x327e2b(0x3ec)](_0x4093e5,_0xab2aaa),_0xab2aaa[_0x327e2b(0x44e)]();}),this[_0x4b9026(0x7f4)]['getObjectStoreBuckets']()['forEach'](_0x3b4b1a=>{const _0x31208c=_0x4b9026;this[_0x31208c(0x61e)]['createOutgoingSubscription'](_0x3b4b1a,_0x4093e5),this[_0x31208c(0x61e)]['createIncomingSubscription'](_0x4093e5,_0x3b4b1a),_0x3b4b1a[_0x31208c(0x44e)](),_0x3b4b1a[_0x31208c(0x83c)]();}),this[_0x4b9026(0x7f4)]['getKeyValueDatabases']()[_0x4b9026(0x97a)](_0x4f0795=>{const _0x176d25=_0x4b9026;this[_0x176d25(0x61e)][_0x176d25(0x312)](_0x4f0795,_0x4093e5),this['subscriptionManager'][_0x176d25(0x3ec)](_0x4093e5,_0x4f0795),_0x4f0795[_0x176d25(0x44e)](),this[_0x176d25(0x576)](_0x4f0795);}),this[_0x4b9026(0x7f4)][_0x4b9026(0x18b)]()[_0x4b9026(0x97a)](_0x1d19aa=>{const _0x39c73c=_0x4b9026;this[_0x39c73c(0x61e)][_0x39c73c(0x312)](_0x1d19aa,_0x4093e5),this['subscriptionManager']['createIncomingSubscription'](_0x4093e5,_0x1d19aa),_0x1d19aa[_0x39c73c(0x44e)]();}),this[_0x4b9026(0x7f4)][_0x4b9026(0x448)]()[_0x4b9026(0x97a)](_0x3d6517=>{const _0x1d5f8a=_0x4b9026;this[_0x1d5f8a(0x61e)][_0x1d5f8a(0x312)](_0x3d6517,_0x4093e5),this[_0x1d5f8a(0x61e)]['createIncomingSubscription'](_0x4093e5,_0x3d6517),_0x3d6517[_0x1d5f8a(0x44e)]();}),this['contentManager'][_0x4b9026(0x17b)]()['forEach'](_0x586c3d=>{const _0x31d4b5=_0x4b9026;this['subscriptionManager'][_0x31d4b5(0x312)](_0x586c3d,_0x4093e5),this[_0x31d4b5(0x61e)][_0x31d4b5(0x3ec)](_0x4093e5,_0x586c3d),_0x586c3d[_0x31d4b5(0x44e)]();}),this[_0x4b9026(0x7f4)][_0x4b9026(0x927)]()[_0x4b9026(0x97a)](_0xedb392=>{const _0x2baa50=_0x4b9026;this[_0x2baa50(0x61e)]['createOutgoingSubscription'](_0xedb392,_0x4093e5),this[_0x2baa50(0x61e)][_0x2baa50(0x3ec)](_0x4093e5,_0xedb392),_0xedb392[_0x2baa50(0x44e)]();}),this[_0x4b9026(0x26e)]=this[_0x4b9026(0x862)]();}[_0x37ac7d(0x6f9)](_0x2d742f){const _0x530095=_0x37ac7d;try{this[_0x530095(0x1b1)][_0x530095(0x956)](_0x2d742f);}catch(_0x12979c){this[_0x530095(0x8cd)](_0x12979c,{});}}[_0x37ac7d(0x2de)](_0x5deddd){const _0x16f1d2=_0x37ac7d;try{this[_0x16f1d2(0x1b1)][_0x16f1d2(0x43c)](_0x5deddd);}catch(_0x2b349a){this[_0x16f1d2(0x8cd)](_0x2b349a,{});}}[_0x37ac7d(0x4ba)](_0x5b6f1e,_0x5b8949){const _0x2a5594=_0x37ac7d;return this[_0x2a5594(0x7f9)]['createConnection'](_0x5b6f1e,_0x5b8949);}[_0x37ac7d(0x3aa)](_0x3e389a){const _0x2a1a39=_0x37ac7d;try{return this[_0x2a1a39(0x7f9)][_0x2a1a39(0x3aa)](_0x3e389a);}catch(_0x43630d){throw this[_0x2a1a39(0x8cd)](_0x43630d,{});}}[_0x37ac7d(0x87f)](_0x3e12fc){const _0x3d14fc=_0x37ac7d;try{return this[_0x3d14fc(0x7f9)][_0x3d14fc(0x87f)](_0x3e12fc);}catch(_0x5c7ee9){throw this['handleError'](_0x5c7ee9,{});}}[_0x37ac7d(0x8eb)](_0x47a582,_0xc91dfe){const _0x4d99c4=_0x37ac7d;try{return this[_0x4d99c4(0x7f4)][_0x4d99c4(0x4ef)](_0x3b8d98=>_0x3b8d98[_0x4d99c4(0x45a)]()===_0x47a582&&_0x3b8d98['getLabel']()===_0xc91dfe)[0x0];}catch(_0x1a2bb3){throw this[_0x4d99c4(0x8cd)](_0x1a2bb3,{});}}[_0x37ac7d(0x23b)](_0x3854bc){const _0x3b860e=_0x37ac7d;try{return this[_0x3b860e(0x7f4)]['getLocalMediaStreams'](_0x3431be=>_0x3431be[_0x3b860e(0x854)]()===_0x3854bc)[0x0];}catch(_0x11a108){throw this[_0x3b860e(0x8cd)](_0x11a108,{});}}[_0x37ac7d(0x183)]=(..._0x98c563)=>{const _0x4de765=_0x37ac7d;try{return this['clusterEventEmitter'][_0x4de765(0x812)](..._0x98c563);}catch(_0x37a18a){throw this[_0x4de765(0x8cd)](_0x37a18a,{});}};[_0x37ac7d(0x7a4)](_0x190568){const _0x488e22=_0x37ac7d;try{this[_0x488e22(0x9b8)][_0x488e22(0xd4)](_0x190568);}catch(_0x1553f8){throw this[_0x488e22(0x8cd)](_0x1553f8,{});}}[_0x37ac7d(0x2ae)](_0x474b01){const _0x117aa7=_0x37ac7d;try{this[_0x117aa7(0x9b8)]['removeRemoteNode'](_0x474b01);}catch(_0x697d1a){throw this['handleError'](_0x697d1a,{});}}[_0x37ac7d(0x41c)](_0x9ab15d){const _0x110c35=_0x37ac7d;return this[_0x110c35(0x7f9)]['collectStats'](_0x9ab15d);}async[_0x37ac7d(0x95d)](){const _0x49daa8=_0x37ac7d;try{await this['connectionManager'][_0x49daa8(0x95d)]();const _0x193214=await this[_0x49daa8(0x379)]['discover']();for(const _0x3a11af of _0x193214)this[_0x49daa8(0x7f9)][_0x49daa8(0x4ba)](_0x3a11af);}catch(_0x753fa2){throw this['handleError'](_0x753fa2,{});}}[_0x37ac7d(0x7f7)](_0x59f1f6){const _0x2f59e8=_0x37ac7d;this[_0x2f59e8(0x116)][_0x2f59e8(0x623)]===_0x441722[_0x2f59e8(0x15a)][_0x2f59e8(0x94d)]&&(this[_0x2f59e8(0x116)][_0x2f59e8(0x871)](_0x59f1f6[_0x2f59e8(0x685)]()),this[_0x2f59e8(0x116)][_0x2f59e8(0x83b)](_0x59f1f6[_0x2f59e8(0x80d)]()));}[_0x37ac7d(0x91a)]({force:_0x492ca0=!0x1},_0x1be2db=!0x1){const _0x1a7bf0=_0x37ac7d;if(_0x52aedf[_0x1a7bf0(0x8b1)](_0x1a7bf0(0x652),{'clusterId':this[_0x1a7bf0(0x6b0)],'nodeId':this[_0x1a7bf0(0x116)][_0x1a7bf0(0x336)](),'nodeType':this[_0x1a7bf0(0x116)][_0x1a7bf0(0x623)]}),!_0x492ca0&&this[_0x1a7bf0(0x7f9)][_0x1a7bf0(0x371)]())throw new _0x3e3c93(_0x5b4e17['ConnectionBufferNotEmpty'],'Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection');_0x52aedf[_0x1a7bf0(0x4bb)](),this['systemTopicUnsubscribe'](),this[_0x1a7bf0(0x10e)][_0x1a7bf0(0x91a)](),this[_0x1a7bf0(0x35a)][_0x1a7bf0(0x91a)](),this[_0x1a7bf0(0x9b8)]['close'](),this[_0x1a7bf0(0x61e)][_0x1a7bf0(0x91a)](),this[_0x1a7bf0(0x7f9)][_0x1a7bf0(0x91a)](),this[_0x1a7bf0(0x7f4)]['close'](_0x1be2db),this['nodeManager']['close']();}[_0x37ac7d(0x723)](_0x54d47){const _0x3a978d=_0x37ac7d;try{const _0x364b88=this[_0x3a978d(0x7f4)][_0x3a978d(0x123)](_0x54d47),_0x4f3438=this[_0x3a978d(0x7f9)][_0x3a978d(0x779)]();return this[_0x3a978d(0x61e)][_0x3a978d(0x312)](_0x364b88,_0x4f3438),this['subscriptionManager'][_0x3a978d(0x3ec)](_0x4f3438,_0x364b88),_0x364b88;}catch(_0x363d56){throw this[_0x3a978d(0x8cd)](_0x363d56,{});}}async[_0x37ac7d(0x1de)](_0x3520ef,_0x421e42){const _0x2ab624=_0x37ac7d;try{const _0x13a888=this[_0x2ab624(0x7f4)][_0x2ab624(0x206)](_0x3520ef,this[_0x2ab624(0x14b)][_0x2ab624(0x34d)]),_0x3c64a7=this['connectionManager'][_0x2ab624(0x779)]();return this[_0x2ab624(0x61e)]['createOutgoingSubscription'](_0x13a888,_0x3c64a7),this['subscriptionManager'][_0x2ab624(0x3ec)](_0x3c64a7,_0x13a888),await _0x13a888[_0x2ab624(0x83c)](_0x421e42?.[_0x2ab624(0x810)]??!0x0),_0x13a888;}catch(_0x4f49d3){throw this['handleError'](_0x4f49d3,{});}}async[_0x37ac7d(0x4b0)](_0x25ed96,_0x1c381f){const _0xeed2b6=_0x37ac7d;try{if(!this[_0xeed2b6(0x14b)][_0xeed2b6(0x53f)])throw new _0x3e3c93(_0x5b4e17[_0xeed2b6(0x68f)],_0xeed2b6(0x53c));if(!(this[_0xeed2b6(0x25f)]instanceof _0x40fd9a))throw new _0x3e3c93(_0x5b4e17[_0xeed2b6(0x527)],_0xeed2b6(0x828));const _0x5095e2=this[_0xeed2b6(0x14b)][_0xeed2b6(0x53f)]['get'](_0x1c381f);if(!_0x5095e2)throw new _0x3e3c93(_0x5b4e17['ExternalStorageConnectorsMissing'],_0xeed2b6(0x53c));const _0xc40b0=this[_0xeed2b6(0x7f4)][_0xeed2b6(0x587)](_0x25ed96,_0x5095e2),_0x5268e0=this['connectionManager']['getConnectionGroup']();return this[_0xeed2b6(0x61e)][_0xeed2b6(0x312)](_0xc40b0,_0x5268e0),this['subscriptionManager'][_0xeed2b6(0x3ec)](_0x5268e0,_0xc40b0),await _0xc40b0[_0xeed2b6(0x211)](),_0xc40b0;}catch(_0x3f7ffe){throw this[_0xeed2b6(0x8cd)](_0x3f7ffe,{});}}async[_0x37ac7d(0x160)](_0x89724a,_0x60ac7c,_0x336ec1){const _0xb258a9=_0x37ac7d;try{_0x336ec1=_0x336ec1||this[_0xb258a9(0x14b)][_0xb258a9(0x605)];const _0x52d90f=await this[_0xb258a9(0x7f4)][_0xb258a9(0x608)](_0x89724a,_0x60ac7c,_0x336ec1),_0x57c9ec=this[_0xb258a9(0x7f9)][_0xb258a9(0x779)]();return this[_0xb258a9(0x61e)]['createOutgoingSubscription'](_0x52d90f,_0x57c9ec),this[_0xb258a9(0x61e)]['createIncomingSubscription'](_0x57c9ec,_0x52d90f),await _0x52d90f[_0xb258a9(0x211)](),this[_0xb258a9(0x576)](_0x52d90f),_0x52d90f;}catch(_0x29caf9){throw this['handleError'](_0x29caf9,{});}}async[_0x37ac7d(0x63e)](_0x31f51e){const _0x2dad9f=_0x37ac7d;try{const _0x564ad2=await this[_0x2dad9f(0x7f4)][_0x2dad9f(0x471)](_0x31f51e,this[_0x2dad9f(0x6b3)]),_0x3c6490=this[_0x2dad9f(0x7f9)][_0x2dad9f(0x779)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x564ad2,_0x3c6490),this[_0x2dad9f(0x61e)]['createIncomingSubscription'](_0x3c6490,_0x564ad2),_0x564ad2[_0x2dad9f(0x211)](),_0x564ad2;}catch(_0x293e3c){throw this[_0x2dad9f(0x8cd)](_0x293e3c,{});}}async[_0x37ac7d(0x903)](_0xc0f5d4){const _0x23aa44=_0x37ac7d;throw new Error(_0x23aa44(0x9ca));}async[_0x37ac7d(0x877)](_0x43b296){const _0x255974=_0x37ac7d;try{const _0x1d2a11=await this[_0x255974(0x7f4)][_0x255974(0x54a)](_0x43b296,this[_0x255974(0x6b3)]),_0x2dae83=this[_0x255974(0x7f9)][_0x255974(0x779)]();return this['subscriptionManager'][_0x255974(0x312)](_0x1d2a11,_0x2dae83),this[_0x255974(0x61e)][_0x255974(0x3ec)](_0x2dae83,_0x1d2a11),_0x1d2a11[_0x255974(0x211)](),_0x1d2a11;}catch(_0x2f1c77){throw console['error'](_0x2f1c77),this['handleError'](_0x2f1c77,{});}}async['openGenerativeAIWorker'](_0x107800){const _0x3822c0=_0x37ac7d;try{if(!this[_0x3822c0(0x14b)][_0x3822c0(0x87e)]||!this[_0x3822c0(0x14b)][_0x3822c0(0x9b5)]||!this[_0x3822c0(0x14b)][_0x3822c0(0x5fc)])throw new _0x3e3c93(_0x5b4e17[_0x3822c0(0x16f)],_0x3822c0(0x764));if(!(this[_0x3822c0(0x25f)]instanceof _0x40fd9a))throw new _0x3e3c93(_0x5b4e17[_0x3822c0(0x527)],_0x3822c0(0x828));const _0x161278=[];for(const _0x103ec2 of this[_0x3822c0(0x14b)][_0x3822c0(0x87e)])_0x161278[_0x3822c0(0x7b5)](new _0x103ec2());const _0x3d280a=new this[(_0x3822c0(0x14b))][(_0x3822c0(0x9b5))](),_0x116c5c=new this['options'][(_0x3822c0(0x5fc))]();let _0x5e9d47;this[_0x3822c0(0x14b)][_0x3822c0(0x52d)]&&(_0x5e9d47=new this[(_0x3822c0(0x14b))][(_0x3822c0(0x52d))]());const _0x24f8ea=await this[_0x3822c0(0x7f4)]['createGenerativeAIWorker'](_0x107800,this[_0x3822c0(0x25f)],_0x161278,_0x3d280a,_0x116c5c,_0x5e9d47),_0x4de4a7=this[_0x3822c0(0x7f9)][_0x3822c0(0x779)]();this[_0x3822c0(0x61e)][_0x3822c0(0x312)](_0x24f8ea,_0x4de4a7),this[_0x3822c0(0x61e)]['createIncomingSubscription'](_0x4de4a7,_0x24f8ea);const _0x4c04b4=this['nodeManager'][_0x3822c0(0x6f1)]();return _0x24f8ea[_0x3822c0(0x211)](0x0===_0x4c04b4[_0x3822c0(0x146)]||void 0x0),_0x24f8ea;}catch(_0x3bd595){throw this[_0x3822c0(0x8cd)](_0x3bd595,{});}}[_0x37ac7d(0x245)](_0x593523){const _0xc15fee=_0x37ac7d;try{if(!this['options'][_0xc15fee(0x5f7)])throw new _0x3e3c93(_0x5b4e17[_0xc15fee(0x554)],_0xc15fee(0x688));if(!(this['authNode']instanceof _0x40fd9a))throw new _0x3e3c93(_0x5b4e17[_0xc15fee(0x527)],_0xc15fee(0x828));const _0x1ebe3f=this[_0xc15fee(0x7f4)][_0xc15fee(0x8a2)](_0x593523,this[_0xc15fee(0x14b)][_0xc15fee(0x5f7)]),_0xda1dc6=this['connectionManager']['getConnectionGroup']();return this[_0xc15fee(0x61e)][_0xc15fee(0x312)](_0x1ebe3f,_0xda1dc6),this[_0xc15fee(0x61e)][_0xc15fee(0x3ec)](_0xda1dc6,_0x1ebe3f),_0x1ebe3f;}catch(_0x3ed5c2){throw this[_0xc15fee(0x8cd)](_0x3ed5c2,{});}}[_0x37ac7d(0x97e)](_0x113eab){const _0x38d25a=_0x37ac7d;try{if(!this[_0x38d25a(0x14b)][_0x38d25a(0xe0)])throw new _0x3e3c93(_0x5b4e17[_0x38d25a(0x841)],_0x38d25a(0x96e));if(!(this[_0x38d25a(0x25f)]instanceof _0x40fd9a))throw new _0x3e3c93(_0x5b4e17[_0x38d25a(0x527)],_0x38d25a(0x828));const _0x41f672=this[_0x38d25a(0x7f4)][_0x38d25a(0x2c8)](_0x113eab,this[_0x38d25a(0x14b)][_0x38d25a(0xe0)]),_0x159d7c=this['connectionManager'][_0x38d25a(0x779)]();return this[_0x38d25a(0x61e)][_0x38d25a(0x312)](_0x41f672,_0x159d7c),this[_0x38d25a(0x61e)]['createIncomingSubscription'](_0x159d7c,_0x41f672),_0x41f672;}catch(_0x12d301){throw this['handleError'](_0x12d301,{});}}[_0x37ac7d(0x3df)](_0x1bcc79){const _0x47805f=_0x37ac7d;try{return this[_0x47805f(0x7f4)][_0x47805f(0x3df)](_0x1bcc79);}catch(_0x531ee3){throw this[_0x47805f(0x8cd)](_0x531ee3,{});}}['getObjectStoreBuckets'](_0x5d718e){const _0x1e42bc=_0x37ac7d;try{return this[_0x1e42bc(0x7f4)][_0x1e42bc(0x91d)](_0x5d718e);}catch(_0x5e02fc){throw this[_0x1e42bc(0x8cd)](_0x5e02fc,{});}}[_0x37ac7d(0x1eb)](_0x464d93){const _0x1bfa28=_0x37ac7d;try{return this[_0x1bfa28(0x7f4)][_0x1bfa28(0x1eb)](_0x464d93);}catch(_0x258051){throw this[_0x1bfa28(0x8cd)](_0x258051,{});}}[_0x37ac7d(0x154)](_0x16fb70){const _0x5a589c=_0x37ac7d;try{return this[_0x5a589c(0x7f4)][_0x5a589c(0x154)](_0x16fb70);}catch(_0x238bbd){throw this[_0x5a589c(0x8cd)](_0x238bbd,{});}}[_0x37ac7d(0x7f8)](_0xcaa796){const _0xb2c52b=_0x37ac7d;try{return this[_0xb2c52b(0x7f4)][_0xb2c52b(0x7f8)](_0xcaa796);}catch(_0x1b66ae){throw this[_0xb2c52b(0x8cd)](_0x1b66ae,{});}}[_0x37ac7d(0x1af)](_0x2ff2f4){const _0x209205=_0x37ac7d;try{return this['contentManager'][_0x209205(0x1af)](_0x2ff2f4);}catch(_0x2121c8){throw this['handleError'](_0x2121c8,{});}}[_0x37ac7d(0x927)](_0x100a4b){const _0x1f341c=_0x37ac7d;try{return this[_0x1f341c(0x7f4)]['getGraphDatabases'](_0x100a4b);}catch(_0x8851de){throw this[_0x1f341c(0x8cd)](_0x8851de,{});}}[_0x37ac7d(0x929)](_0x5a4b0e,_0x168194){const _0x2b1d84=_0x37ac7d;if(!this['configs'][_0x2b1d84(0x894)][_0x2b1d84(0x444)](_0x3fa2fc[_0x2b1d84(0x4b1)]))throw new _0x3e3c93(_0x5b4e17[_0x2b1d84(0x6a1)],_0x2b1d84(0x368));try{return this[_0x2b1d84(0x7f4)][_0x2b1d84(0x929)](_0x5a4b0e,_0x168194);}catch(_0x128453){throw this['handleError'](_0x128453,{});}}[_0x37ac7d(0x349)](_0x4805b0,_0x56aae4){const _0x48ac4f=_0x37ac7d;if(!this[_0x48ac4f(0x8de)]['features'][_0x48ac4f(0x444)](_0x3fa2fc[_0x48ac4f(0x4b1)]))throw new _0x3e3c93(_0x5b4e17[_0x48ac4f(0x6a1)],_0x48ac4f(0x368));try{return this['contentManager'][_0x48ac4f(0x349)](_0x4805b0,_0x56aae4);}catch(_0x11d1d3){throw this[_0x48ac4f(0x8cd)](_0x11d1d3,{});}}['getLocalMediaStreams'](_0x52a0c9){const _0x32a813=_0x37ac7d;if(!this[_0x32a813(0x8de)][_0x32a813(0x894)][_0x32a813(0x444)](_0x3fa2fc[_0x32a813(0x4b1)]))throw new _0x3e3c93(_0x5b4e17[_0x32a813(0x6a1)],_0x32a813(0x368));try{return this[_0x32a813(0x7f4)][_0x32a813(0xd5)](_0x52a0c9);}catch(_0x2e9081){throw this[_0x32a813(0x8cd)](_0x2e9081,{});}}[_0x37ac7d(0x4ef)](_0x1034ba){const _0x4b019b=_0x37ac7d;if(!this[_0x4b019b(0x8de)][_0x4b019b(0x894)][_0x4b019b(0x444)](_0x3fa2fc[_0x4b019b(0x4b1)]))throw new _0x3e3c93(_0x5b4e17[_0x4b019b(0x6a1)],_0x4b019b(0x368));try{return this['contentManager']['getRemoteMediaStreams'](_0x1034ba);}catch(_0x4a1b9f){throw this[_0x4b019b(0x8cd)](_0x4a1b9f,{});}}[_0x37ac7d(0x17b)](_0x5f44d4){const _0x1ff8a8=_0x37ac7d;try{return this[_0x1ff8a8(0x7f4)][_0x1ff8a8(0x17b)](_0x5f44d4);}catch(_0x234e4d){throw this[_0x1ff8a8(0x8cd)](_0x234e4d,{});}}[_0x37ac7d(0x420)](_0x3059a7,_0x382ef0){const _0x356f80=_0x37ac7d;return this[_0x356f80(0x379)][_0x356f80(0x420)](_0x3059a7,_0x382ef0);}['getLocalNode'](){const _0x1ba4ad=_0x37ac7d;return this[_0x1ba4ad(0x379)]['getLocalNode']();}[_0x37ac7d(0x70f)](_0x18a709){const _0x1d8871=_0x37ac7d;try{return this[_0x1d8871(0x379)]['getRemoteNodes'](_0x18a709);}catch(_0x330bc4){throw this[_0x1d8871(0x8cd)](_0x330bc4,{});}}[_0x37ac7d(0x5ee)](){const _0x2f9eb4=_0x37ac7d;return this[_0x2f9eb4(0x7f9)][_0x2f9eb4(0x5ee)]();}[_0x37ac7d(0x6e3)](_0xba9f03){const _0x4c0f3c=_0x37ac7d;return this[_0x4c0f3c(0x379)][_0x4c0f3c(0x6e3)](_0xba9f03);}async[_0x37ac7d(0xd9)](_0x52f571){const _0x57eade=_0x37ac7d;try{if(_0x52aedf[_0x57eade(0x857)](_0xdea279[_0x57eade(0x836)],'Orchestrator\x20handleSystemEvents',this['nodeManager'][_0x57eade(0x505)](),_0x52f571),_0x2c65fe(_0x52f571,this[_0x57eade(0x379)][_0x57eade(0x505)]()))return void this[_0x57eade(0x7f9)]['handleOutgoingSystemEvents'](_0x52f571);switch(_0x52f571[_0x57eade(0x473)]){case _0x403b04[_0x57eade(0x3a0)]:this[_0x57eade(0x9b8)][_0x57eade(0x347)](_0x52f571),this[_0x57eade(0x61e)]['handleContentSystemEvents'](_0x52f571),this['contentManager'][_0x57eade(0x347)](_0x52f571);break;case _0x403b04['Node']:this[_0x57eade(0x61e)][_0x57eade(0x876)](_0x52f571),this[_0x57eade(0x7f9)][_0x57eade(0x876)](_0x52f571),this[_0x57eade(0x7f4)][_0x57eade(0x876)](_0x52f571),this['nodeManager'][_0x57eade(0x876)](_0x52f571);break;case _0x403b04[_0x57eade(0x2f9)]:this[_0x57eade(0x10e)][_0x57eade(0x8e7)](_0x52f571);break;case _0x403b04[_0x57eade(0x5cf)]:this[_0x57eade(0x10e)]['handleRemediationSystemEvents'](_0x52f571);break;case _0x403b04[_0x57eade(0x861)]:this[_0x57eade(0x35a)][_0x57eade(0x165)](_0x52f571);break;case _0x403b04[_0x57eade(0x559)]:_0x52f571[_0x57eade(0x8c5)][_0x57eade(0x623)]!==_0x4df43c['UnsubscribeMediaStream']?(this[_0x57eade(0x61e)][_0x57eade(0x8f7)](_0x52f571),this[_0x57eade(0x7f4)][_0x57eade(0x8f7)](_0x52f571)):(this[_0x57eade(0x7f4)][_0x57eade(0x8f7)](_0x52f571),this[_0x57eade(0x61e)][_0x57eade(0x8f7)](_0x52f571));break;case _0x403b04[_0x57eade(0x5c2)]:await this[_0x57eade(0x7f9)]['handlePeerConnectionSystemEvents'](_0x52f571),this[_0x57eade(0x9b8)][_0x57eade(0x51c)](_0x52f571),this[_0x57eade(0x379)][_0x57eade(0x51c)](_0x52f571),this[_0x57eade(0x61e)][_0x57eade(0x51c)](_0x52f571);}}catch(_0x4136e1){throw _0x52aedf['debug'](_0x57eade(0xd9),_0x4136e1),this['handleError'](_0x4136e1,{});}}[_0x37ac7d(0x8cd)](_0x5c4d10,_0x525cdd){const _0x29cca6=_0x37ac7d;if(!(_0x5c4d10 instanceof _0x335dcf)){if(_0x5c4d10 instanceof _0x3e3c93)throw _0x5c4d10;if(!(_0x5c4d10 instanceof Error))throw new _0x3e3c93(_0x5b4e17[_0x29cca6(0x3e1)],'Internal\x20unknown\x20error:\x20'+_0x5c4d10);if(!(_0x5c4d10 instanceof _0x4a800a))throw new _0x3e3c93(_0x5b4e17['InternalSDKError'],'Internal\x20error:\x20'+_0x5c4d10[_0x29cca6(0x599)]);switch(_0x5c4d10['code']){case _0x4a800a['codes'][_0x29cca6(0x8f0)]:case _0x4a800a['codes']['MissingRemoteConnection']:case _0x4a800a['codes'][_0x29cca6(0x511)]:case _0x4a800a[_0x29cca6(0x7ef)][_0x29cca6(0x9ad)]:case _0x4a800a[_0x29cca6(0x7ef)]['ConnectionNotConnected']:case _0x4a800a['codes'][_0x29cca6(0x4df)]:case _0x4a800a['codes'][_0x29cca6(0x354)]:case _0x4a800a[_0x29cca6(0x7ef)][_0x29cca6(0x814)]:case _0x4a800a[_0x29cca6(0x7ef)][_0x29cca6(0x1ed)]:case _0x4a800a['codes'][_0x29cca6(0x21a)]:case _0x4a800a[_0x29cca6(0x7ef)]['SubscriptionRequestNoAnswer']:case _0x4a800a[_0x29cca6(0x7ef)][_0x29cca6(0x1fa)]:}throw _0x52aedf[_0x29cca6(0x635)](_0x29cca6(0x661)+_0x5c4d10[_0x29cca6(0x599)],{'clusterId':this[_0x29cca6(0x6b0)],'nodeId':this['localNode'][_0x29cca6(0x336)](),'nodeType':this['localNode'][_0x29cca6(0x623)]},_0x5c4d10),new _0x3e3c93(_0x5b4e17[_0x29cca6(0x3e1)],'Internal\x20SDK\x20error:\x20'+_0x5c4d10['message']);}}[_0x37ac7d(0x516)](){const _0x489ad2=_0x37ac7d;return{'mediator':this,'vendorId':this[_0x489ad2(0x7f1)],'clusterId':this[_0x489ad2(0x6b0)],'localNode':this['localNode']};}[_0x37ac7d(0x862)](){const _0x2eaac0=_0x37ac7d;return this[_0x2eaac0(0x1b1)]['subscribe'](_0x232d24=>{const _0x33acd7=_0x2eaac0,_0xc010d4=_0xd792fc(_0x232d24,this[_0x33acd7(0x116)][_0x33acd7(0x336)]()),_0x1e7e97=_0x232d24[_0x33acd7(0x473)]===_0x403b04['Stats']||_0x232d24[_0x33acd7(0x473)]===_0x403b04[_0x33acd7(0x5c2)]&&_0x232d24[_0x33acd7(0x8c5)][_0x33acd7(0x623)]===_0x4ef545[_0x33acd7(0x861)]?_0xdea279[_0x33acd7(0x99d)]:_0xdea279[_0x33acd7(0x83f)];_0x52aedf[_0x33acd7(0x3ff)](_0x1e7e97,_0x232d24[_0x33acd7(0x13b)]+_0x33acd7(0x295)+_0xc010d4,_0x232d24),this['handleSystemEvents'](_0x232d24)[_0x33acd7(0x49e)](_0x4e37d6=>{console['error'](_0x4e37d6);});});}async[_0x37ac7d(0x576)](_0x3e7542){const _0x391abd=_0x37ac7d,{timingLogger:_0x297a41,logger:_0x40d06d,logBeforeSync:_0x28fa41,logAfterSync:_0x5b55be}=function(_0x32ea28,_0x46d751){const _0x2cecea=a0_0xbe57;if(!_0x52aedf[_0x2cecea(0x7b3)](_0x46d751))return _0x52aedf[_0x2cecea(0x484)](_0x2cecea(0x179)+_0x46d751),{..._0x4e5110(_0x32ea28,_0x46d751),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x4f4733,logger:_0x596463}=_0x4e5110(_0x32ea28,_0x46d751);let _0x43c86a=0x0;return _0x43c86a=Date['now'](),{'syncStartTime':_0x43c86a,'timingLogger':_0x4f4733,'logger':_0x596463,'logBeforeSync':()=>(_0x1f0744(_0x46d751,_0x2cecea(0x3a9)),_0x4f4733['now']()),'logAfterSync':(_0x53525c,_0x66c611)=>{const _0x2fbffd=_0x2cecea,_0x4c694d=Date['now']();_0x1f0744(_0x46d751,_0x2fbffd(0x2a5)+_0x66c611);const _0x15bd6b=(_0x4c694d-_0x43c86a)/0x3e8,_0x3a8a4d=(_0x4c694d-_0x53525c)/0x3e8;_0x52aedf[_0x2fbffd(0x857)](_0x46d751,_0x2fbffd(0x856),_0x32ea28,'\x0a\x20===\x20Total\x20Time:\x20'+_0x15bd6b[_0x2fbffd(0x38b)](0x2)+_0x2fbffd(0x8c8),'\x0a\x20===\x20Wait\x20Time:\x20'+_0x3a8a4d[_0x2fbffd(0x38b)](0x3)+_0x2fbffd(0x8c8),'\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x4c694d-_0x43c86a)/0x3e8-_0x3a8a4d)[_0x2fbffd(0x38b)](0x2)+'\x20seconds');}};}(_0x3e7542[_0x391abd(0x854)](),_0xdea279[_0x391abd(0x2df)]);_0x40d06d[_0x391abd(0x857)]('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process');const _0x218585=this['nodeManager']['getAncestorIds']()['length']>0x0;if(_0x218585){_0x40d06d[_0x391abd(0x857)]('SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors',()=>this[_0x391abd(0x379)][_0x391abd(0x6f1)]()),_0x297a41[_0x391abd(0x915)](),await Promise['all'](this[_0x391abd(0x379)][_0x391abd(0x6f1)]()[_0x391abd(0x8f1)](async _0x92133e=>await this[_0x391abd(0x379)][_0x391abd(0x6e3)](_0x92133e)))[_0x391abd(0x49e)](_0x350119=>_0x52aedf['warning'](_0x391abd(0x739),{'nodeId':this['localNode'][_0x391abd(0x336)](),'nodeType':this['localNode']['type']}));const _0x522cad=_0x40d06d[_0x391abd(0x5ca)](()=>this['nodeManager'][_0x391abd(0x6f1)](),[]);_0x297a41[_0x391abd(0x8c6)](_0x391abd(0x565)+_0x522cad+'\x20were\x20ready\x20in');}_0x5b55be(_0x28fa41(),await _0x3e7542['sync'](_0x218585,async()=>{const _0x38b3ff=_0x391abd;_0x297a41[_0x38b3ff(0x915)](),await this[_0x38b3ff(0x379)][_0x38b3ff(0x70a)](),_0x297a41[_0x38b3ff(0x8c6)](_0x38b3ff(0x13d)),_0x3e7542[_0x38b3ff(0x83c)](!0x0,()=>{const _0x2b13a7=_0x38b3ff;_0x40d06d[_0x2b13a7(0x857)](_0x2b13a7(0x68b)),_0x3e7542['sync'](!0x1);},!0x0);}));}}class _0xf85887{[_0x37ac7d(0x7f1)];[_0x37ac7d(0x6b0)];[_0x37ac7d(0x25f)];['eventEmitter'];[_0x37ac7d(0x105)];constructor(_0x3ac184,_0x579930,_0x47f063,_0x5bf758,_0x4a1b9a,_0x6453bf,_0x1ff639=new _0x42d356()){const _0x1a3480=_0x37ac7d;this[_0x1a3480(0x7f1)]=_0x3ac184,this[_0x1a3480(0x6b0)]=_0x579930,this[_0x1a3480(0x25f)]=_0x47f063,this[_0x1a3480(0x530)]=_0x1ff639,this[_0x1a3480(0x105)]=new _0x41aceb(this[_0x1a3480(0x7f1)],this['clusterId'],_0x47f063,_0x5bf758,_0x4a1b9a,_0x6453bf,this);}async['join'](){const _0x1ce92f=_0x37ac7d;await this[_0x1ce92f(0x105)][_0x1ce92f(0x95d)](),this[_0x1ce92f(0x25f)]['type']===_0x441722[_0x1ce92f(0x15a)][_0x1ce92f(0x94d)]&&this[_0x1ce92f(0x25f)][_0x1ce92f(0x357)](this[_0x1ce92f(0x6b0)],_0x4ab3cd=>{const _0x214099=_0x1ce92f;this[_0x214099(0x105)][_0x214099(0x7f7)](_0x4ab3cd);});}[_0x37ac7d(0x86d)](_0x35753c={}){const _0x442124=_0x37ac7d;this[_0x442124(0x105)][_0x442124(0x91a)](_0x35753c),this[_0x442124(0x25f)][_0x442124(0x623)]===_0x441722['NodeType'][_0x442124(0x94d)]&&this[_0x442124(0x25f)]['unregisterCluster'](this[_0x442124(0x6b0)]),this[_0x442124(0x812)]('cluster-leave',void 0x0);}[_0x37ac7d(0x723)](_0x28d963){const _0x2b5cb1=_0x37ac7d,_0x301064=this[_0x2b5cb1(0x105)][_0x2b5cb1(0x723)](_0x28d963);return{'getName':_0x301064['getName']['bind'](_0x301064),'getOwnerId':_0x301064[_0x2b5cb1(0x45a)][_0x2b5cb1(0x5d9)](_0x301064),'getContentType':_0x301064[_0x2b5cb1(0x151)][_0x2b5cb1(0x5d9)](_0x301064),'publish':_0x301064['publish']['bind'](_0x301064),'subscribe':_0x301064[_0x2b5cb1(0x9b2)][_0x2b5cb1(0x5d9)](_0x301064),'unsubscribe':_0x301064[_0x2b5cb1(0x887)][_0x2b5cb1(0x5d9)](_0x301064),'close':_0x301064[_0x2b5cb1(0x91a)]['bind'](_0x301064)};}async[_0x37ac7d(0x1de)](_0x652539,_0x9b5092){const _0x3cfbe3=_0x37ac7d,_0x4bdd05=await this['orchestrator'][_0x3cfbe3(0x1de)](_0x652539,_0x9b5092);return{'getName':_0x4bdd05[_0x3cfbe3(0x102)][_0x3cfbe3(0x5d9)](_0x4bdd05),'getOwnerId':_0x4bdd05[_0x3cfbe3(0x45a)][_0x3cfbe3(0x5d9)](_0x4bdd05),'getContentType':_0x4bdd05[_0x3cfbe3(0x151)][_0x3cfbe3(0x5d9)](_0x4bdd05),'publish':_0x4bdd05[_0x3cfbe3(0x10d)][_0x3cfbe3(0x5d9)](_0x4bdd05),'unpublish':_0x4bdd05[_0x3cfbe3(0x164)][_0x3cfbe3(0x5d9)](_0x4bdd05),'get':_0x4bdd05[_0x3cfbe3(0x7e9)][_0x3cfbe3(0x5d9)](_0x4bdd05),'list':_0x4bdd05[_0x3cfbe3(0x9b9)][_0x3cfbe3(0x5d9)](_0x4bdd05),'getSize':_0x4bdd05[_0x3cfbe3(0x3e9)][_0x3cfbe3(0x5d9)](_0x4bdd05),'subscribe':_0x4bdd05[_0x3cfbe3(0x9b2)][_0x3cfbe3(0x5d9)](_0x4bdd05),'unsubscribe':_0x4bdd05[_0x3cfbe3(0x887)][_0x3cfbe3(0x5d9)](_0x4bdd05),'close':_0x4bdd05['close']['bind'](_0x4bdd05)};}async['openExternalStorageConnection'](_0x21b0b9,_0x340e6f){const _0x1fb59d=_0x37ac7d,_0x3ca281=await this[_0x1fb59d(0x105)][_0x1fb59d(0x4b0)](_0x21b0b9,_0x340e6f);return{'getName':_0x3ca281[_0x1fb59d(0x102)]['bind'](_0x3ca281),'getOwnerId':_0x3ca281[_0x1fb59d(0x45a)][_0x1fb59d(0x5d9)](_0x3ca281),'getContentType':_0x3ca281[_0x1fb59d(0x151)][_0x1fb59d(0x5d9)](_0x3ca281),'close':_0x3ca281[_0x1fb59d(0x91a)][_0x1fb59d(0x5d9)](_0x3ca281),'get':_0x3ca281['get'][_0x1fb59d(0x5d9)](_0x3ca281),'list':_0x3ca281[_0x1fb59d(0x9b9)][_0x1fb59d(0x5d9)](_0x3ca281),'subscribe':_0x3ca281[_0x1fb59d(0x9b2)]['bind'](_0x3ca281),'unsubscribe':_0x3ca281[_0x1fb59d(0x887)][_0x1fb59d(0x5d9)](_0x3ca281)};}async[_0x37ac7d(0x160)](_0x1a0a61,_0xe28d3f,_0x473508){const _0x1b6728=_0x37ac7d,_0x34b9b7=await this[_0x1b6728(0x105)][_0x1b6728(0x160)](_0x1a0a61,_0xe28d3f,_0x473508);return{'getName':_0x34b9b7[_0x1b6728(0x102)][_0x1b6728(0x5d9)](_0x34b9b7),'getOwnerId':_0x34b9b7[_0x1b6728(0x45a)][_0x1b6728(0x5d9)](_0x34b9b7),'getContentType':_0x34b9b7[_0x1b6728(0x151)][_0x1b6728(0x5d9)](_0x34b9b7),'getTable':_0x34b9b7[_0x1b6728(0x568)][_0x1b6728(0x5d9)](_0x34b9b7),'subscribe':_0x34b9b7[_0x1b6728(0x9b2)][_0x1b6728(0x5d9)](_0x34b9b7),'unsubscribe':_0x34b9b7[_0x1b6728(0x887)][_0x1b6728(0x5d9)](_0x34b9b7),'close':_0x34b9b7[_0x1b6728(0x91a)][_0x1b6728(0x5d9)](_0x34b9b7)};}async[_0x37ac7d(0x63e)](_0xffce97){const _0x343990=_0x37ac7d,_0x5a7eeb=await this[_0x343990(0x105)][_0x343990(0x63e)](_0xffce97);return{'getName':_0x5a7eeb[_0x343990(0x102)][_0x343990(0x5d9)](_0x5a7eeb),'getOwnerId':_0x5a7eeb[_0x343990(0x45a)][_0x343990(0x5d9)](_0x5a7eeb),'getContentType':_0x5a7eeb[_0x343990(0x151)][_0x343990(0x5d9)](_0x5a7eeb),'createJob':_0x5a7eeb[_0x343990(0x319)][_0x343990(0x5d9)](_0x5a7eeb),'getJob':_0x5a7eeb['getJob'][_0x343990(0x5d9)](_0x5a7eeb),'getJobs':_0x5a7eeb['getJobs'][_0x343990(0x5d9)](_0x5a7eeb),'close':_0x5a7eeb[_0x343990(0x91a)][_0x343990(0x5d9)](_0x5a7eeb)};}async[_0x37ac7d(0x903)](_0x4576a3){const _0x29065b=_0x37ac7d,_0x353db9=await this[_0x29065b(0x105)][_0x29065b(0x903)](_0x4576a3);return{'close':_0x353db9[_0x29065b(0x91a)][_0x29065b(0x5d9)](_0x353db9)};}async[_0x37ac7d(0x877)](_0x480b7c){const _0x486da1=_0x37ac7d,_0x24ed37=await this[_0x486da1(0x105)][_0x486da1(0x877)](_0x480b7c);return{'createAIJob':_0x24ed37['createAIJob'][_0x486da1(0x5d9)](_0x24ed37),'ratePrompt':_0x24ed37[_0x486da1(0x5e6)][_0x486da1(0x5d9)](_0x24ed37),'downloadDocument':_0x24ed37[_0x486da1(0x113)][_0x486da1(0x5d9)](_0x24ed37),'getDataBucketIds':_0x24ed37[_0x486da1(0x5e7)][_0x486da1(0x5d9)](_0x24ed37),'close':_0x24ed37[_0x486da1(0x91a)][_0x486da1(0x5d9)](_0x24ed37)};}async[_0x37ac7d(0x459)](_0x20ae6b){const _0xd25f03=_0x37ac7d,_0x4e4ce7=await this[_0xd25f03(0x105)]['openGenerativeAIWorker'](_0x20ae6b);return{'close':_0x4e4ce7[_0xd25f03(0x91a)][_0xd25f03(0x5d9)](_0x4e4ce7)};}[_0x37ac7d(0x245)](_0x46ff14){const _0x5b2757=_0x37ac7d,_0x39f40c=this['orchestrator'][_0x5b2757(0x245)](_0x46ff14);return{'getName':_0x39f40c[_0x5b2757(0x102)][_0x5b2757(0x5d9)](_0x39f40c),'getOwnerId':_0x39f40c[_0x5b2757(0x45a)]['bind'](_0x39f40c),'getContentType':_0x39f40c[_0x5b2757(0x151)][_0x5b2757(0x5d9)](_0x39f40c),'addNode':_0x39f40c[_0x5b2757(0x396)][_0x5b2757(0x5d9)](_0x39f40c),'addEdge':_0x39f40c[_0x5b2757(0xe8)][_0x5b2757(0x5d9)](_0x39f40c),'getContent':_0x39f40c['getContent'][_0x5b2757(0x5d9)](_0x39f40c),'remove':_0x39f40c[_0x5b2757(0xce)]['bind'](_0x39f40c),'saveToDisk':_0x39f40c['saveToDisk'][_0x5b2757(0x5d9)](_0x39f40c),'loadFromDisk':_0x39f40c[_0x5b2757(0x29c)]['bind'](_0x39f40c),'close':_0x39f40c['close']['bind'](_0x39f40c)};}[_0x37ac7d(0x97e)](_0x1b8f01){const _0x347111=_0x37ac7d,_0x2e602c=this[_0x347111(0x105)][_0x347111(0x97e)](_0x1b8f01);return{'getName':_0x2e602c[_0x347111(0x102)][_0x347111(0x5d9)](_0x2e602c),'getOwnerId':_0x2e602c['getOwnerId'][_0x347111(0x5d9)](_0x2e602c),'getContentType':_0x2e602c[_0x347111(0x151)][_0x347111(0x5d9)](_0x2e602c),'search':_0x2e602c[_0x347111(0x628)][_0x347111(0x5d9)](_0x2e602c),'insert':_0x2e602c['insert'][_0x347111(0x5d9)](_0x2e602c),'remove':_0x2e602c[_0x347111(0xce)][_0x347111(0x5d9)](_0x2e602c),'saveToDisk':_0x2e602c[_0x347111(0x8cc)][_0x347111(0x5d9)](_0x2e602c),'loadFromDisk':_0x2e602c['loadFromDisk'][_0x347111(0x5d9)](_0x2e602c),'close':_0x2e602c[_0x347111(0x91a)][_0x347111(0x5d9)](_0x2e602c)};}[_0x37ac7d(0x3df)](_0x476a56){const _0x4668b6=_0x37ac7d;return this['orchestrator']['getPubSubTopics'](_0x476a56)[_0x4668b6(0x8f1)](_0x331b58=>({'getName':_0x331b58[_0x4668b6(0x102)][_0x4668b6(0x5d9)](_0x331b58),'getOwnerId':_0x331b58[_0x4668b6(0x45a)][_0x4668b6(0x5d9)](_0x331b58),'getContentType':_0x331b58[_0x4668b6(0x151)][_0x4668b6(0x5d9)](_0x331b58),'publish':_0x331b58['publish'][_0x4668b6(0x5d9)](_0x331b58),'subscribe':_0x331b58['subscribe'][_0x4668b6(0x5d9)](_0x331b58),'unsubscribe':_0x331b58['unsubscribe'][_0x4668b6(0x5d9)](_0x331b58),'close':_0x331b58[_0x4668b6(0x91a)][_0x4668b6(0x5d9)](_0x331b58)}));}[_0x37ac7d(0x91d)](_0x26b9ac){const _0x5bcca2=_0x37ac7d;return this['orchestrator'][_0x5bcca2(0x91d)](_0x26b9ac)[_0x5bcca2(0x8f1)](_0x2dfeec=>({'getName':_0x2dfeec[_0x5bcca2(0x102)][_0x5bcca2(0x5d9)](_0x2dfeec),'getOwnerId':_0x2dfeec[_0x5bcca2(0x45a)][_0x5bcca2(0x5d9)](_0x2dfeec),'getContentType':_0x2dfeec[_0x5bcca2(0x151)]['bind'](_0x2dfeec),'publish':_0x2dfeec[_0x5bcca2(0x10d)][_0x5bcca2(0x5d9)](_0x2dfeec),'unpublish':_0x2dfeec['unpublish']['bind'](_0x2dfeec),'get':_0x2dfeec[_0x5bcca2(0x7e9)]['bind'](_0x2dfeec),'list':_0x2dfeec[_0x5bcca2(0x9b9)][_0x5bcca2(0x5d9)](_0x2dfeec),'getSize':_0x2dfeec[_0x5bcca2(0x3e9)][_0x5bcca2(0x5d9)](_0x2dfeec),'subscribe':_0x2dfeec[_0x5bcca2(0x9b2)][_0x5bcca2(0x5d9)](_0x2dfeec),'unsubscribe':_0x2dfeec[_0x5bcca2(0x887)][_0x5bcca2(0x5d9)](_0x2dfeec),'close':_0x2dfeec['close']['bind'](_0x2dfeec)}));}[_0x37ac7d(0x1eb)](_0x35d536){const _0x146ce6=_0x37ac7d;return this[_0x146ce6(0x105)][_0x146ce6(0x1eb)](_0x35d536)[_0x146ce6(0x8f1)](_0x1f885d=>({'getName':_0x1f885d['getName']['bind'](_0x1f885d),'getOwnerId':_0x1f885d[_0x146ce6(0x45a)][_0x146ce6(0x5d9)](_0x1f885d),'getContentType':_0x1f885d[_0x146ce6(0x151)][_0x146ce6(0x5d9)](_0x1f885d),'close':_0x1f885d[_0x146ce6(0x91a)][_0x146ce6(0x5d9)](_0x1f885d),'get':_0x1f885d[_0x146ce6(0x7e9)][_0x146ce6(0x5d9)](_0x1f885d),'list':_0x1f885d[_0x146ce6(0x9b9)][_0x146ce6(0x5d9)](_0x1f885d),'subscribe':_0x1f885d['subscribe']['bind'](_0x1f885d),'unsubscribe':_0x1f885d[_0x146ce6(0x887)][_0x146ce6(0x5d9)](_0x1f885d)}));}[_0x37ac7d(0x154)](_0x153675){const _0x548bfc=_0x37ac7d;return this[_0x548bfc(0x105)][_0x548bfc(0x154)](_0x153675)[_0x548bfc(0x8f1)](_0x260ad8=>({'getName':_0x260ad8['getName'][_0x548bfc(0x5d9)](_0x260ad8),'getOwnerId':_0x260ad8['getOwnerId'][_0x548bfc(0x5d9)](_0x260ad8),'getContentType':_0x260ad8['getContentType']['bind'](_0x260ad8),'getTable':_0x260ad8[_0x548bfc(0x568)][_0x548bfc(0x5d9)](_0x260ad8),'subscribe':_0x260ad8[_0x548bfc(0x9b2)]['bind'](_0x260ad8),'unsubscribe':_0x260ad8[_0x548bfc(0x887)][_0x548bfc(0x5d9)](_0x260ad8),'close':_0x260ad8[_0x548bfc(0x91a)][_0x548bfc(0x5d9)](_0x260ad8)}));}[_0x37ac7d(0x7f8)](_0x17c66c){const _0x22f654=_0x37ac7d;return this[_0x22f654(0x105)][_0x22f654(0x7f8)](_0x17c66c)[_0x22f654(0x8f1)](_0x38c6b6=>({'createAIJob':_0x38c6b6['createAIJob'][_0x22f654(0x5d9)](_0x38c6b6),'ratePrompt':_0x38c6b6[_0x22f654(0x5e6)][_0x22f654(0x5d9)](_0x38c6b6),'downloadDocument':_0x38c6b6[_0x22f654(0x113)]['bind'](_0x38c6b6),'getDataBucketIds':_0x38c6b6[_0x22f654(0x5e7)]['bind'](_0x38c6b6),'close':_0x38c6b6['close'][_0x22f654(0x5d9)](_0x38c6b6)}));}[_0x37ac7d(0x1af)](_0x3eaa9e){const _0x562fdf=_0x37ac7d;return this[_0x562fdf(0x105)][_0x562fdf(0x1af)](_0x3eaa9e)[_0x562fdf(0x8f1)](_0xd1517b=>({'close':_0xd1517b['close'][_0x562fdf(0x5d9)](_0xd1517b)}));}[_0x37ac7d(0x88a)](_0x133ee4,_0x1d3185){const _0x572344=_0x37ac7d,_0x2ebf52=this[_0x572344(0x105)][_0x572344(0x929)](_0x133ee4,_0x1d3185);return{'getLabel':_0x2ebf52['getLabel'][_0x572344(0x5d9)](_0x2ebf52),'getOwnerId':_0x2ebf52[_0x572344(0x45a)][_0x572344(0x5d9)](_0x2ebf52),'getContentType':_0x2ebf52[_0x572344(0x151)][_0x572344(0x5d9)](_0x2ebf52),'getMediaStream':_0x2ebf52[_0x572344(0x901)][_0x572344(0x5d9)](_0x2ebf52),'setPriority':_0x2ebf52[_0x572344(0x9d6)]['bind'](_0x2ebf52),'unpublish':_0x2ebf52[_0x572344(0x164)][_0x572344(0x5d9)](_0x2ebf52)};}[_0x37ac7d(0x65e)](_0x183cc2,_0x297b7b){const _0x531553=_0x37ac7d,_0x2ce107=this[_0x531553(0x105)][_0x531553(0x349)](_0x183cc2,_0x297b7b);return{'getLabel':_0x2ce107[_0x531553(0x854)]['bind'](_0x2ce107),'getOwnerId':_0x2ce107['getOwnerId'][_0x531553(0x5d9)](_0x2ce107),'getContentType':_0x2ce107[_0x531553(0x151)][_0x531553(0x5d9)](_0x2ce107),'setPriority':_0x2ce107[_0x531553(0x9d6)]['bind'](_0x2ce107),'unpublish':_0x2ce107['unpublish'][_0x531553(0x5d9)](_0x2ce107),'getMediaStream':_0x2ce107[_0x531553(0x901)]['bind'](_0x2ce107),'addTrack':_0x2ce107[_0x531553(0x152)]['bind'](_0x2ce107),'removeTrack':_0x2ce107[_0x531553(0x8d5)][_0x531553(0x5d9)](_0x2ce107),'replaceTrack':_0x2ce107[_0x531553(0x63f)][_0x531553(0x5d9)](_0x2ce107),'setTransformations':_0x2ce107[_0x531553(0x1fc)][_0x531553(0x5d9)](_0x2ce107)};}[_0x37ac7d(0xd5)](_0x61d970){const _0x4fb3fb=_0x37ac7d;return this[_0x4fb3fb(0x105)][_0x4fb3fb(0xd5)](_0x61d970)[_0x4fb3fb(0x8f1)](_0x4d86a3=>({'getLabel':_0x4d86a3['getLabel']['bind'](_0x4d86a3),'getOwnerId':_0x4d86a3[_0x4fb3fb(0x45a)][_0x4fb3fb(0x5d9)](_0x4d86a3),'getContentType':_0x4d86a3[_0x4fb3fb(0x151)][_0x4fb3fb(0x5d9)](_0x4d86a3),'getMediaStream':_0x4d86a3[_0x4fb3fb(0x901)]['bind'](_0x4d86a3),'setPriority':_0x4d86a3[_0x4fb3fb(0x9d6)][_0x4fb3fb(0x5d9)](_0x4d86a3),'unpublish':_0x4d86a3['unpublish'][_0x4fb3fb(0x5d9)](_0x4d86a3)}));}[_0x37ac7d(0x4ef)](_0x26c3fc){const _0x42714e=_0x37ac7d;return this['orchestrator'][_0x42714e(0x4ef)](_0x26c3fc)[_0x42714e(0x8f1)](_0x973c75=>({'getLabel':_0x973c75[_0x42714e(0x854)]['bind'](_0x973c75),'getOwnerId':_0x973c75[_0x42714e(0x45a)][_0x42714e(0x5d9)](_0x973c75),'getContentType':_0x973c75[_0x42714e(0x151)][_0x42714e(0x5d9)](_0x973c75),'getMediaStream':_0x973c75[_0x42714e(0x901)][_0x42714e(0x5d9)](_0x973c75),'subscribe':_0x973c75[_0x42714e(0x9b2)]['bind'](_0x973c75),'unsubscribe':_0x973c75[_0x42714e(0x887)][_0x42714e(0x5d9)](_0x973c75),'getAvailableTrackKinds':_0x973c75[_0x42714e(0x27a)][_0x42714e(0x5d9)](_0x973c75),'update':_0x973c75[_0x42714e(0x328)]['bind'](_0x973c75),'onProviderChange':_0x973c75['onProviderChange'][_0x42714e(0x5d9)](_0x973c75)}));}['getGraphDatabases'](_0x4a90f3){const _0xb11df2=_0x37ac7d;return this[_0xb11df2(0x105)][_0xb11df2(0x927)](_0x4a90f3)[_0xb11df2(0x8f1)](_0x597024=>({'getName':_0x597024[_0xb11df2(0x102)][_0xb11df2(0x5d9)](_0x597024),'getOwnerId':_0x597024[_0xb11df2(0x45a)]['bind'](_0x597024),'getContentType':_0x597024[_0xb11df2(0x151)][_0xb11df2(0x5d9)](_0x597024),'addNode':_0x597024[_0xb11df2(0x396)]['bind'](_0x597024),'addEdge':_0x597024[_0xb11df2(0xe8)]['bind'](_0x597024),'getContent':_0x597024[_0xb11df2(0x342)][_0xb11df2(0x5d9)](_0x597024),'remove':_0x597024[_0xb11df2(0xce)][_0xb11df2(0x5d9)](_0x597024),'saveToDisk':_0x597024[_0xb11df2(0x8cc)][_0xb11df2(0x5d9)](_0x597024),'loadFromDisk':_0x597024[_0xb11df2(0x29c)][_0xb11df2(0x5d9)](_0x597024),'close':_0x597024[_0xb11df2(0x91a)][_0xb11df2(0x5d9)](_0x597024)}));}[_0x37ac7d(0x17b)](_0x22d166){const _0x4cc965=_0x37ac7d;return this[_0x4cc965(0x105)]['getVectorDatabases'](_0x22d166)[_0x4cc965(0x8f1)](_0x49053b=>({'getName':_0x49053b['getName'][_0x4cc965(0x5d9)](_0x49053b),'getOwnerId':_0x49053b[_0x4cc965(0x45a)]['bind'](_0x49053b),'getContentType':_0x49053b[_0x4cc965(0x151)][_0x4cc965(0x5d9)](_0x49053b),'search':_0x49053b[_0x4cc965(0x628)][_0x4cc965(0x5d9)](_0x49053b),'insert':_0x49053b[_0x4cc965(0x38e)]['bind'](_0x49053b),'remove':_0x49053b[_0x4cc965(0xce)][_0x4cc965(0x5d9)](_0x49053b),'saveToDisk':_0x49053b[_0x4cc965(0x8cc)][_0x4cc965(0x5d9)](_0x49053b),'loadFromDisk':_0x49053b[_0x4cc965(0x29c)]['bind'](_0x49053b),'close':_0x49053b[_0x4cc965(0x91a)][_0x4cc965(0x5d9)](_0x49053b)}));}[_0x37ac7d(0x5b6)](){const _0x1e242e=_0x37ac7d,_0x2de592=this[_0x1e242e(0x105)][_0x1e242e(0x5b6)]();switch(_0x2de592[_0x1e242e(0x623)]){case _0x441722[_0x1e242e(0x15a)]['User']:return{'type':_0x441722[_0x1e242e(0x15a)][_0x1e242e(0x94d)],'getId':_0x2de592[_0x1e242e(0x336)]['bind'](_0x2de592),'getDisplayName':_0x2de592[_0x1e242e(0x80d)]['bind'](_0x2de592),'getEmail':_0x2de592[_0x1e242e(0x685)][_0x1e242e(0x5d9)](_0x2de592),'getRemoteConnections':_0x2de592[_0x1e242e(0x835)][_0x1e242e(0x5d9)](_0x2de592),'setDisplayName':_0x2de592[_0x1e242e(0x83b)][_0x1e242e(0x5d9)](_0x2de592),'setEmail':_0x2de592[_0x1e242e(0x871)]['bind'](_0x2de592)};case _0x441722[_0x1e242e(0x15a)]['Agent']:default:return{'type':_0x441722[_0x1e242e(0x15a)][_0x1e242e(0x22d)],'getId':_0x2de592[_0x1e242e(0x336)][_0x1e242e(0x5d9)](_0x2de592),'getRemoteConnections':_0x2de592[_0x1e242e(0x835)][_0x1e242e(0x5d9)](_0x2de592)};}}[_0x37ac7d(0x70f)](_0x596769){const _0x52dfe0=_0x37ac7d;return this[_0x52dfe0(0x105)]['getRemoteNodes'](_0x596769)[_0x52dfe0(0x8f1)](_0x556f34=>{const _0x353940=_0x52dfe0;switch(_0x556f34[_0x353940(0x623)]){case _0x441722[_0x353940(0x15a)]['User']:return{'type':_0x441722['NodeType'][_0x353940(0x94d)],'getId':_0x556f34[_0x353940(0x336)]['bind'](_0x556f34),'getDisplayName':_0x556f34['getDisplayName'][_0x353940(0x5d9)](_0x556f34),'getEmail':_0x556f34[_0x353940(0x685)][_0x353940(0x5d9)](_0x556f34),'getRemoteConnections':_0x556f34[_0x353940(0x835)]['bind'](_0x556f34)};case _0x441722[_0x353940(0x15a)]['Agent']:return{'type':_0x441722[_0x353940(0x15a)][_0x353940(0x22d)],'getId':_0x556f34[_0x353940(0x336)]['bind'](_0x556f34),'getRemoteConnections':_0x556f34[_0x353940(0x835)]['bind'](_0x556f34)};default:throw new _0x3e3c93(_0x5b4e17[_0x353940(0x527)],_0x353940(0x148));}});}['on']=(..._0x17a786)=>{const _0x46d7dc=_0x37ac7d;this[_0x46d7dc(0x530)]['on'](..._0x17a786);};['emit']=(..._0x5967db)=>this[_0x37ac7d(0x530)][_0x37ac7d(0x812)](..._0x5967db);[_0x37ac7d(0x207)](..._0x3e5db4){const _0x335482=_0x37ac7d;this[_0x335482(0x530)][_0x335482(0x207)](..._0x3e5db4);}}class _0x4f018c{['id'];[_0x37ac7d(0x5ff)];[_0x37ac7d(0x359)];[_0x37ac7d(0x623)]=_0x441722[_0x37ac7d(0x15a)][_0x37ac7d(0x94d)];[_0x37ac7d(0x69d)]=new Map();['observer']=_0x376fa8();constructor(_0x424efb,_0x8eeccb,_0x2788ae){const _0x5da452=_0x37ac7d;this['id']=_0x424efb,this[_0x5da452(0x5ff)]=_0x8eeccb,this[_0x5da452(0x359)]=_0x2788ae;}[_0x37ac7d(0x336)](){return this['id'];}[_0x37ac7d(0x80d)](){return this['displayName'];}[_0x37ac7d(0x685)](){const _0x259498=_0x37ac7d;return this[_0x259498(0x359)];}[_0x37ac7d(0x83b)](_0x5d0d04){const _0x1c48e0=_0x37ac7d;this[_0x1c48e0(0x5ff)]!==_0x5d0d04&&(this['displayName']=_0x5d0d04,this[_0x1c48e0(0x59a)][_0x1c48e0(0x10d)](this));}['setEmail'](_0x316028){const _0x2e8e5e=_0x37ac7d;this['email']!==_0x316028&&(this[_0x2e8e5e(0x359)]=_0x316028,this[_0x2e8e5e(0x59a)]['publish'](this));}[_0x37ac7d(0x357)](_0x2be36c,_0x13ba67){const _0x108b43=_0x37ac7d;if(this[_0x108b43(0x69d)][_0x108b43(0x158)](_0x2be36c))return;const _0x15dc51=this['observer'][_0x108b43(0x9b2)](_0x13ba67);this['joinedClusters'][_0x108b43(0x773)](_0x2be36c,_0x15dc51);}['unregisterCluster'](_0x1e74bd){const _0x4c0497=_0x37ac7d;if(!this['joinedClusters'][_0x4c0497(0x158)](_0x1e74bd))return;const _0x19db61=this[_0x4c0497(0x69d)][_0x4c0497(0x7e9)](_0x1e74bd);_0x19db61&&_0x19db61(),this[_0x4c0497(0x69d)]['delete'](_0x1e74bd);}}class _0x5d4cfc{['vendorId'];['user'];constructor(_0x5a420c){this['vendorId']=_0x5a420c;}async['signInWithCredential'](_0x246a13){const _0x2cd4c7=_0x37ac7d,_0x1adb13=await(0x0,_0x1be25c['httpsCallable'])(_0xe4f57['getFunctions'](),_0x2cd4c7(0x26b))({'uid':_0x2cd4c7(0x3dc)+this[_0x2cd4c7(0x7f1)]+_0x2cd4c7(0x3dc)+_0x246a13['id']}),_0x14efc5=await(0x0,_0x2868ad[_0x2cd4c7(0x74f)])(_0xe4f57[_0x2cd4c7(0x78f)](),_0x1adb13['data'][_0x2cd4c7(0x2e1)]);this[_0x2cd4c7(0x595)]=_0x14efc5[_0x2cd4c7(0x595)];}async[_0x37ac7d(0x98d)](){const _0x514829=_0x37ac7d;await(0x0,_0x2868ad[_0x514829(0x98d)])(_0xe4f57[_0x514829(0x78f)]());}[_0x37ac7d(0x197)](){const _0x423247=_0x37ac7d;return this['user']?.[_0x423247(0x197)]()??Promise[_0x423247(0x8cb)]('User\x20not\x20signed\x20in');}}class _0x253be4{static ['instance'];[_0x37ac7d(0x70e)]=[];constructor(){}static[_0x37ac7d(0x507)](){const _0x1965bf=_0x37ac7d;return _0x253be4[_0x1965bf(0x912)]||(_0x253be4[_0x1965bf(0x912)]=new _0x253be4()),_0x253be4[_0x1965bf(0x912)];}[_0x37ac7d(0x95d)](){const _0x248ac9=_0x37ac7d;this['checkWebRTC'](),this['checkMediaStream'](),this['checkScreenSharing'](),this[_0x248ac9(0x2c7)](),this[_0x248ac9(0x41e)](),this[_0x248ac9(0x6d8)](),this[_0x248ac9(0x84d)](),this[_0x248ac9(0x9d0)](),this[_0x248ac9(0x952)](),this['checkAudioContext'](),_0x52aedf[_0x248ac9(0x857)](_0xdea279[_0x248ac9(0x5fe)],_0x248ac9(0x45e),{'featureSupport':this['featureSupport']});}[_0x37ac7d(0x711)](_0x216e88){const _0x33e66e=_0x37ac7d,_0x32e260=this[_0x33e66e(0x70e)][_0x33e66e(0x419)](_0x36ce3a=>_0x36ce3a[_0x33e66e(0x642)]===_0x216e88);return!!_0x32e260&&_0x32e260[_0x33e66e(0x331)];}[_0x37ac7d(0x4a8)](_0x379b84){const _0x3f4ccc=_0x37ac7d;_0x52aedf[_0x3f4ccc(0x5c7)]('support',{'nodeId':_0x379b84['getId'](),'nodeType':_0x379b84[_0x3f4ccc(0x623)],'data':{'featureSupport':this[_0x3f4ccc(0x70e)]}});}[_0x37ac7d(0x439)](){const _0x2da561=_0x37ac7d,_0x47c6ab=_0x57c9b6[_0x2da561(0x6bf)];let _0x43e28c=!0x1;_0x2da561(0x15e)==typeof RTCPeerConnection&&_0x2da561(0x15e)==typeof RTCIceCandidate&&_0x2da561(0x15e)==typeof RTCSessionDescription?_0x43e28c=!0x0:_0x52aedf[_0x2da561(0x857)](_0xdea279[_0x2da561(0x5fe)],_0x2da561(0x22e)+_0x47c6ab+_0x2da561(0x3d2)),this[_0x2da561(0x70e)]['push']({'name':_0x47c6ab,'supported':_0x43e28c});}[_0x37ac7d(0x8bd)](){const _0x421192=_0x37ac7d,_0x445965=_0x57c9b6[_0x421192(0x4b1)];let _0x1f07b1=!0x1;_0x421192(0x15e)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x421192(0x2c3)==typeof navigator&&_0x421192(0x2c3)==typeof navigator[_0x421192(0x684)]&&_0x421192(0x15e)==typeof navigator['mediaDevices'][_0x421192(0x631)]?_0x1f07b1=!0x0:_0x52aedf[_0x421192(0x857)](_0xdea279[_0x421192(0x5fe)],_0x421192(0x22e)+_0x445965+_0x421192(0x3d2)),this[_0x421192(0x70e)][_0x421192(0x7b5)]({'name':_0x445965,'supported':_0x1f07b1});}[_0x37ac7d(0x3a5)](){const _0x4d804c=_0x37ac7d,_0x485e1f=_0x57c9b6[_0x4d804c(0x4a3)];let _0x528f28=!0x1;'object'==typeof navigator&&'object'==typeof navigator[_0x4d804c(0x684)]&&'function'==typeof navigator['mediaDevices'][_0x4d804c(0x3c7)]?_0x528f28=!0x0:_0x52aedf[_0x4d804c(0x857)](_0xdea279[_0x4d804c(0x5fe)],_0x4d804c(0x22e)+_0x485e1f+_0x4d804c(0x3d2)),this[_0x4d804c(0x70e)][_0x4d804c(0x7b5)]({'name':_0x485e1f,'supported':_0x528f28});}[_0x37ac7d(0x2c7)](){const _0x45f63a=_0x37ac7d,_0x4e4e49=_0x57c9b6[_0x45f63a(0x69a)];let _0x4b600d=!0x1;'function'!=typeof AudioContext||_0x45f63a(0x15e)!=typeof ScriptProcessorNode&&_0x45f63a(0x15e)!=typeof AudioWorkletNode||_0x45f63a(0x15e)!=typeof MediaStreamAudioSourceNode?_0x52aedf[_0x45f63a(0x857)](_0xdea279[_0x45f63a(0x5fe)],_0x45f63a(0x22e)+_0x4e4e49+_0x45f63a(0x3d2)):_0x4b600d=!0x0,this[_0x45f63a(0x70e)][_0x45f63a(0x7b5)]({'name':_0x4e4e49,'supported':_0x4b600d});}['checkDeviceConfig'](){const _0x144794=_0x37ac7d,_0x4012da=_0x57c9b6[_0x144794(0x610)];let _0x203535=!0x1;_0x144794(0x2c3)==typeof navigator&&'object'==typeof navigator[_0x144794(0x684)]&&'function'==typeof navigator['mediaDevices']['enumerateDevices']&&'function'==typeof MediaDeviceInfo?_0x203535=!0x0:_0x52aedf[_0x144794(0x857)](_0xdea279[_0x144794(0x5fe)],'Support:\x20'+_0x4012da+'\x20not\x20supported'),this['featureSupport'][_0x144794(0x7b5)]({'name':_0x4012da,'supported':_0x203535});}['checkAudioOutput'](){const _0x453a1c=_0x37ac7d,_0x2f6ac6=_0x57c9b6[_0x453a1c(0x39f)];let _0x21044d=!0x1;'object'==typeof document&&_0x453a1c(0x15e)==typeof document[_0x453a1c(0x6c0)]('video')[_0x453a1c(0x304)]?_0x21044d=!0x0:_0x52aedf['log'](_0xdea279[_0x453a1c(0x5fe)],'Support:\x20'+_0x2f6ac6+_0x453a1c(0x3d2)),this['featureSupport'][_0x453a1c(0x7b5)]({'name':_0x2f6ac6,'supported':_0x21044d});}async[_0x37ac7d(0x84d)](){const _0x10512e=_0x37ac7d,_0x23fffe=_0x57c9b6[_0x10512e(0x4b3)];let _0x54a095=!0x1;try{const _0x3e4b6e=document[_0x10512e(0x6c0)](_0x10512e(0x6a9));if(MediaRecorder&&MediaSource&&_0x3e4b6e[_0x10512e(0x81c)]){const _0x44f3cb=_0x3e4b6e['captureStream'](),_0x53a2e6=new MediaRecorder(_0x44f3cb);_0x53a2e6[_0x10512e(0x915)](),await new Promise(_0x5632a7=>setTimeout(_0x5632a7,0x7d0)),_0x53a2e6[_0x10512e(0x959)](),_0x54a095='inactive'===_0x53a2e6['state'];}}catch(_0x5b37e3){_0x52aedf['log'](_0xdea279[_0x10512e(0x5fe)],_0x10512e(0x22e)+_0x23fffe+_0x10512e(0x81b),_0x5b37e3);}this[_0x10512e(0x70e)][_0x10512e(0x7b5)]({'name':_0x23fffe,'supported':_0x54a095}),_0x54a095||_0x52aedf[_0x10512e(0x857)](_0xdea279[_0x10512e(0x5fe)],_0x10512e(0x22e)+_0x23fffe+_0x10512e(0x3d2));}[_0x37ac7d(0x9d0)](){const _0x128d7f=_0x37ac7d,_0x35d661=_0x57c9b6[_0x128d7f(0xfc)];let _0x5e7996=!0x1;try{document[_0x128d7f(0x6c0)](_0x128d7f(0x6a9))['captureStream']&&(_0x5e7996=!0x0);}catch(_0x1e9bd5){_0x52aedf[_0x128d7f(0x857)](_0xdea279['Support'],'Support:\x20'+_0x35d661+'\x20check\x20failed',_0x1e9bd5);}this[_0x128d7f(0x70e)]['push']({'name':_0x35d661,'supported':_0x5e7996}),_0x5e7996||_0x52aedf['log'](_0xdea279[_0x128d7f(0x5fe)],_0x128d7f(0x22e)+_0x35d661+_0x128d7f(0x3d2));}['checkWebGL'](){const _0x121b2d=_0x37ac7d,_0x469b27=_0x57c9b6[_0x121b2d(0x653)];let _0x3475ca=!0x1;try{const _0x449fb3=document[_0x121b2d(0x6c0)](_0x121b2d(0x6a9));WebGLRenderingContext&&_0x449fb3[_0x121b2d(0x42d)](_0x121b2d(0x14c))&&(_0x3475ca=!0x0);}catch(_0x97fb33){_0x52aedf[_0x121b2d(0x857)](_0xdea279['Support'],_0x121b2d(0x22e)+_0x469b27+'\x20check\x20failed',_0x97fb33);}this['featureSupport'][_0x121b2d(0x7b5)]({'name':_0x469b27,'supported':_0x3475ca}),_0x3475ca||_0x52aedf['log'](_0xdea279[_0x121b2d(0x5fe)],'Support:\x20'+_0x469b27+_0x121b2d(0x3d2));}[_0x37ac7d(0x472)](){const _0x3b0d52=_0x37ac7d,_0x18d335=_0x57c9b6['AudioContext'];let _0xa6b1dd=!0x1;_0x3b0d52(0x15e)==typeof AudioContext?_0xa6b1dd=!0x0:_0x52aedf[_0x3b0d52(0x857)](_0xdea279[_0x3b0d52(0x5fe)],_0x3b0d52(0x22e)+_0x18d335+_0x3b0d52(0x3d2)),this[_0x3b0d52(0x70e)]['push']({'name':_0x18d335,'supported':_0xa6b1dd});}}const _0x2b3d5b=_0x253be4['getInstance']();class _0x42eadf{static ['instance'];static [_0x37ac7d(0x887)];static [_0x37ac7d(0x79b)];[_0x37ac7d(0x31b)];[_0x37ac7d(0x7f1)];['options'];[_0x37ac7d(0x8de)];[_0x37ac7d(0x351)]=new Map();[_0x37ac7d(0x5ae)];constructor(_0x46fdee,_0x5afe96,_0x43befb){const _0x2585ce=_0x37ac7d;this[_0x2585ce(0x7f1)]=_0x46fdee,this[_0x2585ce(0x8de)]=_0x5afe96,this[_0x2585ce(0x31b)]=new _0x5d4cfc(this['vendorId']),_0x2b3d5b[_0x2585ce(0x95d)](),this[_0x2585ce(0x14b)]={'audioContext':_0x43befb?.[_0x2585ce(0x4da)]??(_0x2b3d5b[_0x2585ce(0x711)](_0x57c9b6['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x43befb?.[_0x2585ce(0x7f5)]??0x1,'minConnections':_0x43befb?.[_0x2585ce(0x525)]??0x3,'maxConnections':_0x43befb?.[_0x2585ce(0x860)]??(_0x43befb?.['minConnections']&&0x4*_0x43befb[_0x2585ce(0x525)])??0xc,'maxDistance':_0x43befb?.[_0x2585ce(0x6b8)]??0xa,'maxFps':_0x43befb?.[_0x2585ce(0x41f)]??0x18,'maxBpp':_0x43befb?.['maxBpp']??0.12,'objectStoreConnector':_0x43befb?.[_0x2585ce(0x34d)]??_0x4e18ab[_0x2585ce(0x818)],'externalStorageConnectors':_0x43befb?.[_0x2585ce(0x53f)],'keyValueDatabaseConnector':_0x43befb?.['keyValueDatabaseConnector']??_0x161426[_0x2585ce(0x84c)],'loggingDatabaseConnector':_0x43befb?.[_0x2585ce(0x955)]??_0x161426['IDBDatabaseConnector'],'peerConnectionConnector':_0x43befb?.['peerConnectionConnector']??_0x21def8['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x43befb?.[_0x2585ce(0x87e)],'vectorDatabaseConnector':_0x43befb?.[_0x2585ce(0xe0)],'graphDatabaseConnector':_0x43befb?.[_0x2585ce(0x5f7)],'documentParserConnector':_0x43befb?.[_0x2585ce(0x9b5)],'nlpLibraryConnector':_0x43befb?.[_0x2585ce(0x5fc)],'searchConnector':_0x43befb?.[_0x2585ce(0x52d)]},_0x43befb?.[_0x2585ce(0x11a)]&&this[_0x2585ce(0x14b)]['audioContext']&&_0x29b976[_0x2585ce(0x3bd)](this[_0x2585ce(0x14b)][_0x2585ce(0x4da)]),_0x52aedf['setVendorId'](this[_0x2585ce(0x7f1)]),_0x43befb?.[_0x2585ce(0x41b)]&&_0x52aedf[_0x2585ce(0x270)](_0x43befb[_0x2585ce(0x41b)]);}static async[_0x37ac7d(0x507)](_0x116578,_0x949de7,_0x550b34,_0x575c86,_0x573c7e){const _0x4c550b=_0x37ac7d;this[_0x4c550b(0x79b)]=_0x550b34;const _0x3f09aa=await this[_0x4c550b(0x740)](_0x116578,_0x949de7,_0x573c7e);return _0x42eadf['instance']||(_0x42eadf[_0x4c550b(0x912)]=new _0x42eadf(_0x116578,_0x3f09aa,_0x575c86)),{'close':_0x42eadf[_0x4c550b(0x912)][_0x4c550b(0x91a)][_0x4c550b(0x5d9)](_0x42eadf[_0x4c550b(0x912)]),'authenticateUser':_0x42eadf[_0x4c550b(0x912)]['authenticateUser'][_0x4c550b(0x5d9)](_0x42eadf[_0x4c550b(0x912)]),'authenticateAgent':_0x42eadf[_0x4c550b(0x912)][_0x4c550b(0x2ec)][_0x4c550b(0x5d9)](_0x42eadf[_0x4c550b(0x912)]),'joinCluster':_0x42eadf[_0x4c550b(0x912)][_0x4c550b(0x101)]['bind'](_0x42eadf[_0x4c550b(0x912)])};}static async[_0x37ac7d(0x26a)](){const _0x3101b6=_0x37ac7d;return _0xe4f57[_0x3101b6(0x332)]();}static[_0x37ac7d(0x7c9)](){return _0x46f3bd['isProduction'];}async[_0x37ac7d(0x91a)](_0x38f783){const _0x5c0415=_0x37ac7d;this['clusters']['forEach'](_0x52f420=>{const _0x1f87a7=a0_0xbe57;_0x52f420['off'](),_0x52f420[_0x1f87a7(0x86d)](_0x38f783);}),this[_0x5c0415(0x351)]['clear'](),this[_0x5c0415(0x14b)][_0x5c0415(0x4da)]&&_0x29b976['stopNoThrottlingHack'](),_0x42eadf[_0x5c0415(0x887)]?.(),_0x42eadf[_0x5c0415(0x887)]=void 0x0,this[_0x5c0415(0x5ae)]=void 0x0,await this[_0x5c0415(0x31b)][_0x5c0415(0x98d)](),_0x42eadf[_0x5c0415(0x912)]=void 0x0;}static async[_0x37ac7d(0x740)](_0x455740,_0x1e5503,_0x32afc2){const _0x551799=_0x37ac7d;if(!this[_0x551799(0x79b)])throw new _0x3e3c93(_0x5b4e17[_0x551799(0x2b7)],'Node\x20type\x20is\x20required');let _0xf93ff1;try{_0xf93ff1=await(0x0,_0x1be25c['httpsCallable'])(_0xe4f57[_0x551799(0x824)](),'sdkValidateAccess')({'vendorId':_0x455740,'accessToken':_0x1e5503,'secretKey':_0x32afc2});}catch(_0x10b7a9){throw new _0x3e3c93(_0x5b4e17['InvalidAccess'],_0x551799(0x262));}if(!this[_0x551799(0x2e4)](_0xf93ff1[_0x551799(0x51f)]))throw new _0x3e3c93(_0x5b4e17['InvalidAccess'],_0x551799(0x262));const _0x59adc4=_0xf93ff1['data'];return _0x59adc4[_0x551799(0x894)]||(_0x59adc4[_0x551799(0x894)]=[]),this[_0x551799(0x887)]||(this[_0x551799(0x887)]=_0x29b976[_0x551799(0x10c)](async()=>{const _0x452382=_0x551799;try{const _0x512c5e=await this[_0x452382(0x740)](_0x455740,_0x1e5503,_0x32afc2);this['mode']===_0x441722[_0x452382(0x15a)][_0x452382(0x22d)]&&(_0x512c5e[_0x452382(0x25d)]=_0x512c5e[_0x452382(0x25d)][_0x452382(0x5e3)](_0x2dd61a=>_0x2dd61a['urls'][_0x452382(0x475)](_0x452382(0x761)))),_0x59adc4[_0x452382(0x25d)]=_0x512c5e[_0x452382(0x25d)];}catch(_0x1ebff5){}},0x1b7740)),_0x59adc4;}async[_0x37ac7d(0x78d)](_0x5ae629){const _0x35bdc6=_0x37ac7d;if(_0x42eadf[_0x35bdc6(0x79b)]!==_0x441722['NodeType'][_0x35bdc6(0x94d)])throw new _0x3e3c93(_0x5b4e17['NodeInvalidType'],'Node\x20type\x20is\x20invalid');await this[_0x35bdc6(0x31b)]['signInWithCredential'](_0x5ae629);const _0x104af6=new _0x4f018c(_0x5ae629['id'],_0x5ae629['displayName'],_0x5ae629[_0x35bdc6(0x359)]);return this[_0x35bdc6(0x5ae)]={'node':_0x104af6},_0x2b3d5b[_0x35bdc6(0x4a8)](_0x104af6),{'type':_0x441722[_0x35bdc6(0x15a)][_0x35bdc6(0x94d)],'getId':_0x104af6[_0x35bdc6(0x336)][_0x35bdc6(0x5d9)](_0x104af6),'getDisplayName':_0x104af6['getDisplayName'][_0x35bdc6(0x5d9)](_0x104af6),'getEmail':_0x104af6['getEmail'][_0x35bdc6(0x5d9)](_0x104af6),'setDisplayName':_0x104af6[_0x35bdc6(0x83b)][_0x35bdc6(0x5d9)](_0x104af6),'setEmail':_0x104af6['setEmail'][_0x35bdc6(0x5d9)](_0x104af6)};}async[_0x37ac7d(0x2ec)](_0x1851b4){const _0x20c26c=_0x37ac7d;if(_0x42eadf[_0x20c26c(0x79b)]!==_0x441722[_0x20c26c(0x15a)][_0x20c26c(0x22d)])throw new _0x3e3c93(_0x5b4e17[_0x20c26c(0x527)],_0x20c26c(0x867));const {id:_0x1db190,groupId:_0x5275ad}=_0x1851b4,_0x1d0080=await(0x0,_0x2c741a[_0x20c26c(0x5b1)])((0x0,_0x2c741a[_0x20c26c(0x4be)])(_0xe4f57[_0x20c26c(0x242)](),_0x20c26c(0x2ad)+this[_0x20c26c(0x7f1)]+'/resources/agent/items/'+_0x5275ad));if(!_0x1d0080[_0x20c26c(0x561)]())throw new _0x3e3c93(_0x5b4e17['NodeNotAuthenticated'],_0x20c26c(0x895));const _0x429cf3=_0x1d0080[_0x20c26c(0x51f)]();await this[_0x20c26c(0x31b)][_0x20c26c(0x783)]({'id':_0x1db190});const _0x8aa565=new _0x40fd9a(_0x1db190,_0x5275ad,this[_0x20c26c(0x7f1)],_0x429cf3);return this[_0x20c26c(0x5ae)]={'node':_0x8aa565},_0x2b3d5b[_0x20c26c(0x4a8)](_0x8aa565),await this[_0x20c26c(0x2ce)](_0x8aa565),{'type':_0x441722['NodeType'][_0x20c26c(0x22d)],'getId':_0x8aa565[_0x20c26c(0x336)]['bind'](_0x8aa565),'onConfigurationChange':_0x8aa565['onConfigurationChange'][_0x20c26c(0x5d9)](_0x8aa565),'setReportCapacity':_0x8aa565[_0x20c26c(0x460)][_0x20c26c(0x5d9)](_0x8aa565)};}async[_0x37ac7d(0x101)](_0x10f2ae){const _0x426c4a=_0x37ac7d;if(!this[_0x426c4a(0x5ae)])throw new _0x3e3c93(_0x5b4e17[_0x426c4a(0x6b9)],_0x426c4a(0x710));if(this[_0x426c4a(0x5ae)][_0x426c4a(0x1f9)][_0x426c4a(0x623)]!==_0x441722[_0x426c4a(0x15a)]['User'])throw new _0x3e3c93(_0x5b4e17[_0x426c4a(0x515)],'Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user');if(this[_0x426c4a(0x351)][_0x426c4a(0x158)](_0x10f2ae))throw new _0x3e3c93(_0x5b4e17[_0x426c4a(0x338)],'Cluster\x20already\x20joined');const _0x808eab=new _0xf85887(this[_0x426c4a(0x7f1)],_0x10f2ae,this[_0x426c4a(0x5ae)][_0x426c4a(0x1f9)],this[_0x426c4a(0x31b)],this['options'],this['configs']);return await _0x808eab[_0x426c4a(0x751)](),this['addCluster'](_0x10f2ae,_0x808eab),_0x52aedf[_0x426c4a(0x5c7)]('join-cluster',{'clusterId':_0x10f2ae,'nodeId':this[_0x426c4a(0x5ae)][_0x426c4a(0x1f9)]['getId'](),'nodeType':this[_0x426c4a(0x5ae)][_0x426c4a(0x1f9)][_0x426c4a(0x623)]}),{'leave':_0x808eab[_0x426c4a(0x86d)][_0x426c4a(0x5d9)](_0x808eab),'getLocalNode':_0x808eab[_0x426c4a(0x5b6)][_0x426c4a(0x5d9)](_0x808eab),'openPubSubTopic':_0x808eab[_0x426c4a(0x723)][_0x426c4a(0x5d9)](_0x808eab),'openObjectStoreBucket':_0x808eab['openObjectStoreBucket'][_0x426c4a(0x5d9)](_0x808eab),'openExternalStorageConnection':_0x808eab['openExternalStorageConnection'][_0x426c4a(0x5d9)](_0x808eab),'openKeyValueDatabase':_0x808eab[_0x426c4a(0x160)][_0x426c4a(0x5d9)](_0x808eab),'openGenerativeAIContext':_0x808eab[_0x426c4a(0x877)][_0x426c4a(0x5d9)](_0x808eab),'openGenerativeAIWorker':_0x808eab['openGenerativeAIWorker'][_0x426c4a(0x5d9)](_0x808eab),'openGraphDatabase':_0x808eab['openGraphDatabase'][_0x426c4a(0x5d9)](_0x808eab),'openVectorDatabase':_0x808eab[_0x426c4a(0x97e)][_0x426c4a(0x5d9)](_0x808eab),'publishLocalMediaStream':_0x808eab['publishLocalMediaStream'][_0x426c4a(0x5d9)](_0x808eab),'publishLocalDynamicMediaStream':_0x808eab['publishLocalDynamicMediaStream'][_0x426c4a(0x5d9)](_0x808eab),'getPubSubTopics':_0x808eab[_0x426c4a(0x3df)][_0x426c4a(0x5d9)](_0x808eab),'getObjectStoreBuckets':_0x808eab[_0x426c4a(0x91d)][_0x426c4a(0x5d9)](_0x808eab),'getExternalStorageConnections':_0x808eab[_0x426c4a(0x1eb)][_0x426c4a(0x5d9)](_0x808eab),'getKeyValueDatabases':_0x808eab[_0x426c4a(0x154)][_0x426c4a(0x5d9)](_0x808eab),'getGenerativeAIContexts':_0x808eab[_0x426c4a(0x7f8)][_0x426c4a(0x5d9)](_0x808eab),'getGenerativeAIWorkers':_0x808eab[_0x426c4a(0x1af)][_0x426c4a(0x5d9)](_0x808eab),'getGraphDatabases':_0x808eab['getGraphDatabases'][_0x426c4a(0x5d9)](_0x808eab),'getVectorDatabases':_0x808eab[_0x426c4a(0x17b)][_0x426c4a(0x5d9)](_0x808eab),'getLocalMediaStreams':_0x808eab[_0x426c4a(0xd5)][_0x426c4a(0x5d9)](_0x808eab),'getRemoteMediaStreams':_0x808eab[_0x426c4a(0x4ef)][_0x426c4a(0x5d9)](_0x808eab),'getRemoteNodes':_0x808eab[_0x426c4a(0x70f)]['bind'](_0x808eab),'on':_0x808eab['on']['bind'](_0x808eab),'off':_0x808eab[_0x426c4a(0x207)][_0x426c4a(0x5d9)](_0x808eab)};}async[_0x37ac7d(0x2ce)](_0xc6b04a){const _0x10856c=_0x37ac7d;for(const _0x4918de of _0xc6b04a[_0x10856c(0x450)][_0x10856c(0x351)]){const _0x395b0e=new _0xf85887(this[_0x10856c(0x7f1)],_0x4918de['id'],_0xc6b04a,this[_0x10856c(0x31b)],this['options'],this[_0x10856c(0x8de)]);await _0x395b0e[_0x10856c(0x751)](),this[_0x10856c(0x5dd)](_0x4918de['id'],_0x395b0e);for(const _0x3efbb6 of _0x4918de['pubSubTopics']??[])_0x395b0e[_0x10856c(0x723)](_0x3efbb6);for(const _0x1c7359 of _0x4918de[_0x10856c(0x4e0)]??[])await _0x395b0e['openObjectStoreBucket'](_0x1c7359);for(const _0x17ffb6 of _0x4918de[_0x10856c(0x520)]??[]){const _0x212682=_0x17ffb6[_0x10856c(0x6b5)]('-');await _0x395b0e[_0x10856c(0x4b0)](_0x212682[0x1],_0x212682[0x0]);}for(const _0x47df6f of _0x4918de['keyValueDatabases']??[])await _0x395b0e[_0x10856c(0x160)](_0x47df6f,{'version':0x1,'tables':{}});for(const _0xce640c of _0x4918de[_0x10856c(0x337)]??[])_0x395b0e[_0x10856c(0x245)](_0xce640c);for(const _0x29beef of _0x4918de[_0x10856c(0x465)]??[])_0x395b0e[_0x10856c(0x97e)](_0x29beef);for(const _0x5425fc of _0x4918de[_0x10856c(0x9c3)]??[]){await _0x395b0e[_0x10856c(0x459)](_0x5425fc);const _0x5b7073=_0xe62062(this[_0x10856c(0x7f1)],_0x5425fc),_0x322cc2=_0x13e08c(),_0x48bfae=this['options']['loggingDatabaseConnector']??this[_0x10856c(0x14b)][_0x10856c(0x605)];await _0x395b0e[_0x10856c(0x160)](_0x5b7073,_0x322cc2,_0x48bfae);}}}[_0x37ac7d(0x5dd)](_0x18f07f,_0x15ad17){const _0x5df87d=_0x37ac7d;this[_0x5df87d(0x351)][_0x5df87d(0x773)](_0x18f07f,_0x15ad17),_0x15ad17['on'](_0x5df87d(0x314),()=>{const _0x285769=_0x5df87d;_0x15ad17[_0x285769(0x207)](),this['clusters'][_0x285769(0x6fd)](_0x18f07f);});}static[_0x37ac7d(0x2e4)](_0x518bdc){const _0x383209=_0x37ac7d;return void 0x0!==_0x518bdc[_0x383209(0x25d)];}}return _0x480e78;})())));