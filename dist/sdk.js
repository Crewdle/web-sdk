function a0_0x4dcf(){const _0x48b6d9=['asc','940887rdubIs','CrewdleSenderConnection\x20createOffer','PublishMediaStream','outbound-rtp','discoveryService','1660035abpmjF','ended','sdkValidateAccess','publishSyncCompleted','outgoing-stream-no-topic','object-store-stream-does-not-exist','getRank','ObjectStoreNotSynced','addConnection','server','handleUserJoinNeedPublishedStream','indexes','unsubscribeTrackEndedListener','fps','encode','Invalid\x20version\x20\x27','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','connections','UserAlreadyExist','audioContext','bytesSent','registerSystemPublisher','Module','onLine','maxBitrate','getInternalStreamId','setEncodingParameters','key-value-database-table-not-found','framerate','answerJoin','lastExecuted','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','checkAudioVolume','removeListener','deleteRemoteUser','function','Data','connected','Upgrade','getAncestors','RemoteRemove','stop','IncomingSubscription','rank','transactionsToSync','mergeParts','streamId','Early\x20return:\x20','Offer','canProvideResolution','validateAccess','timeoutCallback','Count','StreamReport','FolderCreate','mediaTopics','getDTVolatility','PubSubTopic\x20onMessage','getNumberOutgoingSubscriptions','orderBy','Invalid\x20layout:\x20','table','ObjectStore','\x0aAdditional\x20data:\x20','restartHandshake','buffer','getLocalId','\x20answer','Table\x20not\x20found','isWhereBetween','setCurrentVersion','Stats','getClosestUsers','clearSubscriptionRequestTimeout','childRemovedUnsubscriber','SubscriptionRequestInProgress','onRemoveTrack','entries','getResolution','getMilliseconds','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','handleCloseMediaStream','object-store-cannot-write-transaction','Request','onConnectionStateChange','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','PubSubTopicDoesNotExist','RestartNeedMediaStream','getTracks','removeItem','clearSyncTimeout','getSenderTotalBytes','firebaseConfig','Default','key-value-database-table-name-reserved','isSync','detectProblems','handleObjectDelete','component','getOrCreateFolderHandle','/nodes','debounceStats','handleNoAnswer','subscriptionRequestTimeouts','removeTrack','setupListeners','drawImage','checkMediaStream','crewdle-sdk-logging-','remote-connection-exists','receiverCurrentBytes','transactionTable','detectAudioIssues','onChildRemoved','manageAncestor','receiverPreviousTimestamp','connection-not-connected','parentId','getDistance','active','length','roundTripTime','processReceiverReport','setInternalId','find','getContext','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','missing-incoming-connection','sync-complete','registeredListeners','STVolatility','setEmail','handleSubscriptionSystemEvents','Add','destroy','Logger.getInstance','answererId','MediaStream','Backgrounds','1:519415702791:web:5dd39042f881cfde3251a2','checkWebGL','setBytes','enabled','appsync-connect-fail','request-file-write','setParams','totalDecodeTime','enabledChannels','messageType','includes','getLabel','map','isOffer','minThreshold','IDBDatabaseConnector','setLoggingConnectors','offset','handleSubscriptionUnsubscribeMediaStream','folder','support','\x27\x20in\x20layout','getLocalUser','isClusterEnabled','handleContentCloseMediaStream','detectStreamIssues','KeyValueDatabaseStats','openObjectStoreBucket','prototype','AppSync\x20client\x20not\x20ready','Base\x20Peer\x20Connection','getItem','addIssue','validateValue','destination','crewdle-sdk.firebaseapp.com','origin','bandwidth.bitrate','PubSubTopicNameNotString','TestPage','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','sendWithRetry','toString','getDisplayName','minConnections','Connection','Pool','KeyValueDatabaseDoesNotExist','pendingFilesRename','key-value-database-invalid-layout','key-value-database','RequestAccepted','setPendingFileSyncingPayload','sendTransactionsDump','Content','Offline','downgrade','add','observer','Accepted','addCandidate','Stream\x20already\x20exists','Problem','Invalid\x20data\x20event.','Key-value\x20database\x20transaction\x20value\x20not\x20set.','renderElement','hasRemoteUser','createReceiverConnection','configs','assign','cancel','disconnectTimeout','isArray','closeSubscription','canRestartHandshake','text','previousFrames','manageOptimization','NeedMediaStream','updateDebounceTimeout','FolderMove','rtt','onBufferedAmountLow','region','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','now','maxFps','out','delete','checkWebRTC','authService','OutgoingSubscription','Invalid\x20params','connectionTimeout','system','audio','detectVideoIssues','notifyCluster','Key-value\x20database\x20table\x20does\x20not\x20exist.','removeUser','createPubSubTopic','incomingTopic','localId','maxResolution','systemTopicUnsubscribe','publishFolder','stream','publish','bind','media','createIncomingSubscription','deletePendingFile','Transaction','QueryBuilderInvalidArgument','createSubscription','handleUpdateMediaStream','openPubSubTopic','generateClient','remoteUsers','User\x20not\x20authenticated','storage','onDisconnectHandler','end','cleanList','onNodeDisconnect','listenUnsubscriber','name','::ï¿¿','bufferedEvents','notifyClusterUserUpdate','Invalid\x20value.\x20Must\x20be\x20an\x20object.','Buffering\x20event','push','hasOwnProperty','getStatus','discoveryUnsubscriber','getQuery','remoteMediaStreams','path','currentDistance','tableUnsubscriber','handleStatsSystemEvents','bitrate','lastHeartbeat','Answer','collection','receiverBitrate','updateDebounce','internal-sdk-error','set','createConnection','getAudioVideoDelay','getInstance','connectionState','closed','propagate','setInterval','object-store-invalid-sync-message','state','addRemoteUser','shouldContinuePropagation','key-value-database-invalid-query','packetsReceived','bandwidth.jitter','key-value-database-creation-failed','Remote\x20connection\x20already\x20exists.','estimatedPlayoutTimestamp','detectLocalIssues','getDatabase','FeatureNotEnabled','subscription-request-no-answer','some','close','optimizationLayers','getSenderBitrate','pub-sub-topic-already-subscribed','processDataChannelReport','code','getReceiverTotalBytes','KeyValueDatabaseTransactionValueNotSet','getAncestorIds','handlePublishMediaStream','reduce','senderConnection','objectRequests','getUser','removeRemoteMediaStream','ObjectStoreNotInSync','packetsSent','sourceVideo','unshift','node','handleLocalTrackFailure','configure','dt_volatility','removeKeyValueDatabase','handleConnectionSuccess','consumeBufferedEvents','resetConnection','crewdleSDKEnableLogging','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','params','Detection','3886800cvePbR','getSubscriptionInfo','firebase-disconnect','getIndexes','ObjectStoreAlreadySubscribed','statsManager','LocalMediaStreamNoAudioContext','Sender','firebaseUnsubscriber','findNewMediaSubscription','packets','onClose','lastProcessRank','frames','removeLocalMediaStream','chosenAnswers','Database\x20not\x20open','Local\x20stream\x20does\x20not\x20exist.','publishUserLeave','senderTotalMessages','availableTrackKinds','WebGL','\x20-\x20Sending\x20propagation\x20(','senderTimeProcessing','wait','\x20does\x20not\x20exists','keyValueDatabases','setTransformations','setupResizeHandler','Core','getPacketsLostPerc','isNeedRestart','maxConnections','getTrack','Connected','getAvailableTrackKinds','Handshake','RemoteMediaStreamInvalidSubscriptionParams','not-in','topic','hasIndex','RequestTransactionsValue','message','setSinkId','InvalidDataChannel','warning','trackListeners','handleContentSubscribeMediaStream','padStart','keys','Remote\x20stream\x20does\x20not\x20exist.','onremovetrack','setupConnectionEvents','Low','joinedAt','42BekJgJ','Online','goOnline','pub-sub-topic-does-not-exist','Downgrade','updatePropagationProperties','systemMessages','getShareableStreamId','SubscriptionRequestDoesNotExist','All','systemTopic','Internal\x20SDK\x20error:\x20','setLocalRank','handleContentClosePubSubTopic','tableLayout','subscriptions','clearHeartbeat','/objectstores/','key-value-database-invalid-value','operator','getResolutionScale','move','publishSyncCompletedAfterWrites','setRank','runTransaction','listenerUnsubscriber','localMediaStreams','text/plain','layout','High','get','UnsubscribeMediaStream','mediaStream','timeSending','connection-state','getTransactions','maxOutgoingSubscriptions','index','OutgoingMediaStreamNoTopic','PeerConnectionInvalidDestination','audioDestination','connection-invalid-data-event','endsWith','MissingSystemTopic','Remediation','handleUnpublishMediaStream','resizeHandler','handleContentRemoteMediaStreamTrackFail','FileWrite','handleUnsubscribeMediaStream','CloseObjectStoreBucket','Events','publishTransaction','processLocalReport','authUser','sendTransactionsValue','Invalid\x20index\x20in\x20table\x20\x27','next','oidc','processInboundReport','toStringTag','contentType','getRemoteId','getTableConnector','KeyValueDatabaseTableNotFound','internalId','LocalReport','has','setUpgradeTimeout','sort','getFirestore','handleFileWrite','LocalMediaStreamAlreadyExists','removeRemoteStreamSubscription','remoteConnections','setReceiverBytes','transactionService','Delete','pubsubTopics','Support','featureSupport','retryQueues','Error','reportMetric','cpu.fps','clusterKey','internal','us-east-1','head','key-value-database-not-open','senderPreviousBytes','abs','setReceiverTimestamp','No\x20connections\x20available\x20to\x20send\x20message','stats','isWhereValue','statsReport','getLocalMediaStreams','complete','list','senderCurrentTimestamp','checkScreenSharing','handleClosePubSubTopic','Remote\x20MediaStream\x20already\x20exists','status','providerId','receiverCurrentTimestamp','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','createRemoteUser','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','Send\x20request','object-store-already-exists','setTimestamp','Received\x20event\x20on\x20cluster','Hub','notifyObjectStoreOfUserJoin','Cluster','Move','receiverConnection','stringify','813960ieuhQG','open','key-value-database-transaction-table-not-initialized','waitConnected','canvas','handleRequestPayload','hasTable','instance','KeyValueDatabaseTableDoesNotExist','syncPendingFiles','addPendingHandshakeCandidate','doc','notifyObjectStoreOfUserLeave','folder-move','processRemoteInboundReport','createSenderConnection','Rejected','getProviderId','Recording','getName','framesDecoded','context','label','timeReceiving','functions','Subscription','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','Object\x20store\x20not\x20synced.','removeSubscription','graphService','videoHeight','getPartsForSubscriptionLabel','replaceTrack','connectionPool','Internal\x20SDK\x20Error:\x20','handleUserJoin','api','captureStream','return\x20this','syncTimeout','debugEnabled','setSenderTimestamp','max','handleRemediationSystemEvents','connection','isFeatureSupported','decodeJWT','Media','processRank','getTrackFromParam','pendingFilesTransactions','Problem\x20detected:\x20','handleUserLeave','handleDetectionSystemEvents','closeConnection','KeyValueDatabaseCreationFailed','replace','subscription','options','remoteUnsubscriber','messageUnsubscriber','update','clusters/','.crewdle-transactions','messagesSent','st_volatility','ConnectionState','PubSub','isSubscribed','remediations','\x27\x20to\x20','findNextUserId','deleteTable','clusterEventEmitter','instantiateTransactionTable','getLayout','validateLayout','ObjectStoreAlreadyExists','listener','handleNodeDisconnect','amd','recipients','unregisterSource','clockSkew','client','leave','joinedClusters','digest','splice','subscription-request-failed','every','transformations','AudioOutput','getAuth','isIceCandidate','default','scheduleTime','invalid-subscription','getRemoteMediaStream','resolutionScale','getSubscriptionLabel','Waiting','cpu.cycle','retryCount','handleFolderCreate','Invalid\x20query','getConfigs','peer-connection-invalid-destination','dataUnsubscribers','handshakeState','registerDestination','clearRestartTimeout','onloadeddata','value','Early\x20return','startTime','No\x20global\x20object\x20found','KeyValueDatabaseNotOpen','videoWidth','publishUserJoin','random','getCurrentMaxLayer','connectionManager','Object\x20store\x20is\x20not\x20in\x20sync','getSupportedContentTypes','CloseMediaStream','User\x20already\x20exists.','logConnectionState','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','email','createMediaStreamDestination','getContentType','Cannot\x20unpublish\x20object:\x20','start','initializeSystemTopic','keyPath','KeyValueDatabaseAlreadyExists','ObjectStoreNameNotString','removeIncomingSubscription','logServiceEvent','writeFile','receivers','handleHandshake','removeConnection','sendRequest','setVendorId','SubscriptionRequestNoAnswer','onload','outgoingManager','where','Disconnected','Subscription\x20request\x20failed.','key-value-database-transaction-value-not-set','List','pendingFilesSyncing','join-cluster','handleOffer','iceConnectionState\x20failed','answers','handleContentSystemEvents','isMediaSource','interval','handshakeDebounce','getConnectionDestinations','Local\x20user\x20rank\x20is\x20not\x20set','isConnected','RemoteMediaStreamMissingProviderId','aws','AudioVolume','Store\x20already\x20exists','contentManager','clear','object-store-already-subscribed','checkMediaRecording','totalEncodeTime','checkDeviceConfig','FramePerSecond','processPendingHandshakeCandidates','senderBitrate','UnpublishMediaStream','https://crewdle-sdk-default-rtdb.firebaseio.com','removeTrackListeners','RemoteRemediation','dbKey','ref','eventTarget','iceServers','senderPreviousTimestamp','clearRect','startHeartbeat','collectStats','NodeManager\x20-\x20ConnectionSuccess','processInboundReports','pop','Optimization','transactionIds','Connection\x20not\x20connected.','nodeKey','getObjectStoreBuckets','KeyValueDatabaseInvalidLayout','createPendingFileWrite','writeTransaction','buildQuery','timestamp','error','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','setRemoteConnections','handleUserUpdate','topics','upgrade','subscribe','PubSubTopic\x20publish','getSTVolatility','Invalid\x20render\x20element','Update','getNextTargetRank','type','tail','extendedRecipients','handleSubscribeMediaStream','RequestFileSync','writes','connection-not-initialized','crewdle-sdk.appspot.com','pool','MediaStreamUnavailable','waitSuccess','Invalid\x20table\x20name\x20\x27','getVideoTracks','unregisterCluster','Missing\x20answerer\x20id\x20on\x20request\x20answer','createElement','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','Cannot\x20write\x20transaction.','getBitrate','object-store-invalid-payload','maxBpp','senderStreams','UserDoesNotExist','addMessage','completed','getRoundTripTime','SubscribeMediaStream','addDoc','frameWidth','crewdle-sdk','setupStatsCollection','discover','clientHeight','object-store-invalid-path','bufferedAmountLowThreshold','processReport','InvalidSubscriber','sendStats','RemoteAdd','auth','getOwnerId','lastRemediations','buildTableEvent','checkAudioContext','Support:\x20current\x20config','bytesReceived','removeEventListener','getReceiverBitrate','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','Bitrate','AudioContext\x20is\x20not\x20available','messageListeners','setRemoteUser','Subscription\x20request\x20has\x20not\x20been\x20answered.','developers/','createConstantSource','ObjectStoreStats','lastTransactionId','AudioVideoDelay','shouldProcessTransaction','ranges','request-file','codes','clientStream','debounceProcessRank','distance','NodeManager\x20-\x20UserUpdate','handleRemoteTrackFailure','\x27\x20in\x20table\x20\x27','dataChannel','getOrResetPendingFileTimeout','KeyValueDatabaseNameNotString','getFileHandle','handleOnMessage','337710BmDCQl','UpdateMediaStream','getReport','handleSubscriptionMediaStreamUnavailable','unregisterDestination','getRemoteUser','oncloseTimeout','2-digit','getEmail','syncTransactions','KeyValueDatabaseTableNameReserved','kind','UserUpdate','addEventListener','ancestors','onHandshakeStateChange','AudioContext','cost','readAsArrayBuffer','\x20-\x20','previous','upgradeTimeout','content','getKeyValueDatabases','statsCollection','File','onCandidate','gatheringState','ConnectionInvalidDataEvent','handleFileSync','subscriptionRequests','Invalid\x20publisher.','PubSubTopicAlreadySubscribed','database','processReports','messages','unregisterRemoteUser','handleAnswer','arrayBufferToObject','handleContentUpdateMediaStream','retryQueue','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','Received\x20track','peerConnectionConnector','framesEncoded','connector','createObjectStoreBucket','1:420235181083:web:4eff6062bd845cb0748cbe','InvalidPublisher','RequestFile','signInWithCredential','Folder','maxDistance','getConnections','connectionStateListener','disableIntervalHack','ObjectStoreInvalidPath','event','canAddCandidates','RequestFileWrite','signInWithCustomToken','between','track','detectionManager','publishFile','unregisterSubscriber','FPS','cluster-disconnect','user-leave','getMediaSubscription','OptimizationConnectionSuccess','sender','filter','findIndex','MissingRemoteConnection','ConnectionNotConnected','Local\x20MediaStream\x20already\x20exists','key-value-database-name-not-string','checkSyncComplete','handleSystemEvents','observe','getConnectionGroup','createMediaStreamSource','onDataChannel','ClosePubSubTopic','concat','previousBytes','lastUpdated','createRemoteMediaStream','maxFramerate','setItem','handleError','Remove','loggingConnectors','fromEntries','CrewdleConnectionGroup','sendChunked','subscriptionRequestsQueue','handleSuccess','autoplay','calculateSize','mute','limit','InvalidSubscription','handleContentUnsubscribeMediaStream','handlePeerConnectionSystemEvents','getPubSubTopics','subtle','Support:\x20','getId','connectionType','processSenderReport','getShareableStream','publishSystemMessage','clearWaitAnswer','setupRenderElement','unregisterSystemPublisher','createKeyValueDatabase','localUser','unpublish','syncResolve','All\x20recipients\x20already\x20received','currentFrames','cleanOldSubscription','Invalid\x20resolution','crewdleSDKDisableLogging','catch','transactions','folder-create','createLocalMediaStream','keyvaluedatabase','.info/connected','key','jitter','nodeManager','KeyValueDatabaseInvalidQuery','unsubscribe','tableName','createIndex','Invalid\x20subscription.','Receiver\x20connection\x20is\x20not\x20initialized.','Resolution','dataTopics','PubSubTopicAlreadyExists','receiverTimeProcessing','handleContentCloseKeyValueDatabase','initialize','muted','action','createOffer','clearUpgradeTimeout','objectStoreConnector','subscription-request-in-progress','getHash','RemoteConnectionExists','Incoming','createDataChannel','incomingManager','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','parameters','Method\x20not\x20implemented.','Receiving\x20\x27','secheduleTime','OPFSObjectStoreConnector','logSupport','callback','hasMessage','sendAction','CloseKeyValueDatabase','removeTrackCallback','addAudioTrack','sendIceCandidates','Issue\x20detected:\x20','object-store-not-in-sync','removeRemoteConnection','signalingServer','setPriority','direction','Key-value\x20database\x20creation\x20failed.','user-join','disconnected','requestSubscriptionAction','issues','handleTransactionPayload','debug','Failed\x20to\x20create\x20key\x20value\x20database','packetsLost','crewdle-sdk-stg.firebaseapp.com','addRemoteConnection','pubSubTopics','publishLocalMediaStream','818643djZBLP','getTransactionFromTableWriteEvent','clearWaitSuccess','processOutboundReports','getLastUpdated','checkBackgrounds','moveObject','Subscription\x20request\x20does\x20not\x20exist.','hasTracks','local-stream-does-not-exist','Data\x20cluster\x20is\x20not\x20open.','pub-sub-topic-name-not-string','request','LocalMediaStreamTrackFail','handleOptimizationConnectionSuccess','request-accepted','objectToArrayBuffer','decode','getOutgoingOptimizationConnections','crewdle-sdk-stg.appspot.com','RoundTripTime','nextUserId','getApp','onerror','UserLeave','frameHeight','pendingSyncTransactions','getPriority','ccc','reset','UserConnectionsUpdate','key-value-database-already-exists','receiverStreams','eventEmitter','getPartsFromSubscription','logStorage','setOnDisconnectHandler','registerSystemSource','getCurrentVersion','queues','KeyValueDatabaseInvalidValue','tracks','setDisplayName','srcObject','publishMove','unsubscribeHandler','Stream\x20does\x20not\x20exist','inactive','remediationManager','count','publishLocalDynamicMediaStream','join','trackKinds','shift','handleNodeSystemEvents','tables','number','publishUserUpdate','reject','addVideoTrack','joinCluster','receiverUnsubscribers','vendorId','endpoint','streams','timePerFrame','Invalid\x20subscriber.','FileDelete','deleteObject','onProviderChanged','handleSubscriptionNeedMediaStream','handleContentUnpublishMediaStream','closeTopic','version','connect','getMediaStream','getEstimatedTimestamp','onTrack','logPropagateSystemEvent','updateUser','/stats','Jitter','/transactions','SyncComplete','createLocalDynamicMediaStream','topicLabel','handleProblem','removeRemoteUser','objectStores','setDurationTime','handleContentCloseObjectStore','senders','getChannelData','handleDisconnect','/transactions/','Invalid\x20data\x20chan_NO_RENAMEENAl.','graphql','clearOncloseTimeout','features','maxThreshold','InternalSDKError','durationTime','PubSubTopicStats','getMinConnections','authContext','validateQuery','Everyone\x20','minResolutionScale','emit','notifyJoin','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','clusterId','Restart\x20NeedMediaStream','boolean','deleteIndex','off','removeTopic','av_delay','handleIceCandidates','feature-not-enabled','true','remote-media-stream-already-exists','collectReceiversStats','send','mediaUnsubscribers','element','query','parse','System','load','unregisterPublisher','sourceId','0.1.0','committed','warn','media-stream','processOutboundReport','registerPublisher','everyone','heartbeatUnsubscriber','compareTransactions','maxLayer','processPendingSyncTransactions','getRemoteConnections','peer-connection','outgoingTopic','RemoteMediaStreamAlreadyExists','createTopic','connecting','AppSync\x20publish','providerListener','cpu.time_per_frame','isMediaDestination','undefined','subscribedTracks','remote-stream-missing-provider-id','SystemStats','firestore','object-storage','app','setScheduleTime','Medium','ConnectionNotinitialized','size','exports','Valid\x20layout','previousTimestamp','Stats:\x20report','transaction','chunks','orchestrator','all','findNextAncestor','handleFileRequestAnswer','UserJoin','KeyValueDatabase','appsync-no-destination','audioSource','file-delete','CrewdleReceiverConnection\x20ontrack','connection-no-retry-queue','getConnection','problemType','system-stats','retryCallback','updateLastUpdated','handleObjectMove','contentRect','displayName','detection','FileMove','startsWith','Outgoing','registerSubscriber','local-media-stream-track-fail','getSettings','getEnabledChannels','log','floor','sampleRate','trackCallback','Get','removeSubscriptionsForUser','LocalMediaStreamDoesNotExist','handleSubscriptionRestartNeedMediaStream','createBuffer','User\x20not\x20signed\x20in','setDoc','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','chooseAnswer','CanProvideMediaStream','maps','string','processTransactionPayload','northamerica-northeast1','cpu.av_delay','signaling','failed','outgoingStreams','setupStatsReporting','users','incrementVersion','getFunctions','total','NeedRestart','SubscriptionRequestFailed','Node','KeyValueDatabaseTransactionTableNotInitialized','userId','getAudioTracks','ScreenSharing','key-value-database-table-does-not-exist','TimePerFrame','supportsContentType','Cannot\x20list\x20directory:\x20','handleCloseKeyValueDatabase','waitSendBuffer','setupTrackEndedListeners','play','Cannot\x20publish\x20folder:\x20','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','ObjectStoreCannotWriteTransaction','receiverTotalMessages','canChooseAnswer','logRaw','applyRemediation','registerSource','restartTimeout','4315576JIHaEa','isWhereValues','handleChunkMessage','sdk-internal-error:\x20','frameTime','val','tableObserver','getRemoteUsers','UserNotAuthenticated','Disconnect','Sender\x20connection\x20is\x20not\x20initialized.','logEvent','initializeApp','key-value-database-does-not-exist','isProduction','missing-system-topic','user-publish-media','syncKeyValueDatabase','handleNeedRestart','enumerateDevices','sendFile','connectionConstructor','PeerConnection','unregisterSystemSource','RemoteMediaStreamDoesNotExist','indexOf','ObjectStoreInvalidSyncMessage','mediator','slice','pubsub','dispatchEvent','CPUCycle','user','data','createGain','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','LoggingService:\x20logging\x20enabled\x20for','ConnectionNoRetryQueue','RemoteMediaStreamTrackFail','disconnect','systemMessagesReceived','eventListener','WebRTC','resume','reads','remediation','ObjectStoreDoesNotExist','clientWidth','from','Restart','handleFileRequest','getTotalBytes','fileChunks','getSubscribedTracks','exists','object','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','onValue','notifyClusterUserJoin','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','values','getTable','clearConnectionTimeout','Invalid\x20key\x20\x27','RequestSyncKeyValueDatabase','setStatus','query-helper-invalid-argument','subscription-request-does-not-exist','processTransactionsDump','listenerUnsubscribers','\x20not\x20supported','senderCurrentBytes','\x20with\x20\x27','Database\x20already\x20exists','getConnectionType','Amplify','DTVolatility','\x20already\x20exists','en-US','forEach','video','match','addTrack','openKeyValueDatabase','Database\x20does\x20not\x20exist','Missing\x20owner\x20user\x20or\x20rank','token','byteLength','updateLastTransactionId','trackEndedListeners','handleOutgoingSystemEvents','cluster','checksum','remoteId','currentVersion','SystemTopic\x20publish','uuid','Invalid\x20value.\x20Property\x20\x27','handshakeCandidates','AppSync\x20subscribe','unregisterPublisherListener','onGatheringStateChange','call','crewdle-sdk-stg','ownerId','defineProperty','messagesReceived','crewdleSDKLoggingChannels','No\x20destinationIds\x20left','priority','checkAudioOutput','currentBytes','split','messageCallback','removePubSubTopic','httpsCallable','pendingHandshakeCandidates','object-store-not-synced','setProviderId','authenticateUser','width','DEBUG\x20-\x20','getMaxConnections','/nodes/','removeObjectStore','local-media-stream-already-exists','remove','Cluster\x20\x27','removeOutgoingSubscription','destinationIds','targetId','detail','subscriptionManager','WebRTCBrowserPeerConnectionConnector','requestSubscription','onMessage','splitParts','Cannot\x20create\x20remote\x20user:\x20User\x20already\x20exists:\x20','Signaling','keyValueDatabaseConnector','successNotified','setSubscriptionRequestTimeout','globalObject','user-unpublish-media','loadEnabledClusters','currentTimestamp','Invalid\x20where\x20clause','pathName','min','remote-stream-does-not-exist','handleSubscriptionProvideMediaStream','ConnectedPendingKeepAlive','isReconnecting','connectionGroup','mediaDevices','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','resolution','filteredDestinationIds','receiverPreviousBytes','getLocalMediaStream','handleMissingSenders','getRemoteMediaStreams','source','bufferEvent','setConnectionType','Receiver','sendFileRequestPayload','messageBuffer','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','newPath','createTable','getIdToken','onUnregisterPublisher','startNoThrottlingHack','processServiceReport','DeviceConfig','sync','waitAnswer','serverTimestamp','chunk','FolderDelete','Missing\x20transaction\x20id','getInternalTrackParams','\x20check\x20failed','ObjectStorage','height','CannotProvideMediaStream','stopConnection','isInternalLoggingConnector','5DzxnEc','getMaxDistance','statsReporting','SendTransactionsDump','Success','file-write','syncTransactionsWritten','disconnectCallback','remote-media-stream-invalid-subscription-params','file','MediaStream\x20feature\x20not\x20enabled','handleSubscriptionSubscribeMediaStream','createOutgoingSubscription','threshold'];a0_0x4dcf=function(){return _0x48b6d9;};return a0_0x4dcf();}function a0_0x3776(_0x15b859,_0xd392d){const _0x4dcfa1=a0_0x4dcf();return a0_0x3776=function(_0x377623,_0x1d4c49){_0x377623=_0x377623-0x99;let _0x1226c7=_0x4dcfa1[_0x377623];return _0x1226c7;},a0_0x3776(_0x15b859,_0xd392d);}(function(_0x4a58b2,_0x6b58fa){const _0x2b76da=a0_0x3776,_0x570164=_0x4a58b2();while(!![]){try{const _0x5c63fa=parseInt(_0x2b76da(0x5cc))/0x1*(-parseInt(_0x2b76da(0x358))/0x2)+parseInt(_0x2b76da(0x5db))/0x3+parseInt(_0x2b76da(0x187))/0x4+parseInt(_0x2b76da(0x5e0))/0x5+-parseInt(_0x2b76da(0x1be))/0x6*(parseInt(_0x2b76da(0x417))/0x7)+parseInt(_0x2b76da(0x50f))/0x8+parseInt(_0x2b76da(0x236))/0x9;if(_0x5c63fa===_0x6b58fa)break;else _0x570164['push'](_0x570164['shift']());}catch(_0x5d7fda){_0x570164['push'](_0x570164['shift']());}}}(a0_0x4dcf,0x8ea71),!function(_0x49df2e,_0x2a8200){const _0x3332ce=a0_0x3776;if('object'==typeof exports&&_0x3332ce(0x546)==typeof module)module[_0x3332ce(0x4bb)]=_0x2a8200();else{if(_0x3332ce(0x603)==typeof define&&define[_0x3332ce(0x286)])define([],_0x2a8200);else{var _0x34ae5e=_0x2a8200();for(var _0x2d9e58 in _0x34ae5e)('object'==typeof exports?exports:_0x49df2e)[_0x2d9e58]=_0x34ae5e[_0x2d9e58];}}}(this,()=>((()=>{'use strict';const _0x128927=a0_0x3776;var _0x2e22fa={0x14d:(_0x35bb99,_0x21a04d,_0xc4f1a5)=>{const _0x49b36e=a0_0x3776;_0xc4f1a5['d'](_0x21a04d,{'O':()=>_0x2c1823});const _0x2c1823={'version':_0x49b36e(0x49b),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x49b36e(0x485),'authDomain':_0x49b36e(0x413),'databaseURL':_0x49b36e(0x630),'projectId':_0x49b36e(0x576),'storageBucket':_0x49b36e(0x42a),'appId':_0x49b36e(0xbc),'functionsRegion':_0x49b36e(0x4ed)},'aws':{'endpoint':_0x49b36e(0x22b),'region':_0x49b36e(0x215)}};},0x33b:(_0x554a93,_0x3a5c20,_0x47de87)=>{_0x47de87['d'](_0x3a5c20,{'O':()=>_0x4e2420});const _0x4e2420={};},0x3e6:(_0x8c89ba,_0x57ecf0,_0x4cc0f6)=>{const _0x55290c=a0_0x3776;_0x4cc0f6['d'](_0x57ecf0,{'O':()=>_0x116d99});const _0x116d99={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x55290c(0x31e),'authDomain':_0x55290c(0xdf),'databaseURL':_0x55290c(0x2ea),'projectId':_0x55290c(0x32b),'storageBucket':_0x55290c(0x315),'messagingSenderId':'420235181083','appId':_0x55290c(0x387),'measurementId':'G-F7W8KXRKQB'},'aws':{'endpoint':_0x55290c(0xaf),'region':'us-east-1'}};},0x20:(_0x49c6bf,_0x8446e5,_0x275a2e)=>{_0x275a2e['d'](_0x8446e5,{'O':()=>_0x17f856});const _0x17f856={};}},_0x46e4ff={};function _0x418e3a(_0x269861){const _0x5e2d69=a0_0x3776;var _0x21c747=_0x46e4ff[_0x269861];if(void 0x0!==_0x21c747)return _0x21c747['exports'];var _0x23a78f=_0x46e4ff[_0x269861]={'exports':{}};return _0x2e22fa[_0x269861](_0x23a78f,_0x23a78f['exports'],_0x418e3a),_0x23a78f[_0x5e2d69(0x4bb)];}_0x418e3a['d']=(_0x15bfba,_0x137a5e)=>{const _0x239a21=a0_0x3776;for(var _0x38bcef in _0x137a5e)_0x418e3a['o'](_0x137a5e,_0x38bcef)&&!_0x418e3a['o'](_0x15bfba,_0x38bcef)&&Object[_0x239a21(0x578)](_0x15bfba,_0x38bcef,{'enumerable':!0x0,'get':_0x137a5e[_0x38bcef]});},_0x418e3a['g']=(function(){const _0x2204f1=a0_0x3776;if(_0x2204f1(0x546)==typeof globalThis)return globalThis;try{return this||new Function(_0x2204f1(0x25c))();}catch(_0x390eaf){if(_0x2204f1(0x546)==typeof window)return window;}}()),_0x418e3a['o']=(_0x16dff5,_0x328398)=>Object[_0x128927(0xd8)][_0x128927(0x141)][_0x128927(0x575)](_0x16dff5,_0x328398),_0x418e3a['r']=_0xf54194=>{const _0x2ff99f=_0x128927;_0x2ff99f(0x4b0)!=typeof Symbol&&Symbol[_0x2ff99f(0x1fa)]&&Object[_0x2ff99f(0x578)](_0xf54194,Symbol[_0x2ff99f(0x1fa)],{'value':_0x2ff99f(0x5f6)}),Object[_0x2ff99f(0x578)](_0xf54194,'__esModule',{'value':!0x0});};var _0x3a3ede={};return((()=>{const _0x23d54f=_0x128927;var _0x4e9a7a,_0x447f5e,_0x430985,_0x51f467,_0x522ceb,_0x49643d,_0x1924e7,_0x713fdd,_0x4edace;_0x418e3a['r'](_0x3a3ede),_0x418e3a['d'](_0x3a3ede,{'ContentType':()=>_0x49643d,'DatabaseEvent':()=>_0x51f467,'KeyValueDatabase':()=>_0x5e6aeb,'LayoutBuilder':()=>_0x2f474e,'LoggingChannels':()=>_0x4edace,'MediaStreamPriority':()=>_0x1924e7,'ObjectKind':()=>_0x4e9a7a,'PayloadAction':()=>_0x447f5e,'QueryBuilder':()=>_0x18d827,'SDK':()=>_0x2478dc,'SDKClientErrorCodes':()=>_0x522ceb,'StorageEventType':()=>_0x430985,'logger':()=>_0x2bad5b}),function(_0x1c4ee3){const _0x36dc98=a0_0x3776;_0x1c4ee3['File']=_0x36dc98(0x5d5),_0x1c4ee3[_0x36dc98(0x38b)]=_0x36dc98(0xcf);}(_0x4e9a7a||(_0x4e9a7a={})),function(_0x6e3776){const _0xe23951=a0_0x3776;_0x6e3776['File']='file',_0x6e3776[_0xe23951(0x38b)]=_0xe23951(0xcf),_0x6e3776[_0xe23951(0x233)]=_0xe23951(0x1d3);}(_0x447f5e||(_0x447f5e={})),function(_0x30ea8d){const _0x1ed958=a0_0x3776;_0x30ea8d['FileWrite']=_0x1ed958(0x5d1),_0x30ea8d[_0x1ed958(0x45a)]=_0x1ed958(0x4c9),_0x30ea8d[_0x1ed958(0x4d5)]='file-move',_0x30ea8d[_0x1ed958(0x616)]=_0x1ed958(0x3d8),_0x30ea8d['FolderDelete']='folder-delete',_0x30ea8d[_0x1ed958(0x10c)]=_0x1ed958(0x243);}(_0x430985||(_0x430985={})),function(_0xcc248c){const _0x198dbb=a0_0x3776;_0xcc248c['SyncComplete']=_0x198dbb(0xb1);}(_0x51f467||(_0x51f467={})),function(_0x5265bb){const _0x2eef82=a0_0x3776;_0x5265bb[_0x2eef82(0x165)]=_0x2eef82(0x48e),_0x5265bb[_0x2eef82(0x283)]=_0x2eef82(0x22d),_0x5265bb[_0x2eef82(0x18b)]=_0x2eef82(0x2e2),_0x5265bb[_0x2eef82(0x53d)]=_0x2eef82(0x5e5),_0x5265bb['ObjectStoreNameNotString']='object-store-name-not-string',_0x5265bb['ObjectStoreInvalidPayload']=_0x2eef82(0x321),_0x5265bb[_0x2eef82(0x390)]=_0x2eef82(0x32f),_0x5265bb[_0x2eef82(0x177)]=_0x2eef82(0x405),_0x5265bb[_0x2eef82(0x47b)]=_0x2eef82(0x150),_0x5265bb[_0x2eef82(0x2be)]=_0x2eef82(0x436),_0x5265bb[_0x2eef82(0xeb)]=_0x2eef82(0x51c),_0x5265bb['KeyValueDatabaseIndexNotFound']='key-value-database-index-not-found',_0x5265bb[_0x2eef82(0x3df)]=_0x2eef82(0x15d),_0x5265bb['KeyValueDatabaseInvalidValue']=_0x2eef82(0x1d0),_0x5265bb['KeyValueDatabaseNameNotString']=_0x2eef82(0x3a5),_0x5265bb[_0x2eef82(0x2ab)]=_0x2eef82(0x217),_0x5265bb['KeyValueDatabaseTableNameReserved']=_0x2eef82(0x63e),_0x5265bb[_0x2eef82(0x1fe)]=_0x2eef82(0x5fb),_0x5265bb[_0x2eef82(0x2fd)]=_0x2eef82(0xed),_0x5265bb[_0x2eef82(0x206)]=_0x2eef82(0x58c),_0x5265bb[_0x2eef82(0x18d)]='local-media-stream-no-audio-context',_0x5265bb[_0x2eef82(0x3e7)]='pub-sub-topic-already-exists',_0x5265bb[_0x2eef82(0x636)]=_0x2eef82(0x1c1),_0x5265bb['PubSubTopicNameNotString']=_0x2eef82(0x422),_0x5265bb[_0x2eef82(0x378)]=_0x2eef82(0x16b),_0x5265bb[_0x2eef82(0x12d)]=_0x2eef82(0x551),_0x5265bb[_0x2eef82(0x4a9)]=_0x2eef82(0x490),_0x5265bb[_0x2eef82(0x1ac)]=_0x2eef82(0x5d4),_0x5265bb[_0x2eef82(0x62b)]=_0x2eef82(0x3f0),_0x5265bb[_0x2eef82(0x517)]='user-not-authenticated';}(_0x522ceb||(_0x522ceb={}));class _0x4f208b extends Error{[_0x23d54f(0x16d)];constructor(_0xa9905c,_0x299c0a){const _0x4bb5cc=_0x23d54f;super(_0x299c0a),this[_0x4bb5cc(0x16d)]=_0xa9905c;}}function _0x297c23(_0x3b4430){const _0x365955=_0x23d54f;if(!_0x3b4430)throw new _0x4f208b(_0x522ceb[_0x365955(0x1ac)],_0x365955(0x118));if(_0x365955(0x546)!=typeof _0x3b4430)throw new _0x4f208b(_0x522ceb['RemoteMediaStreamInvalidSubscriptionParams'],_0x365955(0x118));const _0x5d5266=_0x3b4430;if(_0x5d5266[_0x365955(0x55f)]&&_0x365955(0x488)!=typeof _0x5d5266[_0x365955(0x55f)]){if(_0x5d5266['video'][_0x365955(0x123)]&&('number'!=typeof _0x5d5266[_0x365955(0x55f)][_0x365955(0x123)][_0x365955(0x587)]||_0x365955(0x44f)!=typeof _0x5d5266[_0x365955(0x55f)][_0x365955(0x123)]['height']))throw new _0x4f208b(_0x522ceb['RemoteMediaStreamInvalidSubscriptionParams'],_0x365955(0x3d4));if(_0x5d5266[_0x365955(0x55f)][_0x365955(0xfd)]&&!(_0x5d5266[_0x365955(0x55f)][_0x365955(0xfd)]instanceof HTMLVideoElement))throw new _0x4f208b(_0x522ceb[_0x365955(0x1ac)],_0x365955(0x30b));}return!0x0;}!function(_0x3825b5){const _0x34e1e6=_0x23d54f;_0x3825b5[_0x34e1e6(0x604)]='data',_0x3825b5[_0x34e1e6(0x265)]=_0x34e1e6(0x129),_0x3825b5[_0x34e1e6(0x371)]='file',_0x3825b5['PubSub']=_0x34e1e6(0x52c),_0x3825b5['ObjectStore']='objectstore',_0x3825b5[_0x34e1e6(0x4c6)]=_0x34e1e6(0x3da);}(_0x49643d||(_0x49643d={})),function(_0x39d843){const _0x29b739=_0x23d54f;_0x39d843[_0x39d843[_0x29b739(0x1db)]=0x1]='High',_0x39d843[_0x39d843['Default']=0x2]=_0x29b739(0x63d),_0x39d843[_0x39d843['Low']=0x3]=_0x29b739(0x1bc);}(_0x1924e7||(_0x1924e7={})),function(_0x641769){const _0x4dd542=_0x23d54f;_0x641769[_0x4dd542(0x279)]='pubsub',_0x641769[_0x4dd542(0x5c7)]=_0x4dd542(0x4b5),_0x641769['KeyValueDatabase']=_0x4dd542(0xee),_0x641769['MediaStream']=_0x4dd542(0x49e);}(_0x713fdd||(_0x713fdd={})),function(_0x36c2c9){const _0x58c51c=_0x23d54f;_0x36c2c9[_0x58c51c(0x1c7)]=_0x58c51c(0x4c2),_0x36c2c9[_0x58c51c(0x63d)]=_0x58c51c(0x295),_0x36c2c9[_0x58c51c(0xe9)]=_0x58c51c(0x262),_0x36c2c9[_0x58c51c(0x278)]=_0x58c51c(0x1e0),_0x36c2c9[_0x58c51c(0x232)]=_0x58c51c(0x56a),_0x36c2c9['Content']=_0x58c51c(0x36e),_0x36c2c9[_0x58c51c(0x186)]=_0x58c51c(0x4d4),_0x36c2c9['Events']='events',_0x36c2c9[_0x58c51c(0x210)]=_0x58c51c(0x302),_0x36c2c9[_0x58c51c(0x4f9)]=_0x58c51c(0x17b),_0x36c2c9[_0x58c51c(0xea)]=_0x58c51c(0x316),_0x36c2c9[_0x58c51c(0x279)]=_0x58c51c(0x52c),_0x36c2c9['Remediation']='remediation',_0x36c2c9[_0x58c51c(0x599)]=_0x58c51c(0x4ef),_0x36c2c9[_0x58c51c(0x627)]=_0x58c51c(0x21c),_0x36c2c9['Subscription']='subscription',_0x36c2c9[_0x58c51c(0x20d)]=_0x58c51c(0xd0),_0x36c2c9['System']=_0x58c51c(0x11a),_0x36c2c9[_0x58c51c(0x4b3)]=_0x58c51c(0x4ce),_0x36c2c9[_0x58c51c(0xe3)]='test-page',_0x36c2c9[_0x58c51c(0x525)]=_0x58c51c(0x4a7);}(_0x4edace||(_0x4edace={}));class _0x18d827{[_0x23d54f(0x495)];constructor(_0x35dd84){const _0x7aec2d=_0x23d54f;this[_0x7aec2d(0x495)]={'orderBy':{'key':_0x35dd84,'direction':_0x7aec2d(0x5da)}};}static['index'](_0xc6da41){const _0x5b84e5=_0x23d54f;if(_0x5b84e5(0x4eb)!=typeof _0xc6da41||0x0===_0xc6da41[_0x5b84e5(0xa9)])throw new _0x4f208b(_0x522ceb['QueryBuilderInvalidArgument'],_0x5b84e5(0x5ff));return new _0x18d827(_0xc6da41);}static[_0x23d54f(0x480)](_0x529612){const _0x54823f=_0x23d54f;try{return _0x18d827[_0x54823f(0x300)](_0x529612),!0x0;}catch(_0x45079e){return!0x1;}}static['buildQuery'](_0x3467e6){const _0x376bb8=_0x23d54f,_0x2c446c=_0x18d827[_0x376bb8(0x1e3)](_0x3467e6['orderBy']?.[_0x376bb8(0x3dc)]??_0x3467e6['where']?.[_0x376bb8(0x3dc)]??'');if(_0x3467e6['where']){const _0x37d56d=_0x3467e6['where'];if((_0x18d827[_0x376bb8(0x21d)](_0x37d56d)||_0x18d827['isWhereValues'](_0x37d56d)||_0x18d827[_0x376bb8(0x625)](_0x37d56d))&&_0x2c446c['where'](_0x37d56d[_0x376bb8(0x1d1)],_0x37d56d['value']),_0x3467e6[_0x376bb8(0x61b)]?.['key']&&_0x3467e6['orderBy']?.['key']!==_0x3467e6[_0x376bb8(0x2cb)][_0x376bb8(0x3dc)])throw new _0x4f208b(_0x522ceb[_0x376bb8(0x12d)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x3467e6[_0x376bb8(0x61b)]&&_0x2c446c[_0x376bb8(0x61b)](_0x3467e6[_0x376bb8(0x61b)][_0x376bb8(0x409)]),_0x3467e6['limit']&&_0x2c446c[_0x376bb8(0x3be)](_0x3467e6[_0x376bb8(0x3be)]),_0x3467e6[_0x376bb8(0xcd)]&&_0x2c446c[_0x376bb8(0xcd)](_0x3467e6[_0x376bb8(0xcd)]),_0x2c446c;}[_0x23d54f(0x144)](){const _0x39e6dd=_0x23d54f;return{...this[_0x39e6dd(0x495)]};}['where'](_0x79e8a2,_0x1ad601){const _0x55b397=_0x23d54f,_0x5cdb09={'key':this[_0x55b397(0x495)][_0x55b397(0x61b)][_0x55b397(0x3dc)],'operator':_0x79e8a2,'value':_0x1ad601};if(!_0x18d827[_0x55b397(0x21d)](_0x5cdb09)&&!_0x18d827[_0x55b397(0x510)](_0x5cdb09)&&!_0x18d827['isWhereBetween'](_0x5cdb09))throw new _0x4f208b(_0x522ceb[_0x55b397(0x12d)],_0x55b397(0x5a1));return this[_0x55b397(0x495)][_0x55b397(0x2cb)]=_0x5cdb09,this;}[_0x23d54f(0x61b)](_0x23197e){const _0x3ebc30=_0x23d54f;if(_0x3ebc30(0x5da)!==_0x23197e&&'desc'!==_0x23197e)throw new _0x4f208b(_0x522ceb[_0x3ebc30(0x12d)],_0x3ebc30(0x33e));return this[_0x3ebc30(0x495)][_0x3ebc30(0x61b)][_0x3ebc30(0x409)]=_0x23197e,this;}[_0x23d54f(0x3be)](_0x356336){const _0x3be024=_0x23d54f;if(_0x3be024(0x44f)!=typeof _0x356336||_0x356336<0x0)throw new _0x4f208b(_0x522ceb[_0x3be024(0x12d)],_0x3be024(0x547));return this[_0x3be024(0x495)][_0x3be024(0x3be)]=_0x356336,this;}[_0x23d54f(0xcd)](_0x122e11){const _0x43f65f=_0x23d54f;if(_0x43f65f(0x44f)!=typeof _0x122e11||_0x122e11<0x0)throw new _0x4f208b(_0x522ceb['QueryBuilderInvalidArgument'],_0x43f65f(0x3f6));return this[_0x43f65f(0x495)][_0x43f65f(0xcd)]=_0x122e11,this;}static[_0x23d54f(0x21d)](_0x321563){const _0xd2cddb=_0x23d54f;if(!(_0x321563&&_0xd2cddb(0x546)==typeof _0x321563&&_0xd2cddb(0x1d1)in _0x321563&&_0xd2cddb(0x2a7)in _0x321563))return!0x1;const {operator:_0x5aac0e,value:_0x1d7872}=_0x321563;return!(!['==','!=','>','<','<=','>='][_0xd2cddb(0xc6)](_0x5aac0e)||Array['isArray'](_0x1d7872));}static['isWhereValues'](_0x4ad45e){const _0x2af2af=_0x23d54f;if(!(_0x4ad45e&&'object'==typeof _0x4ad45e&&_0x2af2af(0x1d1)in _0x4ad45e&&_0x2af2af(0x2a7)in _0x4ad45e))return!0x1;const {operator:_0x17eaf0,value:_0xff5e1c}=_0x4ad45e;return!(!['in',_0x2af2af(0x1ad)][_0x2af2af(0xc6)](_0x17eaf0)||!Array[_0x2af2af(0x104)](_0xff5e1c));}static[_0x23d54f(0x625)](_0x3c17fd){const _0x4b69d7=_0x23d54f;if(!(_0x3c17fd&&_0x4b69d7(0x546)==typeof _0x3c17fd&&_0x4b69d7(0x1d1)in _0x3c17fd&&_0x4b69d7(0x2a7)in _0x3c17fd))return!0x1;const {operator:_0x20a2fc,value:_0x16b612}=_0x3c17fd;return!(_0x4b69d7(0x395)!==_0x20a2fc||!Array[_0x4b69d7(0x104)](_0x16b612)||0x2!==_0x16b612[_0x4b69d7(0xa9)]);}}class _0x2f474e{[_0x23d54f(0x1da)];constructor(_0x27de94){const _0x2e3b71=_0x23d54f;this[_0x2e3b71(0x1da)]={'tables':{},'version':_0x27de94};}static[_0x23d54f(0x282)](_0x3009c0){const _0x1a9d16=_0x23d54f;for(const _0x55f2b9 in _0x3009c0){if(_0x1a9d16(0x460)!==_0x55f2b9&&_0x1a9d16(0x44e)!==_0x55f2b9)return[!0x1,_0x1a9d16(0x54e)+_0x55f2b9+_0x1a9d16(0xd1)];if('tables'===_0x55f2b9)for(const _0x137320 in _0x3009c0[_0x1a9d16(0x44e)]){if(_0x1a9d16(0x4eb)!=typeof _0x137320)return[!0x1,_0x1a9d16(0x319)+_0x137320+'\x27'];for(const _0x305ae5 in _0x3009c0[_0x1a9d16(0x44e)][_0x137320]){if(_0x1a9d16(0x5eb)!==_0x305ae5)return[!0x1,_0x1a9d16(0x54e)+_0x305ae5+_0x1a9d16(0x352)+_0x137320+'\x27'];const _0x33e5d4=_0x3009c0['tables'][_0x137320][_0x305ae5]??[];for(const _0x1b01c3 of _0x33e5d4)if(void 0x0===_0x1b01c3[_0x1a9d16(0x2bd)]||_0x1a9d16(0x4eb)!=typeof _0x1b01c3[_0x1a9d16(0x2bd)])return[!0x1,_0x1a9d16(0x1f6)+_0x137320+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x1a9d16(0x460)===_0x55f2b9&&_0x1a9d16(0x44f)!=typeof _0x3009c0[_0x55f2b9])return[!0x1,_0x1a9d16(0x5ef)+_0x3009c0[_0x55f2b9]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x1a9d16(0x4bc)];}static[_0x23d54f(0x1da)](_0x2acba4){const _0x451884=_0x23d54f,_0x5905e8=new _0x2f474e(_0x2acba4);return _0x5905e8['layout'][_0x451884(0x460)]=_0x2acba4,_0x5905e8;}[_0x23d54f(0x61d)](_0x426ce7){const _0x3ed276=_0x23d54f;return this[_0x3ed276(0x1da)][_0x3ed276(0x44e)][_0x426ce7]={},new _0x1cf1f3(this[_0x3ed276(0x1da)][_0x3ed276(0x44e)][_0x426ce7]);}[_0x23d54f(0x281)](){const _0x3141f2=_0x23d54f;return this[_0x3141f2(0x1da)];}}class _0x1cf1f3{[_0x23d54f(0x1cc)];constructor(_0x4e5622){const _0x3180f7=_0x23d54f;this[_0x3180f7(0x1cc)]=_0x4e5622;}[_0x23d54f(0x1e3)](_0x4b4b31){const _0x4eb7c6=_0x23d54f;return this[_0x4eb7c6(0x1cc)]['indexes']=this[_0x4eb7c6(0x1cc)][_0x4eb7c6(0x5eb)]??[],this[_0x4eb7c6(0x1cc)]['indexes'][_0x4eb7c6(0x140)]({'keyPath':_0x4b4b31}),this;}}const _0x15232e='.crewdle-last-transaction',_0x41d2cd='.crewdle-pending',_0x55fd23=_0x23d54f(0x275),_0x562987=0x7530,_0x50c8f3=_0x23d54f(0x214);var _0x416337;!function(_0x3c3c85){const _0x5e45b2=_0x23d54f;_0x3c3c85[_0x5e45b2(0x4b9)]=_0x5e45b2(0x314),_0x3c3c85[_0x5e45b2(0x3a3)]=_0x5e45b2(0xa5),_0x3c3c85[_0x5e45b2(0x534)]=_0x5e45b2(0x4cb),_0x3c3c85[_0x5e45b2(0x374)]=_0x5e45b2(0x1e7),_0x3c3c85[_0x5e45b2(0x508)]=_0x5e45b2(0x632),_0x3c3c85[_0x5e45b2(0x529)]=_0x5e45b2(0x159),_0x3c3c85[_0x5e45b2(0x5e7)]=_0x5e45b2(0x584),_0x3c3c85[_0x5e45b2(0x1b3)]='invalid-data-chanel',_0x3c3c85['InvalidPublisher']='invalid-publisher',_0x3c3c85[_0x5e45b2(0x332)]='invalid-subscriber',_0x3c3c85['InvalidSubscription']=_0x5e45b2(0x297),_0x3c3c85[_0x5e45b2(0x26d)]=_0x5e45b2(0x160),_0x3c3c85[_0x5e45b2(0x23e)]=_0x5e45b2(0x4fe),_0x3c3c85[_0x5e45b2(0x4fa)]=_0x5e45b2(0x238),_0x3c3c85[_0x5e45b2(0x16f)]=_0x5e45b2(0x2ce),_0x3c3c85['LocalMediaStreamDoesNotExist']=_0x5e45b2(0x420),_0x3c3c85[_0x5e45b2(0x3a2)]=_0x5e45b2(0xb0),_0x3c3c85[_0x5e45b2(0x1e9)]=_0x5e45b2(0x51e),_0x3c3c85[_0x5e45b2(0x1e4)]=_0x5e45b2(0x5e4),_0x3c3c85[_0x5e45b2(0x527)]=_0x5e45b2(0x5a4),_0x3c3c85['RemoteMediaStreamMissingProviderId']=_0x5e45b2(0x4b2),_0x3c3c85[_0x5e45b2(0x3f2)]=_0x5e45b2(0x9e),_0x3c3c85[_0x5e45b2(0x1c6)]=_0x5e45b2(0x552),_0x3c3c85['SubscriptionRequestFailed']=_0x5e45b2(0x28f),_0x3c3c85[_0x5e45b2(0x2c8)]=_0x5e45b2(0x166),_0x3c3c85['UserDoesNotExist']='user-does-not-exist',_0x3c3c85[_0x5e45b2(0x5f2)]='user-already-exist',_0x3c3c85['PeerConnectionInvalidDestination']=_0x5e45b2(0x2a1);}(_0x416337||(_0x416337={}));const _0x24d399=new Map([[_0x416337[_0x23d54f(0x4b9)],'Connection\x20not\x20initialized.'],[_0x416337['ConnectionNotConnected'],_0x23d54f(0x2fa)],[_0x416337[_0x23d54f(0x534)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x416337['ConnectionInvalidDataEvent'],_0x23d54f(0xfb)],[_0x416337[_0x23d54f(0x508)],_0x23d54f(0x31f)],[_0x416337[_0x23d54f(0x529)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x416337['ObjectStoreNotSynced'],_0x23d54f(0x251)],[_0x416337[_0x23d54f(0x1b3)],_0x23d54f(0x476)],[_0x416337[_0x23d54f(0x388)],_0x23d54f(0x377)],[_0x416337[_0x23d54f(0x332)],_0x23d54f(0x459)],[_0x416337[_0x23d54f(0x3bf)],_0x23d54f(0x3e3)],[_0x416337[_0x23d54f(0x26d)],_0x23d54f(0x40a)],[_0x416337['KeyValueDatabaseTableDoesNotExist'],_0x23d54f(0x11e)],[_0x416337[_0x23d54f(0x4fa)],_0x23d54f(0x184)],[_0x416337[_0x23d54f(0x16f)],_0x23d54f(0xfc)],[_0x416337[_0x23d54f(0x4e2)],_0x23d54f(0x198)],[_0x416337[_0x23d54f(0x3a2)],'Connection\x20does\x20not\x20exist.'],[_0x416337[_0x23d54f(0x1e9)],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x416337['OutgoingMediaStreamNoTopic'],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x416337['RemoteMediaStreamDoesNotExist'],_0x23d54f(0x1b9)],[_0x416337['RemoteMediaStreamMissingProviderId'],_0x23d54f(0x250)],[_0x416337[_0x23d54f(0x3f2)],_0x23d54f(0x161)],[_0x416337[_0x23d54f(0x1c6)],_0x23d54f(0x41e)],[_0x416337[_0x23d54f(0x4f8)],_0x23d54f(0x2cd)],[_0x416337['SubscriptionRequestNoAnswer'],_0x23d54f(0x343)],[_0x416337[_0x23d54f(0x324)],'User\x20does\x20not\x20exist.'],[_0x416337[_0x23d54f(0x5f2)],_0x23d54f(0x2b4)],[_0x416337[_0x23d54f(0x1e5)],'Invalid\x20peer\x20connection\x20event\x20destination.']]);class _0x4ad60f extends Error{['code'];static ['codes']=_0x416337;[_0x23d54f(0x530)];constructor(_0xbd8951,_0x12dd70){const _0x3559da=_0x23d54f;super(_0x3559da(0x258)+_0xbd8951+':\x20'+_0x24d399[_0x3559da(0x1dc)](_0xbd8951)+_0x3559da(0x61f)+JSON[_0x3559da(0x235)](_0x12dd70)),this['code']=_0xbd8951,this[_0x3559da(0x530)]=_0x12dd70||{};}}var _0x2e4279,_0x34d6f1,_0x2f2d46,_0x58ec52,_0x48cada,_0x528d91;!function(_0xaa3466){const _0x1e4d84=_0x23d54f;_0xaa3466[_0xaa3466[_0x1e4d84(0x5dd)]=0x0]=_0x1e4d84(0x5dd),_0xaa3466[_0xaa3466[_0x1e4d84(0x2e9)]=0x1]=_0x1e4d84(0x2e9),_0xaa3466[_0xaa3466[_0x1e4d84(0x328)]=0x2]=_0x1e4d84(0x328),_0xaa3466[_0xaa3466[_0x1e4d84(0x359)]=0x3]='UpdateMediaStream',_0xaa3466[_0xaa3466[_0x1e4d84(0x1dd)]=0x4]=_0x1e4d84(0x1dd),_0xaa3466[_0xaa3466['CloseObjectStoreBucket']=0x5]=_0x1e4d84(0x1f0),_0xaa3466[_0xaa3466[_0x1e4d84(0x400)]=0x6]='CloseKeyValueDatabase',_0xaa3466[_0xaa3466[_0x1e4d84(0x3ac)]=0x7]='ClosePubSubTopic',_0xaa3466[_0xaa3466[_0x1e4d84(0x2b3)]=0x8]=_0x1e4d84(0x2b3),_0xaa3466[_0xaa3466['LocalMediaStreamTrackFail']=0x9]=_0x1e4d84(0x424),_0xaa3466[_0xaa3466['RemoteMediaStreamTrackFail']=0xa]=_0x1e4d84(0x535),_0xaa3466[_0xaa3466[_0x1e4d84(0x54f)]=0xb]=_0x1e4d84(0x54f),_0xaa3466[_0xaa3466[_0x1e4d84(0x5cf)]=0xc]=_0x1e4d84(0x5cf),_0xaa3466[_0xaa3466[_0x1e4d84(0x1b0)]=0xd]=_0x1e4d84(0x1b0),_0xaa3466[_0xaa3466[_0x1e4d84(0x47d)]=0xe]='PubSubTopicStats',_0xaa3466[_0xaa3466[_0x1e4d84(0x346)]=0xf]=_0x1e4d84(0x346),_0xaa3466[_0xaa3466[_0x1e4d84(0xd6)]=0x10]=_0x1e4d84(0xd6);}(_0x2e4279||(_0x2e4279={})),function(_0x19392e){const _0x1e67d8=_0x23d54f;_0x19392e[_0x1e67d8(0x1ee)]=_0x1e67d8(0x5d1),_0x19392e[_0x1e67d8(0x616)]='folder-create',_0x19392e['Delete']=_0x1e67d8(0x114),_0x19392e[_0x1e67d8(0x233)]=_0x1e67d8(0x1d3),_0x19392e[_0x1e67d8(0x389)]=_0x1e67d8(0x34b),_0x19392e[_0x1e67d8(0xef)]=_0x1e67d8(0x426),_0x19392e[_0x1e67d8(0x312)]='request-file-sync',_0x19392e['RequestFileWrite']=_0x1e67d8(0xc1);}(_0x34d6f1||(_0x34d6f1={})),function(_0x229736){const _0x52326b=_0x23d54f;_0x229736['Request']=_0x52326b(0x423),_0x229736[_0x52326b(0x12c)]=_0x52326b(0x4bf);}(_0x2f2d46||(_0x2f2d46={})),function(_0x46d85b){const _0x3c19c6=_0x23d54f;_0x46d85b[_0x3c19c6(0xb6)]='add',_0x46d85b[_0x3c19c6(0x30c)]='update',_0x46d85b[_0x3c19c6(0x20b)]=_0x3c19c6(0x114);}(_0x58ec52||(_0x58ec52={})),function(_0x2c9a00){const _0x31192b=_0x23d54f;_0x2c9a00[_0x31192b(0x4e0)]=_0x31192b(0x1dc),_0x2c9a00['List']=_0x31192b(0x221),_0x2c9a00[_0x31192b(0x614)]=_0x31192b(0x448);}(_0x48cada||(_0x48cada={})),function(_0xf872c5){const _0x5d9395=_0x23d54f;_0xf872c5[_0xf872c5[_0x5d9395(0x525)]=0x0]='PeerConnection',_0xf872c5[_0xf872c5[_0x5d9395(0x4f9)]=0x1]=_0x5d9395(0x4f9),_0xf872c5[_0xf872c5[_0x5d9395(0xf2)]=0x2]=_0x5d9395(0xf2),_0xf872c5[_0xf872c5[_0x5d9395(0x24f)]=0x3]=_0x5d9395(0x24f),_0xf872c5[_0xf872c5[_0x5d9395(0x627)]=0x4]=_0x5d9395(0x627),_0xf872c5[_0xf872c5[_0x5d9395(0x186)]=0x5]=_0x5d9395(0x186),_0xf872c5[_0xf872c5[_0x5d9395(0x1ea)]=0x6]=_0x5d9395(0x1ea);}(_0x528d91||(_0x528d91={}));class _0x12a2eb{['ownerId'];['label'];[_0x23d54f(0x1c8)];constructor(_0x4349c4,_0xbb9c82){const _0x1a0790=_0x23d54f;this[_0x1a0790(0x577)]=_0x4349c4,this[_0x1a0790(0x24c)]=_0xbb9c82;}[_0x23d54f(0xc7)](){const _0x668342=_0x23d54f;return this[_0x668342(0x24c)];}[_0x23d54f(0x336)](){const _0x325fd2=_0x23d54f;return this[_0x325fd2(0x577)];}[_0x23d54f(0xb7)](){}[_0x23d54f(0x5f5)](_0x291dca){const _0x1358d8=_0x23d54f;this[_0x1358d8(0x1c8)]=_0x291dca;}[_0x23d54f(0x3cc)](){const _0x210f5e=_0x23d54f;delete this[_0x210f5e(0x1c8)];}}function _0x5a8888(_0x22e7f0,_0x2ec440){return'/'===_0x22e7f0?_0x22e7f0+_0x2ec440:_0x22e7f0+'/'+_0x2ec440;}function _0x494e0e(_0x815332){const _0x24aada=_0x23d54f,_0x3d3388=function(_0x278bb8){const _0x4467b5=a0_0x3776;return _0x278bb8[_0x4467b5(0x57f)]('/')[_0x4467b5(0x3a0)](_0x18a7fa=>_0x18a7fa[_0x4467b5(0xa9)]>0x0);}(_0x815332),_0x5765cc=_0x3d3388[_0x24aada(0x2f7)]()||'',_0x584773=_0x3d3388[_0x24aada(0x44a)]('/');return[0x0===_0x584773['length']?'/':_0x584773,_0x5765cc];}async function _0x576b26(_0x5ac037){const _0x4f814c=_0x23d54f,_0x1c416a=await _0x5ac037['arrayBuffer'](),_0x2c4efa=new Uint8Array(_0x1c416a);let _0x13cef3=0x0;for(const _0x4426ca of _0x2c4efa)_0x13cef3+=_0x4426ca;return _0x13cef3[_0x4f814c(0xe6)]();}function _0x27ef50(_0x19df89){return new Promise((_0x39edd6,_0x3184d6)=>{!function(_0x29d0e1,_0x2e0c4b,_0xe9ae4c){let _0x1fa4de=0x0;const _0x193e36=[],_0x1783bf=()=>{const _0x30bac0=a0_0x3776;let _0x2669f7=_0x1fa4de+0x3f800;_0x2669f7>_0x29d0e1[_0x30bac0(0x4ba)]&&(_0x2669f7=_0x29d0e1['size']);let _0x5a67fd=_0x29d0e1[_0x30bac0(0x52b)](_0x1fa4de,_0x2669f7),_0x28e3bd=new FileReader();_0x28e3bd[_0x30bac0(0x2c9)]=_0x2c1fc3=>{const _0x3ecaa5=_0x30bac0;_0x193e36[_0x3ecaa5(0x140)](_0x28e3bd['result']),_0x1fa4de=_0x2669f7,_0x1fa4de<_0x29d0e1[_0x3ecaa5(0x4ba)]?_0x1783bf():_0x2e0c4b(_0x193e36);},_0x28e3bd[_0x30bac0(0x42e)]=_0x4f4ca4=>{_0xe9ae4c(_0x4f4ca4);},_0x28e3bd[_0x30bac0(0x36a)](_0x5a67fd);};_0x1783bf();}(_0x19df89,_0x39edd6,_0x3184d6);});}function _0x23fb18(_0x1627d8,_0x13d575,_0x175dbc){return new File(_0x1627d8,_0x13d575,{'type':_0x175dbc});}class _0x34d5dc extends _0x12a2eb{['outgoingTopic'];[_0x23d54f(0x121)];['fileChunks']=new Map();[_0x23d54f(0x276)]=0x0;[_0x23d54f(0x579)]=0x0;[_0x23d54f(0x5f4)]=0x0;['bytesReceived']=0x0;constructor(_0x53a4db,_0x9866b8){super(_0x53a4db,_0x9866b8);}['getLabel'](){return this['label'];}['getName'](){const _0x4f4556=_0x23d54f;return this[_0x4f4556(0x24c)];}[_0x23d54f(0x2b9)](){const _0x2eb38b=_0x23d54f;return _0x49643d[_0x2eb38b(0x604)];}[_0x23d54f(0x5f9)](){return this['label'];}[_0x23d54f(0x4a0)](_0x45a4dc){const _0x10cf6b=_0x23d54f;if(this['outgoingTopic'])throw new _0x4ad60f(_0x4ad60f[_0x10cf6b(0x34c)][_0x10cf6b(0x388)],{'message':_0x10cf6b(0x532)+this[_0x10cf6b(0x577)]+'\x20-\x20'+this[_0x10cf6b(0x24c)],'topic':this[_0x10cf6b(0x4a8)]});this[_0x10cf6b(0x4a8)]=_0x45a4dc;}[_0x23d54f(0x4d8)](_0x4688db){const _0x2ab9b2=_0x23d54f;if(this['incomingTopic'])throw new _0x4ad60f(_0x4ad60f['codes'][_0x2ab9b2(0x332)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x2ab9b2(0x577)]+_0x2ab9b2(0x36b)+this[_0x2ab9b2(0x24c)],'topic':this['incomingTopic']});this['incomingTopic']=_0x4688db;}[_0x23d54f(0x499)](){const _0x51f53d=_0x23d54f;delete this[_0x51f53d(0x4a8)];}[_0x23d54f(0x399)](){delete this['incomingTopic'];}async['send'](_0x4e5a00,_0x681729){const _0x525d96=_0x23d54f;if(this['messagesSent']+=0x1,_0x4e5a00 instanceof File){const _0x4ff0b4=await _0x27ef50(_0x4e5a00);return this['bytesSent']+=_0x4ff0b4[_0x525d96(0x172)]((_0x504a9c,_0x26cda3)=>_0x504a9c+_0x26cda3[_0x525d96(0x566)],0x0),void _0x4ff0b4[_0x525d96(0x55e)]((_0x3264b5,_0x5cf867)=>{const _0x1ef15a=_0x525d96;this['outgoingTopic'][_0x1ef15a(0x127)]({'sourceId':this[_0x1ef15a(0x577)],'destinationIds':_0x681729,'propagate':!0x0,'contentType':_0x49643d[_0x1ef15a(0x371)],'content':{'name':_0x4e5a00[_0x1ef15a(0x13a)],'type':_0x4e5a00[_0x1ef15a(0x30e)],'data':_0x3264b5,'index':_0x5cf867,'total':_0x4ff0b4[_0x1ef15a(0xa9)]}});});}this[_0x525d96(0x5f4)]+=JSON[_0x525d96(0x235)](_0x4e5a00)[_0x525d96(0xa9)],this[_0x525d96(0x4a8)][_0x525d96(0x127)]({'sourceId':this['ownerId'],'destinationIds':_0x681729,'propagate':!0x0,'contentType':_0x49643d['Data'],'content':_0x4e5a00});}[_0x23d54f(0x596)](_0x529bc1){const _0x50c63e=_0x23d54f;return this['incomingTopic'][_0x50c63e(0x308)](_0x5c807e=>{const _0x3aab5e=_0x50c63e;switch(_0x5c807e[_0x3aab5e(0x1fb)]){case _0x49643d['Data']:this[_0x3aab5e(0x579)]+=0x1,this[_0x3aab5e(0x33b)]+=JSON[_0x3aab5e(0x235)](_0x5c807e[_0x3aab5e(0x36e)])[_0x3aab5e(0xa9)],_0x529bc1(_0x5c807e['sourceId'],_0x5c807e[_0x3aab5e(0x36e)]);break;case _0x49643d['File']:this['fileChunks'][_0x3aab5e(0x201)](_0x5c807e[_0x3aab5e(0x36e)][_0x3aab5e(0x13a)])||this[_0x3aab5e(0x543)]['set'](_0x5c807e[_0x3aab5e(0x36e)][_0x3aab5e(0x13a)],[]);const _0x112a81=this[_0x3aab5e(0x543)][_0x3aab5e(0x1dc)](_0x5c807e[_0x3aab5e(0x36e)]['name']);_0x112a81[_0x5c807e[_0x3aab5e(0x36e)]['index']]=_0x5c807e[_0x3aab5e(0x36e)][_0x3aab5e(0x530)],_0x112a81[_0x3aab5e(0xa9)]===_0x5c807e['content'][_0x3aab5e(0x4f6)]&&(this[_0x3aab5e(0x579)]+=0x1,this[_0x3aab5e(0x33b)]+=_0x112a81['reduce']((_0x2eae7f,_0x3521ce)=>_0x2eae7f+_0x3521ce[_0x3aab5e(0x566)],0x0),_0x529bc1(_0x5c807e[_0x3aab5e(0x49a)],_0x23fb18(_0x112a81,_0x5c807e[_0x3aab5e(0x36e)][_0x3aab5e(0x13a)],_0x5c807e[_0x3aab5e(0x36e)][_0x3aab5e(0x30e)])),this[_0x3aab5e(0x543)]['delete'](_0x5c807e[_0x3aab5e(0x36e)][_0x3aab5e(0x13a)]));}});}}function _0x2a58e2(){let _0x3ee4e0=[];return{'subscribe':_0x4a9b16=>(_0x3ee4e0['push'](_0x4a9b16),()=>{const _0x3c5f15=a0_0x3776;_0x3ee4e0=_0x3ee4e0[_0x3c5f15(0x3a0)](_0x28ccc0=>_0x28ccc0!==_0x4a9b16);}),'publish':_0x846168=>{const _0x3edc1d=a0_0x3776;_0x3ee4e0[_0x3edc1d(0x55e)](_0x1c05b0=>_0x1c05b0(_0x846168));}};}function _0x2fd896(){let _0x407f45;return{'subscribe':_0x449fb4=>(_0x407f45=_0x449fb4,()=>{_0x407f45=void 0x0;}),'publish':_0x187ca6=>{_0x407f45&&_0x407f45(_0x187ca6);}};}class _0x42cf75{['connector'];[_0x23d54f(0x3e1)];[_0x23d54f(0x515)];['eventListener']=_0x2fd896();[_0x23d54f(0x1d7)];constructor(_0x4204b7,_0x2f2ea9,_0x152e7e){const _0x1a7d1e=_0x23d54f;this[_0x1a7d1e(0x385)]=_0x4204b7,this['tableName']=_0x2f2ea9,this[_0x1a7d1e(0x515)]=_0x152e7e;}[_0x23d54f(0xb7)](){const _0x53de24=_0x23d54f;this[_0x53de24(0x1d7)]?.();}async[_0x23d54f(0x1dc)](_0x3f08d6){const _0xbc4c20=_0x23d54f,_0x5be5ca={'key':_0x3f08d6,'tableName':this[_0xbc4c20(0x3e1)],'action':_0x48cada[_0xbc4c20(0x4e0)]};return this[_0xbc4c20(0x515)][_0xbc4c20(0x127)](_0x5be5ca),this[_0xbc4c20(0x385)][_0xbc4c20(0x1dc)](_0x3f08d6);}async['set'](_0x15a0e8,_0x38a1a7,_0x3b1bdf=!0x0){const _0x39d4e2=_0x23d54f;this[_0x39d4e2(0xdd)](_0x38a1a7);const _0x118b29=await this['connector'][_0x39d4e2(0x1dc)](_0x15a0e8),_0x1f76a3=await this[_0x39d4e2(0x385)][_0x39d4e2(0x151)](_0x15a0e8,_0x38a1a7),_0x5b4af9=_0x118b29?_0x58ec52[_0x39d4e2(0x30c)]:_0x58ec52[_0x39d4e2(0xb6)];if(this[_0x39d4e2(0x127)](_0x5b4af9,_0x1f76a3),!_0x3b1bdf)return _0x1f76a3;const _0x47abce={'key':_0x15a0e8,'tableName':this['tableName'],'action':_0x5b4af9,'value':_0x1f76a3};return this[_0x39d4e2(0x515)]['publish'](_0x47abce),_0x1f76a3;}async[_0x23d54f(0xf5)](_0x4c0138){const _0x5ee45b=_0x23d54f;this[_0x5ee45b(0xdd)](_0x4c0138);const _0x1efb8a=await this[_0x5ee45b(0x385)][_0x5ee45b(0xf5)](_0x4c0138),_0x293c47={'key':_0x1efb8a['id'],'tableName':this[_0x5ee45b(0x3e1)],'action':_0x58ec52['Add'],'value':_0x1efb8a};return this[_0x5ee45b(0x515)][_0x5ee45b(0x127)](_0x293c47),this[_0x5ee45b(0x127)](_0x293c47[_0x5ee45b(0x3ec)],_0x1efb8a),_0x1efb8a;}async[_0x23d54f(0x114)](_0x3858b2,_0x5a1a6f=!0x0){const _0x2ee19e=_0x23d54f,_0x1c3a11=await this[_0x2ee19e(0x385)][_0x2ee19e(0x1dc)](_0x3858b2);if(!_0x1c3a11)return;await this['connector']['delete'](_0x3858b2);const _0x5206b2=_0x58ec52[_0x2ee19e(0x20b)];if(this[_0x2ee19e(0x127)](_0x5206b2,_0x1c3a11),!_0x5a1a6f)return;const _0x175d2e={'key':_0x3858b2,'tableName':this[_0x2ee19e(0x3e1)],'action':_0x5206b2,'value':_0x1c3a11};this[_0x2ee19e(0x515)][_0x2ee19e(0x127)](_0x175d2e);}async[_0x23d54f(0x2e1)](){const _0x313144=_0x23d54f,_0x112ce9=await this[_0x313144(0x221)]();for(const _0x107877 of _0x112ce9){const _0x15511f=_0x58ec52[_0x313144(0x20b)];this['publish'](_0x15511f,_0x107877);const _0x4fcdf6={'key':_0x107877['id'],'tableName':this[_0x313144(0x3e1)],'action':_0x15511f,'value':_0x107877};this[_0x313144(0x515)]['publish'](_0x4fcdf6);}return this[_0x313144(0x385)][_0x313144(0x2e1)]();}async[_0x23d54f(0x221)](_0x1ae356){const _0x3859d7=_0x23d54f,_0xef47e7={'key':'','tableName':this['tableName'],'action':_0x48cada[_0x3859d7(0x2cf)]};this[_0x3859d7(0x515)][_0x3859d7(0x127)](_0xef47e7);try{_0x1ae356&&(_0x1ae356=_0x1ae356 instanceof _0x18d827?_0x1ae356['getQuery']():_0x18d827[_0x3859d7(0x300)](_0x1ae356)[_0x3859d7(0x144)]());}catch(_0x53da8a){throw new _0x4f208b(_0x522ceb[_0x3859d7(0x3df)],_0x3859d7(0x29f));}try{return await this[_0x3859d7(0x385)][_0x3859d7(0x221)](_0x1ae356);}catch(_0x3bbd1b){let _0x15f9f7=_0x3859d7(0x29f);throw _0x3bbd1b instanceof Error&&(_0x15f9f7=_0x3bbd1b[_0x3859d7(0x1b1)]),new _0x4f208b(_0x522ceb[_0x3859d7(0x3df)],_0x15f9f7);}}async['count'](_0x5c1853){const _0x4a1555=_0x23d54f,_0x179a61={'key':'','tableName':this['tableName'],'action':_0x48cada[_0x4a1555(0x614)]};this[_0x4a1555(0x515)][_0x4a1555(0x127)](_0x179a61);try{_0x5c1853&&(_0x5c1853=_0x5c1853 instanceof _0x18d827?_0x5c1853['getQuery']():_0x18d827[_0x4a1555(0x300)](_0x5c1853)[_0x4a1555(0x144)]());}catch(_0x25fd1f){throw new _0x4f208b(_0x522ceb[_0x4a1555(0x3df)],_0x4a1555(0x29f));}try{return await this[_0x4a1555(0x385)]['count'](_0x5c1853);}catch(_0x5516d0){let _0x445b8b=_0x4a1555(0x29f);throw _0x5516d0 instanceof Error&&(_0x445b8b=_0x5516d0[_0x4a1555(0x1b1)]),new _0x4f208b(_0x522ceb[_0x4a1555(0x3df)],_0x445b8b);}}[_0x23d54f(0x3bc)](){const _0x7ddacc=_0x23d54f;return this['connector'][_0x7ddacc(0x3bc)]();}[_0x23d54f(0x308)](_0x3a9938){this['listenerUnsubscriber']=this['eventListener']['subscribe'](_0x3a9938);}['unsubscribe'](){const _0x45d0ae=_0x23d54f;this[_0x45d0ae(0x1d7)]?.();}[_0x23d54f(0x127)](_0x33e770,_0x440e7f){const _0x520ead=_0x23d54f,_0x2dae45=this[_0x520ead(0x338)](_0x33e770,_0x440e7f);this[_0x520ead(0x538)][_0x520ead(0x127)](_0x2dae45);}[_0x23d54f(0x338)](_0x4be33b,_0x327af2){const _0xe038d1=_0x23d54f;let _0x5ceeca;switch(_0x4be33b){case _0x58ec52[_0xe038d1(0xb6)]:_0x5ceeca=_0xe038d1(0xf5);break;case _0x58ec52[_0xe038d1(0x30c)]:_0x5ceeca=_0xe038d1(0x273);break;case _0x58ec52[_0xe038d1(0x20b)]:_0x5ceeca='delete';}return{'action':_0x5ceeca,'value':_0x327af2};}[_0x23d54f(0xdd)](_0x34c0c8){const _0x2061da=_0x23d54f;if(_0x2061da(0x546)!=typeof _0x34c0c8||null===_0x34c0c8)throw new _0x4f208b(_0x522ceb[_0x2061da(0x43f)],_0x2061da(0x13e));for(const _0x2c9a9d in _0x34c0c8){const _0x5267ae=_0x34c0c8[_0x2c9a9d];if(_0x2061da(0x546)!=typeof _0x5267ae||_0x5267ae instanceof Date){if(!['string',_0x2061da(0x44f),_0x2061da(0x488)]['includes'](typeof _0x5267ae))throw new _0x4f208b(_0x522ceb[_0x2061da(0x43f)],_0x2061da(0x570)+_0x2c9a9d+_0x2061da(0x2b6));}else this[_0x2061da(0xdd)](_0x5267ae);}}}const _0xe3b434=require('firebase/app'),_0x150d4d=require('firebase/auth'),_0x4df70b=require('firebase/database'),_0x3b912a=require('firebase/firestore'),_0x310a8e=require('firebase/functions');let _0x1050d0=_0x418e3a(0x14d)['O'];function _0x2a6195(_0x343ffd){const _0x107679=_0x23d54f;return!(!_0x343ffd||_0x107679(0x546)!=typeof _0x343ffd||Array[_0x107679(0x104)](_0x343ffd));}_0x1050d0=function _0x22989b(_0xd23fe1,..._0xa71fb){const _0x2e010b=_0x23d54f;if(!Array[_0x2e010b(0x104)](_0xa71fb)||0x0===_0xa71fb['length'])return _0xd23fe1;const _0x38c9ba=_0xa71fb['shift']();if(_0x2a6195(_0xd23fe1)&&_0x2a6195(_0x38c9ba)){for(const _0x3f2199 in _0x38c9ba)_0x2a6195(_0x38c9ba[_0x3f2199])?(_0xd23fe1[_0x3f2199]||Object[_0x2e010b(0x101)](_0xd23fe1,{[_0x3f2199]:{}}),_0x22989b(_0xd23fe1[_0x3f2199],_0x38c9ba[_0x3f2199])):Object[_0x2e010b(0x101)](_0xd23fe1,{[_0x3f2199]:_0x38c9ba[_0x3f2199]});}return _0x22989b(_0xd23fe1,..._0xa71fb);}(_0x1050d0,_0x418e3a(0x3e6)['O']);const _0x334137=_0x1050d0;class _0x2ca96d{static ['instance'];[_0x23d54f(0x4b6)];['auth'];[_0x23d54f(0x24e)];[_0x23d54f(0x379)];[_0x23d54f(0x4b4)];['clockSkew'];constructor(){}static['getInstance'](){const _0x18f122=_0x23d54f;return _0x2ca96d[_0x18f122(0x23d)]||(_0x2ca96d[_0x18f122(0x23d)]=new _0x2ca96d()),_0x2ca96d[_0x18f122(0x23d)];}['getApp'](){const _0x21a412=_0x23d54f;return this[_0x21a412(0x4b6)]||(this[_0x21a412(0x4b6)]=(0x0,_0xe3b434[_0x21a412(0x51b)])(_0x334137[_0x21a412(0x63c)])),this[_0x21a412(0x4b6)];}[_0x23d54f(0x293)](){const _0x195fdf=_0x23d54f;return this[_0x195fdf(0x335)]||(this['auth']=(0x0,_0x150d4d['getAuth'])(this[_0x195fdf(0x42d)]())),this['auth'];}[_0x23d54f(0x4f5)](){const _0x46f129=_0x23d54f;return this[_0x46f129(0x24e)]||(this[_0x46f129(0x24e)]=(0x0,_0x310a8e[_0x46f129(0x4f5)])(this[_0x46f129(0x42d)](),_0x334137[_0x46f129(0x63c)]['functionsRegion'])),this['functions'];}[_0x23d54f(0x164)](){const _0x48787d=_0x23d54f;return this[_0x48787d(0x379)]||(this[_0x48787d(0x379)]=(0x0,_0x4df70b[_0x48787d(0x164)])(this['getApp']())),this[_0x48787d(0x379)];}[_0x23d54f(0x204)](){const _0xbbdb8d=_0x23d54f;return this[_0xbbdb8d(0x4b4)]||(this[_0xbbdb8d(0x4b4)]=(0x0,_0x3b912a[_0xbbdb8d(0x204)])(this[_0xbbdb8d(0x42d)]())),this[_0xbbdb8d(0x4b4)];}async[_0x23d54f(0x463)](){const _0x30ecfb=_0x23d54f;if(this[_0x30ecfb(0x289)])return Date[_0x30ecfb(0x111)]()+this[_0x30ecfb(0x289)];const _0x3f1420=this[_0x30ecfb(0x164)](),_0x297b24=(0x0,_0x4df70b[_0x30ecfb(0x2ee)])(_0x3f1420,_0x30ecfb(0x3db)),_0x236c5d=(0x0,_0x4df70b[_0x30ecfb(0x548)])(_0x297b24,_0x103204=>{const _0xe53153=_0x30ecfb;!0x1===_0x103204[_0xe53153(0x514)]()&&(_0x236c5d(),delete this['clockSkew']);}),_0x52b9b3=(0x0,_0x4df70b[_0x30ecfb(0x2ee)])(_0x3f1420,'.info/serverTimeOffset');return new Promise(_0x251566=>{const _0x5a1c4d=_0x30ecfb;(0x0,_0x4df70b[_0x5a1c4d(0x548)])(_0x52b9b3,_0x45855b=>{const _0x39ac6b=_0x5a1c4d;(0x0,_0x4df70b[_0x39ac6b(0x48a)])(_0x52b9b3),this['clockSkew']=_0x45855b['val'](),_0x251566(Date['now']()+(this['clockSkew']??0x0));});});}}const _0x30a96f=_0x2ca96d[_0x23d54f(0x154)]();class _0x4762ca{static ['instance'];[_0x23d54f(0xc4)]=[_0x4edace[_0x23d54f(0x63d)]];[_0x23d54f(0x25e)]=!0x0;[_0x23d54f(0x3b5)];[_0x23d54f(0x455)]='';[_0x23d54f(0x59d)];constructor(){const _0x492ff4=_0x23d54f;if('undefined'!=typeof window)this[_0x492ff4(0x59d)]=window;else{if(void 0x0===_0x418e3a['g'])throw new Error(_0x492ff4(0x2aa));this[_0x492ff4(0x59d)]=_0x418e3a['g'];}this[_0x492ff4(0x59f)](),this[_0x492ff4(0x59d)][_0x492ff4(0x183)]=_0x148c40=>{const _0x28a818=_0x492ff4;if(_0x148c40===_0x4edace[_0x28a818(0x1c7)])return this[_0x28a818(0xc4)]=Object['keys'](_0x4edace)[_0x28a818(0xc8)](_0xd9a51e=>_0x4edace[_0xd9a51e]),void Object['keys'](_0x4edace)[_0x28a818(0x55e)](_0x578bb7=>{const _0xedc73b=_0x28a818,_0x5c5f3a=_0x578bb7;localStorage[_0xedc73b(0x3b2)](_0xedc73b(0x9d)+_0x4edace[_0x5c5f3a],_0xedc73b(0x48f));});this[_0x28a818(0xc4)]['includes'](_0x148c40)||(this[_0x28a818(0xc4)]['push'](_0x148c40),localStorage[_0x28a818(0x3b2)](_0x28a818(0x9d)+_0x148c40,_0x28a818(0x48f)));},this[_0x492ff4(0x59d)][_0x492ff4(0x3d5)]=_0x30ded7=>{const _0x24a12e=_0x492ff4;if(!_0x30ded7||_0x30ded7===_0x4edace[_0x24a12e(0x1c7)])return this[_0x24a12e(0xc4)]=[],void Object['keys'](_0x4edace)['forEach'](_0x972384=>{const _0x42e799=_0x24a12e,_0x589774=_0x972384;localStorage['removeItem'](_0x42e799(0x9d)+_0x4edace[_0x589774]);});this[_0x24a12e(0xc4)]['includes'](_0x30ded7)&&(this['enabledChannels']=this[_0x24a12e(0xc4)][_0x24a12e(0x3a0)](_0x35f150=>_0x35f150!==_0x30ded7),localStorage[_0x24a12e(0x639)](_0x24a12e(0x9d)+_0x30ded7));},this[_0x492ff4(0x59d)][_0x492ff4(0x57a)]=_0x4edace;}static[_0x23d54f(0x154)](){const _0x2d3421=_0x23d54f;try{return _0x4762ca[_0x2d3421(0x23d)]||(_0x4762ca[_0x2d3421(0x23d)]=new _0x4762ca()),_0x4762ca[_0x2d3421(0x23d)];}catch(_0x254090){return console['error'](_0x2d3421(0xb8),_0x254090),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isClusterEnabled':()=>!0x1};}}[_0x23d54f(0x2c7)](_0x190aa5){const _0x5e609c=_0x23d54f;this[_0x5e609c(0x455)]=_0x190aa5;}['setLoggingConnectors'](_0x424be4){this['loggingConnectors']=_0x424be4;}[_0x23d54f(0x410)](_0x1e7eee,..._0x37e072){const _0x52e0af=_0x23d54f;this[_0x52e0af(0x25e)]&&this['log'](_0x4edace['Default'],_0x52e0af(0x588)+_0x1e7eee,..._0x37e072);}[_0x23d54f(0x4dc)](_0x30b76a,_0x5e342b,..._0x20ab7a){const _0x543071=_0x23d54f;_0x334137[_0x543071(0x51d)]||(this['enabledChannels'][_0x543071(0xc6)](_0x30b76a)&&console[_0x543071(0x4dc)](_0x543071(0x58e)+_0x30b76a+'\x27\x0a',new Date()+'\x0a',_0x5e342b,..._0x20ab7a),this[_0x543071(0x3b5)]&&this[_0x543071(0x3b5)][_0x543071(0x55e)](_0x4d6a65=>{const _0x5657da=_0x543071;this[_0x5657da(0x5cb)](_0x4d6a65)&&_0x4d6a65['getEnabledChannels']()[_0x5657da(0xc6)](_0x30b76a)&&_0x4d6a65[_0x5657da(0x4dc)](_0x5e342b,{'vendorId':this[_0x5657da(0x455)],'userId':'','data':{'cluster':_0x30b76a,..._0x20ab7a}});}));}[_0x23d54f(0x50b)](_0x4dfa2c,_0x57905d,..._0x2f40c1){const _0x1ec709=_0x23d54f;_0x334137[_0x1ec709(0x51d)]||(this[_0x1ec709(0xc4)]['includes'](_0x4dfa2c)&&console[_0x1ec709(0x4dc)](_0x57905d,..._0x2f40c1),this['loggingConnectors']&&this[_0x1ec709(0x3b5)][_0x1ec709(0x55e)](_0x49ab45=>{const _0x5b65a3=_0x1ec709;this[_0x5b65a3(0x5cb)](_0x49ab45)&&_0x49ab45[_0x5b65a3(0x4db)]()[_0x5b65a3(0xc6)](_0x4dfa2c)&&_0x49ab45[_0x5b65a3(0x4dc)](_0x57905d,{'vendorId':this[_0x5b65a3(0x455)],'userId':'','data':{'cluster':_0x4dfa2c,..._0x2f40c1}});}));}[_0x23d54f(0x51a)](_0x3b8a9c,_0x93ca6){const _0x168ee8=_0x23d54f;if(this[_0x168ee8(0x3b5)]){const _0x1215e5={'vendorId':this['vendorId'],..._0x93ca6};this[_0x168ee8(0x3b5)]['forEach'](_0x529acf=>{const _0x13e3bc=_0x168ee8;_0x529acf[_0x13e3bc(0x4dc)](_0x3b8a9c,_0x1215e5);});}}[_0x23d54f(0x2c1)](_0x546cc1,_0x169916){const _0x1fe84a=_0x23d54f;(0x0,_0x3b912a[_0x1fe84a(0x329)])((0x0,_0x3b912a[_0x1fe84a(0x14d)])(_0x30a96f[_0x1fe84a(0x204)](),'developers/'+this['vendorId']+'/logs'),{..._0x169916,'service':_0x546cc1,'timestamp':(0x0,_0x3b912a[_0x1fe84a(0x5c1)])()});}[_0x23d54f(0x43a)](_0x196c63,_0x181714,_0x4ee24e){const _0x209481=_0x23d54f;(0x0,_0x3b912a[_0x209481(0x4e6)])((0x0,_0x3b912a[_0x209481(0x241)])(_0x30a96f[_0x209481(0x204)](),_0x209481(0x344)+this[_0x209481(0x455)]+'/'+_0x196c63+'/'+_0x181714),{'storage':_0x4ee24e,'timestamp':(0x0,_0x3b912a[_0x209481(0x5c1)])()});}[_0x23d54f(0x302)](_0x53ac68,_0x45c80f,..._0x342dad){const _0x443826=_0x23d54f;if(console['error'](new Date(),_0x53ac68,_0x45c80f,..._0x342dad),this[_0x443826(0x3b5)]){const _0x2a3e63={'vendorId':this['vendorId'],..._0x45c80f};this[_0x443826(0x3b5)][_0x443826(0x55e)](_0x1a1292=>{const _0x35ebe3=_0x443826;_0x1a1292[_0x35ebe3(0x302)](_0x53ac68,_0x2a3e63);});}}[_0x23d54f(0x1b4)](_0x153b22,_0x91e6d9,..._0x5cf027){const _0xeeffa1=_0x23d54f;if(console[_0xeeffa1(0x49d)](new Date(),_0x153b22,_0x91e6d9,_0x5cf027),this['loggingConnectors']){const _0x187e4c={'vendorId':this[_0xeeffa1(0x455)],..._0x91e6d9};this[_0xeeffa1(0x3b5)]['forEach'](_0x18e550=>{const _0x37716d=_0xeeffa1;_0x18e550[_0x37716d(0x49d)](_0x153b22,_0x187e4c);});}}[_0x23d54f(0xd3)](_0x445be2){const _0x2a3b94=_0x23d54f;return this[_0x2a3b94(0xc4)][_0x2a3b94(0xc6)](_0x445be2);}[_0x23d54f(0x59f)](){const _0x2a53df=_0x23d54f;try{Object[_0x2a53df(0x1b8)](_0x4edace)[_0x2a53df(0x55e)](_0x1cfb10=>{const _0xf4511c=_0x2a53df,_0xc3ea60=_0x1cfb10;localStorage[_0xf4511c(0xdb)](_0xf4511c(0x9d)+_0x4edace[_0xc3ea60])&&(console['log'](_0xf4511c(0x533),_0x4edace[_0xc3ea60]),this[_0xf4511c(0xc4)][_0xf4511c(0x140)](_0x4edace[_0xc3ea60]));});}catch(_0x454d6c){}}[_0x23d54f(0x5cb)](_0x4dc71c){return void 0x0!==_0x4dc71c['getEnabledChannels'];}}const _0x2bad5b=_0x4762ca[_0x23d54f(0x154)]();class _0x5e6aeb extends _0x34d5dc{['localId'];['clusterId'];[_0x23d54f(0x455)];['db'];[_0x23d54f(0x2ed)];[_0x23d54f(0x44e)]=new Map();[_0x23d54f(0x515)];[_0x23d54f(0xa0)];[_0x23d54f(0x148)];[_0x23d54f(0x63f)];[_0x23d54f(0x3d0)];[_0x23d54f(0x60c)]=[];[_0x23d54f(0x613)]=()=>{};[_0x23d54f(0x25d)];[_0x23d54f(0x538)]=_0x2fd896();[_0x23d54f(0x1d7)];[_0x23d54f(0x5d2)]=[];[_0x23d54f(0x1da)];[_0x23d54f(0x645)];[_0x23d54f(0x313)]=0x0;['reads']=0x0;constructor(_0x3473e9,_0x5d684e,_0x53ab70,_0x21d9d9,_0x221468,_0x3babe1){const _0x355cba=_0x23d54f;if(_0x355cba(0x4eb)!=typeof _0x5d684e)throw new _0x4f208b(_0x522ceb[_0x355cba(0x355)],_0x355cba(0x4e7));if(super(_0x3473e9,_0x5d684e),this[_0x355cba(0x122)]=_0x3473e9,this['clusterId']=_0x53ab70,this[_0x355cba(0x455)]=_0x21d9d9,this[_0x355cba(0x2ed)]=_0x355cba(0x433)+this['vendorId']+_0x355cba(0x433)+this[_0x355cba(0x486)]+_0x355cba(0x433)+this[_0x355cba(0x24c)],this[_0x355cba(0x515)]=_0x2fd896(),this[_0x355cba(0x63f)]=new Promise(_0x4c0b62=>{const _0x2efd61=_0x355cba;this[_0x2efd61(0x3d0)]=_0x4c0b62;}),_0x221468 instanceof _0x2f474e)this[_0x355cba(0x1da)]=_0x221468[_0x355cba(0x281)]();else{const [_0x1c9447,_0x4ab6ff]=_0x2f474e[_0x355cba(0x282)](_0x221468);if(!_0x1c9447)throw new _0x4f208b(_0x522ceb[_0x355cba(0x2fd)],_0x355cba(0x61c)+_0x4ab6ff);this['layout']=_0x221468;}this['db']=new _0x3babe1(this[_0x355cba(0x2ed)],this['layout']);}[_0x23d54f(0x2b9)](){return _0x49643d['KeyValueDatabase'];}[_0x23d54f(0xb7)](){const _0x497346=_0x23d54f;this['db'][_0x497346(0x168)](),this[_0x497346(0x148)]?.(),clearTimeout(this[_0x497346(0x645)]),delete this[_0x497346(0x645)],super['destroy']();}[_0x23d54f(0x168)](){const _0x33419e=_0x23d54f;this[_0x33419e(0x1c8)][_0x33419e(0x127)]({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x33419e(0xf2)],'content':{'type':_0x2e4279[_0x33419e(0x400)],'label':this[_0x33419e(0x24c)]}});}['getTable'](_0xfb5e43){const _0x44f4a5=_0x23d54f,_0xf23171=this['tables']['get'](_0xfb5e43);if(_0xf23171)return _0xf23171;try{if(!this['db']['hasTable'](_0xfb5e43))throw new _0x4f208b(_0x522ceb[_0x44f4a5(0x1fe)],_0x44f4a5(0x624));const _0x50d773=new _0x42cf75(this['db'][_0x44f4a5(0x1fd)](_0xfb5e43),_0xfb5e43,this[_0x44f4a5(0x515)]);return this['tables'][_0x44f4a5(0x151)](_0xfb5e43,_0x50d773),{'get':_0x50d773[_0x44f4a5(0x1dc)]['bind'](_0x50d773),'set':_0x50d773['set']['bind'](_0x50d773),'add':_0x50d773['add']['bind'](_0x50d773),'delete':_0x50d773[_0x44f4a5(0x114)][_0x44f4a5(0x128)](_0x50d773),'clear':_0x50d773[_0x44f4a5(0x2e1)][_0x44f4a5(0x128)](_0x50d773),'list':_0x50d773[_0x44f4a5(0x221)][_0x44f4a5(0x128)](_0x50d773),'count':_0x50d773[_0x44f4a5(0x448)][_0x44f4a5(0x128)](_0x50d773),'subscribe':_0x50d773[_0x44f4a5(0x308)][_0x44f4a5(0x128)](_0x50d773),'unsubscribe':_0x50d773[_0x44f4a5(0x3e0)][_0x44f4a5(0x128)](_0x50d773)};}catch(_0x419e51){throw new _0x4f208b(_0x522ceb[_0x44f4a5(0x2ab)],_0x44f4a5(0x197));}}[_0x23d54f(0x308)](_0x294c89){const _0x5d7699=_0x23d54f;this['listenerUnsubscriber']=this[_0x5d7699(0x538)][_0x5d7699(0x308)](_0x294c89);}[_0x23d54f(0x3e0)](){const _0x77b4a9=_0x23d54f;this[_0x77b4a9(0x1d7)]?.();}async[_0x23d54f(0x237)](){const _0x2f7976=_0x23d54f,_0x3176d0=[_0x55fd23],_0x415c1a=[];await this['db'][_0x2f7976(0x237)](_0x4153b7=>{const _0x5b5eda=_0x2f7976;_0x4153b7[_0x5b5eda(0x23c)](_0x55fd23)||_0x4153b7[_0x5b5eda(0x5b9)](_0x55fd23);for(const _0x5319ee in this[_0x5b5eda(0x1da)][_0x5b5eda(0x44e)]){if(_0x3176d0['includes'](_0x5319ee))throw new _0x4f208b(_0x522ceb[_0x5b5eda(0x362)],'Back\x20off:\x20Table\x20name\x20reserved');const _0x353f55=this[_0x5b5eda(0x1da)][_0x5b5eda(0x44e)][_0x5319ee];if(_0x4153b7[_0x5b5eda(0x23c)](_0x5319ee)){_0x353f55[_0x5b5eda(0x5eb)]?.[_0x5b5eda(0x55e)](_0x5d5a36=>{const _0x2b1042=_0x5b5eda;_0x4153b7[_0x2b1042(0x1af)](_0x5319ee,_0x5d5a36[_0x2b1042(0x2bd)])||_0x4153b7[_0x2b1042(0x3e2)](_0x5319ee,_0x5d5a36['keyPath']);});for(const _0x466206 of _0x4153b7[_0x5b5eda(0x18a)](_0x5319ee))_0x353f55[_0x5b5eda(0x5eb)]?.[_0x5b5eda(0xad)](_0x1f9093=>_0x1f9093[_0x5b5eda(0x2bd)]===_0x466206)||_0x4153b7[_0x5b5eda(0x489)](_0x5319ee,_0x466206);}else _0x4153b7['createTable'](_0x5319ee),_0x353f55[_0x5b5eda(0x5eb)]?.[_0x5b5eda(0x55e)](_0x381fc4=>{const _0x19b7a7=_0x5b5eda;_0x4153b7[_0x19b7a7(0x3e2)](_0x5319ee,_0x381fc4['keyPath']);});}for(const _0x2483ce of _0x4153b7['getTables']())_0x3176d0[_0x5b5eda(0xc6)](_0x2483ce)||this['layout'][_0x5b5eda(0x44e)][_0x2483ce]||(_0x4153b7[_0x5b5eda(0x27e)](_0x2483ce),_0x415c1a['push'](_0x2483ce));}),this[_0x2f7976(0x280)](),this['setOnMessageHandler'](),this['setOnTableWriteHandler'](),_0x415c1a[_0x2f7976(0x55e)](_0x2913e8=>this['deleteTransactionsForTable'](_0x2913e8));}async[_0x23d54f(0x5bf)](_0x2bfb97,_0x4e7f4b){const _0x22abef=_0x23d54f;_0x2bfb97?(this['timeoutCallback']=_0x4e7f4b,this[_0x22abef(0x25d)]=setTimeout(_0x4e7f4b,_0x562987),this['systemTopic'][_0x22abef(0x127)]({'sourceId':this[_0x22abef(0x122)],'destinationIds':[_0x2bfb97],'messageType':_0x528d91['Content'],'content':{'type':_0x2e4279[_0x22abef(0x54f)],'label':this['label']}}),await this['isSync']):setTimeout(()=>{const _0x1815de=_0x22abef;this[_0x1815de(0x63a)](),this['publishSyncCompleted']();},0x0);}async[_0x23d54f(0xf1)](_0x763236){const _0x21d21b=_0x23d54f;if(!this[_0x21d21b(0xa0)])throw new _0x4ad60f(_0x4ad60f[_0x21d21b(0x34c)][_0x21d21b(0x4fa)]);await this[_0x21d21b(0x63f)];const _0x4296ff=await this[_0x21d21b(0xa0)][_0x21d21b(0x221)]();this[_0x21d21b(0x1c8)]['publish']({'sourceId':this['localId'],'destinationIds':[_0x763236],'messageType':_0x528d91[_0x21d21b(0xf2)],'content':{'type':_0x2e4279[_0x21d21b(0x5cf)],'label':this[_0x21d21b(0x24c)],'transactions':_0x4296ff}});}async['processTransactionsDump'](_0x10fea5,_0x3b69c7){const _0x126b6e=_0x23d54f;if(!this[_0x126b6e(0xa0)])throw new _0x4ad60f(_0x4ad60f[_0x126b6e(0x34c)][_0x126b6e(0x4fa)]);this[_0x126b6e(0x63a)]();const _0x2a49ce=await this['transactionTable'][_0x126b6e(0x221)]();for(const _0x5eb148 of _0x2a49ce){const _0x2ee3ac=_0x3b69c7['find'](_0x4ff1d5=>_0x4ff1d5['id']===_0x5eb148['id']);if(_0x2ee3ac&&this[_0x126b6e(0x4a3)](_0x5eb148,_0x2ee3ac)<=0x0)continue;const [_0x5b20ae,_0x2470ac]=_0x5eb148['id'][_0x126b6e(0x57f)]('::'),_0x29e59e=this[_0x126b6e(0x44e)][_0x126b6e(0x1dc)](_0x5b20ae),_0x35510c=await _0x29e59e?.[_0x126b6e(0x1dc)](_0x2470ac);_0x5eb148[_0x126b6e(0x2a7)]=_0x35510c,this[_0x126b6e(0x492)](_0x5eb148);}for(const _0x35bade of _0x3b69c7){const _0x5269bd=await this[_0x126b6e(0xa0)]['get'](_0x35bade['id']);if(!(_0x5269bd&&this[_0x126b6e(0x4a3)](_0x35bade,_0x5269bd)<=0x0)){if(_0x35bade['action']===_0x58ec52[_0x126b6e(0x20b)]){const [_0xd5a505,_0x24d179]=_0x35bade['id'][_0x126b6e(0x57f)]('::'),_0x4f4f61=this[_0x126b6e(0x44e)][_0x126b6e(0x1dc)](_0xd5a505);await _0x4f4f61?.[_0x126b6e(0x114)](_0x24d179,!0x1);}else this[_0x126b6e(0x60c)][_0x126b6e(0x140)](_0x35bade['id']);}}if(0x0===this[_0x126b6e(0x60c)][_0x126b6e(0xa9)])return this[_0x126b6e(0x63a)](),void this[_0x126b6e(0x5e3)]();this[_0x126b6e(0x25d)]=setTimeout(this[_0x126b6e(0x613)],_0x562987),this[_0x126b6e(0x1c8)]['publish']({'sourceId':this['localId'],'destinationIds':[_0x10fea5],'messageType':_0x528d91[_0x126b6e(0xf2)],'content':{'type':_0x2e4279[_0x126b6e(0x1b0)],'label':this[_0x126b6e(0x24c)],'transactionIds':this[_0x126b6e(0x60c)]}});}async[_0x23d54f(0x1f5)](_0x285ede,_0x26f958){const _0x56a8de=_0x23d54f;if(!this[_0x56a8de(0xa0)])throw new _0x4ad60f(_0x4ad60f['codes'][_0x56a8de(0x4fa)]);for(const _0x5613aa of _0x26f958){const _0x2fa91e=await this[_0x56a8de(0xa0)][_0x56a8de(0x1dc)](_0x5613aa);if(!_0x2fa91e)continue;const [_0x14e289,_0x1cbf8e]=_0x5613aa['split']('::'),_0x111e1e=this[_0x56a8de(0x44e)][_0x56a8de(0x1dc)](_0x14e289),_0x522953=await _0x111e1e?.[_0x56a8de(0x1dc)](_0x1cbf8e);_0x2fa91e[_0x56a8de(0x2a7)]=_0x522953,this[_0x56a8de(0x492)](_0x2fa91e,[_0x285ede]);}}async[_0x23d54f(0x2ff)](_0x4a3f44){const _0x25a6c4=_0x23d54f;if(!this[_0x25a6c4(0xa0)])throw new _0x4ad60f(_0x4ad60f[_0x25a6c4(0x34c)][_0x25a6c4(0x4fa)]);const _0x4ad807=await this[_0x25a6c4(0xa0)][_0x25a6c4(0x1dc)](_0x4a3f44['id']);if(_0x4ad807&&this[_0x25a6c4(0x4a3)](_0x4a3f44,_0x4ad807)<=0x0)return;const _0x71f86c={..._0x4a3f44};return delete _0x71f86c[_0x25a6c4(0x2a7)],await this[_0x25a6c4(0xa0)][_0x25a6c4(0x151)](_0x4a3f44['id'],_0x71f86c),_0x4a3f44;}[_0x23d54f(0x4a3)](_0x3c07cb,_0x113c46){const _0x3b1d4d=_0x23d54f;return _0x3c07cb[_0x3b1d4d(0x301)]<_0x113c46['timestamp']?-0x1:_0x3c07cb[_0x3b1d4d(0x301)]>_0x113c46[_0x3b1d4d(0x301)]?0x1:_0x3c07cb['priority']-_0x113c46[_0x3b1d4d(0x57c)];}async[_0x23d54f(0x418)](_0x2cfe7d){const _0x2bc20d=_0x23d54f;if(!this[_0x2bc20d(0xa0)])throw new _0x4ad60f(_0x4ad60f['codes'][_0x2bc20d(0x4fa)]);const _0x5761c9=_0x2cfe7d[_0x2bc20d(0x3e1)]+'::'+_0x2cfe7d[_0x2bc20d(0x3dc)],_0x108562=await _0x30a96f[_0x2bc20d(0x463)](),_0xbf6a68={'id':_0x5761c9,'priority':Math[_0x2bc20d(0x2ae)](),'timestamp':_0x108562,'action':_0x2cfe7d[_0x2bc20d(0x3ec)]};if(await this[_0x2bc20d(0x2ff)](_0xbf6a68))return _0xbf6a68;}async['deleteTransactionsForTable'](_0x31de91){const _0x3963e0=_0x23d54f;if(!this[_0x3963e0(0xa0)])throw new _0x4ad60f(_0x4ad60f['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x3982f2=_0x18d827[_0x3963e0(0x1e3)]('id')[_0x3963e0(0x2cb)](_0x3963e0(0x395),[_0x31de91+'::',_0x31de91+_0x3963e0(0x13b)]),_0x14ae26=await this[_0x3963e0(0xa0)][_0x3963e0(0x221)](_0x3982f2[_0x3963e0(0x144)]());for(const _0xd6f47f of _0x14ae26)await this[_0x3963e0(0xa0)][_0x3963e0(0x114)](_0xd6f47f['id']);}['setOnMessageHandler'](){const _0x741cca=_0x23d54f;this[_0x741cca(0x596)](async(_0x374750,_0x47cb32)=>{const _0xecc127=_0x741cca;if(_0x47cb32 instanceof File)return;if(!await this[_0xecc127(0x2ff)](_0x47cb32))return void this[_0xecc127(0x3a6)](_0x47cb32);if(!_0x47cb32[_0xecc127(0x2a7)])throw new _0x4ad60f(_0x4ad60f[_0xecc127(0x34c)][_0xecc127(0x16f)]);const [_0x1980a4,_0x532ec3]=_0x47cb32['id'][_0xecc127(0x57f)]('::'),_0x2b7cac=this[_0xecc127(0x44e)]['get'](_0x1980a4);if(!_0x2b7cac)throw new _0x4ad60f(_0x4ad60f['codes'][_0xecc127(0x23e)],{'table':_0x2b7cac});let _0x3b4283=0x0;switch(_0x47cb32[_0xecc127(0x3ec)]){case _0x58ec52['Add']:case _0x58ec52['Update']:{const _0x17cf2e=_0x2b7cac[_0xecc127(0x151)](_0x532ec3,_0x47cb32[_0xecc127(0x2a7)],!0x1);_0x3b4283=JSON[_0xecc127(0x235)](_0x47cb32[_0xecc127(0x2a7)])[_0xecc127(0xa9)],this[_0xecc127(0x60c)][_0xecc127(0xc6)](_0x47cb32['id'])&&this['syncTransactionsWritten'][_0xecc127(0x140)](_0x17cf2e);break;}case _0x58ec52['Delete']:{const _0x1c6172=_0x2b7cac[_0xecc127(0x114)](_0x532ec3,!0x1);this[_0xecc127(0x60c)][_0xecc127(0xc6)](_0x47cb32['id'])&&this[_0xecc127(0x5d2)][_0xecc127(0x140)](_0x1c6172);break;}}_0x2bad5b[_0xecc127(0x2c1)](_0x713fdd[_0xecc127(0x4c6)],{'type':_0xecc127(0x5bf),'label':this['label'],'userId':this[_0xecc127(0x122)],'tableName':_0x1980a4,'key':_0x532ec3,'size':_0x3b4283}),this['checkSyncComplete'](_0x47cb32);});}['setOnTableWriteHandler'](){const _0x556e1d=_0x23d54f;this[_0x556e1d(0x148)]=this['tableObserver'][_0x556e1d(0x308)](async _0x463130=>{const _0x5c8fe6=_0x556e1d;let _0x30be9a=0x0;switch(_0x463130['action']){case _0x58ec52[_0x5c8fe6(0xb6)]:case _0x58ec52['Update']:case _0x58ec52[_0x5c8fe6(0x20b)]:{const _0x2c7db8=await this[_0x5c8fe6(0x418)](_0x463130);if(!_0x2c7db8)return;_0x2c7db8[_0x5c8fe6(0x2a7)]=_0x463130[_0x5c8fe6(0x2a7)],this[_0x5c8fe6(0x492)](_0x2c7db8),_0x30be9a=JSON[_0x5c8fe6(0x235)](_0x463130[_0x5c8fe6(0x2a7)])[_0x5c8fe6(0xa9)],this[_0x5c8fe6(0x313)]+=0x1;break;}case _0x48cada[_0x5c8fe6(0x4e0)]:case _0x48cada[_0x5c8fe6(0x2cf)]:case _0x48cada[_0x5c8fe6(0x614)]:this[_0x5c8fe6(0x53b)]+=0x1;}_0x2bad5b[_0x5c8fe6(0x2c1)](_0x713fdd[_0x5c8fe6(0x4c6)],{'type':_0x463130['action'],'label':this[_0x5c8fe6(0x24c)],'userId':this[_0x5c8fe6(0x122)],'tableName':_0x463130[_0x5c8fe6(0x3e1)],'key':_0x463130[_0x5c8fe6(0x3dc)],'size':_0x30be9a}),this['sendStats']();});}[_0x23d54f(0x280)](){const _0x1dfb15=_0x23d54f;this['db']&&(this['transactionTable']||(this[_0x1dfb15(0xa0)]=this['db']['getTableConnector'](_0x55fd23)));}[_0x23d54f(0x63a)](){const _0x581ecc=_0x23d54f;this[_0x581ecc(0x25d)]&&(clearTimeout(this[_0x581ecc(0x25d)]),delete this[_0x581ecc(0x25d)]);}[_0x23d54f(0x5e3)](){const _0x10a615=_0x23d54f;this['eventListener'][_0x10a615(0x127)]({'event':_0x51f467[_0x10a615(0x46a)]}),this[_0x10a615(0x3d0)]?.(!0x0),delete this[_0x10a615(0x3d0)],this[_0x10a615(0x333)]();}async[_0x23d54f(0x1d4)](){const _0x620945=_0x23d54f;await Promise[_0x620945(0x4c2)](this['syncTransactionsWritten']),this[_0x620945(0x5e3)]();}['checkSyncComplete'](_0x242721){const _0x45a49a=_0x23d54f;this[_0x45a49a(0x60c)]['includes'](_0x242721['id'])&&(this['clearSyncTimeout'](),this[_0x45a49a(0x60c)]=this[_0x45a49a(0x60c)]['filter'](_0x23b5d8=>_0x23b5d8!==_0x242721['id']),0x0!==this['transactionsToSync'][_0x45a49a(0xa9)]?this[_0x45a49a(0x25d)]=setTimeout(this['timeoutCallback'],_0x562987):this['publishSyncCompletedAfterWrites']());}['sendStats'](){const _0x3c6fe5=_0x23d54f;this[_0x3c6fe5(0x645)]&&clearTimeout(this[_0x3c6fe5(0x645)]),this[_0x3c6fe5(0x645)]=setTimeout(async()=>{const _0x7b7b65=_0x3c6fe5;delete this[_0x7b7b65(0x645)];let _0x51d57c=0x0;for(const _0x3cbfa6 of this[_0x7b7b65(0x44e)][_0x7b7b65(0x54b)]())_0x51d57c+=await _0x3cbfa6['calculateSize']();this[_0x7b7b65(0x1c8)][_0x7b7b65(0x127)]({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x7b7b65(0xf2)],'content':{'type':_0x2e4279[_0x7b7b65(0xd6)],'label':this['label'],'stats':{'timestamp':Date[_0x7b7b65(0x111)](),'storage':_0x51d57c,'messagesSent':this[_0x7b7b65(0x276)],'messagesReceived':this[_0x7b7b65(0x579)],'bytesSent':this[_0x7b7b65(0x5f4)],'bytesReceived':this[_0x7b7b65(0x33b)],'writes':this[_0x7b7b65(0x313)],'reads':this[_0x7b7b65(0x53b)]}}}),_0x2bad5b[_0x7b7b65(0x43a)](_0x713fdd[_0x7b7b65(0x4c6)],_0x7b7b65(0x433)+this[_0x7b7b65(0x486)]+_0x7b7b65(0x433)+this['label'],_0x51d57c);},0x1388);}}const _0x524950=require('@crewdle/mist-connector-opfs'),_0x4e488d=require('@crewdle/mist-connector-indexed-db'),_0x3e02ac=require('@crewdle/mist-connector-webrtc-browser');var _0x30d98a,_0x3f983f,_0x2a4dd2,_0x11e49a,_0x4cc29c,_0x27f572,_0x222dd4,_0x248a73,_0x4a46d7;!function(_0x48689b){const _0x474f72=_0x23d54f;_0x48689b['AudioContext']='AudioContext',_0x48689b['AudioOutput']=_0x474f72(0x292),_0x48689b['AudioVolume']=_0x474f72(0x2de),_0x48689b[_0x474f72(0xbb)]=_0x474f72(0xbb),_0x48689b[_0x474f72(0x5be)]=_0x474f72(0x5be),_0x48689b[_0x474f72(0xba)]=_0x474f72(0xba),_0x48689b['Recording']=_0x474f72(0x248),_0x48689b[_0x474f72(0x4fd)]=_0x474f72(0x4fd),_0x48689b[_0x474f72(0x19c)]=_0x474f72(0x19c),_0x48689b['WebRTC']=_0x474f72(0x539);}(_0x30d98a||(_0x30d98a={}));class _0x25af95{[_0x23d54f(0xb2)];[_0x23d54f(0x13c)];[_0x23d54f(0x2ef)];constructor(_0x5c11bd=new Map(),_0x1f4e7f=new Map(),_0x42d468=new EventTarget()){const _0x282b10=_0x23d54f;this[_0x282b10(0xb2)]=_0x5c11bd,this['bufferedEvents']=_0x1f4e7f,this[_0x282b10(0x2ef)]=_0x42d468;}['emit']=(_0x10d396,_0x5b706c)=>this[_0x23d54f(0xb2)][_0x23d54f(0x201)](_0x10d396)?(_0x2bad5b[_0x23d54f(0x4dc)](_0x4edace[_0x23d54f(0x1f1)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x10d396,'data':_0x5b706c}),this[_0x23d54f(0x2ef)][_0x23d54f(0x52d)](new CustomEvent(_0x10d396,{'detail':_0x5b706c})),!0x0):(this['bufferEvent'](_0x10d396,_0x5b706c),!0x1);['on']=(_0x444770,_0x474489)=>{const _0x9c4b7=_0x23d54f,_0xa6c3a3=_0x37596d=>{const _0x2fc914=a0_0x3776;_0x2bad5b[_0x2fc914(0x4dc)](_0x4edace[_0x2fc914(0x1f1)],_0x2fc914(0x22f),_0x37596d[_0x2fc914(0x30e)],_0x37596d[_0x2fc914(0x592)]),_0x474489(_0x37596d[_0x2fc914(0x592)]);};return this[_0x9c4b7(0xb2)][_0x9c4b7(0x151)](_0x444770,_0xa6c3a3),this[_0x9c4b7(0x2ef)][_0x9c4b7(0x365)](_0x444770,_0xa6c3a3),_0x2bad5b[_0x9c4b7(0x4dc)](_0x4edace[_0x9c4b7(0x232)],'Subscribing\x20to\x20an\x20event:\x20on',_0x444770,_0x474489),this[_0x9c4b7(0x181)](_0x444770),this;};[_0x23d54f(0x48a)](_0x4f0ca0){const _0x12cf31=_0x23d54f;if(!_0x4f0ca0)return this[_0x12cf31(0xb2)]['forEach']((_0xf457e4,_0x2839bf)=>{const _0x403323=_0x12cf31;this[_0x403323(0x2ef)][_0x403323(0x33c)](_0x2839bf,_0xf457e4);}),void this[_0x12cf31(0xb2)][_0x12cf31(0x2e1)]();_0x12cf31(0x4eb)==typeof _0x4f0ca0&&this[_0x12cf31(0x601)](_0x4f0ca0),Array[_0x12cf31(0x104)](_0x4f0ca0)&&_0x4f0ca0[_0x12cf31(0x55e)](_0x3177d2=>{const _0x4cbbe7=_0x12cf31;this[_0x4cbbe7(0x601)](_0x3177d2);});}['removeListener'](_0xd5ffdd){const _0x370204=_0x23d54f,_0x236e41=this['registeredListeners']['get'](_0xd5ffdd);_0x236e41&&(this[_0x370204(0x2ef)]['removeEventListener'](_0xd5ffdd,_0x236e41),this[_0x370204(0xb2)][_0x370204(0x114)](_0xd5ffdd));}[_0x23d54f(0x5b2)](_0x179b18,_0x3f07c3){const _0x4034b7=_0x23d54f;_0x2bad5b[_0x4034b7(0x4dc)](_0x4edace[_0x4034b7(0x1f1)],_0x4034b7(0x13f),{'event':_0x179b18,'data':_0x3f07c3});const _0xecc6fd=this[_0x4034b7(0x13c)][_0x4034b7(0x1dc)](_0x179b18)||[];this[_0x4034b7(0x13c)][_0x4034b7(0x151)](_0x179b18,[..._0xecc6fd,_0x3f07c3]);}[_0x23d54f(0x181)](_0x20d40a){const _0x484560=_0x23d54f,_0xaf4f06=this[_0x484560(0x13c)]['get'](_0x20d40a);_0xaf4f06&&(_0xaf4f06[_0x484560(0x55e)](_0xf7b6bf=>{const _0x3fc5c1=_0x484560;_0x2bad5b[_0x3fc5c1(0x4dc)](_0x4edace[_0x3fc5c1(0x1f1)],'Consuming\x20buffered\x20event',{'event':_0x20d40a,'data':_0xf7b6bf}),this['eventTarget'][_0x3fc5c1(0x52d)](new CustomEvent(_0x20d40a,{'detail':_0xf7b6bf}));}),this['bufferedEvents'][_0x484560(0x114)](_0x20d40a));}}class _0x31e58f extends Error{constructor(_0x574571){const _0x41d530=_0x23d54f;super(_0x41d530(0x60f)+_0x574571);}}!function(_0xd3ccde){const _0xcd37a=_0x23d54f;_0xd3ccde[_0xd3ccde[_0xcd37a(0x1a4)]=0x0]=_0xcd37a(0x1a4),_0xd3ccde[_0xd3ccde['Optimization']=0x1]=_0xcd37a(0x2f8);}(_0x3f983f||(_0x3f983f={})),function(_0x4d6ddf){const _0x3c4f9e=_0x23d54f;_0x4d6ddf[_0x4d6ddf[_0x3c4f9e(0x610)]=0x0]='Offer',_0x4d6ddf[_0x4d6ddf[_0x3c4f9e(0x14c)]=0x1]=_0x3c4f9e(0x14c),_0x4d6ddf[_0x4d6ddf[_0x3c4f9e(0x1ab)]=0x2]=_0x3c4f9e(0x1ab),_0x4d6ddf[_0x4d6ddf['Success']=0x3]='Success',_0x4d6ddf[_0x4d6ddf[_0x3c4f9e(0x4f7)]=0x4]=_0x3c4f9e(0x4f7),_0x4d6ddf[_0x4d6ddf[_0x3c4f9e(0x540)]=0x5]='Restart',_0x4d6ddf[_0x4d6ddf[_0x3c4f9e(0x518)]=0x6]=_0x3c4f9e(0x518),_0x4d6ddf[_0x4d6ddf['Stats']=0x7]='Stats',_0x4d6ddf[_0x4d6ddf['OptimizationConnectionSuccess']=0x8]=_0x3c4f9e(0x39e);}(_0x2a4dd2||(_0x2a4dd2={})),function(_0x4ba41d){const _0x7987eb=_0x23d54f;_0x4ba41d[_0x4ba41d[_0x7987eb(0x18e)]=0x0]=_0x7987eb(0x18e),_0x4ba41d[_0x4ba41d[_0x7987eb(0x5b4)]=0x1]=_0x7987eb(0x5b4);}(_0x11e49a||(_0x11e49a={})),function(_0x2f2927){const _0x1a7ad6=_0x23d54f;_0x2f2927[_0x1a7ad6(0xba)]=_0x1a7ad6(0x49e);}(_0x4cc29c||(_0x4cc29c={})),function(_0x2f5d57){const _0x5df638=_0x23d54f;_0x2f5d57[_0x2f5d57[_0x5df638(0x4c5)]=0x0]=_0x5df638(0x4c5),_0x2f5d57[_0x2f5d57[_0x5df638(0x364)]=0x1]='UserUpdate',_0x2f5d57[_0x2f5d57[_0x5df638(0x435)]=0x2]=_0x5df638(0x435),_0x2f5d57[_0x2f5d57[_0x5df638(0x42f)]=0x3]='UserLeave';}(_0x27f572||(_0x27f572={})),function(_0x2ff1a3){const _0x12de41=_0x23d54f;_0x2ff1a3[_0x2ff1a3['Remediation']=0x0]=_0x12de41(0x1ea),_0x2ff1a3[_0x2ff1a3[_0x12de41(0x2ec)]=0x1]=_0x12de41(0x2ec);}(_0x222dd4||(_0x222dd4={})),function(_0x522762){const _0x33b808=_0x23d54f;_0x522762['Upgrade']=_0x33b808(0x307),_0x522762[_0x33b808(0x1c2)]=_0x33b808(0xf4);}(_0x248a73||(_0x248a73={})),function(_0x249256){const _0x61d51=_0x23d54f;_0x249256[_0x61d51(0x3e5)]='resolution',_0x249256[_0x61d51(0x33f)]=_0x61d51(0x14a);}(_0x4a46d7||(_0x4a46d7={}));const _0x4d7756=require('aws-amplify'),_0x4dc008=require('aws-amplify/utils'),_0x1dcf69=require('@aws-amplify/api'),_0x5e5981=require('@aws-amplify/core');class _0x17d569{['clusterId'];['localId'];[_0x23d54f(0x56c)];constructor(_0x546231,_0x1e81e3,_0x33cbed){const _0x37de2a=_0x23d54f;this['clusterId']=_0x546231,this[_0x37de2a(0x122)]=_0x1e81e3,this[_0x37de2a(0x56c)]=_0x33cbed;}[_0x23d54f(0x622)](){const _0x363729=_0x23d54f;return this[_0x363729(0x122)];}['getRemoteId'](){const _0x37153e=_0x23d54f;return this[_0x37153e(0x56c)];}}var _0x247439,_0x205747,_0x31f9ac;function _0x547eb8(_0x2d510d,_0xbb4462){const _0x17ccc7=_0x23d54f;return _0x2d510d[_0x17ccc7(0x49a)]===_0xbb4462;}function _0x5aaec1(_0x1aacbe,_0x51eb34){const _0x2fd916=_0x23d54f;return _0x1aacbe[_0x2fd916(0x590)]?.[_0x2fd916(0xc6)](_0x51eb34)??function(_0x4e8e99){return void 0x0===_0x4e8e99['destinationIds'];}(_0x1aacbe);}function _0x5b497a(_0x2cfc3e,{contentType:_0x233ca0,label:_0x386497,remoteId:_0x1a8d77}){return _0x2cfc3e+'-'+_0x233ca0+'-'+_0x386497+'-'+_0x1a8d77;}function _0x26d2c2(_0x3c7226,_0x40d75b,_0x1ad769){return''+_0x3c7226+_0x40d75b+_0x1ad769;}function _0xe3f596(_0x5891f3){const _0x9cab0c=_0x23d54f;return _0x5891f3===_0x205747['Incoming']?_0x9cab0c(0x60a):_0x9cab0c(0x117);}function _0x529a66(_0x17907f,_0x78db3b){const _0xb56c8c=_0x23d54f;return{'label':_0x17907f[_0xb56c8c(0x5f9)](),'contentType':_0x17907f[_0xb56c8c(0x2b9)](),'remoteId':_0x78db3b['getRemoteId'](),'supportsContentType':_0x78db3b[_0xb56c8c(0x2b2)]()[_0xb56c8c(0xc6)](_0x17907f['getContentType']())};}!function(_0x4d3190){const _0xa26559=_0x23d54f;_0x4d3190[_0x4d3190['Waiting']=0x0]=_0xa26559(0x29b),_0x4d3190[_0x4d3190[_0xa26559(0xf7)]=0x1]='Accepted',_0x4d3190[_0x4d3190[_0xa26559(0x246)]=0x2]='Rejected';}(_0x247439||(_0x247439={})),function(_0x7f2a69){const _0x4b8593=_0x23d54f;_0x7f2a69[_0x4b8593(0x3f3)]='in',_0x7f2a69[_0x4b8593(0x4d7)]=_0x4b8593(0x113);}(_0x205747||(_0x205747={}));class _0x39d2f0{[_0x23d54f(0x3fd)];[_0x23d54f(0x4cf)];constructor(_0x52ddba,_0x14ce00){const _0x477690=_0x23d54f;this['callback']=_0x52ddba,this[_0x477690(0x4cf)]=_0x14ce00;}[_0x23d54f(0x575)](_0x592e46){const _0x56c233=_0x23d54f;this[_0x56c233(0x3fd)](_0x592e46);}async['wait'](){await this['retryCallback']();}}class _0x534f57{[_0x23d54f(0x3fd)];['retryCallback'];constructor(_0x4d9616,_0x24ce27){const _0x3f9fc2=_0x23d54f;this[_0x3f9fc2(0x3fd)]=_0x4d9616,this[_0x3f9fc2(0x4cf)]=_0x24ce27;}async[_0x23d54f(0x575)](_0x1363de){await this['callback'](_0x1363de);}async[_0x23d54f(0x19f)](){await this['retryCallback']();}}function _0x372783(_0xf8adb0=()=>{},_0x1333bc=()=>!0x1,_0x2212fb=()=>{}){let _0x42b666,_0x541698,_0x5ae1dc=0x0;return{get 'size'(){return _0x5ae1dc;},get 'head'(){return _0x42b666;},get 'tail'(){return _0x541698;},set 'head'(_0x6a6b70){_0x42b666=_0x6a6b70;},set 'tail'(_0x46ce3e){_0x541698=_0x46ce3e;},'push'(_0x44a76f,_0x44e03c=!0x0){const _0x439cc5=a0_0x3776,_0x28b947={'value':_0x44a76f};_0x44e03c&&_0x1333bc(_0x28b947)?_0xf8adb0():(_0x541698&&(_0x28b947[_0x439cc5(0x36c)]=_0x541698,_0x541698[_0x439cc5(0x1f7)]=_0x28b947),_0x541698=_0x28b947,_0x42b666||(_0x42b666=_0x28b947),_0x5ae1dc+=0x1,_0x44e03c&&_0xf8adb0());},'pop'(){const _0x6ada51=a0_0x3776;if(!_0x541698)return;const _0x178419=_0x541698['value'];return _0x541698=_0x541698[_0x6ada51(0x36c)],_0x541698&&delete _0x541698[_0x6ada51(0x1f7)],_0x541698||(_0x42b666=void 0x0),_0x5ae1dc-=0x1,_0x178419;},'unshift'(_0x588ef7,_0x2dc170=!0x0){const _0x4079f2=a0_0x3776,_0x3955cc={'value':_0x588ef7};_0x2dc170&&_0x1333bc(_0x3955cc)?_0xf8adb0():(_0x42b666&&(_0x42b666[_0x4079f2(0x36c)]=_0x3955cc,_0x3955cc[_0x4079f2(0x1f7)]=_0x42b666),_0x42b666=_0x3955cc,_0x541698||(_0x541698=_0x3955cc),_0x5ae1dc+=0x1,_0x2dc170&&_0xf8adb0());},'shift'(){const _0x59d7f7=a0_0x3776;if(!_0x42b666)return;const _0x59fcd5=_0x42b666[_0x59d7f7(0x2a7)];return _0x42b666=_0x42b666[_0x59d7f7(0x1f7)],_0x42b666&&delete _0x42b666[_0x59d7f7(0x36c)],_0x42b666||(_0x541698=void 0x0),_0x5ae1dc-=0x1,_0x59fcd5;},'clear'(){_0x2212fb(),_0x42b666=void 0x0,_0x541698=void 0x0,_0x5ae1dc=0x0;}};}function _0x543cac(_0x4b9d9b,_0xee835=!0x1,_0x270659=()=>{},_0x4da2bf=()=>!0x1,_0x5a7635=()=>{}){let _0x38f623=!0x1;const _0x5645c5=_0x372783(async function(){const _0x1b1362=a0_0x3776;if(!_0x38f623){for(_0x38f623=!0x0;_0x5645c5['head'];){const _0x176c84=_0x5645c5['shift']();if(_0x176c84)try{_0x4b9d9b instanceof _0x39d2f0&&_0x4b9d9b['call'](_0x176c84),_0x4b9d9b instanceof _0x534f57&&await _0x4b9d9b['call'](_0x176c84),_0x270659(_0x176c84);}catch(_0x210075){_0xee835?_0x5645c5[_0x1b1362(0x140)](_0x176c84,!0x1):_0x5645c5['unshift'](_0x176c84,!0x1),await _0x4b9d9b[_0x1b1362(0x19f)]();}}_0x38f623=!0x1;}},_0x4da2bf,_0x5a7635);return _0x5645c5;}class _0x268850 extends _0x17d569{[_0x23d54f(0x455)];[_0x23d54f(0x116)];[_0x23d54f(0x155)]=_0x1dcf69[_0x23d54f(0x278)][_0x23d54f(0x2cc)];['connectionStateListener']=_0x2fd896();['messageListeners']=_0x2a58e2();[_0x23d54f(0x26f)];[_0x23d54f(0x139)];[_0x23d54f(0x380)]=_0x543cac(new _0x534f57(this['sendAction'][_0x23d54f(0x128)](this),this['waitConnected']['bind'](this)));['client'];constructor(_0x53dfa6,_0x50a9b6,_0x3a0acd,_0xcd0579,_0x4580c5){const _0x5d58a1=_0x23d54f;super(_0x50a9b6,_0x3a0acd,_0xcd0579),this[_0x5d58a1(0x455)]=_0x53dfa6,this[_0x5d58a1(0x116)]=_0x4580c5;}async[_0x23d54f(0x461)](){const _0x2d1fac=_0x23d54f;try{const _0x19e123=await this[_0x2d1fac(0x116)]['getIdToken'](),_0x6e891b={'getTokens':async()=>({'accessToken':(0x0,_0x5e5981['decodeJWT'])(_0x19e123),'idToken':(0x0,_0x5e5981[_0x2d1fac(0x264)])(_0x19e123)})};_0x4d7756[_0x2d1fac(0x55a)][_0x2d1fac(0x17d)]({'API':{'GraphQL':{'endpoint':_0x334137[_0x2d1fac(0x2dd)][_0x2d1fac(0x456)],'region':_0x334137[_0x2d1fac(0x2dd)][_0x2d1fac(0x10f)],'defaultAuthMode':_0x2d1fac(0x1f8)}}},{'Auth':{'tokenProvider':_0x6e891b}}),this[_0x2d1fac(0x28a)]=(0x0,_0x1dcf69[_0x2d1fac(0x131)])(),await this[_0x2d1fac(0x308)](),this[_0x2d1fac(0x139)]=_0x4dc008[_0x2d1fac(0x230)]['listen'](_0x2d1fac(0x25a),({payload:_0x1034a9})=>{const _0xbc640b=_0x2d1fac;if(_0x1034a9[_0xbc640b(0x391)]===_0x1dcf69['CONNECTION_STATE_CHANGE']){const _0x5c400d=_0x1034a9[_0xbc640b(0x530)];this['connectionState']=_0x5c400d[_0xbc640b(0x155)],this[_0xbc640b(0x38e)][_0xbc640b(0x127)](_0x5c400d[_0xbc640b(0x155)]),this[_0xbc640b(0x155)]===_0x1dcf69[_0xbc640b(0x278)][_0xbc640b(0x5a6)]&&(this[_0xbc640b(0x26f)]?.[_0xbc640b(0x3e0)](),delete this['subscription']),this[_0xbc640b(0x155)]===_0x1dcf69[_0xbc640b(0x278)][_0xbc640b(0x2cc)]&&(_0x2bad5b[_0xbc640b(0x302)]('appsync-disconnect',{'clusterId':this[_0xbc640b(0x486)],'userId':this[_0xbc640b(0x122)]}),this[_0xbc640b(0x308)]());}});}catch(_0x387189){_0x2bad5b['error'](_0x2d1fac(0xc0),{'clusterId':this[_0x2d1fac(0x486)],'userId':this['localId']});}}[_0x23d54f(0x168)](){const _0x25bdda=_0x23d54f;this[_0x25bdda(0x380)][_0x25bdda(0x2e1)](),this['listenUnsubscriber']?.(),this[_0x25bdda(0x26f)]?.[_0x25bdda(0x3e0)](),delete this[_0x25bdda(0x26f)];}[_0x23d54f(0x2db)](){const _0x2ccefb=_0x23d54f;return this[_0x2ccefb(0x155)]===_0x1dcf69[_0x2ccefb(0x278)][_0x2ccefb(0x1a9)];}[_0x23d54f(0x492)](_0x552f09){const _0x520204=_0x23d54f;this['retryQueue'][_0x520204(0x140)](_0x552f09);}[_0x23d54f(0x596)](_0x30f6c9){const _0x54dd41=_0x23d54f;return this[_0x54dd41(0x341)][_0x54dd41(0x308)](_0x30f6c9);}['getSupportedContentTypes'](){const _0x3fa75c=_0x23d54f;return[_0x49643d[_0x3fa75c(0x604)]];}async[_0x23d54f(0x239)](){const _0x4242b5=_0x23d54f;if(!this[_0x4242b5(0x2db)]())return new Promise(_0xac4e9=>{const _0x30d975=_0x4242b5,_0x3f95a0=this[_0x30d975(0x38e)]['subscribe'](_0x182bb3=>{const _0x29f7c5=_0x30d975;_0x182bb3===_0x1dcf69[_0x29f7c5(0x278)][_0x29f7c5(0x1a9)]&&(_0x3f95a0(),_0xac4e9());});});}async[_0x23d54f(0x3ff)](_0x28ab74){const _0x199e30=_0x23d54f;if(this[_0x199e30(0x155)]!==_0x1dcf69[_0x199e30(0x278)][_0x199e30(0x1a9)])throw new Error('AppSync\x20connection\x20not\x20ready');_0x28ab74[_0x199e30(0x590)]&&0x1===_0x28ab74[_0x199e30(0x590)]['length']?await this[_0x199e30(0x127)](_0x28ab74['destinationIds'][0x0],JSON[_0x199e30(0x235)](_0x28ab74)):_0x2bad5b[_0x199e30(0x302)](_0x199e30(0x4c7),{'clusterId':this[_0x199e30(0x486)],'userId':this[_0x199e30(0x122)]});}async['publish'](_0x399a04,_0x9c5703){const _0x32c9a2=_0x23d54f;if(!this['client'])throw new Error(_0x32c9a2(0xd9));_0x2bad5b[_0x32c9a2(0x4dc)](_0x4edace[_0x32c9a2(0x599)],_0x32c9a2(0x4ac),this[_0x32c9a2(0x122)],_0x9c5703),await this[_0x32c9a2(0x28a)]['graphql']({'query':_0x32c9a2(0xe4),'variables':{'name':await this[_0x32c9a2(0x3f1)](_0x399a04),'data':_0x9c5703}});}async[_0x23d54f(0x308)](){const _0x120bb6=_0x23d54f;if(this[_0x120bb6(0x26f)])return;if(!this['client'])throw new Error(_0x120bb6(0xd9));_0x2bad5b[_0x120bb6(0x4dc)](_0x4edace['Signaling'],_0x120bb6(0x572),this[_0x120bb6(0x122)]);const _0x4fbbf6=await this[_0x120bb6(0x28a)][_0x120bb6(0x477)]({'query':_0x120bb6(0x54a),'variables':{'name':await this[_0x120bb6(0x3f1)]()},'authToken':await this['authService']['getIdToken']()},{'Authorization':await this[_0x120bb6(0x116)][_0x120bb6(0x5ba)]()});this['subscription']=_0x4fbbf6['subscribe']({'next':({data:_0x1177e8})=>{const _0x345af1=_0x120bb6,_0x586011=JSON[_0x345af1(0x496)](_0x1177e8[_0x345af1(0x308)]['data']);!_0x547eb8(_0x586011,this[_0x345af1(0x122)])&&_0x5aaec1(_0x586011,this[_0x345af1(0x122)])&&this['messageListeners'][_0x345af1(0x127)](_0x586011);},'error':console[_0x120bb6(0x4dc)]});}async[_0x23d54f(0x3f1)](_0x58a68d){const _0x352d8b=_0x23d54f,_0x141282=await crypto[_0x352d8b(0x3c3)][_0x352d8b(0x28d)]('SHA-1',new TextEncoder()[_0x352d8b(0x5ee)](this['vendorId']+'-'+this[_0x352d8b(0x486)]+'-'+(_0x58a68d??this[_0x352d8b(0x122)])));return Array['from'](new Uint8Array(_0x141282))[_0x352d8b(0xc8)](_0x5035dc=>_0x5035dc[_0x352d8b(0xe6)](0x10)[_0x352d8b(0x1b7)](0x2,'0'))[_0x352d8b(0x44a)]('');}}!function(_0x398b5c){const _0x58cbd3=_0x23d54f;_0x398b5c[_0x398b5c['Add']=0x0]=_0x58cbd3(0xb6),_0x398b5c[_0x398b5c['Remove']=0x1]='Remove',_0x398b5c[_0x398b5c[_0x58cbd3(0x30c)]=0x2]='Update',_0x398b5c[_0x398b5c[_0x58cbd3(0x334)]=0x3]=_0x58cbd3(0x334),_0x398b5c[_0x398b5c['RemoteRemove']=0x4]=_0x58cbd3(0x608);}(_0x31f9ac||(_0x31f9ac={}));const _0x589ba4=require('uuid'),_0x17e8cf='0',_0x4e4aa2=_0x23d54f(0x5c2),_0x37b17b=0x3fc00;class _0x55ee12{[_0x23d54f(0x486)];[_0x23d54f(0x122)];[_0x23d54f(0x56c)];['iceServers'];[_0x23d54f(0x3c6)];['connectionConstructor'];['connection'];['dataChannel'];['currentVersion']=0x1;[_0x23d54f(0x1c8)];['handshakeCandidates']=[];['pendingHandshakeCandidates']=[];[_0x23d54f(0x2d8)];constructor(_0x47cbc7,_0x14b0ab,_0x44489b,_0x18268b,_0x488b5e,_0x55bd65){const _0x330d95=_0x23d54f;this[_0x330d95(0x486)]=_0x47cbc7,this[_0x330d95(0x122)]=_0x14b0ab,this['remoteId']=_0x44489b,this[_0x330d95(0x2f0)]=_0x18268b,this[_0x330d95(0x3c6)]=_0x488b5e,this[_0x330d95(0x524)]=_0x55bd65,this[_0x330d95(0x262)]=new this['connectionConstructor']({'handshakeServers':this[_0x330d95(0x2f0)]}),this[_0x330d95(0x1bb)]();}['close'](){const _0x4551df=_0x23d54f;this[_0x4551df(0x5ca)]();}[_0x23d54f(0x5b3)](_0x5cbc1a){const _0xde7465=_0x23d54f;this[_0xde7465(0x3c6)]=_0x5cbc1a;}async[_0x23d54f(0x2c4)](_0x7b0478,_0x183cd6){const _0x375362=_0x23d54f;if(_0x183cd6===this[_0x375362(0x56d)])for(const _0x3a49c3 of _0x7b0478){if(!this[_0x375362(0x262)][_0x375362(0x392)])return this[_0x375362(0x240)](_0x3a49c3);await this[_0x375362(0x262)]['addCandidate'](_0x3a49c3);}}[_0x23d54f(0x2db)](){const _0x333345=_0x23d54f;return this[_0x333345(0x2b5)](),_0x333345(0x605)===this[_0x333345(0x262)][_0x333345(0x155)]&&['connected',_0x333345(0x326)][_0x333345(0xc6)](this[_0x333345(0x262)][_0x333345(0x2a3)])&&_0x333345(0x156)!==this[_0x333345(0x262)]['signalingState']&&_0x333345(0x237)===this[_0x333345(0x353)]?.[_0x333345(0x15a)];}[_0x23d54f(0x5f5)](_0x1a53ee){const _0x1e826d=_0x23d54f;this[_0x1e826d(0x1c8)]=_0x1a53ee;}[_0x23d54f(0x3cc)](){delete this['systemTopic'];}[_0x23d54f(0x182)](_0x59f193){const _0xf3c8da=_0x23d54f;this[_0xf3c8da(0x5ca)](),this[_0xf3c8da(0x262)]=new this[(_0xf3c8da(0x524))]({'handshakeServers':this['iceServers']}),_0x59f193?this[_0xf3c8da(0x56d)]=_0x59f193:this[_0xf3c8da(0x56d)]+=0x1,this[_0xf3c8da(0x1bb)]();}[_0x23d54f(0x2e7)](){const _0x3d253d=_0x23d54f;this[_0x3d253d(0x583)][_0x3d253d(0x55e)](_0x332cb5=>this[_0x3d253d(0x262)][_0x3d253d(0xf8)](_0x332cb5)),this[_0x3d253d(0x583)]=[];}['publishSystemMessage'](_0xc68c66,_0x36c60e){const _0x35a71b=_0x23d54f;if(!this[_0x35a71b(0x1c8)])throw new _0x4ad60f(_0x4ad60f[_0x35a71b(0x34c)]['MissingSystemTopic'],{'content':_0xc68c66});const _0x26a127={'sourceId':this[_0x35a71b(0x122)],'destinationIds':[this[_0x35a71b(0x56c)]],'propagate':this[_0x35a71b(0x3c6)]!==_0x3f983f['Core'],'retry':this[_0x35a71b(0x3c6)]!==_0x3f983f[_0x35a71b(0x1a4)],'messageType':_0x528d91[_0x35a71b(0x525)],'content':_0xc68c66};_0x36c60e&&(_0x26a127['uuid']=_0x36c60e),this[_0x35a71b(0x1c8)]['publish'](_0x26a127);}[_0x23d54f(0x1bb)](){const _0x3d6927=_0x23d54f;this[_0x3d6927(0x262)]['onGatheringStateChange']=()=>{const _0x3cb7cf=_0x3d6927;_0x3cb7cf(0x220)===this[_0x3cb7cf(0x262)][_0x3cb7cf(0x373)]&&this['handshakeCandidates'][_0x3cb7cf(0xa9)]>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x3cb7cf(0x2d8)]),this['handshakeDebounce']=setTimeout(()=>{const _0x337a47=_0x3cb7cf;delete this[_0x337a47(0x2d8)],this[_0x337a47(0x403)](),this[_0x337a47(0x571)]=[];},0x1f4));},this['connection'][_0x3d6927(0x372)]=_0x47c604=>{const _0xdefae4=_0x3d6927;_0x47c604['candidate']&&this[_0xdefae4(0x571)]['push'](_0x47c604['candidate']);};}[_0x23d54f(0x5ca)](){const _0x9666ac=_0x23d54f;clearTimeout(this['handshakeDebounce']),delete this[_0x9666ac(0x2d8)],this[_0x9666ac(0x571)]=[],this[_0x9666ac(0x353)]&&(this[_0x9666ac(0x353)]['onMessage']=null,this[_0x9666ac(0x353)][_0x9666ac(0x192)]=null,this['dataChannel'][_0x9666ac(0x168)](),delete this['dataChannel']),this[_0x9666ac(0x262)][_0x9666ac(0x574)]=null,this[_0x9666ac(0x262)][_0x9666ac(0x372)]=null,this[_0x9666ac(0x262)][_0x9666ac(0x367)]=null,this[_0x9666ac(0x262)]['onConnectionStateChange']=null,this[_0x9666ac(0x262)]['onTrack']=null,this[_0x9666ac(0x262)]['onDataChannel']=null,this[_0x9666ac(0x262)][_0x9666ac(0x168)]();}[_0x23d54f(0x240)](_0x4162c1){const _0x4f3b0f=_0x23d54f;this[_0x4f3b0f(0x583)][_0x4f3b0f(0x140)](_0x4162c1);}['logConnectionState'](){const _0x33e1da=_0x23d54f;_0x2bad5b[_0x33e1da(0x4dc)](_0x4edace['ConnectionState'],_0x33e1da(0xda),{'localId':this[_0x33e1da(0x122)],'remoteId':this[_0x33e1da(0x56c)],'connectionState':this[_0x33e1da(0x262)][_0x33e1da(0x155)],'handshakeState':this['connection'][_0x33e1da(0x2a3)],'signalingState':this['connection']['signalingState'],'dataChannelState':this[_0x33e1da(0x353)]?.[_0x33e1da(0x15a)]});}}function _0x4f1f42(_0x496b5f,_0x352999){const _0x4d0790=_0x23d54f;_0x352999[_0x4d0790(0x127)]({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x4d0790(0x525)],'content':_0x496b5f});}class _0x50d086{static [_0x23d54f(0x23d)];[_0x23d54f(0x3f7)]=[];constructor(){setInterval(()=>{const _0x139a35=a0_0x3776;this[_0x139a35(0x3f7)]['forEach'](_0xb572b9=>{const _0x225199=_0x139a35;if(Date['now']()-_0xb572b9[_0x225199(0x5fe)]>_0xb572b9[_0x225199(0x2d7)]){try{_0xb572b9[_0x225199(0x3fd)]();}catch(_0x59137a){}_0xb572b9['lastExecuted']=Date[_0x225199(0x111)]();}});},0x64);}static['getInstance'](){const _0x372266=_0x23d54f;return _0x50d086[_0x372266(0x23d)]||(_0x50d086[_0x372266(0x23d)]=new _0x50d086()),_0x50d086[_0x372266(0x23d)];}[_0x23d54f(0x5bc)](_0x3f903a){const _0x355197=_0x23d54f,_0x404af4=this[_0x355197(0x345)](_0x3f903a),_0x1ba139=_0x3f903a[_0x355197(0x531)]();_0x1ba139&&_0x404af4&&(_0x1ba139['gain'][_0x355197(0x2a7)]=0.001,_0x404af4[_0x355197(0x461)](_0x1ba139),_0x1ba139[_0x355197(0x461)](_0x3f903a[_0x355197(0xde)]),_0x404af4[_0x355197(0x2bb)]());}[_0x23d54f(0x19f)](_0x1b5ee6){return new Promise(_0x294b54=>{setTimeout(_0x294b54,_0x1b5ee6);});}[_0x23d54f(0x158)](_0x3c06fc,_0x1708d0){const _0x4126dc=_0x23d54f;return this[_0x4126dc(0x3f7)][_0x4126dc(0x140)]({'callback':_0x3c06fc,'interval':_0x1708d0,'lastExecuted':Date[_0x4126dc(0x111)]()}),()=>{const _0x2b4059=_0x4126dc;this[_0x2b4059(0x3f7)]=this[_0x2b4059(0x3f7)][_0x2b4059(0x3a0)](_0x47ff9f=>_0x47ff9f[_0x2b4059(0x3fd)]!==_0x3c06fc);};}['createConstantSource'](_0x26a4e8){const _0x5dbfdd=_0x23d54f;if(_0x26a4e8[_0x5dbfdd(0x345)])return _0x26a4e8[_0x5dbfdd(0x345)]();const _0x17c964=_0x26a4e8['createBufferSource'](),_0x42ad67=_0x26a4e8[_0x5dbfdd(0x4e4)](0x1,0x1,_0x26a4e8[_0x5dbfdd(0x4de)]);return _0x42ad67[_0x5dbfdd(0x473)](0x0)[0x0]=0xa,_0x17c964['buffer']=_0x42ad67,_0x17c964['loop']=!0x0,_0x17c964;}}const _0x2aa01e=_0x50d086[_0x23d54f(0x154)](),_0x458d79=[_0x23d54f(0x525),'Node',_0x23d54f(0xf2),'Subscription',_0x23d54f(0x627),_0x23d54f(0x186),_0x23d54f(0x1ea)],_0x9a1078=[[_0x23d54f(0x610),_0x23d54f(0x14c),_0x23d54f(0x1ab),'Success','NeedRestart',_0x23d54f(0x540),'Disconnect','Stats',_0x23d54f(0x39e)],[_0x23d54f(0x4c5),'UserUpdate','UserConnectionsUpdate',_0x23d54f(0x42f)],[_0x23d54f(0x5dd),_0x23d54f(0x2e9),_0x23d54f(0x328),_0x23d54f(0x359),_0x23d54f(0x1dd),_0x23d54f(0x1f0),_0x23d54f(0x400),_0x23d54f(0x3ac),_0x23d54f(0x2b3),_0x23d54f(0x424),_0x23d54f(0x535),_0x23d54f(0x54f),'SendTransactionsDump',_0x23d54f(0x1b0),'ObjectStoreStats',_0x23d54f(0xd6)],[_0x23d54f(0x328),'UpdateMediaStream',_0x23d54f(0x1dd),_0x23d54f(0x10a),_0x23d54f(0x637),_0x23d54f(0x4e9),_0x23d54f(0x5c9),_0x23d54f(0x317)],['StreamReport',_0x23d54f(0x200)],[_0x23d54f(0xfa)],[_0x23d54f(0x1ea),'RemoteRemediation']];function _0x162d3b(_0x3f94a2){const _0x4032e4=_0x23d54f;return{..._0x3f94a2,'systemMessageType':_0x458d79[_0x3f94a2[_0x4032e4(0xc5)]],'systemContentMessageType':_0x9a1078[_0x3f94a2[_0x4032e4(0xc5)]][_0x3f94a2[_0x4032e4(0x36e)][_0x4032e4(0x30e)]]};}const _0x583b22={'hour':'2-digit','minute':'2-digit','second':_0x23d54f(0x35f)};function _0x1ba0af(_0x599ef1,_0x59b1ea){const _0x5a40fb=_0x23d54f,_0x144ecd=(function(){const _0x1807b6=a0_0x3776,_0x7090ba=new Date(),_0x313ffa=_0x7090ba[_0x1807b6(0x62f)](),_0x3b6093=_0x7090ba['toLocaleDateString'](_0x1807b6(0x55d),_0x583b22)[_0x1807b6(0x560)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x3b6093+'.'+(_0x313ffa>0x64?''+_0x313ffa:_0x313ffa>0xa?'0'+_0x313ffa:'00'+_0x313ffa);}()),{sourceId:_0x3f0a39,destinationIds:_0x18621f,systemMessageType:_0x34ab4e,systemContentMessageType:_0x230903}=_0x162d3b(_0x599ef1);return _0x144ecd+_0x5a40fb(0x36b)+_0x59b1ea+_0x5a40fb(0x36b)+(_0x3f0a39===_0x59b1ea?'Sending\x20\x27'+_0x34ab4e+_0x5a40fb(0x27c)+(_0x18621f?''+_0x18621f:_0x5a40fb(0x4a1)):_0x599ef1[_0x5a40fb(0x49a)]===_0x50c8f3?'Internal\x20event\x20\x27'+_0x34ab4e+'\x27':(_0x18621f?'':_0x5a40fb(0x481))+_0x5a40fb(0x3f9)+_0x34ab4e+'\x27\x20from\x20'+_0x3f0a39)+_0x5a40fb(0x557)+_0x230903+'\x27\x20payload:';}class _0x586800 extends _0x55ee12{['messageCallback']=_0x2fd896();[_0x23d54f(0x4df)]=_0x2fd896();[_0x23d54f(0x401)]=_0x2fd896();[_0x23d54f(0x2c3)]=new Map();['chunks']=new Map();[_0x23d54f(0x318)];[_0x23d54f(0x579)]=0x0;[_0x23d54f(0x537)]={'messages':{'total':0x0}};[_0x23d54f(0x33b)]=0x0;[_0x23d54f(0x24d)]=0x0;[_0x23d54f(0x168)](){const _0x813a69=_0x23d54f;this[_0x813a69(0x419)](),this[_0x813a69(0x2c3)][_0x813a69(0x2e1)](),super[_0x813a69(0x168)]();}async[_0x23d54f(0x2d2)](_0x174f62,_0x1bc986){const _0x1dcfa1=_0x23d54f;this[_0x1dcfa1(0x56d)]=_0x1bc986,this['clearWaitSuccess']();const _0x218dac=await this[_0x1dcfa1(0x262)]['createAnswer'](_0x174f62);this['processPendingHandshakeCandidates']();const _0x26fa30=(0x0,_0x589ba4['v4'])();this['publishSystemMessage']({'type':_0x2a4dd2[_0x1dcfa1(0x14c)],'answer':_0x218dac,'version':_0x1bc986,'connectionType':this[_0x1dcfa1(0x3c6)]},_0x26fa30),this['connectionType']===_0x3f983f['Core']&&(this[_0x1dcfa1(0x318)]=_0x2aa01e[_0x1dcfa1(0x158)](()=>{const _0x4c2737=_0x1dcfa1;this[_0x4c2737(0x3c9)]({'type':_0x2a4dd2[_0x4c2737(0x14c)],'answer':_0x218dac,'version':_0x1bc986,'connectionType':this[_0x4c2737(0x3c6)]},_0x26fa30);},0x1388));}[_0x23d54f(0x3ba)](){this['clearWaitSuccess']();}[_0x23d54f(0x521)](_0x10ff6b){const _0x94a6af=_0x23d54f;this[_0x94a6af(0x182)](_0x10ff6b),this[_0x94a6af(0x3c9)]({'type':_0x2a4dd2[_0x94a6af(0x540)]});}async['collectStats'](){const _0x2e5ce1=_0x23d54f;this[_0x2e5ce1(0x1c8)]&&(await this[_0x2e5ce1(0x262)][_0x2e5ce1(0x491)](this[_0x2e5ce1(0x2c3)],(_0x46bedd,_0x234677)=>{const _0x991bee=_0x2e5ce1;_0x4f1f42({'type':_0x2a4dd2['Stats'],'streamId':_0x234677,'userId':this[_0x991bee(0x56c)],'stats':_0x46bedd},this[_0x991bee(0x1c8)]);}),this[_0x2e5ce1(0x1c8)]['publish']({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x2e5ce1(0x525)],'content':{'type':_0x2a4dd2['Stats'],'userId':this[_0x2e5ce1(0x56c)],'stats':{'origin':_0x11e49a[_0x2e5ce1(0x5b4)],'timestamp':Date[_0x2e5ce1(0x111)](),'messagesReceived':this[_0x2e5ce1(0x579)],'bytesReceived':this['bytesReceived'],'timeReceiving':this[_0x2e5ce1(0x24d)],'systemMessages':this[_0x2e5ce1(0x537)]}}}));}[_0x23d54f(0x596)](_0x117878){const _0x155877=_0x23d54f;return this[_0x155877(0x580)][_0x155877(0x308)](_0x117878);}[_0x23d54f(0x464)](_0x21d918){const _0xb34309=_0x23d54f;return this[_0xb34309(0x4df)][_0xb34309(0x308)](({track:_0x1a2d47,stream:_0x978c10})=>_0x21d918(_0x1a2d47,_0x978c10));}[_0x23d54f(0x62c)](_0x51aa3f){const _0x30d113=_0x23d54f;return this['removeTrackCallback'][_0x30d113(0x308)](({track:_0x5a84e1,stream:_0x4e073c})=>_0x51aa3f(_0x5a84e1,_0x4e073c));}[_0x23d54f(0x182)](_0x2b1652){const _0x1d949e=_0x23d54f;this['clearWaitSuccess'](),this['receivers'][_0x1d949e(0x55e)](_0x594572=>{const _0x36b020=_0x1d949e;_0x594572[_0x36b020(0x2e1)]();}),super[_0x1d949e(0x182)](_0x2b1652);}[_0x23d54f(0x403)](){const _0x53d519=_0x23d54f;this['publishSystemMessage']({'type':_0x2a4dd2['Handshake'],'candidates':this[_0x53d519(0x571)],'origin':_0x11e49a['Receiver'],'version':this['currentVersion'],'connectionType':this[_0x53d519(0x3c6)]});}[_0x23d54f(0x1bb)](){const _0x75bbf3=_0x23d54f;super[_0x75bbf3(0x1bb)](),this['connection'][_0x75bbf3(0x464)]=_0x37ddd9=>{const _0x44feb3=_0x75bbf3;_0x2bad5b[_0x44feb3(0x4dc)](_0x4edace['Connection'],_0x44feb3(0x4ca),this[_0x44feb3(0x122)],_0x37ddd9),_0x37ddd9[_0x44feb3(0x457)][0x0][_0x44feb3(0x1ba)]=_0x4ae2b1=>{const _0x4b8518=_0x44feb3;this['receivers'][_0x4b8518(0x1dc)](_0x37ddd9['streams'][0x0]['id'])?.[_0x4b8518(0x114)](_0x4ae2b1[_0x4b8518(0x396)]),0x0===this[_0x4b8518(0x2c3)][_0x4b8518(0x1dc)](_0x37ddd9[_0x4b8518(0x457)][0x0]['id'])?.[_0x4b8518(0x4ba)]&&this[_0x4b8518(0x2c3)][_0x4b8518(0x114)](_0x37ddd9[_0x4b8518(0x457)][0x0]['id']),this[_0x4b8518(0x401)][_0x4b8518(0x127)]({'track':_0x4ae2b1[_0x4b8518(0x396)],'stream':_0x37ddd9['streams'][0x0]});},this['receivers']['has'](_0x37ddd9[_0x44feb3(0x457)][0x0]['id'])||this[_0x44feb3(0x2c3)][_0x44feb3(0x151)](_0x37ddd9['streams'][0x0]['id'],new Set()),this[_0x44feb3(0x2c3)][_0x44feb3(0x1dc)](_0x37ddd9[_0x44feb3(0x457)][0x0]['id'])[_0x44feb3(0xf5)](_0x37ddd9[_0x44feb3(0x396)]),this[_0x44feb3(0x4df)][_0x44feb3(0x127)]({'track':_0x37ddd9[_0x44feb3(0x396)],'stream':_0x37ddd9[_0x44feb3(0x457)][0x0]});},this['connection'][_0x75bbf3(0x3ab)]=_0x4ff23f=>{const _0x549400=_0x75bbf3;this[_0x549400(0x353)]=_0x4ff23f['channel'],this[_0x549400(0x353)][_0x549400(0x596)]=_0x3a21a3=>{const _0x4cd681=_0x549400;if(_0x3a21a3[_0x4cd681(0x530)]!==_0x17e8cf)this['handleOnMessage'](_0x3a21a3[_0x4cd681(0x530)]);else{if(!this[_0x4cd681(0x353)])return void _0x2bad5b[_0x4cd681(0x302)]('missing-datachannel',{'clusterId':this[_0x4cd681(0x486)],'userId':this[_0x4cd681(0x122)],'remoteId':this[_0x4cd681(0x56c)],'data':{'connection':'receiver'}});if(_0x4cd681(0x237)!==this[_0x4cd681(0x353)][_0x4cd681(0x15a)])return;this[_0x4cd681(0x353)][_0x4cd681(0x492)]('1');}};};}[_0x23d54f(0x357)](_0x2453a2){const _0x250483=_0x23d54f;if(_0x250483(0x4eb)==typeof _0x2453a2&&_0x2453a2[_0x250483(0x4d6)](_0x4e4aa2))return this[_0x250483(0x579)]+=0x1,this['bytesReceived']+=_0x2453a2[_0x250483(0xa9)],this[_0x250483(0x511)](_0x2453a2);setTimeout(()=>{const _0x4e05fe=_0x250483,_0x367491=Date['now']();let _0x35cd8e;if((_0x2453a2 instanceof ArrayBuffer||_0x2453a2[_0x4e05fe(0xa9)]<=_0x37b17b)&&(this[_0x4e05fe(0x579)]+=0x1,this[_0x4e05fe(0x33b)]+=_0x2453a2 instanceof ArrayBuffer?_0x2453a2[_0x4e05fe(0x566)]:_0x2453a2['length']),_0x2453a2 instanceof ArrayBuffer){const [_0x3d318d,_0x5e563f]=this[_0x4e05fe(0x597)](_0x2453a2);_0x35cd8e=_0x3d318d,_0x35cd8e[_0x4e05fe(0x36e)][_0x4e05fe(0x530)]=_0x5e563f;}else _0x35cd8e=JSON[_0x4e05fe(0x496)](_0x2453a2);if(0x0===_0x35cd8e[_0x4e05fe(0x46c)]){this[_0x4e05fe(0x537)][_0x4e05fe(0x37b)]['total']+=0x1;const {systemMessageType:_0x1e59bc,systemContentMessageType:_0x20f706}=_0x162d3b(_0x35cd8e);this[_0x4e05fe(0x537)][_0x1e59bc]||(this['systemMessagesReceived'][_0x1e59bc]={[_0x20f706]:0x0}),this[_0x4e05fe(0x537)][_0x1e59bc][_0x20f706]||(this[_0x4e05fe(0x537)][_0x1e59bc][_0x20f706]=0x0),this[_0x4e05fe(0x537)][_0x1e59bc][_0x4e05fe(0x4f6)]||(this[_0x4e05fe(0x537)][_0x1e59bc][_0x4e05fe(0x4f6)]=0x0),this[_0x4e05fe(0x537)][_0x1e59bc][_0x20f706]+=0x1,this[_0x4e05fe(0x537)][_0x1e59bc]['total']+=0x1;}this[_0x4e05fe(0x580)][_0x4e05fe(0x127)](_0x35cd8e),this[_0x4e05fe(0x24d)]+=Date[_0x4e05fe(0x111)]()-_0x367491;},0x0);}[_0x23d54f(0x511)](_0x271163){const _0x322c04=_0x23d54f,_0x1f2106=_0x271163[_0x322c04(0x57f)](';'),_0x3090a5=_0x1f2106[0x1],_0xd338b2=parseInt(_0x1f2106[0x2],0xa),_0x163a4a=parseInt(_0x1f2106[0x3],0xa),_0x159651=_0x271163['replace'](_0x4e4aa2+';'+_0x3090a5+';'+_0xd338b2+';'+_0x163a4a+';','');this[_0x322c04(0x4c0)][_0x322c04(0x201)](_0x3090a5)||this['chunks'][_0x322c04(0x151)](_0x3090a5,[]);const _0x4a9bfc=this[_0x322c04(0x4c0)]['get'](_0x3090a5);_0x4a9bfc[_0xd338b2]=_0x159651,_0x4a9bfc[_0x322c04(0xa9)]===_0x163a4a&&(this['handleOnMessage'](_0x4a9bfc['join']('')),this[_0x322c04(0x4c0)][_0x322c04(0x114)](_0x3090a5));}[_0x23d54f(0x419)](){const _0x4f36ac=_0x23d54f;this[_0x4f36ac(0x318)]?.(),delete this['waitSuccess'];}[_0x23d54f(0x37e)](_0x4287cb){const _0x4b6b93=_0x23d54f,_0x6757e6=new TextDecoder()[_0x4b6b93(0x428)](_0x4287cb);return JSON[_0x4b6b93(0x496)](_0x6757e6);}['splitParts'](_0x39fe41){const _0x34ac40=_0x23d54f,_0x2d0914=new Uint8Array(_0x39fe41['slice'](0x0,0x4)),_0x3bca88=new Uint32Array(_0x2d0914['buffer'])[0x0],_0x17eae3=new Uint8Array(_0x39fe41[_0x34ac40(0x52b)](0x4,0x4+_0x3bca88)),_0x48700d=new Uint8Array(_0x39fe41[_0x34ac40(0x52b)](0x4+_0x3bca88));return[this[_0x34ac40(0x37e)](_0x17eae3[_0x34ac40(0x621)]),_0x48700d['buffer']];}}const _0x445dfb=0xc350;var _0x286b68,_0x2b8c9a,_0x5a22c1,_0x47abe3,_0x4885b5;!function(_0x5184d3){const _0x9ba0c5=_0x23d54f;_0x5184d3[_0x5184d3[_0x9ba0c5(0x1db)]=0x0]=_0x9ba0c5(0x1db),_0x5184d3[_0x5184d3[_0x9ba0c5(0x4b8)]=0x1]=_0x9ba0c5(0x4b8),_0x5184d3[_0x5184d3[_0x9ba0c5(0x1bc)]=0x2]='Low';}(_0x286b68||(_0x286b68={}));class _0x1e0106 extends _0x55ee12{['maxFps'];[_0x23d54f(0x322)];[_0x23d54f(0x472)]=new Map();[_0x23d54f(0x4a2)];[_0x23d54f(0x5c0)];['lastHeartbeat'];[_0x23d54f(0x5a7)]=!0x1;['connectionTimeout'];[_0x23d54f(0x50e)];[_0x23d54f(0x36d)];[_0x23d54f(0x380)]=function(e,t=_0x286b68,s=!0x1){let i=!0x1;const n=[];async function a(){const _0x2fe3b8=a0_0x3776;if(!i){for(i=!0x0;n[_0x2fe3b8(0x167)](e=>e[_0x2fe3b8(0x216)]);){let t,i=0x0;for(const [e,s]of n[_0x2fe3b8(0x62d)]())if(t=s[_0x2fe3b8(0x44c)](),i=e,t)break;if(t)try{if(e instanceof _0x39d2f0&&e['call'](t),e instanceof _0x534f57&&await e[_0x2fe3b8(0x575)](t),n[_0x2fe3b8(0x52b)](-0x1)['some'](e=>e[_0x2fe3b8(0x216)]))continue;const s=n[_0x2fe3b8(0xa9)]-0x1;i===s&&n[s][_0x2fe3b8(0x216)]&&await _0x2aa01e[_0x2fe3b8(0x19f)](0x0);}catch(a){s?n[i]['push'](t,!0x1):n[i]['unshift'](t,!0x1),await e[_0x2fe3b8(0x19f)]();}}i=!0x1;}}return Object['values'](t)['forEach'](e=>{'string'!=typeof e&&(n[e]=_0x372783(a));}),{'queues':n};}(new _0x39d2f0(this[_0x23d54f(0x3ff)][_0x23d54f(0x128)](this),this[_0x23d54f(0x503)]['bind'](this)));[_0x23d54f(0x276)]=0x0;[_0x23d54f(0x5f4)]=0x0;[_0x23d54f(0x1df)]=0x0;[_0x23d54f(0xaa)]=0x0;[_0x23d54f(0x35e)];constructor(_0x3e27ca,_0x266cb3,_0x2bd350,_0x3003f6,_0x570d19,_0x5e77e5,_0x5df1ed,_0x45ba37){const _0x33a678=_0x23d54f;super(_0x3e27ca,_0x266cb3,_0x2bd350,_0x3003f6,_0x570d19,_0x45ba37),this[_0x33a678(0x112)]=_0x5e77e5,this[_0x33a678(0x322)]=_0x5df1ed;}[_0x23d54f(0x168)](){const _0x213396=_0x23d54f;this[_0x213396(0x3ee)](),this[_0x213396(0x1ce)](),delete this[_0x213396(0x14b)],this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this[_0x213396(0x3ca)](),this[_0x213396(0x472)][_0x213396(0x2e1)](),this[_0x213396(0x5a7)]=!0x1,this[_0x213396(0x380)][_0x213396(0x43e)][_0x213396(0x55e)](_0x43470d=>_0x43470d['clear']()),this[_0x213396(0x478)](),super[_0x213396(0x168)]();}[_0x23d54f(0x2db)](){const _0x14d844=_0x23d54f;return!!this[_0x14d844(0x14b)]&&super[_0x14d844(0x2db)]()&&Date[_0x14d844(0x111)]()-this[_0x14d844(0x14b)]<0x3a98;}async['collectStats'](){const _0x10b6ac=_0x23d54f;this[_0x10b6ac(0x1c8)]&&(await this['connection']['collectSendersStats'](this[_0x10b6ac(0x472)],(_0x376651,_0x3718a0)=>{const _0x3a0956=_0x10b6ac;_0x4f1f42({'type':_0x2a4dd2[_0x3a0956(0x627)],'streamId':_0x3718a0,'userId':this[_0x3a0956(0x56c)],'stats':_0x376651},this[_0x3a0956(0x1c8)]);}),this[_0x10b6ac(0x1c8)]['publish']({'sourceId':_0x50c8f3,'messageType':_0x528d91['PeerConnection'],'content':{'type':_0x2a4dd2[_0x10b6ac(0x627)],'userId':this[_0x10b6ac(0x56c)],'stats':{'origin':_0x11e49a[_0x10b6ac(0x18e)],'timestamp':Date[_0x10b6ac(0x111)](),'messagesSent':this[_0x10b6ac(0x276)],'bytesSent':this['bytesSent'],'timeSending':this['timeSending'],'roundTripTime':this['roundTripTime']}}}));}async[_0x23d54f(0x3ed)](_0x5d3cd0){const _0x3e3154=_0x23d54f;_0x2bad5b[_0x3e3154(0x4dc)](_0x4edace[_0x3e3154(0xe9)],_0x3e3154(0x5dc),this[_0x3e3154(0x122)],this[_0x3e3154(0x56c)]),this['clearRestartTimeout'](),this[_0x3e3154(0x54d)](),this[_0x3e3154(0x3ca)](),this[_0x3e3154(0x119)]=setTimeout(()=>{const _0x5e5804=_0x3e3154;this[_0x5e5804(0x474)]();},0x7530),this[_0x3e3154(0x353)]||(this[_0x3e3154(0x353)]=this[_0x3e3154(0x262)][_0x3e3154(0x3f4)](_0x3e3154(0x530)),this[_0x3e3154(0x353)][_0x3e3154(0x330)]=0x10000,this[_0x3e3154(0x353)]['onClose']=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x57f769=a0_0x3776;delete this[_0x57f769(0x35e)],[_0x57f769(0x4ab),_0x57f769(0x237)][_0x57f769(0xc6)](this['dataChannel']?.[_0x57f769(0x15a)]??'')||this['handleDisconnect']();},0xfa);});const _0x5424e2=await this['connection'][_0x3e3154(0x3ed)](_0x5d3cd0);this['lastHeartbeat']||(this[_0x3e3154(0x14b)]=Date[_0x3e3154(0x111)]());const _0x672085=(0x0,_0x589ba4['v4'])();this[_0x3e3154(0x3c9)]({'type':_0x2a4dd2[_0x3e3154(0x610)],'offer':_0x5424e2,'version':this['currentVersion'],'connectionType':this['connectionType']},_0x672085),this[_0x3e3154(0x3c6)]===_0x3f983f['Core']&&(this[_0x3e3154(0x5c0)]=_0x2aa01e[_0x3e3154(0x158)](()=>{const _0x29d9fa=_0x3e3154;this[_0x29d9fa(0x3c9)]({'type':_0x2a4dd2['Offer'],'offer':_0x5424e2,'version':this[_0x29d9fa(0x56d)],'connectionType':this[_0x29d9fa(0x3c6)]},_0x672085);},0x1388));}async['handleAnswer'](_0x18b08b,_0x1bf79d){const _0x445f8d=_0x23d54f;if(_0x1bf79d===this[_0x445f8d(0x56d)]){this['clearWaitAnswer']();try{await this[_0x445f8d(0x262)][_0x445f8d(0x37d)](_0x18b08b,this[_0x445f8d(0x3ed)]['bind'](this)),this[_0x445f8d(0x2e7)](),this[_0x445f8d(0x54d)](),this[_0x445f8d(0x2f3)]();}catch(_0x323ffc){this[_0x445f8d(0x474)]();}}}[_0x23d54f(0x492)](_0x1259b9){const _0x1ec5b1=_0x23d54f;if(!this[_0x1ec5b1(0x353)])throw new _0x4ad60f(_0x4ad60f[_0x1ec5b1(0x34c)][_0x1ec5b1(0x1b3)],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x1ec5b1(0x122)],'remoteId':this[_0x1ec5b1(0x56c)],'eventMessage':_0x1259b9});if(_0x1ec5b1(0x237)!==this[_0x1ec5b1(0x353)][_0x1ec5b1(0x15a)])throw new _0x4ad60f(_0x4ad60f[_0x1ec5b1(0x34c)][_0x1ec5b1(0x1b3)],{'message':_0x1ec5b1(0x421),'localId':this[_0x1ec5b1(0x122)],'remoteId':this[_0x1ec5b1(0x56c)],'eventMessage':_0x1259b9});let _0x1a7418;if(_0x1259b9['content'][_0x1ec5b1(0x530)]instanceof ArrayBuffer){const _0x30b170=_0x1259b9[_0x1ec5b1(0x36e)][_0x1ec5b1(0x530)];delete _0x1259b9[_0x1ec5b1(0x36e)]['data'],_0x1a7418=this['mergeParts'](_0x1259b9,_0x30b170);}else _0x1a7418=JSON[_0x1ec5b1(0x235)](_0x1259b9);if(_0x1ec5b1(0x4eb)==typeof _0x1a7418&&_0x1a7418[_0x1ec5b1(0xa9)]>_0x37b17b)return this[_0x1ec5b1(0x3b8)](_0x1259b9,_0x1a7418);const _0x4683c5=0x0===_0x1259b9[_0x1ec5b1(0x46c)]&&[_0x528d91[_0x1ec5b1(0x24f)],_0x528d91[_0x1ec5b1(0x525)]][_0x1ec5b1(0xc6)](_0x1259b9['messageType'])?_0x286b68[_0x1ec5b1(0x1db)]:_0x1259b9 instanceof ArrayBuffer?_0x286b68['Low']:_0x286b68[_0x1ec5b1(0x4b8)];this[_0x1ec5b1(0xe5)](_0x1a7418,_0x4683c5);}[_0x23d54f(0x561)](_0x4f9db8,_0x55c2d6,_0xbaa420,_0x3933f4){const _0x3278b1=_0x23d54f,_0x93c5c6=(_0x207034=this[_0x3278b1(0x112)],_0x1027e0=this[_0x3278b1(0x322)],Math[_0x3278b1(0x4dd)](0xe1000*_0x207034*_0x1027e0));var _0x207034,_0x1027e0;const _0x369d1a=this['senders'][_0x3278b1(0x1dc)](_0x55c2d6['id'])||{'stream':_0x55c2d6,'priority':_0xbaa420,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x93c5c6,'maxBitrate':_0x93c5c6,'framerate':this[_0x3278b1(0x112)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x3933f4},_0x5bed31=_0x369d1a[_0x3278b1(0x440)][_0x4f9db8['kind']]||{'track':_0x4f9db8};if(_0x5bed31['sender']?(_0x5bed31[_0x3278b1(0x396)]=_0x4f9db8,this[_0x3278b1(0x262)][_0x3278b1(0x256)](_0x4f9db8,_0x5bed31['sender'])):_0x5bed31[_0x3278b1(0x39f)]=this[_0x3278b1(0x262)][_0x3278b1(0x561)](_0x4f9db8,_0x55c2d6),_0x369d1a[_0x3278b1(0x440)][_0x4f9db8[_0x3278b1(0x363)]]=_0x5bed31,_0x3933f4&&(_0x369d1a['params']=_0x3933f4),_0x3933f4&&_0x3278b1(0x55f)===_0x3933f4[_0x3278b1(0x363)]&&_0x3933f4[_0x3278b1(0x5ab)]&&_0x3933f4[_0x3278b1(0x123)]&&(_0x369d1a[_0x3278b1(0x299)]=this[_0x3278b1(0x1d2)](_0x3933f4['resolution'],_0x3933f4[_0x3278b1(0x123)]),_0x369d1a[_0x3278b1(0x482)]=_0x369d1a[_0x3278b1(0x299)],_0x369d1a['tracks'][_0x3278b1(0x55f)]&&_0x369d1a['tracks'][_0x3278b1(0x55f)][_0x3278b1(0x39f)])){const _0x1734b2=_0x369d1a[_0x3278b1(0x440)][_0x3278b1(0x55f)]['sender'];this[_0x3278b1(0x262)]['setEncodingParameters'](_0x1734b2,Math[_0x3278b1(0x4dd)](0xa*_0x369d1a[_0x3278b1(0x299)])/0xa,_0x369d1a[_0x3278b1(0x5fc)],_0x369d1a[_0x3278b1(0x14a)],_0x369d1a[_0x3278b1(0x57c)]);}this[_0x3278b1(0x472)][_0x3278b1(0x151)](_0x55c2d6['id'],_0x369d1a);}['setPriority'](_0x5267f3,_0x555767){const _0x288811=_0x23d54f,_0x52f3b5=this[_0x288811(0x472)]['get'](_0x5267f3['id']);if(_0x52f3b5&&_0x52f3b5['priority']!==_0x555767&&(_0x52f3b5[_0x288811(0x57c)]=_0x555767,_0x52f3b5[_0x288811(0x440)]['video']&&_0x52f3b5[_0x288811(0x440)]['video']['sender'])){const _0x265be1=_0x52f3b5[_0x288811(0x440)][_0x288811(0x55f)][_0x288811(0x39f)];this[_0x288811(0x262)][_0x288811(0x5fa)](_0x265be1,Math['floor'](0xa*_0x52f3b5[_0x288811(0x299)])/0xa,_0x52f3b5['framerate'],_0x52f3b5[_0x288811(0x14a)],_0x52f3b5[_0x288811(0x57c)]);}}['setParams'](_0xc21113,_0x4f4c3d){const _0x278373=_0x23d54f,_0x1199de=this[_0x278373(0x472)][_0x278373(0x1dc)](_0xc21113['id']);if(_0x1199de){if(_0x1199de['params']=_0x4f4c3d,_0x4f4c3d&&_0x278373(0x55f)===_0x4f4c3d[_0x278373(0x363)]&&_0x4f4c3d[_0x278373(0x5ab)]&&_0x4f4c3d['maxResolution']){if(_0x1199de['minResolutionScale']=this[_0x278373(0x1d2)](_0x4f4c3d[_0x278373(0x5ab)],_0x4f4c3d['maxResolution']),_0x1199de['resolutionScale']<_0x1199de[_0x278373(0x482)]&&(_0x1199de[_0x278373(0x299)]=_0x1199de[_0x278373(0x482)]),_0x1199de[_0x278373(0x440)][_0x278373(0x55f)]&&_0x1199de[_0x278373(0x440)][_0x278373(0x55f)][_0x278373(0x39f)]){const _0x184be7=_0x1199de[_0x278373(0x440)][_0x278373(0x55f)][_0x278373(0x39f)];this[_0x278373(0x262)]['setEncodingParameters'](_0x184be7,Math[_0x278373(0x4dd)](0xa*_0x1199de['resolutionScale'])/0xa,_0x1199de['framerate'],_0x1199de[_0x278373(0x14a)],_0x1199de[_0x278373(0x57c)]);}this[_0x278373(0x3ee)](),this[_0x278373(0x202)]();}this[_0x278373(0x472)][_0x278373(0x151)](_0xc21113['id'],_0x1199de);}}[_0x23d54f(0x99)](_0x57ef1e,_0xf20e67){const _0x408950=_0x23d54f,_0x5bb659=this[_0x408950(0x472)][_0x408950(0x1dc)](_0xf20e67['id']);if(_0x5bb659){const _0x2f519c=_0x5bb659[_0x408950(0x440)][_0x57ef1e[_0x408950(0x363)]];_0x2f519c&&(_0x2f519c['sender']&&this[_0x408950(0x262)]['removeTrack'](_0x2f519c[_0x408950(0x39f)]),_0x2f519c['track']=void 0x0);}}['applyRemediation'](_0x24573b){const _0x17d7a4=_0x23d54f;this['clearUpgradeTimeout']();const _0x2d7fa5=function(_0x36f5e1,_0x47d9e7){const _0xb900d2=a0_0x3776;return _0x36f5e1[_0xb900d2(0x203)]((_0x2fa8e0,_0x5e95de)=>_0x47d9e7['action']===_0x248a73[_0xb900d2(0x1c2)]?_0x5e95de['priority']-_0x2fa8e0[_0xb900d2(0x57c)]:_0x2fa8e0['priority']-_0x5e95de[_0xb900d2(0x57c)])[_0xb900d2(0xad)](_0x58e5d8=>function(_0xf0cef8,_0xb6aed2){const _0x4bc840=_0xb900d2;if(_0xb6aed2['action']===_0x248a73[_0x4bc840(0x1c2)]){if(_0xb6aed2[_0x4bc840(0x642)]===_0x4a46d7[_0x4bc840(0x3e5)])return _0xf0cef8['resolutionScale']<0x4||_0xf0cef8['maxFramerate']>0xf;if(_0xb6aed2[_0x4bc840(0x642)]===_0x4a46d7['Bitrate'])return _0xf0cef8[_0x4bc840(0x5f8)]>_0x445dfb;}return _0xf0cef8[_0x4bc840(0x299)]>_0xf0cef8[_0x4bc840(0x482)]||_0xf0cef8['framerate']<_0xf0cef8[_0x4bc840(0x3b1)]||_0xf0cef8['bitrate']<_0xf0cef8[_0x4bc840(0x5f8)];}(_0x58e5d8,_0x47d9e7));}(Array['from'](this[_0x17d7a4(0x472)][_0x17d7a4(0x54b)]()),_0x24573b);if(_0x2d7fa5&&(function(_0x2803a9,_0x1ec2f8){const _0x48075e=_0x17d7a4;_0x2803a9[_0x48075e(0x440)][_0x48075e(0x55f)]&&_0x2803a9['tracks'][_0x48075e(0x55f)][_0x48075e(0x39f)]&&(_0x2803a9['resolutionScale']=function(_0x8ff396,_0x4a61f7,_0x5c0fa3){const _0x437ef1=_0x48075e;switch(_0x5c0fa3[_0x437ef1(0x3ec)]){case _0x248a73[_0x437ef1(0x1c2)]:_0x5c0fa3[_0x437ef1(0x642)]===_0x4a46d7['Resolution']&&(_0x8ff396+=0.5)>0x4&&(_0x8ff396=0x4);break;case _0x248a73[_0x437ef1(0x606)]:(_0x8ff396-=0.5)<_0x4a61f7&&(_0x8ff396=_0x4a61f7);}return _0x8ff396;}(_0x2803a9['resolutionScale'],_0x2803a9['minResolutionScale'],_0x1ec2f8),_0x2803a9[_0x48075e(0x5fc)]=function(_0x2614cf,_0x264cc5,_0x23eb99){const _0x2ca0ed=_0x48075e;switch(_0x23eb99[_0x2ca0ed(0x3ec)]){case _0x248a73[_0x2ca0ed(0x1c2)]:_0x23eb99[_0x2ca0ed(0x642)]===_0x4a46d7[_0x2ca0ed(0x3e5)]&&(_0x2614cf-=0x3)<0xf&&(_0x2614cf=0xf);break;case _0x248a73[_0x2ca0ed(0x606)]:(_0x2614cf+=0x3)>_0x264cc5&&(_0x2614cf=_0x264cc5);}return _0x2614cf;}(_0x2803a9[_0x48075e(0x5fc)],_0x2803a9[_0x48075e(0x3b1)],_0x1ec2f8),_0x2803a9[_0x48075e(0x14a)]=function(_0x42ff8e,_0x449896,_0x109c75){const _0x2d4964=_0x48075e;switch(_0x109c75[_0x2d4964(0x3ec)]){case _0x248a73[_0x2d4964(0x1c2)]:_0x109c75[_0x2d4964(0x642)]===_0x4a46d7[_0x2d4964(0x33f)]&&(_0x42ff8e*=0.75)<_0x445dfb&&(_0x42ff8e=_0x445dfb);break;case _0x248a73[_0x2d4964(0x606)]:(_0x42ff8e*=1.25)>_0x449896&&(_0x42ff8e=_0x449896);}return _0x42ff8e;}(_0x2803a9['bitrate'],_0x2803a9[_0x48075e(0x5f8)],_0x1ec2f8));}(_0x2d7fa5,_0x24573b),_0x2d7fa5[_0x17d7a4(0x440)]['video']&&_0x2d7fa5[_0x17d7a4(0x440)][_0x17d7a4(0x55f)][_0x17d7a4(0x39f)])){const _0x3eb10b=_0x2d7fa5[_0x17d7a4(0x440)][_0x17d7a4(0x55f)]['sender'];this[_0x17d7a4(0x262)][_0x17d7a4(0x5fa)](_0x3eb10b,Math['floor'](0xa*_0x2d7fa5[_0x17d7a4(0x299)])/0xa,_0x2d7fa5[_0x17d7a4(0x5fc)],_0x2d7fa5[_0x17d7a4(0x14a)],_0x2d7fa5[_0x17d7a4(0x57c)]);}(_0x2d7fa5||_0x24573b[_0x17d7a4(0x3ec)]===_0x248a73['Downgrade'])&&this['setUpgradeTimeout']();}[_0x23d54f(0x182)](){const _0x3ed21c=_0x23d54f;super[_0x3ed21c(0x182)](),this[_0x3ed21c(0x478)](),this['clearWaitAnswer'](),this[_0x3ed21c(0x472)][_0x3ed21c(0x55e)](_0x51c52c=>{const _0x2cd207=_0x3ed21c;_0x51c52c[_0x2cd207(0x440)]['video']&&(_0x51c52c[_0x2cd207(0x440)][_0x2cd207(0x55f)][_0x2cd207(0x39f)]=void 0x0),_0x51c52c[_0x2cd207(0x440)][_0x2cd207(0x11b)]&&(_0x51c52c[_0x2cd207(0x440)][_0x2cd207(0x11b)][_0x2cd207(0x39f)]=void 0x0);}),this[_0x3ed21c(0x5a7)]=!0x0;}async[_0x23d54f(0x503)](){return new Promise(async _0x125df8=>{const _0x47a75b=a0_0x3776;if(!this[_0x47a75b(0x353)]||'open'!==this[_0x47a75b(0x353)][_0x47a75b(0x15a)])return await _0x2aa01e[_0x47a75b(0x19f)](0x64),void _0x125df8();this[_0x47a75b(0x353)]['bufferedAmount']<0x10000?_0x125df8():this['dataChannel']['onBufferedAmountLow']=()=>{const _0x21edac=_0x47a75b;this['dataChannel']&&(this[_0x21edac(0x353)][_0x21edac(0x10e)]=null),_0x125df8();};});}['sendChunked'](_0x77886a,_0x3b853a){const _0x2deb8c=_0x23d54f,_0x40b134=[];for(let _0x391439=0x0;_0x391439<_0x3b853a['length'];_0x391439+=_0x37b17b)_0x40b134[_0x2deb8c(0x140)](_0x3b853a[_0x2deb8c(0x52b)](_0x391439,_0x391439+_0x37b17b));for(const _0x31421a of _0x40b134)this[_0x2deb8c(0xe5)](_0x4e4aa2+';'+_0x77886a[_0x2deb8c(0x56f)]+';'+_0x40b134[_0x2deb8c(0x528)](_0x31421a)+';'+_0x40b134['length']+';'+_0x31421a,_0x286b68['Low']);}async[_0x23d54f(0xe5)](_0x47a517,_0x388268){const _0x1886a4=_0x23d54f;_0x47a517===_0x17e8cf?this[_0x1886a4(0x380)][_0x1886a4(0x43e)][_0x388268][_0x1886a4(0x216)]?.[_0x1886a4(0x2a7)]!==_0x17e8cf&&this[_0x1886a4(0x380)][_0x1886a4(0x43e)][_0x388268][_0x1886a4(0x17a)](_0x47a517):this['retryQueue']['queues'][_0x388268][_0x1886a4(0x140)](_0x47a517);}[_0x23d54f(0x3ff)](_0x53b197){const _0x272b93=_0x23d54f;if(!this['dataChannel']||_0x272b93(0x237)!==this[_0x272b93(0x353)]['state'])throw new Error('DataChannel\x20is\x20not\x20open.');const _0x5802ec=Date[_0x272b93(0x111)]();_0x53b197!==_0x17e8cf&&(this[_0x272b93(0x276)]+=0x1,this[_0x272b93(0x5f4)]+=_0x53b197 instanceof ArrayBuffer?_0x53b197[_0x272b93(0x566)]:_0x53b197[_0x272b93(0xa9)]),ArrayBuffer,this['dataChannel'][_0x272b93(0x492)](_0x53b197),this[_0x272b93(0x1df)]+=Date[_0x272b93(0x111)]()-_0x5802ec;}[_0x23d54f(0x2f3)](){const _0x1616f4=_0x23d54f;this['heartbeatUnsubscriber']&&this[_0x1616f4(0x1ce)]();let _0x553272=!0x0,_0x5c43d6=Date['now']();this['lastHeartbeat']=Date[_0x1616f4(0x111)](),this[_0x1616f4(0x353)]['onMessage']=_0x224ab0=>{const _0x518a5d=_0x1616f4;'1'===_0x224ab0[_0x518a5d(0x530)]&&(this[_0x518a5d(0xaa)]=Date['now']()-_0x5c43d6,_0x553272&&this[_0x518a5d(0x3c9)]({'type':_0x2a4dd2[_0x518a5d(0x5d0)]}),_0x553272=!0x1,this['lastHeartbeat']=Date[_0x518a5d(0x111)](),this[_0x518a5d(0x5a7)]&&(this[_0x518a5d(0x5a7)]=!0x1,this[_0x518a5d(0x5af)]()));},this['heartbeatUnsubscriber']=_0x2aa01e['setInterval'](()=>{const _0x5b36c0=_0x1616f4;_0x5c43d6=Date[_0x5b36c0(0x111)](),this['sendWithRetry'](_0x17e8cf,_0x286b68[_0x5b36c0(0x1db)]),Date[_0x5b36c0(0x111)]()-this['lastHeartbeat']>(_0x553272?0x15f90:0x3a98)&&this[_0x5b36c0(0x474)]();},0xbb8);}[_0x23d54f(0x5af)](){const _0x18c230=_0x23d54f;this[_0x18c230(0x472)]['forEach'](_0x102589=>{const _0x2f8416=_0x18c230;_0x102589[_0x2f8416(0x440)]['video']&&_0x102589[_0x2f8416(0x440)][_0x2f8416(0x55f)]['track']&&!_0x102589['tracks'][_0x2f8416(0x55f)][_0x2f8416(0x39f)]&&(_0x102589['tracks'][_0x2f8416(0x55f)][_0x2f8416(0x39f)]=this[_0x2f8416(0x262)][_0x2f8416(0x561)](_0x102589[_0x2f8416(0x440)]['video'][_0x2f8416(0x396)],_0x102589['stream'])),_0x102589[_0x2f8416(0x440)]['audio']&&_0x102589[_0x2f8416(0x440)]['audio']['track']&&!_0x102589[_0x2f8416(0x440)][_0x2f8416(0x11b)][_0x2f8416(0x39f)]&&(_0x102589[_0x2f8416(0x440)][_0x2f8416(0x11b)]['sender']=this[_0x2f8416(0x262)][_0x2f8416(0x561)](_0x102589[_0x2f8416(0x440)][_0x2f8416(0x11b)][_0x2f8416(0x396)],_0x102589[_0x2f8416(0x126)]));});}[_0x23d54f(0x403)](){const _0x471de3=_0x23d54f;this[_0x471de3(0x3c9)]({'type':_0x2a4dd2[_0x471de3(0x1ab)],'candidates':this[_0x471de3(0x571)],'origin':_0x11e49a[_0x471de3(0x18e)],'version':this[_0x471de3(0x56d)],'connectionType':this[_0x471de3(0x3c6)]});}[_0x23d54f(0x1bb)](){const _0x3cda49=_0x23d54f;super[_0x3cda49(0x1bb)](),this[_0x3cda49(0x262)][_0x3cda49(0x367)]=()=>{const _0x591ae5=_0x3cda49;if(_0x591ae5(0x4f0)===this[_0x591ae5(0x262)][_0x591ae5(0x2a3)]){if(_0x2bad5b[_0x591ae5(0x4dc)](_0x4edace[_0x591ae5(0x278)],_0x591ae5(0x2d3),this['localId'],this['remoteId']),this[_0x591ae5(0x262)][_0x591ae5(0x106)])return void this[_0x591ae5(0x262)][_0x591ae5(0x620)]();this[_0x591ae5(0x3ed)]({'handshakeRestart':!0x0});}},this[_0x3cda49(0x262)][_0x3cda49(0x634)]=()=>{const _0x242ad4=_0x3cda49;_0x242ad4(0x40c)!==this[_0x242ad4(0x262)][_0x242ad4(0x155)]&&_0x242ad4(0x4f0)!==this[_0x242ad4(0x262)]['connectionState']||this[_0x242ad4(0x474)]();};}[_0x23d54f(0x474)](){const _0x3edb32=_0x23d54f;this[_0x3edb32(0x1ce)](),this[_0x3edb32(0x2a5)](),this['clearConnectionTimeout'](),_0x2bad5b[_0x3edb32(0x1b4)](_0x3edb32(0x536),{'clusterId':this[_0x3edb32(0x486)],'userId':this[_0x3edb32(0x122)],'remoteId':this[_0x3edb32(0x56c)],'data':{'connectionType':this[_0x3edb32(0x3c6)],'connectionState':this[_0x3edb32(0x262)][_0x3edb32(0x155)],'iceConnectionState':this[_0x3edb32(0x262)]['handshakeState'],'signalingState':this[_0x3edb32(0x262)]['signalingState'],'readyState':this[_0x3edb32(0x353)]?.[_0x3edb32(0x15a)]||'','lastHeartbeat':this[_0x3edb32(0x14b)]?Date[_0x3edb32(0x111)]()-this[_0x3edb32(0x14b)]:'','retryQueue':this[_0x3edb32(0x380)]}}),(this[_0x3edb32(0x14b)]&&Date[_0x3edb32(0x111)]()-this[_0x3edb32(0x14b)]>0xea60)??0x1?this[_0x3edb32(0x1c8)][_0x3edb32(0x127)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x3edb32(0x122)]],'messageType':_0x528d91[_0x3edb32(0x525)],'content':{'type':_0x2a4dd2[_0x3edb32(0x518)]}}):(this[_0x3edb32(0x182)](),this['publishSystemMessage']({'type':_0x2a4dd2[_0x3edb32(0x4f7)],'version':this[_0x3edb32(0x56d)],'connectionType':this[_0x3edb32(0x3c6)]}),this[_0x3edb32(0x50e)]=setTimeout(()=>{const _0x46dcac=_0x3edb32;this[_0x46dcac(0x474)]();},0x7530));}[_0x23d54f(0x1ce)](){const _0x3ac4c0=_0x23d54f;this[_0x3ac4c0(0x4a2)]?.(),delete this[_0x3ac4c0(0x4a2)];}[_0x23d54f(0x54d)](){const _0x21bd97=_0x23d54f;this[_0x21bd97(0x119)]&&(clearTimeout(this[_0x21bd97(0x119)]),delete this[_0x21bd97(0x119)]);}[_0x23d54f(0x2a5)](){this['restartTimeout']&&(clearTimeout(this['restartTimeout']),delete this['restartTimeout']);}[_0x23d54f(0x3ee)](){const _0x15529e=_0x23d54f;this[_0x15529e(0x36d)]&&(clearTimeout(this[_0x15529e(0x36d)]),delete this[_0x15529e(0x36d)]);}[_0x23d54f(0x202)](){const _0x47b651=_0x23d54f;this[_0x47b651(0x36d)]=setTimeout(()=>{const _0x187755=_0x47b651;this[_0x187755(0x50c)]({'type':_0x222dd4[_0x187755(0x1ea)],'action':_0x248a73[_0x187755(0x606)]});},0x3a98);}[_0x23d54f(0x1d2)](_0x18911c,_0x42e7e9){const _0x1da699=_0x23d54f,_0x485f40=Math[_0x1da699(0x260)](_0x18911c[_0x1da699(0x587)]/_0x42e7e9[_0x1da699(0x587)],_0x18911c[_0x1da699(0x5c8)]/_0x42e7e9[_0x1da699(0x5c8)]);return Math[_0x1da699(0x5a3)](Math[_0x1da699(0x260)](_0x485f40,0x1),0x4);}[_0x23d54f(0x3ca)](){const _0x1a801d=_0x23d54f;this[_0x1a801d(0x5c0)]?.(),delete this[_0x1a801d(0x5c0)];}['clearOncloseTimeout'](){const _0x332c4e=_0x23d54f;this[_0x332c4e(0x35e)]&&(clearTimeout(this[_0x332c4e(0x35e)]),delete this['oncloseTimeout']);}[_0x23d54f(0x427)](_0x52a7ae){const _0x45965d=_0x23d54f,_0x419009=JSON['stringify'](_0x52a7ae);return new TextEncoder()[_0x45965d(0x5ee)](_0x419009)[_0x45965d(0x621)];}[_0x23d54f(0x60d)](_0x5872e5,_0x5eae34){const _0x27bc45=_0x23d54f,_0x4ef2fd=this['objectToArrayBuffer'](_0x5872e5),_0x3eff06=new Uint8Array(0x4),_0x1031f3=new Uint8Array(_0x4ef2fd),_0x4f0ef7=new Uint8Array(_0x5eae34);_0x3eff06[_0x27bc45(0x151)](new Uint8Array(new Uint32Array([_0x1031f3['length']])['buffer']));const _0x15dab7=new Uint8Array(0x4+_0x1031f3[_0x27bc45(0xa9)]+_0x4f0ef7[_0x27bc45(0xa9)]);return _0x15dab7[_0x27bc45(0x151)](_0x3eff06),_0x15dab7[_0x27bc45(0x151)](_0x1031f3,0x4),_0x15dab7[_0x27bc45(0x151)](_0x4f0ef7,0x4+_0x1031f3[_0x27bc45(0xa9)]),_0x15dab7[_0x27bc45(0x621)];}}class _0x540389 extends _0x17d569{[_0x23d54f(0x2f0)];['connectionType'];[_0x23d54f(0x112)];[_0x23d54f(0x322)];['connectionConstructor'];[_0x23d54f(0x173)];['receiverConnection'];['receiverUnsubscribers']=[];[_0x23d54f(0x341)]=_0x2a58e2();[_0x23d54f(0x1b5)]=_0x2a58e2();[_0x23d54f(0x2eb)]=_0x2a58e2();['listenerUnsubscribers']=[];[_0x23d54f(0x1c8)];['dataTopics']=new Map();[_0x23d54f(0x2a2)]=new Map();[_0x23d54f(0x617)]=new Map();[_0x23d54f(0x493)]=new Map();[_0x23d54f(0x59b)]=!0x1;constructor(_0x2ea77a,_0x26fba2,_0xae3ae5,_0x407f91,_0x1f8c38,_0x257c15,_0x48e1ee,_0x11c974){const _0x1f85ec=_0x23d54f;super(_0x2ea77a,_0x26fba2,_0xae3ae5),this[_0x1f85ec(0x2f0)]=_0x407f91,this[_0x1f85ec(0x3c6)]=_0x1f8c38,this[_0x1f85ec(0x112)]=_0x257c15,this[_0x1f85ec(0x322)]=_0x48e1ee,this[_0x1f85ec(0x524)]=_0x11c974;}[_0x23d54f(0x4a0)](_0x52cccc){const _0x3a5d86=_0x23d54f;switch(_0x52cccc[_0x3a5d86(0x2b9)]()){case _0x49643d[_0x3a5d86(0x604)]:case _0x49643d[_0x3a5d86(0x279)]:case _0x49643d[_0x3a5d86(0x61e)]:case _0x49643d[_0x3a5d86(0x4c6)]:this[_0x3a5d86(0x3e6)][_0x3a5d86(0x151)](_0x52cccc[_0x3a5d86(0xc7)](),_0x52cccc);break;case _0x49643d['Media']:this[_0x3a5d86(0x617)][_0x3a5d86(0x151)](_0x52cccc[_0x3a5d86(0xc7)](),_0x52cccc);}}['unregisterPublisher'](_0x2b2771){const _0x22d22d=_0x23d54f;switch(_0x2b2771[_0x22d22d(0x2b9)]()){case _0x49643d[_0x22d22d(0x604)]:case _0x49643d[_0x22d22d(0x279)]:case _0x49643d[_0x22d22d(0x61e)]:case _0x49643d[_0x22d22d(0x4c6)]:this[_0x22d22d(0x3e6)][_0x22d22d(0x114)](_0x2b2771[_0x22d22d(0xc7)]());break;case _0x49643d[_0x22d22d(0x265)]:this[_0x22d22d(0x617)]['delete'](_0x2b2771[_0x22d22d(0xc7)]());}}[_0x23d54f(0x4d8)](_0x1d0886){const _0x21490f=_0x23d54f;switch(_0x1d0886[_0x21490f(0x2b9)]()){case _0x49643d['Data']:case _0x49643d[_0x21490f(0x279)]:case _0x49643d[_0x21490f(0x61e)]:case _0x49643d[_0x21490f(0x4c6)]:{const _0x37a6f7=_0x1d0886['subscribe'](_0x4174f0=>{const _0x9af0bd=_0x21490f;_0x547eb8(_0x4174f0,this[_0x9af0bd(0x122)])&&_0x5aaec1(_0x4174f0,this[_0x9af0bd(0x56c)])&&this['send'](_0x4174f0);});this[_0x21490f(0x2a2)][_0x21490f(0x151)](_0x1d0886['getLabel'](),_0x37a6f7);break;}case _0x49643d['Media']:{const _0x9a821b=_0x1d0886[_0x21490f(0x308)](({content:_0x4c77eb})=>{const _0x58333b=_0x21490f;switch(_0x4c77eb[_0x58333b(0x3ec)]){case _0x31f9ac[_0x58333b(0xb6)]:this[_0x58333b(0x561)](_0x4c77eb['track'],_0x4c77eb[_0x58333b(0x126)],_0x4c77eb[_0x58333b(0x57c)],_0x4c77eb['params']);break;case _0x31f9ac[_0x58333b(0x3b4)]:this[_0x58333b(0x99)](_0x4c77eb[_0x58333b(0x396)],_0x4c77eb['stream']);break;case _0x31f9ac[_0x58333b(0x30c)]:_0x4c77eb[_0x58333b(0x57c)]&&this[_0x58333b(0x408)](_0x4c77eb[_0x58333b(0x126)],_0x4c77eb[_0x58333b(0x57c)]),_0x4c77eb[_0x58333b(0x185)]&&this[_0x58333b(0xc2)](_0x4c77eb[_0x58333b(0x126)],_0x4c77eb[_0x58333b(0x185)]);}});this[_0x21490f(0x493)][_0x21490f(0x151)](_0x1d0886[_0x21490f(0xc7)](),_0x9a821b);break;}}}['unregisterSubscriber'](_0x219695){const _0x5d8f05=_0x23d54f;switch(_0x219695[_0x5d8f05(0x2b9)]()){case _0x49643d[_0x5d8f05(0x604)]:case _0x49643d[_0x5d8f05(0x279)]:case _0x49643d['ObjectStore']:case _0x49643d[_0x5d8f05(0x4c6)]:this[_0x5d8f05(0x2a2)][_0x5d8f05(0x1dc)](_0x219695[_0x5d8f05(0xc7)]())?.(),this[_0x5d8f05(0x2a2)][_0x5d8f05(0x114)](_0x219695[_0x5d8f05(0xc7)]());break;case _0x49643d[_0x5d8f05(0x265)]:this[_0x5d8f05(0x493)][_0x5d8f05(0x1dc)](_0x219695[_0x5d8f05(0xc7)]())?.(),this[_0x5d8f05(0x493)][_0x5d8f05(0x114)](_0x219695[_0x5d8f05(0xc7)]());}}[_0x23d54f(0x2b2)](){const _0x5d5ca1=_0x23d54f;return[_0x49643d[_0x5d5ca1(0x604)],_0x49643d[_0x5d5ca1(0x265)],_0x49643d[_0x5d5ca1(0x279)],_0x49643d[_0x5d5ca1(0x61e)],_0x49643d[_0x5d5ca1(0x4c6)]];}[_0x23d54f(0x5f5)](_0x4cabbe){const _0x4149f8=_0x23d54f;this[_0x4149f8(0x1c8)]=_0x4cabbe;}[_0x23d54f(0x3cc)](){const _0x35111c=_0x23d54f;delete this[_0x35111c(0x1c8)];}async['connect'](){this['setupListeners'](),await this['createOffer']();}[_0x23d54f(0x168)](){const _0x101113=_0x23d54f;this[_0x101113(0x554)]['forEach'](_0x35dfb3=>_0x35dfb3()),this['listenerUnsubscribers']=[],this[_0x101113(0x173)]?.[_0x101113(0x3cc)](),this['senderConnection']?.[_0x101113(0x168)](),delete this[_0x101113(0x173)],this[_0x101113(0x454)]['forEach'](_0x3c91ac=>_0x3c91ac()),this[_0x101113(0x454)]=[],this[_0x101113(0x234)]?.['unregisterSystemPublisher'](),this[_0x101113(0x234)]?.[_0x101113(0x168)](),delete this[_0x101113(0x234)];}[_0x23d54f(0x2db)](){const _0x1e4108=_0x23d54f;return this[_0x1e4108(0x173)]?.[_0x1e4108(0x2db)]()&&this[_0x1e4108(0x234)]?.['isConnected']()||!0x1;}[_0x23d54f(0x492)](_0x318b42){const _0x56c8ec=_0x23d54f;if(!this[_0x56c8ec(0x173)]||!this[_0x56c8ec(0x2db)]())throw new _0x4ad60f(_0x4ad60f[_0x56c8ec(0x34c)][_0x56c8ec(0x4b9)],{'message':_0x56c8ec(0x5f0),'senderConnected':this[_0x56c8ec(0x173)]?.[_0x56c8ec(0x2db)](),'receiverConnected':this[_0x56c8ec(0x234)]?.[_0x56c8ec(0x2db)](),'localId':this[_0x56c8ec(0x122)],'remoteId':this[_0x56c8ec(0x56c)],'data':_0x318b42});this[_0x56c8ec(0x173)][_0x56c8ec(0x492)](_0x318b42);}[_0x23d54f(0x596)](_0xd37ad1){const _0x115ccd=_0x23d54f;return this[_0x115ccd(0x341)]['subscribe'](_0xd37ad1);}[_0x23d54f(0x464)](_0xfa54bd){const _0x150406=_0x23d54f;return this[_0x150406(0x1b5)]['subscribe'](({track:_0x5943ed,stream:_0x2311b6})=>_0xfa54bd(_0x5943ed,_0x2311b6));}['onRemoveTrack'](_0x15343b){const _0x385311=_0x23d54f;return this[_0x385311(0x2eb)][_0x385311(0x308)](({track:_0x3045f3,stream:_0x31de87})=>_0x15343b(_0x3045f3,_0x31de87));}[_0x23d54f(0x561)](_0x49719e,_0x5f19ac,_0x472c1d,_0xab28f9){const _0x1a417d=_0x23d54f;this[_0x1a417d(0x173)]?.[_0x1a417d(0x561)](_0x49719e,_0x5f19ac,_0x472c1d,_0xab28f9);}[_0x23d54f(0x408)](_0x390aaf,_0x672db4){const _0xef277=_0x23d54f;this['senderConnection']?.[_0xef277(0x408)](_0x390aaf,_0x672db4);}[_0x23d54f(0xc2)](_0x19def6,_0xf60910){const _0x3c3e05=_0x23d54f;this[_0x3c3e05(0x173)]?.[_0x3c3e05(0xc2)](_0x19def6,_0xf60910);}['removeTrack'](_0xaa2bdb,_0xc62f0){const _0x28ea57=_0x23d54f;this[_0x28ea57(0x173)]?.[_0x28ea57(0x99)](_0xaa2bdb,_0xc62f0);}async[_0x23d54f(0x3c1)](_0x1fb872){const _0x88004e=_0x23d54f;_0x2bad5b['log'](_0x4edace[_0x88004e(0xe9)],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this[_0x88004e(0x122)],_0x1fb872);const {content:_0x1a0c6a}=_0x1fb872;switch(_0x1a0c6a[_0x88004e(0x30e)]){case _0x2a4dd2[_0x88004e(0x610)]:await this[_0x88004e(0x2d2)](_0x1a0c6a);break;case _0x2a4dd2['Answer']:await this['handleAnswer'](_0x1a0c6a);break;case _0x2a4dd2[_0x88004e(0x5d0)]:this[_0x88004e(0x3ba)]();break;case _0x2a4dd2[_0x88004e(0x1ab)]:await this[_0x88004e(0x48d)](_0x1a0c6a);break;case _0x2a4dd2[_0x88004e(0x4f7)]:this[_0x88004e(0x521)](_0x1a0c6a);break;case _0x2a4dd2[_0x88004e(0x540)]:await this[_0x88004e(0x3ed)]();}}['handleRemediationSystemEvents'](_0x13f824){const _0x1e9bc3=_0x23d54f;this[_0x1e9bc3(0x173)]?.[_0x1e9bc3(0x50c)](_0x13f824[_0x1e9bc3(0x36e)][_0x1e9bc3(0x530)]);}['getConnectionType'](){return this['connectionType'];}['setConnectionType'](_0x296e26){const _0x16fd93=_0x23d54f;this[_0x16fd93(0x3c6)]=_0x296e26,this['senderConnection']?.[_0x16fd93(0x5b3)](_0x296e26),this[_0x16fd93(0x234)]?.[_0x16fd93(0x5b3)](_0x296e26);}async['collectStats'](){const _0x2d809e=_0x23d54f;await this[_0x2d809e(0x173)]?.['collectStats'](),await this[_0x2d809e(0x234)]?.[_0x2d809e(0x2f4)]();}[_0x23d54f(0x9a)](){const _0x29a092=_0x23d54f;this[_0x29a092(0x554)]['push'](this[_0x29a092(0x596)](_0x13c885=>{const _0x1dd694=_0x29a092;_0x5aaec1(_0x13c885,this[_0x1dd694(0x122)])&&0x0!==_0x13c885['topicLabel']&&this[_0x1dd694(0x3e6)][_0x1dd694(0x1dc)](_0x13c885[_0x1dd694(0x46c)])?.['publish'](_0x13c885);})),this[_0x29a092(0x554)][_0x29a092(0x140)](this['onTrack']((_0x930e82,_0x1a0086)=>{const _0x258bab=_0x29a092,_0x460383=_0x26d2c2(_0x49643d[_0x258bab(0x265)],_0x1a0086['id'],this[_0x258bab(0x56c)]);this['mediaTopics']['get'](_0x460383)?.['publish']({'topicLabel':_0x460383,'sourceId':this[_0x258bab(0x56c)],'contentType':_0x49643d[_0x258bab(0x265)],'content':{'action':_0x31f9ac[_0x258bab(0x334)],'track':_0x930e82,'stream':_0x1a0086,'providerId':this[_0x258bab(0x56c)]}});})),this[_0x29a092(0x554)][_0x29a092(0x140)](this['onRemoveTrack']((_0x514060,_0x21f85e)=>{const _0xf43fbe=_0x29a092,_0x308baa=_0x26d2c2(_0x49643d[_0xf43fbe(0x265)],_0x21f85e['id'],this[_0xf43fbe(0x56c)]);this['mediaTopics'][_0xf43fbe(0x1dc)](_0x308baa)?.['publish']({'topicLabel':_0x308baa,'sourceId':this[_0xf43fbe(0x56c)],'contentType':_0x49643d[_0xf43fbe(0x265)],'content':{'action':_0x31f9ac[_0xf43fbe(0x608)],'track':_0x514060,'stream':_0x21f85e,'providerId':this[_0xf43fbe(0x56c)]}});}));}[_0x23d54f(0x48d)]({candidates:_0x196863,origin:_0x667e4d,version:_0x1adf8d}){const _0x2c9baf=_0x23d54f;return _0x667e4d===_0x11e49a['Sender']?(this['receiverConnection']||this[_0x2c9baf(0xff)](),this[_0x2c9baf(0x234)][_0x2c9baf(0x2c4)](_0x196863,_0x1adf8d)):this['senderConnection'][_0x2c9baf(0x2c4)](_0x196863,_0x1adf8d);}async[_0x23d54f(0x3ed)](){const _0x1cc15b=_0x23d54f;this[_0x1cc15b(0x173)]||this[_0x1cc15b(0x245)](),await this['senderConnection']['createOffer']();}async[_0x23d54f(0x2d2)]({offer:_0x4f3ea4,version:_0xb8f30a}){const _0x21753d=_0x23d54f;this[_0x21753d(0x234)]||this[_0x21753d(0xff)](),await this['receiverConnection'][_0x21753d(0x2d2)](_0x4f3ea4,_0xb8f30a);}async['handleAnswer']({answer:_0x1d1953,version:_0x83b474}){const _0x4f905e=_0x23d54f;if(!this[_0x4f905e(0x173)])throw new _0x4ad60f(_0x4ad60f[_0x4f905e(0x34c)][_0x4f905e(0x4b9)],{'message':_0x4f905e(0x519),'localId':this[_0x4f905e(0x122)],'remoteId':this[_0x4f905e(0x56c)],'answer':_0x1d1953});await this[_0x4f905e(0x173)]['handleAnswer'](_0x1d1953,_0x83b474);}[_0x23d54f(0x3ba)](){const _0x162232=_0x23d54f;if(!this[_0x162232(0x234)])throw new _0x4ad60f(_0x4ad60f[_0x162232(0x34c)]['ConnectionNotinitialized'],{'message':_0x162232(0x3e4),'localId':this[_0x162232(0x122)],'remoteId':this[_0x162232(0x56c)]});this['receiverConnection'][_0x162232(0x3ba)](),this[_0x162232(0x59b)]||this[_0x162232(0x3c6)]!==_0x3f983f[_0x162232(0x2f8)]||(this[_0x162232(0x59b)]=!0x0,this[_0x162232(0x1c8)]?.[_0x162232(0x127)]({'sourceId':this[_0x162232(0x56c)],'destinationIds':[this[_0x162232(0x122)]],'messageType':_0x528d91['PeerConnection'],'content':{'type':_0x2a4dd2['OptimizationConnectionSuccess']}}));}['handleNeedRestart'](_0x5d7835){const _0x168488=_0x23d54f;this[_0x168488(0x234)]||this[_0x168488(0xff)](),this[_0x168488(0x234)][_0x168488(0x521)](_0x5d7835[_0x168488(0x460)]);}[_0x23d54f(0x245)](){const _0x51550c=_0x23d54f;this[_0x51550c(0x173)]=new _0x1e0106(this[_0x51550c(0x486)],this[_0x51550c(0x122)],this[_0x51550c(0x56c)],this[_0x51550c(0x2f0)],this['connectionType'],this[_0x51550c(0x112)],this[_0x51550c(0x322)],this[_0x51550c(0x524)]),this[_0x51550c(0x173)][_0x51550c(0x5f5)](this[_0x51550c(0x1c8)]);}[_0x23d54f(0xff)](){const _0x59cf00=_0x23d54f;this['receiverConnection']=new _0x586800(this[_0x59cf00(0x486)],this[_0x59cf00(0x122)],this[_0x59cf00(0x56c)],this['iceServers'],this['connectionType'],this[_0x59cf00(0x524)]),this[_0x59cf00(0x234)][_0x59cf00(0x5f5)](this[_0x59cf00(0x1c8)]),this[_0x59cf00(0x454)]['push'](this[_0x59cf00(0x234)]['onMessage'](_0x27865e=>this[_0x59cf00(0x341)]['publish'](_0x27865e))),this[_0x59cf00(0x454)][_0x59cf00(0x140)](this[_0x59cf00(0x234)][_0x59cf00(0x464)]((_0x59f7da,_0x280873)=>this[_0x59cf00(0x1b5)][_0x59cf00(0x127)]({'track':_0x59f7da,'stream':_0x280873}))),this[_0x59cf00(0x454)][_0x59cf00(0x140)](this[_0x59cf00(0x234)]['onRemoveTrack']((_0x32ffa6,_0x2d17b7)=>this[_0x59cf00(0x2eb)][_0x59cf00(0x127)]({'track':_0x32ffa6,'stream':_0x2d17b7})));}}class _0x5a8549{[_0x23d54f(0x122)];[_0x23d54f(0x5b6)];['graphService'];[_0x23d54f(0x5f1)]=new Map();[_0x23d54f(0x341)]=_0x2a58e2();[_0x23d54f(0x272)];[_0x23d54f(0x3e6)]=new Map();[_0x23d54f(0x2a2)]=new Map();['retryQueues']=new Map();constructor(_0x3dabae,_0x10be82,_0x23d7ab){const _0x4ee5f5=_0x23d54f;this['localId']=_0x3dabae,this[_0x4ee5f5(0x5b6)]=_0x10be82,this[_0x4ee5f5(0x253)]=_0x23d7ab,this[_0x4ee5f5(0x272)]=this[_0x4ee5f5(0x596)](_0x1e6ca4=>{const _0x34a5b6=_0x4ee5f5;this[_0x34a5b6(0x5b6)][_0x34a5b6(0x3fe)](_0x1e6ca4['uuid'])||(_0x5aaec1(_0x1e6ca4,this[_0x34a5b6(0x122)])&&0x0!==_0x1e6ca4['topicLabel']&&(this[_0x34a5b6(0x5b6)]['addMessage'](_0x1e6ca4[_0x34a5b6(0x56f)]),this[_0x34a5b6(0x3e6)][_0x34a5b6(0x1dc)](_0x1e6ca4[_0x34a5b6(0x46c)])?.['publish'](_0x1e6ca4)),_0x1e6ca4[_0x34a5b6(0x157)]&&this['send'](_0x1e6ca4));});}[_0x23d54f(0x168)](){this['messageUnsubscriber']?.();}['addConnection'](_0x3565e8){const _0x45609f=_0x23d54f,_0x38fd29=_0x3565e8[_0x45609f(0x596)](_0x502dfd=>{const _0x4ef353=_0x45609f;this['messageListeners'][_0x4ef353(0x127)](_0x502dfd);});this[_0x45609f(0x5f1)]['set'](_0x3565e8,_0x38fd29),this[_0x45609f(0x20f)][_0x45609f(0x151)](_0x3565e8['getRemoteId'](),function(_0x3b460d,_0x504563=!0x1){let _0x449751=new Map();const _0x2782a5=_0x543cac(_0x3b460d,_0x504563,function(_0x2a71e4){const _0x208487=a0_0x3776;_0x49dc55(_0x2a71e4)&&_0x449751['delete'](_0x2a71e4['sourceId']+'-'+(_0x2a71e4[_0x208487(0x590)]??[])+'-'+_0x2a71e4['messageType']+'-'+_0x2a71e4[_0x208487(0x36e)]['type']);},function(_0x1021d3){return!!function(_0x4bc24d){const _0xf7666e=a0_0x3776,_0x437b29=_0x4bc24d[_0xf7666e(0x2a7)];if(!_0x49dc55(_0x437b29))return!0x1;const _0x929192=_0x437b29['sourceId']+'-'+(_0x437b29[_0xf7666e(0x590)]??[])+'-'+_0x437b29[_0xf7666e(0xc5)]+'-'+_0x437b29[_0xf7666e(0x36e)]['type'],_0x356913={'version':_0x437b29[_0xf7666e(0x36e)][_0xf7666e(0x460)],'element':_0x4bc24d},_0x157074=_0x449751[_0xf7666e(0x1dc)](_0x929192);return _0x157074?(_0x157074[_0xf7666e(0x460)]>=_0x437b29['content'][_0xf7666e(0x460)]||(_0x157074[_0xf7666e(0x494)]['previous']&&(_0x157074[_0xf7666e(0x494)][_0xf7666e(0x36c)][_0xf7666e(0x1f7)]=_0x4bc24d,_0x4bc24d[_0xf7666e(0x36c)]=_0x157074[_0xf7666e(0x494)][_0xf7666e(0x36c)]),_0x157074[_0xf7666e(0x494)][_0xf7666e(0x1f7)]&&(_0x157074['element']['next'][_0xf7666e(0x36c)]=_0x4bc24d,_0x4bc24d[_0xf7666e(0x1f7)]=_0x157074[_0xf7666e(0x494)][_0xf7666e(0x1f7)]),_0x157074[_0xf7666e(0x494)]===_0x2782a5[_0xf7666e(0x216)]&&(_0x2782a5[_0xf7666e(0x216)]=_0x4bc24d),_0x157074[_0xf7666e(0x494)]===_0x2782a5[_0xf7666e(0x30f)]&&(_0x2782a5[_0xf7666e(0x30f)]=_0x4bc24d),_0x449751['set'](_0x929192,_0x356913)),!0x0):(_0x449751[_0xf7666e(0x151)](_0x929192,_0x356913),!0x1);}(_0x1021d3);},function(){const _0x42df28=a0_0x3776;_0x449751[_0x42df28(0x2e1)]();});function _0x49dc55(_0x11e970){const _0x577a78=a0_0x3776;if(_0x11e970&&_0x577a78(0x546)==typeof _0x11e970&&_0x11e970[_0x577a78(0x141)](_0x577a78(0x36e))&&_0x11e970[_0x577a78(0x141)](_0x577a78(0xc5))&&_0x11e970['hasOwnProperty'](_0x577a78(0x49a))){const _0x35a780=_0x11e970;if(_0x35a780[_0x577a78(0x36e)]&&_0x577a78(0x546)==typeof _0x35a780[_0x577a78(0x36e)]&&_0x35a780[_0x577a78(0x36e)]['hasOwnProperty'](_0x577a78(0x460))&&_0x35a780[_0x577a78(0x36e)][_0x577a78(0x141)]('type'))return!0x0;}return!0x1;}return _0x2782a5;}(new _0x39d2f0(_0x1b26a3=>_0x3565e8[_0x45609f(0x492)](_0x1b26a3),()=>_0x2aa01e[_0x45609f(0x19f)](0x64))));}[_0x23d54f(0x2c5)](_0x1a7764){const _0x3320fa=_0x23d54f;this[_0x3320fa(0x5f1)]['get'](_0x1a7764)?.(),this[_0x3320fa(0x5f1)]['delete'](_0x1a7764),this[_0x3320fa(0x20f)]['get'](_0x1a7764[_0x3320fa(0x1fc)]())?.[_0x3320fa(0x2e1)](),this['retryQueues']['delete'](_0x1a7764[_0x3320fa(0x1fc)]());}['isConnected'](_0x3f2cdc){const _0x2eb7b6=_0x23d54f;return _0x2bad5b[_0x2eb7b6(0x4dc)](_0x4edace[_0x2eb7b6(0x278)],'ConnectionGroup',this[_0x2eb7b6(0x122)],this['connections'][_0x2eb7b6(0x1b8)]()),0x0!==this[_0x2eb7b6(0x5f1)][_0x2eb7b6(0x4ba)]&&(Array['from'](this[_0x2eb7b6(0x5f1)][_0x2eb7b6(0x1b8)]())['find'](_0x1ccb4a=>_0x1ccb4a['getRemoteId']()===_0x3f2cdc)?.[_0x2eb7b6(0x2db)]()??!0x1);}[_0x23d54f(0x4a0)](_0x4cb531){const _0x5a889c=_0x23d54f;this[_0x5a889c(0x3e6)][_0x5a889c(0x151)](_0x4cb531[_0x5a889c(0xc7)](),_0x4cb531);}[_0x23d54f(0x499)](_0x17a3a9){const _0x506358=_0x23d54f;this['dataTopics'][_0x506358(0x114)](_0x17a3a9[_0x506358(0xc7)]());}[_0x23d54f(0x4d8)](_0x3851b5){const _0xc13a53=_0x23d54f,_0x52f857=_0x3851b5[_0xc13a53(0x308)](this[_0xc13a53(0x492)][_0xc13a53(0x128)](this));this[_0xc13a53(0x2a2)][_0xc13a53(0x151)](_0x3851b5['getLabel'](),_0x52f857);}[_0x23d54f(0x399)](_0x3a205e){const _0x4fd89f=_0x23d54f;this[_0x4fd89f(0x2a2)]['get'](_0x3a205e[_0x4fd89f(0xc7)]())?.(),this[_0x4fd89f(0x2a2)][_0x4fd89f(0x114)](_0x3a205e['getLabel']());}['getSupportedContentTypes'](){const _0x5e2af6=_0x23d54f;return[_0x49643d[_0x5e2af6(0x604)],_0x49643d[_0x5e2af6(0x279)],_0x49643d[_0x5e2af6(0x61e)],_0x49643d[_0x5e2af6(0x4c6)]];}[_0x23d54f(0x492)](_0x215061){const _0x559904=_0x23d54f;if(!0x1===_0x215061['retry']){if(_0x215061['propagate']||!_0x215061[_0x559904(0x590)]||0x1!==_0x215061['destinationIds']['length'])throw new _0x4ad60f(_0x4ad60f[_0x559904(0x34c)][_0x559904(0x374)],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this['localId']});if(!this[_0x559904(0x2db)](_0x215061[_0x559904(0x590)][0x0]))throw new _0x31e58f(_0x559904(0x303));}const _0x3c43e6=_0x215061[_0x559904(0x287)]??[];try{const {filteredDestinationIds:_0x466fb4,extendedRecipients:_0x2dcf1b}=this[_0x559904(0x1c3)](_0x215061,_0x3c43e6);_0x215061[_0x559904(0x590)]=_0x466fb4,_0x215061[_0x559904(0x287)]=_0x2dcf1b;}catch(_0xc8ec4c){if(_0xc8ec4c instanceof _0x31e58f)return void _0x2bad5b[_0x559904(0x4dc)](_0x4edace[_0x559904(0xe9)],_0x559904(0x3b7),_0x559904(0x2a8),_0x215061,_0xc8ec4c[_0x559904(0x1b1)]);}const _0x222762=this[_0x559904(0x15c)](_0x215061);this[_0x559904(0x465)](_0x215061,_0x222762),_0x215061[_0x559904(0x157)]=_0x222762;const _0x1a2609=this[_0x559904(0x2d9)](_0x215061,_0x3c43e6);for(const _0x14dbf5 of _0x1a2609){const _0x17aea9=this[_0x559904(0x20f)][_0x559904(0x1dc)](_0x14dbf5[_0x559904(0x1fc)]());if(!_0x17aea9)throw new _0x4ad60f(_0x4ad60f[_0x559904(0x34c)][_0x559904(0x534)],{'message':_0x559904(0x635),'localId':this[_0x559904(0x122)],'remoteId':_0x14dbf5[_0x559904(0x1fc)](),'data':_0x215061});_0x17aea9['push'](_0x215061);}}[_0x23d54f(0x1fc)](){return'';}[_0x23d54f(0x622)](){const _0x541a61=_0x23d54f;return this[_0x541a61(0x122)];}[_0x23d54f(0x596)](_0x42d07c){const _0x2dd0e3=_0x23d54f;return this['messageListeners'][_0x2dd0e3(0x308)](_0x42d07c);}['updatePropagationProperties'](_0x107b24,_0x4ad909){const _0x396789=_0x23d54f,_0x4f0b29={'filteredDestinationIds':_0x107b24[_0x396789(0x590)],'extendedRecipients':_0x107b24[_0x396789(0x287)]};if(!_0x107b24['propagate'])return _0x4f0b29;const _0x5e91af=Array[_0x396789(0x53f)](this[_0x396789(0x5f1)]['keys']())['filter'](_0x401c3c=>_0x401c3c[_0x396789(0x559)]()===_0x3f983f['Core']||_0x401c3c[_0x396789(0x2db)]())[_0x396789(0xc8)](_0x5355ae=>_0x5355ae[_0x396789(0x1fc)]());if(_0x5e91af['reduce']((_0x2c198e,_0x710198)=>_0x2c198e&&_0x107b24[_0x396789(0x287)][_0x396789(0xc6)](_0x710198),!0x0))throw new _0x31e58f(_0x396789(0x3d1));if(_0x107b24['destinationIds']){const _0x4ad6fd=_0x107b24[_0x396789(0x590)][_0x396789(0x3a0)](_0x103fa2=>_0x103fa2!==this['localId']&&!_0x107b24[_0x396789(0x287)][_0x396789(0xc6)](_0x103fa2));if(0x0===_0x4ad6fd[_0x396789(0xa9)])throw new _0x31e58f(_0x396789(0x57b));_0x4f0b29[_0x396789(0x5ac)]=_0x4ad6fd;}return _0x4f0b29[_0x396789(0x310)]=[...new Set([..._0x4ad909,..._0x5e91af,this[_0x396789(0x122)]])],_0x4f0b29;}[_0x23d54f(0x465)](_0x2205ef,_0xed58b0=!0x1){const _0x18fd7f=_0x23d54f;if(0x0===_0x2205ef['topicLabel']&&!_0x547eb8(_0x2205ef,this['localId'])&&_0x2205ef[_0x18fd7f(0x157)]){const _0x2be70f=_0x1ba0af(_0x2205ef,this['localId']);_0x2bad5b[_0x18fd7f(0x50b)](_0x4edace[_0x18fd7f(0x497)],_0x2205ef[_0x18fd7f(0x56f)]+_0x18fd7f(0x19d)+_0xed58b0+')\x20'+_0x2be70f,_0x2205ef,_0xed58b0);}}[_0x23d54f(0x15c)](_0x420ac5){const _0x2a3857=_0x23d54f;if(_0x420ac5['destinationIds']&&_0x420ac5['propagate']){const _0x1aa23a=Array[_0x2a3857(0x53f)](this[_0x2a3857(0x5f1)][_0x2a3857(0x1b8)]())['filter'](_0x11db9a=>_0x11db9a[_0x2a3857(0x559)]()===_0x3f983f[_0x2a3857(0x1a4)]||_0x11db9a[_0x2a3857(0x2db)]())[_0x2a3857(0xc8)](_0x5deb6a=>_0x5deb6a[_0x2a3857(0x1fc)]());return!_0x420ac5['destinationIds'][_0x2a3857(0x172)]((_0x1d75c9,_0x31c6a7)=>_0x1d75c9&&_0x1aa23a[_0x2a3857(0xc6)](_0x31c6a7),!0x0);}return _0x420ac5['propagate']??!0x1;}[_0x23d54f(0x2d9)](_0x257fe8,_0x300f75){const _0x3b96a1=_0x23d54f;if(_0x257fe8['propagate']&&_0x257fe8[_0x3b96a1(0x590)]){const _0xa2a2bd=Array[_0x3b96a1(0x53f)](this[_0x3b96a1(0x5f1)][_0x3b96a1(0x1b8)]())['filter'](_0x4a34b6=>_0x4a34b6[_0x3b96a1(0x559)]()===_0x3f983f[_0x3b96a1(0x1a4)]||_0x4a34b6[_0x3b96a1(0x2db)]())['map'](_0xbb9f7d=>_0xbb9f7d[_0x3b96a1(0x1fc)]()),_0x2e0e3d=new Set(),_0x5791ef=_0x257fe8[_0x3b96a1(0x49a)]===this[_0x3b96a1(0x122)]?0x3:0x1;return _0x257fe8[_0x3b96a1(0x590)]['forEach'](_0x205b43=>{const _0x45dbb1=_0x3b96a1,_0x229b89=this[_0x45dbb1(0x253)][_0x45dbb1(0x628)](_0xa2a2bd,_0x205b43);let _0x56f685=0x0,_0x49191d=0x0;_0x229b89[_0x45dbb1(0x55e)](_0x5def26=>{const _0x58d2dc=_0x45dbb1;if(_0x56f685>=_0x5791ef)return;const _0xb700aa=Array[_0x58d2dc(0x53f)](this[_0x58d2dc(0x5f1)][_0x58d2dc(0x1b8)]())[_0x58d2dc(0xad)](_0x355321=>_0x355321[_0x58d2dc(0x1fc)]()===_0x5def26);if(_0xb700aa){if(_0xb700aa['getConnectionType']()===_0x3f983f['Core']&&_0x49191d>0x0)return void(_0x49191d-=0x1);_0x2e0e3d['add'](_0xb700aa),_0xb700aa[_0x58d2dc(0x559)]()===_0x3f983f[_0x58d2dc(0x2f8)]&&(_0x49191d+=0x1),_0x56f685+=0x1;}});}),Array[_0x3b96a1(0x53f)](_0x2e0e3d);}return Array['from'](this[_0x3b96a1(0x5f1)][_0x3b96a1(0x1b8)]())[_0x3b96a1(0x3a0)](_0x8c37b8=>{const _0x12a867=_0x3b96a1;return _0x3c2b51=_0x8c37b8[_0x12a867(0x1fc)](),!_0x300f75[_0x12a867(0xc6)](_0x3c2b51)&&(_0x5aaec1(_0x257fe8,_0x3c2b51)||_0x257fe8[_0x12a867(0x157)])&&(!_0x257fe8['propagate']||_0x8c37b8[_0x12a867(0x2db)]()||_0x8c37b8[_0x12a867(0x559)]()===_0x3f983f[_0x12a867(0x1a4)]);var _0x3c2b51;});}}class _0x59725a{[_0x23d54f(0x122)];['messageBuffer'];[_0x23d54f(0x5f1)]=new Map();[_0x23d54f(0x1c8)];constructor(_0x210512,_0xa7ed60){const _0x4945e0=_0x23d54f;this[_0x4945e0(0x122)]=_0x210512,this['messageBuffer']=_0xa7ed60;}[_0x23d54f(0x168)](){}[_0x23d54f(0x492)](_0x13a771){const _0x469a96=_0x23d54f;for(const _0x3337e4 of this['connections']['keys']())try{return void _0x3337e4[_0x469a96(0x492)]({'retry':!0x1,..._0x13a771});}catch(_0x15b3fc){_0x15b3fc instanceof _0x31e58f||_0x2bad5b[_0x469a96(0x4dc)](_0x4edace[_0x469a96(0xea)],'send\x20error\x20on\x20'+_0x3337e4,_0x15b3fc,_0x13a771);}_0x2bad5b[_0x469a96(0x4dc)](_0x4edace[_0x469a96(0xea)],_0x469a96(0x21b));}['addConnection'](_0x2221b2){const _0x3fc303=_0x23d54f,_0x2d1000=_0x2221b2['onMessage'](_0x4613cf=>{const _0x389840=a0_0x3776;this['messageBuffer']['hasMessage'](_0x4613cf['uuid'])||0x0===_0x4613cf[_0x389840(0x46c)]&&(this[_0x389840(0x5b6)]['addMessage'](_0x4613cf['uuid']),_0x5aaec1(_0x4613cf,this[_0x389840(0x122)])&&this[_0x389840(0x1c8)]?.[_0x389840(0x127)](_0x4613cf));});this[_0x3fc303(0x5f1)][_0x3fc303(0x151)](_0x2221b2,_0x2d1000);}[_0x23d54f(0x2c5)](_0x3b33fe){const _0x221605=_0x23d54f;this[_0x221605(0x5f1)][_0x221605(0x1dc)](_0x3b33fe)?.(),this[_0x221605(0x5f1)][_0x221605(0x114)](_0x3b33fe);}[_0x23d54f(0x622)](){const _0x2ff1be=_0x23d54f;return this[_0x2ff1be(0x122)];}[_0x23d54f(0x1fc)](){return'';}[_0x23d54f(0x2b2)](){return[_0x49643d['Data']];}['isConnected'](){const _0x413082=_0x23d54f;throw new Error(_0x413082(0x3f8));}[_0x23d54f(0x5f5)](_0x26e000){const _0x352837=_0x23d54f;this[_0x352837(0x1c8)]=_0x26e000;}[_0x23d54f(0x3cc)](){const _0x349195=_0x23d54f;delete this[_0x349195(0x1c8)];}}class _0x5f0447{[_0x23d54f(0x621)]=new Map();[_0x23d54f(0x444)];constructor(){const _0x480e30=_0x23d54f;this[_0x480e30(0x444)]=_0x2aa01e[_0x480e30(0x158)](()=>{const _0x49e2f6=_0x480e30;for(const [_0x1d45a2,_0x3262ba]of this[_0x49e2f6(0x621)][_0x49e2f6(0x62d)]())Date[_0x49e2f6(0x111)]()-_0x3262ba>0x124f80&&this[_0x49e2f6(0x621)][_0x49e2f6(0x114)](_0x1d45a2);},0x1d4c0);}[_0x23d54f(0x168)](){this['unsubscribeHandler']();}[_0x23d54f(0x325)](_0x3fa278){const _0x1ea714=_0x23d54f;this['buffer'][_0x1ea714(0x151)](_0x3fa278,Date[_0x1ea714(0x111)]());}['hasMessage'](_0x17822d){const _0x3a73e5=_0x23d54f;return this[_0x3a73e5(0x621)][_0x3a73e5(0x201)](_0x17822d);}}class _0x45c8f5{['configs'];['authService'];[_0x23d54f(0x2f0)];['maxFps'];['maxBpp'];[_0x23d54f(0x524)];[_0x23d54f(0x5f1)]=new Map();['connectionPool'];['connectionGroup'];[_0x23d54f(0x407)];['messageBuffer'];constructor(_0x2f7cb9,_0x189d7a,_0x3cc5b2,_0x49fdd4,_0x34ba47,_0x313578,_0x11cd02){const _0x2249d1=_0x23d54f;this[_0x2249d1(0x100)]=_0x2f7cb9,this[_0x2249d1(0x116)]=_0x189d7a,this['iceServers']=_0x3cc5b2,this[_0x2249d1(0x112)]=_0x49fdd4,this[_0x2249d1(0x322)]=_0x34ba47,this['connectionConstructor']=_0x11cd02,this['messageBuffer']=new _0x5f0447(),this['connectionGroup']=new _0x5a8549(this[_0x2249d1(0x100)][_0x2249d1(0x122)],this[_0x2249d1(0x5b6)],_0x313578),this[_0x2249d1(0x407)]=new _0x268850(this[_0x2249d1(0x100)]['vendorId'],this['configs'][_0x2249d1(0x486)],this[_0x2249d1(0x100)][_0x2249d1(0x122)],_0x2249d1(0x5e9),this['authService']),this[_0x2249d1(0x257)]=new _0x59725a(this[_0x2249d1(0x100)][_0x2249d1(0x122)],this[_0x2249d1(0x5b6)]),this[_0x2249d1(0x257)]['addConnection'](this[_0x2249d1(0x5a8)]),this[_0x2249d1(0x257)][_0x2249d1(0x5e8)](this[_0x2249d1(0x407)]),this[_0x2249d1(0x100)][_0x2249d1(0x52a)][_0x2249d1(0x43c)](this['connectionPool']);}[_0x23d54f(0x168)](){const _0x8bd516=_0x23d54f;this[_0x8bd516(0x5b6)][_0x8bd516(0x168)](),this[_0x8bd516(0x5f1)][_0x8bd516(0x55e)]((_0x40f1a8,_0x2f60bc)=>this['closeConnection'](_0x2f60bc)),this[_0x8bd516(0x100)][_0x8bd516(0x52a)][_0x8bd516(0x526)](this['connectionPool']),this[_0x8bd516(0x257)]['removeConnection'](this[_0x8bd516(0x407)]),this[_0x8bd516(0x257)][_0x8bd516(0x2c5)](this[_0x8bd516(0x5a8)]),this[_0x8bd516(0x257)][_0x8bd516(0x168)](),this['signalingServer'][_0x8bd516(0x168)](),this['connectionGroup'][_0x8bd516(0x168)]();}async[_0x23d54f(0x3ea)](){const _0x164a41=_0x23d54f;await this[_0x164a41(0x407)][_0x164a41(0x461)]();}async['createConnection'](_0x1b0571,_0x1b0a09=_0x3f983f[_0x23d54f(0x1a4)]){const _0x352887=_0x23d54f;if(this['connections'][_0x352887(0x201)](_0x1b0571)){if(this['connections']['get'](_0x1b0571)?.[_0x352887(0x559)]()===_0x3f983f[_0x352887(0x2f8)]&&_0x1b0a09===_0x3f983f[_0x352887(0x1a4)])return void this[_0x352887(0x5f1)][_0x352887(0x1dc)](_0x1b0571)?.[_0x352887(0x5b3)](_0x3f983f[_0x352887(0x1a4)]);throw new _0x4ad60f(_0x4ad60f[_0x352887(0x34c)][_0x352887(0x3f2)],{'localId':this[_0x352887(0x100)][_0x352887(0x122)],'remoteId':_0x1b0571});}const _0x33a247=new _0x540389(this[_0x352887(0x100)][_0x352887(0x486)],this['configs'][_0x352887(0x122)],_0x1b0571,this[_0x352887(0x2f0)],_0x1b0a09,this[_0x352887(0x112)],this[_0x352887(0x322)],this['connectionConstructor']);this[_0x352887(0x5f1)]['set'](_0x1b0571,_0x33a247),this['connectionGroup'][_0x352887(0x5e8)](_0x33a247),this['configs']['mediator'][_0x352887(0x43c)](_0x33a247),this[_0x352887(0x100)]['mediator']['registerRemoteUser'](_0x1b0571),await _0x33a247[_0x352887(0x461)]();}[_0x23d54f(0x3a9)](){return this['connectionGroup'];}[_0x23d54f(0x4cc)](_0x57c9af){const _0xa6a64f=_0x23d54f;if(!this[_0xa6a64f(0x5f1)][_0xa6a64f(0x201)](_0x57c9af))throw new _0x4ad60f(_0x4ad60f[_0xa6a64f(0x34c)][_0xa6a64f(0x3a2)],{'localId':this[_0xa6a64f(0x100)][_0xa6a64f(0x122)],'remoteId':_0x57c9af});return this[_0xa6a64f(0x5f1)][_0xa6a64f(0x1dc)](_0x57c9af);}[_0x23d54f(0x38d)](_0x3ce0ea){const _0x2ee03b=_0x23d54f,_0x548eea=Array[_0x2ee03b(0x53f)](this[_0x2ee03b(0x5f1)][_0x2ee03b(0x54b)]());return _0x3ce0ea?_0x548eea['filter'](_0x3ce0ea):_0x548eea;}async[_0x23d54f(0x2f4)](_0x56158e){const _0x3d55d8=_0x23d54f,_0x360434=this[_0x3d55d8(0x5f1)][_0x3d55d8(0x1dc)](_0x56158e);_0x360434&&_0x360434[_0x3d55d8(0x2db)]()&&await _0x360434['collectStats']();}[_0x23d54f(0x569)](_0x1cf063){const _0x2006ce=_0x23d54f;if(_0x1cf063[_0x2006ce(0xc5)]!==_0x528d91[_0x2006ce(0x525)]||_0x1cf063[_0x2006ce(0x157)])try{this['connectionGroup']['send'](_0x1cf063);}catch(_0x27e214){if(_0x27e214 instanceof _0x31e58f)return;throw _0x27e214;}else this[_0x2006ce(0x257)][_0x2006ce(0x492)](_0x1cf063);}async[_0x23d54f(0x3c1)](_0x204fdd){const _0x7ab631=_0x23d54f;switch(_0x204fdd['content'][_0x7ab631(0x30e)]){case _0x2a4dd2[_0x7ab631(0x518)]:case _0x2a4dd2[_0x7ab631(0x627)]:case _0x2a4dd2['OptimizationConnectionSuccess']:return;}if(!_0x204fdd[_0x7ab631(0x590)]||0x1!==_0x204fdd[_0x7ab631(0x590)][_0x7ab631(0xa9)])throw new _0x4ad60f(_0x4ad60f['codes'][_0x7ab631(0x1e5)],{'message':_0x7ab631(0x5b7),'event':_0x204fdd});if(_0x204fdd[_0x7ab631(0x590)][0x0]!==this[_0x7ab631(0x100)][_0x7ab631(0x122)])throw new _0x4ad60f(_0x4ad60f[_0x7ab631(0x34c)][_0x7ab631(0x1e5)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x204fdd});if(!this['connections'][_0x7ab631(0x201)](_0x204fdd[_0x7ab631(0x49a)])){let _0x478806=_0x3f983f['Core'];if(!(this[_0x7ab631(0xc9)](_0x204fdd[_0x7ab631(0x36e)])||this[_0x7ab631(0x294)](_0x204fdd[_0x7ab631(0x36e)])||this[_0x7ab631(0x1a6)](_0x204fdd[_0x7ab631(0x36e)])))return;_0x478806=_0x204fdd[_0x7ab631(0x36e)]['connectionType'],await this[_0x7ab631(0x152)](_0x204fdd[_0x7ab631(0x49a)],_0x478806);}const _0x23821a=this['connections'][_0x7ab631(0x1dc)](_0x204fdd['sourceId']);await _0x23821a[_0x7ab631(0x3c1)](_0x204fdd);}[_0x23d54f(0x261)](_0x4e80d3){const _0x323213=_0x23d54f;if(_0x4e80d3[_0x323213(0x36e)][_0x323213(0x30e)]===_0x222dd4[_0x323213(0x1ea)]){if(_0x4e80d3[_0x323213(0x36e)][_0x323213(0x591)]===this[_0x323213(0x100)][_0x323213(0x122)])return void this[_0x323213(0x5f1)][_0x323213(0x55e)](_0x391466=>_0x391466[_0x323213(0x261)](_0x4e80d3));this[_0x323213(0x5f1)][_0x323213(0x1dc)](_0x4e80d3[_0x323213(0x36e)][_0x323213(0x591)])?.['handleRemediationSystemEvents'](_0x4e80d3);}}[_0x23d54f(0x44d)]({content:_0x3d9c6b}){const _0x2b415a=_0x23d54f;_0x3d9c6b[_0x2b415a(0x30e)]===_0x27f572[_0x2b415a(0x42f)]&&this[_0x2b415a(0x26c)](_0x3d9c6b['id']);}[_0x23d54f(0x26c)](_0x7d9f95){const _0x4248f2=_0x23d54f,_0x455854=this['connections']['get'](_0x7d9f95);_0x455854&&(this[_0x4248f2(0x100)]['mediator'][_0x4248f2(0x37c)](_0x7d9f95),this[_0x4248f2(0x100)][_0x4248f2(0x52a)][_0x4248f2(0x526)](_0x455854),_0x455854 instanceof _0x540389&&this['connectionGroup'][_0x4248f2(0x2c5)](_0x455854),_0x455854['close'](),this[_0x4248f2(0x5f1)][_0x4248f2(0x114)](_0x7d9f95));}['isOffer'](_0xae2fd6){const _0x50ba4f=_0x23d54f;return _0xae2fd6[_0x50ba4f(0x30e)]===_0x2a4dd2['Offer'];}[_0x23d54f(0x1a6)](_0x34a38c){const _0x5197a4=_0x23d54f;return _0x34a38c[_0x5197a4(0x30e)]===_0x2a4dd2['NeedRestart'];}['isIceCandidate'](_0x18b767){const _0x1f350b=_0x23d54f;return _0x18b767[_0x1f350b(0x30e)]===_0x2a4dd2[_0x1f350b(0x1ab)];}}!function(_0x2849fe){const _0x26cb3d=_0x23d54f;_0x2849fe[_0x2849fe[_0x26cb3d(0x328)]=0x0]='SubscribeMediaStream',_0x2849fe[_0x2849fe[_0x26cb3d(0x359)]=0x1]=_0x26cb3d(0x359),_0x2849fe[_0x2849fe['UnsubscribeMediaStream']=0x2]=_0x26cb3d(0x1dd),_0x2849fe[_0x2849fe[_0x26cb3d(0x10a)]=0x3]=_0x26cb3d(0x10a),_0x2849fe[_0x2849fe['RestartNeedMediaStream']=0x4]=_0x26cb3d(0x637),_0x2849fe[_0x2849fe[_0x26cb3d(0x4e9)]=0x5]=_0x26cb3d(0x4e9),_0x2849fe[_0x2849fe[_0x26cb3d(0x5c9)]=0x6]=_0x26cb3d(0x5c9),_0x2849fe[_0x2849fe['MediaStreamUnavailable']=0x7]=_0x26cb3d(0x317);}(_0x2b8c9a||(_0x2b8c9a={}));class _0x591306 extends _0x34d5dc{[_0x23d54f(0x486)];[_0x23d54f(0x455)];[_0x23d54f(0x20a)];[_0x23d54f(0x444)];[_0x23d54f(0x347)];[_0x23d54f(0x431)]=new Map();[_0x23d54f(0x174)]=new Map();[_0x23d54f(0x2d0)]=new Map();['pendingFilesTransactions']=new Map();[_0x23d54f(0xec)]=new Map();[_0x23d54f(0x3ef)];[_0x23d54f(0x538)]=_0x2fd896();[_0x23d54f(0x1d7)];['debounceStats'];['writes']=0x0;[_0x23d54f(0x53b)]=0x0;constructor(_0x4c6dcf,_0xca2984,_0x55ad9c,_0xb39e18,_0x22be4b,_0x4a9f9a){const _0x10eb34=_0x23d54f;if('string'!=typeof _0xca2984)throw new _0x4f208b(_0x522ceb[_0x10eb34(0x2bf)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x4c6dcf,_0xca2984),this['clusterId']=_0x55ad9c,this[_0x10eb34(0x455)]=_0xb39e18,this[_0x10eb34(0x20a)]=_0x22be4b;const _0x27032e='ccc'+this[_0x10eb34(0x455)]+_0x10eb34(0x433)+this[_0x10eb34(0x486)]+'ccc'+_0xca2984;this[_0x10eb34(0x3ef)]=new _0x4a9f9a(_0x27032e);}['getContentType'](){const _0x53cc0e=_0x23d54f;return _0x49643d[_0x53cc0e(0x61e)];}async[_0x23d54f(0x5bf)](){const _0x3ef101=_0x23d54f;try{const _0x5b329a=await this[_0x3ef101(0x3ef)][_0x3ef101(0x643)](),_0x5b2adf=await _0x5b329a[_0x3ef101(0x356)](_0x15232e),_0x3072de=await _0x5b2adf['getFile'](),_0x401dc0=await _0x3072de[_0x3ef101(0x107)]();this['lastTransactionId']=_0x401dc0;}catch(_0x559097){}this[_0x3ef101(0x444)]=this[_0x3ef101(0x596)](async(_0x3f622c,_0x23728f)=>{const _0x1cdce3=_0x3ef101;if(!(_0x23728f instanceof File))try{if(_0x23728f['payloadType']===_0x2f2d46['Request'])return void this[_0x1cdce3(0x23b)](_0x23728f);this[_0x1cdce3(0x40f)](_0x23728f);}catch(_0x3be7d8){if(_0x3be7d8 instanceof _0x4ad60f)throw _0x3be7d8;throw new _0x4ad60f(_0x4ad60f[_0x1cdce3(0x34c)][_0x1cdce3(0x529)],{'payload':_0x23728f});}}),await this[_0x3ef101(0x361)](),await this['syncPendingFiles'](),this[_0x3ef101(0x333)]();}[_0x23d54f(0xb7)](){const _0x41418f=_0x23d54f;this[_0x41418f(0x444)]?.(),clearTimeout(this[_0x41418f(0x645)]),delete this[_0x41418f(0x645)],super[_0x41418f(0xb7)]();}[_0x23d54f(0x168)](){const _0x29c072=_0x23d54f;this[_0x29c072(0x1c8)]?.[_0x29c072(0x127)]({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x29c072(0xf2)],'content':{'type':_0x2e4279['CloseObjectStoreBucket'],'label':this[_0x29c072(0x24c)]}});}[_0x23d54f(0x308)](_0x4d4461){const _0x13805f=_0x23d54f;if(this[_0x13805f(0x1d7)])throw new _0x4f208b(_0x522ceb['ObjectStoreAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this['listenerUnsubscriber']=this[_0x13805f(0x538)][_0x13805f(0x308)](_0x4d4461);}[_0x23d54f(0x3e0)](){const _0x1a42db=_0x23d54f;this[_0x1a42db(0x1d7)]&&this['listenerUnsubscriber']();}[_0x23d54f(0x127)](_0x125fac){const _0x3cc365=_0x23d54f;switch(_0x125fac['action']){case _0x447f5e[_0x3cc365(0x371)]:return this[_0x3cc365(0x398)](_0x125fac[_0x3cc365(0x5d5)],_0x125fac['path']);case _0x447f5e[_0x3cc365(0x38b)]:return this[_0x3cc365(0x125)](_0x125fac[_0x3cc365(0x146)]);case _0x447f5e[_0x3cc365(0x233)]:return this[_0x3cc365(0x443)](_0x125fac[_0x3cc365(0x146)],_0x125fac[_0x3cc365(0x5b8)]);default:throw new _0x4f208b(_0x522ceb['ObjectStoreInvalidPayload'],'Cannot\x20publish\x20payload:\x20'+_0x125fac);}}async[_0x23d54f(0x3cf)](_0x87b78f){const _0x1f1802=_0x23d54f;try{const _0x45be11=(0x0,_0x589ba4['v4'])(),_0x29d4bd=this[_0x1f1802(0x347)],_0x246a9c={'payloadType':_0x2f2d46[_0x1f1802(0x12c)],'action':_0x34d6f1[_0x1f1802(0x20b)],'id':_0x45be11,'parentId':_0x29d4bd,'path':_0x87b78f};await this['publishTransaction'](_0x246a9c);const _0x4c0391=await this[_0x1f1802(0x45b)](_0x87b78f);await this['send'](_0x246a9c),_0x2bad5b[_0x1f1802(0x2c1)](_0x713fdd[_0x1f1802(0x5c7)],{'type':_0x1f1802(0x3cf),'label':this[_0x1f1802(0x24c)],'userId':this[_0x1f1802(0x577)],'kind':_0x4c0391,'path':_0x87b78f}),this[_0x1f1802(0x313)]+=0x1,this['sendStats']();}catch(_0x1438a7){if(_0x1438a7 instanceof _0x4ad60f)throw new _0x4f208b(_0x522ceb[_0x1f1802(0x177)],_0x1f1802(0x507));throw new _0x4f208b(_0x522ceb['ObjectStoreInvalidPath'],_0x1f1802(0x2ba)+_0x87b78f);}}async[_0x23d54f(0x1dc)](_0x61e849){const _0xddae29=_0x23d54f;_0x2bad5b['logServiceEvent'](_0x713fdd[_0xddae29(0x5c7)],{'type':'get','label':this[_0xddae29(0x24c)],'userId':this[_0xddae29(0x577)],'path':_0x61e849}),this[_0xddae29(0x53b)]+=0x1,this[_0xddae29(0x333)]();try{return await this[_0xddae29(0x3ef)]['get'](_0x61e849);}catch(_0x485edc){try{await this['objectStoreConnector'][_0xddae29(0x1dc)](_0x61e849+_0x41d2cd);}catch(_0x15ac15){throw new _0x4f208b(_0x522ceb[_0xddae29(0x390)],'Cannot\x20get\x20file:\x20'+_0x61e849);}throw new _0x4f208b(_0x522ceb[_0xddae29(0x177)],_0xddae29(0x2b1));}}async[_0x23d54f(0x221)](_0x2f5b3e,_0x48f453=!0x1,_0x3b1d29=!0x1){const _0xf549=_0x23d54f;_0x2bad5b[_0xf549(0x2c1)](_0x713fdd['ObjectStorage'],{'type':_0xf549(0x221),'label':this[_0xf549(0x24c)],'userId':this[_0xf549(0x577)],'path':_0x2f5b3e}),this[_0xf549(0x53b)]+=0x1,this['sendStats']();try{const _0x820663=await this['objectStoreConnector']['list'](_0x2f5b3e,_0x48f453);return _0x3b1d29?_0x820663:this[_0xf549(0x137)](_0x820663);}catch(_0x538190){throw new _0x4f208b(_0x522ceb[_0xf549(0x390)],_0xf549(0x501)+_0x2f5b3e);}}[_0x23d54f(0x259)](_0x3fca2d){const _0x99d724=_0x23d54f;for(const _0xd15120 of this['objectRequests'][_0x99d724(0x54b)]())this[_0x99d724(0x492)](_0xd15120,[_0x3fca2d]);}['handleUserLeave'](_0x587e8e){const _0x2620d9=_0x23d54f,_0xc1056b=this['pendingFilesSyncing'][_0x2620d9(0x1dc)](_0x587e8e);if(_0xc1056b){for(const [_0x3db26e,_0x2ae1fe]of _0xc1056b[_0x2620d9(0x54b)]())this[_0x2620d9(0x5b5)](_0x3db26e,_0x2ae1fe);this[_0x2620d9(0x2d0)][_0x2620d9(0x114)](_0x587e8e);}}[_0x23d54f(0x137)](_0x1cf503){const _0x2ae47a=_0x23d54f;for(const _0x3fbea6 of _0x1cf503)_0x3fbea6[_0x2ae47a(0x363)]===_0x4e9a7a['Folder']&&(_0x3fbea6[_0x2ae47a(0x62d)]=this[_0x2ae47a(0x137)](_0x3fbea6[_0x2ae47a(0x62d)]??[])),(_0x3fbea6[_0x2ae47a(0x13a)][_0x2ae47a(0x1e8)](_0x41d2cd)||_0x3fbea6[_0x2ae47a(0x13a)]===_0x15232e)&&_0x1cf503[_0x2ae47a(0x28e)](_0x1cf503['indexOf'](_0x3fbea6),0x1);return _0x1cf503;}async[_0x23d54f(0x398)](_0x4009d5,_0x3ed634){const _0x4bb68a=_0x23d54f;try{const _0x583956=(0x0,_0x589ba4['v4'])(),_0x53c1ba=this[_0x4bb68a(0x347)],_0x1cf0f9=await _0x576b26(_0x4009d5);await this[_0x4bb68a(0x1f2)]({'payloadType':_0x2f2d46['Transaction'],'action':_0x34d6f1[_0x4bb68a(0x1ee)],'id':_0x583956,'parentId':_0x53c1ba,'answererId':this[_0x4bb68a(0x577)],'name':_0x4009d5[_0x4bb68a(0x13a)],'type':_0x4009d5[_0x4bb68a(0x30e)],'path':_0x3ed634??'/','checksum':_0x1cf0f9}),await this[_0x4bb68a(0x2c2)](_0x4009d5,_0x3ed634),await this[_0x4bb68a(0x523)](_0x4009d5,{'payloadType':_0x2f2d46['Transaction'],'action':_0x34d6f1[_0x4bb68a(0x1ee)],'id':_0x583956,'parentId':_0x53c1ba,'answererId':this[_0x4bb68a(0x577)],'name':_0x4009d5[_0x4bb68a(0x13a)],'type':_0x4009d5[_0x4bb68a(0x30e)],'path':_0x3ed634??'/','checksum':_0x1cf0f9}),_0x2bad5b[_0x4bb68a(0x2c1)](_0x713fdd[_0x4bb68a(0x5c7)],{'type':_0x4bb68a(0x127),'label':this['label'],'userId':this['ownerId'],'kind':_0x4e9a7a[_0x4bb68a(0x371)],'path':_0x3ed634,'fileName':_0x4009d5['name'],'fileType':_0x4009d5[_0x4bb68a(0x30e)],'size':_0x4009d5[_0x4bb68a(0x4ba)]}),this[_0x4bb68a(0x313)]+=0x1,this['sendStats']();}catch(_0x27cbfd){if(_0x27cbfd instanceof _0x4ad60f)throw new _0x4f208b(_0x522ceb[_0x4bb68a(0x177)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x4f208b(_0x522ceb[_0x4bb68a(0x390)],'Cannot\x20publish\x20file:\x20'+_0x3ed634);}}async['publishFolder'](_0x28585a){const _0x4781c0=_0x23d54f;try{const _0x445ea1=(0x0,_0x589ba4['v4'])(),_0x232d6a=this['lastTransactionId'],_0x3a54e6={'payloadType':_0x2f2d46[_0x4781c0(0x12c)],'action':_0x34d6f1['FolderCreate'],'id':_0x445ea1,'parentId':_0x232d6a,'path':_0x28585a};await this[_0x4781c0(0x1f2)](_0x3a54e6),await this[_0x4781c0(0x3ef)][_0x4781c0(0x643)](_0x28585a),await this[_0x4781c0(0x492)](_0x3a54e6),_0x2bad5b[_0x4781c0(0x2c1)](_0x713fdd[_0x4781c0(0x5c7)],{'type':_0x4781c0(0x127),'label':this[_0x4781c0(0x24c)],'userId':this[_0x4781c0(0x577)],'kind':_0x4e9a7a['Folder'],'path':_0x28585a}),this[_0x4781c0(0x313)]+=0x1,this['sendStats']();}catch(_0x332d13){if(_0x332d13 instanceof _0x4ad60f)throw new _0x4f208b(_0x522ceb[_0x4781c0(0x177)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x4f208b(_0x522ceb[_0x4781c0(0x390)],_0x4781c0(0x506)+_0x28585a);}}async['publishMove'](_0x47b162,_0xf54940){const _0x5c8777=_0x23d54f;try{const _0x3bbdb1=(0x0,_0x589ba4['v4'])(),_0x4bc7e1=this['lastTransactionId'],_0x10f7df={'payloadType':_0x2f2d46['Transaction'],'action':_0x34d6f1[_0x5c8777(0x233)],'id':_0x3bbdb1,'parentId':_0x4bc7e1,'path':_0x47b162,'newPath':_0xf54940};await this['publishTransaction'](_0x10f7df);const _0x1ec83d=await this[_0x5c8777(0x41d)](_0x47b162,_0xf54940);await this['send'](_0x10f7df),_0x2bad5b[_0x5c8777(0x2c1)](_0x713fdd[_0x5c8777(0x5c7)],{'type':_0x5c8777(0x1d3),'label':this['label'],'userId':this[_0x5c8777(0x577)],'kind':_0x1ec83d,'path':_0x47b162,'newPath':_0xf54940}),this[_0x5c8777(0x313)]+=0x1,this[_0x5c8777(0x333)]();}catch(_0x5eacad){if(_0x5eacad instanceof _0x4ad60f)throw new _0x4f208b(_0x522ceb[_0x5c8777(0x177)],_0x5c8777(0x2b1));throw new _0x4f208b(_0x522ceb[_0x5c8777(0x390)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x47b162);}}async[_0x23d54f(0x40f)](_0xe24f6d){const _0x4a7733=_0x23d54f;if(this['lastTransactionId']&&_0xe24f6d[_0x4a7733(0xa6)]!==this[_0x4a7733(0x347)]&&_0xe24f6d['id']!==this[_0x4a7733(0x347)]){if(!_0xe24f6d[_0x4a7733(0xa6)])throw new _0x4ad60f(_0x4ad60f[_0x4a7733(0x34c)][_0x4a7733(0x529)]);this['pendingSyncTransactions'][_0x4a7733(0x151)](_0xe24f6d[_0x4a7733(0xa6)],_0xe24f6d);}else{try{await this['processTransactionPayload'](_0xe24f6d);}catch(_0x19a8a4){}await this[_0x4a7733(0x567)](_0xe24f6d['id']),await this[_0x4a7733(0x4a5)](_0xe24f6d['id']);}}async[_0x23d54f(0x4ec)](_0x2da0b8){const _0x16f19d=_0x23d54f;switch(_0x2da0b8[_0x16f19d(0x3ec)]){case _0x34d6f1[_0x16f19d(0x1ee)]:await this[_0x16f19d(0x205)](_0x2da0b8);break;case _0x34d6f1[_0x16f19d(0x616)]:await this[_0x16f19d(0x29e)](_0x2da0b8);break;case _0x34d6f1[_0x16f19d(0x233)]:await this[_0x16f19d(0x4d1)](_0x2da0b8);break;case _0x34d6f1['Delete']:await this['handleObjectDelete'](_0x2da0b8);break;default:throw new _0x4ad60f(_0x4ad60f[_0x16f19d(0x34c)][_0x16f19d(0x529)],{'payload':_0x2da0b8});}}async[_0x23d54f(0x4a5)](_0x54a2e0){const _0x51bc88=_0x23d54f;if(this[_0x51bc88(0x431)][_0x51bc88(0x201)](_0x54a2e0)){const _0x5a8662=this[_0x51bc88(0x431)]['get'](_0x54a2e0);this[_0x51bc88(0x431)]['delete'](_0x54a2e0),await this[_0x51bc88(0x40f)](_0x5a8662);}}async['handleRequestPayload'](_0x27e2f1){const _0x1b2901=_0x23d54f;switch(_0x27e2f1[_0x1b2901(0x3ec)]){case _0x34d6f1[_0x1b2901(0x389)]:return this[_0x1b2901(0x541)](_0x27e2f1);case _0x34d6f1[_0x1b2901(0xef)]:return this[_0x1b2901(0x4c4)](_0x27e2f1);case _0x34d6f1['RequestFileSync']:return this[_0x1b2901(0x375)](_0x27e2f1);case _0x34d6f1['RequestFileWrite']:return this[_0x1b2901(0x205)](_0x27e2f1);default:throw new _0x4ad60f(_0x4ad60f[_0x1b2901(0x34c)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x27e2f1});}}async['handleFileWrite'](_0x5b5c5e){const _0xee9716=_0x23d54f;if(!_0x5b5c5e['data']||void 0x0===_0x5b5c5e['index']||!_0x5b5c5e['total'])return void await this[_0xee9716(0x2fe)](_0x5b5c5e);const _0x5d2d83=_0x5a8888(_0x5b5c5e[_0xee9716(0x146)],_0x5b5c5e[_0xee9716(0x13a)]);this[_0xee9716(0x543)]['has'](_0x5d2d83)||(this[_0xee9716(0x543)][_0xee9716(0x151)](_0x5d2d83,[]),await this['createPendingFileWrite'](_0x5b5c5e)),this[_0xee9716(0xf0)](_0x5b5c5e,_0x5d2d83);const _0xbb7fe1=this[_0xee9716(0x543)][_0xee9716(0x1dc)](_0x5d2d83);if(_0xbb7fe1[_0x5b5c5e['index']]=_0x5b5c5e[_0xee9716(0x530)],_0xbb7fe1[_0xee9716(0x3a0)](_0x12a8f2=>_0x12a8f2)[_0xee9716(0xa9)]<_0x5b5c5e['total'])return;const _0x135a42=_0x23fb18(_0xbb7fe1,_0x5b5c5e['name'],_0x5b5c5e[_0xee9716(0x30e)]);await this[_0xee9716(0x2c2)](_0x135a42,_0x5b5c5e[_0xee9716(0x146)]),await this[_0xee9716(0x12b)](_0x5b5c5e),this[_0xee9716(0x543)][_0xee9716(0x114)](_0x5d2d83),_0x2bad5b[_0xee9716(0x2c1)](_0x713fdd[_0xee9716(0x5c7)],{'type':'sync','label':this[_0xee9716(0x24c)],'userId':this[_0xee9716(0x577)],'kind':_0x4e9a7a['File'],'path':_0x5b5c5e[_0xee9716(0x146)],'fileName':_0x5b5c5e[_0xee9716(0x13a)],'fileType':_0x5b5c5e[_0xee9716(0x30e)],'size':_0x135a42[_0xee9716(0x4ba)]});const _0x4fc146=this[_0xee9716(0x268)][_0xee9716(0x1dc)](_0x5b5c5e[_0xee9716(0x146)])??[];for(const _0x439ef1 of _0x4fc146)await this[_0xee9716(0x4ec)](_0x439ef1);this[_0xee9716(0x268)]['delete'](_0x5b5c5e['path']),this[_0xee9716(0x538)]['publish']({'event':_0x430985['FileWrite'],'payload':{'file':{'kind':_0x4e9a7a[_0xee9716(0x371)],'path':_0x5b5c5e[_0xee9716(0x146)],'type':_0x135a42[_0xee9716(0x30e)],'size':_0x135a42[_0xee9716(0x4ba)],'name':_0x5b5c5e[_0xee9716(0x13a)],'pathName':_0x5d2d83}}});}async[_0x23d54f(0x29e)](_0x130856){const _0x321be7=_0x23d54f;await this[_0x321be7(0x3ef)][_0x321be7(0x643)](_0x130856[_0x321be7(0x146)]);const [_0x2311bc,_0x2ddb72]=_0x494e0e(_0x130856[_0x321be7(0x146)]);this[_0x321be7(0x538)][_0x321be7(0x127)]({'event':_0x430985[_0x321be7(0x616)],'payload':{'folder':{'kind':_0x4e9a7a[_0x321be7(0x38b)],'name':_0x2ddb72,'path':_0x2311bc,'pathName':_0x130856[_0x321be7(0x146)]}}});}async[_0x23d54f(0x641)](_0xa5a7d1){const _0x15f39f=_0x23d54f;if(!this[_0x15f39f(0x349)](_0xa5a7d1))return;const _0x3a5bf1=await this['deleteObject'](_0xa5a7d1['path']),[_0x3c3a2c,_0x15aa3d]=_0x494e0e(_0xa5a7d1[_0x15f39f(0x146)]);this[_0x15f39f(0x538)][_0x15f39f(0x127)]({'event':_0x3a5bf1===_0x4e9a7a['Folder']?_0x430985[_0x15f39f(0x5c3)]:_0x430985[_0x15f39f(0x45a)],'payload':{'name':_0x15aa3d,'path':_0x3c3a2c,'pathName':_0xa5a7d1[_0x15f39f(0x146)]}});}async[_0x23d54f(0x4d1)](_0x299221){const _0x43c826=_0x23d54f;if(!this['shouldProcessTransaction'](_0x299221))return this[_0x43c826(0xec)][_0x43c826(0x151)](_0x299221['newPath'],this[_0x43c826(0xec)][_0x43c826(0x1dc)](_0x299221['path'])??_0x299221[_0x43c826(0x146)]),void this[_0x43c826(0xec)][_0x43c826(0x114)](_0x299221['path']);this[_0x43c826(0xec)][_0x43c826(0x114)](_0x299221[_0x43c826(0x146)]);const _0x59cd1b=await this[_0x43c826(0x3ef)]['moveObject'](_0x299221[_0x43c826(0x146)],_0x299221[_0x43c826(0x5b8)]),[_0x3ef9f2,_0x488797]=_0x494e0e(_0x299221[_0x43c826(0x146)]),[_0x5b11e8,_0x1e00af]=_0x494e0e(_0x299221['newPath']);this[_0x43c826(0x538)][_0x43c826(0x127)]({'event':_0x59cd1b===_0x4e9a7a[_0x43c826(0x38b)]?_0x430985[_0x43c826(0x10c)]:_0x430985['FileMove'],'payload':{'name':_0x1e00af,'path':_0x5b11e8,'pathName':_0x299221[_0x43c826(0x5b8)],'oldName':_0x488797,'oldPath':_0x3ef9f2,'oldPathName':_0x299221[_0x43c826(0x146)]}});}['shouldProcessTransaction'](_0x3353f4){const _0x5205dc=_0x23d54f,_0x4632b3=this[_0x5205dc(0xec)][_0x5205dc(0x1dc)](_0x3353f4[_0x5205dc(0x146)])??_0x3353f4['path'];let _0x29a01a=!0x1;for(const _0x3f8aa1 of this[_0x5205dc(0x543)][_0x5205dc(0x1b8)]())if(_0x3f8aa1[_0x5205dc(0x4d6)](_0x4632b3)){const _0x51843d=this['pendingFilesTransactions']['get'](_0x3f8aa1)??[];_0x51843d['push'](_0x3353f4),this['pendingFilesTransactions']['set'](_0x3f8aa1,_0x51843d),_0x29a01a=!0x0;}return!_0x29a01a;}async['publishTransaction'](_0x2b38fa){const _0x52cfde=_0x23d54f;if(!_0x2b38fa['id'])throw new _0x4ad60f(_0x4ad60f[_0x52cfde(0x34c)][_0x52cfde(0x529)],{'message':_0x52cfde(0x5c4)});await this[_0x52cfde(0x20a)][_0x52cfde(0x2ff)](_0x2b38fa,this['label'],this[_0x52cfde(0x347)]),await this['updateLastTransactionId'](_0x2b38fa['id']);}async[_0x23d54f(0x567)](_0x5241fd){const _0x543311=_0x23d54f;this['lastTransactionId']=_0x5241fd;const _0x187aee=new File([new Blob([this[_0x543311(0x347)]])],_0x15232e,{'type':_0x543311(0x1d9)});await this[_0x543311(0x2c2)](_0x187aee,'/');}async[_0x23d54f(0x541)](_0x10f9d8){const _0x1780ac=_0x23d54f;try{const _0x2685d0=await this[_0x1780ac(0x1dc)](_0x10f9d8[_0x1780ac(0x146)]+'/'+_0x10f9d8['name']);if(await _0x576b26(_0x2685d0)!==_0x10f9d8['checksum'])return;_0x10f9d8[_0x1780ac(0xb9)]=this[_0x1780ac(0x577)],_0x10f9d8[_0x1780ac(0x3ec)]=_0x34d6f1[_0x1780ac(0xef)],await this[_0x1780ac(0x492)](_0x10f9d8,[_0x10f9d8[_0x1780ac(0x49a)]]);}catch(_0x5c8a85){}}async[_0x23d54f(0x4c4)](_0x1cdc60){const _0x216093=_0x23d54f,_0x1cbf71=_0x5a8888(_0x1cdc60[_0x216093(0x146)],_0x1cdc60['name']);if(!this[_0x216093(0x174)][_0x216093(0x201)](_0x1cbf71))return;const _0xc2a4b8=this['objectRequests'][_0x216093(0x1dc)](_0x1cbf71);_0xc2a4b8[_0x216093(0x3ec)]=_0x34d6f1[_0x216093(0x312)];const _0x54f128=_0x1cdc60[_0x216093(0xb9)];if(!_0x54f128)throw new _0x4ad60f(_0x4ad60f[_0x216093(0x34c)][_0x216093(0x529)],{'message':_0x216093(0x31c)});this[_0x216093(0x174)][_0x216093(0x114)](_0x1cbf71),this['pendingFilesSyncing']['has'](_0x54f128)||this['pendingFilesSyncing'][_0x216093(0x151)](_0x54f128,new Map()),this[_0x216093(0x2d0)][_0x216093(0x1dc)](_0x54f128)[_0x216093(0x151)](_0x1cbf71,[_0xc2a4b8,this[_0x216093(0x354)](_0x54f128,_0x1cbf71)]),_0xc2a4b8[_0x216093(0xb9)]=_0x54f128,this[_0x216093(0x492)](_0xc2a4b8,[_0x54f128]);}async[_0x23d54f(0x375)](_0x19b70b){const _0x2c9966=_0x23d54f,_0x257118=_0x5a8888(_0x19b70b[_0x2c9966(0x146)],_0x19b70b[_0x2c9966(0x13a)]),_0x304e6b=await this[_0x2c9966(0x1dc)](_0x257118),_0x3cae79={..._0x19b70b,'answererId':this[_0x2c9966(0x577)],'action':_0x34d6f1[_0x2c9966(0x393)]};await this[_0x2c9966(0x523)](_0x304e6b,_0x3cae79,[_0x19b70b['sourceId']]);}async[_0x23d54f(0x523)](_0x1f7c27,_0x2eb5a1,_0x29f3c0){const _0x3c62da=_0x23d54f,_0x55d640=await _0x27ef50(_0x1f7c27);for(const [_0x499504,_0x9dbb8f]of _0x55d640['entries']()){const _0x466a1e={..._0x2eb5a1,'type':_0x1f7c27[_0x3c62da(0x30e)],'data':_0x9dbb8f,'index':_0x499504,'total':_0x55d640[_0x3c62da(0xa9)]};this[_0x3c62da(0x492)](_0x466a1e,_0x29f3c0);}}async[_0x23d54f(0x12b)](_0xfe4c9c){const _0x3eac86=_0x23d54f;try{const _0x5471ce=_0x5a8888(_0xfe4c9c[_0x3eac86(0x146)],_0xfe4c9c[_0x3eac86(0x13a)]),_0x46e73c=_0x5471ce+_0x41d2cd;await this[_0x3eac86(0x45b)](_0x46e73c);const [,_0x2cc08f]=this['pendingFilesSyncing'][_0x3eac86(0x1dc)](_0xfe4c9c[_0x3eac86(0xb9)])?.['get'](_0x5471ce)??[];_0x2cc08f&&(clearTimeout(_0x2cc08f),this['pendingFilesSyncing'][_0x3eac86(0x1dc)](_0xfe4c9c['answererId'])['delete'](_0x5471ce));}catch(_0xb9523b){}}async[_0x23d54f(0x361)](){const _0x1eefcd=_0x23d54f,_0x346c9d=await this[_0x1eefcd(0x20a)][_0x1eefcd(0x1e1)](this[_0x1eefcd(0x24c)],this[_0x1eefcd(0x347)]);for(const _0x554b46 of _0x346c9d)await this[_0x1eefcd(0x40f)](_0x554b46);}async[_0x23d54f(0x23f)](){const _0x3f42dd=_0x23d54f,_0x320f19=await this[_0x3f42dd(0x221)]('/',!0x0,!0x0),_0x461c7c=async _0x18d0b1=>{const _0x169a3a=_0x3f42dd;for(const _0x2bf498 of _0x18d0b1){if(_0x2bf498[_0x169a3a(0x363)]===_0x4e9a7a[_0x169a3a(0x38b)]){_0x2bf498[_0x169a3a(0x62d)]&&_0x2bf498['entries'][_0x169a3a(0xa9)]>0x0&&await _0x461c7c(_0x2bf498['entries']);continue;}if(!_0x2bf498['name']['endsWith'](_0x41d2cd))continue;const _0x19f773=await this['get'](_0x2bf498[_0x169a3a(0x5a2)]),_0x4cd169=await _0x19f773['text'](),_0x135f16=_0x2bf498['name'][_0x169a3a(0x26e)](_0x41d2cd,''),_0x1164ef={'payloadType':_0x2f2d46[_0x169a3a(0x633)],'action':_0x34d6f1[_0x169a3a(0x389)],'sourceId':this[_0x169a3a(0x577)],'type':'','path':_0x2bf498['path'],'name':_0x135f16,'checksum':_0x4cd169},_0x219091=_0x5a8888(_0x2bf498[_0x169a3a(0x146)],_0x135f16);this['objectRequests'][_0x169a3a(0x151)](_0x219091,_0x1164ef);}};await _0x461c7c(_0x320f19);}async[_0x23d54f(0x2fe)](_0x3af20f){const _0x40077a=_0x23d54f,_0x325a4c=new File([new Blob([_0x3af20f[_0x40077a(0x56b)]])],''+_0x3af20f['name']+_0x41d2cd,{'type':'text/plain'});await this[_0x40077a(0x2c2)](_0x325a4c,_0x3af20f[_0x40077a(0x146)]);}[_0x23d54f(0x354)](_0x50724f,_0x56924e){const _0x531ded=_0x23d54f,[_0x36a551,_0x5a343a]=this[_0x531ded(0x2d0)][_0x531ded(0x1dc)](_0x50724f)?.[_0x531ded(0x1dc)](_0x56924e)??[];return _0x5a343a&&clearTimeout(_0x5a343a),setTimeout(()=>{const _0x24f376=_0x531ded,[_0x50b994,_0x57f8aa]=this[_0x24f376(0x2d0)][_0x24f376(0x1dc)](_0x50724f)[_0x24f376(0x1dc)](_0x56924e);this[_0x24f376(0x5b5)](_0x50b994,_0x57f8aa);},0xea60);}async[_0x23d54f(0x5b5)](_0x5a2314,_0x14b1c8){const _0x482a94=_0x23d54f;clearTimeout(_0x14b1c8),_0x5a2314[_0x482a94(0x3ec)]=_0x34d6f1[_0x482a94(0x389)],this['objectRequests']['set'](_0x5a8888(_0x5a2314[_0x482a94(0x146)],_0x5a2314[_0x482a94(0x13a)]),_0x5a2314),this[_0x482a94(0x492)](_0x5a2314);}[_0x23d54f(0xf0)](_0x344f4b,_0x5930c7){const _0x3422d1=_0x23d54f;this[_0x3422d1(0x2d0)][_0x3422d1(0x201)](_0x344f4b[_0x3422d1(0xb9)])||this[_0x3422d1(0x2d0)]['set'](_0x344f4b[_0x3422d1(0xb9)],new Map());const [_0x424408]=this[_0x3422d1(0x2d0)][_0x3422d1(0x1dc)](_0x344f4b['answererId'])[_0x3422d1(0x1dc)](_0x5930c7)??[{'payloadType':_0x2f2d46[_0x3422d1(0x633)],'action':_0x34d6f1[_0x3422d1(0x389)],'sourceId':this['ownerId'],'type':_0x344f4b[_0x3422d1(0x30e)],'name':_0x344f4b[_0x3422d1(0x13a)],'path':_0x344f4b[_0x3422d1(0x146)],'checksum':_0x344f4b['checksum'],'answererId':_0x344f4b['answererId']}];this[_0x3422d1(0x2d0)]['get'](_0x344f4b[_0x3422d1(0xb9)])['set'](_0x5930c7,[_0x424408,this[_0x3422d1(0x354)](_0x344f4b[_0x3422d1(0xb9)],_0x5930c7)]);}async[_0x23d54f(0x2c2)](_0x5b356b,_0x28e876){const _0x3ff87e=_0x23d54f;await this[_0x3ff87e(0x3ef)]['writeFile'](_0x5b356b,_0x28e876);}async[_0x23d54f(0x45b)](_0x179069){const _0x46b804=_0x23d54f;try{return await this['objectStoreConnector'][_0x46b804(0x45b)](_0x179069);}catch(_0x3e2088){return await this[_0x46b804(0x3ef)][_0x46b804(0x45b)](_0x179069+_0x41d2cd);}}async[_0x23d54f(0x41d)](_0x5f3846,_0x24f7d8){const _0x3fe05c=_0x23d54f;try{return await this['objectStoreConnector']['moveObject'](_0x5f3846,_0x24f7d8);}catch(_0x3c6c63){return await this['objectStoreConnector'][_0x3fe05c(0x41d)](_0x5f3846+_0x41d2cd,_0x24f7d8+_0x41d2cd);}}['sendStats'](){const _0x524254=_0x23d54f;this[_0x524254(0x645)]&&clearTimeout(this[_0x524254(0x645)]),this[_0x524254(0x645)]=setTimeout(async()=>{const _0x36e743=_0x524254;delete this[_0x36e743(0x645)];const _0x157f75=await this[_0x36e743(0x3ef)][_0x36e743(0x3bc)]('/');this[_0x36e743(0x1c8)]?.['publish']({'sourceId':_0x50c8f3,'messageType':_0x528d91['Content'],'content':{'type':_0x2e4279['ObjectStoreStats'],'label':this[_0x36e743(0x24c)],'stats':{'timestamp':Date[_0x36e743(0x111)](),'storage':_0x157f75,'messagesSent':this[_0x36e743(0x276)],'messagesReceived':this[_0x36e743(0x579)],'bytesSent':this[_0x36e743(0x5f4)],'bytesReceived':this[_0x36e743(0x33b)],'writes':this[_0x36e743(0x313)],'reads':this[_0x36e743(0x53b)]}}}),_0x2bad5b[_0x36e743(0x43a)](_0x713fdd[_0x36e743(0x5c7)],_0x36e743(0x433)+this['clusterId']+_0x36e743(0x433)+this[_0x36e743(0x24c)],_0x157f75);},0x1388);}}class _0x50a446 extends _0x12a2eb{[_0x23d54f(0x1de)];constructor(_0x4771fd,_0x3a0311,_0x15d643){const _0x4e6f59=_0x23d54f;super(_0x4771fd,_0x3a0311),this[_0x4e6f59(0x1de)]=_0x15d643;}[_0x23d54f(0x2b9)](){const _0x94e126=_0x23d54f;return _0x49643d[_0x94e126(0x265)];}[_0x23d54f(0x462)](){const _0x3bb9e0=_0x23d54f;return this[_0x3bb9e0(0x1de)];}['getInternalStreamId'](){return this['mediaStream']['id'];}}class _0x357b9a extends _0x50a446{[_0x23d54f(0x56c)];[_0x23d54f(0x185)];[_0x23d54f(0x1ae)];['unregisterPublisherListener']=_0x2fd896();constructor(_0x37453f,_0x5768cb,_0x89cd7e,_0x19c693,_0x236f36){const _0x597dcd=_0x23d54f;super(_0x37453f,_0x5768cb,_0x89cd7e),this[_0x597dcd(0x56c)]=_0x19c693,this[_0x597dcd(0x185)]=_0x236f36;}['destroy'](){const _0x20f0d1=_0x23d54f;this[_0x20f0d1(0x99)](_0x20f0d1(0x11b)),this[_0x20f0d1(0x99)](_0x20f0d1(0x55f)),super[_0x20f0d1(0xb7)]();}[_0x23d54f(0x561)](_0x380fd3){const _0x558654=_0x23d54f;if(!this[_0x558654(0x1ae)])throw new _0x4ad60f(_0x4ad60f[_0x558654(0x34c)][_0x558654(0x1e4)],{'label':this['label'],'ownerId':this[_0x558654(0x577)],'remoteId':this['remoteId']});this[_0x558654(0x1ae)][_0x558654(0x127)]({'sourceId':this[_0x558654(0x577)],'content':{'action':_0x31f9ac[_0x558654(0xb6)],'track':_0x380fd3,'stream':this[_0x558654(0x1de)],'priority':_0x1924e7['Default'],'params':this['getInternalTrackParams'](_0x380fd3[_0x558654(0x363)],this[_0x558654(0x185)])}});}[_0x23d54f(0x99)](_0x43856d){const _0x1882cd=_0x23d54f,_0x35a81b=this[_0x1882cd(0x1a8)](_0x43856d);if(_0x35a81b){if(!this['topic'])return null;this[_0x1882cd(0x1ae)]['publish']({'sourceId':this['ownerId'],'content':{'action':_0x31f9ac[_0x1882cd(0x3b4)],'track':_0x35a81b,'stream':this[_0x1882cd(0x1de)]}});}return _0x35a81b;}[_0x23d54f(0x408)](_0x4ca127){const _0x213750=_0x23d54f;if(!this[_0x213750(0x1ae)])throw new _0x4ad60f(_0x4ad60f[_0x213750(0x34c)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x213750(0x24c)],'ownerId':this[_0x213750(0x577)],'remoteId':this[_0x213750(0x56c)]});this[_0x213750(0x1ae)]['publish']({'sourceId':this['ownerId'],'content':{'action':_0x31f9ac['Update'],'priority':_0x4ca127,'stream':this[_0x213750(0x1de)]}});}[_0x23d54f(0x308)]({trackKinds:_0x3be6c8,params:_0x368731},_0x30abab){const _0x467937=_0x23d54f;if(!this['topic'])throw new _0x4ad60f(_0x4ad60f[_0x467937(0x34c)][_0x467937(0x1e4)],{'label':this[_0x467937(0x24c)],'ownerId':this['ownerId'],'remoteId':this[_0x467937(0x56c)]});for(const _0x2539ea of this[_0x467937(0x1de)][_0x467937(0x638)]())_0x3be6c8[_0x467937(0xc6)](_0x2539ea[_0x467937(0x363)])&&this[_0x467937(0x1ae)][_0x467937(0x127)]({'sourceId':this[_0x467937(0x577)],'content':{'action':_0x31f9ac[_0x467937(0xb6)],'track':_0x2539ea,'stream':this[_0x467937(0x1de)],'priority':_0x30abab,'params':this['getInternalTrackParams'](_0x2539ea[_0x467937(0x363)],_0x368731)}});}[_0x23d54f(0x273)]({params:_0x5f3f2a}){const _0x42d5d6=_0x23d54f;if(!this['topic'])throw new _0x4ad60f(_0x4ad60f[_0x42d5d6(0x34c)][_0x42d5d6(0x1e4)],{'label':this[_0x42d5d6(0x24c)],'ownerId':this[_0x42d5d6(0x577)],'remoteId':this[_0x42d5d6(0x56c)]});for(const _0x5f42b0 of this['mediaStream'][_0x42d5d6(0x638)]())this[_0x42d5d6(0x1ae)][_0x42d5d6(0x127)]({'sourceId':this['ownerId'],'content':{'action':_0x31f9ac[_0x42d5d6(0x30c)],'stream':this[_0x42d5d6(0x1de)],'params':this[_0x42d5d6(0x5c5)](_0x5f42b0[_0x42d5d6(0x363)],_0x5f3f2a)}});}[_0x23d54f(0x3e0)]({trackKinds:_0x374608}){const _0x5903f6=_0x23d54f;if(this[_0x5903f6(0x1ae)]){for(const _0x3a4039 of this['mediaStream'][_0x5903f6(0x638)]())_0x374608[_0x5903f6(0xc6)](_0x3a4039[_0x5903f6(0x363)])&&this[_0x5903f6(0x1ae)]['publish']({'sourceId':this[_0x5903f6(0x577)],'content':{'action':_0x31f9ac[_0x5903f6(0x3b4)],'stream':this['mediaStream'],'track':_0x3a4039}});}}[_0x23d54f(0x4a0)](_0x2edbad){const _0x4cead5=_0x23d54f;this[_0x4cead5(0x1ae)]=_0x2edbad;}['unregisterPublisher'](_0x3326ec){const _0x5cd221=_0x23d54f;_0x3326ec===this['topic']&&(delete this[_0x5cd221(0x1ae)],this[_0x5cd221(0x573)][_0x5cd221(0x127)]());}[_0x23d54f(0x5bb)](_0x30f428){const _0x368610=_0x23d54f;return this['unregisterPublisherListener'][_0x368610(0x308)](_0x30f428);}[_0x23d54f(0x1a8)](_0x554353){const _0xdb9c45=_0x23d54f;return this[_0xdb9c45(0x1de)][_0xdb9c45(0x638)]()[_0xdb9c45(0xad)](_0x338fb7=>_0x338fb7[_0xdb9c45(0x363)]===_0x554353)||null;}[_0x23d54f(0x5c5)](_0x40f443,_0x88d74d){const _0x30ed7e=_0x23d54f;let _0x7542f9;return _0x30ed7e(0x55f)===_0x40f443&&_0x88d74d?.[_0x30ed7e(0x55f)]&&_0x30ed7e(0x488)!=typeof _0x88d74d['video']&&(_0x7542f9={'kind':_0x30ed7e(0x55f),..._0x88d74d[_0x30ed7e(0x55f)]},_0x7542f9['resolution']=this[_0x30ed7e(0x62e)]()),_0x30ed7e(0x11b)===_0x40f443&&_0x88d74d?.[_0x30ed7e(0x11b)]&&'boolean'!=typeof _0x88d74d[_0x30ed7e(0x11b)]&&(_0x7542f9={'kind':'audio',..._0x88d74d[_0x30ed7e(0x11b)]}),_0x7542f9;}[_0x23d54f(0x62e)](){const _0x3ab195=_0x23d54f;let _0x4167d7={'width':0x0,'height':0x0};const _0x5365df=this[_0x3ab195(0x1de)]['getVideoTracks']();if(_0x5365df[_0x3ab195(0xa9)]>0x0){const _0x3dfb1a=_0x5365df[0x0][_0x3ab195(0x4da)]();_0x3dfb1a[_0x3ab195(0x587)]&&_0x3dfb1a['height']&&(_0x4167d7={'width':_0x3dfb1a[_0x3ab195(0x587)],'height':_0x3dfb1a[_0x3ab195(0x5c8)]});}return _0x4167d7;}}class _0x7c4441 extends _0x50a446{['priority']=_0x1924e7[_0x23d54f(0x63d)];[_0x23d54f(0x568)]=new Map();['outgoingStreams']=new Map();constructor(_0x3f0569,_0x27baec,_0x2f9a52){const _0x1319be=_0x23d54f;super(_0x3f0569,_0x27baec,_0x2f9a52 instanceof MediaStream?_0x2f9a52:_0x2f9a52[_0x1319be(0x442)]?_0x2f9a52[_0x1319be(0x442)]:_0x2f9a52[_0x1319be(0x25b)]()),this[_0x1319be(0x1de)][_0x1319be(0x638)]()[_0x1319be(0x55e)](_0x2dbdf2=>this[_0x1319be(0x504)](_0x2dbdf2)),_0x2bad5b['logServiceEvent'](_0x713fdd[_0x1319be(0xba)],{'type':_0x1319be(0x127),'label':this[_0x1319be(0x24c)],'userId':this[_0x1319be(0x577)],'streamId':this[_0x1319be(0x5f9)](),'trackKinds':this[_0x1319be(0x1de)][_0x1319be(0x638)]()[_0x1319be(0xc8)](_0x2398a1=>_0x2398a1[_0x1319be(0x363)])});}[_0x23d54f(0xb7)](){const _0x1b12bc=_0x23d54f;this[_0x1b12bc(0x4f1)]['size']>0x0&&(this[_0x1b12bc(0x4f1)][_0x1b12bc(0x55e)](_0x546108=>{const _0x2b3ae2=_0x1b12bc;_0x546108[_0x2b3ae2(0x3cc)](),_0x546108[_0x2b3ae2(0xb7)]();}),this[_0x1b12bc(0x4f1)][_0x1b12bc(0x2e1)]()),this[_0x1b12bc(0x568)][_0x1b12bc(0x55e)](_0x51a1fa=>_0x51a1fa()),super[_0x1b12bc(0xb7)]();}[_0x23d54f(0x127)](_0x35734c){const _0x6801dc=_0x23d54f;this[_0x6801dc(0x1c8)][_0x6801dc(0x127)]({'sourceId':this[_0x6801dc(0x577)],'destinationIds':_0x35734c?[_0x35734c]:void 0x0,'propagate':!0x0,'messageType':_0x528d91[_0x6801dc(0xf2)],'content':{'type':_0x2e4279['PublishMediaStream'],'ownerId':this[_0x6801dc(0x577)],'label':this[_0x6801dc(0x24c)],'stream':{'streamId':this[_0x6801dc(0x5f9)](),'availableTrackKinds':this[_0x6801dc(0x1de)][_0x6801dc(0x638)]()[_0x6801dc(0xc8)](_0x5e2e9b=>_0x5e2e9b[_0x6801dc(0x363)])}}});}['unpublish'](){const _0x2633ff=_0x23d54f;this[_0x2633ff(0x1c8)][_0x2633ff(0x127)]({'sourceId':this[_0x2633ff(0x577)],'propagate':!0x0,'messageType':_0x528d91[_0x2633ff(0xf2)],'content':{'type':_0x2e4279['UnpublishMediaStream'],'ownerId':this[_0x2633ff(0x577)],'label':this[_0x2633ff(0x24c)]}}),this[_0x2633ff(0x1c8)][_0x2633ff(0x127)]({'sourceId':_0x50c8f3,'messageType':_0x528d91['Content'],'content':{'type':_0x2e4279['CloseMediaStream'],'label':this[_0x2633ff(0x24c)]}}),_0x2bad5b[_0x2633ff(0x2c1)](_0x713fdd[_0x2633ff(0xba)],{'type':_0x2633ff(0x3cf),'label':this[_0x2633ff(0x24c)],'userId':this[_0x2633ff(0x577)],'streamId':this['getInternalStreamId']()});}['getPriority'](){const _0x5625cd=_0x23d54f;return this[_0x5625cd(0x57c)];}['setPriority'](_0x28394f){const _0x4a9ce5=_0x23d54f;this[_0x4a9ce5(0x57c)]=_0x28394f,this[_0x4a9ce5(0x4f1)]['forEach'](_0x2d9634=>_0x2d9634[_0x4a9ce5(0x408)](_0x28394f));}[_0x23d54f(0x3c8)](_0xf3b94e,_0x569d7b){const _0x14c022=_0x23d54f;if(!this[_0x14c022(0x4f1)]['has'](_0xf3b94e)){const _0x69acc6=new _0x357b9a(this[_0x14c022(0x577)],this['label'],this[_0x14c022(0x1de)],_0xf3b94e,_0x569d7b),_0x48f3ea=_0x69acc6['onUnregisterPublisher'](()=>{const _0x805634=_0x14c022;_0x48f3ea(),this[_0x805634(0x4f1)]['get'](_0xf3b94e)?.[_0x805634(0xb7)](),this[_0x805634(0x4f1)][_0x805634(0x114)](_0xf3b94e);});this[_0x14c022(0x4f1)][_0x14c022(0x151)](_0xf3b94e,_0x69acc6),_0x69acc6[_0x14c022(0x5f5)](this['systemTopic']);}return this['outgoingStreams']['get'](_0xf3b94e);}[_0x23d54f(0x1c5)](){const _0x1c3043=_0x23d54f;return this[_0x1c3043(0x1de)]['id'];}[_0x23d54f(0x17c)](_0x198112){const _0x38c7c1=_0x23d54f;this[_0x38c7c1(0x1c8)]['publish']({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x38c7c1(0xf2)],'content':{'type':_0x2e4279[_0x38c7c1(0x424)],'label':this[_0x38c7c1(0x24c)],'trackKinds':[_0x198112[_0x38c7c1(0x363)]]}});}[_0x23d54f(0x504)](_0x452ef1){const _0x525d1f=_0x23d54f,_0x4bca6c=()=>this[_0x525d1f(0x17c)](_0x452ef1);_0x452ef1['addEventListener'](_0x525d1f(0x5e1),_0x4bca6c),_0x452ef1['addEventListener'](_0x525d1f(0x3bd),_0x4bca6c),this[_0x525d1f(0x568)][_0x525d1f(0x151)](_0x452ef1[_0x525d1f(0x363)],()=>{const _0x47e4af=_0x525d1f;_0x452ef1[_0x47e4af(0x33c)](_0x47e4af(0x5e1),_0x4bca6c),_0x452ef1['removeEventListener'](_0x47e4af(0x3bd),_0x4bca6c),this[_0x47e4af(0x568)][_0x47e4af(0x114)](_0x452ef1[_0x47e4af(0x363)]);});}}class _0x382622 extends _0x7c4441{['audioContext'];[_0x23d54f(0x291)]=[];['clientStream'];[_0x23d54f(0x4c8)];[_0x23d54f(0x1e6)];[_0x23d54f(0x179)];[_0x23d54f(0x23a)];['context'];['interval'];constructor(_0x330d0b,_0x5d68e9,_0x37d392,_0x233d6f,_0x1331ff){const _0x4f2655=_0x23d54f;if(super(_0x330d0b,_0x5d68e9,_0x37d392),this[_0x4f2655(0x5f3)]=_0x1331ff,this[_0x4f2655(0x34d)]=this[_0x4f2655(0x1de)],this['sourceVideo']=document[_0x4f2655(0x31d)](_0x4f2655(0x55f)),this['sourceVideo'][_0x4f2655(0x3bb)]=!0x0,this[_0x4f2655(0x179)][_0x4f2655(0x3eb)]=!0x0,this[_0x4f2655(0x179)]['srcObject']=this[_0x4f2655(0x34d)],this[_0x4f2655(0x179)][_0x4f2655(0x498)](),this[_0x4f2655(0x179)][_0x4f2655(0x2a6)]=()=>{const _0x3ea5a7=_0x4f2655;this[_0x3ea5a7(0x179)][_0x3ea5a7(0x505)]();},this['canvas']=document[_0x4f2655(0x31d)](_0x4f2655(0x23a)),this[_0x4f2655(0x24b)]=this[_0x4f2655(0x23a)][_0x4f2655(0xae)]('2d'),this[_0x4f2655(0x1de)]=this[_0x4f2655(0x23a)][_0x4f2655(0x25b)](_0x233d6f),this['audioDestination']=this[_0x4f2655(0x5f3)][_0x4f2655(0x2b8)](),this[_0x4f2655(0x34d)][_0x4f2655(0x4fc)]()['length']>0x0){const _0x2dbf42=this[_0x4f2655(0x34d)][_0x4f2655(0x4fc)]()[0x0];this[_0x4f2655(0x4c8)]=this['audioContext'][_0x4f2655(0x3aa)](new MediaStream([_0x2dbf42])),this['audioSource'][_0x4f2655(0x461)](this[_0x4f2655(0x1e6)]);}const _0x423673=this['audioDestination'][_0x4f2655(0x126)][_0x4f2655(0x638)]()[0x0];this[_0x4f2655(0x1de)][_0x4f2655(0x561)](_0x423673),this[_0x4f2655(0x2d7)]=setInterval(()=>{const _0x302a68=_0x4f2655;this[_0x302a68(0x23a)][_0x302a68(0x587)]=this[_0x302a68(0x179)][_0x302a68(0x2ac)],this['canvas'][_0x302a68(0x5c8)]=this[_0x302a68(0x179)][_0x302a68(0x254)],this[_0x302a68(0x179)]['videoWidth']?(0x0!==this['clientStream'][_0x302a68(0x31a)]()[_0x302a68(0xa9)]&&this[_0x302a68(0x34d)]['getVideoTracks']()[0x0]['enabled']?this[_0x302a68(0x1de)][_0x302a68(0x31a)]()[0x0]['enabled']=!0x0:this[_0x302a68(0x1de)]['getVideoTracks']()[0x0][_0x302a68(0xbf)]=!0x1,0x0!==this[_0x302a68(0x34d)][_0x302a68(0x4fc)]()['length']&&this[_0x302a68(0x34d)]['getAudioTracks']()[0x0][_0x302a68(0xbf)]?this['mediaStream'][_0x302a68(0x4fc)]()[0x0][_0x302a68(0xbf)]=!0x0:this[_0x302a68(0x1de)]['getAudioTracks']()[0x0][_0x302a68(0xbf)]=!0x1,this['context'][_0x302a68(0x9b)](this['sourceVideo'],0x0,0x0)):this[_0x302a68(0x24b)][_0x302a68(0x2f2)](0x0,0x0,this[_0x302a68(0x23a)][_0x302a68(0x587)],this[_0x302a68(0x23a)][_0x302a68(0x5c8)]);},0x3e8/_0x233d6f);}[_0x23d54f(0xb7)](){const _0x1bf2ad=_0x23d54f;clearInterval(this[_0x1bf2ad(0x2d7)]),this[_0x1bf2ad(0x179)][_0x1bf2ad(0x58d)](),this[_0x1bf2ad(0x23a)][_0x1bf2ad(0x58d)](),this[_0x1bf2ad(0x4c8)]?.[_0x1bf2ad(0x536)](),this[_0x1bf2ad(0x1e6)][_0x1bf2ad(0x536)](),this[_0x1bf2ad(0x1de)][_0x1bf2ad(0x638)]()[_0x1bf2ad(0x55e)](_0x593b11=>{const _0x1087c7=_0x1bf2ad;_0x593b11[_0x1087c7(0x609)](),this[_0x1087c7(0x1de)][_0x1087c7(0x99)](_0x593b11);}),super['destroy']();}['addTrack'](_0x5de112){const _0x3f0f5c=_0x23d54f,_0x41ee1b=this[_0x3f0f5c(0x1a8)](_0x5de112['kind']);_0x41ee1b&&this[_0x3f0f5c(0x99)](_0x41ee1b),_0x3f0f5c(0x11b)!==_0x5de112['kind']?(_0x3f0f5c(0x55f)===_0x5de112[_0x3f0f5c(0x363)]&&this[_0x3f0f5c(0x452)](_0x5de112),this[_0x3f0f5c(0x504)](_0x5de112)):this[_0x3f0f5c(0x402)](_0x5de112);}[_0x23d54f(0x99)](_0x270077){const _0x14b9a2=_0x23d54f,_0x540fa2=this[_0x14b9a2(0x267)](_0x270077);return _0x540fa2&&(_0x14b9a2(0x11b)===_0x540fa2['kind']&&(this[_0x14b9a2(0x4c8)]?.[_0x14b9a2(0x536)](),this[_0x14b9a2(0x4c8)]=void 0x0),this[_0x14b9a2(0x568)]['get'](_0x540fa2[_0x14b9a2(0x363)])?.(),this['clientStream'][_0x14b9a2(0x99)](_0x540fa2)),_0x540fa2;}[_0x23d54f(0x256)](_0x3b9f8f){const _0x27a4dc=_0x23d54f;this[_0x27a4dc(0x99)](_0x3b9f8f[_0x27a4dc(0x363)]),this[_0x27a4dc(0x561)](_0x3b9f8f);}[_0x23d54f(0x1a2)](_0x466337){const _0x40a72a=_0x23d54f;this[_0x40a72a(0x291)]=_0x466337;}[_0x23d54f(0x1a8)](_0x2d4316){const _0x32fa3a=_0x23d54f;return this['clientStream'][_0x32fa3a(0x638)]()[_0x32fa3a(0xad)](_0xa75d8b=>_0xa75d8b[_0x32fa3a(0x363)]===_0x2d4316)||null;}['getTrackFromParam'](_0x4c3c20){return'string'==typeof _0x4c3c20?this['getTrack'](_0x4c3c20):_0x4c3c20;}[_0x23d54f(0x402)](_0x5eb211){const _0x40e63c=_0x23d54f;'suspended'===this[_0x40e63c(0x5f3)][_0x40e63c(0x15a)]&&this['audioContext'][_0x40e63c(0x53a)](),this[_0x40e63c(0x34d)][_0x40e63c(0x561)](_0x5eb211),this[_0x40e63c(0x4c8)]=this[_0x40e63c(0x5f3)][_0x40e63c(0x3aa)](this[_0x40e63c(0x34d)]),this[_0x40e63c(0x4c8)][_0x40e63c(0x461)](this['audioDestination']);}[_0x23d54f(0x452)](_0x33d4ad){const _0x17d7f5=_0x23d54f;this[_0x17d7f5(0x34d)][_0x17d7f5(0x561)](_0x33d4ad),this['sourceVideo'][_0x17d7f5(0x498)]();}}class _0x290994 extends _0x7c4441{}class _0x6470b8 extends _0x34d5dc{['unsubscribeHandler']=new Map();[_0x23d54f(0x645)];constructor(_0x13061a,_0x13e9d5){const _0xa3867b=_0x23d54f;if(_0xa3867b(0x4eb)!=typeof _0x13e9d5)throw new _0x4f208b(_0x522ceb[_0xa3867b(0xe2)],_0xa3867b(0x229));super(_0x13061a,_0x13e9d5);}['getContentType'](){const _0x3bd895=_0x23d54f;return _0x49643d[_0x3bd895(0x279)];}[_0x23d54f(0x127)](_0x1482b6,_0x4f5bca){const _0x34c9c6=_0x23d54f;_0x2bad5b[_0x34c9c6(0x4dc)](_0x4edace['PubSub'],_0x34c9c6(0x309),this['ownerId'],_0x1482b6,_0x4f5bca),_0x2bad5b[_0x34c9c6(0x2c1)](_0x713fdd[_0x34c9c6(0x279)],{'type':_0x34c9c6(0x127),'label':this[_0x34c9c6(0x24c)],'userId':this[_0x34c9c6(0x577)],'remoteIds':_0x4f5bca??[],'contentType':_0x1482b6 instanceof File?_0x49643d['File']:_0x49643d[_0x34c9c6(0x604)],'size':_0x1482b6 instanceof File?_0x1482b6[_0x34c9c6(0x4ba)]:JSON['stringify'](_0x1482b6)[_0x34c9c6(0xa9)]}),this['sendStats'](),this[_0x34c9c6(0x492)](_0x1482b6,_0x4f5bca);}[_0x23d54f(0x308)](_0x14f7f4,_0x24c2df){const _0x2c3de1=_0x23d54f;if(this[_0x2c3de1(0x444)][_0x2c3de1(0x201)](_0x14f7f4))throw new _0x4f208b(_0x522ceb[_0x2c3de1(0x378)],_0x2c3de1(0x381));this[_0x2c3de1(0x444)]['set'](_0x14f7f4,this[_0x2c3de1(0x596)]((_0xaa7cfc,_0x321aca)=>{const _0xaf9ee1=_0x2c3de1;_0xaf9ee1(0x530)===_0x14f7f4&&_0x321aca instanceof File||!(_0xaf9ee1(0x5d5)!==_0x14f7f4||_0x321aca instanceof File)||(_0x2bad5b['log'](_0x4edace[_0xaf9ee1(0x279)],_0xaf9ee1(0x619),this[_0xaf9ee1(0x577)],_0xaa7cfc,_0x321aca),_0x2bad5b[_0xaf9ee1(0x2c1)](_0x713fdd[_0xaf9ee1(0x279)],{'type':_0xaf9ee1(0x308),'label':this[_0xaf9ee1(0x24c)],'userId':this[_0xaf9ee1(0x577)],'remoteId':_0xaa7cfc,'contentType':_0x14f7f4,'size':_0x321aca instanceof File?_0x321aca[_0xaf9ee1(0x4ba)]:JSON[_0xaf9ee1(0x235)](_0x321aca)[_0xaf9ee1(0xa9)]}),this[_0xaf9ee1(0x333)](),_0x24c2df(_0xaa7cfc,_0x321aca));}));}[_0x23d54f(0x3e0)](_0x1dbfe8){const _0x4d6af4=_0x23d54f;this[_0x4d6af4(0x444)][_0x4d6af4(0x1dc)](_0x1dbfe8)?.(),this['unsubscribeHandler'][_0x4d6af4(0x114)](_0x1dbfe8);}[_0x23d54f(0xb7)](){const _0x31d846=_0x23d54f;this['unsubscribeHandler'][_0x31d846(0x55e)](_0x152231=>_0x152231()),clearTimeout(this[_0x31d846(0x645)]),delete this[_0x31d846(0x645)],super[_0x31d846(0xb7)]();}[_0x23d54f(0x168)](){const _0x27f6b4=_0x23d54f;this[_0x27f6b4(0x1c8)]?.['publish']({'sourceId':_0x50c8f3,'messageType':_0x528d91['Content'],'content':{'type':_0x2e4279['ClosePubSubTopic'],'label':this[_0x27f6b4(0x24c)]}});}['sendStats'](){const _0x43fb95=_0x23d54f;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x43fb95(0x645)]=setTimeout(()=>{const _0x4735db=_0x43fb95;this[_0x4735db(0x1c8)]?.['publish']({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x4735db(0xf2)],'content':{'type':_0x2e4279[_0x4735db(0x47d)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x4735db(0x276)],'messagesReceived':this[_0x4735db(0x579)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x4735db(0x33b)],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0xdb374b extends _0x50a446{[_0x23d54f(0x122)];[_0x23d54f(0x1ff)];['availableTrackKinds'];[_0x23d54f(0x444)];['resizeHandler'];[_0x23d54f(0x14f)];[_0x23d54f(0x4f1)]=new Map();['renderElement'];[_0x23d54f(0x4b1)]=new Set();[_0x23d54f(0x227)];['providerListener']=_0x2a58e2();[_0x23d54f(0x568)]=new Map();constructor(_0x297b84,_0x3ceb95,_0x159125,_0x56b2db,_0x23aa13){const _0xf2395=_0x23d54f;super(_0x3ceb95,_0x159125,new MediaStream()),this['localId']=_0x297b84,this['internalId']=_0x56b2db,this[_0xf2395(0x19b)]=_0x23aa13,this[_0xf2395(0x1de)][_0xf2395(0x638)]()[_0xf2395(0x55e)](_0xe3f56d=>this[_0xf2395(0x504)](_0xe3f56d));}[_0x23d54f(0xb7)](){const _0x51d7a1=_0x23d54f;this['outgoingStreams'][_0x51d7a1(0x4ba)]>0x0&&(this['outgoingStreams'][_0x51d7a1(0x55e)](_0x21ac4f=>{const _0x31630f=_0x51d7a1;_0x21ac4f[_0x31630f(0x3cc)](),_0x21ac4f['destroy']();}),this[_0x51d7a1(0x4f1)]['clear']()),this[_0x51d7a1(0x568)][_0x51d7a1(0x55e)](_0x290d3b=>_0x290d3b()),this[_0x51d7a1(0x1de)][_0x51d7a1(0x638)]()[_0x51d7a1(0x55e)](_0x3b682c=>this[_0x51d7a1(0x1de)][_0x51d7a1(0x99)](_0x3b682c)),this[_0x51d7a1(0x14f)]&&(clearTimeout(this[_0x51d7a1(0x14f)]),delete this['updateDebounce']),this[_0x51d7a1(0x1ec)]?.(),super[_0x51d7a1(0xb7)]();}[_0x23d54f(0x4d8)](_0x1fa323){const _0x4b614d=_0x23d54f;this[_0x4b614d(0x444)]=_0x1fa323[_0x4b614d(0x308)](({content:_0x143bd8})=>{const _0x3c83c9=_0x4b614d;switch(_0x143bd8['action']){case _0x31f9ac[_0x3c83c9(0x334)]:if(_0x2bad5b[_0x3c83c9(0x4dc)](_0x4edace[_0x3c83c9(0x24f)],_0x3c83c9(0x382),this[_0x3c83c9(0x122)],this[_0x3c83c9(0x227)]),_0x143bd8[_0x3c83c9(0x126)]['id']!==this[_0x3c83c9(0x1ff)]||_0x143bd8[_0x3c83c9(0x227)]!==this[_0x3c83c9(0x227)])return;this[_0x3c83c9(0x99)](_0x143bd8[_0x3c83c9(0x396)][_0x3c83c9(0x363)]),this[_0x3c83c9(0x1de)]['addTrack'](_0x143bd8[_0x3c83c9(0x396)]);for(const [_0x52d2f3,_0x7a0644]of this[_0x3c83c9(0x4f1)]['entries']())try{_0x7a0644[_0x3c83c9(0x561)](_0x143bd8[_0x3c83c9(0x396)]);}catch(_0x521de5){_0x7a0644[_0x3c83c9(0xb7)](),this[_0x3c83c9(0x4f1)][_0x3c83c9(0x114)](_0x52d2f3);}this[_0x3c83c9(0x504)](_0x143bd8[_0x3c83c9(0x396)]),this[_0x3c83c9(0x3cb)](),_0x3c83c9(0x55f)===_0x143bd8['track'][_0x3c83c9(0x363)]&&this[_0x3c83c9(0xfd)]&&(this[_0x3c83c9(0x1de)][_0x3c83c9(0xa8)]?setTimeout(()=>this[_0x3c83c9(0xfd)]?.[_0x3c83c9(0x505)](),0x0):setTimeout(()=>this[_0x3c83c9(0xfd)]?.[_0x3c83c9(0x498)](),0x0),this['setupResizeHandler']());break;case _0x31f9ac[_0x3c83c9(0x608)]:if(_0x143bd8[_0x3c83c9(0x126)]['id']!==this[_0x3c83c9(0x1ff)]||_0x143bd8[_0x3c83c9(0x227)]!==this[_0x3c83c9(0x227)])return;this[_0x3c83c9(0x99)](_0x143bd8[_0x3c83c9(0x396)][_0x3c83c9(0x363)]),this[_0x3c83c9(0xfd)]&&'video'===_0x143bd8[_0x3c83c9(0x396)]['kind']&&(this[_0x3c83c9(0x1ec)]?.(),this[_0x3c83c9(0x1de)]['getTracks']()['length']>0x0?this['renderElement'][_0x3c83c9(0x498)]():this[_0x3c83c9(0xfd)][_0x3c83c9(0x442)]=null);}});}['unregisterSubscriber'](){const _0x365630=_0x23d54f;this['unsubscribeHandler']?.(),this[_0x365630(0x568)][_0x365630(0x55e)](_0x2e61ad=>_0x2e61ad()),delete this['unsubscribeHandler'];}[_0x23d54f(0x5f9)](){const _0x5a6250=_0x23d54f;return this[_0x5a6250(0x1ff)];}[_0x23d54f(0xac)](_0xe73a0d){const _0x2c2b88=_0x23d54f;this[_0x2c2b88(0x1ff)]=_0xe73a0d;}[_0x23d54f(0x1aa)](){const _0x358150=_0x23d54f;return this[_0x358150(0x19b)];}['hasTracks'](_0x501271){const _0x10f376=_0x23d54f;for(const _0x4b65c5 of _0x501271||this['availableTrackKinds'])if(!this[_0x10f376(0x1de)][_0x10f376(0x638)]()[_0x10f376(0xad)](_0x13ea1d=>_0x13ea1d[_0x10f376(0x363)]===_0x4b65c5))return!0x1;return!0x0;}[_0x23d54f(0x62e)](){const _0x4d2492=_0x23d54f;let _0x426817={'width':0x0,'height':0x0};const _0x378e8a=this[_0x4d2492(0x1de)][_0x4d2492(0x31a)]();if(_0x378e8a[_0x4d2492(0xa9)]>0x0){const _0x4c9286=_0x378e8a[0x0][_0x4d2492(0x4da)]();_0x4c9286[_0x4d2492(0x587)]&&_0x4c9286[_0x4d2492(0x5c8)]&&(_0x426817={'width':_0x4c9286['width'],'height':_0x4c9286[_0x4d2492(0x5c8)]});}return _0x426817;}[_0x23d54f(0x27a)](_0x271b70){const _0x13aabb=_0x23d54f;for(const _0xbb0377 of _0x271b70)if(!this[_0x13aabb(0x4b1)][_0x13aabb(0x201)](_0xbb0377))return!0x1;return!0x0;}['getShareableStream'](_0x311919,_0x1d512f){const _0x1f1d7a=_0x23d54f;if(!this[_0x1f1d7a(0x4f1)][_0x1f1d7a(0x201)](_0x311919)){const _0x2929ca=new _0x357b9a(this[_0x1f1d7a(0x577)],this[_0x1f1d7a(0x24c)],this['mediaStream'],_0x311919,_0x1d512f),_0x5f4ecc=_0x2929ca['onUnregisterPublisher'](()=>{const _0x2b05d6=_0x1f1d7a;_0x5f4ecc(),this[_0x2b05d6(0x4f1)][_0x2b05d6(0x1dc)](_0x311919)?.[_0x2b05d6(0xb7)](),this[_0x2b05d6(0x4f1)]['delete'](_0x311919);});this[_0x1f1d7a(0x4f1)][_0x1f1d7a(0x151)](_0x311919,_0x2929ca),_0x2929ca[_0x1f1d7a(0x5f5)](this['systemTopic']);}return this['outgoingStreams']['get'](_0x311919);}[_0x23d54f(0x1c5)](){const _0x518c87=_0x23d54f;return this[_0x518c87(0x1de)]['id'];}[_0x23d54f(0x432)](){return _0x1924e7['Default'];}[_0x23d54f(0x544)](){const _0x492071=_0x23d54f;return Array['from'](this[_0x492071(0x4b1)]);}[_0x23d54f(0x308)](_0x5025e7){const _0x3737fc=_0x23d54f;let _0x3a57a2=[];_0x5025e7?(_0x3737fc(0x546)!=typeof _0x5025e7['video']||_0x5025e7[_0x3737fc(0x55f)]['renderElement']instanceof HTMLVideoElement||!this['renderElement']||(_0x5025e7['video']={'renderElement':this[_0x3737fc(0xfd)]}),_0x297c23(_0x5025e7),_0x5025e7[_0x3737fc(0x55f)]&&(_0x3a57a2[_0x3737fc(0x140)](_0x3737fc(0x55f)),_0x3737fc(0x488)!=typeof _0x5025e7[_0x3737fc(0x55f)]&&_0x5025e7[_0x3737fc(0x55f)][_0x3737fc(0xfd)]&&(this['renderElement']=_0x5025e7[_0x3737fc(0x55f)][_0x3737fc(0xfd)],_0x5025e7[_0x3737fc(0x55f)][_0x3737fc(0x123)]||(_0x5025e7['video'][_0x3737fc(0x123)]={'width':this['renderElement'][_0x3737fc(0x53e)],'height':this[_0x3737fc(0xfd)][_0x3737fc(0x32e)]}),delete _0x5025e7[_0x3737fc(0x55f)][_0x3737fc(0xfd)])),_0x5025e7[_0x3737fc(0x11b)]&&_0x3a57a2[_0x3737fc(0x140)](_0x3737fc(0x11b))):_0x3a57a2=this[_0x3737fc(0x1aa)](),this[_0x3737fc(0x27a)](_0x3a57a2)||(_0x3a57a2['forEach'](_0x2c3a75=>this[_0x3737fc(0x4b1)][_0x3737fc(0xf5)](_0x2c3a75)),this[_0x3737fc(0x1c8)][_0x3737fc(0x127)]({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x3737fc(0xf2)],'content':{'type':_0x2e4279[_0x3737fc(0x328)],'label':this[_0x3737fc(0x24c)],'ownerId':this[_0x3737fc(0x577)],'trackKinds':_0x3a57a2,'params':_0x5025e7}}),_0x2bad5b['logServiceEvent'](_0x713fdd[_0x3737fc(0xba)],{'type':_0x3737fc(0x308),'label':this[_0x3737fc(0x24c)],'userId':this[_0x3737fc(0x122)],'sourceId':this[_0x3737fc(0x577)],'streamId':this[_0x3737fc(0x1ff)],'trackKinds':_0x3a57a2}));}[_0x23d54f(0x273)](_0x102588){const _0x29a6cc=_0x23d54f;_0x297c23(_0x102588),this[_0x29a6cc(0x14f)]&&clearTimeout(this[_0x29a6cc(0x14f)]),this[_0x29a6cc(0x14f)]=setTimeout(()=>{const _0x5466e9=_0x29a6cc;delete this[_0x5466e9(0x14f)],this['systemTopic']['publish']({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x5466e9(0xf2)],'content':{'type':_0x2e4279[_0x5466e9(0x359)],'label':this['label'],'ownerId':this['ownerId'],'params':_0x102588}});},0x1f4);}[_0x23d54f(0x3e0)](_0xafbdeb){const _0x3c56c1=_0x23d54f;_0xafbdeb||(_0xafbdeb=this['getAvailableTrackKinds']()),(_0xafbdeb=Array[_0x3c56c1(0x104)](_0xafbdeb)?_0xafbdeb:[_0xafbdeb])[_0x3c56c1(0x55e)](_0x5d64e4=>this['subscribedTracks']['delete'](_0x5d64e4)),this[_0x3c56c1(0x1c8)]['publish']({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x3c56c1(0xf2)],'content':{'type':_0x2e4279[_0x3c56c1(0x1dd)],'label':this[_0x3c56c1(0x24c)],'ownerId':this[_0x3c56c1(0x577)],'trackKinds':_0xafbdeb,'remainingTracks':this[_0x3c56c1(0x4b1)]['size']}});}[_0x23d54f(0x45c)](_0x377264){const _0x18d0af=_0x23d54f;return this[_0x18d0af(0x4ad)][_0x18d0af(0x308)](_0x377264);}[_0x23d54f(0x247)](){const _0x24934a=_0x23d54f;return this[_0x24934a(0x227)];}[_0x23d54f(0x585)](_0x25f68a){const _0x2805e2=_0x23d54f;this[_0x2805e2(0x227)]!==_0x25f68a&&(this['providerId']=_0x25f68a,this[_0x2805e2(0x4ad)][_0x2805e2(0x127)](_0x25f68a));}[_0x23d54f(0x5ec)](_0x196a0b){const _0x22d148=_0x23d54f;this[_0x22d148(0x568)][_0x22d148(0x1dc)](_0x196a0b)?.(),this[_0x22d148(0x568)][_0x22d148(0x114)](_0x196a0b);}[_0x23d54f(0x99)](_0x3b1fb0){const _0x179977=_0x23d54f,_0x1f638f=this['mediaStream'][_0x179977(0x638)]()[_0x179977(0xad)](_0x1a27a0=>_0x1a27a0[_0x179977(0x363)]===_0x3b1fb0);_0x1f638f&&(this['mediaStream'][_0x179977(0x99)](_0x1f638f),this['outgoingStreams']['forEach'](_0x26316a=>_0x26316a['removeTrack'](_0x3b1fb0)),this[_0x179977(0x568)][_0x179977(0x1dc)](_0x3b1fb0)?.());}[_0x23d54f(0x3cb)](){const _0x3a49ae=_0x23d54f;this['renderElement']&&(this[_0x3a49ae(0xfd)][_0x3a49ae(0x442)]&&this[_0x3a49ae(0xfd)][_0x3a49ae(0x442)]===this[_0x3a49ae(0x1de)]||(this[_0x3a49ae(0xfd)][_0x3a49ae(0x442)]=this[_0x3a49ae(0x1de)]));}[_0x23d54f(0x1a3)](){const _0x3e86c1=_0x23d54f;if(this['renderElement']&&!this[_0x3e86c1(0x1ec)]&&_0x3e86c1(0x4b0)!=typeof ResizeObserver){let _0x24ede3=this[_0x3e86c1(0xfd)][_0x3e86c1(0x53e)],_0x4c7bbe=this['renderElement'][_0x3e86c1(0x32e)];const _0x151edc=new ResizeObserver(_0x227d31=>{const _0x575f08=_0x3e86c1,{width:_0x403cbd,height:_0x5d77eb}=_0x227d31[0x0][_0x575f08(0x4d2)];_0x24ede3===_0x403cbd&&_0x4c7bbe===_0x5d77eb||(_0x24ede3=Math['floor'](_0x403cbd),_0x4c7bbe=Math['floor'](_0x5d77eb),this['update']({'video':{'maxResolution':{'width':_0x403cbd,'height':_0x5d77eb}}}));});_0x151edc[_0x3e86c1(0x3a8)](this['renderElement']),this[_0x3e86c1(0x1ec)]=()=>_0x151edc[_0x3e86c1(0x536)]();}}['handleRemoteTrackFailure'](_0x508dbd){const _0x3f0725=_0x23d54f,_0x501ef5=[];for(const _0x19197c of this[_0x3f0725(0x4b1)])this[_0x3f0725(0x99)](_0x19197c),_0x501ef5[_0x3f0725(0x140)](_0x19197c);this[_0x3f0725(0x227)]&&this[_0x3f0725(0x1c8)][_0x3f0725(0x127)]({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x3f0725(0xf2)],'content':{'type':_0x2e4279['RemoteMediaStreamTrackFail'],'label':this[_0x3f0725(0x24c)],'streamId':this[_0x3f0725(0x1ff)],'ownerId':this[_0x3f0725(0x577)],'providerId':this[_0x3f0725(0x227)],'trackKinds':_0x501ef5}});}[_0x23d54f(0x504)](_0x3b179b){const _0x11ee1a=_0x23d54f,_0x17c99d=()=>this[_0x11ee1a(0x351)](_0x3b179b);_0x3b179b[_0x11ee1a(0x365)](_0x11ee1a(0x5e1),_0x17c99d),_0x3b179b['addEventListener']('mute',_0x17c99d),this[_0x11ee1a(0x568)]['set'](_0x3b179b[_0x11ee1a(0x363)],()=>{const _0x1840f4=_0x11ee1a;_0x3b179b[_0x1840f4(0x33c)](_0x1840f4(0x5e1),_0x17c99d),_0x3b179b[_0x1840f4(0x33c)]('mute',_0x17c99d),this[_0x1840f4(0x568)][_0x1840f4(0x114)](_0x3b179b[_0x1840f4(0x363)]);});}}class _0x12b3d3{['vendorId'];[_0x23d54f(0x486)];[_0x23d54f(0x213)];constructor(_0xd42b2d,_0x1b25cc){const _0xc88433=_0x23d54f;this[_0xc88433(0x455)]=_0xd42b2d,this['clusterId']=_0x1b25cc,this[_0xc88433(0x213)]=_0xc88433(0x433)+this[_0xc88433(0x455)]+_0xc88433(0x433)+this[_0xc88433(0x486)];}async[_0x23d54f(0x2ff)](_0x120654,_0x130fde,_0x51126b){const _0x4209b5=_0x23d54f;if(!0x1===(await(0x0,_0x4df70b[_0x4209b5(0x1d6)])((0x0,_0x4df70b[_0x4209b5(0x2ee)])(_0x30a96f['getDatabase'](),_0x4209b5(0x274)+this[_0x4209b5(0x213)]+_0x4209b5(0x1cf)+_0x130fde+'/transactions/lastTransaction'),_0x54c2a0=>{const _0x32fe97=_0x4209b5;if(!_0x54c2a0)return _0x120654['id'];if(_0x54c2a0!==_0x51126b)throw new _0x4ad60f(_0x4ad60f[_0x32fe97(0x34c)][_0x32fe97(0x5e7)]);return _0x120654['id'];}))[_0x4209b5(0x49c)])throw new _0x4ad60f(_0x4ad60f[_0x4209b5(0x34c)][_0x4209b5(0x508)]);_0x120654[_0x4209b5(0xa6)]||delete _0x120654[_0x4209b5(0xa6)],await(0x0,_0x4df70b['set'])((0x0,_0x4df70b['ref'])(_0x30a96f[_0x4209b5(0x164)](),'clusters/'+this['clusterKey']+_0x4209b5(0x1cf)+_0x130fde+_0x4209b5(0x475)+_0x120654['id']),_0x120654);}async[_0x23d54f(0x1e1)](_0x1177a5,_0x3240d4){const _0x3a9e42=_0x23d54f;let _0x38bea9=[];const _0x257bcf=await(0x0,_0x4df70b[_0x3a9e42(0x1dc)])((0x0,_0x4df70b['ref'])(_0x30a96f[_0x3a9e42(0x164)](),_0x3a9e42(0x274)+this[_0x3a9e42(0x213)]+'/objectstores/'+_0x1177a5+_0x3a9e42(0x469)));if(!_0x257bcf[_0x3a9e42(0x545)]())return _0x38bea9;const _0x3de189=_0x257bcf['val']();_0x38bea9=Object[_0x3a9e42(0x54b)](_0x3de189)[_0x3a9e42(0x3a0)](_0x1273a0=>'string'!=typeof _0x1273a0);const _0x328ee6=[];let _0x4e056e=_0x38bea9[_0x3a9e42(0xad)](_0xdabcba=>_0xdabcba['parentId']===_0x3240d4);for(;_0x4e056e;)_0x328ee6[_0x3a9e42(0x140)](_0x4e056e),_0x4e056e=_0x38bea9[_0x3a9e42(0xad)](_0x3c1043=>_0x3c1043[_0x3a9e42(0xa6)]===_0x4e056e['id']);return _0x328ee6;}}class _0x2787c4{['configs'];[_0x23d54f(0x112)];[_0x23d54f(0x5f3)];[_0x23d54f(0x1d8)]=new Map();[_0x23d54f(0x145)]=new Map();[_0x23d54f(0x415)]=new Map();['objectStores']=new Map();[_0x23d54f(0x1a1)]=new Map();[_0x23d54f(0x20a)];constructor(_0x28fd28,_0x29fd51,_0x1fd998){const _0x56a90a=_0x23d54f;this[_0x56a90a(0x100)]=_0x28fd28,this[_0x56a90a(0x112)]=_0x29fd51,this[_0x56a90a(0x5f3)]=_0x1fd998,this['transactionService']=new _0x12b3d3(this['configs'][_0x56a90a(0x455)],this[_0x56a90a(0x100)][_0x56a90a(0x486)]);}[_0x23d54f(0x168)](_0x50dc69=!0x1){const _0x330cf5=_0x23d54f;this['remoteMediaStreams'][_0x330cf5(0x55e)]((_0x189a53,_0x33e6a4)=>{_0x189a53['forEach']((_0x4e81c1,_0x1eb874)=>{const _0x433c0e=a0_0x3776;this[_0x433c0e(0x176)](_0x33e6a4,_0x1eb874);});}),_0x50dc69||(this[_0x330cf5(0x1d8)][_0x330cf5(0x55e)]((_0x585536,_0x4b1935)=>{const _0x35c78d=_0x330cf5;this[_0x35c78d(0x195)](_0x4b1935);}),this[_0x330cf5(0x415)]['forEach']((_0x289d20,_0x57a532)=>{this['removePubSubTopic'](_0x57a532);}),this[_0x330cf5(0x46f)][_0x330cf5(0x55e)]((_0x1ce95a,_0x6075e7)=>{const _0x123d99=_0x330cf5;this[_0x123d99(0x58b)](_0x6075e7);}),this['keyValueDatabases'][_0x330cf5(0x55e)]((_0x30a872,_0x8e3c04)=>{const _0xb4c775=_0x330cf5;this[_0xb4c775(0x17f)](_0x8e3c04);}));}[_0x23d54f(0x386)](_0x34c4c0,_0x564b06){const _0x64626=_0x23d54f;if(this[_0x64626(0x46f)][_0x64626(0x201)](_0x34c4c0))throw new _0x4f208b(_0x522ceb[_0x64626(0x283)],_0x64626(0x2df));const _0x254e33=new _0x591306(this[_0x64626(0x100)][_0x64626(0x122)],_0x34c4c0,this[_0x64626(0x100)][_0x64626(0x486)],this[_0x64626(0x100)][_0x64626(0x455)],this['transactionService'],_0x564b06);return this[_0x64626(0x46f)][_0x64626(0x151)](_0x34c4c0,_0x254e33),this[_0x64626(0x100)][_0x64626(0x52a)]['registerSystemSource'](_0x254e33),_0x254e33;}async[_0x23d54f(0x3cd)](_0x46a656,_0x5d29e0,_0x58a8ea){const _0x1ac6a3=_0x23d54f;if(this[_0x1ac6a3(0x1a1)][_0x1ac6a3(0x201)](_0x46a656))throw new _0x4f208b(_0x522ceb[_0x1ac6a3(0x2be)],_0x1ac6a3(0x558));try{const _0x535c32=new _0x5e6aeb(this['configs'][_0x1ac6a3(0x122)],_0x46a656,this[_0x1ac6a3(0x100)][_0x1ac6a3(0x486)],this[_0x1ac6a3(0x100)][_0x1ac6a3(0x455)],_0x5d29e0,_0x58a8ea);return this['keyValueDatabases'][_0x1ac6a3(0x151)](_0x46a656,_0x535c32),this[_0x1ac6a3(0x100)][_0x1ac6a3(0x52a)][_0x1ac6a3(0x43c)](_0x535c32),_0x535c32;}catch(_0x6718a5){if(_0x6718a5 instanceof _0x4f208b)throw _0x6718a5;throw console[_0x1ac6a3(0x49d)](_0x1ac6a3(0x411),_0x6718a5),new _0x4ad60f(_0x4ad60f[_0x1ac6a3(0x34c)][_0x1ac6a3(0x26d)],{'label':_0x46a656,'clusterId':this[_0x1ac6a3(0x100)][_0x1ac6a3(0x486)],'vendorId':this[_0x1ac6a3(0x100)]['vendorId']});}}['createLocalDynamicMediaStream'](_0x2c057d,_0x583a73){const _0x4f99b8=_0x23d54f;if(this[_0x4f99b8(0x1d8)][_0x4f99b8(0x201)](_0x2c057d))throw new _0x4f208b(_0x522ceb[_0x4f99b8(0x206)],_0x4f99b8(0x3a4));if(!this['audioContext'])throw new _0x4f208b(_0x522ceb[_0x4f99b8(0x18d)],_0x4f99b8(0x340));const _0x10c24a=new _0x382622(this['configs']['localId'],_0x2c057d,_0x583a73,this[_0x4f99b8(0x112)],this['audioContext']);return this['localMediaStreams'][_0x4f99b8(0x151)](_0x2c057d,_0x10c24a),this[_0x4f99b8(0x100)][_0x4f99b8(0x52a)][_0x4f99b8(0x43c)](_0x10c24a),_0x10c24a[_0x4f99b8(0x127)](),_0x10c24a;}[_0x23d54f(0x3d9)](_0x14d679,_0x51a454){const _0x271f07=_0x23d54f;if(this[_0x271f07(0x1d8)][_0x271f07(0x201)](_0x14d679))throw new _0x4f208b(_0x522ceb['LocalMediaStreamAlreadyExists'],_0x271f07(0xf9));const _0x39c97b=new _0x290994(this['configs'][_0x271f07(0x122)],_0x14d679,_0x51a454);return this[_0x271f07(0x1d8)][_0x271f07(0x151)](_0x14d679,_0x39c97b),this[_0x271f07(0x100)][_0x271f07(0x52a)][_0x271f07(0x43c)](_0x39c97b),_0x39c97b['publish'](),_0x39c97b;}[_0x23d54f(0x120)](_0x3758f0){const _0x45dd6c=_0x23d54f;if(this[_0x45dd6c(0x415)]['has'](_0x3758f0))throw new _0x4f208b(_0x522ceb[_0x45dd6c(0x3e7)],'PubSub\x20already\x20exists');const _0x512f81=new _0x6470b8(this[_0x45dd6c(0x100)][_0x45dd6c(0x122)],_0x3758f0);return this[_0x45dd6c(0x415)][_0x45dd6c(0x151)](_0x3758f0,_0x512f81),this['configs'][_0x45dd6c(0x52a)][_0x45dd6c(0x43c)](_0x512f81),_0x512f81;}[_0x23d54f(0x3b0)](_0x342a32,_0x9daf83,_0xce8dcd,_0x1226c7){const _0x2ffccb=_0x23d54f;this[_0x2ffccb(0x145)][_0x2ffccb(0x201)](_0x342a32)||this[_0x2ffccb(0x145)]['set'](_0x342a32,new Map());const _0x4182e3=this['remoteMediaStreams'][_0x2ffccb(0x1dc)](_0x342a32);if(_0x4182e3[_0x2ffccb(0x201)](_0x9daf83))throw new _0x4f208b(_0x522ceb[_0x2ffccb(0x4a9)],_0x2ffccb(0x225));const _0x4b2385=new _0xdb374b(this[_0x2ffccb(0x100)]['localId'],_0x342a32,_0x9daf83,_0xce8dcd,_0x1226c7);return _0x4182e3['set'](_0x9daf83,_0x4b2385),this[_0x2ffccb(0x100)][_0x2ffccb(0x52a)][_0x2ffccb(0x43c)](_0x4b2385),_0x4b2385;}[_0x23d54f(0x2fc)](_0x48d1c2){const _0x37028b=_0x23d54f,_0x12c7d2=Array[_0x37028b(0x53f)](this[_0x37028b(0x46f)][_0x37028b(0x54b)]());return _0x48d1c2?_0x12c7d2[_0x37028b(0x3a0)](_0x48d1c2):_0x12c7d2;}[_0x23d54f(0x36f)](_0x4b53ff){const _0x2865f3=_0x23d54f,_0x52a396=Array[_0x2865f3(0x53f)](this[_0x2865f3(0x1a1)][_0x2865f3(0x54b)]());return _0x4b53ff?_0x52a396[_0x2865f3(0x3a0)](_0x4b53ff):_0x52a396;}[_0x23d54f(0x21f)](_0x97b180){const _0x16956c=_0x23d54f,_0x41d022=Array[_0x16956c(0x53f)](this[_0x16956c(0x1d8)][_0x16956c(0x54b)]());return _0x97b180?_0x41d022['filter'](_0x97b180):_0x41d022;}[_0x23d54f(0x3c2)](_0x303a15){const _0x36bdb4=_0x23d54f,_0x50943f=Array[_0x36bdb4(0x53f)](this['pubSubTopics'][_0x36bdb4(0x54b)]());return _0x303a15?_0x50943f[_0x36bdb4(0x3a0)](_0x303a15):_0x50943f;}[_0x23d54f(0x5b0)](_0x2ded8f){const _0x814396=_0x23d54f,_0x5bba87=Array[_0x814396(0x53f)](this['remoteMediaStreams'][_0x814396(0x54b)]())[_0x814396(0x172)]((_0x319061,_0x4bca52)=>[..._0x319061,...Array[_0x814396(0x53f)](_0x4bca52[_0x814396(0x54b)]())],[]);return _0x2ded8f?_0x5bba87['filter'](_0x2ded8f):_0x5bba87;}[_0x23d54f(0x2d5)](_0x430433){const _0x505cef=_0x23d54f;switch(_0x430433[_0x505cef(0x36e)]['type']){case _0x2e4279[_0x505cef(0x5dd)]:this[_0x505cef(0x171)](_0x430433['content']);break;case _0x2e4279['UnpublishMediaStream']:this[_0x505cef(0x1eb)](_0x430433['content']);break;case _0x2e4279[_0x505cef(0x2b3)]:this[_0x505cef(0x631)](_0x430433[_0x505cef(0x36e)]);break;case _0x2e4279[_0x505cef(0x3ac)]:this[_0x505cef(0x224)](_0x430433[_0x505cef(0x36e)]);break;case _0x2e4279[_0x505cef(0x1f0)]:this['handleCloseObjectStore'](_0x430433[_0x505cef(0x36e)]);break;case _0x2e4279[_0x505cef(0x400)]:this[_0x505cef(0x502)](_0x430433['content']);break;case _0x2e4279[_0x505cef(0x1dd)]:this[_0x505cef(0x3c0)](_0x430433[_0x505cef(0x36e)]);break;case _0x2e4279[_0x505cef(0x54f)]:this[_0x505cef(0x1a1)]['get'](_0x430433[_0x505cef(0x36e)][_0x505cef(0x24c)])?.[_0x505cef(0xf1)](_0x430433[_0x505cef(0x49a)]);break;case _0x2e4279[_0x505cef(0x5cf)]:this[_0x505cef(0x1a1)][_0x505cef(0x1dc)](_0x430433[_0x505cef(0x36e)][_0x505cef(0x24c)])?.[_0x505cef(0x553)](_0x430433[_0x505cef(0x49a)],_0x430433[_0x505cef(0x36e)][_0x505cef(0x3d7)]);break;case _0x2e4279['RequestTransactionsValue']:this[_0x505cef(0x1a1)]['get'](_0x430433[_0x505cef(0x36e)]['label'])?.[_0x505cef(0x1f5)](_0x430433[_0x505cef(0x49a)],_0x430433[_0x505cef(0x36e)][_0x505cef(0x2f9)]);break;case _0x2e4279['LocalMediaStreamTrackFail']:this[_0x505cef(0x100)][_0x505cef(0x52a)][_0x505cef(0x11d)](_0x505cef(0x4d9),{'label':_0x430433[_0x505cef(0x36e)]['label'],'trackKinds':_0x430433[_0x505cef(0x36e)][_0x505cef(0x44b)]});}}[_0x23d54f(0x44d)]({content:_0x492389}){const _0x42f79b=_0x23d54f;switch(_0x492389['type']){case _0x27f572[_0x42f79b(0x4c5)]:this[_0x42f79b(0x5ea)](_0x492389),this[_0x42f79b(0x231)](_0x492389);break;case _0x27f572[_0x42f79b(0x42f)]:this[_0x42f79b(0x26a)](_0x492389),this[_0x42f79b(0x242)](_0x492389);}}['handleSubscriptionSystemEvents'](_0x42a179){const _0x592b27=_0x23d54f;switch(_0x42a179[_0x592b27(0x36e)][_0x592b27(0x30e)]){case _0x2b8c9a[_0x592b27(0x328)]:this[_0x592b27(0x311)](_0x42a179[_0x592b27(0x49a)],_0x42a179[_0x592b27(0x36e)]);break;case _0x2b8c9a[_0x592b27(0x359)]:this[_0x592b27(0x12f)](_0x42a179['sourceId'],_0x42a179[_0x592b27(0x36e)]);break;case _0x2b8c9a[_0x592b27(0x1dd)]:this['handleUnsubscribeMediaStream'](_0x42a179[_0x592b27(0x49a)],_0x42a179[_0x592b27(0x36e)]);}}['handleContentUnsubscribeMediaStream'](_0x580197){const _0x3d3155=_0x23d54f;if(0x0===_0x580197['remainingTracks'])this['remoteMediaStreams'][_0x3d3155(0x1dc)](_0x580197['ownerId'])?.[_0x3d3155(0x1dc)](_0x580197[_0x3d3155(0x24c)])?.['destroy']();else{const _0x36e568=this[_0x3d3155(0x145)][_0x3d3155(0x1dc)](_0x580197[_0x3d3155(0x577)])?.[_0x3d3155(0x1dc)](_0x580197['label']);if(!_0x36e568)return;_0x580197[_0x3d3155(0x44b)][_0x3d3155(0x55e)](_0x4e1d55=>_0x36e568['unsubscribeTrackEndedListener'](_0x4e1d55));}}[_0x23d54f(0x171)](_0x2b49ba){const _0x43072d=_0x23d54f,{label:_0x26e479,ownerId:_0x2fb38e,stream:{streamId:_0x429b80,availableTrackKinds:_0x130a23}}=_0x2b49ba;if(this['remoteMediaStreams'][_0x43072d(0x1dc)](_0x2fb38e)?.[_0x43072d(0x201)](_0x26e479))return void _0x2bad5b[_0x43072d(0x4dc)](_0x4edace['Content'],_0x43072d(0xf9),_0x429b80);const _0x17b627=this[_0x43072d(0x3b0)](_0x2fb38e,_0x26e479,_0x429b80,_0x130a23);this['configs'][_0x43072d(0x52a)]['notifyCluster'](_0x43072d(0x51f),{'ownerId':_0x2fb38e,'stream':_0x17b627});}[_0x23d54f(0x1eb)]({ownerId:_0x1971d4,label:_0x41bbfd}){const _0x34a584=_0x23d54f;this[_0x34a584(0x176)](_0x1971d4,_0x41bbfd),this[_0x34a584(0x100)]['mediator']['notifyCluster'](_0x34a584(0x59e),{'ownerId':_0x1971d4,'label':_0x41bbfd});}[_0x23d54f(0x631)](_0x622d2e){const _0xc18ac4=_0x23d54f;this[_0xc18ac4(0x195)](_0x622d2e[_0xc18ac4(0x24c)]);}['handleCloseObjectStore'](_0x3960f7){const _0x309cda=_0x23d54f;this['removeObjectStore'](_0x3960f7[_0x309cda(0x24c)]);}[_0x23d54f(0x224)](_0x40e144){const _0x3b6a69=_0x23d54f;this[_0x3b6a69(0x581)](_0x40e144[_0x3b6a69(0x24c)]);}[_0x23d54f(0x502)](_0x2d4aa2){const _0x4513ce=_0x23d54f;this['removeKeyValueDatabase'](_0x2d4aa2[_0x4513ce(0x24c)]);}['handleSubscribeMediaStream'](_0x527128,_0x3cb9cf){const _0x52ea47=_0x23d54f,{ownerId:_0x22cfdc,label:_0x4f3e1e}=_0x3cb9cf;let _0x4b87c2;_0x4b87c2=_0x22cfdc!==this[_0x52ea47(0x100)]['localId']?this['remoteMediaStreams'][_0x52ea47(0x1dc)](_0x22cfdc)[_0x52ea47(0x1dc)](_0x4f3e1e):this[_0x52ea47(0x1d8)][_0x52ea47(0x1dc)](_0x4f3e1e),_0x4b87c2[_0x52ea47(0x3c8)](_0x527128,_0x3cb9cf[_0x52ea47(0x185)])[_0x52ea47(0x308)](_0x3cb9cf,_0x4b87c2['getPriority']());}[_0x23d54f(0x12f)](_0x45ca05,_0x36d62a){const _0x411226=_0x23d54f,{ownerId:_0x1bfe5b,label:_0x498e5b}=_0x36d62a;let _0x3a3550;_0x3a3550=_0x1bfe5b!==this[_0x411226(0x100)][_0x411226(0x122)]?this[_0x411226(0x145)][_0x411226(0x1dc)](_0x1bfe5b)[_0x411226(0x1dc)](_0x498e5b):this[_0x411226(0x1d8)][_0x411226(0x1dc)](_0x498e5b),_0x3a3550[_0x411226(0x3c8)](_0x45ca05,_0x36d62a[_0x411226(0x185)])[_0x411226(0x273)](_0x36d62a);}[_0x23d54f(0x1ef)](_0x57597f,_0x11b363){const _0x5915dc=_0x23d54f,{ownerId:_0x25e7a9,label:_0x5398aa}=_0x11b363;let _0x214dee;_0x214dee=_0x25e7a9!==this[_0x5915dc(0x100)][_0x5915dc(0x122)]?this[_0x5915dc(0x145)][_0x5915dc(0x1dc)](_0x25e7a9)[_0x5915dc(0x1dc)](_0x5398aa):this['localMediaStreams'][_0x5915dc(0x1dc)](_0x5398aa),_0x214dee[_0x5915dc(0x3c8)](_0x57597f)[_0x5915dc(0x3e0)](_0x11b363);}[_0x23d54f(0x5ea)]({id:_0x18ed00}){const _0x2918ee=_0x23d54f;this[_0x2918ee(0x21f)]()['forEach'](_0x49f5fd=>{const _0x494e67=_0x2918ee;_0x49f5fd[_0x494e67(0x127)](_0x18ed00);});}[_0x23d54f(0x26a)]({id:_0x4019bd}){const _0x190f1c=_0x23d54f;this['getRemoteMediaStreams'](_0x2f8a7a=>_0x2f8a7a[_0x190f1c(0x336)]()===_0x4019bd)[_0x190f1c(0x55e)](_0x390403=>{const _0x13c37a=_0x190f1c;this[_0x13c37a(0x176)](_0x390403[_0x13c37a(0x336)](),_0x390403[_0x13c37a(0xc7)]());});}[_0x23d54f(0x231)]({id:_0x12a118}){const _0x5834f4=_0x23d54f;this[_0x5834f4(0x46f)]['forEach'](_0x13461d=>_0x13461d[_0x5834f4(0x259)](_0x12a118));}[_0x23d54f(0x242)]({id:_0x12fce2}){const _0x5f0721=_0x23d54f;this['objectStores'][_0x5f0721(0x55e)](_0x452389=>_0x452389[_0x5f0721(0x26a)](_0x12fce2));}[_0x23d54f(0x58b)](_0xb5ecb0){const _0x2d1ae5=_0x23d54f;if(!this['objectStores'][_0x2d1ae5(0x201)](_0xb5ecb0))throw new _0x4f208b(_0x522ceb[_0x2d1ae5(0x53d)],_0x2d1ae5(0x445));const _0x31ce77=this[_0x2d1ae5(0x46f)][_0x2d1ae5(0x1dc)](_0xb5ecb0);this[_0x2d1ae5(0x46f)][_0x2d1ae5(0x114)](_0xb5ecb0),_0x31ce77['destroy'](),this[_0x2d1ae5(0x100)][_0x2d1ae5(0x52a)][_0x2d1ae5(0x526)](_0x31ce77);}[_0x23d54f(0x581)](_0x101cf7){const _0x41d4e1=_0x23d54f;if(!this[_0x41d4e1(0x415)][_0x41d4e1(0x201)](_0x101cf7))throw new _0x4f208b(_0x522ceb[_0x41d4e1(0x636)],_0x41d4e1(0x445));const _0x20758e=this[_0x41d4e1(0x415)]['get'](_0x101cf7);this[_0x41d4e1(0x415)][_0x41d4e1(0x114)](_0x101cf7),_0x20758e[_0x41d4e1(0xb7)](),this[_0x41d4e1(0x100)]['mediator'][_0x41d4e1(0x526)](_0x20758e);}[_0x23d54f(0x17f)](_0x3c23b0){const _0x436b6f=_0x23d54f;if(!this[_0x436b6f(0x1a1)]['has'](_0x3c23b0))throw new _0x4f208b(_0x522ceb[_0x436b6f(0xeb)],_0x436b6f(0x563));const _0x350296=this[_0x436b6f(0x1a1)]['get'](_0x3c23b0);this['keyValueDatabases'][_0x436b6f(0x114)](_0x3c23b0),_0x350296[_0x436b6f(0xb7)](),this[_0x436b6f(0x100)][_0x436b6f(0x52a)]['unregisterSystemSource'](_0x350296);}[_0x23d54f(0x195)](_0x24d8cf){const _0x4bf47b=_0x23d54f;if(!this[_0x4bf47b(0x1d8)][_0x4bf47b(0x201)](_0x24d8cf))throw new _0x4ad60f(_0x4ad60f[_0x4bf47b(0x34c)][_0x4bf47b(0x4e2)],{'label':_0x24d8cf,'localId':this[_0x4bf47b(0x100)][_0x4bf47b(0x122)]});const _0x626cdd=this[_0x4bf47b(0x1d8)][_0x4bf47b(0x1dc)](_0x24d8cf);this['configs'][_0x4bf47b(0x52a)][_0x4bf47b(0x526)](_0x626cdd),_0x626cdd['destroy'](),this[_0x4bf47b(0x1d8)][_0x4bf47b(0x114)](_0x24d8cf);}[_0x23d54f(0x176)](_0x13b5e5,_0x3cc362){const _0x427ca3=_0x23d54f;if(!this[_0x427ca3(0x145)]['has'](_0x13b5e5))throw new _0x4ad60f(_0x4ad60f[_0x427ca3(0x34c)]['UserDoesNotExist'],{'userId':_0x13b5e5,'localId':this[_0x427ca3(0x100)][_0x427ca3(0x122)]});const _0x552f51=this['remoteMediaStreams'][_0x427ca3(0x1dc)](_0x13b5e5);if(!_0x552f51['has'](_0x3cc362))throw new _0x4ad60f(_0x4ad60f[_0x427ca3(0x34c)]['RemoteMediaStreamDoesNotExist'],{'userId':_0x13b5e5,'label':_0x3cc362,'localId':this['configs'][_0x427ca3(0x122)]});const _0x3ecec7=_0x552f51[_0x427ca3(0x1dc)](_0x3cc362);this['configs']['mediator'][_0x427ca3(0x526)](_0x3ecec7),_0x3ecec7[_0x427ca3(0xb7)](),_0x552f51[_0x427ca3(0x114)](_0x3cc362);}}!function(_0x559080){const _0x194f65=_0x23d54f;_0x559080[_0x194f65(0xb3)]=_0x194f65(0x277),_0x559080[_0x194f65(0x55b)]=_0x194f65(0x17e),_0x559080['TimePerFrame']='time_per_frame',_0x559080[_0x194f65(0x33f)]=_0x194f65(0x14a),_0x559080[_0x194f65(0x468)]=_0x194f65(0x3dd),_0x559080[_0x194f65(0x2e6)]=_0x194f65(0x5ed),_0x559080[_0x194f65(0x42b)]=_0x194f65(0x10d),_0x559080['AudioVideoDelay']=_0x194f65(0x48c);}(_0x5a22c1||(_0x5a22c1={})),function(_0x5349ee){const _0x21a318=_0x23d54f;_0x5349ee[_0x21a318(0x52e)]=_0x21a318(0x29c),_0x5349ee[_0x21a318(0x4ff)]=_0x21a318(0x4ae),_0x5349ee[_0x21a318(0x348)]=_0x21a318(0x4ee),_0x5349ee[_0x21a318(0x2e6)]=_0x21a318(0x212),_0x5349ee[_0x21a318(0x33f)]=_0x21a318(0xe1),_0x5349ee[_0x21a318(0x468)]=_0x21a318(0x15f),_0x5349ee[_0x21a318(0x42b)]='bandwidth.rtt';}(_0x47abe3||(_0x47abe3={})),function(_0x5085c8){const _0x1f8b80=_0x23d54f;_0x5085c8[_0x5085c8['Problem']=0x0]=_0x1f8b80(0xfa);}(_0x4885b5||(_0x4885b5={}));const _0x236ecb=[{'type':_0x5a22c1[_0x23d54f(0xb3)],'reportMetric':_0x4effe0=>_0x4effe0['STVolatility'],'maxThreshold':2.5},{'type':_0x5a22c1[_0x23d54f(0x55b)],'reportMetric':_0x52d6a2=>_0x52d6a2['DTVolatility'],'maxThreshold':0.5}],_0x5f185b=[{'type':_0x5a22c1[_0x23d54f(0x4ff)],'reportMetric':_0x5607b7=>{const _0xaf1cd1=_0x23d54f,_0x58fa58=0x3e8/_0x5607b7[_0xaf1cd1(0x39a)];return _0x5607b7['timePerFrame']/_0x58fa58;},'maxThreshold':0.75},{'type':_0x5a22c1[_0x23d54f(0x33f)],'reportMetric':_0x5bb703=>{const _0x186734=_0x23d54f,_0x883398=_0x5bb703[_0x186734(0x39a)]*_0x5bb703['frameWidth']*_0x5bb703[_0x186734(0x430)]*0.12;return _0x5bb703[_0x186734(0x14a)]/_0x883398;},'minThreshold':0.25},{'type':_0x5a22c1[_0x23d54f(0x468)],'reportMetric':_0x10992e=>_0x10992e[_0x23d54f(0x3dd)],'maxThreshold':0.6},{'type':_0x5a22c1[_0x23d54f(0x2e6)],'reportMetric':_0x339ac3=>_0x339ac3[_0x23d54f(0x39a)],'minThreshold':0xa}],_0x372600=[{'type':_0x5a22c1[_0x23d54f(0x468)],'reportMetric':_0xd0fb46=>_0xd0fb46['jitter'],'maxThreshold':0.6}],_0x5d79c7=[{'type':_0x5a22c1[_0x23d54f(0x42b)],'reportMetric':_0x239cd1=>_0x239cd1[_0x23d54f(0xaa)],'maxThreshold':0x1/0x0}],_0x366b93=[{'type':_0x5a22c1['AudioVideoDelay'],'reportMetric':_0x398fc7=>_0x398fc7['AudioVideoDelay'],'maxThreshold':0x12c}],_0x51f138=[{'type':_0x47abe3['CPUCycle'],'issues':[{'type':_0x5a22c1[_0x23d54f(0xb3)],'threshold':0x5},{'type':_0x5a22c1[_0x23d54f(0x55b)],'threshold':0x5}]},{'type':_0x47abe3[_0x23d54f(0x4ff)],'issues':[{'type':_0x5a22c1[_0x23d54f(0x4ff)],'threshold':0x3}]},{'type':_0x47abe3['AudioVideoDelay'],'issues':[{'type':_0x5a22c1[_0x23d54f(0x348)],'threshold':0x2}]},{'type':_0x47abe3[_0x23d54f(0x2e6)],'issues':[{'type':_0x5a22c1[_0x23d54f(0x2e6)],'threshold':0x3}]},{'type':_0x47abe3[_0x23d54f(0x33f)],'issues':[{'type':_0x5a22c1[_0x23d54f(0x33f)],'threshold':0x3}]},{'type':_0x47abe3['Jitter'],'issues':[{'type':_0x5a22c1[_0x23d54f(0x468)],'threshold':0x3}]},{'type':_0x47abe3[_0x23d54f(0x42b)],'issues':[{'type':_0x5a22c1[_0x23d54f(0x42b)],'threshold':0x3}]}];var _0xaf89a6,_0x2a0c2a;!function(_0x4ffa05){const _0x53eaf8=_0x23d54f;_0x4ffa05[_0x4ffa05[_0x53eaf8(0x615)]=0x0]=_0x53eaf8(0x615),_0x4ffa05[_0x4ffa05['LocalReport']=0x1]='LocalReport';}(_0xaf89a6||(_0xaf89a6={}));class _0x2bd832{[_0x23d54f(0x100)];[_0x23d54f(0x40e)]=[];[_0x23d54f(0x1c8)];constructor(_0x5d3062){const _0x596f9c=_0x23d54f;this[_0x596f9c(0x100)]=_0x5d3062,this[_0x596f9c(0x100)][_0x596f9c(0x52a)][_0x596f9c(0x43c)](this);}[_0x23d54f(0x5f5)](_0x4f62a6){const _0x2727d5=_0x23d54f;this[_0x2727d5(0x1c8)]=_0x4f62a6;}[_0x23d54f(0x3cc)](){this['systemTopic']=void 0x0;}['close'](){const _0x4cca5d=_0x23d54f;this[_0x4cca5d(0x100)][_0x4cca5d(0x52a)][_0x4cca5d(0x526)](this),this[_0x4cca5d(0x40e)]=[];}[_0x23d54f(0x149)](_0x3f961a){const _0x5bdbf5=_0x23d54f;switch(_0x3f961a['content'][_0x5bdbf5(0x30e)]){case _0xaf89a6[_0x5bdbf5(0x200)]:this['detectLocalIssues'](_0x3f961a[_0x5bdbf5(0x36e)]['data']);break;case _0xaf89a6[_0x5bdbf5(0x615)]:this[_0x5bdbf5(0xd5)](_0x3f961a['content'][_0x5bdbf5(0x530)]);}}[_0x23d54f(0x640)](_0x3b5f4e,_0x3962a2,_0x8ccb20,_0x46434d){const _0xa6ea64=_0x23d54f,_0x433a53=_0x51f138[_0xa6ea64(0xad)](_0x3bfc2c=>_0x3bfc2c['issues']['some'](_0x363fec=>_0x363fec['type']===_0x3b5f4e));_0x46434d>=_0x433a53[_0xa6ea64(0x40e)]['find'](_0x5c327c=>_0x5c327c[_0xa6ea64(0x30e)]===_0x3b5f4e)[_0xa6ea64(0x5d9)]&&(this['addProblem'](_0x433a53[_0xa6ea64(0x30e)],_0x3962a2,_0x8ccb20),this[_0xa6ea64(0x40e)]=this[_0xa6ea64(0x40e)][_0xa6ea64(0x3a0)](_0x462832=>!(_0x462832[_0xa6ea64(0x30e)]===_0x3b5f4e&&_0x462832[_0xa6ea64(0x4fb)]===_0x3962a2&&_0x462832[_0xa6ea64(0xe0)]===_0x8ccb20)));}[_0x23d54f(0x163)](_0x18ec98){const _0x2cafba=_0x23d54f;_0x236ecb[_0x2cafba(0x55e)](_0x47d8c4=>{const _0x862fd0=_0x2cafba,_0x1c7354=_0x47d8c4[_0x862fd0(0x211)](_0x18ec98);_0x47d8c4[_0x862fd0(0x47a)]&&_0x1c7354>_0x47d8c4[_0x862fd0(0x47a)]&&this[_0x862fd0(0xdc)](_0x47d8c4['type'],this[_0x862fd0(0x100)]['localId'],_0x11e49a['Sender'],_0x1c7354),_0x47d8c4['minThreshold']&&_0x1c7354<_0x47d8c4['minThreshold']&&this[_0x862fd0(0xdc)](_0x47d8c4['type'],this[_0x862fd0(0x100)]['localId'],_0x11e49a[_0x862fd0(0x18e)],_0x1c7354);});}[_0x23d54f(0xd5)](_0x59439c){const _0xc1953b=_0x23d54f;let _0x110b69=[];switch(_0x59439c[_0xc1953b(0xe0)]){case _0x11e49a[_0xc1953b(0x18e)]:_0x110b69=_0x5d79c7;break;case _0x11e49a[_0xc1953b(0x5b4)]:_0x110b69=_0x366b93;}_0x59439c[_0xc1953b(0x55f)]&&this[_0xc1953b(0x11c)](_0x59439c[_0xc1953b(0x4fb)],_0x11e49a[_0xc1953b(0x18e)],_0x59439c[_0xc1953b(0x55f)]),_0x59439c['audio']&&this[_0xc1953b(0xa1)](_0x59439c[_0xc1953b(0x4fb)],_0x11e49a[_0xc1953b(0x18e)],_0x59439c[_0xc1953b(0x11b)]),_0x110b69[_0xc1953b(0x55e)](_0x3614a6=>{const _0x4d79c4=_0xc1953b,_0x5c7e55=_0x3614a6[_0x4d79c4(0x211)](_0x59439c);_0x3614a6[_0x4d79c4(0x47a)]&&_0x5c7e55>_0x3614a6[_0x4d79c4(0x47a)]&&this['addIssue'](_0x3614a6[_0x4d79c4(0x30e)],_0x59439c[_0x4d79c4(0x4fb)],_0x11e49a[_0x4d79c4(0x18e)],_0x5c7e55),_0x3614a6[_0x4d79c4(0xca)]&&_0x5c7e55<_0x3614a6[_0x4d79c4(0xca)]&&this[_0x4d79c4(0xdc)](_0x3614a6[_0x4d79c4(0x30e)],_0x59439c['userId'],_0x11e49a[_0x4d79c4(0x18e)],_0x5c7e55);});}[_0x23d54f(0x11c)](_0x3e1951,_0x3ad539,_0x25c8fd){const _0x4b9f48=_0x23d54f;0x0!==_0x25c8fd[_0x4b9f48(0x14a)]&&_0x5f185b['forEach'](_0x138b1c=>{const _0x466979=_0x4b9f48,_0x41e923=_0x138b1c['reportMetric'](_0x25c8fd);_0x138b1c[_0x466979(0x47a)]&&_0x41e923>_0x138b1c[_0x466979(0x47a)]&&this[_0x466979(0xdc)](_0x138b1c[_0x466979(0x30e)],_0x3e1951,_0x3ad539,_0x41e923,_0x466979(0x55f)),_0x138b1c['minThreshold']&&_0x41e923<_0x138b1c[_0x466979(0xca)]&&this['addIssue'](_0x138b1c['type'],_0x3e1951,_0x3ad539,_0x41e923,_0x466979(0x55f));});}['detectAudioIssues'](_0x200b70,_0x348a32,_0x109dd9){const _0x4a64c5=_0x23d54f;0x0!==_0x109dd9[_0x4a64c5(0x14a)]&&_0x372600[_0x4a64c5(0x55e)](_0xdba4d0=>{const _0x15e816=_0x4a64c5,_0x317368=_0xdba4d0[_0x15e816(0x211)](_0x109dd9);_0xdba4d0[_0x15e816(0x47a)]&&_0x317368>_0xdba4d0['maxThreshold']&&this[_0x15e816(0xdc)](_0xdba4d0['type'],_0x200b70,_0x348a32,_0x317368,_0x15e816(0x11b)),_0xdba4d0[_0x15e816(0xca)]&&_0x317368<_0xdba4d0[_0x15e816(0xca)]&&this[_0x15e816(0xdc)](_0xdba4d0[_0x15e816(0x30e)],_0x200b70,_0x348a32,_0x317368,_0x15e816(0x11b));});}[_0x23d54f(0xdc)](_0x506947,_0x257e27,_0x1de458,_0x56c134,_0x8e8468){const _0x3ab246=_0x23d54f;_0x2bad5b[_0x3ab246(0x4dc)](_0x4edace[_0x3ab246(0x186)],_0x3ab246(0x404)+_0x506947,_0x506947,_0x56c134),_0x2bad5b['logEvent']('issue',{'clusterId':this[_0x3ab246(0x100)]['clusterId'],'userId':this[_0x3ab246(0x100)][_0x3ab246(0x122)],'remoteId':_0x257e27,'data':{'type':_0x506947,'value':_0x56c134,'kind':_0x8e8468}}),this[_0x3ab246(0x40e)]=this[_0x3ab246(0x40e)]['filter'](_0x1c22bd=>Date[_0x3ab246(0x111)]()-_0x1c22bd[_0x3ab246(0x301)]<0x7530),this['issues'][_0x3ab246(0x140)]({'timestamp':Date[_0x3ab246(0x111)](),'type':_0x506947,'userId':_0x257e27,'origin':_0x1de458,'value':_0x56c134,'kind':_0x8e8468});const _0x13c16c=this['issues'][_0x3ab246(0x3a0)](_0x2b79c8=>_0x2b79c8[_0x3ab246(0x30e)]===_0x506947&&_0x2b79c8[_0x3ab246(0x4fb)]===_0x257e27&&_0x2b79c8[_0x3ab246(0xe0)]===_0x1de458)[_0x3ab246(0xa9)];this[_0x3ab246(0x640)](_0x506947,_0x257e27,_0x1de458,_0x13c16c);}['addProblem'](_0x519518,_0x40817d,_0x55b030){const _0x7fab93=_0x23d54f;_0x2bad5b['log'](_0x4edace[_0x7fab93(0x186)],_0x7fab93(0x269)+_0x519518),_0x2bad5b[_0x7fab93(0x51a)]('problem',{'clusterId':this[_0x7fab93(0x100)]['clusterId'],'userId':this['configs'][_0x7fab93(0x122)],'remoteId':_0x40817d,'data':{'type':_0x519518}}),this[_0x7fab93(0x1c8)]?.[_0x7fab93(0x127)]({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x7fab93(0x186)],'content':{'type':_0x4885b5['Problem'],'data':{'timestamp':Date[_0x7fab93(0x111)](),'userId':_0x40817d,'origin':_0x11e49a[_0x7fab93(0x18e)],'type':_0x519518}}});}}!function(_0x2a335c){const _0x56bb61=_0x23d54f;_0x2a335c[_0x2a335c[_0x56bb61(0x1bf)]=0x0]=_0x56bb61(0x1bf),_0x2a335c[_0x2a335c['Offline']=0x1]=_0x56bb61(0xf3);}(_0x2a0c2a||(_0x2a0c2a={}));class _0x13096f{['id'];['displayName'];['email'];[_0x23d54f(0x208)];[_0x23d54f(0x60b)];constructor(_0xdd81fc,_0x58b708,_0x4fa4f5,_0x5d17f1=new Set(),_0x26025e){const _0x10110e=_0x23d54f;this['id']=_0xdd81fc,this['displayName']=_0x58b708,this[_0x10110e(0x2b7)]=_0x4fa4f5,this[_0x10110e(0x208)]=_0x5d17f1,this[_0x10110e(0x60b)]=_0x26025e;}[_0x23d54f(0x168)](){const _0x3d7de4=_0x23d54f;this[_0x3d7de4(0x60b)]=void 0x0,this[_0x3d7de4(0x208)][_0x3d7de4(0x2e1)]();}[_0x23d54f(0x3c5)](){return this['id'];}['getDisplayName'](){const _0x58343f=_0x23d54f;return this[_0x58343f(0x4d3)];}[_0x23d54f(0x360)](){const _0x3b8de1=_0x23d54f;return this[_0x3b8de1(0x2b7)];}[_0x23d54f(0x5e6)](){const _0x297f55=_0x23d54f;return this[_0x297f55(0x60b)];}[_0x23d54f(0x4a6)](){const _0x51af3c=_0x23d54f;return this[_0x51af3c(0x208)];}}class _0x51a402 extends _0x13096f{[_0x23d54f(0x56d)];[_0x23d54f(0x226)]=_0x2a0c2a['Online'];[_0x23d54f(0x3af)]=Date[_0x23d54f(0x111)]();constructor(_0x486732,_0x46fb99,_0x23d11b,_0x501a74=new Set(),_0x5ed4f0,_0x2bcf75){const _0x102fe2=_0x23d54f;super(_0x486732,_0x46fb99,_0x23d11b,_0x501a74,_0x2bcf75),this[_0x102fe2(0x56d)]=_0x5ed4f0;}[_0x23d54f(0x43d)](){const _0x16d5cc=_0x23d54f;return this[_0x16d5cc(0x56d)];}[_0x23d54f(0x142)](){return this['status'];}[_0x23d54f(0x41b)](){return this['lastUpdated'];}['setDisplayName'](_0x4142af){const _0x1caa77=_0x23d54f;this[_0x1caa77(0x4d3)]!==_0x4142af&&(this[_0x1caa77(0x4d3)]=_0x4142af,this[_0x1caa77(0x4d0)]());}['setEmail'](_0x2a130b){const _0x44777b=_0x23d54f;this[_0x44777b(0x2b7)]!==_0x2a130b&&(this[_0x44777b(0x2b7)]=_0x2a130b,this[_0x44777b(0x4d0)]());}[_0x23d54f(0x1d5)](_0x2da6f4){const _0xc73d8e=_0x23d54f;this[_0xc73d8e(0x60b)]!==_0x2da6f4&&(this['rank']=_0x2da6f4,this[_0xc73d8e(0x4d0)]());}[_0x23d54f(0x304)](_0x1b6ccb){const _0x32056d=_0x23d54f;let _0xe2c215=!0x1;for(const _0x4740f0 of this[_0x32056d(0x208)])_0x1b6ccb[_0x32056d(0xc6)](_0x4740f0)||(_0xe2c215=!0x0,this['remoteConnections'][_0x32056d(0x114)](_0x4740f0));for(const _0x16e634 of _0x1b6ccb)this[_0x32056d(0x208)]['has'](_0x16e634)||(_0xe2c215=!0x0,this[_0x32056d(0x208)][_0x32056d(0xf5)](_0x16e634));_0xe2c215&&this[_0x32056d(0x4d0)]();}[_0x23d54f(0x626)](_0x510302){const _0x59c4f3=_0x23d54f;this[_0x59c4f3(0x56d)]!==_0x510302&&(this[_0x59c4f3(0x56d)]=_0x510302,this[_0x59c4f3(0x4d0)]());}[_0x23d54f(0x550)](_0x23d2a0){const _0x210b3e=_0x23d54f;this[_0x210b3e(0x226)]!==_0x23d2a0&&(this[_0x210b3e(0x226)]=_0x23d2a0,this[_0x210b3e(0x4d0)](),_0x23d2a0===_0x2a0c2a['Offline']&&this['close']());}[_0x23d54f(0x4d0)](){const _0x34ba43=_0x23d54f;this[_0x34ba43(0x3af)]=Date['now']();}}class _0x83fcdd{[_0x23d54f(0x455)];[_0x23d54f(0x486)];[_0x23d54f(0x3ce)];['minConnections'];[_0x23d54f(0x5d3)]=_0x2fd896();[_0x23d54f(0x18f)];[_0x23d54f(0x62a)];['onDisconnectHandler'];[_0x23d54f(0x605)]=!0x1;[_0x23d54f(0x213)];['nodeKey'];[_0x23d54f(0x103)];constructor(_0xedf12e,_0x5d1d6f,_0x71b9a9,_0x279538){const _0x5abea4=_0x23d54f;this[_0x5abea4(0x455)]=_0xedf12e,this[_0x5abea4(0x486)]=_0x5d1d6f,this[_0x5abea4(0x3ce)]=_0x71b9a9,this['minConnections']=_0x279538,this[_0x5abea4(0x213)]=_0x5abea4(0x433)+this['vendorId']+'ccc'+this[_0x5abea4(0x486)],this[_0x5abea4(0x2fb)]=_0x5abea4(0x433)+this[_0x5abea4(0x455)]+'ccc'+this[_0x5abea4(0x3ce)][_0x5abea4(0x3c5)](),this[_0x5abea4(0x18f)]=(0x0,_0x4df70b[_0x5abea4(0x548)])((0x0,_0x4df70b['ref'])(_0x30a96f[_0x5abea4(0x164)](),_0x5abea4(0x3db)),_0x55e0b3=>{const _0x21f4ff=_0x5abea4;!0x0!==_0x55e0b3[_0x21f4ff(0x514)]()?this[_0x21f4ff(0x605)]&&(this[_0x21f4ff(0x103)]=setTimeout(()=>{const _0x54f326=_0x21f4ff;delete this['disconnectTimeout'],_0x2bad5b[_0x54f326(0x302)](_0x54f326(0x189),{'clusterId':this['clusterId'],'userId':this['localUser'][_0x54f326(0x3c5)]()}),(0x0,_0x4df70b['goOffline'])(_0x30a96f[_0x54f326(0x164)]());const _0x4383af=_0x2aa01e[_0x54f326(0x158)](()=>{const _0x17dd0d=_0x54f326;navigator[_0x17dd0d(0x5f7)]&&(_0x4383af(),(0x0,_0x4df70b[_0x17dd0d(0x1c0)])(_0x30a96f[_0x17dd0d(0x164)]()));},0x3e8);},0xbb8)):(this['connected']=!0x0,this[_0x21f4ff(0x43b)](),this[_0x21f4ff(0x103)]&&(clearTimeout(this[_0x21f4ff(0x103)]),delete this[_0x21f4ff(0x103)]));});}async[_0x23d54f(0x44a)](){const _0x37d923=_0x23d54f;await this[_0x37d923(0x453)]();const _0x39c864=await this[_0x37d923(0x607)]();return this['childRemovedUnsubscriber']=(0x0,_0x4df70b[_0x37d923(0xa2)])((0x0,_0x4df70b[_0x37d923(0x2ee)])(_0x30a96f[_0x37d923(0x164)](),_0x37d923(0x274)+this[_0x37d923(0x213)]+_0x37d923(0x644)),_0x26f947=>{const _0x2af586=_0x37d923,_0x228f8c=_0x26f947['key'];if(!_0x228f8c)return;const _0x590fb8=_0x228f8c['replace'](_0x2af586(0x433)+this[_0x2af586(0x455)]+_0x2af586(0x433),'');this[_0x2af586(0x5d3)][_0x2af586(0x127)](_0x590fb8);}),_0x39c864;}async['close'](){const _0x5ed52c=_0x23d54f;this[_0x5ed52c(0x62a)]?.(),delete this[_0x5ed52c(0x62a)],this[_0x5ed52c(0x135)]?.[_0x5ed52c(0x102)](),delete this[_0x5ed52c(0x135)],this[_0x5ed52c(0x18f)]?.(),delete this[_0x5ed52c(0x18f)],this[_0x5ed52c(0x103)]&&(clearTimeout(this['disconnectTimeout']),delete this[_0x5ed52c(0x103)]),await(0x0,_0x4df70b[_0x5ed52c(0x58d)])((0x0,_0x4df70b['ref'])(_0x30a96f[_0x5ed52c(0x164)](),_0x5ed52c(0x274)+this[_0x5ed52c(0x213)]+'/nodes/'+this[_0x5ed52c(0x2fb)]));}['onNodeDisconnect'](_0x481c08){const _0x1ac014=_0x23d54f;return this[_0x1ac014(0x5d3)][_0x1ac014(0x308)](_0x481c08);}async[_0x23d54f(0x607)](){const _0xee353d=_0x23d54f,_0x50ec56=[],_0x594f7f=await(0x0,_0x4df70b[_0xee353d(0x1dc)])((0x0,_0x4df70b[_0xee353d(0x2ee)])(_0x30a96f[_0xee353d(0x164)](),_0xee353d(0x274)+this['clusterKey']+_0xee353d(0x644))),_0x16d7c2=[];return _0x594f7f[_0xee353d(0x55e)](_0x1ad98d=>{const _0x585b5e=_0xee353d,_0x39c484=_0x1ad98d[_0x585b5e(0x3dc)]?.[_0x585b5e(0x26e)](_0x585b5e(0x433)+this['vendorId']+'ccc','');_0x16d7c2[_0x585b5e(0x140)]({'id':_0x39c484,'joinedAt':_0x1ad98d['val']()[_0x585b5e(0x1bd)],'priority':_0x1ad98d['val']()['priority']});}),_0x16d7c2[_0xee353d(0x203)]((_0x20caaf,_0x3b0ba9)=>_0x20caaf[_0xee353d(0x1bd)]===_0x3b0ba9[_0xee353d(0x1bd)]?_0x20caaf[_0xee353d(0x57c)]-_0x3b0ba9[_0xee353d(0x57c)]:_0x20caaf['joinedAt']-_0x3b0ba9['joinedAt'])[_0xee353d(0x28e)](_0x16d7c2[_0xee353d(0x3a1)](_0x22fbd3=>_0x22fbd3['id']===this[_0xee353d(0x3ce)]['getId']())),_0x16d7c2[_0xee353d(0x203)]((_0x204ca6,_0x15ff86)=>_0x15ff86['joinedAt']===_0x204ca6[_0xee353d(0x1bd)]?_0x15ff86[_0xee353d(0x57c)]-_0x204ca6['priority']:_0x15ff86[_0xee353d(0x1bd)]-_0x204ca6[_0xee353d(0x1bd)])[_0xee353d(0x55e)](_0x156a0c=>{const _0x34a06b=_0xee353d;_0x50ec56[_0x34a06b(0xa9)]>=this[_0x34a06b(0xe8)]||_0x50ec56['push'](_0x156a0c['id']);}),_0x2bad5b[_0xee353d(0x51a)](_0xee353d(0x32d),{'clusterId':this[_0xee353d(0x486)],'userId':this[_0xee353d(0x3ce)]['getId'](),'data':{'ancestorIds':_0x50ec56,'allUsers':_0x16d7c2}}),_0x50ec56;}async[_0x23d54f(0x453)](){const _0x43fc61=_0x23d54f;await(0x0,_0x4df70b[_0x43fc61(0x151)])((0x0,_0x4df70b[_0x43fc61(0x2ee)])(_0x30a96f[_0x43fc61(0x164)](),_0x43fc61(0x274)+this['clusterKey']+_0x43fc61(0x58a)+this[_0x43fc61(0x2fb)]),{'joinedAt':(0x0,_0x4df70b['serverTimestamp'])(),'priority':Math[_0x43fc61(0x2ae)]()});}[_0x23d54f(0x43b)](){const _0x164b8a=_0x23d54f;this[_0x164b8a(0x135)]&&this[_0x164b8a(0x135)]['cancel'](),this[_0x164b8a(0x135)]=(0x0,_0x4df70b['onDisconnect'])((0x0,_0x4df70b['ref'])(_0x30a96f[_0x164b8a(0x164)](),_0x164b8a(0x274)+this[_0x164b8a(0x213)]+_0x164b8a(0x58a)+this[_0x164b8a(0x2fb)])),this['onDisconnectHandler'][_0x164b8a(0x58d)]();}}class _0x4e8628{[_0x23d54f(0x100)];[_0x23d54f(0x253)];[_0x23d54f(0x3ce)];['remoteUnsubscriber'];[_0x23d54f(0x5df)];[_0x23d54f(0x143)];[_0x23d54f(0x366)]=[];['systemTopic'];[_0x23d54f(0x169)]=new Map();[_0x23d54f(0x34e)];[_0x23d54f(0x193)];constructor(_0x4d1c03,_0x29040f,_0x4105d6){const _0x558893=_0x23d54f;this[_0x558893(0x100)]=_0x4d1c03,this[_0x558893(0x253)]=_0x29040f,this[_0x558893(0x3ce)]=_0x4105d6,this[_0x558893(0x5df)]=new _0x83fcdd(this[_0x558893(0x100)]['vendorId'],this['configs']['clusterId'],this[_0x558893(0x3ce)],this[_0x558893(0x253)][_0x558893(0x47e)]()),this[_0x558893(0x143)]=this[_0x558893(0x5df)][_0x558893(0x138)](this[_0x558893(0x285)][_0x558893(0x128)](this)),this[_0x558893(0x100)][_0x558893(0x52a)][_0x558893(0x43c)](this[_0x558893(0x3ce)]),this['configs'][_0x558893(0x52a)][_0x558893(0x43c)](this),this[_0x558893(0x271)]=_0x2aa01e[_0x558893(0x158)](()=>{const _0x58bf78=_0x558893,_0x118940=Date['now']();this[_0x58bf78(0x253)]['getRemoteUsers']()[_0x58bf78(0x55e)](_0x5e544d=>{const _0x1ee4d3=_0x58bf78;_0x5e544d[_0x1ee4d3(0x142)]()===_0x2a0c2a[_0x1ee4d3(0xf3)]&&_0x5e544d[_0x1ee4d3(0x41b)]()<_0x118940-0x493e0&&this[_0x1ee4d3(0x253)][_0x1ee4d3(0x602)](_0x5e544d[_0x1ee4d3(0x3c5)]());});},0xea60);}[_0x23d54f(0x5f5)](_0x400999){const _0x365e58=_0x23d54f;this[_0x365e58(0x1c8)]=_0x400999;}[_0x23d54f(0x3cc)](){const _0x193e60=_0x23d54f;delete this[_0x193e60(0x1c8)];}[_0x23d54f(0x168)](){const _0x1add24=_0x23d54f;this[_0x1add24(0x34e)]&&(clearTimeout(this['debounceProcessRank']),delete this[_0x1add24(0x34e)]),delete this[_0x1add24(0x193)],this[_0x1add24(0x3ce)][_0x1add24(0x168)](),this[_0x1add24(0x271)](),this[_0x1add24(0x143)](),this[_0x1add24(0x100)][_0x1add24(0x52a)][_0x1add24(0x526)](this[_0x1add24(0x3ce)]),this['configs'][_0x1add24(0x52a)][_0x1add24(0x526)](this),this['discoveryService']['close']();}[_0x23d54f(0x170)](){const _0x1ecda4=_0x23d54f;return this[_0x1ecda4(0x366)];}['getLocalId'](){const _0x37360b=_0x23d54f;return this[_0x37360b(0x3ce)][_0x37360b(0x3c5)]();}[_0x23d54f(0xd2)](){const _0x58fdf4=_0x23d54f;return this[_0x58fdf4(0x3ce)];}[_0x23d54f(0x516)](_0x566998){const _0x32bb05=_0x23d54f,_0x3b3cbf=Array[_0x32bb05(0x53f)](this[_0x32bb05(0x253)]['getRemoteUsers']()[_0x32bb05(0x54b)]())[_0x32bb05(0x3a0)](_0x220305=>_0x220305[_0x32bb05(0x142)]()===_0x2a0c2a[_0x32bb05(0x1bf)]);return _0x566998?_0x3b3cbf['filter'](_0x566998):_0x3b3cbf;}async[_0x23d54f(0x32d)](){const _0x339dbf=_0x23d54f;return this[_0x339dbf(0x366)]=await this[_0x339dbf(0x5df)][_0x339dbf(0x44a)](),this[_0x339dbf(0x366)][_0x339dbf(0xa9)]<this['graphService'][_0x339dbf(0x47e)]()&&(this[_0x339dbf(0x3ce)][_0x339dbf(0x1d5)](this[_0x339dbf(0x366)][_0x339dbf(0xa9)]+0x1),this[_0x339dbf(0x266)]()),this[_0x339dbf(0x366)];}[_0x23d54f(0xa7)](_0x725e8a,_0x4b5f58){const _0x278c79=_0x23d54f,_0x160ccc=this['localUser'][_0x278c79(0x4a6)](),_0x4961b8=new Set(_0x160ccc),_0x5dedbf=Array[_0x278c79(0x53f)](_0x160ccc)['filter'](_0x599b77=>_0x599b77!==_0x725e8a)['map'](_0x46900b=>({'id':_0x46900b,'distance':0x1}));for(;_0x5dedbf[_0x278c79(0xa9)]>0x0;){const _0x5afd63=_0x5dedbf[_0x278c79(0x44c)]();if(!_0x5afd63)continue;if(_0x5afd63['id']===_0x4b5f58)return _0x5afd63[_0x278c79(0x34f)];const _0xa3f8cd=this[_0x278c79(0x253)]['getRemoteUser'](_0x5afd63['id']);_0xa3f8cd&&_0xa3f8cd[_0x278c79(0x142)]()!==_0x2a0c2a['Offline']&&_0xa3f8cd[_0x278c79(0x4a6)]()[_0x278c79(0x55e)](_0x389af6=>{const _0x46377c=_0x278c79;_0x4961b8[_0x46377c(0x201)](_0x389af6)||(_0x4961b8[_0x46377c(0xf5)](_0x389af6),_0x5dedbf[_0x46377c(0x140)]({'id':_0x389af6,'distance':_0x5afd63[_0x46377c(0x34f)]+0x1}));});}return-0x1;}[_0x23d54f(0x44d)](_0x4a4d36){const _0x4f5316=_0x23d54f;try{switch(_0x4a4d36['content'][_0x4f5316(0x30e)]){case _0x27f572[_0x4f5316(0x364)]:case _0x27f572[_0x4f5316(0x435)]:this[_0x4f5316(0x305)](_0x4a4d36['content']),_0x2bad5b[_0x4f5316(0x4dc)](_0x4edace['Node'],_0x4f5316(0x350),'\x27'+this[_0x4f5316(0x3ce)][_0x4f5316(0x3c5)]()+',\x20'+_0x4a4d36[_0x4f5316(0x49a)]+'\x27',_0x4a4d36,_0x4a4d36['content']);break;case _0x27f572[_0x4f5316(0x42f)]:this[_0x4f5316(0x11f)](_0x4a4d36['content']['id']),_0x2bad5b[_0x4f5316(0x4dc)](_0x4edace['Node'],'NodeManager\x20-\x20UserLeave','\x27'+this[_0x4f5316(0x3ce)][_0x4f5316(0x3c5)]()+',\x20'+_0x4a4d36[_0x4f5316(0x49a)]+'\x27',_0x4a4d36,_0x4a4d36[_0x4f5316(0x36e)]);}}catch(_0x469c55){if(_0x469c55 instanceof _0x31e58f)return void _0x2bad5b[_0x4f5316(0x4dc)](_0x4edace[_0x4f5316(0x4f9)],_0x469c55['message']);throw _0x469c55;}}[_0x23d54f(0x3c1)](_0x276960){const _0x5cf49d=_0x23d54f;switch(_0x276960[_0x5cf49d(0x36e)][_0x5cf49d(0x30e)]){case _0x2a4dd2[_0x5cf49d(0x5d0)]:this[_0x5cf49d(0x180)](_0x276960[_0x5cf49d(0x49a)]),_0x2bad5b['log'](_0x4edace[_0x5cf49d(0x4f9)],_0x5cf49d(0x2f5),'\x27'+this[_0x5cf49d(0x3ce)][_0x5cf49d(0x3c5)]()+',\x20'+_0x276960[_0x5cf49d(0x49a)]+'\x27',_0x276960,_0x276960[_0x5cf49d(0x36e)]);break;case _0x2a4dd2[_0x5cf49d(0x518)]:this[_0x5cf49d(0x199)](_0x276960[_0x5cf49d(0x49a)]),_0x2bad5b[_0x5cf49d(0x4dc)](_0x4edace[_0x5cf49d(0x4f9)],'NodeManager\x20-\x20PublishUserLeave',this[_0x5cf49d(0x3ce)]['getId'](),_0x276960,_0x276960[_0x5cf49d(0x36e)]);}}['handleUserJoin'](_0x4a36b0){const _0x569dd8=_0x23d54f;this[_0x569dd8(0x22a)](_0x4a36b0),this['notifyJoin'](_0x4a36b0);}[_0x23d54f(0x484)](_0x5b2f02){const _0x5293f6=_0x23d54f;this[_0x5293f6(0x3ce)][_0x5293f6(0x5fd)](_0x5b2f02['id']),this[_0x5293f6(0x2ad)](_0x5b2f02['id']),this[_0x5293f6(0x549)](_0x5b2f02);}[_0x23d54f(0x305)](_0x92fe8c){const _0x26bfa2=_0x23d54f,{id:_0x15c694,displayName:_0x224084,email:_0x5274a2,rank:_0x977702,remoteConnections:_0x514452,version:_0x52b2e4}=_0x92fe8c,_0x547d08=this[_0x26bfa2(0x253)]['getRemoteUser'](_0x15c694);if(_0x547d08){if(!(_0x52b2e4<=_0x547d08[_0x26bfa2(0x43d)]())){if(_0x547d08[_0x26bfa2(0x304)](_0x514452),_0x547d08[_0x26bfa2(0x626)](_0x52b2e4),_0x547d08['setDisplayName'](_0x224084),_0x547d08[_0x26bfa2(0xb4)](_0x5274a2),_0x977702&&_0x547d08[_0x26bfa2(0x1d5)](_0x977702),this[_0x26bfa2(0x1ca)](_0x15c694,_0x977702),_0x547d08[_0x26bfa2(0x142)]()===_0x2a0c2a[_0x26bfa2(0xf3)])return _0x547d08[_0x26bfa2(0x550)](_0x2a0c2a[_0x26bfa2(0x1bf)]),this[_0x26bfa2(0x266)](),void this[_0x26bfa2(0x484)](_0x92fe8c);this['processRank'](),this[_0x26bfa2(0x13d)]({'id':_0x15c694,'displayName':_0x224084,'email':_0x5274a2,'remoteConnections':_0x514452,'version':_0x52b2e4});}}else this[_0x26bfa2(0x259)](_0x92fe8c);}[_0x23d54f(0x1ca)](_0x2b6c65,_0x351733){const _0x318f4b=_0x23d54f;_0x351733&&this['ancestors'][_0x318f4b(0xc6)](_0x2b6c65)&&this[_0x318f4b(0x3ce)]['setRank'](_0x351733+this[_0x318f4b(0x366)][_0x318f4b(0x528)](_0x2b6c65)+0x1);}[_0x23d54f(0x180)](_0x26f55d){const _0x4c95bc=_0x23d54f;this['localUser'][_0x4c95bc(0x414)](_0x26f55d);}[_0x23d54f(0x22a)]({id:_0x56fc3a,displayName:_0x26f69d='',email:_0x46a105='',rank:_0x1f8bb2,remoteConnections:_0x6a0d9c,version:_0x2f77ff}){const _0x41d7aa=_0x23d54f;if(this[_0x41d7aa(0x253)][_0x41d7aa(0xfe)](_0x56fc3a))throw new _0x31e58f(_0x41d7aa(0x598)+_0x56fc3a);this[_0x41d7aa(0x253)]['setRemoteUser'](_0x56fc3a,new _0x51a402(_0x56fc3a,_0x26f69d,_0x46a105,new Set(_0x6a0d9c),_0x2f77ff,_0x1f8bb2)),this['setLocalRank'](_0x56fc3a,_0x1f8bb2),this[_0x41d7aa(0x266)]();}['publishUserJoin'](_0x4e4b66){const _0x36afb4=_0x23d54f;this[_0x36afb4(0x1c8)][_0x36afb4(0x127)]({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x36afb4(0x4f9)],'content':{'type':_0x27f572[_0x36afb4(0x4c5)],'id':_0x4e4b66}});}[_0x23d54f(0x199)](_0x3fa3ce){const _0x4dc0d9=_0x23d54f;this[_0x4dc0d9(0x1c8)]?.['publish']({'sourceId':_0x50c8f3,'messageType':_0x528d91['Node'],'content':{'type':_0x27f572[_0x4dc0d9(0x42f)],'id':_0x3fa3ce}});}[_0x23d54f(0x285)](_0x2742e4){const _0x16ce33=_0x23d54f;if(_0x2742e4===this[_0x16ce33(0x3ce)][_0x16ce33(0x3c5)]())return this['configs'][_0x16ce33(0x52a)][_0x16ce33(0x11d)](_0x16ce33(0x39b),{'id':_0x2742e4}),this['configs'][_0x16ce33(0x52a)]['close'](!0x0),this[_0x16ce33(0x100)][_0x16ce33(0x52a)][_0x16ce33(0x237)](),void this['configs'][_0x16ce33(0x52a)][_0x16ce33(0x3ea)]();this[_0x16ce33(0x199)](_0x2742e4);}[_0x23d54f(0x11f)](_0x1e3932){const _0x218448=_0x23d54f;this[_0x218448(0x366)][_0x218448(0xc6)](_0x1e3932)?this[_0x218448(0xa3)](_0x1e3932):this[_0x218448(0x3ce)][_0x218448(0x4a6)]()[_0x218448(0x201)](_0x1e3932)&&this[_0x218448(0x109)](_0x1e3932),this[_0x218448(0x3ce)][_0x218448(0x406)](_0x1e3932);const _0x3b4a6b=Array[_0x218448(0x53f)](this[_0x218448(0x169)][_0x218448(0x62d)]())[_0x218448(0xad)](([,_0x3251f9])=>_0x3251f9==_0x3251f9);_0x3b4a6b&&this[_0x218448(0x169)]['delete'](_0x3b4a6b[0x0]);const _0x22d1d8=this[_0x218448(0x253)][_0x218448(0x35d)](_0x1e3932);if(!_0x22d1d8)return;const _0x96e7ec=_0x22d1d8[_0x218448(0x5e6)](),_0x8cce75=this['localUser'][_0x218448(0x5e6)]();_0x8cce75&&_0x96e7ec&&_0x96e7ec<_0x8cce75&&this[_0x218448(0x3ce)][_0x218448(0x1d5)](_0x8cce75-0x1,!0x1),Array['from'](this[_0x218448(0x253)]['getRemoteUsers']()['values']())['forEach'](_0x4f06fa=>{const _0x6f9a3b=_0x218448,_0x5a52b5=_0x4f06fa[_0x6f9a3b(0x5e6)]();_0x5a52b5&&_0x96e7ec&&_0x96e7ec<_0x5a52b5&&_0x4f06fa[_0x6f9a3b(0x1d5)](_0x5a52b5-0x1);}),_0x22d1d8[_0x218448(0x550)](_0x2a0c2a[_0x218448(0xf3)]),this[_0x218448(0x100)]['mediator']['notifyCluster'](_0x218448(0x39c),{'id':_0x1e3932});}[_0x23d54f(0x549)]({id:_0x2a3d57,displayName:_0x219877,email:_0x3c6566,remoteConnections:_0x66e2e}){const _0x8113f8=_0x23d54f;this[_0x8113f8(0x100)][_0x8113f8(0x52a)]['notifyCluster'](_0x8113f8(0x40b),{'id':_0x2a3d57,'displayName':_0x219877,'email':_0x3c6566,'remoteConnections':_0x66e2e});}[_0x23d54f(0x13d)]({id:_0x4c2f85,displayName:_0x49ce28,email:_0x4bd71c,remoteConnections:_0x3029ae}){const _0x527dd5=_0x23d54f;this['configs'][_0x527dd5(0x52a)][_0x527dd5(0x11d)]('user-update',{'id':_0x4c2f85,'displayName':_0x49ce28,'email':_0x4bd71c,'remoteConnections':_0x3029ae});}[_0x23d54f(0x266)](){const _0x8cca8=_0x23d54f;if(this[_0x8cca8(0x193)]||(this['lastProcessRank']=Date[_0x8cca8(0x111)]()),this[_0x8cca8(0x34e)]){if(Date['now']()-this[_0x8cca8(0x193)]>0x2328)return;clearTimeout(this[_0x8cca8(0x34e)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x5c56f2=_0x8cca8;delete this[_0x5c56f2(0x193)],delete this[_0x5c56f2(0x34e)];const _0x1c5d33=this[_0x5c56f2(0x3ce)]['getRank']();if(!_0x1c5d33)return;const _0xc62c66=this[_0x5c56f2(0x253)][_0x5c56f2(0x2af)](this[_0x5c56f2(0x253)][_0x5c56f2(0x516)]()[_0x5c56f2(0x4ba)]);if(this['optimizationLayers'][_0x5c56f2(0x4ba)]>=_0xc62c66)return;let _0x399bc1=0x1;for(;this[_0x5c56f2(0x100)][_0x5c56f2(0x52a)][_0x5c56f2(0x38d)]()[_0x5c56f2(0xa9)]<this['graphService'][_0x5c56f2(0x589)]()&&_0x399bc1<=_0xc62c66;){if(this['optimizationLayers'][_0x5c56f2(0x201)](_0x399bc1)){_0x399bc1+=0x1;continue;}const _0x4ae49d=this[_0x5c56f2(0x253)]['getNextTargetRank'](_0x1c5d33,_0x399bc1),_0x62713d=Array['from'](this['graphService'][_0x5c56f2(0x516)]()[_0x5c56f2(0x54b)]())[_0x5c56f2(0xad)](_0x58ccf9=>_0x58ccf9['getRank']()===_0x4ae49d&&_0x58ccf9[_0x5c56f2(0x142)]()===_0x2a0c2a[_0x5c56f2(0x1bf)]);if(_0x62713d){try{await this[_0x5c56f2(0x100)][_0x5c56f2(0x52a)]['createConnection'](_0x62713d['getId'](),_0x3f983f[_0x5c56f2(0x2f8)]),this['optimizationLayers'][_0x5c56f2(0x151)](_0x399bc1,_0x62713d[_0x5c56f2(0x3c5)]());}catch(_0x418d26){if(!(_0x418d26 instanceof _0x4ad60f&&_0x418d26[_0x5c56f2(0x16d)]===_0x4ad60f[_0x5c56f2(0x34c)][_0x5c56f2(0x3f2)]))throw _0x418d26;_0x2bad5b['log'](_0x4edace[_0x5c56f2(0x4f9)],this[_0x5c56f2(0x3ce)][_0x5c56f2(0x3c5)](),_0x62713d['getId'](),_0x418d26[_0x5c56f2(0x1b1)]);}_0x399bc1+=0x1;}else _0x399bc1+=0x1;}},0x3e8);}async['manageAncestor'](_0x5a48ab){const _0x522985=_0x23d54f;this[_0x522985(0x366)][_0x522985(0x28e)](this[_0x522985(0x366)][_0x522985(0x528)](_0x5a48ab),0x1);const _0x3330db=await this[_0x522985(0x5df)]['getAncestors']();for(const _0x53bd84 of _0x3330db)if(!this[_0x522985(0x366)][_0x522985(0xc6)](_0x53bd84)){const _0x2358ad=Array[_0x522985(0x53f)](this['optimizationLayers'][_0x522985(0x62d)]())[_0x522985(0xad)](([,_0x4c2d6e])=>_0x4c2d6e===_0x53bd84);_0x2358ad&&this[_0x522985(0x169)][_0x522985(0x114)](_0x2358ad[0x0]),this[_0x522985(0x100)][_0x522985(0x52a)][_0x522985(0x152)](_0x53bd84,_0x3f983f['Core']);}0x0===_0x3330db[_0x522985(0xa9)]&&this[_0x522985(0x3ce)][_0x522985(0x1d5)](0x1),this[_0x522985(0x366)]=_0x3330db;}async[_0x23d54f(0x109)](_0x5225bb){const _0x20a573=_0x23d54f,_0x5c7189=this[_0x20a573(0x3ce)][_0x20a573(0x5e6)]();if(!_0x5c7189)return;const _0x161871=this[_0x20a573(0x253)]['getRemoteUser'](_0x5225bb);if(!_0x161871||_0x161871[_0x20a573(0x142)]()===_0x2a0c2a[_0x20a573(0xf3)])return;const _0x20582a=_0x161871[_0x20a573(0x5e6)]();if(!_0x20582a||_0x20582a<_0x5c7189)return;const _0x56ea92=this[_0x20a573(0x429)](this[_0x20a573(0x3ce)][_0x20a573(0x4a6)](),_0x5c7189),_0x43063a=this[_0x20a573(0x429)](_0x161871[_0x20a573(0x4a6)](),_0x20582a)[_0x56ea92['findIndex'](([_0xab4d14])=>_0xab4d14===_0x5225bb)];if(!_0x43063a||this['localUser']['getRemoteConnections']()['has'](_0x43063a[0x0]))return;const _0x33d040=this[_0x20a573(0x253)]['getRemoteUser'](_0x43063a[0x0]);if(_0x33d040&&_0x33d040[_0x20a573(0x142)]()!==_0x2a0c2a['Offline'])try{await this[_0x20a573(0x100)][_0x20a573(0x52a)]['createConnection'](_0x43063a[0x0],_0x3f983f[_0x20a573(0x2f8)]);const _0xde928f=Array[_0x20a573(0x53f)](this[_0x20a573(0x169)][_0x20a573(0x62d)]())[_0x20a573(0xad)](([,_0x49aabf])=>_0x49aabf===_0x5225bb);_0xde928f&&this[_0x20a573(0x169)][_0x20a573(0x151)](_0xde928f[0x0],_0x43063a[0x0]);}catch(_0x5d778f){if(!(_0x5d778f instanceof _0x4ad60f&&_0x5d778f[_0x20a573(0x16d)]===_0x4ad60f[_0x20a573(0x34c)]['RemoteConnectionExists']))throw _0x5d778f;_0x2bad5b[_0x20a573(0x4dc)](_0x4edace[_0x20a573(0x4f9)],this[_0x20a573(0x3ce)][_0x20a573(0x3c5)](),_0x43063a[0x0],_0x5d778f[_0x20a573(0x1b1)]);}}[_0x23d54f(0x429)](_0x509af6,_0x2af682){const _0x2a3ac4=_0x23d54f;return Array[_0x2a3ac4(0x53f)](_0x509af6)['reduce']((_0x125bae,_0x843379)=>{const _0x3f7fed=_0x2a3ac4,_0x2b41d7=this[_0x3f7fed(0x253)][_0x3f7fed(0x35d)](_0x843379);if(!_0x2b41d7||_0x2b41d7['getStatus']()===_0x2a0c2a[_0x3f7fed(0xf3)])return _0x125bae;const _0x443dcf=_0x2b41d7[_0x3f7fed(0x5e6)]();if(!_0x443dcf)return _0x125bae;const _0x2bd2ae=_0x443dcf-_0x2af682;return _0x2bd2ae<=this[_0x3f7fed(0x253)]['getMinConnections']()||_0x125bae[_0x3f7fed(0x140)]([_0x843379,_0x2bd2ae]),_0x125bae;},[])[_0x2a3ac4(0x203)](([,_0x120bd2],[,_0x2fc47e])=>_0x120bd2-_0x2fc47e);}}class _0x16bfff extends _0x13096f{[_0x23d54f(0x1c8)];[_0x23d54f(0x56d)]=Date[_0x23d54f(0x111)]();[_0x23d54f(0x10b)];['lastUpdated'];['close'](){const _0x2bf6ce=_0x23d54f;this['updateDebounceTimeout']&&(clearTimeout(this[_0x2bf6ce(0x10b)]),delete this[_0x2bf6ce(0x10b)]),delete this['lastUpdated'],this[_0x2bf6ce(0x56d)]=Date['now'](),super['close']();}[_0x23d54f(0x5f5)](_0x5dd640){const _0x460279=_0x23d54f;this[_0x460279(0x1c8)]=_0x5dd640;}[_0x23d54f(0x3cc)](){const _0x279c47=_0x23d54f;delete this[_0x279c47(0x1c8)];}[_0x23d54f(0x5fd)](_0x17bd99){const _0x42abc2=_0x23d54f;!this['updateDebounceTimeout']&&this[_0x42abc2(0x60b)]&&this[_0x42abc2(0x1c8)][_0x42abc2(0x127)]({'sourceId':this['id'],'destinationIds':[_0x17bd99],'propagate':!0x0,'messageType':_0x528d91[_0x42abc2(0x4f9)],'content':{'type':_0x27f572[_0x42abc2(0x364)],'id':this['id'],'displayName':this[_0x42abc2(0xe7)](),'email':this[_0x42abc2(0x360)](),'rank':this[_0x42abc2(0x5e6)](),'remoteConnections':Array[_0x42abc2(0x53f)](this['remoteConnections']),'version':this[_0x42abc2(0x56d)]}});}[_0x23d54f(0x414)](_0x291aa6){const _0x494f2d=_0x23d54f;this[_0x494f2d(0x208)]['has'](_0x291aa6)||(this[_0x494f2d(0x208)][_0x494f2d(0xf5)](_0x291aa6),this[_0x494f2d(0x4f4)](),this[_0x494f2d(0x450)](!0x0));}['removeRemoteConnection'](_0x1e52a5){const _0x2f3bd1=_0x23d54f;this[_0x2f3bd1(0x208)]['has'](_0x1e52a5)&&(this[_0x2f3bd1(0x208)][_0x2f3bd1(0x114)](_0x1e52a5),this[_0x2f3bd1(0x4f4)](),this[_0x2f3bd1(0x450)](!0x0));}[_0x23d54f(0x43d)](){const _0x55ce73=_0x23d54f;return this[_0x55ce73(0x56d)];}['setDisplayName'](_0x2e0ffd){const _0x15ec7e=_0x23d54f;this[_0x15ec7e(0x4d3)]!==_0x2e0ffd&&(this['displayName']=_0x2e0ffd,this[_0x15ec7e(0x4f4)](),this[_0x15ec7e(0x450)]());}[_0x23d54f(0xb4)](_0x2ca1d6){const _0x85e896=_0x23d54f;this[_0x85e896(0x2b7)]!==_0x2ca1d6&&(this[_0x85e896(0x2b7)]=_0x2ca1d6,this[_0x85e896(0x4f4)](),this[_0x85e896(0x450)]());}[_0x23d54f(0x1d5)](_0x24816c,_0x50bfd6=!0x0){const _0x1bf7a0=_0x23d54f;this['rank']!==_0x24816c&&(this[_0x1bf7a0(0x60b)]=_0x24816c,_0x50bfd6&&(this[_0x1bf7a0(0x4f4)](),this[_0x1bf7a0(0x450)]()));}[_0x23d54f(0x4f4)](){const _0x598dc2=_0x23d54f;this['currentVersion']=Date[_0x598dc2(0x111)]();}['publishUserUpdate'](_0x23323b=!0x1){const _0x45dfff=_0x23d54f;if(this[_0x45dfff(0x60b)]){if(this[_0x45dfff(0x3af)]||(this['lastUpdated']=Date['now']()),this[_0x45dfff(0x10b)]){if(Date[_0x45dfff(0x111)]()-this[_0x45dfff(0x3af)]>0x2328)return;clearTimeout(this[_0x45dfff(0x10b)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x41beef=_0x45dfff;delete this[_0x41beef(0x3af)],delete this[_0x41beef(0x10b)],this[_0x41beef(0x1c8)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x528d91['Node'],'content':{'type':_0x23323b?_0x27f572[_0x41beef(0x435)]:_0x27f572[_0x41beef(0x364)],'id':this['id'],'displayName':this['getDisplayName'](),'email':this[_0x41beef(0x360)](),'rank':this['getRank'](),'remoteConnections':Array['from'](this[_0x41beef(0x208)]),'version':this['currentVersion']}});},0x3e8);}}}const _0x4636b1=[{'problemType':_0x47abe3[_0x23d54f(0x52e)],'remediations':[{'type':_0x222dd4[_0x23d54f(0x1ea)],'component':_0x4a46d7[_0x23d54f(0x3e5)],'action':_0x248a73['Downgrade']},{'type':_0x222dd4[_0x23d54f(0x2ec)],'component':_0x4a46d7['Resolution'],'action':_0x248a73[_0x23d54f(0x1c2)]}]},{'problemType':_0x47abe3[_0x23d54f(0x4ff)],'remediations':[{'type':_0x222dd4[_0x23d54f(0x1ea)],'component':_0x4a46d7[_0x23d54f(0x3e5)],'action':_0x248a73['Downgrade']}]},{'problemType':_0x47abe3[_0x23d54f(0x348)],'remediations':[{'type':_0x222dd4['Remediation'],'component':_0x4a46d7[_0x23d54f(0x3e5)],'action':_0x248a73[_0x23d54f(0x1c2)]}]},{'problemType':_0x47abe3[_0x23d54f(0x2e6)],'remediations':[{'type':_0x222dd4['Remediation'],'component':_0x4a46d7['Resolution'],'action':_0x248a73['Downgrade']}]},{'problemType':_0x47abe3[_0x23d54f(0x33f)],'remediations':[{'type':_0x222dd4[_0x23d54f(0x1ea)],'component':_0x4a46d7[_0x23d54f(0x33f)],'action':_0x248a73[_0x23d54f(0x1c2)]}]},{'problemType':_0x47abe3[_0x23d54f(0x468)],'remediations':[{'type':_0x222dd4[_0x23d54f(0x1ea)],'component':_0x4a46d7[_0x23d54f(0x33f)],'action':_0x248a73[_0x23d54f(0x1c2)]}]},{'problemType':_0x47abe3[_0x23d54f(0x42b)],'remediations':[{'type':_0x222dd4[_0x23d54f(0x1ea)],'component':_0x4a46d7[_0x23d54f(0x33f)],'action':_0x248a73[_0x23d54f(0x1c2)]}]}];class _0x1fa596{['configs'];['systemTopic'];[_0x23d54f(0x337)]=new Map();constructor(_0x180d02){const _0x386083=_0x23d54f;this[_0x386083(0x100)]=_0x180d02,this['configs'][_0x386083(0x52a)][_0x386083(0x43c)](this);}[_0x23d54f(0x168)](){const _0x20db8d=_0x23d54f;this['configs'][_0x20db8d(0x52a)][_0x20db8d(0x526)](this);}[_0x23d54f(0x5f5)](_0x4513f8){const _0x43a4ff=_0x23d54f;this[_0x43a4ff(0x1c8)]=_0x4513f8;}['unregisterSystemPublisher'](){const _0x389d5d=_0x23d54f;delete this[_0x389d5d(0x1c8)];}[_0x23d54f(0x26b)](_0x39deda){const _0xab2781=_0x23d54f;_0x39deda[_0xab2781(0x36e)][_0xab2781(0x30e)]===_0x4885b5[_0xab2781(0xfa)]&&this[_0xab2781(0x46d)](_0x39deda['content'][_0xab2781(0x530)]);}[_0x23d54f(0x261)](_0x6c0b45){const _0x5bf238=_0x23d54f;_0x6c0b45['content'][_0x5bf238(0x30e)]===_0x222dd4[_0x5bf238(0x2ec)]&&this['applyRemediation'](_0x6c0b45[_0x5bf238(0x49a)],{'type':_0x222dd4[_0x5bf238(0x1ea)],'component':_0x6c0b45[_0x5bf238(0x36e)][_0x5bf238(0x530)][_0x5bf238(0x642)],'action':_0x6c0b45[_0x5bf238(0x36e)][_0x5bf238(0x530)]['action']});}['handleProblem'](_0x2a8f6e){const _0x1e29d8=_0x23d54f,_0x47330f=_0x4636b1['find'](_0x478f5c=>_0x478f5c[_0x1e29d8(0x4cd)]===_0x2a8f6e[_0x1e29d8(0x30e)]);_0x47330f[_0x1e29d8(0x27b)]?.[_0x1e29d8(0x55e)](_0x116e06=>{const _0x49c888=_0x1e29d8;this[_0x49c888(0x50c)](_0x2a8f6e['userId'],{'type':_0x2a8f6e[_0x49c888(0xe0)]===_0x11e49a[_0x49c888(0x18e)]?_0x222dd4[_0x49c888(0x1ea)]:_0x222dd4['RemoteRemediation'],'component':_0x116e06[_0x49c888(0x642)],'action':_0x116e06[_0x49c888(0x3ec)]});});}['applyRemediation'](_0x2e752c,_0x464e8d){const _0xd1e418=_0x23d54f;if(_0x464e8d[_0xd1e418(0x30e)]===_0x222dd4[_0xd1e418(0x1ea)]){const _0x2f3de9=Date['now'](),_0xad570e=this[_0xd1e418(0x337)][_0xd1e418(0x1dc)](_0x2e752c);if(_0xad570e&&_0x2f3de9-_0xad570e<0x1388)return;this['lastRemediations'][_0xd1e418(0x151)](_0x2e752c,_0x2f3de9);}_0x2bad5b[_0xd1e418(0x4dc)](_0x4edace[_0xd1e418(0x1ea)],'Apply\x20remediation',_0x464e8d),_0x2bad5b[_0xd1e418(0x51a)](_0xd1e418(0x53c),{'clusterId':this[_0xd1e418(0x100)][_0xd1e418(0x486)],'userId':this[_0xd1e418(0x100)][_0xd1e418(0x122)],'remoteId':_0x2e752c,'data':{'type':_0x464e8d['type'],'component':_0x464e8d[_0xd1e418(0x642)],'action':_0x464e8d[_0xd1e418(0x3ec)]}});let _0x4f2676,_0x4261b4=_0x50c8f3;_0x464e8d['type']===_0x222dd4[_0xd1e418(0x2ec)]&&(_0x4261b4=this[_0xd1e418(0x100)]['localId'],_0x4f2676=[_0x2e752c]),this[_0xd1e418(0x1c8)][_0xd1e418(0x127)]({'sourceId':_0x4261b4,'destinationIds':_0x4f2676,'messageType':_0x528d91[_0xd1e418(0x1ea)],'content':{'type':_0x464e8d[_0xd1e418(0x30e)],'targetId':_0x2e752c,'data':_0x464e8d}});}}const _0x256540=0x3e8,_0x542c8c=0x7530,_0x178aed=_0x23d54f(0x5de),_0x2efab2='remote-inbound-rtp',_0x4397e2='inbound-rtp',_0x166caf=[_0x178aed,_0x2efab2],_0x5bdc9b=[_0x4397e2];class _0x28c859{[_0x23d54f(0xaa)]=0x0;['estimatedPlayoutTimestamp']=0x0;[_0x23d54f(0x3dd)]=0x0;[_0x23d54f(0x412)]=0x0;[_0x23d54f(0x191)]=0x0;['currentTimestamp']=0x0;[_0x23d54f(0x4bd)]=0x0;[_0x23d54f(0x57e)]=0x0;[_0x23d54f(0x3ae)]=0x0;get[_0x23d54f(0x14a)](){const _0x239f0d=_0x23d54f;return this['currentTimestamp']>0x0&&this[_0x239f0d(0x4bd)]>0x0&&Date['now']()-this['currentTimestamp']<_0x542c8c?(this['currentBytes']-this[_0x239f0d(0x3ae)])/(this['currentTimestamp']-this['previousTimestamp'])*0x8*0x3e8:0x0;}[_0x23d54f(0x331)](_0x3e82dd){const _0x53117b=_0x23d54f;switch(_0x3e82dd[_0x53117b(0x30e)]){case _0x4397e2:this[_0x53117b(0x1f9)](_0x3e82dd);break;case _0x178aed:this['processOutboundReport'](_0x3e82dd);break;case _0x2efab2:this['processRemoteInboundReport'](_0x3e82dd);}}[_0x23d54f(0x35a)](){const _0x182036=_0x23d54f;return{'bitrate':this['bitrate'],'packetsLostPerc':this['getPacketsLostPerc'](),'roundTripTime':this['roundTripTime'],'jitter':this[_0x182036(0x3dd)]};}[_0x23d54f(0x1f9)](_0x39d154){const _0x1139e0=_0x23d54f;this[_0x1139e0(0xbe)](_0x39d154[_0x1139e0(0x33b)]),this[_0x1139e0(0x22e)](_0x39d154[_0x1139e0(0x301)]),this[_0x1139e0(0x191)]=_0x39d154[_0x1139e0(0x15e)],this[_0x1139e0(0x412)]=_0x39d154[_0x1139e0(0x412)],void 0x0!==_0x39d154[_0x1139e0(0x3dd)]?this['jitter']=_0x39d154[_0x1139e0(0x3dd)]:this[_0x1139e0(0x3dd)]=0x0,void 0x0!==_0x39d154['estimatedPlayoutTimestamp']?this[_0x1139e0(0x162)]=_0x39d154[_0x1139e0(0x162)]:this[_0x1139e0(0x162)]=0x0;}[_0x23d54f(0x49f)](_0x4fd415){const _0x16a7ce=_0x23d54f;this[_0x16a7ce(0xbe)](_0x4fd415[_0x16a7ce(0x5f4)]),this[_0x16a7ce(0x22e)](_0x4fd415[_0x16a7ce(0x301)]),this[_0x16a7ce(0x191)]=_0x4fd415[_0x16a7ce(0x178)];}[_0x23d54f(0x244)](_0x11e3f1){const _0x54712c=_0x23d54f;this[_0x54712c(0xaa)]=0x3e8*_0x11e3f1['roundTripTime'],void 0x0!==_0x11e3f1['jitter']?this['jitter']=_0x11e3f1[_0x54712c(0x3dd)]:this[_0x54712c(0x3dd)]=0x0;}[_0x23d54f(0x1a5)](){const _0x2b6063=_0x23d54f;return this[_0x2b6063(0x191)]>0x0?this[_0x2b6063(0x412)]/this[_0x2b6063(0x191)]:0x0;}[_0x23d54f(0x22e)](_0x1e9178){const _0x106659=_0x23d54f;_0x1e9178>this[_0x106659(0x5a0)]&&(this['previousTimestamp']=this['currentTimestamp'],this[_0x106659(0x5a0)]=_0x1e9178);}[_0x23d54f(0xbe)](_0x36b84f){const _0x42f451=_0x23d54f;this[_0x42f451(0x3ae)]=this[_0x42f451(0x57e)],this['currentBytes']=_0x36b84f;}}class _0x4be093 extends _0x28c859{}class _0x2f0d0a extends _0x28c859{[_0x23d54f(0x513)]=0x0;['frameWidth']=0x0;[_0x23d54f(0x430)]=0x0;['currentFrames']=0x0;[_0x23d54f(0x108)]=0x0;get['fps'](){const _0x34db98=_0x23d54f;return this[_0x34db98(0x5a0)]>0x0&&this[_0x34db98(0x4bd)]>0x0&&Date['now']()-this['currentTimestamp']<_0x542c8c?(this[_0x34db98(0x3d2)]-this[_0x34db98(0x108)])/(this[_0x34db98(0x5a0)]-this[_0x34db98(0x4bd)])*0x3e8:0x0;}get['timePerFrame'](){const _0x2d9d04=_0x23d54f;return this[_0x2d9d04(0x513)]&&this[_0x2d9d04(0x3d2)]&&this[_0x2d9d04(0x3d2)]>0x0?this['frameTime']/this[_0x2d9d04(0x3d2)]:0x0;}set[_0x23d54f(0x194)](_0x1ce51b){const _0x35e4b3=_0x23d54f;this[_0x35e4b3(0x108)]=this[_0x35e4b3(0x3d2)],this[_0x35e4b3(0x3d2)]=_0x1ce51b;}[_0x23d54f(0x35a)](){const _0x5f0130=_0x23d54f;return{...super['getReport'](),'FPS':this[_0x5f0130(0x5ed)],'timePerFrame':this[_0x5f0130(0x458)],'frameWidth':this[_0x5f0130(0x32a)],'frameHeight':this[_0x5f0130(0x430)]};}[_0x23d54f(0x1f9)](_0x1da338){const _0x50b7fb=_0x23d54f;super[_0x50b7fb(0x1f9)](_0x1da338),this['frameTime']=_0x1da338[_0x50b7fb(0xc3)],this[_0x50b7fb(0x194)]=_0x1da338[_0x50b7fb(0x24a)],this[_0x50b7fb(0x32a)]=_0x1da338[_0x50b7fb(0x32a)],this['frameHeight']=_0x1da338[_0x50b7fb(0x430)];}[_0x23d54f(0x49f)](_0x928ebc){const _0x2b85b1=_0x23d54f;super[_0x2b85b1(0x49f)](_0x928ebc),this['frameTime']=_0x928ebc[_0x2b85b1(0x2e4)],this[_0x2b85b1(0x194)]=_0x928ebc[_0x2b85b1(0x384)],this[_0x2b85b1(0x32a)]=_0x928ebc[_0x2b85b1(0x32a)],this['frameHeight']=_0x928ebc[_0x2b85b1(0x430)];}}class _0x52487e{[_0x23d54f(0x11b)]=new _0x4be093();[_0x23d54f(0x55f)]=new _0x2f0d0a();get['bitrate'](){const _0x4af6af=_0x23d54f;return this[_0x4af6af(0x11b)]['bitrate']+this[_0x4af6af(0x55f)][_0x4af6af(0x14a)];}[_0x23d54f(0x37a)](_0x4a046e){const _0x50300c=_0x23d54f;return _0x4a046e[_0x50300c(0x55e)](_0xabc218=>{const _0x45f665=_0x50300c;switch(_0xabc218[_0x45f665(0x363)]){case'audio':this[_0x45f665(0x11b)][_0x45f665(0x331)](_0xabc218);break;case _0x45f665(0x55f):this[_0x45f665(0x55f)][_0x45f665(0x331)](_0xabc218);}}),this[_0x50300c(0x35a)]();}['getReport'](){const _0x197e0c=_0x23d54f;return{'audio':this['audio'][_0x197e0c(0x35a)](),'video':this[_0x197e0c(0x55f)][_0x197e0c(0x35a)](),'roundTripTime':this[_0x197e0c(0x327)](),'AudioVideoDelay':this[_0x197e0c(0x153)](),'bitrate':this[_0x197e0c(0x14a)]};}[_0x23d54f(0x327)](){const _0x1921b3=_0x23d54f;return Math['floor']((this[_0x1921b3(0x11b)][_0x1921b3(0xaa)]+this[_0x1921b3(0x55f)][_0x1921b3(0xaa)])/0x2);}[_0x23d54f(0x153)](){const _0x8f104e=_0x23d54f;return this['audio'][_0x8f104e(0x162)]-this[_0x8f104e(0x55f)][_0x8f104e(0x162)];}}class _0x10a91a{[_0x23d54f(0x222)]=0x0;[_0x23d54f(0x2f1)]=0x0;[_0x23d54f(0x228)]=0x0;['receiverPreviousTimestamp']=0x0;[_0x23d54f(0x556)]=0x0;[_0x23d54f(0x218)]=0x0;[_0x23d54f(0x9f)]=0x0;[_0x23d54f(0x5ad)]=0x0;['senderTotalMessages']=0x0;[_0x23d54f(0x509)]=0x0;[_0x23d54f(0x19e)]=0x0;[_0x23d54f(0x3e8)]=0x0;['roundTripTime']=0x0;get['bitrate'](){const _0x583b87=_0x23d54f;return this[_0x583b87(0x2e8)]+this[_0x583b87(0x14e)];}get[_0x23d54f(0x2e8)](){const _0x7987ef=_0x23d54f;return this[_0x7987ef(0x222)]>0x0&&this[_0x7987ef(0x2f1)]>0x0&&Date[_0x7987ef(0x111)]()-this[_0x7987ef(0x222)]<_0x542c8c?(this[_0x7987ef(0x556)]-this[_0x7987ef(0x218)])/(this['senderCurrentTimestamp']-this[_0x7987ef(0x2f1)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x3f32bb=_0x23d54f;return this['receiverCurrentTimestamp']>0x0&&this[_0x3f32bb(0xa4)]>0x0&&Date['now']()-this['receiverCurrentTimestamp']<_0x542c8c?(this[_0x3f32bb(0x9f)]-this['receiverPreviousBytes'])/(this[_0x3f32bb(0x228)]-this[_0x3f32bb(0xa4)])*0x8*0x3e8:0x0;}['processReport'](_0xd70729){const _0xd320b1=_0x23d54f;switch(_0xd70729[_0xd320b1(0xe0)]){case _0x11e49a[_0xd320b1(0x18e)]:this['processSenderReport'](_0xd70729);break;case _0x11e49a[_0xd320b1(0x5b4)]:this[_0xd320b1(0xab)](_0xd70729);}}['getReport'](){const _0x364485=_0x23d54f;return{'bitrate':this[_0x364485(0x14a)],'senderBitrate':this[_0x364485(0x2e8)],'receiverBitrate':this[_0x364485(0x14e)],'totalBytes':this[_0x364485(0x542)](),'senderTotalBytes':this[_0x364485(0x63b)](),'receiverTotalBytes':this[_0x364485(0x16e)](),'totalMessages':this[_0x364485(0x19a)]+this[_0x364485(0x509)],'senderTotalMessages':this[_0x364485(0x19a)],'receiverTotalMessages':this[_0x364485(0x509)],'timeProcessing':this[_0x364485(0x19e)]+this[_0x364485(0x3e8)],'senderTimeProcessing':this[_0x364485(0x19e)],'receiverTimeProcessing':this[_0x364485(0x3e8)],'roundTripTime':this[_0x364485(0xaa)]};}[_0x23d54f(0x542)](){return this['senderCurrentBytes']+this['receiverCurrentBytes'];}['getSenderTotalBytes'](){const _0x12913f=_0x23d54f;return this[_0x12913f(0x556)];}['getReceiverTotalBytes'](){const _0x2deecf=_0x23d54f;return this[_0x2deecf(0x9f)];}[_0x23d54f(0x3c7)](_0x2295f5){const _0x29fda4=_0x23d54f;this[_0x29fda4(0x25f)](_0x2295f5[_0x29fda4(0x301)]),this[_0x29fda4(0xbe)](_0x2295f5[_0x29fda4(0x5f4)]),this['senderTotalMessages']=_0x2295f5[_0x29fda4(0x276)],this['senderTimeProcessing']=_0x2295f5[_0x29fda4(0x1df)],this[_0x29fda4(0xaa)]=_0x2295f5[_0x29fda4(0xaa)];}[_0x23d54f(0xab)](_0x568d12){const _0x4bfd5a=_0x23d54f;this[_0x4bfd5a(0x21a)](_0x568d12[_0x4bfd5a(0x301)]),this[_0x4bfd5a(0x209)](_0x568d12[_0x4bfd5a(0x33b)]),this[_0x4bfd5a(0x509)]=_0x568d12[_0x4bfd5a(0x579)],this['receiverTimeProcessing']=_0x568d12[_0x4bfd5a(0x24d)];}['setSenderTimestamp'](_0x5c7200){const _0xc99c0f=_0x23d54f;_0x5c7200>this[_0xc99c0f(0x222)]&&(this[_0xc99c0f(0x2f1)]=this['senderCurrentTimestamp'],this[_0xc99c0f(0x222)]=_0x5c7200);}[_0x23d54f(0x21a)](_0x1b7aae){const _0x25254b=_0x23d54f;_0x1b7aae>this[_0x25254b(0x228)]&&(this[_0x25254b(0xa4)]=this[_0x25254b(0x228)],this['receiverCurrentTimestamp']=_0x1b7aae);}['setBytes'](_0x490a8e){const _0x391b5b=_0x23d54f;this[_0x391b5b(0x218)]=this[_0x391b5b(0x556)],this[_0x391b5b(0x556)]=_0x490a8e;}['setReceiverBytes'](_0x4ec89c){const _0x18fd75=_0x23d54f;this[_0x18fd75(0x5ad)]=this[_0x18fd75(0x9f)],this[_0x18fd75(0x9f)]=_0x4ec89c;}}class _0x1895d6{[_0x23d54f(0x323)]=new Map();[_0x23d54f(0x437)]=new Map();['dataChannel']=new _0x10a91a();get[_0x23d54f(0x2e8)](){const _0x3d7998=_0x23d54f;let _0x34a88d=0x0;return this[_0x3d7998(0x323)][_0x3d7998(0x55e)](_0x303322=>{const _0x3ff871=_0x3d7998;_0x34a88d+=_0x303322[_0x3ff871(0x14a)];}),_0x34a88d+=this['dataChannel'][_0x3d7998(0x2e8)],_0x34a88d;}get[_0x23d54f(0x14e)](){const _0xd4ca03=_0x23d54f;let _0x3b944e=0x0;return this[_0xd4ca03(0x437)][_0xd4ca03(0x55e)](_0x8e8dca=>{_0x3b944e+=_0x8e8dca['bitrate'];}),_0x3b944e+=this[_0xd4ca03(0x353)][_0xd4ca03(0x14e)],_0x3b944e;}get[_0x23d54f(0x14a)](){const _0x507c37=_0x23d54f;return this[_0x507c37(0x2e8)]+this[_0x507c37(0x14e)];}['processReports'](_0x5ad6e6,_0x30bc41){const _0xca4ab2=_0x23d54f,_0x356fbb=[],_0x567d69=[];return _0x5ad6e6 instanceof Array?_0x5ad6e6[_0xca4ab2(0x55e)](_0x58db97=>{const _0x4d0bd3=_0xca4ab2;_0x58db97[_0x4d0bd3(0x55e)](_0x276030=>{const _0x4f883f=_0x4d0bd3;_0x5bdc9b[_0x4f883f(0xc6)](_0x276030['type'])&&_0x356fbb['push'](_0x276030),_0x166caf[_0x4f883f(0xc6)](_0x276030[_0x4f883f(0x30e)])&&_0x567d69['push'](_0x276030);});}):this['dataChannel']['processReport'](_0x5ad6e6),_0x356fbb[_0xca4ab2(0xa9)]>0x0&&_0x30bc41?{...this['processInboundReports'](_0x30bc41,_0x356fbb),'origin':_0x11e49a[_0xca4ab2(0x5b4)],'streamId':_0x30bc41}:_0x567d69['length']>0x0&&_0x30bc41?{...this['processOutboundReports'](_0x30bc41,_0x567d69),'origin':_0x11e49a[_0xca4ab2(0x18e)],'streamId':_0x30bc41}:void 0x0;}[_0x23d54f(0x35a)](){const _0x34579b=_0x23d54f,_0x5c7b8f={};this['senderStreams'][_0x34579b(0x55e)]((_0x53503b,_0x27907f)=>{const _0x4b8046=_0x34579b;_0x5c7b8f[_0x27907f]=_0x53503b[_0x4b8046(0x35a)]();});const _0x31eec4={};return this[_0x34579b(0x437)]['forEach']((_0x5c7eed,_0x4adbd9)=>{const _0x41fcbb=_0x34579b;_0x31eec4[_0x4adbd9]=_0x5c7eed[_0x41fcbb(0x35a)]();}),{'bitrate':this[_0x34579b(0x14a)],'senderBitrate':this[_0x34579b(0x2e8)],'receiverBitrate':this[_0x34579b(0x14e)],'senderStreams':_0x5c7b8f,'receiverStreams':_0x31eec4,'dataChannel':this['dataChannel'][_0x34579b(0x35a)]()};}[_0x23d54f(0x2f6)](_0x3cd9a8,_0x4b4e32){const _0x165745=_0x23d54f;return this['receiverStreams'][_0x165745(0x201)](_0x3cd9a8)||this[_0x165745(0x437)][_0x165745(0x151)](_0x3cd9a8,new _0x52487e()),this[_0x165745(0x437)]['get'](_0x3cd9a8)[_0x165745(0x37a)](_0x4b4e32);}[_0x23d54f(0x41a)](_0x5730d8,_0x2c9ca7){const _0x47970a=_0x23d54f;return this[_0x47970a(0x323)][_0x47970a(0x201)](_0x5730d8)||this[_0x47970a(0x323)]['set'](_0x5730d8,new _0x52487e()),this['senderStreams'][_0x47970a(0x1dc)](_0x5730d8)[_0x47970a(0x37a)](_0x2c9ca7);}}class _0x297ec1{[_0x23d54f(0x4f3)]=new Map();[_0x23d54f(0x296)]=0x0;[_0x23d54f(0x47c)]=0x0;['pubsubTopics']=new Map();['objectStores']=new Map();[_0x23d54f(0x1a1)]=new Map();[_0x23d54f(0x19a)]=new Map();['receiverTotalMessages']=new Map();[_0x23d54f(0x19e)]=new Map();[_0x23d54f(0x3e8)]=new Map();['systemMessages']=new Map();['systemTopic'];['getReport'](){const _0xb6fe57=_0x23d54f,_0x3cc666={};this['users'][_0xb6fe57(0x55e)]((_0x8a0589,_0x41f12f)=>{const _0xf6ed85=_0xb6fe57;_0x3cc666[_0x41f12f]=_0x8a0589[_0xf6ed85(0x35a)]();});let _0x13f96b=0x0;this['senderTimeProcessing'][_0xb6fe57(0x55e)](_0x3edd4a=>{_0x13f96b+=_0x3edd4a;});let _0x93b8ff=0x0;this[_0xb6fe57(0x3e8)][_0xb6fe57(0x55e)](_0x31f942=>{_0x93b8ff+=_0x31f942;});const _0x572187=_0x13f96b+_0x93b8ff;let _0x48c3fb={'messages':{'total':0x0}};this[_0xb6fe57(0x1c4)][_0xb6fe57(0x55e)](_0x1d0b53=>{const _0x21a09b=_0xb6fe57;Object['keys'](_0x1d0b53)[_0x21a09b(0x55e)](_0x1aa048=>{const _0x3dfcfb=_0x21a09b;_0x48c3fb[_0x1aa048]||(_0x48c3fb[_0x1aa048]={}),Object[_0x3dfcfb(0x1b8)](_0x1d0b53[_0x1aa048])[_0x3dfcfb(0x55e)](_0x34fbd9=>{_0x48c3fb[_0x1aa048][_0x34fbd9]||(_0x48c3fb[_0x1aa048][_0x34fbd9]=0x0),_0x48c3fb[_0x1aa048][_0x34fbd9]+=_0x1d0b53[_0x1aa048][_0x34fbd9];});});});let _0xfb9e74=0x0,_0x8c2853=0x0,_0x47759c=0x0,_0x2fc7ee=0x0,_0x5c2b63=0x0;return this[_0xb6fe57(0x20c)][_0xb6fe57(0x55e)](_0x257f2a=>{const _0x9a3a17=_0xb6fe57;_0x8c2853+=_0x257f2a[_0x9a3a17(0x276)],_0x47759c+=_0x257f2a[_0x9a3a17(0x579)],_0x2fc7ee+=_0x257f2a[_0x9a3a17(0x5f4)],_0x5c2b63+=_0x257f2a[_0x9a3a17(0x33b)];}),this[_0xb6fe57(0x46f)][_0xb6fe57(0x55e)](_0x4543ae=>{const _0x28a1c1=_0xb6fe57;_0xfb9e74+=_0x4543ae[_0x28a1c1(0x134)],_0x8c2853+=_0x4543ae[_0x28a1c1(0x276)],_0x47759c+=_0x4543ae[_0x28a1c1(0x579)],_0x2fc7ee+=_0x4543ae[_0x28a1c1(0x5f4)],_0x5c2b63+=_0x4543ae[_0x28a1c1(0x33b)];}),this[_0xb6fe57(0x1a1)][_0xb6fe57(0x55e)](_0x32569d=>{const _0x66a732=_0xb6fe57;_0xfb9e74+=_0x32569d[_0x66a732(0x134)],_0x8c2853+=_0x32569d[_0x66a732(0x276)],_0x47759c+=_0x32569d[_0x66a732(0x579)],_0x2fc7ee+=_0x32569d[_0x66a732(0x5f4)],_0x5c2b63+=_0x32569d[_0x66a732(0x33b)];}),{'STVolatility':this[_0xb6fe57(0x30a)](),'DTVolatility':this[_0xb6fe57(0x618)](),'bitrate':this[_0xb6fe57(0x320)](),'senderBitrate':this[_0xb6fe57(0x16a)](),'receiverBitrate':this[_0xb6fe57(0x33d)](),'totalStorageSize':_0xfb9e74,'totalMessages':_0x8c2853+_0x47759c,'totalMessagesSent':_0x8c2853,'totalMessagesReceived':_0x47759c,'totalBytes':_0x2fc7ee+_0x5c2b63,'totalBytesSent':_0x2fc7ee,'totalBytesReceived':_0x5c2b63,'systemMessages':_0x48c3fb,'timeProcessing':_0x572187,'users':_0x3cc666,'pubsubTopics':Object[_0xb6fe57(0x3b6)](this['pubsubTopics']),'objectStores':Object[_0xb6fe57(0x3b6)](this[_0xb6fe57(0x46f)]),'keyValueDatabases':Object['fromEntries'](this[_0xb6fe57(0x1a1)])};}[_0x23d54f(0x15b)](_0x1612c5){const _0x463829=_0x23d54f;this[_0x463829(0x4f3)][_0x463829(0x151)](_0x1612c5,new _0x1895d6());}[_0x23d54f(0x46e)](_0x3a3ea9){const _0x1dcc36=_0x23d54f;this[_0x1dcc36(0x4f3)][_0x1dcc36(0x114)](_0x3a3ea9);}[_0x23d54f(0x37a)](_0x5afdc4,_0x2abd8d,_0x26ef69){const _0x4a9308=_0x23d54f;_0x2abd8d instanceof Array||this[_0x4a9308(0x16c)](_0x5afdc4,_0x2abd8d);const _0x40b3b8=this[_0x4a9308(0x4f3)]['get'](_0x5afdc4)?.[_0x4a9308(0x37a)](_0x2abd8d,_0x26ef69);_0x40b3b8&&this['systemTopic'][_0x4a9308(0x127)]({'sourceId':_0x50c8f3,'messageType':_0x528d91[_0x4a9308(0x627)],'content':{'type':_0xaf89a6[_0x4a9308(0x615)],'data':{..._0x40b3b8,'userId':_0x5afdc4}}});}[_0x23d54f(0x1f3)](_0x47a45c){const _0x50cf4a=_0x23d54f;this[_0x50cf4a(0x4b7)](_0x47a45c[_0x50cf4a(0x3fa)]),this[_0x50cf4a(0x470)](_0x47a45c['durationTime']),this[_0x50cf4a(0x1c8)][_0x50cf4a(0x127)]({'sourceId':_0x50c8f3,'messageType':_0x528d91['Stats'],'content':{'type':_0xaf89a6[_0x50cf4a(0x200)],'data':{'STVolatility':this[_0x50cf4a(0x30a)](),'DTVolatility':this[_0x50cf4a(0x618)]()}}});}[_0x23d54f(0x5bd)](_0x214e51,_0x65b753,_0x50f525){const _0x3f6477=_0x23d54f;switch(_0x65b753){case _0x2e4279['PubSubTopicStats']:this[_0x3f6477(0x20c)][_0x3f6477(0x151)](_0x214e51,_0x50f525);break;case _0x2e4279[_0x3f6477(0x346)]:this[_0x3f6477(0x46f)][_0x3f6477(0x151)](_0x214e51,_0x50f525);break;case _0x2e4279[_0x3f6477(0xd6)]:this[_0x3f6477(0x1a1)]['set'](_0x214e51,_0x50f525);}}[_0x23d54f(0x5f5)](_0x5a671a){const _0x544309=_0x23d54f;this[_0x544309(0x1c8)]=_0x5a671a;}[_0x23d54f(0x3cc)](){const _0x2d4acd=_0x23d54f;delete this[_0x2d4acd(0x1c8)];}[_0x23d54f(0x30a)](){const _0x549a51=_0x23d54f;return this['scheduleTime']>0x0&&this[_0x549a51(0x296)]-_0x256540>0x0?(this[_0x549a51(0x296)]-_0x256540)/_0x256540:0x0;}[_0x23d54f(0x618)](){const _0x5d7009=_0x23d54f;return this[_0x5d7009(0x47c)]>0x0&&this[_0x5d7009(0x47c)]-0x64>0x0?(this[_0x5d7009(0x47c)]-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x14e182=_0x23d54f;let _0x35f23d=0x0;return this[_0x14e182(0x4f3)][_0x14e182(0x55e)](_0x40bcf7=>{const _0x4b089d=_0x14e182;_0x35f23d+=_0x40bcf7[_0x4b089d(0x2e8)];}),_0x35f23d;}[_0x23d54f(0x33d)](){const _0x4005d2=_0x23d54f;let _0x1656e9=0x0;return this['users'][_0x4005d2(0x55e)](_0x1a8bb3=>{_0x1656e9+=_0x1a8bb3['receiverBitrate'];}),_0x1656e9;}[_0x23d54f(0x320)](){const _0x2c703b=_0x23d54f;let _0xb86d5b=0x0;return this[_0x2c703b(0x4f3)]['forEach'](_0x20391f=>{const _0x51f4d3=_0x2c703b;_0xb86d5b+=_0x20391f[_0x51f4d3(0x14a)];}),_0xb86d5b;}['setScheduleTime'](_0x371cf2){const _0x6f9140=_0x23d54f;this[_0x6f9140(0x296)]=_0x371cf2;}['setDurationTime'](_0x31d01a){this['durationTime']=_0x31d01a;}[_0x23d54f(0x16c)](_0x6b6bfa,_0x73734a){const _0x4e96b4=_0x23d54f;switch(_0x73734a[_0x4e96b4(0xe0)]){case _0x11e49a[_0x4e96b4(0x18e)]:this[_0x4e96b4(0x3c7)](_0x6b6bfa,_0x73734a);break;case _0x11e49a[_0x4e96b4(0x5b4)]:this[_0x4e96b4(0xab)](_0x6b6bfa,_0x73734a);}}[_0x23d54f(0x3c7)](_0x1447f3,_0x1f8265){const _0x595ea8=_0x23d54f;this['senderTotalMessages'][_0x595ea8(0x151)](_0x1447f3,_0x1f8265['messagesSent']),this[_0x595ea8(0x19e)][_0x595ea8(0x151)](_0x1447f3,_0x1f8265[_0x595ea8(0x1df)]);}[_0x23d54f(0xab)](_0xa46a00,_0x30de97){const _0x4988d8=_0x23d54f;this[_0x4988d8(0x509)][_0x4988d8(0x151)](_0xa46a00,_0x30de97[_0x4988d8(0x579)]),this[_0x4988d8(0x3e8)][_0x4988d8(0x151)](_0xa46a00,_0x30de97['timeReceiving']),this[_0x4988d8(0x1c4)][_0x4988d8(0x151)](_0xa46a00,_0x30de97['systemMessages']);}}class _0x20dc5a{['configs'];[_0x23d54f(0x132)]=new Set();[_0x23d54f(0x42c)];[_0x23d54f(0x370)];[_0x23d54f(0x5ce)];[_0x23d54f(0x21e)]=new _0x297ec1();constructor(_0x33af0f){const _0x3fcc14=_0x23d54f;this[_0x3fcc14(0x100)]=_0x33af0f,this['configs']['mediator'][_0x3fcc14(0x43c)](this['statsReport']),this['statsCollection']=this[_0x3fcc14(0x32c)](),this[_0x3fcc14(0x5ce)]=this[_0x3fcc14(0x4f2)]();}['close'](){const _0x14a9cc=_0x23d54f;this[_0x14a9cc(0x100)][_0x14a9cc(0x52a)][_0x14a9cc(0x526)](this[_0x14a9cc(0x21e)]),this[_0x14a9cc(0x5ce)](),this['statsCollection']();}[_0x23d54f(0x15b)](_0x44283d){const _0xa32fa5=_0x23d54f;this[_0xa32fa5(0x132)][_0xa32fa5(0xf5)](_0x44283d),this[_0xa32fa5(0x21e)][_0xa32fa5(0x15b)](_0x44283d);}[_0x23d54f(0x46e)](_0x5bb71b){const _0x550197=_0x23d54f;this[_0x550197(0x132)][_0x550197(0x114)](_0x5bb71b),this['statsReport'][_0x550197(0x46e)](_0x5bb71b);}[_0x23d54f(0x3c1)](_0x78d300){const _0xc52053=_0x23d54f;if(_0x78d300[_0xc52053(0x36e)][_0xc52053(0x30e)]===_0x2a4dd2['Stats']){const {userId:_0x453f65,streamId:_0x377a13,stats:_0x373215}=_0x78d300[_0xc52053(0x36e)];this['statsReport']['processReports'](_0x453f65,_0x373215,_0x377a13);}}[_0x23d54f(0x2d5)](_0x384e16){const _0x51983e=_0x23d54f;switch(_0x384e16['content'][_0x51983e(0x30e)]){case _0x2e4279[_0x51983e(0x346)]:case _0x2e4279[_0x51983e(0xd6)]:case _0x2e4279[_0x51983e(0x47d)]:this[_0x51983e(0x21e)][_0x51983e(0x5bd)](_0x384e16[_0x51983e(0x36e)][_0x51983e(0x24c)],_0x384e16[_0x51983e(0x36e)][_0x51983e(0x30e)],_0x384e16[_0x51983e(0x36e)][_0x51983e(0x21c)]);}}[_0x23d54f(0x4f2)](){const _0x2d0da5=_0x23d54f;return _0x2aa01e[_0x2d0da5(0x158)](()=>{const _0x2241cb=_0x2d0da5,_0xf5bd3f=this[_0x2241cb(0x21e)]['getReport']();_0x2bad5b[_0x2241cb(0x4dc)](_0x4edace[_0x2241cb(0x627)],_0x2241cb(0x4be),_0xf5bd3f),(0x0,_0x3b912a[_0x2241cb(0x329)])((0x0,_0x3b912a['collection'])(_0x30a96f[_0x2241cb(0x204)](),_0x2241cb(0x344)+this[_0x2241cb(0x100)][_0x2241cb(0x455)]+_0x2241cb(0x467)),{'clusterId':this[_0x2241cb(0x100)]['clusterId'],'userId':this[_0x2241cb(0x100)][_0x2241cb(0x122)],'timestamp':(0x0,_0x3b912a[_0x2241cb(0x5c1)])(),'report':_0xf5bd3f}),_0x2bad5b['logEvent']('stats',{'clusterId':this[_0x2241cb(0x100)][_0x2241cb(0x486)],'userId':this[_0x2241cb(0x100)][_0x2241cb(0x122)],'data':{'report':_0xf5bd3f}});},_0x542c8c);}['setupStatsCollection'](){const _0x19092d=_0x23d54f;let _0x56a82a=!0x1,_0xa2205a=Date[_0x19092d(0x111)]();return _0x2aa01e[_0x19092d(0x158)](async()=>{const _0x212671=_0x19092d;if(_0x56a82a)return;if(_0x56a82a=!0x0,0x0===this[_0x212671(0x132)][_0x212671(0x4ba)])return delete this['nextUserId'],void(_0x56a82a=!0x1);const _0x363483=Date[_0x212671(0x111)]();this[_0x212671(0x27d)]();try{await this['configs'][_0x212671(0x52a)][_0x212671(0x2f4)](this[_0x212671(0x42c)]);}catch(_0x365d9c){}this[_0x212671(0x21e)][_0x212671(0x1f3)]({'secheduleTime':_0x363483-_0xa2205a,'durationTime':Date[_0x212671(0x111)]()-_0x363483}),_0xa2205a=_0x363483,_0x56a82a=!0x1;},_0x256540);}[_0x23d54f(0x27d)](){const _0x2a8911=_0x23d54f;let _0x452f0e,_0x36ca1e=!0x1;this[_0x2a8911(0x42c)]&&(this[_0x2a8911(0x132)][_0x2a8911(0x201)](this[_0x2a8911(0x42c)])||delete this[_0x2a8911(0x42c)]);for(const _0x631b7b of this[_0x2a8911(0x132)])if(_0x452f0e||(_0x452f0e=_0x631b7b),this[_0x2a8911(0x42c)]!==_0x631b7b){if(_0x36ca1e)return void(this[_0x2a8911(0x42c)]=_0x631b7b);}else _0x36ca1e=!0x0,delete this[_0x2a8911(0x42c)];this[_0x2a8911(0x42c)]||(this[_0x2a8911(0x42c)]=_0x452f0e);}}class _0x25d2f6{[_0x23d54f(0x5b1)];[_0x23d54f(0xde)];[_0x23d54f(0x1c8)];constructor(_0x2b4db9,_0x3ef119){const _0x520e4a=_0x23d54f;this['source']=_0x2b4db9,this[_0x520e4a(0xde)]=_0x3ef119;}['registerSystemPublisher'](_0x516959){const _0x4290cc=_0x23d54f;this[_0x4290cc(0x1c8)]=_0x516959;}['unregisterSystemPublisher'](){const _0x708e7d=_0x23d54f;delete this[_0x708e7d(0x1c8)];}}class _0x4af811 extends _0x25d2f6{['source'];[_0x23d54f(0xde)];[_0x23d54f(0x185)];constructor(_0x1ed050,_0x47e4cd,_0x41b1dd){const _0x1c06be=_0x23d54f;super(_0x1ed050,_0x47e4cd),this['source']=_0x1ed050,this[_0x1c06be(0xde)]=_0x47e4cd,this['params']=_0x41b1dd;}[_0x23d54f(0x308)](_0x5dba6e,_0x174810,_0x4aa204){const _0xbf4562=_0x23d54f;if(this[_0xbf4562(0xde)][_0xbf4562(0x2b9)]()===_0x49643d[_0xbf4562(0x265)]){const _0x1d2786={'type':_0x2b8c9a['SubscribeMediaStream'],'label':this[_0xbf4562(0xde)][_0xbf4562(0xc7)](),'ownerId':_0x5dba6e,'trackKinds':_0x174810??this[_0xbf4562(0xde)][_0xbf4562(0x1aa)](),'params':_0x4aa204};this[_0xbf4562(0x1c8)][_0xbf4562(0x127)]({'sourceId':this[_0xbf4562(0x5b1)]['getLocalId'](),'destinationIds':[this[_0xbf4562(0x5b1)][_0xbf4562(0x1fc)]()],'messageType':_0x528d91[_0xbf4562(0x24f)],'content':_0x1d2786}),this[_0xbf4562(0x185)]=_0x4aa204;}}[_0x23d54f(0x273)](_0x4efcf0,_0x467949){const _0x34208e=_0x23d54f;if(this[_0x34208e(0xde)][_0x34208e(0x2b9)]()===_0x49643d['Media']){const _0x28db29={'type':_0x2b8c9a[_0x34208e(0x359)],'label':this[_0x34208e(0xde)][_0x34208e(0xc7)](),'ownerId':_0x4efcf0,'params':_0x467949};this['systemTopic'][_0x34208e(0x127)]({'sourceId':this[_0x34208e(0x5b1)][_0x34208e(0x622)](),'destinationIds':[this['source'][_0x34208e(0x1fc)]()],'messageType':_0x528d91['Subscription'],'content':_0x28db29}),this['params']=_0x467949;}}[_0x23d54f(0x3e0)](_0xe52685,_0x39bc71,_0x25cfe9){const _0x3de715=_0x23d54f;if(this[_0x3de715(0xde)][_0x3de715(0x2b9)]()===_0x49643d[_0x3de715(0x265)]){const _0x11a7e2={'type':_0x2b8c9a[_0x3de715(0x1dd)],'label':this[_0x3de715(0xde)][_0x3de715(0xc7)](),'ownerId':_0xe52685,'trackKinds':_0x25cfe9??this['destination'][_0x3de715(0x1aa)](),'remainingTracks':_0x39bc71};this[_0x3de715(0x1c8)][_0x3de715(0x127)]({'sourceId':this[_0x3de715(0x5b1)]['getLocalId'](),'destinationIds':[this['source'][_0x3de715(0x1fc)]()],'messageType':_0x528d91[_0x3de715(0x24f)],'content':_0x11a7e2});}}}class _0x252b37{[_0x23d54f(0x147)];[_0x23d54f(0x38c)];[_0x23d54f(0x440)];[_0x23d54f(0x1c8)];[_0x23d54f(0x2d4)]=new Set();['startTime']=Date[_0x23d54f(0x111)]();[_0x23d54f(0x185)];[_0x23d54f(0x29d)]=0x0;constructor(_0x2936b4,_0x1d48d3,_0x5da1ca,_0x4beecd){const _0x1731af=_0x23d54f;this['currentDistance']=_0x1d48d3,this[_0x1731af(0x38c)]=_0x5da1ca,this[_0x1731af(0x440)]=_0x4beecd,_0x2936b4[_0x1731af(0x55e)](_0x1ffb0d=>{const _0x1a3d9a=_0x1731af;this['answers']['add']({'userId':_0x1ffb0d,'type':_0x247439[_0x1a3d9a(0x29b)]});});}['getTracks'](){const _0x5cbdc4=_0x23d54f;return this[_0x5cbdc4(0x440)];}['registerSystemPublisher'](_0x48b3dc){const _0x26d3d3=_0x23d54f;this[_0x26d3d3(0x1c8)]=_0x48b3dc;}['unregisterSystemPublisher'](){const _0x5214ad=_0x23d54f;delete this[_0x5214ad(0x1c8)];}[_0x23d54f(0x434)](_0x2508e9,_0x1d7a58){const _0x4df585=_0x23d54f;this[_0x4df585(0x2a9)]=Date['now'](),this[_0x4df585(0x2d4)][_0x4df585(0x2e1)](),_0x2508e9[_0x4df585(0x55e)](_0x54aaff=>{const _0x2d98c7=_0x4df585;this[_0x2d98c7(0x2d4)][_0x2d98c7(0xf5)]({'userId':_0x54aaff,'type':_0x247439['Waiting']});}),this[_0x4df585(0x29d)]+=0x1,this[_0x4df585(0x147)]=_0x1d7a58;}['sendRequest'](_0x1f32e4,_0x25b3a2,_0x5b5a45,_0x3e92e1,_0xc7ee7d){const _0x1d09c5=_0x23d54f;if(this[_0x1d09c5(0x29d)]>0xa)throw new _0x4ad60f(_0x4ad60f[_0x1d09c5(0x34c)][_0x1d09c5(0x2c8)],{'answers':Array['from'](this['answers'])[_0x1d09c5(0xc8)](_0x764ead=>({'userId':_0x764ead[_0x1d09c5(0x4fb)],'type':_0x764ead[_0x1d09c5(0x30e)]}))});const _0x3debdb=Array[_0x1d09c5(0x53f)](this[_0x1d09c5(0x2d4)])['map'](_0x3f77ad=>_0x3f77ad[_0x1d09c5(0x4fb)]);this['params']=_0xc7ee7d,this[_0x1d09c5(0x1c8)][_0x1d09c5(0x127)]({'sourceId':_0x1f32e4,'destinationIds':_0x3debdb,'messageType':_0x528d91[_0x1d09c5(0x24f)],'content':{'type':_0x2b8c9a[_0x1d09c5(0x10a)],'label':_0x5b5a45,'ownerId':_0x25b3a2,'trackKinds':_0x3e92e1,'params':_0xc7ee7d}}),_0x2bad5b[_0x1d09c5(0x4dc)](_0x4edace[_0x1d09c5(0x24f)],_0x1d09c5(0x22c),_0x1f32e4,_0x3debdb);}[_0x23d54f(0xb5)](_0x372c5a,_0x4652b0){const _0x1c546b=_0x23d54f;switch(_0x4652b0[_0x1c546b(0x30e)]){case _0x2b8c9a['CanProvideMediaStream']:{const _0x3e766f=this['currentDistance']>=_0x4652b0['distance']&&_0x4652b0['distance']<=this[_0x1c546b(0x38c)],_0x43717b=Array[_0x1c546b(0x53f)](this[_0x1c546b(0x2d4)])[_0x1c546b(0xad)](_0x15527f=>_0x15527f[_0x1c546b(0x4fb)]===_0x372c5a);_0x43717b[_0x1c546b(0x30e)]=_0x3e766f?_0x247439[_0x1c546b(0xf7)]:_0x247439[_0x1c546b(0x246)],_0x43717b[_0x1c546b(0x369)]=_0x4652b0[_0x1c546b(0x369)],_0x43717b[_0x1c546b(0x34f)]=_0x4652b0[_0x1c546b(0x34f)],_0x43717b['streamId']=_0x4652b0[_0x1c546b(0x60e)],_0x43717b[_0x1c546b(0xaa)]=Date[_0x1c546b(0x111)]()-this[_0x1c546b(0x2a9)],_0x43717b[_0x1c546b(0x185)]=this[_0x1c546b(0x185)],_0x43717b[_0x1c546b(0x577)]=_0x4652b0['ownerId'],_0x43717b['trackKinds']=_0x4652b0[_0x1c546b(0x44b)],_0x43717b['streamLabel']=_0x4652b0['label'],_0x2bad5b[_0x1c546b(0x4dc)](_0x4edace[_0x1c546b(0x24f)],(_0x3e766f?'Accepted':_0x1c546b(0x246))+_0x1c546b(0x623),_0x43717b);break;}case _0x2b8c9a['CannotProvideMediaStream']:{const _0x39990b=Array['from'](this['answers'])[_0x1c546b(0xad)](_0x2b8195=>_0x2b8195[_0x1c546b(0x4fb)]===_0x372c5a);_0x39990b[_0x1c546b(0x30e)]=_0x247439['Rejected'],_0x2bad5b['log'](_0x4edace[_0x1c546b(0x24f)],'Rejected\x20answer',_0x39990b);break;}}if(this[_0x1c546b(0x50a)]())return this[_0x1c546b(0x4e8)]();}[_0x23d54f(0x4e8)](){const _0x3e64e9=_0x23d54f,_0x24c3a7=Array[_0x3e64e9(0x53f)](this[_0x3e64e9(0x2d4)])['filter'](_0x3c5c56=>_0x3c5c56[_0x3e64e9(0x30e)]===_0x247439[_0x3e64e9(0xf7)])['sort']((_0x27ad55,_0x13b459)=>_0x27ad55[_0x3e64e9(0x369)]===_0x13b459[_0x3e64e9(0x369)]?_0x27ad55[_0x3e64e9(0xaa)]-_0x13b459[_0x3e64e9(0xaa)]:_0x27ad55['cost']-_0x13b459[_0x3e64e9(0x369)]);if(0x0===_0x24c3a7[_0x3e64e9(0xa9)])throw new _0x4ad60f(_0x4ad60f[_0x3e64e9(0x34c)][_0x3e64e9(0x2c8)],{'answers':Array['from'](this[_0x3e64e9(0x2d4)])[_0x3e64e9(0xc8)](_0x8f3916=>({'userId':_0x8f3916['userId'],'type':_0x8f3916[_0x3e64e9(0x30e)]}))});return _0x2bad5b[_0x3e64e9(0x4dc)](_0x4edace['Subscription'],'Chosen\x20answer',_0x24c3a7[0x0],this[_0x3e64e9(0x2d4)]),_0x24c3a7[0x0];}[_0x23d54f(0x50a)](){const _0x2e2c6b=_0x23d54f;for(const _0x6293b9 of this[_0x2e2c6b(0x2d4)])if(_0x6293b9['type']===_0x247439[_0x2e2c6b(0x29b)])return!0x1;return!0x0;}}class _0x459ac8{[_0x23d54f(0x24c)];[_0x23d54f(0x1fb)];[_0x23d54f(0x284)]=_0x2a58e2();constructor(_0x3c97e2,_0x33ebea){this['label']=_0x3c97e2,this['contentType']=_0x33ebea;}[_0x23d54f(0xc7)](){const _0x1ff6c4=_0x23d54f;return this[_0x1ff6c4(0x24c)];}['getContentType'](){const _0x6ba194=_0x23d54f;return this[_0x6ba194(0x1fb)];}[_0x23d54f(0x50d)](_0x27e474){const _0x3a89d5=_0x23d54f;_0x27e474[_0x3a89d5(0x4a0)](this);}[_0x23d54f(0x2a4)](_0x26236b){const _0x258143=_0x23d54f;_0x26236b[_0x258143(0x4d8)](this);}[_0x23d54f(0x127)](_0x183477){const _0x3c3e6e=_0x23d54f;this[_0x3c3e6e(0x284)]['publish']({'topicLabel':this['label'],'contentType':this[_0x3c3e6e(0x1fb)],'uuid':(0x0,_0x589ba4['v4'])(),'recipients':[],..._0x183477});}['subscribe'](_0x2a04af){const _0x47a0ef=_0x23d54f;return this['listener'][_0x47a0ef(0x308)](_0x2a04af);}[_0x23d54f(0x288)](_0x5757ec){const _0x8e1423=_0x23d54f;_0x5757ec[_0x8e1423(0x499)](this);}['unregisterDestination'](_0x5086d1){_0x5086d1['unregisterSubscriber'](this);}}class _0xbb9930{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x23d54f(0x439)];constructor(_0x228dd5){const _0x3daa1b=_0x23d54f;this[_0x3daa1b(0x439)]=_0x228dd5;}get[_0x23d54f(0x1cd)](){const _0x515583=_0x23d54f;return this[_0x515583(0x4ea)][_0x515583(0x1cd)];}get[_0x23d54f(0x306)](){const _0x28bfd1=_0x23d54f;return this['maps'][_0x28bfd1(0x306)];}[_0x23d54f(0x12e)](_0xb4dbf8,_0x1ba583){const _0x4bcc1d=_0x23d54f,_0x43296e=this['getPartsFromSubscription'](_0x1ba583),_0x54a275=_0xe3f596(_0xb4dbf8);if(!_0x43296e[_0x4bcc1d(0x500)])throw new _0x4ad60f(_0x4ad60f[_0x4bcc1d(0x34c)][_0x4bcc1d(0x3bf)],{'message':_0x54a275+':\x20'+_0x43296e['remoteId']+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x43296e[_0x4bcc1d(0x1fb)],'subscriptionType':_0xb4dbf8,'subscription':_0x1ba583,'subscriptonParts':_0x43296e});const _0x4237f5=_0x5b497a(_0xb4dbf8,_0x43296e);if(this[_0x4bcc1d(0x4ea)][_0x4bcc1d(0x1cd)][_0x4bcc1d(0x201)](_0x4237f5))throw new _0x4ad60f(_0x4ad60f[_0x4bcc1d(0x34c)][_0x4bcc1d(0x3bf)],{'message':_0x54a275+':\x20'+_0x4237f5+_0x4bcc1d(0x55c),'subscriptionType':_0xb4dbf8,'subscription':_0x1ba583,'subscriptonParts':_0x43296e});this[_0x4bcc1d(0x4ea)][_0x4bcc1d(0x1cd)]['set'](_0x4237f5,_0x1ba583),this['createTopic'](_0x43296e,_0x1ba583);}[_0x23d54f(0x252)](_0x4328de,_0x133a54){const _0x3f5e7d=_0x23d54f,_0x45324d=_0x5b497a(_0x133a54,_0x4328de),_0x4c493e=this[_0x3f5e7d(0x4ea)][_0x3f5e7d(0x1cd)]['get'](_0x45324d);if(!_0x4c493e)throw new _0x4ad60f(_0x4ad60f[_0x3f5e7d(0x34c)]['InvalidSubscription'],{'message':_0xe3f596(_0x133a54)+':\x20'+_0x45324d+_0x3f5e7d(0x1a0),'subscriptionType':_0x133a54,'subscription':_0x4c493e,'subscriptonParts':_0x4328de});this[_0x3f5e7d(0x105)](_0x4c493e,_0x45324d,_0x4328de);}[_0x23d54f(0x105)](_0x3491e5,_0x9064a5,_0x1b367d){const _0x9890eb=_0x23d54f;_0x1b367d=_0x1b367d||this[_0x9890eb(0x439)](_0x3491e5),this[_0x9890eb(0x4ea)][_0x9890eb(0x1cd)][_0x9890eb(0x114)](_0x9064a5),this[_0x9890eb(0x48b)](_0x1b367d,_0x3491e5);}[_0x23d54f(0x4aa)](_0x33aff7,{source:_0x5cbcdd,destination:_0x49875e}){const _0x3ecd10=_0x23d54f,{contentType:_0x35f872,label:_0x57a947,remoteId:_0x4ad8f4}=_0x33aff7,_0x36ff65=_0x26d2c2(_0x35f872,_0x57a947,_0x4ad8f4),_0x228ac0=new _0x459ac8(_0x36ff65,_0x35f872);_0x228ac0['registerSource'](_0x5cbcdd),_0x228ac0['registerDestination'](_0x49875e),this[_0x3ecd10(0x4ea)][_0x3ecd10(0x306)]['set'](_0x228ac0[_0x3ecd10(0xc7)](),_0x228ac0);}[_0x23d54f(0x48b)](_0x5a04e1,_0x1d29ea){const _0x3ee744=_0x23d54f,{contentType:_0x2ca3fe,label:_0x1e41d6,remoteId:_0x20b668}=_0x5a04e1,_0x5eef4b=_0x26d2c2(_0x2ca3fe,_0x1e41d6,_0x20b668),_0x1b44db=this[_0x3ee744(0x4ea)][_0x3ee744(0x306)]['get'](_0x5eef4b);_0x1b44db&&(this[_0x3ee744(0x45f)](_0x1b44db,_0x1d29ea),this[_0x3ee744(0x4ea)][_0x3ee744(0x306)][_0x3ee744(0x114)](_0x5eef4b));}['closeTopic'](_0xf0286e,{source:_0x2f2029,destination:_0x1156b9}){const _0x2a9c3e=_0x23d54f;_0xf0286e[_0x2a9c3e(0x288)](_0x2f2029),_0xf0286e[_0x2a9c3e(0x35c)](_0x1156b9);}[_0x23d54f(0x4e1)](_0x55ef5a){const _0x23fb3b=_0x23d54f;this[_0x23fb3b(0x4ea)][_0x23fb3b(0x1cd)][_0x23fb3b(0x55e)]((_0x1d9411,_0x52393f)=>{const _0x51e3db=_0x23fb3b;_0x52393f[_0x51e3db(0x1e8)](_0x55ef5a)&&this[_0x51e3db(0x105)](_0x1d9411,_0x52393f);});}}class _0x3c85c4{['configs'];[_0x23d54f(0x38c)];[_0x23d54f(0x376)]=new Map();['subscriptionRequestsQueue']=_0x543cac(new _0x39d2f0(this['requestSubscriptionAction'][_0x23d54f(0x128)](this),()=>_0x2aa01e[_0x23d54f(0x19f)](0x64)),!0x0);[_0x23d54f(0x647)]=new Map();[_0x23d54f(0x4ea)];[_0x23d54f(0x196)]=new Map();constructor(_0x466435,_0x4c69a9){const _0x10e13a=_0x23d54f;this[_0x10e13a(0x100)]=_0x466435,this['maxDistance']=_0x4c69a9,this[_0x10e13a(0x4ea)]=new _0xbb9930(({source:_0x502338,destination:_0x48b025})=>_0x529a66(_0x48b025,_0x502338));}[_0x23d54f(0x12e)](_0x53fb6d,_0x377409){const _0x5071b0=_0x23d54f,_0x2384b8=this['isMediaSource'](_0x53fb6d)&&this[_0x5071b0(0x4af)](_0x377409)?new _0x4af811(_0x53fb6d,_0x377409):new _0x25d2f6(_0x53fb6d,_0x377409);this['maps'][_0x5071b0(0x12e)](_0x205747['Incoming'],_0x2384b8),this[_0x5071b0(0x100)]['mediator'][_0x5071b0(0x43c)](_0x2384b8);}['removeSubscription'](_0x281550,_0x5b1a2a,_0x4ef70d=''){const _0x3e5fd3=_0x23d54f,_0xa9b9b1={'contentType':_0x5b1a2a,'label':_0x281550,'remoteId':_0x4ef70d},_0x4c6e18=_0x5b497a(_0x205747['Incoming'],_0xa9b9b1),_0x48d229=this[_0x3e5fd3(0x4ea)]['subscriptions'][_0x3e5fd3(0x1dc)](_0x4c6e18);_0x48d229&&this[_0x3e5fd3(0x105)](_0x48d229,_0x4c6e18);}[_0x23d54f(0x45e)](_0x280dee){this['removeRemoteStreamSubscription'](_0x280dee);}[_0x23d54f(0x1b6)]({label:_0x1f0a9a,ownerId:_0x285fd0,trackKinds:_0x2e4dce,params:_0x4a40f3}){this['requestSubscription'](_0x1f0a9a,_0x285fd0,_0x2e4dce,_0x4a40f3);}[_0x23d54f(0x37f)]({ownerId:_0x3c43fe,label:_0x4044bb,params:_0x1d59d3}){const _0x6e384f=_0x23d54f,{subscriptionLabel:_0xe6b8d5}=this[_0x6e384f(0x29a)](_0x4044bb,_0x3c43fe),_0x778a37=this['getMediaSubscription'](_0xe6b8d5);_0x778a37&&_0x778a37[_0x6e384f(0x273)](_0x3c43fe,_0x1d59d3);}[_0x23d54f(0x3c0)]({ownerId:_0x3fcadc,label:_0x15a144,trackKinds:_0x35840b,remainingTracks:_0x3d40d7}){const _0x190e5c=_0x23d54f,_0x12b287=_0x5b497a(_0x205747[_0x190e5c(0x3f3)],{'contentType':_0x49643d['Media'],'label':_0x15a144,'remoteId':_0x3fcadc});this[_0x190e5c(0x629)](_0x12b287);const _0x5edd88=this[_0x190e5c(0x376)][_0x190e5c(0x1dc)](_0x12b287);_0x5edd88&&(this[_0x190e5c(0x100)][_0x190e5c(0x52a)][_0x190e5c(0x526)](_0x5edd88),this[_0x190e5c(0x376)]['delete'](_0x12b287));const {parts:_0x3d2ee,subscriptionLabel:_0x2de220}=this['getSubscriptionLabel'](_0x15a144,_0x3fcadc),_0x392139=this[_0x190e5c(0x39d)](_0x2de220);_0x392139&&(_0x392139[_0x190e5c(0x3e0)](_0x3fcadc,_0x3d40d7,_0x35840b),0x0===_0x3d40d7&&this[_0x190e5c(0x252)](_0x3d2ee[_0x190e5c(0x24c)],_0x3d2ee['contentType'],_0x3d2ee[_0x190e5c(0x56c)]));}[_0x23d54f(0x4e3)](_0x38daf7,{label:_0x1f594e,ownerId:_0x37b1b6,trackKinds:_0x3b986d,streamId:_0x334f7b,params:_0xe50d6f}){const _0x2a5bac=_0x23d54f,_0x149313=_0x5b497a(_0x205747[_0x2a5bac(0x3f3)],{'contentType':_0x49643d[_0x2a5bac(0x265)],'label':_0x334f7b,'remoteId':_0x38daf7}),_0x4041ad=this[_0x2a5bac(0x4ea)][_0x2a5bac(0x1cd)][_0x2a5bac(0x1dc)](_0x149313);if(!(_0x4041ad&&_0x4041ad instanceof _0x4af811))throw new _0x4ad60f(_0x4ad60f[_0x2a5bac(0x34c)][_0x2a5bac(0x1c6)],{'label':_0x149313,'ownerId':_0x37b1b6});this['closeSubscription'](_0x4041ad,_0x149313),this[_0x2a5bac(0x595)](_0x1f594e,_0x37b1b6,_0x3b986d,_0xe50d6f);}[_0x23d54f(0x5a5)](_0x3def4a,_0x2c096a){const _0x628e3c=_0x23d54f,{label:_0x5a3994,ownerId:_0x1d252d,trackKinds:_0x343edf,params:_0x593c7a}=_0x2c096a,_0x37b2e4=_0x5b497a(_0x205747['Incoming'],{'contentType':_0x49643d['Media'],'label':_0x5a3994,'remoteId':_0x1d252d});if(!this[_0x628e3c(0x376)][_0x628e3c(0x201)](_0x37b2e4))throw new _0x4ad60f(_0x4ad60f['codes'][_0x628e3c(0x1c6)],{'label':_0x37b2e4,'ownerId':_0x1d252d,'streamId':_0x2c096a[_0x628e3c(0x60e)],'requests':this['subscriptionRequests']});const _0x432902=this[_0x628e3c(0x376)][_0x628e3c(0x1dc)](_0x37b2e4);if(_0x343edf[_0x628e3c(0xa9)]===_0x432902[_0x628e3c(0x638)]()['length']&&_0x343edf[_0x628e3c(0x290)](_0x5f595e=>_0x432902[_0x628e3c(0x638)]()[_0x628e3c(0xc6)](_0x5f595e)))try{const _0xe78e14=_0x432902[_0x628e3c(0xb5)](_0x3def4a,_0x2c096a);if(!_0xe78e14)return;this['subscribe'](_0xe78e14,_0x1d252d,_0x5a3994,_0x37b2e4,_0x343edf);}catch(_0x12e28d){return void this[_0x628e3c(0x646)](_0x5a3994,_0x1d252d,_0x343edf,_0x593c7a);}}['handleSubscriptionMediaStreamUnavailable'](_0x15a108,{label:_0xecd662,ownerId:_0x5c26f5,trackKinds:_0x562d5f}){const _0x1255e3=_0x23d54f,_0x369332=this['configs'][_0x1255e3(0x52a)][_0x1255e3(0x298)](_0x5c26f5,_0xecd662);if(!_0x369332)return;const _0x127c81=_0x369332[_0x1255e3(0x5f9)](),_0x19b7b1=_0x369332[_0x1255e3(0x544)]();_0x19b7b1[_0x1255e3(0x167)](_0x397d85=>_0x562d5f[_0x1255e3(0xc6)](_0x397d85))&&this[_0x1255e3(0x190)](_0x15a108,_0xecd662,_0x127c81,_0x5c26f5,_0x19b7b1);}[_0x23d54f(0x1ed)]({label:_0x2da866,providerId:_0x55ac74,ownerId:_0x20f8c1,streamId:_0x60fa64,trackKinds:_0x305901}){this['findNewMediaSubscription'](_0x55ac74,_0x2da866,_0x60fa64,_0x20f8c1,_0x305901);}['handleOptimizationConnectionSuccess'](_0xe92854){const _0x468b29=_0x23d54f;for(const _0x5702c3 of this['chosenAnswers'][_0x468b29(0x54b)]()){const {streamLabel:_0x57b5c9,ownerId:_0x268717,trackKinds:_0x46ce05,params:_0x371d53}=_0x5702c3;if(!_0x268717||!_0x46ce05||!_0x57b5c9)return;this['subscriptionRequestsQueue']['push']({'label':_0x57b5c9,'ownerId':_0x268717,'trackKinds':_0x46ce05,'params':_0x371d53,'remoteId':_0xe92854});}}[_0x23d54f(0x4e1)](_0x41c228){const _0x2b9151=_0x23d54f;this['maps'][_0x2b9151(0x1cd)][_0x2b9151(0x55e)]((_0x33df2e,_0x5baa7b)=>{const _0x49e5e2=_0x2b9151;if(_0x5baa7b[_0x49e5e2(0x1e8)](_0x41c228)){if(_0x33df2e[_0x49e5e2(0xde)][_0x49e5e2(0x2b9)]()===_0x49643d['Media']){const _0x42b3d7=_0x33df2e[_0x49e5e2(0xde)];if(_0x42b3d7['getSubscribedTracks']()[_0x49e5e2(0xa9)]>0x0){const _0x46a9f9={'type':_0x2b8c9a[_0x49e5e2(0x317)],'label':_0x42b3d7[_0x49e5e2(0xc7)](),'ownerId':_0x42b3d7[_0x49e5e2(0x336)](),'trackKinds':_0x42b3d7[_0x49e5e2(0x544)]()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x41c228,_0x46a9f9);}}this['closeSubscription'](_0x33df2e,_0x5baa7b);}});}[_0x23d54f(0x168)](){const _0x1f5b38=_0x23d54f;this['maps']['subscriptions'][_0x1f5b38(0x55e)](this[_0x1f5b38(0x105)][_0x1f5b38(0x128)](this));}[_0x23d54f(0x308)](_0x460b16,_0x42a2cc,_0x16e0e9,_0x28ff4c,_0x188934){const _0x4b9118=_0x23d54f,_0x756916=this['configs']['mediator'][_0x4b9118(0x4cc)](_0x460b16['userId']),_0x10ce71=this[_0x4b9118(0x100)][_0x4b9118(0x52a)][_0x4b9118(0x298)](_0x42a2cc,_0x16e0e9);this[_0x4b9118(0x629)](_0x28ff4c),this[_0x4b9118(0x376)]['has'](_0x28ff4c)&&(this[_0x4b9118(0x100)][_0x4b9118(0x52a)][_0x4b9118(0x526)](this[_0x4b9118(0x376)][_0x4b9118(0x1dc)](_0x28ff4c)),this['subscriptionRequests'][_0x4b9118(0x114)](_0x28ff4c)),this[_0x4b9118(0x3d3)](_0x460b16,_0x42a2cc,_0x16e0e9,_0x10ce71),_0x10ce71[_0x4b9118(0xac)](_0x460b16[_0x4b9118(0x60e)]),_0x10ce71['setProviderId'](_0x460b16['userId']);const _0x324376=_0x529a66(_0x10ce71,_0x756916),_0x9a47ff=_0x5b497a(_0x205747[_0x4b9118(0x3f3)],_0x324376);this[_0x4b9118(0x4ea)][_0x4b9118(0x1cd)][_0x4b9118(0x201)](_0x9a47ff)||this[_0x4b9118(0x12e)](_0x756916,_0x10ce71);const _0x3f14f7=this['maps']['subscriptions'][_0x4b9118(0x1dc)](_0x9a47ff);if(!(_0x3f14f7&&_0x3f14f7 instanceof _0x4af811))throw new _0x4ad60f(_0x4ad60f['codes'][_0x4b9118(0x1c6)],{'label':_0x28ff4c,'ownerId':_0x42a2cc});_0x2bad5b['logEvent'](_0x4b9118(0x26f),{'clusterId':this[_0x4b9118(0x100)][_0x4b9118(0x486)],'userId':this[_0x4b9118(0x100)][_0x4b9118(0x122)],'data':{'subscriptionLabel':_0x9a47ff,'chosenAnswer':_0x460b16}}),this[_0x4b9118(0x196)][_0x4b9118(0x151)](_0x9a47ff,_0x460b16),_0x3f14f7[_0x4b9118(0x308)](_0x42a2cc,_0x188934,_0x460b16[_0x4b9118(0x185)]);}[_0x23d54f(0x207)]({ownerId:_0x14e2f4,label:_0x3d9129}){const _0x4462f0=_0x23d54f,_0x40e282=this['configs'][_0x4462f0(0x52a)][_0x4462f0(0x298)](_0x14e2f4,_0x3d9129),[_0x313c8e,_0x2fdbd9]=Array[_0x4462f0(0x53f)](this[_0x4462f0(0x4ea)]['subscriptions'][_0x4462f0(0x62d)]())[_0x4462f0(0xad)](([_0x2804db,_0x24923b])=>-0x1!==_0x2804db['indexOf'](_0x40e282[_0x4462f0(0x5f9)]()));return this[_0x4462f0(0x105)](_0x2fdbd9,_0x313c8e);}[_0x23d54f(0x105)](_0x3c91b4,_0x48fa6c){const _0x55038e=_0x23d54f;this['configs'][_0x55038e(0x52a)]['unregisterSystemSource'](_0x3c91b4),this[_0x55038e(0x4ea)][_0x55038e(0x105)](_0x3c91b4,_0x48fa6c);}[_0x23d54f(0x2d6)](_0x1aa5e8){const _0x5e822f=_0x23d54f;return _0x1aa5e8['getSupportedContentTypes']()['includes'](_0x49643d[_0x5e822f(0x265)]);}[_0x23d54f(0x4af)](_0x5cc4e7){const _0x1f56b1=_0x23d54f;return _0x5cc4e7[_0x1f56b1(0x2b9)]()===_0x49643d[_0x1f56b1(0x265)];}async['handleNoAnswer'](_0x1af478,_0x5802a7,_0x2d7c31,_0x510c81){const _0x50de50=_0x23d54f;await _0x2aa01e[_0x50de50(0x19f)](0x3e8);const _0x144e10=_0x5b497a(_0x205747[_0x50de50(0x3f3)],{'contentType':_0x49643d[_0x50de50(0x265)],'label':_0x1af478,'remoteId':_0x5802a7});this[_0x50de50(0x629)](_0x144e10);const _0x1640a8=this[_0x50de50(0x376)][_0x50de50(0x1dc)](_0x144e10);if(!_0x1640a8)throw new _0x4ad60f(_0x4ad60f[_0x50de50(0x34c)][_0x50de50(0x1c6)],{'label':_0x144e10,'ownerId':_0x5802a7});const _0x61743b=this[_0x50de50(0x100)]['mediator'][_0x50de50(0x38d)](_0x3a3f61=>_0x3a3f61['isConnected']()),_0x27a4ea=this[_0x50de50(0x100)][_0x50de50(0x52a)][_0x50de50(0xa7)](this[_0x50de50(0x100)]['localId'],_0x5802a7);_0x1640a8[_0x50de50(0x434)](_0x61743b[_0x50de50(0xc8)](_0x3acd58=>_0x3acd58[_0x50de50(0x1fc)]()),_0x27a4ea);try{_0x1640a8[_0x50de50(0x2c6)](this[_0x50de50(0x100)][_0x50de50(0x122)],_0x5802a7,_0x1af478,_0x2d7c31,_0x510c81),this[_0x50de50(0x59c)](_0x1af478,_0x5802a7,_0x2d7c31,_0x510c81,_0x144e10,_0x1640a8);}catch(_0x4ff731){this['subscriptionRequestsQueue'][_0x50de50(0x140)]({'label':_0x1af478,'ownerId':_0x5802a7,'trackKinds':_0x2d7c31,'params':_0x510c81});}}['requestSubscription'](_0x592734,_0x8c5ad3,_0x15a91d,_0xe9d9b1){const _0xd5dea6=_0x23d54f;this[_0xd5dea6(0x3b9)]['push']({'label':_0x592734,'ownerId':_0x8c5ad3,'trackKinds':_0x15a91d,'params':_0xe9d9b1});}[_0x23d54f(0x40d)]({label:_0x37b6a4,ownerId:_0x583e35,trackKinds:_0x21d4a5,params:_0x1ebf31,remoteId:_0x54eef0}){const _0x4e43ab=_0x23d54f;if(!this[_0x4e43ab(0x100)]['mediator'][_0x4e43ab(0x298)](_0x583e35,_0x37b6a4))return;if(!this[_0x4e43ab(0x100)][_0x4e43ab(0x52a)][_0x4e43ab(0xd2)]()[_0x4e43ab(0x5e6)]())throw new Error(_0x4e43ab(0x2da));if(_0x54eef0){const _0x24dfe3=this[_0x4e43ab(0x100)]['mediator'][_0x4e43ab(0x516)]()[_0x4e43ab(0xad)](_0x2b46c2=>_0x2b46c2[_0x4e43ab(0x3c5)]()===_0x54eef0),_0x4dfcf2=_0x24dfe3?.[_0x4e43ab(0x5e6)]();if(!_0x24dfe3||!_0x4dfcf2)throw new Error('Missing\x20remote\x20user\x20or\x20rank');const _0x56bc97=this['configs'][_0x4e43ab(0x52a)]['getRemoteUsers']()[_0x4e43ab(0xad)](_0x2151ae=>_0x2151ae['getId']()===_0x583e35),_0x315d8e=_0x56bc97?.[_0x4e43ab(0x5e6)]();if(!_0x56bc97||!_0x315d8e)throw new Error(_0x4e43ab(0x564));const _0x37dc58=this[_0x4e43ab(0x196)]['get'](_0x37b6a4);if(_0x37dc58){const _0x39361b=this[_0x4e43ab(0x100)]['mediator'][_0x4e43ab(0x516)]()['find'](_0x2a3f25=>_0x2a3f25[_0x4e43ab(0x3c5)]()===_0x37dc58['userId']),_0x374ec7=_0x39361b?.['getRank']();if(!_0x39361b||!_0x374ec7)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20user\x20or\x20rank');if(Math[_0x4e43ab(0x219)](_0x374ec7-_0x315d8e)<Math[_0x4e43ab(0x219)](_0x4dfcf2-_0x315d8e))return;}}const _0x234150=this[_0x4e43ab(0x100)][_0x4e43ab(0x52a)][_0x4e43ab(0x38d)](_0x4c43fd=>_0x4c43fd['isConnected']()&&(!_0x54eef0||_0x4c43fd[_0x4e43ab(0x1fc)]()===_0x54eef0));if(!_0x234150['length']||0x0===_0x234150[_0x4e43ab(0xa9)])throw new Error(_0x4e43ab(0x5aa));const _0x2134be=this[_0x4e43ab(0x100)][_0x4e43ab(0x52a)][_0x4e43ab(0xa7)](this[_0x4e43ab(0x100)][_0x4e43ab(0x122)],_0x583e35),_0x232b54=_0x5b497a(_0x205747[_0x4e43ab(0x3f3)],{'contentType':_0x49643d['Media'],'label':_0x37b6a4,'remoteId':_0x583e35});if(this[_0x4e43ab(0x376)]['has'](_0x232b54)){if(_0x54eef0)throw new Error(_0x4e43ab(0x110));const _0x3d8965=this['subscriptionRequests'][_0x4e43ab(0x1dc)](_0x232b54)[_0x4e43ab(0x638)]();if(_0x3d8965['length']===_0x21d4a5['length']&&_0x3d8965['every'](_0x304d92=>_0x21d4a5[_0x4e43ab(0xc6)](_0x304d92)))return;this[_0x4e43ab(0x100)][_0x4e43ab(0x52a)][_0x4e43ab(0x526)](this[_0x4e43ab(0x376)][_0x4e43ab(0x1dc)](_0x232b54)),this[_0x4e43ab(0x376)][_0x4e43ab(0x114)](_0x232b54),_0x21d4a5=Array[_0x4e43ab(0x53f)](new Set(_0x21d4a5[_0x4e43ab(0x3ad)](_0x3d8965))),this['clearSubscriptionRequestTimeout'](_0x232b54);}const _0x159cb9=new _0x252b37(_0x234150[_0x4e43ab(0xc8)](_0x5a3568=>_0x5a3568[_0x4e43ab(0x1fc)]()),_0x2134be,this[_0x4e43ab(0x38c)],_0x21d4a5);this['configs'][_0x4e43ab(0x52a)][_0x4e43ab(0x43c)](_0x159cb9),this[_0x4e43ab(0x376)][_0x4e43ab(0x151)](_0x232b54,_0x159cb9),_0x159cb9[_0x4e43ab(0x2c6)](this[_0x4e43ab(0x100)][_0x4e43ab(0x122)],_0x583e35,_0x37b6a4,_0x21d4a5,_0x1ebf31),this[_0x4e43ab(0x59c)](_0x37b6a4,_0x583e35,_0x21d4a5,_0x1ebf31,_0x232b54,_0x159cb9);}['clearSubscriptionRequestTimeout'](_0x1ab7a1){const _0x2a5dd6=_0x23d54f;this['subscriptionRequestTimeouts']['has'](_0x1ab7a1)&&(clearTimeout(this['subscriptionRequestTimeouts']['get'](_0x1ab7a1)),this[_0x2a5dd6(0x647)][_0x2a5dd6(0x114)](_0x1ab7a1));}[_0x23d54f(0x59c)](_0x1952d9,_0x451ac3,_0x4d66dd,_0x3ff3fd,_0x2ad498,_0x5e10c8){const _0x2df7cc=_0x23d54f;this[_0x2df7cc(0x629)](_0x2ad498),this['subscriptionRequestTimeouts']['set'](_0x2ad498,setTimeout(()=>{const _0x1dcbc7=_0x2df7cc;this[_0x1dcbc7(0x647)]['delete'](_0x2ad498);try{const _0x1d2e4b=_0x5e10c8[_0x1dcbc7(0x4e8)]();this[_0x1dcbc7(0x308)](_0x1d2e4b,_0x451ac3,_0x1952d9,_0x2ad498,_0x4d66dd);}catch(_0x1d1826){this['handleNoAnswer'](_0x1952d9,_0x451ac3,_0x4d66dd,_0x3ff3fd);}},0x7d0));}[_0x23d54f(0x190)](_0x10f664,_0x48f6db,_0x273739,_0x28fa5c,_0x167edd){const _0x311deb=_0x23d54f,{subscriptionLabel:_0x6f5cab}=this[_0x311deb(0x29a)](_0x48f6db,_0x28fa5c),_0x3ae553=this['getMediaSubscription'](_0x6f5cab),_0x549da5=_0x3ae553?.['params'];_0x3ae553&&(_0x3ae553[_0x311deb(0x3e0)](_0x28fa5c,0x0),this['removeSubscription'](_0x273739,_0x49643d[_0x311deb(0x265)],_0x10f664)),this[_0x311deb(0x595)](_0x48f6db,_0x28fa5c,_0x167edd,_0x549da5);}['getMediaSubscription'](_0x5de7ea){const _0x382fe6=_0x23d54f,_0x1fbed1=this[_0x382fe6(0x4ea)][_0x382fe6(0x1cd)][_0x382fe6(0x1dc)](_0x5de7ea);if(_0x1fbed1){if(!(_0x1fbed1 instanceof _0x4af811))throw new _0x4ad60f(_0x4ad60f['codes'][_0x382fe6(0x3bf)],{'label':_0x5de7ea,'subscription':_0x1fbed1});return _0x1fbed1;}}[_0x23d54f(0x29a)](_0x113b5e,_0x18a154){const _0x3483c6=_0x23d54f,_0x46bfe4=this[_0x3483c6(0x255)](_0x113b5e,_0x18a154);return{'parts':_0x46bfe4,'subscriptionLabel':_0x5b497a(_0x205747['Incoming'],_0x46bfe4)};}[_0x23d54f(0x255)](_0x2f39eb,_0x379655){const _0x156b15=_0x23d54f,_0x1c8fd0=this[_0x156b15(0x100)][_0x156b15(0x52a)][_0x156b15(0x298)](_0x379655,_0x2f39eb),_0x3fa4ff=_0x1c8fd0['getProviderId']();if(!_0x3fa4ff)throw new _0x4ad60f(_0x4ad60f[_0x156b15(0x34c)][_0x156b15(0x2dc)],{'label':_0x2f39eb,'streamId':_0x1c8fd0[_0x156b15(0x5f9)](),'ownerId':_0x379655,'localId':this[_0x156b15(0x100)]['localId']});return{'contentType':_0x49643d[_0x156b15(0x265)],'label':_0x1c8fd0['getInternalStreamId'](),'remoteId':_0x3fa4ff};}['cleanOldSubscription'](_0x39684c,_0x1cec22,_0x2764c7,_0x14cde8){const _0x54d776=_0x23d54f,_0x2b4d64=_0x14cde8[_0x54d776(0x247)]();if(_0x2b4d64&&_0x2b4d64!==_0x39684c[_0x54d776(0x4fb)]){const {parts:_0x2cb42a,subscriptionLabel:_0x4244df}=this['getSubscriptionLabel'](_0x2764c7,_0x1cec22),_0xf2e91a=this['getMediaSubscription'](_0x4244df);_0xf2e91a&&(_0xf2e91a[_0x54d776(0x3e0)](_0x1cec22,0x0),this[_0x54d776(0x252)](_0x2cb42a[_0x54d776(0x24c)],_0x2cb42a[_0x54d776(0x1fb)],_0x2cb42a['remoteId']));}}}class _0x44a833{[_0x23d54f(0x100)];[_0x23d54f(0x1e2)];[_0x23d54f(0x4ea)];constructor(_0xb73e9f,_0x4fdf43){const _0x2aa3fd=_0x23d54f;this[_0x2aa3fd(0x100)]=_0xb73e9f,this['maxOutgoingSubscriptions']=_0x4fdf43,this[_0x2aa3fd(0x4ea)]=new _0xbb9930(({source:_0x1cbe6a,destination:_0x2142af})=>_0x529a66(_0x1cbe6a,_0x2142af));}['createSubscription'](_0x452e86,_0x2ead17){const _0x375e09=_0x23d54f,_0x5b3d92={'source':_0x452e86,'destination':_0x2ead17};this[_0x375e09(0x4ea)][_0x375e09(0x12e)](_0x205747[_0x375e09(0x4d7)],_0x5b3d92);}['removeSubscription'](_0x58b5a5,_0x4d834d,_0x273337=''){const _0x484856=_0x23d54f,_0x526559={'contentType':_0x4d834d,'label':_0x58b5a5,'remoteId':_0x273337};this[_0x484856(0x4ea)][_0x484856(0x252)](_0x526559,_0x205747[_0x484856(0x4d7)]);}[_0x23d54f(0x5d7)](_0x2a5603,_0x2b5a4d){const _0x1a0fc0=_0x23d54f;let _0x1de6d7;_0x1de6d7=_0x2b5a4d[_0x1a0fc0(0x577)]!==this[_0x1a0fc0(0x100)]['localId']?this[_0x1a0fc0(0x100)][_0x1a0fc0(0x52a)]['getRemoteMediaStream'](_0x2b5a4d[_0x1a0fc0(0x577)],_0x2b5a4d['label']):this[_0x1a0fc0(0x100)]['mediator'][_0x1a0fc0(0x5ae)](_0x2b5a4d[_0x1a0fc0(0x24c)]);const _0x647848=_0x5b497a(_0x205747[_0x1a0fc0(0x4d7)],{'contentType':_0x49643d[_0x1a0fc0(0x265)],'label':_0x1de6d7[_0x1a0fc0(0x1c5)](),'remoteId':_0x2a5603}),_0x4a8513=this['getNumberOutgoingSubscriptions']();if(!this['maps'][_0x1a0fc0(0x1cd)][_0x1a0fc0(0x201)](_0x647848)&&_0x4a8513>=this[_0x1a0fc0(0x1e2)])return{'type':_0x2b8c9a['RestartNeedMediaStream'],'ownerId':_0x2b5a4d[_0x1a0fc0(0x577)],'label':_0x2b5a4d[_0x1a0fc0(0x24c)],'streamId':_0x1de6d7[_0x1a0fc0(0x1c5)](),'trackKinds':_0x2b5a4d[_0x1a0fc0(0x44b)],'params':_0x2b5a4d[_0x1a0fc0(0x185)]};_0x1de6d7 instanceof _0xdb374b&&!_0x1de6d7[_0x1a0fc0(0x27a)](_0x2b5a4d['trackKinds'])&&_0x1de6d7['subscribe'](_0x2b5a4d[_0x1a0fc0(0x185)]),this['maps'][_0x1a0fc0(0x1cd)][_0x1a0fc0(0x201)](_0x647848)||this[_0x1a0fc0(0x12e)](_0x1de6d7[_0x1a0fc0(0x3c8)](_0x2a5603),this[_0x1a0fc0(0x100)][_0x1a0fc0(0x52a)]['getConnection'](_0x2a5603));}['handleSubscriptionUnsubscribeMediaStream'](_0x55ec84,{label:_0x4406b6,ownerId:_0x46d08f,remainingTracks:_0x26043e}){const _0x309bc7=_0x23d54f;if(_0x26043e>0x0)return;let _0x7588da;_0x7588da=_0x46d08f!==this[_0x309bc7(0x100)][_0x309bc7(0x122)]?this[_0x309bc7(0x100)][_0x309bc7(0x52a)][_0x309bc7(0x298)](_0x46d08f,_0x4406b6):this[_0x309bc7(0x100)][_0x309bc7(0x52a)][_0x309bc7(0x5ae)](_0x4406b6);const _0x10b0bb=_0x7588da['getShareableStreamId'](),_0x1f3972=_0x49643d['Media'];this['removeSubscription'](_0x10b0bb,_0x1f3972,_0x55ec84);}['handleContentUnsubscribeMediaStream'](_0x370b5e,{label:_0xb1f327,ownerId:_0x610e73,trackKinds:_0x5eb6f7}){const _0x230398=_0x23d54f;if(_0x370b5e!==_0x50c8f3)return[];let _0x2709b8=[];for(const _0x404d84 of this['maps'][_0x230398(0x1cd)]){const {source:_0x23294d,destination:_0x34bd07}=_0x404d84[0x1];_0x23294d[_0x230398(0xc7)]()===_0xb1f327&&_0x23294d[_0x230398(0x336)]()===_0x610e73&&_0x2709b8[_0x230398(0x140)]({'sourceId':this[_0x230398(0x100)]['localId'],'destinationIds':[_0x34bd07[_0x230398(0x1fc)]()],'messageType':_0x528d91[_0x230398(0x24f)],'content':{'type':_0x2b8c9a[_0x230398(0x317)],'label':_0xb1f327,'ownerId':_0x610e73,'trackKinds':_0x5eb6f7}});}return _0x2709b8;}[_0x23d54f(0x45d)](_0x3ca350,_0x598af4){const _0x235dc7=_0x23d54f,{label:_0x152419,ownerId:_0x2886f0,trackKinds:_0xff261a,params:_0x19ce2d}=_0x598af4,{hasTracks:_0x2ae3fc,streamId:_0x186e9c,hasResolution:_0x3afbcf,distance:_0xa807dd,subscriptionLabel:_0x4ccb8e}=this['getSubscriptionInfo'](_0x3ca350,_0x598af4);let _0x4029e0=this['getNumberOutgoingSubscriptions']()<this[_0x235dc7(0x1e2)]&&(_0x2ae3fc||_0xa807dd>-0x1)?_0x2b8c9a[_0x235dc7(0x4e9)]:_0x2b8c9a[_0x235dc7(0x5c9)];const _0x63aabb=_0xa807dd<0x0?0xa:_0xa807dd;let _0x45fc2d=_0x2ae3fc?_0x3afbcf?_0x63aabb:_0x63aabb+0x0:_0x63aabb+0xa;return _0x4ccb8e&&this[_0x235dc7(0x4ea)][_0x235dc7(0x1cd)][_0x235dc7(0x201)](_0x4ccb8e)&&(_0x2ae3fc&&(_0x45fc2d=0x0),_0x4029e0=_0x2b8c9a[_0x235dc7(0x4e9)]),{'type':_0x4029e0,'cost':_0x45fc2d,'distance':_0xa807dd,'label':_0x152419,'ownerId':_0x2886f0,'streamId':_0x186e9c,'trackKinds':_0xff261a,'params':_0x19ce2d};}['handleContentUnpublishMediaStream'](_0x41b21b){const _0x3dc63b=_0x23d54f,{label:_0x58811e,ownerId:_0x269b16}=_0x41b21b,_0x577500=this[_0x3dc63b(0x100)][_0x3dc63b(0x52a)][_0x3dc63b(0x298)](_0x269b16,_0x58811e);this[_0x3dc63b(0x4ea)][_0x3dc63b(0x1cd)][_0x3dc63b(0x55e)](_0x8ccb40=>{const _0x548fb5=_0x3dc63b;if(_0x8ccb40[_0x548fb5(0x5b1)]['getInternalStreamId']()===_0x577500[_0x548fb5(0x1c5)]()){const _0x5548ed=_0x8ccb40['destination'];this[_0x548fb5(0x252)](_0x577500['getShareableStreamId'](),_0x49643d[_0x548fb5(0x265)],_0x5548ed[_0x548fb5(0x1fc)]());}});}['handleContentCloseMediaStream']({label:_0x49a1aa}){const _0x49b8f1=_0x23d54f,_0x2509a=this['configs'][_0x49b8f1(0x52a)]['getLocalMediaStream'](_0x49a1aa);this[_0x49b8f1(0x4ea)][_0x49b8f1(0x1cd)]['forEach'](_0x14b8ff=>{const _0x4f182b=_0x49b8f1;if(_0x14b8ff['source'][_0x4f182b(0x5f9)]()===_0x2509a['getShareableStreamId']()){const _0x486e9a=_0x14b8ff[_0x4f182b(0xde)];this[_0x4f182b(0x252)](_0x2509a[_0x4f182b(0x1c5)](),_0x49643d[_0x4f182b(0x265)],_0x486e9a[_0x4f182b(0x1fc)]());}});}[_0x23d54f(0x4e1)](_0x3a3a9e){const _0x20c9c4=_0x23d54f;this[_0x20c9c4(0x4ea)][_0x20c9c4(0x4e1)](_0x3a3a9e);}[_0x23d54f(0x168)](){const _0x489ccb=_0x23d54f;this['maps']['subscriptions']['forEach'](this[_0x489ccb(0x105)][_0x489ccb(0x128)](this));}['closeSubscription'](_0x34044c,_0xd88e9d){const _0x32f757=_0x23d54f;this[_0x32f757(0x4ea)][_0x32f757(0x105)](_0x34044c,_0xd88e9d);}[_0x23d54f(0x188)](_0x149674,{label:_0xfd6bc1,ownerId:_0x4175d0,trackKinds:_0x171fcf,params:_0x1cea39}){const _0x363c07=_0x23d54f;if(_0x4175d0!==this['configs']['localId']){const _0x427ade=this[_0x363c07(0x100)][_0x363c07(0x52a)][_0x363c07(0x298)](_0x4175d0,_0xfd6bc1);return _0x427ade&&_0x427ade['getProviderId']()!==_0x149674?{'hasTracks':_0x427ade[_0x363c07(0x41f)](_0x171fcf),'hasResolution':this[_0x363c07(0x611)](_0x427ade[_0x363c07(0x62e)](),_0x1cea39),'streamId':_0x427ade['getShareableStreamId'](),'distance':this[_0x363c07(0x100)][_0x363c07(0x52a)][_0x363c07(0xa7)](_0x149674,_0x4175d0),'subscriptionLabel':_0x5b497a(_0x205747['Outgoing'],{'contentType':_0x49643d['Media'],'label':_0x427ade[_0x363c07(0x1c5)](),'remoteId':_0x149674})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x4afc50=this[_0x363c07(0x100)][_0x363c07(0x52a)]['getLocalMediaStream'](_0xfd6bc1);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x4afc50[_0x363c07(0x1c5)](),'distance':0x0,'subscriptionLabel':_0x5b497a(_0x205747[_0x363c07(0x4d7)],{'contentType':_0x49643d[_0x363c07(0x265)],'label':_0x4afc50[_0x363c07(0x1c5)](),'remoteId':_0x149674})};}[_0x23d54f(0x61a)](){const _0x3bdb2a=_0x23d54f;return Array[_0x3bdb2a(0x53f)](this[_0x3bdb2a(0x4ea)]['subscriptions'][_0x3bdb2a(0x62d)]())[_0x3bdb2a(0x3a0)](([_0x969d29,{source:_0x3ecbac}])=>_0x969d29[_0x3bdb2a(0x4d6)](_0x205747['Outgoing'])&&_0x3ecbac[_0x3bdb2a(0x2b9)]()===_0x49643d[_0x3bdb2a(0x265)])[_0x3bdb2a(0xa9)];}[_0x23d54f(0x611)](_0x588046,_0x27450a){const _0x287fcb=_0x23d54f;if(!_0x27450a||!_0x27450a['video']||'boolean'==typeof _0x27450a['video']||!_0x27450a['video'][_0x287fcb(0x123)])return!0x0;const {width:_0x316f8e,height:_0x3b2cd7}=_0x27450a[_0x287fcb(0x55f)][_0x287fcb(0x123)];return _0x588046[_0x287fcb(0x587)]>=_0x316f8e&&_0x588046[_0x287fcb(0x5c8)]>=_0x3b2cd7;}}class _0x36caa6{[_0x23d54f(0x100)];[_0x23d54f(0x1e2)];[_0x23d54f(0x38c)];[_0x23d54f(0x1c8)];['incomingManager'];[_0x23d54f(0x2ca)];constructor(_0xfba939,_0x21c410,_0x3f6091){const _0x12fc5b=_0x23d54f;this[_0x12fc5b(0x100)]=_0xfba939,this[_0x12fc5b(0x1e2)]=_0x21c410,this[_0x12fc5b(0x38c)]=_0x3f6091,this[_0x12fc5b(0x100)][_0x12fc5b(0x52a)][_0x12fc5b(0x43c)](this),this['incomingManager']=new _0x3c85c4(this[_0x12fc5b(0x100)],this['maxDistance']),this[_0x12fc5b(0x2ca)]=new _0x44a833(this[_0x12fc5b(0x100)],this[_0x12fc5b(0x1e2)]);}[_0x23d54f(0x5f5)](_0x10fe6e){const _0x3fd1cc=_0x23d54f;this[_0x3fd1cc(0x1c8)]=_0x10fe6e;}['unregisterSystemPublisher'](){const _0x14b781=_0x23d54f;delete this[_0x14b781(0x1c8)];}['close'](){const _0x3484d3=_0x23d54f;this[_0x3484d3(0x3f5)][_0x3484d3(0x168)](),this[_0x3484d3(0x2ca)][_0x3484d3(0x168)](),this['configs'][_0x3484d3(0x52a)]['unregisterSystemSource'](this);}[_0x23d54f(0x12a)](_0x1fd949,_0x5d5caf){const _0x1d3197=_0x23d54f;this[_0x1d3197(0x3f5)][_0x1d3197(0x12e)](_0x1fd949,_0x5d5caf);}[_0x23d54f(0x5d8)](_0x20bc1b,_0x32808c){const _0x2cfe4b=_0x23d54f;this[_0x2cfe4b(0x2ca)][_0x2cfe4b(0x12e)](_0x20bc1b,_0x32808c);}[_0x23d54f(0x2c0)](_0x5f0131,_0x4936ac,_0x181cd7=''){const _0x752da4=_0x23d54f;this[_0x752da4(0x3f5)]['removeSubscription'](_0x5f0131,_0x4936ac,_0x181cd7);}[_0x23d54f(0x58f)](_0x5d9910,_0x15b50a,_0x1f57bc=''){const _0x3eaf1d=_0x23d54f;try{this[_0x3eaf1d(0x2ca)]['removeSubscription'](_0x5d9910,_0x15b50a,_0x1f57bc);}catch(_0x5e4ba8){if(_0x5e4ba8 instanceof _0x4ad60f&&_0x5e4ba8[_0x3eaf1d(0x16d)]===_0x4ad60f[_0x3eaf1d(0x34c)][_0x3eaf1d(0x3bf)])return;}}[_0x23d54f(0xb5)](_0x503281){const _0x50713a=_0x23d54f;switch(_0x503281[_0x50713a(0x36e)][_0x50713a(0x30e)]){case _0x2b8c9a[_0x50713a(0x328)]:this['handleSubscriptionSubscribeMediaStream'](_0x503281['sourceId'],_0x503281[_0x50713a(0x36e)]);break;case _0x2b8c9a['UnsubscribeMediaStream']:this[_0x50713a(0x2ca)][_0x50713a(0xce)](_0x503281[_0x50713a(0x49a)],_0x503281[_0x50713a(0x36e)]);break;case _0x2b8c9a[_0x50713a(0x10a)]:this[_0x50713a(0x45d)](_0x503281[_0x50713a(0x49a)],_0x503281[_0x50713a(0x36e)]);break;case _0x2b8c9a['RestartNeedMediaStream']:this[_0x50713a(0x3f5)]['handleSubscriptionRestartNeedMediaStream'](_0x503281[_0x50713a(0x49a)],_0x503281[_0x50713a(0x36e)]);break;case _0x2b8c9a[_0x50713a(0x4e9)]:case _0x2b8c9a[_0x50713a(0x5c9)]:this[_0x50713a(0x3f5)]['handleSubscriptionProvideMediaStream'](_0x503281[_0x50713a(0x49a)],_0x503281[_0x50713a(0x36e)]);break;case _0x2b8c9a[_0x50713a(0x317)]:this[_0x50713a(0x3f5)][_0x50713a(0x35b)](_0x503281[_0x50713a(0x49a)],_0x503281['content']);}}[_0x23d54f(0x2d5)](_0x81d6c1){const _0x5a1c33=_0x23d54f;switch(_0x81d6c1['content'][_0x5a1c33(0x30e)]){case _0x2e4279['UnpublishMediaStream']:this[_0x5a1c33(0x3f5)][_0x5a1c33(0x45e)](_0x81d6c1[_0x5a1c33(0x36e)]),this[_0x5a1c33(0x2ca)][_0x5a1c33(0x45e)](_0x81d6c1[_0x5a1c33(0x36e)]);break;case _0x2e4279[_0x5a1c33(0x328)]:this[_0x5a1c33(0x3f5)][_0x5a1c33(0x1b6)](_0x81d6c1[_0x5a1c33(0x36e)]);break;case _0x2e4279[_0x5a1c33(0x359)]:this[_0x5a1c33(0x3f5)][_0x5a1c33(0x37f)](_0x81d6c1['content']);break;case _0x2e4279[_0x5a1c33(0x1dd)]:this[_0x5a1c33(0x3c0)](_0x81d6c1['sourceId'],_0x81d6c1[_0x5a1c33(0x36e)]);break;case _0x2e4279['CloseMediaStream']:this[_0x5a1c33(0x2ca)][_0x5a1c33(0xd4)](_0x81d6c1[_0x5a1c33(0x36e)]);break;case _0x2e4279[_0x5a1c33(0x3ac)]:this[_0x5a1c33(0x1cb)](_0x81d6c1[_0x5a1c33(0x36e)]);break;case _0x2e4279[_0x5a1c33(0x1f0)]:this['handleContentCloseObjectStore'](_0x81d6c1[_0x5a1c33(0x36e)]);break;case _0x2e4279[_0x5a1c33(0x400)]:this[_0x5a1c33(0x3e9)](_0x81d6c1[_0x5a1c33(0x36e)]);break;case _0x2e4279[_0x5a1c33(0x535)]:this[_0x5a1c33(0x3f5)][_0x5a1c33(0x1ed)](_0x81d6c1['content']);}}[_0x23d54f(0x44d)]({content:_0x59154d}){const _0x2d4f52=_0x23d54f;_0x59154d[_0x2d4f52(0x30e)]===_0x27f572[_0x2d4f52(0x42f)]&&this['removeSubscriptionsForUser'](_0x59154d);}[_0x23d54f(0x3c1)](_0x1c2e42){const _0x299d13=_0x23d54f;_0x1c2e42['content'][_0x299d13(0x30e)]===_0x2a4dd2[_0x299d13(0x39e)]&&this[_0x299d13(0x3f5)][_0x299d13(0x425)](_0x1c2e42[_0x299d13(0x49a)]);}['handleContentUnsubscribeMediaStream'](_0x2ca4c4,_0x11ad73){const _0x7ae7e8=_0x23d54f;this['incomingManager'][_0x7ae7e8(0x3c0)](_0x11ad73),this[_0x7ae7e8(0x2ca)][_0x7ae7e8(0x3c0)](_0x2ca4c4,_0x11ad73)[_0x7ae7e8(0x55e)](_0x581cad=>this[_0x7ae7e8(0x1c8)][_0x7ae7e8(0x127)](_0x581cad));}[_0x23d54f(0x5d7)](_0x5b0647,_0x42a945){const _0x2d2898=_0x23d54f,_0x44609c=this['outgoingManager']['handleSubscriptionSubscribeMediaStream'](_0x5b0647,_0x42a945);if(_0x44609c&&(this[_0x2d2898(0x1c8)][_0x2d2898(0x127)]({'sourceId':this[_0x2d2898(0x100)][_0x2d2898(0x122)],'destinationIds':[_0x5b0647],'messageType':_0x528d91[_0x2d2898(0x24f)],'content':_0x44609c}),_0x44609c[_0x2d2898(0x30e)]===_0x2b8c9a[_0x2d2898(0x637)]))throw new _0x31e58f(_0x2d2898(0x487));}[_0x23d54f(0x45d)](_0xc2f452,_0x234b83){const _0x232c0d=_0x23d54f,_0x583115=this[_0x232c0d(0x2ca)][_0x232c0d(0x45d)](_0xc2f452,_0x234b83);this[_0x232c0d(0x1c8)]['publish']({'sourceId':this['configs']['localId'],'destinationIds':[_0xc2f452],'messageType':_0x528d91[_0x232c0d(0x24f)],'content':_0x583115});}[_0x23d54f(0x471)]({label:_0x3e9599}){const _0x15a2d1=_0x23d54f;this[_0x15a2d1(0x2c0)](_0x3e9599,_0x49643d[_0x15a2d1(0x61e)]),this[_0x15a2d1(0x58f)](_0x3e9599,_0x49643d[_0x15a2d1(0x61e)]);}[_0x23d54f(0x3e9)]({label:_0x19fb25}){const _0x409e83=_0x23d54f;this[_0x409e83(0x2c0)](_0x19fb25,_0x49643d[_0x409e83(0x4c6)]),this[_0x409e83(0x58f)](_0x19fb25,_0x49643d['KeyValueDatabase']);}['handleContentClosePubSubTopic']({label:_0x5691d6}){const _0x17f398=_0x23d54f;this[_0x17f398(0x2c0)](_0x5691d6,_0x49643d[_0x17f398(0x279)]),this[_0x17f398(0x58f)](_0x5691d6,_0x49643d[_0x17f398(0x279)]);}['removeSubscriptionsForUser']({id:_0xa0ed58}){const _0xacb676=_0x23d54f;this[_0xacb676(0x3f5)][_0xacb676(0x4e1)](_0xa0ed58),this['outgoingManager'][_0xacb676(0x4e1)](_0xa0ed58);}}class _0x27a4ae{[_0x23d54f(0x24c)];[_0x23d54f(0x284)]=_0x2a58e2();constructor(){this['label']=0x0;}['getLabel'](){const _0x1c094d=_0x23d54f;return this[_0x1c094d(0x24c)];}[_0x23d54f(0x2b9)](){const _0x4d10c2=_0x23d54f;return _0x49643d[_0x4d10c2(0x604)];}[_0x23d54f(0x50d)](_0x4b51b8){_0x4b51b8['registerSystemPublisher'](this);}['unregisterSource'](_0x57bef4){const _0x3ba6ca=_0x23d54f;_0x57bef4[_0x3ba6ca(0x3cc)]();}[_0x23d54f(0x127)](_0x929140){const _0x510800=_0x23d54f;_0x2bad5b[_0x510800(0x4dc)](_0x4edace[_0x510800(0x1f1)],_0x510800(0x56e),_0x929140['sourceId'],_0x929140),this[_0x510800(0x284)][_0x510800(0x127)]({'topicLabel':this[_0x510800(0x24c)],'contentType':_0x49643d[_0x510800(0x604)],'uuid':_0x929140[_0x510800(0x56f)]??(0x0,_0x589ba4['v4'])(),'recipients':_0x929140[_0x510800(0x287)]??[],..._0x929140});}[_0x23d54f(0x308)](_0x39afb6){const _0x4f84cd=_0x23d54f;return this[_0x4f84cd(0x284)][_0x4f84cd(0x308)](_0x39afb6);}}class _0x54fbe{['minConnections'];[_0x23d54f(0x1a7)];[_0x23d54f(0x38c)];[_0x23d54f(0x34a)]=[];[_0x23d54f(0x4a4)];[_0x23d54f(0x132)]=new Map();constructor(_0x397d5b,_0x114de6,_0x270b6f){const _0x4e7adc=_0x23d54f;this[_0x4e7adc(0xe8)]=_0x397d5b,this[_0x4e7adc(0x1a7)]=_0x114de6,this['maxDistance']=_0x270b6f,this['maxLayer']=(this['maxConnections']-0x2*this['minConnections'])/0x2,this['ranges'][_0x4e7adc(0x140)]({'start':0x1,'end':this[_0x4e7adc(0x30d)](0x1,0x1)-0x1});for(let _0x4f16df=0x0;_0x4f16df<this[_0x4e7adc(0x4a4)];++_0x4f16df)this[_0x4e7adc(0x34a)][_0x4e7adc(0x140)]({'start':this['getNextTargetRank'](0x1,_0x4f16df+0x1),'end':this[_0x4e7adc(0x30d)](0x1,_0x4f16df+0x2)-0x1});}[_0x23d54f(0x30d)](_0x4783be,_0x2b82cc=0x1){const _0x1b199e=_0x23d54f;let _0x4d02cc=this[_0x1b199e(0x38c)]-this[_0x1b199e(0xe8)],_0x1db98a=0x1;for(let _0x59c30c=0x1;_0x59c30c<_0x2b82cc;++_0x59c30c)_0x4d02cc*=this['maxDistance']-this[_0x1b199e(0xe8)]-_0x59c30c,_0x1db98a*=this['maxDistance']-this[_0x1b199e(0xe8)]-_0x59c30c+0x1;return _0x4d02cc*this[_0x1b199e(0xe8)]+_0x4783be-_0x1db98a;}[_0x23d54f(0x2af)](_0xd861da){const _0x12d0d6=_0x23d54f;let _0x5d6a48=0x0;for(;this[_0x12d0d6(0x34a)][_0x5d6a48][_0x12d0d6(0x136)]<_0xd861da;)_0x5d6a48+=0x1;return _0x5d6a48;}[_0x23d54f(0x47e)](){return this['minConnections'];}['getMaxConnections'](){const _0x42e3a1=_0x23d54f;return this[_0x42e3a1(0x1a7)];}[_0x23d54f(0x5cd)](){const _0x49ac7f=_0x23d54f;return this[_0x49ac7f(0x38c)];}[_0x23d54f(0x516)](){const _0x2fa78f=_0x23d54f;return this[_0x2fa78f(0x132)];}[_0x23d54f(0x342)](_0x423bd2,_0x3b0892){const _0x4bad9b=_0x23d54f;this['remoteUsers'][_0x4bad9b(0x151)](_0x423bd2,_0x3b0892);}[_0x23d54f(0xfe)](_0xf09258){const _0x218964=_0x23d54f;return this[_0x218964(0x132)][_0x218964(0x201)](_0xf09258);}[_0x23d54f(0x35d)](_0x1154a0){const _0x143518=_0x23d54f;return this[_0x143518(0x132)][_0x143518(0x1dc)](_0x1154a0);}[_0x23d54f(0x602)](_0x1be521){const _0x37cc73=_0x23d54f;this[_0x37cc73(0x132)][_0x37cc73(0x114)](_0x1be521);}[_0x23d54f(0x628)](_0xa22a82,_0x41f14f){const _0x271280=_0x23d54f,_0xbf6017=this[_0x271280(0x35d)](_0x41f14f)?.[_0x271280(0x5e6)]()??0x0;return _0xa22a82[_0x271280(0xc8)](_0x4cf033=>this[_0x271280(0x35d)](_0x4cf033))[_0x271280(0x3a0)](_0x1e27ec=>void 0x0!==_0x1e27ec)[_0x271280(0x203)]((_0x3c9b37,_0x1af1cd)=>Math[_0x271280(0x219)](_0xbf6017-(_0x3c9b37&&_0x3c9b37['getRank']()||0x1/0x0))-Math[_0x271280(0x219)](_0xbf6017-(_0x1af1cd&&_0x1af1cd[_0x271280(0x5e6)]()||0x1/0x0)))[_0x271280(0xc8)](_0x117904=>_0x117904['getId']());}}class _0x43a475{[_0x23d54f(0x455)];[_0x23d54f(0x486)];[_0x23d54f(0x116)];[_0x23d54f(0x270)];[_0x23d54f(0x100)];[_0x23d54f(0x27f)];[_0x23d54f(0x2e0)];[_0x23d54f(0x2b0)];[_0x23d54f(0x593)];[_0x23d54f(0x18c)];[_0x23d54f(0x397)];[_0x23d54f(0x447)];[_0x23d54f(0x3de)];['graphService'];[_0x23d54f(0x1c8)]=new _0x27a4ae();['systemTopicUnsubscribe'];[_0x23d54f(0x3ce)];constructor(_0x18ec59,_0x4eb198,_0x65d89b,_0xffa814,_0x4fc152,_0x3a936b,_0x33f13c){const _0x188db5=_0x23d54f;this[_0x188db5(0x455)]=_0x18ec59,this['clusterId']=_0x4eb198,this['authService']=_0xffa814,this['options']=_0x4fc152,this[_0x188db5(0x100)]=_0x3a936b,this[_0x188db5(0x27f)]=_0x33f13c,this[_0x188db5(0x3ce)]=new _0x16bfff(_0x65d89b[_0x188db5(0x3c5)](),_0x65d89b['getDisplayName'](),_0x65d89b[_0x188db5(0x360)]());const _0x43b380=this[_0x188db5(0x2a0)]();this['graphService']=new _0x54fbe(this['options']['minConnections'],this[_0x188db5(0x270)][_0x188db5(0x1a7)],this[_0x188db5(0x270)]['maxDistance']),this[_0x188db5(0x2e0)]=new _0x2787c4(_0x43b380,this[_0x188db5(0x270)][_0x188db5(0x112)],this[_0x188db5(0x270)][_0x188db5(0x5f3)]),this['connectionManager']=new _0x45c8f5(_0x43b380,this[_0x188db5(0x116)],this[_0x188db5(0x100)][_0x188db5(0x2f0)],this[_0x188db5(0x270)]['maxFps'],this[_0x188db5(0x270)][_0x188db5(0x322)],this[_0x188db5(0x253)],this[_0x188db5(0x270)][_0x188db5(0x383)]),this[_0x188db5(0x593)]=new _0x36caa6(_0x43b380,this['options'][_0x188db5(0x1e2)],this[_0x188db5(0x253)][_0x188db5(0x5cd)]()),this[_0x188db5(0x18c)]=new _0x20dc5a(_0x43b380),this[_0x188db5(0x397)]=new _0x2bd832(_0x43b380),this[_0x188db5(0x447)]=new _0x1fa596(_0x43b380),this['nodeManager']=new _0x4e8628(_0x43b380,this[_0x188db5(0x253)],this[_0x188db5(0x3ce)]),this[_0x188db5(0x124)]=this['initializeSystemTopic']();}[_0x23d54f(0x237)](){const _0x1b8816=_0x23d54f,_0x3e8c5a=this['getConfigs']();this[_0x1b8816(0x2b0)]=new _0x45c8f5(_0x3e8c5a,this['authService'],this['configs'][_0x1b8816(0x2f0)],this[_0x1b8816(0x270)][_0x1b8816(0x112)],this[_0x1b8816(0x270)][_0x1b8816(0x322)],this[_0x1b8816(0x253)],this[_0x1b8816(0x270)][_0x1b8816(0x383)]),this[_0x1b8816(0x593)]=new _0x36caa6(_0x3e8c5a,this[_0x1b8816(0x270)][_0x1b8816(0x1e2)],this[_0x1b8816(0x253)][_0x1b8816(0x5cd)]()),this[_0x1b8816(0x18c)]=new _0x20dc5a(_0x3e8c5a),this[_0x1b8816(0x397)]=new _0x2bd832(_0x3e8c5a),this[_0x1b8816(0x447)]=new _0x1fa596(_0x3e8c5a),this[_0x1b8816(0x3de)]=new _0x4e8628(_0x3e8c5a,this[_0x1b8816(0x253)],this['localUser']);const _0x149acf=this['connectionManager'][_0x1b8816(0x3a9)]();this[_0x1b8816(0x2e0)][_0x1b8816(0x3c2)]()['forEach'](_0x2c0002=>{const _0x5390ab=_0x1b8816;this[_0x5390ab(0x593)][_0x5390ab(0x5d8)](_0x2c0002,_0x149acf),this[_0x5390ab(0x593)]['createIncomingSubscription'](_0x149acf,_0x2c0002);}),this[_0x1b8816(0x2e0)]['getObjectStoreBuckets']()[_0x1b8816(0x55e)](_0x3fa229=>{const _0xe2b2bf=_0x1b8816;this['subscriptionManager'][_0xe2b2bf(0x5d8)](_0x3fa229,_0x149acf),this[_0xe2b2bf(0x593)][_0xe2b2bf(0x12a)](_0x149acf,_0x3fa229);}),this[_0x1b8816(0x2e0)]['getKeyValueDatabases']()[_0x1b8816(0x55e)](_0x337d9e=>{const _0x482042=_0x1b8816;this[_0x482042(0x593)]['createOutgoingSubscription'](_0x337d9e,_0x149acf),this[_0x482042(0x593)]['createIncomingSubscription'](_0x149acf,_0x337d9e);}),this['systemTopicUnsubscribe']=this[_0x1b8816(0x2bc)]();}[_0x23d54f(0x43c)](_0x2c736d){const _0x30a671=_0x23d54f;try{this['systemTopic']['registerSource'](_0x2c736d);}catch(_0x586902){this[_0x30a671(0x3b3)](_0x586902,{});}}[_0x23d54f(0x526)](_0x419d8d){const _0x1f9f7d=_0x23d54f;try{this[_0x1f9f7d(0x1c8)][_0x1f9f7d(0x288)](_0x419d8d);}catch(_0x59797b){this[_0x1f9f7d(0x3b3)](_0x59797b,{});}}[_0x23d54f(0x152)](_0x5c4093,_0x49d498){const _0x2ed308=_0x23d54f;return this[_0x2ed308(0x2b0)][_0x2ed308(0x152)](_0x5c4093,_0x49d498);}['getConnection'](_0x395328){const _0x2900fd=_0x23d54f;try{return this[_0x2900fd(0x2b0)]['getConnection'](_0x395328);}catch(_0x3c6e10){throw this[_0x2900fd(0x3b3)](_0x3c6e10,{});}}[_0x23d54f(0x38d)](_0x1ba94a){const _0x2273ab=_0x23d54f;try{return this[_0x2273ab(0x2b0)]['getConnections'](_0x1ba94a);}catch(_0xaf3886){throw this[_0x2273ab(0x3b3)](_0xaf3886,{});}}[_0x23d54f(0x298)](_0x1dc506,_0x56f8ba){const _0x367b87=_0x23d54f;try{return this[_0x367b87(0x2e0)][_0x367b87(0x5b0)](_0x44a8e7=>_0x44a8e7[_0x367b87(0x336)]()===_0x1dc506&&_0x44a8e7[_0x367b87(0xc7)]()===_0x56f8ba)[0x0];}catch(_0x2eac48){throw this[_0x367b87(0x3b3)](_0x2eac48,{});}}[_0x23d54f(0x5ae)](_0x443738){const _0x5c58c6=_0x23d54f;try{return this[_0x5c58c6(0x2e0)][_0x5c58c6(0x21f)](_0x54c884=>_0x54c884['getLabel']()===_0x443738)[0x0];}catch(_0x3fc373){throw this[_0x5c58c6(0x3b3)](_0x3fc373,{});}}['notifyCluster']=(..._0x1b839b)=>{const _0x4dd568=_0x23d54f;try{return this[_0x4dd568(0x27f)][_0x4dd568(0x483)](..._0x1b839b);}catch(_0xfaa447){throw this[_0x4dd568(0x3b3)](_0xfaa447,{});}};['registerRemoteUser'](_0x12bc24){const _0x34870a=_0x23d54f;try{this[_0x34870a(0x18c)][_0x34870a(0x15b)](_0x12bc24);}catch(_0x3b0086){throw this[_0x34870a(0x3b3)](_0x3b0086,{});}}[_0x23d54f(0x37c)](_0x4e9f78){const _0x55dab5=_0x23d54f;try{this[_0x55dab5(0x18c)][_0x55dab5(0x46e)](_0x4e9f78);}catch(_0x1dcc8e){throw this[_0x55dab5(0x3b3)](_0x1dcc8e,{});}}[_0x23d54f(0x2f4)](_0x54c38e){const _0x426e7e=_0x23d54f;return this[_0x426e7e(0x2b0)][_0x426e7e(0x2f4)](_0x54c38e);}async[_0x23d54f(0x3ea)](){const _0x2ef6ea=_0x23d54f;try{await this['connectionManager'][_0x2ef6ea(0x3ea)]();const _0x6e1b41=await this['nodeManager'][_0x2ef6ea(0x32d)]();for(const _0x51fdf4 of _0x6e1b41)this[_0x2ef6ea(0x2b0)][_0x2ef6ea(0x152)](_0x51fdf4);}catch(_0x2b75ac){throw this[_0x2ef6ea(0x3b3)](_0x2b75ac,{});}}[_0x23d54f(0x466)](_0x1abfee){const _0x3bcfdd=_0x23d54f;this[_0x3bcfdd(0x3ce)][_0x3bcfdd(0xb4)](_0x1abfee[_0x3bcfdd(0x360)]()),this['localUser']['setDisplayName'](_0x1abfee[_0x3bcfdd(0xe7)]());}[_0x23d54f(0x168)](_0x1f6b64=!0x1){const _0x389428=_0x23d54f;this[_0x389428(0x124)](),this[_0x389428(0x447)]['close'](),this[_0x389428(0x397)][_0x389428(0x168)](),this[_0x389428(0x18c)]['close'](),this[_0x389428(0x593)]['close'](),this[_0x389428(0x2b0)][_0x389428(0x168)](),this[_0x389428(0x2e0)][_0x389428(0x168)](_0x1f6b64),this[_0x389428(0x3de)]['close']();}[_0x23d54f(0x130)](_0x5008cb){const _0x5212dc=_0x23d54f;try{const _0x40aa80=this[_0x5212dc(0x2e0)][_0x5212dc(0x120)](_0x5008cb),_0x19b3eb=this['connectionManager'][_0x5212dc(0x3a9)]();return this[_0x5212dc(0x593)]['createOutgoingSubscription'](_0x40aa80,_0x19b3eb),this['subscriptionManager'][_0x5212dc(0x12a)](_0x19b3eb,_0x40aa80),_0x40aa80;}catch(_0x1a3bb5){throw this[_0x5212dc(0x3b3)](_0x1a3bb5,{});}}async[_0x23d54f(0xd7)](_0x5ecc64){const _0x42e7e3=_0x23d54f;try{const _0x102b66=this[_0x42e7e3(0x2e0)]['createObjectStoreBucket'](_0x5ecc64,this[_0x42e7e3(0x270)][_0x42e7e3(0x3ef)]),_0x3f7326=this[_0x42e7e3(0x2b0)][_0x42e7e3(0x3a9)]();return this[_0x42e7e3(0x593)][_0x42e7e3(0x5d8)](_0x102b66,_0x3f7326),this['subscriptionManager'][_0x42e7e3(0x12a)](_0x3f7326,_0x102b66),await _0x102b66[_0x42e7e3(0x5bf)](),_0x102b66;}catch(_0x1d8ce9){throw this[_0x42e7e3(0x3b3)](_0x1d8ce9,{});}}async[_0x23d54f(0x562)](_0x321224,_0x3b5454){const _0x1d328b=_0x23d54f;try{const _0x48bbde=await this['contentManager'][_0x1d328b(0x3cd)](_0x321224,_0x3b5454,this[_0x1d328b(0x270)][_0x1d328b(0x59a)]),_0x3dc48e=this['connectionManager'][_0x1d328b(0x3a9)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x48bbde,_0x3dc48e),this['subscriptionManager']['createIncomingSubscription'](_0x3dc48e,_0x48bbde),await _0x48bbde[_0x1d328b(0x237)](),this['syncKeyValueDatabase'](_0x48bbde),_0x48bbde;}catch(_0x2d6e12){throw this[_0x1d328b(0x3b3)](_0x2d6e12,{});}}[_0x23d54f(0x3c2)](_0xfd6d98){const _0x160ece=_0x23d54f;try{return this['contentManager'][_0x160ece(0x3c2)](_0xfd6d98);}catch(_0x4f7bc9){throw this['handleError'](_0x4f7bc9,{});}}['getObjectStoreBuckets'](_0x52bcff){const _0x24fca0=_0x23d54f;try{return this[_0x24fca0(0x2e0)][_0x24fca0(0x2fc)](_0x52bcff);}catch(_0x519091){throw this['handleError'](_0x519091,{});}}['getKeyValueDatabases'](_0x469501){const _0x31225e=_0x23d54f;try{return this[_0x31225e(0x2e0)][_0x31225e(0x36f)](_0x469501);}catch(_0x5b672f){throw this[_0x31225e(0x3b3)](_0x5b672f,{});}}['createLocalMediaStream'](_0x5c9ba7,_0x3b691c){const _0x163f0=_0x23d54f;if(!this[_0x163f0(0x100)][_0x163f0(0x479)][_0x163f0(0xc6)](_0x4cc29c[_0x163f0(0xba)]))throw new _0x4f208b(_0x522ceb[_0x163f0(0x165)],_0x163f0(0x5d6));try{return this[_0x163f0(0x2e0)][_0x163f0(0x3d9)](_0x5c9ba7,_0x3b691c);}catch(_0x52ae0f){throw this[_0x163f0(0x3b3)](_0x52ae0f,{});}}['createLocalDynamicMediaStream'](_0x70caa3,_0x1818d2){const _0x101be6=_0x23d54f;if(!this[_0x101be6(0x100)][_0x101be6(0x479)]['includes'](_0x4cc29c['MediaStream']))throw new _0x4f208b(_0x522ceb[_0x101be6(0x165)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x101be6(0x2e0)]['createLocalDynamicMediaStream'](_0x70caa3,_0x1818d2);}catch(_0x2af531){throw this['handleError'](_0x2af531,{});}}[_0x23d54f(0x21f)](_0x3a9b17){const _0x45f344=_0x23d54f;if(!this[_0x45f344(0x100)][_0x45f344(0x479)]['includes'](_0x4cc29c['MediaStream']))throw new _0x4f208b(_0x522ceb[_0x45f344(0x165)],_0x45f344(0x5d6));try{return this['contentManager'][_0x45f344(0x21f)](_0x3a9b17);}catch(_0x53bf43){throw this[_0x45f344(0x3b3)](_0x53bf43,{});}}[_0x23d54f(0x5b0)](_0x3b077c){const _0x4ac9c3=_0x23d54f;if(!this[_0x4ac9c3(0x100)][_0x4ac9c3(0x479)]['includes'](_0x4cc29c['MediaStream']))throw new _0x4f208b(_0x522ceb[_0x4ac9c3(0x165)],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager']['getRemoteMediaStreams'](_0x3b077c);}catch(_0x1d7849){throw this[_0x4ac9c3(0x3b3)](_0x1d7849,{});}}[_0x23d54f(0xa7)](_0x43ef26,_0x2bcccf){const _0x3c9990=_0x23d54f;return this[_0x3c9990(0x3de)][_0x3c9990(0xa7)](_0x43ef26,_0x2bcccf);}[_0x23d54f(0xd2)](){const _0x4e1bcd=_0x23d54f;return this[_0x4e1bcd(0x3de)][_0x4e1bcd(0xd2)]();}['getRemoteUsers'](_0x39d85d){const _0x70bda1=_0x23d54f;try{return this[_0x70bda1(0x3de)][_0x70bda1(0x516)](_0x39d85d);}catch(_0x1236fc){throw this[_0x70bda1(0x3b3)](_0x1236fc,{});}}async[_0x23d54f(0x3a7)](_0x37885e){const _0x3bfa20=_0x23d54f;try{if(_0x2bad5b[_0x3bfa20(0x4dc)](_0x4edace[_0x3bfa20(0x1f1)],'Orchestrator\x20handleSystemEvents',this[_0x3bfa20(0x3de)][_0x3bfa20(0x622)](),_0x37885e),_0x547eb8(_0x37885e,this[_0x3bfa20(0x3de)][_0x3bfa20(0x622)]()))return void this[_0x3bfa20(0x2b0)]['handleOutgoingSystemEvents'](_0x37885e);switch(_0x37885e[_0x3bfa20(0xc5)]){case _0x528d91['Content']:this['statsManager'][_0x3bfa20(0x2d5)](_0x37885e),this[_0x3bfa20(0x593)]['handleContentSystemEvents'](_0x37885e),this['contentManager'][_0x3bfa20(0x2d5)](_0x37885e);break;case _0x528d91[_0x3bfa20(0x4f9)]:this[_0x3bfa20(0x593)]['handleNodeSystemEvents'](_0x37885e),this[_0x3bfa20(0x2b0)]['handleNodeSystemEvents'](_0x37885e),this[_0x3bfa20(0x2e0)]['handleNodeSystemEvents'](_0x37885e),this[_0x3bfa20(0x3de)][_0x3bfa20(0x44d)](_0x37885e);break;case _0x528d91['Detection']:this['remediationManager'][_0x3bfa20(0x26b)](_0x37885e);break;case _0x528d91[_0x3bfa20(0x1ea)]:this['remediationManager'][_0x3bfa20(0x261)](_0x37885e);break;case _0x528d91[_0x3bfa20(0x627)]:this[_0x3bfa20(0x397)][_0x3bfa20(0x149)](_0x37885e);break;case _0x528d91[_0x3bfa20(0x24f)]:_0x37885e[_0x3bfa20(0x36e)]['type']!==_0x2b8c9a[_0x3bfa20(0x1dd)]?(this[_0x3bfa20(0x593)]['handleSubscriptionSystemEvents'](_0x37885e),this[_0x3bfa20(0x2e0)]['handleSubscriptionSystemEvents'](_0x37885e)):(this['contentManager'][_0x3bfa20(0xb5)](_0x37885e),this[_0x3bfa20(0x593)][_0x3bfa20(0xb5)](_0x37885e));break;case _0x528d91['PeerConnection']:await this[_0x3bfa20(0x2b0)][_0x3bfa20(0x3c1)](_0x37885e),this[_0x3bfa20(0x18c)][_0x3bfa20(0x3c1)](_0x37885e),this[_0x3bfa20(0x3de)][_0x3bfa20(0x3c1)](_0x37885e),this[_0x3bfa20(0x593)]['handlePeerConnectionSystemEvents'](_0x37885e);}}catch(_0x2012b7){throw this[_0x3bfa20(0x3b3)](_0x2012b7,{});}}[_0x23d54f(0x3b3)](_0x51b2bb,_0x23bced){const _0x17edb8=_0x23d54f;if(!(_0x51b2bb instanceof _0x31e58f)){if(_0x51b2bb instanceof _0x4f208b)throw _0x51b2bb;if(!(_0x51b2bb instanceof Error))throw new _0x4f208b(_0x522ceb[_0x17edb8(0x47b)],'Internal\x20unknown\x20error:\x20'+_0x51b2bb);if(!(_0x51b2bb instanceof _0x4ad60f))throw new _0x4f208b(_0x522ceb['InternalSDKError'],'Internal\x20error:\x20'+_0x51b2bb[_0x17edb8(0x1b1)]);switch(_0x51b2bb[_0x17edb8(0x16d)]){case _0x4ad60f[_0x17edb8(0x34c)][_0x17edb8(0x1e9)]:case _0x4ad60f[_0x17edb8(0x34c)][_0x17edb8(0x3a2)]:case _0x4ad60f[_0x17edb8(0x34c)][_0x17edb8(0x1e5)]:case _0x4ad60f['codes'][_0x17edb8(0x4b9)]:case _0x4ad60f[_0x17edb8(0x34c)][_0x17edb8(0x3a3)]:case _0x4ad60f['codes'][_0x17edb8(0x1b3)]:case _0x4ad60f[_0x17edb8(0x34c)][_0x17edb8(0x388)]:case _0x4ad60f[_0x17edb8(0x34c)][_0x17edb8(0x332)]:case _0x4ad60f[_0x17edb8(0x34c)][_0x17edb8(0x1c6)]:case _0x4ad60f[_0x17edb8(0x34c)][_0x17edb8(0x4f8)]:case _0x4ad60f[_0x17edb8(0x34c)][_0x17edb8(0x2c8)]:case _0x4ad60f[_0x17edb8(0x34c)]['InvalidSubscription']:}throw _0x2bad5b[_0x17edb8(0x302)](_0x17edb8(0x512)+_0x51b2bb[_0x17edb8(0x1b1)],{'clusterId':this[_0x17edb8(0x486)],'userId':this[_0x17edb8(0x3ce)][_0x17edb8(0x3c5)]()},_0x51b2bb),new _0x4f208b(_0x522ceb[_0x17edb8(0x47b)],_0x17edb8(0x1c9)+_0x51b2bb['message']);}}[_0x23d54f(0x2a0)](){const _0x30bdd7=_0x23d54f;return{'mediator':this,'vendorId':this[_0x30bdd7(0x455)],'clusterId':this[_0x30bdd7(0x486)],'localId':this['localUser'][_0x30bdd7(0x3c5)]()};}[_0x23d54f(0x2bc)](){const _0x14a609=_0x23d54f;return this[_0x14a609(0x1c8)][_0x14a609(0x308)](_0x2ac9eb=>{const _0xf32d54=_0x14a609,_0x2d5b02=_0x1ba0af(_0x2ac9eb,this[_0xf32d54(0x3ce)]['getId']()),_0xbb265=_0x2ac9eb[_0xf32d54(0xc5)]===_0x528d91[_0xf32d54(0x627)]||_0x2ac9eb[_0xf32d54(0xc5)]===_0x528d91[_0xf32d54(0x525)]&&_0x2ac9eb['content'][_0xf32d54(0x30e)]===_0x2a4dd2[_0xf32d54(0x627)]?_0x4edace[_0xf32d54(0x4b3)]:_0x4edace[_0xf32d54(0x497)];_0x2bad5b[_0xf32d54(0x50b)](_0xbb265,_0x2ac9eb['uuid']+'\x20-\x20'+_0x2d5b02,_0x2ac9eb),this['handleSystemEvents'](_0x2ac9eb)[_0xf32d54(0x3d6)](_0x420893=>{const _0x809281=_0xf32d54;console[_0x809281(0x302)](_0x420893);});});}async[_0x23d54f(0x520)](_0x3e2717,_0x8c3a08){const _0x34f87f=_0x23d54f;_0x8c3a08=this[_0x34f87f(0x4c3)](_0x8c3a08),await _0x3e2717[_0x34f87f(0x5bf)](_0x8c3a08,()=>this['syncKeyValueDatabase'](_0x3e2717,_0x8c3a08));}[_0x23d54f(0x4c3)](_0x2de8bb){const _0x4a72c8=_0x23d54f,_0x5078a7=this[_0x4a72c8(0x3de)][_0x4a72c8(0x170)]();if(!_0x2de8bb)return _0x5078a7[0x0];const _0x227743=_0x5078a7[_0x4a72c8(0x3a1)](_0x5e813c=>_0x2de8bb===_0x5e813c),_0x1f5c56=_0x5078a7[_0x227743+0x1];return _0x5078a7[_0x4a72c8(0xa9)]>0x0&&!_0x1f5c56?_0x2de8bb[0x0]:_0x1f5c56;}}class _0x5b09b2{[_0x23d54f(0x455)];[_0x23d54f(0x486)];[_0x23d54f(0x1f4)];[_0x23d54f(0x438)];[_0x23d54f(0x4c1)];constructor(_0x2878cf,_0x54699e,_0x2de5a9,_0x568363,_0x5f255e,_0x852685,_0xeb2b70=new _0x25af95()){const _0x327f5f=_0x23d54f;this['vendorId']=_0x2878cf,this[_0x327f5f(0x486)]=_0x54699e,this['authUser']=_0x2de5a9,this[_0x327f5f(0x438)]=_0xeb2b70,this[_0x327f5f(0x4c1)]=new _0x43a475(this['vendorId'],this[_0x327f5f(0x486)],_0x2de5a9,_0x568363,_0x5f255e,_0x852685,this);}async[_0x23d54f(0x44a)](){const _0x415838=_0x23d54f;await this[_0x415838(0x4c1)]['initialize'](),this[_0x415838(0x1f4)]['registerCluster'](this['clusterId'],_0x5c9fdb=>{const _0x23c8c4=_0x415838;this[_0x23c8c4(0x4c1)]['updateUser'](_0x5c9fdb);});}['getUser'](){const _0x4741e9=_0x23d54f,_0x4fbcb7=this[_0x4741e9(0x4c1)][_0x4741e9(0xd2)]();return{'getId':_0x4fbcb7[_0x4741e9(0x3c5)][_0x4741e9(0x128)](_0x4fbcb7),'getDisplayName':_0x4fbcb7[_0x4741e9(0xe7)]['bind'](_0x4fbcb7),'getEmail':_0x4fbcb7['getEmail'][_0x4741e9(0x128)](_0x4fbcb7),'getRemoteConnections':_0x4fbcb7[_0x4741e9(0x4a6)]['bind'](_0x4fbcb7),'setDisplayName':_0x4fbcb7[_0x4741e9(0x441)][_0x4741e9(0x128)](_0x4fbcb7),'setEmail':_0x4fbcb7[_0x4741e9(0xb4)][_0x4741e9(0x128)](_0x4fbcb7)};}[_0x23d54f(0x28b)](){const _0x36c271=_0x23d54f;this['orchestrator']['close'](),this['authUser'][_0x36c271(0x31b)](this[_0x36c271(0x486)]);}[_0x23d54f(0x130)](_0x5d7ca0){const _0x35ae7a=_0x23d54f,_0x35e708=this[_0x35ae7a(0x4c1)][_0x35ae7a(0x130)](_0x5d7ca0);return{'getName':_0x35e708[_0x35ae7a(0x249)][_0x35ae7a(0x128)](_0x35e708),'getOwnerId':_0x35e708[_0x35ae7a(0x336)][_0x35ae7a(0x128)](_0x35e708),'getContentType':_0x35e708[_0x35ae7a(0x2b9)]['bind'](_0x35e708),'publish':_0x35e708['publish']['bind'](_0x35e708),'subscribe':_0x35e708['subscribe']['bind'](_0x35e708),'unsubscribe':_0x35e708[_0x35ae7a(0x3e0)][_0x35ae7a(0x128)](_0x35e708),'close':_0x35e708[_0x35ae7a(0x168)]['bind'](_0x35e708)};}async['openObjectStoreBucket'](_0x207521){const _0x3d5c2d=_0x23d54f,_0x4a9508=await this[_0x3d5c2d(0x4c1)]['openObjectStoreBucket'](_0x207521);return{'getName':_0x4a9508[_0x3d5c2d(0x249)]['bind'](_0x4a9508),'getOwnerId':_0x4a9508[_0x3d5c2d(0x336)][_0x3d5c2d(0x128)](_0x4a9508),'getContentType':_0x4a9508['getContentType'][_0x3d5c2d(0x128)](_0x4a9508),'publish':_0x4a9508[_0x3d5c2d(0x127)]['bind'](_0x4a9508),'unpublish':_0x4a9508[_0x3d5c2d(0x3cf)]['bind'](_0x4a9508),'get':_0x4a9508[_0x3d5c2d(0x1dc)][_0x3d5c2d(0x128)](_0x4a9508),'list':_0x4a9508['list'][_0x3d5c2d(0x128)](_0x4a9508),'subscribe':_0x4a9508['subscribe'][_0x3d5c2d(0x128)](_0x4a9508),'unsubscribe':_0x4a9508[_0x3d5c2d(0x3e0)][_0x3d5c2d(0x128)](_0x4a9508),'close':_0x4a9508['close'][_0x3d5c2d(0x128)](_0x4a9508)};}async[_0x23d54f(0x562)](_0x179169,_0x377e60){const _0xb75a17=_0x23d54f,_0x1b3e30=await this['orchestrator'][_0xb75a17(0x562)](_0x179169,_0x377e60);return{'getName':_0x1b3e30[_0xb75a17(0x249)]['bind'](_0x1b3e30),'getOwnerId':_0x1b3e30[_0xb75a17(0x336)][_0xb75a17(0x128)](_0x1b3e30),'getContentType':_0x1b3e30[_0xb75a17(0x2b9)]['bind'](_0x1b3e30),'getTable':_0x1b3e30[_0xb75a17(0x54c)]['bind'](_0x1b3e30),'subscribe':_0x1b3e30[_0xb75a17(0x308)][_0xb75a17(0x128)](_0x1b3e30),'unsubscribe':_0x1b3e30[_0xb75a17(0x3e0)]['bind'](_0x1b3e30),'close':_0x1b3e30[_0xb75a17(0x168)][_0xb75a17(0x128)](_0x1b3e30)};}[_0x23d54f(0x3c2)](_0x5188af){const _0x1d1663=_0x23d54f;return this['orchestrator'][_0x1d1663(0x3c2)](_0x5188af)[_0x1d1663(0xc8)](_0x49324f=>({'getName':_0x49324f[_0x1d1663(0x249)][_0x1d1663(0x128)](_0x49324f),'getOwnerId':_0x49324f[_0x1d1663(0x336)][_0x1d1663(0x128)](_0x49324f),'getContentType':_0x49324f[_0x1d1663(0x2b9)][_0x1d1663(0x128)](_0x49324f),'publish':_0x49324f[_0x1d1663(0x127)]['bind'](_0x49324f),'subscribe':_0x49324f[_0x1d1663(0x308)][_0x1d1663(0x128)](_0x49324f),'unsubscribe':_0x49324f['unsubscribe'][_0x1d1663(0x128)](_0x49324f),'close':_0x49324f[_0x1d1663(0x168)][_0x1d1663(0x128)](_0x49324f)}));}[_0x23d54f(0x2fc)](_0x5360da){const _0x53f97a=_0x23d54f;return this['orchestrator'][_0x53f97a(0x2fc)](_0x5360da)[_0x53f97a(0xc8)](_0x2718fe=>({'getName':_0x2718fe[_0x53f97a(0x249)][_0x53f97a(0x128)](_0x2718fe),'getOwnerId':_0x2718fe[_0x53f97a(0x336)][_0x53f97a(0x128)](_0x2718fe),'getContentType':_0x2718fe['getContentType']['bind'](_0x2718fe),'publish':_0x2718fe[_0x53f97a(0x127)]['bind'](_0x2718fe),'unpublish':_0x2718fe[_0x53f97a(0x3cf)]['bind'](_0x2718fe),'get':_0x2718fe[_0x53f97a(0x1dc)]['bind'](_0x2718fe),'list':_0x2718fe[_0x53f97a(0x221)][_0x53f97a(0x128)](_0x2718fe),'subscribe':_0x2718fe[_0x53f97a(0x308)][_0x53f97a(0x128)](_0x2718fe),'unsubscribe':_0x2718fe[_0x53f97a(0x3e0)][_0x53f97a(0x128)](_0x2718fe),'close':_0x2718fe[_0x53f97a(0x168)]['bind'](_0x2718fe)}));}[_0x23d54f(0x36f)](_0x29e983){const _0x5d6e4c=_0x23d54f;return this[_0x5d6e4c(0x4c1)][_0x5d6e4c(0x36f)](_0x29e983)[_0x5d6e4c(0xc8)](_0x5675ac=>({'getName':_0x5675ac['getName']['bind'](_0x5675ac),'getOwnerId':_0x5675ac['getOwnerId'][_0x5d6e4c(0x128)](_0x5675ac),'getContentType':_0x5675ac[_0x5d6e4c(0x2b9)][_0x5d6e4c(0x128)](_0x5675ac),'getTable':_0x5675ac[_0x5d6e4c(0x54c)]['bind'](_0x5675ac),'subscribe':_0x5675ac[_0x5d6e4c(0x308)]['bind'](_0x5675ac),'unsubscribe':_0x5675ac[_0x5d6e4c(0x3e0)][_0x5d6e4c(0x128)](_0x5675ac),'close':_0x5675ac[_0x5d6e4c(0x168)][_0x5d6e4c(0x128)](_0x5675ac)}));}[_0x23d54f(0x416)](_0x5452c3,_0x324145){const _0x1bdee1=_0x23d54f,_0x3e3ff8=this[_0x1bdee1(0x4c1)][_0x1bdee1(0x3d9)](_0x5452c3,_0x324145);return{'getLabel':_0x3e3ff8['getLabel']['bind'](_0x3e3ff8),'getOwnerId':_0x3e3ff8[_0x1bdee1(0x336)][_0x1bdee1(0x128)](_0x3e3ff8),'getContentType':_0x3e3ff8['getContentType']['bind'](_0x3e3ff8),'getMediaStream':_0x3e3ff8[_0x1bdee1(0x462)][_0x1bdee1(0x128)](_0x3e3ff8),'setPriority':_0x3e3ff8[_0x1bdee1(0x408)]['bind'](_0x3e3ff8),'unpublish':_0x3e3ff8['unpublish'][_0x1bdee1(0x128)](_0x3e3ff8)};}[_0x23d54f(0x449)](_0x128c44,_0x572406){const _0x31dcae=_0x23d54f,_0x53beb1=this[_0x31dcae(0x4c1)][_0x31dcae(0x46b)](_0x128c44,_0x572406);return{'getLabel':_0x53beb1['getLabel'][_0x31dcae(0x128)](_0x53beb1),'getOwnerId':_0x53beb1[_0x31dcae(0x336)][_0x31dcae(0x128)](_0x53beb1),'getContentType':_0x53beb1[_0x31dcae(0x2b9)][_0x31dcae(0x128)](_0x53beb1),'setPriority':_0x53beb1[_0x31dcae(0x408)][_0x31dcae(0x128)](_0x53beb1),'unpublish':_0x53beb1[_0x31dcae(0x3cf)][_0x31dcae(0x128)](_0x53beb1),'getMediaStream':_0x53beb1[_0x31dcae(0x462)][_0x31dcae(0x128)](_0x53beb1),'addTrack':_0x53beb1['addTrack']['bind'](_0x53beb1),'removeTrack':_0x53beb1[_0x31dcae(0x99)][_0x31dcae(0x128)](_0x53beb1),'replaceTrack':_0x53beb1[_0x31dcae(0x256)][_0x31dcae(0x128)](_0x53beb1),'setTransformations':_0x53beb1[_0x31dcae(0x1a2)]['bind'](_0x53beb1)};}[_0x23d54f(0x21f)](_0x1c6cd5){const _0x5f3da9=_0x23d54f;return this[_0x5f3da9(0x4c1)][_0x5f3da9(0x21f)](_0x1c6cd5)['map'](_0x14617d=>({'getLabel':_0x14617d[_0x5f3da9(0xc7)][_0x5f3da9(0x128)](_0x14617d),'getOwnerId':_0x14617d[_0x5f3da9(0x336)][_0x5f3da9(0x128)](_0x14617d),'getContentType':_0x14617d[_0x5f3da9(0x2b9)][_0x5f3da9(0x128)](_0x14617d),'getMediaStream':_0x14617d[_0x5f3da9(0x462)][_0x5f3da9(0x128)](_0x14617d),'setPriority':_0x14617d[_0x5f3da9(0x408)][_0x5f3da9(0x128)](_0x14617d),'unpublish':_0x14617d[_0x5f3da9(0x3cf)][_0x5f3da9(0x128)](_0x14617d)}));}['getRemoteMediaStreams'](_0x503b09){const _0x2b6c12=_0x23d54f;return this[_0x2b6c12(0x4c1)][_0x2b6c12(0x5b0)](_0x503b09)[_0x2b6c12(0xc8)](_0x1d5cda=>({'getLabel':_0x1d5cda[_0x2b6c12(0xc7)]['bind'](_0x1d5cda),'getOwnerId':_0x1d5cda[_0x2b6c12(0x336)][_0x2b6c12(0x128)](_0x1d5cda),'getContentType':_0x1d5cda[_0x2b6c12(0x2b9)][_0x2b6c12(0x128)](_0x1d5cda),'getMediaStream':_0x1d5cda[_0x2b6c12(0x462)]['bind'](_0x1d5cda),'subscribe':_0x1d5cda[_0x2b6c12(0x308)][_0x2b6c12(0x128)](_0x1d5cda),'unsubscribe':_0x1d5cda[_0x2b6c12(0x3e0)]['bind'](_0x1d5cda),'getAvailableTrackKinds':_0x1d5cda[_0x2b6c12(0x1aa)][_0x2b6c12(0x128)](_0x1d5cda),'update':_0x1d5cda['update']['bind'](_0x1d5cda),'onProviderChanged':_0x1d5cda[_0x2b6c12(0x45c)][_0x2b6c12(0x128)](_0x1d5cda)}));}[_0x23d54f(0x516)](_0x1168d4){const _0x36c7c5=_0x23d54f;return this[_0x36c7c5(0x4c1)][_0x36c7c5(0x516)](_0x1168d4)[_0x36c7c5(0xc8)](_0x36c915=>({'getId':_0x36c915[_0x36c7c5(0x3c5)][_0x36c7c5(0x128)](_0x36c915),'getDisplayName':_0x36c915[_0x36c7c5(0xe7)][_0x36c7c5(0x128)](_0x36c915),'getEmail':_0x36c915[_0x36c7c5(0x360)]['bind'](_0x36c915),'getRemoteConnections':_0x36c915['getRemoteConnections']['bind'](_0x36c915)}));}['on']=(..._0x569a08)=>{const _0x6ce87a=_0x23d54f;this[_0x6ce87a(0x438)]['on'](..._0x569a08);};[_0x23d54f(0x483)]=(..._0x2476c6)=>this[_0x23d54f(0x438)][_0x23d54f(0x483)](..._0x2476c6);[_0x23d54f(0x48a)](..._0x30e927){const _0x4474a2=_0x23d54f;this['eventEmitter'][_0x4474a2(0x48a)](..._0x30e927);}}class _0x2ca324{['id'];[_0x23d54f(0x4d3)];[_0x23d54f(0x2b7)];['joinedClusters']=new Map();['observer']=_0x2a58e2();constructor(_0x33aaa2,_0x2ab449,_0x3343a7){const _0x998710=_0x23d54f;this['id']=_0x33aaa2,this['displayName']=_0x2ab449,this[_0x998710(0x2b7)]=_0x3343a7;}[_0x23d54f(0x3c5)](){return this['id'];}[_0x23d54f(0xe7)](){return this['displayName'];}['getEmail'](){const _0x13bfaf=_0x23d54f;return this[_0x13bfaf(0x2b7)];}[_0x23d54f(0x441)](_0x5692dd){const _0x401be0=_0x23d54f;this[_0x401be0(0x4d3)]!==_0x5692dd&&(this[_0x401be0(0x4d3)]=_0x5692dd,this[_0x401be0(0xf6)]['publish'](this));}[_0x23d54f(0xb4)](_0x381d0d){const _0x3b1c5e=_0x23d54f;this[_0x3b1c5e(0x2b7)]!==_0x381d0d&&(this[_0x3b1c5e(0x2b7)]=_0x381d0d,this['observer'][_0x3b1c5e(0x127)](this));}['registerCluster'](_0x5f0c0d,_0x4e5b9a){const _0x2e8639=_0x23d54f;if(this[_0x2e8639(0x28c)]['has'](_0x5f0c0d))return;const _0x57c857=this[_0x2e8639(0xf6)]['subscribe'](_0x4e5b9a);this[_0x2e8639(0x28c)]['set'](_0x5f0c0d,_0x57c857);}[_0x23d54f(0x31b)](_0x23c4b4){const _0x46b341=_0x23d54f;if(!this[_0x46b341(0x28c)][_0x46b341(0x201)](_0x23c4b4))return;const _0x5bd163=this[_0x46b341(0x28c)][_0x46b341(0x1dc)](_0x23c4b4);_0x5bd163&&_0x5bd163(),this['joinedClusters'][_0x46b341(0x114)](_0x23c4b4);}}class _0x2e826f{[_0x23d54f(0x455)];['user'];constructor(_0xfd2958){const _0xc9fd24=_0x23d54f;this[_0xc9fd24(0x455)]=_0xfd2958;}async['signInWithCredential'](_0x112ab9){const _0x45879f=_0x23d54f,_0x400ddb=await(0x0,_0x310a8e[_0x45879f(0x582)])(_0x30a96f[_0x45879f(0x4f5)](),'sdkCreateToken')({'uid':'ccc'+this[_0x45879f(0x455)]+_0x45879f(0x433)+_0x112ab9['id']}),_0x475d1b=await(0x0,_0x150d4d[_0x45879f(0x394)])(_0x30a96f[_0x45879f(0x293)](),_0x400ddb[_0x45879f(0x530)][_0x45879f(0x565)]);this[_0x45879f(0x52f)]=_0x475d1b[_0x45879f(0x52f)];}['getIdToken'](){const _0x5f1e93=_0x23d54f;return this[_0x5f1e93(0x52f)]?.[_0x5f1e93(0x5ba)]()??Promise[_0x5f1e93(0x451)](_0x5f1e93(0x4e5));}}class _0x305d7a{static ['instance'];[_0x23d54f(0x20e)]=[];constructor(){}static['getInstance'](){const _0x57c78f=_0x23d54f;return _0x305d7a[_0x57c78f(0x23d)]||(_0x305d7a['instance']=new _0x305d7a()),_0x305d7a[_0x57c78f(0x23d)];}[_0x23d54f(0x3ea)](){const _0x52784b=_0x23d54f;this[_0x52784b(0x115)](),this[_0x52784b(0x9c)](),this['checkScreenSharing'](),this[_0x52784b(0x600)](),this[_0x52784b(0x2e5)](),this['checkAudioOutput'](),this[_0x52784b(0x2e3)](),this[_0x52784b(0x41c)](),this[_0x52784b(0xbd)](),this['checkAudioContext'](),_0x2bad5b[_0x52784b(0x4dc)](_0x4edace[_0x52784b(0x20d)],_0x52784b(0x33a),{'featureSupport':this[_0x52784b(0x20e)]});}[_0x23d54f(0x263)](_0x588cfe){const _0x3236df=_0x23d54f,_0x4a0bc1=this[_0x3236df(0x20e)][_0x3236df(0xad)](_0x1911f8=>_0x1911f8[_0x3236df(0x13a)]===_0x588cfe);return!!_0x4a0bc1&&_0x4a0bc1['supported'];}[_0x23d54f(0x3fc)](_0x2fb925){const _0x281052=_0x23d54f;_0x2bad5b[_0x281052(0x51a)]('support',{'userId':_0x2fb925,'data':{'featureSupport':this[_0x281052(0x20e)]}});}[_0x23d54f(0x115)](){const _0x448886=_0x23d54f,_0x56570d=_0x30d98a['WebRTC'];let _0x293381=!0x1;_0x448886(0x603)==typeof RTCPeerConnection&&_0x448886(0x603)==typeof RTCIceCandidate&&_0x448886(0x603)==typeof RTCSessionDescription?_0x293381=!0x0:_0x2bad5b[_0x448886(0x4dc)](_0x4edace['Support'],_0x448886(0x3c4)+_0x56570d+'\x20not\x20supported'),this[_0x448886(0x20e)][_0x448886(0x140)]({'name':_0x56570d,'supported':_0x293381});}['checkMediaStream'](){const _0x51ce10=_0x23d54f,_0xd3ba7f=_0x30d98a[_0x51ce10(0xba)];let _0x1b5a79=!0x1;_0x51ce10(0x603)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x51ce10(0x546)==typeof navigator&&_0x51ce10(0x546)==typeof navigator[_0x51ce10(0x5a9)]&&_0x51ce10(0x603)==typeof navigator[_0x51ce10(0x5a9)]['getUserMedia']?_0x1b5a79=!0x0:_0x2bad5b['log'](_0x4edace[_0x51ce10(0x20d)],'Support:\x20'+_0xd3ba7f+'\x20not\x20supported'),this['featureSupport'][_0x51ce10(0x140)]({'name':_0xd3ba7f,'supported':_0x1b5a79});}[_0x23d54f(0x223)](){const _0x456d05=_0x23d54f,_0x185fa6=_0x30d98a[_0x456d05(0x4fd)];let _0x152cf1=!0x1;'object'==typeof navigator&&_0x456d05(0x546)==typeof navigator[_0x456d05(0x5a9)]&&_0x456d05(0x603)==typeof navigator['mediaDevices']['getDisplayMedia']?_0x152cf1=!0x0:_0x2bad5b['log'](_0x4edace[_0x456d05(0x20d)],_0x456d05(0x3c4)+_0x185fa6+_0x456d05(0x555)),this[_0x456d05(0x20e)][_0x456d05(0x140)]({'name':_0x185fa6,'supported':_0x152cf1});}['checkAudioVolume'](){const _0x477f9e=_0x23d54f,_0x418523=_0x30d98a[_0x477f9e(0x2de)];let _0x3e4dee=!0x1;_0x477f9e(0x603)!=typeof AudioContext||_0x477f9e(0x603)!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x2bad5b['log'](_0x4edace[_0x477f9e(0x20d)],_0x477f9e(0x3c4)+_0x418523+'\x20not\x20supported'):_0x3e4dee=!0x0,this[_0x477f9e(0x20e)][_0x477f9e(0x140)]({'name':_0x418523,'supported':_0x3e4dee});}[_0x23d54f(0x2e5)](){const _0x243604=_0x23d54f,_0xa08c62=_0x30d98a[_0x243604(0x5be)];let _0x3dfebc=!0x1;'object'==typeof navigator&&_0x243604(0x546)==typeof navigator[_0x243604(0x5a9)]&&_0x243604(0x603)==typeof navigator['mediaDevices'][_0x243604(0x522)]&&_0x243604(0x603)==typeof MediaDeviceInfo?_0x3dfebc=!0x0:_0x2bad5b[_0x243604(0x4dc)](_0x4edace[_0x243604(0x20d)],_0x243604(0x3c4)+_0xa08c62+_0x243604(0x555)),this['featureSupport'][_0x243604(0x140)]({'name':_0xa08c62,'supported':_0x3dfebc});}[_0x23d54f(0x57d)](){const _0x4fd88d=_0x23d54f,_0x98a72f=_0x30d98a[_0x4fd88d(0x292)];let _0x366c09=!0x1;_0x4fd88d(0x546)==typeof document&&_0x4fd88d(0x603)==typeof document[_0x4fd88d(0x31d)]('video')[_0x4fd88d(0x1b2)]?_0x366c09=!0x0:_0x2bad5b[_0x4fd88d(0x4dc)](_0x4edace[_0x4fd88d(0x20d)],_0x4fd88d(0x3c4)+_0x98a72f+_0x4fd88d(0x555)),this[_0x4fd88d(0x20e)][_0x4fd88d(0x140)]({'name':_0x98a72f,'supported':_0x366c09});}async[_0x23d54f(0x2e3)](){const _0x3a966d=_0x23d54f,_0x180220=_0x30d98a['Recording'];let _0x595869=!0x1;try{const _0x4525ff=document[_0x3a966d(0x31d)](_0x3a966d(0x23a));if(MediaRecorder&&MediaSource&&_0x4525ff['captureStream']){const _0x593eb5=_0x4525ff[_0x3a966d(0x25b)](),_0x43837e=new MediaRecorder(_0x593eb5);_0x43837e['start'](),await new Promise(_0xd23b8e=>setTimeout(_0xd23b8e,0x7d0)),_0x43837e[_0x3a966d(0x609)](),_0x595869=_0x3a966d(0x446)===_0x43837e[_0x3a966d(0x15a)];}}catch(_0x3733c6){_0x2bad5b[_0x3a966d(0x4dc)](_0x4edace['Support'],_0x3a966d(0x3c4)+_0x180220+_0x3a966d(0x5c6),_0x3733c6);}this[_0x3a966d(0x20e)][_0x3a966d(0x140)]({'name':_0x180220,'supported':_0x595869}),_0x595869||_0x2bad5b[_0x3a966d(0x4dc)](_0x4edace[_0x3a966d(0x20d)],_0x3a966d(0x3c4)+_0x180220+'\x20not\x20supported');}[_0x23d54f(0x41c)](){const _0x5eff44=_0x23d54f,_0x13675b=_0x30d98a[_0x5eff44(0xbb)];let _0x4c4665=!0x1;try{document[_0x5eff44(0x31d)](_0x5eff44(0x23a))['captureStream']&&(_0x4c4665=!0x0);}catch(_0x12a3e0){_0x2bad5b[_0x5eff44(0x4dc)](_0x4edace[_0x5eff44(0x20d)],'Support:\x20'+_0x13675b+_0x5eff44(0x5c6),_0x12a3e0);}this[_0x5eff44(0x20e)][_0x5eff44(0x140)]({'name':_0x13675b,'supported':_0x4c4665}),_0x4c4665||_0x2bad5b[_0x5eff44(0x4dc)](_0x4edace['Support'],_0x5eff44(0x3c4)+_0x13675b+_0x5eff44(0x555));}[_0x23d54f(0xbd)](){const _0x163cc4=_0x23d54f,_0x2b9442=_0x30d98a['WebGL'];let _0x53838d=!0x1;try{const _0x334875=document['createElement'](_0x163cc4(0x23a));WebGLRenderingContext&&_0x334875[_0x163cc4(0xae)]('webgl')&&(_0x53838d=!0x0);}catch(_0x5437ca){_0x2bad5b['log'](_0x4edace['Support'],_0x163cc4(0x3c4)+_0x2b9442+_0x163cc4(0x5c6),_0x5437ca);}this[_0x163cc4(0x20e)][_0x163cc4(0x140)]({'name':_0x2b9442,'supported':_0x53838d}),_0x53838d||_0x2bad5b[_0x163cc4(0x4dc)](_0x4edace[_0x163cc4(0x20d)],'Support:\x20'+_0x2b9442+_0x163cc4(0x555));}[_0x23d54f(0x339)](){const _0x209fc4=_0x23d54f,_0x3aa5b3=_0x30d98a['AudioContext'];let _0x13ab01=!0x1;_0x209fc4(0x603)==typeof AudioContext?_0x13ab01=!0x0:_0x2bad5b['log'](_0x4edace['Support'],_0x209fc4(0x3c4)+_0x3aa5b3+_0x209fc4(0x555)),this[_0x209fc4(0x20e)][_0x209fc4(0x140)]({'name':_0x3aa5b3,'supported':_0x13ab01});}}const _0x344099=_0x305d7a[_0x23d54f(0x154)]();class _0x2478dc{static [_0x23d54f(0x23d)];[_0x23d54f(0x116)];[_0x23d54f(0x455)];['options'];['configs'];[_0x23d54f(0x47f)];constructor(_0x3723f5,_0x1286ab,_0xfb57f5){const _0x5cc2a3=_0x23d54f;this[_0x5cc2a3(0x455)]=_0x3723f5,this[_0x5cc2a3(0x100)]=_0x1286ab,this[_0x5cc2a3(0x116)]=new _0x2e826f(this[_0x5cc2a3(0x455)]),_0x344099['initialize'](),this[_0x5cc2a3(0x270)]={'audioContext':_0xfb57f5?.[_0x5cc2a3(0x5f3)]??(_0x344099[_0x5cc2a3(0x263)](_0x30d98a[_0x5cc2a3(0x368)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0xfb57f5?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0xfb57f5?.[_0x5cc2a3(0xe8)]??0x3,'maxConnections':_0xfb57f5?.[_0x5cc2a3(0x1a7)]??(_0xfb57f5?.['minConnections']&&0x4*_0xfb57f5[_0x5cc2a3(0xe8)])??0xc,'maxDistance':_0xfb57f5?.[_0x5cc2a3(0x38c)]??0xa,'maxFps':_0xfb57f5?.['maxFps']??0x18,'maxBpp':_0xfb57f5?.[_0x5cc2a3(0x322)]??0.12,'objectStoreConnector':_0xfb57f5?.[_0x5cc2a3(0x3ef)]??_0x524950[_0x5cc2a3(0x3fb)],'keyValueDatabaseConnector':_0xfb57f5?.[_0x5cc2a3(0x59a)]??_0x4e488d[_0x5cc2a3(0xcb)],'peerConnectionConnector':_0xfb57f5?.[_0x5cc2a3(0x383)]??_0x3e02ac[_0x5cc2a3(0x594)]},_0xfb57f5?.[_0x5cc2a3(0x38f)]&&this[_0x5cc2a3(0x270)][_0x5cc2a3(0x5f3)]&&_0x2aa01e['startNoThrottlingHack'](this['options'][_0x5cc2a3(0x5f3)]),_0x2bad5b[_0x5cc2a3(0x2c7)](this['vendorId']),_0xfb57f5?.['loggingConnectors']&&_0x2bad5b[_0x5cc2a3(0xcc)](_0xfb57f5[_0x5cc2a3(0x3b5)]);}static async[_0x23d54f(0x154)](_0x1099ed,_0x5c7516,_0x52cce7,_0x339be2){const _0x2c30a0=_0x23d54f,_0x4d8e31=await this[_0x2c30a0(0x612)](_0x1099ed,_0x5c7516,_0x339be2);return _0x2478dc[_0x2c30a0(0x23d)]||(_0x2478dc['instance']=new _0x2478dc(_0x1099ed,_0x4d8e31,_0x52cce7)),{'authenticateUser':_0x2478dc[_0x2c30a0(0x23d)][_0x2c30a0(0x586)]['bind'](_0x2478dc[_0x2c30a0(0x23d)]),'joinCluster':_0x2478dc['instance']['joinCluster'][_0x2c30a0(0x128)](_0x2478dc[_0x2c30a0(0x23d)])};}static async[_0x23d54f(0x301)](){return _0x30a96f['getEstimatedTimestamp']();}static async[_0x23d54f(0x612)](_0x34d296,_0x1479c9,_0x49ec0d){const _0x382f1e=_0x23d54f,_0xfd1a76=(await(0x0,_0x310a8e[_0x382f1e(0x582)])(_0x30a96f[_0x382f1e(0x4f5)](),_0x382f1e(0x5e2))({'vendorId':_0x34d296,'accessToken':_0x1479c9,'secretKey':_0x49ec0d}))[_0x382f1e(0x530)];return _0xfd1a76[_0x382f1e(0x479)]||(_0xfd1a76[_0x382f1e(0x479)]=[]),_0xfd1a76;}async[_0x23d54f(0x586)](_0x4d3fa3){const _0x40bf17=_0x23d54f;await this['authService'][_0x40bf17(0x38a)](_0x4d3fa3);const _0x2a737d=new _0x2ca324(_0x4d3fa3['id'],_0x4d3fa3[_0x40bf17(0x4d3)],_0x4d3fa3[_0x40bf17(0x2b7)]);return this['authContext']={'user':_0x2a737d},_0x344099[_0x40bf17(0x3fc)](_0x2a737d[_0x40bf17(0x3c5)]()),{'getId':_0x2a737d['getId'][_0x40bf17(0x128)](_0x2a737d),'getDisplayName':_0x2a737d[_0x40bf17(0xe7)][_0x40bf17(0x128)](_0x2a737d),'getEmail':_0x2a737d[_0x40bf17(0x360)][_0x40bf17(0x128)](_0x2a737d),'setDisplayName':_0x2a737d['setDisplayName']['bind'](_0x2a737d),'setEmail':_0x2a737d[_0x40bf17(0xb4)][_0x40bf17(0x128)](_0x2a737d)};}async[_0x23d54f(0x453)](_0x536e05){const _0x5caa5e=_0x23d54f;if(!this[_0x5caa5e(0x47f)])throw new _0x4f208b(_0x522ceb[_0x5caa5e(0x517)],_0x5caa5e(0x133));const _0x295d34=new _0x5b09b2(this[_0x5caa5e(0x455)],_0x536e05,this[_0x5caa5e(0x47f)][_0x5caa5e(0x52f)],this[_0x5caa5e(0x116)],this[_0x5caa5e(0x270)],this[_0x5caa5e(0x100)]);return await _0x295d34[_0x5caa5e(0x44a)](),_0x2bad5b[_0x5caa5e(0x51a)](_0x5caa5e(0x2d1),{'clusterId':_0x536e05,'userId':this[_0x5caa5e(0x47f)]['user'][_0x5caa5e(0x3c5)]()}),{'leave':_0x295d34[_0x5caa5e(0x28b)]['bind'](_0x295d34),'getUser':_0x295d34[_0x5caa5e(0x175)][_0x5caa5e(0x128)](_0x295d34),'openPubSubTopic':_0x295d34[_0x5caa5e(0x130)][_0x5caa5e(0x128)](_0x295d34),'openObjectStoreBucket':_0x295d34[_0x5caa5e(0xd7)]['bind'](_0x295d34),'openKeyValueDatabase':_0x295d34[_0x5caa5e(0x562)][_0x5caa5e(0x128)](_0x295d34),'publishLocalMediaStream':_0x295d34[_0x5caa5e(0x416)][_0x5caa5e(0x128)](_0x295d34),'publishLocalDynamicMediaStream':_0x295d34[_0x5caa5e(0x449)]['bind'](_0x295d34),'getPubSubTopics':_0x295d34[_0x5caa5e(0x3c2)][_0x5caa5e(0x128)](_0x295d34),'getObjectStoreBuckets':_0x295d34[_0x5caa5e(0x2fc)]['bind'](_0x295d34),'getKeyValueDatabases':_0x295d34[_0x5caa5e(0x36f)]['bind'](_0x295d34),'getLocalMediaStreams':_0x295d34['getLocalMediaStreams'][_0x5caa5e(0x128)](_0x295d34),'getRemoteMediaStreams':_0x295d34[_0x5caa5e(0x5b0)][_0x5caa5e(0x128)](_0x295d34),'getRemoteUsers':_0x295d34['getRemoteUsers'][_0x5caa5e(0x128)](_0x295d34),'on':_0x295d34['on'][_0x5caa5e(0x128)](_0x295d34),'off':_0x295d34[_0x5caa5e(0x48a)][_0x5caa5e(0x128)](_0x295d34)};}}})()),_0x3a3ede;})())));