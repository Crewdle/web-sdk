(function(_0x556f7c,_0x2fff33){const _0x49705b=a0_0x38ff,_0x8d16e4=_0x556f7c();while(!![]){try{const _0xc97b8a=parseInt(_0x49705b(0x50d))/0x1+-parseInt(_0x49705b(0xa62))/0x2*(-parseInt(_0x49705b(0x8b6))/0x3)+parseInt(_0x49705b(0x8f8))/0x4*(-parseInt(_0x49705b(0xa8f))/0x5)+parseInt(_0x49705b(0x535))/0x6*(-parseInt(_0x49705b(0x1f7))/0x7)+-parseInt(_0x49705b(0x166))/0x8+parseInt(_0x49705b(0x911))/0x9*(parseInt(_0x49705b(0x411))/0xa)+-parseInt(_0x49705b(0x728))/0xb*(-parseInt(_0x49705b(0x3a6))/0xc);if(_0xc97b8a===_0x2fff33)break;else _0x8d16e4['push'](_0x8d16e4['shift']());}catch(_0x21586d){_0x8d16e4['push'](_0x8d16e4['shift']());}}}(a0_0x3fc2,0x851f9),!function(_0x43c07f,_0x37eb69){const _0x45b172=a0_0x38ff;if(_0x45b172(0x9a9)==typeof exports&&_0x45b172(0x9a9)==typeof module)module[_0x45b172(0x7c3)]=_0x37eb69();else{if(_0x45b172(0x918)==typeof define&&define[_0x45b172(0x404)])define([],_0x37eb69);else{var _0x57e02b=_0x37eb69();for(var _0x25bb66 in _0x57e02b)(_0x45b172(0x9a9)==typeof exports?exports:_0x43c07f)[_0x25bb66]=_0x57e02b[_0x25bb66];}}}(this,()=>((()=>{'use strict';const _0x3fd00f=a0_0x38ff;var _0x2ba98f={0x14d:(_0x4dc165,_0x288441,_0x14911e)=>{const _0x4d1bc0=a0_0x38ff;_0x14911e['d'](_0x288441,{'O':()=>_0x7c284e});const _0x7c284e={'version':_0x4d1bc0(0x234),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x4d1bc0(0x8b1),'authDomain':_0x4d1bc0(0x8cf),'databaseURL':_0x4d1bc0(0x81f),'projectId':_0x4d1bc0(0x9ac),'storageBucket':_0x4d1bc0(0x49f),'appId':_0x4d1bc0(0x2fd),'functionsRegion':'northamerica-northeast1'},'apiUrl':'https://api.stg.crewdle.ai','google':{'searchEngineId':_0x4d1bc0(0x8f9)},'aws':{'endpoint':_0x4d1bc0(0x76e),'region':_0x4d1bc0(0x825)}};},0x33b:(_0x19d2cb,_0x82f67d,_0x12c47a)=>{_0x12c47a['d'](_0x82f67d,{'O':()=>_0x1889ea});const _0x1889ea={};},0x3e6:(_0x22370a,_0x524ce0,_0x350eff)=>{const _0x13a1e1=a0_0x38ff;_0x350eff['d'](_0x524ce0,{'O':()=>_0x5b1adf});const _0x5b1adf={'version':_0x13a1e1(0x7b3),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x13a1e1(0x588),'authDomain':_0x13a1e1(0x6e3),'databaseURL':_0x13a1e1(0x662),'projectId':_0x13a1e1(0x4a0),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':_0x13a1e1(0xa95),'appId':_0x13a1e1(0x466),'measurementId':_0x13a1e1(0x485)},'apiUrl':'https://api.crewdle.ai','aws':{'endpoint':_0x13a1e1(0x2e6),'region':'us-east-1'}};},0x20:(_0x28896b,_0x583cee,_0x4d2759)=>{_0x4d2759['d'](_0x583cee,{'O':()=>_0x524db0});const _0x524db0={};}},_0x3584fa={};function _0x3fd56d(_0x3685b8){const _0x4af098=a0_0x38ff;var _0x511875=_0x3584fa[_0x3685b8];if(void 0x0!==_0x511875)return _0x511875[_0x4af098(0x7c3)];var _0x5dfe29=_0x3584fa[_0x3685b8]={'exports':{}};return _0x2ba98f[_0x3685b8](_0x5dfe29,_0x5dfe29[_0x4af098(0x7c3)],_0x3fd56d),_0x5dfe29[_0x4af098(0x7c3)];}_0x3fd56d['d']=(_0x6ef430,_0x3f2b5d)=>{const _0x23c86a=a0_0x38ff;for(var _0x555ce5 in _0x3f2b5d)_0x3fd56d['o'](_0x3f2b5d,_0x555ce5)&&!_0x3fd56d['o'](_0x6ef430,_0x555ce5)&&Object[_0x23c86a(0x6e9)](_0x6ef430,_0x555ce5,{'enumerable':!0x0,'get':_0x3f2b5d[_0x555ce5]});},_0x3fd56d['g']=(function(){const _0x3927eb=a0_0x38ff;if(_0x3927eb(0x9a9)==typeof globalThis)return globalThis;try{return this||new Function(_0x3927eb(0x29d))();}catch(_0x2fb575){if('object'==typeof window)return window;}}()),_0x3fd56d['o']=(_0x2a37b5,_0x20ee73)=>Object[_0x3fd00f(0x660)][_0x3fd00f(0xa76)][_0x3fd00f(0x85a)](_0x2a37b5,_0x20ee73),_0x3fd56d['r']=_0x5b3b82=>{const _0x217e84=_0x3fd00f;_0x217e84(0x332)!=typeof Symbol&&Symbol[_0x217e84(0x890)]&&Object[_0x217e84(0x6e9)](_0x5b3b82,Symbol[_0x217e84(0x890)],{'value':_0x217e84(0xaaf)}),Object[_0x217e84(0x6e9)](_0x5b3b82,'__esModule',{'value':!0x0});};var _0x2c23d1,_0x5de0fb,_0x20ff7d,_0x1f2c6b={};_0x3fd56d['r'](_0x1f2c6b),_0x3fd56d['d'](_0x1f2c6b,{'KeyValueDatabase':()=>_0xf9e1a2,'LayoutBuilder':()=>_0x80efac,'LoggingChannels':()=>_0x20ff7d,'QueryBuilder':()=>_0x217970,'SDK':()=>_0x4a210a,'SDKClientErrorCodes':()=>_0x2c23d1,'TableBuilder':()=>_0x236ed6,'logger':()=>_0x404abe}),function(_0x51d724){const _0x662083=_0x3fd00f;_0x51d724[_0x662083(0x17b)]=_0x662083(0x680),_0x51d724[_0x662083(0x5ca)]=_0x662083(0x8fe),_0x51d724[_0x662083(0x855)]=_0x662083(0xaa8),_0x51d724['ExternalStorageConnectionAlreadyExists']=_0x662083(0x492),_0x51d724['ExternalStorageConnectionAlreadySubscribed']='external-storage-connection-already-subscribed',_0x51d724['ExternalStorageConnectionDoesNotExist']=_0x662083(0x1b1),_0x51d724[_0x662083(0x3da)]=_0x662083(0x178),_0x51d724[_0x662083(0xad2)]=_0x662083(0x9ec),_0x51d724['ExternalStorageNameNotString']=_0x662083(0x897),_0x51d724[_0x662083(0xa2d)]=_0x662083(0x16b),_0x51d724[_0x662083(0xac3)]=_0x662083(0x92a),_0x51d724[_0x662083(0x925)]=_0x662083(0x9f2),_0x51d724['GenerativeAIContextJobMissingThreadId']='generative-ai-context-job-missing-thread-id',_0x51d724[_0x662083(0x42f)]=_0x662083(0x192),_0x51d724[_0x662083(0x569)]=_0x662083(0x969),_0x51d724['GenerativeAIWorkerAlreadyExists']=_0x662083(0x3de),_0x51d724[_0x662083(0x6e7)]=_0x662083(0x342),_0x51d724['GenerativeAIWorkerModelSyncError']=_0x662083(0x875),_0x51d724[_0x662083(0x4c7)]=_0x662083(0x9ef),_0x51d724[_0x662083(0x88e)]=_0x662083(0x23c),_0x51d724[_0x662083(0x7cf)]=_0x662083(0x3a9),_0x51d724['GraphDatabaseNameNotString']=_0x662083(0x9c5),_0x51d724[_0x662083(0x370)]=_0x662083(0x93d),_0x51d724[_0x662083(0x87b)]=_0x662083(0x2de),_0x51d724[_0x662083(0x874)]=_0x662083(0x6b7),_0x51d724[_0x662083(0x7f6)]='job-dispatcher-job-not-found',_0x51d724[_0x662083(0x609)]='job-dispatcher-invalid-job-type',_0x51d724[_0x662083(0x457)]=_0x662083(0x92e),_0x51d724[_0x662083(0xab7)]=_0x662083(0x37c),_0x51d724['ObjectStoreAlreadyExists']=_0x662083(0x513),_0x51d724['ObjectStoreAlreadySubscribed']='object-store-already-subscribed',_0x51d724[_0x662083(0x8f7)]=_0x662083(0x561),_0x51d724['ObjectStoreNameNotString']=_0x662083(0x30d),_0x51d724[_0x662083(0x6b9)]=_0x662083(0x4a4),_0x51d724[_0x662083(0x55e)]=_0x662083(0x164),_0x51d724[_0x662083(0x324)]=_0x662083(0x211),_0x51d724[_0x662083(0x937)]=_0x662083(0x68f),_0x51d724['InvalidAccess']='invalid-access',_0x51d724['KeyValueDatabaseAlreadyExists']=_0x662083(0x581),_0x51d724[_0x662083(0x98c)]=_0x662083(0x475),_0x51d724[_0x662083(0x25e)]=_0x662083(0x311),_0x51d724[_0x662083(0xa60)]=_0x662083(0x20c),_0x51d724['KeyValueDatabaseInvalidValue']=_0x662083(0x2fc),_0x51d724[_0x662083(0x89f)]=_0x662083(0x75c),_0x51d724['KeyValueDatabaseNotOpen']=_0x662083(0x483),_0x51d724['KeyValueDatabaseTableNameReserved']=_0x662083(0x5c0),_0x51d724[_0x662083(0x52a)]=_0x662083(0x940),_0x51d724['KeyValueDatabaseInvalidLayout']=_0x662083(0x4fa),_0x51d724[_0x662083(0x4eb)]='local-media-stream-already-exists',_0x51d724['LocalMediaStreamNoAudioContext']=_0x662083(0xa24),_0x51d724['PubSubTopicAlreadyExists']='pub-sub-topic-already-exists',_0x51d724[_0x662083(0x196)]=_0x662083(0x43d),_0x51d724[_0x662083(0x747)]=_0x662083(0x658),_0x51d724[_0x662083(0x1e7)]='pub-sub-topic-already-subscribed',_0x51d724[_0x662083(0x212)]=_0x662083(0x1ce),_0x51d724[_0x662083(0x57b)]=_0x662083(0xa11),_0x51d724[_0x662083(0x226)]=_0x662083(0x531),_0x51d724[_0x662083(0xa59)]='subscription-request-in-progress',_0x51d724[_0x662083(0x7aa)]='node-not-authenticated',_0x51d724['NodeInvalidType']=_0x662083(0x439),_0x51d724[_0x662083(0x7a2)]=_0x662083(0x709),_0x51d724['NodeTypeRequired']=_0x662083(0x794),_0x51d724['VectorDatabaseAlreadyExists']=_0x662083(0x8cb),_0x51d724[_0x662083(0x713)]='vector-database-does-not-exist',_0x51d724[_0x662083(0x568)]=_0x662083(0x948),_0x51d724['VectorDatabaseNameNotString']=_0x662083(0x4bd);}(_0x2c23d1||(_0x2c23d1={}));class _0x19abf5 extends Error{['code'];constructor(_0x1bbc35,_0x5f1087){const _0x36812b=_0x3fd00f;super(_0x5f1087),this[_0x36812b(0x315)]=_0x1bbc35;}}!function(_0x304ff6){const _0x2f9d14=_0x3fd00f;_0x304ff6[_0x2f9d14(0x6be)]='pubsub',_0x304ff6[_0x2f9d14(0x727)]=_0x2f9d14(0x3b0),_0x304ff6[_0x2f9d14(0x1af)]='key-value-database',_0x304ff6[_0x2f9d14(0x2f3)]=_0x2f9d14(0x3a2),_0x304ff6[_0x2f9d14(0x3bb)]=_0x2f9d14(0x57f),_0x304ff6[_0x2f9d14(0x979)]=_0x2f9d14(0x8be),_0x304ff6[_0x2f9d14(0x4b8)]=_0x2f9d14(0x1a5),_0x304ff6[_0x2f9d14(0x537)]=_0x2f9d14(0x755);}(_0x5de0fb||(_0x5de0fb={})),function(_0x1ec984){const _0x2fb051=_0x3fd00f;_0x1ec984[_0x2fb051(0x1ea)]=_0x2fb051(0x51b),_0x1ec984[_0x2fb051(0x905)]=_0x2fb051(0xab8),_0x1ec984['Connection']=_0x2fb051(0x222),_0x1ec984[_0x2fb051(0x3ec)]='connection-state',_0x1ec984[_0x2fb051(0x1c1)]='cluster',_0x1ec984['Content']=_0x2fb051(0xaf0),_0x1ec984[_0x2fb051(0x5c3)]='data-stream',_0x1ec984[_0x2fb051(0x2b4)]=_0x2fb051(0x9e1),_0x1ec984[_0x2fb051(0x49d)]=_0x2fb051(0x7ba),_0x1ec984[_0x2fb051(0x685)]=_0x2fb051(0x805),_0x1ec984['Jobs']=_0x2fb051(0x8a5),_0x1ec984[_0x2fb051(0x1af)]=_0x2fb051(0xad9),_0x1ec984['Node']=_0x2fb051(0x98b),_0x1ec984['Pool']=_0x2fb051(0x514),_0x1ec984['PubSub']=_0x2fb051(0x414),_0x1ec984[_0x2fb051(0x731)]=_0x2fb051(0x8d8),_0x1ec984[_0x2fb051(0x740)]='remediation',_0x1ec984[_0x2fb051(0x41a)]=_0x2fb051(0x992),_0x1ec984[_0x2fb051(0x43a)]=_0x2fb051(0x87c),_0x1ec984[_0x2fb051(0x3eb)]=_0x2fb051(0x700),_0x1ec984[_0x2fb051(0x6f7)]=_0x2fb051(0x7bd),_0x1ec984['Support']=_0x2fb051(0x17d),_0x1ec984[_0x2fb051(0x8d7)]=_0x2fb051(0x25b),_0x1ec984['SystemStats']=_0x2fb051(0x523),_0x1ec984[_0x2fb051(0x795)]=_0x2fb051(0x882),_0x1ec984[_0x2fb051(0x4b7)]=_0x2fb051(0xaca);}(_0x20ff7d||(_0x20ff7d={}));const _0x548494=require('@crewdle/web-sdk-types');class _0x217970{[_0x3fd00f(0x2bc)];constructor(_0x4c6e95){const _0x100703=_0x3fd00f;this[_0x100703(0x2bc)]={'orderBy':{'key':_0x4c6e95,'direction':_0x100703(0x6c7)}};}static['index'](_0x467636){const _0x1d69d1=_0x3fd00f;if(_0x1d69d1(0x7fc)!=typeof _0x467636||0x0===_0x467636[_0x1d69d1(0xa5f)])throw new _0x19abf5(_0x2c23d1[_0x1d69d1(0x212)],_0x1d69d1(0x827));return new _0x217970(_0x467636);}static[_0x3fd00f(0x6f3)](_0x13f673){try{return _0x217970['buildQuery'](_0x13f673),!0x0;}catch(_0x139adf){return!0x1;}}static['buildQuery'](_0x5b156b){const _0x475960=_0x3fd00f,_0x5042ee=_0x217970[_0x475960(0x9f9)](_0x5b156b[_0x475960(0x85e)]?.['key']??_0x5b156b[_0x475960(0x6c4)]?.[_0x475960(0x267)]??'');if(_0x5b156b[_0x475960(0x6c4)]){const _0x3ee8b0=_0x5b156b['where'];if((_0x217970['isWhereValue'](_0x3ee8b0)||_0x217970[_0x475960(0x39c)](_0x3ee8b0)||_0x217970[_0x475960(0x751)](_0x3ee8b0))&&_0x5042ee[_0x475960(0x6c4)](_0x3ee8b0['operator'],_0x3ee8b0[_0x475960(0x69a)]),_0x5b156b['orderBy']?.['key']&&_0x5b156b['orderBy']?.[_0x475960(0x267)]!==_0x5b156b[_0x475960(0x6c4)][_0x475960(0x267)])throw new _0x19abf5(_0x2c23d1[_0x475960(0x212)],_0x475960(0x29b));}return _0x5b156b[_0x475960(0x85e)]&&_0x5042ee[_0x475960(0x85e)](_0x5b156b[_0x475960(0x85e)][_0x475960(0x990)]),_0x5b156b['limit']&&_0x5042ee[_0x475960(0x77f)](_0x5b156b[_0x475960(0x77f)]),_0x5b156b[_0x475960(0x63c)]&&_0x5042ee[_0x475960(0x63c)](_0x5b156b[_0x475960(0x63c)]),_0x5042ee;}['getQuery'](){const _0xebf2b=_0x3fd00f;return{...this[_0xebf2b(0x2bc)]};}[_0x3fd00f(0x6c4)](_0x147976,_0x268027){const _0x23c67e=_0x3fd00f,_0x5a894b={'key':this[_0x23c67e(0x2bc)][_0x23c67e(0x85e)]['key'],'operator':_0x147976,'value':_0x268027};if(!_0x217970[_0x23c67e(0x547)](_0x5a894b)&&!_0x217970[_0x23c67e(0x39c)](_0x5a894b)&&!_0x217970['isWhereBetween'](_0x5a894b))throw new _0x19abf5(_0x2c23d1[_0x23c67e(0x212)],_0x23c67e(0x3a7));return this[_0x23c67e(0x2bc)][_0x23c67e(0x6c4)]=_0x5a894b,this;}[_0x3fd00f(0x85e)](_0x136f84){const _0x5a4cc9=_0x3fd00f;if(_0x5a4cc9(0x6c7)!==_0x136f84&&'desc'!==_0x136f84)throw new _0x19abf5(_0x2c23d1[_0x5a4cc9(0x212)],_0x5a4cc9(0x980));return this['query'][_0x5a4cc9(0x85e)][_0x5a4cc9(0x990)]=_0x136f84,this;}[_0x3fd00f(0x77f)](_0x1c5f5f){const _0x3c993e=_0x3fd00f;if(_0x3c993e(0xa75)!=typeof _0x1c5f5f||_0x1c5f5f<0x0)throw new _0x19abf5(_0x2c23d1['QueryBuilderInvalidArgument'],_0x3c993e(0x1b4));return this[_0x3c993e(0x2bc)][_0x3c993e(0x77f)]=_0x1c5f5f,this;}[_0x3fd00f(0x63c)](_0x4d0774){const _0x4a56c1=_0x3fd00f;if(_0x4a56c1(0xa75)!=typeof _0x4d0774||_0x4d0774<0x0)throw new _0x19abf5(_0x2c23d1[_0x4a56c1(0x212)],_0x4a56c1(0xa1c));return this[_0x4a56c1(0x2bc)][_0x4a56c1(0x63c)]=_0x4d0774,this;}static[_0x3fd00f(0x547)](_0x4ce883){const _0x55cb93=_0x3fd00f;if(!(_0x4ce883&&_0x55cb93(0x9a9)==typeof _0x4ce883&&'operator'in _0x4ce883&&_0x55cb93(0x69a)in _0x4ce883))return!0x1;const {operator:_0x32a816,value:_0x237da0}=_0x4ce883;return!(!['==','!=','>','<','<=','>='][_0x55cb93(0x7ac)](_0x32a816)||Array[_0x55cb93(0x7c0)](_0x237da0));}static[_0x3fd00f(0x39c)](_0x5060f2){const _0x33d699=_0x3fd00f;if(!(_0x5060f2&&_0x33d699(0x9a9)==typeof _0x5060f2&&'operator'in _0x5060f2&&_0x33d699(0x69a)in _0x5060f2))return!0x1;const {operator:_0x348422,value:_0x3d336e}=_0x5060f2;return!(!['in',_0x33d699(0x702)][_0x33d699(0x7ac)](_0x348422)||!Array[_0x33d699(0x7c0)](_0x3d336e));}static['isWhereBetween'](_0x35c6a2){const _0x49f563=_0x3fd00f;if(!(_0x35c6a2&&_0x49f563(0x9a9)==typeof _0x35c6a2&&'operator'in _0x35c6a2&&_0x49f563(0x69a)in _0x35c6a2))return!0x1;const {operator:_0x2f9f68,value:_0x47982e}=_0x35c6a2;return!(_0x49f563(0x9ed)!==_0x2f9f68||!Array[_0x49f563(0x7c0)](_0x47982e)||0x2!==_0x47982e[_0x49f563(0xa5f)]);}}class _0x80efac{[_0x3fd00f(0x224)];constructor(_0x341274){const _0x5baa4d=_0x3fd00f;this[_0x5baa4d(0x224)]={'tables':{},'version':_0x341274};}static[_0x3fd00f(0x347)](_0x13a44c){const _0x47362a=_0x3fd00f;for(const _0x147081 in _0x13a44c){if(_0x47362a(0x6b6)!==_0x147081&&_0x47362a(0x8e5)!==_0x147081)return[!0x1,_0x47362a(0x190)+_0x147081+_0x47362a(0x297)];if(_0x47362a(0x8e5)===_0x147081)for(const _0x9fec6e in _0x13a44c[_0x47362a(0x8e5)]){if(_0x47362a(0x7fc)!=typeof _0x9fec6e)return[!0x1,_0x47362a(0x8eb)+_0x9fec6e+'\x27'];for(const _0xbb1006 in _0x13a44c[_0x47362a(0x8e5)][_0x9fec6e]){if(_0x47362a(0x63f)!==_0xbb1006)return[!0x1,_0x47362a(0x190)+_0xbb1006+_0x47362a(0x8fc)+_0x9fec6e+'\x27'];const _0x4d3070=_0x13a44c['tables'][_0x9fec6e][_0xbb1006]??[];for(const _0x4b3c72 of _0x4d3070)if(void 0x0===_0x4b3c72[_0x47362a(0x452)]||'string'!=typeof _0x4b3c72[_0x47362a(0x452)])return[!0x1,_0x47362a(0x5ea)+_0x9fec6e+_0x47362a(0x4ec)];}}else{if(_0x47362a(0x6b6)===_0x147081&&'number'!=typeof _0x13a44c[_0x147081])return[!0x1,'Invalid\x20version\x20\x27'+_0x13a44c[_0x147081]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x47362a(0x55b)];}static[_0x3fd00f(0x224)](_0x53ef60){const _0x5dc0e5=_0x3fd00f,_0x4a0f88=new _0x80efac(_0x53ef60);return _0x4a0f88[_0x5dc0e5(0x224)][_0x5dc0e5(0x6b6)]=_0x53ef60,_0x4a0f88;}[_0x3fd00f(0x9fb)](_0x30cd78){const _0x6c33a0=_0x3fd00f;return this[_0x6c33a0(0x224)][_0x6c33a0(0x8e5)][_0x30cd78]={},new _0x236ed6(this['layout']['tables'][_0x30cd78]);}[_0x3fd00f(0x66f)](){const _0x3c00fc=_0x3fd00f;return this[_0x3c00fc(0x224)];}}class _0x236ed6{['tableLayout'];constructor(_0x31de20){const _0x41dca6=_0x3fd00f;this[_0x41dca6(0xa88)]=_0x31de20;}[_0x3fd00f(0x9f9)](_0x46b2a6){const _0x4fc99e=_0x3fd00f;return this['tableLayout'][_0x4fc99e(0x63f)]=this[_0x4fc99e(0xa88)][_0x4fc99e(0x63f)]??[],this['tableLayout'][_0x4fc99e(0x63f)][_0x4fc99e(0x639)]({'keyPath':_0x46b2a6}),this;}}const _0x541d1f=0x40000,_0x19db64=0x20000,_0x59b95b=0x1388,_0x51a1b9=_0x3fd00f(0x501),_0x190d13=_0x3fd00f(0x220),_0xd55659='.crewdle-transactions',_0x495e4a=_0x3fd00f(0x59d),_0x37a0a9=0xdbba0,_0x10e4f7=0x61a8,_0x4856c9=_0x3fd00f(0x428);var _0x370115;!function(_0x520fe9){const _0x132a48=_0x3fd00f;_0x520fe9[_0x132a48(0x16e)]=_0x132a48(0x4b9),_0x520fe9[_0x132a48(0x3d4)]=_0x132a48(0xa55),_0x520fe9['ConnectionNoRetryQueue']='connection-no-retry-queue',_0x520fe9[_0x132a48(0x1ab)]=_0x132a48(0x9e0),_0x520fe9['DataCollectionDoesNotExist']=_0x132a48(0x4fc),_0x520fe9[_0x132a48(0x42c)]=_0x132a48(0x29c),_0x520fe9[_0x132a48(0x273)]=_0x132a48(0x1db),_0x520fe9[_0x132a48(0xa6a)]=_0x132a48(0x6e8),_0x520fe9['GenerativeAIContextJobFailed']=_0x132a48(0x7d5),_0x520fe9[_0x132a48(0x5b5)]=_0x132a48(0x85f),_0x520fe9[_0x132a48(0x9d2)]=_0x132a48(0x22b),_0x520fe9[_0x132a48(0x28e)]=_0x132a48(0x296),_0x520fe9['InvalidDataChannel']=_0x132a48(0x86d),_0x520fe9['InvalidPublisher']=_0x132a48(0x308),_0x520fe9[_0x132a48(0x553)]=_0x132a48(0xabb),_0x520fe9['InvalidSubscription']='invalid-subscription',_0x520fe9[_0x132a48(0xa56)]='job-dispatcher-creation-failed',_0x520fe9[_0x132a48(0x21b)]=_0x132a48(0x838),_0x520fe9['JobDispatcherJobNotFound']=_0x132a48(0x1e3),_0x520fe9[_0x132a48(0x5de)]=_0x132a48(0x758),_0x520fe9[_0x132a48(0x5ee)]=_0x132a48(0x50b),_0x520fe9['JobWorkerInvalidType']='job-worker-invalid-type',_0x520fe9[_0x132a48(0x675)]=_0x132a48(0x8f2),_0x520fe9[_0x132a48(0x369)]=_0x132a48(0x270),_0x520fe9[_0x132a48(0x9a5)]=_0x132a48(0x56b),_0x520fe9[_0x132a48(0x804)]=_0x132a48(0x752),_0x520fe9['KeyValueDatabaseTransactionValueNotSet']='key-value-database-transaction-value-not-set',_0x520fe9[_0x132a48(0x389)]=_0x132a48(0x1f4),_0x520fe9[_0x132a48(0x8c0)]=_0x132a48(0x94c),_0x520fe9[_0x132a48(0x657)]=_0x132a48(0x820),_0x520fe9[_0x132a48(0x592)]=_0x132a48(0x8c7),_0x520fe9[_0x132a48(0xaaa)]=_0x132a48(0x1a7),_0x520fe9[_0x132a48(0x582)]=_0x132a48(0x6a2),_0x520fe9['ObjectStoreInvalidSyncMessage']=_0x132a48(0x2ec),_0x520fe9[_0x132a48(0xa6b)]=_0x132a48(0x4d4),_0x520fe9[_0x132a48(0x3d9)]=_0x132a48(0x92c),_0x520fe9[_0x132a48(0x402)]=_0x132a48(0x46c),_0x520fe9['RemoteMediaStreamMissingProviderId']=_0x132a48(0x24a),_0x520fe9['RemoteConnectionExists']=_0x132a48(0x849),_0x520fe9[_0x132a48(0x2c0)]=_0x132a48(0x223),_0x520fe9[_0x132a48(0x4f5)]=_0x132a48(0x8ec),_0x520fe9[_0x132a48(0x8df)]='subscription-request-no-answer',_0x520fe9[_0x132a48(0x2f4)]=_0x132a48(0x64b),_0x520fe9[_0x132a48(0x34e)]='node-already-exist',_0x520fe9[_0x132a48(0x1f2)]=_0x132a48(0x572),_0x520fe9[_0x132a48(0xa1a)]=_0x132a48(0x7fd),_0x520fe9[_0x132a48(0x92d)]=_0x132a48(0xa12),_0x520fe9[_0x132a48(0x18b)]=_0x132a48(0x8f4);}(_0x370115||(_0x370115={}));const _0x433d31=new Map([[_0x370115['ConnectionNotinitialized'],_0x3fd00f(0x834)],[_0x370115[_0x3fd00f(0x3d4)],_0x3fd00f(0x384)],[_0x370115[_0x3fd00f(0x9e9)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x370115[_0x3fd00f(0x1ab)],'Invalid\x20data\x20event.'],[_0x370115[_0x3fd00f(0xa9a)],_0x3fd00f(0x2ba)],[_0x370115[_0x3fd00f(0x42c)],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x370115['GenerativeAIContextInvalidPartialResult'],_0x3fd00f(0x4bb)],[_0x370115[_0x3fd00f(0xa6a)],'Generative\x20AI\x20context\x20job\x20already\x20consumed.'],[_0x370115['GenerativeAIContextJobFailed'],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x370115[_0x3fd00f(0x5b5)],_0x3fd00f(0x43f)],[_0x370115[_0x3fd00f(0x9d2)],_0x3fd00f(0x35b)],[_0x370115[_0x3fd00f(0x28e)],'Graph\x20database\x20creation\x20failed.'],[_0x370115[_0x3fd00f(0x6f6)],'Invalid\x20data\x20channel.'],[_0x370115['InvalidPublisher'],_0x3fd00f(0x3ae)],[_0x370115[_0x3fd00f(0x553)],'Invalid\x20subscriber.'],[_0x370115['InvalidSubscription'],_0x3fd00f(0x745)],[_0x370115[_0x3fd00f(0xa56)],_0x3fd00f(0x623)],[_0x370115['JobDispatcherInvalidPayload'],_0x3fd00f(0x487)],[_0x370115[_0x3fd00f(0x7f6)],_0x3fd00f(0x2b1)],[_0x370115['JobDispatcherObserverNotFound'],_0x3fd00f(0x336)],[_0x370115['JobWorkerCreationFailed'],_0x3fd00f(0x61e)],[_0x370115['JobWorkerInvalidType'],'Invalid\x20job\x20worker\x20type.'],[_0x370115[_0x3fd00f(0x675)],_0x3fd00f(0x4b1)],[_0x370115[_0x3fd00f(0x369)],_0x3fd00f(0x915)],[_0x370115[_0x3fd00f(0x9a5)],_0x3fd00f(0x4ee)],[_0x370115['KeyValueDatabaseTransactionTableNotInitialized'],_0x3fd00f(0x841)],[_0x370115[_0x3fd00f(0x964)],_0x3fd00f(0x2ef)],[_0x370115[_0x3fd00f(0x389)],_0x3fd00f(0x191)],[_0x370115[_0x3fd00f(0x8c0)],'Connection\x20does\x20not\x20exist.'],[_0x370115['MissingSystemTopic'],_0x3fd00f(0x99d)],[_0x370115[_0x3fd00f(0x592)],_0x3fd00f(0xa8c)],[_0x370115[_0x3fd00f(0xaaa)],'Cannot\x20write\x20transaction.'],[_0x370115[_0x3fd00f(0x9c6)],_0x3fd00f(0xab3)],[_0x370115[_0x3fd00f(0x582)],_0x3fd00f(0x7e4)],[_0x370115[_0x3fd00f(0xa6b)],_0x3fd00f(0x648)],[_0x370115[_0x3fd00f(0x3d9)],_0x3fd00f(0x373)],[_0x370115[_0x3fd00f(0x402)],'Remote\x20stream\x20does\x20not\x20exist.'],[_0x370115['RemoteMediaStreamMissingProviderId'],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x370115[_0x3fd00f(0xa47)],_0x3fd00f(0x290)],[_0x370115[_0x3fd00f(0x2c0)],_0x3fd00f(0x47a)],[_0x370115['SubscriptionRequestFailed'],_0x3fd00f(0x4a3)],[_0x370115[_0x3fd00f(0x8df)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x370115[_0x3fd00f(0x2f4)],_0x3fd00f(0x7c1)],[_0x370115[_0x3fd00f(0x34e)],'Node\x20already\x20exists.'],[_0x370115[_0x3fd00f(0x1f2)],_0x3fd00f(0x984)],[_0x370115['VectorDatabaseCreationFailed'],_0x3fd00f(0x868)],[_0x370115[_0x3fd00f(0x92d)],_0x3fd00f(0xacc)],[_0x370115[_0x3fd00f(0x18b)],'Invalid\x20workflow\x20block\x20type.']]);class _0x5d70cf extends Error{[_0x3fd00f(0x315)];static [_0x3fd00f(0x765)]=_0x370115;[_0x3fd00f(0xa83)];constructor(_0x9b8345,_0x4ba06f){const _0xd2deb7=_0x3fd00f;super(_0xd2deb7(0x74d)+_0x9b8345+':\x20'+_0x433d31[_0xd2deb7(0x7ae)](_0x9b8345)+_0xd2deb7(0x1f1)+JSON[_0xd2deb7(0x6b1)](_0x4ba06f)),this[_0xd2deb7(0x315)]=_0x9b8345,this[_0xd2deb7(0xa83)]=_0x4ba06f||{};}}var _0x347d3c,_0x115710,_0x3d95f6,_0x28516a,_0x54a466,_0x3b4987,_0x519af0;!function(_0x4948e0){const _0x38b38f=_0x3fd00f;_0x4948e0[_0x4948e0[_0x38b38f(0x16d)]=0x0]=_0x38b38f(0x16d),_0x4948e0[_0x4948e0[_0x38b38f(0xa9b)]=0x1]=_0x38b38f(0xa9b),_0x4948e0[_0x4948e0[_0x38b38f(0xaf3)]=0x2]=_0x38b38f(0xaf3),_0x4948e0[_0x4948e0[_0x38b38f(0x32a)]=0x3]=_0x38b38f(0x32a),_0x4948e0[_0x4948e0[_0x38b38f(0xa09)]=0x4]='CloseKeyValueDatabase',_0x4948e0[_0x4948e0['CloseMediaStream']=0x5]=_0x38b38f(0x91c),_0x4948e0[_0x4948e0[_0x38b38f(0x791)]=0x6]='CloseObjectStoreBucket',_0x4948e0[_0x4948e0[_0x38b38f(0x89e)]=0x7]=_0x38b38f(0x89e),_0x4948e0[_0x4948e0[_0x38b38f(0x494)]=0x8]=_0x38b38f(0x494),_0x4948e0[_0x4948e0[_0x38b38f(0x91f)]=0x9]=_0x38b38f(0x91f),_0x4948e0[_0x4948e0['GenerativeAIContextStats']=0xa]=_0x38b38f(0x525),_0x4948e0[_0x4948e0[_0x38b38f(0x6f5)]=0xb]=_0x38b38f(0x6f5),_0x4948e0[_0x4948e0[_0x38b38f(0xa79)]=0xc]=_0x38b38f(0xa79),_0x4948e0[_0x4948e0[_0x38b38f(0x213)]=0xd]=_0x38b38f(0x213),_0x4948e0[_0x4948e0[_0x38b38f(0xa21)]=0xe]='KeyValueDatabaseContentSynchronized',_0x4948e0[_0x4948e0[_0x38b38f(0xae1)]=0xf]=_0x38b38f(0xae1),_0x4948e0[_0x4948e0[_0x38b38f(0x61c)]=0x10]=_0x38b38f(0x61c),_0x4948e0[_0x4948e0[_0x38b38f(0x461)]=0x11]=_0x38b38f(0x461),_0x4948e0[_0x4948e0[_0x38b38f(0x9ea)]=0x12]=_0x38b38f(0x9ea),_0x4948e0[_0x4948e0['KeyValueDatabaseSyncRequired']=0x13]=_0x38b38f(0x8fd),_0x4948e0[_0x4948e0[_0x38b38f(0x38a)]=0x14]=_0x38b38f(0x38a),_0x4948e0[_0x4948e0[_0x38b38f(0x507)]=0x15]='ObjectStoreStats',_0x4948e0[_0x4948e0['PubSubTopicStats']=0x16]=_0x38b38f(0x742),_0x4948e0[_0x4948e0['PublishMediaStream']=0x17]=_0x38b38f(0x7bf),_0x4948e0[_0x4948e0[_0x38b38f(0x6f2)]=0x18]='RemoteMediaStreamTrackFail',_0x4948e0[_0x4948e0[_0x38b38f(0x28f)]=0x19]='SubscribeMediaStream',_0x4948e0[_0x4948e0[_0x38b38f(0x641)]=0x1a]='UnpublishMediaStream',_0x4948e0[_0x4948e0['UnsubscribeMediaStream']=0x1b]=_0x38b38f(0x27d),_0x4948e0[_0x4948e0[_0x38b38f(0x4fb)]=0x1c]=_0x38b38f(0x4fb),_0x4948e0[_0x4948e0['VectorDatabaseStats']=0x1d]='VectorDatabaseStats';}(_0x347d3c||(_0x347d3c={})),function(_0x587ca3){const _0x483d48=_0x3fd00f;_0x587ca3['FileWrite']='file-write',_0x587ca3['FolderCreate']=_0x483d48(0x97b),_0x587ca3['Delete']='delete',_0x587ca3['Move']=_0x483d48(0x73f),_0x587ca3[_0x483d48(0x254)]=_0x483d48(0x3ac),_0x587ca3[_0x483d48(0x32e)]=_0x483d48(0x7b2),_0x587ca3[_0x483d48(0x8a0)]='request-file-sync',_0x587ca3[_0x483d48(0x32f)]=_0x483d48(0x5b0);}(_0x115710||(_0x115710={})),function(_0x36e057){const _0x22c824=_0x3fd00f;_0x36e057['Request']='request',_0x36e057['Transaction']=_0x22c824(0x927);}(_0x3d95f6||(_0x3d95f6={})),function(_0x39bdc0){const _0x108b8a=_0x3fd00f;_0x39bdc0[_0x108b8a(0x80f)]='add',_0x39bdc0[_0x108b8a(0x29e)]=_0x108b8a(0xa18),_0x39bdc0[_0x108b8a(0x81a)]=_0x108b8a(0x92b);}(_0x28516a||(_0x28516a={})),function(_0x2af033){const _0x596abd=_0x3fd00f;_0x2af033[_0x596abd(0xa33)]=_0x596abd(0x7ae),_0x2af033['List']=_0x596abd(0x459),_0x2af033[_0x596abd(0x637)]=_0x596abd(0x363);}(_0x54a466||(_0x54a466={})),function(_0x218b50){const _0x139c29=_0x3fd00f;_0x218b50[_0x218b50[_0x139c29(0x6b2)]=0x0]=_0x139c29(0x6b2),_0x218b50[_0x218b50[_0x139c29(0x540)]=0x1]='Bid',_0x218b50[_0x218b50['Attribution']=0x2]=_0x139c29(0x84e),_0x218b50[_0x218b50[_0x139c29(0x519)]=0x3]=_0x139c29(0x519),_0x218b50[_0x218b50[_0x139c29(0x510)]=0x4]=_0x139c29(0x510),_0x218b50[_0x218b50[_0x139c29(0x3ad)]=0x5]=_0x139c29(0x3ad);}(_0x3b4987||(_0x3b4987={})),function(_0x51afde){const _0xe2b307=_0x3fd00f;_0x51afde[_0x51afde[_0xe2b307(0x4b7)]=0x0]='PeerConnection',_0x51afde[_0x51afde[_0xe2b307(0x9ce)]=0x1]=_0xe2b307(0x9ce),_0x51afde[_0x51afde[_0xe2b307(0x870)]=0x2]=_0xe2b307(0x870),_0x51afde[_0x51afde[_0xe2b307(0x6f7)]=0x3]='Subscription',_0x51afde[_0x51afde[_0xe2b307(0x3eb)]=0x4]=_0xe2b307(0x3eb),_0x51afde[_0x51afde[_0xe2b307(0x2b4)]=0x5]=_0xe2b307(0x2b4),_0x51afde[_0x51afde[_0xe2b307(0x740)]=0x6]=_0xe2b307(0x740);}(_0x519af0||(_0x519af0={}));class _0xf29c0d{['owner'];[_0x3fd00f(0x985)];['systemTopic'];constructor(_0x348b4d,_0x2fdca8){const _0xc595c0=_0x3fd00f;this[_0xc595c0(0x1a8)]=_0x348b4d,this[_0xc595c0(0x985)]=_0x2fdca8;}[_0x3fd00f(0x891)](){const _0x589438=_0x3fd00f;return this[_0x589438(0x985)];}['getOwnerId'](){const _0xafd9b7=_0x3fd00f;return this[_0xafd9b7(0x1a8)]['getId']();}[_0x3fd00f(0x407)](){}['registerSystemPublisher'](_0x533b00){this['systemTopic']=_0x533b00;}[_0x3fd00f(0x607)](){const _0x958338=_0x3fd00f;delete this[_0x958338(0x5cb)];}}const _0x225f39=require('firebase/firestore');let _0x47d6e9=_0x3fd56d(0x14d)['O'];function _0xea1e1d(_0x318277){const _0xd52ba=_0x3fd00f;return!(!_0x318277||'object'!=typeof _0x318277||Array[_0xd52ba(0x7c0)](_0x318277));}_0x47d6e9=function _0x297b93(_0x12b655,..._0x495834){const _0x27ce1f=_0x3fd00f;if(!Array[_0x27ce1f(0x7c0)](_0x495834)||0x0===_0x495834[_0x27ce1f(0xa5f)])return _0x12b655;const _0xec5db0=_0x495834[_0x27ce1f(0x63a)]();if(_0xea1e1d(_0x12b655)&&_0xea1e1d(_0xec5db0)){for(const _0xbb70b7 in _0xec5db0)_0xea1e1d(_0xec5db0[_0xbb70b7])?(_0x12b655[_0xbb70b7]||Object[_0x27ce1f(0x9c8)](_0x12b655,{[_0xbb70b7]:{}}),_0x297b93(_0x12b655[_0xbb70b7],_0xec5db0[_0xbb70b7])):Object['assign'](_0x12b655,{[_0xbb70b7]:_0xec5db0[_0xbb70b7]});}return _0x297b93(_0x12b655,..._0x495834);}(_0x47d6e9,_0x3fd56d(0x3e6)['O']);const _0x2c3579=_0x47d6e9,_0x519a77=require('firebase/app'),_0x17240f=require('firebase/auth'),_0x8856a1=require('firebase/database'),_0x4858bf=require('firebase/functions'),_0x630e7c=require('uuid'),_0x2d39ff=_0x3fd00f(0xa67);class _0x118d38{static ['instance'];[_0x3fd00f(0x307)];[_0x3fd00f(0x5bc)];[_0x3fd00f(0x8f1)];[_0x3fd00f(0x91e)];[_0x3fd00f(0x5fd)];[_0x3fd00f(0x923)];[_0x3fd00f(0x326)];constructor(){const _0x41f2ee=_0x3fd00f;this[_0x41f2ee(0x8b8)]();}static[_0x3fd00f(0x251)](){const _0x2fbb0b=_0x3fd00f;return _0x118d38[_0x2fbb0b(0x9a3)]||(_0x118d38[_0x2fbb0b(0x9a3)]=new _0x118d38()),_0x118d38[_0x2fbb0b(0x9a3)];}['getApp'](){const _0x3568ab=_0x3fd00f;if(!this['app']){let _0x37879f=_0x2d39ff;'undefined'!=typeof window&&(_0x37879f=_0x2d39ff+'-'+(0x0,_0x630e7c['v4'])()),this['app']=(0x0,_0x519a77['initializeApp'])(_0x2c3579[_0x3568ab(0x32d)],''+_0x37879f);}return this[_0x3568ab(0x307)];}[_0x3fd00f(0x409)](){const _0x2e3897=_0x3fd00f;return this['auth']||(this['auth']=(0x0,_0x17240f[_0x2e3897(0x409)])(this[_0x2e3897(0x8b8)]())),this[_0x2e3897(0x5bc)];}[_0x3fd00f(0x617)](){const _0x8dcf00=_0x3fd00f;return this['functions']||(this[_0x8dcf00(0x8f1)]=(0x0,_0x4858bf[_0x8dcf00(0x617)])(this['getApp'](),_0x2c3579[_0x8dcf00(0x32d)][_0x8dcf00(0xa2c)])),this['functions'];}[_0x3fd00f(0x55c)](){const _0x5c2647=_0x3fd00f;return this[_0x5c2647(0x91e)]||(this[_0x5c2647(0x91e)]=(0x0,_0x8856a1[_0x5c2647(0x55c)])(this[_0x5c2647(0x8b8)]())),this[_0x5c2647(0x91e)];}[_0x3fd00f(0x390)](){const _0x5bd2f5=_0x3fd00f;return this['firestore']||(this[_0x5bd2f5(0x5fd)]=(0x0,_0x225f39['getFirestore'])(this[_0x5bd2f5(0x8b8)]())),this[_0x5bd2f5(0x5fd)];}async[_0x3fd00f(0x551)](){const _0x48f267=_0x3fd00f;if(this[_0x48f267(0x923)]&&this[_0x48f267(0x326)]&&Date[_0x48f267(0x441)]()-this['lastClockUpdate']<0x493e0)return Date[_0x48f267(0x441)]()+this[_0x48f267(0x923)];const _0x1985e6=this[_0x48f267(0x55c)](),_0xdb60ec=(0x0,_0x8856a1[_0x48f267(0x5f1)])(_0x1985e6,_0x48f267(0x6ef));return new Promise(_0x275ef7=>{(0x0,_0x8856a1['onValue'])(_0xdb60ec,_0x5c8bc9=>{const _0x3df5fb=a0_0x38ff;(0x0,_0x8856a1[_0x3df5fb(0x6ad)])(_0xdb60ec),this[_0x3df5fb(0x923)]=_0x5c8bc9['val'](),this[_0x3df5fb(0x326)]=Date[_0x3df5fb(0x441)](),_0x275ef7(Date[_0x3df5fb(0x441)]()+(this['clockSkew']??0x0));});});}}const _0x616df3=_0x118d38[_0x3fd00f(0x251)]();class _0xa0c1a8{static [_0x3fd00f(0x9a3)];[_0x3fd00f(0x9bf)]=[_0x20ff7d[_0x3fd00f(0x905)]];[_0x3fd00f(0xae7)]=!0x1;[_0x3fd00f(0x1f6)];[_0x3fd00f(0x3ee)]='';['globalObject'];[_0x3fd00f(0x5be)]=[];[_0x3fd00f(0x818)];[_0x3fd00f(0x7d3)];[_0x3fd00f(0x93f)]=0xa;['retryDelay']=0x1f4;[_0x3fd00f(0x27b)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x1bf3bb=_0x3fd00f;if('undefined'!=typeof window)this[_0x1bf3bb(0xac0)]=window;else{if(void 0x0===_0x3fd56d['g'])throw new Error(_0x1bf3bb(0x241));this['globalObject']=_0x3fd56d['g'];}this[_0x1bf3bb(0x7a6)](),this[_0x1bf3bb(0xac0)]['crewdleSDKEnableLogging']=_0x30d1b8=>{const _0x29215b=_0x1bf3bb;if(_0x30d1b8===_0x20ff7d[_0x29215b(0x1ea)])return this['enabledChannels']=Object[_0x29215b(0x566)](_0x20ff7d)[_0x29215b(0x23d)](_0x17bae=>_0x20ff7d[_0x17bae]),void Object[_0x29215b(0x566)](_0x20ff7d)[_0x29215b(0x3e1)](_0x50e177=>{const _0x244f5b=_0x29215b,_0x15b009=_0x50e177;localStorage['setItem']('crewdle-sdk-logging-'+_0x20ff7d[_0x15b009],_0x244f5b(0x938));});this[_0x29215b(0x9bf)][_0x29215b(0x7ac)](_0x30d1b8)||(this[_0x29215b(0x9bf)][_0x29215b(0x639)](_0x30d1b8),localStorage[_0x29215b(0x7b0)](_0x29215b(0xa3d)+_0x30d1b8,'true'));},this[_0x1bf3bb(0xac0)][_0x1bf3bb(0xa26)]=_0x18e011=>{const _0x5826c0=_0x1bf3bb;if(!_0x18e011||_0x18e011===_0x20ff7d['All'])return this[_0x5826c0(0x9bf)]=[],void Object[_0x5826c0(0x566)](_0x20ff7d)[_0x5826c0(0x3e1)](_0x3c6b5d=>{const _0x5b9e65=_0x5826c0,_0x8ba705=_0x3c6b5d;localStorage[_0x5b9e65(0x210)](_0x5b9e65(0xa3d)+_0x20ff7d[_0x8ba705]);});this['enabledChannels']['includes'](_0x18e011)&&(this['enabledChannels']=this['enabledChannels'][_0x5826c0(0x69d)](_0x25cb4f=>_0x25cb4f!==_0x18e011),localStorage[_0x5826c0(0x210)](_0x5826c0(0xa3d)+_0x18e011));},this[_0x1bf3bb(0xac0)][_0x1bf3bb(0x43c)]=_0x20ff7d;}static[_0x3fd00f(0x251)](){const _0x15901e=_0x3fd00f;try{return _0xa0c1a8[_0x15901e(0x9a3)]||(_0xa0c1a8['instance']=new _0xa0c1a8()),_0xa0c1a8[_0x15901e(0x9a3)];}catch(_0x18b935){return console[_0x15901e(0x805)](_0x15901e(0x1b5),_0x18b935),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x3fd00f(0x9c4)](_0xba3771){const _0x72d4a2=_0x3fd00f;this[_0x72d4a2(0x3ee)]=_0xba3771,this[_0x72d4a2(0x5be)]=[],this[_0x72d4a2(0x818)]=this['createNewBatch'](),this[_0x72d4a2(0x7d3)]&&(clearTimeout(this['batchTimeout']),this[_0x72d4a2(0x7d3)]=void 0x0);}[_0x3fd00f(0x4c0)](_0x5a82b9){const _0x4e57c1=_0x3fd00f;this[_0x4e57c1(0x1f6)]=_0x5a82b9;}[_0x3fd00f(0x842)](_0xafc0f3,..._0x39f035){const _0x574a63=_0x3fd00f;this['debugEnabled']&&this['log'](_0x20ff7d[_0x574a63(0x905)],_0x574a63(0x7f9)+_0xafc0f3,..._0x39f035);}['forceLog'](_0x8edef1,..._0x2bd8a3){const _0x52d8fe=_0x3fd00f;console[_0x52d8fe(0x327)](_0x8edef1,..._0x2bd8a3),this[_0x52d8fe(0x1f6)]&&this[_0x52d8fe(0x1f6)][_0x52d8fe(0x3e1)](_0x1ab058=>{const _0x3aa30c=_0x52d8fe;_0x1ab058[_0x3aa30c(0x327)](_0x8edef1,{'vendorId':this[_0x3aa30c(0x3ee)],'nodeId':'','nodeType':'','data':{..._0x2bd8a3}});});}['log'](_0x17cff0,_0x4284fe,..._0x68f08f){const _0x3387a7=_0x3fd00f;_0x2c3579[_0x3387a7(0x8c5)]||(this[_0x3387a7(0x9bf)][_0x3387a7(0x7ac)](_0x17cff0)&&console[_0x3387a7(0x327)](_0x3387a7(0x8d2)+_0x17cff0+'\x27\x0a',new Date()+'\x0a',_0x4284fe,..._0x68f08f),this[_0x3387a7(0x1f6)]&&this[_0x3387a7(0x1f6)][_0x3387a7(0x3e1)](_0x25cb3e=>{const _0x5e1396=_0x3387a7;this[_0x5e1396(0x522)](_0x25cb3e)&&_0x25cb3e['getEnabledChannels']()[_0x5e1396(0x7ac)](_0x17cff0)&&_0x25cb3e['log'](_0x4284fe,{'vendorId':this[_0x5e1396(0x3ee)],'nodeId':'','nodeType':'','data':{'channel':_0x17cff0,..._0x68f08f}});}));}[_0x3fd00f(0xa0f)](_0x58db11,_0x3af398,..._0x12b14c){const _0xfbd514=_0x3fd00f;_0x2c3579[_0xfbd514(0x8c5)]||(this[_0xfbd514(0x9bf)][_0xfbd514(0x7ac)](_0x58db11)&&console[_0xfbd514(0x327)](_0x3af398,..._0x12b14c),this[_0xfbd514(0x1f6)]&&this[_0xfbd514(0x1f6)][_0xfbd514(0x3e1)](_0x4988b9=>{const _0x236c6d=_0xfbd514;this[_0x236c6d(0x522)](_0x4988b9)&&_0x4988b9['getEnabledChannels']()[_0x236c6d(0x7ac)](_0x58db11)&&_0x4988b9['log'](_0x3af398,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x58db11,..._0x12b14c}});}));}[_0x3fd00f(0xaee)](_0x1cc799,_0x5cd294){const _0x350758=_0x3fd00f;if(!this[_0x350758(0x1f6)])return;const _0xb39a0d={'vendorId':this[_0x350758(0x3ee)],..._0x5cd294};this[_0x350758(0x1f6)]['forEach'](_0x2e2d3c=>{const _0x12318b=_0x350758;_0x2e2d3c[_0x12318b(0x327)](_0x1cc799,_0xb39a0d);});}['logServiceEvent'](_0x419d53,_0x5093c3){const _0x3ede66=_0x3fd00f;this['createBatchOperation'](_0x419d53,_0x5093c3),this[_0x3ede66(0x1b3)]();}[_0x3fd00f(0x7c4)](_0x3cafb1,_0xdfcd28,_0x5a7296){const _0x53d445=_0x3fd00f;(0x0,_0x225f39['setDoc'])((0x0,_0x225f39[_0x53d445(0x199)])(_0x616df3[_0x53d445(0x390)](),_0x53d445(0x7a8)+this[_0x53d445(0x3ee)]+'/'+_0x3cafb1+'/'+_0xdfcd28),{'storage':_0x5a7296,'timestamp':(0x0,_0x225f39['serverTimestamp'])()});}[_0x3fd00f(0x1b3)](){const _0x1ca32b=_0x3fd00f;this['currentBatch']&&(this['currentBatch'][_0x1ca32b(0x894)]+=0x1,this[_0x1ca32b(0x818)][_0x1ca32b(0x894)]===this['batchSize']?this[_0x1ca32b(0x960)]():this['batchTimeout']||(this[_0x1ca32b(0x7d3)]=this[_0x1ca32b(0xac0)][_0x1ca32b(0x420)](()=>this['processBatch'](),this[_0x1ca32b(0x6fa)])));}async[_0x3fd00f(0x960)](){const _0x3dda3c=_0x3fd00f;if(this[_0x3dda3c(0x818)]){for(this[_0x3dda3c(0x5be)][_0x3dda3c(0x639)](this['currentBatch']),this[_0x3dda3c(0x818)]=this['createNewBatch']();this['batchQueue'][_0x3dda3c(0xa5f)]>0x0;){const _0x26bb10=this[_0x3dda3c(0x5be)][_0x3dda3c(0x63a)]();if(!await this['commitBatch'](_0x26bb10))break;}clearTimeout(this['batchTimeout']),this[_0x3dda3c(0x7d3)]=void 0x0;}}[_0x3fd00f(0x805)](_0x5082f9,_0x21984f,..._0x3487e7){const _0x10c9d6=_0x3fd00f;if(console['error'](new Date(),_0x5082f9,_0x21984f,..._0x3487e7),this[_0x10c9d6(0x1f6)]){const _0x50d907={'vendorId':this[_0x10c9d6(0x3ee)],..._0x21984f};this[_0x10c9d6(0x1f6)][_0x10c9d6(0x3e1)](_0x2d29d7=>{const _0xa9fba8=_0x10c9d6;_0x2d29d7[_0xa9fba8(0x805)](_0x5082f9,_0x50d907);});}}['warning'](_0x3b8dc2,_0x5a9d3c,..._0x42655b){const _0x595624=_0x3fd00f;if(console['warn'](new Date(),_0x3b8dc2,_0x5a9d3c,_0x42655b),this[_0x595624(0x1f6)]){const _0xeff9f1={'vendorId':this['vendorId'],..._0x5a9d3c};this[_0x595624(0x1f6)][_0x595624(0x3e1)](_0x12d71b=>{_0x12d71b['warn'](_0x3b8dc2,_0xeff9f1);});}}['isChannelEnabled'](_0x4adbe2){const _0x2d7d7f=_0x3fd00f;return this[_0x2d7d7f(0x9bf)][_0x2d7d7f(0x7ac)](_0x4adbe2);}async[_0x3fd00f(0x432)](_0x4880eb,_0x20ff28=0x0){const _0x57deea=_0x3fd00f;if(_0x4880eb['counter']>0x0)try{return await _0x4880eb[_0x57deea(0x659)]['commit'](),!0x0;}catch(_0x10862d){if(console[_0x57deea(0x805)]('Error\x20committing\x20batch:',_0x10862d,_0x57deea(0x807),_0x4880eb[_0x57deea(0x5e8)]),!(_0x20ff28<this['retryLimit'])){const {nodeId:_0x53f5d4='',nodeType:_0x4a925f='',clusterId:_0x4b5074=''}=_0x4880eb[_0x57deea(0x5e8)][0x0]['data'],_0x3e5951={'nodeId':_0x53f5d4,'nodeType':_0x4a925f,'clusterId':_0x4b5074,'data':{'operations':_0x4880eb[_0x57deea(0x5e8)],'error':_0x10862d}};return this['error']('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0x3e5951),!0x1;}{const _0x462f28=this[_0x57deea(0x8e3)](_0x4880eb['operations']);setTimeout(()=>this[_0x57deea(0x432)](_0x462f28,_0x20ff28+0x1),this[_0x57deea(0x817)]*Math[_0x57deea(0x413)](0x2,_0x20ff28));}}}['loadEnabledChannels'](){const _0x2fed80=_0x3fd00f;try{Object['keys'](_0x20ff7d)[_0x2fed80(0x3e1)](_0x133573=>{const _0x2e731e=_0x2fed80,_0x2fb970=_0x133573;localStorage[_0x2e731e(0x771)](_0x2e731e(0xa3d)+_0x20ff7d[_0x2fb970])&&(console['log'](_0x2e731e(0x4ac),_0x20ff7d[_0x2fb970]),this[_0x2e731e(0x9bf)][_0x2e731e(0x639)](_0x20ff7d[_0x2fb970]));});}catch(_0x3e799c){}}[_0x3fd00f(0x522)](_0x5873f6){const _0x33de67=_0x3fd00f;return void 0x0!==_0x5873f6[_0x33de67(0xa8e)];}[_0x3fd00f(0x73c)](){const _0x320646=_0x3fd00f;return{'batch':(0x0,_0x225f39[_0x320646(0x65e)])(_0x616df3[_0x320646(0x390)]()),'operations':[],'counter':0x0};}[_0x3fd00f(0x8e3)](_0x55bd50){const _0x4254dd=_0x3fd00f,_0x2b4092=(0x0,_0x225f39[_0x4254dd(0x65e)])(_0x616df3[_0x4254dd(0x390)]());return _0x55bd50[_0x4254dd(0x3e1)](_0x1a02e0=>this['addBatchOperation'](_0x2b4092,_0x1a02e0)),{'batch':_0x2b4092,'operations':_0x55bd50,'counter':_0x55bd50[_0x4254dd(0xa5f)]};}['addBatchOperation'](_0xec1e07,_0x1d1c1d){const _0x5dd455=_0x3fd00f;switch(_0x1d1c1d[_0x5dd455(0x705)]){case _0x5dd455(0x1f5):_0xec1e07[_0x5dd455(0x1f5)](_0x1d1c1d['ref'],_0x1d1c1d[_0x5dd455(0xa83)]);break;case _0x5dd455(0xa18):_0xec1e07[_0x5dd455(0xa18)](_0x1d1c1d[_0x5dd455(0x5f1)],_0x1d1c1d['data']);break;case _0x5dd455(0x92b):_0xec1e07[_0x5dd455(0x92b)](_0x1d1c1d[_0x5dd455(0x5f1)]);}}[_0x3fd00f(0x642)](_0x117c2d,_0x4f3a60){const _0x5a55d9=_0x3fd00f;this[_0x5a55d9(0x818)]||(this[_0x5a55d9(0x818)]=this[_0x5a55d9(0x73c)]());const _0x136ce6=(0x0,_0x225f39['doc'])((0x0,_0x225f39['collection'])(_0x616df3[_0x5a55d9(0x390)](),_0x5a55d9(0x7a8)+this[_0x5a55d9(0x3ee)]+_0x5a55d9(0x674))),_0x3834bf={..._0x4f3a60,'service':_0x117c2d,'timestamp':(0x0,_0x225f39[_0x5a55d9(0x2d1)])()},_0x5aafe0={'type':_0x5a55d9(0x1f5),'path':_0x136ce6['path'],'ref':_0x136ce6,'data':_0x3834bf};return this[_0x5a55d9(0x818)][_0x5a55d9(0x5e8)]['push'](_0x5aafe0),this[_0x5a55d9(0x1dd)](this[_0x5a55d9(0x818)]['batch'],_0x5aafe0),_0x136ce6;}}const _0x404abe=_0xa0c1a8[_0x3fd00f(0x251)]();function _0x1e20d1(_0x5e3caf,_0x2487f9){return'/'===_0x5e3caf?_0x5e3caf+_0x2487f9:_0x5e3caf+'/'+_0x2487f9;}function _0x53ada2(_0x13aa03){const _0x396f05=_0x3fd00f,_0x2f9024=function(_0x24f667){const _0x1ace0f=a0_0x38ff;return _0x24f667[_0x1ace0f(0xae4)]('/')[_0x1ace0f(0x69d)](_0x5bc69a=>_0x5bc69a[_0x1ace0f(0xa5f)]>0x0);}(_0x13aa03),_0x14bed8=_0x2f9024[_0x396f05(0x41e)]()||'',_0x436ae2=_0x2f9024[_0x396f05(0x5b4)]('/');return[0x0===_0x436ae2[_0x396f05(0xa5f)]?'/':_0x436ae2,_0x14bed8];}async function _0x1ad2d9(_0x33c0ce){const _0x1d8001=_0x3fd00f;let _0x5e5ae3;const _0x124c3a=_0x33c0ce[_0x1d8001(0x66a)]/0x100000;_0x5e5ae3=_0x124c3a<=0xa?0x1:_0x124c3a<=0x64?0.5:_0x124c3a<=0x1f4?0.1:0.05;const _0x220970=Math[_0x1d8001(0x6fc)](_0x33c0ce[_0x1d8001(0x66a)]/_0x541d1f),_0x501cc3=Math['ceil'](_0x220970*_0x5e5ae3);let _0x16caca=new Uint8Array();for(let _0x4d0064=0x0;_0x4d0064<_0x501cc3;_0x4d0064++){const _0x55ecd4=Math[_0x1d8001(0x8c3)](_0x4d0064/_0x501cc3*_0x33c0ce[_0x1d8001(0x66a)]);let _0x26eb71=_0x55ecd4+_0x541d1f;_0x26eb71>_0x33c0ce[_0x1d8001(0x66a)]&&(_0x26eb71=_0x33c0ce[_0x1d8001(0x66a)]);const _0x5a8863=_0x33c0ce['slice'](_0x55ecd4,_0x26eb71),_0x10f746=await _0x5a8863[_0x1d8001(0x8e1)](),_0x2d623c=new Uint8Array([..._0x16caca,...new Uint8Array(_0x10f746)]);_0x16caca=new Uint8Array(await crypto[_0x1d8001(0x58b)][_0x1d8001(0x9fa)](_0x1d8001(0x337),_0x2d623c));}return Array[_0x1d8001(0x4f7)](new Uint8Array(_0x16caca))[_0x1d8001(0x23d)](_0x4bb987=>_0x4bb987[_0x1d8001(0x5fc)](0x10)[_0x1d8001(0x563)](0x2,'0'))[_0x1d8001(0x5b4)]('');}async function*_0x412317(_0x2b6d39,_0x3b8413=0x0,_0x48f59c){const _0x568e72=_0x3fd00f;let _0x85ede5=_0x3b8413*_0x19db64,_0x233cb9=_0x2b6d39;for(;_0x85ede5<_0x233cb9[_0x568e72(0x66a)];){let _0x4f4e91=_0x85ede5+_0x19db64;_0x4f4e91>_0x233cb9[_0x568e72(0x66a)]&&(_0x4f4e91=_0x233cb9[_0x568e72(0x66a)]);let _0x200db7=0x0;for(;_0x200db7<0x14;)try{await _0x48f59c?.();const _0x22f6b0=_0x233cb9[_0x568e72(0x7cd)](_0x85ede5,_0x4f4e91,_0x568e72(0x23e)),_0x48437a=await _0x22f6b0['arrayBuffer']();yield _0x48437a,_0x85ede5=_0x4f4e91,await new Promise(_0x41089a=>setTimeout(_0x41089a,0x0));break;}catch(_0x144998){if(console[_0x568e72(0x805)](_0x568e72(0x170)+(_0x200db7+0x1)+_0x568e72(0x539),_0x144998),_0x200db7++,_0x200db7>0x14)throw _0x144998;let _0xbc0bf5=0x3e8*Math[_0x568e72(0x413)](0x2,_0x200db7);_0xbc0bf5>0x7530&&(_0xbc0bf5=0x7530),await new Promise(_0x515f70=>setTimeout(_0x515f70,_0xbc0bf5));}}}class _0x31e81e extends _0xf29c0d{['outgoingTopic'];['incomingTopic'];[_0x3fd00f(0xafc)]=new Map();[_0x3fd00f(0x35f)]=0x0;[_0x3fd00f(0x797)]=0x0;[_0x3fd00f(0xa65)]=0x0;[_0x3fd00f(0x9d3)]=0x0;constructor(_0xc1ad89,_0x546216){super(_0xc1ad89,_0x546216);}[_0x3fd00f(0x891)](){return this['label'];}[_0x3fd00f(0x52f)](){const _0x474ae9=_0x3fd00f;return this[_0x474ae9(0x985)];}[_0x3fd00f(0x76c)](){const _0x2c80e9=_0x3fd00f;return _0x548494[_0x2c80e9(0x777)][_0x2c80e9(0x3cd)];}[_0x3fd00f(0x5c1)](){const _0x230ae1=_0x3fd00f;return this[_0x230ae1(0x985)];}[_0x3fd00f(0x37b)](_0x5e6f21){const _0x144cee=_0x3fd00f;if(this[_0x144cee(0x497)])throw new _0x5d70cf(_0x5d70cf[_0x144cee(0x765)][_0x144cee(0x8f0)],{'message':_0x144cee(0xad8)+this['owner'][_0x144cee(0xb04)]()+'\x20-\x20'+this[_0x144cee(0x985)],'topic':this[_0x144cee(0x497)]});this[_0x144cee(0x497)]=_0x5e6f21;}[_0x3fd00f(0x1d6)](_0x900e5a){const _0x591144=_0x3fd00f;if(this[_0x591144(0x244)])throw new _0x5d70cf(_0x5d70cf['codes'][_0x591144(0x553)],{'message':_0x591144(0x4ca)+this[_0x591144(0x1a8)][_0x591144(0xb04)]()+_0x591144(0xa7b)+this[_0x591144(0x985)],'topic':this[_0x591144(0x244)]});this[_0x591144(0x244)]=_0x900e5a;}[_0x3fd00f(0x78a)](){delete this['outgoingTopic'];}[_0x3fd00f(0x2c9)](){const _0x26a21f=_0x3fd00f;delete this[_0x26a21f(0x244)];}async[_0x3fd00f(0x5b8)](_0x385484,_0x492eff){const _0x4ddfd8=_0x3fd00f;if(_0x404abe[_0x4ddfd8(0x327)](_0x20ff7d[_0x4ddfd8(0x5c3)],'DataStream\x20send',this[_0x4ddfd8(0x1a8)][_0x4ddfd8(0xb04)](),_0x385484,_0x492eff),this['messagesSent']+=0x1,_0x385484 instanceof File){const _0x448739=await async function(_0x57f8bf){const _0x5563ee=_0x4ddfd8,_0x4ea9b8=[];for await(const _0x14f43d of _0x412317(_0x57f8bf))_0x4ea9b8[_0x5563ee(0x639)](_0x14f43d);return _0x4ea9b8;}(_0x385484);return this[_0x4ddfd8(0xa65)]+=_0x448739[_0x4ddfd8(0x9b1)]((_0x28ec54,_0xd3c408)=>_0x28ec54+_0xd3c408[_0x4ddfd8(0x97f)],0x0),void _0x448739[_0x4ddfd8(0x3e1)]((_0x47a1c5,_0x257afe)=>{const _0x357ca2=_0x4ddfd8;this[_0x357ca2(0x497)][_0x357ca2(0x70e)]({'sourceId':this[_0x357ca2(0x1a8)][_0x357ca2(0xb04)](),'destinationIds':_0x492eff,'propagate':!0x0,'contentType':_0x548494[_0x357ca2(0x777)][_0x357ca2(0x831)],'content':{'name':_0x385484[_0x357ca2(0xa87)],'type':_0x385484['type'],'data':_0x47a1c5,'index':_0x257afe,'total':_0x448739[_0x357ca2(0xa5f)]}});});}this[_0x4ddfd8(0xa65)]+=JSON[_0x4ddfd8(0x6b1)](_0x385484)[_0x4ddfd8(0xa5f)],this[_0x4ddfd8(0x497)][_0x4ddfd8(0x70e)]({'sourceId':this['owner']['getId'](),'destinationIds':_0x492eff,'propagate':!0x0,'contentType':_0x548494[_0x4ddfd8(0x777)][_0x4ddfd8(0x3cd)],'content':_0x385484});}[_0x3fd00f(0xa7f)](_0x20e475){const _0x141dea=_0x3fd00f;return this[_0x141dea(0x244)][_0x141dea(0x84f)](_0x26a65c=>{const _0x41279b=_0x141dea;switch(_0x404abe[_0x41279b(0x327)](_0x20ff7d['DataStream'],_0x41279b(0x4e5),this[_0x41279b(0x1a8)][_0x41279b(0xb04)](),_0x26a65c),_0x26a65c['contentType']){case _0x548494[_0x41279b(0x777)][_0x41279b(0x3cd)]:this[_0x41279b(0x797)]+=0x1,this['bytesReceived']+=JSON['stringify'](_0x26a65c[_0x41279b(0xaf0)])[_0x41279b(0xa5f)],_0x20e475(_0x26a65c[_0x41279b(0x42a)],_0x26a65c['content']);break;case _0x548494[_0x41279b(0x777)][_0x41279b(0x831)]:this[_0x41279b(0xafc)][_0x41279b(0x68d)](_0x26a65c[_0x41279b(0xaf0)][_0x41279b(0xa87)])||this[_0x41279b(0xafc)][_0x41279b(0x1f5)](_0x26a65c['content'][_0x41279b(0xa87)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x32b915=this[_0x41279b(0xafc)]['get'](_0x26a65c[_0x41279b(0xaf0)][_0x41279b(0xa87)]);if(_0x32b915[_0x41279b(0x67a)]+=0x1,_0x32b915['bytesReceived']+=_0x26a65c[_0x41279b(0xaf0)][_0x41279b(0xa83)]['byteLength'],_0x32b915[_0x41279b(0xaf0)]&&(_0x32b915[_0x41279b(0xaf0)][_0x26a65c[_0x41279b(0xaf0)][_0x41279b(0x9f9)]]=_0x26a65c['content'][_0x41279b(0xa83)]),this[_0x41279b(0xafc)]['set'](_0x26a65c[_0x41279b(0xaf0)]['name'],_0x32b915),_0x32b915['chunksReceived']+0x1<_0x26a65c['content']['total'])return;this['messagesReceived']+=0x1,this[_0x41279b(0x9d3)]+=_0x32b915[_0x41279b(0x9d3)],_0x32b915[_0x41279b(0xaf0)]&&_0x20e475(_0x26a65c['sourceId'],(_0xaaee45=_0x32b915[_0x41279b(0xaf0)],_0xc42243=_0x26a65c[_0x41279b(0xaf0)][_0x41279b(0xa87)],_0x375a0b=_0x26a65c[_0x41279b(0xaf0)][_0x41279b(0x705)],new File(_0xaaee45,_0xc42243,{'type':_0x375a0b}))),this['fileChunks']['delete'](_0x26a65c[_0x41279b(0xaf0)]['name']);}var _0xaaee45,_0xc42243,_0x375a0b;});}}function _0x4767cf(){const _0xd6c27f=_0x3fd00f;let _0x3cdbb5=[];return{'subscribe':_0x19025c=>(_0x3cdbb5[_0xd6c27f(0x639)](_0x19025c),()=>{const _0x48a31f=_0xd6c27f;_0x3cdbb5=_0x3cdbb5[_0x48a31f(0x69d)](_0x429615=>_0x429615!==_0x19025c);}),'publish':_0x15cbbd=>{const _0x465868=_0xd6c27f;_0x3cdbb5[_0x465868(0x3e1)](_0x2a4b77=>_0x2a4b77(_0x15cbbd));}};}function _0x2d2e28(){let _0x41a17d;return{'subscribe':_0x250475=>(_0x41a17d=_0x250475,()=>{_0x41a17d=void 0x0;}),'publish':_0xc1b5e9=>{_0x41a17d&&_0x41a17d(_0xc1b5e9);}};}class _0xde66cd{[_0x3fd00f(0x4f9)];[_0x3fd00f(0x6df)];['tableObserver'];[_0x3fd00f(0x847)]=_0x2d2e28();['listenerUnsubscriber'];constructor(_0x1dfe6d,_0x2f40a1,_0x59da0d){const _0x3e6d8d=_0x3fd00f;this[_0x3e6d8d(0x4f9)]=_0x1dfe6d,this['tableName']=_0x2f40a1,this[_0x3e6d8d(0x2a5)]=_0x59da0d;}['destroy'](){this['listenerUnsubscriber']?.();}async[_0x3fd00f(0x7ae)](_0x38442f){const _0x1b4a6c=_0x3fd00f,_0xed2667={'key':_0x38442f,'tableName':this[_0x1b4a6c(0x6df)],'action':_0x54a466[_0x1b4a6c(0xa33)]};return this[_0x1b4a6c(0x2a5)][_0x1b4a6c(0x70e)](_0xed2667),this['connector']['get'](_0x38442f);}async[_0x3fd00f(0x1f5)](_0x2bdfe5,_0x5ed3fc,_0x1cc73b=!0x0){const _0x25b470=_0x3fd00f;this[_0x25b470(0x37d)](_0x5ed3fc);const _0x38da4f=await this[_0x25b470(0x4f9)][_0x25b470(0x7ae)](_0x2bdfe5),_0x2ef79c=await this['connector'][_0x25b470(0x1f5)](_0x2bdfe5,_0x5ed3fc),_0x281c86=_0x38da4f?_0x28516a[_0x25b470(0x29e)]:_0x28516a[_0x25b470(0x80f)];if(this['publish'](_0x281c86,_0x2ef79c),!_0x1cc73b)return _0x2ef79c;const _0x5cae29={'key':_0x2bdfe5,'tableName':this[_0x25b470(0x6df)],'action':_0x281c86,'value':_0x2ef79c};return this['tableObserver'][_0x25b470(0x70e)](_0x5cae29),_0x2ef79c;}async[_0x3fd00f(0x30b)](_0x400bc8){const _0x51c6ee=_0x3fd00f;this[_0x51c6ee(0x37d)](_0x400bc8);const _0x5d2837=await this[_0x51c6ee(0x4f9)][_0x51c6ee(0x30b)](_0x400bc8),_0x31e32b={'key':_0x5d2837['id'],'tableName':this[_0x51c6ee(0x6df)],'action':_0x28516a[_0x51c6ee(0x80f)],'value':_0x5d2837};return this[_0x51c6ee(0x2a5)]['publish'](_0x31e32b),this['publish'](_0x31e32b[_0x51c6ee(0x876)],_0x5d2837),_0x5d2837;}async[_0x3fd00f(0x92b)](_0x1c59d5,_0x3be5d0=!0x0){const _0x30f594=_0x3fd00f,_0x39b4be=await this[_0x30f594(0x4f9)][_0x30f594(0x7ae)](_0x1c59d5);if(!_0x39b4be)return;await this['connector'][_0x30f594(0x92b)](_0x1c59d5);const _0x63f7a4=_0x28516a[_0x30f594(0x81a)];if(this[_0x30f594(0x70e)](_0x63f7a4,_0x39b4be),!_0x3be5d0)return;const _0x47956e={'key':_0x1c59d5,'tableName':this[_0x30f594(0x6df)],'action':_0x63f7a4,'value':_0x39b4be};this[_0x30f594(0x2a5)][_0x30f594(0x70e)](_0x47956e);}async[_0x3fd00f(0x7e7)](){const _0x26bae2=_0x3fd00f,_0x118ddd=await this['list']();for(const _0x2c9c66 of _0x118ddd){const _0x17e1ab=_0x28516a[_0x26bae2(0x81a)];this['publish'](_0x17e1ab,_0x2c9c66);const _0x35a339={'key':_0x2c9c66['id'],'tableName':this[_0x26bae2(0x6df)],'action':_0x17e1ab,'value':_0x2c9c66};this['tableObserver'][_0x26bae2(0x70e)](_0x35a339);}return this['connector']['clear']();}async[_0x3fd00f(0x459)](_0x33dd6d){const _0x33102a=_0x3fd00f,_0x47616c={'key':'','tableName':this[_0x33102a(0x6df)],'action':_0x54a466[_0x33102a(0x8bc)]};this['tableObserver'][_0x33102a(0x70e)](_0x47616c);try{_0x33dd6d&&(_0x33dd6d=_0x33dd6d instanceof _0x217970?_0x33dd6d[_0x33102a(0xabd)]():_0x217970['buildQuery'](_0x33dd6d)['getQuery']());}catch(_0x18de4c){throw new _0x19abf5(_0x2c23d1['KeyValueDatabaseInvalidQuery'],_0x33102a(0x538));}try{return await this['connector'][_0x33102a(0x459)](_0x33dd6d);}catch(_0x1b7779){let _0x5d2e1d=_0x33102a(0x538);throw _0x1b7779 instanceof Error&&(_0x5d2e1d=_0x1b7779[_0x33102a(0x382)]),new _0x19abf5(_0x2c23d1['KeyValueDatabaseInvalidQuery'],_0x5d2e1d);}}async[_0x3fd00f(0x363)](_0x425005){const _0x2cbe01=_0x3fd00f,_0x1d7d50={'key':'','tableName':this[_0x2cbe01(0x6df)],'action':_0x54a466['Count']};this[_0x2cbe01(0x2a5)]['publish'](_0x1d7d50);try{_0x425005&&(_0x425005=_0x425005 instanceof _0x217970?_0x425005[_0x2cbe01(0xabd)]():_0x217970['buildQuery'](_0x425005)[_0x2cbe01(0xabd)]());}catch(_0x948157){throw new _0x19abf5(_0x2c23d1[_0x2cbe01(0xa60)],_0x2cbe01(0x538));}try{return await this[_0x2cbe01(0x4f9)][_0x2cbe01(0x363)](_0x425005);}catch(_0x1ba195){let _0x115c45=_0x2cbe01(0x538);throw _0x1ba195 instanceof Error&&(_0x115c45=_0x1ba195[_0x2cbe01(0x382)]),new _0x19abf5(_0x2c23d1[_0x2cbe01(0xa60)],_0x115c45);}}[_0x3fd00f(0x56a)](){const _0x19607c=_0x3fd00f;return this[_0x19607c(0x4f9)][_0x19607c(0x56a)]();}[_0x3fd00f(0x84f)](_0x5a58a0){const _0x3e538b=_0x3fd00f;this[_0x3e538b(0x8d0)]=this[_0x3e538b(0x847)][_0x3e538b(0x84f)](_0x5a58a0);}[_0x3fd00f(0x35a)](){const _0x217335=_0x3fd00f;this[_0x217335(0x8d0)]?.();}[_0x3fd00f(0x70e)](_0x149912,_0x717a93){const _0x3f6aa2=_0x3fd00f,_0x5550ad=this[_0x3f6aa2(0x1b9)](_0x149912,_0x717a93);this['eventListener'][_0x3f6aa2(0x70e)](_0x5550ad);}['buildTableEvent'](_0x4b4bb4,_0xc68ab){const _0x348dc0=_0x3fd00f;let _0x5eb07f;switch(_0x4b4bb4){case _0x28516a[_0x348dc0(0x80f)]:_0x5eb07f=_0x348dc0(0x30b);break;case _0x28516a[_0x348dc0(0x29e)]:_0x5eb07f='update';break;case _0x28516a[_0x348dc0(0x81a)]:_0x5eb07f='delete';}return{'action':_0x5eb07f,'value':_0xc68ab};}[_0x3fd00f(0x37d)](_0x2c6fc2){const _0xe70b1b=_0x3fd00f;if(_0xe70b1b(0x9a9)!=typeof _0x2c6fc2||null===_0x2c6fc2)throw new _0x19abf5(_0x2c23d1[_0xe70b1b(0x4da)],_0xe70b1b(0x90e));for(const _0x599b6c in _0x2c6fc2){const _0x90e3c2=_0x2c6fc2[_0x599b6c];if(_0xe70b1b(0x9a9)!=typeof _0x90e3c2||_0x90e3c2 instanceof Date){if(![_0xe70b1b(0x7fc),_0xe70b1b(0xa75),_0xe70b1b(0x19a)][_0xe70b1b(0x7ac)](typeof _0x90e3c2))throw new _0x19abf5(_0x2c23d1['KeyValueDatabaseInvalidValue'],_0xe70b1b(0x248)+_0x599b6c+_0xe70b1b(0x444));}else this['validateValue'](_0x90e3c2);}}}class _0x36359e{[_0x3fd00f(0x3ff)]=[];[_0x3fd00f(0x2d0)]=0x0;['transactionQueue']=[];[_0x3fd00f(0x736)]=!0x1;[_0x3fd00f(0xa2e)]=null;['rootComputationPromise']=null;[_0x3fd00f(0x4a1)];[_0x3fd00f(0x900)]=null;['readyPromises']=[];[_0x3fd00f(0x3b2)];[_0x3fd00f(0x970)]=Promise[_0x3fd00f(0x427)]();[_0x3fd00f(0x85b)]=0x0;constructor(){}get[_0x3fd00f(0x8d6)](){const _0x123be9=_0x3fd00f;return this[_0x123be9(0x970)];}async['appendTransaction'](_0x5a1d43,_0x18a5a4=0x0){const _0x3df6f5=_0x3fd00f;this['readyResolve']||(this['_ready']=new Promise(_0x2711f8=>{const _0x3e9887=a0_0x38ff;this[_0x3e9887(0x900)]=_0x2711f8;}),this['expectedTransactions']=_0x18a5a4);const _0x2bf8b7=Date[_0x3df6f5(0x441)]();if(this[_0x3df6f5(0x736)])return void this[_0x3df6f5(0x596)][_0x3df6f5(0x639)](_0x5a1d43);this[_0x3df6f5(0x736)]=!0x0;let _0x554efd={'hash':await this[_0x3df6f5(0x5ba)](_0x5a1d43),'height':0x0};const _0x457726=this[_0x3df6f5(0x417)](_0x554efd);this[_0x3df6f5(0x7d4)][_0x3df6f5(0x639)](_0x457726),await _0x457726,this[_0x3df6f5(0x2d0)]+=0x1;const _0x285d57=this['transactionQueue']['length'];for(;this['transactionQueue'][_0x3df6f5(0xa5f)]>0x0;){const _0x4ade3a=this[_0x3df6f5(0x596)][_0x3df6f5(0x63a)]();await this[_0x3df6f5(0xa31)](_0x4ade3a);}this[_0x3df6f5(0x908)](),await this[_0x3df6f5(0x8d6)],this['debounceAppendLog'](_0x2bf8b7,_0x285d57);}async[_0x3fd00f(0x603)](){const _0x432432=_0x3fd00f;return await this[_0x432432(0x970)],this[_0x432432(0x736)]?(this[_0x432432(0x3bc)]||(this['rootComputationPromise']=this[_0x432432(0x1b8)]()),await this[_0x432432(0x3bc)]):this[_0x432432(0xa2e)];}[_0x3fd00f(0x71f)](){const _0x1d91de=_0x3fd00f;return this[_0x1d91de(0x3ff)][_0x1d91de(0x23d)](({hash:_0x44ef97,height:_0x245cb2})=>({'hash':_0x44ef97,'height':_0x245cb2}));}[_0x3fd00f(0xb01)](){const _0x2931ce=_0x3fd00f;return this[_0x2931ce(0x2d0)];}[_0x3fd00f(0x799)](_0x310555){const _0x466209=_0x3fd00f;return this[_0x466209(0x3ff)][_0x466209(0x78b)](_0x4f989c=>_0x4f989c['height']===_0x310555);}async[_0x3fd00f(0x302)](_0xba3886,_0x38d298){return await this['computeHash'](_0xba3886+_0x38d298);}async[_0x3fd00f(0x5ba)](_0x5f4577){const _0x1ba2cf=_0x3fd00f;return await this[_0x1ba2cf(0x72e)](JSON[_0x1ba2cf(0x6b1)](_0x5f4577));}[_0x3fd00f(0x9b3)](_0x4f4f95){const _0x1b7fd7=_0x3fd00f,_0x28cec8=this[_0x1b7fd7(0x71f)](),_0x5d7a40=[],_0x9c2125=[],_0x5771e8=[];for(const _0x47c41d of _0x28cec8){const _0x20f474=_0x4f4f95[_0x1b7fd7(0x78b)](_0x319ca7=>_0x319ca7[_0x1b7fd7(0xb03)]===_0x47c41d[_0x1b7fd7(0xb03)]);_0x20f474?_0x47c41d[_0x1b7fd7(0x852)]!==_0x20f474['hash']&&_0x5d7a40['push']({'height':_0x47c41d[_0x1b7fd7(0xb03)],'localPeak':_0x47c41d,'remotePeak':_0x20f474}):_0x9c2125['push'](_0x47c41d);}for(const _0xc6f193 of _0x4f4f95)_0x28cec8[_0x1b7fd7(0x78b)](_0xb278e4=>_0xb278e4[_0x1b7fd7(0xb03)]===_0xc6f193['height'])||_0x5771e8[_0x1b7fd7(0x639)](_0xc6f193);return{'differingPeaks':_0x5d7a40,'peaksMissingInRemote':_0x9c2125,'peaksMissingInLocal':_0x5771e8};}async[_0x3fd00f(0x1b8)](){const _0x2abbc4=_0x3fd00f;this[_0x2abbc4(0x736)]=!0x0;const _0x400684=this[_0x2abbc4(0x3ff)]['map'](_0x141c98=>_0x141c98['hash']);return this[_0x2abbc4(0xa2e)]=await this[_0x2abbc4(0x19e)](_0x400684),this[_0x2abbc4(0x736)]=!0x1,this[_0x2abbc4(0x3bc)]=null,this[_0x2abbc4(0x908)](),this[_0x2abbc4(0xa2e)];}async[_0x3fd00f(0x72e)](_0x205184){const _0x38fe5d=_0x3fd00f;try{const _0x5d8f49=new TextEncoder()[_0x38fe5d(0x46a)](_0x205184),_0x49cec2=await crypto['subtle'][_0x38fe5d(0x9fa)]('SHA-256',_0x5d8f49);return Array[_0x38fe5d(0x4f7)](new Uint8Array(_0x49cec2))[_0x38fe5d(0x23d)](_0x34c391=>_0x34c391[_0x38fe5d(0x5fc)](0x10)[_0x38fe5d(0x563)](0x2,'0'))['join']('');}catch(_0x4dac8d){return console[_0x38fe5d(0x805)](_0x38fe5d(0x1ad),_0x4dac8d),this[_0x38fe5d(0x72e)](_0x205184);}}async['hashPeakHashes'](_0x839221){const _0x760336=_0x3fd00f;return await this[_0x760336(0x72e)](_0x839221[_0x760336(0x5b4)](''));}async[_0x3fd00f(0x417)](_0x47ade4){const _0x36d292=_0x3fd00f;for(;this[_0x36d292(0x3ff)]['length']>0x0&&this['peaks'][this[_0x36d292(0x3ff)]['length']-0x1][_0x36d292(0xb03)]===_0x47ade4[_0x36d292(0xb03)];){const _0x52d5c6=this[_0x36d292(0x3ff)][_0x36d292(0x41e)]();_0x47ade4={'hash':await this[_0x36d292(0x302)](_0x52d5c6[_0x36d292(0x852)],_0x47ade4[_0x36d292(0x852)]),'left':_0x52d5c6,'right':_0x47ade4,'height':_0x47ade4['height']+0x1};}this[_0x36d292(0x3ff)][_0x36d292(0x639)](_0x47ade4),await this[_0x36d292(0x1b8)]();}[_0x3fd00f(0x6c1)](_0x544667,_0x160fde){const _0x3af54c=_0x3fd00f;if(!_0x404abe[_0x3af54c(0x72a)](_0x20ff7d[_0x3af54c(0x1af)]))return;this[_0x3af54c(0x4a1)]&&clearTimeout(this[_0x3af54c(0x4a1)]);const _0x2fb626=Date['now']();this['debounceLogTimeout']=setTimeout(()=>_0x404abe[_0x3af54c(0x327)](_0x20ff7d[_0x3af54c(0x1af)],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this['cachedRoot'],_0x3af54c(0x1e5),this[_0x3af54c(0xb01)](),_0x3af54c(0x956),_0x160fde,'time',_0x2fb626-_0x544667),0x7d0);}[_0x3fd00f(0x908)](){const _0x271a9e=_0x3fd00f;this[_0x271a9e(0x3b2)]&&clearTimeout(this[_0x271a9e(0x3b2)]),this[_0x271a9e(0x3b2)]=setTimeout(async()=>{const _0x475eee=_0x271a9e;try{const _0x38e788=this[_0x475eee(0x7d4)];if(this['readyPromises']=[],await Promise[_0x475eee(0x51b)](_0x38e788),this[_0x475eee(0x85b)]-=_0x38e788[_0x475eee(0xa5f)],this[_0x475eee(0x7d4)][_0x475eee(0xa5f)]>0x0||this[_0x475eee(0x85b)]>0x0)return this[_0x475eee(0x908)]();this[_0x475eee(0x900)]&&(this[_0x475eee(0x900)](),this[_0x475eee(0x900)]=null),this[_0x475eee(0x970)]=Promise[_0x475eee(0x427)](),this[_0x475eee(0x736)]=!0x1;}catch(_0xdb350){console[_0x475eee(0x805)]('Error\x20resolving\x20readyPromises:',_0xdb350);}},0xa);}}const _0x14460e=[_0x3fd00f(0x4b7),_0x3fd00f(0x9ce),_0x3fd00f(0x870),'Subscription',_0x3fd00f(0x3eb),_0x3fd00f(0x2b4),_0x3fd00f(0x740)],_0x51e1ef=[[_0x3fd00f(0x8b2),_0x3fd00f(0x9cc),_0x3fd00f(0x723),'Success',_0x3fd00f(0x255),_0x3fd00f(0x5a7),_0x3fd00f(0x6fd),_0x3fd00f(0x3eb),_0x3fd00f(0xa66)],['NodeJoin',_0x3fd00f(0x7e8),_0x3fd00f(0x74c),_0x3fd00f(0x7fb)],[_0x3fd00f(0x16d),_0x3fd00f(0xa9b),_0x3fd00f(0xaf3),'CloseExternalStorageConnection',_0x3fd00f(0xa09),_0x3fd00f(0x91c),_0x3fd00f(0x791),'ClosePubSubTopic',_0x3fd00f(0x494),_0x3fd00f(0x91f),_0x3fd00f(0x525),_0x3fd00f(0x6f5),_0x3fd00f(0xa79),_0x3fd00f(0x213),_0x3fd00f(0xa21),'KeyValueDatabaseRequestPeakTransactions','KeyValueDatabaseRequestTransactionsValue',_0x3fd00f(0x461),_0x3fd00f(0x9ea),_0x3fd00f(0x8fd),'LocalMediaStreamTrackFail',_0x3fd00f(0x507),_0x3fd00f(0x742),'PublishMediaStream',_0x3fd00f(0x6f2),_0x3fd00f(0x28f),_0x3fd00f(0x641),'UnsubscribeMediaStream',_0x3fd00f(0x4fb),_0x3fd00f(0x536)],[_0x3fd00f(0x28f),_0x3fd00f(0x4fb),'UnsubscribeMediaStreamdiaStream','CanProvideMediaStream','CannotProvideMediaStream',_0x3fd00f(0x48b)],['StreamReport',_0x3fd00f(0xabf)],[_0x3fd00f(0x7f2)],[_0x3fd00f(0x740),'RemoteRemediation']];function _0x379bcd(_0x2e2a31){const _0x518523=_0x3fd00f;return{..._0x2e2a31,'systemMessageType':_0x14460e[_0x2e2a31[_0x518523(0xa81)]],'systemContentMessageType':_0x51e1ef[_0x2e2a31['messageType']][_0x2e2a31['content'][_0x518523(0x705)]]};}const _0x4d2bf3={'hour':'2-digit','minute':_0x3fd00f(0x6a4),'second':'2-digit'};function _0x160028(_0x42b4eb,_0x591338){const _0x4774d2=_0x3fd00f,_0x488704=(function(){const _0x5608ee=a0_0x38ff,_0xf6a26b=new Date(),_0x181797=_0xf6a26b[_0x5608ee(0x391)](),_0x564e83=_0xf6a26b[_0x5608ee(0x2c1)](_0x5608ee(0xa9f),_0x4d2bf3)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x564e83+'.'+(_0x181797>0x64?''+_0x181797:_0x181797>0xa?'0'+_0x181797:'00'+_0x181797);}()),{sourceId:_0x3d09a2,destinationIds:_0x32f432,systemMessageType:_0x3ef156,systemContentMessageType:_0x2ae566}=_0x379bcd(_0x42b4eb);return _0x488704+_0x4774d2(0xa7b)+_0x591338+_0x4774d2(0xa7b)+(_0x3d09a2===_0x591338?_0x4774d2(0x904)+_0x3ef156+_0x4774d2(0xaef)+(_0x32f432?''+_0x32f432:_0x4774d2(0x73e)):_0x42b4eb[_0x4774d2(0x42a)]===_0x4856c9?_0x4774d2(0x160)+_0x3ef156+'\x27':(_0x32f432?'':_0x4774d2(0x77c))+_0x4774d2(0x93c)+_0x3ef156+'\x27\x20from\x20'+_0x3d09a2)+'\x20with\x20\x27'+_0x2ae566+_0x4774d2(0x5f0);}function _0x43f657(_0x49846d,_0x2cec0c){const _0x57ba85=_0x3fd00f;if(!_0x404abe['isChannelEnabled'](_0x49846d))return;if(_0x2c3579[_0x57ba85(0x8c5)])return;if(_0x57ba85(0x332)==typeof process)return;const _0x5bf63c=process[_0x57ba85(0x1e8)]();console[_0x57ba85(0x327)](_0x57ba85(0x9db)+_0x2cec0c+':');for(const _0x594a53 in _0x5bf63c)console['log']('\x20\x20'+_0x594a53+':\x20'+(_0x5bf63c[_0x594a53]/0x400/0x400)[_0x57ba85(0x316)](0x2)+'\x20MB');}function _0x7bd7fb(_0x31e566,_0x519762){const _0x580696=_0x3fd00f;if(!_0x404abe[_0x580696(0x72a)](_0x519762))return _0x404abe[_0x580696(0x842)](_0x580696(0x375)+_0x519762),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x31fb7c,_0x3aa0c1)=>_0x3aa0c1}};let _0x16e407=0x0;return{'timingLogger':((()=>{const _0x319f40=_0x580696;let _0x263e15=Date[_0x319f40(0x441)]();return{'start':()=>{const _0x454d6d=_0x319f40;_0x263e15=Date[_0x454d6d(0x441)]();},'now':()=>Date[_0x319f40(0x441)](),'logWaitTime':_0x2b2aee=>{const _0x49f81b=_0x319f40;_0x16e407+=Date[_0x49f81b(0x441)]()-_0x263e15,_0x404abe['log'](_0x519762,_0x2b2aee,_0x16e407+'ms',_0x31e566);}};})()),'logger':{'log':(_0x2b0d43,_0x37dd78=()=>{})=>{const _0x4b99db=_0x580696,_0x4bcaf9=_0x37dd78();_0x4bcaf9?_0x404abe['log'](_0x519762,_0x2b0d43,_0x4bcaf9,_0x31e566):_0x404abe[_0x4b99db(0x327)](_0x519762,_0x2b0d43,_0x31e566);},'performCalculation':(_0x125080,_0x34f052)=>_0x125080()}};}function _0x115c31(_0x275d9b){const _0x1e8140=_0x3fd00f;return _0x1e8140(0x332)==typeof Buffer?0x0:Buffer[_0x1e8140(0x97f)](JSON[_0x1e8140(0x6b1)](_0x275d9b),_0x1e8140(0x524));}function _0x2a7e7f(_0x7f953f){const _0x5cc088=_0x3fd00f;if(0x0===_0x7f953f)return _0x5cc088(0xad3);const _0x5bb508=Math[_0x5cc088(0x8c3)](Math[_0x5cc088(0x327)](_0x7f953f)/Math[_0x5cc088(0x327)](0x400));return parseFloat((_0x7f953f/Math[_0x5cc088(0x413)](0x400,_0x5bb508))[_0x5cc088(0x316)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x5bb508];}class _0xf9e1a2 extends _0x31e81e{['localNode'];[_0x3fd00f(0x9c0)];[_0x3fd00f(0x3ee)];['isNodeReady'];['db'];['dbKey'];['tables']=new Map();[_0x3fd00f(0x2a5)];[_0x3fd00f(0x701)];[_0x3fd00f(0x9d5)];[_0x3fd00f(0x8f6)];['syncResolve'];['transactionsToSync']=[];[_0x3fd00f(0x350)]=()=>{};[_0x3fd00f(0x358)];[_0x3fd00f(0x847)]=_0x2d2e28();['listenerUnsubscriber'];['syncTransactionsWritten']=[];['layout'];[_0x3fd00f(0x357)];[_0x3fd00f(0x9ad)]=0x0;[_0x3fd00f(0x663)]=0x0;[_0x3fd00f(0x5cd)]=!0x1;['mmr']=new _0x36359e();[_0x3fd00f(0x419)]=new Map();[_0x3fd00f(0x372)]=[];[_0x3fd00f(0x174)];[_0x3fd00f(0x3c4)]=[];[_0x3fd00f(0x9df)];constructor(_0x17d422,_0x1f7e8a,_0x230df9,_0x37cf24,_0x559290,_0x2a2255,_0x12cbc6){const _0x3433c1=_0x3fd00f;if(_0x3433c1(0x7fc)!=typeof _0x1f7e8a)throw new _0x19abf5(_0x2c23d1[_0x3433c1(0x89f)],_0x3433c1(0x33d));if(super(_0x17d422,_0x1f7e8a),this[_0x3433c1(0x976)]=_0x17d422,this[_0x3433c1(0x9c0)]=_0x230df9,this[_0x3433c1(0x3ee)]=_0x37cf24,this[_0x3433c1(0x775)]=_0x12cbc6,this['dbKey']='ccc'+this[_0x3433c1(0x3ee)]+'ccc'+this[_0x3433c1(0x9c0)]+_0x3433c1(0xaea)+this[_0x3433c1(0x985)],this['tableObserver']=_0x2d2e28(),this[_0x3433c1(0x9df)]=function(_0x2e03b9,_0x94b14){const _0x432cde=_0x3433c1;if(!_0x404abe[_0x432cde(0x72a)](_0x94b14))return _0x404abe[_0x432cde(0x842)](_0x432cde(0x375)+_0x94b14),{..._0x7bd7fb(_0x2e03b9,_0x94b14),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x432cde(0xad3),'dataReceived':_0x432cde(0xad3)})};const {timingLogger:_0x1bc1a4,logger:_0x1275d3}=_0x7bd7fb(_0x2e03b9,_0x94b14);let _0x40009a=0x0,_0x14de90=0x0;return{'timingLogger':_0x1bc1a4,'logger':_0x1275d3,'logDataSent':(_0x292e08,_0x240e74=!0x1)=>{const _0x2dca2c=_0x432cde,_0x244a69=_0x115c31(_0x292e08);return _0x240e74&&_0x404abe[_0x2dca2c(0x327)](_0x94b14,_0x2dca2c(0x3b8),_0x2e03b9,_0x244a69),_0x40009a+=_0x244a69,_0x244a69;},'logDataReceived':(_0x367d81,_0x10c232=!0x1)=>{const _0xd50661=_0x432cde,_0x3e3a73=_0x115c31(_0x367d81);return _0x10c232&&_0x404abe[_0xd50661(0x327)](_0x94b14,_0xd50661(0x97a),_0x2e03b9,_0x3e3a73),_0x14de90+=_0x3e3a73,_0x3e3a73;},'getDataLogged':()=>({'dataSent':_0x2a7e7f(_0x40009a),'dataReceived':_0x2a7e7f(_0x14de90)})};}(this[_0x3433c1(0x985)],_0x20ff7d[_0x3433c1(0x1af)]),this[_0x3433c1(0x8f6)]=new Promise(_0x177101=>{const _0x4c5a0b=_0x3433c1;this[_0x4c5a0b(0x2d8)]=_0x177101;}),_0x559290 instanceof _0x80efac)this[_0x3433c1(0x224)]=_0x559290[_0x3433c1(0x66f)]();else{const [_0xb4a276,_0x473e42]=_0x80efac[_0x3433c1(0x347)](_0x559290);if(!_0xb4a276)throw new _0x19abf5(_0x2c23d1[_0x3433c1(0x3bd)],_0x3433c1(0x33a)+_0x473e42);this[_0x3433c1(0x224)]=structuredClone(_0x559290);}this['addReservedTables'](this[_0x3433c1(0x224)]),this['db']=new _0x2a2255(this['dbKey'],this[_0x3433c1(0x224)]),this[_0x3433c1(0x8b5)]();}async[_0x3fd00f(0x6c0)](_0x5795da,_0x27b8d7){const _0x34c684=_0x3fd00f;if(_0x404abe[_0x34c684(0x327)](_0x20ff7d[_0x34c684(0x1af)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x34c684(0x985)]),!this[_0x34c684(0x701)])throw new _0x5d70cf(_0x5d70cf['codes'][_0x34c684(0x804)]);if(await this[_0x34c684(0x8f6)],await this[_0x34c684(0x775)](_0x5795da),await this['mmr'][_0x34c684(0x603)]()===_0x27b8d7){const _0x2112dd={'sourceId':this[_0x34c684(0x976)]['getId'](),'destinationIds':[_0x5795da],'propagate':!0x0,'messageType':_0x519af0[_0x34c684(0x870)],'content':{'type':_0x347d3c[_0x34c684(0xa21)],'label':this[_0x34c684(0x985)],'mmrRoot':_0x27b8d7}};return this['loggingCycle']['logDataSent'](_0x2112dd),void this[_0x34c684(0x5cb)]['publish'](_0x2112dd);}const _0x58108a=this[_0x34c684(0x301)][_0x34c684(0x71f)](),_0x3851fa={'sourceId':this[_0x34c684(0x976)][_0x34c684(0xb04)](),'destinationIds':[_0x5795da],'propagate':!0x0,'messageType':_0x519af0[_0x34c684(0x870)],'content':{'type':_0x347d3c[_0x34c684(0x213)],'label':this[_0x34c684(0x985)],'peaks':_0x58108a}};this[_0x34c684(0x9df)][_0x34c684(0x7a9)](_0x3851fa),this[_0x34c684(0x5cb)]['publish'](_0x3851fa);}async[_0x3fd00f(0x4df)](_0x63b3ed,_0x57584a){const _0x4c84c1=_0x3fd00f,_0x52926b=await this[_0x4c84c1(0x301)][_0x4c84c1(0x603)](),_0x496120=_0x52926b===_0x57584a;if(_0x404abe[_0x4c84c1(0x327)](_0x20ff7d[_0x4c84c1(0x1af)],_0x4c84c1(0x1da)+_0x63b3ed+_0x4c84c1(0x59b)+_0x496120,this[_0x4c84c1(0x985)]),_0x496120)return this[_0x4c84c1(0x589)](),void this[_0x4c84c1(0x9ca)]();_0x404abe[_0x4c84c1(0x327)](_0x20ff7d[_0x4c84c1(0x1af)],_0x4c84c1(0x231),_0x52926b,_0x57584a),_0x404abe[_0x4c84c1(0x70d)]('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this['localNode'][_0x4c84c1(0xb04)](),'nodeType':this[_0x4c84c1(0x976)][_0x4c84c1(0x705)],'remoteId':_0x63b3ed,'data':{'localMMRRoot':_0x52926b,'remoteMMRRoot':_0x57584a}});const _0x4a1c7a={'sourceId':this['localNode'][_0x4c84c1(0xb04)](),'messageType':_0x519af0[_0x4c84c1(0x870)],'propagate':!0x0,'content':{'type':_0x347d3c[_0x4c84c1(0x8fd)],'label':this[_0x4c84c1(0x985)],'mmrRoot':_0x52926b}};this['systemTopic'][_0x4c84c1(0x70e)](_0x4a1c7a);}async[_0x3fd00f(0x408)](_0x1f885b,_0x1c06b1){const _0x105634=_0x3fd00f;if(_0x404abe[_0x105634(0x327)](_0x20ff7d['KeyValueDatabase'],_0x105634(0x80a),_0x1f885b,_0x105634(0x985),this[_0x105634(0x985)],_0x105634(0x3ff),_0x1c06b1),this[_0x105634(0x5cd)])return;this[_0x105634(0x5cd)]=!0x0,this[_0x105634(0x589)]();const {differingPeaks:_0xd40f9a,peaksMissingInLocal:_0x5356fe,peaksMissingInRemote:_0x2dcfcb}=this['mmr'][_0x105634(0x9b3)](_0x1c06b1);_0x404abe['log'](_0x20ff7d[_0x105634(0x1af)],_0x105634(0x586),{'differingPeaks':_0xd40f9a,'peaksMissingInLocal':_0x5356fe,'peaksMissingInRemote':_0x2dcfcb});const _0x8e14f8={'sourceId':this[_0x105634(0x976)]['getId'](),'destinationIds':[_0x1f885b],'propagate':!0x0,'messageType':_0x519af0[_0x105634(0x870)],'content':{'type':_0x347d3c['KeyValueDatabaseRequestPeakTransactions'],'label':this[_0x105634(0x985)],'peakHeights':_0x5356fe[_0x105634(0x23d)](_0x38ef7d=>_0x38ef7d[_0x105634(0xb03)])[_0x105634(0x8de)](_0xd40f9a['map'](_0x24c52c=>_0x24c52c[_0x105634(0xb03)]))}};if(this[_0x105634(0x5cb)][_0x105634(0x70e)](_0x8e14f8),_0xd40f9a['length']>0x0||_0x2dcfcb['length']>0x0){const _0x3ba8b8=_0x2dcfcb['map'](_0x53ede4=>_0x53ede4['height'])['concat'](_0xd40f9a[_0x105634(0x23d)](_0x28b4e9=>_0x28b4e9[_0x105634(0xb03)]));await this['sendPeakTransactions'](_0x1f885b,_0x3ba8b8,!0x0);}}async['sendPeakTransactions'](_0x5ecc37,_0x16a015,_0x29ffbc=!0x1){const _0x47d749=_0x3fd00f;_0x404abe['log'](_0x20ff7d['KeyValueDatabase'],_0x47d749(0xae3),this[_0x47d749(0x985)]);const _0x12f04c=_0x16a015[_0x47d749(0x23d)](_0x31dd18=>this[_0x47d749(0x301)][_0x47d749(0x799)](_0x31dd18))['filter'](Boolean);if(!_0x12f04c[_0x47d749(0xa5f)]||_0x16a015[_0x47d749(0xa5f)]!==_0x12f04c[_0x47d749(0xa5f)])throw new _0x5d70cf(_0x5d70cf['codes'][_0x47d749(0x369)],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x16a015,'peaks':_0x12f04c[_0x47d749(0x23d)](_0x3f1eba=>_0x3f1eba[_0x47d749(0xb03)]),'nodeId':_0x5ecc37});const _0x4dad7d=[];for(const _0x4d222d of _0x12f04c)this[_0x47d749(0x448)](_0x4d222d,_0x4dad7d);const _0x4d9b63=_0x29ffbc?void 0x0:[_0x5ecc37],_0x1e8bf7={'sourceId':this[_0x47d749(0x976)]['getId'](),'destinationIds':_0x4d9b63,'messageType':_0x519af0['Content'],'propagate':!0x0,'content':{'type':_0x347d3c[_0x47d749(0x461)],'label':this[_0x47d749(0x985)],'transactions':_0x4dad7d}};this['loggingCycle'][_0x47d749(0x7a9)](_0x1e8bf7),this[_0x47d749(0x5cb)][_0x47d749(0x70e)](_0x1e8bf7);}async[_0x3fd00f(0x1e1)](_0x14103d,_0x5eef53){const _0x29cf38=_0x3fd00f;_0x404abe[_0x29cf38(0x327)](_0x20ff7d[_0x29cf38(0x1af)],_0x29cf38(0x2be)+_0x5eef53[_0x29cf38(0xa5f)]+_0x29cf38(0x325)+_0x14103d+'\x20-\x20'+this['label']);for(const _0xed6bc7 of _0x5eef53){const _0x387214=await this[_0x29cf38(0x701)][_0x29cf38(0x7ae)](_0xed6bc7['id']);if(!(_0x387214&&this[_0x29cf38(0xa14)](_0x387214,_0xed6bc7)>=0x0)){if(_0xed6bc7[_0x29cf38(0x876)]===_0x28516a['Delete']){const [_0x2cb838,_0x557993]=_0xed6bc7['id'][_0x29cf38(0xae4)]('::'),_0x5a3b8d=this['getTable'](_0x2cb838);await _0x5a3b8d['delete'](_0x557993);}else this[_0x29cf38(0x22a)][_0x29cf38(0x639)](_0xed6bc7['id']);}}if(_0x404abe[_0x29cf38(0x327)](_0x20ff7d[_0x29cf38(0x1af)],_0x29cf38(0x8e9)+this[_0x29cf38(0x22a)][_0x29cf38(0xa5f)]+'\x20new\x20transactions',this[_0x29cf38(0x985)]),this['transactionsToSync'][_0x29cf38(0xa5f)]>0x0){const _0x778657={'sourceId':this[_0x29cf38(0x976)]['getId'](),'destinationIds':[_0x14103d],'messageType':_0x519af0['Content'],'propagate':!0x0,'content':{'type':_0x347d3c['KeyValueDatabaseRequestTransactionsValue'],'label':this[_0x29cf38(0x985)],'transactionIds':this[_0x29cf38(0x22a)]}};this[_0x29cf38(0x9df)]['logDataSent'](_0x778657),this[_0x29cf38(0x5cb)][_0x29cf38(0x70e)](_0x778657);}}['reset'](){this['sendStats']();}['getContentType'](){const _0x2196e2=_0x3fd00f;return _0x548494[_0x2196e2(0x777)][_0x2196e2(0x1af)];}[_0x3fd00f(0x407)](){const _0x12d937=_0x3fd00f;this['db'][_0x12d937(0x883)](),this['tableUnsubscriber']?.(),clearTimeout(this[_0x12d937(0x357)]),delete this[_0x12d937(0x357)],super[_0x12d937(0x407)]();}[_0x3fd00f(0x883)](){const _0x531c2d=_0x3fd00f;this[_0x531c2d(0x589)](),this[_0x531c2d(0x5cb)]['publish']({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x531c2d(0x870)],'content':{'type':_0x347d3c[_0x531c2d(0xa09)],'label':this[_0x531c2d(0x985)]}});}[_0x3fd00f(0x2dd)](_0x480b88){const _0x1ea8c=_0x3fd00f,_0x311f45=this[_0x1ea8c(0x8e5)][_0x1ea8c(0x7ae)](_0x480b88);if(_0x311f45)return _0x311f45;try{if(!this['db']['hasTable'](_0x480b88))throw new _0x19abf5(_0x2c23d1['KeyValueDatabaseTableNotFound'],_0x1ea8c(0x796));const _0x51dfe7=new _0xde66cd(this['db'][_0x1ea8c(0x4af)](_0x480b88),_0x480b88,this[_0x1ea8c(0x2a5)]);return this['tables'][_0x1ea8c(0x1f5)](_0x480b88,_0x51dfe7),{'get':_0x51dfe7[_0x1ea8c(0x7ae)][_0x1ea8c(0x167)](_0x51dfe7),'set':_0x51dfe7[_0x1ea8c(0x1f5)][_0x1ea8c(0x167)](_0x51dfe7),'add':_0x51dfe7[_0x1ea8c(0x30b)][_0x1ea8c(0x167)](_0x51dfe7),'delete':_0x51dfe7[_0x1ea8c(0x92b)]['bind'](_0x51dfe7),'clear':_0x51dfe7[_0x1ea8c(0x7e7)]['bind'](_0x51dfe7),'list':_0x51dfe7[_0x1ea8c(0x459)][_0x1ea8c(0x167)](_0x51dfe7),'count':_0x51dfe7[_0x1ea8c(0x363)][_0x1ea8c(0x167)](_0x51dfe7),'subscribe':_0x51dfe7[_0x1ea8c(0x84f)][_0x1ea8c(0x167)](_0x51dfe7),'unsubscribe':_0x51dfe7[_0x1ea8c(0x35a)][_0x1ea8c(0x167)](_0x51dfe7)};}catch(_0x10bce5){if(_0x10bce5 instanceof _0x19abf5)throw _0x10bce5;throw new _0x19abf5(_0x2c23d1[_0x1ea8c(0x4e9)],_0x1ea8c(0x9b5));}}[_0x3fd00f(0x84f)](_0x5511af){const _0x265411=_0x3fd00f;this[_0x265411(0x8d0)]=this[_0x265411(0x847)][_0x265411(0x84f)](_0x5511af),this[_0x265411(0x312)](this[_0x265411(0x8f6)])[_0x265411(0x530)](_0x1f5a88=>{const _0x2fe6f2=_0x265411;_0x1f5a88&&this[_0x2fe6f2(0x847)]['publish']({'event':_0x548494[_0x2fe6f2(0x9cf)][_0x2fe6f2(0x454)]});});}['unsubscribe'](){const _0x30ad61=_0x3fd00f;this[_0x30ad61(0x8d0)]?.(),this[_0x30ad61(0x8d0)]=void 0x0;}async['open'](){const _0x215ee3=_0x3fd00f;_0x43f657(_0x20ff7d[_0x215ee3(0x1af)],_0x215ee3(0x9e4));const _0x5007f3=[_0xd55659,_0x495e4a],_0x3107d9=[];try{await this['db']['open']();const _0x264c04=this['db']['getTableConnector'](_0x495e4a),_0x3229f1=await _0x264c04['list'](),{id:_0x4b9f60,layout:_0x1c31dc}=_0x3229f1[0x0]??{};if(_0x1c31dc){for(const _0x1d0c4c in _0x1c31dc)_0x5007f3['includes'](_0x1d0c4c)||this['db']['hasTable'](_0x1d0c4c)||_0x3107d9[_0x215ee3(0x639)](_0x1d0c4c);await _0x264c04['set'](_0x4b9f60,{'layout':this[_0x215ee3(0x224)]});}else await _0x264c04['add']({'layout':this[_0x215ee3(0x224)]});}catch(_0x3a9416){throw new _0x19abf5(_0x2c23d1[_0x215ee3(0x4e9)],_0x3a9416[_0x215ee3(0x382)]||_0x215ee3(0x3be));}this[_0x215ee3(0x5ab)](),await this['buildInitialMMR'](),this[_0x215ee3(0x1c7)](),this[_0x215ee3(0x2d3)](),_0x3107d9[_0x215ee3(0x3e1)](_0x4b6afc=>this[_0x215ee3(0x5b6)](_0x4b6afc));}async[_0x3fd00f(0x239)](_0x45f67c,_0x6017d5=()=>{},_0x4b42fe=!0x1){const _0x5bea41=_0x3fd00f;if(!_0x45f67c)return setTimeout(()=>{const _0x28afe9=a0_0x38ff;this['clearSyncTimeout'](),this[_0x28afe9(0x9ca)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this['timeoutCallback']=_0x6017d5,this[_0x5bea41(0x358)]=setTimeout(_0x6017d5,0x7d0),!this['systemTopic'])throw new _0x5d70cf(_0x5d70cf['codes']['MissingSystemTopic']);const _0x3f008c=await this[_0x5bea41(0x301)]['getRoot'](),_0x265082={'sourceId':this[_0x5bea41(0x976)][_0x5bea41(0xb04)](),'messageType':_0x519af0['Content'],'propagate':_0x4b42fe,'content':{'type':_0x347d3c['KeyValueDatabaseSyncRequired'],'label':this[_0x5bea41(0x985)],'mmrRoot':_0x3f008c}};return this[_0x5bea41(0x9df)][_0x5bea41(0x7a9)](_0x265082),this[_0x5bea41(0x5cb)][_0x5bea41(0x70e)](_0x265082),this['isSync'];}async[_0x3fd00f(0x673)](_0x58c623,_0x5ca563){const _0x47640d=_0x3fd00f;if(_0x404abe[_0x47640d(0x327)](_0x20ff7d[_0x47640d(0x1af)],'Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20'+_0x5ca563['length'],this['label']),!this['transactionTable'])throw new _0x5d70cf(_0x5d70cf[_0x47640d(0x765)][_0x47640d(0x804)]);for(const _0x56d133 of _0x5ca563){const _0x47396c=await this[_0x47640d(0x701)]['get'](_0x56d133);if(!_0x47396c)continue;const [_0x2821c2,_0x4822d8]=_0x56d133[_0x47640d(0xae4)]('::'),_0x43a914=this[_0x47640d(0x2dd)](_0x2821c2),_0x8b3846=await _0x43a914[_0x47640d(0x7ae)](_0x4822d8);_0x8b3846?(_0x47396c['value']=_0x8b3846,this[_0x47640d(0x5b8)](_0x47396c,[_0x58c623])):_0x404abe[_0x47640d(0x70d)](_0x47640d(0x8aa),{'nodeId':this[_0x47640d(0x976)][_0x47640d(0xb04)](),'nodeType':this['localNode'][_0x47640d(0x705)],'remoteId':_0x58c623,'data':{'tableKeys':Object[_0x47640d(0x566)](this[_0x47640d(0x8e5)]),'transactionId':_0x56d133,'transactions':this[_0x47640d(0x22a)],'tableName':_0x2821c2,'key':_0x4822d8}});}}async[_0x3fd00f(0x6d9)](_0x2a052d){const _0x41610f=_0x3fd00f;if(!this[_0x41610f(0x701)])throw new _0x5d70cf(_0x5d70cf[_0x41610f(0x765)][_0x41610f(0x804)]);const _0x2bd1f6=await this[_0x41610f(0x301)][_0x41610f(0x5ba)](_0x2a052d),_0x53db8f=this[_0x41610f(0x419)]['get'](_0x2bd1f6);if(_0x53db8f&&this[_0x41610f(0xa14)](_0x2a052d,_0x53db8f)<=0x0)return void _0x404abe[_0x41610f(0x327)](_0x20ff7d[_0x41610f(0x1af)],_0x41610f(0xb05),_0x2a052d);const _0x540e3b={..._0x2a052d};return delete _0x540e3b['value'],this[_0x41610f(0x8a2)](_0x540e3b),await this[_0x41610f(0x701)][_0x41610f(0x1f5)](_0x2a052d['id'],_0x540e3b),_0x2a052d;}[_0x3fd00f(0xa14)](_0x3accea,_0xfb9282){const _0x2d44ec=_0x3fd00f;return _0x3accea[_0x2d44ec(0x1cc)]!==_0xfb9282['timestamp']?_0x3accea[_0x2d44ec(0x1cc)]-_0xfb9282[_0x2d44ec(0x1cc)]:_0x3accea['priority']-_0xfb9282[_0x2d44ec(0x5b1)];}async[_0x3fd00f(0x2a6)](_0x35be58){const _0x47bc50=_0x3fd00f;if(!this[_0x47bc50(0x701)])throw new _0x5d70cf(_0x5d70cf[_0x47bc50(0x765)][_0x47bc50(0x804)]);const _0xf0b1ef=_0x35be58[_0x47bc50(0x6df)]+'::'+_0x35be58[_0x47bc50(0x267)],_0xe5659d=await _0x616df3['getEstimatedTimestamp'](),_0x7689d0={'id':_0xf0b1ef,'priority':Math['random'](),'timestamp':_0xe5659d,'action':_0x35be58[_0x47bc50(0x876)]};if(await this[_0x47bc50(0x6d9)](_0x7689d0))return _0x7689d0;}async[_0x3fd00f(0x5b6)](_0x4bd51e){const _0x35a5e7=_0x3fd00f;if(!this[_0x35a5e7(0x701)])throw new _0x5d70cf(_0x5d70cf['codes'][_0x35a5e7(0x804)]);const _0xac1e7e=_0x217970[_0x35a5e7(0x9f9)]('id')[_0x35a5e7(0x6c4)](_0x35a5e7(0x9ed),[_0x4bd51e+'::',_0x4bd51e+_0x35a5e7(0x5fa)]),_0x49ee83=await this['transactionTable'][_0x35a5e7(0x459)](_0xac1e7e[_0x35a5e7(0xabd)]());for(const _0x30d106 of _0x49ee83)await this[_0x35a5e7(0x701)][_0x35a5e7(0x92b)](_0x30d106['id']);}[_0x3fd00f(0x1c7)](){this['onMessage'](async(_0x5d6a66,_0x475c80)=>{const _0x189286=a0_0x38ff;if(_0x475c80 instanceof File)return;if(this[_0x189286(0x9df)][_0x189286(0x4e7)](_0x475c80),!await this[_0x189286(0x6d9)](_0x475c80))return void this[_0x189286(0x264)](_0x5d6a66,_0x475c80);if(!_0x475c80[_0x189286(0x69a)])throw new _0x5d70cf(_0x5d70cf['codes']['KeyValueDatabaseTransactionValueNotSet']);const [_0x4f67c6,_0x372bc4]=_0x475c80['id'][_0x189286(0xae4)]('::'),_0x4cbe14=this['getTable'](_0x4f67c6);if(!_0x4cbe14)throw new _0x5d70cf(_0x5d70cf[_0x189286(0x765)][_0x189286(0x9a5)],{'table':_0x4cbe14});let _0x1cf86d=0x0;switch(_0x475c80[_0x189286(0x876)]){case _0x28516a[_0x189286(0x80f)]:case _0x28516a['Update']:{const _0x2b9263=_0x4cbe14[_0x189286(0x1f5)](_0x372bc4,_0x475c80[_0x189286(0x69a)],!0x1);_0x1cf86d=JSON[_0x189286(0x6b1)](_0x475c80[_0x189286(0x69a)])[_0x189286(0xa5f)],this[_0x189286(0x22a)][_0x189286(0x7ac)](_0x475c80['id'])&&this['syncTransactionsWritten'][_0x189286(0x639)](_0x2b9263);break;}case _0x28516a[_0x189286(0x81a)]:{const _0x232c9a=_0x4cbe14[_0x189286(0x92b)](_0x372bc4,!0x1);this['transactionsToSync']['includes'](_0x475c80['id'])&&this[_0x189286(0x2a0)][_0x189286(0x639)](_0x232c9a);break;}}_0x404abe[_0x189286(0x729)](_0x5de0fb[_0x189286(0x1af)],{'type':_0x189286(0x239),'label':this[_0x189286(0x985)],'nodeId':this[_0x189286(0x976)]['getId'](),'nodeType':this[_0x189286(0x976)][_0x189286(0x705)],'clusterId':this[_0x189286(0x9c0)],'tableName':_0x4f67c6,'key':_0x372bc4,'size':_0x1cf86d}),this[_0x189286(0x264)](_0x5d6a66,_0x475c80);});}['setOnTableWriteHandler'](){const _0x4547dd=_0x3fd00f;this[_0x4547dd(0x9d5)]=this[_0x4547dd(0x2a5)][_0x4547dd(0x84f)](async _0xa81574=>{const _0x14f179=_0x4547dd;let _0x57a0f6=0x0;switch(_0xa81574['action']){case _0x28516a[_0x14f179(0x80f)]:case _0x28516a[_0x14f179(0x29e)]:case _0x28516a['Delete']:{const _0x508a8a=await this[_0x14f179(0x2a6)](_0xa81574);if(!_0x508a8a)return;_0x508a8a[_0x14f179(0x69a)]=_0xa81574[_0x14f179(0x69a)],this[_0x14f179(0x5b8)](_0x508a8a),_0x57a0f6=JSON[_0x14f179(0x6b1)](_0xa81574[_0x14f179(0x69a)])['length'],this[_0x14f179(0x9ad)]+=0x1;break;}case _0x54a466[_0x14f179(0xa33)]:case _0x54a466[_0x14f179(0x8bc)]:case _0x54a466[_0x14f179(0x637)]:this['reads']+=0x1;}_0x404abe[_0x14f179(0x729)](_0x5de0fb[_0x14f179(0x1af)],{'type':_0xa81574[_0x14f179(0x876)],'label':this[_0x14f179(0x985)],'nodeId':this[_0x14f179(0x976)][_0x14f179(0xb04)](),'nodeType':this[_0x14f179(0x976)][_0x14f179(0x705)],'clusterId':this[_0x14f179(0x9c0)],'tableName':_0xa81574[_0x14f179(0x6df)],'key':_0xa81574[_0x14f179(0x267)],'size':_0x57a0f6}),this['sendStats']();});}[_0x3fd00f(0x5ab)](){const _0x5a0fce=_0x3fd00f;this['db']&&(this[_0x5a0fce(0x701)]||(this[_0x5a0fce(0x701)]=this['db'][_0x5a0fce(0x4af)](_0xd55659)));}[_0x3fd00f(0x589)](){const _0x4908eb=_0x3fd00f;this[_0x4908eb(0x358)]&&(clearTimeout(this[_0x4908eb(0x358)]),delete this[_0x4908eb(0x358)]);}async[_0x3fd00f(0x9ca)](){const _0x1ef2ea=_0x3fd00f;await this[_0x1ef2ea(0x301)]['ready'],this['logSyncMetrics'](),this[_0x1ef2ea(0x847)][_0x1ef2ea(0x70e)]({'event':_0x548494[_0x1ef2ea(0x9cf)][_0x1ef2ea(0x454)]}),this['syncResolve']?.(!0x0),delete this[_0x1ef2ea(0x2d8)],this[_0x1ef2ea(0x8b5)](),_0x404abe[_0x1ef2ea(0x327)](_0x20ff7d[_0x1ef2ea(0x1af)],_0x1ef2ea(0x9cb),this[_0x1ef2ea(0x985)]);}async['publishSyncCompletedAfterWrites'](_0x2db501){const _0x11a6c6=_0x3fd00f;await Promise[_0x11a6c6(0x51b)](this[_0x11a6c6(0x2a0)]),_0x404abe[_0x11a6c6(0x327)](_0x20ff7d[_0x11a6c6(0x1af)],_0x11a6c6(0x272)+this['syncTransactionsWritten'][_0x11a6c6(0xa5f)]+'\x20writes\x20from\x20'+_0x2db501+_0x11a6c6(0x35e),this['label']),await this['mmr'][_0x11a6c6(0x8d6)],await this[_0x11a6c6(0x2cd)](_0x2db501),await this[_0x11a6c6(0x9ca)]();}['checkSyncComplete'](_0xe5c91e,_0xc795e5){const _0x2d84ea=_0x3fd00f;this['transactionsToSync'][_0x2d84ea(0x7ac)](_0xc795e5['id'])&&(this[_0x2d84ea(0x589)](),this[_0x2d84ea(0x22a)]=this[_0x2d84ea(0x22a)]['filter'](_0x52b33f=>_0x52b33f!==_0xc795e5['id']),0x0!==this[_0x2d84ea(0x22a)][_0x2d84ea(0xa5f)]?this[_0x2d84ea(0x358)]=setTimeout(this[_0x2d84ea(0x350)],0x7d0):this['publishSyncCompletedAfterWrites'](_0xe5c91e));}['sendStats'](){const _0x42957d=_0x3fd00f;this[_0x42957d(0x357)]&&clearTimeout(this[_0x42957d(0x357)]),this[_0x42957d(0x357)]=setTimeout(async()=>{const _0x4f3b2b=_0x42957d;delete this[_0x4f3b2b(0x357)];let _0x20ccd8=0x0;for(const _0xc89b6c of this[_0x4f3b2b(0x8e5)][_0x4f3b2b(0x16a)]())_0x20ccd8+=await _0xc89b6c[_0x4f3b2b(0x56a)]();this[_0x4f3b2b(0x5cb)]['publish']({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x4f3b2b(0x870)],'content':{'type':_0x347d3c[_0x4f3b2b(0x9ea)],'label':this[_0x4f3b2b(0x985)],'stats':{'timestamp':Date[_0x4f3b2b(0x441)](),'storage':_0x20ccd8,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x4f3b2b(0x797)],'bytesSent':this[_0x4f3b2b(0xa65)],'bytesReceived':this['bytesReceived'],'writes':this[_0x4f3b2b(0x9ad)],'reads':this[_0x4f3b2b(0x663)],'prompts':0x0,'tokens':0x0}}}),_0x404abe[_0x4f3b2b(0x7c4)](_0x5de0fb[_0x4f3b2b(0x1af)],_0x4f3b2b(0xaea)+this[_0x4f3b2b(0x9c0)]+_0x4f3b2b(0xaea)+this[_0x4f3b2b(0x985)],_0x20ccd8);},_0x59b95b);}['addReservedTables'](_0x197290){const _0x4cd2dd=_0x3fd00f;if(_0x197290[_0x4cd2dd(0x8e5)][_0xd55659])throw new _0x19abf5(_0x2c23d1[_0x4cd2dd(0x57d)],_0x4cd2dd(0x7b6)+_0xd55659+'\x27\x20reserved');if(_0x197290[_0x4cd2dd(0x8e5)][_0x495e4a])throw new _0x19abf5(_0x2c23d1[_0x4cd2dd(0x57d)],_0x4cd2dd(0x7b6)+_0x495e4a+'\x27\x20reserved');_0x197290['tables'][_0xd55659]={'indexes':[]},_0x197290[_0x4cd2dd(0x8e5)][_0x495e4a]={'indexes':[]};}async[_0x3fd00f(0x312)](_0x130383){const _0x3fc7b3=_0x3fd00f;return Promise[_0x3fc7b3(0x2fb)]([_0x130383,Promise[_0x3fc7b3(0x427)]('not-resolved')])[_0x3fc7b3(0x530)](_0x313929=>_0x3fc7b3(0x526)!==_0x313929);}async[_0x3fd00f(0x2cd)](_0x352f58){const _0x2bdda=_0x3fd00f;await this[_0x2bdda(0x64e)]();const _0x8adebf=await this[_0x2bdda(0x301)]['getRoot'](),_0x2c0e2a={'sourceId':this[_0x2bdda(0x976)][_0x2bdda(0xb04)](),'destinationIds':[_0x352f58],'propagate':!0x0,'messageType':_0x519af0[_0x2bdda(0x870)],'content':{'type':_0x347d3c[_0x2bdda(0xa21)],'label':this[_0x2bdda(0x985)],'mmrRoot':_0x8adebf}};this[_0x2bdda(0x5cb)][_0x2bdda(0x70e)](_0x2c0e2a);}async[_0x3fd00f(0x6f0)](){const _0x2c8668=_0x3fd00f;if(!this[_0x2c8668(0x701)])throw new _0x5d70cf(_0x5d70cf['codes'][_0x2c8668(0x804)]);this[_0x2c8668(0x372)]=await this[_0x2c8668(0x701)][_0x2c8668(0x459)](),this[_0x2c8668(0x372)][_0x2c8668(0x822)](this[_0x2c8668(0xa14)]),this[_0x2c8668(0x301)]=new _0x36359e(),this[_0x2c8668(0x419)]=new Map();for(const _0x257432 of this[_0x2c8668(0x372)])this[_0x2c8668(0x6e5)](_0x257432,this[_0x2c8668(0x372)][_0x2c8668(0xa5f)]);this[_0x2c8668(0x5e7)]();}async['appendTransactionAndUpdateHashMap'](_0x4b18bd,_0x5a704f){const _0x1069ea=_0x3fd00f,_0x508388={..._0x4b18bd};delete _0x508388['value'],await this[_0x1069ea(0x301)]['appendTransaction'](_0x508388,_0x5a704f);const _0x441f40=await this[_0x1069ea(0x301)]['hashTransaction'](_0x508388);this[_0x1069ea(0x419)]['set'](_0x441f40,_0x4b18bd);}[_0x3fd00f(0x476)](_0x2d9aaf){const _0x143770=_0x3fd00f;return this[_0x143770(0x419)][_0x143770(0x7ae)](_0x2d9aaf);}[_0x3fd00f(0x448)](_0x1194cc,_0x28c96d){const _0x3443ec=_0x3fd00f;if(0x0!==_0x1194cc[_0x3443ec(0xb03)])_0x1194cc[_0x3443ec(0x47d)]&&this['collectTransactionsFromNode'](_0x1194cc[_0x3443ec(0x47d)],_0x28c96d),_0x1194cc[_0x3443ec(0x50a)]&&this['collectTransactionsFromNode'](_0x1194cc[_0x3443ec(0x50a)],_0x28c96d);else{const _0x284c4c=this[_0x3443ec(0x476)](_0x1194cc['hash']);_0x284c4c&&_0x28c96d['push'](_0x284c4c);}}async[_0x3fd00f(0x3c0)](){const _0x3e5654=_0x3fd00f;this['debounceRebuildMMR']&&(clearTimeout(this[_0x3e5654(0x174)]),delete this[_0x3e5654(0x174)],this['transactionsToAppend'][_0x3e5654(0xa5f)]>0x0&&(this[_0x3e5654(0x372)][_0x3e5654(0x639)](...this['transactionsToAppend'][_0x3e5654(0x822)](this[_0x3e5654(0xa14)])),this[_0x3e5654(0x3c4)]=[]));const _0x3cdc41=this[_0x3e5654(0x209)]();this['mmr']=new _0x36359e(),this[_0x3e5654(0x419)][_0x3e5654(0x7e7)](),this['transactions']['sort'](this[_0x3e5654(0xa14)]);for(const _0x22b3d1 of this[_0x3e5654(0x372)])this[_0x3e5654(0x6e5)](_0x22b3d1,this[_0x3e5654(0x372)]['length']);await this[_0x3e5654(0x301)][_0x3e5654(0x8d6)],this[_0x3e5654(0x69e)](_0x3cdc41);}[_0x3fd00f(0x209)](){const _0x19af15=_0x3fd00f;return this[_0x19af15(0x9df)]['logger'][_0x19af15(0x652)](async()=>{const _0x4a5c06=_0x19af15,_0x3e956f=await this[_0x4a5c06(0x301)][_0x4a5c06(0x603)]();return{'startTime':Date[_0x4a5c06(0x441)](),'initialRoot':_0x3e956f};},Promise[_0x19af15(0x427)]({'startTime':0x0,'initialRoot':''}));}async[_0x3fd00f(0x69e)](_0x485639){const _0xa45b19=_0x3fd00f;try{const {startTime:_0x564dc2,initialRoot:_0x2c6a82}=await _0x485639,_0x176e16=await this[_0xa45b19(0x301)][_0xa45b19(0x603)](),_0x23eb15=[_0xa45b19(0x73a)+(_0x2c6a82!==_0x176e16),_0xa45b19(0x219)+_0x2c6a82,_0xa45b19(0x737)+_0x176e16,'\x0a\x20\x20===\x20Total\x20Nodes:\x20'+this[_0xa45b19(0x301)]['getTotalNodes'](),_0xa45b19(0x67d)+(Date[_0xa45b19(0x441)]()-_0x564dc2)+_0xa45b19(0x98f)]['join']('\x20');this[_0xa45b19(0x9df)][_0xa45b19(0x741)][_0xa45b19(0x327)]('',()=>_0x23eb15);}catch(_0x2157aa){console['error']('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x2157aa);}}[_0x3fd00f(0x8a2)](_0x2e92cd){const _0xbd1b50=_0x3fd00f;this[_0xbd1b50(0x3c4)][_0xbd1b50(0x639)](_0x2e92cd),this[_0xbd1b50(0x174)]&&(clearTimeout(this[_0xbd1b50(0x174)]),delete this[_0xbd1b50(0x174)]),this[_0xbd1b50(0x174)]=setTimeout(()=>{const _0x6cf2a=_0xbd1b50;this[_0x6cf2a(0x64e)]();},0x3e8);}async[_0x3fd00f(0x64e)](){const _0x58ae99=_0x3fd00f;if(this[_0x58ae99(0x174)]&&(clearTimeout(this[_0x58ae99(0x174)]),delete this[_0x58ae99(0x174)]),0x0!==this[_0x58ae99(0x3c4)][_0x58ae99(0xa5f)]){if(0x0===this[_0x58ae99(0x372)][_0x58ae99(0xa5f)])return this[_0x58ae99(0x372)]=this[_0x58ae99(0x3c4)],this[_0x58ae99(0x3c4)]=[],await this['rebuildMMR']();if(this[_0x58ae99(0x3c4)][_0x58ae99(0x822)](this[_0x58ae99(0xa14)]),this['compareTransactions'](this[_0x58ae99(0x3c4)][0x0],this[_0x58ae99(0x372)][this[_0x58ae99(0x372)][_0x58ae99(0xa5f)]-0x1])>0x0){this[_0x58ae99(0x9df)][_0x58ae99(0x741)][_0x58ae99(0x327)](_0x58ae99(0x59e)+this[_0x58ae99(0x3c4)][_0x58ae99(0xa5f)]+',\x20Transactions:\x20'+this['transactions'][_0x58ae99(0xa5f)]);for(const _0x3732e5 of this[_0x58ae99(0x3c4)])this[_0x58ae99(0x372)][_0x58ae99(0x639)](_0x3732e5),this[_0x58ae99(0x6e5)](_0x3732e5,this[_0x58ae99(0x3c4)][_0x58ae99(0xa5f)]);return this[_0x58ae99(0x3c4)]=[],void this['loggingCycle'][_0x58ae99(0x741)][_0x58ae99(0x327)](_0x58ae99(0x2c6),async()=>_0x58ae99(0xa84)+await this[_0x58ae99(0x301)][_0x58ae99(0x603)]()+_0x58ae99(0x9de)+this[_0x58ae99(0x301)]['getTotalNodes']());}this[_0x58ae99(0x9df)][_0x58ae99(0x741)]['log'](_0x58ae99(0x1ee)+this[_0x58ae99(0x3c4)]['length']+_0x58ae99(0x60c)+this[_0x58ae99(0x372)]['length']),this[_0x58ae99(0x372)][_0x58ae99(0x639)](...this[_0x58ae99(0x3c4)]),this[_0x58ae99(0x3c4)]=[],this[_0x58ae99(0x3c0)]();}}async[_0x3fd00f(0x7d9)](){const _0x5d34d5=_0x3fd00f;if(!_0x404abe[_0x5d34d5(0x72a)](_0x20ff7d[_0x5d34d5(0x1af)]))return;await this['mmr']['ready'];const {dataSent:_0x3f8da9,dataReceived:_0x314fcb}=this[_0x5d34d5(0x9df)]['getDataLogged']();_0x404abe['log'](_0x20ff7d[_0x5d34d5(0x1af)],_0x5d34d5(0x8fa),this[_0x5d34d5(0x985)],_0x5d34d5(0x93a)+_0x3f8da9,_0x5d34d5(0xa69)+_0x314fcb,_0x5d34d5(0x8ea),await this[_0x5d34d5(0x301)][_0x5d34d5(0x603)](),_0x5d34d5(0x5fe),this['mmr'][_0x5d34d5(0xb01)]());}async[_0x3fd00f(0x5e7)](){const _0x1beb54=_0x3fd00f;if(!_0x404abe[_0x1beb54(0x72a)](_0x20ff7d['KeyValueDatabase']))return;const _0x3d349d=this['mmr'][_0x1beb54(0x71f)](),_0x57f2e7=_0x3d349d[_0x1beb54(0x23d)](_0x2e7ed8=>_0x2e7ed8['height']),_0xb27f3e=await this[_0x1beb54(0x301)][_0x1beb54(0x603)]();_0x404abe['log'](_0x20ff7d[_0x1beb54(0x1af)],_0x1beb54(0x3b3),this['transactions']['length'],_0x1beb54(0x372),this[_0x1beb54(0x301)][_0x1beb54(0xb01)](),'totalNodes',_0x3d349d['length'],_0x1beb54(0x3ff),_0x57f2e7,_0x1beb54(0x2e0),_0xb27f3e);}}const _0x521299=require('@crewdle/mist-connector-opfs'),_0x1e6473=require('@crewdle/mist-connector-indexed-db'),_0x1f53f4=require('@crewdle/mist-connector-webrtc-browser'),_0x1da4e6=0x10000000;var _0x5d146e,_0x4f2237,_0x11455d,_0x5c51d6,_0x24c331,_0x328b54,_0x136a13,_0x5e3cc2,_0x127482;!function(_0x4ac763){const _0x5b1949=_0x3fd00f;_0x4ac763['AudioContext']='AudioContext',_0x4ac763['AudioOutput']=_0x5b1949(0x9f5),_0x4ac763[_0x5b1949(0x726)]=_0x5b1949(0x726),_0x4ac763[_0x5b1949(0xa51)]='Backgrounds',_0x4ac763['DeviceConfig']=_0x5b1949(0x216),_0x4ac763[_0x5b1949(0x4b8)]=_0x5b1949(0x4b8),_0x4ac763[_0x5b1949(0xadb)]=_0x5b1949(0xadb),_0x4ac763[_0x5b1949(0x9d9)]=_0x5b1949(0x9d9),_0x4ac763[_0x5b1949(0x2e8)]=_0x5b1949(0x2e8),_0x4ac763[_0x5b1949(0x198)]=_0x5b1949(0x198);}(_0x5d146e||(_0x5d146e={}));class _0x7a67a5{[_0x3fd00f(0x25c)];['bufferedEvents'];[_0x3fd00f(0x6c9)];constructor(_0x5689e3=new Map(),_0x139e31=new Map(),_0x107537=new EventTarget()){const _0x2d31fc=_0x3fd00f;this['registeredListeners']=_0x5689e3,this[_0x2d31fc(0x7a5)]=_0x139e31,this[_0x2d31fc(0x6c9)]=_0x107537;}[_0x3fd00f(0x939)]=(_0x233cac,_0x41eea7)=>this[_0x3fd00f(0x25c)]['has'](_0x233cac)?(_0x404abe[_0x3fd00f(0x327)](_0x20ff7d[_0x3fd00f(0x49d)],_0x3fd00f(0x527),{'event':_0x233cac,'data':_0x41eea7}),this['eventTarget'][_0x3fd00f(0x2cf)](new CustomEvent(_0x233cac,{'detail':_0x41eea7})),!0x0):(this[_0x3fd00f(0x329)](_0x233cac,_0x41eea7),!0x1);['on']=(_0x5693bb,_0x3eb0ed)=>{const _0x3adef9=_0x3fd00f,_0x3600be=_0x1455d1=>{const _0x4c149f=a0_0x38ff;_0x404abe[_0x4c149f(0x327)](_0x20ff7d[_0x4c149f(0x49d)],_0x4c149f(0x2a2),_0x1455d1[_0x4c149f(0x705)],_0x1455d1[_0x4c149f(0x688)]),_0x3eb0ed(_0x1455d1[_0x4c149f(0x688)]);};return this[_0x3adef9(0x25c)][_0x3adef9(0x1f5)](_0x5693bb,_0x3600be),this[_0x3adef9(0x6c9)][_0x3adef9(0x4aa)](_0x5693bb,_0x3600be),_0x404abe['log'](_0x20ff7d[_0x3adef9(0x1c1)],_0x3adef9(0x64c),_0x5693bb,_0x3eb0ed),this[_0x3adef9(0x716)](_0x5693bb),this;};[_0x3fd00f(0x6ad)](_0x2ab4d1){const _0x9e92a7=_0x3fd00f;if(!_0x2ab4d1)return this[_0x9e92a7(0x25c)][_0x9e92a7(0x3e1)]((_0x9ae46b,_0x433e72)=>{const _0x16bde5=_0x9e92a7;this[_0x16bde5(0x6c9)][_0x16bde5(0x322)](_0x433e72,_0x9ae46b);}),void this[_0x9e92a7(0x25c)]['clear']();_0x9e92a7(0x7fc)==typeof _0x2ab4d1&&this[_0x9e92a7(0x3a5)](_0x2ab4d1),Array[_0x9e92a7(0x7c0)](_0x2ab4d1)&&_0x2ab4d1[_0x9e92a7(0x3e1)](_0x547bfb=>{const _0xf82e6b=_0x9e92a7;this[_0xf82e6b(0x3a5)](_0x547bfb);});}[_0x3fd00f(0x3a5)](_0x4a5161){const _0x827a4d=_0x3fd00f,_0x4e8e38=this[_0x827a4d(0x25c)][_0x827a4d(0x7ae)](_0x4a5161);_0x4e8e38&&(this['eventTarget'][_0x827a4d(0x322)](_0x4a5161,_0x4e8e38),this[_0x827a4d(0x25c)]['delete'](_0x4a5161));}[_0x3fd00f(0x329)](_0x451f38,_0xaec930){const _0x2768f0=_0x3fd00f;_0x404abe[_0x2768f0(0x327)](_0x20ff7d['Events'],_0x2768f0(0x945),{'event':_0x451f38,'data':_0xaec930});const _0x4bfe9a=this[_0x2768f0(0x7a5)][_0x2768f0(0x7ae)](_0x451f38)||[];this[_0x2768f0(0x7a5)][_0x2768f0(0x1f5)](_0x451f38,[..._0x4bfe9a,_0xaec930]);}['consumeBufferedEvents'](_0x46d501){const _0x58d064=_0x3fd00f,_0x25a621=this[_0x58d064(0x7a5)][_0x58d064(0x7ae)](_0x46d501);_0x25a621&&(_0x25a621[_0x58d064(0x3e1)](_0x40c5e2=>{const _0x1960df=_0x58d064;_0x404abe[_0x1960df(0x327)](_0x20ff7d[_0x1960df(0x49d)],_0x1960df(0x5b3),{'event':_0x46d501,'data':_0x40c5e2}),this[_0x1960df(0x6c9)][_0x1960df(0x2cf)](new CustomEvent(_0x46d501,{'detail':_0x40c5e2}));}),this[_0x58d064(0x7a5)]['delete'](_0x46d501));}}class _0x460c4e extends Error{constructor(_0x165fb0){const _0x54e8e1=_0x3fd00f;super(_0x54e8e1(0x6eb)+_0x165fb0);}}!function(_0x34f1f7){const _0x5250da=_0x3fd00f;_0x34f1f7[_0x34f1f7[_0x5250da(0x9f7)]=0x0]=_0x5250da(0x9f7),_0x34f1f7[_0x34f1f7[_0x5250da(0xa38)]=0x1]=_0x5250da(0xa38);}(_0x4f2237||(_0x4f2237={})),function(_0x984463){const _0xd87f9c=_0x3fd00f;_0x984463[_0x984463[_0xd87f9c(0x8b2)]=0x0]='Offer',_0x984463[_0x984463['Answer']=0x1]=_0xd87f9c(0x9cc),_0x984463[_0x984463['Handshake']=0x2]='Handshake',_0x984463[_0x984463[_0xd87f9c(0x6d1)]=0x3]=_0xd87f9c(0x6d1),_0x984463[_0x984463[_0xd87f9c(0x255)]=0x4]=_0xd87f9c(0x255),_0x984463[_0x984463['Restart']=0x5]=_0xd87f9c(0x5a7),_0x984463[_0x984463['Disconnect']=0x6]=_0xd87f9c(0x6fd),_0x984463[_0x984463[_0xd87f9c(0x3eb)]=0x7]='Stats',_0x984463[_0x984463['OptimizationConnectionSuccess']=0x8]='OptimizationConnectionSuccess';}(_0x11455d||(_0x11455d={})),function(_0x244a23){const _0x490a20=_0x3fd00f;_0x244a23[_0x244a23[_0x490a20(0x6cd)]=0x0]=_0x490a20(0x6cd),_0x244a23[_0x244a23[_0x490a20(0x303)]=0x1]=_0x490a20(0x303);}(_0x5c51d6||(_0x5c51d6={})),function(_0x5375e3){const _0x8af97a=_0x3fd00f;_0x5375e3['MediaStream']=_0x8af97a(0x1a5);}(_0x24c331||(_0x24c331={})),function(_0x3e2f6d){const _0x2c0951=_0x3fd00f;_0x3e2f6d[_0x3e2f6d[_0x2c0951(0x4ae)]=0x0]=_0x2c0951(0x4ae),_0x3e2f6d[_0x3e2f6d[_0x2c0951(0x7e8)]=0x1]=_0x2c0951(0x7e8),_0x3e2f6d[_0x3e2f6d[_0x2c0951(0x74c)]=0x2]=_0x2c0951(0x74c),_0x3e2f6d[_0x3e2f6d[_0x2c0951(0x7fb)]=0x3]=_0x2c0951(0x7fb);}(_0x328b54||(_0x328b54={})),function(_0x26b842){const _0x1cf380=_0x3fd00f;_0x26b842[_0x26b842[_0x1cf380(0x740)]=0x0]=_0x1cf380(0x740),_0x26b842[_0x26b842['RemoteRemediation']=0x1]='RemoteRemediation';}(_0x136a13||(_0x136a13={})),function(_0x1d2381){const _0xc292ce=_0x3fd00f;_0x1d2381[_0xc292ce(0x826)]=_0xc292ce(0x963),_0x1d2381['Downgrade']=_0xc292ce(0x3f3);}(_0x5e3cc2||(_0x5e3cc2={})),function(_0x273311){const _0x65d906=_0x3fd00f;_0x273311[_0x65d906(0xa05)]='resolution',_0x273311[_0x65d906(0x35d)]=_0x65d906(0x81d);}(_0x127482||(_0x127482={}));const _0x121f80=require('aws-amplify'),_0x39974e=require('aws-amplify/utils'),_0x4489d6=require('@aws-amplify/api'),_0x246d36=require('@aws-amplify/core');class _0x5b2659{[_0x3fd00f(0x9c0)];[_0x3fd00f(0x976)];[_0x3fd00f(0x7da)];constructor(_0x4f8664,_0x57b745,_0x5b5071){const _0x459ca7=_0x3fd00f;this[_0x459ca7(0x9c0)]=_0x4f8664,this[_0x459ca7(0x976)]=_0x57b745,this[_0x459ca7(0x7da)]=_0x5b5071;}[_0x3fd00f(0x51c)](){const _0x3301a0=_0x3fd00f;return this['localNode'][_0x3301a0(0xb04)]();}[_0x3fd00f(0x958)](){return this['remoteId'];}}var _0x309b31,_0x23a429,_0x222a1e;function _0x2f0e28(_0x47a5f7,_0x4e0473){const _0x54da77=_0x3fd00f;return _0x47a5f7[_0x54da77(0x42a)]===_0x4e0473;}function _0x99b822(_0x19db8a,_0x3287da){const _0x21f93e=_0x3fd00f;return _0x19db8a[_0x21f93e(0x98e)]?.[_0x21f93e(0x7ac)](_0x3287da)??function(_0x21bc20){const _0x1d3241=_0x21f93e;return void 0x0===_0x21bc20[_0x1d3241(0x98e)];}(_0x19db8a);}function _0x2582a3(_0x22bcd0,{contentType:_0x5937b1,label:_0x359a10,remoteId:_0x18542f}){return _0x22bcd0+'-'+_0x5937b1+'-'+_0x359a10+'-'+_0x18542f;}function _0x4187a0(_0x21852d,_0x42e344,_0x31cd20){return''+_0x21852d+_0x42e344+_0x31cd20;}function _0x3ec9d4(_0x13cd67){const _0x2327a6=_0x3fd00f;return _0x13cd67===_0x23a429[_0x2327a6(0x233)]?_0x2327a6(0x2d9):_0x2327a6(0x907);}function _0xb26a9f(_0x229cd5,_0x57576c){const _0x243db5=_0x3fd00f;return{'label':_0x229cd5[_0x243db5(0x5c1)](),'contentType':_0x229cd5[_0x243db5(0x76c)](),'remoteId':_0x57576c[_0x243db5(0x958)](),'supportsContentType':_0x57576c[_0x243db5(0x29a)]()[_0x243db5(0x7ac)](_0x229cd5['getContentType']())};}!function(_0x44a737){const _0x35a31e=_0x3fd00f;_0x44a737[_0x44a737['Waiting']=0x0]=_0x35a31e(0x23b),_0x44a737[_0x44a737['Accepted']=0x1]=_0x35a31e(0x789),_0x44a737[_0x44a737[_0x35a31e(0x550)]=0x2]=_0x35a31e(0x550);}(_0x309b31||(_0x309b31={})),function(_0x5cc729){const _0x5bf807=_0x3fd00f;_0x5cc729[_0x5bf807(0x233)]='in',_0x5cc729[_0x5bf807(0x53b)]='out';}(_0x23a429||(_0x23a429={}));class _0x438ceb{[_0x3fd00f(0x36d)];[_0x3fd00f(0x1c6)];constructor(_0x32ef65,_0x148c1){const _0x3a1e66=_0x3fd00f;this[_0x3a1e66(0x36d)]=_0x32ef65,this['retryCallback']=_0x148c1;}[_0x3fd00f(0x85a)](_0x34cb04){this['callback'](_0x34cb04);}async['wait'](){const _0x1c1d05=_0x3fd00f;await this[_0x1c1d05(0x1c6)]();}}class _0x213bc7{[_0x3fd00f(0x36d)];[_0x3fd00f(0x1c6)];constructor(_0xa25aa0,_0x349674){const _0x456f97=_0x3fd00f;this[_0x456f97(0x36d)]=_0xa25aa0,this[_0x456f97(0x1c6)]=_0x349674;}async[_0x3fd00f(0x85a)](_0x2a1ba1){await this['callback'](_0x2a1ba1);}async[_0x3fd00f(0x3fd)](){const _0x3ccec2=_0x3fd00f;await this[_0x3ccec2(0x1c6)]();}}function _0x18b2f9(_0x5b2e05=()=>{},_0x35168b=()=>!0x1,_0x1c1e83=()=>{}){let _0x5aacfb,_0x3cd35a,_0x5472ec=0x0;return{get 'size'(){return _0x5472ec;},get 'head'(){return _0x5aacfb;},get 'tail'(){return _0x3cd35a;},set 'head'(_0x2994ba){_0x5aacfb=_0x2994ba;},set 'tail'(_0x41f0f1){_0x3cd35a=_0x41f0f1;},'push'(_0x3f6622,_0x5626dd=!0x0){const _0x589e0b=a0_0x38ff,_0x4d6db1={'value':_0x3f6622};_0x5626dd&&_0x35168b(_0x4d6db1)?_0x5b2e05():(_0x3cd35a&&(_0x4d6db1[_0x589e0b(0x293)]=_0x3cd35a,_0x3cd35a[_0x589e0b(0xa54)]=_0x4d6db1),_0x3cd35a=_0x4d6db1,_0x5aacfb||(_0x5aacfb=_0x4d6db1),_0x5472ec+=0x1,_0x5626dd&&_0x5b2e05());},'pop'(){const _0x24e485=a0_0x38ff;if(!_0x3cd35a)return;const _0x5bf4ce=_0x3cd35a[_0x24e485(0x69a)];return _0x3cd35a=_0x3cd35a['previous'],_0x3cd35a&&delete _0x3cd35a[_0x24e485(0xa54)],_0x3cd35a||(_0x5aacfb=void 0x0),_0x5472ec-=0x1,_0x5bf4ce;},'unshift'(_0x3a1394,_0x1f9057=!0x0){const _0x40720f=a0_0x38ff,_0x3e8cae={'value':_0x3a1394};_0x1f9057&&_0x35168b(_0x3e8cae)?_0x5b2e05():(_0x5aacfb&&(_0x5aacfb[_0x40720f(0x293)]=_0x3e8cae,_0x3e8cae[_0x40720f(0xa54)]=_0x5aacfb),_0x5aacfb=_0x3e8cae,_0x3cd35a||(_0x3cd35a=_0x3e8cae),_0x5472ec+=0x1,_0x1f9057&&_0x5b2e05());},'shift'(){const _0x3de52e=a0_0x38ff;if(!_0x5aacfb)return;const _0x9262a8=_0x5aacfb['value'];return _0x5aacfb=_0x5aacfb[_0x3de52e(0xa54)],_0x5aacfb&&delete _0x5aacfb[_0x3de52e(0x293)],_0x5aacfb||(_0x3cd35a=void 0x0),_0x5472ec-=0x1,_0x9262a8;},'clear'(){_0x1c1e83(),_0x5aacfb=void 0x0,_0x3cd35a=void 0x0,_0x5472ec=0x0;}};}function _0x589b2a(_0x22500c,_0x31d844=!0x1,_0x2e0ff6=()=>{},_0x5b7654=()=>!0x1,_0x56705c=()=>{}){let _0x4812ea=!0x1;const _0x18f682=_0x18b2f9(async function(){const _0x1d301c=a0_0x38ff;if(!_0x4812ea){for(_0x4812ea=!0x0;_0x18f682[_0x1d301c(0x53e)];){const _0x5da415=_0x18f682[_0x1d301c(0x63a)]();if(_0x5da415)try{_0x22500c instanceof _0x438ceb&&_0x22500c[_0x1d301c(0x85a)](_0x5da415),_0x22500c instanceof _0x213bc7&&await _0x22500c[_0x1d301c(0x85a)](_0x5da415),_0x2e0ff6(_0x5da415);}catch(_0x189c4b){_0x31d844?_0x18f682[_0x1d301c(0x639)](_0x5da415,!0x1):_0x18f682[_0x1d301c(0x75b)](_0x5da415,!0x1),await _0x22500c[_0x1d301c(0x3fd)]();}}_0x4812ea=!0x1;}},_0x5b7654,_0x56705c);return _0x18f682;}class _0x198e06 extends _0x5b2659{[_0x3fd00f(0x3ee)];[_0x3fd00f(0x981)];[_0x3fd00f(0x97d)]=_0x4489d6[_0x3fd00f(0x3ec)][_0x3fd00f(0x8a9)];['connectionStateListener']=_0x2d2e28();[_0x3fd00f(0x54c)]=_0x4767cf();[_0x3fd00f(0x7bd)];[_0x3fd00f(0x5c9)];[_0x3fd00f(0x917)]=_0x589b2a(new _0x213bc7(this[_0x3fd00f(0x421)][_0x3fd00f(0x167)](this),this[_0x3fd00f(0xace)]['bind'](this)));[_0x3fd00f(0x5a1)];constructor(_0x3afa56,_0xddedf7,_0x2b2017,_0x36c4f8,_0x292bf5){const _0x22d1cf=_0x3fd00f;super(_0xddedf7,_0x2b2017,_0x36c4f8),this[_0x22d1cf(0x3ee)]=_0x3afa56,this[_0x22d1cf(0x981)]=_0x292bf5;}async[_0x3fd00f(0x79d)](){const _0x2f9779=_0x3fd00f;try{const _0x1325c1={'getTokens':async()=>{const _0xdefb04=a0_0x38ff,_0x4633da=await this[_0xdefb04(0x981)]['getIdToken']();return{'accessToken':(0x0,_0x246d36[_0xdefb04(0x65f)])(_0x4633da),'idToken':(0x0,_0x246d36[_0xdefb04(0x65f)])(_0x4633da)};}};_0x121f80[_0x2f9779(0x8d9)]['configure']({'API':{'GraphQL':{'endpoint':_0x2c3579[_0x2f9779(0x6d4)][_0x2f9779(0x89b)],'region':_0x2c3579['aws'][_0x2f9779(0x4c5)],'defaultAuthMode':_0x2f9779(0x1d2)}}},{'Auth':{'tokenProvider':_0x1325c1}});const _0x33f0b5=(0x0,_0x4489d6[_0x2f9779(0x9f8)])();this[_0x2f9779(0x5a1)]=_0x33f0b5,await this[_0x2f9779(0x84f)](),this[_0x2f9779(0x5c9)]=_0x39974e[_0x2f9779(0xaa1)][_0x2f9779(0x504)]('api',async({payload:_0x25e449})=>{const _0x5876af=_0x2f9779;if(_0x25e449[_0x5876af(0xa73)]===_0x4489d6['CONNECTION_STATE_CHANGE']){const _0x41608b=_0x25e449[_0x5876af(0xa83)];this[_0x5876af(0x97d)]=_0x41608b[_0x5876af(0x97d)],this[_0x5876af(0x46e)]['publish'](_0x41608b[_0x5876af(0x97d)]),this['connectionState']===_0x4489d6[_0x5876af(0x3ec)]['Disconnected']?(_0x404abe[_0x5876af(0x805)](_0x5876af(0x645),{'clusterId':this[_0x5876af(0x9c0)],'nodeId':this[_0x5876af(0x51c)](),'nodeType':this[_0x5876af(0x976)]['type']}),this['close'](),this[_0x5876af(0x79d)]()):this['connectionState']===_0x4489d6['ConnectionState'][_0x5876af(0x8ff)]?_0x404abe[_0x5876af(0x70d)](_0x5876af(0x280),{'clusterId':this[_0x5876af(0x9c0)],'nodeId':this[_0x5876af(0x51c)](),'nodeType':this[_0x5876af(0x976)][_0x5876af(0x705)]}):_0x404abe[_0x5876af(0x70d)](_0x5876af(0x7ea),{'clusterId':this[_0x5876af(0x9c0)],'nodeId':this[_0x5876af(0x51c)](),'nodeType':this[_0x5876af(0x976)]['type'],'data':{'state':_0x41608b[_0x5876af(0x97d)]}});}});}catch(_0x1049e9){_0x404abe[_0x2f9779(0x805)](_0x2f9779(0x9bb),{'clusterId':this[_0x2f9779(0x9c0)],'nodeId':this[_0x2f9779(0x51c)](),'nodeType':this['localNode']['type']});}}['close'](){const _0x418f5f=_0x3fd00f;_0x404abe[_0x418f5f(0x70d)](_0x418f5f(0x21a),{'clusterId':this['clusterId'],'nodeId':this[_0x418f5f(0x51c)](),'nodeType':this[_0x418f5f(0x976)][_0x418f5f(0x705)]}),this[_0x418f5f(0x917)][_0x418f5f(0x7e7)](),this[_0x418f5f(0x5c9)]?.(),this[_0x418f5f(0x7bd)]?.[_0x418f5f(0x35a)](),delete this[_0x418f5f(0x7bd)];}['isConnected'](){const _0x58db9a=_0x3fd00f;return this['connectionState']===_0x4489d6[_0x58db9a(0x3ec)][_0x58db9a(0x8ff)];}[_0x3fd00f(0x5b8)](_0x4528ed){const _0x20dc96=_0x3fd00f;this[_0x20dc96(0x917)]['push'](_0x4528ed);}['onMessage'](_0x49d2fa){const _0x5ed865=_0x3fd00f;return this['messageListeners'][_0x5ed865(0x84f)](_0x49d2fa);}[_0x3fd00f(0x29a)](){const _0xfcfded=_0x3fd00f;return[_0x548494['ContentType'][_0xfcfded(0x3cd)]];}async[_0x3fd00f(0xace)](){const _0xa718f3=_0x3fd00f;if(!this[_0xa718f3(0xac9)]())return new Promise(_0xee68dd=>{const _0x355da5=_0xa718f3,_0x5ac1ea=this['connectionStateListener'][_0x355da5(0x84f)](_0x51dfa8=>{const _0x2c585b=_0x355da5;_0x51dfa8===_0x4489d6[_0x2c585b(0x3ec)][_0x2c585b(0x8ff)]&&(_0x5ac1ea(),_0xee68dd());});});}async[_0x3fd00f(0x421)](_0x33a114){const _0x551f7f=_0x3fd00f;if(this[_0x551f7f(0x97d)]!==_0x4489d6[_0x551f7f(0x3ec)][_0x551f7f(0x8ff)])throw new Error(_0x551f7f(0x35c));_0x33a114[_0x551f7f(0x98e)]&&0x1===_0x33a114[_0x551f7f(0x98e)][_0x551f7f(0xa5f)]?await this[_0x551f7f(0x70e)](_0x33a114[_0x551f7f(0x98e)][0x0],JSON[_0x551f7f(0x6b1)](_0x33a114)):_0x404abe[_0x551f7f(0x805)](_0x551f7f(0x95e),{'clusterId':this[_0x551f7f(0x9c0)],'nodeId':this['getLocalId'](),'nodeType':this[_0x551f7f(0x976)][_0x551f7f(0x705)]});}async[_0x3fd00f(0x70e)](_0xb77a07,_0x3d970d){const _0x224c92=_0x3fd00f;if(!this[_0x224c92(0x5a1)])throw new Error('AppSync\x20client\x20not\x20ready');_0x404abe['log'](_0x20ff7d[_0x224c92(0x43a)],_0x224c92(0x295),this['getLocalId'](),_0x3d970d),await this[_0x224c92(0x5a1)][_0x224c92(0xa3f)]({'query':_0x224c92(0x477),'variables':{'name':await this['getHash'](_0xb77a07),'data':_0x3d970d}});}async['subscribe'](){const _0x44ffad=_0x3fd00f;if(this['subscription'])return;if(!this['client'])throw new Error('AppSync\x20client\x20not\x20ready');_0x404abe['log'](_0x20ff7d[_0x44ffad(0x43a)],_0x44ffad(0xb00),this['getLocalId']());const _0x5f3273=await this['client'][_0x44ffad(0xa3f)]({'query':_0x44ffad(0x87a),'variables':{'name':await this['getHash']()},'authToken':await this[_0x44ffad(0x981)][_0x44ffad(0x5d4)]()},{'Authorization':await this[_0x44ffad(0x981)][_0x44ffad(0x5d4)]()});this['subscription']=_0x5f3273['subscribe']({'next':({data:_0x11eac4})=>{const _0x43bc3b=_0x44ffad,_0x34be42=JSON[_0x43bc3b(0xaa7)](_0x11eac4[_0x43bc3b(0x84f)][_0x43bc3b(0xa83)]);!_0x2f0e28(_0x34be42,this[_0x43bc3b(0x51c)]())&&_0x99b822(_0x34be42,this[_0x43bc3b(0x51c)]())&&this[_0x43bc3b(0x54c)]['publish'](_0x34be42);},'error':console['log']});}async[_0x3fd00f(0x929)](_0x9467b5){const _0x5a8b59=_0x3fd00f,_0x3e02c3=await crypto['subtle']['digest'](_0x5a8b59(0x246),new TextEncoder()['encode'](this[_0x5a8b59(0x3ee)]+'-'+this[_0x5a8b59(0x9c0)]+'-'+(_0x9467b5??this[_0x5a8b59(0x51c)]())));return Array[_0x5a8b59(0x4f7)](new Uint8Array(_0x3e02c3))[_0x5a8b59(0x23d)](_0x2fd74a=>_0x2fd74a[_0x5a8b59(0x5fc)](0x10)[_0x5a8b59(0x563)](0x2,'0'))[_0x5a8b59(0x5b4)]('');}}!function(_0x1738a0){const _0x1df187=_0x3fd00f;_0x1738a0[_0x1738a0[_0x1df187(0x80f)]=0x0]=_0x1df187(0x80f),_0x1738a0[_0x1738a0['Remove']=0x1]='Remove',_0x1738a0[_0x1738a0['Update']=0x2]=_0x1df187(0x29e),_0x1738a0[_0x1738a0[_0x1df187(0x959)]=0x3]=_0x1df187(0x959),_0x1738a0[_0x1738a0['RemoteRemove']=0x4]='RemoteRemove';}(_0x222a1e||(_0x222a1e={}));const _0x1fcc0c='0',_0x55b8d7=_0x3fd00f(0x3ca),_0x5d1a34=_0x19db64,_0x1469c2=0x60000;class _0x33bed6{[_0x3fd00f(0x9c0)];[_0x3fd00f(0x976)];[_0x3fd00f(0x7da)];[_0x3fd00f(0x62f)];['connectionType'];['connectionConstructor'];[_0x3fd00f(0x222)];[_0x3fd00f(0x182)];[_0x3fd00f(0x853)]=0x1;[_0x3fd00f(0x5cb)];[_0x3fd00f(0x9fc)]=[];[_0x3fd00f(0x41f)]=[];[_0x3fd00f(0x6ac)];constructor(_0xeaf323,_0x1f10ee,_0x32d59e,_0x132ef0,_0x3503d5,_0xf80428){const _0x49dc14=_0x3fd00f;this['clusterId']=_0xeaf323,this['localNode']=_0x1f10ee,this[_0x49dc14(0x7da)]=_0x32d59e,this[_0x49dc14(0x62f)]=_0x132ef0,this['connectionType']=_0x3503d5,this['connectionConstructor']=_0xf80428,this[_0x49dc14(0x222)]=new this[(_0x49dc14(0x7f5))]({'handshakeServers':this['iceServers']}),this[_0x49dc14(0x436)]();}['close'](){const _0x56e02a=_0x3fd00f;this[_0x56e02a(0x696)]();}['setConnectionType'](_0x361435){const _0x5c71db=_0x3fd00f;this[_0x5c71db(0x1a0)]=_0x361435;}async[_0x3fd00f(0x9e7)](_0x3ba08a,_0x12b137){const _0x3c953d=_0x3fd00f;if(_0x12b137===this[_0x3c953d(0x853)])for(const _0x31e670 of _0x3ba08a){if(!this[_0x3c953d(0x222)][_0x3c953d(0x502)])return this['addPendingHandshakeCandidate'](_0x31e670);try{await this[_0x3c953d(0x222)][_0x3c953d(0xa6f)](_0x31e670);}catch(_0x5160bf){this[_0x3c953d(0x7d7)](_0x31e670);}}}['isConnected'](){const _0x9202e6=_0x3fd00f;return this[_0x9202e6(0xa4d)](),'connected'===this[_0x9202e6(0x222)]['connectionState']&&[_0x9202e6(0x36f),_0x9202e6(0xa36)]['includes'](this[_0x9202e6(0x222)][_0x9202e6(0x460)])&&_0x9202e6(0x848)!==this[_0x9202e6(0x222)][_0x9202e6(0x229)]&&'open'===this[_0x9202e6(0x182)]?.[_0x9202e6(0x4e3)];}[_0x3fd00f(0xaf2)](_0x48bc56){const _0xe6046f=_0x3fd00f;this[_0xe6046f(0x5cb)]=_0x48bc56;}['unregisterSystemPublisher'](){const _0x1e3653=_0x3fd00f;delete this[_0x1e3653(0x5cb)];}[_0x3fd00f(0x515)](_0x5b220a){const _0x19c236=_0x3fd00f;this[_0x19c236(0x696)](),this['connection']=new this[(_0x19c236(0x7f5))]({'handshakeServers':this['iceServers']}),_0x5b220a?this['currentVersion']=_0x5b220a:this[_0x19c236(0x853)]+=0x1,this[_0x19c236(0x436)]();}[_0x3fd00f(0xa71)](){const _0x5a6737=_0x3fd00f;this['pendingHandshakeCandidates'][_0x5a6737(0x3e1)](_0x17312f=>{const _0x21c7cc=_0x5a6737;try{this[_0x21c7cc(0x222)][_0x21c7cc(0xa6f)](_0x17312f);}catch(_0xa9ba4c){}}),this[_0x5a6737(0x41f)]=[];}[_0x3fd00f(0x6d5)](_0x3da98c,_0xb9c252){const _0x3ff9c6=_0x3fd00f;if(!this['systemTopic'])throw new _0x5d70cf(_0x5d70cf[_0x3ff9c6(0x765)]['MissingSystemTopic'],{'content':_0x3da98c});const _0x3829d9={'sourceId':this[_0x3ff9c6(0x976)][_0x3ff9c6(0xb04)](),'destinationIds':[this[_0x3ff9c6(0x7da)]],'propagate':this[_0x3ff9c6(0x1a0)]!==_0x4f2237['Core'],'retry':this[_0x3ff9c6(0x1a0)]!==_0x4f2237['Core'],'messageType':_0x519af0['PeerConnection'],'content':_0x3da98c};_0xb9c252&&(_0x3829d9[_0x3ff9c6(0x863)]=_0xb9c252),this[_0x3ff9c6(0x5cb)][_0x3ff9c6(0x70e)](_0x3829d9);}[_0x3fd00f(0x436)](){const _0x2d3526=_0x3fd00f;this[_0x2d3526(0x222)][_0x2d3526(0x47b)]=()=>{const _0x29735d=_0x2d3526;'complete'===this['connection'][_0x29735d(0x821)]&&this[_0x29735d(0x9fc)][_0x29735d(0xa5f)]>0x0&&(this[_0x29735d(0x6ac)]&&clearTimeout(this[_0x29735d(0x6ac)]),this['handshakeDebounce']=setTimeout(()=>{const _0xd01b9c=_0x29735d;delete this[_0xd01b9c(0x6ac)],this[_0xd01b9c(0x4cd)](),this[_0xd01b9c(0x9fc)]=[];},0x1f4));},this['connection'][_0x2d3526(0x98a)]=_0x7f7a10=>{const _0x390053=_0x2d3526;_0x7f7a10[_0x390053(0x6d8)]&&this[_0x390053(0x9fc)][_0x390053(0x639)](_0x7f7a10[_0x390053(0x6d8)]);};}[_0x3fd00f(0x696)](){const _0x834a13=_0x3fd00f;clearTimeout(this['handshakeDebounce']),delete this['handshakeDebounce'],this[_0x834a13(0x9fc)]=[],this[_0x834a13(0x41f)]=[],this[_0x834a13(0x182)]&&(this['dataChannel'][_0x834a13(0xa7f)]=null,this['dataChannel'][_0x834a13(0x5eb)]=null,this['dataChannel'][_0x834a13(0x883)](),delete this[_0x834a13(0x182)]),this[_0x834a13(0x222)][_0x834a13(0x47b)]=null,this['connection'][_0x834a13(0x98a)]=null,this[_0x834a13(0x222)]['onHandshakeStateChange']=null,this['connection']['onConnectionStateChange']=null,this[_0x834a13(0x222)][_0x834a13(0xa6d)]=null,this['connection'][_0x834a13(0x23a)]=null,this[_0x834a13(0x222)][_0x834a13(0x883)]();}['addPendingHandshakeCandidate'](_0x5c7853){const _0x1d363a=_0x3fd00f;this[_0x1d363a(0x41f)][_0x1d363a(0x639)](_0x5c7853);}['logConnectionState'](){const _0x2b7f17=_0x3fd00f;_0x404abe[_0x2b7f17(0x327)](_0x20ff7d[_0x2b7f17(0x3ec)],_0x2b7f17(0x4db),{'localId':this[_0x2b7f17(0x976)]['getId'](),'remoteId':this[_0x2b7f17(0x7da)],'connectionState':this[_0x2b7f17(0x222)][_0x2b7f17(0x97d)],'handshakeState':this[_0x2b7f17(0x222)]['handshakeState'],'signalingState':this['connection'][_0x2b7f17(0x229)],'dataChannelState':this[_0x2b7f17(0x182)]?.[_0x2b7f17(0x4e3)]});}}function _0x77ba79(_0xdcaaf2,_0x15c2dd){const _0x4bd213=_0x3fd00f;_0x15c2dd[_0x4bd213(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x4bd213(0x4b7)],'content':_0xdcaaf2});}class _0x52a171{static [_0x3fd00f(0x9a3)];[_0x3fd00f(0x644)]=[];['source'];constructor(){setInterval(()=>{const _0x3a86a7=a0_0x38ff;this[_0x3a86a7(0x644)]['forEach'](_0xf89bbd=>{const _0x8ae8a2=_0x3a86a7;if(Date[_0x8ae8a2(0x441)]()-_0xf89bbd['lastExecuted']>_0xf89bbd[_0x8ae8a2(0x9b2)]){try{_0xf89bbd['callback']();}catch(_0x476afc){}_0xf89bbd[_0x8ae8a2(0xa0c)]=Date[_0x8ae8a2(0x441)]();}});},0x64);}static[_0x3fd00f(0x251)](){const _0x3f962e=_0x3fd00f;return _0x52a171[_0x3f962e(0x9a3)]||(_0x52a171['instance']=new _0x52a171()),_0x52a171['instance'];}[_0x3fd00f(0x809)](_0xa5a00c){const _0x1709f0=_0x3fd00f,_0xcb5a29=this['createConstantSource'](_0xa5a00c),_0x5c9943=_0xa5a00c['createGain']();_0x5c9943&&_0xcb5a29&&(_0x5c9943[_0x1709f0(0x4ab)][_0x1709f0(0x69a)]=0.001,_0xcb5a29['connect'](_0x5c9943),_0x5c9943[_0x1709f0(0x79d)](_0xa5a00c[_0x1709f0(0x1d5)]),_0xcb5a29[_0x1709f0(0xaff)]());}[_0x3fd00f(0x65d)](){const _0x5ce2ae=_0x3fd00f;this[_0x5ce2ae(0x286)]&&(this[_0x5ce2ae(0x286)]['stop'](),this['source']['disconnect'](),this[_0x5ce2ae(0x286)]=void 0x0);}['wait'](_0x3e3524){return new Promise(_0x30c682=>{setTimeout(_0x30c682,_0x3e3524);});}['setInterval'](_0x4f7d9c,_0xa8223b){const _0x3fc28b=_0x3fd00f;return this[_0x3fc28b(0x644)][_0x3fc28b(0x639)]({'callback':_0x4f7d9c,'interval':_0xa8223b,'lastExecuted':Date[_0x3fc28b(0x441)]()}),()=>{const _0x57fbf4=_0x3fc28b;this[_0x57fbf4(0x644)]=this[_0x57fbf4(0x644)][_0x57fbf4(0x69d)](_0x4e5b59=>_0x4e5b59['callback']!==_0x4f7d9c);};}[_0x3fd00f(0x1fd)](_0x24284b){const _0x314592=_0x3fd00f;if(_0x24284b['createConstantSource'])return _0x24284b[_0x314592(0x1fd)]();const _0x2af5d1=_0x24284b[_0x314592(0x43b)](),_0x4fa4ed=_0x24284b[_0x314592(0xa30)](0x1,0x1,_0x24284b[_0x314592(0xa64)]);return _0x4fa4ed['getChannelData'](0x0)[0x0]=0xa,_0x2af5d1[_0x314592(0x8a1)]=_0x4fa4ed,_0x2af5d1[_0x314592(0x394)]=!0x0,_0x2af5d1;}}const _0xa2c3bc=_0x52a171['getInstance']();class _0xdc67e6 extends _0x33bed6{[_0x3fd00f(0x1d4)]=_0x2d2e28();['trackCallback']=_0x2d2e28();[_0x3fd00f(0x31a)]=_0x2d2e28();[_0x3fd00f(0x545)]=new Map();[_0x3fd00f(0x9fd)]=new Map();[_0x3fd00f(0xa9e)];[_0x3fd00f(0x797)]=0x0;[_0x3fd00f(0x19f)]={'messages':{'total':0x0}};[_0x3fd00f(0x9d3)]=0x0;[_0x3fd00f(0x8e8)]=0x0;[_0x3fd00f(0x9df)]=_0x7bd7fb(_0x3fd00f(0x331),_0x20ff7d[_0x3fd00f(0x731)]);['close'](){const _0x9096cf=_0x3fd00f;this[_0x9096cf(0x16c)](),this[_0x9096cf(0x545)][_0x9096cf(0x7e7)](),super[_0x9096cf(0x883)]();}async['handleOffer'](_0x18eaa7,_0x170022){const _0x5da7cc=_0x3fd00f;this['currentVersion']=_0x170022,this[_0x5da7cc(0x16c)]();const _0x50f88e=await this['connection'][_0x5da7cc(0x6ed)](_0x18eaa7);this[_0x5da7cc(0xa71)]();const _0xab8d39=(0x0,_0x630e7c['v4'])();this[_0x5da7cc(0x6d5)]({'type':_0x11455d[_0x5da7cc(0x9cc)],'answer':_0x50f88e,'version':_0x170022,'connectionType':this['connectionType']},_0xab8d39),this['connectionType']===_0x4f2237[_0x5da7cc(0x9f7)]&&(this[_0x5da7cc(0xa9e)]=_0xa2c3bc[_0x5da7cc(0x2a8)](()=>{const _0x3165e8=_0x5da7cc;this[_0x3165e8(0x6d5)]({'type':_0x11455d['Answer'],'answer':_0x50f88e,'version':_0x170022,'connectionType':this['connectionType']},_0xab8d39);},0x1388));}['handleSuccess'](){const _0x56d588=_0x3fd00f;this[_0x56d588(0x16c)]();}[_0x3fd00f(0x489)](_0x8f8958){const _0x4bc2da=_0x3fd00f;this[_0x4bc2da(0x515)](_0x8f8958),this[_0x4bc2da(0x6d5)]({'type':_0x11455d['Restart']});}async[_0x3fd00f(0x33e)](){const _0x785533=_0x3fd00f;this[_0x785533(0x5cb)]&&(await this[_0x785533(0x222)][_0x785533(0x53f)](this[_0x785533(0x545)],(_0x1a79a4,_0x3f869c)=>{const _0x15435a=_0x785533;_0x77ba79({'type':_0x11455d[_0x15435a(0x3eb)],'streamId':_0x3f869c,'nodeId':this['remoteId'],'stats':_0x1a79a4},this['systemTopic']);}),this[_0x785533(0x5cb)]['publish']({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x785533(0x4b7)],'content':{'type':_0x11455d[_0x785533(0x3eb)],'nodeId':this[_0x785533(0x7da)],'stats':{'origin':_0x5c51d6[_0x785533(0x303)],'timestamp':Date['now'](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x785533(0x9d3)],'timeReceiving':this['timeReceiving'],'systemMessages':this[_0x785533(0x19f)]}}}));}[_0x3fd00f(0xa7f)](_0x2a3ef2){const _0x814c93=_0x3fd00f;return _0x2c3579['isProduction']?this[_0x814c93(0x1d4)][_0x814c93(0x84f)](_0x2a3ef2):this[_0x814c93(0x1d4)][_0x814c93(0x84f)](_0x4ce22a=>{const _0x3b8eae=_0x814c93;0x0===_0x4ce22a[_0x3b8eae(0x655)]&&_0x4ce22a['messageType']===_0x519af0[_0x3b8eae(0x870)]&&this[_0x3b8eae(0x9df)][_0x3b8eae(0x741)][_0x3b8eae(0x327)](_0x3b8eae(0x45b)+this[_0x3b8eae(0x7da)],()=>_0x379bcd(_0x4ce22a)),_0x2a3ef2(_0x4ce22a);});}[_0x3fd00f(0xa6d)](_0x46963c){const _0x14b089=_0x3fd00f;return this[_0x14b089(0x756)]['subscribe'](({track:_0x2a0816,stream:_0x434cf2})=>_0x46963c(_0x2a0816,_0x434cf2));}[_0x3fd00f(0x629)](_0x5ad678){const _0x5099ac=_0x3fd00f;return this['removeTrackCallback'][_0x5099ac(0x84f)](({track:_0x4d2bc1,stream:_0x461920})=>_0x5ad678(_0x4d2bc1,_0x461920));}[_0x3fd00f(0x515)](_0x18b1bf){const _0x483317=_0x3fd00f;this['clearWaitSuccess'](),this[_0x483317(0x545)][_0x483317(0x3e1)](_0x584e45=>{const _0x1d156b=_0x483317;_0x584e45[_0x1d156b(0x7e7)]();}),super[_0x483317(0x515)](_0x18b1bf);}[_0x3fd00f(0x4cd)](){const _0x197d54=_0x3fd00f;this[_0x197d54(0x6d5)]({'type':_0x11455d[_0x197d54(0x723)],'candidates':this['handshakeCandidates'],'origin':_0x5c51d6[_0x197d54(0x303)],'version':this[_0x197d54(0x853)],'connectionType':this[_0x197d54(0x1a0)]});}[_0x3fd00f(0x436)](){const _0x26b2b7=_0x3fd00f;super[_0x26b2b7(0x436)](),this[_0x26b2b7(0x222)][_0x26b2b7(0xa6d)]=_0x49dd42=>{const _0x3b6d9b=_0x26b2b7;_0x404abe[_0x3b6d9b(0x327)](_0x20ff7d[_0x3b6d9b(0x48d)],_0x3b6d9b(0x996),this[_0x3b6d9b(0x976)]['getId'](),_0x49dd42),_0x49dd42[_0x3b6d9b(0x3e2)][0x0]['onremovetrack']=_0x8657e5=>{const _0x525cd9=_0x3b6d9b;this[_0x525cd9(0x545)][_0x525cd9(0x7ae)](_0x49dd42[_0x525cd9(0x3e2)][0x0]['id'])?.[_0x525cd9(0x92b)](_0x8657e5['track']),0x0===this[_0x525cd9(0x545)][_0x525cd9(0x7ae)](_0x49dd42['streams'][0x0]['id'])?.[_0x525cd9(0x66a)]&&this['receivers']['delete'](_0x49dd42[_0x525cd9(0x3e2)][0x0]['id']),this[_0x525cd9(0x31a)][_0x525cd9(0x70e)]({'track':_0x8657e5[_0x525cd9(0xac5)],'stream':_0x49dd42['streams'][0x0]});},this[_0x3b6d9b(0x545)]['has'](_0x49dd42['streams'][0x0]['id'])||this[_0x3b6d9b(0x545)]['set'](_0x49dd42[_0x3b6d9b(0x3e2)][0x0]['id'],new Set()),this['receivers'][_0x3b6d9b(0x7ae)](_0x49dd42['streams'][0x0]['id'])[_0x3b6d9b(0x30b)](_0x49dd42[_0x3b6d9b(0xac5)]),this[_0x3b6d9b(0x756)][_0x3b6d9b(0x70e)]({'track':_0x49dd42[_0x3b6d9b(0xac5)],'stream':_0x49dd42[_0x3b6d9b(0x3e2)][0x0]});},this[_0x26b2b7(0x222)][_0x26b2b7(0x23a)]=_0x24a37c=>{const _0xa3fe56=_0x26b2b7;this[_0xa3fe56(0x182)]=_0x24a37c[_0xa3fe56(0x6a7)],this[_0xa3fe56(0x182)][_0xa3fe56(0xa7f)]=_0x589ee9=>{const _0x11ee58=_0xa3fe56;if(_0x589ee9[_0x11ee58(0xa83)]!==_0x1fcc0c)this[_0x11ee58(0x754)](_0x589ee9[_0x11ee58(0xa83)]);else{if(!this[_0x11ee58(0x182)])return void _0x404abe['error']('missing-datachannel',{'clusterId':this[_0x11ee58(0x9c0)],'nodeId':this[_0x11ee58(0x976)]['getId'](),'nodeType':this[_0x11ee58(0x976)]['type'],'remoteId':this[_0x11ee58(0x7da)],'data':{'connection':_0x11ee58(0x96d)}});if(_0x11ee58(0x57a)!==this[_0x11ee58(0x182)][_0x11ee58(0x4e3)])return;this[_0x11ee58(0x182)][_0x11ee58(0x5b8)]('1');}};};}[_0x3fd00f(0x754)](_0x2b235e){const _0x30df40=_0x3fd00f;if(_0x30df40(0x7fc)==typeof _0x2b235e&&_0x2b235e[_0x30df40(0x294)](_0x55b8d7))return this['messagesReceived']+=0x1,this[_0x30df40(0x9d3)]+=_0x2b235e[_0x30df40(0xa5f)],this[_0x30df40(0xade)](_0x2b235e);setTimeout(()=>{const _0x46154e=_0x30df40,_0x679898=Date['now']();let _0x4567d6;if((_0x2b235e instanceof ArrayBuffer||_0x2b235e['length']<=_0x5d1a34)&&(this[_0x46154e(0x797)]+=0x1,this[_0x46154e(0x9d3)]+=_0x2b235e instanceof ArrayBuffer?_0x2b235e[_0x46154e(0x97f)]:_0x2b235e['length']),_0x2b235e instanceof ArrayBuffer){const [_0x57b173,_0x28c796]=this[_0x46154e(0x58a)](_0x2b235e);_0x4567d6=_0x57b173,_0x4567d6['content'][_0x46154e(0xa83)]=_0x28c796;}else _0x4567d6=JSON['parse'](_0x2b235e);if(0x0===_0x4567d6['topicLabel']){this['systemMessagesReceived'][_0x46154e(0x616)][_0x46154e(0x694)]+=0x1;const {systemMessageType:_0x4c28c0,systemContentMessageType:_0x1de33b}=_0x379bcd(_0x4567d6);this['systemMessagesReceived'][_0x4c28c0]||(this['systemMessagesReceived'][_0x4c28c0]={[_0x1de33b]:0x0}),this[_0x46154e(0x19f)][_0x4c28c0][_0x1de33b]||(this[_0x46154e(0x19f)][_0x4c28c0][_0x1de33b]=0x0),this[_0x46154e(0x19f)][_0x4c28c0][_0x46154e(0x694)]||(this[_0x46154e(0x19f)][_0x4c28c0][_0x46154e(0x694)]=0x0),this[_0x46154e(0x19f)][_0x4c28c0][_0x1de33b]+=0x1,this[_0x46154e(0x19f)][_0x4c28c0][_0x46154e(0x694)]+=0x1;}this[_0x46154e(0x1d4)][_0x46154e(0x70e)](_0x4567d6),this[_0x46154e(0x8e8)]+=Date[_0x46154e(0x441)]()-_0x679898;},0x0);}[_0x3fd00f(0xade)](_0x19d3c7){const _0x4324be=_0x3fd00f,_0x5de20b=_0x19d3c7[_0x4324be(0xae4)](';'),_0x4227b5=_0x5de20b[0x1],_0x4c1498=parseInt(_0x5de20b[0x2],0xa),_0x2e0212=parseInt(_0x5de20b[0x3],0xa),_0x246c16=_0x19d3c7[_0x4324be(0x36b)](_0x55b8d7+';'+_0x4227b5+';'+_0x4c1498+';'+_0x2e0212+';','');this[_0x4324be(0x9fd)][_0x4324be(0x68d)](_0x4227b5)||this[_0x4324be(0x9fd)]['set'](_0x4227b5,[]);const _0x4e81ef=this[_0x4324be(0x9fd)][_0x4324be(0x7ae)](_0x4227b5);_0x4e81ef[_0x4c1498]=_0x246c16,_0x4e81ef[_0x4324be(0xa5f)]===_0x2e0212&&(this[_0x4324be(0x754)](_0x4e81ef[_0x4324be(0x5b4)]('')),this[_0x4324be(0x9fd)][_0x4324be(0x92b)](_0x4227b5));}[_0x3fd00f(0x16c)](){const _0x494e74=_0x3fd00f;this['waitSuccess']?.(),delete this[_0x494e74(0xa9e)];}[_0x3fd00f(0x872)](_0x38a20f){const _0x27bc9e=_0x3fd00f,_0x2ea31b=new TextDecoder()['decode'](_0x38a20f);return JSON[_0x27bc9e(0xaa7)](_0x2ea31b);}[_0x3fd00f(0x58a)](_0x1120c6){const _0x1d590e=_0x3fd00f,_0x3b1ee4=new Uint8Array(_0x1120c6['slice'](0x0,0x4)),_0x26d604=new Uint32Array(_0x3b1ee4[_0x1d590e(0x8a1)])[0x0],_0x73a73=new Uint8Array(_0x1120c6[_0x1d590e(0x7cd)](0x4,0x4+_0x26d604)),_0x5d41da=new Uint8Array(_0x1120c6[_0x1d590e(0x7cd)](0x4+_0x26d604));return[this[_0x1d590e(0x872)](_0x73a73['buffer']),_0x5d41da[_0x1d590e(0x8a1)]];}}const _0xfe0879=0xc350;var _0xe77bdd,_0x871c00;!function(_0x2534d6){const _0x236814=_0x3fd00f;_0x2534d6[_0x2534d6[_0x236814(0x3a8)]=0x0]=_0x236814(0x3a8),_0x2534d6[_0x2534d6[_0x236814(0x40d)]=0x1]='Medium',_0x2534d6[_0x2534d6[_0x236814(0x3dc)]=0x2]=_0x236814(0x3dc);}(_0xe77bdd||(_0xe77bdd={}));class _0x525acd extends _0x33bed6{[_0x3fd00f(0x85c)];[_0x3fd00f(0x4e4)];[_0x3fd00f(0x2ae)]=new Map();[_0x3fd00f(0xae0)];[_0x3fd00f(0x541)];['lastHeartbeat'];[_0x3fd00f(0x997)]=!0x1;[_0x3fd00f(0x949)];['restartTimeout'];[_0x3fd00f(0x8a3)];[_0x3fd00f(0x917)]=function(e,t=_0xe77bdd,s=!0x1){const _0x1c3670=_0x3fd00f;let n=!0x1;const i=[];async function a(){const _0x14f364=a0_0x38ff;if(!n){for(n=!0x0;i[_0x14f364(0x564)](e=>e[_0x14f364(0x53e)]);){let t,n=0x0;for(const [e,s]of i[_0x14f364(0x4c9)]())if(t=s['shift'](),n=e,t)break;if(t)try{if(e instanceof _0x438ceb&&e[_0x14f364(0x85a)](t),e instanceof _0x213bc7&&await e[_0x14f364(0x85a)](t),i[_0x14f364(0x7cd)](-0x1)['some'](e=>e['head']))continue;const s=i[_0x14f364(0xa5f)]-0x1;n===s&&i[s]['head']&&await _0xa2c3bc[_0x14f364(0x3fd)](0x0);}catch(a){s?i[n][_0x14f364(0x639)](t,!0x1):i[n]['unshift'](t,!0x1),await e[_0x14f364(0x3fd)]();}}n=!0x1;}}return Object[_0x1c3670(0x16a)](t)[_0x1c3670(0x3e1)](e=>{const _0x32ab76=_0x1c3670;_0x32ab76(0x7fc)!=typeof e&&(i[e]=_0x18b2f9(a));}),{'queues':i};}(new _0x438ceb(this['sendAction'][_0x3fd00f(0x167)](this),this['waitSendBuffer'][_0x3fd00f(0x167)](this)));[_0x3fd00f(0x35f)]=0x0;['bytesSent']=0x0;[_0x3fd00f(0x5c4)]=0x0;[_0x3fd00f(0x7dd)]=0x0;[_0x3fd00f(0x1b0)];[_0x3fd00f(0x9df)]=_0x7bd7fb('SenderPeerConnection.send',_0x20ff7d[_0x3fd00f(0x41a)]);constructor(_0x4383dc,_0x4bc9ca,_0x89502a,_0x345cc9,_0x322a8b,_0x51dfa4,_0x6ceba7,_0x54a7c5){const _0x5a313e=_0x3fd00f;super(_0x4383dc,_0x4bc9ca,_0x89502a,_0x345cc9,_0x322a8b,_0x54a7c5),this['maxFps']=_0x51dfa4,this[_0x5a313e(0x4e4)]=_0x6ceba7;}[_0x3fd00f(0x883)](){const _0xa6ee8c=_0x3fd00f;this['clearUpgradeTimeout'](),this[_0xa6ee8c(0x1e0)](),delete this[_0xa6ee8c(0x783)],this[_0xa6ee8c(0x9d6)](),this[_0xa6ee8c(0x256)](),this[_0xa6ee8c(0x951)](),this[_0xa6ee8c(0x2ae)][_0xa6ee8c(0x7e7)](),this[_0xa6ee8c(0x997)]=!0x1,this[_0xa6ee8c(0x917)][_0xa6ee8c(0x670)]['forEach'](_0x279131=>_0x279131[_0xa6ee8c(0x7e7)]()),this[_0xa6ee8c(0x387)](),super[_0xa6ee8c(0x883)]();}[_0x3fd00f(0xac9)](){const _0x539d59=_0x3fd00f;return!!this[_0x539d59(0x783)]&&super['isConnected']()&&Date[_0x539d59(0x441)]()-this[_0x539d59(0x783)]<0x3a98;}async['collectStats'](){const _0x4f9b01=_0x3fd00f;this[_0x4f9b01(0x5cb)]&&(await this[_0x4f9b01(0x222)]['collectSendersStats'](this['senders'],(_0x3b3a66,_0x1c4133)=>{const _0x39c976=_0x4f9b01;_0x77ba79({'type':_0x11455d['Stats'],'streamId':_0x1c4133,'nodeId':this[_0x39c976(0x7da)],'stats':_0x3b3a66},this['systemTopic']);}),this[_0x4f9b01(0x5cb)]['publish']({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x4f9b01(0x4b7)],'content':{'type':_0x11455d[_0x4f9b01(0x3eb)],'nodeId':this[_0x4f9b01(0x7da)],'stats':{'origin':_0x5c51d6['Sender'],'timestamp':Date['now'](),'messagesSent':this[_0x4f9b01(0x35f)],'bytesSent':this[_0x4f9b01(0xa65)],'timeSending':this['timeSending'],'roundTripTime':this['roundTripTime']}}}));}async['createOffer'](_0x187c48){const _0x103b5e=_0x3fd00f;_0x404abe[_0x103b5e(0x327)](_0x20ff7d[_0x103b5e(0x48d)],_0x103b5e(0x261),this[_0x103b5e(0x976)][_0x103b5e(0xb04)](),this[_0x103b5e(0x7da)]),this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this[_0x103b5e(0x951)](),this[_0x103b5e(0x949)]=setTimeout(()=>{const _0xd68ecf=_0x103b5e;this[_0xd68ecf(0x614)]();},0x7530),this[_0x103b5e(0x182)]||(this['dataChannel']=this[_0x103b5e(0x222)][_0x103b5e(0x79b)]('data'),this['dataChannel'][_0x103b5e(0x4b4)]=_0x1469c2,this[_0x103b5e(0x182)][_0x103b5e(0x5eb)]=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x3589d3=a0_0x38ff;delete this[_0x3589d3(0x1b0)],[_0x3589d3(0xae2),_0x3589d3(0x57a)][_0x3589d3(0x7ac)](this[_0x3589d3(0x182)]?.[_0x3589d3(0x4e3)]??'')||this[_0x3589d3(0x614)]();},0xfa);});const _0x2b9adc=await this[_0x103b5e(0x222)][_0x103b5e(0x7d8)](_0x187c48);this[_0x103b5e(0x783)]||(this[_0x103b5e(0x783)]=Date[_0x103b5e(0x441)]());const _0x514e19=(0x0,_0x630e7c['v4'])();this[_0x103b5e(0x6d5)]({'type':_0x11455d['Offer'],'offer':_0x2b9adc,'version':this[_0x103b5e(0x853)],'connectionType':this['connectionType']},_0x514e19),this['connectionType']===_0x4f2237[_0x103b5e(0x9f7)]&&(this[_0x103b5e(0x541)]=_0xa2c3bc[_0x103b5e(0x2a8)](()=>{const _0x26ceab=_0x103b5e;this['publishSystemMessage']({'type':_0x11455d[_0x26ceab(0x8b2)],'offer':_0x2b9adc,'version':this[_0x26ceab(0x853)],'connectionType':this['connectionType']},_0x514e19);},0x1388));}async[_0x3fd00f(0x8f5)](_0x175a8a,_0x42820f){const _0x40bcbc=_0x3fd00f;if(_0x42820f===this['currentVersion']){this['clearWaitAnswer']();try{await this[_0x40bcbc(0x222)][_0x40bcbc(0x8f5)](_0x175a8a,this[_0x40bcbc(0x7d8)][_0x40bcbc(0x167)](this)),this[_0x40bcbc(0xa71)](),this[_0x40bcbc(0x256)](),this[_0x40bcbc(0x5ed)]();}catch(_0x1ef3fb){this[_0x40bcbc(0x614)]();}}}['send'](_0x3f667e){const _0x1ff19a=_0x3fd00f;if(!this[_0x1ff19a(0x182)])throw new _0x5d70cf(_0x5d70cf[_0x1ff19a(0x765)][_0x1ff19a(0x6f6)],{'message':_0x1ff19a(0xa4b),'localId':this['localNode'][_0x1ff19a(0xb04)](),'remoteId':this['remoteId'],'eventMessage':_0x3f667e});if(_0x1ff19a(0x57a)!==this[_0x1ff19a(0x182)][_0x1ff19a(0x4e3)])throw new _0x5d70cf(_0x5d70cf[_0x1ff19a(0x765)][_0x1ff19a(0x6f6)],{'message':_0x1ff19a(0x9c1),'localId':this[_0x1ff19a(0x976)][_0x1ff19a(0xb04)](),'remoteId':this[_0x1ff19a(0x7da)],'eventMessage':_0x3f667e});let _0x4e74a7;if(_0x3f667e['content'][_0x1ff19a(0xa83)]instanceof ArrayBuffer){const _0x4bad41=_0x3f667e[_0x1ff19a(0xaf0)]['data'];_0x3f667e={..._0x3f667e,'content':{..._0x3f667e[_0x1ff19a(0xaf0)],'data':void 0x0}},_0x4e74a7=this['mergeParts'](_0x3f667e,_0x4bad41);}else _0x4e74a7=JSON[_0x1ff19a(0x6b1)](_0x3f667e);if(_0x1ff19a(0x7fc)==typeof _0x4e74a7&&_0x4e74a7[_0x1ff19a(0xa5f)]>_0x5d1a34)return void this['sendChunked'](_0x3f667e,_0x4e74a7);0x0===_0x3f667e['topicLabel']&&_0x3f667e[_0x1ff19a(0xa81)]===_0x519af0[_0x1ff19a(0x870)]&&this[_0x1ff19a(0x9df)][_0x1ff19a(0x741)][_0x1ff19a(0x652)](()=>_0x404abe['log'](_0x20ff7d['SenderSendMessage'],_0x1ff19a(0x2c3),this[_0x1ff19a(0x7da)],_0x379bcd(_0x3f667e)),void 0x0);const _0x2cf6e2=0x0===_0x3f667e[_0x1ff19a(0x655)]&&[_0x519af0[_0x1ff19a(0x6f7)],_0x519af0[_0x1ff19a(0x4b7)]][_0x1ff19a(0x7ac)](_0x3f667e[_0x1ff19a(0xa81)])?_0xe77bdd[_0x1ff19a(0x3a8)]:_0x3f667e instanceof ArrayBuffer?_0xe77bdd['Low']:_0xe77bdd[_0x1ff19a(0x40d)];this['sendWithRetry'](_0x4e74a7,_0x2cf6e2);}[_0x3fd00f(0xaae)](_0x35e48d,_0x112c24,_0x2ad8a2,_0x3a4d15){const _0x1a5528=_0x3fd00f,_0x1f8e0f=(_0x5c4a73=this[_0x1a5528(0x85c)],_0x35dc79=this[_0x1a5528(0x4e4)],Math[_0x1a5528(0x8c3)](0xe1000*_0x5c4a73*_0x35dc79));var _0x5c4a73,_0x35dc79;const _0x43bb13=this[_0x1a5528(0x2ae)][_0x1a5528(0x7ae)](_0x112c24['id'])||{'stream':_0x112c24,'priority':_0x2ad8a2,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x1f8e0f,'maxBitrate':_0x1f8e0f,'framerate':this[_0x1a5528(0x85c)],'maxFramerate':this[_0x1a5528(0x85c)],'tracks':{},'params':_0x3a4d15},_0x3dd039=_0x43bb13[_0x1a5528(0xa58)][_0x35e48d[_0x1a5528(0x440)]]||{'track':_0x35e48d};if(_0x3dd039['sender']?(_0x3dd039['track']=_0x35e48d,this['connection']['replaceTrack'](_0x35e48d,_0x3dd039[_0x1a5528(0x484)])):_0x3dd039[_0x1a5528(0x484)]=this['connection'][_0x1a5528(0xaae)](_0x35e48d,_0x112c24),_0x43bb13['tracks'][_0x35e48d['kind']]=_0x3dd039,_0x3a4d15&&(_0x43bb13[_0x1a5528(0x1c5)]=_0x3a4d15),_0x3a4d15&&_0x1a5528(0x8ed)===_0x3a4d15[_0x1a5528(0x440)]&&_0x3a4d15[_0x1a5528(0x60b)]&&_0x3a4d15[_0x1a5528(0x3fb)]&&(_0x43bb13['resolutionScale']=this[_0x1a5528(0x578)](_0x3a4d15[_0x1a5528(0x60b)],_0x3a4d15[_0x1a5528(0x3fb)]),_0x43bb13[_0x1a5528(0x2f0)]=_0x43bb13[_0x1a5528(0x5ce)],_0x43bb13[_0x1a5528(0xa58)]['video']&&_0x43bb13[_0x1a5528(0xa58)][_0x1a5528(0x8ed)]['sender'])){const _0x5bcc3b=_0x43bb13[_0x1a5528(0xa58)]['video'][_0x1a5528(0x484)];this[_0x1a5528(0x222)][_0x1a5528(0x919)](_0x5bcc3b,Math[_0x1a5528(0x8c3)](0xa*_0x43bb13[_0x1a5528(0x5ce)])/0xa,_0x43bb13[_0x1a5528(0x912)],_0x43bb13['bitrate'],_0x43bb13[_0x1a5528(0x5b1)]);}this[_0x1a5528(0x2ae)]['set'](_0x112c24['id'],_0x43bb13);}[_0x3fd00f(0xa03)](_0x5ada32,_0x5be9ee){const _0x1010ae=_0x3fd00f,_0x57f9fc=this[_0x1010ae(0x2ae)][_0x1010ae(0x7ae)](_0x5ada32['id']);if(_0x57f9fc&&_0x57f9fc['priority']!==_0x5be9ee&&(_0x57f9fc[_0x1010ae(0x5b1)]=_0x5be9ee,_0x57f9fc[_0x1010ae(0xa58)]['video']&&_0x57f9fc[_0x1010ae(0xa58)][_0x1010ae(0x8ed)][_0x1010ae(0x484)])){const _0x5a742e=_0x57f9fc[_0x1010ae(0xa58)][_0x1010ae(0x8ed)][_0x1010ae(0x484)];this[_0x1010ae(0x222)][_0x1010ae(0x919)](_0x5a742e,Math[_0x1010ae(0x8c3)](0xa*_0x57f9fc[_0x1010ae(0x5ce)])/0xa,_0x57f9fc[_0x1010ae(0x912)],_0x57f9fc[_0x1010ae(0x81d)],_0x57f9fc['priority']);}}[_0x3fd00f(0x4cf)](_0x3e38f3,_0x5beefb){const _0x2721be=_0x3fd00f,_0x42ea06=this[_0x2721be(0x2ae)][_0x2721be(0x7ae)](_0x3e38f3['id']);if(_0x42ea06){if(_0x42ea06['params']=_0x5beefb,_0x5beefb&&_0x2721be(0x8ed)===_0x5beefb[_0x2721be(0x440)]&&_0x5beefb[_0x2721be(0x60b)]&&_0x5beefb[_0x2721be(0x3fb)]){if(_0x42ea06[_0x2721be(0x2f0)]=this[_0x2721be(0x578)](_0x5beefb[_0x2721be(0x60b)],_0x5beefb[_0x2721be(0x3fb)]),_0x42ea06[_0x2721be(0x5ce)]<_0x42ea06[_0x2721be(0x2f0)]&&(_0x42ea06[_0x2721be(0x5ce)]=_0x42ea06[_0x2721be(0x2f0)]),_0x42ea06[_0x2721be(0xa58)][_0x2721be(0x8ed)]&&_0x42ea06[_0x2721be(0xa58)]['video']['sender']){const _0x2ee095=_0x42ea06[_0x2721be(0xa58)][_0x2721be(0x8ed)][_0x2721be(0x484)];this[_0x2721be(0x222)][_0x2721be(0x919)](_0x2ee095,Math['floor'](0xa*_0x42ea06[_0x2721be(0x5ce)])/0xa,_0x42ea06[_0x2721be(0x912)],_0x42ea06['bitrate'],_0x42ea06['priority']);}this['clearUpgradeTimeout'](),this['setUpgradeTimeout']();}this[_0x2721be(0x2ae)][_0x2721be(0x1f5)](_0x3e38f3['id'],_0x42ea06);}}['removeTrack'](_0x9b36a8,_0x1686cd){const _0x744ac9=_0x3fd00f,_0xfaf1e=this[_0x744ac9(0x2ae)][_0x744ac9(0x7ae)](_0x1686cd['id']);if(_0xfaf1e){const _0x362620=_0xfaf1e['tracks'][_0x9b36a8[_0x744ac9(0x440)]];_0x362620&&(_0x362620[_0x744ac9(0x484)]&&this['connection'][_0x744ac9(0x3d7)](_0x362620['sender']),_0x362620[_0x744ac9(0xac5)]=void 0x0);}}[_0x3fd00f(0xa49)](_0xb4fb3c){const _0x6c07c9=_0x3fd00f;this['clearUpgradeTimeout']();const _0x3f5c22=function(_0x3b9704,_0x23c77d){const _0x210ba3=a0_0x38ff;return _0x3b9704[_0x210ba3(0x822)]((_0x32104c,_0x3116d3)=>_0x23c77d[_0x210ba3(0x876)]===_0x5e3cc2[_0x210ba3(0x437)]?_0x3116d3[_0x210ba3(0x5b1)]-_0x32104c[_0x210ba3(0x5b1)]:_0x32104c['priority']-_0x3116d3[_0x210ba3(0x5b1)])[_0x210ba3(0x78b)](_0x5d619e=>function(_0x2dad64,_0x38e56){const _0x477216=_0x210ba3;if(_0x38e56[_0x477216(0x876)]===_0x5e3cc2[_0x477216(0x437)]){if(_0x38e56[_0x477216(0x2ce)]===_0x127482[_0x477216(0xa05)])return _0x2dad64[_0x477216(0x5ce)]<0x4||_0x2dad64[_0x477216(0x601)]>0xf;if(_0x38e56[_0x477216(0x2ce)]===_0x127482[_0x477216(0x35d)])return _0x2dad64[_0x477216(0x3d1)]>_0xfe0879;}return _0x2dad64[_0x477216(0x5ce)]>_0x2dad64[_0x477216(0x2f0)]||_0x2dad64[_0x477216(0x912)]<_0x2dad64[_0x477216(0x601)]||_0x2dad64['bitrate']<_0x2dad64[_0x477216(0x3d1)];}(_0x5d619e,_0x23c77d));}(Array[_0x6c07c9(0x4f7)](this[_0x6c07c9(0x2ae)]['values']()),_0xb4fb3c);if(_0x3f5c22&&(function(_0x1056a0,_0x82220c){const _0x40f9a8=_0x6c07c9;_0x1056a0[_0x40f9a8(0xa58)][_0x40f9a8(0x8ed)]&&_0x1056a0[_0x40f9a8(0xa58)][_0x40f9a8(0x8ed)][_0x40f9a8(0x484)]&&(_0x1056a0[_0x40f9a8(0x5ce)]=function(_0x26d3ef,_0xfa1072,_0x548d83){const _0xb6c4ce=_0x40f9a8;switch(_0x548d83[_0xb6c4ce(0x876)]){case _0x5e3cc2['Downgrade']:_0x548d83[_0xb6c4ce(0x2ce)]===_0x127482[_0xb6c4ce(0xa05)]&&(_0x26d3ef+=0.5)>0x4&&(_0x26d3ef=0x4);break;case _0x5e3cc2[_0xb6c4ce(0x826)]:(_0x26d3ef-=0.5)<_0xfa1072&&(_0x26d3ef=_0xfa1072);}return _0x26d3ef;}(_0x1056a0['resolutionScale'],_0x1056a0[_0x40f9a8(0x2f0)],_0x82220c),_0x1056a0[_0x40f9a8(0x912)]=function(_0x192aac,_0x1da438,_0x52969f){const _0x499505=_0x40f9a8;switch(_0x52969f[_0x499505(0x876)]){case _0x5e3cc2[_0x499505(0x437)]:_0x52969f[_0x499505(0x2ce)]===_0x127482['Resolution']&&(_0x192aac-=0x3)<0xf&&(_0x192aac=0xf);break;case _0x5e3cc2[_0x499505(0x826)]:(_0x192aac+=0x3)>_0x1da438&&(_0x192aac=_0x1da438);}return _0x192aac;}(_0x1056a0[_0x40f9a8(0x912)],_0x1056a0[_0x40f9a8(0x601)],_0x82220c),_0x1056a0[_0x40f9a8(0x81d)]=function(_0x142480,_0x25300d,_0x538962){const _0x452834=_0x40f9a8;switch(_0x538962['action']){case _0x5e3cc2[_0x452834(0x437)]:_0x538962[_0x452834(0x2ce)]===_0x127482[_0x452834(0x35d)]&&(_0x142480*=0.75)<_0xfe0879&&(_0x142480=_0xfe0879);break;case _0x5e3cc2[_0x452834(0x826)]:(_0x142480*=1.25)>_0x25300d&&(_0x142480=_0x25300d);}return _0x142480;}(_0x1056a0['bitrate'],_0x1056a0[_0x40f9a8(0x3d1)],_0x82220c));}(_0x3f5c22,_0xb4fb3c),_0x3f5c22['tracks'][_0x6c07c9(0x8ed)]&&_0x3f5c22[_0x6c07c9(0xa58)][_0x6c07c9(0x8ed)][_0x6c07c9(0x484)])){const _0x248198=_0x3f5c22[_0x6c07c9(0xa58)][_0x6c07c9(0x8ed)]['sender'];this['connection'][_0x6c07c9(0x919)](_0x248198,Math['floor'](0xa*_0x3f5c22[_0x6c07c9(0x5ce)])/0xa,_0x3f5c22[_0x6c07c9(0x912)],_0x3f5c22['bitrate'],_0x3f5c22[_0x6c07c9(0x5b1)]);}(_0x3f5c22||_0xb4fb3c[_0x6c07c9(0x876)]===_0x5e3cc2[_0x6c07c9(0x437)])&&this[_0x6c07c9(0x957)]();}[_0x3fd00f(0x24b)](){const _0x5f221a=_0x3fd00f;return this[_0x5f221a(0x917)]['queues'][_0x5f221a(0x9b1)]((_0x2fe52b,_0x10ff84)=>_0x2fe52b+_0x10ff84[_0x5f221a(0x66a)],0x0)*_0x19db64;}[_0x3fd00f(0xacf)](){const _0x1bce98=_0x3fd00f;return this[_0x1bce98(0x182)]?.['bufferedAmount']??0x0;}[_0x3fd00f(0x515)](){const _0x4716f5=_0x3fd00f;super[_0x4716f5(0x515)](),this[_0x4716f5(0x387)](),this[_0x4716f5(0x951)](),this[_0x4716f5(0x2ae)][_0x4716f5(0x3e1)](_0x359341=>{const _0x433ee5=_0x4716f5;_0x359341[_0x433ee5(0xa58)][_0x433ee5(0x8ed)]&&(_0x359341['tracks']['video']['sender']=void 0x0),_0x359341[_0x433ee5(0xa58)][_0x433ee5(0x2d2)]&&(_0x359341[_0x433ee5(0xa58)][_0x433ee5(0x2d2)][_0x433ee5(0x484)]=void 0x0);}),this[_0x4716f5(0x997)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x29fde2=>{const _0x3dc07a=a0_0x38ff;if(!this[_0x3dc07a(0x182)]||_0x3dc07a(0x57a)!==this['dataChannel']['state'])return await _0xa2c3bc[_0x3dc07a(0x3fd)](0x64),void _0x29fde2();this[_0x3dc07a(0x182)][_0x3dc07a(0xa52)]<_0x1469c2?_0x29fde2():this['dataChannel']['onBufferedAmountLow']=()=>{this['dataChannel']&&(this['dataChannel']['onBufferedAmountLow']=null),_0x29fde2();};});}async[_0x3fd00f(0x924)](_0x3b775f,_0x1b9e50){const _0x2f57bf=_0x3fd00f,_0x30a360=[];for(let _0x195caf=0x0;_0x195caf<_0x1b9e50[_0x2f57bf(0xa5f)];_0x195caf+=_0x5d1a34)_0x30a360[_0x2f57bf(0x639)](_0x1b9e50[_0x2f57bf(0x7cd)](_0x195caf,_0x195caf+_0x5d1a34));for(const _0x3d40a5 of _0x30a360){for(;this[_0x2f57bf(0x917)][_0x2f57bf(0x670)][_0xe77bdd[_0x2f57bf(0x3dc)]][_0x2f57bf(0x66a)]>0x1;)await _0xa2c3bc[_0x2f57bf(0x3fd)](0x64);this[_0x2f57bf(0x832)](_0x55b8d7+';'+_0x3b775f[_0x2f57bf(0x863)]+';'+_0x30a360[_0x2f57bf(0x61f)](_0x3d40a5)+';'+_0x30a360['length']+';'+_0x3d40a5,_0xe77bdd[_0x2f57bf(0x3dc)]);}}async[_0x3fd00f(0x832)](_0x2b0b00,_0x46c367){const _0xffd5d=_0x3fd00f;_0x2b0b00===_0x1fcc0c?this[_0xffd5d(0x917)][_0xffd5d(0x670)][_0x46c367][_0xffd5d(0x53e)]?.[_0xffd5d(0x69a)]!==_0x1fcc0c&&this[_0xffd5d(0x917)]['queues'][_0x46c367][_0xffd5d(0x75b)](_0x2b0b00):this[_0xffd5d(0x917)][_0xffd5d(0x670)][_0x46c367][_0xffd5d(0x639)](_0x2b0b00);}[_0x3fd00f(0x421)](_0xa03ef){const _0x35e52a=_0x3fd00f;if(!this[_0x35e52a(0x182)]||_0x35e52a(0x57a)!==this[_0x35e52a(0x182)]['state'])throw new Error(_0x35e52a(0x3e0));if(this[_0x35e52a(0x182)]['bufferedAmount']>=0x600000)throw new Error(_0x35e52a(0x180));const _0x284ec5=Date[_0x35e52a(0x441)]();_0xa03ef!==_0x1fcc0c&&(this[_0x35e52a(0x35f)]+=0x1,this[_0x35e52a(0xa65)]+=_0xa03ef instanceof ArrayBuffer?_0xa03ef[_0x35e52a(0x97f)]:_0xa03ef[_0x35e52a(0xa5f)]);try{ArrayBuffer,this[_0x35e52a(0x182)][_0x35e52a(0x5b8)](_0xa03ef);}catch(_0x56aa59){throw console[_0x35e52a(0x805)](_0x35e52a(0x62a),_0x56aa59),_0x56aa59;}this[_0x35e52a(0x5c4)]+=Date['now']()-_0x284ec5;}['startHeartbeat'](){const _0x42a594=_0x3fd00f;this[_0x42a594(0xae0)]&&this['clearHeartbeat']();let _0x2dd71e=!0x0,_0x34fa3d=Date[_0x42a594(0x441)]();this[_0x42a594(0x783)]=Date[_0x42a594(0x441)](),this[_0x42a594(0x182)][_0x42a594(0xa7f)]=_0x5dc627=>{const _0x14b3bd=_0x42a594;'1'===_0x5dc627[_0x14b3bd(0xa83)]&&(this[_0x14b3bd(0x7dd)]=Date[_0x14b3bd(0x441)]()-_0x34fa3d,_0x2dd71e&&this[_0x14b3bd(0x6d5)]({'type':_0x11455d[_0x14b3bd(0x6d1)]}),_0x2dd71e=!0x1,this[_0x14b3bd(0x783)]=Date[_0x14b3bd(0x441)](),this[_0x14b3bd(0x997)]&&(this[_0x14b3bd(0x997)]=!0x1,this[_0x14b3bd(0x299)]()));},this['heartbeatUnsubscriber']=_0xa2c3bc['setInterval'](()=>{const _0x2236ef=_0x42a594;_0x34fa3d=Date['now'](),this['sendWithRetry'](_0x1fcc0c,_0xe77bdd[_0x2236ef(0x3a8)]),Date[_0x2236ef(0x441)]()-this[_0x2236ef(0x783)]>(_0x2dd71e?0x15f90:0x3a98)&&this[_0x2236ef(0x614)]();},0xbb8);}['handleMissingSenders'](){const _0x4b4e32=_0x3fd00f;this[_0x4b4e32(0x2ae)][_0x4b4e32(0x3e1)](_0x484c79=>{const _0x33e0c1=_0x4b4e32;_0x484c79[_0x33e0c1(0xa58)][_0x33e0c1(0x8ed)]&&_0x484c79[_0x33e0c1(0xa58)][_0x33e0c1(0x8ed)]['track']&&!_0x484c79[_0x33e0c1(0xa58)][_0x33e0c1(0x8ed)]['sender']&&(_0x484c79['tracks'][_0x33e0c1(0x8ed)][_0x33e0c1(0x484)]=this[_0x33e0c1(0x222)][_0x33e0c1(0xaae)](_0x484c79[_0x33e0c1(0xa58)][_0x33e0c1(0x8ed)][_0x33e0c1(0xac5)],_0x484c79[_0x33e0c1(0x467)])),_0x484c79['tracks'][_0x33e0c1(0x2d2)]&&_0x484c79['tracks']['audio']['track']&&!_0x484c79[_0x33e0c1(0xa58)][_0x33e0c1(0x2d2)][_0x33e0c1(0x484)]&&(_0x484c79[_0x33e0c1(0xa58)][_0x33e0c1(0x2d2)]['sender']=this['connection'][_0x33e0c1(0xaae)](_0x484c79['tracks']['audio'][_0x33e0c1(0xac5)],_0x484c79['stream']));});}[_0x3fd00f(0x4cd)](){const _0x3956fc=_0x3fd00f;this[_0x3956fc(0x6d5)]({'type':_0x11455d[_0x3956fc(0x723)],'candidates':this[_0x3956fc(0x9fc)],'origin':_0x5c51d6[_0x3956fc(0x6cd)],'version':this[_0x3956fc(0x853)],'connectionType':this[_0x3956fc(0x1a0)]});}[_0x3fd00f(0x436)](){const _0x517f54=_0x3fd00f;super['setupConnectionEvents'](),this['connection'][_0x517f54(0x3e7)]=()=>{const _0x537a7e=_0x517f54;if(_0x537a7e(0x843)===this[_0x537a7e(0x222)][_0x537a7e(0x460)]){_0x404abe['log'](_0x20ff7d[_0x537a7e(0x3ec)],_0x537a7e(0xaed),this[_0x537a7e(0x976)]['getId'](),this[_0x537a7e(0x7da)]);try{if(this['connection'][_0x537a7e(0x41d)])return void this[_0x537a7e(0x222)][_0x537a7e(0x79f)]();}catch(_0x56c628){}this[_0x537a7e(0x7d8)]({'handshakeRestart':!0x0});}},this['connection'][_0x517f54(0x991)]=()=>{const _0x3e563f=_0x517f54;_0x3e563f(0x916)!==this[_0x3e563f(0x222)][_0x3e563f(0x97d)]&&_0x3e563f(0x843)!==this['connection'][_0x3e563f(0x97d)]||this[_0x3e563f(0x614)]();};}[_0x3fd00f(0x614)](){const _0x4fca7b=_0x3fd00f;this['clearHeartbeat'](),this[_0x4fca7b(0x9d6)](),this['clearConnectionTimeout'](),_0x404abe[_0x4fca7b(0x70d)](_0x4fca7b(0x7c5),{'clusterId':this[_0x4fca7b(0x9c0)],'nodeId':this['localNode'][_0x4fca7b(0xb04)](),'nodeType':this[_0x4fca7b(0x976)][_0x4fca7b(0x705)],'remoteId':this[_0x4fca7b(0x7da)],'data':{'connectionType':this['connectionType'],'connectionState':this[_0x4fca7b(0x222)]['connectionState'],'iceConnectionState':this[_0x4fca7b(0x222)]['handshakeState'],'signalingState':this[_0x4fca7b(0x222)][_0x4fca7b(0x229)],'readyState':this[_0x4fca7b(0x182)]?.[_0x4fca7b(0x4e3)]||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x4fca7b(0x441)]()-this[_0x4fca7b(0x783)]:'','retryQueue':this[_0x4fca7b(0x917)]}}),(this['lastHeartbeat']&&Date['now']()-this[_0x4fca7b(0x783)]>0xea60)??0x1?this[_0x4fca7b(0x5cb)][_0x4fca7b(0x70e)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x4fca7b(0x976)][_0x4fca7b(0xb04)]()],'messageType':_0x519af0[_0x4fca7b(0x4b7)],'content':{'type':_0x11455d[_0x4fca7b(0x6fd)]}}):(this['resetConnection'](),this[_0x4fca7b(0x6d5)]({'type':_0x11455d[_0x4fca7b(0x255)],'version':this['currentVersion'],'connectionType':this[_0x4fca7b(0x1a0)]}),this['restartTimeout']=setTimeout(()=>{const _0xe1c969=_0x4fca7b;this[_0xe1c969(0x614)]();},0x7530));}[_0x3fd00f(0x1e0)](){const _0xfb6cda=_0x3fd00f;this[_0xfb6cda(0xae0)]?.(),delete this[_0xfb6cda(0xae0)];}[_0x3fd00f(0x256)](){const _0x4805fc=_0x3fd00f;this[_0x4805fc(0x949)]&&(clearTimeout(this[_0x4805fc(0x949)]),delete this[_0x4805fc(0x949)]);}['clearRestartTimeout'](){const _0x3d2bd8=_0x3fd00f;this[_0x3d2bd8(0x60f)]&&(clearTimeout(this[_0x3d2bd8(0x60f)]),delete this[_0x3d2bd8(0x60f)]);}['clearUpgradeTimeout'](){const _0x159009=_0x3fd00f;this[_0x159009(0x8a3)]&&(clearTimeout(this[_0x159009(0x8a3)]),delete this['upgradeTimeout']);}[_0x3fd00f(0x957)](){const _0x3a8d07=_0x3fd00f;this[_0x3a8d07(0x8a3)]=setTimeout(()=>{const _0x46b469=_0x3a8d07;this[_0x46b469(0xa49)]({'type':_0x136a13[_0x46b469(0x740)],'action':_0x5e3cc2[_0x46b469(0x826)]});},0x3a98);}[_0x3fd00f(0x578)](_0x35361e,_0x54c31b){const _0x307865=_0x3fd00f,_0x3c88a6=Math['max'](_0x35361e['width']/_0x54c31b['width'],_0x35361e[_0x307865(0xb03)]/_0x54c31b['height']);return Math[_0x307865(0x828)](Math[_0x307865(0x643)](_0x3c88a6,0x1),0x4);}['clearWaitAnswer'](){const _0x312023=_0x3fd00f;this[_0x312023(0x541)]?.(),delete this['waitAnswer'];}[_0x3fd00f(0x387)](){const _0x4c7437=_0x3fd00f;this['oncloseTimeout']&&(clearTimeout(this[_0x4c7437(0x1b0)]),delete this['oncloseTimeout']);}[_0x3fd00f(0x84b)](_0x3fe229){const _0x49ac0b=_0x3fd00f,_0x3c4f27=JSON[_0x49ac0b(0x6b1)](_0x3fe229);return new TextEncoder()[_0x49ac0b(0x46a)](_0x3c4f27)[_0x49ac0b(0x8a1)];}[_0x3fd00f(0xa16)](_0x58b3be,_0x97b314){const _0x280bfb=_0x3fd00f,_0x137036=this[_0x280bfb(0x84b)](_0x58b3be),_0x52da4c=new Uint8Array(0x4),_0x4c6e7c=new Uint8Array(_0x137036),_0x41ec88=new Uint8Array(_0x97b314);_0x52da4c[_0x280bfb(0x1f5)](new Uint8Array(new Uint32Array([_0x4c6e7c[_0x280bfb(0xa5f)]])[_0x280bfb(0x8a1)]));const _0x10badc=new Uint8Array(0x4+_0x4c6e7c[_0x280bfb(0xa5f)]+_0x41ec88['length']);return _0x10badc['set'](_0x52da4c),_0x10badc[_0x280bfb(0x1f5)](_0x4c6e7c,0x4),_0x10badc[_0x280bfb(0x1f5)](_0x41ec88,0x4+_0x4c6e7c[_0x280bfb(0xa5f)]),_0x10badc['buffer'];}}class _0x567785 extends _0x5b2659{[_0x3fd00f(0x62f)];[_0x3fd00f(0x1a0)];[_0x3fd00f(0x85c)];[_0x3fd00f(0x4e4)];[_0x3fd00f(0x7f5)];[_0x3fd00f(0xaba)];['receiverConnection'];['receiverUnsubscribers']=[];[_0x3fd00f(0x54c)]=_0x4767cf();['trackListeners']=_0x4767cf();['removeTrackListeners']=_0x4767cf();[_0x3fd00f(0x51d)]=[];[_0x3fd00f(0x5cb)];[_0x3fd00f(0xab6)]=new Map();[_0x3fd00f(0xa1b)]=new Map();[_0x3fd00f(0x3df)]=new Map();[_0x3fd00f(0x778)]=new Map();['successNotified']=!0x1;constructor(_0x107b7b,_0x21c0de,_0x59c529,_0x1c7a5a,_0x3a043b,_0x4108c0,_0x46df1e,_0xf3cec9){const _0x494037=_0x3fd00f;super(_0x107b7b,_0x21c0de,_0x59c529),this[_0x494037(0x62f)]=_0x1c7a5a,this[_0x494037(0x1a0)]=_0x3a043b,this['maxFps']=_0x4108c0,this[_0x494037(0x4e4)]=_0x46df1e,this[_0x494037(0x7f5)]=_0xf3cec9;}[_0x3fd00f(0x37b)](_0x4d38af){const _0x55f01b=_0x3fd00f;switch(_0x4d38af[_0x55f01b(0x76c)]()){case _0x548494[_0x55f01b(0x777)][_0x55f01b(0x3cd)]:case _0x548494[_0x55f01b(0x777)][_0x55f01b(0x6be)]:case _0x548494[_0x55f01b(0x777)]['ObjectStore']:case _0x548494['ContentType'][_0x55f01b(0x1af)]:case _0x548494[_0x55f01b(0x777)][_0x55f01b(0x20d)]:case _0x548494['ContentType'][_0x55f01b(0x2f3)]:case _0x548494[_0x55f01b(0x777)]['GraphDatabase']:case _0x548494[_0x55f01b(0x777)][_0x55f01b(0x979)]:this['dataTopics'][_0x55f01b(0x1f5)](_0x4d38af[_0x55f01b(0x891)](),_0x4d38af);break;case _0x548494[_0x55f01b(0x777)][_0x55f01b(0x271)]:this['mediaTopics']['set'](_0x4d38af[_0x55f01b(0x891)](),_0x4d38af);}}[_0x3fd00f(0x78a)](_0x2f98d5){const _0x1cfe13=_0x3fd00f;switch(_0x2f98d5[_0x1cfe13(0x76c)]()){case _0x548494['ContentType']['Data']:case _0x548494[_0x1cfe13(0x777)]['PubSub']:case _0x548494['ContentType']['ObjectStore']:case _0x548494['ContentType'][_0x1cfe13(0x1af)]:case _0x548494[_0x1cfe13(0x777)][_0x1cfe13(0x20d)]:case _0x548494[_0x1cfe13(0x777)][_0x1cfe13(0x2f3)]:case _0x548494[_0x1cfe13(0x777)][_0x1cfe13(0x3bb)]:case _0x548494[_0x1cfe13(0x777)][_0x1cfe13(0x979)]:this[_0x1cfe13(0xab6)][_0x1cfe13(0x92b)](_0x2f98d5[_0x1cfe13(0x891)]());break;case _0x548494['ContentType'][_0x1cfe13(0x271)]:this[_0x1cfe13(0x3df)]['delete'](_0x2f98d5[_0x1cfe13(0x891)]());}}['registerSubscriber'](_0x4c4268){const _0x262f75=_0x3fd00f;switch(_0x4c4268[_0x262f75(0x76c)]()){case _0x548494[_0x262f75(0x777)][_0x262f75(0x3cd)]:case _0x548494[_0x262f75(0x777)]['PubSub']:case _0x548494[_0x262f75(0x777)][_0x262f75(0x20f)]:case _0x548494['ContentType']['KeyValueDatabase']:case _0x548494[_0x262f75(0x777)]['Job']:case _0x548494[_0x262f75(0x777)][_0x262f75(0x2f3)]:case _0x548494[_0x262f75(0x777)][_0x262f75(0x3bb)]:case _0x548494[_0x262f75(0x777)][_0x262f75(0x979)]:{const _0x4e209a=_0x4c4268[_0x262f75(0x84f)](_0x543773=>{const _0x694c5c=_0x262f75;_0x2f0e28(_0x543773,this[_0x694c5c(0x51c)]())&&_0x99b822(_0x543773,this[_0x694c5c(0x7da)])&&this[_0x694c5c(0x5b8)](_0x543773);});this['dataUnsubscribers'][_0x262f75(0x1f5)](_0x4c4268['getLabel'](),_0x4e209a);break;}case _0x548494[_0x262f75(0x777)][_0x262f75(0x271)]:{const _0x263c72=_0x4c4268[_0x262f75(0x84f)](({content:_0x590cd8})=>{const _0x4c0017=_0x262f75;switch(_0x590cd8[_0x4c0017(0x876)]){case _0x222a1e[_0x4c0017(0x80f)]:this[_0x4c0017(0xaae)](_0x590cd8[_0x4c0017(0xac5)],_0x590cd8[_0x4c0017(0x467)],_0x590cd8['priority'],_0x590cd8['params']);break;case _0x222a1e['Remove']:this[_0x4c0017(0x3d7)](_0x590cd8['track'],_0x590cd8['stream']);break;case _0x222a1e['Update']:_0x590cd8[_0x4c0017(0x5b1)]&&this[_0x4c0017(0xa03)](_0x590cd8[_0x4c0017(0x467)],_0x590cd8['priority']),_0x590cd8[_0x4c0017(0x1c5)]&&this[_0x4c0017(0x4cf)](_0x590cd8[_0x4c0017(0x467)],_0x590cd8['params']);}});this[_0x262f75(0x778)][_0x262f75(0x1f5)](_0x4c4268[_0x262f75(0x891)](),_0x263c72);break;}}}[_0x3fd00f(0x2c9)](_0x24738d){const _0xbe8c93=_0x3fd00f;switch(_0x24738d[_0xbe8c93(0x76c)]()){case _0x548494['ContentType'][_0xbe8c93(0x3cd)]:case _0x548494[_0xbe8c93(0x777)][_0xbe8c93(0x6be)]:case _0x548494[_0xbe8c93(0x777)][_0xbe8c93(0x20f)]:case _0x548494['ContentType'][_0xbe8c93(0x1af)]:case _0x548494[_0xbe8c93(0x777)]['Job']:case _0x548494['ContentType'][_0xbe8c93(0x2f3)]:case _0x548494['ContentType'][_0xbe8c93(0x3bb)]:case _0x548494[_0xbe8c93(0x777)]['ExternalStorage']:this['dataUnsubscribers'][_0xbe8c93(0x7ae)](_0x24738d[_0xbe8c93(0x891)]())?.(),this[_0xbe8c93(0xa1b)][_0xbe8c93(0x92b)](_0x24738d['getLabel']());break;case _0x548494[_0xbe8c93(0x777)][_0xbe8c93(0x271)]:this[_0xbe8c93(0x778)][_0xbe8c93(0x7ae)](_0x24738d['getLabel']())?.(),this[_0xbe8c93(0x778)][_0xbe8c93(0x92b)](_0x24738d['getLabel']());}}[_0x3fd00f(0x29a)](){const _0x1e202e=_0x3fd00f;return[_0x548494[_0x1e202e(0x777)]['Data'],_0x548494[_0x1e202e(0x777)]['Media'],_0x548494['ContentType'][_0x1e202e(0x6be)],_0x548494['ContentType'][_0x1e202e(0x20f)],_0x548494[_0x1e202e(0x777)][_0x1e202e(0x1af)],_0x548494['ContentType']['Job'],_0x548494['ContentType'][_0x1e202e(0x2f3)],_0x548494['ContentType'][_0x1e202e(0x3bb)],_0x548494[_0x1e202e(0x777)][_0x1e202e(0x979)]];}[_0x3fd00f(0xaf2)](_0x148439){this['systemTopic']=_0x148439;}['unregisterSystemPublisher'](){const _0x5b4a65=_0x3fd00f;delete this[_0x5b4a65(0x5cb)];}async[_0x3fd00f(0x79d)](){const _0x388cc1=_0x3fd00f;this['setupListeners'](),await this[_0x388cc1(0x7d8)]();}[_0x3fd00f(0x883)](){const _0x2dffdf=_0x3fd00f;this[_0x2dffdf(0x51d)][_0x2dffdf(0x3e1)](_0x2918d4=>_0x2918d4()),this[_0x2dffdf(0x51d)]=[],this[_0x2dffdf(0xaba)]?.[_0x2dffdf(0x607)](),this[_0x2dffdf(0xaba)]?.['close'](),delete this[_0x2dffdf(0xaba)],this[_0x2dffdf(0x1d7)][_0x2dffdf(0x3e1)](_0x3957af=>_0x3957af()),this[_0x2dffdf(0x1d7)]=[],this[_0x2dffdf(0x9ee)]?.[_0x2dffdf(0x607)](),this[_0x2dffdf(0x9ee)]?.[_0x2dffdf(0x883)](),delete this['receiverConnection'];}['isConnected'](){const _0x5486fa=_0x3fd00f;return this[_0x5486fa(0xaba)]?.[_0x5486fa(0xac9)]()&&this[_0x5486fa(0x9ee)]?.[_0x5486fa(0xac9)]()||!0x1;}['send'](_0x39235d){const _0x55c35a=_0x3fd00f;if(!this[_0x55c35a(0xaba)]||!this[_0x55c35a(0xac9)]())throw new _0x5d70cf(_0x5d70cf[_0x55c35a(0x765)][_0x55c35a(0x16e)],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x55c35a(0xaba)]?.[_0x55c35a(0xac9)](),'receiverConnected':this[_0x55c35a(0x9ee)]?.['isConnected'](),'localId':this[_0x55c35a(0x51c)](),'remoteId':this[_0x55c35a(0x7da)],'data':_0x39235d});this[_0x55c35a(0xaba)][_0x55c35a(0x5b8)](_0x39235d);}[_0x3fd00f(0xa7f)](_0x13d474){const _0x2729d5=_0x3fd00f;return this[_0x2729d5(0x54c)]['subscribe'](_0x13d474);}[_0x3fd00f(0xa6d)](_0x470e1){const _0x3a771f=_0x3fd00f;return this[_0x3a771f(0x865)]['subscribe'](({track:_0x5270f0,stream:_0xce87cb})=>_0x470e1(_0x5270f0,_0xce87cb));}[_0x3fd00f(0x629)](_0x4bccbc){const _0x4fd81b=_0x3fd00f;return this['removeTrackListeners'][_0x4fd81b(0x84f)](({track:_0xfafcb8,stream:_0x140cdd})=>_0x4bccbc(_0xfafcb8,_0x140cdd));}[_0x3fd00f(0xaae)](_0xc17c8d,_0x5e9c42,_0x411574,_0x493362){const _0x19c8c8=_0x3fd00f;this[_0x19c8c8(0xaba)]?.[_0x19c8c8(0xaae)](_0xc17c8d,_0x5e9c42,_0x411574,_0x493362);}[_0x3fd00f(0xa03)](_0x163290,_0x482bfa){const _0x47ded5=_0x3fd00f;this['senderConnection']?.[_0x47ded5(0xa03)](_0x163290,_0x482bfa);}[_0x3fd00f(0x4cf)](_0x43dcdb,_0x1605c0){const _0x25eed6=_0x3fd00f;this[_0x25eed6(0xaba)]?.['setParams'](_0x43dcdb,_0x1605c0);}[_0x3fd00f(0x3d7)](_0x2e084c,_0x1e768b){const _0x52adaa=_0x3fd00f;this[_0x52adaa(0xaba)]?.['removeTrack'](_0x2e084c,_0x1e768b);}async['handlePeerConnectionSystemEvents'](_0x30bacb){const _0x362c64=_0x3fd00f;_0x404abe[_0x362c64(0x327)](_0x20ff7d[_0x362c64(0x48d)],_0x362c64(0x9a6),this[_0x362c64(0x51c)](),_0x30bacb);const {content:_0x52acc4}=_0x30bacb;switch(_0x52acc4['type']){case _0x11455d[_0x362c64(0x8b2)]:await this[_0x362c64(0x549)](_0x52acc4);break;case _0x11455d[_0x362c64(0x9cc)]:await this[_0x362c64(0x8f5)](_0x52acc4);break;case _0x11455d[_0x362c64(0x6d1)]:this[_0x362c64(0x410)]();break;case _0x11455d[_0x362c64(0x723)]:await this['handleIceCandidates'](_0x52acc4);break;case _0x11455d['NeedRestart']:this[_0x362c64(0x489)](_0x52acc4);break;case _0x11455d[_0x362c64(0x5a7)]:await this[_0x362c64(0x7d8)]();}}[_0x3fd00f(0x1ec)](_0xbe3380){const _0x1110e7=_0x3fd00f;this[_0x1110e7(0xaba)]?.[_0x1110e7(0xa49)](_0xbe3380[_0x1110e7(0xaf0)]['data']);}[_0x3fd00f(0x7a3)](){const _0x18c8ff=_0x3fd00f;return this[_0x18c8ff(0x1a0)];}[_0x3fd00f(0x2a3)](_0x4b62a0){const _0x54696b=_0x3fd00f;this['connectionType']=_0x4b62a0,this[_0x54696b(0xaba)]?.[_0x54696b(0x2a3)](_0x4b62a0),this[_0x54696b(0x9ee)]?.['setConnectionType'](_0x4b62a0);}async[_0x3fd00f(0x33e)](){const _0x535cc0=_0x3fd00f;await this[_0x535cc0(0xaba)]?.['collectStats'](),await this[_0x535cc0(0x9ee)]?.[_0x535cc0(0x33e)]();}['calculateArrayBufferSize'](){const _0x52acba=_0x3fd00f;return this['senderConnection']?.[_0x52acba(0x24b)]()??0x0;}['getBufferedAmount'](){const _0x1c6643=_0x3fd00f;return this[_0x1c6643(0xaba)]?.[_0x1c6643(0xacf)]()??0x0;}[_0x3fd00f(0x22d)](){const _0x4eaacb=_0x3fd00f;this[_0x4eaacb(0x51d)][_0x4eaacb(0x639)](this[_0x4eaacb(0xa7f)](_0x38d78b=>{const _0x40209c=_0x4eaacb;_0x99b822(_0x38d78b,this[_0x40209c(0x51c)]())&&0x0!==_0x38d78b[_0x40209c(0x655)]&&this[_0x40209c(0xab6)][_0x40209c(0x7ae)](_0x38d78b['topicLabel'])?.[_0x40209c(0x70e)](_0x38d78b);})),this['listenerUnsubscribers'][_0x4eaacb(0x639)](this[_0x4eaacb(0xa6d)]((_0x32f98e,_0x1142a9)=>{const _0x339e3c=_0x4eaacb,_0x8c77a=_0x4187a0(_0x548494[_0x339e3c(0x777)][_0x339e3c(0x271)],_0x1142a9['id'],this['remoteId']);this[_0x339e3c(0x3df)][_0x339e3c(0x7ae)](_0x8c77a)?.[_0x339e3c(0x70e)]({'topicLabel':_0x8c77a,'sourceId':this[_0x339e3c(0x7da)],'contentType':_0x548494[_0x339e3c(0x777)][_0x339e3c(0x271)],'content':{'action':_0x222a1e[_0x339e3c(0x959)],'track':_0x32f98e,'stream':_0x1142a9,'providerId':this[_0x339e3c(0x7da)]}});})),this[_0x4eaacb(0x51d)][_0x4eaacb(0x639)](this['onRemoveTrack']((_0x5c17d2,_0x4b5fb0)=>{const _0x5f2bde=_0x4eaacb,_0x3f7c38=_0x4187a0(_0x548494[_0x5f2bde(0x777)][_0x5f2bde(0x271)],_0x4b5fb0['id'],this[_0x5f2bde(0x7da)]);this[_0x5f2bde(0x3df)][_0x5f2bde(0x7ae)](_0x3f7c38)?.[_0x5f2bde(0x70e)]({'topicLabel':_0x3f7c38,'sourceId':this[_0x5f2bde(0x7da)],'contentType':_0x548494[_0x5f2bde(0x777)]['Media'],'content':{'action':_0x222a1e['RemoteRemove'],'track':_0x5c17d2,'stream':_0x4b5fb0,'providerId':this['remoteId']}});}));}[_0x3fd00f(0x77a)]({candidates:_0x2ed413,origin:_0x258ae0,version:_0x52cc5b}){const _0x3b2416=_0x3fd00f;return _0x258ae0===_0x5c51d6[_0x3b2416(0x6cd)]?(this['receiverConnection']||this[_0x3b2416(0x965)](),this[_0x3b2416(0x9ee)][_0x3b2416(0x9e7)](_0x2ed413,_0x52cc5b)):this[_0x3b2416(0xaba)][_0x3b2416(0x9e7)](_0x2ed413,_0x52cc5b);}async[_0x3fd00f(0x7d8)](){const _0x51f191=_0x3fd00f;this['senderConnection']||this[_0x51f191(0x9c2)](),await this[_0x51f191(0xaba)][_0x51f191(0x7d8)]();}async[_0x3fd00f(0x549)]({offer:_0x1fb7c6,version:_0x411ee8}){const _0x203cfe=_0x3fd00f;this[_0x203cfe(0x9ee)]||this[_0x203cfe(0x965)](),await this['receiverConnection'][_0x203cfe(0x549)](_0x1fb7c6,_0x411ee8);}async[_0x3fd00f(0x8f5)]({answer:_0x16fcc6,version:_0x251645}){const _0x317b18=_0x3fd00f;if(!this[_0x317b18(0xaba)])throw new _0x5d70cf(_0x5d70cf[_0x317b18(0x765)][_0x317b18(0x16e)],{'message':_0x317b18(0x646),'localId':this[_0x317b18(0x51c)](),'remoteId':this['remoteId'],'answer':_0x16fcc6});await this[_0x317b18(0xaba)]['handleAnswer'](_0x16fcc6,_0x251645);}['handleSuccess'](){const _0x58267c=_0x3fd00f;if(!this[_0x58267c(0x9ee)])throw new _0x5d70cf(_0x5d70cf[_0x58267c(0x765)][_0x58267c(0x16e)],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x58267c(0x51c)](),'remoteId':this['remoteId']});this[_0x58267c(0x9ee)][_0x58267c(0x410)](),this[_0x58267c(0x544)]||this['connectionType']!==_0x4f2237[_0x58267c(0xa38)]||(this[_0x58267c(0x544)]=!0x0,this['systemTopic']?.[_0x58267c(0x70e)]({'sourceId':this[_0x58267c(0x7da)],'destinationIds':[this['getLocalId']()],'messageType':_0x519af0[_0x58267c(0x4b7)],'content':{'type':_0x11455d[_0x58267c(0xa66)]}}));}[_0x3fd00f(0x489)](_0x276f8b){const _0x2736b5=_0x3fd00f;this[_0x2736b5(0x9ee)]||this['createReceiverConnection'](),this['receiverConnection'][_0x2736b5(0x489)](_0x276f8b['version']);}[_0x3fd00f(0x9c2)](){const _0x421047=_0x3fd00f;this[_0x421047(0xaba)]=new _0x525acd(this[_0x421047(0x9c0)],this[_0x421047(0x976)],this['remoteId'],this[_0x421047(0x62f)],this['connectionType'],this[_0x421047(0x85c)],this['maxBpp'],this[_0x421047(0x7f5)]),this[_0x421047(0xaba)]['registerSystemPublisher'](this[_0x421047(0x5cb)]);}[_0x3fd00f(0x965)](){const _0x26948c=_0x3fd00f;this[_0x26948c(0x9ee)]=new _0xdc67e6(this[_0x26948c(0x9c0)],this['localNode'],this[_0x26948c(0x7da)],this['iceServers'],this['connectionType'],this[_0x26948c(0x7f5)]),this[_0x26948c(0x9ee)][_0x26948c(0xaf2)](this['systemTopic']),this[_0x26948c(0x1d7)][_0x26948c(0x639)](this[_0x26948c(0x9ee)][_0x26948c(0xa7f)](_0x5949f5=>this[_0x26948c(0x54c)]['publish'](_0x5949f5))),this[_0x26948c(0x1d7)][_0x26948c(0x639)](this['receiverConnection']['onTrack']((_0x1cb620,_0xa60fd)=>this['trackListeners'][_0x26948c(0x70e)]({'track':_0x1cb620,'stream':_0xa60fd}))),this[_0x26948c(0x1d7)][_0x26948c(0x639)](this['receiverConnection'][_0x26948c(0x629)]((_0x584d63,_0x55a7d9)=>this[_0x26948c(0xa34)]['publish']({'track':_0x584d63,'stream':_0x55a7d9})));}}class _0x4f72f8{[_0x3fd00f(0x50c)];[_0x3fd00f(0x7b8)];['graphService'];[_0x3fd00f(0x7df)]=new Map();[_0x3fd00f(0x54c)]=_0x4767cf();[_0x3fd00f(0x725)];[_0x3fd00f(0xab6)]=new Map();['dataUnsubscribers']=new Map();['retryQueues']=new Map();constructor(_0x3288f7,_0x5d048b,_0xfa7018){const _0x3b941b=_0x3fd00f;this[_0x3b941b(0x50c)]=_0x3288f7,this['messageBuffer']=_0x5d048b,this['graphService']=_0xfa7018,this['messageUnsubscriber']=this[_0x3b941b(0xa7f)](_0x3de1c1=>{const _0x4e90eb=_0x3b941b;this[_0x4e90eb(0x7b8)][_0x4e90eb(0x1a1)](_0x3de1c1[_0x4e90eb(0x863)])||(_0x99b822(_0x3de1c1,this[_0x4e90eb(0x50c)])&&0x0!==_0x3de1c1[_0x4e90eb(0x655)]&&(this[_0x4e90eb(0x7b8)][_0x4e90eb(0xa86)](_0x3de1c1[_0x4e90eb(0x863)]),this[_0x4e90eb(0xab6)]['get'](_0x3de1c1[_0x4e90eb(0x655)])?.[_0x4e90eb(0x70e)](_0x3de1c1)),_0x3de1c1['propagate']&&this[_0x4e90eb(0x5b8)](_0x3de1c1));});}['close'](){const _0x5a4ec5=_0x3fd00f;this[_0x5a4ec5(0x725)]?.();}[_0x3fd00f(0x5bd)](_0x4b1cb2){const _0x53b532=_0x3fd00f,_0x19a76c=_0x4b1cb2[_0x53b532(0xa7f)](_0x96af9c=>{const _0xf98efa=_0x53b532;this['messageListeners'][_0xf98efa(0x70e)](_0x96af9c);});this[_0x53b532(0x7df)][_0x53b532(0x1f5)](_0x4b1cb2,_0x19a76c),this[_0x53b532(0x6dc)][_0x53b532(0x1f5)](_0x4b1cb2['getRemoteId'](),function(_0x5075d8,_0x171a8f=!0x1){let _0x33b129=new Map();const _0x3238bc=_0x589b2a(_0x5075d8,_0x171a8f,function(_0x34ac94){const _0x4f137a=a0_0x38ff;_0x5d83a3(_0x34ac94)&&_0x33b129[_0x4f137a(0x92b)](_0x34ac94[_0x4f137a(0x42a)]+'-'+(_0x34ac94[_0x4f137a(0x98e)]??[])+'-'+_0x34ac94['messageType']+'-'+_0x34ac94['content'][_0x4f137a(0x705)]);},function(_0x1ff339){return!!function(_0x138b04){const _0x56e5e2=a0_0x38ff,_0x3c4d1b=_0x138b04[_0x56e5e2(0x69a)];if(!_0x5d83a3(_0x3c4d1b))return!0x1;const _0x1b087c=_0x3c4d1b[_0x56e5e2(0x42a)]+'-'+(_0x3c4d1b['destinationIds']??[])+'-'+_0x3c4d1b[_0x56e5e2(0xa81)]+'-'+_0x3c4d1b[_0x56e5e2(0xaf0)][_0x56e5e2(0x705)],_0x3cc861={'version':_0x3c4d1b[_0x56e5e2(0xaf0)][_0x56e5e2(0x6b6)],'element':_0x138b04},_0x5dd517=_0x33b129['get'](_0x1b087c);return _0x5dd517?(_0x5dd517[_0x56e5e2(0x6b6)]>=_0x3c4d1b[_0x56e5e2(0xaf0)][_0x56e5e2(0x6b6)]||(_0x5dd517[_0x56e5e2(0x9d8)][_0x56e5e2(0x293)]&&(_0x5dd517[_0x56e5e2(0x9d8)][_0x56e5e2(0x293)][_0x56e5e2(0xa54)]=_0x138b04,_0x138b04[_0x56e5e2(0x293)]=_0x5dd517[_0x56e5e2(0x9d8)][_0x56e5e2(0x293)]),_0x5dd517[_0x56e5e2(0x9d8)]['next']&&(_0x5dd517['element'][_0x56e5e2(0xa54)][_0x56e5e2(0x293)]=_0x138b04,_0x138b04['next']=_0x5dd517[_0x56e5e2(0x9d8)]['next']),_0x5dd517[_0x56e5e2(0x9d8)]===_0x3238bc[_0x56e5e2(0x53e)]&&(_0x3238bc[_0x56e5e2(0x53e)]=_0x138b04),_0x5dd517[_0x56e5e2(0x9d8)]===_0x3238bc[_0x56e5e2(0x22e)]&&(_0x3238bc[_0x56e5e2(0x22e)]=_0x138b04),_0x33b129[_0x56e5e2(0x1f5)](_0x1b087c,_0x3cc861)),!0x0):(_0x33b129[_0x56e5e2(0x1f5)](_0x1b087c,_0x3cc861),!0x1);}(_0x1ff339);},function(){const _0x385475=a0_0x38ff;_0x33b129[_0x385475(0x7e7)]();});function _0x5d83a3(_0x44f6f3){const _0x5df38c=a0_0x38ff;if(_0x44f6f3&&_0x5df38c(0x9a9)==typeof _0x44f6f3&&_0x44f6f3['hasOwnProperty'](_0x5df38c(0xaf0))&&_0x44f6f3['hasOwnProperty'](_0x5df38c(0xa81))&&_0x44f6f3['hasOwnProperty'](_0x5df38c(0x42a))){const _0xe3f3e6=_0x44f6f3;if(_0xe3f3e6[_0x5df38c(0xaf0)]&&_0x5df38c(0x9a9)==typeof _0xe3f3e6[_0x5df38c(0xaf0)]&&_0xe3f3e6[_0x5df38c(0xaf0)][_0x5df38c(0xa76)](_0x5df38c(0x6b6))&&_0xe3f3e6['content'][_0x5df38c(0xa76)](_0x5df38c(0x705)))return!0x0;}return!0x1;}return _0x3238bc;}(new _0x438ceb(_0x19b7bc=>_0x4b1cb2[_0x53b532(0x5b8)](_0x19b7bc),()=>_0xa2c3bc[_0x53b532(0x3fd)](0x64))));}['removeConnection'](_0x48cf50){const _0x307451=_0x3fd00f;this[_0x307451(0x7df)][_0x307451(0x7ae)](_0x48cf50)?.(),this[_0x307451(0x7df)]['delete'](_0x48cf50),this[_0x307451(0x6dc)][_0x307451(0x7ae)](_0x48cf50[_0x307451(0x958)]())?.[_0x307451(0x7e7)](),this[_0x307451(0x6dc)][_0x307451(0x92b)](_0x48cf50[_0x307451(0x958)]());}[_0x3fd00f(0xac9)](_0x397633){const _0xe56c=_0x3fd00f;return _0x404abe[_0xe56c(0x327)](_0x20ff7d['ConnectionState'],_0xe56c(0x55f),this[_0xe56c(0x50c)],this[_0xe56c(0x7df)][_0xe56c(0x566)]()),0x0!==this[_0xe56c(0x7df)][_0xe56c(0x66a)]&&(Array['from'](this['connections'][_0xe56c(0x566)]())[_0xe56c(0x78b)](_0x7301c7=>_0x7301c7[_0xe56c(0x958)]()===_0x397633)?.[_0xe56c(0xac9)]()??!0x1);}['registerPublisher'](_0x30d42e){this['dataTopics']['set'](_0x30d42e['getLabel'](),_0x30d42e);}['unregisterPublisher'](_0x2fcf89){const _0x3e97a4=_0x3fd00f;this[_0x3e97a4(0xab6)][_0x3e97a4(0x92b)](_0x2fcf89[_0x3e97a4(0x891)]());}[_0x3fd00f(0x1d6)](_0x55b3d5){const _0x5dc651=_0x3fd00f,_0x30adcf=_0x55b3d5['subscribe'](this[_0x5dc651(0x5b8)][_0x5dc651(0x167)](this));this[_0x5dc651(0xa1b)]['set'](_0x55b3d5[_0x5dc651(0x891)](),_0x30adcf);}[_0x3fd00f(0x2c9)](_0x481b1b){const _0x29b5ca=_0x3fd00f;this[_0x29b5ca(0xa1b)][_0x29b5ca(0x7ae)](_0x481b1b[_0x29b5ca(0x891)]())?.(),this['dataUnsubscribers'][_0x29b5ca(0x92b)](_0x481b1b[_0x29b5ca(0x891)]());}[_0x3fd00f(0x29a)](){const _0x315fa7=_0x3fd00f;return[_0x548494[_0x315fa7(0x777)][_0x315fa7(0x3cd)],_0x548494['ContentType']['PubSub'],_0x548494[_0x315fa7(0x777)]['ObjectStore'],_0x548494[_0x315fa7(0x777)][_0x315fa7(0x1af)],_0x548494[_0x315fa7(0x777)][_0x315fa7(0x20d)],_0x548494[_0x315fa7(0x777)]['VectorDatabase'],_0x548494['ContentType']['GraphDatabase'],_0x548494[_0x315fa7(0x777)][_0x315fa7(0x979)]];}[_0x3fd00f(0x5b8)](_0x50ba61){const _0x1c43f8=_0x3fd00f;if(!0x1===_0x50ba61['retry']){if(_0x50ba61['propagate']||!_0x50ba61[_0x1c43f8(0x98e)]||0x1!==_0x50ba61[_0x1c43f8(0x98e)]['length'])throw new _0x5d70cf(_0x5d70cf[_0x1c43f8(0x765)][_0x1c43f8(0x1ab)],{'message':_0x1c43f8(0x249),'localId':this[_0x1c43f8(0x50c)]});if(!this[_0x1c43f8(0xac9)](_0x50ba61[_0x1c43f8(0x98e)][0x0]))throw new _0x460c4e(_0x1c43f8(0x79e));}const _0x7abd29=_0x50ba61[_0x1c43f8(0xaf7)]??[];try{const {filteredDestinationIds:_0x56abe8,extendedRecipients:_0xd28433}=this['updatePropagationProperties'](_0x50ba61,_0x7abd29);_0x50ba61[_0x1c43f8(0x98e)]=_0x56abe8,_0x50ba61[_0x1c43f8(0xaf7)]=_0xd28433;}catch(_0x555b78){if(_0x555b78 instanceof _0x460c4e)return void _0x404abe['log'](_0x20ff7d[_0x1c43f8(0x48d)],_0x1c43f8(0x5f4),_0x1c43f8(0x860),_0x50ba61,_0x555b78[_0x1c43f8(0x382)]);}const _0xd898a0=this[_0x1c43f8(0xad7)](_0x50ba61);this[_0x1c43f8(0x1ba)](_0x50ba61,_0xd898a0),_0x50ba61[_0x1c43f8(0x590)]=_0xd898a0;const _0x4676be=this['getConnectionDestinations'](_0x50ba61,_0x7abd29);for(const _0x4b3e32 of _0x4676be){const _0x87c64b=this[_0x1c43f8(0x6dc)][_0x1c43f8(0x7ae)](_0x4b3e32['getRemoteId']());if(!_0x87c64b)throw new _0x5d70cf(_0x5d70cf[_0x1c43f8(0x765)][_0x1c43f8(0x9e9)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0x1c43f8(0x50c)],'remoteId':_0x4b3e32['getRemoteId'](),'data':_0x50ba61});_0x87c64b['push'](_0x50ba61);}}[_0x3fd00f(0x958)](){return'';}[_0x3fd00f(0x51c)](){const _0x25e6a5=_0x3fd00f;return this[_0x25e6a5(0x50c)];}[_0x3fd00f(0xa7f)](_0x469a7a){const _0x2e8d73=_0x3fd00f;return this[_0x2e8d73(0x54c)][_0x2e8d73(0x84f)](_0x469a7a);}[_0x3fd00f(0x86a)](_0x2290b5,_0x56c147){const _0x40ce0a=_0x3fd00f,_0x38a86c={'filteredDestinationIds':_0x2290b5[_0x40ce0a(0x98e)],'extendedRecipients':_0x2290b5[_0x40ce0a(0xaf7)]};if(!_0x2290b5[_0x40ce0a(0x590)])return _0x38a86c;const _0x9abe18=Array[_0x40ce0a(0x4f7)](this[_0x40ce0a(0x7df)][_0x40ce0a(0x566)]())['filter'](_0x55b0ab=>_0x55b0ab[_0x40ce0a(0x7a3)]()===_0x4f2237[_0x40ce0a(0x9f7)]||_0x55b0ab[_0x40ce0a(0xac9)]())[_0x40ce0a(0x23d)](_0xa7d5d7=>_0xa7d5d7[_0x40ce0a(0x958)]());if(_0x9abe18[_0x40ce0a(0x9b1)]((_0x3e1046,_0x44cc89)=>_0x3e1046&&_0x2290b5[_0x40ce0a(0xaf7)][_0x40ce0a(0x7ac)](_0x44cc89),!0x0))throw new _0x460c4e('All\x20recipients\x20already\x20received');if(_0x2290b5[_0x40ce0a(0x98e)]){const _0x4fb9a3=_0x2290b5[_0x40ce0a(0x98e)][_0x40ce0a(0x69d)](_0x2362dd=>_0x2362dd!==this[_0x40ce0a(0x50c)]&&!_0x2290b5['recipients'][_0x40ce0a(0x7ac)](_0x2362dd));if(0x0===_0x4fb9a3['length'])throw new _0x460c4e(_0x40ce0a(0x81c));_0x38a86c['filteredDestinationIds']=_0x4fb9a3;}return _0x38a86c[_0x40ce0a(0x395)]=[...new Set([..._0x56c147,..._0x9abe18,this[_0x40ce0a(0x50c)]])],_0x38a86c;}[_0x3fd00f(0x1ba)](_0x30106d,_0x428d3d=!0x1){const _0x528b0c=_0x3fd00f;if(0x0===_0x30106d['topicLabel']&&!_0x2f0e28(_0x30106d,this[_0x528b0c(0x50c)])&&_0x30106d[_0x528b0c(0x590)]){const _0x14cec2=_0x160028(_0x30106d,this[_0x528b0c(0x50c)]);_0x404abe[_0x528b0c(0xa0f)](_0x20ff7d[_0x528b0c(0x8d7)],_0x30106d[_0x528b0c(0x863)]+_0x528b0c(0x320)+_0x428d3d+')\x20'+_0x14cec2,_0x30106d,_0x428d3d);}}[_0x3fd00f(0xad7)](_0x554fcf){const _0x5d6f47=_0x3fd00f;if(_0x554fcf['destinationIds']&&_0x554fcf[_0x5d6f47(0x590)]){const _0x107ab8=Array[_0x5d6f47(0x4f7)](this[_0x5d6f47(0x7df)][_0x5d6f47(0x566)]())['filter'](_0x30d140=>_0x30d140[_0x5d6f47(0x7a3)]()===_0x4f2237[_0x5d6f47(0x9f7)]||_0x30d140[_0x5d6f47(0xac9)]())[_0x5d6f47(0x23d)](_0x25dfcc=>_0x25dfcc[_0x5d6f47(0x958)]());return!_0x554fcf[_0x5d6f47(0x98e)][_0x5d6f47(0x9b1)]((_0x451a45,_0xe6f40e)=>_0x451a45&&_0x107ab8[_0x5d6f47(0x7ac)](_0xe6f40e),!0x0);}return _0x554fcf['propagate']??!0x1;}['getConnectionDestinations'](_0x37392b,_0x52bf21){const _0x327e19=_0x3fd00f;if(_0x37392b['propagate']&&_0x37392b[_0x327e19(0x98e)]){const _0x3ae4e1=Array[_0x327e19(0x4f7)](this[_0x327e19(0x7df)][_0x327e19(0x566)]())[_0x327e19(0x69d)](_0x16b76d=>_0x16b76d['getConnectionType']()===_0x4f2237['Core']||_0x16b76d[_0x327e19(0xac9)]())[_0x327e19(0x23d)](_0x555f25=>_0x555f25[_0x327e19(0x958)]()),_0x15fbe3=new Set(),_0x22364b=_0x37392b[_0x327e19(0x42a)]===this[_0x327e19(0x50c)]?0x3:0x1;return _0x37392b[_0x327e19(0x98e)][_0x327e19(0x3e1)](_0xe6e5c=>{const _0x468a1f=_0x327e19,_0x23465d=this['graphService'][_0x468a1f(0x533)](_0x3ae4e1,_0xe6e5c);let _0x328fd7=0x0,_0x194c8b=0x0;_0x23465d[_0x468a1f(0x3e1)](_0x2ced76=>{const _0x4b1a46=_0x468a1f;if(_0x328fd7>=_0x22364b)return;const _0x580894=Array[_0x4b1a46(0x4f7)](this[_0x4b1a46(0x7df)]['keys']())[_0x4b1a46(0x78b)](_0x4af946=>_0x4af946['getRemoteId']()===_0x2ced76);if(_0x580894){if(_0x580894['getConnectionType']()===_0x4f2237[_0x4b1a46(0x9f7)]&&_0x194c8b>0x0)return void(_0x194c8b-=0x1);_0x15fbe3[_0x4b1a46(0x30b)](_0x580894),_0x580894['getConnectionType']()===_0x4f2237['Optimization']&&(_0x194c8b+=0x1),_0x328fd7+=0x1;}});}),Array[_0x327e19(0x4f7)](_0x15fbe3);}return Array['from'](this[_0x327e19(0x7df)][_0x327e19(0x566)]())[_0x327e19(0x69d)](_0x2805e2=>{const _0x56e628=_0x327e19;return _0x595279=_0x2805e2[_0x56e628(0x958)](),!_0x52bf21['includes'](_0x595279)&&(_0x99b822(_0x37392b,_0x595279)||_0x37392b['propagate'])&&(!_0x37392b[_0x56e628(0x590)]||_0x2805e2[_0x56e628(0xac9)]()||_0x2805e2[_0x56e628(0x7a3)]()===_0x4f2237['Core']);var _0x595279;});}}class _0x2afb91{[_0x3fd00f(0x50c)];['messageBuffer'];[_0x3fd00f(0x7df)]=new Map();[_0x3fd00f(0x5cb)];constructor(_0x22830d,_0x55dbd8){const _0x2890e0=_0x3fd00f;this[_0x2890e0(0x50c)]=_0x22830d,this[_0x2890e0(0x7b8)]=_0x55dbd8;}[_0x3fd00f(0x883)](){}[_0x3fd00f(0x5b8)](_0x4e621e){const _0x50abb6=_0x3fd00f;for(const _0x263580 of this[_0x50abb6(0x7df)]['keys']())try{return void _0x263580[_0x50abb6(0x5b8)]({'retry':!0x1,..._0x4e621e});}catch(_0x1e8e87){_0x1e8e87 instanceof _0x460c4e||_0x404abe[_0x50abb6(0x327)](_0x20ff7d[_0x50abb6(0x574)],_0x50abb6(0x7f8)+_0x263580,_0x1e8e87,_0x4e621e);}_0x404abe[_0x50abb6(0x327)](_0x20ff7d['Pool'],'No\x20connections\x20available\x20to\x20send\x20message');}['addConnection'](_0x6c0ea){const _0x4e0db0=_0x3fd00f,_0x265752=_0x6c0ea[_0x4e0db0(0xa7f)](_0x2c3b5b=>{const _0x336947=_0x4e0db0;this[_0x336947(0x7b8)][_0x336947(0x1a1)](_0x2c3b5b[_0x336947(0x863)])||0x0===_0x2c3b5b['topicLabel']&&(this[_0x336947(0x7b8)][_0x336947(0xa86)](_0x2c3b5b[_0x336947(0x863)]),_0x99b822(_0x2c3b5b,this[_0x336947(0x50c)])&&this['systemTopic']?.[_0x336947(0x70e)](_0x2c3b5b));});this[_0x4e0db0(0x7df)][_0x4e0db0(0x1f5)](_0x6c0ea,_0x265752);}['removeConnection'](_0x1ff99b){const _0x5f1c4d=_0x3fd00f;this[_0x5f1c4d(0x7df)][_0x5f1c4d(0x7ae)](_0x1ff99b)?.(),this[_0x5f1c4d(0x7df)][_0x5f1c4d(0x92b)](_0x1ff99b);}[_0x3fd00f(0x51c)](){const _0x2cfdab=_0x3fd00f;return this[_0x2cfdab(0x50c)];}[_0x3fd00f(0x958)](){return'';}['getSupportedContentTypes'](){const _0x240c18=_0x3fd00f;return[_0x548494[_0x240c18(0x777)][_0x240c18(0x3cd)]];}[_0x3fd00f(0xac9)](){const _0xbdd45a=_0x3fd00f;throw new Error(_0xbdd45a(0xa5d));}[_0x3fd00f(0xaf2)](_0x249966){const _0x1198ef=_0x3fd00f;this[_0x1198ef(0x5cb)]=_0x249966;}['unregisterSystemPublisher'](){const _0x192781=_0x3fd00f;delete this[_0x192781(0x5cb)];}}class _0xf9f478{[_0x3fd00f(0x8a1)]=new Map();[_0x3fd00f(0x512)];constructor(){const _0x43bf26=_0x3fd00f;this[_0x43bf26(0x512)]=_0xa2c3bc[_0x43bf26(0x2a8)](()=>{const _0x5d151f=_0x43bf26;for(const [_0x4fc064,_0x236aad]of this[_0x5d151f(0x8a1)][_0x5d151f(0x4c9)]())Date['now']()-_0x236aad>0x124f80&&this[_0x5d151f(0x8a1)][_0x5d151f(0x92b)](_0x4fc064);},0x1d4c0);}[_0x3fd00f(0x883)](){const _0x51bb38=_0x3fd00f;this[_0x51bb38(0x512)]();}[_0x3fd00f(0xa86)](_0xdcedee){const _0x3edc65=_0x3fd00f;this['buffer'][_0x3edc65(0x1f5)](_0xdcedee,Date[_0x3edc65(0x441)]());}[_0x3fd00f(0x1a1)](_0x16703e){const _0x2a193c=_0x3fd00f;return this['buffer'][_0x2a193c(0x68d)](_0x16703e);}}class _0x5165f4{[_0x3fd00f(0x470)];['authService'];[_0x3fd00f(0x62f)];[_0x3fd00f(0x314)];['connections']=new Map();['connectionPool'];[_0x3fd00f(0x3c2)];[_0x3fd00f(0x950)];[_0x3fd00f(0x7b8)];constructor(_0x250f58,_0x5df23d,_0x1a3bee,_0x2f8129,_0xc0010c){const _0x141288=_0x3fd00f;this['configs']=_0x250f58,this['authService']=_0x5df23d,this['iceServers']=_0x2f8129,this[_0x141288(0x314)]=_0xc0010c,this[_0x141288(0x7b8)]=new _0xf9f478(),this[_0x141288(0x3c2)]=new _0x4f72f8(this[_0x141288(0x470)][_0x141288(0x976)]['getId'](),this['messageBuffer'],_0x1a3bee),this[_0x141288(0x950)]=new _0x198e06(this[_0x141288(0x470)][_0x141288(0x3ee)],this[_0x141288(0x470)][_0x141288(0x9c0)],this[_0x141288(0x470)][_0x141288(0x976)],'server',this[_0x141288(0x981)]),this[_0x141288(0x1dc)]=new _0x2afb91(this['configs']['localNode']['getId'](),this['messageBuffer']),this[_0x141288(0x1dc)][_0x141288(0x5bd)](this[_0x141288(0x3c2)]),this['connectionPool'][_0x141288(0x5bd)](this[_0x141288(0x950)]),this[_0x141288(0x470)][_0x141288(0xa68)][_0x141288(0x3f8)](this[_0x141288(0x1dc)]);}[_0x3fd00f(0x883)](){const _0x42a250=_0x3fd00f;this['messageBuffer'][_0x42a250(0x883)](),this[_0x42a250(0x7df)]['forEach']((_0x417a3d,_0x33f931)=>this['closeConnection'](_0x33f931)),this[_0x42a250(0x470)][_0x42a250(0xa68)][_0x42a250(0xabc)](this['connectionPool']),this[_0x42a250(0x1dc)]['removeConnection'](this[_0x42a250(0x950)]),this[_0x42a250(0x1dc)][_0x42a250(0x506)](this[_0x42a250(0x3c2)]),this['connectionPool'][_0x42a250(0x883)](),this[_0x42a250(0x950)][_0x42a250(0x883)](),this[_0x42a250(0x3c2)][_0x42a250(0x883)]();}async[_0x3fd00f(0x2d7)](){const _0xf147ef=_0x3fd00f;await this[_0xf147ef(0x950)][_0xf147ef(0x79d)]();}async[_0x3fd00f(0x310)](_0x5250d9,_0xe6058c=_0x4f2237['Core']){const _0x1614ec=_0x3fd00f;if(this[_0x1614ec(0x7df)]['has'](_0x5250d9)){if(this['connections'][_0x1614ec(0x7ae)](_0x5250d9)?.[_0x1614ec(0x7a3)]()===_0x4f2237[_0x1614ec(0xa38)]&&_0xe6058c===_0x4f2237['Core'])return void this[_0x1614ec(0x7df)]['get'](_0x5250d9)?.['setConnectionType'](_0x4f2237[_0x1614ec(0x9f7)]);throw new _0x5d70cf(_0x5d70cf[_0x1614ec(0x765)][_0x1614ec(0xa47)],{'localId':this[_0x1614ec(0x470)][_0x1614ec(0x976)][_0x1614ec(0xb04)](),'remoteId':_0x5250d9});}const _0x202f6d=new _0x567785(this[_0x1614ec(0x470)][_0x1614ec(0x9c0)],this[_0x1614ec(0x470)][_0x1614ec(0x976)],_0x5250d9,this[_0x1614ec(0x62f)],_0xe6058c,this[_0x1614ec(0x314)][_0x1614ec(0x85c)],this[_0x1614ec(0x314)]['maxBpp'],this[_0x1614ec(0x314)][_0x1614ec(0x480)]);this[_0x1614ec(0x7df)]['set'](_0x5250d9,_0x202f6d),this[_0x1614ec(0x3c2)][_0x1614ec(0x5bd)](_0x202f6d),this['configs']['mediator'][_0x1614ec(0x3f8)](_0x202f6d),this[_0x1614ec(0x470)][_0x1614ec(0xa68)][_0x1614ec(0x656)](_0x5250d9),await _0x202f6d[_0x1614ec(0x79d)]();}['getConnectionGroup'](){const _0x193321=_0x3fd00f;return this[_0x193321(0x3c2)];}[_0x3fd00f(0x1fb)](_0x3c5deb){const _0x2d6d58=_0x3fd00f;if(!this['connections'][_0x2d6d58(0x68d)](_0x3c5deb))throw new _0x5d70cf(_0x5d70cf[_0x2d6d58(0x765)][_0x2d6d58(0x8c0)],{'localId':this['configs'][_0x2d6d58(0x976)][_0x2d6d58(0xb04)](),'remoteId':_0x3c5deb});return this[_0x2d6d58(0x7df)][_0x2d6d58(0x7ae)](_0x3c5deb);}['getConnections'](_0x423a7d){const _0xacd621=_0x3fd00f,_0x51800d=Array['from'](this['connections'][_0xacd621(0x16a)]());return _0x423a7d?_0x51800d[_0xacd621(0x69d)](_0x423a7d):_0x51800d;}async['collectStats'](_0x41527d){const _0x1f22f2=_0x3fd00f,_0x5a3f9b=this['connections'][_0x1f22f2(0x7ae)](_0x41527d);_0x5a3f9b&&_0x5a3f9b[_0x1f22f2(0xac9)]()&&await _0x5a3f9b['collectStats']();}[_0x3fd00f(0x9a4)](_0x3ef4e8){const _0x425d2b=_0x3fd00f;if(_0x3ef4e8[_0x425d2b(0xa81)]!==_0x519af0[_0x425d2b(0x4b7)]||_0x3ef4e8['propagate'])try{this[_0x425d2b(0x3c2)]['send'](_0x3ef4e8);}catch(_0xbc25e8){if(_0xbc25e8 instanceof _0x460c4e)return;throw _0xbc25e8;}else this[_0x425d2b(0x1dc)][_0x425d2b(0x5b8)](_0x3ef4e8);}async[_0x3fd00f(0x9b0)](_0x41140f){const _0x2b440d=_0x3fd00f;switch(_0x41140f[_0x2b440d(0xaf0)][_0x2b440d(0x705)]){case _0x11455d[_0x2b440d(0x6fd)]:case _0x11455d[_0x2b440d(0x3eb)]:case _0x11455d['OptimizationConnectionSuccess']:return;}if(!_0x41140f[_0x2b440d(0x98e)]||0x1!==_0x41140f[_0x2b440d(0x98e)]['length'])throw new _0x5d70cf(_0x5d70cf['codes'][_0x2b440d(0x1f2)],{'message':_0x2b440d(0x580),'event':_0x41140f});if(_0x41140f[_0x2b440d(0x98e)][0x0]!==this[_0x2b440d(0x470)][_0x2b440d(0x976)][_0x2b440d(0xb04)]())throw new _0x5d70cf(_0x5d70cf['codes'][_0x2b440d(0x1f2)],{'message':_0x2b440d(0x245),'event':_0x41140f});if(!this[_0x2b440d(0x7df)][_0x2b440d(0x68d)](_0x41140f[_0x2b440d(0x42a)])){let _0x10067a=_0x4f2237[_0x2b440d(0x9f7)];if(!(this[_0x2b440d(0x579)](_0x41140f[_0x2b440d(0xaf0)])||this[_0x2b440d(0x856)](_0x41140f[_0x2b440d(0xaf0)])||this[_0x2b440d(0x44f)](_0x41140f[_0x2b440d(0xaf0)])))return;_0x10067a=_0x41140f[_0x2b440d(0xaf0)][_0x2b440d(0x1a0)],await this[_0x2b440d(0x310)](_0x41140f['sourceId'],_0x10067a);}const _0x36b83c=this[_0x2b440d(0x7df)][_0x2b440d(0x7ae)](_0x41140f['sourceId']);await _0x36b83c[_0x2b440d(0x9b0)](_0x41140f);}[_0x3fd00f(0x1ec)](_0x104494){const _0x23f223=_0x3fd00f;if(_0x104494[_0x23f223(0xaf0)]['type']===_0x136a13['Remediation']){if(_0x104494[_0x23f223(0xaf0)][_0x23f223(0x902)]===this[_0x23f223(0x470)][_0x23f223(0x976)][_0x23f223(0xb04)]())return void this['connections'][_0x23f223(0x3e1)](_0x208dcd=>_0x208dcd[_0x23f223(0x1ec)](_0x104494));this[_0x23f223(0x7df)]['get'](_0x104494[_0x23f223(0xaf0)][_0x23f223(0x902)])?.[_0x23f223(0x1ec)](_0x104494);}}['handleNodeSystemEvents']({content:_0x29709b}){const _0x308e9e=_0x3fd00f;_0x29709b[_0x308e9e(0x705)]===_0x328b54[_0x308e9e(0x7fb)]&&this['closeConnection'](_0x29709b['id']);}['waitForArrayBufferSize'](){const _0x564077=_0x3fd00f,_0x49b7bd=Array[_0x564077(0x4f7)](this[_0x564077(0x7df)][_0x564077(0x16a)]())[_0x564077(0x9b1)]((_0x536e3c,_0x2cee3e)=>_0x536e3c+_0x2cee3e[_0x564077(0x24b)](),0x0);return _0x49b7bd<_0x1da4e6?Promise[_0x564077(0x427)](_0x49b7bd):new Promise(_0xa1aff6=>{const _0xfbfe81=setInterval(()=>{const _0x4d6b6d=a0_0x38ff,_0x2a3b97=Array[_0x4d6b6d(0x4f7)](this['connections'][_0x4d6b6d(0x16a)]())[_0x4d6b6d(0x9b1)]((_0x60a27a,_0x196ebe)=>_0x60a27a+_0x196ebe[_0x4d6b6d(0x24b)](),0x0);_0x2a3b97<_0x1da4e6&&(clearInterval(_0xfbfe81),_0xa1aff6(_0x2a3b97));},0x3e8);});}[_0x3fd00f(0x786)](){const _0x54464f=_0x3fd00f;for(const _0x585fdd of this[_0x54464f(0x7df)][_0x54464f(0x16a)]())if(_0x585fdd[_0x54464f(0xacf)]()>0x0||_0x585fdd[_0x54464f(0x24b)]()>0x0)return!0x0;return!0x1;}[_0x3fd00f(0x88a)](_0x1de84c){const _0x21188a=_0x3fd00f,_0x15764f=this[_0x21188a(0x7df)][_0x21188a(0x7ae)](_0x1de84c);_0x15764f&&(this[_0x21188a(0x470)][_0x21188a(0xa68)][_0x21188a(0x82d)](_0x1de84c),this[_0x21188a(0x470)][_0x21188a(0xa68)]['unregisterSystemSource'](_0x15764f),_0x15764f instanceof _0x567785&&this['connectionGroup']['removeConnection'](_0x15764f),_0x15764f[_0x21188a(0x883)](),this['connections'][_0x21188a(0x92b)](_0x1de84c));}[_0x3fd00f(0x579)](_0x9483b7){const _0x1137b9=_0x3fd00f;return _0x9483b7[_0x1137b9(0x705)]===_0x11455d[_0x1137b9(0x8b2)];}[_0x3fd00f(0x44f)](_0x2ef502){return _0x2ef502['type']===_0x11455d['NeedRestart'];}[_0x3fd00f(0x856)](_0x1490bf){const _0x282017=_0x3fd00f;return _0x1490bf['type']===_0x11455d[_0x282017(0x723)];}}!function(_0x10c7b6){const _0x140b4e=_0x3fd00f;_0x10c7b6[_0x10c7b6[_0x140b4e(0x28f)]=0x0]=_0x140b4e(0x28f),_0x10c7b6[_0x10c7b6[_0x140b4e(0x4fb)]=0x1]='UpdateMediaStream',_0x10c7b6[_0x10c7b6[_0x140b4e(0x27d)]=0x2]=_0x140b4e(0x27d),_0x10c7b6[_0x10c7b6[_0x140b4e(0x505)]=0x3]=_0x140b4e(0x505),_0x10c7b6[_0x10c7b6['RestartNeedMediaStream']=0x4]=_0x140b4e(0x359),_0x10c7b6[_0x10c7b6[_0x140b4e(0x5e9)]=0x5]='CanProvideMediaStream',_0x10c7b6[_0x10c7b6[_0x140b4e(0x39d)]=0x6]=_0x140b4e(0x39d),_0x10c7b6[_0x10c7b6[_0x140b4e(0x48b)]=0x7]=_0x140b4e(0x48b);}(_0x871c00||(_0x871c00={}));class _0x479333 extends _0x31e81e{['localNode'];[_0x3fd00f(0x9c0)];[_0x3fd00f(0x3ee)];['connectorConstructor'];['debounceStats'];[_0x3fd00f(0x663)]=0x0;[_0x3fd00f(0x4f9)];[_0x3fd00f(0x847)]=_0x4767cf();[_0x3fd00f(0x51d)]=new Map();[_0x3fd00f(0xa5a)];constructor(_0x11df29,_0x53bb70,_0x1a973f,_0x694d84,_0x98fb50){const _0x4ff867=_0x3fd00f;if('string'!=typeof _0x53bb70)throw new _0x19abf5(_0x2c23d1[_0x4ff867(0x7d1)],_0x4ff867(0xa50));super(_0x11df29,_0x53bb70),this['localNode']=_0x11df29,this[_0x4ff867(0x9c0)]=_0x1a973f,this[_0x4ff867(0x3ee)]=_0x694d84,this[_0x4ff867(0x7e1)]=_0x98fb50,this['sendStats']();}[_0x3fd00f(0x407)](){const _0x227958=_0x3fd00f;this[_0x227958(0xa5a)]?.(),this['listenerUnsubscribers'][_0x227958(0x3e1)](_0x273adb=>_0x273adb()),clearTimeout(this[_0x227958(0x357)]),delete this[_0x227958(0x357)],super[_0x227958(0x407)]();}[_0x3fd00f(0x4cb)](){const _0x4d0f2f=_0x3fd00f;this[_0x4d0f2f(0x8b5)]();}[_0x3fd00f(0x883)](){const _0x3e5a6d=_0x3fd00f;this[_0x3e5a6d(0x5cb)][_0x3e5a6d(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0['Content'],'content':{'type':_0x347d3c[_0x3e5a6d(0x32a)],'label':this[_0x3e5a6d(0x985)]}});}['getContentType'](){const _0x4cea57=_0x3fd00f;return _0x548494[_0x4cea57(0x777)]['ExternalStorage'];}async[_0x3fd00f(0x7ae)](_0x18eb82){const _0x23c837=_0x3fd00f;if(!this['connector'])throw new _0x19abf5(_0x2c23d1['ExternalStorageConnectorsMissing'],_0x23c837(0x591));_0x404abe[_0x23c837(0x729)](_0x5de0fb['ExternalStorage'],{'type':_0x23c837(0x7ae),'label':this['label'],'nodeId':this[_0x23c837(0x976)]['getId'](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'path':_0x18eb82}),this[_0x23c837(0x663)]+=0x1,this[_0x23c837(0x8b5)]();try{return await this['connector']['get'](_0x18eb82);}catch(_0x41cc42){throw new _0x19abf5(_0x2c23d1[_0x23c837(0xad2)],_0x23c837(0x556)+_0x18eb82);}}async['list'](_0x4e937f,_0x5866a2){const _0x31f30c=_0x3fd00f;if(!this[_0x31f30c(0x4f9)])throw new _0x19abf5(_0x2c23d1[_0x31f30c(0x3da)],_0x31f30c(0x910));const {recursive:_0x41419f=!0x1}=_0x5866a2??{};_0x404abe[_0x31f30c(0x729)](_0x5de0fb['ExternalStorage'],{'type':_0x31f30c(0x459),'label':this[_0x31f30c(0x985)],'nodeId':this[_0x31f30c(0x976)][_0x31f30c(0xb04)](),'nodeType':this[_0x31f30c(0x976)]['type'],'clusterId':this[_0x31f30c(0x9c0)],'path':_0x4e937f}),this[_0x31f30c(0x663)]+=0x1,this[_0x31f30c(0x8b5)]();try{return await this[_0x31f30c(0x4f9)][_0x31f30c(0x459)](_0x4e937f,_0x41419f);}catch(_0x682a49){throw new _0x19abf5(_0x2c23d1[_0x31f30c(0xad2)],_0x31f30c(0xac4)+_0x4e937f);}}[_0x3fd00f(0x84f)](_0x226242,_0x2d6ee6){const _0x233b5c=_0x3fd00f;if(this['listenerUnsubscribers']['has'](_0x226242))throw new _0x19abf5(_0x2c23d1[_0x233b5c(0x8c2)],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x233b5c(0x51d)][_0x233b5c(0x1f5)](_0x226242,this[_0x233b5c(0x847)][_0x233b5c(0x84f)](_0x2d6ee6));}['unsubscribe'](_0x5ab94d){const _0x311755=_0x3fd00f;this['listenerUnsubscribers'][_0x311755(0x7ae)](_0x5ab94d)?.(),this[_0x311755(0x51d)][_0x311755(0x92b)](_0x5ab94d);}async['open'](){const _0x248412=_0x3fd00f,_0x4a1ad3=(await(0x0,_0x225f39[_0x248412(0x78d)])((0x0,_0x225f39['doc'])(_0x616df3['getFirestore'](),_0x248412(0xaa9)+this[_0x248412(0x3ee)]+_0x248412(0x6a5)+this[_0x248412(0x985)])))[_0x248412(0xa83)]();if(!_0x4a1ad3)throw new _0x19abf5(_0x2c23d1[_0x248412(0x74e)],'Cannot\x20find\x20External\x20Storage\x20connection:\x20'+this[_0x248412(0x985)]);const {site:_0xb89783,drive:_0x27afcc}=_0x4a1ad3,_0x55da07=(await(0x0,_0x4858bf[_0x248412(0x4e0)])(_0x616df3[_0x248412(0x617)](),_0x248412(0x987))({'storageId':this['label']}))['data'][_0x248412(0x186)];this[_0x248412(0x4f9)]=new this[(_0x248412(0x7e1))](_0xb89783['id'],_0x27afcc['id'],_0x55da07,async()=>(await(0x0,_0x4858bf[_0x248412(0x4e0)])(_0x616df3[_0x248412(0x617)](),_0x248412(0x521))({'storageId':this[_0x248412(0x985)]}))[_0x248412(0xa83)][_0x248412(0x186)]),this[_0x248412(0x819)]();}[_0x3fd00f(0x8b5)](){const _0x43f234=_0x3fd00f;this[_0x43f234(0x357)]&&clearTimeout(this['debounceStats']),this[_0x43f234(0x357)]=setTimeout(async()=>{const _0x35f83b=_0x43f234;delete this[_0x35f83b(0x357)],this[_0x35f83b(0x5cb)][_0x35f83b(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0['Content'],'content':{'type':_0x347d3c['ExternalStorageStats'],'label':this[_0x35f83b(0x985)],'stats':{'timestamp':Date[_0x35f83b(0x441)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x35f83b(0x663)],'prompts':0x0,'tokens':0x0}}});},_0x59b95b);}async[_0x3fd00f(0x819)](){const _0xbe783c=_0x3fd00f;await this[_0xbe783c(0x4f9)]?.[_0xbe783c(0x55d)](),this['changesUnsubscriber']=_0xa2c3bc[_0xbe783c(0x2a8)](async()=>{const _0x163dcd=_0xbe783c;try{if(!this[_0x163dcd(0x4f9)])return;const _0x92c3c1=await this['connector'][_0x163dcd(0x55d)]();for(const _0x2a0afe of _0x92c3c1)this[_0x163dcd(0x847)][_0x163dcd(0x70e)](_0x2a0afe);}catch(_0x28d995){}},0x493e0);}}const _0x314aeb=require('rxjs');class _0x4ba944 extends _0x31e81e{[_0x3fd00f(0x2b5)];['jobs']=new Map();[_0x3fd00f(0xb06)]=new Map();[_0x3fd00f(0x598)]=new Map();[_0x3fd00f(0x512)];constructor(_0x51e653,_0x242cba,_0x5877fc){const _0x767479=_0x3fd00f;super(_0x51e653,_0x242cba),this[_0x767479(0x2b5)]=_0x5877fc;}['getContentType'](){const _0x564582=_0x3fd00f;return _0x548494[_0x564582(0x777)][_0x564582(0x20d)];}['open'](){const _0x36af55=_0x3fd00f;this['unsubscribeHandler']=this[_0x36af55(0xa7f)]((_0x491785,_0x27ef69)=>{const _0x242594=_0x36af55;if(_0x404abe[_0x242594(0x327)](_0x20ff7d[_0x242594(0x188)],_0x242594(0xa70),_0x491785,_0x27ef69,this[_0x242594(0x2b5)][_0x242594(0x753)]()),!(_0x27ef69 instanceof File)){if(!_0x27ef69)throw new _0x5d70cf(_0x5d70cf['codes'][_0x242594(0x21b)]);return this[_0x242594(0x532)](_0x27ef69)?this[_0x242594(0xa01)](_0x491785,_0x27ef69['id'],_0x27ef69):this['isPartialResultResponse'](_0x27ef69)?(_0x404abe[_0x242594(0x327)](_0x20ff7d[_0x242594(0x188)],'Job\x20'+_0x27ef69['id']+_0x242594(0x8b0),_0x27ef69[_0x242594(0x204)]),void this['evaluatePartialJob'](_0x27ef69['id'],_0x27ef69)):this[_0x242594(0x679)](_0x27ef69)?(_0x404abe[_0x242594(0x327)](_0x20ff7d[_0x242594(0x188)],'Job\x20'+_0x27ef69['id']+_0x242594(0xa10),_0x27ef69[_0x242594(0x204)]),void this[_0x242594(0x6f1)](_0x27ef69['id'],_0x27ef69)):void(this['isFailedResponse'](_0x27ef69)&&this[_0x242594(0x6b3)](_0x27ef69['id'],_0x27ef69['message']));}});}['reset'](){const _0x19848f=_0x3fd00f;this[_0x19848f(0x7e7)](),this[_0x19848f(0x57a)]();}[_0x3fd00f(0x407)](){const _0x3c81b2=_0x3fd00f;this[_0x3c81b2(0x7e7)](),super[_0x3c81b2(0x407)]();}[_0x3fd00f(0x7e7)](){const _0x5576b7=_0x3fd00f;this['jobs']['clear'](),this[_0x5576b7(0x512)]&&this[_0x5576b7(0x512)]();}[_0x3fd00f(0x883)](){const _0x467723=_0x3fd00f;this[_0x467723(0x5cb)]?.[_0x467723(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x467723(0x870)],'content':{'type':_0x347d3c['CloseJobDispatcher'],'label':this['label']}});}async[_0x3fd00f(0xa4e)](_0x19ddcf){const _0x7282c9=_0x3fd00f,{id:_0x47006d,parameters:_0x56f454,jobType:_0x45e23c}=_0x19ddcf,_0x4ab27f={'id':_0x47006d,'jobType':_0x45e23c,'parameters':_0x56f454,'status':_0x548494['JobStatus'][_0x7282c9(0x2dc)],'created':new Date(),'updated':new Date()};if(this[_0x7282c9(0x8a5)][_0x7282c9(0x68d)](_0x4ab27f['id']))throw new _0x19abf5(_0x2c23d1[_0x7282c9(0x874)],_0x7282c9(0x6c6)+_0x4ab27f['id']+'\x20already\x20exists.');_0x4ab27f[_0x7282c9(0xaf1)]=new Date(),_0x4ab27f[_0x7282c9(0x33c)]=new Date();const _0x14643b=new _0x314aeb['Subject']();this[_0x7282c9(0x8a5)][_0x7282c9(0x1f5)](_0x4ab27f['id'],_0x4ab27f),this[_0x7282c9(0xb06)]['set'](_0x4ab27f['id'],_0x14643b);try{const _0x161384={'id':_0x4ab27f['id'],'jobPhase':_0x3b4987['Request'],'jobType':_0x4ab27f['jobType']},_0x29f637=0x3;let _0x14cec6=0x0;const _0x288c0d=async()=>{const _0x55553a=_0x7282c9;_0x14cec6+=0x1;try{_0x404abe['log'](_0x20ff7d[_0x55553a(0x188)],'Job\x20'+_0x4ab27f['id']+'\x20sending\x20attempt\x20'+_0x14cec6+'.',this[_0x55553a(0x2b5)][_0x55553a(0x753)]()),await this['send'](_0x161384),_0x4ab27f[_0x55553a(0x33c)]=new Date(),this[_0x55553a(0x8a5)][_0x55553a(0x1f5)](_0x4ab27f['id'],_0x4ab27f),this[_0x55553a(0x861)](_0x4ab27f['id']);}catch(_0x167307){_0x14cec6<_0x29f637?(_0x404abe[_0x55553a(0x70d)]('Attempt\x20'+_0x14cec6+_0x55553a(0xab2)+_0x4ab27f['id']+_0x55553a(0x585),{'nodeId':this[_0x55553a(0x1a8)]['getId'](),'nodeType':this[_0x55553a(0x1a8)][_0x55553a(0x705)],'data':{'job':_0x4ab27f,'attempts':_0x14cec6,'maxRetries':_0x29f637}}),setTimeout(_0x288c0d,0x3e8)):(_0x4ab27f[_0x55553a(0x2f5)]=_0x548494[_0x55553a(0x305)][_0x55553a(0x3ad)],_0x4ab27f[_0x55553a(0x33c)]=new Date(),this[_0x55553a(0x8a5)][_0x55553a(0x1f5)](_0x4ab27f['id'],_0x4ab27f),_0x404abe[_0x55553a(0x805)](_0x55553a(0x401)+_0x4ab27f['id']+_0x55553a(0x364)+_0x29f637+_0x55553a(0x539),{'nodeId':this[_0x55553a(0x1a8)][_0x55553a(0xb04)](),'nodeType':this['owner'][_0x55553a(0x705)],'data':{'job':_0x4ab27f,'attempts':_0x14cec6,'maxRetries':_0x29f637,'error':_0x167307}}));}};_0x288c0d();const {id:_0x41d9ed}=_0x4ab27f;this[_0x7282c9(0xaee)](_0x7282c9(0xa53)+_0x4ab27f['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0x41d9ed}),_0x4ab27f[_0x7282c9(0x33c)]=new Date();}catch(_0x26aa15){_0x4ab27f[_0x7282c9(0x2f5)]=_0x548494[_0x7282c9(0x305)]['Failed'],_0x404abe[_0x7282c9(0x805)]('Failed\x20to\x20send\x20job\x20'+_0x4ab27f['id']+':',{'nodeId':this[_0x7282c9(0x1a8)][_0x7282c9(0xb04)](),'nodeType':this[_0x7282c9(0x1a8)][_0x7282c9(0x705)],'data':{'job':_0x4ab27f,'error':_0x26aa15}});}return _0x14643b[_0x7282c9(0x877)]();}[_0x3fd00f(0x3fe)](_0x2b30c0){const _0x483ae0=_0x3fd00f,_0x2228d6=this['jobs']['get'](_0x2b30c0);if(!_0x2228d6)throw new _0x19abf5(_0x2c23d1['JobDispatcherJobNotFound'],_0x483ae0(0x6c6)+_0x2b30c0+_0x483ae0(0x488));return{'id':_0x2228d6['id'],'jobType':_0x2228d6[_0x483ae0(0x1c0)],'status':_0x2228d6[_0x483ae0(0x2f5)],'parameters':_0x2228d6[_0x483ae0(0x644)]};}['getJobs'](){const _0x2fb5fe=_0x3fd00f;return Array[_0x2fb5fe(0x4f7)](this[_0x2fb5fe(0x8a5)][_0x2fb5fe(0x16a)]())[_0x2fb5fe(0x23d)](_0x5a8cae=>this[_0x2fb5fe(0x3fe)](_0x5a8cae['id']));}async['updateJob'](_0x139975,_0x2e67c6){const _0x282fe8=_0x3fd00f,_0x31e9ef=this['jobs'][_0x282fe8(0x7ae)](_0x139975);if(!_0x31e9ef)throw new _0x19abf5(_0x2c23d1[_0x282fe8(0x7f6)],_0x282fe8(0x6c6)+_0x139975+_0x282fe8(0x488));_0x31e9ef[_0x282fe8(0x644)]=_0x2e67c6,_0x31e9ef[_0x282fe8(0x33c)]=new Date(),this[_0x282fe8(0x8a5)][_0x282fe8(0x1f5)](_0x139975,_0x31e9ef);}async[_0x3fd00f(0x53a)](_0x334bde){const _0x201db8=_0x3fd00f;if(!this[_0x201db8(0x8a5)][_0x201db8(0x92b)](_0x334bde))throw new _0x19abf5(_0x2c23d1[_0x201db8(0x7f6)],_0x201db8(0x6c6)+_0x334bde+_0x201db8(0x488));const _0x32d079=this['jobObservers'][_0x201db8(0x7ae)](_0x334bde);if(!_0x32d079)throw new _0x5d70cf(_0x5d70cf[_0x201db8(0x765)]['JobDispatcherObserverNotFound']);_0x32d079[_0x201db8(0x785)](),this[_0x201db8(0xb06)][_0x201db8(0x92b)](_0x334bde),_0x404abe['log'](_0x20ff7d[_0x201db8(0x188)],_0x201db8(0xa53)+_0x334bde+_0x201db8(0x1ff));}[_0x3fd00f(0xa01)](_0x428069,_0x368f1e,_0xe3c38d){const _0x342cd7=_0x3fd00f,_0x382c7e=this[_0x342cd7(0x598)][_0x342cd7(0x7ae)](_0x368f1e)??new Map();_0x382c7e['set'](_0x428069,[_0xe3c38d,Date[_0x342cd7(0x441)]()]),this['jobBids'][_0x342cd7(0x1f5)](_0x368f1e,_0x382c7e),this[_0x342cd7(0xa99)](_0x368f1e);}[_0x3fd00f(0x861)](_0x90e4ea){const _0x5d80d2=_0x3fd00f,_0x48922b=this[_0x5d80d2(0x8a5)]['get'](_0x90e4ea);if(!_0x48922b)throw new _0x5d70cf(_0x5d70cf[_0x5d80d2(0x765)][_0x5d80d2(0x7f6)]);const _0x268d87=setTimeout(()=>this[_0x5d80d2(0xa99)](_0x90e4ea,!0x0),0xbb8);_0x48922b[_0x5d80d2(0x9ba)]=_0x268d87,this[_0x5d80d2(0x8a5)][_0x5d80d2(0x1f5)](_0x48922b['id'],_0x48922b);}['evaluateBidsAndAttributeJob'](_0x2eb4a3,_0x3a3e57=!0x1){const _0x12d508=_0x3fd00f,_0x497848=this[_0x12d508(0x2b5)][_0x12d508(0x753)](),_0x2c4161=Array[_0x12d508(0x4f7)](_0x497848[_0x12d508(0x16a)]())[_0x12d508(0x69d)](_0x1c0ade=>_0x1c0ade[_0x12d508(0x705)]===_0x548494['NodeType'][_0x12d508(0xa4c)]),_0x5ae118=this[_0x12d508(0x598)][_0x12d508(0x7ae)](_0x2eb4a3)??new Map();if(!_0x3a3e57&&(!_0x5ae118||_0x5ae118[_0x12d508(0x66a)]<_0x2c4161[_0x12d508(0xa5f)]))return;const _0x35a5b8=this[_0x12d508(0x8a5)][_0x12d508(0x7ae)](_0x2eb4a3);if(!_0x35a5b8)throw new _0x5d70cf(_0x5d70cf[_0x12d508(0x765)]['JobDispatcherJobNotFound']);if(clearTimeout(_0x35a5b8[_0x12d508(0x9ba)]),_0x404abe[_0x12d508(0x327)](_0x20ff7d['Jobs'],'Job\x20'+_0x35a5b8['id']+_0x12d508(0x478),_0x5ae118,this[_0x12d508(0x598)]),!_0x5ae118||0x0===_0x5ae118['size']){_0x35a5b8['status']=_0x548494[_0x12d508(0x305)][_0x12d508(0x3ad)],_0x35a5b8[_0x12d508(0x33c)]=new Date(),_0x404abe[_0x12d508(0x805)]('Job\x20'+_0x35a5b8['id']+_0x12d508(0x773),{'nodeId':this['owner'][_0x12d508(0xb04)](),'nodeType':this[_0x12d508(0x1a8)][_0x12d508(0x705)],'data':{'job':_0x35a5b8,'responses':_0x5ae118}});const _0x5346be=this['jobObservers'][_0x12d508(0x7ae)](_0x2eb4a3);if(!_0x5346be)throw new _0x5d70cf(_0x5d70cf[_0x12d508(0x765)][_0x12d508(0x5de)]);const _0x58b067=_0x12d508(0x22c),_0x54d089={'id':_0x35a5b8['id'],'status':_0x35a5b8['status'],'message':_0x58b067};return _0x5346be[_0x12d508(0xa54)](_0x54d089),_0x5346be[_0x12d508(0x785)](),this[_0x12d508(0x8a5)]['set'](_0x35a5b8['id'],_0x35a5b8),void this[_0x12d508(0x598)]['delete'](_0x2eb4a3);}const {nodeId:_0x228d4d,response:_0x2e201f}=this[_0x12d508(0x472)](_0x35a5b8['id'],_0x5ae118);_0x35a5b8['status']=_0x548494[_0x12d508(0x305)][_0x12d508(0x3b1)],_0x35a5b8[_0x12d508(0x33c)]=new Date(),_0x404abe[_0x12d508(0x327)](_0x20ff7d['Jobs'],_0x12d508(0xa53)+_0x35a5b8['id']+'\x20attributed\x20to\x20'+_0x228d4d+_0x12d508(0x1bb),_0x2e201f);const _0x4261c7={'id':_0x35a5b8['id'],'jobType':_0x35a5b8[_0x12d508(0x1c0)],'jobPhase':_0x3b4987[_0x12d508(0x84e)],'parameters':_0x35a5b8[_0x12d508(0x644)]};this[_0x12d508(0x5b8)](_0x4261c7,[_0x228d4d]),this['jobs'][_0x12d508(0x1f5)](_0x35a5b8['id'],_0x35a5b8),this[_0x12d508(0x598)]['delete'](_0x2eb4a3);}['evaluateBids'](_0x195358,_0x59ed4b){const _0x7ce43f=_0x3fd00f;let _0x37ea01;const _0x24fc3e=Array['from'](_0x59ed4b['entries']())[_0x7ce43f(0x69d)](([,[_0x1063d9]])=>_0x1063d9[_0x7ce43f(0x5a4)]);if(_0x37ea01=_0x24fc3e['length']>0x0?Array[_0x7ce43f(0x4f7)](_0x59ed4b[_0x7ce43f(0x4c9)]())[_0x7ce43f(0x822)]((_0x420abb,_0x1f7e3b)=>_0x1f7e3b[0x1][0x0][_0x7ce43f(0x668)]-_0x420abb[0x1][0x0][_0x7ce43f(0x668)]):Array[_0x7ce43f(0x4f7)](_0x59ed4b['entries']())[_0x7ce43f(0x822)]((_0xb68ca5,_0x13fcde)=>_0xb68ca5[0x1][0x0][_0x7ce43f(0x956)]-_0x13fcde[0x1][0x0][_0x7ce43f(0x956)]),0x1===_0x37ea01[_0x7ce43f(0xa5f)])return{'nodeId':_0x37ea01[0x0][0x0],'response':_0x37ea01[0x0][0x1][0x0]};let _0x4e857c;if(_0x4e857c=_0x24fc3e[_0x7ce43f(0xa5f)]>0x0?(_0x144c25=>{const _0x305834=_0x7ce43f,_0x2624ab=_0x144c25[0x0][0x1][0x0][_0x305834(0x668)];return _0x144c25['filter'](([,[_0x53e3e2]])=>_0x53e3e2[_0x305834(0x668)]===_0x2624ab);})(_0x37ea01):(_0x3bbfff=>{const _0x4b2046=_0x7ce43f,_0x31e281=_0x3bbfff[0x0][0x1][0x0][_0x4b2046(0x956)];return _0x3bbfff[_0x4b2046(0x69d)](([,[_0x2d67f1]])=>_0x2d67f1[_0x4b2046(0x956)]===_0x31e281);})(_0x37ea01),0x1===_0x4e857c[_0x7ce43f(0xa5f)])return{'nodeId':_0x4e857c[0x0][0x0],'response':_0x4e857c[0x0][0x1][0x0]};const _0x10c57c=this[_0x7ce43f(0x8a5)][_0x7ce43f(0x7ae)](_0x195358);if(!_0x10c57c)throw new _0x5d70cf(_0x5d70cf['codes'][_0x7ce43f(0x7f6)]);const _0x4a0bc4=_0x10c57c[_0x7ce43f(0xaf1)][_0x7ce43f(0xa8b)](),_0x42b9fe=_0x4e857c[_0x7ce43f(0x23d)](([_0x93d5e,[,_0x1541b3]])=>({'nodeId':_0x93d5e,'rtt':_0x1541b3-_0x4a0bc4})),_0x583889=Math[_0x7ce43f(0x828)](..._0x42b9fe['map'](({rtt:_0x17b595})=>_0x17b595)),_0x4018c1=_0x42b9fe[_0x7ce43f(0x78b)](({rtt:_0x296b56})=>_0x296b56===_0x583889),[,[_0x53af26]]=_0x4e857c[_0x7ce43f(0x78b)](([_0x2a3963])=>_0x2a3963===_0x4018c1[_0x7ce43f(0x4d3)]);return{'nodeId':_0x4018c1[_0x7ce43f(0x4d3)],'response':_0x53af26};}['evaluatePartialJob'](_0x182721,_0x46bf2b){const _0x43bc14=_0x3fd00f,_0x2ab517=this[_0x43bc14(0x8a5)][_0x43bc14(0x7ae)](_0x182721);if(!_0x2ab517)throw new _0x5d70cf(_0x5d70cf[_0x43bc14(0x765)][_0x43bc14(0x7f6)]);const _0xd0be16=this[_0x43bc14(0xb06)][_0x43bc14(0x7ae)](_0x182721);if(!_0xd0be16)throw new _0x5d70cf(_0x5d70cf[_0x43bc14(0x765)][_0x43bc14(0x5de)]);const _0x7cc54={'id':_0x2ab517['id'],'status':_0x548494[_0x43bc14(0x305)][_0x43bc14(0x3b5)],'result':_0x46bf2b[_0x43bc14(0x204)]};_0xd0be16[_0x43bc14(0xa54)](_0x7cc54);}[_0x3fd00f(0x6f1)](_0x3c0f6a,_0x2b4fc9){const _0x5cac44=_0x3fd00f,_0x3185ff=this[_0x5cac44(0x8a5)][_0x5cac44(0x7ae)](_0x3c0f6a);if(!_0x3185ff)throw new _0x5d70cf(_0x5d70cf[_0x5cac44(0x765)][_0x5cac44(0x7f6)]);const _0xbeb62b=this[_0x5cac44(0xb06)][_0x5cac44(0x7ae)](_0x3c0f6a);if(!_0xbeb62b)throw new _0x5d70cf(_0x5d70cf[_0x5cac44(0x765)]['JobDispatcherObserverNotFound']);_0x3185ff[_0x5cac44(0x2f5)]=_0x548494[_0x5cac44(0x305)][_0x5cac44(0x5ff)];const _0x32f768={'id':_0x3185ff['id'],'status':_0x3185ff[_0x5cac44(0x2f5)],'result':_0x2b4fc9[_0x5cac44(0x204)]};_0xbeb62b[_0x5cac44(0xa54)](_0x32f768),_0xbeb62b[_0x5cac44(0x785)](),this[_0x5cac44(0xb06)]['delete'](_0x3c0f6a),this[_0x5cac44(0xaee)]('Job\x20'+_0x3c0f6a+_0x5cac44(0x888),{'jobId':_0x3c0f6a});}[_0x3fd00f(0x6b3)](_0x495de4,_0x4946be){const _0x4765dd=_0x3fd00f,_0x1ab545=this[_0x4765dd(0x8a5)][_0x4765dd(0x7ae)](_0x495de4);if(!_0x1ab545)throw new _0x5d70cf(_0x5d70cf[_0x4765dd(0x765)][_0x4765dd(0x7f6)]);const _0x51afb7=this[_0x4765dd(0xb06)][_0x4765dd(0x7ae)](_0x495de4);if(!_0x51afb7)throw new _0x5d70cf(_0x5d70cf[_0x4765dd(0x765)]['JobDispatcherObserverNotFound']);_0x1ab545[_0x4765dd(0x2f5)]=_0x548494['JobStatus'][_0x4765dd(0x3ad)];const _0x250002={'id':_0x1ab545['id'],'status':_0x1ab545[_0x4765dd(0x2f5)],'message':_0x4946be};_0x51afb7[_0x4765dd(0xa54)](_0x250002),_0x51afb7[_0x4765dd(0x785)](),this[_0x4765dd(0xb06)][_0x4765dd(0x92b)](_0x495de4),this[_0x4765dd(0xaee)]('Job\x20'+_0x495de4+'\x20failed.',{'jobId':_0x495de4});}[_0x3fd00f(0xaee)](_0x27eeb7,{jobId:_0x51d5f4}){const _0x31d484=_0x3fd00f,_0x4d5123={'jobId':_0x51d5f4,'mistletIds':Array[_0x31d484(0x4f7)](this[_0x31d484(0x2b5)]['getRemoteNodes']()['values']())[_0x31d484(0x69d)](_0x3f9a49=>_0x3f9a49[_0x31d484(0x705)]===_0x548494[_0x31d484(0x30f)][_0x31d484(0xa4c)])[_0x31d484(0x23d)](_0x25dbd2=>_0x25dbd2['getId']())};_0x404abe['logEvent'](_0x27eeb7,{'nodeId':this[_0x31d484(0x252)](),'nodeType':this[_0x31d484(0x1a8)][_0x31d484(0x705)],'data':_0x4d5123}),_0x404abe['log'](_0x20ff7d[_0x31d484(0x188)],_0x27eeb7,_0x4d5123);}['isBidResponse'](_0x23fd47){const {jobPhase:_0xb7459a,available:_0x305281,bid:_0x23623a}=_0x23fd47;return _0xb7459a===_0x3b4987['Bid']&&void 0x0!==_0x305281&&void 0x0!==_0x23623a;}[_0x3fd00f(0xa0a)](_0x233731){const _0x1b5f43=_0x3fd00f,{jobPhase:_0x5bb3ae,result:_0x510d6c}=_0x233731;return _0x5bb3ae===_0x3b4987[_0x1b5f43(0x519)]&&void 0x0!==_0x510d6c;}[_0x3fd00f(0x679)](_0x15e193){const _0x169caf=_0x3fd00f,{jobPhase:_0x5b95e3,result:_0x5bb9a3}=_0x15e193;return _0x5b95e3===_0x3b4987[_0x169caf(0x510)]&&void 0x0!==_0x5bb9a3;}[_0x3fd00f(0x6d0)](_0x2fd3a4){const _0x59e8be=_0x3fd00f,{jobPhase:_0x5a0e7f,message:_0x22cb6b}=_0x2fd3a4;return _0x5a0e7f===_0x3b4987['Failed']&&void 0x0!==_0x22cb6b&&_0x59e8be(0x7fc)==typeof _0x22cb6b;}}var _0x484c1e,_0x5e0896,_0x2ea748,_0x245cf9;!function(_0x183812){const _0x4ffea1=_0x3fd00f;_0x183812['ObjectStorage']=_0x4ffea1(0x3b0),_0x183812[_0x4ffea1(0x979)]='external-storage';}(_0x484c1e||(_0x484c1e={})),function(_0x1a456f){const _0x328690=_0x3fd00f;_0x1a456f[_0x328690(0xa4c)]=_0x328690(0x5e4),_0x1a456f[_0x328690(0x840)]='agent-skill',_0x1a456f[_0x328690(0x631)]=_0x328690(0x20e),_0x1a456f[_0x328690(0x4cc)]=_0x328690(0x84d),_0x1a456f[_0x328690(0x6ab)]=_0x328690(0x1f9),_0x1a456f[_0x328690(0x8ef)]=_0x328690(0x610),_0x1a456f['Prompt']=_0x328690(0x9fe),_0x1a456f['Answer']='answer',_0x1a456f['Code']=_0x328690(0x315),_0x1a456f[_0x328690(0x901)]='search',_0x1a456f[_0x328690(0x33f)]='ai-search',_0x1a456f['WebScraper']=_0x328690(0xa8d),_0x1a456f[_0x328690(0xaad)]=_0x328690(0x76b),_0x1a456f[_0x328690(0x780)]='query-file',_0x1a456f[_0x328690(0x1d9)]='write-file',_0x1a456f['ChunkSplitter']=_0x328690(0x914),_0x1a456f[_0x328690(0x2d6)]=_0x328690(0x39f),_0x1a456f[_0x328690(0x4a6)]=_0x328690(0x3c8),_0x1a456f['DocumentParser']=_0x328690(0x2c5),_0x1a456f[_0x328690(0x44d)]=_0x328690(0xad0),_0x1a456f[_0x328690(0x96c)]=_0x328690(0x1a3);}(_0x5e0896||(_0x5e0896={})),function(_0x5de351){const _0x2239b5=_0x3fd00f;_0x5de351['ObjectStorageUpload']='object-storage-upload',_0x5de351['ExternalStorageUpload']=_0x2239b5(0x49e),_0x5de351[_0x2239b5(0x343)]=_0x2239b5(0x2c5),_0x5de351['ChunkSplitter']=_0x2239b5(0x914),_0x5de351[_0x2239b5(0x4a6)]='word-splitter',_0x5de351['SentenceSplitter']='sentence-splitter',_0x5de351[_0x2239b5(0xa57)]='relation-extractor',_0x5de351['EntityExtractor']=_0x2239b5(0x2c8),_0x5de351[_0x2239b5(0x2e7)]=_0x2239b5(0xa3c),_0x5de351[_0x2239b5(0x283)]=_0x2239b5(0x3c5),_0x5de351[_0x2239b5(0xa4c)]='agent',_0x5de351[_0x2239b5(0xa08)]='object-storage',_0x5de351['KeyValueDatabase']=_0x2239b5(0xad9),_0x5de351[_0x2239b5(0x2f3)]=_0x2239b5(0x3a2),_0x5de351[_0x2239b5(0x3bb)]='graph-database',_0x5de351[_0x2239b5(0x83e)]='prompt',_0x5de351[_0x2239b5(0x6f8)]=_0x2239b5(0x4b2);}(_0x2ea748||(_0x2ea748={})),function(_0x18943d){const _0x21dc2c=_0x3fd00f;_0x18943d['File']=_0x21dc2c(0xa0d),_0x18943d[_0x21dc2c(0x32b)]=_0x21dc2c(0x58c),_0x18943d[_0x21dc2c(0xac1)]=_0x21dc2c(0x772),_0x18943d[_0x21dc2c(0x7ee)]=_0x21dc2c(0x2d2),_0x18943d[_0x21dc2c(0x3cd)]=_0x21dc2c(0xa83),_0x18943d['Vector']=_0x21dc2c(0x597),_0x18943d['Entity']=_0x21dc2c(0xa22),_0x18943d[_0x21dc2c(0x247)]=_0x21dc2c(0x335),_0x18943d[_0x21dc2c(0x901)]='search',_0x18943d['Index']='index',_0x18943d['Tool']=_0x21dc2c(0x626),_0x18943d[_0x21dc2c(0x6f8)]=_0x21dc2c(0x4b2),_0x18943d[_0x21dc2c(0x808)]=_0x21dc2c(0x3fd),_0x18943d[_0x21dc2c(0x46b)]=_0x21dc2c(0x5d0),_0x18943d[_0x21dc2c(0x59f)]=_0x21dc2c(0x4be);}(_0x245cf9||(_0x245cf9={}));const _0x4966cf=[{'id':'if-else-router','name':'Conditional\x20Router','description':_0x3fd00f(0x3f4),'modelId':_0x3fd00f(0x360),'instructions':'Returns\x20\x22true\x22\x20or\x20\x22false\x22\x20based\x20on\x20the\x20input\x20condition.','grammar':_0x3fd00f(0x49b),'temperature':0x0,'maxTokens':0x64}],_0x5af8eb=[{'id':_0x3fd00f(0x367),'name':_0x3fd00f(0xa92),'description':'','modelId':_0x3fd00f(0x360),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3fd00f(0xaac),'name':_0x3fd00f(0x879),'description':'Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','modelId':_0x3fd00f(0x360),'instructions':_0x3fd00f(0x3c6),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3fd00f(0x1a6),'name':_0x3fd00f(0x4ef),'description':'Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','modelId':_0x3fd00f(0x360),'instructions':_0x3fd00f(0x496),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'query-generator','name':'Query\x20Generator','description':_0x3fd00f(0xa28),'modelId':_0x3fd00f(0x360),'instructions':'Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3fd00f(0x37e),'name':_0x3fd00f(0x377),'description':_0x3fd00f(0xa39),'modelId':_0x3fd00f(0x360),'instructions':_0x3fd00f(0x38f),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3fd00f(0x184),'name':_0x3fd00f(0x82e),'description':_0x3fd00f(0x474),'modelId':'gpt-4o-mini','instructions':_0x3fd00f(0x386),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3fd00f(0x7f7),'name':_0x3fd00f(0x983),'description':_0x3fd00f(0x17e),'modelId':_0x3fd00f(0x360),'instructions':_0x3fd00f(0x2aa),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3fd00f(0x19c),'name':_0x3fd00f(0x405),'description':_0x3fd00f(0x2bb),'modelId':_0x3fd00f(0x360),'instructions':_0x3fd00f(0x638),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'trend-spotter','name':_0x3fd00f(0x895),'description':'Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','modelId':_0x3fd00f(0x360),'instructions':_0x3fd00f(0xa40),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3fd00f(0x83b),'name':_0x3fd00f(0x21e),'description':_0x3fd00f(0x2b6),'modelId':'gpt-4o-mini','instructions':_0x3fd00f(0x511),'grammar':'','temperature':0.8,'maxTokens':0x3e8}];class _0x4355ff{static [_0x3fd00f(0x9a3)];constructor(){}static[_0x3fd00f(0x251)](){const _0x3decfe=_0x3fd00f;return _0x4355ff['instance']||(_0x4355ff[_0x3decfe(0x9a3)]=new _0x4355ff()),_0x4355ff['instance'];}async['getWorkflow'](_0xe972f8,_0x4a13ed){const _0x4f896b=_0x3fd00f,_0x4376a1=await(0x0,_0x225f39[_0x4f896b(0x78d)])((0x0,_0x225f39[_0x4f896b(0x199)])(_0x616df3[_0x4f896b(0x390)](),_0x4f896b(0xaa9)+_0xe972f8+_0x4f896b(0xa6c)+_0x4a13ed)),_0x2ce952=await this['getAgents'](_0xe972f8);_0x2ce952[_0x4f896b(0x639)](..._0x4966cf),_0x2ce952[_0x4f896b(0x639)](..._0x5af8eb);const _0x421ceb=await this[_0x4f896b(0x4d6)](_0xe972f8);if(!_0x4376a1[_0x4f896b(0x243)]())throw new _0x5d70cf(_0x5d70cf[_0x4f896b(0x765)][_0x4f896b(0x92d)]);return this[_0x4f896b(0x2d5)](_0x4376a1,_0x2ce952,_0x421ceb);}async['getDataCollection'](_0xd7c879,_0x1c4e81){const _0x2e48ea=_0x3fd00f,_0x572c86=await(0x0,_0x225f39['getDoc'])((0x0,_0x225f39[_0x2e48ea(0x199)])(_0x616df3['getFirestore'](),_0x2e48ea(0xaa9)+_0xd7c879+'/resources/generative-ai-collection/items/'+_0x1c4e81)),_0x25ed17=await this[_0x2e48ea(0x288)](_0xd7c879),_0x286922=_0x572c86['data']();if(!_0x286922)throw new _0x5d70cf(_0x5d70cf[_0x2e48ea(0x765)]['DataCollectionDoesNotExist']);return{'type':_0x5e0896[_0x2e48ea(0x6ab)],'id':_0x1c4e81,'uid':_0x1c4e81,'name':_0x286922[_0x2e48ea(0xa87)],'description':_0x286922[_0x2e48ea(0x430)],'ingestBlocks':this[_0x2e48ea(0xaa4)](_0x286922['ingestBlocks'],_0x25ed17),'retrieveBlocks':this[_0x2e48ea(0xaa4)](_0x286922[_0x2e48ea(0x281)],_0x25ed17),'links':[]};}[_0x3fd00f(0x2d5)](_0x2bdc11,_0x50665b,_0x4f7e85){const _0xc071b6=_0x3fd00f,_0x3ef952=_0x2bdc11[_0xc071b6(0xa83)]();if(!_0x3ef952)throw new _0x5d70cf(_0x5d70cf[_0xc071b6(0x765)][_0xc071b6(0x92d)]);const _0x3e1e59=this['parseWorkflowBlocks'](_0x3ef952[_0xc071b6(0x932)],_0x50665b,_0x4f7e85);return{'id':_0x2bdc11['id'],'blocks':_0x3e1e59,'dataBucketIds':this[_0xc071b6(0x683)](_0x3e1e59),'externalStorageConnectionIds':this[_0xc071b6(0x76a)](_0x3e1e59),'initialPrompt':_0x3ef952[_0xc071b6(0x9bd)]};}[_0x3fd00f(0x683)](_0x155084){const _0x765ab8=_0x3fd00f,_0x52ee86=new Set();for(const _0x18e3ca of _0x155084)switch(_0x18e3ca['type']){case _0x5e0896['Knowledge']:case _0x5e0896['DataCollection']:for(const _0x1c1f55 of[..._0x18e3ca[_0x765ab8(0x7e5)],..._0x18e3ca[_0x765ab8(0x281)]])_0x1c1f55[_0x765ab8(0x705)]===_0x2ea748[_0x765ab8(0x7b7)]&&_0x52ee86[_0x765ab8(0x30b)](_0x1c1f55['id']);}return Array[_0x765ab8(0x4f7)](_0x52ee86);}[_0x3fd00f(0x76a)](_0x5a2530){const _0x25b76e=_0x3fd00f,_0x79f40=new Set();for(const _0x50387d of _0x5a2530)switch(_0x50387d[_0x25b76e(0x705)]){case _0x5e0896[_0x25b76e(0x8ef)]:case _0x5e0896['DataCollection']:for(const _0x237a21 of[..._0x50387d[_0x25b76e(0x7e5)],..._0x50387d[_0x25b76e(0x281)]])_0x237a21[_0x25b76e(0x705)]===_0x2ea748[_0x25b76e(0xa5e)]&&_0x79f40['add'](_0x237a21['id']);}return Array['from'](_0x79f40);}[_0x3fd00f(0x899)](_0x242778,_0x30ba4f,_0x2e3fe1){const _0x46d2d4=_0x3fd00f;return _0x242778[_0x46d2d4(0x23d)](_0x3e5374=>{const _0x17b587=_0x46d2d4;switch(_0x3e5374[_0x17b587(0x705)]){case _0x5e0896['Agent']:case _0x5e0896[_0x17b587(0x840)]:case _0x5e0896[_0x17b587(0x631)]:const _0x155e73=_0x30ba4f['find'](_0x42eb84=>_0x42eb84['id']===_0x3e5374['id']);if(!_0x155e73)throw new _0x5d70cf(_0x5d70cf[_0x17b587(0x765)][_0x17b587(0x18b)],{'block':_0x3e5374});return{'type':_0x5e0896[_0x17b587(0xa4c)],'id':_0x155e73['id'],'uid':_0x3e5374['uid'],'name':_0x155e73[_0x17b587(0xa87)],'description':_0x155e73[_0x17b587(0x430)],'instructions':(_0x155e73[_0x17b587(0x40a)]+'\x0a\x0a'+(_0x3e5374['agent']?.[_0x17b587(0x830)]??''))[_0x17b587(0xabe)](),'contextOutputVariable':_0x3e5374[_0x17b587(0x5e4)]?.['contextOutputVariable'],'contextInputVariable':_0x3e5374[_0x17b587(0x5e4)]?.['contextInputVariable'],'reasoning':_0x3e5374[_0x17b587(0x5e4)]?.[_0x17b587(0xa91)]??!0x1,'grammar':_0x3e5374[_0x17b587(0x5e4)]?.[_0x17b587(0x7eb)]?this[_0x17b587(0x944)](_0x3e5374[_0x17b587(0x5e4)]?.[_0x17b587(0x7eb)]):_0x17b587(0xab8),'temperature':_0x3e5374['agent']?.[_0x17b587(0x24f)]??0.5,'maxTokens':_0x3e5374[_0x17b587(0x5e4)]?.[_0x17b587(0x3b7)]??0x1f4,'modelId':_0x3e5374[_0x17b587(0x5e4)]?.[_0x17b587(0x165)]??_0x17b587(0x360),'links':_0x3e5374[_0x17b587(0x712)]};case _0x5e0896[_0x17b587(0x8ef)]:case _0x5e0896[_0x17b587(0x6ab)]:const _0x53ca51=_0x2e3fe1[_0x17b587(0x78b)](_0x14fb82=>_0x14fb82['id']===_0x3e5374['id']);if(!_0x53ca51)throw new _0x5d70cf(_0x5d70cf[_0x17b587(0x765)][_0x17b587(0x18b)],{'block':_0x3e5374});return{'type':_0x3e5374[_0x17b587(0x705)],'id':_0x53ca51['id'],'uid':_0x3e5374[_0x17b587(0x803)],'name':_0x53ca51[_0x17b587(0xa87)],'description':_0x53ca51[_0x17b587(0x430)],'ingestBlocks':this['parseDataCollectionBlocks'](_0x53ca51[_0x17b587(0x7e5)],_0x30ba4f),'retrieveBlocks':this['parseDataCollectionBlocks'](_0x53ca51[_0x17b587(0x281)],_0x30ba4f),'links':_0x3e5374[_0x17b587(0x712)]};case _0x5e0896[_0x17b587(0x4cc)]:return{'type':_0x3e5374[_0x17b587(0x705)],'id':_0x3e5374['id'],'uid':_0x3e5374[_0x17b587(0x803)],'name':_0x3e5374[_0x17b587(0xa87)],'description':_0x3e5374[_0x17b587(0x430)],'parameters':_0x3e5374[_0x17b587(0x644)],'endpointUrl':_0x3e5374['endpointUrl'],'endpointMethod':_0x3e5374[_0x17b587(0xae8)],'headers':_0x3e5374['headers'],'queryParameters':_0x3e5374[_0x17b587(0x6e2)],'bodyParameters':_0x3e5374[_0x17b587(0x29f)],'contextOutputVariable':_0x3e5374[_0x17b587(0x49a)],'waitAsync':_0x3e5374[_0x17b587(0x613)],'asyncEndpointUrl':_0x3e5374['asyncEndpointUrl'],'asyncEndpointMethod':_0x3e5374[_0x17b587(0x3e4)],'asyncHeaders':_0x3e5374[_0x17b587(0x462)],'links':_0x3e5374[_0x17b587(0x712)]};case _0x5e0896[_0x17b587(0x83e)]:case _0x5e0896[_0x17b587(0x44d)]:case _0x5e0896[_0x17b587(0x9cc)]:case _0x5e0896[_0x17b587(0x96c)]:case _0x5e0896[_0x17b587(0x6a0)]:case _0x5e0896[_0x17b587(0x901)]:case _0x5e0896[_0x17b587(0x33f)]:case _0x5e0896[_0x17b587(0xaa6)]:case _0x5e0896[_0x17b587(0xaad)]:case _0x5e0896[_0x17b587(0x780)]:case _0x5e0896[_0x17b587(0x1d9)]:case _0x5e0896[_0x17b587(0x2d6)]:case _0x5e0896[_0x17b587(0x343)]:return{'type':_0x3e5374[_0x17b587(0x705)],'id':_0x3e5374['id'],'uid':_0x3e5374['uid'],'links':_0x3e5374['links']};case _0x5e0896[_0x17b587(0x45d)]:case _0x5e0896[_0x17b587(0x4a6)]:return{'type':_0x3e5374['type'],'id':_0x3e5374['id'],'uid':_0x3e5374[_0x17b587(0x803)],'links':_0x3e5374[_0x17b587(0x712)],'attributes':_0x3e5374[_0x17b587(0xa0e)]};default:throw new _0x5d70cf(_0x5d70cf['codes'][_0x17b587(0x18b)],{'block':_0x3e5374});}});}['parseDataCollectionBlocks'](_0x5aec3e,_0x37e250){return _0x5aec3e?_0x5aec3e['map'](_0x54976d=>{const _0x3c1bdd=a0_0x38ff;switch(_0x54976d['type']){case _0x2ea748[_0x3c1bdd(0xa4c)]:const _0x562a98=_0x37e250['find'](_0x31bd14=>_0x31bd14['id']===_0x54976d['id']);if(!_0x562a98)throw new _0x5d70cf(_0x5d70cf[_0x3c1bdd(0x765)]['WorkflowInvalidBlockType'],{'block':_0x54976d});return{'type':_0x54976d[_0x3c1bdd(0x705)],'id':_0x54976d['id'],'uid':_0x54976d[_0x3c1bdd(0x803)],'description':_0x562a98[_0x3c1bdd(0x430)],'instructions':_0x562a98[_0x3c1bdd(0x40a)],'reasoning':_0x562a98[_0x3c1bdd(0xa91)]??!0x1,'grammar':_0x562a98[_0x3c1bdd(0x7eb)],'temperature':_0x562a98[_0x3c1bdd(0x24f)],'maxTokens':_0x562a98[_0x3c1bdd(0x3b7)],'modelId':_0x562a98[_0x3c1bdd(0x165)],'links':_0x54976d[_0x3c1bdd(0x712)]};case _0x2ea748[_0x3c1bdd(0x3bb)]:case _0x2ea748[_0x3c1bdd(0x2f3)]:case _0x2ea748[_0x3c1bdd(0x4a6)]:case _0x2ea748[_0x3c1bdd(0x45d)]:case _0x2ea748[_0x3c1bdd(0x9d1)]:case _0x2ea748['Reranker']:return{'type':_0x54976d[_0x3c1bdd(0x705)],'id':_0x54976d['id'],'uid':_0x54976d[_0x3c1bdd(0x803)],'links':_0x54976d[_0x3c1bdd(0x712)],'attributes':_0x54976d[_0x3c1bdd(0xa0e)]};case _0x2ea748[_0x3c1bdd(0x283)]:case _0x2ea748[_0x3c1bdd(0xa08)]:case _0x2ea748[_0x3c1bdd(0x1af)]:case _0x2ea748[_0x3c1bdd(0xa57)]:case _0x2ea748[_0x3c1bdd(0x343)]:case _0x2ea748[_0x3c1bdd(0x2d6)]:case _0x2ea748[_0x3c1bdd(0x7b7)]:case _0x2ea748[_0x3c1bdd(0xa5e)]:case _0x2ea748['Context']:case _0x2ea748[_0x3c1bdd(0x83e)]:return{'type':_0x54976d[_0x3c1bdd(0x705)],'id':_0x54976d['id'],'uid':_0x54976d[_0x3c1bdd(0x803)],'links':_0x54976d[_0x3c1bdd(0x712)]};default:throw new _0x5d70cf(_0x5d70cf[_0x3c1bdd(0x765)][_0x3c1bdd(0x18b)],{'block':_0x54976d});}}):[];}async[_0x3fd00f(0x288)](_0x25ab64){const _0x5a1843=_0x3fd00f;return(await(0x0,_0x225f39[_0x5a1843(0x627)])((0x0,_0x225f39[_0x5a1843(0x604)])(_0x616df3['getFirestore'](),_0x5a1843(0xaa9)+_0x25ab64+_0x5a1843(0x99a))))['docs'][_0x5a1843(0x23d)](_0x2a8e0a=>{const _0x172ebb=_0x5a1843,_0x30d6a7=_0x2a8e0a[_0x172ebb(0xa83)]();return{'type':_0x5e0896[_0x172ebb(0xa4c)],'id':_0x2a8e0a['id'],'name':_0x30d6a7[_0x172ebb(0xa87)],'description':_0x30d6a7['description'],'instructions':_0x30d6a7['instructions'],'contextOutputVariable':_0x30d6a7[_0x172ebb(0x49a)],'contextInputVariable':_0x30d6a7[_0x172ebb(0x54f)],'reasoning':_0x30d6a7[_0x172ebb(0xa91)]??!0x1,'grammar':_0x30d6a7[_0x172ebb(0x7eb)]??_0x172ebb(0xab8),'temperature':_0x30d6a7[_0x172ebb(0x24f)],'maxTokens':_0x30d6a7[_0x172ebb(0x3b7)],'modelId':_0x30d6a7['modelId']};});}async[_0x3fd00f(0x4d6)](_0x3ca7ec){const _0x2152a5=_0x3fd00f;return(await(0x0,_0x225f39[_0x2152a5(0x627)])((0x0,_0x225f39[_0x2152a5(0x604)])(_0x616df3['getFirestore'](),_0x2152a5(0xaa9)+_0x3ca7ec+_0x2152a5(0x447))))[_0x2152a5(0xa94)][_0x2152a5(0x23d)](_0xc4796e=>{const _0x5c249f=_0x2152a5,_0x109f6b=_0xc4796e[_0x5c249f(0xa83)]();return{'type':_0x5e0896['DataCollection'],'id':_0xc4796e['id'],'name':_0x109f6b[_0x5c249f(0xa87)],'description':_0x109f6b['description'],'ingestBlocks':_0x109f6b['ingestBlocks'],'retrieveBlocks':_0x109f6b['retrieveBlocks']};});}[_0x3fd00f(0x944)](_0xfbdd5e){const _0x565c6b=_0x3fd00f;return _0x565c6b(0xab8)===_0xfbdd5e?'default':_0x565c6b(0x49b)===_0xfbdd5e?'root\x20::=\x20\x22true\x22\x20|\x20\x22false\x22':_0xfbdd5e;}}const _0x13e48a=_0x4355ff['getInstance']();class _0x29811e extends _0x4ba944{['localNode'];[_0x3fd00f(0x3ee)];[_0x3fd00f(0x9da)]=0x0;[_0x3fd00f(0x74b)]=0x0;['debounceStats'];constructor(_0xf8e915,_0x333185,_0x6c0a95,_0x34dc17){const _0x42c4c1=_0x3fd00f;super(_0xf8e915,_0x333185,_0x34dc17),this[_0x42c4c1(0x976)]=_0xf8e915,this['vendorId']=_0x6c0a95,this[_0x42c4c1(0x8b5)]();}[_0x3fd00f(0x407)](){const _0x17b93a=_0x3fd00f;this[_0x17b93a(0x357)]&&(clearTimeout(this[_0x17b93a(0x357)]),delete this[_0x17b93a(0x357)]),super[_0x17b93a(0x407)]();}[_0x3fd00f(0x4cb)](){const _0x57c712=_0x3fd00f;this[_0x57c712(0x9da)]=0x0,this[_0x57c712(0x74b)]=0x0,this[_0x57c712(0x8b5)](),super[_0x57c712(0x4cb)]();}['createAIJob'](_0xea763){const _0x1a776b=_0x3fd00f,_0x5093ea='job-'+(0x0,_0x630e7c['v4'])();switch(_0xea763[_0x1a776b(0x705)]){case'collection-create':{let _0x271372=!0x1;const _0x38d30f=()=>{const _0xa173d4=_0x1a776b;if(_0x271372)throw new _0x5d70cf(_0x5d70cf[_0xa173d4(0x765)][_0xa173d4(0xa6a)]);_0x271372=!0x0;};return{'id':_0x5093ea,..._0xea763,'run':()=>(_0x38d30f(),this[_0x1a776b(0x706)](_0x5093ea,_0xea763))};}case _0x1a776b(0x3cf):{let _0x19cfa6=!0x1;const _0x1386ad=()=>{const _0x5513f7=_0x1a776b;if(_0x19cfa6)throw new _0x5d70cf(_0x5d70cf[_0x5513f7(0x765)][_0x5513f7(0xa6a)]);_0x19cfa6=!0x0;};return{'id':_0x5093ea,..._0xea763,'run':()=>(_0x1386ad(),this['internalJob'](_0x5093ea,_0xea763))};}case _0x1a776b(0x1c2):{let _0x1131f0=!0x1;const _0x42c074=()=>{const _0x1d6d23=_0x1a776b;if(_0x1131f0)throw new _0x5d70cf(_0x5d70cf[_0x1d6d23(0x765)][_0x1d6d23(0xa6a)]);_0x1131f0=!0x0;};return{'id':_0x5093ea,..._0xea763,'run':()=>(_0x42c074(),this['internalJob'](_0x5093ea,_0xea763))};}case _0x1a776b(0x31e):{let _0x8aeeac=!0x1;const _0x5b860f=()=>{const _0x36cd1a=_0x1a776b;if(_0x8aeeac)throw new _0x5d70cf(_0x5d70cf[_0x36cd1a(0x765)][_0x36cd1a(0xa6a)]);_0x8aeeac=!0x0;};return{'id':_0x5093ea,..._0xea763,'run':()=>(_0x5b860f(),this['internalJob'](_0x5093ea,_0xea763))};}case _0x1a776b(0x583):{let _0xc9e164=!0x1;const _0x596788=()=>{const _0x249bee=_0x1a776b;if(_0xc9e164)throw new _0x5d70cf(_0x5d70cf[_0x249bee(0x765)]['GenerativeAIContextJobAlreadyConsumed']);_0xc9e164=!0x0;};return{'id':_0x5093ea,..._0xea763,'run':()=>(_0x596788(),this[_0x1a776b(0x706)](_0x5093ea,_0xea763))};}case _0x1a776b(0x934):{let _0x4ac1d4=!0x1;const _0x4c6fa4=()=>{if(_0x4ac1d4)throw new _0x5d70cf(_0x5d70cf['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x4ac1d4=!0x0;};return{'id':_0x5093ea,..._0xea763,'run':()=>(_0x4c6fa4(),this[_0x1a776b(0x706)](_0x5093ea,_0xea763))};}case _0x1a776b(0x52e):{let _0x41de28=!0x1;const _0x1abca9=()=>{const _0x2c41ec=_0x1a776b;if(_0x41de28)throw new _0x5d70cf(_0x5d70cf[_0x2c41ec(0x765)][_0x2c41ec(0xa6a)]);_0x41de28=!0x0;};return{'id':_0x5093ea,..._0xea763,'run':()=>(_0x1abca9(),this[_0x1a776b(0x706)](_0x5093ea,_0xea763))};}case'rate':{let _0x124582=!0x1;const _0x1be1de=()=>{const _0x406ead=_0x1a776b;if(_0x124582)throw new _0x5d70cf(_0x5d70cf[_0x406ead(0x765)][_0x406ead(0xa6a)]);_0x124582=!0x0;};return{'id':_0x5093ea,..._0xea763,'run':()=>(_0x1be1de(),this[_0x1a776b(0x706)](_0x5093ea,_0xea763))};}case _0x1a776b(0x6ea):{let _0x56a652=!0x1;const _0x2dc83c=()=>{const _0x2b176e=_0x1a776b;if(_0x56a652)throw new _0x5d70cf(_0x5d70cf[_0x2b176e(0x765)][_0x2b176e(0xa6a)]);_0x56a652=!0x0;};return{'id':_0x5093ea,..._0xea763,'run':()=>(_0x2dc83c(),this['internalJob'](_0x5093ea,_0xea763))};}case _0x1a776b(0x232):{let _0x56f973=!0x1;const _0x1ba2ae=()=>{const _0x579c40=_0x1a776b;if(_0x56f973)throw new _0x5d70cf(_0x5d70cf[_0x579c40(0x765)][_0x579c40(0xa6a)]);_0x56f973=!0x0;};return{'id':_0x5093ea,..._0xea763,'run':()=>(_0x1ba2ae(),this[_0x1a776b(0x706)](_0x5093ea,_0xea763))};}case'embed':{let _0x3c9c89=!0x1;const _0x1ac0fa=()=>{const _0x12a38b=_0x1a776b;if(_0x3c9c89)throw new _0x5d70cf(_0x5d70cf['codes'][_0x12a38b(0xa6a)]);_0x3c9c89=!0x0;};return{'id':_0x5093ea,..._0xea763,'run':()=>(_0x1ac0fa(),this['internalJob'](_0x5093ea,_0xea763))};}case _0x1a776b(0x99e):case'prompt':let _0x4afe85=!0x1;const _0x5b3fba=()=>{const _0x361a92=_0x1a776b;if(_0x4afe85)throw new _0x5d70cf(_0x5d70cf[_0x361a92(0x765)][_0x361a92(0xa6a)]);_0x4afe85=!0x0;},_0x277485=()=>(_0x5b3fba(),this[_0x1a776b(0x672)](_0x5093ea,_0xea763)),_0x17b66e=()=>(_0x5b3fba(),this[_0x1a776b(0x467)](_0x5093ea,_0xea763));return{'id':_0x5093ea,'options':{'threadId':_0x1a776b(0x2ea)+(0x0,_0x630e7c['v4'])()},..._0xea763,'run':_0x277485,'stream':_0x17b66e};default:throw new Error(_0x1a776b(0x4dc));}}async[_0x3fd00f(0x706)](_0x6c464d,_0x578b90){const _0x20c54a=_0x3fd00f;if(_0x20c54a(0x99e)===_0x578b90[_0x20c54a(0x705)]||'prompt'===_0x578b90[_0x20c54a(0x705)])throw new _0x19abf5(_0x2c23d1[_0x20c54a(0x42f)],_0x20c54a(0x4dc));const _0x20388b={'threadId':'thread-'+(0x0,_0x630e7c['v4'])(),..._0x578b90},_0x590d9f=await this['getJobObservable'](_0x6c464d,_0x548494['JobType'][_0x20c54a(0x20d)],_0x20388b);return new Promise((_0x5d7791,_0x356e86)=>{const _0x5ac9b1=_0x20c54a;let _0x1c0b8a;const _0x30ef69=_0x590d9f[_0x5ac9b1(0x84f)]({'next':_0xe7e1c1=>{const _0x5f22ed=_0x5ac9b1;switch(_0xe7e1c1['status']){case _0x548494[_0x5f22ed(0x305)]['Completed']:clearTimeout(_0x1c0b8a),_0x5d7791(_0xe7e1c1[_0x5f22ed(0x204)]),_0x30ef69[_0x5f22ed(0x35a)]();break;case _0x548494[_0x5f22ed(0x305)][_0x5f22ed(0x3ad)]:clearTimeout(_0x1c0b8a),_0x356e86(new _0x5d70cf(_0x5d70cf[_0x5f22ed(0x765)]['GenerativeAIContextJobFailed'],{'updatedJob':_0xe7e1c1})),_0x30ef69['unsubscribe']();}},'error':_0x32f9bf=>{const _0x49ae6b=_0x5ac9b1;clearTimeout(_0x1c0b8a),_0x356e86(new _0x5d70cf(_0x5d70cf[_0x49ae6b(0x765)]['GenerativeAIContextJobFailed'],{'err':_0x32f9bf})),_0x30ef69[_0x49ae6b(0x35a)]();}});_0x1c0b8a=setTimeout(()=>{const _0x5c4d77=_0x5ac9b1;_0x356e86(new _0x5d70cf(_0x5d70cf[_0x5c4d77(0x765)]['GenerativeAIContextJobTimeout'])),_0x30ef69[_0x5c4d77(0x35a)]();},_0x37a0a9);});}async['run'](_0x431a25,_0x454394){const _0x16741d=_0x3fd00f,_0x115f1a=await this[_0x16741d(0x424)](_0x431a25,_0x548494[_0x16741d(0x450)][_0x16741d(0x20d)],_0x454394);return new Promise((_0x3dab39,_0x143f73)=>{const _0x50aee1=_0x16741d;let _0x519503;const _0x46fae2=_0x115f1a[_0x50aee1(0x84f)]({'next':_0x1f9f6b=>{const _0x46dc55=_0x50aee1;switch(_0x1f9f6b[_0x46dc55(0x2f5)]){case _0x548494[_0x46dc55(0x305)]['Completed']:if(_0x46dc55(0x9fe)!==_0x1f9f6b[_0x46dc55(0x204)][_0x46dc55(0x705)])return;const _0x210b5c=_0x1f9f6b[_0x46dc55(0x204)][_0x46dc55(0x22f)]??0x0;this[_0x46dc55(0x729)](_0x454394[_0x46dc55(0x9fe)],_0x210b5c),clearTimeout(_0x519503),_0x3dab39(_0x1f9f6b[_0x46dc55(0x204)]),_0x46fae2[_0x46dc55(0x35a)](),this[_0x46dc55(0x9da)]+=0x1,this[_0x46dc55(0x74b)]+=_0x210b5c,this['sendStats']();break;case _0x548494[_0x46dc55(0x305)][_0x46dc55(0x3ad)]:clearTimeout(_0x519503),_0x143f73(new _0x5d70cf(_0x5d70cf[_0x46dc55(0x765)][_0x46dc55(0x8db)],{'updatedJob':_0x1f9f6b})),_0x46fae2[_0x46dc55(0x35a)](),this['sendStats']();}},'error':_0x513c77=>{const _0x532bf9=_0x50aee1;clearTimeout(_0x519503),_0x143f73(new _0x5d70cf(_0x5d70cf[_0x532bf9(0x765)][_0x532bf9(0x8db)],{'err':_0x513c77})),_0x46fae2[_0x532bf9(0x35a)]();}});_0x519503=setTimeout(()=>{const _0x3ec9ff=_0x50aee1;_0x143f73(new _0x5d70cf(_0x5d70cf[_0x3ec9ff(0x765)][_0x3ec9ff(0x5b5)])),_0x46fae2[_0x3ec9ff(0x35a)]();},_0x37a0a9);});}async*['stream'](_0x3a3854,_0x2277a2){const _0x143008=_0x3fd00f,_0x41cd07=await this['getJobObservable'](_0x3a3854,_0x548494[_0x143008(0x450)]['JobStream'],_0x2277a2);let _0x5196e5,_0xad47a,_0x1fe103=!0x1,_0x2cfa3b=0x0;const _0x48f2b2=[],_0x4fb104=new Map();let _0x5aefe2=null;const _0x7bf75b=()=>{_0x5aefe2&&(_0x5aefe2(),_0x5aefe2=null);},_0x220a72=_0x559a97=>{const _0x5ce9c1=_0x143008;_0x1fe103=!0x0,_0x7bf75b(),_0x361a3f[_0x5ce9c1(0x35a)](),_0xad47a=_0x559a97;},_0x361a3f=_0x41cd07[_0x143008(0x84f)]({'next':async _0x42be19=>{const _0x2ce2e7=_0x143008;switch(_0x42be19[_0x2ce2e7(0x2f5)]){case _0x548494[_0x2ce2e7(0x305)][_0x2ce2e7(0x3b5)]:if(_0x2ce2e7(0x9fe)!==_0x42be19['result']['type'])return;if(void 0x0!==_0x42be19['result'][_0x2ce2e7(0x66e)]){if(void 0x0===_0x42be19[_0x2ce2e7(0x204)]['index'])return void _0x220a72(_0x5d70cf['codes'][_0x2ce2e7(0x273)]);_0x2cfa3b===_0x42be19[_0x2ce2e7(0x204)][_0x2ce2e7(0x9f9)]?(_0x48f2b2['push'](_0x42be19[_0x2ce2e7(0x204)]),_0x2cfa3b++,((()=>{const _0x3d23bd=_0x2ce2e7;for(;_0x4fb104[_0x3d23bd(0x68d)](_0x2cfa3b);)_0x48f2b2['push'](_0x4fb104[_0x3d23bd(0x7ae)](_0x48f2b2[_0x3d23bd(0xa5f)])),_0x4fb104['delete'](_0x48f2b2[_0x3d23bd(0xa5f)]),_0x2cfa3b++;})()),_0x7bf75b(),_0x5167ae()):_0x4fb104[_0x2ce2e7(0x1f5)](_0x42be19['result'][_0x2ce2e7(0x9f9)],_0x42be19[_0x2ce2e7(0x204)]);}break;case _0x548494[_0x2ce2e7(0x305)][_0x2ce2e7(0x5ff)]:if(_0x2ce2e7(0x9fe)!==_0x42be19[_0x2ce2e7(0x204)][_0x2ce2e7(0x705)])return;for(;_0x2cfa3b!==_0x42be19[_0x2ce2e7(0x204)][_0x2ce2e7(0x9f9)];)await _0xa2c3bc['wait'](0x3e8);const _0x17e0a5=_0x42be19['result'][_0x2ce2e7(0x22f)]??0x0;this[_0x2ce2e7(0x729)](_0x2277a2[_0x2ce2e7(0x9fe)],_0x17e0a5),clearTimeout(_0x5196e5),_0x220a72(),this[_0x2ce2e7(0x9da)]+=0x1,this['tokens']+=_0x17e0a5,this['sendStats']();break;case _0x548494['JobStatus'][_0x2ce2e7(0x3ad)]:clearTimeout(_0x5196e5),_0x220a72(_0x5d70cf[_0x2ce2e7(0x765)][_0x2ce2e7(0x8db)]),this[_0x2ce2e7(0x8b5)]();}},'error':_0x28b0e4=>{clearTimeout(_0x5196e5),_0x220a72(_0x5d70cf['codes']['GenerativeAIContextJobFailed']);}}),_0x1c8069=()=>{const _0xf09fca=_0x143008;_0x220a72(_0x5d70cf[_0xf09fca(0x765)][_0xf09fca(0x5b5)]);},_0x5167ae=()=>{clearTimeout(_0x5196e5),_0x5196e5=setTimeout(_0x1c8069,_0x37a0a9);};for(_0x5196e5=setTimeout(_0x1c8069,_0x37a0a9);!_0x1fe103||_0x48f2b2[_0x143008(0xa5f)]>0x0;)_0x48f2b2[_0x143008(0xa5f)]>0x0?yield _0x48f2b2['shift']():await new Promise(_0x5b12ca=>_0x5aefe2=_0x5b12ca);if(_0xad47a)throw _0x404abe[_0x143008(0x805)](_0x143008(0x463),{'nodeId':this['localNode'][_0x143008(0xb04)](),'nodeType':this[_0x143008(0x976)][_0x143008(0x705)]}),new _0x5d70cf(_0xad47a);}async[_0x3fd00f(0x207)](){const _0x3a3d5f=_0x3fd00f;return(await _0x13e48a[_0x3a3d5f(0x3ea)](this[_0x3a3d5f(0x3ee)],this[_0x3a3d5f(0x985)]))[_0x3a3d5f(0x24d)];}[_0x3fd00f(0x729)](_0x1a88ad,_0x2d1ad6){const _0x1df974=_0x3fd00f,_0x3b32bd=this['label'],_0x27aae7=this[_0x1df974(0x252)]();_0x404abe['logServiceEvent'](_0x5de0fb['GenerativeAIContext'],{'topic':_0x3b32bd,'prompt':_0x1a88ad,'type':_0x1df974(0x9fe),'nodeId':_0x27aae7,'tokenCount':_0x2d1ad6});}async[_0x3fd00f(0x424)](_0x259195,_0x140a37,_0x2bf54f,_0x5a15b1={}){const _0x31d4b5=_0x3fd00f;let _0x23678d;switch(_0x2bf54f[_0x31d4b5(0x705)]){case _0x31d4b5(0x7fe):case _0x31d4b5(0x3cf):case _0x31d4b5(0x1c2):case _0x31d4b5(0x19d):case _0x31d4b5(0x31e):case _0x31d4b5(0x583):case'file-ingest':case _0x31d4b5(0x52e):case'inference':case _0x31d4b5(0x9fe):case _0x31d4b5(0x268):case _0x31d4b5(0x6ea):case'tool-call':_0x23678d={'id':_0x259195,'jobType':_0x140a37,'parameters':{..._0x5a15b1,..._0x2bf54f},'status':_0x548494[_0x31d4b5(0x305)][_0x31d4b5(0x2dc)]};break;default:throw new Error(_0x31d4b5(0x4dc));}return await this['createJob'](_0x23678d);}['sendStats'](){const _0x2f979b=_0x3fd00f;this[_0x2f979b(0x357)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x580afe=_0x2f979b;delete this[_0x580afe(0x357)],this[_0x580afe(0x5cb)]['publish']({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x580afe(0x870)],'content':{'type':_0x347d3c[_0x580afe(0x525)],'label':this['label'],'stats':{'timestamp':Date[_0x580afe(0x441)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x580afe(0x9d3)],'writes':0x0,'reads':0x0,'prompts':this[_0x580afe(0x9da)],'tokens':this[_0x580afe(0x74b)]}}});},_0x59b95b);}}var _0x40d891,_0x2d1136,_0x3a2fff,_0x3e0954,_0x52466d,_0x290819,_0x414104,_0x556586,_0x3e2592,_0x1a7c45,_0x39d228;!function(_0x525634){const _0x394449=_0x3fd00f;_0x525634[_0x394449(0x27e)]=_0x394449(0x27e),_0x525634['IngestTrace']=_0x394449(0x943),_0x525634['RetrieveTrace']='RetrieveTrace',_0x525634[_0x394449(0x269)]='WorkflowTrace';}(_0x40d891||(_0x40d891={})),function(_0x41448d){const _0x303974=_0x3fd00f;_0x41448d[_0x303974(0x1c8)]=_0x303974(0x1c8),_0x41448d[_0x303974(0x982)]=_0x303974(0x982),_0x41448d['VectorSearch']=_0x303974(0x313),_0x41448d['EntityExtractor']='EntityExtractor',_0x41448d[_0x303974(0x94e)]=_0x303974(0x94e),_0x41448d[_0x303974(0x2e7)]=_0x303974(0x2e7);}(_0x2d1136||(_0x2d1136={})),function(_0x1d4904){const _0x2de49a=_0x3fd00f;_0x1d4904[_0x1d4904[_0x2de49a(0x649)]=0x0]=_0x2de49a(0x649),_0x1d4904[_0x1d4904[_0x2de49a(0xa80)]=0x5]=_0x2de49a(0xa80),_0x1d4904[_0x1d4904[_0x2de49a(0x355)]=0xa]=_0x2de49a(0x355),_0x1d4904[_0x1d4904['Error']=0xf]=_0x2de49a(0x685);}(_0x3a2fff||(_0x3a2fff={})),function(_0x41f5c9){const _0x7d9ea5=_0x3fd00f;_0x41f5c9['Retrieve']='Retrieve',_0x41f5c9[_0x7d9ea5(0xa7d)]=_0x7d9ea5(0xa7d),_0x41f5c9[_0x7d9ea5(0x8ef)]=_0x7d9ea5(0x8ef),_0x41f5c9[_0x7d9ea5(0x3ab)]='Skill',_0x41f5c9[_0x7d9ea5(0x67f)]='Workflow',_0x41f5c9[_0x7d9ea5(0x20d)]='Job',_0x41f5c9[_0x7d9ea5(0x774)]=_0x7d9ea5(0x774),_0x41f5c9[_0x7d9ea5(0x546)]=_0x7d9ea5(0x546);}(_0x3e0954||(_0x3e0954={})),function(_0x4da7f7){const _0x3f447a=_0x3fd00f;_0x4da7f7['Queued']=_0x3f447a(0x433),_0x4da7f7[_0x3f447a(0x5ff)]=_0x3f447a(0x5ff);}(_0x52466d||(_0x52466d={})),function(_0x305963){const _0x349815=_0x3fd00f;_0x305963['InitialPrompt']=_0x349815(0x1de),_0x305963['IntermediateOutput']='IntermediateOutput',_0x305963[_0x349815(0x6ab)]=_0x349815(0x6ab),_0x305963[_0x349815(0x4f2)]=_0x349815(0x4f2);}(_0x290819||(_0x290819={})),function(_0x21a2c2){const _0x44edaf=_0x3fd00f;_0x21a2c2[_0x44edaf(0x45d)]=_0x44edaf(0x45d),_0x21a2c2[_0x44edaf(0x343)]='DocumentParser',_0x21a2c2[_0x44edaf(0x9d1)]='EntityExtractor',_0x21a2c2[_0x44edaf(0x3bb)]=_0x44edaf(0x3bb),_0x21a2c2['Agent']=_0x44edaf(0xa4c),_0x21a2c2['ModelText']=_0x44edaf(0x1c8),_0x21a2c2[_0x44edaf(0x982)]='ModelVector',_0x21a2c2[_0x44edaf(0xa57)]=_0x44edaf(0xa57),_0x21a2c2[_0x44edaf(0x2d6)]=_0x44edaf(0x2d6),_0x21a2c2[_0x44edaf(0x2f3)]=_0x44edaf(0x2f3),_0x21a2c2[_0x44edaf(0x4a6)]=_0x44edaf(0x4a6);}(_0x414104||(_0x414104={})),function(_0x271df5){const _0x489380=_0x3fd00f;_0x271df5[_0x489380(0x75a)]='GetContextQuery',_0x271df5[_0x489380(0x7f0)]='GetContextResult';}(_0x556586||(_0x556586={})),function(_0x50152b){const _0x2eb85b=_0x3fd00f;_0x50152b['ExecuteCode']='ExecuteCode',_0x50152b[_0x2eb85b(0x7e2)]=_0x2eb85b(0x7e2),_0x50152b[_0x2eb85b(0x96f)]=_0x2eb85b(0x96f),_0x50152b[_0x2eb85b(0x230)]=_0x2eb85b(0x230),_0x50152b[_0x2eb85b(0x388)]=_0x2eb85b(0x388),_0x50152b[_0x2eb85b(0xae6)]='ExecuteCustomSkill',_0x50152b[_0x2eb85b(0x780)]=_0x2eb85b(0x780),_0x50152b['WriteFile']=_0x2eb85b(0x1d9);}(_0x3e2592||(_0x3e2592={})),function(_0x2ab33a){const _0x40fec1=_0x3fd00f;_0x2ab33a['LoadKnowledgeFunction']=_0x40fec1(0x933),_0x2ab33a[_0x40fec1(0x90f)]=_0x40fec1(0x90f);}(_0x1a7c45||(_0x1a7c45={})),function(_0x1146bb){const _0x4e0b9e=_0x3fd00f;_0x1146bb[_0x4e0b9e(0x735)]='PromptRating';}(_0x39d228||(_0x39d228={}));class _0x2f248b{static [_0x3fd00f(0x9a3)]=new _0x2f248b();[_0x3fd00f(0x6d2)]=[];[_0x3fd00f(0x479)]=!0x1;constructor(){}static[_0x3fd00f(0x251)](){const _0x5b98d4=_0x3fd00f;return _0x2f248b[_0x5b98d4(0x9a3)];}get[_0x3fd00f(0xa5f)](){const _0x5b02a1=_0x3fd00f;return this[_0x5b02a1(0x6d2)][_0x5b02a1(0xa5f)];}[_0x3fd00f(0x887)](){const _0x2afe5a=_0x3fd00f;return!this[_0x2afe5a(0x479)];}[_0x3fd00f(0x7e7)](_0xed503b){const _0x4030d9=_0x3fd00f;_0xed503b?this[_0x4030d9(0x6d2)]=this[_0x4030d9(0x6d2)]['filter'](_0x1489a2=>_0x1489a2[_0x4030d9(0x490)]!==_0xed503b):(this['jobQueue']=[],this[_0x4030d9(0x479)]=!0x1);}['add'](_0x223485,_0x3e75df){const _0x1b6e0f=_0x3fd00f;this[_0x1b6e0f(0x6d2)][_0x1b6e0f(0x639)]({'callback':_0x3e75df,'ownerId':_0x223485}),this['runJobQueue']();}async['runJobQueue'](){const _0x5e84d0=_0x3fd00f;if(!this[_0x5e84d0(0x479)]){for(this[_0x5e84d0(0x479)]=!0x0;this[_0x5e84d0(0x6d2)][_0x5e84d0(0xa5f)]>0x0;){const _0x513936=this[_0x5e84d0(0x6d2)][_0x5e84d0(0x63a)]();if(_0x513936)try{console[_0x5e84d0(0x71e)](_0x5e84d0(0x9d7)),await _0x513936['callback'](),console[_0x5e84d0(0x71e)](_0x5e84d0(0x7a4));}catch(_0x81a3aa){console[_0x5e84d0(0x805)]('JobQueueService:\x20Error\x20running\x20job',_0x81a3aa);}}this[_0x5e84d0(0x479)]=!0x1;}}}const _0x4b33ae=_0x2f248b['getInstance']();class _0x21a5fb extends _0x31e81e{[_0x3fd00f(0x4a8)];[_0x3fd00f(0x3cb)];constructor(_0x1edb9b,_0x2cde32,_0x12f2c0){const _0x49cffe=_0x3fd00f;super(_0x1edb9b,_0x2cde32),this[_0x49cffe(0x4a8)]=_0x12f2c0;}['getContentType'](){const _0x407fe4=_0x3fd00f;return _0x548494['ContentType'][_0x407fe4(0x20d)];}[_0x3fd00f(0x57a)](){const _0x5a6ae0=_0x3fd00f;this[_0x5a6ae0(0x9b6)]();}[_0x3fd00f(0x883)](){const _0x5e27f7=_0x3fd00f;this[_0x5e27f7(0x5cb)]?.['publish']({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x5e27f7(0x870)],'content':{'type':_0x347d3c[_0x5e27f7(0xaf3)],'label':this[_0x5e27f7(0x985)]}});}['reset'](){const _0x3b5f05=_0x3fd00f;this[_0x3b5f05(0x3cb)]?.(),delete this['unsubscribeListener'],this[_0x3b5f05(0x57a)]();}[_0x3fd00f(0x407)](){const _0x419027=_0x3fd00f;_0x4b33ae[_0x419027(0x7e7)](this[_0x419027(0x985)]),this[_0x419027(0x3cb)]?.(),delete this[_0x419027(0x3cb)],super[_0x419027(0x407)]();}[_0x3fd00f(0x887)](){const _0x2bf03=_0x3fd00f;return _0x4b33ae[_0x2bf03(0x887)]();}[_0x3fd00f(0xadd)](){return 0x1;}[_0x3fd00f(0x4b5)](_0x40c685,_0x5ca4a0,_0x4a1bba){}[_0x3fd00f(0x453)](_0x1704d7,_0x25c204){return _0x1704d7;}async[_0x3fd00f(0x7e9)](_0x21086b,_0x407fb8){const _0xcb51c3=_0x3fd00f;console[_0xcb51c3(0x71e)]('JobWorker:\x20Tracing\x20not\x20implemented');}async[_0x3fd00f(0x4a2)](_0x407b85,_0x480a59){const _0xc0bf11=_0x3fd00f;console[_0xc0bf11(0x71e)](_0xc0bf11(0x87e));}[_0x3fd00f(0x9b6)](){const _0x23b97f=_0x3fd00f;this[_0x23b97f(0x3cb)]||(this[_0x23b97f(0x3cb)]=this[_0x23b97f(0xa7f)](async(_0x1e0ca2,_0x3f36ef)=>{const _0x3cfc42=_0x23b97f;if(_0x404abe['log'](_0x20ff7d[_0x3cfc42(0x188)],_0x3cfc42(0x906),_0x3f36ef),!(_0x3f36ef instanceof File)){if(this[_0x3cfc42(0x9bc)](_0x3f36ef))_0x404abe['log'](_0x20ff7d['Jobs'],_0x3cfc42(0x6a3),_0x3f36ef),this['isAvailable']()?this[_0x3cfc42(0x8ca)](_0x3f36ef['id'],_0x3f36ef[_0x3cfc42(0x1c0)],_0x1e0ca2):this[_0x3cfc42(0x85d)](_0x3f36ef['id'],_0x3f36ef[_0x3cfc42(0x1c0)],_0x1e0ca2);else{if(this[_0x3cfc42(0x1c3)](_0x3f36ef)){_0x404abe[_0x3cfc42(0x327)](_0x20ff7d[_0x3cfc42(0x188)],_0x3cfc42(0x2f9),_0x3f36ef);const {id:_0x9f4907,parameters:_0xd27c95}=_0x3f36ef;await this[_0x3cfc42(0x7e9)](_0x9f4907,_0xd27c95),this[_0x3cfc42(0x55a)](_0x3f36ef['id'],_0x3f36ef,_0x1e0ca2);}}}}));}[_0x3fd00f(0x8ca)](_0x991019,_0x4d4330,_0x478b37){const _0x3959e5=_0x3fd00f,_0x1312ca={'id':_0x991019,'jobType':_0x4d4330,'jobPhase':_0x3b4987[_0x3959e5(0x540)],'available':!0x0,'queueLength':_0x4b33ae[_0x3959e5(0xa5f)],'bid':this[_0x3959e5(0xadd)]()};_0x404abe[_0x3959e5(0x327)](_0x20ff7d[_0x3959e5(0x188)],'JobWorker:\x20Sending\x20job\x20bid',_0x1312ca),this[_0x3959e5(0x5b8)](_0x1312ca,[_0x478b37]);}[_0x3fd00f(0x85d)](_0x5c19cd,_0x4bd3d9,_0x34ba11){const _0x35da6f=_0x3fd00f,_0x52255d={'id':_0x5c19cd,'jobType':_0x4bd3d9,'jobPhase':_0x3b4987[_0x35da6f(0x540)],'available':!0x1,'queueLength':_0x4b33ae['length'],'bid':0x0};_0x404abe[_0x35da6f(0x327)](_0x20ff7d['Jobs'],_0x35da6f(0x2e3),_0x52255d),this['send'](_0x52255d,[_0x34ba11]);}async[_0x3fd00f(0x55a)](_0x1c747a,_0xaa32eb,_0x4e44de){const _0x3ab065=_0x3fd00f;_0x404abe[_0x3ab065(0x327)](_0x20ff7d[_0x3ab065(0x188)],_0x3ab065(0x9ff),_0xaa32eb);const _0x23b7d8={'id':_0x1c747a,'jobType':_0xaa32eb['jobType'],'parameters':_0xaa32eb[_0x3ab065(0x644)]};try{switch(_0xaa32eb[_0x3ab065(0x1c0)]){case _0x548494['JobType']['Job']:await this[_0x3ab065(0x5f7)](_0x1c747a,_0xaa32eb,_0x23b7d8,_0x4e44de);break;case _0x548494[_0x3ab065(0x450)][_0x3ab065(0x48a)]:await this[_0x3ab065(0x2f2)](_0x1c747a,_0xaa32eb,_0x23b7d8,_0x4e44de);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0x16a7ed){_0x404abe[_0x3ab065(0x805)](_0x3ab065(0x1a9),{'nodeId':this['owner'][_0x3ab065(0xb04)](),'nodeType':this['owner']['type'],'data':{'job':_0x23b7d8}},_0x16a7ed);const _0x11cab1=_0x16a7ed instanceof Error?_0x16a7ed[_0x3ab065(0x382)]:'An\x20error\x20occurred',_0x1a8e37={'id':_0x1c747a,'jobType':_0xaa32eb[_0x3ab065(0x1c0)],'jobPhase':_0x3b4987[_0x3ab065(0x3ad)],'message':_0x11cab1};await this[_0x3ab065(0x5b8)](_0x1a8e37,[_0x4e44de]);}}async[_0x3fd00f(0x5f7)](_0x2ee46a,_0x1f67d6,_0x58f0c0,_0x49926a){const _0x2a290c=_0x3fd00f,_0x45a7b9=Date[_0x2a290c(0x441)](),_0x13c913=await this[_0x2a290c(0x542)](_0x2ee46a,_0x58f0c0[_0x2a290c(0x644)]);this[_0x2a290c(0x4b5)](_0x13c913,_0x45a7b9,Date[_0x2a290c(0x441)]());const _0x59acf4={'id':_0x2ee46a,'jobType':_0x1f67d6[_0x2a290c(0x1c0)],'jobPhase':_0x3b4987[_0x2a290c(0x510)],'result':_0x13c913};_0x404abe['log'](_0x20ff7d[_0x2a290c(0x188)],_0x2a290c(0x508),_0x59acf4),await this['send'](_0x59acf4,[_0x49926a]),await this[_0x2a290c(0x4a2)](_0x2ee46a,_0x58f0c0['parameters']);}async[_0x3fd00f(0x2f2)](_0x5e5342,_0x467b40,_0x3a4a59,_0x405552){const _0x110ff5=_0x3fd00f,_0x37311e=Date[_0x110ff5(0x441)]();let _0x1b1e97=0x0,_0x410608={};for await(const _0x531438 of this[_0x110ff5(0x669)](_0x3a4a59['id'],_0x3a4a59[_0x110ff5(0x644)])){const _0x1b466a={'id':_0x5e5342,'jobType':_0x467b40['jobType'],'jobPhase':_0x3b4987[_0x110ff5(0x519)],'result':{..._0x531438,'index':_0x1b1e97}};_0x404abe[_0x110ff5(0x327)](_0x20ff7d[_0x110ff5(0x188)],_0x110ff5(0x864),_0x1b466a),this[_0x110ff5(0x5b8)](_0x1b466a,[_0x405552]),_0x410608=this[_0x110ff5(0x453)](_0x410608,_0x531438),_0x1b1e97++;}this[_0x110ff5(0x4b5)](_0x410608,_0x37311e,Date['now']());const _0x52a4a8={'id':_0x5e5342,'jobType':_0x467b40[_0x110ff5(0x1c0)],'jobPhase':_0x3b4987[_0x110ff5(0x510)],'result':{..._0x410608,'index':_0x1b1e97}};_0x404abe[_0x110ff5(0x327)](_0x20ff7d['Jobs'],_0x110ff5(0x508),_0x52a4a8),await this[_0x110ff5(0x5b8)](_0x52a4a8,[_0x405552]),await this[_0x110ff5(0x4a2)](_0x5e5342,_0x3a4a59[_0x110ff5(0x644)]);}[_0x3fd00f(0x9bc)](_0x1dd970){const _0x46f93b=_0x3fd00f;return _0x1dd970['jobPhase']===_0x3b4987[_0x46f93b(0x6b2)];}[_0x3fd00f(0x1c3)](_0x53232f){const _0x304387=_0x3fd00f;return _0x53232f[_0x304387(0x9a1)]===_0x3b4987[_0x304387(0x84e)];}}function _0x4d89db(_0x3ba389){const _0x4cc692=_0x3fd00f;try{return JSON[_0x4cc692(0x6b1)](_0x3ba389);}catch(_0x4cc342){return _0x3ba389 instanceof Error?_0x3ba389['toString']():JSON[_0x4cc692(0x6b1)]('Error\x20stringifying\x20object');}}class _0x381edd{static [_0x3fd00f(0x9a3)];['logLevel']=_0x3a2fff[_0x3fd00f(0x685)];[_0x3fd00f(0x36c)]=_0x3a2fff['Info'];[_0x3fd00f(0x1ac)]=_0x3e0954[_0x3fd00f(0x5d2)];[_0x3fd00f(0x621)]={};static ['getInstance']=()=>(_0x381edd[_0x3fd00f(0x9a3)]||(_0x381edd['instance']=new _0x381edd()),_0x381edd[_0x3fd00f(0x9a3)]);async[_0x3fd00f(0x1d0)](_0x43d088,_0x3d17ec,_0xe652a9,_0x30b08b){const _0x75f0a8=_0x3fd00f;try{if(this['openedTraces'][_0x3d17ec])throw new Error(_0x75f0a8(0x746));const _0x97df78={'vendorId':_0x43d088,'workflowId':_0xe652a9,'sequence':0x0};return this['openedTraces'][_0x3d17ec]=_0x97df78,!_0x30b08b||!_0xe652a9||(await(0x0,_0x225f39[_0x75f0a8(0x738)])((0x0,_0x225f39[_0x75f0a8(0x199)])(_0x616df3[_0x75f0a8(0x390)](),_0x75f0a8(0x7a8)+_0x43d088+'/workflows/'+_0xe652a9+_0x75f0a8(0x344),_0x3d17ec),{'threadId':_0x30b08b,'startTime':(0x0,_0x225f39[_0x75f0a8(0x2d1)])()}),!0x0);}catch(_0x2ad8f1){return console[_0x75f0a8(0x805)](_0x75f0a8(0x9b7),_0x2ad8f1),!0x1;}}async[_0x3fd00f(0x25d)](_0x403bfd){const _0x3cbca6=_0x3fd00f;try{const _0x16e5c4=this['openedTraces'][_0x403bfd[_0x3cbca6(0x8b3)]];if(!_0x16e5c4)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0x403bfd['sequence']=_0x16e5c4[_0x3cbca6(0x482)]++,_0x403bfd['traceLevel']>=this[_0x3cbca6(0x5dd)]&&console[_0x3cbca6(0x327)](JSON[_0x3cbca6(0x6b1)](_0x403bfd,null,0x2)),await this['commitTrace'](_0x403bfd);}catch(_0x436fbc){console[_0x3cbca6(0x805)](_0x3cbca6(0x953),_0x436fbc);}}async[_0x3fd00f(0x412)](_0x32b6df,_0x1ca11a){const _0x576e2d=_0x3fd00f;if(!_0x381edd[_0x576e2d(0x9a3)])throw new Error('GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open');if(!this['openedTraces'][_0x32b6df])throw new Error(_0x576e2d(0x34d));if(_0x1ca11a&&this[_0x576e2d(0x621)][_0x32b6df][_0x576e2d(0x25f)])try{await(0x0,_0x225f39[_0x576e2d(0x738)])((0x0,_0x225f39[_0x576e2d(0x199)])(_0x616df3[_0x576e2d(0x390)](),_0x576e2d(0x7a8)+this[_0x576e2d(0x621)][_0x32b6df]['vendorId']+_0x576e2d(0x5bb)+this[_0x576e2d(0x621)][_0x32b6df][_0x576e2d(0x25f)]+_0x576e2d(0x344),_0x32b6df),{'endTime':(0x0,_0x225f39['serverTimestamp'])()},{'merge':!0x0}),delete this['openedTraces'][_0x32b6df];}catch(_0x3dc04f){console[_0x576e2d(0x805)](_0x576e2d(0x63e),_0x3dc04f);}else delete this[_0x576e2d(0x621)][_0x32b6df];}async['commitTrace'](_0x1c4540){const _0x536aac=_0x3fd00f;if(_0x1c4540['traceLevel']<this[_0x536aac(0x36c)]&&_0x1c4540['jobType']!==this[_0x536aac(0x1ac)])return;if(!this[_0x536aac(0x621)][_0x1c4540[_0x536aac(0x8b3)]])throw new Error(_0x536aac(0x988));const _0x443372=this[_0x536aac(0x621)][_0x1c4540['jobId']];try{const _0x4f57eb=function(_0x405f9c){const _0x13f483=_0x536aac,_0x1c5ac9=[_0x13f483(0x69c),_0x13f483(0x1cc),_0x13f483(0x1c0),_0x13f483(0x705),_0x13f483(0x8b3),_0x13f483(0x306),_0x13f483(0xa1f),_0x13f483(0x2f5),'sequence',_0x13f483(0x8ce)],_0x454c3e={..._0x405f9c};for(const _0x5529c8 of _0x1c5ac9)delete _0x454c3e[_0x5529c8];return{'timestamp':_0x405f9c[_0x13f483(0x1cc)],'jobType':_0x405f9c['jobType'],'type':_0x405f9c[_0x13f483(0x705)],'jobId':_0x405f9c[_0x13f483(0x8b3)],'agentId':_0x405f9c[_0x13f483(0xa5c)]??'','traceLevel':_0x405f9c[_0x13f483(0x306)],'blockId':_0x405f9c[_0x13f483(0xa1f)]??'','startTime':_0x405f9c[_0x13f483(0x69c)],'status':_0x405f9c[_0x13f483(0x2f5)],'sequence':_0x405f9c['sequence']??0x0,'errorDetails':_0x405f9c['errorDetails']??'','metadata':_0x4d89db(_0x454c3e)};}(_0x1c4540),_0x50d375=(0x0,_0x630e7c['v4'])();console[_0x536aac(0x327)](_0x536aac(0x78e),_0x4f57eb[_0x536aac(0x705)]),await(0x0,_0x225f39[_0x536aac(0x738)])((0x0,_0x225f39['doc'])(_0x616df3[_0x536aac(0x390)](),'developers/'+_0x443372[_0x536aac(0x3ee)]+_0x536aac(0x5bb)+_0x443372[_0x536aac(0x25f)]+_0x536aac(0x606)+_0x1c4540[_0x536aac(0x8b3)]+'/traces',_0x50d375),_0x4f57eb),_0x1c4540[_0x536aac(0x705)]===_0x39d228['PromptRating']&&await(0x0,_0x225f39[_0x536aac(0x738)])((0x0,_0x225f39[_0x536aac(0x199)])(_0x616df3[_0x536aac(0x390)](),_0x536aac(0x7a8)+_0x443372[_0x536aac(0x3ee)]+'/workflows/'+_0x443372[_0x536aac(0x25f)]+'/jobs',_0x1c4540['jobId']),{'rating':_0x1c4540[_0x536aac(0x558)]},{'merge':!0x0});}catch(_0x433060){console['error'](_0x536aac(0x4f1),_0x433060);}}}const _0x1c1b26=_0x381edd[_0x3fd00f(0x251)]();async function _0x5c173d(_0x52df41,_0x4a5f10,_0x2b1c16,_0x2350aa,_0x209fe2,_0x4fe0da){const _0x23a9a3=_0x3fd00f,_0x4c4a96=Date[_0x23a9a3(0x441)]();if(!_0x4fe0da[_0x23a9a3(0x36e)]['find'](_0x112582=>_0x112582['id']===_0x2350aa[_0x23a9a3(0x165)]))throw new Error(_0x23a9a3(0x1f0));const _0x218503=(0x0,_0x630e7c['v4'])(),_0xc817bf=[];_0xc817bf[_0x23a9a3(0x639)]({'role':_0x23a9a3(0x25b),'content':_0x2350aa[_0x23a9a3(0x40a)]}),_0xc817bf[_0x23a9a3(0x639)]({'role':_0x23a9a3(0x814),'content':_0x2b1c16});const _0x5adea2=await fetch(_0x2c3579[_0x23a9a3(0x37a)]+_0x23a9a3(0x4c6),{'method':_0x23a9a3(0x81e),'headers':{'Content-Type':'application/json','x-vendor-id':_0x52df41},'body':JSON[_0x23a9a3(0x6b1)]({'model':_0x2350aa[_0x23a9a3(0x165)],'messages':_0xc817bf,'max_completion_tokens':_0x2350aa[_0x23a9a3(0x3b7)],'temperature':_0x2350aa['temperature'],'threadId':_0x218503})}),_0x7c2afc=(await _0x5adea2[_0x23a9a3(0x80e)]())['choices'][0x0][_0x23a9a3(0x382)][_0x23a9a3(0xaf0)];await _0x1c1b26[_0x23a9a3(0x25d)]({'jobType':_0x3e0954[_0x23a9a3(0xa7d)],'type':_0x414104['Agent'],'jobId':_0x4a5f10,'blockId':_0x2350aa['id'],'traceLevel':_0x3a2fff[_0x23a9a3(0x649)],'timestamp':Date[_0x23a9a3(0x441)](),'startTime':_0x4c4a96,'status':_0x23a9a3(0x57e),'agentId':_0x218503,'content':_0x2b1c16,'instructions':_0x2350aa[_0x23a9a3(0x40a)],'result':_0x7c2afc});const _0x592e7f=[];if(_0x2350aa[_0x23a9a3(0x712)]?.[_0x23a9a3(0x564)](_0x2cb000=>_0x2cb000[_0x23a9a3(0x705)]===_0x245cf9[_0x23a9a3(0x32b)]))return _0x592e7f[_0x23a9a3(0x639)]({'content':_0x7c2afc,'start':0x0,'length':_0x7c2afc[_0x23a9a3(0xa5f)]}),await _0x15a9bf(_0x52df41,_0x4a5f10,_0x592e7f,_0x2350aa,_0x209fe2,_0x4fe0da),void await _0x15a9bf(_0x52df41,_0x4a5f10,_0x7c2afc,_0x2350aa,_0x209fe2,_0x4fe0da);_0x592e7f[_0x23a9a3(0x639)]({'content':_0x7c2afc,'start':0x0,'length':_0x2b1c16[_0x23a9a3(0xa5f)]}),await _0x15a9bf(_0x52df41,_0x4a5f10,_0x592e7f,_0x2350aa,_0x209fe2,_0x4fe0da);}async function _0x3efccb(_0xe85a35,_0x4bf44c,_0x29e99a,_0x557f98,_0x14f1d4,_0x585427){const _0x52263d=_0x3fd00f,_0x5950a1=Date[_0x52263d(0x441)]();let _0x58f554=[];if(_0x29e99a instanceof Array){for(const _0x30b983 of _0x29e99a)_0x58f554=_0x58f554['concat'](_0x23a128(_0x30b983['content'],_0x557f98,_0x30b983[_0x52263d(0xaff)],_0x30b983['length']));}else _0x58f554=_0x23a128(_0x29e99a,_0x557f98);await _0x1c1b26['trace']({'jobType':_0x3e0954[_0x52263d(0xa7d)],'type':_0x414104[_0x52263d(0x45d)],'traceLevel':_0x3a2fff[_0x52263d(0x649)],'jobId':_0x4bf44c,'blockId':_0x557f98['id'],'startTime':_0x5950a1,'timestamp':Date[_0x52263d(0x441)](),'status':_0x52263d(0x57e),'totalChunks':_0x58f554['length'],'chunkSize':_0x557f98[_0x52263d(0xa0e)][_0x52263d(0x66a)]}),await _0x15a9bf(_0xe85a35,_0x4bf44c,_0x58f554,_0x557f98,_0x14f1d4,_0x585427);}function _0x23a128(_0x1fb0fa,_0x384556,_0x4d7787,_0x29d6cb){const _0x5793dd=_0x3fd00f,_0x91fb8c=[];for(let _0x56c320=0x0;_0x56c320<_0x1fb0fa[_0x5793dd(0xa5f)];_0x56c320+=_0x384556[_0x5793dd(0xa0e)][_0x5793dd(0x66a)]){let _0x3d0966=_0x56c320-_0x384556[_0x5793dd(0xa0e)][_0x5793dd(0x636)];_0x3d0966<0x0&&(_0x3d0966=0x0);let _0x3d12d6=_0x56c320+_0x384556[_0x5793dd(0xa0e)][_0x5793dd(0x66a)]+_0x384556[_0x5793dd(0xa0e)][_0x5793dd(0x636)];_0x3d12d6>_0x1fb0fa[_0x5793dd(0xa5f)]&&(_0x3d12d6=_0x1fb0fa[_0x5793dd(0xa5f)]);const _0x1cd40a=_0x1fb0fa[_0x5793dd(0x3bf)](_0x3d0966,_0x3d12d6);_0x91fb8c[_0x5793dd(0x639)]({'content':_0x1cd40a,'start':_0x4d7787??_0x56c320,'length':_0x29d6cb??(_0x56c320+_0x384556[_0x5793dd(0xa0e)][_0x5793dd(0x66a)]>_0x1fb0fa['length']?_0x1fb0fa['length']-_0x56c320:_0x384556[_0x5793dd(0xa0e)][_0x5793dd(0x66a)])});}return _0x91fb8c;}async function _0x2121a2(_0x111454,_0x2001b5,_0x2f8e46,_0x385fd7,_0x3e813f,_0x64e578){const _0x4564c9=_0x3fd00f,_0x5a40c2=Date['now']();let _0x4dd4a4;if(_0x2f8e46[_0x4564c9(0xa0d)][_0x4564c9(0x705)]['startsWith'](_0x4564c9(0x242))||_0x2ee030(_0x2f8e46[_0x4564c9(0xa0d)][_0x4564c9(0xa87)],_0x3bec23))_0x4dd4a4=await _0x2f8e46[_0x4564c9(0xa0d)][_0x4564c9(0x58c)]();else{if(!_0x64e578[_0x4564c9(0x235)][_0x4564c9(0x464)](_0x2f8e46[_0x4564c9(0xa0d)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x2f8e46[_0x4564c9(0xa0d)]['type']+_0x4564c9(0xa7b)+_0x2f8e46['file'][_0x4564c9(0xa87)]);_0x4dd4a4=await _0x64e578[_0x4564c9(0x235)][_0x4564c9(0xaa7)](_0x2f8e46[_0x4564c9(0xa0d)]);}await _0x1c1b26[_0x4564c9(0x25d)]({'jobType':_0x3e0954[_0x4564c9(0xa7d)],'type':_0x414104[_0x4564c9(0x343)],'traceLevel':_0x3a2fff[_0x4564c9(0x649)],'blockId':_0x385fd7['id'],'jobId':_0x2001b5,'startTime':_0x5a40c2,'timestamp':Date['now'](),'status':_0x4564c9(0x57e),'documentType':_0x2f8e46[_0x4564c9(0xa0d)][_0x4564c9(0x705)],'documentName':_0x2f8e46[_0x4564c9(0xa0d)][_0x4564c9(0xa87)],'extractionMethod':'OfficeParser'}),await _0x15a9bf(_0x111454,_0x2001b5,_0x4dd4a4,_0x385fd7,_0x3e813f,_0x64e578);const _0x1ac2b6=[{'content':_0x4dd4a4,'start':0x0,'length':_0x4dd4a4[_0x4564c9(0xa5f)]}];await _0x15a9bf(_0x111454,_0x2001b5,_0x1ac2b6,_0x385fd7,_0x3e813f,_0x64e578);}const _0x3bec23=['.js',_0x3fd00f(0x4c3),_0x3fd00f(0x584),_0x3fd00f(0x40e),_0x3fd00f(0x8cc),_0x3fd00f(0x193),_0x3fd00f(0x2df),_0x3fd00f(0x715),_0x3fd00f(0x2f1),_0x3fd00f(0x554),_0x3fd00f(0x695),_0x3fd00f(0x418),_0x3fd00f(0x84c),_0x3fd00f(0x9e5),_0x3fd00f(0x351),_0x3fd00f(0x798),'.sql',_0x3fd00f(0xa23),'.php',_0x3fd00f(0x3b4),'.c',_0x3fd00f(0x896),_0x3fd00f(0x62e),'.r',_0x3fd00f(0x341),_0x3fd00f(0x6cb),_0x3fd00f(0x5e3),_0x3fd00f(0x9e6),_0x3fd00f(0x41c),'.dart',_0x3fd00f(0xa32),_0x3fd00f(0xaa5),_0x3fd00f(0x8a7),'.clj','.groovy',_0x3fd00f(0x397),'.ex','.exs',_0x3fd00f(0x348),_0x3fd00f(0x529),_0x3fd00f(0x79c),'.m',_0x3fd00f(0x3a3),_0x3fd00f(0x7c9),_0x3fd00f(0x1fa),'.jl',_0x3fd00f(0x5db),_0x3fd00f(0x8e4),_0x3fd00f(0x671),_0x3fd00f(0x884),'.erb','.jinja',_0x3fd00f(0xafa),'.hbs','.handlebars','.ejs',_0x3fd00f(0x52c),'.liquid','.mustache',_0x3fd00f(0xa90),_0x3fd00f(0x169),_0x3fd00f(0x80b),_0x3fd00f(0x260)];function _0x2ee030(_0x224cc9,_0x10652c){const _0x3d33fd=_0x3fd00f;return _0x10652c['includes']('.'+(_0x224cc9[_0x3d33fd(0xae4)]('.')[_0x3d33fd(0x41e)]()?.[_0x3d33fd(0x8a8)]()||''));}async function _0x3493a9(_0x296756,_0x9443cf,_0x18ec23,_0x4c92e1,_0x2b098a,_0x2f9888){const _0x2e1b60=_0x3fd00f,_0x352806=Date['now'](),_0x22e2cb=new Set();let _0x3dda7d=0x0;for(const _0x542718 of _0x18ec23)_0x3dda7d+=_0x542718[_0x2e1b60(0xaf0)][_0x2e1b60(0xa5f)],await _0x4c5d09(_0x542718['content'],_0x22e2cb,_0x4c92e1,_0x2f9888['nlpLibraryConnector']);await _0x1c1b26[_0x2e1b60(0x25d)]({'jobType':_0x3e0954['Ingest'],'type':_0x414104[_0x2e1b60(0x9d1)],'jobId':_0x9443cf,'blockId':_0x4c92e1['id'],'traceLevel':_0x3a2fff[_0x2e1b60(0x649)],'startTime':_0x352806,'timestamp':Date['now'](),'status':_0x2e1b60(0x57e),'contentLength':_0x3dda7d,'totalChunks':_0x18ec23 instanceof Array?_0x18ec23[_0x2e1b60(0xa5f)]:0x1,'entitiesExtracted':_0x22e2cb,'totalEntities':_0x22e2cb['size']}),await _0x15a9bf(_0x296756,_0x9443cf,_0x22e2cb,_0x4c92e1,_0x2b098a,_0x2f9888);}async function _0x4c5d09(_0x5c4e8c,_0x5d7a8a,_0x57ab32,_0x22eb79){const _0x1e4a60=_0x3fd00f,_0x3e3506=await _0x22eb79['getEntities'](_0x5c4e8c,{'ner':_0x57ab32[_0x1e4a60(0xa0e)][_0x1e4a60(0x693)],'noun':_0x57ab32[_0x1e4a60(0xa0e)][_0x1e4a60(0x567)],'propn':_0x57ab32[_0x1e4a60(0xa0e)][_0x1e4a60(0x1a2)],'verb':_0x57ab32[_0x1e4a60(0xa0e)][_0x1e4a60(0x69b)]});for(const _0x1e5a97 of _0x3e3506)_0x5d7a8a[_0x1e4a60(0x30b)](_0x1e5a97);}async function _0x35c6d5(_0xfc96e8,_0x4fd47a,_0x1628ce,_0x39c6c8,_0x4a5e9a){const _0x37a7eb=_0x3fd00f,_0x5b83b2=Date[_0x37a7eb(0x441)]();if(_0x1628ce['accumulated']||(_0x1628ce[_0x37a7eb(0x5e0)]={}),_0x37a7eb(0x7fc)==typeof _0x4fd47a?_0x1628ce[_0x37a7eb(0x5e0)][_0x37a7eb(0xaf0)]=_0x4fd47a:_0x4fd47a instanceof Set?_0x1628ce[_0x37a7eb(0x5e0)][_0x37a7eb(0x6d6)]=_0x4fd47a:_0x4fd47a instanceof Map?_0x1628ce[_0x37a7eb(0x5e0)]['relations']=_0x4fd47a:_0x4fd47a instanceof Array?_0x1628ce['accumulated'][_0x37a7eb(0x9f9)]=_0x4fd47a:_0x1628ce[_0x37a7eb(0x5e0)][_0x37a7eb(0xa0d)]=_0x4fd47a,_0x1628ce[_0x37a7eb(0x368)]=_0x1628ce['timesCalled']?_0x1628ce[_0x37a7eb(0x368)]+0x1:0x1,_0x122cb5(_0x1628ce,_0x39c6c8)>_0x1628ce[_0x37a7eb(0x368)])return;if(!(_0x1628ce[_0x37a7eb(0x5e0)][_0x37a7eb(0x6d6)]&&_0x1628ce[_0x37a7eb(0x5e0)]['file']&&_0x1628ce[_0x37a7eb(0x5e0)]['content']&&_0x1628ce[_0x37a7eb(0x5e0)][_0x37a7eb(0x9f9)]))throw new Error(_0x37a7eb(0x366));let _0x4c6448=0x0;const _0x227e81=_0x4a5e9a['contentMediator'][_0x37a7eb(0x6b8)](_0x1628ce['id']);for(const _0x357f8f of _0x1628ce['accumulated'][_0x37a7eb(0x6d6)]){let _0x1f2656=[];_0x1f2656=_0x1628ce[_0x37a7eb(0x5e0)][_0x37a7eb(0x9f9)][_0x37a7eb(0x69d)](_0x546a6f=>_0x546a6f[_0x37a7eb(0xaf0)][_0x37a7eb(0x7ac)](_0x357f8f));try{_0x227e81[_0x37a7eb(0x801)](_0x1628ce[_0x37a7eb(0x5e0)]['file'][_0x37a7eb(0x5f6)],_0x1628ce['accumulated'][_0x37a7eb(0xaf0)],_0x1f2656,_0x357f8f),_0x4c6448+=0x1;}catch(_0x17fa46){}}if(_0x1628ce['accumulated']['relations']){for(const [_0x1d39f4,_0x20266a]of _0x1628ce[_0x37a7eb(0x5e0)][_0x37a7eb(0x6c5)])for(const _0x119e5d of _0x20266a)try{_0x227e81[_0x37a7eb(0x321)](_0x1d39f4,_0x119e5d);}catch(_0x15794c){}await _0x1c1b26[_0x37a7eb(0x25d)]({'jobType':_0x3e0954[_0x37a7eb(0xa7d)],'type':_0x414104[_0x37a7eb(0x3bb)],'jobId':_0xfc96e8,'blockId':_0x1628ce['id'],'status':'success','startTime':_0x5b83b2,'timestamp':Date[_0x37a7eb(0x441)](),'traceLevel':_0x3a2fff[_0x37a7eb(0x649)],'nodesAdded':_0x4c6448,'entities':_0x1628ce[_0x37a7eb(0x5e0)][_0x37a7eb(0x6d6)],'relations':_0x1628ce[_0x37a7eb(0x5e0)][_0x37a7eb(0x6c5)]});}}async function _0xb57039(_0xa06193,_0x13b22a,_0x1590c,_0x1b51b0,_0x2ae784,_0x407d06){const _0x3c9ce2=_0x3fd00f,_0x45541f=_0x407d06[_0x3c9ce2(0x36e)]['find'](_0x186fa9=>_0x186fa9['id']===_0x1b51b0['id']);if(!_0x45541f)throw new Error(_0x3c9ce2(0x1f0));switch(_0x45541f['outputType']){case _0x548494[_0x3c9ce2(0x330)][_0x3c9ce2(0x32b)]:if('string'!=typeof _0x1590c)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x4316c0,_0x49d9fa,_0x3b7653,_0x1565f3,_0x9af377,_0x3ec915,_0x491a83){const _0x451698=_0x3c9ce2,_0x88f713=Date[_0x451698(0x441)]();let _0x1035fd;const _0x4d457b=await fetch(_0x2c3579['apiUrl']+_0x451698(0x4c6),{'method':'POST','headers':{'Content-Type':_0x451698(0x718),'x-vendor-id':_0x4316c0},'body':JSON[_0x451698(0x6b1)]({'messages':[{'role':'user','content':_0x3b7653}]})});_0x1035fd=(await _0x4d457b[_0x451698(0x80e)]())[_0x451698(0x8a4)][0x0][_0x451698(0x382)][_0x451698(0xaf0)],await _0x1c1b26['trace']({'jobType':_0x3e0954[_0x451698(0xa7d)],'type':_0x414104[_0x451698(0x1c8)],'jobId':_0x49d9fa,'blockId':_0x9af377['id'],'traceLevel':_0x3a2fff[_0x451698(0x649)],'timestamp':Date[_0x451698(0x441)](),'startTime':_0x88f713,'status':_0x451698(0x57e),'modelName':_0x1565f3['id'],'inputType':_0x1565f3[_0x451698(0x86f)],'outputType':_0x1565f3[_0x451698(0x1ed)],'content':_0x3b7653,'results':_0x1035fd}),await _0x15a9bf(_0x4316c0,_0x49d9fa,_0x1035fd,_0x9af377,_0x3ec915,_0x491a83);}(_0xa06193,_0x13b22a,_0x1590c,_0x45541f,_0x1b51b0,_0x2ae784,_0x407d06);break;case _0x548494[_0x3c9ce2(0x330)]['Vector']:if(!(_0x1590c instanceof Array))throw new Error(_0x3c9ce2(0x971));await async function(_0xc408d8,_0x2c5c14,_0x5ba7c5,_0xb933f3,_0x1d699f,_0x45ec1e,_0x2f450d){const _0x557059=_0x3c9ce2,_0xab90f8=Date['now'](),_0x36727b=await fetch(_0x2c3579[_0x557059(0x37a)]+_0x557059(0x836),{'method':'POST','headers':{'Content-Type':'application/json','x-vendor-id':_0xc408d8},'body':JSON[_0x557059(0x6b1)]({'input':_0x5ba7c5['map'](_0x557dbe=>_0x557dbe[_0x557059(0xaf0)])})}),_0x385671=(await _0x36727b[_0x557059(0x80e)]())[_0x557059(0xa83)][_0x557059(0x23d)](_0x314820=>_0x314820[_0x557059(0x328)]);await _0x1c1b26[_0x557059(0x25d)]({'jobType':_0x3e0954[_0x557059(0xa7d)],'type':_0x414104['ModelVector'],'jobId':_0x2c5c14,'blockId':_0x1d699f['id'],'traceLevel':_0x3a2fff[_0x557059(0x649)],'timestamp':Date[_0x557059(0x441)](),'startTime':_0xab90f8,'status':_0x557059(0x57e),'modelName':_0xb933f3['id'],'inputType':_0xb933f3[_0x557059(0x86f)],'outputType':_0xb933f3[_0x557059(0x1ed)],'totalVectors':_0x385671[_0x557059(0xa5f)]}),await _0x15a9bf(_0xc408d8,_0x2c5c14,_0x385671,_0x1d699f,_0x45ec1e,_0x2f450d);}(_0xa06193,_0x13b22a,_0x1590c,_0x45541f,_0x1b51b0,_0x2ae784,_0x407d06);}}async function _0x14f658(_0x1715f2,_0x4533ac,_0x2d204b,_0x196e13,_0x133852,_0x5b6c57){const _0x185bec=_0x3fd00f,_0x1a46db=Date[_0x185bec(0x441)]();if(_0x196e13[_0x185bec(0x5e0)]||(_0x196e13[_0x185bec(0x5e0)]={}),_0x2d204b instanceof Array?_0x196e13[_0x185bec(0x5e0)][_0x185bec(0x9f9)]=_0x2d204b:_0x196e13['accumulated'][_0x185bec(0x6d6)]=_0x2d204b,_0x196e13[_0x185bec(0x368)]=_0x196e13['timesCalled']?_0x196e13[_0x185bec(0x368)]+0x1:0x1,_0x122cb5(_0x196e13,_0x133852)>_0x196e13[_0x185bec(0x368)])return;if(!_0x196e13[_0x185bec(0x5e0)][_0x185bec(0x9f9)]||!_0x196e13['accumulated']['entities'])throw new Error(_0x185bec(0x594));const _0x9bad2d=new Map();for(const _0x35daf4 of _0x196e13[_0x185bec(0x5e0)][_0x185bec(0x9f9)])_0x32e41f(_0x35daf4[_0x185bec(0xaf0)],_0x196e13['accumulated'][_0x185bec(0x6d6)],_0x9bad2d);await _0x1c1b26[_0x185bec(0x25d)]({'jobType':_0x3e0954[_0x185bec(0xa7d)],'type':_0x414104['RelationExtractor'],'jobId':_0x4533ac,'blockId':_0x196e13['id'],'traceLevel':_0x3a2fff[_0x185bec(0x649)],'timestamp':Date[_0x185bec(0x441)](),'startTime':_0x1a46db,'status':_0x185bec(0x57e),'entities':_0x196e13[_0x185bec(0x5e0)][_0x185bec(0x6d6)],'relations':_0x9bad2d,'totalRelationsExtracted':_0x9bad2d[_0x185bec(0x66a)]}),await _0x15a9bf(_0x1715f2,_0x4533ac,_0x9bad2d,_0x196e13,_0x133852,_0x5b6c57);}function _0x32e41f(_0x158f31,_0x5452dd,_0x42eff4){const _0x562a9b=_0x3fd00f;for(const _0x2871f5 of _0x5452dd)for(const _0x1063aa of _0x5452dd){if(_0x2871f5===_0x1063aa)continue;const _0xd8b94c=_0x158f31[_0x562a9b(0x61f)](_0x2871f5),_0x3bd931=_0x158f31['indexOf'](_0x1063aa);-0x1!==_0xd8b94c&&-0x1!==_0x3bd931&&(_0x42eff4[_0x562a9b(0x68d)](_0x2871f5)||_0x42eff4[_0x562a9b(0x1f5)](_0x2871f5,new Set()),_0x42eff4[_0x562a9b(0x7ae)](_0x2871f5)[_0x562a9b(0x30b)](_0x1063aa));}return _0x42eff4;}async function _0x213872(_0x42606e,_0x21e80a,_0x4e779e,_0x1293b6,_0x447af7,_0x46018b){const _0x428597=_0x3fd00f,_0x23aa91=Date[_0x428597(0x441)]();let _0x22550e=[];if(_0x4e779e instanceof Array)for(const _0x5142a7 of _0x4e779e){const _0x1e17ac=await _0x46018b[_0x428597(0x82f)][_0x428597(0x5d1)](_0x5142a7['content']);_0x22550e=_0x22550e[_0x428597(0x8de)](_0x1e17ac[_0x428597(0x23d)](_0x22e648=>({'content':_0x22e648,'start':_0x5142a7[_0x428597(0xaff)],'length':_0x5142a7[_0x428597(0xa5f)]})));}else _0x22550e=(await _0x46018b[_0x428597(0x82f)][_0x428597(0x5d1)](_0x4e779e))[_0x428597(0x23d)](_0x36bad0=>({'content':_0x36bad0,'start':_0x4e779e['indexOf'](_0x36bad0),'length':_0x36bad0[_0x428597(0xa5f)]}));await _0x1c1b26[_0x428597(0x25d)]({'jobType':_0x3e0954[_0x428597(0xa7d)],'type':_0x414104[_0x428597(0x2d6)],'jobId':_0x21e80a,'blockId':_0x1293b6['id'],'traceLevel':_0x3a2fff[_0x428597(0x649)],'startTime':_0x23aa91,'timestamp':Date['now'](),'status':_0x428597(0x57e),'totalSentences':_0x22550e[_0x428597(0xa5f)],'averageSentenceLength':_0x22550e[_0x428597(0x9b1)]((_0x225022,_0x1b561a)=>_0x225022+_0x1b561a['length'],0x0)/_0x22550e['length']}),await _0x15a9bf(_0x42606e,_0x21e80a,_0x22550e,_0x1293b6,_0x447af7,_0x46018b);}async function _0x3c70f9(_0x3bc18e,_0x8146ec,_0xe36e8b,_0x124c97,_0x397177){const _0x239fef=_0x3fd00f,_0x272cbd=Date[_0x239fef(0x441)]();var _0x362b47;if(_0xe36e8b[_0x239fef(0x5e0)]||(_0xe36e8b[_0x239fef(0x5e0)]={}),_0x8146ec instanceof Array?(_0x362b47=_0x8146ec)[0x0]instanceof Array&&_0x239fef(0xa75)==typeof _0x362b47[0x0]?.[0x0]?_0xe36e8b[_0x239fef(0x5e0)][_0x239fef(0x7be)]=_0x8146ec:_0xe36e8b[_0x239fef(0x5e0)][_0x239fef(0x9f9)]=_0x8146ec:_0x239fef(0x7fc)==typeof _0x8146ec?_0xe36e8b[_0x239fef(0x5e0)][_0x239fef(0xaf0)]=_0x8146ec:_0xe36e8b[_0x239fef(0x5e0)][_0x239fef(0xa0d)]=_0x8146ec,_0xe36e8b[_0x239fef(0x368)]=_0xe36e8b['timesCalled']?_0xe36e8b['timesCalled']+0x1:0x1,_0x122cb5(_0xe36e8b,_0x124c97)>_0xe36e8b[_0x239fef(0x368)])return;if(!(_0xe36e8b[_0x239fef(0x5e0)][_0x239fef(0xaf0)]&&_0xe36e8b[_0x239fef(0x5e0)][_0x239fef(0x9f9)]&&_0xe36e8b[_0x239fef(0x5e0)]['vectors']&&_0xe36e8b[_0x239fef(0x5e0)]['file']))throw new Error(_0x239fef(0x2ad));const _0x3c2d1a=_0x397177[_0x239fef(0x95d)][_0x239fef(0xa02)](_0xe36e8b['id']);_0x3c2d1a['insert'](_0xe36e8b[_0x239fef(0x5e0)][_0x239fef(0xa0d)]['pathName'],_0xe36e8b[_0x239fef(0x5e0)][_0x239fef(0xaf0)],_0xe36e8b[_0x239fef(0x5e0)][_0x239fef(0x9f9)],_0xe36e8b['accumulated'][_0x239fef(0x7be)]),await _0x1c1b26[_0x239fef(0x25d)]({'jobType':_0x3e0954[_0x239fef(0xa7d)],'type':_0x414104[_0x239fef(0x2f3)],'jobId':_0x3bc18e,'blockId':_0xe36e8b['id'],'traceLevel':_0x3a2fff[_0x239fef(0x649)],'startTime':_0x272cbd,'timestamp':Date['now'](),'status':_0x239fef(0x57e),'databaseName':_0x3c2d1a['getName'](),'vectorsAdded':_0xe36e8b[_0x239fef(0x5e0)][_0x239fef(0x7be)][_0x239fef(0xa5f)],'filePathName':_0xe36e8b['accumulated'][_0x239fef(0xa0d)][_0x239fef(0x5f6)]});}async function _0x4f7f25(_0x3fc82c,_0x105b5e,_0x387f52,_0x567cd4,_0x1a66ec,_0x28797b){const _0x426519=_0x3fd00f,_0x37bd86=Date[_0x426519(0x441)]();let _0x19f21a=[];if(_0x387f52 instanceof Array){for(const _0x4de77a of _0x387f52)_0x19f21a=_0x19f21a['concat'](_0x21633e(_0x4de77a[_0x426519(0xaf0)],_0x567cd4,_0x4de77a[_0x426519(0xaff)],_0x4de77a[_0x426519(0xa5f)]));}else _0x19f21a=_0x21633e(_0x387f52,_0x567cd4);await _0x1c1b26[_0x426519(0x25d)]({'jobType':_0x3e0954[_0x426519(0xa7d)],'type':_0x414104[_0x426519(0x4a6)],'jobId':_0x105b5e,'traceLevel':_0x3a2fff[_0x426519(0x649)],'blockId':_0x567cd4['id'],'startTime':_0x37bd86,'timestamp':Date[_0x426519(0x441)](),'status':_0x426519(0x57e),'totalChunks':_0x19f21a[_0x426519(0xa5f)],'averageChunkLength':_0x19f21a[_0x426519(0x9b1)]((_0x4a4677,_0x2ce898)=>_0x4a4677+_0x2ce898['length'],0x0)/_0x19f21a[_0x426519(0xa5f)]}),await _0x15a9bf(_0x3fc82c,_0x105b5e,_0x19f21a,_0x567cd4,_0x1a66ec,_0x28797b);}function _0x21633e(_0x562b75,_0x1284a5,_0x1e6088,_0x131a34){const _0x45a708=_0x3fd00f,_0x30cc8a=[],_0x422795=_0x562b75[_0x45a708(0xae4)]('\x20');let _0x5001e7='',_0x13e7aa=-0x1,_0x17b0b5=0x0,_0x3c1bbb=0x0;for(const _0xc7d63 of _0x422795){if(_0x5001e7[_0x45a708(0xa5f)]+_0xc7d63['length']>_0x1284a5[_0x45a708(0xa0e)][_0x45a708(0x66a)]){const _0x559291=_0x5001e7[_0x45a708(0xa5f)];let _0x14aaa3=_0x13e7aa,_0x23f898='';for(;_0x14aaa3>=0x0&&_0x23f898[_0x45a708(0xa5f)]+_0x422795[_0x14aaa3][_0x45a708(0xa5f)]<_0x1284a5['attributes'][_0x45a708(0x636)];)_0x23f898=_0x422795[_0x14aaa3]+'\x20'+_0x23f898,_0x14aaa3--;let _0x2c1356=_0x17b0b5,_0x1c8d60='';for(;_0x2c1356<_0x422795['length']&&_0x1c8d60[_0x45a708(0xa5f)]+_0x422795[_0x2c1356][_0x45a708(0xa5f)]<_0x1284a5[_0x45a708(0xa0e)]['overlap'];)_0x1c8d60+=_0x422795[_0x2c1356]+'\x20',_0x2c1356++;_0x5001e7=_0x23f898+_0x5001e7+_0x1c8d60,_0x30cc8a['push']({'content':_0x5001e7['trim'](),'start':_0x1e6088??_0x3c1bbb,'length':_0x131a34??_0x559291}),_0x5001e7='',_0x13e7aa=_0x17b0b5-0x1,_0x3c1bbb+=_0x559291;}_0x5001e7+=_0xc7d63+'\x20',_0x17b0b5++;}if(_0x5001e7[_0x45a708(0xa5f)]>0x0){const _0x1f7e39=_0x5001e7[_0x45a708(0xa5f)];let _0x57d378=_0x13e7aa,_0x587c05='';for(;_0x57d378>=0x0&&_0x587c05['length']+_0x422795[_0x57d378][_0x45a708(0xa5f)]<_0x1284a5[_0x45a708(0xa0e)][_0x45a708(0x636)];)_0x587c05=_0x422795[_0x57d378]+'\x20'+_0x587c05,_0x57d378--;_0x5001e7=_0x587c05+_0x5001e7,_0x30cc8a['push']({'content':_0x5001e7[_0x45a708(0xabe)](),'start':_0x1e6088??_0x3c1bbb,'length':_0x131a34??_0x1f7e39});}return _0x30cc8a;}async function _0x15a9bf(_0x53cfc9,_0x329061,_0x2fe4df,_0x5955f1,_0x3cdb54,_0x141504){const _0x20368a=_0x3fd00f;for(const _0x5b9d77 of _0x5955f1[_0x20368a(0x712)]||[]){const _0x4ae89d=_0x3cdb54[_0x20368a(0x78b)](_0x49fb1d=>_0x49fb1d[_0x20368a(0x803)]===_0x5b9d77[_0x20368a(0x803)]);if(_0x4ae89d)switch(_0x4ae89d[_0x20368a(0x705)]){case _0x2ea748[_0x20368a(0xa4c)]:_0x5b9d77['type']===_0x245cf9[_0x20368a(0x32b)]&&_0x20368a(0x7fc)==typeof _0x2fe4df&&await _0x5c173d(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504);break;case _0x2ea748[_0x20368a(0x45d)]:_0x5b9d77['type']===_0x245cf9[_0x20368a(0x32b)]&&_0x20368a(0x7fc)==typeof _0x2fe4df&&await _0x3efccb(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77['type']===_0x245cf9[_0x20368a(0x203)]&&_0x2fe4df instanceof Array&&await _0x3efccb(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504);break;case _0x2ea748[_0x20368a(0x343)]:_0x5b9d77['type']===_0x245cf9[_0x20368a(0x831)]&&await _0x2121a2(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504);break;case _0x2ea748[_0x20368a(0x9d1)]:_0x5b9d77[_0x20368a(0x705)]===_0x245cf9[_0x20368a(0x203)]&&_0x2fe4df instanceof Array&&await _0x3493a9(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504);break;case _0x2ea748[_0x20368a(0x3bb)]:_0x5b9d77[_0x20368a(0x705)]===_0x245cf9[_0x20368a(0x32b)]&&'string'==typeof _0x2fe4df&&await _0x35c6d5(_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77[_0x20368a(0x705)]===_0x245cf9[_0x20368a(0x203)]&&_0x2fe4df instanceof Array&&await _0x35c6d5(_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77['type']===_0x245cf9[_0x20368a(0x5d3)]&&_0x2fe4df instanceof Set&&await _0x35c6d5(_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77['type']===_0x245cf9[_0x20368a(0x247)]&&_0x2fe4df instanceof Map&&await _0x35c6d5(_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77[_0x20368a(0x705)]===_0x245cf9[_0x20368a(0x831)]&&await _0x35c6d5(_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504);break;case _0x2ea748[_0x20368a(0x283)]:_0x5b9d77[_0x20368a(0x705)]===_0x245cf9[_0x20368a(0x32b)]&&'string'==typeof _0x2fe4df&&await _0xb57039(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77['type']===_0x245cf9[_0x20368a(0x203)]&&_0x2fe4df instanceof Array&&await _0xb57039(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504);break;case _0x2ea748[_0x20368a(0xa57)]:_0x5b9d77['type']===_0x245cf9['Index']&&_0x2fe4df instanceof Array&&await _0x14f658(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77[_0x20368a(0x705)]===_0x245cf9['Entity']&&_0x2fe4df instanceof Set&&await _0x14f658(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504);break;case _0x2ea748['SentenceSplitter']:_0x5b9d77[_0x20368a(0x705)]===_0x245cf9['Text']&&_0x20368a(0x7fc)==typeof _0x2fe4df&&await _0x213872(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77['type']===_0x245cf9[_0x20368a(0x203)]&&_0x2fe4df instanceof Array&&await _0x213872(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504);break;case _0x2ea748[_0x20368a(0x2f3)]:_0x5b9d77[_0x20368a(0x705)]===_0x245cf9['Text']&&_0x20368a(0x7fc)==typeof _0x2fe4df&&await _0x3c70f9(_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77[_0x20368a(0x705)]===_0x245cf9['Index']&&_0x2fe4df instanceof Array&&await _0x3c70f9(_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77[_0x20368a(0x705)]===_0x245cf9[_0x20368a(0x18f)]&&_0x2fe4df instanceof Array&&await _0x3c70f9(_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77[_0x20368a(0x705)]===_0x245cf9[_0x20368a(0x831)]&&await _0x3c70f9(_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504);break;case _0x2ea748[_0x20368a(0x4a6)]:_0x5b9d77[_0x20368a(0x705)]===_0x245cf9[_0x20368a(0x32b)]&&_0x20368a(0x7fc)==typeof _0x2fe4df&&await _0x4f7f25(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504),_0x5b9d77[_0x20368a(0x705)]===_0x245cf9[_0x20368a(0x203)]&&_0x2fe4df instanceof Array&&await _0x4f7f25(_0x53cfc9,_0x329061,_0x2fe4df,_0x4ae89d,_0x3cdb54,_0x141504);}}}function _0x122cb5(_0x33b91f,_0x284d3d){const _0xf84956=_0x3fd00f;return _0x284d3d[_0xf84956(0x69d)](_0x1ce7f2=>_0x1ce7f2[_0xf84956(0x712)]?.['some'](_0x17fd6b=>_0x17fd6b[_0xf84956(0x803)]===_0x33b91f[_0xf84956(0x803)]))[_0xf84956(0xa5f)];}async function _0x51a249(_0x5caae2,_0x5e9a10,_0x311b5a,_0x16a9d9,_0x2b5934,_0x242823,_0x49b30b,_0x36ea7b){const _0xc0001d=_0x3fd00f,_0x48b403=Date['now'](),_0x22e186=new Set();if(_0x16a9d9 instanceof Array){for(const _0x170217 of _0x16a9d9)await _0x5b6e48(_0x170217[_0xc0001d(0xaf0)],_0x242823,_0x22e186,_0x36ea7b['nlpLibraryConnector']);}else await _0x5b6e48(_0x16a9d9,_0x242823,_0x22e186,_0x36ea7b[_0xc0001d(0x82f)]);await _0x1c1b26[_0xc0001d(0x25d)]({'jobType':_0x3e0954[_0xc0001d(0x5d2)],'type':_0x2d1136[_0xc0001d(0x9d1)],'jobId':_0x5e9a10,'threadId':_0x311b5a,'blockId':_0x242823['id'],'traceLevel':_0x3a2fff[_0xc0001d(0x649)],'startTime':_0x48b403,'timestamp':Date[_0xc0001d(0x441)](),'status':_0xc0001d(0x57e),'content':_0x16a9d9,'entitiesExtracted':Array[_0xc0001d(0x4f7)](_0x22e186),'totalEntities':_0x22e186[_0xc0001d(0x66a)]}),await _0x2b374f(_0x5caae2,_0x5e9a10,_0x311b5a,_0x22e186,_0x2b5934,_0x242823,_0x49b30b,_0x36ea7b);}async function _0x5b6e48(_0x1cc640,_0x5671fc,_0x46b790,_0x23468e){const _0x5b8914=_0x3fd00f,_0x1278b6=await _0x23468e['getEntities'](_0x1cc640,{'ner':_0x5671fc[_0x5b8914(0xa0e)][_0x5b8914(0x693)],'noun':_0x5671fc[_0x5b8914(0xa0e)]['noun'],'propn':_0x5671fc['attributes'][_0x5b8914(0x1a2)],'verb':_0x5671fc[_0x5b8914(0xa0e)]['verb']});for(const _0x542291 of _0x1278b6)_0x46b790['add'](_0x542291);}async function _0x404ea7(_0x1b4bf8,_0x20fc8d,_0x15e5bd,_0x2b09fb,_0x57e2e5,_0x29f102,_0x174244,_0x18a7c2){const _0xd80830=_0x3fd00f,_0x444f5d=Date['now']();if(_0x29f102[_0xd80830(0x5e0)]||(_0x29f102[_0xd80830(0x5e0)]={}),_0x2b09fb instanceof Array?(_0x29f102[_0xd80830(0x5e0)][_0xd80830(0xa1d)]||(_0x29f102[_0xd80830(0x5e0)][_0xd80830(0xa1d)]=[]),_0x29f102['accumulated'][_0xd80830(0xa1d)]['push'](..._0x2b09fb)):_0x2b09fb instanceof Set?_0x29f102['accumulated']['entities']=_0x2b09fb:_0x29f102['accumulated']['prompt']=_0x2b09fb,_0x29f102['timesCalled']=_0x29f102['timesCalled']?_0x29f102['timesCalled']+0x1:0x1,_0x82de6c(_0x29f102,_0x174244)>_0x29f102['timesCalled'])return;if(!_0x29f102[_0xd80830(0x5e0)][_0xd80830(0x9fe)]&&!_0x29f102[_0xd80830(0x5e0)]['results']||!_0x29f102[_0xd80830(0x5e0)]['entities'])throw new Error(_0xd80830(0x366));const _0x58bdba=_0x18a7c2[_0xd80830(0x95d)][_0xd80830(0x6b8)](_0x29f102['id'])[_0xd80830(0x935)](Array[_0xd80830(0x4f7)](_0x29f102[_0xd80830(0x5e0)][_0xd80830(0x6d6)]),_0x29f102[_0xd80830(0xa0e)][_0xd80830(0x707)],_0x29f102[_0xd80830(0xa0e)]['contentSize']);let _0x4d922e=[];for(const _0x1c9561 in _0x58bdba){const _0x34c766=_0x58bdba[_0x1c9561];for(const _0x10a2b8 of _0x34c766){let _0x29d15a=0x0;if(_0x29f102['accumulated'][_0xd80830(0x9fe)]&&(_0x29d15a=await _0x18a7c2[_0xd80830(0x82f)][_0xd80830(0x666)](_0x29f102[_0xd80830(0x5e0)][_0xd80830(0x9fe)],_0x10a2b8)),_0x29f102[_0xd80830(0x5e0)]['results']){for(const _0x2e98f9 of _0x29f102['accumulated']['results'])_0x29d15a=Math[_0xd80830(0x643)](_0x29d15a,await _0x18a7c2[_0xd80830(0x82f)][_0xd80830(0x666)](_0x2e98f9['content'],_0x10a2b8));}_0x29d15a<_0x29f102[_0xd80830(0xa0e)]['minRelevance']||_0x4d922e['push']({'content':_0x10a2b8,'relevance':_0x29d15a,'pathName':_0x1c9561});}}_0x4d922e=_0x4d922e[_0xd80830(0x822)]((_0xd4288a,_0x447fde)=>_0x447fde['relevance']-_0xd4288a[_0xd80830(0x498)])[_0xd80830(0x7cd)](0x0,_0x29f102[_0xd80830(0xa0e)][_0xd80830(0x83a)]),await _0x1c1b26[_0xd80830(0x25d)]({'jobType':_0x3e0954['Retrieve'],'type':_0x2d1136['GraphSearch'],'jobId':_0x20fc8d,'threadId':_0x15e5bd,'blockId':_0x29f102['id'],'traceLevel':_0x3a2fff['Debug'],'timestamp':Date[_0xd80830(0x441)](),'startTime':_0x444f5d,'status':_0xd80830(0x57e),'content':_0x2b09fb,'topResults':_0x4d922e,'numResults':_0x4d922e['length']}),await _0x2b374f(_0x1b4bf8,_0x20fc8d,_0x15e5bd,_0x4d922e,_0x57e2e5,_0x29f102,_0x174244,_0x18a7c2);}async function _0x17dd69(_0x1cf5f6,_0x18b872,_0x583d90,_0x2d6803,_0x39df88,_0x5bbb34,_0x30ca13,_0x5e4420){const _0x2ce508=_0x3fd00f,_0x974c9a=_0x5e4420['models'][_0x2ce508(0x78b)](_0x39912d=>_0x39912d['id']===_0x5bbb34['id']);if(!_0x974c9a)throw new Error(_0x2ce508(0x1f0));let _0x56bc57='';switch(_0x56bc57=_0x2d6803 instanceof Array?_0x2d6803[_0x2ce508(0x23d)](_0x5411e9=>_0x5411e9[_0x2ce508(0xaf0)])[_0x2ce508(0x5b4)](',\x20'):_0x2d6803,_0x974c9a[_0x2ce508(0x1ed)]){case _0x548494[_0x2ce508(0x330)][_0x2ce508(0x32b)]:await async function(_0x36008e,_0x1869b0,_0x58b4ab,_0x60208e,_0x1132e3,_0x26fe91,_0x416eb4,_0x55ee64,_0x30623b){const _0x26de16=_0x2ce508,_0xd82000=Date[_0x26de16(0x441)](),_0x5135a8=await fetch(_0x2c3579[_0x26de16(0x37a)]+_0x26de16(0x4c6),{'method':_0x26de16(0x81e),'headers':{'Content-Type':_0x26de16(0x718),'x-vendor-id':_0x36008e},'body':JSON[_0x26de16(0x6b1)]({'messages':[{'role':_0x26de16(0x814),'content':_0x60208e}]})}),_0x36671d=(await _0x5135a8[_0x26de16(0x80e)]())[_0x26de16(0x8a4)][0x0]['message'][_0x26de16(0xaf0)];await _0x1c1b26[_0x26de16(0x25d)]({'jobType':_0x3e0954['Retrieve'],'type':_0x2d1136[_0x26de16(0x1c8)],'jobId':_0x1869b0,'threadId':_0x58b4ab,'blockId':_0x416eb4['id'],'traceLevel':_0x3a2fff[_0x26de16(0x649)],'startTime':_0xd82000,'timestamp':Date[_0x26de16(0x441)](),'status':'success','modelName':_0x26fe91['id'],'content':_0x60208e,'newPrompt':_0x36671d,'inputType':_0x26fe91[_0x26de16(0x86f)],'outputType':_0x26fe91['outputType']}),await _0x2b374f(_0x36008e,_0x1869b0,_0x58b4ab,_0x36671d,_0x1132e3,_0x416eb4,_0x55ee64,_0x30623b);}(_0x1cf5f6,_0x18b872,_0x583d90,_0x56bc57,_0x39df88,_0x974c9a,_0x5bbb34,_0x30ca13,_0x5e4420);break;case _0x548494[_0x2ce508(0x330)]['Vector']:await async function(_0x4ea4cc,_0x2bce86,_0x3cd8ba,_0x19c396,_0x1d35e5,_0x135a6e,_0x42ad89,_0x3fa638,_0x59d47c){const _0x41af77=_0x2ce508,_0x3654f8=Date[_0x41af77(0x441)](),_0x591c76=await fetch(_0x2c3579['apiUrl']+_0x41af77(0x836),{'method':_0x41af77(0x81e),'headers':{'Content-Type':_0x41af77(0x718),'x-vendor-id':_0x4ea4cc},'body':JSON[_0x41af77(0x6b1)]({'input':_0x19c396})}),_0x4f0ee3=(await _0x591c76[_0x41af77(0x80e)]())[_0x41af77(0xa83)][0x0][_0x41af77(0x328)];await _0x1c1b26['trace']({'jobType':_0x3e0954[_0x41af77(0x5d2)],'type':_0x2d1136[_0x41af77(0x982)],'jobId':_0x2bce86,'threadId':_0x3cd8ba,'blockId':_0x42ad89['id'],'traceLevel':_0x3a2fff['Debug'],'startTime':_0x3654f8,'timestamp':Date['now'](),'status':_0x41af77(0x57e),'modelName':_0x135a6e['id'],'content':_0x19c396,'totalVectors':_0x4f0ee3[_0x41af77(0xa5f)]}),await _0x2b374f(_0x4ea4cc,_0x2bce86,_0x3cd8ba,_0x4f0ee3,_0x1d35e5,_0x42ad89,_0x3fa638,_0x59d47c);}(_0x1cf5f6,_0x18b872,_0x583d90,_0x56bc57,_0x39df88,_0x974c9a,_0x5bbb34,_0x30ca13,_0x5e4420);}}async function _0x243cff(_0x479ae3,_0x354433,_0x2060c6,_0x92d3ff,_0x453a8d,_0x5d5500,_0x545cbc,_0x5133f4){const _0x53d829=_0x3fd00f,_0x479269=Date[_0x53d829(0x441)]();if(_0x5d5500[_0x53d829(0x5e0)]||(_0x5d5500[_0x53d829(0x5e0)]={}),_0x92d3ff instanceof Array?(_0x5d5500['accumulated'][_0x53d829(0xa1d)]||(_0x5d5500[_0x53d829(0x5e0)][_0x53d829(0xa1d)]=[]),_0x5d5500[_0x53d829(0x5e0)][_0x53d829(0xa1d)][_0x53d829(0x639)](..._0x92d3ff)):_0x5d5500['accumulated'][_0x53d829(0x9fe)]=_0x92d3ff,_0x5d5500[_0x53d829(0x368)]=_0x5d5500[_0x53d829(0x368)]?_0x5d5500['timesCalled']+0x1:0x1,_0x82de6c(_0x5d5500,_0x545cbc)>_0x5d5500[_0x53d829(0x368)])return;if(!_0x5d5500['accumulated'][_0x53d829(0x9fe)]||!_0x5d5500[_0x53d829(0x5e0)]['results'])throw new Error(_0x53d829(0x678));for(const _0x455665 of _0x5d5500[_0x53d829(0x5e0)][_0x53d829(0xa1d)])_0x455665[_0x53d829(0x498)]=await _0x5133f4['nlpLibraryConnector'][_0x53d829(0x666)](_0x5d5500[_0x53d829(0x5e0)][_0x53d829(0x9fe)],_0x455665[_0x53d829(0xaf0)]);const _0x59d25a=_0x5d5500[_0x53d829(0x5e0)][_0x53d829(0xa1d)][_0x53d829(0x69d)](_0x46df22=>_0x46df22[_0x53d829(0x498)]>_0x5d5500[_0x53d829(0xa0e)][_0x53d829(0x75f)])[_0x53d829(0x822)]((_0x5388c9,_0x24f1ac)=>_0x24f1ac[_0x53d829(0x498)]-_0x5388c9[_0x53d829(0x498)])[_0x53d829(0x7cd)](0x0,_0x5d5500[_0x53d829(0xa0e)][_0x53d829(0x83a)]);await _0x1c1b26[_0x53d829(0x25d)]({'jobType':_0x3e0954[_0x53d829(0x5d2)],'type':_0x2d1136[_0x53d829(0x2e7)],'jobId':_0x354433,'threadId':_0x2060c6,'blockId':_0x5d5500['id'],'traceLevel':_0x3a2fff[_0x53d829(0x649)],'startTime':_0x479269,'timestamp':Date[_0x53d829(0x441)](),'status':_0x53d829(0x57e),'inputResults':_0x5d5500[_0x53d829(0x5e0)][_0x53d829(0xa1d)],'rerankedResults':_0x59d25a}),await _0x2b374f(_0x479ae3,_0x354433,_0x2060c6,_0x59d25a,_0x453a8d,_0x5d5500,_0x545cbc,_0x5133f4);}async function _0xfe24ba(_0x39ea61,_0x6c7982,_0xcab1af,_0x219748,_0x47fe70,_0x145079,_0x499f1a,_0xdfb004){const _0x586666=_0x3fd00f,_0x5dfa24=Date[_0x586666(0x441)]();if(_0x145079['accumulated']||(_0x145079['accumulated']={}),_0x219748 instanceof Array?_0x145079[_0x586666(0x5e0)][_0x586666(0x597)]=_0x219748:_0x145079[_0x586666(0x5e0)][_0x586666(0xaf0)]=_0x219748,_0x145079[_0x586666(0x368)]=_0x145079[_0x586666(0x368)]?_0x145079[_0x586666(0x368)]+0x1:0x1,_0x82de6c(_0x145079,_0x499f1a)>_0x145079[_0x586666(0x368)])return;if(!_0x145079[_0x586666(0x5e0)][_0x586666(0x597)]||!_0x145079[_0x586666(0x5e0)][_0x586666(0xaf0)])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x5eb011=await _0xdfb004[_0x586666(0x82f)][_0x586666(0x4b3)](_0x145079[_0x586666(0x5e0)][_0x586666(0xaf0)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x184676=_0xdfb004['contentMediator'][_0x586666(0xa02)](_0x145079['id'])['search'](_0x5eb011,_0x145079['accumulated'][_0x586666(0x597)],_0x145079['attributes']['topK'],_0x145079['attributes'][_0x586666(0x75f)],_0x145079[_0x586666(0xa0e)][_0x586666(0xaf4)]);await _0x1c1b26[_0x586666(0x25d)]({'jobType':_0x3e0954[_0x586666(0x5d2)],'type':_0x2d1136[_0x586666(0x313)],'jobId':_0x6c7982,'threadId':_0xcab1af,'blockId':_0x145079['id'],'traceLevel':_0x3a2fff[_0x586666(0x649)],'startTime':_0x5dfa24,'timestamp':Date[_0x586666(0x441)](),'status':_0x586666(0x57e),'topResults':_0x184676,'numResults':_0x184676[_0x586666(0xa5f)]}),await _0x2b374f(_0x39ea61,_0x6c7982,_0xcab1af,_0x184676,_0x47fe70,_0x145079,_0x499f1a,_0xdfb004);}async function _0x2b374f(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x56b3ed,_0x3a2b1c,_0x505508){const _0x2f2e94=_0x3fd00f;for(const _0x449f73 of _0x56b3ed[_0x2f2e94(0x712)]||[]){const _0x1492d8=_0x3a2b1c['find'](_0x5935cc=>_0x5935cc[_0x2f2e94(0x803)]===_0x449f73[_0x2f2e94(0x803)]);if(_0x1492d8)switch(_0x1492d8[_0x2f2e94(0x705)]){case _0x2ea748[_0x2f2e94(0x6f8)]:_0x449f73[_0x2f2e94(0x705)]===_0x245cf9[_0x2f2e94(0x901)]&&_0x582e8c instanceof Array&&_0x376aff['context'][_0x2f2e94(0x639)](..._0x582e8c);break;case _0x2ea748['EntityExtractor']:_0x449f73[_0x2f2e94(0x705)]===_0x245cf9[_0x2f2e94(0x32b)]&&'string'==typeof _0x582e8c&&await _0x51a249(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x1492d8,_0x3a2b1c,_0x505508),_0x449f73['type']===_0x245cf9[_0x2f2e94(0x901)]&&_0x582e8c instanceof Array&&await _0x51a249(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x1492d8,_0x3a2b1c,_0x505508);break;case _0x2ea748[_0x2f2e94(0x3bb)]:_0x449f73[_0x2f2e94(0x705)]===_0x245cf9['Text']&&'string'==typeof _0x582e8c&&await _0x404ea7(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x1492d8,_0x3a2b1c,_0x505508),_0x449f73[_0x2f2e94(0x705)]===_0x245cf9['Search']&&_0x582e8c instanceof Array&&await _0x404ea7(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x1492d8,_0x3a2b1c,_0x505508),_0x449f73[_0x2f2e94(0x705)]===_0x245cf9[_0x2f2e94(0x5d3)]&&_0x582e8c instanceof Set&&await _0x404ea7(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x1492d8,_0x3a2b1c,_0x505508);break;case _0x2ea748[_0x2f2e94(0x283)]:_0x449f73[_0x2f2e94(0x705)]===_0x245cf9[_0x2f2e94(0x32b)]&&'string'==typeof _0x582e8c&&await _0x17dd69(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x1492d8,_0x3a2b1c,_0x505508),_0x449f73[_0x2f2e94(0x705)]===_0x245cf9['Search']&&_0x582e8c instanceof Array&&await _0x17dd69(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x1492d8,_0x3a2b1c,_0x505508);break;case _0x2ea748['Reranker']:_0x449f73[_0x2f2e94(0x705)]===_0x245cf9[_0x2f2e94(0x32b)]&&_0x2f2e94(0x7fc)==typeof _0x582e8c&&await _0x243cff(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x1492d8,_0x3a2b1c,_0x505508),_0x449f73[_0x2f2e94(0x705)]===_0x245cf9[_0x2f2e94(0x901)]&&_0x582e8c instanceof Array&&await _0x243cff(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x1492d8,_0x3a2b1c,_0x505508);break;case _0x2ea748[_0x2f2e94(0x2f3)]:_0x449f73[_0x2f2e94(0x705)]===_0x245cf9[_0x2f2e94(0x32b)]&&_0x2f2e94(0x7fc)==typeof _0x582e8c&&await _0xfe24ba(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x1492d8,_0x3a2b1c,_0x505508),_0x449f73['type']===_0x245cf9[_0x2f2e94(0x18f)]&&_0x582e8c instanceof Array&&await _0xfe24ba(_0x541052,_0x4a5a71,_0x10b92b,_0x582e8c,_0x376aff,_0x1492d8,_0x3a2b1c,_0x505508);}}}function _0x82de6c(_0x368a05,_0xbae534){const _0x752864=_0x3fd00f;return _0xbae534[_0x752864(0x69d)](_0x5ce06d=>_0x5ce06d[_0x752864(0x712)]?.[_0x752864(0x564)](_0x7a3898=>_0x7a3898[_0x752864(0x803)]===_0x368a05['uid']))[_0x752864(0xa5f)];}const _0x2b1772=require('rxjs/operators');class _0x11ef4b{[_0x3fd00f(0x66d)];constructor(){const _0x197f17=_0x3fd00f;this[_0x197f17(0x66d)]=new _0x314aeb[(_0x197f17(0xa96))]();}[_0x3fd00f(0x939)](_0x4c74ae){const _0x3cd5f3=_0x3fd00f;this[_0x3cd5f3(0x66d)]['next'](_0x4c74ae);}async[_0x3fd00f(0x676)](){const _0x23d2c3=_0x3fd00f;return(0x0,_0x314aeb['firstValueFrom'])(this[_0x23d2c3(0x66d)]['pipe']((0x0,_0x2b1772['take'])(0x1)));}}async function _0xbd3bb6(_0x245024,_0x4d5f2d,_0x5972b4,_0x3996f9,_0x977626,_0x8ba624,_0x187de9,_0x41d270,_0x436546){const _0x385b95=_0x3fd00f;if(_0x8ba624[_0x385b95(0x5e0)]||(_0x8ba624[_0x385b95(0x5e0)]={}),_0x4d5f2d===_0x245cf9[_0x385b95(0x32b)]&&'string'==typeof _0x5972b4&&(_0x8ba624[_0x385b95(0x5e0)]['prompt']=_0x5972b4),_0x8ba624['timesCalled']=_0x8ba624[_0x385b95(0x368)]?_0x8ba624[_0x385b95(0x368)]+0x1:0x1,_0x372cc5(_0x8ba624,_0x187de9)>_0x8ba624[_0x385b95(0x368)])return;if(_0x404abe[_0x385b95(0x555)](_0x385b95(0x291)+_0x8ba624[_0x385b95(0xa87)],_0x8ba624[_0x385b95(0x368)]),!_0x8ba624[_0x385b95(0x5e0)][_0x385b95(0x9fe)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x8ba624[_0x385b95(0xa87)]);const _0x38922f=_0x41d270['models'][_0x385b95(0x78b)](_0x588f73=>_0x588f73['id']===_0x8ba624[_0x385b95(0x165)]);if(!_0x38922f)throw new Error(_0x385b95(0x714)+_0x8ba624['modelId']);const _0x1b53f2=Date[_0x385b95(0x441)](),_0x2d1f3a=(0x0,_0x630e7c['v4'])();let _0x4da769='',_0x4332f6=0x0,_0x174411=0x0;const _0x38523c=[];if(_0x38523c[_0x385b95(0x639)]({'role':_0x385b95(0x25b),'content':_0x32bdad(_0x3996f9[_0x385b95(0x40a)]??'',_0x8ba624,_0x38922f)}),_0x38523c[_0x385b95(0x639)](..._0x3996f9[_0x385b95(0xadc)]?.[_0x385b95(0x23d)](_0x2a7586=>({'role':_0x2a7586[_0x385b95(0x286)]===_0x548494[_0x385b95(0xa85)][_0x385b95(0x51f)]?_0x385b95(0x814):'assistant','content':_0x2a7586[_0x385b95(0x382)]}))??[]),_0x38523c[_0x385b95(0x639)]({'role':'user','content':_0x1671db(_0x8ba624[_0x385b95(0x5e0)][_0x385b95(0x9fe)],_0x8ba624)}),_0x436546){const _0x4f3361=_0x8ba624['links']?.[_0x385b95(0x564)](_0x40c329=>{const _0xc4d268=_0x385b95,_0x3f6973=_0x187de9[_0xc4d268(0x78b)](_0x235091=>_0x235091['uid']===_0x40c329[_0xc4d268(0x803)]);return!!_0x3f6973&&_0x40c329[_0xc4d268(0x705)]===_0x245cf9['Text']&&_0x3f6973[_0xc4d268(0x705)]===_0x5e0896[_0xc4d268(0x9cc)];})??!0x1,_0x1bafde=_0x187de9[_0x385b95(0x69d)](_0x16b245=>_0x16b245[_0x385b95(0x712)]?.[_0x385b95(0x564)](_0x2b3bac=>_0x2b3bac[_0x385b95(0x803)]===_0x8ba624[_0x385b95(0x803)]&&_0x2b3bac['type']===_0x245cf9[_0x385b95(0x7b4)])),_0x4726d7=await fetch(_0x2c3579[_0x385b95(0x37a)]+_0x385b95(0x4c6),{'method':_0x385b95(0x81e),'headers':{'Accept':'text/event-stream','Content-Type':'application/json','x-vendor-id':_0x3996f9[_0x385b95(0x3ee)]},'body':JSON[_0x385b95(0x6b1)]({'model':_0x8ba624[_0x385b95(0x165)],'messages':_0x38523c,'max_completion_tokens':_0x8ba624[_0x385b95(0x3b7)],'temperature':_0x8ba624[_0x385b95(0x24f)],'stream':!0x0,'stream_options':{'include_usage':!0x0},'tools':_0x1bafde[_0x385b95(0x23d)](_0x1f4ba4=>({'type':_0x1f4ba4[_0x385b95(0x705)],'name':_0x1f4ba4[_0x385b95(0xa87)]??'','description':_0x1f4ba4['description']??'','parameters':_0x1f4ba4[_0x385b95(0x644)]??[],'headers':_0x1f4ba4[_0x385b95(0x17f)]??[],'queryParameters':_0x1f4ba4['queryParameters']??[],'bodyParameters':_0x1f4ba4[_0x385b95(0x29f)]??[],'endpointUrl':_0x1f4ba4['endpointUrl']??'','endpointMethod':_0x1f4ba4['endpointMethod']??'','modelId':_0x1f4ba4['model']??'','instructions':_0x1f4ba4[_0x385b95(0x40a)]??'','maxTokens':_0x1f4ba4[_0x385b95(0x3b7)]??0x0,'temperature':_0x1f4ba4[_0x385b95(0x24f)]??0x0,'collectionId':_0x1f4ba4[_0x385b95(0x705)]===_0x5e0896[_0x385b95(0x6ab)]||_0x1f4ba4['type']===_0x5e0896[_0x385b95(0x8ef)]?_0x1f4ba4['id']:''}))})});if(!_0x4726d7[_0x385b95(0x495)])throw new Error(_0x385b95(0x400));const _0x5bbd4f=_0x4726d7[_0x385b95(0x495)][_0x385b95(0x8e2)](),_0x312376=new TextDecoder();for(;;){const {value:_0x2a7156,done:_0x21407b}=await _0x5bbd4f['read']();if(_0x21407b)break;const _0x31f845=_0x312376['decode'](_0x2a7156,{'stream':!0x0});if(_0x385b95(0x72f)===_0x31f845)break;const _0x49dad6=_0x31f845['split'](_0x385b95(0x6e4))[_0x385b95(0x23d)](_0x8309ed=>_0x8309ed[_0x385b95(0x36b)]('data:\x20','')['trim']())[_0x385b95(0x69d)](_0x3188d0=>''!==_0x3188d0)[_0x385b95(0x23d)](_0x499ba2=>{const _0x43c51c=_0x385b95;try{return JSON[_0x43c51c(0xaa7)](_0x499ba2);}catch(_0x824960){return console['error'](_0x43c51c(0x921),_0x499ba2),null;}})[_0x385b95(0x69d)](_0x5d1eab=>null!==_0x5d1eab);for(const _0x118ea9 of _0x49dad6)_0x118ea9[_0x385b95(0x8a4)]&&_0x118ea9[_0x385b95(0x8a4)][0x0]&&(_0x4f3361&&''!==_0x118ea9['choices'][0x0][_0x385b95(0x6ce)][_0x385b95(0xaf0)]&&(_0x436546[_0x385b95(0x939)]({'output':_0x118ea9[_0x385b95(0x8a4)][0x0][_0x385b95(0x6ce)]['content'],'type':'prompt'}),await _0xa2c3bc[_0x385b95(0x3fd)](0x1)),_0x4da769=_0x118ea9[_0x385b95(0x8a4)][0x0]['delta']['content'],_0x4332f6=_0x118ea9[_0x385b95(0x2e5)]?.['prompt_tokens']??0x0,_0x174411=_0x118ea9[_0x385b95(0x2e5)]?.[_0x385b95(0xab5)]??0x0);}}else{const _0x1362d8=await fetch(_0x2c3579[_0x385b95(0x37a)]+_0x385b95(0x4c6),{'method':_0x385b95(0x81e),'headers':{'Content-Type':_0x385b95(0x718),'x-vendor-id':_0x3996f9['vendorId']},'body':JSON[_0x385b95(0x6b1)]({'model':_0x8ba624[_0x385b95(0x165)],'messages':_0x38523c,'max_completion_tokens':_0x8ba624[_0x385b95(0x3b7)],'temperature':_0x8ba624[_0x385b95(0x24f)]})}),_0x3ca423=await _0x1362d8[_0x385b95(0x80e)]();_0x4da769=_0x3ca423[_0x385b95(0x8a4)][0x0][_0x385b95(0x382)][_0x385b95(0xaf0)],_0x4332f6=_0x3ca423[_0x385b95(0x2e5)][_0x385b95(0x6ff)],_0x977626['outputTokens']=_0x3ca423[_0x385b95(0x2e5)][_0x385b95(0xab5)];}await _0x1c1b26[_0x385b95(0x25d)]({'jobType':_0x3e0954[_0x385b95(0x67f)],'type':_0x290819[_0x385b95(0x3f5)],'jobId':_0x245024,'agentId':_0x2d1f3a,'threadId':_0x3996f9[_0x385b95(0x857)],'traceLevel':_0x3a2fff[_0x385b95(0xa80)],'startTime':_0x1b53f2,'timestamp':Date[_0x385b95(0x441)](),'blockId':_0x8ba624['id'],'status':_0x385b95(0x57e),'output':_0x4da769,'prompt':_0x8ba624['accumulated']['prompt'],'agentName':_0x8ba624[_0x385b95(0xa87)],'history':[],'instructions':''+_0x8ba624['instructions']+(_0x3996f9[_0x385b95(0x40a)]??''),'ragContext':[],'inputTokens':_0x4332f6??0x0,'outputTokens':_0x174411??0x0}),_0x26851b(_0x4da769,_0x8ba624,_0x187de9),await _0x5ace42(_0x245024,_0x4da769,_0x3996f9,_0x977626,_0x8ba624,_0x187de9,_0x41d270,_0x436546);}function _0x1671db(_0x164267,_0x2fad6b){const _0x3fdda9=_0x3fd00f;if(!_0x2fad6b[_0x3fdda9(0x5e0)]||!_0x2fad6b[_0x3fdda9(0x5e0)][_0x3fdda9(0x4b2)])return _0x164267;if(_0x2fad6b['accumulated'][_0x3fdda9(0x4b2)])for(const _0x35f167 of Object[_0x3fdda9(0x566)](_0x2fad6b[_0x3fdda9(0x5e0)][_0x3fdda9(0x4b2)])){const _0x3242a3=_0x2fad6b[_0x3fdda9(0x5e0)][_0x3fdda9(0x4b2)][_0x35f167];_0x164267=_0x3242a3 instanceof Array?'<'+_0x35f167+_0x3fdda9(0x926)+_0x3242a3[_0x3fdda9(0x23d)](_0x3c4ab0=>_0x3fdda9(0x1e9)+_0x3c4ab0[_0x3fdda9(0x5f6)]+'>'+_0x3c4ab0[_0x3fdda9(0xaf0)]+_0x3fdda9(0x8bd)+_0x3c4ab0[_0x3fdda9(0x5f6)]+'>')[_0x3fdda9(0x5b4)]('\x0a\x0a')+'\x0a\x0a</'+_0x35f167+'>\x0a\x0a'+_0x164267:'<'+_0x35f167+'>'+_0x3242a3+'</'+_0x35f167+_0x3fdda9(0x926)+_0x164267;}return _0x164267;}function _0x32bdad(_0x1d44fd,_0x4b0dcf,_0x336ff4){const _0x2ef64d=_0x3fd00f;let _0x328f86='';return _0x336ff4['knowledgeCutoffDate']&&''!==_0x336ff4[_0x2ef64d(0xa43)]&&(_0x328f86=_0x2ef64d(0x1cf)+_0x336ff4[_0x2ef64d(0xa43)]+'\x0a\x0a'),_0x328f86=_0x328f86+_0x2ef64d(0x509)+new Date()[_0x2ef64d(0x2c1)](void 0x0,{'weekday':_0x2ef64d(0x72d),'year':_0x2ef64d(0x6b4),'month':_0x2ef64d(0x72d),'day':_0x2ef64d(0x6b4)})+'\x0a\x0a',''+_0x328f86+_0x4b0dcf[_0x2ef64d(0x40a)]+_0x1d44fd;}function _0x5b31bd(_0x3c5525,_0x49ef9f,_0x37e3ed){const _0x314430=_0x3fd00f;_0x37e3ed[_0x314430(0x5e0)]||(_0x37e3ed[_0x314430(0x5e0)]={}),_0x37e3ed['accumulated'][_0x314430(0x4b2)]||(_0x37e3ed['accumulated']['context']={});const _0x28a6c6=_0x37e3ed[_0x314430(0x54f)]?.[_0x314430(0xae4)](',');_0x28a6c6&&_0x28a6c6[_0x314430(0x7ac)](_0x3c5525)&&(_0x37e3ed['accumulated'][_0x314430(0x4b2)][_0x3c5525]=_0x49ef9f);}function _0x3bf170(_0x3ba5e7,_0x5a8b39,_0x1a372b,_0x24df23){const _0x220701=_0x3fd00f;_0x3ba5e7!==_0x245cf9[_0x220701(0x6f8)]&&_0x3ba5e7!==_0x245cf9['File']||(_0x24df23[_0x220701(0x5e0)]||(_0x24df23[_0x220701(0x5e0)]={}),_0x220701(0x7fc)==typeof _0x1a372b?(_0x24df23['accumulated'][_0x220701(0x4b2)]||(_0x24df23[_0x220701(0x5e0)][_0x220701(0x4b2)]={}),_0x24df23['accumulated'][_0x220701(0x4b2)][_0x5a8b39]=_0x1a372b):_0x24df23[_0x220701(0x5e0)][_0x220701(0xa0d)]=_0x1a372b);}async function _0x260ea0(_0x10b941,_0x476719,_0x117925,_0x1664ed,_0x566036,_0x140cea,_0x4ee8de,_0x448e75){const _0x11004e=function(_0x3777a8,_0x6a5245){const _0x2273a4=a0_0x38ff,_0x1b17ad=[];for(let _0x2ce12a=0x0;_0x2ce12a<_0x3777a8[_0x2273a4(0xa5f)];_0x2ce12a+=_0x6a5245['attributes']['size']){let _0xbab7b2=_0x2ce12a-_0x6a5245['attributes'][_0x2273a4(0x636)];_0xbab7b2<0x0&&(_0xbab7b2=0x0);let _0x5f09ba=_0x2ce12a+_0x6a5245[_0x2273a4(0xa0e)][_0x2273a4(0x66a)]+_0x6a5245[_0x2273a4(0xa0e)][_0x2273a4(0x636)];_0x5f09ba>_0x3777a8['length']&&(_0x5f09ba=_0x3777a8[_0x2273a4(0xa5f)]),length||(length=_0x2ce12a+_0x6a5245['attributes'][_0x2273a4(0x66a)],length>_0x3777a8[_0x2273a4(0xa5f)]&&(length=_0x3777a8[_0x2273a4(0xa5f)])),_0x1b17ad[_0x2273a4(0x639)](_0x3777a8[_0x2273a4(0x3bf)](_0xbab7b2,_0x5f09ba));}return _0x1b17ad;}(_0x476719,_0x566036);await _0x5ace42(_0x10b941,_0x11004e,_0x117925,_0x1664ed,_0x566036,_0x140cea,_0x4ee8de,_0x448e75);}function _0x1383e9(_0x587a7d,_0x32b8cc,_0x65dd2){const _0x4823c0=_0x3fd00f;_0x65dd2[_0x4823c0(0x5e0)]||(_0x65dd2[_0x4823c0(0x5e0)]={}),_0x65dd2[_0x4823c0(0x5e0)][_0x4823c0(0x4b2)]||(_0x65dd2[_0x4823c0(0x5e0)][_0x4823c0(0x4b2)]={}),_0x65dd2[_0x4823c0(0x5e0)]['context'][_0x587a7d]=_0x32b8cc;}async function _0x2145e3(_0x3dadbf,_0x3efbcb,_0x253ae3,_0x5c72f1,_0x306679,_0x2c1830,_0x42a35e,_0x368e8c){const _0x1705ad=_0x3fd00f;if(_0x306679[_0x1705ad(0x5e0)]||(_0x306679[_0x1705ad(0x5e0)]={}),_0x306679[_0x1705ad(0x5e0)][_0x1705ad(0xa5b)]||(_0x306679[_0x1705ad(0x5e0)]['queries']=[]),_0x3efbcb instanceof Array?_0x306679[_0x1705ad(0x5e0)][_0x1705ad(0xa5b)][_0x1705ad(0x639)](..._0x3efbcb):_0x306679[_0x1705ad(0x5e0)][_0x1705ad(0xa5b)][_0x1705ad(0x639)](_0x3efbcb),_0x306679[_0x1705ad(0x368)]=_0x306679['timesCalled']?_0x306679[_0x1705ad(0x368)]+0x1:0x1,_0x372cc5(_0x306679,_0x2c1830)>_0x306679[_0x1705ad(0x368)])return;if(0x0===_0x306679[_0x1705ad(0x5e0)][_0x1705ad(0xa5b)]['length'])throw new Error(_0x1705ad(0x4f0));let _0x310d48=[];const _0x3be82e=Date[_0x1705ad(0x441)]();try{let _0x1e0bc2=0x0,_0xfe74de=0x0;for(const _0xcd357f of _0x306679['accumulated']['queries']){const _0x391aa8=await fetch(_0x2c3579['apiUrl']+_0x1705ad(0x6f4)+_0x306679['id']+_0x1705ad(0x873),{'method':'POST','headers':{'Content-Type':_0x1705ad(0x718),'x-vendor-id':_0x253ae3['vendorId']},'body':JSON['stringify']({'query':_0xcd357f})}),_0x23eb0b=((await _0x391aa8[_0x1705ad(0x80e)]())[_0x1705ad(0xa83)]??[])[_0x1705ad(0x23d)](_0x5acd7a=>({'pathName':_0x5acd7a[_0x1705ad(0x1e2)],'relevance':_0x5acd7a[_0x1705ad(0x47e)],'content':_0x5acd7a['content'][_0x1705ad(0x58c)]}));_0x310d48=Array[_0x1705ad(0x4f7)](new Set([..._0x310d48,..._0x23eb0b])),_0x1e0bc2+=_0x23eb0b['inputTokens']??0x0,_0xfe74de+=_0x23eb0b[_0x1705ad(0x26e)]??0x0;}_0x5c72f1[_0x1705ad(0x22f)]+=_0x1e0bc2,_0x5c72f1[_0x1705ad(0x26e)]+=_0xfe74de,_0x5c72f1[_0x1705ad(0x4b2)]=Array[_0x1705ad(0x4f7)](new Set([..._0x5c72f1[_0x1705ad(0x4b2)],..._0x310d48])),await _0x1c1b26[_0x1705ad(0x25d)]({'jobType':_0x3e0954[_0x1705ad(0x67f)],'type':_0x290819[_0x1705ad(0x6ab)],'jobId':_0x3dadbf,'threadId':_0x253ae3[_0x1705ad(0x857)],'traceLevel':_0x3a2fff['Info'],'startTime':_0x3be82e,'timestamp':Date['now'](),'blockId':_0x306679['id'],'status':'success','queries':_0x306679[_0x1705ad(0x5e0)][_0x1705ad(0xa5b)],'context':_0x310d48,'inputTokens':_0x1e0bc2,'outputTokens':_0xfe74de});}catch(_0x4559f5){console['error'](_0x4559f5),await _0x1c1b26['trace']({'jobType':_0x3e0954[_0x1705ad(0x67f)],'type':_0x290819[_0x1705ad(0x6ab)],'jobId':_0x3dadbf,'threadId':_0x253ae3[_0x1705ad(0x857)],'traceLevel':_0x3a2fff['Info'],'startTime':_0x3be82e,'timestamp':Date[_0x1705ad(0x441)](),'blockId':_0x306679['id'],'status':_0x1705ad(0x805),'queries':_0x306679['accumulated'][_0x1705ad(0xa5b)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x26851b(_0x310d48,_0x306679,_0x2c1830),await _0x5ace42(_0x3dadbf,'',_0x253ae3,_0x5c72f1,_0x306679,_0x2c1830,_0x42a35e,_0x368e8c);}async function _0x49258a(_0x1f0eb1,_0x37877b,_0xf0c8fd,_0x5cf9ad,_0x2321b4,_0x4a52ee,_0x4e8941,_0x46585b){const _0x308236=_0x3fd00f,_0x7603cd=await _0x4e8941['nlpLibraryConnector'][_0x308236(0x5d1)](_0x37877b);await _0x5ace42(_0x1f0eb1,_0x7603cd,_0xf0c8fd,_0x5cf9ad,_0x2321b4,_0x4a52ee,_0x4e8941,_0x46585b);}async function _0xa4591d(_0x459864,_0x3000ba,_0x149f82,_0x4977c7,_0x2faa8b,_0x5d3b07,_0x5f3054,_0x31e351){const _0x482f23=function(_0x5d9f7f,_0x9e63db){const _0x1bed5c=a0_0x38ff,_0x5f1b76=[],_0x45358a=_0x5d9f7f['split']('\x20');let _0x4a7d41='',_0x43e7f8=0x0,_0x324f66=0x0,_0x2698a3=0x0;for(const _0x2b1f58 of _0x45358a){if(_0x4a7d41[_0x1bed5c(0xa5f)]+_0x2b1f58[_0x1bed5c(0xa5f)]>_0x9e63db[_0x1bed5c(0xa0e)][_0x1bed5c(0x66a)]){let _0x3a2df3=_0x43e7f8,_0x52de86='';for(;_0x3a2df3>=0x0&&_0x52de86['length']+_0x45358a[_0x3a2df3]['length']<_0x9e63db[_0x1bed5c(0xa0e)][_0x1bed5c(0x636)];)_0x52de86=_0x45358a[_0x3a2df3]+'\x20'+_0x52de86,_0x3a2df3--;let _0x574768=_0x324f66,_0x3a002a='';for(;_0x574768<_0x45358a['length']&&_0x3a002a[_0x1bed5c(0xa5f)]+_0x45358a[_0x574768]['length']<_0x9e63db['attributes'][_0x1bed5c(0x636)];)_0x3a002a+=_0x45358a[_0x574768]+'\x20',_0x574768++;_0x4a7d41=_0x52de86+_0x4a7d41+_0x3a002a,_0x5f1b76[_0x1bed5c(0x639)](_0x4a7d41[_0x1bed5c(0xabe)]()),_0x4a7d41='',_0x43e7f8=_0x324f66;}_0x4a7d41+=_0x2b1f58+'\x20',_0x324f66++,_0x2698a3+=_0x2b1f58[_0x1bed5c(0xa5f)]+0x1;}if(_0x4a7d41[_0x1bed5c(0xa5f)]>0x0){let _0x3c40f2=_0x43e7f8,_0x2e2b30='';for(;_0x3c40f2>=0x0&&_0x2e2b30[_0x1bed5c(0xa5f)]+_0x45358a[_0x3c40f2][_0x1bed5c(0xa5f)]<_0x9e63db[_0x1bed5c(0xa0e)]['overlap'];)_0x2e2b30=_0x45358a[_0x3c40f2]+'\x20'+_0x2e2b30,_0x3c40f2--;_0x4a7d41=_0x2e2b30+_0x4a7d41,_0x5f1b76['push'](_0x4a7d41[_0x1bed5c(0xabe)]());}return _0x5f1b76;}(_0x3000ba,_0x2faa8b);await _0x5ace42(_0x459864,_0x482f23,_0x149f82,_0x4977c7,_0x2faa8b,_0x5d3b07,_0x5f3054,_0x31e351);}function _0x26851b(_0xe2644b,_0xec22b4,_0xe1f86c,_0x50ec69){const _0x447b66=_0x3fd00f;if(_0xec22b4['links'])for(const _0xbcba43 of _0xec22b4[_0x447b66(0x712)]){if(_0xbcba43['type']!==_0x245cf9[_0x447b66(0x6f8)])continue;const _0x118571=_0xe1f86c['find'](_0x2b821e=>_0x2b821e['uid']===_0xbcba43[_0x447b66(0x803)]);if(!_0x118571)continue;let _0x645120=!0x1,_0x591997=_0xec22b4['id'];switch(_0x50ec69?_0x591997=_0x50ec69:(_0xec22b4[_0x447b66(0x705)]===_0x5e0896[_0x447b66(0x6ab)]&&(_0x591997=_0xec22b4[_0x447b66(0xa87)],_0x645120=!0x0),_0xec22b4[_0x447b66(0x705)]!==_0x5e0896[_0x447b66(0xa4c)]&&_0xec22b4[_0x447b66(0x705)]!==_0x5e0896[_0x447b66(0x840)]&&_0xec22b4[_0x447b66(0x705)]!==_0x5e0896[_0x447b66(0x4cc)]||(_0x591997=_0xec22b4[_0x447b66(0x49a)]??_0xec22b4[_0x447b66(0xa87)])),_0x447b66(0x276)===_0x591997&&(_0x645120=!0x0),_0x118571[_0x447b66(0x705)]){case _0x5e0896['Agent']:_0x118571['accumulated']||(_0x118571['accumulated']={}),_0x118571['accumulated'][_0x447b66(0x4b2)]||(_0x118571[_0x447b66(0x5e0)]['context']={});const _0x318d19=_0x118571['contextInputVariable']?.[_0x447b66(0xae4)](',');if(!(_0x318d19&&_0x318d19['includes'](_0x591997)||_0x645120))return;_0x404abe['forceLog'](_0x447b66(0x61d),_0x118571['name'],_0x591997),_0x118571[_0x447b66(0x5e0)][_0x447b66(0x4b2)][_0x591997]=_0xe2644b;break;case _0x5e0896[_0x447b66(0x840)]:_0x404abe['forceLog'](_0x447b66(0xa82),_0x118571['name'],_0x591997),_0x5b31bd(_0x591997,_0xe2644b,_0x118571);break;case _0x5e0896[_0x447b66(0x9cc)]:_0x404abe[_0x447b66(0x555)](_0x447b66(0x309),_0x591997),_0x447b66(0x7fc)==typeof _0xe2644b&&_0x3bf170(_0xbcba43['type'],_0x591997,_0xe2644b,_0x118571);break;case _0x5e0896['CustomSkill']:_0x404abe[_0x447b66(0x555)]('Setting\x20context\x20for\x20custom\x20skill\x20block',_0x118571[_0x447b66(0xa87)],_0x591997),_0x447b66(0x7fc)==typeof _0xe2644b&&_0x1383e9(_0x591997,_0xe2644b,_0x118571);}}}async function _0x5ace42(_0x2c1a89,_0x22aaf2,_0x354660,_0x26fbd9,_0x5232ea,_0x1373b1,_0x18a0ef,_0x42acdd){const _0x44a20d=_0x3fd00f;if(await _0xa2c3bc[_0x44a20d(0x3fd)](0x1),_0x5232ea[_0x44a20d(0x712)]){for(const _0x205f70 of _0x5232ea[_0x44a20d(0x712)]){if(_0x205f70[_0x44a20d(0x705)]===_0x245cf9[_0x44a20d(0x6f8)])continue;const _0x366efb=_0x1373b1[_0x44a20d(0x78b)](_0x359314=>_0x359314[_0x44a20d(0x803)]===_0x205f70[_0x44a20d(0x803)]);if(_0x366efb)switch(_0x366efb['type']){case _0x5e0896[_0x44a20d(0xa4c)]:_0x205f70[_0x44a20d(0x705)]!==_0x245cf9['Text']&&_0x205f70[_0x44a20d(0x705)]!==_0x245cf9[_0x44a20d(0x808)]||'string'!=typeof _0x22aaf2||await _0xbd3bb6(_0x2c1a89,_0x205f70['type'],_0x22aaf2,_0x354660,_0x26fbd9,_0x366efb,_0x1373b1,_0x18a0ef,_0x42acdd),_0x205f70[_0x44a20d(0x705)]===_0x245cf9[_0x44a20d(0x46b)]&&'true'===_0x22aaf2&&await _0xbd3bb6(_0x2c1a89,_0x205f70[_0x44a20d(0x705)],_0x22aaf2,_0x354660,_0x26fbd9,_0x366efb,_0x1373b1,_0x18a0ef,_0x42acdd),_0x205f70[_0x44a20d(0x705)]===_0x245cf9['WaitFalse']&&_0x44a20d(0x227)===_0x22aaf2&&await _0xbd3bb6(_0x2c1a89,_0x205f70[_0x44a20d(0x705)],_0x22aaf2,_0x354660,_0x26fbd9,_0x366efb,_0x1373b1,_0x18a0ef,_0x42acdd);break;case _0x5e0896[_0x44a20d(0x9cc)]:_0x205f70[_0x44a20d(0x705)]===_0x245cf9['File']&&_0x22aaf2 instanceof Array&&_0x22aaf2[_0x44a20d(0xa5f)]>0x0&&_0x3bf170(_0x205f70[_0x44a20d(0x705)],_0x2c1a89,_0x22aaf2[0x0],_0x366efb);break;case _0x5e0896[_0x44a20d(0x45d)]:_0x205f70[_0x44a20d(0x705)]===_0x245cf9[_0x44a20d(0x32b)]&&_0x44a20d(0x7fc)==typeof _0x22aaf2&&await _0x260ea0(_0x2c1a89,_0x22aaf2,_0x354660,_0x26fbd9,_0x366efb,_0x1373b1,_0x18a0ef,_0x42acdd);break;case _0x5e0896[_0x44a20d(0x6ab)]:_0x205f70[_0x44a20d(0x705)]===_0x245cf9['Text']&&'string'==typeof _0x22aaf2&&await _0x2145e3(_0x2c1a89,_0x22aaf2,_0x354660,_0x26fbd9,_0x366efb,_0x1373b1,_0x18a0ef,_0x42acdd),_0x205f70['type']===_0x245cf9[_0x44a20d(0x32b)]&&_0x22aaf2 instanceof Array&&await _0x2145e3(_0x2c1a89,_0x22aaf2,_0x354660,_0x26fbd9,_0x366efb,_0x1373b1,_0x18a0ef,_0x42acdd);break;case _0x5e0896['SentenceSplitter']:_0x205f70[_0x44a20d(0x705)]===_0x245cf9[_0x44a20d(0x32b)]&&_0x44a20d(0x7fc)==typeof _0x22aaf2&&await _0x49258a(_0x2c1a89,_0x22aaf2,_0x354660,_0x26fbd9,_0x366efb,_0x1373b1,_0x18a0ef,_0x42acdd);break;case _0x5e0896[_0x44a20d(0x4a6)]:_0x205f70[_0x44a20d(0x705)]===_0x245cf9[_0x44a20d(0x32b)]&&_0x44a20d(0x7fc)==typeof _0x22aaf2&&await _0xa4591d(_0x2c1a89,_0x22aaf2,_0x354660,_0x26fbd9,_0x366efb,_0x1373b1,_0x18a0ef,_0x42acdd);}}_0x5232ea['type']===_0x5e0896['Prompt']&&_0x42acdd&&_0x42acdd[_0x44a20d(0x939)](void 0x0);}else _0x5232ea[_0x44a20d(0x705)]===_0x5e0896[_0x44a20d(0x83e)]&&_0x42acdd&&_0x42acdd['emit'](void 0x0);}function _0x372cc5(_0x11386c,_0x3ca921){const _0x3c2f7e=_0x3fd00f;let _0x119699=0x0;for(const _0x1f8ee1 of _0x3ca921)for(const _0x3a7e96 of _0x1f8ee1[_0x3c2f7e(0x712)]??[])_0x3a7e96[_0x3c2f7e(0x705)]!==_0x245cf9[_0x3c2f7e(0x6f8)]&&_0x3a7e96['type']!==_0x245cf9[_0x3c2f7e(0x7b4)]&&_0x3a7e96[_0x3c2f7e(0x803)]===_0x11386c[_0x3c2f7e(0x803)]&&_0x119699++;return _0x119699;}async function _0x32b8ef(_0x3aba18,_0x550196,_0x2f9647,_0x4912fa){const _0x1d0e0a=_0x3fd00f;if(0x0===_0x3aba18[_0x1d0e0a(0xa5f)])return;let _0x813988=_0x1d0e0a(0x346);for(const _0xd9cc57 of _0x3aba18)if(_0xd9cc57[_0x1d0e0a(0x705)]['startsWith']('text/')||_0x2ee030(_0xd9cc57[_0x1d0e0a(0xa87)],_0x3bec23))_0x813988+='\x0a<'+_0xd9cc57[_0x1d0e0a(0xa87)]+'>\x0a'+await _0xd9cc57[_0x1d0e0a(0x58c)]()+'\x0a</'+_0xd9cc57[_0x1d0e0a(0xa87)]+'>';else{if(!_0x4912fa[_0x1d0e0a(0x235)][_0x1d0e0a(0x464)](_0xd9cc57))throw new Error(_0x1d0e0a(0xa9d)+_0xd9cc57[_0x1d0e0a(0x705)]+_0x1d0e0a(0xa7b)+_0xd9cc57[_0x1d0e0a(0xa87)]);_0x813988+='\x0a<'+_0xd9cc57['name']+'>\x0a'+await _0x4912fa[_0x1d0e0a(0x235)][_0x1d0e0a(0xaa7)](_0xd9cc57)+_0x1d0e0a(0x654)+_0xd9cc57[_0x1d0e0a(0xa87)]+'>';}_0x813988+='\x0a</uploaded-files>',_0x26851b(_0x813988,_0x550196,_0x2f9647,_0x1d0e0a(0x276));}function _0x2167b8(_0xda8282,_0x54b21e){const _0x1bdf1e=_0x3fd00f;_0x54b21e[_0x1bdf1e(0x5e0)]||(_0x54b21e[_0x1bdf1e(0x5e0)]={}),_0x54b21e['accumulated']['files']=_0xda8282;}async function _0x429e66(_0x589dc4,_0x3b030c,_0x55375d,_0x4ede48){const _0x1cbcc1=_0x3fd00f;if(_0x589dc4[_0x1cbcc1(0x300)]&&_0x3b030c[_0x1cbcc1(0x712)]){const _0x211ab6=[];for(const _0x5d8e3c of _0x589dc4['files'])_0x211ab6[_0x1cbcc1(0x639)](_0x538392(_0x5d8e3c));for(const _0x43c122 of _0x3b030c[_0x1cbcc1(0x712)])if(_0x1cbcc1(0xa0d)===_0x43c122[_0x1cbcc1(0x705)]){const _0x216d10=_0x55375d[_0x1cbcc1(0x78b)](_0x26c0ff=>_0x26c0ff[_0x1cbcc1(0x803)]===_0x43c122['uid']);if(!_0x216d10)continue;_0x216d10[_0x1cbcc1(0x705)]===_0x5e0896[_0x1cbcc1(0x343)]&&await _0x32b8ef(_0x211ab6,_0x216d10,_0x55375d,_0x4ede48),_0x216d10[_0x1cbcc1(0x705)]===_0x5e0896[_0x1cbcc1(0x780)]&&_0x2167b8(_0x211ab6,_0x216d10);}}}function _0x538392(_0x3a2224){const _0x13ad93=_0x3fd00f,_0x2939e7=atob(_0x3a2224[_0x13ad93(0xaf0)]),_0x39febf=_0x2939e7[_0x13ad93(0xa5f)],_0x5b4143=new ArrayBuffer(_0x39febf),_0x597d99=new Uint8Array(_0x5b4143);for(let _0x13041c=0x0;_0x13041c<_0x39febf;_0x13041c++)_0x597d99[_0x13041c]=_0x2939e7[_0x13ad93(0x7de)](_0x13041c);return new File([_0x597d99],_0x3a2224[_0x13ad93(0xa87)],{'type':_0x3a2224['type']});}async function _0x155ae6(_0x115632,_0x1a4ee5,_0x73f77a,_0x5c3a00,_0x126fe6,_0x3a858c){const _0x4bc088=_0x3fd00f,_0x2dc06c=_0x4bc088(0x2f8)+_0x5c3a00[_0x4bc088(0x430)]+_0x4bc088(0x65a),_0x43ebad={'prompt':{'type':_0x548494[_0x4bc088(0x52d)][_0x4bc088(0x4c8)]}};return await _0x1c1b26['trace']({'jobType':_0x3e0954['JobContext'],'type':_0x1a7c45[_0x4bc088(0x90f)],'jobId':_0x115632,'agentId':_0x1a4ee5,'threadId':_0x73f77a[_0x4bc088(0x857)],'traceLevel':_0x3a2fff[_0x4bc088(0xa80)],'startTime':Date['now'](),'timestamp':Date[_0x4bc088(0x441)](),'status':_0x4bc088(0x57e),'function':_0x3e2592[_0x4bc088(0x388)],'params':_0x43ebad,'functionDescription':_0x2dc06c}),{'description':_0x2dc06c,'params':_0x43ebad,'callback':async _0xa953be=>_0x2a5464(_0x73f77a[_0x4bc088(0x3ee)],_0x5c3a00,_0x126fe6,_0xa953be,_0x115632,_0x1a4ee5,_0x73f77a[_0x4bc088(0x857)],_0x3a858c)};}async function _0x2a5464(_0x3f7281,_0x31cec3,_0x28a369,_0x3c5aae,_0x33d2c7,_0x5f3da6,_0x2b7f46,_0x26db9c){const _0x590060=_0x3fd00f,_0x3dfc6e=Date[_0x590060(0x441)]();try{if(_0x590060(0x7fc)!=typeof _0x3c5aae?.['prompt'])throw new Error('Prompt\x20is\x20required');if(!_0x28a369[_0x590060(0x36e)][_0x590060(0x78b)](_0x35f450=>_0x35f450['id']===_0x31cec3['modelId']))throw new Error(_0x590060(0x1f0));let _0x195e4f='',_0x52db58=[];if(_0x31cec3[_0x590060(0x40a)]&&_0x52db58[_0x590060(0x639)]({'role':_0x590060(0x25b),'content':_0x31cec3[_0x590060(0x40a)]}),_0x52db58[_0x590060(0x639)]({'role':'user','content':_0x3c5aae[_0x590060(0x9fe)]}),_0x26db9c){const _0xcb2489=await fetch(_0x2c3579[_0x590060(0x37a)]+_0x590060(0x4c6),{'method':_0x590060(0x81e),'headers':{'Accept':_0x590060(0xa8a),'Content-Type':'application/json','x-vendor-id':_0x3f7281},'body':JSON[_0x590060(0x6b1)]({'model':_0x31cec3[_0x590060(0x165)],'messages':_0x52db58,'max_completion_tokens':_0x31cec3[_0x590060(0x3b7)],'temperature':_0x31cec3[_0x590060(0x24f)],'stream':!0x0})});if(!_0xcb2489[_0x590060(0x495)])throw new Error('ReadableStream\x20is\x20not\x20supported');const _0x3b6922=_0xcb2489[_0x590060(0x495)][_0x590060(0x8e2)](),_0x3c5726=new TextDecoder();for(;;){const {value:_0x5141bf,done:_0xcdc9b3}=await _0x3b6922['read']();if(_0xcdc9b3)break;const _0x132e05=JSON[_0x590060(0xaa7)](_0x3c5726[_0x590060(0x1e6)](_0x5141bf,{'stream':!0x0}));_0x26db9c[_0x590060(0x939)]({'output':_0x132e05[_0x590060(0x8a4)][0x0][_0x590060(0x6ce)][_0x590060(0xaf0)],'type':_0x590060(0x9fe)}),await _0xa2c3bc[_0x590060(0x3fd)](0x1),_0x195e4f=_0x132e05[_0x590060(0x8a4)][0x0][_0x590060(0x6ce)]['content'];}}else{const _0x46a918=await fetch(_0x2c3579[_0x590060(0x37a)]+'/chat/completions',{'method':'POST','headers':{'Content-Type':_0x590060(0x718),'x-vendor-id':_0x3f7281},'body':JSON[_0x590060(0x6b1)]({'model':_0x31cec3['modelId'],'messages':_0x52db58,'max_completion_tokens':_0x31cec3['maxTokens'],'temperature':_0x31cec3['temperature']})});_0x195e4f=(await _0x46a918[_0x590060(0x80e)]())[_0x590060(0x8a4)][0x0][_0x590060(0x382)][_0x590060(0xaf0)];}if(_0x590060(0x7fc)!=typeof _0x195e4f)throw new Error(_0x590060(0xa04));return _0x33d2c7&&_0x5f3da6&&_0x2b7f46&&await _0x1c1b26[_0x590060(0x25d)]({'jobType':_0x3e0954[_0x590060(0x3ab)],'type':_0x3e2592[_0x590060(0x388)],'jobId':_0x33d2c7,'blockId':_0x590060(0x5e4),'agentId':_0x5f3da6,'threadId':_0x2b7f46,'traceLevel':_0x3a2fff[_0x590060(0xa80)],'startTime':_0x3dfc6e,'timestamp':Date[_0x590060(0x441)](),'status':_0x590060(0x57e),'agentName':_0x31cec3[_0x590060(0xa87)],'prompt':_0x3c5aae[_0x590060(0x9fe)],'instructions':_0x31cec3[_0x590060(0x40a)]??'','result':_0x195e4f,'inputTokens':0x0,'outputTokens':0x0}),_0x195e4f;}catch(_0x49a3aa){return console[_0x590060(0x805)](_0x49a3aa),_0x33d2c7&&_0x5f3da6&&_0x2b7f46&&await _0x1c1b26[_0x590060(0x25d)]({'jobType':_0x3e0954['Skill'],'type':_0x3e2592[_0x590060(0x388)],'jobId':_0x33d2c7,'blockId':_0x590060(0x5e4),'agentId':_0x5f3da6,'threadId':_0x2b7f46,'traceLevel':_0x3a2fff[_0x590060(0xa80)],'startTime':_0x3dfc6e,'timestamp':Date['now'](),'status':_0x590060(0x805),'errorDetails':_0xf8216f(_0x49a3aa),'agentName':_0x31cec3['name'],'prompt':_0x3c5aae?.[_0x590060(0x9fe)]??'','instructions':_0x31cec3['instructions']??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x49a3aa instanceof Error?_0x49a3aa[_0x590060(0x382)]:'Error\x20executing\x20agent';}}async function _0x17616c(_0x4c4267,_0x1470dd,_0x27720b,_0x79dbd6,_0x535d79){const _0x7b9d8=_0x3fd00f,_0x30d5ff=Date[_0x7b9d8(0x441)]();try{if(!_0x4c4267[_0x7b9d8(0x77b)])throw new Error(_0x7b9d8(0x9a0));if(_0x7b9d8(0x7fc)!=typeof _0x1470dd?.[_0x7b9d8(0x2bc)])throw new Error(_0x7b9d8(0x813));const _0x34282c=await _0x4c4267[_0x7b9d8(0x77b)][_0x7b9d8(0x595)](_0x1470dd[_0x7b9d8(0x2bc)]);return _0x27720b&&_0x79dbd6&&_0x535d79&&await _0x1c1b26[_0x7b9d8(0x25d)]({'jobType':_0x3e0954[_0x7b9d8(0x3ab)],'type':_0x3e2592[_0x7b9d8(0x230)],'jobId':_0x27720b,'agentId':_0x79dbd6,'threadId':_0x535d79,'blockId':_0x7b9d8(0x4fd),'traceLevel':_0x3a2fff[_0x7b9d8(0xa80)],'startTime':_0x30d5ff,'timestamp':Date['now'](),'status':_0x7b9d8(0x57e),'query':_0x1470dd[_0x7b9d8(0x2bc)],'results':_0x34282c}),_0x34282c;}catch(_0x40269a){return console[_0x7b9d8(0x805)](_0x40269a),_0x27720b&&_0x79dbd6&&_0x535d79&&await _0x1c1b26[_0x7b9d8(0x25d)]({'jobType':_0x3e0954['Skill'],'type':_0x3e2592[_0x7b9d8(0x230)],'jobId':_0x27720b,'blockId':_0x7b9d8(0x4fd),'traceLevel':_0x3a2fff['Info'],'startTime':_0x30d5ff,'timestamp':Date['now'](),'status':_0x7b9d8(0x805),'errorDetails':_0xf8216f(_0x40269a),'agentId':_0x79dbd6,'threadId':_0x535d79,'query':_0x1470dd?.[_0x7b9d8(0x2bc)]??'','results':_0x7b9d8(0x292)}),_0x40269a instanceof Error?_0x40269a[_0x7b9d8(0x382)]:'Error\x20searching';}}async function _0x3227fc(_0x102ac1,_0x3403b7,_0x436e2f,_0x3e4633){const _0xe7f312=_0x3fd00f,_0x33c154=Date[_0xe7f312(0x441)]();try{if(_0xe7f312(0x7fc)!=typeof _0x102ac1?.[_0xe7f312(0x315)])throw new Error('Code\x20is\x20required');const _0x57a470=Function(''+_0x102ac1?.[_0xe7f312(0x315)])();let _0x1b53f1='';try{_0x1b53f1=JSON[_0xe7f312(0x6b1)](_0x57a470);}catch{_0x1b53f1=_0x57a470[_0xe7f312(0x5fc)]();}return _0x3403b7&&_0x436e2f&&_0x3e4633&&await _0x1c1b26[_0xe7f312(0x25d)]({'jobType':_0x3e0954[_0xe7f312(0x3ab)],'type':_0x3e2592['ExecuteCode'],'agentId':_0x436e2f,'threadId':_0x3e4633,'jobId':_0x3403b7,'blockId':_0xe7f312(0x315),'traceLevel':_0x3a2fff[_0xe7f312(0xa80)],'startTime':_0x33c154,'timestamp':Date['now'](),'status':'success','code':_0x102ac1[_0xe7f312(0x315)],'result':_0x1b53f1}),_0x57a470;}catch(_0x419993){return console[_0xe7f312(0x805)](_0x419993),_0x3403b7&&_0x436e2f&&_0x3e4633&&await _0x1c1b26[_0xe7f312(0x25d)]({'jobType':_0x3e0954[_0xe7f312(0x3ab)],'type':_0x3e2592['ExecuteCode'],'jobId':_0x3403b7,'blockId':_0xe7f312(0x315),'traceLevel':_0x3a2fff[_0xe7f312(0xa80)],'startTime':_0x33c154,'timestamp':Date[_0xe7f312(0x441)](),'status':_0xe7f312(0x805),'errorDetails':_0xf8216f(_0x419993),'agentId':_0x436e2f,'threadId':_0x3e4633,'code':_0x102ac1?.[_0xe7f312(0x315)]??'','result':'Error\x20executing\x20code'}),_0x419993 instanceof Error?_0x419993[_0xe7f312(0x382)]:_0xe7f312(0x3e3);}}async function _0x4f8758(_0xd8a1bb,_0x4b2dd0,_0x29d963,_0x4d52b5,_0x586dad){const _0x26f10e=_0x3fd00f,_0x55e320=_0x26f10e(0x445)+_0x586dad['description']+_0x26f10e(0x486),_0x20f3fa={'queryOrPrompt':{'type':_0x548494[_0x26f10e(0x52d)][_0x26f10e(0x4c8)]}};return await _0x1c1b26[_0x26f10e(0x25d)]({'jobType':_0x3e0954['JobContext'],'type':_0x1a7c45[_0x26f10e(0x933)],'jobId':_0xd8a1bb,'agentId':_0x4b2dd0,'threadId':_0x29d963['threadId'],'blockId':'data-collection','traceLevel':_0x3a2fff['Info'],'startTime':Date[_0x26f10e(0x441)](),'timestamp':Date['now'](),'status':'success','function':_0x556586[_0x26f10e(0x75a)],'params':_0x20f3fa,'functionDescription':_0x55e320}),{'description':_0x55e320,'params':_0x20f3fa,'callback':async _0xb18826=>_0xe79461(_0x29d963['vendorId'],_0x586dad,_0xb18826,_0xd8a1bb,_0x4b2dd0,_0x29d963[_0x26f10e(0x857)],_0x4d52b5)};}async function _0xe79461(_0x497716,_0x2d8772,_0x4c2ff7,_0x3ad5d1,_0x22e3a8,_0x4a529b,_0x37e0f0){const _0x28a661=_0x3fd00f,_0x4b4f39=Date[_0x28a661(0x441)]();try{if(_0x28a661(0x7fc)!=typeof _0x4c2ff7?.[_0x28a661(0x793)])throw new Error('Query\x20is\x20required');const _0x1e257b=await fetch(_0x2c3579[_0x28a661(0x37a)]+_0x28a661(0x6f4)+_0x2d8772[_0x28a661(0x3e8)]+'/search',{'method':_0x28a661(0x81e),'headers':{'Content-Type':_0x28a661(0x718),'x-vendor-id':_0x497716},'body':JSON['stringify']({'query':_0x4c2ff7[_0x28a661(0x793)]})}),_0x2a8754=((await _0x1e257b[_0x28a661(0x80e)]())[_0x28a661(0xa83)]??[])['map'](_0x18d80f=>({'pathName':_0x18d80f['filename'],'relevance':_0x18d80f[_0x28a661(0x47e)],'content':_0x18d80f[_0x28a661(0xaf0)]['text']}));return _0x37e0f0&&(_0x37e0f0['context']=Array[_0x28a661(0x4f7)](new Set([..._0x37e0f0[_0x28a661(0x4b2)]??[],..._0x2a8754]))),_0x3ad5d1&&_0x22e3a8&&_0x4a529b&&await _0x1c1b26[_0x28a661(0x25d)]({'jobType':_0x3e0954[_0x28a661(0x8ef)],'type':_0x556586['GetContextResult'],'jobId':_0x3ad5d1,'blockId':_0x28a661(0x1f9),'agentId':_0x22e3a8,'threadId':_0x4a529b,'traceLevel':_0x3a2fff[_0x28a661(0xa80)],'startTime':_0x4b4f39,'timestamp':Date['now'](),'status':_0x28a661(0x57e),'query':_0x4c2ff7[_0x28a661(0x793)],'context':_0x2a8754['context']??[],'inputTokens':_0x2a8754[_0x28a661(0x22f)]??0x0,'outputTokens':_0x2a8754[_0x28a661(0x26e)]??0x0}),_0x2a8754[_0x28a661(0x9b1)]((_0x902c44,_0x5737a8)=>_0x902c44+'\x0a'+_0x5737a8['content'],'');}catch(_0x487bf3){return console[_0x28a661(0x805)](_0x487bf3),_0x3ad5d1&&_0x22e3a8&&_0x4a529b&&await _0x1c1b26[_0x28a661(0x25d)]({'jobType':_0x3e0954[_0x28a661(0x8ef)],'type':_0x556586['GetContextResult'],'jobId':_0x3ad5d1,'blockId':_0x28a661(0x1f9),'agentId':_0x22e3a8,'threadId':_0x4a529b,'traceLevel':_0x3a2fff[_0x28a661(0xa80)],'startTime':_0x4b4f39,'timestamp':Date['now'](),'status':'error','errorDetails':_0xf8216f(_0x487bf3),'query':_0x4c2ff7?.[_0x28a661(0x793)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x487bf3 instanceof Error?_0x487bf3['message']:'Error\x20retrieving\x20context';}}async function _0x357860(_0x3d5032,_0x58b30a,_0x1623b0,_0x1daef2,_0xc810e9){const _0x369edd=_0x3fd00f,_0x53de03={};for(const _0x3da8af of _0xc810e9[_0x369edd(0x644)]??[])switch(_0x3da8af[_0x369edd(0x705)]){case _0x369edd(0x7fc):case _0x369edd(0x80e):_0x53de03[_0x3da8af[_0x369edd(0xa87)]]={'type':_0x548494['PromptFunctionParamsType']['String']};break;case _0x369edd(0xa75):_0x53de03[_0x3da8af[_0x369edd(0xa87)]]={'type':_0x548494['PromptFunctionParamsType']['Number']};break;case _0x369edd(0x19a):_0x53de03[_0x3da8af[_0x369edd(0xa87)]]={'type':_0x548494['PromptFunctionParamsType'][_0x369edd(0x84a)]};}return await _0x1c1b26[_0x369edd(0x25d)]({'jobType':_0x3e0954[_0x369edd(0x774)],'type':_0x1a7c45[_0x369edd(0x90f)],'jobId':_0x3d5032,'agentId':_0x58b30a,'threadId':_0x1623b0,'traceLevel':_0x3a2fff[_0x369edd(0xa80)],'startTime':Date['now'](),'timestamp':Date[_0x369edd(0x441)](),'status':'success','function':_0x3e2592['ExecuteCustomSkill'],'params':_0x53de03,'functionDescription':_0xc810e9[_0x369edd(0x430)]??''}),{'description':'Execute\x20skill\x20'+_0xc810e9[_0x369edd(0x430)],'params':_0x53de03,'callback':async _0x520e05=>_0x36c6f0(_0xc810e9,_0x520e05,_0x3d5032,_0x58b30a,_0x1623b0,_0x1daef2)};}async function _0x36c6f0(_0xfd8599,_0x1d187c,_0x4df07c,_0x47f4ec,_0x59ae6a,_0x2f4870){const _0x4cc7a1=_0x3fd00f,_0x4b8397=Date['now']();try{if(!_0x1d187c)throw new Error(_0x4cc7a1(0x45c));for(const _0x3ceb8b of _0xfd8599[_0x4cc7a1(0x644)]??[]){if(void 0x0===_0x1d187c[_0x3ceb8b['name']])throw new Error(_0x4cc7a1(0x97c)+_0x3ceb8b[_0x4cc7a1(0xa87)]+_0x4cc7a1(0x6db));if(_0x4cc7a1(0x7fc)===_0x3ceb8b['type']&&_0x4cc7a1(0x7fc)!=typeof _0x1d187c[_0x3ceb8b[_0x4cc7a1(0xa87)]])throw new Error(_0x4cc7a1(0x97c)+_0x3ceb8b[_0x4cc7a1(0xa87)]+'\x20must\x20be\x20a\x20string');if('number'===_0x3ceb8b['type']&&_0x4cc7a1(0xa75)!=typeof _0x1d187c[_0x3ceb8b['name']])throw new Error('Parameter\x20'+_0x3ceb8b[_0x4cc7a1(0xa87)]+_0x4cc7a1(0x60a));if(_0x4cc7a1(0x19a)===_0x3ceb8b['type']&&_0x4cc7a1(0x19a)!=typeof _0x1d187c[_0x3ceb8b[_0x4cc7a1(0xa87)]])throw new Error(_0x4cc7a1(0x97c)+_0x3ceb8b[_0x4cc7a1(0xa87)]+'\x20must\x20be\x20a\x20boolean');if(_0x4cc7a1(0x80e)===_0x3ceb8b['type']&&'string'!=typeof _0x1d187c[_0x3ceb8b[_0x4cc7a1(0xa87)]])throw new Error(_0x4cc7a1(0x97c)+_0x3ceb8b[_0x4cc7a1(0xa87)]+_0x4cc7a1(0x9ae));if(_0x4cc7a1(0x80e)===_0x3ceb8b[_0x4cc7a1(0x705)])try{_0x1d187c[_0x3ceb8b[_0x4cc7a1(0xa87)]]=JSON[_0x4cc7a1(0xaa7)](_0x1d187c[_0x3ceb8b[_0x4cc7a1(0xa87)]]);}catch{throw new Error(_0x4cc7a1(0x97c)+_0x3ceb8b[_0x4cc7a1(0xa87)]+_0x4cc7a1(0x5a9));}}const _0x137c8a={};for(const _0x1fa6af of _0xfd8599[_0x4cc7a1(0x17f)]??[]){let _0x352e02=_0x1fa6af['value'];_0x352e02['match'](/\$[a-zA-Z0-9]+/)&&(_0x352e02=_0x352e02[_0x4cc7a1(0x36b)](/\$[a-zA-Z0-9]+/g,_0x18a389=>{const _0xfe1c68=_0x4cc7a1,_0x51ee1a=_0x18a389[_0xfe1c68(0x7cd)](0x1);return _0x1d187c[_0x51ee1a];})),_0x137c8a[_0x1fa6af[_0x4cc7a1(0xa87)]]=_0x352e02;}const _0x319f29=new URLSearchParams();for(const _0x6d7079 of _0xfd8599[_0x4cc7a1(0x6e2)]??[]){let _0x4eee32=_0x6d7079[_0x4cc7a1(0x69a)];if(_0x4cc7a1(0x7fc)==typeof _0x4eee32&&_0x4eee32[_0x4cc7a1(0x294)]('$')){const _0x482664=_0x4eee32['slice'](0x1);_0x4eee32=_0x1d187c[_0x482664];}if('string'==typeof _0x4eee32&&_0x4eee32[_0x4cc7a1(0x294)](_0x4cc7a1(0x26f))){const _0x1aeb78=_0x4eee32[_0x4cc7a1(0x36b)]('@context.','');if(_0x4eee32=_0x2f4870?.[_0x4cc7a1(0x3c7)]?.[_0x1aeb78],_0x4cc7a1(0x7fc)==typeof _0x4eee32&&_0x4eee32['startsWith']('{')&&_0x4eee32[_0x4cc7a1(0x5a8)]('}'))try{_0x4eee32=JSON['parse'](_0x4eee32);}catch{}}'string'==typeof _0x4eee32&&_0x4eee32[_0x4cc7a1(0x294)]('[')&&_0x4eee32[_0x4cc7a1(0x5a8)](']')&&(_0x4eee32=JSON[_0x4cc7a1(0xaa7)](_0x4eee32)),_0x319f29[_0x4cc7a1(0xafe)](_0x6d7079['name'],_0x4eee32);}let _0x3f4a2b=_0xfd8599[_0x4cc7a1(0x6bf)]??'';_0x319f29['size']>0x0&&(_0x3f4a2b+='?'+_0x319f29[_0x4cc7a1(0x5fc)]());let _0x59421f={};for(const _0x12abfb of _0xfd8599[_0x4cc7a1(0x29f)]??[]){let _0x54d1c8=_0x12abfb['value'];if(_0x4cc7a1(0x7fc)==typeof _0x54d1c8&&_0x54d1c8['startsWith']('$')){const _0x46af86=_0x54d1c8[_0x4cc7a1(0x7cd)](0x1);_0x54d1c8=_0x1d187c[_0x46af86];}if(_0x4cc7a1(0x7fc)==typeof _0x54d1c8&&_0x54d1c8[_0x4cc7a1(0x294)]('@context.')){const _0x2e1e4e=_0x54d1c8[_0x4cc7a1(0x36b)]('@context.','');if(_0x54d1c8=_0x2f4870?.[_0x4cc7a1(0x3c7)]?.[_0x2e1e4e],_0x4cc7a1(0x7fc)==typeof _0x54d1c8&&_0x54d1c8[_0x4cc7a1(0x294)]('{')&&_0x54d1c8[_0x4cc7a1(0x5a8)]('}'))try{_0x54d1c8=JSON['parse'](_0x54d1c8);}catch{}}if(_0x4cc7a1(0x7fc)==typeof _0x54d1c8&&_0x54d1c8[_0x4cc7a1(0x294)]('[')&&_0x54d1c8[_0x4cc7a1(0x5a8)](']')&&(_0x54d1c8=JSON[_0x4cc7a1(0xaa7)](_0x54d1c8)),'@root'===_0x12abfb[_0x4cc7a1(0xa87)]){const _0x1aa458=_0x54d1c8[_0x4cc7a1(0x5a0)](/```html(.*)```/s);_0x1aa458&&(_0x54d1c8=_0x1aa458[0x1]),_0x54d1c8=_0x54d1c8[_0x4cc7a1(0x36b)](/\n/g,''),_0x54d1c8=_0x54d1c8[_0x4cc7a1(0x36b)](/'/g,'\x22'),_0x59421f=_0x54d1c8;break;}if(-0x1===_0x12abfb[_0x4cc7a1(0xa87)][_0x4cc7a1(0x61f)]('.'))_0x59421f[_0x12abfb[_0x4cc7a1(0xa87)]]=_0x54d1c8;else{const [_0x13c3f7,_0x2d3908]=_0x12abfb[_0x4cc7a1(0xa87)]['split']('.');_0x59421f[_0x13c3f7]||(_0x59421f[_0x13c3f7]={}),_0x59421f[_0x13c3f7][_0x2d3908]=_0x54d1c8;}}console['log']('Executing\x20custom\x20skill:\x20'+_0xfd8599[_0x4cc7a1(0xa87)]+_0x4cc7a1(0x625)+JSON[_0x4cc7a1(0x6b1)](_0x59421f));const _0x741245=await fetch(_0x3f4a2b,{'method':_0xfd8599[_0x4cc7a1(0xae8)],'headers':_0x137c8a,'body':_0x4cc7a1(0x7fc)==typeof _0x59421f?_0x59421f:JSON['stringify'](_0x59421f)});if(_0x741245['ok']){let _0xae91fe=await _0x741245[_0x4cc7a1(0x80e)]();return _0x4cc7a1(0x7fc)!=typeof _0xae91fe&&(_0xae91fe=JSON[_0x4cc7a1(0x6b1)](_0xae91fe)),_0x4df07c&&_0x47f4ec&&_0x59ae6a&&await _0x1c1b26[_0x4cc7a1(0x25d)]({'jobType':_0x3e0954[_0x4cc7a1(0x3ab)],'type':_0x3e2592[_0x4cc7a1(0xae6)],'jobId':_0x4df07c,'agentId':_0x47f4ec,'threadId':_0x59ae6a,'blockId':_0x4cc7a1(0x84d),'traceLevel':_0x3a2fff['Info'],'startTime':_0x4b8397,'timestamp':Date[_0x4cc7a1(0x441)](),'status':'success','skillName':_0xfd8599[_0x4cc7a1(0xa87)],'params':_0x1d187c,'result':_0xae91fe}),_0xae91fe[_0x4cc7a1(0x3c7)]||(_0xae91fe[_0x4cc7a1(0x3c7)]={}),_0xae91fe[_0x4cc7a1(0x3c7)]['custom-skill.result']=_0xae91fe,_0xae91fe;}throw new Error(_0x741245[_0x4cc7a1(0x24e)]);}catch(_0x36d275){console[_0x4cc7a1(0x805)](_0x36d275);const _0x129c64=_0x36d275 instanceof Error?_0x36d275[_0x4cc7a1(0x382)]:_0x4cc7a1(0x1bc);return _0x4df07c&&_0x47f4ec&&_0x59ae6a&&await _0x1c1b26[_0x4cc7a1(0x25d)]({'jobType':_0x3e0954[_0x4cc7a1(0x3ab)],'type':_0x3e2592[_0x4cc7a1(0xae6)],'jobId':_0x4df07c,'blockId':'custom-skill','threadId':_0x59ae6a,'traceLevel':_0x3a2fff[_0x4cc7a1(0xa80)],'startTime':_0x4b8397,'timestamp':Date['now'](),'agentId':_0x47f4ec,'status':_0x4cc7a1(0x805),'skillName':_0xfd8599[_0x4cc7a1(0xa87)],'params':_0x1d187c??{},'result':_0x129c64}),_0x129c64;}}async function _0x26dfbd(_0x17f5f0,_0x18f469,_0x51bbbd,_0x1c4691=!0x0){const _0x3bd3db=_0x3fd00f,_0x587606=_0x3bd3db(0x704),_0x542e60={'url':{'type':_0x548494[_0x3bd3db(0x52d)][_0x3bd3db(0x4c8)]},'page':{'type':_0x548494[_0x3bd3db(0x52d)][_0x3bd3db(0x175)]}};return await _0x1c1b26[_0x3bd3db(0x25d)]({'jobType':_0x3e0954['JobContext'],'type':_0x1a7c45['LoadSkillFunction'],'jobId':_0x17f5f0,'agentId':_0x18f469,'threadId':_0x51bbbd,'traceLevel':_0x3a2fff[_0x3bd3db(0xa80)],'startTime':Date['now'](),'timestamp':Date[_0x3bd3db(0x441)](),'status':_0x3bd3db(0x57e),'function':_0x3e2592[_0x3bd3db(0x7e2)],'params':_0x542e60,'functionDescription':_0x587606}),{'description':_0x587606,'params':_0x542e60,'callback':async _0x1d9b20=>_0x5d7803(_0x1d9b20,_0x1c4691,_0x17f5f0,_0x18f469,_0x51bbbd)};}async function _0x5d7803(_0x126582,_0xa3d006=!0x0,_0x18f391,_0x5b4668,_0x5812c1){const _0x341486=_0x3fd00f,_0x1166ba=Date[_0x341486(0x441)]();try{if(_0x341486(0x7fc)!=typeof _0x126582?.[_0x341486(0x263)])throw new Error(_0x341486(0x99f));const _0x41ed23=_0x126582[_0x341486(0x263)];if(['.pdf','.doc',_0x341486(0x393),_0x341486(0x18a),_0x341486(0x63d),_0x341486(0x7e3),'.xlsx'][_0x341486(0x564)](_0x5e33d8=>_0x41ed23[_0x341486(0x5a8)](_0x5e33d8)))throw new Error('Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file');const _0x227ba2=await fetch(_0x41ed23),_0x5d0999=await _0x227ba2['text']();let _0x24438f=_0x5d0999;if(_0xa3d006){const _0x21de5e=_0x5d0999[_0x341486(0x5a0)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x18142e=_0x21de5e?_0x21de5e[0x1]:_0x5d0999,_0x4a2abd=_0x18142e[_0x341486(0x36b)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x341486(0x36b)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x341486(0x36b)](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0x24438f=_0x4a2abd[_0x341486(0x36b)](/<\/?[^>]+(>|$)/g,'')[_0x341486(0x36b)](/\s\s+/g,'\x20')[_0x341486(0xabe)]();}const _0x1c58f1=_0x341486(0xa75)==typeof _0x126582['page']?_0x126582[_0x341486(0x748)]:0x1,_0x41c101=Math[_0x341486(0x6fc)](_0x24438f['length']/_0x10e4f7);return _0x24438f[_0x341486(0xa5f)]>_0x10e4f7&&(_0x24438f=_0x24438f[_0x341486(0x3bf)]((_0x1c58f1-0x1)*_0x10e4f7,(_0x1c58f1-0x1)*_0x10e4f7+_0x10e4f7)+_0x341486(0x30e)+(_0x1c58f1+0x1)+_0x341486(0x7bb)+_0x41c101+'.'),_0x18f391&&_0x5b4668&&_0x5812c1&&await _0x1c1b26[_0x341486(0x25d)]({'jobType':_0x3e0954[_0x341486(0x3ab)],'type':_0x3e2592[_0x341486(0x7e2)],'jobId':_0x18f391,'agentId':_0x5b4668,'threadId':_0x5812c1,'blockId':_0x341486(0x618),'traceLevel':_0x3a2fff[_0x341486(0xa80)],'startTime':_0x1166ba,'timestamp':Date[_0x341486(0x441)](),'status':_0x227ba2['ok']?_0x341486(0x57e):_0x341486(0x805),'url':_0x126582[_0x341486(0x263)],'page':_0x1c58f1,'totalPages':_0x41c101,'response':_0x24438f}),_0x24438f;}catch(_0x427c4b){console['error'](_0x427c4b);const _0x1ec106=_0x427c4b instanceof Error?_0x427c4b[_0x341486(0x382)]:_0x341486(0x1bc);return _0x18f391&&_0x5b4668&&_0x5812c1&&await _0x1c1b26['trace']({'jobType':_0x3e0954[_0x341486(0x3ab)],'type':_0x3e2592[_0x341486(0x7e2)],'jobId':_0x18f391,'blockId':_0x341486(0x618),'threadId':_0x5812c1,'traceLevel':_0x3a2fff[_0x341486(0xa80)],'startTime':_0x1166ba,'timestamp':Date[_0x341486(0x441)](),'agentId':_0x5b4668,'status':_0x341486(0x805),'errorDetails':_0xf8216f(_0x427c4b),'url':_0x126582?.[_0x341486(0x263)]??'','page':0x0,'totalPages':0x0,'response':_0x1ec106}),_0x1ec106;}}async function _0x232480(_0x3ad18f,_0x5747bc,_0x138d77,_0x49c70c,_0x3d86bb){const _0x1d80ef=_0x3fd00f,_0xe576c4=Date[_0x1d80ef(0x441)]();try{if(!_0x3ad18f['searchConnector'])throw new Error('Search\x20connector\x20not\x20set');if(_0x1d80ef(0x7fc)!=typeof _0x5747bc?.['query'])throw new Error(_0x1d80ef(0x813));const _0xd7e6c=await _0x3ad18f['searchConnector'][_0x1d80ef(0x595)](_0x5747bc['query'],_0x2c3579[_0x1d80ef(0x18d)][_0x1d80ef(0x70a)]);let _0x232cfc='';for(const _0xba74c8 of _0xd7e6c)_0x232cfc+=_0xba74c8[_0x1d80ef(0x4ed)]+_0x1d80ef(0xa7b)+_0xba74c8[_0x1d80ef(0x263)]+'\x0a'+_0xba74c8['snippet']+'\x0a\x0a';return _0x138d77&&_0x49c70c&&_0x3d86bb&&await _0x1c1b26[_0x1d80ef(0x25d)]({'jobType':_0x3e0954[_0x1d80ef(0x3ab)],'type':_0x3e2592['SearchGoogle'],'jobId':_0x138d77,'agentId':_0x49c70c,'threadId':_0x3d86bb,'blockId':_0x1d80ef(0x595),'traceLevel':_0x3a2fff[_0x1d80ef(0xa80)],'startTime':_0xe576c4,'timestamp':Date[_0x1d80ef(0x441)](),'status':'success','query':_0x5747bc['query'],'results':_0x232cfc}),_0x232cfc;}catch(_0x370293){return console[_0x1d80ef(0x805)](_0x370293),_0x138d77&&_0x49c70c&&_0x3d86bb&&await _0x1c1b26['trace']({'jobType':_0x3e0954['Skill'],'type':_0x3e2592[_0x1d80ef(0x96f)],'jobId':_0x138d77,'blockId':'search','traceLevel':_0x3a2fff['Info'],'startTime':_0xe576c4,'timestamp':Date['now'](),'status':_0x1d80ef(0x805),'errorDetails':_0xf8216f(_0x370293),'agentId':_0x49c70c,'threadId':_0x3d86bb,'query':_0x5747bc?.['query']??'','results':_0x1d80ef(0x292)}),_0x370293 instanceof Error?_0x370293[_0x1d80ef(0x382)]:_0x1d80ef(0x292);}}async function _0x15990d(_0x26790d,_0x2ab127,_0x1a50b6,_0x3f09ba,_0x4a14af,_0x565039,_0x5724a2){const _0x274b07=_0x3fd00f,_0x3bff91=new Map();for(const _0x40b777 of _0x4a14af)_0x40b777[_0x274b07(0x705)]===_0x548494[_0x274b07(0x602)][_0x274b07(0x8ef)]||_0x40b777['type']===_0x548494[_0x274b07(0x602)][_0x274b07(0x6ab)]?_0x3bff91[_0x274b07(0x1f5)](_0x274b07(0x27f)+_0x40b777[_0x274b07(0xa87)][_0x274b07(0x36b)](/[^a-zA-Z]/g,''),await _0x4f8758(_0x26790d,_0x2ab127,_0x1a50b6,_0x3f09ba,_0x40b777)):_0x40b777[_0x274b07(0x705)]===_0x548494[_0x274b07(0x602)][_0x274b07(0x840)]||_0x40b777[_0x274b07(0x705)]===_0x548494['GenerativeAIInferenceToolType'][_0x274b07(0xa4c)]?_0x3bff91['set'](_0x274b07(0x1c9)+_0x40b777[_0x274b07(0xa87)][_0x274b07(0x36b)](/[^a-zA-Z]/g,''),await _0x155ae6(_0x26790d,_0x2ab127,_0x1a50b6,_0x40b777,_0x565039,_0x5724a2)):_0x40b777[_0x274b07(0x705)]===_0x548494[_0x274b07(0x602)][_0x274b07(0x4cc)]?_0x3bff91['set'](_0x40b777['name'][_0x274b07(0x36b)](/[^a-zA-Z]/g,''),await _0x357860(_0x26790d,_0x2ab127,_0x1a50b6[_0x274b07(0x857)],_0x3f09ba,_0x40b777)):_0x3bff91['set'](_0x25d3cd(_0x40b777),await _0x5c5816(_0x26790d,_0x2ab127,_0x1a50b6['threadId'],_0x3f09ba,_0x40b777,_0x565039));return _0x3bff91;}function _0x25d3cd(_0x4f8818){const _0x531335=_0x3fd00f;switch(_0x4f8818[_0x531335(0x705)]){case _0x548494[_0x531335(0x602)][_0x531335(0x81b)]:return _0x531335(0x8c6);case _0x548494[_0x531335(0x602)]['Code']:return _0x531335(0x711);case _0x548494[_0x531335(0x602)]['QueryFile']:return _0x531335(0x481);case _0x548494['GenerativeAIInferenceToolType']['Search']:return'searchOnGoogle';case _0x548494['GenerativeAIInferenceToolType'][_0x531335(0xaa6)]:case _0x548494[_0x531335(0x602)]['WebScraperRaw']:return'fetchContentFromUrl';case _0x548494[_0x531335(0x602)][_0x531335(0x1d9)]:return _0x531335(0x205);}throw new Error(_0x531335(0x2b3));}async function _0x5c5816(_0x371de8,_0x2ac675,_0x4a9b29,_0xd67c3a,_0x1dc41f,_0x2b9eda){const _0x5c40dd=_0x3fd00f;switch(_0x1dc41f[_0x5c40dd(0x705)]){case _0x548494[_0x5c40dd(0x602)]['AISearch']:return async function(_0x2bb401,_0x5cc000,_0x305d8c,_0x5a2af4){const _0xfea4df=_0x5c40dd,_0x397a9e=_0xfea4df(0xb07),_0x546bef={'query':{'type':_0x548494[_0xfea4df(0x52d)][_0xfea4df(0x4c8)]}};return await _0x1c1b26[_0xfea4df(0x25d)]({'jobType':_0x3e0954[_0xfea4df(0x774)],'type':_0x1a7c45[_0xfea4df(0x90f)],'jobId':_0x2bb401,'agentId':_0x5cc000,'threadId':_0x305d8c,'traceLevel':_0x3a2fff[_0xfea4df(0xa80)],'startTime':Date[_0xfea4df(0x441)](),'timestamp':Date['now'](),'status':_0xfea4df(0x57e),'function':_0x3e2592['SearchPerplexity'],'params':_0x546bef,'functionDescription':_0x397a9e}),{'description':_0x397a9e,'params':_0x546bef,'callback':async _0x380ea3=>_0x17616c(_0x5a2af4,_0x380ea3,_0x2bb401,_0x5cc000,_0x305d8c)};}(_0x371de8,_0x2ac675,_0x4a9b29,_0x2b9eda);case _0x548494[_0x5c40dd(0x602)]['Code']:return async function(_0x587bf9,_0x50be5c,_0x3f7bb3){const _0x57c18f=_0x5c40dd,_0xb1eb87=_0x57c18f(0x94a),_0x198933={'code':{'type':_0x548494[_0x57c18f(0x52d)][_0x57c18f(0x4c8)]}};return await _0x1c1b26[_0x57c18f(0x25d)]({'jobType':_0x3e0954['JobContext'],'type':_0x1a7c45['LoadSkillFunction'],'jobId':_0x587bf9,'agentId':_0x50be5c,'threadId':_0x3f7bb3,'traceLevel':_0x3a2fff[_0x57c18f(0xa80)],'startTime':Date[_0x57c18f(0x441)](),'timestamp':Date['now'](),'status':_0x57c18f(0x57e),'function':_0x3e2592[_0x57c18f(0x560)],'params':_0x198933,'functionDescription':_0xb1eb87}),{'description':_0xb1eb87,'params':_0x198933,'callback':async _0x522f58=>_0x3227fc(_0x522f58,_0x587bf9,_0x50be5c,_0x3f7bb3)};}(_0x371de8,_0x2ac675,_0x4a9b29);case _0x548494['GenerativeAIInferenceToolType'][_0x5c40dd(0x780)]:return async function(_0x316f7d,_0x4a9118,_0x4eeb13,_0x2c1d70,_0x5255c3){const _0x4823ff=_0x5c40dd,_0x35227d=[',',';','\x09','|',':'],_0x4ae4e1=['\x22','\x27'];let _0x51a5dc='';if(_0x4823ff(0x548)===_0x2c1d70['internalContext']?.[_0x4823ff(0x406)]&&_0x2c1d70[_0x4823ff(0x3c7)]?.[_0x4823ff(0x612)]&&(_0x51a5dc=_0x2c1d70[_0x4823ff(0x3c7)][_0x4823ff(0x612)]),''===_0x51a5dc)throw new Error('No\x20file\x20content\x20found');const _0x1701d5=_0x51a5dc['split']('\x0a')[0x0];let _0x54b4b3=null,_0xb1288b=null,_0x1c0c88=0x0;for(const _0x18b00a of _0x35227d){const _0x2bfe1c=(_0x1701d5['match'](new RegExp('\x5c'+_0x18b00a,'g'))||[])['length'];_0x2bfe1c>_0x1c0c88&&(_0x1c0c88=_0x2bfe1c,_0x54b4b3=_0x18b00a);}_0x54b4b3||(_0x54b4b3=','),_0x1c0c88=0x0;for(const _0x3c9441 of _0x4ae4e1){const _0x59ee4e=(_0x1701d5[_0x4823ff(0x5a0)](new RegExp('\x5c'+_0x3c9441,'g'))||[])[_0x4823ff(0xa5f)];_0x59ee4e>_0x1c0c88&&(_0x1c0c88=_0x59ee4e,_0xb1288b=_0x3c9441);}_0xb1288b||(_0xb1288b='\x22');const _0x180a0e=_0x4823ff(0x449)+_0x1701d5[_0x4823ff(0xae4)](_0x54b4b3)[_0x4823ff(0x5b4)](',\x20'),_0xdbeaca={'query':{'type':_0x548494[_0x4823ff(0x52d)][_0x4823ff(0x4c8)]}};return await _0x1c1b26[_0x4823ff(0x25d)]({'jobType':_0x3e0954[_0x4823ff(0x774)],'type':_0x1a7c45[_0x4823ff(0x90f)],'jobId':_0x316f7d,'agentId':_0x4a9118,'threadId':_0x4eeb13,'traceLevel':_0x3a2fff[_0x4823ff(0xa80)],'startTime':Date[_0x4823ff(0x441)](),'timestamp':Date[_0x4823ff(0x441)](),'status':_0x4823ff(0x57e),'function':_0x3e2592['QueryFile'],'params':_0xdbeaca,'functionDescription':_0x180a0e}),{'description':_0x180a0e,'params':_0xdbeaca,'callback':async _0x512d3e=>{const _0x1c2efc=_0x4823ff,_0x20c5c5=Date[_0x1c2efc(0x441)]();try{if(!_0x5255c3['queryFileConnector'])throw new Error(_0x1c2efc(0x9cd));if('string'!=typeof _0x512d3e?.[_0x1c2efc(0x2bc)])throw new Error(_0x1c2efc(0x813));if(!_0x512d3e['query'][_0x1c2efc(0x7ac)](_0x1c2efc(0x677)))throw new Error(_0x1c2efc(0x732));const _0x26a7fe=await _0x5255c3[_0x1c2efc(0x26a)][_0x1c2efc(0x3e5)](_0x51a5dc,_0x512d3e['query'],{'headers':!0x0,'quote':_0xb1288b,'separator':_0x54b4b3});await _0x1c1b26[_0x1c2efc(0x25d)]({'jobType':_0x3e0954['Skill'],'type':_0x3e2592[_0x1c2efc(0x780)],'jobId':_0x316f7d,'agentId':_0x4a9118,'threadId':_0x4eeb13,'blockId':_0x1c2efc(0xad6),'traceLevel':_0x3a2fff['Info'],'startTime':_0x20c5c5,'timestamp':Date[_0x1c2efc(0x441)](),'status':'success','query':_0x512d3e[_0x1c2efc(0x2bc)],'results':_0x26a7fe['substring'](0x0,0x3e8)});const _0x559183=JSON[_0x1c2efc(0xaa7)](_0x26a7fe);let _0x5d2fd5='';if(_0x559183[_0x1c2efc(0xa5f)]>0x0){const _0x10b2f6=Object[_0x1c2efc(0x566)](_0x559183[0x0]);_0x5d2fd5=_0x10b2f6[_0x1c2efc(0x23d)](_0x177cf9=>'\x22'+_0x177cf9+'\x22')[_0x1c2efc(0x5b4)](',')+'\x0a';for(const _0x32ce64 of _0x559183)_0x5d2fd5+=_0x10b2f6[_0x1c2efc(0x23d)](_0x2a5a46=>'\x22'+_0x32ce64[_0x2a5a46]+'\x22')['join'](',')+'\x0a';}return _0x2c1d70[_0x1c2efc(0x3c7)]||(_0x2c1d70[_0x1c2efc(0x3c7)]={}),_0x2c1d70['internalContext'][_0x1c2efc(0x612)]=_0x5d2fd5,_0x2c1d70[_0x1c2efc(0x3c7)][_0x1c2efc(0x406)]=_0x1c2efc(0x548),_0x26a7fe[_0x1c2efc(0x3bf)](0x0,0x3e8);}catch(_0x505e08){return console['error'](_0x505e08),await _0x1c1b26[_0x1c2efc(0x25d)]({'jobType':_0x3e0954['Skill'],'type':_0x3e2592[_0x1c2efc(0x780)],'jobId':_0x316f7d,'blockId':_0x1c2efc(0xad6),'traceLevel':_0x3a2fff[_0x1c2efc(0xa80)],'startTime':_0x20c5c5,'timestamp':Date[_0x1c2efc(0x441)](),'status':'error','errorDetails':_0xf8216f(_0x505e08),'agentId':_0x4a9118,'threadId':_0x4eeb13,'query':_0x512d3e?.[_0x1c2efc(0x2bc)]??'','results':'Error\x20searching'}),_0x505e08 instanceof Error?_0x505e08[_0x1c2efc(0x382)]:'Error\x20querying\x20file';}}};}(_0x371de8,_0x2ac675,_0x4a9b29,_0xd67c3a,_0x2b9eda);case _0x548494[_0x5c40dd(0x602)]['Search']:return async function(_0x90a28d,_0x3f26c8,_0x1c8773,_0x2323a8){const _0x444a90=_0x5c40dd,_0xb5a6bf=_0x444a90(0xacd),_0x5b577b={'query':{'type':_0x548494['PromptFunctionParamsType'][_0x444a90(0x4c8)]}};return await _0x1c1b26[_0x444a90(0x25d)]({'jobType':_0x3e0954[_0x444a90(0x774)],'type':_0x1a7c45[_0x444a90(0x90f)],'jobId':_0x90a28d,'agentId':_0x3f26c8,'threadId':_0x1c8773,'traceLevel':_0x3a2fff[_0x444a90(0xa80)],'startTime':Date[_0x444a90(0x441)](),'timestamp':Date[_0x444a90(0x441)](),'status':'success','function':_0x3e2592[_0x444a90(0x96f)],'params':_0x5b577b,'functionDescription':_0xb5a6bf}),{'description':_0xb5a6bf,'params':_0x5b577b,'callback':async _0x6a6dae=>_0x232480(_0x2323a8,_0x6a6dae,_0x90a28d,_0x3f26c8,_0x1c8773)};}(_0x371de8,_0x2ac675,_0x4a9b29,_0x2b9eda);case _0x548494[_0x5c40dd(0x602)][_0x5c40dd(0xaa6)]:return _0x26dfbd(_0x371de8,_0x2ac675,_0x4a9b29);case _0x548494[_0x5c40dd(0x602)]['WebScraperRaw']:return _0x26dfbd(_0x371de8,_0x2ac675,_0x4a9b29,!0x1);case _0x548494[_0x5c40dd(0x602)][_0x5c40dd(0x1d9)]:return async function(_0x284d4d,_0x4766ab,_0x105617,_0x435fd1){const _0x59eda2=_0x5c40dd,_0x3fc696='Write\x20text\x20data\x20to\x20a\x20file.',_0x3535ac={'text':{'type':_0x548494[_0x59eda2(0x52d)][_0x59eda2(0x4c8)]}};return await _0x1c1b26[_0x59eda2(0x25d)]({'jobType':_0x3e0954[_0x59eda2(0x774)],'type':_0x1a7c45[_0x59eda2(0x90f)],'jobId':_0x284d4d,'agentId':_0x4766ab,'threadId':_0x105617,'traceLevel':_0x3a2fff[_0x59eda2(0xa80)],'startTime':Date['now'](),'timestamp':Date[_0x59eda2(0x441)](),'status':_0x59eda2(0x57e),'function':_0x3e2592[_0x59eda2(0x1d9)],'params':_0x3535ac,'functionDescription':_0x3fc696}),{'description':_0x3fc696,'params':_0x3535ac,'callback':async _0x5a99e3=>{const _0x56a49f=_0x59eda2,_0x35e8d2=Date[_0x56a49f(0x441)]();try{if('string'!=typeof _0x5a99e3?.[_0x56a49f(0x58c)])throw new Error(_0x56a49f(0x90d));return await _0x1c1b26[_0x56a49f(0x25d)]({'jobType':_0x3e0954['Skill'],'type':_0x3e2592[_0x56a49f(0x1d9)],'jobId':_0x284d4d,'agentId':_0x4766ab,'threadId':_0x105617,'blockId':_0x56a49f(0x1a4),'traceLevel':_0x3a2fff[_0x56a49f(0xa80)],'startTime':_0x35e8d2,'timestamp':Date[_0x56a49f(0x441)](),'status':_0x56a49f(0x57e),'content':_0x5a99e3['text']}),_0x435fd1['internalContext']||(_0x435fd1[_0x56a49f(0x3c7)]={}),_0x435fd1[_0x56a49f(0x3c7)]['file.content']=_0x5a99e3[_0x56a49f(0x58c)],_0x435fd1[_0x56a49f(0x3c7)][_0x56a49f(0x406)]=_0x56a49f(0x51e),'Done';}catch(_0x2cfd88){return console[_0x56a49f(0x805)](_0x2cfd88),await _0x1c1b26[_0x56a49f(0x25d)]({'jobType':_0x3e0954[_0x56a49f(0x3ab)],'type':_0x3e2592[_0x56a49f(0x1d9)],'jobId':_0x284d4d,'blockId':'write-file','traceLevel':_0x3a2fff['Info'],'startTime':_0x35e8d2,'timestamp':Date[_0x56a49f(0x441)](),'status':_0x56a49f(0x805),'errorDetails':_0xf8216f(_0x2cfd88),'agentId':_0x4766ab,'threadId':_0x105617,'content':_0x56a49f(0x7fc)==typeof _0x5a99e3?.[_0x56a49f(0x58c)]?_0x5a99e3[_0x56a49f(0x58c)]:''}),_0x2cfd88 instanceof Error?_0x2cfd88[_0x56a49f(0x382)]:_0x56a49f(0xa4f);}}};}(_0x371de8,_0x2ac675,_0x4a9b29,_0xd67c3a);}throw new Error(_0x5c40dd(0x2b3));}function _0xf8216f(_0x1ac2f4){const _0x57b32c=_0x3fd00f;try{return JSON[_0x57b32c(0x6b1)](_0x1ac2f4);}catch(_0x46dbf0){return _0x1ac2f4 instanceof Error?_0x1ac2f4[_0x57b32c(0x5fc)]():_0x57b32c(0x21d);}}class _0x1a5033 extends _0x21a5fb{[_0x3fd00f(0x95d)];[_0x3fd00f(0x4d8)];['documentParserConnector'];[_0x3fd00f(0x82f)];[_0x3fd00f(0x9f3)];[_0x3fd00f(0x77b)];[_0x3fd00f(0x26a)];[_0x3fd00f(0x88d)];[_0x3fd00f(0x9a2)];[_0x3fd00f(0x5a6)]=new Map();[_0x3fd00f(0x36e)]=new Map();[_0x3fd00f(0x357)];[_0x3fd00f(0x9da)]=0x0;['tokens']=0x0;[_0x3fd00f(0x4bc)]=!0x1;constructor(_0x4bad06,_0xf35625,_0x248863,_0x1aa1a9,_0x27ccde,_0xd394d,_0x3a551a,_0x358611,_0x51f690,_0x255f7e,_0x52ca96,_0xf7d84b){const _0x2b4c5e=_0x3fd00f;super(_0x4bad06,_0xf35625,_0x248863),this[_0x2b4c5e(0x95d)]=_0x1aa1a9,this[_0x2b4c5e(0x4d8)]=_0x27ccde,this[_0x2b4c5e(0x235)]=_0xd394d,this['nlpLibraryConnector']=_0x3a551a,this['searchConnector']=_0x358611,this[_0x2b4c5e(0x77b)]=_0x51f690,this[_0x2b4c5e(0x26a)]=_0x255f7e,this[_0x2b4c5e(0x88d)]=_0x52ca96,this[_0x2b4c5e(0x9a2)]=_0xf7d84b;}async[_0x3fd00f(0x407)](){const _0x5b239d=_0x3fd00f;for(const _0x255f14 of this['generativeAIWorkerConnectors'])await _0x255f14[_0x5b239d(0x883)]();this[_0x5b239d(0x5a6)][_0x5b239d(0x3e1)](_0x31f407=>_0x31f407[_0x5b239d(0x35a)](this[_0x5b239d(0x985)])),this[_0x5b239d(0x357)]&&(clearTimeout(this[_0x5b239d(0x357)]),delete this[_0x5b239d(0x357)]),super[_0x5b239d(0x407)]();}async[_0x3fd00f(0x57a)](_0x3a4a8e=!0x1){const _0x41720e=_0x3fd00f;if(this[_0x41720e(0x4bc)])super[_0x41720e(0x57a)]();else{_0x404abe['forceLog'](_0x41720e(0x45e),this[_0x41720e(0x985)]),this['models'][_0x41720e(0x1f5)](_0x41720e(0x172),{'id':_0x41720e(0x172),'engineType':_0x548494['GenerativeAIEngineType'][_0x41720e(0x56d)],'taskType':_0x548494['GenerativeAITaskType'][_0x41720e(0x833)],'inputType':_0x548494[_0x41720e(0x7ec)][_0x41720e(0x32b)],'outputType':_0x548494['GenerativeAIModelOutputType'][_0x41720e(0x18f)],'sourceUrl':'https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf'}),this[_0x41720e(0x36e)][_0x41720e(0x1f5)](_0x41720e(0xa97),{'id':_0x41720e(0xa97),'engineType':_0x548494['GenerativeAIEngineType']['Llamacpp'],'taskType':_0x548494[_0x41720e(0x9b9)][_0x41720e(0x95a)],'inputType':_0x548494['GenerativeAIModelInputType'][_0x41720e(0x32b)],'outputType':_0x548494[_0x41720e(0x330)][_0x41720e(0x32b)],'knowledgeCutoffDate':_0x41720e(0x69f),'sourceUrl':_0x41720e(0x8b4)}),this['models'][_0x41720e(0x1f5)]('llama-3.2-3b',{'id':'llama-3.2-3b','engineType':_0x548494[_0x41720e(0x95f)][_0x41720e(0x56d)],'taskType':_0x548494[_0x41720e(0x9b9)][_0x41720e(0x95a)],'inputType':_0x548494[_0x41720e(0x7ec)]['Text'],'outputType':_0x548494['GenerativeAIModelOutputType'][_0x41720e(0x32b)],'knowledgeCutoffDate':_0x41720e(0x69f),'sourceUrl':'https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf'}),this[_0x41720e(0x36e)][_0x41720e(0x1f5)](_0x41720e(0x4f6),{'id':_0x41720e(0x4f6),'engineType':_0x548494[_0x41720e(0x95f)][_0x41720e(0x56d)],'taskType':_0x548494[_0x41720e(0x9b9)][_0x41720e(0x95a)],'inputType':_0x548494[_0x41720e(0x7ec)][_0x41720e(0x32b)],'outputType':_0x548494[_0x41720e(0x330)][_0x41720e(0x32b)],'knowledgeCutoffDate':_0x41720e(0x89a),'sourceUrl':_0x41720e(0x95c)}),this[_0x41720e(0x36e)][_0x41720e(0x1f5)](_0x41720e(0x4ce),{'id':'gpt-4o','engineType':_0x548494[_0x41720e(0x95f)][_0x41720e(0x692)],'taskType':_0x548494[_0x41720e(0x9b9)]['TextGeneration'],'inputType':_0x548494['GenerativeAIModelInputType'][_0x41720e(0x32b)],'outputType':_0x548494[_0x41720e(0x330)]['Text'],'knowledgeCutoffDate':_0x41720e(0x2b9),'sourceUrl':''}),this[_0x41720e(0x36e)]['set'](_0x41720e(0x360),{'id':'gpt-4o-mini','engineType':_0x548494[_0x41720e(0x95f)]['OpenAI'],'taskType':_0x548494[_0x41720e(0x9b9)][_0x41720e(0x95a)],'inputType':_0x548494['GenerativeAIModelInputType'][_0x41720e(0x32b)],'outputType':_0x548494['GenerativeAIModelOutputType'][_0x41720e(0x32b)],'knowledgeCutoffDate':_0x41720e(0x2b9),'sourceUrl':''}),this[_0x41720e(0x36e)][_0x41720e(0x1f5)]('o1',{'id':'o1','engineType':_0x548494['GenerativeAIEngineType'][_0x41720e(0x692)],'taskType':_0x548494[_0x41720e(0x9b9)]['TextGeneration'],'inputType':_0x548494[_0x41720e(0x7ec)][_0x41720e(0x32b)],'outputType':_0x548494['GenerativeAIModelOutputType'][_0x41720e(0x32b)],'knowledgeCutoffDate':_0x41720e(0x2b9),'sourceUrl':''}),this[_0x41720e(0x36e)]['set']('o3-mini',{'id':'o3-mini','engineType':_0x548494[_0x41720e(0x95f)][_0x41720e(0x692)],'taskType':_0x548494['GenerativeAITaskType'][_0x41720e(0x95a)],'inputType':_0x548494[_0x41720e(0x7ec)]['Text'],'outputType':_0x548494[_0x41720e(0x330)][_0x41720e(0x32b)],'knowledgeCutoffDate':_0x41720e(0x2b9),'sourceUrl':''});try{for(const _0x562ced of this['generativeAIWorkerConnectors'])await _0x562ced[_0x41720e(0x2d7)](this[_0x41720e(0x985)],this[_0x41720e(0x36e)]);}catch(_0x183ec7){return this[_0x41720e(0x57a)](_0x3a4a8e);}this[_0x41720e(0x4bc)]=!0x0,this[_0x41720e(0x8b5)](),super[_0x41720e(0x57a)](),_0x404abe[_0x41720e(0x555)](_0x41720e(0x58f),this[_0x41720e(0x985)]);}}[_0x3fd00f(0x4cb)](){const _0x385c42=_0x3fd00f;this[_0x385c42(0x9da)]=0x0,this[_0x385c42(0x74b)]=0x0,this['sendStats'](),super[_0x385c42(0x4cb)]();}[_0x3fd00f(0xadd)](){const _0x3e1740=_0x3fd00f;return this[_0x3e1740(0x8b5)](),this[_0x3e1740(0x71d)]();}['compileStats'](_0xe3ac09,_0x421307,_0x2d7849){const _0x379b6a=_0x3fd00f,{outputTokens:_0x150e89=0x0,output:_0x2df1e8=''}=_0xe3ac09,_0x22ca53=_0x150e89/((_0x2d7849-_0x421307)/0x3e8);this[_0x379b6a(0x9da)]+=0x1,this['tokens']+=_0x150e89,this[_0x379b6a(0x729)](_0x22ca53,_0x150e89),this[_0x379b6a(0x8b5)]();}[_0x3fd00f(0x453)](_0x1e93e5,_0x51da86){const _0x10edca=_0x3fd00f;return _0x1e93e5[_0x10edca(0x66e)]=_0x1e93e5[_0x10edca(0x66e)]??'',{'type':_0x10edca(0x9fe),'output':'string'==typeof _0x1e93e5[_0x10edca(0x66e)]&&_0x10edca(0x7fc)==typeof _0x51da86[_0x10edca(0x66e)]?_0x1e93e5[_0x10edca(0x66e)]+_0x51da86[_0x10edca(0x66e)]:_0x51da86['output'],'outputTokens':_0x51da86[_0x10edca(0x26e)]??_0x1e93e5[_0x10edca(0x26e)],'inputTokens':_0x51da86[_0x10edca(0x22f)]??_0x1e93e5['inputTokens']};}async[_0x3fd00f(0x542)](_0x5a6559,_0x37b850){const _0x5d83e3=_0x3fd00f;if(_0x5d83e3(0x9fe)===_0x37b850['type']){const _0x2cd0de=await _0x13e48a[_0x5d83e3(0x3ea)](_0x37b850[_0x5d83e3(0x3ee)],_0x37b850['workflowId']),_0x13c3b9=_0x2cd0de[_0x5d83e3(0x932)][_0x5d83e3(0x78b)](_0x2a3fa9=>_0x2a3fa9[_0x5d83e3(0x705)]===_0x5e0896[_0x5d83e3(0x83e)]),_0xd59c50=await async function(_0x380c2f,_0x1c7661,_0xe5b787,_0x1867ac,_0x12146c){const _0x26014b=_0x5d83e3,_0x3f6302=(0x0,_0x630e7c['v4'])(),_0x169804=Date['now']();if(await _0x1c1b26[_0x26014b(0x25d)]({'jobType':_0x3e0954[_0x26014b(0x67f)],'type':_0x290819[_0x26014b(0x1de)],'jobId':_0x380c2f,'blockId':_0xe5b787['id'],'agentId':_0x3f6302,'threadId':_0x1c7661[_0x26014b(0x857)],'traceLevel':_0x3a2fff['Info'],'startTime':Date[_0x26014b(0x441)](),'timestamp':Date[_0x26014b(0x441)](),'status':_0x26014b(0x57e),'initialPrompt':_0x1c7661[_0x26014b(0x9fe)]}),await _0x429e66(_0x1c7661,_0xe5b787,_0x1867ac,_0x12146c),_0x1c7661[_0x26014b(0x3c7)]){for(const _0x4a8307 in _0x1c7661[_0x26014b(0x3c7)])_0x26851b(_0x1c7661['internalContext'][_0x4a8307],_0xe5b787,_0x1867ac,_0x4a8307);}const _0x475511={'type':_0x26014b(0x9fe),'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x5ace42(_0x380c2f,''+_0x1c7661[_0x26014b(0x9fe)],_0x1c7661,_0x475511,_0xe5b787,_0x1867ac,_0x12146c);const {inputTokens:_0x40cfa9=0x0,outputTokens:_0x123f3a=0x0,context:_0x12a7e3=[]}=_0x475511;await _0x1c1b26['trace']({'jobType':_0x3e0954['Workflow'],'type':_0x290819[_0x26014b(0x4f2)],'jobId':_0x380c2f,'agentId':_0x3f6302,'threadId':_0x1c7661[_0x26014b(0x857)],'traceLevel':_0x3a2fff[_0x26014b(0xa80)],'startTime':_0x169804,'timestamp':Date[_0x26014b(0x441)](),'blockId':_0xe5b787['id'],'status':_0x26014b(0x57e),'output':_0x475511[_0x26014b(0x66e)]?.[_0x26014b(0x5fc)]()??'','prompt':_0x1c7661[_0x26014b(0x9fe)],'agentName':'','history':_0x1c7661[_0x26014b(0xadc)]??[],'instructions':''+(_0x1c7661[_0x26014b(0x40a)]??''),'ragContext':_0x12a7e3,'inputTokens':_0x40cfa9,'outputTokens':_0x123f3a});const _0x1df275=_0x1867ac[_0x26014b(0x78b)](_0x19eb15=>_0x19eb15['type']===_0x5e0896[_0x26014b(0x9cc)]);return{'type':_0x26014b(0x9fe),'output':_0x475511[_0x26014b(0x66e)],'context':_0x475511[_0x26014b(0x4b2)],'internalContext':_0x1df275?.[_0x26014b(0x5e0)]?.[_0x26014b(0x4b2)]??{},'resultFile':await _0x1df275?.[_0x26014b(0x5e0)]?.[_0x26014b(0xa0d)]?.['text']()??void 0x0,'inputTokens':_0x475511[_0x26014b(0x22f)]??0x0,'outputTokens':_0x475511['outputTokens']??0x0};}(_0x5a6559,_0x37b850,_0x13c3b9,_0x2cd0de[_0x5d83e3(0x932)],{'documentParserConnector':this[_0x5d83e3(0x235)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x5d83e3(0x4f7)](this[_0x5d83e3(0x36e)]['values']()),'contentMediator':this[_0x5d83e3(0x95d)],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']});return _0xd59c50;}if(_0x5d83e3(0x19d)===_0x37b850[_0x5d83e3(0x705)])return await async function(_0x565d3d,_0x2ba32c){const _0x2837e2=_0x5d83e3,_0x5661d9={'type':_0x2837e2(0x9fe),'inputTokens':0x0,'outputTokens':0x0};return await async function(_0xf50bb2,_0x5dd5b7){const _0x452abb=_0x2837e2,_0x1323c2=_0x5dd5b7[_0x452abb(0x36e)]['find'](_0x2e7f08=>_0x2e7f08['id']===_0xf50bb2[_0x452abb(0x3c5)]);if(!_0x1323c2)throw new Error(_0x452abb(0x1f0));const _0x55b900=_0x5dd5b7[_0x452abb(0x4d8)][_0x452abb(0x78b)](_0x2a8061=>_0x2a8061[_0x452abb(0x5e5)]()===_0x1323c2[_0x452abb(0x179)]);if(!_0x55b900)throw new Error(_0x452abb(0x48c));return _0x55b900[_0x452abb(0x5f7)]({'type':'prompt','prompt':_0xf50bb2[_0x452abb(0x58c)],'threadId':_0xf50bb2[_0x452abb(0x857)]},{'model':_0x1323c2,'sequences':0x1});}(_0x565d3d,_0x2ba32c),{'type':_0x2837e2(0x9fe),'output':_0x5661d9['output'],'inputTokens':_0x5661d9['inputTokens']??0x0,'outputTokens':_0x5661d9[_0x2837e2(0x26e)]??0x0};}(_0x37b850,{'documentParserConnector':this[_0x5d83e3(0x235)],'nlpLibraryConnector':this[_0x5d83e3(0x82f)],'generativeAIWorkerConnectors':this[_0x5d83e3(0x4d8)],'models':Array[_0x5d83e3(0x4f7)](this[_0x5d83e3(0x36e)][_0x5d83e3(0x16a)]()),'contentMediator':this[_0x5d83e3(0x95d)],'searchConnector':this[_0x5d83e3(0x9f3)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x5d83e3(0x26a)]});if(_0x5d83e3(0x99e)===_0x37b850[_0x5d83e3(0x705)])return await async function(_0x252cdd,_0x197424,_0x116076){const _0x11f95f=_0x5d83e3,_0x4ef514=(0x0,_0x630e7c['v4'])(),_0x523e1f={'type':_0x11f95f(0x9fe),'context':[],'internalContext':_0x197424['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0};return await async function(_0x3cba90,_0x46ab39,_0x35c5c7,_0x9f5aab,_0x40f907){const _0x2fc58a=_0x11f95f,_0x399af2=_0x40f907['models'][_0x2fc58a(0x78b)](_0x3e8600=>_0x3e8600['id']===_0x35c5c7['model']);if(!_0x399af2)throw new Error(_0x2fc58a(0x1f0));const _0x1b7b1e=_0x40f907[_0x2fc58a(0x4d8)][_0x2fc58a(0x78b)](_0x30a5cf=>_0x30a5cf[_0x2fc58a(0x5e5)]()===_0x399af2[_0x2fc58a(0x179)]);if(!_0x1b7b1e)throw new Error(_0x2fc58a(0x48c));const _0x5d52de=await _0x15990d(_0x3cba90,_0x46ab39,_0x35c5c7,_0x9f5aab,_0x35c5c7[_0x2fc58a(0x91d)]??[],_0x40f907);return _0x1b7b1e[_0x2fc58a(0x5f7)]({'type':_0x2fc58a(0x9fe),'prompt':_0x35c5c7[_0x2fc58a(0x9fe)],'instructions':_0x35c5c7[_0x2fc58a(0x40a)],'reasoning':_0x35c5c7['reasoning'],'grammar':_0x35c5c7[_0x2fc58a(0x7eb)],'temperature':_0x35c5c7[_0x2fc58a(0x24f)],'maxTokens':_0x35c5c7[_0x2fc58a(0x3b7)],'history':_0x35c5c7['history'],'functions':_0x5d52de,'threadId':_0x35c5c7[_0x2fc58a(0x857)]},{'model':_0x399af2,'sequences':Array[_0x2fc58a(0x4f7)](_0x5d52de[_0x2fc58a(0x566)]())['some'](_0x4c108b=>_0x4c108b[_0x2fc58a(0x294)](_0x2fc58a(0x1c9)))?0x2:0x1});}(_0x252cdd,_0x4ef514,_0x197424,_0x523e1f,_0x116076),{'type':_0x11f95f(0x9fe),'output':_0x523e1f[_0x11f95f(0x66e)],'context':_0x523e1f['context'],'internalContext':_0x523e1f[_0x11f95f(0x3c7)]??{},'inputTokens':_0x523e1f[_0x11f95f(0x22f)]??0x0,'outputTokens':_0x523e1f[_0x11f95f(0x26e)]??0x0};}(_0x5a6559,_0x37b850,{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x5d83e3(0x82f)],'generativeAIWorkerConnectors':this[_0x5d83e3(0x4d8)],'models':Array['from'](this[_0x5d83e3(0x36e)][_0x5d83e3(0x16a)]()),'contentMediator':this[_0x5d83e3(0x95d)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x5d83e3(0x77b)],'queryFileConnector':this['queryFileConnector']});if(_0x5d83e3(0x268)===_0x37b850['type'])return await _0x1c1b26[_0x5d83e3(0x25d)]({'jobType':_0x3e0954[_0x5d83e3(0x546)],'type':_0x39d228[_0x5d83e3(0x735)],'jobId':_0x37b850[_0x5d83e3(0x8b3)],'threadId':_0x37b850[_0x5d83e3(0x857)],'traceLevel':_0x3a2fff['Info'],'startTime':Date[_0x5d83e3(0x441)](),'timestamp':Date[_0x5d83e3(0x441)](),'status':_0x5d83e3(0x57e),'rating':_0x37b850['rating'],'feedback':_0x37b850[_0x5d83e3(0x45f)]}),{'type':'rate','status':_0x548494[_0x5d83e3(0x2bd)][_0x5d83e3(0x6d1)]};if('tool-call'===_0x37b850[_0x5d83e3(0x705)]){const _0x2329f4=await async function(_0xe3027e,_0x404019){const _0xcc12ef=_0x5d83e3;let _0x338ad8='';switch(_0xe3027e[_0xcc12ef(0x626)]['type']){case _0x548494[_0xcc12ef(0x602)][_0xcc12ef(0xa4c)]:case _0x548494[_0xcc12ef(0x602)][_0xcc12ef(0x840)]:_0x338ad8=await _0x2a5464(_0xe3027e[_0xcc12ef(0x3ee)],_0xe3027e[_0xcc12ef(0x626)],_0x404019,_0xe3027e[_0xcc12ef(0x4c4)]);break;case _0x548494['GenerativeAIInferenceToolType'][_0xcc12ef(0x81b)]:_0x338ad8=await _0x17616c(_0x404019,_0xe3027e[_0xcc12ef(0x4c4)]);break;case _0x548494[_0xcc12ef(0x602)]['Code']:_0x338ad8=await _0x3227fc(_0xe3027e[_0xcc12ef(0x4c4)]);break;case _0x548494[_0xcc12ef(0x602)][_0xcc12ef(0x6ab)]:case _0x548494[_0xcc12ef(0x602)][_0xcc12ef(0x8ef)]:_0x338ad8=await _0xe79461(_0xe3027e['vendorId'],_0xe3027e[_0xcc12ef(0x626)],_0xe3027e[_0xcc12ef(0x4c4)]);break;case _0x548494[_0xcc12ef(0x602)][_0xcc12ef(0x4cc)]:_0x338ad8=await _0x36c6f0(_0xe3027e[_0xcc12ef(0x626)],_0xe3027e[_0xcc12ef(0x4c4)]);break;case _0x548494[_0xcc12ef(0x602)][_0xcc12ef(0xaa6)]:_0x338ad8=await _0x5d7803(_0xe3027e['arguments']);break;case _0x548494[_0xcc12ef(0x602)][_0xcc12ef(0xaad)]:_0x338ad8=await _0x5d7803(_0xe3027e[_0xcc12ef(0x4c4)],!0x1);break;case _0x548494[_0xcc12ef(0x602)][_0xcc12ef(0x901)]:_0x338ad8=await _0x232480(_0x404019,_0xe3027e['arguments']);}return{'type':_0xcc12ef(0x232),'output':_0x338ad8};}(_0x37b850,{'documentParserConnector':this[_0x5d83e3(0x235)],'nlpLibraryConnector':this[_0x5d83e3(0x82f)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array['from'](this['models'][_0x5d83e3(0x16a)]()),'contentMediator':this[_0x5d83e3(0x95d)],'searchConnector':this[_0x5d83e3(0x9f3)],'aiSearchConnector':this[_0x5d83e3(0x77b)],'queryFileConnector':this[_0x5d83e3(0x26a)]});return _0x2329f4;}if(_0x5d83e3(0x6ea)===_0x37b850[_0x5d83e3(0x705)]){const _0x1d7839=await _0x13e48a[_0x5d83e3(0x3ea)](_0x37b850['vendorId'],_0x37b850[_0x5d83e3(0x25f)]),_0x503053=_0x1d7839[_0x5d83e3(0x932)][_0x5d83e3(0x78b)](_0x4ca3fc=>_0x4ca3fc[_0x5d83e3(0x705)]===_0x5e0896[_0x5d83e3(0xa4c)]),_0x47e6eb=_0x1d7839[_0x5d83e3(0x932)][_0x5d83e3(0x69d)](_0x541423=>_0x541423[_0x5d83e3(0x712)]?.[_0x5d83e3(0x564)](_0x11046b=>_0x11046b['type']===_0x245cf9[_0x5d83e3(0x7b4)]&&_0x11046b[_0x5d83e3(0x803)]===_0x503053['uid']));return{'type':_0x5d83e3(0x6ea),'apiKey':this[_0x5d83e3(0x9a2)],'modelId':_0x503053['modelId'],'instructions':_0x503053[_0x5d83e3(0x40a)],'temperature':_0x503053[_0x5d83e3(0x24f)],'maxTokens':_0x503053[_0x5d83e3(0x3b7)],'initialPrompt':_0x1d7839['initialPrompt'],'tools':_0x47e6eb[_0x5d83e3(0x23d)](_0x46a6da=>({'type':_0x46a6da[_0x5d83e3(0x705)],'name':this[_0x5d83e3(0x354)](_0x46a6da),'description':this['getToolDescription'](_0x46a6da),'parameters':this[_0x5d83e3(0x898)](_0x46a6da),'headers':_0x46a6da[_0x5d83e3(0x17f)]??[],'queryParameters':_0x46a6da['queryParameters']??[],'bodyParameters':_0x46a6da[_0x5d83e3(0x29f)]??[],'endpointUrl':_0x46a6da[_0x5d83e3(0x6bf)]??'','endpointMethod':_0x46a6da[_0x5d83e3(0xae8)]??'','modelId':_0x46a6da['model']??'','instructions':_0x46a6da['instructions']??'','maxTokens':_0x46a6da[_0x5d83e3(0x3b7)]??0x0,'temperature':_0x46a6da['temperature']??0x0,'collectionId':_0x46a6da[_0x5d83e3(0x705)]===_0x5e0896[_0x5d83e3(0x6ab)]||_0x46a6da[_0x5d83e3(0x705)]===_0x5e0896['Knowledge']?_0x46a6da['id']:''}))};}if(_0x5d83e3(0x31e)===_0x37b850['type']){const {vendorId:_0x38c792,collectionId:_0x464d6d,fileId:_0x1300ce}=_0x37b850,_0x457a20=await _0x13e48a[_0x5d83e3(0x5df)](_0x38c792,_0x464d6d),_0x22fae4=_0x457a20['retrieveBlocks']?.[_0x5d83e3(0x78b)](_0x248377=>_0x248377[_0x5d83e3(0x705)]===_0x2ea748['Prompt']);if(!_0x22fae4){if(!this[_0x5d83e3(0x88d)])throw new Error(_0x5d83e3(0x5da));return await this[_0x5d83e3(0x88d)]['deleteFile'](_0x464d6d,_0x1300ce),{'type':_0x5d83e3(0x31e)};}return this[_0x5d83e3(0x9e3)](_0x457a20,_0x1300ce),{'type':'file-delete'};}if(_0x5d83e3(0x583)===_0x37b850[_0x5d83e3(0x705)]){let _0x373a92;const _0x1f559f=this['dataStores'][_0x5d83e3(0x566)]();for(;!_0x373a92;){const _0x3b4bb6=_0x1f559f[_0x5d83e3(0xa54)]()['value'];if(!_0x3b4bb6)throw new Error(_0x5d83e3(0x6bb));_0x373a92=this[_0x5d83e3(0x5a6)][_0x5d83e3(0x7ae)](_0x3b4bb6);try{const _0x38b368=await _0x373a92[_0x5d83e3(0x7ae)](_0x37b850[_0x5d83e3(0x559)]);return{'type':_0x5d83e3(0x583),'fileName':_0x38b368[_0x5d83e3(0xa87)],'mimeType':_0x38b368[_0x5d83e3(0x705)],'document':await _0x38b368[_0x5d83e3(0x8e1)]()};}catch(_0x57f774){continue;}}throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');}if('file-ingest'===_0x37b850[_0x5d83e3(0x705)]){const {vendorId:_0x26c672,collectionId:_0x47e870,fileName:_0x2dd661,content:_0x559c38}=_0x37b850,_0x5926ad=await _0x13e48a['getDataCollection'](_0x26c672,_0x47e870),_0x3cc529=_0x5926ad[_0x5d83e3(0x281)]?.[_0x5d83e3(0x78b)](_0x3f5bed=>_0x3f5bed[_0x5d83e3(0x705)]===_0x2ea748[_0x5d83e3(0x83e)]);if(!_0x3cc529){if(!this['ragConnector'])throw new Error(_0x5d83e3(0x5da));return await this[_0x5d83e3(0x88d)][_0x5d83e3(0x784)](_0x47e870,_0x2dd661,_0x559c38),{'type':_0x5d83e3(0x934)};}const _0x1a83f4=_0x5926ad[_0x5d83e3(0x7e5)]?.[_0x5d83e3(0x78b)](_0x5afc6a=>_0x5afc6a[_0x5d83e3(0x705)]===_0x2ea748['ObjectStorageUpload']);if(!_0x1a83f4)throw new Error(_0x5d83e3(0x8d5));const _0x25a3da=(0x0,_0x630e7c['v4'])();return _0x1c1b26[_0x5d83e3(0x1d0)](_0x26c672,_0x25a3da),await async function(_0x5c3cfd,_0x526201,_0x3114b,_0x1ab5c2,_0xde476b,_0x35b642){const _0x676a10=_0x5d83e3;try{let _0x33fe76;switch(_0x1ab5c2[_0x676a10(0x705)]){case _0x2ea748[_0x676a10(0x7b7)]:const _0x1038b9=_0x35b642[_0x676a10(0x95d)][_0x676a10(0x9d4)](_0x1ab5c2['id']);_0x33fe76=await _0x1038b9[_0x676a10(0x7ae)](_0x3114b);break;case _0x2ea748['ExternalStorageUpload']:const _0x57daf4=_0x35b642[_0x676a10(0x95d)]['getExternalStorageConnection'](_0x1ab5c2['id']);_0x33fe76=await _0x57daf4['get'](_0x3114b);}if(!_0x33fe76)throw new Error(_0x676a10(0x87d));await _0x15a9bf(_0x5c3cfd,_0x526201,{'file':_0x33fe76,'pathName':_0x3114b},_0x1ab5c2,structuredClone(_0xde476b),_0x35b642);}catch(_0x24238e){console[_0x676a10(0x805)]('Error\x20processing\x20ingest',_0x24238e);}}(_0x37b850[_0x5d83e3(0x3ee)],_0x25a3da,'./'+_0x2dd661,_0x1a83f4,_0x5926ad['ingestBlocks'],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x5d83e3(0x4d8)],'models':Array[_0x5d83e3(0x4f7)](this[_0x5d83e3(0x36e)][_0x5d83e3(0x16a)]()),'contentMediator':this['contentMediator']}),_0x1c1b26[_0x5d83e3(0x412)](_0x25a3da),{'type':_0x5d83e3(0x934)};}if(_0x5d83e3(0x52e)===_0x37b850[_0x5d83e3(0x705)]){if(!this[_0x5d83e3(0x88d)])throw new Error(_0x5d83e3(0x5da));return{'type':_0x5d83e3(0x52e),'files':await this[_0x5d83e3(0x88d)]['listFiles'](_0x37b850['collectionId'])};}if(_0x5d83e3(0x7fe)===_0x37b850[_0x5d83e3(0x705)])return this[_0x5d83e3(0x88d)]?(await this['ragConnector'][_0x5d83e3(0x739)](_0x37b850['collectionId']),{'type':_0x5d83e3(0x7fe)}):{'type':_0x5d83e3(0x7fe)};if('collection-delete'===_0x37b850['type'])return this['ragConnector']?(await this[_0x5d83e3(0x88d)][_0x5d83e3(0x225)](_0x37b850[_0x5d83e3(0x3e8)]),{'type':'collection-delete'}):{'type':_0x5d83e3(0x3cf)};if('collection-query'===_0x37b850[_0x5d83e3(0x705)]){const {query:_0x19394e,vendorId:_0x4691b2,collectionId:_0x231213}=_0x37b850,_0x22e0a6=await _0x13e48a['getDataCollection'](_0x4691b2,_0x231213),_0x3318be=_0x22e0a6[_0x5d83e3(0x281)]?.['find'](_0x377f2e=>_0x377f2e[_0x5d83e3(0x705)]===_0x2ea748[_0x5d83e3(0x83e)]);if(!_0x3318be){if(!this[_0x5d83e3(0x88d)])throw new Error('No\x20RAG\x20connector\x20available');return{'type':_0x5d83e3(0x1c2),'results':await this[_0x5d83e3(0x88d)][_0x5d83e3(0x684)](_0x231213,_0x19394e)};}const _0x4ad02b=await async function(_0x21c3fb,_0x49a880,_0xa76d23,_0x5ce939,_0x128ee9,_0x2a7a7e,_0xd252c9){const _0x59bac6=_0x5d83e3,_0x263db6={'type':_0x59bac6(0x9fe),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x3a61b2;await _0x2b374f(_0x21c3fb,_0x49a880,'',_0x5ce939,_0x263db6,_0x128ee9,structuredClone(_0x2a7a7e),_0xd252c9),_0x263db6['context'][_0x59bac6(0x9b1)]((_0xe6e330,_0x175d82)=>_0xe6e330+_0x175d82[_0x59bac6(0xaf0)][_0x59bac6(0xa5f)],0x0)>_0x10e4f7&&(_0x3a61b2=Math[_0x59bac6(0x8c3)](_0x10e4f7/_0x263db6[_0x59bac6(0x4b2)]['length'])),_0x263db6['output']=_0x59bac6(0x50e)+_0x263db6[_0x59bac6(0x4b2)][_0x59bac6(0x23d)](_0x51e1f7=>_0x59bac6(0x340)+_0x51e1f7[_0x59bac6(0x5f6)]+':\x20'+_0x51e1f7['content'][_0x59bac6(0x3bf)](0x0,_0x3a61b2))[_0x59bac6(0x5b4)]('\x0a');}catch(_0x389976){console['error'](_0x59bac6(0x7d2),_0x389976);}return _0x263db6;}(_0x37b850[_0x5d83e3(0x3ee)],_0x5a6559,0x0,_0x19394e,_0x3318be,_0x22e0a6[_0x5d83e3(0x281)],{'documentParserConnector':this[_0x5d83e3(0x235)],'nlpLibraryConnector':this[_0x5d83e3(0x82f)],'generativeAIWorkerConnectors':this[_0x5d83e3(0x4d8)],'models':Array[_0x5d83e3(0x4f7)](this[_0x5d83e3(0x36e)][_0x5d83e3(0x16a)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x5d83e3(0x9f3)],'aiSearchConnector':this[_0x5d83e3(0x77b)],'queryFileConnector':this[_0x5d83e3(0x26a)]});return _0x4ad02b;}throw new Error(_0x5d83e3(0x9c7));}async*[_0x3fd00f(0x669)](_0x5a28d2,_0x3a94e9){const _0x4465f3=_0x3fd00f;if(_0x4465f3(0x9fe)===_0x3a94e9[_0x4465f3(0x705)]){const _0x152b7c=await _0x13e48a[_0x4465f3(0x3ea)](_0x3a94e9[_0x4465f3(0x3ee)],_0x3a94e9[_0x4465f3(0x25f)]),_0x4f637d=_0x152b7c['blocks']['find'](_0x117d9=>_0x117d9[_0x4465f3(0x705)]===_0x5e0896[_0x4465f3(0x83e)]);for await(const _0x52968c of async function*(_0x227a64,_0xe5ece5,_0xd7c2db,_0x558a7f,_0x1878fb){const _0x4acef9=_0x4465f3,_0x276e49=(0x0,_0x630e7c['v4'])(),_0xb276af=Date['now']();if(await _0x1c1b26[_0x4acef9(0x25d)]({'jobType':_0x3e0954['Workflow'],'type':_0x290819[_0x4acef9(0x1de)],'jobId':_0x227a64,'agentId':_0x276e49,'threadId':_0xe5ece5['threadId'],'traceLevel':_0x3a2fff[_0x4acef9(0xa80)],'startTime':Date[_0x4acef9(0x441)](),'timestamp':Date[_0x4acef9(0x441)](),'blockId':_0xd7c2db['id'],'status':_0x4acef9(0x57e),'initialPrompt':_0xe5ece5[_0x4acef9(0x9fe)]}),await _0x429e66(_0xe5ece5,_0xd7c2db,_0x558a7f,_0x1878fb),_0xe5ece5[_0x4acef9(0x3c7)]){for(const _0x12c7c9 in _0xe5ece5[_0x4acef9(0x3c7)])_0x26851b(_0xe5ece5['internalContext'][_0x12c7c9],_0xd7c2db,_0x558a7f,_0x12c7c9);}const _0x403abc={'type':_0x4acef9(0x9fe),'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x255f26=new _0x11ef4b();_0x5ace42(_0x227a64,''+_0xe5ece5[_0x4acef9(0x9fe)],_0xe5ece5,_0x403abc,_0xd7c2db,_0x558a7f,_0x1878fb,_0x255f26);let _0x50df69='',_0x371cb6={'type':_0x4acef9(0x9fe)};for(;;){const _0x46e95e=await _0x255f26[_0x4acef9(0x676)]();if(!_0x46e95e)break;_0x50df69+=_0x46e95e[_0x4acef9(0x66e)],_0x371cb6={'type':_0x4acef9(0x9fe),'output':_0x46e95e[_0x4acef9(0x66e)],'context':_0x403abc[_0x4acef9(0x4b2)],'internalContext':{},'resultFile':void 0x0,'inputTokens':(_0x403abc[_0x4acef9(0x22f)]??0x0)+(_0x46e95e[_0x4acef9(0x22f)]??0x0),'outputTokens':(_0x403abc['outputTokens']??0x0)+(_0x46e95e['outputTokens']??0x0)},yield _0x371cb6;}const _0x1135b1=_0x558a7f['find'](_0x5af2ea=>_0x5af2ea['type']===_0x5e0896[_0x4acef9(0x9cc)]);yield{..._0x371cb6,'output':'','internalContext':_0x1135b1?.['accumulated']?.[_0x4acef9(0x4b2)]??{},'resultFile':await _0x1135b1?.['accumulated']?.[_0x4acef9(0xa0d)]?.[_0x4acef9(0x58c)]()??void 0x0};const {inputTokens:_0x4b39b7=0x0,outputTokens:_0x4f9856=0x0,context:_0x10f573=[]}=_0x371cb6;await _0x1c1b26[_0x4acef9(0x25d)]({'jobType':_0x3e0954[_0x4acef9(0x67f)],'type':_0x290819[_0x4acef9(0x4f2)],'jobId':_0x227a64,'agentId':_0x276e49,'threadId':_0xe5ece5['threadId'],'traceLevel':_0x3a2fff[_0x4acef9(0xa80)],'startTime':_0xb276af,'timestamp':Date[_0x4acef9(0x441)](),'blockId':_0xd7c2db['id'],'status':_0x4acef9(0x57e),'output':_0x50df69,'prompt':_0xe5ece5['prompt'],'agentName':'','history':_0xe5ece5[_0x4acef9(0xadc)]??[],'instructions':''+(_0xe5ece5['instructions']??''),'ragContext':_0x10f573,'inputTokens':_0x4b39b7,'outputTokens':_0x4f9856});}(_0x5a28d2,_0x3a94e9,_0x4f637d,_0x152b7c['blocks'],{'documentParserConnector':this[_0x4465f3(0x235)],'nlpLibraryConnector':this[_0x4465f3(0x82f)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x4465f3(0x4f7)](this[_0x4465f3(0x36e)][_0x4465f3(0x16a)]()),'contentMediator':this[_0x4465f3(0x95d)],'searchConnector':this[_0x4465f3(0x9f3)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']}))yield _0x52968c;}if(_0x4465f3(0x99e)===_0x3a94e9[_0x4465f3(0x705)]){for await(const _0xd714cf of async function*(_0x1a884b,_0x4869a6,_0x27f403){const _0x2340b7=_0x4465f3,_0x38c1e7=(0x0,_0x630e7c['v4'])(),_0x5bfc08={'type':'prompt','context':[],'internalContext':_0x4869a6['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0x2ebcb1=new _0x11ef4b();!async function(_0x35a03c,_0x5c1fcc,_0x3d50f8,_0x43b685,_0xb7528e,_0x2b9e25){const _0x5616bf=a0_0x38ff,_0x2f5b87=_0x2b9e25[_0x5616bf(0x36e)][_0x5616bf(0x78b)](_0x2aee12=>_0x2aee12['id']===_0x3d50f8[_0x5616bf(0x3c5)]);if(!_0x2f5b87)throw new Error(_0x5616bf(0x1f0));const _0x5b6fed=_0x2b9e25['generativeAIWorkerConnectors'][_0x5616bf(0x78b)](_0x10cd6a=>_0x10cd6a[_0x5616bf(0x5e5)]()===_0x2f5b87['engineType']);if(!_0x5b6fed)throw new Error(_0x5616bf(0x48c));const _0x273a0c={'type':'prompt','output':''},_0xa40e48=await _0x15990d(_0x35a03c,_0x5c1fcc,_0x3d50f8,_0x43b685,_0x3d50f8[_0x5616bf(0x91d)]??[],_0x2b9e25,_0xb7528e);for await(const _0x13cfaf of _0x5b6fed[_0x5616bf(0x2f2)]({'type':'prompt','prompt':_0x3d50f8[_0x5616bf(0x9fe)],'instructions':_0x3d50f8['instructions'],'reasoning':_0x3d50f8[_0x5616bf(0xa91)],'grammar':_0x3d50f8[_0x5616bf(0x7eb)],'temperature':_0x3d50f8[_0x5616bf(0x24f)],'maxTokens':_0x3d50f8[_0x5616bf(0x3b7)],'history':_0x3d50f8[_0x5616bf(0xadc)],'functions':_0xa40e48,'threadId':_0x3d50f8[_0x5616bf(0x857)]},{'model':_0x2f5b87,'sequences':Array[_0x5616bf(0x4f7)](_0xa40e48[_0x5616bf(0x566)]())[_0x5616bf(0x564)](_0x418f4c=>_0x418f4c[_0x5616bf(0x294)](_0x5616bf(0x1c9)))?0x2:0x1}))_0xb7528e['emit'](_0x13cfaf),_0x5616bf(0x7fc)==typeof _0x273a0c[_0x5616bf(0x66e)]&&_0x5616bf(0x7fc)==typeof _0x13cfaf[_0x5616bf(0x66e)]&&(_0x273a0c[_0x5616bf(0x66e)]+=_0x13cfaf[_0x5616bf(0x66e)]),_0x273a0c[_0x5616bf(0x22f)]=_0x13cfaf[_0x5616bf(0x22f)],_0x273a0c[_0x5616bf(0x26e)]=_0x13cfaf[_0x5616bf(0x26e)];_0xb7528e[_0x5616bf(0x939)](void 0x0);}(_0x1a884b,_0x38c1e7,_0x4869a6,_0x5bfc08,_0x2ebcb1,_0x27f403);let _0x3edbd9='',_0x3a40b0={'type':_0x2340b7(0x9fe)};for(;;){const _0x13ac0f=await _0x2ebcb1[_0x2340b7(0x676)]();if(!_0x13ac0f)break;_0x3edbd9+=_0x13ac0f[_0x2340b7(0x66e)],_0x3a40b0={'type':_0x2340b7(0x9fe),'output':_0x13ac0f[_0x2340b7(0x66e)],'context':_0x5bfc08[_0x2340b7(0x4b2)],'internalContext':{},'inputTokens':(_0x5bfc08[_0x2340b7(0x22f)]??0x0)+(_0x13ac0f[_0x2340b7(0x22f)]??0x0),'outputTokens':(_0x5bfc08[_0x2340b7(0x26e)]??0x0)+(_0x13ac0f[_0x2340b7(0x26e)]??0x0)},yield _0x3a40b0;}yield{..._0x3a40b0,'output':'','internalContext':_0x5bfc08[_0x2340b7(0x3c7)]??{}};}(_0x5a28d2,_0x3a94e9,{'documentParserConnector':this[_0x4465f3(0x235)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x4465f3(0x4d8)],'models':Array['from'](this[_0x4465f3(0x36e)][_0x4465f3(0x16a)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x4465f3(0x77b)],'queryFileConnector':this[_0x4465f3(0x26a)]}))yield _0xd714cf;}}async[_0x3fd00f(0x7e9)](_0x1328e1,_0x412593){const _0x354bfd=_0x3fd00f;if('rate'===_0x412593[_0x354bfd(0x705)])return _0x1328e1=_0x412593['jobId'],void await this[_0x354bfd(0x1d0)](_0x1328e1,_0x412593[_0x354bfd(0x3ee)],_0x412593[_0x354bfd(0x25f)]);await this[_0x354bfd(0x1d0)](_0x1328e1,_0x412593['vendorId'],_0x412593['workflowId'],_0x412593[_0x354bfd(0x857)]),await _0x1c1b26[_0x354bfd(0x25d)]({'jobType':_0x3e0954['Job'],'type':_0x52466d[_0x354bfd(0x433)],'traceLevel':_0x3a2fff['Info'],'jobId':_0x1328e1,'threadId':_0x412593['threadId'],'startTime':Date[_0x354bfd(0x441)](),'timestamp':Date[_0x354bfd(0x441)](),'status':_0x354bfd(0x57e)});}async[_0x3fd00f(0x4a2)](_0x5f4ad3,_0x59f95f){const _0x3f143c=_0x3fd00f;if(_0x3f143c(0x268)===_0x59f95f[_0x3f143c(0x705)])return _0x5f4ad3=_0x59f95f['jobId'],void await this['closeTrace'](_0x5f4ad3);await _0x1c1b26[_0x3f143c(0x25d)]({'jobType':_0x3e0954[_0x3f143c(0x20d)],'type':_0x52466d[_0x3f143c(0x5ff)],'traceLevel':_0x3a2fff[_0x3f143c(0xa80)],'jobId':_0x5f4ad3,'threadId':_0x59f95f[_0x3f143c(0x857)],'startTime':Date[_0x3f143c(0x441)](),'timestamp':Date[_0x3f143c(0x441)](),'status':_0x3f143c(0x57e)}),await this['closeTrace'](_0x5f4ad3,_0x59f95f[_0x3f143c(0x857)]);}['getToolName'](_0x509253){const _0x5e1710=_0x3fd00f;switch(_0x509253[_0x5e1710(0x705)]){case _0x5e0896[_0x5e1710(0xa4c)]:case _0x5e0896[_0x5e1710(0x840)]:return _0x5e1710(0x1c9)+_0x509253[_0x5e1710(0xa87)][_0x5e1710(0x36b)](/[^a-zA-Z]/g,'');case _0x5e0896[_0x5e1710(0x6ab)]:case _0x5e0896[_0x5e1710(0x8ef)]:return'searchInDataCollection'+_0x509253[_0x5e1710(0xa87)][_0x5e1710(0x36b)](/[^a-zA-Z]/g,'');case _0x5e0896[_0x5e1710(0x4cc)]:return _0x509253[_0x5e1710(0xa87)][_0x5e1710(0x36b)](/[^a-zA-Z]/g,'');case _0x5e0896[_0x5e1710(0x33f)]:return'searchOnPerplexity';case _0x5e0896[_0x5e1710(0x6a0)]:return'executeJavascriptCodeSnippet';case _0x5e0896[_0x5e1710(0x901)]:return'searchOnGoogle';case _0x5e0896[_0x5e1710(0xaa6)]:case _0x5e0896[_0x5e1710(0xaad)]:return _0x5e1710(0xaeb);default:return'';}}[_0x3fd00f(0x32c)](_0x1008a6){const _0x4cce6b=_0x3fd00f;switch(_0x1008a6[_0x4cce6b(0x705)]){case _0x5e0896[_0x4cce6b(0xa4c)]:case _0x5e0896[_0x4cce6b(0x840)]:return _0x4cce6b(0x2f8)+_0x1008a6['description']+'\x20to\x20generate\x20a\x20response.';case _0x5e0896[_0x4cce6b(0x6ab)]:case _0x5e0896['Knowledge']:return'Search\x20in\x20data\x20collection\x20'+_0x1008a6['description']+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.';case _0x5e0896[_0x4cce6b(0x4cc)]:return'Execute\x20skill\x20'+_0x1008a6[_0x4cce6b(0x430)];case _0x5e0896[_0x4cce6b(0x33f)]:return _0x4cce6b(0xb07);case _0x5e0896[_0x4cce6b(0x6a0)]:return _0x4cce6b(0x94a);case _0x5e0896[_0x4cce6b(0x901)]:return'Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.';case _0x5e0896[_0x4cce6b(0xaa6)]:case _0x5e0896[_0x4cce6b(0xaad)]:return _0x4cce6b(0x704);default:return'';}}['getToolParams'](_0x1bbe89){const _0x68e187=_0x3fd00f;switch(_0x1bbe89[_0x68e187(0x705)]){case _0x5e0896['Agent']:case _0x5e0896[_0x68e187(0x840)]:return[{'name':_0x68e187(0x9fe),'type':_0x68e187(0x7fc)}];case _0x5e0896[_0x68e187(0x6ab)]:case _0x5e0896[_0x68e187(0x8ef)]:return[{'name':'queryOrPrompt','type':_0x68e187(0x7fc)}];case _0x5e0896[_0x68e187(0x4cc)]:return _0x1bbe89[_0x68e187(0x644)]['map'](_0x5e6dfd=>({'name':_0x5e6dfd[_0x68e187(0xa87)],'type':_0x5e6dfd[_0x68e187(0x705)]??'string'}))??[];case _0x5e0896[_0x68e187(0x33f)]:return[{'name':_0x68e187(0x2bc),'type':'string'}];case _0x5e0896[_0x68e187(0x6a0)]:return[{'name':_0x68e187(0x315),'type':_0x68e187(0x7fc)}];case _0x5e0896[_0x68e187(0x901)]:return[{'name':_0x68e187(0x2bc),'type':'string'}];case _0x5e0896[_0x68e187(0xaa6)]:case _0x5e0896[_0x68e187(0xaad)]:return[{'name':'url','type':_0x68e187(0x7fc)},{'name':'page','type':_0x68e187(0xa75)}];default:return[];}}[_0x3fd00f(0x71d)](){const _0x44355e=_0x3fd00f;try{return this[_0x44355e(0x4a8)]['getCapacityReport']()['gpu'][_0x44355e(0x345)]*(0x1-this[_0x44355e(0x4a8)][_0x44355e(0x974)]()[_0x44355e(0x1e4)][_0x44355e(0x27c)]);}catch(_0x2360e4){return _0x404abe['log'](_0x20ff7d['Jobs'],_0x44355e(0x624),_0x2360e4),0x0;}}[_0x3fd00f(0x8b5)](){const _0x3a02fe=_0x3fd00f;this[_0x3a02fe(0x4bc)]&&(this[_0x3a02fe(0x357)]&&clearTimeout(this['debounceStats']),this[_0x3a02fe(0x357)]=setTimeout(async()=>{const _0x350d74=_0x3a02fe;delete this[_0x350d74(0x357)];let _0xad56e0=0x0;for(const _0xe0673d of this[_0x350d74(0x5a6)][_0x350d74(0x16a)]())_0xad56e0+=await _0xe0673d[_0x350d74(0x4d1)]();this[_0x350d74(0x5cb)][_0x350d74(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x350d74(0x870)],'content':{'type':_0x347d3c[_0x350d74(0x6f5)],'label':this['label'],'stats':{'timestamp':Date[_0x350d74(0x441)](),'storage':_0xad56e0,'messagesSent':this[_0x350d74(0x35f)],'messagesReceived':this[_0x350d74(0x797)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x350d74(0x9d3)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this['tokens']}}});},_0x59b95b));}[_0x3fd00f(0x729)](_0x3fcc76,_0x1cd911){const _0x4c1b17=_0x3fd00f,_0x4b61cc=this[_0x4c1b17(0x985)],_0x17f567=this[_0x4c1b17(0x252)]();_0x404abe[_0x4c1b17(0x729)](_0x5de0fb[_0x4c1b17(0x537)],{'topic':_0x4b61cc,'type':_0x4c1b17(0x33b),'nodeId':_0x17f567,'tokenCount':_0x1cd911,'tokensPerSecond':_0x3fcc76});}async[_0x3fd00f(0x1d0)](_0xed75de,_0x20d5fc,_0x28d708,_0xf0b63e){const _0x3037e7=_0x3fd00f;try{if(!await _0x1c1b26['openTrace'](_0x20d5fc,_0xed75de,_0x28d708,_0xf0b63e))throw new Error('Error\x20opening\x20trace');return _0xed75de;}catch(_0x497d4d){return console[_0x3037e7(0x805)](_0x3037e7(0x5f8),_0x497d4d),'Could\x20not\x20open\x20trace';}}async[_0x3fd00f(0x412)](_0x5cb58c,_0x3bf7ec){const _0xaa18fb=_0x3fd00f;try{await _0x1c1b26[_0xaa18fb(0x412)](_0x5cb58c,_0x3bf7ec);}catch(_0x6bfac8){console[_0xaa18fb(0x805)](_0xaa18fb(0x557),{'jobId':_0x5cb58c,'error':_0x6bfac8});}}[_0x3fd00f(0x9e3)](_0x12aaa9,_0x296f54){const _0x55debc=_0x3fd00f;for(const _0x4b16aa of _0x12aaa9['ingestBlocks']??[])_0x4b16aa[_0x55debc(0x705)]===_0x2ea748[_0x55debc(0x2f3)]&&this[_0x55debc(0x95d)][_0x55debc(0xa02)](_0x4b16aa['id'])[_0x55debc(0x9a7)](_0x296f54),_0x4b16aa[_0x55debc(0x705)]===_0x2ea748['GraphDatabase']&&this[_0x55debc(0x95d)][_0x55debc(0x6b8)](_0x4b16aa['id'])['remove'](_0x296f54);}}class _0x59cc3c extends _0x31e81e{[_0x3fd00f(0x976)];[_0x3fd00f(0x9c0)];[_0x3fd00f(0x3ee)];['db'];[_0x3fd00f(0x357)];[_0x3fd00f(0x9ad)]=0x0;[_0x3fd00f(0x663)]=0x0;[_0x3fd00f(0xa46)]=!0x1;constructor(_0x566665,_0x3bf164,_0x37c190,_0x1547cb,_0x1d1f44){const _0xdbaff6=_0x3fd00f;if(_0xdbaff6(0x7fc)!=typeof _0x3bf164)throw new _0x19abf5(_0x2c23d1[_0xdbaff6(0x37f)],_0xdbaff6(0x31c));super(_0x566665,_0x3bf164),this[_0xdbaff6(0x976)]=_0x566665,this[_0xdbaff6(0x9c0)]=_0x37c190,this[_0xdbaff6(0x3ee)]=_0x1547cb;const _0x321258=_0xdbaff6(0xaea)+this[_0xdbaff6(0x3ee)]+_0xdbaff6(0xaea)+this[_0xdbaff6(0x9c0)]+_0xdbaff6(0xaea)+this['label'];this['db']=new _0x1d1f44(_0x321258),this[_0xdbaff6(0x8b5)]();}[_0x3fd00f(0xa37)](){return this['isLoaded'];}[_0x3fd00f(0x26d)](_0x41cac1){const _0x4c5b76=_0x3fd00f;this[_0x4c5b76(0xa46)]=_0x41cac1;}['destroy'](){const _0x366421=_0x3fd00f;clearTimeout(this[_0x366421(0x357)]),delete this[_0x366421(0x357)],super[_0x366421(0x407)]();}[_0x3fd00f(0x883)](){const _0x57e941=_0x3fd00f;this[_0x57e941(0x5cb)]['publish']({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x57e941(0x870)],'content':{'type':_0x347d3c[_0x57e941(0x16d)],'label':this[_0x57e941(0x985)]}});}[_0x3fd00f(0x76c)](){const _0x5a562b=_0x3fd00f;return _0x548494[_0x5a562b(0x777)][_0x5a562b(0x3bb)];}[_0x3fd00f(0x4cb)](){const _0x56cdc8=_0x3fd00f;this[_0x56cdc8(0x8b5)]();}[_0x3fd00f(0x801)](_0x35162d,_0x2e87ac,_0x46a877,_0x5b50d9){const _0x4848d9=_0x3fd00f;this['db'][_0x4848d9(0x801)](_0x35162d,_0x2e87ac,_0x46a877,_0x5b50d9),this[_0x4848d9(0x9ad)]+=0x1,this[_0x4848d9(0x8b5)]();}[_0x3fd00f(0x321)](_0x168af3,_0x4b4cf7){const _0x1d3094=_0x3fd00f;this['db'][_0x1d3094(0x321)](_0x168af3,_0x4b4cf7),this[_0x1d3094(0x9ad)]+=0x1,this[_0x1d3094(0x8b5)]();}[_0x3fd00f(0x935)](_0x6354e,_0x2307b9,_0x4e0b16){const _0x1fe9e1=_0x3fd00f,_0x3c561c=this['db'][_0x1fe9e1(0x935)](_0x6354e,_0x2307b9,_0x4e0b16);return this[_0x1fe9e1(0x663)]+=0x1,_0x404abe['logServiceEvent'](_0x5de0fb['GraphDatabase'],{'type':_0x1fe9e1(0x9a8),'label':this[_0x1fe9e1(0x985)],'nodeId':this[_0x1fe9e1(0x976)][_0x1fe9e1(0xb04)](),'nodeType':this[_0x1fe9e1(0x976)][_0x1fe9e1(0x705)],'clusterId':this[_0x1fe9e1(0x9c0)],'size':0x0}),this['sendStats'](),_0x3c561c;}[_0x3fd00f(0x9a7)](_0x569eb4){const _0x290f50=_0x3fd00f;this['db']['remove'](_0x569eb4),this[_0x290f50(0x9ad)]+=0x1,this['sendStats']();}[_0x3fd00f(0x7e0)](_0x3fc148){const _0x2f6611=_0x3fd00f;this['db'][_0x2f6611(0x7e0)](_0x3fc148);}[_0x3fd00f(0x93e)](_0x555d09){const _0x3ce3cf=_0x3fd00f;this['db'][_0x3ce3cf(0x93e)](_0x555d09);}[_0x3fd00f(0x8b5)](){const _0x1e0d46=_0x3fd00f;this[_0x1e0d46(0x357)]&&clearTimeout(this['debounceStats']),this[_0x1e0d46(0x357)]=setTimeout(async()=>{const _0x3e5246=_0x1e0d46;delete this[_0x3e5246(0x357)];const _0x1e9716=this['db'][_0x3e5246(0x4d1)]();this['systemTopic'][_0x3e5246(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0['Content'],'content':{'type':_0x347d3c[_0x3e5246(0xa79)],'label':this[_0x3e5246(0x985)],'stats':{'timestamp':Date[_0x3e5246(0x441)](),'storage':_0x1e9716,'messagesSent':this[_0x3e5246(0x35f)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x3e5246(0xa65)],'bytesReceived':this[_0x3e5246(0x9d3)],'writes':this[_0x3e5246(0x9ad)],'reads':this[_0x3e5246(0x663)],'prompts':0x0,'tokens':0x0}}}),_0x404abe['logStorage'](_0x5de0fb[_0x3e5246(0x3bb)],_0x3e5246(0xaea)+this[_0x3e5246(0x9c0)]+'ccc'+this[_0x3e5246(0x985)],_0x1e9716);},_0x59b95b);}}class _0x464672 extends _0xf29c0d{[_0x3fd00f(0x250)];constructor(_0x31f8e2,_0x4e8fbd,_0x54f3ae){super(_0x31f8e2,_0x4e8fbd),this['mediaStream']=_0x54f3ae;}[_0x3fd00f(0x76c)](){const _0x1fc328=_0x3fd00f;return _0x548494[_0x1fc328(0x777)][_0x1fc328(0x271)];}[_0x3fd00f(0x3c3)](){const _0x3eff63=_0x3fd00f;return this[_0x3eff63(0x250)];}[_0x3fd00f(0x5c1)](){const _0x1c6110=_0x3fd00f;return this[_0x1c6110(0x250)]['id'];}}class _0x3c49f7 extends _0x464672{[_0x3fd00f(0x7da)];[_0x3fd00f(0x1c5)];[_0x3fd00f(0xa45)];['unregisterPublisherListener']=_0x2d2e28();constructor(_0x9f101d,_0x486252,_0x1618e4,_0x5c1af6,_0x4d8c14){const _0x96c3e3=_0x3fd00f;super(_0x9f101d,_0x486252,_0x1618e4),this[_0x96c3e3(0x7da)]=_0x5c1af6,this[_0x96c3e3(0x1c5)]=_0x4d8c14;}[_0x3fd00f(0x407)](){const _0x25ef0e=_0x3fd00f;this['removeTrack']('audio'),this[_0x25ef0e(0x3d7)](_0x25ef0e(0x8ed)),super['destroy']();}[_0x3fd00f(0xaae)](_0x2f73c9){const _0x33d32a=_0x3fd00f;if(!this['topic'])throw new _0x5d70cf(_0x5d70cf[_0x33d32a(0x765)][_0x33d32a(0x3d9)],{'label':this[_0x33d32a(0x985)],'ownerId':this[_0x33d32a(0x1a8)][_0x33d32a(0xb04)](),'remoteId':this[_0x33d32a(0x7da)]});this['topic'][_0x33d32a(0x70e)]({'sourceId':this[_0x33d32a(0x1a8)]['getId'](),'content':{'action':_0x222a1e[_0x33d32a(0x80f)],'track':_0x2f73c9,'stream':this[_0x33d32a(0x250)],'priority':_0x548494[_0x33d32a(0x9aa)][_0x33d32a(0x905)],'params':this[_0x33d32a(0x769)](_0x2f73c9[_0x33d32a(0x440)],this[_0x33d32a(0x1c5)])}});}['removeTrack'](_0x1e4ef4){const _0x27a971=_0x3fd00f,_0x439b6e=this[_0x27a971(0x86e)](_0x1e4ef4);if(_0x439b6e){if(!this[_0x27a971(0xa45)])return null;this['topic'][_0x27a971(0x70e)]({'sourceId':this[_0x27a971(0x1a8)][_0x27a971(0xb04)](),'content':{'action':_0x222a1e[_0x27a971(0x374)],'track':_0x439b6e,'stream':this[_0x27a971(0x250)]}});}return _0x439b6e;}[_0x3fd00f(0xa03)](_0x48a00a){const _0x2d9aee=_0x3fd00f;if(!this['topic'])throw new _0x5d70cf(_0x5d70cf[_0x2d9aee(0x765)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x2d9aee(0x985)],'ownerId':this[_0x2d9aee(0x1a8)][_0x2d9aee(0xb04)](),'remoteId':this[_0x2d9aee(0x7da)]});this[_0x2d9aee(0xa45)][_0x2d9aee(0x70e)]({'sourceId':this[_0x2d9aee(0x1a8)][_0x2d9aee(0xb04)](),'content':{'action':_0x222a1e['Update'],'priority':_0x48a00a,'stream':this[_0x2d9aee(0x250)]}});}['subscribe']({trackKinds:_0x3c8bac,params:_0x5863b2},_0x95fd75){const _0x9d2d0=_0x3fd00f;if(!this[_0x9d2d0(0xa45)])throw new _0x5d70cf(_0x5d70cf[_0x9d2d0(0x765)][_0x9d2d0(0x3d9)],{'label':this['label'],'ownerId':this[_0x9d2d0(0x1a8)][_0x9d2d0(0xb04)](),'remoteId':this[_0x9d2d0(0x7da)]});for(const _0x44d5bf of this[_0x9d2d0(0x250)]['getTracks']())_0x3c8bac[_0x9d2d0(0x7ac)](_0x44d5bf[_0x9d2d0(0x440)])&&this[_0x9d2d0(0xa45)][_0x9d2d0(0x70e)]({'sourceId':this[_0x9d2d0(0x1a8)]['getId'](),'content':{'action':_0x222a1e[_0x9d2d0(0x80f)],'track':_0x44d5bf,'stream':this[_0x9d2d0(0x250)],'priority':_0x95fd75,'params':this[_0x9d2d0(0x769)](_0x44d5bf[_0x9d2d0(0x440)],_0x5863b2)}});}['update']({params:_0x1e5a0b}){const _0x5a291=_0x3fd00f;if(!this[_0x5a291(0xa45)])throw new _0x5d70cf(_0x5d70cf[_0x5a291(0x765)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x5a291(0x985)],'ownerId':this[_0x5a291(0x1a8)][_0x5a291(0xb04)](),'remoteId':this['remoteId']});for(const _0x2e8319 of this[_0x5a291(0x250)][_0x5a291(0x171)]())this['topic'][_0x5a291(0x70e)]({'sourceId':this['owner'][_0x5a291(0xb04)](),'content':{'action':_0x222a1e[_0x5a291(0x29e)],'stream':this[_0x5a291(0x250)],'params':this[_0x5a291(0x769)](_0x2e8319[_0x5a291(0x440)],_0x1e5a0b)}});}[_0x3fd00f(0x35a)]({trackKinds:_0x23338f}){const _0x597ab7=_0x3fd00f;if(this[_0x597ab7(0xa45)]){for(const _0xf29c9 of this[_0x597ab7(0x250)]['getTracks']())_0x23338f['includes'](_0xf29c9[_0x597ab7(0x440)])&&this[_0x597ab7(0xa45)]['publish']({'sourceId':this[_0x597ab7(0x1a8)][_0x597ab7(0xb04)](),'content':{'action':_0x222a1e[_0x597ab7(0x374)],'stream':this[_0x597ab7(0x250)],'track':_0xf29c9}});}}[_0x3fd00f(0x37b)](_0x1d4a59){const _0x2c8275=_0x3fd00f;this[_0x2c8275(0xa45)]=_0x1d4a59;}[_0x3fd00f(0x78a)](_0x49a2ff){const _0x1c61cd=_0x3fd00f;_0x49a2ff===this[_0x1c61cd(0xa45)]&&(delete this['topic'],this[_0x1c61cd(0x611)]['publish']());}[_0x3fd00f(0x86b)](_0x5e8904){const _0x165200=_0x3fd00f;return this[_0x165200(0x611)][_0x165200(0x84f)](_0x5e8904);}[_0x3fd00f(0x86e)](_0xec45c2){const _0x55b8fb=_0x3fd00f;return this[_0x55b8fb(0x250)][_0x55b8fb(0x171)]()[_0x55b8fb(0x78b)](_0x50ad51=>_0x50ad51[_0x55b8fb(0x440)]===_0xec45c2)||null;}[_0x3fd00f(0x769)](_0x49d64c,_0x1ba5dd){const _0x4c615b=_0x3fd00f;let _0x6dd2f;return _0x4c615b(0x8ed)===_0x49d64c&&_0x1ba5dd?.[_0x4c615b(0x8ed)]&&_0x4c615b(0x19a)!=typeof _0x1ba5dd[_0x4c615b(0x8ed)]&&(_0x6dd2f={'kind':'video',..._0x1ba5dd[_0x4c615b(0x8ed)]},_0x6dd2f[_0x4c615b(0x60b)]=this[_0x4c615b(0x7e6)]()),_0x4c615b(0x2d2)===_0x49d64c&&_0x1ba5dd?.['audio']&&_0x4c615b(0x19a)!=typeof _0x1ba5dd[_0x4c615b(0x2d2)]&&(_0x6dd2f={'kind':'audio',..._0x1ba5dd[_0x4c615b(0x2d2)]}),_0x6dd2f;}[_0x3fd00f(0x7e6)](){const _0x14fa31=_0x3fd00f;let _0x327a8e={'width':0x0,'height':0x0};const _0x511618=this[_0x14fa31(0x250)][_0x14fa31(0x6cc)]();if(_0x511618[_0x14fa31(0xa5f)]>0x0){const _0x23b9e0=_0x511618[0x0][_0x14fa31(0x7b1)]();_0x23b9e0[_0x14fa31(0x1d3)]&&_0x23b9e0[_0x14fa31(0xb03)]&&(_0x327a8e={'width':_0x23b9e0['width'],'height':_0x23b9e0[_0x14fa31(0xb03)]});}return _0x327a8e;}}class _0x2809b5 extends _0x464672{[_0x3fd00f(0x9c0)];[_0x3fd00f(0x5b1)]=_0x548494['MediaStreamPriority']['Default'];[_0x3fd00f(0x829)]=new Map();[_0x3fd00f(0x208)]=new Map();constructor(_0x548ad5,_0xd8ed7b,_0x139fde,_0x3f7809){const _0x5c6616=_0x3fd00f;super(_0x548ad5,_0xd8ed7b,_0x139fde instanceof MediaStream?_0x139fde:_0x139fde[_0x5c6616(0x2a9)]?_0x139fde[_0x5c6616(0x2a9)]:_0x139fde[_0x5c6616(0x503)]()),this['clusterId']=_0x3f7809,this[_0x5c6616(0x250)][_0x5c6616(0x171)]()['forEach'](_0x41f6bf=>this[_0x5c6616(0xacb)](_0x41f6bf)),_0x404abe[_0x5c6616(0x729)](_0x5de0fb[_0x5c6616(0x4b8)],{'type':_0x5c6616(0x70e),'label':this['label'],'nodeId':this[_0x5c6616(0x1a8)][_0x5c6616(0xb04)](),'nodeType':this[_0x5c6616(0x1a8)][_0x5c6616(0x705)],'clusterId':this[_0x5c6616(0x9c0)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x5c6616(0x250)][_0x5c6616(0x171)]()[_0x5c6616(0x23d)](_0x5a5049=>_0x5a5049[_0x5c6616(0x440)])});}['destroy'](){const _0x225748=_0x3fd00f;this['outgoingStreams'][_0x225748(0x66a)]>0x0&&(this['outgoingStreams'][_0x225748(0x3e1)](_0x28fc6e=>{const _0x135d9c=_0x225748;_0x28fc6e[_0x135d9c(0x607)](),_0x28fc6e[_0x135d9c(0x407)]();}),this[_0x225748(0x208)][_0x225748(0x7e7)]()),this[_0x225748(0x829)][_0x225748(0x3e1)](_0xa3b8b3=>_0xa3b8b3()),super['destroy']();}['publish'](_0x63ee32){const _0x542f9f=_0x3fd00f;this[_0x542f9f(0x5cb)][_0x542f9f(0x70e)]({'sourceId':this[_0x542f9f(0x1a8)]['getId'](),'destinationIds':_0x63ee32?[_0x63ee32]:void 0x0,'propagate':!0x0,'messageType':_0x519af0[_0x542f9f(0x870)],'content':{'type':_0x347d3c[_0x542f9f(0x7bf)],'ownerId':this[_0x542f9f(0x1a8)][_0x542f9f(0xb04)](),'label':this[_0x542f9f(0x985)],'stream':{'streamId':this[_0x542f9f(0x5c1)](),'availableTrackKinds':this[_0x542f9f(0x250)][_0x542f9f(0x171)]()['map'](_0x32e57e=>_0x32e57e[_0x542f9f(0x440)])}}});}[_0x3fd00f(0x730)](){const _0x5b5384=_0x3fd00f;this[_0x5b5384(0x5cb)][_0x5b5384(0x70e)]({'sourceId':this['owner'][_0x5b5384(0xb04)](),'propagate':!0x0,'messageType':_0x519af0[_0x5b5384(0x870)],'content':{'type':_0x347d3c[_0x5b5384(0x641)],'ownerId':this['owner']['getId'](),'label':this[_0x5b5384(0x985)]}}),this[_0x5b5384(0x5cb)][_0x5b5384(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x5b5384(0x870)],'content':{'type':_0x347d3c[_0x5b5384(0x91c)],'label':this[_0x5b5384(0x985)]}}),_0x404abe[_0x5b5384(0x729)](_0x5de0fb[_0x5b5384(0x4b8)],{'type':_0x5b5384(0x730),'label':this['label'],'nodeId':this[_0x5b5384(0x1a8)][_0x5b5384(0xb04)](),'nodeType':this[_0x5b5384(0x1a8)][_0x5b5384(0x705)],'clusterId':this[_0x5b5384(0x9c0)],'streamId':this[_0x5b5384(0x5c1)]()});}[_0x3fd00f(0x920)](){return this['priority'];}[_0x3fd00f(0xa03)](_0x28a064){const _0x2c6c7f=_0x3fd00f;this[_0x2c6c7f(0x5b1)]=_0x28a064,this[_0x2c6c7f(0x208)][_0x2c6c7f(0x3e1)](_0x3e0036=>_0x3e0036[_0x2c6c7f(0xa03)](_0x28a064));}[_0x3fd00f(0x7cb)](_0x182a18,_0x44d613){const _0x5842bd=_0x3fd00f;if(!this[_0x5842bd(0x208)]['has'](_0x182a18)){const _0x27f9b3=new _0x3c49f7(this[_0x5842bd(0x1a8)],this[_0x5842bd(0x985)],this[_0x5842bd(0x250)],_0x182a18,_0x44d613),_0x123e5c=_0x27f9b3[_0x5842bd(0x86b)](()=>{const _0x3716a7=_0x5842bd;_0x123e5c(),this['outgoingStreams'][_0x3716a7(0x7ae)](_0x182a18)?.[_0x3716a7(0x407)](),this[_0x3716a7(0x208)][_0x3716a7(0x92b)](_0x182a18);});this['outgoingStreams']['set'](_0x182a18,_0x27f9b3),_0x27f9b3[_0x5842bd(0xaf2)](this[_0x5842bd(0x5cb)]);}return this[_0x5842bd(0x208)][_0x5842bd(0x7ae)](_0x182a18);}['getShareableStreamId'](){const _0x50c47b=_0x3fd00f;return this[_0x50c47b(0x250)]['id'];}[_0x3fd00f(0x2fe)](_0x48c310){const _0x70dc0b=_0x3fd00f;this['systemTopic'][_0x70dc0b(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x70dc0b(0x870)],'content':{'type':_0x347d3c['LocalMediaStreamTrackFail'],'label':this['label'],'trackKinds':[_0x48c310[_0x70dc0b(0x440)]]}});}['setupTrackEndedListeners'](_0x1f71bc){const _0x2576bc=_0x3fd00f,_0x1f8c68=()=>this['handleLocalTrackFailure'](_0x1f71bc);_0x1f71bc[_0x2576bc(0x4aa)](_0x2576bc(0x776),_0x1f8c68),_0x1f71bc[_0x2576bc(0x4aa)](_0x2576bc(0x3d0),_0x1f8c68),this['trackEndedListeners'][_0x2576bc(0x1f5)](_0x1f71bc[_0x2576bc(0x440)],()=>{const _0x50d58f=_0x2576bc;_0x1f71bc[_0x50d58f(0x322)](_0x50d58f(0x776),_0x1f8c68),_0x1f71bc[_0x50d58f(0x322)](_0x50d58f(0x3d0),_0x1f8c68),this[_0x50d58f(0x829)][_0x50d58f(0x92b)](_0x1f71bc['kind']);});}}class _0x3a5cb2 extends _0x2809b5{['audioContext'];['transformations']=[];['clientStream'];[_0x3fd00f(0x651)];[_0x3fd00f(0x89c)];[_0x3fd00f(0x4de)];[_0x3fd00f(0x2bf)];['context'];[_0x3fd00f(0x9b2)];constructor(_0x541ad9,_0x436d18,_0x332f9a,_0x19591c,_0x550b5c,_0x4a16c6){const _0x324bff=_0x3fd00f;if(super(_0x541ad9,_0x436d18,_0x332f9a,_0x4a16c6),this[_0x324bff(0x5d6)]=_0x550b5c,this[_0x324bff(0x5d9)]=this['mediaStream'],this[_0x324bff(0x4de)]=document[_0x324bff(0x274)](_0x324bff(0x8ed)),this[_0x324bff(0x4de)][_0x324bff(0x816)]=!0x0,this['sourceVideo'][_0x324bff(0x23f)]=!0x0,this[_0x324bff(0x4de)]['srcObject']=this['clientStream'],this['sourceVideo'][_0x324bff(0x27c)](),this['sourceVideo'][_0x324bff(0x7bc)]=()=>{const _0x534ff7=_0x324bff;this['sourceVideo'][_0x534ff7(0x792)]();},this[_0x324bff(0x2bf)]=document[_0x324bff(0x274)](_0x324bff(0x2bf)),this['context']=this[_0x324bff(0x2bf)][_0x324bff(0x3fa)]('2d'),this[_0x324bff(0x250)]=this[_0x324bff(0x2bf)][_0x324bff(0x503)](_0x19591c),this[_0x324bff(0x89c)]=this['audioContext'][_0x324bff(0x850)](),this[_0x324bff(0x5d9)][_0x324bff(0x88b)]()[_0x324bff(0xa5f)]>0x0){const _0x198acb=this[_0x324bff(0x5d9)][_0x324bff(0x88b)]()[0x0];this[_0x324bff(0x651)]=this[_0x324bff(0x5d6)][_0x324bff(0x6c8)](new MediaStream([_0x198acb])),this['audioSource'][_0x324bff(0x79d)](this[_0x324bff(0x89c)]);}const _0x2b2639=this[_0x324bff(0x89c)][_0x324bff(0x467)]['getTracks']()[0x0];this[_0x324bff(0x250)]['addTrack'](_0x2b2639),this['interval']=setInterval(()=>{const _0x4d7733=_0x324bff;this[_0x4d7733(0x2bf)][_0x4d7733(0x1d3)]=this[_0x4d7733(0x4de)][_0x4d7733(0xa61)],this[_0x4d7733(0x2bf)][_0x4d7733(0xb03)]=this[_0x4d7733(0x4de)][_0x4d7733(0x767)],this[_0x4d7733(0x4de)][_0x4d7733(0xa61)]?(0x0!==this[_0x4d7733(0x5d9)][_0x4d7733(0x6cc)]()[_0x4d7733(0xa5f)]&&this[_0x4d7733(0x5d9)][_0x4d7733(0x6cc)]()[0x0][_0x4d7733(0xa29)]?this[_0x4d7733(0x250)][_0x4d7733(0x6cc)]()[0x0]['enabled']=!0x0:this['mediaStream'][_0x4d7733(0x6cc)]()[0x0][_0x4d7733(0xa29)]=!0x1,0x0!==this['clientStream']['getAudioTracks']()[_0x4d7733(0xa5f)]&&this[_0x4d7733(0x5d9)]['getAudioTracks']()[0x0][_0x4d7733(0xa29)]?this['mediaStream'][_0x4d7733(0x88b)]()[0x0][_0x4d7733(0xa29)]=!0x0:this[_0x4d7733(0x250)][_0x4d7733(0x88b)]()[0x0][_0x4d7733(0xa29)]=!0x1,this['context'][_0x4d7733(0x18e)](this[_0x4d7733(0x4de)],0x0,0x0)):this[_0x4d7733(0x4b2)][_0x4d7733(0x6ae)](0x0,0x0,this['canvas'][_0x4d7733(0x1d3)],this[_0x4d7733(0x2bf)]['height']);},0x3e8/_0x19591c);}['destroy'](){const _0x23f32c=_0x3fd00f;clearInterval(this[_0x23f32c(0x9b2)]),this[_0x23f32c(0x4de)]['remove'](),this[_0x23f32c(0x2bf)][_0x23f32c(0x9a7)](),this[_0x23f32c(0x651)]?.[_0x23f32c(0x7c5)](),this[_0x23f32c(0x89c)]['disconnect'](),this[_0x23f32c(0x250)]['getTracks']()[_0x23f32c(0x3e1)](_0x549912=>{const _0x3f00f9=_0x23f32c;_0x549912['stop'](),this['mediaStream'][_0x3f00f9(0x3d7)](_0x549912);}),super['destroy']();}[_0x3fd00f(0xaae)](_0x47d36f){const _0xa06568=_0x3fd00f,_0x5894cd=this[_0xa06568(0x86e)](_0x47d36f[_0xa06568(0x440)]);_0x5894cd&&this[_0xa06568(0x3d7)](_0x5894cd),_0xa06568(0x2d2)!==_0x47d36f['kind']?(_0xa06568(0x8ed)===_0x47d36f[_0xa06568(0x440)]&&this['addVideoTrack'](_0x47d36f),this[_0xa06568(0xacb)](_0x47d36f)):this['addAudioTrack'](_0x47d36f);}[_0x3fd00f(0x3d7)](_0x583356){const _0x847456=_0x3fd00f,_0x44702d=this['getTrackFromParam'](_0x583356);return _0x44702d&&(_0x847456(0x2d2)===_0x44702d[_0x847456(0x440)]&&(this[_0x847456(0x651)]?.[_0x847456(0x7c5)](),this[_0x847456(0x651)]=void 0x0),this[_0x847456(0x829)][_0x847456(0x7ae)](_0x44702d[_0x847456(0x440)])?.(),this[_0x847456(0x5d9)][_0x847456(0x3d7)](_0x44702d)),_0x44702d;}[_0x3fd00f(0x2eb)](_0x31b10d){const _0x1fa4d0=_0x3fd00f;this[_0x1fa4d0(0x3d7)](_0x31b10d[_0x1fa4d0(0x440)]),this[_0x1fa4d0(0xaae)](_0x31b10d);}['setTransformations'](_0x1ab2c0){const _0x4060d1=_0x3fd00f;this[_0x4060d1(0x7f4)]=_0x1ab2c0;}['getTrack'](_0x18480b){const _0x425b82=_0x3fd00f;return this[_0x425b82(0x5d9)][_0x425b82(0x171)]()[_0x425b82(0x78b)](_0x54dfc2=>_0x54dfc2[_0x425b82(0x440)]===_0x18480b)||null;}[_0x3fd00f(0x6e1)](_0x241868){const _0x4fb800=_0x3fd00f;return _0x4fb800(0x7fc)==typeof _0x241868?this[_0x4fb800(0x86e)](_0x241868):_0x241868;}['addAudioTrack'](_0x24d891){const _0x31c680=_0x3fd00f;_0x31c680(0x2ab)===this[_0x31c680(0x5d6)][_0x31c680(0x4e3)]&&this[_0x31c680(0x5d6)][_0x31c680(0x455)](),this[_0x31c680(0x5d9)]['addTrack'](_0x24d891),this[_0x31c680(0x651)]=this[_0x31c680(0x5d6)][_0x31c680(0x6c8)](this[_0x31c680(0x5d9)]),this[_0x31c680(0x651)][_0x31c680(0x79d)](this[_0x31c680(0x89c)]);}[_0x3fd00f(0x86c)](_0x129da7){const _0x5cb2ef=_0x3fd00f;this[_0x5cb2ef(0x5d9)][_0x5cb2ef(0xaae)](_0x129da7),this['sourceVideo']['load']();}}class _0xcd0897 extends _0x2809b5{}class _0xa5b9bf extends _0x31e81e{[_0x3fd00f(0x976)];[_0x3fd00f(0x9c0)];[_0x3fd00f(0x3ee)];[_0x3fd00f(0x34b)];['waitForArrayBufferSize'];[_0x3fd00f(0x314)];['unsubscribeHandler'];[_0x3fd00f(0x975)];[_0x3fd00f(0x7a7)]=new Map();[_0x3fd00f(0x9eb)]=new Map();[_0x3fd00f(0x7f3)]=new Map();[_0x3fd00f(0x431)]=new Map();['pendingFilesRename']=new Map();[_0x3fd00f(0x543)]=new Map();['objectStoreConnector'];[_0x3fd00f(0x847)]=_0x4767cf();[_0x3fd00f(0x51d)]=new Map();[_0x3fd00f(0x357)];[_0x3fd00f(0x9ad)]=0x0;[_0x3fd00f(0x663)]=0x0;[_0x3fd00f(0x3d8)]=!0x0;[_0x3fd00f(0x2c4)]=!0x0;[_0x3fd00f(0x7fa)]=0x0;[_0x3fd00f(0x88c)]=0x0;constructor(_0x3bffe8,_0x39dfdf,_0x13b367,_0x3f0f6f,_0x3ed878,_0x468719,_0x2bd13e,_0x3162d0){const _0x147d99=_0x3fd00f;if(_0x147d99(0x7fc)!=typeof _0x39dfdf)throw new _0x19abf5(_0x2c23d1[_0x147d99(0x3af)],_0x147d99(0x534));super(_0x3bffe8,_0x39dfdf),this[_0x147d99(0x976)]=_0x3bffe8,this[_0x147d99(0x9c0)]=_0x13b367,this[_0x147d99(0x3ee)]=_0x3f0f6f,this[_0x147d99(0x34b)]=_0x3ed878,this['waitForArrayBufferSize']=_0x2bd13e,this[_0x147d99(0x314)]=_0x3162d0;const _0x376062=_0x147d99(0xaea)+this['vendorId']+_0x147d99(0xaea)+this[_0x147d99(0x9c0)]+_0x147d99(0xaea)+_0x39dfdf;this['objectStoreConnector']=new _0x468719(_0x376062),this[_0x147d99(0x3d8)]=this[_0x147d99(0x314)]?.[_0x147d99(0x3d8)]??!0x0,this[_0x147d99(0x314)]?.['standalone']&&(this['syncContent']=!0x1),this['sendStats']();}[_0x3fd00f(0x4cb)](){const _0x217e67=_0x3fd00f;this[_0x217e67(0x8b5)]();}[_0x3fd00f(0x76c)](){const _0x78a96e=_0x3fd00f;return _0x548494[_0x78a96e(0x777)][_0x78a96e(0x20f)];}async[_0x3fd00f(0x239)](){const _0x1864f2=_0x3fd00f;this[_0x1864f2(0x2c4)]=!0x0;try{const _0x5fae9e=await this[_0x1864f2(0x697)][_0x1864f2(0x7ae)](_0x51a1b9),_0x315ec4=await _0x5fae9e[_0x1864f2(0x58c)]();this['lastTransactionId']=_0x315ec4;}catch(_0x2fdff2){}this[_0x1864f2(0x512)]=this['onMessage'](async(_0x140f72,_0x1ebd89)=>{const _0x1188ba=_0x1864f2;if(!(_0x1ebd89 instanceof File))try{if(_0x1ebd89[_0x1188ba(0x2af)]===_0x3d95f6['Request'])return void this['handleRequestPayload'](_0x1ebd89);this[_0x1188ba(0xa7e)](_0x1ebd89);}catch(_0x409810){if(_0x409810 instanceof _0x5d70cf)throw _0x409810;throw new _0x5d70cf(_0x5d70cf[_0x1188ba(0x765)][_0x1188ba(0x9c6)],{'payload':_0x1ebd89});}}),await this[_0x1864f2(0x215)](),this[_0x1864f2(0x3d8)]?await this['syncPendingFiles']():this[_0x1864f2(0x8e7)](),this[_0x1864f2(0x8b5)]();}[_0x3fd00f(0x407)](){const _0x1836a8=_0x3fd00f;this[_0x1836a8(0x512)]?.(),this[_0x1836a8(0x51d)][_0x1836a8(0x3e1)](_0x51b9e8=>_0x51b9e8()),this[_0x1836a8(0x51d)][_0x1836a8(0x7e7)](),clearTimeout(this[_0x1836a8(0x357)]),delete this[_0x1836a8(0x357)],super['destroy']();}[_0x3fd00f(0x883)](){const _0xa23890=_0x3fd00f;this[_0xa23890(0x5cb)]?.['publish']({'sourceId':_0x4856c9,'messageType':_0x519af0[_0xa23890(0x870)],'content':{'type':_0x347d3c[_0xa23890(0x791)],'label':this[_0xa23890(0x985)]}});}['subscribe'](_0x49f1ae,_0x4bf131){const _0xd4e30c=_0x3fd00f;if(this[_0xd4e30c(0x51d)]['has'](_0x49f1ae))throw new _0x19abf5(_0x2c23d1[_0xd4e30c(0x47c)],_0xd4e30c(0x640));this[_0xd4e30c(0x51d)]['set'](_0x49f1ae,this[_0xd4e30c(0x847)]['subscribe'](_0x4bf131)),this['isSyncing']||this['eventListener']['publish']({'event':_0x548494[_0xd4e30c(0xa63)][_0xd4e30c(0x454)],'payload':{'filesSynced':this[_0xd4e30c(0x7fa)]}});}[_0x3fd00f(0x35a)](_0x426750){const _0x5d1a5d=_0x3fd00f;this['listenerUnsubscribers']['get'](_0x426750)?.(),this[_0x5d1a5d(0x51d)]['delete'](_0x426750);}[_0x3fd00f(0x70e)](_0x1b5ff5){const _0x108620=_0x3fd00f;switch(_0x1b5ff5[_0x108620(0x876)]){case _0x548494[_0x108620(0x587)][_0x108620(0x831)]:return this['publishFile'](_0x1b5ff5[_0x108620(0xa0d)],_0x1b5ff5[_0x108620(0x4fe)],_0x1b5ff5[_0x108620(0x314)]);case _0x548494[_0x108620(0x587)][_0x108620(0xb02)]:return this[_0x108620(0x98d)](_0x1b5ff5['path']);case _0x548494['PayloadAction'][_0x108620(0x1ca)]:return this['publishMove'](_0x1b5ff5['path'],_0x1b5ff5['newPath']);default:throw new _0x19abf5(_0x2c23d1[_0x108620(0x6b9)],_0x108620(0x54e)+_0x1b5ff5);}}async['unpublish'](_0x57e4c7){const _0x1e3484=_0x3fd00f;try{const _0x42ff12=(0x0,_0x630e7c['v4'])(),_0x1bb412=this['lastTransactionId'],_0x19995e={'payloadType':_0x3d95f6[_0x1e3484(0x845)],'action':_0x115710[_0x1e3484(0x81a)],'id':_0x42ff12,'parentId':_0x1bb412,'path':_0x57e4c7};await this[_0x1e3484(0x722)](_0x19995e);const _0x505bf1=await this[_0x1e3484(0x9be)](_0x57e4c7);!0x0!==this[_0x1e3484(0x314)]?.[_0x1e3484(0x993)]&&await this[_0x1e3484(0x5b8)](_0x19995e),_0x404abe[_0x1e3484(0x729)](_0x5de0fb[_0x1e3484(0x727)],{'type':_0x1e3484(0x730),'label':this['label'],'nodeId':this[_0x1e3484(0x976)][_0x1e3484(0xb04)](),'nodeType':this[_0x1e3484(0x976)]['type'],'clusterId':this['clusterId'],'kind':_0x505bf1,'path':_0x57e4c7}),this[_0x1e3484(0x9ad)]+=0x1,this[_0x1e3484(0x8b5)]();}catch(_0x4d76e5){if(_0x4d76e5 instanceof _0x5d70cf)throw new _0x19abf5(_0x2c23d1[_0x1e3484(0x324)],_0x1e3484(0x8d3)+_0x57e4c7+_0x1e3484(0xac7));throw new _0x19abf5(_0x2c23d1[_0x1e3484(0x55e)],_0x1e3484(0x5d8)+_0x57e4c7);}}async['get'](_0x5a3f79,_0x4530f5){const _0x3f777d=_0x3fd00f;_0x404abe['logServiceEvent'](_0x5de0fb[_0x3f777d(0x727)],{'type':_0x3f777d(0x7ae),'label':this['label'],'nodeId':this[_0x3f777d(0x976)][_0x3f777d(0xb04)](),'nodeType':this[_0x3f777d(0x976)]['type'],'clusterId':this[_0x3f777d(0x9c0)],'path':_0x5a3f79}),this[_0x3f777d(0x663)]+=0x1,this[_0x3f777d(0x8b5)]();try{return await this['objectStoreConnector'][_0x3f777d(0x7ae)](_0x5a3f79,_0x4530f5);}catch(_0x148552){try{await this[_0x3f777d(0x697)][_0x3f777d(0x7ae)](_0x5a3f79+_0x190d13);}catch(_0x354463){throw new _0x19abf5(_0x2c23d1[_0x3f777d(0x55e)],_0x3f777d(0x556)+_0x5a3f79);}throw new _0x19abf5(_0x2c23d1[_0x3f777d(0x324)],_0x3f777d(0x9f4));}}async[_0x3fd00f(0x459)](_0x5d04f7,_0x4c49c3){const _0x4ee681=_0x3fd00f,{recursive:_0x2dc815=!0x1,includeSyncingFiles:_0x164777=!0x1}=_0x4c49c3??{};_0x404abe[_0x4ee681(0x729)](_0x5de0fb[_0x4ee681(0x727)],{'type':_0x4ee681(0x459),'label':this[_0x4ee681(0x985)],'nodeId':this[_0x4ee681(0x976)][_0x4ee681(0xb04)](),'nodeType':this[_0x4ee681(0x976)]['type'],'clusterId':this[_0x4ee681(0x9c0)],'path':_0x5d04f7}),this['reads']+=0x1,this[_0x4ee681(0x8b5)]();try{const _0x3a023f=await this[_0x4ee681(0x697)][_0x4ee681(0x459)](_0x5d04f7,_0x2dc815);return this[_0x4ee681(0x1cb)](_0x3a023f,{'recursive':_0x2dc815,'includeSyncingFiles':_0x164777});}catch(_0xb1f398){throw new _0x19abf5(_0x2c23d1[_0x4ee681(0x55e)],'Cannot\x20list\x20directory:\x20'+_0x5d04f7);}}[_0x3fd00f(0x947)](_0x43ef9f){const _0x4723d1=_0x3fd00f;this[_0x4723d1(0x88c)]+=0x1;for(const _0x3a26d5 of this[_0x4723d1(0x9eb)][_0x4723d1(0x16a)]())this[_0x4723d1(0x5b8)](_0x3a26d5,[_0x43ef9f]);}[_0x3fd00f(0x473)](_0x3a8198){const _0x41c7a7=_0x3fd00f;this[_0x41c7a7(0x88c)]-=0x1;const _0x161416=this[_0x41c7a7(0x7f3)][_0x41c7a7(0x7ae)](_0x3a8198);if(_0x161416){for(const [_0xfc8fe7,_0x3d520b]of _0x161416[_0x41c7a7(0x16a)]())this['sendFileRequestPayload'](_0xfc8fe7,_0x3d520b);this['pendingFilesSyncing'][_0x41c7a7(0x92b)](_0x3a8198);}}async[_0x3fd00f(0x4d1)](_0x27b808='/'){const _0x573217=_0x3fd00f;try{return await this[_0x573217(0x697)][_0x573217(0x56a)](_0x27b808);}catch(_0x2e582b){if(_0x2e582b instanceof Error&&_0x2e582b[_0x573217(0x382)][_0x573217(0x7ac)](_0x573217(0x608)))return 0x0;throw new _0x19abf5(_0x2c23d1[_0x573217(0x55e)],_0x573217(0x3c9)+_0x27b808);}}[_0x3fd00f(0x8e7)](){const _0x1d6d7a=_0x3fd00f;this[_0x1d6d7a(0x2c4)]&&(this[_0x1d6d7a(0x2c4)]=!0x1,this[_0x1d6d7a(0x847)]['publish']({'event':_0x548494['StorageEventType'][_0x1d6d7a(0x454)],'payload':{'filesSynced':this[_0x1d6d7a(0x7fa)]}}));}async[_0x3fd00f(0x1cb)](_0xa2f9fd,{includeSyncingFiles:_0x2847aa=!0x1}){const _0x45e0f9=_0x3fd00f,_0x5adbc7=[];for(const _0xe64e02 of _0xa2f9fd)if(_0xe64e02[_0x45e0f9(0x440)]!==_0x548494[_0x45e0f9(0x19b)]['Folder']){if(_0xe64e02[_0x45e0f9(0xa87)]!==_0x51a1b9){if(_0xe64e02[_0x45e0f9(0xa87)][_0x45e0f9(0x5a8)](_0x190d13)){if(!_0x2847aa)continue;const _0x5766d0=_0xe64e02;if(_0x5766d0[_0x45e0f9(0xa87)]=_0x5766d0[_0x45e0f9(0xa87)]['replace'](_0x190d13,''),_0x5766d0[_0x45e0f9(0x5f6)]=_0x5766d0[_0x45e0f9(0x5f6)][_0x45e0f9(0x36b)](_0x190d13,''),await this['syncedFileExists'](_0x5766d0['pathName'])){_0xa2f9fd[_0x45e0f9(0x78b)](_0x246a94=>_0x246a94[_0x45e0f9(0x5f6)]===_0x5766d0[_0x45e0f9(0x5f6)])[_0x45e0f9(0x2f5)]=_0x548494[_0x45e0f9(0x2fa)][_0x45e0f9(0x97e)];continue;}_0x5766d0[_0x45e0f9(0x2f5)]=_0x548494[_0x45e0f9(0x2fa)][_0x45e0f9(0x2dc)];}_0x5adbc7[_0x45e0f9(0x639)](_0xe64e02);}}else _0xe64e02[_0x45e0f9(0x4c9)]=await this['processList'](_0xe64e02[_0x45e0f9(0x4c9)]??[],{'includeSyncingFiles':_0x2847aa}),_0x5adbc7[_0x45e0f9(0x639)](_0xe64e02);return _0x5adbc7;}async['publishFile'](_0x217775,_0x20527b,_0x5e1c3f){const _0x1dfaaa=_0x3fd00f;try{const _0x44a80c=(0x0,_0x630e7c['v4'])(),_0x5a2cc9=await _0x1ad2d9(_0x217775),_0x315912=_0x1e20d1(_0x20527b??'/',_0x217775[_0x1dfaaa(0xa87)]);let _0x334c4c=!0x0;const _0x4d3d00={'payloadType':_0x3d95f6['Transaction'],'action':_0x115710['FileWrite'],'id':_0x44a80c,'parentId':this[_0x1dfaaa(0x975)],'answererId':this['localNode'][_0x1dfaaa(0xb04)](),'name':_0x217775[_0x1dfaaa(0xa87)],'type':_0x217775['type'],'path':_0x20527b??'/','skipEncryption':_0x5e1c3f?.[_0x1dfaaa(0x7ab)]??!0x1,'checksum':_0x5a2cc9};try{if(!_0x5e1c3f?.[_0x1dfaaa(0x7ff)])throw new Error(_0x1dfaaa(0x422));const _0x3d8393=_0x315912+_0x190d13;await this[_0x1dfaaa(0x697)][_0x1dfaaa(0x7ae)](_0x3d8393),_0x334c4c=!0x1,await this['objectStoreConnector'][_0x1dfaaa(0x9be)](_0x3d8393),this[_0x1dfaaa(0x9eb)][_0x1dfaaa(0x92b)](_0x315912);}catch(_0x4c26c8){await this[_0x1dfaaa(0x722)](_0x4d3d00);}if(this[_0x1dfaaa(0x3d8)]||this[_0x1dfaaa(0x314)]?.['standalone']?await this[_0x1dfaaa(0x205)](_0x217775,_0x20527b,_0x5e1c3f):await this[_0x1dfaaa(0x77d)](_0x217775['name'],_0x20527b??'/',{'checksum':_0x5a2cc9,'skipEncryption':_0x5e1c3f?.[_0x1dfaaa(0x7ab)]??!0x1}),this[_0x1dfaaa(0x543)][_0x1dfaaa(0x68d)](_0x315912)){const [_0x45e561,_0x4461f3]=this['fileSendingMap'][_0x1dfaaa(0x7ae)](_0x315912);this['fileSendingMap'][_0x1dfaaa(0x1f5)](_0x315912,[!0x0,_0x4461f3]);try{await _0x4461f3;}catch(_0x449532){}this[_0x1dfaaa(0x543)]['delete'](_0x315912);}_0x334c4c&&this['nodesConnected']>0x0&&!0x0!==this[_0x1dfaaa(0x314)]?.[_0x1dfaaa(0x993)]&&await this[_0x1dfaaa(0x999)](_0x217775,_0x4d3d00),_0x404abe[_0x1dfaaa(0x729)](_0x5de0fb[_0x1dfaaa(0x727)],{'type':_0x1dfaaa(0x70e),'label':this[_0x1dfaaa(0x985)],'nodeId':this[_0x1dfaaa(0x976)]['getId'](),'nodeType':this[_0x1dfaaa(0x976)][_0x1dfaaa(0x705)],'clusterId':this[_0x1dfaaa(0x9c0)],'kind':_0x548494[_0x1dfaaa(0x19b)]['File'],'path':_0x20527b,'fileName':_0x217775['name'],'fileType':_0x217775[_0x1dfaaa(0x705)],'size':_0x217775[_0x1dfaaa(0x66a)]}),this[_0x1dfaaa(0x9ad)]+=0x1,this[_0x1dfaaa(0x8b5)]();}catch(_0x429770){if(_0x429770 instanceof _0x5d70cf)throw new _0x19abf5(_0x2c23d1[_0x1dfaaa(0x324)],_0x1dfaaa(0x9f4));throw new _0x19abf5(_0x2c23d1[_0x1dfaaa(0x55e)],_0x1dfaaa(0x28d)+_0x20527b+(_0x20527b?.[_0x1dfaaa(0x5a8)]('/')?'':'/')+_0x217775[_0x1dfaaa(0xa87)]);}}async[_0x3fd00f(0x98d)](_0x1bbef5){const _0x404fde=_0x3fd00f;try{const _0x112cfb=(0x0,_0x630e7c['v4'])(),_0x3d3485=this['lastTransactionId'],_0x1eac5d={'payloadType':_0x3d95f6[_0x404fde(0x845)],'action':_0x115710['FolderCreate'],'id':_0x112cfb,'parentId':_0x3d3485,'path':_0x1bbef5};await this[_0x404fde(0x722)](_0x1eac5d),await this[_0x404fde(0x697)]['createFolder'](_0x1bbef5),!0x0!==this[_0x404fde(0x314)]?.[_0x404fde(0x993)]&&await this[_0x404fde(0x5b8)](_0x1eac5d),_0x404abe[_0x404fde(0x729)](_0x5de0fb['ObjectStorage'],{'type':_0x404fde(0x70e),'label':this[_0x404fde(0x985)],'nodeId':this[_0x404fde(0x976)][_0x404fde(0xb04)](),'nodeType':this[_0x404fde(0x976)][_0x404fde(0x705)],'clusterId':this[_0x404fde(0x9c0)],'kind':_0x548494['ObjectKind'][_0x404fde(0xb02)],'path':_0x1bbef5}),this[_0x404fde(0x9ad)]+=0x1,this[_0x404fde(0x8b5)]();}catch(_0x4e226b){if(_0x4e226b instanceof _0x5d70cf)throw new _0x19abf5(_0x2c23d1[_0x404fde(0x324)],_0x404fde(0x9f4));throw new _0x19abf5(_0x2c23d1[_0x404fde(0x55e)],_0x404fde(0x8d4)+_0x1bbef5);}}async[_0x3fd00f(0x78c)](_0x453256,_0x12e70e){const _0x211df2=_0x3fd00f;try{const _0x3cb5e3=(0x0,_0x630e7c['v4'])(),_0x274b2c=this['lastTransactionId'],_0x51b51d={'payloadType':_0x3d95f6[_0x211df2(0x845)],'action':_0x115710[_0x211df2(0x1ca)],'id':_0x3cb5e3,'parentId':_0x274b2c,'path':_0x453256,'newPath':_0x12e70e};await this[_0x211df2(0x722)](_0x51b51d);const _0x266d1f=await this[_0x211df2(0x866)](_0x453256,_0x12e70e);!0x0!==this[_0x211df2(0x314)]?.['standalone']&&await this['send'](_0x51b51d),_0x404abe[_0x211df2(0x729)](_0x5de0fb[_0x211df2(0x727)],{'type':'move','label':this[_0x211df2(0x985)],'nodeId':this[_0x211df2(0x976)]['getId'](),'nodeType':this[_0x211df2(0x976)][_0x211df2(0x705)],'clusterId':this[_0x211df2(0x9c0)],'kind':_0x266d1f,'path':_0x453256,'newPath':_0x12e70e}),this['writes']+=0x1,this[_0x211df2(0x8b5)]();}catch(_0x5c705e){if(_0x5c705e instanceof _0x5d70cf)throw new _0x19abf5(_0x2c23d1[_0x211df2(0x324)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x19abf5(_0x2c23d1['ObjectStoreInvalidPath'],'Cannot\x20publish\x20move\x20operation:\x20'+_0x453256);}}async['handleTransactionPayload'](_0x20b9ea,_0x3008de=!0x1){const _0x123503=_0x3fd00f;if(this[_0x123503(0x975)]&&_0x20b9ea['parentId']!==this['lastTransactionId']&&_0x20b9ea['id']!==this[_0x123503(0x975)]){if(!_0x20b9ea[_0x123503(0x599)])throw new _0x5d70cf(_0x5d70cf['codes'][_0x123503(0x9c6)]);this[_0x123503(0x7a7)]['set'](_0x20b9ea['parentId'],_0x20b9ea);}else{try{await this[_0x123503(0xaa2)](_0x20b9ea,_0x3008de);}catch(_0x7c7587){}await this[_0x123503(0x3f9)](_0x20b9ea['id']),await this[_0x123503(0x759)](_0x20b9ea['id'],_0x3008de);}}async[_0x3fd00f(0xaa2)](_0x11300d,_0x297bd7=!0x1){const _0x30ac41=_0x3fd00f;switch(_0x11300d[_0x30ac41(0x876)]){case _0x115710['FileWrite']:await this[_0x30ac41(0x7ca)](_0x11300d);break;case _0x115710[_0x30ac41(0x766)]:await this[_0x30ac41(0x68e)](_0x11300d);break;case _0x115710['Move']:await this[_0x30ac41(0x5b2)](_0x11300d,_0x297bd7);break;case _0x115710[_0x30ac41(0x81a)]:await this['handleObjectDelete'](_0x11300d,_0x297bd7);break;default:throw new _0x5d70cf(_0x5d70cf['codes'][_0x30ac41(0x9c6)],{'payload':_0x11300d});}}async[_0x3fd00f(0x759)](_0x3093b8,_0x491933=!0x1){const _0x39ecbc=_0x3fd00f;if(this[_0x39ecbc(0x7a7)][_0x39ecbc(0x68d)](_0x3093b8)){const _0x432c7b=this[_0x39ecbc(0x7a7)][_0x39ecbc(0x7ae)](_0x3093b8);this[_0x39ecbc(0x7a7)][_0x39ecbc(0x92b)](_0x3093b8),await this[_0x39ecbc(0xa7e)](_0x432c7b,_0x491933);}}async['handleRequestPayload'](_0x22a78f){const _0x365a0d=_0x3fd00f;switch(_0x22a78f[_0x365a0d(0x876)]){case _0x115710[_0x365a0d(0x254)]:return this['handleFileRequest'](_0x22a78f);case _0x115710[_0x365a0d(0x32e)]:return this[_0x365a0d(0x5a5)](_0x22a78f);case _0x115710[_0x365a0d(0x8a0)]:return this[_0x365a0d(0x844)](_0x22a78f);case _0x115710[_0x365a0d(0x32f)]:return this[_0x365a0d(0x7ca)](_0x22a78f);default:throw new _0x5d70cf(_0x5d70cf[_0x365a0d(0x765)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x22a78f});}}async['handleFileWrite'](_0x132487,_0x3a1ac0=0x0){const _0x25938c=_0x3fd00f,_0x39af7a=_0x1e20d1(_0x132487[_0x25938c(0x4fe)],_0x132487[_0x25938c(0xa87)]);if(!_0x132487[_0x25938c(0xa83)]||void 0x0===_0x132487[_0x25938c(0x9f9)]||!_0x132487[_0x25938c(0x694)])return this[_0x25938c(0xafc)][_0x25938c(0x92b)](_0x39af7a),void await this['createPendingFileWrite'](_0x132487[_0x25938c(0xa87)],_0x132487[_0x25938c(0x4fe)],{'checksum':_0x132487[_0x25938c(0x5bf)],'skipEncryption':_0x132487['skipEncryption']});if(this[_0x25938c(0xafc)][_0x25938c(0x68d)](_0x39af7a)){const _0x2a7c9b=this[_0x25938c(0xafc)][_0x25938c(0x7ae)](_0x39af7a);_0x2a7c9b[_0x25938c(0x5bf)]!==_0x132487[_0x25938c(0x5bf)]&&(_0x2a7c9b[_0x25938c(0x467)]?.[_0x25938c(0x883)](),this[_0x25938c(0xafc)][_0x25938c(0x92b)](_0x39af7a));}if(!this[_0x25938c(0xafc)]['has'](_0x39af7a)){try{await this['objectStoreConnector'][_0x25938c(0x9be)](_0x39af7a);}catch(_0x5e63ce){}try{const _0x129358=this[_0x25938c(0x3d8)]?await this[_0x25938c(0x697)]['createWritableStream'](_0x39af7a,{'skipEncryption':_0x132487[_0x25938c(0x7ab)]}):void 0x0,_0x4028fc={'chunksReceived':_0x132487[_0x25938c(0x54b)]??0x0,'bytesReceived':0x0,'stream':_0x129358,'checksum':_0x132487[_0x25938c(0x5bf)]};this['fileChunks']['set'](_0x39af7a,_0x4028fc),await this[_0x25938c(0x77d)](_0x132487[_0x25938c(0xa87)],_0x132487['path'],{'checksum':_0x132487['checksum'],'skipEncryption':_0x132487[_0x25938c(0x7ab)]});}catch(_0x3601ed){}}const _0xe7f71a=this[_0x25938c(0xafc)][_0x25938c(0x7ae)](_0x39af7a);if(_0x132487['checksum']!==_0xe7f71a[_0x25938c(0x5bf)])return;if(this['setPendingFileSyncingPayload'](_0x132487,_0x39af7a),this[_0x25938c(0x3d8)]){if(!_0xe7f71a['stream'])throw new _0x5d70cf(_0x5d70cf[_0x25938c(0x765)][_0x25938c(0x9c6)],{'message':_0x25938c(0x743)});let _0xee3991=_0xe7f71a[_0x25938c(0x67a)];if(_0x132487[_0x25938c(0x9f9)]!==_0xee3991){if(_0xee3991>_0x132487[_0x25938c(0x9f9)])return;const _0xa04fb7=0x1000;if(_0x132487['index']>_0xee3991+_0xa04fb7)return;if(_0xe7f71a[_0x25938c(0x2db)]||(_0xe7f71a[_0x25938c(0x2db)]=[]),_0xe7f71a[_0x25938c(0x2db)][_0x25938c(0xa5f)]>0x4000)throw this[_0x25938c(0xafc)]['delete'](_0x39af7a),new _0x5d70cf(_0x5d70cf[_0x25938c(0x765)]['ObjectStoreInvalidSyncMessage'],{'message':_0x25938c(0x8c1)});return void _0xe7f71a[_0x25938c(0x2db)][_0x25938c(0x639)](_0x132487);}try{_0xe7f71a[_0x25938c(0x67a)]+=0x1,_0xe7f71a['bytesReceived']+=_0x132487['data']['byteLength'],await _0xe7f71a[_0x25938c(0x467)][_0x25938c(0x5e6)](_0x132487[_0x25938c(0xa83)]);}catch(_0x188358){if(console[_0x25938c(0x805)]('Error\x20writing\x20chunk\x20to\x20stream',_0x188358),_0x3a1ac0>0x3)throw this[_0x25938c(0xafc)]['delete'](_0x39af7a),console[_0x25938c(0x805)](_0x25938c(0x968),_0x188358),new _0x5d70cf(_0x5d70cf[_0x25938c(0x765)][_0x25938c(0x9c6)],{'message':_0x25938c(0x968)});return this[_0x25938c(0x7ca)](_0x132487,_0x3a1ac0+0x1);}}try{await this[_0x25938c(0xa74)](_0xe7f71a,_0x132487[_0x25938c(0x9f9)]+0x1);}catch(_0x3929b9){throw this[_0x25938c(0xafc)][_0x25938c(0x92b)](_0x39af7a),_0x3929b9;}if(this['fileChunks'][_0x25938c(0x1f5)](_0x39af7a,_0xe7f71a),_0xe7f71a['chunksReceived']<_0x132487[_0x25938c(0x694)])return;await this['deleteFileChunks'](_0x39af7a),this[_0x25938c(0x3d8)]&&(await this[_0x25938c(0xaf9)](_0x132487),_0x404abe[_0x25938c(0x729)](_0x5de0fb[_0x25938c(0x727)],{'type':'sync','label':this['label'],'nodeId':this['localNode'][_0x25938c(0xb04)](),'nodeType':this[_0x25938c(0x976)][_0x25938c(0x705)],'clusterId':this[_0x25938c(0x9c0)],'kind':_0x548494['ObjectKind'][_0x25938c(0x831)],'path':_0x132487[_0x25938c(0x4fe)],'fileName':_0x132487['name'],'fileType':_0x132487[_0x25938c(0x705)],'size':_0xe7f71a[_0x25938c(0x9d3)]}));const _0x535314=this[_0x25938c(0x431)][_0x25938c(0x7ae)](_0x132487['path'])??[];for(const _0x2fce59 of _0x535314)await this['processTransactionPayload'](_0x2fce59);this[_0x25938c(0x431)][_0x25938c(0x92b)](_0x132487[_0x25938c(0x4fe)]),this[_0x25938c(0x847)][_0x25938c(0x70e)]({'event':_0x548494[_0x25938c(0xa63)][_0x25938c(0x6fe)],'payload':{'file':{'kind':_0x548494[_0x25938c(0x19b)][_0x25938c(0x831)],'path':_0x132487[_0x25938c(0x4fe)],'type':_0x132487[_0x25938c(0x705)],'size':_0xe7f71a['bytesReceived'],'name':_0x132487[_0x25938c(0xa87)],'pathName':_0x39af7a,'status':this[_0x25938c(0x3d8)]?_0x548494['FileStatus'][_0x25938c(0x50f)]:_0x548494[_0x25938c(0x2fa)][_0x25938c(0x2dc)]}}}),this[_0x25938c(0x8b5)]();}async[_0x3fd00f(0xa74)](_0x1a984e,_0x3d60d2){const _0x15bfad=_0x3fd00f,_0x35a63d=_0x1a984e[_0x15bfad(0x467)];let _0x16d9ac=0x0;for(;_0x1a984e[_0x15bfad(0x2db)]&&_0x1a984e[_0x15bfad(0x2db)][_0x15bfad(0xa5f)]>0x0;){const _0x473cb3=_0x1a984e[_0x15bfad(0x2db)][_0x15bfad(0x78b)](_0x215320=>_0x215320['index']===_0x3d60d2+0x1);if(!_0x473cb3)break;_0x1a984e['bufferedChunks']=_0x1a984e[_0x15bfad(0x2db)]['filter'](_0x16020c=>_0x16020c[_0x15bfad(0x9f9)]!==_0x3d60d2+0x1);try{await _0x35a63d[_0x15bfad(0x5e6)](_0x473cb3[_0x15bfad(0xa83)]),_0x3d60d2++;}catch(_0x101177){if(console[_0x15bfad(0x805)](_0x15bfad(0x371),_0x101177),_0x16d9ac>0x3)throw console[_0x15bfad(0x805)]('Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream',_0x101177),new _0x5d70cf(_0x5d70cf[_0x15bfad(0x765)][_0x15bfad(0x9c6)],{'message':_0x15bfad(0x2c2)});_0x16d9ac++;continue;}_0x1a984e[_0x15bfad(0x67a)]+=0x1,_0x1a984e[_0x15bfad(0x9d3)]+=_0x473cb3[_0x15bfad(0xa83)][_0x15bfad(0x97f)];}}async[_0x3fd00f(0x68e)](_0x402824){const _0x1fc8a8=_0x3fd00f;await this['objectStoreConnector'][_0x1fc8a8(0xa42)](_0x402824[_0x1fc8a8(0x4fe)]);const [_0x401f28,_0x2b83c3]=_0x53ada2(_0x402824[_0x1fc8a8(0x4fe)]);this[_0x1fc8a8(0x847)][_0x1fc8a8(0x70e)]({'event':_0x548494[_0x1fc8a8(0xa63)][_0x1fc8a8(0x766)],'payload':{'folder':{'kind':_0x548494[_0x1fc8a8(0x19b)][_0x1fc8a8(0xb02)],'name':_0x2b83c3,'path':_0x401f28,'pathName':_0x402824['path']}}});}async['handleObjectDelete'](_0x1fa32b,_0x82e7fd=!0x1){const _0x4965c3=_0x3fd00f;if(!_0x82e7fd&&!this[_0x4965c3(0x71b)](_0x1fa32b))return;const _0x4366d8=await this['deleteObject'](_0x1fa32b['path']),[_0x53ea21,_0x596344]=_0x53ada2(_0x1fa32b[_0x4965c3(0x4fe)]);this[_0x4965c3(0x847)][_0x4965c3(0x70e)]({'event':_0x4366d8===_0x548494[_0x4965c3(0x19b)][_0x4965c3(0xb02)]?_0x548494[_0x4965c3(0xa63)][_0x4965c3(0x2a1)]:_0x548494[_0x4965c3(0xa63)][_0x4965c3(0x3db)],'payload':{'name':_0x596344,'path':_0x53ea21,'pathName':_0x1fa32b['path']}}),this['sendStats']();}async[_0x3fd00f(0x5b2)](_0x34df53,_0x46b170=!0x1){const _0x3c4a23=_0x3fd00f;if(!_0x46b170&&!this[_0x3c4a23(0x71b)](_0x34df53))return this[_0x3c4a23(0x835)][_0x3c4a23(0x1f5)](_0x34df53[_0x3c4a23(0x815)],this[_0x3c4a23(0x835)][_0x3c4a23(0x7ae)](_0x34df53['path'])??_0x34df53['path']),void this[_0x3c4a23(0x835)]['delete'](_0x34df53[_0x3c4a23(0x4fe)]);this[_0x3c4a23(0x835)][_0x3c4a23(0x92b)](_0x34df53['path']);const _0x565d39=await this[_0x3c4a23(0x697)]['moveObject'](_0x34df53[_0x3c4a23(0x4fe)],_0x34df53[_0x3c4a23(0x815)]),[_0x365518,_0x4d7aca]=_0x53ada2(_0x34df53[_0x3c4a23(0x4fe)]),[_0x2fe595,_0x505faf]=_0x53ada2(_0x34df53[_0x3c4a23(0x815)]);this[_0x3c4a23(0x847)][_0x3c4a23(0x70e)]({'event':_0x565d39===_0x548494['ObjectKind'][_0x3c4a23(0xb02)]?_0x548494[_0x3c4a23(0xa63)][_0x3c4a23(0x3ed)]:_0x548494['StorageEventType'][_0x3c4a23(0x878)],'payload':{'name':_0x505faf,'path':_0x2fe595,'pathName':_0x34df53['newPath'],'oldName':_0x4d7aca,'oldPath':_0x365518,'oldPathName':_0x34df53[_0x3c4a23(0x4fe)]}}),this[_0x3c4a23(0x8b5)]();}['shouldProcessTransaction'](_0xe8a1d0){const _0x464471=_0x3fd00f,_0x3ab533=this[_0x464471(0x835)]['get'](_0xe8a1d0[_0x464471(0x4fe)])??_0xe8a1d0[_0x464471(0x4fe)];let _0x502628=!0x1;for(const _0x5ec4b8 of this['fileChunks']['keys']())if(_0x5ec4b8[_0x464471(0x294)](_0x3ab533)){const _0x2eaadd=this[_0x464471(0x431)][_0x464471(0x7ae)](_0x5ec4b8)??[];_0x2eaadd['push'](_0xe8a1d0),this['pendingFilesTransactions'][_0x464471(0x1f5)](_0x5ec4b8,_0x2eaadd),_0x502628=!0x0;}return!_0x502628;}async[_0x3fd00f(0x722)](_0x32a06a){const _0x57fdd8=_0x3fd00f;if(!this[_0x57fdd8(0x314)]?.[_0x57fdd8(0x993)]){if(!_0x32a06a['id'])throw new _0x5d70cf(_0x5d70cf[_0x57fdd8(0x765)][_0x57fdd8(0x9c6)],{'message':_0x57fdd8(0x5f2)});if(_0x32a06a[_0x57fdd8(0x599)]!==this[_0x57fdd8(0x975)])throw new _0x5d70cf(_0x5d70cf['codes'][_0x57fdd8(0xa6b)]);await this[_0x57fdd8(0x34b)]['writeTransaction'](_0x32a06a,this[_0x57fdd8(0x985)]),await this['updateLastTransactionId'](_0x32a06a['id']);}}async['updateLastTransactionId'](_0x437fb6){const _0x551867=_0x3fd00f;this[_0x551867(0x975)]=_0x437fb6;const _0x494f24=new File([new Blob([this[_0x551867(0x975)]])],_0x51a1b9,{'type':_0x551867(0x51e)});await this['writeFile'](_0x494f24,'/');}async['handleFileRequest'](_0x48ab4d){const _0xbf09ab=_0x3fd00f;try{const _0x34e9e7=await this[_0xbf09ab(0x7ae)](_0x48ab4d[_0xbf09ab(0x4fe)]+'/'+_0x48ab4d[_0xbf09ab(0xa87)],{'skipEncryption':_0x48ab4d[_0xbf09ab(0x7ab)]}),_0x5853e4=await _0x1ad2d9(_0x34e9e7);if(''!==_0x48ab4d[_0xbf09ab(0x5bf)]&&_0x5853e4!==_0x48ab4d[_0xbf09ab(0x5bf)])return;_0x48ab4d[_0xbf09ab(0x2a4)]=this['localNode'][_0xbf09ab(0xb04)](),_0x48ab4d[_0xbf09ab(0x876)]=_0x115710[_0xbf09ab(0x32e)],await this[_0xbf09ab(0x5b8)](_0x48ab4d,[_0x48ab4d['sourceId']]);}catch(_0x911082){}}async[_0x3fd00f(0x5a5)](_0x22dd96){const _0x27478b=_0x3fd00f,_0x57c638=_0x1e20d1(_0x22dd96['path'],_0x22dd96[_0x27478b(0xa87)]);if(!this[_0x27478b(0x9eb)][_0x27478b(0x68d)](_0x57c638))return;const _0x2f312c=this[_0x27478b(0x9eb)][_0x27478b(0x7ae)](_0x57c638);_0x2f312c[_0x27478b(0x876)]=_0x115710[_0x27478b(0x8a0)];const _0x1a059e=_0x22dd96['answererId'];if(!_0x1a059e)throw new _0x5d70cf(_0x5d70cf[_0x27478b(0x765)][_0x27478b(0x9c6)],{'message':_0x27478b(0x6ba)});if(this[_0x27478b(0x9eb)][_0x27478b(0x92b)](_0x57c638),this['pendingFilesSyncing'][_0x27478b(0x68d)](_0x1a059e)||this[_0x27478b(0x7f3)][_0x27478b(0x1f5)](_0x1a059e,new Map()),this[_0x27478b(0x7f3)]['get'](_0x1a059e)[_0x27478b(0x1f5)](_0x57c638,[_0x2f312c,this[_0x27478b(0x194)](_0x1a059e,_0x57c638)]),_0x2f312c[_0x27478b(0x2a4)]=_0x1a059e,_0x2f312c['startIndex']=this[_0x27478b(0xafc)]['get'](_0x57c638)?.[_0x27478b(0x67a)]??0x0,0x0===_0x2f312c[_0x27478b(0x54b)])try{const [_0xbb0cbe,_0x56f315]=await this[_0x27478b(0x68c)](_0x22dd96[_0x27478b(0xa87)],_0x22dd96[_0x27478b(0x4fe)],_0x22dd96[_0x27478b(0x5bf)]);_0xbb0cbe&&(_0x2f312c['startIndex']=_0x56f315);}catch(_0x4a6142){}this[_0x27478b(0x5b8)](_0x2f312c,[_0x1a059e]);}async[_0x3fd00f(0x844)](_0x2d3176){const _0x42e4c7=_0x3fd00f,_0x5dc0a0=_0x1e20d1(_0x2d3176[_0x42e4c7(0x4fe)],_0x2d3176[_0x42e4c7(0xa87)]),_0x4489bc=await this[_0x42e4c7(0x7ae)](_0x5dc0a0,{'skipEncryption':_0x2d3176['skipEncryption']}),_0x4c2600={..._0x2d3176,'answererId':this[_0x42e4c7(0x976)]['getId'](),'action':_0x115710['RequestFileWrite'],'startIndex':_0x2d3176[_0x42e4c7(0x54b)]??0x0};await this[_0x42e4c7(0x999)](_0x4489bc,_0x4c2600,[_0x2d3176[_0x42e4c7(0x42a)]]);}async[_0x3fd00f(0x999)](_0x29af68,_0x32c0dc,_0x1ed633){let _0x233797,_0x4608a1;const _0x180c41=new Promise(async(_0xb86c97,_0x3159f8)=>{_0x233797=_0xb86c97,_0x4608a1=_0x3159f8;});return((async()=>{const _0x3a3863=a0_0x38ff,_0x4abab6=Math[_0x3a3863(0x6fc)](_0x29af68[_0x3a3863(0x66a)]/_0x19db64);let _0x2cffd9=_0x32c0dc['startIndex']??0x0;const _0x485fcd=_0x1e20d1(_0x32c0dc['path'],_0x32c0dc[_0x3a3863(0xa87)]);this[_0x3a3863(0x543)][_0x3a3863(0x1f5)](_0x485fcd,[!0x1,_0x180c41]);for await(const _0x4e4511 of async function*(_0x1c5f3a,_0x169f98=0x0,_0x4a2505){for await(const _0x28e1e4 of _0x412317(_0x1c5f3a,_0x169f98,_0x4a2505))yield _0x28e1e4;}(_0x29af68,_0x2cffd9,this[_0x3a3863(0x21c)])){const [_0x4bcf44]=this[_0x3a3863(0x543)][_0x3a3863(0x7ae)](_0x485fcd)??[];if(_0x4bcf44)return this[_0x3a3863(0x543)][_0x3a3863(0x92b)](_0x485fcd),void _0x4608a1(new Error(_0x3a3863(0x52b)));if(this['pendingFilesTransactions'][_0x3a3863(0x68d)](_0x485fcd)){const _0x3c9a76=this[_0x3a3863(0x431)]['get'](_0x485fcd);for(const _0x406af2 of _0x3c9a76)if(_0x406af2[_0x3a3863(0x876)]===_0x115710[_0x3a3863(0x6fe)]||_0x406af2[_0x3a3863(0x876)]===_0x115710['Delete'])return;}const _0xec67e1={..._0x32c0dc,'type':_0x29af68['type'],'data':_0x4e4511,'index':_0x2cffd9,'total':_0x4abab6};this[_0x3a3863(0x5b8)](_0xec67e1,_0x1ed633),_0x2cffd9++;}const _0x2fd94c=setInterval(async()=>{await this['waitForArrayBufferSize']()>0x0||(clearInterval(_0x2fd94c),_0x233797());});this[_0x3a3863(0x543)][_0x3a3863(0x92b)](_0x485fcd);})()),_0x180c41;}async['deletePendingFile'](_0x2e2c96){const _0x327475=_0x3fd00f;try{const _0x594dd8=_0x1e20d1(_0x2e2c96[_0x327475(0x4fe)],_0x2e2c96['name']),_0x1610ca=_0x594dd8+_0x190d13;await this[_0x327475(0x9be)](_0x1610ca);const [,_0x28119b]=this['pendingFilesSyncing'][_0x327475(0x7ae)](_0x2e2c96[_0x327475(0x2a4)])?.['get'](_0x594dd8)??[];_0x28119b&&(clearTimeout(_0x28119b),this[_0x327475(0x7f3)]['get'](_0x2e2c96[_0x327475(0x2a4)])[_0x327475(0x92b)](_0x594dd8));}catch(_0x353372){}0x0===this[_0x327475(0x7f3)][_0x327475(0x7ae)](_0x2e2c96[_0x327475(0x2a4)])?.[_0x327475(0x66a)]&&this[_0x327475(0x7f3)]['delete'](_0x2e2c96[_0x327475(0x2a4)]),0x0===this[_0x327475(0x7f3)][_0x327475(0x66a)]&&0x0===this[_0x327475(0x9eb)][_0x327475(0x66a)]&&this[_0x327475(0x8e7)]();}async[_0x3fd00f(0x215)](){const _0x45a06c=_0x3fd00f;try{const _0x43b4e3=await this[_0x45a06c(0x34b)][_0x45a06c(0xa00)](this['label'],this['lastTransactionId']);for(const _0x4107f5 of _0x43b4e3)await this[_0x45a06c(0xa7e)](_0x4107f5,!0x0);}catch(_0xefcbbf){if(_0xefcbbf instanceof _0x5d70cf&&_0xefcbbf[_0x45a06c(0x315)]===_0x5d70cf[_0x45a06c(0x765)][_0x45a06c(0x582)]){await this[_0x45a06c(0x697)][_0x45a06c(0x9be)](_0x51a1b9),delete this[_0x45a06c(0x975)];try{const _0x1433e7=await this[_0x45a06c(0x697)][_0x45a06c(0x459)]('/',!0x1);for(const _0x25db23 of _0x1433e7)await this[_0x45a06c(0x697)][_0x45a06c(0x9be)](_0x25db23[_0x45a06c(0x5f6)]);}catch(_0x1ca383){}return await this[_0x45a06c(0x215)]();}throw _0xefcbbf;}}async['syncPendingFiles'](){const _0x597770=_0x3fd00f,_0x516274=await this[_0x597770(0x459)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x84f5a=async _0xb69b2d=>{const _0x1673b4=_0x597770;for(const _0x198310 of _0xb69b2d){if(_0x198310[_0x1673b4(0x440)]===_0x548494['ObjectKind'][_0x1673b4(0xb02)]){_0x198310[_0x1673b4(0x4c9)]&&_0x198310[_0x1673b4(0x4c9)][_0x1673b4(0xa5f)]>0x0&&await _0x84f5a(_0x198310[_0x1673b4(0x4c9)]);continue;}if(_0x198310[_0x1673b4(0x2f5)]!==_0x548494[_0x1673b4(0x2fa)][_0x1673b4(0x2dc)])continue;const _0x4135f=await this[_0x1673b4(0x7ae)](_0x198310[_0x1673b4(0x5f6)]+_0x190d13),_0x14f452=JSON[_0x1673b4(0xaa7)](await _0x4135f['text']()),_0x40e6e9=_0x198310[_0x1673b4(0xa87)][_0x1673b4(0x36b)](_0x190d13,''),_0x3e2217={'payloadType':_0x3d95f6['Request'],'action':_0x115710[_0x1673b4(0x254)],'sourceId':this[_0x1673b4(0x976)][_0x1673b4(0xb04)](),'type':'','path':_0x198310[_0x1673b4(0x4fe)],'name':_0x40e6e9,'checksum':_0x14f452[_0x1673b4(0x5bf)],'skipEncryption':_0x14f452['skipEncryption']},_0x71ca85=_0x1e20d1(_0x198310[_0x1673b4(0x4fe)],_0x40e6e9);this[_0x1673b4(0x9eb)][_0x1673b4(0x1f5)](_0x71ca85,_0x3e2217);}};await _0x84f5a(_0x516274),0x0===this['objectRequests'][_0x597770(0x66a)]&&0x0===this['pendingFilesSyncing'][_0x597770(0x66a)]&&this[_0x597770(0x8e7)]();}async['createPendingFileWrite'](_0x22b919,_0x5d88ab,_0xb14acb){const _0x4c967d=_0x3fd00f,_0x5b9ea0=new File([new Blob([JSON[_0x4c967d(0x6b1)](_0xb14acb)])],''+_0x22b919+_0x190d13,{'type':_0x4c967d(0x51e)});await this[_0x4c967d(0x205)](_0x5b9ea0,_0x5d88ab);}async[_0x3fd00f(0x68c)](_0x415618,_0x54a956,_0x33acc8){const _0x23af43=_0x3fd00f;try{const _0x12a75f=_0x1e20d1(_0x54a956,_0x415618),_0x22bf44=_0x12a75f+_0x190d13,_0x5f11c0=await this[_0x23af43(0x697)][_0x23af43(0x7ae)](_0x22bf44),{checksum:_0x4147cd,skipEncryption:_0x120508}=JSON[_0x23af43(0xaa7)](await _0x5f11c0[_0x23af43(0x58c)]()),_0x3b1852=(await this[_0x23af43(0x697)][_0x23af43(0x7ae)](_0x12a75f,{'skipEncryption':_0x120508}))[_0x23af43(0x66a)];return _0x4147cd===_0x33acc8&&_0x3b1852%_0x19db64==0x0?[!0x0,Math['round'](_0x3b1852/_0x19db64)]:(await this['objectStoreConnector'][_0x23af43(0x9be)](_0x12a75f),[!0x1,0x0]);}catch(_0x2b2d4d){return[!0x1,0x0];}}[_0x3fd00f(0x194)](_0x584570,_0x5a18b5){const _0x1ea986=_0x3fd00f,[_0x15eda6,_0x310d27]=this[_0x1ea986(0x7f3)][_0x1ea986(0x7ae)](_0x584570)?.['get'](_0x5a18b5)??[];return _0x310d27&&clearTimeout(_0x310d27),setTimeout(()=>{const _0x4f5c53=_0x1ea986,[_0x18fb61,_0x1d0cf4]=this['pendingFilesSyncing']['get'](_0x584570)[_0x4f5c53(0x7ae)](_0x5a18b5);this[_0x4f5c53(0xafd)](_0x18fb61,_0x1d0cf4);},0x927c0);}async['sendFileRequestPayload'](_0x102e70,_0x17377a){const _0x5107b8=_0x3fd00f;clearTimeout(_0x17377a),_0x102e70[_0x5107b8(0x876)]=_0x115710[_0x5107b8(0x254)],this[_0x5107b8(0x9eb)][_0x5107b8(0x1f5)](_0x1e20d1(_0x102e70[_0x5107b8(0x4fe)],_0x102e70[_0x5107b8(0xa87)]),_0x102e70),this[_0x5107b8(0x5b8)](_0x102e70);}[_0x3fd00f(0x88f)](_0x4c2800,_0x56fe38){const _0x328916=_0x3fd00f;if(!this[_0x328916(0x3d8)])return;this[_0x328916(0x7f3)]['has'](_0x4c2800[_0x328916(0x2a4)])||this[_0x328916(0x7f3)][_0x328916(0x1f5)](_0x4c2800[_0x328916(0x2a4)],new Map());const [_0x22a320]=this[_0x328916(0x7f3)][_0x328916(0x7ae)](_0x4c2800[_0x328916(0x2a4)])['get'](_0x56fe38)??[{'payloadType':_0x3d95f6[_0x328916(0x6b2)],'action':_0x115710[_0x328916(0x254)],'sourceId':this[_0x328916(0x976)][_0x328916(0xb04)](),'type':_0x4c2800['type'],'name':_0x4c2800[_0x328916(0xa87)],'path':_0x4c2800['path'],'skipEncryption':_0x4c2800[_0x328916(0x7ab)],'checksum':_0x4c2800[_0x328916(0x5bf)],'answererId':_0x4c2800['answererId']}];this['pendingFilesSyncing'][_0x328916(0x7ae)](_0x4c2800[_0x328916(0x2a4)])[_0x328916(0x1f5)](_0x56fe38,[_0x22a320,this[_0x328916(0x194)](_0x4c2800[_0x328916(0x2a4)],_0x56fe38)]);}async[_0x3fd00f(0x205)](_0x18ee0f,_0x2e0593,_0x2f07ef){const _0x33029a=_0x3fd00f;this[_0x33029a(0x2c4)]&&(this[_0x33029a(0x7fa)]+=0x1),await this['objectStoreConnector']['writeFile'](_0x18ee0f,_0x2e0593,_0x2f07ef);}async[_0x3fd00f(0x9be)](_0x20d7cc){const _0xdb4d51=_0x3fd00f;try{const _0x1ed7af=await this[_0xdb4d51(0x697)][_0xdb4d51(0x9be)](_0x20d7cc);if(!_0x20d7cc[_0xdb4d51(0x5a8)](_0x190d13))try{await this[_0xdb4d51(0x697)][_0xdb4d51(0x9be)](_0x20d7cc+_0x190d13);}catch(_0x370b9f){}return this[_0xdb4d51(0x2c4)]&&_0x1ed7af===_0x548494[_0xdb4d51(0x19b)]['File']&&(this[_0xdb4d51(0x7fa)]+=0x1),_0x1ed7af;}catch(_0x29e402){return await this[_0xdb4d51(0x697)][_0xdb4d51(0x9be)](_0x20d7cc+_0x190d13);}}async[_0x3fd00f(0x866)](_0xee38d1,_0x5e69bd){const _0x48e463=_0x3fd00f;try{const _0x4cb12c=await this[_0x48e463(0x697)][_0x48e463(0x866)](_0xee38d1,_0x5e69bd);if(!_0xee38d1['endsWith'](_0x190d13))try{await this[_0x48e463(0x697)][_0x48e463(0x866)](_0xee38d1+_0x190d13,_0x5e69bd+_0x190d13);}catch(_0x5908da){}return _0x4cb12c;}catch(_0x1e1007){return await this[_0x48e463(0x697)][_0x48e463(0x866)](_0xee38d1+_0x190d13,_0x5e69bd+_0x190d13);}}['sendStats'](){this['debounceStats']&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x297142=a0_0x38ff;delete this[_0x297142(0x357)];const _0x57b798=await this[_0x297142(0x697)][_0x297142(0x56a)]('/');this[_0x297142(0x5cb)]?.[_0x297142(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0['Content'],'content':{'type':_0x347d3c[_0x297142(0x507)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x57b798,'messagesSent':this[_0x297142(0x35f)],'messagesReceived':this[_0x297142(0x797)],'bytesSent':this[_0x297142(0xa65)],'bytesReceived':this[_0x297142(0x9d3)],'writes':this[_0x297142(0x9ad)],'reads':this[_0x297142(0x663)],'prompts':0x0,'tokens':0x0}}}),this[_0x297142(0x3d8)]&&_0x404abe[_0x297142(0x7c4)](_0x5de0fb['ObjectStorage'],'ccc'+this['clusterId']+'ccc'+this[_0x297142(0x985)],_0x57b798);},_0x59b95b);}async['syncedFileExists'](_0x57626e){const _0x51def1=_0x3fd00f;try{return await this[_0x51def1(0x7ae)](_0x57626e),!0x0;}catch(_0x25c0b7){return!0x1;}}async[_0x3fd00f(0x5f5)](_0x2206fb){const _0x3d46a3=_0x3fd00f;if(!this[_0x3d46a3(0xafc)][_0x3d46a3(0x68d)](_0x2206fb))return;const _0xb7e02c=this[_0x3d46a3(0xafc)][_0x3d46a3(0x7ae)](_0x2206fb);if(_0xb7e02c[_0x3d46a3(0x467)])try{await _0xb7e02c[_0x3d46a3(0x467)][_0x3d46a3(0x883)]();}catch(_0x4bcf86){console[_0x3d46a3(0x805)](_0x3d46a3(0x4d0),_0x4bcf86);}this['fileChunks']['delete'](_0x2206fb);}}class _0x2f5a70 extends _0x31e81e{['localNode'];[_0x3fd00f(0x9c0)];[_0x3fd00f(0x512)]=new Map();[_0x3fd00f(0x357)];constructor(_0x2eba8d,_0x412f08,_0x31e313){const _0x55d9fe=_0x3fd00f;if(_0x55d9fe(0x7fc)!=typeof _0x412f08)throw new _0x19abf5(_0x2c23d1[_0x55d9fe(0x747)],_0x55d9fe(0x5c8));super(_0x2eba8d,_0x412f08),this[_0x55d9fe(0x976)]=_0x2eba8d,this[_0x55d9fe(0x9c0)]=_0x31e313,this[_0x55d9fe(0x8b5)]();}[_0x3fd00f(0x4cb)](){const _0x5a1747=_0x3fd00f;this[_0x5a1747(0x8b5)]();}[_0x3fd00f(0x76c)](){const _0xcfa1b5=_0x3fd00f;return _0x548494[_0xcfa1b5(0x777)]['PubSub'];}[_0x3fd00f(0x70e)](_0x30e6a8,_0x125728){const _0x37c804=_0x3fd00f;_0x404abe[_0x37c804(0x327)](_0x20ff7d[_0x37c804(0x6be)],_0x37c804(0x800),this[_0x37c804(0x976)]['getId'](),_0x30e6a8,_0x125728),_0x404abe[_0x37c804(0x729)](_0x5de0fb[_0x37c804(0x6be)],{'type':_0x37c804(0x70e),'label':this[_0x37c804(0x985)],'nodeId':this[_0x37c804(0x976)]['getId'](),'nodeType':this[_0x37c804(0x976)][_0x37c804(0x705)],'clusterId':this[_0x37c804(0x9c0)],'remoteIds':_0x125728??[],'contentType':_0x30e6a8 instanceof File?_0x548494[_0x37c804(0x777)]['File']:_0x548494['ContentType'][_0x37c804(0x3cd)],'size':_0x30e6a8 instanceof File?_0x30e6a8[_0x37c804(0x66a)]:JSON[_0x37c804(0x6b1)](_0x30e6a8)[_0x37c804(0xa5f)]}),this[_0x37c804(0x8b5)](),this[_0x37c804(0x5b8)](_0x30e6a8,_0x125728);}[_0x3fd00f(0x84f)](_0x250583,_0x2cd8a3){const _0x564869=_0x3fd00f;if(this['unsubscribeHandler'][_0x564869(0x68d)](_0x250583))throw new _0x19abf5(_0x2c23d1[_0x564869(0x1e7)],_0x564869(0x5c7));this[_0x564869(0x512)][_0x564869(0x1f5)](_0x250583,this['onMessage']((_0x279dcf,_0x282b23)=>{const _0x5dc52e=_0x564869;'data'===_0x250583&&_0x282b23 instanceof File||!(_0x5dc52e(0xa0d)!==_0x250583||_0x282b23 instanceof File)||(_0x404abe[_0x5dc52e(0x327)](_0x20ff7d[_0x5dc52e(0x6be)],_0x5dc52e(0xac8),this['localNode']['getId'](),_0x279dcf,_0x282b23),_0x404abe[_0x5dc52e(0x729)](_0x5de0fb['PubSub'],{'type':_0x5dc52e(0x84f),'label':this[_0x5dc52e(0x985)],'nodeId':this[_0x5dc52e(0x976)][_0x5dc52e(0xb04)](),'nodeType':this[_0x5dc52e(0x976)][_0x5dc52e(0x705)],'clusterId':this['clusterId'],'remoteId':_0x279dcf,'contentType':_0x250583,'size':_0x282b23 instanceof File?_0x282b23[_0x5dc52e(0x66a)]:JSON[_0x5dc52e(0x6b1)](_0x282b23)['length']}),this[_0x5dc52e(0x8b5)](),_0x2cd8a3(_0x279dcf,_0x282b23));}));}[_0x3fd00f(0x35a)](_0x2553b6){const _0x45ede6=_0x3fd00f;this[_0x45ede6(0x512)][_0x45ede6(0x7ae)](_0x2553b6)?.(),this[_0x45ede6(0x512)]['delete'](_0x2553b6);}[_0x3fd00f(0x407)](){const _0x5e8c8b=_0x3fd00f;this[_0x5e8c8b(0x512)][_0x5e8c8b(0x3e1)](_0x36abf3=>_0x36abf3()),clearTimeout(this['debounceStats']),delete this[_0x5e8c8b(0x357)],super[_0x5e8c8b(0x407)]();}['close'](){const _0x166ac2=_0x3fd00f;this['systemTopic']?.[_0x166ac2(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x166ac2(0x870)],'content':{'type':_0x347d3c[_0x166ac2(0x89e)],'label':this[_0x166ac2(0x985)]}});}[_0x3fd00f(0x8b5)](){const _0x225db1=_0x3fd00f;this[_0x225db1(0x357)]&&clearTimeout(this[_0x225db1(0x357)]),this['debounceStats']=setTimeout(()=>{const _0x594cc6=_0x225db1;this[_0x594cc6(0x5cb)]?.[_0x594cc6(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x594cc6(0x870)],'content':{'type':_0x347d3c[_0x594cc6(0x742)],'label':this[_0x594cc6(0x985)],'stats':{'timestamp':Date[_0x594cc6(0x441)](),'storage':0x0,'messagesSent':this[_0x594cc6(0x35f)],'messagesReceived':this[_0x594cc6(0x797)],'bytesSent':this[_0x594cc6(0xa65)],'bytesReceived':this[_0x594cc6(0x9d3)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x59b95b);}}class _0x16d15d extends _0x464672{['localNode'];['internalId'];[_0x3fd00f(0x2e9)];['clusterId'];[_0x3fd00f(0x512)];[_0x3fd00f(0x25a)];[_0x3fd00f(0x67c)];[_0x3fd00f(0x208)]=new Map();[_0x3fd00f(0x2f6)];[_0x3fd00f(0xadf)]=new Set();[_0x3fd00f(0x9dd)];[_0x3fd00f(0x1bd)]=_0x4767cf();[_0x3fd00f(0x829)]=new Map();constructor(_0x54bfd1,_0xd82047,_0x36142a,_0x211e32,_0x32cdbb,_0x586723){const _0x490e5e=_0x3fd00f;super(_0xd82047,_0x36142a,new MediaStream()),this['localNode']=_0x54bfd1,this[_0x490e5e(0x285)]=_0x211e32,this[_0x490e5e(0x2e9)]=_0x32cdbb,this['clusterId']=_0x586723,this['mediaStream'][_0x490e5e(0x171)]()[_0x490e5e(0x3e1)](_0x43d521=>this[_0x490e5e(0xacb)](_0x43d521));}[_0x3fd00f(0x407)](){const _0x481183=_0x3fd00f;this['outgoingStreams'][_0x481183(0x66a)]>0x0&&(this[_0x481183(0x208)][_0x481183(0x3e1)](_0xa4cddd=>{const _0x293b82=_0x481183;_0xa4cddd[_0x293b82(0x607)](),_0xa4cddd[_0x293b82(0x407)]();}),this[_0x481183(0x208)]['clear']()),this[_0x481183(0x829)][_0x481183(0x3e1)](_0x4cdb0c=>_0x4cdb0c()),this[_0x481183(0x250)]['getTracks']()['forEach'](_0x3e4a98=>this[_0x481183(0x250)][_0x481183(0x3d7)](_0x3e4a98)),this[_0x481183(0x67c)]&&(clearTimeout(this['updateDebounce']),delete this[_0x481183(0x67c)]),this[_0x481183(0x25a)]?.(),super[_0x481183(0x407)]();}[_0x3fd00f(0x1d6)](_0x166c99){const _0x5c5a08=_0x3fd00f;this[_0x5c5a08(0x512)]=_0x166c99[_0x5c5a08(0x84f)](({content:_0x434164})=>{const _0x1de820=_0x5c5a08;switch(_0x434164[_0x1de820(0x876)]){case _0x222a1e[_0x1de820(0x959)]:if(_0x404abe[_0x1de820(0x327)](_0x20ff7d['Subscription'],_0x1de820(0x650),this[_0x1de820(0x976)][_0x1de820(0xb04)](),this[_0x1de820(0x9dd)]),_0x434164['stream']['id']!==this['internalId']||_0x434164[_0x1de820(0x9dd)]!==this[_0x1de820(0x9dd)])return;this[_0x1de820(0x3d7)](_0x434164[_0x1de820(0xac5)][_0x1de820(0x440)]),this['mediaStream'][_0x1de820(0xaae)](_0x434164[_0x1de820(0xac5)]);for(const [_0x2ef3ab,_0x5f004c]of this[_0x1de820(0x208)]['entries']())try{_0x5f004c['addTrack'](_0x434164['track']);}catch(_0x1be210){_0x5f004c[_0x1de820(0x407)](),this[_0x1de820(0x208)]['delete'](_0x2ef3ab);}this[_0x1de820(0xacb)](_0x434164[_0x1de820(0xac5)]),this['setupRenderElement'](),_0x1de820(0x8ed)===_0x434164[_0x1de820(0xac5)][_0x1de820(0x440)]&&this[_0x1de820(0x2f6)]&&(this[_0x1de820(0x250)][_0x1de820(0x24c)]?setTimeout(()=>this[_0x1de820(0x2f6)]?.['play'](),0x0):setTimeout(()=>this['renderElement']?.['load'](),0x0),this[_0x1de820(0x392)]());break;case _0x222a1e[_0x1de820(0x928)]:if(_0x434164[_0x1de820(0x467)]['id']!==this['internalId']||_0x434164[_0x1de820(0x9dd)]!==this[_0x1de820(0x9dd)])return;this['removeTrack'](_0x434164[_0x1de820(0xac5)]['kind']),this[_0x1de820(0x2f6)]&&_0x1de820(0x8ed)===_0x434164[_0x1de820(0xac5)][_0x1de820(0x440)]&&(this[_0x1de820(0x25a)]?.(),this['mediaStream'][_0x1de820(0x171)]()[_0x1de820(0xa5f)]>0x0?this[_0x1de820(0x2f6)]['load']():this['renderElement']['srcObject']=null);}});}['unregisterSubscriber'](){const _0x1f6ad4=_0x3fd00f;this[_0x1f6ad4(0x512)]?.(),this[_0x1f6ad4(0x829)][_0x1f6ad4(0x3e1)](_0xd988d3=>_0xd988d3()),delete this['unsubscribeHandler'];}['getInternalStreamId'](){const _0x2a3109=_0x3fd00f;return this[_0x2a3109(0x285)];}[_0x3fd00f(0x2ee)](_0x5b60a1){const _0x26be1f=_0x3fd00f;this[_0x26be1f(0x285)]=_0x5b60a1;}[_0x3fd00f(0x6e0)](){const _0x42572f=_0x3fd00f;return this[_0x42572f(0x2e9)];}[_0x3fd00f(0x4dd)](_0x3e3a6a){const _0x1697be=_0x3fd00f;for(const _0x1a961e of _0x3e3a6a||this['availableTrackKinds'])if(!this[_0x1697be(0x250)][_0x1697be(0x171)]()['find'](_0x3b019f=>_0x3b019f[_0x1697be(0x440)]===_0x1a961e))return!0x1;return!0x0;}[_0x3fd00f(0x7e6)](){const _0x5e5d9e=_0x3fd00f;let _0x5bc697={'width':0x0,'height':0x0};const _0x30a1ed=this['mediaStream']['getVideoTracks']();if(_0x30a1ed[_0x5e5d9e(0xa5f)]>0x0){const _0x3ecca9=_0x30a1ed[0x0]['getSettings']();_0x3ecca9['width']&&_0x3ecca9[_0x5e5d9e(0xb03)]&&(_0x5bc697={'width':_0x3ecca9[_0x5e5d9e(0x1d3)],'height':_0x3ecca9[_0x5e5d9e(0xb03)]});}return _0x5bc697;}[_0x3fd00f(0x4f4)](_0x4deebe){const _0x5652be=_0x3fd00f;for(const _0x13b2a9 of _0x4deebe)if(!this[_0x5652be(0xadf)]['has'](_0x13b2a9))return!0x1;return!0x0;}[_0x3fd00f(0x7cb)](_0x46806b,_0x5ad386){const _0x3e6a7e=_0x3fd00f;if(!this[_0x3e6a7e(0x208)]['has'](_0x46806b)){const _0x4aa041=new _0x3c49f7(this[_0x3e6a7e(0x1a8)],this[_0x3e6a7e(0x985)],this[_0x3e6a7e(0x250)],_0x46806b,_0x5ad386),_0x1f57fa=_0x4aa041[_0x3e6a7e(0x86b)](()=>{const _0x22f920=_0x3e6a7e;_0x1f57fa(),this[_0x22f920(0x208)]['get'](_0x46806b)?.[_0x22f920(0x407)](),this[_0x22f920(0x208)][_0x22f920(0x92b)](_0x46806b);});this[_0x3e6a7e(0x208)]['set'](_0x46806b,_0x4aa041),_0x4aa041['registerSystemPublisher'](this[_0x3e6a7e(0x5cb)]);}return this['outgoingStreams']['get'](_0x46806b);}[_0x3fd00f(0x385)](){const _0x47887c=_0x3fd00f;return this[_0x47887c(0x250)]['id'];}[_0x3fd00f(0x920)](){const _0x17d5d3=_0x3fd00f;return _0x548494[_0x17d5d3(0x9aa)][_0x17d5d3(0x905)];}[_0x3fd00f(0x698)](){const _0x4a797d=_0x3fd00f;return Array[_0x4a797d(0x4f7)](this[_0x4a797d(0xadf)]);}[_0x3fd00f(0x84f)](_0xd6e9a7){const _0x53269b=_0x3fd00f;let _0x25c41e=[];if(_0xd6e9a7){_0x53269b(0x9a9)!=typeof _0xd6e9a7['video']||_0xd6e9a7[_0x53269b(0x8ed)][_0x53269b(0x2f6)]instanceof HTMLVideoElement||!this[_0x53269b(0x2f6)]||(_0xd6e9a7['video']={'renderElement':this['renderElement']});try{(0x0,_0x548494[_0x53269b(0xaab)])(_0xd6e9a7);}catch(_0x287529){throw new _0x19abf5(_0x2c23d1['RemoteMediaStreamInvalidSubscriptionParams'],_0x53269b(0x6c2));}_0xd6e9a7[_0x53269b(0x8ed)]&&(_0x25c41e[_0x53269b(0x639)]('video'),_0x53269b(0x19a)!=typeof _0xd6e9a7[_0x53269b(0x8ed)]&&_0xd6e9a7['video'][_0x53269b(0x2f6)]&&(this[_0x53269b(0x2f6)]=_0xd6e9a7['video'][_0x53269b(0x2f6)],_0xd6e9a7['video'][_0x53269b(0x3fb)]||(_0xd6e9a7['video'][_0x53269b(0x3fb)]={'width':this[_0x53269b(0x2f6)][_0x53269b(0x871)],'height':this[_0x53269b(0x2f6)][_0x53269b(0x352)]}),delete _0xd6e9a7['video'][_0x53269b(0x2f6)])),_0xd6e9a7[_0x53269b(0x2d2)]&&_0x25c41e[_0x53269b(0x639)]('audio');}else _0x25c41e=this[_0x53269b(0x6e0)]();this[_0x53269b(0x4f4)](_0x25c41e)||(_0x25c41e[_0x53269b(0x3e1)](_0x221d6b=>this['subscribedTracks'][_0x53269b(0x30b)](_0x221d6b)),this[_0x53269b(0x5cb)][_0x53269b(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x53269b(0x870)],'content':{'type':_0x347d3c['SubscribeMediaStream'],'label':this[_0x53269b(0x985)],'ownerId':this[_0x53269b(0x1a8)]['getId'](),'trackKinds':_0x25c41e,'params':_0xd6e9a7}}),_0x404abe['logServiceEvent'](_0x5de0fb[_0x53269b(0x4b8)],{'type':_0x53269b(0x84f),'label':this[_0x53269b(0x985)],'nodeId':this[_0x53269b(0x976)][_0x53269b(0xb04)](),'nodeType':this[_0x53269b(0x976)][_0x53269b(0x705)],'clusterId':this[_0x53269b(0x9c0)],'sourceId':this[_0x53269b(0x1a8)][_0x53269b(0xb04)](),'streamId':this[_0x53269b(0x285)],'trackKinds':_0x25c41e}));}[_0x3fd00f(0xa18)](_0x3c0eeb){const _0xba7ff6=_0x3fd00f;try{(0x0,_0x548494[_0xba7ff6(0xaab)])(_0x3c0eeb);}catch(_0x2ebaa2){throw new _0x19abf5(_0x2c23d1[_0xba7ff6(0x226)],_0xba7ff6(0x6c2));}this[_0xba7ff6(0x67c)]&&clearTimeout(this[_0xba7ff6(0x67c)]),this['updateDebounce']=setTimeout(()=>{const _0x15989b=_0xba7ff6;delete this['updateDebounce'],this[_0x15989b(0x5cb)][_0x15989b(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x15989b(0x870)],'content':{'type':_0x347d3c[_0x15989b(0x4fb)],'label':this['label'],'ownerId':this[_0x15989b(0x1a8)][_0x15989b(0xb04)](),'params':_0x3c0eeb}});},0x1f4);}[_0x3fd00f(0x35a)](_0x4db770){const _0x3209ed=_0x3fd00f;_0x4db770||(_0x4db770=this[_0x3209ed(0x6e0)]()),(_0x4db770=Array['isArray'](_0x4db770)?_0x4db770:[_0x4db770])['forEach'](_0x111b29=>this[_0x3209ed(0xadf)]['delete'](_0x111b29)),this[_0x3209ed(0x5cb)][_0x3209ed(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0['Content'],'content':{'type':_0x347d3c[_0x3209ed(0x27d)],'label':this[_0x3209ed(0x985)],'ownerId':this[_0x3209ed(0x1a8)][_0x3209ed(0xb04)](),'trackKinds':_0x4db770,'remainingTracks':this[_0x3209ed(0xadf)][_0x3209ed(0x66a)]}});}[_0x3fd00f(0x5dc)](_0x57f8af){const _0x3df100=_0x3fd00f;return this[_0x3df100(0x1bd)][_0x3df100(0x84f)](_0x57f8af);}['getProviderId'](){const _0x1f1e44=_0x3fd00f;return this[_0x1f1e44(0x9dd)];}['setProviderId'](_0x156541){const _0x3baebf=_0x3fd00f;this[_0x3baebf(0x9dd)]!==_0x156541&&(this[_0x3baebf(0x9dd)]=_0x156541,this[_0x3baebf(0x1bd)]['publish'](_0x156541));}[_0x3fd00f(0x58e)](_0x1416ab){const _0x4c3619=_0x3fd00f;this[_0x4c3619(0x829)][_0x4c3619(0x7ae)](_0x1416ab)?.(),this['trackEndedListeners']['delete'](_0x1416ab);}['removeTrack'](_0x37e7e8){const _0x26c213=_0x3fd00f,_0xc383c7=this[_0x26c213(0x250)]['getTracks']()['find'](_0x271220=>_0x271220[_0x26c213(0x440)]===_0x37e7e8);_0xc383c7&&(this[_0x26c213(0x250)][_0x26c213(0x3d7)](_0xc383c7),this['outgoingStreams'][_0x26c213(0x3e1)](_0x132325=>_0x132325[_0x26c213(0x3d7)](_0x37e7e8)),this[_0x26c213(0x829)][_0x26c213(0x7ae)](_0x37e7e8)?.());}[_0x3fd00f(0x36a)](){const _0x316ad4=_0x3fd00f;this[_0x316ad4(0x2f6)]&&(this[_0x316ad4(0x2f6)][_0x316ad4(0x2a9)]&&this[_0x316ad4(0x2f6)][_0x316ad4(0x2a9)]===this['mediaStream']||(this[_0x316ad4(0x2f6)][_0x316ad4(0x2a9)]=this[_0x316ad4(0x250)]));}[_0x3fd00f(0x392)](){const _0x33f0f0=_0x3fd00f;if(this[_0x33f0f0(0x2f6)]&&!this[_0x33f0f0(0x25a)]&&_0x33f0f0(0x332)!=typeof ResizeObserver){let _0x2ae463=this[_0x33f0f0(0x2f6)][_0x33f0f0(0x871)],_0x3c61cd=this['renderElement'][_0x33f0f0(0x352)];const _0x1e7f0e=new ResizeObserver(_0x535e06=>{const _0x415622=_0x33f0f0,{width:_0x6171c2,height:_0x5eff26}=_0x535e06[0x0][_0x415622(0x187)];_0x2ae463===_0x6171c2&&_0x3c61cd===_0x5eff26||(_0x2ae463=Math[_0x415622(0x8c3)](_0x6171c2),_0x3c61cd=Math[_0x415622(0x8c3)](_0x5eff26),this['update']({'video':{'maxResolution':{'width':_0x6171c2,'height':_0x5eff26}}}));});_0x1e7f0e[_0x33f0f0(0x287)](this[_0x33f0f0(0x2f6)]),this[_0x33f0f0(0x25a)]=()=>_0x1e7f0e[_0x33f0f0(0x7c5)]();}}[_0x3fd00f(0x6da)](_0x16b54a){const _0xc40ac4=_0x3fd00f,_0x5ecbf9=[];for(const _0xbb3f81 of this[_0xc40ac4(0xadf)])this[_0xc40ac4(0x3d7)](_0xbb3f81),_0x5ecbf9[_0xc40ac4(0x639)](_0xbb3f81);this[_0xc40ac4(0x9dd)]&&this['systemTopic'][_0xc40ac4(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0xc40ac4(0x870)],'content':{'type':_0x347d3c[_0xc40ac4(0x6f2)],'label':this[_0xc40ac4(0x985)],'streamId':this[_0xc40ac4(0x285)],'ownerId':this[_0xc40ac4(0x1a8)]['getId'](),'providerId':this[_0xc40ac4(0x9dd)],'trackKinds':_0x5ecbf9}});}[_0x3fd00f(0xacb)](_0x175bd7){const _0x5a6986=_0x3fd00f,_0x1a7093=()=>this[_0x5a6986(0x6da)](_0x175bd7);_0x175bd7[_0x5a6986(0x4aa)](_0x5a6986(0x776),_0x1a7093),_0x175bd7['addEventListener']('mute',_0x1a7093),this[_0x5a6986(0x829)]['set'](_0x175bd7['kind'],()=>{const _0x249c77=_0x5a6986;_0x175bd7[_0x249c77(0x322)]('ended',_0x1a7093),_0x175bd7[_0x249c77(0x322)](_0x249c77(0x3d0),_0x1a7093),this[_0x249c77(0x829)][_0x249c77(0x92b)](_0x175bd7['kind']);});}}class _0x54aa0b extends _0x31e81e{['localNode'];[_0x3fd00f(0x9c0)];[_0x3fd00f(0x3ee)];['db'];[_0x3fd00f(0x357)];[_0x3fd00f(0x9ad)]=0x0;[_0x3fd00f(0x663)]=0x0;[_0x3fd00f(0xa46)]=!0x1;constructor(_0x154458,_0x56c750,_0x19d1d8,_0x7607bb,_0x17578a){const _0x117ab7=_0x3fd00f;if(_0x117ab7(0x7fc)!=typeof _0x56c750)throw new _0x19abf5(_0x2c23d1[_0x117ab7(0x577)],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x154458,_0x56c750),this[_0x117ab7(0x976)]=_0x154458,this[_0x117ab7(0x9c0)]=_0x19d1d8,this[_0x117ab7(0x3ee)]=_0x7607bb;const _0x3d7bb9=_0x117ab7(0xaea)+this[_0x117ab7(0x3ee)]+_0x117ab7(0xaea)+this[_0x117ab7(0x9c0)]+_0x117ab7(0xaea)+this[_0x117ab7(0x985)];this['db']=new _0x17578a(_0x3d7bb9),this[_0x117ab7(0x8b5)]();}[_0x3fd00f(0xa37)](){return this['isLoaded'];}['setIsLoaded'](_0x219717){const _0x512e64=_0x3fd00f;this[_0x512e64(0xa46)]=_0x219717;}[_0x3fd00f(0x407)](){const _0x3506aa=_0x3fd00f;clearTimeout(this[_0x3506aa(0x357)]),delete this['debounceStats'],super[_0x3506aa(0x407)]();}[_0x3fd00f(0x883)](){const _0x231513=_0x3fd00f;this['systemTopic'][_0x231513(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x231513(0x870)],'content':{'type':_0x347d3c[_0x231513(0x494)],'label':this[_0x231513(0x985)]}});}[_0x3fd00f(0x4cb)](){const _0x154964=_0x3fd00f;this[_0x154964(0x8b5)]();}[_0x3fd00f(0x76c)](){const _0x1fa886=_0x3fd00f;return _0x548494[_0x1fa886(0x777)][_0x1fa886(0x2f3)];}[_0x3fd00f(0x595)](_0x409398,_0x5a4f70,_0x4f836a,_0x20b7ce,_0x55f0a7){const _0xf5ee17=_0x3fd00f,_0x1a3382=this['db']['search'](_0x409398,_0x5a4f70,_0x4f836a,_0x20b7ce,_0x55f0a7);return this['reads']+=0x1,_0x404abe[_0xf5ee17(0x729)](_0x5de0fb[_0xf5ee17(0x2f3)],{'type':_0xf5ee17(0x595),'label':this[_0xf5ee17(0x985)],'nodeId':this[_0xf5ee17(0x976)][_0xf5ee17(0xb04)](),'nodeType':this[_0xf5ee17(0x976)]['type'],'clusterId':this[_0xf5ee17(0x9c0)],'size':0x0}),this[_0xf5ee17(0x8b5)](),_0x1a3382;}[_0x3fd00f(0xaf8)](_0x5f2afd,_0x2f0a7f,_0x37de34,_0x12b02f){const _0x40fe52=_0x3fd00f;this['db'][_0x40fe52(0xaf8)](_0x5f2afd,_0x2f0a7f,_0x37de34,_0x12b02f),this[_0x40fe52(0x9ad)]+=0x1,_0x404abe[_0x40fe52(0x729)](_0x5de0fb[_0x40fe52(0x2f3)],{'type':_0x40fe52(0xaf8),'label':this[_0x40fe52(0x985)],'nodeId':this['localNode'][_0x40fe52(0xb04)](),'nodeType':this[_0x40fe52(0x976)][_0x40fe52(0x705)],'clusterId':this[_0x40fe52(0x9c0)],'size':_0x12b02f[_0x40fe52(0x9b1)]((_0x1eee34,_0x409b87)=>_0x1eee34+_0x409b87[_0x40fe52(0xa5f)],0x0)}),this[_0x40fe52(0x8b5)]();}['remove'](_0x1359ed){const _0x1282f0=_0x3fd00f;this['db'][_0x1282f0(0x9a7)](_0x1359ed),this[_0x1282f0(0x9ad)]+=0x1,_0x404abe[_0x1282f0(0x729)](_0x5de0fb['VectorDatabase'],{'type':'remove','label':this[_0x1282f0(0x985)],'nodeId':this[_0x1282f0(0x976)][_0x1282f0(0xb04)](),'nodeType':this['localNode'][_0x1282f0(0x705)],'clusterId':this[_0x1282f0(0x9c0)],'size':0x0}),this[_0x1282f0(0x8b5)]();}[_0x3fd00f(0x7e0)](_0x2f0cb8){const _0x56b3db=_0x3fd00f;this['db'][_0x56b3db(0x7e0)](_0x2f0cb8);}[_0x3fd00f(0x93e)](_0x29559f){const _0x57a360=_0x3fd00f;this['db'][_0x57a360(0x93e)](_0x29559f);}[_0x3fd00f(0x8b5)](){const _0x29991f=_0x3fd00f;this[_0x29991f(0x357)]&&clearTimeout(this[_0x29991f(0x357)]),this['debounceStats']=setTimeout(async()=>{const _0x396698=_0x29991f;delete this[_0x396698(0x357)];const _0x511ea1=this['db']['getBuffer']()[_0x396698(0x97f)];this[_0x396698(0x5cb)][_0x396698(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x396698(0x870)],'content':{'type':_0x347d3c[_0x396698(0x536)],'label':this[_0x396698(0x985)],'stats':{'timestamp':Date[_0x396698(0x441)](),'storage':_0x511ea1,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x396698(0x797)],'bytesSent':this[_0x396698(0xa65)],'bytesReceived':this['bytesReceived'],'writes':this[_0x396698(0x9ad)],'reads':this[_0x396698(0x663)],'prompts':0x0,'tokens':0x0}}}),_0x404abe[_0x396698(0x7c4)](_0x5de0fb['VectorDatabase'],_0x396698(0xaea)+this[_0x396698(0x9c0)]+_0x396698(0xaea)+this[_0x396698(0x985)],_0x511ea1);},_0x59b95b);}}class _0x21854c{['id'];[_0x3fd00f(0x162)];[_0x3fd00f(0xada)];constructor(_0x426dc7,_0xe86357=new Set(),_0x4d78e7){const _0x4d762e=_0x3fd00f;this['id']=_0x426dc7,this[_0x4d762e(0x162)]=_0xe86357,this[_0x4d762e(0xada)]=_0x4d78e7;}['close'](){const _0x1c749e=_0x3fd00f;this['rank']=void 0x0,this['remoteConnections'][_0x1c749e(0x7e7)]();}[_0x3fd00f(0xb04)](){return this['id'];}[_0x3fd00f(0xae9)](){const _0x5b2e5b=_0x3fd00f;return this[_0x5b2e5b(0xada)];}[_0x3fd00f(0x16f)](){const _0x39fb37=_0x3fd00f;return this[_0x39fb37(0x162)];}}class _0x1a8f93 extends _0x21854c{['id'];[_0x3fd00f(0x78f)];[_0x3fd00f(0x75d)];[_0x3fd00f(0x162)];[_0x3fd00f(0xada)];[_0x3fd00f(0x705)]=_0x548494['NodeType'][_0x3fd00f(0x64a)];constructor(_0x49d3f6,_0x1530b0,_0x59f8bb,_0x4421d2=new Set(),_0x1f63ec){const _0x1b639d=_0x3fd00f;super(_0x49d3f6,_0x4421d2,_0x1f63ec),this['id']=_0x49d3f6,this[_0x1b639d(0x78f)]=_0x1530b0,this[_0x1b639d(0x75d)]=_0x59f8bb,this[_0x1b639d(0x162)]=_0x4421d2,this[_0x1b639d(0xada)]=_0x1f63ec;}['getDisplayName'](){const _0x5a6602=_0x3fd00f;return this[_0x5a6602(0x78f)];}[_0x3fd00f(0x73d)](){const _0x11ef85=_0x3fd00f;return this[_0x11ef85(0x75d)];}}class _0x5a407a{['vendorId'];[_0x3fd00f(0x9c0)];['clusterKey'];constructor(_0x1d559f,_0x42b112){const _0x139356=_0x3fd00f;this[_0x139356(0x3ee)]=_0x1d559f,this[_0x139356(0x9c0)]=_0x42b112,this[_0x139356(0x189)]='ccc'+this['vendorId']+_0x139356(0xaea)+this[_0x139356(0x9c0)];}async[_0x3fd00f(0x6d9)](_0x279b73,_0x1ac51e){const _0x9656f1=_0x3fd00f,_0x3773cb=(0x0,_0x8856a1['ref'])(_0x616df3[_0x9656f1(0x55c)](),_0x9656f1(0x520)+this['clusterKey']+_0x9656f1(0x378)+_0x1ac51e+_0x9656f1(0x443)+_0x279b73['id']),_0x38d107=(0x0,_0x8856a1[_0x9656f1(0x3e9)])(_0x3773cb);_0x38d107[_0x9656f1(0x9a7)](),_0x279b73['parentId']||delete _0x279b73['parentId'];try{await(0x0,_0x8856a1[_0x9656f1(0x1f5)])(_0x3773cb,_0x279b73);}catch(_0x26e2ee){throw await _0x38d107['cancel'](),new _0x5d70cf(_0x5d70cf[_0x9656f1(0x765)][_0x9656f1(0xaaa)]);}if(!0x1===(await(0x0,_0x8856a1['runTransaction'])((0x0,_0x8856a1[_0x9656f1(0x5f1)])(_0x616df3[_0x9656f1(0x55c)](),_0x9656f1(0x520)+this[_0x9656f1(0x189)]+_0x9656f1(0x378)+_0x1ac51e+'/transactions/lastTransaction'),_0xbf1db1=>_0xbf1db1?_0xbf1db1===_0x279b73['parentId']?_0x279b73['id']:void 0x0:_0x279b73[_0x9656f1(0x599)]?_0x279b73[_0x9656f1(0x599)]:_0x279b73['id']))['committed'])throw await(0x0,_0x8856a1[_0x9656f1(0x9a7)])(_0x3773cb),await _0x38d107['cancel'](),new _0x5d70cf(_0x5d70cf['codes']['ObjectStoreNotSynced']);await _0x38d107['cancel']();}async[_0x3fd00f(0xa00)](_0x58fdee,_0x17afb2){const _0x53cbf0=_0x3fd00f;let _0x52a325=[];const _0x576f9e=(0x0,_0x8856a1['ref'])(_0x616df3[_0x53cbf0(0x55c)](),_0x53cbf0(0x520)+this[_0x53cbf0(0x189)]+'/objectstores/'+_0x58fdee+_0x53cbf0(0x8b9));let _0x3c64a1=await(0x0,_0x8856a1['get'])((0x0,_0x8856a1[_0x53cbf0(0x2bc)])(_0x576f9e,(0x0,_0x8856a1[_0x53cbf0(0x750)])(0x65),(0x0,_0x8856a1[_0x53cbf0(0x468)])()));if(!_0x3c64a1[_0x53cbf0(0x243)]()){if(void 0x0!==_0x17afb2)throw new _0x5d70cf(_0x5d70cf['codes'][_0x53cbf0(0x582)]);return _0x52a325;}const _0x13b370=_0x3c64a1[_0x53cbf0(0x8da)]();for(;Object[_0x53cbf0(0x566)](_0x3c64a1[_0x53cbf0(0x8da)]())['length']>0x64;){const _0x16f589=Object[_0x53cbf0(0x566)](_0x3c64a1[_0x53cbf0(0x8da)]()),_0x3fa506=_0x16f589[_0x16f589[_0x53cbf0(0xa5f)]-0x1];_0x3c64a1=await(0x0,_0x8856a1[_0x53cbf0(0x7ae)])((0x0,_0x8856a1[_0x53cbf0(0x2bc)])(_0x576f9e,(0x0,_0x8856a1[_0x53cbf0(0x750)])(0x65),(0x0,_0x8856a1[_0x53cbf0(0x4b6)])(_0x3fa506),(0x0,_0x8856a1['orderByKey'])())),Object[_0x53cbf0(0x9c8)](_0x13b370,_0x3c64a1[_0x53cbf0(0x8da)]());}if(_0x52a325=Object['values'](_0x13b370)[_0x53cbf0(0x69d)](_0x3c09b0=>_0x53cbf0(0x7fc)!=typeof _0x3c09b0),0x0===_0x52a325[_0x53cbf0(0xa5f)]&&void 0x0!==_0x17afb2)throw new _0x5d70cf(_0x5d70cf[_0x53cbf0(0x765)][_0x53cbf0(0x582)]);if(_0x52a325['length']>0x0&&void 0x0!==_0x17afb2&&!_0x52a325[_0x53cbf0(0x78b)](_0x5ba67a=>_0x5ba67a['id']===_0x17afb2))throw new _0x5d70cf(_0x5d70cf[_0x53cbf0(0x765)][_0x53cbf0(0x582)]);const _0x5384f0=[];let _0x526d45=_0x52a325[_0x53cbf0(0x78b)](_0x7097b1=>_0x7097b1[_0x53cbf0(0x599)]===_0x17afb2);for(;_0x526d45;)_0x5384f0['push'](_0x526d45),_0x526d45=_0x52a325[_0x53cbf0(0x78b)](_0x2776b7=>_0x2776b7['parentId']===_0x526d45['id']);return _0x5384f0;}}class _0x46b8b9{[_0x3fd00f(0x470)];[_0x3fd00f(0x314)];['localMediaStreams']=new Map();[_0x3fd00f(0x4e8)]=new Map();['pubSubTopics']=new Map();[_0x3fd00f(0x218)]=new Map();['externalStorageConnections']=new Map();[_0x3fd00f(0x961)]=new Map();[_0x3fd00f(0x881)]=new Map();[_0x3fd00f(0x93b)]=new Map();[_0x3fd00f(0x438)]=new Map();[_0x3fd00f(0x4d9)]=new Map();[_0x3fd00f(0x34b)];constructor(_0xd4b260,_0x209e40){const _0x3fdd3a=_0x3fd00f;this[_0x3fdd3a(0x470)]=_0xd4b260,this['options']=_0x209e40,this[_0x3fdd3a(0x34b)]=new _0x5a407a(this['configs'][_0x3fdd3a(0x3ee)],this[_0x3fdd3a(0x470)][_0x3fdd3a(0x9c0)]);}[_0x3fd00f(0x883)](_0x163c6c=!0x1){const _0x17a35c=_0x3fd00f;this[_0x17a35c(0x4e8)][_0x17a35c(0x3e1)]((_0x5354cf,_0x2f47fd)=>{const _0x3af75b=_0x17a35c;_0x5354cf[_0x3af75b(0x3e1)]((_0x5e8839,_0x459180)=>{const _0x291777=_0x3af75b;this[_0x291777(0x4ad)](_0x2f47fd,_0x459180);});}),_0x163c6c||(_0x4b33ae[_0x17a35c(0x7e7)](),this[_0x17a35c(0x499)]['forEach']((_0x495dd9,_0x1b9072)=>{const _0x593f7d=_0x17a35c;this[_0x593f7d(0x7cc)](_0x1b9072);}),this[_0x17a35c(0x202)][_0x17a35c(0x3e1)]((_0x15b1b8,_0x4f6bfd)=>{this['removePubSubTopic'](_0x4f6bfd);}),this['objectStores'][_0x17a35c(0x3e1)]((_0x499643,_0x18e71b)=>{const _0x45dbd3=_0x17a35c;this[_0x45dbd3(0x846)](_0x18e71b);}),this[_0x17a35c(0x2b2)]['forEach']((_0x12a9ad,_0x972cfb)=>{const _0x37db61=_0x17a35c;this[_0x37db61(0x1fc)](_0x972cfb);}),this[_0x17a35c(0x961)][_0x17a35c(0x3e1)]((_0x2d61d6,_0x5e08fb)=>{this['removeKeyValueDatabase'](_0x5e08fb);}),this[_0x17a35c(0x438)][_0x17a35c(0x3e1)]((_0x32bf51,_0x14e66d)=>{const _0x39b406=_0x17a35c;this[_0x39b406(0x176)](_0x14e66d);}),this[_0x17a35c(0x4d9)][_0x17a35c(0x3e1)]((_0x3d2962,_0x1e258d)=>{const _0x4edc7d=_0x17a35c;this[_0x4edc7d(0x913)](_0x1e258d);}),this[_0x17a35c(0x881)]['forEach']((_0x129423,_0x3f5827)=>{this['removeVectorDatabase'](_0x3f5827);}),this[_0x17a35c(0x93b)][_0x17a35c(0x3e1)]((_0x554b32,_0x34c820)=>{const _0x313da8=_0x17a35c;this[_0x313da8(0x635)](_0x34c820);}));}[_0x3fd00f(0x1d1)](_0x56cb5b,_0x2be70b,_0x120a2d){const _0x3cf5c4=_0x3fd00f;if(this['objectStores']['has'](_0x56cb5b))throw new _0x19abf5(_0x2c23d1[_0x3cf5c4(0x681)],_0x3cf5c4(0xaf5));const _0x39c663=new _0xa5b9bf(this['configs']['localNode'],_0x56cb5b,this[_0x3cf5c4(0x470)]['clusterId'],this[_0x3cf5c4(0x470)][_0x3cf5c4(0x3ee)],this['transactionService'],_0x2be70b,()=>this['configs']['mediator'][_0x3cf5c4(0x21c)](),_0x120a2d);return this[_0x3cf5c4(0x218)][_0x3cf5c4(0x1f5)](_0x56cb5b,_0x39c663),this[_0x3cf5c4(0x470)][_0x3cf5c4(0xa68)][_0x3cf5c4(0x3f8)](_0x39c663),_0x39c663;}['createExternalStorageConnection'](_0x3de933,_0x14e713){const _0x5ca4fb=_0x3fd00f;if(this[_0x5ca4fb(0x218)]['has'](_0x3de933))throw new _0x19abf5(_0x2c23d1[_0x5ca4fb(0x74f)],_0x5ca4fb(0x782));const _0x5f29b7=new _0x479333(this[_0x5ca4fb(0x470)][_0x5ca4fb(0x976)],_0x3de933,this['configs'][_0x5ca4fb(0x9c0)],this[_0x5ca4fb(0x470)][_0x5ca4fb(0x3ee)],_0x14e713);return this['externalStorageConnections'][_0x5ca4fb(0x1f5)](_0x3de933,_0x5f29b7),this[_0x5ca4fb(0x470)][_0x5ca4fb(0xa68)][_0x5ca4fb(0x3f8)](_0x5f29b7),_0x5f29b7;}async['createKeyValueDatabase'](_0x260522,_0x128635,_0x3405ce){const _0x5c43d8=_0x3fd00f;if(this['keyValueDatabases'][_0x5c43d8(0x68d)](_0x260522))throw new _0x19abf5(_0x2c23d1[_0x5c43d8(0x9ab)],_0x5c43d8(0xab9));try{const _0xcb478e=this['configs'][_0x5c43d8(0xa68)][_0x5c43d8(0x775)][_0x5c43d8(0x167)](this[_0x5c43d8(0x470)][_0x5c43d8(0xa68)]),_0x3b6d27=new _0xf9e1a2(this[_0x5c43d8(0x470)][_0x5c43d8(0x976)],_0x260522,this[_0x5c43d8(0x470)][_0x5c43d8(0x9c0)],this[_0x5c43d8(0x470)][_0x5c43d8(0x3ee)],_0x128635,_0x3405ce,_0xcb478e);return this[_0x5c43d8(0x961)]['set'](_0x260522,_0x3b6d27),this[_0x5c43d8(0x470)][_0x5c43d8(0xa68)]['registerSystemSource'](_0x3b6d27),_0x3b6d27;}catch(_0x2257bd){if(_0x2257bd instanceof _0x19abf5)throw _0x2257bd;throw new _0x5d70cf(_0x5d70cf[_0x5c43d8(0x765)][_0x5c43d8(0x675)],{'label':_0x260522,'clusterId':this['configs'][_0x5c43d8(0x9c0)],'vendorId':this[_0x5c43d8(0x470)][_0x5c43d8(0x3ee)]});}}async[_0x3fd00f(0x45a)](_0x85aa92,_0x120c47){const _0x4cfd07=_0x3fd00f;if(this[_0x4cfd07(0x438)][_0x4cfd07(0x68d)](_0x85aa92))throw new _0x19abf5(_0x2c23d1['JobDispatcherAlreadyExists'],_0x4cfd07(0xafb));try{const _0x57f7f0=new _0x4ba944(this[_0x4cfd07(0x470)][_0x4cfd07(0x976)],_0x85aa92,_0x120c47);return this[_0x4cfd07(0x438)][_0x4cfd07(0x1f5)](_0x85aa92,_0x57f7f0),this[_0x4cfd07(0x470)]['mediator'][_0x4cfd07(0x3f8)](_0x57f7f0),_0x57f7f0;}catch(_0x1c889b){if(_0x1c889b instanceof _0x19abf5)throw _0x1c889b;throw new _0x5d70cf(_0x5d70cf['codes'][_0x4cfd07(0xa56)],{'label':_0x85aa92,'clusterId':this[_0x4cfd07(0x470)][_0x4cfd07(0x9c0)],'vendorId':this[_0x4cfd07(0x470)][_0x4cfd07(0x3ee)]});}}async[_0x3fd00f(0x458)](_0x592079,_0x3b4d37){const _0x3cf234=_0x3fd00f;if(this['jobDispatchers'][_0x3cf234(0x68d)](_0x592079))throw new _0x19abf5(_0x2c23d1[_0x3cf234(0xac3)],'AI\x20Service\x20already\x20exists');if(this[_0x3cf234(0x4d9)][_0x3cf234(0x68d)](_0x592079))throw new _0x19abf5(_0x2c23d1[_0x3cf234(0x569)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x4f32a3=new _0x29811e(this['configs']['localNode'],_0x592079,this[_0x3cf234(0x470)][_0x3cf234(0x3ee)],_0x3b4d37);return this['jobDispatchers'][_0x3cf234(0x1f5)](_0x592079,_0x4f32a3),this[_0x3cf234(0x470)][_0x3cf234(0xa68)]['registerSystemSource'](_0x4f32a3),_0x4f32a3;}catch(_0x5791da){if(_0x5791da instanceof _0x19abf5)throw _0x5791da;throw new _0x5d70cf(_0x5d70cf[_0x3cf234(0x765)][_0x3cf234(0x42c)],{'label':_0x592079,'clusterId':this[_0x3cf234(0x470)][_0x3cf234(0x9c0)],'vendorId':this[_0x3cf234(0x470)][_0x3cf234(0x3ee)]});}}async[_0x3fd00f(0x56e)](_0x9ad2f7,_0x593369,_0x258212,_0xba00bc,_0x33bbfe,_0x2e780f,_0x230f79,_0x3ede40,_0x3d785e,_0x342ecc){const _0x334cf5=_0x3fd00f;if(this[_0x334cf5(0x4d9)]['has'](_0x9ad2f7))throw new _0x19abf5(_0x2c23d1[_0x334cf5(0x6b5)],_0x334cf5(0x236));if(this['jobDispatchers']['has'](_0x9ad2f7))throw new _0x19abf5(_0x2c23d1[_0x334cf5(0x569)],_0x334cf5(0x9c3));try{const _0x19357d=new _0x1a5033(this['configs'][_0x334cf5(0x976)],_0x9ad2f7,_0x593369,this,_0x258212,_0xba00bc,_0x33bbfe,_0x2e780f,_0x230f79,_0x3ede40,_0x3d785e,_0x342ecc);return this[_0x334cf5(0x4d9)][_0x334cf5(0x1f5)](_0x9ad2f7,_0x19357d),this[_0x334cf5(0x470)][_0x334cf5(0xa68)]['registerSystemSource'](_0x19357d),_0x19357d;}catch(_0x5a3090){if(_0x5a3090 instanceof _0x19abf5)throw _0x5a3090;throw new _0x5d70cf(_0x5d70cf[_0x334cf5(0x765)]['GenerativeAIWorkerCreationFailed'],{'label':_0x9ad2f7,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x334cf5(0x470)]['vendorId']});}}['createGraphDatabase'](_0x3d1b77,_0x1cf25c){const _0x1002e9=_0x3fd00f;if(this['graphDatabases']['has'](_0x3d1b77))throw new _0x19abf5(_0x2c23d1['GraphDatabaseAlreadyExists'],_0x1002e9(0xab9));try{const _0x4dbd42=new _0x59cc3c(this[_0x1002e9(0x470)]['localNode'],_0x3d1b77,this[_0x1002e9(0x470)][_0x1002e9(0x9c0)],this[_0x1002e9(0x470)]['vendorId'],_0x1cf25c);return this['graphDatabases'][_0x1002e9(0x1f5)](_0x3d1b77,_0x4dbd42),this[_0x1002e9(0x470)][_0x1002e9(0xa68)][_0x1002e9(0x3f8)](_0x4dbd42),_0x4dbd42;}catch(_0xbefd7d){if(_0xbefd7d instanceof _0x19abf5)throw _0xbefd7d;throw new _0x5d70cf(_0x5d70cf[_0x1002e9(0x765)][_0x1002e9(0x28e)],{'label':_0x3d1b77,'clusterId':this[_0x1002e9(0x470)][_0x1002e9(0x9c0)],'vendorId':this[_0x1002e9(0x470)][_0x1002e9(0x3ee)]});}}['createLocalDynamicMediaStream'](_0x25a8ce,_0x1d2f84){const _0x1ded5e=_0x3fd00f;if(this['localMediaStreams'][_0x1ded5e(0x68d)](_0x25a8ce))throw new _0x19abf5(_0x2c23d1[_0x1ded5e(0x4eb)],'Local\x20MediaStream\x20already\x20exists');if(!this['options'][_0x1ded5e(0x5d6)])throw new _0x19abf5(_0x2c23d1[_0x1ded5e(0x70c)],_0x1ded5e(0x824));const _0x3a26ea=new _0x3a5cb2(this[_0x1ded5e(0x470)][_0x1ded5e(0x976)],_0x25a8ce,_0x1d2f84,this['options'][_0x1ded5e(0x85c)],this['options'][_0x1ded5e(0x5d6)],this[_0x1ded5e(0x470)]['clusterId']);return this['localMediaStreams']['set'](_0x25a8ce,_0x3a26ea),this[_0x1ded5e(0x470)][_0x1ded5e(0xa68)]['registerSystemSource'](_0x3a26ea),_0x3a26ea[_0x1ded5e(0x70e)](),_0x3a26ea;}[_0x3fd00f(0x442)](_0x4fdc0f,_0x5ae1c6){const _0x20989d=_0x3fd00f;if(this[_0x20989d(0x499)]['has'](_0x4fdc0f))throw new _0x19abf5(_0x2c23d1[_0x20989d(0x4eb)],_0x20989d(0xa41));const _0x25911b=new _0xcd0897(this[_0x20989d(0x470)][_0x20989d(0x976)],_0x4fdc0f,_0x5ae1c6,this[_0x20989d(0x470)][_0x20989d(0x9c0)]);return this[_0x20989d(0x499)][_0x20989d(0x1f5)](_0x4fdc0f,_0x25911b),this[_0x20989d(0x470)]['mediator']['registerSystemSource'](_0x25911b),_0x25911b[_0x20989d(0x70e)](),_0x25911b;}[_0x3fd00f(0x17c)](_0x2ced15){const _0x375a1d=_0x3fd00f;if(this['pubSubTopics'][_0x375a1d(0x68d)](_0x2ced15))throw new _0x19abf5(_0x2c23d1['PubSubTopicAlreadyExists'],'PubSub\x20already\x20exists');const _0x19855f=new _0x2f5a70(this[_0x375a1d(0x470)][_0x375a1d(0x976)],_0x2ced15,this['configs']['clusterId']);return this[_0x375a1d(0x202)][_0x375a1d(0x1f5)](_0x2ced15,_0x19855f),this['configs'][_0x375a1d(0xa68)][_0x375a1d(0x3f8)](_0x19855f),_0x19855f;}[_0x3fd00f(0x734)](_0x1ae9b3,_0xa3d51a,_0x124d87,_0x47f4e6){const _0x2a4a0c=_0x3fd00f;this[_0x2a4a0c(0x4e8)][_0x2a4a0c(0x68d)](_0x1ae9b3)||this[_0x2a4a0c(0x4e8)][_0x2a4a0c(0x1f5)](_0x1ae9b3,new Map());const _0x5f50a9=this[_0x2a4a0c(0x4e8)][_0x2a4a0c(0x7ae)](_0x1ae9b3);if(_0x5f50a9[_0x2a4a0c(0x68d)](_0xa3d51a))throw new _0x19abf5(_0x2c23d1[_0x2a4a0c(0x57b)],'Remote\x20MediaStream\x20already\x20exists');const _0x1e5786=new _0x1a8f93(_0x1ae9b3,'',''),_0x5bda77=new _0x16d15d(this['configs']['localNode'],_0x1e5786,_0xa3d51a,_0x124d87,_0x47f4e6,this[_0x2a4a0c(0x470)]['clusterId']);return _0x5f50a9[_0x2a4a0c(0x1f5)](_0xa3d51a,_0x5bda77),this[_0x2a4a0c(0x470)][_0x2a4a0c(0xa68)][_0x2a4a0c(0x3f8)](_0x5bda77),_0x5bda77;}['createVectorDatabase'](_0x5eadff,_0x102896){const _0x233d18=_0x3fd00f;if(this['vectorDatabases'][_0x233d18(0x68d)](_0x5eadff))throw new _0x19abf5(_0x2c23d1['VectorDatabaseAlreadyExists'],_0x233d18(0xab9));try{const _0x598707=new _0x54aa0b(this[_0x233d18(0x470)][_0x233d18(0x976)],_0x5eadff,this[_0x233d18(0x470)]['clusterId'],this[_0x233d18(0x470)][_0x233d18(0x3ee)],_0x102896);return this[_0x233d18(0x881)][_0x233d18(0x1f5)](_0x5eadff,_0x598707),this[_0x233d18(0x470)]['mediator'][_0x233d18(0x3f8)](_0x598707),_0x598707;}catch(_0x562d95){if(_0x562d95 instanceof _0x19abf5)throw _0x562d95;throw new _0x5d70cf(_0x5d70cf[_0x233d18(0x765)]['VectorDatabaseCreationFailed'],{'label':_0x5eadff,'clusterId':this[_0x233d18(0x470)][_0x233d18(0x9c0)],'vendorId':this[_0x233d18(0x470)]['vendorId']});}}[_0x3fd00f(0x163)](_0x216059){const _0x3e03c4=_0x3fd00f,_0x533a6a=Array[_0x3e03c4(0x4f7)](this[_0x3e03c4(0x218)]['values']());return _0x216059?_0x533a6a[_0x3e03c4(0x69d)](_0x216059):_0x533a6a;}[_0x3fd00f(0x763)](_0x42c4fb){const _0xcfb68d=_0x3fd00f,_0x536148=Array[_0xcfb68d(0x4f7)](this[_0xcfb68d(0x2b2)][_0xcfb68d(0x16a)]());return _0x42c4fb?_0x536148[_0xcfb68d(0x69d)](_0x42c4fb):_0x536148;}[_0x3fd00f(0x936)](_0x3eba5d){const _0x160085=_0x3fd00f,_0x13c84b=Array[_0x160085(0x4f7)](this[_0x160085(0x961)][_0x160085(0x16a)]());return _0x3eba5d?_0x13c84b[_0x160085(0x69d)](_0x3eba5d):_0x13c84b;}[_0x3fd00f(0x83c)](_0x299bed){const _0x353ea6=_0x3fd00f,_0x359e43=Array[_0x353ea6(0x4f7)](this[_0x353ea6(0x438)][_0x353ea6(0x16a)]());return _0x299bed?_0x359e43[_0x353ea6(0x69d)](_0x299bed):_0x359e43;}[_0x3fd00f(0x82b)](_0x4de402){const _0x5b404c=_0x3fd00f,_0x84289=Array[_0x5b404c(0x4f7)](this['jobWorkers'][_0x5b404c(0x16a)]());return _0x4de402?_0x84289['filter'](_0x4de402):_0x84289;}[_0x3fd00f(0x31b)](_0x70e891){const _0x286d41=_0x3fd00f,_0x1c5695=Array[_0x286d41(0x4f7)](this[_0x286d41(0x438)]['values']())[_0x286d41(0x69d)](_0x74d750=>_0x74d750 instanceof _0x29811e);return _0x70e891?_0x1c5695[_0x286d41(0x69d)](_0x70e891):_0x1c5695;}['getGenerativeAIWorkers'](_0x46ed66){const _0x4a06a9=_0x3fd00f,_0x4c583a=Array['from'](this[_0x4a06a9(0x4d9)][_0x4a06a9(0x16a)]())['filter'](_0x755595=>_0x755595 instanceof _0x1a5033);return _0x46ed66?_0x4c583a['filter'](_0x46ed66):_0x4c583a;}[_0x3fd00f(0x6a1)](_0x2aef5f){const _0x28c353=_0x3fd00f,_0x94f05=Array[_0x28c353(0x4f7)](this[_0x28c353(0x93b)]['values']());return _0x2aef5f?_0x94f05['filter'](_0x2aef5f):_0x94f05;}[_0x3fd00f(0x471)](_0x5b944f){const _0x29e2cf=_0x3fd00f,_0x37e75e=Array[_0x29e2cf(0x4f7)](this[_0x29e2cf(0x499)][_0x29e2cf(0x16a)]());return _0x5b944f?_0x37e75e[_0x29e2cf(0x69d)](_0x5b944f):_0x37e75e;}['getPubSubTopics'](_0x12e555){const _0x176bc7=_0x3fd00f,_0x3f1f98=Array[_0x176bc7(0x4f7)](this[_0x176bc7(0x202)][_0x176bc7(0x16a)]());return _0x12e555?_0x3f1f98[_0x176bc7(0x69d)](_0x12e555):_0x3f1f98;}[_0x3fd00f(0x26b)](_0x50b5b1){const _0xd7a8c0=_0x3fd00f,_0x580cf3=Array['from'](this[_0xd7a8c0(0x4e8)][_0xd7a8c0(0x16a)]())[_0xd7a8c0(0x9b1)]((_0x176ea6,_0x16eb65)=>[..._0x176ea6,...Array['from'](_0x16eb65[_0xd7a8c0(0x16a)]())],[]);return _0x50b5b1?_0x580cf3['filter'](_0x50b5b1):_0x580cf3;}[_0x3fd00f(0x64f)](_0x127b99){const _0x481908=_0x3fd00f,_0x576c3a=Array['from'](this[_0x481908(0x881)][_0x481908(0x16a)]());return _0x127b99?_0x576c3a['filter'](_0x127b99):_0x576c3a;}['getObjectStoreBucket'](_0x454e82){const _0x1c5477=_0x3fd00f,_0x5df98e=this[_0x1c5477(0x218)][_0x1c5477(0x7ae)](_0x454e82);if(!_0x5df98e)throw new _0x19abf5(_0x2c23d1[_0x1c5477(0x8f7)],_0x1c5477(0x733));return _0x5df98e;}[_0x3fd00f(0x810)](_0x2750d9){const _0x2eb8a7=_0x3fd00f,_0x12ac6a=_0x2750d9[_0x2eb8a7(0xae4)]('-'),_0x2dda10=this[_0x2eb8a7(0x2b2)][_0x2eb8a7(0x7ae)](_0x12ac6a[0x1]);if(!_0x2dda10)throw new _0x19abf5(_0x2c23d1[_0x2eb8a7(0x74e)],_0x2eb8a7(0x5e2));return _0x2dda10;}[_0x3fd00f(0x6b8)](_0x3a1c30){const _0x477dfb=_0x3fd00f,_0x332e01=this[_0x477dfb(0x93b)][_0x477dfb(0x7ae)](_0x3a1c30);if(!_0x332e01)throw new _0x19abf5(_0x2c23d1[_0x477dfb(0x88e)],_0x477dfb(0x1ae));return _0x332e01;}['getKeyValueDatabase'](_0x3b8a46){const _0x3c03b7=_0x3fd00f,_0x1a4087=this['keyValueDatabases'][_0x3c03b7(0x7ae)](_0x3b8a46);if(!_0x1a4087)throw new _0x19abf5(_0x2c23d1[_0x3c03b7(0x98c)],_0x3c03b7(0x56f));return _0x1a4087;}[_0x3fd00f(0xa44)](_0x5ca7ed){const _0x24173a=_0x3fd00f,_0x22a418=this[_0x24173a(0x202)][_0x24173a(0x7ae)](_0x5ca7ed);if(!_0x22a418)throw new _0x19abf5(_0x2c23d1['PubSubTopicDoesNotExist'],_0x24173a(0x632));return _0x22a418;}[_0x3fd00f(0xa02)](_0x4a12aa){const _0x3c3176=_0x3fd00f,_0x5a5653=this['vectorDatabases'][_0x3c3176(0x7ae)](_0x4a12aa);if(!_0x5a5653)throw new _0x19abf5(_0x2c23d1['VectorDatabaseDoesNotExist'],_0x3c3176(0x9e8));return _0x5a5653;}['handleContentSystemEvents'](_0x2a7179){const _0xc35737=_0x3fd00f;switch(_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x705)]){case _0x347d3c['PublishMediaStream']:this[_0xc35737(0x5ad)](_0x2a7179[_0xc35737(0xaf0)]);break;case _0x347d3c[_0xc35737(0x641)]:this[_0xc35737(0x4c2)](_0x2a7179[_0xc35737(0xaf0)]);break;case _0x347d3c['CloseJobDispatcher']:this['removeJobDispatcher'](_0x2a7179['content'][_0xc35737(0x985)]);break;case _0x347d3c[_0xc35737(0xaf3)]:this[_0xc35737(0x913)](_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x985)]);break;case _0x347d3c[_0xc35737(0x91c)]:this['removeLocalMediaStream'](_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x985)]);break;case _0x347d3c['ClosePubSubTopic']:this[_0xc35737(0x398)](_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x985)]);break;case _0x347d3c[_0xc35737(0x791)]:this[_0xc35737(0x846)](_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x985)]);break;case _0x347d3c[_0xc35737(0x32a)]:this['removeExternalStorageConnection'](_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x985)]);break;case _0x347d3c['CloseKeyValueDatabase']:this[_0xc35737(0x8ad)](_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x985)]);break;case _0x347d3c[_0xc35737(0x494)]:this[_0xc35737(0x183)](_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x985)]);break;case _0x347d3c['CloseGraphDatabase']:this['removeGraphDatabase'](_0x2a7179[_0xc35737(0xaf0)]['label']);break;case _0x347d3c[_0xc35737(0x27d)]:this[_0xc35737(0x3ce)](_0x2a7179[_0xc35737(0xaf0)]);break;case _0x347d3c[_0xc35737(0x8fd)]:this[_0xc35737(0x961)]['get'](_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x985)])?.[_0xc35737(0x6c0)](_0x2a7179[_0xc35737(0x42a)],_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x942)]);break;case _0x347d3c[_0xc35737(0xa21)]:this[_0xc35737(0x961)][_0xc35737(0x7ae)](_0x2a7179[_0xc35737(0xaf0)]['label'])?.[_0xc35737(0x4df)](_0x2a7179[_0xc35737(0x42a)],_0x2a7179['content'][_0xc35737(0x942)]);break;case _0x347d3c[_0xc35737(0x213)]:this[_0xc35737(0x961)]['get'](_0x2a7179['content']['label'])?.[_0xc35737(0x408)](_0x2a7179[_0xc35737(0x42a)],_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x3ff)]);break;case _0x347d3c[_0xc35737(0xae1)]:this[_0xc35737(0x961)]['get'](_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x985)])?.[_0xc35737(0x665)](_0x2a7179['sourceId'],_0x2a7179['content'][_0xc35737(0x257)]);break;case _0x347d3c['KeyValueDatabaseRequestTransactionsValue']:this[_0xc35737(0x961)][_0xc35737(0x7ae)](_0x2a7179['content'][_0xc35737(0x985)])?.[_0xc35737(0x673)](_0x2a7179[_0xc35737(0x42a)],_0x2a7179[_0xc35737(0xaf0)]['transactionIds']);break;case _0x347d3c[_0xc35737(0x461)]:this[_0xc35737(0x961)][_0xc35737(0x7ae)](_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0x985)])?.['processReceivedTransactions'](_0x2a7179[_0xc35737(0x42a)],_0x2a7179['content']['transactions']);break;case _0x347d3c['LocalMediaStreamTrackFail']:this[_0xc35737(0x470)][_0xc35737(0xa68)]['notifyCluster'](_0xc35737(0x262),{'label':_0x2a7179[_0xc35737(0xaf0)]['label'],'trackKinds':_0x2a7179[_0xc35737(0xaf0)][_0xc35737(0xa6e)]});}}[_0x3fd00f(0x2ac)]({content:_0x1b6d62}){const _0x4e5f6c=_0x3fd00f;switch(_0x1b6d62[_0x4e5f6c(0x705)]){case _0x328b54[_0x4e5f6c(0x4ae)]:this['handleNodeJoinNeedPublishedStream'](_0x1b6d62),this[_0x4e5f6c(0x65c)](_0x1b6d62);break;case _0x328b54[_0x4e5f6c(0x7fb)]:this[_0x4e5f6c(0x473)](_0x1b6d62),this['notifyObjectStoreOfNodeLeave'](_0x1b6d62);}}[_0x3fd00f(0x82a)](_0x57ed65){const _0x1c1783=_0x3fd00f;switch(_0x57ed65[_0x1c1783(0xaf0)]['type']){case _0x871c00['SubscribeMediaStream']:this[_0x1c1783(0x61a)](_0x57ed65[_0x1c1783(0x42a)],_0x57ed65[_0x1c1783(0xaf0)]);break;case _0x871c00[_0x1c1783(0x4fb)]:this[_0x1c1783(0x39e)](_0x57ed65['sourceId'],_0x57ed65[_0x1c1783(0xaf0)]);break;case _0x871c00[_0x1c1783(0x27d)]:this[_0x1c1783(0x279)](_0x57ed65[_0x1c1783(0x42a)],_0x57ed65[_0x1c1783(0xaf0)]);}}[_0x3fd00f(0x3ce)](_0x377202){const _0x4de40f=_0x3fd00f;if(0x0===_0x377202[_0x4de40f(0x289)])this[_0x4de40f(0x4e8)]['get'](_0x377202[_0x4de40f(0x490)])?.[_0x4de40f(0x7ae)](_0x377202['label'])?.['destroy']();else{const _0x2f0058=this[_0x4de40f(0x4e8)]['get'](_0x377202['ownerId'])?.[_0x4de40f(0x7ae)](_0x377202['label']);if(!_0x2f0058)return;_0x377202[_0x4de40f(0xa6e)][_0x4de40f(0x3e1)](_0x2b912f=>_0x2f0058['unsubscribeTrackEndedListener'](_0x2b912f));}}[_0x3fd00f(0x5ad)](_0x7acc88){const _0x21c13d=_0x3fd00f,{label:_0x2b09cc,ownerId:_0x127cf0,stream:{streamId:_0xe46512,availableTrackKinds:_0x2ec640}}=_0x7acc88;if(this['remoteMediaStreams']['get'](_0x127cf0)?.[_0x21c13d(0x68d)](_0x2b09cc))return void _0x404abe[_0x21c13d(0x327)](_0x20ff7d[_0x21c13d(0x870)],_0x21c13d(0xa41),_0xe46512);const _0x1db062=this[_0x21c13d(0x734)](_0x127cf0,_0x2b09cc,_0xe46512,_0x2ec640);this[_0x21c13d(0x470)][_0x21c13d(0xa68)]['notifyCluster'](_0x21c13d(0x91b),{'ownerId':_0x127cf0,'stream':_0x1db062});}['handleUnpublishMediaStream']({ownerId:_0x3632f1,label:_0x2d3b95}){const _0x8e57a1=_0x3fd00f;this[_0x8e57a1(0x4ad)](_0x3632f1,_0x2d3b95),this[_0x8e57a1(0x470)][_0x8e57a1(0xa68)][_0x8e57a1(0x95b)](_0x8e57a1(0x40f),{'ownerId':_0x3632f1,'label':_0x2d3b95});}[_0x3fd00f(0x61a)](_0x3268a3,_0x4fe511){const _0xe03cca=_0x3fd00f,{ownerId:_0x7dfd55,label:_0x163766}=_0x4fe511;let _0x3cf659;_0x3cf659=_0x7dfd55!==this[_0xe03cca(0x470)]['localNode'][_0xe03cca(0xb04)]()?this[_0xe03cca(0x4e8)][_0xe03cca(0x7ae)](_0x7dfd55)[_0xe03cca(0x7ae)](_0x163766):this[_0xe03cca(0x499)][_0xe03cca(0x7ae)](_0x163766),_0x3cf659[_0xe03cca(0x7cb)](_0x3268a3,_0x4fe511[_0xe03cca(0x1c5)])[_0xe03cca(0x84f)](_0x4fe511,_0x3cf659['getPriority']());}['handleUpdateMediaStream'](_0x5f462e,_0x4c27cb){const _0x4fef18=_0x3fd00f,{ownerId:_0x2cbe82,label:_0x1f4530}=_0x4c27cb;let _0x3b1f60;_0x3b1f60=_0x2cbe82!==this[_0x4fef18(0x470)][_0x4fef18(0x976)]['getId']()?this[_0x4fef18(0x4e8)][_0x4fef18(0x7ae)](_0x2cbe82)[_0x4fef18(0x7ae)](_0x1f4530):this[_0x4fef18(0x499)][_0x4fef18(0x7ae)](_0x1f4530),_0x3b1f60[_0x4fef18(0x7cb)](_0x5f462e,_0x4c27cb[_0x4fef18(0x1c5)])[_0x4fef18(0xa18)](_0x4c27cb);}[_0x3fd00f(0x279)](_0x9816e2,_0x58cca4){const _0x25d06a=_0x3fd00f,{ownerId:_0x5d78e3,label:_0x15d963}=_0x58cca4;let _0x21c73a;_0x21c73a=_0x5d78e3!==this[_0x25d06a(0x470)]['localNode'][_0x25d06a(0xb04)]()?this['remoteMediaStreams'][_0x25d06a(0x7ae)](_0x5d78e3)[_0x25d06a(0x7ae)](_0x15d963):this['localMediaStreams'][_0x25d06a(0x7ae)](_0x15d963),_0x21c73a[_0x25d06a(0x7cb)](_0x9816e2)[_0x25d06a(0x35a)](_0x58cca4);}['handleNodeJoinNeedPublishedStream']({id:_0x544c1}){const _0x29e8dc=_0x3fd00f;this['getLocalMediaStreams']()[_0x29e8dc(0x3e1)](_0x29cdac=>{const _0xddc7d7=_0x29e8dc;_0x29cdac[_0xddc7d7(0x70e)](_0x544c1);});}[_0x3fd00f(0x473)]({id:_0xb1b9ab}){const _0x3d2a1d=_0x3fd00f;this[_0x3d2a1d(0x26b)](_0x4ca478=>_0x4ca478['getOwnerId']()===_0xb1b9ab)[_0x3d2a1d(0x3e1)](_0xd95e3d=>{const _0x37d88f=_0x3d2a1d;this[_0x37d88f(0x4ad)](_0xd95e3d['getOwnerId'](),_0xd95e3d[_0x37d88f(0x891)]());});}['notifyObjectStoreOfNodeJoin']({id:_0x3ae509}){const _0xa202c=_0x3fd00f;this[_0xa202c(0x218)][_0xa202c(0x3e1)](_0x416b5c=>_0x416b5c[_0xa202c(0x947)](_0x3ae509));}[_0x3fd00f(0x4e2)]({id:_0x4b8f05}){const _0xa2b59c=_0x3fd00f;this[_0xa2b59c(0x218)][_0xa2b59c(0x3e1)](_0x2a490f=>_0x2a490f[_0xa2b59c(0x473)](_0x4b8f05));}[_0x3fd00f(0x176)](_0x14c574){const _0x4e2b67=_0x3fd00f;if(!this[_0x4e2b67(0x438)][_0x4e2b67(0x68d)](_0x14c574))throw new _0x19abf5(_0x2c23d1[_0x4e2b67(0x87b)],_0x4e2b67(0x258));const _0x50234e=this[_0x4e2b67(0x438)][_0x4e2b67(0x7ae)](_0x14c574);this['jobDispatchers']['delete'](_0x14c574),_0x50234e[_0x4e2b67(0x407)](),this[_0x4e2b67(0x470)]['mediator']['unregisterSystemSource'](_0x50234e);}[_0x3fd00f(0x913)](_0x3967e1){const _0x2118cc=_0x3fd00f;if(!this[_0x2118cc(0x4d9)]['has'](_0x3967e1))throw new _0x19abf5(_0x2c23d1[_0x2118cc(0xab7)],_0x2118cc(0x5ae));const _0x55c006=this['jobWorkers']['get'](_0x3967e1);this[_0x2118cc(0x4d9)][_0x2118cc(0x92b)](_0x3967e1),_0x55c006['destroy'](),this[_0x2118cc(0x470)][_0x2118cc(0xa68)][_0x2118cc(0xabc)](_0x55c006);}['removeObjectStore'](_0x54c575){const _0x304f45=_0x3fd00f;if(!this['objectStores'][_0x304f45(0x68d)](_0x54c575))throw new _0x19abf5(_0x2c23d1[_0x304f45(0x8f7)],_0x304f45(0x46f));const _0x1ff3ad=this[_0x304f45(0x218)][_0x304f45(0x7ae)](_0x54c575);this['objectStores'][_0x304f45(0x92b)](_0x54c575),_0x1ff3ad[_0x304f45(0x407)](),this[_0x304f45(0x470)][_0x304f45(0xa68)]['unregisterSystemSource'](_0x1ff3ad);}[_0x3fd00f(0x1fc)](_0x519eaa){const _0x4fe61b=_0x3fd00f;if(!this[_0x4fe61b(0x2b2)]['has'](_0x519eaa))throw new _0x19abf5(_0x2c23d1[_0x4fe61b(0x74e)],_0x4fe61b(0x761));const _0x398695=this[_0x4fe61b(0x2b2)][_0x4fe61b(0x7ae)](_0x519eaa);this['externalStorageConnections'][_0x4fe61b(0x92b)](_0x519eaa),_0x398695[_0x4fe61b(0x407)](),this[_0x4fe61b(0x470)]['mediator'][_0x4fe61b(0xabc)](_0x398695);}[_0x3fd00f(0x398)](_0x43a9e5){const _0x239b96=_0x3fd00f;if(!this[_0x239b96(0x202)][_0x239b96(0x68d)](_0x43a9e5))throw new _0x19abf5(_0x2c23d1[_0x239b96(0x196)],_0x239b96(0x46f));const _0x14bfcc=this[_0x239b96(0x202)][_0x239b96(0x7ae)](_0x43a9e5);this[_0x239b96(0x202)]['delete'](_0x43a9e5),_0x14bfcc['destroy'](),this['configs']['mediator']['unregisterSystemSource'](_0x14bfcc);}['removeKeyValueDatabase'](_0x34bfea){const _0xdd07f1=_0x3fd00f;if(!this['keyValueDatabases']['has'](_0x34bfea))throw new _0x19abf5(_0x2c23d1[_0xdd07f1(0x98c)],_0xdd07f1(0xa98));const _0x1c7be0=this[_0xdd07f1(0x961)]['get'](_0x34bfea);this['keyValueDatabases'][_0xdd07f1(0x92b)](_0x34bfea),_0x1c7be0['destroy'](),this[_0xdd07f1(0x470)][_0xdd07f1(0xa68)][_0xdd07f1(0xabc)](_0x1c7be0);}[_0x3fd00f(0x183)](_0x4d4279){const _0x47fcee=_0x3fd00f;if(!this[_0x47fcee(0x881)][_0x47fcee(0x68d)](_0x4d4279))throw new _0x19abf5(_0x2c23d1[_0x47fcee(0x713)],'Database\x20does\x20not\x20exist');const _0x29c1fd=this[_0x47fcee(0x881)][_0x47fcee(0x7ae)](_0x4d4279);this[_0x47fcee(0x881)][_0x47fcee(0x92b)](_0x4d4279),_0x29c1fd[_0x47fcee(0x407)](),this[_0x47fcee(0x470)]['mediator'][_0x47fcee(0xabc)](_0x29c1fd);}[_0x3fd00f(0x635)](_0xdd3502){const _0x1eafe9=_0x3fd00f;if(!this[_0x1eafe9(0x93b)][_0x1eafe9(0x68d)](_0xdd3502))throw new _0x19abf5(_0x2c23d1[_0x1eafe9(0x88e)],_0x1eafe9(0xa98));const _0x220227=this[_0x1eafe9(0x93b)][_0x1eafe9(0x7ae)](_0xdd3502);this['graphDatabases'][_0x1eafe9(0x92b)](_0xdd3502),_0x220227[_0x1eafe9(0x407)](),this[_0x1eafe9(0x470)][_0x1eafe9(0xa68)][_0x1eafe9(0xabc)](_0x220227);}[_0x3fd00f(0x7cc)](_0x581014){const _0x48cda4=_0x3fd00f;if(!this[_0x48cda4(0x499)][_0x48cda4(0x68d)](_0x581014))throw new _0x5d70cf(_0x5d70cf[_0x48cda4(0x765)][_0x48cda4(0x389)],{'label':_0x581014,'localId':this[_0x48cda4(0x470)][_0x48cda4(0x976)][_0x48cda4(0xb04)]()});const _0x2074da=this[_0x48cda4(0x499)][_0x48cda4(0x7ae)](_0x581014);this[_0x48cda4(0x470)][_0x48cda4(0xa68)][_0x48cda4(0xabc)](_0x2074da),_0x2074da[_0x48cda4(0x407)](),this[_0x48cda4(0x499)][_0x48cda4(0x92b)](_0x581014);}[_0x3fd00f(0x4ad)](_0x2cb19c,_0x1b60c3){const _0x284723=_0x3fd00f;if(!this[_0x284723(0x4e8)][_0x284723(0x68d)](_0x2cb19c))throw new _0x5d70cf(_0x5d70cf[_0x284723(0x765)][_0x284723(0x2f4)],{'nodeId':_0x2cb19c,'localId':this[_0x284723(0x470)]['localNode']['getId']()});const _0x5401d1=this[_0x284723(0x4e8)][_0x284723(0x7ae)](_0x2cb19c);if(!_0x5401d1[_0x284723(0x68d)](_0x1b60c3))throw new _0x5d70cf(_0x5d70cf[_0x284723(0x765)][_0x284723(0x402)],{'nodeId':_0x2cb19c,'label':_0x1b60c3,'localId':this[_0x284723(0x470)][_0x284723(0x976)]['getId']()});const _0x5064f5=_0x5401d1[_0x284723(0x7ae)](_0x1b60c3);this['configs']['mediator'][_0x284723(0xabc)](_0x5064f5),_0x5064f5[_0x284723(0x407)](),_0x5401d1['delete'](_0x1b60c3);}}var _0x150f65,_0x7e0819,_0x2731aa;!function(_0x187a8f){const _0x5291ff=_0x3fd00f;_0x187a8f[_0x5291ff(0x72b)]=_0x5291ff(0x859),_0x187a8f[_0x5291ff(0x6bc)]=_0x5291ff(0x15e),_0x187a8f[_0x5291ff(0x7d6)]='time_per_frame',_0x187a8f['Bitrate']='bitrate',_0x187a8f[_0x5291ff(0x885)]=_0x5291ff(0x3b6),_0x187a8f[_0x5291ff(0x68b)]=_0x5291ff(0x278),_0x187a8f[_0x5291ff(0x44c)]=_0x5291ff(0x664),_0x187a8f['AudioVideoDelay']='av_delay';}(_0x150f65||(_0x150f65={})),function(_0x13535d){const _0x46d29c=_0x3fd00f;_0x13535d['CPUCycle']='cpu.cycle',_0x13535d[_0x46d29c(0x7d6)]=_0x46d29c(0x5d5),_0x13535d[_0x46d29c(0xaec)]=_0x46d29c(0x9f6),_0x13535d[_0x46d29c(0x68b)]=_0x46d29c(0x703),_0x13535d[_0x46d29c(0x35d)]=_0x46d29c(0x4c1),_0x13535d['Jitter']=_0x46d29c(0xa35),_0x13535d[_0x46d29c(0x44c)]=_0x46d29c(0x764);}(_0x7e0819||(_0x7e0819={})),function(_0x217be0){_0x217be0[_0x217be0['Problem']=0x0]='Problem';}(_0x2731aa||(_0x2731aa={}));const _0x23bf6e=[{'type':_0x150f65['STVolatility'],'reportMetric':_0x125243=>_0x125243['STVolatility'],'maxThreshold':2.5},{'type':_0x150f65[_0x3fd00f(0x6bc)],'reportMetric':_0xd63fc2=>_0xd63fc2['DTVolatility'],'maxThreshold':0.5}],_0x1c16c4=[{'type':_0x150f65[_0x3fd00f(0x7d6)],'reportMetric':_0x170dcf=>{const _0x2ccd07=_0x3fd00f,_0x2b017f=0x3e8/_0x170dcf[_0x2ccd07(0xac6)];return _0x170dcf[_0x2ccd07(0x1b6)]/_0x2b017f;},'maxThreshold':0.75},{'type':_0x150f65[_0x3fd00f(0x35d)],'reportMetric':_0x3532d4=>{const _0x481282=_0x3fd00f,_0x326a78=_0x3532d4[_0x481282(0xac6)]*_0x3532d4[_0x481282(0x7c7)]*_0x3532d4[_0x481282(0x4a7)]*0.12;return _0x3532d4[_0x481282(0x81d)]/_0x326a78;},'minThreshold':0.25},{'type':_0x150f65[_0x3fd00f(0x885)],'reportMetric':_0x27e508=>_0x27e508[_0x3fd00f(0x3b6)],'maxThreshold':0.6},{'type':_0x150f65[_0x3fd00f(0x68b)],'reportMetric':_0x4ea290=>_0x4ea290[_0x3fd00f(0xac6)],'minThreshold':0xa}],_0x73471f=[{'type':_0x150f65['Jitter'],'reportMetric':_0x11a0df=>_0x11a0df['jitter'],'maxThreshold':0.6}],_0x5995a4=[{'type':_0x150f65[_0x3fd00f(0x44c)],'reportMetric':_0x281152=>_0x281152['roundTripTime'],'maxThreshold':0x1/0x0}],_0x171abb=[{'type':_0x150f65[_0x3fd00f(0xaec)],'reportMetric':_0x4a3207=>_0x4a3207[_0x3fd00f(0xaec)],'maxThreshold':0x12c}],_0x2cede=[{'type':_0x7e0819[_0x3fd00f(0x6c3)],'issues':[{'type':_0x150f65[_0x3fd00f(0x72b)],'threshold':0x5},{'type':_0x150f65[_0x3fd00f(0x6bc)],'threshold':0x5}]},{'type':_0x7e0819[_0x3fd00f(0x7d6)],'issues':[{'type':_0x150f65[_0x3fd00f(0x7d6)],'threshold':0x3}]},{'type':_0x7e0819[_0x3fd00f(0xaec)],'issues':[{'type':_0x150f65[_0x3fd00f(0xaec)],'threshold':0x2}]},{'type':_0x7e0819[_0x3fd00f(0x68b)],'issues':[{'type':_0x150f65['FramePerSecond'],'threshold':0x3}]},{'type':_0x7e0819[_0x3fd00f(0x35d)],'issues':[{'type':_0x150f65[_0x3fd00f(0x35d)],'threshold':0x3}]},{'type':_0x7e0819['Jitter'],'issues':[{'type':_0x150f65['Jitter'],'threshold':0x3}]},{'type':_0x7e0819[_0x3fd00f(0x44c)],'issues':[{'type':_0x150f65['RoundTripTime'],'threshold':0x3}]}];var _0x12925a,_0x39df45;!function(_0x3e8a5b){const _0x108356=_0x3fd00f;_0x3e8a5b[_0x3e8a5b[_0x108356(0x99c)]=0x0]='StreamReport',_0x3e8a5b[_0x3e8a5b[_0x108356(0xabf)]=0x1]='LocalReport';}(_0x12925a||(_0x12925a={}));class _0x34f7b0{['configs'];['issues']=[];['systemTopic'];constructor(_0x12f1c3){const _0x3a3385=_0x3fd00f;this['configs']=_0x12f1c3,this[_0x3a3385(0x470)][_0x3a3385(0xa68)][_0x3a3385(0x3f8)](this);}[_0x3fd00f(0xaf2)](_0x40991a){const _0x27d842=_0x3fd00f;this[_0x27d842(0x5cb)]=_0x40991a;}[_0x3fd00f(0x607)](){const _0x182782=_0x3fd00f;this[_0x182782(0x5cb)]=void 0x0;}[_0x3fd00f(0x883)](){const _0x5733d1=_0x3fd00f;this['configs'][_0x5733d1(0xa68)][_0x5733d1(0xabc)](this),this[_0x5733d1(0x8b7)]=[];}[_0x3fd00f(0x2e4)](_0x5c26d4){const _0x1fd5a5=_0x3fd00f;switch(_0x5c26d4[_0x1fd5a5(0xaf0)][_0x1fd5a5(0x705)]){case _0x12925a[_0x1fd5a5(0xabf)]:this['detectLocalIssues'](_0x5c26d4['content'][_0x1fd5a5(0xa83)]);break;case _0x12925a[_0x1fd5a5(0x99c)]:this[_0x1fd5a5(0x435)](_0x5c26d4[_0x1fd5a5(0xaf0)][_0x1fd5a5(0xa83)]);}}[_0x3fd00f(0x282)](_0x2a43db,_0x4f3618,_0x166e31,_0x3ba33f){const _0x3765fa=_0x3fd00f,_0x27e1e5=_0x2cede[_0x3765fa(0x78b)](_0xd228cc=>_0xd228cc[_0x3765fa(0x8b7)][_0x3765fa(0x564)](_0x36b94d=>_0x36b94d[_0x3765fa(0x705)]===_0x2a43db));_0x3ba33f>=_0x27e1e5[_0x3765fa(0x8b7)][_0x3765fa(0x78b)](_0x3162c7=>_0x3162c7['type']===_0x2a43db)[_0x3765fa(0x27a)]&&(this[_0x3765fa(0x7a1)](_0x27e1e5['type'],_0x4f3618,_0x166e31),this['issues']=this['issues'][_0x3765fa(0x69d)](_0x3ba4ed=>!(_0x3ba4ed[_0x3765fa(0x705)]===_0x2a43db&&_0x3ba4ed['nodeId']===_0x4f3618&&_0x3ba4ed['origin']===_0x166e31)));}[_0x3fd00f(0x946)](_0x4eddde){const _0x52d487=_0x3fd00f;_0x23bf6e[_0x52d487(0x3e1)](_0xef241f=>{const _0x4ccc4e=_0x52d487,_0x12a651=_0xef241f[_0x4ccc4e(0x1c4)](_0x4eddde);_0xef241f['maxThreshold']&&_0x12a651>_0xef241f[_0x4ccc4e(0x7ce)]&&this[_0x4ccc4e(0x54a)](_0xef241f[_0x4ccc4e(0x705)],this[_0x4ccc4e(0x470)][_0x4ccc4e(0x976)][_0x4ccc4e(0xb04)](),_0x5c51d6[_0x4ccc4e(0x6cd)],_0x12a651),_0xef241f['minThreshold']&&_0x12a651<_0xef241f[_0x4ccc4e(0x18c)]&&this[_0x4ccc4e(0x54a)](_0xef241f['type'],this[_0x4ccc4e(0x470)][_0x4ccc4e(0x976)][_0x4ccc4e(0xb04)](),_0x5c51d6['Sender'],_0x12a651);});}['detectStreamIssues'](_0x3d2827){const _0x1bf21c=_0x3fd00f;let _0x455386=[];switch(_0x3d2827[_0x1bf21c(0x96e)]){case _0x5c51d6['Sender']:_0x455386=_0x5995a4;break;case _0x5c51d6[_0x1bf21c(0x303)]:_0x455386=_0x171abb;}_0x3d2827[_0x1bf21c(0x8ed)]&&this[_0x1bf21c(0x49c)](_0x3d2827[_0x1bf21c(0x4d3)],_0x5c51d6[_0x1bf21c(0x6cd)],_0x3d2827['video']),_0x3d2827[_0x1bf21c(0x2d2)]&&this[_0x1bf21c(0x66c)](_0x3d2827[_0x1bf21c(0x4d3)],_0x5c51d6[_0x1bf21c(0x6cd)],_0x3d2827['audio']),_0x455386[_0x1bf21c(0x3e1)](_0x56bd82=>{const _0x47aa6e=_0x1bf21c,_0x2fc61b=_0x56bd82['reportMetric'](_0x3d2827);_0x56bd82[_0x47aa6e(0x7ce)]&&_0x2fc61b>_0x56bd82[_0x47aa6e(0x7ce)]&&this[_0x47aa6e(0x54a)](_0x56bd82[_0x47aa6e(0x705)],_0x3d2827[_0x47aa6e(0x4d3)],_0x5c51d6[_0x47aa6e(0x6cd)],_0x2fc61b),_0x56bd82[_0x47aa6e(0x18c)]&&_0x2fc61b<_0x56bd82[_0x47aa6e(0x18c)]&&this[_0x47aa6e(0x54a)](_0x56bd82['type'],_0x3d2827[_0x47aa6e(0x4d3)],_0x5c51d6[_0x47aa6e(0x6cd)],_0x2fc61b);});}[_0x3fd00f(0x49c)](_0x35c25b,_0x4cf4f5,_0x38392d){const _0x36e800=_0x3fd00f;0x0!==_0x38392d[_0x36e800(0x81d)]&&_0x1c16c4[_0x36e800(0x3e1)](_0x31ae48=>{const _0x5c7970=_0x36e800,_0x2d48c0=_0x31ae48[_0x5c7970(0x1c4)](_0x38392d);_0x31ae48[_0x5c7970(0x7ce)]&&_0x2d48c0>_0x31ae48[_0x5c7970(0x7ce)]&&this['addIssue'](_0x31ae48[_0x5c7970(0x705)],_0x35c25b,_0x4cf4f5,_0x2d48c0,'video'),_0x31ae48[_0x5c7970(0x18c)]&&_0x2d48c0<_0x31ae48[_0x5c7970(0x18c)]&&this['addIssue'](_0x31ae48['type'],_0x35c25b,_0x4cf4f5,_0x2d48c0,_0x5c7970(0x8ed));});}[_0x3fd00f(0x66c)](_0x381150,_0x3e07af,_0x4ee022){const _0x132cd0=_0x3fd00f;0x0!==_0x4ee022[_0x132cd0(0x81d)]&&_0x73471f['forEach'](_0x40e268=>{const _0x55accd=_0x132cd0,_0x52c261=_0x40e268[_0x55accd(0x1c4)](_0x4ee022);_0x40e268['maxThreshold']&&_0x52c261>_0x40e268[_0x55accd(0x7ce)]&&this[_0x55accd(0x54a)](_0x40e268[_0x55accd(0x705)],_0x381150,_0x3e07af,_0x52c261,_0x55accd(0x2d2)),_0x40e268['minThreshold']&&_0x52c261<_0x40e268[_0x55accd(0x18c)]&&this[_0x55accd(0x54a)](_0x40e268[_0x55accd(0x705)],_0x381150,_0x3e07af,_0x52c261,_0x55accd(0x2d2));});}['addIssue'](_0x3d5b36,_0x282fe1,_0x2feb88,_0x3ffc40,_0x15f5c8){const _0x364740=_0x3fd00f;_0x404abe[_0x364740(0x327)](_0x20ff7d['Detection'],_0x364740(0x605)+_0x3d5b36,_0x3d5b36,_0x3ffc40),_0x404abe[_0x364740(0xaee)]('issue',{'clusterId':this[_0x364740(0x470)][_0x364740(0x9c0)],'nodeId':this[_0x364740(0x470)][_0x364740(0x976)]['getId'](),'nodeType':this[_0x364740(0x470)][_0x364740(0x976)][_0x364740(0x705)],'remoteId':_0x282fe1,'data':{'type':_0x3d5b36,'value':_0x3ffc40,'kind':_0x15f5c8}}),this[_0x364740(0x8b7)]=this['issues']['filter'](_0x776e33=>Date[_0x364740(0x441)]()-_0x776e33[_0x364740(0x1cc)]<0x7530),this[_0x364740(0x8b7)][_0x364740(0x639)]({'timestamp':Date[_0x364740(0x441)](),'type':_0x3d5b36,'nodeId':_0x282fe1,'origin':_0x2feb88,'value':_0x3ffc40,'kind':_0x15f5c8});const _0xd56f90=this[_0x364740(0x8b7)][_0x364740(0x69d)](_0x362dde=>_0x362dde[_0x364740(0x705)]===_0x3d5b36&&_0x362dde['nodeId']===_0x282fe1&&_0x362dde[_0x364740(0x96e)]===_0x2feb88)[_0x364740(0xa5f)];this[_0x364740(0x282)](_0x3d5b36,_0x282fe1,_0x2feb88,_0xd56f90);}[_0x3fd00f(0x7a1)](_0x45d890,_0x33961c,_0x549046){const _0x3221b0=_0x3fd00f;_0x404abe['log'](_0x20ff7d[_0x3221b0(0x2b4)],_0x3221b0(0x708)+_0x45d890),_0x404abe[_0x3221b0(0xaee)](_0x3221b0(0x762),{'clusterId':this[_0x3221b0(0x470)][_0x3221b0(0x9c0)],'nodeId':this['configs'][_0x3221b0(0x976)][_0x3221b0(0xb04)](),'nodeType':this[_0x3221b0(0x470)]['localNode']['type'],'remoteId':_0x33961c,'data':{'type':_0x45d890}}),this[_0x3221b0(0x5cb)]?.[_0x3221b0(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0['Detection'],'content':{'type':_0x2731aa[_0x3221b0(0x7f2)],'data':{'timestamp':Date[_0x3221b0(0x441)](),'nodeId':_0x33961c,'origin':_0x5c51d6[_0x3221b0(0x6cd)],'type':_0x45d890}}});}}class _0x59b5e9 extends _0x21854c{[_0x3fd00f(0x705)]=_0x548494[_0x3fd00f(0x30f)][_0x3fd00f(0xa4c)];}class _0x504f2d extends _0x59b5e9{[_0x3fd00f(0x5cb)];[_0x3fd00f(0x853)]=Date[_0x3fd00f(0x441)]();[_0x3fd00f(0x768)];[_0x3fd00f(0x647)];[_0x3fd00f(0x883)](){const _0x27c092=_0x3fd00f;this[_0x27c092(0x768)]&&(clearTimeout(this[_0x27c092(0x768)]),delete this[_0x27c092(0x768)]),delete this[_0x27c092(0x647)],this['currentVersion']=Date[_0x27c092(0x441)](),super['close']();}['registerSystemPublisher'](_0x3fcbe2){const _0x4c1dbc=_0x3fd00f;this[_0x4c1dbc(0x5cb)]=_0x3fcbe2;}[_0x3fd00f(0x607)](){delete this['systemTopic'];}['answerJoin'](_0x4c10c5){const _0x4d348d=_0x3fd00f;!this[_0x4d348d(0x768)]&&this[_0x4d348d(0xada)]&&this[_0x4d348d(0x5cb)][_0x4d348d(0x70e)]({'sourceId':this['id'],'destinationIds':[_0x4c10c5],'propagate':!0x0,'messageType':_0x519af0[_0x4d348d(0x9ce)],'content':{'type':_0x328b54[_0x4d348d(0x7e8)],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x4d348d(0xae9)](),'remoteConnections':Array['from'](this[_0x4d348d(0x162)]),'version':this['currentVersion']}});}[_0x3fd00f(0x615)](_0x149010){const _0x412a1d=_0x3fd00f;this[_0x412a1d(0x162)]['has'](_0x149010)||(this[_0x412a1d(0x162)][_0x412a1d(0x30b)](_0x149010),this[_0x412a1d(0x3b9)](),this[_0x412a1d(0xa0b)](!0x0));}[_0x3fd00f(0x173)](_0x2ddf14){const _0x1ef8c4=_0x3fd00f;this[_0x1ef8c4(0x162)][_0x1ef8c4(0x68d)](_0x2ddf14)&&(this[_0x1ef8c4(0x162)][_0x1ef8c4(0x92b)](_0x2ddf14),this['incrementVersion'](),this[_0x1ef8c4(0xa0b)](!0x0));}[_0x3fd00f(0x284)](){const _0x538b6f=_0x3fd00f;return this[_0x538b6f(0x853)];}[_0x3fd00f(0x228)](_0xea9722,_0x197543=!0x0){const _0x1c3dac=_0x3fd00f;this[_0x1c3dac(0xada)]!==_0xea9722&&(this['rank']=_0xea9722,_0x197543&&(this[_0x1c3dac(0x3b9)](),this[_0x1c3dac(0xa0b)]()));}[_0x3fd00f(0x3b9)](){this['currentVersion']=Date['now']();}[_0x3fd00f(0xa0b)](_0x5c858b=!0x1){const _0x298433=_0x3fd00f;if(this[_0x298433(0xada)]){if(this[_0x298433(0x647)]||(this[_0x298433(0x647)]=Date[_0x298433(0x441)]()),this[_0x298433(0x768)]){if(Date[_0x298433(0x441)]()-this[_0x298433(0x647)]>0x2328)return;clearTimeout(this[_0x298433(0x768)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x2fdbff=_0x298433;delete this[_0x2fdbff(0x647)],delete this['updateDebounceTimeout'],this[_0x2fdbff(0x5cb)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x519af0['Node'],'content':{'type':_0x5c858b?_0x328b54[_0x2fdbff(0x74c)]:_0x328b54['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x2fdbff(0x705)]},'rank':this[_0x2fdbff(0xae9)](),'remoteConnections':Array[_0x2fdbff(0x4f7)](this[_0x2fdbff(0x162)]),'version':this[_0x2fdbff(0x853)]}});},0x3e8);}}}class _0x4a454a extends _0x1a8f93{[_0x3fd00f(0x5cb)];['currentVersion']=Date['now']();['updateDebounceTimeout'];[_0x3fd00f(0x647)];[_0x3fd00f(0x883)](){const _0x4bfc2a=_0x3fd00f;this[_0x4bfc2a(0x768)]&&(clearTimeout(this['updateDebounceTimeout']),delete this['updateDebounceTimeout']),delete this[_0x4bfc2a(0x647)],this[_0x4bfc2a(0x853)]=Date[_0x4bfc2a(0x441)](),super[_0x4bfc2a(0x883)]();}[_0x3fd00f(0xaf2)](_0x1cc1d0){const _0x5cca9d=_0x3fd00f;this[_0x5cca9d(0x5cb)]=_0x1cc1d0;}[_0x3fd00f(0x607)](){const _0x42013c=_0x3fd00f;delete this[_0x42013c(0x5cb)];}['answerJoin'](_0x52ad01){const _0x27a7b2=_0x3fd00f;!this[_0x27a7b2(0x768)]&&this[_0x27a7b2(0xada)]&&this[_0x27a7b2(0x5cb)]['publish']({'sourceId':this['id'],'destinationIds':[_0x52ad01],'propagate':!0x0,'messageType':_0x519af0[_0x27a7b2(0x9ce)],'content':{'type':_0x328b54[_0x27a7b2(0x7e8)],'id':this['id'],'metaData':{'type':this[_0x27a7b2(0x705)],'displayName':this[_0x27a7b2(0xa7a)](),'email':this[_0x27a7b2(0x73d)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x27a7b2(0x4f7)](this['remoteConnections']),'version':this['currentVersion']}});}['addRemoteConnection'](_0x529bd0){const _0x553954=_0x3fd00f;this['remoteConnections'][_0x553954(0x68d)](_0x529bd0)||(this[_0x553954(0x162)][_0x553954(0x30b)](_0x529bd0),this['incrementVersion'](),this[_0x553954(0xa0b)](!0x0));}[_0x3fd00f(0x173)](_0x2572f5){const _0x41214a=_0x3fd00f;this['remoteConnections'][_0x41214a(0x68d)](_0x2572f5)&&(this['remoteConnections'][_0x41214a(0x92b)](_0x2572f5),this[_0x41214a(0x3b9)](),this[_0x41214a(0xa0b)](!0x0));}[_0x3fd00f(0x284)](){const _0x1f99b7=_0x3fd00f;return this[_0x1f99b7(0x853)];}[_0x3fd00f(0x995)](_0x939f92){const _0x47788a=_0x3fd00f;this[_0x47788a(0x78f)]!==_0x939f92&&(this[_0x47788a(0x78f)]=_0x939f92,this['incrementVersion'](),this[_0x47788a(0xa0b)]());}['setEmail'](_0x376144){const _0x3964fe=_0x3fd00f;this['email']!==_0x376144&&(this['email']=_0x376144,this[_0x3964fe(0x3b9)](),this[_0x3964fe(0xa0b)]());}['setRank'](_0xcdeadd,_0x574325=!0x0){const _0x123f3d=_0x3fd00f;this[_0x123f3d(0xada)]!==_0xcdeadd&&(this['rank']=_0xcdeadd,_0x574325&&(this[_0x123f3d(0x3b9)](),this[_0x123f3d(0xa0b)]()));}[_0x3fd00f(0x3b9)](){const _0xee8a63=_0x3fd00f;this[_0xee8a63(0x853)]=Date['now']();}[_0x3fd00f(0xa0b)](_0x21fccf=!0x1){const _0x2d5f11=_0x3fd00f;if(this['rank']){if(this['lastUpdated']||(this[_0x2d5f11(0x647)]=Date['now']()),this[_0x2d5f11(0x768)]){if(Date[_0x2d5f11(0x441)]()-this[_0x2d5f11(0x647)]>0x2328)return;clearTimeout(this[_0x2d5f11(0x768)]);}this[_0x2d5f11(0x768)]=setTimeout(()=>{const _0x2dbb9f=_0x2d5f11;delete this[_0x2dbb9f(0x647)],delete this[_0x2dbb9f(0x768)],this[_0x2dbb9f(0x5cb)][_0x2dbb9f(0x70e)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x519af0[_0x2dbb9f(0x9ce)],'content':{'type':_0x21fccf?_0x328b54[_0x2dbb9f(0x74c)]:_0x328b54[_0x2dbb9f(0x7e8)],'id':this['id'],'metaData':{'type':this[_0x2dbb9f(0x705)],'displayName':this[_0x2dbb9f(0xa7a)](),'email':this[_0x2dbb9f(0x73d)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x2dbb9f(0x4f7)](this[_0x2dbb9f(0x162)]),'version':this[_0x2dbb9f(0x853)]}});},0x3e8);}}}class _0x401f9e{['id'];[_0x3fd00f(0x39b)];[_0x3fd00f(0x3ee)];[_0x3fd00f(0x77e)];['type']=_0x548494[_0x3fd00f(0x30f)][_0x3fd00f(0xa4c)];['lastCapacityReport'];constructor(_0x486135,_0x572df6,_0x443d24,_0x2b9e8c){const _0x274c6a=_0x3fd00f;this['id']=_0x486135,this[_0x274c6a(0x39b)]=_0x572df6,this['vendorId']=_0x443d24,this[_0x274c6a(0x77e)]=_0x2b9e8c;}[_0x3fd00f(0xb04)](){return this['id'];}[_0x3fd00f(0x619)](_0x44a7cc){const _0x19be33=_0x3fd00f,_0xd2d91a=(0x0,_0x225f39['onSnapshot'])((0x0,_0x225f39['doc'])(_0x616df3['getFirestore'](),'developers/'+this[_0x19be33(0x3ee)]+_0x19be33(0xa17)+this['groupId']),_0x4294de=>{const _0x283b8c=_0x19be33;if(_0x4294de['exists']()){const _0x4b32a7=_0x4294de[_0x283b8c(0xa83)]();if(this[_0x283b8c(0x77e)][_0x283b8c(0x1cc)][_0x283b8c(0x788)](_0x4b32a7[_0x283b8c(0x1cc)]))return;_0x404abe[_0x283b8c(0x327)](_0x20ff7d[_0x283b8c(0x9ce)],'agent-config-changed',{'agentId':this['id'],'groupId':this[_0x283b8c(0x39b)],'oldConfig':this[_0x283b8c(0x77e)],'newConfig':_0x4b32a7}),this['agentConfig']=_0x4b32a7,_0x44a7cc();}});return()=>_0xd2d91a();}['setReportCapacity'](_0x4fab17){const _0x11bb7b=_0x3fd00f;return this['reportCapacity'](this[_0x11bb7b(0x39b)],_0x4fab17),_0xa2c3bc[_0x11bb7b(0x2a8)](()=>this[_0x11bb7b(0x75e)](this[_0x11bb7b(0x39b)],_0x4fab17),0x7530);}[_0x3fd00f(0x974)](){const _0x23d928=_0x3fd00f;if(!this['lastCapacityReport'])throw new _0x5d70cf(_0x5d70cf[_0x23d928(0x765)]['MistletCapacityReportNotSet']);return this[_0x23d928(0x6b0)];}async[_0x3fd00f(0x75e)](_0x4830bb,_0x5c8f3d){const _0x5b1877=_0x3fd00f,_0x5c64cf=await _0x5c8f3d();this[_0x5b1877(0x6b0)]=_0x5c64cf,await(0x0,_0x225f39['addDoc'])((0x0,_0x225f39[_0x5b1877(0x604)])(_0x616df3[_0x5b1877(0x390)](),_0x5b1877(0x7a8)+this[_0x5b1877(0x3ee)]+'/capacities'),{'agentId':this['id'],'groupId':_0x4830bb,'timestamp':(0x0,_0x225f39[_0x5b1877(0x2d1)])(),'capacity':_0x5c64cf});}}!function(_0x5a8b00){const _0xa6218e=_0x3fd00f;_0x5a8b00[_0x5a8b00[_0xa6218e(0x5f9)]=0x0]=_0xa6218e(0x5f9),_0x5a8b00[_0x5a8b00[_0xa6218e(0x790)]=0x1]=_0xa6218e(0x790);}(_0x39df45||(_0x39df45={}));class _0x277a52 extends _0x59b5e9{[_0x3fd00f(0x853)];[_0x3fd00f(0x2f5)]=_0x39df45[_0x3fd00f(0x5f9)];[_0x3fd00f(0x647)]=Date[_0x3fd00f(0x441)]();constructor(_0x2b72fb,_0x356fe4=new Set(),_0x3773d4,_0x802fec){super(_0x2b72fb,_0x356fe4,_0x802fec),this['currentVersion']=_0x3773d4;}[_0x3fd00f(0x284)](){const _0x49b78a=_0x3fd00f;return this[_0x49b78a(0x853)];}[_0x3fd00f(0x177)](){const _0x52c91a=_0x3fd00f;return this[_0x52c91a(0x2f5)];}['getLastUpdated'](){return this['lastUpdated'];}[_0x3fd00f(0x228)](_0x120b98){const _0x50f327=_0x3fd00f;this[_0x50f327(0xada)]!==_0x120b98&&(this[_0x50f327(0xada)]=_0x120b98,this[_0x50f327(0x1be)]());}[_0x3fd00f(0x38b)](_0x291b4a){const _0x3f8138=_0x3fd00f;let _0x388e72=!0x1;for(const _0x30ffd9 of this[_0x3f8138(0x162)])_0x291b4a['includes'](_0x30ffd9)||(_0x388e72=!0x0,this[_0x3f8138(0x162)]['delete'](_0x30ffd9));for(const _0x6aef70 of _0x291b4a)this[_0x3f8138(0x162)]['has'](_0x6aef70)||(_0x388e72=!0x0,this[_0x3f8138(0x162)]['add'](_0x6aef70));_0x388e72&&this[_0x3f8138(0x1be)]();}[_0x3fd00f(0x5ec)](_0x27530e){const _0x21caa5=_0x3fd00f;this[_0x21caa5(0x853)]!==_0x27530e&&(this['currentVersion']=_0x27530e,this[_0x21caa5(0x1be)]());}[_0x3fd00f(0x802)](_0x44dfe4){const _0x591fe3=_0x3fd00f;this[_0x591fe3(0x2f5)]!==_0x44dfe4&&(this[_0x591fe3(0x2f5)]=_0x44dfe4,this['updateLastUpdated'](),_0x44dfe4===_0x39df45[_0x591fe3(0x790)]&&this[_0x591fe3(0x883)]());}[_0x3fd00f(0x1be)](){const _0x3665d7=_0x3fd00f;this[_0x3665d7(0x647)]=Date['now']();}}class _0x7c0c72 extends _0x1a8f93{[_0x3fd00f(0x853)];['status']=_0x39df45[_0x3fd00f(0x5f9)];[_0x3fd00f(0x647)]=Date['now']();constructor(_0x1f2791,_0x44034b,_0xac4596,_0x4e40fc=new Set(),_0x584b31,_0x4c65d8){const _0x2bdeb3=_0x3fd00f;super(_0x1f2791,_0x44034b,_0xac4596,_0x4e40fc,_0x4c65d8),this[_0x2bdeb3(0x853)]=_0x584b31;}[_0x3fd00f(0x284)](){const _0x1b6c50=_0x3fd00f;return this[_0x1b6c50(0x853)];}[_0x3fd00f(0x177)](){const _0x34dadd=_0x3fd00f;return this[_0x34dadd(0x2f5)];}[_0x3fd00f(0xa06)](){const _0xab1680=_0x3fd00f;return this[_0xab1680(0x647)];}[_0x3fd00f(0x995)](_0x243729){const _0x15995a=_0x3fd00f;this[_0x15995a(0x78f)]!==_0x243729&&(this[_0x15995a(0x78f)]=_0x243729,this[_0x15995a(0x1be)]());}[_0x3fd00f(0x1f3)](_0x3940bc){const _0x558303=_0x3fd00f;this[_0x558303(0x75d)]!==_0x3940bc&&(this[_0x558303(0x75d)]=_0x3940bc,this[_0x558303(0x1be)]());}[_0x3fd00f(0x228)](_0xc68607){const _0x2d5099=_0x3fd00f;this[_0x2d5099(0xada)]!==_0xc68607&&(this[_0x2d5099(0xada)]=_0xc68607,this[_0x2d5099(0x1be)]());}[_0x3fd00f(0x38b)](_0x1e063d){const _0x1c4a6c=_0x3fd00f;let _0x38a677=!0x1;for(const _0x1bed7b of this[_0x1c4a6c(0x162)])_0x1e063d[_0x1c4a6c(0x7ac)](_0x1bed7b)||(_0x38a677=!0x0,this['remoteConnections']['delete'](_0x1bed7b));for(const _0x122ab0 of _0x1e063d)this[_0x1c4a6c(0x162)][_0x1c4a6c(0x68d)](_0x122ab0)||(_0x38a677=!0x0,this[_0x1c4a6c(0x162)][_0x1c4a6c(0x30b)](_0x122ab0));_0x38a677&&this[_0x1c4a6c(0x1be)]();}[_0x3fd00f(0x5ec)](_0x23b775){const _0x5ad575=_0x3fd00f;this['currentVersion']!==_0x23b775&&(this[_0x5ad575(0x853)]=_0x23b775,this[_0x5ad575(0x1be)]());}[_0x3fd00f(0x802)](_0x38aa67){const _0x374331=_0x3fd00f;this[_0x374331(0x2f5)]!==_0x38aa67&&(this[_0x374331(0x2f5)]=_0x38aa67,this[_0x374331(0x1be)](),_0x38aa67===_0x39df45[_0x374331(0x790)]&&this[_0x374331(0x883)]());}[_0x3fd00f(0x1be)](){const _0x2eba68=_0x3fd00f;this[_0x2eba68(0x647)]=Date[_0x2eba68(0x441)]();}}class _0x38ac93{[_0x3fd00f(0x3ee)];[_0x3fd00f(0x9c0)];[_0x3fd00f(0x976)];[_0x3fd00f(0x206)];['disconnectCallback']=_0x2d2e28();['firebaseUnsubscriber'];[_0x3fd00f(0x34f)];[_0x3fd00f(0x6ee)];[_0x3fd00f(0x36f)]=!0x1;[_0x3fd00f(0x189)];['nodeKey'];constructor(_0x302b44,_0x25d840,_0x391114,_0x3f210a){const _0x159f60=_0x3fd00f;this[_0x159f60(0x3ee)]=_0x302b44,this[_0x159f60(0x9c0)]=_0x25d840,this[_0x159f60(0x976)]=_0x391114,this[_0x159f60(0x206)]=_0x3f210a,this[_0x159f60(0x189)]=_0x159f60(0xaea)+this[_0x159f60(0x3ee)]+_0x159f60(0xaea)+this['clusterId'],this[_0x159f60(0x941)]='ccc'+this['vendorId']+'ccc'+this[_0x159f60(0x976)][_0x159f60(0xb04)](),this['firebaseUnsubscriber']=(0x0,_0x8856a1[_0x159f60(0x1fe)])((0x0,_0x8856a1[_0x159f60(0x5f1)])(_0x616df3[_0x159f60(0x55c)](),_0x159f60(0x67b)),_0x31711b=>{const _0x36cb40=_0x159f60;!0x0!==_0x31711b[_0x36cb40(0x8da)]()?this['connected']&&_0x404abe[_0x36cb40(0x805)](_0x36cb40(0x44a),{'clusterId':this['clusterId'],'nodeId':this[_0x36cb40(0x976)][_0x36cb40(0xb04)](),'nodeType':this[_0x36cb40(0x976)][_0x36cb40(0x705)]}):(this[_0x36cb40(0x36f)]=!0x0,this[_0x36cb40(0x770)](),_0x404abe['warning'](_0x36cb40(0x217),{'clusterId':this[_0x36cb40(0x9c0)],'nodeId':this[_0x36cb40(0x976)][_0x36cb40(0xb04)](),'nodeType':this[_0x36cb40(0x976)][_0x36cb40(0x705)]}));});}async['join'](){const _0x5ee5ca=_0x3fd00f;await this[_0x5ee5ca(0x3f0)]();const _0x5903f0=await this[_0x5ee5ca(0xa27)]();return this[_0x5ee5ca(0x34f)]=(0x0,_0x8856a1[_0x5ee5ca(0x3ba)])((0x0,_0x8856a1['ref'])(_0x616df3[_0x5ee5ca(0x55c)](),_0x5ee5ca(0x520)+this['clusterKey']+_0x5ee5ca(0x5ef)),_0x35f409=>{const _0x2d8d00=_0x5ee5ca,_0x377eb0=_0x35f409[_0x2d8d00(0x267)];if(!_0x377eb0)return;const _0x27fffd=_0x377eb0[_0x2d8d00(0x36b)](_0x2d8d00(0xaea)+this[_0x2d8d00(0x3ee)]+_0x2d8d00(0xaea),'');this[_0x2d8d00(0x562)][_0x2d8d00(0x70e)](_0x27fffd);}),_0x5903f0;}async['close'](){const _0x2b9b7f=_0x3fd00f;this[_0x2b9b7f(0x34f)]?.(),delete this[_0x2b9b7f(0x34f)],this[_0x2b9b7f(0x6ee)]?.[_0x2b9b7f(0x744)](),delete this[_0x2b9b7f(0x6ee)],this[_0x2b9b7f(0xaf6)]?.(),delete this[_0x2b9b7f(0xaf6)],await(0x0,_0x8856a1[_0x2b9b7f(0x9a7)])((0x0,_0x8856a1['ref'])(_0x616df3['getDatabase'](),_0x2b9b7f(0x520)+this[_0x2b9b7f(0x189)]+'/nodes/'+this['nodeKey']));}['onNodeDisconnect'](_0x3d4248){const _0x3211c7=_0x3fd00f;return this[_0x3211c7(0x562)][_0x3211c7(0x84f)](_0x3d4248);}async[_0x3fd00f(0xa27)](){const _0x5c97e4=_0x3fd00f,_0x5b0256=[],_0xaa7f0c=await(0x0,_0x8856a1[_0x5c97e4(0x7ae)])((0x0,_0x8856a1[_0x5c97e4(0x5f1)])(_0x616df3[_0x5c97e4(0x55c)](),'clusters/'+this[_0x5c97e4(0x189)]+_0x5c97e4(0x5ef))),_0x4ab3b3=[];return _0xaa7f0c[_0x5c97e4(0x3e1)](_0x3314e9=>{const _0x184166=_0x5c97e4,_0x53ef2c=_0x3314e9[_0x184166(0x267)]?.[_0x184166(0x36b)](_0x184166(0xaea)+this['vendorId']+_0x184166(0xaea),'');_0x4ab3b3[_0x184166(0x639)]({'id':_0x53ef2c,'joinedAt':_0x3314e9['val']()[_0x184166(0x682)],'priority':_0x3314e9[_0x184166(0x8da)]()[_0x184166(0x5b1)]});}),_0x4ab3b3[_0x5c97e4(0x822)]((_0x317f02,_0x540b2a)=>_0x317f02[_0x5c97e4(0x682)]===_0x540b2a[_0x5c97e4(0x682)]?_0x317f02[_0x5c97e4(0x5b1)]-_0x540b2a['priority']:_0x317f02['joinedAt']-_0x540b2a['joinedAt'])['splice'](_0x4ab3b3[_0x5c97e4(0x356)](_0x4d0e18=>_0x4d0e18['id']===this[_0x5c97e4(0x976)][_0x5c97e4(0xb04)]())),_0x4ab3b3[_0x5c97e4(0x822)]((_0x48f64e,_0x59439b)=>_0x59439b[_0x5c97e4(0x682)]===_0x48f64e[_0x5c97e4(0x682)]?_0x59439b[_0x5c97e4(0x5b1)]-_0x48f64e['priority']:_0x59439b[_0x5c97e4(0x682)]-_0x48f64e[_0x5c97e4(0x682)])[_0x5c97e4(0x3e1)](_0x15b06f=>{const _0x51c4ac=_0x5c97e4;_0x5b0256[_0x51c4ac(0xa5f)]>=this[_0x51c4ac(0x206)]||_0x5b0256['push'](_0x15b06f['id']);}),_0x404abe[_0x5c97e4(0xaee)](_0x5c97e4(0x1b7),{'clusterId':this[_0x5c97e4(0x9c0)],'nodeId':this[_0x5c97e4(0x976)][_0x5c97e4(0xb04)](),'nodeType':this[_0x5c97e4(0x976)][_0x5c97e4(0x705)],'data':{'ancestorIds':_0x5b0256,'allNodes':_0x4ab3b3}}),_0x5b0256;}async['joinCluster'](){const _0x362595=_0x3fd00f;await(0x0,_0x8856a1[_0x362595(0x1f5)])((0x0,_0x8856a1['ref'])(_0x616df3['getDatabase'](),_0x362595(0x520)+this[_0x362595(0x189)]+_0x362595(0x469)+this[_0x362595(0x941)]),{'joinedAt':(0x0,_0x8856a1[_0x362595(0x2d1)])(),'priority':Math['random']()});}[_0x3fd00f(0x770)](){const _0x55f280=_0x3fd00f;this[_0x55f280(0x6ee)]&&this[_0x55f280(0x6ee)][_0x55f280(0x744)](),this[_0x55f280(0x6ee)]=(0x0,_0x8856a1[_0x55f280(0x3e9)])((0x0,_0x8856a1['ref'])(_0x616df3[_0x55f280(0x55c)](),_0x55f280(0x520)+this[_0x55f280(0x189)]+_0x55f280(0x469)+this[_0x55f280(0x941)])),this[_0x55f280(0x6ee)][_0x55f280(0x9a7)]();}}class _0x1fec8b{[_0x3fd00f(0x470)];[_0x3fd00f(0x2b5)];[_0x3fd00f(0x837)];[_0x3fd00f(0xa4a)];[_0x3fd00f(0x60d)];[_0x3fd00f(0x339)]=[];['systemTopic'];[_0x3fd00f(0x7af)]=new Map();['debounceProcessRank'];['lastProcessRank'];['_isReady'];[_0x3fd00f(0x630)];[_0x3fd00f(0x9c9)];[_0x3fd00f(0x68a)];constructor(_0x249a2e,_0x2b747e){const _0x2fb5e5=_0x3fd00f;this[_0x2fb5e5(0x470)]=_0x249a2e,this[_0x2fb5e5(0x2b5)]=_0x2b747e,this[_0x2fb5e5(0x53c)]=new Promise((_0x4621bb,_0x5c26d0)=>{const _0xc1c16b=_0x2fb5e5;this[_0xc1c16b(0x630)]=_0x4621bb,this['rejectReady']=_0x5c26d0;}),this[_0x2fb5e5(0xa4a)]=new _0x38ac93(this[_0x2fb5e5(0x470)][_0x2fb5e5(0x3ee)],this[_0x2fb5e5(0x470)]['clusterId'],this[_0x2fb5e5(0x470)][_0x2fb5e5(0x976)],this[_0x2fb5e5(0x2b5)][_0x2fb5e5(0x8ee)]()),this[_0x2fb5e5(0x60d)]=this[_0x2fb5e5(0xa4a)]['onNodeDisconnect'](this[_0x2fb5e5(0x6af)][_0x2fb5e5(0x167)](this)),this[_0x2fb5e5(0x470)][_0x2fb5e5(0xa68)][_0x2fb5e5(0x3f8)](this[_0x2fb5e5(0x470)][_0x2fb5e5(0x976)]),this[_0x2fb5e5(0x470)]['mediator'][_0x2fb5e5(0x3f8)](this),this[_0x2fb5e5(0x837)]=_0xa2c3bc[_0x2fb5e5(0x2a8)](()=>{const _0x38b978=_0x2fb5e5,_0x191d34=Date[_0x38b978(0x441)]();this[_0x38b978(0x2b5)][_0x38b978(0x753)]()['forEach'](_0x284b3b=>{const _0x19543b=_0x38b978;_0x284b3b[_0x19543b(0x177)]()===_0x39df45[_0x19543b(0x790)]&&_0x284b3b[_0x19543b(0xa06)]()<_0x191d34-0x493e0&&this[_0x19543b(0x2b5)][_0x19543b(0x266)](_0x284b3b[_0x19543b(0xb04)]());});},0xea60);}async[_0x3fd00f(0x99b)](){const _0x2d9e6b=_0x3fd00f;return this[_0x2d9e6b(0x53c)];}async['isNodeReady'](_0x5ed077){return new Promise((_0x32022e,_0x1be849)=>{const _0x5e2c94=a0_0x38ff;let _0x4f9378;const _0x2bdff7=setTimeout(()=>{const _0x4481af=a0_0x38ff;_0x4f9378?.(),_0x1be849(new Error('Node\x20\x27'+_0x5ed077+_0x4481af(0x851)));},0x2710);if(this[_0x5e2c94(0x2b5)][_0x5e2c94(0x552)](_0x5ed077))return clearTimeout(_0x2bdff7),void _0x32022e(!0x0);_0x4f9378=this[_0x5e2c94(0x2b5)]['onNodeUpdate'](()=>{const _0x5c74ad=_0x5e2c94;this[_0x5c74ad(0x2b5)][_0x5c74ad(0x552)](_0x5ed077)&&(clearTimeout(_0x2bdff7),_0x32022e(!0x0),_0x4f9378?.());});});}[_0x3fd00f(0xaf2)](_0x188c68){this['systemTopic']=_0x188c68;}[_0x3fd00f(0x607)](){const _0x3214e6=_0x3fd00f;delete this[_0x3214e6(0x5cb)];}[_0x3fd00f(0x883)](){const _0x583942=_0x3fd00f;this[_0x583942(0x62c)]&&(clearTimeout(this[_0x583942(0x62c)]),delete this[_0x583942(0x62c)]),delete this[_0x583942(0x185)],this[_0x583942(0x470)][_0x583942(0x976)][_0x583942(0x883)](),this['remoteUnsubscriber'](),this[_0x583942(0x60d)](),this[_0x583942(0x470)][_0x583942(0xa68)][_0x583942(0xabc)](this[_0x583942(0x470)]['localNode']),this[_0x583942(0x470)][_0x583942(0xa68)][_0x583942(0xabc)](this),this[_0x583942(0xa4a)][_0x583942(0x883)]();}['getAncestorIds'](){const _0x49452b=_0x3fd00f;return this[_0x49452b(0x339)];}[_0x3fd00f(0x51c)](){const _0x14451a=_0x3fd00f;return this[_0x14451a(0x470)]['localNode'][_0x14451a(0xb04)]();}[_0x3fd00f(0x26c)](){const _0x1505fd=_0x3fd00f;return this[_0x1505fd(0x470)]['localNode'];}[_0x3fd00f(0x753)](_0x5eeede){const _0x1e308d=_0x3fd00f,_0xeee0b=Array[_0x1e308d(0x4f7)](this[_0x1e308d(0x2b5)]['getRemoteNodes']()[_0x1e308d(0x16a)]())[_0x1e308d(0x69d)](_0x44c04b=>_0x44c04b['getStatus']()===_0x39df45[_0x1e308d(0x5f9)]);return _0x5eeede?_0xeee0b[_0x1e308d(0x69d)](_0x5eeede):_0xeee0b;}async[_0x3fd00f(0x1b7)](){const _0x565f1f=_0x3fd00f;return this[_0x565f1f(0x339)]=await this[_0x565f1f(0xa4a)]['join'](),this[_0x565f1f(0x339)][_0x565f1f(0xa5f)]<this['graphService'][_0x565f1f(0x8ee)]()&&(this[_0x565f1f(0x470)]['localNode']['setRank'](this[_0x565f1f(0x339)][_0x565f1f(0xa5f)]+0x1),this[_0x565f1f(0xa2f)]()),this['ancestors'];}[_0x3fd00f(0x5d7)](_0x5f51b9,_0x4b5568){const _0xa85b15=_0x3fd00f,_0x2ef033=this['configs'][_0xa85b15(0x976)][_0xa85b15(0x16f)](),_0x35f665=new Set(_0x2ef033),_0x261424=Array[_0xa85b15(0x4f7)](_0x2ef033)[_0xa85b15(0x69d)](_0x4b94c9=>_0x4b94c9!==_0x5f51b9)['map'](_0x275c97=>({'id':_0x275c97,'distance':0x1}));for(;_0x261424[_0xa85b15(0xa5f)]>0x0;){const _0x3cb2eb=_0x261424[_0xa85b15(0x63a)]();if(!_0x3cb2eb)continue;if(_0x3cb2eb['id']===_0x4b5568)return _0x3cb2eb['distance'];const _0x1ff98f=this[_0xa85b15(0x2b5)][_0xa85b15(0x978)](_0x3cb2eb['id']);_0x1ff98f&&_0x1ff98f[_0xa85b15(0x177)]()!==_0x39df45[_0xa85b15(0x790)]&&_0x1ff98f[_0xa85b15(0x16f)]()[_0xa85b15(0x3e1)](_0xcadbcd=>{const _0x22574c=_0xa85b15;_0x35f665['has'](_0xcadbcd)||(_0x35f665[_0x22574c(0x30b)](_0xcadbcd),_0x261424[_0x22574c(0x639)]({'id':_0xcadbcd,'distance':_0x3cb2eb[_0x22574c(0x9d0)]+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x4f74d0){const _0x142c18=_0x3fd00f;try{switch(_0x4f74d0[_0x142c18(0xaf0)]['type']){case _0x328b54['NodeUpdate']:case _0x328b54['NodeConnectionsUpdate']:this['handleNodeUpdate'](_0x4f74d0[_0x142c18(0xaf0)]),_0x404abe['log'](_0x20ff7d[_0x142c18(0x9ce)],_0x142c18(0x3a0),'\x27'+this['configs'][_0x142c18(0x976)][_0x142c18(0xb04)]()+',\x20'+_0x4f74d0[_0x142c18(0x42a)]+'\x27',_0x4f74d0,_0x4f74d0[_0x142c18(0xaf0)]);break;case _0x328b54['NodeLeave']:this['removeNode'](_0x4f74d0['content']['id']),_0x404abe[_0x142c18(0x327)](_0x20ff7d[_0x142c18(0x9ce)],'NodeManager\x20-\x20NodeLeave','\x27'+this[_0x142c18(0x470)][_0x142c18(0x976)][_0x142c18(0xb04)]()+',\x20'+_0x4f74d0['sourceId']+'\x27',_0x4f74d0,_0x4f74d0[_0x142c18(0xaf0)]);}}catch(_0x2e79bc){if(_0x2e79bc instanceof _0x460c4e)return void _0x404abe[_0x142c18(0x327)](_0x20ff7d['Node'],_0x2e79bc[_0x142c18(0x382)]);throw _0x2e79bc;}}['handlePeerConnectionSystemEvents'](_0x455ca4){const _0x1911d3=_0x3fd00f;switch(_0x455ca4[_0x1911d3(0xaf0)][_0x1911d3(0x705)]){case _0x11455d[_0x1911d3(0x6d1)]:this[_0x1911d3(0x573)](_0x455ca4['sourceId']),_0x404abe[_0x1911d3(0x327)](_0x20ff7d['Node'],_0x1911d3(0x967),'\x27'+this[_0x1911d3(0x470)]['localNode'][_0x1911d3(0xb04)]()+',\x20'+_0x455ca4[_0x1911d3(0x42a)]+'\x27',_0x455ca4,_0x455ca4[_0x1911d3(0xaf0)]);break;case _0x11455d[_0x1911d3(0x6fd)]:this[_0x1911d3(0xa2a)](_0x455ca4[_0x1911d3(0x42a)]),_0x404abe[_0x1911d3(0x327)](_0x20ff7d[_0x1911d3(0x9ce)],_0x1911d3(0xa72),this[_0x1911d3(0x470)][_0x1911d3(0x976)][_0x1911d3(0xb04)](),_0x455ca4,_0x455ca4[_0x1911d3(0xaf0)]);}}[_0x3fd00f(0x947)](_0xf54e5d){const _0x27d45e=_0x3fd00f;this[_0x27d45e(0x962)](_0xf54e5d),this['notifyJoin'](_0xf54e5d);}[_0x3fd00f(0x47f)](_0x994320){const _0x472bbf=_0x3fd00f;this['configs'][_0x472bbf(0x976)][_0x472bbf(0x5aa)](_0x994320['id']),this['publishNodeJoin'](_0x994320['id']),this[_0x472bbf(0xa3a)](_0x994320);}[_0x3fd00f(0x265)](_0x55910f){const _0x38391d=_0x3fd00f,{id:_0xa086a1,metaData:_0x5987ab,rank:_0x22f2c8,remoteConnections:_0x49e9d3,version:_0x5d8958}=_0x55910f,_0x318c38=this[_0x38391d(0x2b5)][_0x38391d(0x978)](_0xa086a1);if(_0x318c38){if(!(_0x5d8958<=_0x318c38[_0x38391d(0x284)]())){if(_0x318c38['setRemoteConnections'](_0x49e9d3),_0x318c38['setCurrentVersion'](_0x5d8958),_0x318c38[_0x38391d(0x705)]===_0x548494['NodeType'][_0x38391d(0x64a)]&&_0x5987ab[_0x38391d(0x705)]===_0x548494[_0x38391d(0x30f)][_0x38391d(0x64a)]&&(_0x318c38['setDisplayName'](_0x5987ab[_0x38391d(0x78f)]),_0x318c38[_0x38391d(0x1f3)](_0x5987ab['email'])),_0x22f2c8&&_0x318c38['setRank'](_0x22f2c8),this[_0x38391d(0x42b)](_0xa086a1,_0x22f2c8),_0x318c38[_0x38391d(0x177)]()===_0x39df45[_0x38391d(0x790)])return _0x318c38['setStatus'](_0x39df45[_0x38391d(0x5f9)]),this['processRank'](),void this['notifyJoin'](_0x55910f);this['processRank'](),this[_0x38391d(0x415)]({'id':_0xa086a1,'metaData':_0x5987ab,'remoteConnections':_0x49e9d3,'version':_0x5d8958});}}else this[_0x38391d(0x947)](_0x55910f);}[_0x3fd00f(0x42b)](_0x5d2ae5,_0xd4a2f3){const _0x74896f=_0x3fd00f;_0xd4a2f3&&this[_0x74896f(0x339)][_0x74896f(0x7ac)](_0x5d2ae5)&&this[_0x74896f(0x470)][_0x74896f(0x976)][_0x74896f(0x228)](_0xd4a2f3+this[_0x74896f(0x339)][_0x74896f(0x61f)](_0x5d2ae5)+0x1);}[_0x3fd00f(0x573)](_0xa15001){const _0x13393b=_0x3fd00f;this['configs'][_0x13393b(0x976)][_0x13393b(0x615)](_0xa15001);}['createRemoteNode']({id:_0x2e446d,metaData:_0xe650f9,rank:_0x3ace36,remoteConnections:_0x23e939,version:_0x189935}){const _0x5d1a67=_0x3fd00f;if(this['graphService'][_0x5d1a67(0x552)](_0x2e446d))throw new _0x460c4e(_0x5d1a67(0x6f9)+_0x2e446d);switch(_0xe650f9[_0x5d1a67(0x705)]){case _0x548494[_0x5d1a67(0x30f)][_0x5d1a67(0x64a)]:const {displayName:_0x21d352,email:_0x338bae}=_0xe650f9;this[_0x5d1a67(0x2b5)][_0x5d1a67(0x304)](_0x2e446d,new _0x7c0c72(_0x2e446d,_0x21d352,_0x338bae,new Set(_0x23e939),_0x189935,_0x3ace36));break;case _0x548494[_0x5d1a67(0x30f)][_0x5d1a67(0xa4c)]:this[_0x5d1a67(0x2b5)]['setRemoteNode'](_0x2e446d,new _0x277a52(_0x2e446d,new Set(_0x23e939),_0x189935,_0x3ace36));}const _0x4ceeb5=this[_0x5d1a67(0x753)](),_0x20c85f=new Set(this[_0x5d1a67(0x339)]);_0x4ceeb5['forEach'](_0x14c243=>{const _0x395714=_0x5d1a67;_0x20c85f['has'](_0x14c243[_0x395714(0xb04)]())&&_0x20c85f[_0x395714(0x92b)](_0x14c243['getId']());}),0x0===_0x20c85f[_0x5d1a67(0x66a)]&&this['resolveReady']&&(this[_0x5d1a67(0x68a)]&&clearTimeout(this['readyDebounce']),this['readyDebounce']=setTimeout(()=>{const _0x3f979a=_0x5d1a67;this[_0x3f979a(0x630)]?.(!0x0),delete this['resolveReady'],delete this[_0x3f979a(0x9c9)];},0x7d0)),this[_0x5d1a67(0x42b)](_0x2e446d,_0x3ace36),this[_0x5d1a67(0xa2f)]();}[_0x3fd00f(0x5af)](_0x19a250){const _0x1abb4b=_0x3fd00f;this[_0x1abb4b(0x5cb)][_0x1abb4b(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x1abb4b(0x9ce)],'content':{'type':_0x328b54[_0x1abb4b(0x4ae)],'id':_0x19a250}});}[_0x3fd00f(0xa2a)](_0x2b06fd){const _0x16bd97=_0x3fd00f;this[_0x16bd97(0x5cb)]?.[_0x16bd97(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0['Node'],'content':{'type':_0x328b54[_0x16bd97(0x7fb)],'id':_0x2b06fd}});}[_0x3fd00f(0x6af)](_0x543371){const _0x3d75e7=_0x3fd00f;if(_0x543371===this[_0x3d75e7(0x470)][_0x3d75e7(0x976)][_0x3d75e7(0xb04)]())return this[_0x3d75e7(0x470)][_0x3d75e7(0xa68)][_0x3d75e7(0x95b)](_0x3d75e7(0x361),{'id':_0x543371}),this['configs'][_0x3d75e7(0xa68)]['close']({'force':!0x0},!0x0),this['configs'][_0x3d75e7(0xa68)][_0x3d75e7(0x57a)](),void this[_0x3d75e7(0x470)]['mediator'][_0x3d75e7(0x2d7)]();this[_0x3d75e7(0xa2a)](_0x543371);}[_0x3fd00f(0x90c)](_0x13f425){const _0x944bf6=_0x3fd00f;this['ancestors'][_0x944bf6(0x7ac)](_0x13f425)?this[_0x944bf6(0xad1)](_0x13f425):this['configs'][_0x944bf6(0x976)][_0x944bf6(0x16f)]()['has'](_0x13f425)&&this['manageOptimization'](_0x13f425),this[_0x944bf6(0x470)][_0x944bf6(0x976)][_0x944bf6(0x173)](_0x13f425);const _0x1ec975=Array['from'](this['optimizationLayers'][_0x944bf6(0x4c9)]())['find'](([,_0x375368])=>_0x375368==_0x375368);_0x1ec975&&this['optimizationLayers']['delete'](_0x1ec975[0x0]);const _0x4cb755=this[_0x944bf6(0x2b5)]['getRemoteNode'](_0x13f425);if(!_0x4cb755)return;const _0x2e93b3=_0x4cb755[_0x944bf6(0xae9)](),_0xc1e70f=this[_0x944bf6(0x470)][_0x944bf6(0x976)][_0x944bf6(0xae9)]();_0xc1e70f&&_0x2e93b3&&_0x2e93b3<_0xc1e70f&&this['configs'][_0x944bf6(0x976)]['setRank'](_0xc1e70f-0x1,!0x1),Array['from'](this[_0x944bf6(0x2b5)][_0x944bf6(0x753)]()['values']())[_0x944bf6(0x3e1)](_0x47d3a7=>{const _0x308924=_0x944bf6,_0x3654b3=_0x47d3a7[_0x308924(0xae9)]();_0x3654b3&&_0x2e93b3&&_0x2e93b3<_0x3654b3&&_0x47d3a7['setRank'](_0x3654b3-0x1);}),_0x4cb755[_0x944bf6(0x802)](_0x39df45['Offline']),this[_0x944bf6(0x470)][_0x944bf6(0xa68)][_0x944bf6(0x95b)](_0x4cb755[_0x944bf6(0x705)]+_0x944bf6(0x451),{'id':_0x13f425});}[_0x3fd00f(0xa3a)]({id:_0x4a7a26,metaData:_0xca2933,remoteConnections:_0x3ab5bd}){const _0x5a3923=_0x3fd00f;switch(_0xca2933['type']){case _0x548494[_0x5a3923(0x30f)]['User']:this[_0x5a3923(0x470)][_0x5a3923(0xa68)][_0x5a3923(0x95b)](_0x5a3923(0x5c5),{'id':_0x4a7a26,'metaData':_0xca2933,'remoteConnections':_0x3ab5bd});break;case _0x548494[_0x5a3923(0x30f)][_0x5a3923(0xa4c)]:this[_0x5a3923(0x470)]['mediator'][_0x5a3923(0x95b)](_0x5a3923(0x28b),{'id':_0x4a7a26,'metaData':_0xca2933,'remoteConnections':_0x3ab5bd});}}[_0x3fd00f(0x415)]({id:_0x5e3d72,metaData:_0x5d7515,remoteConnections:_0x3253ae}){const _0x3032a1=_0x3fd00f;switch(_0x5d7515[_0x3032a1(0x705)]){case _0x548494[_0x3032a1(0x30f)][_0x3032a1(0x64a)]:this[_0x3032a1(0x470)]['mediator'][_0x3032a1(0x95b)](_0x3032a1(0x48f),{'id':_0x5e3d72,'metaData':_0x5d7515,'remoteConnections':_0x3253ae});break;case _0x548494[_0x3032a1(0x30f)][_0x3032a1(0xa4c)]:this[_0x3032a1(0x470)]['mediator'][_0x3032a1(0x95b)](_0x3032a1(0x30c),{'id':_0x5e3d72,'metaData':_0x5d7515,'remoteConnections':_0x3253ae});}}[_0x3fd00f(0xa2f)](){const _0x3a534d=_0x3fd00f;if(this['lastProcessRank']||(this[_0x3a534d(0x185)]=Date[_0x3a534d(0x441)]()),this['debounceProcessRank']){if(Date[_0x3a534d(0x441)]()-this[_0x3a534d(0x185)]>0x2328)return;clearTimeout(this[_0x3a534d(0x62c)]);}this[_0x3a534d(0x62c)]=setTimeout(async()=>{const _0x3521bb=_0x3a534d;delete this['lastProcessRank'],delete this[_0x3521bb(0x62c)];const _0x42b11a=this[_0x3521bb(0x470)][_0x3521bb(0x976)][_0x3521bb(0xae9)]();if(!_0x42b11a)return;const _0x4b47df=this[_0x3521bb(0x2b5)][_0x3521bb(0x620)](this['graphService']['getRemoteNodes']()[_0x3521bb(0x66a)]);if(this[_0x3521bb(0x7af)][_0x3521bb(0x66a)]>=_0x4b47df)return;let _0x5f3458=0x1;for(;this[_0x3521bb(0x470)][_0x3521bb(0xa68)][_0x3521bb(0x4ea)]()[_0x3521bb(0xa5f)]<this[_0x3521bb(0x2b5)][_0x3521bb(0x53d)]()&&_0x5f3458<=_0x4b47df;){if(this[_0x3521bb(0x7af)][_0x3521bb(0x68d)](_0x5f3458)){_0x5f3458+=0x1;continue;}const _0x10106c=this['graphService'][_0x3521bb(0x3a4)](_0x42b11a,_0x5f3458),_0x2ffe8e=Array[_0x3521bb(0x4f7)](this['graphService'][_0x3521bb(0x753)]()[_0x3521bb(0x16a)]())[_0x3521bb(0x78b)](_0x2ece22=>_0x2ece22[_0x3521bb(0xae9)]()===_0x10106c&&_0x2ece22[_0x3521bb(0x177)]()===_0x39df45[_0x3521bb(0x5f9)]);if(_0x2ffe8e){try{await this[_0x3521bb(0x470)]['mediator'][_0x3521bb(0x310)](_0x2ffe8e[_0x3521bb(0xb04)](),_0x4f2237[_0x3521bb(0xa38)]),this[_0x3521bb(0x7af)][_0x3521bb(0x1f5)](_0x5f3458,_0x2ffe8e[_0x3521bb(0xb04)]());}catch(_0x119607){if(!(_0x119607 instanceof _0x5d70cf&&_0x119607[_0x3521bb(0x315)]===_0x5d70cf[_0x3521bb(0x765)][_0x3521bb(0xa47)]))throw _0x119607;_0x404abe[_0x3521bb(0x327)](_0x20ff7d['Node'],this['configs'][_0x3521bb(0x976)]['getId'](),_0x2ffe8e[_0x3521bb(0xb04)](),_0x119607[_0x3521bb(0x382)]);}_0x5f3458+=0x1;}else _0x5f3458+=0x1;}},0x3e8);}async[_0x3fd00f(0xad1)](_0x12fe7f){const _0x23587c=_0x3fd00f;this[_0x23587c(0x339)][_0x23587c(0xad4)](this[_0x23587c(0x339)][_0x23587c(0x61f)](_0x12fe7f),0x1);const _0x21ca71=await this['discoveryService'][_0x23587c(0xa27)]();for(const _0xbc947a of _0x21ca71)if(!this['ancestors']['includes'](_0xbc947a)){const _0x1109ec=Array['from'](this[_0x23587c(0x7af)]['entries']())[_0x23587c(0x78b)](([,_0x4b9541])=>_0x4b9541===_0xbc947a);_0x1109ec&&this[_0x23587c(0x7af)][_0x23587c(0x92b)](_0x1109ec[0x0]),this[_0x23587c(0x470)][_0x23587c(0xa68)][_0x23587c(0x310)](_0xbc947a,_0x4f2237[_0x23587c(0x9f7)]);}0x0===_0x21ca71[_0x23587c(0xa5f)]&&this['configs'][_0x23587c(0x976)][_0x23587c(0x228)](0x1),this[_0x23587c(0x339)]=_0x21ca71;}async[_0x3fd00f(0x399)](_0x4d35){const _0x104846=_0x3fd00f,_0x5a76a3=this[_0x104846(0x470)]['localNode'][_0x104846(0xae9)]();if(!_0x5a76a3)return;const _0x1b6d79=this[_0x104846(0x2b5)][_0x104846(0x978)](_0x4d35);if(!_0x1b6d79||_0x1b6d79[_0x104846(0x177)]()===_0x39df45[_0x104846(0x790)])return;const _0x7995c5=_0x1b6d79[_0x104846(0xae9)]();if(!_0x7995c5||_0x7995c5<_0x5a76a3)return;const _0x3afb29=this[_0x104846(0x4ba)](this[_0x104846(0x470)][_0x104846(0x976)][_0x104846(0x16f)](),_0x5a76a3),_0x495f42=this[_0x104846(0x4ba)](_0x1b6d79[_0x104846(0x16f)](),_0x7995c5)[_0x3afb29[_0x104846(0x356)](([_0x278a22])=>_0x278a22===_0x4d35)];if(!_0x495f42||this['configs']['localNode']['getRemoteConnections']()[_0x104846(0x68d)](_0x495f42[0x0]))return;const _0x1a519d=this[_0x104846(0x2b5)]['getRemoteNode'](_0x495f42[0x0]);if(_0x1a519d&&_0x1a519d[_0x104846(0x177)]()!==_0x39df45[_0x104846(0x790)])try{await this[_0x104846(0x470)][_0x104846(0xa68)][_0x104846(0x310)](_0x495f42[0x0],_0x4f2237['Optimization']);const _0x7b163d=Array[_0x104846(0x4f7)](this[_0x104846(0x7af)][_0x104846(0x4c9)]())[_0x104846(0x78b)](([,_0xf97e7e])=>_0xf97e7e===_0x4d35);_0x7b163d&&this[_0x104846(0x7af)][_0x104846(0x1f5)](_0x7b163d[0x0],_0x495f42[0x0]);}catch(_0xfc7957){if(!(_0xfc7957 instanceof _0x5d70cf&&_0xfc7957[_0x104846(0x315)]===_0x5d70cf['codes'][_0x104846(0xa47)]))throw _0xfc7957;_0x404abe[_0x104846(0x327)](_0x20ff7d[_0x104846(0x9ce)],this[_0x104846(0x470)][_0x104846(0x976)][_0x104846(0xb04)](),_0x495f42[0x0],_0xfc7957[_0x104846(0x382)]);}}['getOutgoingOptimizationConnections'](_0x2132ac,_0x4a5908){const _0x3851cb=_0x3fd00f;return Array[_0x3851cb(0x4f7)](_0x2132ac)[_0x3851cb(0x9b1)]((_0x5b14e2,_0x9b5f19)=>{const _0x2d1499=_0x3851cb,_0x10a40a=this[_0x2d1499(0x2b5)][_0x2d1499(0x978)](_0x9b5f19);if(!_0x10a40a||_0x10a40a[_0x2d1499(0x177)]()===_0x39df45[_0x2d1499(0x790)])return _0x5b14e2;const _0x147da8=_0x10a40a[_0x2d1499(0xae9)]();if(!_0x147da8)return _0x5b14e2;const _0xfd81a3=_0x147da8-_0x4a5908;return _0xfd81a3<=this[_0x2d1499(0x2b5)][_0x2d1499(0x8ee)]()||_0x5b14e2[_0x2d1499(0x639)]([_0x9b5f19,_0xfd81a3]),_0x5b14e2;},[])['sort'](([,_0x2c0729],[,_0x10016f])=>_0x2c0729-_0x10016f);}}const _0x5069b4=[{'problemType':_0x7e0819[_0x3fd00f(0x6c3)],'remediations':[{'type':_0x136a13[_0x3fd00f(0x740)],'component':_0x127482['Resolution'],'action':_0x5e3cc2[_0x3fd00f(0x437)]},{'type':_0x136a13['RemoteRemediation'],'component':_0x127482[_0x3fd00f(0xa05)],'action':_0x5e3cc2[_0x3fd00f(0x437)]}]},{'problemType':_0x7e0819[_0x3fd00f(0x7d6)],'remediations':[{'type':_0x136a13[_0x3fd00f(0x740)],'component':_0x127482['Resolution'],'action':_0x5e3cc2['Downgrade']}]},{'problemType':_0x7e0819[_0x3fd00f(0xaec)],'remediations':[{'type':_0x136a13[_0x3fd00f(0x740)],'component':_0x127482['Resolution'],'action':_0x5e3cc2[_0x3fd00f(0x437)]}]},{'problemType':_0x7e0819[_0x3fd00f(0x68b)],'remediations':[{'type':_0x136a13[_0x3fd00f(0x740)],'component':_0x127482[_0x3fd00f(0xa05)],'action':_0x5e3cc2[_0x3fd00f(0x437)]}]},{'problemType':_0x7e0819[_0x3fd00f(0x35d)],'remediations':[{'type':_0x136a13[_0x3fd00f(0x740)],'component':_0x127482[_0x3fd00f(0x35d)],'action':_0x5e3cc2[_0x3fd00f(0x437)]}]},{'problemType':_0x7e0819['Jitter'],'remediations':[{'type':_0x136a13['Remediation'],'component':_0x127482['Bitrate'],'action':_0x5e3cc2[_0x3fd00f(0x437)]}]},{'problemType':_0x7e0819['RoundTripTime'],'remediations':[{'type':_0x136a13[_0x3fd00f(0x740)],'component':_0x127482[_0x3fd00f(0x35d)],'action':_0x5e3cc2['Downgrade']}]}];class _0xaeb8d2{[_0x3fd00f(0x470)];[_0x3fd00f(0x5cb)];['lastRemediations']=new Map();constructor(_0x59f6ed){const _0x20a8fb=_0x3fd00f;this[_0x20a8fb(0x470)]=_0x59f6ed,this[_0x20a8fb(0x470)][_0x20a8fb(0xa68)][_0x20a8fb(0x3f8)](this);}[_0x3fd00f(0x883)](){const _0x220d77=_0x3fd00f;this[_0x220d77(0x470)][_0x220d77(0xa68)][_0x220d77(0xabc)](this);}['registerSystemPublisher'](_0x34e340){const _0x550d79=_0x3fd00f;this[_0x550d79(0x5cb)]=_0x34e340;}[_0x3fd00f(0x607)](){const _0x2a745a=_0x3fd00f;delete this[_0x2a745a(0x5cb)];}[_0x3fd00f(0x720)](_0x27f28d){const _0x1958c0=_0x3fd00f;_0x27f28d['content'][_0x1958c0(0x705)]===_0x2731aa['Problem']&&this[_0x1958c0(0xa19)](_0x27f28d['content'][_0x1958c0(0xa83)]);}[_0x3fd00f(0x1ec)](_0x16e4e3){const _0x335b4b=_0x3fd00f;_0x16e4e3[_0x335b4b(0xaf0)][_0x335b4b(0x705)]===_0x136a13['RemoteRemediation']&&this[_0x335b4b(0xa49)](_0x16e4e3[_0x335b4b(0x42a)],{'type':_0x136a13[_0x335b4b(0x740)],'component':_0x16e4e3[_0x335b4b(0xaf0)][_0x335b4b(0xa83)][_0x335b4b(0x2ce)],'action':_0x16e4e3[_0x335b4b(0xaf0)][_0x335b4b(0xa83)][_0x335b4b(0x876)]});}['handleProblem'](_0x32cfc9){const _0x5358d6=_0x3fd00f,_0x24d90a=_0x5069b4['find'](_0x16ceef=>_0x16ceef[_0x5358d6(0x892)]===_0x32cfc9[_0x5358d6(0x705)]);_0x24d90a[_0x5358d6(0x8ae)]?.['forEach'](_0x3014ea=>{const _0x3895ff=_0x5358d6;this[_0x3895ff(0xa49)](_0x32cfc9['nodeId'],{'type':_0x32cfc9[_0x3895ff(0x96e)]===_0x5c51d6[_0x3895ff(0x6cd)]?_0x136a13['Remediation']:_0x136a13['RemoteRemediation'],'component':_0x3014ea[_0x3895ff(0x2ce)],'action':_0x3014ea[_0x3895ff(0x876)]});});}[_0x3fd00f(0xa49)](_0x31aa8c,_0x5e423d){const _0x5f272a=_0x3fd00f;if(_0x5e423d['type']===_0x136a13[_0x5f272a(0x740)]){const _0x59a51e=Date[_0x5f272a(0x441)](),_0x483a94=this[_0x5f272a(0x491)][_0x5f272a(0x7ae)](_0x31aa8c);if(_0x483a94&&_0x59a51e-_0x483a94<0x1388)return;this[_0x5f272a(0x491)][_0x5f272a(0x1f5)](_0x31aa8c,_0x59a51e);}_0x404abe[_0x5f272a(0x327)](_0x20ff7d['Remediation'],_0x5f272a(0x20b),_0x5e423d),_0x404abe['logEvent'](_0x5f272a(0x8ac),{'clusterId':this[_0x5f272a(0x470)][_0x5f272a(0x9c0)],'nodeId':this[_0x5f272a(0x470)][_0x5f272a(0x976)][_0x5f272a(0xb04)](),'nodeType':this[_0x5f272a(0x470)][_0x5f272a(0x976)][_0x5f272a(0x705)],'remoteId':_0x31aa8c,'data':{'type':_0x5e423d[_0x5f272a(0x705)],'component':_0x5e423d['component'],'action':_0x5e423d['action']}});let _0x1afb18,_0x506f4d=_0x4856c9;_0x5e423d[_0x5f272a(0x705)]===_0x136a13[_0x5f272a(0x72c)]&&(_0x506f4d=this[_0x5f272a(0x470)][_0x5f272a(0x976)]['getId'](),_0x1afb18=[_0x31aa8c]),this[_0x5f272a(0x5cb)]['publish']({'sourceId':_0x506f4d,'destinationIds':_0x1afb18,'messageType':_0x519af0[_0x5f272a(0x740)],'content':{'type':_0x5e423d[_0x5f272a(0x705)],'targetId':_0x31aa8c,'data':_0x5e423d}});}}const _0x1d9f90=0x3e8,_0xb1bc6d=0x7530,_0x418422=_0x3fd00f(0xa48),_0x4dff0d=_0x3fd00f(0x240),_0x20d97e=_0x3fd00f(0x323),_0x335021=[_0x418422,_0x4dff0d],_0x20166b=[_0x20d97e];class _0x6f5472{['roundTripTime']=0x0;[_0x3fd00f(0x376)]=0x0;[_0x3fd00f(0x3b6)]=0x0;[_0x3fd00f(0x3d3)]=0x0;[_0x3fd00f(0x977)]=0x0;[_0x3fd00f(0x4d5)]=0x0;[_0x3fd00f(0x8e0)]=0x0;[_0x3fd00f(0x365)]=0x0;[_0x3fd00f(0xa1e)]=0x0;get[_0x3fd00f(0x81d)](){const _0x595043=_0x3fd00f;return this[_0x595043(0x4d5)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x595043(0x441)]()-this[_0x595043(0x4d5)]<_0xb1bc6d?(this['currentBytes']-this[_0x595043(0xa1e)])/(this['currentTimestamp']-this[_0x595043(0x8e0)])*0x8*0x3e8:0x0;}[_0x3fd00f(0x238)](_0xe091d0){const _0x12d1ce=_0x3fd00f;switch(_0xe091d0['type']){case _0x20d97e:this[_0x12d1ce(0x854)](_0xe091d0);break;case _0x418422:this[_0x12d1ce(0x686)](_0xe091d0);break;case _0x4dff0d:this[_0x12d1ce(0x3d6)](_0xe091d0);}}['getReport'](){const _0x37d8f8=_0x3fd00f;return{'bitrate':this[_0x37d8f8(0x81d)],'packetsLostPerc':this[_0x37d8f8(0x7d0)](),'roundTripTime':this[_0x37d8f8(0x7dd)],'jitter':this[_0x37d8f8(0x3b6)]};}[_0x3fd00f(0x854)](_0x320ac1){const _0x4fb9a1=_0x3fd00f;this['setBytes'](_0x320ac1[_0x4fb9a1(0x9d3)]),this[_0x4fb9a1(0x15f)](_0x320ac1['timestamp']),this[_0x4fb9a1(0x977)]=_0x320ac1['packetsReceived'],this[_0x4fb9a1(0x3d3)]=_0x320ac1[_0x4fb9a1(0x3d3)],void 0x0!==_0x320ac1[_0x4fb9a1(0x3b6)]?this['jitter']=_0x320ac1['jitter']:this[_0x4fb9a1(0x3b6)]=0x0,void 0x0!==_0x320ac1[_0x4fb9a1(0x376)]?this[_0x4fb9a1(0x376)]=_0x320ac1['estimatedPlayoutTimestamp']:this[_0x4fb9a1(0x376)]=0x0;}[_0x3fd00f(0x686)](_0x1aaeb0){const _0x2c611c=_0x3fd00f;this[_0x2c611c(0x811)](_0x1aaeb0['bytesSent']),this['setTimestamp'](_0x1aaeb0[_0x2c611c(0x1cc)]),this[_0x2c611c(0x977)]=_0x1aaeb0[_0x2c611c(0x62d)];}[_0x3fd00f(0x3d6)](_0x585e41){const _0x1f097d=_0x3fd00f;this['roundTripTime']=0x3e8*_0x585e41['roundTripTime'],void 0x0!==_0x585e41[_0x1f097d(0x3b6)]?this[_0x1f097d(0x3b6)]=_0x585e41[_0x1f097d(0x3b6)]:this[_0x1f097d(0x3b6)]=0x0;}[_0x3fd00f(0x7d0)](){const _0x2e2e40=_0x3fd00f;return this[_0x2e2e40(0x977)]>0x0?this['packetsLost']/this[_0x2e2e40(0x977)]:0x0;}[_0x3fd00f(0x15f)](_0x7e0016){const _0x4d6252=_0x3fd00f;_0x7e0016>this['currentTimestamp']&&(this[_0x4d6252(0x8e0)]=this[_0x4d6252(0x4d5)],this[_0x4d6252(0x4d5)]=_0x7e0016);}[_0x3fd00f(0x811)](_0x212001){const _0x400edd=_0x3fd00f;this[_0x400edd(0xa1e)]=this[_0x400edd(0x365)],this[_0x400edd(0x365)]=_0x212001;}}class _0x47a52e extends _0x6f5472{}class _0x2072a2 extends _0x6f5472{[_0x3fd00f(0x5cc)]=0x0;[_0x3fd00f(0x7c7)]=0x0;[_0x3fd00f(0x4a7)]=0x0;['currentFrames']=0x0;[_0x3fd00f(0xa77)]=0x0;get[_0x3fd00f(0x278)](){const _0x35e3af=_0x3fd00f;return this[_0x35e3af(0x4d5)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x35e3af(0x441)]()-this[_0x35e3af(0x4d5)]<_0xb1bc6d?(this['currentFrames']-this['previousFrames'])/(this[_0x35e3af(0x4d5)]-this['previousTimestamp'])*0x3e8:0x0;}get[_0x3fd00f(0x1b6)](){const _0x320b2d=_0x3fd00f;return this[_0x320b2d(0x5cc)]&&this[_0x320b2d(0x38c)]&&this[_0x320b2d(0x38c)]>0x0?this['frameTime']/this[_0x320b2d(0x38c)]:0x0;}set[_0x3fd00f(0x6de)](_0x534594){const _0x3c7766=_0x3fd00f;this[_0x3c7766(0xa77)]=this[_0x3c7766(0x38c)],this[_0x3c7766(0x38c)]=_0x534594;}[_0x3fd00f(0x8ab)](){const _0x3cab84=_0x3fd00f;return{...super[_0x3cab84(0x8ab)](),'FPS':this[_0x3cab84(0x278)],'timePerFrame':this['timePerFrame'],'frameWidth':this['frameWidth'],'frameHeight':this[_0x3cab84(0x4a7)]};}['processInboundReport'](_0x5c9fc4){const _0x59fe43=_0x3fd00f;super[_0x59fe43(0x854)](_0x5c9fc4),this[_0x59fe43(0x5cc)]=_0x5c9fc4['totalDecodeTime'],this[_0x59fe43(0x6de)]=_0x5c9fc4['framesDecoded'],this[_0x59fe43(0x7c7)]=_0x5c9fc4['frameWidth'],this[_0x59fe43(0x4a7)]=_0x5c9fc4[_0x59fe43(0x4a7)];}[_0x3fd00f(0x686)](_0x2c2197){const _0x24c514=_0x3fd00f;super[_0x24c514(0x686)](_0x2c2197),this['frameTime']=_0x2c2197[_0x24c514(0x867)],this['frames']=_0x2c2197[_0x24c514(0x74a)],this[_0x24c514(0x7c7)]=_0x2c2197[_0x24c514(0x7c7)],this[_0x24c514(0x4a7)]=_0x2c2197[_0x24c514(0x4a7)];}}class _0x102b4f{[_0x3fd00f(0x2d2)]=new _0x47a52e();[_0x3fd00f(0x8ed)]=new _0x2072a2();get[_0x3fd00f(0x81d)](){const _0x596ae3=_0x3fd00f;return this['audio'][_0x596ae3(0x81d)]+this[_0x596ae3(0x8ed)][_0x596ae3(0x81d)];}[_0x3fd00f(0x221)](_0x25e45b){const _0x2a4326=_0x3fd00f;return _0x25e45b[_0x2a4326(0x3e1)](_0x329263=>{const _0x5bbab7=_0x2a4326;switch(_0x329263[_0x5bbab7(0x440)]){case _0x5bbab7(0x2d2):this[_0x5bbab7(0x2d2)][_0x5bbab7(0x238)](_0x329263);break;case'video':this[_0x5bbab7(0x8ed)][_0x5bbab7(0x238)](_0x329263);}}),this[_0x2a4326(0x8ab)]();}[_0x3fd00f(0x8ab)](){const _0x84d030=_0x3fd00f;return{'audio':this[_0x84d030(0x2d2)]['getReport'](),'video':this['video'][_0x84d030(0x8ab)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this['bitrate']};}[_0x3fd00f(0xa9c)](){const _0x183949=_0x3fd00f;return Math[_0x183949(0x8c3)]((this[_0x183949(0x2d2)][_0x183949(0x7dd)]+this[_0x183949(0x8ed)][_0x183949(0x7dd)])/0x2);}[_0x3fd00f(0x8d1)](){const _0x119e19=_0x3fd00f;return this['audio'][_0x119e19(0x376)]-this[_0x119e19(0x8ed)]['estimatedPlayoutTimestamp'];}}class _0x5f1e5c{[_0x3fd00f(0x886)]=0x0;[_0x3fd00f(0x76d)]=0x0;[_0x3fd00f(0x5a3)]=0x0;[_0x3fd00f(0x43e)]=0x0;[_0x3fd00f(0x89d)]=0x0;[_0x3fd00f(0x8cd)]=0x0;[_0x3fd00f(0x44e)]=0x0;[_0x3fd00f(0x5ac)]=0x0;[_0x3fd00f(0x5a2)]=0x0;[_0x3fd00f(0x6fb)]=0x0;[_0x3fd00f(0xad5)]=0x0;[_0x3fd00f(0x7dc)]=0x0;[_0x3fd00f(0x7dd)]=0x0;get[_0x3fd00f(0x81d)](){const _0x14aca4=_0x3fd00f;return this[_0x14aca4(0x5e1)]+this[_0x14aca4(0x9f0)];}get['senderBitrate'](){const _0x52e258=_0x3fd00f;return this[_0x52e258(0x886)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date[_0x52e258(0x441)]()-this[_0x52e258(0x886)]<_0xb1bc6d?(this[_0x52e258(0x89d)]-this[_0x52e258(0x8cd)])/(this[_0x52e258(0x886)]-this['senderPreviousTimestamp'])*0x8*0x3e8:0x0;}get[_0x3fd00f(0x9f0)](){const _0x252a5f=_0x3fd00f;return this[_0x252a5f(0x5a3)]>0x0&&this[_0x252a5f(0x43e)]>0x0&&Date[_0x252a5f(0x441)]()-this['receiverCurrentTimestamp']<_0xb1bc6d?(this[_0x252a5f(0x44e)]-this[_0x252a5f(0x5ac)])/(this[_0x252a5f(0x5a3)]-this[_0x252a5f(0x43e)])*0x8*0x3e8:0x0;}[_0x3fd00f(0x238)](_0x391651){const _0x17261d=_0x3fd00f;switch(_0x391651[_0x17261d(0x96e)]){case _0x5c51d6[_0x17261d(0x6cd)]:this[_0x17261d(0x76f)](_0x391651);break;case _0x5c51d6[_0x17261d(0x303)]:this[_0x17261d(0x4a9)](_0x391651);}}['getReport'](){const _0x153fa0=_0x3fd00f;return{'bitrate':this['bitrate'],'senderBitrate':this[_0x153fa0(0x5e1)],'receiverBitrate':this[_0x153fa0(0x9f0)],'totalBytes':this[_0x153fa0(0x426)](),'senderTotalBytes':this['getSenderTotalBytes'](),'receiverTotalBytes':this[_0x153fa0(0x425)](),'totalMessages':this['senderTotalMessages']+this['receiverTotalMessages'],'senderTotalMessages':this[_0x153fa0(0x5a2)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this[_0x153fa0(0xad5)]+this[_0x153fa0(0x7dc)],'senderTimeProcessing':this[_0x153fa0(0xad5)],'receiverTimeProcessing':this[_0x153fa0(0x7dc)],'roundTripTime':this['roundTripTime']};}[_0x3fd00f(0x426)](){const _0x8d79ef=_0x3fd00f;return this[_0x8d79ef(0x89d)]+this['receiverCurrentBytes'];}[_0x3fd00f(0x2ed)](){const _0x3ed257=_0x3fd00f;return this[_0x3ed257(0x89d)];}[_0x3fd00f(0x425)](){const _0x2af985=_0x3fd00f;return this[_0x2af985(0x44e)];}[_0x3fd00f(0x76f)](_0x5a4406){const _0xb847f5=_0x3fd00f;this[_0xb847f5(0xa3b)](_0x5a4406[_0xb847f5(0x1cc)]),this['setBytes'](_0x5a4406[_0xb847f5(0xa65)]),this[_0xb847f5(0x5a2)]=_0x5a4406[_0xb847f5(0x35f)],this['senderTimeProcessing']=_0x5a4406[_0xb847f5(0x5c4)],this[_0xb847f5(0x7dd)]=_0x5a4406['roundTripTime'];}['processReceiverReport'](_0x1cff40){const _0x6983fa=_0x3fd00f;this[_0x6983fa(0x931)](_0x1cff40[_0x6983fa(0x1cc)]),this[_0x6983fa(0xa15)](_0x1cff40['bytesReceived']),this[_0x6983fa(0x6fb)]=_0x1cff40['messagesReceived'],this[_0x6983fa(0x7dc)]=_0x1cff40[_0x6983fa(0x8e8)];}[_0x3fd00f(0xa3b)](_0x29c614){const _0xe8ff3c=_0x3fd00f;_0x29c614>this[_0xe8ff3c(0x886)]&&(this[_0xe8ff3c(0x76d)]=this['senderCurrentTimestamp'],this[_0xe8ff3c(0x886)]=_0x29c614);}[_0x3fd00f(0x931)](_0x4e9333){const _0x2d06d2=_0x3fd00f;_0x4e9333>this[_0x2d06d2(0x5a3)]&&(this[_0x2d06d2(0x43e)]=this[_0x2d06d2(0x5a3)],this[_0x2d06d2(0x5a3)]=_0x4e9333);}[_0x3fd00f(0x811)](_0x25b06a){const _0x48642d=_0x3fd00f;this[_0x48642d(0x8cd)]=this[_0x48642d(0x89d)],this[_0x48642d(0x89d)]=_0x25b06a;}['setReceiverBytes'](_0x674e17){const _0x24ed5e=_0x3fd00f;this[_0x24ed5e(0x5ac)]=this['receiverCurrentBytes'],this[_0x24ed5e(0x44e)]=_0x674e17;}}class _0x19331e{[_0x3fd00f(0x8c8)]=new Map();[_0x3fd00f(0x396)]=new Map();['dataChannel']=new _0x5f1e5c();get[_0x3fd00f(0x5e1)](){const _0x22d5b4=_0x3fd00f;let _0x5def5e=0x0;return this['senderStreams']['forEach'](_0x4773ac=>{_0x5def5e+=_0x4773ac['bitrate'];}),_0x5def5e+=this['dataChannel'][_0x22d5b4(0x5e1)],_0x5def5e;}get['receiverBitrate'](){const _0x56e9b3=_0x3fd00f;let _0x12728c=0x0;return this[_0x56e9b3(0x396)]['forEach'](_0xf043f8=>{const _0x11b77a=_0x56e9b3;_0x12728c+=_0xf043f8[_0x11b77a(0x81d)];}),_0x12728c+=this[_0x56e9b3(0x182)][_0x56e9b3(0x9f0)],_0x12728c;}get[_0x3fd00f(0x81d)](){const _0x578ffa=_0x3fd00f;return this[_0x578ffa(0x5e1)]+this[_0x578ffa(0x9f0)];}[_0x3fd00f(0x221)](_0x2c09ab,_0x3abce7){const _0x2ac28c=_0x3fd00f,_0x4abfbc=[],_0x6aaaa3=[];return _0x2c09ab instanceof Array?_0x2c09ab[_0x2ac28c(0x3e1)](_0x410806=>{_0x410806['forEach'](_0x5e6685=>{const _0xfe6f63=a0_0x38ff;_0x20166b['includes'](_0x5e6685[_0xfe6f63(0x705)])&&_0x4abfbc[_0xfe6f63(0x639)](_0x5e6685),_0x335021[_0xfe6f63(0x7ac)](_0x5e6685[_0xfe6f63(0x705)])&&_0x6aaaa3['push'](_0x5e6685);});}):this[_0x2ac28c(0x182)][_0x2ac28c(0x238)](_0x2c09ab),_0x4abfbc[_0x2ac28c(0xa5f)]>0x0&&_0x3abce7?{...this['processInboundReports'](_0x3abce7,_0x4abfbc),'origin':_0x5c51d6['Receiver'],'streamId':_0x3abce7}:_0x6aaaa3[_0x2ac28c(0xa5f)]>0x0&&_0x3abce7?{...this[_0x2ac28c(0x4f3)](_0x3abce7,_0x6aaaa3),'origin':_0x5c51d6['Sender'],'streamId':_0x3abce7}:void 0x0;}[_0x3fd00f(0x8ab)](){const _0x1c89dd=_0x3fd00f,_0x2cc41b={};this[_0x1c89dd(0x8c8)]['forEach']((_0x1970fc,_0x45a666)=>{const _0x46da00=_0x1c89dd;_0x2cc41b[_0x45a666]=_0x1970fc[_0x46da00(0x8ab)]();});const _0xbb5a04={};return this['receiverStreams'][_0x1c89dd(0x3e1)]((_0xe47c95,_0x308da0)=>{const _0x4deb8e=_0x1c89dd;_0xbb5a04[_0x308da0]=_0xe47c95[_0x4deb8e(0x8ab)]();}),{'bitrate':this[_0x1c89dd(0x81d)],'senderBitrate':this[_0x1c89dd(0x5e1)],'receiverBitrate':this[_0x1c89dd(0x9f0)],'senderStreams':_0x2cc41b,'receiverStreams':_0xbb5a04,'dataChannel':this['dataChannel'][_0x1c89dd(0x8ab)]()};}[_0x3fd00f(0x2da)](_0x5a5bc0,_0x24107e){const _0x428ec3=_0x3fd00f;return this[_0x428ec3(0x396)][_0x428ec3(0x68d)](_0x5a5bc0)||this[_0x428ec3(0x396)]['set'](_0x5a5bc0,new _0x102b4f()),this['receiverStreams'][_0x428ec3(0x7ae)](_0x5a5bc0)[_0x428ec3(0x221)](_0x24107e);}[_0x3fd00f(0x4f3)](_0x51c916,_0x171d15){const _0x1d194a=_0x3fd00f;return this[_0x1d194a(0x8c8)][_0x1d194a(0x68d)](_0x51c916)||this[_0x1d194a(0x8c8)][_0x1d194a(0x1f5)](_0x51c916,new _0x102b4f()),this[_0x1d194a(0x8c8)]['get'](_0x51c916)[_0x1d194a(0x221)](_0x171d15);}}class _0xfb541{[_0x3fd00f(0x1e5)]=new Map();[_0x3fd00f(0x8a6)]=0x0;[_0x3fd00f(0xa89)]=0x0;['pubsubTopics']=new Map();['objectStores']=new Map();[_0x3fd00f(0x961)]=new Map();['generativeAIContexts']=new Map();[_0x3fd00f(0x7f1)]=new Map();['vectorDatabases']=new Map();['graphDatabases']=new Map();[_0x3fd00f(0x319)]=new Map();[_0x3fd00f(0x5a2)]=new Map();[_0x3fd00f(0x6fb)]=new Map();[_0x3fd00f(0xad5)]=new Map();[_0x3fd00f(0x7dc)]=new Map();[_0x3fd00f(0x82c)]=new Map();[_0x3fd00f(0x5cb)];[_0x3fd00f(0x8ab)](){const _0x58c939=_0x3fd00f,_0xe1a61c={};this[_0x58c939(0x1e5)][_0x58c939(0x3e1)]((_0x2ffae2,_0x3dc78e)=>{const _0xc23e86=_0x58c939;_0xe1a61c[_0x3dc78e]=_0x2ffae2[_0xc23e86(0x8ab)]();});let _0x123ff1=0x0;this['senderTimeProcessing'][_0x58c939(0x3e1)](_0x57e086=>{_0x123ff1+=_0x57e086;});let _0x33029c=0x0;this[_0x58c939(0x7dc)][_0x58c939(0x3e1)](_0x46c22a=>{_0x33029c+=_0x46c22a;});const _0x20c292=_0x123ff1+_0x33029c;let _0x237253={'messages':{'total':0x0}};this[_0x58c939(0x82c)]['forEach'](_0x5a4802=>{const _0x3fbbee=_0x58c939;Object[_0x3fbbee(0x566)](_0x5a4802)[_0x3fbbee(0x3e1)](_0x1b8431=>{const _0x3f40a7=_0x3fbbee;_0x237253[_0x1b8431]||(_0x237253[_0x1b8431]={}),Object[_0x3f40a7(0x566)](_0x5a4802[_0x1b8431])['forEach'](_0x36e7f0=>{_0x237253[_0x1b8431][_0x36e7f0]||(_0x237253[_0x1b8431][_0x36e7f0]=0x0),_0x237253[_0x1b8431][_0x36e7f0]+=_0x5a4802[_0x1b8431][_0x36e7f0];});});});let _0x485aa7=0x0,_0xa5efd5=0x0,_0x5d0771=0x0,_0x1941b4=0x0,_0x58fbfd=0x0;return this[_0x58c939(0x54d)][_0x58c939(0x3e1)](_0x505d59=>{const _0x460cc7=_0x58c939;_0xa5efd5+=_0x505d59['messagesSent'],_0x5d0771+=_0x505d59[_0x460cc7(0x797)],_0x1941b4+=_0x505d59['bytesSent'],_0x58fbfd+=_0x505d59[_0x460cc7(0x9d3)];}),this[_0x58c939(0x218)][_0x58c939(0x3e1)](_0x421d35=>{const _0x3af99c=_0x58c939;_0x485aa7+=_0x421d35['storage'],_0xa5efd5+=_0x421d35[_0x3af99c(0x35f)],_0x5d0771+=_0x421d35['messagesReceived'],_0x1941b4+=_0x421d35[_0x3af99c(0xa65)],_0x58fbfd+=_0x421d35[_0x3af99c(0x9d3)];}),this['keyValueDatabases'][_0x58c939(0x3e1)](_0x56866a=>{const _0x565a98=_0x58c939;_0x485aa7+=_0x56866a['storage'],_0xa5efd5+=_0x56866a['messagesSent'],_0x5d0771+=_0x56866a['messagesReceived'],_0x1941b4+=_0x56866a['bytesSent'],_0x58fbfd+=_0x56866a[_0x565a98(0x9d3)];}),this[_0x58c939(0x5b7)][_0x58c939(0x3e1)](_0x72acc0=>{const _0xce94ae=_0x58c939;_0x485aa7+=_0x72acc0['storage'],_0xa5efd5+=_0x72acc0['messagesSent'],_0x5d0771+=_0x72acc0[_0xce94ae(0x797)],_0x1941b4+=_0x72acc0[_0xce94ae(0xa65)],_0x58fbfd+=_0x72acc0['bytesReceived'];}),this[_0x58c939(0x7f1)][_0x58c939(0x3e1)](_0x396fd5=>{const _0x209f8b=_0x58c939;_0x485aa7+=_0x396fd5[_0x209f8b(0x3dd)],_0xa5efd5+=_0x396fd5['messagesSent'],_0x5d0771+=_0x396fd5[_0x209f8b(0x797)],_0x1941b4+=_0x396fd5[_0x209f8b(0xa65)],_0x58fbfd+=_0x396fd5[_0x209f8b(0x9d3)];}),this[_0x58c939(0x881)][_0x58c939(0x3e1)](_0x2f41ee=>{const _0x2449bb=_0x58c939;_0x485aa7+=_0x2f41ee[_0x2449bb(0x3dd)],_0xa5efd5+=_0x2f41ee['messagesSent'],_0x5d0771+=_0x2f41ee[_0x2449bb(0x797)],_0x1941b4+=_0x2f41ee[_0x2449bb(0xa65)],_0x58fbfd+=_0x2f41ee[_0x2449bb(0x9d3)];}),this['graphDatabases']['forEach'](_0xfba51=>{const _0x356787=_0x58c939;_0x485aa7+=_0xfba51[_0x356787(0x3dd)],_0xa5efd5+=_0xfba51[_0x356787(0x35f)],_0x5d0771+=_0xfba51[_0x356787(0x797)],_0x1941b4+=_0xfba51[_0x356787(0xa65)],_0x58fbfd+=_0xfba51['bytesReceived'];}),{'STVolatility':this[_0x58c939(0x7db)](),'DTVolatility':this[_0x58c939(0x1eb)](),'bitrate':this[_0x58c939(0x40c)](),'senderBitrate':this[_0x58c939(0x2e1)](),'receiverBitrate':this[_0x58c939(0xa2b)](),'totalStorageSize':_0x485aa7,'totalMessages':_0xa5efd5+_0x5d0771,'totalMessagesSent':_0xa5efd5,'totalMessagesReceived':_0x5d0771,'totalBytes':_0x1941b4+_0x58fbfd,'totalBytesSent':_0x1941b4,'totalBytesReceived':_0x58fbfd,'systemMessages':_0x237253,'timeProcessing':_0x20c292,'nodes':_0xe1a61c,'pubsubTopics':Object[_0x58c939(0x2cb)](this['pubsubTopics']),'objectStores':Object['fromEntries'](this[_0x58c939(0x218)]),'keyValueDatabases':Object['fromEntries'](this['keyValueDatabases']),'generativeAIContexts':Object[_0x58c939(0x2cb)](this[_0x58c939(0x5b7)]),'generativeAIWorkers':Object[_0x58c939(0x2cb)](this['generativeAIWorkers']),'vectorDatabases':Object[_0x58c939(0x2cb)](this[_0x58c939(0x881)]),'graphDatabases':Object['fromEntries'](this[_0x58c939(0x93b)]),'externalStorages':Object[_0x58c939(0x2cb)](this[_0x58c939(0x319)])};}[_0x3fd00f(0x214)](_0x40c64d){const _0x209b66=_0x3fd00f;this[_0x209b66(0x1e5)]['set'](_0x40c64d,new _0x19331e());}['removeRemoteNode'](_0x299929){const _0x4947ae=_0x3fd00f;this[_0x4947ae(0x1e5)][_0x4947ae(0x92b)](_0x299929);}[_0x3fd00f(0x221)](_0x4f300b,_0x229479,_0x4d1a20){const _0x32652c=_0x3fd00f;_0x229479 instanceof Array||this['processDataChannelReport'](_0x4f300b,_0x229479);const _0x4c9357=this['nodes'][_0x32652c(0x7ae)](_0x4f300b)?.['processReports'](_0x229479,_0x4d1a20);_0x4c9357&&this[_0x32652c(0x5cb)][_0x32652c(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0[_0x32652c(0x3eb)],'content':{'type':_0x12925a[_0x32652c(0x99c)],'data':{..._0x4c9357,'nodeId':_0x4f300b}}});}['processLocalReport'](_0xa93e44){const _0x39ae2a=_0x3fd00f;this[_0x39ae2a(0x994)](_0xa93e44[_0x39ae2a(0x710)]),this[_0x39ae2a(0x94d)](_0xa93e44[_0x39ae2a(0xa89)]),this[_0x39ae2a(0x5cb)][_0x39ae2a(0x70e)]({'sourceId':_0x4856c9,'messageType':_0x519af0['Stats'],'content':{'type':_0x12925a['LocalReport'],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x39ae2a(0x1eb)]()}}});}['processServiceReport'](_0x525341,_0x3d30f6,_0x91c4f8){const _0x46ecee=_0x3fd00f;switch(_0x3d30f6){case _0x347d3c[_0x46ecee(0x742)]:this['pubsubTopics'][_0x46ecee(0x1f5)](_0x525341,_0x91c4f8);break;case _0x347d3c['ObjectStoreStats']:this[_0x46ecee(0x218)][_0x46ecee(0x1f5)](_0x525341,_0x91c4f8);break;case _0x347d3c[_0x46ecee(0x9ea)]:this[_0x46ecee(0x961)][_0x46ecee(0x1f5)](_0x525341,_0x91c4f8);break;case _0x347d3c[_0x46ecee(0x525)]:this[_0x46ecee(0x5b7)][_0x46ecee(0x1f5)](_0x525341,_0x91c4f8);break;case _0x347d3c[_0x46ecee(0x6f5)]:this[_0x46ecee(0x7f1)][_0x46ecee(0x1f5)](_0x525341,_0x91c4f8);break;case _0x347d3c[_0x46ecee(0x536)]:this[_0x46ecee(0x881)]['set'](_0x525341,_0x91c4f8);break;case _0x347d3c[_0x46ecee(0xa79)]:this[_0x46ecee(0x93b)][_0x46ecee(0x1f5)](_0x525341,_0x91c4f8);break;case _0x347d3c[_0x46ecee(0x91f)]:this[_0x46ecee(0x319)][_0x46ecee(0x1f5)](_0x525341,_0x91c4f8);}}[_0x3fd00f(0xaf2)](_0x29cea3){const _0x54a17f=_0x3fd00f;this[_0x54a17f(0x5cb)]=_0x29cea3;}[_0x3fd00f(0x607)](){const _0x9c9a69=_0x3fd00f;delete this[_0x9c9a69(0x5cb)];}['getSTVolatility'](){const _0x3a77f7=_0x3fd00f;return this[_0x3a77f7(0x8a6)]>0x0&&this[_0x3a77f7(0x8a6)]-_0x1d9f90>0x0?(this[_0x3a77f7(0x8a6)]-_0x1d9f90)/_0x1d9f90:0x0;}[_0x3fd00f(0x1eb)](){const _0x357ab1=_0x3fd00f;return this[_0x357ab1(0xa89)]>0x0&&this[_0x357ab1(0xa89)]-0x64>0x0?(this[_0x357ab1(0xa89)]-0x64)/0x64:0x0;}[_0x3fd00f(0x2e1)](){const _0x3497e7=_0x3fd00f;let _0x3d7685=0x0;return this[_0x3497e7(0x1e5)][_0x3497e7(0x3e1)](_0x456781=>{const _0x477b99=_0x3497e7;_0x3d7685+=_0x456781[_0x477b99(0x5e1)];}),_0x3d7685;}[_0x3fd00f(0xa2b)](){const _0x45a0d5=_0x3fd00f;let _0x11ea31=0x0;return this['nodes'][_0x45a0d5(0x3e1)](_0xe02849=>{const _0x492964=_0x45a0d5;_0x11ea31+=_0xe02849[_0x492964(0x9f0)];}),_0x11ea31;}[_0x3fd00f(0x40c)](){const _0x11dde6=_0x3fd00f;let _0x2a6ba8=0x0;return this[_0x11dde6(0x1e5)][_0x11dde6(0x3e1)](_0x18101f=>{_0x2a6ba8+=_0x18101f['bitrate'];}),_0x2a6ba8;}[_0x3fd00f(0x994)](_0x1e5d79){const _0x24adea=_0x3fd00f;this[_0x24adea(0x8a6)]=_0x1e5d79;}[_0x3fd00f(0x94d)](_0x1e25fe){const _0x5dbb04=_0x3fd00f;this[_0x5dbb04(0xa89)]=_0x1e25fe;}[_0x3fd00f(0xae5)](_0x19645c,_0x4af64b){const _0x3e673b=_0x3fd00f;switch(_0x4af64b[_0x3e673b(0x96e)]){case _0x5c51d6[_0x3e673b(0x6cd)]:this[_0x3e673b(0x76f)](_0x19645c,_0x4af64b);break;case _0x5c51d6['Receiver']:this[_0x3e673b(0x4a9)](_0x19645c,_0x4af64b);}}[_0x3fd00f(0x76f)](_0x21b69e,_0x572be0){const _0x35e25a=_0x3fd00f;this[_0x35e25a(0x5a2)][_0x35e25a(0x1f5)](_0x21b69e,_0x572be0[_0x35e25a(0x35f)]),this['senderTimeProcessing']['set'](_0x21b69e,_0x572be0[_0x35e25a(0x5c4)]);}['processReceiverReport'](_0x2e6464,_0x2e4be5){const _0x29aacb=_0x3fd00f;this[_0x29aacb(0x6fb)]['set'](_0x2e6464,_0x2e4be5['messagesReceived']),this[_0x29aacb(0x7dc)][_0x29aacb(0x1f5)](_0x2e6464,_0x2e4be5[_0x29aacb(0x8e8)]),this[_0x29aacb(0x82c)][_0x29aacb(0x1f5)](_0x2e6464,_0x2e4be5[_0x29aacb(0x82c)]);}}class _0x1fc72c{[_0x3fd00f(0x470)];[_0x3fd00f(0x380)]=new Set();[_0x3fd00f(0x381)];[_0x3fd00f(0x8dc)];[_0x3fd00f(0x749)];[_0x3fd00f(0xac2)]=new _0xfb541();constructor(_0x31ae95){const _0x2f66e5=_0x3fd00f;this['configs']=_0x31ae95,this[_0x2f66e5(0x470)][_0x2f66e5(0xa68)][_0x2f66e5(0x3f8)](this[_0x2f66e5(0xac2)]),this['statsCollection']=this[_0x2f66e5(0xab0)](),this['statsReporting']=this['setupStatsReporting']();}[_0x3fd00f(0x883)](){const _0x3f4cf2=_0x3fd00f;this[_0x3f4cf2(0x470)][_0x3f4cf2(0xa68)][_0x3f4cf2(0xabc)](this[_0x3f4cf2(0xac2)]),this[_0x3f4cf2(0x749)](),this[_0x3f4cf2(0x8dc)]();}['addRemoteNode'](_0x3ed1b5){const _0x130b39=_0x3fd00f;this[_0x130b39(0x380)][_0x130b39(0x30b)](_0x3ed1b5),this['statsReport'][_0x130b39(0x214)](_0x3ed1b5);}['removeRemoteNode'](_0x4ec60c){const _0x313982=_0x3fd00f;this[_0x313982(0x380)][_0x313982(0x92b)](_0x4ec60c),this[_0x313982(0xac2)][_0x313982(0x9e2)](_0x4ec60c);}[_0x3fd00f(0x9b0)](_0x3c454f){const _0x268cc6=_0x3fd00f;if(_0x3c454f[_0x268cc6(0xaf0)][_0x268cc6(0x705)]===_0x11455d['Stats']){const {nodeId:_0x2d41e3,streamId:_0x3cceb6,stats:_0x588b67}=_0x3c454f[_0x268cc6(0xaf0)];this[_0x268cc6(0xac2)]['processReports'](_0x2d41e3,_0x588b67,_0x3cceb6);}}['handleContentSystemEvents'](_0x441fd8){const _0x4181ae=_0x3fd00f;switch(_0x441fd8[_0x4181ae(0xaf0)][_0x4181ae(0x705)]){case _0x347d3c[_0x4181ae(0x507)]:case _0x347d3c[_0x4181ae(0x9ea)]:case _0x347d3c['PubSubTopicStats']:case _0x347d3c[_0x4181ae(0x525)]:case _0x347d3c[_0x4181ae(0x6f5)]:case _0x347d3c['VectorDatabaseStats']:case _0x347d3c[_0x4181ae(0xa79)]:case _0x347d3c[_0x4181ae(0x91f)]:this[_0x4181ae(0xac2)]['processServiceReport'](_0x441fd8[_0x4181ae(0xaf0)][_0x4181ae(0x985)],_0x441fd8[_0x4181ae(0xaf0)][_0x4181ae(0x705)],_0x441fd8[_0x4181ae(0xaf0)][_0x4181ae(0x700)]);}}[_0x3fd00f(0x34c)](){const _0xe5d61=_0x3fd00f;return _0xa2c3bc[_0xe5d61(0x2a8)](()=>{const _0x5272e5=_0xe5d61,_0x10a495=this[_0x5272e5(0xac2)][_0x5272e5(0x8ab)]();_0x404abe['log'](_0x20ff7d[_0x5272e5(0x3eb)],_0x5272e5(0x9b8),_0x10a495),(0x0,_0x225f39[_0x5272e5(0x64d)])((0x0,_0x225f39[_0x5272e5(0x604)])(_0x616df3['getFirestore'](),_0x5272e5(0x7a8)+this['configs'][_0x5272e5(0x3ee)]+_0x5272e5(0x181)),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x5272e5(0x470)][_0x5272e5(0x976)][_0x5272e5(0xb04)](),'nodeType':this[_0x5272e5(0x470)]['localNode'][_0x5272e5(0x705)],'timestamp':(0x0,_0x225f39['serverTimestamp'])(),'report':_0x10a495}),_0x404abe[_0x5272e5(0xaee)]('stats',{'clusterId':this[_0x5272e5(0x470)][_0x5272e5(0x9c0)],'nodeId':this['configs'][_0x5272e5(0x976)][_0x5272e5(0xb04)](),'nodeType':this[_0x5272e5(0x470)][_0x5272e5(0x976)]['type'],'data':{'report':_0x10a495}});},_0xb1bc6d);}['setupStatsCollection'](){const _0x853cc8=_0x3fd00f;let _0x20ec41=!0x1,_0x5bfa2b=Date[_0x853cc8(0x441)]();return _0xa2c3bc[_0x853cc8(0x2a8)](async()=>{const _0x10826c=_0x853cc8;if(_0x20ec41)return;if(_0x20ec41=!0x0,0x0===this['remoteNodes'][_0x10826c(0x66a)])return delete this[_0x10826c(0x381)],void(_0x20ec41=!0x1);const _0x358389=Date['now']();this[_0x10826c(0x3f1)]();try{await this[_0x10826c(0x470)][_0x10826c(0xa68)]['collectStats'](this['nextNodeId']);}catch(_0x4f5fba){}this[_0x10826c(0xac2)][_0x10826c(0x197)]({'secheduleTime':_0x358389-_0x5bfa2b,'durationTime':Date[_0x10826c(0x441)]()-_0x358389}),_0x5bfa2b=_0x358389,_0x20ec41=!0x1;},_0x1d9f90);}[_0x3fd00f(0x3f1)](){const _0x84953=_0x3fd00f;let _0xcab43e,_0x195d32=!0x1;this[_0x84953(0x381)]&&(this['remoteNodes'][_0x84953(0x68d)](this[_0x84953(0x381)])||delete this[_0x84953(0x381)]);for(const _0x3c75d1 of this['remoteNodes'])if(_0xcab43e||(_0xcab43e=_0x3c75d1),this['nextNodeId']!==_0x3c75d1){if(_0x195d32)return void(this[_0x84953(0x381)]=_0x3c75d1);}else _0x195d32=!0x0,delete this[_0x84953(0x381)];this[_0x84953(0x381)]||(this[_0x84953(0x381)]=_0xcab43e);}}class _0x1e9d07{['source'];[_0x3fd00f(0x1d5)];[_0x3fd00f(0x5cb)];constructor(_0x2724e3,_0x246151){const _0x2d393b=_0x3fd00f;this[_0x2d393b(0x286)]=_0x2724e3,this[_0x2d393b(0x1d5)]=_0x246151;}[_0x3fd00f(0xaf2)](_0x505a79){const _0xb14648=_0x3fd00f;this[_0xb14648(0x5cb)]=_0x505a79;}[_0x3fd00f(0x607)](){const _0xee1fec=_0x3fd00f;delete this[_0xee1fec(0x5cb)];}}class _0x19b419 extends _0x1e9d07{[_0x3fd00f(0x286)];[_0x3fd00f(0x1d5)];[_0x3fd00f(0x1c5)];constructor(_0x2c51a0,_0x54ea47,_0x4d877a){const _0x23f3e6=_0x3fd00f;super(_0x2c51a0,_0x54ea47),this[_0x23f3e6(0x286)]=_0x2c51a0,this[_0x23f3e6(0x1d5)]=_0x54ea47,this[_0x23f3e6(0x1c5)]=_0x4d877a;}[_0x3fd00f(0x84f)](_0x4f900c,_0x5a91a7,_0x582d04){const _0xf0806e=_0x3fd00f;if(this[_0xf0806e(0x1d5)]['getContentType']()===_0x548494['ContentType'][_0xf0806e(0x271)]){const _0x5c820c={'type':_0x871c00[_0xf0806e(0x28f)],'label':this[_0xf0806e(0x1d5)][_0xf0806e(0x891)](),'ownerId':_0x4f900c,'trackKinds':_0x5a91a7??this[_0xf0806e(0x1d5)][_0xf0806e(0x6e0)](),'params':_0x582d04};this[_0xf0806e(0x5cb)]['publish']({'sourceId':this[_0xf0806e(0x286)][_0xf0806e(0x51c)](),'destinationIds':[this[_0xf0806e(0x286)][_0xf0806e(0x958)]()],'messageType':_0x519af0[_0xf0806e(0x6f7)],'content':_0x5c820c}),this[_0xf0806e(0x1c5)]=_0x582d04;}}['update'](_0x127909,_0x5d5b4e){const _0x1950b8=_0x3fd00f;if(this[_0x1950b8(0x1d5)][_0x1950b8(0x76c)]()===_0x548494[_0x1950b8(0x777)][_0x1950b8(0x271)]){const _0x5c4f44={'type':_0x871c00['UpdateMediaStream'],'label':this['destination'][_0x1950b8(0x891)](),'ownerId':_0x127909,'params':_0x5d5b4e};this[_0x1950b8(0x5cb)][_0x1950b8(0x70e)]({'sourceId':this[_0x1950b8(0x286)]['getLocalId'](),'destinationIds':[this[_0x1950b8(0x286)][_0x1950b8(0x958)]()],'messageType':_0x519af0[_0x1950b8(0x6f7)],'content':_0x5c4f44}),this[_0x1950b8(0x1c5)]=_0x5d5b4e;}}[_0x3fd00f(0x35a)](_0x135311,_0x33726d,_0x5af831){const _0x4a8a78=_0x3fd00f;if(this['destination'][_0x4a8a78(0x76c)]()===_0x548494[_0x4a8a78(0x777)][_0x4a8a78(0x271)]){const _0x10e195={'type':_0x871c00[_0x4a8a78(0x27d)],'label':this[_0x4a8a78(0x1d5)][_0x4a8a78(0x891)](),'ownerId':_0x135311,'trackKinds':_0x5af831??this[_0x4a8a78(0x1d5)]['getAvailableTrackKinds'](),'remainingTracks':_0x33726d};this[_0x4a8a78(0x5cb)][_0x4a8a78(0x70e)]({'sourceId':this[_0x4a8a78(0x286)][_0x4a8a78(0x51c)](),'destinationIds':[this[_0x4a8a78(0x286)][_0x4a8a78(0x958)]()],'messageType':_0x519af0[_0x4a8a78(0x6f7)],'content':_0x10e195});}}}class _0x1dd3cf{['currentDistance'];['maxDistance'];[_0x3fd00f(0xa58)];[_0x3fd00f(0x5cb)];['answers']=new Set();[_0x3fd00f(0x69c)]=Date['now']();['params'];['retryCount']=0x0;constructor(_0xaa234d,_0x21f224,_0x4ec572,_0x16650a){const _0xfeca96=_0x3fd00f;this['currentDistance']=_0x21f224,this[_0xfeca96(0x67e)]=_0x4ec572,this[_0xfeca96(0xa58)]=_0x16650a,_0xaa234d[_0xfeca96(0x3e1)](_0x542a9a=>{const _0x1aeae7=_0xfeca96;this[_0x1aeae7(0x9af)]['add']({'nodeId':_0x542a9a,'type':_0x309b31['Waiting']});});}['getTracks'](){const _0x2c2bf6=_0x3fd00f;return this[_0x2c2bf6(0xa58)];}[_0x3fd00f(0xaf2)](_0x3a0bde){const _0x321085=_0x3fd00f;this[_0x321085(0x5cb)]=_0x3a0bde;}[_0x3fd00f(0x607)](){delete this['systemTopic'];}[_0x3fd00f(0x4cb)](_0x172142,_0x48877f){const _0x5b8b02=_0x3fd00f;this['startTime']=Date[_0x5b8b02(0x441)](),this['answers'][_0x5b8b02(0x7e7)](),_0x172142[_0x5b8b02(0x3e1)](_0x550939=>{const _0x465e26=_0x5b8b02;this['answers'][_0x465e26(0x30b)]({'nodeId':_0x550939,'type':_0x309b31[_0x465e26(0x23b)]});}),this[_0x5b8b02(0x3c1)]+=0x1,this[_0x5b8b02(0x3a1)]=_0x48877f;}['sendRequest'](_0x381ab5,_0xc7016a,_0x45acd1,_0x10e60f,_0x1306f5){const _0x306afe=_0x3fd00f;if(this[_0x306afe(0x3c1)]>0xa)throw new _0x5d70cf(_0x5d70cf[_0x306afe(0x765)][_0x306afe(0x8df)],{'answers':Array['from'](this[_0x306afe(0x9af)])[_0x306afe(0x23d)](_0xc66a06=>({'nodeId':_0xc66a06[_0x306afe(0x4d3)],'type':_0xc66a06[_0x306afe(0x705)]}))});const _0x4bba53=Array[_0x306afe(0x4f7)](this[_0x306afe(0x9af)])[_0x306afe(0x23d)](_0x5b5205=>_0x5b5205['nodeId']);this['params']=_0x1306f5,this[_0x306afe(0x5cb)]['publish']({'sourceId':_0x381ab5,'destinationIds':_0x4bba53,'messageType':_0x519af0[_0x306afe(0x6f7)],'content':{'type':_0x871c00['NeedMediaStream'],'label':_0x45acd1,'ownerId':_0xc7016a,'trackKinds':_0x10e60f,'params':_0x1306f5}}),_0x404abe['log'](_0x20ff7d['Subscription'],_0x306afe(0x9dc),_0x381ab5,_0x4bba53);}[_0x3fd00f(0x82a)](_0x211eb6,_0x298323){const _0x44f313=_0x3fd00f;switch(_0x298323[_0x44f313(0x705)]){case _0x871c00['CanProvideMediaStream']:{const _0x2b64d3=this[_0x44f313(0x3a1)]>=_0x298323[_0x44f313(0x9d0)]&&_0x298323[_0x44f313(0x9d0)]<=this[_0x44f313(0x67e)],_0x2c5b33=Array[_0x44f313(0x4f7)](this[_0x44f313(0x9af)])[_0x44f313(0x78b)](_0x1430e4=>_0x1430e4[_0x44f313(0x4d3)]===_0x211eb6);_0x2c5b33['type']=_0x2b64d3?_0x309b31[_0x44f313(0x789)]:_0x309b31[_0x44f313(0x550)],_0x2c5b33[_0x44f313(0x2e2)]=_0x298323[_0x44f313(0x2e2)],_0x2c5b33['distance']=_0x298323[_0x44f313(0x9d0)],_0x2c5b33[_0x44f313(0x757)]=_0x298323[_0x44f313(0x757)],_0x2c5b33['roundTripTime']=Date['now']()-this[_0x44f313(0x69c)],_0x2c5b33['params']=this[_0x44f313(0x1c5)],_0x2c5b33[_0x44f313(0x490)]=_0x298323[_0x44f313(0x490)],_0x2c5b33[_0x44f313(0xa6e)]=_0x298323['trackKinds'],_0x2c5b33['streamLabel']=_0x298323['label'],_0x404abe[_0x44f313(0x327)](_0x20ff7d[_0x44f313(0x6f7)],(_0x2b64d3?_0x44f313(0x789):_0x44f313(0x550))+_0x44f313(0x2b8),_0x2c5b33);break;}case _0x871c00['CannotProvideMediaStream']:{const _0x56a191=Array[_0x44f313(0x4f7)](this[_0x44f313(0x9af)])[_0x44f313(0x78b)](_0x4cb996=>_0x4cb996[_0x44f313(0x4d3)]===_0x211eb6);_0x56a191[_0x44f313(0x705)]=_0x309b31['Rejected'],_0x404abe[_0x44f313(0x327)](_0x20ff7d[_0x44f313(0x6f7)],'Rejected\x20answer',_0x56a191);break;}}if(this[_0x44f313(0xa7c)]())return this['chooseAnswer']();}[_0x3fd00f(0x724)](){const _0x358d1b=_0x3fd00f,_0x8b4541=Array[_0x358d1b(0x4f7)](this[_0x358d1b(0x9af)])[_0x358d1b(0x69d)](_0x11f733=>_0x11f733[_0x358d1b(0x705)]===_0x309b31['Accepted'])[_0x358d1b(0x822)]((_0xa04a74,_0x19e287)=>_0xa04a74['cost']===_0x19e287[_0x358d1b(0x2e2)]?_0xa04a74[_0x358d1b(0x7dd)]-_0x19e287[_0x358d1b(0x7dd)]:_0xa04a74[_0x358d1b(0x2e2)]-_0x19e287[_0x358d1b(0x2e2)]);if(0x0===_0x8b4541[_0x358d1b(0xa5f)])throw new _0x5d70cf(_0x5d70cf[_0x358d1b(0x765)][_0x358d1b(0x8df)],{'answers':Array[_0x358d1b(0x4f7)](this[_0x358d1b(0x9af)])[_0x358d1b(0x23d)](_0x178727=>({'nodeId':_0x178727[_0x358d1b(0x4d3)],'type':_0x178727[_0x358d1b(0x705)]}))});return _0x404abe[_0x358d1b(0x327)](_0x20ff7d[_0x358d1b(0x6f7)],_0x358d1b(0x277),_0x8b4541[0x0],this[_0x358d1b(0x9af)]),_0x8b4541[0x0];}[_0x3fd00f(0xa7c)](){const _0x451810=_0x3fd00f;for(const _0xfee2d7 of this[_0x451810(0x9af)])if(_0xfee2d7[_0x451810(0x705)]===_0x309b31['Waiting'])return!0x1;return!0x0;}}class _0x33e374{['label'];[_0x3fd00f(0x275)];[_0x3fd00f(0x91a)]=_0x4767cf();constructor(_0x194809,_0xbcdbcf){const _0x390624=_0x3fd00f;this[_0x390624(0x985)]=_0x194809,this['contentType']=_0xbcdbcf;}[_0x3fd00f(0x891)](){return this['label'];}[_0x3fd00f(0x76c)](){const _0x5391b1=_0x3fd00f;return this[_0x5391b1(0x275)];}[_0x3fd00f(0x952)](_0x5a53ab){_0x5a53ab['registerPublisher'](this);}[_0x3fd00f(0x423)](_0x3e2f2d){const _0x4b18a8=_0x3fd00f;_0x3e2f2d[_0x4b18a8(0x1d6)](this);}['publish'](_0x57747d){const _0x4873bb=_0x3fd00f;this[_0x4873bb(0x91a)][_0x4873bb(0x70e)]({'topicLabel':this[_0x4873bb(0x985)],'contentType':this[_0x4873bb(0x275)],'uuid':(0x0,_0x630e7c['v4'])(),'recipients':[],..._0x57747d});}[_0x3fd00f(0x84f)](_0x3d94ca){const _0x414fe4=_0x3fd00f;return this[_0x414fe4(0x91a)][_0x414fe4(0x84f)](_0x3d94ca);}['unregisterSource'](_0x4494fd){_0x4494fd['unregisterPublisher'](this);}[_0x3fd00f(0x6dd)](_0x59b246){const _0x1e8ace=_0x3fd00f;_0x59b246[_0x1e8ace(0x2c9)](this);}}class _0x4b06c7{[_0x3fd00f(0x80d)]={'topics':new Map(),'subscriptions':new Map()};[_0x3fd00f(0x889)];constructor(_0x5312cc){const _0x5e4850=_0x3fd00f;this[_0x5e4850(0x889)]=_0x5312cc;}get['subscriptions'](){const _0x193b56=_0x3fd00f;return this[_0x193b56(0x80d)][_0x193b56(0x565)];}get[_0x3fd00f(0x839)](){const _0x1bf1b0=_0x3fd00f;return this['maps'][_0x1bf1b0(0x839)];}[_0x3fd00f(0x973)](_0x6af977,_0x24c21e){const _0x5095f7=_0x3fd00f,_0x551282=this[_0x5095f7(0x889)](_0x24c21e),_0xe7969=_0x3ec9d4(_0x6af977);if(!_0x551282['supportsContentType'])throw new _0x5d70cf(_0x5d70cf[_0x5095f7(0x765)]['InvalidSubscription'],{'message':_0xe7969+':\x20'+_0x551282['remoteId']+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x551282['contentType'],'subscriptionType':_0x6af977,'subscription':_0x24c21e,'subscriptonParts':_0x551282});const _0xa0c29c=_0x2582a3(_0x6af977,_0x551282);if(this[_0x5095f7(0x80d)]['subscriptions'][_0x5095f7(0x68d)](_0xa0c29c))throw new _0x5d70cf(_0x5d70cf['codes'][_0x5095f7(0x28a)],{'message':_0xe7969+':\x20'+_0xa0c29c+_0x5095f7(0x4bf),'subscriptionType':_0x6af977,'subscription':_0x24c21e,'subscriptonParts':_0x551282});this[_0x5095f7(0x80d)][_0x5095f7(0x565)]['set'](_0xa0c29c,_0x24c21e),this[_0x5095f7(0x71c)](_0x551282,_0x24c21e);}['removeSubscription'](_0x28f0d7,_0x2cfafc){const _0xf64e5=_0x3fd00f,_0x44d17d=_0x2582a3(_0x2cfafc,_0x28f0d7),_0x1030f1=this[_0xf64e5(0x80d)][_0xf64e5(0x565)]['get'](_0x44d17d);if(!_0x1030f1)throw new _0x5d70cf(_0x5d70cf[_0xf64e5(0x765)]['InvalidSubscription'],{'message':_0x3ec9d4(_0x2cfafc)+':\x20'+_0x44d17d+'\x20does\x20not\x20exists','subscriptionType':_0x2cfafc,'subscription':_0x1030f1,'subscriptonParts':_0x28f0d7});this[_0xf64e5(0xaa3)](_0x1030f1,_0x44d17d,_0x28f0d7);}['closeSubscription'](_0x4eafaa,_0x4c229b,_0x1d0759){const _0x3b7a73=_0x3fd00f;_0x1d0759=_0x1d0759||this['getPartsFromSubscription'](_0x4eafaa),this[_0x3b7a73(0x80d)][_0x3b7a73(0x565)][_0x3b7a73(0x92b)](_0x4c229b),this[_0x3b7a73(0x6cf)](_0x1d0759,_0x4eafaa);}[_0x3fd00f(0x71c)](_0x26ad70,{source:_0x4eead9,destination:_0x3836fd}){const _0x1e5534=_0x3fd00f,{contentType:_0x12e61a,label:_0x3b4d6c,remoteId:_0x329049}=_0x26ad70,_0x1fd351=_0x4187a0(_0x12e61a,_0x3b4d6c,_0x329049),_0x5ee01d=new _0x33e374(_0x1fd351,_0x12e61a);_0x5ee01d['registerSource'](_0x4eead9),_0x5ee01d[_0x1e5534(0x423)](_0x3836fd),this['maps'][_0x1e5534(0x839)][_0x1e5534(0x1f5)](_0x5ee01d[_0x1e5534(0x891)](),_0x5ee01d);}['removeTopic'](_0x230726,_0x190bdc){const _0xa2c4c1=_0x3fd00f,{contentType:_0x5007b5,label:_0x5ea232,remoteId:_0x5d81c0}=_0x230726,_0xc57149=_0x4187a0(_0x5007b5,_0x5ea232,_0x5d81c0),_0x2afa36=this[_0xa2c4c1(0x80d)][_0xa2c4c1(0x839)][_0xa2c4c1(0x7ae)](_0xc57149);_0x2afa36&&(this[_0xa2c4c1(0x5cf)](_0x2afa36,_0x190bdc),this[_0xa2c4c1(0x80d)][_0xa2c4c1(0x839)][_0xa2c4c1(0x92b)](_0xc57149));}[_0x3fd00f(0x5cf)](_0x3c9aee,{source:_0x221a44,destination:_0x341045}){const _0x2a0f09=_0x3fd00f;_0x3c9aee[_0x2a0f09(0x760)](_0x221a44),_0x3c9aee['unregisterDestination'](_0x341045);}['removeSubscriptionsForNode'](_0x1e819d){const _0x128c66=_0x3fd00f;this[_0x128c66(0x80d)]['subscriptions'][_0x128c66(0x3e1)]((_0x4c3513,_0x16394b)=>{const _0x28af6d=_0x128c66;_0x16394b[_0x28af6d(0x5a8)](_0x1e819d)&&this['closeSubscription'](_0x4c3513,_0x16394b);});}}class _0x31faf4{[_0x3fd00f(0x470)];['maxDistance'];[_0x3fd00f(0x1f8)]=new Map();[_0x3fd00f(0x3fc)]=_0x589b2a(new _0x438ceb(this[_0x3fd00f(0x717)]['bind'](this),()=>_0xa2c3bc[_0x3fd00f(0x3fd)](0x64)),!0x0);[_0x3fd00f(0x61b)]=new Map();[_0x3fd00f(0x80d)];[_0x3fd00f(0x972)]=new Map();constructor(_0x57c8a6,_0x1ab9e3){const _0x50695d=_0x3fd00f;this[_0x50695d(0x470)]=_0x57c8a6,this[_0x50695d(0x67e)]=_0x1ab9e3,this[_0x50695d(0x80d)]=new _0x4b06c7(({source:_0x56c69c,destination:_0x13ea3c})=>_0xb26a9f(_0x13ea3c,_0x56c69c));}['createSubscription'](_0x5089f5,_0x4f20d2){const _0x7f85a3=_0x3fd00f,_0x3c2e1b=this[_0x7f85a3(0x446)](_0x5089f5)&&this[_0x7f85a3(0x6d3)](_0x4f20d2)?new _0x19b419(_0x5089f5,_0x4f20d2):new _0x1e9d07(_0x5089f5,_0x4f20d2);this[_0x7f85a3(0x80d)][_0x7f85a3(0x973)](_0x23a429[_0x7f85a3(0x233)],_0x3c2e1b),this[_0x7f85a3(0x470)][_0x7f85a3(0xa68)][_0x7f85a3(0x3f8)](_0x3c2e1b);}[_0x3fd00f(0x922)](_0x58eee6,_0x52cebe,_0x49c0be=''){const _0x36f24f=_0x3fd00f,_0x418177={'contentType':_0x52cebe,'label':_0x58eee6,'remoteId':_0x49c0be},_0x2084a0=_0x2582a3(_0x23a429[_0x36f24f(0x233)],_0x418177),_0x5b8c41=this[_0x36f24f(0x80d)][_0x36f24f(0x565)][_0x36f24f(0x7ae)](_0x2084a0);_0x5b8c41&&this[_0x36f24f(0xaa3)](_0x5b8c41,_0x2084a0);}['handleContentUnpublishMediaStream'](_0x551dfb){const _0x58c224=_0x3fd00f;this[_0x58c224(0x353)](_0x551dfb);}['handleContentSubscribeMediaStream']({label:_0x1beed5,ownerId:_0x45d64a,trackKinds:_0xaba0bf,params:_0x2ef354}){const _0xe97967=_0x3fd00f;this[_0xe97967(0x40b)](_0x1beed5,_0x45d64a,_0xaba0bf,_0x2ef354);}['handleContentUpdateMediaStream']({ownerId:_0x594e9a,label:_0x15c4a2,params:_0x4a13b3}){const _0xa3fe94=_0x3fd00f,{subscriptionLabel:_0x7c518f}=this[_0xa3fe94(0x201)](_0x15c4a2,_0x594e9a),_0x12c523=this[_0xa3fe94(0x63b)](_0x7c518f);_0x12c523&&_0x12c523[_0xa3fe94(0xa18)](_0x594e9a,_0x4a13b3);}[_0x3fd00f(0x3ce)]({ownerId:_0x45b130,label:_0x58c3bc,trackKinds:_0x83ec68,remainingTracks:_0x516cbf}){const _0x5421f1=_0x3fd00f,_0x2fa8e1=_0x2582a3(_0x23a429[_0x5421f1(0x233)],{'contentType':_0x548494['ContentType'][_0x5421f1(0x271)],'label':_0x58c3bc,'remoteId':_0x45b130});this[_0x5421f1(0x1ef)](_0x2fa8e1);const _0x267d23=this[_0x5421f1(0x1f8)][_0x5421f1(0x7ae)](_0x2fa8e1);_0x267d23&&(this[_0x5421f1(0x470)][_0x5421f1(0xa68)][_0x5421f1(0xabc)](_0x267d23),this[_0x5421f1(0x1f8)][_0x5421f1(0x92b)](_0x2fa8e1));const {parts:_0x32ef54,subscriptionLabel:_0x120c54}=this[_0x5421f1(0x201)](_0x58c3bc,_0x45b130),_0x3cb898=this[_0x5421f1(0x63b)](_0x120c54);_0x3cb898&&(_0x3cb898[_0x5421f1(0x35a)](_0x45b130,_0x516cbf,_0x83ec68),0x0===_0x516cbf&&this['removeSubscription'](_0x32ef54[_0x5421f1(0x985)],_0x32ef54[_0x5421f1(0x275)],_0x32ef54[_0x5421f1(0x7da)]));}['handleSubscriptionRestartNeedMediaStream'](_0x592a14,{label:_0x31a6e7,ownerId:_0x36697a,trackKinds:_0x18db6f,streamId:_0x45afe7,params:_0x1e706b}){const _0x335720=_0x3fd00f,_0x4b8834=_0x2582a3(_0x23a429['Incoming'],{'contentType':_0x548494[_0x335720(0x777)][_0x335720(0x271)],'label':_0x45afe7,'remoteId':_0x592a14}),_0x4f0d4a=this['maps']['subscriptions'][_0x335720(0x7ae)](_0x4b8834);if(!(_0x4f0d4a&&_0x4f0d4a instanceof _0x19b419))throw new _0x5d70cf(_0x5d70cf[_0x335720(0x765)][_0x335720(0x2c0)],{'label':_0x4b8834,'ownerId':_0x36697a});this['closeSubscription'](_0x4f0d4a,_0x4b8834),this[_0x335720(0x40b)](_0x31a6e7,_0x36697a,_0x18db6f,_0x1e706b);}[_0x3fd00f(0x518)](_0x203441,_0x1a1f42){const _0xbe3bbb=_0x3fd00f,{label:_0x67d9ce,ownerId:_0x42905a,trackKinds:_0x583c02,params:_0x4a28de}=_0x1a1f42,_0x8a0d56=_0x2582a3(_0x23a429[_0xbe3bbb(0x233)],{'contentType':_0x548494[_0xbe3bbb(0x777)][_0xbe3bbb(0x271)],'label':_0x67d9ce,'remoteId':_0x42905a});if(!this[_0xbe3bbb(0x1f8)]['has'](_0x8a0d56))throw new _0x5d70cf(_0x5d70cf['codes'][_0xbe3bbb(0x2c0)],{'label':_0x8a0d56,'ownerId':_0x42905a,'streamId':_0x1a1f42[_0xbe3bbb(0x757)],'requests':this['subscriptionRequests']});const _0x570963=this[_0xbe3bbb(0x1f8)][_0xbe3bbb(0x7ae)](_0x8a0d56);if(_0x583c02[_0xbe3bbb(0xa5f)]===_0x570963['getTracks']()[_0xbe3bbb(0xa5f)]&&_0x583c02['every'](_0x2e4eab=>_0x570963[_0xbe3bbb(0x171)]()[_0xbe3bbb(0x7ac)](_0x2e4eab)))try{const _0x3976b2=_0x570963[_0xbe3bbb(0x82a)](_0x203441,_0x1a1f42);if(!_0x3976b2)return;this[_0xbe3bbb(0x84f)](_0x3976b2,_0x42905a,_0x67d9ce,_0x8a0d56,_0x583c02);}catch(_0x4120e4){return void this[_0xbe3bbb(0x161)](_0x67d9ce,_0x42905a,_0x583c02,_0x4a28de);}}['handleSubscriptionMediaStreamUnavailable'](_0xeeb21,{label:_0x54e078,ownerId:_0x7cf751,trackKinds:_0x4bc0d2}){const _0x1fca21=_0x3fd00f,_0x26f1bf=this[_0x1fca21(0x470)][_0x1fca21(0xa68)]['getRemoteMediaStream'](_0x7cf751,_0x54e078);if(!_0x26f1bf)return;const _0x327b1f=_0x26f1bf['getInternalStreamId'](),_0xdebaff=_0x26f1bf[_0x1fca21(0x698)]();_0xdebaff[_0x1fca21(0x564)](_0x31539b=>_0x4bc0d2['includes'](_0x31539b))&&this['findNewMediaSubscription'](_0xeeb21,_0x54e078,_0x327b1f,_0x7cf751,_0xdebaff);}[_0x3fd00f(0x38d)]({label:_0x486f5a,providerId:_0x4e297f,ownerId:_0x29b4fd,streamId:_0x3ff3b7,trackKinds:_0x108be5}){const _0x1764ab=_0x3fd00f;this[_0x1764ab(0x869)](_0x4e297f,_0x486f5a,_0x3ff3b7,_0x29b4fd,_0x108be5);}['handleOptimizationConnectionSuccess'](_0x910e6b){const _0x2e276d=_0x3fd00f;for(const _0x8baf6f of this['chosenAnswers'][_0x2e276d(0x16a)]()){const {streamLabel:_0x389049,ownerId:_0x4f6fc1,trackKinds:_0x2602e1,params:_0xc35941}=_0x8baf6f;if(!_0x4f6fc1||!_0x2602e1||!_0x389049)return;this[_0x2e276d(0x3fc)][_0x2e276d(0x639)]({'label':_0x389049,'ownerId':_0x4f6fc1,'trackKinds':_0x2602e1,'params':_0xc35941,'remoteId':_0x910e6b});}}[_0x3fd00f(0x8dd)](_0x24c216){const _0x589d52=_0x3fd00f;this[_0x589d52(0x80d)][_0x589d52(0x565)][_0x589d52(0x3e1)]((_0x32594d,_0x394240)=>{const _0x283f66=_0x589d52;if(_0x394240['endsWith'](_0x24c216)){if(_0x32594d['destination']['getContentType']()===_0x548494[_0x283f66(0x777)][_0x283f66(0x271)]){const _0x5ac873=_0x32594d[_0x283f66(0x1d5)];if(_0x5ac873[_0x283f66(0x698)]()[_0x283f66(0xa5f)]>0x0){const _0x3c2d0d={'type':_0x871c00[_0x283f66(0x48b)],'label':_0x5ac873[_0x283f66(0x891)](),'ownerId':_0x5ac873[_0x283f66(0x252)](),'trackKinds':_0x5ac873[_0x283f66(0x698)]()};return void this[_0x283f66(0x456)](_0x24c216,_0x3c2d0d);}}this[_0x283f66(0xaa3)](_0x32594d,_0x394240);}});}[_0x3fd00f(0x883)](){const _0x3dd47e=_0x3fd00f;this[_0x3dd47e(0x80d)]['subscriptions'][_0x3dd47e(0x3e1)](this['closeSubscription'][_0x3dd47e(0x167)](this));}[_0x3fd00f(0x84f)](_0x2007fa,_0x2f5e90,_0x3092be,_0x5ef152,_0x3f5220){const _0x5cf244=_0x3fd00f,_0x4f80e1=this['configs'][_0x5cf244(0xa68)][_0x5cf244(0x1fb)](_0x2007fa[_0x5cf244(0x4d3)]),_0x393a1c=this['configs'][_0x5cf244(0xa68)][_0x5cf244(0x8af)](_0x2f5e90,_0x3092be);this[_0x5cf244(0x1ef)](_0x5ef152),this[_0x5cf244(0x1f8)]['has'](_0x5ef152)&&(this[_0x5cf244(0x470)][_0x5cf244(0xa68)][_0x5cf244(0xabc)](this[_0x5cf244(0x1f8)][_0x5cf244(0x7ae)](_0x5ef152)),this['subscriptionRequests']['delete'](_0x5ef152)),this[_0x5cf244(0x200)](_0x2007fa,_0x2f5e90,_0x3092be,_0x393a1c),_0x393a1c[_0x5cf244(0x2ee)](_0x2007fa[_0x5cf244(0x757)]),_0x393a1c['setProviderId'](_0x2007fa[_0x5cf244(0x4d3)]);const _0x7f6f45=_0xb26a9f(_0x393a1c,_0x4f80e1),_0x12e5e0=_0x2582a3(_0x23a429[_0x5cf244(0x233)],_0x7f6f45);this[_0x5cf244(0x80d)]['subscriptions'][_0x5cf244(0x68d)](_0x12e5e0)||this[_0x5cf244(0x973)](_0x4f80e1,_0x393a1c);const _0x5049d6=this[_0x5cf244(0x80d)]['subscriptions'][_0x5cf244(0x7ae)](_0x12e5e0);if(!(_0x5049d6&&_0x5049d6 instanceof _0x19b419))throw new _0x5d70cf(_0x5d70cf[_0x5cf244(0x765)][_0x5cf244(0x2c0)],{'label':_0x5ef152,'ownerId':_0x2f5e90});_0x404abe[_0x5cf244(0xaee)]('subscription',{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x5cf244(0x470)][_0x5cf244(0x976)]['getId'](),'nodeType':this['configs'][_0x5cf244(0x976)][_0x5cf244(0x705)],'data':{'subscriptionLabel':_0x12e5e0,'chosenAnswer':_0x2007fa}}),this[_0x5cf244(0x972)][_0x5cf244(0x1f5)](_0x12e5e0,_0x2007fa),_0x5049d6[_0x5cf244(0x84f)](_0x2f5e90,_0x3f5220,_0x2007fa[_0x5cf244(0x1c5)]);}[_0x3fd00f(0x353)]({ownerId:_0x547e00,label:_0x191c19}){const _0x2ea101=_0x3fd00f,_0xe94fe0=this[_0x2ea101(0x470)][_0x2ea101(0xa68)][_0x2ea101(0x8af)](_0x547e00,_0x191c19),[_0x59913f,_0x50c638]=Array[_0x2ea101(0x4f7)](this[_0x2ea101(0x80d)]['subscriptions'][_0x2ea101(0x4c9)]())[_0x2ea101(0x78b)](([_0x1a3736,_0x1fe4bb])=>-0x1!==_0x1a3736[_0x2ea101(0x61f)](_0xe94fe0[_0x2ea101(0x5c1)]()));return this[_0x2ea101(0xaa3)](_0x50c638,_0x59913f);}[_0x3fd00f(0xaa3)](_0x235fc1,_0x8d362){const _0x59594d=_0x3fd00f;this[_0x59594d(0x470)]['mediator'][_0x59594d(0xabc)](_0x235fc1),this['maps'][_0x59594d(0xaa3)](_0x235fc1,_0x8d362);}[_0x3fd00f(0x446)](_0x19c6f4){const _0xfc8a20=_0x3fd00f;return _0x19c6f4[_0xfc8a20(0x29a)]()['includes'](_0x548494[_0xfc8a20(0x777)][_0xfc8a20(0x271)]);}[_0x3fd00f(0x6d3)](_0x207179){const _0xdb337b=_0x3fd00f;return _0x207179['getContentType']()===_0x548494[_0xdb337b(0x777)][_0xdb337b(0x271)];}async['handleNoAnswer'](_0x3e21bd,_0x15d000,_0x2d10a2,_0x3417df){const _0x27061b=_0x3fd00f;await _0xa2c3bc[_0x27061b(0x3fd)](0x3e8);const _0x22f9c4=_0x2582a3(_0x23a429[_0x27061b(0x233)],{'contentType':_0x548494['ContentType'][_0x27061b(0x271)],'label':_0x3e21bd,'remoteId':_0x15d000});this[_0x27061b(0x1ef)](_0x22f9c4);const _0x120c48=this[_0x27061b(0x1f8)][_0x27061b(0x7ae)](_0x22f9c4);if(!_0x120c48)throw new _0x5d70cf(_0x5d70cf['codes']['SubscriptionRequestDoesNotExist'],{'label':_0x22f9c4,'ownerId':_0x15d000});const _0x530b2e=this[_0x27061b(0x470)]['mediator'][_0x27061b(0x4ea)](_0x51c2bd=>_0x51c2bd[_0x27061b(0xac9)]()),_0x4d6e3c=this[_0x27061b(0x470)][_0x27061b(0xa68)]['getDistance'](this['configs'][_0x27061b(0x976)]['getId'](),_0x15d000);_0x120c48[_0x27061b(0x4cb)](_0x530b2e[_0x27061b(0x23d)](_0xbc93f8=>_0xbc93f8['getRemoteId']()),_0x4d6e3c);try{_0x120c48[_0x27061b(0x2b0)](this[_0x27061b(0x470)]['localNode']['getId'](),_0x15d000,_0x3e21bd,_0x2d10a2,_0x3417df),this[_0x27061b(0x1aa)](_0x3e21bd,_0x15d000,_0x2d10a2,_0x3417df,_0x22f9c4,_0x120c48);}catch(_0x472f6c){this['subscriptionRequestsQueue'][_0x27061b(0x639)]({'label':_0x3e21bd,'ownerId':_0x15d000,'trackKinds':_0x2d10a2,'params':_0x3417df});}}[_0x3fd00f(0x40b)](_0x3775df,_0x5f1159,_0x576c62,_0x21804a){const _0x5e03b5=_0x3fd00f;this[_0x5e03b5(0x3fc)][_0x5e03b5(0x639)]({'label':_0x3775df,'ownerId':_0x5f1159,'trackKinds':_0x576c62,'params':_0x21804a});}[_0x3fd00f(0x717)]({label:_0x2f4851,ownerId:_0x1dc57b,trackKinds:_0x2779b8,params:_0x12923f,remoteId:_0x18bee9}){const _0x56579e=_0x3fd00f;if(!this['configs'][_0x56579e(0xa68)]['getRemoteMediaStream'](_0x1dc57b,_0x2f4851))return;if(!this[_0x56579e(0x470)][_0x56579e(0xa68)][_0x56579e(0x26c)]()['getRank']())throw new Error(_0x56579e(0x858));if(_0x18bee9){const _0x5d05c5=this[_0x56579e(0x470)][_0x56579e(0xa68)][_0x56579e(0x753)]()[_0x56579e(0x78b)](_0x3459b4=>_0x3459b4[_0x56579e(0xb04)]()===_0x18bee9),_0x48659a=_0x5d05c5?.[_0x56579e(0xae9)]();if(!_0x5d05c5||!_0x48659a)throw new Error(_0x56579e(0x6a8));const _0xd47e4c=this[_0x56579e(0x470)][_0x56579e(0xa68)][_0x56579e(0x753)]()[_0x56579e(0x78b)](_0x4015c4=>_0x4015c4['getId']()===_0x1dc57b),_0x29fc68=_0xd47e4c?.[_0x56579e(0xae9)]();if(!_0xd47e4c||!_0x29fc68)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x3b708a=this[_0x56579e(0x972)][_0x56579e(0x7ae)](_0x2f4851);if(_0x3b708a){const _0x416f4c=this[_0x56579e(0x470)][_0x56579e(0xa68)][_0x56579e(0x753)]()[_0x56579e(0x78b)](_0x11317e=>_0x11317e['getId']()===_0x3b708a[_0x56579e(0x4d3)]),_0x597dc3=_0x416f4c?.[_0x56579e(0xae9)]();if(!_0x416f4c||!_0x597dc3)throw new Error(_0x56579e(0x690));if(Math[_0x56579e(0x493)](_0x597dc3-_0x29fc68)<Math['abs'](_0x48659a-_0x29fc68))return;}}const _0x2a35dd=this[_0x56579e(0x470)][_0x56579e(0xa68)]['getConnections'](_0x1090ba=>_0x1090ba[_0x56579e(0xac9)]()&&(!_0x18bee9||_0x1090ba['getRemoteId']()===_0x18bee9));if(!_0x2a35dd['length']||0x0===_0x2a35dd[_0x56579e(0xa5f)])throw new Error(_0x56579e(0x6a9));const _0x559f13=this['configs'][_0x56579e(0xa68)]['getDistance'](this[_0x56579e(0x470)]['localNode'][_0x56579e(0xb04)](),_0x1dc57b),_0x3737e0=_0x2582a3(_0x23a429['Incoming'],{'contentType':_0x548494[_0x56579e(0x777)]['Media'],'label':_0x2f4851,'remoteId':_0x1dc57b});if(this[_0x56579e(0x1f8)]['has'](_0x3737e0)){if(_0x18bee9)throw new Error(_0x56579e(0x7ed));const _0x4e31c0=this[_0x56579e(0x1f8)][_0x56579e(0x7ae)](_0x3737e0)[_0x56579e(0x171)]();if(_0x4e31c0[_0x56579e(0xa5f)]===_0x2779b8[_0x56579e(0xa5f)]&&_0x4e31c0[_0x56579e(0x500)](_0x31a090=>_0x2779b8[_0x56579e(0x7ac)](_0x31a090)))return;this[_0x56579e(0x470)]['mediator'][_0x56579e(0xabc)](this['subscriptionRequests'][_0x56579e(0x7ae)](_0x3737e0)),this['subscriptionRequests'][_0x56579e(0x92b)](_0x3737e0),_0x2779b8=Array[_0x56579e(0x4f7)](new Set(_0x2779b8[_0x56579e(0x8de)](_0x4e31c0))),this['clearSubscriptionRequestTimeout'](_0x3737e0);}const _0x5c6665=new _0x1dd3cf(_0x2a35dd['map'](_0x1042ca=>_0x1042ca[_0x56579e(0x958)]()),_0x559f13,this[_0x56579e(0x67e)],_0x2779b8);this[_0x56579e(0x470)][_0x56579e(0xa68)]['registerSystemSource'](_0x5c6665),this[_0x56579e(0x1f8)][_0x56579e(0x1f5)](_0x3737e0,_0x5c6665),_0x5c6665[_0x56579e(0x2b0)](this['configs'][_0x56579e(0x976)][_0x56579e(0xb04)](),_0x1dc57b,_0x2f4851,_0x2779b8,_0x12923f),this['setSubscriptionRequestTimeout'](_0x2f4851,_0x1dc57b,_0x2779b8,_0x12923f,_0x3737e0,_0x5c6665);}[_0x3fd00f(0x1ef)](_0x18e474){const _0x3d0280=_0x3fd00f;this[_0x3d0280(0x61b)][_0x3d0280(0x68d)](_0x18e474)&&(clearTimeout(this[_0x3d0280(0x61b)][_0x3d0280(0x7ae)](_0x18e474)),this[_0x3d0280(0x61b)]['delete'](_0x18e474));}[_0x3fd00f(0x1aa)](_0x169529,_0x14cfd2,_0x49169c,_0x362c52,_0x4f4e9,_0x424055){const _0x5a0e18=_0x3fd00f;this[_0x5a0e18(0x1ef)](_0x4f4e9),this[_0x5a0e18(0x61b)][_0x5a0e18(0x1f5)](_0x4f4e9,setTimeout(()=>{const _0x5911f6=_0x5a0e18;this[_0x5911f6(0x61b)][_0x5911f6(0x92b)](_0x4f4e9);try{const _0xbed8b4=_0x424055[_0x5911f6(0x724)]();this[_0x5911f6(0x84f)](_0xbed8b4,_0x14cfd2,_0x169529,_0x4f4e9,_0x49169c);}catch(_0x52f04b){this[_0x5911f6(0x161)](_0x169529,_0x14cfd2,_0x49169c,_0x362c52);}},0x7d0));}[_0x3fd00f(0x869)](_0x2332f5,_0x59f814,_0x44262f,_0x33178c,_0x484ec4){const _0x5ef722=_0x3fd00f,{subscriptionLabel:_0x277415}=this[_0x5ef722(0x201)](_0x59f814,_0x33178c),_0x2235bc=this[_0x5ef722(0x63b)](_0x277415),_0x1fc420=_0x2235bc?.[_0x5ef722(0x1c5)];_0x2235bc&&(_0x2235bc['unsubscribe'](_0x33178c,0x0),this['removeSubscription'](_0x44262f,_0x548494['ContentType'][_0x5ef722(0x271)],_0x2332f5)),this[_0x5ef722(0x40b)](_0x59f814,_0x33178c,_0x484ec4,_0x1fc420);}[_0x3fd00f(0x63b)](_0x2c5e37){const _0x2999e3=_0x3fd00f,_0xb0ad85=this[_0x2999e3(0x80d)][_0x2999e3(0x565)][_0x2999e3(0x7ae)](_0x2c5e37);if(_0xb0ad85){if(!(_0xb0ad85 instanceof _0x19b419))throw new _0x5d70cf(_0x5d70cf[_0x2999e3(0x765)][_0x2999e3(0x28a)],{'label':_0x2c5e37,'subscription':_0xb0ad85});return _0xb0ad85;}}['getSubscriptionLabel'](_0x4a9a3a,_0x2aae28){const _0x114484=_0x3fd00f,_0x4e3879=this[_0x114484(0x259)](_0x4a9a3a,_0x2aae28);return{'parts':_0x4e3879,'subscriptionLabel':_0x2582a3(_0x23a429[_0x114484(0x233)],_0x4e3879)};}[_0x3fd00f(0x259)](_0x3a2a9d,_0x3d285c){const _0x5e8c86=_0x3fd00f,_0x399a7a=this[_0x5e8c86(0x470)][_0x5e8c86(0xa68)][_0x5e8c86(0x8af)](_0x3d285c,_0x3a2a9d),_0x47cc40=_0x399a7a[_0x5e8c86(0x3aa)]();if(!_0x47cc40)throw new _0x5d70cf(_0x5d70cf[_0x5e8c86(0x765)][_0x5e8c86(0x9f1)],{'label':_0x3a2a9d,'streamId':_0x399a7a[_0x5e8c86(0x5c1)](),'ownerId':_0x3d285c,'localId':this[_0x5e8c86(0x470)]['localNode'][_0x5e8c86(0xb04)]()});return{'contentType':_0x548494[_0x5e8c86(0x777)][_0x5e8c86(0x271)],'label':_0x399a7a['getInternalStreamId'](),'remoteId':_0x47cc40};}[_0x3fd00f(0x200)](_0x465382,_0x2e1dcb,_0x32f8a2,_0xcf7d10){const _0x280968=_0x3fd00f,_0x5b3c62=_0xcf7d10['getProviderId']();if(_0x5b3c62&&_0x5b3c62!==_0x465382[_0x280968(0x4d3)]){const {parts:_0x1004f1,subscriptionLabel:_0x45ec11}=this[_0x280968(0x201)](_0x32f8a2,_0x2e1dcb),_0x187fe1=this[_0x280968(0x63b)](_0x45ec11);_0x187fe1&&(_0x187fe1[_0x280968(0x35a)](_0x2e1dcb,0x0),this['removeSubscription'](_0x1004f1[_0x280968(0x985)],_0x1004f1[_0x280968(0x275)],_0x1004f1[_0x280968(0x7da)]));}}}class _0x46281a{[_0x3fd00f(0x470)];[_0x3fd00f(0x8bb)];[_0x3fd00f(0x80d)];constructor(_0xcecc94,_0x59de59){const _0x10f4ef=_0x3fd00f;this[_0x10f4ef(0x470)]=_0xcecc94,this[_0x10f4ef(0x8bb)]=_0x59de59,this[_0x10f4ef(0x80d)]=new _0x4b06c7(({source:_0x5b662c,destination:_0xc3ba6c})=>_0xb26a9f(_0x5b662c,_0xc3ba6c));}['createSubscription'](_0x24ab54,_0x5a62c0){const _0x3c199a=_0x3fd00f,_0x12465e={'source':_0x24ab54,'destination':_0x5a62c0};this[_0x3c199a(0x80d)]['createSubscription'](_0x23a429['Outgoing'],_0x12465e);}[_0x3fd00f(0x922)](_0x24609d,_0x1ba558,_0x256d2b=''){const _0x1628e2=_0x3fd00f,_0x268b37={'contentType':_0x1ba558,'label':_0x24609d,'remoteId':_0x256d2b};this[_0x1628e2(0x80d)]['removeSubscription'](_0x268b37,_0x23a429[_0x1628e2(0x53b)]);}[_0x3fd00f(0x3ef)](_0x5dd314,_0x91ac70){const _0x58af3a=_0x3fd00f;let _0x12735d;_0x12735d=_0x91ac70['ownerId']!==this[_0x58af3a(0x470)][_0x58af3a(0x976)][_0x58af3a(0xb04)]()?this[_0x58af3a(0x470)]['mediator'][_0x58af3a(0x8af)](_0x91ac70[_0x58af3a(0x490)],_0x91ac70[_0x58af3a(0x985)]):this[_0x58af3a(0x470)][_0x58af3a(0xa68)][_0x58af3a(0x7b9)](_0x91ac70[_0x58af3a(0x985)]);const _0x2dc1b1=_0x2582a3(_0x23a429[_0x58af3a(0x53b)],{'contentType':_0x548494[_0x58af3a(0x777)][_0x58af3a(0x271)],'label':_0x12735d[_0x58af3a(0x385)](),'remoteId':_0x5dd314}),_0x1b53ae=this[_0x58af3a(0x689)]();if(!this['maps'][_0x58af3a(0x565)][_0x58af3a(0x68d)](_0x2dc1b1)&&_0x1b53ae>=this[_0x58af3a(0x8bb)])return{'type':_0x871c00[_0x58af3a(0x359)],'ownerId':_0x91ac70[_0x58af3a(0x490)],'label':_0x91ac70[_0x58af3a(0x985)],'streamId':_0x12735d['getShareableStreamId'](),'trackKinds':_0x91ac70[_0x58af3a(0xa6e)],'params':_0x91ac70[_0x58af3a(0x1c5)]};_0x12735d instanceof _0x16d15d&&!_0x12735d[_0x58af3a(0x4f4)](_0x91ac70[_0x58af3a(0xa6e)])&&_0x12735d['subscribe'](_0x91ac70['params']),this[_0x58af3a(0x80d)][_0x58af3a(0x565)][_0x58af3a(0x68d)](_0x2dc1b1)||this[_0x58af3a(0x973)](_0x12735d[_0x58af3a(0x7cb)](_0x5dd314),this['configs'][_0x58af3a(0xa68)][_0x58af3a(0x1fb)](_0x5dd314));}[_0x3fd00f(0x954)](_0x5ce9b9,{label:_0x15b352,ownerId:_0x147f49,remainingTracks:_0x27a363}){const _0xbf0871=_0x3fd00f;if(_0x27a363>0x0)return;let _0x5360ef;_0x5360ef=_0x147f49!==this['configs'][_0xbf0871(0x976)]['getId']()?this['configs'][_0xbf0871(0xa68)][_0xbf0871(0x8af)](_0x147f49,_0x15b352):this[_0xbf0871(0x470)][_0xbf0871(0xa68)]['getLocalMediaStream'](_0x15b352);const _0x4952f2=_0x5360ef[_0xbf0871(0x385)](),_0x2eca86=_0x548494[_0xbf0871(0x777)][_0xbf0871(0x271)];this[_0xbf0871(0x922)](_0x4952f2,_0x2eca86,_0x5ce9b9);}[_0x3fd00f(0x3ce)](_0x1f3999,{label:_0x1868e7,ownerId:_0x4ff3d1,trackKinds:_0x3bef1a}){const _0x517b3f=_0x3fd00f;if(_0x1f3999!==_0x4856c9)return[];let _0x1a81dd=[];for(const _0x416ddf of this['maps']['subscriptions']){const {source:_0x2ee96a,destination:_0x4c75d1}=_0x416ddf[0x1];_0x2ee96a['getLabel']()===_0x1868e7&&_0x2ee96a[_0x517b3f(0x252)]()===_0x4ff3d1&&_0x1a81dd[_0x517b3f(0x639)]({'sourceId':this['configs'][_0x517b3f(0x976)]['getId'](),'destinationIds':[_0x4c75d1[_0x517b3f(0x958)]()],'messageType':_0x519af0[_0x517b3f(0x6f7)],'content':{'type':_0x871c00[_0x517b3f(0x48b)],'label':_0x1868e7,'ownerId':_0x4ff3d1,'trackKinds':_0x3bef1a}});}return _0x1a81dd;}['handleSubscriptionNeedMediaStream'](_0x4b9b73,_0xec11fc){const _0x99c375=_0x3fd00f,{label:_0x4cded4,ownerId:_0x2a03f3,trackKinds:_0x380319,params:_0x23b7b1}=_0xec11fc,{hasTracks:_0x3885c1,streamId:_0x320b2b,hasResolution:_0x10dca5,distance:_0x2fd78b,subscriptionLabel:_0x3ba307}=this[_0x99c375(0x8bf)](_0x4b9b73,_0xec11fc);let _0x6c1552=this['getNumberOutgoingSubscriptions']()<this[_0x99c375(0x8bb)]&&(_0x3885c1||_0x2fd78b>-0x1)?_0x871c00[_0x99c375(0x5e9)]:_0x871c00[_0x99c375(0x39d)];const _0x22adf4=_0x2fd78b<0x0?0xa:_0x2fd78b;let _0x5c9daa=_0x3885c1?_0x10dca5?_0x22adf4:_0x22adf4+0x0:_0x22adf4+0xa;return _0x3ba307&&this[_0x99c375(0x80d)][_0x99c375(0x565)][_0x99c375(0x68d)](_0x3ba307)&&(_0x3885c1&&(_0x5c9daa=0x0),_0x6c1552=_0x871c00[_0x99c375(0x5e9)]),{'type':_0x6c1552,'cost':_0x5c9daa,'distance':_0x2fd78b,'label':_0x4cded4,'ownerId':_0x2a03f3,'streamId':_0x320b2b,'trackKinds':_0x380319,'params':_0x23b7b1};}[_0x3fd00f(0x298)](_0x1e2699){const _0x5116f2=_0x3fd00f,{label:_0x25292d,ownerId:_0x171f37}=_0x1e2699,_0x3ee26f=this['configs']['mediator'][_0x5116f2(0x8af)](_0x171f37,_0x25292d);this[_0x5116f2(0x80d)][_0x5116f2(0x565)][_0x5116f2(0x3e1)](_0x2328a4=>{const _0x1ac479=_0x5116f2;if(_0x2328a4[_0x1ac479(0x286)][_0x1ac479(0x5c1)]()===_0x3ee26f[_0x1ac479(0x385)]()){const _0xee96d=_0x2328a4[_0x1ac479(0x1d5)];this[_0x1ac479(0x922)](_0x3ee26f['getShareableStreamId'](),_0x548494['ContentType'][_0x1ac479(0x271)],_0xee96d[_0x1ac479(0x958)]());}});}[_0x3fd00f(0x787)]({label:_0x401b0e}){const _0x589858=_0x3fd00f,_0x5d6815=this[_0x589858(0x470)][_0x589858(0xa68)][_0x589858(0x7b9)](_0x401b0e);this['maps'][_0x589858(0x565)]['forEach'](_0x35b7c5=>{const _0x56353b=_0x589858;if(_0x35b7c5[_0x56353b(0x286)][_0x56353b(0x5c1)]()===_0x5d6815[_0x56353b(0x385)]()){const _0x1ac26a=_0x35b7c5[_0x56353b(0x1d5)];this[_0x56353b(0x922)](_0x5d6815[_0x56353b(0x385)](),_0x548494[_0x56353b(0x777)][_0x56353b(0x271)],_0x1ac26a[_0x56353b(0x958)]());}});}[_0x3fd00f(0x8dd)](_0x4bcb87){this['maps']['removeSubscriptionsForNode'](_0x4bcb87);}[_0x3fd00f(0x883)](){const _0x450310=_0x3fd00f;this['maps'][_0x450310(0x565)][_0x450310(0x3e1)](this[_0x450310(0xaa3)][_0x450310(0x167)](this));}[_0x3fd00f(0xaa3)](_0x4d0cde,_0x411b71){const _0x936be3=_0x3fd00f;this[_0x936be3(0x80d)][_0x936be3(0xaa3)](_0x4d0cde,_0x411b71);}[_0x3fd00f(0x8bf)](_0x3be74a,{label:_0x48c5f4,ownerId:_0x24e48e,trackKinds:_0x484387,params:_0x3bd237}){const _0x386654=_0x3fd00f;if(_0x24e48e!==this[_0x386654(0x470)][_0x386654(0x976)][_0x386654(0xb04)]()){const _0x36a195=this[_0x386654(0x470)][_0x386654(0xa68)][_0x386654(0x8af)](_0x24e48e,_0x48c5f4);return _0x36a195&&_0x36a195['getProviderId']()!==_0x3be74a?{'hasTracks':_0x36a195[_0x386654(0x4dd)](_0x484387),'hasResolution':this[_0x386654(0x403)](_0x36a195['getResolution'](),_0x3bd237),'streamId':_0x36a195['getShareableStreamId'](),'distance':this[_0x386654(0x470)][_0x386654(0xa68)][_0x386654(0x5d7)](_0x3be74a,_0x24e48e),'subscriptionLabel':_0x2582a3(_0x23a429[_0x386654(0x53b)],{'contentType':_0x548494[_0x386654(0x777)]['Media'],'label':_0x36a195[_0x386654(0x385)](),'remoteId':_0x3be74a})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x34e82d=this[_0x386654(0x470)]['mediator'][_0x386654(0x7b9)](_0x48c5f4);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x34e82d[_0x386654(0x385)](),'distance':0x0,'subscriptionLabel':_0x2582a3(_0x23a429[_0x386654(0x53b)],{'contentType':_0x548494['ContentType'][_0x386654(0x271)],'label':_0x34e82d[_0x386654(0x385)](),'remoteId':_0x3be74a})};}[_0x3fd00f(0x689)](){const _0xf415a2=_0x3fd00f;return Array['from'](this[_0xf415a2(0x80d)]['subscriptions'][_0xf415a2(0x4c9)]())[_0xf415a2(0x69d)](([_0x572e9f,{source:_0x753bd9}])=>_0x572e9f['startsWith'](_0x23a429[_0xf415a2(0x53b)])&&_0x753bd9[_0xf415a2(0x76c)]()===_0x548494[_0xf415a2(0x777)][_0xf415a2(0x271)])['length'];}[_0x3fd00f(0x403)](_0x361494,_0x4c3569){const _0x104a4a=_0x3fd00f;if(!_0x4c3569||!_0x4c3569[_0x104a4a(0x8ed)]||'boolean'==typeof _0x4c3569['video']||!_0x4c3569[_0x104a4a(0x8ed)]['maxResolution'])return!0x0;const {width:_0x11e3e0,height:_0x17a84c}=_0x4c3569[_0x104a4a(0x8ed)][_0x104a4a(0x3fb)];return _0x361494['width']>=_0x11e3e0&&_0x361494[_0x104a4a(0xb03)]>=_0x17a84c;}}class _0x2afb2f{[_0x3fd00f(0x470)];[_0x3fd00f(0x8bb)];['maxDistance'];[_0x3fd00f(0x5cb)];[_0x3fd00f(0x379)];[_0x3fd00f(0x930)];constructor(_0x3ad5ee,_0x85c746,_0xd6d8db){const _0xb1f2a=_0x3fd00f;this[_0xb1f2a(0x470)]=_0x3ad5ee,this['maxOutgoingSubscriptions']=_0x85c746,this['maxDistance']=_0xd6d8db,this[_0xb1f2a(0x470)][_0xb1f2a(0xa68)][_0xb1f2a(0x3f8)](this),this['incomingManager']=new _0x31faf4(this[_0xb1f2a(0x470)],this[_0xb1f2a(0x67e)]),this[_0xb1f2a(0x930)]=new _0x46281a(this[_0xb1f2a(0x470)],this[_0xb1f2a(0x8bb)]);}[_0x3fd00f(0xaf2)](_0x400fc7){const _0x4b15bc=_0x3fd00f;this[_0x4b15bc(0x5cb)]=_0x400fc7;}[_0x3fd00f(0x607)](){delete this['systemTopic'];}[_0x3fd00f(0x883)](){const _0x4258ae=_0x3fd00f;this['incomingManager']['close'](),this['outgoingManager'][_0x4258ae(0x883)](),this[_0x4258ae(0x470)][_0x4258ae(0xa68)]['unregisterSystemSource'](this);}[_0x3fd00f(0x719)](_0x13f5f3,_0x3db6d6){const _0x53ef71=_0x3fd00f;this[_0x53ef71(0x379)]['createSubscription'](_0x13f5f3,_0x3db6d6);}[_0x3fd00f(0xaa0)](_0x18ca82,_0x54c586){const _0x14d007=_0x3fd00f;this[_0x14d007(0x930)]['createSubscription'](_0x18ca82,_0x54c586);}[_0x3fd00f(0x59c)](_0x3bcd42,_0x432dc4,_0x2f9ae1=''){this['incomingManager']['removeSubscription'](_0x3bcd42,_0x432dc4,_0x2f9ae1);}[_0x3fd00f(0x5c6)](_0x41fc70,_0x10dd65,_0x531178=''){const _0x2e9108=_0x3fd00f;try{this[_0x2e9108(0x930)]['removeSubscription'](_0x41fc70,_0x10dd65,_0x531178);}catch(_0x5b36c7){if(_0x5b36c7 instanceof _0x5d70cf&&_0x5b36c7[_0x2e9108(0x315)]===_0x5d70cf[_0x2e9108(0x765)]['InvalidSubscription'])return;}}[_0x3fd00f(0x82a)](_0x54b3bc){const _0xf5b16a=_0x3fd00f;switch(_0x54b3bc[_0xf5b16a(0xaf0)]['type']){case _0x871c00[_0xf5b16a(0x28f)]:this[_0xf5b16a(0x3ef)](_0x54b3bc[_0xf5b16a(0x42a)],_0x54b3bc[_0xf5b16a(0xaf0)]);break;case _0x871c00[_0xf5b16a(0x27d)]:this['outgoingManager'][_0xf5b16a(0x954)](_0x54b3bc[_0xf5b16a(0x42a)],_0x54b3bc[_0xf5b16a(0xaf0)]);break;case _0x871c00[_0xf5b16a(0x505)]:this[_0xf5b16a(0x92f)](_0x54b3bc[_0xf5b16a(0x42a)],_0x54b3bc['content']);break;case _0x871c00[_0xf5b16a(0x359)]:this['incomingManager']['handleSubscriptionRestartNeedMediaStream'](_0x54b3bc[_0xf5b16a(0x42a)],_0x54b3bc[_0xf5b16a(0xaf0)]);break;case _0x871c00[_0xf5b16a(0x5e9)]:case _0x871c00[_0xf5b16a(0x39d)]:this['incomingManager'][_0xf5b16a(0x518)](_0x54b3bc[_0xf5b16a(0x42a)],_0x54b3bc[_0xf5b16a(0xaf0)]);break;case _0x871c00['MediaStreamUnavailable']:this['incomingManager'][_0xf5b16a(0x456)](_0x54b3bc[_0xf5b16a(0x42a)],_0x54b3bc[_0xf5b16a(0xaf0)]);}}[_0x3fd00f(0x7c2)](_0x22ae6e){const _0x2e955c=_0x3fd00f;switch(_0x22ae6e[_0x2e955c(0xaf0)][_0x2e955c(0x705)]){case _0x347d3c[_0x2e955c(0x641)]:this[_0x2e955c(0x379)][_0x2e955c(0x298)](_0x22ae6e[_0x2e955c(0xaf0)]),this[_0x2e955c(0x930)][_0x2e955c(0x298)](_0x22ae6e[_0x2e955c(0xaf0)]);break;case _0x347d3c[_0x2e955c(0x28f)]:this['incomingManager']['handleContentSubscribeMediaStream'](_0x22ae6e[_0x2e955c(0xaf0)]);break;case _0x347d3c['UpdateMediaStream']:this['incomingManager'][_0x2e955c(0x383)](_0x22ae6e[_0x2e955c(0xaf0)]);break;case _0x347d3c['UnsubscribeMediaStream']:this[_0x2e955c(0x3ce)](_0x22ae6e[_0x2e955c(0x42a)],_0x22ae6e['content']);break;case _0x347d3c['CloseMediaStream']:this[_0x2e955c(0x930)]['handleContentCloseMediaStream'](_0x22ae6e['content']);break;case _0x347d3c[_0x2e955c(0x89e)]:this[_0x2e955c(0x1df)](_0x22ae6e[_0x2e955c(0xaf0)][_0x2e955c(0x985)],_0x548494[_0x2e955c(0x777)][_0x2e955c(0x6be)]);break;case _0x347d3c['CloseObjectStoreBucket']:this[_0x2e955c(0x1df)](_0x22ae6e[_0x2e955c(0xaf0)][_0x2e955c(0x985)],_0x548494[_0x2e955c(0x777)][_0x2e955c(0x20f)]);break;case _0x347d3c[_0x2e955c(0x32a)]:this[_0x2e955c(0x1df)](_0x22ae6e[_0x2e955c(0xaf0)]['label'],_0x548494[_0x2e955c(0x777)][_0x2e955c(0x979)]);break;case _0x347d3c[_0x2e955c(0xa09)]:this[_0x2e955c(0x1df)](_0x22ae6e['content'][_0x2e955c(0x985)],_0x548494['ContentType'][_0x2e955c(0x1af)]);break;case _0x347d3c[_0x2e955c(0x494)]:this['handleCloseContent'](_0x22ae6e[_0x2e955c(0xaf0)][_0x2e955c(0x985)],_0x548494[_0x2e955c(0x777)][_0x2e955c(0x2f3)]);break;case _0x347d3c[_0x2e955c(0x16d)]:this[_0x2e955c(0x1df)](_0x22ae6e['content'][_0x2e955c(0x985)],_0x548494[_0x2e955c(0x777)][_0x2e955c(0x3bb)]);break;case _0x347d3c['CloseJobDispatcher']:case _0x347d3c[_0x2e955c(0xaf3)]:this['handleCloseContent'](_0x22ae6e[_0x2e955c(0xaf0)][_0x2e955c(0x985)],_0x548494['ContentType'][_0x2e955c(0x20d)]);break;case _0x347d3c[_0x2e955c(0x6f2)]:this['incomingManager'][_0x2e955c(0x38d)](_0x22ae6e['content']);}}['handleNodeSystemEvents']({content:_0x32f214}){const _0x22c79f=_0x3fd00f;_0x32f214[_0x22c79f(0x705)]===_0x328b54[_0x22c79f(0x7fb)]&&this[_0x22c79f(0x8dd)](_0x32f214);}[_0x3fd00f(0x9b0)](_0x23aff8){const _0x5ad27f=_0x3fd00f;_0x23aff8[_0x5ad27f(0xaf0)][_0x5ad27f(0x705)]===_0x11455d[_0x5ad27f(0xa66)]&&this[_0x5ad27f(0x379)][_0x5ad27f(0x83f)](_0x23aff8[_0x5ad27f(0x42a)]);}[_0x3fd00f(0x3ce)](_0x38a66c,_0xd72b9){const _0x3c2f18=_0x3fd00f;this['incomingManager'][_0x3c2f18(0x3ce)](_0xd72b9),this['outgoingManager'][_0x3c2f18(0x3ce)](_0x38a66c,_0xd72b9)['forEach'](_0x5c112d=>this[_0x3c2f18(0x5cb)][_0x3c2f18(0x70e)](_0x5c112d));}['handleSubscriptionSubscribeMediaStream'](_0x390819,_0x4c0efe){const _0x35b9c2=_0x3fd00f,_0x2dd744=this[_0x35b9c2(0x930)]['handleSubscriptionSubscribeMediaStream'](_0x390819,_0x4c0efe);if(_0x2dd744&&(this[_0x35b9c2(0x5cb)][_0x35b9c2(0x70e)]({'sourceId':this[_0x35b9c2(0x470)][_0x35b9c2(0x976)][_0x35b9c2(0xb04)](),'destinationIds':[_0x390819],'messageType':_0x519af0[_0x35b9c2(0x6f7)],'content':_0x2dd744}),_0x2dd744[_0x35b9c2(0x705)]===_0x871c00[_0x35b9c2(0x359)]))throw new _0x460c4e(_0x35b9c2(0x1cd));}[_0x3fd00f(0x92f)](_0x4bd926,_0x43da00){const _0x7bb0f8=_0x3fd00f,_0x129851=this[_0x7bb0f8(0x930)][_0x7bb0f8(0x92f)](_0x4bd926,_0x43da00);this[_0x7bb0f8(0x5cb)][_0x7bb0f8(0x70e)]({'sourceId':this[_0x7bb0f8(0x470)][_0x7bb0f8(0x976)][_0x7bb0f8(0xb04)](),'destinationIds':[_0x4bd926],'messageType':_0x519af0[_0x7bb0f8(0x6f7)],'content':_0x129851});}[_0x3fd00f(0x1df)](_0x5db1d1,_0x449f1f){const _0x23b409=_0x3fd00f;this[_0x23b409(0x59c)](_0x5db1d1,_0x449f1f),this[_0x23b409(0x5c6)](_0x5db1d1,_0x449f1f);}['removeSubscriptionsForNode']({id:_0x42d402}){const _0x3b1ff7=_0x3fd00f;this[_0x3b1ff7(0x379)][_0x3b1ff7(0x8dd)](_0x42d402),this[_0x3b1ff7(0x930)][_0x3b1ff7(0x8dd)](_0x42d402);}}class _0x253af8{[_0x3fd00f(0x985)];[_0x3fd00f(0x91a)]=_0x4767cf();constructor(){this['label']=0x0;}[_0x3fd00f(0x891)](){const _0x2edfe0=_0x3fd00f;return this[_0x2edfe0(0x985)];}[_0x3fd00f(0x76c)](){const _0x20e069=_0x3fd00f;return _0x548494[_0x20e069(0x777)][_0x20e069(0x3cd)];}[_0x3fd00f(0x952)](_0x564c98){const _0x54cc40=_0x3fd00f;_0x564c98[_0x54cc40(0xaf2)](this);}['unregisterSource'](_0x597c70){const _0x43f0c2=_0x3fd00f;_0x597c70[_0x43f0c2(0x607)]();}[_0x3fd00f(0x70e)](_0x13f0a2){const _0x54c681=_0x3fd00f;_0x404abe[_0x54c681(0x327)](_0x20ff7d['Events'],_0x54c681(0xab4),_0x13f0a2[_0x54c681(0x42a)],_0x13f0a2),this['listener'][_0x54c681(0x70e)]({'topicLabel':this[_0x54c681(0x985)],'contentType':_0x548494[_0x54c681(0x777)][_0x54c681(0x3cd)],'uuid':_0x13f0a2['uuid']??(0x0,_0x630e7c['v4'])(),'recipients':_0x13f0a2[_0x54c681(0xaf7)]??[],..._0x13f0a2});}['subscribe'](_0x2b2e37){const _0x4e9199=_0x3fd00f;return this['listener'][_0x4e9199(0x84f)](_0x2b2e37);}}class _0x534e45{[_0x3fd00f(0x314)];[_0x3fd00f(0x528)]=[];[_0x3fd00f(0x20a)];[_0x3fd00f(0x380)]=new Map();[_0x3fd00f(0x3f6)]=_0x4767cf();constructor(_0x20adb3){const _0x210a14=_0x3fd00f;this[_0x210a14(0x314)]=_0x20adb3,this['maxLayer']=(this[_0x210a14(0x314)]['maxConnections']-0x2*this['options'][_0x210a14(0x206)])/0x2,this[_0x210a14(0x528)]['push']({'start':0x1,'end':this[_0x210a14(0x3a4)](0x1,0x1)-0x1});for(let _0x515cbb=0x0;_0x515cbb<this['maxLayer'];++_0x515cbb)this['ranges'][_0x210a14(0x639)]({'start':this['getNextTargetRank'](0x1,_0x515cbb+0x1),'end':this[_0x210a14(0x3a4)](0x1,_0x515cbb+0x2)-0x1});}[_0x3fd00f(0x3a4)](_0xf42d78,_0x1f27f2=0x1){const _0x30f623=_0x3fd00f;let _0x100b3f=this['options'][_0x30f623(0x67e)]-this[_0x30f623(0x314)][_0x30f623(0x206)],_0x564c4=0x1;for(let _0x1b1e8e=0x1;_0x1b1e8e<_0x1f27f2;++_0x1b1e8e)_0x100b3f*=this[_0x30f623(0x314)]['maxDistance']-this['options'][_0x30f623(0x206)]-_0x1b1e8e,_0x564c4*=this[_0x30f623(0x314)][_0x30f623(0x67e)]-this[_0x30f623(0x314)][_0x30f623(0x206)]-_0x1b1e8e+0x1;return _0x100b3f*this[_0x30f623(0x314)][_0x30f623(0x206)]+_0xf42d78-_0x564c4;}['getCurrentMaxLayer'](_0x19ad53){const _0x5d2aab=_0x3fd00f;let _0x1d8de8=0x0;for(;this[_0x5d2aab(0x528)][_0x1d8de8][_0x5d2aab(0x7ef)]<_0x19ad53;)_0x1d8de8+=0x1;return _0x1d8de8;}['getMinConnections'](){const _0x18d86b=_0x3fd00f;return this[_0x18d86b(0x314)][_0x18d86b(0x206)];}['getMaxConnections'](){const _0x3880db=_0x3fd00f;return this[_0x3880db(0x314)][_0x3880db(0x5c2)];}[_0x3fd00f(0x955)](){const _0x293e38=_0x3fd00f;return this[_0x293e38(0x314)][_0x293e38(0x67e)];}[_0x3fd00f(0x753)](){return this['remoteNodes'];}[_0x3fd00f(0x304)](_0x480155,_0x22ba3c){const _0x3802b2=_0x3fd00f;this[_0x3802b2(0x380)][_0x3802b2(0x1f5)](_0x480155,_0x22ba3c),this[_0x3802b2(0x3f6)][_0x3802b2(0x70e)]();}[_0x3fd00f(0x266)](_0x40dccf){const _0x53535b=_0x3fd00f;this['remoteNodes']['delete'](_0x40dccf),this[_0x53535b(0x3f6)]['publish']();}[_0x3fd00f(0x552)](_0x1eeace){const _0x1346c8=_0x3fd00f;return this['remoteNodes'][_0x1346c8(0x68d)](_0x1eeace);}[_0x3fd00f(0x978)](_0x3dd603){const _0x55d9d0=_0x3fd00f;return this['remoteNodes'][_0x55d9d0(0x7ae)](_0x3dd603);}[_0x3fd00f(0x533)](_0x383ce3,_0x3b01bf){const _0x5d2047=_0x3fd00f,_0x4ad34a=this[_0x5d2047(0x978)](_0x3b01bf)?.[_0x5d2047(0xae9)]()??0x0;return _0x383ce3[_0x5d2047(0x23d)](_0x2ed0a5=>this[_0x5d2047(0x978)](_0x2ed0a5))[_0x5d2047(0x69d)](_0x2bba68=>void 0x0!==_0x2bba68)[_0x5d2047(0x822)]((_0x3e69bd,_0x21fe3a)=>Math[_0x5d2047(0x493)](_0x4ad34a-(_0x3e69bd&&_0x3e69bd[_0x5d2047(0xae9)]()||0x1/0x0))-Math[_0x5d2047(0x493)](_0x4ad34a-(_0x21fe3a&&_0x21fe3a[_0x5d2047(0xae9)]()||0x1/0x0)))['map'](_0x561250=>_0x561250[_0x5d2047(0xb04)]());}['onNodeUpdate'](_0x369ce8){const _0x5d5f95=_0x3fd00f;return this['nodeUpdate'][_0x5d5f95(0x84f)](_0x369ce8);}}class _0x35fefa{[_0x3fd00f(0x3ee)];[_0x3fd00f(0x9c0)];[_0x3fd00f(0x56c)];['authService'];[_0x3fd00f(0x314)];[_0x3fd00f(0x470)];['clusterEventEmitter'];[_0x3fd00f(0x661)];['connectionManager'];['subscriptionManager'];[_0x3fd00f(0x21f)];[_0x3fd00f(0x517)];[_0x3fd00f(0x8e6)];[_0x3fd00f(0x7a0)];[_0x3fd00f(0x2b5)];['systemTopic']=new _0x253af8();['systemTopicUnsubscribe'];['localNode'];constructor(_0x247023,_0x37910e,_0x2e2ed0,_0x41e048,_0x3c270f,_0x22cb45,_0x3d62da){const _0x12a687=_0x3fd00f;switch(this[_0x12a687(0x3ee)]=_0x247023,this[_0x12a687(0x9c0)]=_0x37910e,this[_0x12a687(0x56c)]=_0x2e2ed0,this['authService']=_0x41e048,this[_0x12a687(0x314)]=_0x3c270f,this[_0x12a687(0x470)]=_0x22cb45,this[_0x12a687(0x8ba)]=_0x3d62da,_0x2e2ed0[_0x12a687(0x705)]){case _0x548494[_0x12a687(0x30f)]['User']:this['localNode']=new _0x4a454a(_0x2e2ed0[_0x12a687(0xb04)](),_0x2e2ed0[_0x12a687(0xa7a)](),_0x2e2ed0[_0x12a687(0x73d)]());break;case _0x548494[_0x12a687(0x30f)][_0x12a687(0xa4c)]:default:this[_0x12a687(0x976)]=new _0x504f2d(_0x2e2ed0[_0x12a687(0xb04)]());}const _0x3a9e9e=this[_0x12a687(0x4d7)]();this[_0x12a687(0x2b5)]=new _0x534e45(this['options']),this[_0x12a687(0x661)]=new _0x46b8b9(_0x3a9e9e,this[_0x12a687(0x314)]),this[_0x12a687(0x60e)]=new _0x5165f4(_0x3a9e9e,this[_0x12a687(0x981)],this[_0x12a687(0x2b5)],this[_0x12a687(0x470)][_0x12a687(0x62f)],this['options']),this[_0x12a687(0x628)]=new _0x2afb2f(_0x3a9e9e,this['options'][_0x12a687(0x8bb)],this['graphService'][_0x12a687(0x955)]()),this[_0x12a687(0x21f)]=new _0x1fc72c(_0x3a9e9e),this[_0x12a687(0x517)]=new _0x34f7b0(_0x3a9e9e),this[_0x12a687(0x8e6)]=new _0xaeb8d2(_0x3a9e9e),this['nodeManager']=new _0x1fec8b(_0x3a9e9e,this[_0x12a687(0x2b5)]),this['systemTopicUnsubscribe']=this[_0x12a687(0x893)]();}[_0x3fd00f(0x57a)](){const _0x4fb506=_0x3fd00f,_0x1a21ed=this[_0x4fb506(0x4d7)]();this[_0x4fb506(0x60e)]=new _0x5165f4(_0x1a21ed,this[_0x4fb506(0x981)],this[_0x4fb506(0x2b5)],this['configs'][_0x4fb506(0x62f)],this[_0x4fb506(0x314)]),this['subscriptionManager']=new _0x2afb2f(_0x1a21ed,this[_0x4fb506(0x314)]['maxOutgoingSubscriptions'],this[_0x4fb506(0x2b5)][_0x4fb506(0x955)]()),this[_0x4fb506(0x21f)]=new _0x1fc72c(_0x1a21ed),this[_0x4fb506(0x517)]=new _0x34f7b0(_0x1a21ed),this[_0x4fb506(0x8e6)]=new _0xaeb8d2(_0x1a21ed),this[_0x4fb506(0x7a0)]=new _0x1fec8b(_0x1a21ed,this[_0x4fb506(0x2b5)]);const _0xc23fae=this[_0x4fb506(0x60e)]['getConnectionGroup']();this[_0x4fb506(0x661)][_0x4fb506(0x2d4)]()[_0x4fb506(0x3e1)](_0x558de0=>{const _0x50574d=_0x4fb506;this[_0x50574d(0x628)]['createOutgoingSubscription'](_0x558de0,_0xc23fae),this[_0x50574d(0x628)][_0x50574d(0x719)](_0xc23fae,_0x558de0),_0x558de0[_0x50574d(0x4cb)]();}),this[_0x4fb506(0x661)][_0x4fb506(0x163)]()[_0x4fb506(0x3e1)](_0x116107=>{const _0x1955e3=_0x4fb506;this['subscriptionManager']['createOutgoingSubscription'](_0x116107,_0xc23fae),this[_0x1955e3(0x628)][_0x1955e3(0x719)](_0xc23fae,_0x116107),_0x116107[_0x1955e3(0x4cb)](),_0x116107[_0x1955e3(0x239)]();}),this[_0x4fb506(0x661)][_0x4fb506(0x936)]()['forEach'](_0x125411=>{const _0x1e356c=_0x4fb506;this['subscriptionManager'][_0x1e356c(0xaa0)](_0x125411,_0xc23fae),this[_0x1e356c(0x628)][_0x1e356c(0x719)](_0xc23fae,_0x125411),_0x125411['reset'](),this[_0x1e356c(0x31f)](_0x125411);}),this['contentManager'][_0x4fb506(0x83c)]()[_0x4fb506(0x3e1)](_0x6a9bd1=>{const _0x5b842a=_0x4fb506;this['subscriptionManager'][_0x5b842a(0xaa0)](_0x6a9bd1,_0xc23fae),this[_0x5b842a(0x628)][_0x5b842a(0x719)](_0xc23fae,_0x6a9bd1),_0x6a9bd1['reset']();}),this['contentManager'][_0x4fb506(0x82b)]()[_0x4fb506(0x3e1)](_0x287d29=>{const _0x28af61=_0x4fb506;this['subscriptionManager'][_0x28af61(0xaa0)](_0x287d29,_0xc23fae),this[_0x28af61(0x628)][_0x28af61(0x719)](_0xc23fae,_0x287d29),_0x287d29[_0x28af61(0x4cb)]();}),this[_0x4fb506(0x661)][_0x4fb506(0x64f)]()[_0x4fb506(0x3e1)](_0x107751=>{const _0x10a60a=_0x4fb506;this['subscriptionManager'][_0x10a60a(0xaa0)](_0x107751,_0xc23fae),this[_0x10a60a(0x628)][_0x10a60a(0x719)](_0xc23fae,_0x107751),_0x107751[_0x10a60a(0x4cb)]();}),this[_0x4fb506(0x661)][_0x4fb506(0x6a1)]()[_0x4fb506(0x3e1)](_0x40188a=>{const _0x157666=_0x4fb506;this[_0x157666(0x628)]['createOutgoingSubscription'](_0x40188a,_0xc23fae),this[_0x157666(0x628)]['createIncomingSubscription'](_0xc23fae,_0x40188a),_0x40188a[_0x157666(0x4cb)]();}),this[_0x4fb506(0x2c7)]=this[_0x4fb506(0x893)]();}[_0x3fd00f(0x3f8)](_0x2a283d){const _0xca99be=_0x3fd00f;try{this[_0xca99be(0x5cb)]['registerSource'](_0x2a283d);}catch(_0x6dfae7){this[_0xca99be(0x333)](_0x6dfae7,{});}}[_0x3fd00f(0xabc)](_0x3a26a5){const _0xfa7c41=_0x3fd00f;try{this[_0xfa7c41(0x5cb)][_0xfa7c41(0x760)](_0x3a26a5);}catch(_0xb37b13){this[_0xfa7c41(0x333)](_0xb37b13,{});}}[_0x3fd00f(0x310)](_0x37773b,_0x14b7e6){const _0x244b14=_0x3fd00f;return this[_0x244b14(0x60e)][_0x244b14(0x310)](_0x37773b,_0x14b7e6);}[_0x3fd00f(0x1fb)](_0x5e521e){const _0x46d073=_0x3fd00f;try{return this['connectionManager'][_0x46d073(0x1fb)](_0x5e521e);}catch(_0x23c37f){throw this[_0x46d073(0x333)](_0x23c37f,{});}}[_0x3fd00f(0x4ea)](_0x47abf6){try{return this['connectionManager']['getConnections'](_0x47abf6);}catch(_0x5791ae){throw this['handleError'](_0x5791ae,{});}}[_0x3fd00f(0x8af)](_0x1961ca,_0x1e0c8b){const _0xdebf9b=_0x3fd00f;try{return this['contentManager'][_0xdebf9b(0x26b)](_0x5bda00=>_0x5bda00['getOwnerId']()===_0x1961ca&&_0x5bda00['getLabel']()===_0x1e0c8b)[0x0];}catch(_0x3d6fba){throw this[_0xdebf9b(0x333)](_0x3d6fba,{});}}[_0x3fd00f(0x7b9)](_0x40e9c9){const _0x2abc0b=_0x3fd00f;try{return this[_0x2abc0b(0x661)][_0x2abc0b(0x471)](_0x294693=>_0x294693['getLabel']()===_0x40e9c9)[0x0];}catch(_0x4427ce){throw this[_0x2abc0b(0x333)](_0x4427ce,{});}}[_0x3fd00f(0x95b)]=(..._0x3eb2f1)=>{const _0x4827cd=_0x3fd00f;try{return this[_0x4827cd(0x8ba)][_0x4827cd(0x939)](..._0x3eb2f1);}catch(_0x2cd633){throw this['handleError'](_0x2cd633,{});}};[_0x3fd00f(0x656)](_0x4879f3){const _0x1fb2f4=_0x3fd00f;try{this[_0x1fb2f4(0x21f)][_0x1fb2f4(0x214)](_0x4879f3);}catch(_0x590cf3){throw this['handleError'](_0x590cf3,{});}}[_0x3fd00f(0x82d)](_0x406d61){const _0x1b71b3=_0x3fd00f;try{this['statsManager'][_0x1b71b3(0x9e2)](_0x406d61);}catch(_0x3e68cf){throw this[_0x1b71b3(0x333)](_0x3e68cf,{});}}[_0x3fd00f(0x33e)](_0x1e44d2){const _0x1e62c3=_0x3fd00f;return this['connectionManager'][_0x1e62c3(0x33e)](_0x1e44d2);}async[_0x3fd00f(0x2d7)](){const _0x3ca957=_0x3fd00f;try{await this[_0x3ca957(0x60e)][_0x3ca957(0x2d7)]();const _0x11d949=await this[_0x3ca957(0x7a0)][_0x3ca957(0x1b7)]();for(const _0x52cdca of _0x11d949)this[_0x3ca957(0x60e)][_0x3ca957(0x310)](_0x52cdca);}catch(_0x555d92){throw this['handleError'](_0x555d92,{});}}['updateUser'](_0x29e01c){const _0xab9473=_0x3fd00f;this[_0xab9473(0x976)][_0xab9473(0x705)]===_0x548494['NodeType'][_0xab9473(0x64a)]&&(this[_0xab9473(0x976)][_0xab9473(0x1f3)](_0x29e01c[_0xab9473(0x73d)]()),this['localNode'][_0xab9473(0x995)](_0x29e01c[_0xab9473(0xa7a)]()));}[_0x3fd00f(0x883)]({force:_0x218ebf=!0x1},_0x5b1374=!0x1){const _0x3cc5b9=_0x3fd00f;if(_0x404abe['warning']('orchestrator-close',{'clusterId':this[_0x3cc5b9(0x9c0)],'nodeId':this[_0x3cc5b9(0x976)][_0x3cc5b9(0xb04)](),'nodeType':this[_0x3cc5b9(0x976)][_0x3cc5b9(0x705)]}),!_0x218ebf&&this[_0x3cc5b9(0x60e)][_0x3cc5b9(0x786)]())throw new _0x19abf5(_0x2c23d1[_0x3cc5b9(0x5ca)],_0x3cc5b9(0x687));_0x404abe[_0x3cc5b9(0x960)](),this[_0x3cc5b9(0x2c7)](),this[_0x3cc5b9(0x8e6)]['close'](),this['detectionManager'][_0x3cc5b9(0x883)](),this[_0x3cc5b9(0x21f)][_0x3cc5b9(0x883)](),this['subscriptionManager']['close'](),this[_0x3cc5b9(0x60e)][_0x3cc5b9(0x883)](),this[_0x3cc5b9(0x661)][_0x3cc5b9(0x883)](_0x5b1374),this['nodeManager'][_0x3cc5b9(0x883)]();}[_0x3fd00f(0x5b9)](_0x4710bf){const _0xcfe9f0=_0x3fd00f;try{const _0xc65e6d=this[_0xcfe9f0(0x661)][_0xcfe9f0(0x17c)](_0x4710bf),_0xfe07cb=this[_0xcfe9f0(0x60e)][_0xcfe9f0(0x3e6)]();return this[_0xcfe9f0(0x628)]['createOutgoingSubscription'](_0xc65e6d,_0xfe07cb),this[_0xcfe9f0(0x628)][_0xcfe9f0(0x719)](_0xfe07cb,_0xc65e6d),_0xc65e6d;}catch(_0x2d7dd7){throw this['handleError'](_0x2d7dd7,{});}}async[_0x3fd00f(0xa07)](_0x2119eb,_0x1ed070){const _0x534c86=_0x3fd00f;try{const _0xa396d5=this[_0x534c86(0x661)][_0x534c86(0x1d1)](_0x2119eb,this[_0x534c86(0x314)][_0x534c86(0x697)],_0x1ed070),_0x351b03=this[_0x534c86(0x60e)]['getConnectionGroup']();return this[_0x534c86(0x628)][_0x534c86(0xaa0)](_0xa396d5,_0x351b03),this[_0x534c86(0x628)]['createIncomingSubscription'](_0x351b03,_0xa396d5),await _0xa396d5[_0x534c86(0x239)](),_0xa396d5;}catch(_0x3ad2d5){throw this[_0x534c86(0x333)](_0x3ad2d5,{});}}async[_0x3fd00f(0x3f7)](_0x1014da,_0x1cca1c){const _0x174c2c=_0x3fd00f;try{if(!this[_0x174c2c(0x314)][_0x174c2c(0x237)])throw new _0x19abf5(_0x2c23d1[_0x174c2c(0x3da)],_0x174c2c(0x570));if(!(this[_0x174c2c(0x56c)]instanceof _0x401f9e))throw new _0x19abf5(_0x2c23d1[_0x174c2c(0x576)],'Node\x20is\x20not\x20an\x20agent');const _0x1829da=this['options']['externalStorageConnectors']['get'](_0x1cca1c);if(!_0x1829da)throw new _0x19abf5(_0x2c23d1[_0x174c2c(0x3da)],_0x174c2c(0x570));const _0x2fdbd6=this[_0x174c2c(0x661)][_0x174c2c(0x8f3)](_0x1014da,_0x1829da),_0x146968=this[_0x174c2c(0x60e)][_0x174c2c(0x3e6)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x2fdbd6,_0x146968),this[_0x174c2c(0x628)][_0x174c2c(0x719)](_0x146968,_0x2fdbd6),await _0x2fdbd6['open'](),_0x2fdbd6;}catch(_0x20a2c6){throw this[_0x174c2c(0x333)](_0x20a2c6,{});}}async['openKeyValueDatabase'](_0x1d7e14,_0x2ea051,_0x271e30){const _0x4b7ad4=_0x3fd00f;try{_0x271e30=_0x271e30||this[_0x4b7ad4(0x314)][_0x4b7ad4(0x653)];const _0xcc1a27=await this['contentManager'][_0x4b7ad4(0x986)](_0x1d7e14,_0x2ea051,_0x271e30),_0x5612f0=this['connectionManager'][_0x4b7ad4(0x3e6)]();return this['subscriptionManager'][_0x4b7ad4(0xaa0)](_0xcc1a27,_0x5612f0),this[_0x4b7ad4(0x628)][_0x4b7ad4(0x719)](_0x5612f0,_0xcc1a27),await _0xcc1a27[_0x4b7ad4(0x57a)](),this[_0x4b7ad4(0x31f)](_0xcc1a27),_0xcc1a27;}catch(_0x5820f7){throw this[_0x4b7ad4(0x333)](_0x5820f7,{});}}async[_0x3fd00f(0x31d)](_0x5930c0){const _0x6dd870=_0x3fd00f;try{const _0x137497=await this[_0x6dd870(0x661)][_0x6dd870(0x45a)](_0x5930c0,this[_0x6dd870(0x2b5)]),_0x3d946f=this['connectionManager'][_0x6dd870(0x3e6)]();return this[_0x6dd870(0x628)][_0x6dd870(0xaa0)](_0x137497,_0x3d946f),this[_0x6dd870(0x628)]['createIncomingSubscription'](_0x3d946f,_0x137497),_0x137497['open'](),_0x137497;}catch(_0x35b669){throw this[_0x6dd870(0x333)](_0x35b669,{});}}async[_0x3fd00f(0xa20)](_0x2c031e){throw new Error('Method\x20not\x20supported');}async['openGenerativeAIContext'](_0x1175f3){const _0x35df77=_0x3fd00f;try{const _0x1a6289=await this[_0x35df77(0x661)]['createGenerativeAIContext'](_0x1175f3,this[_0x35df77(0x2b5)]),_0x32838a=this[_0x35df77(0x60e)]['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0x1a6289,_0x32838a),this[_0x35df77(0x628)][_0x35df77(0x719)](_0x32838a,_0x1a6289),_0x1a6289[_0x35df77(0x57a)](),_0x1a6289;}catch(_0xeb3373){throw console[_0x35df77(0x805)](_0xeb3373),this[_0x35df77(0x333)](_0xeb3373,{});}}async[_0x3fd00f(0xa25)](_0x5426d3){const _0x4c3d70=_0x3fd00f;try{if(!this[_0x4c3d70(0x314)][_0x4c3d70(0x4d8)]||!this[_0x4c3d70(0x314)][_0x4c3d70(0x235)]||!this['options'][_0x4c3d70(0x82f)])throw new _0x19abf5(_0x2c23d1[_0x4c3d70(0x6e7)],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x4c3d70(0x56c)]instanceof _0x401f9e))throw new _0x19abf5(_0x2c23d1[_0x4c3d70(0x576)],_0x4c3d70(0x30a));const _0x345ce2=[];for(const [_0x2288bf,_0x198233]of this[_0x4c3d70(0x314)][_0x4c3d70(0x4d8)]){let _0x5878e6;if(_0x4c3d70(0x3d5)===_0x2288bf){if(!this[_0x4c3d70(0x470)][_0x4c3d70(0x593)])throw new _0x19abf5(_0x2c23d1[_0x4c3d70(0x17b)],'Missing\x20OpenAI\x20API\x20key');_0x5878e6=this['configs']['openaiApiKey'];}_0x345ce2[_0x4c3d70(0x639)](new _0x198233(_0x5878e6));}const _0x33c5c3=new this[(_0x4c3d70(0x314))][(_0x4c3d70(0x235))](),_0x52edc2=new this[(_0x4c3d70(0x314))]['nlpLibraryConnector']();let _0x1ccd95,_0xdf44,_0x1104ed,_0x2a362a;if(this[_0x4c3d70(0x314)][_0x4c3d70(0x9f3)]){if(!this[_0x4c3d70(0x470)][_0x4c3d70(0x80c)])throw new _0x19abf5(_0x2c23d1['ApiKeyMissing'],_0x4c3d70(0x429));_0x1ccd95=new this[(_0x4c3d70(0x314))][(_0x4c3d70(0x9f3))](this[_0x4c3d70(0x470)]['searchApiKey']);}if(this[_0x4c3d70(0x314)][_0x4c3d70(0x77b)]){if(!this[_0x4c3d70(0x470)][_0x4c3d70(0x416)])throw new _0x19abf5(_0x2c23d1[_0x4c3d70(0x17b)],_0x4c3d70(0x3d2));_0xdf44=new this['options'][(_0x4c3d70(0x77b))](this['configs'][_0x4c3d70(0x416)]);}if(this[_0x4c3d70(0x314)][_0x4c3d70(0x26a)]&&(_0x1104ed=new this['options'][(_0x4c3d70(0x26a))]()),this['options'][_0x4c3d70(0x88d)]){if(!this[_0x4c3d70(0x470)]['ragApiKey'])throw new _0x19abf5(_0x2c23d1[_0x4c3d70(0x17b)],_0x4c3d70(0x998));_0x2a362a=new this['options'][(_0x4c3d70(0x88d))](this[_0x4c3d70(0x470)][_0x4c3d70(0x168)]);}const _0x5f48f1=await this[_0x4c3d70(0x661)][_0x4c3d70(0x56e)](_0x5426d3,this[_0x4c3d70(0x56c)],_0x345ce2,_0x33c5c3,_0x52edc2,_0x1ccd95,_0xdf44,_0x1104ed,_0x2a362a,this[_0x4c3d70(0x470)][_0x4c3d70(0x593)]),_0x7ed8ef=this[_0x4c3d70(0x60e)][_0x4c3d70(0x3e6)]();this[_0x4c3d70(0x628)][_0x4c3d70(0xaa0)](_0x5f48f1,_0x7ed8ef),this[_0x4c3d70(0x628)][_0x4c3d70(0x719)](_0x7ed8ef,_0x5f48f1);const _0x48d95a=this['nodeManager']['getAncestorIds']();return await _0x5f48f1[_0x4c3d70(0x57a)](0x0===_0x48d95a[_0x4c3d70(0xa5f)]||void 0x0),_0x5f48f1;}catch(_0x5f32c3){throw this[_0x4c3d70(0x333)](_0x5f32c3,{});}}['openGraphDatabase'](_0x10694b){const _0x8b60=_0x3fd00f;try{if(!this[_0x8b60(0x314)]['graphDatabaseConnector'])throw new _0x19abf5(_0x2c23d1[_0x8b60(0x7cf)],_0x8b60(0x6ca));if(!(this['authNode']instanceof _0x401f9e))throw new _0x19abf5(_0x2c23d1[_0x8b60(0x576)],'Node\x20is\x20not\x20an\x20agent');const _0xa186c5=this[_0x8b60(0x661)][_0x8b60(0x2a7)](_0x10694b,this[_0x8b60(0x314)][_0x8b60(0x7ad)]),_0x4da260=this[_0x8b60(0x60e)][_0x8b60(0x3e6)]();return this['subscriptionManager'][_0x8b60(0xaa0)](_0xa186c5,_0x4da260),this[_0x8b60(0x628)][_0x8b60(0x719)](_0x4da260,_0xa186c5),_0xa186c5;}catch(_0x25c8de){throw this[_0x8b60(0x333)](_0x25c8de,{});}}['openVectorDatabase'](_0x53d308){const _0x2a62e7=_0x3fd00f;try{if(!this[_0x2a62e7(0x314)][_0x2a62e7(0x600)])throw new _0x19abf5(_0x2c23d1[_0x2a62e7(0x568)],_0x2a62e7(0x4ff));if(!(this[_0x2a62e7(0x56c)]instanceof _0x401f9e))throw new _0x19abf5(_0x2c23d1[_0x2a62e7(0x576)],_0x2a62e7(0x30a));const _0x1d0ccf=this[_0x2a62e7(0x661)][_0x2a62e7(0x5f3)](_0x53d308,this[_0x2a62e7(0x314)][_0x2a62e7(0x600)]),_0x4966b9=this['connectionManager'][_0x2a62e7(0x3e6)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x1d0ccf,_0x4966b9),this['subscriptionManager'][_0x2a62e7(0x719)](_0x4966b9,_0x1d0ccf),_0x1d0ccf;}catch(_0x570111){throw this[_0x2a62e7(0x333)](_0x570111,{});}}['getPubSubTopics'](_0xceaa0){const _0x35b889=_0x3fd00f;try{return this[_0x35b889(0x661)][_0x35b889(0x2d4)](_0xceaa0);}catch(_0x563efd){throw this[_0x35b889(0x333)](_0x563efd,{});}}['getObjectStoreBuckets'](_0x5b5c46){const _0x35dd64=_0x3fd00f;try{return this[_0x35dd64(0x661)][_0x35dd64(0x163)](_0x5b5c46);}catch(_0x16f9f9){throw this[_0x35dd64(0x333)](_0x16f9f9,{});}}[_0x3fd00f(0x763)](_0x3a623c){const _0x23cffc=_0x3fd00f;try{return this['contentManager'][_0x23cffc(0x763)](_0x3a623c);}catch(_0x25a650){throw this[_0x23cffc(0x333)](_0x25a650,{});}}['getKeyValueDatabases'](_0x592b9d){const _0x2d685b=_0x3fd00f;try{return this[_0x2d685b(0x661)]['getKeyValueDatabases'](_0x592b9d);}catch(_0x3dafd0){throw this['handleError'](_0x3dafd0,{});}}[_0x3fd00f(0x31b)](_0x5d913c){const _0x2272f1=_0x3fd00f;try{return this[_0x2272f1(0x661)][_0x2272f1(0x31b)](_0x5d913c);}catch(_0x38004f){throw this[_0x2272f1(0x333)](_0x38004f,{});}}[_0x3fd00f(0x8fb)](_0x4dc73d){const _0x1d82c0=_0x3fd00f;try{return this[_0x1d82c0(0x661)][_0x1d82c0(0x8fb)](_0x4dc73d);}catch(_0x298a81){throw this[_0x1d82c0(0x333)](_0x298a81,{});}}[_0x3fd00f(0x6a1)](_0x50daa4){const _0x4a3bbb=_0x3fd00f;try{return this['contentManager'][_0x4a3bbb(0x6a1)](_0x50daa4);}catch(_0x5c7c67){throw this[_0x4a3bbb(0x333)](_0x5c7c67,{});}}[_0x3fd00f(0x442)](_0xe888a1,_0x1c6a73){const _0x4bdf13=_0x3fd00f;if(!this[_0x4bdf13(0x470)][_0x4bdf13(0x966)][_0x4bdf13(0x7ac)](_0x24c331[_0x4bdf13(0x4b8)]))throw new _0x19abf5(_0x2c23d1[_0x4bdf13(0xa2d)],_0x4bdf13(0xab1));try{return this['contentManager']['createLocalMediaStream'](_0xe888a1,_0x1c6a73);}catch(_0x4bb6c4){throw this['handleError'](_0x4bb6c4,{});}}[_0x3fd00f(0x62b)](_0x9ea60,_0x519031){const _0x57c6c4=_0x3fd00f;if(!this[_0x57c6c4(0x470)]['features']['includes'](_0x24c331[_0x57c6c4(0x4b8)]))throw new _0x19abf5(_0x2c23d1[_0x57c6c4(0xa2d)],_0x57c6c4(0xab1));try{return this['contentManager'][_0x57c6c4(0x62b)](_0x9ea60,_0x519031);}catch(_0x3ec540){throw this[_0x57c6c4(0x333)](_0x3ec540,{});}}['getLocalMediaStreams'](_0x1a3a9e){const _0x4a887c=_0x3fd00f;if(!this[_0x4a887c(0x470)][_0x4a887c(0x966)][_0x4a887c(0x7ac)](_0x24c331[_0x4a887c(0x4b8)]))throw new _0x19abf5(_0x2c23d1[_0x4a887c(0xa2d)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x4a887c(0x661)][_0x4a887c(0x471)](_0x1a3a9e);}catch(_0x1b93cc){throw this[_0x4a887c(0x333)](_0x1b93cc,{});}}[_0x3fd00f(0x26b)](_0x57f687){const _0x19e0c8=_0x3fd00f;if(!this[_0x19e0c8(0x470)][_0x19e0c8(0x966)][_0x19e0c8(0x7ac)](_0x24c331['MediaStream']))throw new _0x19abf5(_0x2c23d1[_0x19e0c8(0xa2d)],_0x19e0c8(0xab1));try{return this[_0x19e0c8(0x661)][_0x19e0c8(0x26b)](_0x57f687);}catch(_0x12b3c6){throw this[_0x19e0c8(0x333)](_0x12b3c6,{});}}['getVectorDatabases'](_0x5351d9){const _0x40918d=_0x3fd00f;try{return this[_0x40918d(0x661)][_0x40918d(0x64f)](_0x5351d9);}catch(_0x177edb){throw this[_0x40918d(0x333)](_0x177edb,{});}}['getDistance'](_0x46f89e,_0xe9bee1){const _0x52a8b5=_0x3fd00f;return this[_0x52a8b5(0x7a0)][_0x52a8b5(0x5d7)](_0x46f89e,_0xe9bee1);}['getLocalNode'](){const _0x179102=_0x3fd00f;return this[_0x179102(0x7a0)][_0x179102(0x26c)]();}[_0x3fd00f(0x753)](_0x5d8c16){const _0xfab308=_0x3fd00f;try{return this[_0xfab308(0x7a0)][_0xfab308(0x753)](_0x5d8c16);}catch(_0x262fe3){throw this[_0xfab308(0x333)](_0x262fe3,{});}}[_0x3fd00f(0x21c)](){return this['connectionManager']['waitForArrayBufferSize']();}[_0x3fd00f(0x775)](_0x73f4a1){const _0x80f07=_0x3fd00f;return this[_0x80f07(0x7a0)][_0x80f07(0x775)](_0x73f4a1);}async[_0x3fd00f(0x721)](_0xf013a4){const _0xcc76e1=_0x3fd00f;try{if(_0x404abe[_0xcc76e1(0x327)](_0x20ff7d['Events'],_0xcc76e1(0x195),this[_0xcc76e1(0x7a0)][_0xcc76e1(0x51c)](),_0xf013a4),_0x2f0e28(_0xf013a4,this[_0xcc76e1(0x7a0)]['getLocalId']()))return void this['connectionManager'][_0xcc76e1(0x9a4)](_0xf013a4);switch(_0xf013a4[_0xcc76e1(0xa81)]){case _0x519af0['Content']:this['statsManager']['handleContentSystemEvents'](_0xf013a4),this['subscriptionManager'][_0xcc76e1(0x7c2)](_0xf013a4),this['contentManager'][_0xcc76e1(0x7c2)](_0xf013a4);break;case _0x519af0['Node']:this[_0xcc76e1(0x628)]['handleNodeSystemEvents'](_0xf013a4),this['connectionManager'][_0xcc76e1(0x2ac)](_0xf013a4),this[_0xcc76e1(0x661)][_0xcc76e1(0x2ac)](_0xf013a4),this[_0xcc76e1(0x7a0)][_0xcc76e1(0x2ac)](_0xf013a4);break;case _0x519af0['Detection']:this[_0xcc76e1(0x8e6)][_0xcc76e1(0x720)](_0xf013a4);break;case _0x519af0['Remediation']:this['remediationManager'][_0xcc76e1(0x1ec)](_0xf013a4);break;case _0x519af0[_0xcc76e1(0x3eb)]:this[_0xcc76e1(0x517)][_0xcc76e1(0x2e4)](_0xf013a4);break;case _0x519af0[_0xcc76e1(0x6f7)]:_0xf013a4[_0xcc76e1(0xaf0)][_0xcc76e1(0x705)]!==_0x871c00[_0xcc76e1(0x27d)]?(this[_0xcc76e1(0x628)]['handleSubscriptionSystemEvents'](_0xf013a4),this['contentManager']['handleSubscriptionSystemEvents'](_0xf013a4)):(this[_0xcc76e1(0x661)][_0xcc76e1(0x82a)](_0xf013a4),this[_0xcc76e1(0x628)][_0xcc76e1(0x82a)](_0xf013a4));break;case _0x519af0['PeerConnection']:await this[_0xcc76e1(0x60e)]['handlePeerConnectionSystemEvents'](_0xf013a4),this['statsManager']['handlePeerConnectionSystemEvents'](_0xf013a4),this['nodeManager']['handlePeerConnectionSystemEvents'](_0xf013a4),this[_0xcc76e1(0x628)][_0xcc76e1(0x9b0)](_0xf013a4);}}catch(_0x1c515a){throw _0x404abe[_0xcc76e1(0x842)](_0xcc76e1(0x721),_0x1c515a),this['handleError'](_0x1c515a,{});}}['handleError'](_0x410819,_0x3c1516){const _0x5400c0=_0x3fd00f;if(!(_0x410819 instanceof _0x460c4e)){if(_0x410819 instanceof _0x19abf5)throw _0x410819;if(!(_0x410819 instanceof Error))throw new _0x19abf5(_0x2c23d1['InternalSDKError'],'Internal\x20unknown\x20error:\x20'+_0x410819);if(!(_0x410819 instanceof _0x5d70cf))throw new _0x19abf5(_0x2c23d1[_0x5400c0(0x937)],_0x5400c0(0x779)+_0x410819['message']);switch(_0x410819[_0x5400c0(0x315)]){case _0x5d70cf[_0x5400c0(0x765)][_0x5400c0(0x657)]:case _0x5d70cf[_0x5400c0(0x765)][_0x5400c0(0x8c0)]:case _0x5d70cf[_0x5400c0(0x765)][_0x5400c0(0x1f2)]:case _0x5d70cf[_0x5400c0(0x765)]['ConnectionNotinitialized']:case _0x5d70cf[_0x5400c0(0x765)][_0x5400c0(0x3d4)]:case _0x5d70cf[_0x5400c0(0x765)][_0x5400c0(0x6f6)]:case _0x5d70cf['codes'][_0x5400c0(0x8f0)]:case _0x5d70cf[_0x5400c0(0x765)][_0x5400c0(0x553)]:case _0x5d70cf[_0x5400c0(0x765)][_0x5400c0(0x2c0)]:case _0x5d70cf[_0x5400c0(0x765)][_0x5400c0(0x4f5)]:case _0x5d70cf[_0x5400c0(0x765)][_0x5400c0(0x8df)]:case _0x5d70cf['codes'][_0x5400c0(0x28a)]:}throw _0x404abe[_0x5400c0(0x805)](_0x5400c0(0x575)+_0x410819[_0x5400c0(0x382)],{'clusterId':this['clusterId'],'nodeId':this[_0x5400c0(0x976)]['getId'](),'nodeType':this['localNode'][_0x5400c0(0x705)]},_0x410819),new _0x19abf5(_0x2c23d1['InternalSDKError'],_0x5400c0(0xa3e)+_0x410819[_0x5400c0(0x382)]);}}['getConfigs'](){const _0x59042b=_0x3fd00f;return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this[_0x59042b(0x9c0)],'localNode':this['localNode']};}['initializeSystemTopic'](){const _0x1bb26b=_0x3fd00f;return this[_0x1bb26b(0x5cb)][_0x1bb26b(0x84f)](_0x2da6af=>{const _0x3e01e7=_0x1bb26b,_0xb0f1cf=_0x160028(_0x2da6af,this[_0x3e01e7(0x976)][_0x3e01e7(0xb04)]()),_0x33857e=_0x2da6af[_0x3e01e7(0xa81)]===_0x519af0[_0x3e01e7(0x3eb)]||_0x2da6af[_0x3e01e7(0xa81)]===_0x519af0[_0x3e01e7(0x4b7)]&&_0x2da6af[_0x3e01e7(0xaf0)][_0x3e01e7(0x705)]===_0x11455d[_0x3e01e7(0x3eb)]?_0x20ff7d[_0x3e01e7(0x4a5)]:_0x20ff7d[_0x3e01e7(0x8d7)];_0x404abe[_0x3e01e7(0xa0f)](_0x33857e,_0x2da6af[_0x3e01e7(0x863)]+_0x3e01e7(0xa7b)+_0xb0f1cf,_0x2da6af),this['handleSystemEvents'](_0x2da6af)['catch'](_0x3344ce=>{const _0x229b43=_0x3e01e7;console[_0x229b43(0x805)](_0x3344ce);});});}async['syncKeyValueDatabase'](_0xe63329){const _0x5e880f=_0x3fd00f,{timingLogger:_0x27a5bf,logger:_0x36ad72,logBeforeSync:_0x156afc,logAfterSync:_0x418c57}=function(_0x2aa0b6,_0x4848ca){const _0x38037e=a0_0x38ff;if(!_0x404abe[_0x38037e(0x72a)](_0x4848ca))return _0x404abe[_0x38037e(0x842)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x4848ca),{..._0x7bd7fb(_0x2aa0b6,_0x4848ca),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x4ff573,logger:_0x479586}=_0x7bd7fb(_0x2aa0b6,_0x4848ca);let _0x381e44=0x0;return _0x381e44=Date[_0x38037e(0x441)](),{'syncStartTime':_0x381e44,'timingLogger':_0x4ff573,'logger':_0x479586,'logBeforeSync':()=>(_0x43f657(_0x4848ca,'Before\x20Synchronization'),_0x4ff573['now']()),'logAfterSync':(_0x27dd57,_0x1a9810)=>{const _0x38e431=_0x38037e,_0x30b2cc=Date[_0x38e431(0x441)]();_0x43f657(_0x4848ca,'After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20'+_0x1a9810);const _0x54242d=(_0x30b2cc-_0x381e44)/0x3e8,_0x240ee3=(_0x30b2cc-_0x27dd57)/0x3e8;_0x404abe[_0x38e431(0x327)](_0x4848ca,_0x38e431(0x3f2),_0x2aa0b6,_0x38e431(0x2cc)+_0x54242d['toFixed'](0x2)+'\x20seconds','\x0a\x20===\x20Wait\x20Time:\x20'+_0x240ee3[_0x38e431(0x316)](0x3)+_0x38e431(0x17a),_0x38e431(0x571)+((_0x30b2cc-_0x381e44)/0x3e8-_0x240ee3)['toFixed'](0x2)+'\x20seconds');}};}(_0xe63329['getLabel'](),_0x20ff7d[_0x5e880f(0x1af)]);_0x36ad72[_0x5e880f(0x327)](_0x5e880f(0x70f));const _0x3cb6b7=this[_0x5e880f(0x7a0)][_0x5e880f(0x1d8)]()[_0x5e880f(0xa5f)]>0x0;if(_0x3cb6b7){_0x36ad72[_0x5e880f(0x327)]('SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors',()=>this[_0x5e880f(0x7a0)][_0x5e880f(0x1d8)]()),_0x27a5bf['start'](),await Promise[_0x5e880f(0x51b)](this[_0x5e880f(0x7a0)][_0x5e880f(0x1d8)]()[_0x5e880f(0x23d)](async _0x4fdf7c=>await this[_0x5e880f(0x7a0)][_0x5e880f(0x775)](_0x4fdf7c)))['catch'](_0x3bb6e5=>_0x404abe[_0x5e880f(0x70d)](_0x5e880f(0x38e),{'nodeId':this[_0x5e880f(0x976)][_0x5e880f(0xb04)](),'nodeType':this[_0x5e880f(0x976)]['type']}));const _0x5a3617=_0x36ad72[_0x5e880f(0x652)](()=>this[_0x5e880f(0x7a0)]['getAncestorIds'](),[]);_0x27a5bf['logWaitTime'](_0x5e880f(0x880)+_0x5a3617+'\x20were\x20ready\x20in');}_0x418c57(_0x156afc(),await _0xe63329['sync'](_0x3cb6b7,async()=>{const _0x306a91=_0x5e880f;_0x27a5bf[_0x306a91(0xaff)](),await this[_0x306a91(0x7a0)][_0x306a91(0x99b)](),_0x27a5bf['logWaitTime'](_0x306a91(0x59a)),_0xe63329[_0x306a91(0x239)](!0x0,()=>{const _0x27998b=_0x306a91;_0x36ad72[_0x27998b(0x327)](_0x27998b(0x7c6)),_0xe63329[_0x27998b(0x239)](!0x1);},!0x0);}));}}class _0x149043{[_0x3fd00f(0x3ee)];[_0x3fd00f(0x9c0)];[_0x3fd00f(0x56c)];['eventEmitter'];[_0x3fd00f(0x434)];constructor(_0x2ef674,_0x340886,_0x3d6789,_0x1ab371,_0x4a2536,_0x3571e6,_0x5af093=new _0x7a67a5()){const _0x58f4e8=_0x3fd00f;this[_0x58f4e8(0x3ee)]=_0x2ef674,this['clusterId']=_0x340886,this[_0x58f4e8(0x56c)]=_0x3d6789,this[_0x58f4e8(0x667)]=_0x5af093,this[_0x58f4e8(0x434)]=new _0x35fefa(this[_0x58f4e8(0x3ee)],this[_0x58f4e8(0x9c0)],_0x3d6789,_0x1ab371,_0x4a2536,_0x3571e6,this);}async[_0x3fd00f(0x5b4)](){const _0x2814d2=_0x3fd00f;await this['orchestrator'][_0x2814d2(0x2d7)](),this['authNode'][_0x2814d2(0x705)]===_0x548494[_0x2814d2(0x30f)]['User']&&this[_0x2814d2(0x56c)]['registerCluster'](this['clusterId'],_0x158bee=>{const _0x39620b=_0x2814d2;this['orchestrator'][_0x39620b(0x4d2)](_0x158bee);});}[_0x3fd00f(0x6aa)](_0x5b04ca={}){const _0x597800=_0x3fd00f;this[_0x597800(0x434)][_0x597800(0x883)](_0x5b04ca),this[_0x597800(0x56c)][_0x597800(0x705)]===_0x548494['NodeType']['User']&&this[_0x597800(0x56c)][_0x597800(0x334)](this['clusterId']),this[_0x597800(0x939)](_0x597800(0x909),void 0x0);}[_0x3fd00f(0x5b9)](_0x52b0e3){const _0x11983a=_0x3fd00f,_0x41b685=this[_0x11983a(0x434)][_0x11983a(0x5b9)](_0x52b0e3);return{'getName':_0x41b685['getName'][_0x11983a(0x167)](_0x41b685),'getOwnerId':_0x41b685[_0x11983a(0x252)][_0x11983a(0x167)](_0x41b685),'getContentType':_0x41b685['getContentType']['bind'](_0x41b685),'publish':_0x41b685[_0x11983a(0x70e)][_0x11983a(0x167)](_0x41b685),'subscribe':_0x41b685[_0x11983a(0x84f)][_0x11983a(0x167)](_0x41b685),'unsubscribe':_0x41b685[_0x11983a(0x35a)]['bind'](_0x41b685),'close':_0x41b685['close'][_0x11983a(0x167)](_0x41b685)};}async[_0x3fd00f(0xa07)](_0x544129,_0x1649ab){const _0x1c243b=_0x3fd00f,_0x326354=await this[_0x1c243b(0x434)][_0x1c243b(0xa07)](_0x544129,_0x1649ab);return{'getName':_0x326354[_0x1c243b(0x52f)][_0x1c243b(0x167)](_0x326354),'getOwnerId':_0x326354[_0x1c243b(0x252)]['bind'](_0x326354),'getContentType':_0x326354[_0x1c243b(0x76c)]['bind'](_0x326354),'publish':_0x326354['publish'][_0x1c243b(0x167)](_0x326354),'unpublish':_0x326354[_0x1c243b(0x730)]['bind'](_0x326354),'get':_0x326354[_0x1c243b(0x7ae)]['bind'](_0x326354),'list':_0x326354[_0x1c243b(0x459)][_0x1c243b(0x167)](_0x326354),'getSize':_0x326354[_0x1c243b(0x4d1)][_0x1c243b(0x167)](_0x326354),'subscribe':_0x326354[_0x1c243b(0x84f)][_0x1c243b(0x167)](_0x326354),'unsubscribe':_0x326354[_0x1c243b(0x35a)][_0x1c243b(0x167)](_0x326354),'close':_0x326354['close'][_0x1c243b(0x167)](_0x326354)};}async[_0x3fd00f(0x3f7)](_0x544ca0,_0x5ef2be){const _0x53b236=_0x3fd00f,_0x327953=await this['orchestrator'][_0x53b236(0x3f7)](_0x544ca0,_0x5ef2be);return{'getName':_0x327953[_0x53b236(0x52f)]['bind'](_0x327953),'getOwnerId':_0x327953[_0x53b236(0x252)]['bind'](_0x327953),'getContentType':_0x327953['getContentType']['bind'](_0x327953),'close':_0x327953['close'][_0x53b236(0x167)](_0x327953),'get':_0x327953[_0x53b236(0x7ae)]['bind'](_0x327953),'list':_0x327953[_0x53b236(0x459)]['bind'](_0x327953),'subscribe':_0x327953[_0x53b236(0x84f)]['bind'](_0x327953),'unsubscribe':_0x327953[_0x53b236(0x35a)]['bind'](_0x327953)};}async[_0x3fd00f(0x90a)](_0x427db2,_0x1f1a08,_0x29cd0a){const _0x3eb263=_0x3fd00f,_0x489bf1=await this['orchestrator'][_0x3eb263(0x90a)](_0x427db2,_0x1f1a08,_0x29cd0a);return{'getName':_0x489bf1[_0x3eb263(0x52f)][_0x3eb263(0x167)](_0x489bf1),'getOwnerId':_0x489bf1[_0x3eb263(0x252)][_0x3eb263(0x167)](_0x489bf1),'getContentType':_0x489bf1[_0x3eb263(0x76c)][_0x3eb263(0x167)](_0x489bf1),'getTable':_0x489bf1['getTable'][_0x3eb263(0x167)](_0x489bf1),'subscribe':_0x489bf1[_0x3eb263(0x84f)][_0x3eb263(0x167)](_0x489bf1),'unsubscribe':_0x489bf1[_0x3eb263(0x35a)][_0x3eb263(0x167)](_0x489bf1),'close':_0x489bf1['close'][_0x3eb263(0x167)](_0x489bf1)};}async[_0x3fd00f(0x31d)](_0x25f98f){const _0x2a2853=_0x3fd00f,_0x455b4b=await this[_0x2a2853(0x434)][_0x2a2853(0x31d)](_0x25f98f);return{'getName':_0x455b4b['getName'][_0x2a2853(0x167)](_0x455b4b),'getOwnerId':_0x455b4b[_0x2a2853(0x252)][_0x2a2853(0x167)](_0x455b4b),'getContentType':_0x455b4b[_0x2a2853(0x76c)]['bind'](_0x455b4b),'createJob':_0x455b4b[_0x2a2853(0xa4e)]['bind'](_0x455b4b),'getJob':_0x455b4b[_0x2a2853(0x3fe)]['bind'](_0x455b4b),'getJobs':_0x455b4b[_0x2a2853(0x87f)][_0x2a2853(0x167)](_0x455b4b),'close':_0x455b4b['close'][_0x2a2853(0x167)](_0x455b4b)};}async[_0x3fd00f(0xa20)](_0x88d6d7){const _0x5f5667=_0x3fd00f,_0x3d350d=await this[_0x5f5667(0x434)][_0x5f5667(0xa20)](_0x88d6d7);return{'close':_0x3d350d['close'][_0x5f5667(0x167)](_0x3d350d)};}async[_0x3fd00f(0x362)](_0x593e93){const _0xf8c91e=_0x3fd00f,_0x1bc44a=await this[_0xf8c91e(0x434)][_0xf8c91e(0x362)](_0x593e93);return{'createAIJob':_0x1bc44a['createAIJob'][_0xf8c91e(0x167)](_0x1bc44a),'getDataBucketIds':_0x1bc44a['getDataBucketIds'][_0xf8c91e(0x167)](_0x1bc44a),'close':_0x1bc44a[_0xf8c91e(0x883)]['bind'](_0x1bc44a)};}async['openGenerativeAIWorker'](_0x2e042b){const _0x4d1c57=_0x3fd00f,_0xaa7965=await this[_0x4d1c57(0x434)]['openGenerativeAIWorker'](_0x2e042b);return{'close':_0xaa7965['close'][_0x4d1c57(0x167)](_0xaa7965)};}[_0x3fd00f(0x58d)](_0x41dbc9){const _0x29a5e6=_0x3fd00f,_0x3e6690=this['orchestrator'][_0x29a5e6(0x58d)](_0x41dbc9);return{'getName':_0x3e6690[_0x29a5e6(0x52f)][_0x29a5e6(0x167)](_0x3e6690),'getOwnerId':_0x3e6690[_0x29a5e6(0x252)][_0x29a5e6(0x167)](_0x3e6690),'getContentType':_0x3e6690['getContentType'][_0x29a5e6(0x167)](_0x3e6690),'addNode':_0x3e6690[_0x29a5e6(0x801)][_0x29a5e6(0x167)](_0x3e6690),'addEdge':_0x3e6690[_0x29a5e6(0x321)][_0x29a5e6(0x167)](_0x3e6690),'getContent':_0x3e6690[_0x29a5e6(0x935)][_0x29a5e6(0x167)](_0x3e6690),'remove':_0x3e6690[_0x29a5e6(0x9a7)][_0x29a5e6(0x167)](_0x3e6690),'saveToDisk':_0x3e6690[_0x29a5e6(0x7e0)][_0x29a5e6(0x167)](_0x3e6690),'loadFromDisk':_0x3e6690[_0x29a5e6(0x93e)][_0x29a5e6(0x167)](_0x3e6690),'close':_0x3e6690['close']['bind'](_0x3e6690)};}[_0x3fd00f(0x71a)](_0x402d5d){const _0x5dab9a=_0x3fd00f,_0x55d3d3=this['orchestrator'][_0x5dab9a(0x71a)](_0x402d5d);return{'getName':_0x55d3d3[_0x5dab9a(0x52f)][_0x5dab9a(0x167)](_0x55d3d3),'getOwnerId':_0x55d3d3[_0x5dab9a(0x252)][_0x5dab9a(0x167)](_0x55d3d3),'getContentType':_0x55d3d3[_0x5dab9a(0x76c)]['bind'](_0x55d3d3),'search':_0x55d3d3[_0x5dab9a(0x595)]['bind'](_0x55d3d3),'insert':_0x55d3d3[_0x5dab9a(0xaf8)][_0x5dab9a(0x167)](_0x55d3d3),'remove':_0x55d3d3[_0x5dab9a(0x9a7)][_0x5dab9a(0x167)](_0x55d3d3),'saveToDisk':_0x55d3d3[_0x5dab9a(0x7e0)][_0x5dab9a(0x167)](_0x55d3d3),'loadFromDisk':_0x55d3d3[_0x5dab9a(0x93e)][_0x5dab9a(0x167)](_0x55d3d3),'close':_0x55d3d3[_0x5dab9a(0x883)]['bind'](_0x55d3d3)};}[_0x3fd00f(0x2d4)](_0x2be0d1){const _0x37903b=_0x3fd00f;return this[_0x37903b(0x434)]['getPubSubTopics'](_0x2be0d1)['map'](_0x131b8b=>({'getName':_0x131b8b[_0x37903b(0x52f)][_0x37903b(0x167)](_0x131b8b),'getOwnerId':_0x131b8b['getOwnerId'][_0x37903b(0x167)](_0x131b8b),'getContentType':_0x131b8b[_0x37903b(0x76c)][_0x37903b(0x167)](_0x131b8b),'publish':_0x131b8b[_0x37903b(0x70e)][_0x37903b(0x167)](_0x131b8b),'subscribe':_0x131b8b[_0x37903b(0x84f)][_0x37903b(0x167)](_0x131b8b),'unsubscribe':_0x131b8b['unsubscribe']['bind'](_0x131b8b),'close':_0x131b8b[_0x37903b(0x883)]['bind'](_0x131b8b)}));}[_0x3fd00f(0x163)](_0x6d9298){const _0x2d642b=_0x3fd00f;return this[_0x2d642b(0x434)]['getObjectStoreBuckets'](_0x6d9298)[_0x2d642b(0x23d)](_0x45a0d2=>({'getName':_0x45a0d2[_0x2d642b(0x52f)]['bind'](_0x45a0d2),'getOwnerId':_0x45a0d2['getOwnerId'][_0x2d642b(0x167)](_0x45a0d2),'getContentType':_0x45a0d2[_0x2d642b(0x76c)][_0x2d642b(0x167)](_0x45a0d2),'publish':_0x45a0d2[_0x2d642b(0x70e)][_0x2d642b(0x167)](_0x45a0d2),'unpublish':_0x45a0d2[_0x2d642b(0x730)][_0x2d642b(0x167)](_0x45a0d2),'get':_0x45a0d2[_0x2d642b(0x7ae)][_0x2d642b(0x167)](_0x45a0d2),'list':_0x45a0d2[_0x2d642b(0x459)][_0x2d642b(0x167)](_0x45a0d2),'getSize':_0x45a0d2[_0x2d642b(0x4d1)][_0x2d642b(0x167)](_0x45a0d2),'subscribe':_0x45a0d2[_0x2d642b(0x84f)][_0x2d642b(0x167)](_0x45a0d2),'unsubscribe':_0x45a0d2[_0x2d642b(0x35a)]['bind'](_0x45a0d2),'close':_0x45a0d2[_0x2d642b(0x883)][_0x2d642b(0x167)](_0x45a0d2)}));}[_0x3fd00f(0x763)](_0x4b1d6f){const _0x4e5755=_0x3fd00f;return this[_0x4e5755(0x434)][_0x4e5755(0x763)](_0x4b1d6f)[_0x4e5755(0x23d)](_0x4c75cd=>({'getName':_0x4c75cd[_0x4e5755(0x52f)]['bind'](_0x4c75cd),'getOwnerId':_0x4c75cd[_0x4e5755(0x252)][_0x4e5755(0x167)](_0x4c75cd),'getContentType':_0x4c75cd[_0x4e5755(0x76c)]['bind'](_0x4c75cd),'close':_0x4c75cd[_0x4e5755(0x883)][_0x4e5755(0x167)](_0x4c75cd),'get':_0x4c75cd[_0x4e5755(0x7ae)][_0x4e5755(0x167)](_0x4c75cd),'list':_0x4c75cd['list'][_0x4e5755(0x167)](_0x4c75cd),'subscribe':_0x4c75cd[_0x4e5755(0x84f)]['bind'](_0x4c75cd),'unsubscribe':_0x4c75cd[_0x4e5755(0x35a)][_0x4e5755(0x167)](_0x4c75cd)}));}[_0x3fd00f(0x936)](_0xdbf7d){const _0x5dcff6=_0x3fd00f;return this[_0x5dcff6(0x434)]['getKeyValueDatabases'](_0xdbf7d)[_0x5dcff6(0x23d)](_0x4582bd=>({'getName':_0x4582bd[_0x5dcff6(0x52f)][_0x5dcff6(0x167)](_0x4582bd),'getOwnerId':_0x4582bd[_0x5dcff6(0x252)]['bind'](_0x4582bd),'getContentType':_0x4582bd[_0x5dcff6(0x76c)][_0x5dcff6(0x167)](_0x4582bd),'getTable':_0x4582bd[_0x5dcff6(0x2dd)][_0x5dcff6(0x167)](_0x4582bd),'subscribe':_0x4582bd['subscribe'][_0x5dcff6(0x167)](_0x4582bd),'unsubscribe':_0x4582bd[_0x5dcff6(0x35a)][_0x5dcff6(0x167)](_0x4582bd),'close':_0x4582bd[_0x5dcff6(0x883)][_0x5dcff6(0x167)](_0x4582bd)}));}[_0x3fd00f(0x31b)](_0x1ca0d3){const _0x28ce5a=_0x3fd00f;return this[_0x28ce5a(0x434)][_0x28ce5a(0x31b)](_0x1ca0d3)[_0x28ce5a(0x23d)](_0x212bdb=>({'createAIJob':_0x212bdb[_0x28ce5a(0x862)][_0x28ce5a(0x167)](_0x212bdb),'getDataBucketIds':_0x212bdb['getDataBucketIds'][_0x28ce5a(0x167)](_0x212bdb),'close':_0x212bdb[_0x28ce5a(0x883)]['bind'](_0x212bdb)}));}[_0x3fd00f(0x8fb)](_0x2ee218){const _0x48f49b=_0x3fd00f;return this[_0x48f49b(0x434)]['getGenerativeAIWorkers'](_0x2ee218)[_0x48f49b(0x23d)](_0x26d752=>({'close':_0x26d752['close'][_0x48f49b(0x167)](_0x26d752)}));}['publishLocalMediaStream'](_0x4760c4,_0x5a637c){const _0x390352=_0x3fd00f,_0x87aa2b=this[_0x390352(0x434)]['createLocalMediaStream'](_0x4760c4,_0x5a637c);return{'getLabel':_0x87aa2b[_0x390352(0x891)][_0x390352(0x167)](_0x87aa2b),'getOwnerId':_0x87aa2b[_0x390352(0x252)][_0x390352(0x167)](_0x87aa2b),'getContentType':_0x87aa2b[_0x390352(0x76c)][_0x390352(0x167)](_0x87aa2b),'getMediaStream':_0x87aa2b['getMediaStream'][_0x390352(0x167)](_0x87aa2b),'setPriority':_0x87aa2b[_0x390352(0xa03)]['bind'](_0x87aa2b),'unpublish':_0x87aa2b[_0x390352(0x730)][_0x390352(0x167)](_0x87aa2b)};}[_0x3fd00f(0x46d)](_0x493df5,_0x51d2ee){const _0x87bc84=_0x3fd00f,_0x4f8977=this['orchestrator']['createLocalDynamicMediaStream'](_0x493df5,_0x51d2ee);return{'getLabel':_0x4f8977['getLabel'][_0x87bc84(0x167)](_0x4f8977),'getOwnerId':_0x4f8977['getOwnerId'][_0x87bc84(0x167)](_0x4f8977),'getContentType':_0x4f8977[_0x87bc84(0x76c)][_0x87bc84(0x167)](_0x4f8977),'setPriority':_0x4f8977[_0x87bc84(0xa03)]['bind'](_0x4f8977),'unpublish':_0x4f8977[_0x87bc84(0x730)][_0x87bc84(0x167)](_0x4f8977),'getMediaStream':_0x4f8977[_0x87bc84(0x3c3)][_0x87bc84(0x167)](_0x4f8977),'addTrack':_0x4f8977['addTrack'][_0x87bc84(0x167)](_0x4f8977),'removeTrack':_0x4f8977[_0x87bc84(0x3d7)]['bind'](_0x4f8977),'replaceTrack':_0x4f8977[_0x87bc84(0x2eb)]['bind'](_0x4f8977),'setTransformations':_0x4f8977[_0x87bc84(0x44b)][_0x87bc84(0x167)](_0x4f8977)};}[_0x3fd00f(0x471)](_0x421d8b){const _0x44a0df=_0x3fd00f;return this[_0x44a0df(0x434)][_0x44a0df(0x471)](_0x421d8b)[_0x44a0df(0x23d)](_0x4aab8b=>({'getLabel':_0x4aab8b[_0x44a0df(0x891)][_0x44a0df(0x167)](_0x4aab8b),'getOwnerId':_0x4aab8b['getOwnerId'][_0x44a0df(0x167)](_0x4aab8b),'getContentType':_0x4aab8b[_0x44a0df(0x76c)]['bind'](_0x4aab8b),'getMediaStream':_0x4aab8b[_0x44a0df(0x3c3)][_0x44a0df(0x167)](_0x4aab8b),'setPriority':_0x4aab8b[_0x44a0df(0xa03)][_0x44a0df(0x167)](_0x4aab8b),'unpublish':_0x4aab8b[_0x44a0df(0x730)][_0x44a0df(0x167)](_0x4aab8b)}));}[_0x3fd00f(0x26b)](_0x4658e5){const _0x580d44=_0x3fd00f;return this[_0x580d44(0x434)]['getRemoteMediaStreams'](_0x4658e5)[_0x580d44(0x23d)](_0x755e98=>({'getLabel':_0x755e98['getLabel']['bind'](_0x755e98),'getOwnerId':_0x755e98['getOwnerId'][_0x580d44(0x167)](_0x755e98),'getContentType':_0x755e98[_0x580d44(0x76c)][_0x580d44(0x167)](_0x755e98),'getMediaStream':_0x755e98['getMediaStream'][_0x580d44(0x167)](_0x755e98),'subscribe':_0x755e98[_0x580d44(0x84f)][_0x580d44(0x167)](_0x755e98),'unsubscribe':_0x755e98[_0x580d44(0x35a)][_0x580d44(0x167)](_0x755e98),'getAvailableTrackKinds':_0x755e98['getAvailableTrackKinds'][_0x580d44(0x167)](_0x755e98),'update':_0x755e98[_0x580d44(0xa18)][_0x580d44(0x167)](_0x755e98),'onProviderChange':_0x755e98['onProviderChange']['bind'](_0x755e98)}));}[_0x3fd00f(0x6a1)](_0x26ca2d){const _0x9ea1f2=_0x3fd00f;return this[_0x9ea1f2(0x434)]['getGraphDatabases'](_0x26ca2d)['map'](_0x1ecfc5=>({'getName':_0x1ecfc5[_0x9ea1f2(0x52f)][_0x9ea1f2(0x167)](_0x1ecfc5),'getOwnerId':_0x1ecfc5[_0x9ea1f2(0x252)][_0x9ea1f2(0x167)](_0x1ecfc5),'getContentType':_0x1ecfc5[_0x9ea1f2(0x76c)][_0x9ea1f2(0x167)](_0x1ecfc5),'addNode':_0x1ecfc5[_0x9ea1f2(0x801)][_0x9ea1f2(0x167)](_0x1ecfc5),'addEdge':_0x1ecfc5[_0x9ea1f2(0x321)][_0x9ea1f2(0x167)](_0x1ecfc5),'getContent':_0x1ecfc5['getContent']['bind'](_0x1ecfc5),'remove':_0x1ecfc5['remove'][_0x9ea1f2(0x167)](_0x1ecfc5),'saveToDisk':_0x1ecfc5[_0x9ea1f2(0x7e0)][_0x9ea1f2(0x167)](_0x1ecfc5),'loadFromDisk':_0x1ecfc5[_0x9ea1f2(0x93e)][_0x9ea1f2(0x167)](_0x1ecfc5),'close':_0x1ecfc5[_0x9ea1f2(0x883)]['bind'](_0x1ecfc5)}));}[_0x3fd00f(0x64f)](_0x55b041){const _0x2f0c9c=_0x3fd00f;return this[_0x2f0c9c(0x434)]['getVectorDatabases'](_0x55b041)[_0x2f0c9c(0x23d)](_0x1b97ba=>({'getName':_0x1b97ba[_0x2f0c9c(0x52f)][_0x2f0c9c(0x167)](_0x1b97ba),'getOwnerId':_0x1b97ba[_0x2f0c9c(0x252)][_0x2f0c9c(0x167)](_0x1b97ba),'getContentType':_0x1b97ba[_0x2f0c9c(0x76c)][_0x2f0c9c(0x167)](_0x1b97ba),'search':_0x1b97ba[_0x2f0c9c(0x595)][_0x2f0c9c(0x167)](_0x1b97ba),'insert':_0x1b97ba[_0x2f0c9c(0xaf8)][_0x2f0c9c(0x167)](_0x1b97ba),'remove':_0x1b97ba[_0x2f0c9c(0x9a7)][_0x2f0c9c(0x167)](_0x1b97ba),'saveToDisk':_0x1b97ba['saveToDisk'][_0x2f0c9c(0x167)](_0x1b97ba),'loadFromDisk':_0x1b97ba[_0x2f0c9c(0x93e)]['bind'](_0x1b97ba),'close':_0x1b97ba['close']['bind'](_0x1b97ba)}));}[_0x3fd00f(0x26c)](){const _0x15c286=_0x3fd00f,_0x53d03a=this[_0x15c286(0x434)][_0x15c286(0x26c)]();switch(_0x53d03a[_0x15c286(0x705)]){case _0x548494[_0x15c286(0x30f)]['User']:return{'type':_0x548494[_0x15c286(0x30f)][_0x15c286(0x64a)],'getId':_0x53d03a[_0x15c286(0xb04)][_0x15c286(0x167)](_0x53d03a),'getDisplayName':_0x53d03a['getDisplayName'][_0x15c286(0x167)](_0x53d03a),'getEmail':_0x53d03a['getEmail'][_0x15c286(0x167)](_0x53d03a),'getRemoteConnections':_0x53d03a[_0x15c286(0x16f)][_0x15c286(0x167)](_0x53d03a),'setDisplayName':_0x53d03a[_0x15c286(0x995)][_0x15c286(0x167)](_0x53d03a),'setEmail':_0x53d03a[_0x15c286(0x1f3)][_0x15c286(0x167)](_0x53d03a)};case _0x548494['NodeType'][_0x15c286(0xa4c)]:default:return{'type':_0x548494[_0x15c286(0x30f)]['Agent'],'getId':_0x53d03a[_0x15c286(0xb04)][_0x15c286(0x167)](_0x53d03a),'getRemoteConnections':_0x53d03a[_0x15c286(0x16f)][_0x15c286(0x167)](_0x53d03a)};}}[_0x3fd00f(0x753)](_0x19d7f7){const _0x54918c=_0x3fd00f;return this[_0x54918c(0x434)][_0x54918c(0x753)](_0x19d7f7)[_0x54918c(0x23d)](_0x4377e8=>{const _0x4b42fa=_0x54918c;switch(_0x4377e8[_0x4b42fa(0x705)]){case _0x548494['NodeType']['User']:return{'type':_0x548494['NodeType'][_0x4b42fa(0x64a)],'getId':_0x4377e8[_0x4b42fa(0xb04)]['bind'](_0x4377e8),'getDisplayName':_0x4377e8['getDisplayName'][_0x4b42fa(0x167)](_0x4377e8),'getEmail':_0x4377e8[_0x4b42fa(0x73d)][_0x4b42fa(0x167)](_0x4377e8),'getRemoteConnections':_0x4377e8['getRemoteConnections'][_0x4b42fa(0x167)](_0x4377e8)};case _0x548494[_0x4b42fa(0x30f)][_0x4b42fa(0xa4c)]:return{'type':_0x548494[_0x4b42fa(0x30f)][_0x4b42fa(0xa4c)],'getId':_0x4377e8[_0x4b42fa(0xb04)]['bind'](_0x4377e8),'getRemoteConnections':_0x4377e8[_0x4b42fa(0x16f)][_0x4b42fa(0x167)](_0x4377e8)};default:throw new _0x19abf5(_0x2c23d1[_0x4b42fa(0x576)],_0x4b42fa(0x51a));}});}['on']=(..._0x2be294)=>{const _0x5c212c=_0x3fd00f;this[_0x5c212c(0x667)]['on'](..._0x2be294);};[_0x3fd00f(0x939)]=(..._0x409b42)=>this[_0x3fd00f(0x667)][_0x3fd00f(0x939)](..._0x409b42);[_0x3fd00f(0x6ad)](..._0xfdfe50){const _0x5bc6bf=_0x3fd00f;this[_0x5bc6bf(0x667)][_0x5bc6bf(0x6ad)](..._0xfdfe50);}}class _0x434086{['id'];[_0x3fd00f(0x78f)];['email'];[_0x3fd00f(0x705)]=_0x548494[_0x3fd00f(0x30f)]['User'];[_0x3fd00f(0x4e1)]=new Map();[_0x3fd00f(0x57c)]=_0x4767cf();constructor(_0x1d5566,_0x4e0f8d,_0x511b9c){const _0x3a5abd=_0x3fd00f;this['id']=_0x1d5566,this[_0x3a5abd(0x78f)]=_0x4e0f8d,this[_0x3a5abd(0x75d)]=_0x511b9c;}['getId'](){return this['id'];}[_0x3fd00f(0xa7a)](){const _0x5579f9=_0x3fd00f;return this[_0x5579f9(0x78f)];}[_0x3fd00f(0x73d)](){const _0x269418=_0x3fd00f;return this[_0x269418(0x75d)];}[_0x3fd00f(0x995)](_0x29b84e){const _0x12eb64=_0x3fd00f;this[_0x12eb64(0x78f)]!==_0x29b84e&&(this[_0x12eb64(0x78f)]=_0x29b84e,this['observer'][_0x12eb64(0x70e)](this));}[_0x3fd00f(0x1f3)](_0x4811a7){const _0x219f1e=_0x3fd00f;this[_0x219f1e(0x75d)]!==_0x4811a7&&(this[_0x219f1e(0x75d)]=_0x4811a7,this['observer'][_0x219f1e(0x70e)](this));}[_0x3fd00f(0x73b)](_0x15f687,_0x4ff267){const _0x435f57=_0x3fd00f;if(this[_0x435f57(0x4e1)][_0x435f57(0x68d)](_0x15f687))return;const _0x4c3cbb=this[_0x435f57(0x57c)][_0x435f57(0x84f)](_0x4ff267);this[_0x435f57(0x4e1)][_0x435f57(0x1f5)](_0x15f687,_0x4c3cbb);}[_0x3fd00f(0x334)](_0x2b83fe){const _0x41b642=_0x3fd00f;if(!this['joinedClusters'][_0x41b642(0x68d)](_0x2b83fe))return;const _0xc380c3=this[_0x41b642(0x4e1)][_0x41b642(0x7ae)](_0x2b83fe);_0xc380c3&&_0xc380c3(),this[_0x41b642(0x4e1)][_0x41b642(0x92b)](_0x2b83fe);}}class _0x5c25b7{[_0x3fd00f(0x3ee)];[_0x3fd00f(0x814)];constructor(_0x5e9a37){const _0x24976c=_0x3fd00f;this[_0x24976c(0x3ee)]=_0x5e9a37;}async[_0x3fd00f(0xa13)](_0x1bb667){const _0x56af61=_0x3fd00f,_0x30fde4=await(0x0,_0x4858bf[_0x56af61(0x4e0)])(_0x616df3[_0x56af61(0x617)](),'sdkCreateToken')({'uid':_0x56af61(0xaea)+this[_0x56af61(0x3ee)]+_0x56af61(0xaea)+_0x1bb667['id']}),_0x22028c=await(0x0,_0x17240f['signInWithCustomToken'])(_0x616df3[_0x56af61(0x409)](),_0x30fde4[_0x56af61(0xa83)][_0x56af61(0x9b4)]);this[_0x56af61(0x814)]=_0x22028c[_0x56af61(0x814)];}async[_0x3fd00f(0x4e6)](){const _0x355cab=_0x3fd00f;await(0x0,_0x17240f[_0x355cab(0x4e6)])(_0x616df3[_0x355cab(0x409)]());}[_0x3fd00f(0x5d4)](){const _0x2f63fa=_0x3fd00f;return this[_0x2f63fa(0x814)]?.[_0x2f63fa(0x5d4)]()??Promise[_0x2f63fa(0x5fb)](_0x2f63fa(0x8c9));}}class _0x2b7d60{static [_0x3fd00f(0x9a3)];[_0x3fd00f(0x96a)]=[];constructor(){}static[_0x3fd00f(0x251)](){const _0x5b768c=_0x3fd00f;return _0x2b7d60[_0x5b768c(0x9a3)]||(_0x2b7d60[_0x5b768c(0x9a3)]=new _0x2b7d60()),_0x2b7d60[_0x5b768c(0x9a3)];}[_0x3fd00f(0x2d7)](){const _0x3ef6a7=_0x3fd00f;this[_0x3ef6a7(0x28c)](),this[_0x3ef6a7(0x3cc)](),this[_0x3ef6a7(0x806)](),this['checkAudioVolume'](),this['checkDeviceConfig'](),this['checkAudioOutput'](),this[_0x3ef6a7(0x1b2)](),this[_0x3ef6a7(0x6bd)](),this[_0x3ef6a7(0x6a6)](),this[_0x3ef6a7(0x2b7)](),_0x404abe[_0x3ef6a7(0x327)](_0x20ff7d[_0x3ef6a7(0x349)],'Support:\x20current\x20config',{'featureSupport':this['featureSupport']});}[_0x3fd00f(0x83d)](_0x497090){const _0x45e871=_0x3fd00f,_0x354843=this[_0x45e871(0x96a)][_0x45e871(0x78b)](_0x169734=>_0x169734[_0x45e871(0xa87)]===_0x497090);return!!_0x354843&&_0x354843[_0x45e871(0x41b)];}[_0x3fd00f(0x70b)](_0x2d96d0){const _0x1010ff=_0x3fd00f;_0x404abe[_0x1010ff(0xaee)](_0x1010ff(0x17d),{'nodeId':_0x2d96d0['getId'](),'nodeType':_0x2d96d0[_0x1010ff(0x705)],'data':{'featureSupport':this['featureSupport']}});}['checkWebRTC'](){const _0x459eb9=_0x3fd00f,_0x2e515c=_0x5d146e[_0x459eb9(0x198)];let _0x4717ca=!0x1;_0x459eb9(0x918)==typeof RTCPeerConnection&&_0x459eb9(0x918)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x4717ca=!0x0:_0x404abe[_0x459eb9(0x327)](_0x20ff7d[_0x459eb9(0x349)],_0x459eb9(0x691)+_0x2e515c+'\x20not\x20supported'),this['featureSupport']['push']({'name':_0x2e515c,'supported':_0x4717ca});}['checkMediaStream'](){const _0x559d6c=_0x3fd00f,_0x359118=_0x5d146e['MediaStream'];let _0x4cee99=!0x1;_0x559d6c(0x918)==typeof MediaStream&&_0x559d6c(0x918)==typeof MediaStreamTrack&&_0x559d6c(0x9a9)==typeof navigator&&_0x559d6c(0x9a9)==typeof navigator['mediaDevices']&&_0x559d6c(0x918)==typeof navigator['mediaDevices'][_0x559d6c(0x699)]?_0x4cee99=!0x0:_0x404abe[_0x559d6c(0x327)](_0x20ff7d[_0x559d6c(0x349)],_0x559d6c(0x691)+_0x359118+_0x559d6c(0x633)),this[_0x559d6c(0x96a)]['push']({'name':_0x359118,'supported':_0x4cee99});}[_0x3fd00f(0x806)](){const _0x13d733=_0x3fd00f,_0x279820=_0x5d146e[_0x13d733(0x9d9)];let _0x3296c4=!0x1;_0x13d733(0x9a9)==typeof navigator&&_0x13d733(0x9a9)==typeof navigator[_0x13d733(0x96b)]&&_0x13d733(0x918)==typeof navigator['mediaDevices']['getDisplayMedia']?_0x3296c4=!0x0:_0x404abe['log'](_0x20ff7d[_0x13d733(0x349)],_0x13d733(0x691)+_0x279820+_0x13d733(0x633)),this[_0x13d733(0x96a)]['push']({'name':_0x279820,'supported':_0x3296c4});}[_0x3fd00f(0x8c4)](){const _0x4ec969=_0x3fd00f,_0x1decca=_0x5d146e['AudioVolume'];let _0x410211=!0x1;_0x4ec969(0x918)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0x4ec969(0x918)!=typeof AudioWorkletNode||_0x4ec969(0x918)!=typeof MediaStreamAudioSourceNode?_0x404abe['log'](_0x20ff7d[_0x4ec969(0x349)],_0x4ec969(0x691)+_0x1decca+_0x4ec969(0x633)):_0x410211=!0x0,this[_0x4ec969(0x96a)][_0x4ec969(0x639)]({'name':_0x1decca,'supported':_0x410211});}[_0x3fd00f(0x989)](){const _0x39d522=_0x3fd00f,_0x1fe500=_0x5d146e[_0x39d522(0x216)];let _0x20fb3c=!0x1;'object'==typeof navigator&&_0x39d522(0x9a9)==typeof navigator[_0x39d522(0x96b)]&&_0x39d522(0x918)==typeof navigator[_0x39d522(0x96b)][_0x39d522(0x94b)]&&_0x39d522(0x918)==typeof MediaDeviceInfo?_0x20fb3c=!0x0:_0x404abe[_0x39d522(0x327)](_0x20ff7d[_0x39d522(0x349)],_0x39d522(0x691)+_0x1fe500+_0x39d522(0x633)),this[_0x39d522(0x96a)][_0x39d522(0x639)]({'name':_0x1fe500,'supported':_0x20fb3c});}[_0x3fd00f(0x6ec)](){const _0x1e2495=_0x3fd00f,_0x2de989=_0x5d146e[_0x1e2495(0x9f5)];let _0x57ffde=!0x1;'object'==typeof document&&_0x1e2495(0x918)==typeof document[_0x1e2495(0x274)](_0x1e2495(0x8ed))[_0x1e2495(0x338)]?_0x57ffde=!0x0:_0x404abe[_0x1e2495(0x327)](_0x20ff7d[_0x1e2495(0x349)],'Support:\x20'+_0x2de989+_0x1e2495(0x633)),this[_0x1e2495(0x96a)][_0x1e2495(0x639)]({'name':_0x2de989,'supported':_0x57ffde});}async[_0x3fd00f(0x1b2)](){const _0x39516f=_0x3fd00f,_0xf83d2c=_0x5d146e[_0x39516f(0xadb)];let _0x1d1def=!0x1;try{const _0xc94f5e=document[_0x39516f(0x274)]('canvas');if(MediaRecorder&&MediaSource&&_0xc94f5e[_0x39516f(0x503)]){const _0x2fca03=_0xc94f5e['captureStream'](),_0x3032e0=new MediaRecorder(_0x2fca03);_0x3032e0[_0x39516f(0xaff)](),await new Promise(_0x58bd3c=>setTimeout(_0x58bd3c,0x7d0)),_0x3032e0[_0x39516f(0xa78)](),_0x1d1def='inactive'===_0x3032e0['state'];}}catch(_0x23e61f){_0x404abe[_0x39516f(0x327)](_0x20ff7d[_0x39516f(0x349)],_0x39516f(0x691)+_0xf83d2c+'\x20check\x20failed',_0x23e61f);}this[_0x39516f(0x96a)][_0x39516f(0x639)]({'name':_0xf83d2c,'supported':_0x1d1def}),_0x1d1def||_0x404abe[_0x39516f(0x327)](_0x20ff7d[_0x39516f(0x349)],_0x39516f(0x691)+_0xf83d2c+'\x20not\x20supported');}[_0x3fd00f(0x6bd)](){const _0x22ab9d=_0x3fd00f,_0x589f1e=_0x5d146e[_0x22ab9d(0xa51)];let _0x266958=!0x1;try{document[_0x22ab9d(0x274)](_0x22ab9d(0x2bf))['captureStream']&&(_0x266958=!0x0);}catch(_0x320589){_0x404abe[_0x22ab9d(0x327)](_0x20ff7d[_0x22ab9d(0x349)],_0x22ab9d(0x691)+_0x589f1e+_0x22ab9d(0x65b),_0x320589);}this[_0x22ab9d(0x96a)]['push']({'name':_0x589f1e,'supported':_0x266958}),_0x266958||_0x404abe[_0x22ab9d(0x327)](_0x20ff7d[_0x22ab9d(0x349)],_0x22ab9d(0x691)+_0x589f1e+_0x22ab9d(0x633));}[_0x3fd00f(0x6a6)](){const _0x4945e6=_0x3fd00f,_0x40b49c=_0x5d146e[_0x4945e6(0x2e8)];let _0xe4f9fc=!0x1;try{const _0x4a81ef=document[_0x4945e6(0x274)]('canvas');WebGLRenderingContext&&_0x4a81ef[_0x4945e6(0x3fa)](_0x4945e6(0x634))&&(_0xe4f9fc=!0x0);}catch(_0x506d4b){_0x404abe[_0x4945e6(0x327)](_0x20ff7d['Support'],'Support:\x20'+_0x40b49c+'\x20check\x20failed',_0x506d4b);}this[_0x4945e6(0x96a)]['push']({'name':_0x40b49c,'supported':_0xe4f9fc}),_0xe4f9fc||_0x404abe[_0x4945e6(0x327)](_0x20ff7d['Support'],_0x4945e6(0x691)+_0x40b49c+_0x4945e6(0x633));}[_0x3fd00f(0x2b7)](){const _0x333e59=_0x3fd00f,_0x3ce283=_0x5d146e[_0x333e59(0x2f7)];let _0x531f29=!0x1;'function'==typeof AudioContext?_0x531f29=!0x0:_0x404abe[_0x333e59(0x327)](_0x20ff7d['Support'],_0x333e59(0x691)+_0x3ce283+_0x333e59(0x633)),this[_0x333e59(0x96a)][_0x333e59(0x639)]({'name':_0x3ce283,'supported':_0x531f29});}}const _0x5d89d2=_0x2b7d60[_0x3fd00f(0x251)]();class _0x4a210a{static ['instance'];static ['unsubscribe'];static [_0x3fd00f(0x6e6)];[_0x3fd00f(0x981)];[_0x3fd00f(0x3ee)];[_0x3fd00f(0x314)];[_0x3fd00f(0x470)];['clusters']=new Map();[_0x3fd00f(0x90b)];constructor(_0x436ad4,_0x384cc0,_0x2996dd){const _0x4f58f2=_0x3fd00f;this[_0x4f58f2(0x3ee)]=_0x436ad4,this[_0x4f58f2(0x470)]=_0x384cc0,this['authService']=new _0x5c25b7(this['vendorId']),_0x5d89d2['initialize'](),this[_0x4f58f2(0x314)]={'audioContext':_0x2996dd?.[_0x4f58f2(0x5d6)]??(_0x5d89d2['isFeatureSupported'](_0x5d146e[_0x4f58f2(0x2f7)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x2996dd?.[_0x4f58f2(0x8bb)]??0x1,'minConnections':_0x2996dd?.['minConnections']??0x3,'maxConnections':_0x2996dd?.[_0x4f58f2(0x5c2)]??(_0x2996dd?.[_0x4f58f2(0x206)]&&0x4*_0x2996dd[_0x4f58f2(0x206)])??0xc,'maxDistance':_0x2996dd?.[_0x4f58f2(0x67e)]??0xa,'maxFps':_0x2996dd?.['maxFps']??0x18,'maxBpp':_0x2996dd?.['maxBpp']??0.12,'objectStoreConnector':_0x2996dd?.[_0x4f58f2(0x697)]??_0x521299[_0x4f58f2(0x781)],'externalStorageConnectors':_0x2996dd?.['externalStorageConnectors'],'keyValueDatabaseConnector':_0x2996dd?.[_0x4f58f2(0x653)]??_0x1e6473[_0x4f58f2(0x79a)],'peerConnectionConnector':_0x2996dd?.[_0x4f58f2(0x480)]??_0x1f53f4[_0x4f58f2(0x7b5)],'generativeAIWorkerConnectors':_0x2996dd?.['generativeAIWorkerConnectors'],'vectorDatabaseConnector':_0x2996dd?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x2996dd?.[_0x4f58f2(0x7ad)],'documentParserConnector':_0x2996dd?.['documentParserConnector'],'nlpLibraryConnector':_0x2996dd?.[_0x4f58f2(0x82f)],'searchConnector':_0x2996dd?.[_0x4f58f2(0x9f3)],'aiSearchConnector':_0x2996dd?.['aiSearchConnector'],'queryFileConnector':_0x2996dd?.[_0x4f58f2(0x26a)],'ragConnector':_0x2996dd?.['ragConnector']},_0x2996dd?.[_0x4f58f2(0x317)]&&this[_0x4f58f2(0x314)][_0x4f58f2(0x5d6)]&&_0xa2c3bc[_0x4f58f2(0x809)](this[_0x4f58f2(0x314)][_0x4f58f2(0x5d6)]),_0x404abe[_0x4f58f2(0x9c4)](this[_0x4f58f2(0x3ee)]),_0x2996dd?.[_0x4f58f2(0x1f6)]&&_0x404abe[_0x4f58f2(0x4c0)](_0x2996dd[_0x4f58f2(0x1f6)]);}static async[_0x3fd00f(0x251)](_0x41d13e,_0x278509,_0x31eef1,_0x256646,_0x79128f){const _0x3fcffc=_0x3fd00f;this[_0x3fcffc(0x6e6)]=_0x31eef1;const _0x584749=await this[_0x3fcffc(0xa93)](_0x41d13e,_0x278509,_0x79128f);return _0x4a210a[_0x3fcffc(0x9a3)]||(_0x4a210a['instance']=new _0x4a210a(_0x41d13e,_0x584749,_0x256646)),{'close':_0x4a210a[_0x3fcffc(0x9a3)][_0x3fcffc(0x883)][_0x3fcffc(0x167)](_0x4a210a[_0x3fcffc(0x9a3)]),'authenticateUser':_0x4a210a['instance'][_0x3fcffc(0x903)]['bind'](_0x4a210a['instance']),'authenticateAgent':_0x4a210a[_0x3fcffc(0x9a3)]['authenticateAgent']['bind'](_0x4a210a[_0x3fcffc(0x9a3)]),'validateKey':_0x4a210a[_0x3fcffc(0x9a3)][_0x3fcffc(0x812)][_0x3fcffc(0x167)](_0x4a210a['instance']),'joinCluster':_0x4a210a[_0x3fcffc(0x9a3)][_0x3fcffc(0x3f0)][_0x3fcffc(0x167)](_0x4a210a[_0x3fcffc(0x9a3)])};}static async['timestamp'](){const _0x1cf5fa=_0x3fd00f;return _0x616df3[_0x1cf5fa(0x551)]();}static['isProduction'](){const _0x3f703a=_0x3fd00f;return _0x2c3579[_0x3f703a(0x8c5)];}async[_0x3fd00f(0x883)](_0x134aa2){const _0x321173=_0x3fd00f;this[_0x321173(0x823)][_0x321173(0x3e1)](_0x550509=>{const _0x2c9b62=_0x321173;_0x550509[_0x2c9b62(0x6ad)](),_0x550509[_0x2c9b62(0x6aa)](_0x134aa2);}),this[_0x321173(0x823)][_0x321173(0x7e7)](),this[_0x321173(0x314)][_0x321173(0x5d6)]&&_0xa2c3bc[_0x321173(0x65d)](),_0x4a210a['unsubscribe']?.(),_0x4a210a[_0x321173(0x35a)]=void 0x0,this[_0x321173(0x90b)]=void 0x0,await this[_0x321173(0x981)][_0x321173(0x4e6)](),_0x4a210a[_0x321173(0x9a3)]=void 0x0;}static async[_0x3fd00f(0xa93)](_0x41bed7,_0x148574,_0x290e0c){const _0x3897fa=_0x3fd00f;if(!this['mode'])throw new _0x19abf5(_0x2c23d1[_0x3897fa(0x2ff)],'Node\x20type\x20is\x20required');let _0x1145d5;try{_0x1145d5=await(0x0,_0x4858bf[_0x3897fa(0x4e0)])(_0x616df3[_0x3897fa(0x617)](),_0x3897fa(0x1bf))({'vendorId':_0x41bed7,'accessToken':_0x148574,'secretKey':_0x290e0c});}catch(_0x149e3f){throw new _0x19abf5(_0x2c23d1['InvalidAccess'],_0x3897fa(0x318));}if(!this['isInternalSDKConfigs'](_0x1145d5[_0x3897fa(0xa83)]))throw new _0x19abf5(_0x2c23d1['InvalidAccess'],_0x3897fa(0x318));const _0x441faa=_0x1145d5['data'];return _0x441faa['features']||(_0x441faa[_0x3897fa(0x966)]=[]),this[_0x3897fa(0x35a)]||(this[_0x3897fa(0x35a)]=_0xa2c3bc[_0x3897fa(0x2a8)](async()=>{const _0x23436b=_0x3897fa;try{const _0x209bf9=await this[_0x23436b(0xa93)](_0x41bed7,_0x148574,_0x290e0c);this[_0x23436b(0x6e6)]===_0x548494[_0x23436b(0x30f)][_0x23436b(0xa4c)]&&(_0x209bf9[_0x23436b(0x62f)]=_0x209bf9[_0x23436b(0x62f)][_0x23436b(0x69d)](_0x5ac3e2=>_0x5ac3e2[_0x23436b(0x42e)]['startsWith'](_0x23436b(0x42d)))),_0x441faa[_0x23436b(0x62f)]=_0x209bf9[_0x23436b(0x62f)];}catch(_0x485ead){}},0x1b7740)),_0x441faa;}async[_0x3fd00f(0x903)](_0x5376c1){const _0x2a641c=_0x3fd00f;if(_0x4a210a[_0x2a641c(0x6e6)]!==_0x548494['NodeType']['User'])throw new _0x19abf5(_0x2c23d1[_0x2a641c(0x576)],_0x2a641c(0x622));await this['authService']['signInWithCredential'](_0x5376c1);const _0x3beeea=new _0x434086(_0x5376c1['id'],_0x5376c1['displayName'],_0x5376c1[_0x2a641c(0x75d)]);return this[_0x2a641c(0x90b)]={'node':_0x3beeea},_0x5d89d2[_0x2a641c(0x70b)](_0x3beeea),{'type':_0x548494['NodeType']['User'],'getId':_0x3beeea[_0x2a641c(0xb04)][_0x2a641c(0x167)](_0x3beeea),'getDisplayName':_0x3beeea[_0x2a641c(0xa7a)][_0x2a641c(0x167)](_0x3beeea),'getEmail':_0x3beeea[_0x2a641c(0x73d)]['bind'](_0x3beeea),'setDisplayName':_0x3beeea[_0x2a641c(0x995)][_0x2a641c(0x167)](_0x3beeea),'setEmail':_0x3beeea[_0x2a641c(0x1f3)][_0x2a641c(0x167)](_0x3beeea)};}async['authenticateAgent'](_0x59c33a){const _0x5deb06=_0x3fd00f;if(_0x4a210a[_0x5deb06(0x6e6)]!==_0x548494['NodeType'][_0x5deb06(0xa4c)])throw new _0x19abf5(_0x2c23d1[_0x5deb06(0x576)],_0x5deb06(0x622));const {id:_0x2f8137,groupId:_0x451d1d}=_0x59c33a,_0x5c8d41=await(0x0,_0x225f39[_0x5deb06(0x78d)])((0x0,_0x225f39[_0x5deb06(0x199)])(_0x616df3['getFirestore'](),_0x5deb06(0x7a8)+this[_0x5deb06(0x3ee)]+_0x5deb06(0xa17)+_0x451d1d));if(!_0x5c8d41[_0x5deb06(0x243)]())throw new _0x19abf5(_0x2c23d1[_0x5deb06(0x7aa)],_0x5deb06(0x2ca));const _0x51db1d=_0x5c8d41['data']();await this['authService'][_0x5deb06(0xa13)]({'id':_0x2f8137});const _0x1654cd=new _0x401f9e(_0x2f8137,_0x451d1d,this[_0x5deb06(0x3ee)],_0x51db1d);return this[_0x5deb06(0x90b)]={'node':_0x1654cd},_0x5d89d2['logSupport'](_0x1654cd),this[_0x5deb06(0x34a)](_0x1654cd),{'type':_0x548494[_0x5deb06(0x30f)][_0x5deb06(0xa4c)],'getId':_0x1654cd['getId'][_0x5deb06(0x167)](_0x1654cd),'onConfigurationChange':_0x1654cd[_0x5deb06(0x619)][_0x5deb06(0x167)](_0x1654cd),'setReportCapacity':_0x1654cd['setReportCapacity'][_0x5deb06(0x167)](_0x1654cd)};}async[_0x3fd00f(0x812)](_0x5b97b7){const _0x4fe608=_0x3fd00f,_0x11d8ca=await(0x0,_0x225f39['getDoc'])((0x0,_0x225f39['doc'])(_0x616df3['getFirestore'](),_0x4fe608(0x7c8)+_0x5b97b7));if(!_0x11d8ca[_0x4fe608(0x243)]())throw new _0x19abf5(_0x2c23d1[_0x4fe608(0x94f)],_0x4fe608(0x4f8));return _0x11d8ca[_0x4fe608(0xa83)]()['vendorId'];}async[_0x3fd00f(0x3f0)](_0x32b454){const _0x2d13ef=_0x3fd00f;if(!this[_0x2d13ef(0x90b)])throw new _0x19abf5(_0x2c23d1['NodeNotAuthenticated'],_0x2d13ef(0x66b));if(this[_0x2d13ef(0x90b)][_0x2d13ef(0x98b)][_0x2d13ef(0x705)]!==_0x548494['NodeType'][_0x2d13ef(0x64a)])throw new _0x19abf5(_0x2c23d1['NodeTypeNotSupported'],_0x2d13ef(0x48e));if(this[_0x2d13ef(0x823)][_0x2d13ef(0x68d)](_0x32b454))throw new _0x19abf5(_0x2c23d1[_0x2d13ef(0x855)],'Cluster\x20already\x20joined');const _0x5f426b=new _0x149043(this[_0x2d13ef(0x3ee)],_0x32b454,this['authContext'][_0x2d13ef(0x98b)],this[_0x2d13ef(0x981)],this['options'],this['configs']);return await _0x5f426b[_0x2d13ef(0x5b4)](),this[_0x2d13ef(0x6d7)](_0x32b454,_0x5f426b),_0x404abe[_0x2d13ef(0xaee)](_0x2d13ef(0x465),{'clusterId':_0x32b454,'nodeId':this['authContext'][_0x2d13ef(0x98b)][_0x2d13ef(0xb04)](),'nodeType':this[_0x2d13ef(0x90b)]['node'][_0x2d13ef(0x705)]}),{'leave':_0x5f426b[_0x2d13ef(0x6aa)][_0x2d13ef(0x167)](_0x5f426b),'getLocalNode':_0x5f426b[_0x2d13ef(0x26c)][_0x2d13ef(0x167)](_0x5f426b),'openPubSubTopic':_0x5f426b[_0x2d13ef(0x5b9)][_0x2d13ef(0x167)](_0x5f426b),'openObjectStoreBucket':_0x5f426b[_0x2d13ef(0xa07)][_0x2d13ef(0x167)](_0x5f426b),'openExternalStorageConnection':_0x5f426b[_0x2d13ef(0x3f7)]['bind'](_0x5f426b),'openKeyValueDatabase':_0x5f426b[_0x2d13ef(0x90a)][_0x2d13ef(0x167)](_0x5f426b),'openGenerativeAIContext':_0x5f426b[_0x2d13ef(0x362)][_0x2d13ef(0x167)](_0x5f426b),'openGenerativeAIWorker':_0x5f426b[_0x2d13ef(0xa25)][_0x2d13ef(0x167)](_0x5f426b),'openGraphDatabase':_0x5f426b[_0x2d13ef(0x58d)][_0x2d13ef(0x167)](_0x5f426b),'openVectorDatabase':_0x5f426b[_0x2d13ef(0x71a)]['bind'](_0x5f426b),'publishLocalMediaStream':_0x5f426b['publishLocalMediaStream'][_0x2d13ef(0x167)](_0x5f426b),'publishLocalDynamicMediaStream':_0x5f426b[_0x2d13ef(0x46d)]['bind'](_0x5f426b),'getPubSubTopics':_0x5f426b['getPubSubTopics']['bind'](_0x5f426b),'getObjectStoreBuckets':_0x5f426b[_0x2d13ef(0x163)][_0x2d13ef(0x167)](_0x5f426b),'getExternalStorageConnections':_0x5f426b[_0x2d13ef(0x763)][_0x2d13ef(0x167)](_0x5f426b),'getKeyValueDatabases':_0x5f426b[_0x2d13ef(0x936)][_0x2d13ef(0x167)](_0x5f426b),'getGenerativeAIContexts':_0x5f426b['getGenerativeAIContexts']['bind'](_0x5f426b),'getGenerativeAIWorkers':_0x5f426b[_0x2d13ef(0x8fb)][_0x2d13ef(0x167)](_0x5f426b),'getGraphDatabases':_0x5f426b[_0x2d13ef(0x6a1)][_0x2d13ef(0x167)](_0x5f426b),'getVectorDatabases':_0x5f426b[_0x2d13ef(0x64f)][_0x2d13ef(0x167)](_0x5f426b),'getLocalMediaStreams':_0x5f426b[_0x2d13ef(0x471)]['bind'](_0x5f426b),'getRemoteMediaStreams':_0x5f426b[_0x2d13ef(0x26b)]['bind'](_0x5f426b),'getRemoteNodes':_0x5f426b['getRemoteNodes'][_0x2d13ef(0x167)](_0x5f426b),'on':_0x5f426b['on'][_0x2d13ef(0x167)](_0x5f426b),'off':_0x5f426b[_0x2d13ef(0x6ad)]['bind'](_0x5f426b)};}async[_0x3fd00f(0x34a)](_0xf0d584){const _0xff26d8=_0x3fd00f,_0x1b1298=new _0x149043(this[_0xff26d8(0x3ee)],_0xff26d8(0x253),_0xf0d584,this['authService'],this[_0xff26d8(0x314)],this['configs']);await _0x1b1298['join'](),this['addCluster'](_0xff26d8(0x253),_0x1b1298),_0x404abe[_0xff26d8(0x555)](_0xff26d8(0x516),'crewdle'),await _0x1b1298[_0xff26d8(0xa25)](_0xff26d8(0x253)),_0x404abe['forceLog'](_0xff26d8(0x4b0),'crewdle');}[_0x3fd00f(0x6d7)](_0x4f056e,_0x42a113){const _0x2bffb2=_0x3fd00f;this[_0x2bffb2(0x823)]['set'](_0x4f056e,_0x42a113),_0x42a113['on'](_0x2bffb2(0x909),()=>{const _0x1ddd49=_0x2bffb2;_0x42a113['off'](),this['clusters'][_0x1ddd49(0x92b)](_0x4f056e);});}static[_0x3fd00f(0x39a)](_0x13346c){return void 0x0!==_0x13346c['iceServers'];}}return _0x1f2c6b;})())));function a0_0x38ff(_0x182140,_0x86a74a){const _0x3fc288=a0_0x3fc2();return a0_0x38ff=function(_0x38ffc3,_0xb874df){_0x38ffc3=_0x38ffc3-0x15e;let _0x44607d=_0x3fc288[_0x38ffc3];return _0x44607d;},a0_0x38ff(_0x182140,_0x86a74a);}function a0_0x3fc2(){const _0x4229ec=['contentMediator','appsync-no-destination','GenerativeAIEngineType','processBatch','keyValueDatabases','createRemoteNode','upgrade','KeyValueDatabaseTransactionValueNotSet','createReceiverConnection','features','NodeManager\x20-\x20ConnectionSuccess','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','generative-ai-label-conflict','featureSupport','mediaDevices','OutputAudioStream','receiver','origin','SearchGoogle','_ready','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','chosenAnswers','createSubscription','getCapacityReport','lastTransactionId','localNode','packets','getRemoteNode','ExternalStorage','Data\x20Received','folder-create','Parameter\x20','connectionState','Syncing','byteLength','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','authService','ModelVector','Summary\x20Generator','Invalid\x20peer\x20connection\x20event\x20destination.','label','createKeyValueDatabase','msalGetAccessToken','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','checkDeviceConfig','onCandidate','node','KeyValueDatabaseDoesNotExist','publishFolder','destinationIds','\x20ms\x0a','direction','onConnectionStateChange','sender-send-message','standalone','setScheduleTime','setDisplayName','CrewdleReceiverConnection\x20ontrack','isReconnecting','Missing\x20RAG\x20API\x20key','sendFile','/resources/generative-ai-agent/items','isReady','StreamReport','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','inference','URL\x20is\x20required','AI\x20Search\x20connector\x20not\x20set','jobPhase','openAIKey','instance','handleOutgoingSystemEvents','KeyValueDatabaseTableDoesNotExist','CrewdleConnection\x20handlePeerConnectionSystemEvents','remove','get-content','object','MediaStreamPriority','KeyValueDatabaseAlreadyExists','crewdle-sdk-stg','writes','\x20must\x20be\x20a\x20string','answers','handlePeerConnectionSystemEvents','reduce','interval','comparePeaks','token','Database\x20not\x20open','subscribeToJobs','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','Stats:\x20report','GenerativeAITaskType','responseTimeout','appsync-connect-fail','isJobRequest','initialPrompt','deleteObject','enabledChannels','clusterId','Data\x20cluster\x20is\x20not\x20open.','createSenderConnection','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','setVendorId','graph-database-name-not-string','ObjectStoreInvalidSyncMessage','Unsupported\x20job\x20type','assign','rejectReady','publishSyncCompleted','Sync\x20completed','Answer','Query\x20file\x20connector\x20not\x20set','Node','DatabaseEvent','distance','EntityExtractor','GenerativeAIWorkerCreationFailed','bytesReceived','getObjectStoreBucket','tableUnsubscriber','clearRestartTimeout','JobQueueService:\x20Running\x20job','element','ScreenSharing','prompts','Memory\x20Usage\x20at\x20','Send\x20request','providerId',',\x20Total\x20Nodes:','loggingCycle','connection-invalid-data-event','detection','removeRemoteNode','processRemoveContent','Database\x20Opened','.ini','.kt','handleHandshake','VectorDatabase\x20not\x20found','ConnectionNoRetryQueue','KeyValueDatabaseStats','objectRequests','external-storage-invalid-path','between','receiverConnection','graph-database-already-exists','receiverBitrate','RemoteMediaStreamMissingProviderId','generative-ai-context-does-not-exist','searchConnector','Object\x20store\x20is\x20not\x20in\x20sync','AudioOutput','cpu.av_delay','Core','generateClient','index','digest','table','handshakeCandidates','chunks','prompt','JobWorker:\x20Handling\x20job\x20attribution','getTransactions','addBidResponse','getVectorDatabase','setPriority','Agent\x20output\x20is\x20not\x20a\x20string','Resolution','getLastUpdated','openObjectStoreBucket','ObjectStorageBucket','CloseKeyValueDatabase','isPartialResultResponse','publishUserUpdate','lastExecuted','file','attributes','logRaw','\x20received\x20result:','remote-media-stream-already-exists','workflow-does-not-exist','signInWithCredential','compareTransactions','setReceiverBytes','mergeParts','/resources/agent/items/','update','handleProblem','VectorDatabaseCreationFailed','dataUnsubscribers','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','results','previousBytes','blockId','openJobWorker','KeyValueDatabaseContentSynchronized','entity','.rb','local-media-stream-no-audio-context','openGenerativeAIWorker','crewdleSDKDisableLogging','getAncestors','Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','enabled','publishNodeLeave','getReceiverBitrate','functionsRegion','FeatureNotEnabled','cachedRoot','processRank','createBuffer','appendTransaction','.pl','Get','removeTrackListeners','bandwidth.jitter','completed','getIsLoaded','Optimization','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','notifyClusterNodeJoin','setSenderTimestamp','reranker','crewdle-sdk-logging-','Internal\x20SDK\x20error:\x20','graphql','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','Stream\x20already\x20exists','createFolder','knowledgeCutoffDate','getPubSubTopic','topic','isLoaded','RemoteConnectionExists','outbound-rtp','applyRemediation','discoveryService','DataChannel\x20is\x20not\x20initialized.','Agent','logConnectionState','createJob','Error\x20writing\x20file','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','Backgrounds','bufferedAmount','Job\x20','next','connection-not-connected','JobDispatcherCreationFailed','RelationExtractor','tracks','SubscriptionRequestInProgress','changesUnsubscriber','queries','agentId','Method\x20not\x20implemented.','ExternalStorageUpload','length','KeyValueDatabaseInvalidQuery','videoWidth','2BkGcMU','StorageEventType','sampleRate','bytesSent','OptimizationConnectionSuccess','CREWDLE_WEB_SDK','mediator','\x0a\x20===\x20Total\x20Data\x20Received:\x20','GenerativeAIContextJobAlreadyConsumed','ObjectStoreNotSynced','/resources/generative-ai-workflow/items/','onTrack','trackKinds','addCandidate','JobDispatcher:\x20Received\x20job','processPendingHandshakeCandidates','NodeManager\x20-\x20PublishNodeLeave','event','manageBufferedChunks','number','hasOwnProperty','previousFrames','stop','GraphDatabaseStats','getDisplayName','\x20-\x20','canChooseAnswer','Ingest','handleTransactionPayload','onMessage','Info','messageType','Setting\x20context\x20for\x20agent\x20skill\x20block','data','New\x20MMR\x20Root:\x20','PromptSource','addMessage','name','tableLayout','durationTime','text/event-stream','getTime','Mistlet\x20capacity\x20report\x20not\x20set.','web-scraper','getEnabledChannels','239285SNLEsq','.tpl','reasoning','Blank\x20Agent','validateAccess','docs','420235181083','Subject','llama-3.1-8b','Database\x20does\x20not\x20exist','evaluateBidsAndAttributeJob','DataCollectionDoesNotExist','CloseJobDispatcher','getRoundTripTime','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','waitSuccess','en-US','createOutgoingSubscription','Hub','processTransactionPayload','closeSubscription','parseDataCollectionBlocks','.lua','WebScraper','parse','cluster-already-joined','/developers/','ObjectStoreCannotWriteTransaction','isValidMediaSubscriptionParams','feedback-agent','WebScraperRaw','addTrack','Module','setupStatsCollection','MediaStream\x20feature\x20not\x20enabled','\x20to\x20send\x20dispatcherJob\x20','Invalid\x20object\x20store\x20sync\x20message.','SystemTopic\x20publish','completion_tokens','dataTopics','JobWorkerDoesNotExist','default','Database\x20already\x20exists','senderConnection','invalid-subscriber','unregisterSystemSource','getQuery','trim','LocalReport','globalObject','Image','statsReport','GenerativeAIContextAlreadyExists','Cannot\x20list\x20directory:\x20','track','FPS',':\x20Object\x20store\x20is\x20not\x20in\x20sync','PubSubTopic\x20onMessage','isConnected','peer-connection','setupTrackEndedListeners','Workflow\x20does\x20not\x20exist.','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','waitConnected','getBufferedAmount','input-audio-stream','manageAncestor','ExternalStorageInvalidPath','0\x20B','splice','senderTimeProcessing','query-file','shouldContinuePropagation','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','key-value-database','rank','Recording','history','getBid','handleChunkMessage','subscribedTracks','heartbeatUnsubscriber','KeyValueDatabaseRequestPeakTransactions','connecting','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','split','processDataChannelReport','ExecuteCustomSkill','debugEnabled','endpointMethod','getRank','ccc','fetchContentFromUrl','AudioVideoDelay','iceConnectionState\x20failed','logEvent','\x27\x20to\x20','content','created','registerSystemPublisher','CloseJobWorker','contentSize','Store\x20already\x20exists','firebaseUnsubscriber','recipients','insert','deletePendingFile','.jinja2','Job\x20Dispatcher\x20already\x20exists','fileChunks','sendFileRequestPayload','append','start','AppSync\x20subscribe','getTotalNodes','Folder','height','getId','writeTransaction\x20-\x20transaction\x20already\x20exists','jobObservers','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','dt_volatility','setTimestamp','Internal\x20event\x20\x27','handleNoAnswer','remoteConnections','getObjectStoreBuckets','object-store-invalid-path','modelId','7982048KvzJuy','bind','ragApiKey','.twig','values','feature-not-enabled','clearWaitSuccess','CloseGraphDatabase','ConnectionNotinitialized','getRemoteConnections','Error\x20reading\x20file\x20chunk\x20after\x20','getTracks','all-minilm-l12-v2','removeRemoteConnection','debounceRebuildMMR','Number','removeJobDispatcher','getStatus','external-storage-connectors-missing','engineType','\x20seconds','ApiKeyMissing','createPubSubTopic','support','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','headers','DataChannel\x20buffer\x20is\x20full.','/stats','dataChannel','removeVectorDatabase','strategizing-agent','lastProcessRank','accessToken','contentRect','Jobs','clusterKey','.ppt','WorkflowInvalidBlockType','minThreshold','google','drawImage','Vector','Invalid\x20key\x20\x27','Local\x20stream\x20does\x20not\x20exist.','generative-ai-context-job-invalid-type','.html','getOrResetPendingFileTimeout','Orchestrator\x20handleSystemEvents','PubSubTopicDoesNotExist','processLocalReport','WebRTC','doc','boolean','ObjectKind','archival-search','embed','hashPeakHashes','systemMessagesReceived','connectionType','hasMessage','propn','output-audio-stream','write-file','media-stream','learn-agent','object-store-cannot-write-transaction','owner','JobWorker:\x20Error\x20processing\x20job','setSubscriptionRequestTimeout','ConnectionInvalidDataEvent','commitType','Hash\x20computation\x20failed,\x20retrying...','GraphDatabase\x20not\x20found','KeyValueDatabase','oncloseTimeout','external-storage-connection-does-not-exist','checkMediaRecording','logBatch','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','Logger.getInstance','timePerFrame','discover','recomputeRoot','buildTableEvent','logPropagateSystemEvent','\x20with\x20response:','Error\x20fetching\x20URL','providerListener','updateLastUpdated','sdkValidateAccess','jobType','Cluster','collection-query','isJobAttribution','reportMetric','params','retryCallback','setOnMessageHandler','ModelText','executeAgent','Move','processList','timestamp','Restart\x20NeedMediaStream','query-helper-invalid-argument','Knowledge\x20Cutoff\x20Date:\x20','openTrace','createObjectStoreBucket','oidc','width','messageCallback','destination','registerSubscriber','receiverUnsubscribers','getAncestorIds','WriteFile','Received\x20ContentSynchronized\x20from\x20','generative-ai-context-invalid-partial-result','connectionPool','addBatchOperation','InitialPrompt','handleCloseContent','clearHeartbeat','processReceivedTransactions','filename','job-dispatcher-job-not-found','gpu','nodes','decode','PubSubTopicAlreadySubscribed','memoryUsage','<file:','All','getDTVolatility','handleRemediationSystemEvents','outputType','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','clearSubscriptionRequestTimeout','Model\x20not\x20found','\x0aAdditional\x20data:\x20','PeerConnectionInvalidDestination','setEmail','local-stream-does-not-exist','set','loggingConnectors','14dRbumA','subscriptionRequests','data-collection','.rkt','getConnection','removeExternalStorageConnection','createConstantSource','onValue','\x20deleted.','cleanOldSubscription','getSubscriptionLabel','pubSubTopics','Index','result','writeFile','minConnections','getDataBucketIds','outgoingStreams','startLoggingCycle','maxLayer','Apply\x20remediation','key-value-database-invalid-query','Job','router','ObjectStore','removeItem','object-store-not-in-sync','QueryBuilderInvalidArgument','KeyValueDatabaseContentAvailable','addRemoteNode','syncTransactions','DeviceConfig','firebase-connect','objectStores','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','appsync-close','JobDispatcherInvalidPayload','waitForArrayBufferSize','Error\x20fetching\x20context','Copywriter\x20Agent','statsManager','.crewdle-pending','processReports','connection','subscription-request-does-not-exist','layout','deleteCollection','RemoteMediaStreamInvalidSubscriptionParams','false','setRank','signalingState','transactionsToSync','generative-ai-worker-creation-failed','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','setupListeners','tail','inputTokens','SearchPerplexity','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','tool-call','Incoming','1.0.25.0','documentParserConnector','AI\x20Worker\x20already\x20exists','externalStorageConnectors','processReport','sync','onDataChannel','Waiting','graph-database-does-not-exist','map','application/octet-stream','muted','remote-inbound-rtp','No\x20global\x20object\x20found','text/','exists','incomingTopic','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','SHA-1','Relation','Invalid\x20value.\x20Property\x20\x27','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','remote-stream-missing-provider-id','calculateArrayBufferSize','active','dataBucketIds','statusText','temperature','mediaStream','getInstance','getOwnerId','crewdle','RequestFile','NeedRestart','clearConnectionTimeout','peakHeights','Job\x20Dispatcher\x20does\x20not\x20exist','getPartsForSubscriptionLabel','resizeHandler','system','registeredListeners','trace','KeyValueDatabaseIndexNotFound','workflowId','.djt','CrewdleSenderConnection\x20createOffer','local-media-stream-track-fail','url','checkSyncComplete','handleNodeUpdate','deleteRemoteNode','key','rate','WorkflowTrace','queryFileConnector','getRemoteMediaStreams','getLocalNode','setIsLoaded','outputTokens','@context.','key-value-database-peak-not-found','Media','publishSyncCompletedAfterWrites\x20-\x20','GenerativeAIContextInvalidPartialResult','createElement','contentType','file-upload','Chosen\x20answer','fps','handleUnsubscribeMediaStream','threshold','batchSize','load','UnsubscribeMediaStream','AITrace','searchInDataCollection','appsync-connect','retrieveBlocks','detectProblems','Model','getCurrentVersion','internalId','source','observe','getAgents','remainingTracks','InvalidSubscription','agent-join','checkWebRTC','Cannot\x20publish\x20file:\x20','GraphDatabaseCreationFailed','SubscribeMediaStream','Remote\x20connection\x20already\x20exists.','Processing\x20agent\x20block:\x20','Error\x20searching','previous','startsWith','AppSync\x20publish','graph-database-creation-failed','\x27\x20in\x20layout','handleContentUnpublishMediaStream','handleMissingSenders','getSupportedContentTypes','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','generative-ai-context-creation-failed','return\x20this','Update','bodyParameters','syncTransactionsWritten','FolderDelete','Received\x20event\x20on\x20cluster','setConnectionType','answererId','tableObserver','getTransactionFromTableWriteEvent','createGraphDatabase','setInterval','srcObject','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','suspended','handleNodeSystemEvents','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','senders','payloadType','sendRequest','Job\x20service\x20job\x20not\x20found.','externalStorageConnections','Unknown\x20skill\x20type','Detection','graphService','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','checkAudioContext','\x20answer','October\x202023','Data\x20collection\x20does\x20not\x20exist.','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','query','GenerativeAIRatingStatus','Received\x20','canvas','SubscriptionRequestDoesNotExist','toLocaleDateString','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','SenderPeerConnection\x20send','isSyncing','document-parser','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','systemTopicUnsubscribe','entity-extractor','unregisterSubscriber','Agent\x20group\x20not\x20found','fromEntries','\x0a\x20===\x20Total\x20Time:\x20','confirmSynchronization','component','dispatchEvent','totalNodes','serverTimestamp','audio','setOnTableWriteHandler','getPubSubTopics','parseWorkflowDocument','SentenceSplitter','initialize','syncResolve','IncomingSubscription','processInboundReports','bufferedChunks','Pending','getTable','job-dispatcher-does-not-exist','.css','root\x20hash:\x20','getSenderBitrate','cost','JobWorker:\x20Sending\x20job\x20reject','handleStatsSystemEvents','usage','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','Reranker','WebGL','availableTrackKinds','thread-','replaceTrack','object-store-invalid-sync-message','getSenderTotalBytes','setInternalId','Key-value\x20database\x20transaction\x20value\x20not\x20set.','minResolutionScale','.md','processJobStream','VectorDatabase','NodeDoesNotExist','status','renderElement','AudioContext','Execute\x20the\x20agent\x20','JobWorker:\x20Received\x20job\x20attribution','FileStatus','race','key-value-database-invalid-value','1:519415702791:web:5dd39042f881cfde3251a2','handleLocalTrackFailure','NodeTypeRequired','files','mmr','hashNodes','Receiver','setRemoteNode','JobStatus','traceLevel','app','invalid-publisher','Setting\x20context\x20for\x20answer\x20block','Node\x20is\x20not\x20an\x20agent','add','agent-update','object-store-name-not-string','More\x20content\x20available\x20on\x20page\x20','NodeType','createConnection','key-value-database-index-not-found','isPromiseResolved','VectorSearch','options','code','toFixed','disableIntervalHack','Invalid\x20credentials','externalStorages','removeTrackCallback','getGenerativeAIContexts','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','openJobDispatcher','file-delete','syncKeyValueDatabase','\x20-\x20Sending\x20propagation\x20(','addEdge','removeEventListener','inbound-rtp','ObjectStoreNotInSync','\x20transactions\x20from\x20node\x20','lastClockUpdate','log','embedding','bufferEvent','CloseExternalStorageConnection','Text','getToolDescription','firebaseConfig','RequestAccepted','RequestFileWrite','GenerativeAIModelOutputType','ReceiverPeerConnection.onMessage','undefined','handleError','unregisterCluster','relation','Job\x20service\x20observer\x20not\x20found.','SHA-256','setSinkId','ancestors','Invalid\x20layout:\x20','answer','updated','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','collectStats','AiSearch','From\x20','.go','generative-ai-worker-missing-connector','DocumentParser','/jobs','cores','<uploaded-files>','validateLayout','.vb','Support','connectAgent','transactionService','setupStatsReporting','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','NodeAlreadyExist','childRemovedUnsubscriber','timeoutCallback','.cfg','clientHeight','removeRemoteStreamSubscription','getToolName','Warning','findIndex','debounceStats','syncTimeout','RestartNeedMediaStream','unsubscribe','AI\x20worker\x20creation\x20failed.','AppSync\x20connection\x20not\x20ready','Bitrate','\x20completed.','messagesSent','gpt-4o-mini','cluster-disconnect','openGenerativeAIContext','count','\x20after\x20','currentBytes','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','blank-agent','timesCalled','KeyValueDatabasePeakNotFound','setupRenderElement','replace','commitLevel','callback','models','connected','JobDispatcherAlreadyExists','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','transactions','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','Remove','Logging\x20not\x20enabled\x20for\x20channel\x20','estimatedPlayoutTimestamp','Competitive\x20Analysis\x20Agent','/objectstores/','incomingManager','apiUrl','registerPublisher','job-worker-does-not-exist','validateValue','competitive-agent','GraphDatabaseNameNotString','remoteNodes','nextNodeId','message','handleContentUpdateMediaStream','Connection\x20not\x20connected.','getShareableStreamId','Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','clearOncloseTimeout','ExecuteAgent','LocalMediaStreamDoesNotExist','LocalMediaStreamTrackFail','setRemoteConnections','currentFrames','handleContentRemoteMediaStreamTrackFail','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','getFirestore','getMilliseconds','setupResizeHandler','.docx','loop','extendedRecipients','receiverStreams','.erl','removePubSubTopic','manageOptimization','isInternalSDKConfigs','groupId','isWhereValues','CannotProvideMediaStream','handleUpdateMediaStream','sentence-splitter','NodeManager\x20-\x20NodeUpdate','currentDistance','vector-database','.vbs','getNextTargetRank','removeListener','12CHzkJW','Invalid\x20where\x20clause','High','graph-database-missing-connector','getProviderId','Skill','request-file','Failed','Invalid\x20publisher.','ObjectStoreNameNotString','object-storage','Processing','debounceReadyTimeout','Initial\x20MMR\x20built\x20with','.java','Partial','jitter','maxTokens','Data\x20Sent','incrementVersion','onChildRemoved','GraphDatabase','rootComputationPromise','KeyValueDatabaseInvalidLayout','Error\x20encountered\x20while\x20opening\x20database','substring','rebuildMMR','retryCount','connectionGroup','getMediaStream','transactionsToAppend','model','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','internalContext','word-splitter','Cannot\x20get\x20size\x20of\x20path:\x20','chunk','unsubscribeListener','checkMediaStream','Data','handleContentUnsubscribeMediaStream','collection-delete','mute','maxBitrate','Missing\x20AI\x20search\x20API\x20key','packetsLost','ConnectionNotConnected','openai','processRemoteInboundReport','removeTrack','syncContent','OutgoingMediaStreamNoTopic','ExternalStorageConnectorsMissing','FileDelete','Low','storage','generative-ai-worker-already-exists','mediaTopics','DataChannel\x20is\x20not\x20open.','forEach','streams','Error\x20executing\x20code','asyncEndpointMethod','executeQuery','getConnectionGroup','onHandshakeStateChange','collectionId','onDisconnect','getWorkflow','Stats','ConnectionState','FolderMove','vendorId','handleSubscriptionSubscribeMediaStream','joinCluster','findNextNodeId','KeyValueDatabase\x20-\x20Sync\x20completed','downgrade','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','IntermediateOutput','nodeUpdate','openExternalStorageConnection','registerSystemSource','updateLastTransactionId','getContext','maxResolution','subscriptionRequestsQueue','wait','getJob','peaks','ReadableStream\x20is\x20not\x20supported','Failed\x20to\x20send\x20job\x20','RemoteMediaStreamDoesNotExist','canProvideResolution','amd','Archival\x20Search\x20Agent','file.type','destroy','processContentAvailable','getAuth','instructions','requestSubscription','getBitrate','Medium','.json','content-unpublish-media','handleSuccess','10kdgCdg','closeTrace','pow','pubsub','notifyClusterNodeUpdate','aiSearchApiKey','combinePeaks','.sh','transactionHashMap','SenderSendMessage','supported','.rs','canRestartHandshake','pop','pendingHandshakeCandidates','setTimeout','sendAction','Publish\x20the\x20transaction','registerDestination','getJobObservable','getReceiverTotalBytes','getTotalBytes','resolve','internal','Missing\x20search\x20API\x20key','sourceId','setLocalRank','GenerativeAIContextCreationFailed','stun:','urls','GenerativeAIContextJobInvalidType','description','pendingFilesTransactions','commitBatch','Queued','orchestrator','detectStreamIssues','setupConnectionEvents','Downgrade','jobDispatchers','node-invalid-type','Signaling','createBufferSource','crewdleSDKLoggingChannels','pub-sub-topic-does-not-exist','receiverPreviousTimestamp','Generative\x20AI\x20context\x20job\x20timeout.','kind','now','createLocalMediaStream','/transactions/','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','Search\x20in\x20data\x20collection\x20','isMediaSource','/resources/generative-ai-collection/items','collectTransactionsFromNode','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','firebase-disconnect','setTransformations','RoundTripTime','InputAudioStream','receiverCurrentBytes','isNeedRestart','JobType','-leave','keyPath','accumulateResult','SyncComplete','resume','handleSubscriptionMediaStreamUnavailable','JobWorkerAlreadyExists','createGenerativeAIContext','list','createJobDispatcher','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','No\x20parameters\x20provided','ChunkSplitter','GenerativeAIWorker:\x20Opening','feedback','handshakeState','KeyValueDatabaseSendTransactions','asyncHeaders','GenerativeAIContext\x20stream\x20error','supports','join-cluster','1:420235181083:web:4eff6062bd845cb0748cbe','stream','orderByKey','/nodes/','encode','WaitTrue','remote-stream-does-not-exist','publishLocalDynamicMediaStream','connectionStateListener','Stream\x20does\x20not\x20exist','configs','getLocalMediaStreams','evaluateBids','handleNodeLeave','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','key-value-database-does-not-exist','getTransactionByHash','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','\x20received\x20responses:','isRunning','Subscription\x20request\x20does\x20not\x20exist.','onGatheringStateChange','ObjectStoreAlreadySubscribed','left','score','notifyJoin','peerConnectionConnector','queryFile','sequence','key-value-database-not-open','sender','G-F7W8KXRKQB','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','Invalid\x20job\x20service\x20payload.','\x20not\x20found.','handleNeedRestart','JobStream','MediaStreamUnavailable','No\x20connector\x20found\x20for\x20model','Connection','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','user-update','ownerId','lastRemediations','external-storage-connection-already-exists','abs','CloseVectorDatabase','body','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','outgoingTopic','relevance','localMediaStreams','contextOutputVariable','if_else','detectVideoIssues','Events','external-storage-upload','crewdle-sdk-stg.appspot.com','crewdle-sdk','debounceLogTimeout','stopTracing','Subscription\x20request\x20failed.','object-store-invalid-payload','SystemStats','WordSplitter','frameHeight','capacityReporter','processReceiverReport','addEventListener','gain','LoggingService:\x20logging\x20enabled\x20for','removeRemoteMediaStream','NodeJoin','getTableConnector','Opened\x20generative\x20AI\x20worker','Key-value\x20database\x20creation\x20failed.','context','getEntities','bufferedAmountLowThreshold','compileStats','startAt','PeerConnection','MediaStream','connection-not-initialized','getOutgoingOptimizationConnections','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','isOpened','vector-database-name-not-string','wait-false','\x20already\x20exists','setLoggingConnectors','bandwidth.bitrate','handleUnpublishMediaStream','.ts','arguments','region','/chat/completions','GraphDatabaseAlreadyExists','String','entries','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','reset','CustomSkill','sendIceCandidates','gpt-4o','setParams','Error\x20closing\x20writable\x20stream','getSize','updateUser','nodeId','object-store-not-synced','currentTimestamp','getDataCollections','getConfigs','generativeAIWorkerConnectors','jobWorkers','KeyValueDatabaseInvalidValue','Base\x20Peer\x20Connection','Invalid\x20job\x20type','hasTracks','sourceVideo','processContentSynchronized','httpsCallable','joinedClusters','notifyObjectStoreOfNodeLeave','state','maxBpp','DataStream\x20onMessage','signOut','logDataReceived','remoteMediaStreams','KeyValueDatabaseNotOpen','getConnections','LocalMediaStreamAlreadyExists','\x27:\x20missing\x20or\x20invalid\x20keyPath','title','Key-value\x20database\x20table\x20does\x20not\x20exist.','Learning\x20Agent','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','FinalOutput','processOutboundReports','isSubscribed','SubscriptionRequestFailed','phi-4-14b','from','Invalid\x20key','connector','key-value-database-invalid-layout','UpdateMediaStream','data-collection-does-not-exist','ai-search','path','Missing\x20vector\x20database\x20connector','every','.crewdle-last-transaction','canAddCandidates','captureStream','listen','NeedMediaStream','removeConnection','ObjectStoreStats','JobWorker:\x20Sending\x20job\x20result','Today\x20Date:\x20','right','job-worker-creation-failed','localId','131479XRnMab','Additional\x20context:\x0a','Synced','Result','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','unsubscribeHandler','object-store-already-exists','pool','resetConnection','Joined\x20cluster','detectionManager','handleSubscriptionProvideMediaStream','PartialResult','Invalid\x20node\x20type','all','getLocalId','listenerUnsubscribers','text/plain','Human','clusters/','msalRefreshToken','isInternalLoggingConnector','system-stats','utf8','GenerativeAIContextStats','not-resolved','Emitting\x20event\x20on\x20local\x20cluster','ranges','.ps1','KeyValueDatabaseTableNotFound','File\x20sending\x20interrupted','.pug','PromptFunctionParamsType','file-list','getName','then','remote-media-stream-invalid-subscription-params','isBidResponse','getClosestNodes','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','44994yGvEeP','VectorDatabaseStats','GenerativeAIContext','Invalid\x20query','\x20attempts:','deleteJob','Outgoing','_isReady','getMaxConnections','head','collectReceiversStats','Bid','waitAnswer','internalProcessJob','fileSendingMap','successNotified','receivers','Rating','isWhereValue','text/csv','handleOffer','addIssue','startIndex','messageListeners','pubsubTopics','Cannot\x20publish\x20payload:\x20','contextInputVariable','Rejected','getEstimatedTimestamp','hasRemoteNode','InvalidSubscriber','.yml','forceLog','Cannot\x20get\x20file:\x20','Error\x20closing\x20trace','rating','documentPath','handleJobAttribution','Valid\x20layout','getDatabase','listChanges','ObjectStoreInvalidPath','ConnectionGroup','ExecuteCode','object-store-stream-does-not-exist','disconnectCallback','padStart','some','subscriptions','keys','noun','VectorDatabaseMissingConnector','GenerativeAILabelConflict','calculateSize','key-value-database-table-does-not-exist','authNode','Llamacpp','createGenerativeAIWorker','KeyValueDatabase\x20not\x20found','Missing\x20external\x20storage\x20connector','\x0a\x20===\x20Synchronization\x20Time:\x20','peer-connection-invalid-destination','handleConnectionSuccess','Pool','sdk-internal-error:\x20','NodeInvalidType','VectorDatabaseNameNotString','getResolutionScale','isOffer','open','RemoteMediaStreamAlreadyExists','observer','KeyValueDatabaseTableNameReserved','success','graph-database','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','key-value-database-already-exists','ObjectStoreInvalidState','file-download','.py','\x20failed.\x20Retrying...','processContentAvailable\x20-\x20Peak\x20comparison:','PayloadAction','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','clearSyncTimeout','splitParts','subtle','text','openGraphDatabase','unsubscribeTrackEndedListener','GenerativeAIWorker:\x20Opened','propagate','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','MistletCapacityReportNotSet','openaiApiKey','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','search','transactionQueue','vector','jobBids','parentId','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','.\x20Confirmation?\x20','removeIncomingSubscription','.crewdle-layout','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','WaitFalse','match','client','senderTotalMessages','receiverCurrentTimestamp','available','handleFileRequestAnswer','dataStores','Restart','endsWith','\x20must\x20be\x20a\x20valid\x20JSON\x20string','answerJoin','instantiateTransactionTable','receiverPreviousBytes','handlePublishMediaStream','Job\x20Worker\x20does\x20not\x20exist','publishNodeJoin','request-file-write','priority','handleObjectMove','Consuming\x20buffered\x20event','join','GenerativeAIContextJobTimeout','deleteTransactionsForTable','generativeAIContexts','send','openPubSubTopic','hashTransaction','/workflows/','auth','addConnection','batchQueue','checksum','key-value-database-table-name-reserved','getInternalStreamId','maxConnections','DataStream','timeSending','user-join','removeOutgoingSubscription','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','listenUnsubscriber','ConnectionBufferNotEmpty','systemTopic','frameTime','contentRequestSent','resolutionScale','closeTopic','wait-true','getSentences','Retrieve','Entity','getIdToken','cpu.time_per_frame','audioContext','getDistance','Cannot\x20unpublish\x20object:\x20','clientStream','No\x20RAG\x20connector\x20available','.ipynb','onProviderChange','logLevel','JobDispatcherObserverNotFound','getDataCollection','accumulated','senderBitrate','ExternalStorageConnection\x20not\x20found','.scala','agent','getEngineType','write','logInitialMMR','operations','CanProvideMediaStream','Invalid\x20index\x20in\x20table\x20\x27','onClose','setCurrentVersion','startHeartbeat','JobWorkerCreationFailed','/nodes','\x27\x20payload:','ref','Missing\x20transaction\x20id','createVectorDatabase','CrewdleConnectionGroup','deleteFileChunks','pathName','processJob','Error\x20opening\x20trace','Online','::','reject','toString','firestore','\x0a\x20===\x20Total\x20Nodes:','Completed','vectorDatabaseConnector','maxFramerate','GenerativeAIInferenceToolType','getRoot','collection','Issue\x20detected:\x20','/jobs/','unregisterSystemPublisher','ENOENT','JobDispatcherInvalidJobType','\x20must\x20be\x20a\x20number','resolution',',\x20Transactions:\x20','discoveryUnsubscriber','connectionManager','restartTimeout','knowledge','unregisterPublisherListener','file.content','waitAsync','handleDisconnect','addRemoteConnection','messages','getFunctions','fetch-url','onConfigurationChange','handleSubscribeMediaStream','subscriptionRequestTimeouts','KeyValueDatabaseRequestTransactionsValue','Setting\x20context\x20for\x20agent\x20block','Job\x20worker\x20creation\x20failed.','indexOf','getCurrentMaxLayer','openedTraces','Node\x20type\x20is\x20invalid','Job\x20service\x20creation\x20failed.','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','\x20with\x20','tool','getDocs','subscriptionManager','onRemoveTrack','DataChannel\x20send\x20error','createLocalDynamicMediaStream','debounceProcessRank','packetsSent','.cs','iceServers','resolveReady','Router','PubSubTopic\x20not\x20found','\x20not\x20supported','webgl','removeGraphDatabase','overlap','Count','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','push','shift','getMediaSubscription','offset','.pptx','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','indexes','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','UnpublishMediaStream','createBatchOperation','max','parameters','appsync-disconnect','Sender\x20connection\x20is\x20not\x20initialized.','lastUpdated','Object\x20store\x20not\x20synced.','Debug','User','node-does-not-exist','Subscribing\x20to\x20an\x20event:\x20on','addDoc','processTransactionsToComputeMMR','getVectorDatabases','Received\x20track','audioSource','performCalculation','keyValueDatabaseConnector','\x0a</','topicLabel','registerRemoteNode','MissingSystemTopic','pub-sub-topic-name-not-string','batch','\x20to\x20generate\x20a\x20response.','\x20check\x20failed','notifyObjectStoreOfNodeJoin','stopNoThrottlingHack','writeBatch','decodeJWT','prototype','contentManager','https://crewdle-sdk-default-rtdb.firebaseio.com','reads','rtt','sendPeakTransactions','getSimilarity','eventEmitter','bid','internalProcessJobStream','size','Node\x20not\x20authenticated','detectAudioIssues','subject','output','getLayout','queues','.tsx','run','sendTransactionsValue','/logs','KeyValueDatabaseCreationFailed','once','FROM\x20file','Reranker\x20block\x20is\x20missing\x20required\x20data','isResultResponse','chunksReceived','.info/connected','updateDebounce','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','maxDistance','Workflow','api-key-missing','ObjectStoreAlreadyExists','joinedAt','getWorkflowObjectStorageBuckets','queryCollection','Error','processOutboundReport','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','detail','getNumberOutgoingSubscriptions','readyDebounce','FramePerSecond','checkExistingPendingFileContent','has','handleFolderCreate','internal-sdk-error','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','Support:\x20','OpenAI','ner','total','.yaml','stopConnection','objectStoreConnector','getSubscribedTracks','getUserMedia','value','verb','startTime','filter','logMMRRebuild','December\x202023','Code','getGraphDatabases','object-store-invalid-state','JobWorker:\x20Received\x20job\x20request','2-digit','/resources/external-storage/items/','checkWebGL','channel','Missing\x20remote\x20node\x20or\x20rank','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','leave','DataCollection','handshakeDebounce','off','clearRect','handleNodeDisconnect','lastCapacityReport','stringify','Request','failJob','numeric','GenerativeAIWorkerAlreadyExists','version','job-dispatcher-job-exists','getGraphDatabase','ObjectStoreInvalidPayload','Missing\x20answerer\x20id\x20on\x20request\x20answer','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','DTVolatility','checkBackgrounds','PubSub','endpointUrl','answerContentAvailable','debounceAppendLog','Invalid\x20params','CPUCycle','where','relations','Job\x20with\x20id\x20','asc','createMediaStreamSource','eventTarget','Missing\x20graph\x20database\x20connector','.swift','getVideoTracks','Sender','delta','removeTopic','isFailedResponse','Success','jobQueue','isMediaDestination','aws','publishSystemMessage','entities','addCluster','candidate','writeTransaction','handleRemoteTrackFailure','\x20is\x20required','retryQueues','unregisterDestination','frames','tableName','getAvailableTrackKinds','getTrackFromParam','queryParameters','crewdle-sdk.firebaseapp.com','\x0a\x0adata:\x20','appendTransactionAndUpdateHashMap','mode','GenerativeAIWorkerMissingConnector','generative-ai-context-job-already-consumed','defineProperty','realtime-session-create','Early\x20return:\x20','checkAudioOutput','createAnswer','onDisconnectHandler','.info/serverTimeOffset','buildInitialMMR','evaluateProccessedJob','RemoteMediaStreamTrackFail','validateQuery','/vector_stores/','GenerativeAIWorkerStats','InvalidDataChannel','Subscription','Context','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','timeoutValue','receiverTotalMessages','ceil','Disconnect','FileWrite','prompt_tokens','stats','transactionTable','not-in','cpu.fps','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','type','internalJob','maxDepth','Problem\x20detected:\x20','node-type-not-supported','searchEngineId','logSupport','LocalMediaStreamNoAudioContext','warning','publish','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','secheduleTime','executeJavascriptCodeSnippet','links','VectorDatabaseDoesNotExist','Model\x20not\x20found\x20','.xml','consumeBufferedEvents','requestSubscriptionAction','application/json','createIncomingSubscription','openVectorDatabase','shouldProcessTransaction','createTopic','getCoresFromCapacityReport','warn','getPeaks','handleDetectionSystemEvents','handleSystemEvents','publishTransaction','Handshake','chooseAnswer','messageUnsubscriber','AudioVolume','ObjectStorage','8445173SaScVp','logServiceEvent','isChannelEnabled','STVolatility','RemoteRemediation','long','computeHash','data:\x20[DONE]\x0a\x0a','unpublish','ReceiverOnMessage','Query\x20must\x20refer\x20to\x20the\x20file\x20table','ObjectStore\x20not\x20found','createRemoteMediaStream','PromptRating','isComputingMMR','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','setDoc','createCollection','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','registerCluster','createNewBatch','getEmail','everyone','move','Remediation','logger','PubSubTopicStats','Writable\x20stream\x20is\x20missing','cancel','Invalid\x20subscription.','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','PubSubTopicNameNotString','page','statsReporting','framesEncoded','tokens','NodeConnectionsUpdate','Internal\x20SDK\x20Error:\x20','ExternalStorageConnectionDoesNotExist','ExternalStorageConnectionAlreadyExists','limitToFirst','isWhereBetween','key-value-database-transaction-table-not-initialized','getRemoteNodes','handleOnMessage','generative-ai','trackCallback','streamId','job-dispatcher-observer-not-found','processPendingSyncTransactions','GetContextQuery','unshift','key-value-database-name-not-string','email','reportCapacity','minRelevance','unregisterSource','Connection\x20does\x20not\x20exist','problem','getExternalStorageConnections','bandwidth.rtt','codes','FolderCreate','videoHeight','updateDebounceTimeout','getInternalTrackParams','getWorkflowExternalStorageConnections','web-scraper-raw','getContentType','senderPreviousTimestamp','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','processSenderReport','setOnDisconnectHandler','getItem','image','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','JobContext','isNodeReady','ended','ContentType','mediaUnsubscribers','Internal\x20error:\x20','handleIceCandidates','aiSearchConnector','Everyone\x20','createPendingFileWrite','agentConfig','limit','QueryFile','OPFSObjectStoreConnector','Connection\x20already\x20exists','lastHeartbeat','ingestFile','complete','hasBufferedData','handleContentCloseMediaStream','isEqual','Accepted','unregisterPublisher','find','publishMove','getDoc','Logging\x20trace','displayName','Offline','CloseObjectStoreBucket','play','queryOrPrompt','node-type-required','TestPage','Table\x20not\x20found','messagesReceived','.conf','getPeakNode','IDBDatabaseConnector','createDataChannel','.tcl','connect','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','restartHandshake','nodeManager','addProblem','NodeTypeNotSupported','getConnectionType','JobQueueService:\x20Job\x20completed','bufferedEvents','loadEnabledChannels','pendingSyncTransactions','developers/','logDataSent','NodeNotAuthenticated','skipEncryption','includes','graphDatabaseConnector','get','optimizationLayers','setItem','getSettings','request-accepted','1.0.25','Tool','WebRTCBrowserPeerConnectionConnector','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','ObjectStorageUpload','messageBuffer','getLocalMediaStream','events','.Total\x20pages\x20available:\x20','onloadeddata','subscription','vectors','PublishMediaStream','isArray','Node\x20does\x20not\x20exist.','handleContentSystemEvents','exports','logStorage','disconnect','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','frameWidth','apikeys/','.awk','handleFileWrite','getShareableStream','removeLocalMediaStream','slice','maxThreshold','GraphDatabaseMissingConnector','getPacketsLostPerc','ExternalStorageNameNotString','Error\x20processing\x20retrieve','batchTimeout','readyPromises','generative-ai-context-job-failed','TimePerFrame','addPendingHandshakeCandidate','createOffer','logSyncMetrics','remoteId','getSTVolatility','receiverTimeProcessing','roundTripTime','charCodeAt','connections','saveToDisk','connectorConstructor','FetchUrl','.xls','Invalid\x20object\x20store\x20state.','ingestBlocks','getResolution','clear','NodeUpdate','startTracing','appsync-statechange','grammar','GenerativeAIModelInputType','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Audio','end','GetContextResult','generativeAIWorkers','Problem','pendingFilesSyncing','transformations','connectionConstructor','JobDispatcherJobNotFound','summary-generator','send\x20error\x20on\x20','DEBUG\x20-\x20','filesSynced','NodeLeave','string','vector-database-creation-failed','collection-create','fetchUrl','PubSubTopic\x20publish','addNode','setStatus','uid','KeyValueDatabaseTransactionTableNotInitialized','error','checkScreenSharing','Operations:','Wait','startNoThrottlingHack','Received\x20content\x20available\x20from\x20node','.j2','searchApiKey','maps','json','Add','getExternalStorageConnection','setBytes','validateKey','Query\x20is\x20required','user','newPath','autoplay','retryDelay','currentBatch','trackChanges','Delete','AISearch','No\x20destinationIds\x20left','bitrate','POST','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','missing-system-topic','gatheringState','sort','clusters','AudioContext\x20is\x20not\x20available','us-east-1','Upgrade','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','min','trackEndedListeners','handleSubscriptionSystemEvents','getJobWorkers','systemMessages','unregisterRemoteNode','Strategizing\x20Agent','nlpLibraryConnector','additionnalInstructions','File','sendWithRetry','Embeddings','Connection\x20not\x20initialized.','pendingFilesRename','/embeddings','remoteUnsubscriber','job-dispatcher-invalid-payload','topics','topK','copywriter-agent','getJobDispatchers','isFeatureSupported','Prompt','handleOptimizationConnectionSuccess','AgentSkill','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','debug','failed','handleFileSync','Transaction','removeObjectStore','eventListener','closed','remote-connection-exists','Boolean','objectToArrayBuffer','.bat','custom-skill','Attribution','subscribe','createMediaStreamDestination','\x27\x20is\x20not\x20ready','hash','currentVersion','processInboundReport','ClusterAlreadyJoined','isIceCandidate','threadId','Local\x20node\x20rank\x20is\x20not\x20set','st_volatility','call','expectedTransactions','maxFps','sendReject','orderBy','generative-ai-context-job-timeout','Early\x20return','startBidResponseHandling','createAIJob','uuid','JobWorker:\x20Sending\x20job\x20partial\x20result','trackListeners','moveObject','totalEncodeTime','Vector\x20database\x20creation\x20failed.','findNewMediaSubscription','updatePropagationProperties','onUnregisterPublisher','addVideoTrack','invalid-data-chanel','getTrack','inputType','Content','clientWidth','arrayBufferToObject','/search','JobDispatcherJobExists','generative-ai-worker-model-sync-error','action','asObservable','FileMove','Feedback\x20Agent','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','JobDispatcherDoesNotExist','signaling','Failed\x20to\x20get\x20file','JobWorker:\x20Tracing\x20not\x20implemented','getJobs','SyncKeyValueDatabase\x20-\x20Ancestors\x20','vectorDatabases','test-page','close','.vue','Jitter','senderCurrentTimestamp','isAvailable','\x20finalized.','getPartsFromSubscription','closeConnection','getAudioTracks','nodesConnected','ragConnector','GraphDatabaseDoesNotExist','setPendingFileSyncingPayload','toStringTag','getLabel','problemType','initializeSystemTopic','counter','Trend\x20Spotter','.cpp','external-storage-name-not-string','getToolParams','parseWorkflowBlocks','June\x202024','endpoint','audioDestination','senderCurrentBytes','ClosePubSubTopic','KeyValueDatabaseNameNotString','RequestFileSync','buffer','debounceRebuildMMRWithTransaction','upgradeTimeout','choices','jobs','scheduleTime','.hs','toLowerCase','Disconnected','sendTransactionsValue\x20-\x20value\x20not\x20found','getReport','remediation','removeKeyValueDatabase','remediations','getRemoteMediaStream','\x20received\x20partial\x20result:','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','Offer','jobId','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','sendStats','3246696wtqXpk','issues','getApp','/transactions','clusterEventEmitter','maxOutgoingSubscriptions','List','</file:','external-storage','getSubscriptionInfo','MissingRemoteConnection','Buffered\x20chunks\x20are\x20too\x20large','ExternalStorageConnectionAlreadySubscribed','floor','checkAudioVolume','isProduction','searchOnPerplexity','mistlet-capacity-report-not-set','senderStreams','User\x20not\x20signed\x20in','sendBid','vector-database-already-exists','.txt','senderPreviousBytes','errorDetails','crewdle-sdk-stg.firebaseapp.com','listenerUnsubscriber','getAudioVideoDelay','Channel\x20\x27','Cannot\x20unpublish\x20object\x20at\x20','Cannot\x20publish\x20folder:\x20','No\x20start\x20block\x20found','ready','System','receiver-on-message','Amplify','val','GenerativeAIContextJobFailed','statsCollection','removeSubscriptionsForNode','concat','SubscriptionRequestNoAnswer','previousTimestamp','arrayBuffer','getReader','createBatch','.jsx','tables','remediationManager','completeSync','timeReceiving','Found\x20','\x0a\x20===\x20Current\x20MMR\x20Root','Invalid\x20table\x20name\x20\x27','subscription-request-failed','video','getMinConnections','Knowledge','InvalidPublisher','functions','key-value-database-creation-failed','createExternalStorageConnection','workflow-invalid-block-type','handleAnswer','isSync','ObjectStoreDoesNotExist','88fhZuHD','21a9d78dee97f487b','Key-Value\x20Database\x20-\x20Sync\x20Completed','getGenerativeAIWorkers','\x27\x20in\x20table\x20\x27','KeyValueDatabaseSyncRequired','connection-buffer-not-empty','Connected','readyResolve','Search','targetId','authenticateUser','Sending\x20\x27','Default','JobWorker:\x20Received\x20job','OutgoingSubscription','debounceReady','cluster-leave','openKeyValueDatabase','authContext','removeNode','Text\x20is\x20required','Invalid\x20value.\x20Must\x20be\x20an\x20object.','LoadSkillFunction','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','5664843ObzWuD','framerate','removeJobWorker','chunk-splitter','Key-value\x20database\x20peak\x20not\x20found.','disconnected','retryQueue','function','setEncodingParameters','listener','content-publish-media','CloseMediaStream','tools','database','ExternalStorageStats','getPriority','Invalid\x20JSON:','removeSubscription','clockSkew','sendChunked','GenerativeAIContextDoesNotExist','>\x0a\x0a','transaction','RemoteRemove','getHash','generative-ai-context-already-exists','delete','outgoing-stream-no-topic','WorkflowDoesNotExist','job-worker-already-exists','handleSubscriptionNeedMediaStream','outgoingManager','setReceiverTimestamp','blocks','LoadKnowledgeFunction','file-ingest','getContent','getKeyValueDatabases','InternalSDKError','true','emit','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','graphDatabases','Receiving\x20\x27','job-dispatcher-already-exists','loadFromDisk','retryLimit','key-value-database-table-not-found','nodeKey','mmrRoot','IngestTrace','getGrammar','Buffering\x20event','detectLocalIssues','handleNodeJoin','vector-database-missing-connector','connectionTimeout','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','enumerateDevices','missing-incoming-connection','setDurationTime','GraphSearch','InvalidAccess','signalingServer','clearWaitAnswer','registerSource','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','handleSubscriptionUnsubscribeMediaStream','getMaxDistance','queueLength','setUpgradeTimeout','getRemoteId','RemoteAdd','TextGeneration','notifyCluster','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf'];a0_0x3fc2=function(){return _0x4229ec;};return a0_0x3fc2();}