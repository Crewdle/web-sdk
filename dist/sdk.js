function a0_0x3a55(){const _0x408f9d=['ExecuteCode','key-value-database-invalid-value','file.content','processLocalReport','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','getContext','https://api.crewdle.ai','Receiving\x20\x27','Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','getResolutionScale','system-stats','debounceReadyTimeout','InitialPrompt','generic-agent','removeRemoteStreamSubscription','score','observe','::￿','createSenderConnection','object-storage','close','Invalid\x20workflow\x20block\x20type.','Error\x20writing\x20chunk\x20to\x20stream','workflowId','where','getConnections','phi-4-14b','map','JobWorkerAlreadyExists','clearSubscriptionRequestTimeout','prompt_tokens','Search','isConnected','Data\x20collection\x20does\x20not\x20exist.','ObjectStoreCannotWriteTransaction','RelationExtractor','rejectReady','CloseJobWorker','Wait','handleFileSync','object-store-invalid-state','\x20must\x20be\x20a\x20valid\x20JSON\x20string','getStatus','logger','capacityReporter','providerListener','AgentSkill','addVideoTrack','GenerativeAIRagType','Missing\x20RAG\x20API\x20key','agentConfig','\x20is\x20required','KeyValueDatabasePeakNotFound','agent-config-changed','every','ChunkSplitter','trim','PeerConnection','ObjectStoreAlreadySubscribed','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','random','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','listener','handleContentSubscribeMediaStream','getDate','Default','Everyone\x20','bytesSent','Object\x20store\x20is\x20not\x20in\x20sync','unregisterPublisherListener','getOrResetPendingFileTimeout','RoundTripTime','addMessage','filesSynced','Data\x20Sent','client','collection-create','SystemTopic\x20publish','total','handleSuccess','Error\x20searching','Low','getEngineType','handleContentUnpublishMediaStream','index','sendTransactionsValue','isSyncing','writes','Node\x20\x27','sonar-pro','keyValueDatabaseConnector','type','onHandshakeStateChange','resolutionScale','.cpp','Reranker','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','@root','workflow-does-not-exist','problem','manageAncestor','GraphDatabaseMissingConnector','Pinecone','firstValueFrom','claude-3-5-haiku-latest','Missing\x20search\x20API\x20key','joinedAt','\x20sending\x20attempt\x20','ConnectionState','processContentAvailable','options','__esModule','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','storageType','agent','handshakeDebounce','https://crewdle-sdk-default-rtdb.firebaseio.com','Missing\x20remote\x20node\x20or\x20rank','1180840DSnpab','addDoc','Agent\x20output\x20is\x20not\x20a\x20string','MistletCapacityReportNotSet','currentFrames','I\x20have\x20finished\x20executing\x20my\x20task.','hasBufferedData','dt_volatility','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','SHA-1','getOwnerId','buildInitialMMR','Optimization','setForDeletion','AI\x20Worker\x20already\x20exists','isNeedRestart','ObjectStoreNotSynced','setupTrackEndedListeners','SubscriptionRequestFailed','No\x20global\x20object\x20found','connection-state','getMediaSubscription','document-agent','maxOutgoingSubscriptions','connection-invalid-data-event','internalContext','handleLocalTrackFailure','OutgoingMediaStreamNoTopic','floor','setEncodingParameters','gpt-4.1','validateKey','removeExternalStorageConnection','Answer','Error\x20closing\x20writable\x20stream','GraphDatabaseCreationFailed','return\x20this','publishLocalDynamicMediaStream','internalProcessJob','subscription','entities','send','processSenderReport','\x20failed.\x20Retrying...','\x20new\x20transactions','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','setAnswer','text-embedding-3-large','JobWorkerInvalidType','Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','subscription-request-does-not-exist','Vector','registerDestination','Boolean','maxTokens','encode','JobQueueService:\x20Error\x20running\x20job','previousTimestamp','Attempt\x20','Support:\x20','loggingConnectors','Waiting','request-file-write','getSettings','getShareableStream','Remediation','node-invalid-type','getDisplayMedia','key-value-database-not-open','video','unsubscribeHandler','evaluateBidsAndAttributeJob','searchOnPerplexity','getRemoteConnections','findNewMediaSubscription','ExternalStorageConnectionDoesNotExist','checkMediaRecording','getConfigs','isAvailable','connectionManager','bufferedAmount','crewdle-sdk.appspot.com','cluster-leave','deleteTransactionsForTable','Copywriter\x20Agent','incomingTopic','disconnectCallback','setRemoteConnections','generative-ai-context-job-missing-thread-id','createMediaStreamSource','trackChanges','GenerativeAIWorker:\x20FileDelete\x20failed','subtle','secheduleTime','handleNodeJoinNeedPublishedStream','Account','publishTransaction','Error\x20querying\x20file','crewdle-sdk-stg.appspot.com','MediaStream','reads','onDataChannel','registerRemoteNode','Jitter','isProduction','joinedClusters','JobWorker:\x20Sending\x20job\x20partial\x20result','compileStats','getApp','sendWithRetry','outbound-rtp','handleFolderCreate','vectorDatabaseConnector','DataStream','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','orderByKey','KeyValueDatabaseTransactionTableNotInitialized','ragConnector','registeredListeners','No\x20connector\x20found\x20for\x20model','trackKinds','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','subscriptionRequestTimeouts','getSubscriptionLabel','hash','Cannot\x20find\x20External\x20Storage\x20connection:\x20','connectionStateListener','getVectorDatabases','Local\x20stream\x20does\x20not\x20exist.','PubSub','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','Invalid\x20key\x20\x27','crewdle-sdk','add','streamId','/capacities','senderConnection','peaks','async','topics','processReceivedTransactions','description','registerCluster','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','Archival\x20Search\x20Agent','openGenerativeAIWorker','graphService','Content','12523137eGPFKk','processJob','Ingest','removeSubscription','gpt-4.1-mini','getDataCollection','nlpLibraryConnector','notifyObjectStoreOfNodeJoin','Remove','jobObservers','output','from','OutgoingSubscription','Error\x20closing\x20trace','localId','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','graph-database-missing-connector','handleRequestPayload','ExternalStorageConnection\x20not\x20found','objectStores','validateValue','startIndex','Invalid\x20index\x20in\x20table\x20\x27','replaceTrack','startNoThrottlingHack','RemoteMediaStreamAlreadyExists','isEqual','syncTransactionsWritten','Workflow\x20does\x20not\x20exist.','unsubscribe','DatabaseEvent','relation','NodeNotAuthenticated','Transaction','connectAgent','getGenerativeAIContextsStandalone','Conditional\x20Router','logInitialMMR','Completed','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','ObjectStoreNameNotString','form-skill-set-answer','onDisconnect','NodeType','notifyClusterNodeUpdate','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','mode','long','propagate','shouldProcessTransaction','answers','GraphDatabaseAlreadyExists','publishNodeJoin','InvalidSubscription','unregisterDestination','batchQueue','Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string','receiver','sender','CloseGraphDatabase','noun','lastClockUpdate','ExternalStorageInvalidPath','ConnectionNoRetryQueue','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','Recording','prompt','getRemoteNode','eventTarget','PubSubTopic\x20onMessage','iceConnectionState\x20failed','unsubscribeTrackEndedListener','GraphDatabase','feature-not-enabled','external-storage-connection-does-not-exist','KeyValueDatabaseDoesNotExist','currentDistance','PartialResult','.crewdle-pending','channel','getGenerativeAIWorkers','GenerativeAIContextJobTimeout','organizationId','\x20Stream\x20final\x20response','GenerativeAIWorkerAlreadyExists','frameWidth','handleSubscriptionNeedMediaStream','Generative\x20AI\x20context\x20job\x20timeout.','.djt','Node\x20does\x20not\x20exist.','Embeddings','ObjectStore','tools','KeyValueDatabaseContentAvailable','arrayBuffer','\x20already\x20exists','concat','direction','inputType','handleMissingSenders','Move','/vector_stores/','firebase-connect','limitToFirst','logLevel','senderPreviousTimestamp',',\x20Total\x20Nodes:','getRoot','toLowerCase','removeRemoteNode','subscribe','groupId','FormSkill','jitter','getWorkflowExternalStorageConnections','createJobDispatcher','minThreshold','chunks','AudioContext','stopConnection','>\x0a\x0a','support','heartbeatUnsubscriber','update','DataChannel\x20is\x20not\x20open.','enabledChannels','AppSync\x20subscribe','Before\x20Synchronization','queryParameters','JobDispatcher:\x20Received\x20job','text/event-stream','Data','subscriptionManager','Stream\x20already\x20exists','batchSize','parameters','publishSystemMessage','graphDatabaseConnector','messageListeners','strategizing-agent','choices','ExternalStorageUpload','SubscriptionRequestDoesNotExist','Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20user’s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20—\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','PubSubTopic\x20not\x20found','packetsReceived','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','workflow','October\x202023','initialPrompt','isOpened','unshift','pool','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','getCapacityReport','unregisterCluster','true','clear','commitLevel','JobDispatcherDoesNotExist','DeviceConfig','retry','Shared','Document\x20Agent','WaitFalse','14085YYVrzd','Interviewer\x20Agent','processContentAvailable\x20-\x20Peak\x20comparison:','Get','updateDebounce','MissingSystemTopic','checkExistingPendingFileContent','job-worker-invalid-type','setReportCapacity','systemTopic','pathName','KeyValueDatabaseNotOpen','appendTransactionAndUpdateHashMap','\x20Process\x20inference\x20final\x20response','handleNodeSystemEvents','debounceStats','dispatchEvent','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','toFixed','getLastUpdated','av_delay','VectorDatabaseNameNotString','GenerativeAIEngineType','output_tokens','Query\x20must\x20refer\x20to\x20the\x20file\x20table','newPath','sendFile','systemMessages','graphql','GenerativeAIModelOutputType','InvalidSubscriber','content-unpublish-media','key-value-database-name-not-string','sdk-internal-error:\x20','body','publishSyncCompletedAfterWrites','pendingFilesRename','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','Problem','GenerativeAIContextJobFailed','onCandidate','bufferedChunks','knowledgeCutoffDate','Today\x20Date:\x20','failJob','maxBitrate','batch','invalid-data-chanel','dataTopics','realtime-session-create','issues','getTrackFromParam','Invalid\x20peer\x20connection\x20event\x20destination.','Invalid\x20query','Job\x20service\x20observer\x20not\x20found.','standalone','WorkflowTool','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','No\x20file\x20content\x20found','has','createVectorDatabase','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','play','bufferedEvents','competitive-agent','debug','supportsContentType','senderStreams','statsReport','remoteId','isOffer','trackListeners','nodes','JobDispatcherJobExists','subscription-request-no-answer','getWorkflow','Receiver\x20connection\x20is\x20not\x20initialized.','remove','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','results','Upload','maxFramerate','aiSearchApiKey','chunk-splitter','utf8','handleSubscribeMediaStream','Failed\x20to\x20get\x20file','log','fetchUrl','sdkValidateAccess','tableUnsubscriber','maxFps','functionsRegion','app','readyDebounce','timeReceiving','resetConnection','pub-sub-topic-already-subscribed','AI\x20worker\x20creation\x20failed.','remoteNodes','/objectstores/','onConfigurationChange','bandwidth.bitrate','transactionTable','nodeKey','hasRemoteNode','Context','6hmZEii','loop','\x20received\x20result:','.go','/search','Disconnect','clearWaitAnswer','openJobWorker','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','ExternalStorageNameNotString','incrementVersion','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','urls','Execute\x20skill\x20','publishLocalMediaStream','WebRTCBrowserPeerConnectionConnector','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','resizeHandler','JobStatus','getResolution','sendRequest','DataChannel\x20is\x20not\x20initialized.','KeyValueDatabaseInvalidLayout','getRemoteId','handleOptimizationConnectionSuccess','createLocalMediaStream','connector','database','accessToken','batchTimeout','KeyValueDatabaseTableNameReserved','Router','KeyValueDatabaseCreationFailed','replace','overlap','Skill','join','processInboundReports','removeObjectStore','NodeAlreadyExist','executeJavascriptCodeSnippet','Model\x20not\x20found','getDataLogged','VectorDatabaseCreationFailed','currentBatch','UnpublishMediaStream','decode','generative-ai-context-job-already-consumed','hasMessage','request-accepted','outgoingTopic','Request','Error\x20fetching\x20URL','vector-database-missing-connector','developers/','available','Hub','loadEnabledChannels','Signaling','getDataBucketIds','subscriptions','QueryFile','code','blocks','All','NodeTypeRequired','/nodes','getIsLoaded','detectStreamIssues','lastExecuted','Error\x20stringifying\x20object','getEntities','Invalid\x20object\x20store\x20state.','onGatheringStateChange','RemoteConnectionExists','WebRTC','sendFileRequestPayload','crewdle-sdk.firebaseapp.com','OPFSObjectStoreConnector','Cannot\x20publish\x20folder:\x20','CloseGenerativeAIContext','Missing\x20transaction\x20id','endpointMethod','developers','lastRemediations','isSync','remainingTracks','collectTransactionsFromNode','Key-value\x20database\x20transaction\x20value\x20not\x20set.','engineType','RequestFileSync','isPartialResultResponse','getGenerativeAIContexts','Mistlet\x20capacity\x20report\x20not\x20set.','Key-value\x20database\x20creation\x20failed.','Cannot\x20get\x20file:\x20','queryOrPrompt','readyResolve','exists','processPendingSyncTransactions','key-value-database-invalid-query','isRunning','Remote\x20stream\x20does\x20not\x20exist.','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','Error\x20encountered\x20while\x20opening\x20database','setTimestamp','aiSearchConnector','Valid\x20layout','Missing\x20external\x20storage\x20connector','getDistance','connection-buffer-not-empty','page','queueLength','internal','messageBuffer','ObjectStorage','ApiKeyMissing','messages','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','processBatch','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','warning','splitParts','remediationManager','.pl','Invalid\x20publisher.','UnsubscribeMediaStream','startTracing','PubSubTopicDoesNotExist','processOutboundReports','RAG\x20connector\x20is\x20not\x20available','retrieveBlocks','Write\x20text\x20data\x20to\x20a\x20file.','openaiApiKey','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','logSupport','Memory\x20Usage\x20at\x20','Synced','initialize','discoveryUnsubscriber','topic','node','/resources/generative-ai-collection/items','\x27\x20payload:','inputTokens','Unknown\x20skill\x20type','size','sonar-deep-research','tail','ObjectStoreDoesNotExist','/stats','hasTable','recomputeRoot','\x20-\x20','openGraphDatabase','JobDispatcherObserverNotFound','suspended','ObjectKind','FormGetQuestion','generative-ai-context-already-exists','createDataChannel','ModelText','st_volatility','collectSendersStats','File','IDBDatabaseConnector','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','AppSync\x20publish','table','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','SearchGoogle','increment','videoHeight','Local\x20node\x20rank\x20is\x20not\x20set','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','clearRestartTimeout','sonar','receiverBitrate','.tpl','getNumberOutgoingSubscriptions','invalid-subscription','candidate','Receiver','filename','URL\x20is\x20required','source','\x20not\x20supported','initializeApp','evaluateBids','url','object-store-invalid-payload','\x20ms\x0a','relations','getAudioTracks','DTVolatility','onUnregisterPublisher','discoveryService','lastUpdated','removeEventListener','Folder','canRestartHandshake','NodeManager\x20-\x20ConnectionSuccess','Text\x20is\x20required','deleteObject','computeHash','WebScraperRaw','functions','Missing\x20graph\x20database\x20connector','logEvent','local-stream-does-not-exist','Queued','May\x202024','debounceRebuildMMR','.jinja2','external-storage-connection-already-subscribed','Agent','handleError','updateLastUpdated','retryQueues','setRank','warn','packetsSent','LocalMediaStreamTrackFail','handleContentSystemEvents','connectionTimeout','/embeddings','No\x20connections\x20available\x20to\x20send\x20message','PeerConnectionInvalidDestination','required','senderPreviousBytes','isMediaDestination','query','subscribeToJobs','handleFileWrite','sendBid','pendingHandshakeCandidates','PubSubTopicAlreadyExists','Job\x20worker\x20creation\x20failed.','packetsLost','sonar-reasoning-pro','nodesConnected','enumerateDevices','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','Method\x20not\x20supported','outgoingManager','RequestFileWrite','\x0a\x20\x20===\x20Total\x20Nodes:\x20','\x20with\x20','node-does-not-exist','currentTimestamp','MediaStream\x20feature\x20not\x20enabled','processJobStream','external-storage-name-not-string','responseTimeout','transactionHashMap','bandwidth.jitter','removeTrack','\x20must\x20be\x20a\x20string','reportMetric','propn','accumulateResult','Internal\x20error:\x20','jobType','Node\x20type\x20is\x20required','handleDetectionSystemEvents','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','getCurrentVersion','Send\x20request','createExternalStorageConnection','claude-3-7-sonnet-latest','onDisconnectHandler','Invalid\x20data\x20channel.','AI\x20Search\x20connector\x20not\x20set','mediaStream','startsWith','JobWorker:\x20Sending\x20job\x20bid','downgrade','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','checkScreenSharing','transaction','completeSync','ObjectStoreStats','vectorDatabases','\x20finalized.','Received\x20track','currentVersion','set','calculateSize','changesUnsubscriber','llama-3.2-3b','toStringTag','jobs',':\x20Object\x20store\x20is\x20not\x20in\x20sync','High','operations','status','ConnectionNotinitialized','collectionId','Connected','models','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','mediaUnsubscribers','checkDeviceConfig','memoryUsage','dataStores','parseDataCollectionBlocks','1:519415702791:web:5dd39042f881cfde3251a2','fetchContentFromUrl','From\x20','clearHeartbeat','canvas','findIndex','.scala','RequestAccepted','previous','Syncing','answerContentAvailable','notifyObjectStoreOfNodeLeave','openKeyValueDatabase','loadFromDisk','authenticateUser','addReservedTables','removeTopic','.rb','handleFileRequest','rating','traceLevel','claude-3-opus-latest','LocalMediaStreamAlreadyExists','setDoc','removeIncomingSubscription','Debug','job-worker-does-not-exist','ragConnectors','commit','createGenerativeAIContextStandalone','getSimilarity','removeTrackListeners','FormSkillSubmitForm','data-collection-does-not-exist','key-value-database-transaction-value-not-set','orderBy','getToolName','gatheringState','fileSendingMap','clearSyncTimeout','query-helper-invalid-argument','PayloadAction','requestSubscriptionAction','isWhereValues','OpenAI','unregisterRemoteNode','isLoaded','oncloseTimeout','.dart','No\x20RAG\x20connector\x20available','debounceReady','createGenerativeAIContext','tableName','clusterId','decodeJWT','addNode','handleContentUpdateMediaStream','object-store-not-synced','wait','CloseObjectStoreBucket','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','result','featureSupport','RemoteRemove','getDocs','CanProvideMediaStream','invalid-publisher','generative-ai-label-conflict','GraphDatabaseNameNotString','inbound-rtp','NodeJoin','attributes','globalObject','left','supported','More\x20content\x20available\x20on\x20page\x20','totalNodes','openTrace','Remote\x20MediaStream\x20already\x20exists','ExecuteCustomSkill','JobDispatcherAlreadyExists','isJobRequest','crewdle-sdk-logging-','RestartNeedMediaStream','getSTVolatility','clusters/','codes','rtt','error','addEventListener','Model','workflow-tool','SentenceSplitter','checksum','Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','isFailedResponse','upgradeTimeout','loggingCycle','captureStream','.kt','ConnectionNotConnected','sequence','An\x20error\x20occurred','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','framesEncoded','archival-search','compareTransactions','setRemoteNode','_isReady','appsync-connect-fail','ccc','answerJoin','sourceId','Bitrate','timeSending','\x20Fallback\x20model','clearWaitSuccess','orchestrator-close','System','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','setPriority','priority','Database\x20not\x20open','Stats:\x20report','Store\x20already\x20exists','getSentences','\x20attributed\x20to\x20','createConnection','Generative\x20AI\x20context\x20creation\x20failed.','externalStorageConnections','getCoresFromCapacityReport','question','RetrieveTrace','Online','handleOffer','job-dispatcher-invalid-job-type','NodeUpdate','connecting','providerId','JobDispatcherJobNotFound','getTable','Unsupported\x20job\x20type','addEdge','Job','handleUnpublishMediaStream','connectionType','Generative\x20AI\x20Context\x20does\x20not\x20exist','\x20attempts:','processTransactionPayload','Logging\x20trace','getMaxConnections','AppSync\x20connection\x20not\x20ready','getSubscriptionInfo','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','min','Done','nextNodeId','getClosestNodes','GraphDatabaseDoesNotExist','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','Buffering\x20event','addTrack','key-value-database-transaction-table-not-initialized','Tool','contentManager','resolution','onTrack','retryQueue','-leave','ObjectStoreInvalidState','Pending','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','RemoteMediaStreamInvalidSubscriptionParams','sentence-splitter','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','cluster-already-joined','4283470eupNho','ObjectStore\x20not\x20found','processPendingHandshakeCandidates','Executing\x20custom\x20skill:\x20','debounceLogTimeout','fetch-url','dbKey','JobContext','Code','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','destination','\x20to\x20generate\x20a\x20response.','\x0a\x20===\x20Total\x20Data\x20Received:\x20','pipe','all','July\x202024','generative-ai-worker-missing-connector','tokens','Invalid\x20where\x20clause','internalId','remote-inbound-rtp','handleObjectDelete','setLoggingConnectors','createBuffer','Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','Connection\x20not\x20connected.','getDTVolatility','generative-ai-context-invalid-partial-result','getConnectionGroup','.hs','clearOncloseTimeout','GraphSearch','value','everyone','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','json','August\x202023','User\x20not\x20signed\x20in','getName','Sending\x20\x27','\x20with\x20\x27','Sync\x20completed','sourceVideo','job-dispatcher-observer-not-found','timePerFrame','receiverUnsubscribers','Number','closeSubscription','aws','getPacketsLostPerc','Detection','Human','Internal\x20event\x20\x27','mistlet-capacity-report-not-set','DataCollection','vector-database-creation-failed','publishFolder','Job\x20with\x20id\x20','en-US','collectReceiversStats','JobWorker:\x20Received\x20job\x20request','Core','getRank','addProblem','contextOutputVariable','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','disconnected','collection-delete','enabled','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','.jinja','string','bitrate','timestamp','sendStats','Writable\x20stream\x20is\x20missing','ObjectStoreInvalidPayload','manageBufferedChunks','Downgrade','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','setPendingFileSyncingPayload','key-value-database-peak-not-found','Received\x20','createBatchOperation','notifyClusterNodeJoin','counter','AI\x20Service\x20already\x20exists','Internal\x20SDK\x20Error:\x20','AudioVolume','Prompt\x20is\x20required','round','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','Sender\x20connection\x20is\x20not\x20initialized.','firestore','Search\x20connector\x20not\x20set','head','JobWorkerDoesNotExist','GenerativeAIContextJobInvalidType','Count','deleteRemoteNode','Missing\x20OpenAI\x20API\x20key','logUsage','getTransactions','Handshake','Resolution','Audio','getTrack','completion_tokens','statsManager','Found\x20','Offer','JobType','createObjectStoreBucket','substring','ranges','key','reasoning','ExternalStorageConnectionAlreadySubscribed','optimizationLayers','external-storage-connectors-missing','StreamReport','.tcl','handleStatsSystemEvents','Received\x20event\x20on\x20cluster','Anthropic','getRemoteNodes','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','processList','connected','peer-connection-invalid-destination','MissingRemoteConnection','ExternalStorage','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','right','createAIJob','Logging\x20not\x20enabled\x20for\x20channel\x20','getPeakNode','getNextTargetRank','listChanges','removePubSubTopic','content','CrewdleConnectionGroup','job-dispatcher-job-not-found','getObjectStoreBucket','webgl','Problem\x20detected:\x20','Execute\x20the\x20workflow\x20','consumeBufferedEvents','orchestrator','CloseJobDispatcher','content-publish-media','Backgrounds','wait-false','setSubscriptionRequestTimeout','getEstimatedTimestamp','ner','entity-extractor','logRaw','initializeSystemTopic','queryFileConnector','handleProblem','GenerativeAIContextJobAlreadyConsumed','Knowledge\x20Cutoff\x20Date:\x20','stream','getAudioVideoDelay','setSenderTimestamp','checkSyncComplete','parseWorkflowDocument','handleObjectMove','writeTransaction\x20-\x20transaction\x20already\x20exists','performCalculation','parse','validation','token','buildTableEvent','Subject','filteredDestinationIds','handlePeerConnectionSystemEvents','cachedRoot','detectVideoIssues','148XWFtHx','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','SubscriptionRequestNoAnswer','Query\x20file\x20connector\x20not\x20set','Unknown\x20error\x20occurred\x20while\x20executing\x20workflow','errorDetails','getGraphDatabase','RemoteMediaStreamMissingProviderId','VectorDatabaseDoesNotExist','internalJob','Node\x20is\x20not\x20an\x20agent','clearRect','updated','pub-sub-topic-already-exists','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','learn-agent','graph-database-already-exists','jobDispatchers','ReadableStream\x20is\x20not\x20supported','@context.','clusterKey','createElement','\x27\x20is\x20not\x20ready','getDoc','getPriority','processDataChannelReport','distance','setVendorId','EntityExtractor','Reranker\x20block\x20is\x20missing\x20required\x20data','bind','ExternalStorageConnectorsMissing','gpt-4o-mini','handleJobAttribution','signOut','FROM\x20file','logMMRRebuild','destroy','createFolder','storage','childRemovedUnsubscriber','interval','clearUpgradeTimeout','searchOnGoogle','startBidResponseHandling','LoadKnowledgeFunction','NodeManager\x20-\x20NodeUpdate','audioContext','contextInputVariable','FormSubmitForm','application/octet-stream','handleTransactionPayload','signInWithCredential','CannotProvideMediaStream','google','getSupportedContentTypes','events','nodeManager','mmrRoot','handleSystemEvents','setBytes','indexOf','onRemoveTrack','list','.pptx','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','removeRemoteMediaStream','configs','Invalid\x20subscriber.','OptimizationConnectionSuccess','ownerId','fromEntries','authNode','not-resolved','data-stream','not-in','timeoutValue','apikeys/','debounceAppendLog','mute','VectorSearch','FormSkillGetQuestion','openJobDispatcher','Received\x20content\x20available\x20from\x20node','read','Error\x20executing\x20code','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','handleSubscriptionMediaStreamUnavailable','.sh','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20—\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20—\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','tracks','object-store-name-not-string','transactionQueue','Job\x20Worker\x20does\x20not\x20exist','openAIKey','RequestFile','kind','setScheduleTime','KeyValueDatabase\x20not\x20found','upload','clusters','setStatus','appsync-disconnect','key-value-database-does-not-exist','Base\x20Peer\x20Connection','CrewdleSenderConnection\x20createOffer','logConnectionState','pubSubTopics','handleSubscriptionSystemEvents','generative-ai-context-does-not-exist','SubscribeMediaStream','getInternalStreamId','getVectorDatabase','canProvideResolution','handleRemoteTrackFailure','model','handleNodeLeave','Error\x20opening\x20trace','JobWorker:\x20Sending\x20job\x20reject','jobPhase','Graph\x20database\x20creation\x20failed.','KeyValueDatabaseTableNotFound','subscription-request-in-progress','ClosePubSubTopic','LoggingService:\x20logging\x20enabled\x20for','getBitrate','notifyJoin','GenerativeAIInferenceToolType','bytesReceived','ExternalStorageStats','removeItem','videoWidth','logWaitTime','ConnectionBufferNotEmpty','Invalid\x20JSON:','ObjectStoreNotInSync','user-update','object-store-cannot-write-transaction','File\x20sending\x20interrupted','if-else-router','height','splice','mediaDevices','graph-database-does-not-exist','SubscriptionRequestInProgress','lastHeartbeat','topicLabel','getShareableStreamId','minResolutionScale','collection','closed','4153247zoeJAB','peer-connection','jobQueue','deleteFileChunks','Strategizing\x20Agent','RemoteAdd','outputType','authContext','handleNoAnswer','insert','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','21a9d78dee97f487b','/resources/generative-ai-workflow/items/','\x27:\x20missing\x20or\x20invalid\x20keyPath','.groovy','isReconnecting','version','user-join',',\x20Transactions:\x20','getJobObservable','Error\x20retrieving\x20context','graphDatabases','OfficeParser','context','Error\x20reading\x20file\x20chunk\x20after\x20','isNodeReady','removeJobWorker','listenerUnsubscribers','.clj','generative-ai-context-job-timeout','Subscribing\x20to\x20an\x20event:\x20on','Jobs','generativeAIWorkerConnectors','remediations','transactionsToAppend','temperature','VectorDatabaseAlreadyExists','Invalid\x20node\x20type','graph-database','startAt','hashNodes','sendPeakTransactions','publishMove','openVectorDatabase','job-dispatcher-job-exists','Parameter\x20','abs','Retrieve','expectedTransactions','workflow-invalid-block-type','closeTrace','request-file','checkWebRTC','currentBytes','text/csv','onConnectionStateChange','KeyValueDatabaseTableDoesNotExist','resolveReady','audioSource','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','title','bufferedAmountLowThreshold','getEnabledChannels','removeNode','Invalid\x20job\x20type','PubSubTopicNameNotString','buildQuery','TimePerFrame','coordinator-agent','endsWith','addRemoteConnection','forceLog','validateLayout','job-dispatcher-invalid-payload','RemoteMediaStreamTrackFail','ExecuteAgent','closeConnection','created','receiverConnection','unregisterSource','Cannot\x20publish\x20file:\x20','registerSource','Invalid\x20job\x20service\x20payload.','lastProcessRank','file-ingest','createCollection','undefined','ingestFile','hasOwnProperty','params','getToolDescription','removeGenerativeAIContext','sendAction','handleNeedRestart','file.type','createNewBatch','getRemoteMediaStream','/resources/generative-ai-workflow/items','firebaseUnsubscriber','handleContentUnsubscribeMediaStream','isPromiseResolved','text','Error','logStorage','connectionState','.xls','local-media-stream-track-fail','upgrade','missing-system-topic','checkBackgrounds','wait-true','setCurrentVersion','subscribedTracks','queryCollection','frames','relevance','KeyValueDatabaseIndexNotFound','Partial','origin','audio','/chat/completions','GenerativeAIContext','toLocaleDateString','Index','171zXfYGi','\x20does\x20not\x20exists','processServiceReport','getLocalNode','fallbackModel','applyRemediation','Subscription\x20request\x20failed.','removeRemoteConnection','\x20does\x20not\x20support\x20content\x20type\x20','node-already-exist','closeTopic','Error\x20parsing\x20JSON:','WriteFile','connection-no-retry-queue','handleUnsubscribeMediaStream','getQuestion','chooseAnswer','waitConnected','ScreenSharing','reset','callback','job-dispatcher-does-not-exist','disconnect','extendedRecipients','signaling','text-embedding-3-small','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','PubSubTopicAlreadySubscribed','getConnection','peakHeights','handleSubscriptionUnsubscribeMediaStream','logBatch','PubSubTopicStats','waitSuccess','createAnswer','setDurationTime','IncomingSubscription','KeyValueDatabaseRequestTransactionsValue','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','Search\x20in\x20data\x20collection\x20','getTableConnector','getDataCollections','fileConnector','Result','off','delete','addCluster','getPartsFromSubscription','pubsub','KeyValueDatabaseRequestPeakTransactions','createBatch','Processing\x20agent\x20block:\x20','getIdToken','exports','externalStorageConnectors','remote-connection-exists','AudioVideoDelay','Coordinator\x20Agent','getLayout','hashTransaction','if_else','.xml','FileDelete','claude-3-5-sonnet-latest','endpoint','transformations','connection-not-connected','contentRequestSent','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','GenerativeAITaskType','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','createOutgoingSubscription','Database\x20already\x20exists','Processing','handleAnswer','LocalReport','NeedRestart','destinationIds','snippet','removeJobDispatcher','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','collectStats','Missing\x20answerer\x20id\x20on\x20request\x20answer','transactionsToSync','embed','Unknown\x20error','receiverTotalMessages','remoteConnections','ragApiKey','isInternalLoggingConnector','prompts','getLocalMediaStream','vector','match','Medium','complete','Invalid\x20params','Amplify','.sql','hashPeakHashes','waitSendBuffer','subscriptionRequests','manageOptimization','isResultResponse','LoadSkillFunction','StorageEventType','clockSkew','getTransactionFromTableWriteEvent','isJobAttribution','Invalid\x20job\x20worker\x20type.','syncResolve','sort','.crewdle-layout','sendIceCandidates','No\x20parameters\x20provided','completed','PromptRating','ClusterAlreadyJoined','commitBatch','KeyValueDatabaseSyncRequired','accumulated','unregisterSystemSource','bodyParameters','authService','question-','handleCloseContent','.\x20Confirmation?\x20','Success','eventListener','form-skill','configure','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','api-key-missing','Update','answer-','stopTracing','agent-skill','document-parser','lastTransactionId','tool','catch','JobStream','IngestTrace','SenderPeerConnection\x20send','\x27\x20in\x20table\x20\x27','external-storage','clientStream','Key-Value\x20Database\x20-\x20Sync\x20Completed','ConnectionInvalidDataEvent','shift','questions','Add','FPS','uid','DocumentParser','Incoming','\x27\x20reserved','history','all-minilm-l12-v2','numeric','pendingFilesTransactions','KeyValueDatabaseNameNotString','successNotified','InvalidPublisher','grammar','handleDisconnect','isComputingMMR','publishNodeLeave','sendChunked','JobQueueService:\x20Job\x20completed','bufferEvent','Job\x20Dispatcher\x20does\x20not\x20exist','\x27\x20in\x20layout','LocalMediaStreamDoesNotExist','remediation','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','prototype','race','writeFile','senderTimeProcessing','connection','frameHeight','GenerativeAILabelConflict','Invalid\x20data\x20event.','ancestors','nodeId','\x20not\x20found.','sender-send-message','job-worker-already-exists','CrewdleConnection\x20handlePeerConnectionSystemEvents','outputTokenPrice','NodeInvalidType','getSubscribedTracks','mediaTopics','\x20answer','FramePerSecond','getMaxDistance','.php','detectLocalIssues','handleOnMessage','systemTopicUnsubscribe','getAvailableTrackKinds','JobWorker:\x20Handling\x20job\x20attribution','setParams','\x20failed.','maxResolution','observer','messagesReceived','retryCount','connections','internal-sdk-error','searchConnector','createGenerativeAIWorker','GenerativeAIContext\x20stream\x20error','logServiceEvent','pop','shouldEmit','Embed','key-value-database-table-does-not-exist','trackCallback','checkWebGL','cpu.time_per_frame','doc','Missing\x20index','FileMove','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','keys','account','validateQuery','Text','DataCollectionDoesNotExist','count','setLocalRank','form-skill-get-question','.cs','setOnTableWriteHandler','sonar-reasoning','Job\x20service\x20creation\x20failed.','receiverStreams','\x20transactions\x20from\x20node\x20','threadId','durationTime','openedTraces','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','onProviderChange','getAncestorIds','image','deleteFile','detection','addIssue','minConnections','.pug','CPUCycle','digest','messageUnsubscriber','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','isWhereBetween','JobDispatcherCreationFailed','VectorDatabaseMissingConnector','removeLocalMediaStream','committed','run','mmr','executeWorkflow','GenerativeAIContextInvalidPartialResult','detectAudioIssues','receiverPreviousBytes','openObjectStoreBucket','trend-spotter','chosenAnswers','isBidResponse','getGraphDatabases','streamLabel','getVideoTracks','Stats','isFeatureSupported','setDisplayName','appsync-close','format','GenerativeAIContextStats','Connection','path','setupRenderElement','timeoutCallback','SenderSendMessage','Dedicated','createPubSubTopic','processReports','totalDecodeTime','GenerativeAIWorkerModelSyncError','Connection\x20does\x20not\x20exist.','/resources/generative-ai-agent/items','action','FolderCreate','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','updatePropagationProperties','write-file','getPubSubTopic','FeatureNotEnabled','stats','openGenerativeAIContextStandalone','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','onClose','handleOutgoingSystemEvents','Cluster','outgoingStreams','hasTracks','addBidResponse','isInternalSDKConfigs','\x27\x20from\x20','.tsx','external-storage-connection-already-exists','usage','KeyValueDatabaseTransactionValueNotSet','PublishMediaStream','isSubscribed','gpt-4o','Trend\x20Spotter','tables','topK','region','chunk','Media','totalEncodeTime','setSinkId','setIsLoaded','Rating','minRelevance','isChannelEnabled','.jl','owner','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','combinePeaks','Logger.getInstance','openPubSubTopic','previousBytes','fileChunks','checkAudioOutput','drawImage','Error\x20executing\x20agent','\x20were\x20ready\x20in','retryCallback','moveObject','byteLength','unpublish','\x0a\x20===\x20Total\x20Time:\x20','createRemoteNode','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','remote-media-stream-already-exists','asc','processContentSynchronized','createIncomingSubscription','get','_ready','Cannot\x20unpublish\x20object\x20at\x20','onBufferedAmountLow','Outgoing','Failed','setUpgradeTimeout','search','connectorConstructor','getReceiverTotalBytes','next','AISearch','transactions','maps','GenerativeAIModelInputType','apiUrl','\x20with\x20response:','getSenderBitrate','out','NodeManager\x20-\x20NodeLeave','connectionConstructor','getBufferedAmount','Delete','setInternalId','internalProcessJobStream','executeQuery','setTransformations','getJob','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','SyncComplete','VectorDatabase\x20not\x20found','JobDispatcherInvalidJobType','ref','renderElement','fps','addPendingHandshakeCandidate','createLocalDynamicMediaStream','onNodeUpdate','getReport','getJobWorkers','.Total\x20pages\x20available:\x20','Disconnected','generativeAIWorkers','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','.java','MediaStreamUnavailable','custom-skill','GenerativeAIWorker:\x20CollectionDelete\x20failed','success','endpointUrl','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','setOnMessageHandler','Cannot\x20publish\x20move\x20operation:\x20','subject','start','SyncKeyValueDatabase\x20-\x20Ancestors\x20','deleteCollection','end','Node\x20type\x20is\x20invalid','max','Invalid\x20table\x20name\x20\x27','framesDecoded','width','\x20check\x20failed','executeAgent','.xlsx','KeyValueDatabaseInvalidValue','pendingSyncTransactions','POST','server','processRemoteInboundReport','push','RemoteMediaStreamDoesNotExist','links','SystemStats','transactionIds','joinCluster','waitAnswer','scheduleTime','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','CloseKeyValueDatabase','NodeTypeNotSupported','crewdleSDKEnableLogging','.cfg','Events','420235181083','UnsubscribeMediaStreamdiaStream','streams','Subscription','KeyValueDatabaseSendTransactions','appsync-connect','documentParserConnector','getInternalTrackParams','ObjectStoreInvalidSyncMessage','inference','knowledge','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','JobQueueService:\x20Running\x20job','ContentType','Object\x20store\x20connector\x20is\x20not\x20available','rate','addAudioTrack','getTransactionByHash','setTimeout','Subscription\x20request\x20does\x20not\x20exist.','FinalOutput','generativeAIContexts','web-scraper-raw','getKeyValueDatabases','keyPath','Node','gpu','limit','mediator','pow','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','getSenderTotalBytes','assign','InternalSDKError','queryFile','outputTokens','httpsCallable','Consuming\x20buffered\x20event','readyPromises','getRemoteMediaStreams','srcObject','debounceProcessRank','Missing\x20owner\x20node\x20or\x20rank','runJobQueue','eventEmitter','Channel\x20\x27','runTransaction','text/plain','getWorkflows','createReceiverConnection','load','signalingServer','November\x202024','validateAccess','interview-agent','saveToDisk','instance','Invalid\x20key:\x20','Bid','1.0.39.0','ObjectStoreInvalidPath','Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','/usages','anthropicApiKey','skipEncryption','getInstance','.ppt','Missing\x20AI\x20search\x20API\x20key','CloseVectorDatabase','ConnectionGroup','getEmail','handshakeCandidates','unregisterSubscriber','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','Database\x20does\x20not\x20exist','entries','generative-ai-worker-already-exists','setupStatsCollection','getPubSubTopics','ceil','Publish\x20the\x20transaction','cluster','blockId','blank-agent','packets','writeTransaction','onMessage','createPendingFileWrite','Entity','Missing\x20vector\x20database\x20connector','getPeaks','processRank','removeConnection','GenerativeAIContextCreationFailed','hosting','openExternalStorageConnection','debounceRebuildMMRWithTransaction','GenerativeAIWorker:\x20Opened','estimatedPlayoutTimestamp','Restart\x20NeedMediaStream','ExecuteWorkflow','onValue','bid','Crewdle','removeOutgoingSubscription','Upgrade','Code\x20is\x20required','.jsx','canAddCandidates','createSubscription','publishSyncCompleted','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','commitTrace','GraphDatabaseStats','buffer','.vue','agentId','data','isArray','instructions','listenUnsubscriber','frameTime','checkMediaStream','filter','query-file','WebScraper','request-file-sync','features','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','objectStoreConnector','queries','flatMap','addConnection','WordSplitter','AudioOutput','clientHeight','authenticateAgent','handleSubscriptionProvideMediaStream','updateDebounceTimeout','STVolatility','Rejected\x20answer','user','createOffer','externalStorages','values','Prompt','requestSubscription','stringify','indexes','Stream\x20does\x20not\x20exist','ingestBlocks','job-worker-creation-failed','getMediaStream','processInboundReport','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','NodeDoesNotExist','ObjectStorageBucket','slice','object-store-stream-does-not-exist','FileWrite','FormSetAnswer','.css','Issue\x20detected:\x20','statsReporting','Node\x20already\x20exists.','registerPublisher','previousFrames','SHA-256','Invalid\x20value.\x20Property\x20\x27','writeBatch','some','file-delete','addBatchOperation','vectors','jobWorkers','deletePendingFile','lastCapacityReport','framerate','uuid','setReceiverTimestamp','createJob','remoteUnsubscriber','connectionGroup','localMediaStreams','DataChannel\x20buffer\x20is\x20full.','listenerUnsubscriber','removeListener','split','graph-database-creation-failed','.swift','false','connect','User','files','cores','ExternalStorageConnectionAlreadyExists','JobWorker:\x20Sending\x20job\x20result','getSize','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','base64','WorkflowTrace','removeVectorDatabase','handleSubscriptionSubscribeMediaStream','GetContextResult','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','GenerativeAIWorkerCreationFailed','track','\x20completed.','listen','setInterval','addCandidate','KeyValueDatabaseStats','updateJob','join-cluster','syncedFileExists','auth','getFirestore','ObjectStoreAlreadyExists','targetId','Job\x20service\x20job\x20not\x20found.','registerSystemPublisher','api','receiverCurrentTimestamp','processTransactionsToComputeMMR','confirmSynchronization','arguments','length','Invalid\x20version\x20\x27','addRemoteNode','AiSearch','WorkflowDoesNotExist','boolean','audioDestination','logPropagateSystemEvent','senderBitrate','JobDispatcherInvalidPayload','FetchUrl','VectorDatabaseStats','Object\x20store\x20not\x20synced.','KeyValueDatabaseInvalidQuery','WebGL','getContent','layout','unregisterSystemPublisher','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','ObjectStorageUpload','NodeConnectionsUpdate','system','removeKeyValueDatabase','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','objectToArrayBuffer','Local\x20MediaStream\x20already\x20exists','Failed\x20to\x20send\x20job\x20','key-value-database-invalid-layout','removeGraphDatabase','reportCapacity','maxConnections','getConnectionDestinations','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','InputAudioStream','file-download','getToolParams','vector-database','arrayBufferToObject','message','rebuildMMR','PromptFunctionParamsType','startHeartbeat','handleNodeJoin','KeyValueDatabaseContentSynchronized','/jobs','Connection\x20does\x20not\x20exist','.ejs','Buffered\x20chunks\x20are\x20too\x20large','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','missing-incoming-connection','vendorId','searchInDataCollection','between','send\x20error\x20on\x20','ai-search','publishFile','searchApiKey','CREWDLE_WEB_SDK','setReceiverBytes','maxBpp','Invalid\x20credentials','processOutboundReport','objectRequests','cpu.cycle','Workflow\x20output\x20is\x20not\x20a\x20string','emit','debugEnabled','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','Execute\x20the\x20agent\x20','clusterEventEmitter','evaluatePartialJob','Error\x20resolving\x20readyPromises:','syncPendingFiles','JobWorker:\x20Tracing\x20not\x20implemented','vector-database-already-exists','object-store-invalid-sync-message','KeyValueDatabase','node-not-authenticated','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','cost','crewdleSDKLoggingChannels','answer','receiverTimeProcessing','syncTimeout','call','isWhereValue','DEBUG\x20-\x20','Remote\x20connection\x20already\x20exists.','Submit\x20the\x20form.','generative-ai-context-job-invalid-type','NeedMediaStream','FolderDelete','7576DuCizQ','receivers','.conf','Operations:','crewdle','input-audio-stream','Invalid\x20content\x20type','Warning','VectorDatabase','stopNoThrottlingHack','detectionManager','NodeLeave','checkAudioVolume','move','Info','find','label','onNodeDisconnect','clearConnectionTimeout','getAncestors','messagesSent','displayName','registerSubscriber','getContentType','PubSubTopic\x20publish','job-','ready','object','getExternalStorageConnection','publish','waitForArrayBufferSize','Pool','sampleRate','\x20to\x20send\x20dispatcherJob\x20','getProviderId','tableObserver','logSyncMetrics','function','logDataSent','handshakeState','/resources/agent/items/','startLoggingCycle','\x20after\x20','element','getAuth','connectionPool','time_per_frame','incomingManager','DataStream\x20onMessage','entity','delta','resolve','getLocalId','UpdateMediaStream','publishUserUpdate','Relation','removeTrackCallback','SenderPeerConnection.send','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','1.0.39','rootComputationPromise','.vb','getDatabase','getItem','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','name','number','keyValueDatabases','detail','evaluateProccessedJob','inputTokenPrice','discover','receiverCurrentBytes','invalid-access','open','setItem','isReady','FileStatus','sync','mergeParts','TextGeneration','thread-','CloseExternalStorageConnection','publishSyncCompletedAfterWrites\x20-\x20','statsCollection','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','iceServers','setConnectionType','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','dataUnsubscribers','trace','transactionService','getJobs','tableLayout','getAgents','contentType','notifyCluster','unsubscribeListener','2-digit','recipients','OutputAudioStream','No\x20start\x20block\x20found','processReport','RemoteRemediation','isIceCandidate','headers','GenerativeAIContextDoesNotExist','Opened\x20generative\x20AI\x20worker','getExternalStorageConnections','getRoundTripTime','Attribution','LocalMediaStreamNoAudioContext','InvalidDataChannel','KeyValueDatabaseAlreadyExists','GenerativeAIRatingStatus','cleanOldSubscription','text/','CrewdleReceiverConnection\x20ontrack','getTime','.md','Restart','feedback-agent','getTracks','application/json','calculateArrayBufferSize','JobWorkerCreationFailed','startTime','component','syncTransactions','searchEngineId','List','/transactions','data:\x20[DONE]\x0a\x0a','/jobs/','collection-query','remote-media-stream-invalid-subscription-params','object-store-already-subscribed','FS\x20connector\x20is\x20not\x20available','\x20writes\x20from\x20','getHash','setupListeners','toString','handleNodeDisconnect','canChooseAnswer','openGenerativeAIContext','contentSize','pubsubTopics','roundTripTime','chunksReceived','AITrace','syncKeyValueDatabase','forEach','.crewdle-transactions','trackEndedListeners','Invalid\x20object\x20store\x20sync\x20message.','getTotalNodes','defineProperty','getOutgoingOptimizationConnections','\x0a\x20===\x20Wait\x20Time:\x20','maxThreshold','remoteMediaStreams','Support:\x20current\x20config','removeSubscriptionsForNode','receiverPreviousTimestamp','job-dispatcher-creation-failed','modelId','Data\x20Received','failed','getReceiverBitrate','dataChannel','/workflows/','createTopic','data-collection','checkAudioContext','disableIntervalHack','retryDelay','email','Llamacpp','listFiles','queues','dedicated','getMonth','Knowledge','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','node-type-not-supported','amd','answererId','Cannot\x20list\x20directory:\x20','form-skill-submit-form','\x20seconds','getJobDispatchers','word-splitter','onChildRemoved','CustomSkill','Sender','request','MediaStreamPriority','o3-mini','handleSubscriptionRestartNeedMediaStream','Offline','AppSync\x20client\x20not\x20ready','Query\x20is\x20required','gpt-4.1-nano','generateClient','.doc','restartTimeout','now','reject','Workflow','getQuery','syncContent','CloseMediaStream','systemMessagesReceived','sdkCreateToken','setupConnectionEvents','detectProblems','folder-create','Cluster\x20already\x20joined','cancel','Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','processReceiverReport','ended','createConstantSource','once','getDisplayName','rank','ModelVector','senders','submitForm','docs','feedback','handleNodeUpdate','key-value-database-already-exists','handleConnectionSuccess','senderTotalMessages','us-east-1','jobBids','\x0a\x20===\x20Synchronization\x20Time:\x20','\x20MB','1232295mjgaFO','GenerativeAIWorker:\x20Opening','maxDistance','setupStatsReporting','contentMediator','reduce','generative-ai-context-job-failed','summary-generator','setProviderId','updateUser','firebaseConfig','GenerativeAIWorkerMissingConnector','file-list','handleUpdateMediaStream','padStart','0\x20B','offset','embedding','setEmail','handleChunkMessage','serverTimestamp','Feedback\x20Agent','parentId','setOnDisconnectHandler','reranker','default','handlePublishMediaStream','shouldContinuePropagation','FormSkillSetAnswer','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','WaitTrue','appendTransaction','getTotalBytes','includes','IntermediateOutput','payloadType','getFunctions','Job\x20','input_tokens','val','String','WorkflowInvalidBlockType','SearchPerplexity','Cannot\x20unpublish\x20object:\x20','getMilliseconds','Early\x20return:\x20','handleRemediationSystemEvents','ReceiverOnMessage','bandwidth.rtt','leave','.erb','localNode','\x0a</','Database\x20Opened','\x20must\x20be\x20a\x20number','GenerativeAIContextAlreadyExists','jobId','issue','getBid','state','Accepted','senderCurrentBytes','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','DataStream\x20send','Rejected','isValidMediaSubscriptionParams','handleContentCloseMediaStream','getId','maxLayer','getPartsForSubscriptionLabel','onremovetrack','Error\x20fetching\x20context','getLocalMediaStreams','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','getLabel','availableTrackKinds','operator','instantiateTransactionTable','subscriptionRequestsQueue','clientWidth','Generative\x20AI\x20context\x20job\x20already\x20consumed.','getObjectStoreBuckets','media-stream','tool-call','getFullYear','copywriter-agent','getMinConnections','QueryBuilderInvalidArgument','verb','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','senderCurrentTimestamp','handleIceCandidates','write','messageCallback','createGraphDatabase','pendingFilesSyncing','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','crewdle-sdk-stg','stop','InvalidAccess','getConnectionType','Invalid\x20subscription.','remote-stream-does-not-exist','nodeUpdate','/nodes/','27YaBwMN','updateLastTransactionId','then','supports','getCurrentMaxLayer','Support','messageType','object-storage-upload','signInWithCustomToken','registerSystemSource','timesCalled','subscription-request-failed','onloadeddata','getReader','/developers/','findNextNodeId','Missing\x20AI\x20worker\x20connector','file','llama-3.1-8b'];a0_0x3a55=function(){return _0x408f9d;};return a0_0x3a55();}function a0_0x15bf(_0x5acd79,_0xe18861){const _0x3a55cb=a0_0x3a55();return a0_0x15bf=function(_0x15bf13,_0x347e4d){_0x15bf13=_0x15bf13-0xa1;let _0x133312=_0x3a55cb[_0x15bf13];return _0x133312;},a0_0x15bf(_0x5acd79,_0xe18861);}(function(_0x3b737b,_0x5a6315){const _0x38f2ca=a0_0x15bf,_0x158e0f=_0x3b737b();while(!![]){try{const _0xe641e6=parseInt(_0x38f2ca(0x4c7))/0x1*(parseInt(_0x38f2ca(0x7bd))/0x2)+-parseInt(_0x38f2ca(0xb2))/0x3*(parseInt(_0x38f2ca(0x3b4))/0x4)+parseInt(_0x38f2ca(0x8ac))/0x5+-parseInt(_0x38f2ca(0x11d))/0x6*(parseInt(_0x38f2ca(0x44b))/0x7)+-parseInt(_0x38f2ca(0x99f))/0x8*(parseInt(_0x38f2ca(0x915))/0x9)+-parseInt(_0x38f2ca(0x300))/0xa+parseInt(_0x38f2ca(0xa33))/0xb;if(_0xe641e6===_0x5a6315)break;else _0x158e0f['push'](_0x158e0f['shift']());}catch(_0x182d46){_0x158e0f['push'](_0x158e0f['shift']());}}}(a0_0x3a55,0x604ec),!function(_0x2648d2,_0x49f35d){const _0x513f62=a0_0x15bf;if(_0x513f62(0x7d8)==typeof exports&&_0x513f62(0x7d8)==typeof module)module['exports']=_0x49f35d();else{if(_0x513f62(0x7e2)==typeof define&&define[_0x513f62(0x876)])define([],_0x49f35d);else{var _0x461563=_0x49f35d();for(var _0x394688 in _0x461563)(_0x513f62(0x7d8)==typeof exports?exports:_0x2648d2)[_0x394688]=_0x461563[_0x394688];}}}(this,()=>((()=>{'use strict';const _0x52a325=a0_0x15bf;var _0x2b591c={0x14d:(_0x1c934e,_0x398701,_0x116a8c)=>{const _0x2ed5d9=a0_0x15bf;_0x116a8c['d'](_0x398701,{'O':()=>_0x5e8849});const _0x5e8849={'version':_0x2ed5d9(0x6b7),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x2ed5d9(0x6fd),'projectId':_0x2ed5d9(0x90d),'storageBucket':_0x2ed5d9(0xa01),'appId':_0x2ed5d9(0x250),'functionsRegion':'northamerica-northeast1'},'apiUrl':'https://api.stg.crewdle.ai','google':{'searchEngineId':_0x2ed5d9(0x456)},'aws':{'endpoint':_0x2ed5d9(0x128),'region':'us-east-1'}};},0x33b:(_0x4ed2ef,_0x7cc80f,_0x36d935)=>{_0x36d935['d'](_0x7cc80f,{'O':()=>_0x20ad22});const _0x20ad22={};},0x3e6:(_0x2fc1a8,_0x5c3f24,_0x128cff)=>{const _0x325be6=a0_0x15bf;_0x128cff['d'](_0x5c3f24,{'O':()=>_0x4f030f});const _0x4f030f={'version':_0x325be6(0x7f8),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x325be6(0x345),'authDomain':_0x325be6(0x16a),'databaseURL':_0x325be6(0x99d),'projectId':_0x325be6(0xa23),'storageBucket':_0x325be6(0x9f0),'messagingSenderId':_0x325be6(0x67c),'appId':'1:420235181083:web:4eff6062bd845cb0748cbe','measurementId':'G-F7W8KXRKQB'},'apiUrl':_0x325be6(0x92e),'aws':{'endpoint':_0x325be6(0x8c9),'region':_0x325be6(0x8a8)}};},0x20:(_0x1da1ec,_0x5091b5,_0x1d9b9a)=>{_0x1d9b9a['d'](_0x5091b5,{'O':()=>_0x4d87d0});const _0x4d87d0={};}},_0x427a81={};function _0x1d8812(_0x4ac242){const _0x1fbbc2=a0_0x15bf;var _0x3b94e9=_0x427a81[_0x4ac242];if(void 0x0!==_0x3b94e9)return _0x3b94e9[_0x1fbbc2(0x4fc)];var _0x57ac18=_0x427a81[_0x4ac242]={'exports':{}};return _0x2b591c[_0x4ac242](_0x57ac18,_0x57ac18['exports'],_0x1d8812),_0x57ac18[_0x1fbbc2(0x4fc)];}_0x1d8812['d']=(_0x10343d,_0x5e776f)=>{const _0x31ebf2=a0_0x15bf;for(var _0x4f925d in _0x5e776f)_0x1d8812['o'](_0x5e776f,_0x4f925d)&&!_0x1d8812['o'](_0x10343d,_0x4f925d)&&Object[_0x31ebf2(0x859)](_0x10343d,_0x4f925d,{'enumerable':!0x0,'get':_0x5e776f[_0x4f925d]});},_0x1d8812['g']=(function(){const _0x4b1d55=a0_0x15bf;if(_0x4b1d55(0x7d8)==typeof globalThis)return globalThis;try{return this||new Function(_0x4b1d55(0x9c3))();}catch(_0x1567d0){if('object'==typeof window)return window;}}()),_0x1d8812['o']=(_0x2075b6,_0x567d86)=>Object[_0x52a325(0x577)][_0x52a325(0x4a3)][_0x52a325(0x7b5)](_0x2075b6,_0x567d86),_0x1d8812['r']=_0x498807=>{const _0x2a625e=_0x52a325;_0x2a625e(0x4a1)!=typeof Symbol&&Symbol[_0x2a625e(0x240)]&&Object[_0x2a625e(0x859)](_0x498807,Symbol[_0x2a625e(0x240)],{'value':'Module'}),Object[_0x2a625e(0x859)](_0x498807,_0x2a625e(0x997),{'value':!0x0});};var _0x433410,_0x380533,_0x422206,_0x247f32={};_0x1d8812['r'](_0x247f32),_0x1d8812['d'](_0x247f32,{'KeyValueDatabase':()=>_0x2485e2,'LayoutBuilder':()=>_0x29936e,'LoggingChannels':()=>_0x422206,'QueryBuilder':()=>_0x1d23c4,'SDK':()=>_0x401aa9,'SDKClientErrorCodes':()=>_0x433410,'TableBuilder':()=>_0x5af366,'logger':()=>_0x2d5d47}),function(_0x371af6){const _0x3669a6=_0x52a325;_0x371af6[_0x3669a6(0x191)]=_0x3669a6(0x54b),_0x371af6['ConnectionBufferNotEmpty']=_0x3669a6(0x18b),_0x371af6[_0x3669a6(0x53c)]=_0x3669a6(0x2ff),_0x371af6[_0x3669a6(0x742)]=_0x3669a6(0x5fe),_0x371af6['ExternalStorageConnectionAlreadySubscribed']=_0x3669a6(0x1f3),_0x371af6['ExternalStorageConnectionDoesNotExist']=_0x3669a6(0xa7d),_0x371af6['ExternalStorageConnectorsMissing']=_0x3669a6(0x377),_0x371af6['ExternalStorageInvalidPath']='external-storage-invalid-path',_0x371af6['ExternalStorageNameNotString']=_0x3669a6(0x219),_0x371af6[_0x3669a6(0x5f1)]=_0x3669a6(0xa7c),_0x371af6[_0x3669a6(0x8e3)]=_0x3669a6(0x1bc),_0x371af6[_0x3669a6(0x827)]=_0x3669a6(0x421),_0x371af6['GenerativeAIContextJobMissingThreadId']=_0x3669a6(0x9f7),_0x371af6[_0x3669a6(0x361)]=_0x3669a6(0x7ba),_0x371af6[_0x3669a6(0x57d)]=_0x3669a6(0x293),_0x371af6[_0x3669a6(0xa87)]=_0x3669a6(0x6c9),_0x371af6[_0x3669a6(0x8b7)]=_0x3669a6(0x310),_0x371af6[_0x3669a6(0x5e8)]='generative-ai-worker-model-sync-error',_0x371af6['GraphDatabaseAlreadyExists']=_0x3669a6(0x3c4),_0x371af6[_0x3669a6(0x2ee)]=_0x3669a6(0x443),_0x371af6[_0x3669a6(0x98d)]=_0x3669a6(0xa43),_0x371af6[_0x3669a6(0x294)]='graph-database-name-not-string',_0x371af6[_0x3669a6(0x2a0)]='job-dispatcher-already-exists',_0x371af6['JobDispatcherDoesNotExist']=_0x3669a6(0x4dc),_0x371af6['JobDispatcherJobExists']=_0x3669a6(0x477),_0x371af6['JobDispatcherJobNotFound']=_0x3669a6(0x38e),_0x371af6[_0x3669a6(0x646)]=_0x3669a6(0x2d7),_0x371af6[_0x3669a6(0x944)]=_0x3669a6(0x583),_0x371af6[_0x3669a6(0x360)]=_0x3669a6(0x26a),_0x371af6[_0x3669a6(0x758)]='object-store-already-exists',_0x371af6[_0x3669a6(0x962)]=_0x3669a6(0x845),_0x371af6[_0x3669a6(0x1b2)]=_0x3669a6(0x71d),_0x371af6[_0x3669a6(0xa5b)]=_0x3669a6(0x40f),_0x371af6[_0x3669a6(0x34c)]=_0x3669a6(0x1db),_0x371af6[_0x3669a6(0x6b8)]='object-store-invalid-path',_0x371af6[_0x3669a6(0x43b)]='object-store-not-in-sync',_0x371af6[_0x3669a6(0x69d)]=_0x3669a6(0x599),_0x371af6[_0x3669a6(0x90f)]=_0x3669a6(0x806),_0x371af6[_0x3669a6(0x82e)]=_0x3669a6(0x8a5),_0x371af6['KeyValueDatabaseDoesNotExist']=_0x3669a6(0x41b),_0x371af6[_0x3669a6(0x4bf)]='key-value-database-index-not-found',_0x371af6['KeyValueDatabaseInvalidQuery']=_0x3669a6(0x181),_0x371af6[_0x3669a6(0x669)]=_0x3669a6(0x929),_0x371af6[_0x3669a6(0x568)]=_0x3669a6(0xd2),_0x371af6[_0x3669a6(0xbd)]=_0x3669a6(0x9e3),_0x371af6[_0x3669a6(0x13b)]='key-value-database-table-name-reserved',_0x371af6[_0x3669a6(0x42d)]='key-value-database-table-not-found',_0x371af6[_0x3669a6(0x133)]=_0x3669a6(0x77c),_0x371af6[_0x3669a6(0x266)]='local-media-stream-already-exists',_0x371af6['LocalMediaStreamNoAudioContext']='local-media-stream-no-audio-context',_0x371af6[_0x3669a6(0x209)]=_0x3669a6(0x3c1),_0x371af6[_0x3669a6(0x19d)]='pub-sub-topic-does-not-exist',_0x371af6[_0x3669a6(0x48c)]='pub-sub-topic-name-not-string',_0x371af6[_0x3669a6(0x4e2)]=_0x3669a6(0x113),_0x371af6[_0x3669a6(0x903)]=_0x3669a6(0x278),_0x371af6[_0x3669a6(0xa4c)]=_0x3669a6(0x623),_0x371af6[_0x3669a6(0x2fc)]=_0x3669a6(0x844),_0x371af6[_0x3669a6(0x444)]=_0x3669a6(0x42e),_0x371af6[_0x3669a6(0xa53)]=_0x3669a6(0x7ae),_0x371af6[_0x3669a6(0x586)]=_0x3669a6(0x9e1),_0x371af6[_0x3669a6(0x678)]=_0x3669a6(0x875),_0x371af6[_0x3669a6(0x15e)]='node-type-required',_0x371af6[_0x3669a6(0x46f)]=_0x3669a6(0x7ab),_0x371af6[_0x3669a6(0x3bc)]='vector-database-does-not-exist',_0x371af6[_0x3669a6(0x5c9)]=_0x3669a6(0x152),_0x371af6[_0x3669a6(0xc7)]='vector-database-name-not-string';}(_0x433410||(_0x433410={}));class _0x1d1fb5 extends Error{[_0x52a325(0x15b)];constructor(_0x21513c,_0x591dc5){const _0x1c3ede=_0x52a325;super(_0x591dc5),this[_0x1c3ede(0x15b)]=_0x21513c;}}!function(_0x53c5af){const _0x6da266=_0x52a325;_0x53c5af[_0x6da266(0xa20)]=_0x6da266(0x4f7),_0x53c5af[_0x6da266(0x190)]=_0x6da266(0x93b),_0x53c5af['KeyValueDatabase']='key-value-database',_0x53c5af[_0x6da266(0x7c5)]=_0x6da266(0x785),_0x53c5af[_0x6da266(0xa7b)]=_0x6da266(0x471),_0x53c5af[_0x6da266(0x383)]='external-storage',_0x53c5af[_0x6da266(0xa02)]=_0x6da266(0x8fe),_0x53c5af[_0x6da266(0x4c4)]='generative-ai';}(_0x380533||(_0x380533={})),function(_0x583f4e){const _0x3f8187=_0x52a325;_0x583f4e[_0x3f8187(0x15d)]=_0x3f8187(0x30e),_0x583f4e[_0x3f8187(0x969)]=_0x3f8187(0x8c5),_0x583f4e[_0x3f8187(0x5df)]=_0x3f8187(0x57b),_0x583f4e[_0x3f8187(0x994)]=_0x3f8187(0x9b3),_0x583f4e['Cluster']=_0x3f8187(0x6ce),_0x583f4e['Content']=_0x3f8187(0x38c),_0x583f4e[_0x3f8187(0xa10)]=_0x3f8187(0x3fe),_0x583f4e[_0x3f8187(0x332)]=_0x3f8187(0x5bf),_0x583f4e[_0x3f8187(0x67b)]=_0x3f8187(0x3ec),_0x583f4e[_0x3f8187(0x4b1)]=_0x3f8187(0x2a8),_0x583f4e[_0x3f8187(0x46a)]=_0x3f8187(0x241),_0x583f4e[_0x3f8187(0x7ad)]='key-value-database',_0x583f4e['Node']=_0x3f8187(0x1aa),_0x583f4e[_0x3f8187(0x7dc)]=_0x3f8187(0xa5),_0x583f4e[_0x3f8187(0xa20)]=_0x3f8187(0x4f7),_0x583f4e[_0x3f8187(0x8db)]='receiver-on-message',_0x583f4e['Remediation']=_0x3f8187(0x575),_0x583f4e[_0x3f8187(0x5e3)]=_0x3f8187(0x582),_0x583f4e[_0x3f8187(0x157)]=_0x3f8187(0x4df),_0x583f4e[_0x3f8187(0x5d9)]=_0x3f8187(0x5f2),_0x583f4e[_0x3f8187(0x67f)]=_0x3f8187(0x9c6),_0x583f4e[_0x3f8187(0x91a)]=_0x3f8187(0xaac),_0x583f4e['System']=_0x3f8187(0x776),_0x583f4e[_0x3f8187(0x671)]=_0x3f8187(0x932),_0x583f4e['TestPage']='test-page',_0x583f4e['PeerConnection']=_0x3f8187(0x44c);}(_0x422206||(_0x422206={}));const _0x5bfdb7=require('@crewdle/web-sdk-types');class _0x1d23c4{[_0x52a325(0x204)];constructor(_0x4baf92){const _0x2a576c=_0x52a325;this[_0x2a576c(0x204)]={'orderBy':{'key':_0x4baf92,'direction':_0x2a576c(0x624)}};}static[_0x52a325(0x97c)](_0x1838d6){const _0x36c436=_0x52a325;if(_0x36c436(0x347)!=typeof _0x1838d6||0x0===_0x1838d6[_0x36c436(0x761)])throw new _0x1d1fb5(_0x433410['QueryBuilderInvalidArgument'],_0x36c436(0x6fe));return new _0x1d23c4(_0x1838d6);}static[_0x52a325(0x5ab)](_0x52760b){const _0x48b24e=_0x52a325;try{return _0x1d23c4[_0x48b24e(0x48d)](_0x52760b),!0x0;}catch(_0x3cf83c){return!0x1;}}static[_0x52a325(0x48d)](_0x543b65){const _0x40cd09=_0x52a325,_0x4adcae=_0x1d23c4['index'](_0x543b65[_0x40cd09(0x273)]?.[_0x40cd09(0x373)]??_0x543b65[_0x40cd09(0x940)]?.[_0x40cd09(0x373)]??'');if(_0x543b65[_0x40cd09(0x940)]){const _0x1244d5=_0x543b65[_0x40cd09(0x940)];if((_0x1d23c4[_0x40cd09(0x7b6)](_0x1244d5)||_0x1d23c4[_0x40cd09(0x27b)](_0x1244d5)||_0x1d23c4['isWhereBetween'](_0x1244d5))&&_0x4adcae[_0x40cd09(0x940)](_0x1244d5[_0x40cd09(0x8f8)],_0x1244d5['value']),_0x543b65[_0x40cd09(0x273)]?.[_0x40cd09(0x373)]&&_0x543b65[_0x40cd09(0x273)]?.[_0x40cd09(0x373)]!==_0x543b65['where'][_0x40cd09(0x373)])throw new _0x1d1fb5(_0x433410[_0x40cd09(0x903)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x543b65[_0x40cd09(0x273)]&&_0x4adcae[_0x40cd09(0x273)](_0x543b65[_0x40cd09(0x273)][_0x40cd09(0xa94)]),_0x543b65['limit']&&_0x4adcae[_0x40cd09(0x697)](_0x543b65[_0x40cd09(0x697)]),_0x543b65[_0x40cd09(0x8bc)]&&_0x4adcae['offset'](_0x543b65[_0x40cd09(0x8bc)]),_0x4adcae;}[_0x52a325(0x88e)](){const _0x3c2b27=_0x52a325;return{...this[_0x3c2b27(0x204)]};}[_0x52a325(0x940)](_0x485dc6,_0x1ee2e4){const _0x150ec2=_0x52a325,_0x4021de={'key':this[_0x150ec2(0x204)][_0x150ec2(0x273)][_0x150ec2(0x373)],'operator':_0x485dc6,'value':_0x1ee2e4};if(!_0x1d23c4['isWhereValue'](_0x4021de)&&!_0x1d23c4['isWhereValues'](_0x4021de)&&!_0x1d23c4[_0x150ec2(0x5c7)](_0x4021de))throw new _0x1d1fb5(_0x433410[_0x150ec2(0x903)],_0x150ec2(0x312));return this[_0x150ec2(0x204)][_0x150ec2(0x940)]=_0x4021de,this;}['orderBy'](_0x5041a9){const _0x5aa55b=_0x52a325;if(_0x5aa55b(0x624)!==_0x5041a9&&'desc'!==_0x5041a9)throw new _0x1d1fb5(_0x433410[_0x5aa55b(0x903)],_0x5aa55b(0x12d));return this[_0x5aa55b(0x204)][_0x5aa55b(0x273)][_0x5aa55b(0xa94)]=_0x5041a9,this;}['limit'](_0x3978a6){const _0x423deb=_0x52a325;if(_0x423deb(0x7ff)!=typeof _0x3978a6||_0x3978a6<0x0)throw new _0x1d1fb5(_0x433410[_0x423deb(0x903)],_0x423deb(0x5f4));return this[_0x423deb(0x204)][_0x423deb(0x697)]=_0x3978a6,this;}['offset'](_0x303d2c){const _0x1cfe14=_0x52a325;if(_0x1cfe14(0x7ff)!=typeof _0x303d2c||_0x303d2c<0x0)throw new _0x1d1fb5(_0x433410[_0x1cfe14(0x903)],_0x1cfe14(0x6ba));return this[_0x1cfe14(0x204)]['offset']=_0x303d2c,this;}static['isWhereValue'](_0x5e18b9){const _0x3ae70e=_0x52a325;if(!(_0x5e18b9&&_0x3ae70e(0x7d8)==typeof _0x5e18b9&&_0x3ae70e(0x8f8)in _0x5e18b9&&_0x3ae70e(0x320)in _0x5e18b9))return!0x1;const {operator:_0x134fb3,value:_0x43eab3}=_0x5e18b9;return!(!['==','!=','>','<','<=','>=']['includes'](_0x134fb3)||Array[_0x3ae70e(0x6f3)](_0x43eab3));}static['isWhereValues'](_0xfb0ddc){const _0x271870=_0x52a325;if(!(_0xfb0ddc&&_0x271870(0x7d8)==typeof _0xfb0ddc&&_0x271870(0x8f8)in _0xfb0ddc&&'value'in _0xfb0ddc))return!0x1;const {operator:_0x5bf5c9,value:_0x5d886a}=_0xfb0ddc;return!(!['in',_0x271870(0x3ff)][_0x271870(0x8cd)](_0x5bf5c9)||!Array['isArray'](_0x5d886a));}static[_0x52a325(0x5c7)](_0x46effd){const _0x2c0c3f=_0x52a325;if(!(_0x46effd&&_0x2c0c3f(0x7d8)==typeof _0x46effd&&_0x2c0c3f(0x8f8)in _0x46effd&&'value'in _0x46effd))return!0x1;const {operator:_0x5efd75,value:_0x19019b}=_0x46effd;return!(_0x2c0c3f(0x795)!==_0x5efd75||!Array['isArray'](_0x19019b)||0x2!==_0x19019b[_0x2c0c3f(0x761)]);}}class _0x29936e{[_0x52a325(0x771)];constructor(_0x285fc1){const _0x39b7a2=_0x52a325;this[_0x39b7a2(0x771)]={'tables':{},'version':_0x285fc1};}static[_0x52a325(0x493)](_0x4bfd9b){const _0xc43732=_0x52a325;for(const _0x5df3aa in _0x4bfd9b){if('version'!==_0x5df3aa&&_0xc43732(0x605)!==_0x5df3aa)return[!0x1,_0xc43732(0xa22)+_0x5df3aa+_0xc43732(0x573)];if(_0xc43732(0x605)===_0x5df3aa)for(const _0x300eb6 in _0x4bfd9b['tables']){if('string'!=typeof _0x300eb6)return[!0x1,_0xc43732(0x663)+_0x300eb6+'\x27'];for(const _0x458571 in _0x4bfd9b[_0xc43732(0x605)][_0x300eb6]){if(_0xc43732(0x713)!==_0x458571)return[!0x1,_0xc43732(0xa22)+_0x458571+_0xc43732(0x557)+_0x300eb6+'\x27'];const _0x5e130d=_0x4bfd9b[_0xc43732(0x605)][_0x300eb6][_0x458571]??[];for(const _0x2947d9 of _0x5e130d)if(void 0x0===_0x2947d9['keyPath']||_0xc43732(0x347)!=typeof _0x2947d9[_0xc43732(0x694)])return[!0x1,_0xc43732(0xa49)+_0x300eb6+_0xc43732(0x458)];}}else{if(_0xc43732(0x45b)===_0x5df3aa&&_0xc43732(0x7ff)!=typeof _0x4bfd9b[_0x5df3aa])return[!0x1,_0xc43732(0x762)+_0x4bfd9b[_0x5df3aa]+_0xc43732(0x309)];}}return[!0x0,_0xc43732(0x188)];}static[_0x52a325(0x771)](_0x28e481){const _0x3c3974=_0x52a325,_0x1a6cc1=new _0x29936e(_0x28e481);return _0x1a6cc1[_0x3c3974(0x771)]['version']=_0x28e481,_0x1a6cc1;}[_0x52a325(0x1c5)](_0x12f942){const _0x15c4c3=_0x52a325;return this[_0x15c4c3(0x771)]['tables'][_0x12f942]={},new _0x5af366(this[_0x15c4c3(0x771)][_0x15c4c3(0x605)][_0x12f942]);}[_0x52a325(0x501)](){return this['layout'];}}class _0x5af366{[_0x52a325(0x81a)];constructor(_0x39392a){const _0x4a86fd=_0x52a325;this[_0x4a86fd(0x81a)]=_0x39392a;}[_0x52a325(0x97c)](_0xe1d718){const _0x18c548=_0x52a325;return this['tableLayout'][_0x18c548(0x713)]=this[_0x18c548(0x81a)][_0x18c548(0x713)]??[],this[_0x18c548(0x81a)][_0x18c548(0x713)][_0x18c548(0x66e)]({'keyPath':_0xe1d718}),this;}}const _0xa6501a=0x40000,_0x3e1574=0x20000,_0x37693a=0x1388,_0x4494c0='.crewdle-last-transaction',_0x23b5e1=_0x52a325(0xa81),_0x44c02c=_0x52a325(0x855),_0x3fc917=_0x52a325(0x537),_0x16e5bc=0xdbba0,_0x48f34e=0x61a8,_0x1ee970=_0x52a325(0x18e);var _0x1ee7d1;!function(_0x1c4980){const _0x3b5a54=_0x52a325;_0x1c4980['ConnectionNotinitialized']='connection-not-initialized',_0x1c4980[_0x3b5a54(0x2b4)]=_0x3b5a54(0x509),_0x1c4980[_0x3b5a54(0xa72)]=_0x3b5a54(0x4d4),_0x1c4980['ConnectionInvalidDataEvent']=_0x3b5a54(0x9b7),_0x1c4980['DataCollectionDoesNotExist']=_0x3b5a54(0x271),_0x1c4980[_0x3b5a54(0x6da)]='generative-ai-context-creation-failed',_0x1c4980[_0x3b5a54(0x5cf)]=_0x3b5a54(0x31b),_0x1c4980[_0x3b5a54(0x3a1)]=_0x3b5a54(0x14c),_0x1c4980[_0x3b5a54(0xd9)]=_0x3b5a54(0x8b2),_0x1c4980[_0x3b5a54(0xa84)]=_0x3b5a54(0x468),_0x1c4980[_0x3b5a54(0x74c)]='generative-ai-worker-creation-failed',_0x1c4980[_0x3b5a54(0x9c2)]=_0x3b5a54(0x73b),_0x1c4980['InvalidDataChannel']=_0x3b5a54(0xe1),_0x1c4980[_0x3b5a54(0x56a)]=_0x3b5a54(0x292),_0x1c4980[_0x3b5a54(0xd0)]='invalid-subscriber',_0x1c4980[_0x3b5a54(0xa68)]=_0x3b5a54(0x1d1),_0x1c4980[_0x3b5a54(0x5c8)]=_0x3b5a54(0x861),_0x1c4980[_0x3b5a54(0x76a)]=_0x3b5a54(0x494),_0x1c4980[_0x3b5a54(0x2db)]='job-dispatcher-job-not-found',_0x1c4980[_0x3b5a54(0x1b8)]=_0x3b5a54(0x32b),_0x1c4980['JobWorkerCreationFailed']=_0x3b5a54(0x716),_0x1c4980[_0x3b5a54(0x9cf)]=_0x3b5a54(0xb9),_0x1c4980[_0x3b5a54(0x13d)]='key-value-database-creation-failed',_0x1c4980['KeyValueDatabasePeakNotFound']=_0x3b5a54(0x351),_0x1c4980[_0x3b5a54(0x483)]=_0x3b5a54(0x5a1),_0x1c4980[_0x3b5a54(0xa13)]=_0x3b5a54(0x2f2),_0x1c4980[_0x3b5a54(0x600)]=_0x3b5a54(0x272),_0x1c4980[_0x3b5a54(0x574)]=_0x3b5a54(0x1ee),_0x1c4980[_0x3b5a54(0x382)]=_0x3b5a54(0x792),_0x1c4980['MissingSystemTopic']=_0x3b5a54(0x4b7),_0x1c4980['MistletCapacityReportNotSet']=_0x3b5a54(0x335),_0x1c4980[_0x3b5a54(0x94a)]=_0x3b5a54(0x43d),_0x1c4980[_0x3b5a54(0x2f9)]=_0x3b5a54(0x950),_0x1c4980[_0x3b5a54(0x684)]=_0x3b5a54(0x7ac),_0x1c4980[_0x3b5a54(0x9af)]=_0x3b5a54(0x289),_0x1c4980[_0x3b5a54(0x9ba)]='outgoing-stream-no-topic',_0x1c4980[_0x3b5a54(0x66f)]=_0x3b5a54(0x912),_0x1c4980[_0x3b5a54(0x3bb)]='remote-stream-missing-provider-id',_0x1c4980['RemoteConnectionExists']=_0x3b5a54(0x4fe),_0x1c4980['SubscriptionRequestDoesNotExist']=_0x3b5a54(0x9d1),_0x1c4980['SubscriptionRequestFailed']=_0x3b5a54(0x920),_0x1c4980[_0x3b5a54(0x3b6)]=_0x3b5a54(0xfc),_0x1c4980[_0x3b5a54(0x71a)]=_0x3b5a54(0x215),_0x1c4980[_0x3b5a54(0x144)]=_0x3b5a54(0x4d0),_0x1c4980[_0x3b5a54(0x200)]=_0x3b5a54(0x381),_0x1c4980[_0x3b5a54(0x148)]=_0x3b5a54(0x337),_0x1c4980[_0x3b5a54(0x765)]=_0x3b5a54(0x98a),_0x1c4980[_0x3b5a54(0x8d5)]=_0x3b5a54(0x47c);}(_0x1ee7d1||(_0x1ee7d1={}));const _0x10230e=new Map([[_0x1ee7d1['ConnectionNotinitialized'],'Connection\x20not\x20initialized.'],[_0x1ee7d1[_0x52a325(0x2b4)],_0x52a325(0x319)],[_0x1ee7d1[_0x52a325(0xa72)],_0x52a325(0x232)],[_0x1ee7d1[_0x52a325(0x55b)],_0x52a325(0x57e)],[_0x1ee7d1['DataCollectionDoesNotExist'],_0x52a325(0x949)],[_0x1ee7d1['GenerativeAIContextCreationFailed'],_0x52a325(0x2d0)],[_0x1ee7d1[_0x52a325(0x5cf)],_0x52a325(0x322)],[_0x1ee7d1[_0x52a325(0x3a1)],_0x52a325(0x8fc)],[_0x1ee7d1['GenerativeAIContextJobFailed'],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x1ee7d1[_0x52a325(0xa84)],_0x52a325(0xa8a)],[_0x1ee7d1[_0x52a325(0x74c)],_0x52a325(0x114)],[_0x1ee7d1[_0x52a325(0x9c2)],_0x52a325(0x42c)],[_0x1ee7d1['InvalidDataChannel'],_0x52a325(0x22c)],[_0x1ee7d1[_0x52a325(0x56a)],_0x52a325(0x19a)],[_0x1ee7d1['InvalidSubscriber'],_0x52a325(0x3f8)],[_0x1ee7d1[_0x52a325(0xa68)],_0x52a325(0x911)],[_0x1ee7d1['JobDispatcherCreationFailed'],_0x52a325(0x5b4)],[_0x1ee7d1[_0x52a325(0x76a)],_0x52a325(0x49d)],[_0x1ee7d1[_0x52a325(0x2db)],_0x52a325(0x75a)],[_0x1ee7d1[_0x52a325(0x1b8)],_0x52a325(0xe8)],[_0x1ee7d1[_0x52a325(0x83a)],_0x52a325(0x20a)],[_0x1ee7d1[_0x52a325(0x9cf)],_0x52a325(0x534)],[_0x1ee7d1[_0x52a325(0x13d)],_0x52a325(0x17b)],[_0x1ee7d1['KeyValueDatabasePeakNotFound'],'Key-value\x20database\x20peak\x20not\x20found.'],[_0x1ee7d1[_0x52a325(0x483)],'Key-value\x20database\x20table\x20does\x20not\x20exist.'],[_0x1ee7d1[_0x52a325(0xa13)],_0x52a325(0x5c6)],[_0x1ee7d1[_0x52a325(0x600)],_0x52a325(0x175)],[_0x1ee7d1[_0x52a325(0x574)],_0x52a325(0xa1f)],[_0x1ee7d1[_0x52a325(0x382)],_0x52a325(0x5e9)],[_0x1ee7d1[_0x52a325(0xb7)],_0x52a325(0x1c6)],[_0x1ee7d1[_0x52a325(0x9a2)],_0x52a325(0x17a)],[_0x1ee7d1[_0x52a325(0x94a)],'Cannot\x20write\x20transaction.'],[_0x1ee7d1[_0x52a325(0x684)],_0x52a325(0x857)],[_0x1ee7d1[_0x52a325(0x2f9)],_0x52a325(0x165)],[_0x1ee7d1[_0x52a325(0x9af)],_0x52a325(0x76d)],[_0x1ee7d1[_0x52a325(0x9ba)],_0x52a325(0x988)],[_0x1ee7d1['RemoteMediaStreamDoesNotExist'],_0x52a325(0x183)],[_0x1ee7d1[_0x52a325(0x3bb)],_0x52a325(0x8ea)],[_0x1ee7d1[_0x52a325(0x167)],_0x52a325(0x7b8)],[_0x1ee7d1[_0x52a325(0xac1)],_0x52a325(0x68f)],[_0x1ee7d1[_0x52a325(0x9b1)],_0x52a325(0x4cd)],[_0x1ee7d1['SubscriptionRequestNoAnswer'],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x1ee7d1[_0x52a325(0x71a)],_0x52a325(0xa8c)],[_0x1ee7d1[_0x52a325(0x144)],_0x52a325(0x723)],[_0x1ee7d1['PeerConnectionInvalidDestination'],_0x52a325(0xe6)],[_0x1ee7d1['VectorDatabaseCreationFailed'],'Vector\x20database\x20creation\x20failed.'],[_0x1ee7d1[_0x52a325(0x765)],_0x52a325(0xa4f)],[_0x1ee7d1[_0x52a325(0x8d5)],_0x52a325(0x93d)]]);class _0x162f0d extends Error{[_0x52a325(0x15b)];static ['codes']=_0x1ee7d1;[_0x52a325(0x6f2)];constructor(_0x35566a,_0x1d8b68){const _0x2e4bb0=_0x52a325;super(_0x2e4bb0(0x357)+_0x35566a+':\x20'+_0x10230e[_0x2e4bb0(0x627)](_0x35566a)+'\x0aAdditional\x20data:\x20'+JSON['stringify'](_0x1d8b68)),this[_0x2e4bb0(0x15b)]=_0x35566a,this[_0x2e4bb0(0x6f2)]=_0x1d8b68||{};}}var _0x539ab3,_0x5e201b,_0x5c7282,_0xcc13b5,_0x4493d3,_0x1035ad,_0x5ebcbf;!function(_0x1cfae5){const _0x5d227b=_0x52a325;_0x1cfae5[_0x1cfae5[_0x5d227b(0xa6e)]=0x0]=_0x5d227b(0xa6e),_0x1cfae5[_0x1cfae5['CloseJobDispatcher']=0x1]=_0x5d227b(0x395),_0x1cfae5[_0x1cfae5['CloseJobWorker']=0x2]=_0x5d227b(0x94d),_0x1cfae5[_0x1cfae5[_0x5d227b(0x80f)]=0x3]=_0x5d227b(0x80f),_0x1cfae5[_0x1cfae5[_0x5d227b(0x677)]=0x4]=_0x5d227b(0x677),_0x1cfae5[_0x1cfae5[_0x5d227b(0x890)]=0x5]=_0x5d227b(0x890),_0x1cfae5[_0x1cfae5[_0x5d227b(0x28b)]=0x6]=_0x5d227b(0x28b),_0x1cfae5[_0x1cfae5[_0x5d227b(0x42f)]=0x7]='ClosePubSubTopic',_0x1cfae5[_0x1cfae5[_0x5d227b(0x6c1)]=0x8]=_0x5d227b(0x6c1),_0x1cfae5[_0x1cfae5['CloseGenerativeAIContext']=0x9]=_0x5d227b(0x16d),_0x1cfae5[_0x1cfae5[_0x5d227b(0x435)]=0xa]=_0x5d227b(0x435),_0x1cfae5[_0x1cfae5[_0x5d227b(0x5de)]=0xb]='GenerativeAIContextStats',_0x1cfae5[_0x1cfae5['GenerativeAIWorkerStats']=0xc]='GenerativeAIWorkerStats',_0x1cfae5[_0x1cfae5[_0x5d227b(0x6ee)]=0xd]='GraphDatabaseStats',_0x1cfae5[_0x1cfae5[_0x5d227b(0xa90)]=0xe]='KeyValueDatabaseContentAvailable',_0x1cfae5[_0x1cfae5[_0x5d227b(0x78c)]=0xf]=_0x5d227b(0x78c),_0x1cfae5[_0x1cfae5['KeyValueDatabaseRequestPeakTransactions']=0x10]=_0x5d227b(0x4f8),_0x1cfae5[_0x1cfae5[_0x5d227b(0x4ec)]=0x11]='KeyValueDatabaseRequestTransactionsValue',_0x1cfae5[_0x1cfae5['KeyValueDatabaseSendTransactions']=0x12]='KeyValueDatabaseSendTransactions',_0x1cfae5[_0x1cfae5[_0x5d227b(0x752)]=0x13]=_0x5d227b(0x752),_0x1cfae5[_0x1cfae5[_0x5d227b(0x53e)]=0x14]=_0x5d227b(0x53e),_0x1cfae5[_0x1cfae5['LocalMediaStreamTrackFail']=0x15]=_0x5d227b(0x1fb),_0x1cfae5[_0x1cfae5[_0x5d227b(0x237)]=0x16]=_0x5d227b(0x237),_0x1cfae5[_0x1cfae5[_0x5d227b(0x4e7)]=0x17]='PubSubTopicStats',_0x1cfae5[_0x1cfae5[_0x5d227b(0x601)]=0x18]=_0x5d227b(0x601),_0x1cfae5[_0x1cfae5['RemoteMediaStreamTrackFail']=0x19]=_0x5d227b(0x495),_0x1cfae5[_0x1cfae5[_0x5d227b(0x422)]=0x1a]=_0x5d227b(0x422),_0x1cfae5[_0x1cfae5[_0x5d227b(0x14a)]=0x1b]=_0x5d227b(0x14a),_0x1cfae5[_0x1cfae5[_0x5d227b(0x19b)]=0x1c]=_0x5d227b(0x19b),_0x1cfae5[_0x1cfae5[_0x5d227b(0x7f2)]=0x1d]=_0x5d227b(0x7f2),_0x1cfae5[_0x1cfae5[_0x5d227b(0x76c)]=0x1e]='VectorDatabaseStats';}(_0x539ab3||(_0x539ab3={})),function(_0x3d728f){const _0x4588c8=_0x52a325;_0x3d728f['FileWrite']='file-write',_0x3d728f[_0x4588c8(0x5ec)]=_0x4588c8(0x895),_0x3d728f[_0x4588c8(0x63d)]='delete',_0x3d728f[_0x4588c8(0xa97)]=_0x4588c8(0x7ca),_0x3d728f[_0x4588c8(0x413)]=_0x4588c8(0x47e),_0x3d728f[_0x4588c8(0x257)]=_0x4588c8(0x14e),_0x3d728f[_0x4588c8(0x177)]=_0x4588c8(0x6fb),_0x3d728f[_0x4588c8(0x212)]=_0x4588c8(0x9dd);}(_0x5e201b||(_0x5e201b={})),function(_0x441425){const _0x3b68cc=_0x52a325;_0x441425[_0x3b68cc(0x150)]=_0x3b68cc(0x880),_0x441425[_0x3b68cc(0xa54)]=_0x3b68cc(0x235);}(_0x5c7282||(_0x5c7282={})),function(_0x54b16c){const _0x22b911=_0x52a325;_0x54b16c[_0x22b911(0x55e)]=_0x22b911(0xa24),_0x54b16c[_0x22b911(0x54c)]=_0x22b911(0xaae),_0x54b16c[_0x22b911(0x63d)]=_0x22b911(0x4f4);}(_0xcc13b5||(_0xcc13b5={})),function(_0xad8bcb){const _0x6fca51=_0x52a325;_0xad8bcb[_0x6fca51(0xb5)]=_0x6fca51(0x627),_0xad8bcb['List']='list',_0xad8bcb['Count']=_0x6fca51(0x5ae);}(_0x4493d3||(_0x4493d3={})),function(_0x1516d1){const _0xf7543f=_0x52a325;_0x1516d1[_0x1516d1['Request']=0x0]=_0xf7543f(0x150),_0x1516d1[_0x1516d1['Bid']=0x1]=_0xf7543f(0x6b6),_0x1516d1[_0x1516d1[_0xf7543f(0x82b)]=0x2]=_0xf7543f(0x82b),_0x1516d1[_0x1516d1[_0xf7543f(0xa80)]=0x3]='PartialResult',_0x1516d1[_0x1516d1['Result']=0x4]=_0xf7543f(0x4f2),_0x1516d1[_0x1516d1[_0xf7543f(0x62c)]=0x5]=_0xf7543f(0x62c);}(_0x1035ad||(_0x1035ad={})),function(_0x5480dc){const _0x13fa23=_0x52a325;_0x5480dc[_0x5480dc[_0x13fa23(0x961)]=0x0]=_0x13fa23(0x961),_0x5480dc[_0x5480dc[_0x13fa23(0x695)]=0x1]=_0x13fa23(0x695),_0x5480dc[_0x5480dc[_0x13fa23(0xa32)]=0x2]=_0x13fa23(0xa32),_0x5480dc[_0x5480dc['Subscription']=0x3]=_0x13fa23(0x67f),_0x5480dc[_0x5480dc[_0x13fa23(0x5d9)]=0x4]=_0x13fa23(0x5d9),_0x5480dc[_0x5480dc[_0x13fa23(0x332)]=0x5]=_0x13fa23(0x332),_0x5480dc[_0x5480dc[_0x13fa23(0x9e0)]=0x6]=_0x13fa23(0x9e0);}(_0x5ebcbf||(_0x5ebcbf={}));class _0x163580{[_0x52a325(0x611)];[_0x52a325(0x7cd)];[_0x52a325(0xbb)];constructor(_0x359883,_0x235451){const _0x5d2eaf=_0x52a325;this[_0x5d2eaf(0x611)]=_0x359883,this[_0x5d2eaf(0x7cd)]=_0x235451;}[_0x52a325(0x8f6)](){const _0x20a36f=_0x52a325;return this[_0x20a36f(0x7cd)];}[_0x52a325(0x9a9)](){const _0x416b8c=_0x52a325;return this[_0x416b8c(0x611)][_0x416b8c(0x8ef)]();}[_0x52a325(0x3d9)](){}[_0x52a325(0x75b)](_0x50de4f){this['systemTopic']=_0x50de4f;}[_0x52a325(0x772)](){delete this['systemTopic'];}}const _0x51a03b=require('firebase/firestore');let _0x347097=_0x1d8812(0x14d)['O'];function _0x1b7dd7(_0x1ff1a5){const _0x189c6b=_0x52a325;return!(!_0x1ff1a5||_0x189c6b(0x7d8)!=typeof _0x1ff1a5||Array[_0x189c6b(0x6f3)](_0x1ff1a5));}_0x347097=function _0x29310f(_0x27de6f,..._0x5be1c3){const _0xc15f65=_0x52a325;if(!Array[_0xc15f65(0x6f3)](_0x5be1c3)||0x0===_0x5be1c3[_0xc15f65(0x761)])return _0x27de6f;const _0x25719a=_0x5be1c3[_0xc15f65(0x55c)]();if(_0x1b7dd7(_0x27de6f)&&_0x1b7dd7(_0x25719a)){for(const _0x6942b5 in _0x25719a)_0x1b7dd7(_0x25719a[_0x6942b5])?(_0x27de6f[_0x6942b5]||Object[_0xc15f65(0x69c)](_0x27de6f,{[_0x6942b5]:{}}),_0x29310f(_0x27de6f[_0x6942b5],_0x25719a[_0x6942b5])):Object['assign'](_0x27de6f,{[_0x6942b5]:_0x25719a[_0x6942b5]});}return _0x29310f(_0x27de6f,..._0x5be1c3);}(_0x347097,_0x1d8812(0x3e6)['O']);const _0x4d71fb=_0x347097,_0x5e3ad7=require('firebase/app'),_0x314e16=require('firebase/auth'),_0x81785=require('firebase/database'),_0x225b6f=require('firebase/functions'),_0x529b6e=require('uuid'),_0x388205=_0x52a325(0x79a);class _0x2c4579{static [_0x52a325(0x6b4)];['app'];['auth'];[_0x52a325(0x1eb)];[_0x52a325(0x138)];[_0x52a325(0x35d)];['clockSkew'];[_0x52a325(0xa70)];constructor(){const _0x42f580=_0x52a325;this[_0x42f580(0xa0b)]();}static[_0x52a325(0x6be)](){const _0x106ee7=_0x52a325;return _0x2c4579[_0x106ee7(0x6b4)]||(_0x2c4579[_0x106ee7(0x6b4)]=new _0x2c4579()),_0x2c4579[_0x106ee7(0x6b4)];}[_0x52a325(0xa0b)](){const _0x53f554=_0x52a325;if(!this['app']){let _0x26459a=_0x388205;'undefined'!=typeof window&&(_0x26459a=_0x388205+'-'+(0x0,_0x529b6e['v4'])()),this[_0x53f554(0x10f)]=(0x0,_0x5e3ad7[_0x53f554(0x1d8)])(_0x4d71fb[_0x53f554(0x8b6)],''+_0x26459a);}return this[_0x53f554(0x10f)];}[_0x52a325(0x7e9)](){const _0x2aa2f6=_0x52a325;return this[_0x2aa2f6(0x756)]||(this[_0x2aa2f6(0x756)]=(0x0,_0x314e16[_0x2aa2f6(0x7e9)])(this[_0x2aa2f6(0xa0b)]())),this[_0x2aa2f6(0x756)];}['getFunctions'](){const _0x4b5915=_0x52a325;return this['functions']||(this['functions']=(0x0,_0x225b6f['getFunctions'])(this['getApp'](),_0x4d71fb[_0x4b5915(0x8b6)][_0x4b5915(0x10e)])),this[_0x4b5915(0x1eb)];}['getDatabase'](){const _0x2c37ee=_0x52a325;return this[_0x2c37ee(0x138)]||(this[_0x2c37ee(0x138)]=(0x0,_0x81785[_0x2c37ee(0x7fb)])(this[_0x2c37ee(0xa0b)]())),this[_0x2c37ee(0x138)];}[_0x52a325(0x757)](){const _0x14f3ec=_0x52a325;return this[_0x14f3ec(0x35d)]||(this[_0x14f3ec(0x35d)]=(0x0,_0x51a03b[_0x14f3ec(0x757)])(this[_0x14f3ec(0xa0b)]())),this[_0x14f3ec(0x35d)];}async[_0x52a325(0x39a)](){const _0x1ca885=_0x52a325;if(this['clockSkew']&&this[_0x1ca885(0xa70)]&&Date[_0x1ca885(0x88b)]()-this[_0x1ca885(0xa70)]<0x493e0)return Date['now']()+this[_0x1ca885(0x531)];const _0x4ce838=this[_0x1ca885(0x7fb)](),_0xaac000=(0x0,_0x81785[_0x1ca885(0x647)])(_0x4ce838,'.info/serverTimeOffset');return new Promise(_0xb27474=>{const _0x3f72a4=_0x1ca885;(0x0,_0x81785[_0x3f72a4(0x6e2)])(_0xaac000,_0x5e02ff=>{const _0x458b76=_0x3f72a4;(0x0,_0x81785[_0x458b76(0x4f3)])(_0xaac000),this[_0x458b76(0x531)]=_0x5e02ff[_0x458b76(0x8d3)](),this[_0x458b76(0xa70)]=Date[_0x458b76(0x88b)](),_0xb27474(Date[_0x458b76(0x88b)]()+(this['clockSkew']??0x0));});});}}const _0x36dffc=_0x2c4579[_0x52a325(0x6be)]();class _0x37a249{static ['instance'];[_0x52a325(0xab0)]=[_0x422206[_0x52a325(0x969)]];[_0x52a325(0x7a3)]=!0x1;[_0x52a325(0x9db)];['vendorId']='';[_0x52a325(0x298)];[_0x52a325(0xa6a)]=[];[_0x52a325(0x149)];[_0x52a325(0x13a)];['retryLimit']=0xa;[_0x52a325(0x86c)]=0x1f4;[_0x52a325(0xab9)]=0x1c2;[_0x52a325(0x400)]=0x3e8;constructor(){const _0x506c6e=_0x52a325;if(_0x506c6e(0x4a1)!=typeof window)this[_0x506c6e(0x298)]=window;else{if(void 0x0===_0x1d8812['g'])throw new Error(_0x506c6e(0x9b2));this[_0x506c6e(0x298)]=_0x1d8812['g'];}this[_0x506c6e(0x156)](),this[_0x506c6e(0x298)][_0x506c6e(0x679)]=_0x122848=>{const _0x1cdcdf=_0x506c6e;if(_0x122848===_0x422206['All'])return this[_0x1cdcdf(0xab0)]=Object[_0x1cdcdf(0x5a9)](_0x422206)[_0x1cdcdf(0x943)](_0x180b1c=>_0x422206[_0x180b1c]),void Object[_0x1cdcdf(0x5a9)](_0x422206)[_0x1cdcdf(0x854)](_0x42a5e3=>{const _0x1c795a=_0x1cdcdf,_0x2c9939=_0x42a5e3;localStorage['setItem'](_0x1c795a(0x2a2)+_0x422206[_0x2c9939],_0x1c795a(0xa9));});this[_0x1cdcdf(0xab0)][_0x1cdcdf(0x8cd)](_0x122848)||(this[_0x1cdcdf(0xab0)][_0x1cdcdf(0x66e)](_0x122848),localStorage[_0x1cdcdf(0x808)](_0x1cdcdf(0x2a2)+_0x122848,_0x1cdcdf(0xa9)));},this['globalObject']['crewdleSDKDisableLogging']=_0x4f43fc=>{const _0x1a28a2=_0x506c6e;if(!_0x4f43fc||_0x4f43fc===_0x422206[_0x1a28a2(0x15d)])return this[_0x1a28a2(0xab0)]=[],void Object[_0x1a28a2(0x5a9)](_0x422206)['forEach'](_0x1146dd=>{const _0x54baf6=_0x1a28a2,_0xbb4987=_0x1146dd;localStorage[_0x54baf6(0x436)](_0x54baf6(0x2a2)+_0x422206[_0xbb4987]);});this[_0x1a28a2(0xab0)][_0x1a28a2(0x8cd)](_0x4f43fc)&&(this[_0x1a28a2(0xab0)]=this[_0x1a28a2(0xab0)][_0x1a28a2(0x6f8)](_0x8ef204=>_0x8ef204!==_0x4f43fc),localStorage['removeItem'](_0x1a28a2(0x2a2)+_0x4f43fc));},this['globalObject'][_0x506c6e(0x7b1)]=_0x422206;}static[_0x52a325(0x6be)](){const _0x1406e1=_0x52a325;try{return _0x37a249[_0x1406e1(0x6b4)]||(_0x37a249[_0x1406e1(0x6b4)]=new _0x37a249()),_0x37a249[_0x1406e1(0x6b4)];}catch(_0xc16733){return console['error'](_0x1406e1(0x614),_0xc16733),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x52a325(0x3cf)](_0x59f8e5){const _0x18327f=_0x52a325;this[_0x18327f(0x793)]=_0x59f8e5,this[_0x18327f(0xa6a)]=[],this[_0x18327f(0x149)]=this[_0x18327f(0x4aa)](),this[_0x18327f(0x13a)]&&(clearTimeout(this[_0x18327f(0x13a)]),this[_0x18327f(0x13a)]=void 0x0);}[_0x52a325(0x316)](_0x2ea460){const _0x4dc375=_0x52a325;this[_0x4dc375(0x9db)]=_0x2ea460;}['debug'](_0x908064,..._0x1d46cd){const _0x57ac73=_0x52a325;this['debugEnabled']&&this[_0x57ac73(0x109)](_0x422206[_0x57ac73(0x969)],_0x57ac73(0x7b7)+_0x908064,..._0x1d46cd);}['forceLog'](_0x1b4502,..._0x31e17d){const _0x41e495=_0x52a325;console[_0x41e495(0x109)](_0x1b4502,..._0x31e17d),this[_0x41e495(0x9db)]&&this['loggingConnectors'][_0x41e495(0x854)](_0x4073ad=>{const _0x2695eb=_0x41e495;_0x4073ad['log'](_0x1b4502,{'vendorId':this[_0x2695eb(0x793)],'nodeId':'','nodeType':'','data':{..._0x31e17d}});});}['log'](_0x18f7e4,_0x1b3a5c,..._0x40465e){const _0x4a477c=_0x52a325;_0x4d71fb['isProduction']||(this['enabledChannels'][_0x4a477c(0x8cd)](_0x18f7e4)&&console[_0x4a477c(0x109)](_0x4a477c(0x6a9)+_0x18f7e4+'\x27\x0a',new Date()+'\x0a',_0x1b3a5c,..._0x40465e),this[_0x4a477c(0x9db)]&&this[_0x4a477c(0x9db)][_0x4a477c(0x854)](_0x42f755=>{const _0x42a618=_0x4a477c;this[_0x42a618(0x520)](_0x42f755)&&_0x42f755[_0x42a618(0x489)]()[_0x42a618(0x8cd)](_0x18f7e4)&&_0x42f755[_0x42a618(0x109)](_0x1b3a5c,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x18f7e4,..._0x40465e}});}));}['logRaw'](_0x11a3f3,_0x1eaa50,..._0x45e45b){const _0x59f114=_0x52a325;_0x4d71fb[_0x59f114(0xa07)]||(this[_0x59f114(0xab0)][_0x59f114(0x8cd)](_0x11a3f3)&&console[_0x59f114(0x109)](_0x1eaa50,..._0x45e45b),this['loggingConnectors']&&this[_0x59f114(0x9db)]['forEach'](_0x18bc18=>{const _0x30d844=_0x59f114;this[_0x30d844(0x520)](_0x18bc18)&&_0x18bc18[_0x30d844(0x489)]()['includes'](_0x11a3f3)&&_0x18bc18[_0x30d844(0x109)](_0x1eaa50,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x11a3f3,..._0x45e45b}});}));}[_0x52a325(0x1ed)](_0x275656,_0x423afc){const _0x3d3fb3=_0x52a325;if(!this[_0x3d3fb3(0x9db)])return;const _0x3f8607={'vendorId':this[_0x3d3fb3(0x793)],..._0x423afc};this[_0x3d3fb3(0x9db)][_0x3d3fb3(0x854)](_0x5776f2=>{const _0x41c285=_0x3d3fb3;_0x5776f2[_0x41c285(0x109)](_0x275656,_0x3f8607);});}['logServiceEvent'](_0x2de3bb,_0xfa30ec){const _0x288c71=_0x52a325;this['createBatchOperation'](_0x2de3bb,_0xfa30ec),this[_0x288c71(0x4e6)]();}[_0x52a325(0x4b2)](_0x1e036a,_0x346a5c,_0x5e6bb9){const _0x2275ca=_0x52a325;(0x0,_0x51a03b[_0x2275ca(0x267)])((0x0,_0x51a03b[_0x2275ca(0x5a5)])(_0x36dffc[_0x2275ca(0x757)](),_0x2275ca(0x153)+this[_0x2275ca(0x793)]+'/'+_0x1e036a+'/'+_0x346a5c),{'storage':_0x5e6bb9,'timestamp':(0x0,_0x51a03b['serverTimestamp'])()});}[_0x52a325(0x4e6)](){const _0x55732a=_0x52a325;this[_0x55732a(0x149)]&&(this[_0x55732a(0x149)][_0x55732a(0x355)]+=0x1,this[_0x55732a(0x149)][_0x55732a(0x355)]===this[_0x55732a(0xab9)]?this[_0x55732a(0x194)]():this[_0x55732a(0x13a)]||(this[_0x55732a(0x13a)]=this[_0x55732a(0x298)][_0x55732a(0x68e)](()=>this[_0x55732a(0x194)](),this['timeoutValue'])));}async[_0x52a325(0x194)](){const _0x17ad61=_0x52a325;if(this[_0x17ad61(0x149)]){for(this[_0x17ad61(0xa6a)]['push'](this[_0x17ad61(0x149)]),this['currentBatch']=this['createNewBatch']();this[_0x17ad61(0xa6a)]['length']>0x0;){const _0x7242fc=this[_0x17ad61(0xa6a)]['shift']();if(!await this['commitBatch'](_0x7242fc))break;}clearTimeout(this['batchTimeout']),this[_0x17ad61(0x13a)]=void 0x0;}}[_0x52a325(0x2a8)](_0x4e2538,_0x340e9f,..._0x136a36){const _0x4b86a9=_0x52a325;if(console[_0x4b86a9(0x2a8)](new Date(),_0x4e2538,_0x340e9f,..._0x136a36),this['loggingConnectors']){const _0x300de0={'vendorId':this[_0x4b86a9(0x793)],..._0x340e9f};this[_0x4b86a9(0x9db)][_0x4b86a9(0x854)](_0x1c0a45=>{const _0x1a2246=_0x4b86a9;_0x1c0a45[_0x1a2246(0x2a8)](_0x4e2538,_0x300de0);});}}['warning'](_0xcaa4ed,_0x1778e0,..._0x2f67b6){const _0x20f5f8=_0x52a325;if(console[_0x20f5f8(0x1f9)](new Date(),_0xcaa4ed,_0x1778e0,_0x2f67b6),this[_0x20f5f8(0x9db)]){const _0x5533d6={'vendorId':this[_0x20f5f8(0x793)],..._0x1778e0};this['loggingConnectors'][_0x20f5f8(0x854)](_0x72be3c=>{_0x72be3c['warn'](_0xcaa4ed,_0x5533d6);});}}[_0x52a325(0x60f)](_0x4ac27d){const _0x156455=_0x52a325;return this['enabledChannels'][_0x156455(0x8cd)](_0x4ac27d);}async['commitBatch'](_0x23cecf,_0x188e57=0x0){const _0x27bc01=_0x52a325;if(_0x23cecf['counter']>0x0)try{return await _0x23cecf[_0x27bc01(0xe0)][_0x27bc01(0x26c)](),!0x0;}catch(_0x12465f){if(console[_0x27bc01(0x2a8)]('Error\x20committing\x20batch:',_0x12465f,_0x27bc01(0x7c0),_0x23cecf[_0x27bc01(0x244)]),!(_0x188e57<this['retryLimit'])){const {nodeId:_0x30d694='',nodeType:_0x2a84a4='',clusterId:_0x5dff37=''}=_0x23cecf[_0x27bc01(0x244)][0x0][_0x27bc01(0x6f2)],_0x1b61e9={'nodeId':_0x30d694,'nodeType':_0x2a84a4,'clusterId':_0x5dff37,'data':{'operations':_0x23cecf[_0x27bc01(0x244)],'error':_0x12465f}};return this[_0x27bc01(0x2a8)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0x1b61e9),!0x1;}{const _0x776b90=this[_0x27bc01(0x4f9)](_0x23cecf[_0x27bc01(0x244)]);setTimeout(()=>this[_0x27bc01(0x53d)](_0x776b90,_0x188e57+0x1),this['retryDelay']*Math['pow'](0x2,_0x188e57));}}}[_0x52a325(0x156)](){const _0x4ce90d=_0x52a325;try{Object[_0x4ce90d(0x5a9)](_0x422206)['forEach'](_0x8ab99e=>{const _0x436109=_0x4ce90d,_0x333d06=_0x8ab99e;localStorage[_0x436109(0x7fc)](_0x436109(0x2a2)+_0x422206[_0x333d06])&&(console[_0x436109(0x109)](_0x436109(0x430),_0x422206[_0x333d06]),this['enabledChannels']['push'](_0x422206[_0x333d06]));});}catch(_0x4723f3){}}[_0x52a325(0x520)](_0x8b56be){return void 0x0!==_0x8b56be['getEnabledChannels'];}[_0x52a325(0x4aa)](){const _0x5aaadc=_0x52a325;return{'batch':(0x0,_0x51a03b[_0x5aaadc(0x728)])(_0x36dffc[_0x5aaadc(0x757)]()),'operations':[],'counter':0x0};}[_0x52a325(0x4f9)](_0x5033a5){const _0x598f48=_0x52a325,_0x364461=(0x0,_0x51a03b[_0x598f48(0x728)])(_0x36dffc['getFirestore']());return _0x5033a5[_0x598f48(0x854)](_0x41b39d=>this[_0x598f48(0x72b)](_0x364461,_0x41b39d)),{'batch':_0x364461,'operations':_0x5033a5,'counter':_0x5033a5[_0x598f48(0x761)]};}[_0x52a325(0x72b)](_0x29cbad,_0x5440df){const _0xc6954f=_0x52a325;switch(_0x5440df[_0xc6954f(0x983)]){case _0xc6954f(0x23c):_0x29cbad['set'](_0x5440df[_0xc6954f(0x647)],_0x5440df[_0xc6954f(0x6f2)]);break;case _0xc6954f(0xaae):_0x29cbad['update'](_0x5440df[_0xc6954f(0x647)],_0x5440df[_0xc6954f(0x6f2)]);break;case _0xc6954f(0x4f4):_0x29cbad['delete'](_0x5440df[_0xc6954f(0x647)]);}}[_0x52a325(0x353)](_0xc3ee2d,_0x355dd4){const _0x1d77f8=_0x52a325;this['currentBatch']||(this[_0x1d77f8(0x149)]=this[_0x1d77f8(0x4aa)]());const _0x398958=(0x0,_0x51a03b[_0x1d77f8(0x5a5)])((0x0,_0x51a03b[_0x1d77f8(0x449)])(_0x36dffc[_0x1d77f8(0x757)](),_0x1d77f8(0x153)+this[_0x1d77f8(0x793)]+'/logs')),_0x1848e0={..._0x355dd4,'service':_0xc3ee2d,'timestamp':(0x0,_0x51a03b['serverTimestamp'])()},_0x20217b={'type':_0x1d77f8(0x23c),'path':_0x398958[_0x1d77f8(0x5e0)],'ref':_0x398958,'data':_0x1848e0};return this['currentBatch'][_0x1d77f8(0x244)][_0x1d77f8(0x66e)](_0x20217b),this[_0x1d77f8(0x72b)](this['currentBatch']['batch'],_0x20217b),_0x398958;}}const _0x2d5d47=_0x37a249[_0x52a325(0x6be)]();function _0x4e6919(_0xf6fdc4,_0x40473d){return'/'===_0xf6fdc4?_0xf6fdc4+_0x40473d:_0xf6fdc4+'/'+_0x40473d;}function _0x14e16e(_0x1be894){const _0x3f6c42=_0x52a325,_0x4b676a=function(_0x318270){const _0x2e1c9a=a0_0x15bf;return _0x318270[_0x2e1c9a(0x73a)]('/')[_0x2e1c9a(0x6f8)](_0x3b9dc4=>_0x3b9dc4[_0x2e1c9a(0x761)]>0x0);}(_0x1be894),_0x3f9b94=_0x4b676a[_0x3f6c42(0x59e)]()||'',_0x44e274=_0x4b676a[_0x3f6c42(0x141)]('/');return[0x0===_0x44e274[_0x3f6c42(0x761)]?'/':_0x44e274,_0x3f9b94];}async function _0x85215e(_0x348693){const _0x487ca6=_0x52a325;let _0x23052a;const _0x2ac799=_0x348693[_0x487ca6(0x1af)]/0x100000;_0x23052a=_0x2ac799<=0xa?0x1:_0x2ac799<=0x64?0.5:_0x2ac799<=0x1f4?0.1:0.05;const _0x2cb955=Math[_0x487ca6(0x6cc)](_0x348693[_0x487ca6(0x1af)]/_0xa6501a),_0x378a8b=Math[_0x487ca6(0x6cc)](_0x2cb955*_0x23052a);let _0x3fcc3d=new Uint8Array();for(let _0x10c5d2=0x0;_0x10c5d2<_0x378a8b;_0x10c5d2++){const _0x33c2c1=Math[_0x487ca6(0x9bb)](_0x10c5d2/_0x378a8b*_0x348693[_0x487ca6(0x1af)]);let _0x462ed1=_0x33c2c1+_0xa6501a;_0x462ed1>_0x348693[_0x487ca6(0x1af)]&&(_0x462ed1=_0x348693['size']);const _0x2806f3=_0x348693['slice'](_0x33c2c1,_0x462ed1),_0x568010=await _0x2806f3['arrayBuffer'](),_0x547964=new Uint8Array([..._0x3fcc3d,...new Uint8Array(_0x568010)]);_0x3fcc3d=new Uint8Array(await crypto['subtle'][_0x487ca6(0x5c4)]('SHA-256',_0x547964));}return Array[_0x487ca6(0xa3e)](new Uint8Array(_0x3fcc3d))[_0x487ca6(0x943)](_0x4d6cce=>_0x4d6cce[_0x487ca6(0x84a)](0x10)[_0x487ca6(0x8ba)](0x2,'0'))[_0x487ca6(0x141)]('');}async function*_0x5b8083(_0x4c3ba,_0x33b233=0x0,_0x31ae2a){const _0x30be5e=_0x52a325;let _0x4ed212=_0x33b233*_0x3e1574,_0x2c3485=_0x4c3ba;for(;_0x4ed212<_0x2c3485[_0x30be5e(0x1af)];){let _0x2105b5=_0x4ed212+_0x3e1574;_0x2105b5>_0x2c3485[_0x30be5e(0x1af)]&&(_0x2105b5=_0x2c3485[_0x30be5e(0x1af)]);let _0x59b3cc=0x0;for(;_0x59b3cc<0x14;)try{await _0x31ae2a?.();const _0x4f0b00=_0x2c3485[_0x30be5e(0x71c)](_0x4ed212,_0x2105b5,_0x30be5e(0x3e6)),_0x514d1d=await _0x4f0b00[_0x30be5e(0xa91)]();yield _0x514d1d,_0x4ed212=_0x2105b5,await new Promise(_0x195753=>setTimeout(_0x195753,0x0));break;}catch(_0x23434a){if(console['error'](_0x30be5e(0x463)+(_0x59b3cc+0x1)+_0x30be5e(0x2e3),_0x23434a),_0x59b3cc++,_0x59b3cc>0x14)throw _0x23434a;let _0x21aae5=0x3e8*Math[_0x30be5e(0x699)](0x2,_0x59b3cc);_0x21aae5>0x7530&&(_0x21aae5=0x7530),await new Promise(_0x22d930=>setTimeout(_0x22d930,_0x21aae5));}}}class _0x376443 extends _0x163580{[_0x52a325(0x14f)];[_0x52a325(0x9f4)];[_0x52a325(0x617)]=new Map();[_0x52a325(0x7d1)]=0x0;[_0x52a325(0x596)]=0x0;[_0x52a325(0x96b)]=0x0;['bytesReceived']=0x0;constructor(_0x287d4f,_0x78479a){super(_0x287d4f,_0x78479a);}['getLabel'](){const _0x3d20b8=_0x52a325;return this[_0x3d20b8(0x7cd)];}[_0x52a325(0x326)](){return this['label'];}[_0x52a325(0x7d4)](){const _0x3eeff0=_0x52a325;return _0x5bfdb7[_0x3eeff0(0x689)][_0x3eeff0(0xab6)];}[_0x52a325(0x423)](){const _0x582695=_0x52a325;return this[_0x582695(0x7cd)];}[_0x52a325(0x724)](_0x10ed29){const _0x8f7832=_0x52a325;if(this[_0x8f7832(0x14f)])throw new _0x162f0d(_0x162f0d[_0x8f7832(0x2a6)][_0x8f7832(0x56a)],{'message':_0x8f7832(0x4ed)+this[_0x8f7832(0x611)]['getId']()+_0x8f7832(0x1b6)+this['label'],'topic':this['outgoingTopic']});this['outgoingTopic']=_0x10ed29;}['registerSubscriber'](_0xc6f503){const _0x3a941c=_0x52a325;if(this[_0x3a941c(0x9f4)])throw new _0x162f0d(_0x162f0d[_0x3a941c(0x2a6)][_0x3a941c(0xd0)],{'message':_0x3a941c(0x341)+this[_0x3a941c(0x611)][_0x3a941c(0x8ef)]()+_0x3a941c(0x1b6)+this['label'],'topic':this[_0x3a941c(0x9f4)]});this[_0x3a941c(0x9f4)]=_0xc6f503;}['unregisterPublisher'](){const _0x517868=_0x52a325;delete this[_0x517868(0x14f)];}['unregisterSubscriber'](){const _0x40d7a2=_0x52a325;delete this[_0x40d7a2(0x9f4)];}async[_0x52a325(0x9c8)](_0x1f21d3,_0x578ca0){const _0x359af3=_0x52a325;if(_0x2d5d47[_0x359af3(0x109)](_0x422206['DataStream'],_0x359af3(0x8eb),this['owner']['getId'](),_0x1f21d3,_0x578ca0),this[_0x359af3(0x7d1)]+=0x1,_0x1f21d3 instanceof File){const _0x2fa38a=await async function(_0x2004d0){const _0x2bca15=_0x359af3,_0x771b02=[];for await(const _0x4d34a5 of _0x5b8083(_0x2004d0))_0x771b02[_0x2bca15(0x66e)](_0x4d34a5);return _0x771b02;}(_0x1f21d3);return this[_0x359af3(0x96b)]+=_0x2fa38a[_0x359af3(0x8b1)]((_0x504ba5,_0x5486c6)=>_0x504ba5+_0x5486c6['byteLength'],0x0),void _0x2fa38a[_0x359af3(0x854)]((_0x4e8da1,_0x54546a)=>{const _0x44a548=_0x359af3;this['outgoingTopic'][_0x44a548(0x7da)]({'sourceId':this[_0x44a548(0x611)]['getId'](),'destinationIds':_0x578ca0,'propagate':!0x0,'contentType':_0x5bfdb7[_0x44a548(0x689)][_0x44a548(0x1c1)],'content':{'name':_0x1f21d3[_0x44a548(0x7fe)],'type':_0x1f21d3[_0x44a548(0x983)],'data':_0x4e8da1,'index':_0x54546a,'total':_0x2fa38a[_0x44a548(0x761)]}});});}this[_0x359af3(0x96b)]+=JSON[_0x359af3(0x712)](_0x1f21d3)[_0x359af3(0x761)],this[_0x359af3(0x14f)][_0x359af3(0x7da)]({'sourceId':this[_0x359af3(0x611)]['getId'](),'destinationIds':_0x578ca0,'propagate':!0x0,'contentType':_0x5bfdb7[_0x359af3(0x689)][_0x359af3(0xab6)],'content':_0x1f21d3});}['onMessage'](_0x38f659){return this['incomingTopic']['subscribe'](_0x556674=>{const _0x3fcfbd=a0_0x15bf;switch(_0x2d5d47['log'](_0x422206['DataStream'],_0x3fcfbd(0x7ed),this[_0x3fcfbd(0x611)][_0x3fcfbd(0x8ef)](),_0x556674),_0x556674[_0x3fcfbd(0x81c)]){case _0x5bfdb7['ContentType'][_0x3fcfbd(0xab6)]:this[_0x3fcfbd(0x596)]+=0x1,this[_0x3fcfbd(0x434)]+=JSON['stringify'](_0x556674[_0x3fcfbd(0x38c)])[_0x3fcfbd(0x761)],_0x38f659(_0x556674[_0x3fcfbd(0x2c0)],_0x556674[_0x3fcfbd(0x38c)]);break;case _0x5bfdb7['ContentType'][_0x3fcfbd(0x1c1)]:this[_0x3fcfbd(0x617)][_0x3fcfbd(0xed)](_0x556674[_0x3fcfbd(0x38c)]['name'])||this[_0x3fcfbd(0x617)][_0x3fcfbd(0x23c)](_0x556674[_0x3fcfbd(0x38c)]['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x4e5575=this[_0x3fcfbd(0x617)][_0x3fcfbd(0x627)](_0x556674['content'][_0x3fcfbd(0x7fe)]);if(_0x4e5575[_0x3fcfbd(0x851)]+=0x1,_0x4e5575[_0x3fcfbd(0x434)]+=_0x556674[_0x3fcfbd(0x38c)][_0x3fcfbd(0x6f2)][_0x3fcfbd(0x61e)],_0x4e5575[_0x3fcfbd(0x38c)]&&(_0x4e5575['content'][_0x556674[_0x3fcfbd(0x38c)][_0x3fcfbd(0x97c)]]=_0x556674[_0x3fcfbd(0x38c)][_0x3fcfbd(0x6f2)]),this[_0x3fcfbd(0x617)][_0x3fcfbd(0x23c)](_0x556674[_0x3fcfbd(0x38c)][_0x3fcfbd(0x7fe)],_0x4e5575),_0x4e5575[_0x3fcfbd(0x851)]+0x1<_0x556674[_0x3fcfbd(0x38c)][_0x3fcfbd(0x976)])return;this[_0x3fcfbd(0x596)]+=0x1,this[_0x3fcfbd(0x434)]+=_0x4e5575[_0x3fcfbd(0x434)],_0x4e5575[_0x3fcfbd(0x38c)]&&_0x38f659(_0x556674[_0x3fcfbd(0x2c0)],(_0x5f227b=_0x4e5575[_0x3fcfbd(0x38c)],_0x3630d2=_0x556674[_0x3fcfbd(0x38c)][_0x3fcfbd(0x7fe)],_0x4954fb=_0x556674[_0x3fcfbd(0x38c)][_0x3fcfbd(0x983)],new File(_0x5f227b,_0x3630d2,{'type':_0x4954fb}))),this[_0x3fcfbd(0x617)]['delete'](_0x556674[_0x3fcfbd(0x38c)][_0x3fcfbd(0x7fe)]);}var _0x5f227b,_0x3630d2,_0x4954fb;});}}function _0x14acab(){const _0x578073=_0x52a325;let _0x49c099=[];return{'subscribe':_0x41078a=>(_0x49c099[_0x578073(0x66e)](_0x41078a),()=>{const _0x45cbb4=_0x578073;_0x49c099=_0x49c099[_0x45cbb4(0x6f8)](_0x3bc59a=>_0x3bc59a!==_0x41078a);}),'publish':_0x1edd2c=>{const _0x128fe5=_0x578073;_0x49c099[_0x128fe5(0x854)](_0x84cfc=>_0x84cfc(_0x1edd2c));}};}function _0x2669b5(){let _0x16bb2f;return{'subscribe':_0x5bfb04=>(_0x16bb2f=_0x5bfb04,()=>{_0x16bb2f=void 0x0;}),'publish':_0xdc2746=>{_0x16bb2f&&_0x16bb2f(_0xdc2746);}};}class _0x3a1233{['connector'];[_0x52a325(0x284)];[_0x52a325(0x7e0)];['eventListener']=_0x2669b5();[_0x52a325(0x738)];constructor(_0x2a8b08,_0x361b35,_0x2ca7ba){const _0x4d85fa=_0x52a325;this['connector']=_0x2a8b08,this[_0x4d85fa(0x284)]=_0x361b35,this['tableObserver']=_0x2ca7ba;}[_0x52a325(0x3d9)](){const _0x4cee65=_0x52a325;this[_0x4cee65(0x738)]?.();}async['get'](_0x1f4bc3){const _0x13c1ce=_0x52a325,_0x1348a8={'key':_0x1f4bc3,'tableName':this[_0x13c1ce(0x284)],'action':_0x4493d3[_0x13c1ce(0xb5)]};return this['tableObserver'][_0x13c1ce(0x7da)](_0x1348a8),this[_0x13c1ce(0x137)][_0x13c1ce(0x627)](_0x1f4bc3);}async[_0x52a325(0x23c)](_0x1c4d69,_0x506f95,_0x3578e3=!0x0){const _0x4fd6df=_0x52a325;this[_0x4fd6df(0xa47)](_0x506f95);const _0x3d9f4b=await this['connector']['get'](_0x1c4d69),_0x37d360=await this[_0x4fd6df(0x137)]['set'](_0x1c4d69,_0x506f95),_0x1bed7c=_0x3d9f4b?_0xcc13b5['Update']:_0xcc13b5[_0x4fd6df(0x55e)];if(this[_0x4fd6df(0x7da)](_0x1bed7c,_0x37d360),!_0x3578e3)return _0x37d360;const _0x3c0160={'key':_0x1c4d69,'tableName':this['tableName'],'action':_0x1bed7c,'value':_0x37d360};return this[_0x4fd6df(0x7e0)][_0x4fd6df(0x7da)](_0x3c0160),_0x37d360;}async[_0x52a325(0xa24)](_0x26cca1){const _0x59ba21=_0x52a325;this[_0x59ba21(0xa47)](_0x26cca1);const _0x30da76=await this[_0x59ba21(0x137)]['add'](_0x26cca1),_0x537ce7={'key':_0x30da76['id'],'tableName':this[_0x59ba21(0x284)],'action':_0xcc13b5[_0x59ba21(0x55e)],'value':_0x30da76};return this[_0x59ba21(0x7e0)]['publish'](_0x537ce7),this[_0x59ba21(0x7da)](_0x537ce7['action'],_0x30da76),_0x30da76;}async[_0x52a325(0x4f4)](_0x1274f6,_0x1b2bdb=!0x0){const _0x3e1c09=_0x52a325,_0x2598f0=await this[_0x3e1c09(0x137)][_0x3e1c09(0x627)](_0x1274f6);if(!_0x2598f0)return;await this[_0x3e1c09(0x137)]['delete'](_0x1274f6);const _0x25420e=_0xcc13b5[_0x3e1c09(0x63d)];if(this[_0x3e1c09(0x7da)](_0x25420e,_0x2598f0),!_0x1b2bdb)return;const _0x411283={'key':_0x1274f6,'tableName':this[_0x3e1c09(0x284)],'action':_0x25420e,'value':_0x2598f0};this[_0x3e1c09(0x7e0)][_0x3e1c09(0x7da)](_0x411283);}async[_0x52a325(0xaa)](){const _0x3e8b2c=_0x52a325,_0x5f39d1=await this[_0x3e8b2c(0x3f3)]();for(const _0x179177 of _0x5f39d1){const _0xc29694=_0xcc13b5['Delete'];this[_0x3e8b2c(0x7da)](_0xc29694,_0x179177);const _0x557399={'key':_0x179177['id'],'tableName':this[_0x3e8b2c(0x284)],'action':_0xc29694,'value':_0x179177};this['tableObserver'][_0x3e8b2c(0x7da)](_0x557399);}return this[_0x3e8b2c(0x137)]['clear']();}async[_0x52a325(0x3f3)](_0x15cdd5){const _0x554193=_0x52a325,_0x1703f2={'key':'','tableName':this[_0x554193(0x284)],'action':_0x4493d3[_0x554193(0x83f)]};this['tableObserver'][_0x554193(0x7da)](_0x1703f2);try{_0x15cdd5&&(_0x15cdd5=_0x15cdd5 instanceof _0x1d23c4?_0x15cdd5[_0x554193(0x88e)]():_0x1d23c4[_0x554193(0x48d)](_0x15cdd5)[_0x554193(0x88e)]());}catch(_0xcee86){throw new _0x1d1fb5(_0x433410[_0x554193(0x76e)],_0x554193(0xe7));}try{return await this[_0x554193(0x137)][_0x554193(0x3f3)](_0x15cdd5);}catch(_0x162842){let _0x5ba078='Invalid\x20query';throw _0x162842 instanceof Error&&(_0x5ba078=_0x162842['message']),new _0x1d1fb5(_0x433410[_0x554193(0x76e)],_0x5ba078);}}async[_0x52a325(0x5ae)](_0x2c4571){const _0x4c73a6=_0x52a325,_0x1bab48={'key':'','tableName':this[_0x4c73a6(0x284)],'action':_0x4493d3['Count']};this[_0x4c73a6(0x7e0)][_0x4c73a6(0x7da)](_0x1bab48);try{_0x2c4571&&(_0x2c4571=_0x2c4571 instanceof _0x1d23c4?_0x2c4571[_0x4c73a6(0x88e)]():_0x1d23c4[_0x4c73a6(0x48d)](_0x2c4571)[_0x4c73a6(0x88e)]());}catch(_0xc7c135){throw new _0x1d1fb5(_0x433410[_0x4c73a6(0x76e)],_0x4c73a6(0xe7));}try{return await this[_0x4c73a6(0x137)][_0x4c73a6(0x5ae)](_0x2c4571);}catch(_0x2889fe){let _0x36fa43=_0x4c73a6(0xe7);throw _0x2889fe instanceof Error&&(_0x36fa43=_0x2889fe[_0x4c73a6(0x787)]),new _0x1d1fb5(_0x433410[_0x4c73a6(0x76e)],_0x36fa43);}}[_0x52a325(0x23d)](){const _0xa28086=_0x52a325;return this[_0xa28086(0x137)][_0xa28086(0x23d)]();}['subscribe'](_0x5ab50a){const _0x22010e=_0x52a325;this[_0x22010e(0x738)]=this[_0x22010e(0x547)][_0x22010e(0xaa1)](_0x5ab50a);}[_0x52a325(0xa50)](){const _0x2a49c8=_0x52a325;this[_0x2a49c8(0x738)]?.();}[_0x52a325(0x7da)](_0x86cef6,_0x42ec27){const _0x46d320=_0x52a325,_0x2d2789=this[_0x46d320(0x3ae)](_0x86cef6,_0x42ec27);this[_0x46d320(0x547)][_0x46d320(0x7da)](_0x2d2789);}[_0x52a325(0x3ae)](_0x23643f,_0x500252){const _0x3db5b1=_0x52a325;let _0xedaf5c;switch(_0x23643f){case _0xcc13b5['Add']:_0xedaf5c='add';break;case _0xcc13b5[_0x3db5b1(0x54c)]:_0xedaf5c=_0x3db5b1(0xaae);break;case _0xcc13b5[_0x3db5b1(0x63d)]:_0xedaf5c='delete';}return{'action':_0xedaf5c,'value':_0x500252};}[_0x52a325(0xa47)](_0x490e32){const _0x9f2ab9=_0x52a325;if('object'!=typeof _0x490e32||null===_0x490e32)throw new _0x1d1fb5(_0x433410['KeyValueDatabaseInvalidValue'],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x51f50f in _0x490e32){const _0x21ca70=_0x490e32[_0x51f50f];if(_0x9f2ab9(0x7d8)!=typeof _0x21ca70||_0x21ca70 instanceof Date){if(![_0x9f2ab9(0x347),'number',_0x9f2ab9(0x766)][_0x9f2ab9(0x8cd)](typeof _0x21ca70))throw new _0x1d1fb5(_0x433410[_0x9f2ab9(0x669)],_0x9f2ab9(0x727)+_0x51f50f+_0x9f2ab9(0x815));}else this[_0x9f2ab9(0xa47)](_0x21ca70);}}}class _0x56a6be{[_0x52a325(0xa28)]=[];['totalNodes']=0x0;['transactionQueue']=[];['isComputingMMR']=!0x1;[_0x52a325(0x3b2)]=null;['rootComputationPromise']=null;[_0x52a325(0x304)];['readyResolve']=null;[_0x52a325(0x6a2)]=[];[_0x52a325(0x933)];[_0x52a325(0x628)]=Promise[_0x52a325(0x7f0)]();[_0x52a325(0x47b)]=0x0;constructor(){}get['ready'](){const _0x154771=_0x52a325;return this[_0x154771(0x628)];}async[_0x52a325(0x8cb)](_0x5e735f,_0x311ca0=0x0){const _0x405e1b=_0x52a325;this[_0x405e1b(0x17e)]||(this[_0x405e1b(0x628)]=new Promise(_0x350566=>{this['readyResolve']=_0x350566;}),this[_0x405e1b(0x47b)]=_0x311ca0);const _0x3cfc81=Date['now']();if(this[_0x405e1b(0x56d)])return void this['transactionQueue'][_0x405e1b(0x66e)](_0x5e735f);this[_0x405e1b(0x56d)]=!0x0;let _0x5227ab={'hash':await this[_0x405e1b(0x502)](_0x5e735f),'height':0x0};const _0x195970=this[_0x405e1b(0x613)](_0x5227ab);this[_0x405e1b(0x6a2)][_0x405e1b(0x66e)](_0x195970),await _0x195970,this[_0x405e1b(0x29c)]+=0x1;const _0x3677ed=this[_0x405e1b(0x410)][_0x405e1b(0x761)];for(;this[_0x405e1b(0x410)]['length']>0x0;){const _0xa64ed5=this['transactionQueue'][_0x405e1b(0x55c)]();await this[_0x405e1b(0x8cb)](_0xa64ed5);}this[_0x405e1b(0x282)](),await this[_0x405e1b(0x7d7)],this[_0x405e1b(0x402)](_0x3cfc81,_0x3677ed);}async[_0x52a325(0xa9e)](){const _0x4177c0=_0x52a325;return await this['_ready'],this[_0x4177c0(0x56d)]?(this['rootComputationPromise']||(this[_0x4177c0(0x7f9)]=this[_0x4177c0(0x1b5)]()),await this['rootComputationPromise']):this['cachedRoot'];}['getPeaks'](){const _0x38e9a3=_0x52a325;return this[_0x38e9a3(0xa28)][_0x38e9a3(0x943)](({hash:_0x1e9c45,height:_0x167837})=>({'hash':_0x1e9c45,'height':_0x167837}));}[_0x52a325(0x858)](){const _0x461fc2=_0x52a325;return this[_0x461fc2(0x29c)];}[_0x52a325(0x388)](_0x80621e){const _0x4bff66=_0x52a325;return this[_0x4bff66(0xa28)][_0x4bff66(0x7cc)](_0x1914a1=>_0x1914a1['height']===_0x80621e);}async[_0x52a325(0x473)](_0x2407cd,_0x4d175c){const _0x37f22e=_0x52a325;return await this[_0x37f22e(0x1e9)](_0x2407cd+_0x4d175c);}async[_0x52a325(0x502)](_0x106e71){const _0xbe7576=_0x52a325;return await this[_0xbe7576(0x1e9)](JSON[_0xbe7576(0x712)](_0x106e71));}['comparePeaks'](_0x1ba142){const _0x55199f=_0x52a325,_0x52de68=this[_0x55199f(0x6d7)](),_0x1bddfa=[],_0x1976a8=[],_0x37a52d=[];for(const _0x514894 of _0x52de68){const _0x2bf7cf=_0x1ba142[_0x55199f(0x7cc)](_0x32a33e=>_0x32a33e[_0x55199f(0x440)]===_0x514894['height']);_0x2bf7cf?_0x514894[_0x55199f(0xa1b)]!==_0x2bf7cf[_0x55199f(0xa1b)]&&_0x1bddfa['push']({'height':_0x514894['height'],'localPeak':_0x514894,'remotePeak':_0x2bf7cf}):_0x1976a8[_0x55199f(0x66e)](_0x514894);}for(const _0x4a4076 of _0x1ba142)_0x52de68['find'](_0x4437d8=>_0x4437d8[_0x55199f(0x440)]===_0x4a4076[_0x55199f(0x440)])||_0x37a52d[_0x55199f(0x66e)](_0x4a4076);return{'differingPeaks':_0x1bddfa,'peaksMissingInRemote':_0x1976a8,'peaksMissingInLocal':_0x37a52d};}async[_0x52a325(0x1b5)](){const _0x39e36b=_0x52a325;this[_0x39e36b(0x56d)]=!0x0;const _0x37ceaa=this[_0x39e36b(0xa28)][_0x39e36b(0x943)](_0x9f0d4e=>_0x9f0d4e[_0x39e36b(0xa1b)]);return this[_0x39e36b(0x3b2)]=await this['hashPeakHashes'](_0x37ceaa),this['isComputingMMR']=!0x1,this[_0x39e36b(0x7f9)]=null,this[_0x39e36b(0x282)](),this[_0x39e36b(0x3b2)];}async['computeHash'](_0x3ef3b5){const _0x32c787=_0x52a325;try{const _0x113b2a=new TextEncoder()[_0x32c787(0x9d6)](_0x3ef3b5),_0x386382=await crypto[_0x32c787(0x9fb)]['digest'](_0x32c787(0x726),_0x113b2a);return Array['from'](new Uint8Array(_0x386382))[_0x32c787(0x943)](_0x1a0b37=>_0x1a0b37[_0x32c787(0x84a)](0x10)['padStart'](0x2,'0'))[_0x32c787(0x141)]('');}catch(_0xdd56f2){return console[_0x32c787(0x2a8)]('Hash\x20computation\x20failed,\x20retrying...',_0xdd56f2),this['computeHash'](_0x3ef3b5);}}async[_0x52a325(0x52a)](_0x69e94f){const _0x42d9c1=_0x52a325;return await this[_0x42d9c1(0x1e9)](_0x69e94f[_0x42d9c1(0x141)](''));}async[_0x52a325(0x613)](_0x39e253){const _0x47c9c9=_0x52a325;for(;this['peaks'][_0x47c9c9(0x761)]>0x0&&this[_0x47c9c9(0xa28)][this[_0x47c9c9(0xa28)][_0x47c9c9(0x761)]-0x1][_0x47c9c9(0x440)]===_0x39e253[_0x47c9c9(0x440)];){const _0x121dfc=this[_0x47c9c9(0xa28)][_0x47c9c9(0x59e)]();_0x39e253={'hash':await this['hashNodes'](_0x121dfc[_0x47c9c9(0xa1b)],_0x39e253[_0x47c9c9(0xa1b)]),'left':_0x121dfc,'right':_0x39e253,'height':_0x39e253[_0x47c9c9(0x440)]+0x1};}this[_0x47c9c9(0xa28)]['push'](_0x39e253),await this[_0x47c9c9(0x1b5)]();}[_0x52a325(0x402)](_0x4410d8,_0x1ef3a3){const _0x57a971=_0x52a325;if(!_0x2d5d47[_0x57a971(0x60f)](_0x422206[_0x57a971(0x7ad)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x57a971(0x304)]);const _0x34919b=Date[_0x57a971(0x88b)]();this[_0x57a971(0x304)]=setTimeout(()=>_0x2d5d47['log'](_0x422206[_0x57a971(0x7ad)],_0x57a971(0x643),this[_0x57a971(0x3b2)],'nodes',this[_0x57a971(0x858)](),_0x57a971(0x18d),_0x1ef3a3,'time',_0x34919b-_0x4410d8),0x7d0);}[_0x52a325(0x282)](){const _0x78fc62=_0x52a325;this[_0x78fc62(0x933)]&&clearTimeout(this[_0x78fc62(0x933)]),this[_0x78fc62(0x933)]=setTimeout(async()=>{const _0x54a177=_0x78fc62;try{const _0x5fdfa5=this['readyPromises'];if(this[_0x54a177(0x6a2)]=[],await Promise[_0x54a177(0x30e)](_0x5fdfa5),this[_0x54a177(0x47b)]-=_0x5fdfa5[_0x54a177(0x761)],this[_0x54a177(0x6a2)]['length']>0x0||this[_0x54a177(0x47b)]>0x0)return this[_0x54a177(0x282)]();this[_0x54a177(0x17e)]&&(this[_0x54a177(0x17e)](),this[_0x54a177(0x17e)]=null),this[_0x54a177(0x628)]=Promise[_0x54a177(0x7f0)](),this[_0x54a177(0x56d)]=!0x1;}catch(_0x5cfbd9){console['error'](_0x54a177(0x7a8),_0x5cfbd9);}},0xa);}}const _0x11e13c=[_0x52a325(0x961),_0x52a325(0x695),_0x52a325(0xa32),'Subscription',_0x52a325(0x5d9),'Detection','Remediation'],_0x5f24dd=[[_0x52a325(0x36e),_0x52a325(0x9c0),_0x52a325(0x367),_0x52a325(0x546),_0x52a325(0x513),_0x52a325(0x835),_0x52a325(0x122),_0x52a325(0x5d9),'OptimizationConnectionSuccess'],[_0x52a325(0x296),_0x52a325(0x2d8),'NodeConnectionsUpdate',_0x52a325(0x7c8)],[_0x52a325(0xa6e),_0x52a325(0x395),_0x52a325(0x94d),_0x52a325(0x80f),_0x52a325(0x677),'CloseMediaStream','CloseObjectStoreBucket',_0x52a325(0x42f),_0x52a325(0x6c1),_0x52a325(0x435),_0x52a325(0x5de),'GenerativeAIWorkerStats','GraphDatabaseStats',_0x52a325(0xa90),_0x52a325(0x78c),_0x52a325(0x4f8),_0x52a325(0x4ec),_0x52a325(0x680),_0x52a325(0x752),_0x52a325(0x53e),'LocalMediaStreamTrackFail',_0x52a325(0x237),_0x52a325(0x4e7),_0x52a325(0x601),'RemoteMediaStreamTrackFail',_0x52a325(0x422),_0x52a325(0x14a),'UnsubscribeMediaStream',_0x52a325(0x7f2),_0x52a325(0x76c)],['SubscribeMediaStream',_0x52a325(0x7f2),_0x52a325(0x67d),_0x52a325(0x291),_0x52a325(0x3e9),'MediaStreamUnavailable'],[_0x52a325(0x378),_0x52a325(0x512)],['Problem'],[_0x52a325(0x9e0),_0x52a325(0x824)]];function _0x2208d4(_0x340f79){const _0x334a0a=_0x52a325;return{..._0x340f79,'systemMessageType':_0x11e13c[_0x340f79[_0x334a0a(0x91b)]],'systemContentMessageType':_0x5f24dd[_0x340f79[_0x334a0a(0x91b)]][_0x340f79[_0x334a0a(0x38c)][_0x334a0a(0x983)]]};}const _0x3e1b90={'hour':_0x52a325(0x81f),'minute':_0x52a325(0x81f),'second':_0x52a325(0x81f)};function _0x176765(_0x45fbd6,_0x4048af){const _0x1abdc2=_0x52a325,_0x4330ee=(function(){const _0x4b3f8f=a0_0x15bf,_0x145393=new Date(),_0x4bf541=_0x145393[_0x4b3f8f(0x8d8)](),_0x19c37c=_0x145393[_0x4b3f8f(0x4c5)](_0x4b3f8f(0x33a),_0x3e1b90)[_0x4b3f8f(0x524)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x19c37c+'.'+(_0x4bf541>0x64?''+_0x4bf541:_0x4bf541>0xa?'0'+_0x4bf541:'00'+_0x4bf541);}()),{sourceId:_0x426862,destinationIds:_0x555a68,systemMessageType:_0x2e4889,systemContentMessageType:_0x4a4ed6}=_0x2208d4(_0x45fbd6);return _0x4330ee+'\x20-\x20'+_0x4048af+_0x1abdc2(0x1b6)+(_0x426862===_0x4048af?_0x1abdc2(0x327)+_0x2e4889+'\x27\x20to\x20'+(_0x555a68?''+_0x555a68:_0x1abdc2(0x321)):_0x45fbd6[_0x1abdc2(0x2c0)]===_0x1ee970?_0x1abdc2(0x334)+_0x2e4889+'\x27':(_0x555a68?'':_0x1abdc2(0x96a))+_0x1abdc2(0x92f)+_0x2e4889+_0x1abdc2(0x5fc)+_0x426862)+_0x1abdc2(0x328)+_0x4a4ed6+_0x1abdc2(0x1ac);}function _0x5170c7(_0x1b0588,_0x2b375f){const _0x421382=_0x52a325;if(!_0x2d5d47[_0x421382(0x60f)](_0x1b0588))return;if(_0x4d71fb[_0x421382(0xa07)])return;if(_0x421382(0x4a1)==typeof process)return;const _0x272934=process[_0x421382(0x24d)]();console[_0x421382(0x109)](_0x421382(0x1a5)+_0x2b375f+':');for(const _0x80f32a in _0x272934)console[_0x421382(0x109)]('\x20\x20'+_0x80f32a+':\x20'+(_0x272934[_0x80f32a]/0x400/0x400)[_0x421382(0xc4)](0x2)+_0x421382(0x8ab));}function _0x160d2b(_0x3ea5bb,_0x444dce){const _0x59d4e2=_0x52a325;if(!_0x2d5d47[_0x59d4e2(0x60f)](_0x444dce))return _0x2d5d47[_0x59d4e2(0xf3)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x444dce),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x378de1,_0x347ae6)=>_0x347ae6}};let _0x2766c6=0x0;return{'timingLogger':((()=>{const _0x5217d7=_0x59d4e2;let _0x283235=Date[_0x5217d7(0x88b)]();return{'start':()=>{_0x283235=Date['now']();},'now':()=>Date[_0x5217d7(0x88b)](),'logWaitTime':_0x48a9e5=>{_0x2766c6+=Date['now']()-_0x283235,_0x2d5d47['log'](_0x444dce,_0x48a9e5,_0x2766c6+'ms',_0x3ea5bb);}};})()),'logger':{'log':(_0x5b0dd0,_0x35ee25=()=>{})=>{const _0x4accf2=_0x59d4e2,_0x5d872a=_0x35ee25();_0x5d872a?_0x2d5d47['log'](_0x444dce,_0x5b0dd0,_0x5d872a,_0x3ea5bb):_0x2d5d47[_0x4accf2(0x109)](_0x444dce,_0x5b0dd0,_0x3ea5bb);},'performCalculation':(_0x248cc2,_0x531fce)=>_0x248cc2()}};}function _0x410733(_0x24fbf6){const _0x1c2e88=_0x52a325;return _0x1c2e88(0x4a1)==typeof Buffer?0x0:Buffer[_0x1c2e88(0x61e)](JSON[_0x1c2e88(0x712)](_0x24fbf6),_0x1c2e88(0x106));}function _0x431028(_0x541e69){const _0xe18354=_0x52a325;if(0x0===_0x541e69)return _0xe18354(0x8bb);const _0x12f301=Math[_0xe18354(0x9bb)](Math['log'](_0x541e69)/Math[_0xe18354(0x109)](0x400));return parseFloat((_0x541e69/Math['pow'](0x400,_0x12f301))[_0xe18354(0xc4)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x12f301];}class _0x2485e2 extends _0x376443{[_0x52a325(0x8df)];[_0x52a325(0x285)];[_0x52a325(0x793)];[_0x52a325(0x464)];['db'];['dbKey'];[_0x52a325(0x605)]=new Map();[_0x52a325(0x7e0)];[_0x52a325(0x119)];[_0x52a325(0x10c)];[_0x52a325(0x172)];[_0x52a325(0x535)];[_0x52a325(0x51a)]=[];[_0x52a325(0x5e2)]=()=>{};[_0x52a325(0x7b4)];[_0x52a325(0x547)]=_0x2669b5();[_0x52a325(0x738)];[_0x52a325(0xa4e)]=[];[_0x52a325(0x771)];[_0x52a325(0xc1)];[_0x52a325(0x97f)]=0x0;[_0x52a325(0xa03)]=0x0;[_0x52a325(0x50a)]=!0x1;[_0x52a325(0x5cd)]=new _0x56a6be();[_0x52a325(0x21b)]=new Map();['transactions']=[];['debounceRebuildMMR'];[_0x52a325(0x46d)]=[];['loggingCycle'];constructor(_0xab88a6,_0x26ff3c,_0x122ce4,_0x336acd,_0x18c2bc,_0x3275fd,_0x4b6a90){const _0xa1a8e6=_0x52a325;if('string'!=typeof _0x26ff3c)throw new _0x1d1fb5(_0x433410[_0xa1a8e6(0x568)],_0xa1a8e6(0x965));if(super(_0xab88a6,_0x26ff3c),this['localNode']=_0xab88a6,this[_0xa1a8e6(0x285)]=_0x122ce4,this[_0xa1a8e6(0x793)]=_0x336acd,this['isNodeReady']=_0x4b6a90,this[_0xa1a8e6(0x306)]=_0xa1a8e6(0x2be)+this[_0xa1a8e6(0x793)]+_0xa1a8e6(0x2be)+this[_0xa1a8e6(0x285)]+'ccc'+this[_0xa1a8e6(0x7cd)],this[_0xa1a8e6(0x7e0)]=_0x2669b5(),this[_0xa1a8e6(0x2b1)]=function(_0x16b4a6,_0x15ebec){const _0x19fe10=_0xa1a8e6;if(!_0x2d5d47[_0x19fe10(0x60f)](_0x15ebec))return _0x2d5d47[_0x19fe10(0xf3)](_0x19fe10(0x387)+_0x15ebec),{..._0x160d2b(_0x16b4a6,_0x15ebec),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':_0x19fe10(0x8bb)})};const {timingLogger:_0x1e200b,logger:_0x1c511f}=_0x160d2b(_0x16b4a6,_0x15ebec);let _0x26af46=0x0,_0x44c1f3=0x0;return{'timingLogger':_0x1e200b,'logger':_0x1c511f,'logDataSent':(_0x5c5baf,_0x29e080=!0x1)=>{const _0x10852b=_0x19fe10,_0x59aea5=_0x410733(_0x5c5baf);return _0x29e080&&_0x2d5d47[_0x10852b(0x109)](_0x15ebec,_0x10852b(0x972),_0x16b4a6,_0x59aea5),_0x26af46+=_0x59aea5,_0x59aea5;},'logDataReceived':(_0x28723c,_0x46b6da=!0x1)=>{const _0x33694b=_0x19fe10,_0x21c4ff=_0x410733(_0x28723c);return _0x46b6da&&_0x2d5d47['log'](_0x15ebec,_0x33694b(0x863),_0x16b4a6,_0x21c4ff),_0x44c1f3+=_0x21c4ff,_0x21c4ff;},'getDataLogged':()=>({'dataSent':_0x431028(_0x26af46),'dataReceived':_0x431028(_0x44c1f3)})};}(this[_0xa1a8e6(0x7cd)],_0x422206[_0xa1a8e6(0x7ad)]),this[_0xa1a8e6(0x172)]=new Promise(_0x3abe49=>{const _0x223491=_0xa1a8e6;this[_0x223491(0x535)]=_0x3abe49;}),_0x18c2bc instanceof _0x29936e)this[_0xa1a8e6(0x771)]=_0x18c2bc[_0xa1a8e6(0x501)]();else{const [_0xdadd14,_0x5dfe2f]=_0x29936e['validateLayout'](_0x18c2bc);if(!_0xdadd14)throw new _0x1d1fb5(_0x433410['KeyValueDatabaseInvalidLayout'],'Invalid\x20layout:\x20'+_0x5dfe2f);this[_0xa1a8e6(0x771)]=structuredClone(_0x18c2bc);}this['addReservedTables'](this['layout']),this['db']=new _0x3275fd(this['dbKey'],this[_0xa1a8e6(0x771)]),this[_0xa1a8e6(0x34a)]();}async[_0x52a325(0x25a)](_0x4a2c35,_0x19de01){const _0x11f999=_0x52a325;if(_0x2d5d47[_0x11f999(0x109)](_0x422206[_0x11f999(0x7ad)],_0x11f999(0x486),this[_0x11f999(0x7cd)]),!this[_0x11f999(0x119)])throw new _0x162f0d(_0x162f0d['codes']['KeyValueDatabaseTransactionTableNotInitialized']);if(await this['isSync'],await this[_0x11f999(0x464)](_0x4a2c35),await this[_0x11f999(0x5cd)][_0x11f999(0xa9e)]()===_0x19de01){const _0x3e6131={'sourceId':this['localNode'][_0x11f999(0x8ef)](),'destinationIds':[_0x4a2c35],'propagate':!0x0,'messageType':_0x5ebcbf['Content'],'content':{'type':_0x539ab3['KeyValueDatabaseContentSynchronized'],'label':this['label'],'mmrRoot':_0x19de01}};return this[_0x11f999(0x2b1)][_0x11f999(0x7e3)](_0x3e6131),void this[_0x11f999(0xbb)][_0x11f999(0x7da)](_0x3e6131);}const _0x2b17fb=this[_0x11f999(0x5cd)][_0x11f999(0x6d7)](),_0x2dc85e={'sourceId':this[_0x11f999(0x8df)][_0x11f999(0x8ef)](),'destinationIds':[_0x4a2c35],'propagate':!0x0,'messageType':_0x5ebcbf[_0x11f999(0xa32)],'content':{'type':_0x539ab3['KeyValueDatabaseContentAvailable'],'label':this['label'],'peaks':_0x2b17fb}};this['loggingCycle'][_0x11f999(0x7e3)](_0x2dc85e),this[_0x11f999(0xbb)][_0x11f999(0x7da)](_0x2dc85e);}async[_0x52a325(0x625)](_0x17ed21,_0x3421f3){const _0x296dcf=_0x52a325,_0x455dbf=await this['mmr']['getRoot'](),_0x3f76cd=_0x455dbf===_0x3421f3;if(_0x2d5d47[_0x296dcf(0x109)](_0x422206[_0x296dcf(0x7ad)],'Received\x20ContentSynchronized\x20from\x20'+_0x17ed21+_0x296dcf(0x545)+_0x3f76cd,this[_0x296dcf(0x7cd)]),_0x3f76cd)return this[_0x296dcf(0x277)](),void this['publishSyncCompleted']();_0x2d5d47[_0x296dcf(0x109)](_0x422206[_0x296dcf(0x7ad)],_0x296dcf(0x455),_0x455dbf,_0x3421f3),_0x2d5d47[_0x296dcf(0x196)]('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this[_0x296dcf(0x8df)][_0x296dcf(0x8ef)](),'nodeType':this[_0x296dcf(0x8df)]['type'],'remoteId':_0x17ed21,'data':{'localMMRRoot':_0x455dbf,'remoteMMRRoot':_0x3421f3}});const _0x4331b2={'sourceId':this['localNode']['getId'](),'messageType':_0x5ebcbf[_0x296dcf(0xa32)],'propagate':!0x0,'content':{'type':_0x539ab3['KeyValueDatabaseSyncRequired'],'label':this[_0x296dcf(0x7cd)],'mmrRoot':_0x455dbf}};this['systemTopic'][_0x296dcf(0x7da)](_0x4331b2);}async['processContentAvailable'](_0x30bbc1,_0x1b9c40){const _0x9eb4ce=_0x52a325;if(_0x2d5d47[_0x9eb4ce(0x109)](_0x422206[_0x9eb4ce(0x7ad)],_0x9eb4ce(0x407),_0x30bbc1,_0x9eb4ce(0x7cd),this[_0x9eb4ce(0x7cd)],_0x9eb4ce(0xa28),_0x1b9c40),this['contentRequestSent'])return;this[_0x9eb4ce(0x50a)]=!0x0,this[_0x9eb4ce(0x277)]();const {differingPeaks:_0x3d579d,peaksMissingInLocal:_0x218731,peaksMissingInRemote:_0x66b2f3}=this['mmr']['comparePeaks'](_0x1b9c40);_0x2d5d47[_0x9eb4ce(0x109)](_0x422206[_0x9eb4ce(0x7ad)],_0x9eb4ce(0xb4),{'differingPeaks':_0x3d579d,'peaksMissingInLocal':_0x218731,'peaksMissingInRemote':_0x66b2f3});const _0x1bda49={'sourceId':this[_0x9eb4ce(0x8df)][_0x9eb4ce(0x8ef)](),'destinationIds':[_0x30bbc1],'propagate':!0x0,'messageType':_0x5ebcbf[_0x9eb4ce(0xa32)],'content':{'type':_0x539ab3['KeyValueDatabaseRequestPeakTransactions'],'label':this[_0x9eb4ce(0x7cd)],'peakHeights':_0x218731[_0x9eb4ce(0x943)](_0x3e5d92=>_0x3e5d92['height'])[_0x9eb4ce(0xa93)](_0x3d579d['map'](_0x22d371=>_0x22d371[_0x9eb4ce(0x440)]))}};if(this['systemTopic']['publish'](_0x1bda49),_0x3d579d[_0x9eb4ce(0x761)]>0x0||_0x66b2f3[_0x9eb4ce(0x761)]>0x0){const _0x22af1c=_0x66b2f3['map'](_0x52ee34=>_0x52ee34[_0x9eb4ce(0x440)])[_0x9eb4ce(0xa93)](_0x3d579d[_0x9eb4ce(0x943)](_0x33bb1a=>_0x33bb1a[_0x9eb4ce(0x440)]));await this[_0x9eb4ce(0x474)](_0x30bbc1,_0x22af1c,!0x0);}}async[_0x52a325(0x474)](_0x1aa322,_0x42e9d9,_0x2cdbe3=!0x1){const _0x4d265a=_0x52a325;_0x2d5d47['log'](_0x422206[_0x4d265a(0x7ad)],_0x4d265a(0x905),this[_0x4d265a(0x7cd)]);const _0x2c91ad=_0x42e9d9[_0x4d265a(0x943)](_0x5db009=>this[_0x4d265a(0x5cd)][_0x4d265a(0x388)](_0x5db009))[_0x4d265a(0x6f8)](Boolean);if(!_0x2c91ad[_0x4d265a(0x761)]||_0x42e9d9[_0x4d265a(0x761)]!==_0x2c91ad[_0x4d265a(0x761)])throw new _0x162f0d(_0x162f0d[_0x4d265a(0x2a6)][_0x4d265a(0x95c)],{'message':_0x4d265a(0x517),'peakHeights':_0x42e9d9,'peaks':_0x2c91ad[_0x4d265a(0x943)](_0x127330=>_0x127330[_0x4d265a(0x440)]),'nodeId':_0x1aa322});const _0x156e96=[];for(const _0x358902 of _0x2c91ad)this['collectTransactionsFromNode'](_0x358902,_0x156e96);const _0x684877=_0x2cdbe3?void 0x0:[_0x1aa322],_0x3f36d1={'sourceId':this[_0x4d265a(0x8df)][_0x4d265a(0x8ef)](),'destinationIds':_0x684877,'messageType':_0x5ebcbf[_0x4d265a(0xa32)],'propagate':!0x0,'content':{'type':_0x539ab3[_0x4d265a(0x680)],'label':this['label'],'transactions':_0x156e96}};this[_0x4d265a(0x2b1)][_0x4d265a(0x7e3)](_0x3f36d1),this[_0x4d265a(0xbb)]['publish'](_0x3f36d1);}async[_0x52a325(0xa2b)](_0x327c50,_0x4113ac){const _0x2844ee=_0x52a325;_0x2d5d47[_0x2844ee(0x109)](_0x422206[_0x2844ee(0x7ad)],_0x2844ee(0x352)+_0x4113ac[_0x2844ee(0x761)]+_0x2844ee(0x5b6)+_0x327c50+_0x2844ee(0x1b6)+this[_0x2844ee(0x7cd)]);for(const _0x57360d of _0x4113ac){const _0x408b99=await this[_0x2844ee(0x119)]['get'](_0x57360d['id']);if(!(_0x408b99&&this[_0x2844ee(0x2ba)](_0x408b99,_0x57360d)>=0x0)){if(_0x57360d[_0x2844ee(0x5eb)]===_0xcc13b5[_0x2844ee(0x63d)]){const [_0x2d1c64,_0x1a0d43]=_0x57360d['id'][_0x2844ee(0x73a)]('::'),_0x48120a=this[_0x2844ee(0x2dc)](_0x2d1c64);await _0x48120a[_0x2844ee(0x4f4)](_0x1a0d43);}else this[_0x2844ee(0x51a)][_0x2844ee(0x66e)](_0x57360d['id']);}}if(_0x2d5d47[_0x2844ee(0x109)](_0x422206[_0x2844ee(0x7ad)],_0x2844ee(0x36d)+this[_0x2844ee(0x51a)]['length']+_0x2844ee(0x9cb),this[_0x2844ee(0x7cd)]),this[_0x2844ee(0x51a)][_0x2844ee(0x761)]>0x0){const _0x374843={'sourceId':this[_0x2844ee(0x8df)][_0x2844ee(0x8ef)](),'destinationIds':[_0x327c50],'messageType':_0x5ebcbf[_0x2844ee(0xa32)],'propagate':!0x0,'content':{'type':_0x539ab3[_0x2844ee(0x4ec)],'label':this['label'],'transactionIds':this[_0x2844ee(0x51a)]}};this[_0x2844ee(0x2b1)][_0x2844ee(0x7e3)](_0x374843),this[_0x2844ee(0xbb)]['publish'](_0x374843);}}['reset'](){const _0x2a8143=_0x52a325;this[_0x2a8143(0x34a)]();}[_0x52a325(0x7d4)](){const _0x3bd170=_0x52a325;return _0x5bfdb7['ContentType'][_0x3bd170(0x7ad)];}['destroy'](){const _0x187dc6=_0x52a325;this['db']['close'](),this['tableUnsubscriber']?.(),clearTimeout(this[_0x187dc6(0xc1)]),delete this[_0x187dc6(0xc1)],super[_0x187dc6(0x3d9)]();}[_0x52a325(0x93c)](){const _0x37b0d5=_0x52a325;this['clearSyncTimeout'](),this[_0x37b0d5(0xbb)]['publish']({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x37b0d5(0xa32)],'content':{'type':_0x539ab3[_0x37b0d5(0x677)],'label':this[_0x37b0d5(0x7cd)]}});}[_0x52a325(0x2dc)](_0x355da6){const _0x552d0e=_0x52a325,_0x3633dd=this[_0x552d0e(0x605)][_0x552d0e(0x627)](_0x355da6);if(_0x3633dd)return _0x3633dd;try{if(!this['db'][_0x552d0e(0x1b4)](_0x355da6))throw new _0x1d1fb5(_0x433410[_0x552d0e(0x42d)],'Table\x20not\x20found');const _0x13d449=new _0x3a1233(this['db'][_0x552d0e(0x4ef)](_0x355da6),_0x355da6,this['tableObserver']);return this[_0x552d0e(0x605)][_0x552d0e(0x23c)](_0x355da6,_0x13d449),{'get':_0x13d449[_0x552d0e(0x627)][_0x552d0e(0x3d2)](_0x13d449),'set':_0x13d449[_0x552d0e(0x23c)][_0x552d0e(0x3d2)](_0x13d449),'add':_0x13d449[_0x552d0e(0xa24)][_0x552d0e(0x3d2)](_0x13d449),'delete':_0x13d449['delete'][_0x552d0e(0x3d2)](_0x13d449),'clear':_0x13d449[_0x552d0e(0xaa)][_0x552d0e(0x3d2)](_0x13d449),'list':_0x13d449[_0x552d0e(0x3f3)][_0x552d0e(0x3d2)](_0x13d449),'count':_0x13d449[_0x552d0e(0x5ae)][_0x552d0e(0x3d2)](_0x13d449),'subscribe':_0x13d449[_0x552d0e(0xaa1)]['bind'](_0x13d449),'unsubscribe':_0x13d449[_0x552d0e(0xa50)]['bind'](_0x13d449)};}catch(_0x1b2b53){if(_0x1b2b53 instanceof _0x1d1fb5)throw _0x1b2b53;throw new _0x1d1fb5(_0x433410[_0x552d0e(0xbd)],_0x552d0e(0x2ca));}}[_0x52a325(0xaa1)](_0x3d3716){const _0x27912b=_0x52a325;this[_0x27912b(0x738)]=this[_0x27912b(0x547)][_0x27912b(0xaa1)](_0x3d3716),this[_0x27912b(0x4af)](this[_0x27912b(0x172)])[_0x27912b(0x917)](_0x5ee1e6=>{const _0x5797cf=_0x27912b;_0x5ee1e6&&this['eventListener']['publish']({'event':_0x5bfdb7['DatabaseEvent'][_0x5797cf(0x644)]});});}['unsubscribe'](){const _0x413181=_0x52a325;this['listenerUnsubscriber']?.(),this[_0x413181(0x738)]=void 0x0;}async[_0x52a325(0x807)](){const _0x2e0946=_0x52a325;_0x5170c7(_0x422206[_0x2e0946(0x7ad)],_0x2e0946(0x8e1));const _0x38f4d8=[_0x44c02c,_0x3fc917],_0x5586eb=[];try{await this['db'][_0x2e0946(0x807)]();const _0x13329c=this['db'][_0x2e0946(0x4ef)](_0x3fc917),_0xf23dde=await _0x13329c['list'](),{id:_0x2d99f8,layout:_0x3b65e2}=_0xf23dde[0x0]??{};if(_0x3b65e2){for(const _0x65304f in _0x3b65e2)_0x38f4d8[_0x2e0946(0x8cd)](_0x65304f)||this['db'][_0x2e0946(0x1b4)](_0x65304f)||_0x5586eb[_0x2e0946(0x66e)](_0x65304f);await _0x13329c[_0x2e0946(0x23c)](_0x2d99f8,{'layout':this[_0x2e0946(0x771)]});}else await _0x13329c['add']({'layout':this[_0x2e0946(0x771)]});}catch(_0x5905b3){throw new _0x1d1fb5(_0x433410[_0x2e0946(0xbd)],_0x5905b3[_0x2e0946(0x787)]||_0x2e0946(0x185));}this[_0x2e0946(0x8f9)](),await this[_0x2e0946(0x9aa)](),this[_0x2e0946(0x65a)](),this[_0x2e0946(0x5b2)](),_0x5586eb['forEach'](_0x27750e=>this['deleteTransactionsForTable'](_0x27750e));}async[_0x52a325(0x80b)](_0x43e339,_0x2afb51=()=>{},_0x2803ed=!0x1){const _0x4083f2=_0x52a325;if(!_0x43e339)return setTimeout(()=>{const _0x2e7b90=a0_0x15bf;this[_0x2e7b90(0x277)](),this['publishSyncCompleted']();},0x0),!0x0;if(this[_0x4083f2(0x50a)]=!0x1,this[_0x4083f2(0x5e2)]=_0x2afb51,this[_0x4083f2(0x7b4)]=setTimeout(_0x2afb51,0x7d0),!this[_0x4083f2(0xbb)])throw new _0x162f0d(_0x162f0d[_0x4083f2(0x2a6)][_0x4083f2(0xb7)]);const _0xebc03e=await this[_0x4083f2(0x5cd)]['getRoot'](),_0x8665f={'sourceId':this[_0x4083f2(0x8df)][_0x4083f2(0x8ef)](),'messageType':_0x5ebcbf['Content'],'propagate':_0x2803ed,'content':{'type':_0x539ab3['KeyValueDatabaseSyncRequired'],'label':this[_0x4083f2(0x7cd)],'mmrRoot':_0xebc03e}};return this[_0x4083f2(0x2b1)][_0x4083f2(0x7e3)](_0x8665f),this[_0x4083f2(0xbb)]['publish'](_0x8665f),this[_0x4083f2(0x172)];}async[_0x52a325(0x97d)](_0x5e3a1d,_0x45a920){const _0x5a80b9=_0x52a325;if(_0x2d5d47[_0x5a80b9(0x109)](_0x422206[_0x5a80b9(0x7ad)],'Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20'+_0x45a920[_0x5a80b9(0x761)],this[_0x5a80b9(0x7cd)]),!this['transactionTable'])throw new _0x162f0d(_0x162f0d[_0x5a80b9(0x2a6)][_0x5a80b9(0xa13)]);for(const _0x270ae5 of _0x45a920){const _0x458c71=await this[_0x5a80b9(0x119)][_0x5a80b9(0x627)](_0x270ae5);if(!_0x458c71)continue;const [_0x43b99f,_0xe6373b]=_0x270ae5[_0x5a80b9(0x73a)]('::'),_0x3fedc9=this[_0x5a80b9(0x2dc)](_0x43b99f),_0x3a899d=await _0x3fedc9[_0x5a80b9(0x627)](_0xe6373b);_0x3a899d?(_0x458c71[_0x5a80b9(0x320)]=_0x3a899d,this[_0x5a80b9(0x9c8)](_0x458c71,[_0x5e3a1d])):_0x2d5d47['warning']('sendTransactionsValue\x20-\x20value\x20not\x20found',{'nodeId':this[_0x5a80b9(0x8df)][_0x5a80b9(0x8ef)](),'nodeType':this[_0x5a80b9(0x8df)][_0x5a80b9(0x983)],'remoteId':_0x5e3a1d,'data':{'tableKeys':Object[_0x5a80b9(0x5a9)](this[_0x5a80b9(0x605)]),'transactionId':_0x270ae5,'transactions':this[_0x5a80b9(0x51a)],'tableName':_0x43b99f,'key':_0xe6373b}});}}async[_0x52a325(0x6d2)](_0x16b51a){const _0x164124=_0x52a325;if(!this['transactionTable'])throw new _0x162f0d(_0x162f0d['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x161ae0=await this[_0x164124(0x5cd)][_0x164124(0x502)](_0x16b51a),_0x45adc3=this[_0x164124(0x21b)][_0x164124(0x627)](_0x161ae0);if(_0x45adc3&&this[_0x164124(0x2ba)](_0x16b51a,_0x45adc3)<=0x0)return void _0x2d5d47[_0x164124(0x109)](_0x422206[_0x164124(0x7ad)],_0x164124(0x3a9),_0x16b51a);const _0x52f215={..._0x16b51a};return delete _0x52f215[_0x164124(0x320)],this[_0x164124(0x6dd)](_0x52f215),await this['transactionTable']['set'](_0x16b51a['id'],_0x52f215),_0x16b51a;}[_0x52a325(0x2ba)](_0x18b890,_0x4ca3af){const _0x5485d8=_0x52a325;return _0x18b890[_0x5485d8(0x349)]!==_0x4ca3af[_0x5485d8(0x349)]?_0x18b890[_0x5485d8(0x349)]-_0x4ca3af[_0x5485d8(0x349)]:_0x18b890['priority']-_0x4ca3af[_0x5485d8(0x2c9)];}async['getTransactionFromTableWriteEvent'](_0xdf1dba){const _0x25d363=_0x52a325;if(!this[_0x25d363(0x119)])throw new _0x162f0d(_0x162f0d['codes'][_0x25d363(0xa13)]);const _0x1722a6=_0xdf1dba[_0x25d363(0x284)]+'::'+_0xdf1dba['key'],_0x110d0a=await _0x36dffc[_0x25d363(0x39a)](),_0x24906f={'id':_0x1722a6,'priority':Math[_0x25d363(0x964)](),'timestamp':_0x110d0a,'action':_0xdf1dba[_0x25d363(0x5eb)]};if(await this['writeTransaction'](_0x24906f))return _0x24906f;}async[_0x52a325(0x9f2)](_0x4702fe){const _0x59c33b=_0x52a325;if(!this[_0x59c33b(0x119)])throw new _0x162f0d(_0x162f0d[_0x59c33b(0x2a6)][_0x59c33b(0xa13)]);const _0x49f833=_0x1d23c4['index']('id')[_0x59c33b(0x940)](_0x59c33b(0x795),[_0x4702fe+'::',_0x4702fe+_0x59c33b(0x939)]),_0x20e4f1=await this[_0x59c33b(0x119)][_0x59c33b(0x3f3)](_0x49f833[_0x59c33b(0x88e)]());for(const _0x5456d8 of _0x20e4f1)await this['transactionTable'][_0x59c33b(0x4f4)](_0x5456d8['id']);}[_0x52a325(0x65a)](){const _0x3bc110=_0x52a325;this[_0x3bc110(0x6d3)](async(_0xcd487d,_0x4fada8)=>{const _0x3f3249=_0x3bc110;if(_0x4fada8 instanceof File)return;if(this['loggingCycle']['logDataReceived'](_0x4fada8),!await this[_0x3f3249(0x6d2)](_0x4fada8))return void this['checkSyncComplete'](_0xcd487d,_0x4fada8);if(!_0x4fada8['value'])throw new _0x162f0d(_0x162f0d[_0x3f3249(0x2a6)][_0x3f3249(0x600)]);const [_0x4b0f40,_0x4c1f8b]=_0x4fada8['id'][_0x3f3249(0x73a)]('::'),_0xf0dc61=this[_0x3f3249(0x2dc)](_0x4b0f40);if(!_0xf0dc61)throw new _0x162f0d(_0x162f0d[_0x3f3249(0x2a6)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0xf0dc61});let _0x4cc464=0x0;switch(_0x4fada8[_0x3f3249(0x5eb)]){case _0xcc13b5[_0x3f3249(0x55e)]:case _0xcc13b5[_0x3f3249(0x54c)]:{const _0x47c74a=_0xf0dc61[_0x3f3249(0x23c)](_0x4c1f8b,_0x4fada8[_0x3f3249(0x320)],!0x1);_0x4cc464=JSON[_0x3f3249(0x712)](_0x4fada8[_0x3f3249(0x320)])[_0x3f3249(0x761)],this[_0x3f3249(0x51a)][_0x3f3249(0x8cd)](_0x4fada8['id'])&&this[_0x3f3249(0xa4e)][_0x3f3249(0x66e)](_0x47c74a);break;}case _0xcc13b5[_0x3f3249(0x63d)]:{const _0x448ce8=_0xf0dc61[_0x3f3249(0x4f4)](_0x4c1f8b,!0x1);this['transactionsToSync'][_0x3f3249(0x8cd)](_0x4fada8['id'])&&this[_0x3f3249(0xa4e)][_0x3f3249(0x66e)](_0x448ce8);break;}}_0x2d5d47[_0x3f3249(0x59d)](_0x380533[_0x3f3249(0x7ad)],{'type':_0x3f3249(0x80b),'label':this[_0x3f3249(0x7cd)],'nodeId':this[_0x3f3249(0x8df)]['getId'](),'nodeType':this['localNode']['type'],'clusterId':this[_0x3f3249(0x285)],'tableName':_0x4b0f40,'key':_0x4c1f8b,'size':_0x4cc464}),this[_0x3f3249(0x3a6)](_0xcd487d,_0x4fada8);});}['setOnTableWriteHandler'](){const _0x517040=_0x52a325;this[_0x517040(0x10c)]=this['tableObserver']['subscribe'](async _0xca157a=>{const _0x34b96b=_0x517040;let _0xc2371e=0x0;switch(_0xca157a[_0x34b96b(0x5eb)]){case _0xcc13b5[_0x34b96b(0x55e)]:case _0xcc13b5[_0x34b96b(0x54c)]:case _0xcc13b5[_0x34b96b(0x63d)]:{const _0x43aba8=await this[_0x34b96b(0x532)](_0xca157a);if(!_0x43aba8)return;_0x43aba8['value']=_0xca157a[_0x34b96b(0x320)],this[_0x34b96b(0x9c8)](_0x43aba8),_0xc2371e=JSON[_0x34b96b(0x712)](_0xca157a[_0x34b96b(0x320)])[_0x34b96b(0x761)],this['writes']+=0x1;break;}case _0x4493d3[_0x34b96b(0xb5)]:case _0x4493d3[_0x34b96b(0x83f)]:case _0x4493d3[_0x34b96b(0x362)]:this[_0x34b96b(0xa03)]+=0x1;}_0x2d5d47[_0x34b96b(0x59d)](_0x380533['KeyValueDatabase'],{'type':_0xca157a[_0x34b96b(0x5eb)],'label':this[_0x34b96b(0x7cd)],'nodeId':this[_0x34b96b(0x8df)][_0x34b96b(0x8ef)](),'nodeType':this[_0x34b96b(0x8df)][_0x34b96b(0x983)],'clusterId':this[_0x34b96b(0x285)],'tableName':_0xca157a[_0x34b96b(0x284)],'key':_0xca157a[_0x34b96b(0x373)],'size':_0xc2371e}),this[_0x34b96b(0x34a)]();});}[_0x52a325(0x8f9)](){const _0x5276a7=_0x52a325;this['db']&&(this[_0x5276a7(0x119)]||(this[_0x5276a7(0x119)]=this['db'][_0x5276a7(0x4ef)](_0x44c02c)));}['clearSyncTimeout'](){const _0x1667fc=_0x52a325;this[_0x1667fc(0x7b4)]&&(clearTimeout(this[_0x1667fc(0x7b4)]),delete this[_0x1667fc(0x7b4)]);}async[_0x52a325(0x6eb)](){const _0x966094=_0x52a325;await this[_0x966094(0x5cd)][_0x966094(0x7d7)],this[_0x966094(0x7e1)](),this['eventListener'][_0x966094(0x7da)]({'event':_0x5bfdb7[_0x966094(0xa51)][_0x966094(0x644)]}),this[_0x966094(0x535)]?.(!0x0),delete this['syncResolve'],this['sendStats'](),_0x2d5d47[_0x966094(0x109)](_0x422206[_0x966094(0x7ad)],_0x966094(0x329),this['label']);}async[_0x52a325(0xd5)](_0x384c6b){const _0x412149=_0x52a325;await Promise['all'](this['syncTransactionsWritten']),_0x2d5d47[_0x412149(0x109)](_0x422206[_0x412149(0x7ad)],_0x412149(0x810)+this[_0x412149(0xa4e)][_0x412149(0x761)]+_0x412149(0x847)+_0x384c6b+_0x412149(0x74e),this[_0x412149(0x7cd)]),await this[_0x412149(0x5cd)][_0x412149(0x7d7)],await this['confirmSynchronization'](_0x384c6b),await this['publishSyncCompleted']();}[_0x52a325(0x3a6)](_0x573a39,_0x2deb08){const _0x1d1c8f=_0x52a325;this[_0x1d1c8f(0x51a)][_0x1d1c8f(0x8cd)](_0x2deb08['id'])&&(this[_0x1d1c8f(0x277)](),this[_0x1d1c8f(0x51a)]=this[_0x1d1c8f(0x51a)][_0x1d1c8f(0x6f8)](_0x50311b=>_0x50311b!==_0x2deb08['id']),0x0!==this[_0x1d1c8f(0x51a)][_0x1d1c8f(0x761)]?this[_0x1d1c8f(0x7b4)]=setTimeout(this[_0x1d1c8f(0x5e2)],0x7d0):this[_0x1d1c8f(0xd5)](_0x573a39));}[_0x52a325(0x34a)](){const _0x3164b4=_0x52a325;this[_0x3164b4(0xc1)]&&clearTimeout(this['debounceStats']),this[_0x3164b4(0xc1)]=setTimeout(async()=>{const _0x3540f6=_0x3164b4;delete this[_0x3540f6(0xc1)];let _0x4a4b27=0x0;for(const _0x25c9d0 of this[_0x3540f6(0x605)][_0x3540f6(0x70f)]())_0x4a4b27+=await _0x25c9d0[_0x3540f6(0x23d)]();this[_0x3540f6(0xbb)]['publish']({'sourceId':_0x1ee970,'messageType':_0x5ebcbf['Content'],'content':{'type':_0x539ab3['KeyValueDatabaseStats'],'label':this['label'],'stats':{'timestamp':Date[_0x3540f6(0x88b)](),'storage':_0x4a4b27,'messagesSent':this[_0x3540f6(0x7d1)],'messagesReceived':this[_0x3540f6(0x596)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x3540f6(0x434)],'writes':this[_0x3540f6(0x97f)],'reads':this[_0x3540f6(0xa03)],'prompts':0x0,'tokens':0x0}}}),_0x2d5d47[_0x3540f6(0x4b2)](_0x380533[_0x3540f6(0x7ad)],_0x3540f6(0x2be)+this[_0x3540f6(0x285)]+_0x3540f6(0x2be)+this[_0x3540f6(0x7cd)],_0x4a4b27);},_0x37693a);}[_0x52a325(0x25f)](_0xfa341f){const _0x2c644e=_0x52a325;if(_0xfa341f[_0x2c644e(0x605)][_0x44c02c])throw new _0x1d1fb5(_0x433410[_0x2c644e(0x13b)],_0x2c644e(0x34f)+_0x44c02c+_0x2c644e(0x563));if(_0xfa341f['tables'][_0x3fc917])throw new _0x1d1fb5(_0x433410[_0x2c644e(0x13b)],_0x2c644e(0x34f)+_0x3fc917+_0x2c644e(0x563));_0xfa341f[_0x2c644e(0x605)][_0x44c02c]={'indexes':[]},_0xfa341f[_0x2c644e(0x605)][_0x3fc917]={'indexes':[]};}async[_0x52a325(0x4af)](_0x304c28){const _0x3e98c8=_0x52a325;return Promise[_0x3e98c8(0x578)]([_0x304c28,Promise['resolve'](_0x3e98c8(0x3fd))])[_0x3e98c8(0x917)](_0x2acf28=>_0x3e98c8(0x3fd)!==_0x2acf28);}async[_0x52a325(0x75f)](_0x53a225){const _0x2342d2=_0x52a325;await this[_0x2342d2(0x75e)]();const _0x365b37=await this[_0x2342d2(0x5cd)]['getRoot'](),_0xa8d500={'sourceId':this[_0x2342d2(0x8df)][_0x2342d2(0x8ef)](),'destinationIds':[_0x53a225],'propagate':!0x0,'messageType':_0x5ebcbf[_0x2342d2(0xa32)],'content':{'type':_0x539ab3[_0x2342d2(0x78c)],'label':this[_0x2342d2(0x7cd)],'mmrRoot':_0x365b37}};this['systemTopic'][_0x2342d2(0x7da)](_0xa8d500);}async['buildInitialMMR'](){const _0x2dc4a5=_0x52a325;if(!this[_0x2dc4a5(0x119)])throw new _0x162f0d(_0x162f0d['codes'][_0x2dc4a5(0xa13)]);this['transactions']=await this['transactionTable'][_0x2dc4a5(0x3f3)](),this['transactions'][_0x2dc4a5(0x536)](this[_0x2dc4a5(0x2ba)]),this['mmr']=new _0x56a6be(),this[_0x2dc4a5(0x21b)]=new Map();for(const _0x4febc0 of this[_0x2dc4a5(0x633)])this[_0x2dc4a5(0xbe)](_0x4febc0,this[_0x2dc4a5(0x633)][_0x2dc4a5(0x761)]);this[_0x2dc4a5(0xa58)]();}async[_0x52a325(0xbe)](_0x38bca5,_0x614786){const _0x3e3359=_0x52a325,_0x29c070={..._0x38bca5};delete _0x29c070['value'],await this[_0x3e3359(0x5cd)][_0x3e3359(0x8cb)](_0x29c070,_0x614786);const _0x3bc59f=await this['mmr'][_0x3e3359(0x502)](_0x29c070);this[_0x3e3359(0x21b)][_0x3e3359(0x23c)](_0x3bc59f,_0x38bca5);}['getTransactionByHash'](_0x59defb){const _0x36fd37=_0x52a325;return this[_0x36fd37(0x21b)][_0x36fd37(0x627)](_0x59defb);}[_0x52a325(0x174)](_0x3da44c,_0x22f19d){const _0x5a1fd5=_0x52a325;if(0x0!==_0x3da44c['height'])_0x3da44c['left']&&this[_0x5a1fd5(0x174)](_0x3da44c[_0x5a1fd5(0x299)],_0x22f19d),_0x3da44c['right']&&this['collectTransactionsFromNode'](_0x3da44c[_0x5a1fd5(0x385)],_0x22f19d);else{const _0x41629c=this[_0x5a1fd5(0x68d)](_0x3da44c[_0x5a1fd5(0xa1b)]);_0x41629c&&_0x22f19d[_0x5a1fd5(0x66e)](_0x41629c);}}async[_0x52a325(0x788)](){const _0x2e1d82=_0x52a325;this[_0x2e1d82(0x1f1)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x2e1d82(0x1f1)],this[_0x2e1d82(0x46d)]['length']>0x0&&(this[_0x2e1d82(0x633)][_0x2e1d82(0x66e)](...this[_0x2e1d82(0x46d)][_0x2e1d82(0x536)](this[_0x2e1d82(0x2ba)])),this['transactionsToAppend']=[]));const _0x443478=this[_0x2e1d82(0x7e6)]();this['mmr']=new _0x56a6be(),this['transactionHashMap']['clear'](),this[_0x2e1d82(0x633)][_0x2e1d82(0x536)](this['compareTransactions']);for(const _0xa16df7 of this['transactions'])this[_0x2e1d82(0xbe)](_0xa16df7,this[_0x2e1d82(0x633)][_0x2e1d82(0x761)]);await this[_0x2e1d82(0x5cd)][_0x2e1d82(0x7d7)],this[_0x2e1d82(0x3d8)](_0x443478);}[_0x52a325(0x7e6)](){const _0x42e389=_0x52a325;return this['loggingCycle'][_0x42e389(0x953)][_0x42e389(0x3aa)](async()=>{const _0x33efe1=_0x42e389,_0x35ef53=await this['mmr'][_0x33efe1(0xa9e)]();return{'startTime':Date[_0x33efe1(0x88b)](),'initialRoot':_0x35ef53};},Promise[_0x42e389(0x7f0)]({'startTime':0x0,'initialRoot':''}));}async[_0x52a325(0x3d8)](_0x5932c9){const _0x294755=_0x52a325;try{const {startTime:_0x5454bb,initialRoot:_0x51c5a2}=await _0x5932c9,_0x5a0d02=await this[_0x294755(0x5cd)][_0x294755(0xa9e)](),_0x307eae=[_0x294755(0x5ba)+(_0x51c5a2!==_0x5a0d02),_0x294755(0x69a)+_0x51c5a2,'\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20'+_0x5a0d02,_0x294755(0x213)+this[_0x294755(0x5cd)]['getTotalNodes'](),_0x294755(0xef)+(Date['now']()-_0x5454bb)+_0x294755(0x1dc)]['join']('\x20');this['loggingCycle'][_0x294755(0x953)][_0x294755(0x109)]('',()=>_0x307eae);}catch(_0x151530){console[_0x294755(0x2a8)]('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x151530);}}['debounceRebuildMMRWithTransaction'](_0x123fbb){const _0x5cfb01=_0x52a325;this['transactionsToAppend'][_0x5cfb01(0x66e)](_0x123fbb),this['debounceRebuildMMR']&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x5cfb01(0x1f1)]),this[_0x5cfb01(0x1f1)]=setTimeout(()=>{const _0x10737b=_0x5cfb01;this[_0x10737b(0x75e)]();},0x3e8);}async[_0x52a325(0x75e)](){const _0x3c3829=_0x52a325;if(this['debounceRebuildMMR']&&(clearTimeout(this[_0x3c3829(0x1f1)]),delete this[_0x3c3829(0x1f1)]),0x0!==this[_0x3c3829(0x46d)][_0x3c3829(0x761)]){if(0x0===this[_0x3c3829(0x633)]['length'])return this['transactions']=this[_0x3c3829(0x46d)],this[_0x3c3829(0x46d)]=[],await this[_0x3c3829(0x788)]();if(this[_0x3c3829(0x46d)][_0x3c3829(0x536)](this[_0x3c3829(0x2ba)]),this[_0x3c3829(0x2ba)](this[_0x3c3829(0x46d)][0x0],this[_0x3c3829(0x633)][this['transactions'][_0x3c3829(0x761)]-0x1])>0x0){this[_0x3c3829(0x2b1)]['logger'][_0x3c3829(0x109)]('processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20'+this[_0x3c3829(0x46d)][_0x3c3829(0x761)]+_0x3c3829(0x45d)+this[_0x3c3829(0x633)]['length']);for(const _0x10c859 of this[_0x3c3829(0x46d)])this[_0x3c3829(0x633)][_0x3c3829(0x66e)](_0x10c859),this[_0x3c3829(0xbe)](_0x10c859,this[_0x3c3829(0x46d)]['length']);return this[_0x3c3829(0x46d)]=[],void this[_0x3c3829(0x2b1)][_0x3c3829(0x953)][_0x3c3829(0x109)]('processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-',async()=>'New\x20MMR\x20Root:\x20'+await this['mmr']['getRoot']()+_0x3c3829(0xa9d)+this[_0x3c3829(0x5cd)]['getTotalNodes']());}this[_0x3c3829(0x2b1)][_0x3c3829(0x953)][_0x3c3829(0x109)]('processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20'+this[_0x3c3829(0x46d)]['length']+',\x20Transactions:\x20'+this[_0x3c3829(0x633)]['length']),this[_0x3c3829(0x633)][_0x3c3829(0x66e)](...this['transactionsToAppend']),this[_0x3c3829(0x46d)]=[],this[_0x3c3829(0x788)]();}}async[_0x52a325(0x7e1)](){const _0x1ffa4a=_0x52a325;if(!_0x2d5d47[_0x1ffa4a(0x60f)](_0x422206['KeyValueDatabase']))return;await this[_0x1ffa4a(0x5cd)][_0x1ffa4a(0x7d7)];const {dataSent:_0x310c0f,dataReceived:_0x5444e4}=this[_0x1ffa4a(0x2b1)][_0x1ffa4a(0x147)]();_0x2d5d47[_0x1ffa4a(0x109)](_0x422206['KeyValueDatabase'],_0x1ffa4a(0x55a),this['label'],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x310c0f,_0x1ffa4a(0x30c)+_0x5444e4,'\x0a\x20===\x20Current\x20MMR\x20Root',await this[_0x1ffa4a(0x5cd)][_0x1ffa4a(0xa9e)](),'\x0a\x20===\x20Total\x20Nodes:',this[_0x1ffa4a(0x5cd)][_0x1ffa4a(0x858)]());}async[_0x52a325(0xa58)](){const _0x34a5fc=_0x52a325;if(!_0x2d5d47[_0x34a5fc(0x60f)](_0x422206[_0x34a5fc(0x7ad)]))return;const _0x1e621b=this['mmr'][_0x34a5fc(0x6d7)](),_0x484aea=_0x1e621b[_0x34a5fc(0x943)](_0x36e34f=>_0x36e34f[_0x34a5fc(0x440)]),_0x4d8867=await this[_0x34a5fc(0x5cd)][_0x34a5fc(0xa9e)]();_0x2d5d47[_0x34a5fc(0x109)](_0x422206[_0x34a5fc(0x7ad)],'Initial\x20MMR\x20built\x20with',this[_0x34a5fc(0x633)]['length'],'transactions',this[_0x34a5fc(0x5cd)][_0x34a5fc(0x858)](),'totalNodes',_0x1e621b['length'],_0x34a5fc(0xa28),_0x484aea,'root\x20hash:\x20',_0x4d8867);}}const _0x303885=require('@crewdle/mist-connector-opfs'),_0x3e9263=require('@crewdle/mist-connector-indexed-db'),_0x4ae4cb=require('@crewdle/mist-connector-webrtc-browser'),_0x379c68=0x10000000;var _0x213d4c,_0x51b19f,_0x4194fa,_0x1347d1,_0x24e3f3,_0x747940,_0x459ca9,_0x2d2efd,_0x351c37;!function(_0x24e7fc){const _0x5730ba=_0x52a325;_0x24e7fc['AudioContext']=_0x5730ba(0xaa9),_0x24e7fc[_0x5730ba(0x705)]='AudioOutput',_0x24e7fc[_0x5730ba(0x358)]=_0x5730ba(0x358),_0x24e7fc[_0x5730ba(0x397)]=_0x5730ba(0x397),_0x24e7fc[_0x5730ba(0xad)]=_0x5730ba(0xad),_0x24e7fc[_0x5730ba(0xa02)]=_0x5730ba(0xa02),_0x24e7fc[_0x5730ba(0xa74)]='Recording',_0x24e7fc[_0x5730ba(0x4d9)]=_0x5730ba(0x4d9),_0x24e7fc[_0x5730ba(0x76f)]='WebGL',_0x24e7fc[_0x5730ba(0x168)]=_0x5730ba(0x168);}(_0x213d4c||(_0x213d4c={}));class _0x44e4f9{[_0x52a325(0xa15)];[_0x52a325(0xf1)];['eventTarget'];constructor(_0x1d7c06=new Map(),_0x21f86a=new Map(),_0x1a4308=new EventTarget()){const _0xc482ce=_0x52a325;this[_0xc482ce(0xa15)]=_0x1d7c06,this[_0xc482ce(0xf1)]=_0x21f86a,this[_0xc482ce(0xa77)]=_0x1a4308;}[_0x52a325(0x7a2)]=(_0x200d80,_0x5d9e08)=>this[_0x52a325(0xa15)][_0x52a325(0xed)](_0x200d80)?(_0x2d5d47[_0x52a325(0x109)](_0x422206[_0x52a325(0x67b)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x200d80,'data':_0x5d9e08}),this[_0x52a325(0xa77)][_0x52a325(0xc2)](new CustomEvent(_0x200d80,{'detail':_0x5d9e08})),!0x0):(this[_0x52a325(0x571)](_0x200d80,_0x5d9e08),!0x1);['on']=(_0x2a4757,_0x86da23)=>{const _0x5b4586=_0x52a325,_0x269be7=_0xb3a4b9=>{const _0x5bf265=a0_0x15bf;_0x2d5d47['log'](_0x422206[_0x5bf265(0x67b)],_0x5bf265(0x37b),_0xb3a4b9[_0x5bf265(0x983)],_0xb3a4b9[_0x5bf265(0x801)]),_0x86da23(_0xb3a4b9[_0x5bf265(0x801)]);};return this[_0x5b4586(0xa15)][_0x5b4586(0x23c)](_0x2a4757,_0x269be7),this['eventTarget']['addEventListener'](_0x2a4757,_0x269be7),_0x2d5d47[_0x5b4586(0x109)](_0x422206[_0x5b4586(0x5f7)],_0x5b4586(0x469),_0x2a4757,_0x86da23),this[_0x5b4586(0x393)](_0x2a4757),this;};[_0x52a325(0x4f3)](_0x11f277){const _0x1c437b=_0x52a325;if(!_0x11f277)return this['registeredListeners'][_0x1c437b(0x854)]((_0x3e48ba,_0x2158c8)=>{const _0x4619da=_0x1c437b;this[_0x4619da(0xa77)][_0x4619da(0x1e3)](_0x2158c8,_0x3e48ba);}),void this[_0x1c437b(0xa15)][_0x1c437b(0xaa)]();'string'==typeof _0x11f277&&this[_0x1c437b(0x739)](_0x11f277),Array[_0x1c437b(0x6f3)](_0x11f277)&&_0x11f277['forEach'](_0x39db9d=>{const _0x2eb478=_0x1c437b;this[_0x2eb478(0x739)](_0x39db9d);});}[_0x52a325(0x739)](_0x48ea74){const _0x616d2a=_0x52a325,_0x4a092e=this[_0x616d2a(0xa15)][_0x616d2a(0x627)](_0x48ea74);_0x4a092e&&(this[_0x616d2a(0xa77)]['removeEventListener'](_0x48ea74,_0x4a092e),this['registeredListeners'][_0x616d2a(0x4f4)](_0x48ea74));}['bufferEvent'](_0x723d7a,_0x4dcc95){const _0x49ba3f=_0x52a325;_0x2d5d47[_0x49ba3f(0x109)](_0x422206[_0x49ba3f(0x67b)],_0x49ba3f(0x2f0),{'event':_0x723d7a,'data':_0x4dcc95});const _0xd2513b=this[_0x49ba3f(0xf1)][_0x49ba3f(0x627)](_0x723d7a)||[];this[_0x49ba3f(0xf1)]['set'](_0x723d7a,[..._0xd2513b,_0x4dcc95]);}['consumeBufferedEvents'](_0x4133f9){const _0x5cd6a2=_0x52a325,_0x3b884b=this[_0x5cd6a2(0xf1)][_0x5cd6a2(0x627)](_0x4133f9);_0x3b884b&&(_0x3b884b[_0x5cd6a2(0x854)](_0x3780ca=>{const _0x53caa5=_0x5cd6a2;_0x2d5d47['log'](_0x422206[_0x53caa5(0x67b)],_0x53caa5(0x6a1),{'event':_0x4133f9,'data':_0x3780ca}),this[_0x53caa5(0xa77)][_0x53caa5(0xc2)](new CustomEvent(_0x4133f9,{'detail':_0x3780ca}));}),this[_0x5cd6a2(0xf1)][_0x5cd6a2(0x4f4)](_0x4133f9));}}class _0x356a2c extends Error{constructor(_0x2b814f){const _0x211013=_0x52a325;super(_0x211013(0x8d9)+_0x2b814f);}}!function(_0x2fa96e){const _0x54b5a4=_0x52a325;_0x2fa96e[_0x2fa96e[_0x54b5a4(0x33d)]=0x0]='Core',_0x2fa96e[_0x2fa96e[_0x54b5a4(0x9ab)]=0x1]=_0x54b5a4(0x9ab);}(_0x51b19f||(_0x51b19f={})),function(_0x38929b){const _0x5e74d5=_0x52a325;_0x38929b[_0x38929b[_0x5e74d5(0x36e)]=0x0]=_0x5e74d5(0x36e),_0x38929b[_0x38929b[_0x5e74d5(0x9c0)]=0x1]=_0x5e74d5(0x9c0),_0x38929b[_0x38929b[_0x5e74d5(0x367)]=0x2]=_0x5e74d5(0x367),_0x38929b[_0x38929b[_0x5e74d5(0x546)]=0x3]=_0x5e74d5(0x546),_0x38929b[_0x38929b[_0x5e74d5(0x513)]=0x4]='NeedRestart',_0x38929b[_0x38929b[_0x5e74d5(0x835)]=0x5]=_0x5e74d5(0x835),_0x38929b[_0x38929b[_0x5e74d5(0x122)]=0x6]=_0x5e74d5(0x122),_0x38929b[_0x38929b[_0x5e74d5(0x5d9)]=0x7]=_0x5e74d5(0x5d9),_0x38929b[_0x38929b[_0x5e74d5(0x3f9)]=0x8]=_0x5e74d5(0x3f9);}(_0x4194fa||(_0x4194fa={})),function(_0x2b55e9){const _0x108ec7=_0x52a325;_0x2b55e9[_0x2b55e9[_0x108ec7(0x87f)]=0x0]=_0x108ec7(0x87f),_0x2b55e9[_0x2b55e9[_0x108ec7(0x1d3)]=0x1]=_0x108ec7(0x1d3);}(_0x1347d1||(_0x1347d1={})),function(_0x2a70ed){const _0x4edf49=_0x52a325;_0x2a70ed[_0x4edf49(0xa02)]=_0x4edf49(0x8fe);}(_0x24e3f3||(_0x24e3f3={})),function(_0x55c2d4){const _0x294374=_0x52a325;_0x55c2d4[_0x55c2d4['NodeJoin']=0x0]=_0x294374(0x296),_0x55c2d4[_0x55c2d4[_0x294374(0x2d8)]=0x1]=_0x294374(0x2d8),_0x55c2d4[_0x55c2d4[_0x294374(0x775)]=0x2]=_0x294374(0x775),_0x55c2d4[_0x55c2d4['NodeLeave']=0x3]='NodeLeave';}(_0x747940||(_0x747940={})),function(_0x2befdb){const _0x956560=_0x52a325;_0x2befdb[_0x2befdb['Remediation']=0x0]=_0x956560(0x9e0),_0x2befdb[_0x2befdb[_0x956560(0x824)]=0x1]=_0x956560(0x824);}(_0x459ca9||(_0x459ca9={})),function(_0xa2e42){const _0x5279b6=_0x52a325;_0xa2e42[_0x5279b6(0x6e6)]=_0x5279b6(0x4b6),_0xa2e42[_0x5279b6(0x34e)]=_0x5279b6(0x231);}(_0x2d2efd||(_0x2d2efd={})),function(_0x17d011){const _0x454efa=_0x52a325;_0x17d011[_0x454efa(0x368)]=_0x454efa(0x2f5),_0x17d011['Bitrate']=_0x454efa(0x348);}(_0x351c37||(_0x351c37={}));const _0x156790=require('aws-amplify'),_0x365d48=require('aws-amplify/utils'),_0x5257df=require('@aws-amplify/api'),_0x3ffbee=require('@aws-amplify/core');class _0x40433f{[_0x52a325(0x285)];[_0x52a325(0x8df)];['remoteId'];constructor(_0x4fd4d0,_0x5da90f,_0x536692){const _0xc75b94=_0x52a325;this[_0xc75b94(0x285)]=_0x4fd4d0,this[_0xc75b94(0x8df)]=_0x5da90f,this['remoteId']=_0x536692;}[_0x52a325(0x7f1)](){const _0x11a94c=_0x52a325;return this[_0x11a94c(0x8df)][_0x11a94c(0x8ef)]();}[_0x52a325(0x134)](){const _0x51f048=_0x52a325;return this[_0x51f048(0xf7)];}}var _0x4ac2bc,_0x56b23b,_0x56a1f2;function _0x391db2(_0x22b517,_0x14e2f7){const _0x3c8b9a=_0x52a325;return _0x22b517[_0x3c8b9a(0x2c0)]===_0x14e2f7;}function _0xc28281(_0x44ec35,_0x1ab256){const _0x3cc89c=_0x52a325;return _0x44ec35[_0x3cc89c(0x514)]?.[_0x3cc89c(0x8cd)](_0x1ab256)??function(_0x16e249){const _0x44ec2c=_0x3cc89c;return void 0x0===_0x16e249[_0x44ec2c(0x514)];}(_0x44ec35);}function _0x56e86c(_0x41c766,{contentType:_0x50a628,label:_0x5d0060,remoteId:_0x4ecb34}){return _0x41c766+'-'+_0x50a628+'-'+_0x5d0060+'-'+_0x4ecb34;}function _0x69c24e(_0x5cd424,_0x688590,_0x3df9b0){return''+_0x5cd424+_0x688590+_0x3df9b0;}function _0x574b84(_0x3d91e5){const _0x5e0c16=_0x52a325;return _0x3d91e5===_0x56b23b[_0x5e0c16(0x562)]?_0x5e0c16(0x4eb):_0x5e0c16(0xa3f);}function _0x3f013f(_0x213ef6,_0x2a942a){const _0x2a6130=_0x52a325;return{'label':_0x213ef6[_0x2a6130(0x423)](),'contentType':_0x213ef6[_0x2a6130(0x7d4)](),'remoteId':_0x2a942a['getRemoteId'](),'supportsContentType':_0x2a942a['getSupportedContentTypes']()[_0x2a6130(0x8cd)](_0x213ef6[_0x2a6130(0x7d4)]())};}!function(_0x69c9a0){const _0x1bcef5=_0x52a325;_0x69c9a0[_0x69c9a0[_0x1bcef5(0x9dc)]=0x0]='Waiting',_0x69c9a0[_0x69c9a0['Accepted']=0x1]=_0x1bcef5(0x8e8),_0x69c9a0[_0x69c9a0[_0x1bcef5(0x8ec)]=0x2]=_0x1bcef5(0x8ec);}(_0x4ac2bc||(_0x4ac2bc={})),function(_0x58841a){const _0x364631=_0x52a325;_0x58841a[_0x364631(0x562)]='in',_0x58841a[_0x364631(0x62b)]=_0x364631(0x639);}(_0x56b23b||(_0x56b23b={}));class _0x2aa5f9{[_0x52a325(0x4db)];[_0x52a325(0x61c)];constructor(_0xe14ebc,_0x17daf0){const _0x5e4956=_0x52a325;this[_0x5e4956(0x4db)]=_0xe14ebc,this[_0x5e4956(0x61c)]=_0x17daf0;}['call'](_0x58d824){const _0x348f38=_0x52a325;this[_0x348f38(0x4db)](_0x58d824);}async[_0x52a325(0x28a)](){const _0x2a6c96=_0x52a325;await this[_0x2a6c96(0x61c)]();}}class _0x51cad1{[_0x52a325(0x4db)];[_0x52a325(0x61c)];constructor(_0x3a28bf,_0x10c7b8){const _0xe293f0=_0x52a325;this[_0xe293f0(0x4db)]=_0x3a28bf,this[_0xe293f0(0x61c)]=_0x10c7b8;}async[_0x52a325(0x7b5)](_0x254ed2){const _0xf4b889=_0x52a325;await this[_0xf4b889(0x4db)](_0x254ed2);}async['wait'](){const _0x4d2916=_0x52a325;await this[_0x4d2916(0x61c)]();}}function _0x33dc09(_0x81a908=()=>{},_0x15ddcd=()=>!0x1,_0x1f8d53=()=>{}){let _0x39330e,_0x59cab3,_0x3275fb=0x0;return{get 'size'(){return _0x3275fb;},get 'head'(){return _0x39330e;},get 'tail'(){return _0x59cab3;},set 'head'(_0x329435){_0x39330e=_0x329435;},set 'tail'(_0x19c14c){_0x59cab3=_0x19c14c;},'push'(_0x348679,_0x15c69b=!0x0){const _0xe27ca2=a0_0x15bf,_0x5180fd={'value':_0x348679};_0x15c69b&&_0x15ddcd(_0x5180fd)?_0x81a908():(_0x59cab3&&(_0x5180fd[_0xe27ca2(0x258)]=_0x59cab3,_0x59cab3[_0xe27ca2(0x631)]=_0x5180fd),_0x59cab3=_0x5180fd,_0x39330e||(_0x39330e=_0x5180fd),_0x3275fb+=0x1,_0x15c69b&&_0x81a908());},'pop'(){const _0x47eb49=a0_0x15bf;if(!_0x59cab3)return;const _0x50fb2c=_0x59cab3[_0x47eb49(0x320)];return _0x59cab3=_0x59cab3[_0x47eb49(0x258)],_0x59cab3&&delete _0x59cab3[_0x47eb49(0x631)],_0x59cab3||(_0x39330e=void 0x0),_0x3275fb-=0x1,_0x50fb2c;},'unshift'(_0x24c25b,_0x4d9a62=!0x0){const _0x3ebc86=a0_0x15bf,_0x1bdeca={'value':_0x24c25b};_0x4d9a62&&_0x15ddcd(_0x1bdeca)?_0x81a908():(_0x39330e&&(_0x39330e[_0x3ebc86(0x258)]=_0x1bdeca,_0x1bdeca[_0x3ebc86(0x631)]=_0x39330e),_0x39330e=_0x1bdeca,_0x59cab3||(_0x59cab3=_0x1bdeca),_0x3275fb+=0x1,_0x4d9a62&&_0x81a908());},'shift'(){const _0xa3aa08=a0_0x15bf;if(!_0x39330e)return;const _0xfbe8a7=_0x39330e['value'];return _0x39330e=_0x39330e[_0xa3aa08(0x631)],_0x39330e&&delete _0x39330e['previous'],_0x39330e||(_0x59cab3=void 0x0),_0x3275fb-=0x1,_0xfbe8a7;},'clear'(){_0x1f8d53(),_0x39330e=void 0x0,_0x59cab3=void 0x0,_0x3275fb=0x0;}};}function _0x4131ea(_0x3f70f4,_0x4c6956=!0x1,_0x181b11=()=>{},_0x594259=()=>!0x1,_0x536f9d=()=>{}){let _0x192021=!0x1;const _0x46aba0=_0x33dc09(async function(){const _0x2a16d2=a0_0x15bf;if(!_0x192021){for(_0x192021=!0x0;_0x46aba0[_0x2a16d2(0x35f)];){const _0xb13ffd=_0x46aba0[_0x2a16d2(0x55c)]();if(_0xb13ffd)try{_0x3f70f4 instanceof _0x2aa5f9&&_0x3f70f4[_0x2a16d2(0x7b5)](_0xb13ffd),_0x3f70f4 instanceof _0x51cad1&&await _0x3f70f4['call'](_0xb13ffd),_0x181b11(_0xb13ffd);}catch(_0x211d97){_0x4c6956?_0x46aba0['push'](_0xb13ffd,!0x1):_0x46aba0['unshift'](_0xb13ffd,!0x1),await _0x3f70f4[_0x2a16d2(0x28a)]();}}_0x192021=!0x1;}},_0x594259,_0x536f9d);return _0x46aba0;}class _0x165ab2 extends _0x40433f{[_0x52a325(0x793)];[_0x52a325(0x542)];[_0x52a325(0x4b3)]=_0x5257df[_0x52a325(0x994)][_0x52a325(0x650)];[_0x52a325(0xa1d)]=_0x2669b5();['messageListeners']=_0x14acab();[_0x52a325(0x9c6)];[_0x52a325(0x6f5)];[_0x52a325(0x2f7)]=_0x4131ea(new _0x51cad1(this[_0x52a325(0x4a7)][_0x52a325(0x3d2)](this),this[_0x52a325(0x4d8)][_0x52a325(0x3d2)](this)));[_0x52a325(0x973)];constructor(_0x2b6df0,_0x3f0177,_0x40be07,_0x1d880f,_0x31e74f){const _0x388ffe=_0x52a325;super(_0x3f0177,_0x40be07,_0x1d880f),this[_0x388ffe(0x793)]=_0x2b6df0,this[_0x388ffe(0x542)]=_0x31e74f;}async['connect'](){const _0xb57d8b=_0x52a325;try{const _0x4c5dd6={'getTokens':async()=>{const _0x2cfb0f=a0_0x15bf,_0x1c0bbb=await this[_0x2cfb0f(0x542)][_0x2cfb0f(0x4fb)]();return{'accessToken':(0x0,_0x3ffbee['decodeJWT'])(_0x1c0bbb),'idToken':(0x0,_0x3ffbee[_0x2cfb0f(0x286)])(_0x1c0bbb)};}};_0x156790[_0xb57d8b(0x528)][_0xb57d8b(0x549)]({'API':{'GraphQL':{'endpoint':_0x4d71fb[_0xb57d8b(0x330)][_0xb57d8b(0x507)],'region':_0x4d71fb[_0xb57d8b(0x330)][_0xb57d8b(0x607)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x4c5dd6}});const _0x53ef6e=(0x0,_0x5257df[_0xb57d8b(0x888)])();this[_0xb57d8b(0x973)]=_0x53ef6e,await this['subscribe'](),this[_0xb57d8b(0x6f5)]=_0x365d48[_0xb57d8b(0x155)][_0xb57d8b(0x74f)](_0xb57d8b(0x75c),async({payload:_0x173f1a})=>{const _0x3385ac=_0xb57d8b;if(_0x173f1a['event']===_0x5257df['CONNECTION_STATE_CHANGE']){const _0x39ad31=_0x173f1a['data'];this[_0x3385ac(0x4b3)]=_0x39ad31[_0x3385ac(0x4b3)],this[_0x3385ac(0xa1d)][_0x3385ac(0x7da)](_0x39ad31[_0x3385ac(0x4b3)]),this[_0x3385ac(0x4b3)]===_0x5257df['ConnectionState'][_0x3385ac(0x650)]?(_0x2d5d47[_0x3385ac(0x2a8)](_0x3385ac(0x41a),{'clusterId':this[_0x3385ac(0x285)],'nodeId':this['getLocalId'](),'nodeType':this[_0x3385ac(0x8df)][_0x3385ac(0x983)]}),this[_0x3385ac(0x93c)](),this[_0x3385ac(0x73e)]()):this[_0x3385ac(0x4b3)]===_0x5257df[_0x3385ac(0x994)]['Connected']?_0x2d5d47[_0x3385ac(0x196)](_0x3385ac(0x681),{'clusterId':this[_0x3385ac(0x285)],'nodeId':this[_0x3385ac(0x7f1)](),'nodeType':this['localNode']['type']}):_0x2d5d47[_0x3385ac(0x196)]('appsync-statechange',{'clusterId':this[_0x3385ac(0x285)],'nodeId':this['getLocalId'](),'nodeType':this[_0x3385ac(0x8df)][_0x3385ac(0x983)],'data':{'state':_0x39ad31['connectionState']}});}});}catch(_0x392ce0){_0x2d5d47[_0xb57d8b(0x2a8)](_0xb57d8b(0x2bd),{'clusterId':this[_0xb57d8b(0x285)],'nodeId':this['getLocalId'](),'nodeType':this[_0xb57d8b(0x8df)][_0xb57d8b(0x983)]});}}[_0x52a325(0x93c)](){const _0xc731f6=_0x52a325;_0x2d5d47[_0xc731f6(0x196)](_0xc731f6(0x5dc),{'clusterId':this[_0xc731f6(0x285)],'nodeId':this['getLocalId'](),'nodeType':this[_0xc731f6(0x8df)][_0xc731f6(0x983)]}),this[_0xc731f6(0x2f7)][_0xc731f6(0xaa)](),this[_0xc731f6(0x6f5)]?.(),this[_0xc731f6(0x9c6)]?.[_0xc731f6(0xa50)](),delete this[_0xc731f6(0x9c6)];}['isConnected'](){const _0x35b49c=_0x52a325;return this['connectionState']===_0x5257df[_0x35b49c(0x994)][_0x35b49c(0x248)];}[_0x52a325(0x9c8)](_0x35e94b){const _0x5718f1=_0x52a325;this[_0x5718f1(0x2f7)]['push'](_0x35e94b);}['onMessage'](_0x9ae8fd){return this['messageListeners']['subscribe'](_0x9ae8fd);}[_0x52a325(0x3eb)](){const _0xfae844=_0x52a325;return[_0x5bfdb7[_0xfae844(0x689)][_0xfae844(0xab6)]];}async[_0x52a325(0x4d8)](){const _0x5a4666=_0x52a325;if(!this[_0x5a4666(0x948)]())return new Promise(_0x4cb5a8=>{const _0x29c85c=_0x5a4666,_0x24180e=this[_0x29c85c(0xa1d)][_0x29c85c(0xaa1)](_0x56edcc=>{const _0x1667f0=_0x29c85c;_0x56edcc===_0x5257df[_0x1667f0(0x994)][_0x1667f0(0x248)]&&(_0x24180e(),_0x4cb5a8());});});}async[_0x52a325(0x4a7)](_0x875ab0){const _0x37e9b5=_0x52a325;if(this['connectionState']!==_0x5257df[_0x37e9b5(0x994)][_0x37e9b5(0x248)])throw new Error(_0x37e9b5(0x2e7));_0x875ab0['destinationIds']&&0x1===_0x875ab0[_0x37e9b5(0x514)]['length']?await this['publish'](_0x875ab0[_0x37e9b5(0x514)][0x0],JSON[_0x37e9b5(0x712)](_0x875ab0)):_0x2d5d47['error']('appsync-no-destination',{'clusterId':this[_0x37e9b5(0x285)],'nodeId':this[_0x37e9b5(0x7f1)](),'nodeType':this[_0x37e9b5(0x8df)][_0x37e9b5(0x983)]});}async[_0x52a325(0x7da)](_0x21c563,_0x5cd19f){const _0x15fe11=_0x52a325;if(!this[_0x15fe11(0x973)])throw new Error(_0x15fe11(0x885));_0x2d5d47[_0x15fe11(0x109)](_0x422206[_0x15fe11(0x157)],_0x15fe11(0x1c4),this[_0x15fe11(0x7f1)](),_0x5cd19f),await this[_0x15fe11(0x973)]['graphql']({'query':_0x15fe11(0x791),'variables':{'name':await this[_0x15fe11(0x848)](_0x21c563),'data':_0x5cd19f}});}async['subscribe'](){const _0x241eb7=_0x52a325;if(this[_0x241eb7(0x9c6)])return;if(!this['client'])throw new Error(_0x241eb7(0x885));_0x2d5d47[_0x241eb7(0x109)](_0x422206[_0x241eb7(0x157)],_0x241eb7(0xab1),this[_0x241eb7(0x7f1)]());const _0x5fa4e8=await this[_0x241eb7(0x973)][_0x241eb7(0xce)]({'query':_0x241eb7(0x612),'variables':{'name':await this[_0x241eb7(0x848)]()},'authToken':await this[_0x241eb7(0x542)]['getIdToken']()},{'Authorization':await this[_0x241eb7(0x542)][_0x241eb7(0x4fb)]()});this[_0x241eb7(0x9c6)]=_0x5fa4e8['subscribe']({'next':({data:_0x4debb0})=>{const _0x3b7939=_0x241eb7,_0x19bd0c=JSON['parse'](_0x4debb0[_0x3b7939(0xaa1)]['data']);!_0x391db2(_0x19bd0c,this[_0x3b7939(0x7f1)]())&&_0xc28281(_0x19bd0c,this['getLocalId']())&&this['messageListeners']['publish'](_0x19bd0c);},'error':console['log']});}async[_0x52a325(0x848)](_0x2e2d93){const _0x5a43a1=_0x52a325,_0x299076=await crypto[_0x5a43a1(0x9fb)][_0x5a43a1(0x5c4)](_0x5a43a1(0x9a8),new TextEncoder()[_0x5a43a1(0x9d6)](this[_0x5a43a1(0x793)]+'-'+this[_0x5a43a1(0x285)]+'-'+(_0x2e2d93??this[_0x5a43a1(0x7f1)]())));return Array[_0x5a43a1(0xa3e)](new Uint8Array(_0x299076))[_0x5a43a1(0x943)](_0x1069e3=>_0x1069e3[_0x5a43a1(0x84a)](0x10)[_0x5a43a1(0x8ba)](0x2,'0'))[_0x5a43a1(0x141)]('');}}!function(_0x12bd7e){const _0x39b296=_0x52a325;_0x12bd7e[_0x12bd7e[_0x39b296(0x55e)]=0x0]=_0x39b296(0x55e),_0x12bd7e[_0x12bd7e[_0x39b296(0xa3b)]=0x1]='Remove',_0x12bd7e[_0x12bd7e[_0x39b296(0x54c)]=0x2]=_0x39b296(0x54c),_0x12bd7e[_0x12bd7e[_0x39b296(0x450)]=0x3]=_0x39b296(0x450),_0x12bd7e[_0x12bd7e[_0x39b296(0x28f)]=0x4]=_0x39b296(0x28f);}(_0x56a1f2||(_0x56a1f2={}));const _0x592caa='0',_0x1c43b6=_0x52a325(0x608),_0x57e75e=_0x3e1574,_0x1dba39=0x60000;class _0x1eae32{[_0x52a325(0x285)];[_0x52a325(0x8df)];[_0x52a325(0xf7)];[_0x52a325(0x813)];[_0x52a325(0x2e1)];[_0x52a325(0x63b)];[_0x52a325(0x57b)];['dataChannel'];['currentVersion']=0x1;[_0x52a325(0xbb)];[_0x52a325(0x6c4)]=[];[_0x52a325(0x208)]=[];[_0x52a325(0x99c)];constructor(_0xadfaa5,_0x5e6cbf,_0x1f5f9d,_0x66c313,_0x293795,_0x4d0a56){const _0x5de908=_0x52a325;this[_0x5de908(0x285)]=_0xadfaa5,this[_0x5de908(0x8df)]=_0x5e6cbf,this['remoteId']=_0x1f5f9d,this[_0x5de908(0x813)]=_0x66c313,this[_0x5de908(0x2e1)]=_0x293795,this[_0x5de908(0x63b)]=_0x4d0a56,this['connection']=new this[(_0x5de908(0x63b))]({'handshakeServers':this[_0x5de908(0x813)]}),this['setupConnectionEvents']();}['close'](){const _0x30acf8=_0x52a325;this[_0x30acf8(0xaaa)]();}[_0x52a325(0x814)](_0xb594a1){const _0x1ff1fb=_0x52a325;this[_0x1ff1fb(0x2e1)]=_0xb594a1;}async['handleHandshake'](_0x1c4640,_0x216b9a){const _0x4395be=_0x52a325;if(_0x216b9a===this[_0x4395be(0x23b)])for(const _0x156352 of _0x1c4640){if(!this[_0x4395be(0x57b)][_0x4395be(0x6e9)])return this[_0x4395be(0x64a)](_0x156352);try{await this[_0x4395be(0x57b)][_0x4395be(0x751)](_0x156352);}catch(_0x4cdf8d){this[_0x4395be(0x64a)](_0x156352);}}}[_0x52a325(0x948)](){const _0x5b59eb=_0x52a325;return this['logConnectionState'](),_0x5b59eb(0x380)===this[_0x5b59eb(0x57b)][_0x5b59eb(0x4b3)]&&[_0x5b59eb(0x380),_0x5b59eb(0x53a)][_0x5b59eb(0x8cd)](this[_0x5b59eb(0x57b)][_0x5b59eb(0x7e4)])&&_0x5b59eb(0x44a)!==this['connection']['signalingState']&&_0x5b59eb(0x807)===this['dataChannel']?.[_0x5b59eb(0x8e7)];}[_0x52a325(0x75b)](_0x288e64){const _0x4528c1=_0x52a325;this[_0x4528c1(0xbb)]=_0x288e64;}['unregisterSystemPublisher'](){const _0x4810d3=_0x52a325;delete this[_0x4810d3(0xbb)];}[_0x52a325(0x112)](_0x552101){const _0x35f72e=_0x52a325;this[_0x35f72e(0xaaa)](),this[_0x35f72e(0x57b)]=new this[(_0x35f72e(0x63b))]({'handshakeServers':this[_0x35f72e(0x813)]}),_0x552101?this[_0x35f72e(0x23b)]=_0x552101:this[_0x35f72e(0x23b)]+=0x1,this[_0x35f72e(0x893)]();}[_0x52a325(0x302)](){const _0x5ae740=_0x52a325;this[_0x5ae740(0x208)][_0x5ae740(0x854)](_0x472f6c=>{const _0x603d8e=_0x5ae740;try{this[_0x603d8e(0x57b)][_0x603d8e(0x751)](_0x472f6c);}catch(_0x1a6ab1){}}),this[_0x5ae740(0x208)]=[];}[_0x52a325(0xabb)](_0x436efb,_0x46d958){const _0x4eceed=_0x52a325;if(!this[_0x4eceed(0xbb)])throw new _0x162f0d(_0x162f0d['codes'][_0x4eceed(0xb7)],{'content':_0x436efb});const _0x11c041={'sourceId':this[_0x4eceed(0x8df)]['getId'](),'destinationIds':[this[_0x4eceed(0xf7)]],'propagate':this[_0x4eceed(0x2e1)]!==_0x51b19f[_0x4eceed(0x33d)],'retry':this[_0x4eceed(0x2e1)]!==_0x51b19f[_0x4eceed(0x33d)],'messageType':_0x5ebcbf[_0x4eceed(0x961)],'content':_0x436efb};_0x46d958&&(_0x11c041['uuid']=_0x46d958),this[_0x4eceed(0xbb)]['publish'](_0x11c041);}['setupConnectionEvents'](){const _0x2142b7=_0x52a325;this[_0x2142b7(0x57b)][_0x2142b7(0x166)]=()=>{const _0x39062f=_0x2142b7;_0x39062f(0x526)===this[_0x39062f(0x57b)][_0x39062f(0x275)]&&this[_0x39062f(0x6c4)]['length']>0x0&&(this[_0x39062f(0x99c)]&&clearTimeout(this[_0x39062f(0x99c)]),this[_0x39062f(0x99c)]=setTimeout(()=>{const _0x40b0b2=_0x39062f;delete this['handshakeDebounce'],this[_0x40b0b2(0x538)](),this[_0x40b0b2(0x6c4)]=[];},0x1f4));},this[_0x2142b7(0x57b)][_0x2142b7(0xda)]=_0x5c5fd3=>{const _0x19960c=_0x2142b7;_0x5c5fd3[_0x19960c(0x1d2)]&&this[_0x19960c(0x6c4)][_0x19960c(0x66e)](_0x5c5fd3[_0x19960c(0x1d2)]);};}[_0x52a325(0xaaa)](){const _0xbef163=_0x52a325;clearTimeout(this['handshakeDebounce']),delete this[_0xbef163(0x99c)],this[_0xbef163(0x6c4)]=[],this[_0xbef163(0x208)]=[],this[_0xbef163(0x866)]&&(this['dataChannel'][_0xbef163(0x6d3)]=null,this['dataChannel']['onClose']=null,this[_0xbef163(0x866)][_0xbef163(0x93c)](),delete this[_0xbef163(0x866)]),this[_0xbef163(0x57b)]['onGatheringStateChange']=null,this[_0xbef163(0x57b)][_0xbef163(0xda)]=null,this[_0xbef163(0x57b)][_0xbef163(0x984)]=null,this['connection'][_0xbef163(0x482)]=null,this['connection']['onTrack']=null,this['connection'][_0xbef163(0xa04)]=null,this[_0xbef163(0x57b)][_0xbef163(0x93c)]();}[_0x52a325(0x64a)](_0x4534c7){const _0x5d567e=_0x52a325;this['pendingHandshakeCandidates'][_0x5d567e(0x66e)](_0x4534c7);}[_0x52a325(0x41e)](){const _0x390bab=_0x52a325;_0x2d5d47[_0x390bab(0x109)](_0x422206[_0x390bab(0x994)],_0x390bab(0x41c),{'localId':this[_0x390bab(0x8df)]['getId'](),'remoteId':this['remoteId'],'connectionState':this[_0x390bab(0x57b)][_0x390bab(0x4b3)],'handshakeState':this[_0x390bab(0x57b)]['handshakeState'],'signalingState':this[_0x390bab(0x57b)]['signalingState'],'dataChannelState':this['dataChannel']?.[_0x390bab(0x8e7)]});}}function _0xbf5756(_0x4de07c,_0x42b6d4){const _0x3845b=_0x52a325;_0x42b6d4['publish']({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x3845b(0x961)],'content':_0x4de07c});}class _0x502a34{static ['instance'];[_0x52a325(0xaba)]=[];[_0x52a325(0x1d6)];constructor(){setInterval(()=>{const _0x439e51=a0_0x15bf;this[_0x439e51(0xaba)]['forEach'](_0x56da44=>{const _0x11a67e=_0x439e51;if(Date[_0x11a67e(0x88b)]()-_0x56da44['lastExecuted']>_0x56da44[_0x11a67e(0x3dd)]){try{_0x56da44['callback']();}catch(_0x594b16){}_0x56da44[_0x11a67e(0x162)]=Date['now']();}});},0x64);}static[_0x52a325(0x6be)](){const _0x11affd=_0x52a325;return _0x502a34[_0x11affd(0x6b4)]||(_0x502a34['instance']=new _0x502a34()),_0x502a34['instance'];}[_0x52a325(0xa4b)](_0x31a634){const _0x24981f=_0x52a325,_0x5f0bfb=this[_0x24981f(0x89b)](_0x31a634),_0x38ff56=_0x31a634['createGain']();_0x38ff56&&_0x5f0bfb&&(_0x38ff56['gain']['value']=0.001,_0x5f0bfb[_0x24981f(0x73e)](_0x38ff56),_0x38ff56[_0x24981f(0x73e)](_0x31a634[_0x24981f(0x30a)]),_0x5f0bfb[_0x24981f(0x65d)]());}[_0x52a325(0x7c6)](){const _0x425913=_0x52a325;this[_0x425913(0x1d6)]&&(this[_0x425913(0x1d6)][_0x425913(0x90e)](),this[_0x425913(0x1d6)][_0x425913(0x4dd)](),this[_0x425913(0x1d6)]=void 0x0);}[_0x52a325(0x28a)](_0x2e2c25){return new Promise(_0xd36442=>{setTimeout(_0xd36442,_0x2e2c25);});}[_0x52a325(0x750)](_0x341e57,_0x50b6e1){const _0x1a22bc=_0x52a325;return this[_0x1a22bc(0xaba)][_0x1a22bc(0x66e)]({'callback':_0x341e57,'interval':_0x50b6e1,'lastExecuted':Date[_0x1a22bc(0x88b)]()}),()=>{const _0x2acb3f=_0x1a22bc;this['parameters']=this[_0x2acb3f(0xaba)][_0x2acb3f(0x6f8)](_0x42593d=>_0x42593d[_0x2acb3f(0x4db)]!==_0x341e57);};}[_0x52a325(0x89b)](_0x620b3f){const _0x548b38=_0x52a325;if(_0x620b3f[_0x548b38(0x89b)])return _0x620b3f[_0x548b38(0x89b)]();const _0xe779d7=_0x620b3f['createBufferSource'](),_0x1d8c21=_0x620b3f[_0x548b38(0x317)](0x1,0x1,_0x620b3f[_0x548b38(0x7dd)]);return _0x1d8c21['getChannelData'](0x0)[0x0]=0xa,_0xe779d7['buffer']=_0x1d8c21,_0xe779d7[_0x548b38(0x11e)]=!0x0,_0xe779d7;}}const _0x4e41bf=_0x502a34[_0x52a325(0x6be)]();class _0x552409 extends _0x1eae32{[_0x52a325(0x909)]=_0x2669b5();[_0x52a325(0x5a2)]=_0x2669b5();[_0x52a325(0x7f5)]=_0x2669b5();[_0x52a325(0x7be)]=new Map();['chunks']=new Map();[_0x52a325(0x4e8)];[_0x52a325(0x596)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};[_0x52a325(0x434)]=0x0;[_0x52a325(0x111)]=0x0;[_0x52a325(0x2b1)]=_0x160d2b('ReceiverPeerConnection.onMessage',_0x422206[_0x52a325(0x8db)]);[_0x52a325(0x93c)](){const _0x4376c1=_0x52a325;this[_0x4376c1(0x2c4)](),this[_0x4376c1(0x7be)][_0x4376c1(0xaa)](),super[_0x4376c1(0x93c)]();}async[_0x52a325(0x2d6)](_0x354b52,_0x27eae2){const _0x1896e5=_0x52a325;this[_0x1896e5(0x23b)]=_0x27eae2,this[_0x1896e5(0x2c4)]();const _0x14b123=await this[_0x1896e5(0x57b)][_0x1896e5(0x4e9)](_0x354b52);this[_0x1896e5(0x302)]();const _0x1d352c=(0x0,_0x529b6e['v4'])();this['publishSystemMessage']({'type':_0x4194fa[_0x1896e5(0x9c0)],'answer':_0x14b123,'version':_0x27eae2,'connectionType':this[_0x1896e5(0x2e1)]},_0x1d352c),this[_0x1896e5(0x2e1)]===_0x51b19f['Core']&&(this[_0x1896e5(0x4e8)]=_0x4e41bf[_0x1896e5(0x750)](()=>{const _0x385043=_0x1896e5;this[_0x385043(0xabb)]({'type':_0x4194fa['Answer'],'answer':_0x14b123,'version':_0x27eae2,'connectionType':this[_0x385043(0x2e1)]},_0x1d352c);},0x1388));}[_0x52a325(0x977)](){const _0x3ed4fe=_0x52a325;this[_0x3ed4fe(0x2c4)]();}[_0x52a325(0x4a8)](_0x1959e5){const _0x35bba4=_0x52a325;this[_0x35bba4(0x112)](_0x1959e5),this[_0x35bba4(0xabb)]({'type':_0x4194fa[_0x35bba4(0x835)]});}async[_0x52a325(0x518)](){const _0x3a7466=_0x52a325;this[_0x3a7466(0xbb)]&&(await this[_0x3a7466(0x57b)][_0x3a7466(0x33b)](this[_0x3a7466(0x7be)],(_0x31ef96,_0x3c7bdd)=>{const _0x30a0a2=_0x3a7466;_0xbf5756({'type':_0x4194fa[_0x30a0a2(0x5d9)],'streamId':_0x3c7bdd,'nodeId':this[_0x30a0a2(0xf7)],'stats':_0x31ef96},this[_0x30a0a2(0xbb)]);}),this['systemTopic'][_0x3a7466(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf['PeerConnection'],'content':{'type':_0x4194fa[_0x3a7466(0x5d9)],'nodeId':this[_0x3a7466(0xf7)],'stats':{'origin':_0x1347d1['Receiver'],'timestamp':Date[_0x3a7466(0x88b)](),'messagesReceived':this[_0x3a7466(0x596)],'bytesReceived':this[_0x3a7466(0x434)],'timeReceiving':this['timeReceiving'],'systemMessages':this['systemMessagesReceived']}}}));}[_0x52a325(0x6d3)](_0x3809b9){const _0xe72e35=_0x52a325;return _0x4d71fb['isProduction']?this['messageCallback']['subscribe'](_0x3809b9):this[_0xe72e35(0x909)][_0xe72e35(0xaa1)](_0x3dfb46=>{const _0x3b9473=_0xe72e35;0x0===_0x3dfb46[_0x3b9473(0x446)]&&_0x3dfb46[_0x3b9473(0x91b)]===_0x5ebcbf['Content']&&this['loggingCycle']['logger'][_0x3b9473(0x109)](_0x3b9473(0x8f5)+this[_0x3b9473(0xf7)],()=>_0x2208d4(_0x3dfb46)),_0x3809b9(_0x3dfb46);});}[_0x52a325(0x2f6)](_0x331004){const _0xdcd2db=_0x52a325;return this[_0xdcd2db(0x5a2)]['subscribe'](({track:_0x12f033,stream:_0x3cc2b0})=>_0x331004(_0x12f033,_0x3cc2b0));}['onRemoveTrack'](_0xde7824){const _0x450667=_0x52a325;return this[_0x450667(0x7f5)][_0x450667(0xaa1)](({track:_0xfe8153,stream:_0x42ed19})=>_0xde7824(_0xfe8153,_0x42ed19));}['resetConnection'](_0x290dc4){const _0x24c75a=_0x52a325;this[_0x24c75a(0x2c4)](),this[_0x24c75a(0x7be)]['forEach'](_0x210cb9=>{const _0x4ebaa7=_0x24c75a;_0x210cb9[_0x4ebaa7(0xaa)]();}),super['resetConnection'](_0x290dc4);}['sendIceCandidates'](){const _0x2b14f3=_0x52a325;this[_0x2b14f3(0xabb)]({'type':_0x4194fa['Handshake'],'candidates':this[_0x2b14f3(0x6c4)],'origin':_0x1347d1[_0x2b14f3(0x1d3)],'version':this[_0x2b14f3(0x23b)],'connectionType':this['connectionType']});}['setupConnectionEvents'](){const _0x1a93cd=_0x52a325;super[_0x1a93cd(0x893)](),this['connection'][_0x1a93cd(0x2f6)]=_0x5330dc=>{const _0x3c4fcc=_0x1a93cd;_0x2d5d47[_0x3c4fcc(0x109)](_0x422206[_0x3c4fcc(0x5df)],_0x3c4fcc(0x832),this[_0x3c4fcc(0x8df)][_0x3c4fcc(0x8ef)](),_0x5330dc),_0x5330dc[_0x3c4fcc(0x67e)][0x0][_0x3c4fcc(0x8f2)]=_0x2ee007=>{const _0x54e4fe=_0x3c4fcc;this[_0x54e4fe(0x7be)][_0x54e4fe(0x627)](_0x5330dc['streams'][0x0]['id'])?.[_0x54e4fe(0x4f4)](_0x2ee007['track']),0x0===this['receivers'][_0x54e4fe(0x627)](_0x5330dc['streams'][0x0]['id'])?.[_0x54e4fe(0x1af)]&&this[_0x54e4fe(0x7be)][_0x54e4fe(0x4f4)](_0x5330dc[_0x54e4fe(0x67e)][0x0]['id']),this[_0x54e4fe(0x7f5)][_0x54e4fe(0x7da)]({'track':_0x2ee007[_0x54e4fe(0x74d)],'stream':_0x5330dc[_0x54e4fe(0x67e)][0x0]});},this[_0x3c4fcc(0x7be)]['has'](_0x5330dc['streams'][0x0]['id'])||this[_0x3c4fcc(0x7be)][_0x3c4fcc(0x23c)](_0x5330dc[_0x3c4fcc(0x67e)][0x0]['id'],new Set()),this['receivers'][_0x3c4fcc(0x627)](_0x5330dc[_0x3c4fcc(0x67e)][0x0]['id'])[_0x3c4fcc(0xa24)](_0x5330dc[_0x3c4fcc(0x74d)]),this[_0x3c4fcc(0x5a2)][_0x3c4fcc(0x7da)]({'track':_0x5330dc['track'],'stream':_0x5330dc[_0x3c4fcc(0x67e)][0x0]});},this[_0x1a93cd(0x57b)][_0x1a93cd(0xa04)]=_0x516634=>{const _0x3a74b3=_0x1a93cd;this[_0x3a74b3(0x866)]=_0x516634[_0x3a74b3(0xa82)],this[_0x3a74b3(0x866)][_0x3a74b3(0x6d3)]=_0x181904=>{const _0x1ac1e9=_0x3a74b3;if(_0x181904[_0x1ac1e9(0x6f2)]!==_0x592caa)this[_0x1ac1e9(0x58e)](_0x181904[_0x1ac1e9(0x6f2)]);else{if(!this[_0x1ac1e9(0x866)])return void _0x2d5d47['error']('missing-datachannel',{'clusterId':this[_0x1ac1e9(0x285)],'nodeId':this[_0x1ac1e9(0x8df)][_0x1ac1e9(0x8ef)](),'nodeType':this[_0x1ac1e9(0x8df)][_0x1ac1e9(0x983)],'remoteId':this[_0x1ac1e9(0xf7)],'data':{'connection':_0x1ac1e9(0xa6c)}});if(_0x1ac1e9(0x807)!==this[_0x1ac1e9(0x866)][_0x1ac1e9(0x8e7)])return;this[_0x1ac1e9(0x866)][_0x1ac1e9(0x9c8)]('1');}};};}['handleOnMessage'](_0x40ee0c){const _0x1c497d=_0x52a325;if(_0x1c497d(0x347)==typeof _0x40ee0c&&_0x40ee0c[_0x1c497d(0x22f)](_0x1c43b6))return this['messagesReceived']+=0x1,this[_0x1c497d(0x434)]+=_0x40ee0c[_0x1c497d(0x761)],this['handleChunkMessage'](_0x40ee0c);setTimeout(()=>{const _0x5afef6=_0x1c497d,_0x296cc7=Date[_0x5afef6(0x88b)]();let _0x4d6c95;if((_0x40ee0c instanceof ArrayBuffer||_0x40ee0c['length']<=_0x57e75e)&&(this['messagesReceived']+=0x1,this['bytesReceived']+=_0x40ee0c instanceof ArrayBuffer?_0x40ee0c['byteLength']:_0x40ee0c[_0x5afef6(0x761)]),_0x40ee0c instanceof ArrayBuffer){const [_0x5dbc92,_0x267e40]=this[_0x5afef6(0x197)](_0x40ee0c);_0x4d6c95=_0x5dbc92,_0x4d6c95[_0x5afef6(0x38c)][_0x5afef6(0x6f2)]=_0x267e40;}else _0x4d6c95=JSON[_0x5afef6(0x3ab)](_0x40ee0c);if(0x0===_0x4d6c95[_0x5afef6(0x446)]){this[_0x5afef6(0x891)][_0x5afef6(0x192)][_0x5afef6(0x976)]+=0x1;const {systemMessageType:_0x5a44bd,systemContentMessageType:_0x5dfb78}=_0x2208d4(_0x4d6c95);this[_0x5afef6(0x891)][_0x5a44bd]||(this[_0x5afef6(0x891)][_0x5a44bd]={[_0x5dfb78]:0x0}),this['systemMessagesReceived'][_0x5a44bd][_0x5dfb78]||(this[_0x5afef6(0x891)][_0x5a44bd][_0x5dfb78]=0x0),this[_0x5afef6(0x891)][_0x5a44bd]['total']||(this['systemMessagesReceived'][_0x5a44bd][_0x5afef6(0x976)]=0x0),this['systemMessagesReceived'][_0x5a44bd][_0x5dfb78]+=0x1,this[_0x5afef6(0x891)][_0x5a44bd]['total']+=0x1;}this[_0x5afef6(0x909)]['publish'](_0x4d6c95),this[_0x5afef6(0x111)]+=Date[_0x5afef6(0x88b)]()-_0x296cc7;},0x0);}[_0x52a325(0x8bf)](_0x591b5b){const _0x5f13ea=_0x52a325,_0xf302b6=_0x591b5b[_0x5f13ea(0x73a)](';'),_0x5f4630=_0xf302b6[0x1],_0x3e9c2a=parseInt(_0xf302b6[0x2],0xa),_0xc7af94=parseInt(_0xf302b6[0x3],0xa),_0x2d94e9=_0x591b5b['replace'](_0x1c43b6+';'+_0x5f4630+';'+_0x3e9c2a+';'+_0xc7af94+';','');this[_0x5f13ea(0xaa8)]['has'](_0x5f4630)||this[_0x5f13ea(0xaa8)][_0x5f13ea(0x23c)](_0x5f4630,[]);const _0x4ce645=this[_0x5f13ea(0xaa8)]['get'](_0x5f4630);_0x4ce645[_0x3e9c2a]=_0x2d94e9,_0x4ce645['length']===_0xc7af94&&(this[_0x5f13ea(0x58e)](_0x4ce645[_0x5f13ea(0x141)]('')),this[_0x5f13ea(0xaa8)][_0x5f13ea(0x4f4)](_0x5f4630));}['clearWaitSuccess'](){const _0x3139ea=_0x52a325;this[_0x3139ea(0x4e8)]?.(),delete this[_0x3139ea(0x4e8)];}['arrayBufferToObject'](_0x330337){const _0x185c14=_0x52a325,_0x22b923=new TextDecoder()[_0x185c14(0x14b)](_0x330337);return JSON['parse'](_0x22b923);}[_0x52a325(0x197)](_0x22528f){const _0x38a788=_0x52a325,_0x81cbdf=new Uint8Array(_0x22528f['slice'](0x0,0x4)),_0x4f24cb=new Uint32Array(_0x81cbdf[_0x38a788(0x6ef)])[0x0],_0x3d63ee=new Uint8Array(_0x22528f[_0x38a788(0x71c)](0x4,0x4+_0x4f24cb)),_0x2ecf0d=new Uint8Array(_0x22528f[_0x38a788(0x71c)](0x4+_0x4f24cb));return[this[_0x38a788(0x786)](_0x3d63ee[_0x38a788(0x6ef)]),_0x2ecf0d['buffer']];}}const _0x288c43=0xc350;var _0x4df0b6,_0x54bcbf;!function(_0x48d721){const _0x4dcd21=_0x52a325;_0x48d721[_0x48d721[_0x4dcd21(0x243)]=0x0]=_0x4dcd21(0x243),_0x48d721[_0x48d721[_0x4dcd21(0x525)]=0x1]=_0x4dcd21(0x525),_0x48d721[_0x48d721['Low']=0x2]=_0x4dcd21(0x979);}(_0x4df0b6||(_0x4df0b6={}));class _0xe8f394 extends _0x1eae32{[_0x52a325(0x10d)];[_0x52a325(0x79c)];[_0x52a325(0x8a0)]=new Map();['heartbeatUnsubscriber'];[_0x52a325(0x674)];['lastHeartbeat'];[_0x52a325(0x45a)]=!0x1;[_0x52a325(0x1fd)];[_0x52a325(0x88a)];['upgradeTimeout'];[_0x52a325(0x2f7)]=function(e,t=_0x4df0b6,s=!0x1){const _0x3a1ae7=_0x52a325;let n=!0x1;const o=[];async function i(){const _0x2a7101=a0_0x15bf;if(!n){for(n=!0x0;o[_0x2a7101(0x729)](e=>e['head']);){let t,n=0x0;for(const [e,s]of o[_0x2a7101(0x6c8)]())if(t=s['shift'](),n=e,t)break;if(t)try{if(e instanceof _0x2aa5f9&&e[_0x2a7101(0x7b5)](t),e instanceof _0x51cad1&&await e[_0x2a7101(0x7b5)](t),o[_0x2a7101(0x71c)](-0x1)['some'](e=>e[_0x2a7101(0x35f)]))continue;const s=o[_0x2a7101(0x761)]-0x1;n===s&&o[s][_0x2a7101(0x35f)]&&await _0x4e41bf[_0x2a7101(0x28a)](0x0);}catch(i){s?o[n][_0x2a7101(0x66e)](t,!0x1):o[n][_0x2a7101(0xa4)](t,!0x1),await e['wait']();}}n=!0x1;}}return Object[_0x3a1ae7(0x70f)](t)[_0x3a1ae7(0x854)](e=>{const _0x6b3dbc=_0x3a1ae7;_0x6b3dbc(0x347)!=typeof e&&(o[e]=_0x33dc09(i));}),{'queues':o};}(new _0x2aa5f9(this['sendAction'][_0x52a325(0x3d2)](this),this[_0x52a325(0x52b)]['bind'](this)));[_0x52a325(0x7d1)]=0x0;[_0x52a325(0x96b)]=0x0;[_0x52a325(0x2c2)]=0x0;[_0x52a325(0x850)]=0x0;['oncloseTimeout'];[_0x52a325(0x2b1)]=_0x160d2b(_0x52a325(0x7f6),_0x422206['SenderSendMessage']);constructor(_0x3adacb,_0x233f90,_0x1ab38f,_0x12a13a,_0x2cce3a,_0x158332,_0x24e7a,_0x911b37){const _0x169816=_0x52a325;super(_0x3adacb,_0x233f90,_0x1ab38f,_0x12a13a,_0x2cce3a,_0x911b37),this['maxFps']=_0x158332,this[_0x169816(0x79c)]=_0x24e7a;}[_0x52a325(0x93c)](){const _0x5ada83=_0x52a325;this[_0x5ada83(0x3de)](),this[_0x5ada83(0x253)](),delete this[_0x5ada83(0x445)],this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this[_0x5ada83(0x123)](),this[_0x5ada83(0x8a0)][_0x5ada83(0xaa)](),this[_0x5ada83(0x45a)]=!0x1,this[_0x5ada83(0x2f7)][_0x5ada83(0x870)][_0x5ada83(0x854)](_0xf5bafe=>_0xf5bafe['clear']()),this['clearOncloseTimeout'](),super[_0x5ada83(0x93c)]();}[_0x52a325(0x948)](){const _0x55ff05=_0x52a325;return!!this['lastHeartbeat']&&super['isConnected']()&&Date[_0x55ff05(0x88b)]()-this[_0x55ff05(0x445)]<0x3a98;}async[_0x52a325(0x518)](){const _0x4f1515=_0x52a325;this[_0x4f1515(0xbb)]&&(await this['connection'][_0x4f1515(0x1c0)](this[_0x4f1515(0x8a0)],(_0x8fc96e,_0x3da35d)=>{const _0x49a50b=_0x4f1515;_0xbf5756({'type':_0x4194fa[_0x49a50b(0x5d9)],'streamId':_0x3da35d,'nodeId':this[_0x49a50b(0xf7)],'stats':_0x8fc96e},this[_0x49a50b(0xbb)]);}),this[_0x4f1515(0xbb)][_0x4f1515(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x4f1515(0x961)],'content':{'type':_0x4194fa['Stats'],'nodeId':this['remoteId'],'stats':{'origin':_0x1347d1[_0x4f1515(0x87f)],'timestamp':Date['now'](),'messagesSent':this[_0x4f1515(0x7d1)],'bytesSent':this[_0x4f1515(0x96b)],'timeSending':this[_0x4f1515(0x2c2)],'roundTripTime':this['roundTripTime']}}}));}async[_0x52a325(0x70d)](_0x4420f1){const _0x2c626b=_0x52a325;_0x2d5d47[_0x2c626b(0x109)](_0x422206[_0x2c626b(0x5df)],_0x2c626b(0x41d),this[_0x2c626b(0x8df)][_0x2c626b(0x8ef)](),this[_0x2c626b(0xf7)]),this['clearRestartTimeout'](),this[_0x2c626b(0x7cf)](),this[_0x2c626b(0x123)](),this[_0x2c626b(0x1fd)]=setTimeout(()=>{const _0xa8c013=_0x2c626b;this[_0xa8c013(0x56c)]();},0x7530),this[_0x2c626b(0x866)]||(this[_0x2c626b(0x866)]=this[_0x2c626b(0x57b)][_0x2c626b(0x1bd)](_0x2c626b(0x6f2)),this[_0x2c626b(0x866)][_0x2c626b(0x488)]=_0x1dba39,this[_0x2c626b(0x866)][_0x2c626b(0x5f5)]=()=>{const _0x2eb08f=_0x2c626b;this[_0x2eb08f(0x27f)]=setTimeout(()=>{const _0x2352a9=_0x2eb08f;delete this[_0x2352a9(0x27f)],[_0x2352a9(0x2d9),_0x2352a9(0x807)][_0x2352a9(0x8cd)](this[_0x2352a9(0x866)]?.[_0x2352a9(0x8e7)]??'')||this['handleDisconnect']();},0xfa);});const _0x4d79f7=await this[_0x2c626b(0x57b)][_0x2c626b(0x70d)](_0x4420f1);this[_0x2c626b(0x445)]||(this[_0x2c626b(0x445)]=Date[_0x2c626b(0x88b)]());const _0x590b96=(0x0,_0x529b6e['v4'])();this[_0x2c626b(0xabb)]({'type':_0x4194fa[_0x2c626b(0x36e)],'offer':_0x4d79f7,'version':this[_0x2c626b(0x23b)],'connectionType':this[_0x2c626b(0x2e1)]},_0x590b96),this[_0x2c626b(0x2e1)]===_0x51b19f[_0x2c626b(0x33d)]&&(this['waitAnswer']=_0x4e41bf[_0x2c626b(0x750)](()=>{const _0x75e91a=_0x2c626b;this[_0x75e91a(0xabb)]({'type':_0x4194fa['Offer'],'offer':_0x4d79f7,'version':this[_0x75e91a(0x23b)],'connectionType':this['connectionType']},_0x590b96);},0x1388));}async[_0x52a325(0x511)](_0x4ffd9c,_0x5474be){const _0x80b842=_0x52a325;if(_0x5474be===this[_0x80b842(0x23b)]){this[_0x80b842(0x123)]();try{await this['connection'][_0x80b842(0x511)](_0x4ffd9c,this[_0x80b842(0x70d)]['bind'](this)),this[_0x80b842(0x302)](),this[_0x80b842(0x7cf)](),this[_0x80b842(0x78a)]();}catch(_0x44bdb8){this[_0x80b842(0x56c)]();}}}[_0x52a325(0x9c8)](_0x5bb5e2){const _0x32e7e2=_0x52a325;if(!this[_0x32e7e2(0x866)])throw new _0x162f0d(_0x162f0d[_0x32e7e2(0x2a6)]['InvalidDataChannel'],{'message':_0x32e7e2(0x132),'localId':this['localNode'][_0x32e7e2(0x8ef)](),'remoteId':this['remoteId'],'eventMessage':_0x5bb5e2});if(_0x32e7e2(0x807)!==this['dataChannel'][_0x32e7e2(0x8e7)])throw new _0x162f0d(_0x162f0d[_0x32e7e2(0x2a6)][_0x32e7e2(0x82d)],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this[_0x32e7e2(0x8df)][_0x32e7e2(0x8ef)](),'remoteId':this[_0x32e7e2(0xf7)],'eventMessage':_0x5bb5e2});let _0x14780c;if(_0x5bb5e2[_0x32e7e2(0x38c)][_0x32e7e2(0x6f2)]instanceof ArrayBuffer){const _0x213519=_0x5bb5e2[_0x32e7e2(0x38c)][_0x32e7e2(0x6f2)];_0x5bb5e2={..._0x5bb5e2,'content':{..._0x5bb5e2['content'],'data':void 0x0}},_0x14780c=this[_0x32e7e2(0x80c)](_0x5bb5e2,_0x213519);}else _0x14780c=JSON[_0x32e7e2(0x712)](_0x5bb5e2);if(_0x32e7e2(0x347)==typeof _0x14780c&&_0x14780c[_0x32e7e2(0x761)]>_0x57e75e)return void this[_0x32e7e2(0x56f)](_0x5bb5e2,_0x14780c);0x0===_0x5bb5e2[_0x32e7e2(0x446)]&&_0x5bb5e2[_0x32e7e2(0x91b)]===_0x5ebcbf['Content']&&this[_0x32e7e2(0x2b1)][_0x32e7e2(0x953)][_0x32e7e2(0x3aa)](()=>_0x2d5d47[_0x32e7e2(0x109)](_0x422206['SenderSendMessage'],_0x32e7e2(0x556),this[_0x32e7e2(0xf7)],_0x2208d4(_0x5bb5e2)),void 0x0);const _0x14c9a4=0x0===_0x5bb5e2[_0x32e7e2(0x446)]&&[_0x5ebcbf['Subscription'],_0x5ebcbf[_0x32e7e2(0x961)]][_0x32e7e2(0x8cd)](_0x5bb5e2['messageType'])?_0x4df0b6[_0x32e7e2(0x243)]:_0x5bb5e2 instanceof ArrayBuffer?_0x4df0b6[_0x32e7e2(0x979)]:_0x4df0b6['Medium'];this[_0x32e7e2(0xa0c)](_0x14780c,_0x14c9a4);}[_0x52a325(0x2f1)](_0x299e59,_0x3770c4,_0x2989d5,_0x570943){const _0x2fb52b=_0x52a325,_0x3adca3=(_0x1762c4=this[_0x2fb52b(0x10d)],_0x4d5407=this['maxBpp'],Math[_0x2fb52b(0x9bb)](0xe1000*_0x1762c4*_0x4d5407));var _0x1762c4,_0x4d5407;const _0x5ed161=this[_0x2fb52b(0x8a0)]['get'](_0x3770c4['id'])||{'stream':_0x3770c4,'priority':_0x2989d5,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x3adca3,'maxBitrate':_0x3adca3,'framerate':this[_0x2fb52b(0x10d)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x570943},_0x1018d7=_0x5ed161[_0x2fb52b(0x40e)][_0x299e59['kind']]||{'track':_0x299e59};if(_0x1018d7[_0x2fb52b(0xa6d)]?(_0x1018d7[_0x2fb52b(0x74d)]=_0x299e59,this[_0x2fb52b(0x57b)][_0x2fb52b(0xa4a)](_0x299e59,_0x1018d7['sender'])):_0x1018d7['sender']=this[_0x2fb52b(0x57b)]['addTrack'](_0x299e59,_0x3770c4),_0x5ed161[_0x2fb52b(0x40e)][_0x299e59[_0x2fb52b(0x414)]]=_0x1018d7,_0x570943&&(_0x5ed161['params']=_0x570943),_0x570943&&_0x2fb52b(0x9e4)===_0x570943[_0x2fb52b(0x414)]&&_0x570943['resolution']&&_0x570943[_0x2fb52b(0x594)]&&(_0x5ed161[_0x2fb52b(0x985)]=this[_0x2fb52b(0x931)](_0x570943[_0x2fb52b(0x2f5)],_0x570943[_0x2fb52b(0x594)]),_0x5ed161[_0x2fb52b(0x448)]=_0x5ed161['resolutionScale'],_0x5ed161[_0x2fb52b(0x40e)]['video']&&_0x5ed161[_0x2fb52b(0x40e)][_0x2fb52b(0x9e4)]['sender'])){const _0x21462f=_0x5ed161[_0x2fb52b(0x40e)][_0x2fb52b(0x9e4)][_0x2fb52b(0xa6d)];this[_0x2fb52b(0x57b)][_0x2fb52b(0x9bc)](_0x21462f,Math[_0x2fb52b(0x9bb)](0xa*_0x5ed161[_0x2fb52b(0x985)])/0xa,_0x5ed161['framerate'],_0x5ed161['bitrate'],_0x5ed161[_0x2fb52b(0x2c9)]);}this['senders'][_0x2fb52b(0x23c)](_0x3770c4['id'],_0x5ed161);}[_0x52a325(0x2c8)](_0x228f64,_0x3dbd7f){const _0x1fefbf=_0x52a325,_0x3a4f6d=this[_0x1fefbf(0x8a0)][_0x1fefbf(0x627)](_0x228f64['id']);if(_0x3a4f6d&&_0x3a4f6d[_0x1fefbf(0x2c9)]!==_0x3dbd7f&&(_0x3a4f6d['priority']=_0x3dbd7f,_0x3a4f6d[_0x1fefbf(0x40e)][_0x1fefbf(0x9e4)]&&_0x3a4f6d['tracks']['video'][_0x1fefbf(0xa6d)])){const _0x53232d=_0x3a4f6d[_0x1fefbf(0x40e)][_0x1fefbf(0x9e4)][_0x1fefbf(0xa6d)];this[_0x1fefbf(0x57b)][_0x1fefbf(0x9bc)](_0x53232d,Math[_0x1fefbf(0x9bb)](0xa*_0x3a4f6d[_0x1fefbf(0x985)])/0xa,_0x3a4f6d['framerate'],_0x3a4f6d['bitrate'],_0x3a4f6d[_0x1fefbf(0x2c9)]);}}[_0x52a325(0x592)](_0x51c5df,_0x1c3ea7){const _0x1947c5=_0x52a325,_0x4d625c=this[_0x1947c5(0x8a0)][_0x1947c5(0x627)](_0x51c5df['id']);if(_0x4d625c){if(_0x4d625c[_0x1947c5(0x4a4)]=_0x1c3ea7,_0x1c3ea7&&'video'===_0x1c3ea7[_0x1947c5(0x414)]&&_0x1c3ea7[_0x1947c5(0x2f5)]&&_0x1c3ea7[_0x1947c5(0x594)]){if(_0x4d625c[_0x1947c5(0x448)]=this[_0x1947c5(0x931)](_0x1c3ea7[_0x1947c5(0x2f5)],_0x1c3ea7[_0x1947c5(0x594)]),_0x4d625c[_0x1947c5(0x985)]<_0x4d625c[_0x1947c5(0x448)]&&(_0x4d625c['resolutionScale']=_0x4d625c[_0x1947c5(0x448)]),_0x4d625c[_0x1947c5(0x40e)][_0x1947c5(0x9e4)]&&_0x4d625c['tracks'][_0x1947c5(0x9e4)][_0x1947c5(0xa6d)]){const _0x2f8225=_0x4d625c[_0x1947c5(0x40e)][_0x1947c5(0x9e4)][_0x1947c5(0xa6d)];this[_0x1947c5(0x57b)]['setEncodingParameters'](_0x2f8225,Math[_0x1947c5(0x9bb)](0xa*_0x4d625c['resolutionScale'])/0xa,_0x4d625c[_0x1947c5(0x730)],_0x4d625c[_0x1947c5(0x348)],_0x4d625c['priority']);}this['clearUpgradeTimeout'](),this[_0x1947c5(0x62d)]();}this['senders'][_0x1947c5(0x23c)](_0x51c5df['id'],_0x4d625c);}}[_0x52a325(0x21d)](_0x368dea,_0x3f216e){const _0x4b877e=_0x52a325,_0x19008d=this['senders']['get'](_0x3f216e['id']);if(_0x19008d){const _0x2d3842=_0x19008d[_0x4b877e(0x40e)][_0x368dea[_0x4b877e(0x414)]];_0x2d3842&&(_0x2d3842['sender']&&this['connection']['removeTrack'](_0x2d3842[_0x4b877e(0xa6d)]),_0x2d3842[_0x4b877e(0x74d)]=void 0x0);}}[_0x52a325(0x4cc)](_0x89b5fd){const _0x1c90fa=_0x52a325;this[_0x1c90fa(0x3de)]();const _0x57a165=function(_0xe873ba,_0x3c2971){const _0x4503d4=_0x1c90fa;return _0xe873ba[_0x4503d4(0x536)]((_0x215bef,_0x220ca6)=>_0x3c2971[_0x4503d4(0x5eb)]===_0x2d2efd[_0x4503d4(0x34e)]?_0x220ca6[_0x4503d4(0x2c9)]-_0x215bef['priority']:_0x215bef[_0x4503d4(0x2c9)]-_0x220ca6['priority'])[_0x4503d4(0x7cc)](_0x33e4f7=>function(_0x271ec2,_0x4822d8){const _0x55ac43=_0x4503d4;if(_0x4822d8['action']===_0x2d2efd[_0x55ac43(0x34e)]){if(_0x4822d8['component']===_0x351c37[_0x55ac43(0x368)])return _0x271ec2[_0x55ac43(0x985)]<0x4||_0x271ec2[_0x55ac43(0x103)]>0xf;if(_0x4822d8[_0x55ac43(0x83c)]===_0x351c37['Bitrate'])return _0x271ec2['maxBitrate']>_0x288c43;}return _0x271ec2[_0x55ac43(0x985)]>_0x271ec2[_0x55ac43(0x448)]||_0x271ec2[_0x55ac43(0x730)]<_0x271ec2['maxFramerate']||_0x271ec2[_0x55ac43(0x348)]<_0x271ec2[_0x55ac43(0xdf)];}(_0x33e4f7,_0x3c2971));}(Array['from'](this['senders'][_0x1c90fa(0x70f)]()),_0x89b5fd);if(_0x57a165&&(function(_0x339a69,_0x480be5){const _0x11f95f=_0x1c90fa;_0x339a69['tracks'][_0x11f95f(0x9e4)]&&_0x339a69['tracks'][_0x11f95f(0x9e4)]['sender']&&(_0x339a69[_0x11f95f(0x985)]=function(_0x3ed8ee,_0x3d1901,_0x262b1f){const _0x142393=_0x11f95f;switch(_0x262b1f[_0x142393(0x5eb)]){case _0x2d2efd[_0x142393(0x34e)]:_0x262b1f[_0x142393(0x83c)]===_0x351c37[_0x142393(0x368)]&&(_0x3ed8ee+=0.5)>0x4&&(_0x3ed8ee=0x4);break;case _0x2d2efd[_0x142393(0x6e6)]:(_0x3ed8ee-=0.5)<_0x3d1901&&(_0x3ed8ee=_0x3d1901);}return _0x3ed8ee;}(_0x339a69['resolutionScale'],_0x339a69['minResolutionScale'],_0x480be5),_0x339a69[_0x11f95f(0x730)]=function(_0x6a9ce0,_0x4d5d77,_0x3cfca9){const _0x119326=_0x11f95f;switch(_0x3cfca9[_0x119326(0x5eb)]){case _0x2d2efd['Downgrade']:_0x3cfca9[_0x119326(0x83c)]===_0x351c37[_0x119326(0x368)]&&(_0x6a9ce0-=0x3)<0xf&&(_0x6a9ce0=0xf);break;case _0x2d2efd[_0x119326(0x6e6)]:(_0x6a9ce0+=0x3)>_0x4d5d77&&(_0x6a9ce0=_0x4d5d77);}return _0x6a9ce0;}(_0x339a69[_0x11f95f(0x730)],_0x339a69[_0x11f95f(0x103)],_0x480be5),_0x339a69[_0x11f95f(0x348)]=function(_0x50e688,_0x4e12b6,_0x1f5636){const _0x13eef8=_0x11f95f;switch(_0x1f5636[_0x13eef8(0x5eb)]){case _0x2d2efd[_0x13eef8(0x34e)]:_0x1f5636['component']===_0x351c37[_0x13eef8(0x2c1)]&&(_0x50e688*=0.75)<_0x288c43&&(_0x50e688=_0x288c43);break;case _0x2d2efd[_0x13eef8(0x6e6)]:(_0x50e688*=1.25)>_0x4e12b6&&(_0x50e688=_0x4e12b6);}return _0x50e688;}(_0x339a69['bitrate'],_0x339a69[_0x11f95f(0xdf)],_0x480be5));}(_0x57a165,_0x89b5fd),_0x57a165[_0x1c90fa(0x40e)]['video']&&_0x57a165['tracks'][_0x1c90fa(0x9e4)][_0x1c90fa(0xa6d)])){const _0x217abb=_0x57a165[_0x1c90fa(0x40e)][_0x1c90fa(0x9e4)][_0x1c90fa(0xa6d)];this[_0x1c90fa(0x57b)][_0x1c90fa(0x9bc)](_0x217abb,Math['floor'](0xa*_0x57a165[_0x1c90fa(0x985)])/0xa,_0x57a165[_0x1c90fa(0x730)],_0x57a165[_0x1c90fa(0x348)],_0x57a165[_0x1c90fa(0x2c9)]);}(_0x57a165||_0x89b5fd[_0x1c90fa(0x5eb)]===_0x2d2efd['Downgrade'])&&this[_0x1c90fa(0x62d)]();}[_0x52a325(0x839)](){const _0x3451e9=_0x52a325;return this[_0x3451e9(0x2f7)][_0x3451e9(0x870)][_0x3451e9(0x8b1)]((_0x3d85e4,_0x4860d1)=>_0x3d85e4+_0x4860d1[_0x3451e9(0x1af)],0x0)*_0x3e1574;}[_0x52a325(0x63c)](){const _0x17ac4f=_0x52a325;return this[_0x17ac4f(0x866)]?.[_0x17ac4f(0x9ef)]??0x0;}[_0x52a325(0x112)](){const _0x1f4746=_0x52a325;super[_0x1f4746(0x112)](),this[_0x1f4746(0x31e)](),this[_0x1f4746(0x123)](),this[_0x1f4746(0x8a0)][_0x1f4746(0x854)](_0x3b2965=>{const _0x132461=_0x1f4746;_0x3b2965[_0x132461(0x40e)][_0x132461(0x9e4)]&&(_0x3b2965[_0x132461(0x40e)][_0x132461(0x9e4)]['sender']=void 0x0),_0x3b2965[_0x132461(0x40e)][_0x132461(0x4c2)]&&(_0x3b2965[_0x132461(0x40e)][_0x132461(0x4c2)]['sender']=void 0x0);}),this[_0x1f4746(0x45a)]=!0x0;}async[_0x52a325(0x52b)](){return new Promise(async _0x15658c=>{const _0x1d9128=a0_0x15bf;if(!this['dataChannel']||'open'!==this[_0x1d9128(0x866)][_0x1d9128(0x8e7)])return await _0x4e41bf[_0x1d9128(0x28a)](0x64),void _0x15658c();this[_0x1d9128(0x866)]['bufferedAmount']<_0x1dba39?_0x15658c():this[_0x1d9128(0x866)][_0x1d9128(0x62a)]=()=>{const _0x2d0a5e=_0x1d9128;this[_0x2d0a5e(0x866)]&&(this[_0x2d0a5e(0x866)][_0x2d0a5e(0x62a)]=null),_0x15658c();};});}async[_0x52a325(0x56f)](_0x3e7f54,_0x40f9e7){const _0x2f6435=_0x52a325,_0x2616bd=[];for(let _0x1c65db=0x0;_0x1c65db<_0x40f9e7[_0x2f6435(0x761)];_0x1c65db+=_0x57e75e)_0x2616bd['push'](_0x40f9e7[_0x2f6435(0x71c)](_0x1c65db,_0x1c65db+_0x57e75e));for(const _0x2a6420 of _0x2616bd){for(;this[_0x2f6435(0x2f7)]['queues'][_0x4df0b6[_0x2f6435(0x979)]]['size']>0x1;)await _0x4e41bf[_0x2f6435(0x28a)](0x64);this[_0x2f6435(0xa0c)](_0x1c43b6+';'+_0x3e7f54[_0x2f6435(0x731)]+';'+_0x2616bd[_0x2f6435(0x3f1)](_0x2a6420)+';'+_0x2616bd[_0x2f6435(0x761)]+';'+_0x2a6420,_0x4df0b6['Low']);}}async['sendWithRetry'](_0x4c2bb5,_0x1e26f0){const _0x2e4a57=_0x52a325;_0x4c2bb5===_0x592caa?this[_0x2e4a57(0x2f7)][_0x2e4a57(0x870)][_0x1e26f0][_0x2e4a57(0x35f)]?.[_0x2e4a57(0x320)]!==_0x592caa&&this[_0x2e4a57(0x2f7)]['queues'][_0x1e26f0][_0x2e4a57(0xa4)](_0x4c2bb5):this[_0x2e4a57(0x2f7)][_0x2e4a57(0x870)][_0x1e26f0][_0x2e4a57(0x66e)](_0x4c2bb5);}['sendAction'](_0x84b4ac){const _0x57cbc3=_0x52a325;if(!this['dataChannel']||'open'!==this[_0x57cbc3(0x866)][_0x57cbc3(0x8e7)])throw new Error(_0x57cbc3(0xaaf));if(this[_0x57cbc3(0x866)][_0x57cbc3(0x9ef)]>=0x600000)throw new Error(_0x57cbc3(0x737));const _0x49b496=Date['now']();_0x84b4ac!==_0x592caa&&(this[_0x57cbc3(0x7d1)]+=0x1,this[_0x57cbc3(0x96b)]+=_0x84b4ac instanceof ArrayBuffer?_0x84b4ac[_0x57cbc3(0x61e)]:_0x84b4ac['length']);try{ArrayBuffer,this[_0x57cbc3(0x866)][_0x57cbc3(0x9c8)](_0x84b4ac);}catch(_0x4f705b){throw console[_0x57cbc3(0x2a8)]('DataChannel\x20send\x20error',_0x4f705b),_0x4f705b;}this[_0x57cbc3(0x2c2)]+=Date[_0x57cbc3(0x88b)]()-_0x49b496;}[_0x52a325(0x78a)](){const _0x3c43b7=_0x52a325;this[_0x3c43b7(0xaad)]&&this[_0x3c43b7(0x253)]();let _0x13917f=!0x0,_0xcb3259=Date[_0x3c43b7(0x88b)]();this['lastHeartbeat']=Date[_0x3c43b7(0x88b)](),this['dataChannel']['onMessage']=_0x193d2f=>{const _0x5f36c5=_0x3c43b7;'1'===_0x193d2f[_0x5f36c5(0x6f2)]&&(this[_0x5f36c5(0x850)]=Date['now']()-_0xcb3259,_0x13917f&&this[_0x5f36c5(0xabb)]({'type':_0x4194fa[_0x5f36c5(0x546)]}),_0x13917f=!0x1,this[_0x5f36c5(0x445)]=Date['now'](),this[_0x5f36c5(0x45a)]&&(this[_0x5f36c5(0x45a)]=!0x1,this[_0x5f36c5(0xa96)]()));},this['heartbeatUnsubscriber']=_0x4e41bf[_0x3c43b7(0x750)](()=>{const _0x569d07=_0x3c43b7;_0xcb3259=Date[_0x569d07(0x88b)](),this[_0x569d07(0xa0c)](_0x592caa,_0x4df0b6['High']),Date[_0x569d07(0x88b)]()-this[_0x569d07(0x445)]>(_0x13917f?0x15f90:0x3a98)&&this[_0x569d07(0x56c)]();},0xbb8);}[_0x52a325(0xa96)](){const _0x37aa66=_0x52a325;this[_0x37aa66(0x8a0)][_0x37aa66(0x854)](_0x5820c6=>{const _0x35a1b5=_0x37aa66;_0x5820c6['tracks'][_0x35a1b5(0x9e4)]&&_0x5820c6['tracks']['video'][_0x35a1b5(0x74d)]&&!_0x5820c6['tracks'][_0x35a1b5(0x9e4)][_0x35a1b5(0xa6d)]&&(_0x5820c6[_0x35a1b5(0x40e)][_0x35a1b5(0x9e4)][_0x35a1b5(0xa6d)]=this[_0x35a1b5(0x57b)]['addTrack'](_0x5820c6[_0x35a1b5(0x40e)][_0x35a1b5(0x9e4)][_0x35a1b5(0x74d)],_0x5820c6['stream'])),_0x5820c6['tracks'][_0x35a1b5(0x4c2)]&&_0x5820c6[_0x35a1b5(0x40e)]['audio']['track']&&!_0x5820c6['tracks'][_0x35a1b5(0x4c2)]['sender']&&(_0x5820c6[_0x35a1b5(0x40e)][_0x35a1b5(0x4c2)][_0x35a1b5(0xa6d)]=this['connection'][_0x35a1b5(0x2f1)](_0x5820c6['tracks'][_0x35a1b5(0x4c2)][_0x35a1b5(0x74d)],_0x5820c6[_0x35a1b5(0x3a3)]));});}['sendIceCandidates'](){const _0x68ccda=_0x52a325;this[_0x68ccda(0xabb)]({'type':_0x4194fa[_0x68ccda(0x367)],'candidates':this['handshakeCandidates'],'origin':_0x1347d1[_0x68ccda(0x87f)],'version':this[_0x68ccda(0x23b)],'connectionType':this[_0x68ccda(0x2e1)]});}[_0x52a325(0x893)](){const _0x340e50=_0x52a325;super[_0x340e50(0x893)](),this[_0x340e50(0x57b)][_0x340e50(0x984)]=()=>{const _0x3a7c15=_0x340e50;if(_0x3a7c15(0x864)===this[_0x3a7c15(0x57b)]['handshakeState']){_0x2d5d47['log'](_0x422206['ConnectionState'],_0x3a7c15(0xa79),this[_0x3a7c15(0x8df)][_0x3a7c15(0x8ef)](),this[_0x3a7c15(0xf7)]);try{if(this['connection'][_0x3a7c15(0x1e5)])return void this[_0x3a7c15(0x57b)]['restartHandshake']();}catch(_0x418565){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x340e50(0x57b)]['onConnectionStateChange']=()=>{const _0x13879a=_0x340e50;_0x13879a(0x342)!==this[_0x13879a(0x57b)][_0x13879a(0x4b3)]&&_0x13879a(0x864)!==this[_0x13879a(0x57b)][_0x13879a(0x4b3)]||this['handleDisconnect']();};}['handleDisconnect'](){const _0x3b31dc=_0x52a325;this[_0x3b31dc(0x253)](),this[_0x3b31dc(0x1cc)](),this['clearConnectionTimeout'](),_0x2d5d47[_0x3b31dc(0x196)](_0x3b31dc(0x4dd),{'clusterId':this[_0x3b31dc(0x285)],'nodeId':this[_0x3b31dc(0x8df)]['getId'](),'nodeType':this[_0x3b31dc(0x8df)][_0x3b31dc(0x983)],'remoteId':this[_0x3b31dc(0xf7)],'data':{'connectionType':this[_0x3b31dc(0x2e1)],'connectionState':this[_0x3b31dc(0x57b)][_0x3b31dc(0x4b3)],'iceConnectionState':this[_0x3b31dc(0x57b)][_0x3b31dc(0x7e4)],'signalingState':this[_0x3b31dc(0x57b)]['signalingState'],'readyState':this['dataChannel']?.[_0x3b31dc(0x8e7)]||'','lastHeartbeat':this[_0x3b31dc(0x445)]?Date[_0x3b31dc(0x88b)]()-this['lastHeartbeat']:'','retryQueue':this['retryQueue']}}),(this[_0x3b31dc(0x445)]&&Date[_0x3b31dc(0x88b)]()-this[_0x3b31dc(0x445)]>0xea60)??0x1?this[_0x3b31dc(0xbb)][_0x3b31dc(0x7da)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x3b31dc(0x8df)]['getId']()],'messageType':_0x5ebcbf[_0x3b31dc(0x961)],'content':{'type':_0x4194fa[_0x3b31dc(0x122)]}}):(this[_0x3b31dc(0x112)](),this[_0x3b31dc(0xabb)]({'type':_0x4194fa[_0x3b31dc(0x513)],'version':this[_0x3b31dc(0x23b)],'connectionType':this[_0x3b31dc(0x2e1)]}),this[_0x3b31dc(0x88a)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0x52a325(0x253)](){this['heartbeatUnsubscriber']?.(),delete this['heartbeatUnsubscriber'];}[_0x52a325(0x7cf)](){const _0xd765c5=_0x52a325;this['connectionTimeout']&&(clearTimeout(this[_0xd765c5(0x1fd)]),delete this['connectionTimeout']);}[_0x52a325(0x1cc)](){const _0x32a4ba=_0x52a325;this[_0x32a4ba(0x88a)]&&(clearTimeout(this[_0x32a4ba(0x88a)]),delete this['restartTimeout']);}[_0x52a325(0x3de)](){const _0x37beee=_0x52a325;this[_0x37beee(0x2b0)]&&(clearTimeout(this[_0x37beee(0x2b0)]),delete this['upgradeTimeout']);}[_0x52a325(0x62d)](){const _0x440e91=_0x52a325;this[_0x440e91(0x2b0)]=setTimeout(()=>{const _0x5de4b8=_0x440e91;this[_0x5de4b8(0x4cc)]({'type':_0x459ca9[_0x5de4b8(0x9e0)],'action':_0x2d2efd[_0x5de4b8(0x6e6)]});},0x3a98);}['getResolutionScale'](_0x555019,_0x328c32){const _0x520e3e=_0x52a325,_0x2a8a11=Math['max'](_0x555019[_0x520e3e(0x665)]/_0x328c32[_0x520e3e(0x665)],_0x555019['height']/_0x328c32[_0x520e3e(0x440)]);return Math['min'](Math[_0x520e3e(0x662)](_0x2a8a11,0x1),0x4);}['clearWaitAnswer'](){const _0x417c0e=_0x52a325;this['waitAnswer']?.(),delete this[_0x417c0e(0x674)];}[_0x52a325(0x31e)](){const _0x449dcf=_0x52a325;this[_0x449dcf(0x27f)]&&(clearTimeout(this[_0x449dcf(0x27f)]),delete this[_0x449dcf(0x27f)]);}['objectToArrayBuffer'](_0x37991a){const _0x3555c5=_0x52a325,_0x343847=JSON[_0x3555c5(0x712)](_0x37991a);return new TextEncoder()['encode'](_0x343847)[_0x3555c5(0x6ef)];}[_0x52a325(0x80c)](_0x3b7a12,_0x47b759){const _0x18f321=_0x52a325,_0x4902fa=this[_0x18f321(0x779)](_0x3b7a12),_0x4c94cd=new Uint8Array(0x4),_0x3ef75f=new Uint8Array(_0x4902fa),_0x5e6dc1=new Uint8Array(_0x47b759);_0x4c94cd['set'](new Uint8Array(new Uint32Array([_0x3ef75f[_0x18f321(0x761)]])[_0x18f321(0x6ef)]));const _0x586d46=new Uint8Array(0x4+_0x3ef75f[_0x18f321(0x761)]+_0x5e6dc1[_0x18f321(0x761)]);return _0x586d46['set'](_0x4c94cd),_0x586d46[_0x18f321(0x23c)](_0x3ef75f,0x4),_0x586d46[_0x18f321(0x23c)](_0x5e6dc1,0x4+_0x3ef75f[_0x18f321(0x761)]),_0x586d46[_0x18f321(0x6ef)];}}class _0x39b0d1 extends _0x40433f{[_0x52a325(0x813)];[_0x52a325(0x2e1)];[_0x52a325(0x10d)];['maxBpp'];['connectionConstructor'];[_0x52a325(0xa27)];[_0x52a325(0x499)];[_0x52a325(0x32d)]=[];[_0x52a325(0xabd)]=_0x14acab();[_0x52a325(0xf9)]=_0x14acab();['removeTrackListeners']=_0x14acab();[_0x52a325(0x466)]=[];[_0x52a325(0xbb)];[_0x52a325(0xe2)]=new Map();[_0x52a325(0x816)]=new Map();[_0x52a325(0x588)]=new Map();['mediaUnsubscribers']=new Map();['successNotified']=!0x1;constructor(_0x5657ba,_0x405c27,_0x4d3c75,_0x2488fc,_0x38be1c,_0x44ffda,_0x5a26c9,_0x3ad6ce){const _0x4417da=_0x52a325;super(_0x5657ba,_0x405c27,_0x4d3c75),this['iceServers']=_0x2488fc,this['connectionType']=_0x38be1c,this['maxFps']=_0x44ffda,this[_0x4417da(0x79c)]=_0x5a26c9,this['connectionConstructor']=_0x3ad6ce;}[_0x52a325(0x724)](_0x5c7eb8){const _0x34c752=_0x52a325;switch(_0x5c7eb8[_0x34c752(0x7d4)]()){case _0x5bfdb7[_0x34c752(0x689)][_0x34c752(0xab6)]:case _0x5bfdb7['ContentType'][_0x34c752(0xa20)]:case _0x5bfdb7[_0x34c752(0x689)][_0x34c752(0xa8e)]:case _0x5bfdb7[_0x34c752(0x689)][_0x34c752(0x7ad)]:case _0x5bfdb7['ContentType'][_0x34c752(0x2df)]:case _0x5bfdb7[_0x34c752(0x689)][_0x34c752(0x7c5)]:case _0x5bfdb7[_0x34c752(0x689)][_0x34c752(0xa7b)]:case _0x5bfdb7[_0x34c752(0x689)][_0x34c752(0x383)]:this[_0x34c752(0xe2)]['set'](_0x5c7eb8[_0x34c752(0x8f6)](),_0x5c7eb8);break;case _0x5bfdb7[_0x34c752(0x689)]['Media']:this[_0x34c752(0x588)][_0x34c752(0x23c)](_0x5c7eb8[_0x34c752(0x8f6)](),_0x5c7eb8);}}['unregisterPublisher'](_0x419875){const _0x53da0b=_0x52a325;switch(_0x419875[_0x53da0b(0x7d4)]()){case _0x5bfdb7[_0x53da0b(0x689)][_0x53da0b(0xab6)]:case _0x5bfdb7[_0x53da0b(0x689)]['PubSub']:case _0x5bfdb7[_0x53da0b(0x689)][_0x53da0b(0xa8e)]:case _0x5bfdb7['ContentType'][_0x53da0b(0x7ad)]:case _0x5bfdb7[_0x53da0b(0x689)][_0x53da0b(0x2df)]:case _0x5bfdb7['ContentType'][_0x53da0b(0x7c5)]:case _0x5bfdb7['ContentType'][_0x53da0b(0xa7b)]:case _0x5bfdb7[_0x53da0b(0x689)]['ExternalStorage']:this[_0x53da0b(0xe2)][_0x53da0b(0x4f4)](_0x419875[_0x53da0b(0x8f6)]());break;case _0x5bfdb7[_0x53da0b(0x689)][_0x53da0b(0x609)]:this[_0x53da0b(0x588)][_0x53da0b(0x4f4)](_0x419875[_0x53da0b(0x8f6)]());}}[_0x52a325(0x7d3)](_0x3f742f){const _0x2bffa6=_0x52a325;switch(_0x3f742f[_0x2bffa6(0x7d4)]()){case _0x5bfdb7[_0x2bffa6(0x689)][_0x2bffa6(0xab6)]:case _0x5bfdb7[_0x2bffa6(0x689)]['PubSub']:case _0x5bfdb7['ContentType']['ObjectStore']:case _0x5bfdb7['ContentType']['KeyValueDatabase']:case _0x5bfdb7['ContentType'][_0x2bffa6(0x2df)]:case _0x5bfdb7['ContentType'][_0x2bffa6(0x7c5)]:case _0x5bfdb7[_0x2bffa6(0x689)][_0x2bffa6(0xa7b)]:case _0x5bfdb7[_0x2bffa6(0x689)]['ExternalStorage']:{const _0x4bf162=_0x3f742f[_0x2bffa6(0xaa1)](_0x24db26=>{const _0x459250=_0x2bffa6;_0x391db2(_0x24db26,this[_0x459250(0x7f1)]())&&_0xc28281(_0x24db26,this['remoteId'])&&this['send'](_0x24db26);});this[_0x2bffa6(0x816)][_0x2bffa6(0x23c)](_0x3f742f['getLabel'](),_0x4bf162);break;}case _0x5bfdb7[_0x2bffa6(0x689)][_0x2bffa6(0x609)]:{const _0x4f3181=_0x3f742f[_0x2bffa6(0xaa1)](({content:_0xe23206})=>{const _0x368e4c=_0x2bffa6;switch(_0xe23206[_0x368e4c(0x5eb)]){case _0x56a1f2[_0x368e4c(0x55e)]:this[_0x368e4c(0x2f1)](_0xe23206[_0x368e4c(0x74d)],_0xe23206[_0x368e4c(0x3a3)],_0xe23206[_0x368e4c(0x2c9)],_0xe23206['params']);break;case _0x56a1f2[_0x368e4c(0xa3b)]:this['removeTrack'](_0xe23206[_0x368e4c(0x74d)],_0xe23206[_0x368e4c(0x3a3)]);break;case _0x56a1f2[_0x368e4c(0x54c)]:_0xe23206[_0x368e4c(0x2c9)]&&this[_0x368e4c(0x2c8)](_0xe23206[_0x368e4c(0x3a3)],_0xe23206['priority']),_0xe23206['params']&&this[_0x368e4c(0x592)](_0xe23206[_0x368e4c(0x3a3)],_0xe23206['params']);}});this[_0x2bffa6(0x24b)][_0x2bffa6(0x23c)](_0x3f742f[_0x2bffa6(0x8f6)](),_0x4f3181);break;}}}['unregisterSubscriber'](_0x41d555){const _0xc2bdc=_0x52a325;switch(_0x41d555[_0xc2bdc(0x7d4)]()){case _0x5bfdb7[_0xc2bdc(0x689)][_0xc2bdc(0xab6)]:case _0x5bfdb7['ContentType'][_0xc2bdc(0xa20)]:case _0x5bfdb7[_0xc2bdc(0x689)][_0xc2bdc(0xa8e)]:case _0x5bfdb7[_0xc2bdc(0x689)][_0xc2bdc(0x7ad)]:case _0x5bfdb7[_0xc2bdc(0x689)][_0xc2bdc(0x2df)]:case _0x5bfdb7[_0xc2bdc(0x689)][_0xc2bdc(0x7c5)]:case _0x5bfdb7[_0xc2bdc(0x689)][_0xc2bdc(0xa7b)]:case _0x5bfdb7[_0xc2bdc(0x689)][_0xc2bdc(0x383)]:this[_0xc2bdc(0x816)][_0xc2bdc(0x627)](_0x41d555[_0xc2bdc(0x8f6)]())?.(),this['dataUnsubscribers']['delete'](_0x41d555[_0xc2bdc(0x8f6)]());break;case _0x5bfdb7[_0xc2bdc(0x689)][_0xc2bdc(0x609)]:this[_0xc2bdc(0x24b)]['get'](_0x41d555[_0xc2bdc(0x8f6)]())?.(),this[_0xc2bdc(0x24b)]['delete'](_0x41d555['getLabel']());}}['getSupportedContentTypes'](){const _0x724ad7=_0x52a325;return[_0x5bfdb7[_0x724ad7(0x689)][_0x724ad7(0xab6)],_0x5bfdb7['ContentType'][_0x724ad7(0x609)],_0x5bfdb7['ContentType']['PubSub'],_0x5bfdb7[_0x724ad7(0x689)][_0x724ad7(0xa8e)],_0x5bfdb7[_0x724ad7(0x689)][_0x724ad7(0x7ad)],_0x5bfdb7[_0x724ad7(0x689)][_0x724ad7(0x2df)],_0x5bfdb7[_0x724ad7(0x689)]['VectorDatabase'],_0x5bfdb7['ContentType']['GraphDatabase'],_0x5bfdb7[_0x724ad7(0x689)][_0x724ad7(0x383)]];}[_0x52a325(0x75b)](_0x68ff97){const _0x5d6bc1=_0x52a325;this[_0x5d6bc1(0xbb)]=_0x68ff97;}[_0x52a325(0x772)](){const _0x111413=_0x52a325;delete this[_0x111413(0xbb)];}async[_0x52a325(0x73e)](){this['setupListeners'](),await this['createOffer']();}[_0x52a325(0x93c)](){const _0x136368=_0x52a325;this[_0x136368(0x466)][_0x136368(0x854)](_0x5812fd=>_0x5812fd()),this[_0x136368(0x466)]=[],this[_0x136368(0xa27)]?.[_0x136368(0x772)](),this[_0x136368(0xa27)]?.[_0x136368(0x93c)](),delete this[_0x136368(0xa27)],this[_0x136368(0x32d)][_0x136368(0x854)](_0x535501=>_0x535501()),this[_0x136368(0x32d)]=[],this['receiverConnection']?.[_0x136368(0x772)](),this[_0x136368(0x499)]?.[_0x136368(0x93c)](),delete this[_0x136368(0x499)];}['isConnected'](){const _0x2564c4=_0x52a325;return this[_0x2564c4(0xa27)]?.[_0x2564c4(0x948)]()&&this[_0x2564c4(0x499)]?.[_0x2564c4(0x948)]()||!0x1;}[_0x52a325(0x9c8)](_0x4c0102){const _0x2a061b=_0x52a325;if(!this[_0x2a061b(0xa27)]||!this['isConnected']())throw new _0x162f0d(_0x162f0d[_0x2a061b(0x2a6)][_0x2a061b(0x246)],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this['senderConnection']?.[_0x2a061b(0x948)](),'receiverConnected':this[_0x2a061b(0x499)]?.['isConnected'](),'localId':this[_0x2a061b(0x7f1)](),'remoteId':this[_0x2a061b(0xf7)],'data':_0x4c0102});this['senderConnection'][_0x2a061b(0x9c8)](_0x4c0102);}[_0x52a325(0x6d3)](_0x68faa1){return this['messageListeners']['subscribe'](_0x68faa1);}[_0x52a325(0x2f6)](_0x58c979){const _0x555f44=_0x52a325;return this['trackListeners'][_0x555f44(0xaa1)](({track:_0x17e97f,stream:_0x17f52f})=>_0x58c979(_0x17e97f,_0x17f52f));}[_0x52a325(0x3f2)](_0x55ee2a){const _0xd608b2=_0x52a325;return this[_0xd608b2(0x26f)][_0xd608b2(0xaa1)](({track:_0x526a4b,stream:_0x2433bb})=>_0x55ee2a(_0x526a4b,_0x2433bb));}[_0x52a325(0x2f1)](_0x52fada,_0x3b0439,_0x5dd342,_0x2a2da1){const _0x401032=_0x52a325;this[_0x401032(0xa27)]?.[_0x401032(0x2f1)](_0x52fada,_0x3b0439,_0x5dd342,_0x2a2da1);}[_0x52a325(0x2c8)](_0x3e2ad1,_0xc58f3a){const _0x38c084=_0x52a325;this[_0x38c084(0xa27)]?.[_0x38c084(0x2c8)](_0x3e2ad1,_0xc58f3a);}[_0x52a325(0x592)](_0x266eaf,_0x500e78){const _0x1aff1a=_0x52a325;this[_0x1aff1a(0xa27)]?.[_0x1aff1a(0x592)](_0x266eaf,_0x500e78);}[_0x52a325(0x21d)](_0x4f1109,_0x3fd9a0){const _0xffeeeb=_0x52a325;this[_0xffeeeb(0xa27)]?.[_0xffeeeb(0x21d)](_0x4f1109,_0x3fd9a0);}async[_0x52a325(0x3b1)](_0x1d0996){const _0x5b85ae=_0x52a325;_0x2d5d47['log'](_0x422206[_0x5b85ae(0x5df)],_0x5b85ae(0x584),this[_0x5b85ae(0x7f1)](),_0x1d0996);const {content:_0x2a926d}=_0x1d0996;switch(_0x2a926d[_0x5b85ae(0x983)]){case _0x4194fa['Offer']:await this[_0x5b85ae(0x2d6)](_0x2a926d);break;case _0x4194fa[_0x5b85ae(0x9c0)]:await this[_0x5b85ae(0x511)](_0x2a926d);break;case _0x4194fa[_0x5b85ae(0x546)]:this['handleSuccess']();break;case _0x4194fa[_0x5b85ae(0x367)]:await this[_0x5b85ae(0x907)](_0x2a926d);break;case _0x4194fa['NeedRestart']:this[_0x5b85ae(0x4a8)](_0x2a926d);break;case _0x4194fa[_0x5b85ae(0x835)]:await this['createOffer']();}}[_0x52a325(0x8da)](_0x3028d8){const _0x192898=_0x52a325;this[_0x192898(0xa27)]?.['applyRemediation'](_0x3028d8[_0x192898(0x38c)][_0x192898(0x6f2)]);}[_0x52a325(0x910)](){const _0x31512a=_0x52a325;return this[_0x31512a(0x2e1)];}['setConnectionType'](_0x3dabd4){const _0x26af63=_0x52a325;this[_0x26af63(0x2e1)]=_0x3dabd4,this[_0x26af63(0xa27)]?.[_0x26af63(0x814)](_0x3dabd4),this[_0x26af63(0x499)]?.[_0x26af63(0x814)](_0x3dabd4);}async[_0x52a325(0x518)](){const _0x49dac7=_0x52a325;await this['senderConnection']?.[_0x49dac7(0x518)](),await this[_0x49dac7(0x499)]?.['collectStats']();}[_0x52a325(0x839)](){const _0x3470a5=_0x52a325;return this[_0x3470a5(0xa27)]?.[_0x3470a5(0x839)]()??0x0;}[_0x52a325(0x63c)](){const _0x408ac1=_0x52a325;return this['senderConnection']?.[_0x408ac1(0x63c)]()??0x0;}[_0x52a325(0x849)](){const _0x5229b7=_0x52a325;this[_0x5229b7(0x466)]['push'](this[_0x5229b7(0x6d3)](_0x1d5bad=>{const _0x513e8d=_0x5229b7;_0xc28281(_0x1d5bad,this[_0x513e8d(0x7f1)]())&&0x0!==_0x1d5bad[_0x513e8d(0x446)]&&this[_0x513e8d(0xe2)][_0x513e8d(0x627)](_0x1d5bad[_0x513e8d(0x446)])?.[_0x513e8d(0x7da)](_0x1d5bad);})),this[_0x5229b7(0x466)][_0x5229b7(0x66e)](this[_0x5229b7(0x2f6)]((_0x2d642e,_0x504842)=>{const _0x5f40a1=_0x5229b7,_0x11f559=_0x69c24e(_0x5bfdb7[_0x5f40a1(0x689)]['Media'],_0x504842['id'],this[_0x5f40a1(0xf7)]);this[_0x5f40a1(0x588)][_0x5f40a1(0x627)](_0x11f559)?.[_0x5f40a1(0x7da)]({'topicLabel':_0x11f559,'sourceId':this[_0x5f40a1(0xf7)],'contentType':_0x5bfdb7[_0x5f40a1(0x689)]['Media'],'content':{'action':_0x56a1f2[_0x5f40a1(0x450)],'track':_0x2d642e,'stream':_0x504842,'providerId':this[_0x5f40a1(0xf7)]}});})),this[_0x5229b7(0x466)][_0x5229b7(0x66e)](this[_0x5229b7(0x3f2)]((_0x4b114e,_0x23c95b)=>{const _0x5a98dd=_0x5229b7,_0x199ca7=_0x69c24e(_0x5bfdb7[_0x5a98dd(0x689)][_0x5a98dd(0x609)],_0x23c95b['id'],this[_0x5a98dd(0xf7)]);this['mediaTopics'][_0x5a98dd(0x627)](_0x199ca7)?.[_0x5a98dd(0x7da)]({'topicLabel':_0x199ca7,'sourceId':this[_0x5a98dd(0xf7)],'contentType':_0x5bfdb7[_0x5a98dd(0x689)][_0x5a98dd(0x609)],'content':{'action':_0x56a1f2[_0x5a98dd(0x28f)],'track':_0x4b114e,'stream':_0x23c95b,'providerId':this[_0x5a98dd(0xf7)]}});}));}['handleIceCandidates']({candidates:_0x15ffcc,origin:_0x4fe101,version:_0xc0565e}){const _0x4d159b=_0x52a325;return _0x4fe101===_0x1347d1[_0x4d159b(0x87f)]?(this[_0x4d159b(0x499)]||this['createReceiverConnection'](),this[_0x4d159b(0x499)]['handleHandshake'](_0x15ffcc,_0xc0565e)):this[_0x4d159b(0xa27)]['handleHandshake'](_0x15ffcc,_0xc0565e);}async['createOffer'](){const _0x5566f4=_0x52a325;this['senderConnection']||this[_0x5566f4(0x93a)](),await this[_0x5566f4(0xa27)]['createOffer']();}async[_0x52a325(0x2d6)]({offer:_0x44a3b2,version:_0x5530aa}){const _0x532a4a=_0x52a325;this['receiverConnection']||this[_0x532a4a(0x6ad)](),await this[_0x532a4a(0x499)]['handleOffer'](_0x44a3b2,_0x5530aa);}async[_0x52a325(0x511)]({answer:_0x31acf3,version:_0x8a617c}){const _0x3478c3=_0x52a325;if(!this[_0x3478c3(0xa27)])throw new _0x162f0d(_0x162f0d['codes'][_0x3478c3(0x246)],{'message':_0x3478c3(0x35c),'localId':this[_0x3478c3(0x7f1)](),'remoteId':this[_0x3478c3(0xf7)],'answer':_0x31acf3});await this[_0x3478c3(0xa27)][_0x3478c3(0x511)](_0x31acf3,_0x8a617c);}[_0x52a325(0x977)](){const _0x57c252=_0x52a325;if(!this[_0x57c252(0x499)])throw new _0x162f0d(_0x162f0d['codes']['ConnectionNotinitialized'],{'message':_0x57c252(0xfe),'localId':this[_0x57c252(0x7f1)](),'remoteId':this[_0x57c252(0xf7)]});this[_0x57c252(0x499)][_0x57c252(0x977)](),this[_0x57c252(0x569)]||this[_0x57c252(0x2e1)]!==_0x51b19f[_0x57c252(0x9ab)]||(this[_0x57c252(0x569)]=!0x0,this[_0x57c252(0xbb)]?.['publish']({'sourceId':this['remoteId'],'destinationIds':[this[_0x57c252(0x7f1)]()],'messageType':_0x5ebcbf[_0x57c252(0x961)],'content':{'type':_0x4194fa[_0x57c252(0x3f9)]}}));}[_0x52a325(0x4a8)](_0x37d1ec){const _0xd93604=_0x52a325;this['receiverConnection']||this['createReceiverConnection'](),this[_0xd93604(0x499)][_0xd93604(0x4a8)](_0x37d1ec[_0xd93604(0x45b)]);}[_0x52a325(0x93a)](){const _0x3d9e57=_0x52a325;this[_0x3d9e57(0xa27)]=new _0xe8f394(this[_0x3d9e57(0x285)],this[_0x3d9e57(0x8df)],this[_0x3d9e57(0xf7)],this[_0x3d9e57(0x813)],this['connectionType'],this[_0x3d9e57(0x10d)],this[_0x3d9e57(0x79c)],this[_0x3d9e57(0x63b)]),this[_0x3d9e57(0xa27)][_0x3d9e57(0x75b)](this['systemTopic']);}[_0x52a325(0x6ad)](){const _0x5ce051=_0x52a325;this[_0x5ce051(0x499)]=new _0x552409(this[_0x5ce051(0x285)],this['localNode'],this[_0x5ce051(0xf7)],this[_0x5ce051(0x813)],this['connectionType'],this[_0x5ce051(0x63b)]),this[_0x5ce051(0x499)][_0x5ce051(0x75b)](this[_0x5ce051(0xbb)]),this['receiverUnsubscribers'][_0x5ce051(0x66e)](this[_0x5ce051(0x499)]['onMessage'](_0x35f359=>this[_0x5ce051(0xabd)][_0x5ce051(0x7da)](_0x35f359))),this[_0x5ce051(0x32d)][_0x5ce051(0x66e)](this[_0x5ce051(0x499)][_0x5ce051(0x2f6)]((_0x90a59c,_0x15359a)=>this[_0x5ce051(0xf9)]['publish']({'track':_0x90a59c,'stream':_0x15359a}))),this[_0x5ce051(0x32d)][_0x5ce051(0x66e)](this[_0x5ce051(0x499)]['onRemoveTrack']((_0x210107,_0x402d73)=>this[_0x5ce051(0x26f)][_0x5ce051(0x7da)]({'track':_0x210107,'stream':_0x402d73})));}}class _0x24bd7b{['localId'];[_0x52a325(0x18f)];['graphService'];[_0x52a325(0x598)]=new Map();['messageListeners']=_0x14acab();['messageUnsubscriber'];[_0x52a325(0xe2)]=new Map();[_0x52a325(0x816)]=new Map();[_0x52a325(0x1f7)]=new Map();constructor(_0x4475d6,_0x3dd4f0,_0x12f59a){const _0xfd76d0=_0x52a325;this[_0xfd76d0(0xa41)]=_0x4475d6,this[_0xfd76d0(0x18f)]=_0x3dd4f0,this[_0xfd76d0(0xa31)]=_0x12f59a,this[_0xfd76d0(0x5c5)]=this[_0xfd76d0(0x6d3)](_0x839ab3=>{const _0xb92453=_0xfd76d0;this['messageBuffer'][_0xb92453(0x14d)](_0x839ab3[_0xb92453(0x731)])||(_0xc28281(_0x839ab3,this[_0xb92453(0xa41)])&&0x0!==_0x839ab3['topicLabel']&&(this[_0xb92453(0x18f)][_0xb92453(0x970)](_0x839ab3[_0xb92453(0x731)]),this[_0xb92453(0xe2)][_0xb92453(0x627)](_0x839ab3[_0xb92453(0x446)])?.[_0xb92453(0x7da)](_0x839ab3)),_0x839ab3['propagate']&&this[_0xb92453(0x9c8)](_0x839ab3));});}[_0x52a325(0x93c)](){const _0x5432b1=_0x52a325;this[_0x5432b1(0x5c5)]?.();}['addConnection'](_0x4e8faf){const _0x180932=_0x52a325,_0x1b94c4=_0x4e8faf[_0x180932(0x6d3)](_0x3d5c53=>{const _0xbc14c3=_0x180932;this[_0xbc14c3(0xabd)][_0xbc14c3(0x7da)](_0x3d5c53);});this[_0x180932(0x598)][_0x180932(0x23c)](_0x4e8faf,_0x1b94c4),this[_0x180932(0x1f7)][_0x180932(0x23c)](_0x4e8faf['getRemoteId'](),function(_0xa1e069,_0xe1f61=!0x1){let _0x544d5d=new Map();const _0x289ec0=_0x4131ea(_0xa1e069,_0xe1f61,function(_0x47b629){const _0x2c1c58=a0_0x15bf;_0x1f1db7(_0x47b629)&&_0x544d5d['delete'](_0x47b629[_0x2c1c58(0x2c0)]+'-'+(_0x47b629[_0x2c1c58(0x514)]??[])+'-'+_0x47b629[_0x2c1c58(0x91b)]+'-'+_0x47b629['content']['type']);},function(_0x38c8c7){return!!function(_0x309997){const _0x1543d3=a0_0x15bf,_0x3e12b7=_0x309997[_0x1543d3(0x320)];if(!_0x1f1db7(_0x3e12b7))return!0x1;const _0x39d5c9=_0x3e12b7[_0x1543d3(0x2c0)]+'-'+(_0x3e12b7[_0x1543d3(0x514)]??[])+'-'+_0x3e12b7[_0x1543d3(0x91b)]+'-'+_0x3e12b7['content'][_0x1543d3(0x983)],_0x178aba={'version':_0x3e12b7['content'][_0x1543d3(0x45b)],'element':_0x309997},_0x4b9bf8=_0x544d5d[_0x1543d3(0x627)](_0x39d5c9);return _0x4b9bf8?(_0x4b9bf8[_0x1543d3(0x45b)]>=_0x3e12b7['content'][_0x1543d3(0x45b)]||(_0x4b9bf8[_0x1543d3(0x7e8)]['previous']&&(_0x4b9bf8[_0x1543d3(0x7e8)][_0x1543d3(0x258)][_0x1543d3(0x631)]=_0x309997,_0x309997['previous']=_0x4b9bf8[_0x1543d3(0x7e8)]['previous']),_0x4b9bf8[_0x1543d3(0x7e8)][_0x1543d3(0x631)]&&(_0x4b9bf8[_0x1543d3(0x7e8)]['next'][_0x1543d3(0x258)]=_0x309997,_0x309997[_0x1543d3(0x631)]=_0x4b9bf8['element']['next']),_0x4b9bf8[_0x1543d3(0x7e8)]===_0x289ec0[_0x1543d3(0x35f)]&&(_0x289ec0['head']=_0x309997),_0x4b9bf8[_0x1543d3(0x7e8)]===_0x289ec0[_0x1543d3(0x1b1)]&&(_0x289ec0[_0x1543d3(0x1b1)]=_0x309997),_0x544d5d[_0x1543d3(0x23c)](_0x39d5c9,_0x178aba)),!0x0):(_0x544d5d[_0x1543d3(0x23c)](_0x39d5c9,_0x178aba),!0x1);}(_0x38c8c7);},function(){const _0x47420e=a0_0x15bf;_0x544d5d[_0x47420e(0xaa)]();});function _0x1f1db7(_0x3a6f1b){const _0x1d9d34=a0_0x15bf;if(_0x3a6f1b&&_0x1d9d34(0x7d8)==typeof _0x3a6f1b&&_0x3a6f1b[_0x1d9d34(0x4a3)]('content')&&_0x3a6f1b[_0x1d9d34(0x4a3)]('messageType')&&_0x3a6f1b['hasOwnProperty'](_0x1d9d34(0x2c0))){const _0x3824e4=_0x3a6f1b;if(_0x3824e4['content']&&'object'==typeof _0x3824e4[_0x1d9d34(0x38c)]&&_0x3824e4[_0x1d9d34(0x38c)][_0x1d9d34(0x4a3)](_0x1d9d34(0x45b))&&_0x3824e4[_0x1d9d34(0x38c)][_0x1d9d34(0x4a3)]('type'))return!0x0;}return!0x1;}return _0x289ec0;}(new _0x2aa5f9(_0x2a4827=>_0x4e8faf['send'](_0x2a4827),()=>_0x4e41bf[_0x180932(0x28a)](0x64))));}[_0x52a325(0x6d9)](_0x24f258){const _0x1ba951=_0x52a325;this['connections'][_0x1ba951(0x627)](_0x24f258)?.(),this[_0x1ba951(0x598)][_0x1ba951(0x4f4)](_0x24f258),this[_0x1ba951(0x1f7)]['get'](_0x24f258[_0x1ba951(0x134)]())?.[_0x1ba951(0xaa)](),this[_0x1ba951(0x1f7)][_0x1ba951(0x4f4)](_0x24f258[_0x1ba951(0x134)]());}[_0x52a325(0x948)](_0x23abde){const _0x15bbc3=_0x52a325;return _0x2d5d47[_0x15bbc3(0x109)](_0x422206[_0x15bbc3(0x994)],_0x15bbc3(0x6c2),this['localId'],this[_0x15bbc3(0x598)]['keys']()),0x0!==this[_0x15bbc3(0x598)][_0x15bbc3(0x1af)]&&(Array['from'](this[_0x15bbc3(0x598)]['keys']())[_0x15bbc3(0x7cc)](_0x71c75b=>_0x71c75b['getRemoteId']()===_0x23abde)?.[_0x15bbc3(0x948)]()??!0x1);}[_0x52a325(0x724)](_0x271060){const _0x593eac=_0x52a325;this[_0x593eac(0xe2)][_0x593eac(0x23c)](_0x271060['getLabel'](),_0x271060);}['unregisterPublisher'](_0x4d1bcd){const _0x128fe1=_0x52a325;this[_0x128fe1(0xe2)][_0x128fe1(0x4f4)](_0x4d1bcd[_0x128fe1(0x8f6)]());}[_0x52a325(0x7d3)](_0x10047d){const _0x37e515=_0x52a325,_0x282002=_0x10047d[_0x37e515(0xaa1)](this[_0x37e515(0x9c8)][_0x37e515(0x3d2)](this));this['dataUnsubscribers'][_0x37e515(0x23c)](_0x10047d[_0x37e515(0x8f6)](),_0x282002);}['unregisterSubscriber'](_0xa10ccb){const _0x13f7fb=_0x52a325;this[_0x13f7fb(0x816)]['get'](_0xa10ccb[_0x13f7fb(0x8f6)]())?.(),this[_0x13f7fb(0x816)][_0x13f7fb(0x4f4)](_0xa10ccb[_0x13f7fb(0x8f6)]());}[_0x52a325(0x3eb)](){const _0x1aadd3=_0x52a325;return[_0x5bfdb7['ContentType'][_0x1aadd3(0xab6)],_0x5bfdb7['ContentType'][_0x1aadd3(0xa20)],_0x5bfdb7[_0x1aadd3(0x689)][_0x1aadd3(0xa8e)],_0x5bfdb7[_0x1aadd3(0x689)]['KeyValueDatabase'],_0x5bfdb7['ContentType'][_0x1aadd3(0x2df)],_0x5bfdb7[_0x1aadd3(0x689)][_0x1aadd3(0x7c5)],_0x5bfdb7[_0x1aadd3(0x689)][_0x1aadd3(0xa7b)],_0x5bfdb7[_0x1aadd3(0x689)][_0x1aadd3(0x383)]];}[_0x52a325(0x9c8)](_0x1904a7){const _0x1bd81f=_0x52a325;if(!0x1===_0x1904a7[_0x1bd81f(0xae)]){if(_0x1904a7[_0x1bd81f(0xa63)]||!_0x1904a7[_0x1bd81f(0x514)]||0x1!==_0x1904a7[_0x1bd81f(0x514)][_0x1bd81f(0x761)])throw new _0x162f0d(_0x162f0d[_0x1bd81f(0x2a6)][_0x1bd81f(0x55b)],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this['localId']});if(!this[_0x1bd81f(0x948)](_0x1904a7[_0x1bd81f(0x514)][0x0]))throw new _0x356a2c(_0x1bd81f(0x37e));}const _0x4b66e9=_0x1904a7['recipients']??[];try{const {filteredDestinationIds:_0x407b9d,extendedRecipients:_0x1ae1f4}=this[_0x1bd81f(0x5ee)](_0x1904a7,_0x4b66e9);_0x1904a7['destinationIds']=_0x407b9d,_0x1904a7['recipients']=_0x1ae1f4;}catch(_0x42649c){if(_0x42649c instanceof _0x356a2c)return void _0x2d5d47['log'](_0x422206[_0x1bd81f(0x5df)],_0x1bd81f(0x38d),'Early\x20return',_0x1904a7,_0x42649c[_0x1bd81f(0x787)]);}const _0x160dcb=this[_0x1bd81f(0x8c7)](_0x1904a7);this[_0x1bd81f(0x768)](_0x1904a7,_0x160dcb),_0x1904a7[_0x1bd81f(0xa63)]=_0x160dcb;const _0x59be80=this[_0x1bd81f(0x780)](_0x1904a7,_0x4b66e9);for(const _0x121a1c of _0x59be80){const _0x1a1fc1=this[_0x1bd81f(0x1f7)]['get'](_0x121a1c[_0x1bd81f(0x134)]());if(!_0x1a1fc1)throw new _0x162f0d(_0x162f0d[_0x1bd81f(0x2a6)][_0x1bd81f(0xa72)],{'message':_0x1bd81f(0x5ed),'localId':this[_0x1bd81f(0xa41)],'remoteId':_0x121a1c[_0x1bd81f(0x134)](),'data':_0x1904a7});_0x1a1fc1[_0x1bd81f(0x66e)](_0x1904a7);}}['getRemoteId'](){return'';}[_0x52a325(0x7f1)](){const _0x36493e=_0x52a325;return this[_0x36493e(0xa41)];}[_0x52a325(0x6d3)](_0x5b4d4a){return this['messageListeners']['subscribe'](_0x5b4d4a);}[_0x52a325(0x5ee)](_0x35bc4c,_0x5322c6){const _0x4059ff=_0x52a325,_0x13bed3={'filteredDestinationIds':_0x35bc4c[_0x4059ff(0x514)],'extendedRecipients':_0x35bc4c['recipients']};if(!_0x35bc4c['propagate'])return _0x13bed3;const _0x456f6c=Array[_0x4059ff(0xa3e)](this[_0x4059ff(0x598)][_0x4059ff(0x5a9)]())[_0x4059ff(0x6f8)](_0xf4c20c=>_0xf4c20c[_0x4059ff(0x910)]()===_0x51b19f[_0x4059ff(0x33d)]||_0xf4c20c[_0x4059ff(0x948)]())[_0x4059ff(0x943)](_0x156185=>_0x156185[_0x4059ff(0x134)]());if(_0x456f6c['reduce']((_0x1ded6b,_0x44db34)=>_0x1ded6b&&_0x35bc4c['recipients']['includes'](_0x44db34),!0x0))throw new _0x356a2c('All\x20recipients\x20already\x20received');if(_0x35bc4c['destinationIds']){const _0x178fac=_0x35bc4c[_0x4059ff(0x514)][_0x4059ff(0x6f8)](_0x2a6f86=>_0x2a6f86!==this[_0x4059ff(0xa41)]&&!_0x35bc4c['recipients'][_0x4059ff(0x8cd)](_0x2a6f86));if(0x0===_0x178fac[_0x4059ff(0x761)])throw new _0x356a2c('No\x20destinationIds\x20left');_0x13bed3[_0x4059ff(0x3b0)]=_0x178fac;}return _0x13bed3[_0x4059ff(0x4de)]=[...new Set([..._0x5322c6,..._0x456f6c,this[_0x4059ff(0xa41)]])],_0x13bed3;}['logPropagateSystemEvent'](_0x2c1f8a,_0x25a310=!0x1){const _0x5b8375=_0x52a325;if(0x0===_0x2c1f8a[_0x5b8375(0x446)]&&!_0x391db2(_0x2c1f8a,this[_0x5b8375(0xa41)])&&_0x2c1f8a[_0x5b8375(0xa63)]){const _0x447ece=_0x176765(_0x2c1f8a,this['localId']);_0x2d5d47['logRaw'](_0x422206[_0x5b8375(0x2c6)],_0x2c1f8a['uuid']+'\x20-\x20Sending\x20propagation\x20('+_0x25a310+')\x20'+_0x447ece,_0x2c1f8a,_0x25a310);}}[_0x52a325(0x8c7)](_0x2e7deb){const _0x3e998b=_0x52a325;if(_0x2e7deb['destinationIds']&&_0x2e7deb[_0x3e998b(0xa63)]){const _0x9e8055=Array[_0x3e998b(0xa3e)](this[_0x3e998b(0x598)]['keys']())[_0x3e998b(0x6f8)](_0x198479=>_0x198479['getConnectionType']()===_0x51b19f[_0x3e998b(0x33d)]||_0x198479[_0x3e998b(0x948)]())['map'](_0x5011de=>_0x5011de['getRemoteId']());return!_0x2e7deb[_0x3e998b(0x514)][_0x3e998b(0x8b1)]((_0x375068,_0x4f7a4f)=>_0x375068&&_0x9e8055['includes'](_0x4f7a4f),!0x0);}return _0x2e7deb[_0x3e998b(0xa63)]??!0x1;}['getConnectionDestinations'](_0x15599b,_0x19bd8a){const _0x348464=_0x52a325;if(_0x15599b[_0x348464(0xa63)]&&_0x15599b[_0x348464(0x514)]){const _0x25231d=Array[_0x348464(0xa3e)](this[_0x348464(0x598)][_0x348464(0x5a9)]())[_0x348464(0x6f8)](_0x417d95=>_0x417d95[_0x348464(0x910)]()===_0x51b19f[_0x348464(0x33d)]||_0x417d95[_0x348464(0x948)]())[_0x348464(0x943)](_0x276fc7=>_0x276fc7[_0x348464(0x134)]()),_0x5c400d=new Set(),_0x7f9e0e=_0x15599b['sourceId']===this['localId']?0x3:0x1;return _0x15599b[_0x348464(0x514)][_0x348464(0x854)](_0x1d6df0=>{const _0x4af5ca=_0x348464,_0x1e90e9=this['graphService'][_0x4af5ca(0x2ed)](_0x25231d,_0x1d6df0);let _0x28ddf6=0x0,_0x3b520a=0x0;_0x1e90e9[_0x4af5ca(0x854)](_0x33b3ab=>{const _0xb67196=_0x4af5ca;if(_0x28ddf6>=_0x7f9e0e)return;const _0x521993=Array[_0xb67196(0xa3e)](this[_0xb67196(0x598)][_0xb67196(0x5a9)]())[_0xb67196(0x7cc)](_0x13f34e=>_0x13f34e['getRemoteId']()===_0x33b3ab);if(_0x521993){if(_0x521993['getConnectionType']()===_0x51b19f[_0xb67196(0x33d)]&&_0x3b520a>0x0)return void(_0x3b520a-=0x1);_0x5c400d[_0xb67196(0xa24)](_0x521993),_0x521993[_0xb67196(0x910)]()===_0x51b19f[_0xb67196(0x9ab)]&&(_0x3b520a+=0x1),_0x28ddf6+=0x1;}});}),Array['from'](_0x5c400d);}return Array['from'](this[_0x348464(0x598)][_0x348464(0x5a9)]())[_0x348464(0x6f8)](_0x2c62fb=>{const _0x160541=_0x348464;return _0xc8e58d=_0x2c62fb['getRemoteId'](),!_0x19bd8a[_0x160541(0x8cd)](_0xc8e58d)&&(_0xc28281(_0x15599b,_0xc8e58d)||_0x15599b[_0x160541(0xa63)])&&(!_0x15599b[_0x160541(0xa63)]||_0x2c62fb['isConnected']()||_0x2c62fb[_0x160541(0x910)]()===_0x51b19f[_0x160541(0x33d)]);var _0xc8e58d;});}}class _0x1da2bd{[_0x52a325(0xa41)];['messageBuffer'];[_0x52a325(0x598)]=new Map();[_0x52a325(0xbb)];constructor(_0x17c4cd,_0x4b683c){const _0x31d08d=_0x52a325;this[_0x31d08d(0xa41)]=_0x17c4cd,this[_0x31d08d(0x18f)]=_0x4b683c;}['close'](){}[_0x52a325(0x9c8)](_0x3e9743){const _0x104ad5=_0x52a325;for(const _0x31cd of this[_0x104ad5(0x598)]['keys']())try{return void _0x31cd[_0x104ad5(0x9c8)]({'retry':!0x1,..._0x3e9743});}catch(_0x19e3e4){_0x19e3e4 instanceof _0x356a2c||_0x2d5d47[_0x104ad5(0x109)](_0x422206[_0x104ad5(0x7dc)],_0x104ad5(0x796)+_0x31cd,_0x19e3e4,_0x3e9743);}_0x2d5d47[_0x104ad5(0x109)](_0x422206[_0x104ad5(0x7dc)],_0x104ad5(0x1ff));}['addConnection'](_0x55c127){const _0x558733=_0x52a325,_0x1bdf70=_0x55c127[_0x558733(0x6d3)](_0x482f93=>{const _0x521cc4=_0x558733;this[_0x521cc4(0x18f)]['hasMessage'](_0x482f93[_0x521cc4(0x731)])||0x0===_0x482f93['topicLabel']&&(this[_0x521cc4(0x18f)][_0x521cc4(0x970)](_0x482f93['uuid']),_0xc28281(_0x482f93,this[_0x521cc4(0xa41)])&&this[_0x521cc4(0xbb)]?.[_0x521cc4(0x7da)](_0x482f93));});this[_0x558733(0x598)][_0x558733(0x23c)](_0x55c127,_0x1bdf70);}[_0x52a325(0x6d9)](_0x23c7bd){const _0x5763ac=_0x52a325;this[_0x5763ac(0x598)][_0x5763ac(0x627)](_0x23c7bd)?.(),this[_0x5763ac(0x598)][_0x5763ac(0x4f4)](_0x23c7bd);}[_0x52a325(0x7f1)](){return this['localId'];}[_0x52a325(0x134)](){return'';}[_0x52a325(0x3eb)](){const _0x1817b8=_0x52a325;return[_0x5bfdb7[_0x1817b8(0x689)][_0x1817b8(0xab6)]];}['isConnected'](){throw new Error('Method\x20not\x20implemented.');}[_0x52a325(0x75b)](_0x38d355){const _0x2c0f78=_0x52a325;this[_0x2c0f78(0xbb)]=_0x38d355;}[_0x52a325(0x772)](){delete this['systemTopic'];}}class _0x481f2a{[_0x52a325(0x6ef)]=new Map();[_0x52a325(0x9e5)];constructor(){const _0x1239b5=_0x52a325;this[_0x1239b5(0x9e5)]=_0x4e41bf[_0x1239b5(0x750)](()=>{const _0x36e299=_0x1239b5;for(const [_0xa9f4cf,_0x3b94f5]of this['buffer'][_0x36e299(0x6c8)]())Date['now']()-_0x3b94f5>0x124f80&&this['buffer'][_0x36e299(0x4f4)](_0xa9f4cf);},0x1d4c0);}[_0x52a325(0x93c)](){const _0x43bfb7=_0x52a325;this[_0x43bfb7(0x9e5)]();}['addMessage'](_0x5a890b){const _0x4c3c23=_0x52a325;this[_0x4c3c23(0x6ef)]['set'](_0x5a890b,Date[_0x4c3c23(0x88b)]());}[_0x52a325(0x14d)](_0x15972e){const _0x9f63a6=_0x52a325;return this[_0x9f63a6(0x6ef)][_0x9f63a6(0xed)](_0x15972e);}}class _0x47ce4f{[_0x52a325(0x3f7)];[_0x52a325(0x542)];['iceServers'];[_0x52a325(0x996)];[_0x52a325(0x598)]=new Map();[_0x52a325(0x7ea)];['connectionGroup'];['signalingServer'];['messageBuffer'];constructor(_0x2ca72a,_0x2d1411,_0x7a643f,_0x28de81,_0x5275d2){const _0x1fb319=_0x52a325;this[_0x1fb319(0x3f7)]=_0x2ca72a,this[_0x1fb319(0x542)]=_0x2d1411,this[_0x1fb319(0x813)]=_0x28de81,this[_0x1fb319(0x996)]=_0x5275d2,this['messageBuffer']=new _0x481f2a(),this['connectionGroup']=new _0x24bd7b(this[_0x1fb319(0x3f7)][_0x1fb319(0x8df)][_0x1fb319(0x8ef)](),this[_0x1fb319(0x18f)],_0x7a643f),this[_0x1fb319(0x6af)]=new _0x165ab2(this[_0x1fb319(0x3f7)][_0x1fb319(0x793)],this[_0x1fb319(0x3f7)][_0x1fb319(0x285)],this[_0x1fb319(0x3f7)]['localNode'],_0x1fb319(0x66c),this['authService']),this[_0x1fb319(0x7ea)]=new _0x1da2bd(this[_0x1fb319(0x3f7)][_0x1fb319(0x8df)][_0x1fb319(0x8ef)](),this[_0x1fb319(0x18f)]),this[_0x1fb319(0x7ea)][_0x1fb319(0x703)](this[_0x1fb319(0x735)]),this[_0x1fb319(0x7ea)][_0x1fb319(0x703)](this[_0x1fb319(0x6af)]),this[_0x1fb319(0x3f7)][_0x1fb319(0x698)][_0x1fb319(0x91e)](this[_0x1fb319(0x7ea)]);}[_0x52a325(0x93c)](){const _0x2713d9=_0x52a325;this['messageBuffer'][_0x2713d9(0x93c)](),this[_0x2713d9(0x598)]['forEach']((_0x547124,_0x2344b0)=>this['closeConnection'](_0x2344b0)),this[_0x2713d9(0x3f7)][_0x2713d9(0x698)][_0x2713d9(0x540)](this[_0x2713d9(0x7ea)]),this['connectionPool'][_0x2713d9(0x6d9)](this['signalingServer']),this['connectionPool'][_0x2713d9(0x6d9)](this[_0x2713d9(0x735)]),this['connectionPool']['close'](),this['signalingServer'][_0x2713d9(0x93c)](),this[_0x2713d9(0x735)][_0x2713d9(0x93c)]();}async[_0x52a325(0x1a7)](){const _0x1c1776=_0x52a325;await this[_0x1c1776(0x6af)][_0x1c1776(0x73e)]();}async[_0x52a325(0x2cf)](_0x379513,_0x6f2fee=_0x51b19f[_0x52a325(0x33d)]){const _0x3ad627=_0x52a325;if(this[_0x3ad627(0x598)][_0x3ad627(0xed)](_0x379513)){if(this[_0x3ad627(0x598)][_0x3ad627(0x627)](_0x379513)?.[_0x3ad627(0x910)]()===_0x51b19f[_0x3ad627(0x9ab)]&&_0x6f2fee===_0x51b19f[_0x3ad627(0x33d)])return void this[_0x3ad627(0x598)][_0x3ad627(0x627)](_0x379513)?.[_0x3ad627(0x814)](_0x51b19f['Core']);throw new _0x162f0d(_0x162f0d[_0x3ad627(0x2a6)][_0x3ad627(0x167)],{'localId':this[_0x3ad627(0x3f7)][_0x3ad627(0x8df)][_0x3ad627(0x8ef)](),'remoteId':_0x379513});}const _0x409308=new _0x39b0d1(this[_0x3ad627(0x3f7)][_0x3ad627(0x285)],this['configs'][_0x3ad627(0x8df)],_0x379513,this[_0x3ad627(0x813)],_0x6f2fee,this[_0x3ad627(0x996)][_0x3ad627(0x10d)],this[_0x3ad627(0x996)][_0x3ad627(0x79c)],this[_0x3ad627(0x996)]['peerConnectionConnector']);this[_0x3ad627(0x598)][_0x3ad627(0x23c)](_0x379513,_0x409308),this[_0x3ad627(0x735)][_0x3ad627(0x703)](_0x409308),this[_0x3ad627(0x3f7)][_0x3ad627(0x698)][_0x3ad627(0x91e)](_0x409308),this[_0x3ad627(0x3f7)][_0x3ad627(0x698)][_0x3ad627(0xa05)](_0x379513),await _0x409308[_0x3ad627(0x73e)]();}[_0x52a325(0x31c)](){const _0x50b962=_0x52a325;return this[_0x50b962(0x735)];}[_0x52a325(0x4e3)](_0x3f82c9){const _0x25791d=_0x52a325;if(!this[_0x25791d(0x598)][_0x25791d(0xed)](_0x3f82c9))throw new _0x162f0d(_0x162f0d['codes'][_0x25791d(0x382)],{'localId':this[_0x25791d(0x3f7)][_0x25791d(0x8df)]['getId'](),'remoteId':_0x3f82c9});return this[_0x25791d(0x598)][_0x25791d(0x627)](_0x3f82c9);}[_0x52a325(0x941)](_0x49f3ee){const _0x521815=_0x52a325,_0x3c4a16=Array[_0x521815(0xa3e)](this[_0x521815(0x598)][_0x521815(0x70f)]());return _0x49f3ee?_0x3c4a16['filter'](_0x49f3ee):_0x3c4a16;}async[_0x52a325(0x518)](_0x21ce31){const _0x557786=_0x52a325,_0x40e1b4=this[_0x557786(0x598)]['get'](_0x21ce31);_0x40e1b4&&_0x40e1b4[_0x557786(0x948)]()&&await _0x40e1b4[_0x557786(0x518)]();}[_0x52a325(0x5f6)](_0x3784aa){const _0x3133ac=_0x52a325;if(_0x3784aa['messageType']!==_0x5ebcbf[_0x3133ac(0x961)]||_0x3784aa[_0x3133ac(0xa63)])try{this['connectionGroup'][_0x3133ac(0x9c8)](_0x3784aa);}catch(_0x1e881e){if(_0x1e881e instanceof _0x356a2c)return;throw _0x1e881e;}else this[_0x3133ac(0x7ea)][_0x3133ac(0x9c8)](_0x3784aa);}async[_0x52a325(0x3b1)](_0x19a73e){const _0x55d9af=_0x52a325;switch(_0x19a73e['content'][_0x55d9af(0x983)]){case _0x4194fa[_0x55d9af(0x122)]:case _0x4194fa[_0x55d9af(0x5d9)]:case _0x4194fa[_0x55d9af(0x3f9)]:return;}if(!_0x19a73e[_0x55d9af(0x514)]||0x1!==_0x19a73e['destinationIds']['length'])throw new _0x162f0d(_0x162f0d[_0x55d9af(0x2a6)][_0x55d9af(0x200)],{'message':_0x55d9af(0x998),'event':_0x19a73e});if(_0x19a73e[_0x55d9af(0x514)][0x0]!==this[_0x55d9af(0x3f7)][_0x55d9af(0x8df)][_0x55d9af(0x8ef)]())throw new _0x162f0d(_0x162f0d['codes'][_0x55d9af(0x200)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x19a73e});if(!this['connections'][_0x55d9af(0xed)](_0x19a73e['sourceId'])){let _0x399111=_0x51b19f[_0x55d9af(0x33d)];if(!(this[_0x55d9af(0xf8)](_0x19a73e['content'])||this['isIceCandidate'](_0x19a73e[_0x55d9af(0x38c)])||this[_0x55d9af(0x9ae)](_0x19a73e['content'])))return;_0x399111=_0x19a73e['content']['connectionType'],await this[_0x55d9af(0x2cf)](_0x19a73e[_0x55d9af(0x2c0)],_0x399111);}const _0x586de1=this[_0x55d9af(0x598)][_0x55d9af(0x627)](_0x19a73e['sourceId']);await _0x586de1[_0x55d9af(0x3b1)](_0x19a73e);}[_0x52a325(0x8da)](_0x263c0e){const _0x202e28=_0x52a325;if(_0x263c0e[_0x202e28(0x38c)]['type']===_0x459ca9[_0x202e28(0x9e0)]){if(_0x263c0e[_0x202e28(0x38c)][_0x202e28(0x759)]===this['configs']['localNode'][_0x202e28(0x8ef)]())return void this[_0x202e28(0x598)][_0x202e28(0x854)](_0x86a48=>_0x86a48[_0x202e28(0x8da)](_0x263c0e));this['connections'][_0x202e28(0x627)](_0x263c0e['content'][_0x202e28(0x759)])?.['handleRemediationSystemEvents'](_0x263c0e);}}['handleNodeSystemEvents']({content:_0x47cbff}){const _0x4aa0d9=_0x52a325;_0x47cbff[_0x4aa0d9(0x983)]===_0x747940[_0x4aa0d9(0x7c8)]&&this[_0x4aa0d9(0x497)](_0x47cbff['id']);}[_0x52a325(0x7db)](){const _0x26f4dc=_0x52a325,_0x557b4c=Array[_0x26f4dc(0xa3e)](this['connections'][_0x26f4dc(0x70f)]())['reduce']((_0x17bc00,_0x1d38b4)=>_0x17bc00+_0x1d38b4[_0x26f4dc(0x839)](),0x0);return _0x557b4c<_0x379c68?Promise[_0x26f4dc(0x7f0)](_0x557b4c):new Promise(_0x49402c=>{const _0x347fc7=setInterval(()=>{const _0x461421=a0_0x15bf,_0x15b48b=Array[_0x461421(0xa3e)](this[_0x461421(0x598)][_0x461421(0x70f)]())[_0x461421(0x8b1)]((_0xf3612,_0x370ebd)=>_0xf3612+_0x370ebd[_0x461421(0x839)](),0x0);_0x15b48b<_0x379c68&&(clearInterval(_0x347fc7),_0x49402c(_0x15b48b));},0x3e8);});}['hasBufferedData'](){const _0x2a7f6a=_0x52a325;for(const _0x110f73 of this['connections']['values']())if(_0x110f73[_0x2a7f6a(0x63c)]()>0x0||_0x110f73[_0x2a7f6a(0x839)]()>0x0)return!0x0;return!0x1;}[_0x52a325(0x497)](_0x4232af){const _0x139dec=_0x52a325,_0x57e473=this['connections'][_0x139dec(0x627)](_0x4232af);_0x57e473&&(this[_0x139dec(0x3f7)][_0x139dec(0x698)][_0x139dec(0x27d)](_0x4232af),this[_0x139dec(0x3f7)][_0x139dec(0x698)][_0x139dec(0x540)](_0x57e473),_0x57e473 instanceof _0x39b0d1&&this[_0x139dec(0x735)][_0x139dec(0x6d9)](_0x57e473),_0x57e473[_0x139dec(0x93c)](),this[_0x139dec(0x598)][_0x139dec(0x4f4)](_0x4232af));}['isOffer'](_0x1f7427){return _0x1f7427['type']===_0x4194fa['Offer'];}[_0x52a325(0x9ae)](_0xe0b30f){const _0x3eab58=_0x52a325;return _0xe0b30f[_0x3eab58(0x983)]===_0x4194fa[_0x3eab58(0x513)];}[_0x52a325(0x825)](_0x3cfc3c){const _0x31c96a=_0x52a325;return _0x3cfc3c[_0x31c96a(0x983)]===_0x4194fa[_0x31c96a(0x367)];}}!function(_0x1fc428){const _0x4b391d=_0x52a325;_0x1fc428[_0x1fc428['SubscribeMediaStream']=0x0]=_0x4b391d(0x422),_0x1fc428[_0x1fc428[_0x4b391d(0x7f2)]=0x1]=_0x4b391d(0x7f2),_0x1fc428[_0x1fc428[_0x4b391d(0x19b)]=0x2]=_0x4b391d(0x19b),_0x1fc428[_0x1fc428[_0x4b391d(0x7bb)]=0x3]=_0x4b391d(0x7bb),_0x1fc428[_0x1fc428[_0x4b391d(0x2a3)]=0x4]=_0x4b391d(0x2a3),_0x1fc428[_0x1fc428[_0x4b391d(0x291)]=0x5]=_0x4b391d(0x291),_0x1fc428[_0x1fc428['CannotProvideMediaStream']=0x6]='CannotProvideMediaStream',_0x1fc428[_0x1fc428[_0x4b391d(0x654)]=0x7]=_0x4b391d(0x654);}(_0x54bcbf||(_0x54bcbf={}));class _0x81e007 extends _0x376443{[_0x52a325(0x8df)];[_0x52a325(0x285)];[_0x52a325(0x793)];[_0x52a325(0x62f)];[_0x52a325(0xc1)];[_0x52a325(0xa03)]=0x0;[_0x52a325(0x137)];['eventListener']=_0x14acab();[_0x52a325(0x466)]=new Map();[_0x52a325(0x23e)];constructor(_0x43a844,_0x71fdf9,_0x3fa15a,_0x511ff8,_0x209b50){const _0x3ea843=_0x52a325;if(_0x3ea843(0x347)!=typeof _0x71fdf9)throw new _0x1d1fb5(_0x433410[_0x3ea843(0x126)],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x43a844,_0x71fdf9),this['localNode']=_0x43a844,this['clusterId']=_0x3fa15a,this[_0x3ea843(0x793)]=_0x511ff8,this[_0x3ea843(0x62f)]=_0x209b50,this['sendStats']();}[_0x52a325(0x3d9)](){const _0x2c95d9=_0x52a325;this[_0x2c95d9(0x23e)]?.(),this[_0x2c95d9(0x466)][_0x2c95d9(0x854)](_0xaefab8=>_0xaefab8()),clearTimeout(this[_0x2c95d9(0xc1)]),delete this[_0x2c95d9(0xc1)],super['destroy']();}[_0x52a325(0x4da)](){const _0x4be5c9=_0x52a325;this[_0x4be5c9(0x34a)]();}[_0x52a325(0x93c)](){const _0x33435b=_0x52a325;this[_0x33435b(0xbb)][_0x33435b(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf['Content'],'content':{'type':_0x539ab3['CloseExternalStorageConnection'],'label':this[_0x33435b(0x7cd)]}});}[_0x52a325(0x7d4)](){const _0x581adc=_0x52a325;return _0x5bfdb7[_0x581adc(0x689)][_0x581adc(0x383)];}async[_0x52a325(0x627)](_0x30415b){const _0x30a83d=_0x52a325;if(!this[_0x30a83d(0x137)])throw new _0x1d1fb5(_0x433410[_0x30a83d(0x3d3)],_0x30a83d(0x9a7));_0x2d5d47[_0x30a83d(0x59d)](_0x380533['ExternalStorage'],{'type':_0x30a83d(0x627),'label':this['label'],'nodeId':this[_0x30a83d(0x8df)][_0x30a83d(0x8ef)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'path':_0x30415b}),this[_0x30a83d(0xa03)]+=0x1,this[_0x30a83d(0x34a)]();try{return await this[_0x30a83d(0x137)][_0x30a83d(0x627)](_0x30415b);}catch(_0x3e7401){throw new _0x1d1fb5(_0x433410['ExternalStorageInvalidPath'],_0x30a83d(0x17c)+_0x30415b);}}async[_0x52a325(0x3f3)](_0x2c7d02,_0x4426b6){const _0x33864d=_0x52a325;if(!this[_0x33864d(0x137)])throw new _0x1d1fb5(_0x433410[_0x33864d(0x3d3)],_0x33864d(0x74b));const {recursive:_0x1e8a45=!0x1}=_0x4426b6??{};_0x2d5d47[_0x33864d(0x59d)](_0x380533[_0x33864d(0x383)],{'type':_0x33864d(0x3f3),'label':this['label'],'nodeId':this[_0x33864d(0x8df)][_0x33864d(0x8ef)](),'nodeType':this['localNode'][_0x33864d(0x983)],'clusterId':this[_0x33864d(0x285)],'path':_0x2c7d02}),this[_0x33864d(0xa03)]+=0x1,this[_0x33864d(0x34a)]();try{return await this['connector']['list'](_0x2c7d02,_0x1e8a45);}catch(_0x3cdd3c){throw new _0x1d1fb5(_0x433410[_0x33864d(0xa71)],'Cannot\x20list\x20directory:\x20'+_0x2c7d02);}}['subscribe'](_0xf70535,_0x23c009){const _0x2a7cf0=_0x52a325;if(this[_0x2a7cf0(0x466)][_0x2a7cf0(0xed)](_0xf70535))throw new _0x1d1fb5(_0x433410[_0x2a7cf0(0x375)],_0x2a7cf0(0xc3));this[_0x2a7cf0(0x466)][_0x2a7cf0(0x23c)](_0xf70535,this[_0x2a7cf0(0x547)][_0x2a7cf0(0xaa1)](_0x23c009));}['unsubscribe'](_0x2d87bf){const _0x2602ac=_0x52a325;this[_0x2602ac(0x466)][_0x2602ac(0x627)](_0x2d87bf)?.(),this[_0x2602ac(0x466)]['delete'](_0x2d87bf);}async[_0x52a325(0x807)](){const _0x2cf1b9=_0x52a325,_0x5a9e6e=(await(0x0,_0x51a03b['getDoc'])((0x0,_0x51a03b[_0x2cf1b9(0x5a5)])(_0x36dffc['getFirestore'](),_0x2cf1b9(0x923)+this['vendorId']+'/resources/external-storage/items/'+this[_0x2cf1b9(0x7cd)])))['data']();if(!_0x5a9e6e)throw new _0x1d1fb5(_0x433410[_0x2cf1b9(0x9ea)],_0x2cf1b9(0xa1c)+this[_0x2cf1b9(0x7cd)]);const {site:_0x3d91a4,drive:_0x4f71b9}=_0x5a9e6e,_0x3588da=(await(0x0,_0x225b6f[_0x2cf1b9(0x6a0)])(_0x36dffc[_0x2cf1b9(0x8d0)](),'msalGetAccessToken')({'storageId':this[_0x2cf1b9(0x7cd)]}))[_0x2cf1b9(0x6f2)][_0x2cf1b9(0x139)];this[_0x2cf1b9(0x137)]=new this['connectorConstructor'](_0x3d91a4['id'],_0x4f71b9['id'],_0x3588da,async()=>(await(0x0,_0x225b6f[_0x2cf1b9(0x6a0)])(_0x36dffc[_0x2cf1b9(0x8d0)](),'msalRefreshToken')({'storageId':this[_0x2cf1b9(0x7cd)]}))[_0x2cf1b9(0x6f2)][_0x2cf1b9(0x139)]),this[_0x2cf1b9(0x9f9)]();}['sendStats'](){const _0x5e1f7d=_0x52a325;this[_0x5e1f7d(0xc1)]&&clearTimeout(this['debounceStats']),this[_0x5e1f7d(0xc1)]=setTimeout(async()=>{const _0x638712=_0x5e1f7d;delete this[_0x638712(0xc1)],this['systemTopic'][_0x638712(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x638712(0xa32)],'content':{'type':_0x539ab3[_0x638712(0x435)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x638712(0xa03)],'prompts':0x0,'tokens':0x0}}});},_0x37693a);}async[_0x52a325(0x9f9)](){const _0x2337d4=_0x52a325;await this['connector']?.[_0x2337d4(0x38a)](),this[_0x2337d4(0x23e)]=_0x4e41bf['setInterval'](async()=>{const _0x318206=_0x2337d4;try{if(!this['connector'])return;const _0x40fb15=await this[_0x318206(0x137)]['listChanges']();for(const _0x49228a of _0x40fb15)this[_0x318206(0x547)]['publish'](_0x49228a);}catch(_0x4d559e){}},0x493e0);}}const _0x1b6c24=require('rxjs');class _0xd2089e extends _0x376443{[_0x52a325(0xa31)];[_0x52a325(0x241)]=new Map();[_0x52a325(0xa3c)]=new Map();[_0x52a325(0x8a9)]=new Map();[_0x52a325(0x9e5)];constructor(_0x549e6b,_0x284882,_0x511ee6){const _0xe2d44b=_0x52a325;super(_0x549e6b,_0x284882),this[_0xe2d44b(0xa31)]=_0x511ee6;}['getContentType'](){const _0x920a5d=_0x52a325;return _0x5bfdb7[_0x920a5d(0x689)][_0x920a5d(0x2df)];}[_0x52a325(0x807)](){const _0xb6001=_0x52a325;this['unsubscribeHandler']=this[_0xb6001(0x6d3)]((_0x3e546c,_0x7368d3)=>{const _0xfaa925=_0xb6001;if(_0x2d5d47[_0xfaa925(0x109)](_0x422206[_0xfaa925(0x46a)],_0xfaa925(0xab4),_0x3e546c,_0x7368d3,this[_0xfaa925(0xa31)]['getRemoteNodes']()),!(_0x7368d3 instanceof File)){if(!_0x7368d3)throw new _0x162f0d(_0x162f0d[_0xfaa925(0x2a6)][_0xfaa925(0x76a)]);return this[_0xfaa925(0x5d5)](_0x7368d3)?this[_0xfaa925(0x5fa)](_0x3e546c,_0x7368d3['id'],_0x7368d3):this[_0xfaa925(0x178)](_0x7368d3)?(_0x2d5d47[_0xfaa925(0x109)](_0x422206['Jobs'],_0xfaa925(0x8d1)+_0x7368d3['id']+'\x20received\x20partial\x20result:',_0x7368d3['result']),void this[_0xfaa925(0x7a7)](_0x7368d3['id'],_0x7368d3)):this[_0xfaa925(0x52e)](_0x7368d3)?(_0x2d5d47[_0xfaa925(0x109)](_0x422206[_0xfaa925(0x46a)],_0xfaa925(0x8d1)+_0x7368d3['id']+_0xfaa925(0x11f),_0x7368d3[_0xfaa925(0x28d)]),void this['evaluateProccessedJob'](_0x7368d3['id'],_0x7368d3)):void(this[_0xfaa925(0x2af)](_0x7368d3)&&this['failJob'](_0x7368d3['id'],_0x7368d3[_0xfaa925(0x787)]));}});}[_0x52a325(0x4da)](){const _0x38714d=_0x52a325;this[_0x38714d(0xaa)](),this[_0x38714d(0x807)]();}[_0x52a325(0x3d9)](){const _0x146cab=_0x52a325;this[_0x146cab(0xaa)](),super['destroy']();}['clear'](){const _0x1910c9=_0x52a325;this['jobs'][_0x1910c9(0xaa)](),this['unsubscribeHandler']&&this[_0x1910c9(0x9e5)]();}[_0x52a325(0x93c)](){const _0x8e5a43=_0x52a325;this[_0x8e5a43(0xbb)]?.['publish']({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x8e5a43(0xa32)],'content':{'type':_0x539ab3[_0x8e5a43(0x395)],'label':this[_0x8e5a43(0x7cd)]}});}async[_0x52a325(0x733)](_0x1b0f61){const _0x57814d=_0x52a325,{id:_0x5e2866,parameters:_0x5633ce,jobType:_0x12a0ba}=_0x1b0f61,_0x238c1a={'id':_0x5e2866,'jobType':_0x12a0ba,'parameters':_0x5633ce,'status':_0x5bfdb7[_0x57814d(0x12f)][_0x57814d(0x2fa)],'created':new Date(),'updated':new Date()};if(this[_0x57814d(0x241)]['has'](_0x238c1a['id']))throw new _0x1d1fb5(_0x433410[_0x57814d(0xfb)],'Job\x20with\x20id\x20'+_0x238c1a['id']+'\x20already\x20exists.');_0x238c1a[_0x57814d(0x498)]=new Date(),_0x238c1a[_0x57814d(0x3c0)]=new Date();const _0x35aa64=new _0x1b6c24['Subject']();this[_0x57814d(0x241)][_0x57814d(0x23c)](_0x238c1a['id'],_0x238c1a),this[_0x57814d(0xa3c)][_0x57814d(0x23c)](_0x238c1a['id'],_0x35aa64);try{const _0x367acd={'id':_0x238c1a['id'],'jobPhase':_0x1035ad[_0x57814d(0x150)],'jobType':_0x238c1a['jobType']},_0x41c2a1=0x3;let _0x20b72f=0x0;const _0x15401e=async()=>{const _0x244be0=_0x57814d;_0x20b72f+=0x1;try{_0x2d5d47[_0x244be0(0x109)](_0x422206['Jobs'],_0x244be0(0x8d1)+_0x238c1a['id']+_0x244be0(0x993)+_0x20b72f+'.',this[_0x244be0(0xa31)][_0x244be0(0x37d)]()),await this[_0x244be0(0x9c8)](_0x367acd),_0x238c1a[_0x244be0(0x3c0)]=new Date(),this[_0x244be0(0x241)][_0x244be0(0x23c)](_0x238c1a['id'],_0x238c1a),this['startBidResponseHandling'](_0x238c1a['id']);}catch(_0x42bd99){_0x20b72f<_0x41c2a1?(_0x2d5d47[_0x244be0(0x196)](_0x244be0(0x9d9)+_0x20b72f+_0x244be0(0x7de)+_0x238c1a['id']+_0x244be0(0x9ca),{'nodeId':this[_0x244be0(0x611)][_0x244be0(0x8ef)](),'nodeType':this['owner'][_0x244be0(0x983)],'data':{'job':_0x238c1a,'attempts':_0x20b72f,'maxRetries':_0x41c2a1}}),setTimeout(_0x15401e,0x3e8)):(_0x238c1a[_0x244be0(0x245)]=_0x5bfdb7[_0x244be0(0x12f)][_0x244be0(0x62c)],_0x238c1a[_0x244be0(0x3c0)]=new Date(),this['jobs'][_0x244be0(0x23c)](_0x238c1a['id'],_0x238c1a),_0x2d5d47[_0x244be0(0x2a8)]('Failed\x20to\x20send\x20job\x20'+_0x238c1a['id']+_0x244be0(0x7e7)+_0x41c2a1+_0x244be0(0x2e3),{'nodeId':this[_0x244be0(0x611)]['getId'](),'nodeType':this[_0x244be0(0x611)][_0x244be0(0x983)],'data':{'job':_0x238c1a,'attempts':_0x20b72f,'maxRetries':_0x41c2a1,'error':_0x42bd99}}));}};_0x15401e();const {id:_0x343e45}=_0x238c1a;this[_0x57814d(0x1ed)](_0x57814d(0x8d1)+_0x238c1a['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0x343e45}),_0x238c1a['updated']=new Date();}catch(_0x30ce28){_0x238c1a[_0x57814d(0x245)]=_0x5bfdb7[_0x57814d(0x12f)][_0x57814d(0x62c)],_0x2d5d47[_0x57814d(0x2a8)](_0x57814d(0x77b)+_0x238c1a['id']+':',{'nodeId':this[_0x57814d(0x611)][_0x57814d(0x8ef)](),'nodeType':this[_0x57814d(0x611)][_0x57814d(0x983)],'data':{'job':_0x238c1a,'error':_0x30ce28}});}return _0x35aa64['asObservable']();}[_0x52a325(0x642)](_0x5a131b){const _0x58dbb9=_0x52a325,_0x4dda42=this['jobs'][_0x58dbb9(0x627)](_0x5a131b);if(!_0x4dda42)throw new _0x1d1fb5(_0x433410[_0x58dbb9(0x2db)],_0x58dbb9(0x339)+_0x5a131b+'\x20not\x20found.');return{'id':_0x4dda42['id'],'jobType':_0x4dda42[_0x58dbb9(0x223)],'status':_0x4dda42[_0x58dbb9(0x245)],'parameters':_0x4dda42['parameters']};}[_0x52a325(0x819)](){const _0x23c381=_0x52a325;return Array['from'](this[_0x23c381(0x241)]['values']())['map'](_0x44ab75=>this[_0x23c381(0x642)](_0x44ab75['id']));}async[_0x52a325(0x753)](_0x3c3b6e,_0x1c30df){const _0x105c7e=_0x52a325,_0x5b3054=this[_0x105c7e(0x241)][_0x105c7e(0x627)](_0x3c3b6e);if(!_0x5b3054)throw new _0x1d1fb5(_0x433410[_0x105c7e(0x2db)],_0x105c7e(0x339)+_0x3c3b6e+_0x105c7e(0x581));_0x5b3054[_0x105c7e(0xaba)]=_0x1c30df,_0x5b3054[_0x105c7e(0x3c0)]=new Date(),this[_0x105c7e(0x241)]['set'](_0x3c3b6e,_0x5b3054);}async['deleteJob'](_0x1ffa89){const _0x32ac73=_0x52a325;if(!this[_0x32ac73(0x241)][_0x32ac73(0x4f4)](_0x1ffa89))throw new _0x1d1fb5(_0x433410[_0x32ac73(0x2db)],_0x32ac73(0x339)+_0x1ffa89+_0x32ac73(0x581));const _0xf5707d=this[_0x32ac73(0xa3c)][_0x32ac73(0x627)](_0x1ffa89);if(!_0xf5707d)throw new _0x162f0d(_0x162f0d[_0x32ac73(0x2a6)][_0x32ac73(0x1b8)]);_0xf5707d[_0x32ac73(0x526)](),this[_0x32ac73(0xa3c)][_0x32ac73(0x4f4)](_0x1ffa89),_0x2d5d47[_0x32ac73(0x109)](_0x422206['Jobs'],_0x32ac73(0x8d1)+_0x1ffa89+'\x20deleted.');}[_0x52a325(0x5fa)](_0x53ead2,_0x1c86db,_0xe0ea6b){const _0x175153=_0x52a325,_0x25de16=this[_0x175153(0x8a9)][_0x175153(0x627)](_0x1c86db)??new Map();_0x25de16[_0x175153(0x23c)](_0x53ead2,[_0xe0ea6b,Date[_0x175153(0x88b)]()]),this[_0x175153(0x8a9)]['set'](_0x1c86db,_0x25de16),this[_0x175153(0x9e6)](_0x1c86db);}[_0x52a325(0x3e0)](_0x4987eb){const _0x244049=_0x52a325,_0x1336b3=this[_0x244049(0x241)][_0x244049(0x627)](_0x4987eb);if(!_0x1336b3)throw new _0x162f0d(_0x162f0d['codes'][_0x244049(0x2db)]);const _0x18dd10=setTimeout(()=>this[_0x244049(0x9e6)](_0x4987eb,!0x0),0xbb8);_0x1336b3[_0x244049(0x21a)]=_0x18dd10,this[_0x244049(0x241)]['set'](_0x1336b3['id'],_0x1336b3);}[_0x52a325(0x9e6)](_0x4929bc,_0x544f38=!0x1){const _0x4543bb=_0x52a325,_0x2497ce=this[_0x4543bb(0xa31)]['getRemoteNodes'](),_0xd389be=Array[_0x4543bb(0xa3e)](_0x2497ce[_0x4543bb(0x70f)]())[_0x4543bb(0x6f8)](_0x2f6c7a=>_0x2f6c7a[_0x4543bb(0x983)]===_0x5bfdb7[_0x4543bb(0xa5e)][_0x4543bb(0x1f4)]),_0x30de02=this[_0x4543bb(0x8a9)][_0x4543bb(0x627)](_0x4929bc)??new Map();if(!_0x544f38&&(!_0x30de02||_0x30de02['size']<_0xd389be['length']))return;const _0x3363db=this[_0x4543bb(0x241)][_0x4543bb(0x627)](_0x4929bc);if(!_0x3363db)throw new _0x162f0d(_0x162f0d[_0x4543bb(0x2a6)][_0x4543bb(0x2db)]);if(clearTimeout(_0x3363db[_0x4543bb(0x21a)]),_0x2d5d47['log'](_0x422206[_0x4543bb(0x46a)],'Job\x20'+_0x3363db['id']+'\x20received\x20responses:',_0x30de02,this[_0x4543bb(0x8a9)]),!_0x30de02||0x0===_0x30de02[_0x4543bb(0x1af)]){_0x3363db[_0x4543bb(0x245)]=_0x5bfdb7[_0x4543bb(0x12f)][_0x4543bb(0x62c)],_0x3363db['updated']=new Date(),_0x2d5d47[_0x4543bb(0x2a8)](_0x4543bb(0x8d1)+_0x3363db['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x4543bb(0x611)][_0x4543bb(0x8ef)](),'nodeType':this[_0x4543bb(0x611)][_0x4543bb(0x983)],'data':{'job':_0x3363db,'responses':_0x30de02}});const _0x122823=this[_0x4543bb(0xa3c)][_0x4543bb(0x627)](_0x4929bc);if(!_0x122823)throw new _0x162f0d(_0x162f0d[_0x4543bb(0x2a6)][_0x4543bb(0x1b8)]);const _0x54ba48=_0x4543bb(0xa60),_0x4d48b9={'id':_0x3363db['id'],'status':_0x3363db[_0x4543bb(0x245)],'message':_0x54ba48};return _0x122823[_0x4543bb(0x631)](_0x4d48b9),_0x122823[_0x4543bb(0x526)](),this['jobs'][_0x4543bb(0x23c)](_0x3363db['id'],_0x3363db),void this[_0x4543bb(0x8a9)][_0x4543bb(0x4f4)](_0x4929bc);}const {nodeId:_0x132d46,response:_0x30d4c9}=this[_0x4543bb(0x1d9)](_0x3363db['id'],_0x30de02);_0x3363db['status']=_0x5bfdb7['JobStatus'][_0x4543bb(0x510)],_0x3363db[_0x4543bb(0x3c0)]=new Date(),_0x2d5d47[_0x4543bb(0x109)](_0x422206[_0x4543bb(0x46a)],_0x4543bb(0x8d1)+_0x3363db['id']+_0x4543bb(0x2ce)+_0x132d46+_0x4543bb(0x637),_0x30d4c9);const _0x2ed290={'id':_0x3363db['id'],'jobType':_0x3363db[_0x4543bb(0x223)],'jobPhase':_0x1035ad[_0x4543bb(0x82b)],'parameters':_0x3363db[_0x4543bb(0xaba)]};this[_0x4543bb(0x9c8)](_0x2ed290,[_0x132d46]),this[_0x4543bb(0x241)]['set'](_0x3363db['id'],_0x3363db),this['jobBids'][_0x4543bb(0x4f4)](_0x4929bc);}[_0x52a325(0x1d9)](_0x4799ce,_0x244695){const _0x52923a=_0x52a325;let _0xce29f5;const _0x275e11=Array['from'](_0x244695['entries']())[_0x52923a(0x6f8)](([,[_0x3effc4]])=>_0x3effc4[_0x52923a(0x154)]);if(_0xce29f5=_0x275e11[_0x52923a(0x761)]>0x0?Array[_0x52923a(0xa3e)](_0x244695[_0x52923a(0x6c8)]())[_0x52923a(0x536)]((_0x1df7c9,_0x8d1510)=>_0x8d1510[0x1][0x0][_0x52923a(0x6e3)]-_0x1df7c9[0x1][0x0][_0x52923a(0x6e3)]):Array[_0x52923a(0xa3e)](_0x244695[_0x52923a(0x6c8)]())[_0x52923a(0x536)]((_0x375fb5,_0x5ad350)=>_0x375fb5[0x1][0x0]['queueLength']-_0x5ad350[0x1][0x0][_0x52923a(0x18d)]),0x1===_0xce29f5[_0x52923a(0x761)])return{'nodeId':_0xce29f5[0x0][0x0],'response':_0xce29f5[0x0][0x1][0x0]};let _0x20e1f1;if(_0x20e1f1=_0x275e11['length']>0x0?(_0x121df6=>{const _0x24a4e1=_0x52923a,_0x5e4977=_0x121df6[0x0][0x1][0x0][_0x24a4e1(0x6e3)];return _0x121df6[_0x24a4e1(0x6f8)](([,[_0x534b64]])=>_0x534b64[_0x24a4e1(0x6e3)]===_0x5e4977);})(_0xce29f5):(_0x10327d=>{const _0x24367c=_0x52923a,_0x569bae=_0x10327d[0x0][0x1][0x0][_0x24367c(0x18d)];return _0x10327d[_0x24367c(0x6f8)](([,[_0x32cd5d]])=>_0x32cd5d[_0x24367c(0x18d)]===_0x569bae);})(_0xce29f5),0x1===_0x20e1f1[_0x52923a(0x761)])return{'nodeId':_0x20e1f1[0x0][0x0],'response':_0x20e1f1[0x0][0x1][0x0]};const _0x32a082=this['jobs'][_0x52923a(0x627)](_0x4799ce);if(!_0x32a082)throw new _0x162f0d(_0x162f0d[_0x52923a(0x2a6)][_0x52923a(0x2db)]);const _0x1c9df7=_0x32a082['created'][_0x52923a(0x833)](),_0x2558f4=_0x20e1f1[_0x52923a(0x943)](([_0x82d503,[,_0x415cd5]])=>({'nodeId':_0x82d503,'rtt':_0x415cd5-_0x1c9df7})),_0x377dec=Math[_0x52923a(0x2ea)](..._0x2558f4[_0x52923a(0x943)](({rtt:_0x9e7c7f})=>_0x9e7c7f)),_0x3cf0cd=_0x2558f4[_0x52923a(0x7cc)](({rtt:_0x35e8cc})=>_0x35e8cc===_0x377dec),[,[_0x51a682]]=_0x20e1f1[_0x52923a(0x7cc)](([_0x3ab877])=>_0x3ab877===_0x3cf0cd[_0x52923a(0x580)]);return{'nodeId':_0x3cf0cd['nodeId'],'response':_0x51a682};}[_0x52a325(0x7a7)](_0x3f1f30,_0x5392a1){const _0x38ab64=_0x52a325,_0x28bd6e=this[_0x38ab64(0x241)][_0x38ab64(0x627)](_0x3f1f30);if(!_0x28bd6e)throw new _0x162f0d(_0x162f0d[_0x38ab64(0x2a6)][_0x38ab64(0x2db)]);const _0x4d38ec=this[_0x38ab64(0xa3c)][_0x38ab64(0x627)](_0x3f1f30);if(!_0x4d38ec)throw new _0x162f0d(_0x162f0d[_0x38ab64(0x2a6)][_0x38ab64(0x1b8)]);const _0x6f7b31={'id':_0x28bd6e['id'],'status':_0x5bfdb7[_0x38ab64(0x12f)][_0x38ab64(0x4c0)],'result':_0x5392a1[_0x38ab64(0x28d)]};_0x4d38ec[_0x38ab64(0x631)](_0x6f7b31);}[_0x52a325(0x802)](_0x357322,_0x1057a6){const _0x33c958=_0x52a325,_0x59dff7=this['jobs'][_0x33c958(0x627)](_0x357322);if(!_0x59dff7)throw new _0x162f0d(_0x162f0d[_0x33c958(0x2a6)][_0x33c958(0x2db)]);const _0x377c6c=this[_0x33c958(0xa3c)][_0x33c958(0x627)](_0x357322);if(!_0x377c6c)throw new _0x162f0d(_0x162f0d['codes'][_0x33c958(0x1b8)]);_0x59dff7[_0x33c958(0x245)]=_0x5bfdb7[_0x33c958(0x12f)][_0x33c958(0xa59)];const _0x14d692={'id':_0x59dff7['id'],'status':_0x59dff7[_0x33c958(0x245)],'result':_0x1057a6[_0x33c958(0x28d)]};_0x377c6c[_0x33c958(0x631)](_0x14d692),_0x377c6c[_0x33c958(0x526)](),this[_0x33c958(0xa3c)]['delete'](_0x357322),this['logEvent'](_0x33c958(0x8d1)+_0x357322+_0x33c958(0x239),{'jobId':_0x357322});}[_0x52a325(0xde)](_0x5d6fdf,_0x1dd3a9){const _0x85d0a2=_0x52a325,_0x3b54bd=this[_0x85d0a2(0x241)][_0x85d0a2(0x627)](_0x5d6fdf);if(!_0x3b54bd)throw new _0x162f0d(_0x162f0d[_0x85d0a2(0x2a6)]['JobDispatcherJobNotFound']);const _0x537278=this[_0x85d0a2(0xa3c)]['get'](_0x5d6fdf);if(!_0x537278)throw new _0x162f0d(_0x162f0d[_0x85d0a2(0x2a6)][_0x85d0a2(0x1b8)]);_0x3b54bd[_0x85d0a2(0x245)]=_0x5bfdb7['JobStatus'][_0x85d0a2(0x62c)];const _0x3ae117={'id':_0x3b54bd['id'],'status':_0x3b54bd['status'],'message':_0x1dd3a9};_0x537278[_0x85d0a2(0x631)](_0x3ae117),_0x537278['complete'](),this[_0x85d0a2(0xa3c)]['delete'](_0x5d6fdf),this[_0x85d0a2(0x1ed)](_0x85d0a2(0x8d1)+_0x5d6fdf+_0x85d0a2(0x593),{'jobId':_0x5d6fdf});}[_0x52a325(0x1ed)](_0x19cf21,{jobId:_0x352def}){const _0xd8cb1=_0x52a325,_0x115144={'jobId':_0x352def,'mistletIds':Array['from'](this[_0xd8cb1(0xa31)][_0xd8cb1(0x37d)]()[_0xd8cb1(0x70f)]())['filter'](_0x7254c9=>_0x7254c9[_0xd8cb1(0x983)]===_0x5bfdb7['NodeType'][_0xd8cb1(0x1f4)])[_0xd8cb1(0x943)](_0x46aa6c=>_0x46aa6c[_0xd8cb1(0x8ef)]())};_0x2d5d47[_0xd8cb1(0x1ed)](_0x19cf21,{'nodeId':this[_0xd8cb1(0x9a9)](),'nodeType':this['owner']['type'],'data':_0x115144}),_0x2d5d47[_0xd8cb1(0x109)](_0x422206['Jobs'],_0x19cf21,_0x115144);}[_0x52a325(0x5d5)](_0x23a8fb){const {jobPhase:_0x30638c,available:_0x553417,bid:_0x3d0554}=_0x23a8fb;return _0x30638c===_0x1035ad['Bid']&&void 0x0!==_0x553417&&void 0x0!==_0x3d0554;}[_0x52a325(0x178)](_0x158ba8){const {jobPhase:_0x4dc9db,result:_0x4f3cb0}=_0x158ba8;return _0x4dc9db===_0x1035ad['PartialResult']&&void 0x0!==_0x4f3cb0;}[_0x52a325(0x52e)](_0x359aa1){const _0x273fe4=_0x52a325,{jobPhase:_0x16e224,result:_0x421f4b}=_0x359aa1;return _0x16e224===_0x1035ad[_0x273fe4(0x4f2)]&&void 0x0!==_0x421f4b;}[_0x52a325(0x2af)](_0x2e5776){const _0x2379f0=_0x52a325,{jobPhase:_0xea0f2f,message:_0x39a98c}=_0x2e5776;return _0xea0f2f===_0x1035ad[_0x2379f0(0x62c)]&&void 0x0!==_0x39a98c&&_0x2379f0(0x347)==typeof _0x39a98c;}}var _0x1114e3,_0x206b99,_0x3259e5,_0x3b71c2,_0x176cec;!function(_0x144895){const _0x42ca3b=_0x52a325;_0x144895[_0x42ca3b(0x190)]=_0x42ca3b(0x93b),_0x144895[_0x42ca3b(0x383)]=_0x42ca3b(0x558);}(_0x1114e3||(_0x1114e3={})),function(_0x2a89d9){const _0x54f700=_0x52a325;_0x2a89d9['Agent']=_0x54f700(0x99b),_0x2a89d9[_0x54f700(0x956)]=_0x54f700(0x54f),_0x2a89d9[_0x54f700(0x13c)]='router',_0x2a89d9['CustomSkill']=_0x54f700(0x655),_0x2a89d9['DataCollection']=_0x54f700(0x869),_0x2a89d9[_0x54f700(0x873)]=_0x54f700(0x686),_0x2a89d9[_0x54f700(0x710)]=_0x54f700(0xa75),_0x2a89d9[_0x54f700(0x9c0)]=_0x54f700(0x7b2),_0x2a89d9['Code']=_0x54f700(0x15b),_0x2a89d9[_0x54f700(0xaa3)]=_0x54f700(0x548),_0x2a89d9['Search']=_0x54f700(0x62e),_0x2a89d9[_0x54f700(0x764)]=_0x54f700(0x797),_0x2a89d9[_0x54f700(0x6fa)]='web-scraper',_0x2a89d9[_0x54f700(0x1ea)]=_0x54f700(0x692),_0x2a89d9[_0x54f700(0x15a)]=_0x54f700(0x6f9),_0x2a89d9[_0x54f700(0x4d3)]=_0x54f700(0x5ef),_0x2a89d9[_0x54f700(0x95f)]=_0x54f700(0x105),_0x2a89d9['SentenceSplitter']=_0x54f700(0x2fd),_0x2a89d9['WordSplitter']='word-splitter',_0x2a89d9[_0x54f700(0x561)]='document-parser',_0x2a89d9[_0x54f700(0x782)]=_0x54f700(0x7c2),_0x2a89d9[_0x54f700(0x821)]='output-audio-stream',_0x2a89d9[_0x54f700(0xea)]=_0x54f700(0x2ab);}(_0x206b99||(_0x206b99={})),function(_0x530ecc){const _0x4a9d01=_0x52a325;_0x530ecc[_0x4a9d01(0x774)]=_0x4a9d01(0x91c),_0x530ecc[_0x4a9d01(0xac0)]='external-storage-upload',_0x530ecc[_0x4a9d01(0x561)]=_0x4a9d01(0x550),_0x530ecc[_0x4a9d01(0x95f)]='chunk-splitter',_0x530ecc[_0x4a9d01(0x704)]=_0x4a9d01(0x87c),_0x530ecc[_0x4a9d01(0x2ac)]=_0x4a9d01(0x2fd),_0x530ecc[_0x4a9d01(0x94b)]='relation-extractor',_0x530ecc[_0x4a9d01(0x3d0)]=_0x4a9d01(0x39c),_0x530ecc[_0x4a9d01(0x987)]=_0x4a9d01(0x8c4),_0x530ecc[_0x4a9d01(0x2aa)]=_0x4a9d01(0x427),_0x530ecc['Agent']=_0x4a9d01(0x99b),_0x530ecc[_0x4a9d01(0x71b)]=_0x4a9d01(0x93b),_0x530ecc[_0x4a9d01(0x7ad)]='key-value-database',_0x530ecc['VectorDatabase']='vector-database',_0x530ecc[_0x4a9d01(0xa7b)]=_0x4a9d01(0x471),_0x530ecc[_0x4a9d01(0x710)]=_0x4a9d01(0xa75),_0x530ecc[_0x4a9d01(0x11c)]=_0x4a9d01(0x462),_0x530ecc[_0x4a9d01(0x102)]=_0x4a9d01(0x417),_0x530ecc[_0x4a9d01(0x5a0)]=_0x4a9d01(0x51b);}(_0x3259e5||(_0x3259e5={})),function(_0x246dd7){const _0x125a02=_0x52a325;_0x246dd7['File']=_0x125a02(0x926),_0x246dd7[_0x125a02(0x5ac)]=_0x125a02(0x4b0),_0x246dd7['Image']=_0x125a02(0x5bd),_0x246dd7[_0x125a02(0x369)]=_0x125a02(0x4c2),_0x246dd7[_0x125a02(0xab6)]=_0x125a02(0x6f2),_0x246dd7['Vector']=_0x125a02(0x523),_0x246dd7[_0x125a02(0x6d5)]=_0x125a02(0x7ee),_0x246dd7['Relation']=_0x125a02(0xa52),_0x246dd7['Search']=_0x125a02(0x62e),_0x246dd7[_0x125a02(0x4c6)]='index',_0x246dd7['Tool']=_0x125a02(0x552),_0x246dd7[_0x125a02(0x11c)]=_0x125a02(0x462),_0x246dd7['Wait']='wait',_0x246dd7[_0x125a02(0x8ca)]=_0x125a02(0x4b9),_0x246dd7[_0x125a02(0xb1)]=_0x125a02(0x398);}(_0x3b71c2||(_0x3b71c2={})),function(_0x59016d){const _0x299f84=_0x52a325;_0x59016d[_0x299f84(0xaf)]='shared',_0x59016d[_0x299f84(0x9fe)]=_0x299f84(0x5aa),_0x59016d[_0x299f84(0x5e4)]=_0x299f84(0x871);}(_0x176cec||(_0x176cec={}));const _0xb6cbfa=[{'type':_0x206b99['Router'],'id':_0x52a325(0x43f),'name':_0x52a325(0xa57),'description':_0x52a325(0x92c),'modelId':'gpt-4.1-nano','instructions':_0x52a325(0x898),'grammar':_0x52a325(0x503),'temperature':0x0,'maxTokens':0x64}],_0x94a300=[{'type':_0x206b99[_0x52a325(0x1f4)],'id':_0x52a325(0x6d0),'name':'Blank\x20Agent','description':'','modelId':_0x52a325(0x887),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x206b99['Agent'],'id':_0x52a325(0x935),'name':'Generic\x20AI\x20Agent','description':_0x52a325(0x20f),'modelId':_0x52a325(0x887),'instructions':_0x52a325(0x930),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x206b99[_0x52a325(0x1f4)],'id':'search-agent','name':'Search\x20Agent','description':_0x52a325(0x50d),'modelId':_0x52a325(0x887),'instructions':_0x52a325(0x622),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x206b99['Agent'],'id':_0x52a325(0x836),'name':_0x52a325(0x8c1),'description':_0x52a325(0x9cc),'modelId':_0x52a325(0x887),'instructions':'Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x206b99[_0x52a325(0x1f4)],'id':_0x52a325(0x3c3),'name':'Learning\x20Agent','description':'Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','modelId':_0x52a325(0x887),'instructions':_0x52a325(0x4e1),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x206b99[_0x52a325(0x1f4)],'id':'query-generator','name':'Query\x20Generator','description':_0x52a325(0x2ae),'modelId':_0x52a325(0x887),'instructions':_0x52a325(0x745),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x206b99[_0x52a325(0x1f4)],'id':_0x52a325(0xf2),'name':'Competitive\x20Analysis\x20Agent','description':_0x52a325(0x100),'modelId':'gpt-4.1-nano','instructions':_0x52a325(0x719),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x206b99['Agent'],'id':_0x52a325(0xabe),'name':_0x52a325(0x44f),'description':_0x52a325(0xa6),'modelId':_0x52a325(0x887),'instructions':_0x52a325(0x9d0),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x206b99[_0x52a325(0x1f4)],'id':_0x52a325(0x8b3),'name':'Summary\x20Generator','description':'Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','modelId':'gpt-4.1-nano','instructions':_0x52a325(0x1a3),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x206b99[_0x52a325(0x1f4)],'id':_0x52a325(0x2b9),'name':_0x52a325(0xa2f),'description':_0x52a325(0x963),'modelId':_0x52a325(0x887),'instructions':_0x52a325(0x812),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x206b99[_0x52a325(0x1f4)],'id':_0x52a325(0x5d3),'name':_0x52a325(0x604),'description':_0x52a325(0x7a4),'modelId':_0x52a325(0x887),'instructions':_0x52a325(0x6ec),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x206b99[_0x52a325(0x1f4)],'id':_0x52a325(0x901),'name':_0x52a325(0x9f3),'description':_0x52a325(0x2ef),'modelId':_0x52a325(0x887),'instructions':_0x52a325(0x384),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x52a325(0x48f),'name':_0x52a325(0x500),'description':'Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','modelId':'gpt-4.1-nano','instructions':_0x52a325(0xac2),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x52a325(0x6b2),'name':_0x52a325(0xb3),'description':_0x52a325(0x318),'modelId':'gpt-4.1-nano','instructions':_0x52a325(0x40d),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x52a325(0x9b5),'name':_0x52a325(0xb0),'description':_0x52a325(0x6b9),'modelId':_0x52a325(0x887),'instructions':'Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x1d8252{static [_0x52a325(0x6b4)];constructor(){}static['getInstance'](){const _0xd92c98=_0x52a325;return _0x1d8252['instance']||(_0x1d8252[_0xd92c98(0x6b4)]=new _0x1d8252()),_0x1d8252[_0xd92c98(0x6b4)];}async['getWorkflow'](_0x52d9da,_0x1cb0e8){const _0x294adf=_0x52a325,_0x42af25=await(0x0,_0x51a03b[_0x294adf(0x3cb)])((0x0,_0x51a03b['doc'])(_0x36dffc[_0x294adf(0x757)](),'/developers/'+_0x52d9da+_0x294adf(0x457)+_0x1cb0e8)),_0x41179a=await this['getAgents'](_0x52d9da),_0x5c5fd1=await this[_0x294adf(0x6ac)](_0x52d9da),_0x45bc19=await this['getDataCollections'](_0x52d9da);if(!_0x42af25[_0x294adf(0x17f)]())throw new _0x162f0d(_0x162f0d['codes']['WorkflowDoesNotExist']);return this[_0x294adf(0x3a7)](_0x42af25,_0x41179a,_0x5c5fd1,_0x45bc19);}async['getDataCollections'](_0x39be15){const _0x499cae=_0x52a325;return(await(0x0,_0x51a03b[_0x499cae(0x290)])((0x0,_0x51a03b[_0x499cae(0x449)])(_0x36dffc[_0x499cae(0x757)](),_0x499cae(0x923)+_0x39be15+_0x499cae(0x1ab))))[_0x499cae(0x8a2)][_0x499cae(0x943)](_0x249c6a=>{const _0x379a3a=_0x499cae,_0x32afb0=_0x249c6a[_0x379a3a(0x6f2)]();return{'type':_0x206b99[_0x379a3a(0x336)],'id':_0x249c6a['id'],'name':_0x32afb0[_0x379a3a(0x7fe)],'description':_0x32afb0[_0x379a3a(0xa2c)],'storageType':_0x32afb0[_0x379a3a(0x99a)]??_0x5bfdb7[_0x379a3a(0x958)][_0x379a3a(0x98e)],'hosting':_0x32afb0[_0x379a3a(0x6db)]??_0x176cec[_0x379a3a(0x5e4)],'modelId':_0x32afb0[_0x379a3a(0x862)]??_0x379a3a(0x4e0),'ingestBlocks':_0x32afb0[_0x379a3a(0x715)],'retrieveBlocks':_0x32afb0[_0x379a3a(0x1a0)]};});}async['getDataCollection'](_0x39dd8c,_0x296742){const _0x36ed7b=_0x52a325,_0x4cdf78=await(0x0,_0x51a03b['getDoc'])((0x0,_0x51a03b[_0x36ed7b(0x5a5)])(_0x36dffc[_0x36ed7b(0x757)](),'/developers/'+_0x39dd8c+'/resources/generative-ai-collection/items/'+_0x296742)),_0x493845=await this[_0x36ed7b(0x81b)](_0x39dd8c),_0x266c87=_0x4cdf78[_0x36ed7b(0x6f2)]();if(!_0x266c87)throw new _0x162f0d(_0x162f0d[_0x36ed7b(0x2a6)][_0x36ed7b(0x5ad)]);return{'type':_0x206b99[_0x36ed7b(0x336)],'id':_0x296742,'uid':_0x296742,'name':_0x266c87[_0x36ed7b(0x7fe)],'description':_0x266c87[_0x36ed7b(0xa2c)],'storageType':_0x266c87[_0x36ed7b(0x99a)]??_0x5bfdb7[_0x36ed7b(0x958)][_0x36ed7b(0x98e)],'hosting':_0x266c87[_0x36ed7b(0x6db)]??_0x176cec['Dedicated'],'modelId':_0x266c87[_0x36ed7b(0x862)]??_0x36ed7b(0x4e0),'ingestBlocks':this[_0x36ed7b(0x24f)](_0x266c87['ingestBlocks'],_0x493845),'retrieveBlocks':this[_0x36ed7b(0x24f)](_0x266c87[_0x36ed7b(0x1a0)],_0x493845),'links':[]};}[_0x52a325(0x3a7)](_0x2406fe,_0x5997b9,_0x27847d,_0x277076){const _0x254b0f=_0x52a325,_0x8e9feb=_0x2406fe['data']();if(!_0x8e9feb)throw new _0x162f0d(_0x162f0d[_0x254b0f(0x2a6)][_0x254b0f(0x765)]);const _0x1d6867=this['parseWorkflowBlocks'](_0x8e9feb[_0x254b0f(0x15c)],_0x5997b9,_0x27847d,_0x277076);return{'id':_0x2406fe['id'],'name':_0x8e9feb[_0x254b0f(0x7fe)],'description':_0x8e9feb[_0x254b0f(0xa2c)],'blocks':_0x1d6867,'dataBucketIds':this['getWorkflowObjectStorageBuckets'](_0x1d6867),'externalStorageConnectionIds':this[_0x254b0f(0xaa5)](_0x1d6867),'initialPrompt':_0x8e9feb[_0x254b0f(0xa2)]};}['getWorkflowObjectStorageBuckets'](_0x5c9531){const _0x50d23d=_0x52a325,_0x10fbd5=new Set();for(const _0x15cb77 of _0x5c9531)switch(_0x15cb77[_0x50d23d(0x983)]){case _0x206b99[_0x50d23d(0x873)]:case _0x206b99[_0x50d23d(0x336)]:for(const _0x75861d of[..._0x15cb77['ingestBlocks'],..._0x15cb77[_0x50d23d(0x1a0)]])_0x75861d[_0x50d23d(0x983)]===_0x3259e5[_0x50d23d(0x774)]&&_0x10fbd5[_0x50d23d(0xa24)](_0x75861d['id']);}return Array[_0x50d23d(0xa3e)](_0x10fbd5);}[_0x52a325(0xaa5)](_0x335a63){const _0x8cb901=_0x52a325,_0x386725=new Set();for(const _0x5d46b4 of _0x335a63)switch(_0x5d46b4[_0x8cb901(0x983)]){case _0x206b99[_0x8cb901(0x873)]:case _0x206b99[_0x8cb901(0x336)]:for(const _0x5cd3d9 of[..._0x5d46b4[_0x8cb901(0x715)],..._0x5d46b4['retrieveBlocks']])_0x5cd3d9[_0x8cb901(0x983)]===_0x3259e5[_0x8cb901(0xac0)]&&_0x386725['add'](_0x5cd3d9['id']);}return Array[_0x8cb901(0xa3e)](_0x386725);}['parseWorkflowBlocks'](_0x2f78c0,_0x26e779,_0x474fbf,_0x479f59){const _0x46db3e=_0x52a325;return _0x2f78c0[_0x46db3e(0x943)](_0x3b0b26=>{const _0x171259=_0x46db3e;switch(_0x3b0b26[_0x171259(0x983)]){case _0x206b99[_0x171259(0x1f4)]:case _0x206b99[_0x171259(0x956)]:case _0x206b99[_0x171259(0x13c)]:const _0x551fa7=_0x26e779[_0x171259(0x7cc)](_0x24c3f9=>_0x24c3f9['id']===_0x3b0b26['id']);if(!_0x551fa7)throw new _0x162f0d(_0x162f0d[_0x171259(0x2a6)][_0x171259(0x8d5)],{'block':_0x3b0b26});return{'type':_0x206b99['Agent'],'id':_0x551fa7['id'],'uid':_0x3b0b26[_0x171259(0x560)],'name':_0x551fa7['name'],'description':_0x551fa7[_0x171259(0xa2c)],'instructions':(_0x551fa7['instructions']+'\x0a\x0a'+(_0x3b0b26[_0x171259(0x99b)]?.['additionnalInstructions']??''))[_0x171259(0x960)](),'contextOutputVariable':_0x3b0b26[_0x171259(0x99b)]?.[_0x171259(0x340)],'contextInputVariable':_0x3b0b26[_0x171259(0x99b)]?.[_0x171259(0x3e4)],'reasoning':_0x3b0b26[_0x171259(0x99b)]?.[_0x171259(0x374)]??!0x1,'grammar':_0x3b0b26[_0x171259(0x99b)]?.['grammar']??'default','temperature':_0x3b0b26[_0x171259(0x99b)]?.['temperature']??0.5,'maxTokens':_0x3b0b26[_0x171259(0x99b)]?.[_0x171259(0x9d5)]??0x1f4,'modelId':_0x3b0b26[_0x171259(0x99b)]?.[_0x171259(0x862)]??'gpt-4o-mini','links':_0x3b0b26[_0x171259(0x670)]};case _0x206b99[_0x171259(0x873)]:case _0x206b99['DataCollection']:const _0x5bb485=_0x479f59['find'](_0x429093=>_0x429093['id']===_0x3b0b26['id']);if(!_0x5bb485)throw new _0x162f0d(_0x162f0d[_0x171259(0x2a6)][_0x171259(0x8d5)],{'block':_0x3b0b26});return{'type':_0x3b0b26[_0x171259(0x983)],'id':_0x5bb485['id'],'uid':_0x3b0b26['uid'],'name':_0x5bb485[_0x171259(0x7fe)],'description':_0x5bb485[_0x171259(0xa2c)],'ingestBlocks':this[_0x171259(0x24f)](_0x5bb485[_0x171259(0x715)],_0x26e779),'retrieveBlocks':this['parseDataCollectionBlocks'](_0x5bb485['retrieveBlocks'],_0x26e779),'links':_0x3b0b26['links']};case _0x206b99[_0x171259(0x87e)]:return{'type':_0x3b0b26[_0x171259(0x983)],'id':_0x3b0b26['id'],'uid':_0x3b0b26[_0x171259(0x560)],'name':_0x3b0b26['tool'][_0x171259(0x7fe)],'description':_0x3b0b26[_0x171259(0x552)]['description'],'parameters':_0x3b0b26['tool'][_0x171259(0xaba)],'endpointUrl':_0x3b0b26[_0x171259(0x552)][_0x171259(0x658)],'endpointMethod':_0x3b0b26[_0x171259(0x552)][_0x171259(0x16f)],'headers':_0x3b0b26[_0x171259(0x552)][_0x171259(0x826)],'queryParameters':_0x3b0b26[_0x171259(0x552)][_0x171259(0xab3)],'bodyParameters':_0x3b0b26[_0x171259(0x552)][_0x171259(0x541)],'contextOutputVariable':_0x3b0b26[_0x171259(0x552)][_0x171259(0x340)],'links':_0x3b0b26[_0x171259(0x670)]};case _0x206b99['FormSkill']:return{'type':_0x3b0b26[_0x171259(0x983)],'id':_0x3b0b26['id'],'uid':_0x3b0b26[_0x171259(0x560)],'name':_0x3b0b26[_0x171259(0x552)]['name'],'description':_0x3b0b26[_0x171259(0x552)][_0x171259(0xa2c)],'questions':_0x3b0b26[_0x171259(0x552)]['questions'][_0x171259(0x943)](_0x4b5ba4=>({'id':_0x4b5ba4['id'],'question':_0x4b5ba4['name'],'validation':_0x4b5ba4[_0x171259(0x320)],'required':_0x171259(0xa9)===_0x4b5ba4['required'],'format':_0x4b5ba4['format']})),'contextOutputVariable':_0x3b0b26[_0x171259(0x552)][_0x171259(0x340)],'links':_0x3b0b26['links']};case _0x206b99[_0x171259(0x764)]:return{'type':_0x3b0b26[_0x171259(0x983)],'id':_0x3b0b26['id'],'uid':_0x3b0b26[_0x171259(0x560)],'modelId':_0x3b0b26[_0x171259(0x552)][_0x171259(0x862)]??'sonar','links':_0x3b0b26[_0x171259(0x670)]};case _0x206b99[_0x171259(0xea)]:const _0x166977=_0x474fbf[_0x171259(0x7cc)](_0xcb0c10=>_0xcb0c10['id']===_0x3b0b26['id']);if(!_0x166977)throw new _0x162f0d(_0x162f0d['codes'][_0x171259(0x8d5)],{'block':_0x3b0b26});return{'type':_0x3b0b26[_0x171259(0x983)],'id':_0x3b0b26['id'],'uid':_0x3b0b26[_0x171259(0x560)],'name':_0x166977['name'],'description':_0x166977[_0x171259(0xa2c)],'workflowId':_0x166977['id'],'async':_0x3b0b26[_0x171259(0x552)][_0x171259(0xa29)],'contextOutputVariable':_0x3b0b26[_0x171259(0x552)][_0x171259(0x340)],'contextInputVariable':_0x3b0b26['tool'][_0x171259(0x3e4)],'links':_0x3b0b26[_0x171259(0x670)]};case _0x206b99[_0x171259(0x710)]:case _0x206b99['InputAudioStream']:case _0x206b99['Answer']:case _0x206b99[_0x171259(0x821)]:case _0x206b99[_0x171259(0x308)]:case _0x206b99[_0x171259(0x947)]:case _0x206b99['WebScraper']:case _0x206b99[_0x171259(0x1ea)]:case _0x206b99[_0x171259(0x15a)]:case _0x206b99['WriteFile']:case _0x206b99[_0x171259(0x2ac)]:case _0x206b99[_0x171259(0x561)]:return{'type':_0x3b0b26[_0x171259(0x983)],'id':_0x3b0b26['id'],'uid':_0x3b0b26['uid'],'links':_0x3b0b26['links']};case _0x206b99['ChunkSplitter']:case _0x206b99['WordSplitter']:return{'type':_0x3b0b26[_0x171259(0x983)],'id':_0x3b0b26['id'],'uid':_0x3b0b26[_0x171259(0x560)],'links':_0x3b0b26[_0x171259(0x670)],'attributes':_0x3b0b26[_0x171259(0x297)]};default:throw new _0x162f0d(_0x162f0d['codes']['WorkflowInvalidBlockType'],{'block':_0x3b0b26});}});}['parseDataCollectionBlocks'](_0x40a3ca,_0x3bef37){return _0x40a3ca?_0x40a3ca['map'](_0xe5022=>{const _0x247fbf=a0_0x15bf;switch(_0xe5022['type']){case _0x3259e5['Agent']:const _0x2e1e46=_0x3bef37[_0x247fbf(0x7cc)](_0xe63529=>_0xe63529['id']===_0xe5022['id']);if(!_0x2e1e46)throw new _0x162f0d(_0x162f0d['codes']['WorkflowInvalidBlockType'],{'block':_0xe5022});return{'type':_0xe5022[_0x247fbf(0x983)],'id':_0xe5022['id'],'uid':_0xe5022[_0x247fbf(0x560)],'description':_0x2e1e46[_0x247fbf(0xa2c)],'instructions':(_0x2e1e46[_0x247fbf(0x6f4)]+'\x0a\x0a'+(_0xe5022['agent']?.['additionnalInstructions']??''))[_0x247fbf(0x960)](),'contextOutputVariable':_0xe5022[_0x247fbf(0x99b)]?.[_0x247fbf(0x340)],'contextInputVariable':_0xe5022[_0x247fbf(0x99b)]?.['contextInputVariable'],'reasoning':_0xe5022[_0x247fbf(0x99b)]?.['reasoning']??!0x1,'grammar':_0xe5022[_0x247fbf(0x99b)]?.[_0x247fbf(0x56b)]??'default','temperature':_0xe5022[_0x247fbf(0x99b)]?.['temperature']??0.5,'maxTokens':_0xe5022['agent']?.[_0x247fbf(0x9d5)]??0x1f4,'modelId':_0xe5022[_0x247fbf(0x99b)]?.[_0x247fbf(0x862)]??_0x247fbf(0x3d4),'links':_0xe5022['links']};case _0x3259e5[_0x247fbf(0xa7b)]:case _0x3259e5[_0x247fbf(0x7c5)]:case _0x3259e5[_0x247fbf(0x704)]:case _0x3259e5[_0x247fbf(0x95f)]:case _0x3259e5[_0x247fbf(0x3d0)]:case _0x3259e5[_0x247fbf(0x987)]:return{'type':_0xe5022[_0x247fbf(0x983)],'id':_0xe5022['id'],'uid':_0xe5022[_0x247fbf(0x560)],'links':_0xe5022[_0x247fbf(0x670)],'attributes':_0xe5022[_0x247fbf(0x297)]};case _0x3259e5[_0x247fbf(0x2aa)]:case _0x3259e5[_0x247fbf(0x71b)]:case _0x3259e5[_0x247fbf(0x7ad)]:case _0x3259e5['RelationExtractor']:case _0x3259e5[_0x247fbf(0x561)]:case _0x3259e5[_0x247fbf(0x2ac)]:case _0x3259e5['ObjectStorageUpload']:case _0x3259e5[_0x247fbf(0xac0)]:case _0x3259e5['Context']:case _0x3259e5[_0x247fbf(0x710)]:case _0x3259e5[_0x247fbf(0x102)]:case _0x3259e5['Embed']:return{'type':_0xe5022[_0x247fbf(0x983)],'id':_0xe5022['id'],'uid':_0xe5022[_0x247fbf(0x560)],'links':_0xe5022[_0x247fbf(0x670)]};default:throw new _0x162f0d(_0x162f0d[_0x247fbf(0x2a6)][_0x247fbf(0x8d5)],{'block':_0xe5022});}}):[];}async[_0x52a325(0x81b)](_0x3186bf){const _0x21a033=_0x52a325,_0x5e5284=(await(0x0,_0x51a03b['getDocs'])((0x0,_0x51a03b[_0x21a033(0x449)])(_0x36dffc[_0x21a033(0x757)](),'/developers/'+_0x3186bf+_0x21a033(0x5ea))))[_0x21a033(0x8a2)][_0x21a033(0x943)](_0x63e0e=>{const _0x35dc51=_0x21a033,_0x4863f9=_0x63e0e['data']();return{'type':_0x206b99['Agent'],'id':_0x63e0e['id'],'name':_0x4863f9[_0x35dc51(0x7fe)],'description':_0x4863f9[_0x35dc51(0xa2c)],'instructions':_0x4863f9[_0x35dc51(0x6f4)]};});return _0x5e5284[_0x21a033(0x66e)](..._0xb6cbfa),_0x5e5284['push'](..._0x94a300),_0x5e5284;}async[_0x52a325(0x6ac)](_0x10427f){const _0x31c1cb=_0x52a325;return(await(0x0,_0x51a03b[_0x31c1cb(0x290)])((0x0,_0x51a03b[_0x31c1cb(0x449)])(_0x36dffc[_0x31c1cb(0x757)](),_0x31c1cb(0x923)+_0x10427f+_0x31c1cb(0x4ac))))[_0x31c1cb(0x8a2)]['map'](_0x35717d=>{const _0x1546c4=_0x31c1cb,_0x1952c5=_0x35717d[_0x1546c4(0x6f2)]();return{'id':_0x35717d['id'],'name':_0x1952c5[_0x1546c4(0x7fe)],'description':_0x1952c5[_0x1546c4(0xa2c)]};});}}const _0x284f10=_0x1d8252[_0x52a325(0x6be)]();class _0x1f0895 extends _0xd2089e{[_0x52a325(0x8df)];[_0x52a325(0x793)];[_0x52a325(0x521)]=0x0;['tokens']=0x0;[_0x52a325(0xc1)];constructor(_0x5d8cd0,_0x1e71ea,_0x1ea1ab,_0x1275f6){const _0x21811b=_0x52a325;super(_0x5d8cd0,_0x1e71ea,_0x1275f6),this[_0x21811b(0x8df)]=_0x5d8cd0,this[_0x21811b(0x793)]=_0x1ea1ab,this[_0x21811b(0x34a)]();}['destroy'](){const _0x4a1bd5=_0x52a325;this['debounceStats']&&(clearTimeout(this[_0x4a1bd5(0xc1)]),delete this['debounceStats']),super['destroy']();}[_0x52a325(0x4da)](){const _0x524f6c=_0x52a325;this['prompts']=0x0,this['tokens']=0x0,this['sendStats'](),super[_0x524f6c(0x4da)]();}['createAIJob'](_0x438aa8){const _0x12c921=_0x52a325,_0x4f2924=_0x12c921(0x7d6)+(0x0,_0x529b6e['v4'])();let _0xa4fd2e=!0x1;const _0x19c863=()=>{const _0x51553b=_0x12c921;if(_0xa4fd2e)throw new _0x162f0d(_0x162f0d[_0x51553b(0x2a6)][_0x51553b(0x3a1)]);_0xa4fd2e=!0x0;};switch(_0x438aa8[_0x12c921(0x983)]){case'collection-create':case _0x12c921(0x343):case _0x12c921(0x843):case'file-delete':case _0x12c921(0x783):case'file-ingest':case'file-ingest':case _0x12c921(0x8b8):case _0x12c921(0x68b):case'realtime-session-create':case _0x12c921(0x8ff):case _0x12c921(0x51b):return{'id':_0x4f2924,..._0x438aa8,'run':()=>(_0x19c863(),this['internalJob'](_0x4f2924,_0x438aa8))};case _0x12c921(0x685):case _0x12c921(0xa75):const _0x31e48b=()=>(_0x19c863(),this[_0x12c921(0x5cc)](_0x4f2924,_0x438aa8)),_0x566c82=()=>(_0x19c863(),this['stream'](_0x4f2924,_0x438aa8));return{'id':_0x4f2924,'options':{'threadId':_0x12c921(0x80e)+(0x0,_0x529b6e['v4'])()},..._0x438aa8,'run':_0x31e48b,'stream':_0x566c82};default:throw new Error(_0x12c921(0x48b));}}async[_0x52a325(0x3bd)](_0x517b6d,_0x1d6031){const _0x203ef2=_0x52a325;if(_0x203ef2(0x685)===_0x1d6031[_0x203ef2(0x983)]||'prompt'===_0x1d6031[_0x203ef2(0x983)])throw new _0x1d1fb5(_0x433410[_0x203ef2(0x361)],_0x203ef2(0x48b));const _0x20cdca={'threadId':_0x203ef2(0x80e)+(0x0,_0x529b6e['v4'])(),..._0x1d6031},_0x4da42f=await this[_0x203ef2(0x45e)](_0x517b6d,_0x5bfdb7['JobType']['Job'],_0x20cdca);return new Promise((_0x38c1e6,_0x1d975a)=>{const _0x2c1ebe=_0x203ef2;let _0x52b785;const _0x27f54e=_0x4da42f[_0x2c1ebe(0xaa1)]({'next':_0x5b2cb4=>{const _0x3b200f=_0x2c1ebe;switch(_0x5b2cb4['status']){case _0x5bfdb7[_0x3b200f(0x12f)][_0x3b200f(0xa59)]:clearTimeout(_0x52b785),_0x38c1e6(_0x5b2cb4[_0x3b200f(0x28d)]),_0x27f54e[_0x3b200f(0xa50)]();break;case _0x5bfdb7['JobStatus'][_0x3b200f(0x62c)]:clearTimeout(_0x52b785),_0x1d975a(new _0x162f0d(_0x162f0d['codes'][_0x3b200f(0xd9)],{'updatedJob':_0x5b2cb4})),_0x27f54e['unsubscribe']();}},'error':_0x1928fb=>{const _0x573766=_0x2c1ebe;clearTimeout(_0x52b785),_0x1d975a(new _0x162f0d(_0x162f0d[_0x573766(0x2a6)][_0x573766(0xd9)],{'err':_0x1928fb})),_0x27f54e[_0x573766(0xa50)]();}});_0x52b785=setTimeout(()=>{const _0x11bc24=_0x2c1ebe;_0x1d975a(new _0x162f0d(_0x162f0d[_0x11bc24(0x2a6)]['GenerativeAIContextJobTimeout'])),_0x27f54e[_0x11bc24(0xa50)]();},_0x16e5bc);});}async['run'](_0x304da8,_0x10449e){const _0x1e82ed=_0x52a325,_0x5e2897=await this[_0x1e82ed(0x45e)](_0x304da8,_0x5bfdb7[_0x1e82ed(0x36f)][_0x1e82ed(0x2df)],_0x10449e);return new Promise((_0xeca93c,_0x14efb2)=>{const _0x4695aa=_0x1e82ed;let _0x230265;const _0x295773=_0x5e2897[_0x4695aa(0xaa1)]({'next':_0x521df5=>{const _0x251bfa=_0x4695aa;switch(_0x521df5[_0x251bfa(0x245)]){case _0x5bfdb7['JobStatus'][_0x251bfa(0xa59)]:if(_0x251bfa(0xa75)!==_0x521df5[_0x251bfa(0x28d)]['type'])return;const _0xb346a6=_0x521df5[_0x251bfa(0x28d)][_0x251bfa(0x1ad)]??0x0;this[_0x251bfa(0x59d)](_0x10449e[_0x251bfa(0xa75)],_0xb346a6),clearTimeout(_0x230265),_0xeca93c(_0x521df5[_0x251bfa(0x28d)]),_0x295773[_0x251bfa(0xa50)](),this['prompts']+=0x1,this[_0x251bfa(0x311)]+=_0xb346a6,this[_0x251bfa(0x34a)]();break;case _0x5bfdb7[_0x251bfa(0x12f)]['Failed']:clearTimeout(_0x230265),_0x14efb2(new _0x162f0d(_0x162f0d['codes'][_0x251bfa(0xd9)],{'updatedJob':_0x521df5})),_0x295773['unsubscribe'](),this['sendStats']();}},'error':_0x2ed502=>{const _0x4ab1a8=_0x4695aa;clearTimeout(_0x230265),_0x14efb2(new _0x162f0d(_0x162f0d[_0x4ab1a8(0x2a6)][_0x4ab1a8(0xd9)],{'err':_0x2ed502})),_0x295773[_0x4ab1a8(0xa50)]();}});_0x230265=setTimeout(()=>{const _0x581631=_0x4695aa;_0x14efb2(new _0x162f0d(_0x162f0d[_0x581631(0x2a6)][_0x581631(0xa84)])),_0x295773['unsubscribe']();},_0x16e5bc);});}async*[_0x52a325(0x3a3)](_0xf74e7b,_0x1b6094){const _0x24ee65=_0x52a325,_0x35b385=await this[_0x24ee65(0x45e)](_0xf74e7b,_0x5bfdb7[_0x24ee65(0x36f)][_0x24ee65(0x554)],_0x1b6094);let _0x2c73e4,_0x4ee725,_0x4f186a=!0x1,_0x1000a5=0x0;const _0x4ea7ce=[],_0x245a75=new Map();let _0x477140=null;const _0x4b1751=()=>{_0x477140&&(_0x477140(),_0x477140=null);},_0x5c9654=_0x403464=>{const _0x53b733=_0x24ee65;_0x4f186a=!0x0,_0x4b1751(),_0x439716[_0x53b733(0xa50)](),_0x4ee725=_0x403464;},_0x439716=_0x35b385[_0x24ee65(0xaa1)]({'next':async _0x392637=>{const _0xf16191=_0x24ee65;switch(_0x392637[_0xf16191(0x245)]){case _0x5bfdb7[_0xf16191(0x12f)][_0xf16191(0x4c0)]:if(_0xf16191(0xa75)!==_0x392637[_0xf16191(0x28d)]['type'])return;if(void 0x0!==_0x392637[_0xf16191(0x28d)][_0xf16191(0xa3d)]){if(void 0x0===_0x392637[_0xf16191(0x28d)][_0xf16191(0x97c)])return void _0x5c9654(_0x162f0d[_0xf16191(0x2a6)][_0xf16191(0x5cf)]);_0x1000a5===_0x392637[_0xf16191(0x28d)][_0xf16191(0x97c)]?(_0x4ea7ce['push'](_0x392637[_0xf16191(0x28d)]),_0x1000a5++,((()=>{const _0x142fca=_0xf16191;for(;_0x245a75[_0x142fca(0xed)](_0x1000a5);)_0x4ea7ce[_0x142fca(0x66e)](_0x245a75[_0x142fca(0x627)](_0x4ea7ce[_0x142fca(0x761)])),_0x245a75[_0x142fca(0x4f4)](_0x4ea7ce[_0x142fca(0x761)]),_0x1000a5++;})()),_0x4b1751(),_0x1a94bb()):_0x245a75[_0xf16191(0x23c)](_0x392637[_0xf16191(0x28d)][_0xf16191(0x97c)],_0x392637[_0xf16191(0x28d)]);}break;case _0x5bfdb7[_0xf16191(0x12f)]['Completed']:if(_0xf16191(0xa75)!==_0x392637[_0xf16191(0x28d)][_0xf16191(0x983)])return;for(;_0x1000a5!==_0x392637[_0xf16191(0x28d)][_0xf16191(0x97c)];)await _0x4e41bf['wait'](0x3e8);const _0x4d0bcd=_0x392637[_0xf16191(0x28d)][_0xf16191(0x1ad)]??0x0;this[_0xf16191(0x59d)](_0x1b6094['prompt'],_0x4d0bcd),clearTimeout(_0x2c73e4),_0x5c9654(),this[_0xf16191(0x521)]+=0x1,this['tokens']+=_0x4d0bcd,this[_0xf16191(0x34a)]();break;case _0x5bfdb7[_0xf16191(0x12f)][_0xf16191(0x62c)]:clearTimeout(_0x2c73e4),_0x5c9654(_0x162f0d['codes'][_0xf16191(0xd9)]),this['sendStats']();}},'error':_0x96593=>{const _0x1e3e60=_0x24ee65;clearTimeout(_0x2c73e4),_0x5c9654(_0x162f0d[_0x1e3e60(0x2a6)][_0x1e3e60(0xd9)]);}}),_0x5c97d7=()=>{const _0x91375=_0x24ee65;_0x5c9654(_0x162f0d[_0x91375(0x2a6)][_0x91375(0xa84)]);},_0x1a94bb=()=>{clearTimeout(_0x2c73e4),_0x2c73e4=setTimeout(_0x5c97d7,_0x16e5bc);};for(_0x2c73e4=setTimeout(_0x5c97d7,_0x16e5bc);!_0x4f186a||_0x4ea7ce[_0x24ee65(0x761)]>0x0;)_0x4ea7ce['length']>0x0?yield _0x4ea7ce['shift']():await new Promise(_0x7d6bf4=>_0x477140=_0x7d6bf4);if(_0x4ee725)throw _0x2d5d47[_0x24ee65(0x2a8)](_0x24ee65(0x59c),{'nodeId':this['localNode'][_0x24ee65(0x8ef)](),'nodeType':this['localNode']['type']}),new _0x162f0d(_0x4ee725);}async[_0x52a325(0x158)](){const _0x298f53=_0x52a325;return(await _0x284f10[_0x298f53(0xfd)](this['vendorId'],this['label']))['dataBucketIds'];}[_0x52a325(0x59d)](_0x55fd04,_0x47aa7d){const _0x132bba=_0x52a325,_0x354b4b=this['label'],_0x2be3a1=this[_0x132bba(0x9a9)]();_0x2d5d47[_0x132bba(0x59d)](_0x380533['GenerativeAIContext'],{'topic':_0x354b4b,'prompt':_0x55fd04,'type':_0x132bba(0xa75),'nodeId':_0x2be3a1,'tokenCount':_0x47aa7d});}async[_0x52a325(0x45e)](_0x22ddde,_0x3d98f8,_0x5a284f,_0x3ea60d={}){const _0x19b973=_0x52a325;let _0x530f6a;switch(_0x5a284f[_0x19b973(0x983)]){case _0x19b973(0x974):case _0x19b973(0x343):case _0x19b973(0x843):case _0x19b973(0x51b):case _0x19b973(0x72a):case _0x19b973(0x783):case _0x19b973(0x49f):case _0x19b973(0x8b8):case _0x19b973(0x685):case _0x19b973(0xa75):case _0x19b973(0x68b):case'realtime-session-create':case _0x19b973(0x8ff):_0x530f6a={'id':_0x22ddde,'jobType':_0x3d98f8,'parameters':{..._0x3ea60d,..._0x5a284f},'status':_0x5bfdb7[_0x19b973(0x12f)][_0x19b973(0x2fa)]};break;default:throw new Error(_0x19b973(0x48b));}return await this[_0x19b973(0x733)](_0x530f6a);}[_0x52a325(0x34a)](){const _0xf62bdd=_0x52a325;this[_0xf62bdd(0xc1)]&&clearTimeout(this[_0xf62bdd(0xc1)]),this[_0xf62bdd(0xc1)]=setTimeout(async()=>{const _0x2d1afe=_0xf62bdd;delete this[_0x2d1afe(0xc1)],this[_0x2d1afe(0xbb)][_0x2d1afe(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf['Content'],'content':{'type':_0x539ab3['GenerativeAIContextStats'],'label':this[_0x2d1afe(0x7cd)],'stats':{'timestamp':Date[_0x2d1afe(0x88b)](),'storage':0x0,'messagesSent':this[_0x2d1afe(0x7d1)],'messagesReceived':this[_0x2d1afe(0x596)],'bytesSent':this[_0x2d1afe(0x96b)],'bytesReceived':this[_0x2d1afe(0x434)],'writes':0x0,'reads':0x0,'prompts':this[_0x2d1afe(0x521)],'tokens':this['tokens']}}});},_0x37693a);}}var _0x3eed56,_0xae9714,_0x26f179,_0x1c79aa,_0x4f21a3,_0x4d1f1b,_0x5b8d06,_0x381d77,_0x181dbe,_0x3ababa,_0x5ece34;!function(_0x15a897){const _0x229dd0=_0x52a325;_0x15a897[_0x229dd0(0x852)]='AITrace',_0x15a897[_0x229dd0(0x555)]=_0x229dd0(0x555),_0x15a897[_0x229dd0(0x2d4)]='RetrieveTrace',_0x15a897[_0x229dd0(0x747)]='WorkflowTrace';}(_0x3eed56||(_0x3eed56={})),function(_0x47fe9e){const _0x37f766=_0x52a325;_0x47fe9e[_0x37f766(0x1be)]=_0x37f766(0x1be),_0x47fe9e[_0x37f766(0x89f)]=_0x37f766(0x89f),_0x47fe9e[_0x37f766(0x404)]='VectorSearch',_0x47fe9e[_0x37f766(0x3d0)]=_0x37f766(0x3d0),_0x47fe9e['GraphSearch']=_0x37f766(0x31f),_0x47fe9e['Reranker']='Reranker';}(_0xae9714||(_0xae9714={})),function(_0x462f66){const _0x34e776=_0x52a325;_0x462f66[_0x462f66[_0x34e776(0x269)]=0x0]=_0x34e776(0x269),_0x462f66[_0x462f66[_0x34e776(0x7cb)]=0x5]=_0x34e776(0x7cb),_0x462f66[_0x462f66[_0x34e776(0x7c4)]=0xa]=_0x34e776(0x7c4),_0x462f66[_0x462f66[_0x34e776(0x4b1)]=0xf]=_0x34e776(0x4b1);}(_0x26f179||(_0x26f179={})),function(_0x1e8681){const _0x105e84=_0x52a325;_0x1e8681['Retrieve']=_0x105e84(0x47a),_0x1e8681[_0x105e84(0xa35)]=_0x105e84(0xa35),_0x1e8681[_0x105e84(0x873)]=_0x105e84(0x873),_0x1e8681[_0x105e84(0x140)]='Skill',_0x1e8681[_0x105e84(0x88d)]='Workflow',_0x1e8681[_0x105e84(0x2df)]='Job',_0x1e8681[_0x105e84(0x307)]=_0x105e84(0x307),_0x1e8681['Rating']=_0x105e84(0x60d);}(_0x1c79aa||(_0x1c79aa={})),function(_0x19b825){const _0x5ed8aa=_0x52a325;_0x19b825[_0x5ed8aa(0x1ef)]=_0x5ed8aa(0x1ef),_0x19b825[_0x5ed8aa(0xa59)]=_0x5ed8aa(0xa59);}(_0x4f21a3||(_0x4f21a3={})),function(_0x595c9a){const _0x128f39=_0x52a325;_0x595c9a['InitialPrompt']=_0x128f39(0x934),_0x595c9a[_0x128f39(0x8ce)]=_0x128f39(0x8ce),_0x595c9a[_0x128f39(0x336)]=_0x128f39(0x336),_0x595c9a[_0x128f39(0x690)]=_0x128f39(0x690);}(_0x4d1f1b||(_0x4d1f1b={})),function(_0x2e8c79){const _0x4055a0=_0x52a325;_0x2e8c79[_0x4055a0(0x95f)]=_0x4055a0(0x95f),_0x2e8c79[_0x4055a0(0x561)]=_0x4055a0(0x561),_0x2e8c79[_0x4055a0(0x3d0)]=_0x4055a0(0x3d0),_0x2e8c79['GraphDatabase']='GraphDatabase',_0x2e8c79[_0x4055a0(0x1f4)]=_0x4055a0(0x1f4),_0x2e8c79['ModelText']=_0x4055a0(0x1be),_0x2e8c79[_0x4055a0(0x89f)]=_0x4055a0(0x89f),_0x2e8c79[_0x4055a0(0x94b)]='RelationExtractor',_0x2e8c79[_0x4055a0(0x2ac)]='SentenceSplitter',_0x2e8c79[_0x4055a0(0x7c5)]=_0x4055a0(0x7c5),_0x2e8c79['WordSplitter']='WordSplitter';}(_0x5b8d06||(_0x5b8d06={})),function(_0x273b1e){const _0x3e5474=_0x52a325;_0x273b1e['GetContextQuery']='GetContextQuery',_0x273b1e[_0x3e5474(0x74a)]=_0x3e5474(0x74a);}(_0x381d77||(_0x381d77={})),function(_0x3c2fcb){const _0x551f4a=_0x52a325;_0x3c2fcb[_0x551f4a(0x928)]=_0x551f4a(0x928),_0x3c2fcb['FetchUrl']=_0x551f4a(0x76b),_0x3c2fcb[_0x551f4a(0x1c7)]=_0x551f4a(0x1c7),_0x3c2fcb['SearchPerplexity']=_0x551f4a(0x8d6),_0x3c2fcb['ExecuteAgent']=_0x551f4a(0x496),_0x3c2fcb[_0x551f4a(0x29f)]=_0x551f4a(0x29f),_0x3c2fcb[_0x551f4a(0x15a)]=_0x551f4a(0x15a),_0x3c2fcb[_0x551f4a(0x4d3)]=_0x551f4a(0x4d3),_0x3c2fcb['ExecuteWorkflow']=_0x551f4a(0x6e1),_0x3c2fcb[_0x551f4a(0x1bb)]=_0x551f4a(0x1bb),_0x3c2fcb[_0x551f4a(0x71f)]=_0x551f4a(0x71f),_0x3c2fcb['FormSubmitForm']='FormSubmitForm';}(_0x181dbe||(_0x181dbe={})),function(_0x1080ab){const _0x264b2a=_0x52a325;_0x1080ab['LoadKnowledgeFunction']='LoadKnowledgeFunction',_0x1080ab[_0x264b2a(0x52f)]='LoadSkillFunction';}(_0x3ababa||(_0x3ababa={})),function(_0x4ad693){const _0x2aaa42=_0x52a325;_0x4ad693[_0x2aaa42(0x53b)]=_0x2aaa42(0x53b);}(_0x5ece34||(_0x5ece34={}));class _0x2c6625{static [_0x52a325(0x6b4)]=new _0x2c6625();[_0x52a325(0x44d)]=[];['isRunning']=!0x1;constructor(){}static[_0x52a325(0x6be)](){return _0x2c6625['instance'];}get[_0x52a325(0x761)](){return this['jobQueue']['length'];}[_0x52a325(0x9ed)](){const _0x43c27c=_0x52a325;return!this[_0x43c27c(0x182)];}[_0x52a325(0xaa)](_0x39d654){const _0x16ea9b=_0x52a325;_0x39d654?this[_0x16ea9b(0x44d)]=this['jobQueue'][_0x16ea9b(0x6f8)](_0x57cd62=>_0x57cd62['ownerId']!==_0x39d654):(this[_0x16ea9b(0x44d)]=[],this[_0x16ea9b(0x182)]=!0x1);}[_0x52a325(0xa24)](_0x28072c,_0x1ce855){const _0x8c55a3=_0x52a325;this[_0x8c55a3(0x44d)][_0x8c55a3(0x66e)]({'callback':_0x1ce855,'ownerId':_0x28072c}),this[_0x8c55a3(0x6a7)]();}async[_0x52a325(0x6a7)](){const _0x476014=_0x52a325;if(!this[_0x476014(0x182)]){for(this[_0x476014(0x182)]=!0x0;this[_0x476014(0x44d)][_0x476014(0x761)]>0x0;){const _0x5159a8=this[_0x476014(0x44d)][_0x476014(0x55c)]();if(_0x5159a8)try{console['warn'](_0x476014(0x688)),await _0x5159a8['callback'](),console[_0x476014(0x1f9)](_0x476014(0x570));}catch(_0x855e7e){console[_0x476014(0x2a8)](_0x476014(0x9d7),_0x855e7e);}}this[_0x476014(0x182)]=!0x1;}}}const _0x1890e9=_0x2c6625[_0x52a325(0x6be)]();class _0x243f32 extends _0x376443{[_0x52a325(0x954)];['unsubscribeListener'];constructor(_0x39c27a,_0x382c5b,_0x913200){const _0x7d9f6f=_0x52a325;super(_0x39c27a,_0x382c5b),this[_0x7d9f6f(0x954)]=_0x913200;}['getContentType'](){const _0x417e02=_0x52a325;return _0x5bfdb7[_0x417e02(0x689)]['Job'];}[_0x52a325(0x807)](){this['subscribeToJobs']();}[_0x52a325(0x93c)](){const _0x419c2c=_0x52a325;this['systemTopic']?.[_0x419c2c(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf['Content'],'content':{'type':_0x539ab3['CloseJobWorker'],'label':this[_0x419c2c(0x7cd)]}});}[_0x52a325(0x4da)](){const _0x3776b3=_0x52a325;this[_0x3776b3(0x81e)]?.(),delete this['unsubscribeListener'],this[_0x3776b3(0x807)]();}[_0x52a325(0x3d9)](){const _0x1b70fe=_0x52a325;_0x1890e9[_0x1b70fe(0xaa)](this[_0x1b70fe(0x7cd)]),this[_0x1b70fe(0x81e)]?.(),delete this[_0x1b70fe(0x81e)],super['destroy']();}['isAvailable'](){const _0x38fd0e=_0x52a325;return _0x1890e9[_0x38fd0e(0x9ed)]();}[_0x52a325(0x8e6)](){return 0x1;}['compileStats'](_0x467651,_0x449b70,_0x2ead0f){}['accumulateResult'](_0x4d2210,_0x101a9f){return _0x4d2210;}async['startTracing'](_0x23a5f0,_0x460c35){const _0x4037db=_0x52a325;console[_0x4037db(0x1f9)](_0x4037db(0x7aa));}async[_0x52a325(0x54e)](_0x3e4cf9,_0x4608bc){const _0x34405c=_0x52a325;console['warn'](_0x34405c(0x7aa));}[_0x52a325(0x205)](){const _0x2cde0b=_0x52a325;this[_0x2cde0b(0x81e)]||(this[_0x2cde0b(0x81e)]=this[_0x2cde0b(0x6d3)](async(_0x59c8fb,_0x5f2d80)=>{const _0xc50d62=_0x2cde0b;if(_0x2d5d47['log'](_0x422206['Jobs'],'JobWorker:\x20Received\x20job',_0x5f2d80),!(_0x5f2d80 instanceof File)){if(this[_0xc50d62(0x2a1)](_0x5f2d80))_0x2d5d47[_0xc50d62(0x109)](_0x422206[_0xc50d62(0x46a)],_0xc50d62(0x33c),_0x5f2d80),this[_0xc50d62(0x9ed)]()?this[_0xc50d62(0x207)](_0x5f2d80['id'],_0x5f2d80[_0xc50d62(0x223)],_0x59c8fb):this['sendReject'](_0x5f2d80['id'],_0x5f2d80['jobType'],_0x59c8fb);else{if(this[_0xc50d62(0x533)](_0x5f2d80)){_0x2d5d47[_0xc50d62(0x109)](_0x422206['Jobs'],'JobWorker:\x20Received\x20job\x20attribution',_0x5f2d80);const {id:_0x3e4a75,parameters:_0x166b44}=_0x5f2d80;await this[_0xc50d62(0x19c)](_0x3e4a75,_0x166b44),this[_0xc50d62(0x3d5)](_0x5f2d80['id'],_0x5f2d80,_0x59c8fb);}}}}));}[_0x52a325(0x207)](_0x592453,_0x5db1d4,_0x64559f){const _0x590f9d=_0x52a325,_0x29ac4e={'id':_0x592453,'jobType':_0x5db1d4,'jobPhase':_0x1035ad[_0x590f9d(0x6b6)],'available':!0x0,'queueLength':_0x1890e9[_0x590f9d(0x761)],'bid':this[_0x590f9d(0x8e6)]()};_0x2d5d47[_0x590f9d(0x109)](_0x422206[_0x590f9d(0x46a)],_0x590f9d(0x230),_0x29ac4e),this[_0x590f9d(0x9c8)](_0x29ac4e,[_0x64559f]);}['sendReject'](_0x50cd0a,_0x1c2250,_0x5c9259){const _0x27b5cd=_0x52a325,_0xc581cd={'id':_0x50cd0a,'jobType':_0x1c2250,'jobPhase':_0x1035ad[_0x27b5cd(0x6b6)],'available':!0x1,'queueLength':_0x1890e9[_0x27b5cd(0x761)],'bid':0x0};_0x2d5d47[_0x27b5cd(0x109)](_0x422206[_0x27b5cd(0x46a)],_0x27b5cd(0x42a),_0xc581cd),this[_0x27b5cd(0x9c8)](_0xc581cd,[_0x5c9259]);}async[_0x52a325(0x3d5)](_0x57eabf,_0x53a387,_0x14361a){const _0x443d41=_0x52a325;_0x2d5d47['log'](_0x422206['Jobs'],_0x443d41(0x591),_0x53a387);const _0x1db255={'id':_0x57eabf,'jobType':_0x53a387['jobType'],'parameters':_0x53a387['parameters']};try{switch(_0x53a387[_0x443d41(0x223)]){case _0x5bfdb7[_0x443d41(0x36f)][_0x443d41(0x2df)]:await this[_0x443d41(0xa34)](_0x57eabf,_0x53a387,_0x1db255,_0x14361a);break;case _0x5bfdb7['JobType'][_0x443d41(0x554)]:await this[_0x443d41(0x218)](_0x57eabf,_0x53a387,_0x1db255,_0x14361a);break;default:throw new Error(_0x443d41(0x2dd));}}catch(_0xa430bd){_0x2d5d47[_0x443d41(0x2a8)]('JobWorker:\x20Error\x20processing\x20job',{'nodeId':this['owner']['getId'](),'nodeType':this[_0x443d41(0x611)][_0x443d41(0x983)],'data':{'job':_0x1db255}},_0xa430bd);const _0x14de59=_0xa430bd instanceof Error?_0xa430bd[_0x443d41(0x787)]:_0x443d41(0x2b6),_0x1fe6c4={'id':_0x57eabf,'jobType':_0x53a387['jobType'],'jobPhase':_0x1035ad[_0x443d41(0x62c)],'message':_0x14de59};await this['send'](_0x1fe6c4,[_0x14361a]);}}async[_0x52a325(0xa34)](_0xcf8837,_0xab7b34,_0xcf54a0,_0x22c062){const _0x11a793=_0x52a325,_0x986a72=Date[_0x11a793(0x88b)](),_0x35c90e=await this[_0x11a793(0x9c5)](_0xcf8837,_0xcf54a0['parameters']);this[_0x11a793(0xa0a)](_0x35c90e,_0x986a72,Date[_0x11a793(0x88b)]());const _0x41b399={'id':_0xcf8837,'jobType':_0xab7b34[_0x11a793(0x223)],'jobPhase':_0x1035ad[_0x11a793(0x4f2)],'result':_0x35c90e};_0x2d5d47[_0x11a793(0x109)](_0x422206['Jobs'],_0x11a793(0x743),_0x41b399),await this['send'](_0x41b399,[_0x22c062]),await this[_0x11a793(0x54e)](_0xcf8837,_0xcf54a0['parameters']);}async[_0x52a325(0x218)](_0x5cf897,_0x26d611,_0x2c2712,_0x32b4aa){const _0x184dec=_0x52a325,_0x5420a5=Date[_0x184dec(0x88b)]();let _0x41aacc=0x0,_0x299ebc={};for await(const _0xe26874 of this['internalProcessJobStream'](_0x2c2712['id'],_0x2c2712[_0x184dec(0xaba)])){const _0x4ca438={'id':_0x5cf897,'jobType':_0x26d611[_0x184dec(0x223)],'jobPhase':_0x1035ad['PartialResult'],'result':{..._0xe26874,'index':_0x41aacc}};_0x2d5d47[_0x184dec(0x109)](_0x422206[_0x184dec(0x46a)],_0x184dec(0xa09),_0x4ca438),this[_0x184dec(0x9c8)](_0x4ca438,[_0x32b4aa]),_0x299ebc=this[_0x184dec(0x221)](_0x299ebc,_0xe26874),_0x41aacc++;}this[_0x184dec(0xa0a)](_0x299ebc,_0x5420a5,Date['now']());const _0x33d0ea={'id':_0x5cf897,'jobType':_0x26d611[_0x184dec(0x223)],'jobPhase':_0x1035ad[_0x184dec(0x4f2)],'result':{..._0x299ebc,'index':_0x41aacc}};_0x2d5d47['log'](_0x422206[_0x184dec(0x46a)],_0x184dec(0x743),_0x33d0ea),await this[_0x184dec(0x9c8)](_0x33d0ea,[_0x32b4aa]),await this[_0x184dec(0x54e)](_0x5cf897,_0x2c2712['parameters']);}['isJobRequest'](_0x4b37a4){const _0x5bf275=_0x52a325;return _0x4b37a4[_0x5bf275(0x42b)]===_0x1035ad['Request'];}[_0x52a325(0x533)](_0x3a5c88){const _0x318411=_0x52a325;return _0x3a5c88[_0x318411(0x42b)]===_0x1035ad[_0x318411(0x82b)];}}const _0x59390e=new Map([['gpt-4o',{'id':_0x52a325(0x603),'inputTokenPrice':3.06,'outputTokenPrice':12.25,'fallbackModel':_0x52a325(0x3d4)}],[_0x52a325(0x3d4),{'id':_0x52a325(0x3d4),'inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':'gpt-4o-mini'}],[_0x52a325(0x9bd),{'id':_0x52a325(0x9bd),'inputTokenPrice':2.45,'outputTokenPrice':9.8,'fallbackModel':_0x52a325(0x887)}],[_0x52a325(0xa37),{'id':'gpt-4.1-mini','inputTokenPrice':0.49,'outputTokenPrice':1.96,'fallbackModel':_0x52a325(0x887)}],['gpt-4.1-nano',{'id':_0x52a325(0x887),'inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':_0x52a325(0x887)}],['o1',{'id':'o1','inputTokenPrice':18.38,'outputTokenPrice':73.5,'fallbackModel':_0x52a325(0x887)}],['o3-mini',{'id':'o3-mini','inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x52a325(0x887)}],['claude-3-7-sonnet-latest',{'id':_0x52a325(0x22a),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x52a325(0x990)}],[_0x52a325(0x990),{'id':_0x52a325(0x990),'inputTokenPrice':0.98,'outputTokenPrice':4.9,'fallbackModel':'claude-3-5-haiku-latest'}],[_0x52a325(0x506),{'id':_0x52a325(0x506),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x52a325(0x990)}],[_0x52a325(0x265),{'id':_0x52a325(0x265),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x52a325(0x990)}],['sonar',{'id':'sonar','inputTokenPrice':1.3,'outputTokenPrice':1.3,'fallbackModel':_0x52a325(0x1cd)}],[_0x52a325(0x981),{'id':_0x52a325(0x981),'inputTokenPrice':3.9,'outputTokenPrice':19.5,'fallbackModel':_0x52a325(0x1cd)}],[_0x52a325(0x5b3),{'id':_0x52a325(0x5b3),'inputTokenPrice':1.3,'outputTokenPrice':6.5,'fallbackModel':'sonar'}],[_0x52a325(0x20c),{'id':_0x52a325(0x20c),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x52a325(0x1cd)}],[_0x52a325(0x1b0),{'id':_0x52a325(0x1b0),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x52a325(0x1cd)}]]),_0x371781=new Map([[_0x52a325(0x565),{'id':_0x52a325(0x565),'engineType':_0x5bfdb7[_0x52a325(0xc8)][_0x52a325(0x86e)],'taskType':_0x5bfdb7[_0x52a325(0x50c)][_0x52a325(0xa8d)],'inputType':_0x5bfdb7['GenerativeAIModelInputType'][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x9d2)],'sourceUrl':_0x52a325(0x773)}],[_0x52a325(0x4e0),{'id':_0x52a325(0x4e0),'engineType':_0x5bfdb7['GenerativeAIEngineType'][_0x52a325(0x27c)],'taskType':_0x5bfdb7[_0x52a325(0x50c)]['Embeddings'],'inputType':_0x5bfdb7[_0x52a325(0x635)]['Text'],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x9d2)],'sourceUrl':''}],[_0x52a325(0x9ce),{'id':_0x52a325(0x9ce),'engineType':_0x5bfdb7['GenerativeAIEngineType'][_0x52a325(0x27c)],'taskType':_0x5bfdb7[_0x52a325(0x50c)][_0x52a325(0xa8d)],'inputType':_0x5bfdb7[_0x52a325(0x635)][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)]['Vector'],'sourceUrl':''}],[_0x52a325(0x927),{'id':_0x52a325(0x927),'engineType':_0x5bfdb7[_0x52a325(0xc8)]['Llamacpp'],'taskType':_0x5bfdb7['GenerativeAITaskType'][_0x52a325(0x80d)],'inputType':_0x5bfdb7[_0x52a325(0x635)][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'sourceUrl':_0x52a325(0xa21)}],[_0x52a325(0x23f),{'id':_0x52a325(0x23f),'engineType':_0x5bfdb7['GenerativeAIEngineType'][_0x52a325(0x86e)],'taskType':_0x5bfdb7[_0x52a325(0x50c)][_0x52a325(0x80d)],'inputType':_0x5bfdb7[_0x52a325(0x635)][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'sourceUrl':'https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf'}],[_0x52a325(0x942),{'id':_0x52a325(0x942),'engineType':_0x5bfdb7[_0x52a325(0xc8)][_0x52a325(0x86e)],'taskType':_0x5bfdb7[_0x52a325(0x50c)][_0x52a325(0x80d)],'inputType':_0x5bfdb7[_0x52a325(0x635)]['Text'],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'sourceUrl':_0x52a325(0xa2e)}],[_0x52a325(0x603),{'id':_0x52a325(0x603),'engineType':_0x5bfdb7[_0x52a325(0xc8)][_0x52a325(0x27c)],'taskType':_0x5bfdb7[_0x52a325(0x50c)][_0x52a325(0x80d)],'inputType':_0x5bfdb7['GenerativeAIModelInputType'][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'knowledgeCutoffDate':_0x52a325(0xa1),'sourceUrl':''}],['gpt-4o-mini',{'id':'gpt-4o-mini','engineType':_0x5bfdb7[_0x52a325(0xc8)][_0x52a325(0x27c)],'taskType':_0x5bfdb7['GenerativeAITaskType'][_0x52a325(0x80d)],'inputType':_0x5bfdb7[_0x52a325(0x635)][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'knowledgeCutoffDate':_0x52a325(0xa1),'sourceUrl':''}],[_0x52a325(0x9bd),{'id':_0x52a325(0x9bd),'engineType':_0x5bfdb7['GenerativeAIEngineType']['OpenAI'],'taskType':_0x5bfdb7[_0x52a325(0x50c)]['TextGeneration'],'inputType':_0x5bfdb7[_0x52a325(0x635)][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'knowledgeCutoffDate':_0x52a325(0x1f0),'sourceUrl':''}],['gpt-4.1-mini',{'id':_0x52a325(0xa37),'engineType':_0x5bfdb7[_0x52a325(0xc8)][_0x52a325(0x27c)],'taskType':_0x5bfdb7[_0x52a325(0x50c)]['TextGeneration'],'inputType':_0x5bfdb7[_0x52a325(0x635)][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'knowledgeCutoffDate':_0x52a325(0x1f0),'sourceUrl':''}],[_0x52a325(0x887),{'id':_0x52a325(0x887),'engineType':_0x5bfdb7['GenerativeAIEngineType'][_0x52a325(0x27c)],'taskType':_0x5bfdb7[_0x52a325(0x50c)][_0x52a325(0x80d)],'inputType':_0x5bfdb7['GenerativeAIModelInputType'][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'knowledgeCutoffDate':_0x52a325(0x1f0),'sourceUrl':''}],['o1',{'id':'o1','engineType':_0x5bfdb7[_0x52a325(0xc8)][_0x52a325(0x27c)],'taskType':_0x5bfdb7[_0x52a325(0x50c)]['TextGeneration'],'inputType':_0x5bfdb7[_0x52a325(0x635)][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}],[_0x52a325(0x882),{'id':_0x52a325(0x882),'engineType':_0x5bfdb7[_0x52a325(0xc8)][_0x52a325(0x27c)],'taskType':_0x5bfdb7[_0x52a325(0x50c)][_0x52a325(0x80d)],'inputType':_0x5bfdb7[_0x52a325(0x635)][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}],[_0x52a325(0x22a),{'id':_0x52a325(0x22a),'engineType':_0x5bfdb7[_0x52a325(0xc8)]['Anthropic'],'taskType':_0x5bfdb7[_0x52a325(0x50c)][_0x52a325(0x80d)],'inputType':_0x5bfdb7[_0x52a325(0x635)][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'knowledgeCutoffDate':_0x52a325(0x6b0),'sourceUrl':''}],['claude-3-5-haiku-latest',{'id':_0x52a325(0x990),'engineType':_0x5bfdb7[_0x52a325(0xc8)]['Anthropic'],'taskType':_0x5bfdb7['GenerativeAITaskType'][_0x52a325(0x80d)],'inputType':_0x5bfdb7[_0x52a325(0x635)][_0x52a325(0x5ac)],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'knowledgeCutoffDate':'April\x202024','sourceUrl':''}],[_0x52a325(0x506),{'id':_0x52a325(0x506),'engineType':_0x5bfdb7[_0x52a325(0xc8)][_0x52a325(0x37c)],'taskType':_0x5bfdb7['GenerativeAITaskType']['TextGeneration'],'inputType':_0x5bfdb7['GenerativeAIModelInputType']['Text'],'outputType':_0x5bfdb7[_0x52a325(0xcf)][_0x52a325(0x5ac)],'knowledgeCutoffDate':_0x52a325(0x30f),'sourceUrl':''}],['claude-3-opus-latest',{'id':'claude-3-opus-latest','engineType':_0x5bfdb7[_0x52a325(0xc8)]['Anthropic'],'taskType':_0x5bfdb7['GenerativeAITaskType']['TextGeneration'],'inputType':_0x5bfdb7[_0x52a325(0x635)][_0x52a325(0x5ac)],'outputType':_0x5bfdb7['GenerativeAIModelOutputType'][_0x52a325(0x5ac)],'knowledgeCutoffDate':_0x52a325(0x324),'sourceUrl':''}]]),_0x2822c1=require('rxjs/operators');class _0x434d16{[_0x52a325(0x65c)];constructor(){const _0x11e74f=_0x52a325;this[_0x11e74f(0x65c)]=new _0x1b6c24[(_0x11e74f(0x3af))]();}[_0x52a325(0x7a2)](_0x7b5724){const _0x4c252d=_0x52a325;this[_0x4c252d(0x65c)][_0x4c252d(0x631)](_0x7b5724);}async[_0x52a325(0x89c)](){const _0xaf1c92=_0x52a325;return(0x0,_0x1b6c24[_0xaf1c92(0x98f)])(this[_0xaf1c92(0x65c)][_0xaf1c92(0x30d)]((0x0,_0x2822c1['take'])(0x1)));}}function _0x664aea(_0x177205){const _0x3a7ab2=_0x52a325;try{return JSON[_0x3a7ab2(0x712)](_0x177205);}catch(_0x952b32){return _0x177205 instanceof Error?_0x177205[_0x3a7ab2(0x84a)]():JSON['stringify'](_0x3a7ab2(0x163));}}class _0x249501{static ['instance'];[_0x52a325(0xa9b)]=_0x26f179[_0x52a325(0x4b1)];['commitLevel']=_0x26f179[_0x52a325(0x7cb)];['commitType']=_0x1c79aa['Retrieve'];['openedTraces']={};static ['getInstance']=()=>(_0x249501[_0x52a325(0x6b4)]||(_0x249501[_0x52a325(0x6b4)]=new _0x249501()),_0x249501['instance']);async['openTrace'](_0x45c926,_0x1438db,_0x815b08,_0x4c927a){const _0x154eb5=_0x52a325;try{if(this[_0x154eb5(0x5b9)][_0x1438db])return!0x0;const _0x581514={'vendorId':_0x45c926,'workflowId':_0x815b08,'sequence':0x0};if(this[_0x154eb5(0x5b9)][_0x1438db]=_0x581514,!_0x4c927a||!_0x815b08)return!0x0;const _0x30f9b6=(0x0,_0x51a03b[_0x154eb5(0x5a5)])(_0x36dffc[_0x154eb5(0x757)](),_0x154eb5(0x153)+_0x45c926+_0x154eb5(0x867)+_0x815b08+'/jobs',_0x1438db);return(await(0x0,_0x51a03b[_0x154eb5(0x3cb)])(_0x30f9b6))[_0x154eb5(0x17f)]()||await(0x0,_0x51a03b[_0x154eb5(0x267)])(_0x30f9b6,{'threadId':_0x4c927a,'startTime':(0x0,_0x51a03b[_0x154eb5(0x8c0)])()}),!0x0;}catch(_0x23c662){return console[_0x154eb5(0x2a8)]('GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.',_0x23c662),!0x1;}}async[_0x52a325(0x365)](_0x436fa2,_0x3f94b9,_0x6f93f,_0x19be38){const _0x1e4f7b=_0x52a325;try{if(!this[_0x1e4f7b(0x5b9)][_0x436fa2])throw new Error(_0x1e4f7b(0x2fb));const _0x2c4d7e=new Date(),_0x1a8d72=_0x2c4d7e[_0x1e4f7b(0x900)]()+'-'+_0x2c4d7e[_0x1e4f7b(0x872)]()+'-'+_0x2c4d7e[_0x1e4f7b(0x968)](),_0x46032e=new Date(_0x2c4d7e[_0x1e4f7b(0x900)](),_0x2c4d7e[_0x1e4f7b(0x872)](),_0x2c4d7e['getDate']()),_0x5a80b8=this[_0x1e4f7b(0x5b9)][_0x436fa2]['vendorId'],_0xced058=_0x3f94b9+'-'+_0x1a8d72,_0x2eb17f=_0x59390e[_0x1e4f7b(0x627)](_0x3f94b9);if(!_0x2eb17f)return void console[_0x1e4f7b(0x2a8)]('GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found',_0x3f94b9);let _0xd1010e=Math[_0x1e4f7b(0x6cc)](_0x2eb17f[_0x1e4f7b(0x803)]*_0x6f93f/0xf4240*0x64);_0xd1010e<=0x0&&(_0xd1010e=0x1);let _0x437cf5=Math['ceil'](_0x2eb17f[_0x1e4f7b(0x585)]*_0x19be38/0xf4240*0x64);_0x437cf5<=0x0&&(_0x437cf5=0x1);const _0x5c39f4=(0x0,_0x51a03b[_0x1e4f7b(0x5a5)])(_0x36dffc[_0x1e4f7b(0x757)](),_0x1e4f7b(0x153)+_0x5a80b8+_0x1e4f7b(0x6bb),_0xced058);await(0x0,_0x51a03b['setDoc'])(_0x5c39f4,{'modelId':_0x3f94b9,'date':_0x46032e,'inputTokens':(0x0,_0x51a03b[_0x1e4f7b(0x1c8)])(_0x6f93f),'outputTokens':(0x0,_0x51a03b['increment'])(_0x19be38),'inputCredits':(0x0,_0x51a03b[_0x1e4f7b(0x1c8)])(_0xd1010e),'outputCredits':(0x0,_0x51a03b[_0x1e4f7b(0x1c8)])(_0x437cf5),'totalCredits':(0x0,_0x51a03b[_0x1e4f7b(0x1c8)])(_0xd1010e+_0x437cf5)},{'merge':!0x0});}catch(_0x30a97e){console[_0x1e4f7b(0x2a8)]('GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage',_0x30a97e);}}async[_0x52a325(0x817)](_0x4700ff){const _0x231cad=_0x52a325;try{const _0x111c2a=this['openedTraces'][_0x4700ff['jobId']];if(!_0x111c2a)throw new Error(_0x231cad(0x2c7));_0x4700ff[_0x231cad(0x2b5)]=_0x111c2a[_0x231cad(0x2b5)]++,_0x4700ff[_0x231cad(0x264)]>=this[_0x231cad(0xa9b)]&&console['log'](JSON[_0x231cad(0x712)](_0x4700ff,null,0x2)),await this['commitTrace'](_0x4700ff);}catch(_0x142e90){console[_0x231cad(0x2a8)]('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x142e90);}}async['closeTrace'](_0x3cbbe2,_0x48b448){const _0x49c40b=_0x52a325;if(!_0x249501['instance'])throw new Error(_0x49c40b(0x3f5));if(!this[_0x49c40b(0x5b9)][_0x3cbbe2])throw new Error(_0x49c40b(0x2fb));if(_0x48b448&&this[_0x49c40b(0x5b9)][_0x3cbbe2]['workflowId'])try{await(0x0,_0x51a03b['setDoc'])((0x0,_0x51a03b['doc'])(_0x36dffc['getFirestore'](),_0x49c40b(0x153)+this['openedTraces'][_0x3cbbe2][_0x49c40b(0x793)]+_0x49c40b(0x867)+this[_0x49c40b(0x5b9)][_0x3cbbe2][_0x49c40b(0x93f)]+_0x49c40b(0x78d),_0x3cbbe2),{'endTime':(0x0,_0x51a03b[_0x49c40b(0x8c0)])()},{'merge':!0x0}),this['setForDeletion'](_0x3cbbe2);}catch(_0x16f57e){console[_0x49c40b(0x2a8)](_0x49c40b(0xd7),_0x16f57e);}else this[_0x49c40b(0x9ac)](_0x3cbbe2);}[_0x52a325(0x9ac)](_0x2ddccf){setTimeout(()=>{const _0x3b3067=a0_0x15bf;delete this[_0x3b3067(0x5b9)][_0x2ddccf];},0x1b7740);}async[_0x52a325(0x6ed)](_0x1221df){const _0x1f7c0b=_0x52a325;if(_0x1221df[_0x1f7c0b(0x264)]<this[_0x1f7c0b(0xab)]&&_0x1221df[_0x1f7c0b(0x223)]!==this['commitType'])return;if(!this[_0x1f7c0b(0x5b9)][_0x1221df[_0x1f7c0b(0x8e4)]])throw new Error(_0x1f7c0b(0x28c));const _0xf0db85=this[_0x1f7c0b(0x5b9)][_0x1221df[_0x1f7c0b(0x8e4)]];try{const _0x42f4a1=function(_0x2f053c){const _0x273770=_0x1f7c0b,_0x58d811=[_0x273770(0x83b),'timestamp',_0x273770(0x223),'type','jobId',_0x273770(0x264),_0x273770(0x6cf),'status',_0x273770(0x2b5),_0x273770(0x3b9)],_0x348da5={..._0x2f053c};for(const _0x3ce3dd of _0x58d811)delete _0x348da5[_0x3ce3dd];return{'timestamp':_0x2f053c['timestamp'],'jobType':_0x2f053c[_0x273770(0x223)],'type':_0x2f053c[_0x273770(0x983)],'jobId':_0x2f053c[_0x273770(0x8e4)],'agentId':_0x2f053c[_0x273770(0x6f1)]??'','traceLevel':_0x2f053c[_0x273770(0x264)],'blockId':_0x2f053c['blockId']??'','startTime':_0x2f053c[_0x273770(0x83b)],'status':_0x2f053c[_0x273770(0x245)],'sequence':_0x2f053c[_0x273770(0x2b5)]??0x0,'errorDetails':_0x2f053c['errorDetails']??'','metadata':_0x664aea(_0x348da5)};}(_0x1221df),_0x32a8df=(0x0,_0x529b6e['v4'])();console[_0x1f7c0b(0x109)](_0x1f7c0b(0x2e5),_0x42f4a1['type']),await(0x0,_0x51a03b[_0x1f7c0b(0x267)])((0x0,_0x51a03b[_0x1f7c0b(0x5a5)])(_0x36dffc[_0x1f7c0b(0x757)](),_0x1f7c0b(0x153)+_0xf0db85['vendorId']+_0x1f7c0b(0x867)+_0xf0db85['workflowId']+_0x1f7c0b(0x842)+_0x1221df[_0x1f7c0b(0x8e4)]+'/traces',_0x32a8df),_0x42f4a1),_0x1221df[_0x1f7c0b(0x983)]===_0x5ece34['PromptRating']&&await(0x0,_0x51a03b['setDoc'])((0x0,_0x51a03b[_0x1f7c0b(0x5a5)])(_0x36dffc['getFirestore'](),_0x1f7c0b(0x153)+_0xf0db85[_0x1f7c0b(0x793)]+_0x1f7c0b(0x867)+_0xf0db85['workflowId']+_0x1f7c0b(0x78d),_0x1221df[_0x1f7c0b(0x8e4)]),{'rating':_0x1221df['rating']},{'merge':!0x0});}catch(_0x50c1da){console[_0x1f7c0b(0x2a8)](_0x1f7c0b(0x50b),_0x50c1da);}}}const _0x1a9472=_0x249501['getInstance']();async function _0x239f13(_0x206434,_0x7f43c6,_0x1b474f,_0x353077,_0x3b852b,_0x45c72e,_0x368dbd,_0x376622){const _0x51d3bd=function(_0x3895df,_0x151b1f){const _0x12cb4f=a0_0x15bf,_0x7f9561=[];for(let _0x30f7c5=0x0;_0x30f7c5<_0x3895df[_0x12cb4f(0x761)];_0x30f7c5+=_0x151b1f['attributes'][_0x12cb4f(0x1af)]){let _0x33f025=_0x30f7c5-_0x151b1f[_0x12cb4f(0x297)][_0x12cb4f(0x13f)];_0x33f025<0x0&&(_0x33f025=0x0);let _0x234044=_0x30f7c5+_0x151b1f[_0x12cb4f(0x297)][_0x12cb4f(0x1af)]+_0x151b1f[_0x12cb4f(0x297)]['overlap'];_0x234044>_0x3895df['length']&&(_0x234044=_0x3895df[_0x12cb4f(0x761)]),length||(length=_0x30f7c5+_0x151b1f[_0x12cb4f(0x297)]['size'],length>_0x3895df[_0x12cb4f(0x761)]&&(length=_0x3895df[_0x12cb4f(0x761)])),_0x7f9561[_0x12cb4f(0x66e)](_0x3895df[_0x12cb4f(0x371)](_0x33f025,_0x234044));}return _0x7f9561;}(_0x7f43c6,_0x3b852b);await _0x514ebf(_0x206434,_0x51d3bd,_0x1b474f,_0x353077,_0x3b852b,_0x45c72e,_0x368dbd,_0x376622);}async function _0x4a689b(_0x53d74a,_0x32b901,_0x569f15,_0x1ba416,_0x2b89fc,_0x36dc5f,_0x2a6817,_0x4ff8c6){const _0x1e869b=_0x52a325;if(_0x2b89fc[_0x1e869b(0x53f)]||(_0x2b89fc['accumulated']={}),_0x2b89fc[_0x1e869b(0x53f)][_0x1e869b(0x701)]||(_0x2b89fc[_0x1e869b(0x53f)][_0x1e869b(0x701)]=[]),_0x32b901 instanceof Array?_0x2b89fc['accumulated'][_0x1e869b(0x701)]['push'](..._0x32b901):_0x2b89fc['accumulated'][_0x1e869b(0x701)][_0x1e869b(0x66e)](_0x32b901),_0x2b89fc[_0x1e869b(0x91f)]=_0x2b89fc['timesCalled']?_0x2b89fc['timesCalled']+0x1:0x1,_0x45bd40(_0x2b89fc,_0x36dc5f)>_0x2b89fc['timesCalled'])return;if(0x0===_0x2b89fc['accumulated'][_0x1e869b(0x701)][_0x1e869b(0x761)])throw new Error(_0x1e869b(0x40a));let _0x41fb0f=[];const _0x3b8361=Date['now']();try{let _0x5d173a=0x0,_0x452ff7=0x0;for(const _0x1c2b5f of _0x2b89fc['accumulated'][_0x1e869b(0x701)]){const _0x3d3cb4=await fetch(_0x4d71fb[_0x1e869b(0x636)]+_0x1e869b(0xa98)+_0x2b89fc['id']+'/search',{'method':_0x1e869b(0x66b),'headers':{'Content-Type':_0x1e869b(0x838),'x-vendor-id':_0x569f15[_0x1e869b(0x793)]},'body':JSON[_0x1e869b(0x712)]({'query':_0x1c2b5f})}),_0x5ecf3e=((await _0x3d3cb4[_0x1e869b(0x323)]())[_0x1e869b(0x6f2)]??[])[_0x1e869b(0x943)](_0xa74cbd=>({'pathName':_0xa74cbd[_0x1e869b(0x1d4)],'relevance':_0xa74cbd[_0x1e869b(0x937)],'content':_0xa74cbd[_0x1e869b(0x38c)]['text']}));_0x41fb0f=Array[_0x1e869b(0xa3e)](new Set([..._0x41fb0f,..._0x5ecf3e])),_0x5d173a+=_0x5ecf3e[_0x1e869b(0x1ad)]??0x0,_0x452ff7+=_0x5ecf3e[_0x1e869b(0x69f)]??0x0;}_0x1ba416[_0x1e869b(0x1ad)]+=_0x5d173a,_0x1ba416[_0x1e869b(0x69f)]+=_0x452ff7,_0x1ba416[_0x1e869b(0x462)]=Array[_0x1e869b(0xa3e)](new Set([..._0x1ba416[_0x1e869b(0x462)],..._0x41fb0f])),await _0x1a9472[_0x1e869b(0x817)]({'jobType':_0x1c79aa['Workflow'],'type':_0x4d1f1b[_0x1e869b(0x336)],'jobId':_0x53d74a,'threadId':_0x569f15[_0x1e869b(0x5b7)],'traceLevel':_0x26f179['Info'],'startTime':_0x3b8361,'timestamp':Date[_0x1e869b(0x88b)](),'blockId':_0x2b89fc['id'],'status':'success','queries':_0x2b89fc['accumulated'][_0x1e869b(0x701)],'context':_0x41fb0f,'inputTokens':_0x5d173a,'outputTokens':_0x452ff7});}catch(_0x9fca29){console[_0x1e869b(0x2a8)](_0x9fca29),await _0x1a9472[_0x1e869b(0x817)]({'jobType':_0x1c79aa[_0x1e869b(0x88d)],'type':_0x4d1f1b['DataCollection'],'jobId':_0x53d74a,'threadId':_0x569f15['threadId'],'traceLevel':_0x26f179[_0x1e869b(0x7cb)],'startTime':_0x3b8361,'timestamp':Date[_0x1e869b(0x88b)](),'blockId':_0x2b89fc['id'],'status':'error','queries':_0x2b89fc[_0x1e869b(0x53f)]['queries'],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x514ebf(_0x53d74a,'',_0x569f15,_0x1ba416,_0x2b89fc,_0x36dc5f,_0x2a6817,_0x4ff8c6);}async function _0x41e138(_0x36596b,_0x404e37,_0x429633,_0x57f5e0,_0xb324de,_0x294c8c,_0x139a17,_0x3225b8){const _0x4f4b08=_0x52a325,_0x48bf0d=await _0x139a17['nlpLibraryConnector'][_0x4f4b08(0x2cd)](_0x404e37);await _0x514ebf(_0x36596b,_0x48bf0d,_0x429633,_0x57f5e0,_0xb324de,_0x294c8c,_0x139a17,_0x3225b8);}async function _0x44d271(_0x106c42,_0x30a46c,_0x2118ee,_0xa07f19,_0x45a0a1,_0x74dc41,_0x3136f9,_0x48e8d8){const _0x735068=function(_0x2591e2,_0x480a75){const _0x2844a6=a0_0x15bf,_0x2fc0a0=[],_0x4a7c6c=_0x2591e2[_0x2844a6(0x73a)]('\x20');let _0x59dad0='',_0xfa7387=0x0,_0x51339f=0x0,_0x289c51=0x0;for(const _0x35c3ce of _0x4a7c6c){if(_0x59dad0[_0x2844a6(0x761)]+_0x35c3ce[_0x2844a6(0x761)]>_0x480a75['attributes'][_0x2844a6(0x1af)]){let _0x142896=_0xfa7387,_0x2b638e='';for(;_0x142896>=0x0&&_0x2b638e[_0x2844a6(0x761)]+_0x4a7c6c[_0x142896][_0x2844a6(0x761)]<_0x480a75[_0x2844a6(0x297)][_0x2844a6(0x13f)];)_0x2b638e=_0x4a7c6c[_0x142896]+'\x20'+_0x2b638e,_0x142896--;let _0x53c95d=_0x51339f,_0x16c78e='';for(;_0x53c95d<_0x4a7c6c['length']&&_0x16c78e[_0x2844a6(0x761)]+_0x4a7c6c[_0x53c95d]['length']<_0x480a75['attributes'][_0x2844a6(0x13f)];)_0x16c78e+=_0x4a7c6c[_0x53c95d]+'\x20',_0x53c95d++;_0x59dad0=_0x2b638e+_0x59dad0+_0x16c78e,_0x2fc0a0[_0x2844a6(0x66e)](_0x59dad0[_0x2844a6(0x960)]()),_0x59dad0='',_0xfa7387=_0x51339f;}_0x59dad0+=_0x35c3ce+'\x20',_0x51339f++,_0x289c51+=_0x35c3ce['length']+0x1;}if(_0x59dad0[_0x2844a6(0x761)]>0x0){let _0x452e74=_0xfa7387,_0x1de3e2='';for(;_0x452e74>=0x0&&_0x1de3e2[_0x2844a6(0x761)]+_0x4a7c6c[_0x452e74][_0x2844a6(0x761)]<_0x480a75[_0x2844a6(0x297)]['overlap'];)_0x1de3e2=_0x4a7c6c[_0x452e74]+'\x20'+_0x1de3e2,_0x452e74--;_0x59dad0=_0x1de3e2+_0x59dad0,_0x2fc0a0[_0x2844a6(0x66e)](_0x59dad0[_0x2844a6(0x960)]());}return _0x2fc0a0;}(_0x30a46c,_0x45a0a1);await _0x514ebf(_0x106c42,_0x735068,_0x2118ee,_0xa07f19,_0x45a0a1,_0x74dc41,_0x3136f9,_0x48e8d8);}async function _0x514ebf(_0x2e97c8,_0x2db29e,_0x6592d3,_0x103d89,_0x541ffb,_0x1b162f,_0x1b8630,_0x331e8a){const _0x389263=_0x52a325;if(await _0x4e41bf[_0x389263(0x28a)](0x1),_0x541ffb[_0x389263(0x670)]){for(const _0x50a255 of _0x541ffb[_0x389263(0x670)]){if(_0x50a255[_0x389263(0x983)]===_0x3b71c2[_0x389263(0x11c)])continue;const _0x4f15f9=_0x1b162f[_0x389263(0x7cc)](_0x1e1501=>_0x1e1501['uid']===_0x50a255[_0x389263(0x560)]);if(_0x4f15f9)switch(_0x4f15f9[_0x389263(0x983)]){case _0x206b99['Agent']:_0x50a255[_0x389263(0x983)]!==_0x3b71c2['Text']&&_0x50a255['type']!==_0x3b71c2[_0x389263(0x94e)]||_0x389263(0x347)!=typeof _0x2db29e||await _0x54bcad(_0x2e97c8,_0x50a255[_0x389263(0x983)],_0x2db29e,_0x6592d3,_0x103d89,_0x4f15f9,_0x1b162f,_0x1b8630,_0x331e8a),_0x50a255[_0x389263(0x983)]===_0x3b71c2[_0x389263(0x8ca)]&&_0x389263(0xa9)===_0x2db29e&&await _0x54bcad(_0x2e97c8,_0x50a255[_0x389263(0x983)],_0x2db29e,_0x6592d3,_0x103d89,_0x4f15f9,_0x1b162f,_0x1b8630,_0x331e8a),_0x50a255[_0x389263(0x983)]===_0x3b71c2['WaitFalse']&&_0x389263(0x73d)===_0x2db29e&&await _0x54bcad(_0x2e97c8,_0x50a255[_0x389263(0x983)],_0x2db29e,_0x6592d3,_0x103d89,_0x4f15f9,_0x1b162f,_0x1b8630,_0x331e8a);break;case _0x206b99['ChunkSplitter']:_0x50a255[_0x389263(0x983)]===_0x3b71c2['Text']&&'string'==typeof _0x2db29e&&await _0x239f13(_0x2e97c8,_0x2db29e,_0x6592d3,_0x103d89,_0x4f15f9,_0x1b162f,_0x1b8630,_0x331e8a);break;case _0x206b99[_0x389263(0x336)]:_0x50a255[_0x389263(0x983)]===_0x3b71c2['Text']&&'string'==typeof _0x2db29e&&await _0x4a689b(_0x2e97c8,_0x2db29e,_0x6592d3,_0x103d89,_0x4f15f9,_0x1b162f,_0x1b8630,_0x331e8a),_0x50a255[_0x389263(0x983)]===_0x3b71c2[_0x389263(0x5ac)]&&_0x2db29e instanceof Array&&await _0x4a689b(_0x2e97c8,_0x2db29e,_0x6592d3,_0x103d89,_0x4f15f9,_0x1b162f,_0x1b8630,_0x331e8a);break;case _0x206b99['SentenceSplitter']:_0x50a255[_0x389263(0x983)]===_0x3b71c2[_0x389263(0x5ac)]&&_0x389263(0x347)==typeof _0x2db29e&&await _0x41e138(_0x2e97c8,_0x2db29e,_0x6592d3,_0x103d89,_0x4f15f9,_0x1b162f,_0x1b8630,_0x331e8a);break;case _0x206b99['WordSplitter']:_0x50a255[_0x389263(0x983)]===_0x3b71c2[_0x389263(0x5ac)]&&'string'==typeof _0x2db29e&&await _0x44d271(_0x2e97c8,_0x2db29e,_0x6592d3,_0x103d89,_0x4f15f9,_0x1b162f,_0x1b8630,_0x331e8a);}}_0x541ffb[_0x389263(0x983)]===_0x206b99['Prompt']&&_0x331e8a&&_0x331e8a['emit'](void 0x0);}else _0x541ffb[_0x389263(0x983)]===_0x206b99[_0x389263(0x710)]&&_0x331e8a&&_0x331e8a[_0x389263(0x7a2)](void 0x0);}function _0x45bd40(_0x2418a3,_0x4d7060){const _0x19b879=_0x52a325;let _0x599188=0x0;for(const _0x420205 of _0x4d7060)for(const _0x268199 of _0x420205[_0x19b879(0x670)]??[])_0x268199[_0x19b879(0x983)]!==_0x3b71c2['Context']&&_0x268199[_0x19b879(0x983)]!==_0x3b71c2[_0x19b879(0x2f3)]&&_0x268199[_0x19b879(0x560)]===_0x2418a3[_0x19b879(0x560)]&&_0x599188++;return _0x599188;}function _0x3a8148(_0x5bf79d,_0x4b65dc){const _0x1cb27c=_0x52a325,_0x859831={'type':_0x5bf79d[_0x1cb27c(0x983)],'name':_0x5bf79d[_0x1cb27c(0x7fe)]??'','description':_0x5bf79d[_0x1cb27c(0xa2c)]??'','parameters':_0x5bf79d['parameters']??[],'headers':_0x5bf79d[_0x1cb27c(0x826)]??[],'queryParameters':_0x5bf79d['queryParameters']??[],'bodyParameters':_0x5bf79d['bodyParameters']??[],'endpointUrl':_0x5bf79d[_0x1cb27c(0x658)]??'','endpointMethod':_0x5bf79d[_0x1cb27c(0x16f)]??'','contextInputVariable':_0x5bf79d[_0x1cb27c(0x3e4)]??'','contextOutputVariable':_0x5bf79d[_0x1cb27c(0x340)]??'','modelId':_0x5bf79d['modelId']??'','workflowId':_0x5bf79d[_0x1cb27c(0x93f)]??'','async':_0x5bf79d[_0x1cb27c(0xa29)]??!0x1,'instructions':_0x5bf79d['instructions']??'','maxTokens':_0x5bf79d[_0x1cb27c(0x9d5)]??0x0,'temperature':_0x5bf79d[_0x1cb27c(0x46e)]??0x0,'grammar':_0x5bf79d[_0x1cb27c(0x56b)]??'default','collectionId':_0x5bf79d['type']===_0x206b99['DataCollection']||_0x5bf79d[_0x1cb27c(0x983)]===_0x206b99[_0x1cb27c(0x873)]?_0x5bf79d['id']:'','shouldEmit':_0x5bf79d[_0x1cb27c(0x670)]?.[_0x1cb27c(0x729)](_0x554366=>_0x554366[_0x1cb27c(0x983)]===_0x3b71c2[_0x1cb27c(0x5ac)]&&_0x4b65dc[_0x1cb27c(0x7cc)](_0x238b4e=>_0x238b4e[_0x1cb27c(0x560)]===_0x554366[_0x1cb27c(0x560)])?.['type']===_0x206b99['Answer'])??!0x1};if(_0x5bf79d['type']===_0x206b99['FormSkill'])return[{..._0x859831,'type':_0x5bfdb7[_0x1cb27c(0x433)]['FormSkillGetQuestion'],'questions':_0x5bf79d['questions']??[]},{..._0x859831,'type':_0x5bfdb7[_0x1cb27c(0x433)][_0x1cb27c(0x8c8)],'questions':_0x5bf79d[_0x1cb27c(0x55d)]??[]},{..._0x859831,'type':_0x5bfdb7['GenerativeAIInferenceToolType']['FormSkillSubmitForm'],'questions':_0x5bf79d['questions']??[]}];if(_0x5bf79d[_0x1cb27c(0x983)]===_0x206b99[_0x1cb27c(0x1f4)]||_0x5bf79d[_0x1cb27c(0x983)]===_0x206b99['AgentSkill']||_0x5bf79d[_0x1cb27c(0x983)]===_0x206b99['Router']){const _0x2ef0a6=_0x4b65dc[_0x1cb27c(0x6f8)](_0x1ae166=>_0x1ae166[_0x1cb27c(0x670)]?.[_0x1cb27c(0x729)](_0x3c9fce=>_0x3c9fce['uid']===_0x5bf79d[_0x1cb27c(0x560)]&&_0x3c9fce[_0x1cb27c(0x983)]===_0x3b71c2[_0x1cb27c(0x2f3)]));if(_0x2ef0a6[_0x1cb27c(0x761)]>0x0)return{..._0x859831,'tools':_0x2ef0a6[_0x1cb27c(0x702)](_0x379514=>_0x3a8148(_0x379514,_0x4b65dc))};}return _0x859831;}async function _0x54bcad(_0x4efb95,_0x4582e3,_0x445cd9,_0x1f8045,_0x4e1c00,_0x49bd42,_0x302e68,_0xbbb995,_0x56807a){const _0xafc3ea=_0x52a325;if(_0x49bd42[_0xafc3ea(0x53f)]||(_0x49bd42[_0xafc3ea(0x53f)]={}),_0x4582e3===_0x3b71c2[_0xafc3ea(0x5ac)]&&_0xafc3ea(0x347)==typeof _0x445cd9&&(_0x49bd42[_0xafc3ea(0x53f)]['prompt']||(_0x49bd42[_0xafc3ea(0x53f)][_0xafc3ea(0xa75)]=[]),_0x49bd42[_0xafc3ea(0x53f)][_0xafc3ea(0xa75)][_0xafc3ea(0x66e)](_0x445cd9)),_0x49bd42[_0xafc3ea(0x91f)]=_0x49bd42['timesCalled']?_0x49bd42[_0xafc3ea(0x91f)]+0x1:0x1,_0x45bd40(_0x49bd42,_0x302e68)>_0x49bd42[_0xafc3ea(0x91f)])return;if(_0x2d5d47[_0xafc3ea(0x492)](_0xafc3ea(0x4fa)+_0x49bd42[_0xafc3ea(0x7fe)],_0x49bd42['timesCalled']),!_0x49bd42[_0xafc3ea(0x53f)][_0xafc3ea(0xa75)])throw new Error(_0xafc3ea(0x2e9)+_0x49bd42['name']);const _0x582cfd=_0xbbb995[_0xafc3ea(0x249)][_0xafc3ea(0x7cc)](_0x573c11=>_0x573c11['id']===_0x49bd42['modelId']);if(!_0x582cfd)throw new Error('Model\x20not\x20found\x20'+_0x49bd42[_0xafc3ea(0x862)]);const _0x58bf68=Date['now'](),_0x98920d=(0x0,_0x529b6e['v4'])();let _0x504694='',_0x4ff0f7=0x0,_0x434b99=0x0;const _0x43821f=[],_0x4cfa4a=function(_0x34b9b2,_0x12226b,_0x4aff48){const _0x562c89=_0xafc3ea;if(_0x4aff48['contextInputVariable']){const _0x446268=_0x4aff48['contextInputVariable']['split'](',');for(const _0x2ff81e of _0x446268)_0x562c89(0x740)!==_0x2ff81e&&_0x12226b[_0x562c89(0x9b8)]?.[_0x2ff81e]&&(_0x34b9b2='<'+_0x2ff81e+'>'+_0x12226b[_0x562c89(0x9b8)][_0x2ff81e]+'</'+_0x2ff81e+_0x562c89(0xaab)+_0x34b9b2);}return _0x34b9b2;}(_0x49bd42[_0xafc3ea(0x53f)][_0xafc3ea(0xa75)][_0xafc3ea(0x141)]('\x0a\x0a'),_0x4e1c00,_0x49bd42);let _0x29162c=_0x4cfa4a;const _0x530d1e=_0x49bd42[_0xafc3ea(0x3e4)]?.['split'](',');if(_0x4e1c00[_0xafc3ea(0x9b8)]?.[_0xafc3ea(0x740)]&&_0x530d1e?.['includes'](_0xafc3ea(0x740))){const _0x683771=_0x4e1c00[_0xafc3ea(0x9b8)][_0xafc3ea(0x740)][_0xafc3ea(0x73a)](',');_0x29162c=[];for(const _0x4bb508 of _0x683771)_0x29162c[_0xafc3ea(0x66e)]({'type':_0xafc3ea(0x926),'file':{'file_id':_0x4bb508}});_0x29162c['push']({'type':_0xafc3ea(0x4b0),'text':_0x4cfa4a});}_0x43821f[_0xafc3ea(0x66e)]({'role':_0xafc3ea(0x776),'content':_0x4c0035(_0x1f8045[_0xafc3ea(0x6f4)]??'',_0x49bd42,_0x582cfd)}),_0x43821f[_0xafc3ea(0x66e)](..._0x1f8045[_0xafc3ea(0x564)]?.[_0xafc3ea(0x943)](_0x4d6431=>({'role':_0x4d6431[_0xafc3ea(0x1d6)]===_0x5bfdb7['PromptSource'][_0xafc3ea(0x333)]?_0xafc3ea(0x70c):'assistant','content':_0x4d6431[_0xafc3ea(0x787)]}))??[]),_0x43821f[_0xafc3ea(0x66e)]({'role':_0xafc3ea(0x70c),'content':_0x29162c});const _0x47631d=_0x302e68['filter'](_0x12bc45=>_0x12bc45['links']?.[_0xafc3ea(0x729)](_0x3fd93b=>_0x3fd93b[_0xafc3ea(0x560)]===_0x49bd42['uid']&&_0x3fd93b[_0xafc3ea(0x983)]===_0x3b71c2[_0xafc3ea(0x2f3)]))['flatMap'](_0x1dbdf1=>_0x3a8148(_0x1dbdf1,_0x302e68));if(_0x56807a){const _0x574486=_0x49bd42[_0xafc3ea(0x670)]?.[_0xafc3ea(0x729)](_0x23eddf=>_0x23eddf[_0xafc3ea(0x983)]===_0x3b71c2['Text']&&_0x302e68[_0xafc3ea(0x7cc)](_0x413565=>_0x413565['uid']===_0x23eddf['uid'])?.[_0xafc3ea(0x983)]===_0x206b99[_0xafc3ea(0x9c0)])??!0x1,_0x2977f2=await fetch(_0x4d71fb['apiUrl']+_0xafc3ea(0x4c3),{'method':_0xafc3ea(0x66b),'headers':{'Accept':_0xafc3ea(0xab5),'Content-Type':_0xafc3ea(0x838),'x-vendor-id':_0x1f8045['vendorId']},'body':JSON['stringify']({'model':_0x49bd42[_0xafc3ea(0x862)],'messages':_0x43821f,'max_completion_tokens':_0x49bd42[_0xafc3ea(0x9d5)],'temperature':_0x49bd42[_0xafc3ea(0x46e)],'metadata':{'threadId':_0x1f8045[_0xafc3ea(0x5b7)],'agentId':_0x98920d,'jobId':_0x4efb95,'workflowId':_0x1f8045[_0xafc3ea(0x93f)],'context':_0x4e1c00['internalContext']??{}},'structured_output':_0x49bd42[_0xafc3ea(0x56b)],'tools':_0x47631d,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x2977f2['ok']||!_0x2977f2['body'])throw new Error('ReadableStream\x20is\x20not\x20supported');const _0x520428=_0x2977f2[_0xafc3ea(0xd4)]['getReader'](),_0x513cee=new TextDecoder();for(;;){const {value:_0x29b538,done:_0x203959}=await _0x520428[_0xafc3ea(0x408)]();if(_0x203959)break;const _0x2b9ba2=_0x513cee[_0xafc3ea(0x14b)](_0x29b538,{'stream':!0x0});if(_0xafc3ea(0x841)===_0x2b9ba2)break;const _0x555305=_0x3d97dc(_0x2b9ba2);for(const _0x5516b9 of _0x555305)_0x5516b9[_0xafc3ea(0xabf)]&&_0x5516b9[_0xafc3ea(0xabf)][0x0]&&(_0x574486&&(_0x56807a[_0xafc3ea(0x7a2)]({'output':_0x5516b9[_0xafc3ea(0xabf)][0x0][_0xafc3ea(0x7ef)][_0xafc3ea(0x38c)],'type':_0xafc3ea(0xa75)}),await _0x4e41bf[_0xafc3ea(0x28a)](0x1)),_0x504694+=_0x5516b9[_0xafc3ea(0xabf)][0x0][_0xafc3ea(0x7ef)][_0xafc3ea(0x38c)]??'',_0x4ff0f7=_0x5516b9[_0xafc3ea(0x5ff)]?.[_0xafc3ea(0x946)]??0x0,_0x434b99=_0x5516b9[_0xafc3ea(0x5ff)]?.[_0xafc3ea(0x36b)]??0x0,_0x4e1c00['internalContext']={..._0x4e1c00[_0xafc3ea(0x9b8)],..._0x5516b9[_0xafc3ea(0x462)]});}_0x4e1c00[_0xafc3ea(0x69f)]=(_0x4e1c00[_0xafc3ea(0x69f)]??0x0)+_0x434b99,_0x4e1c00['inputTokens']=(_0x4e1c00[_0xafc3ea(0x1ad)]??0x0)+_0x4ff0f7,_0x56807a[_0xafc3ea(0x7a2)]({'output':_0x574486?'\x0a\x0a':'','type':_0xafc3ea(0xa75)}),await _0x4e41bf[_0xafc3ea(0x28a)](0x1);}else{const _0x8be98=await fetch(_0x4d71fb[_0xafc3ea(0x636)]+_0xafc3ea(0x4c3),{'method':_0xafc3ea(0x66b),'headers':{'Content-Type':_0xafc3ea(0x838),'x-vendor-id':_0x1f8045['vendorId']},'body':JSON[_0xafc3ea(0x712)]({'model':_0x49bd42['modelId'],'messages':_0x43821f,'max_completion_tokens':_0x49bd42[_0xafc3ea(0x9d5)],'temperature':_0x49bd42[_0xafc3ea(0x46e)],'metadata':{'threadId':_0x1f8045[_0xafc3ea(0x5b7)],'agentId':_0x98920d,'jobId':_0x4efb95,'workflowId':_0x1f8045[_0xafc3ea(0x93f)],'context':_0x4e1c00[_0xafc3ea(0x9b8)]??{}},'structured_output':_0x49bd42['grammar'],'tools':_0x47631d})}),_0x2a7d15=await _0x8be98[_0xafc3ea(0x323)]();_0x504694=_0x2a7d15[_0xafc3ea(0xabf)][0x0][_0xafc3ea(0x787)][_0xafc3ea(0x38c)],_0x4ff0f7=_0x2a7d15[_0xafc3ea(0x5ff)][_0xafc3ea(0x946)],_0x434b99=_0x2a7d15['usage'][_0xafc3ea(0x36b)],_0x4e1c00[_0xafc3ea(0xa3d)]=_0x504694,_0x4e1c00[_0xafc3ea(0x9b8)]={..._0x4e1c00[_0xafc3ea(0x9b8)],..._0x2a7d15[_0xafc3ea(0x462)]},_0x4e1c00[_0xafc3ea(0x69f)]=(_0x4e1c00[_0xafc3ea(0x69f)]??0x0)+_0x434b99,_0x4e1c00[_0xafc3ea(0x1ad)]=(_0x4e1c00['inputTokens']??0x0)+_0x4ff0f7;}if(_0x49bd42[_0xafc3ea(0x340)]&&(_0x4e1c00[_0xafc3ea(0x9b8)]||(_0x4e1c00[_0xafc3ea(0x9b8)]={}),_0x4e1c00[_0xafc3ea(0x9b8)][_0x49bd42[_0xafc3ea(0x340)]]=_0x504694),await _0x1a9472[_0xafc3ea(0x817)]({'jobType':_0x1c79aa[_0xafc3ea(0x88d)],'type':_0x4d1f1b[_0xafc3ea(0x8ce)],'jobId':_0x4efb95,'agentId':_0x98920d,'threadId':_0x1f8045[_0xafc3ea(0x5b7)],'traceLevel':_0x26f179['Info'],'startTime':_0x58bf68,'timestamp':Date[_0xafc3ea(0x88b)](),'blockId':_0x49bd42['id'],'status':_0xafc3ea(0x657),'output':_0x504694,'prompt':_0x4cfa4a,'agentName':_0x49bd42[_0xafc3ea(0x7fe)],'history':[],'instructions':''+_0x49bd42['instructions']+(_0x1f8045['instructions']??''),'ragContext':[],'inputTokens':_0x4ff0f7??0x0,'outputTokens':_0x434b99??0x0}),_0xafc3ea(0x503)===_0x49bd42[_0xafc3ea(0x56b)])try{_0x504694=JSON['parse'](_0x504694)['condition_result']?_0xafc3ea(0xa9):_0xafc3ea(0x73d);}catch(_0x1f6618){console[_0xafc3ea(0x2a8)](_0xafc3ea(0x4d2),_0x504694),_0x504694=_0xafc3ea(0x73d);}await _0x514ebf(_0x4efb95,_0x504694,_0x1f8045,_0x4e1c00,_0x49bd42,_0x302e68,_0xbbb995,_0x56807a);}function _0x4c0035(_0x2d1fc0,_0x10d6e5,_0x67f52f){const _0x1929fb=_0x52a325;let _0x5ea347='';return _0x67f52f[_0x1929fb(0xdc)]&&''!==_0x67f52f['knowledgeCutoffDate']&&(_0x5ea347=_0x1929fb(0x3a2)+_0x67f52f[_0x1929fb(0xdc)]+'\x0a\x0a'),_0x5ea347=_0x5ea347+_0x1929fb(0xdd)+new Date()[_0x1929fb(0x4c5)](void 0x0,{'weekday':_0x1929fb(0xa62),'year':_0x1929fb(0x566),'month':'long','day':_0x1929fb(0x566)})+'\x0a\x0a',''+_0x5ea347+_0x10d6e5['instructions']+_0x2d1fc0;}function _0x3d97dc(_0x291c30){const _0x4c088f=_0x52a325;return _0x291c30[_0x4c088f(0x73a)]('\x0a\x0adata:\x20')['map'](_0x35cde1=>_0x35cde1[_0x4c088f(0x13e)]('data:\x20','')['trim']())[_0x4c088f(0x6f8)](_0x54cc60=>''!==_0x54cc60)['map'](_0x2efa39=>{const _0x2bedae=_0x4c088f;if('[DONE]'===_0x2efa39)return null;try{return JSON[_0x2bedae(0x3ab)](_0x2efa39);}catch(_0x55bab9){return console[_0x2bedae(0x2a8)](_0x2bedae(0x43a),_0x2efa39),null;}})[_0x4c088f(0x6f8)](_0x7b54a8=>null!==_0x7b54a8);}async function _0x9049b1(_0x4c23c2,_0x1762c7,_0x550204,_0x6cadaa,_0x3ab1f2,_0x140086,_0x5680fa){const _0x226a8d=_0x52a325,_0x31e8c7=_0x226a8d(0x7a5)+_0x3ab1f2[_0x226a8d(0xa2c)]+'\x20to\x20generate\x20a\x20response.',_0x28160d={'prompt':{'type':_0x5bfdb7[_0x226a8d(0x789)][_0x226a8d(0x8d4)]}};return await _0x1a9472[_0x226a8d(0x817)]({'jobType':_0x1c79aa[_0x226a8d(0x307)],'type':_0x3ababa[_0x226a8d(0x52f)],'jobId':_0x4c23c2,'agentId':_0x1762c7,'threadId':_0x550204[_0x226a8d(0x5b7)],'traceLevel':_0x26f179[_0x226a8d(0x7cb)],'startTime':Date[_0x226a8d(0x88b)](),'timestamp':Date[_0x226a8d(0x88b)](),'status':_0x226a8d(0x657),'function':_0x181dbe['ExecuteAgent'],'params':_0x28160d,'functionDescription':_0x31e8c7}),{'description':_0x31e8c7,'params':_0x28160d,'callback':async _0x1423b4=>_0x21caf4(_0x550204['vendorId'],_0x3ab1f2,_0x140086,_0x1423b4,_0x6cadaa,_0x4c23c2,_0x1762c7,_0x550204[_0x226a8d(0x5b7)],_0x5680fa)};}async function _0x21caf4(_0x1b11a5,_0x20942a,_0x211701,_0x3ef331,_0x410fe2,_0x1b995b,_0x1fea68,_0xa8470b,_0x5e63ff){const _0x558aa4=_0x52a325,_0x226451=Date[_0x558aa4(0x88b)]();try{if('string'!=typeof _0x3ef331?.[_0x558aa4(0xa75)])throw new Error(_0x558aa4(0x359));if(!_0x211701['models'][_0x558aa4(0x7cc)](_0xc902ff=>_0xc902ff['id']===_0x20942a['modelId']))throw new Error(_0x558aa4(0x146));let _0x1c7696='',_0x4cb92d=[];if(_0x20942a[_0x558aa4(0x6f4)]&&_0x4cb92d[_0x558aa4(0x66e)]({'role':_0x558aa4(0x776),'content':_0x20942a['instructions']}),_0x4cb92d[_0x558aa4(0x66e)]({'role':_0x558aa4(0x70c),'content':_0x3ef331['prompt']}),_0x5e63ff&&_0x20942a[_0x558aa4(0x59f)]){const _0x4b8e95=await fetch(_0x4d71fb[_0x558aa4(0x636)]+_0x558aa4(0x4c3),{'method':'POST','headers':{'Accept':'text/event-stream','Content-Type':_0x558aa4(0x838),'x-vendor-id':_0x1b11a5},'body':JSON[_0x558aa4(0x712)]({'model':_0x20942a[_0x558aa4(0x862)],'messages':_0x4cb92d,'max_completion_tokens':_0x20942a['maxTokens'],'temperature':_0x20942a[_0x558aa4(0x46e)],'tools':_0x20942a[_0x558aa4(0xa8f)],'structured_output':_0x20942a['grammar'],'metadata':{'threadId':_0xa8470b,'jobId':_0x1b995b,'agentId':_0x1fea68,'context':_0x410fe2?.[_0x558aa4(0x9b8)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x4b8e95['ok']||!_0x4b8e95['body'])throw new Error(_0x558aa4(0x3c6));const _0x5c4984=_0x4b8e95[_0x558aa4(0xd4)][_0x558aa4(0x922)](),_0x2f7199=new TextDecoder();let _0x2d991b=0x0,_0x593fa5=0x0,_0x1a17b5='';for(;;){const {value:_0x163cde,done:_0x7ceff7}=await _0x5c4984[_0x558aa4(0x408)]();if(_0x7ceff7)break;const _0x32b23f=_0x2f7199[_0x558aa4(0x14b)](_0x163cde,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x32b23f)break;const _0x4ed666=_0x3d97dc(_0x32b23f);for(const _0x3efcd8 of _0x4ed666)_0x3efcd8[_0x558aa4(0xabf)]&&_0x3efcd8[_0x558aa4(0xabf)][0x0]&&(_0x1a17b5+=_0x3efcd8[_0x558aa4(0xabf)][0x0][_0x558aa4(0x7ef)][_0x558aa4(0x38c)],_0x2d991b+=_0x3efcd8[_0x558aa4(0x5ff)]?.['input_tokens']??0x0,_0x593fa5+=_0x3efcd8[_0x558aa4(0x5ff)]?.[_0x558aa4(0xc9)]??0x0,_0x410fe2&&(_0x410fe2['internalContext']={..._0x410fe2[_0x558aa4(0x9b8)],..._0x3efcd8[_0x558aa4(0x462)]}),_0x5e63ff['emit']({'output':_0x3efcd8[_0x558aa4(0xabf)][0x0][_0x558aa4(0x7ef)]['content'],'type':'prompt'}),await _0x4e41bf['wait'](0x1));}_0x410fe2&&(_0x410fe2[_0x558aa4(0x69f)]=(_0x410fe2['outputTokens']??0x0)+_0x593fa5,_0x410fe2[_0x558aa4(0x1ad)]=(_0x410fe2[_0x558aa4(0x1ad)]??0x0)+_0x2d991b,_0x20942a[_0x558aa4(0x340)]&&(_0x410fe2[_0x558aa4(0x9b8)]||(_0x410fe2[_0x558aa4(0x9b8)]={}),_0x410fe2['internalContext'][_0x20942a['contextOutputVariable']]=_0x1a17b5)),_0x5e63ff[_0x558aa4(0x7a2)]({'output':'\x0a\x0a','type':'prompt'}),await _0x4e41bf['wait'](0x1),_0x1c7696=_0x558aa4(0x9a4);}else{const _0x2c5b3f=await fetch(_0x4d71fb['apiUrl']+_0x558aa4(0x4c3),{'method':_0x558aa4(0x66b),'headers':{'Content-Type':'application/json','x-vendor-id':_0x1b11a5},'body':JSON[_0x558aa4(0x712)]({'model':_0x20942a[_0x558aa4(0x862)],'messages':_0x4cb92d,'max_completion_tokens':_0x20942a[_0x558aa4(0x9d5)],'temperature':_0x20942a['temperature'],'tools':_0x20942a[_0x558aa4(0xa8f)],'structured_output':_0x20942a['grammar'],'metadata':{'threadId':_0xa8470b,'jobId':_0x1b995b,'agentId':_0x1fea68,'context':_0x410fe2?.[_0x558aa4(0x9b8)]??{}}})}),_0x599d7b=await _0x2c5b3f[_0x558aa4(0x323)]();_0x1c7696=_0x599d7b[_0x558aa4(0xabf)][0x0][_0x558aa4(0x787)][_0x558aa4(0x38c)],_0x410fe2&&(_0x410fe2[_0x558aa4(0x9b8)]={..._0x410fe2[_0x558aa4(0x9b8)],..._0x599d7b['context']},_0x410fe2['outputTokens']=(_0x410fe2[_0x558aa4(0x69f)]??0x0)+_0x599d7b[_0x558aa4(0x5ff)]['completion_tokens'],_0x410fe2['inputTokens']=(_0x410fe2[_0x558aa4(0x1ad)]??0x0)+_0x599d7b['usage'][_0x558aa4(0x946)],_0x20942a[_0x558aa4(0x340)]&&(_0x410fe2[_0x558aa4(0x9b8)]||(_0x410fe2['internalContext']={}),_0x410fe2[_0x558aa4(0x9b8)][_0x20942a[_0x558aa4(0x340)]]=_0x1c7696));}if(_0x558aa4(0x347)!=typeof _0x1c7696)throw new Error(_0x558aa4(0x9a1));return _0x1b995b&&_0x1fea68&&_0xa8470b&&await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x558aa4(0x140)],'type':_0x181dbe[_0x558aa4(0x496)],'jobId':_0x1b995b,'blockId':_0x558aa4(0x99b),'agentId':_0x1fea68,'threadId':_0xa8470b,'traceLevel':_0x26f179[_0x558aa4(0x7cb)],'startTime':_0x226451,'timestamp':Date[_0x558aa4(0x88b)](),'status':'success','agentName':_0x20942a['name'],'prompt':_0x3ef331[_0x558aa4(0xa75)],'instructions':_0x20942a[_0x558aa4(0x6f4)]??'','result':_0x1c7696,'inputTokens':0x0,'outputTokens':0x0}),_0x1c7696;}catch(_0x898ed9){return console[_0x558aa4(0x2a8)](_0x898ed9),_0x1b995b&&_0x1fea68&&_0xa8470b&&await _0x1a9472[_0x558aa4(0x817)]({'jobType':_0x1c79aa[_0x558aa4(0x140)],'type':_0x181dbe[_0x558aa4(0x496)],'jobId':_0x1b995b,'blockId':_0x558aa4(0x99b),'agentId':_0x1fea68,'threadId':_0xa8470b,'traceLevel':_0x26f179[_0x558aa4(0x7cb)],'startTime':_0x226451,'timestamp':Date[_0x558aa4(0x88b)](),'status':_0x558aa4(0x2a8),'errorDetails':_0x112027(_0x898ed9),'agentName':_0x20942a[_0x558aa4(0x7fe)],'prompt':_0x3ef331?.[_0x558aa4(0xa75)]??'','instructions':_0x20942a[_0x558aa4(0x6f4)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x898ed9 instanceof Error?_0x898ed9[_0x558aa4(0x787)]:_0x558aa4(0x61a);}}async function _0x5ac143(_0x3f6d83,_0x2894af,_0x504c8b,_0x3efd67,_0x523664,_0x3e9c7e){const _0x29575f=_0x52a325,_0x4fdf48=Date[_0x29575f(0x88b)]();try{if(!_0x2894af[_0x29575f(0x187)])throw new Error(_0x29575f(0x22d));if(!_0x3f6d83[_0x29575f(0x862)])throw new Error('Model\x20ID\x20is\x20required');if(_0x29575f(0x347)!=typeof _0x504c8b?.['query'])throw new Error(_0x29575f(0x886));const _0x5e9900=await _0x2894af['aiSearchConnector']['search'](_0x504c8b['query'],_0x3f6d83[_0x29575f(0x862)]);return _0x3efd67&&_0x523664&&_0x3e9c7e&&(await _0x1a9472[_0x29575f(0x365)](_0x3efd67,_0x3f6d83['modelId'],_0x5e9900['inputTokens'],_0x5e9900['outputTokens']),console[_0x29575f(0x109)](new Date()+'\x20Ai\x20search\x20final\x20response',_0x3f6d83[_0x29575f(0x862)],_0x5e9900[_0x29575f(0x1ad)],_0x5e9900['outputTokens']),await _0x1a9472[_0x29575f(0x817)]({'jobType':_0x1c79aa['Skill'],'type':_0x181dbe[_0x29575f(0x8d6)],'jobId':_0x3efd67,'agentId':_0x523664,'threadId':_0x3e9c7e,'blockId':'ai-search','traceLevel':_0x26f179[_0x29575f(0x7cb)],'startTime':_0x4fdf48,'timestamp':Date[_0x29575f(0x88b)](),'status':'success','query':_0x504c8b[_0x29575f(0x204)],'results':_0x5e9900['output']})),_0x5e9900[_0x29575f(0xa3d)];}catch(_0x2a8cde){return console[_0x29575f(0x2a8)](_0x2a8cde),_0x3efd67&&_0x523664&&_0x3e9c7e&&await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x29575f(0x140)],'type':_0x181dbe[_0x29575f(0x8d6)],'jobId':_0x3efd67,'blockId':_0x29575f(0x797),'traceLevel':_0x26f179[_0x29575f(0x7cb)],'startTime':_0x4fdf48,'timestamp':Date[_0x29575f(0x88b)](),'status':_0x29575f(0x2a8),'errorDetails':_0x112027(_0x2a8cde),'agentId':_0x523664,'threadId':_0x3e9c7e,'query':_0x504c8b?.[_0x29575f(0x204)]??'','results':_0x29575f(0x978)}),_0x2a8cde instanceof Error?_0x2a8cde[_0x29575f(0x787)]:_0x29575f(0x978);}}async function _0x836539(_0x27addc,_0x3e3600,_0x731977,_0x4ab469){const _0x36f91b=_0x52a325,_0x72f6b5=Date[_0x36f91b(0x88b)]();try{if(_0x36f91b(0x347)!=typeof _0x27addc?.[_0x36f91b(0x15b)])throw new Error(_0x36f91b(0x6e7));const _0x31a91b=Function(''+_0x27addc?.[_0x36f91b(0x15b)])();let _0x5d247b='';try{_0x5d247b=JSON[_0x36f91b(0x712)](_0x31a91b);}catch{_0x5d247b=_0x31a91b[_0x36f91b(0x84a)]();}return _0x3e3600&&_0x731977&&_0x4ab469&&await _0x1a9472[_0x36f91b(0x817)]({'jobType':_0x1c79aa['Skill'],'type':_0x181dbe[_0x36f91b(0x928)],'agentId':_0x731977,'threadId':_0x4ab469,'jobId':_0x3e3600,'blockId':'code','traceLevel':_0x26f179[_0x36f91b(0x7cb)],'startTime':_0x72f6b5,'timestamp':Date[_0x36f91b(0x88b)](),'status':_0x36f91b(0x657),'code':_0x27addc[_0x36f91b(0x15b)],'result':_0x5d247b}),_0x31a91b;}catch(_0x18b4d2){return console[_0x36f91b(0x2a8)](_0x18b4d2),_0x3e3600&&_0x731977&&_0x4ab469&&await _0x1a9472[_0x36f91b(0x817)]({'jobType':_0x1c79aa[_0x36f91b(0x140)],'type':_0x181dbe['ExecuteCode'],'jobId':_0x3e3600,'blockId':_0x36f91b(0x15b),'traceLevel':_0x26f179[_0x36f91b(0x7cb)],'startTime':_0x72f6b5,'timestamp':Date[_0x36f91b(0x88b)](),'status':'error','errorDetails':_0x112027(_0x18b4d2),'agentId':_0x731977,'threadId':_0x4ab469,'code':_0x27addc?.[_0x36f91b(0x15b)]??'','result':_0x36f91b(0x409)}),_0x18b4d2 instanceof Error?_0x18b4d2[_0x36f91b(0x787)]:'Error\x20executing\x20code';}}async function _0x32b7aa(_0x5a3384,_0x30ec2d,_0x2b486d,_0x3346b0,_0x5b82e1){const _0x5822c8=_0x52a325,_0x25ff96='Search\x20in\x20data\x20collection\x20'+_0x5b82e1[_0x5822c8(0xa2c)]+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.',_0x1a6bee={'queryOrPrompt':{'type':_0x5bfdb7[_0x5822c8(0x789)][_0x5822c8(0x8d4)]}};return await _0x1a9472[_0x5822c8(0x817)]({'jobType':_0x1c79aa['JobContext'],'type':_0x3ababa[_0x5822c8(0x3e1)],'jobId':_0x5a3384,'agentId':_0x30ec2d,'threadId':_0x2b486d[_0x5822c8(0x5b7)],'blockId':_0x5822c8(0x869),'traceLevel':_0x26f179[_0x5822c8(0x7cb)],'startTime':Date[_0x5822c8(0x88b)](),'timestamp':Date[_0x5822c8(0x88b)](),'status':_0x5822c8(0x657),'function':_0x381d77['GetContextQuery'],'params':_0x1a6bee,'functionDescription':_0x25ff96}),{'description':_0x25ff96,'params':_0x1a6bee,'callback':async _0x8960af=>_0x23b83d(_0x2b486d[_0x5822c8(0x793)],_0x5b82e1,_0x8960af,_0x3346b0,_0x5a3384,_0x30ec2d,_0x2b486d[_0x5822c8(0x5b7)])};}async function _0x23b83d(_0x2957a1,_0x5a3566,_0x42f22b,_0x2d6f69,_0x3a29e8,_0x184636,_0x834ba2){const _0x373f7a=_0x52a325,_0x4344fb=Date['now']();try{if(_0x373f7a(0x347)!=typeof _0x42f22b?.[_0x373f7a(0x17d)])throw new Error('Query\x20is\x20required');const _0x40c5fb=await fetch(_0x4d71fb[_0x373f7a(0x636)]+_0x373f7a(0xa98)+_0x5a3566[_0x373f7a(0x247)]+_0x373f7a(0x121),{'method':_0x373f7a(0x66b),'headers':{'Content-Type':_0x373f7a(0x838),'x-vendor-id':_0x2957a1},'body':JSON[_0x373f7a(0x712)]({'query':_0x42f22b['queryOrPrompt']})}),_0x26049d=((await _0x40c5fb[_0x373f7a(0x323)]())[_0x373f7a(0x6f2)]??[])[_0x373f7a(0x943)](_0x132753=>({'pathName':_0x132753['filename'],'relevance':_0x132753[_0x373f7a(0x937)],'content':_0x132753['content'][_0x373f7a(0x4b0)]}));return _0x2d6f69&&(_0x2d6f69['context']=Array[_0x373f7a(0xa3e)](new Set([..._0x2d6f69[_0x373f7a(0x462)]??[],..._0x26049d]))),_0x3a29e8&&_0x184636&&_0x834ba2&&await _0x1a9472[_0x373f7a(0x817)]({'jobType':_0x1c79aa['Knowledge'],'type':_0x381d77[_0x373f7a(0x74a)],'jobId':_0x3a29e8,'blockId':'data-collection','agentId':_0x184636,'threadId':_0x834ba2,'traceLevel':_0x26f179['Info'],'startTime':_0x4344fb,'timestamp':Date[_0x373f7a(0x88b)](),'status':_0x373f7a(0x657),'query':_0x42f22b['queryOrPrompt'],'context':_0x26049d??[],'inputTokens':0x0,'outputTokens':0x0}),_0x26049d[_0x373f7a(0x8b1)]((_0x4fc10b,_0xe02ab4)=>_0x4fc10b+'\x0a'+_0xe02ab4[_0x373f7a(0x38c)],'');}catch(_0x3622a9){return console[_0x373f7a(0x2a8)](_0x3622a9),_0x3a29e8&&_0x184636&&_0x834ba2&&await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x373f7a(0x873)],'type':_0x381d77[_0x373f7a(0x74a)],'jobId':_0x3a29e8,'blockId':'data-collection','agentId':_0x184636,'threadId':_0x834ba2,'traceLevel':_0x26f179[_0x373f7a(0x7cb)],'startTime':_0x4344fb,'timestamp':Date[_0x373f7a(0x88b)](),'status':_0x373f7a(0x2a8),'errorDetails':_0x112027(_0x3622a9),'query':_0x42f22b?.[_0x373f7a(0x17d)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x3622a9 instanceof Error?_0x3622a9[_0x373f7a(0x787)]:_0x373f7a(0x45f);}}async function _0x19d3b9(_0x4fd10b,_0x57c1df,_0x533f62,_0x44ec76,_0x491b8d){const _0x1a0c52=_0x52a325,_0x44c329={};for(const _0x41d71e of _0x491b8d[_0x1a0c52(0xaba)]??[])switch(_0x41d71e[_0x1a0c52(0x983)]){case'string':case _0x1a0c52(0x323):_0x44c329[_0x41d71e[_0x1a0c52(0x7fe)]]={'type':_0x5bfdb7[_0x1a0c52(0x789)]['String']};break;case _0x1a0c52(0x7ff):_0x44c329[_0x41d71e[_0x1a0c52(0x7fe)]]={'type':_0x5bfdb7['PromptFunctionParamsType'][_0x1a0c52(0x32e)]};break;case'boolean':_0x44c329[_0x41d71e[_0x1a0c52(0x7fe)]]={'type':_0x5bfdb7['PromptFunctionParamsType'][_0x1a0c52(0x9d4)]};}return await _0x1a9472[_0x1a0c52(0x817)]({'jobType':_0x1c79aa[_0x1a0c52(0x307)],'type':_0x3ababa[_0x1a0c52(0x52f)],'jobId':_0x4fd10b,'agentId':_0x57c1df,'threadId':_0x533f62,'traceLevel':_0x26f179[_0x1a0c52(0x7cb)],'startTime':Date[_0x1a0c52(0x88b)](),'timestamp':Date[_0x1a0c52(0x88b)](),'status':'success','function':_0x181dbe[_0x1a0c52(0x29f)],'params':_0x44c329,'functionDescription':_0x491b8d[_0x1a0c52(0xa2c)]??''}),{'description':_0x1a0c52(0x12a)+_0x491b8d[_0x1a0c52(0xa2c)],'params':_0x44c329,'callback':async _0x512c56=>_0x20c06b(_0x491b8d,_0x512c56,_0x44ec76,_0x4fd10b,_0x57c1df,_0x533f62)};}async function _0x20c06b(_0x367092,_0x5ed59f,_0x9c5677,_0xddc6f5,_0x391b97,_0x409a20){const _0x23775f=_0x52a325,_0x523568=Date[_0x23775f(0x88b)]();try{if(!_0x5ed59f)throw new Error(_0x23775f(0x539));for(const _0x468682 of _0x367092[_0x23775f(0xaba)]??[]){if(void 0x0===_0x5ed59f[_0x468682['name']])throw new Error(_0x23775f(0x478)+_0x468682['name']+_0x23775f(0x95b));if('string'===_0x468682[_0x23775f(0x983)]&&_0x23775f(0x347)!=typeof _0x5ed59f[_0x468682['name']])throw new Error(_0x23775f(0x478)+_0x468682[_0x23775f(0x7fe)]+_0x23775f(0x21e));if(_0x23775f(0x7ff)===_0x468682[_0x23775f(0x983)]&&'number'!=typeof _0x5ed59f[_0x468682[_0x23775f(0x7fe)]])throw new Error(_0x23775f(0x478)+_0x468682[_0x23775f(0x7fe)]+_0x23775f(0x8e2));if('boolean'===_0x468682['type']&&'boolean'!=typeof _0x5ed59f[_0x468682[_0x23775f(0x7fe)]])throw new Error('Parameter\x20'+_0x468682[_0x23775f(0x7fe)]+'\x20must\x20be\x20a\x20boolean');if('json'===_0x468682['type']&&_0x23775f(0x347)!=typeof _0x5ed59f[_0x468682[_0x23775f(0x7fe)]])throw new Error(_0x23775f(0x478)+_0x468682[_0x23775f(0x7fe)]+_0x23775f(0x21e));if(_0x23775f(0x323)===_0x468682[_0x23775f(0x983)])try{_0x5ed59f[_0x468682['name']]=JSON[_0x23775f(0x3ab)](_0x5ed59f[_0x468682[_0x23775f(0x7fe)]]);}catch{throw new Error(_0x23775f(0x478)+_0x468682[_0x23775f(0x7fe)]+_0x23775f(0x951));}}const _0x41cce1={};for(const _0x1d999b of _0x367092[_0x23775f(0x826)]??[]){let _0x1f44fb=_0x1d999b[_0x23775f(0x320)];_0x1f44fb['match'](/\$[a-zA-Z0-9]+/)&&(_0x1f44fb=_0x1f44fb[_0x23775f(0x13e)](/\$[a-zA-Z0-9]+/g,_0x4d854f=>{const _0x23a9a4=_0x23775f,_0x15ca5a=_0x4d854f[_0x23a9a4(0x71c)](0x1);return _0x5ed59f[_0x15ca5a];})),_0x41cce1[_0x1d999b[_0x23775f(0x7fe)]]=_0x1f44fb;}const _0x4c5e3e=new URLSearchParams();for(const _0x4e4306 of _0x367092['queryParameters']??[]){let _0x3f6519=_0x4e4306[_0x23775f(0x320)];if(_0x23775f(0x347)==typeof _0x3f6519&&_0x3f6519['startsWith']('$')){const _0x709350=_0x3f6519[_0x23775f(0x71c)](0x1);_0x3f6519=_0x5ed59f[_0x709350];}if(_0x23775f(0x347)==typeof _0x3f6519&&_0x3f6519['startsWith']('@context.')){const _0x3711dc=_0x3f6519[_0x23775f(0x13e)](_0x23775f(0x3c7),'');if(_0x3f6519=_0x9c5677?.[_0x23775f(0x9b8)]?.[_0x3711dc],_0x23775f(0x347)==typeof _0x3f6519&&_0x3f6519['startsWith']('{')&&_0x3f6519[_0x23775f(0x490)]('}'))try{_0x3f6519=JSON[_0x23775f(0x3ab)](_0x3f6519);}catch{}}'string'==typeof _0x3f6519&&_0x3f6519[_0x23775f(0x22f)]('[')&&_0x3f6519[_0x23775f(0x490)](']')&&(_0x3f6519=JSON[_0x23775f(0x3ab)](_0x3f6519)),_0x4c5e3e['append'](_0x4e4306['name'],_0x3f6519);}let _0x2e4a62,_0x2068d4=_0x367092[_0x23775f(0x658)]??'';_0x4c5e3e['size']>0x0&&(_0x2068d4+='?'+_0x4c5e3e['toString']());for(const _0x54a009 of _0x367092[_0x23775f(0x541)]??[]){void 0x0===_0x2e4a62&&(_0x2e4a62={});let _0x12c700=_0x54a009[_0x23775f(0x320)];if(_0x23775f(0x347)==typeof _0x12c700&&_0x12c700[_0x23775f(0x22f)]('$')){const _0xb719da=_0x12c700[_0x23775f(0x71c)](0x1);_0x12c700=_0x5ed59f[_0xb719da];}if('string'==typeof _0x12c700&&_0x12c700[_0x23775f(0x22f)](_0x23775f(0x3c7))){const _0x181623=_0x12c700[_0x23775f(0x13e)](_0x23775f(0x3c7),'');if(_0x12c700=_0x9c5677?.[_0x23775f(0x9b8)]?.[_0x181623],_0x23775f(0x347)==typeof _0x12c700&&_0x12c700[_0x23775f(0x22f)]('{')&&_0x12c700[_0x23775f(0x490)]('}'))try{_0x12c700=JSON['parse'](_0x12c700);}catch{}}if('string'==typeof _0x12c700&&_0x12c700[_0x23775f(0x22f)]('[')&&_0x12c700[_0x23775f(0x490)](']')&&(_0x12c700=JSON[_0x23775f(0x3ab)](_0x12c700)),_0x23775f(0x989)===_0x54a009[_0x23775f(0x7fe)]){const _0x15d3c9=_0x12c700[_0x23775f(0x524)](/```html(.*)```/s);_0x15d3c9&&(_0x12c700=_0x15d3c9[0x1]),_0x12c700=_0x12c700[_0x23775f(0x13e)](/\n/g,''),_0x12c700=_0x12c700['replace'](/'/g,'\x22'),_0x2e4a62=_0x12c700;break;}if(-0x1===_0x54a009['name'][_0x23775f(0x3f1)]('.'))_0x2e4a62[_0x54a009[_0x23775f(0x7fe)]]=_0x12c700;else{const [_0x1b517d,_0x159abc]=_0x54a009['name'][_0x23775f(0x73a)]('.');_0x2e4a62[_0x1b517d]||(_0x2e4a62[_0x1b517d]={}),_0x2e4a62[_0x1b517d][_0x159abc]=_0x12c700;}}console[_0x23775f(0x109)](_0x23775f(0x303)+_0x367092['name']+_0x23775f(0x214)+JSON[_0x23775f(0x712)](_0x2e4a62));const _0x23dae9=await fetch(_0x2068d4,{'method':_0x367092['endpointMethod'],'headers':_0x41cce1,'body':void 0x0===_0x2e4a62?void 0x0:_0x23775f(0x347)==typeof _0x2e4a62?_0x2e4a62:JSON['stringify'](_0x2e4a62)});if(_0x23dae9['ok']){let _0x18ade3=await _0x23dae9[_0x23775f(0x323)]();return _0x23775f(0x347)!=typeof _0x18ade3&&(_0x18ade3=JSON[_0x23775f(0x712)](_0x18ade3)),_0xddc6f5&&_0x391b97&&_0x409a20&&await _0x1a9472[_0x23775f(0x817)]({'jobType':_0x1c79aa['Skill'],'type':_0x181dbe[_0x23775f(0x29f)],'jobId':_0xddc6f5,'agentId':_0x391b97,'threadId':_0x409a20,'blockId':_0x23775f(0x655),'traceLevel':_0x26f179[_0x23775f(0x7cb)],'startTime':_0x523568,'timestamp':Date[_0x23775f(0x88b)](),'status':_0x23775f(0x657),'skillName':_0x367092[_0x23775f(0x7fe)],'params':_0x5ed59f,'result':_0x18ade3}),_0x9c5677&&_0x367092[_0x23775f(0x340)]&&''!==_0x367092['contextOutputVariable']&&(_0x9c5677[_0x23775f(0x9b8)]||(_0x9c5677[_0x23775f(0x9b8)]={}),_0x9c5677[_0x23775f(0x9b8)][_0x367092[_0x23775f(0x340)]]=_0x18ade3),_0x18ade3;}throw new Error(_0x23dae9['statusText']);}catch(_0x5cb628){console[_0x23775f(0x2a8)](_0x5cb628);const _0x2e5c19=_0x5cb628 instanceof Error?_0x5cb628[_0x23775f(0x787)]:_0x23775f(0x151);return _0xddc6f5&&_0x391b97&&_0x409a20&&await _0x1a9472[_0x23775f(0x817)]({'jobType':_0x1c79aa[_0x23775f(0x140)],'type':_0x181dbe['ExecuteCustomSkill'],'jobId':_0xddc6f5,'blockId':_0x23775f(0x655),'threadId':_0x409a20,'traceLevel':_0x26f179[_0x23775f(0x7cb)],'startTime':_0x523568,'timestamp':Date[_0x23775f(0x88b)](),'agentId':_0x391b97,'status':'error','skillName':_0x367092[_0x23775f(0x7fe)],'params':_0x5ed59f??{},'result':_0x2e5c19}),_0x2e5c19;}}async function _0x51f787(_0x3e1891,_0x20cc25,_0x50a4ac,_0x5c63cc=!0x0){const _0x3a664e=_0x52a325,_0xc2afe0='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x51e9a9={'url':{'type':_0x5bfdb7[_0x3a664e(0x789)]['String']},'page':{'type':_0x5bfdb7[_0x3a664e(0x789)][_0x3a664e(0x32e)]}};return await _0x1a9472[_0x3a664e(0x817)]({'jobType':_0x1c79aa[_0x3a664e(0x307)],'type':_0x3ababa[_0x3a664e(0x52f)],'jobId':_0x3e1891,'agentId':_0x20cc25,'threadId':_0x50a4ac,'traceLevel':_0x26f179[_0x3a664e(0x7cb)],'startTime':Date[_0x3a664e(0x88b)](),'timestamp':Date['now'](),'status':_0x3a664e(0x657),'function':_0x181dbe[_0x3a664e(0x76b)],'params':_0x51e9a9,'functionDescription':_0xc2afe0}),{'description':_0xc2afe0,'params':_0x51e9a9,'callback':async _0x1163bd=>_0x3a196d(_0x1163bd,_0x5c63cc,_0x3e1891,_0x20cc25,_0x50a4ac)};}async function _0x3a196d(_0x4970a3,_0x2b9447=!0x0,_0xe0e48f,_0x4ec0cb,_0x41274a){const _0x58610a=_0x52a325,_0x51dbf1=Date[_0x58610a(0x88b)]();try{if('string'!=typeof _0x4970a3?.['url'])throw new Error(_0x58610a(0x1d5));const _0x573584=_0x4970a3[_0x58610a(0x1da)];if(['.pdf',_0x58610a(0x889),'.docx',_0x58610a(0x6bf),_0x58610a(0x3f4),_0x58610a(0x4b4),_0x58610a(0x668)][_0x58610a(0x729)](_0x596cac=>_0x573584[_0x58610a(0x490)](_0x596cac)))throw new Error('Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file');const _0x2fc43e=await fetch(_0x573584),_0x1543b6=await _0x2fc43e['text']();let _0x2a1c2d=_0x1543b6;if(_0x2b9447){const _0xff0d20=_0x1543b6['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x1e6fa1=_0xff0d20?_0xff0d20[0x1]:_0x1543b6,_0x52a431=_0x1e6fa1[_0x58610a(0x13e)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x58610a(0x13e)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x58610a(0x13e)](/<br\s*\/?>/gi,'\x20')[_0x58610a(0x13e)](/&nbsp;/g,'\x20');_0x2a1c2d=_0x52a431[_0x58610a(0x13e)](/<\/?[^>]+(>|$)/g,'')[_0x58610a(0x13e)](/\s\s+/g,'\x20')['trim']();}const _0x33cfb5='number'==typeof _0x4970a3[_0x58610a(0x18c)]?_0x4970a3[_0x58610a(0x18c)]:0x1,_0x472d2d=Math[_0x58610a(0x6cc)](_0x2a1c2d['length']/_0x48f34e);return _0x2a1c2d[_0x58610a(0x761)]>_0x48f34e&&(_0x2a1c2d=_0x2a1c2d[_0x58610a(0x371)]((_0x33cfb5-0x1)*_0x48f34e,(_0x33cfb5-0x1)*_0x48f34e+_0x48f34e)+_0x58610a(0x29b)+(_0x33cfb5+0x1)+_0x58610a(0x64f)+_0x472d2d+'.'),_0xe0e48f&&_0x4ec0cb&&_0x41274a&&await _0x1a9472[_0x58610a(0x817)]({'jobType':_0x1c79aa['Skill'],'type':_0x181dbe[_0x58610a(0x76b)],'jobId':_0xe0e48f,'agentId':_0x4ec0cb,'threadId':_0x41274a,'blockId':'fetch-url','traceLevel':_0x26f179[_0x58610a(0x7cb)],'startTime':_0x51dbf1,'timestamp':Date[_0x58610a(0x88b)](),'status':_0x2fc43e['ok']?_0x58610a(0x657):_0x58610a(0x2a8),'url':_0x4970a3['url'],'page':_0x33cfb5,'totalPages':_0x472d2d,'response':_0x2a1c2d}),_0x2a1c2d;}catch(_0x5ab9eb){console[_0x58610a(0x2a8)](_0x5ab9eb);const _0x5fe17a=_0x5ab9eb instanceof Error?_0x5ab9eb[_0x58610a(0x787)]:_0x58610a(0x151);return _0xe0e48f&&_0x4ec0cb&&_0x41274a&&await _0x1a9472[_0x58610a(0x817)]({'jobType':_0x1c79aa[_0x58610a(0x140)],'type':_0x181dbe[_0x58610a(0x76b)],'jobId':_0xe0e48f,'blockId':_0x58610a(0x305),'threadId':_0x41274a,'traceLevel':_0x26f179[_0x58610a(0x7cb)],'startTime':_0x51dbf1,'timestamp':Date['now'](),'agentId':_0x4ec0cb,'status':'error','errorDetails':_0x112027(_0x5ab9eb),'url':_0x4970a3?.[_0x58610a(0x1da)]??'','page':0x0,'totalPages':0x0,'response':_0x5fe17a}),_0x5fe17a;}}async function _0x5b8f67(_0x51d257,_0x523a27,_0x16238a,_0xbfbe23,_0x2ac188){const _0x4c1929=_0x52a325,_0x37a6d5=Date[_0x4c1929(0x88b)]();try{if(!_0x51d257[_0x4c1929(0x59a)])throw new Error(_0x4c1929(0x35e));if('string'!=typeof _0x523a27?.[_0x4c1929(0x204)])throw new Error('Query\x20is\x20required');const _0x459e10=await _0x51d257[_0x4c1929(0x59a)]['search'](_0x523a27[_0x4c1929(0x204)],_0x4d71fb[_0x4c1929(0x3ea)][_0x4c1929(0x83e)]);let _0xe82a5b='';for(const _0x1524f4 of _0x459e10)_0xe82a5b+=_0x1524f4[_0x4c1929(0x487)]+_0x4c1929(0x1b6)+_0x1524f4['url']+'\x0a'+_0x1524f4[_0x4c1929(0x515)]+'\x0a\x0a';return _0x16238a&&_0xbfbe23&&_0x2ac188&&await _0x1a9472[_0x4c1929(0x817)]({'jobType':_0x1c79aa['Skill'],'type':_0x181dbe[_0x4c1929(0x1c7)],'jobId':_0x16238a,'agentId':_0xbfbe23,'threadId':_0x2ac188,'blockId':_0x4c1929(0x62e),'traceLevel':_0x26f179[_0x4c1929(0x7cb)],'startTime':_0x37a6d5,'timestamp':Date['now'](),'status':_0x4c1929(0x657),'query':_0x523a27[_0x4c1929(0x204)],'results':_0xe82a5b}),_0xe82a5b;}catch(_0x35246b){return console[_0x4c1929(0x2a8)](_0x35246b),_0x16238a&&_0xbfbe23&&_0x2ac188&&await _0x1a9472[_0x4c1929(0x817)]({'jobType':_0x1c79aa[_0x4c1929(0x140)],'type':_0x181dbe[_0x4c1929(0x1c7)],'jobId':_0x16238a,'blockId':_0x4c1929(0x62e),'traceLevel':_0x26f179[_0x4c1929(0x7cb)],'startTime':_0x37a6d5,'timestamp':Date[_0x4c1929(0x88b)](),'status':'error','errorDetails':_0x112027(_0x35246b),'agentId':_0xbfbe23,'threadId':_0x2ac188,'query':_0x523a27?.[_0x4c1929(0x204)]??'','results':'Error\x20searching'}),_0x35246b instanceof Error?_0x35246b[_0x4c1929(0x787)]:_0x4c1929(0x978);}}async function _0x238bb8(_0xf75a95,_0x594cf4,_0x2b8a31,_0x5a54e2,_0x5e648b,_0x9592e8){const _0x988a0e=_0x52a325,_0x2ce7c=_0x988a0e(0x392)+_0x5e648b[_0x988a0e(0xa2c)]+'\x20to\x20generate\x20a\x20response.',_0x183e65={'prompt':{'type':_0x5bfdb7[_0x988a0e(0x789)][_0x988a0e(0x8d4)]}};return await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x988a0e(0x307)],'type':_0x3ababa['LoadSkillFunction'],'jobId':_0xf75a95,'agentId':_0x594cf4,'threadId':_0x2b8a31[_0x988a0e(0x5b7)],'traceLevel':_0x26f179[_0x988a0e(0x7cb)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x988a0e(0x657),'function':_0x181dbe[_0x988a0e(0x6e1)],'params':_0x183e65,'functionDescription':_0x2ce7c}),{'description':_0x2ce7c,'params':_0x183e65,'callback':async _0x104dc0=>_0x18de07(_0x2b8a31[_0x988a0e(0x793)],_0x5e648b,_0x104dc0,_0x5a54e2,_0xf75a95,_0x594cf4,_0x2b8a31[_0x988a0e(0x5b7)],_0x9592e8)};}async function _0x18de07(_0x26c6f3,_0x1eafb3,_0x430043,_0x9eab8,_0x20e346,_0x2c819b,_0x27c91a,_0x5858fc){const _0x10168b=_0x52a325,_0x2648ec=Date['now']();try{if(_0x10168b(0x347)!=typeof _0x430043?.['prompt'])throw new Error(_0x10168b(0x359));let _0xae638a='';const _0x5b73c2=_0x1eafb3[_0x10168b(0x3e4)]?.['split'](',')??[];let _0x4eba9d=_0x430043[_0x10168b(0xa75)];for(const _0x173eed of _0x5b73c2){const _0x427e95=_0x9eab8?.[_0x10168b(0x9b8)]?.[_0x173eed];_0x427e95&&(_0x4eba9d='<'+_0x173eed+'>\x0a'+_0x427e95+_0x10168b(0x8e0)+_0x173eed+_0x10168b(0xaab)+_0x4eba9d);}let _0xcee655=[{'role':'user','content':_0x4eba9d}];if(_0x5858fc&&_0x1eafb3[_0x10168b(0x59f)]){const _0x139922=await fetch(_0x4d71fb['apiUrl']+_0x10168b(0x867)+_0x1eafb3[_0x10168b(0x93f)]+'/chat/completions',{'method':_0x10168b(0x66b),'headers':{'Accept':_0x10168b(0xab5),'Content-Type':_0x10168b(0x838),'x-vendor-id':_0x26c6f3},'body':JSON['stringify']({'model':_0x1eafb3[_0x10168b(0x862)],'messages':_0xcee655,'max_completion_tokens':_0x1eafb3[_0x10168b(0x9d5)],'temperature':_0x1eafb3[_0x10168b(0x46e)],'tools':_0x1eafb3[_0x10168b(0xa8f)],'structured_output':_0x1eafb3[_0x10168b(0x56b)],'metadata':{'threadId':_0x27c91a,'jobId':_0x20e346,'agentId':_0x2c819b,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x139922['ok']||!_0x139922['body'])throw new Error(_0x10168b(0x3c6));const _0x50e6d3=_0x139922[_0x10168b(0xd4)][_0x10168b(0x922)](),_0x4e146a=new TextDecoder();let _0x4606c7=0x0,_0x16123f=0x0,_0x5ae8cd='';for(;;){const {value:_0x1e6caa,done:_0x4e9245}=await _0x50e6d3[_0x10168b(0x408)]();if(_0x4e9245)break;const _0x38c55f=_0x4e146a[_0x10168b(0x14b)](_0x1e6caa,{'stream':!0x0});if(_0x10168b(0x841)===_0x38c55f)break;const _0x5dff07=_0x3d97dc(_0x38c55f);for(const _0x56f638 of _0x5dff07)_0x56f638['choices']&&_0x56f638[_0x10168b(0xabf)][0x0]&&(_0x5ae8cd+=_0x56f638[_0x10168b(0xabf)][0x0][_0x10168b(0x7ef)][_0x10168b(0x38c)],_0x4606c7+=_0x56f638[_0x10168b(0x5ff)]?.[_0x10168b(0x8d2)]??0x0,_0x16123f+=_0x56f638[_0x10168b(0x5ff)]?.['output_tokens']??0x0,_0x9eab8&&(_0x9eab8[_0x10168b(0x9b8)]={..._0x9eab8['internalContext'],..._0x56f638['context']}),_0x5858fc['emit']({'output':_0x56f638[_0x10168b(0xabf)][0x0][_0x10168b(0x7ef)]['content'],'type':_0x10168b(0xa75)}),await _0x4e41bf[_0x10168b(0x28a)](0x1));}_0x9eab8&&(_0x9eab8[_0x10168b(0x69f)]=(_0x9eab8[_0x10168b(0x69f)]??0x0)+_0x16123f,_0x9eab8[_0x10168b(0x1ad)]=(_0x9eab8['inputTokens']??0x0)+_0x4606c7,_0x1eafb3[_0x10168b(0x340)]&&(_0x9eab8['internalContext']||(_0x9eab8[_0x10168b(0x9b8)]={}),_0x9eab8['internalContext'][_0x1eafb3['contextOutputVariable']]=_0x5ae8cd)),_0x5858fc['emit']({'output':'\x0a\x0a','type':_0x10168b(0xa75)}),await _0x4e41bf[_0x10168b(0x28a)](0x1),_0xae638a=_0x10168b(0x9a4);}else{const _0x9a94e8=fetch(_0x4d71fb[_0x10168b(0x636)]+_0x10168b(0x867)+_0x1eafb3[_0x10168b(0x93f)]+_0x10168b(0x4c3),{'method':_0x10168b(0x66b),'headers':{'Content-Type':_0x10168b(0x838),'x-vendor-id':_0x26c6f3},'body':JSON['stringify']({'model':_0x1eafb3['modelId'],'messages':_0xcee655,'max_completion_tokens':_0x1eafb3['maxTokens'],'temperature':_0x1eafb3['temperature'],'tools':_0x1eafb3['tools'],'structured_output':_0x1eafb3[_0x10168b(0x56b)],'metadata':{'threadId':_0x27c91a,'jobId':_0x20e346,'agentId':_0x2c819b,'context':{}}})});if(_0x1eafb3[_0x10168b(0xa29)])return _0x10168b(0x9a4);const _0x205d89=await _0x9a94e8,_0x116ba6=await _0x205d89[_0x10168b(0x323)]();_0xae638a=_0x116ba6[_0x10168b(0xabf)][0x0]['message'][_0x10168b(0x38c)],_0x9eab8&&(_0x9eab8[_0x10168b(0x9b8)]={..._0x9eab8[_0x10168b(0x9b8)],..._0x116ba6['context']},_0x9eab8[_0x10168b(0x69f)]=(_0x9eab8[_0x10168b(0x69f)]??0x0)+_0x116ba6[_0x10168b(0x5ff)][_0x10168b(0x36b)],_0x9eab8['inputTokens']=(_0x9eab8[_0x10168b(0x1ad)]??0x0)+_0x116ba6[_0x10168b(0x5ff)][_0x10168b(0x946)],_0x1eafb3['contextOutputVariable']&&(_0x9eab8['internalContext']||(_0x9eab8[_0x10168b(0x9b8)]={}),_0x9eab8['internalContext'][_0x1eafb3['contextOutputVariable']]=_0xae638a));}if(_0x10168b(0x347)!=typeof _0xae638a)throw new Error(_0x10168b(0x7a1));return _0x20e346&&_0x2c819b&&_0x27c91a&&await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x10168b(0x140)],'type':_0x181dbe[_0x10168b(0x6e1)],'jobId':_0x20e346,'blockId':_0x10168b(0xac6),'agentId':_0x2c819b,'threadId':_0x27c91a,'traceLevel':_0x26f179[_0x10168b(0x7cb)],'startTime':_0x2648ec,'timestamp':Date[_0x10168b(0x88b)](),'status':_0x10168b(0x657),'workflowName':_0x1eafb3[_0x10168b(0x7fe)],'prompt':_0x430043[_0x10168b(0xa75)],'result':_0xae638a,'inputTokens':0x0,'outputTokens':0x0}),_0xae638a;}catch(_0x212ae3){if(console[_0x10168b(0x2a8)](_0x212ae3),_0x20e346&&_0x2c819b&&_0x27c91a&&await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x10168b(0x140)],'type':_0x181dbe['ExecuteWorkflow'],'jobId':_0x20e346,'blockId':_0x10168b(0xac6),'agentId':_0x2c819b,'threadId':_0x27c91a,'traceLevel':_0x26f179[_0x10168b(0x7cb)],'startTime':_0x2648ec,'timestamp':Date[_0x10168b(0x88b)](),'status':_0x10168b(0x2a8),'errorDetails':_0x112027(_0x212ae3),'workflowName':_0x1eafb3[_0x10168b(0x7fe)],'prompt':_0x430043?.['prompt']??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x212ae3 instanceof Error)throw _0x212ae3;throw new Error(_0x10168b(0x3b8));}}async function _0x5eecb5(_0x3d49b1,_0x43e5c9,_0x1d81de,_0x388137,_0x673063){const _0xe9aa13=_0x52a325;return await _0x1a9472[_0xe9aa13(0x817)]({'jobType':_0x1c79aa[_0xe9aa13(0x307)],'type':_0x3ababa['LoadSkillFunction'],'jobId':_0x3d49b1,'agentId':_0x43e5c9,'threadId':_0x1d81de,'traceLevel':_0x26f179[_0xe9aa13(0x7cb)],'startTime':Date['now'](),'timestamp':Date[_0xe9aa13(0x88b)](),'status':_0xe9aa13(0x657),'function':_0x181dbe['FormGetQuestion'],'params':{},'functionDescription':_0xe9aa13(0x35b)}),{'description':_0xe9aa13(0x35b),'params':{},'callback':async()=>_0x1c6750(_0x673063,_0x388137,_0x3d49b1,_0x43e5c9,_0x1d81de)};}async function _0x1c6750(_0x567d72,_0xf0e5dd,_0x54f99d,_0x531dfd,_0xecef04){const _0x44f82f=_0x52a325,_0x42ceb3=Date[_0x44f82f(0x88b)]();let _0x18a813=_0x567d72[_0x44f82f(0x7fe)][_0x44f82f(0x13e)](/[^a-zA-Z]/g,'');_0x18a813[_0x44f82f(0x22f)](_0x44f82f(0x4d6))&&(_0x18a813=_0x18a813[_0x44f82f(0x13e)](_0x44f82f(0x4d6),''));const _0x4c3b1a='question-'+_0x18a813;let _0x486427=0x0;_0xf0e5dd&&(_0x486427=parseInt(_0xf0e5dd[_0x44f82f(0x9b8)]?.[_0x4c3b1a]??'0'));const _0x1478e6=_0x567d72[_0x44f82f(0x55d)]||[];if(_0x486427>=_0x1478e6[_0x44f82f(0x761)])return JSON['stringify']({'error':_0x44f82f(0x5a8)});const _0x14e38c=_0x1478e6[_0x486427];return _0x54f99d&&_0x531dfd&&_0xecef04&&await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x44f82f(0x140)],'type':_0x181dbe[_0x44f82f(0x1bb)],'jobId':_0x54f99d,'agentId':_0x531dfd,'threadId':_0xecef04,'blockId':_0x44f82f(0x5b0),'traceLevel':_0x26f179[_0x44f82f(0x7cb)],'startTime':_0x42ceb3,'timestamp':Date[_0x44f82f(0x88b)](),'status':'success','question':_0x14e38c['question'],'currentQuestionIndex':_0x486427,'questions':_0x1478e6[_0x44f82f(0x943)](_0x2ed9eb=>_0x2ed9eb[_0x44f82f(0x2d3)])}),JSON[_0x44f82f(0x712)]({'id':_0x14e38c['id'],'question':_0x14e38c[_0x44f82f(0x2d3)],'validation':_0x14e38c[_0x44f82f(0x3ac)],'required':_0x14e38c[_0x44f82f(0x201)],'format':_0x14e38c[_0x44f82f(0x5dd)],'action':_0x44f82f(0x125)});}async function _0x1998e3(_0x58a4e3,_0x230c77,_0x4847da,_0x2e575f,_0x3b811a){const _0x1abf62=_0x52a325;return await _0x1a9472[_0x1abf62(0x817)]({'jobType':_0x1c79aa[_0x1abf62(0x307)],'type':_0x3ababa['LoadSkillFunction'],'jobId':_0x58a4e3,'agentId':_0x230c77,'threadId':_0x4847da,'traceLevel':_0x26f179[_0x1abf62(0x7cb)],'startTime':Date[_0x1abf62(0x88b)](),'timestamp':Date[_0x1abf62(0x88b)](),'status':_0x1abf62(0x657),'function':_0x181dbe[_0x1abf62(0x71f)],'params':{},'functionDescription':_0x1abf62(0x687)}),{'description':_0x1abf62(0x687),'params':{'id':{'type':_0x5bfdb7[_0x1abf62(0x789)][_0x1abf62(0x8d4)]},'answer':{'type':_0x5bfdb7['PromptFunctionParamsType']['String']}},'callback':async _0x3d5548=>_0x5dceeb(_0x3b811a,_0x3d5548,_0x2e575f,_0x58a4e3,_0x230c77,_0x4847da)};}async function _0x5dceeb(_0x2b3e27,_0x4e5a09,_0xf66bc2,_0x32a222,_0xfe866c,_0xca4f20){const _0x2405ce=_0x52a325,_0x4d4a5c=Date[_0x2405ce(0x88b)]();let _0x562936=_0x2b3e27[_0x2405ce(0x7fe)]['replace'](/[^a-zA-Z]/g,'');_0x562936[_0x2405ce(0x22f)](_0x2405ce(0x9cd))&&(_0x562936=_0x562936['replace'](_0x2405ce(0x9cd),''));const _0x2786ef=_0x2405ce(0x543)+_0x562936,_0x2c5ed2=_0x2b3e27[_0x2405ce(0x55d)]||[];let _0xcba500=0x0;if(_0xf66bc2&&(_0xcba500=parseInt(_0xf66bc2[_0x2405ce(0x9b8)]?.[_0x2786ef]??'0')),!_0x4e5a09?.['id']||_0x2405ce(0x347)!=typeof _0x4e5a09['id'])return JSON[_0x2405ce(0x712)]({'error':'Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id'});const _0x37cc3a=_0x2c5ed2[_0x2405ce(0x7cc)](_0x1fb5fa=>_0x1fb5fa['id']===_0x4e5a09['id']);if(!_0x37cc3a)return JSON[_0x2405ce(0x712)]({'error':_0x2405ce(0x90c)});if(!_0x4e5a09?.[_0x2405ce(0x7b2)]||_0x2405ce(0x347)!=typeof _0x4e5a09['answer'])return JSON[_0x2405ce(0x712)]({'error':_0x2405ce(0xa6b)});if(_0xf66bc2){_0xf66bc2['internalContext']||(_0xf66bc2[_0x2405ce(0x9b8)]={});const _0x48e930=_0x2405ce(0x54d)+_0x562936,_0x2cfd6b=_0x48e930+'-'+_0x4e5a09['id'];_0xf66bc2[_0x2405ce(0x9b8)][_0x2cfd6b]=_0x4e5a09[_0x2405ce(0x7b2)];let _0xfdc1c3=!0x1;for(let _0x42e808=0x0;_0x42e808<_0x2c5ed2[_0x2405ce(0x761)];_0x42e808++){const _0x3f127d=_0xf66bc2[_0x2405ce(0x9b8)]?.[_0x48e930+'-'+_0x2c5ed2[_0x42e808]['id']];if(_0x42e808!==_0xcba500&&!_0x3f127d){_0xcba500=_0x42e808,_0xfdc1c3=!0x0;break;}}_0xfdc1c3||_0xcba500++,_0xf66bc2[_0x2405ce(0x9b8)][_0x2786ef]=_0xcba500['toString']();}return _0x32a222&&_0xfe866c&&_0xca4f20&&await _0x1a9472[_0x2405ce(0x817)]({'jobType':_0x1c79aa[_0x2405ce(0x140)],'type':_0x181dbe[_0x2405ce(0x71f)],'jobId':_0x32a222,'agentId':_0xfe866c,'threadId':_0xca4f20,'blockId':_0x2405ce(0xa5c),'traceLevel':_0x26f179[_0x2405ce(0x7cb)],'startTime':_0x4d4a5c,'timestamp':Date['now'](),'status':'success','question':_0x37cc3a['question'],'answer':_0x4e5a09[_0x2405ce(0x7b2)],'currentQuestionIndex':_0xcba500,'questions':_0x2c5ed2['map'](_0xe77e6a=>_0xe77e6a[_0x2405ce(0x2d3)])}),JSON['stringify']({'success':'Call\x20getQuestion\x20to\x20get\x20the\x20next\x20question'});}async function _0x531399(_0x30664c,_0x3dde20,_0x5f1884,_0x36a479,_0x2ab0c7){const _0x47638b=_0x52a325,_0x59a6d6=_0x47638b(0x7b9);return await _0x1a9472[_0x47638b(0x817)]({'jobType':_0x1c79aa[_0x47638b(0x307)],'type':_0x3ababa[_0x47638b(0x52f)],'jobId':_0x30664c,'agentId':_0x3dde20,'threadId':_0x5f1884,'traceLevel':_0x26f179['Info'],'startTime':Date[_0x47638b(0x88b)](),'timestamp':Date[_0x47638b(0x88b)](),'status':_0x47638b(0x657),'function':_0x181dbe['FormSubmitForm'],'params':{},'functionDescription':_0x59a6d6}),{'description':_0x59a6d6,'params':{},'callback':async()=>_0x4c1d94(_0x2ab0c7,_0x36a479,_0x30664c,_0x3dde20,_0x5f1884)};}async function _0x4c1d94(_0x1d221e,_0x94624a,_0x5ef21e,_0x144e27,_0x4ba40a){const _0x3e01e4=_0x52a325;let _0x406c8d=_0x1d221e[_0x3e01e4(0x7fe)][_0x3e01e4(0x13e)](/[^a-zA-Z]/g,'');_0x406c8d[_0x3e01e4(0x22f)](_0x3e01e4(0x8a1))&&(_0x406c8d=_0x406c8d[_0x3e01e4(0x13e)](_0x3e01e4(0x8a1),''));const _0x4534ae=_0x1d221e[_0x3e01e4(0x55d)]||[],_0x2f523d={};if(!_0x94624a)return JSON['stringify']({'error':'Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first'});for(let _0x4b285f=0x0;_0x4b285f<_0x4534ae['length'];_0x4b285f++){const _0x2e394d=_0x94624a[_0x3e01e4(0x9b8)]?.[_0x3e01e4(0x54d)+_0x406c8d+'-'+_0x4534ae[_0x4b285f]['id']];if(_0x4534ae[_0x4b285f][_0x3e01e4(0x201)]&&!_0x2e394d)return JSON[_0x3e01e4(0x712)]({'error':_0x3e01e4(0xa42)});_0x2f523d[_0x4534ae[_0x4b285f]['id']]=_0x2e394d;}return _0x94624a&&_0x1d221e[_0x3e01e4(0x340)]&&(_0x94624a[_0x3e01e4(0x9b8)]||(_0x94624a[_0x3e01e4(0x9b8)]={}),_0x94624a[_0x3e01e4(0x9b8)][_0x1d221e[_0x3e01e4(0x340)]]=JSON[_0x3e01e4(0x712)](_0x2f523d)),_0x5ef21e&&_0x144e27&&_0x4ba40a&&await _0x1a9472[_0x3e01e4(0x817)]({'jobType':_0x1c79aa[_0x3e01e4(0x140)],'type':_0x181dbe[_0x3e01e4(0x3e5)],'jobId':_0x5ef21e,'agentId':_0x144e27,'threadId':_0x4ba40a,'blockId':_0x3e01e4(0x879),'traceLevel':_0x26f179['Info'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x3e01e4(0x657),'answers':_0x2f523d}),JSON[_0x3e01e4(0x712)]({'success':!0x0});}async function _0x406e1d(_0x56b1aa,_0xef71e0,_0x4af1af,_0x51f808,_0x201972,_0x15e8d0,_0x624ca2){const _0x3bc721=_0x52a325,_0x117210=new Map();for(const _0x5cf7db of _0x201972)_0x5cf7db['type']===_0x5bfdb7[_0x3bc721(0x433)][_0x3bc721(0x873)]||_0x5cf7db[_0x3bc721(0x983)]===_0x5bfdb7[_0x3bc721(0x433)][_0x3bc721(0x336)]?_0x117210[_0x3bc721(0x23c)]('searchInDataCollection'+_0x5cf7db[_0x3bc721(0x7fe)]['replace'](/[^a-zA-Z]/g,''),await _0x32b7aa(_0x56b1aa,_0xef71e0,_0x4af1af,_0x51f808,_0x5cf7db)):_0x5cf7db[_0x3bc721(0x983)]===_0x5bfdb7[_0x3bc721(0x433)]['AgentSkill']||_0x5cf7db[_0x3bc721(0x983)]===_0x5bfdb7['GenerativeAIInferenceToolType'][_0x3bc721(0x1f4)]?_0x117210[_0x3bc721(0x23c)](_0x3bc721(0x667)+_0x5cf7db[_0x3bc721(0x7fe)][_0x3bc721(0x13e)](/[^a-zA-Z]/g,''),await _0x9049b1(_0x56b1aa,_0xef71e0,_0x4af1af,_0x51f808,_0x5cf7db,_0x15e8d0,_0x624ca2)):_0x5cf7db['type']===_0x5bfdb7[_0x3bc721(0x433)][_0x3bc721(0xea)]?_0x117210[_0x3bc721(0x23c)](_0x3bc721(0x5ce)+_0x5cf7db[_0x3bc721(0x7fe)][_0x3bc721(0x13e)](/[^a-zA-Z]/g,''),await _0x238bb8(_0x56b1aa,_0xef71e0,_0x4af1af,_0x51f808,_0x5cf7db,_0x624ca2)):_0x5cf7db[_0x3bc721(0x983)]===_0x5bfdb7[_0x3bc721(0x433)]['CustomSkill']?_0x117210[_0x3bc721(0x23c)](_0x5cf7db['name']['replace'](/[^a-zA-Z]/g,''),await _0x19d3b9(_0x56b1aa,_0xef71e0,_0x4af1af['threadId'],_0x51f808,_0x5cf7db)):_0x5cf7db[_0x3bc721(0x983)]===_0x5bfdb7[_0x3bc721(0x433)][_0x3bc721(0x405)]?_0x117210[_0x3bc721(0x23c)](_0x3bc721(0x4d6)+_0x5cf7db[_0x3bc721(0x7fe)][_0x3bc721(0x13e)](/[^a-zA-Z]/g,''),await _0x5eecb5(_0x56b1aa,_0xef71e0,_0x4af1af[_0x3bc721(0x5b7)],_0x51f808,_0x5cf7db)):_0x5cf7db['type']===_0x5bfdb7[_0x3bc721(0x433)][_0x3bc721(0x8c8)]?_0x117210[_0x3bc721(0x23c)](_0x3bc721(0x9cd)+_0x5cf7db[_0x3bc721(0x7fe)][_0x3bc721(0x13e)](/[^a-zA-Z]/g,''),await _0x1998e3(_0x56b1aa,_0xef71e0,_0x4af1af[_0x3bc721(0x5b7)],_0x51f808,_0x5cf7db)):_0x5cf7db['type']===_0x5bfdb7[_0x3bc721(0x433)][_0x3bc721(0x270)]?_0x117210[_0x3bc721(0x23c)](_0x3bc721(0x8a1)+_0x5cf7db['name'][_0x3bc721(0x13e)](/[^a-zA-Z]/g,''),await _0x531399(_0x56b1aa,_0xef71e0,_0x4af1af[_0x3bc721(0x5b7)],_0x51f808,_0x5cf7db)):_0x117210[_0x3bc721(0x23c)](_0x208940(_0x5cf7db),await _0x2cb5b5(_0x56b1aa,_0xef71e0,_0x4af1af,_0x51f808,_0x5cf7db,_0x15e8d0));return _0x117210;}function _0x208940(_0x5aa57f){const _0x2dfa88=_0x52a325;switch(_0x5aa57f[_0x2dfa88(0x983)]){case _0x5bfdb7[_0x2dfa88(0x433)][_0x2dfa88(0x632)]:return'searchOnPerplexity';case _0x5bfdb7[_0x2dfa88(0x433)][_0x2dfa88(0x308)]:return'executeJavascriptCodeSnippet';case _0x5bfdb7[_0x2dfa88(0x433)]['QueryFile']:return _0x2dfa88(0x69e);case _0x5bfdb7[_0x2dfa88(0x433)]['Search']:return'searchOnGoogle';case _0x5bfdb7['GenerativeAIInferenceToolType']['WebScraper']:case _0x5bfdb7[_0x2dfa88(0x433)][_0x2dfa88(0x1ea)]:return _0x2dfa88(0x251);case _0x5bfdb7[_0x2dfa88(0x433)][_0x2dfa88(0x4d3)]:return'writeFile';}throw new Error(_0x2dfa88(0x1ae));}async function _0x2cb5b5(_0x3800eb,_0x2ffe77,_0x438fc6,_0x389111,_0x4663be,_0xdf9c84){const _0x9d2ed2=_0x52a325;switch(_0x4663be['type']){case _0x5bfdb7[_0x9d2ed2(0x433)][_0x9d2ed2(0x632)]:return async function(_0x239106,_0x35d104,_0x3cb481,_0x2836b4,_0x1cf0b3){const _0xf64f91=_0x9d2ed2,_0x5ac39f=_0xf64f91(0xac5),_0x69ae48={'query':{'type':_0x5bfdb7[_0xf64f91(0x789)][_0xf64f91(0x8d4)]}};await _0x1a9472[_0xf64f91(0x817)]({'jobType':_0x1c79aa[_0xf64f91(0x307)],'type':_0x3ababa[_0xf64f91(0x52f)],'jobId':_0x239106,'agentId':_0x35d104,'threadId':_0x3cb481[_0xf64f91(0x5b7)],'traceLevel':_0x26f179[_0xf64f91(0x7cb)],'startTime':Date[_0xf64f91(0x88b)](),'timestamp':Date[_0xf64f91(0x88b)](),'status':'success','function':_0x181dbe[_0xf64f91(0x8d6)],'params':_0x69ae48,'functionDescription':_0x5ac39f});const _0x26acec=_0x3cb481[_0xf64f91(0x793)],_0x5f5903=(await(0x0,_0x51a03b[_0xf64f91(0x3cb)])((0x0,_0x51a03b[_0xf64f91(0x5a5)])(_0x36dffc[_0xf64f91(0x757)](),_0xf64f91(0x170),_0x26acec)))[_0xf64f91(0x6f2)]();return _0x5f5903&&_0x5f5903[_0xf64f91(0xa85)]||(console['log'](new Date()+_0xf64f91(0x2c3),_0x2836b4[_0xf64f91(0x862)],_0x59390e[_0xf64f91(0x627)](_0x2836b4['modelId'])['fallbackModel']),_0x2836b4[_0xf64f91(0x862)]=_0x59390e[_0xf64f91(0x627)](_0x2836b4[_0xf64f91(0x862)])[_0xf64f91(0x4cb)]),{'description':_0x5ac39f,'params':_0x69ae48,'callback':async _0x45371f=>_0x5ac143(_0x2836b4,_0x1cf0b3,_0x45371f,_0x239106,_0x35d104,_0x3cb481['threadId'])};}(_0x3800eb,_0x2ffe77,_0x438fc6,_0x4663be,_0xdf9c84);case _0x5bfdb7['GenerativeAIInferenceToolType'][_0x9d2ed2(0x308)]:return async function(_0x2e2f45,_0x473538,_0x3a7901){const _0x51fde8=_0x9d2ed2,_0x5e8011='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x5e1b4e={'code':{'type':_0x5bfdb7['PromptFunctionParamsType'][_0x51fde8(0x8d4)]}};return await _0x1a9472[_0x51fde8(0x817)]({'jobType':_0x1c79aa['JobContext'],'type':_0x3ababa[_0x51fde8(0x52f)],'jobId':_0x2e2f45,'agentId':_0x473538,'threadId':_0x3a7901,'traceLevel':_0x26f179[_0x51fde8(0x7cb)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x51fde8(0x657),'function':_0x181dbe['ExecuteCode'],'params':_0x5e1b4e,'functionDescription':_0x5e8011}),{'description':_0x5e8011,'params':_0x5e1b4e,'callback':async _0x5a29d1=>_0x836539(_0x5a29d1,_0x2e2f45,_0x473538,_0x3a7901)};}(_0x3800eb,_0x2ffe77,_0x438fc6[_0x9d2ed2(0x5b7)]);case _0x5bfdb7[_0x9d2ed2(0x433)][_0x9d2ed2(0x15a)]:return async function(_0x179ca3,_0x55f6df,_0xed8594,_0x4dafe3,_0x6adc4e){const _0x1856ad=_0x9d2ed2,_0x491200=[',',';','\x09','|',':'],_0x1245e3=['\x22','\x27'];let _0x11a6b9='';if(_0x1856ad(0x481)===_0x4dafe3[_0x1856ad(0x9b8)]?.['file.type']&&_0x4dafe3[_0x1856ad(0x9b8)]?.[_0x1856ad(0x92a)]&&(_0x11a6b9=_0x4dafe3[_0x1856ad(0x9b8)][_0x1856ad(0x92a)]),''===_0x11a6b9)throw new Error(_0x1856ad(0xec));const _0x31def6=_0x11a6b9[_0x1856ad(0x73a)]('\x0a')[0x0];let _0x365dbd=null,_0x556186=null,_0x243d5b=0x0;for(const _0x574ffc of _0x491200){const _0xa90415=(_0x31def6[_0x1856ad(0x524)](new RegExp('\x5c'+_0x574ffc,'g'))||[])[_0x1856ad(0x761)];_0xa90415>_0x243d5b&&(_0x243d5b=_0xa90415,_0x365dbd=_0x574ffc);}_0x365dbd||(_0x365dbd=','),_0x243d5b=0x0;for(const _0x56168f of _0x1245e3){const _0x431a27=(_0x31def6[_0x1856ad(0x524)](new RegExp('\x5c'+_0x56168f,'g'))||[])[_0x1856ad(0x761)];_0x431a27>_0x243d5b&&(_0x243d5b=_0x431a27,_0x556186=_0x56168f);}_0x556186||(_0x556186='\x22');const _0x59de13='Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20'+_0x31def6[_0x1856ad(0x73a)](_0x365dbd)[_0x1856ad(0x141)](',\x20'),_0x1382ce={'query':{'type':_0x5bfdb7['PromptFunctionParamsType'][_0x1856ad(0x8d4)]}};return await _0x1a9472[_0x1856ad(0x817)]({'jobType':_0x1c79aa[_0x1856ad(0x307)],'type':_0x3ababa[_0x1856ad(0x52f)],'jobId':_0x179ca3,'agentId':_0x55f6df,'threadId':_0xed8594,'traceLevel':_0x26f179[_0x1856ad(0x7cb)],'startTime':Date[_0x1856ad(0x88b)](),'timestamp':Date[_0x1856ad(0x88b)](),'status':'success','function':_0x181dbe['QueryFile'],'params':_0x1382ce,'functionDescription':_0x59de13}),{'description':_0x59de13,'params':_0x1382ce,'callback':async _0x3260c7=>{const _0x18425d=_0x1856ad,_0x373a5d=Date[_0x18425d(0x88b)]();try{if(!_0x6adc4e[_0x18425d(0x39f)])throw new Error(_0x18425d(0x3b7));if(_0x18425d(0x347)!=typeof _0x3260c7?.[_0x18425d(0x204)])throw new Error('Query\x20is\x20required');if(!_0x3260c7[_0x18425d(0x204)][_0x18425d(0x8cd)](_0x18425d(0x3d7)))throw new Error(_0x18425d(0xca));const _0x1b8154=await _0x6adc4e[_0x18425d(0x39f)][_0x18425d(0x640)](_0x11a6b9,_0x3260c7[_0x18425d(0x204)],{'headers':!0x0,'quote':_0x556186,'separator':_0x365dbd});await _0x1a9472['trace']({'jobType':_0x1c79aa['Skill'],'type':_0x181dbe[_0x18425d(0x15a)],'jobId':_0x179ca3,'agentId':_0x55f6df,'threadId':_0xed8594,'blockId':_0x18425d(0x6f9),'traceLevel':_0x26f179[_0x18425d(0x7cb)],'startTime':_0x373a5d,'timestamp':Date[_0x18425d(0x88b)](),'status':_0x18425d(0x657),'query':_0x3260c7[_0x18425d(0x204)],'results':_0x1b8154[_0x18425d(0x371)](0x0,0x3e8)});const _0x34d1ee=JSON['parse'](_0x1b8154);let _0x32241='';if(_0x34d1ee[_0x18425d(0x761)]>0x0){const _0x3e47b4=Object[_0x18425d(0x5a9)](_0x34d1ee[0x0]);_0x32241=_0x3e47b4['map'](_0x435af1=>'\x22'+_0x435af1+'\x22')['join'](',')+'\x0a';for(const _0x38eb36 of _0x34d1ee)_0x32241+=_0x3e47b4['map'](_0x200ec1=>'\x22'+_0x38eb36[_0x200ec1]+'\x22')['join'](',')+'\x0a';}return _0x4dafe3[_0x18425d(0x9b8)]||(_0x4dafe3[_0x18425d(0x9b8)]={}),_0x4dafe3[_0x18425d(0x9b8)][_0x18425d(0x92a)]=_0x32241,_0x4dafe3[_0x18425d(0x9b8)][_0x18425d(0x4a9)]='text/csv',_0x1b8154[_0x18425d(0x371)](0x0,0x3e8);}catch(_0x36de86){return console[_0x18425d(0x2a8)](_0x36de86),await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x18425d(0x140)],'type':_0x181dbe[_0x18425d(0x15a)],'jobId':_0x179ca3,'blockId':_0x18425d(0x6f9),'traceLevel':_0x26f179[_0x18425d(0x7cb)],'startTime':_0x373a5d,'timestamp':Date[_0x18425d(0x88b)](),'status':_0x18425d(0x2a8),'errorDetails':_0x112027(_0x36de86),'agentId':_0x55f6df,'threadId':_0xed8594,'query':_0x3260c7?.[_0x18425d(0x204)]??'','results':_0x18425d(0x978)}),_0x36de86 instanceof Error?_0x36de86['message']:_0x18425d(0xa00);}}};}(_0x3800eb,_0x2ffe77,_0x438fc6['threadId'],_0x389111,_0xdf9c84);case _0x5bfdb7['GenerativeAIInferenceToolType'][_0x9d2ed2(0x947)]:return async function(_0x4a4c35,_0x24bf65,_0x28b2e1,_0x56d469){const _0x3ebea2=_0x9d2ed2,_0xaa335='Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x258bf5={'query':{'type':_0x5bfdb7[_0x3ebea2(0x789)]['String']}};return await _0x1a9472[_0x3ebea2(0x817)]({'jobType':_0x1c79aa[_0x3ebea2(0x307)],'type':_0x3ababa['LoadSkillFunction'],'jobId':_0x4a4c35,'agentId':_0x24bf65,'threadId':_0x28b2e1,'traceLevel':_0x26f179[_0x3ebea2(0x7cb)],'startTime':Date[_0x3ebea2(0x88b)](),'timestamp':Date[_0x3ebea2(0x88b)](),'status':_0x3ebea2(0x657),'function':_0x181dbe[_0x3ebea2(0x1c7)],'params':_0x258bf5,'functionDescription':_0xaa335}),{'description':_0xaa335,'params':_0x258bf5,'callback':async _0x487da1=>_0x5b8f67(_0x56d469,_0x487da1,_0x4a4c35,_0x24bf65,_0x28b2e1)};}(_0x3800eb,_0x2ffe77,_0x438fc6[_0x9d2ed2(0x5b7)],_0xdf9c84);case _0x5bfdb7[_0x9d2ed2(0x433)][_0x9d2ed2(0x6fa)]:return _0x51f787(_0x3800eb,_0x2ffe77,_0x438fc6[_0x9d2ed2(0x5b7)]);case _0x5bfdb7[_0x9d2ed2(0x433)]['WebScraperRaw']:return _0x51f787(_0x3800eb,_0x2ffe77,_0x438fc6['threadId'],!0x1);case _0x5bfdb7['GenerativeAIInferenceToolType'][_0x9d2ed2(0x4d3)]:return async function(_0x4f3fd6,_0x51cd90,_0x75afaa,_0x46a8ab){const _0x2ce04e=_0x9d2ed2,_0x492d1d=_0x2ce04e(0x1a1),_0x1d1926={'text':{'type':_0x5bfdb7[_0x2ce04e(0x789)][_0x2ce04e(0x8d4)]}};return await _0x1a9472['trace']({'jobType':_0x1c79aa['JobContext'],'type':_0x3ababa[_0x2ce04e(0x52f)],'jobId':_0x4f3fd6,'agentId':_0x51cd90,'threadId':_0x75afaa,'traceLevel':_0x26f179[_0x2ce04e(0x7cb)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x2ce04e(0x657),'function':_0x181dbe[_0x2ce04e(0x4d3)],'params':_0x1d1926,'functionDescription':_0x492d1d}),{'description':_0x492d1d,'params':_0x1d1926,'callback':async _0x115944=>{const _0x3d7d11=_0x2ce04e,_0x4b2a40=Date[_0x3d7d11(0x88b)]();try{if(_0x3d7d11(0x347)!=typeof _0x115944?.[_0x3d7d11(0x4b0)])throw new Error(_0x3d7d11(0x1e7));return await _0x1a9472[_0x3d7d11(0x817)]({'jobType':_0x1c79aa[_0x3d7d11(0x140)],'type':_0x181dbe[_0x3d7d11(0x4d3)],'jobId':_0x4f3fd6,'agentId':_0x51cd90,'threadId':_0x75afaa,'blockId':'write-file','traceLevel':_0x26f179[_0x3d7d11(0x7cb)],'startTime':_0x4b2a40,'timestamp':Date['now'](),'status':_0x3d7d11(0x657),'content':_0x115944[_0x3d7d11(0x4b0)]}),_0x46a8ab[_0x3d7d11(0x9b8)]||(_0x46a8ab[_0x3d7d11(0x9b8)]={}),_0x46a8ab[_0x3d7d11(0x9b8)][_0x3d7d11(0x92a)]=_0x115944[_0x3d7d11(0x4b0)],_0x46a8ab[_0x3d7d11(0x9b8)][_0x3d7d11(0x4a9)]='text/plain',_0x3d7d11(0x2eb);}catch(_0x14d8e8){return console['error'](_0x14d8e8),await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x3d7d11(0x140)],'type':_0x181dbe[_0x3d7d11(0x4d3)],'jobId':_0x4f3fd6,'blockId':_0x3d7d11(0x5ef),'traceLevel':_0x26f179[_0x3d7d11(0x7cb)],'startTime':_0x4b2a40,'timestamp':Date[_0x3d7d11(0x88b)](),'status':_0x3d7d11(0x2a8),'errorDetails':_0x112027(_0x14d8e8),'agentId':_0x51cd90,'threadId':_0x75afaa,'content':_0x3d7d11(0x347)==typeof _0x115944?.[_0x3d7d11(0x4b0)]?_0x115944[_0x3d7d11(0x4b0)]:''}),_0x14d8e8 instanceof Error?_0x14d8e8[_0x3d7d11(0x787)]:'Error\x20writing\x20file';}}};}(_0x3800eb,_0x2ffe77,_0x438fc6[_0x9d2ed2(0x5b7)],_0x389111);}throw new Error(_0x9d2ed2(0x1ae));}function _0x112027(_0x148171){const _0x328626=_0x52a325;try{return JSON[_0x328626(0x712)](_0x148171);}catch(_0x4e3b99){return _0x148171 instanceof Error?_0x148171[_0x328626(0x84a)]():_0x328626(0x8f3);}}async function _0x1c6044(_0x4ef43f,_0x14d1da,_0xcdc5e8){const _0x4d4bce=_0x52a325,_0x141436=_0x14d1da[_0x4d4bce(0x6f1)]??(0x0,_0x529b6e['v4'])(),_0x22599d={'type':_0x4d4bce(0xa75),'context':[],'internalContext':_0x14d1da[_0x4d4bce(0x9b8)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x3a1346=_0x14d1da[_0x4d4bce(0x793)],_0x337747=(await(0x0,_0x51a03b[_0x4d4bce(0x3cb)])((0x0,_0x51a03b[_0x4d4bce(0x5a5)])(_0x36dffc['getFirestore'](),_0x4d4bce(0x170),_0x3a1346)))[_0x4d4bce(0x6f2)]();_0x337747&&_0x337747[_0x4d4bce(0xa85)]||(console['log'](new Date()+_0x4d4bce(0x2c3),_0x14d1da[_0x4d4bce(0x427)],_0x59390e[_0x4d4bce(0x627)](_0x14d1da[_0x4d4bce(0x427)])[_0x4d4bce(0x4cb)]),_0x14d1da[_0x4d4bce(0x427)]=_0x59390e[_0x4d4bce(0x627)](_0x14d1da[_0x4d4bce(0x427)])[_0x4d4bce(0x4cb)]);const _0x507956=await async function(_0x271390,_0x265de1,_0x29b3d0,_0x39cae0,_0x41a048){const _0x3b0e6c=_0x4d4bce,_0x2c095f=_0x41a048[_0x3b0e6c(0x249)][_0x3b0e6c(0x7cc)](_0x5a57c1=>_0x5a57c1['id']===_0x29b3d0[_0x3b0e6c(0x427)]);if(!_0x2c095f)throw new Error(_0x3b0e6c(0x146));const _0x4c27da=_0x41a048[_0x3b0e6c(0x46b)][_0x3b0e6c(0x7cc)](_0x4dfeda=>_0x4dfeda[_0x3b0e6c(0x97a)]()===_0x2c095f['engineType']);if(!_0x4c27da)throw new Error(_0x3b0e6c(0xa16));const _0x44575f=await _0x406e1d(_0x271390,_0x265de1,_0x29b3d0,_0x39cae0,_0x29b3d0['tools']??[],_0x41a048);return _0x4c27da[_0x3b0e6c(0xa34)]({'type':'prompt','prompt':_0x29b3d0[_0x3b0e6c(0xa75)],'instructions':_0x29b3d0[_0x3b0e6c(0x6f4)],'reasoning':_0x29b3d0[_0x3b0e6c(0x374)],'grammar':_0x29b3d0[_0x3b0e6c(0x56b)],'temperature':_0x29b3d0[_0x3b0e6c(0x46e)],'maxTokens':_0x29b3d0[_0x3b0e6c(0x9d5)],'history':_0x29b3d0['history'],'functions':_0x44575f,'threadId':_0x29b3d0[_0x3b0e6c(0x5b7)]},{'model':_0x2c095f,'sequences':Array[_0x3b0e6c(0xa3e)](_0x44575f[_0x3b0e6c(0x5a9)]())[_0x3b0e6c(0x729)](_0xd9b701=>_0xd9b701[_0x3b0e6c(0x22f)]('executeAgent'))?0x2:0x1});}(_0x4ef43f,_0x141436,_0x14d1da,_0x22599d,_0xcdc5e8);return _0x1a9472[_0x4d4bce(0x365)](_0x4ef43f,_0x14d1da['model'],_0x507956[_0x4d4bce(0x1ad)]??0x0,_0x507956[_0x4d4bce(0x69f)]??0x0),console['log'](new Date()+_0x4d4bce(0xbf),_0x14d1da[_0x4d4bce(0x427)],_0x507956['inputTokens']??0x0,_0x507956['outputTokens']??0x0),{'type':'prompt','output':_0x507956[_0x4d4bce(0xa3d)],'context':_0x22599d[_0x4d4bce(0x462)],'internalContext':_0x22599d[_0x4d4bce(0x9b8)]??{},'inputTokens':_0x507956[_0x4d4bce(0x1ad)]??0x0,'outputTokens':_0x507956[_0x4d4bce(0x69f)]??0x0};}async function _0x27c40e(_0x35477f,_0x4ce62e){const _0xa7dd8a=await async function(_0x334baa,_0x14c1fa){const _0x36386e=a0_0x15bf,_0x57e8bb=_0x14c1fa[_0x36386e(0x249)][_0x36386e(0x7cc)](_0x36244a=>_0x36244a['id']===_0x334baa[_0x36386e(0x427)]);if(!_0x57e8bb)throw new Error(_0x36386e(0x146));const _0x4bb742=_0x14c1fa[_0x36386e(0x46b)][_0x36386e(0x7cc)](_0x31a61f=>_0x31a61f['getEngineType']()===_0x57e8bb[_0x36386e(0x176)]);if(!_0x4bb742)throw new Error(_0x36386e(0xa16));return _0x4bb742[_0x36386e(0xa34)]({'type':'prompt','prompt':_0x334baa[_0x36386e(0x4b0)],'threadId':_0x334baa['threadId']},{'model':_0x57e8bb,'sequences':0x1});}(_0x35477f,_0x4ce62e);return{'type':'prompt','output':_0xa7dd8a['output'],'inputTokens':_0xa7dd8a['inputTokens']??0x0,'outputTokens':_0xa7dd8a['outputTokens']??0x0};}async function _0x205cb5(_0x44344c,_0x3143bb){const _0x4dd225=_0x52a325;let _0x543d7e='',_0x4bae69={'type':_0x4dd225(0xa75),'internalContext':_0x44344c[_0x4dd225(0x9b8)]??{}};switch(_0x44344c['tool'][_0x4dd225(0x983)]){case _0x5bfdb7[_0x4dd225(0x433)][_0x4dd225(0x1f4)]:case _0x5bfdb7[_0x4dd225(0x433)]['AgentSkill']:_0x543d7e=await _0x21caf4(_0x44344c[_0x4dd225(0x793)],_0x44344c['tool'],_0x3143bb,_0x44344c[_0x4dd225(0x760)],_0x4bae69);break;case _0x5bfdb7[_0x4dd225(0x433)]['AISearch']:_0x543d7e=await _0x5ac143(_0x44344c[_0x4dd225(0x552)],_0x3143bb,_0x44344c[_0x4dd225(0x760)]);break;case _0x5bfdb7[_0x4dd225(0x433)][_0x4dd225(0x308)]:_0x543d7e=await _0x836539(_0x44344c[_0x4dd225(0x760)]);break;case _0x5bfdb7[_0x4dd225(0x433)]['DataCollection']:case _0x5bfdb7[_0x4dd225(0x433)][_0x4dd225(0x873)]:_0x543d7e=await _0x23b83d(_0x44344c[_0x4dd225(0x793)],_0x44344c[_0x4dd225(0x552)],_0x44344c[_0x4dd225(0x760)],_0x4bae69);break;case _0x5bfdb7[_0x4dd225(0x433)][_0x4dd225(0x87e)]:_0x543d7e=await _0x20c06b(_0x44344c[_0x4dd225(0x552)],_0x44344c[_0x4dd225(0x760)],_0x4bae69);break;case _0x5bfdb7[_0x4dd225(0x433)]['WebScraper']:_0x543d7e=await _0x3a196d(_0x44344c[_0x4dd225(0x760)]);break;case _0x5bfdb7[_0x4dd225(0x433)][_0x4dd225(0x1ea)]:_0x543d7e=await _0x3a196d(_0x44344c[_0x4dd225(0x760)],!0x1);break;case _0x5bfdb7[_0x4dd225(0x433)][_0x4dd225(0x947)]:_0x543d7e=await _0x5b8f67(_0x3143bb,_0x44344c['arguments']);break;case _0x5bfdb7['GenerativeAIInferenceToolType'][_0x4dd225(0x405)]:_0x543d7e=await _0x1c6750(_0x44344c[_0x4dd225(0x552)],_0x4bae69);break;case _0x5bfdb7[_0x4dd225(0x433)][_0x4dd225(0x8c8)]:_0x543d7e=await _0x5dceeb(_0x44344c[_0x4dd225(0x552)],_0x44344c[_0x4dd225(0x760)],_0x4bae69);break;case _0x5bfdb7[_0x4dd225(0x433)]['FormSkillSubmitForm']:_0x543d7e=await _0x4c1d94(_0x44344c[_0x4dd225(0x552)],_0x4bae69);break;case _0x5bfdb7['GenerativeAIInferenceToolType'][_0x4dd225(0xea)]:_0x44344c['tool'][_0x4dd225(0xa29)]?_0x543d7e=await _0x18de07(_0x44344c['vendorId'],_0x44344c[_0x4dd225(0x552)],_0x44344c['arguments'],_0x4bae69):(_0x18de07(_0x44344c[_0x4dd225(0x793)],_0x44344c[_0x4dd225(0x552)],_0x44344c[_0x4dd225(0x760)],_0x4bae69),_0x543d7e=_0x4dd225(0x9a4));}return{'type':_0x4dd225(0x8ff),'output':_0x543d7e,'internalContext':_0x4bae69[_0x4dd225(0x9b8)]??{}};}async function*_0x10ad35(_0x5f00db,_0x1d6f3a,_0xd5d5b6){const _0x48320a=_0x52a325,_0x1abc75=_0x1d6f3a[_0x48320a(0x6f1)]??(0x0,_0x529b6e['v4'])(),_0x44eb30={'type':_0x48320a(0xa75),'context':[],'internalContext':_0x1d6f3a['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0x28465a=new _0x434d16(),_0xc831a2=_0x1d6f3a[_0x48320a(0x793)],_0x62d933=(await(0x0,_0x51a03b[_0x48320a(0x3cb)])((0x0,_0x51a03b[_0x48320a(0x5a5)])(_0x36dffc['getFirestore'](),'developers',_0xc831a2)))[_0x48320a(0x6f2)]();_0x62d933&&_0x62d933['organizationId']||(console[_0x48320a(0x109)](new Date()+_0x48320a(0x2c3),_0x1d6f3a[_0x48320a(0x427)],_0x59390e['get'](_0x1d6f3a['model'])[_0x48320a(0x4cb)]),_0x1d6f3a[_0x48320a(0x427)]=_0x59390e[_0x48320a(0x627)](_0x1d6f3a[_0x48320a(0x427)])['fallbackModel']),async function(_0x1453b1,_0x4d9b3d,_0xb87d2d,_0x49022b,_0x5e78db,_0x317dbb){const _0x3ebdd6=_0x48320a,_0xfc1015=_0x317dbb[_0x3ebdd6(0x249)][_0x3ebdd6(0x7cc)](_0x302710=>_0x302710['id']===_0xb87d2d[_0x3ebdd6(0x427)]);if(!_0xfc1015)throw new Error(_0x3ebdd6(0x146));const _0x6ee543=_0x317dbb[_0x3ebdd6(0x46b)][_0x3ebdd6(0x7cc)](_0x1825d2=>_0x1825d2[_0x3ebdd6(0x97a)]()===_0xfc1015[_0x3ebdd6(0x176)]);if(!_0x6ee543)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x28d973={'type':_0x3ebdd6(0xa75),'output':''},_0x277300=await _0x406e1d(_0x1453b1,_0x4d9b3d,_0xb87d2d,_0x49022b,_0xb87d2d[_0x3ebdd6(0xa8f)]??[],_0x317dbb,_0x5e78db);for await(const _0x2cfeb8 of _0x6ee543['processJobStream']({'type':_0x3ebdd6(0xa75),'prompt':_0xb87d2d[_0x3ebdd6(0xa75)],'instructions':_0xb87d2d[_0x3ebdd6(0x6f4)],'reasoning':_0xb87d2d['reasoning'],'grammar':_0xb87d2d[_0x3ebdd6(0x56b)],'temperature':_0xb87d2d['temperature'],'maxTokens':_0xb87d2d[_0x3ebdd6(0x9d5)],'history':_0xb87d2d['history'],'functions':_0x277300,'threadId':_0xb87d2d[_0x3ebdd6(0x5b7)]},{'model':_0xfc1015,'sequences':Array[_0x3ebdd6(0xa3e)](_0x277300[_0x3ebdd6(0x5a9)]())[_0x3ebdd6(0x729)](_0x3a3f70=>_0x3a3f70[_0x3ebdd6(0x22f)](_0x3ebdd6(0x667)))?0x2:0x1}))_0x5e78db[_0x3ebdd6(0x7a2)](_0x2cfeb8),_0x3ebdd6(0x347)==typeof _0x28d973[_0x3ebdd6(0xa3d)]&&_0x3ebdd6(0x347)==typeof _0x2cfeb8[_0x3ebdd6(0xa3d)]&&(_0x28d973[_0x3ebdd6(0xa3d)]+=_0x2cfeb8[_0x3ebdd6(0xa3d)]),_0x28d973[_0x3ebdd6(0x1ad)]=_0x2cfeb8[_0x3ebdd6(0x1ad)],_0x28d973[_0x3ebdd6(0x69f)]=_0x2cfeb8[_0x3ebdd6(0x69f)];await _0x4e41bf['wait'](0x1),_0x5e78db['emit'](void 0x0);}(_0x5f00db,_0x1abc75,_0x1d6f3a,_0x44eb30,_0x28465a,_0xd5d5b6);let _0x20e894='',_0x14c6fa={'type':_0x48320a(0xa75)};for(;;){const _0x98847b=await _0x28465a['once']();if(!_0x98847b)break;_0x20e894+=_0x98847b[_0x48320a(0xa3d)],_0x14c6fa={'type':'prompt','output':_0x98847b[_0x48320a(0xa3d)],'context':_0x44eb30[_0x48320a(0x462)],'internalContext':{},'inputTokens':_0x98847b[_0x48320a(0x1ad)]??0x0,'outputTokens':_0x98847b[_0x48320a(0x69f)]??0x0},yield _0x14c6fa;}_0x1a9472['logUsage'](_0x5f00db,_0x1d6f3a[_0x48320a(0x427)],_0x14c6fa['inputTokens']??0x0,_0x14c6fa[_0x48320a(0x69f)]??0x0),console[_0x48320a(0x109)](new Date()+_0x48320a(0xa86),_0x1d6f3a['model'],_0x14c6fa['inputTokens']??0x0,_0x14c6fa[_0x48320a(0x69f)]??0x0),yield{..._0x14c6fa,'output':'','internalContext':_0x44eb30[_0x48320a(0x9b8)]??{}};}async function _0x2ab6bc(_0x5611d4,_0x1c1435,_0x3c78dd,_0x727daf,_0x134373,_0x4cf660){const _0x44697a=_0x52a325,_0x473f60=Date[_0x44697a(0x88b)]();if(!_0x4cf660[_0x44697a(0x249)][_0x44697a(0x7cc)](_0x256633=>_0x256633['id']===_0x727daf[_0x44697a(0x862)]))throw new Error(_0x44697a(0x146));const _0x4c492f=(0x0,_0x529b6e['v4'])(),_0xed0b7=[];_0xed0b7[_0x44697a(0x66e)]({'role':'system','content':_0x727daf[_0x44697a(0x6f4)]}),_0xed0b7[_0x44697a(0x66e)]({'role':_0x44697a(0x70c),'content':_0x3c78dd});const _0x1b1406=await fetch(_0x4d71fb[_0x44697a(0x636)]+_0x44697a(0x4c3),{'method':_0x44697a(0x66b),'headers':{'Content-Type':_0x44697a(0x838),'x-vendor-id':_0x5611d4},'body':JSON[_0x44697a(0x712)]({'model':_0x727daf['modelId'],'messages':_0xed0b7,'max_completion_tokens':_0x727daf[_0x44697a(0x9d5)],'temperature':_0x727daf[_0x44697a(0x46e)],'threadId':_0x4c492f})}),_0x53e900=(await _0x1b1406[_0x44697a(0x323)]())[_0x44697a(0xabf)][0x0][_0x44697a(0x787)][_0x44697a(0x38c)];await _0x1a9472[_0x44697a(0x817)]({'jobType':_0x1c79aa[_0x44697a(0xa35)],'type':_0x5b8d06['Agent'],'jobId':_0x1c1435,'blockId':_0x727daf['id'],'traceLevel':_0x26f179['Debug'],'timestamp':Date['now'](),'startTime':_0x473f60,'status':_0x44697a(0x657),'agentId':_0x4c492f,'content':_0x3c78dd,'instructions':_0x727daf['instructions'],'result':_0x53e900});const _0x5390e6=[];if(_0x727daf[_0x44697a(0x670)]?.['some'](_0x400199=>_0x400199[_0x44697a(0x983)]===_0x3b71c2[_0x44697a(0x5ac)]))return _0x5390e6[_0x44697a(0x66e)]({'content':_0x53e900,'start':0x0,'length':_0x53e900[_0x44697a(0x761)]}),await _0x1ce4bc(_0x5611d4,_0x1c1435,_0x5390e6,_0x727daf,_0x134373,_0x4cf660),void await _0x1ce4bc(_0x5611d4,_0x1c1435,_0x53e900,_0x727daf,_0x134373,_0x4cf660);_0x5390e6['push']({'content':_0x53e900,'start':0x0,'length':_0x3c78dd[_0x44697a(0x761)]}),await _0x1ce4bc(_0x5611d4,_0x1c1435,_0x5390e6,_0x727daf,_0x134373,_0x4cf660);}async function _0x4f8b2d(_0x2d1301,_0x5a8e16,_0x5610d9,_0x5c10b3,_0x4bcff0,_0x5b90eb){const _0x13c0c9=_0x52a325,_0x299089=Date[_0x13c0c9(0x88b)]();let _0x4fc498=[];if(_0x5610d9 instanceof Array)for(const _0x55b155 of _0x5610d9){if(_0x13c0c9(0x347)!=typeof _0x55b155[_0x13c0c9(0x38c)])throw new Error(_0x13c0c9(0x7c3));_0x4fc498=_0x4fc498[_0x13c0c9(0xa93)](_0x552984(_0x55b155[_0x13c0c9(0x38c)],_0x5c10b3,_0x55b155[_0x13c0c9(0x65d)],_0x55b155[_0x13c0c9(0x761)]));}else _0x4fc498=_0x552984(_0x5610d9,_0x5c10b3);await _0x1a9472[_0x13c0c9(0x817)]({'jobType':_0x1c79aa[_0x13c0c9(0xa35)],'type':_0x5b8d06['ChunkSplitter'],'traceLevel':_0x26f179[_0x13c0c9(0x269)],'jobId':_0x5a8e16,'blockId':_0x5c10b3['id'],'startTime':_0x299089,'timestamp':Date[_0x13c0c9(0x88b)](),'status':_0x13c0c9(0x657),'totalChunks':_0x4fc498[_0x13c0c9(0x761)],'chunkSize':_0x5c10b3['attributes']['size']}),await _0x1ce4bc(_0x2d1301,_0x5a8e16,_0x4fc498,_0x5c10b3,_0x4bcff0,_0x5b90eb);}function _0x552984(_0x223ebd,_0x1aae8e,_0x2882fa,_0x3ba6d2){const _0x181e5a=_0x52a325,_0x436923=[];for(let _0x10b8ee=0x0;_0x10b8ee<_0x223ebd[_0x181e5a(0x761)];_0x10b8ee+=_0x1aae8e['attributes']['size']){let _0x18667c=_0x10b8ee-_0x1aae8e[_0x181e5a(0x297)][_0x181e5a(0x13f)];_0x18667c<0x0&&(_0x18667c=0x0);let _0x118551=_0x10b8ee+_0x1aae8e[_0x181e5a(0x297)][_0x181e5a(0x1af)]+_0x1aae8e['attributes'][_0x181e5a(0x13f)];_0x118551>_0x223ebd['length']&&(_0x118551=_0x223ebd[_0x181e5a(0x761)]);const _0x4ec636=_0x223ebd[_0x181e5a(0x371)](_0x18667c,_0x118551);_0x436923[_0x181e5a(0x66e)]({'content':_0x4ec636,'start':_0x2882fa??_0x10b8ee,'length':_0x3ba6d2??(_0x10b8ee+_0x1aae8e['attributes'][_0x181e5a(0x1af)]>_0x223ebd[_0x181e5a(0x761)]?_0x223ebd[_0x181e5a(0x761)]-_0x10b8ee:_0x1aae8e[_0x181e5a(0x297)][_0x181e5a(0x1af)])});}return _0x436923;}async function _0xf7c7f5(_0x439a4e,_0x1feac8,_0x3c548b,_0x5c0538,_0x2c3304,_0x293a8c){const _0x15e388=_0x52a325,_0x1a899e=Date['now']();let _0x43df37;if(_0x3c548b[_0x15e388(0x926)][_0x15e388(0x983)]['startsWith'](_0x15e388(0x831))||_0x490850(_0x3c548b[_0x15e388(0x926)][_0x15e388(0x7fe)],_0x3ad98e))_0x43df37=await _0x3c548b['file'][_0x15e388(0x4b0)]();else{if(!_0x293a8c[_0x15e388(0x682)][_0x15e388(0x918)](_0x3c548b[_0x15e388(0x926)]))throw new Error(_0x15e388(0x54a)+_0x3c548b[_0x15e388(0x926)][_0x15e388(0x983)]+'\x20-\x20'+_0x3c548b[_0x15e388(0x926)]['name']);_0x43df37=await _0x293a8c[_0x15e388(0x682)][_0x15e388(0x3ab)](_0x3c548b[_0x15e388(0x926)]);}await _0x1a9472[_0x15e388(0x817)]({'jobType':_0x1c79aa[_0x15e388(0xa35)],'type':_0x5b8d06[_0x15e388(0x561)],'traceLevel':_0x26f179[_0x15e388(0x269)],'blockId':_0x5c0538['id'],'jobId':_0x1feac8,'startTime':_0x1a899e,'timestamp':Date[_0x15e388(0x88b)](),'status':_0x15e388(0x657),'documentType':_0x3c548b[_0x15e388(0x926)][_0x15e388(0x983)],'documentName':_0x3c548b[_0x15e388(0x926)][_0x15e388(0x7fe)],'extractionMethod':_0x15e388(0x461)}),await _0x1ce4bc(_0x439a4e,_0x1feac8,_0x43df37,_0x5c0538,_0x2c3304,_0x293a8c);const _0x3cded1=[{'content':_0x43df37,'start':0x0,'length':_0x43df37[_0x15e388(0x761)]}];await _0x1ce4bc(_0x439a4e,_0x1feac8,_0x3cded1,_0x5c0538,_0x2c3304,_0x293a8c);}const _0x3ad98e=['.js','.ts','.py','.json','.txt','.html',_0x52a325(0x720),_0x52a325(0x504),_0x52a325(0x834),'.yml','.yaml',_0x52a325(0x40c),'.bat','.ini',_0x52a325(0x67a),_0x52a325(0x7bf),_0x52a325(0x529),_0x52a325(0x261),_0x52a325(0x58c),_0x52a325(0x653),'.c',_0x52a325(0x986),_0x52a325(0x5b1),'.r',_0x52a325(0x120),_0x52a325(0x73c),_0x52a325(0x256),_0x52a325(0x2b3),'.rs',_0x52a325(0x280),_0x52a325(0x199),'.lua',_0x52a325(0x31d),_0x52a325(0x467),_0x52a325(0x459),'.erl','.ex','.exs',_0x52a325(0x7fa),'.ps1',_0x52a325(0x379),'.m','.vbs','.awk','.rkt',_0x52a325(0x610),'.ipynb',_0x52a325(0x6e8),_0x52a325(0x5fd),_0x52a325(0x6f0),_0x52a325(0x8de),_0x52a325(0x346),_0x52a325(0x1f2),'.hbs','.handlebars',_0x52a325(0x78f),_0x52a325(0x5c2),'.liquid','.mustache',_0x52a325(0x1cf),'.twig','.j2',_0x52a325(0xa8b)];function _0x490850(_0x833806,_0x209255){const _0x1351c1=_0x52a325;return _0x209255[_0x1351c1(0x8cd)]('.'+(_0x833806[_0x1351c1(0x73a)]('.')[_0x1351c1(0x59e)]()?.[_0x1351c1(0xa9f)]()||''));}async function _0x4af285(_0x5548fd,_0x418c61,_0x5590d6,_0x205c20,_0x3e4855,_0x31e859){const _0xae4f5a=_0x52a325,_0x4b99e2=Date[_0xae4f5a(0x88b)](),_0xfa3d98=new Set();let _0x134b80=0x0;for(const _0x2503ae of _0x5590d6){if(_0xae4f5a(0x347)!=typeof _0x2503ae[_0xae4f5a(0x38c)])throw new Error(_0xae4f5a(0x7c3));_0x134b80+=_0x2503ae['content'][_0xae4f5a(0x761)],await _0x1a3a9d(_0x2503ae['content'],_0xfa3d98,_0x205c20,_0x31e859[_0xae4f5a(0xa39)]);}await _0x1a9472[_0xae4f5a(0x817)]({'jobType':_0x1c79aa[_0xae4f5a(0xa35)],'type':_0x5b8d06[_0xae4f5a(0x3d0)],'jobId':_0x418c61,'blockId':_0x205c20['id'],'traceLevel':_0x26f179[_0xae4f5a(0x269)],'startTime':_0x4b99e2,'timestamp':Date[_0xae4f5a(0x88b)](),'status':_0xae4f5a(0x657),'contentLength':_0x134b80,'totalChunks':_0x5590d6 instanceof Array?_0x5590d6['length']:0x1,'entitiesExtracted':_0xfa3d98,'totalEntities':_0xfa3d98[_0xae4f5a(0x1af)]}),await _0x1ce4bc(_0x5548fd,_0x418c61,_0xfa3d98,_0x205c20,_0x3e4855,_0x31e859);}async function _0x1a3a9d(_0x167d18,_0x4837b5,_0x214a79,_0x76f8ca){const _0x4a9328=_0x52a325,_0x4e883c=await _0x76f8ca[_0x4a9328(0x164)](_0x167d18,{'ner':_0x214a79['attributes'][_0x4a9328(0x39b)],'noun':_0x214a79[_0x4a9328(0x297)][_0x4a9328(0xa6f)],'propn':_0x214a79[_0x4a9328(0x297)][_0x4a9328(0x220)],'verb':_0x214a79[_0x4a9328(0x297)][_0x4a9328(0x904)]});for(const _0xe58170 of _0x4e883c)_0x4837b5[_0x4a9328(0xa24)](_0xe58170);}async function _0xcb4c36(_0x5506d2,_0x32e26f,_0x38543c,_0x4c910e,_0x1ff200){const _0x13c87d=_0x52a325,_0x1623fd=Date[_0x13c87d(0x88b)]();if(_0x38543c[_0x13c87d(0x53f)]||(_0x38543c[_0x13c87d(0x53f)]={}),_0x13c87d(0x347)==typeof _0x32e26f?_0x38543c[_0x13c87d(0x53f)][_0x13c87d(0x38c)]=_0x32e26f:_0x32e26f instanceof Set?_0x38543c[_0x13c87d(0x53f)][_0x13c87d(0x9c7)]=_0x32e26f:_0x32e26f instanceof Map?_0x38543c[_0x13c87d(0x53f)][_0x13c87d(0x1dd)]=_0x32e26f:_0x32e26f instanceof Array?_0x38543c[_0x13c87d(0x53f)]['index']=_0x32e26f:_0x38543c['accumulated'][_0x13c87d(0x926)]=_0x32e26f,_0x38543c['timesCalled']=_0x38543c[_0x13c87d(0x91f)]?_0x38543c['timesCalled']+0x1:0x1,_0x3dc912(_0x38543c,_0x4c910e[_0x13c87d(0x715)])>_0x38543c[_0x13c87d(0x91f)])return;if(!(_0x38543c[_0x13c87d(0x53f)][_0x13c87d(0x9c7)]&&_0x38543c[_0x13c87d(0x53f)][_0x13c87d(0x926)]&&_0x38543c[_0x13c87d(0x53f)][_0x13c87d(0x38c)]&&_0x38543c[_0x13c87d(0x53f)][_0x13c87d(0x97c)]))throw new Error(_0x13c87d(0x1c3));let _0xdb3750=0x0;const _0x2dbd50=_0x1ff200[_0x13c87d(0x8b0)][_0x13c87d(0x3ba)](_0x38543c['id']);for(const _0x488ac7 of _0x38543c[_0x13c87d(0x53f)]['entities']){let _0x4d1619=[];_0x4d1619=_0x38543c[_0x13c87d(0x53f)]['index'][_0x13c87d(0x6f8)](_0x16cc4e=>_0x13c87d(0x347)==typeof _0x16cc4e['content']&&_0x16cc4e[_0x13c87d(0x38c)]['includes'](_0x488ac7));try{_0x2dbd50['addNode'](_0x38543c['accumulated'][_0x13c87d(0x926)]['pathName'],_0x38543c[_0x13c87d(0x53f)][_0x13c87d(0x38c)],_0x4d1619,_0x488ac7),_0xdb3750+=0x1;}catch(_0x2233ad){}}if(_0x38543c[_0x13c87d(0x53f)][_0x13c87d(0x1dd)]){for(const [_0x59f219,_0x5ac51d]of _0x38543c[_0x13c87d(0x53f)][_0x13c87d(0x1dd)])for(const _0x57404d of _0x5ac51d)try{_0x2dbd50[_0x13c87d(0x2de)](_0x59f219,_0x57404d);}catch(_0x2e632e){}await _0x1a9472[_0x13c87d(0x817)]({'jobType':_0x1c79aa[_0x13c87d(0xa35)],'type':_0x5b8d06[_0x13c87d(0xa7b)],'jobId':_0x5506d2,'blockId':_0x38543c['id'],'status':_0x13c87d(0x657),'startTime':_0x1623fd,'timestamp':Date[_0x13c87d(0x88b)](),'traceLevel':_0x26f179[_0x13c87d(0x269)],'nodesAdded':_0xdb3750,'entities':_0x38543c[_0x13c87d(0x53f)]['entities'],'relations':_0x38543c[_0x13c87d(0x53f)][_0x13c87d(0x1dd)]});}}async function _0x5a54d7(_0x45f631,_0x5b4b1e,_0x177950,_0x1738bc,_0x19ac54,_0x25363e){const _0x2e70d5=_0x52a325,_0x4dced0=_0x25363e[_0x2e70d5(0x249)][_0x2e70d5(0x7cc)](_0x68277=>_0x68277['id']===_0x1738bc['id']);if(!_0x4dced0)throw new Error('Model\x20not\x20found');switch(_0x4dced0[_0x2e70d5(0x451)]){case _0x5bfdb7['GenerativeAIModelOutputType'][_0x2e70d5(0x5ac)]:if('string'!=typeof _0x177950)throw new Error(_0x2e70d5(0x226));await async function(_0x859be0,_0x3fdcea,_0x66586d,_0x128e53,_0x47de67,_0x40a7a2,_0x7a98c){const _0x3f0b40=_0x2e70d5,_0x350b18=Date[_0x3f0b40(0x88b)]();let _0x4f374b;const _0x1e955a=await fetch(_0x4d71fb[_0x3f0b40(0x636)]+'/chat/completions',{'method':_0x3f0b40(0x66b),'headers':{'Content-Type':'application/json','x-vendor-id':_0x859be0},'body':JSON[_0x3f0b40(0x712)]({'messages':[{'role':'user','content':_0x66586d}],'model':_0x128e53['id']})});_0x4f374b=(await _0x1e955a['json']())[_0x3f0b40(0xabf)][0x0]['message']['content'],await _0x1a9472[_0x3f0b40(0x817)]({'jobType':_0x1c79aa[_0x3f0b40(0xa35)],'type':_0x5b8d06['ModelText'],'jobId':_0x3fdcea,'blockId':_0x47de67['id'],'traceLevel':_0x26f179[_0x3f0b40(0x269)],'timestamp':Date[_0x3f0b40(0x88b)](),'startTime':_0x350b18,'status':_0x3f0b40(0x657),'modelName':_0x128e53['id'],'inputType':_0x128e53[_0x3f0b40(0xa95)],'outputType':_0x128e53['outputType'],'content':_0x66586d,'results':_0x4f374b}),await _0x1ce4bc(_0x859be0,_0x3fdcea,_0x4f374b,_0x47de67,_0x40a7a2,_0x7a98c);}(_0x45f631,_0x5b4b1e,_0x177950,_0x4dced0,_0x1738bc,_0x19ac54,_0x25363e);break;case _0x5bfdb7[_0x2e70d5(0xcf)][_0x2e70d5(0x9d2)]:if(!(_0x177950 instanceof Array))throw new Error(_0x2e70d5(0x3c2));await async function(_0xedaeac,_0x3b9f85,_0x27c4b5,_0x52eee3,_0x2eef7f,_0x267710,_0x3f3eff){const _0x457d03=_0x2e70d5,_0x18cb99=Date['now'](),_0x40b861=await fetch(_0x4d71fb[_0x457d03(0x636)]+_0x457d03(0x1fe),{'method':_0x457d03(0x66b),'headers':{'Content-Type':_0x457d03(0x838),'x-vendor-id':_0xedaeac},'body':JSON[_0x457d03(0x712)]({'input':_0x27c4b5[_0x457d03(0x943)](_0x33bc60=>_0x33bc60[_0x457d03(0x38c)]),'model':_0x52eee3['id']})}),_0x558f3d=(await _0x40b861[_0x457d03(0x323)]())['data'][_0x457d03(0x943)](_0x1047f6=>_0x1047f6[_0x457d03(0x8bd)]);await _0x1a9472[_0x457d03(0x817)]({'jobType':_0x1c79aa['Ingest'],'type':_0x5b8d06[_0x457d03(0x89f)],'jobId':_0x3b9f85,'blockId':_0x2eef7f['id'],'traceLevel':_0x26f179[_0x457d03(0x269)],'timestamp':Date['now'](),'startTime':_0x18cb99,'status':'success','modelName':_0x52eee3['id'],'inputType':_0x52eee3[_0x457d03(0xa95)],'outputType':_0x52eee3[_0x457d03(0x451)],'totalVectors':_0x558f3d[_0x457d03(0x761)]}),await _0x1ce4bc(_0xedaeac,_0x3b9f85,_0x558f3d,_0x2eef7f,_0x267710,_0x3f3eff);}(_0x45f631,_0x5b4b1e,_0x177950,_0x4dced0,_0x1738bc,_0x19ac54,_0x25363e);}}async function _0x45270c(_0x4be295,_0x123f2f,_0x457bc3,_0x4638ed,_0x36bdae,_0x3fce58){const _0x1ab642=_0x52a325,_0x244e37=Date[_0x1ab642(0x88b)]();if(_0x4638ed[_0x1ab642(0x53f)]||(_0x4638ed['accumulated']={}),_0x457bc3 instanceof Array?_0x4638ed[_0x1ab642(0x53f)][_0x1ab642(0x97c)]=_0x457bc3:_0x4638ed[_0x1ab642(0x53f)][_0x1ab642(0x9c7)]=_0x457bc3,_0x4638ed[_0x1ab642(0x91f)]=_0x4638ed[_0x1ab642(0x91f)]?_0x4638ed[_0x1ab642(0x91f)]+0x1:0x1,_0x3dc912(_0x4638ed,_0x36bdae[_0x1ab642(0x715)])>_0x4638ed[_0x1ab642(0x91f)])return;if(!_0x4638ed['accumulated'][_0x1ab642(0x97c)]||!_0x4638ed[_0x1ab642(0x53f)][_0x1ab642(0x9c7)])throw new Error('Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data');const _0x1aeb0b=new Map();for(const _0xdc7e40 of _0x4638ed[_0x1ab642(0x53f)]['index']){if(_0x1ab642(0x347)!=typeof _0xdc7e40[_0x1ab642(0x38c)])throw new Error(_0x1ab642(0x7c3));_0x1e48e0(_0xdc7e40[_0x1ab642(0x38c)],_0x4638ed[_0x1ab642(0x53f)]['entities'],_0x1aeb0b);}await _0x1a9472[_0x1ab642(0x817)]({'jobType':_0x1c79aa[_0x1ab642(0xa35)],'type':_0x5b8d06[_0x1ab642(0x94b)],'jobId':_0x123f2f,'blockId':_0x4638ed['id'],'traceLevel':_0x26f179[_0x1ab642(0x269)],'timestamp':Date[_0x1ab642(0x88b)](),'startTime':_0x244e37,'status':_0x1ab642(0x657),'entities':_0x4638ed[_0x1ab642(0x53f)]['entities'],'relations':_0x1aeb0b,'totalRelationsExtracted':_0x1aeb0b[_0x1ab642(0x1af)]}),await _0x1ce4bc(_0x4be295,_0x123f2f,_0x1aeb0b,_0x4638ed,_0x36bdae,_0x3fce58);}function _0x1e48e0(_0x4615cf,_0x18ab27,_0xeebbb3){const _0x44f8c6=_0x52a325;for(const _0x42938c of _0x18ab27)for(const _0x2c33fc of _0x18ab27){if(_0x42938c===_0x2c33fc)continue;const _0x19e528=_0x4615cf[_0x44f8c6(0x3f1)](_0x42938c),_0x50326b=_0x4615cf['indexOf'](_0x2c33fc);-0x1!==_0x19e528&&-0x1!==_0x50326b&&(_0xeebbb3['has'](_0x42938c)||_0xeebbb3['set'](_0x42938c,new Set()),_0xeebbb3[_0x44f8c6(0x627)](_0x42938c)[_0x44f8c6(0xa24)](_0x2c33fc));}return _0xeebbb3;}async function _0x1d7cf2(_0xfddb8e,_0x5acf5b,_0x53290d,_0x350dc1,_0x427bcd,_0x3f8fe6){const _0x3ad3a3=_0x52a325,_0x58313a=Date[_0x3ad3a3(0x88b)]();let _0x37652a=[];if(_0x53290d instanceof Array)for(const _0xfaf134 of _0x53290d){if(_0x3ad3a3(0x347)!=typeof _0xfaf134[_0x3ad3a3(0x38c)])throw new Error(_0x3ad3a3(0x7c3));const _0x43cebe=await _0x3f8fe6[_0x3ad3a3(0xa39)][_0x3ad3a3(0x2cd)](_0xfaf134['content']);_0x37652a=_0x37652a[_0x3ad3a3(0xa93)](_0x43cebe[_0x3ad3a3(0x943)](_0x5d5fd0=>({'content':_0x5d5fd0,'start':_0xfaf134[_0x3ad3a3(0x65d)],'length':_0xfaf134[_0x3ad3a3(0x761)]})));}else _0x37652a=(await _0x3f8fe6[_0x3ad3a3(0xa39)]['getSentences'](_0x53290d))[_0x3ad3a3(0x943)](_0xba6be=>({'content':_0xba6be,'start':_0x53290d[_0x3ad3a3(0x3f1)](_0xba6be),'length':_0xba6be[_0x3ad3a3(0x761)]}));await _0x1a9472[_0x3ad3a3(0x817)]({'jobType':_0x1c79aa[_0x3ad3a3(0xa35)],'type':_0x5b8d06[_0x3ad3a3(0x2ac)],'jobId':_0x5acf5b,'blockId':_0x350dc1['id'],'traceLevel':_0x26f179[_0x3ad3a3(0x269)],'startTime':_0x58313a,'timestamp':Date[_0x3ad3a3(0x88b)](),'status':'success','totalSentences':_0x37652a[_0x3ad3a3(0x761)],'averageSentenceLength':_0x37652a['reduce']((_0x30c975,_0x2fbf31)=>_0x30c975+_0x2fbf31[_0x3ad3a3(0x761)],0x0)/_0x37652a['length']}),await _0x1ce4bc(_0xfddb8e,_0x5acf5b,_0x37652a,_0x350dc1,_0x427bcd,_0x3f8fe6);}async function _0x586b71(_0x423a4e,_0x1608e3,_0x250d9a){const _0x29ea01=_0x52a325;if(0x0===_0x423a4e['length'])return;const _0x5be6bc=_0x1608e3[_0x29ea01(0x9b8)]?.[_0x29ea01(0x740)]?_0x1608e3[_0x29ea01(0x9b8)][_0x29ea01(0x740)][_0x29ea01(0x73a)](','):[];for(const _0x138001 of _0x423a4e){const _0x4484c1=await _0x250d9a['fileConnector'][_0x29ea01(0x579)](_0x138001);_0x5be6bc[_0x29ea01(0x66e)](_0x4484c1);}_0x1608e3[_0x29ea01(0x9b8)]||(_0x1608e3['internalContext']={}),_0x1608e3[_0x29ea01(0x9b8)]['files']=_0x5be6bc[_0x29ea01(0x141)](',');}async function _0x27a32c(_0x250214,_0x33f9df,_0x3e2c90,_0x3d796a,_0x56b03e){const _0x362de8=_0x52a325,_0xd1765d=_0x33f9df[_0x362de8(0x6f1)]??(0x0,_0x529b6e['v4'])(),_0x26d84e=Date['now']();await _0x1a9472[_0x362de8(0x817)]({'jobType':_0x1c79aa[_0x362de8(0x88d)],'type':_0x4d1f1b[_0x362de8(0x934)],'jobId':_0x250214,'blockId':_0x3e2c90['id'],'agentId':_0xd1765d,'threadId':_0x33f9df[_0x362de8(0x5b7)],'traceLevel':_0x26f179[_0x362de8(0x7cb)],'startTime':Date[_0x362de8(0x88b)](),'timestamp':Date['now'](),'status':_0x362de8(0x657),'initialPrompt':_0x33f9df[_0x362de8(0xa75)]});const _0x36097e={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x33f9df[_0x362de8(0x9b8)]&&(_0x36097e[_0x362de8(0x9b8)]=_0x33f9df[_0x362de8(0x9b8)]),await _0x29aa11(_0x33f9df,_0x36097e,_0x3e2c90,_0x3d796a,_0x56b03e),await _0x514ebf(_0x250214,''+_0x33f9df[_0x362de8(0xa75)],_0x33f9df,_0x36097e,_0x3e2c90,_0x3d796a,_0x56b03e);const {inputTokens:_0x2e472d=0x0,outputTokens:_0x16f814=0x0,context:_0x5ce3d4=[]}=_0x36097e;await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x362de8(0x88d)],'type':_0x4d1f1b[_0x362de8(0x690)],'jobId':_0x250214,'agentId':_0xd1765d,'threadId':_0x33f9df['threadId'],'traceLevel':_0x26f179[_0x362de8(0x7cb)],'startTime':_0x26d84e,'timestamp':Date[_0x362de8(0x88b)](),'blockId':_0x3e2c90['id'],'status':_0x362de8(0x657),'output':_0x36097e['output']?.[_0x362de8(0x84a)]()??'','prompt':_0x33f9df[_0x362de8(0xa75)],'agentName':'','history':_0x33f9df[_0x362de8(0x564)]??[],'instructions':''+(_0x33f9df[_0x362de8(0x6f4)]??''),'ragContext':_0x5ce3d4,'inputTokens':_0x2e472d,'outputTokens':_0x16f814});const _0x240e01=_0x3d796a[_0x362de8(0x7cc)](_0x1d1a0e=>_0x1d1a0e[_0x362de8(0x983)]===_0x206b99[_0x362de8(0x9c0)]);return{'type':'prompt','output':_0x36097e[_0x362de8(0xa3d)],'context':_0x36097e['context'],'internalContext':_0x36097e['internalContext'],'resultFile':await _0x240e01?.[_0x362de8(0x53f)]?.['file']?.[_0x362de8(0x4b0)]()??void 0x0,'inputTokens':_0x36097e[_0x362de8(0x1ad)]??0x0,'outputTokens':_0x36097e[_0x362de8(0x69f)]??0x0};}async function*_0x231220(_0x30b470,_0x5f439d,_0xec8707,_0x3f06f4,_0x301f17){const _0x9cb287=_0x52a325,_0xfad9b3=_0x5f439d[_0x9cb287(0x6f1)]??(0x0,_0x529b6e['v4'])(),_0x19f117=Date[_0x9cb287(0x88b)]();await _0x1a9472[_0x9cb287(0x817)]({'jobType':_0x1c79aa[_0x9cb287(0x88d)],'type':_0x4d1f1b[_0x9cb287(0x934)],'jobId':_0x30b470,'agentId':_0xfad9b3,'threadId':_0x5f439d[_0x9cb287(0x5b7)],'traceLevel':_0x26f179['Info'],'startTime':Date['now'](),'timestamp':Date[_0x9cb287(0x88b)](),'blockId':_0xec8707['id'],'status':_0x9cb287(0x657),'initialPrompt':_0x5f439d[_0x9cb287(0xa75)]});const _0x4ccd86={'type':_0x9cb287(0xa75),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x5f439d[_0x9cb287(0x9b8)]&&(_0x4ccd86['internalContext']=_0x5f439d[_0x9cb287(0x9b8)]);const _0x142418=new _0x434d16();await _0x29aa11(_0x5f439d,_0x4ccd86,_0xec8707,_0x3f06f4,_0x301f17),_0x514ebf(_0x30b470,''+_0x5f439d[_0x9cb287(0xa75)],_0x5f439d,_0x4ccd86,_0xec8707,_0x3f06f4,_0x301f17,_0x142418);let _0x3c58a6='',_0x192110={'type':_0x9cb287(0xa75)};for(;;){const _0x3abbf7=await _0x142418['once']();if(!_0x3abbf7)break;_0x3c58a6+=_0x3abbf7[_0x9cb287(0xa3d)],_0x192110={'type':_0x9cb287(0xa75),'output':_0x3abbf7[_0x9cb287(0xa3d)],'context':_0x4ccd86[_0x9cb287(0x462)],'resultFile':void 0x0,'inputTokens':(_0x4ccd86[_0x9cb287(0x1ad)]??0x0)+(_0x3abbf7[_0x9cb287(0x1ad)]??0x0),'outputTokens':(_0x4ccd86[_0x9cb287(0x69f)]??0x0)+(_0x3abbf7[_0x9cb287(0x69f)]??0x0)},yield _0x192110;}const _0x56a27a=_0x3f06f4[_0x9cb287(0x7cc)](_0x7ecde8=>_0x7ecde8[_0x9cb287(0x983)]===_0x206b99[_0x9cb287(0x9c0)]);yield{..._0x192110,'output':'','internalContext':_0x4ccd86[_0x9cb287(0x9b8)],'resultFile':await _0x56a27a?.[_0x9cb287(0x53f)]?.[_0x9cb287(0x926)]?.[_0x9cb287(0x4b0)]()??void 0x0};const {inputTokens:_0x237b7b=0x0,outputTokens:_0x450311=0x0,context:_0x124aba=[]}=_0x192110;await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x9cb287(0x88d)],'type':_0x4d1f1b['FinalOutput'],'jobId':_0x30b470,'agentId':_0xfad9b3,'threadId':_0x5f439d[_0x9cb287(0x5b7)],'traceLevel':_0x26f179[_0x9cb287(0x7cb)],'startTime':_0x19f117,'timestamp':Date[_0x9cb287(0x88b)](),'blockId':_0xec8707['id'],'status':'success','output':_0x3c58a6,'prompt':_0x5f439d['prompt'],'agentName':'','history':_0x5f439d[_0x9cb287(0x564)]??[],'instructions':''+(_0x5f439d[_0x9cb287(0x6f4)]??''),'ragContext':_0x124aba,'inputTokens':_0x237b7b,'outputTokens':_0x450311});}async function _0x29aa11(_0x946a88,_0x4156dd,_0x226df0,_0x4d35a7,_0x11f756){const _0x58db5c=_0x52a325;if(_0x946a88[_0x58db5c(0x740)]&&_0x226df0[_0x58db5c(0x670)]){const _0x2a6fff=[];for(const _0x1a4f35 of _0x946a88[_0x58db5c(0x740)])_0x2a6fff[_0x58db5c(0x66e)](_0x123f71(_0x1a4f35));for(const _0x29a5d1 of _0x226df0[_0x58db5c(0x670)])if(_0x58db5c(0x926)===_0x29a5d1[_0x58db5c(0x983)]){const _0x24ea4d=_0x4d35a7['find'](_0x5069db=>_0x5069db[_0x58db5c(0x560)]===_0x29a5d1[_0x58db5c(0x560)]);if(!_0x24ea4d)continue;_0x24ea4d[_0x58db5c(0x983)]===_0x206b99[_0x58db5c(0x561)]&&await _0x586b71(_0x2a6fff,_0x4156dd,_0x11f756);}}}function _0x123f71(_0x3641f3){const _0xca8c04=_0x52a325,_0x2b0fc7=Uint8Array['from'](Buffer[_0xca8c04(0xa3e)](_0x3641f3[_0xca8c04(0x38c)],_0xca8c04(0x746))),_0x4ea0e6=new Blob([_0x2b0fc7],{'type':_0x3641f3[_0xca8c04(0x983)]});return new File([_0x4ea0e6],_0x3641f3[_0xca8c04(0x7fe)],{'type':_0x3641f3[_0xca8c04(0x983)]});}function _0x381c75(_0x53d461,_0x1bf359){const _0x19ea1d=_0x52a325;switch(_0x1bf359[_0x19ea1d(0x6db)]){case _0x176cec[_0x19ea1d(0xaf)]:return _0x19ea1d(0x7c1);case _0x176cec['Account']:return _0x53d461;case _0x176cec[_0x19ea1d(0x5e4)]:default:return _0x1bf359['id'];}}async function _0x251797(_0x149683,_0x5e70b2,_0x8c823b,_0x3f559d,_0x3c32f4,_0x49d444){const _0x5e770d=_0x52a325,_0x34ba84=Date[_0x5e770d(0x88b)]();var _0x4abd91;if(_0x3f559d[_0x5e770d(0x53f)]||(_0x3f559d[_0x5e770d(0x53f)]={}),_0x8c823b instanceof Array?(_0x4abd91=_0x8c823b)[0x0]instanceof Array&&'number'==typeof _0x4abd91[0x0]?.[0x0]?_0x3f559d[_0x5e770d(0x53f)]['vectors']=_0x8c823b:_0x3f559d[_0x5e770d(0x53f)]['index']=_0x8c823b:_0x5e770d(0x347)==typeof _0x8c823b?_0x3f559d[_0x5e770d(0x53f)][_0x5e770d(0x38c)]=_0x8c823b:_0x3f559d[_0x5e770d(0x53f)][_0x5e770d(0x926)]=_0x8c823b,_0x3f559d[_0x5e770d(0x91f)]=_0x3f559d[_0x5e770d(0x91f)]?_0x3f559d['timesCalled']+0x1:0x1,!(_0x3dc912(_0x3f559d,_0x3c32f4[_0x5e770d(0x715)])>_0x3f559d[_0x5e770d(0x91f)])){if(_0x5e770d(0x785)===_0x3f559d['id']){if(!_0x3f559d[_0x5e770d(0x53f)][_0x5e770d(0x97c)]||!_0x3f559d[_0x5e770d(0x53f)][_0x5e770d(0x72c)]||!_0x3f559d[_0x5e770d(0x53f)]['file'])throw new Error(_0x5e770d(0x6c6));if(!_0x49d444[_0x5e770d(0xa14)])throw new Error(_0x5e770d(0x19f));const _0x1bf0ac=[];for(let _0x1a81a4=0x0;_0x1a81a4<_0x3f559d['accumulated'][_0x5e770d(0x97c)][_0x5e770d(0x761)];_0x1a81a4++){const _0x4a6c22=_0x3f559d[_0x5e770d(0x53f)][_0x5e770d(0x72c)][_0x1a81a4],_0xa1eab9=_0x3f559d[_0x5e770d(0x53f)][_0x5e770d(0x97c)][_0x1a81a4];_0x1bf0ac[_0x5e770d(0x66e)]({'content':_0x4a6c22,'start':_0xa1eab9[_0x5e770d(0x65d)],'length':_0xa1eab9[_0x5e770d(0x761)]});}const _0x26bf58=_0x381c75(_0x149683,_0x3c32f4);await _0x49d444[_0x5e770d(0xa14)][_0x5e770d(0x4a2)](_0x26bf58,_0x3c32f4['id'],_0x3f559d[_0x5e770d(0x53f)][_0x5e770d(0x926)][_0x5e770d(0xbc)],_0x1bf0ac);}else{if(!(_0x3f559d[_0x5e770d(0x53f)]['content']&&_0x3f559d[_0x5e770d(0x53f)][_0x5e770d(0x97c)]&&_0x3f559d[_0x5e770d(0x53f)]['vectors']&&_0x3f559d[_0x5e770d(0x53f)]['file']))throw new Error(_0x5e770d(0x6c6));const _0x489045=_0x49d444[_0x5e770d(0x8b0)][_0x5e770d(0x424)](_0x3f559d['id']);_0x489045[_0x5e770d(0x454)](_0x3f559d[_0x5e770d(0x53f)]['file'][_0x5e770d(0xbc)],_0x3f559d[_0x5e770d(0x53f)][_0x5e770d(0x38c)],_0x3f559d[_0x5e770d(0x53f)]['index'],_0x3f559d['accumulated'][_0x5e770d(0x72c)]),await _0x1a9472[_0x5e770d(0x817)]({'jobType':_0x1c79aa[_0x5e770d(0xa35)],'type':_0x5b8d06[_0x5e770d(0x7c5)],'jobId':_0x5e70b2,'blockId':_0x3f559d['id'],'traceLevel':_0x26f179[_0x5e770d(0x269)],'startTime':_0x34ba84,'timestamp':Date['now'](),'status':_0x5e770d(0x657),'databaseName':_0x489045[_0x5e770d(0x326)](),'vectorsAdded':_0x3f559d[_0x5e770d(0x53f)]['vectors'][_0x5e770d(0x761)],'filePathName':_0x3f559d[_0x5e770d(0x53f)]['file'][_0x5e770d(0xbc)]});}}}async function _0x23daf4(_0x22b648,_0x25f930,_0x1e990d,_0x3f6fd9,_0x223796,_0x36f3ed){const _0x3b0452=_0x52a325,_0x1861c6=Date['now']();let _0x25c069=[];if(_0x1e990d instanceof Array)for(const _0x46bd09 of _0x1e990d){if(_0x3b0452(0x347)!=typeof _0x46bd09['content'])throw new Error(_0x3b0452(0x7c3));_0x25c069=_0x25c069[_0x3b0452(0xa93)](_0x41c117(_0x46bd09[_0x3b0452(0x38c)],_0x3f6fd9,_0x46bd09[_0x3b0452(0x65d)],_0x46bd09['length']));}else _0x25c069=_0x41c117(_0x1e990d,_0x3f6fd9);await _0x1a9472[_0x3b0452(0x817)]({'jobType':_0x1c79aa['Ingest'],'type':_0x5b8d06[_0x3b0452(0x704)],'jobId':_0x25f930,'traceLevel':_0x26f179[_0x3b0452(0x269)],'blockId':_0x3f6fd9['id'],'startTime':_0x1861c6,'timestamp':Date[_0x3b0452(0x88b)](),'status':'success','totalChunks':_0x25c069['length'],'averageChunkLength':_0x25c069['reduce']((_0x4533d6,_0x5d5e96)=>_0x4533d6+_0x5d5e96[_0x3b0452(0x761)],0x0)/_0x25c069[_0x3b0452(0x761)]}),await _0x1ce4bc(_0x22b648,_0x25f930,_0x25c069,_0x3f6fd9,_0x223796,_0x36f3ed);}function _0x41c117(_0x52eb80,_0x1c6943,_0x3820aa,_0x4000b9){const _0x100f9d=_0x52a325,_0x48f4d2=[],_0x3e1892=_0x52eb80[_0x100f9d(0x73a)]('\x20');let _0x391969='',_0x1be554=-0x1,_0x474e4e=0x0,_0x426953=0x0;for(const _0x8ad234 of _0x3e1892){if(_0x391969[_0x100f9d(0x761)]+_0x8ad234[_0x100f9d(0x761)]>_0x1c6943[_0x100f9d(0x297)][_0x100f9d(0x1af)]){const _0x4dd5bd=_0x391969['length'];let _0x212a66=_0x1be554,_0x75aa4c='';for(;_0x212a66>=0x0&&_0x75aa4c[_0x100f9d(0x761)]+_0x3e1892[_0x212a66][_0x100f9d(0x761)]<_0x1c6943[_0x100f9d(0x297)][_0x100f9d(0x13f)];)_0x75aa4c=_0x3e1892[_0x212a66]+'\x20'+_0x75aa4c,_0x212a66--;let _0x4c88b8=_0x474e4e,_0x191d4e='';for(;_0x4c88b8<_0x3e1892['length']&&_0x191d4e[_0x100f9d(0x761)]+_0x3e1892[_0x4c88b8][_0x100f9d(0x761)]<_0x1c6943[_0x100f9d(0x297)][_0x100f9d(0x13f)];)_0x191d4e+=_0x3e1892[_0x4c88b8]+'\x20',_0x4c88b8++;_0x391969=_0x75aa4c+_0x391969+_0x191d4e,_0x48f4d2[_0x100f9d(0x66e)]({'content':_0x391969[_0x100f9d(0x960)](),'start':_0x3820aa??_0x426953,'length':_0x4000b9??_0x4dd5bd}),_0x391969='',_0x1be554=_0x474e4e-0x1,_0x426953+=_0x4dd5bd;}_0x391969+=_0x8ad234+'\x20',_0x474e4e++;}if(_0x391969['length']>0x0){const _0x5a019c=_0x391969[_0x100f9d(0x761)];let _0x2f6e1e=_0x1be554,_0x482084='';for(;_0x2f6e1e>=0x0&&_0x482084['length']+_0x3e1892[_0x2f6e1e]['length']<_0x1c6943[_0x100f9d(0x297)][_0x100f9d(0x13f)];)_0x482084=_0x3e1892[_0x2f6e1e]+'\x20'+_0x482084,_0x2f6e1e--;_0x391969=_0x482084+_0x391969,_0x48f4d2[_0x100f9d(0x66e)]({'content':_0x391969[_0x100f9d(0x960)](),'start':_0x3820aa??_0x426953,'length':_0x4000b9??_0x5a019c});}return _0x48f4d2;}async function _0x1ce4bc(_0x5b29cb,_0x19d647,_0xc40ef8,_0x195548,_0x1fd1cc,_0x142aa5){const _0x1a70a6=_0x52a325;for(const _0x58d9ba of _0x195548[_0x1a70a6(0x670)]||[]){const _0x140c45=_0x1fd1cc['ingestBlocks'][_0x1a70a6(0x7cc)](_0x540153=>_0x540153['uid']===_0x58d9ba[_0x1a70a6(0x560)]);if(_0x140c45)switch(_0x140c45[_0x1a70a6(0x983)]){case _0x3259e5['Agent']:_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x5ac)]&&_0x1a70a6(0x347)==typeof _0xc40ef8&&await _0x2ab6bc(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5);break;case _0x3259e5[_0x1a70a6(0x95f)]:_0x58d9ba['type']===_0x3b71c2[_0x1a70a6(0x5ac)]&&'string'==typeof _0xc40ef8&&await _0x4f8b2d(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba['type']===_0x3b71c2[_0x1a70a6(0x4c6)]&&_0xc40ef8 instanceof Array&&await _0x4f8b2d(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5);break;case _0x3259e5[_0x1a70a6(0x561)]:_0x58d9ba['type']===_0x3b71c2[_0x1a70a6(0x1c1)]&&await _0xf7c7f5(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5);break;case _0x3259e5[_0x1a70a6(0x5a0)]:if(_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x4c6)]&&_0xc40ef8 instanceof Array){if(!_0x1fd1cc[_0x1a70a6(0x862)])throw new Error(_0x1a70a6(0x2b7));const _0x57f067={'type':_0x3259e5['Model'],'id':_0x1fd1cc[_0x1a70a6(0x862)],'uid':(0x0,_0x529b6e['v4'])(),'links':_0x140c45['links']};await _0x5a54d7(_0x5b29cb,_0x19d647,_0xc40ef8,_0x57f067,_0x1fd1cc,_0x142aa5);}break;case _0x3259e5['EntityExtractor']:_0x58d9ba['type']===_0x3b71c2[_0x1a70a6(0x4c6)]&&_0xc40ef8 instanceof Array&&await _0x4af285(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5);break;case _0x3259e5['GraphDatabase']:_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x5ac)]&&_0x1a70a6(0x347)==typeof _0xc40ef8&&await _0xcb4c36(_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2['Index']&&_0xc40ef8 instanceof Array&&await _0xcb4c36(_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x6d5)]&&_0xc40ef8 instanceof Set&&await _0xcb4c36(_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba['type']===_0x3b71c2[_0x1a70a6(0x7f4)]&&_0xc40ef8 instanceof Map&&await _0xcb4c36(_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x1c1)]&&await _0xcb4c36(_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5);break;case _0x3259e5[_0x1a70a6(0x2aa)]:_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x5ac)]&&_0x1a70a6(0x347)==typeof _0xc40ef8&&await _0x5a54d7(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x4c6)]&&_0xc40ef8 instanceof Array&&await _0x5a54d7(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5);break;case _0x3259e5[_0x1a70a6(0x94b)]:_0x58d9ba['type']===_0x3b71c2['Index']&&_0xc40ef8 instanceof Array&&await _0x45270c(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x6d5)]&&_0xc40ef8 instanceof Set&&await _0x45270c(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5);break;case _0x3259e5['SentenceSplitter']:_0x58d9ba['type']===_0x3b71c2['Text']&&_0x1a70a6(0x347)==typeof _0xc40ef8&&await _0x1d7cf2(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x4c6)]&&_0xc40ef8 instanceof Array&&await _0x1d7cf2(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5);break;case _0x3259e5['VectorDatabase']:_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x5ac)]&&_0x1a70a6(0x347)==typeof _0xc40ef8&&await _0x251797(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2['Index']&&_0xc40ef8 instanceof Array&&await _0x251797(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x9d2)]&&_0xc40ef8 instanceof Array&&await _0x251797(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2['File']&&await _0x251797(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5);break;case _0x3259e5[_0x1a70a6(0x704)]:_0x58d9ba[_0x1a70a6(0x983)]===_0x3b71c2[_0x1a70a6(0x5ac)]&&_0x1a70a6(0x347)==typeof _0xc40ef8&&await _0x23daf4(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5),_0x58d9ba['type']===_0x3b71c2[_0x1a70a6(0x4c6)]&&_0xc40ef8 instanceof Array&&await _0x23daf4(_0x5b29cb,_0x19d647,_0xc40ef8,_0x140c45,_0x1fd1cc,_0x142aa5);}}}function _0x3dc912(_0x2e3a25,_0x294922){const _0x4fce75=_0x52a325;return _0x294922[_0x4fce75(0x6f8)](_0x3221e5=>_0x3221e5[_0x4fce75(0x670)]?.[_0x4fce75(0x729)](_0x268ba5=>_0x268ba5[_0x4fce75(0x560)]===_0x2e3a25['uid']))['length'];}async function _0x553a43(_0x33f122,_0x196c8d,_0x5543d0,_0x151d24,_0x5444fb,_0x5c60d4,_0x361887){const _0x52f8e0=_0x52a325;try{let _0x2abd89;switch(_0x5444fb[_0x52f8e0(0x983)]){case _0x3259e5[_0x52f8e0(0x774)]:const _0x49f2fb=_0x361887[_0x52f8e0(0x8b0)][_0x52f8e0(0x38f)](_0x5444fb['id']);_0x2abd89=await _0x49f2fb['get'](_0x5543d0);break;case _0x3259e5[_0x52f8e0(0xac0)]:const _0x397f4b=_0x361887[_0x52f8e0(0x8b0)][_0x52f8e0(0x7d9)](_0x5444fb['id']);_0x2abd89=await _0x397f4b['get'](_0x5543d0);case _0x3259e5[_0x52f8e0(0x102)]:const _0x3039a2=_0x5543d0[_0x52f8e0(0x73a)]('/')[_0x52f8e0(0x59e)]();if(!_0x3039a2)throw new Error('Failed\x20to\x20get\x20filename');const _0x3f9a20=_0x5543d0[_0x52f8e0(0x13e)](_0x3039a2,''),_0x457365=Buffer[_0x52f8e0(0xa3e)](_0x151d24,_0x52f8e0(0x746));if(_0x2abd89=new File([_0x457365],_0x3039a2),!_0x361887[_0x52f8e0(0x700)])throw new Error(_0x52f8e0(0x846));await _0x361887['objectStoreConnector'][_0x52f8e0(0x579)](_0x2abd89,_0x3f9a20);}if(!_0x2abd89)throw new Error(_0x52f8e0(0x108));await _0x1ce4bc(_0x33f122,_0x196c8d,{'file':_0x2abd89,'pathName':_0x5543d0},_0x5444fb,structuredClone(_0x5c60d4),_0x361887);}catch(_0x2e6aaf){console[_0x52f8e0(0x2a8)]('Error\x20processing\x20ingest',_0x2e6aaf);}}async function _0x9cd34f(_0x4c4bfd,_0x3ae7a1,_0x435d86,_0x17d090,_0x275538,_0x54dd57,_0x293fb4,_0x2cfd3e){const _0x14912f=_0x52a325,_0x38f696=Date[_0x14912f(0x88b)](),_0x5280=new Set();if(_0x17d090 instanceof Array){for(const _0x1c14b8 of _0x17d090)await _0x21193a(_0x1c14b8[_0x14912f(0x38c)],_0x54dd57,_0x5280,_0x2cfd3e[_0x14912f(0xa39)]);}else await _0x21193a(_0x17d090,_0x54dd57,_0x5280,_0x2cfd3e['nlpLibraryConnector']);await _0x1a9472['trace']({'jobType':_0x1c79aa['Retrieve'],'type':_0xae9714[_0x14912f(0x3d0)],'jobId':_0x3ae7a1,'threadId':_0x435d86,'blockId':_0x54dd57['id'],'traceLevel':_0x26f179[_0x14912f(0x269)],'startTime':_0x38f696,'timestamp':Date['now'](),'status':_0x14912f(0x657),'content':_0x17d090,'entitiesExtracted':Array[_0x14912f(0xa3e)](_0x5280),'totalEntities':_0x5280[_0x14912f(0x1af)]}),await _0x54ba7e(_0x4c4bfd,_0x3ae7a1,_0x435d86,_0x5280,_0x275538,_0x54dd57,_0x293fb4,_0x2cfd3e);}async function _0x21193a(_0x4d6005,_0x284e6f,_0x24284,_0x4ca820){const _0x58e6de=_0x52a325,_0x5ba5f8=await _0x4ca820[_0x58e6de(0x164)](_0x4d6005,{'ner':_0x284e6f[_0x58e6de(0x297)][_0x58e6de(0x39b)],'noun':_0x284e6f[_0x58e6de(0x297)][_0x58e6de(0xa6f)],'propn':_0x284e6f['attributes']['propn'],'verb':_0x284e6f['attributes'][_0x58e6de(0x904)]});for(const _0x2388cf of _0x5ba5f8)_0x24284[_0x58e6de(0xa24)](_0x2388cf);}async function _0x46b76f(_0x368269,_0x133e3a,_0x386a54,_0x5d67d0,_0xf8523a,_0x3edadf,_0xb9cde0,_0x4c3f7c){const _0x20ed46=_0x52a325,_0x4f7902=Date[_0x20ed46(0x88b)]();if(_0x3edadf[_0x20ed46(0x53f)]||(_0x3edadf[_0x20ed46(0x53f)]={}),_0x5d67d0 instanceof Array?(_0x3edadf[_0x20ed46(0x53f)][_0x20ed46(0x101)]||(_0x3edadf['accumulated'][_0x20ed46(0x101)]=[]),_0x3edadf[_0x20ed46(0x53f)][_0x20ed46(0x101)]['push'](..._0x5d67d0)):_0x5d67d0 instanceof Set?_0x3edadf[_0x20ed46(0x53f)][_0x20ed46(0x9c7)]=_0x5d67d0:_0x3edadf[_0x20ed46(0x53f)][_0x20ed46(0xa75)]=_0x5d67d0,_0x3edadf[_0x20ed46(0x91f)]=_0x3edadf[_0x20ed46(0x91f)]?_0x3edadf[_0x20ed46(0x91f)]+0x1:0x1,_0xd3c4cf(_0x3edadf,_0xb9cde0[_0x20ed46(0x1a0)])>_0x3edadf[_0x20ed46(0x91f)])return;if(!_0x3edadf[_0x20ed46(0x53f)][_0x20ed46(0xa75)]&&!_0x3edadf[_0x20ed46(0x53f)][_0x20ed46(0x101)]||!_0x3edadf[_0x20ed46(0x53f)][_0x20ed46(0x9c7)])throw new Error(_0x20ed46(0x1c3));const _0x1f9883=_0x4c3f7c[_0x20ed46(0x8b0)][_0x20ed46(0x3ba)](_0x3edadf['id'])[_0x20ed46(0x770)](Array['from'](_0x3edadf[_0x20ed46(0x53f)][_0x20ed46(0x9c7)]),_0x3edadf['attributes']['maxDepth'],_0x3edadf[_0x20ed46(0x297)][_0x20ed46(0x84e)]);let _0x248adc=[];for(const _0x508127 in _0x1f9883){const _0x56e5d1=_0x1f9883[_0x508127];for(const _0x39dde5 of _0x56e5d1){let _0x2c9888=0x0;if(_0x3edadf[_0x20ed46(0x53f)][_0x20ed46(0xa75)]&&(_0x2c9888=await _0x4c3f7c[_0x20ed46(0xa39)][_0x20ed46(0x26e)](_0x3edadf['accumulated'][_0x20ed46(0xa75)],_0x39dde5)),_0x3edadf[_0x20ed46(0x53f)][_0x20ed46(0x101)]){for(const _0x54a640 of _0x3edadf[_0x20ed46(0x53f)][_0x20ed46(0x101)])_0x2c9888=Math[_0x20ed46(0x662)](_0x2c9888,await _0x4c3f7c['nlpLibraryConnector'][_0x20ed46(0x26e)](_0x54a640[_0x20ed46(0x38c)],_0x39dde5));}_0x2c9888<_0x3edadf[_0x20ed46(0x297)][_0x20ed46(0x60e)]||_0x248adc[_0x20ed46(0x66e)]({'content':_0x39dde5,'relevance':_0x2c9888,'pathName':_0x508127});}}_0x248adc=_0x248adc[_0x20ed46(0x536)]((_0x4a4e5b,_0x3246b3)=>_0x3246b3[_0x20ed46(0x4be)]-_0x4a4e5b['relevance'])[_0x20ed46(0x71c)](0x0,_0x3edadf['attributes']['topK']),await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x20ed46(0x47a)],'type':_0xae9714[_0x20ed46(0x31f)],'jobId':_0x133e3a,'threadId':_0x386a54,'blockId':_0x3edadf['id'],'traceLevel':_0x26f179[_0x20ed46(0x269)],'timestamp':Date[_0x20ed46(0x88b)](),'startTime':_0x4f7902,'status':_0x20ed46(0x657),'content':_0x5d67d0,'topResults':_0x248adc,'numResults':_0x248adc[_0x20ed46(0x761)]}),await _0x54ba7e(_0x368269,_0x133e3a,_0x386a54,_0x248adc,_0xf8523a,_0x3edadf,_0xb9cde0,_0x4c3f7c);}async function _0x133041(_0x5da72b,_0x324394,_0x2298e7,_0x1f31fe,_0x46cb9c,_0x2be594,_0x30a206,_0x402cf2){const _0x59eb97=_0x52a325,_0x34ca89=_0x402cf2[_0x59eb97(0x249)][_0x59eb97(0x7cc)](_0x294d95=>_0x294d95['id']===_0x2be594['id']);if(!_0x34ca89)throw new Error(_0x59eb97(0x146));let _0x18e402='';switch(_0x18e402=_0x1f31fe instanceof Array?_0x1f31fe['map'](_0x969f4a=>_0x969f4a[_0x59eb97(0x38c)])[_0x59eb97(0x141)](',\x20'):_0x1f31fe,_0x34ca89[_0x59eb97(0x451)]){case _0x5bfdb7[_0x59eb97(0xcf)][_0x59eb97(0x5ac)]:await async function(_0x112429,_0x24c33e,_0x530026,_0x2644df,_0x22562a,_0x1cae4c,_0x160845,_0x508295,_0x1e80ce){const _0x3da75e=_0x59eb97,_0x57cfbc=Date[_0x3da75e(0x88b)](),_0x38fcf0=await fetch(_0x4d71fb[_0x3da75e(0x636)]+'/chat/completions',{'method':_0x3da75e(0x66b),'headers':{'Content-Type':_0x3da75e(0x838),'x-vendor-id':_0x112429},'body':JSON[_0x3da75e(0x712)]({'messages':[{'role':_0x3da75e(0x70c),'content':_0x2644df}],'model':_0x1cae4c['id']})}),_0x102bec=(await _0x38fcf0['json']())[_0x3da75e(0xabf)][0x0]['message'][_0x3da75e(0x38c)];await _0x1a9472['trace']({'jobType':_0x1c79aa['Retrieve'],'type':_0xae9714[_0x3da75e(0x1be)],'jobId':_0x24c33e,'threadId':_0x530026,'blockId':_0x160845['id'],'traceLevel':_0x26f179['Debug'],'startTime':_0x57cfbc,'timestamp':Date['now'](),'status':_0x3da75e(0x657),'modelName':_0x1cae4c['id'],'content':_0x2644df,'newPrompt':_0x102bec,'inputType':_0x1cae4c['inputType'],'outputType':_0x1cae4c[_0x3da75e(0x451)]}),await _0x54ba7e(_0x112429,_0x24c33e,_0x530026,_0x102bec,_0x22562a,_0x160845,_0x508295,_0x1e80ce);}(_0x5da72b,_0x324394,_0x2298e7,_0x18e402,_0x46cb9c,_0x34ca89,_0x2be594,_0x30a206,_0x402cf2);break;case _0x5bfdb7[_0x59eb97(0xcf)][_0x59eb97(0x9d2)]:await async function(_0x449ba2,_0xb29cfc,_0x5ed670,_0x3ffaa9,_0x323e17,_0x3b7c4c,_0x479076,_0x1129f0,_0x2d18e6){const _0x40199f=_0x59eb97,_0x4ffda2=Date['now'](),_0x42ecb9=await fetch(_0x4d71fb[_0x40199f(0x636)]+'/embeddings',{'method':_0x40199f(0x66b),'headers':{'Content-Type':_0x40199f(0x838),'x-vendor-id':_0x449ba2},'body':JSON['stringify']({'input':_0x3ffaa9,'model':_0x3b7c4c['id']})}),_0x21b824=(await _0x42ecb9['json']())[_0x40199f(0x6f2)][0x0]['embedding'];await _0x1a9472['trace']({'jobType':_0x1c79aa[_0x40199f(0x47a)],'type':_0xae9714[_0x40199f(0x89f)],'jobId':_0xb29cfc,'threadId':_0x5ed670,'blockId':_0x479076['id'],'traceLevel':_0x26f179[_0x40199f(0x269)],'startTime':_0x4ffda2,'timestamp':Date[_0x40199f(0x88b)](),'status':_0x40199f(0x657),'modelName':_0x3b7c4c['id'],'content':_0x3ffaa9,'totalVectors':_0x21b824['length']}),await _0x54ba7e(_0x449ba2,_0xb29cfc,_0x5ed670,_0x21b824,_0x323e17,_0x479076,_0x1129f0,_0x2d18e6);}(_0x5da72b,_0x324394,_0x2298e7,_0x18e402,_0x46cb9c,_0x34ca89,_0x2be594,_0x30a206,_0x402cf2);}}async function _0x421c86(_0x1a53e0,_0x5bfc93,_0x34af8a,_0x4c8aa4,_0x4d9afb,_0x94cfc8,_0x22b993,_0x4677bb){const _0x1ed7e0=_0x52a325,_0x58145a=Date[_0x1ed7e0(0x88b)]();if(_0x94cfc8[_0x1ed7e0(0x53f)]||(_0x94cfc8[_0x1ed7e0(0x53f)]={}),_0x4c8aa4 instanceof Array?(_0x94cfc8[_0x1ed7e0(0x53f)][_0x1ed7e0(0x101)]||(_0x94cfc8[_0x1ed7e0(0x53f)][_0x1ed7e0(0x101)]=[]),_0x94cfc8[_0x1ed7e0(0x53f)][_0x1ed7e0(0x101)][_0x1ed7e0(0x66e)](..._0x4c8aa4)):_0x94cfc8[_0x1ed7e0(0x53f)]['prompt']=_0x4c8aa4,_0x94cfc8['timesCalled']=_0x94cfc8['timesCalled']?_0x94cfc8[_0x1ed7e0(0x91f)]+0x1:0x1,_0xd3c4cf(_0x94cfc8,_0x22b993[_0x1ed7e0(0x1a0)])>_0x94cfc8[_0x1ed7e0(0x91f)])return;if(!_0x94cfc8['accumulated'][_0x1ed7e0(0xa75)]||!_0x94cfc8['accumulated']['results'])throw new Error(_0x1ed7e0(0x3d1));for(const _0x396e25 of _0x94cfc8[_0x1ed7e0(0x53f)][_0x1ed7e0(0x101)])_0x396e25[_0x1ed7e0(0x4be)]=await _0x4677bb[_0x1ed7e0(0xa39)][_0x1ed7e0(0x26e)](_0x94cfc8[_0x1ed7e0(0x53f)][_0x1ed7e0(0xa75)],_0x396e25[_0x1ed7e0(0x38c)]);const _0x149abc=_0x94cfc8['accumulated'][_0x1ed7e0(0x101)]['filter'](_0x225daa=>_0x225daa[_0x1ed7e0(0x4be)]>_0x94cfc8[_0x1ed7e0(0x297)]['minRelevance'])[_0x1ed7e0(0x536)]((_0x3e0ceb,_0x23555a)=>_0x23555a[_0x1ed7e0(0x4be)]-_0x3e0ceb[_0x1ed7e0(0x4be)])['slice'](0x0,_0x94cfc8[_0x1ed7e0(0x297)][_0x1ed7e0(0x606)]);await _0x1a9472[_0x1ed7e0(0x817)]({'jobType':_0x1c79aa[_0x1ed7e0(0x47a)],'type':_0xae9714[_0x1ed7e0(0x987)],'jobId':_0x5bfc93,'threadId':_0x34af8a,'blockId':_0x94cfc8['id'],'traceLevel':_0x26f179[_0x1ed7e0(0x269)],'startTime':_0x58145a,'timestamp':Date[_0x1ed7e0(0x88b)](),'status':_0x1ed7e0(0x657),'inputResults':_0x94cfc8[_0x1ed7e0(0x53f)][_0x1ed7e0(0x101)],'rerankedResults':_0x149abc}),await _0x54ba7e(_0x1a53e0,_0x5bfc93,_0x34af8a,_0x149abc,_0x4d9afb,_0x94cfc8,_0x22b993,_0x4677bb);}async function _0x2104fd(_0x2677e4,_0x45e6d8,_0x1850bb,_0x1c9a9c,_0x2c47b2,_0x44e02e,_0x5e81cc,_0x211a93){const _0x1a53e5=_0x52a325,_0x4f5360=Date[_0x1a53e5(0x88b)]();if(_0x44e02e[_0x1a53e5(0x53f)]||(_0x44e02e[_0x1a53e5(0x53f)]={}),_0x1c9a9c instanceof Array?_0x44e02e['accumulated'][_0x1a53e5(0x523)]=_0x1c9a9c:_0x44e02e[_0x1a53e5(0x53f)]['content']=_0x1c9a9c,_0x44e02e[_0x1a53e5(0x91f)]=_0x44e02e[_0x1a53e5(0x91f)]?_0x44e02e['timesCalled']+0x1:0x1,!(_0xd3c4cf(_0x44e02e,_0x5e81cc['retrieveBlocks'])>_0x44e02e['timesCalled'])){if(_0x1a53e5(0x785)===_0x44e02e['id']){if(!_0x44e02e['accumulated'][_0x1a53e5(0x523)])throw new Error(_0x1a53e5(0x6c6));if(!_0x211a93[_0x1a53e5(0xa14)])throw new Error(_0x1a53e5(0x19f));const _0x1103af=_0x381c75(_0x2677e4,_0x5e81cc);let _0x3b7604=await _0x211a93[_0x1a53e5(0xa14)]?.[_0x1a53e5(0x4bc)](_0x1103af,_0x5e81cc['id'],_0x44e02e[_0x1a53e5(0x53f)][_0x1a53e5(0x523)],_0x44e02e['attributes'][_0x1a53e5(0x606)]);_0x3b7604=_0x3b7604[_0x1a53e5(0x6f8)](_0x1d00cb=>_0x1d00cb[_0x1a53e5(0x4be)]>_0x44e02e['attributes'][_0x1a53e5(0x60e)])||[];const _0x40047f=[];for(const _0x122caa of _0x3b7604){if(!_0x211a93[_0x1a53e5(0x700)])throw new Error(_0x1a53e5(0x68a));if(void 0x0===_0x122caa[_0x1a53e5(0x65d)]||void 0x0===_0x122caa[_0x1a53e5(0x761)])throw new Error(_0x1a53e5(0x5a6));const _0x9eefa8=await _0x211a93[_0x1a53e5(0x700)]['get'](_0x122caa[_0x1a53e5(0xbc)]);let _0x51c215='';if(_0x9eefa8[_0x1a53e5(0x983)]['startsWith'](_0x1a53e5(0x831))||_0x490850(_0x9eefa8['name'],_0x3ad98e))_0x51c215=await _0x9eefa8[_0x1a53e5(0x4b0)]();else{if(!_0x211a93[_0x1a53e5(0x682)][_0x1a53e5(0x918)](_0x9eefa8))throw new Error(_0x1a53e5(0x54a)+_0x9eefa8[_0x1a53e5(0x983)]+'\x20-\x20'+_0x9eefa8[_0x1a53e5(0x7fe)]);_0x51c215=await _0x211a93[_0x1a53e5(0x682)][_0x1a53e5(0x3ab)](_0x9eefa8);}_0x40047f[_0x1a53e5(0x66e)]({'pathName':_0x122caa['pathName'],'content':_0x51c215['substring'](_0x122caa[_0x1a53e5(0x65d)],_0x122caa[_0x1a53e5(0x65d)]+_0x122caa[_0x1a53e5(0x761)]),'relevance':_0x122caa[_0x1a53e5(0x4be)]});}await _0x54ba7e(_0x2677e4,_0x45e6d8,_0x1850bb,_0x40047f,_0x2c47b2,_0x44e02e,_0x5e81cc,_0x211a93);}else{if(!_0x44e02e['accumulated'][_0x1a53e5(0x523)]||!_0x44e02e[_0x1a53e5(0x53f)][_0x1a53e5(0x38c)])throw new Error(_0x1a53e5(0x6c6));const _0x350e49=await _0x211a93[_0x1a53e5(0xa39)][_0x1a53e5(0x164)](_0x44e02e['accumulated'][_0x1a53e5(0x38c)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x4a748d=_0x211a93['contentMediator']['getVectorDatabase'](_0x44e02e['id'])[_0x1a53e5(0x62e)](_0x350e49,_0x44e02e['accumulated'][_0x1a53e5(0x523)],_0x44e02e[_0x1a53e5(0x297)][_0x1a53e5(0x606)],_0x44e02e[_0x1a53e5(0x297)][_0x1a53e5(0x60e)],_0x44e02e[_0x1a53e5(0x297)][_0x1a53e5(0x84e)]);await _0x1a9472[_0x1a53e5(0x817)]({'jobType':_0x1c79aa['Retrieve'],'type':_0xae9714[_0x1a53e5(0x404)],'jobId':_0x45e6d8,'threadId':_0x1850bb,'blockId':_0x44e02e['id'],'traceLevel':_0x26f179[_0x1a53e5(0x269)],'startTime':_0x4f5360,'timestamp':Date[_0x1a53e5(0x88b)](),'status':_0x1a53e5(0x657),'topResults':_0x4a748d,'numResults':_0x4a748d[_0x1a53e5(0x761)]}),await _0x54ba7e(_0x2677e4,_0x45e6d8,_0x1850bb,_0x4a748d,_0x2c47b2,_0x44e02e,_0x5e81cc,_0x211a93);}}}async function _0x54ba7e(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0xad6a4d,_0x199e91,_0x28472a){const _0x5bd456=_0x52a325;for(const _0x4fd2ce of _0xad6a4d[_0x5bd456(0x670)]||[]){const _0x4b89a8=_0x199e91[_0x5bd456(0x1a0)][_0x5bd456(0x7cc)](_0x5a1e87=>_0x5a1e87[_0x5bd456(0x560)]===_0x4fd2ce[_0x5bd456(0x560)]);if(_0x4b89a8)switch(_0x4b89a8[_0x5bd456(0x983)]){case _0x3259e5[_0x5bd456(0x11c)]:_0x4fd2ce[_0x5bd456(0x983)]===_0x3b71c2['Search']&&_0x5aa238 instanceof Array&&_0x584498[_0x5bd456(0x462)][_0x5bd456(0x66e)](..._0x5aa238);break;case _0x3259e5['Embed']:if(_0x4fd2ce[_0x5bd456(0x983)]===_0x3b71c2[_0x5bd456(0x5ac)]&&_0x5bd456(0x347)==typeof _0x5aa238){if(!_0x199e91[_0x5bd456(0x862)])throw new Error('Model\x20ID\x20is\x20required\x20for\x20Embed\x20block');const _0x1e2900={'type':_0x3259e5[_0x5bd456(0x2aa)],'id':_0x199e91[_0x5bd456(0x862)],'uid':(0x0,_0x529b6e['v4'])(),'links':_0x4b89a8[_0x5bd456(0x670)]};await _0x133041(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x1e2900,_0x199e91,_0x28472a);}break;case _0x3259e5[_0x5bd456(0x3d0)]:_0x4fd2ce['type']===_0x3b71c2[_0x5bd456(0x5ac)]&&_0x5bd456(0x347)==typeof _0x5aa238&&await _0x9cd34f(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x4b89a8,_0x199e91,_0x28472a),_0x4fd2ce[_0x5bd456(0x983)]===_0x3b71c2[_0x5bd456(0x947)]&&_0x5aa238 instanceof Array&&await _0x9cd34f(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x4b89a8,_0x199e91,_0x28472a);break;case _0x3259e5[_0x5bd456(0xa7b)]:_0x4fd2ce[_0x5bd456(0x983)]===_0x3b71c2['Text']&&_0x5bd456(0x347)==typeof _0x5aa238&&await _0x46b76f(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x4b89a8,_0x199e91,_0x28472a),_0x4fd2ce['type']===_0x3b71c2['Search']&&_0x5aa238 instanceof Array&&await _0x46b76f(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x4b89a8,_0x199e91,_0x28472a),_0x4fd2ce[_0x5bd456(0x983)]===_0x3b71c2[_0x5bd456(0x6d5)]&&_0x5aa238 instanceof Set&&await _0x46b76f(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x4b89a8,_0x199e91,_0x28472a);break;case _0x3259e5[_0x5bd456(0x2aa)]:_0x4fd2ce[_0x5bd456(0x983)]===_0x3b71c2[_0x5bd456(0x5ac)]&&_0x5bd456(0x347)==typeof _0x5aa238&&await _0x133041(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x4b89a8,_0x199e91,_0x28472a),_0x4fd2ce[_0x5bd456(0x983)]===_0x3b71c2[_0x5bd456(0x947)]&&_0x5aa238 instanceof Array&&await _0x133041(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x4b89a8,_0x199e91,_0x28472a);break;case _0x3259e5[_0x5bd456(0x987)]:_0x4fd2ce['type']===_0x3b71c2['Text']&&_0x5bd456(0x347)==typeof _0x5aa238&&await _0x421c86(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x4b89a8,_0x199e91,_0x28472a),_0x4fd2ce['type']===_0x3b71c2['Search']&&_0x5aa238 instanceof Array&&await _0x421c86(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x4b89a8,_0x199e91,_0x28472a);break;case _0x3259e5[_0x5bd456(0x7c5)]:_0x4fd2ce[_0x5bd456(0x983)]===_0x3b71c2[_0x5bd456(0x5ac)]&&_0x5bd456(0x347)==typeof _0x5aa238&&await _0x2104fd(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x4b89a8,_0x199e91,_0x28472a),_0x4fd2ce[_0x5bd456(0x983)]===_0x3b71c2['Vector']&&_0x5aa238 instanceof Array&&await _0x2104fd(_0x31a917,_0x595ebb,_0x4fb8e2,_0x5aa238,_0x584498,_0x4b89a8,_0x199e91,_0x28472a);}}}function _0xd3c4cf(_0x3acd61,_0x5afcfc){const _0x2c0e9b=_0x52a325;return _0x5afcfc['filter'](_0x55d0cf=>_0x55d0cf['links']?.[_0x2c0e9b(0x729)](_0x2758de=>_0x2758de[_0x2c0e9b(0x560)]===_0x3acd61[_0x2c0e9b(0x560)]))[_0x2c0e9b(0x761)];}async function _0x5ec77c(_0x888bac,_0x44f873,_0xc18783,_0x366a73,_0x4b66e8,_0x35c8a7,_0x1928fe){const _0xdb2975=_0x52a325,_0x298a96={'type':_0xdb2975(0xa75),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x40a461;await _0x54ba7e(_0x888bac,_0x44f873,_0xc18783,_0x366a73,_0x298a96,_0x4b66e8,structuredClone(_0x35c8a7),_0x1928fe),_0x298a96[_0xdb2975(0x462)][_0xdb2975(0x8b1)]((_0xc75544,_0x32d54b)=>_0xc75544+_0x32d54b['content'][_0xdb2975(0x761)],0x0)>_0x48f34e&&(_0x40a461=Math['floor'](_0x48f34e/_0x298a96[_0xdb2975(0x462)][_0xdb2975(0x761)])),_0x298a96[_0xdb2975(0xa3d)]='Additional\x20context:\x0a'+_0x298a96[_0xdb2975(0x462)][_0xdb2975(0x943)](_0xdc64bf=>_0xdb2975(0x252)+_0xdc64bf['pathName']+':\x20'+_0xdc64bf['content'][_0xdb2975(0x371)](0x0,_0x40a461))['join']('\x0a');}catch(_0x1fb8b6){console[_0xdb2975(0x2a8)]('Error\x20processing\x20retrieve',_0x1fb8b6);}return _0x298a96;}class _0x2fa87d extends _0x243f32{[_0x52a325(0x8b0)];['generativeAIWorkerConnectors'];[_0x52a325(0x700)];[_0x52a325(0x682)];[_0x52a325(0x4f1)];['nlpLibraryConnector'];[_0x52a325(0x59a)];[_0x52a325(0x187)];[_0x52a325(0x39f)];['ragConnectors'];[_0x52a325(0x412)];[_0x52a325(0x24e)]=new Map();[_0x52a325(0x249)]=_0x371781;[_0x52a325(0xc1)];['prompts']=0x0;[_0x52a325(0x311)]=0x0;['isOpened']=!0x1;constructor(_0x2d3c89,_0x6bbb7d,_0x505726,_0x5e93bb,_0x53eff4,_0x15ad09,_0x19467c,_0x21c941,_0x160c70,_0x504cfa,_0x340059,_0x218266,_0x1f3b54,_0x57e6a3){const _0x56661c=_0x52a325;super(_0x2d3c89,_0x6bbb7d,_0x505726),this[_0x56661c(0x8b0)]=_0x5e93bb,this['generativeAIWorkerConnectors']=_0x53eff4,this['objectStoreConnector']=_0x15ad09,this[_0x56661c(0x682)]=_0x19467c,this[_0x56661c(0x4f1)]=_0x21c941,this[_0x56661c(0xa39)]=_0x160c70,this[_0x56661c(0x59a)]=_0x504cfa,this['aiSearchConnector']=_0x340059,this[_0x56661c(0x39f)]=_0x218266,this[_0x56661c(0x26b)]=_0x1f3b54,this[_0x56661c(0x412)]=_0x57e6a3;}async[_0x52a325(0x3d9)](){const _0xdcb12a=_0x52a325;for(const _0x1792bb of this[_0xdcb12a(0x46b)])await _0x1792bb['close']();this['dataStores'][_0xdcb12a(0x854)](_0x52ae32=>_0x52ae32[_0xdcb12a(0xa50)](this[_0xdcb12a(0x7cd)])),this[_0xdcb12a(0xc1)]&&(clearTimeout(this['debounceStats']),delete this[_0xdcb12a(0xc1)]),super[_0xdcb12a(0x3d9)]();}async[_0x52a325(0x807)](_0x2e4322=!0x1){const _0x53f5b0=_0x52a325;if(this[_0x53f5b0(0xa3)])super[_0x53f5b0(0x807)]();else{_0x2d5d47['forceLog'](_0x53f5b0(0x8ad),this[_0x53f5b0(0x7cd)]);try{for(const _0xc8cbc of this[_0x53f5b0(0x46b)])await _0xc8cbc[_0x53f5b0(0x1a7)](this[_0x53f5b0(0x7cd)],this[_0x53f5b0(0x249)]);}catch(_0x2aef86){return this['open'](_0x2e4322);}this[_0x53f5b0(0xa3)]=!0x0,this['sendStats'](),super[_0x53f5b0(0x807)](),_0x2d5d47['forceLog'](_0x53f5b0(0x6de),this['label']);}}[_0x52a325(0x4da)](){const _0x2d93ed=_0x52a325;this[_0x2d93ed(0x521)]=0x0,this[_0x2d93ed(0x311)]=0x0,this[_0x2d93ed(0x34a)](),super[_0x2d93ed(0x4da)]();}[_0x52a325(0x8e6)](){const _0x33750e=_0x52a325;return this[_0x33750e(0x34a)](),this[_0x33750e(0x2d2)]();}['compileStats'](_0x4d685f,_0x3ece98,_0x2653ca){const _0x571264=_0x52a325,{outputTokens:_0x1a3739=0x0,output:_0x5df5fb=''}=_0x4d685f,_0x8c883e=_0x1a3739/((_0x2653ca-_0x3ece98)/0x3e8);this[_0x571264(0x521)]+=0x1,this['tokens']+=_0x1a3739,this[_0x571264(0x59d)](_0x8c883e,_0x1a3739),this['sendStats']();}[_0x52a325(0x221)](_0x220245,_0x556ef1){const _0x2b3fc5=_0x52a325;return _0x220245['output']=_0x220245['output']??'',{'type':_0x2b3fc5(0xa75),'output':_0x2b3fc5(0x347)==typeof _0x220245[_0x2b3fc5(0xa3d)]&&_0x2b3fc5(0x347)==typeof _0x556ef1[_0x2b3fc5(0xa3d)]?_0x220245['output']+_0x556ef1[_0x2b3fc5(0xa3d)]:_0x556ef1[_0x2b3fc5(0xa3d)],'outputTokens':_0x556ef1['outputTokens']??_0x220245['outputTokens'],'inputTokens':_0x556ef1[_0x2b3fc5(0x1ad)]??_0x220245[_0x2b3fc5(0x1ad)]};}async[_0x52a325(0x9c5)](_0x155db5,_0x216eaa){const _0x1cc0e9=_0x52a325;if(_0x1cc0e9(0xa75)===_0x216eaa[_0x1cc0e9(0x983)]){const _0x29e73d=await _0x284f10['getWorkflow'](_0x216eaa['vendorId'],_0x216eaa[_0x1cc0e9(0x93f)]),_0x12ed21=_0x29e73d[_0x1cc0e9(0x15c)]['find'](_0x1c33d8=>_0x1c33d8['type']===_0x206b99['Prompt']);return await _0x27a32c(_0x216eaa[_0x1cc0e9(0x8e4)]??_0x155db5,_0x216eaa,_0x12ed21,_0x29e73d[_0x1cc0e9(0x15c)],{'documentParserConnector':this[_0x1cc0e9(0x682)],'fileConnector':this[_0x1cc0e9(0x4f1)],'nlpLibraryConnector':this[_0x1cc0e9(0xa39)],'generativeAIWorkerConnectors':this[_0x1cc0e9(0x46b)],'models':Array[_0x1cc0e9(0xa3e)](this[_0x1cc0e9(0x249)][_0x1cc0e9(0x70f)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x1cc0e9(0x59a)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x1cc0e9(0x39f)]});}if('embed'===_0x216eaa[_0x1cc0e9(0x983)])return await _0x27c40e(_0x216eaa,{'documentParserConnector':this[_0x1cc0e9(0x682)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x1cc0e9(0xa3e)](this[_0x1cc0e9(0x249)]['values']()),'contentMediator':this[_0x1cc0e9(0x8b0)],'searchConnector':this[_0x1cc0e9(0x59a)],'aiSearchConnector':this[_0x1cc0e9(0x187)],'queryFileConnector':this[_0x1cc0e9(0x39f)]});if(_0x1cc0e9(0x685)===_0x216eaa['type'])return await _0x1c6044(_0x216eaa[_0x1cc0e9(0x8e4)]??_0x155db5,_0x216eaa,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x1cc0e9(0x4f1)],'nlpLibraryConnector':this[_0x1cc0e9(0xa39)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x1cc0e9(0xa3e)](this['models'][_0x1cc0e9(0x70f)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x1cc0e9(0x187)],'queryFileConnector':this['queryFileConnector']});if('rate'===_0x216eaa[_0x1cc0e9(0x983)])return await _0x1a9472[_0x1cc0e9(0x817)]({'jobType':_0x1c79aa['Rating'],'type':_0x5ece34['PromptRating'],'jobId':_0x216eaa[_0x1cc0e9(0x8e4)],'threadId':_0x216eaa['threadId'],'traceLevel':_0x26f179[_0x1cc0e9(0x7cb)],'startTime':Date[_0x1cc0e9(0x88b)](),'timestamp':Date[_0x1cc0e9(0x88b)](),'status':_0x1cc0e9(0x657),'rating':_0x216eaa[_0x1cc0e9(0x263)],'feedback':_0x216eaa[_0x1cc0e9(0x8a3)]}),{'type':'rate','status':_0x5bfdb7[_0x1cc0e9(0x82f)][_0x1cc0e9(0x546)]};if(_0x1cc0e9(0x8ff)===_0x216eaa[_0x1cc0e9(0x983)])return await _0x205cb5(_0x216eaa,{'documentParserConnector':this[_0x1cc0e9(0x682)],'fileConnector':this[_0x1cc0e9(0x4f1)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x1cc0e9(0x46b)],'models':Array[_0x1cc0e9(0xa3e)](this[_0x1cc0e9(0x249)]['values']()),'contentMediator':this[_0x1cc0e9(0x8b0)],'searchConnector':this[_0x1cc0e9(0x59a)],'aiSearchConnector':this[_0x1cc0e9(0x187)],'queryFileConnector':this[_0x1cc0e9(0x39f)]});if(_0x1cc0e9(0xe3)===_0x216eaa[_0x1cc0e9(0x983)]){const _0x271638=await _0x284f10['getWorkflow'](_0x216eaa[_0x1cc0e9(0x793)],_0x216eaa[_0x1cc0e9(0x93f)]),_0x3e8ce8=_0x271638['blocks'][_0x1cc0e9(0x7cc)](_0x206be3=>_0x206be3[_0x1cc0e9(0x983)]===_0x206b99[_0x1cc0e9(0x1f4)]),_0x275fba=_0x271638['blocks']['filter'](_0x5b672a=>_0x5b672a[_0x1cc0e9(0x670)]?.['some'](_0x527ef2=>_0x527ef2[_0x1cc0e9(0x983)]===_0x3b71c2[_0x1cc0e9(0x2f3)]&&_0x527ef2[_0x1cc0e9(0x560)]===_0x3e8ce8[_0x1cc0e9(0x560)]))['flatMap'](_0xa8f303=>_0x3a8148(_0xa8f303,_0x271638[_0x1cc0e9(0x15c)]));return{'type':_0x1cc0e9(0xe3),'apiKey':this['openAIKey'],'modelId':_0x3e8ce8[_0x1cc0e9(0x862)],'instructions':_0x3e8ce8['instructions'],'temperature':_0x3e8ce8[_0x1cc0e9(0x46e)],'maxTokens':_0x3e8ce8['maxTokens'],'initialPrompt':_0x271638[_0x1cc0e9(0xa2)],'tools':_0x275fba[_0x1cc0e9(0x943)](_0x21c45f=>({..._0x21c45f,'name':this[_0x1cc0e9(0x274)](_0x21c45f),'description':this[_0x1cc0e9(0x4a5)](_0x21c45f),'parameters':this['getToolParams'](_0x21c45f)}))};}if('file-delete'===_0x216eaa['type']){const {vendorId:_0x1a093d,collectionId:_0x38fae9,fileId:_0x2f778a}=_0x216eaa,_0x9f133a=await _0x284f10['getDataCollection'](_0x1a093d,_0x38fae9),_0x16ff95=this['ragConnectors']?.[_0x1cc0e9(0x627)](_0x9f133a['storageType']);if(!_0x16ff95)throw new Error('No\x20RAG\x20connector\x20available');const _0x437576=_0x381c75(_0x1a093d,_0x9f133a);if(_0x9f133a[_0x1cc0e9(0x99a)]===_0x5bfdb7[_0x1cc0e9(0x958)][_0x1cc0e9(0x6e4)])try{await _0x16ff95['deleteFile'](_0x437576,_0x38fae9,'/'+_0x1a093d+'/'+_0x38fae9+'/'+_0x2f778a),await this[_0x1cc0e9(0x700)][_0x1cc0e9(0x1e8)]('/'+_0x1a093d+'/'+_0x38fae9+'/'+_0x2f778a);}catch(_0x28ab0e){_0x2d5d47['error'](_0x1cc0e9(0x9fa),_0x28ab0e);}else try{await _0x16ff95[_0x1cc0e9(0x5be)](_0x437576,_0x38fae9,_0x2f778a);}catch(_0x308354){_0x2d5d47['error'](_0x1cc0e9(0x9fa),_0x308354);}return{'type':_0x1cc0e9(0x72a)};}if('file-download'===_0x216eaa['type']){let _0x1a50fc;const _0x372727=this['dataStores'][_0x1cc0e9(0x5a9)]();for(;!_0x1a50fc;){const _0x1227f4=_0x372727[_0x1cc0e9(0x631)]()[_0x1cc0e9(0x320)];if(!_0x1227f4)throw new Error(_0x1cc0e9(0x193));_0x1a50fc=this[_0x1cc0e9(0x24e)][_0x1cc0e9(0x627)](_0x1227f4);try{const _0x5abc63=await _0x1a50fc['get'](_0x216eaa['documentPath']);return{'type':_0x1cc0e9(0x783),'fileName':_0x5abc63[_0x1cc0e9(0x7fe)],'mimeType':_0x5abc63['type'],'document':await _0x5abc63[_0x1cc0e9(0xa91)]()};}catch(_0x385a35){continue;}}throw new Error(_0x1cc0e9(0x193));}if(_0x1cc0e9(0x49f)===_0x216eaa[_0x1cc0e9(0x983)]){const {vendorId:_0xf17384,collectionId:_0x3af02e,fileName:_0xe4c358,content:_0x497903}=_0x216eaa,_0x53abf2=await _0x284f10['getDataCollection'](_0xf17384,_0x3af02e);if(_0x53abf2[_0x1cc0e9(0x99a)]!==_0x5bfdb7[_0x1cc0e9(0x958)][_0x1cc0e9(0x6e4)]){const _0x11111c=this[_0x1cc0e9(0x26b)]?.[_0x1cc0e9(0x627)](_0x53abf2['storageType']);if(!_0x11111c)throw new Error(_0x1cc0e9(0x281));const _0x114ca3=_0x381c75(_0xf17384,_0x53abf2);return await _0x11111c[_0x1cc0e9(0x4a2)](_0x114ca3,_0x3af02e,_0xe4c358,_0x497903),{'type':'file-ingest'};}const _0x104f43=_0x53abf2['ingestBlocks']?.[_0x1cc0e9(0x7cc)](_0x22482b=>_0x22482b[_0x1cc0e9(0x983)]===_0x3259e5['Upload']);if(!_0x104f43)throw new Error(_0x1cc0e9(0x822));const _0x268390=(0x0,_0x529b6e['v4'])();return _0x1a9472[_0x1cc0e9(0x29d)](_0xf17384,_0x268390),await _0x553a43(_0x216eaa['vendorId'],_0x268390,'/'+_0xf17384+'/'+_0x3af02e+'/'+_0xe4c358,_0x497903,_0x104f43,_0x53abf2,{'objectStoreConnector':this[_0x1cc0e9(0x700)],'ragConnector':this[_0x1cc0e9(0x26b)]?.[_0x1cc0e9(0x627)](_0x5bfdb7[_0x1cc0e9(0x958)]['Crewdle']),'documentParserConnector':this[_0x1cc0e9(0x682)],'fileConnector':this[_0x1cc0e9(0x4f1)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x1cc0e9(0x46b)],'models':Array['from'](this[_0x1cc0e9(0x249)]['values']()),'contentMediator':this[_0x1cc0e9(0x8b0)]}),_0x1a9472['closeTrace'](_0x268390),{'type':_0x1cc0e9(0x49f)};}if(_0x1cc0e9(0x8b8)===_0x216eaa['type']){const {vendorId:_0x5ae6ae,collectionId:_0x4621ba}=_0x216eaa,_0x5d5788=await _0x284f10[_0x1cc0e9(0xa38)](_0x5ae6ae,_0x4621ba);if(_0x5d5788['storageType']!==_0x5bfdb7[_0x1cc0e9(0x958)][_0x1cc0e9(0x6e4)]){const _0x3a1fb2=this['ragConnectors']?.[_0x1cc0e9(0x627)](_0x5d5788[_0x1cc0e9(0x99a)]);if(!_0x3a1fb2)throw new Error('No\x20RAG\x20connector\x20available');const _0x164ca9=_0x381c75(_0x5ae6ae,_0x5d5788);return{'type':_0x1cc0e9(0x8b8),'files':await _0x3a1fb2[_0x1cc0e9(0x86f)](_0x164ca9,_0x4621ba)};}try{return{'type':'file-list','files':(await this[_0x1cc0e9(0x700)][_0x1cc0e9(0x3f3)]('/'+_0x5ae6ae+'/'+_0x4621ba,!0x1))[_0x1cc0e9(0x943)](_0x247c7d=>({'name':_0x247c7d[_0x1cc0e9(0x7fe)],'id':_0x247c7d[_0x1cc0e9(0x7fe)],'status':_0x1cc0e9(0x7d7)}))};}catch(_0x414912){return{'type':_0x1cc0e9(0x8b8),'files':[]};}}if(_0x1cc0e9(0x974)===_0x216eaa[_0x1cc0e9(0x983)]){const {vendorId:_0x303f66,collectionId:_0x81026b}=_0x216eaa,_0x29863e=await _0x284f10[_0x1cc0e9(0xa38)](_0x303f66,_0x81026b),_0x4fa4f0=this[_0x1cc0e9(0x26b)]?.[_0x1cc0e9(0x627)](_0x29863e['storageType']);if(!_0x4fa4f0)return{'type':_0x1cc0e9(0x974)};const _0x4898dc=_0x381c75(_0x303f66,_0x29863e);return await _0x4fa4f0[_0x1cc0e9(0x4a0)](_0x4898dc,_0x81026b),{'type':_0x1cc0e9(0x974)};}if('collection-delete'===_0x216eaa[_0x1cc0e9(0x983)]){const {vendorId:_0x497a32,collectionId:_0x1a56a6}=_0x216eaa,_0x35f48a=await _0x284f10[_0x1cc0e9(0xa38)](_0x497a32,_0x1a56a6),_0x2586d6=this[_0x1cc0e9(0x26b)]?.[_0x1cc0e9(0x627)](_0x35f48a[_0x1cc0e9(0x99a)]);if(!_0x2586d6)return{'type':_0x1cc0e9(0x343)};const _0x35eeb8=_0x381c75(_0x497a32,_0x35f48a);let _0x30334a=!0x1;if(_0x35f48a['hosting']===_0x176cec['Dedicated']&&(_0x30334a=!0x0),_0x35f48a[_0x1cc0e9(0x6db)]===_0x176cec[_0x1cc0e9(0x9fe)]){_0x30334a=!0x0;const _0x173eb6=await _0x284f10[_0x1cc0e9(0x4f0)](_0x497a32);for(const _0x17eab4 of _0x173eb6)if(_0x17eab4[_0x1cc0e9(0x99a)]===_0x35f48a[_0x1cc0e9(0x99a)]&&_0x17eab4[_0x1cc0e9(0x6db)]===_0x176cec[_0x1cc0e9(0x9fe)]&&_0x17eab4['id']!==_0x35f48a['id']){_0x30334a=!0x1;break;}}try{await _0x2586d6[_0x1cc0e9(0x65f)](_0x35eeb8,_0x1a56a6,_0x30334a);}catch(_0x44845d){_0x2d5d47[_0x1cc0e9(0x2a8)](_0x1cc0e9(0x656),_0x44845d);}return{'type':'collection-delete'};}if(_0x1cc0e9(0x843)===_0x216eaa[_0x1cc0e9(0x983)]){const {query:_0x3f97da,vendorId:_0xd0bb27,collectionId:_0x2942b2}=_0x216eaa,_0x26ba2b=await _0x284f10[_0x1cc0e9(0xa38)](_0xd0bb27,_0x2942b2);if(_0x26ba2b['storageType']!==_0x5bfdb7[_0x1cc0e9(0x958)][_0x1cc0e9(0x6e4)]){const _0xf4de7a=this[_0x1cc0e9(0x26b)]?.[_0x1cc0e9(0x627)](_0x26ba2b['storageType']);if(!_0xf4de7a)throw new Error('No\x20RAG\x20connector\x20available');const _0xc785ae=_0x381c75(_0xd0bb27,_0x26ba2b);return{'type':_0x1cc0e9(0x843),'results':await _0xf4de7a[_0x1cc0e9(0x4bc)](_0xc785ae,_0x2942b2,_0x3f97da,0x1)};}const _0x5d9ceb=_0x26ba2b[_0x1cc0e9(0x1a0)]?.[_0x1cc0e9(0x7cc)](_0xc59803=>_0xc59803[_0x1cc0e9(0x983)]===_0x3259e5[_0x1cc0e9(0x710)]);return{'type':'collection-query','results':(await _0x5ec77c(_0x216eaa[_0x1cc0e9(0x793)],_0x155db5,'',_0x3f97da,_0x5d9ceb,_0x26ba2b,{'objectStoreConnector':this[_0x1cc0e9(0x700)],'ragConnector':this[_0x1cc0e9(0x26b)]?.[_0x1cc0e9(0x627)](_0x5bfdb7[_0x1cc0e9(0x958)][_0x1cc0e9(0x6e4)]),'documentParserConnector':this[_0x1cc0e9(0x682)],'fileConnector':this[_0x1cc0e9(0x4f1)],'nlpLibraryConnector':this[_0x1cc0e9(0xa39)],'generativeAIWorkerConnectors':this[_0x1cc0e9(0x46b)],'models':Array['from'](this[_0x1cc0e9(0x249)]['values']()),'contentMediator':this[_0x1cc0e9(0x8b0)],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x1cc0e9(0x39f)]}))[_0x1cc0e9(0x462)]??[]};}throw new Error('Unsupported\x20job\x20type');}async*[_0x52a325(0x63f)](_0x49375a,_0x1c51ff){const _0xc8d152=_0x52a325;if(_0xc8d152(0xa75)===_0x1c51ff[_0xc8d152(0x983)]){const _0x19af22=await _0x284f10[_0xc8d152(0xfd)](_0x1c51ff[_0xc8d152(0x793)],_0x1c51ff[_0xc8d152(0x93f)]),_0x2bd7fb=_0x19af22[_0xc8d152(0x15c)][_0xc8d152(0x7cc)](_0x219b1c=>_0x219b1c[_0xc8d152(0x983)]===_0x206b99[_0xc8d152(0x710)]);for await(const _0x5cfd68 of _0x231220(_0x1c51ff['jobId']??_0x49375a,_0x1c51ff,_0x2bd7fb,_0x19af22[_0xc8d152(0x15c)],{'documentParserConnector':this[_0xc8d152(0x682)],'fileConnector':this[_0xc8d152(0x4f1)],'nlpLibraryConnector':this[_0xc8d152(0xa39)],'generativeAIWorkerConnectors':this[_0xc8d152(0x46b)],'models':Array[_0xc8d152(0xa3e)](this[_0xc8d152(0x249)][_0xc8d152(0x70f)]()),'contentMediator':this[_0xc8d152(0x8b0)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0xc8d152(0x187)],'queryFileConnector':this['queryFileConnector']}))yield _0x5cfd68;}if(_0xc8d152(0x685)===_0x1c51ff[_0xc8d152(0x983)]){for await(const _0x468308 of _0x10ad35(_0x1c51ff[_0xc8d152(0x8e4)]??_0x49375a,_0x1c51ff,{'documentParserConnector':this[_0xc8d152(0x682)],'fileConnector':this[_0xc8d152(0x4f1)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0xc8d152(0x46b)],'models':Array[_0xc8d152(0xa3e)](this[_0xc8d152(0x249)][_0xc8d152(0x70f)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0xc8d152(0x59a)],'aiSearchConnector':this[_0xc8d152(0x187)],'queryFileConnector':this[_0xc8d152(0x39f)]}))yield _0x468308;}}async[_0x52a325(0x19c)](_0xc8d7bb,_0x56b9a0){const _0x2aca62=_0x52a325;if(_0x2aca62(0x68b)===_0x56b9a0['type'])return _0xc8d7bb=_0x56b9a0['jobId'],void await this[_0x2aca62(0x29d)](_0xc8d7bb,_0x56b9a0[_0x2aca62(0x793)],_0x56b9a0[_0x2aca62(0x93f)]);_0x2aca62(0xa75)!==_0x56b9a0[_0x2aca62(0x983)]&&'inference'!==_0x56b9a0[_0x2aca62(0x983)]||!_0x56b9a0[_0x2aca62(0x8e4)]||(_0xc8d7bb=_0x56b9a0[_0x2aca62(0x8e4)]),await this[_0x2aca62(0x29d)](_0xc8d7bb,_0x56b9a0[_0x2aca62(0x793)],_0x56b9a0[_0x2aca62(0x93f)],_0x56b9a0[_0x2aca62(0x5b7)]),await _0x1a9472[_0x2aca62(0x817)]({'jobType':_0x1c79aa[_0x2aca62(0x2df)],'type':_0x4f21a3[_0x2aca62(0x1ef)],'traceLevel':_0x26f179[_0x2aca62(0x7cb)],'jobId':_0xc8d7bb,'threadId':_0x56b9a0[_0x2aca62(0x5b7)],'startTime':Date['now'](),'timestamp':Date[_0x2aca62(0x88b)](),'status':'success'});}async[_0x52a325(0x54e)](_0x18d40d,_0x9aeddb){const _0x3aa9b8=_0x52a325;if(_0x3aa9b8(0x68b)===_0x9aeddb[_0x3aa9b8(0x983)])return _0x18d40d=_0x9aeddb[_0x3aa9b8(0x8e4)],void await this['closeTrace'](_0x18d40d);_0x3aa9b8(0xa75)!==_0x9aeddb['type']&&_0x3aa9b8(0x685)!==_0x9aeddb[_0x3aa9b8(0x983)]||!_0x9aeddb[_0x3aa9b8(0x8e4)]||(_0x18d40d=_0x9aeddb[_0x3aa9b8(0x8e4)]),await _0x1a9472[_0x3aa9b8(0x817)]({'jobType':_0x1c79aa[_0x3aa9b8(0x2df)],'type':_0x4f21a3['Completed'],'traceLevel':_0x26f179[_0x3aa9b8(0x7cb)],'jobId':_0x18d40d,'threadId':_0x9aeddb[_0x3aa9b8(0x5b7)],'startTime':Date[_0x3aa9b8(0x88b)](),'timestamp':Date[_0x3aa9b8(0x88b)](),'status':_0x3aa9b8(0x657)}),await this[_0x3aa9b8(0x47d)](_0x18d40d,_0x9aeddb[_0x3aa9b8(0x5b7)]);}['getToolName'](_0x1b6517){const _0x2ccbb7=_0x52a325;switch(_0x1b6517['type']){case _0x206b99['Agent']:case _0x206b99[_0x2ccbb7(0x956)]:return _0x2ccbb7(0x667)+_0x1b6517[_0x2ccbb7(0x7fe)][_0x2ccbb7(0x13e)](/[^a-zA-Z]/g,'');case _0x206b99['WorkflowTool']:return _0x2ccbb7(0x5ce)+_0x1b6517[_0x2ccbb7(0x7fe)]['replace'](/[^a-zA-Z]/g,'');case _0x206b99[_0x2ccbb7(0x336)]:case _0x206b99[_0x2ccbb7(0x873)]:return'searchInDataCollection'+_0x1b6517['name']['replace'](/[^a-zA-Z]/g,'');case _0x206b99[_0x2ccbb7(0x87e)]:return _0x1b6517[_0x2ccbb7(0x7fe)][_0x2ccbb7(0x13e)](/[^a-zA-Z]/g,'');case _0x206b99[_0x2ccbb7(0x764)]:return _0x2ccbb7(0x9e7);case _0x206b99[_0x2ccbb7(0x308)]:return _0x2ccbb7(0x145);case _0x206b99[_0x2ccbb7(0x947)]:return _0x2ccbb7(0x3df);case _0x206b99['WebScraper']:case _0x206b99[_0x2ccbb7(0x1ea)]:return'fetchContentFromUrl';case _0x5bfdb7['GenerativeAIInferenceToolType'][_0x2ccbb7(0x405)]:return'getQuestion'+_0x1b6517[_0x2ccbb7(0x7fe)][_0x2ccbb7(0x13e)](/[^a-zA-Z]/g,'');case _0x5bfdb7[_0x2ccbb7(0x433)][_0x2ccbb7(0x8c8)]:return _0x2ccbb7(0x9cd)+_0x1b6517[_0x2ccbb7(0x7fe)][_0x2ccbb7(0x13e)](/[^a-zA-Z]/g,'');case _0x5bfdb7['GenerativeAIInferenceToolType'][_0x2ccbb7(0x270)]:return'submitForm'+_0x1b6517[_0x2ccbb7(0x7fe)][_0x2ccbb7(0x13e)](/[^a-zA-Z]/g,'');default:return'';}}[_0x52a325(0x4a5)](_0x88d3ad){const _0x31c9d1=_0x52a325;switch(_0x88d3ad[_0x31c9d1(0x983)]){case _0x206b99[_0x31c9d1(0x1f4)]:case _0x206b99[_0x31c9d1(0x956)]:return _0x31c9d1(0x7a5)+_0x88d3ad[_0x31c9d1(0xa2c)]+_0x31c9d1(0x30b);case _0x206b99[_0x31c9d1(0xea)]:return _0x31c9d1(0x392)+_0x88d3ad[_0x31c9d1(0xa2c)]+_0x31c9d1(0x30b);case _0x206b99[_0x31c9d1(0x336)]:case _0x206b99[_0x31c9d1(0x873)]:return _0x31c9d1(0x4ee)+_0x88d3ad['description']+_0x31c9d1(0x233);case _0x206b99[_0x31c9d1(0x87e)]:return _0x31c9d1(0x12a)+_0x88d3ad[_0x31c9d1(0xa2c)];case _0x206b99[_0x31c9d1(0x764)]:return _0x31c9d1(0xac5);case _0x206b99[_0x31c9d1(0x308)]:return _0x31c9d1(0x999);case _0x206b99[_0x31c9d1(0x947)]:return _0x31c9d1(0x24a);case _0x206b99[_0x31c9d1(0x6fa)]:case _0x206b99['WebScraperRaw']:return _0x31c9d1(0x652);case _0x5bfdb7[_0x31c9d1(0x433)][_0x31c9d1(0x405)]:return _0x31c9d1(0x35b);case _0x5bfdb7['GenerativeAIInferenceToolType']['FormSkillSetAnswer']:return _0x31c9d1(0x687);case _0x5bfdb7['GenerativeAIInferenceToolType'][_0x31c9d1(0x270)]:return'Submit\x20the\x20form.';default:return'';}}[_0x52a325(0x784)](_0x21c19f){const _0x2a13b5=_0x52a325;switch(_0x21c19f[_0x2a13b5(0x983)]){case _0x206b99[_0x2a13b5(0x1f4)]:case _0x206b99['AgentSkill']:case _0x206b99['WorkflowTool']:return[{'name':_0x2a13b5(0xa75),'type':_0x2a13b5(0x347)}];case _0x206b99[_0x2a13b5(0x336)]:case _0x206b99['Knowledge']:return[{'name':'queryOrPrompt','type':_0x2a13b5(0x347)}];case _0x206b99[_0x2a13b5(0x87e)]:return _0x21c19f[_0x2a13b5(0xaba)][_0x2a13b5(0x943)](_0x3a7417=>({'name':_0x3a7417['name'],'type':_0x3a7417['type']??_0x2a13b5(0x347)}))??[];case _0x206b99[_0x2a13b5(0x764)]:return[{'name':_0x2a13b5(0x204),'type':_0x2a13b5(0x347)}];case _0x206b99['Code']:return[{'name':'code','type':_0x2a13b5(0x347)}];case _0x206b99[_0x2a13b5(0x947)]:return[{'name':'query','type':_0x2a13b5(0x347)}];case _0x206b99[_0x2a13b5(0x6fa)]:case _0x206b99[_0x2a13b5(0x1ea)]:return[{'name':_0x2a13b5(0x1da),'type':'string'},{'name':_0x2a13b5(0x18c),'type':_0x2a13b5(0x7ff)}];case _0x5bfdb7[_0x2a13b5(0x433)]['FormSkillGetQuestion']:return[];case _0x5bfdb7[_0x2a13b5(0x433)][_0x2a13b5(0x8c8)]:return[{'name':'id','type':_0x2a13b5(0x347)},{'name':'answer','type':_0x2a13b5(0x347)}];case _0x5bfdb7[_0x2a13b5(0x433)][_0x2a13b5(0x270)]:default:return[];}}[_0x52a325(0x2d2)](){const _0x3f1324=_0x52a325;try{return this[_0x3f1324(0x954)]['getCapacityReport']()[_0x3f1324(0x696)][_0x3f1324(0x741)]*(0x1-this[_0x3f1324(0x954)][_0x3f1324(0xa7)]()[_0x3f1324(0x696)]['load']);}catch(_0x5683f4){return _0x2d5d47[_0x3f1324(0x109)](_0x422206[_0x3f1324(0x46a)],_0x3f1324(0x778),_0x5683f4),0x0;}}[_0x52a325(0x34a)](){const _0x2df004=_0x52a325;this[_0x2df004(0xa3)]&&(this[_0x2df004(0xc1)]&&clearTimeout(this[_0x2df004(0xc1)]),this[_0x2df004(0xc1)]=setTimeout(async()=>{const _0x2c3f9b=_0x2df004;delete this['debounceStats'];let _0x55b5da=0x0;for(const _0x2f5912 of this['dataStores'][_0x2c3f9b(0x70f)]())_0x55b5da+=await _0x2f5912[_0x2c3f9b(0x744)]();this['systemTopic']['publish']({'sourceId':_0x1ee970,'messageType':_0x5ebcbf['Content'],'content':{'type':_0x539ab3['GenerativeAIWorkerStats'],'label':this[_0x2c3f9b(0x7cd)],'stats':{'timestamp':Date[_0x2c3f9b(0x88b)](),'storage':_0x55b5da,'messagesSent':this[_0x2c3f9b(0x7d1)],'messagesReceived':this[_0x2c3f9b(0x596)],'bytesSent':this[_0x2c3f9b(0x96b)],'bytesReceived':this[_0x2c3f9b(0x434)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x2c3f9b(0x311)]}}});},_0x37693a));}[_0x52a325(0x59d)](_0x23ecf8,_0x6145b1){const _0x4b0986=_0x52a325,_0x43b8a5=this[_0x4b0986(0x7cd)],_0x1ea741=this[_0x4b0986(0x9a9)]();_0x2d5d47[_0x4b0986(0x59d)](_0x380533[_0x4b0986(0x4c4)],{'topic':_0x43b8a5,'type':'answer','nodeId':_0x1ea741,'tokenCount':_0x6145b1,'tokensPerSecond':_0x23ecf8});}async[_0x52a325(0x29d)](_0x2e8890,_0x44914a,_0x795379,_0x5d3f48){const _0x34d283=_0x52a325;try{if(!await _0x1a9472[_0x34d283(0x29d)](_0x44914a,_0x2e8890,_0x795379,_0x5d3f48))throw new Error('Error\x20opening\x20trace');return _0x2e8890;}catch(_0x2b85ef){return console['error'](_0x34d283(0x429),_0x2b85ef),'Could\x20not\x20open\x20trace';}}async['closeTrace'](_0x10f525,_0x9d68d6){const _0x27cd3a=_0x52a325;try{await _0x1a9472[_0x27cd3a(0x47d)](_0x10f525,_0x9d68d6);}catch(_0x1967ba){console[_0x27cd3a(0x2a8)]('Error\x20closing\x20trace',{'jobId':_0x10f525,'error':_0x1967ba});}}}class _0x2626f0 extends _0x376443{[_0x52a325(0x8df)];[_0x52a325(0x285)];[_0x52a325(0x793)];['db'];['debounceStats'];[_0x52a325(0x97f)]=0x0;[_0x52a325(0xa03)]=0x0;[_0x52a325(0x27e)]=!0x1;constructor(_0x59cfbe,_0x4a0ec0,_0x300f78,_0x228b96,_0x5d04d4){const _0xeb0d29=_0x52a325;if(_0xeb0d29(0x347)!=typeof _0x4a0ec0)throw new _0x1d1fb5(_0x433410[_0xeb0d29(0x294)],'Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x59cfbe,_0x4a0ec0),this[_0xeb0d29(0x8df)]=_0x59cfbe,this[_0xeb0d29(0x285)]=_0x300f78,this[_0xeb0d29(0x793)]=_0x228b96;const _0x58229a='ccc'+this[_0xeb0d29(0x793)]+'ccc'+this[_0xeb0d29(0x285)]+_0xeb0d29(0x2be)+this[_0xeb0d29(0x7cd)];this['db']=new _0x5d04d4(_0x58229a),this[_0xeb0d29(0x34a)]();}[_0x52a325(0x160)](){const _0x581d6c=_0x52a325;return this[_0x581d6c(0x27e)];}[_0x52a325(0x60c)](_0x4c8fb3){const _0x5c92ee=_0x52a325;this[_0x5c92ee(0x27e)]=_0x4c8fb3;}[_0x52a325(0x3d9)](){const _0x5e8d28=_0x52a325;clearTimeout(this['debounceStats']),delete this[_0x5e8d28(0xc1)],super['destroy']();}[_0x52a325(0x93c)](){const _0x12bf5f=_0x52a325;this['systemTopic'][_0x12bf5f(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x12bf5f(0xa32)],'content':{'type':_0x539ab3[_0x12bf5f(0xa6e)],'label':this[_0x12bf5f(0x7cd)]}});}['getContentType'](){return _0x5bfdb7['ContentType']['GraphDatabase'];}[_0x52a325(0x4da)](){const _0x17b7fe=_0x52a325;this[_0x17b7fe(0x34a)]();}[_0x52a325(0x287)](_0x191bce,_0x37533e,_0x580aac,_0x3c2159){const _0x3aadec=_0x52a325;this['db'][_0x3aadec(0x287)](_0x191bce,_0x37533e,_0x580aac,_0x3c2159),this[_0x3aadec(0x97f)]+=0x1,this[_0x3aadec(0x34a)]();}['addEdge'](_0x507637,_0x3894c8){const _0x436aa8=_0x52a325;this['db'][_0x436aa8(0x2de)](_0x507637,_0x3894c8),this[_0x436aa8(0x97f)]+=0x1,this['sendStats']();}[_0x52a325(0x770)](_0x5b93c0,_0x14b5b6,_0x22c38d){const _0x50395c=_0x52a325,_0x369a=this['db'][_0x50395c(0x770)](_0x5b93c0,_0x14b5b6,_0x22c38d);return this[_0x50395c(0xa03)]+=0x1,_0x2d5d47['logServiceEvent'](_0x380533[_0x50395c(0xa7b)],{'type':'get-content','label':this[_0x50395c(0x7cd)],'nodeId':this[_0x50395c(0x8df)]['getId'](),'nodeType':this[_0x50395c(0x8df)][_0x50395c(0x983)],'clusterId':this[_0x50395c(0x285)],'size':0x0}),this[_0x50395c(0x34a)](),_0x369a;}[_0x52a325(0xff)](_0x458d95){const _0x161b0d=_0x52a325;this['db'][_0x161b0d(0xff)](_0x458d95),this[_0x161b0d(0x97f)]+=0x1,this[_0x161b0d(0x34a)]();}[_0x52a325(0x6b3)](_0x11f0dd){this['db']['saveToDisk'](_0x11f0dd);}[_0x52a325(0x25d)](_0x33d15b){const _0x4f2816=_0x52a325;this['db'][_0x4f2816(0x25d)](_0x33d15b);}[_0x52a325(0x34a)](){const _0x3c84f2=_0x52a325;this[_0x3c84f2(0xc1)]&&clearTimeout(this[_0x3c84f2(0xc1)]),this[_0x3c84f2(0xc1)]=setTimeout(async()=>{const _0x567f12=_0x3c84f2;delete this[_0x567f12(0xc1)];const _0x22d5b9=this['db'][_0x567f12(0x744)]();this[_0x567f12(0xbb)]['publish']({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x567f12(0xa32)],'content':{'type':_0x539ab3[_0x567f12(0x6ee)],'label':this[_0x567f12(0x7cd)],'stats':{'timestamp':Date[_0x567f12(0x88b)](),'storage':_0x22d5b9,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x567f12(0x596)],'bytesSent':this[_0x567f12(0x96b)],'bytesReceived':this[_0x567f12(0x434)],'writes':this[_0x567f12(0x97f)],'reads':this[_0x567f12(0xa03)],'prompts':0x0,'tokens':0x0}}}),_0x2d5d47[_0x567f12(0x4b2)](_0x380533[_0x567f12(0xa7b)],_0x567f12(0x2be)+this[_0x567f12(0x285)]+'ccc'+this[_0x567f12(0x7cd)],_0x22d5b9);},_0x37693a);}}class _0x149f90 extends _0x163580{[_0x52a325(0x22e)];constructor(_0x253584,_0x3c6788,_0x5c0875){const _0x27b197=_0x52a325;super(_0x253584,_0x3c6788),this[_0x27b197(0x22e)]=_0x5c0875;}[_0x52a325(0x7d4)](){const _0x4d75dd=_0x52a325;return _0x5bfdb7[_0x4d75dd(0x689)][_0x4d75dd(0x609)];}[_0x52a325(0x717)](){const _0x437426=_0x52a325;return this[_0x437426(0x22e)];}[_0x52a325(0x423)](){const _0x36faca=_0x52a325;return this[_0x36faca(0x22e)]['id'];}}class _0x2ec4c9 extends _0x149f90{[_0x52a325(0xf7)];['params'];[_0x52a325(0x1a9)];['unregisterPublisherListener']=_0x2669b5();constructor(_0x4479d6,_0xe04146,_0x17b91c,_0x4170be,_0xd5c5c1){const _0x216611=_0x52a325;super(_0x4479d6,_0xe04146,_0x17b91c),this[_0x216611(0xf7)]=_0x4170be,this[_0x216611(0x4a4)]=_0xd5c5c1;}[_0x52a325(0x3d9)](){const _0x4ee2b8=_0x52a325;this[_0x4ee2b8(0x21d)](_0x4ee2b8(0x4c2)),this[_0x4ee2b8(0x21d)](_0x4ee2b8(0x9e4)),super[_0x4ee2b8(0x3d9)]();}[_0x52a325(0x2f1)](_0x2fae2b){const _0x13018d=_0x52a325;if(!this['topic'])throw new _0x162f0d(_0x162f0d[_0x13018d(0x2a6)][_0x13018d(0x9ba)],{'label':this[_0x13018d(0x7cd)],'ownerId':this[_0x13018d(0x611)][_0x13018d(0x8ef)](),'remoteId':this[_0x13018d(0xf7)]});this['topic'][_0x13018d(0x7da)]({'sourceId':this[_0x13018d(0x611)][_0x13018d(0x8ef)](),'content':{'action':_0x56a1f2['Add'],'track':_0x2fae2b,'stream':this[_0x13018d(0x22e)],'priority':_0x5bfdb7[_0x13018d(0x881)][_0x13018d(0x969)],'params':this[_0x13018d(0x683)](_0x2fae2b[_0x13018d(0x414)],this[_0x13018d(0x4a4)])}});}[_0x52a325(0x21d)](_0x523542){const _0x14ef85=_0x52a325,_0x116241=this[_0x14ef85(0x36a)](_0x523542);if(_0x116241){if(!this[_0x14ef85(0x1a9)])return null;this[_0x14ef85(0x1a9)]['publish']({'sourceId':this[_0x14ef85(0x611)][_0x14ef85(0x8ef)](),'content':{'action':_0x56a1f2[_0x14ef85(0xa3b)],'track':_0x116241,'stream':this[_0x14ef85(0x22e)]}});}return _0x116241;}[_0x52a325(0x2c8)](_0x4b0243){const _0x4f495b=_0x52a325;if(!this[_0x4f495b(0x1a9)])throw new _0x162f0d(_0x162f0d[_0x4f495b(0x2a6)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x4f495b(0x7cd)],'ownerId':this['owner']['getId'](),'remoteId':this['remoteId']});this[_0x4f495b(0x1a9)]['publish']({'sourceId':this[_0x4f495b(0x611)][_0x4f495b(0x8ef)](),'content':{'action':_0x56a1f2[_0x4f495b(0x54c)],'priority':_0x4b0243,'stream':this[_0x4f495b(0x22e)]}});}['subscribe']({trackKinds:_0x21ef95,params:_0x513d7b},_0x39a8f3){const _0x12cdb6=_0x52a325;if(!this[_0x12cdb6(0x1a9)])throw new _0x162f0d(_0x162f0d[_0x12cdb6(0x2a6)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x12cdb6(0x7cd)],'ownerId':this['owner'][_0x12cdb6(0x8ef)](),'remoteId':this[_0x12cdb6(0xf7)]});for(const _0xda9cb4 of this[_0x12cdb6(0x22e)]['getTracks']())_0x21ef95['includes'](_0xda9cb4[_0x12cdb6(0x414)])&&this[_0x12cdb6(0x1a9)]['publish']({'sourceId':this[_0x12cdb6(0x611)][_0x12cdb6(0x8ef)](),'content':{'action':_0x56a1f2['Add'],'track':_0xda9cb4,'stream':this[_0x12cdb6(0x22e)],'priority':_0x39a8f3,'params':this[_0x12cdb6(0x683)](_0xda9cb4[_0x12cdb6(0x414)],_0x513d7b)}});}[_0x52a325(0xaae)]({params:_0x1ec584}){const _0x4a1e1b=_0x52a325;if(!this[_0x4a1e1b(0x1a9)])throw new _0x162f0d(_0x162f0d[_0x4a1e1b(0x2a6)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x4a1e1b(0x7cd)],'ownerId':this['owner']['getId'](),'remoteId':this['remoteId']});for(const _0x58eed1 of this[_0x4a1e1b(0x22e)][_0x4a1e1b(0x837)]())this[_0x4a1e1b(0x1a9)][_0x4a1e1b(0x7da)]({'sourceId':this[_0x4a1e1b(0x611)][_0x4a1e1b(0x8ef)](),'content':{'action':_0x56a1f2[_0x4a1e1b(0x54c)],'stream':this[_0x4a1e1b(0x22e)],'params':this['getInternalTrackParams'](_0x58eed1['kind'],_0x1ec584)}});}['unsubscribe']({trackKinds:_0x56e35c}){const _0x36031d=_0x52a325;if(this[_0x36031d(0x1a9)]){for(const _0x54b1ed of this['mediaStream'][_0x36031d(0x837)]())_0x56e35c[_0x36031d(0x8cd)](_0x54b1ed[_0x36031d(0x414)])&&this[_0x36031d(0x1a9)][_0x36031d(0x7da)]({'sourceId':this['owner'][_0x36031d(0x8ef)](),'content':{'action':_0x56a1f2[_0x36031d(0xa3b)],'stream':this['mediaStream'],'track':_0x54b1ed}});}}['registerPublisher'](_0x882c24){const _0x492848=_0x52a325;this[_0x492848(0x1a9)]=_0x882c24;}['unregisterPublisher'](_0x3c75c7){const _0x52c01f=_0x52a325;_0x3c75c7===this[_0x52c01f(0x1a9)]&&(delete this[_0x52c01f(0x1a9)],this[_0x52c01f(0x96d)][_0x52c01f(0x7da)]());}[_0x52a325(0x1e0)](_0xadc0dc){const _0x2adb9b=_0x52a325;return this[_0x2adb9b(0x96d)][_0x2adb9b(0xaa1)](_0xadc0dc);}['getTrack'](_0x584402){const _0x5e7836=_0x52a325;return this['mediaStream'][_0x5e7836(0x837)]()[_0x5e7836(0x7cc)](_0x212922=>_0x212922[_0x5e7836(0x414)]===_0x584402)||null;}[_0x52a325(0x683)](_0x454093,_0x26d360){const _0x1c2d15=_0x52a325;let _0x3afab4;return'video'===_0x454093&&_0x26d360?.[_0x1c2d15(0x9e4)]&&_0x1c2d15(0x766)!=typeof _0x26d360[_0x1c2d15(0x9e4)]&&(_0x3afab4={'kind':'video',..._0x26d360['video']},_0x3afab4['resolution']=this[_0x1c2d15(0x130)]()),_0x1c2d15(0x4c2)===_0x454093&&_0x26d360?.['audio']&&_0x1c2d15(0x766)!=typeof _0x26d360[_0x1c2d15(0x4c2)]&&(_0x3afab4={'kind':_0x1c2d15(0x4c2),..._0x26d360[_0x1c2d15(0x4c2)]}),_0x3afab4;}[_0x52a325(0x130)](){const _0x181f77=_0x52a325;let _0x192722={'width':0x0,'height':0x0};const _0x305768=this[_0x181f77(0x22e)]['getVideoTracks']();if(_0x305768[_0x181f77(0x761)]>0x0){const _0xd63734=_0x305768[0x0][_0x181f77(0x9de)]();_0xd63734[_0x181f77(0x665)]&&_0xd63734[_0x181f77(0x440)]&&(_0x192722={'width':_0xd63734[_0x181f77(0x665)],'height':_0xd63734[_0x181f77(0x440)]});}return _0x192722;}}class _0x4da5dc extends _0x149f90{[_0x52a325(0x285)];['priority']=_0x5bfdb7[_0x52a325(0x881)][_0x52a325(0x969)];[_0x52a325(0x856)]=new Map();[_0x52a325(0x5f8)]=new Map();constructor(_0x18f212,_0x3f9195,_0x352e57,_0x52332c){const _0x190395=_0x52a325;super(_0x18f212,_0x3f9195,_0x352e57 instanceof MediaStream?_0x352e57:_0x352e57[_0x190395(0x6a4)]?_0x352e57[_0x190395(0x6a4)]:_0x352e57['captureStream']()),this[_0x190395(0x285)]=_0x52332c,this[_0x190395(0x22e)][_0x190395(0x837)]()[_0x190395(0x854)](_0x1837a2=>this['setupTrackEndedListeners'](_0x1837a2)),_0x2d5d47[_0x190395(0x59d)](_0x380533[_0x190395(0xa02)],{'type':_0x190395(0x7da),'label':this[_0x190395(0x7cd)],'nodeId':this[_0x190395(0x611)][_0x190395(0x8ef)](),'nodeType':this[_0x190395(0x611)][_0x190395(0x983)],'clusterId':this[_0x190395(0x285)],'streamId':this[_0x190395(0x423)](),'trackKinds':this['mediaStream']['getTracks']()['map'](_0x266097=>_0x266097[_0x190395(0x414)])});}[_0x52a325(0x3d9)](){const _0x12ec77=_0x52a325;this[_0x12ec77(0x5f8)]['size']>0x0&&(this['outgoingStreams'][_0x12ec77(0x854)](_0x2ab5eb=>{const _0x4fcac2=_0x12ec77;_0x2ab5eb[_0x4fcac2(0x772)](),_0x2ab5eb[_0x4fcac2(0x3d9)]();}),this[_0x12ec77(0x5f8)][_0x12ec77(0xaa)]()),this[_0x12ec77(0x856)]['forEach'](_0x17ad21=>_0x17ad21()),super[_0x12ec77(0x3d9)]();}[_0x52a325(0x7da)](_0x3e50da){const _0x3d5aa7=_0x52a325;this[_0x3d5aa7(0xbb)][_0x3d5aa7(0x7da)]({'sourceId':this[_0x3d5aa7(0x611)]['getId'](),'destinationIds':_0x3e50da?[_0x3e50da]:void 0x0,'propagate':!0x0,'messageType':_0x5ebcbf['Content'],'content':{'type':_0x539ab3['PublishMediaStream'],'ownerId':this['owner'][_0x3d5aa7(0x8ef)](),'label':this['label'],'stream':{'streamId':this[_0x3d5aa7(0x423)](),'availableTrackKinds':this[_0x3d5aa7(0x22e)]['getTracks']()[_0x3d5aa7(0x943)](_0x60e374=>_0x60e374[_0x3d5aa7(0x414)])}}});}[_0x52a325(0x61f)](){const _0x4aee6e=_0x52a325;this[_0x4aee6e(0xbb)][_0x4aee6e(0x7da)]({'sourceId':this[_0x4aee6e(0x611)][_0x4aee6e(0x8ef)](),'propagate':!0x0,'messageType':_0x5ebcbf[_0x4aee6e(0xa32)],'content':{'type':_0x539ab3[_0x4aee6e(0x14a)],'ownerId':this['owner']['getId'](),'label':this[_0x4aee6e(0x7cd)]}}),this[_0x4aee6e(0xbb)][_0x4aee6e(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x4aee6e(0xa32)],'content':{'type':_0x539ab3['CloseMediaStream'],'label':this['label']}}),_0x2d5d47['logServiceEvent'](_0x380533['MediaStream'],{'type':_0x4aee6e(0x61f),'label':this[_0x4aee6e(0x7cd)],'nodeId':this[_0x4aee6e(0x611)]['getId'](),'nodeType':this[_0x4aee6e(0x611)][_0x4aee6e(0x983)],'clusterId':this[_0x4aee6e(0x285)],'streamId':this['getInternalStreamId']()});}[_0x52a325(0x3cc)](){const _0x3db1dc=_0x52a325;return this[_0x3db1dc(0x2c9)];}[_0x52a325(0x2c8)](_0x201222){const _0x1cfd54=_0x52a325;this[_0x1cfd54(0x2c9)]=_0x201222,this[_0x1cfd54(0x5f8)]['forEach'](_0x493adc=>_0x493adc[_0x1cfd54(0x2c8)](_0x201222));}['getShareableStream'](_0x512e2f,_0x3c09a4){const _0x43c1e2=_0x52a325;if(!this[_0x43c1e2(0x5f8)][_0x43c1e2(0xed)](_0x512e2f)){const _0x552256=new _0x2ec4c9(this[_0x43c1e2(0x611)],this['label'],this[_0x43c1e2(0x22e)],_0x512e2f,_0x3c09a4),_0x39261a=_0x552256[_0x43c1e2(0x1e0)](()=>{const _0x53aafe=_0x43c1e2;_0x39261a(),this[_0x53aafe(0x5f8)]['get'](_0x512e2f)?.[_0x53aafe(0x3d9)](),this[_0x53aafe(0x5f8)]['delete'](_0x512e2f);});this['outgoingStreams'][_0x43c1e2(0x23c)](_0x512e2f,_0x552256),_0x552256[_0x43c1e2(0x75b)](this[_0x43c1e2(0xbb)]);}return this[_0x43c1e2(0x5f8)]['get'](_0x512e2f);}[_0x52a325(0x447)](){const _0xd1d82c=_0x52a325;return this[_0xd1d82c(0x22e)]['id'];}[_0x52a325(0x9b9)](_0x20845b){const _0x4060a8=_0x52a325;this[_0x4060a8(0xbb)]['publish']({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x4060a8(0xa32)],'content':{'type':_0x539ab3[_0x4060a8(0x1fb)],'label':this['label'],'trackKinds':[_0x20845b[_0x4060a8(0x414)]]}});}[_0x52a325(0x9b0)](_0x345859){const _0xb21c98=_0x52a325,_0x3f8101=()=>this[_0xb21c98(0x9b9)](_0x345859);_0x345859[_0xb21c98(0x2a9)](_0xb21c98(0x89a),_0x3f8101),_0x345859[_0xb21c98(0x2a9)]('mute',_0x3f8101),this[_0xb21c98(0x856)][_0xb21c98(0x23c)](_0x345859['kind'],()=>{const _0x2315dc=_0xb21c98;_0x345859[_0x2315dc(0x1e3)](_0x2315dc(0x89a),_0x3f8101),_0x345859[_0x2315dc(0x1e3)](_0x2315dc(0x403),_0x3f8101),this[_0x2315dc(0x856)][_0x2315dc(0x4f4)](_0x345859[_0x2315dc(0x414)]);});}}class _0x5bd5e7 extends _0x4da5dc{['audioContext'];[_0x52a325(0x508)]=[];[_0x52a325(0x559)];['audioSource'];[_0x52a325(0x767)];['sourceVideo'];[_0x52a325(0x254)];['context'];[_0x52a325(0x3dd)];constructor(_0x57c587,_0xcb1dae,_0x40c67d,_0x4905f6,_0x461918,_0x78b2df){const _0x3847bf=_0x52a325;if(super(_0x57c587,_0xcb1dae,_0x40c67d,_0x78b2df),this[_0x3847bf(0x3e3)]=_0x461918,this['clientStream']=this[_0x3847bf(0x22e)],this['sourceVideo']=document[_0x3847bf(0x3c9)]('video'),this['sourceVideo']['autoplay']=!0x0,this[_0x3847bf(0x32a)]['muted']=!0x0,this[_0x3847bf(0x32a)][_0x3847bf(0x6a4)]=this[_0x3847bf(0x559)],this[_0x3847bf(0x32a)][_0x3847bf(0x6ae)](),this['sourceVideo'][_0x3847bf(0x921)]=()=>{const _0x54ba54=_0x3847bf;this[_0x54ba54(0x32a)][_0x54ba54(0xf0)]();},this[_0x3847bf(0x254)]=document[_0x3847bf(0x3c9)](_0x3847bf(0x254)),this[_0x3847bf(0x462)]=this[_0x3847bf(0x254)][_0x3847bf(0x92d)]('2d'),this['mediaStream']=this[_0x3847bf(0x254)][_0x3847bf(0x2b2)](_0x4905f6),this[_0x3847bf(0x767)]=this[_0x3847bf(0x3e3)]['createMediaStreamDestination'](),this['clientStream'][_0x3847bf(0x1de)]()[_0x3847bf(0x761)]>0x0){const _0x51aca3=this[_0x3847bf(0x559)][_0x3847bf(0x1de)]()[0x0];this['audioSource']=this[_0x3847bf(0x3e3)][_0x3847bf(0x9f8)](new MediaStream([_0x51aca3])),this[_0x3847bf(0x485)][_0x3847bf(0x73e)](this['audioDestination']);}const _0x11fd37=this[_0x3847bf(0x767)][_0x3847bf(0x3a3)][_0x3847bf(0x837)]()[0x0];this[_0x3847bf(0x22e)][_0x3847bf(0x2f1)](_0x11fd37),this[_0x3847bf(0x3dd)]=setInterval(()=>{const _0x298416=_0x3847bf;this[_0x298416(0x254)][_0x298416(0x665)]=this[_0x298416(0x32a)][_0x298416(0x437)],this[_0x298416(0x254)]['height']=this[_0x298416(0x32a)][_0x298416(0x1c9)],this['sourceVideo'][_0x298416(0x437)]?(0x0!==this['clientStream'][_0x298416(0x5d8)]()[_0x298416(0x761)]&&this['clientStream'][_0x298416(0x5d8)]()[0x0]['enabled']?this[_0x298416(0x22e)]['getVideoTracks']()[0x0][_0x298416(0x344)]=!0x0:this['mediaStream'][_0x298416(0x5d8)]()[0x0]['enabled']=!0x1,0x0!==this[_0x298416(0x559)][_0x298416(0x1de)]()[_0x298416(0x761)]&&this['clientStream'][_0x298416(0x1de)]()[0x0][_0x298416(0x344)]?this['mediaStream'][_0x298416(0x1de)]()[0x0]['enabled']=!0x0:this[_0x298416(0x22e)][_0x298416(0x1de)]()[0x0]['enabled']=!0x1,this[_0x298416(0x462)][_0x298416(0x619)](this[_0x298416(0x32a)],0x0,0x0)):this[_0x298416(0x462)][_0x298416(0x3bf)](0x0,0x0,this[_0x298416(0x254)][_0x298416(0x665)],this[_0x298416(0x254)][_0x298416(0x440)]);},0x3e8/_0x4905f6);}[_0x52a325(0x3d9)](){const _0x564703=_0x52a325;clearInterval(this[_0x564703(0x3dd)]),this[_0x564703(0x32a)][_0x564703(0xff)](),this[_0x564703(0x254)][_0x564703(0xff)](),this['audioSource']?.[_0x564703(0x4dd)](),this[_0x564703(0x767)][_0x564703(0x4dd)](),this[_0x564703(0x22e)][_0x564703(0x837)]()[_0x564703(0x854)](_0x4c904f=>{const _0xd0c9e5=_0x564703;_0x4c904f[_0xd0c9e5(0x90e)](),this[_0xd0c9e5(0x22e)][_0xd0c9e5(0x21d)](_0x4c904f);}),super[_0x564703(0x3d9)]();}['addTrack'](_0x54af30){const _0x2cdb4b=_0x52a325,_0x50a28d=this[_0x2cdb4b(0x36a)](_0x54af30[_0x2cdb4b(0x414)]);_0x50a28d&&this[_0x2cdb4b(0x21d)](_0x50a28d),'audio'!==_0x54af30[_0x2cdb4b(0x414)]?(_0x2cdb4b(0x9e4)===_0x54af30['kind']&&this[_0x2cdb4b(0x957)](_0x54af30),this['setupTrackEndedListeners'](_0x54af30)):this['addAudioTrack'](_0x54af30);}[_0x52a325(0x21d)](_0x100706){const _0x58037a=_0x52a325,_0x505697=this[_0x58037a(0xe5)](_0x100706);return _0x505697&&(_0x58037a(0x4c2)===_0x505697[_0x58037a(0x414)]&&(this[_0x58037a(0x485)]?.[_0x58037a(0x4dd)](),this['audioSource']=void 0x0),this[_0x58037a(0x856)][_0x58037a(0x627)](_0x505697['kind'])?.(),this[_0x58037a(0x559)]['removeTrack'](_0x505697)),_0x505697;}[_0x52a325(0xa4a)](_0x4e8296){const _0x1905de=_0x52a325;this[_0x1905de(0x21d)](_0x4e8296[_0x1905de(0x414)]),this[_0x1905de(0x2f1)](_0x4e8296);}[_0x52a325(0x641)](_0x4a670e){const _0xa08e51=_0x52a325;this[_0xa08e51(0x508)]=_0x4a670e;}[_0x52a325(0x36a)](_0x46883d){const _0x483976=_0x52a325;return this[_0x483976(0x559)]['getTracks']()[_0x483976(0x7cc)](_0x4169c6=>_0x4169c6[_0x483976(0x414)]===_0x46883d)||null;}[_0x52a325(0xe5)](_0x3e1bc0){const _0x1d5bc5=_0x52a325;return _0x1d5bc5(0x347)==typeof _0x3e1bc0?this[_0x1d5bc5(0x36a)](_0x3e1bc0):_0x3e1bc0;}[_0x52a325(0x68c)](_0x36cc96){const _0x1cceff=_0x52a325;_0x1cceff(0x1b9)===this[_0x1cceff(0x3e3)][_0x1cceff(0x8e7)]&&this['audioContext']['resume'](),this[_0x1cceff(0x559)]['addTrack'](_0x36cc96),this[_0x1cceff(0x485)]=this[_0x1cceff(0x3e3)]['createMediaStreamSource'](this[_0x1cceff(0x559)]),this[_0x1cceff(0x485)][_0x1cceff(0x73e)](this[_0x1cceff(0x767)]);}[_0x52a325(0x957)](_0x30ec76){const _0x10665f=_0x52a325;this[_0x10665f(0x559)][_0x10665f(0x2f1)](_0x30ec76),this[_0x10665f(0x32a)][_0x10665f(0x6ae)]();}}class _0x328f0a extends _0x4da5dc{}class _0x48e234 extends _0x376443{['localNode'];[_0x52a325(0x285)];[_0x52a325(0x793)];[_0x52a325(0x818)];[_0x52a325(0x7db)];[_0x52a325(0x996)];[_0x52a325(0x9e5)];[_0x52a325(0x551)];[_0x52a325(0x66a)]=new Map();['objectRequests']=new Map();['pendingFilesSyncing']=new Map();[_0x52a325(0x567)]=new Map();[_0x52a325(0xd6)]=new Map();[_0x52a325(0x276)]=new Map();[_0x52a325(0x700)];[_0x52a325(0x547)]=_0x14acab();[_0x52a325(0x466)]=new Map();['debounceStats'];[_0x52a325(0x97f)]=0x0;[_0x52a325(0xa03)]=0x0;[_0x52a325(0x88f)]=!0x0;[_0x52a325(0x97e)]=!0x0;[_0x52a325(0x971)]=0x0;[_0x52a325(0x20d)]=0x0;constructor(_0x189845,_0x7ac1ab,_0x2b0e85,_0x2f9634,_0x1fbb24,_0x3c7362,_0x573203,_0x11b1e6){const _0x50c4d3=_0x52a325;if(_0x50c4d3(0x347)!=typeof _0x7ac1ab)throw new _0x1d1fb5(_0x433410['ObjectStoreNameNotString'],_0x50c4d3(0x7f7));super(_0x189845,_0x7ac1ab),this[_0x50c4d3(0x8df)]=_0x189845,this[_0x50c4d3(0x285)]=_0x2b0e85,this[_0x50c4d3(0x793)]=_0x2f9634,this[_0x50c4d3(0x818)]=_0x1fbb24,this['waitForArrayBufferSize']=_0x573203,this[_0x50c4d3(0x996)]=_0x11b1e6;const _0x4b19d3=_0x50c4d3(0x2be)+this['vendorId']+_0x50c4d3(0x2be)+this[_0x50c4d3(0x285)]+_0x50c4d3(0x2be)+_0x7ac1ab;this['objectStoreConnector']=new _0x3c7362(_0x4b19d3),this[_0x50c4d3(0x88f)]=this[_0x50c4d3(0x996)]?.[_0x50c4d3(0x88f)]??!0x0,this['options']?.[_0x50c4d3(0xe9)]&&(this[_0x50c4d3(0x88f)]=!0x1),this[_0x50c4d3(0x34a)]();}[_0x52a325(0x4da)](){const _0x50006b=_0x52a325;this[_0x50006b(0x34a)]();}[_0x52a325(0x7d4)](){return _0x5bfdb7['ContentType']['ObjectStore'];}async[_0x52a325(0x80b)](){const _0x25180e=_0x52a325;this[_0x25180e(0x97e)]=!0x0;try{const _0x506487=await this['objectStoreConnector'][_0x25180e(0x627)](_0x4494c0),_0x20d6ac=await _0x506487['text']();this[_0x25180e(0x551)]=_0x20d6ac;}catch(_0x1d5d02){}this['unsubscribeHandler']=this[_0x25180e(0x6d3)](async(_0xd176e4,_0x3e297c)=>{const _0x18e8e5=_0x25180e;if(!(_0x3e297c instanceof File))try{if(_0x3e297c[_0x18e8e5(0x8cf)]===_0x5c7282[_0x18e8e5(0x150)])return void this[_0x18e8e5(0xa44)](_0x3e297c);this[_0x18e8e5(0x3e7)](_0x3e297c);}catch(_0x3b3381){if(_0x3b3381 instanceof _0x162f0d)throw _0x3b3381;throw new _0x162f0d(_0x162f0d['codes'][_0x18e8e5(0x684)],{'payload':_0x3e297c});}}),await this['syncTransactions'](),this[_0x25180e(0x88f)]?await this['syncPendingFiles']():this[_0x25180e(0x236)](),this[_0x25180e(0x34a)]();}[_0x52a325(0x3d9)](){const _0x4213f7=_0x52a325;this['unsubscribeHandler']?.(),this[_0x4213f7(0x466)][_0x4213f7(0x854)](_0x2e9816=>_0x2e9816()),this[_0x4213f7(0x466)][_0x4213f7(0xaa)](),clearTimeout(this[_0x4213f7(0xc1)]),delete this[_0x4213f7(0xc1)],super[_0x4213f7(0x3d9)]();}[_0x52a325(0x93c)](){const _0x3d6e7e=_0x52a325;this[_0x3d6e7e(0xbb)]?.[_0x3d6e7e(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf['Content'],'content':{'type':_0x539ab3[_0x3d6e7e(0x28b)],'label':this[_0x3d6e7e(0x7cd)]}});}[_0x52a325(0xaa1)](_0x51ad55,_0x2f22ac){const _0xd5d94d=_0x52a325;if(this[_0xd5d94d(0x466)][_0xd5d94d(0xed)](_0x51ad55))throw new _0x1d1fb5(_0x433410[_0xd5d94d(0x962)],_0xd5d94d(0x2fe));this['listenerUnsubscribers'][_0xd5d94d(0x23c)](_0x51ad55,this[_0xd5d94d(0x547)]['subscribe'](_0x2f22ac)),this[_0xd5d94d(0x97e)]||this['eventListener'][_0xd5d94d(0x7da)]({'event':_0x5bfdb7[_0xd5d94d(0x530)][_0xd5d94d(0x644)],'payload':{'filesSynced':this[_0xd5d94d(0x971)]}});}[_0x52a325(0xa50)](_0x16d0f7){const _0x3c17bc=_0x52a325;this[_0x3c17bc(0x466)][_0x3c17bc(0x627)](_0x16d0f7)?.(),this[_0x3c17bc(0x466)][_0x3c17bc(0x4f4)](_0x16d0f7);}[_0x52a325(0x7da)](_0x19b071){const _0x509a6c=_0x52a325;switch(_0x19b071[_0x509a6c(0x5eb)]){case _0x5bfdb7[_0x509a6c(0x279)][_0x509a6c(0x1c1)]:return this[_0x509a6c(0x798)](_0x19b071[_0x509a6c(0x926)],_0x19b071['path'],_0x19b071[_0x509a6c(0x996)]);case _0x5bfdb7[_0x509a6c(0x279)][_0x509a6c(0x1e4)]:return this[_0x509a6c(0x338)](_0x19b071[_0x509a6c(0x5e0)]);case _0x5bfdb7[_0x509a6c(0x279)][_0x509a6c(0xa97)]:return this[_0x509a6c(0x475)](_0x19b071[_0x509a6c(0x5e0)],_0x19b071['newPath']);default:throw new _0x1d1fb5(_0x433410[_0x509a6c(0x34c)],'Cannot\x20publish\x20payload:\x20'+_0x19b071);}}async[_0x52a325(0x61f)](_0x563e9a){const _0xf09569=_0x52a325;try{const _0x2011fc=(0x0,_0x529b6e['v4'])(),_0x41c8de=this[_0xf09569(0x551)],_0x45efa4={'payloadType':_0x5c7282[_0xf09569(0xa54)],'action':_0x5e201b[_0xf09569(0x63d)],'id':_0x2011fc,'parentId':_0x41c8de,'path':_0x563e9a};await this[_0xf09569(0x9ff)](_0x45efa4);const _0x43e228=await this[_0xf09569(0x1e8)](_0x563e9a);!0x0!==this['options']?.[_0xf09569(0xe9)]&&await this[_0xf09569(0x9c8)](_0x45efa4),_0x2d5d47[_0xf09569(0x59d)](_0x380533[_0xf09569(0x190)],{'type':_0xf09569(0x61f),'label':this[_0xf09569(0x7cd)],'nodeId':this[_0xf09569(0x8df)][_0xf09569(0x8ef)](),'nodeType':this['localNode']['type'],'clusterId':this[_0xf09569(0x285)],'kind':_0x43e228,'path':_0x563e9a}),this[_0xf09569(0x97f)]+=0x1,this[_0xf09569(0x34a)]();}catch(_0x80095c){if(_0x80095c instanceof _0x162f0d)throw new _0x1d1fb5(_0x433410[_0xf09569(0x43b)],_0xf09569(0x629)+_0x563e9a+_0xf09569(0x242));throw new _0x1d1fb5(_0x433410[_0xf09569(0x6b8)],_0xf09569(0x8d7)+_0x563e9a);}}async['get'](_0x43f77d,_0x1b2ee2){const _0xac371=_0x52a325;_0x2d5d47[_0xac371(0x59d)](_0x380533[_0xac371(0x190)],{'type':'get','label':this[_0xac371(0x7cd)],'nodeId':this[_0xac371(0x8df)][_0xac371(0x8ef)](),'nodeType':this[_0xac371(0x8df)][_0xac371(0x983)],'clusterId':this[_0xac371(0x285)],'path':_0x43f77d}),this[_0xac371(0xa03)]+=0x1,this[_0xac371(0x34a)]();try{return await this['objectStoreConnector'][_0xac371(0x627)](_0x43f77d,_0x1b2ee2);}catch(_0x511c92){try{await this[_0xac371(0x700)]['get'](_0x43f77d+_0x23b5e1);}catch(_0x452faf){throw new _0x1d1fb5(_0x433410[_0xac371(0x6b8)],_0xac371(0x17c)+_0x43f77d);}throw new _0x1d1fb5(_0x433410[_0xac371(0x43b)],_0xac371(0x96c));}}async[_0x52a325(0x3f3)](_0x39767f,_0x4c403d){const _0x4ae1e0=_0x52a325,{recursive:_0x4d1ea0=!0x1,includeSyncingFiles:_0x2f0e15=!0x1}=_0x4c403d??{};_0x2d5d47[_0x4ae1e0(0x59d)](_0x380533[_0x4ae1e0(0x190)],{'type':_0x4ae1e0(0x3f3),'label':this[_0x4ae1e0(0x7cd)],'nodeId':this['localNode'][_0x4ae1e0(0x8ef)](),'nodeType':this[_0x4ae1e0(0x8df)][_0x4ae1e0(0x983)],'clusterId':this['clusterId'],'path':_0x39767f}),this[_0x4ae1e0(0xa03)]+=0x1,this[_0x4ae1e0(0x34a)]();try{const _0x496eaf=await this[_0x4ae1e0(0x700)][_0x4ae1e0(0x3f3)](_0x39767f,_0x4d1ea0);return this['processList'](_0x496eaf,{'recursive':_0x4d1ea0,'includeSyncingFiles':_0x2f0e15});}catch(_0x23e09e){throw new _0x1d1fb5(_0x433410[_0x4ae1e0(0x6b8)],_0x4ae1e0(0x878)+_0x39767f);}}[_0x52a325(0x78b)](_0x24db57){const _0x145f06=_0x52a325;this[_0x145f06(0x20d)]+=0x1;for(const _0x21ff7a of this[_0x145f06(0x79f)][_0x145f06(0x70f)]())this[_0x145f06(0x9c8)](_0x21ff7a,[_0x24db57]);}[_0x52a325(0x428)](_0x35464f){const _0x37b33f=_0x52a325;this[_0x37b33f(0x20d)]-=0x1;const _0xa4ee9e=this['pendingFilesSyncing'][_0x37b33f(0x627)](_0x35464f);if(_0xa4ee9e){for(const [_0x1b54bd,_0x2a4d18]of _0xa4ee9e[_0x37b33f(0x70f)]())this['sendFileRequestPayload'](_0x1b54bd,_0x2a4d18);this[_0x37b33f(0x90b)]['delete'](_0x35464f);}}async['getSize'](_0x1c2656='/'){const _0x35ee0e=_0x52a325;try{return await this[_0x35ee0e(0x700)][_0x35ee0e(0x23d)](_0x1c2656);}catch(_0x1ae48d){if(_0x1ae48d instanceof Error&&_0x1ae48d['message'][_0x35ee0e(0x8cd)]('ENOENT'))return 0x0;throw new _0x1d1fb5(_0x433410['ObjectStoreInvalidPath'],'Cannot\x20get\x20size\x20of\x20path:\x20'+_0x1c2656);}}['completeSync'](){const _0x2ce484=_0x52a325;this['isSyncing']&&(this[_0x2ce484(0x97e)]=!0x1,this['eventListener'][_0x2ce484(0x7da)]({'event':_0x5bfdb7['StorageEventType']['SyncComplete'],'payload':{'filesSynced':this[_0x2ce484(0x971)]}}));}async[_0x52a325(0x37f)](_0x21173e,{includeSyncingFiles:_0x5a8845=!0x1}){const _0x5a9a9c=_0x52a325,_0x3d5004=[];for(const _0x1a2b48 of _0x21173e)if(_0x1a2b48['kind']!==_0x5bfdb7[_0x5a9a9c(0x1ba)][_0x5a9a9c(0x1e4)]){if(_0x1a2b48['name']!==_0x4494c0){if(_0x1a2b48['name'][_0x5a9a9c(0x490)](_0x23b5e1)){if(!_0x5a8845)continue;const _0x2cb049=_0x1a2b48;if(_0x2cb049[_0x5a9a9c(0x7fe)]=_0x2cb049[_0x5a9a9c(0x7fe)][_0x5a9a9c(0x13e)](_0x23b5e1,''),_0x2cb049[_0x5a9a9c(0xbc)]=_0x2cb049[_0x5a9a9c(0xbc)][_0x5a9a9c(0x13e)](_0x23b5e1,''),await this[_0x5a9a9c(0x755)](_0x2cb049[_0x5a9a9c(0xbc)])){_0x21173e[_0x5a9a9c(0x7cc)](_0x36463a=>_0x36463a['pathName']===_0x2cb049[_0x5a9a9c(0xbc)])[_0x5a9a9c(0x245)]=_0x5bfdb7[_0x5a9a9c(0x80a)][_0x5a9a9c(0x259)];continue;}_0x2cb049[_0x5a9a9c(0x245)]=_0x5bfdb7['FileStatus'][_0x5a9a9c(0x2fa)];}_0x3d5004[_0x5a9a9c(0x66e)](_0x1a2b48);}}else _0x1a2b48[_0x5a9a9c(0x6c8)]=await this[_0x5a9a9c(0x37f)](_0x1a2b48[_0x5a9a9c(0x6c8)]??[],{'includeSyncingFiles':_0x5a8845}),_0x3d5004[_0x5a9a9c(0x66e)](_0x1a2b48);return _0x3d5004;}async['publishFile'](_0x31f465,_0x294706,_0x237f4f){const _0x40f820=_0x52a325;try{const _0x1ad077=(0x0,_0x529b6e['v4'])(),_0x759dba=await _0x85215e(_0x31f465),_0x42cae2=_0x4e6919(_0x294706??'/',_0x31f465[_0x40f820(0x7fe)]);let _0x225608=!0x0;const _0x1244c3={'payloadType':_0x5c7282[_0x40f820(0xa54)],'action':_0x5e201b[_0x40f820(0x71e)],'id':_0x1ad077,'parentId':this[_0x40f820(0x551)],'answererId':this['localNode']['getId'](),'name':_0x31f465[_0x40f820(0x7fe)],'type':_0x31f465[_0x40f820(0x983)],'path':_0x294706??'/','skipEncryption':_0x237f4f?.[_0x40f820(0x6bd)]??!0x1,'checksum':_0x759dba};try{if(!_0x237f4f?.[_0x40f820(0x10a)])throw new Error(_0x40f820(0x6cd));const _0x52d751=_0x42cae2+_0x23b5e1;await this[_0x40f820(0x700)]['get'](_0x52d751),_0x225608=!0x1,await this['objectStoreConnector'][_0x40f820(0x1e8)](_0x52d751),this['objectRequests'][_0x40f820(0x4f4)](_0x42cae2);}catch(_0x13527d){await this[_0x40f820(0x9ff)](_0x1244c3);}if(this[_0x40f820(0x88f)]||this[_0x40f820(0x996)]?.['standalone']?await this[_0x40f820(0x579)](_0x31f465,_0x294706,_0x237f4f):await this[_0x40f820(0x6d4)](_0x31f465[_0x40f820(0x7fe)],_0x294706??'/',{'checksum':_0x759dba,'skipEncryption':_0x237f4f?.[_0x40f820(0x6bd)]??!0x1}),this[_0x40f820(0x276)]['has'](_0x42cae2)){const [_0x3a168e,_0x2f2439]=this[_0x40f820(0x276)]['get'](_0x42cae2);this[_0x40f820(0x276)][_0x40f820(0x23c)](_0x42cae2,[!0x0,_0x2f2439]);try{await _0x2f2439;}catch(_0x3cd28a){}this[_0x40f820(0x276)]['delete'](_0x42cae2);}_0x225608&&this[_0x40f820(0x20d)]>0x0&&!0x0!==this[_0x40f820(0x996)]?.[_0x40f820(0xe9)]&&await this[_0x40f820(0xcc)](_0x31f465,_0x1244c3),_0x2d5d47[_0x40f820(0x59d)](_0x380533[_0x40f820(0x190)],{'type':_0x40f820(0x7da),'label':this[_0x40f820(0x7cd)],'nodeId':this[_0x40f820(0x8df)]['getId'](),'nodeType':this[_0x40f820(0x8df)]['type'],'clusterId':this[_0x40f820(0x285)],'kind':_0x5bfdb7['ObjectKind'][_0x40f820(0x1c1)],'path':_0x294706,'fileName':_0x31f465['name'],'fileType':_0x31f465[_0x40f820(0x983)],'size':_0x31f465[_0x40f820(0x1af)]}),this[_0x40f820(0x97f)]+=0x1,this[_0x40f820(0x34a)]();}catch(_0x305ef6){if(_0x305ef6 instanceof _0x162f0d)throw new _0x1d1fb5(_0x433410[_0x40f820(0x43b)],_0x40f820(0x96c));throw new _0x1d1fb5(_0x433410[_0x40f820(0x6b8)],_0x40f820(0x49b)+_0x294706+(_0x294706?.[_0x40f820(0x490)]('/')?'':'/')+_0x31f465[_0x40f820(0x7fe)]);}}async[_0x52a325(0x338)](_0x5c4859){const _0x4dc709=_0x52a325;try{const _0x2a4be5=(0x0,_0x529b6e['v4'])(),_0x4d5c9a=this[_0x4dc709(0x551)],_0x4811f2={'payloadType':_0x5c7282[_0x4dc709(0xa54)],'action':_0x5e201b[_0x4dc709(0x5ec)],'id':_0x2a4be5,'parentId':_0x4d5c9a,'path':_0x5c4859};await this['publishTransaction'](_0x4811f2),await this['objectStoreConnector']['createFolder'](_0x5c4859),!0x0!==this[_0x4dc709(0x996)]?.[_0x4dc709(0xe9)]&&await this[_0x4dc709(0x9c8)](_0x4811f2),_0x2d5d47[_0x4dc709(0x59d)](_0x380533[_0x4dc709(0x190)],{'type':_0x4dc709(0x7da),'label':this[_0x4dc709(0x7cd)],'nodeId':this['localNode'][_0x4dc709(0x8ef)](),'nodeType':this[_0x4dc709(0x8df)][_0x4dc709(0x983)],'clusterId':this[_0x4dc709(0x285)],'kind':_0x5bfdb7[_0x4dc709(0x1ba)]['Folder'],'path':_0x5c4859}),this[_0x4dc709(0x97f)]+=0x1,this[_0x4dc709(0x34a)]();}catch(_0x3c20aa){if(_0x3c20aa instanceof _0x162f0d)throw new _0x1d1fb5(_0x433410[_0x4dc709(0x43b)],_0x4dc709(0x96c));throw new _0x1d1fb5(_0x433410[_0x4dc709(0x6b8)],_0x4dc709(0x16c)+_0x5c4859);}}async[_0x52a325(0x475)](_0x4ad6f9,_0x23d6f6){const _0x1bd873=_0x52a325;try{const _0x548c94=(0x0,_0x529b6e['v4'])(),_0x1f467b=this[_0x1bd873(0x551)],_0x4160a9={'payloadType':_0x5c7282['Transaction'],'action':_0x5e201b[_0x1bd873(0xa97)],'id':_0x548c94,'parentId':_0x1f467b,'path':_0x4ad6f9,'newPath':_0x23d6f6};await this[_0x1bd873(0x9ff)](_0x4160a9);const _0x43fabf=await this[_0x1bd873(0x61d)](_0x4ad6f9,_0x23d6f6);!0x0!==this[_0x1bd873(0x996)]?.['standalone']&&await this[_0x1bd873(0x9c8)](_0x4160a9),_0x2d5d47[_0x1bd873(0x59d)](_0x380533[_0x1bd873(0x190)],{'type':_0x1bd873(0x7ca),'label':this[_0x1bd873(0x7cd)],'nodeId':this[_0x1bd873(0x8df)]['getId'](),'nodeType':this[_0x1bd873(0x8df)]['type'],'clusterId':this[_0x1bd873(0x285)],'kind':_0x43fabf,'path':_0x4ad6f9,'newPath':_0x23d6f6}),this[_0x1bd873(0x97f)]+=0x1,this[_0x1bd873(0x34a)]();}catch(_0x439b34){if(_0x439b34 instanceof _0x162f0d)throw new _0x1d1fb5(_0x433410['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x1d1fb5(_0x433410['ObjectStoreInvalidPath'],_0x1bd873(0x65b)+_0x4ad6f9);}}async[_0x52a325(0x3e7)](_0x13be34,_0x59cb96=!0x1){const _0x3e4905=_0x52a325;if(this['lastTransactionId']&&_0x13be34['parentId']!==this[_0x3e4905(0x551)]&&_0x13be34['id']!==this[_0x3e4905(0x551)]){if(!_0x13be34[_0x3e4905(0x8c2)])throw new _0x162f0d(_0x162f0d[_0x3e4905(0x2a6)][_0x3e4905(0x684)]);this[_0x3e4905(0x66a)][_0x3e4905(0x23c)](_0x13be34['parentId'],_0x13be34);}else{try{await this[_0x3e4905(0x2e4)](_0x13be34,_0x59cb96);}catch(_0xd63096){}await this[_0x3e4905(0x916)](_0x13be34['id']),await this[_0x3e4905(0x180)](_0x13be34['id'],_0x59cb96);}}async[_0x52a325(0x2e4)](_0x4f9918,_0x354b4f=!0x1){const _0x702bce=_0x52a325;switch(_0x4f9918['action']){case _0x5e201b[_0x702bce(0x71e)]:await this[_0x702bce(0x206)](_0x4f9918);break;case _0x5e201b[_0x702bce(0x5ec)]:await this[_0x702bce(0xa0e)](_0x4f9918);break;case _0x5e201b[_0x702bce(0xa97)]:await this['handleObjectMove'](_0x4f9918,_0x354b4f);break;case _0x5e201b[_0x702bce(0x63d)]:await this[_0x702bce(0x315)](_0x4f9918,_0x354b4f);break;default:throw new _0x162f0d(_0x162f0d[_0x702bce(0x2a6)][_0x702bce(0x684)],{'payload':_0x4f9918});}}async[_0x52a325(0x180)](_0x2c3d86,_0x1c3991=!0x1){const _0x384a94=_0x52a325;if(this[_0x384a94(0x66a)][_0x384a94(0xed)](_0x2c3d86)){const _0x5e425a=this[_0x384a94(0x66a)][_0x384a94(0x627)](_0x2c3d86);this[_0x384a94(0x66a)][_0x384a94(0x4f4)](_0x2c3d86),await this[_0x384a94(0x3e7)](_0x5e425a,_0x1c3991);}}async[_0x52a325(0xa44)](_0x2e9b7a){const _0x1b3fc6=_0x52a325;switch(_0x2e9b7a[_0x1b3fc6(0x5eb)]){case _0x5e201b[_0x1b3fc6(0x413)]:return this[_0x1b3fc6(0x262)](_0x2e9b7a);case _0x5e201b['RequestAccepted']:return this['handleFileRequestAnswer'](_0x2e9b7a);case _0x5e201b[_0x1b3fc6(0x177)]:return this['handleFileSync'](_0x2e9b7a);case _0x5e201b['RequestFileWrite']:return this[_0x1b3fc6(0x206)](_0x2e9b7a);default:throw new _0x162f0d(_0x162f0d[_0x1b3fc6(0x2a6)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x2e9b7a});}}async[_0x52a325(0x206)](_0x37d043,_0x5adf14=0x0){const _0x278dde=_0x52a325,_0x49037f=_0x4e6919(_0x37d043[_0x278dde(0x5e0)],_0x37d043[_0x278dde(0x7fe)]);if(!_0x37d043[_0x278dde(0x6f2)]||void 0x0===_0x37d043[_0x278dde(0x97c)]||!_0x37d043[_0x278dde(0x976)])return this[_0x278dde(0x617)][_0x278dde(0x4f4)](_0x49037f),void await this[_0x278dde(0x6d4)](_0x37d043[_0x278dde(0x7fe)],_0x37d043[_0x278dde(0x5e0)],{'checksum':_0x37d043[_0x278dde(0x2ad)],'skipEncryption':_0x37d043[_0x278dde(0x6bd)]});if(this[_0x278dde(0x617)][_0x278dde(0xed)](_0x49037f)){const _0x314473=this[_0x278dde(0x617)][_0x278dde(0x627)](_0x49037f);_0x314473[_0x278dde(0x2ad)]!==_0x37d043['checksum']&&(_0x314473[_0x278dde(0x3a3)]?.[_0x278dde(0x93c)](),this['fileChunks']['delete'](_0x49037f));}if(!this[_0x278dde(0x617)][_0x278dde(0xed)](_0x49037f)){try{await this['objectStoreConnector']['deleteObject'](_0x49037f);}catch(_0xc06836){}try{const _0x349499=this[_0x278dde(0x88f)]?await this['objectStoreConnector']['createWritableStream'](_0x49037f,{'skipEncryption':_0x37d043['skipEncryption']}):void 0x0,_0x5da769={'chunksReceived':_0x37d043[_0x278dde(0xa48)]??0x0,'bytesReceived':0x0,'stream':_0x349499,'checksum':_0x37d043[_0x278dde(0x2ad)]};this['fileChunks'][_0x278dde(0x23c)](_0x49037f,_0x5da769),await this[_0x278dde(0x6d4)](_0x37d043[_0x278dde(0x7fe)],_0x37d043[_0x278dde(0x5e0)],{'checksum':_0x37d043[_0x278dde(0x2ad)],'skipEncryption':_0x37d043[_0x278dde(0x6bd)]});}catch(_0x4d6f73){}}const _0x4cb61b=this[_0x278dde(0x617)][_0x278dde(0x627)](_0x49037f);if(_0x37d043['checksum']!==_0x4cb61b[_0x278dde(0x2ad)])return;if(this[_0x278dde(0x350)](_0x37d043,_0x49037f),this['syncContent']){if(!_0x4cb61b[_0x278dde(0x3a3)])throw new _0x162f0d(_0x162f0d[_0x278dde(0x2a6)][_0x278dde(0x684)],{'message':_0x278dde(0x34b)});let _0x3c6016=_0x4cb61b[_0x278dde(0x851)];if(_0x37d043[_0x278dde(0x97c)]!==_0x3c6016){if(_0x3c6016>_0x37d043[_0x278dde(0x97c)])return;const _0x4caf0a=0x1000;if(_0x37d043[_0x278dde(0x97c)]>_0x3c6016+_0x4caf0a)return;if(_0x4cb61b['bufferedChunks']||(_0x4cb61b[_0x278dde(0xdb)]=[]),_0x4cb61b[_0x278dde(0xdb)][_0x278dde(0x761)]>0x4000)throw this[_0x278dde(0x617)][_0x278dde(0x4f4)](_0x49037f),new _0x162f0d(_0x162f0d[_0x278dde(0x2a6)][_0x278dde(0x684)],{'message':_0x278dde(0x790)});return void _0x4cb61b[_0x278dde(0xdb)]['push'](_0x37d043);}try{_0x4cb61b['chunksReceived']+=0x1,_0x4cb61b[_0x278dde(0x434)]+=_0x37d043[_0x278dde(0x6f2)][_0x278dde(0x61e)],await _0x4cb61b[_0x278dde(0x3a3)][_0x278dde(0x908)](_0x37d043[_0x278dde(0x6f2)]);}catch(_0x6c13b0){if(console['error'](_0x278dde(0x93e),_0x6c13b0),_0x5adf14>0x3)throw this['fileChunks']['delete'](_0x49037f),console[_0x278dde(0x2a8)]('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x6c13b0),new _0x162f0d(_0x162f0d[_0x278dde(0x2a6)][_0x278dde(0x684)],{'message':_0x278dde(0x184)});return this[_0x278dde(0x206)](_0x37d043,_0x5adf14+0x1);}}try{await this[_0x278dde(0x34d)](_0x4cb61b,_0x37d043[_0x278dde(0x97c)]+0x1);}catch(_0x1242ac){throw this[_0x278dde(0x617)][_0x278dde(0x4f4)](_0x49037f),_0x1242ac;}if(this[_0x278dde(0x617)][_0x278dde(0x23c)](_0x49037f,_0x4cb61b),_0x4cb61b['chunksReceived']<_0x37d043[_0x278dde(0x976)])return;await this[_0x278dde(0x44e)](_0x49037f),this[_0x278dde(0x88f)]&&(await this[_0x278dde(0x72e)](_0x37d043),_0x2d5d47[_0x278dde(0x59d)](_0x380533[_0x278dde(0x190)],{'type':_0x278dde(0x80b),'label':this[_0x278dde(0x7cd)],'nodeId':this['localNode'][_0x278dde(0x8ef)](),'nodeType':this[_0x278dde(0x8df)][_0x278dde(0x983)],'clusterId':this['clusterId'],'kind':_0x5bfdb7[_0x278dde(0x1ba)][_0x278dde(0x1c1)],'path':_0x37d043['path'],'fileName':_0x37d043[_0x278dde(0x7fe)],'fileType':_0x37d043[_0x278dde(0x983)],'size':_0x4cb61b[_0x278dde(0x434)]}));const _0x3bf3ae=this[_0x278dde(0x567)][_0x278dde(0x627)](_0x37d043[_0x278dde(0x5e0)])??[];for(const _0x11ab2c of _0x3bf3ae)await this[_0x278dde(0x2e4)](_0x11ab2c);this['pendingFilesTransactions'][_0x278dde(0x4f4)](_0x37d043['path']),this['eventListener'][_0x278dde(0x7da)]({'event':_0x5bfdb7[_0x278dde(0x530)]['FileWrite'],'payload':{'file':{'kind':_0x5bfdb7['ObjectKind'][_0x278dde(0x1c1)],'path':_0x37d043[_0x278dde(0x5e0)],'type':_0x37d043[_0x278dde(0x983)],'size':_0x4cb61b['bytesReceived'],'name':_0x37d043[_0x278dde(0x7fe)],'pathName':_0x49037f,'status':this[_0x278dde(0x88f)]?_0x5bfdb7['FileStatus'][_0x278dde(0x1a6)]:_0x5bfdb7[_0x278dde(0x80a)][_0x278dde(0x2fa)]}}}),this['sendStats']();}async[_0x52a325(0x34d)](_0x25d2c0,_0x28af00){const _0xf29d82=_0x52a325,_0x2ea655=_0x25d2c0[_0xf29d82(0x3a3)];let _0x57d618=0x0;for(;_0x25d2c0[_0xf29d82(0xdb)]&&_0x25d2c0[_0xf29d82(0xdb)][_0xf29d82(0x761)]>0x0;){const _0x29fe25=_0x25d2c0[_0xf29d82(0xdb)]['find'](_0x583986=>_0x583986['index']===_0x28af00+0x1);if(!_0x29fe25)break;_0x25d2c0[_0xf29d82(0xdb)]=_0x25d2c0[_0xf29d82(0xdb)][_0xf29d82(0x6f8)](_0x4493f8=>_0x4493f8[_0xf29d82(0x97c)]!==_0x28af00+0x1);try{await _0x2ea655['write'](_0x29fe25[_0xf29d82(0x6f2)]),_0x28af00++;}catch(_0xcd636a){if(console[_0xf29d82(0x2a8)]('Error\x20writing\x20buffered\x20chunk\x20to\x20stream',_0xcd636a),_0x57d618>0x3)throw console[_0xf29d82(0x2a8)]('Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream',_0xcd636a),new _0x162f0d(_0x162f0d[_0xf29d82(0x2a6)][_0xf29d82(0x684)],{'message':_0xf29d82(0x659)});_0x57d618++;continue;}_0x25d2c0[_0xf29d82(0x851)]+=0x1,_0x25d2c0[_0xf29d82(0x434)]+=_0x29fe25[_0xf29d82(0x6f2)][_0xf29d82(0x61e)];}}async['handleFolderCreate'](_0x421277){const _0x3693c2=_0x52a325;await this[_0x3693c2(0x700)][_0x3693c2(0x3da)](_0x421277[_0x3693c2(0x5e0)]);const [_0x24e0a2,_0x1c6a72]=_0x14e16e(_0x421277[_0x3693c2(0x5e0)]);this[_0x3693c2(0x547)][_0x3693c2(0x7da)]({'event':_0x5bfdb7[_0x3693c2(0x530)][_0x3693c2(0x5ec)],'payload':{'folder':{'kind':_0x5bfdb7[_0x3693c2(0x1ba)][_0x3693c2(0x1e4)],'name':_0x1c6a72,'path':_0x24e0a2,'pathName':_0x421277[_0x3693c2(0x5e0)]}}});}async[_0x52a325(0x315)](_0x87cd37,_0x595ebf=!0x1){const _0x4653dd=_0x52a325;if(!_0x595ebf&&!this[_0x4653dd(0xa64)](_0x87cd37))return;const _0x4acb22=await this[_0x4653dd(0x1e8)](_0x87cd37[_0x4653dd(0x5e0)]),[_0x3d896c,_0x515717]=_0x14e16e(_0x87cd37[_0x4653dd(0x5e0)]);this[_0x4653dd(0x547)][_0x4653dd(0x7da)]({'event':_0x4acb22===_0x5bfdb7['ObjectKind']['Folder']?_0x5bfdb7['StorageEventType'][_0x4653dd(0x7bc)]:_0x5bfdb7[_0x4653dd(0x530)][_0x4653dd(0x505)],'payload':{'name':_0x515717,'path':_0x3d896c,'pathName':_0x87cd37[_0x4653dd(0x5e0)]}}),this[_0x4653dd(0x34a)]();}async[_0x52a325(0x3a8)](_0x3d8a84,_0x196a47=!0x1){const _0x5ed41b=_0x52a325;if(!_0x196a47&&!this[_0x5ed41b(0xa64)](_0x3d8a84))return this['pendingFilesRename'][_0x5ed41b(0x23c)](_0x3d8a84[_0x5ed41b(0xcb)],this[_0x5ed41b(0xd6)][_0x5ed41b(0x627)](_0x3d8a84[_0x5ed41b(0x5e0)])??_0x3d8a84['path']),void this[_0x5ed41b(0xd6)][_0x5ed41b(0x4f4)](_0x3d8a84[_0x5ed41b(0x5e0)]);this[_0x5ed41b(0xd6)][_0x5ed41b(0x4f4)](_0x3d8a84[_0x5ed41b(0x5e0)]);const _0x28231a=await this[_0x5ed41b(0x700)][_0x5ed41b(0x61d)](_0x3d8a84['path'],_0x3d8a84[_0x5ed41b(0xcb)]),[_0x55a457,_0x22249c]=_0x14e16e(_0x3d8a84[_0x5ed41b(0x5e0)]),[_0x31d236,_0x1dadf2]=_0x14e16e(_0x3d8a84['newPath']);this[_0x5ed41b(0x547)][_0x5ed41b(0x7da)]({'event':_0x28231a===_0x5bfdb7[_0x5ed41b(0x1ba)][_0x5ed41b(0x1e4)]?_0x5bfdb7[_0x5ed41b(0x530)]['FolderMove']:_0x5bfdb7['StorageEventType'][_0x5ed41b(0x5a7)],'payload':{'name':_0x1dadf2,'path':_0x31d236,'pathName':_0x3d8a84[_0x5ed41b(0xcb)],'oldName':_0x22249c,'oldPath':_0x55a457,'oldPathName':_0x3d8a84[_0x5ed41b(0x5e0)]}}),this[_0x5ed41b(0x34a)]();}['shouldProcessTransaction'](_0xd75d79){const _0x2c06e8=_0x52a325,_0x262a8a=this[_0x2c06e8(0xd6)][_0x2c06e8(0x627)](_0xd75d79[_0x2c06e8(0x5e0)])??_0xd75d79[_0x2c06e8(0x5e0)];let _0x2587eb=!0x1;for(const _0xe772dd of this[_0x2c06e8(0x617)][_0x2c06e8(0x5a9)]())if(_0xe772dd[_0x2c06e8(0x22f)](_0x262a8a)){const _0x4ef040=this[_0x2c06e8(0x567)][_0x2c06e8(0x627)](_0xe772dd)??[];_0x4ef040[_0x2c06e8(0x66e)](_0xd75d79),this[_0x2c06e8(0x567)]['set'](_0xe772dd,_0x4ef040),_0x2587eb=!0x0;}return!_0x2587eb;}async[_0x52a325(0x9ff)](_0x49c578){const _0x38eb7b=_0x52a325;if(!this[_0x38eb7b(0x996)]?.['standalone']){if(!_0x49c578['id'])throw new _0x162f0d(_0x162f0d['codes'][_0x38eb7b(0x684)],{'message':_0x38eb7b(0x16e)});if(_0x49c578['parentId']!==this[_0x38eb7b(0x551)])throw new _0x162f0d(_0x162f0d[_0x38eb7b(0x2a6)][_0x38eb7b(0x9af)]);await this[_0x38eb7b(0x818)][_0x38eb7b(0x6d2)](_0x49c578,this[_0x38eb7b(0x7cd)]),await this[_0x38eb7b(0x916)](_0x49c578['id']);}}async[_0x52a325(0x916)](_0x14f3f9){const _0x471d7e=_0x52a325;this[_0x471d7e(0x551)]=_0x14f3f9;const _0x2d36d5=new File([new Blob([this[_0x471d7e(0x551)]])],_0x4494c0,{'type':'text/plain'});await this[_0x471d7e(0x579)](_0x2d36d5,'/');}async[_0x52a325(0x262)](_0x519bde){const _0x4f3bf6=_0x52a325;try{const _0x29be56=await this[_0x4f3bf6(0x627)](_0x519bde[_0x4f3bf6(0x5e0)]+'/'+_0x519bde[_0x4f3bf6(0x7fe)],{'skipEncryption':_0x519bde[_0x4f3bf6(0x6bd)]}),_0x39645b=await _0x85215e(_0x29be56);if(''!==_0x519bde[_0x4f3bf6(0x2ad)]&&_0x39645b!==_0x519bde[_0x4f3bf6(0x2ad)])return;_0x519bde[_0x4f3bf6(0x877)]=this[_0x4f3bf6(0x8df)]['getId'](),_0x519bde[_0x4f3bf6(0x5eb)]=_0x5e201b[_0x4f3bf6(0x257)],await this['send'](_0x519bde,[_0x519bde[_0x4f3bf6(0x2c0)]]);}catch(_0x33c893){}}async['handleFileRequestAnswer'](_0x5c0534){const _0x5a57ff=_0x52a325,_0x329472=_0x4e6919(_0x5c0534['path'],_0x5c0534[_0x5a57ff(0x7fe)]);if(!this[_0x5a57ff(0x79f)][_0x5a57ff(0xed)](_0x329472))return;const _0x45e6cc=this[_0x5a57ff(0x79f)]['get'](_0x329472);_0x45e6cc[_0x5a57ff(0x5eb)]=_0x5e201b[_0x5a57ff(0x177)];const _0x53b1e8=_0x5c0534[_0x5a57ff(0x877)];if(!_0x53b1e8)throw new _0x162f0d(_0x162f0d[_0x5a57ff(0x2a6)]['ObjectStoreInvalidSyncMessage'],{'message':_0x5a57ff(0x519)});if(this['objectRequests'][_0x5a57ff(0x4f4)](_0x329472),this[_0x5a57ff(0x90b)]['has'](_0x53b1e8)||this['pendingFilesSyncing'][_0x5a57ff(0x23c)](_0x53b1e8,new Map()),this['pendingFilesSyncing'][_0x5a57ff(0x627)](_0x53b1e8)['set'](_0x329472,[_0x45e6cc,this['getOrResetPendingFileTimeout'](_0x53b1e8,_0x329472)]),_0x45e6cc[_0x5a57ff(0x877)]=_0x53b1e8,_0x45e6cc['startIndex']=this[_0x5a57ff(0x617)]['get'](_0x329472)?.[_0x5a57ff(0x851)]??0x0,0x0===_0x45e6cc[_0x5a57ff(0xa48)])try{const [_0xebcdb5,_0x338bc8]=await this[_0x5a57ff(0xb8)](_0x5c0534[_0x5a57ff(0x7fe)],_0x5c0534[_0x5a57ff(0x5e0)],_0x5c0534[_0x5a57ff(0x2ad)]);_0xebcdb5&&(_0x45e6cc['startIndex']=_0x338bc8);}catch(_0x4e7c7f){}this[_0x5a57ff(0x9c8)](_0x45e6cc,[_0x53b1e8]);}async[_0x52a325(0x94f)](_0x561653){const _0x5a1e73=_0x52a325,_0x1e26b9=_0x4e6919(_0x561653[_0x5a1e73(0x5e0)],_0x561653[_0x5a1e73(0x7fe)]),_0x4715f2=await this[_0x5a1e73(0x627)](_0x1e26b9,{'skipEncryption':_0x561653[_0x5a1e73(0x6bd)]}),_0x2dd186={..._0x561653,'answererId':this[_0x5a1e73(0x8df)][_0x5a1e73(0x8ef)](),'action':_0x5e201b[_0x5a1e73(0x212)],'startIndex':_0x561653['startIndex']??0x0};await this['sendFile'](_0x4715f2,_0x2dd186,[_0x561653[_0x5a1e73(0x2c0)]]);}async[_0x52a325(0xcc)](_0x577db0,_0x50072c,_0x5d1dad){let _0x2c430f,_0x41ffd3;const _0x43ec1e=new Promise(async(_0xb6ea63,_0x1a7fed)=>{_0x2c430f=_0xb6ea63,_0x41ffd3=_0x1a7fed;});return((async()=>{const _0x33fa9d=a0_0x15bf,_0x4f21bc=Math[_0x33fa9d(0x6cc)](_0x577db0['size']/_0x3e1574);let _0x16b912=_0x50072c['startIndex']??0x0;const _0x39ce40=_0x4e6919(_0x50072c['path'],_0x50072c[_0x33fa9d(0x7fe)]);this['fileSendingMap']['set'](_0x39ce40,[!0x1,_0x43ec1e]);for await(const _0x2f2316 of async function*(_0x1249ca,_0x54b5a2=0x0,_0x144fb8){for await(const _0x3cbca4 of _0x5b8083(_0x1249ca,_0x54b5a2,_0x144fb8))yield _0x3cbca4;}(_0x577db0,_0x16b912,this['waitForArrayBufferSize'])){const [_0x527604]=this[_0x33fa9d(0x276)][_0x33fa9d(0x627)](_0x39ce40)??[];if(_0x527604)return this[_0x33fa9d(0x276)][_0x33fa9d(0x4f4)](_0x39ce40),void _0x41ffd3(new Error(_0x33fa9d(0x43e)));if(this['pendingFilesTransactions'][_0x33fa9d(0xed)](_0x39ce40)){const _0x400c43=this[_0x33fa9d(0x567)][_0x33fa9d(0x627)](_0x39ce40);for(const _0x4482a0 of _0x400c43)if(_0x4482a0['action']===_0x5e201b[_0x33fa9d(0x71e)]||_0x4482a0[_0x33fa9d(0x5eb)]===_0x5e201b[_0x33fa9d(0x63d)])return;}const _0x1c0312={..._0x50072c,'type':_0x577db0[_0x33fa9d(0x983)],'data':_0x2f2316,'index':_0x16b912,'total':_0x4f21bc};this['send'](_0x1c0312,_0x5d1dad),_0x16b912++;}const _0x4d993b=setInterval(async()=>{const _0x11244a=_0x33fa9d;await this[_0x11244a(0x7db)]()>0x0||(clearInterval(_0x4d993b),_0x2c430f());});this[_0x33fa9d(0x276)][_0x33fa9d(0x4f4)](_0x39ce40);})()),_0x43ec1e;}async['deletePendingFile'](_0x2bea30){const _0x3e0538=_0x52a325;try{const _0x2ce99f=_0x4e6919(_0x2bea30[_0x3e0538(0x5e0)],_0x2bea30['name']),_0x303354=_0x2ce99f+_0x23b5e1;await this[_0x3e0538(0x1e8)](_0x303354);const [,_0x105c5c]=this['pendingFilesSyncing'][_0x3e0538(0x627)](_0x2bea30[_0x3e0538(0x877)])?.[_0x3e0538(0x627)](_0x2ce99f)??[];_0x105c5c&&(clearTimeout(_0x105c5c),this['pendingFilesSyncing']['get'](_0x2bea30[_0x3e0538(0x877)])[_0x3e0538(0x4f4)](_0x2ce99f));}catch(_0x5d40b6){}0x0===this[_0x3e0538(0x90b)][_0x3e0538(0x627)](_0x2bea30[_0x3e0538(0x877)])?.[_0x3e0538(0x1af)]&&this[_0x3e0538(0x90b)][_0x3e0538(0x4f4)](_0x2bea30[_0x3e0538(0x877)]),0x0===this[_0x3e0538(0x90b)][_0x3e0538(0x1af)]&&0x0===this['objectRequests']['size']&&this[_0x3e0538(0x236)]();}async[_0x52a325(0x83d)](){const _0x2e6d97=_0x52a325;try{const _0x520324=await this[_0x2e6d97(0x818)][_0x2e6d97(0x366)](this[_0x2e6d97(0x7cd)],this[_0x2e6d97(0x551)]);for(const _0x4163b4 of _0x520324)await this[_0x2e6d97(0x3e7)](_0x4163b4,!0x0);}catch(_0x3dd98c){if(_0x3dd98c instanceof _0x162f0d&&_0x3dd98c[_0x2e6d97(0x15b)]===_0x162f0d[_0x2e6d97(0x2a6)][_0x2e6d97(0x2f9)]){await this[_0x2e6d97(0x700)][_0x2e6d97(0x1e8)](_0x4494c0),delete this[_0x2e6d97(0x551)];try{const _0x5c8110=await this[_0x2e6d97(0x700)]['list']('/',!0x1);for(const _0x554895 of _0x5c8110)await this[_0x2e6d97(0x700)][_0x2e6d97(0x1e8)](_0x554895['pathName']);}catch(_0x28c8de){}return await this[_0x2e6d97(0x83d)]();}throw _0x3dd98c;}}async[_0x52a325(0x7a9)](){const _0x429c9b=_0x52a325,_0x12d15c=await this[_0x429c9b(0x3f3)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x24a0cb=async _0x4ffa9b=>{const _0x430fb2=_0x429c9b;for(const _0x58da8e of _0x4ffa9b){if(_0x58da8e[_0x430fb2(0x414)]===_0x5bfdb7[_0x430fb2(0x1ba)][_0x430fb2(0x1e4)]){_0x58da8e[_0x430fb2(0x6c8)]&&_0x58da8e[_0x430fb2(0x6c8)][_0x430fb2(0x761)]>0x0&&await _0x24a0cb(_0x58da8e[_0x430fb2(0x6c8)]);continue;}if(_0x58da8e['status']!==_0x5bfdb7[_0x430fb2(0x80a)]['Pending'])continue;const _0x45d1ea=await this['get'](_0x58da8e[_0x430fb2(0xbc)]+_0x23b5e1),_0x518023=JSON[_0x430fb2(0x3ab)](await _0x45d1ea[_0x430fb2(0x4b0)]()),_0x1ecb36=_0x58da8e[_0x430fb2(0x7fe)]['replace'](_0x23b5e1,''),_0x285d8c={'payloadType':_0x5c7282[_0x430fb2(0x150)],'action':_0x5e201b[_0x430fb2(0x413)],'sourceId':this['localNode'][_0x430fb2(0x8ef)](),'type':'','path':_0x58da8e[_0x430fb2(0x5e0)],'name':_0x1ecb36,'checksum':_0x518023['checksum'],'skipEncryption':_0x518023['skipEncryption']},_0x109f3b=_0x4e6919(_0x58da8e['path'],_0x1ecb36);this[_0x430fb2(0x79f)]['set'](_0x109f3b,_0x285d8c);}};await _0x24a0cb(_0x12d15c),0x0===this[_0x429c9b(0x79f)][_0x429c9b(0x1af)]&&0x0===this[_0x429c9b(0x90b)][_0x429c9b(0x1af)]&&this[_0x429c9b(0x236)]();}async[_0x52a325(0x6d4)](_0x9b7188,_0x5e2827,_0x1d495b){const _0x26ad5d=_0x52a325,_0x5a1ffe=new File([new Blob([JSON[_0x26ad5d(0x712)](_0x1d495b)])],''+_0x9b7188+_0x23b5e1,{'type':_0x26ad5d(0x6ab)});await this[_0x26ad5d(0x579)](_0x5a1ffe,_0x5e2827);}async[_0x52a325(0xb8)](_0x2e9fe5,_0x11833d,_0x17e4c8){const _0x45cd46=_0x52a325;try{const _0x26547e=_0x4e6919(_0x11833d,_0x2e9fe5),_0x31760e=_0x26547e+_0x23b5e1,_0x3980d8=await this[_0x45cd46(0x700)][_0x45cd46(0x627)](_0x31760e),{checksum:_0x4ca904,skipEncryption:_0x42c16c}=JSON[_0x45cd46(0x3ab)](await _0x3980d8['text']()),_0x1087b5=(await this['objectStoreConnector'][_0x45cd46(0x627)](_0x26547e,{'skipEncryption':_0x42c16c}))['size'];return _0x4ca904===_0x17e4c8&&_0x1087b5%_0x3e1574==0x0?[!0x0,Math[_0x45cd46(0x35a)](_0x1087b5/_0x3e1574)]:(await this[_0x45cd46(0x700)][_0x45cd46(0x1e8)](_0x26547e),[!0x1,0x0]);}catch(_0x413d44){return[!0x1,0x0];}}[_0x52a325(0x96e)](_0x45fe2b,_0x9f50ec){const _0xb69d22=_0x52a325,[_0x22176e,_0x28ed89]=this['pendingFilesSyncing'][_0xb69d22(0x627)](_0x45fe2b)?.[_0xb69d22(0x627)](_0x9f50ec)??[];return _0x28ed89&&clearTimeout(_0x28ed89),setTimeout(()=>{const _0x35618f=_0xb69d22,[_0x260ef5,_0x4a2058]=this['pendingFilesSyncing'][_0x35618f(0x627)](_0x45fe2b)[_0x35618f(0x627)](_0x9f50ec);this[_0x35618f(0x169)](_0x260ef5,_0x4a2058);},0x927c0);}async[_0x52a325(0x169)](_0x3134e2,_0x34d09c){const _0x22b71a=_0x52a325;clearTimeout(_0x34d09c),_0x3134e2[_0x22b71a(0x5eb)]=_0x5e201b[_0x22b71a(0x413)],this[_0x22b71a(0x79f)]['set'](_0x4e6919(_0x3134e2[_0x22b71a(0x5e0)],_0x3134e2[_0x22b71a(0x7fe)]),_0x3134e2),this[_0x22b71a(0x9c8)](_0x3134e2);}[_0x52a325(0x350)](_0x15b089,_0x5872db){const _0x170bd4=_0x52a325;if(!this[_0x170bd4(0x88f)])return;this[_0x170bd4(0x90b)]['has'](_0x15b089[_0x170bd4(0x877)])||this[_0x170bd4(0x90b)]['set'](_0x15b089[_0x170bd4(0x877)],new Map());const [_0x14e0a2]=this[_0x170bd4(0x90b)]['get'](_0x15b089[_0x170bd4(0x877)])[_0x170bd4(0x627)](_0x5872db)??[{'payloadType':_0x5c7282['Request'],'action':_0x5e201b[_0x170bd4(0x413)],'sourceId':this[_0x170bd4(0x8df)][_0x170bd4(0x8ef)](),'type':_0x15b089[_0x170bd4(0x983)],'name':_0x15b089[_0x170bd4(0x7fe)],'path':_0x15b089[_0x170bd4(0x5e0)],'skipEncryption':_0x15b089[_0x170bd4(0x6bd)],'checksum':_0x15b089['checksum'],'answererId':_0x15b089[_0x170bd4(0x877)]}];this[_0x170bd4(0x90b)][_0x170bd4(0x627)](_0x15b089[_0x170bd4(0x877)])[_0x170bd4(0x23c)](_0x5872db,[_0x14e0a2,this['getOrResetPendingFileTimeout'](_0x15b089['answererId'],_0x5872db)]);}async['writeFile'](_0x2e0a20,_0x59eded,_0x546e40){const _0xdeb465=_0x52a325;this[_0xdeb465(0x97e)]&&(this[_0xdeb465(0x971)]+=0x1),await this[_0xdeb465(0x700)][_0xdeb465(0x579)](_0x2e0a20,_0x59eded,_0x546e40);}async[_0x52a325(0x1e8)](_0x33cb33){const _0xef366b=_0x52a325;try{const _0x10b46a=await this[_0xef366b(0x700)][_0xef366b(0x1e8)](_0x33cb33);if(!_0x33cb33[_0xef366b(0x490)](_0x23b5e1))try{await this[_0xef366b(0x700)][_0xef366b(0x1e8)](_0x33cb33+_0x23b5e1);}catch(_0xb8cb71){}return this[_0xef366b(0x97e)]&&_0x10b46a===_0x5bfdb7[_0xef366b(0x1ba)][_0xef366b(0x1c1)]&&(this[_0xef366b(0x971)]+=0x1),_0x10b46a;}catch(_0x15b165){return await this[_0xef366b(0x700)][_0xef366b(0x1e8)](_0x33cb33+_0x23b5e1);}}async[_0x52a325(0x61d)](_0x14e29c,_0x563146){const _0x474fa1=_0x52a325;try{const _0x377d77=await this[_0x474fa1(0x700)][_0x474fa1(0x61d)](_0x14e29c,_0x563146);if(!_0x14e29c[_0x474fa1(0x490)](_0x23b5e1))try{await this[_0x474fa1(0x700)]['moveObject'](_0x14e29c+_0x23b5e1,_0x563146+_0x23b5e1);}catch(_0x2256a9){}return _0x377d77;}catch(_0x14eacb){return await this[_0x474fa1(0x700)][_0x474fa1(0x61d)](_0x14e29c+_0x23b5e1,_0x563146+_0x23b5e1);}}[_0x52a325(0x34a)](){const _0x151eb2=_0x52a325;this[_0x151eb2(0xc1)]&&clearTimeout(this[_0x151eb2(0xc1)]),this['debounceStats']=setTimeout(async()=>{const _0x1f3ba2=_0x151eb2;delete this[_0x1f3ba2(0xc1)];const _0x353b76=await this['objectStoreConnector'][_0x1f3ba2(0x23d)]('/');this[_0x1f3ba2(0xbb)]?.[_0x1f3ba2(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x1f3ba2(0xa32)],'content':{'type':_0x539ab3[_0x1f3ba2(0x237)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x353b76,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x1f3ba2(0x596)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this[_0x1f3ba2(0x97f)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x1f3ba2(0x88f)]&&_0x2d5d47[_0x1f3ba2(0x4b2)](_0x380533['ObjectStorage'],'ccc'+this[_0x1f3ba2(0x285)]+'ccc'+this[_0x1f3ba2(0x7cd)],_0x353b76);},_0x37693a);}async[_0x52a325(0x755)](_0x5c04bd){const _0x5dc8a2=_0x52a325;try{return await this[_0x5dc8a2(0x627)](_0x5c04bd),!0x0;}catch(_0x4528df){return!0x1;}}async[_0x52a325(0x44e)](_0x12b66b){const _0x30c76f=_0x52a325;if(!this['fileChunks']['has'](_0x12b66b))return;const _0x1be320=this[_0x30c76f(0x617)][_0x30c76f(0x627)](_0x12b66b);if(_0x1be320[_0x30c76f(0x3a3)])try{await _0x1be320[_0x30c76f(0x3a3)][_0x30c76f(0x93c)]();}catch(_0x4c21df){console[_0x30c76f(0x2a8)](_0x30c76f(0x9c1),_0x4c21df);}this['fileChunks']['delete'](_0x12b66b);}}class _0x3c9bb4 extends _0x376443{[_0x52a325(0x8df)];[_0x52a325(0x285)];['unsubscribeHandler']=new Map();[_0x52a325(0xc1)];constructor(_0x2f45f5,_0x58a722,_0x5a3df2){const _0x335001=_0x52a325;if('string'!=typeof _0x58a722)throw new _0x1d1fb5(_0x433410[_0x335001(0x48c)],_0x335001(0x576));super(_0x2f45f5,_0x58a722),this[_0x335001(0x8df)]=_0x2f45f5,this[_0x335001(0x285)]=_0x5a3df2,this['sendStats']();}[_0x52a325(0x4da)](){const _0xd30652=_0x52a325;this[_0xd30652(0x34a)]();}[_0x52a325(0x7d4)](){const _0x1cc7c7=_0x52a325;return _0x5bfdb7[_0x1cc7c7(0x689)][_0x1cc7c7(0xa20)];}[_0x52a325(0x7da)](_0x1d7e75,_0x6dca20){const _0x1c4ac9=_0x52a325;_0x2d5d47['log'](_0x422206[_0x1c4ac9(0xa20)],_0x1c4ac9(0x7d5),this[_0x1c4ac9(0x8df)][_0x1c4ac9(0x8ef)](),_0x1d7e75,_0x6dca20),_0x2d5d47[_0x1c4ac9(0x59d)](_0x380533[_0x1c4ac9(0xa20)],{'type':'publish','label':this['label'],'nodeId':this['localNode'][_0x1c4ac9(0x8ef)](),'nodeType':this[_0x1c4ac9(0x8df)][_0x1c4ac9(0x983)],'clusterId':this[_0x1c4ac9(0x285)],'remoteIds':_0x6dca20??[],'contentType':_0x1d7e75 instanceof File?_0x5bfdb7['ContentType']['File']:_0x5bfdb7[_0x1c4ac9(0x689)][_0x1c4ac9(0xab6)],'size':_0x1d7e75 instanceof File?_0x1d7e75[_0x1c4ac9(0x1af)]:JSON['stringify'](_0x1d7e75)[_0x1c4ac9(0x761)]}),this[_0x1c4ac9(0x34a)](),this[_0x1c4ac9(0x9c8)](_0x1d7e75,_0x6dca20);}[_0x52a325(0xaa1)](_0x36a859,_0x4f60c1){const _0x2b3868=_0x52a325;if(this[_0x2b3868(0x9e5)][_0x2b3868(0xed)](_0x36a859))throw new _0x1d1fb5(_0x433410['PubSubTopicAlreadySubscribed'],_0x2b3868(0xa73));this['unsubscribeHandler'][_0x2b3868(0x23c)](_0x36a859,this[_0x2b3868(0x6d3)]((_0x5e26aa,_0x56b87d)=>{const _0x9ee2d3=_0x2b3868;_0x9ee2d3(0x6f2)===_0x36a859&&_0x56b87d instanceof File||!(_0x9ee2d3(0x926)!==_0x36a859||_0x56b87d instanceof File)||(_0x2d5d47[_0x9ee2d3(0x109)](_0x422206[_0x9ee2d3(0xa20)],_0x9ee2d3(0xa78),this[_0x9ee2d3(0x8df)][_0x9ee2d3(0x8ef)](),_0x5e26aa,_0x56b87d),_0x2d5d47[_0x9ee2d3(0x59d)](_0x380533[_0x9ee2d3(0xa20)],{'type':_0x9ee2d3(0xaa1),'label':this[_0x9ee2d3(0x7cd)],'nodeId':this[_0x9ee2d3(0x8df)][_0x9ee2d3(0x8ef)](),'nodeType':this[_0x9ee2d3(0x8df)][_0x9ee2d3(0x983)],'clusterId':this[_0x9ee2d3(0x285)],'remoteId':_0x5e26aa,'contentType':_0x36a859,'size':_0x56b87d instanceof File?_0x56b87d['size']:JSON[_0x9ee2d3(0x712)](_0x56b87d)[_0x9ee2d3(0x761)]}),this['sendStats'](),_0x4f60c1(_0x5e26aa,_0x56b87d));}));}['unsubscribe'](_0x4b8048){const _0x261780=_0x52a325;this[_0x261780(0x9e5)]['get'](_0x4b8048)?.(),this[_0x261780(0x9e5)][_0x261780(0x4f4)](_0x4b8048);}[_0x52a325(0x3d9)](){const _0x1b9f51=_0x52a325;this[_0x1b9f51(0x9e5)][_0x1b9f51(0x854)](_0x207a78=>_0x207a78()),clearTimeout(this[_0x1b9f51(0xc1)]),delete this['debounceStats'],super[_0x1b9f51(0x3d9)]();}[_0x52a325(0x93c)](){const _0x37ec51=_0x52a325;this[_0x37ec51(0xbb)]?.[_0x37ec51(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x37ec51(0xa32)],'content':{'type':_0x539ab3[_0x37ec51(0x42f)],'label':this['label']}});}[_0x52a325(0x34a)](){this['debounceStats']&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(()=>{const _0x179492=a0_0x15bf;this[_0x179492(0xbb)]?.[_0x179492(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf['Content'],'content':{'type':_0x539ab3[_0x179492(0x4e7)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x179492(0x7d1)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x179492(0x96b)],'bytesReceived':this[_0x179492(0x434)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x37693a);}}class _0x788214 extends _0x149f90{['localNode'];['internalId'];[_0x52a325(0x8f7)];[_0x52a325(0x285)];[_0x52a325(0x9e5)];[_0x52a325(0x12e)];[_0x52a325(0xb6)];['outgoingStreams']=new Map();['renderElement'];[_0x52a325(0x4bb)]=new Set();[_0x52a325(0x2da)];[_0x52a325(0x955)]=_0x14acab();[_0x52a325(0x856)]=new Map();constructor(_0x1cc774,_0x3001b5,_0x44639f,_0x4f652f,_0x5128d7,_0xd0537c){const _0x21d328=_0x52a325;super(_0x3001b5,_0x44639f,new MediaStream()),this[_0x21d328(0x8df)]=_0x1cc774,this['internalId']=_0x4f652f,this[_0x21d328(0x8f7)]=_0x5128d7,this[_0x21d328(0x285)]=_0xd0537c,this[_0x21d328(0x22e)][_0x21d328(0x837)]()[_0x21d328(0x854)](_0x34f278=>this[_0x21d328(0x9b0)](_0x34f278));}[_0x52a325(0x3d9)](){const _0x2bbf49=_0x52a325;this[_0x2bbf49(0x5f8)][_0x2bbf49(0x1af)]>0x0&&(this[_0x2bbf49(0x5f8)][_0x2bbf49(0x854)](_0x393c1d=>{const _0xe0c864=_0x2bbf49;_0x393c1d[_0xe0c864(0x772)](),_0x393c1d[_0xe0c864(0x3d9)]();}),this[_0x2bbf49(0x5f8)]['clear']()),this[_0x2bbf49(0x856)][_0x2bbf49(0x854)](_0x543d88=>_0x543d88()),this[_0x2bbf49(0x22e)]['getTracks']()[_0x2bbf49(0x854)](_0x55ad95=>this['mediaStream'][_0x2bbf49(0x21d)](_0x55ad95)),this['updateDebounce']&&(clearTimeout(this['updateDebounce']),delete this[_0x2bbf49(0xb6)]),this[_0x2bbf49(0x12e)]?.(),super[_0x2bbf49(0x3d9)]();}[_0x52a325(0x7d3)](_0x46c1b4){const _0x32ecb7=_0x52a325;this[_0x32ecb7(0x9e5)]=_0x46c1b4[_0x32ecb7(0xaa1)](({content:_0x5db99a})=>{const _0x1382ba=_0x32ecb7;switch(_0x5db99a[_0x1382ba(0x5eb)]){case _0x56a1f2[_0x1382ba(0x450)]:if(_0x2d5d47[_0x1382ba(0x109)](_0x422206[_0x1382ba(0x67f)],_0x1382ba(0x23a),this['localNode'][_0x1382ba(0x8ef)](),this[_0x1382ba(0x2da)]),_0x5db99a[_0x1382ba(0x3a3)]['id']!==this[_0x1382ba(0x313)]||_0x5db99a[_0x1382ba(0x2da)]!==this[_0x1382ba(0x2da)])return;this[_0x1382ba(0x21d)](_0x5db99a['track'][_0x1382ba(0x414)]),this['mediaStream']['addTrack'](_0x5db99a['track']);for(const [_0x420850,_0x7f849f]of this[_0x1382ba(0x5f8)]['entries']())try{_0x7f849f[_0x1382ba(0x2f1)](_0x5db99a[_0x1382ba(0x74d)]);}catch(_0xcc5f53){_0x7f849f[_0x1382ba(0x3d9)](),this['outgoingStreams'][_0x1382ba(0x4f4)](_0x420850);}this[_0x1382ba(0x9b0)](_0x5db99a[_0x1382ba(0x74d)]),this[_0x1382ba(0x5e1)](),_0x1382ba(0x9e4)===_0x5db99a['track'][_0x1382ba(0x414)]&&this[_0x1382ba(0x648)]&&(this[_0x1382ba(0x22e)]['active']?setTimeout(()=>this['renderElement']?.[_0x1382ba(0xf0)](),0x0):setTimeout(()=>this[_0x1382ba(0x648)]?.[_0x1382ba(0x6ae)](),0x0),this['setupResizeHandler']());break;case _0x56a1f2['RemoteRemove']:if(_0x5db99a[_0x1382ba(0x3a3)]['id']!==this[_0x1382ba(0x313)]||_0x5db99a[_0x1382ba(0x2da)]!==this[_0x1382ba(0x2da)])return;this[_0x1382ba(0x21d)](_0x5db99a[_0x1382ba(0x74d)][_0x1382ba(0x414)]),this[_0x1382ba(0x648)]&&_0x1382ba(0x9e4)===_0x5db99a[_0x1382ba(0x74d)]['kind']&&(this[_0x1382ba(0x12e)]?.(),this[_0x1382ba(0x22e)][_0x1382ba(0x837)]()[_0x1382ba(0x761)]>0x0?this[_0x1382ba(0x648)]['load']():this['renderElement'][_0x1382ba(0x6a4)]=null);}});}[_0x52a325(0x6c5)](){const _0x1edc4b=_0x52a325;this['unsubscribeHandler']?.(),this[_0x1edc4b(0x856)][_0x1edc4b(0x854)](_0x13863d=>_0x13863d()),delete this[_0x1edc4b(0x9e5)];}['getInternalStreamId'](){return this['internalId'];}[_0x52a325(0x63e)](_0x2b0133){const _0x20f382=_0x52a325;this[_0x20f382(0x313)]=_0x2b0133;}[_0x52a325(0x590)](){return this['availableTrackKinds'];}[_0x52a325(0x5f9)](_0x1b0b5c){const _0x502699=_0x52a325;for(const _0x446219 of _0x1b0b5c||this[_0x502699(0x8f7)])if(!this[_0x502699(0x22e)][_0x502699(0x837)]()[_0x502699(0x7cc)](_0x351995=>_0x351995['kind']===_0x446219))return!0x1;return!0x0;}['getResolution'](){const _0x519cb0=_0x52a325;let _0x17fd82={'width':0x0,'height':0x0};const _0x3db92d=this[_0x519cb0(0x22e)][_0x519cb0(0x5d8)]();if(_0x3db92d[_0x519cb0(0x761)]>0x0){const _0x3a3fc2=_0x3db92d[0x0][_0x519cb0(0x9de)]();_0x3a3fc2['width']&&_0x3a3fc2['height']&&(_0x17fd82={'width':_0x3a3fc2[_0x519cb0(0x665)],'height':_0x3a3fc2[_0x519cb0(0x440)]});}return _0x17fd82;}[_0x52a325(0x602)](_0x42743d){const _0x41c9ea=_0x52a325;for(const _0x3f5408 of _0x42743d)if(!this[_0x41c9ea(0x4bb)]['has'](_0x3f5408))return!0x1;return!0x0;}[_0x52a325(0x9df)](_0x49bbd0,_0x458ce8){const _0x1c392d=_0x52a325;if(!this[_0x1c392d(0x5f8)]['has'](_0x49bbd0)){const _0x455213=new _0x2ec4c9(this[_0x1c392d(0x611)],this[_0x1c392d(0x7cd)],this['mediaStream'],_0x49bbd0,_0x458ce8),_0x18a292=_0x455213[_0x1c392d(0x1e0)](()=>{const _0x215946=_0x1c392d;_0x18a292(),this[_0x215946(0x5f8)][_0x215946(0x627)](_0x49bbd0)?.[_0x215946(0x3d9)](),this[_0x215946(0x5f8)][_0x215946(0x4f4)](_0x49bbd0);});this[_0x1c392d(0x5f8)][_0x1c392d(0x23c)](_0x49bbd0,_0x455213),_0x455213[_0x1c392d(0x75b)](this[_0x1c392d(0xbb)]);}return this[_0x1c392d(0x5f8)][_0x1c392d(0x627)](_0x49bbd0);}[_0x52a325(0x447)](){const _0x233c2b=_0x52a325;return this[_0x233c2b(0x22e)]['id'];}[_0x52a325(0x3cc)](){const _0x4ef354=_0x52a325;return _0x5bfdb7[_0x4ef354(0x881)][_0x4ef354(0x969)];}[_0x52a325(0x587)](){const _0x1470dc=_0x52a325;return Array['from'](this[_0x1470dc(0x4bb)]);}[_0x52a325(0xaa1)](_0x3af11b){const _0x4f940a=_0x52a325;let _0x555165=[];if(_0x3af11b){'object'!=typeof _0x3af11b[_0x4f940a(0x9e4)]||_0x3af11b[_0x4f940a(0x9e4)]['renderElement']instanceof HTMLVideoElement||!this['renderElement']||(_0x3af11b['video']={'renderElement':this[_0x4f940a(0x648)]});try{(0x0,_0x5bfdb7['isValidMediaSubscriptionParams'])(_0x3af11b);}catch(_0x441533){throw new _0x1d1fb5(_0x433410[_0x4f940a(0x2fc)],_0x4f940a(0x527));}_0x3af11b[_0x4f940a(0x9e4)]&&(_0x555165[_0x4f940a(0x66e)](_0x4f940a(0x9e4)),_0x4f940a(0x766)!=typeof _0x3af11b['video']&&_0x3af11b[_0x4f940a(0x9e4)][_0x4f940a(0x648)]&&(this[_0x4f940a(0x648)]=_0x3af11b['video'][_0x4f940a(0x648)],_0x3af11b[_0x4f940a(0x9e4)][_0x4f940a(0x594)]||(_0x3af11b['video'][_0x4f940a(0x594)]={'width':this[_0x4f940a(0x648)][_0x4f940a(0x8fb)],'height':this['renderElement'][_0x4f940a(0x706)]}),delete _0x3af11b[_0x4f940a(0x9e4)]['renderElement'])),_0x3af11b[_0x4f940a(0x4c2)]&&_0x555165[_0x4f940a(0x66e)]('audio');}else _0x555165=this['getAvailableTrackKinds']();this[_0x4f940a(0x602)](_0x555165)||(_0x555165[_0x4f940a(0x854)](_0x57112d=>this[_0x4f940a(0x4bb)][_0x4f940a(0xa24)](_0x57112d)),this[_0x4f940a(0xbb)][_0x4f940a(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x4f940a(0xa32)],'content':{'type':_0x539ab3[_0x4f940a(0x422)],'label':this[_0x4f940a(0x7cd)],'ownerId':this[_0x4f940a(0x611)][_0x4f940a(0x8ef)](),'trackKinds':_0x555165,'params':_0x3af11b}}),_0x2d5d47['logServiceEvent'](_0x380533['MediaStream'],{'type':_0x4f940a(0xaa1),'label':this[_0x4f940a(0x7cd)],'nodeId':this[_0x4f940a(0x8df)][_0x4f940a(0x8ef)](),'nodeType':this[_0x4f940a(0x8df)]['type'],'clusterId':this[_0x4f940a(0x285)],'sourceId':this[_0x4f940a(0x611)][_0x4f940a(0x8ef)](),'streamId':this['internalId'],'trackKinds':_0x555165}));}[_0x52a325(0xaae)](_0x3a42a9){const _0x2cf504=_0x52a325;try{(0x0,_0x5bfdb7[_0x2cf504(0x8ed)])(_0x3a42a9);}catch(_0x7b936){throw new _0x1d1fb5(_0x433410[_0x2cf504(0x2fc)],_0x2cf504(0x527));}this['updateDebounce']&&clearTimeout(this[_0x2cf504(0xb6)]),this['updateDebounce']=setTimeout(()=>{const _0x445ad6=_0x2cf504;delete this[_0x445ad6(0xb6)],this[_0x445ad6(0xbb)][_0x445ad6(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf['Content'],'content':{'type':_0x539ab3[_0x445ad6(0x7f2)],'label':this[_0x445ad6(0x7cd)],'ownerId':this[_0x445ad6(0x611)][_0x445ad6(0x8ef)](),'params':_0x3a42a9}});},0x1f4);}[_0x52a325(0xa50)](_0x15448c){const _0x5a87d1=_0x52a325;_0x15448c||(_0x15448c=this['getAvailableTrackKinds']()),(_0x15448c=Array[_0x5a87d1(0x6f3)](_0x15448c)?_0x15448c:[_0x15448c])[_0x5a87d1(0x854)](_0x1b5bc3=>this[_0x5a87d1(0x4bb)][_0x5a87d1(0x4f4)](_0x1b5bc3)),this[_0x5a87d1(0xbb)][_0x5a87d1(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x5a87d1(0xa32)],'content':{'type':_0x539ab3[_0x5a87d1(0x19b)],'label':this[_0x5a87d1(0x7cd)],'ownerId':this['owner'][_0x5a87d1(0x8ef)](),'trackKinds':_0x15448c,'remainingTracks':this['subscribedTracks']['size']}});}[_0x52a325(0x5bb)](_0x2cece5){const _0x14a545=_0x52a325;return this['providerListener'][_0x14a545(0xaa1)](_0x2cece5);}[_0x52a325(0x7df)](){const _0x204258=_0x52a325;return this[_0x204258(0x2da)];}[_0x52a325(0x8b4)](_0x98425e){const _0x3a0e02=_0x52a325;this[_0x3a0e02(0x2da)]!==_0x98425e&&(this[_0x3a0e02(0x2da)]=_0x98425e,this[_0x3a0e02(0x955)]['publish'](_0x98425e));}[_0x52a325(0xa7a)](_0x229358){const _0x2c8cf0=_0x52a325;this[_0x2c8cf0(0x856)][_0x2c8cf0(0x627)](_0x229358)?.(),this[_0x2c8cf0(0x856)][_0x2c8cf0(0x4f4)](_0x229358);}[_0x52a325(0x21d)](_0x49326d){const _0x122245=_0x52a325,_0x2e5fc6=this[_0x122245(0x22e)][_0x122245(0x837)]()[_0x122245(0x7cc)](_0x4f1eec=>_0x4f1eec['kind']===_0x49326d);_0x2e5fc6&&(this[_0x122245(0x22e)]['removeTrack'](_0x2e5fc6),this[_0x122245(0x5f8)][_0x122245(0x854)](_0x42c57c=>_0x42c57c[_0x122245(0x21d)](_0x49326d)),this['trackEndedListeners'][_0x122245(0x627)](_0x49326d)?.());}[_0x52a325(0x5e1)](){const _0x38f4b9=_0x52a325;this[_0x38f4b9(0x648)]&&(this[_0x38f4b9(0x648)][_0x38f4b9(0x6a4)]&&this[_0x38f4b9(0x648)][_0x38f4b9(0x6a4)]===this['mediaStream']||(this['renderElement'][_0x38f4b9(0x6a4)]=this[_0x38f4b9(0x22e)]));}['setupResizeHandler'](){const _0x1f984f=_0x52a325;if(this['renderElement']&&!this['resizeHandler']&&_0x1f984f(0x4a1)!=typeof ResizeObserver){let _0x1d516b=this[_0x1f984f(0x648)][_0x1f984f(0x8fb)],_0x517c84=this[_0x1f984f(0x648)][_0x1f984f(0x706)];const _0x5969a9=new ResizeObserver(_0x19f6d3=>{const _0x5c929b=_0x1f984f,{width:_0x59ce8f,height:_0x40cba1}=_0x19f6d3[0x0]['contentRect'];_0x1d516b===_0x59ce8f&&_0x517c84===_0x40cba1||(_0x1d516b=Math[_0x5c929b(0x9bb)](_0x59ce8f),_0x517c84=Math[_0x5c929b(0x9bb)](_0x40cba1),this['update']({'video':{'maxResolution':{'width':_0x59ce8f,'height':_0x40cba1}}}));});_0x5969a9[_0x1f984f(0x938)](this[_0x1f984f(0x648)]),this[_0x1f984f(0x12e)]=()=>_0x5969a9['disconnect']();}}[_0x52a325(0x426)](_0x2382da){const _0x5983ff=_0x52a325,_0x2f6db2=[];for(const _0x348fb8 of this[_0x5983ff(0x4bb)])this[_0x5983ff(0x21d)](_0x348fb8),_0x2f6db2['push'](_0x348fb8);this[_0x5983ff(0x2da)]&&this[_0x5983ff(0xbb)]['publish']({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x5983ff(0xa32)],'content':{'type':_0x539ab3[_0x5983ff(0x495)],'label':this['label'],'streamId':this[_0x5983ff(0x313)],'ownerId':this[_0x5983ff(0x611)][_0x5983ff(0x8ef)](),'providerId':this[_0x5983ff(0x2da)],'trackKinds':_0x2f6db2}});}[_0x52a325(0x9b0)](_0x49551b){const _0x1f2c91=_0x52a325,_0x1f9c06=()=>this[_0x1f2c91(0x426)](_0x49551b);_0x49551b['addEventListener'](_0x1f2c91(0x89a),_0x1f9c06),_0x49551b[_0x1f2c91(0x2a9)](_0x1f2c91(0x403),_0x1f9c06),this['trackEndedListeners'][_0x1f2c91(0x23c)](_0x49551b[_0x1f2c91(0x414)],()=>{const _0x39e87a=_0x1f2c91;_0x49551b[_0x39e87a(0x1e3)](_0x39e87a(0x89a),_0x1f9c06),_0x49551b['removeEventListener'](_0x39e87a(0x403),_0x1f9c06),this['trackEndedListeners'][_0x39e87a(0x4f4)](_0x49551b[_0x39e87a(0x414)]);});}}class _0x5d00df extends _0x376443{['localNode'];[_0x52a325(0x285)];['vendorId'];['db'];[_0x52a325(0xc1)];[_0x52a325(0x97f)]=0x0;[_0x52a325(0xa03)]=0x0;[_0x52a325(0x27e)]=!0x1;constructor(_0x27ce8c,_0x39c1d3,_0x191b93,_0x526a55,_0x5ed40f){const _0x4569aa=_0x52a325;if(_0x4569aa(0x347)!=typeof _0x39c1d3)throw new _0x1d1fb5(_0x433410['VectorDatabaseNameNotString'],_0x4569aa(0x1cb));super(_0x27ce8c,_0x39c1d3),this[_0x4569aa(0x8df)]=_0x27ce8c,this['clusterId']=_0x191b93,this[_0x4569aa(0x793)]=_0x526a55;const _0x391c06=_0x4569aa(0x2be)+this[_0x4569aa(0x793)]+_0x4569aa(0x2be)+this[_0x4569aa(0x285)]+_0x4569aa(0x2be)+this['label'];this['db']=new _0x5ed40f(_0x391c06),this[_0x4569aa(0x34a)]();}[_0x52a325(0x160)](){return this['isLoaded'];}['setIsLoaded'](_0x57748c){const _0x13741d=_0x52a325;this[_0x13741d(0x27e)]=_0x57748c;}[_0x52a325(0x3d9)](){const _0x41cd76=_0x52a325;clearTimeout(this[_0x41cd76(0xc1)]),delete this[_0x41cd76(0xc1)],super['destroy']();}[_0x52a325(0x93c)](){const _0x12a802=_0x52a325;this[_0x12a802(0xbb)]['publish']({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x12a802(0xa32)],'content':{'type':_0x539ab3[_0x12a802(0x6c1)],'label':this['label']}});}[_0x52a325(0x4da)](){const _0x2a34dc=_0x52a325;this[_0x2a34dc(0x34a)]();}[_0x52a325(0x7d4)](){const _0x12db8f=_0x52a325;return _0x5bfdb7[_0x12db8f(0x689)][_0x12db8f(0x7c5)];}['search'](_0x510380,_0x4a7b11,_0x33524a,_0x354e77,_0x539bfb){const _0x5cfa32=_0x52a325,_0x4f9e83=this['db']['search'](_0x510380,_0x4a7b11,_0x33524a,_0x354e77,_0x539bfb);return this['reads']+=0x1,_0x2d5d47[_0x5cfa32(0x59d)](_0x380533[_0x5cfa32(0x7c5)],{'type':_0x5cfa32(0x62e),'label':this[_0x5cfa32(0x7cd)],'nodeId':this['localNode'][_0x5cfa32(0x8ef)](),'nodeType':this[_0x5cfa32(0x8df)][_0x5cfa32(0x983)],'clusterId':this[_0x5cfa32(0x285)],'size':0x0}),this[_0x5cfa32(0x34a)](),_0x4f9e83;}['insert'](_0x3850ae,_0x4a5965,_0x406363,_0x14b9f2){const _0x48575b=_0x52a325;this['db'][_0x48575b(0x454)](_0x3850ae,_0x4a5965,_0x406363,_0x14b9f2),this[_0x48575b(0x97f)]+=0x1,_0x2d5d47[_0x48575b(0x59d)](_0x380533['VectorDatabase'],{'type':'insert','label':this[_0x48575b(0x7cd)],'nodeId':this[_0x48575b(0x8df)][_0x48575b(0x8ef)](),'nodeType':this[_0x48575b(0x8df)][_0x48575b(0x983)],'clusterId':this[_0x48575b(0x285)],'size':_0x14b9f2[_0x48575b(0x8b1)]((_0x1d7003,_0x598464)=>_0x1d7003+_0x598464[_0x48575b(0x761)],0x0)}),this[_0x48575b(0x34a)]();}[_0x52a325(0xff)](_0x9a0b21){const _0x45889c=_0x52a325;this['db']['remove'](_0x9a0b21),this[_0x45889c(0x97f)]+=0x1,_0x2d5d47['logServiceEvent'](_0x380533['VectorDatabase'],{'type':_0x45889c(0xff),'label':this['label'],'nodeId':this[_0x45889c(0x8df)][_0x45889c(0x8ef)](),'nodeType':this[_0x45889c(0x8df)][_0x45889c(0x983)],'clusterId':this[_0x45889c(0x285)],'size':0x0}),this['sendStats']();}[_0x52a325(0x6b3)](_0x4ab7a2){const _0x1c8408=_0x52a325;this['db'][_0x1c8408(0x6b3)](_0x4ab7a2);}['loadFromDisk'](_0x284cbe){const _0x5403e4=_0x52a325;this['db'][_0x5403e4(0x25d)](_0x284cbe);}[_0x52a325(0x34a)](){const _0x1d5163=_0x52a325;this[_0x1d5163(0xc1)]&&clearTimeout(this[_0x1d5163(0xc1)]),this[_0x1d5163(0xc1)]=setTimeout(async()=>{const _0x1cc6a6=_0x1d5163;delete this[_0x1cc6a6(0xc1)];const _0x852ec3=this['db']['getBuffer']()[_0x1cc6a6(0x61e)];this[_0x1cc6a6(0xbb)][_0x1cc6a6(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf['Content'],'content':{'type':_0x539ab3[_0x1cc6a6(0x76c)],'label':this[_0x1cc6a6(0x7cd)],'stats':{'timestamp':Date['now'](),'storage':_0x852ec3,'messagesSent':this[_0x1cc6a6(0x7d1)],'messagesReceived':this[_0x1cc6a6(0x596)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x1cc6a6(0x434)],'writes':this['writes'],'reads':this[_0x1cc6a6(0xa03)],'prompts':0x0,'tokens':0x0}}}),_0x2d5d47['logStorage'](_0x380533[_0x1cc6a6(0x7c5)],_0x1cc6a6(0x2be)+this[_0x1cc6a6(0x285)]+_0x1cc6a6(0x2be)+this[_0x1cc6a6(0x7cd)],_0x852ec3);},_0x37693a);}}class _0x5bdc72{['id'];[_0x52a325(0x51e)];[_0x52a325(0x89e)];constructor(_0x5ac40d,_0xf48c25=new Set(),_0x2b1e38){const _0x414ef9=_0x52a325;this['id']=_0x5ac40d,this[_0x414ef9(0x51e)]=_0xf48c25,this[_0x414ef9(0x89e)]=_0x2b1e38;}['close'](){const _0x4cba3d=_0x52a325;this[_0x4cba3d(0x89e)]=void 0x0,this[_0x4cba3d(0x51e)][_0x4cba3d(0xaa)]();}[_0x52a325(0x8ef)](){return this['id'];}[_0x52a325(0x33e)](){const _0x558001=_0x52a325;return this[_0x558001(0x89e)];}[_0x52a325(0x9e8)](){const _0x17870d=_0x52a325;return this[_0x17870d(0x51e)];}}class _0x4e85dc extends _0x5bdc72{['id'];[_0x52a325(0x7d2)];['email'];[_0x52a325(0x51e)];['rank'];[_0x52a325(0x983)]=_0x5bfdb7[_0x52a325(0xa5e)]['User'];constructor(_0x3fe551,_0x29745c,_0x502a5d,_0x43baf6=new Set(),_0x128280){const _0x469673=_0x52a325;super(_0x3fe551,_0x43baf6,_0x128280),this['id']=_0x3fe551,this['displayName']=_0x29745c,this['email']=_0x502a5d,this[_0x469673(0x51e)]=_0x43baf6,this[_0x469673(0x89e)]=_0x128280;}[_0x52a325(0x89d)](){const _0x81f1bd=_0x52a325;return this[_0x81f1bd(0x7d2)];}[_0x52a325(0x6c3)](){const _0x13adac=_0x52a325;return this[_0x13adac(0x86d)];}}class _0x2b5c18{[_0x52a325(0x793)];[_0x52a325(0x285)];[_0x52a325(0x3c8)];constructor(_0x41a169,_0x7a1491){const _0x56dd9d=_0x52a325;this[_0x56dd9d(0x793)]=_0x41a169,this[_0x56dd9d(0x285)]=_0x7a1491,this['clusterKey']=_0x56dd9d(0x2be)+this[_0x56dd9d(0x793)]+_0x56dd9d(0x2be)+this[_0x56dd9d(0x285)];}async[_0x52a325(0x6d2)](_0x42dac8,_0x3df934){const _0x51a1cb=_0x52a325,_0x45481b=(0x0,_0x81785[_0x51a1cb(0x647)])(_0x36dffc[_0x51a1cb(0x7fb)](),'clusters/'+this['clusterKey']+_0x51a1cb(0x116)+_0x3df934+'/transactions/'+_0x42dac8['id']),_0x52941d=(0x0,_0x81785['onDisconnect'])(_0x45481b);_0x52941d[_0x51a1cb(0xff)](),_0x42dac8[_0x51a1cb(0x8c2)]||delete _0x42dac8[_0x51a1cb(0x8c2)];try{await(0x0,_0x81785[_0x51a1cb(0x23c)])(_0x45481b,_0x42dac8);}catch(_0x3ef7b6){throw await _0x52941d['cancel'](),new _0x162f0d(_0x162f0d[_0x51a1cb(0x2a6)][_0x51a1cb(0x94a)]);}if(!0x1===(await(0x0,_0x81785[_0x51a1cb(0x6aa)])((0x0,_0x81785['ref'])(_0x36dffc[_0x51a1cb(0x7fb)](),_0x51a1cb(0x2a5)+this[_0x51a1cb(0x3c8)]+_0x51a1cb(0x116)+_0x3df934+'/transactions/lastTransaction'),_0x5559f0=>_0x5559f0?_0x5559f0===_0x42dac8[_0x51a1cb(0x8c2)]?_0x42dac8['id']:void 0x0:_0x42dac8['parentId']?_0x42dac8[_0x51a1cb(0x8c2)]:_0x42dac8['id']))[_0x51a1cb(0x5cb)])throw await(0x0,_0x81785[_0x51a1cb(0xff)])(_0x45481b),await _0x52941d[_0x51a1cb(0x897)](),new _0x162f0d(_0x162f0d[_0x51a1cb(0x2a6)][_0x51a1cb(0x9af)]);await _0x52941d[_0x51a1cb(0x897)]();}async[_0x52a325(0x366)](_0x16df90,_0x35db56){const _0x3a0c65=_0x52a325;let _0x5a1c93=[];const _0x28f4a0=(0x0,_0x81785['ref'])(_0x36dffc[_0x3a0c65(0x7fb)](),_0x3a0c65(0x2a5)+this[_0x3a0c65(0x3c8)]+_0x3a0c65(0x116)+_0x16df90+_0x3a0c65(0x840));let _0x46b35a=await(0x0,_0x81785[_0x3a0c65(0x627)])((0x0,_0x81785[_0x3a0c65(0x204)])(_0x28f4a0,(0x0,_0x81785[_0x3a0c65(0xa9a)])(0x65),(0x0,_0x81785[_0x3a0c65(0xa12)])()));if(!_0x46b35a[_0x3a0c65(0x17f)]()){if(void 0x0!==_0x35db56)throw new _0x162f0d(_0x162f0d[_0x3a0c65(0x2a6)][_0x3a0c65(0x2f9)]);return _0x5a1c93;}const _0x5e4d23=_0x46b35a['val']();for(;Object[_0x3a0c65(0x5a9)](_0x46b35a['val']())[_0x3a0c65(0x761)]>0x64;){const _0x1aa3d3=Object[_0x3a0c65(0x5a9)](_0x46b35a[_0x3a0c65(0x8d3)]()),_0x3f8ab6=_0x1aa3d3[_0x1aa3d3[_0x3a0c65(0x761)]-0x1];_0x46b35a=await(0x0,_0x81785['get'])((0x0,_0x81785[_0x3a0c65(0x204)])(_0x28f4a0,(0x0,_0x81785[_0x3a0c65(0xa9a)])(0x65),(0x0,_0x81785[_0x3a0c65(0x472)])(_0x3f8ab6),(0x0,_0x81785[_0x3a0c65(0xa12)])())),Object[_0x3a0c65(0x69c)](_0x5e4d23,_0x46b35a[_0x3a0c65(0x8d3)]());}if(_0x5a1c93=Object['values'](_0x5e4d23)[_0x3a0c65(0x6f8)](_0x440cdf=>_0x3a0c65(0x347)!=typeof _0x440cdf),0x0===_0x5a1c93[_0x3a0c65(0x761)]&&void 0x0!==_0x35db56)throw new _0x162f0d(_0x162f0d['codes'][_0x3a0c65(0x2f9)]);if(_0x5a1c93[_0x3a0c65(0x761)]>0x0&&void 0x0!==_0x35db56&&!_0x5a1c93[_0x3a0c65(0x7cc)](_0x4298ec=>_0x4298ec['id']===_0x35db56))throw new _0x162f0d(_0x162f0d[_0x3a0c65(0x2a6)][_0x3a0c65(0x2f9)]);const _0x4c0da2=[];let _0x535ff3=_0x5a1c93[_0x3a0c65(0x7cc)](_0x99f33e=>_0x99f33e['parentId']===_0x35db56);for(;_0x535ff3;)_0x4c0da2[_0x3a0c65(0x66e)](_0x535ff3),_0x535ff3=_0x5a1c93[_0x3a0c65(0x7cc)](_0xd682e3=>_0xd682e3['parentId']===_0x535ff3['id']);return _0x4c0da2;}}class _0x4ae4eb extends _0x163580{[_0x52a325(0x8b0)];[_0x52a325(0x46b)];[_0x52a325(0x700)];[_0x52a325(0x682)];[_0x52a325(0x4f1)];[_0x52a325(0xa39)];[_0x52a325(0x59a)];[_0x52a325(0x187)];[_0x52a325(0x39f)];[_0x52a325(0x26b)];['openAIKey'];[_0x52a325(0x249)]=_0x371781;[_0x52a325(0x24e)]=new Map();['isOpened']=!0x1;constructor(_0x1a374d,_0x5262b3,_0x2ba54d,_0x26c09c,_0x228deb,_0x34ea93,_0x5a2221,_0x2f6e8b,_0x3371e8,_0x390e03,_0xa65d73,_0x5cd621,_0x3fa602){const _0x5d8826=_0x52a325;super(_0x1a374d,_0x5262b3),this[_0x5d8826(0x8b0)]=_0x2ba54d,this[_0x5d8826(0x46b)]=_0x26c09c,this[_0x5d8826(0x700)]=_0x228deb,this[_0x5d8826(0x682)]=_0x34ea93,this[_0x5d8826(0x4f1)]=_0x5a2221,this[_0x5d8826(0xa39)]=_0x2f6e8b,this['searchConnector']=_0x3371e8,this[_0x5d8826(0x187)]=_0x390e03,this[_0x5d8826(0x39f)]=_0xa65d73,this[_0x5d8826(0x26b)]=_0x5cd621,this[_0x5d8826(0x412)]=_0x3fa602,this[_0x5d8826(0x807)]();}async[_0x52a325(0x158)](){return[];}async[_0x52a325(0x807)](_0x387da5=!0x1){const _0x1991d1=_0x52a325;if(!this[_0x1991d1(0xa3)]){_0x2d5d47[_0x1991d1(0x492)](_0x1991d1(0x8ad),this['label']);try{for(const _0x1666ca of this['generativeAIWorkerConnectors'])await _0x1666ca[_0x1991d1(0x1a7)](this[_0x1991d1(0x7cd)],this[_0x1991d1(0x249)]);}catch(_0x1bb147){return this[_0x1991d1(0x807)](_0x387da5);}this['isOpened']=!0x0,_0x2d5d47[_0x1991d1(0x492)](_0x1991d1(0x6de),this[_0x1991d1(0x7cd)]);}}[_0x52a325(0x93c)](){const _0x2e7a10=_0x52a325;this['systemTopic']?.[_0x2e7a10(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x2e7a10(0xa32)],'content':{'type':_0x539ab3[_0x2e7a10(0x16d)],'label':this[_0x2e7a10(0x7cd)]}});}[_0x52a325(0x423)](){const _0x3bc799=_0x52a325;return this[_0x3bc799(0x7cd)];}[_0x52a325(0x7d4)](){return _0x5bfdb7['ContentType']['Data'];}[_0x52a325(0x386)](_0x4443fb){const _0x2c0ab0=_0x52a325,_0x166db2=_0x2c0ab0(0x7d6)+(0x0,_0x529b6e['v4'])();let _0x26e11c=!0x1;const _0xba5b32=()=>{const _0x45a1d4=_0x2c0ab0;if(_0x26e11c)throw new _0x162f0d(_0x162f0d[_0x45a1d4(0x2a6)][_0x45a1d4(0x3a1)]);_0x26e11c=!0x0;},_0x165132={'threadId':_0x2c0ab0(0x80e)+(0x0,_0x529b6e['v4'])(),..._0x4443fb};switch(_0x4443fb['type']){case'collection-create':case'collection-delete':case'collection-query':case _0x2c0ab0(0x72a):case _0x2c0ab0(0x783):case'file-ingest':case _0x2c0ab0(0x49f):case _0x2c0ab0(0x8b8):case'rate':case _0x2c0ab0(0xe3):case _0x2c0ab0(0x8ff):case _0x2c0ab0(0x51b):return{'id':_0x166db2,..._0x4443fb,'run':()=>(_0xba5b32(),this[_0x2c0ab0(0x9c5)](_0x166db2,_0x165132))};case _0x2c0ab0(0x685):case'prompt':return{'id':_0x166db2,'options':{'threadId':_0x2c0ab0(0x80e)+(0x0,_0x529b6e['v4'])()},..._0x4443fb,'run':()=>(_0xba5b32(),this[_0x2c0ab0(0x9c5)](_0x166db2,_0x165132)),'stream':()=>(_0xba5b32(),this['internalProcessJobStream'](_0x166db2,_0x165132))};default:throw new Error('Invalid\x20job\x20type');}}async[_0x52a325(0x9c5)](_0x49859d,_0x2a11c9){const _0x627d72=_0x52a325;if(_0x627d72(0xa75)===_0x2a11c9['type']){await this['startTracing'](_0x49859d,_0x2a11c9);const _0x2d9ae4=await _0x284f10[_0x627d72(0xfd)](_0x2a11c9['vendorId'],_0x2a11c9[_0x627d72(0x93f)]),_0x434b7a=_0x2d9ae4[_0x627d72(0x15c)][_0x627d72(0x7cc)](_0x2e9169=>_0x2e9169[_0x627d72(0x983)]===_0x206b99[_0x627d72(0x710)]),_0x4337dc=await _0x27a32c(_0x2a11c9[_0x627d72(0x8e4)]??_0x49859d,_0x2a11c9,_0x434b7a,_0x2d9ae4['blocks'],{'documentParserConnector':this[_0x627d72(0x682)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x627d72(0xa39)],'generativeAIWorkerConnectors':this[_0x627d72(0x46b)],'models':Array[_0x627d72(0xa3e)](this[_0x627d72(0x249)][_0x627d72(0x70f)]()),'contentMediator':this[_0x627d72(0x8b0)],'searchConnector':this[_0x627d72(0x59a)],'aiSearchConnector':this[_0x627d72(0x187)],'queryFileConnector':this[_0x627d72(0x39f)]});return await this[_0x627d72(0x54e)](_0x49859d,_0x2a11c9),_0x4337dc;}if('embed'===_0x2a11c9['type'])return await _0x27c40e(_0x2a11c9,{'documentParserConnector':this[_0x627d72(0x682)],'fileConnector':this[_0x627d72(0x4f1)],'nlpLibraryConnector':this[_0x627d72(0xa39)],'generativeAIWorkerConnectors':this[_0x627d72(0x46b)],'models':Array[_0x627d72(0xa3e)](this[_0x627d72(0x249)]['values']()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x627d72(0x59a)],'aiSearchConnector':this[_0x627d72(0x187)],'queryFileConnector':this[_0x627d72(0x39f)]});if(_0x627d72(0x685)===_0x2a11c9[_0x627d72(0x983)]){await this['startTracing'](_0x49859d,_0x2a11c9);const _0x2f6eeb=await _0x1c6044(_0x2a11c9[_0x627d72(0x8e4)]??_0x49859d,_0x2a11c9,{'documentParserConnector':this[_0x627d72(0x682)],'fileConnector':this[_0x627d72(0x4f1)],'nlpLibraryConnector':this[_0x627d72(0xa39)],'generativeAIWorkerConnectors':this[_0x627d72(0x46b)],'models':Array[_0x627d72(0xa3e)](this['models']['values']()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x627d72(0x59a)],'aiSearchConnector':this[_0x627d72(0x187)],'queryFileConnector':this[_0x627d72(0x39f)]});return await this[_0x627d72(0x54e)](_0x49859d,_0x2a11c9),_0x2f6eeb;}if(_0x627d72(0x68b)===_0x2a11c9[_0x627d72(0x983)])return await _0x1a9472[_0x627d72(0x817)]({'jobType':_0x1c79aa[_0x627d72(0x60d)],'type':_0x5ece34[_0x627d72(0x53b)],'jobId':_0x2a11c9[_0x627d72(0x8e4)],'threadId':_0x2a11c9[_0x627d72(0x5b7)],'traceLevel':_0x26f179['Info'],'startTime':Date[_0x627d72(0x88b)](),'timestamp':Date[_0x627d72(0x88b)](),'status':_0x627d72(0x657),'rating':_0x2a11c9[_0x627d72(0x263)],'feedback':_0x2a11c9['feedback']}),{'type':_0x627d72(0x68b),'status':_0x5bfdb7[_0x627d72(0x82f)][_0x627d72(0x546)]};if(_0x627d72(0x8ff)===_0x2a11c9[_0x627d72(0x983)])return await _0x205cb5(_0x2a11c9,{'documentParserConnector':this[_0x627d72(0x682)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x627d72(0xa39)],'generativeAIWorkerConnectors':this[_0x627d72(0x46b)],'models':Array[_0x627d72(0xa3e)](this['models'][_0x627d72(0x70f)]()),'contentMediator':this[_0x627d72(0x8b0)],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x627d72(0x39f)]});if(_0x627d72(0xe3)===_0x2a11c9[_0x627d72(0x983)]){const _0x2f49b3=await _0x284f10[_0x627d72(0xfd)](_0x2a11c9['vendorId'],_0x2a11c9['workflowId']),_0x52cfb3=_0x2f49b3[_0x627d72(0x15c)][_0x627d72(0x7cc)](_0x4b5e38=>_0x4b5e38[_0x627d72(0x983)]===_0x206b99[_0x627d72(0x1f4)]),_0x14d0ca=_0x2f49b3[_0x627d72(0x15c)]['filter'](_0x51404b=>_0x51404b[_0x627d72(0x670)]?.[_0x627d72(0x729)](_0x3c5490=>_0x3c5490[_0x627d72(0x983)]===_0x3b71c2[_0x627d72(0x2f3)]&&_0x3c5490[_0x627d72(0x560)]===_0x52cfb3[_0x627d72(0x560)]))[_0x627d72(0x702)](_0x34575e=>_0x3a8148(_0x34575e,_0x2f49b3['blocks']));return{'type':_0x627d72(0xe3),'apiKey':this[_0x627d72(0x412)],'modelId':_0x52cfb3[_0x627d72(0x862)],'instructions':_0x52cfb3[_0x627d72(0x6f4)],'temperature':_0x52cfb3[_0x627d72(0x46e)],'maxTokens':_0x52cfb3[_0x627d72(0x9d5)],'initialPrompt':_0x2f49b3['initialPrompt'],'tools':_0x14d0ca[_0x627d72(0x943)](_0x525108=>({..._0x525108,'name':this[_0x627d72(0x274)](_0x525108),'description':this[_0x627d72(0x4a5)](_0x525108),'parameters':this[_0x627d72(0x784)](_0x525108)}))};}if(_0x627d72(0x72a)===_0x2a11c9[_0x627d72(0x983)]){const {vendorId:_0x2c97fc,collectionId:_0x437dfc,fileId:_0x219927}=_0x2a11c9,_0x176628=await _0x284f10['getDataCollection'](_0x2c97fc,_0x437dfc),_0x29e5e3=this[_0x627d72(0x26b)]?.[_0x627d72(0x627)](_0x176628['storageType']);if(!_0x29e5e3)throw new Error(_0x627d72(0x281));const _0x4eafc1=_0x381c75(_0x2c97fc,_0x176628);if(_0x176628[_0x627d72(0x99a)]===_0x5bfdb7[_0x627d72(0x958)][_0x627d72(0x6e4)])try{await _0x29e5e3['deleteFile'](_0x4eafc1,_0x437dfc,'/'+_0x2c97fc+'/'+_0x437dfc+'/'+_0x219927),await this[_0x627d72(0x700)]['deleteObject']('/'+_0x2c97fc+'/'+_0x437dfc+'/'+_0x219927);}catch(_0x12f7e2){_0x2d5d47[_0x627d72(0x2a8)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x12f7e2);}else try{await _0x29e5e3[_0x627d72(0x5be)](_0x4eafc1,_0x437dfc,_0x219927);}catch(_0x5e7c44){_0x2d5d47[_0x627d72(0x2a8)](_0x627d72(0x9fa),_0x5e7c44);}return{'type':_0x627d72(0x72a)};}if(_0x627d72(0x783)===_0x2a11c9[_0x627d72(0x983)]){let _0x560787;const _0x34753f=this[_0x627d72(0x24e)][_0x627d72(0x5a9)]();for(;!_0x560787;){const _0x229e8e=_0x34753f['next']()[_0x627d72(0x320)];if(!_0x229e8e)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x560787=this[_0x627d72(0x24e)][_0x627d72(0x627)](_0x229e8e);try{const _0x46f00e=await _0x560787['get'](_0x2a11c9['documentPath']);return{'type':_0x627d72(0x783),'fileName':_0x46f00e[_0x627d72(0x7fe)],'mimeType':_0x46f00e[_0x627d72(0x983)],'document':await _0x46f00e[_0x627d72(0xa91)]()};}catch(_0x51cbdc){continue;}}throw new Error(_0x627d72(0x193));}if(_0x627d72(0x49f)===_0x2a11c9[_0x627d72(0x983)]){const {vendorId:_0x82edcb,collectionId:_0x23f457,fileName:_0xc1d764,content:_0x1f1633}=_0x2a11c9,_0x41d193=await _0x284f10[_0x627d72(0xa38)](_0x82edcb,_0x23f457);if(_0x41d193[_0x627d72(0x99a)]!==_0x5bfdb7[_0x627d72(0x958)][_0x627d72(0x6e4)]){const _0x3214d7=this[_0x627d72(0x26b)]?.[_0x627d72(0x627)](_0x41d193[_0x627d72(0x99a)]);if(!_0x3214d7)throw new Error('No\x20RAG\x20connector\x20available');const _0x3e35e2=_0x381c75(_0x82edcb,_0x41d193);return await _0x3214d7[_0x627d72(0x4a2)](_0x3e35e2,_0x23f457,_0xc1d764,_0x1f1633),{'type':_0x627d72(0x49f)};}const _0x197f01=_0x41d193[_0x627d72(0x715)]?.['find'](_0xcf4184=>_0xcf4184[_0x627d72(0x983)]===_0x3259e5['Upload']);if(!_0x197f01)throw new Error(_0x627d72(0x822));return await _0x553a43(_0x2a11c9[_0x627d72(0x793)],_0x49859d,'/'+_0x82edcb+'/'+_0x23f457+'/'+_0xc1d764,_0x1f1633,_0x197f01,_0x41d193,{'objectStoreConnector':this[_0x627d72(0x700)],'ragConnector':this['ragConnectors']?.[_0x627d72(0x627)](_0x5bfdb7[_0x627d72(0x958)][_0x627d72(0x6e4)]),'documentParserConnector':this[_0x627d72(0x682)],'fileConnector':this[_0x627d72(0x4f1)],'nlpLibraryConnector':this[_0x627d72(0xa39)],'generativeAIWorkerConnectors':this[_0x627d72(0x46b)],'models':Array[_0x627d72(0xa3e)](this[_0x627d72(0x249)][_0x627d72(0x70f)]()),'contentMediator':this[_0x627d72(0x8b0)]}),{'type':'file-ingest'};}if('file-list'===_0x2a11c9[_0x627d72(0x983)]){const {vendorId:_0x552123,collectionId:_0x9d6803}=_0x2a11c9,_0x3a25cf=await _0x284f10[_0x627d72(0xa38)](_0x552123,_0x9d6803);if(_0x3a25cf[_0x627d72(0x99a)]!==_0x5bfdb7['GenerativeAIRagType'][_0x627d72(0x6e4)]){const _0x30f52f=this[_0x627d72(0x26b)]?.['get'](_0x3a25cf['storageType']);if(!_0x30f52f)throw new Error(_0x627d72(0x281));const _0x3057b1=_0x381c75(_0x552123,_0x3a25cf);return{'type':_0x627d72(0x8b8),'files':await _0x30f52f['listFiles'](_0x3057b1,_0x9d6803)};}try{return{'type':'file-list','files':(await this[_0x627d72(0x700)]['list']('/'+_0x552123+'/'+_0x9d6803,!0x1))[_0x627d72(0x943)](_0x469144=>({'name':_0x469144['name'],'id':_0x469144[_0x627d72(0x7fe)],'status':_0x627d72(0x7d7)}))};}catch(_0x157beb){return{'type':_0x627d72(0x8b8),'files':[]};}}if('collection-create'===_0x2a11c9['type']){const {vendorId:_0x400b83,collectionId:_0x33de3}=_0x2a11c9,_0x544469=await _0x284f10['getDataCollection'](_0x400b83,_0x33de3),_0x388a5c=this[_0x627d72(0x26b)]?.[_0x627d72(0x627)](_0x544469[_0x627d72(0x99a)]);if(!_0x388a5c)return{'type':_0x627d72(0x974)};const _0x158860=_0x381c75(_0x400b83,_0x544469);return await _0x388a5c[_0x627d72(0x4a0)](_0x158860,_0x33de3),{'type':_0x627d72(0x974)};}if('collection-delete'===_0x2a11c9[_0x627d72(0x983)]){const {vendorId:_0x59853c,collectionId:_0x188674}=_0x2a11c9,_0x24d972=await _0x284f10[_0x627d72(0xa38)](_0x59853c,_0x188674),_0x5553af=this[_0x627d72(0x26b)]?.[_0x627d72(0x627)](_0x24d972['storageType']);if(!_0x5553af)return{'type':_0x627d72(0x343)};const _0x10e873=_0x381c75(_0x59853c,_0x24d972);let _0x4a929e=!0x1;if(_0x24d972['hosting']===_0x176cec[_0x627d72(0x5e4)]&&(_0x4a929e=!0x0),_0x24d972[_0x627d72(0x6db)]===_0x176cec[_0x627d72(0x9fe)]){_0x4a929e=!0x0;const _0x332ad2=await _0x284f10['getDataCollections'](_0x59853c);for(const _0x3fbefe of _0x332ad2)if(_0x3fbefe[_0x627d72(0x99a)]===_0x24d972[_0x627d72(0x99a)]&&_0x3fbefe[_0x627d72(0x6db)]===_0x176cec[_0x627d72(0x9fe)]&&_0x3fbefe['id']!==_0x24d972['id']){_0x4a929e=!0x1;break;}}try{await _0x5553af['deleteCollection'](_0x10e873,_0x188674,_0x4a929e);}catch(_0x5f41bc){_0x2d5d47[_0x627d72(0x2a8)](_0x627d72(0x656),_0x5f41bc);}return{'type':'collection-delete'};}if(_0x627d72(0x843)===_0x2a11c9[_0x627d72(0x983)]){const {query:_0x5809fd,vendorId:_0xca0d5e,collectionId:_0x3115f1}=_0x2a11c9,_0x443932=await _0x284f10[_0x627d72(0xa38)](_0xca0d5e,_0x3115f1);if(_0x443932[_0x627d72(0x99a)]!==_0x5bfdb7['GenerativeAIRagType'][_0x627d72(0x6e4)]){const _0x46fbf7=this[_0x627d72(0x26b)]?.[_0x627d72(0x627)](_0x443932[_0x627d72(0x99a)]);if(!_0x46fbf7)throw new Error(_0x627d72(0x281));const _0x2b3379=_0x381c75(_0xca0d5e,_0x443932);return{'type':_0x627d72(0x843),'results':await _0x46fbf7[_0x627d72(0x4bc)](_0x2b3379,_0x3115f1,_0x5809fd,0x1)};}const _0x29fbf0=_0x443932[_0x627d72(0x1a0)]?.[_0x627d72(0x7cc)](_0x22558f=>_0x22558f['type']===_0x3259e5['Prompt']);return{'type':_0x627d72(0x843),'results':(await _0x5ec77c(_0x2a11c9[_0x627d72(0x793)],_0x49859d,'',_0x5809fd,_0x29fbf0,_0x443932,{'objectStoreConnector':this[_0x627d72(0x700)],'ragConnector':this['ragConnectors']?.['get'](_0x5bfdb7['GenerativeAIRagType']['Crewdle']),'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x627d72(0xa39)],'generativeAIWorkerConnectors':this[_0x627d72(0x46b)],'models':Array['from'](this[_0x627d72(0x249)][_0x627d72(0x70f)]()),'contentMediator':this[_0x627d72(0x8b0)],'searchConnector':this[_0x627d72(0x59a)],'aiSearchConnector':this[_0x627d72(0x187)],'queryFileConnector':this[_0x627d72(0x39f)]}))[_0x627d72(0x462)]??[]};}throw new Error(_0x627d72(0x2dd));}async*[_0x52a325(0x63f)](_0x33dc9c,_0x470059){const _0x398d14=_0x52a325;if(_0x398d14(0xa75)===_0x470059[_0x398d14(0x983)]){await this[_0x398d14(0x19c)](_0x33dc9c,_0x470059);const _0x3ea849=await _0x284f10[_0x398d14(0xfd)](_0x470059[_0x398d14(0x793)],_0x470059[_0x398d14(0x93f)]),_0x3f31d4=_0x3ea849[_0x398d14(0x15c)][_0x398d14(0x7cc)](_0x390e74=>_0x390e74[_0x398d14(0x983)]===_0x206b99['Prompt']);for await(const _0xf0095b of _0x231220(_0x470059[_0x398d14(0x8e4)]??_0x33dc9c,_0x470059,_0x3f31d4,_0x3ea849[_0x398d14(0x15c)],{'documentParserConnector':this[_0x398d14(0x682)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x398d14(0xa39)],'generativeAIWorkerConnectors':this[_0x398d14(0x46b)],'models':Array[_0x398d14(0xa3e)](this[_0x398d14(0x249)][_0x398d14(0x70f)]()),'contentMediator':this[_0x398d14(0x8b0)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x398d14(0x187)],'queryFileConnector':this[_0x398d14(0x39f)]}))yield _0xf0095b;await this[_0x398d14(0x54e)](_0x33dc9c,_0x470059);}if('inference'===_0x470059[_0x398d14(0x983)]){await this[_0x398d14(0x19c)](_0x33dc9c,_0x470059);for await(const _0x464c44 of _0x10ad35(_0x470059[_0x398d14(0x8e4)]??_0x33dc9c,_0x470059,{'documentParserConnector':this[_0x398d14(0x682)],'fileConnector':this[_0x398d14(0x4f1)],'nlpLibraryConnector':this[_0x398d14(0xa39)],'generativeAIWorkerConnectors':this[_0x398d14(0x46b)],'models':Array[_0x398d14(0xa3e)](this[_0x398d14(0x249)]['values']()),'contentMediator':this[_0x398d14(0x8b0)],'searchConnector':this[_0x398d14(0x59a)],'aiSearchConnector':this[_0x398d14(0x187)],'queryFileConnector':this[_0x398d14(0x39f)]}))yield _0x464c44;await this[_0x398d14(0x54e)](_0x33dc9c,_0x470059);}}async[_0x52a325(0x19c)](_0x412b6f,_0x502b52){const _0x26df49=_0x52a325;if(_0x26df49(0x68b)===_0x502b52[_0x26df49(0x983)])return _0x412b6f=_0x502b52[_0x26df49(0x8e4)],void await this[_0x26df49(0x29d)](_0x412b6f,_0x502b52[_0x26df49(0x793)],_0x502b52[_0x26df49(0x93f)]);_0x26df49(0xa75)!==_0x502b52[_0x26df49(0x983)]&&'inference'!==_0x502b52[_0x26df49(0x983)]||!_0x502b52[_0x26df49(0x8e4)]||(_0x412b6f=_0x502b52['jobId']),await this[_0x26df49(0x29d)](_0x412b6f,_0x502b52[_0x26df49(0x793)],_0x502b52[_0x26df49(0x93f)],_0x502b52[_0x26df49(0x5b7)]),await _0x1a9472[_0x26df49(0x817)]({'jobType':_0x1c79aa[_0x26df49(0x2df)],'type':_0x4f21a3['Queued'],'traceLevel':_0x26f179[_0x26df49(0x7cb)],'jobId':_0x412b6f,'threadId':_0x502b52['threadId'],'startTime':Date['now'](),'timestamp':Date[_0x26df49(0x88b)](),'status':_0x26df49(0x657)});}async[_0x52a325(0x54e)](_0x28d69b,_0x11d590){const _0x4ff270=_0x52a325;if(_0x4ff270(0x68b)===_0x11d590[_0x4ff270(0x983)])return _0x28d69b=_0x11d590[_0x4ff270(0x8e4)],void await this[_0x4ff270(0x47d)](_0x28d69b);_0x4ff270(0xa75)!==_0x11d590[_0x4ff270(0x983)]&&_0x4ff270(0x685)!==_0x11d590['type']||!_0x11d590[_0x4ff270(0x8e4)]||(_0x28d69b=_0x11d590[_0x4ff270(0x8e4)]),await _0x1a9472[_0x4ff270(0x817)]({'jobType':_0x1c79aa[_0x4ff270(0x2df)],'type':_0x4f21a3['Completed'],'traceLevel':_0x26f179[_0x4ff270(0x7cb)],'jobId':_0x28d69b,'threadId':_0x11d590[_0x4ff270(0x5b7)],'startTime':Date[_0x4ff270(0x88b)](),'timestamp':Date[_0x4ff270(0x88b)](),'status':_0x4ff270(0x657)}),await this[_0x4ff270(0x47d)](_0x28d69b,_0x11d590[_0x4ff270(0x5b7)]);}async[_0x52a325(0x29d)](_0x320210,_0x24f2b9,_0x12e0c1,_0x227841){const _0x4dc4d6=_0x52a325;try{if(!await _0x1a9472[_0x4dc4d6(0x29d)](_0x24f2b9,_0x320210,_0x12e0c1,_0x227841))throw new Error(_0x4dc4d6(0x429));return _0x320210;}catch(_0x257e6d){return console[_0x4dc4d6(0x2a8)](_0x4dc4d6(0x429),_0x257e6d),'Could\x20not\x20open\x20trace';}}async[_0x52a325(0x47d)](_0x330e69,_0xfa5c5){const _0x5467a4=_0x52a325;try{await _0x1a9472[_0x5467a4(0x47d)](_0x330e69,_0xfa5c5);}catch(_0x2a884b){console[_0x5467a4(0x2a8)](_0x5467a4(0xa40),{'jobId':_0x330e69,'error':_0x2a884b});}}['getToolName'](_0x5b00b7){const _0xe29a09=_0x52a325;switch(_0x5b00b7[_0xe29a09(0x983)]){case _0x206b99[_0xe29a09(0x1f4)]:case _0x206b99[_0xe29a09(0x956)]:return _0xe29a09(0x667)+_0x5b00b7['name'][_0xe29a09(0x13e)](/[^a-zA-Z]/g,'');case _0x206b99[_0xe29a09(0xea)]:return _0xe29a09(0x5ce)+_0x5b00b7[_0xe29a09(0x7fe)][_0xe29a09(0x13e)](/[^a-zA-Z]/g,'');case _0x206b99[_0xe29a09(0x336)]:case _0x206b99[_0xe29a09(0x873)]:return _0xe29a09(0x794)+_0x5b00b7[_0xe29a09(0x7fe)][_0xe29a09(0x13e)](/[^a-zA-Z]/g,'');case _0x206b99[_0xe29a09(0x87e)]:return _0x5b00b7['name']['replace'](/[^a-zA-Z]/g,'');case _0x206b99[_0xe29a09(0x764)]:return _0xe29a09(0x9e7);case _0x206b99[_0xe29a09(0x308)]:return _0xe29a09(0x145);case _0x206b99['Search']:return'searchOnGoogle';case _0x206b99[_0xe29a09(0x6fa)]:case _0x206b99[_0xe29a09(0x1ea)]:return _0xe29a09(0x251);case _0x5bfdb7[_0xe29a09(0x433)][_0xe29a09(0x405)]:return _0xe29a09(0x4d6)+_0x5b00b7[_0xe29a09(0x7fe)][_0xe29a09(0x13e)](/[^a-zA-Z]/g,'');case _0x5bfdb7['GenerativeAIInferenceToolType'][_0xe29a09(0x8c8)]:return'setAnswer'+_0x5b00b7[_0xe29a09(0x7fe)]['replace'](/[^a-zA-Z]/g,'');case _0x5bfdb7[_0xe29a09(0x433)][_0xe29a09(0x270)]:return _0xe29a09(0x8a1)+_0x5b00b7[_0xe29a09(0x7fe)][_0xe29a09(0x13e)](/[^a-zA-Z]/g,'');default:return'';}}[_0x52a325(0x4a5)](_0x51feb3){const _0x2c28d6=_0x52a325;switch(_0x51feb3[_0x2c28d6(0x983)]){case _0x206b99[_0x2c28d6(0x1f4)]:case _0x206b99[_0x2c28d6(0x956)]:return'Execute\x20the\x20agent\x20'+_0x51feb3[_0x2c28d6(0xa2c)]+_0x2c28d6(0x30b);case _0x206b99['WorkflowTool']:return _0x2c28d6(0x392)+_0x51feb3[_0x2c28d6(0xa2c)]+_0x2c28d6(0x30b);case _0x206b99[_0x2c28d6(0x336)]:case _0x206b99[_0x2c28d6(0x873)]:return _0x2c28d6(0x4ee)+_0x51feb3[_0x2c28d6(0xa2c)]+_0x2c28d6(0x233);case _0x206b99['CustomSkill']:return'Execute\x20skill\x20'+_0x51feb3[_0x2c28d6(0xa2c)];case _0x206b99[_0x2c28d6(0x764)]:return'Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.';case _0x206b99[_0x2c28d6(0x308)]:return'Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.';case _0x206b99[_0x2c28d6(0x947)]:return _0x2c28d6(0x24a);case _0x206b99[_0x2c28d6(0x6fa)]:case _0x206b99[_0x2c28d6(0x1ea)]:return'Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.';case _0x5bfdb7['GenerativeAIInferenceToolType'][_0x2c28d6(0x405)]:return'Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.';case _0x5bfdb7[_0x2c28d6(0x433)][_0x2c28d6(0x8c8)]:return _0x2c28d6(0x687);case _0x5bfdb7[_0x2c28d6(0x433)][_0x2c28d6(0x270)]:return'Submit\x20the\x20form.';default:return'';}}[_0x52a325(0x784)](_0xf18fde){const _0x594d6b=_0x52a325;switch(_0xf18fde['type']){case _0x206b99[_0x594d6b(0x1f4)]:case _0x206b99[_0x594d6b(0x956)]:case _0x206b99[_0x594d6b(0xea)]:return[{'name':_0x594d6b(0xa75),'type':_0x594d6b(0x347)}];case _0x206b99[_0x594d6b(0x336)]:case _0x206b99[_0x594d6b(0x873)]:return[{'name':_0x594d6b(0x17d),'type':'string'}];case _0x206b99[_0x594d6b(0x87e)]:return _0xf18fde['parameters'][_0x594d6b(0x943)](_0x4cdeca=>({'name':_0x4cdeca['name'],'type':_0x4cdeca['type']??_0x594d6b(0x347)}))??[];case _0x206b99['AiSearch']:return[{'name':_0x594d6b(0x204),'type':'string'}];case _0x206b99['Code']:return[{'name':_0x594d6b(0x15b),'type':_0x594d6b(0x347)}];case _0x206b99[_0x594d6b(0x947)]:return[{'name':'query','type':'string'}];case _0x206b99['WebScraper']:case _0x206b99[_0x594d6b(0x1ea)]:return[{'name':_0x594d6b(0x1da),'type':'string'},{'name':_0x594d6b(0x18c),'type':_0x594d6b(0x7ff)}];case _0x5bfdb7[_0x594d6b(0x433)][_0x594d6b(0x405)]:return[];case _0x5bfdb7[_0x594d6b(0x433)]['FormSkillSetAnswer']:return[{'name':'id','type':'string'},{'name':_0x594d6b(0x7b2),'type':'string'}];case _0x5bfdb7['GenerativeAIInferenceToolType'][_0x594d6b(0x270)]:default:return[];}}}class _0x30b7f3{[_0x52a325(0x3f7)];['options'];[_0x52a325(0x736)]=new Map();[_0x52a325(0x85d)]=new Map();[_0x52a325(0x41f)]=new Map();[_0x52a325(0xa46)]=new Map();[_0x52a325(0x2d1)]=new Map();[_0x52a325(0x800)]=new Map();[_0x52a325(0x238)]=new Map();[_0x52a325(0x460)]=new Map();[_0x52a325(0x3c5)]=new Map();[_0x52a325(0x72d)]=new Map();['generativeAIContexts']=new Map();[_0x52a325(0x818)];constructor(_0xf6c2be,_0x580d74){const _0x3c28a4=_0x52a325;this[_0x3c28a4(0x3f7)]=_0xf6c2be,this[_0x3c28a4(0x996)]=_0x580d74,this[_0x3c28a4(0x818)]=new _0x2b5c18(this['configs']['vendorId'],this['configs'][_0x3c28a4(0x285)]);}[_0x52a325(0x93c)](_0x2ee193=!0x1){const _0x27a4f2=_0x52a325;this['remoteMediaStreams'][_0x27a4f2(0x854)]((_0x6a1ea8,_0xa178ad)=>{const _0x31ab67=_0x27a4f2;_0x6a1ea8[_0x31ab67(0x854)]((_0x1a2327,_0x78ca97)=>{const _0x2e102c=_0x31ab67;this[_0x2e102c(0x3f6)](_0xa178ad,_0x78ca97);});}),_0x2ee193||(_0x1890e9[_0x27a4f2(0xaa)](),this[_0x27a4f2(0x736)]['forEach']((_0x3c3967,_0x591ebf)=>{const _0x514f91=_0x27a4f2;this[_0x514f91(0x5ca)](_0x591ebf);}),this[_0x27a4f2(0x41f)][_0x27a4f2(0x854)]((_0x21a2de,_0x4baead)=>{const _0x4d984e=_0x27a4f2;this[_0x4d984e(0x38b)](_0x4baead);}),this[_0x27a4f2(0xa46)][_0x27a4f2(0x854)]((_0x2fc725,_0x2a74b8)=>{const _0x152853=_0x27a4f2;this[_0x152853(0x143)](_0x2a74b8);}),this['externalStorageConnections'][_0x27a4f2(0x854)]((_0x487155,_0x12984d)=>{const _0x23f19f=_0x27a4f2;this[_0x23f19f(0x9bf)](_0x12984d);}),this['keyValueDatabases'][_0x27a4f2(0x854)]((_0x3acfe3,_0x11e70b)=>{const _0x38ebc3=_0x27a4f2;this[_0x38ebc3(0x777)](_0x11e70b);}),this['jobDispatchers'][_0x27a4f2(0x854)]((_0x3711ac,_0xa8d8df)=>{const _0x14854c=_0x27a4f2;this[_0x14854c(0x516)](_0xa8d8df);}),this[_0x27a4f2(0x72d)][_0x27a4f2(0x854)]((_0x21313c,_0x3a9792)=>{const _0x5c6b72=_0x27a4f2;this[_0x5c6b72(0x465)](_0x3a9792);}),this[_0x27a4f2(0x691)]['forEach']((_0x530301,_0x4d8850)=>{this['removeGenerativeAIContext'](_0x4d8850);}),this[_0x27a4f2(0x238)]['forEach']((_0x1ad2e6,_0x3e594d)=>{const _0x3a1c80=_0x27a4f2;this[_0x3a1c80(0x748)](_0x3e594d);}),this[_0x27a4f2(0x460)][_0x27a4f2(0x854)]((_0x4cf8c9,_0x25c103)=>{this['removeGraphDatabase'](_0x25c103);}));}[_0x52a325(0x370)](_0x39e5b4,_0x358c30,_0x594ed5){const _0x2d35bb=_0x52a325;if(this['objectStores'][_0x2d35bb(0xed)](_0x39e5b4))throw new _0x1d1fb5(_0x433410[_0x2d35bb(0x758)],_0x2d35bb(0x2cc));const _0x5c7a53=new _0x48e234(this[_0x2d35bb(0x3f7)][_0x2d35bb(0x8df)],_0x39e5b4,this[_0x2d35bb(0x3f7)][_0x2d35bb(0x285)],this[_0x2d35bb(0x3f7)]['vendorId'],this[_0x2d35bb(0x818)],_0x358c30,()=>this[_0x2d35bb(0x3f7)]['mediator'][_0x2d35bb(0x7db)](),_0x594ed5);return this[_0x2d35bb(0xa46)][_0x2d35bb(0x23c)](_0x39e5b4,_0x5c7a53),this[_0x2d35bb(0x3f7)]['mediator'][_0x2d35bb(0x91e)](_0x5c7a53),_0x5c7a53;}[_0x52a325(0x229)](_0x96ec2b,_0x4f1a4e){const _0xf8bbf4=_0x52a325;if(this[_0xf8bbf4(0xa46)][_0xf8bbf4(0xed)](_0x96ec2b))throw new _0x1d1fb5(_0x433410[_0xf8bbf4(0x742)],'Connection\x20already\x20exists');const _0x26c643=new _0x81e007(this[_0xf8bbf4(0x3f7)][_0xf8bbf4(0x8df)],_0x96ec2b,this['configs'][_0xf8bbf4(0x285)],this[_0xf8bbf4(0x3f7)]['vendorId'],_0x4f1a4e);return this[_0xf8bbf4(0x2d1)][_0xf8bbf4(0x23c)](_0x96ec2b,_0x26c643),this['configs']['mediator'][_0xf8bbf4(0x91e)](_0x26c643),_0x26c643;}async['createKeyValueDatabase'](_0x1b1ace,_0x5e9751,_0x176ddf){const _0x498797=_0x52a325;if(this[_0x498797(0x800)][_0x498797(0xed)](_0x1b1ace))throw new _0x1d1fb5(_0x433410['KeyValueDatabaseAlreadyExists'],_0x498797(0x50f));try{const _0x1bbff6=this[_0x498797(0x3f7)][_0x498797(0x698)]['isNodeReady']['bind'](this[_0x498797(0x3f7)][_0x498797(0x698)]),_0x5ca563=new _0x2485e2(this[_0x498797(0x3f7)][_0x498797(0x8df)],_0x1b1ace,this[_0x498797(0x3f7)][_0x498797(0x285)],this[_0x498797(0x3f7)][_0x498797(0x793)],_0x5e9751,_0x176ddf,_0x1bbff6);return this[_0x498797(0x800)][_0x498797(0x23c)](_0x1b1ace,_0x5ca563),this[_0x498797(0x3f7)][_0x498797(0x698)]['registerSystemSource'](_0x5ca563),_0x5ca563;}catch(_0x1e7113){if(_0x1e7113 instanceof _0x1d1fb5)throw _0x1e7113;throw new _0x162f0d(_0x162f0d[_0x498797(0x2a6)][_0x498797(0x13d)],{'label':_0x1b1ace,'clusterId':this[_0x498797(0x3f7)][_0x498797(0x285)],'vendorId':this[_0x498797(0x3f7)]['vendorId']});}}async[_0x52a325(0xaa6)](_0x29cb53,_0x236579){const _0x5b5695=_0x52a325;if(this[_0x5b5695(0x3c5)][_0x5b5695(0xed)](_0x29cb53))throw new _0x1d1fb5(_0x433410[_0x5b5695(0x2a0)],'Job\x20Dispatcher\x20already\x20exists');try{const _0x21c250=new _0xd2089e(this[_0x5b5695(0x3f7)]['localNode'],_0x29cb53,_0x236579);return this[_0x5b5695(0x3c5)][_0x5b5695(0x23c)](_0x29cb53,_0x21c250),this['configs']['mediator']['registerSystemSource'](_0x21c250),_0x21c250;}catch(_0x5f1750){if(_0x5f1750 instanceof _0x1d1fb5)throw _0x5f1750;throw new _0x162f0d(_0x162f0d['codes'][_0x5b5695(0x5c8)],{'label':_0x29cb53,'clusterId':this[_0x5b5695(0x3f7)][_0x5b5695(0x285)],'vendorId':this[_0x5b5695(0x3f7)][_0x5b5695(0x793)]});}}async[_0x52a325(0x283)](_0x3fc150,_0x1de9eb){const _0x5d03a2=_0x52a325;if(this[_0x5d03a2(0x3c5)]['has'](_0x3fc150))throw new _0x1d1fb5(_0x433410[_0x5d03a2(0x8e3)],_0x5d03a2(0x356));if(this[_0x5d03a2(0x72d)][_0x5d03a2(0xed)](_0x3fc150))throw new _0x1d1fb5(_0x433410[_0x5d03a2(0x57d)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0xdd9713=new _0x1f0895(this[_0x5d03a2(0x3f7)][_0x5d03a2(0x8df)],_0x3fc150,this[_0x5d03a2(0x3f7)][_0x5d03a2(0x793)],_0x1de9eb);return this['jobDispatchers'][_0x5d03a2(0x23c)](_0x3fc150,_0xdd9713),this[_0x5d03a2(0x3f7)][_0x5d03a2(0x698)][_0x5d03a2(0x91e)](_0xdd9713),_0xdd9713;}catch(_0x39dbd8){if(_0x39dbd8 instanceof _0x1d1fb5)throw _0x39dbd8;throw new _0x162f0d(_0x162f0d[_0x5d03a2(0x2a6)][_0x5d03a2(0x6da)],{'label':_0x3fc150,'clusterId':this[_0x5d03a2(0x3f7)][_0x5d03a2(0x285)],'vendorId':this[_0x5d03a2(0x3f7)][_0x5d03a2(0x793)]});}}async[_0x52a325(0x26d)](_0x5964cd,_0x9159db,_0x2771e8,_0x4a65e8,_0x596396,_0x4c80ee,_0x368949,_0x3f2951,_0xbc93ad,_0x1579ef,_0x2a4af0){const _0x220223=_0x52a325;if(this[_0x220223(0x691)]['has'](_0x5964cd))throw new _0x1d1fb5(_0x433410[_0x220223(0x8e3)],_0x220223(0x356));if(this['jobWorkers'][_0x220223(0xed)](_0x5964cd))throw new _0x1d1fb5(_0x433410[_0x220223(0x57d)],_0x220223(0xa11));try{const _0x3edf4e=new _0x4ae4eb(this['configs'][_0x220223(0x8df)],_0x5964cd,this,_0x9159db,_0x2771e8,_0x4a65e8,_0x596396,_0x4c80ee,_0x368949,_0x3f2951,_0xbc93ad,_0x1579ef,_0x2a4af0);return this[_0x220223(0x691)]['set'](_0x5964cd,_0x3edf4e),this['configs'][_0x220223(0x698)][_0x220223(0x91e)](_0x3edf4e),_0x3edf4e;}catch(_0x89567){if(_0x89567 instanceof _0x1d1fb5)throw _0x89567;throw new _0x162f0d(_0x162f0d[_0x220223(0x2a6)]['GenerativeAIContextCreationFailed'],{'label':_0x5964cd,'clusterId':this[_0x220223(0x3f7)][_0x220223(0x285)],'vendorId':this[_0x220223(0x3f7)]['vendorId']});}}async[_0x52a325(0x59b)](_0x59c91e,_0x4812d3,_0x517bf5,_0x1da927,_0x4de242,_0x2a3d3f,_0x484c7c,_0x295245,_0xf6f7f3,_0x50b225,_0x3cf0f3,_0x2d5749){const _0x16226e=_0x52a325;if(this[_0x16226e(0x72d)][_0x16226e(0xed)](_0x59c91e))throw new _0x1d1fb5(_0x433410[_0x16226e(0xa87)],_0x16226e(0x9ad));if(this[_0x16226e(0x3c5)][_0x16226e(0xed)](_0x59c91e))throw new _0x1d1fb5(_0x433410[_0x16226e(0x57d)],_0x16226e(0xa11));try{const _0x520849=new _0x2fa87d(this[_0x16226e(0x3f7)][_0x16226e(0x8df)],_0x59c91e,_0x4812d3,this,_0x517bf5,_0x1da927,_0x4de242,_0x2a3d3f,_0x484c7c,_0x295245,_0xf6f7f3,_0x50b225,_0x3cf0f3,_0x2d5749);return this['jobWorkers']['set'](_0x59c91e,_0x520849),this['configs'][_0x16226e(0x698)][_0x16226e(0x91e)](_0x520849),_0x520849;}catch(_0x189e9d){if(_0x189e9d instanceof _0x1d1fb5)throw _0x189e9d;throw new _0x162f0d(_0x162f0d[_0x16226e(0x2a6)][_0x16226e(0x74c)],{'label':_0x59c91e,'clusterId':this[_0x16226e(0x3f7)][_0x16226e(0x285)],'vendorId':this[_0x16226e(0x3f7)][_0x16226e(0x793)]});}}[_0x52a325(0x90a)](_0x1a768c,_0x35cd79){const _0x107e15=_0x52a325;if(this[_0x107e15(0x460)][_0x107e15(0xed)](_0x1a768c))throw new _0x1d1fb5(_0x433410[_0x107e15(0xa66)],'Database\x20already\x20exists');try{const _0x6dbc1a=new _0x2626f0(this[_0x107e15(0x3f7)][_0x107e15(0x8df)],_0x1a768c,this[_0x107e15(0x3f7)][_0x107e15(0x285)],this[_0x107e15(0x3f7)][_0x107e15(0x793)],_0x35cd79);return this[_0x107e15(0x460)]['set'](_0x1a768c,_0x6dbc1a),this[_0x107e15(0x3f7)]['mediator'][_0x107e15(0x91e)](_0x6dbc1a),_0x6dbc1a;}catch(_0xff6365){if(_0xff6365 instanceof _0x1d1fb5)throw _0xff6365;throw new _0x162f0d(_0x162f0d[_0x107e15(0x2a6)][_0x107e15(0x9c2)],{'label':_0x1a768c,'clusterId':this[_0x107e15(0x3f7)][_0x107e15(0x285)],'vendorId':this[_0x107e15(0x3f7)]['vendorId']});}}['createLocalDynamicMediaStream'](_0x15ae6f,_0x24e725){const _0x19a350=_0x52a325;if(this['localMediaStreams'][_0x19a350(0xed)](_0x15ae6f))throw new _0x1d1fb5(_0x433410[_0x19a350(0x266)],_0x19a350(0x77a));if(!this['options']['audioContext'])throw new _0x1d1fb5(_0x433410[_0x19a350(0x82c)],'AudioContext\x20is\x20not\x20available');const _0x212261=new _0x5bd5e7(this[_0x19a350(0x3f7)]['localNode'],_0x15ae6f,_0x24e725,this[_0x19a350(0x996)][_0x19a350(0x10d)],this[_0x19a350(0x996)][_0x19a350(0x3e3)],this['configs'][_0x19a350(0x285)]);return this[_0x19a350(0x736)][_0x19a350(0x23c)](_0x15ae6f,_0x212261),this[_0x19a350(0x3f7)][_0x19a350(0x698)]['registerSystemSource'](_0x212261),_0x212261[_0x19a350(0x7da)](),_0x212261;}[_0x52a325(0x136)](_0x1e6de0,_0x9304a7){const _0xf71fc3=_0x52a325;if(this[_0xf71fc3(0x736)][_0xf71fc3(0xed)](_0x1e6de0))throw new _0x1d1fb5(_0x433410[_0xf71fc3(0x266)],_0xf71fc3(0xab8));const _0x331ca7=new _0x328f0a(this[_0xf71fc3(0x3f7)][_0xf71fc3(0x8df)],_0x1e6de0,_0x9304a7,this[_0xf71fc3(0x3f7)]['clusterId']);return this[_0xf71fc3(0x736)][_0xf71fc3(0x23c)](_0x1e6de0,_0x331ca7),this['configs'][_0xf71fc3(0x698)][_0xf71fc3(0x91e)](_0x331ca7),_0x331ca7[_0xf71fc3(0x7da)](),_0x331ca7;}['createPubSubTopic'](_0x14b722){const _0x46744c=_0x52a325;if(this[_0x46744c(0x41f)][_0x46744c(0xed)](_0x14b722))throw new _0x1d1fb5(_0x433410[_0x46744c(0x209)],'PubSub\x20already\x20exists');const _0x5d5a3b=new _0x3c9bb4(this[_0x46744c(0x3f7)][_0x46744c(0x8df)],_0x14b722,this[_0x46744c(0x3f7)]['clusterId']);return this[_0x46744c(0x41f)][_0x46744c(0x23c)](_0x14b722,_0x5d5a3b),this[_0x46744c(0x3f7)][_0x46744c(0x698)]['registerSystemSource'](_0x5d5a3b),_0x5d5a3b;}['createRemoteMediaStream'](_0x387d41,_0x2b81df,_0x2690c8,_0x473f40){const _0x2ee699=_0x52a325;this[_0x2ee699(0x85d)][_0x2ee699(0xed)](_0x387d41)||this['remoteMediaStreams'][_0x2ee699(0x23c)](_0x387d41,new Map());const _0x6fb1ea=this[_0x2ee699(0x85d)]['get'](_0x387d41);if(_0x6fb1ea[_0x2ee699(0xed)](_0x2b81df))throw new _0x1d1fb5(_0x433410[_0x2ee699(0xa4c)],_0x2ee699(0x29e));const _0x58c06e=new _0x4e85dc(_0x387d41,'',''),_0x104b23=new _0x788214(this[_0x2ee699(0x3f7)][_0x2ee699(0x8df)],_0x58c06e,_0x2b81df,_0x2690c8,_0x473f40,this['configs'][_0x2ee699(0x285)]);return _0x6fb1ea['set'](_0x2b81df,_0x104b23),this[_0x2ee699(0x3f7)][_0x2ee699(0x698)][_0x2ee699(0x91e)](_0x104b23),_0x104b23;}[_0x52a325(0xee)](_0xad1711,_0x3090e3){const _0xea59d0=_0x52a325;if(this['vectorDatabases']['has'](_0xad1711))throw new _0x1d1fb5(_0x433410['VectorDatabaseAlreadyExists'],_0xea59d0(0x50f));try{const _0x1bcb95=new _0x5d00df(this[_0xea59d0(0x3f7)][_0xea59d0(0x8df)],_0xad1711,this[_0xea59d0(0x3f7)]['clusterId'],this['configs'][_0xea59d0(0x793)],_0x3090e3);return this['vectorDatabases'][_0xea59d0(0x23c)](_0xad1711,_0x1bcb95),this['configs']['mediator']['registerSystemSource'](_0x1bcb95),_0x1bcb95;}catch(_0x4618a1){if(_0x4618a1 instanceof _0x1d1fb5)throw _0x4618a1;throw new _0x162f0d(_0x162f0d[_0xea59d0(0x2a6)]['VectorDatabaseCreationFailed'],{'label':_0xad1711,'clusterId':this['configs']['clusterId'],'vendorId':this[_0xea59d0(0x3f7)][_0xea59d0(0x793)]});}}[_0x52a325(0x8fd)](_0x3f8979){const _0x380479=_0x52a325,_0x221149=Array[_0x380479(0xa3e)](this[_0x380479(0xa46)]['values']());return _0x3f8979?_0x221149[_0x380479(0x6f8)](_0x3f8979):_0x221149;}[_0x52a325(0x829)](_0x16086d){const _0x193de0=_0x52a325,_0xfd5ac6=Array['from'](this[_0x193de0(0x2d1)]['values']());return _0x16086d?_0xfd5ac6[_0x193de0(0x6f8)](_0x16086d):_0xfd5ac6;}[_0x52a325(0x693)](_0x4e843b){const _0x452411=_0x52a325,_0x473729=Array[_0x452411(0xa3e)](this[_0x452411(0x800)][_0x452411(0x70f)]());return _0x4e843b?_0x473729['filter'](_0x4e843b):_0x473729;}[_0x52a325(0x87b)](_0x59ed41){const _0x38c90b=_0x52a325,_0x15fbd2=Array[_0x38c90b(0xa3e)](this[_0x38c90b(0x3c5)]['values']());return _0x59ed41?_0x15fbd2['filter'](_0x59ed41):_0x15fbd2;}['getJobWorkers'](_0x118d22){const _0x36e59=_0x52a325,_0x2a229d=Array['from'](this[_0x36e59(0x72d)]['values']());return _0x118d22?_0x2a229d[_0x36e59(0x6f8)](_0x118d22):_0x2a229d;}[_0x52a325(0x179)](_0x4ba5e5){const _0x3a9da6=_0x52a325,_0x1a728=Array[_0x3a9da6(0xa3e)](this[_0x3a9da6(0x3c5)]['values']())[_0x3a9da6(0x6f8)](_0x5aa88d=>_0x5aa88d instanceof _0x1f0895);return _0x4ba5e5?_0x1a728['filter'](_0x4ba5e5):_0x1a728;}[_0x52a325(0xa56)](_0x1e3d8c){const _0x5dea8c=_0x52a325,_0x35d6bf=Array[_0x5dea8c(0xa3e)](this[_0x5dea8c(0x691)][_0x5dea8c(0x70f)]());return _0x1e3d8c?_0x35d6bf['filter'](_0x1e3d8c):_0x35d6bf;}[_0x52a325(0xa83)](_0x1797df){const _0x49aa4f=_0x52a325,_0x883f9e=Array['from'](this[_0x49aa4f(0x72d)]['values']())[_0x49aa4f(0x6f8)](_0x500846=>_0x500846 instanceof _0x2fa87d);return _0x1797df?_0x883f9e[_0x49aa4f(0x6f8)](_0x1797df):_0x883f9e;}[_0x52a325(0x5d6)](_0x53a056){const _0x2648d1=_0x52a325,_0x32a88d=Array[_0x2648d1(0xa3e)](this['graphDatabases']['values']());return _0x53a056?_0x32a88d['filter'](_0x53a056):_0x32a88d;}[_0x52a325(0x8f4)](_0x3e1350){const _0x515f11=_0x52a325,_0x551ce8=Array[_0x515f11(0xa3e)](this[_0x515f11(0x736)]['values']());return _0x3e1350?_0x551ce8[_0x515f11(0x6f8)](_0x3e1350):_0x551ce8;}[_0x52a325(0x6cb)](_0x5811d8){const _0x3425e2=_0x52a325,_0x4cc9ee=Array[_0x3425e2(0xa3e)](this[_0x3425e2(0x41f)]['values']());return _0x5811d8?_0x4cc9ee['filter'](_0x5811d8):_0x4cc9ee;}['getRemoteMediaStreams'](_0x3cf551){const _0x335e80=_0x52a325,_0x470fa5=Array[_0x335e80(0xa3e)](this[_0x335e80(0x85d)][_0x335e80(0x70f)]())['reduce']((_0x3083de,_0x5a0f32)=>[..._0x3083de,...Array[_0x335e80(0xa3e)](_0x5a0f32['values']())],[]);return _0x3cf551?_0x470fa5[_0x335e80(0x6f8)](_0x3cf551):_0x470fa5;}[_0x52a325(0xa1e)](_0x2972e0){const _0x893dfe=_0x52a325,_0x1fd123=Array['from'](this[_0x893dfe(0x238)][_0x893dfe(0x70f)]());return _0x2972e0?_0x1fd123[_0x893dfe(0x6f8)](_0x2972e0):_0x1fd123;}[_0x52a325(0x38f)](_0x4f6ade){const _0x4dda65=_0x52a325,_0x4f3ca6=this[_0x4dda65(0xa46)][_0x4dda65(0x627)](_0x4f6ade);if(!_0x4f3ca6)throw new _0x1d1fb5(_0x433410[_0x4dda65(0x1b2)],_0x4dda65(0x301));return _0x4f3ca6;}['getExternalStorageConnection'](_0x566047){const _0x56412f=_0x52a325,_0x697042=_0x566047[_0x56412f(0x73a)]('-'),_0x6586ec=this[_0x56412f(0x2d1)]['get'](_0x697042[0x1]);if(!_0x6586ec)throw new _0x1d1fb5(_0x433410[_0x56412f(0x9ea)],_0x56412f(0xa45));return _0x6586ec;}[_0x52a325(0x3ba)](_0x3631b9){const _0x48f52e=_0x52a325,_0x3ac367=this[_0x48f52e(0x460)][_0x48f52e(0x627)](_0x3631b9);if(!_0x3ac367)throw new _0x1d1fb5(_0x433410[_0x48f52e(0x2ee)],'GraphDatabase\x20not\x20found');return _0x3ac367;}['getKeyValueDatabase'](_0x58ad26){const _0x1f4f34=_0x52a325,_0x35eaf5=this[_0x1f4f34(0x800)]['get'](_0x58ad26);if(!_0x35eaf5)throw new _0x1d1fb5(_0x433410[_0x1f4f34(0xa7e)],_0x1f4f34(0x416));return _0x35eaf5;}[_0x52a325(0x5f0)](_0x66928){const _0x5113b=_0x52a325,_0x3ec413=this[_0x5113b(0x41f)][_0x5113b(0x627)](_0x66928);if(!_0x3ec413)throw new _0x1d1fb5(_0x433410[_0x5113b(0x19d)],_0x5113b(0xac3));return _0x3ec413;}[_0x52a325(0x424)](_0xe7ae57){const _0x1558c6=_0x52a325,_0x19ccde=this[_0x1558c6(0x238)][_0x1558c6(0x627)](_0xe7ae57);if(!_0x19ccde)throw new _0x1d1fb5(_0x433410['VectorDatabaseDoesNotExist'],_0x1558c6(0x645));return _0x19ccde;}[_0x52a325(0x1fc)](_0x1bd866){const _0xb69ec6=_0x52a325;switch(_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0x983)]){case _0x539ab3[_0xb69ec6(0x601)]:this[_0xb69ec6(0x8c6)](_0x1bd866[_0xb69ec6(0x38c)]);break;case _0x539ab3['UnpublishMediaStream']:this[_0xb69ec6(0x2e0)](_0x1bd866['content']);break;case _0x539ab3['CloseJobDispatcher']:this['removeJobDispatcher'](_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0x7cd)]);break;case _0x539ab3[_0xb69ec6(0x94d)]:this[_0xb69ec6(0x465)](_0x1bd866[_0xb69ec6(0x38c)]['label']);break;case _0x539ab3[_0xb69ec6(0x16d)]:this['removeGenerativeAIContext'](_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0x7cd)]);break;case _0x539ab3[_0xb69ec6(0x890)]:this[_0xb69ec6(0x5ca)](_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0x7cd)]);break;case _0x539ab3[_0xb69ec6(0x42f)]:this[_0xb69ec6(0x38b)](_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0x7cd)]);break;case _0x539ab3[_0xb69ec6(0x28b)]:this[_0xb69ec6(0x143)](_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0x7cd)]);break;case _0x539ab3[_0xb69ec6(0x80f)]:this['removeExternalStorageConnection'](_0x1bd866[_0xb69ec6(0x38c)]['label']);break;case _0x539ab3[_0xb69ec6(0x677)]:this['removeKeyValueDatabase'](_0x1bd866['content'][_0xb69ec6(0x7cd)]);break;case _0x539ab3['CloseVectorDatabase']:this[_0xb69ec6(0x748)](_0x1bd866['content']['label']);break;case _0x539ab3['CloseGraphDatabase']:this[_0xb69ec6(0x77d)](_0x1bd866['content'][_0xb69ec6(0x7cd)]);break;case _0x539ab3['UnsubscribeMediaStream']:this[_0xb69ec6(0x4ae)](_0x1bd866[_0xb69ec6(0x38c)]);break;case _0x539ab3['KeyValueDatabaseSyncRequired']:this['keyValueDatabases'][_0xb69ec6(0x627)](_0x1bd866[_0xb69ec6(0x38c)]['label'])?.[_0xb69ec6(0x25a)](_0x1bd866['sourceId'],_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0x3ee)]);break;case _0x539ab3[_0xb69ec6(0x78c)]:this[_0xb69ec6(0x800)]['get'](_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0x7cd)])?.['processContentSynchronized'](_0x1bd866['sourceId'],_0x1bd866['content']['mmrRoot']);break;case _0x539ab3[_0xb69ec6(0xa90)]:this[_0xb69ec6(0x800)][_0xb69ec6(0x627)](_0x1bd866[_0xb69ec6(0x38c)]['label'])?.[_0xb69ec6(0x995)](_0x1bd866[_0xb69ec6(0x2c0)],_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0xa28)]);break;case _0x539ab3[_0xb69ec6(0x4f8)]:this[_0xb69ec6(0x800)][_0xb69ec6(0x627)](_0x1bd866[_0xb69ec6(0x38c)]['label'])?.[_0xb69ec6(0x474)](_0x1bd866[_0xb69ec6(0x2c0)],_0x1bd866['content'][_0xb69ec6(0x4e4)]);break;case _0x539ab3[_0xb69ec6(0x4ec)]:this['keyValueDatabases'][_0xb69ec6(0x627)](_0x1bd866['content'][_0xb69ec6(0x7cd)])?.['sendTransactionsValue'](_0x1bd866[_0xb69ec6(0x2c0)],_0x1bd866['content'][_0xb69ec6(0x672)]);break;case _0x539ab3[_0xb69ec6(0x680)]:this['keyValueDatabases'][_0xb69ec6(0x627)](_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0x7cd)])?.[_0xb69ec6(0xa2b)](_0x1bd866[_0xb69ec6(0x2c0)],_0x1bd866[_0xb69ec6(0x38c)]['transactions']);break;case _0x539ab3[_0xb69ec6(0x1fb)]:this[_0xb69ec6(0x3f7)][_0xb69ec6(0x698)][_0xb69ec6(0x81d)](_0xb69ec6(0x4b5),{'label':_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0x7cd)],'trackKinds':_0x1bd866[_0xb69ec6(0x38c)][_0xb69ec6(0xa17)]});}}[_0x52a325(0xc0)]({content:_0x513db5}){const _0x33439e=_0x52a325;switch(_0x513db5['type']){case _0x747940[_0x33439e(0x296)]:this[_0x33439e(0x9fd)](_0x513db5),this[_0x33439e(0xa3a)](_0x513db5);break;case _0x747940[_0x33439e(0x7c8)]:this['handleNodeLeave'](_0x513db5),this[_0x33439e(0x25b)](_0x513db5);}}[_0x52a325(0x420)](_0x160032){const _0x27afce=_0x52a325;switch(_0x160032[_0x27afce(0x38c)][_0x27afce(0x983)]){case _0x54bcbf[_0x27afce(0x422)]:this['handleSubscribeMediaStream'](_0x160032[_0x27afce(0x2c0)],_0x160032[_0x27afce(0x38c)]);break;case _0x54bcbf[_0x27afce(0x7f2)]:this[_0x27afce(0x8b9)](_0x160032[_0x27afce(0x2c0)],_0x160032[_0x27afce(0x38c)]);break;case _0x54bcbf[_0x27afce(0x19b)]:this['handleUnsubscribeMediaStream'](_0x160032[_0x27afce(0x2c0)],_0x160032['content']);}}['handleContentUnsubscribeMediaStream'](_0x153db8){const _0x22544c=_0x52a325;if(0x0===_0x153db8[_0x22544c(0x173)])this[_0x22544c(0x85d)][_0x22544c(0x627)](_0x153db8[_0x22544c(0x3fa)])?.['get'](_0x153db8[_0x22544c(0x7cd)])?.[_0x22544c(0x3d9)]();else{const _0x517aba=this[_0x22544c(0x85d)][_0x22544c(0x627)](_0x153db8[_0x22544c(0x3fa)])?.[_0x22544c(0x627)](_0x153db8[_0x22544c(0x7cd)]);if(!_0x517aba)return;_0x153db8[_0x22544c(0xa17)][_0x22544c(0x854)](_0x2541cd=>_0x517aba[_0x22544c(0xa7a)](_0x2541cd));}}['handlePublishMediaStream'](_0x29548c){const _0x24857f=_0x52a325,{label:_0x490c47,ownerId:_0x13fec8,stream:{streamId:_0x1add18,availableTrackKinds:_0x286888}}=_0x29548c;if(this[_0x24857f(0x85d)][_0x24857f(0x627)](_0x13fec8)?.[_0x24857f(0xed)](_0x490c47))return void _0x2d5d47[_0x24857f(0x109)](_0x422206[_0x24857f(0xa32)],_0x24857f(0xab8),_0x1add18);const _0x4ba940=this['createRemoteMediaStream'](_0x13fec8,_0x490c47,_0x1add18,_0x286888);this['configs'][_0x24857f(0x698)][_0x24857f(0x81d)](_0x24857f(0x396),{'ownerId':_0x13fec8,'stream':_0x4ba940});}[_0x52a325(0x2e0)]({ownerId:_0x470719,label:_0x5cba23}){const _0x15f0f2=_0x52a325;this[_0x15f0f2(0x3f6)](_0x470719,_0x5cba23),this[_0x15f0f2(0x3f7)][_0x15f0f2(0x698)]['notifyCluster'](_0x15f0f2(0xd1),{'ownerId':_0x470719,'label':_0x5cba23});}[_0x52a325(0x107)](_0x1e1177,_0xf67f61){const _0x2e8cd8=_0x52a325,{ownerId:_0x57e4aa,label:_0x1c68d7}=_0xf67f61;let _0x4dd410;_0x4dd410=_0x57e4aa!==this['configs'][_0x2e8cd8(0x8df)][_0x2e8cd8(0x8ef)]()?this[_0x2e8cd8(0x85d)][_0x2e8cd8(0x627)](_0x57e4aa)[_0x2e8cd8(0x627)](_0x1c68d7):this[_0x2e8cd8(0x736)][_0x2e8cd8(0x627)](_0x1c68d7),_0x4dd410[_0x2e8cd8(0x9df)](_0x1e1177,_0xf67f61[_0x2e8cd8(0x4a4)])[_0x2e8cd8(0xaa1)](_0xf67f61,_0x4dd410[_0x2e8cd8(0x3cc)]());}[_0x52a325(0x8b9)](_0x35016f,_0x3fc0e4){const _0x4db6d7=_0x52a325,{ownerId:_0x4a9209,label:_0x3cd749}=_0x3fc0e4;let _0x3783e6;_0x3783e6=_0x4a9209!==this[_0x4db6d7(0x3f7)][_0x4db6d7(0x8df)][_0x4db6d7(0x8ef)]()?this[_0x4db6d7(0x85d)]['get'](_0x4a9209)[_0x4db6d7(0x627)](_0x3cd749):this['localMediaStreams'][_0x4db6d7(0x627)](_0x3cd749),_0x3783e6['getShareableStream'](_0x35016f,_0x3fc0e4[_0x4db6d7(0x4a4)])['update'](_0x3fc0e4);}[_0x52a325(0x4d5)](_0x5b7a55,_0x214b4c){const _0x2d5f26=_0x52a325,{ownerId:_0x2469d2,label:_0x3303cc}=_0x214b4c;let _0x4cb5ca;_0x4cb5ca=_0x2469d2!==this[_0x2d5f26(0x3f7)][_0x2d5f26(0x8df)][_0x2d5f26(0x8ef)]()?this[_0x2d5f26(0x85d)][_0x2d5f26(0x627)](_0x2469d2)['get'](_0x3303cc):this[_0x2d5f26(0x736)][_0x2d5f26(0x627)](_0x3303cc),_0x4cb5ca[_0x2d5f26(0x9df)](_0x5b7a55)[_0x2d5f26(0xa50)](_0x214b4c);}['handleNodeJoinNeedPublishedStream']({id:_0x3fb3f4}){const _0x2b935a=_0x52a325;this[_0x2b935a(0x8f4)]()[_0x2b935a(0x854)](_0x2f118b=>{_0x2f118b['publish'](_0x3fb3f4);});}[_0x52a325(0x428)]({id:_0x514b69}){const _0x5098b5=_0x52a325;this[_0x5098b5(0x6a3)](_0x2ca1dc=>_0x2ca1dc['getOwnerId']()===_0x514b69)['forEach'](_0x36c57c=>{const _0x58ff67=_0x5098b5;this[_0x58ff67(0x3f6)](_0x36c57c[_0x58ff67(0x9a9)](),_0x36c57c[_0x58ff67(0x8f6)]());});}[_0x52a325(0xa3a)]({id:_0x453295}){const _0x17f419=_0x52a325;this[_0x17f419(0xa46)]['forEach'](_0x169bfd=>_0x169bfd['handleNodeJoin'](_0x453295));}['notifyObjectStoreOfNodeLeave']({id:_0x27ad16}){const _0x48f51e=_0x52a325;this[_0x48f51e(0xa46)][_0x48f51e(0x854)](_0x58b174=>_0x58b174['handleNodeLeave'](_0x27ad16));}['removeJobDispatcher'](_0x393b7a){const _0x3531b7=_0x52a325;if(!this[_0x3531b7(0x3c5)][_0x3531b7(0xed)](_0x393b7a))throw new _0x1d1fb5(_0x433410[_0x3531b7(0xac)],_0x3531b7(0x572));const _0x10aa42=this['jobDispatchers'][_0x3531b7(0x627)](_0x393b7a);this[_0x3531b7(0x3c5)][_0x3531b7(0x4f4)](_0x393b7a),_0x10aa42[_0x3531b7(0x3d9)](),this[_0x3531b7(0x3f7)]['mediator']['unregisterSystemSource'](_0x10aa42);}[_0x52a325(0x465)](_0x5bae9e){const _0x4390a9=_0x52a325;if(!this['jobWorkers'][_0x4390a9(0xed)](_0x5bae9e))throw new _0x1d1fb5(_0x433410[_0x4390a9(0x360)],_0x4390a9(0x411));const _0x6fd09d=this[_0x4390a9(0x72d)]['get'](_0x5bae9e);this[_0x4390a9(0x72d)][_0x4390a9(0x4f4)](_0x5bae9e),_0x6fd09d[_0x4390a9(0x3d9)](),this['configs']['mediator']['unregisterSystemSource'](_0x6fd09d);}[_0x52a325(0x4a6)](_0x9e37ba){const _0x3b343b=_0x52a325;if(!this[_0x3b343b(0x691)]['has'](_0x9e37ba))throw new _0x1d1fb5(_0x433410['GenerativeAIContextDoesNotExist'],_0x3b343b(0x2e2));const _0x3c5936=this[_0x3b343b(0x691)]['get'](_0x9e37ba);this[_0x3b343b(0x691)][_0x3b343b(0x4f4)](_0x9e37ba),this[_0x3b343b(0x3f7)][_0x3b343b(0x698)][_0x3b343b(0x540)](_0x3c5936);}['removeObjectStore'](_0x58760f){const _0x4f8591=_0x52a325;if(!this[_0x4f8591(0xa46)][_0x4f8591(0xed)](_0x58760f))throw new _0x1d1fb5(_0x433410[_0x4f8591(0x1b2)],_0x4f8591(0x714));const _0x366a7e=this[_0x4f8591(0xa46)]['get'](_0x58760f);this[_0x4f8591(0xa46)][_0x4f8591(0x4f4)](_0x58760f),_0x366a7e[_0x4f8591(0x3d9)](),this[_0x4f8591(0x3f7)][_0x4f8591(0x698)][_0x4f8591(0x540)](_0x366a7e);}[_0x52a325(0x9bf)](_0x2c355a){const _0x3bd423=_0x52a325;if(!this['externalStorageConnections'][_0x3bd423(0xed)](_0x2c355a))throw new _0x1d1fb5(_0x433410[_0x3bd423(0x9ea)],_0x3bd423(0x78e));const _0x23f525=this['externalStorageConnections'][_0x3bd423(0x627)](_0x2c355a);this[_0x3bd423(0x2d1)][_0x3bd423(0x4f4)](_0x2c355a),_0x23f525[_0x3bd423(0x3d9)](),this[_0x3bd423(0x3f7)]['mediator'][_0x3bd423(0x540)](_0x23f525);}[_0x52a325(0x38b)](_0x593558){const _0x2d7333=_0x52a325;if(!this[_0x2d7333(0x41f)][_0x2d7333(0xed)](_0x593558))throw new _0x1d1fb5(_0x433410[_0x2d7333(0x19d)],_0x2d7333(0x714));const _0x5512fd=this[_0x2d7333(0x41f)]['get'](_0x593558);this[_0x2d7333(0x41f)][_0x2d7333(0x4f4)](_0x593558),_0x5512fd[_0x2d7333(0x3d9)](),this['configs'][_0x2d7333(0x698)][_0x2d7333(0x540)](_0x5512fd);}[_0x52a325(0x777)](_0x516d48){const _0x507a31=_0x52a325;if(!this[_0x507a31(0x800)][_0x507a31(0xed)](_0x516d48))throw new _0x1d1fb5(_0x433410['KeyValueDatabaseDoesNotExist'],'Database\x20does\x20not\x20exist');const _0x3c1e4b=this[_0x507a31(0x800)][_0x507a31(0x627)](_0x516d48);this['keyValueDatabases'][_0x507a31(0x4f4)](_0x516d48),_0x3c1e4b['destroy'](),this[_0x507a31(0x3f7)][_0x507a31(0x698)][_0x507a31(0x540)](_0x3c1e4b);}[_0x52a325(0x748)](_0x19f99f){const _0x70e47a=_0x52a325;if(!this['vectorDatabases'][_0x70e47a(0xed)](_0x19f99f))throw new _0x1d1fb5(_0x433410[_0x70e47a(0x3bc)],_0x70e47a(0x6c7));const _0x5edeeb=this[_0x70e47a(0x238)][_0x70e47a(0x627)](_0x19f99f);this[_0x70e47a(0x238)]['delete'](_0x19f99f),_0x5edeeb[_0x70e47a(0x3d9)](),this[_0x70e47a(0x3f7)][_0x70e47a(0x698)][_0x70e47a(0x540)](_0x5edeeb);}[_0x52a325(0x77d)](_0x16d551){const _0x196ed3=_0x52a325;if(!this[_0x196ed3(0x460)][_0x196ed3(0xed)](_0x16d551))throw new _0x1d1fb5(_0x433410[_0x196ed3(0x2ee)],_0x196ed3(0x6c7));const _0x384fa9=this[_0x196ed3(0x460)][_0x196ed3(0x627)](_0x16d551);this[_0x196ed3(0x460)][_0x196ed3(0x4f4)](_0x16d551),_0x384fa9[_0x196ed3(0x3d9)](),this[_0x196ed3(0x3f7)][_0x196ed3(0x698)][_0x196ed3(0x540)](_0x384fa9);}[_0x52a325(0x5ca)](_0x24d1c4){const _0x659be=_0x52a325;if(!this[_0x659be(0x736)][_0x659be(0xed)](_0x24d1c4))throw new _0x162f0d(_0x162f0d[_0x659be(0x2a6)][_0x659be(0x574)],{'label':_0x24d1c4,'localId':this[_0x659be(0x3f7)][_0x659be(0x8df)][_0x659be(0x8ef)]()});const _0x5bcf06=this[_0x659be(0x736)][_0x659be(0x627)](_0x24d1c4);this['configs']['mediator']['unregisterSystemSource'](_0x5bcf06),_0x5bcf06[_0x659be(0x3d9)](),this[_0x659be(0x736)][_0x659be(0x4f4)](_0x24d1c4);}['removeRemoteMediaStream'](_0x333dab,_0x20ea12){const _0x44e41b=_0x52a325;if(!this['remoteMediaStreams'][_0x44e41b(0xed)](_0x333dab))throw new _0x162f0d(_0x162f0d[_0x44e41b(0x2a6)]['NodeDoesNotExist'],{'nodeId':_0x333dab,'localId':this[_0x44e41b(0x3f7)][_0x44e41b(0x8df)][_0x44e41b(0x8ef)]()});const _0x44a074=this[_0x44e41b(0x85d)][_0x44e41b(0x627)](_0x333dab);if(!_0x44a074['has'](_0x20ea12))throw new _0x162f0d(_0x162f0d[_0x44e41b(0x2a6)][_0x44e41b(0x66f)],{'nodeId':_0x333dab,'label':_0x20ea12,'localId':this[_0x44e41b(0x3f7)][_0x44e41b(0x8df)][_0x44e41b(0x8ef)]()});const _0x55220f=_0x44a074[_0x44e41b(0x627)](_0x20ea12);this[_0x44e41b(0x3f7)]['mediator'][_0x44e41b(0x540)](_0x55220f),_0x55220f[_0x44e41b(0x3d9)](),_0x44a074['delete'](_0x20ea12);}}var _0x4d5575,_0xe05501,_0x812e05;!function(_0x1f44cf){const _0x5ed1be=_0x52a325;_0x1f44cf[_0x5ed1be(0x70a)]=_0x5ed1be(0x1bf),_0x1f44cf[_0x5ed1be(0x1df)]=_0x5ed1be(0x9a6),_0x1f44cf[_0x5ed1be(0x48e)]=_0x5ed1be(0x7eb),_0x1f44cf[_0x5ed1be(0x2c1)]=_0x5ed1be(0x348),_0x1f44cf[_0x5ed1be(0xa06)]='jitter',_0x1f44cf[_0x5ed1be(0x58a)]=_0x5ed1be(0x649),_0x1f44cf[_0x5ed1be(0x96f)]=_0x5ed1be(0x2a7),_0x1f44cf[_0x5ed1be(0x4ff)]=_0x5ed1be(0xc6);}(_0x4d5575||(_0x4d5575={})),function(_0x7e9fcd){const _0x36d19d=_0x52a325;_0x7e9fcd[_0x36d19d(0x5c3)]=_0x36d19d(0x7a0),_0x7e9fcd['TimePerFrame']=_0x36d19d(0x5a4),_0x7e9fcd['AudioVideoDelay']='cpu.av_delay',_0x7e9fcd['FramePerSecond']='cpu.fps',_0x7e9fcd[_0x36d19d(0x2c1)]=_0x36d19d(0x118),_0x7e9fcd[_0x36d19d(0xa06)]=_0x36d19d(0x21c),_0x7e9fcd['RoundTripTime']=_0x36d19d(0x8dc);}(_0xe05501||(_0xe05501={})),function(_0x4ce7ca){const _0x2e3cd9=_0x52a325;_0x4ce7ca[_0x4ce7ca['Problem']=0x0]=_0x2e3cd9(0xd8);}(_0x812e05||(_0x812e05={}));const _0x1a4c53=[{'type':_0x4d5575[_0x52a325(0x70a)],'reportMetric':_0x5f4cc2=>_0x5f4cc2[_0x52a325(0x70a)],'maxThreshold':2.5},{'type':_0x4d5575[_0x52a325(0x1df)],'reportMetric':_0x116892=>_0x116892[_0x52a325(0x1df)],'maxThreshold':0.5}],_0x15e3d7=[{'type':_0x4d5575[_0x52a325(0x48e)],'reportMetric':_0x373e73=>{const _0x9cb4e7=_0x52a325,_0x5dc095=0x3e8/_0x373e73['FPS'];return _0x373e73[_0x9cb4e7(0x32c)]/_0x5dc095;},'maxThreshold':0.75},{'type':_0x4d5575[_0x52a325(0x2c1)],'reportMetric':_0x42750f=>{const _0x18b63c=_0x42750f['FPS']*_0x42750f['frameWidth']*_0x42750f['frameHeight']*0.12;return _0x42750f['bitrate']/_0x18b63c;},'minThreshold':0.25},{'type':_0x4d5575[_0x52a325(0xa06)],'reportMetric':_0x400b93=>_0x400b93['jitter'],'maxThreshold':0.6},{'type':_0x4d5575['FramePerSecond'],'reportMetric':_0x263169=>_0x263169[_0x52a325(0x55f)],'minThreshold':0xa}],_0x1d770c=[{'type':_0x4d5575[_0x52a325(0xa06)],'reportMetric':_0xc41afc=>_0xc41afc[_0x52a325(0xaa4)],'maxThreshold':0.6}],_0x1fef34=[{'type':_0x4d5575['RoundTripTime'],'reportMetric':_0xd13580=>_0xd13580['roundTripTime'],'maxThreshold':0x1/0x0}],_0x4400dc=[{'type':_0x4d5575[_0x52a325(0x4ff)],'reportMetric':_0x2fd9cc=>_0x2fd9cc[_0x52a325(0x4ff)],'maxThreshold':0x12c}],_0x4a445e=[{'type':_0xe05501[_0x52a325(0x5c3)],'issues':[{'type':_0x4d5575['STVolatility'],'threshold':0x5},{'type':_0x4d5575[_0x52a325(0x1df)],'threshold':0x5}]},{'type':_0xe05501[_0x52a325(0x48e)],'issues':[{'type':_0x4d5575[_0x52a325(0x48e)],'threshold':0x3}]},{'type':_0xe05501[_0x52a325(0x4ff)],'issues':[{'type':_0x4d5575['AudioVideoDelay'],'threshold':0x2}]},{'type':_0xe05501[_0x52a325(0x58a)],'issues':[{'type':_0x4d5575[_0x52a325(0x58a)],'threshold':0x3}]},{'type':_0xe05501[_0x52a325(0x2c1)],'issues':[{'type':_0x4d5575[_0x52a325(0x2c1)],'threshold':0x3}]},{'type':_0xe05501['Jitter'],'issues':[{'type':_0x4d5575[_0x52a325(0xa06)],'threshold':0x3}]},{'type':_0xe05501[_0x52a325(0x96f)],'issues':[{'type':_0x4d5575['RoundTripTime'],'threshold':0x3}]}];var _0x339ef9,_0x100d29;!function(_0x31d187){const _0x19756a=_0x52a325;_0x31d187[_0x31d187[_0x19756a(0x378)]=0x0]=_0x19756a(0x378),_0x31d187[_0x31d187[_0x19756a(0x512)]=0x1]=_0x19756a(0x512);}(_0x339ef9||(_0x339ef9={}));class _0x5915bd{[_0x52a325(0x3f7)];[_0x52a325(0xe4)]=[];['systemTopic'];constructor(_0x2f4141){const _0x4bc17d=_0x52a325;this['configs']=_0x2f4141,this[_0x4bc17d(0x3f7)][_0x4bc17d(0x698)]['registerSystemSource'](this);}[_0x52a325(0x75b)](_0x20702a){this['systemTopic']=_0x20702a;}['unregisterSystemPublisher'](){const _0x223fc3=_0x52a325;this[_0x223fc3(0xbb)]=void 0x0;}[_0x52a325(0x93c)](){const _0x3945bd=_0x52a325;this[_0x3945bd(0x3f7)][_0x3945bd(0x698)][_0x3945bd(0x540)](this),this['issues']=[];}[_0x52a325(0x37a)](_0x597a72){const _0x36d72e=_0x52a325;switch(_0x597a72[_0x36d72e(0x38c)]['type']){case _0x339ef9['LocalReport']:this[_0x36d72e(0x58d)](_0x597a72[_0x36d72e(0x38c)][_0x36d72e(0x6f2)]);break;case _0x339ef9[_0x36d72e(0x378)]:this[_0x36d72e(0x161)](_0x597a72['content']['data']);}}[_0x52a325(0x894)](_0x77829e,_0x39d80c,_0x151a95,_0x19be57){const _0x12f654=_0x52a325,_0x5abeb6=_0x4a445e[_0x12f654(0x7cc)](_0x1becbc=>_0x1becbc[_0x12f654(0xe4)][_0x12f654(0x729)](_0x2b01ea=>_0x2b01ea[_0x12f654(0x983)]===_0x77829e));_0x19be57>=_0x5abeb6['issues'][_0x12f654(0x7cc)](_0x2fc76a=>_0x2fc76a[_0x12f654(0x983)]===_0x77829e)['threshold']&&(this[_0x12f654(0x33f)](_0x5abeb6[_0x12f654(0x983)],_0x39d80c,_0x151a95),this[_0x12f654(0xe4)]=this[_0x12f654(0xe4)][_0x12f654(0x6f8)](_0x42ea1e=>!(_0x42ea1e['type']===_0x77829e&&_0x42ea1e[_0x12f654(0x580)]===_0x39d80c&&_0x42ea1e[_0x12f654(0x4c1)]===_0x151a95)));}[_0x52a325(0x58d)](_0x4d22e9){const _0x1bf12a=_0x52a325;_0x1a4c53[_0x1bf12a(0x854)](_0x3c4426=>{const _0x16fc3f=_0x1bf12a,_0x35aa37=_0x3c4426[_0x16fc3f(0x21f)](_0x4d22e9);_0x3c4426[_0x16fc3f(0x85c)]&&_0x35aa37>_0x3c4426[_0x16fc3f(0x85c)]&&this[_0x16fc3f(0x5c0)](_0x3c4426['type'],this[_0x16fc3f(0x3f7)][_0x16fc3f(0x8df)][_0x16fc3f(0x8ef)](),_0x1347d1[_0x16fc3f(0x87f)],_0x35aa37),_0x3c4426['minThreshold']&&_0x35aa37<_0x3c4426[_0x16fc3f(0xaa7)]&&this[_0x16fc3f(0x5c0)](_0x3c4426[_0x16fc3f(0x983)],this[_0x16fc3f(0x3f7)]['localNode'][_0x16fc3f(0x8ef)](),_0x1347d1[_0x16fc3f(0x87f)],_0x35aa37);});}[_0x52a325(0x161)](_0x543cde){const _0x1f3400=_0x52a325;let _0x16b575=[];switch(_0x543cde[_0x1f3400(0x4c1)]){case _0x1347d1[_0x1f3400(0x87f)]:_0x16b575=_0x1fef34;break;case _0x1347d1['Receiver']:_0x16b575=_0x4400dc;}_0x543cde['video']&&this[_0x1f3400(0x3b3)](_0x543cde[_0x1f3400(0x580)],_0x1347d1[_0x1f3400(0x87f)],_0x543cde['video']),_0x543cde['audio']&&this[_0x1f3400(0x5d0)](_0x543cde['nodeId'],_0x1347d1[_0x1f3400(0x87f)],_0x543cde['audio']),_0x16b575['forEach'](_0x5c96ed=>{const _0x820ff6=_0x1f3400,_0x1e742e=_0x5c96ed[_0x820ff6(0x21f)](_0x543cde);_0x5c96ed['maxThreshold']&&_0x1e742e>_0x5c96ed[_0x820ff6(0x85c)]&&this[_0x820ff6(0x5c0)](_0x5c96ed[_0x820ff6(0x983)],_0x543cde[_0x820ff6(0x580)],_0x1347d1['Sender'],_0x1e742e),_0x5c96ed['minThreshold']&&_0x1e742e<_0x5c96ed[_0x820ff6(0xaa7)]&&this[_0x820ff6(0x5c0)](_0x5c96ed[_0x820ff6(0x983)],_0x543cde['nodeId'],_0x1347d1['Sender'],_0x1e742e);});}[_0x52a325(0x3b3)](_0x234a73,_0x4f3de9,_0x47a84c){0x0!==_0x47a84c['bitrate']&&_0x15e3d7['forEach'](_0x1525d0=>{const _0x49e013=a0_0x15bf,_0x232b61=_0x1525d0['reportMetric'](_0x47a84c);_0x1525d0[_0x49e013(0x85c)]&&_0x232b61>_0x1525d0['maxThreshold']&&this['addIssue'](_0x1525d0[_0x49e013(0x983)],_0x234a73,_0x4f3de9,_0x232b61,_0x49e013(0x9e4)),_0x1525d0['minThreshold']&&_0x232b61<_0x1525d0[_0x49e013(0xaa7)]&&this[_0x49e013(0x5c0)](_0x1525d0[_0x49e013(0x983)],_0x234a73,_0x4f3de9,_0x232b61,_0x49e013(0x9e4));});}[_0x52a325(0x5d0)](_0x2a8c3f,_0x435be0,_0x11a4cd){const _0x17f4db=_0x52a325;0x0!==_0x11a4cd[_0x17f4db(0x348)]&&_0x1d770c[_0x17f4db(0x854)](_0x1a0069=>{const _0x27c405=_0x17f4db,_0x5c9838=_0x1a0069[_0x27c405(0x21f)](_0x11a4cd);_0x1a0069[_0x27c405(0x85c)]&&_0x5c9838>_0x1a0069['maxThreshold']&&this['addIssue'](_0x1a0069[_0x27c405(0x983)],_0x2a8c3f,_0x435be0,_0x5c9838,_0x27c405(0x4c2)),_0x1a0069['minThreshold']&&_0x5c9838<_0x1a0069[_0x27c405(0xaa7)]&&this[_0x27c405(0x5c0)](_0x1a0069[_0x27c405(0x983)],_0x2a8c3f,_0x435be0,_0x5c9838,'audio');});}['addIssue'](_0x2816bc,_0x4d7d3c,_0x592c7e,_0x4f5fd7,_0x1c6661){const _0x27f772=_0x52a325;_0x2d5d47[_0x27f772(0x109)](_0x422206['Detection'],_0x27f772(0x721)+_0x2816bc,_0x2816bc,_0x4f5fd7),_0x2d5d47['logEvent'](_0x27f772(0x8e5),{'clusterId':this[_0x27f772(0x3f7)][_0x27f772(0x285)],'nodeId':this[_0x27f772(0x3f7)][_0x27f772(0x8df)][_0x27f772(0x8ef)](),'nodeType':this[_0x27f772(0x3f7)]['localNode'][_0x27f772(0x983)],'remoteId':_0x4d7d3c,'data':{'type':_0x2816bc,'value':_0x4f5fd7,'kind':_0x1c6661}}),this[_0x27f772(0xe4)]=this[_0x27f772(0xe4)][_0x27f772(0x6f8)](_0x33fd2d=>Date[_0x27f772(0x88b)]()-_0x33fd2d[_0x27f772(0x349)]<0x7530),this[_0x27f772(0xe4)]['push']({'timestamp':Date[_0x27f772(0x88b)](),'type':_0x2816bc,'nodeId':_0x4d7d3c,'origin':_0x592c7e,'value':_0x4f5fd7,'kind':_0x1c6661});const _0x2595c7=this[_0x27f772(0xe4)][_0x27f772(0x6f8)](_0x55315e=>_0x55315e[_0x27f772(0x983)]===_0x2816bc&&_0x55315e[_0x27f772(0x580)]===_0x4d7d3c&&_0x55315e[_0x27f772(0x4c1)]===_0x592c7e)[_0x27f772(0x761)];this[_0x27f772(0x894)](_0x2816bc,_0x4d7d3c,_0x592c7e,_0x2595c7);}['addProblem'](_0x3487ac,_0x1b3886,_0x29e580){const _0x3d7d42=_0x52a325;_0x2d5d47[_0x3d7d42(0x109)](_0x422206['Detection'],_0x3d7d42(0x391)+_0x3487ac),_0x2d5d47[_0x3d7d42(0x1ed)](_0x3d7d42(0x98b),{'clusterId':this[_0x3d7d42(0x3f7)]['clusterId'],'nodeId':this['configs'][_0x3d7d42(0x8df)]['getId'](),'nodeType':this['configs'][_0x3d7d42(0x8df)][_0x3d7d42(0x983)],'remoteId':_0x1b3886,'data':{'type':_0x3487ac}}),this['systemTopic']?.[_0x3d7d42(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x3d7d42(0x332)],'content':{'type':_0x812e05[_0x3d7d42(0xd8)],'data':{'timestamp':Date[_0x3d7d42(0x88b)](),'nodeId':_0x1b3886,'origin':_0x1347d1[_0x3d7d42(0x87f)],'type':_0x3487ac}}});}}class _0x150867 extends _0x5bdc72{[_0x52a325(0x983)]=_0x5bfdb7['NodeType'][_0x52a325(0x1f4)];}class _0x1fff17 extends _0x150867{[_0x52a325(0xbb)];['currentVersion']=Date[_0x52a325(0x88b)]();['updateDebounceTimeout'];['lastUpdated'];['close'](){const _0x1c3ff3=_0x52a325;this[_0x1c3ff3(0x709)]&&(clearTimeout(this[_0x1c3ff3(0x709)]),delete this[_0x1c3ff3(0x709)]),delete this[_0x1c3ff3(0x1e2)],this['currentVersion']=Date[_0x1c3ff3(0x88b)](),super[_0x1c3ff3(0x93c)]();}[_0x52a325(0x75b)](_0x339242){this['systemTopic']=_0x339242;}['unregisterSystemPublisher'](){const _0x228563=_0x52a325;delete this[_0x228563(0xbb)];}[_0x52a325(0x2bf)](_0x3a76a6){const _0x30e52e=_0x52a325;!this['updateDebounceTimeout']&&this[_0x30e52e(0x89e)]&&this[_0x30e52e(0xbb)][_0x30e52e(0x7da)]({'sourceId':this['id'],'destinationIds':[_0x3a76a6],'propagate':!0x0,'messageType':_0x5ebcbf[_0x30e52e(0x695)],'content':{'type':_0x747940[_0x30e52e(0x2d8)],'id':this['id'],'metaData':{'type':this[_0x30e52e(0x983)]},'rank':this[_0x30e52e(0x33e)](),'remoteConnections':Array[_0x30e52e(0xa3e)](this[_0x30e52e(0x51e)]),'version':this[_0x30e52e(0x23b)]}});}['addRemoteConnection'](_0x1c202b){const _0x2238db=_0x52a325;this['remoteConnections'][_0x2238db(0xed)](_0x1c202b)||(this[_0x2238db(0x51e)]['add'](_0x1c202b),this[_0x2238db(0x127)](),this[_0x2238db(0x7f3)](!0x0));}['removeRemoteConnection'](_0xbcfa5e){const _0x2749b5=_0x52a325;this[_0x2749b5(0x51e)][_0x2749b5(0xed)](_0xbcfa5e)&&(this['remoteConnections']['delete'](_0xbcfa5e),this[_0x2749b5(0x127)](),this[_0x2749b5(0x7f3)](!0x0));}[_0x52a325(0x227)](){const _0x1a6f67=_0x52a325;return this[_0x1a6f67(0x23b)];}[_0x52a325(0x1f8)](_0x177abb,_0x153c56=!0x0){const _0x30b1fd=_0x52a325;this[_0x30b1fd(0x89e)]!==_0x177abb&&(this[_0x30b1fd(0x89e)]=_0x177abb,_0x153c56&&(this[_0x30b1fd(0x127)](),this[_0x30b1fd(0x7f3)]()));}[_0x52a325(0x127)](){const _0x1bc3b1=_0x52a325;this[_0x1bc3b1(0x23b)]=Date[_0x1bc3b1(0x88b)]();}[_0x52a325(0x7f3)](_0x425dfa=!0x1){const _0x1e13de=_0x52a325;if(this[_0x1e13de(0x89e)]){if(this['lastUpdated']||(this['lastUpdated']=Date[_0x1e13de(0x88b)]()),this['updateDebounceTimeout']){if(Date[_0x1e13de(0x88b)]()-this[_0x1e13de(0x1e2)]>0x2328)return;clearTimeout(this[_0x1e13de(0x709)]);}this[_0x1e13de(0x709)]=setTimeout(()=>{const _0x3b0f6a=_0x1e13de;delete this[_0x3b0f6a(0x1e2)],delete this[_0x3b0f6a(0x709)],this[_0x3b0f6a(0xbb)][_0x3b0f6a(0x7da)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x5ebcbf[_0x3b0f6a(0x695)],'content':{'type':_0x425dfa?_0x747940[_0x3b0f6a(0x775)]:_0x747940[_0x3b0f6a(0x2d8)],'id':this['id'],'metaData':{'type':this[_0x3b0f6a(0x983)]},'rank':this['getRank'](),'remoteConnections':Array[_0x3b0f6a(0xa3e)](this[_0x3b0f6a(0x51e)]),'version':this[_0x3b0f6a(0x23b)]}});},0x3e8);}}}class _0x1fe200 extends _0x4e85dc{[_0x52a325(0xbb)];[_0x52a325(0x23b)]=Date[_0x52a325(0x88b)]();[_0x52a325(0x709)];[_0x52a325(0x1e2)];[_0x52a325(0x93c)](){const _0x494537=_0x52a325;this[_0x494537(0x709)]&&(clearTimeout(this[_0x494537(0x709)]),delete this[_0x494537(0x709)]),delete this[_0x494537(0x1e2)],this[_0x494537(0x23b)]=Date[_0x494537(0x88b)](),super[_0x494537(0x93c)]();}[_0x52a325(0x75b)](_0x1da844){this['systemTopic']=_0x1da844;}[_0x52a325(0x772)](){const _0x55fa70=_0x52a325;delete this[_0x55fa70(0xbb)];}['answerJoin'](_0xc43856){const _0x2c7b48=_0x52a325;!this['updateDebounceTimeout']&&this[_0x2c7b48(0x89e)]&&this['systemTopic'][_0x2c7b48(0x7da)]({'sourceId':this['id'],'destinationIds':[_0xc43856],'propagate':!0x0,'messageType':_0x5ebcbf[_0x2c7b48(0x695)],'content':{'type':_0x747940[_0x2c7b48(0x2d8)],'id':this['id'],'metaData':{'type':this[_0x2c7b48(0x983)],'displayName':this[_0x2c7b48(0x89d)](),'email':this['getEmail']()},'rank':this[_0x2c7b48(0x33e)](),'remoteConnections':Array[_0x2c7b48(0xa3e)](this[_0x2c7b48(0x51e)]),'version':this['currentVersion']}});}[_0x52a325(0x491)](_0xc1645){const _0x1917e1=_0x52a325;this[_0x1917e1(0x51e)][_0x1917e1(0xed)](_0xc1645)||(this['remoteConnections'][_0x1917e1(0xa24)](_0xc1645),this[_0x1917e1(0x127)](),this[_0x1917e1(0x7f3)](!0x0));}[_0x52a325(0x4ce)](_0x312a7c){const _0x397f2c=_0x52a325;this[_0x397f2c(0x51e)][_0x397f2c(0xed)](_0x312a7c)&&(this[_0x397f2c(0x51e)][_0x397f2c(0x4f4)](_0x312a7c),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x52a325(0x227)](){return this['currentVersion'];}[_0x52a325(0x5db)](_0x3833e4){const _0x1e11a4=_0x52a325;this[_0x1e11a4(0x7d2)]!==_0x3833e4&&(this[_0x1e11a4(0x7d2)]=_0x3833e4,this[_0x1e11a4(0x127)](),this[_0x1e11a4(0x7f3)]());}[_0x52a325(0x8be)](_0x16bcef){const _0x4de6fc=_0x52a325;this['email']!==_0x16bcef&&(this[_0x4de6fc(0x86d)]=_0x16bcef,this['incrementVersion'](),this[_0x4de6fc(0x7f3)]());}['setRank'](_0x522252,_0x1e26d9=!0x0){const _0x222aac=_0x52a325;this[_0x222aac(0x89e)]!==_0x522252&&(this['rank']=_0x522252,_0x1e26d9&&(this['incrementVersion'](),this[_0x222aac(0x7f3)]()));}[_0x52a325(0x127)](){const _0x37ce3f=_0x52a325;this[_0x37ce3f(0x23b)]=Date['now']();}['publishUserUpdate'](_0xbde39a=!0x1){const _0x155ac8=_0x52a325;if(this[_0x155ac8(0x89e)]){if(this[_0x155ac8(0x1e2)]||(this['lastUpdated']=Date[_0x155ac8(0x88b)]()),this[_0x155ac8(0x709)]){if(Date['now']()-this[_0x155ac8(0x1e2)]>0x2328)return;clearTimeout(this[_0x155ac8(0x709)]);}this[_0x155ac8(0x709)]=setTimeout(()=>{const _0x5ef468=_0x155ac8;delete this[_0x5ef468(0x1e2)],delete this['updateDebounceTimeout'],this[_0x5ef468(0xbb)][_0x5ef468(0x7da)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x5ebcbf[_0x5ef468(0x695)],'content':{'type':_0xbde39a?_0x747940[_0x5ef468(0x775)]:_0x747940[_0x5ef468(0x2d8)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this['getDisplayName'](),'email':this[_0x5ef468(0x6c3)]()},'rank':this[_0x5ef468(0x33e)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0x5ef468(0x23b)]}});},0x3e8);}}}class _0x574ee0{['id'];['groupId'];[_0x52a325(0x793)];[_0x52a325(0x95a)];['type']=_0x5bfdb7[_0x52a325(0xa5e)]['Agent'];[_0x52a325(0x72f)];constructor(_0x43c144,_0x2b71cd,_0x146588,_0x2253aa){const _0x413b7=_0x52a325;this['id']=_0x43c144,this[_0x413b7(0xaa2)]=_0x2b71cd,this[_0x413b7(0x793)]=_0x146588,this[_0x413b7(0x95a)]=_0x2253aa;}['getId'](){return this['id'];}[_0x52a325(0x117)](_0x27e9d5){const _0x49f19f=_0x52a325,_0x5b5164=(0x0,_0x51a03b['onSnapshot'])((0x0,_0x51a03b['doc'])(_0x36dffc['getFirestore'](),_0x49f19f(0x153)+this['vendorId']+_0x49f19f(0x7e5)+this[_0x49f19f(0xaa2)]),_0x3f871f=>{const _0x5343c0=_0x49f19f;if(_0x3f871f[_0x5343c0(0x17f)]()){const _0x55dac2=_0x3f871f[_0x5343c0(0x6f2)]();if(this[_0x5343c0(0x95a)][_0x5343c0(0x349)][_0x5343c0(0xa4d)](_0x55dac2[_0x5343c0(0x349)]))return;_0x2d5d47['log'](_0x422206[_0x5343c0(0x695)],_0x5343c0(0x95d),{'agentId':this['id'],'groupId':this[_0x5343c0(0xaa2)],'oldConfig':this[_0x5343c0(0x95a)],'newConfig':_0x55dac2}),this[_0x5343c0(0x95a)]=_0x55dac2,_0x27e9d5();}});return()=>_0x5b5164();}[_0x52a325(0xba)](_0x988b96){const _0x233b89=_0x52a325;return this[_0x233b89(0x77e)](this[_0x233b89(0xaa2)],_0x988b96),_0x4e41bf[_0x233b89(0x750)](()=>this[_0x233b89(0x77e)](this[_0x233b89(0xaa2)],_0x988b96),0x7530);}['getCapacityReport'](){const _0x49cddc=_0x52a325;if(!this[_0x49cddc(0x72f)])throw new _0x162f0d(_0x162f0d['codes'][_0x49cddc(0x9a2)]);return this[_0x49cddc(0x72f)];}async[_0x52a325(0x77e)](_0x2c24c3,_0x80dfdf){const _0x12ee20=_0x52a325,_0x51872c=await _0x80dfdf();this[_0x12ee20(0x72f)]=_0x51872c,await(0x0,_0x51a03b['addDoc'])((0x0,_0x51a03b[_0x12ee20(0x449)])(_0x36dffc[_0x12ee20(0x757)](),_0x12ee20(0x153)+this[_0x12ee20(0x793)]+_0x12ee20(0xa26)),{'agentId':this['id'],'groupId':_0x2c24c3,'timestamp':(0x0,_0x51a03b[_0x12ee20(0x8c0)])(),'capacity':_0x51872c});}}!function(_0x58df79){const _0x50d354=_0x52a325;_0x58df79[_0x58df79[_0x50d354(0x2d5)]=0x0]=_0x50d354(0x2d5),_0x58df79[_0x58df79[_0x50d354(0x884)]=0x1]=_0x50d354(0x884);}(_0x100d29||(_0x100d29={}));class _0x3ef2e9 extends _0x150867{['currentVersion'];[_0x52a325(0x245)]=_0x100d29[_0x52a325(0x2d5)];[_0x52a325(0x1e2)]=Date[_0x52a325(0x88b)]();constructor(_0x2fedfb,_0x330fe9=new Set(),_0x3c6f41,_0x270f4e){const _0x167700=_0x52a325;super(_0x2fedfb,_0x330fe9,_0x270f4e),this[_0x167700(0x23b)]=_0x3c6f41;}[_0x52a325(0x227)](){const _0x348eec=_0x52a325;return this[_0x348eec(0x23b)];}['getStatus'](){const _0x91865d=_0x52a325;return this[_0x91865d(0x245)];}[_0x52a325(0xc5)](){const _0x241084=_0x52a325;return this[_0x241084(0x1e2)];}['setRank'](_0x49dc8b){const _0x2be9da=_0x52a325;this[_0x2be9da(0x89e)]!==_0x49dc8b&&(this[_0x2be9da(0x89e)]=_0x49dc8b,this[_0x2be9da(0x1f6)]());}[_0x52a325(0x9f6)](_0x405676){const _0x4729be=_0x52a325;let _0x3f4753=!0x1;for(const _0x201e64 of this[_0x4729be(0x51e)])_0x405676[_0x4729be(0x8cd)](_0x201e64)||(_0x3f4753=!0x0,this[_0x4729be(0x51e)]['delete'](_0x201e64));for(const _0x1116ae of _0x405676)this[_0x4729be(0x51e)]['has'](_0x1116ae)||(_0x3f4753=!0x0,this[_0x4729be(0x51e)][_0x4729be(0xa24)](_0x1116ae));_0x3f4753&&this[_0x4729be(0x1f6)]();}['setCurrentVersion'](_0x3a3bc4){const _0x4cc830=_0x52a325;this['currentVersion']!==_0x3a3bc4&&(this[_0x4cc830(0x23b)]=_0x3a3bc4,this[_0x4cc830(0x1f6)]());}['setStatus'](_0x4f2b5c){const _0x1bac1d=_0x52a325;this[_0x1bac1d(0x245)]!==_0x4f2b5c&&(this[_0x1bac1d(0x245)]=_0x4f2b5c,this[_0x1bac1d(0x1f6)](),_0x4f2b5c===_0x100d29[_0x1bac1d(0x884)]&&this[_0x1bac1d(0x93c)]());}[_0x52a325(0x1f6)](){const _0x454159=_0x52a325;this['lastUpdated']=Date[_0x454159(0x88b)]();}}class _0x1a85a3 extends _0x4e85dc{[_0x52a325(0x23b)];[_0x52a325(0x245)]=_0x100d29[_0x52a325(0x2d5)];[_0x52a325(0x1e2)]=Date[_0x52a325(0x88b)]();constructor(_0x1aa324,_0xf3b7f3,_0x1bf6ac,_0x3b6400=new Set(),_0x3d5353,_0x4f3e52){super(_0x1aa324,_0xf3b7f3,_0x1bf6ac,_0x3b6400,_0x4f3e52),this['currentVersion']=_0x3d5353;}[_0x52a325(0x227)](){const _0x2550ac=_0x52a325;return this[_0x2550ac(0x23b)];}[_0x52a325(0x952)](){const _0x509489=_0x52a325;return this[_0x509489(0x245)];}['getLastUpdated'](){const _0xf3d4d=_0x52a325;return this[_0xf3d4d(0x1e2)];}[_0x52a325(0x5db)](_0x4c52b1){const _0x54999c=_0x52a325;this[_0x54999c(0x7d2)]!==_0x4c52b1&&(this[_0x54999c(0x7d2)]=_0x4c52b1,this[_0x54999c(0x1f6)]());}[_0x52a325(0x8be)](_0x599e34){const _0x12f1e3=_0x52a325;this[_0x12f1e3(0x86d)]!==_0x599e34&&(this[_0x12f1e3(0x86d)]=_0x599e34,this[_0x12f1e3(0x1f6)]());}[_0x52a325(0x1f8)](_0x28e6d6){const _0xce2e69=_0x52a325;this[_0xce2e69(0x89e)]!==_0x28e6d6&&(this[_0xce2e69(0x89e)]=_0x28e6d6,this['updateLastUpdated']());}['setRemoteConnections'](_0x5d0d53){const _0x4a45ae=_0x52a325;let _0x56722d=!0x1;for(const _0x51f3fe of this[_0x4a45ae(0x51e)])_0x5d0d53['includes'](_0x51f3fe)||(_0x56722d=!0x0,this['remoteConnections']['delete'](_0x51f3fe));for(const _0xae8368 of _0x5d0d53)this[_0x4a45ae(0x51e)][_0x4a45ae(0xed)](_0xae8368)||(_0x56722d=!0x0,this[_0x4a45ae(0x51e)]['add'](_0xae8368));_0x56722d&&this[_0x4a45ae(0x1f6)]();}[_0x52a325(0x4ba)](_0x2fe331){const _0x54ad66=_0x52a325;this[_0x54ad66(0x23b)]!==_0x2fe331&&(this[_0x54ad66(0x23b)]=_0x2fe331,this[_0x54ad66(0x1f6)]());}[_0x52a325(0x419)](_0x4810a3){const _0x538278=_0x52a325;this[_0x538278(0x245)]!==_0x4810a3&&(this[_0x538278(0x245)]=_0x4810a3,this[_0x538278(0x1f6)](),_0x4810a3===_0x100d29[_0x538278(0x884)]&&this['close']());}[_0x52a325(0x1f6)](){const _0x53e7c9=_0x52a325;this[_0x53e7c9(0x1e2)]=Date['now']();}}class _0x5141a{[_0x52a325(0x793)];['clusterId'];[_0x52a325(0x8df)];[_0x52a325(0x5c1)];[_0x52a325(0x9f5)]=_0x2669b5();['firebaseUnsubscriber'];[_0x52a325(0x3dc)];['onDisconnectHandler'];[_0x52a325(0x380)]=!0x1;[_0x52a325(0x3c8)];['nodeKey'];constructor(_0x161c06,_0x42347d,_0x3821be,_0x286676){const _0x253b95=_0x52a325;this[_0x253b95(0x793)]=_0x161c06,this[_0x253b95(0x285)]=_0x42347d,this[_0x253b95(0x8df)]=_0x3821be,this['minConnections']=_0x286676,this[_0x253b95(0x3c8)]=_0x253b95(0x2be)+this[_0x253b95(0x793)]+_0x253b95(0x2be)+this[_0x253b95(0x285)],this[_0x253b95(0x11a)]=_0x253b95(0x2be)+this[_0x253b95(0x793)]+_0x253b95(0x2be)+this[_0x253b95(0x8df)][_0x253b95(0x8ef)](),this[_0x253b95(0x4ad)]=(0x0,_0x81785[_0x253b95(0x6e2)])((0x0,_0x81785[_0x253b95(0x647)])(_0x36dffc[_0x253b95(0x7fb)](),'.info/connected'),_0x5cae8c=>{const _0x1a07dd=_0x253b95;!0x0!==_0x5cae8c[_0x1a07dd(0x8d3)]()?this[_0x1a07dd(0x380)]&&_0x2d5d47['error']('firebase-disconnect',{'clusterId':this[_0x1a07dd(0x285)],'nodeId':this[_0x1a07dd(0x8df)]['getId'](),'nodeType':this[_0x1a07dd(0x8df)][_0x1a07dd(0x983)]}):(this['connected']=!0x0,this['setOnDisconnectHandler'](),_0x2d5d47[_0x1a07dd(0x196)](_0x1a07dd(0xa99),{'clusterId':this[_0x1a07dd(0x285)],'nodeId':this[_0x1a07dd(0x8df)][_0x1a07dd(0x8ef)](),'nodeType':this[_0x1a07dd(0x8df)][_0x1a07dd(0x983)]}));});}async['join'](){const _0x263e7c=_0x52a325;await this[_0x263e7c(0x673)]();const _0x21e06c=await this[_0x263e7c(0x7d0)]();return this['childRemovedUnsubscriber']=(0x0,_0x81785[_0x263e7c(0x87d)])((0x0,_0x81785[_0x263e7c(0x647)])(_0x36dffc['getDatabase'](),_0x263e7c(0x2a5)+this[_0x263e7c(0x3c8)]+_0x263e7c(0x15f)),_0x835af8=>{const _0xcf9067=_0x263e7c,_0x13bd37=_0x835af8[_0xcf9067(0x373)];if(!_0x13bd37)return;const _0x22e650=_0x13bd37[_0xcf9067(0x13e)](_0xcf9067(0x2be)+this[_0xcf9067(0x793)]+_0xcf9067(0x2be),'');this[_0xcf9067(0x9f5)][_0xcf9067(0x7da)](_0x22e650);}),_0x21e06c;}async[_0x52a325(0x93c)](){const _0x4fb861=_0x52a325;this[_0x4fb861(0x3dc)]?.(),delete this[_0x4fb861(0x3dc)],this['onDisconnectHandler']?.[_0x4fb861(0x897)](),delete this[_0x4fb861(0x22b)],this[_0x4fb861(0x4ad)]?.(),delete this[_0x4fb861(0x4ad)],await(0x0,_0x81785[_0x4fb861(0xff)])((0x0,_0x81785['ref'])(_0x36dffc['getDatabase'](),_0x4fb861(0x2a5)+this[_0x4fb861(0x3c8)]+_0x4fb861(0x914)+this[_0x4fb861(0x11a)]));}[_0x52a325(0x7ce)](_0x40713d){const _0x6b4327=_0x52a325;return this[_0x6b4327(0x9f5)][_0x6b4327(0xaa1)](_0x40713d);}async[_0x52a325(0x7d0)](){const _0x25ea47=_0x52a325,_0x615cca=[],_0x564271=await(0x0,_0x81785[_0x25ea47(0x627)])((0x0,_0x81785[_0x25ea47(0x647)])(_0x36dffc[_0x25ea47(0x7fb)](),_0x25ea47(0x2a5)+this[_0x25ea47(0x3c8)]+_0x25ea47(0x15f))),_0x596b48=[];return _0x564271['forEach'](_0x4f2e48=>{const _0x22d1ef=_0x25ea47,_0x50c96a=_0x4f2e48[_0x22d1ef(0x373)]?.[_0x22d1ef(0x13e)](_0x22d1ef(0x2be)+this[_0x22d1ef(0x793)]+_0x22d1ef(0x2be),'');_0x596b48['push']({'id':_0x50c96a,'joinedAt':_0x4f2e48[_0x22d1ef(0x8d3)]()[_0x22d1ef(0x992)],'priority':_0x4f2e48[_0x22d1ef(0x8d3)]()['priority']});}),_0x596b48[_0x25ea47(0x536)]((_0x4fde4c,_0x76f0a6)=>_0x4fde4c[_0x25ea47(0x992)]===_0x76f0a6['joinedAt']?_0x4fde4c[_0x25ea47(0x2c9)]-_0x76f0a6[_0x25ea47(0x2c9)]:_0x4fde4c[_0x25ea47(0x992)]-_0x76f0a6['joinedAt'])[_0x25ea47(0x441)](_0x596b48[_0x25ea47(0x255)](_0x3bd01e=>_0x3bd01e['id']===this['localNode'][_0x25ea47(0x8ef)]())),_0x596b48['sort']((_0x508930,_0x594dab)=>_0x594dab['joinedAt']===_0x508930[_0x25ea47(0x992)]?_0x594dab[_0x25ea47(0x2c9)]-_0x508930['priority']:_0x594dab[_0x25ea47(0x992)]-_0x508930['joinedAt'])[_0x25ea47(0x854)](_0x567858=>{const _0x1bfe2d=_0x25ea47;_0x615cca[_0x1bfe2d(0x761)]>=this['minConnections']||_0x615cca['push'](_0x567858['id']);}),_0x2d5d47[_0x25ea47(0x1ed)]('discover',{'clusterId':this[_0x25ea47(0x285)],'nodeId':this[_0x25ea47(0x8df)][_0x25ea47(0x8ef)](),'nodeType':this['localNode'][_0x25ea47(0x983)],'data':{'ancestorIds':_0x615cca,'allNodes':_0x596b48}}),_0x615cca;}async['joinCluster'](){const _0x3ec748=_0x52a325;await(0x0,_0x81785[_0x3ec748(0x23c)])((0x0,_0x81785[_0x3ec748(0x647)])(_0x36dffc[_0x3ec748(0x7fb)](),'clusters/'+this[_0x3ec748(0x3c8)]+_0x3ec748(0x914)+this[_0x3ec748(0x11a)]),{'joinedAt':(0x0,_0x81785[_0x3ec748(0x8c0)])(),'priority':Math[_0x3ec748(0x964)]()});}[_0x52a325(0x8c3)](){const _0x439e33=_0x52a325;this['onDisconnectHandler']&&this[_0x439e33(0x22b)][_0x439e33(0x897)](),this['onDisconnectHandler']=(0x0,_0x81785[_0x439e33(0xa5d)])((0x0,_0x81785[_0x439e33(0x647)])(_0x36dffc[_0x439e33(0x7fb)](),'clusters/'+this[_0x439e33(0x3c8)]+'/nodes/'+this[_0x439e33(0x11a)])),this[_0x439e33(0x22b)][_0x439e33(0xff)]();}}class _0x218a10{[_0x52a325(0x3f7)];[_0x52a325(0xa31)];['remoteUnsubscriber'];[_0x52a325(0x1e1)];[_0x52a325(0x1a8)];[_0x52a325(0x57f)]=[];[_0x52a325(0xbb)];['optimizationLayers']=new Map();[_0x52a325(0x6a5)];['lastProcessRank'];['_isReady'];[_0x52a325(0x484)];[_0x52a325(0x94c)];[_0x52a325(0x110)];constructor(_0x47576d,_0x3b4553){const _0x373a11=_0x52a325;this[_0x373a11(0x3f7)]=_0x47576d,this[_0x373a11(0xa31)]=_0x3b4553,this[_0x373a11(0x2bc)]=new Promise((_0x4c3646,_0x559d51)=>{this['resolveReady']=_0x4c3646,this['rejectReady']=_0x559d51;}),this['discoveryService']=new _0x5141a(this[_0x373a11(0x3f7)][_0x373a11(0x793)],this[_0x373a11(0x3f7)][_0x373a11(0x285)],this[_0x373a11(0x3f7)][_0x373a11(0x8df)],this[_0x373a11(0xa31)][_0x373a11(0x902)]()),this[_0x373a11(0x1a8)]=this['discoveryService']['onNodeDisconnect'](this['handleNodeDisconnect'][_0x373a11(0x3d2)](this)),this['configs'][_0x373a11(0x698)][_0x373a11(0x91e)](this['configs'][_0x373a11(0x8df)]),this['configs'][_0x373a11(0x698)]['registerSystemSource'](this),this[_0x373a11(0x734)]=_0x4e41bf[_0x373a11(0x750)](()=>{const _0xc0ef23=_0x373a11,_0xa43efe=Date[_0xc0ef23(0x88b)]();this['graphService']['getRemoteNodes']()['forEach'](_0x33f477=>{const _0x26de98=_0xc0ef23;_0x33f477[_0x26de98(0x952)]()===_0x100d29['Offline']&&_0x33f477[_0x26de98(0xc5)]()<_0xa43efe-0x493e0&&this[_0x26de98(0xa31)][_0x26de98(0x363)](_0x33f477[_0x26de98(0x8ef)]());});},0xea60);}async[_0x52a325(0x809)](){return this['_isReady'];}async[_0x52a325(0x464)](_0x395909){return new Promise((_0x323e05,_0x179eff)=>{const _0x1c4884=a0_0x15bf;let _0x4e8836;const _0x31ebce=setTimeout(()=>{const _0x2d3c64=a0_0x15bf;_0x4e8836?.(),_0x179eff(new Error(_0x2d3c64(0x980)+_0x395909+_0x2d3c64(0x3ca)));},0x2710);if(this[_0x1c4884(0xa31)][_0x1c4884(0x11b)](_0x395909))return clearTimeout(_0x31ebce),void _0x323e05(!0x0);_0x4e8836=this[_0x1c4884(0xa31)][_0x1c4884(0x64c)](()=>{const _0x19eb9a=_0x1c4884;this[_0x19eb9a(0xa31)]['hasRemoteNode'](_0x395909)&&(clearTimeout(_0x31ebce),_0x323e05(!0x0),_0x4e8836?.());});});}[_0x52a325(0x75b)](_0x1d7381){const _0x4911ba=_0x52a325;this[_0x4911ba(0xbb)]=_0x1d7381;}[_0x52a325(0x772)](){const _0x2b3395=_0x52a325;delete this[_0x2b3395(0xbb)];}[_0x52a325(0x93c)](){const _0xcfef9a=_0x52a325;this[_0xcfef9a(0x6a5)]&&(clearTimeout(this[_0xcfef9a(0x6a5)]),delete this[_0xcfef9a(0x6a5)]),delete this[_0xcfef9a(0x49e)],this[_0xcfef9a(0x3f7)][_0xcfef9a(0x8df)]['close'](),this[_0xcfef9a(0x734)](),this[_0xcfef9a(0x1a8)](),this['configs'][_0xcfef9a(0x698)][_0xcfef9a(0x540)](this[_0xcfef9a(0x3f7)]['localNode']),this[_0xcfef9a(0x3f7)]['mediator'][_0xcfef9a(0x540)](this),this[_0xcfef9a(0x1e1)][_0xcfef9a(0x93c)]();}['getAncestorIds'](){const _0x40773d=_0x52a325;return this[_0x40773d(0x57f)];}[_0x52a325(0x7f1)](){const _0x182b5c=_0x52a325;return this[_0x182b5c(0x3f7)][_0x182b5c(0x8df)]['getId']();}[_0x52a325(0x4ca)](){const _0x428288=_0x52a325;return this[_0x428288(0x3f7)][_0x428288(0x8df)];}[_0x52a325(0x37d)](_0x3c1a7d){const _0x5abc31=_0x52a325,_0x26af23=Array[_0x5abc31(0xa3e)](this['graphService'][_0x5abc31(0x37d)]()['values']())[_0x5abc31(0x6f8)](_0x2d2bc0=>_0x2d2bc0[_0x5abc31(0x952)]()===_0x100d29['Online']);return _0x3c1a7d?_0x26af23['filter'](_0x3c1a7d):_0x26af23;}async[_0x52a325(0x804)](){const _0x340d89=_0x52a325;return this['ancestors']=await this[_0x340d89(0x1e1)]['join'](),this[_0x340d89(0x57f)][_0x340d89(0x761)]<this[_0x340d89(0xa31)][_0x340d89(0x902)]()&&(this[_0x340d89(0x3f7)]['localNode']['setRank'](this['ancestors']['length']+0x1),this[_0x340d89(0x6d8)]()),this[_0x340d89(0x57f)];}['getDistance'](_0x21e25d,_0x4d44f5){const _0x1d5586=_0x52a325,_0x481c8e=this[_0x1d5586(0x3f7)][_0x1d5586(0x8df)]['getRemoteConnections'](),_0x35bbb8=new Set(_0x481c8e),_0x2c15c1=Array['from'](_0x481c8e)['filter'](_0x5180e9=>_0x5180e9!==_0x21e25d)['map'](_0x1cf3b1=>({'id':_0x1cf3b1,'distance':0x1}));for(;_0x2c15c1[_0x1d5586(0x761)]>0x0;){const _0x4d117c=_0x2c15c1['shift']();if(!_0x4d117c)continue;if(_0x4d117c['id']===_0x4d44f5)return _0x4d117c[_0x1d5586(0x3ce)];const _0x276f7b=this[_0x1d5586(0xa31)][_0x1d5586(0xa76)](_0x4d117c['id']);_0x276f7b&&_0x276f7b['getStatus']()!==_0x100d29[_0x1d5586(0x884)]&&_0x276f7b['getRemoteConnections']()[_0x1d5586(0x854)](_0x3f1ffa=>{const _0x565249=_0x1d5586;_0x35bbb8[_0x565249(0xed)](_0x3f1ffa)||(_0x35bbb8['add'](_0x3f1ffa),_0x2c15c1[_0x565249(0x66e)]({'id':_0x3f1ffa,'distance':_0x4d117c[_0x565249(0x3ce)]+0x1}));});}return-0x1;}[_0x52a325(0xc0)](_0x36a843){const _0x4140c7=_0x52a325;try{switch(_0x36a843[_0x4140c7(0x38c)][_0x4140c7(0x983)]){case _0x747940[_0x4140c7(0x2d8)]:case _0x747940[_0x4140c7(0x775)]:this[_0x4140c7(0x8a4)](_0x36a843[_0x4140c7(0x38c)]),_0x2d5d47[_0x4140c7(0x109)](_0x422206[_0x4140c7(0x695)],_0x4140c7(0x3e2),'\x27'+this[_0x4140c7(0x3f7)][_0x4140c7(0x8df)][_0x4140c7(0x8ef)]()+',\x20'+_0x36a843[_0x4140c7(0x2c0)]+'\x27',_0x36a843,_0x36a843['content']);break;case _0x747940[_0x4140c7(0x7c8)]:this[_0x4140c7(0x48a)](_0x36a843[_0x4140c7(0x38c)]['id']),_0x2d5d47['log'](_0x422206[_0x4140c7(0x695)],_0x4140c7(0x63a),'\x27'+this['configs'][_0x4140c7(0x8df)][_0x4140c7(0x8ef)]()+',\x20'+_0x36a843['sourceId']+'\x27',_0x36a843,_0x36a843['content']);}}catch(_0x2fbd97){if(_0x2fbd97 instanceof _0x356a2c)return void _0x2d5d47['log'](_0x422206[_0x4140c7(0x695)],_0x2fbd97[_0x4140c7(0x787)]);throw _0x2fbd97;}}[_0x52a325(0x3b1)](_0x163bcb){const _0x141719=_0x52a325;switch(_0x163bcb[_0x141719(0x38c)][_0x141719(0x983)]){case _0x4194fa[_0x141719(0x546)]:this[_0x141719(0x8a6)](_0x163bcb['sourceId']),_0x2d5d47[_0x141719(0x109)](_0x422206[_0x141719(0x695)],_0x141719(0x1e6),'\x27'+this[_0x141719(0x3f7)][_0x141719(0x8df)][_0x141719(0x8ef)]()+',\x20'+_0x163bcb[_0x141719(0x2c0)]+'\x27',_0x163bcb,_0x163bcb[_0x141719(0x38c)]);break;case _0x4194fa[_0x141719(0x122)]:this['publishNodeLeave'](_0x163bcb[_0x141719(0x2c0)]),_0x2d5d47['log'](_0x422206[_0x141719(0x695)],'NodeManager\x20-\x20PublishNodeLeave',this[_0x141719(0x3f7)][_0x141719(0x8df)][_0x141719(0x8ef)](),_0x163bcb,_0x163bcb[_0x141719(0x38c)]);}}[_0x52a325(0x78b)](_0x2ff6b5){const _0x4f2a8d=_0x52a325;this[_0x4f2a8d(0x621)](_0x2ff6b5),this[_0x4f2a8d(0x432)](_0x2ff6b5);}['notifyJoin'](_0x765e6e){const _0x4ab886=_0x52a325;this['configs'][_0x4ab886(0x8df)][_0x4ab886(0x2bf)](_0x765e6e['id']),this[_0x4ab886(0xa67)](_0x765e6e['id']),this[_0x4ab886(0x354)](_0x765e6e);}[_0x52a325(0x8a4)](_0x44a9f4){const _0x39ae36=_0x52a325,{id:_0x2d77c9,metaData:_0x44d696,rank:_0x1710e1,remoteConnections:_0xd31724,version:_0x4de6b9}=_0x44a9f4,_0x931f0e=this[_0x39ae36(0xa31)]['getRemoteNode'](_0x2d77c9);if(_0x931f0e){if(!(_0x4de6b9<=_0x931f0e[_0x39ae36(0x227)]())){if(_0x931f0e[_0x39ae36(0x9f6)](_0xd31724),_0x931f0e[_0x39ae36(0x4ba)](_0x4de6b9),_0x931f0e['type']===_0x5bfdb7[_0x39ae36(0xa5e)][_0x39ae36(0x73f)]&&_0x44d696[_0x39ae36(0x983)]===_0x5bfdb7[_0x39ae36(0xa5e)][_0x39ae36(0x73f)]&&(_0x931f0e[_0x39ae36(0x5db)](_0x44d696['displayName']),_0x931f0e['setEmail'](_0x44d696[_0x39ae36(0x86d)])),_0x1710e1&&_0x931f0e['setRank'](_0x1710e1),this[_0x39ae36(0x5af)](_0x2d77c9,_0x1710e1),_0x931f0e['getStatus']()===_0x100d29[_0x39ae36(0x884)])return _0x931f0e[_0x39ae36(0x419)](_0x100d29[_0x39ae36(0x2d5)]),this[_0x39ae36(0x6d8)](),void this['notifyJoin'](_0x44a9f4);this[_0x39ae36(0x6d8)](),this[_0x39ae36(0xa5f)]({'id':_0x2d77c9,'metaData':_0x44d696,'remoteConnections':_0xd31724,'version':_0x4de6b9});}}else this[_0x39ae36(0x78b)](_0x44a9f4);}[_0x52a325(0x5af)](_0x395699,_0x102869){const _0x27b045=_0x52a325;_0x102869&&this[_0x27b045(0x57f)]['includes'](_0x395699)&&this[_0x27b045(0x3f7)][_0x27b045(0x8df)][_0x27b045(0x1f8)](_0x102869+this[_0x27b045(0x57f)][_0x27b045(0x3f1)](_0x395699)+0x1);}[_0x52a325(0x8a6)](_0x4b6088){const _0x6f44bf=_0x52a325;this[_0x6f44bf(0x3f7)][_0x6f44bf(0x8df)][_0x6f44bf(0x491)](_0x4b6088);}[_0x52a325(0x621)]({id:_0xb0bdd,metaData:_0x1937ee,rank:_0x557310,remoteConnections:_0x3fb3e6,version:_0x586565}){const _0x363b2e=_0x52a325;if(this[_0x363b2e(0xa31)]['hasRemoteNode'](_0xb0bdd))throw new _0x356a2c('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0xb0bdd);switch(_0x1937ee['type']){case _0x5bfdb7[_0x363b2e(0xa5e)][_0x363b2e(0x73f)]:const {displayName:_0x17cff1,email:_0x33cab3}=_0x1937ee;this['graphService']['setRemoteNode'](_0xb0bdd,new _0x1a85a3(_0xb0bdd,_0x17cff1,_0x33cab3,new Set(_0x3fb3e6),_0x586565,_0x557310));break;case _0x5bfdb7['NodeType']['Agent']:this[_0x363b2e(0xa31)][_0x363b2e(0x2bb)](_0xb0bdd,new _0x3ef2e9(_0xb0bdd,new Set(_0x3fb3e6),_0x586565,_0x557310));}const _0x3a210d=this['getRemoteNodes'](),_0x5ed51c=new Set(this['ancestors']);_0x3a210d['forEach'](_0x204692=>{const _0x15f766=_0x363b2e;_0x5ed51c['has'](_0x204692[_0x15f766(0x8ef)]())&&_0x5ed51c[_0x15f766(0x4f4)](_0x204692['getId']());}),0x0===_0x5ed51c['size']&&this['resolveReady']&&(this[_0x363b2e(0x110)]&&clearTimeout(this[_0x363b2e(0x110)]),this[_0x363b2e(0x110)]=setTimeout(()=>{const _0x405316=_0x363b2e;this[_0x405316(0x484)]?.(!0x0),delete this[_0x405316(0x484)],delete this[_0x405316(0x94c)];},0x7d0)),this['setLocalRank'](_0xb0bdd,_0x557310),this[_0x363b2e(0x6d8)]();}['publishNodeJoin'](_0x567adf){const _0x4a62e6=_0x52a325;this[_0x4a62e6(0xbb)]['publish']({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x4a62e6(0x695)],'content':{'type':_0x747940['NodeJoin'],'id':_0x567adf}});}[_0x52a325(0x56e)](_0x1a9b62){const _0x30d363=_0x52a325;this[_0x30d363(0xbb)]?.['publish']({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x30d363(0x695)],'content':{'type':_0x747940[_0x30d363(0x7c8)],'id':_0x1a9b62}});}[_0x52a325(0x84b)](_0xb3b15c){const _0x4eb2db=_0x52a325;if(_0xb3b15c===this[_0x4eb2db(0x3f7)][_0x4eb2db(0x8df)][_0x4eb2db(0x8ef)]())return this[_0x4eb2db(0x3f7)][_0x4eb2db(0x698)][_0x4eb2db(0x81d)]('cluster-disconnect',{'id':_0xb3b15c}),this[_0x4eb2db(0x3f7)][_0x4eb2db(0x698)][_0x4eb2db(0x93c)]({'force':!0x0},!0x0),this[_0x4eb2db(0x3f7)][_0x4eb2db(0x698)][_0x4eb2db(0x807)](),void this[_0x4eb2db(0x3f7)]['mediator'][_0x4eb2db(0x1a7)]();this[_0x4eb2db(0x56e)](_0xb3b15c);}['removeNode'](_0x3e4c4c){const _0x2bf11a=_0x52a325;this[_0x2bf11a(0x57f)][_0x2bf11a(0x8cd)](_0x3e4c4c)?this['manageAncestor'](_0x3e4c4c):this[_0x2bf11a(0x3f7)][_0x2bf11a(0x8df)][_0x2bf11a(0x9e8)]()[_0x2bf11a(0xed)](_0x3e4c4c)&&this[_0x2bf11a(0x52d)](_0x3e4c4c),this[_0x2bf11a(0x3f7)]['localNode'][_0x2bf11a(0x4ce)](_0x3e4c4c);const _0x54082a=Array[_0x2bf11a(0xa3e)](this[_0x2bf11a(0x376)][_0x2bf11a(0x6c8)]())['find'](([,_0x484b1d])=>_0x484b1d==_0x484b1d);_0x54082a&&this[_0x2bf11a(0x376)]['delete'](_0x54082a[0x0]);const _0x58b981=this[_0x2bf11a(0xa31)][_0x2bf11a(0xa76)](_0x3e4c4c);if(!_0x58b981)return;const _0x138506=_0x58b981[_0x2bf11a(0x33e)](),_0x37bd2a=this[_0x2bf11a(0x3f7)][_0x2bf11a(0x8df)][_0x2bf11a(0x33e)]();_0x37bd2a&&_0x138506&&_0x138506<_0x37bd2a&&this[_0x2bf11a(0x3f7)][_0x2bf11a(0x8df)][_0x2bf11a(0x1f8)](_0x37bd2a-0x1,!0x1),Array[_0x2bf11a(0xa3e)](this[_0x2bf11a(0xa31)][_0x2bf11a(0x37d)]()['values']())[_0x2bf11a(0x854)](_0x206115=>{const _0x15398f=_0x2bf11a,_0x40a8a8=_0x206115[_0x15398f(0x33e)]();_0x40a8a8&&_0x138506&&_0x138506<_0x40a8a8&&_0x206115['setRank'](_0x40a8a8-0x1);}),_0x58b981['setStatus'](_0x100d29['Offline']),this['configs'][_0x2bf11a(0x698)]['notifyCluster'](_0x58b981[_0x2bf11a(0x983)]+_0x2bf11a(0x2f8),{'id':_0x3e4c4c});}[_0x52a325(0x354)]({id:_0x41a692,metaData:_0x1e342a,remoteConnections:_0x232aac}){const _0x48ddb7=_0x52a325;switch(_0x1e342a['type']){case _0x5bfdb7[_0x48ddb7(0xa5e)]['User']:this[_0x48ddb7(0x3f7)][_0x48ddb7(0x698)][_0x48ddb7(0x81d)](_0x48ddb7(0x45c),{'id':_0x41a692,'metaData':_0x1e342a,'remoteConnections':_0x232aac});break;case _0x5bfdb7[_0x48ddb7(0xa5e)]['Agent']:this[_0x48ddb7(0x3f7)][_0x48ddb7(0x698)][_0x48ddb7(0x81d)]('agent-join',{'id':_0x41a692,'metaData':_0x1e342a,'remoteConnections':_0x232aac});}}[_0x52a325(0xa5f)]({id:_0x29bd58,metaData:_0x38521a,remoteConnections:_0x2d3987}){const _0x1893cb=_0x52a325;switch(_0x38521a['type']){case _0x5bfdb7[_0x1893cb(0xa5e)]['User']:this[_0x1893cb(0x3f7)][_0x1893cb(0x698)][_0x1893cb(0x81d)](_0x1893cb(0x43c),{'id':_0x29bd58,'metaData':_0x38521a,'remoteConnections':_0x2d3987});break;case _0x5bfdb7[_0x1893cb(0xa5e)][_0x1893cb(0x1f4)]:this[_0x1893cb(0x3f7)][_0x1893cb(0x698)][_0x1893cb(0x81d)]('agent-update',{'id':_0x29bd58,'metaData':_0x38521a,'remoteConnections':_0x2d3987});}}[_0x52a325(0x6d8)](){const _0x8ed7c0=_0x52a325;if(this[_0x8ed7c0(0x49e)]||(this[_0x8ed7c0(0x49e)]=Date[_0x8ed7c0(0x88b)]()),this[_0x8ed7c0(0x6a5)]){if(Date[_0x8ed7c0(0x88b)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this[_0x8ed7c0(0x6a5)]);}this[_0x8ed7c0(0x6a5)]=setTimeout(async()=>{const _0x41657f=_0x8ed7c0;delete this['lastProcessRank'],delete this[_0x41657f(0x6a5)];const _0xd9e3fb=this[_0x41657f(0x3f7)][_0x41657f(0x8df)][_0x41657f(0x33e)]();if(!_0xd9e3fb)return;const _0x55be69=this[_0x41657f(0xa31)][_0x41657f(0x919)](this[_0x41657f(0xa31)][_0x41657f(0x37d)]()[_0x41657f(0x1af)]);if(this[_0x41657f(0x376)][_0x41657f(0x1af)]>=_0x55be69)return;let _0x41e236=0x1;for(;this[_0x41657f(0x3f7)][_0x41657f(0x698)]['getConnections']()[_0x41657f(0x761)]<this[_0x41657f(0xa31)][_0x41657f(0x2e6)]()&&_0x41e236<=_0x55be69;){if(this[_0x41657f(0x376)][_0x41657f(0xed)](_0x41e236)){_0x41e236+=0x1;continue;}const _0xec823d=this[_0x41657f(0xa31)][_0x41657f(0x389)](_0xd9e3fb,_0x41e236),_0x5cd77e=Array[_0x41657f(0xa3e)](this['graphService'][_0x41657f(0x37d)]()[_0x41657f(0x70f)]())[_0x41657f(0x7cc)](_0x360473=>_0x360473['getRank']()===_0xec823d&&_0x360473[_0x41657f(0x952)]()===_0x100d29[_0x41657f(0x2d5)]);if(_0x5cd77e){try{await this[_0x41657f(0x3f7)][_0x41657f(0x698)][_0x41657f(0x2cf)](_0x5cd77e['getId'](),_0x51b19f[_0x41657f(0x9ab)]),this['optimizationLayers']['set'](_0x41e236,_0x5cd77e[_0x41657f(0x8ef)]());}catch(_0x26f1cd){if(!(_0x26f1cd instanceof _0x162f0d&&_0x26f1cd[_0x41657f(0x15b)]===_0x162f0d[_0x41657f(0x2a6)][_0x41657f(0x167)]))throw _0x26f1cd;_0x2d5d47[_0x41657f(0x109)](_0x422206['Node'],this[_0x41657f(0x3f7)]['localNode'][_0x41657f(0x8ef)](),_0x5cd77e[_0x41657f(0x8ef)](),_0x26f1cd[_0x41657f(0x787)]);}_0x41e236+=0x1;}else _0x41e236+=0x1;}},0x3e8);}async[_0x52a325(0x98c)](_0x3fad21){const _0x21b405=_0x52a325;this[_0x21b405(0x57f)][_0x21b405(0x441)](this[_0x21b405(0x57f)][_0x21b405(0x3f1)](_0x3fad21),0x1);const _0x2c4d24=await this[_0x21b405(0x1e1)]['getAncestors']();for(const _0x51bf63 of _0x2c4d24)if(!this[_0x21b405(0x57f)]['includes'](_0x51bf63)){const _0x21f5cb=Array[_0x21b405(0xa3e)](this[_0x21b405(0x376)]['entries']())[_0x21b405(0x7cc)](([,_0x66b2bf])=>_0x66b2bf===_0x51bf63);_0x21f5cb&&this[_0x21b405(0x376)][_0x21b405(0x4f4)](_0x21f5cb[0x0]),this[_0x21b405(0x3f7)]['mediator'][_0x21b405(0x2cf)](_0x51bf63,_0x51b19f[_0x21b405(0x33d)]);}0x0===_0x2c4d24['length']&&this['configs'][_0x21b405(0x8df)]['setRank'](0x1),this['ancestors']=_0x2c4d24;}async[_0x52a325(0x52d)](_0x342230){const _0x3a0db3=_0x52a325,_0x1ecfb2=this['configs'][_0x3a0db3(0x8df)]['getRank']();if(!_0x1ecfb2)return;const _0x566d48=this[_0x3a0db3(0xa31)][_0x3a0db3(0xa76)](_0x342230);if(!_0x566d48||_0x566d48[_0x3a0db3(0x952)]()===_0x100d29[_0x3a0db3(0x884)])return;const _0x33dcfb=_0x566d48[_0x3a0db3(0x33e)]();if(!_0x33dcfb||_0x33dcfb<_0x1ecfb2)return;const _0x2b7f79=this[_0x3a0db3(0x85a)](this[_0x3a0db3(0x3f7)][_0x3a0db3(0x8df)]['getRemoteConnections'](),_0x1ecfb2),_0x37c3b6=this[_0x3a0db3(0x85a)](_0x566d48[_0x3a0db3(0x9e8)](),_0x33dcfb)[_0x2b7f79[_0x3a0db3(0x255)](([_0xc7836f])=>_0xc7836f===_0x342230)];if(!_0x37c3b6||this['configs'][_0x3a0db3(0x8df)][_0x3a0db3(0x9e8)]()[_0x3a0db3(0xed)](_0x37c3b6[0x0]))return;const _0xece60f=this[_0x3a0db3(0xa31)][_0x3a0db3(0xa76)](_0x37c3b6[0x0]);if(_0xece60f&&_0xece60f[_0x3a0db3(0x952)]()!==_0x100d29[_0x3a0db3(0x884)])try{await this[_0x3a0db3(0x3f7)][_0x3a0db3(0x698)][_0x3a0db3(0x2cf)](_0x37c3b6[0x0],_0x51b19f[_0x3a0db3(0x9ab)]);const _0x249a0e=Array[_0x3a0db3(0xa3e)](this[_0x3a0db3(0x376)]['entries']())[_0x3a0db3(0x7cc)](([,_0x27f603])=>_0x27f603===_0x342230);_0x249a0e&&this[_0x3a0db3(0x376)]['set'](_0x249a0e[0x0],_0x37c3b6[0x0]);}catch(_0x5aaf9a){if(!(_0x5aaf9a instanceof _0x162f0d&&_0x5aaf9a[_0x3a0db3(0x15b)]===_0x162f0d['codes']['RemoteConnectionExists']))throw _0x5aaf9a;_0x2d5d47[_0x3a0db3(0x109)](_0x422206[_0x3a0db3(0x695)],this[_0x3a0db3(0x3f7)][_0x3a0db3(0x8df)][_0x3a0db3(0x8ef)](),_0x37c3b6[0x0],_0x5aaf9a[_0x3a0db3(0x787)]);}}[_0x52a325(0x85a)](_0x110bb2,_0x244136){const _0x3d0bb2=_0x52a325;return Array[_0x3d0bb2(0xa3e)](_0x110bb2)[_0x3d0bb2(0x8b1)]((_0xeb8a84,_0x366b0b)=>{const _0x268c8e=_0x3d0bb2,_0x81ac21=this[_0x268c8e(0xa31)][_0x268c8e(0xa76)](_0x366b0b);if(!_0x81ac21||_0x81ac21[_0x268c8e(0x952)]()===_0x100d29['Offline'])return _0xeb8a84;const _0x17c159=_0x81ac21[_0x268c8e(0x33e)]();if(!_0x17c159)return _0xeb8a84;const _0x3e0693=_0x17c159-_0x244136;return _0x3e0693<=this[_0x268c8e(0xa31)]['getMinConnections']()||_0xeb8a84['push']([_0x366b0b,_0x3e0693]),_0xeb8a84;},[])[_0x3d0bb2(0x536)](([,_0x16afef],[,_0x5b7a60])=>_0x16afef-_0x5b7a60);}}const _0x59c47f=[{'problemType':_0xe05501[_0x52a325(0x5c3)],'remediations':[{'type':_0x459ca9['Remediation'],'component':_0x351c37[_0x52a325(0x368)],'action':_0x2d2efd[_0x52a325(0x34e)]},{'type':_0x459ca9[_0x52a325(0x824)],'component':_0x351c37[_0x52a325(0x368)],'action':_0x2d2efd[_0x52a325(0x34e)]}]},{'problemType':_0xe05501[_0x52a325(0x48e)],'remediations':[{'type':_0x459ca9[_0x52a325(0x9e0)],'component':_0x351c37[_0x52a325(0x368)],'action':_0x2d2efd[_0x52a325(0x34e)]}]},{'problemType':_0xe05501[_0x52a325(0x4ff)],'remediations':[{'type':_0x459ca9[_0x52a325(0x9e0)],'component':_0x351c37[_0x52a325(0x368)],'action':_0x2d2efd['Downgrade']}]},{'problemType':_0xe05501[_0x52a325(0x58a)],'remediations':[{'type':_0x459ca9[_0x52a325(0x9e0)],'component':_0x351c37[_0x52a325(0x368)],'action':_0x2d2efd[_0x52a325(0x34e)]}]},{'problemType':_0xe05501[_0x52a325(0x2c1)],'remediations':[{'type':_0x459ca9[_0x52a325(0x9e0)],'component':_0x351c37[_0x52a325(0x2c1)],'action':_0x2d2efd[_0x52a325(0x34e)]}]},{'problemType':_0xe05501[_0x52a325(0xa06)],'remediations':[{'type':_0x459ca9[_0x52a325(0x9e0)],'component':_0x351c37[_0x52a325(0x2c1)],'action':_0x2d2efd[_0x52a325(0x34e)]}]},{'problemType':_0xe05501[_0x52a325(0x96f)],'remediations':[{'type':_0x459ca9[_0x52a325(0x9e0)],'component':_0x351c37[_0x52a325(0x2c1)],'action':_0x2d2efd[_0x52a325(0x34e)]}]}];class _0x11f10a{[_0x52a325(0x3f7)];[_0x52a325(0xbb)];[_0x52a325(0x171)]=new Map();constructor(_0x1e6efe){const _0x47a6df=_0x52a325;this[_0x47a6df(0x3f7)]=_0x1e6efe,this[_0x47a6df(0x3f7)][_0x47a6df(0x698)]['registerSystemSource'](this);}[_0x52a325(0x93c)](){const _0x4e98d5=_0x52a325;this[_0x4e98d5(0x3f7)][_0x4e98d5(0x698)]['unregisterSystemSource'](this);}[_0x52a325(0x75b)](_0x55ce9c){const _0x421c25=_0x52a325;this[_0x421c25(0xbb)]=_0x55ce9c;}['unregisterSystemPublisher'](){const _0x52889f=_0x52a325;delete this[_0x52889f(0xbb)];}[_0x52a325(0x225)](_0x3701c3){const _0x156134=_0x52a325;_0x3701c3[_0x156134(0x38c)]['type']===_0x812e05[_0x156134(0xd8)]&&this[_0x156134(0x3a0)](_0x3701c3[_0x156134(0x38c)][_0x156134(0x6f2)]);}[_0x52a325(0x8da)](_0x125115){const _0xf7c0e3=_0x52a325;_0x125115[_0xf7c0e3(0x38c)]['type']===_0x459ca9[_0xf7c0e3(0x824)]&&this['applyRemediation'](_0x125115['sourceId'],{'type':_0x459ca9['Remediation'],'component':_0x125115[_0xf7c0e3(0x38c)][_0xf7c0e3(0x6f2)][_0xf7c0e3(0x83c)],'action':_0x125115['content']['data'][_0xf7c0e3(0x5eb)]});}['handleProblem'](_0x315b0a){const _0xdddac1=_0x52a325,_0x36854f=_0x59c47f[_0xdddac1(0x7cc)](_0xb81a69=>_0xb81a69['problemType']===_0x315b0a[_0xdddac1(0x983)]);_0x36854f[_0xdddac1(0x46c)]?.['forEach'](_0x2d3d56=>{const _0x166e23=_0xdddac1;this['applyRemediation'](_0x315b0a[_0x166e23(0x580)],{'type':_0x315b0a[_0x166e23(0x4c1)]===_0x1347d1[_0x166e23(0x87f)]?_0x459ca9[_0x166e23(0x9e0)]:_0x459ca9['RemoteRemediation'],'component':_0x2d3d56[_0x166e23(0x83c)],'action':_0x2d3d56[_0x166e23(0x5eb)]});});}[_0x52a325(0x4cc)](_0x28127a,_0x43ad35){const _0x52a7d1=_0x52a325;if(_0x43ad35[_0x52a7d1(0x983)]===_0x459ca9[_0x52a7d1(0x9e0)]){const _0x165d33=Date[_0x52a7d1(0x88b)](),_0x1ab286=this[_0x52a7d1(0x171)][_0x52a7d1(0x627)](_0x28127a);if(_0x1ab286&&_0x165d33-_0x1ab286<0x1388)return;this['lastRemediations'][_0x52a7d1(0x23c)](_0x28127a,_0x165d33);}_0x2d5d47[_0x52a7d1(0x109)](_0x422206[_0x52a7d1(0x9e0)],'Apply\x20remediation',_0x43ad35),_0x2d5d47[_0x52a7d1(0x1ed)](_0x52a7d1(0x575),{'clusterId':this[_0x52a7d1(0x3f7)][_0x52a7d1(0x285)],'nodeId':this['configs']['localNode'][_0x52a7d1(0x8ef)](),'nodeType':this[_0x52a7d1(0x3f7)][_0x52a7d1(0x8df)][_0x52a7d1(0x983)],'remoteId':_0x28127a,'data':{'type':_0x43ad35['type'],'component':_0x43ad35[_0x52a7d1(0x83c)],'action':_0x43ad35['action']}});let _0x34f654,_0x33f58b=_0x1ee970;_0x43ad35[_0x52a7d1(0x983)]===_0x459ca9[_0x52a7d1(0x824)]&&(_0x33f58b=this['configs'][_0x52a7d1(0x8df)][_0x52a7d1(0x8ef)](),_0x34f654=[_0x28127a]),this[_0x52a7d1(0xbb)][_0x52a7d1(0x7da)]({'sourceId':_0x33f58b,'destinationIds':_0x34f654,'messageType':_0x5ebcbf[_0x52a7d1(0x9e0)],'content':{'type':_0x43ad35[_0x52a7d1(0x983)],'targetId':_0x28127a,'data':_0x43ad35}});}}const _0x556fb2=0x3e8,_0x4f58d6=0x7530,_0x235271=_0x52a325(0xa0d),_0x100316=_0x52a325(0x314),_0x142985=_0x52a325(0x295),_0x3e06d0=[_0x235271,_0x100316],_0x55fa74=[_0x142985];class _0xb6d88c{[_0x52a325(0x850)]=0x0;[_0x52a325(0x6df)]=0x0;[_0x52a325(0xaa4)]=0x0;[_0x52a325(0x20b)]=0x0;[_0x52a325(0x6d1)]=0x0;[_0x52a325(0x216)]=0x0;['previousTimestamp']=0x0;['currentBytes']=0x0;[_0x52a325(0x616)]=0x0;get[_0x52a325(0x348)](){const _0xe3b4df=_0x52a325;return this[_0xe3b4df(0x216)]>0x0&&this[_0xe3b4df(0x9d8)]>0x0&&Date[_0xe3b4df(0x88b)]()-this[_0xe3b4df(0x216)]<_0x4f58d6?(this['currentBytes']-this['previousBytes'])/(this[_0xe3b4df(0x216)]-this[_0xe3b4df(0x9d8)])*0x8*0x3e8:0x0;}[_0x52a325(0x823)](_0x3df49c){const _0x240c6e=_0x52a325;switch(_0x3df49c[_0x240c6e(0x983)]){case _0x142985:this[_0x240c6e(0x718)](_0x3df49c);break;case _0x235271:this['processOutboundReport'](_0x3df49c);break;case _0x100316:this['processRemoteInboundReport'](_0x3df49c);}}[_0x52a325(0x64d)](){const _0x318afd=_0x52a325;return{'bitrate':this[_0x318afd(0x348)],'packetsLostPerc':this['getPacketsLostPerc'](),'roundTripTime':this['roundTripTime'],'jitter':this['jitter']};}[_0x52a325(0x718)](_0x1c778b){const _0xa49d85=_0x52a325;this[_0xa49d85(0x3f0)](_0x1c778b[_0xa49d85(0x434)]),this['setTimestamp'](_0x1c778b['timestamp']),this[_0xa49d85(0x6d1)]=_0x1c778b[_0xa49d85(0xac4)],this['packetsLost']=_0x1c778b['packetsLost'],void 0x0!==_0x1c778b[_0xa49d85(0xaa4)]?this[_0xa49d85(0xaa4)]=_0x1c778b[_0xa49d85(0xaa4)]:this[_0xa49d85(0xaa4)]=0x0,void 0x0!==_0x1c778b[_0xa49d85(0x6df)]?this[_0xa49d85(0x6df)]=_0x1c778b[_0xa49d85(0x6df)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x52a325(0x79e)](_0xfbcf16){const _0x5a2118=_0x52a325;this['setBytes'](_0xfbcf16[_0x5a2118(0x96b)]),this[_0x5a2118(0x186)](_0xfbcf16['timestamp']),this['packets']=_0xfbcf16[_0x5a2118(0x1fa)];}[_0x52a325(0x66d)](_0x5ea743){const _0x141372=_0x52a325;this['roundTripTime']=0x3e8*_0x5ea743['roundTripTime'],void 0x0!==_0x5ea743[_0x141372(0xaa4)]?this[_0x141372(0xaa4)]=_0x5ea743[_0x141372(0xaa4)]:this[_0x141372(0xaa4)]=0x0;}[_0x52a325(0x331)](){const _0x2ecf0e=_0x52a325;return this[_0x2ecf0e(0x6d1)]>0x0?this[_0x2ecf0e(0x20b)]/this['packets']:0x0;}[_0x52a325(0x186)](_0x195dd1){const _0x4c47db=_0x52a325;_0x195dd1>this['currentTimestamp']&&(this[_0x4c47db(0x9d8)]=this[_0x4c47db(0x216)],this[_0x4c47db(0x216)]=_0x195dd1);}[_0x52a325(0x3f0)](_0x3e3830){const _0x47b8b=_0x52a325;this[_0x47b8b(0x616)]=this[_0x47b8b(0x480)],this[_0x47b8b(0x480)]=_0x3e3830;}}class _0x196a4f extends _0xb6d88c{}class _0x114d97 extends _0xb6d88c{[_0x52a325(0x6f6)]=0x0;[_0x52a325(0xa88)]=0x0;[_0x52a325(0x57c)]=0x0;['currentFrames']=0x0;[_0x52a325(0x725)]=0x0;get[_0x52a325(0x649)](){const _0x5dc8c1=_0x52a325;return this['currentTimestamp']>0x0&&this[_0x5dc8c1(0x9d8)]>0x0&&Date[_0x5dc8c1(0x88b)]()-this[_0x5dc8c1(0x216)]<_0x4f58d6?(this[_0x5dc8c1(0x9a3)]-this[_0x5dc8c1(0x725)])/(this[_0x5dc8c1(0x216)]-this[_0x5dc8c1(0x9d8)])*0x3e8:0x0;}get[_0x52a325(0x32c)](){const _0x2fb70a=_0x52a325;return this['frameTime']&&this[_0x2fb70a(0x9a3)]&&this['currentFrames']>0x0?this[_0x2fb70a(0x6f6)]/this[_0x2fb70a(0x9a3)]:0x0;}set['frames'](_0x34ccbe){const _0x4bf72d=_0x52a325;this[_0x4bf72d(0x725)]=this['currentFrames'],this[_0x4bf72d(0x9a3)]=_0x34ccbe;}[_0x52a325(0x64d)](){const _0x5af442=_0x52a325;return{...super[_0x5af442(0x64d)](),'FPS':this['fps'],'timePerFrame':this[_0x5af442(0x32c)],'frameWidth':this['frameWidth'],'frameHeight':this[_0x5af442(0x57c)]};}[_0x52a325(0x718)](_0x1c042d){const _0x234d6c=_0x52a325;super[_0x234d6c(0x718)](_0x1c042d),this['frameTime']=_0x1c042d[_0x234d6c(0x5e7)],this[_0x234d6c(0x4bd)]=_0x1c042d[_0x234d6c(0x664)],this[_0x234d6c(0xa88)]=_0x1c042d['frameWidth'],this['frameHeight']=_0x1c042d[_0x234d6c(0x57c)];}[_0x52a325(0x79e)](_0x42689c){const _0x2ac46d=_0x52a325;super[_0x2ac46d(0x79e)](_0x42689c),this['frameTime']=_0x42689c[_0x2ac46d(0x60a)],this[_0x2ac46d(0x4bd)]=_0x42689c[_0x2ac46d(0x2b8)],this['frameWidth']=_0x42689c[_0x2ac46d(0xa88)],this[_0x2ac46d(0x57c)]=_0x42689c['frameHeight'];}}class _0xbba673{[_0x52a325(0x4c2)]=new _0x196a4f();[_0x52a325(0x9e4)]=new _0x114d97();get[_0x52a325(0x348)](){const _0x2aa59f=_0x52a325;return this[_0x2aa59f(0x4c2)][_0x2aa59f(0x348)]+this[_0x2aa59f(0x9e4)][_0x2aa59f(0x348)];}[_0x52a325(0x5e6)](_0x587c5a){const _0x1e2b65=_0x52a325;return _0x587c5a['forEach'](_0x197b28=>{const _0x336d65=a0_0x15bf;switch(_0x197b28['kind']){case _0x336d65(0x4c2):this['audio'][_0x336d65(0x823)](_0x197b28);break;case _0x336d65(0x9e4):this[_0x336d65(0x9e4)][_0x336d65(0x823)](_0x197b28);}}),this[_0x1e2b65(0x64d)]();}[_0x52a325(0x64d)](){const _0x4bd49d=_0x52a325;return{'audio':this[_0x4bd49d(0x4c2)][_0x4bd49d(0x64d)](),'video':this[_0x4bd49d(0x9e4)]['getReport'](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x4bd49d(0x3a4)](),'bitrate':this[_0x4bd49d(0x348)]};}[_0x52a325(0x82a)](){const _0x1785c2=_0x52a325;return Math[_0x1785c2(0x9bb)]((this['audio'][_0x1785c2(0x850)]+this['video'][_0x1785c2(0x850)])/0x2);}[_0x52a325(0x3a4)](){const _0x5b3827=_0x52a325;return this[_0x5b3827(0x4c2)][_0x5b3827(0x6df)]-this[_0x5b3827(0x9e4)][_0x5b3827(0x6df)];}}class _0x5c5766{[_0x52a325(0x906)]=0x0;[_0x52a325(0xa9c)]=0x0;[_0x52a325(0x75d)]=0x0;['receiverPreviousTimestamp']=0x0;[_0x52a325(0x8e9)]=0x0;[_0x52a325(0x202)]=0x0;[_0x52a325(0x805)]=0x0;[_0x52a325(0x5d1)]=0x0;['senderTotalMessages']=0x0;[_0x52a325(0x51d)]=0x0;['senderTimeProcessing']=0x0;['receiverTimeProcessing']=0x0;[_0x52a325(0x850)]=0x0;get['bitrate'](){const _0x46670b=_0x52a325;return this[_0x46670b(0x769)]+this['receiverBitrate'];}get[_0x52a325(0x769)](){const _0x232b67=_0x52a325;return this[_0x232b67(0x906)]>0x0&&this[_0x232b67(0xa9c)]>0x0&&Date[_0x232b67(0x88b)]()-this[_0x232b67(0x906)]<_0x4f58d6?(this['senderCurrentBytes']-this[_0x232b67(0x202)])/(this['senderCurrentTimestamp']-this[_0x232b67(0xa9c)])*0x8*0x3e8:0x0;}get[_0x52a325(0x1ce)](){const _0x45620a=_0x52a325;return this[_0x45620a(0x75d)]>0x0&&this[_0x45620a(0x860)]>0x0&&Date['now']()-this[_0x45620a(0x75d)]<_0x4f58d6?(this['receiverCurrentBytes']-this['receiverPreviousBytes'])/(this[_0x45620a(0x75d)]-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}[_0x52a325(0x823)](_0x3aabb4){const _0x5cc421=_0x52a325;switch(_0x3aabb4['origin']){case _0x1347d1[_0x5cc421(0x87f)]:this[_0x5cc421(0x9c9)](_0x3aabb4);break;case _0x1347d1[_0x5cc421(0x1d3)]:this[_0x5cc421(0x899)](_0x3aabb4);}}[_0x52a325(0x64d)](){const _0x333ea0=_0x52a325;return{'bitrate':this['bitrate'],'senderBitrate':this[_0x333ea0(0x769)],'receiverBitrate':this[_0x333ea0(0x1ce)],'totalBytes':this[_0x333ea0(0x8cc)](),'senderTotalBytes':this[_0x333ea0(0x69b)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this['senderTotalMessages']+this[_0x333ea0(0x51d)],'senderTotalMessages':this[_0x333ea0(0x8a7)],'receiverTotalMessages':this[_0x333ea0(0x51d)],'timeProcessing':this['senderTimeProcessing']+this[_0x333ea0(0x7b3)],'senderTimeProcessing':this[_0x333ea0(0x57a)],'receiverTimeProcessing':this[_0x333ea0(0x7b3)],'roundTripTime':this[_0x333ea0(0x850)]};}['getTotalBytes'](){const _0x369966=_0x52a325;return this[_0x369966(0x8e9)]+this[_0x369966(0x805)];}['getSenderTotalBytes'](){return this['senderCurrentBytes'];}[_0x52a325(0x630)](){const _0x40dee9=_0x52a325;return this[_0x40dee9(0x805)];}[_0x52a325(0x9c9)](_0x4dad63){const _0x348540=_0x52a325;this[_0x348540(0x3a5)](_0x4dad63[_0x348540(0x349)]),this[_0x348540(0x3f0)](_0x4dad63[_0x348540(0x96b)]),this[_0x348540(0x8a7)]=_0x4dad63[_0x348540(0x7d1)],this['senderTimeProcessing']=_0x4dad63[_0x348540(0x2c2)],this[_0x348540(0x850)]=_0x4dad63[_0x348540(0x850)];}[_0x52a325(0x899)](_0x2b777e){const _0x129e69=_0x52a325;this[_0x129e69(0x732)](_0x2b777e[_0x129e69(0x349)]),this[_0x129e69(0x79b)](_0x2b777e['bytesReceived']),this[_0x129e69(0x51d)]=_0x2b777e[_0x129e69(0x596)],this[_0x129e69(0x7b3)]=_0x2b777e[_0x129e69(0x111)];}['setSenderTimestamp'](_0xc7be2e){const _0x1e0736=_0x52a325;_0xc7be2e>this[_0x1e0736(0x906)]&&(this['senderPreviousTimestamp']=this[_0x1e0736(0x906)],this[_0x1e0736(0x906)]=_0xc7be2e);}['setReceiverTimestamp'](_0x5c50a5){const _0x4cd925=_0x52a325;_0x5c50a5>this['receiverCurrentTimestamp']&&(this['receiverPreviousTimestamp']=this[_0x4cd925(0x75d)],this['receiverCurrentTimestamp']=_0x5c50a5);}[_0x52a325(0x3f0)](_0x184530){const _0x346233=_0x52a325;this[_0x346233(0x202)]=this[_0x346233(0x8e9)],this[_0x346233(0x8e9)]=_0x184530;}['setReceiverBytes'](_0x7ac5c3){const _0x1005e6=_0x52a325;this[_0x1005e6(0x5d1)]=this['receiverCurrentBytes'],this[_0x1005e6(0x805)]=_0x7ac5c3;}}class _0x27187d{[_0x52a325(0xf5)]=new Map();[_0x52a325(0x5b5)]=new Map();[_0x52a325(0x866)]=new _0x5c5766();get[_0x52a325(0x769)](){const _0x4ca4cd=_0x52a325;let _0x3b7dc3=0x0;return this[_0x4ca4cd(0xf5)][_0x4ca4cd(0x854)](_0x5edd64=>{_0x3b7dc3+=_0x5edd64['bitrate'];}),_0x3b7dc3+=this[_0x4ca4cd(0x866)]['senderBitrate'],_0x3b7dc3;}get['receiverBitrate'](){const _0x4bc468=_0x52a325;let _0x2e45ac=0x0;return this[_0x4bc468(0x5b5)][_0x4bc468(0x854)](_0x406d2b=>{const _0x4260af=_0x4bc468;_0x2e45ac+=_0x406d2b[_0x4260af(0x348)];}),_0x2e45ac+=this[_0x4bc468(0x866)]['receiverBitrate'],_0x2e45ac;}get[_0x52a325(0x348)](){const _0x192731=_0x52a325;return this[_0x192731(0x769)]+this[_0x192731(0x1ce)];}[_0x52a325(0x5e6)](_0x4e5556,_0xbb202){const _0x43d1b5=_0x52a325,_0x2c8ffc=[],_0x1e390a=[];return _0x4e5556 instanceof Array?_0x4e5556['forEach'](_0x3d0eb6=>{const _0xa723cb=a0_0x15bf;_0x3d0eb6[_0xa723cb(0x854)](_0x5e00ee=>{const _0x340e84=_0xa723cb;_0x55fa74[_0x340e84(0x8cd)](_0x5e00ee[_0x340e84(0x983)])&&_0x2c8ffc['push'](_0x5e00ee),_0x3e06d0['includes'](_0x5e00ee[_0x340e84(0x983)])&&_0x1e390a[_0x340e84(0x66e)](_0x5e00ee);});}):this['dataChannel'][_0x43d1b5(0x823)](_0x4e5556),_0x2c8ffc[_0x43d1b5(0x761)]>0x0&&_0xbb202?{...this['processInboundReports'](_0xbb202,_0x2c8ffc),'origin':_0x1347d1['Receiver'],'streamId':_0xbb202}:_0x1e390a[_0x43d1b5(0x761)]>0x0&&_0xbb202?{...this[_0x43d1b5(0x19e)](_0xbb202,_0x1e390a),'origin':_0x1347d1[_0x43d1b5(0x87f)],'streamId':_0xbb202}:void 0x0;}[_0x52a325(0x64d)](){const _0x7fee70=_0x52a325,_0x5e28c3={};this['senderStreams'][_0x7fee70(0x854)]((_0x338491,_0x203f0a)=>{const _0x131497=_0x7fee70;_0x5e28c3[_0x203f0a]=_0x338491[_0x131497(0x64d)]();});const _0x107116={};return this[_0x7fee70(0x5b5)][_0x7fee70(0x854)]((_0x917ff2,_0x24850e)=>{_0x107116[_0x24850e]=_0x917ff2['getReport']();}),{'bitrate':this[_0x7fee70(0x348)],'senderBitrate':this[_0x7fee70(0x769)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x5e28c3,'receiverStreams':_0x107116,'dataChannel':this[_0x7fee70(0x866)][_0x7fee70(0x64d)]()};}[_0x52a325(0x142)](_0xc3f57d,_0x49af61){const _0x45e5cc=_0x52a325;return this[_0x45e5cc(0x5b5)][_0x45e5cc(0xed)](_0xc3f57d)||this[_0x45e5cc(0x5b5)][_0x45e5cc(0x23c)](_0xc3f57d,new _0xbba673()),this[_0x45e5cc(0x5b5)][_0x45e5cc(0x627)](_0xc3f57d)['processReports'](_0x49af61);}[_0x52a325(0x19e)](_0x2c52e7,_0x5a798a){const _0x4fa071=_0x52a325;return this[_0x4fa071(0xf5)][_0x4fa071(0xed)](_0x2c52e7)||this[_0x4fa071(0xf5)]['set'](_0x2c52e7,new _0xbba673()),this[_0x4fa071(0xf5)]['get'](_0x2c52e7)[_0x4fa071(0x5e6)](_0x5a798a);}}class _0x15a1c5{[_0x52a325(0xfa)]=new Map();['scheduleTime']=0x0;[_0x52a325(0x5b8)]=0x0;[_0x52a325(0x84f)]=new Map();['objectStores']=new Map();[_0x52a325(0x800)]=new Map();['generativeAIContexts']=new Map();[_0x52a325(0x651)]=new Map();['vectorDatabases']=new Map();[_0x52a325(0x460)]=new Map();['externalStorages']=new Map();[_0x52a325(0x8a7)]=new Map();[_0x52a325(0x51d)]=new Map();['senderTimeProcessing']=new Map();[_0x52a325(0x7b3)]=new Map();['systemMessages']=new Map();[_0x52a325(0xbb)];[_0x52a325(0x64d)](){const _0x5d92c5=_0x52a325,_0x44c85e={};this[_0x5d92c5(0xfa)][_0x5d92c5(0x854)]((_0x2eeedf,_0x3c6cdd)=>{_0x44c85e[_0x3c6cdd]=_0x2eeedf['getReport']();});let _0x328413=0x0;this[_0x5d92c5(0x57a)][_0x5d92c5(0x854)](_0x5581b4=>{_0x328413+=_0x5581b4;});let _0x20eea9=0x0;this[_0x5d92c5(0x7b3)][_0x5d92c5(0x854)](_0xaa6b46=>{_0x20eea9+=_0xaa6b46;});const _0x5aced2=_0x328413+_0x20eea9;let _0x5d18d4={'messages':{'total':0x0}};this[_0x5d92c5(0xcd)][_0x5d92c5(0x854)](_0x27d20f=>{const _0x20e0e9=_0x5d92c5;Object[_0x20e0e9(0x5a9)](_0x27d20f)[_0x20e0e9(0x854)](_0x45b1cd=>{const _0x90fc27=_0x20e0e9;_0x5d18d4[_0x45b1cd]||(_0x5d18d4[_0x45b1cd]={}),Object['keys'](_0x27d20f[_0x45b1cd])[_0x90fc27(0x854)](_0x4bd9b7=>{_0x5d18d4[_0x45b1cd][_0x4bd9b7]||(_0x5d18d4[_0x45b1cd][_0x4bd9b7]=0x0),_0x5d18d4[_0x45b1cd][_0x4bd9b7]+=_0x27d20f[_0x45b1cd][_0x4bd9b7];});});});let _0x3a86a8=0x0,_0xaa51c7=0x0,_0x3aea46=0x0,_0x271d69=0x0,_0x3f0faf=0x0;return this[_0x5d92c5(0x84f)][_0x5d92c5(0x854)](_0x5351ac=>{const _0x1abfc1=_0x5d92c5;_0xaa51c7+=_0x5351ac['messagesSent'],_0x3aea46+=_0x5351ac[_0x1abfc1(0x596)],_0x271d69+=_0x5351ac[_0x1abfc1(0x96b)],_0x3f0faf+=_0x5351ac[_0x1abfc1(0x434)];}),this['objectStores'][_0x5d92c5(0x854)](_0x2b447d=>{const _0x3f19da=_0x5d92c5;_0x3a86a8+=_0x2b447d[_0x3f19da(0x3db)],_0xaa51c7+=_0x2b447d[_0x3f19da(0x7d1)],_0x3aea46+=_0x2b447d[_0x3f19da(0x596)],_0x271d69+=_0x2b447d[_0x3f19da(0x96b)],_0x3f0faf+=_0x2b447d['bytesReceived'];}),this[_0x5d92c5(0x800)]['forEach'](_0x5b96b8=>{const _0x18b8a8=_0x5d92c5;_0x3a86a8+=_0x5b96b8[_0x18b8a8(0x3db)],_0xaa51c7+=_0x5b96b8[_0x18b8a8(0x7d1)],_0x3aea46+=_0x5b96b8[_0x18b8a8(0x596)],_0x271d69+=_0x5b96b8[_0x18b8a8(0x96b)],_0x3f0faf+=_0x5b96b8['bytesReceived'];}),this[_0x5d92c5(0x691)][_0x5d92c5(0x854)](_0x1c0578=>{const _0x1c2dea=_0x5d92c5;_0x3a86a8+=_0x1c0578[_0x1c2dea(0x3db)],_0xaa51c7+=_0x1c0578['messagesSent'],_0x3aea46+=_0x1c0578[_0x1c2dea(0x596)],_0x271d69+=_0x1c0578[_0x1c2dea(0x96b)],_0x3f0faf+=_0x1c0578[_0x1c2dea(0x434)];}),this[_0x5d92c5(0x651)][_0x5d92c5(0x854)](_0x22c565=>{const _0x169510=_0x5d92c5;_0x3a86a8+=_0x22c565[_0x169510(0x3db)],_0xaa51c7+=_0x22c565[_0x169510(0x7d1)],_0x3aea46+=_0x22c565['messagesReceived'],_0x271d69+=_0x22c565[_0x169510(0x96b)],_0x3f0faf+=_0x22c565[_0x169510(0x434)];}),this[_0x5d92c5(0x238)][_0x5d92c5(0x854)](_0x37f47e=>{const _0x1422bc=_0x5d92c5;_0x3a86a8+=_0x37f47e[_0x1422bc(0x3db)],_0xaa51c7+=_0x37f47e['messagesSent'],_0x3aea46+=_0x37f47e[_0x1422bc(0x596)],_0x271d69+=_0x37f47e[_0x1422bc(0x96b)],_0x3f0faf+=_0x37f47e[_0x1422bc(0x434)];}),this[_0x5d92c5(0x460)][_0x5d92c5(0x854)](_0x5c6aa4=>{const _0x44aadb=_0x5d92c5;_0x3a86a8+=_0x5c6aa4['storage'],_0xaa51c7+=_0x5c6aa4[_0x44aadb(0x7d1)],_0x3aea46+=_0x5c6aa4['messagesReceived'],_0x271d69+=_0x5c6aa4[_0x44aadb(0x96b)],_0x3f0faf+=_0x5c6aa4[_0x44aadb(0x434)];}),{'STVolatility':this[_0x5d92c5(0x2a4)](),'DTVolatility':this[_0x5d92c5(0x31a)](),'bitrate':this['getBitrate'](),'senderBitrate':this[_0x5d92c5(0x638)](),'receiverBitrate':this[_0x5d92c5(0x865)](),'totalStorageSize':_0x3a86a8,'totalMessages':_0xaa51c7+_0x3aea46,'totalMessagesSent':_0xaa51c7,'totalMessagesReceived':_0x3aea46,'totalBytes':_0x271d69+_0x3f0faf,'totalBytesSent':_0x271d69,'totalBytesReceived':_0x3f0faf,'systemMessages':_0x5d18d4,'timeProcessing':_0x5aced2,'nodes':_0x44c85e,'pubsubTopics':Object[_0x5d92c5(0x3fb)](this[_0x5d92c5(0x84f)]),'objectStores':Object[_0x5d92c5(0x3fb)](this[_0x5d92c5(0xa46)]),'keyValueDatabases':Object[_0x5d92c5(0x3fb)](this[_0x5d92c5(0x800)]),'generativeAIContexts':Object[_0x5d92c5(0x3fb)](this[_0x5d92c5(0x691)]),'generativeAIWorkers':Object[_0x5d92c5(0x3fb)](this['generativeAIWorkers']),'vectorDatabases':Object[_0x5d92c5(0x3fb)](this[_0x5d92c5(0x238)]),'graphDatabases':Object['fromEntries'](this[_0x5d92c5(0x460)]),'externalStorages':Object['fromEntries'](this[_0x5d92c5(0x70e)])};}['addRemoteNode'](_0x1822d3){const _0x2b619a=_0x52a325;this[_0x2b619a(0xfa)][_0x2b619a(0x23c)](_0x1822d3,new _0x27187d());}[_0x52a325(0xaa0)](_0x49dfe2){const _0x318cc1=_0x52a325;this[_0x318cc1(0xfa)][_0x318cc1(0x4f4)](_0x49dfe2);}[_0x52a325(0x5e6)](_0x4be281,_0x35ba07,_0x2e1ddd){const _0x4b32c1=_0x52a325;_0x35ba07 instanceof Array||this[_0x4b32c1(0x3cd)](_0x4be281,_0x35ba07);const _0x52afe3=this[_0x4b32c1(0xfa)][_0x4b32c1(0x627)](_0x4be281)?.[_0x4b32c1(0x5e6)](_0x35ba07,_0x2e1ddd);_0x52afe3&&this['systemTopic'][_0x4b32c1(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0x4b32c1(0x5d9)],'content':{'type':_0x339ef9[_0x4b32c1(0x378)],'data':{..._0x52afe3,'nodeId':_0x4be281}}});}[_0x52a325(0x92b)](_0x624eca){const _0xf97993=_0x52a325;this[_0xf97993(0x415)](_0x624eca[_0xf97993(0x9fc)]),this[_0xf97993(0x4ea)](_0x624eca[_0xf97993(0x5b8)]),this[_0xf97993(0xbb)][_0xf97993(0x7da)]({'sourceId':_0x1ee970,'messageType':_0x5ebcbf[_0xf97993(0x5d9)],'content':{'type':_0x339ef9[_0xf97993(0x512)],'data':{'STVolatility':this[_0xf97993(0x2a4)](),'DTVolatility':this[_0xf97993(0x31a)]()}}});}[_0x52a325(0x4c9)](_0x5c784c,_0x260344,_0x5eb958){const _0x286513=_0x52a325;switch(_0x260344){case _0x539ab3[_0x286513(0x4e7)]:this[_0x286513(0x84f)][_0x286513(0x23c)](_0x5c784c,_0x5eb958);break;case _0x539ab3['ObjectStoreStats']:this[_0x286513(0xa46)][_0x286513(0x23c)](_0x5c784c,_0x5eb958);break;case _0x539ab3[_0x286513(0x752)]:this[_0x286513(0x800)][_0x286513(0x23c)](_0x5c784c,_0x5eb958);break;case _0x539ab3[_0x286513(0x5de)]:this[_0x286513(0x691)][_0x286513(0x23c)](_0x5c784c,_0x5eb958);break;case _0x539ab3['GenerativeAIWorkerStats']:this[_0x286513(0x651)][_0x286513(0x23c)](_0x5c784c,_0x5eb958);break;case _0x539ab3[_0x286513(0x76c)]:this[_0x286513(0x238)][_0x286513(0x23c)](_0x5c784c,_0x5eb958);break;case _0x539ab3[_0x286513(0x6ee)]:this[_0x286513(0x460)][_0x286513(0x23c)](_0x5c784c,_0x5eb958);break;case _0x539ab3[_0x286513(0x435)]:this[_0x286513(0x70e)][_0x286513(0x23c)](_0x5c784c,_0x5eb958);}}['registerSystemPublisher'](_0xacf1a){const _0x4da958=_0x52a325;this[_0x4da958(0xbb)]=_0xacf1a;}[_0x52a325(0x772)](){const _0x2d00d1=_0x52a325;delete this[_0x2d00d1(0xbb)];}[_0x52a325(0x2a4)](){const _0x45879b=_0x52a325;return this['scheduleTime']>0x0&&this[_0x45879b(0x675)]-_0x556fb2>0x0?(this[_0x45879b(0x675)]-_0x556fb2)/_0x556fb2:0x0;}[_0x52a325(0x31a)](){const _0x5e3d1d=_0x52a325;return this[_0x5e3d1d(0x5b8)]>0x0&&this[_0x5e3d1d(0x5b8)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x52a325(0x638)](){const _0xc5b8bb=_0x52a325;let _0x331e6e=0x0;return this[_0xc5b8bb(0xfa)][_0xc5b8bb(0x854)](_0x362b67=>{const _0x25b74b=_0xc5b8bb;_0x331e6e+=_0x362b67[_0x25b74b(0x769)];}),_0x331e6e;}[_0x52a325(0x865)](){const _0x23d6f3=_0x52a325;let _0x46f15c=0x0;return this['nodes'][_0x23d6f3(0x854)](_0x284f41=>{const _0x4e0e23=_0x23d6f3;_0x46f15c+=_0x284f41[_0x4e0e23(0x1ce)];}),_0x46f15c;}[_0x52a325(0x431)](){const _0x2d4eb5=_0x52a325;let _0x32e5cd=0x0;return this[_0x2d4eb5(0xfa)][_0x2d4eb5(0x854)](_0x2bf9c0=>{const _0x2fb7f1=_0x2d4eb5;_0x32e5cd+=_0x2bf9c0[_0x2fb7f1(0x348)];}),_0x32e5cd;}[_0x52a325(0x415)](_0x208c40){const _0x260150=_0x52a325;this[_0x260150(0x675)]=_0x208c40;}[_0x52a325(0x4ea)](_0x2dceba){const _0x4d3410=_0x52a325;this[_0x4d3410(0x5b8)]=_0x2dceba;}[_0x52a325(0x3cd)](_0x29efef,_0x203f49){const _0x1c566a=_0x52a325;switch(_0x203f49[_0x1c566a(0x4c1)]){case _0x1347d1[_0x1c566a(0x87f)]:this['processSenderReport'](_0x29efef,_0x203f49);break;case _0x1347d1[_0x1c566a(0x1d3)]:this['processReceiverReport'](_0x29efef,_0x203f49);}}[_0x52a325(0x9c9)](_0xdc78c3,_0x315132){const _0x210156=_0x52a325;this[_0x210156(0x8a7)][_0x210156(0x23c)](_0xdc78c3,_0x315132[_0x210156(0x7d1)]),this['senderTimeProcessing']['set'](_0xdc78c3,_0x315132[_0x210156(0x2c2)]);}['processReceiverReport'](_0x3673e2,_0x596c29){const _0x5a7dcc=_0x52a325;this[_0x5a7dcc(0x51d)][_0x5a7dcc(0x23c)](_0x3673e2,_0x596c29[_0x5a7dcc(0x596)]),this[_0x5a7dcc(0x7b3)][_0x5a7dcc(0x23c)](_0x3673e2,_0x596c29[_0x5a7dcc(0x111)]),this[_0x5a7dcc(0xcd)][_0x5a7dcc(0x23c)](_0x3673e2,_0x596c29[_0x5a7dcc(0xcd)]);}}class _0x5c6582{[_0x52a325(0x3f7)];[_0x52a325(0x115)]=new Set();[_0x52a325(0x2ec)];[_0x52a325(0x811)];['statsReporting'];['statsReport']=new _0x15a1c5();constructor(_0x57799c){const _0x560de1=_0x52a325;this[_0x560de1(0x3f7)]=_0x57799c,this[_0x560de1(0x3f7)][_0x560de1(0x698)]['registerSystemSource'](this[_0x560de1(0xf6)]),this[_0x560de1(0x811)]=this[_0x560de1(0x6ca)](),this[_0x560de1(0x722)]=this[_0x560de1(0x8af)]();}[_0x52a325(0x93c)](){const _0x4384ac=_0x52a325;this[_0x4384ac(0x3f7)]['mediator'][_0x4384ac(0x540)](this[_0x4384ac(0xf6)]),this[_0x4384ac(0x722)](),this[_0x4384ac(0x811)]();}['addRemoteNode'](_0x5cb037){const _0x3701ad=_0x52a325;this[_0x3701ad(0x115)][_0x3701ad(0xa24)](_0x5cb037),this['statsReport'][_0x3701ad(0x763)](_0x5cb037);}['removeRemoteNode'](_0xcce6fe){const _0x22c833=_0x52a325;this[_0x22c833(0x115)][_0x22c833(0x4f4)](_0xcce6fe),this[_0x22c833(0xf6)][_0x22c833(0xaa0)](_0xcce6fe);}[_0x52a325(0x3b1)](_0x31fef4){const _0x2cf271=_0x52a325;if(_0x31fef4[_0x2cf271(0x38c)]['type']===_0x4194fa[_0x2cf271(0x5d9)]){const {nodeId:_0x2499d4,streamId:_0x5721f1,stats:_0x273149}=_0x31fef4['content'];this['statsReport']['processReports'](_0x2499d4,_0x273149,_0x5721f1);}}[_0x52a325(0x1fc)](_0x5c8261){const _0x18ff17=_0x52a325;switch(_0x5c8261['content'][_0x18ff17(0x983)]){case _0x539ab3[_0x18ff17(0x237)]:case _0x539ab3['KeyValueDatabaseStats']:case _0x539ab3[_0x18ff17(0x4e7)]:case _0x539ab3['GenerativeAIContextStats']:case _0x539ab3['GenerativeAIWorkerStats']:case _0x539ab3[_0x18ff17(0x76c)]:case _0x539ab3['GraphDatabaseStats']:case _0x539ab3[_0x18ff17(0x435)]:this[_0x18ff17(0xf6)][_0x18ff17(0x4c9)](_0x5c8261[_0x18ff17(0x38c)][_0x18ff17(0x7cd)],_0x5c8261['content'][_0x18ff17(0x983)],_0x5c8261['content'][_0x18ff17(0x5f2)]);}}[_0x52a325(0x8af)](){return _0x4e41bf['setInterval'](()=>{const _0x1d20f4=a0_0x15bf,_0x332ca8=this[_0x1d20f4(0xf6)]['getReport']();_0x2d5d47[_0x1d20f4(0x109)](_0x422206['Stats'],_0x1d20f4(0x2cb),_0x332ca8),(0x0,_0x51a03b[_0x1d20f4(0x9a0)])((0x0,_0x51a03b[_0x1d20f4(0x449)])(_0x36dffc['getFirestore'](),'developers/'+this[_0x1d20f4(0x3f7)][_0x1d20f4(0x793)]+_0x1d20f4(0x1b3)),{'clusterId':this['configs'][_0x1d20f4(0x285)],'nodeId':this['configs']['localNode'][_0x1d20f4(0x8ef)](),'nodeType':this[_0x1d20f4(0x3f7)][_0x1d20f4(0x8df)][_0x1d20f4(0x983)],'timestamp':(0x0,_0x51a03b[_0x1d20f4(0x8c0)])(),'report':_0x332ca8}),_0x2d5d47['logEvent']('stats',{'clusterId':this[_0x1d20f4(0x3f7)][_0x1d20f4(0x285)],'nodeId':this[_0x1d20f4(0x3f7)][_0x1d20f4(0x8df)][_0x1d20f4(0x8ef)](),'nodeType':this[_0x1d20f4(0x3f7)][_0x1d20f4(0x8df)][_0x1d20f4(0x983)],'data':{'report':_0x332ca8}});},_0x4f58d6);}[_0x52a325(0x6ca)](){const _0x3b4684=_0x52a325;let _0x29ae4d=!0x1,_0xc239ae=Date[_0x3b4684(0x88b)]();return _0x4e41bf[_0x3b4684(0x750)](async()=>{const _0x48d04c=_0x3b4684;if(_0x29ae4d)return;if(_0x29ae4d=!0x0,0x0===this[_0x48d04c(0x115)][_0x48d04c(0x1af)])return delete this[_0x48d04c(0x2ec)],void(_0x29ae4d=!0x1);const _0x80d736=Date[_0x48d04c(0x88b)]();this[_0x48d04c(0x924)]();try{await this[_0x48d04c(0x3f7)][_0x48d04c(0x698)][_0x48d04c(0x518)](this[_0x48d04c(0x2ec)]);}catch(_0x2f440f){}this[_0x48d04c(0xf6)][_0x48d04c(0x92b)]({'secheduleTime':_0x80d736-_0xc239ae,'durationTime':Date[_0x48d04c(0x88b)]()-_0x80d736}),_0xc239ae=_0x80d736,_0x29ae4d=!0x1;},_0x556fb2);}['findNextNodeId'](){const _0x31d7b2=_0x52a325;let _0x2926fe,_0x791c42=!0x1;this[_0x31d7b2(0x2ec)]&&(this[_0x31d7b2(0x115)][_0x31d7b2(0xed)](this[_0x31d7b2(0x2ec)])||delete this[_0x31d7b2(0x2ec)]);for(const _0x450d21 of this[_0x31d7b2(0x115)])if(_0x2926fe||(_0x2926fe=_0x450d21),this[_0x31d7b2(0x2ec)]!==_0x450d21){if(_0x791c42)return void(this[_0x31d7b2(0x2ec)]=_0x450d21);}else _0x791c42=!0x0,delete this[_0x31d7b2(0x2ec)];this[_0x31d7b2(0x2ec)]||(this['nextNodeId']=_0x2926fe);}}class _0x49cd8e{[_0x52a325(0x1d6)];[_0x52a325(0x30a)];['systemTopic'];constructor(_0x3b27a9,_0x287772){const _0x20a2e1=_0x52a325;this[_0x20a2e1(0x1d6)]=_0x3b27a9,this[_0x20a2e1(0x30a)]=_0x287772;}[_0x52a325(0x75b)](_0x5a3b40){const _0x25d8e9=_0x52a325;this[_0x25d8e9(0xbb)]=_0x5a3b40;}[_0x52a325(0x772)](){const _0x1011a4=_0x52a325;delete this[_0x1011a4(0xbb)];}}class _0x2a1cce extends _0x49cd8e{[_0x52a325(0x1d6)];[_0x52a325(0x30a)];[_0x52a325(0x4a4)];constructor(_0x10acf5,_0x3911b1,_0xb8cc62){const _0x51c9e7=_0x52a325;super(_0x10acf5,_0x3911b1),this[_0x51c9e7(0x1d6)]=_0x10acf5,this[_0x51c9e7(0x30a)]=_0x3911b1,this[_0x51c9e7(0x4a4)]=_0xb8cc62;}['subscribe'](_0x1e8c7f,_0xa57f1,_0x3d0a22){const _0x5d1b53=_0x52a325;if(this['destination'][_0x5d1b53(0x7d4)]()===_0x5bfdb7[_0x5d1b53(0x689)][_0x5d1b53(0x609)]){const _0x44e263={'type':_0x54bcbf[_0x5d1b53(0x422)],'label':this[_0x5d1b53(0x30a)][_0x5d1b53(0x8f6)](),'ownerId':_0x1e8c7f,'trackKinds':_0xa57f1??this[_0x5d1b53(0x30a)][_0x5d1b53(0x590)](),'params':_0x3d0a22};this[_0x5d1b53(0xbb)]['publish']({'sourceId':this['source'][_0x5d1b53(0x7f1)](),'destinationIds':[this['source'][_0x5d1b53(0x134)]()],'messageType':_0x5ebcbf['Subscription'],'content':_0x44e263}),this['params']=_0x3d0a22;}}[_0x52a325(0xaae)](_0x1fb52e,_0x1cc7cd){const _0x1a0de1=_0x52a325;if(this['destination']['getContentType']()===_0x5bfdb7[_0x1a0de1(0x689)]['Media']){const _0x58ff03={'type':_0x54bcbf[_0x1a0de1(0x7f2)],'label':this[_0x1a0de1(0x30a)][_0x1a0de1(0x8f6)](),'ownerId':_0x1fb52e,'params':_0x1cc7cd};this['systemTopic'][_0x1a0de1(0x7da)]({'sourceId':this['source'][_0x1a0de1(0x7f1)](),'destinationIds':[this[_0x1a0de1(0x1d6)][_0x1a0de1(0x134)]()],'messageType':_0x5ebcbf[_0x1a0de1(0x67f)],'content':_0x58ff03}),this[_0x1a0de1(0x4a4)]=_0x1cc7cd;}}[_0x52a325(0xa50)](_0x39856b,_0x31c978,_0x1d57b5){const _0x4e022b=_0x52a325;if(this['destination'][_0x4e022b(0x7d4)]()===_0x5bfdb7[_0x4e022b(0x689)][_0x4e022b(0x609)]){const _0x42d552={'type':_0x54bcbf[_0x4e022b(0x19b)],'label':this['destination']['getLabel'](),'ownerId':_0x39856b,'trackKinds':_0x1d57b5??this[_0x4e022b(0x30a)]['getAvailableTrackKinds'](),'remainingTracks':_0x31c978};this['systemTopic'][_0x4e022b(0x7da)]({'sourceId':this[_0x4e022b(0x1d6)][_0x4e022b(0x7f1)](),'destinationIds':[this['source'][_0x4e022b(0x134)]()],'messageType':_0x5ebcbf[_0x4e022b(0x67f)],'content':_0x42d552});}}}class _0x5c544f{[_0x52a325(0xa7f)];[_0x52a325(0x8ae)];[_0x52a325(0x40e)];[_0x52a325(0xbb)];[_0x52a325(0xa65)]=new Set();[_0x52a325(0x83b)]=Date[_0x52a325(0x88b)]();[_0x52a325(0x4a4)];[_0x52a325(0x597)]=0x0;constructor(_0x1d6ebb,_0x475d8a,_0x370ee8,_0x39cf41){const _0x17618a=_0x52a325;this[_0x17618a(0xa7f)]=_0x475d8a,this[_0x17618a(0x8ae)]=_0x370ee8,this[_0x17618a(0x40e)]=_0x39cf41,_0x1d6ebb[_0x17618a(0x854)](_0x3565e1=>{const _0x2d869b=_0x17618a;this[_0x2d869b(0xa65)]['add']({'nodeId':_0x3565e1,'type':_0x4ac2bc[_0x2d869b(0x9dc)]});});}[_0x52a325(0x837)](){return this['tracks'];}['registerSystemPublisher'](_0x449bbe){this['systemTopic']=_0x449bbe;}[_0x52a325(0x772)](){const _0x4f3c80=_0x52a325;delete this[_0x4f3c80(0xbb)];}['reset'](_0x108ce6,_0x19a3f5){const _0x5dcd72=_0x52a325;this[_0x5dcd72(0x83b)]=Date['now'](),this[_0x5dcd72(0xa65)][_0x5dcd72(0xaa)](),_0x108ce6[_0x5dcd72(0x854)](_0x2a0aca=>{const _0x326dd4=_0x5dcd72;this[_0x326dd4(0xa65)]['add']({'nodeId':_0x2a0aca,'type':_0x4ac2bc[_0x326dd4(0x9dc)]});}),this['retryCount']+=0x1,this[_0x5dcd72(0xa7f)]=_0x19a3f5;}[_0x52a325(0x131)](_0x60276a,_0x36f210,_0x44f335,_0x3059a8,_0x23c2f3){const _0x1cf1c0=_0x52a325;if(this[_0x1cf1c0(0x597)]>0xa)throw new _0x162f0d(_0x162f0d['codes'][_0x1cf1c0(0x3b6)],{'answers':Array[_0x1cf1c0(0xa3e)](this[_0x1cf1c0(0xa65)])['map'](_0x2a9a5d=>({'nodeId':_0x2a9a5d[_0x1cf1c0(0x580)],'type':_0x2a9a5d[_0x1cf1c0(0x983)]}))});const _0x238b85=Array[_0x1cf1c0(0xa3e)](this[_0x1cf1c0(0xa65)])[_0x1cf1c0(0x943)](_0x1ed2ad=>_0x1ed2ad[_0x1cf1c0(0x580)]);this[_0x1cf1c0(0x4a4)]=_0x23c2f3,this['systemTopic']['publish']({'sourceId':_0x60276a,'destinationIds':_0x238b85,'messageType':_0x5ebcbf[_0x1cf1c0(0x67f)],'content':{'type':_0x54bcbf[_0x1cf1c0(0x7bb)],'label':_0x44f335,'ownerId':_0x36f210,'trackKinds':_0x3059a8,'params':_0x23c2f3}}),_0x2d5d47[_0x1cf1c0(0x109)](_0x422206['Subscription'],_0x1cf1c0(0x228),_0x60276a,_0x238b85);}[_0x52a325(0x420)](_0xd26371,_0x437026){const _0x4ef6e5=_0x52a325;switch(_0x437026[_0x4ef6e5(0x983)]){case _0x54bcbf[_0x4ef6e5(0x291)]:{const _0x34813d=this['currentDistance']>=_0x437026[_0x4ef6e5(0x3ce)]&&_0x437026[_0x4ef6e5(0x3ce)]<=this[_0x4ef6e5(0x8ae)],_0x3f7de1=Array[_0x4ef6e5(0xa3e)](this[_0x4ef6e5(0xa65)])['find'](_0x5918a3=>_0x5918a3[_0x4ef6e5(0x580)]===_0xd26371);_0x3f7de1[_0x4ef6e5(0x983)]=_0x34813d?_0x4ac2bc['Accepted']:_0x4ac2bc[_0x4ef6e5(0x8ec)],_0x3f7de1['cost']=_0x437026['cost'],_0x3f7de1[_0x4ef6e5(0x3ce)]=_0x437026[_0x4ef6e5(0x3ce)],_0x3f7de1[_0x4ef6e5(0xa25)]=_0x437026['streamId'],_0x3f7de1[_0x4ef6e5(0x850)]=Date[_0x4ef6e5(0x88b)]()-this[_0x4ef6e5(0x83b)],_0x3f7de1[_0x4ef6e5(0x4a4)]=this[_0x4ef6e5(0x4a4)],_0x3f7de1[_0x4ef6e5(0x3fa)]=_0x437026[_0x4ef6e5(0x3fa)],_0x3f7de1[_0x4ef6e5(0xa17)]=_0x437026[_0x4ef6e5(0xa17)],_0x3f7de1[_0x4ef6e5(0x5d7)]=_0x437026[_0x4ef6e5(0x7cd)],_0x2d5d47['log'](_0x422206['Subscription'],(_0x34813d?'Accepted':'Rejected')+_0x4ef6e5(0x589),_0x3f7de1);break;}case _0x54bcbf[_0x4ef6e5(0x3e9)]:{const _0x5a6798=Array[_0x4ef6e5(0xa3e)](this['answers'])[_0x4ef6e5(0x7cc)](_0x2d0438=>_0x2d0438['nodeId']===_0xd26371);_0x5a6798[_0x4ef6e5(0x983)]=_0x4ac2bc[_0x4ef6e5(0x8ec)],_0x2d5d47[_0x4ef6e5(0x109)](_0x422206[_0x4ef6e5(0x67f)],_0x4ef6e5(0x70b),_0x5a6798);break;}}if(this[_0x4ef6e5(0x84c)]())return this[_0x4ef6e5(0x4d7)]();}['chooseAnswer'](){const _0x37092b=_0x52a325,_0x42dc67=Array[_0x37092b(0xa3e)](this[_0x37092b(0xa65)])[_0x37092b(0x6f8)](_0x408264=>_0x408264[_0x37092b(0x983)]===_0x4ac2bc[_0x37092b(0x8e8)])[_0x37092b(0x536)]((_0x11437a,_0xac81c7)=>_0x11437a[_0x37092b(0x7b0)]===_0xac81c7[_0x37092b(0x7b0)]?_0x11437a[_0x37092b(0x850)]-_0xac81c7[_0x37092b(0x850)]:_0x11437a[_0x37092b(0x7b0)]-_0xac81c7['cost']);if(0x0===_0x42dc67[_0x37092b(0x761)])throw new _0x162f0d(_0x162f0d['codes'][_0x37092b(0x3b6)],{'answers':Array['from'](this[_0x37092b(0xa65)])['map'](_0xb4346e=>({'nodeId':_0xb4346e[_0x37092b(0x580)],'type':_0xb4346e[_0x37092b(0x983)]}))});return _0x2d5d47[_0x37092b(0x109)](_0x422206['Subscription'],'Chosen\x20answer',_0x42dc67[0x0],this[_0x37092b(0xa65)]),_0x42dc67[0x0];}[_0x52a325(0x84c)](){const _0x2c48ba=_0x52a325;for(const _0x1c4e4a of this[_0x2c48ba(0xa65)])if(_0x1c4e4a[_0x2c48ba(0x983)]===_0x4ac2bc['Waiting'])return!0x1;return!0x0;}}class _0x23d860{[_0x52a325(0x7cd)];[_0x52a325(0x81c)];['listener']=_0x14acab();constructor(_0x3432f5,_0x1f1ecf){const _0x43227e=_0x52a325;this[_0x43227e(0x7cd)]=_0x3432f5,this[_0x43227e(0x81c)]=_0x1f1ecf;}[_0x52a325(0x8f6)](){const _0x2d00c9=_0x52a325;return this[_0x2d00c9(0x7cd)];}['getContentType'](){const _0x39647d=_0x52a325;return this[_0x39647d(0x81c)];}[_0x52a325(0x49c)](_0x6af9e8){const _0x21abd4=_0x52a325;_0x6af9e8[_0x21abd4(0x724)](this);}['registerDestination'](_0x865f60){_0x865f60['registerSubscriber'](this);}[_0x52a325(0x7da)](_0x143eae){const _0x2a37fd=_0x52a325;this[_0x2a37fd(0x966)][_0x2a37fd(0x7da)]({'topicLabel':this[_0x2a37fd(0x7cd)],'contentType':this['contentType'],'uuid':(0x0,_0x529b6e['v4'])(),'recipients':[],..._0x143eae});}[_0x52a325(0xaa1)](_0x1bbac0){const _0x550da9=_0x52a325;return this[_0x550da9(0x966)][_0x550da9(0xaa1)](_0x1bbac0);}['unregisterSource'](_0x558661){_0x558661['unregisterPublisher'](this);}['unregisterDestination'](_0x269c04){const _0x2e8db4=_0x52a325;_0x269c04[_0x2e8db4(0x6c5)](this);}}class _0x54f82e{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x52a325(0x4f6)];constructor(_0x43ea46){this['getPartsFromSubscription']=_0x43ea46;}get[_0x52a325(0x159)](){const _0x7d386c=_0x52a325;return this[_0x7d386c(0x634)][_0x7d386c(0x159)];}get['topics'](){const _0xd12a17=_0x52a325;return this[_0xd12a17(0x634)][_0xd12a17(0xa2a)];}[_0x52a325(0x6ea)](_0x11ff64,_0x2a95f6){const _0x1bff12=_0x52a325,_0x4d461b=this[_0x1bff12(0x4f6)](_0x2a95f6),_0x4300a5=_0x574b84(_0x11ff64);if(!_0x4d461b[_0x1bff12(0xf4)])throw new _0x162f0d(_0x162f0d[_0x1bff12(0x2a6)][_0x1bff12(0xa68)],{'message':_0x4300a5+':\x20'+_0x4d461b[_0x1bff12(0xf7)]+_0x1bff12(0x4cf)+_0x4d461b['contentType'],'subscriptionType':_0x11ff64,'subscription':_0x2a95f6,'subscriptonParts':_0x4d461b});const _0x187264=_0x56e86c(_0x11ff64,_0x4d461b);if(this[_0x1bff12(0x634)][_0x1bff12(0x159)][_0x1bff12(0xed)](_0x187264))throw new _0x162f0d(_0x162f0d[_0x1bff12(0x2a6)][_0x1bff12(0xa68)],{'message':_0x4300a5+':\x20'+_0x187264+_0x1bff12(0xa92),'subscriptionType':_0x11ff64,'subscription':_0x2a95f6,'subscriptonParts':_0x4d461b});this['maps'][_0x1bff12(0x159)]['set'](_0x187264,_0x2a95f6),this[_0x1bff12(0x868)](_0x4d461b,_0x2a95f6);}[_0x52a325(0xa36)](_0x50f7c9,_0x56278e){const _0x3902be=_0x52a325,_0x34ecaf=_0x56e86c(_0x56278e,_0x50f7c9),_0x4acd9f=this[_0x3902be(0x634)]['subscriptions']['get'](_0x34ecaf);if(!_0x4acd9f)throw new _0x162f0d(_0x162f0d[_0x3902be(0x2a6)][_0x3902be(0xa68)],{'message':_0x574b84(_0x56278e)+':\x20'+_0x34ecaf+_0x3902be(0x4c8),'subscriptionType':_0x56278e,'subscription':_0x4acd9f,'subscriptonParts':_0x50f7c9});this[_0x3902be(0x32f)](_0x4acd9f,_0x34ecaf,_0x50f7c9);}[_0x52a325(0x32f)](_0x2979d9,_0x30cf81,_0x3ef81c){const _0x402e68=_0x52a325;_0x3ef81c=_0x3ef81c||this[_0x402e68(0x4f6)](_0x2979d9),this[_0x402e68(0x634)][_0x402e68(0x159)][_0x402e68(0x4f4)](_0x30cf81),this['removeTopic'](_0x3ef81c,_0x2979d9);}[_0x52a325(0x868)](_0xd62a1,{source:_0x2afa0b,destination:_0x2593f5}){const _0x349c65=_0x52a325,{contentType:_0x3da2d2,label:_0x3a2d8d,remoteId:_0x18a3b4}=_0xd62a1,_0x2d8306=_0x69c24e(_0x3da2d2,_0x3a2d8d,_0x18a3b4),_0x112356=new _0x23d860(_0x2d8306,_0x3da2d2);_0x112356[_0x349c65(0x49c)](_0x2afa0b),_0x112356[_0x349c65(0x9d3)](_0x2593f5),this[_0x349c65(0x634)]['topics'][_0x349c65(0x23c)](_0x112356[_0x349c65(0x8f6)](),_0x112356);}[_0x52a325(0x260)](_0x3a680d,_0x1989d6){const _0x56d178=_0x52a325,{contentType:_0x8794a3,label:_0x46a74c,remoteId:_0x468d45}=_0x3a680d,_0x5c881a=_0x69c24e(_0x8794a3,_0x46a74c,_0x468d45),_0x33dcd8=this[_0x56d178(0x634)][_0x56d178(0xa2a)][_0x56d178(0x627)](_0x5c881a);_0x33dcd8&&(this[_0x56d178(0x4d1)](_0x33dcd8,_0x1989d6),this[_0x56d178(0x634)][_0x56d178(0xa2a)][_0x56d178(0x4f4)](_0x5c881a));}[_0x52a325(0x4d1)](_0x3113b1,{source:_0x33ea15,destination:_0x30d605}){const _0x57b2e3=_0x52a325;_0x3113b1[_0x57b2e3(0x49a)](_0x33ea15),_0x3113b1[_0x57b2e3(0xa69)](_0x30d605);}[_0x52a325(0x85f)](_0x511b0d){const _0x526447=_0x52a325;this[_0x526447(0x634)]['subscriptions']['forEach']((_0x57b6a9,_0x36a6b7)=>{const _0x1acd01=_0x526447;_0x36a6b7['endsWith'](_0x511b0d)&&this[_0x1acd01(0x32f)](_0x57b6a9,_0x36a6b7);});}}class _0x18e2ee{[_0x52a325(0x3f7)];[_0x52a325(0x8ae)];[_0x52a325(0x52c)]=new Map();[_0x52a325(0x8fa)]=_0x4131ea(new _0x2aa5f9(this[_0x52a325(0x27a)]['bind'](this),()=>_0x4e41bf[_0x52a325(0x28a)](0x64)),!0x0);[_0x52a325(0xa19)]=new Map();[_0x52a325(0x634)];[_0x52a325(0x5d4)]=new Map();constructor(_0x4d27a6,_0x33d991){const _0x1ec5c8=_0x52a325;this[_0x1ec5c8(0x3f7)]=_0x4d27a6,this[_0x1ec5c8(0x8ae)]=_0x33d991,this['maps']=new _0x54f82e(({source:_0x45c791,destination:_0x1daf28})=>_0x3f013f(_0x1daf28,_0x45c791));}[_0x52a325(0x6ea)](_0x500a2b,_0x1df47c){const _0x5c141c=_0x52a325,_0x2491c5=this['isMediaSource'](_0x500a2b)&&this['isMediaDestination'](_0x1df47c)?new _0x2a1cce(_0x500a2b,_0x1df47c):new _0x49cd8e(_0x500a2b,_0x1df47c);this['maps']['createSubscription'](_0x56b23b[_0x5c141c(0x562)],_0x2491c5),this[_0x5c141c(0x3f7)][_0x5c141c(0x698)][_0x5c141c(0x91e)](_0x2491c5);}[_0x52a325(0xa36)](_0x1ad418,_0x8ccd76,_0xecf5d8=''){const _0x4ae42a=_0x52a325,_0x192912={'contentType':_0x8ccd76,'label':_0x1ad418,'remoteId':_0xecf5d8},_0x358717=_0x56e86c(_0x56b23b[_0x4ae42a(0x562)],_0x192912),_0x2ac2ef=this['maps'][_0x4ae42a(0x159)][_0x4ae42a(0x627)](_0x358717);_0x2ac2ef&&this['closeSubscription'](_0x2ac2ef,_0x358717);}[_0x52a325(0x97b)](_0x46b0d7){const _0x4f5be2=_0x52a325;this[_0x4f5be2(0x936)](_0x46b0d7);}['handleContentSubscribeMediaStream']({label:_0x50a2f8,ownerId:_0x2c1a64,trackKinds:_0x3bb21a,params:_0x2fe6aa}){const _0x52f07a=_0x52a325;this[_0x52f07a(0x711)](_0x50a2f8,_0x2c1a64,_0x3bb21a,_0x2fe6aa);}[_0x52a325(0x288)]({ownerId:_0x3e49de,label:_0x431d16,params:_0x59025c}){const _0x35dcb6=_0x52a325,{subscriptionLabel:_0x52f0eb}=this[_0x35dcb6(0xa1a)](_0x431d16,_0x3e49de),_0x4970a7=this['getMediaSubscription'](_0x52f0eb);_0x4970a7&&_0x4970a7[_0x35dcb6(0xaae)](_0x3e49de,_0x59025c);}[_0x52a325(0x4ae)]({ownerId:_0x100d6a,label:_0x119060,trackKinds:_0x176c72,remainingTracks:_0x6331f9}){const _0x373e0b=_0x52a325,_0x11983e=_0x56e86c(_0x56b23b['Incoming'],{'contentType':_0x5bfdb7['ContentType'][_0x373e0b(0x609)],'label':_0x119060,'remoteId':_0x100d6a});this['clearSubscriptionRequestTimeout'](_0x11983e);const _0x2282be=this[_0x373e0b(0x52c)]['get'](_0x11983e);_0x2282be&&(this[_0x373e0b(0x3f7)][_0x373e0b(0x698)][_0x373e0b(0x540)](_0x2282be),this['subscriptionRequests']['delete'](_0x11983e));const {parts:_0x5c73cc,subscriptionLabel:_0x2acf0d}=this[_0x373e0b(0xa1a)](_0x119060,_0x100d6a),_0x4ef72d=this['getMediaSubscription'](_0x2acf0d);_0x4ef72d&&(_0x4ef72d['unsubscribe'](_0x100d6a,_0x6331f9,_0x176c72),0x0===_0x6331f9&&this[_0x373e0b(0xa36)](_0x5c73cc['label'],_0x5c73cc[_0x373e0b(0x81c)],_0x5c73cc['remoteId']));}[_0x52a325(0x883)](_0x229e82,{label:_0x5c3d17,ownerId:_0x514952,trackKinds:_0x5976c6,streamId:_0x2eb88d,params:_0x2774ee}){const _0x1f77a2=_0x52a325,_0x75db99=_0x56e86c(_0x56b23b['Incoming'],{'contentType':_0x5bfdb7[_0x1f77a2(0x689)][_0x1f77a2(0x609)],'label':_0x2eb88d,'remoteId':_0x229e82}),_0x2aaf0f=this[_0x1f77a2(0x634)][_0x1f77a2(0x159)][_0x1f77a2(0x627)](_0x75db99);if(!(_0x2aaf0f&&_0x2aaf0f instanceof _0x2a1cce))throw new _0x162f0d(_0x162f0d[_0x1f77a2(0x2a6)][_0x1f77a2(0xac1)],{'label':_0x75db99,'ownerId':_0x514952});this[_0x1f77a2(0x32f)](_0x2aaf0f,_0x75db99),this[_0x1f77a2(0x711)](_0x5c3d17,_0x514952,_0x5976c6,_0x2774ee);}[_0x52a325(0x708)](_0x57c43e,_0x4ae20a){const _0x33fa82=_0x52a325,{label:_0x1f235,ownerId:_0x43af19,trackKinds:_0x468f34,params:_0x2985ff}=_0x4ae20a,_0x5c9758=_0x56e86c(_0x56b23b[_0x33fa82(0x562)],{'contentType':_0x5bfdb7[_0x33fa82(0x689)][_0x33fa82(0x609)],'label':_0x1f235,'remoteId':_0x43af19});if(!this[_0x33fa82(0x52c)]['has'](_0x5c9758))throw new _0x162f0d(_0x162f0d[_0x33fa82(0x2a6)][_0x33fa82(0xac1)],{'label':_0x5c9758,'ownerId':_0x43af19,'streamId':_0x4ae20a[_0x33fa82(0xa25)],'requests':this['subscriptionRequests']});const _0x359f71=this['subscriptionRequests'][_0x33fa82(0x627)](_0x5c9758);if(_0x468f34['length']===_0x359f71[_0x33fa82(0x837)]()[_0x33fa82(0x761)]&&_0x468f34[_0x33fa82(0x95e)](_0x2c0db8=>_0x359f71[_0x33fa82(0x837)]()['includes'](_0x2c0db8)))try{const _0x376c53=_0x359f71['handleSubscriptionSystemEvents'](_0x57c43e,_0x4ae20a);if(!_0x376c53)return;this[_0x33fa82(0xaa1)](_0x376c53,_0x43af19,_0x1f235,_0x5c9758,_0x468f34);}catch(_0xd0b768){return void this[_0x33fa82(0x453)](_0x1f235,_0x43af19,_0x468f34,_0x2985ff);}}[_0x52a325(0x40b)](_0x4b5a62,{label:_0x94fe7c,ownerId:_0x5d8cf0,trackKinds:_0xc380fd}){const _0x153090=_0x52a325,_0x57f586=this[_0x153090(0x3f7)][_0x153090(0x698)][_0x153090(0x4ab)](_0x5d8cf0,_0x94fe7c);if(!_0x57f586)return;const _0x5728d9=_0x57f586[_0x153090(0x423)](),_0x2ca2e2=_0x57f586[_0x153090(0x587)]();_0x2ca2e2[_0x153090(0x729)](_0x301c93=>_0xc380fd[_0x153090(0x8cd)](_0x301c93))&&this[_0x153090(0x9e9)](_0x4b5a62,_0x94fe7c,_0x5728d9,_0x5d8cf0,_0x2ca2e2);}['handleContentRemoteMediaStreamTrackFail']({label:_0x1d3b90,providerId:_0x5846b3,ownerId:_0xf870a,streamId:_0xea14ab,trackKinds:_0x1454c2}){const _0x6c5bf2=_0x52a325;this[_0x6c5bf2(0x9e9)](_0x5846b3,_0x1d3b90,_0xea14ab,_0xf870a,_0x1454c2);}[_0x52a325(0x135)](_0x9a5ff4){const _0x202c79=_0x52a325;for(const _0x28e8f3 of this[_0x202c79(0x5d4)]['values']()){const {streamLabel:_0x16f8df,ownerId:_0x3083cb,trackKinds:_0x27790a,params:_0x4c2467}=_0x28e8f3;if(!_0x3083cb||!_0x27790a||!_0x16f8df)return;this[_0x202c79(0x8fa)][_0x202c79(0x66e)]({'label':_0x16f8df,'ownerId':_0x3083cb,'trackKinds':_0x27790a,'params':_0x4c2467,'remoteId':_0x9a5ff4});}}['removeSubscriptionsForNode'](_0x31bd1b){const _0x11b8f5=_0x52a325;this[_0x11b8f5(0x634)]['subscriptions'][_0x11b8f5(0x854)]((_0x42db11,_0x3392ca)=>{const _0x51b14c=_0x11b8f5;if(_0x3392ca[_0x51b14c(0x490)](_0x31bd1b)){if(_0x42db11[_0x51b14c(0x30a)][_0x51b14c(0x7d4)]()===_0x5bfdb7['ContentType']['Media']){const _0x102a72=_0x42db11['destination'];if(_0x102a72['getSubscribedTracks']()[_0x51b14c(0x761)]>0x0){const _0x38c53b={'type':_0x54bcbf[_0x51b14c(0x654)],'label':_0x102a72[_0x51b14c(0x8f6)](),'ownerId':_0x102a72[_0x51b14c(0x9a9)](),'trackKinds':_0x102a72[_0x51b14c(0x587)]()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x31bd1b,_0x38c53b);}}this[_0x51b14c(0x32f)](_0x42db11,_0x3392ca);}});}[_0x52a325(0x93c)](){const _0x358b8f=_0x52a325;this['maps'][_0x358b8f(0x159)][_0x358b8f(0x854)](this[_0x358b8f(0x32f)]['bind'](this));}[_0x52a325(0xaa1)](_0x1d15b9,_0x502da2,_0x2e7344,_0x34a3ed,_0x1f6077){const _0x432434=_0x52a325,_0x16bbfe=this['configs'][_0x432434(0x698)][_0x432434(0x4e3)](_0x1d15b9[_0x432434(0x580)]),_0x388357=this[_0x432434(0x3f7)][_0x432434(0x698)][_0x432434(0x4ab)](_0x502da2,_0x2e7344);this[_0x432434(0x945)](_0x34a3ed),this['subscriptionRequests']['has'](_0x34a3ed)&&(this['configs'][_0x432434(0x698)][_0x432434(0x540)](this[_0x432434(0x52c)][_0x432434(0x627)](_0x34a3ed)),this['subscriptionRequests'][_0x432434(0x4f4)](_0x34a3ed)),this[_0x432434(0x830)](_0x1d15b9,_0x502da2,_0x2e7344,_0x388357),_0x388357[_0x432434(0x63e)](_0x1d15b9[_0x432434(0xa25)]),_0x388357[_0x432434(0x8b4)](_0x1d15b9['nodeId']);const _0x1c59f0=_0x3f013f(_0x388357,_0x16bbfe),_0x4fa20f=_0x56e86c(_0x56b23b[_0x432434(0x562)],_0x1c59f0);this[_0x432434(0x634)]['subscriptions'][_0x432434(0xed)](_0x4fa20f)||this[_0x432434(0x6ea)](_0x16bbfe,_0x388357);const _0x14c764=this[_0x432434(0x634)][_0x432434(0x159)]['get'](_0x4fa20f);if(!(_0x14c764&&_0x14c764 instanceof _0x2a1cce))throw new _0x162f0d(_0x162f0d[_0x432434(0x2a6)][_0x432434(0xac1)],{'label':_0x34a3ed,'ownerId':_0x502da2});_0x2d5d47['logEvent']('subscription',{'clusterId':this[_0x432434(0x3f7)]['clusterId'],'nodeId':this[_0x432434(0x3f7)][_0x432434(0x8df)][_0x432434(0x8ef)](),'nodeType':this[_0x432434(0x3f7)][_0x432434(0x8df)][_0x432434(0x983)],'data':{'subscriptionLabel':_0x4fa20f,'chosenAnswer':_0x1d15b9}}),this[_0x432434(0x5d4)]['set'](_0x4fa20f,_0x1d15b9),_0x14c764[_0x432434(0xaa1)](_0x502da2,_0x1f6077,_0x1d15b9['params']);}[_0x52a325(0x936)]({ownerId:_0x5556ee,label:_0x3e2fb2}){const _0x27e06a=_0x52a325,_0x40d7ca=this[_0x27e06a(0x3f7)][_0x27e06a(0x698)]['getRemoteMediaStream'](_0x5556ee,_0x3e2fb2),[_0x2e2853,_0x3c9eab]=Array[_0x27e06a(0xa3e)](this[_0x27e06a(0x634)]['subscriptions'][_0x27e06a(0x6c8)]())['find'](([_0x410626,_0x333ade])=>-0x1!==_0x410626['indexOf'](_0x40d7ca[_0x27e06a(0x423)]()));return this[_0x27e06a(0x32f)](_0x3c9eab,_0x2e2853);}[_0x52a325(0x32f)](_0x371ce9,_0x23d4f7){const _0xa26e14=_0x52a325;this[_0xa26e14(0x3f7)]['mediator'][_0xa26e14(0x540)](_0x371ce9),this[_0xa26e14(0x634)]['closeSubscription'](_0x371ce9,_0x23d4f7);}['isMediaSource'](_0x43aafe){const _0x8e02a2=_0x52a325;return _0x43aafe[_0x8e02a2(0x3eb)]()[_0x8e02a2(0x8cd)](_0x5bfdb7[_0x8e02a2(0x689)][_0x8e02a2(0x609)]);}[_0x52a325(0x203)](_0x410026){const _0x2e6d6f=_0x52a325;return _0x410026['getContentType']()===_0x5bfdb7[_0x2e6d6f(0x689)][_0x2e6d6f(0x609)];}async[_0x52a325(0x453)](_0x3ae1eb,_0x26c0c2,_0xe36443,_0x5d7055){const _0x52f57a=_0x52a325;await _0x4e41bf[_0x52f57a(0x28a)](0x3e8);const _0x4662c1=_0x56e86c(_0x56b23b[_0x52f57a(0x562)],{'contentType':_0x5bfdb7[_0x52f57a(0x689)][_0x52f57a(0x609)],'label':_0x3ae1eb,'remoteId':_0x26c0c2});this[_0x52f57a(0x945)](_0x4662c1);const _0xe3ccd8=this[_0x52f57a(0x52c)]['get'](_0x4662c1);if(!_0xe3ccd8)throw new _0x162f0d(_0x162f0d[_0x52f57a(0x2a6)][_0x52f57a(0xac1)],{'label':_0x4662c1,'ownerId':_0x26c0c2});const _0x4cf51a=this['configs'][_0x52f57a(0x698)]['getConnections'](_0x5161f5=>_0x5161f5[_0x52f57a(0x948)]()),_0x3b1871=this[_0x52f57a(0x3f7)][_0x52f57a(0x698)][_0x52f57a(0x18a)](this[_0x52f57a(0x3f7)]['localNode'][_0x52f57a(0x8ef)](),_0x26c0c2);_0xe3ccd8[_0x52f57a(0x4da)](_0x4cf51a[_0x52f57a(0x943)](_0x371c62=>_0x371c62[_0x52f57a(0x134)]()),_0x3b1871);try{_0xe3ccd8[_0x52f57a(0x131)](this[_0x52f57a(0x3f7)][_0x52f57a(0x8df)][_0x52f57a(0x8ef)](),_0x26c0c2,_0x3ae1eb,_0xe36443,_0x5d7055),this[_0x52f57a(0x399)](_0x3ae1eb,_0x26c0c2,_0xe36443,_0x5d7055,_0x4662c1,_0xe3ccd8);}catch(_0x3fecfd){this[_0x52f57a(0x8fa)][_0x52f57a(0x66e)]({'label':_0x3ae1eb,'ownerId':_0x26c0c2,'trackKinds':_0xe36443,'params':_0x5d7055});}}[_0x52a325(0x711)](_0x2ed22d,_0x4b7db5,_0x5da911,_0x11909e){const _0x1518d3=_0x52a325;this[_0x1518d3(0x8fa)][_0x1518d3(0x66e)]({'label':_0x2ed22d,'ownerId':_0x4b7db5,'trackKinds':_0x5da911,'params':_0x11909e});}[_0x52a325(0x27a)]({label:_0xb1593f,ownerId:_0x10bd60,trackKinds:_0x3b290b,params:_0x5845fe,remoteId:_0x35a48d}){const _0x28ed5b=_0x52a325;if(!this['configs'][_0x28ed5b(0x698)]['getRemoteMediaStream'](_0x10bd60,_0xb1593f))return;if(!this[_0x28ed5b(0x3f7)]['mediator']['getLocalNode']()[_0x28ed5b(0x33e)]())throw new Error(_0x28ed5b(0x1ca));if(_0x35a48d){const _0x31db7f=this[_0x28ed5b(0x3f7)][_0x28ed5b(0x698)]['getRemoteNodes']()[_0x28ed5b(0x7cc)](_0x1f65bc=>_0x1f65bc[_0x28ed5b(0x8ef)]()===_0x35a48d),_0xac97ec=_0x31db7f?.[_0x28ed5b(0x33e)]();if(!_0x31db7f||!_0xac97ec)throw new Error(_0x28ed5b(0x99e));const _0x5aafb8=this[_0x28ed5b(0x3f7)][_0x28ed5b(0x698)][_0x28ed5b(0x37d)]()['find'](_0x338b4c=>_0x338b4c[_0x28ed5b(0x8ef)]()===_0x10bd60),_0x55191a=_0x5aafb8?.[_0x28ed5b(0x33e)]();if(!_0x5aafb8||!_0x55191a)throw new Error(_0x28ed5b(0x6a6));const _0x5c7416=this[_0x28ed5b(0x5d4)]['get'](_0xb1593f);if(_0x5c7416){const _0x5d1906=this['configs'][_0x28ed5b(0x698)][_0x28ed5b(0x37d)]()[_0x28ed5b(0x7cc)](_0x170576=>_0x170576[_0x28ed5b(0x8ef)]()===_0x5c7416[_0x28ed5b(0x580)]),_0x462c82=_0x5d1906?.[_0x28ed5b(0x33e)]();if(!_0x5d1906||!_0x462c82)throw new Error(_0x28ed5b(0x7fd));if(Math[_0x28ed5b(0x479)](_0x462c82-_0x55191a)<Math['abs'](_0xac97ec-_0x55191a))return;}}const _0x1e9fa4=this[_0x28ed5b(0x3f7)][_0x28ed5b(0x698)]['getConnections'](_0x37f647=>_0x37f647[_0x28ed5b(0x948)]()&&(!_0x35a48d||_0x37f647['getRemoteId']()===_0x35a48d));if(!_0x1e9fa4['length']||0x0===_0x1e9fa4[_0x28ed5b(0x761)])throw new Error(_0x28ed5b(0x676));const _0xcc1548=this[_0x28ed5b(0x3f7)][_0x28ed5b(0x698)]['getDistance'](this[_0x28ed5b(0x3f7)]['localNode'][_0x28ed5b(0x8ef)](),_0x10bd60),_0x48fcc5=_0x56e86c(_0x56b23b['Incoming'],{'contentType':_0x5bfdb7[_0x28ed5b(0x689)][_0x28ed5b(0x609)],'label':_0xb1593f,'remoteId':_0x10bd60});if(this['subscriptionRequests'][_0x28ed5b(0xed)](_0x48fcc5)){if(_0x35a48d)throw new Error(_0x28ed5b(0x195));const _0x3edb80=this['subscriptionRequests'][_0x28ed5b(0x627)](_0x48fcc5)['getTracks']();if(_0x3edb80[_0x28ed5b(0x761)]===_0x3b290b[_0x28ed5b(0x761)]&&_0x3edb80[_0x28ed5b(0x95e)](_0xf5531b=>_0x3b290b['includes'](_0xf5531b)))return;this[_0x28ed5b(0x3f7)][_0x28ed5b(0x698)]['unregisterSystemSource'](this[_0x28ed5b(0x52c)][_0x28ed5b(0x627)](_0x48fcc5)),this['subscriptionRequests'][_0x28ed5b(0x4f4)](_0x48fcc5),_0x3b290b=Array[_0x28ed5b(0xa3e)](new Set(_0x3b290b[_0x28ed5b(0xa93)](_0x3edb80))),this[_0x28ed5b(0x945)](_0x48fcc5);}const _0x590194=new _0x5c544f(_0x1e9fa4[_0x28ed5b(0x943)](_0x4fb7d0=>_0x4fb7d0[_0x28ed5b(0x134)]()),_0xcc1548,this[_0x28ed5b(0x8ae)],_0x3b290b);this[_0x28ed5b(0x3f7)][_0x28ed5b(0x698)][_0x28ed5b(0x91e)](_0x590194),this['subscriptionRequests'][_0x28ed5b(0x23c)](_0x48fcc5,_0x590194),_0x590194[_0x28ed5b(0x131)](this[_0x28ed5b(0x3f7)][_0x28ed5b(0x8df)][_0x28ed5b(0x8ef)](),_0x10bd60,_0xb1593f,_0x3b290b,_0x5845fe),this['setSubscriptionRequestTimeout'](_0xb1593f,_0x10bd60,_0x3b290b,_0x5845fe,_0x48fcc5,_0x590194);}[_0x52a325(0x945)](_0x3655b4){const _0xe06768=_0x52a325;this[_0xe06768(0xa19)][_0xe06768(0xed)](_0x3655b4)&&(clearTimeout(this[_0xe06768(0xa19)][_0xe06768(0x627)](_0x3655b4)),this[_0xe06768(0xa19)][_0xe06768(0x4f4)](_0x3655b4));}['setSubscriptionRequestTimeout'](_0x2163b9,_0x441ad7,_0xefe70a,_0xb0d7a7,_0x401f34,_0x5dd240){const _0x344456=_0x52a325;this[_0x344456(0x945)](_0x401f34),this[_0x344456(0xa19)][_0x344456(0x23c)](_0x401f34,setTimeout(()=>{const _0x557b2d=_0x344456;this[_0x557b2d(0xa19)][_0x557b2d(0x4f4)](_0x401f34);try{const _0x27787c=_0x5dd240[_0x557b2d(0x4d7)]();this['subscribe'](_0x27787c,_0x441ad7,_0x2163b9,_0x401f34,_0xefe70a);}catch(_0x12fd88){this[_0x557b2d(0x453)](_0x2163b9,_0x441ad7,_0xefe70a,_0xb0d7a7);}},0x7d0));}[_0x52a325(0x9e9)](_0x421381,_0x2f75ce,_0x536ac7,_0x145164,_0x350bac){const _0x5309cd=_0x52a325,{subscriptionLabel:_0x5e5383}=this[_0x5309cd(0xa1a)](_0x2f75ce,_0x145164),_0x435c69=this[_0x5309cd(0x9b4)](_0x5e5383),_0x147cb7=_0x435c69?.[_0x5309cd(0x4a4)];_0x435c69&&(_0x435c69[_0x5309cd(0xa50)](_0x145164,0x0),this[_0x5309cd(0xa36)](_0x536ac7,_0x5bfdb7[_0x5309cd(0x689)]['Media'],_0x421381)),this[_0x5309cd(0x711)](_0x2f75ce,_0x145164,_0x350bac,_0x147cb7);}[_0x52a325(0x9b4)](_0x593164){const _0xbffea3=_0x52a325,_0x2c1edd=this[_0xbffea3(0x634)][_0xbffea3(0x159)][_0xbffea3(0x627)](_0x593164);if(_0x2c1edd){if(!(_0x2c1edd instanceof _0x2a1cce))throw new _0x162f0d(_0x162f0d[_0xbffea3(0x2a6)][_0xbffea3(0xa68)],{'label':_0x593164,'subscription':_0x2c1edd});return _0x2c1edd;}}[_0x52a325(0xa1a)](_0x5bcee3,_0x1f5240){const _0x357bb6=_0x52a325,_0x1fc26c=this[_0x357bb6(0x8f1)](_0x5bcee3,_0x1f5240);return{'parts':_0x1fc26c,'subscriptionLabel':_0x56e86c(_0x56b23b[_0x357bb6(0x562)],_0x1fc26c)};}[_0x52a325(0x8f1)](_0x41bb4c,_0x1f38c9){const _0x52213d=_0x52a325,_0x38d4b7=this[_0x52213d(0x3f7)][_0x52213d(0x698)][_0x52213d(0x4ab)](_0x1f38c9,_0x41bb4c),_0x2304b1=_0x38d4b7[_0x52213d(0x7df)]();if(!_0x2304b1)throw new _0x162f0d(_0x162f0d[_0x52213d(0x2a6)][_0x52213d(0x3bb)],{'label':_0x41bb4c,'streamId':_0x38d4b7[_0x52213d(0x423)](),'ownerId':_0x1f38c9,'localId':this[_0x52213d(0x3f7)][_0x52213d(0x8df)][_0x52213d(0x8ef)]()});return{'contentType':_0x5bfdb7[_0x52213d(0x689)]['Media'],'label':_0x38d4b7[_0x52213d(0x423)](),'remoteId':_0x2304b1};}[_0x52a325(0x830)](_0x148e43,_0x1ad627,_0x1d6843,_0x1e268a){const _0x34c531=_0x52a325,_0x540392=_0x1e268a[_0x34c531(0x7df)]();if(_0x540392&&_0x540392!==_0x148e43[_0x34c531(0x580)]){const {parts:_0x90a617,subscriptionLabel:_0x3c5664}=this[_0x34c531(0xa1a)](_0x1d6843,_0x1ad627),_0x182151=this[_0x34c531(0x9b4)](_0x3c5664);_0x182151&&(_0x182151['unsubscribe'](_0x1ad627,0x0),this[_0x34c531(0xa36)](_0x90a617[_0x34c531(0x7cd)],_0x90a617[_0x34c531(0x81c)],_0x90a617[_0x34c531(0xf7)]));}}}class _0x4b476e{[_0x52a325(0x3f7)];[_0x52a325(0x9b6)];['maps'];constructor(_0x21d394,_0x41283a){const _0x4a3c1c=_0x52a325;this[_0x4a3c1c(0x3f7)]=_0x21d394,this[_0x4a3c1c(0x9b6)]=_0x41283a,this[_0x4a3c1c(0x634)]=new _0x54f82e(({source:_0x910d29,destination:_0x2ce694})=>_0x3f013f(_0x910d29,_0x2ce694));}[_0x52a325(0x6ea)](_0x1f6620,_0x231b48){const _0x37f02b=_0x52a325,_0x2e1ab0={'source':_0x1f6620,'destination':_0x231b48};this[_0x37f02b(0x634)][_0x37f02b(0x6ea)](_0x56b23b[_0x37f02b(0x62b)],_0x2e1ab0);}['removeSubscription'](_0x1aeeca,_0xcdd8c9,_0x1431cb=''){const _0x39e5e5=_0x52a325,_0x421dfd={'contentType':_0xcdd8c9,'label':_0x1aeeca,'remoteId':_0x1431cb};this[_0x39e5e5(0x634)][_0x39e5e5(0xa36)](_0x421dfd,_0x56b23b[_0x39e5e5(0x62b)]);}['handleSubscriptionSubscribeMediaStream'](_0x22790c,_0x4706af){const _0x596fd8=_0x52a325;let _0x220d26;_0x220d26=_0x4706af[_0x596fd8(0x3fa)]!==this[_0x596fd8(0x3f7)][_0x596fd8(0x8df)][_0x596fd8(0x8ef)]()?this[_0x596fd8(0x3f7)][_0x596fd8(0x698)]['getRemoteMediaStream'](_0x4706af[_0x596fd8(0x3fa)],_0x4706af[_0x596fd8(0x7cd)]):this[_0x596fd8(0x3f7)][_0x596fd8(0x698)][_0x596fd8(0x522)](_0x4706af['label']);const _0x91753=_0x56e86c(_0x56b23b[_0x596fd8(0x62b)],{'contentType':_0x5bfdb7['ContentType'][_0x596fd8(0x609)],'label':_0x220d26[_0x596fd8(0x447)](),'remoteId':_0x22790c}),_0x47c9a8=this[_0x596fd8(0x1d0)]();if(!this[_0x596fd8(0x634)][_0x596fd8(0x159)][_0x596fd8(0xed)](_0x91753)&&_0x47c9a8>=this[_0x596fd8(0x9b6)])return{'type':_0x54bcbf[_0x596fd8(0x2a3)],'ownerId':_0x4706af[_0x596fd8(0x3fa)],'label':_0x4706af[_0x596fd8(0x7cd)],'streamId':_0x220d26['getShareableStreamId'](),'trackKinds':_0x4706af[_0x596fd8(0xa17)],'params':_0x4706af[_0x596fd8(0x4a4)]};_0x220d26 instanceof _0x788214&&!_0x220d26[_0x596fd8(0x602)](_0x4706af['trackKinds'])&&_0x220d26[_0x596fd8(0xaa1)](_0x4706af[_0x596fd8(0x4a4)]),this['maps'][_0x596fd8(0x159)]['has'](_0x91753)||this[_0x596fd8(0x6ea)](_0x220d26[_0x596fd8(0x9df)](_0x22790c),this[_0x596fd8(0x3f7)]['mediator'][_0x596fd8(0x4e3)](_0x22790c));}[_0x52a325(0x4e5)](_0x42fdb6,{label:_0x138420,ownerId:_0x46612e,remainingTracks:_0xc7f6bb}){const _0x2889b9=_0x52a325;if(_0xc7f6bb>0x0)return;let _0x365821;_0x365821=_0x46612e!==this['configs']['localNode'][_0x2889b9(0x8ef)]()?this[_0x2889b9(0x3f7)][_0x2889b9(0x698)][_0x2889b9(0x4ab)](_0x46612e,_0x138420):this[_0x2889b9(0x3f7)]['mediator'][_0x2889b9(0x522)](_0x138420);const _0x1d284f=_0x365821[_0x2889b9(0x447)](),_0x299532=_0x5bfdb7[_0x2889b9(0x689)]['Media'];this['removeSubscription'](_0x1d284f,_0x299532,_0x42fdb6);}[_0x52a325(0x4ae)](_0x3983b0,{label:_0x1842fd,ownerId:_0x3556bf,trackKinds:_0x48f5f5}){const _0xb2aab6=_0x52a325;if(_0x3983b0!==_0x1ee970)return[];let _0x3c1274=[];for(const _0x298d03 of this['maps'][_0xb2aab6(0x159)]){const {source:_0xc0155f,destination:_0x2c4393}=_0x298d03[0x1];_0xc0155f['getLabel']()===_0x1842fd&&_0xc0155f[_0xb2aab6(0x9a9)]()===_0x3556bf&&_0x3c1274[_0xb2aab6(0x66e)]({'sourceId':this['configs']['localNode'][_0xb2aab6(0x8ef)](),'destinationIds':[_0x2c4393['getRemoteId']()],'messageType':_0x5ebcbf[_0xb2aab6(0x67f)],'content':{'type':_0x54bcbf[_0xb2aab6(0x654)],'label':_0x1842fd,'ownerId':_0x3556bf,'trackKinds':_0x48f5f5}});}return _0x3c1274;}[_0x52a325(0xa89)](_0xfd9661,_0x10a9ff){const _0xfe755a=_0x52a325,{label:_0x7e5d5c,ownerId:_0x828ca1,trackKinds:_0x35bc54,params:_0x5f41c7}=_0x10a9ff,{hasTracks:_0x51fc56,streamId:_0x2e9a3a,hasResolution:_0x4cf451,distance:_0x1b880a,subscriptionLabel:_0x547c25}=this[_0xfe755a(0x2e8)](_0xfd9661,_0x10a9ff);let _0x2731ce=this['getNumberOutgoingSubscriptions']()<this[_0xfe755a(0x9b6)]&&(_0x51fc56||_0x1b880a>-0x1)?_0x54bcbf[_0xfe755a(0x291)]:_0x54bcbf['CannotProvideMediaStream'];const _0x33b5f8=_0x1b880a<0x0?0xa:_0x1b880a;let _0x3a613e=_0x51fc56?_0x4cf451?_0x33b5f8:_0x33b5f8+0x0:_0x33b5f8+0xa;return _0x547c25&&this['maps'][_0xfe755a(0x159)][_0xfe755a(0xed)](_0x547c25)&&(_0x51fc56&&(_0x3a613e=0x0),_0x2731ce=_0x54bcbf[_0xfe755a(0x291)]),{'type':_0x2731ce,'cost':_0x3a613e,'distance':_0x1b880a,'label':_0x7e5d5c,'ownerId':_0x828ca1,'streamId':_0x2e9a3a,'trackKinds':_0x35bc54,'params':_0x5f41c7};}[_0x52a325(0x97b)](_0x3de796){const _0x1a18a1=_0x52a325,{label:_0x3e142b,ownerId:_0x64f09c}=_0x3de796,_0x1e2620=this[_0x1a18a1(0x3f7)][_0x1a18a1(0x698)]['getRemoteMediaStream'](_0x64f09c,_0x3e142b);this[_0x1a18a1(0x634)][_0x1a18a1(0x159)]['forEach'](_0x57d49b=>{const _0x23de51=_0x1a18a1;if(_0x57d49b['source'][_0x23de51(0x423)]()===_0x1e2620[_0x23de51(0x447)]()){const _0x3f75f3=_0x57d49b[_0x23de51(0x30a)];this[_0x23de51(0xa36)](_0x1e2620[_0x23de51(0x447)](),_0x5bfdb7['ContentType'][_0x23de51(0x609)],_0x3f75f3['getRemoteId']());}});}[_0x52a325(0x8ee)]({label:_0x899761}){const _0x317caf=_0x52a325,_0x1d8c95=this[_0x317caf(0x3f7)][_0x317caf(0x698)]['getLocalMediaStream'](_0x899761);this[_0x317caf(0x634)][_0x317caf(0x159)][_0x317caf(0x854)](_0x2b4fdf=>{const _0x2e3511=_0x317caf;if(_0x2b4fdf['source'][_0x2e3511(0x423)]()===_0x1d8c95[_0x2e3511(0x447)]()){const _0x62891b=_0x2b4fdf[_0x2e3511(0x30a)];this[_0x2e3511(0xa36)](_0x1d8c95[_0x2e3511(0x447)](),_0x5bfdb7['ContentType']['Media'],_0x62891b[_0x2e3511(0x134)]());}});}[_0x52a325(0x85f)](_0x478682){const _0x3c7d24=_0x52a325;this['maps'][_0x3c7d24(0x85f)](_0x478682);}[_0x52a325(0x93c)](){const _0x118c86=_0x52a325;this['maps'][_0x118c86(0x159)][_0x118c86(0x854)](this[_0x118c86(0x32f)][_0x118c86(0x3d2)](this));}[_0x52a325(0x32f)](_0x1913dc,_0x3628ac){const _0x2f40b5=_0x52a325;this[_0x2f40b5(0x634)][_0x2f40b5(0x32f)](_0x1913dc,_0x3628ac);}[_0x52a325(0x2e8)](_0x399f3c,{label:_0x19616c,ownerId:_0x4de9b9,trackKinds:_0x3114d7,params:_0x3a076a}){const _0x6285dd=_0x52a325;if(_0x4de9b9!==this[_0x6285dd(0x3f7)]['localNode'][_0x6285dd(0x8ef)]()){const _0x6448be=this['configs'][_0x6285dd(0x698)][_0x6285dd(0x4ab)](_0x4de9b9,_0x19616c);return _0x6448be&&_0x6448be['getProviderId']()!==_0x399f3c?{'hasTracks':_0x6448be[_0x6285dd(0x5f9)](_0x3114d7),'hasResolution':this['canProvideResolution'](_0x6448be[_0x6285dd(0x130)](),_0x3a076a),'streamId':_0x6448be[_0x6285dd(0x447)](),'distance':this[_0x6285dd(0x3f7)][_0x6285dd(0x698)][_0x6285dd(0x18a)](_0x399f3c,_0x4de9b9),'subscriptionLabel':_0x56e86c(_0x56b23b[_0x6285dd(0x62b)],{'contentType':_0x5bfdb7['ContentType'][_0x6285dd(0x609)],'label':_0x6448be[_0x6285dd(0x447)](),'remoteId':_0x399f3c})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x249414=this[_0x6285dd(0x3f7)]['mediator']['getLocalMediaStream'](_0x19616c);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x249414[_0x6285dd(0x447)](),'distance':0x0,'subscriptionLabel':_0x56e86c(_0x56b23b['Outgoing'],{'contentType':_0x5bfdb7[_0x6285dd(0x689)][_0x6285dd(0x609)],'label':_0x249414[_0x6285dd(0x447)](),'remoteId':_0x399f3c})};}[_0x52a325(0x1d0)](){const _0x56c757=_0x52a325;return Array[_0x56c757(0xa3e)](this[_0x56c757(0x634)]['subscriptions']['entries']())[_0x56c757(0x6f8)](([_0x2a77ed,{source:_0x3d16d2}])=>_0x2a77ed[_0x56c757(0x22f)](_0x56b23b[_0x56c757(0x62b)])&&_0x3d16d2[_0x56c757(0x7d4)]()===_0x5bfdb7[_0x56c757(0x689)]['Media'])[_0x56c757(0x761)];}[_0x52a325(0x425)](_0x1bd314,_0x45a714){const _0x1b500d=_0x52a325;if(!_0x45a714||!_0x45a714[_0x1b500d(0x9e4)]||'boolean'==typeof _0x45a714[_0x1b500d(0x9e4)]||!_0x45a714[_0x1b500d(0x9e4)][_0x1b500d(0x594)])return!0x0;const {width:_0x440594,height:_0x41a638}=_0x45a714[_0x1b500d(0x9e4)]['maxResolution'];return _0x1bd314[_0x1b500d(0x665)]>=_0x440594&&_0x1bd314[_0x1b500d(0x440)]>=_0x41a638;}}class _0x3a059d{[_0x52a325(0x3f7)];[_0x52a325(0x9b6)];['maxDistance'];[_0x52a325(0xbb)];[_0x52a325(0x7ec)];[_0x52a325(0x211)];constructor(_0x562ade,_0x7d4d2a,_0x50da8f){const _0x29ca66=_0x52a325;this[_0x29ca66(0x3f7)]=_0x562ade,this[_0x29ca66(0x9b6)]=_0x7d4d2a,this[_0x29ca66(0x8ae)]=_0x50da8f,this[_0x29ca66(0x3f7)][_0x29ca66(0x698)][_0x29ca66(0x91e)](this),this[_0x29ca66(0x7ec)]=new _0x18e2ee(this[_0x29ca66(0x3f7)],this[_0x29ca66(0x8ae)]),this['outgoingManager']=new _0x4b476e(this['configs'],this[_0x29ca66(0x9b6)]);}['registerSystemPublisher'](_0x130dc3){const _0xcca161=_0x52a325;this[_0xcca161(0xbb)]=_0x130dc3;}[_0x52a325(0x772)](){const _0x4e9cfb=_0x52a325;delete this[_0x4e9cfb(0xbb)];}[_0x52a325(0x93c)](){const _0x264496=_0x52a325;this[_0x264496(0x7ec)][_0x264496(0x93c)](),this[_0x264496(0x211)][_0x264496(0x93c)](),this[_0x264496(0x3f7)][_0x264496(0x698)][_0x264496(0x540)](this);}[_0x52a325(0x626)](_0x4874a7,_0x55d128){const _0x50d9f9=_0x52a325;this[_0x50d9f9(0x7ec)][_0x50d9f9(0x6ea)](_0x4874a7,_0x55d128);}['createOutgoingSubscription'](_0x42324d,_0x4f6ae3){const _0x397de9=_0x52a325;this[_0x397de9(0x211)]['createSubscription'](_0x42324d,_0x4f6ae3);}[_0x52a325(0x268)](_0x39c1b6,_0x444bb2,_0xc361da=''){const _0x38c09f=_0x52a325;this[_0x38c09f(0x7ec)][_0x38c09f(0xa36)](_0x39c1b6,_0x444bb2,_0xc361da);}['removeOutgoingSubscription'](_0x540a5d,_0x3428a4,_0x14b27f=''){const _0x1c7110=_0x52a325;try{this[_0x1c7110(0x211)][_0x1c7110(0xa36)](_0x540a5d,_0x3428a4,_0x14b27f);}catch(_0x975824){if(_0x975824 instanceof _0x162f0d&&_0x975824[_0x1c7110(0x15b)]===_0x162f0d[_0x1c7110(0x2a6)][_0x1c7110(0xa68)])return;}}['handleSubscriptionSystemEvents'](_0x378aa7){const _0xb0aa01=_0x52a325;switch(_0x378aa7[_0xb0aa01(0x38c)][_0xb0aa01(0x983)]){case _0x54bcbf['SubscribeMediaStream']:this[_0xb0aa01(0x749)](_0x378aa7[_0xb0aa01(0x2c0)],_0x378aa7[_0xb0aa01(0x38c)]);break;case _0x54bcbf['UnsubscribeMediaStream']:this[_0xb0aa01(0x211)][_0xb0aa01(0x4e5)](_0x378aa7[_0xb0aa01(0x2c0)],_0x378aa7[_0xb0aa01(0x38c)]);break;case _0x54bcbf['NeedMediaStream']:this[_0xb0aa01(0xa89)](_0x378aa7['sourceId'],_0x378aa7[_0xb0aa01(0x38c)]);break;case _0x54bcbf['RestartNeedMediaStream']:this['incomingManager'][_0xb0aa01(0x883)](_0x378aa7[_0xb0aa01(0x2c0)],_0x378aa7['content']);break;case _0x54bcbf[_0xb0aa01(0x291)]:case _0x54bcbf['CannotProvideMediaStream']:this['incomingManager'][_0xb0aa01(0x708)](_0x378aa7[_0xb0aa01(0x2c0)],_0x378aa7[_0xb0aa01(0x38c)]);break;case _0x54bcbf['MediaStreamUnavailable']:this[_0xb0aa01(0x7ec)][_0xb0aa01(0x40b)](_0x378aa7['sourceId'],_0x378aa7['content']);}}['handleContentSystemEvents'](_0x27d9b8){const _0x1d61fd=_0x52a325;switch(_0x27d9b8[_0x1d61fd(0x38c)][_0x1d61fd(0x983)]){case _0x539ab3['UnpublishMediaStream']:this[_0x1d61fd(0x7ec)]['handleContentUnpublishMediaStream'](_0x27d9b8[_0x1d61fd(0x38c)]),this[_0x1d61fd(0x211)][_0x1d61fd(0x97b)](_0x27d9b8[_0x1d61fd(0x38c)]);break;case _0x539ab3['SubscribeMediaStream']:this[_0x1d61fd(0x7ec)][_0x1d61fd(0x967)](_0x27d9b8['content']);break;case _0x539ab3[_0x1d61fd(0x7f2)]:this[_0x1d61fd(0x7ec)][_0x1d61fd(0x288)](_0x27d9b8[_0x1d61fd(0x38c)]);break;case _0x539ab3['UnsubscribeMediaStream']:this[_0x1d61fd(0x4ae)](_0x27d9b8[_0x1d61fd(0x2c0)],_0x27d9b8[_0x1d61fd(0x38c)]);break;case _0x539ab3[_0x1d61fd(0x890)]:this[_0x1d61fd(0x211)]['handleContentCloseMediaStream'](_0x27d9b8['content']);break;case _0x539ab3['ClosePubSubTopic']:this['handleCloseContent'](_0x27d9b8[_0x1d61fd(0x38c)][_0x1d61fd(0x7cd)],_0x5bfdb7['ContentType'][_0x1d61fd(0xa20)]);break;case _0x539ab3[_0x1d61fd(0x28b)]:this[_0x1d61fd(0x544)](_0x27d9b8['content'][_0x1d61fd(0x7cd)],_0x5bfdb7[_0x1d61fd(0x689)]['ObjectStore']);break;case _0x539ab3['CloseExternalStorageConnection']:this[_0x1d61fd(0x544)](_0x27d9b8[_0x1d61fd(0x38c)]['label'],_0x5bfdb7[_0x1d61fd(0x689)][_0x1d61fd(0x383)]);break;case _0x539ab3[_0x1d61fd(0x677)]:this[_0x1d61fd(0x544)](_0x27d9b8['content']['label'],_0x5bfdb7['ContentType']['KeyValueDatabase']);break;case _0x539ab3[_0x1d61fd(0x6c1)]:this[_0x1d61fd(0x544)](_0x27d9b8[_0x1d61fd(0x38c)]['label'],_0x5bfdb7[_0x1d61fd(0x689)][_0x1d61fd(0x7c5)]);break;case _0x539ab3[_0x1d61fd(0xa6e)]:this['handleCloseContent'](_0x27d9b8[_0x1d61fd(0x38c)][_0x1d61fd(0x7cd)],_0x5bfdb7['ContentType'][_0x1d61fd(0xa7b)]);break;case _0x539ab3[_0x1d61fd(0x395)]:case _0x539ab3[_0x1d61fd(0x94d)]:this[_0x1d61fd(0x544)](_0x27d9b8[_0x1d61fd(0x38c)][_0x1d61fd(0x7cd)],_0x5bfdb7[_0x1d61fd(0x689)][_0x1d61fd(0x2df)]);break;case _0x539ab3['RemoteMediaStreamTrackFail']:this[_0x1d61fd(0x7ec)]['handleContentRemoteMediaStreamTrackFail'](_0x27d9b8[_0x1d61fd(0x38c)]);}}['handleNodeSystemEvents']({content:_0xbf23be}){const _0x4596ef=_0x52a325;_0xbf23be[_0x4596ef(0x983)]===_0x747940['NodeLeave']&&this['removeSubscriptionsForNode'](_0xbf23be);}[_0x52a325(0x3b1)](_0x1d0fc6){const _0x558ed1=_0x52a325;_0x1d0fc6[_0x558ed1(0x38c)][_0x558ed1(0x983)]===_0x4194fa['OptimizationConnectionSuccess']&&this[_0x558ed1(0x7ec)]['handleOptimizationConnectionSuccess'](_0x1d0fc6[_0x558ed1(0x2c0)]);}[_0x52a325(0x4ae)](_0x5eea8b,_0x99cde1){const _0x12c6c4=_0x52a325;this[_0x12c6c4(0x7ec)][_0x12c6c4(0x4ae)](_0x99cde1),this[_0x12c6c4(0x211)]['handleContentUnsubscribeMediaStream'](_0x5eea8b,_0x99cde1)['forEach'](_0x330ec7=>this[_0x12c6c4(0xbb)][_0x12c6c4(0x7da)](_0x330ec7));}[_0x52a325(0x749)](_0x256d7a,_0x754a){const _0x1627c6=_0x52a325,_0x3ed07c=this['outgoingManager'][_0x1627c6(0x749)](_0x256d7a,_0x754a);if(_0x3ed07c&&(this[_0x1627c6(0xbb)][_0x1627c6(0x7da)]({'sourceId':this[_0x1627c6(0x3f7)][_0x1627c6(0x8df)][_0x1627c6(0x8ef)](),'destinationIds':[_0x256d7a],'messageType':_0x5ebcbf[_0x1627c6(0x67f)],'content':_0x3ed07c}),_0x3ed07c[_0x1627c6(0x983)]===_0x54bcbf[_0x1627c6(0x2a3)]))throw new _0x356a2c(_0x1627c6(0x6e0));}['handleSubscriptionNeedMediaStream'](_0x9064e5,_0x4ec7a8){const _0x5d3137=_0x52a325,_0x3b3a20=this['outgoingManager'][_0x5d3137(0xa89)](_0x9064e5,_0x4ec7a8);this['systemTopic'][_0x5d3137(0x7da)]({'sourceId':this[_0x5d3137(0x3f7)][_0x5d3137(0x8df)][_0x5d3137(0x8ef)](),'destinationIds':[_0x9064e5],'messageType':_0x5ebcbf[_0x5d3137(0x67f)],'content':_0x3b3a20});}['handleCloseContent'](_0x13ea01,_0x4a527c){const _0x401b28=_0x52a325;this[_0x401b28(0x268)](_0x13ea01,_0x4a527c),this[_0x401b28(0x6e5)](_0x13ea01,_0x4a527c);}[_0x52a325(0x85f)]({id:_0x227d96}){const _0x17eeff=_0x52a325;this['incomingManager'][_0x17eeff(0x85f)](_0x227d96),this['outgoingManager'][_0x17eeff(0x85f)](_0x227d96);}}class _0x58208c{[_0x52a325(0x7cd)];['listener']=_0x14acab();constructor(){const _0x100ccd=_0x52a325;this[_0x100ccd(0x7cd)]=0x0;}[_0x52a325(0x8f6)](){const _0x2d1261=_0x52a325;return this[_0x2d1261(0x7cd)];}[_0x52a325(0x7d4)](){const _0xf8aad=_0x52a325;return _0x5bfdb7[_0xf8aad(0x689)][_0xf8aad(0xab6)];}[_0x52a325(0x49c)](_0x57d4fa){const _0x183d44=_0x52a325;_0x57d4fa[_0x183d44(0x75b)](this);}['unregisterSource'](_0x38ff03){_0x38ff03['unregisterSystemPublisher']();}[_0x52a325(0x7da)](_0xd7fb79){const _0x467a31=_0x52a325;_0x2d5d47[_0x467a31(0x109)](_0x422206[_0x467a31(0x67b)],_0x467a31(0x975),_0xd7fb79[_0x467a31(0x2c0)],_0xd7fb79),this[_0x467a31(0x966)][_0x467a31(0x7da)]({'topicLabel':this['label'],'contentType':_0x5bfdb7[_0x467a31(0x689)][_0x467a31(0xab6)],'uuid':_0xd7fb79['uuid']??(0x0,_0x529b6e['v4'])(),'recipients':_0xd7fb79[_0x467a31(0x820)]??[],..._0xd7fb79});}[_0x52a325(0xaa1)](_0x2bfcea){const _0x1d7a22=_0x52a325;return this[_0x1d7a22(0x966)][_0x1d7a22(0xaa1)](_0x2bfcea);}}class _0x2db62d{['options'];[_0x52a325(0x372)]=[];['maxLayer'];[_0x52a325(0x115)]=new Map();[_0x52a325(0x913)]=_0x14acab();constructor(_0x9705e1){const _0x25b5e7=_0x52a325;this[_0x25b5e7(0x996)]=_0x9705e1,this[_0x25b5e7(0x8f0)]=(this[_0x25b5e7(0x996)]['maxConnections']-0x2*this[_0x25b5e7(0x996)][_0x25b5e7(0x5c1)])/0x2,this[_0x25b5e7(0x372)][_0x25b5e7(0x66e)]({'start':0x1,'end':this[_0x25b5e7(0x389)](0x1,0x1)-0x1});for(let _0x4abb44=0x0;_0x4abb44<this[_0x25b5e7(0x8f0)];++_0x4abb44)this['ranges'][_0x25b5e7(0x66e)]({'start':this[_0x25b5e7(0x389)](0x1,_0x4abb44+0x1),'end':this[_0x25b5e7(0x389)](0x1,_0x4abb44+0x2)-0x1});}[_0x52a325(0x389)](_0x53621a,_0x29f25a=0x1){const _0x489a63=_0x52a325;let _0x46a11b=this['options'][_0x489a63(0x8ae)]-this['options'][_0x489a63(0x5c1)],_0x40dbe6=0x1;for(let _0x5dd56a=0x1;_0x5dd56a<_0x29f25a;++_0x5dd56a)_0x46a11b*=this[_0x489a63(0x996)]['maxDistance']-this['options']['minConnections']-_0x5dd56a,_0x40dbe6*=this[_0x489a63(0x996)][_0x489a63(0x8ae)]-this[_0x489a63(0x996)][_0x489a63(0x5c1)]-_0x5dd56a+0x1;return _0x46a11b*this[_0x489a63(0x996)][_0x489a63(0x5c1)]+_0x53621a-_0x40dbe6;}[_0x52a325(0x919)](_0x1f3488){const _0xd0aab9=_0x52a325;let _0x53cc3c=0x0;for(;this[_0xd0aab9(0x372)][_0x53cc3c][_0xd0aab9(0x660)]<_0x1f3488;)_0x53cc3c+=0x1;return _0x53cc3c;}[_0x52a325(0x902)](){const _0x486e41=_0x52a325;return this[_0x486e41(0x996)][_0x486e41(0x5c1)];}[_0x52a325(0x2e6)](){const _0x370f04=_0x52a325;return this[_0x370f04(0x996)][_0x370f04(0x77f)];}[_0x52a325(0x58b)](){const _0x3e5166=_0x52a325;return this[_0x3e5166(0x996)][_0x3e5166(0x8ae)];}['getRemoteNodes'](){const _0x588be7=_0x52a325;return this[_0x588be7(0x115)];}[_0x52a325(0x2bb)](_0x13d664,_0x4ad34c){const _0x1602b5=_0x52a325;this[_0x1602b5(0x115)]['set'](_0x13d664,_0x4ad34c),this[_0x1602b5(0x913)]['publish']();}['deleteRemoteNode'](_0x1b0452){const _0x1112a2=_0x52a325;this[_0x1112a2(0x115)][_0x1112a2(0x4f4)](_0x1b0452),this[_0x1112a2(0x913)]['publish']();}[_0x52a325(0x11b)](_0x1a7784){const _0x19065b=_0x52a325;return this[_0x19065b(0x115)][_0x19065b(0xed)](_0x1a7784);}[_0x52a325(0xa76)](_0x22cbf6){const _0x4721df=_0x52a325;return this['remoteNodes'][_0x4721df(0x627)](_0x22cbf6);}[_0x52a325(0x2ed)](_0x38e758,_0x59620f){const _0x12924b=_0x52a325,_0x42f2e8=this['getRemoteNode'](_0x59620f)?.['getRank']()??0x0;return _0x38e758[_0x12924b(0x943)](_0xd5c6dc=>this[_0x12924b(0xa76)](_0xd5c6dc))[_0x12924b(0x6f8)](_0x21d6bb=>void 0x0!==_0x21d6bb)['sort']((_0x3beac8,_0x4646eb)=>Math[_0x12924b(0x479)](_0x42f2e8-(_0x3beac8&&_0x3beac8['getRank']()||0x1/0x0))-Math[_0x12924b(0x479)](_0x42f2e8-(_0x4646eb&&_0x4646eb['getRank']()||0x1/0x0)))[_0x12924b(0x943)](_0x3021ea=>_0x3021ea['getId']());}[_0x52a325(0x64c)](_0x6c6c61){const _0x31a61a=_0x52a325;return this[_0x31a61a(0x913)]['subscribe'](_0x6c6c61);}}class _0xe4b1c2{[_0x52a325(0x793)];[_0x52a325(0x285)];[_0x52a325(0x3fc)];['authService'];[_0x52a325(0x996)];[_0x52a325(0x3f7)];[_0x52a325(0x7a6)];[_0x52a325(0x2f4)];[_0x52a325(0x9ee)];[_0x52a325(0xab7)];['statsManager'];[_0x52a325(0x7c7)];['remediationManager'];[_0x52a325(0x3ed)];[_0x52a325(0xa31)];['systemTopic']=new _0x58208c();[_0x52a325(0x58f)];['localNode'];constructor(_0x45182d,_0x24ac34,_0x36aa8b,_0x2a7452,_0x46fb92,_0x1a5c17,_0x5500fa){const _0x24b4ff=_0x52a325;switch(this['vendorId']=_0x45182d,this[_0x24b4ff(0x285)]=_0x24ac34,this[_0x24b4ff(0x3fc)]=_0x36aa8b,this['authService']=_0x2a7452,this[_0x24b4ff(0x996)]=_0x46fb92,this[_0x24b4ff(0x3f7)]=_0x1a5c17,this['clusterEventEmitter']=_0x5500fa,_0x36aa8b['type']){case _0x5bfdb7[_0x24b4ff(0xa5e)][_0x24b4ff(0x73f)]:this[_0x24b4ff(0x8df)]=new _0x1fe200(_0x36aa8b['getId'](),_0x36aa8b[_0x24b4ff(0x89d)](),_0x36aa8b[_0x24b4ff(0x6c3)]());break;case _0x5bfdb7[_0x24b4ff(0xa5e)][_0x24b4ff(0x1f4)]:default:this['localNode']=new _0x1fff17(_0x36aa8b[_0x24b4ff(0x8ef)]());}const _0x31b05c=this[_0x24b4ff(0x9ec)]();this[_0x24b4ff(0xa31)]=new _0x2db62d(this['options']),this[_0x24b4ff(0x2f4)]=new _0x30b7f3(_0x31b05c,this[_0x24b4ff(0x996)]),this[_0x24b4ff(0x9ee)]=new _0x47ce4f(_0x31b05c,this['authService'],this[_0x24b4ff(0xa31)],this[_0x24b4ff(0x3f7)][_0x24b4ff(0x813)],this[_0x24b4ff(0x996)]),this[_0x24b4ff(0xab7)]=new _0x3a059d(_0x31b05c,this['options']['maxOutgoingSubscriptions'],this[_0x24b4ff(0xa31)]['getMaxDistance']()),this[_0x24b4ff(0x36c)]=new _0x5c6582(_0x31b05c),this[_0x24b4ff(0x7c7)]=new _0x5915bd(_0x31b05c),this['remediationManager']=new _0x11f10a(_0x31b05c),this[_0x24b4ff(0x3ed)]=new _0x218a10(_0x31b05c,this[_0x24b4ff(0xa31)]),this['systemTopicUnsubscribe']=this['initializeSystemTopic']();}[_0x52a325(0x807)](){const _0x4cab34=_0x52a325,_0x204d8c=this[_0x4cab34(0x9ec)]();this[_0x4cab34(0x9ee)]=new _0x47ce4f(_0x204d8c,this['authService'],this[_0x4cab34(0xa31)],this[_0x4cab34(0x3f7)]['iceServers'],this[_0x4cab34(0x996)]),this['subscriptionManager']=new _0x3a059d(_0x204d8c,this[_0x4cab34(0x996)]['maxOutgoingSubscriptions'],this[_0x4cab34(0xa31)][_0x4cab34(0x58b)]()),this['statsManager']=new _0x5c6582(_0x204d8c),this[_0x4cab34(0x7c7)]=new _0x5915bd(_0x204d8c),this[_0x4cab34(0x198)]=new _0x11f10a(_0x204d8c),this['nodeManager']=new _0x218a10(_0x204d8c,this[_0x4cab34(0xa31)]);const _0x215f6f=this[_0x4cab34(0x9ee)]['getConnectionGroup']();this[_0x4cab34(0x2f4)][_0x4cab34(0x6cb)]()[_0x4cab34(0x854)](_0x18dfe7=>{const _0x2ffc3c=_0x4cab34;this[_0x2ffc3c(0xab7)][_0x2ffc3c(0x50e)](_0x18dfe7,_0x215f6f),this[_0x2ffc3c(0xab7)][_0x2ffc3c(0x626)](_0x215f6f,_0x18dfe7),_0x18dfe7['reset']();}),this[_0x4cab34(0x2f4)][_0x4cab34(0x8fd)]()[_0x4cab34(0x854)](_0x44efd1=>{const _0x591dcf=_0x4cab34;this[_0x591dcf(0xab7)]['createOutgoingSubscription'](_0x44efd1,_0x215f6f),this[_0x591dcf(0xab7)][_0x591dcf(0x626)](_0x215f6f,_0x44efd1),_0x44efd1[_0x591dcf(0x4da)](),_0x44efd1[_0x591dcf(0x80b)]();}),this[_0x4cab34(0x2f4)][_0x4cab34(0x693)]()[_0x4cab34(0x854)](_0x5d4f04=>{const _0xa906de=_0x4cab34;this[_0xa906de(0xab7)][_0xa906de(0x50e)](_0x5d4f04,_0x215f6f),this['subscriptionManager'][_0xa906de(0x626)](_0x215f6f,_0x5d4f04),_0x5d4f04[_0xa906de(0x4da)](),this[_0xa906de(0x853)](_0x5d4f04);}),this['contentManager'][_0x4cab34(0x87b)]()[_0x4cab34(0x854)](_0x7763cd=>{const _0x477d94=_0x4cab34;this[_0x477d94(0xab7)][_0x477d94(0x50e)](_0x7763cd,_0x215f6f),this[_0x477d94(0xab7)][_0x477d94(0x626)](_0x215f6f,_0x7763cd),_0x7763cd[_0x477d94(0x4da)]();}),this[_0x4cab34(0x2f4)][_0x4cab34(0x64e)]()[_0x4cab34(0x854)](_0xc70440=>{const _0x51e421=_0x4cab34;this['subscriptionManager'][_0x51e421(0x50e)](_0xc70440,_0x215f6f),this[_0x51e421(0xab7)][_0x51e421(0x626)](_0x215f6f,_0xc70440),_0xc70440[_0x51e421(0x4da)]();}),this[_0x4cab34(0x2f4)][_0x4cab34(0xa1e)]()['forEach'](_0x1cfa5e=>{const _0x45319d=_0x4cab34;this[_0x45319d(0xab7)][_0x45319d(0x50e)](_0x1cfa5e,_0x215f6f),this[_0x45319d(0xab7)][_0x45319d(0x626)](_0x215f6f,_0x1cfa5e),_0x1cfa5e[_0x45319d(0x4da)]();}),this[_0x4cab34(0x2f4)][_0x4cab34(0x5d6)]()[_0x4cab34(0x854)](_0xcf27c9=>{const _0xf0ca8=_0x4cab34;this[_0xf0ca8(0xab7)][_0xf0ca8(0x50e)](_0xcf27c9,_0x215f6f),this[_0xf0ca8(0xab7)][_0xf0ca8(0x626)](_0x215f6f,_0xcf27c9),_0xcf27c9[_0xf0ca8(0x4da)]();}),this[_0x4cab34(0x58f)]=this[_0x4cab34(0x39e)]();}[_0x52a325(0x91e)](_0x1b3fd0){const _0x470802=_0x52a325;try{this[_0x470802(0xbb)]['registerSource'](_0x1b3fd0);}catch(_0x5f2ed6){this[_0x470802(0x1f5)](_0x5f2ed6,{});}}[_0x52a325(0x540)](_0x351634){const _0x40e46e=_0x52a325;try{this[_0x40e46e(0xbb)][_0x40e46e(0x49a)](_0x351634);}catch(_0x255d5e){this[_0x40e46e(0x1f5)](_0x255d5e,{});}}[_0x52a325(0x2cf)](_0x365353,_0x151266){const _0x39f0b2=_0x52a325;return this['connectionManager'][_0x39f0b2(0x2cf)](_0x365353,_0x151266);}[_0x52a325(0x4e3)](_0x13be65){const _0x2c5fa9=_0x52a325;try{return this['connectionManager'][_0x2c5fa9(0x4e3)](_0x13be65);}catch(_0x4d9b89){throw this['handleError'](_0x4d9b89,{});}}[_0x52a325(0x941)](_0x4a284a){const _0x5b50ee=_0x52a325;try{return this[_0x5b50ee(0x9ee)][_0x5b50ee(0x941)](_0x4a284a);}catch(_0x4ba1fd){throw this[_0x5b50ee(0x1f5)](_0x4ba1fd,{});}}['getRemoteMediaStream'](_0x204292,_0x33827a){const _0x290289=_0x52a325;try{return this[_0x290289(0x2f4)][_0x290289(0x6a3)](_0x563b6b=>_0x563b6b[_0x290289(0x9a9)]()===_0x204292&&_0x563b6b[_0x290289(0x8f6)]()===_0x33827a)[0x0];}catch(_0x548f32){throw this[_0x290289(0x1f5)](_0x548f32,{});}}[_0x52a325(0x522)](_0x3784c4){const _0x2c5d2b=_0x52a325;try{return this[_0x2c5d2b(0x2f4)][_0x2c5d2b(0x8f4)](_0x5b7d31=>_0x5b7d31[_0x2c5d2b(0x8f6)]()===_0x3784c4)[0x0];}catch(_0x543d3d){throw this[_0x2c5d2b(0x1f5)](_0x543d3d,{});}}[_0x52a325(0x81d)]=(..._0x5a5b98)=>{const _0x1b9055=_0x52a325;try{return this[_0x1b9055(0x7a6)][_0x1b9055(0x7a2)](..._0x5a5b98);}catch(_0x5249c3){throw this[_0x1b9055(0x1f5)](_0x5249c3,{});}};[_0x52a325(0xa05)](_0x189762){const _0x44e085=_0x52a325;try{this[_0x44e085(0x36c)][_0x44e085(0x763)](_0x189762);}catch(_0x121689){throw this[_0x44e085(0x1f5)](_0x121689,{});}}[_0x52a325(0x27d)](_0x4ee995){const _0x5c58ed=_0x52a325;try{this[_0x5c58ed(0x36c)]['removeRemoteNode'](_0x4ee995);}catch(_0x4c518a){throw this['handleError'](_0x4c518a,{});}}[_0x52a325(0x518)](_0x1d8fe8){const _0x1c0a0a=_0x52a325;return this[_0x1c0a0a(0x9ee)]['collectStats'](_0x1d8fe8);}async['initialize'](){const _0x647a58=_0x52a325;try{await this[_0x647a58(0x9ee)][_0x647a58(0x1a7)]();const _0x493dc9=await this['nodeManager'][_0x647a58(0x804)]();for(const _0x217275 of _0x493dc9)this[_0x647a58(0x9ee)][_0x647a58(0x2cf)](_0x217275);}catch(_0x3e1822){throw this[_0x647a58(0x1f5)](_0x3e1822,{});}}[_0x52a325(0x8b5)](_0x100583){const _0xb64fff=_0x52a325;this[_0xb64fff(0x8df)]['type']===_0x5bfdb7[_0xb64fff(0xa5e)]['User']&&(this[_0xb64fff(0x8df)][_0xb64fff(0x8be)](_0x100583['getEmail']()),this[_0xb64fff(0x8df)][_0xb64fff(0x5db)](_0x100583['getDisplayName']()));}[_0x52a325(0x93c)]({force:_0x461335=!0x1},_0x11394f=!0x1){const _0x2d933d=_0x52a325;if(_0x2d5d47[_0x2d933d(0x196)](_0x2d933d(0x2c5),{'clusterId':this[_0x2d933d(0x285)],'nodeId':this[_0x2d933d(0x8df)][_0x2d933d(0x8ef)](),'nodeType':this['localNode'][_0x2d933d(0x983)]}),!_0x461335&&this['connectionManager'][_0x2d933d(0x9a5)]())throw new _0x1d1fb5(_0x433410[_0x2d933d(0x439)],_0x2d933d(0x781));_0x2d5d47[_0x2d933d(0x194)](),this[_0x2d933d(0x58f)](),this[_0x2d933d(0x198)][_0x2d933d(0x93c)](),this[_0x2d933d(0x7c7)][_0x2d933d(0x93c)](),this['statsManager'][_0x2d933d(0x93c)](),this['subscriptionManager'][_0x2d933d(0x93c)](),this[_0x2d933d(0x9ee)][_0x2d933d(0x93c)](),this[_0x2d933d(0x2f4)][_0x2d933d(0x93c)](_0x11394f),this[_0x2d933d(0x3ed)]['close']();}[_0x52a325(0x615)](_0x5b6163){const _0xcebf46=_0x52a325;try{const _0x1b3f24=this['contentManager'][_0xcebf46(0x5e5)](_0x5b6163),_0x4548ec=this[_0xcebf46(0x9ee)]['getConnectionGroup']();return this[_0xcebf46(0xab7)]['createOutgoingSubscription'](_0x1b3f24,_0x4548ec),this[_0xcebf46(0xab7)]['createIncomingSubscription'](_0x4548ec,_0x1b3f24),_0x1b3f24;}catch(_0x35df47){throw this[_0xcebf46(0x1f5)](_0x35df47,{});}}async[_0x52a325(0x5d2)](_0x1160d3,_0x2cc572){const _0x394c5e=_0x52a325;try{const _0x5dee3e=this['contentManager'][_0x394c5e(0x370)](_0x1160d3,this[_0x394c5e(0x996)][_0x394c5e(0x700)],_0x2cc572),_0x3cd3dc=this[_0x394c5e(0x9ee)]['getConnectionGroup']();return this[_0x394c5e(0xab7)][_0x394c5e(0x50e)](_0x5dee3e,_0x3cd3dc),this[_0x394c5e(0xab7)][_0x394c5e(0x626)](_0x3cd3dc,_0x5dee3e),await _0x5dee3e[_0x394c5e(0x80b)](),_0x5dee3e;}catch(_0x5b2f0c){throw this[_0x394c5e(0x1f5)](_0x5b2f0c,{});}}async[_0x52a325(0x6dc)](_0x329a90,_0x413f72){const _0x4cad59=_0x52a325;try{if(!this[_0x4cad59(0x996)][_0x4cad59(0x4fd)])throw new _0x1d1fb5(_0x433410[_0x4cad59(0x3d3)],'Missing\x20external\x20storage\x20connector');if(!(this[_0x4cad59(0x3fc)]instanceof _0x574ee0))throw new _0x1d1fb5(_0x433410[_0x4cad59(0x586)],'Node\x20is\x20not\x20an\x20agent');const _0x539abd=this['options'][_0x4cad59(0x4fd)][_0x4cad59(0x627)](_0x413f72);if(!_0x539abd)throw new _0x1d1fb5(_0x433410[_0x4cad59(0x3d3)],_0x4cad59(0x189));const _0x17d0d7=this[_0x4cad59(0x2f4)][_0x4cad59(0x229)](_0x329a90,_0x539abd),_0x3a980a=this['connectionManager'][_0x4cad59(0x31c)]();return this[_0x4cad59(0xab7)][_0x4cad59(0x50e)](_0x17d0d7,_0x3a980a),this[_0x4cad59(0xab7)]['createIncomingSubscription'](_0x3a980a,_0x17d0d7),await _0x17d0d7[_0x4cad59(0x807)](),_0x17d0d7;}catch(_0xf28c3f){throw this[_0x4cad59(0x1f5)](_0xf28c3f,{});}}async[_0x52a325(0x25c)](_0x5960d3,_0x5f2daf,_0x5d4818){const _0x46b64b=_0x52a325;try{_0x5d4818=_0x5d4818||this[_0x46b64b(0x996)][_0x46b64b(0x982)];const _0x6f34b5=await this[_0x46b64b(0x2f4)]['createKeyValueDatabase'](_0x5960d3,_0x5f2daf,_0x5d4818),_0x41c85c=this[_0x46b64b(0x9ee)][_0x46b64b(0x31c)]();return this[_0x46b64b(0xab7)][_0x46b64b(0x50e)](_0x6f34b5,_0x41c85c),this[_0x46b64b(0xab7)][_0x46b64b(0x626)](_0x41c85c,_0x6f34b5),await _0x6f34b5[_0x46b64b(0x807)](),this[_0x46b64b(0x853)](_0x6f34b5),_0x6f34b5;}catch(_0x3fecdc){throw this[_0x46b64b(0x1f5)](_0x3fecdc,{});}}async[_0x52a325(0x406)](_0x2b01fc){const _0x1e8cbe=_0x52a325;try{const _0x4503b7=await this['contentManager']['createJobDispatcher'](_0x2b01fc,this[_0x1e8cbe(0xa31)]),_0x3d7121=this[_0x1e8cbe(0x9ee)]['getConnectionGroup']();return this[_0x1e8cbe(0xab7)][_0x1e8cbe(0x50e)](_0x4503b7,_0x3d7121),this[_0x1e8cbe(0xab7)][_0x1e8cbe(0x626)](_0x3d7121,_0x4503b7),_0x4503b7[_0x1e8cbe(0x807)](),_0x4503b7;}catch(_0x31ce8d){throw this['handleError'](_0x31ce8d,{});}}async[_0x52a325(0x124)](_0x58fde2){const _0xa5b4f0=_0x52a325;throw new Error(_0xa5b4f0(0x210));}async[_0x52a325(0x84d)](_0x4b43c4){const _0x5805e3=_0x52a325;try{const _0x44100d=await this[_0x5805e3(0x2f4)]['createGenerativeAIContext'](_0x4b43c4,this[_0x5805e3(0xa31)]),_0x2d9fc5=this[_0x5805e3(0x9ee)][_0x5805e3(0x31c)]();return this[_0x5805e3(0xab7)][_0x5805e3(0x50e)](_0x44100d,_0x2d9fc5),this[_0x5805e3(0xab7)][_0x5805e3(0x626)](_0x2d9fc5,_0x44100d),_0x44100d[_0x5805e3(0x807)](),_0x44100d;}catch(_0x1a65e0){throw console[_0x5805e3(0x2a8)](_0x1a65e0),this[_0x5805e3(0x1f5)](_0x1a65e0,{});}}async[_0x52a325(0x5f3)](_0x229fe9){const _0x22007c=_0x52a325;try{if(!(this[_0x22007c(0x996)][_0x22007c(0x46b)]&&this[_0x22007c(0x996)][_0x22007c(0x682)]&&this[_0x22007c(0x996)][_0x22007c(0x4f1)]&&this[_0x22007c(0x996)]['nlpLibraryConnector']))throw new _0x1d1fb5(_0x433410[_0x22007c(0x8b7)],_0x22007c(0x925));if(!this[_0x22007c(0x3f7)][_0x22007c(0x1a2)])throw new _0x1d1fb5(_0x433410[_0x22007c(0x191)],_0x22007c(0x364));const _0x499e96=[];for(const [_0x4af1aa,_0x3effe5]of this[_0x22007c(0x996)][_0x22007c(0x46b)]){let _0x5336a3;_0x4af1aa===_0x5bfdb7[_0x22007c(0xc8)]['OpenAI']&&(_0x5336a3=this[_0x22007c(0x3f7)][_0x22007c(0x1a2)]),_0x4af1aa===_0x5bfdb7[_0x22007c(0xc8)][_0x22007c(0x37c)]&&(_0x5336a3=this['configs'][_0x22007c(0x6bc)]),_0x499e96['push'](new _0x3effe5(_0x5336a3));}const _0x1438e1=new this[(_0x22007c(0x996))][(_0x22007c(0x700))]('crewdle'),_0x222d0c=new this['options'][(_0x22007c(0x682))](),_0x4d1bbc=new this['options'][(_0x22007c(0x4f1))](this['configs']['openaiApiKey']),_0x128774=new this[(_0x22007c(0x996))][(_0x22007c(0xa39))]();let _0x54c0ee,_0x3f9875,_0x1aa673,_0x104870;if(this[_0x22007c(0x996)][_0x22007c(0x59a)]){if(!this[_0x22007c(0x3f7)][_0x22007c(0x799)])throw new _0x1d1fb5(_0x433410[_0x22007c(0x191)],_0x22007c(0x991));_0x54c0ee=new this[(_0x22007c(0x996))][(_0x22007c(0x59a))](this[_0x22007c(0x3f7)][_0x22007c(0x799)]);}if(this['options']['aiSearchConnector']){if(!this[_0x22007c(0x3f7)][_0x22007c(0x104)])throw new _0x1d1fb5(_0x433410[_0x22007c(0x191)],'Missing\x20AI\x20search\x20API\x20key');_0x3f9875=new this[(_0x22007c(0x996))][(_0x22007c(0x187))](this[_0x22007c(0x3f7)][_0x22007c(0x104)]);}if(this['options'][_0x22007c(0x39f)]&&(_0x1aa673=new this[(_0x22007c(0x996))][(_0x22007c(0x39f))]()),this[_0x22007c(0x996)][_0x22007c(0x26b)]){if(!this['configs'][_0x22007c(0x51f)])throw new _0x1d1fb5(_0x433410[_0x22007c(0x191)],_0x22007c(0x959));_0x104870=new Map();for(const [_0x50d7b1,_0x4e313d]of this[_0x22007c(0x996)][_0x22007c(0x26b)])_0x104870[_0x22007c(0x23c)](_0x50d7b1,new _0x4e313d(this[_0x22007c(0x3f7)]['ragApiKey']));}return await this[_0x22007c(0x2f4)][_0x22007c(0x26d)](_0x229fe9,_0x499e96,_0x1438e1,_0x222d0c,_0x4d1bbc,_0x128774,_0x54c0ee,_0x3f9875,_0x1aa673,_0x104870,this[_0x22007c(0x3f7)][_0x22007c(0x1a2)]);}catch(_0x5bd506){throw this[_0x22007c(0x1f5)](_0x5bd506,{});}}async['openGenerativeAIWorker'](_0x52a4b6){const _0x1b13e8=_0x52a325;try{if(!(this[_0x1b13e8(0x996)]['generativeAIWorkerConnectors']&&this[_0x1b13e8(0x996)][_0x1b13e8(0x682)]&&this[_0x1b13e8(0x996)]['fileConnector']&&this[_0x1b13e8(0x996)][_0x1b13e8(0xa39)]))throw new _0x1d1fb5(_0x433410[_0x1b13e8(0x8b7)],_0x1b13e8(0x925));if(!(this['authNode']instanceof _0x574ee0))throw new _0x1d1fb5(_0x433410[_0x1b13e8(0x586)],_0x1b13e8(0x3be));if(!this[_0x1b13e8(0x3f7)][_0x1b13e8(0x1a2)])throw new _0x1d1fb5(_0x433410[_0x1b13e8(0x191)],'Missing\x20OpenAI\x20API\x20key');const _0x2f620f=[];for(const [_0x2362d6,_0x31d316]of this[_0x1b13e8(0x996)][_0x1b13e8(0x46b)]){let _0x233d1c;_0x2362d6===_0x5bfdb7['GenerativeAIEngineType'][_0x1b13e8(0x27c)]&&(_0x233d1c=this[_0x1b13e8(0x3f7)][_0x1b13e8(0x1a2)]),_0x2362d6===_0x5bfdb7['GenerativeAIEngineType'][_0x1b13e8(0x37c)]&&(_0x233d1c=this[_0x1b13e8(0x3f7)][_0x1b13e8(0x6bc)]),_0x2f620f[_0x1b13e8(0x66e)](new _0x31d316(_0x233d1c));}const _0x334f87=new this[(_0x1b13e8(0x996))][(_0x1b13e8(0x700))](_0x1b13e8(0x7c1)),_0xa684a3=new this[(_0x1b13e8(0x996))]['documentParserConnector'](),_0x2afde1=new this[(_0x1b13e8(0x996))][(_0x1b13e8(0x4f1))](this[_0x1b13e8(0x3f7)][_0x1b13e8(0x1a2)]),_0x1d878d=new this[(_0x1b13e8(0x996))][(_0x1b13e8(0xa39))]();let _0x266099,_0x5f1a9a,_0x2485f0,_0x43b4f1;if(this['options'][_0x1b13e8(0x59a)]){if(!this[_0x1b13e8(0x3f7)]['searchApiKey'])throw new _0x1d1fb5(_0x433410[_0x1b13e8(0x191)],'Missing\x20search\x20API\x20key');_0x266099=new this['options'][(_0x1b13e8(0x59a))](this[_0x1b13e8(0x3f7)][_0x1b13e8(0x799)]);}if(this[_0x1b13e8(0x996)][_0x1b13e8(0x187)]){if(!this['configs']['aiSearchApiKey'])throw new _0x1d1fb5(_0x433410[_0x1b13e8(0x191)],_0x1b13e8(0x6c0));_0x5f1a9a=new this[(_0x1b13e8(0x996))]['aiSearchConnector'](this[_0x1b13e8(0x3f7)][_0x1b13e8(0x104)]);}if(this['options'][_0x1b13e8(0x39f)]&&(_0x2485f0=new this[(_0x1b13e8(0x996))]['queryFileConnector']()),this['options']['ragConnectors']){if(!this[_0x1b13e8(0x3f7)][_0x1b13e8(0x51f)])throw new _0x1d1fb5(_0x433410['ApiKeyMissing'],_0x1b13e8(0x959));_0x43b4f1=new Map();for(const [_0x1d6f5d,_0x42f4d2]of this[_0x1b13e8(0x996)][_0x1b13e8(0x26b)])_0x43b4f1['set'](_0x1d6f5d,new _0x42f4d2(this[_0x1b13e8(0x3f7)]['ragApiKey']));}const _0x14f6ea=await this[_0x1b13e8(0x2f4)][_0x1b13e8(0x59b)](_0x52a4b6,this[_0x1b13e8(0x3fc)],_0x2f620f,_0x334f87,_0xa684a3,_0x2afde1,_0x1d878d,_0x266099,_0x5f1a9a,_0x2485f0,_0x43b4f1,this[_0x1b13e8(0x3f7)][_0x1b13e8(0x1a2)]),_0x52664e=this[_0x1b13e8(0x9ee)][_0x1b13e8(0x31c)]();this[_0x1b13e8(0xab7)][_0x1b13e8(0x50e)](_0x14f6ea,_0x52664e),this[_0x1b13e8(0xab7)][_0x1b13e8(0x626)](_0x52664e,_0x14f6ea);const _0x1d494e=this[_0x1b13e8(0x3ed)][_0x1b13e8(0x5bc)]();return await _0x14f6ea['open'](0x0===_0x1d494e[_0x1b13e8(0x761)]||void 0x0),_0x14f6ea;}catch(_0xbb0cf0){throw this['handleError'](_0xbb0cf0,{});}}['openGraphDatabase'](_0x4b1a80){const _0x54b4ed=_0x52a325;try{if(!this[_0x54b4ed(0x996)][_0x54b4ed(0xabc)])throw new _0x1d1fb5(_0x433410['GraphDatabaseMissingConnector'],_0x54b4ed(0x1ec));if(!(this[_0x54b4ed(0x3fc)]instanceof _0x574ee0))throw new _0x1d1fb5(_0x433410[_0x54b4ed(0x586)],'Node\x20is\x20not\x20an\x20agent');const _0x196568=this[_0x54b4ed(0x2f4)][_0x54b4ed(0x90a)](_0x4b1a80,this['options'][_0x54b4ed(0xabc)]),_0x50ab86=this[_0x54b4ed(0x9ee)][_0x54b4ed(0x31c)]();return this[_0x54b4ed(0xab7)][_0x54b4ed(0x50e)](_0x196568,_0x50ab86),this[_0x54b4ed(0xab7)][_0x54b4ed(0x626)](_0x50ab86,_0x196568),_0x196568;}catch(_0x49a59b){throw this[_0x54b4ed(0x1f5)](_0x49a59b,{});}}[_0x52a325(0x476)](_0x374001){const _0x29d52c=_0x52a325;try{if(!this[_0x29d52c(0x996)]['vectorDatabaseConnector'])throw new _0x1d1fb5(_0x433410['VectorDatabaseMissingConnector'],_0x29d52c(0x6d6));if(!(this[_0x29d52c(0x3fc)]instanceof _0x574ee0))throw new _0x1d1fb5(_0x433410['NodeInvalidType'],'Node\x20is\x20not\x20an\x20agent');const _0x196b35=this[_0x29d52c(0x2f4)][_0x29d52c(0xee)](_0x374001,this[_0x29d52c(0x996)][_0x29d52c(0xa0f)]),_0x58868c=this['connectionManager'][_0x29d52c(0x31c)]();return this[_0x29d52c(0xab7)][_0x29d52c(0x50e)](_0x196b35,_0x58868c),this[_0x29d52c(0xab7)]['createIncomingSubscription'](_0x58868c,_0x196b35),_0x196b35;}catch(_0x16783d){throw this[_0x29d52c(0x1f5)](_0x16783d,{});}}[_0x52a325(0x6cb)](_0x37a0b2){try{return this['contentManager']['getPubSubTopics'](_0x37a0b2);}catch(_0x36d506){throw this['handleError'](_0x36d506,{});}}[_0x52a325(0x8fd)](_0x5b5a3a){const _0x40ab3e=_0x52a325;try{return this[_0x40ab3e(0x2f4)][_0x40ab3e(0x8fd)](_0x5b5a3a);}catch(_0x11929a){throw this[_0x40ab3e(0x1f5)](_0x11929a,{});}}[_0x52a325(0x829)](_0x3e5beb){const _0x20dba0=_0x52a325;try{return this[_0x20dba0(0x2f4)]['getExternalStorageConnections'](_0x3e5beb);}catch(_0x15b963){throw this[_0x20dba0(0x1f5)](_0x15b963,{});}}[_0x52a325(0x693)](_0x285f4a){const _0x1ee1b5=_0x52a325;try{return this[_0x1ee1b5(0x2f4)][_0x1ee1b5(0x693)](_0x285f4a);}catch(_0x16bd58){throw this[_0x1ee1b5(0x1f5)](_0x16bd58,{});}}[_0x52a325(0x179)](_0x32bfdc){const _0x2fe572=_0x52a325;try{return this[_0x2fe572(0x2f4)][_0x2fe572(0x179)](_0x32bfdc);}catch(_0x228c70){throw this[_0x2fe572(0x1f5)](_0x228c70,{});}}[_0x52a325(0xa56)](_0x48ec6a){const _0x535f60=_0x52a325;try{return this['contentManager'][_0x535f60(0xa56)](_0x48ec6a);}catch(_0x22f151){throw this[_0x535f60(0x1f5)](_0x22f151,{});}}[_0x52a325(0xa83)](_0x1f37b4){const _0x35a64a=_0x52a325;try{return this['contentManager'][_0x35a64a(0xa83)](_0x1f37b4);}catch(_0x2428c0){throw this[_0x35a64a(0x1f5)](_0x2428c0,{});}}[_0x52a325(0x5d6)](_0xe35a21){const _0x516c4c=_0x52a325;try{return this[_0x516c4c(0x2f4)]['getGraphDatabases'](_0xe35a21);}catch(_0x171f65){throw this['handleError'](_0x171f65,{});}}[_0x52a325(0x136)](_0x1a8a83,_0x158140){const _0xb10c8c=_0x52a325;if(!this[_0xb10c8c(0x3f7)][_0xb10c8c(0x6fc)][_0xb10c8c(0x8cd)](_0x24e3f3[_0xb10c8c(0xa02)]))throw new _0x1d1fb5(_0x433410[_0xb10c8c(0x5f1)],_0xb10c8c(0x217));try{return this[_0xb10c8c(0x2f4)][_0xb10c8c(0x136)](_0x1a8a83,_0x158140);}catch(_0x172f20){throw this[_0xb10c8c(0x1f5)](_0x172f20,{});}}[_0x52a325(0x64b)](_0xb2a45b,_0x439772){const _0x40be89=_0x52a325;if(!this[_0x40be89(0x3f7)][_0x40be89(0x6fc)]['includes'](_0x24e3f3[_0x40be89(0xa02)]))throw new _0x1d1fb5(_0x433410[_0x40be89(0x5f1)],_0x40be89(0x217));try{return this[_0x40be89(0x2f4)][_0x40be89(0x64b)](_0xb2a45b,_0x439772);}catch(_0x51007e){throw this[_0x40be89(0x1f5)](_0x51007e,{});}}[_0x52a325(0x8f4)](_0x5b9df6){const _0xb3f94c=_0x52a325;if(!this[_0xb3f94c(0x3f7)][_0xb3f94c(0x6fc)][_0xb3f94c(0x8cd)](_0x24e3f3[_0xb3f94c(0xa02)]))throw new _0x1d1fb5(_0x433410[_0xb3f94c(0x5f1)],_0xb3f94c(0x217));try{return this[_0xb3f94c(0x2f4)][_0xb3f94c(0x8f4)](_0x5b9df6);}catch(_0x5140ec){throw this[_0xb3f94c(0x1f5)](_0x5140ec,{});}}[_0x52a325(0x6a3)](_0x1a8700){const _0x450ea0=_0x52a325;if(!this[_0x450ea0(0x3f7)][_0x450ea0(0x6fc)][_0x450ea0(0x8cd)](_0x24e3f3[_0x450ea0(0xa02)]))throw new _0x1d1fb5(_0x433410[_0x450ea0(0x5f1)],_0x450ea0(0x217));try{return this[_0x450ea0(0x2f4)][_0x450ea0(0x6a3)](_0x1a8700);}catch(_0x558ba2){throw this[_0x450ea0(0x1f5)](_0x558ba2,{});}}[_0x52a325(0xa1e)](_0x86a220){const _0x2b7159=_0x52a325;try{return this['contentManager'][_0x2b7159(0xa1e)](_0x86a220);}catch(_0x5d0aba){throw this['handleError'](_0x5d0aba,{});}}[_0x52a325(0x18a)](_0x100027,_0x97a889){const _0x5d5be3=_0x52a325;return this['nodeManager'][_0x5d5be3(0x18a)](_0x100027,_0x97a889);}[_0x52a325(0x4ca)](){const _0x576ca1=_0x52a325;return this[_0x576ca1(0x3ed)][_0x576ca1(0x4ca)]();}[_0x52a325(0x37d)](_0x39f919){const _0x581bc4=_0x52a325;try{return this[_0x581bc4(0x3ed)][_0x581bc4(0x37d)](_0x39f919);}catch(_0x1644af){throw this[_0x581bc4(0x1f5)](_0x1644af,{});}}[_0x52a325(0x7db)](){const _0x5a74a3=_0x52a325;return this['connectionManager'][_0x5a74a3(0x7db)]();}[_0x52a325(0x464)](_0x2e3862){return this['nodeManager']['isNodeReady'](_0x2e3862);}async['handleSystemEvents'](_0x5617f9){const _0x10d663=_0x52a325;try{if(_0x2d5d47[_0x10d663(0x109)](_0x422206[_0x10d663(0x67b)],'Orchestrator\x20handleSystemEvents',this[_0x10d663(0x3ed)][_0x10d663(0x7f1)](),_0x5617f9),_0x391db2(_0x5617f9,this[_0x10d663(0x3ed)][_0x10d663(0x7f1)]()))return void this[_0x10d663(0x9ee)][_0x10d663(0x5f6)](_0x5617f9);switch(_0x5617f9[_0x10d663(0x91b)]){case _0x5ebcbf[_0x10d663(0xa32)]:this[_0x10d663(0x36c)][_0x10d663(0x1fc)](_0x5617f9),this[_0x10d663(0xab7)][_0x10d663(0x1fc)](_0x5617f9),this['contentManager']['handleContentSystemEvents'](_0x5617f9);break;case _0x5ebcbf[_0x10d663(0x695)]:this['subscriptionManager'][_0x10d663(0xc0)](_0x5617f9),this[_0x10d663(0x9ee)][_0x10d663(0xc0)](_0x5617f9),this['contentManager'][_0x10d663(0xc0)](_0x5617f9),this['nodeManager'][_0x10d663(0xc0)](_0x5617f9);break;case _0x5ebcbf['Detection']:this['remediationManager']['handleDetectionSystemEvents'](_0x5617f9);break;case _0x5ebcbf[_0x10d663(0x9e0)]:this[_0x10d663(0x198)][_0x10d663(0x8da)](_0x5617f9);break;case _0x5ebcbf[_0x10d663(0x5d9)]:this['detectionManager'][_0x10d663(0x37a)](_0x5617f9);break;case _0x5ebcbf[_0x10d663(0x67f)]:_0x5617f9[_0x10d663(0x38c)][_0x10d663(0x983)]!==_0x54bcbf[_0x10d663(0x19b)]?(this[_0x10d663(0xab7)]['handleSubscriptionSystemEvents'](_0x5617f9),this[_0x10d663(0x2f4)][_0x10d663(0x420)](_0x5617f9)):(this[_0x10d663(0x2f4)][_0x10d663(0x420)](_0x5617f9),this[_0x10d663(0xab7)][_0x10d663(0x420)](_0x5617f9));break;case _0x5ebcbf[_0x10d663(0x961)]:await this[_0x10d663(0x9ee)][_0x10d663(0x3b1)](_0x5617f9),this['statsManager']['handlePeerConnectionSystemEvents'](_0x5617f9),this['nodeManager'][_0x10d663(0x3b1)](_0x5617f9),this[_0x10d663(0xab7)][_0x10d663(0x3b1)](_0x5617f9);}}catch(_0x2eee97){throw _0x2d5d47[_0x10d663(0xf3)](_0x10d663(0x3ef),_0x2eee97),this[_0x10d663(0x1f5)](_0x2eee97,{});}}['handleError'](_0x3ef124,_0x22e7f2){const _0x28bd9e=_0x52a325;if(!(_0x3ef124 instanceof _0x356a2c)){if(_0x3ef124 instanceof _0x1d1fb5)throw _0x3ef124;if(!(_0x3ef124 instanceof Error))throw new _0x1d1fb5(_0x433410[_0x28bd9e(0x69d)],'Internal\x20unknown\x20error:\x20'+_0x3ef124);if(!(_0x3ef124 instanceof _0x162f0d))throw new _0x1d1fb5(_0x433410[_0x28bd9e(0x69d)],_0x28bd9e(0x222)+_0x3ef124[_0x28bd9e(0x787)]);switch(_0x3ef124[_0x28bd9e(0x15b)]){case _0x162f0d[_0x28bd9e(0x2a6)][_0x28bd9e(0xb7)]:case _0x162f0d['codes'][_0x28bd9e(0x382)]:case _0x162f0d[_0x28bd9e(0x2a6)][_0x28bd9e(0x200)]:case _0x162f0d[_0x28bd9e(0x2a6)][_0x28bd9e(0x246)]:case _0x162f0d[_0x28bd9e(0x2a6)][_0x28bd9e(0x2b4)]:case _0x162f0d[_0x28bd9e(0x2a6)]['InvalidDataChannel']:case _0x162f0d['codes'][_0x28bd9e(0x56a)]:case _0x162f0d[_0x28bd9e(0x2a6)][_0x28bd9e(0xd0)]:case _0x162f0d['codes'][_0x28bd9e(0xac1)]:case _0x162f0d[_0x28bd9e(0x2a6)]['SubscriptionRequestFailed']:case _0x162f0d[_0x28bd9e(0x2a6)]['SubscriptionRequestNoAnswer']:case _0x162f0d[_0x28bd9e(0x2a6)][_0x28bd9e(0xa68)]:}throw _0x2d5d47[_0x28bd9e(0x2a8)](_0x28bd9e(0xd3)+_0x3ef124['message'],{'clusterId':this[_0x28bd9e(0x285)],'nodeId':this['localNode'][_0x28bd9e(0x8ef)](),'nodeType':this[_0x28bd9e(0x8df)]['type']},_0x3ef124),new _0x1d1fb5(_0x433410[_0x28bd9e(0x69d)],'Internal\x20SDK\x20error:\x20'+_0x3ef124[_0x28bd9e(0x787)]);}}['getConfigs'](){const _0xae24d9=_0x52a325;return{'mediator':this,'vendorId':this[_0xae24d9(0x793)],'clusterId':this[_0xae24d9(0x285)],'localNode':this[_0xae24d9(0x8df)]};}['initializeSystemTopic'](){const _0x5d10db=_0x52a325;return this[_0x5d10db(0xbb)][_0x5d10db(0xaa1)](_0x3d5d2d=>{const _0x4df361=_0x5d10db,_0xc0e492=_0x176765(_0x3d5d2d,this['localNode'][_0x4df361(0x8ef)]()),_0x502d41=_0x3d5d2d[_0x4df361(0x91b)]===_0x5ebcbf[_0x4df361(0x5d9)]||_0x3d5d2d[_0x4df361(0x91b)]===_0x5ebcbf[_0x4df361(0x961)]&&_0x3d5d2d['content']['type']===_0x4194fa['Stats']?_0x422206['SystemStats']:_0x422206['System'];_0x2d5d47[_0x4df361(0x39d)](_0x502d41,_0x3d5d2d[_0x4df361(0x731)]+_0x4df361(0x1b6)+_0xc0e492,_0x3d5d2d),this[_0x4df361(0x3ef)](_0x3d5d2d)[_0x4df361(0x553)](_0x1b4c32=>{const _0x342733=_0x4df361;console[_0x342733(0x2a8)](_0x1b4c32);});});}async[_0x52a325(0x853)](_0x3a6068){const _0x3fe576=_0x52a325,{timingLogger:_0x275f05,logger:_0x44d009,logBeforeSync:_0x4c2be1,logAfterSync:_0x4999b6}=function(_0x2fa815,_0xa2c184){const _0x52dead=a0_0x15bf;if(!_0x2d5d47[_0x52dead(0x60f)](_0xa2c184))return _0x2d5d47['debug'](_0x52dead(0x387)+_0xa2c184),{..._0x160d2b(_0x2fa815,_0xa2c184),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x37df1c,logger:_0x3f9961}=_0x160d2b(_0x2fa815,_0xa2c184);let _0x36e51b=0x0;return _0x36e51b=Date[_0x52dead(0x88b)](),{'syncStartTime':_0x36e51b,'timingLogger':_0x37df1c,'logger':_0x3f9961,'logBeforeSync':()=>(_0x5170c7(_0xa2c184,_0x52dead(0xab2)),_0x37df1c[_0x52dead(0x88b)]()),'logAfterSync':(_0x534958,_0x4101c5)=>{const _0x3b7012=_0x52dead,_0x2c52a3=Date[_0x3b7012(0x88b)]();_0x5170c7(_0xa2c184,_0x3b7012(0xa5a)+_0x4101c5);const _0x10418f=(_0x2c52a3-_0x36e51b)/0x3e8,_0x3f6d68=(_0x2c52a3-_0x534958)/0x3e8;_0x2d5d47[_0x3b7012(0x109)](_0xa2c184,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x2fa815,_0x3b7012(0x620)+_0x10418f['toFixed'](0x2)+_0x3b7012(0x87a),_0x3b7012(0x85b)+_0x3f6d68['toFixed'](0x3)+_0x3b7012(0x87a),_0x3b7012(0x8aa)+((_0x2c52a3-_0x36e51b)/0x3e8-_0x3f6d68)[_0x3b7012(0xc4)](0x2)+_0x3b7012(0x87a));}};}(_0x3a6068['getLabel'](),_0x422206[_0x3fe576(0x7ad)]);_0x44d009[_0x3fe576(0x109)](_0x3fe576(0x3b5));const _0x5d55b2=this['nodeManager']['getAncestorIds']()[_0x3fe576(0x761)]>0x0;if(_0x5d55b2){_0x44d009['log']('SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors',()=>this[_0x3fe576(0x3ed)][_0x3fe576(0x5bc)]()),_0x275f05[_0x3fe576(0x65d)](),await Promise[_0x3fe576(0x30e)](this[_0x3fe576(0x3ed)][_0x3fe576(0x5bc)]()[_0x3fe576(0x943)](async _0x510c49=>await this['nodeManager'][_0x3fe576(0x464)](_0x510c49)))[_0x3fe576(0x553)](_0x42eb50=>_0x2d5d47[_0x3fe576(0x196)](_0x3fe576(0xa18),{'nodeId':this[_0x3fe576(0x8df)][_0x3fe576(0x8ef)](),'nodeType':this[_0x3fe576(0x8df)][_0x3fe576(0x983)]}));const _0x3bddf7=_0x44d009[_0x3fe576(0x3aa)](()=>this[_0x3fe576(0x3ed)][_0x3fe576(0x5bc)](),[]);_0x275f05[_0x3fe576(0x438)](_0x3fe576(0x65e)+_0x3bddf7+_0x3fe576(0x61b));}_0x4999b6(_0x4c2be1(),await _0x3a6068['sync'](_0x5d55b2,async()=>{const _0x96ae60=_0x3fe576;_0x275f05[_0x96ae60(0x65d)](),await this[_0x96ae60(0x3ed)]['isReady'](),_0x275f05[_0x96ae60(0x438)](_0x96ae60(0xeb)),_0x3a6068[_0x96ae60(0x80b)](!0x0,()=>{const _0x17d10f=_0x96ae60;_0x44d009[_0x17d10f(0x109)](_0x17d10f(0x6ff)),_0x3a6068['sync'](!0x1);},!0x0);}));}}class _0x45665c{[_0x52a325(0x793)];[_0x52a325(0x285)];[_0x52a325(0x3fc)];[_0x52a325(0x6a8)];['orchestrator'];constructor(_0x2be6c3,_0x4d18ad,_0x1b2fe2,_0x2f5bb2,_0xd096b9,_0x592e56,_0x13316f=new _0x44e4f9()){const _0x5583b9=_0x52a325;this[_0x5583b9(0x793)]=_0x2be6c3,this[_0x5583b9(0x285)]=_0x4d18ad,this[_0x5583b9(0x3fc)]=_0x1b2fe2,this['eventEmitter']=_0x13316f,this['orchestrator']=new _0xe4b1c2(this['vendorId'],this[_0x5583b9(0x285)],_0x1b2fe2,_0x2f5bb2,_0xd096b9,_0x592e56,this);}async[_0x52a325(0x141)](){const _0x4228de=_0x52a325;await this[_0x4228de(0x394)]['initialize'](),this[_0x4228de(0x3fc)][_0x4228de(0x983)]===_0x5bfdb7[_0x4228de(0xa5e)][_0x4228de(0x73f)]&&this[_0x4228de(0x3fc)][_0x4228de(0xa2d)](this[_0x4228de(0x285)],_0x253292=>{const _0x540156=_0x4228de;this[_0x540156(0x394)][_0x540156(0x8b5)](_0x253292);});}[_0x52a325(0x8dd)](_0x5cc156={}){const _0x382761=_0x52a325;this['orchestrator']['close'](_0x5cc156),this[_0x382761(0x3fc)][_0x382761(0x983)]===_0x5bfdb7[_0x382761(0xa5e)]['User']&&this['authNode'][_0x382761(0xa8)](this['clusterId']),this[_0x382761(0x7a2)](_0x382761(0x9f1),void 0x0);}[_0x52a325(0x615)](_0x26f5c2){const _0x4df5fb=_0x52a325,_0x6dc220=this['orchestrator'][_0x4df5fb(0x615)](_0x26f5c2);return{'getName':_0x6dc220[_0x4df5fb(0x326)][_0x4df5fb(0x3d2)](_0x6dc220),'getOwnerId':_0x6dc220[_0x4df5fb(0x9a9)][_0x4df5fb(0x3d2)](_0x6dc220),'getContentType':_0x6dc220['getContentType'][_0x4df5fb(0x3d2)](_0x6dc220),'publish':_0x6dc220[_0x4df5fb(0x7da)][_0x4df5fb(0x3d2)](_0x6dc220),'subscribe':_0x6dc220[_0x4df5fb(0xaa1)]['bind'](_0x6dc220),'unsubscribe':_0x6dc220[_0x4df5fb(0xa50)]['bind'](_0x6dc220),'close':_0x6dc220[_0x4df5fb(0x93c)]['bind'](_0x6dc220)};}async[_0x52a325(0x5d2)](_0x821baf,_0x175d11){const _0x2d0319=_0x52a325,_0x515b53=await this['orchestrator'][_0x2d0319(0x5d2)](_0x821baf,_0x175d11);return{'getName':_0x515b53['getName'][_0x2d0319(0x3d2)](_0x515b53),'getOwnerId':_0x515b53['getOwnerId'][_0x2d0319(0x3d2)](_0x515b53),'getContentType':_0x515b53[_0x2d0319(0x7d4)][_0x2d0319(0x3d2)](_0x515b53),'publish':_0x515b53[_0x2d0319(0x7da)][_0x2d0319(0x3d2)](_0x515b53),'unpublish':_0x515b53[_0x2d0319(0x61f)][_0x2d0319(0x3d2)](_0x515b53),'get':_0x515b53[_0x2d0319(0x627)][_0x2d0319(0x3d2)](_0x515b53),'list':_0x515b53[_0x2d0319(0x3f3)][_0x2d0319(0x3d2)](_0x515b53),'getSize':_0x515b53[_0x2d0319(0x744)][_0x2d0319(0x3d2)](_0x515b53),'subscribe':_0x515b53[_0x2d0319(0xaa1)][_0x2d0319(0x3d2)](_0x515b53),'unsubscribe':_0x515b53[_0x2d0319(0xa50)]['bind'](_0x515b53),'close':_0x515b53[_0x2d0319(0x93c)][_0x2d0319(0x3d2)](_0x515b53)};}async[_0x52a325(0x6dc)](_0x395e3a,_0x2b0b93){const _0x5840c9=_0x52a325,_0x588f08=await this['orchestrator'][_0x5840c9(0x6dc)](_0x395e3a,_0x2b0b93);return{'getName':_0x588f08[_0x5840c9(0x326)][_0x5840c9(0x3d2)](_0x588f08),'getOwnerId':_0x588f08['getOwnerId'][_0x5840c9(0x3d2)](_0x588f08),'getContentType':_0x588f08[_0x5840c9(0x7d4)][_0x5840c9(0x3d2)](_0x588f08),'close':_0x588f08[_0x5840c9(0x93c)]['bind'](_0x588f08),'get':_0x588f08[_0x5840c9(0x627)][_0x5840c9(0x3d2)](_0x588f08),'list':_0x588f08[_0x5840c9(0x3f3)][_0x5840c9(0x3d2)](_0x588f08),'subscribe':_0x588f08[_0x5840c9(0xaa1)][_0x5840c9(0x3d2)](_0x588f08),'unsubscribe':_0x588f08[_0x5840c9(0xa50)][_0x5840c9(0x3d2)](_0x588f08)};}async[_0x52a325(0x25c)](_0x5c42dc,_0x2d6316,_0x46a2d3){const _0x16b629=_0x52a325,_0x311248=await this[_0x16b629(0x394)][_0x16b629(0x25c)](_0x5c42dc,_0x2d6316,_0x46a2d3);return{'getName':_0x311248['getName'][_0x16b629(0x3d2)](_0x311248),'getOwnerId':_0x311248[_0x16b629(0x9a9)][_0x16b629(0x3d2)](_0x311248),'getContentType':_0x311248[_0x16b629(0x7d4)][_0x16b629(0x3d2)](_0x311248),'getTable':_0x311248[_0x16b629(0x2dc)][_0x16b629(0x3d2)](_0x311248),'subscribe':_0x311248[_0x16b629(0xaa1)][_0x16b629(0x3d2)](_0x311248),'unsubscribe':_0x311248[_0x16b629(0xa50)]['bind'](_0x311248),'close':_0x311248['close']['bind'](_0x311248)};}async[_0x52a325(0x406)](_0x533cc9){const _0x19944b=_0x52a325,_0x18ac7e=await this[_0x19944b(0x394)]['openJobDispatcher'](_0x533cc9);return{'getName':_0x18ac7e['getName'][_0x19944b(0x3d2)](_0x18ac7e),'getOwnerId':_0x18ac7e[_0x19944b(0x9a9)][_0x19944b(0x3d2)](_0x18ac7e),'getContentType':_0x18ac7e[_0x19944b(0x7d4)][_0x19944b(0x3d2)](_0x18ac7e),'createJob':_0x18ac7e['createJob'][_0x19944b(0x3d2)](_0x18ac7e),'getJob':_0x18ac7e[_0x19944b(0x642)]['bind'](_0x18ac7e),'getJobs':_0x18ac7e['getJobs'][_0x19944b(0x3d2)](_0x18ac7e),'close':_0x18ac7e[_0x19944b(0x93c)][_0x19944b(0x3d2)](_0x18ac7e)};}async[_0x52a325(0x124)](_0x200843){const _0x4717a0=_0x52a325,_0x188760=await this[_0x4717a0(0x394)][_0x4717a0(0x124)](_0x200843);return{'close':_0x188760['close'][_0x4717a0(0x3d2)](_0x188760)};}async[_0x52a325(0x84d)](_0x34ca4a){const _0x1190e9=_0x52a325,_0x32c914=await this[_0x1190e9(0x394)][_0x1190e9(0x84d)](_0x34ca4a);return{'createAIJob':_0x32c914[_0x1190e9(0x386)][_0x1190e9(0x3d2)](_0x32c914),'getDataBucketIds':_0x32c914[_0x1190e9(0x158)][_0x1190e9(0x3d2)](_0x32c914),'close':_0x32c914[_0x1190e9(0x93c)][_0x1190e9(0x3d2)](_0x32c914)};}async[_0x52a325(0x5f3)](_0x16473f){const _0x312cd4=_0x52a325,_0x6a808e=await this[_0x312cd4(0x394)][_0x312cd4(0x5f3)](_0x16473f);return{'createAIJob':_0x6a808e[_0x312cd4(0x386)][_0x312cd4(0x3d2)](_0x6a808e),'getDataBucketIds':_0x6a808e['getDataBucketIds'][_0x312cd4(0x3d2)](_0x6a808e),'close':_0x6a808e[_0x312cd4(0x93c)][_0x312cd4(0x3d2)](_0x6a808e)};}async['openGenerativeAIWorker'](_0x425108){const _0x18339c=_0x52a325,_0x42e69b=await this[_0x18339c(0x394)]['openGenerativeAIWorker'](_0x425108);return{'close':_0x42e69b[_0x18339c(0x93c)][_0x18339c(0x3d2)](_0x42e69b)};}[_0x52a325(0x1b7)](_0x2d226b){const _0x87089b=_0x52a325,_0x51c418=this[_0x87089b(0x394)][_0x87089b(0x1b7)](_0x2d226b);return{'getName':_0x51c418[_0x87089b(0x326)][_0x87089b(0x3d2)](_0x51c418),'getOwnerId':_0x51c418['getOwnerId'][_0x87089b(0x3d2)](_0x51c418),'getContentType':_0x51c418[_0x87089b(0x7d4)][_0x87089b(0x3d2)](_0x51c418),'addNode':_0x51c418[_0x87089b(0x287)][_0x87089b(0x3d2)](_0x51c418),'addEdge':_0x51c418[_0x87089b(0x2de)][_0x87089b(0x3d2)](_0x51c418),'getContent':_0x51c418[_0x87089b(0x770)][_0x87089b(0x3d2)](_0x51c418),'remove':_0x51c418[_0x87089b(0xff)][_0x87089b(0x3d2)](_0x51c418),'saveToDisk':_0x51c418['saveToDisk'][_0x87089b(0x3d2)](_0x51c418),'loadFromDisk':_0x51c418[_0x87089b(0x25d)][_0x87089b(0x3d2)](_0x51c418),'close':_0x51c418[_0x87089b(0x93c)][_0x87089b(0x3d2)](_0x51c418)};}[_0x52a325(0x476)](_0x558a2b){const _0x1e425a=_0x52a325,_0x7268d6=this[_0x1e425a(0x394)][_0x1e425a(0x476)](_0x558a2b);return{'getName':_0x7268d6[_0x1e425a(0x326)][_0x1e425a(0x3d2)](_0x7268d6),'getOwnerId':_0x7268d6['getOwnerId']['bind'](_0x7268d6),'getContentType':_0x7268d6[_0x1e425a(0x7d4)][_0x1e425a(0x3d2)](_0x7268d6),'search':_0x7268d6[_0x1e425a(0x62e)][_0x1e425a(0x3d2)](_0x7268d6),'insert':_0x7268d6[_0x1e425a(0x454)][_0x1e425a(0x3d2)](_0x7268d6),'remove':_0x7268d6[_0x1e425a(0xff)]['bind'](_0x7268d6),'saveToDisk':_0x7268d6[_0x1e425a(0x6b3)][_0x1e425a(0x3d2)](_0x7268d6),'loadFromDisk':_0x7268d6[_0x1e425a(0x25d)][_0x1e425a(0x3d2)](_0x7268d6),'close':_0x7268d6[_0x1e425a(0x93c)]['bind'](_0x7268d6)};}['getPubSubTopics'](_0x3281ec){const _0x1b8805=_0x52a325;return this['orchestrator'][_0x1b8805(0x6cb)](_0x3281ec)[_0x1b8805(0x943)](_0x3b6cbc=>({'getName':_0x3b6cbc[_0x1b8805(0x326)][_0x1b8805(0x3d2)](_0x3b6cbc),'getOwnerId':_0x3b6cbc['getOwnerId'][_0x1b8805(0x3d2)](_0x3b6cbc),'getContentType':_0x3b6cbc[_0x1b8805(0x7d4)][_0x1b8805(0x3d2)](_0x3b6cbc),'publish':_0x3b6cbc[_0x1b8805(0x7da)]['bind'](_0x3b6cbc),'subscribe':_0x3b6cbc[_0x1b8805(0xaa1)][_0x1b8805(0x3d2)](_0x3b6cbc),'unsubscribe':_0x3b6cbc[_0x1b8805(0xa50)]['bind'](_0x3b6cbc),'close':_0x3b6cbc[_0x1b8805(0x93c)][_0x1b8805(0x3d2)](_0x3b6cbc)}));}[_0x52a325(0x8fd)](_0xca01dd){const _0x2e52ff=_0x52a325;return this[_0x2e52ff(0x394)][_0x2e52ff(0x8fd)](_0xca01dd)[_0x2e52ff(0x943)](_0x54a67a=>({'getName':_0x54a67a[_0x2e52ff(0x326)][_0x2e52ff(0x3d2)](_0x54a67a),'getOwnerId':_0x54a67a[_0x2e52ff(0x9a9)]['bind'](_0x54a67a),'getContentType':_0x54a67a[_0x2e52ff(0x7d4)]['bind'](_0x54a67a),'publish':_0x54a67a[_0x2e52ff(0x7da)][_0x2e52ff(0x3d2)](_0x54a67a),'unpublish':_0x54a67a[_0x2e52ff(0x61f)][_0x2e52ff(0x3d2)](_0x54a67a),'get':_0x54a67a[_0x2e52ff(0x627)][_0x2e52ff(0x3d2)](_0x54a67a),'list':_0x54a67a[_0x2e52ff(0x3f3)][_0x2e52ff(0x3d2)](_0x54a67a),'getSize':_0x54a67a[_0x2e52ff(0x744)][_0x2e52ff(0x3d2)](_0x54a67a),'subscribe':_0x54a67a[_0x2e52ff(0xaa1)]['bind'](_0x54a67a),'unsubscribe':_0x54a67a[_0x2e52ff(0xa50)][_0x2e52ff(0x3d2)](_0x54a67a),'close':_0x54a67a[_0x2e52ff(0x93c)][_0x2e52ff(0x3d2)](_0x54a67a)}));}[_0x52a325(0x829)](_0x41bc94){const _0x2b70d8=_0x52a325;return this['orchestrator'][_0x2b70d8(0x829)](_0x41bc94)['map'](_0xb5a521=>({'getName':_0xb5a521[_0x2b70d8(0x326)][_0x2b70d8(0x3d2)](_0xb5a521),'getOwnerId':_0xb5a521[_0x2b70d8(0x9a9)][_0x2b70d8(0x3d2)](_0xb5a521),'getContentType':_0xb5a521[_0x2b70d8(0x7d4)]['bind'](_0xb5a521),'close':_0xb5a521[_0x2b70d8(0x93c)]['bind'](_0xb5a521),'get':_0xb5a521[_0x2b70d8(0x627)][_0x2b70d8(0x3d2)](_0xb5a521),'list':_0xb5a521[_0x2b70d8(0x3f3)][_0x2b70d8(0x3d2)](_0xb5a521),'subscribe':_0xb5a521[_0x2b70d8(0xaa1)][_0x2b70d8(0x3d2)](_0xb5a521),'unsubscribe':_0xb5a521[_0x2b70d8(0xa50)]['bind'](_0xb5a521)}));}[_0x52a325(0x693)](_0x2349a6){const _0x1818d2=_0x52a325;return this[_0x1818d2(0x394)][_0x1818d2(0x693)](_0x2349a6)[_0x1818d2(0x943)](_0xc06134=>({'getName':_0xc06134[_0x1818d2(0x326)][_0x1818d2(0x3d2)](_0xc06134),'getOwnerId':_0xc06134['getOwnerId'][_0x1818d2(0x3d2)](_0xc06134),'getContentType':_0xc06134[_0x1818d2(0x7d4)][_0x1818d2(0x3d2)](_0xc06134),'getTable':_0xc06134[_0x1818d2(0x2dc)][_0x1818d2(0x3d2)](_0xc06134),'subscribe':_0xc06134['subscribe']['bind'](_0xc06134),'unsubscribe':_0xc06134['unsubscribe'][_0x1818d2(0x3d2)](_0xc06134),'close':_0xc06134[_0x1818d2(0x93c)][_0x1818d2(0x3d2)](_0xc06134)}));}[_0x52a325(0x179)](_0xe518c3){const _0x45bcdc=_0x52a325;return this['orchestrator'][_0x45bcdc(0x179)](_0xe518c3)[_0x45bcdc(0x943)](_0x2650e8=>({'createAIJob':_0x2650e8[_0x45bcdc(0x386)][_0x45bcdc(0x3d2)](_0x2650e8),'getDataBucketIds':_0x2650e8[_0x45bcdc(0x158)][_0x45bcdc(0x3d2)](_0x2650e8),'close':_0x2650e8[_0x45bcdc(0x93c)][_0x45bcdc(0x3d2)](_0x2650e8)}));}[_0x52a325(0xa56)](_0x1767c4){const _0x4c2264=_0x52a325;return this['orchestrator'][_0x4c2264(0xa56)](_0x1767c4)[_0x4c2264(0x943)](_0x11bc08=>({'createAIJob':_0x11bc08['createAIJob'][_0x4c2264(0x3d2)](_0x11bc08),'getDataBucketIds':_0x11bc08[_0x4c2264(0x158)][_0x4c2264(0x3d2)](_0x11bc08),'close':_0x11bc08['close'][_0x4c2264(0x3d2)](_0x11bc08)}));}[_0x52a325(0xa83)](_0x1ad769){const _0x4c8114=_0x52a325;return this[_0x4c8114(0x394)]['getGenerativeAIWorkers'](_0x1ad769)['map'](_0x594885=>({'close':_0x594885[_0x4c8114(0x93c)]['bind'](_0x594885)}));}[_0x52a325(0x12b)](_0x2c5a87,_0x3251b6){const _0x254663=_0x52a325,_0x364c92=this[_0x254663(0x394)][_0x254663(0x136)](_0x2c5a87,_0x3251b6);return{'getLabel':_0x364c92[_0x254663(0x8f6)][_0x254663(0x3d2)](_0x364c92),'getOwnerId':_0x364c92[_0x254663(0x9a9)]['bind'](_0x364c92),'getContentType':_0x364c92['getContentType']['bind'](_0x364c92),'getMediaStream':_0x364c92[_0x254663(0x717)]['bind'](_0x364c92),'setPriority':_0x364c92['setPriority'][_0x254663(0x3d2)](_0x364c92),'unpublish':_0x364c92[_0x254663(0x61f)]['bind'](_0x364c92)};}[_0x52a325(0x9c4)](_0x37db26,_0x564445){const _0x542586=_0x52a325,_0x2e1dad=this[_0x542586(0x394)][_0x542586(0x64b)](_0x37db26,_0x564445);return{'getLabel':_0x2e1dad['getLabel']['bind'](_0x2e1dad),'getOwnerId':_0x2e1dad[_0x542586(0x9a9)][_0x542586(0x3d2)](_0x2e1dad),'getContentType':_0x2e1dad[_0x542586(0x7d4)][_0x542586(0x3d2)](_0x2e1dad),'setPriority':_0x2e1dad[_0x542586(0x2c8)]['bind'](_0x2e1dad),'unpublish':_0x2e1dad[_0x542586(0x61f)][_0x542586(0x3d2)](_0x2e1dad),'getMediaStream':_0x2e1dad['getMediaStream'][_0x542586(0x3d2)](_0x2e1dad),'addTrack':_0x2e1dad[_0x542586(0x2f1)]['bind'](_0x2e1dad),'removeTrack':_0x2e1dad[_0x542586(0x21d)][_0x542586(0x3d2)](_0x2e1dad),'replaceTrack':_0x2e1dad[_0x542586(0xa4a)]['bind'](_0x2e1dad),'setTransformations':_0x2e1dad['setTransformations'][_0x542586(0x3d2)](_0x2e1dad)};}['getLocalMediaStreams'](_0x57fee8){const _0x3daf96=_0x52a325;return this[_0x3daf96(0x394)]['getLocalMediaStreams'](_0x57fee8)[_0x3daf96(0x943)](_0x42fc03=>({'getLabel':_0x42fc03[_0x3daf96(0x8f6)][_0x3daf96(0x3d2)](_0x42fc03),'getOwnerId':_0x42fc03[_0x3daf96(0x9a9)][_0x3daf96(0x3d2)](_0x42fc03),'getContentType':_0x42fc03[_0x3daf96(0x7d4)][_0x3daf96(0x3d2)](_0x42fc03),'getMediaStream':_0x42fc03[_0x3daf96(0x717)][_0x3daf96(0x3d2)](_0x42fc03),'setPriority':_0x42fc03[_0x3daf96(0x2c8)][_0x3daf96(0x3d2)](_0x42fc03),'unpublish':_0x42fc03[_0x3daf96(0x61f)][_0x3daf96(0x3d2)](_0x42fc03)}));}[_0x52a325(0x6a3)](_0x5df1cd){const _0xe5e458=_0x52a325;return this[_0xe5e458(0x394)][_0xe5e458(0x6a3)](_0x5df1cd)[_0xe5e458(0x943)](_0x57ddc1=>({'getLabel':_0x57ddc1[_0xe5e458(0x8f6)][_0xe5e458(0x3d2)](_0x57ddc1),'getOwnerId':_0x57ddc1[_0xe5e458(0x9a9)][_0xe5e458(0x3d2)](_0x57ddc1),'getContentType':_0x57ddc1['getContentType'][_0xe5e458(0x3d2)](_0x57ddc1),'getMediaStream':_0x57ddc1[_0xe5e458(0x717)]['bind'](_0x57ddc1),'subscribe':_0x57ddc1[_0xe5e458(0xaa1)][_0xe5e458(0x3d2)](_0x57ddc1),'unsubscribe':_0x57ddc1[_0xe5e458(0xa50)][_0xe5e458(0x3d2)](_0x57ddc1),'getAvailableTrackKinds':_0x57ddc1[_0xe5e458(0x590)]['bind'](_0x57ddc1),'update':_0x57ddc1[_0xe5e458(0xaae)]['bind'](_0x57ddc1),'onProviderChange':_0x57ddc1['onProviderChange'][_0xe5e458(0x3d2)](_0x57ddc1)}));}[_0x52a325(0x5d6)](_0x414f1d){const _0x21ab1e=_0x52a325;return this[_0x21ab1e(0x394)]['getGraphDatabases'](_0x414f1d)['map'](_0x425ec0=>({'getName':_0x425ec0[_0x21ab1e(0x326)]['bind'](_0x425ec0),'getOwnerId':_0x425ec0['getOwnerId'][_0x21ab1e(0x3d2)](_0x425ec0),'getContentType':_0x425ec0[_0x21ab1e(0x7d4)][_0x21ab1e(0x3d2)](_0x425ec0),'addNode':_0x425ec0[_0x21ab1e(0x287)]['bind'](_0x425ec0),'addEdge':_0x425ec0[_0x21ab1e(0x2de)][_0x21ab1e(0x3d2)](_0x425ec0),'getContent':_0x425ec0[_0x21ab1e(0x770)][_0x21ab1e(0x3d2)](_0x425ec0),'remove':_0x425ec0[_0x21ab1e(0xff)][_0x21ab1e(0x3d2)](_0x425ec0),'saveToDisk':_0x425ec0[_0x21ab1e(0x6b3)]['bind'](_0x425ec0),'loadFromDisk':_0x425ec0[_0x21ab1e(0x25d)][_0x21ab1e(0x3d2)](_0x425ec0),'close':_0x425ec0[_0x21ab1e(0x93c)]['bind'](_0x425ec0)}));}[_0x52a325(0xa1e)](_0x447d69){const _0x166fb1=_0x52a325;return this[_0x166fb1(0x394)][_0x166fb1(0xa1e)](_0x447d69)['map'](_0x273452=>({'getName':_0x273452[_0x166fb1(0x326)][_0x166fb1(0x3d2)](_0x273452),'getOwnerId':_0x273452[_0x166fb1(0x9a9)][_0x166fb1(0x3d2)](_0x273452),'getContentType':_0x273452[_0x166fb1(0x7d4)]['bind'](_0x273452),'search':_0x273452['search'][_0x166fb1(0x3d2)](_0x273452),'insert':_0x273452['insert'][_0x166fb1(0x3d2)](_0x273452),'remove':_0x273452['remove'][_0x166fb1(0x3d2)](_0x273452),'saveToDisk':_0x273452[_0x166fb1(0x6b3)]['bind'](_0x273452),'loadFromDisk':_0x273452[_0x166fb1(0x25d)][_0x166fb1(0x3d2)](_0x273452),'close':_0x273452[_0x166fb1(0x93c)][_0x166fb1(0x3d2)](_0x273452)}));}[_0x52a325(0x4ca)](){const _0x3da528=_0x52a325,_0x3b2e5f=this[_0x3da528(0x394)][_0x3da528(0x4ca)]();switch(_0x3b2e5f[_0x3da528(0x983)]){case _0x5bfdb7[_0x3da528(0xa5e)][_0x3da528(0x73f)]:return{'type':_0x5bfdb7[_0x3da528(0xa5e)][_0x3da528(0x73f)],'getId':_0x3b2e5f[_0x3da528(0x8ef)][_0x3da528(0x3d2)](_0x3b2e5f),'getDisplayName':_0x3b2e5f[_0x3da528(0x89d)][_0x3da528(0x3d2)](_0x3b2e5f),'getEmail':_0x3b2e5f['getEmail'][_0x3da528(0x3d2)](_0x3b2e5f),'getRemoteConnections':_0x3b2e5f[_0x3da528(0x9e8)]['bind'](_0x3b2e5f),'setDisplayName':_0x3b2e5f[_0x3da528(0x5db)][_0x3da528(0x3d2)](_0x3b2e5f),'setEmail':_0x3b2e5f[_0x3da528(0x8be)][_0x3da528(0x3d2)](_0x3b2e5f)};case _0x5bfdb7['NodeType'][_0x3da528(0x1f4)]:default:return{'type':_0x5bfdb7[_0x3da528(0xa5e)][_0x3da528(0x1f4)],'getId':_0x3b2e5f[_0x3da528(0x8ef)][_0x3da528(0x3d2)](_0x3b2e5f),'getRemoteConnections':_0x3b2e5f[_0x3da528(0x9e8)][_0x3da528(0x3d2)](_0x3b2e5f)};}}[_0x52a325(0x37d)](_0x406c86){const _0x3eca72=_0x52a325;return this[_0x3eca72(0x394)][_0x3eca72(0x37d)](_0x406c86)[_0x3eca72(0x943)](_0x597bde=>{const _0x44c541=_0x3eca72;switch(_0x597bde[_0x44c541(0x983)]){case _0x5bfdb7[_0x44c541(0xa5e)][_0x44c541(0x73f)]:return{'type':_0x5bfdb7[_0x44c541(0xa5e)][_0x44c541(0x73f)],'getId':_0x597bde[_0x44c541(0x8ef)][_0x44c541(0x3d2)](_0x597bde),'getDisplayName':_0x597bde[_0x44c541(0x89d)][_0x44c541(0x3d2)](_0x597bde),'getEmail':_0x597bde[_0x44c541(0x6c3)][_0x44c541(0x3d2)](_0x597bde),'getRemoteConnections':_0x597bde['getRemoteConnections'][_0x44c541(0x3d2)](_0x597bde)};case _0x5bfdb7[_0x44c541(0xa5e)][_0x44c541(0x1f4)]:return{'type':_0x5bfdb7['NodeType']['Agent'],'getId':_0x597bde['getId']['bind'](_0x597bde),'getRemoteConnections':_0x597bde[_0x44c541(0x9e8)]['bind'](_0x597bde)};default:throw new _0x1d1fb5(_0x433410[_0x44c541(0x586)],_0x44c541(0x470));}});}['on']=(..._0xaf06e0)=>{const _0x271167=_0x52a325;this[_0x271167(0x6a8)]['on'](..._0xaf06e0);};[_0x52a325(0x7a2)]=(..._0x26e8e8)=>this[_0x52a325(0x6a8)][_0x52a325(0x7a2)](..._0x26e8e8);[_0x52a325(0x4f3)](..._0x1543be){const _0xcd1a4=_0x52a325;this['eventEmitter'][_0xcd1a4(0x4f3)](..._0x1543be);}}class _0x3e8604{['id'];['displayName'];[_0x52a325(0x86d)];[_0x52a325(0x983)]=_0x5bfdb7['NodeType'][_0x52a325(0x73f)];[_0x52a325(0xa08)]=new Map();[_0x52a325(0x595)]=_0x14acab();constructor(_0x4dd372,_0x2b4e40,_0x167cb7){const _0x45af1c=_0x52a325;this['id']=_0x4dd372,this[_0x45af1c(0x7d2)]=_0x2b4e40,this[_0x45af1c(0x86d)]=_0x167cb7;}[_0x52a325(0x8ef)](){return this['id'];}['getDisplayName'](){const _0x3a9d7d=_0x52a325;return this[_0x3a9d7d(0x7d2)];}[_0x52a325(0x6c3)](){const _0x2f9ef1=_0x52a325;return this[_0x2f9ef1(0x86d)];}[_0x52a325(0x5db)](_0xb01f74){const _0x19c9e5=_0x52a325;this['displayName']!==_0xb01f74&&(this['displayName']=_0xb01f74,this[_0x19c9e5(0x595)][_0x19c9e5(0x7da)](this));}[_0x52a325(0x8be)](_0x147cc5){const _0x20db15=_0x52a325;this[_0x20db15(0x86d)]!==_0x147cc5&&(this[_0x20db15(0x86d)]=_0x147cc5,this['observer'][_0x20db15(0x7da)](this));}['registerCluster'](_0x371f69,_0x21c8be){const _0x269263=_0x52a325;if(this[_0x269263(0xa08)][_0x269263(0xed)](_0x371f69))return;const _0x5a6005=this[_0x269263(0x595)][_0x269263(0xaa1)](_0x21c8be);this[_0x269263(0xa08)][_0x269263(0x23c)](_0x371f69,_0x5a6005);}['unregisterCluster'](_0x2483a6){const _0x30416d=_0x52a325;if(!this[_0x30416d(0xa08)][_0x30416d(0xed)](_0x2483a6))return;const _0x12ff45=this[_0x30416d(0xa08)][_0x30416d(0x627)](_0x2483a6);_0x12ff45&&_0x12ff45(),this[_0x30416d(0xa08)][_0x30416d(0x4f4)](_0x2483a6);}}class _0x18e375{[_0x52a325(0x793)];['user'];constructor(_0x38f415){const _0xae6998=_0x52a325;this[_0xae6998(0x793)]=_0x38f415;}async[_0x52a325(0x3e8)](_0x1ed426){const _0x432d9c=_0x52a325,_0x515752=await(0x0,_0x225b6f[_0x432d9c(0x6a0)])(_0x36dffc['getFunctions'](),_0x432d9c(0x892))({'uid':_0x432d9c(0x2be)+this[_0x432d9c(0x793)]+_0x432d9c(0x2be)+_0x1ed426['id']}),_0x44b3a2=await(0x0,_0x314e16[_0x432d9c(0x91d)])(_0x36dffc[_0x432d9c(0x7e9)](),_0x515752[_0x432d9c(0x6f2)][_0x432d9c(0x3ad)]);this['user']=_0x44b3a2[_0x432d9c(0x70c)];}async[_0x52a325(0x3d6)](){const _0x388e71=_0x52a325;await(0x0,_0x314e16[_0x388e71(0x3d6)])(_0x36dffc['getAuth']());}[_0x52a325(0x4fb)](){const _0x1cb77e=_0x52a325;return this[_0x1cb77e(0x70c)]?.[_0x1cb77e(0x4fb)]()??Promise[_0x1cb77e(0x88c)](_0x1cb77e(0x325));}}class _0x5635cc{static [_0x52a325(0x6b4)];[_0x52a325(0x28e)]=[];constructor(){}static[_0x52a325(0x6be)](){const _0x1645cb=_0x52a325;return _0x5635cc['instance']||(_0x5635cc[_0x1645cb(0x6b4)]=new _0x5635cc()),_0x5635cc['instance'];}[_0x52a325(0x1a7)](){const _0xcbf692=_0x52a325;this['checkWebRTC'](),this[_0xcbf692(0x6f7)](),this['checkScreenSharing'](),this[_0xcbf692(0x7c9)](),this[_0xcbf692(0x24c)](),this[_0xcbf692(0x618)](),this[_0xcbf692(0x9eb)](),this[_0xcbf692(0x4b8)](),this[_0xcbf692(0x5a3)](),this['checkAudioContext'](),_0x2d5d47[_0xcbf692(0x109)](_0x422206[_0xcbf692(0x91a)],_0xcbf692(0x85e),{'featureSupport':this[_0xcbf692(0x28e)]});}['isFeatureSupported'](_0x306c22){const _0x257a01=_0x52a325,_0x2957bf=this[_0x257a01(0x28e)][_0x257a01(0x7cc)](_0x53514f=>_0x53514f[_0x257a01(0x7fe)]===_0x306c22);return!!_0x2957bf&&_0x2957bf[_0x257a01(0x29a)];}[_0x52a325(0x1a4)](_0x2fdff2){const _0x4309e0=_0x52a325;_0x2d5d47[_0x4309e0(0x1ed)](_0x4309e0(0xaac),{'nodeId':_0x2fdff2['getId'](),'nodeType':_0x2fdff2[_0x4309e0(0x983)],'data':{'featureSupport':this['featureSupport']}});}[_0x52a325(0x47f)](){const _0x255fda=_0x52a325,_0x400ad6=_0x213d4c[_0x255fda(0x168)];let _0xad3ab8=!0x1;_0x255fda(0x7e2)==typeof RTCPeerConnection&&_0x255fda(0x7e2)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0xad3ab8=!0x0:_0x2d5d47[_0x255fda(0x109)](_0x422206[_0x255fda(0x91a)],_0x255fda(0x9da)+_0x400ad6+_0x255fda(0x1d7)),this['featureSupport'][_0x255fda(0x66e)]({'name':_0x400ad6,'supported':_0xad3ab8});}[_0x52a325(0x6f7)](){const _0x22262d=_0x52a325,_0x30a1c3=_0x213d4c[_0x22262d(0xa02)];let _0x5ded4e=!0x1;_0x22262d(0x7e2)==typeof MediaStream&&_0x22262d(0x7e2)==typeof MediaStreamTrack&&_0x22262d(0x7d8)==typeof navigator&&_0x22262d(0x7d8)==typeof navigator[_0x22262d(0x442)]&&_0x22262d(0x7e2)==typeof navigator[_0x22262d(0x442)]['getUserMedia']?_0x5ded4e=!0x0:_0x2d5d47[_0x22262d(0x109)](_0x422206[_0x22262d(0x91a)],_0x22262d(0x9da)+_0x30a1c3+_0x22262d(0x1d7)),this['featureSupport']['push']({'name':_0x30a1c3,'supported':_0x5ded4e});}[_0x52a325(0x234)](){const _0x53aa90=_0x52a325,_0x4bf3f5=_0x213d4c[_0x53aa90(0x4d9)];let _0x20709b=!0x1;_0x53aa90(0x7d8)==typeof navigator&&_0x53aa90(0x7d8)==typeof navigator['mediaDevices']&&_0x53aa90(0x7e2)==typeof navigator[_0x53aa90(0x442)][_0x53aa90(0x9e2)]?_0x20709b=!0x0:_0x2d5d47[_0x53aa90(0x109)](_0x422206[_0x53aa90(0x91a)],_0x53aa90(0x9da)+_0x4bf3f5+'\x20not\x20supported'),this[_0x53aa90(0x28e)][_0x53aa90(0x66e)]({'name':_0x4bf3f5,'supported':_0x20709b});}[_0x52a325(0x7c9)](){const _0x5e042b=_0x52a325,_0x16ebff=_0x213d4c[_0x5e042b(0x358)];let _0x4cb7a3=!0x1;_0x5e042b(0x7e2)!=typeof AudioContext||_0x5e042b(0x7e2)!=typeof ScriptProcessorNode&&_0x5e042b(0x7e2)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x2d5d47[_0x5e042b(0x109)](_0x422206[_0x5e042b(0x91a)],_0x5e042b(0x9da)+_0x16ebff+'\x20not\x20supported'):_0x4cb7a3=!0x0,this['featureSupport'][_0x5e042b(0x66e)]({'name':_0x16ebff,'supported':_0x4cb7a3});}[_0x52a325(0x24c)](){const _0x2efea0=_0x52a325,_0x4784e2=_0x213d4c['DeviceConfig'];let _0x24f1db=!0x1;'object'==typeof navigator&&_0x2efea0(0x7d8)==typeof navigator[_0x2efea0(0x442)]&&'function'==typeof navigator['mediaDevices'][_0x2efea0(0x20e)]&&_0x2efea0(0x7e2)==typeof MediaDeviceInfo?_0x24f1db=!0x0:_0x2d5d47[_0x2efea0(0x109)](_0x422206[_0x2efea0(0x91a)],_0x2efea0(0x9da)+_0x4784e2+'\x20not\x20supported'),this[_0x2efea0(0x28e)][_0x2efea0(0x66e)]({'name':_0x4784e2,'supported':_0x24f1db});}[_0x52a325(0x618)](){const _0x1a834c=_0x52a325,_0x1d85da=_0x213d4c[_0x1a834c(0x705)];let _0x20a884=!0x1;_0x1a834c(0x7d8)==typeof document&&_0x1a834c(0x7e2)==typeof document['createElement'](_0x1a834c(0x9e4))[_0x1a834c(0x60b)]?_0x20a884=!0x0:_0x2d5d47[_0x1a834c(0x109)](_0x422206['Support'],_0x1a834c(0x9da)+_0x1d85da+_0x1a834c(0x1d7)),this[_0x1a834c(0x28e)][_0x1a834c(0x66e)]({'name':_0x1d85da,'supported':_0x20a884});}async[_0x52a325(0x9eb)](){const _0x186917=_0x52a325,_0x18bb7a=_0x213d4c[_0x186917(0xa74)];let _0x261c29=!0x1;try{const _0x12ebf0=document[_0x186917(0x3c9)](_0x186917(0x254));if(MediaRecorder&&MediaSource&&_0x12ebf0[_0x186917(0x2b2)]){const _0x41d0fe=_0x12ebf0[_0x186917(0x2b2)](),_0x24983e=new MediaRecorder(_0x41d0fe);_0x24983e[_0x186917(0x65d)](),await new Promise(_0x22f6fe=>setTimeout(_0x22f6fe,0x7d0)),_0x24983e[_0x186917(0x90e)](),_0x261c29='inactive'===_0x24983e['state'];}}catch(_0xf0082d){_0x2d5d47['log'](_0x422206[_0x186917(0x91a)],_0x186917(0x9da)+_0x18bb7a+_0x186917(0x666),_0xf0082d);}this['featureSupport'][_0x186917(0x66e)]({'name':_0x18bb7a,'supported':_0x261c29}),_0x261c29||_0x2d5d47[_0x186917(0x109)](_0x422206['Support'],_0x186917(0x9da)+_0x18bb7a+_0x186917(0x1d7));}[_0x52a325(0x4b8)](){const _0x5246ae=_0x52a325,_0x17579e=_0x213d4c['Backgrounds'];let _0x354e8f=!0x1;try{document['createElement'](_0x5246ae(0x254))['captureStream']&&(_0x354e8f=!0x0);}catch(_0x46f96a){_0x2d5d47[_0x5246ae(0x109)](_0x422206[_0x5246ae(0x91a)],_0x5246ae(0x9da)+_0x17579e+_0x5246ae(0x666),_0x46f96a);}this[_0x5246ae(0x28e)][_0x5246ae(0x66e)]({'name':_0x17579e,'supported':_0x354e8f}),_0x354e8f||_0x2d5d47[_0x5246ae(0x109)](_0x422206[_0x5246ae(0x91a)],_0x5246ae(0x9da)+_0x17579e+_0x5246ae(0x1d7));}[_0x52a325(0x5a3)](){const _0x3effdf=_0x52a325,_0x198361=_0x213d4c[_0x3effdf(0x76f)];let _0x2af04a=!0x1;try{const _0x82caf6=document[_0x3effdf(0x3c9)](_0x3effdf(0x254));WebGLRenderingContext&&_0x82caf6['getContext'](_0x3effdf(0x390))&&(_0x2af04a=!0x0);}catch(_0x1c4be6){_0x2d5d47[_0x3effdf(0x109)](_0x422206[_0x3effdf(0x91a)],'Support:\x20'+_0x198361+'\x20check\x20failed',_0x1c4be6);}this[_0x3effdf(0x28e)][_0x3effdf(0x66e)]({'name':_0x198361,'supported':_0x2af04a}),_0x2af04a||_0x2d5d47[_0x3effdf(0x109)](_0x422206['Support'],_0x3effdf(0x9da)+_0x198361+_0x3effdf(0x1d7));}[_0x52a325(0x86a)](){const _0x17270e=_0x52a325,_0x333ddf=_0x213d4c[_0x17270e(0xaa9)];let _0x2c1f46=!0x1;_0x17270e(0x7e2)==typeof AudioContext?_0x2c1f46=!0x0:_0x2d5d47[_0x17270e(0x109)](_0x422206['Support'],'Support:\x20'+_0x333ddf+'\x20not\x20supported'),this[_0x17270e(0x28e)][_0x17270e(0x66e)]({'name':_0x333ddf,'supported':_0x2c1f46});}}const _0x28cda5=_0x5635cc[_0x52a325(0x6be)]();class _0x401aa9{static [_0x52a325(0x6b4)];static [_0x52a325(0xa50)];static [_0x52a325(0xa61)];[_0x52a325(0x542)];['vendorId'];[_0x52a325(0x996)];[_0x52a325(0x3f7)];[_0x52a325(0x418)]=new Map();[_0x52a325(0x452)];constructor(_0x5e9641,_0x2ba098,_0x428401){const _0x2b19de=_0x52a325;this[_0x2b19de(0x793)]=_0x5e9641,this[_0x2b19de(0x3f7)]=_0x2ba098,this['authService']=new _0x18e375(this[_0x2b19de(0x793)]),_0x28cda5[_0x2b19de(0x1a7)](),this[_0x2b19de(0x996)]={'audioContext':_0x428401?.['audioContext']??(_0x28cda5[_0x2b19de(0x5da)](_0x213d4c['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x428401?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x428401?.[_0x2b19de(0x5c1)]??0x3,'maxConnections':_0x428401?.[_0x2b19de(0x77f)]??(_0x428401?.[_0x2b19de(0x5c1)]&&0x4*_0x428401[_0x2b19de(0x5c1)])??0xc,'maxDistance':_0x428401?.['maxDistance']??0xa,'maxFps':_0x428401?.[_0x2b19de(0x10d)]??0x18,'maxBpp':_0x428401?.[_0x2b19de(0x79c)]??0.12,'objectStoreConnector':_0x428401?.[_0x2b19de(0x700)]??_0x303885[_0x2b19de(0x16b)],'externalStorageConnectors':_0x428401?.['externalStorageConnectors'],'keyValueDatabaseConnector':_0x428401?.[_0x2b19de(0x982)]??_0x3e9263[_0x2b19de(0x1c2)],'peerConnectionConnector':_0x428401?.['peerConnectionConnector']??_0x4ae4cb[_0x2b19de(0x12c)],'generativeAIWorkerConnectors':_0x428401?.['generativeAIWorkerConnectors'],'vectorDatabaseConnector':_0x428401?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x428401?.[_0x2b19de(0xabc)],'documentParserConnector':_0x428401?.[_0x2b19de(0x682)],'fileConnector':_0x428401?.[_0x2b19de(0x4f1)],'nlpLibraryConnector':_0x428401?.[_0x2b19de(0xa39)],'searchConnector':_0x428401?.[_0x2b19de(0x59a)],'aiSearchConnector':_0x428401?.[_0x2b19de(0x187)],'queryFileConnector':_0x428401?.['queryFileConnector'],'ragConnectors':_0x428401?.[_0x2b19de(0x26b)]},_0x428401?.[_0x2b19de(0x86b)]&&this[_0x2b19de(0x996)][_0x2b19de(0x3e3)]&&_0x4e41bf[_0x2b19de(0xa4b)](this[_0x2b19de(0x996)]['audioContext']),_0x2d5d47[_0x2b19de(0x3cf)](this[_0x2b19de(0x793)]),_0x428401?.[_0x2b19de(0x9db)]&&_0x2d5d47[_0x2b19de(0x316)](_0x428401['loggingConnectors']);}static async[_0x52a325(0x6be)](_0xddc9a4,_0xc23866,_0x43e06f,_0x1caccc,_0x1f76aa){const _0x2fb03c=_0x52a325;this[_0x2fb03c(0xa61)]=_0x43e06f;const _0x23c2ae=await this[_0x2fb03c(0x6b1)](_0xddc9a4,_0xc23866,_0x1f76aa);return _0x401aa9[_0x2fb03c(0x6b4)]||(_0x401aa9[_0x2fb03c(0x6b4)]=new _0x401aa9(_0xddc9a4,_0x23c2ae,_0x1caccc)),{'close':_0x401aa9[_0x2fb03c(0x6b4)][_0x2fb03c(0x93c)][_0x2fb03c(0x3d2)](_0x401aa9[_0x2fb03c(0x6b4)]),'authenticateUser':_0x401aa9[_0x2fb03c(0x6b4)][_0x2fb03c(0x25e)][_0x2fb03c(0x3d2)](_0x401aa9[_0x2fb03c(0x6b4)]),'authenticateAgent':_0x401aa9[_0x2fb03c(0x6b4)][_0x2fb03c(0x707)][_0x2fb03c(0x3d2)](_0x401aa9['instance']),'validateKey':_0x401aa9[_0x2fb03c(0x6b4)][_0x2fb03c(0x9be)][_0x2fb03c(0x3d2)](_0x401aa9[_0x2fb03c(0x6b4)]),'joinCluster':_0x401aa9[_0x2fb03c(0x6b4)][_0x2fb03c(0x673)][_0x2fb03c(0x3d2)](_0x401aa9[_0x2fb03c(0x6b4)])};}static async[_0x52a325(0x349)](){const _0x54cbd8=_0x52a325;return _0x36dffc[_0x54cbd8(0x39a)]();}static[_0x52a325(0xa07)](){const _0x195566=_0x52a325;return _0x4d71fb[_0x195566(0xa07)];}async[_0x52a325(0x93c)](_0x3823ff){const _0x4c20c3=_0x52a325;this[_0x4c20c3(0x418)][_0x4c20c3(0x854)](_0xb5e66c=>{const _0xa52e38=_0x4c20c3;_0xb5e66c[_0xa52e38(0x4f3)](),_0xb5e66c[_0xa52e38(0x8dd)](_0x3823ff);}),this['clusters'][_0x4c20c3(0xaa)](),this[_0x4c20c3(0x996)][_0x4c20c3(0x3e3)]&&_0x4e41bf[_0x4c20c3(0x7c6)](),_0x401aa9[_0x4c20c3(0xa50)]?.(),_0x401aa9[_0x4c20c3(0xa50)]=void 0x0,this[_0x4c20c3(0x452)]=void 0x0,await this[_0x4c20c3(0x542)]['signOut'](),_0x401aa9[_0x4c20c3(0x6b4)]=void 0x0;}static async[_0x52a325(0x6b1)](_0x50b8c5,_0x355149,_0x51ed7c){const _0x5d6b4b=_0x52a325;if(!this['mode'])throw new _0x1d1fb5(_0x433410[_0x5d6b4b(0x15e)],_0x5d6b4b(0x224));let _0x45e85d;try{_0x45e85d=await(0x0,_0x225b6f[_0x5d6b4b(0x6a0)])(_0x36dffc[_0x5d6b4b(0x8d0)](),_0x5d6b4b(0x10b))({'vendorId':_0x50b8c5,'accessToken':_0x355149,'secretKey':_0x51ed7c});}catch(_0x1cfbae){throw new _0x1d1fb5(_0x433410[_0x5d6b4b(0x90f)],_0x5d6b4b(0x79d));}if(!this[_0x5d6b4b(0x5fb)](_0x45e85d[_0x5d6b4b(0x6f2)]))throw new _0x1d1fb5(_0x433410[_0x5d6b4b(0x90f)],'Invalid\x20credentials');const _0x167aed=_0x45e85d[_0x5d6b4b(0x6f2)];return _0x167aed['features']||(_0x167aed['features']=[]),this[_0x5d6b4b(0xa50)]||(this[_0x5d6b4b(0xa50)]=_0x4e41bf[_0x5d6b4b(0x750)](async()=>{const _0x2c535a=_0x5d6b4b;try{const _0x3009f4=await this[_0x2c535a(0x6b1)](_0x50b8c5,_0x355149,_0x51ed7c);this[_0x2c535a(0xa61)]===_0x5bfdb7[_0x2c535a(0xa5e)][_0x2c535a(0x1f4)]&&(_0x3009f4[_0x2c535a(0x813)]=_0x3009f4[_0x2c535a(0x813)][_0x2c535a(0x6f8)](_0x507ba1=>_0x507ba1[_0x2c535a(0x129)][_0x2c535a(0x22f)]('stun:'))),_0x167aed[_0x2c535a(0x813)]=_0x3009f4[_0x2c535a(0x813)];}catch(_0x2701c3){}},0x1b7740)),_0x167aed;}async['authenticateUser'](_0x53950b){const _0x5c9f52=_0x52a325;if(_0x401aa9[_0x5c9f52(0xa61)]!==_0x5bfdb7[_0x5c9f52(0xa5e)][_0x5c9f52(0x73f)])throw new _0x1d1fb5(_0x433410[_0x5c9f52(0x586)],_0x5c9f52(0x661));await this[_0x5c9f52(0x542)]['signInWithCredential'](_0x53950b);const _0x120fe6=new _0x3e8604(_0x53950b['id'],_0x53950b['displayName'],_0x53950b[_0x5c9f52(0x86d)]);return this[_0x5c9f52(0x452)]={'node':_0x120fe6},_0x28cda5['logSupport'](_0x120fe6),{'type':_0x5bfdb7[_0x5c9f52(0xa5e)][_0x5c9f52(0x73f)],'getId':_0x120fe6[_0x5c9f52(0x8ef)][_0x5c9f52(0x3d2)](_0x120fe6),'getDisplayName':_0x120fe6['getDisplayName']['bind'](_0x120fe6),'getEmail':_0x120fe6[_0x5c9f52(0x6c3)]['bind'](_0x120fe6),'setDisplayName':_0x120fe6['setDisplayName'][_0x5c9f52(0x3d2)](_0x120fe6),'setEmail':_0x120fe6[_0x5c9f52(0x8be)][_0x5c9f52(0x3d2)](_0x120fe6)};}async[_0x52a325(0x707)](_0x310812){const _0x245978=_0x52a325;if(_0x401aa9[_0x245978(0xa61)]!==_0x5bfdb7[_0x245978(0xa5e)]['Agent'])throw new _0x1d1fb5(_0x433410[_0x245978(0x586)],_0x245978(0x661));const {id:_0x656301,groupId:_0x4eea82}=_0x310812,_0x3ea098=await(0x0,_0x51a03b['getDoc'])((0x0,_0x51a03b[_0x245978(0x5a5)])(_0x36dffc[_0x245978(0x757)](),_0x245978(0x153)+this[_0x245978(0x793)]+'/resources/agent/items/'+_0x4eea82));if(!_0x3ea098['exists']())throw new _0x1d1fb5(_0x433410[_0x245978(0xa53)],'Agent\x20group\x20not\x20found');const _0x10866d=_0x3ea098[_0x245978(0x6f2)]();await this[_0x245978(0x542)][_0x245978(0x3e8)]({'id':_0x656301});const _0x4fdccf=new _0x574ee0(_0x656301,_0x4eea82,this[_0x245978(0x793)],_0x10866d);return this[_0x245978(0x452)]={'node':_0x4fdccf},_0x28cda5[_0x245978(0x1a4)](_0x4fdccf),this[_0x245978(0xa55)](_0x4fdccf),{'type':_0x5bfdb7['NodeType'][_0x245978(0x1f4)],'getId':_0x4fdccf[_0x245978(0x8ef)][_0x245978(0x3d2)](_0x4fdccf),'onConfigurationChange':_0x4fdccf[_0x245978(0x117)][_0x245978(0x3d2)](_0x4fdccf),'setReportCapacity':_0x4fdccf[_0x245978(0xba)]['bind'](_0x4fdccf)};}async[_0x52a325(0x9be)](_0x2ceda4,_0x147693){const _0x4f0334=_0x52a325,_0x2125e7=await(0x0,_0x51a03b[_0x4f0334(0x3cb)])((0x0,_0x51a03b[_0x4f0334(0x5a5)])(_0x36dffc[_0x4f0334(0x757)](),_0x4f0334(0x401)+_0x2ceda4));if(!_0x2125e7[_0x4f0334(0x17f)]()){const _0x3d9a6d=atob(_0x2ceda4)['split'](':'),_0x19ee61=_0x3d9a6d['shift'](),_0x1a1184=_0x3d9a6d[_0x4f0334(0x141)](':');if(!_0x19ee61||!_0x1a1184)throw new _0x1d1fb5(_0x433410[_0x4f0334(0x90f)],_0x4f0334(0x7af));try{return await(0x0,_0x225b6f['httpsCallable'])(_0x36dffc[_0x4f0334(0x8d0)](),_0x4f0334(0x10b))({'vendorId':_0x19ee61,'accessToken':_0x1a1184,'origin':_0x147693}),_0x19ee61;}catch(_0x3dc92b){throw new _0x1d1fb5(_0x433410[_0x4f0334(0x90f)],_0x4f0334(0x6b5)+(_0x3dc92b instanceof Error?_0x3dc92b['message']:_0x4f0334(0x51c)));}}return _0x2125e7[_0x4f0334(0x6f2)]()[_0x4f0334(0x793)];}async[_0x52a325(0x673)](_0x145cc1,_0x20e867){const _0x2ce5fb=_0x52a325;if(!this['authContext'])throw new _0x1d1fb5(_0x433410[_0x2ce5fb(0xa53)],'Node\x20not\x20authenticated');if(this[_0x2ce5fb(0x452)][_0x2ce5fb(0x1aa)][_0x2ce5fb(0x983)]!==_0x5bfdb7[_0x2ce5fb(0xa5e)][_0x2ce5fb(0x73f)])throw new _0x1d1fb5(_0x433410['NodeTypeNotSupported'],_0x2ce5fb(0x874));if(this[_0x2ce5fb(0x418)]['has'](_0x145cc1))throw new _0x1d1fb5(_0x433410[_0x2ce5fb(0x53c)],_0x2ce5fb(0x896));const _0x33a69f=new _0x45665c(this['vendorId'],_0x145cc1,this['authContext'][_0x2ce5fb(0x1aa)],this[_0x2ce5fb(0x542)],this[_0x2ce5fb(0x996)],this[_0x2ce5fb(0x3f7)]);return!0x0!==_0x20e867&&await _0x33a69f[_0x2ce5fb(0x141)](),this[_0x2ce5fb(0x4f5)](_0x145cc1,_0x33a69f),_0x2d5d47[_0x2ce5fb(0x1ed)](_0x2ce5fb(0x754),{'clusterId':_0x145cc1,'nodeId':this[_0x2ce5fb(0x452)]['node'][_0x2ce5fb(0x8ef)](),'nodeType':this[_0x2ce5fb(0x452)][_0x2ce5fb(0x1aa)][_0x2ce5fb(0x983)]}),{'leave':_0x33a69f[_0x2ce5fb(0x8dd)][_0x2ce5fb(0x3d2)](_0x33a69f),'getLocalNode':_0x33a69f[_0x2ce5fb(0x4ca)][_0x2ce5fb(0x3d2)](_0x33a69f),'openPubSubTopic':_0x33a69f['openPubSubTopic'][_0x2ce5fb(0x3d2)](_0x33a69f),'openObjectStoreBucket':_0x33a69f[_0x2ce5fb(0x5d2)][_0x2ce5fb(0x3d2)](_0x33a69f),'openExternalStorageConnection':_0x33a69f[_0x2ce5fb(0x6dc)][_0x2ce5fb(0x3d2)](_0x33a69f),'openKeyValueDatabase':_0x33a69f[_0x2ce5fb(0x25c)][_0x2ce5fb(0x3d2)](_0x33a69f),'openGenerativeAIContext':_0x33a69f[_0x2ce5fb(0x84d)]['bind'](_0x33a69f),'openGenerativeAIContextStandalone':_0x33a69f[_0x2ce5fb(0x5f3)][_0x2ce5fb(0x3d2)](_0x33a69f),'openGenerativeAIWorker':_0x33a69f[_0x2ce5fb(0xa30)][_0x2ce5fb(0x3d2)](_0x33a69f),'openGraphDatabase':_0x33a69f['openGraphDatabase']['bind'](_0x33a69f),'openVectorDatabase':_0x33a69f[_0x2ce5fb(0x476)]['bind'](_0x33a69f),'publishLocalMediaStream':_0x33a69f[_0x2ce5fb(0x12b)]['bind'](_0x33a69f),'publishLocalDynamicMediaStream':_0x33a69f[_0x2ce5fb(0x9c4)][_0x2ce5fb(0x3d2)](_0x33a69f),'getPubSubTopics':_0x33a69f[_0x2ce5fb(0x6cb)][_0x2ce5fb(0x3d2)](_0x33a69f),'getObjectStoreBuckets':_0x33a69f[_0x2ce5fb(0x8fd)][_0x2ce5fb(0x3d2)](_0x33a69f),'getExternalStorageConnections':_0x33a69f[_0x2ce5fb(0x829)][_0x2ce5fb(0x3d2)](_0x33a69f),'getKeyValueDatabases':_0x33a69f[_0x2ce5fb(0x693)][_0x2ce5fb(0x3d2)](_0x33a69f),'getGenerativeAIContexts':_0x33a69f[_0x2ce5fb(0x179)][_0x2ce5fb(0x3d2)](_0x33a69f),'getGenerativeAIContextsStandalone':_0x33a69f[_0x2ce5fb(0xa56)][_0x2ce5fb(0x3d2)](_0x33a69f),'getGenerativeAIWorkers':_0x33a69f[_0x2ce5fb(0xa83)][_0x2ce5fb(0x3d2)](_0x33a69f),'getGraphDatabases':_0x33a69f['getGraphDatabases'][_0x2ce5fb(0x3d2)](_0x33a69f),'getVectorDatabases':_0x33a69f['getVectorDatabases'][_0x2ce5fb(0x3d2)](_0x33a69f),'getLocalMediaStreams':_0x33a69f[_0x2ce5fb(0x8f4)][_0x2ce5fb(0x3d2)](_0x33a69f),'getRemoteMediaStreams':_0x33a69f[_0x2ce5fb(0x6a3)][_0x2ce5fb(0x3d2)](_0x33a69f),'getRemoteNodes':_0x33a69f['getRemoteNodes'][_0x2ce5fb(0x3d2)](_0x33a69f),'on':_0x33a69f['on'][_0x2ce5fb(0x3d2)](_0x33a69f),'off':_0x33a69f['off'][_0x2ce5fb(0x3d2)](_0x33a69f)};}async[_0x52a325(0xa55)](_0x1fd07e){const _0x4e526b=_0x52a325,_0x1f5fbf=new _0x45665c(this[_0x4e526b(0x793)],_0x4e526b(0x7c1),_0x1fd07e,this[_0x4e526b(0x542)],this[_0x4e526b(0x996)],this[_0x4e526b(0x3f7)]);await _0x1f5fbf[_0x4e526b(0x141)](),this[_0x4e526b(0x4f5)](_0x4e526b(0x7c1),_0x1f5fbf),_0x2d5d47['forceLog']('Joined\x20cluster',_0x4e526b(0x7c1)),await _0x1f5fbf['openGenerativeAIWorker'](_0x4e526b(0x7c1)),_0x2d5d47['forceLog'](_0x4e526b(0x828),_0x4e526b(0x7c1));}[_0x52a325(0x4f5)](_0x18823b,_0x139091){const _0x2d7854=_0x52a325;this['clusters'][_0x2d7854(0x23c)](_0x18823b,_0x139091),_0x139091['on'](_0x2d7854(0x9f1),()=>{const _0x22eb79=_0x2d7854;_0x139091['off'](),this['clusters'][_0x22eb79(0x4f4)](_0x18823b);});}static[_0x52a325(0x5fb)](_0x4054e0){const _0x3b9781=_0x52a325;return void 0x0!==_0x4054e0[_0x3b9781(0x813)];}}return _0x247f32;})())));