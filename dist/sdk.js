function a0_0x18c7(){const _0x3b04f=['removeRemoteStreamSubscription','logger','WebRTC\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','vendorId','RemoteAdd','getRemoteId','issue','writes','setReceiverBytes','Cannot\x20publish\x20move\x20operation:\x20','handleRemediationSystemEvents','debugEnabled','registerSystemPublisher','Key-value\x20database\x20table\x20does\x20not\x20exist.','publishWebRTCMessage','random','toString','Request','removeOutgoingSubscription','getReceiverBitrate','readAsArrayBuffer','checkMediaRecording','Receiver\x20connection\x20is\x20not\x20initialized.','removeSubscription','videoWidth','indexNames','undefined','Medium','observer','connectionPool','CrewdleSenderConnection\x20createOffer','readwrite','UpdateMediaStream','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','ClosePubSubTopic','FolderCreate','applyRemediation','senderTotalMessages','438341LDGAGL','KeyValueDatabaseNameNotString','Bitrate','Receiver','end','ObjectStorage','nextUserId','maxDistance','key-value-database-table-name-reserved','currentTimestamp','CrewdleConnection\x20handleWebRTCSystemEvents','iceGatheringState','G-F7W8KXRKQB','transactionService','debounceProcessRank','859670TlbhjK','Invalid\x20query:\x20where\x20clause\x20must\x20have\x20an\x20operator\x20and\x20a\x20value','getItem','user-publish-media','OutgoingMediaStreamNoTopic','handleFileWrite','exists','Waiting','removeEventListener','list','generateClient','Invalid\x20value.\x20Must\x20be\x20an\x20object.','ondatachannel','onconnectionstatechange','\x27\x20in\x20layout','pendingFilesTransactions','packets','Node','No\x20destinationIds\x20left','connection-invalid-data-event','setReceiverTimestamp','32tMejAr','copyDirectory','scaleResolutionDownBy','object-store-stream-does-not-exist','join-cluster','processPendingIceCandidates','pub-sub-topic-already-exists','removeTopic','previousFrames','subscriptionRequests','QueryBuilderInvalidArgument','closeTopic','reset','localDescription','object-store-cannot-write-transaction','outbound-rtp','NodeManager\x20-\x20PublishUserLeave','filter','objectStores','advance','createWritable','previousBytes','setOnDisconnectHandler','request-file','removeListener','match','receiverConnection','sendRequest','updateLastUpdated','getTransactions','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Connection\x20not\x20connected.','transaction','invalid-data-chanel','getReceiverTotalBytes','hasRemoteUser','subscription','put','params','openCursor','checkMediaStream','KeyValueDatabaseStats','everyone','folder','streamId','connectionType','high','handleTransactionPayload','upgrade','\x20answer','invalid-publisher','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','remote-inbound-rtp','connectionManager','queues','SystemStats','removeRemoteUser','connecting','removeTrackListeners','retryCallback','endsWith','Invalid\x20where\x20clause','slice','removePubSubTopic','stream','messagesSent','featureSupport','Everyone\x20','log','srcObject','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','sendTransactionsValue','createConstantSource','crewdle-sdk-stg','mergeParts','setupConnectionEvents','handleUserJoin','unregisterSystemSource','framesEncoded','STVolatility','version','removeSubscriptionsForUser','createObjectStoreBucket','handleNodeSystemEvents','removeLocalMediaStream','uuid','mediaTopics','clearRect','statsCollection','httpsCallable','getConnectionDestinations','manageOptimization','onupgradeneeded','Base\x20WebRTC\x20Connection','tail','getSupportedContentTypes','token','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','developers/','decodeJWT','Recording','media','handleOffer','handleContentCloseObjectStore','Add','max','size','region','newPath','DataChannel\x20is\x20not\x20open.','lastExecuted','onload','handleLocalTrackFailure','startNoThrottlingHack','detectStreamIssues','Resolution','getLocalUser','ObjectStoreInvalidPayload','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Downgrade','KeyValueDatabaseIndexNotFound','addMessage','Key-value\x20database\x20creation\x20failed.','doc','upperBound','remoteUnsubscriber','maxResolution','bytesSent','subscribe','getProviderId','clientWidth','updateDebounceTimeout','setSinkId','isWhereValue','support','find','PubSubTopic\x20onMessage','fps','crewdle-sdk-logging-','UnpublishMediaStream','removeObjectStore','UserLeave','reduce','getNextTargetRank','clearOncloseTimeout','processOutboundReport','media-stream','removeKeyValueDatabase','heartbeatUnsubscriber','file-write','getPartsFromSubscription','createRemoteUser','ObjectStoreLabelNotString','pubsubTopics','connect','signalingServer','remote-connection-exists','Cannot\x20get\x20file:\x20','getTotalBytes','objectStoreNames','handleCloseMediaStream','handleContentRemoteMediaStreamTrackFail','Get','roundTripTime','Support:\x20current\x20config','warning','emit','sampleRate','lastRemediations','audioContext','renderElement','publishUserJoin','arrayBufferToObject','client','SyncComplete','onRemoveTrack','RequestSyncKeyValueDatabase','publishTransaction','isFeatureSupported','onTrack','cpu.cycle','KeyValueDatabaseCreationFailed','inbound-rtp','sourceVideo','clearSyncTimeout','ConnectionNotinitialized','trackListeners','messageCallback','isArray','shift','tables','.crewdle-transactions','isSync','connection','local-media-stream-track-fail','moveObject','FileDelete','KeyValueDatabaseInvalidValue','Invalid\x20layout:\x20','getNumberOutgoingSubscriptions','Invalid\x20resolution','handleDisconnect','webrtc','unsubscribeTrackEndedListener','ObjectStore','key-value-database-transaction-value-not-set','clusters/','update','KeyValueDatabaseTransactionTableNotInitialized','pubsub','some','ObjectStoreNotInSync','SendTransactionsDump','completed','setTransformations','checkWebRTC','fileChunks','listenerUnsubscribers','ownerId','registerPublisher','transactionIds','RemoteMediaStreamInvalidSubscriptionParams','jitter','publish','setBytes','getFirestore','TimePerFrame','registerCluster','getLocalMediaStreams','signaling','processDataChannelReport','Cannot\x20publish\x20payload:\x20','destroy','getResolution','timeoutCallback','not-in','clearUpgradeTimeout','removeIncomingSubscription','isConnected','isInitiator','getMaxDistance','systemTopicUnsubscribe','buffer','registerRemoteUser','checkAudioVolume','Invalid\x20table\x20name\x20\x27','getLabel','wait','st_volatility','event','createDataChannel','oncloseTimeout','invalid-subscriber','indexOf','authenticateUser','/nodes','fromEntries','setScheduleTime','dispatchEvent','setupRenderElement','getCurrentMaxLayer','LocalMediaStreamTrackFail','updateLastTransactionId','removeRemoteConnection','active','getLastDirectoryHandle','Problem','app','origin','now','dataChannel','getRemoteUsers','NeedRestart','RequestTransactionsValue','shouldProcessTransaction','LocalMediaStreamDoesNotExist','iceConnectionState\x20failed','Sender','deleteRemoteUser','addProblem','trackKinds','file-move','Buffering\x20event','signInWithCustomToken','getApp','waitSendBuffer','timestamp','handleAnswer','Cannot\x20list\x20directory:\x20','maxFramerate','Error\x20building\x20query','setLocalDescription','addEventListener','24SJdAWI','interval','mediaStream','/transactions/','destination','pendingSyncTransactions','destinationIds','Count','getIndexFromStore','detectAudioIssues','transactions','getAuth','remoteId','replaceTrack','signInWithCredential','getTable','handleFileSync','notifyClusterUserJoin','getRemoteConnections','goOffline','minThreshold','recipients','connection-not-connected','local-stream-does-not-exist','Jitter','childRemovedUnsubscriber','previous','sync-complete','KeyValueDatabase','cpu.time_per_frame','getRemoteMediaStreams','catch','transformations','setupStatsCollection','timeSending','folder-move','direction','createMediaStreamDestination','CONNECTION_STATE_CHANGE','handleOutgoingSystemEvents','replace','NodeManager\x20-\x20WebRTCSuccess','AppSync\x20connection\x20not\x20ready','sort','handleWebRTCSystemEvents','Local\x20stream\x20does\x20not\x20exist.','3UApXfi','candidate','Media','Low','connectionTimeout','MissingSystemTopic','.info/serverTimeOffset','objectRequests','firebaseConfig','setRemoteUser','disconnected','Retry\x20request\x20with\x20chosen\x20answer\x20user\x20or\x20rank','SubscriptionRequestFailed','splitParts','play','minResolutionScale','email','browserVersion','iceServers','removeUser','ObjectStoreAlreadyExists','Connection\x20does\x20not\x20exist.','restartTimeout','resetConnection','getStreamRoot','setConnectionType','packetsSent','delete','Invalid\x20render\x20element','exports','height','auth','publishSyncCompleted','getPriority','setRank','5179888qJvxxC','createIndex','bandwidth.bitrate','\x27\x20to\x20','detectVideoIssues','packetsReceived','maxConnections','addRemoteConnection','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','\x20not\x20supported\x20-\x20old\x20Chrome','getFunctions','senders','onLine','user-not-authenticated','values','KeyValueDatabaseTableDoesNotExist','handleContentUpdateMediaStream','handleSubscribeMediaStream','onloadeddata','getSubscriptionInfo','text','setSenderTimestamp','key-value-database-not-open','initializeApp','getBitrate','Internal\x20event\x20\x27','missing-system-topic','clearWaitAnswer','keyValueDatabases','createElement','enabledChannels','Cluster','reject','Folder','senderPreviousTimestamp','request-file-write','senderBitrate','initializeSystemTopic','connector','Stats:\x20report','Module','sendAction','setItem','contentRect','user','checkScreenSharing','Connection\x20not\x20initialized.','continue','Offline','findNextUserId','MediaStream\x20feature\x20not\x20enabled','Chosen\x20answer','iceDebounce','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','calculateSize','Answer','handleSubscriptionNeedMediaStream','\x20not\x20supported\x20-\x20old\x20Firefox','clearWaitSuccess','validateLayout','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','tableUnsubscriber','logStorage','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','prototype','Optimization','Invalid\x20publisher.','clearRestartTimeout','appsync-no-destination','handleNeedRestart','logEvent','en-US','FileWrite','object-store-invalid-path','receivers','detectionManager','eventListener','content','nodeManager','onNodeDisconnect','handleSubscriptionProvideMediaStream','removeEntry','maxLayer','PubSubTopicStats','get','floor','autoplay','bandwidth.rtt','stopConnection','handleContentSystemEvents','isMediaSource','checkBackgrounds','getIdToken','UserUpdate','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','notifyCluster','setOnTableWriteHandler','checkWebGL','getDisplayName','Method\x20not\x20implemented.','getLayout','open','outgoingManager','handleStatsSystemEvents','NodeManager\x20-\x20UserLeave','Restart','Invalid\x20subscription.','Stats','logPropagateSystemEvent','StreamReport','user-leave','outgoingTopic','MediaStream','table','Backgrounds','logSupport','oniceconnectionstatechange','unshift','createOutgoingSubscription','type','Signaling','av_delay','Remote\x20stream\x20does\x20not\x20exist.','default','orderBy','statsReport','systemMessagesReceived','isWhereBetween','ConnectionNotConnected','data','key-value-database-invalid-query','parentId','retryCount','buildQuery','WebRTC','limit','browserDetails','internalId','getRemoteUser','Invalid\x20data\x20chan_NO_RENAMEENAl.','receiverPreviousTimestamp','statsManager','Sending\x20\x27','setCurrentVersion','removeConnection','syncTimeout','processReport','Subscription','publishMove','AudioOutput','syncKeyValueDatabase','getResolutionScale','AudioVolume','CloseObjectStoreBucket','index','lastProcessRank','detectProblems','messageBuffer','KeyValueDatabaseTableNotFound','LocalReport','count','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','supported','listenUnsubscriber','crewdleSDKEnableLogging','createObjectStore','incrementVersion','addTrack','WebGL','padStart','RestartNeedMediaStream','createAnswer','Invalid\x20subscriber.','getLocalMediaStream','registeredListeners','transactionTable','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','authUser','decode','mute','handleUnsubscribeMediaStream','handleContentClosePubSubTopic','420235181083','remoteMediaStreams','stats','clusterEventEmitter','handleCloseObjectStore','setLoggingConnectors','System','previousTimestamp','/stats','move','\x20-\x20Sending\x20propagation\x20(','setupResizeHandler','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','value','WebGLRenderingContext','messageUnsubscriber','InvalidPublisher','connected','consumeBufferedEvents','processTransactionsDump','debounceStats','maxBitrate','isOffer','subscriptionManager','asc','\x0aAdditional\x20data:\x20','Failed\x20to\x20create\x20key\x20value\x20database','createLocalMediaStream','concat','getMediaStream','LoggingService:\x20logging\x20enabled\x20for','instance','createOffer','listener','setRemoteDescription','head','RoundTripTime','getKeyRange','retryQueue','users','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','currentBytes','handleObjectDelete','receiverUnsubscribers','getSubscriptionLabel','ObjectStoreAlreadySubscribed','CrewdleConnectionGroup','pop','writeTransaction','checkAudioOutput','bitrate','processInboundReport','Invalid\x20query:\x20where\x20clause\x20must\x20have\x20a\x20key','rank','ScreenSharing','deleteObjectStore','component','updateUser','streamRoot','RemoteMediaStreamTrackFail','checkSyncComplete','DataChannel\x20is\x20not\x20initialized.','only','Invalid\x20index\x20in\x20table\x20\x27','getContentType','processServiceReport','object','ObjectStoreDoesNotExist','KeyValueDatabaseInvalidLayout','1:519415702791:web:5dd39042f881cfde3251a2','getOwnerId','onnegotiationneeded','Remove','Problem\x20detected:\x20','setParams','createMediaStreamSource','objectStore','disconnectTimeout','key','Early\x20return:\x20','contentType','Invalid\x20version\x20\x27','val','incomingTopic','enumerateDevices','Online','cost','syncTransactionsWritten','AppSync\x20subscribe','Content','PubSubTopicDoesNotExist','Connected','RemoteMediaStreamAlreadyExists','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','lastTransactionId','key-value-database-creation-failed','Missing\x20remote\x20user\x20or\x20rank','topic','ObjectStoreStats','UnsubscribeMediaStream','firebase-disconnect','key-value-database','moveFile','getDisplayMedia','threshold','RemoteRemediation','onerror','userAgent','logServiceEvent','sdkCreateToken','aws','openKeyValueDatabase','authService','joinedAt','encode','unsubscribe','start','stop','mediaDevices','clear','connection-not-initialized','ConnectionInvalidDataEvent','handleSystemEvents','frameHeight','has','setRemoteConnections','handleOnMessage','mediator','browser','SystemTopic\x20publish','missing-incoming-connection','getReport','file-delete','edge','setUpgradeTimeout','authContext','next','handleRequestPayload','Orchestrator\x20handleSystemEvents','messageListeners','canvas','bufferedAmountLowThreshold','pool','setSubscriptionRequestTimeout','displayName','targetId','eventEmitter','detectLocalIssues','cleanOldSubscription','addVideoTrack','initialize','prev','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','minConnections','tableObserver','Consuming\x20buffered\x20event','List','Upgrade','handleCloseKeyValueDatabase','disableIntervalHack','set','createConnection','load','Outgoing','remote-media-stream-invalid-subscription-params','function','CloseKeyValueDatabase','UserJoin','video','discoveryService','answerJoin','pub-sub-topic-label-not-string','setPendingFileSyncingPayload','serverTimestamp','appsync-connect-fail','totalEncodeTime','leave','RequestFileSync','unregisterCluster','getLastUpdated','join','server','handleSubscriptionMediaStreamUnavailable','answers','pendingFilesSyncing','isReconnecting','\x20already\x20exists','getEstimatedTimestamp','audioSource','where','getDirectory','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','RemoteMediaStreamMissingProviderId','remote-media-stream-already-exists','durationTime','streams','upgradeTimeout','ObjectStoreInvalidPath','getConnection','disconnect','remediationManager','remote-stream-does-not-exist','9655520MuCWIz','clusterId','Data\x20cluster\x20is\x20not\x20open.','collectStats','subscriptionRequestsQueue','closed','All','optimizationLayers','listen','buildTableEvent','createPubSubTopic','connection-no-retry-queue','cluster','handleUpdateMediaStream','createSubscription','firebaseUnsubscriber','tracks','retryQueues','KeyValueDatabaseNotOpen','\x20with\x20\x27','key-value-database-invalid-layout','localUser','https://crewdle-sdk-default-rtdb.firebaseio.com','eventTarget','Cannot\x20write\x20transaction.','sendTransactionsDump','ancestors','removeRemoteMediaStream','timePerFrame','checksum','639639GtuDox','query','clearHeartbeat','UserConnectionsUpdate','receiverTimeProcessing','captureStream','topicLabel','subscribedTracks','clearSubscriptionRequestTimeout','setupTrackEndedListeners','clusterKey','cpu.av_delay','RemoteRemove','setupListeners','addRemoteUser','Early\x20return','SubscriptionRequestNoAnswer','packetsLost','getInternalTrackParams','streamLabel','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','folder-create','true','functions','storage','registerSource','Update','videoHeight','MediaRecorder','Remote\x20MediaStream\x20already\x20exists','priority','path','startsWith','signalingState','createBufferSource','notifyClusterUserUpdate','includes','TestPage','FPS','openObjectStoreBucket','write','updatePropagationProperties','processRemoteInboundReport','statsReporting','systemMessages','User\x20already\x20exists.','ConnectionNoRetryQueue','getLocalId','removeItem','Disconnected','isInternalLoggingConnector','trackCallback','onsuccess','message','sendIceCandidates','\x20not\x20supported','getMilliseconds','offset','RemoteMediaStreamDoesNotExist','findNewMediaSubscription','getAvailableTrackKinds','2-digit','Cannot\x20move\x20directory:\x20','filteredDestinationIds','FeatureNotEnabled','getSenderTotalBytes','setVendorId','audio','isClusterEnabled','handleSubscriptionSubscribeMediaStream','getObjectStoreBuckets','getAncestors','setEmail','problemType','KeyValueDatabaseTableNameReserved','handleSuccess','detection','RequestFile','PubSubTopicAlreadyExists','compareTransactions','getConnections','InternalSDKError','Detection','detail','close','out','createTopic','senderCurrentBytes','total','contentManager','messagesReceived','defineProperty','getChannelData','PublishMediaStream','string','label','Cannot\x20get\x20directory:\x20','publishLocalMediaStream','Hub','object-store-not-synced','subscriptions','publishUserLeave','chooseAnswer','Received\x20event\x20on\x20cluster','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','internal-sdk-error','providerId','syncTransactions','low','action','bound','.crewdle-pending','getStatus','Ice','All\x20recipients\x20already\x20received','instantiateTransactionTable','getShareableStreamId','High','system','Events','pubSubTopics','processTransactionPayload','resume','abs','Connection','object-storage','Apply\x20remediation','onDisconnectHandler','rtt','Remediation','orchestrator','Delete','firefox','connectionGroup','handleUserUpdate','Invalid\x20data\x20event.','getConnectionGroup','ConnectionState','ref','onicecandidate','sourceId','maps','us-east-1','keyPath','loggingConnectors','internal','incomingManager','createIncomingSubscription','setPriority','setTimestamp','currentDistance','\x20does\x20not\x20support\x20content\x20type\x20','getAudioVideoDelay','unregisterSource','resolution','getRemoteMediaStream','\x27\x20from\x20','processReceiverReport','configs','publishUserUpdate','getShareableStream','onmessage','handleWebRTCSuccess','reportMetric','OptimizationConnectionSuccess','handleNoAnswer','Support','deletePendingFile','/nodes/','toStringTag','file','InvalidSubscription','Cluster\x20\x27','canChooseAnswer','runTransaction','lastHeartbeat','Cannot\x20delete\x20file:\x20','disconnectCallback','handleUserJoinNeedPublishedStream','Database\x20not\x20open','UserAlreadyExist','bytesReceived','getEmail','iceConnectionState','createLocalDynamicMediaStream','setDisplayName','IncomingSubscription','boolean','receiverCurrentTimestamp','clientHeight','DeviceConfig','byteLength','KeyValueDatabaseDoesNotExist','sync','handleDetectionSystemEvents','events','KeyValueDatabaseTransactionValueNotSet','waitSuccess','between','InvalidDataChannel','trackEndedListeners','addIceCandidate','createPendingFileWrite','localId','deleteTransactionsForTable','connectionStateListener','UserDoesNotExist','getDatabase','pendingFilesRename','audioDestination','Move','kind','system-stats','notifyObjectStoreOfUserJoin','frames','Cannot\x20move\x20file:\x20','getTracks','options','\x20not\x20supported\x20-\x20old\x20Edge','shouldContinuePropagation','Success','hasOwnProperty','muted','6203448gTdHDn','bandwidth.jitter','outgoing-stream-no-topic','unregisterPublisher','unpublish','getTrackFromParam','senderCurrentTimestamp','startHeartbeat','subscription-request-no-answer','processLocalReport','PubSubTopicAlreadySubscribed','isProduction','crewdle-sdk-stg.appspot.com','onicegatheringstatechange','ObjectStoreCannotWriteTransaction','features','keys','maxThreshold','PubSubTopicLabelNotString','handleContentUnsubscribeMediaStream','goOnline','getClosestUsers','user-update','Incoming\x20WebRTC\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','tableLayout','FramePerSecond','pendingIceCandidates','__esModule','call','key-value-database-name-not-string','unsubscribeHandler','sendrecv','Disconnect','Rejected\x20answer','getSTVolatility','DTVolatility','init','collection','providerListener','oidc','maxBpp','Accepted','handleContentCloseKeyValueDatabase','MediaStreamUnavailable','getOutgoingOptimizationConnections','handleContentUnpublishMediaStream','subscription-request-in-progress','UserNotAuthenticated','startTime','checkDeviceConfig','closeSubscription','getIndexFromWhereQuery','getSenderBitrate','remove','object-store-already-exists','MissingRemoteConnection','NeedMediaStream','readyState','navigator','tableName','sendFile','ranges','sdkValidateAccess','unregisterRemoteUser','hasMessage','getSubscribedTracks','getConfigs','logRaw','Object\x20store\x20not\x20synced.','logConnectionState','datadogLogs','senderTimeProcessing','RemoteConnectionExists','CloseMediaStream','addIssue','scheduleTime','getPacketsLostPerc','requestSubscriptionAction','RequestAccepted','handleObjectMove','downgrade','Missing\x20answerer\x20id\x20on\x20request\x20answer','Cannot\x20write\x20file:\x20','receiverCurrentBytes','CannotProvideMediaStream','connectionState','length','Default','validateAccess','messageType','add','InvalidSubscriber','senderConnection','receiverTotalMessages','operator','getTrack','unregisterSystemPublisher','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','framerate','send\x20error\x20on\x20','ccc','failed','discover','cluster-disconnect','digest','send','unregisterPublisherListener','Invalid\x20key\x20\x27','getStats','entries','requestSubscription','joinedClusters','createSenderConnection','split','receiverStreams','cancel','state','dbKey','deleteObject','handleMissingSenders','stringify','medium','invalid-subscription','Invalid\x20value.\x20Property\x20\x27','updateDebounce','ConnectionGroup','resolutionScale','extendedRecipients','registerSystemSource','AppSync\x20publish','Invalid\x20object\x20store\x20sync\x20message.','chosenAnswers','graphService','processInboundReports','bind','onMessage','dt_volatility','setTimeout','Invalid\x20params','object-store-not-in-sync','Subscription\x20request\x20failed.','AudioVideoDelay','answererId','functionsRegion','connection-state','result','getOrResetPendingFileTimeout','Support:\x20','joinCluster','status','PubSub','createReceiverConnection','createBuffer','DEBUG\x20-\x20','onremovetrack','senderPreviousBytes','frameTime','Received\x20track','SubscribeMediaStream','map','resizeHandler','opera','clearConnectionTimeout','Table\x20not\x20found','manageAncestor','getKeyValueDatabases','handleContentSubscribeMediaStream','callback','bufferEvent','Missing\x20transaction\x20id','sendStats','ended','getUser','Rejected','connections','dataUnsubscribers','deleteIndex','\x20does\x20not\x20exists','sender','parameters','setStatus','crewdle-sdk','splice','layout','bufferedAmount','maxFps','number','remainingTracks','request','handleWebRTCOptimizationConnectionSuccess','Pool','removeTrack','Subscribing\x20to\x20an\x20event:\x20on','isMediaDestination','::￿','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','getVideoTracks','handleRemoteTrackFailure','sendWithRetry','error','setParameters','/objectstores/','Remote\x20connection\x20already\x20exists.','amd','getId','receiverBitrate','handleError','createKeyValueDatabase','setLocalRank','getTransactionFromTableWriteEvent','topics','unregisterSubscriber','writeFile','onChildRemoved','channel','chunks','cpu.fps','source','bufferedEvents','timeReceiving','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','WebRTCInvalidDestination','loop','getInternalStreamId','canProvideResolution','clientStream','FolderDelete','Subscription\x20request\x20does\x20not\x20exist.','MediaSource','publishSyncCompletedAfterWrites','handleUserLeave','Cannot\x20move\x20object:\x20','FolderMove','File','processSenderReport','onUnregisterPublisher','subscription-request-failed','handleProblem','getDirectoryHandle','database','handleFileRequest','dataTopics','Invalid\x20query','propagate','localMediaStreams','drawImage','reads','getDistance','iceCandidates','setInterval','1060462akaysj','getRank','Local\x20MediaStream\x20already\x20exists','getConnectionType','element','getMediaSubscription','Back\x20off:\x20Table\x20name\x20reserved','CPUCycle','userId','handleIceCandidates','SubscriptionRequestDoesNotExist','push','crewdleSDKLoggingChannels','handleContentCloseMediaStream','codes','from','retry','waitAnswer','estimatedPlayoutTimestamp','crewdle-sdk.firebaseapp.com','getAudioContext','setInternalId','nodeKey','Cannot\x20create\x20remote\x20user:\x20User\x20already\x20exists:\x20','issues','waitConnected','setDurationTime','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','target','processOutboundReports','\x20check\x20failed','objectStoreConnector','width','objectToArrayBuffer','forEach','getHash','ontrack','onclose','openPubSubTopic','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','validateValue','receiverPreviousBytes','off','FileMove','observe','getEnabledChannels','graphql','handleSubscriptionUnsubscribeMediaStream','Incoming','addAudioTrack','sdk-internal-error:\x20','Error\x20listing\x20values','getMaxConnections','createRemoteMediaStream','Database\x20does\x20not\x20exist','processReports','key-value-database-table-does-not-exist','clockSkew','isWhereValues','unregisterDestination','AppSync\x20client\x20not\x20ready','Stream\x20already\x20exists','handleClosePubSubTopic','RequestFileWrite','closeConnection','configure','LocalMediaStreamAlreadyExists','remoteConnections','Data','remoteDescription','assign','getParameters','getOrCreateDirectoryHandle','getPubSubTopics','getDTVolatility','Transaction','currentVersion','.info/connected','getQuery','handleFolderCreate','transactionsToSync','pub-sub-topic-does-not-exist','removeTrackCallback','syncResolve','user-already-exist','Subscription\x20request\x20has\x20not\x20been\x20answered.','registerDestination','findNextAncestor','successNotified','handleNodeDisconnect','getInstance','addPendingIceCandidate','handleSubscriptionSystemEvents','code','Internal\x20SDK\x20error:\x20','desc','name','getFileHandle','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','.crewdle-last-transaction','maxOutgoingSubscriptions','remoteUsers','subscriptionRequestTimeouts','context','mediaUnsubscribers','discoveryUnsubscriber','debug','KeyValueDatabaseInvalidQuery','key-value-database-index-not-found','loadEnabledClusters','isSubscribed','ObjectStoreNotSynced','framesDecoded','getMinConnections','PubSubTopic\x20publish','Offer','registerSubscriber','Core','senderStreams','readonly','addConnection','firestore','warn','indexes','encodings','ObjectStoreInvalidSyncMessage','isIceCandidate','text/plain','getCurrentVersion','key-value-database-invalid-value','track','getAudioTracks','\x20-\x20','listenerUnsubscriber','CanProvideMediaStream','getContext','User\x20does\x20not\x20exist.','availableTrackKinds','onValue','getSettings','currentFrames','handleSubscriptionRestartNeedMediaStream','distance','pathName','Receiving\x20\x27','lastUpdated','contains','systemTopic','processRank','time_per_frame','outgoingStreams','frameWidth','handlePublishMediaStream','Stream\x20does\x20not\x20exist','keyvaluedatabase','messages','getFile','sendFileRequestPayload','Issue\x20detected:\x20','\x27\x20in\x20table\x20\x27','enabled','parse','handleChunkMessage'];a0_0x18c7=function(){return _0x3b04f;};return a0_0x18c7();}function a0_0x2858(_0x1eab92,_0x4c8d51){const _0x18c7a9=a0_0x18c7();return a0_0x2858=function(_0x2858b3,_0x2bf97e){_0x2858b3=_0x2858b3-0x147;let _0x1c5148=_0x18c7a9[_0x2858b3];return _0x1c5148;},a0_0x2858(_0x1eab92,_0x4c8d51);}(function(_0x428d9f,_0x2e8e55){const _0x3f8d70=a0_0x2858,_0x10af86=_0x428d9f();while(!![]){try{const _0xd93b0b=parseInt(_0x3f8d70(0x5ac))/0x1+parseInt(_0x3f8d70(0x4e3))/0x2*(-parseInt(_0x3f8d70(0x149))/0x3)+parseInt(_0x3f8d70(0x5d0))/0x4*(parseInt(_0x3f8d70(0x5bb))/0x5)+-parseInt(_0x3f8d70(0x3e9))/0x6+-parseInt(_0x3f8d70(0x16c))/0x7+-parseInt(_0x3f8d70(0x6f5))/0x8*(-parseInt(_0x3f8d70(0x30a))/0x9)+parseInt(_0x3f8d70(0x2ec))/0xa;if(_0xd93b0b===_0x2e8e55)break;else _0x10af86['push'](_0x10af86['shift']());}catch(_0x163d9e){_0x10af86['push'](_0x10af86['shift']());}}}(a0_0x18c7,0xa8147),!function(_0x44fd63,_0x50edd8){const _0x4f9ecc=a0_0x2858;if(_0x4f9ecc(0x264)==typeof exports&&_0x4f9ecc(0x264)==typeof module)module[_0x4f9ecc(0x166)]=_0x50edd8();else{if(_0x4f9ecc(0x2c7)==typeof define&&define[_0x4f9ecc(0x4b4)])define([],_0x50edd8);else{var _0x47fbf7=_0x50edd8();for(var _0x2be197 in _0x47fbf7)(_0x4f9ecc(0x264)==typeof exports?exports:_0x44fd63)[_0x2be197]=_0x47fbf7[_0x2be197];}}}(this,()=>((()=>{'use strict';const _0x58371e=a0_0x2858;var _0x4755be={0xa9:(_0x30fa13,_0x215ef0,_0x161a96)=>{const _0x292365=a0_0x2858;_0x161a96['d'](_0x215ef0,{'q':()=>_0x3ebf67});const _0x3ebf67={'version':'0.1.0','isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x292365(0x1a1),'projectId':_0x292365(0x619),'storageBucket':_0x292365(0x3f5),'appId':_0x292365(0x267),'functionsRegion':'northamerica-northeast1'},'aws':{'endpoint':_0x292365(0x2ba),'region':_0x292365(0x398)}};},0x1c4:(_0x4a9616,_0x2e3b08,_0x2097a6)=>{_0x2097a6['d'](_0x2e3b08,{'q':()=>_0x3aef46});const _0x3aef46={};},0x1fc:(_0x4d9bbc,_0x3d242f,_0x38b30e)=>{const _0x331ee9=a0_0x2858;_0x38b30e['d'](_0x3d242f,{'q':()=>_0x3cbe4b});const _0x3cbe4b={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x331ee9(0x50a),'authDomain':_0x331ee9(0x4f6),'databaseURL':_0x331ee9(0x302),'projectId':_0x331ee9(0x49e),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':_0x331ee9(0x222),'appId':'1:420235181083:web:4eff6062bd845cb0748cbe','measurementId':_0x331ee9(0x5b8)},'aws':{'endpoint':'https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x331ee9(0x398)}};},0x2ac:(_0x29bfcc,_0x38ae30,_0x47560b)=>{_0x47560b['d'](_0x38ae30,{'q':()=>_0x288213});const _0x288213={};}},_0x19ddb8={};function _0x563737(_0x33747d){const _0x1ab8b0=a0_0x2858;var _0x3a37d1=_0x19ddb8[_0x33747d];if(void 0x0!==_0x3a37d1)return _0x3a37d1[_0x1ab8b0(0x166)];var _0x349c7e=_0x19ddb8[_0x33747d]={'exports':{}};return _0x4755be[_0x33747d](_0x349c7e,_0x349c7e[_0x1ab8b0(0x166)],_0x563737),_0x349c7e[_0x1ab8b0(0x166)];}_0x563737['n']=_0x585326=>{const _0x35928f=a0_0x2858;var _0x45d359=_0x585326&&_0x585326[_0x35928f(0x404)]?()=>_0x585326[_0x35928f(0x1e7)]:()=>_0x585326;return _0x563737['d'](_0x45d359,{'a':_0x45d359}),_0x45d359;},_0x563737['d']=(_0x4251aa,_0x10a1b1)=>{for(var _0x4f0402 in _0x10a1b1)_0x563737['o'](_0x10a1b1,_0x4f0402)&&!_0x563737['o'](_0x4251aa,_0x4f0402)&&Object['defineProperty'](_0x4251aa,_0x4f0402,{'enumerable':!0x0,'get':_0x10a1b1[_0x4f0402]});},_0x563737['o']=(_0x8e3bb3,_0x568818)=>Object[_0x58371e(0x1ac)][_0x58371e(0x3e7)][_0x58371e(0x405)](_0x8e3bb3,_0x568818),_0x563737['r']=_0x187937=>{const _0x4fcb56=_0x58371e;_0x4fcb56(0x5a0)!=typeof Symbol&&Symbol[_0x4fcb56(0x3b3)]&&Object[_0x4fcb56(0x365)](_0x187937,Symbol[_0x4fcb56(0x3b3)],{'value':_0x4fcb56(0x194)}),Object[_0x4fcb56(0x365)](_0x187937,_0x4fcb56(0x404),{'value':!0x0});};var _0x50e6b5={};return((()=>{const _0x3317da=_0x58371e;var _0x2d59f3,_0x53e309,_0x5922b0,_0x507318,_0x1193d2,_0x12c3f7,_0x46ba21,_0x2fb3cb,_0xea19ad;_0x563737['r'](_0x50e6b5),_0x563737['d'](_0x50e6b5,{'ContentType':()=>_0x12c3f7,'DatabaseEvent':()=>_0x507318,'DatadogLoggingConnector':()=>_0x175dd0,'KeyValueDatabase':()=>_0x421bd5,'LayoutBuilder':()=>_0x431d40,'LoggingChannels':()=>_0xea19ad,'MediaStreamPriority':()=>_0x46ba21,'ObjectKind':()=>_0x2d59f3,'PayloadAction':()=>_0x53e309,'QueryBuilder':()=>_0x33d5c0,'SDK':()=>_0xaf05ac,'SDKClientErrorCodes':()=>_0x1193d2,'StorageEventType':()=>_0x5922b0,'logger':()=>_0x546907}),function(_0x4f703f){const _0x4ed899=a0_0x2858;_0x4f703f[_0x4ed899(0x4d2)]='file',_0x4f703f[_0x4ed899(0x18d)]='directory';}(_0x2d59f3||(_0x2d59f3={})),function(_0x4309d4){const _0x208378=a0_0x2858;_0x4309d4[_0x208378(0x4d2)]=_0x208378(0x3b4),_0x4309d4[_0x208378(0x18d)]=_0x208378(0x5fb),_0x4309d4[_0x208378(0x3dc)]=_0x208378(0x22b);}(_0x53e309||(_0x53e309={})),function(_0x3d6041){const _0x14fea1=a0_0x2858;_0x3d6041[_0x14fea1(0x1b4)]='file-write',_0x3d6041[_0x14fea1(0x694)]=_0x14fea1(0x2a6),_0x3d6041[_0x14fea1(0x50e)]=_0x14fea1(0x6e9),_0x3d6041[_0x14fea1(0x5a9)]=_0x14fea1(0x31f),_0x3d6041[_0x14fea1(0x4cb)]='folder-delete',_0x3d6041['FolderMove']=_0x14fea1(0x718);}(_0x5922b0||(_0x5922b0={})),function(_0x182d1d){const _0x4becbd=a0_0x2858;_0x182d1d[_0x4becbd(0x67e)]=_0x4becbd(0x710);}(_0x507318||(_0x507318={})),function(_0x262346){const _0x130536=a0_0x2858;_0x262346[_0x130536(0x34a)]='feature-not-enabled',_0x262346[_0x130536(0x15d)]=_0x130536(0x41f),_0x262346[_0x130536(0x24f)]='object-store-already-subscribed',_0x262346['ObjectStoreDoesNotExist']=_0x130536(0x5d3),_0x262346[_0x130536(0x668)]='object-store-label-not-string',_0x262346['ObjectStoreInvalidPayload']='object-store-invalid-payload',_0x262346[_0x130536(0x2e7)]=_0x130536(0x1b5),_0x262346['ObjectStoreNotInSync']=_0x130536(0x474),_0x262346[_0x130536(0x35b)]=_0x130536(0x373),_0x262346[_0x130536(0x3ca)]='key-value-database-does-not-exist',_0x262346['KeyValueDatabaseIndexNotFound']=_0x130536(0x54f),_0x262346['KeyValueDatabaseInvalidQuery']=_0x130536(0x1ee),_0x262346[_0x130536(0x695)]=_0x130536(0x564),_0x262346[_0x130536(0x5ad)]=_0x130536(0x406),_0x262346[_0x130536(0x2fe)]=_0x130536(0x182),_0x262346[_0x130536(0x354)]=_0x130536(0x5b4),_0x262346[_0x130536(0x20a)]='key-value-database-table-not-found',_0x262346[_0x130536(0x266)]=_0x130536(0x300),_0x262346[_0x130536(0x525)]='local-media-stream-already-exists',_0x262346[_0x130536(0x358)]=_0x130536(0x5d6),_0x262346[_0x130536(0x27c)]=_0x130536(0x534),_0x262346[_0x130536(0x3fb)]=_0x130536(0x2cd),_0x262346[_0x130536(0x3f3)]='pub-sub-topic-already-subscribed',_0x262346[_0x130536(0x5da)]='query-helper-invalid-argument',_0x262346['RemoteMediaStreamAlreadyExists']=_0x130536(0x2e3),_0x262346[_0x130536(0x6ad)]=_0x130536(0x2c6),_0x262346['SubscriptionRequestInProgress']=_0x130536(0x417),_0x262346[_0x130536(0x418)]=_0x130536(0x179);}(_0x1193d2||(_0x1193d2={}));class _0xb069c2 extends Error{['code'];constructor(_0xe697a0,_0x5c29c6){const _0x5e6ee4=a0_0x2858;super(_0x5c29c6),this[_0x5e6ee4(0x540)]=_0xe697a0;}}function _0x522e51(_0x52af8d){const _0x31ff39=a0_0x2858;if(!_0x52af8d)throw new _0xb069c2(_0x1193d2[_0x31ff39(0x6ad)],'Invalid\x20params');if(_0x31ff39(0x264)!=typeof _0x52af8d)throw new _0xb069c2(_0x1193d2['RemoteMediaStreamInvalidSubscriptionParams'],_0x31ff39(0x473));const _0xcbb4b6=_0x52af8d;if(_0xcbb4b6[_0x31ff39(0x2ca)]&&_0x31ff39(0x3c5)!=typeof _0xcbb4b6[_0x31ff39(0x2ca)]){if(_0xcbb4b6[_0x31ff39(0x2ca)][_0x31ff39(0x64e)]&&('number'!=typeof _0xcbb4b6[_0x31ff39(0x2ca)][_0x31ff39(0x64e)]['width']||_0x31ff39(0x4a3)!=typeof _0xcbb4b6[_0x31ff39(0x2ca)]['maxResolution'][_0x31ff39(0x167)]))throw new _0xb069c2(_0x1193d2[_0x31ff39(0x6ad)],_0x31ff39(0x698));if(_0xcbb4b6[_0x31ff39(0x2ca)]['renderElement']&&!(_0xcbb4b6['video'][_0x31ff39(0x67a)]instanceof HTMLVideoElement))throw new _0xb069c2(_0x1193d2[_0x31ff39(0x6ad)],_0x31ff39(0x165));}return!0x0;}!function(_0xe2f032){const _0x594179=a0_0x2858;_0xe2f032[_0x594179(0x527)]='data',_0xe2f032[_0x594179(0x14b)]=_0x594179(0x635),_0xe2f032[_0x594179(0x4d2)]=_0x594179(0x3b4),_0xe2f032[_0x594179(0x47f)]='pubsub',_0xe2f032['ObjectStore']='objectstore',_0xe2f032[_0x594179(0x711)]=_0x594179(0x57d);}(_0x12c3f7||(_0x12c3f7={})),function(_0x9c46e0){const _0x6a79c7=a0_0x2858;_0x9c46e0[_0x9c46e0[_0x6a79c7(0x37f)]=0x1]='High',_0x9c46e0[_0x9c46e0[_0x6a79c7(0x440)]=0x2]=_0x6a79c7(0x440),_0x9c46e0[_0x9c46e0[_0x6a79c7(0x14c)]=0x3]=_0x6a79c7(0x14c);}(_0x46ba21||(_0x46ba21={})),function(_0xb0aa2){const _0x489807=a0_0x2858;_0xb0aa2[_0x489807(0x47f)]=_0x489807(0x6a1),_0xb0aa2['ObjectStorage']=_0x489807(0x387),_0xb0aa2[_0x489807(0x711)]=_0x489807(0x287),_0xb0aa2[_0x489807(0x1dc)]=_0x489807(0x662);}(_0x2fb3cb||(_0x2fb3cb={})),function(_0x41f877){const _0x18778c=a0_0x2858;_0x41f877['All']='all',_0x41f877[_0x18778c(0x440)]=_0x18778c(0x1e7),_0x41f877[_0x18778c(0x386)]=_0x18778c(0x691),_0x41f877[_0x18778c(0x393)]=_0x18778c(0x479),_0x41f877['Cluster']=_0x18778c(0x2f8),_0x41f877[_0x18778c(0x27b)]=_0x18778c(0x1b9),_0x41f877[_0x18778c(0x35c)]=_0x18778c(0x356),_0x41f877[_0x18778c(0x381)]=_0x18778c(0x3cd),_0x41f877['Error']=_0x18778c(0x4b0),_0x41f877[_0x18778c(0x5cc)]='node',_0x41f877[_0x18778c(0x4a7)]=_0x18778c(0x2b0),_0x41f877[_0x18778c(0x47f)]='pubsub',_0x41f877[_0x18778c(0x38b)]='remediation',_0x41f877[_0x18778c(0x1e4)]=_0x18778c(0x6b5),_0x41f877['Stats']=_0x18778c(0x224),_0x41f877[_0x18778c(0x1ff)]=_0x18778c(0x5f4),_0x41f877[_0x18778c(0x3b0)]=_0x18778c(0x656),_0x41f877[_0x18778c(0x228)]=_0x18778c(0x380),_0x41f877['SystemStats']=_0x18778c(0x3de),_0x41f877[_0x18778c(0x32f)]='test-page',_0x41f877['WebRTC']=_0x18778c(0x69a);}(_0xea19ad||(_0xea19ad={}));class _0x33d5c0{[_0x3317da(0x30b)]={};constructor(_0x898277){const _0x37c37f=_0x3317da;this[_0x37c37f(0x30b)][_0x37c37f(0x1e8)]={'key':_0x898277,'direction':'asc'};}static[_0x3317da(0x206)](_0x523233){const _0x57b78a=_0x3317da;if('string'!=typeof _0x523233||0x0===_0x523233[_0x57b78a(0x43f)])throw new _0xb069c2(_0x1193d2[_0x57b78a(0x5da)],_0x57b78a(0x545));return new _0x33d5c0(_0x523233);}static['validateQuery'](_0x430097){const _0x31ab3d=_0x3317da;try{return _0x33d5c0[_0x31ab3d(0x1f1)](_0x430097),!0x0;}catch(_0x268deb){return!0x1;}}static[_0x3317da(0x1f1)](_0xcbb96b){const _0x2cc9a3=_0x3317da,_0x16477d=_0x33d5c0['index'](_0xcbb96b[_0x2cc9a3(0x1e8)]?.[_0x2cc9a3(0x270)]??_0xcbb96b[_0x2cc9a3(0x2df)]?.[_0x2cc9a3(0x270)]??'');if(_0xcbb96b[_0x2cc9a3(0x2df)]){const _0x290b8b=_0xcbb96b[_0x2cc9a3(0x2df)];if((_0x33d5c0[_0x2cc9a3(0x655)](_0x290b8b)||_0x33d5c0['isWhereValues'](_0x290b8b)||_0x33d5c0[_0x2cc9a3(0x1eb)](_0x290b8b))&&_0x16477d[_0x2cc9a3(0x2df)](_0x290b8b[_0x2cc9a3(0x447)],_0x290b8b[_0x2cc9a3(0x22f)]),_0xcbb96b[_0x2cc9a3(0x1e8)]?.['key']&&_0xcbb96b[_0x2cc9a3(0x1e8)]?.[_0x2cc9a3(0x270)]!==_0xcbb96b['where'][_0x2cc9a3(0x270)])throw new _0xb069c2(_0x1193d2[_0x2cc9a3(0x5da)],_0x2cc9a3(0x174));}return _0xcbb96b[_0x2cc9a3(0x1e8)]&&_0x16477d[_0x2cc9a3(0x1e8)](_0xcbb96b['orderBy']['direction']),_0xcbb96b[_0x2cc9a3(0x1f3)]&&_0x16477d[_0x2cc9a3(0x1f3)](_0xcbb96b['limit']),_0xcbb96b['offset']&&_0x16477d[_0x2cc9a3(0x343)](_0xcbb96b['offset']),_0x16477d;}['getQuery'](){const _0x526663=_0x3317da;return{...this[_0x526663(0x30b)]};}[_0x3317da(0x2df)](_0x22fc8f,_0x16bcdb){const _0x5fda9e=_0x3317da,_0x3aad9a={'key':this['query'][_0x5fda9e(0x1e8)][_0x5fda9e(0x270)],'operator':_0x22fc8f,'value':_0x16bcdb};if(!_0x33d5c0[_0x5fda9e(0x655)](_0x3aad9a)&&!_0x33d5c0[_0x5fda9e(0x51d)](_0x3aad9a)&&!_0x33d5c0[_0x5fda9e(0x1eb)](_0x3aad9a))throw new _0xb069c2(_0x1193d2[_0x5fda9e(0x5da)],_0x5fda9e(0x60d));return this[_0x5fda9e(0x30b)][_0x5fda9e(0x2df)]=_0x3aad9a,this;}[_0x3317da(0x1e8)](_0x46d91f){const _0x14a4a0=_0x3317da;if(_0x14a4a0(0x23a)!==_0x46d91f&&'desc'!==_0x46d91f)throw new _0xb069c2(_0x1193d2[_0x14a4a0(0x5da)],_0x14a4a0(0x4c5));return this['query'][_0x14a4a0(0x1e8)]['direction']=_0x46d91f,this;}[_0x3317da(0x1f3)](_0x29a959){const _0x166605=_0x3317da;if('number'!=typeof _0x29a959||_0x29a959<0x0)throw new _0xb069c2(_0x1193d2[_0x166605(0x5da)],_0x166605(0x22e));return this[_0x166605(0x30b)][_0x166605(0x1f3)]=_0x29a959,this;}[_0x3317da(0x343)](_0x5af06c){const _0x5aaea7=_0x3317da;if(_0x5aaea7(0x4a3)!=typeof _0x5af06c||_0x5af06c<0x0)throw new _0xb069c2(_0x1193d2[_0x5aaea7(0x5da)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0x5aaea7(0x343)]=_0x5af06c,this;}static[_0x3317da(0x655)](_0x23c056){const _0x1daafb=_0x3317da;if(!(_0x23c056&&_0x1daafb(0x264)==typeof _0x23c056&&_0x1daafb(0x447)in _0x23c056&&'value'in _0x23c056))return!0x1;const {operator:_0x40d086,value:_0x17e3aa}=_0x23c056;return!(!['==','!=','>','<','<=','>=']['includes'](_0x40d086)||Array[_0x1daafb(0x68c)](_0x17e3aa));}static[_0x3317da(0x51d)](_0xc91df6){const _0x5938b1=_0x3317da;if(!(_0xc91df6&&_0x5938b1(0x264)==typeof _0xc91df6&&_0x5938b1(0x447)in _0xc91df6&&_0x5938b1(0x22f)in _0xc91df6))return!0x1;const {operator:_0x3afe62,value:_0xe7152}=_0xc91df6;return!(!['in',_0x5938b1(0x6bb)][_0x5938b1(0x32e)](_0x3afe62)||!Array[_0x5938b1(0x68c)](_0xe7152));}static[_0x3317da(0x1eb)](_0x252176){const _0x1bb1ff=_0x3317da;if(!(_0x252176&&_0x1bb1ff(0x264)==typeof _0x252176&&_0x1bb1ff(0x447)in _0x252176&&_0x1bb1ff(0x22f)in _0x252176))return!0x1;const {operator:_0x29a7c7,value:_0x1bf237}=_0x252176;return!('between'!==_0x29a7c7||!Array['isArray'](_0x1bf237)||0x2!==_0x1bf237[_0x1bb1ff(0x43f)]);}}class _0x431d40{['layout'];constructor(_0x5546bf){const _0x1ac839=_0x3317da;this[_0x1ac839(0x4a0)]={'tables':{},'version':_0x5546bf};}static[_0x3317da(0x1a7)](_0x2f3a6e){const _0x1cc9c6=_0x3317da;for(const _0x299e5e in _0x2f3a6e){if('version'!==_0x299e5e&&_0x1cc9c6(0x68e)!==_0x299e5e)return[!0x1,_0x1cc9c6(0x454)+_0x299e5e+_0x1cc9c6(0x5c9)];if(_0x1cc9c6(0x68e)===_0x299e5e)for(const _0x4fc010 in _0x2f3a6e['tables']){if(_0x1cc9c6(0x368)!=typeof _0x4fc010)return[!0x1,_0x1cc9c6(0x6c5)+_0x4fc010+'\x27'];for(const _0x261594 in _0x2f3a6e[_0x1cc9c6(0x68e)][_0x4fc010]){if(_0x1cc9c6(0x55e)!==_0x261594)return[!0x1,_0x1cc9c6(0x454)+_0x261594+_0x1cc9c6(0x582)+_0x4fc010+'\x27'];const _0x24c6d9=_0x2f3a6e['tables'][_0x4fc010][_0x261594]??[];for(const _0x505a9a of _0x24c6d9)if(void 0x0===_0x505a9a[_0x1cc9c6(0x399)]||'string'!=typeof _0x505a9a['keyPath'])return[!0x1,_0x1cc9c6(0x261)+_0x4fc010+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x1cc9c6(0x620)===_0x299e5e&&_0x1cc9c6(0x4a3)!=typeof _0x2f3a6e[_0x299e5e])return[!0x1,_0x1cc9c6(0x273)+_0x2f3a6e[_0x299e5e]+_0x1cc9c6(0x631)];}}return[!0x0,'Valid\x20layout'];}static[_0x3317da(0x4a0)](_0x1678c7){const _0x18b2bf=_0x3317da,_0x42ebe9=new _0x431d40(_0x1678c7);return _0x42ebe9[_0x18b2bf(0x4a0)][_0x18b2bf(0x620)]=_0x1678c7,_0x42ebe9;}[_0x3317da(0x1dd)](_0x345b4a){const _0xfc9380=_0x3317da;return this[_0xfc9380(0x4a0)][_0xfc9380(0x68e)][_0x345b4a]={},new _0x36481c(this[_0xfc9380(0x4a0)][_0xfc9380(0x68e)][_0x345b4a]);}[_0x3317da(0x1d0)](){const _0x1b2d49=_0x3317da;return this[_0x1b2d49(0x4a0)];}}class _0x36481c{[_0x3317da(0x401)];constructor(_0x22faad){this['tableLayout']=_0x22faad;}[_0x3317da(0x206)](_0x4bf55b){const _0x1731aa=_0x3317da;return this[_0x1731aa(0x401)][_0x1731aa(0x55e)]=this['tableLayout'][_0x1731aa(0x55e)]??[],this['tableLayout'][_0x1731aa(0x55e)][_0x1731aa(0x4ee)]({'keyPath':_0x4bf55b}),this;}}const _0x509ae7=_0x3317da(0x546),_0x3a57a3=_0x3317da(0x379),_0x2d07a2=_0x3317da(0x68f),_0x1c4eef=0x7530,_0x3e41dd=_0x3317da(0x39b);var _0x130258;!function(_0x529894){const _0x4de089=_0x3317da;_0x529894[_0x4de089(0x689)]=_0x4de089(0x29a),_0x529894[_0x4de089(0x1ec)]=_0x4de089(0x70b),_0x529894[_0x4de089(0x338)]=_0x4de089(0x2f7),_0x529894[_0x4de089(0x29b)]=_0x4de089(0x5ce),_0x529894['ObjectStoreCannotWriteTransaction']=_0x4de089(0x5de),_0x529894[_0x4de089(0x560)]='object-store-invalid-sync-message',_0x529894['ObjectStoreNotSynced']=_0x4de089(0x36d),_0x529894['InvalidDataChannel']=_0x4de089(0x5f1),_0x529894['InvalidPublisher']=_0x4de089(0x602),_0x529894[_0x4de089(0x444)]=_0x4de089(0x6cc),_0x529894[_0x4de089(0x3b5)]=_0x4de089(0x463),_0x529894[_0x4de089(0x685)]=_0x4de089(0x281),_0x529894['KeyValueDatabaseTableDoesNotExist']=_0x4de089(0x51b),_0x529894[_0x4de089(0x6a0)]='key-value-database-transaction-table-not-initialized',_0x529894[_0x4de089(0x3ce)]=_0x4de089(0x69d),_0x529894[_0x4de089(0x6e3)]=_0x4de089(0x70c),_0x529894[_0x4de089(0x420)]=_0x4de089(0x2a4),_0x529894[_0x4de089(0x14e)]=_0x4de089(0x186),_0x529894[_0x4de089(0x5bf)]=_0x4de089(0x3eb),_0x529894[_0x4de089(0x344)]=_0x4de089(0x2eb),_0x529894[_0x4de089(0x2e2)]='remote-stream-missing-provider-id',_0x529894[_0x4de089(0x431)]=_0x4de089(0x66c),_0x529894[_0x4de089(0x4ed)]='subscription-request-does-not-exist',_0x529894[_0x4de089(0x155)]=_0x4de089(0x4d5),_0x529894[_0x4de089(0x31a)]=_0x4de089(0x3f1),_0x529894[_0x4de089(0x3d8)]='user-does-not-exist',_0x529894[_0x4de089(0x3be)]=_0x4de089(0x537),_0x529894[_0x4de089(0x4c6)]='webrtc-invalid-destination';}(_0x130258||(_0x130258={}));const _0xa86a38=new Map([[_0x130258[_0x3317da(0x689)],_0x3317da(0x19a)],[_0x130258['ConnectionNotConnected'],_0x3317da(0x5ef)],[_0x130258['ConnectionNoRetryQueue'],_0x3317da(0x4fe)],[_0x130258['ConnectionInvalidDataEvent'],_0x3317da(0x391)],[_0x130258[_0x3317da(0x3f7)],_0x3317da(0x304)],[_0x130258[_0x3317da(0x560)],_0x3317da(0x46b)],[_0x130258['ObjectStoreNotSynced'],_0x3317da(0x42d)],[_0x130258[_0x3317da(0x3d1)],_0x3317da(0x1f7)],[_0x130258[_0x3317da(0x232)],_0x3317da(0x1ae)],[_0x130258[_0x3317da(0x444)],_0x3317da(0x218)],[_0x130258[_0x3317da(0x3b5)],_0x3317da(0x1d6)],[_0x130258[_0x3317da(0x685)],_0x3317da(0x64a)],[_0x130258[_0x3317da(0x17b)],_0x3317da(0x593)],[_0x130258[_0x3317da(0x6a0)],_0x3317da(0x603)],[_0x130258[_0x3317da(0x3ce)],'Key-value\x20database\x20transaction\x20value\x20not\x20set.'],[_0x130258[_0x3317da(0x6e3)],_0x3317da(0x148)],[_0x130258[_0x3317da(0x420)],_0x3317da(0x15e)],[_0x130258['MissingSystemTopic'],_0x3317da(0x1ca)],[_0x130258['OutgoingMediaStreamNoTopic'],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x130258[_0x3317da(0x344)],_0x3317da(0x1e6)],[_0x130258[_0x3317da(0x2e2)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x130258[_0x3317da(0x431)],_0x3317da(0x4b3)],[_0x130258['SubscriptionRequestDoesNotExist'],_0x3317da(0x4cc)],[_0x130258[_0x3317da(0x155)],_0x3317da(0x475)],[_0x130258[_0x3317da(0x31a)],_0x3317da(0x538)],[_0x130258[_0x3317da(0x3d8)],_0x3317da(0x56b)],[_0x130258[_0x3317da(0x3be)],_0x3317da(0x337)],[_0x130258[_0x3317da(0x4c6)],'Invalid\x20WebRTC\x20event\x20destination.']]);class _0x2ba88c extends Error{['code'];static [_0x3317da(0x4f1)]=_0x130258;[_0x3317da(0x1ed)];constructor(_0x3a911d,_0x43721e){const _0x45cc30=_0x3317da;super('Internal\x20SDK\x20Error:\x20'+_0x3a911d+':\x20'+_0xa86a38[_0x45cc30(0x1c0)](_0x3a911d)+_0x45cc30(0x23b)+JSON[_0x45cc30(0x461)](_0x43721e)),this[_0x45cc30(0x540)]=_0x3a911d,this[_0x45cc30(0x1ed)]=_0x43721e||{};}}var _0x167820,_0x105e16,_0x382d6d,_0x36a31e,_0x1f8268,_0x1c4d06;!function(_0x56c0fc){const _0x278a3f=_0x3317da;_0x56c0fc[_0x56c0fc[_0x278a3f(0x367)]=0x0]=_0x278a3f(0x367),_0x56c0fc[_0x56c0fc[_0x278a3f(0x65b)]=0x1]=_0x278a3f(0x65b),_0x56c0fc[_0x56c0fc['SubscribeMediaStream']=0x2]=_0x278a3f(0x487),_0x56c0fc[_0x56c0fc[_0x278a3f(0x5a6)]=0x3]=_0x278a3f(0x5a6),_0x56c0fc[_0x56c0fc[_0x278a3f(0x285)]=0x4]='UnsubscribeMediaStream',_0x56c0fc[_0x56c0fc[_0x278a3f(0x205)]=0x5]=_0x278a3f(0x205),_0x56c0fc[_0x56c0fc[_0x278a3f(0x2c8)]=0x6]=_0x278a3f(0x2c8),_0x56c0fc[_0x56c0fc['ClosePubSubTopic']=0x7]=_0x278a3f(0x5a8),_0x56c0fc[_0x56c0fc['CloseMediaStream']=0x8]=_0x278a3f(0x432),_0x56c0fc[_0x56c0fc[_0x278a3f(0x6d5)]=0x9]=_0x278a3f(0x6d5),_0x56c0fc[_0x56c0fc[_0x278a3f(0x25d)]=0xa]=_0x278a3f(0x25d),_0x56c0fc[_0x56c0fc[_0x278a3f(0x680)]=0xb]=_0x278a3f(0x680),_0x56c0fc[_0x56c0fc[_0x278a3f(0x6a4)]=0xc]=_0x278a3f(0x6a4),_0x56c0fc[_0x56c0fc[_0x278a3f(0x6e1)]=0xd]=_0x278a3f(0x6e1),_0x56c0fc[_0x56c0fc[_0x278a3f(0x1bf)]=0xe]=_0x278a3f(0x1bf),_0x56c0fc[_0x56c0fc['ObjectStoreStats']=0xf]=_0x278a3f(0x284),_0x56c0fc[_0x56c0fc[_0x278a3f(0x5f9)]=0x10]='KeyValueDatabaseStats';}(_0x167820||(_0x167820={})),function(_0x19ae94){const _0x5dc11d=_0x3317da;_0x19ae94['FileWrite']=_0x5dc11d(0x665),_0x19ae94[_0x5dc11d(0x5a9)]=_0x5dc11d(0x31f),_0x19ae94[_0x5dc11d(0x38d)]=_0x5dc11d(0x164),_0x19ae94[_0x5dc11d(0x3dc)]='move',_0x19ae94[_0x5dc11d(0x357)]=_0x5dc11d(0x5e7),_0x19ae94[_0x5dc11d(0x437)]='request-accepted',_0x19ae94[_0x5dc11d(0x2d3)]='request-file-sync',_0x19ae94[_0x5dc11d(0x522)]=_0x5dc11d(0x18f);}(_0x105e16||(_0x105e16={})),function(_0x24d49b){const _0x1d5a53=_0x3317da;_0x24d49b[_0x1d5a53(0x597)]=_0x1d5a53(0x4a5),_0x24d49b[_0x1d5a53(0x52e)]='transaction';}(_0x382d6d||(_0x382d6d={})),function(_0x45830e){const _0x897272=_0x3317da;_0x45830e[_0x897272(0x638)]=_0x897272(0x443),_0x45830e[_0x897272(0x324)]=_0x897272(0x69f),_0x45830e[_0x897272(0x38d)]=_0x897272(0x164);}(_0x36a31e||(_0x36a31e={})),function(_0x52c313){const _0x45c425=_0x3317da;_0x52c313[_0x45c425(0x672)]='get',_0x52c313[_0x45c425(0x2be)]='list',_0x52c313[_0x45c425(0x6fc)]=_0x45c425(0x20c);}(_0x1f8268||(_0x1f8268={})),function(_0x40faf0){const _0x6fb79e=_0x3317da;_0x40faf0[_0x40faf0[_0x6fb79e(0x1f2)]=0x0]=_0x6fb79e(0x1f2),_0x40faf0[_0x40faf0[_0x6fb79e(0x5cc)]=0x1]=_0x6fb79e(0x5cc),_0x40faf0[_0x40faf0['Content']=0x2]='Content',_0x40faf0[_0x40faf0[_0x6fb79e(0x1ff)]=0x3]=_0x6fb79e(0x1ff),_0x40faf0[_0x40faf0[_0x6fb79e(0x1d7)]=0x4]=_0x6fb79e(0x1d7),_0x40faf0[_0x40faf0['Detection']=0x5]='Detection',_0x40faf0[_0x40faf0[_0x6fb79e(0x38b)]=0x6]=_0x6fb79e(0x38b);}(_0x1c4d06||(_0x1c4d06={}));class _0x4c05e1{[_0x3317da(0x6aa)];['label'];[_0x3317da(0x576)];constructor(_0x510883,_0x3129dd){const _0x4d36c5=_0x3317da;this[_0x4d36c5(0x6aa)]=_0x510883,this[_0x4d36c5(0x369)]=_0x3129dd;}[_0x3317da(0x6c6)](){const _0x136789=_0x3317da;return this[_0x136789(0x369)];}[_0x3317da(0x268)](){const _0x53cd24=_0x3317da;return this[_0x53cd24(0x6aa)];}[_0x3317da(0x6b8)](){}[_0x3317da(0x592)](_0x42f9be){const _0x14bb08=_0x3317da;this[_0x14bb08(0x576)]=_0x42f9be;}[_0x3317da(0x449)](){const _0x2cedc2=_0x3317da;delete this[_0x2cedc2(0x576)];}}function _0x2cbd7a(_0x27a7e4){const _0x1cc3fb=_0x3317da;return _0x27a7e4[_0x1cc3fb(0x45a)]('/')[_0x1cc3fb(0x5e1)](_0x5c42af=>_0x5c42af[_0x1cc3fb(0x43f)]>0x0);}function _0x1b3c6b(_0xcfdb2f,_0x12592f){return'/'===_0xcfdb2f?_0xcfdb2f+_0x12592f:_0xcfdb2f+'/'+_0x12592f;}function _0x3b0fd4(_0x56fabc){const _0x510d6b=_0x3317da,_0x3452e1=_0x2cbd7a(_0x56fabc),_0x5c254a=_0x3452e1[_0x510d6b(0x251)]()||'',_0x5692fe=_0x3452e1[_0x510d6b(0x2d6)]('/');return[0x0===_0x5692fe[_0x510d6b(0x43f)]?'/':_0x5692fe,_0x5c254a];}async function _0x39dd23(_0x4c65a6){const _0x36427a=_0x3317da,_0x110844=await _0x4c65a6['arrayBuffer'](),_0x32d087=new Uint8Array(_0x110844);let _0x3c1e91=0x0;for(const _0x3bf4d1 of _0x32d087)_0x3c1e91+=_0x3bf4d1;return _0x3c1e91[_0x36427a(0x596)]();}function _0x1679ed(_0x2e3cba){return new Promise((_0x13bfdc,_0x9ef341)=>{!function(_0x4952f5,_0x1fa423,_0x2f5015){let _0x3f23de=0x0;const _0x48f0c5=[],_0x3c5625=()=>{const _0x36c9d0=a0_0x2858;let _0x51d998=_0x3f23de+0x3f800;_0x51d998>_0x4952f5[_0x36c9d0(0x63a)]&&(_0x51d998=_0x4952f5[_0x36c9d0(0x63a)]);let _0x34d135=_0x4952f5[_0x36c9d0(0x60e)](_0x3f23de,_0x51d998),_0x59d382=new FileReader();_0x59d382[_0x36c9d0(0x63f)]=_0x5bf93d=>{const _0x376475=_0x36c9d0;_0x48f0c5[_0x376475(0x4ee)](_0x59d382[_0x376475(0x47a)]),_0x3f23de=_0x51d998,_0x3f23de<_0x4952f5[_0x376475(0x63a)]?_0x3c5625():_0x1fa423(_0x48f0c5);},_0x59d382[_0x36c9d0(0x28c)]=_0x32bb47=>{_0x2f5015(_0x32bb47);},_0x59d382[_0x36c9d0(0x59a)](_0x34d135);};_0x3c5625();}(_0x2e3cba,_0x13bfdc,_0x9ef341);});}function _0x1777f2(_0x1b6e76,_0x3f60cf,_0x527780){return new File(_0x1b6e76,_0x3f60cf,{'type':_0x527780});}class _0x36e558 extends _0x4c05e1{[_0x3317da(0x1db)];[_0x3317da(0x275)];[_0x3317da(0x6a8)]=new Map();['messagesSent']=0x0;['messagesReceived']=0x0;['bytesSent']=0x0;[_0x3317da(0x3bf)]=0x0;constructor(_0x15b7e4,_0x34d298){super(_0x15b7e4,_0x34d298);}[_0x3317da(0x262)](){const _0x1d81a5=_0x3317da;return _0x12c3f7[_0x1d81a5(0x527)];}[_0x3317da(0x4c8)](){return this['label'];}[_0x3317da(0x6ab)](_0x303b86){const _0x5ab044=_0x3317da;if(this[_0x5ab044(0x1db)])throw new _0x2ba88c(_0x2ba88c[_0x5ab044(0x4f1)]['InvalidPublisher'],{'message':_0x5ab044(0x31e)+this['ownerId']+'\x20-\x20'+this[_0x5ab044(0x369)],'topic':this[_0x5ab044(0x1db)]});this[_0x5ab044(0x1db)]=_0x303b86;}['registerSubscriber'](_0x5607f4){const _0x500131=_0x3317da;if(this['incomingTopic'])throw new _0x2ba88c(_0x2ba88c[_0x500131(0x4f1)][_0x500131(0x444)],{'message':_0x500131(0x21c)+this['ownerId']+_0x500131(0x567)+this[_0x500131(0x369)],'topic':this[_0x500131(0x275)]});this[_0x500131(0x275)]=_0x5607f4;}[_0x3317da(0x3ec)](){const _0x4c5df7=_0x3317da;delete this[_0x4c5df7(0x1db)];}['unregisterSubscriber'](){delete this['incomingTopic'];}async[_0x3317da(0x452)](_0x5f510b,_0x5e2327){const _0x4ba244=_0x3317da;if(this[_0x4ba244(0x611)]+=0x1,_0x5f510b instanceof File){const _0x3cf464=await _0x1679ed(_0x5f510b);return this['bytesSent']+=_0x3cf464[_0x4ba244(0x65e)]((_0x2da101,_0x2608d3)=>_0x2da101+_0x2608d3['byteLength'],0x0),void _0x3cf464[_0x4ba244(0x505)]((_0x1446f3,_0x3d96aa)=>{const _0x24f7db=_0x4ba244;this['outgoingTopic']['publish']({'sourceId':this[_0x24f7db(0x6aa)],'destinationIds':_0x5e2327,'propagate':!0x0,'contentType':_0x12c3f7[_0x24f7db(0x4d2)],'content':{'name':_0x5f510b[_0x24f7db(0x543)],'type':_0x5f510b[_0x24f7db(0x1e3)],'data':_0x1446f3,'index':_0x3d96aa,'total':_0x3cf464[_0x24f7db(0x43f)]}});});}this[_0x4ba244(0x64f)]+=JSON[_0x4ba244(0x461)](_0x5f510b)[_0x4ba244(0x43f)],this['outgoingTopic']['publish']({'sourceId':this[_0x4ba244(0x6aa)],'destinationIds':_0x5e2327,'propagate':!0x0,'contentType':_0x12c3f7[_0x4ba244(0x527)],'content':_0x5f510b});}[_0x3317da(0x470)](_0x42491b){const _0x5a25b6=_0x3317da;return this[_0x5a25b6(0x275)][_0x5a25b6(0x650)](_0x30772e=>{const _0x3e7fc1=_0x5a25b6;switch(_0x30772e[_0x3e7fc1(0x272)]){case _0x12c3f7[_0x3e7fc1(0x527)]:this[_0x3e7fc1(0x364)]+=0x1,this[_0x3e7fc1(0x3bf)]+=JSON[_0x3e7fc1(0x461)](_0x30772e[_0x3e7fc1(0x1b9)])['length'],_0x42491b(_0x30772e[_0x3e7fc1(0x396)],_0x30772e['content']);break;case _0x12c3f7[_0x3e7fc1(0x4d2)]:this[_0x3e7fc1(0x6a8)]['has'](_0x30772e['content'][_0x3e7fc1(0x543)])||this[_0x3e7fc1(0x6a8)][_0x3e7fc1(0x2c2)](_0x30772e[_0x3e7fc1(0x1b9)][_0x3e7fc1(0x543)],[]);const _0x9076d4=this['fileChunks']['get'](_0x30772e[_0x3e7fc1(0x1b9)][_0x3e7fc1(0x543)]);_0x9076d4[_0x30772e[_0x3e7fc1(0x1b9)][_0x3e7fc1(0x206)]]=_0x30772e[_0x3e7fc1(0x1b9)][_0x3e7fc1(0x1ed)],_0x9076d4['length']===_0x30772e['content']['total']&&(this['messagesReceived']+=0x1,this[_0x3e7fc1(0x3bf)]+=_0x9076d4[_0x3e7fc1(0x65e)]((_0x34251a,_0x57bd25)=>_0x34251a+_0x57bd25[_0x3e7fc1(0x3c9)],0x0),_0x42491b(_0x30772e[_0x3e7fc1(0x396)],_0x1777f2(_0x9076d4,_0x30772e[_0x3e7fc1(0x1b9)][_0x3e7fc1(0x543)],_0x30772e[_0x3e7fc1(0x1b9)][_0x3e7fc1(0x1e3)])),this[_0x3e7fc1(0x6a8)][_0x3e7fc1(0x164)](_0x30772e['content'][_0x3e7fc1(0x543)]));}});}}const _0xdef932=require('uuid');function _0x421140(_0x41d26c){return new Promise((_0x12465d,_0x38b933)=>{const _0x63a9b7=a0_0x2858;_0x41d26c[_0x63a9b7(0x33e)]=()=>_0x12465d(_0x41d26c[_0x63a9b7(0x47a)]),_0x41d26c[_0x63a9b7(0x28c)]=()=>_0x38b933(_0x41d26c[_0x63a9b7(0x4b0)]);});}async function*_0x357a35(_0x598d8f,{limit:_0x24e802=0x0,offset:_0x3c7f39=0x0,where:_0x55b4f5}){const _0x22e947=_0x3317da;let _0x23c79b=0x0;const {operator:_0x306077,key:_0x381d7f,value:_0x2cd0ac}=_0x55b4f5??{};if(_0x3c7f39>0x0){if(await _0x421140(_0x598d8f),!_0x598d8f[_0x22e947(0x47a)])return;_0x598d8f[_0x22e947(0x47a)][_0x22e947(0x5e3)](_0x3c7f39);}for(;;){await _0x421140(_0x598d8f);const {result:_0x16e41d}=_0x598d8f;if(!_0x16e41d)break;if(_0x24e802>0x0&&_0x23c79b>=_0x24e802)break;_0x381d7f&&_0x2cd0ac&&('!='===_0x306077&&_0x2cd0ac===_0x16e41d[_0x22e947(0x22f)][_0x381d7f]||_0x22e947(0x6bb)===_0x306077&&_0x2cd0ac[_0x22e947(0x32e)](_0x16e41d[_0x22e947(0x22f)][_0x381d7f])||'in'===_0x306077&&!_0x2cd0ac[_0x22e947(0x32e)](_0x16e41d[_0x22e947(0x22f)][_0x381d7f]))||(_0x23c79b+=0x1,yield _0x16e41d[_0x22e947(0x22f)]),_0x16e41d[_0x22e947(0x19b)]();}}class _0xcb0fbe{['db'];[_0x3317da(0x424)];constructor(_0x37bdd3,_0x4ca227){const _0x2602db=_0x3317da;this['db']=_0x37bdd3,this[_0x2602db(0x424)]=_0x4ca227;}async[_0x3317da(0x1c0)](_0x33c30e){const _0x34c13e=_0x3317da,_0x4c8cfa=this['db']['transaction'](this[_0x34c13e(0x424)],_0x34c13e(0x55a))['objectStore'](this[_0x34c13e(0x424)]);return await _0x421140(_0x4c8cfa[_0x34c13e(0x1c0)](_0x33c30e));}async[_0x3317da(0x2c2)](_0x275764,_0x1998c3){const _0x4c8350=_0x3317da,_0xa99dd4=this['db'][_0x4c8350(0x5f0)](this[_0x4c8350(0x424)],'readwrite')[_0x4c8350(0x26e)](this['tableName']),_0x11f2b3={..._0x1998c3,'id':_0x275764};return await _0x421140(_0xa99dd4[_0x4c8350(0x5f5)](_0x11f2b3)),_0x11f2b3;}async[_0x3317da(0x443)](_0x3f6b4a){const _0x1da2fe=_0x3317da,_0x57c0dc=this['db'][_0x1da2fe(0x5f0)](this[_0x1da2fe(0x424)],'readwrite')[_0x1da2fe(0x26e)](this[_0x1da2fe(0x424)]),_0x115abe={..._0x3f6b4a,'id':(0x0,_0xdef932['v4'])()};return await _0x421140(_0x57c0dc[_0x1da2fe(0x443)](_0x115abe)),_0x115abe;}async[_0x3317da(0x164)](_0xb173c1){const _0x4cf4b3=_0x3317da,_0x2304db=this['db'][_0x4cf4b3(0x5f0)](this['tableName'],_0x4cf4b3(0x5a5))[_0x4cf4b3(0x26e)](this[_0x4cf4b3(0x424)]);await _0x421140(_0x2304db[_0x4cf4b3(0x164)](_0xb173c1));}async['clear'](){const _0x1bc2ff=_0x3317da,_0x587891=this['db'][_0x1bc2ff(0x5f0)](this['tableName'],'readwrite')[_0x1bc2ff(0x26e)](this[_0x1bc2ff(0x424)]);await _0x421140(_0x587891[_0x1bc2ff(0x299)]());}async['list'](_0x584e51){const _0x7ce9c=_0x3317da;try{_0x584e51&&(_0x584e51=_0x584e51 instanceof _0x33d5c0?_0x584e51[_0x7ce9c(0x531)]():_0x33d5c0[_0x7ce9c(0x1f1)](_0x584e51)[_0x7ce9c(0x531)]());}catch(_0x3d6c52){throw console['warn'](_0x7ce9c(0x6f2),_0x3d6c52),new _0xb069c2(_0x1193d2['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{const _0x2de463=this['db'][_0x7ce9c(0x5f0)](this[_0x7ce9c(0x424)],'readonly')['objectStore'](this['tableName']);let _0x3cd6a8=null;const _0x501e4a=_0x7ce9c(0x23a)===_0x584e51?.[_0x7ce9c(0x1e8)]?.[_0x7ce9c(0x719)]?_0x7ce9c(0x2aa):_0x7ce9c(0x542)===_0x584e51?.[_0x7ce9c(0x1e8)]?.[_0x7ce9c(0x719)]?_0x7ce9c(0x2b9):void 0x0;if(_0x584e51){if(_0x584e51['where']){const _0x4fcdd3=this['getIndexFromWhereQuery'](_0x2de463,_0x584e51),_0x3312bc=this['getKeyRange'](_0x584e51[_0x7ce9c(0x2df)]);_0x3cd6a8=_0x4fcdd3[_0x7ce9c(0x5f7)](_0x3312bc,_0x501e4a);}else _0x584e51[_0x7ce9c(0x1e8)]?.['key']&&(_0x3cd6a8=this['getIndexFromStore'](_0x2de463,_0x584e51[_0x7ce9c(0x1e8)]['key'])['openCursor'](null,_0x501e4a));}_0x3cd6a8||(_0x3cd6a8=_0x2de463[_0x7ce9c(0x5f7)]());const _0xf4ce11=[];for await(const _0x17dee1 of _0x357a35(_0x3cd6a8,_0x584e51??{}))_0xf4ce11['push'](_0x17dee1);return _0xf4ce11;}catch(_0x548e2e){if(_0x548e2e instanceof _0xb069c2)throw _0x548e2e;throw console['warn'](_0x7ce9c(0x516),_0x548e2e),new _0xb069c2(_0x1193d2[_0x7ce9c(0x54e)],'Invalid\x20query');}}async[_0x3317da(0x20c)](_0x2e9b74){const _0x189167=_0x3317da;try{_0x2e9b74&&(_0x2e9b74=_0x2e9b74 instanceof _0x33d5c0?_0x2e9b74[_0x189167(0x531)]():_0x33d5c0['buildQuery'](_0x2e9b74)[_0x189167(0x531)]());}catch(_0x188ecd){throw console['warn'](_0x189167(0x6f2),_0x188ecd),new _0xb069c2(_0x1193d2[_0x189167(0x54e)],_0x189167(0x4db));}const _0x48a55f=this['db'][_0x189167(0x5f0)](this['tableName'],'readonly')[_0x189167(0x26e)](this['tableName']);if(!_0x2e9b74?.[_0x189167(0x2df)])return await _0x421140(_0x48a55f[_0x189167(0x20c)]());const _0x5824a0=this[_0x189167(0x41c)](_0x48a55f,_0x2e9b74),_0x2957d3=this['getKeyRange'](_0x2e9b74[_0x189167(0x2df)]);if('!='!==_0x2e9b74['where']['operator']&&'in'!==_0x2e9b74[_0x189167(0x2df)]['operator']&&_0x189167(0x6bb)!==_0x2e9b74[_0x189167(0x2df)]['operator'])return await _0x421140(_0x5824a0[_0x189167(0x20c)](_0x2957d3));const _0x46a273=await this['getComplementaryCount'](_0x5824a0,_0x2e9b74[_0x189167(0x2df)]);return'in'===_0x2e9b74['where'][_0x189167(0x447)]?_0x46a273:await _0x421140(_0x48a55f['count']())-_0x46a273;}async[_0x3317da(0x1a2)](){const _0x5cedee=_0x3317da,_0x39b768=this['db'][_0x5cedee(0x5f0)](this[_0x5cedee(0x424)],_0x5cedee(0x55a))['objectStore'](this[_0x5cedee(0x424)])[_0x5cedee(0x5f7)]();let _0x19f5b0=0x0;for await(const _0x116f80 of _0x357a35(_0x39b768,{}))_0x19f5b0+=new Blob([JSON[_0x5cedee(0x461)](_0x116f80)])[_0x5cedee(0x63a)];return _0x19f5b0;}[_0x3317da(0x650)](_0x5e8b4c){}[_0x3317da(0x247)](_0x508520){const _0x3bb2f8=_0x3317da;if(!_0x508520?.[_0x3bb2f8(0x447)]||!_0x508520?.[_0x3bb2f8(0x22f)])throw new _0xb069c2(_0x1193d2[_0x3bb2f8(0x54e)],_0x3bb2f8(0x5bc));const {operator:_0x5e0bc2,value:_0x100084}=_0x508520;switch(_0x5e0bc2){case'==':return IDBKeyRange[_0x3bb2f8(0x260)](_0x100084);case'>':case'>=':return IDBKeyRange['lowerBound'](_0x100084,'>'===_0x5e0bc2);case'<':case'<=':return IDBKeyRange[_0x3bb2f8(0x64c)](_0x100084,'<'===_0x5e0bc2);case _0x3bb2f8(0x3d0):return IDBKeyRange[_0x3bb2f8(0x378)](_0x100084[0x0],_0x100084[0x1]);case'!=':case _0x3bb2f8(0x6bb):case'in':return;default:throw new _0xb069c2(_0x1193d2[_0x3bb2f8(0x54e)],'Invalid\x20query:\x20invalid\x20operator:\x20'+_0x5e0bc2);}}['getIndexFromWhereQuery'](_0x2ad1bd,_0x1598ad){const _0x2e1b8a=_0x3317da;if(!_0x1598ad['where']?.[_0x2e1b8a(0x270)])throw new _0xb069c2(_0x1193d2[_0x2e1b8a(0x54e)],_0x2e1b8a(0x256));return _0x2ad1bd[_0x2e1b8a(0x399)]===_0x1598ad[_0x2e1b8a(0x2df)]['key']?_0x2ad1bd:this['getIndexFromStore'](_0x2ad1bd,_0x1598ad[_0x2e1b8a(0x2df)]['key']);}[_0x3317da(0x6fd)](_0x3c2201,_0x54e62f){const _0xe9bb06=_0x3317da;try{return _0x3c2201[_0xe9bb06(0x206)](_0x54e62f);}catch(_0x1cd309){throw new _0xb069c2(_0x1193d2[_0xe9bb06(0x648)],'Index\x20not\x20found');}}async['getComplementaryCount'](_0x47864c,_0x14bdc9){const _0x39a535=_0x3317da,_0xc08e08={..._0x14bdc9},_0x185831=Array[_0x39a535(0x68c)](_0x14bdc9[_0x39a535(0x22f)])?_0x14bdc9[_0x39a535(0x22f)]:[_0x14bdc9['value']];_0xc08e08[_0x39a535(0x447)]='==';let _0x620048=0x0;for(const _0x92cbb5 of _0x185831){_0xc08e08[_0x39a535(0x22f)]=_0x92cbb5;const _0x42cf52=this[_0x39a535(0x247)](_0xc08e08);_0x620048+=await _0x421140(_0x47864c[_0x39a535(0x20c)](_0x42cf52));}return _0x620048;}}function _0x2d6d4d(){const _0x59e7cc=_0x3317da;let _0xe22309=[];return{'subscribe':_0x25bc4d=>(_0xe22309[_0x59e7cc(0x4ee)](_0x25bc4d),()=>{const _0x23a364=_0x59e7cc;_0xe22309=_0xe22309[_0x23a364(0x5e1)](_0x5707ef=>_0x5707ef!==_0x25bc4d);}),'publish':_0x100e46=>{_0xe22309['forEach'](_0x32eb22=>_0x32eb22(_0x100e46));}};}function _0x4dbd80(){let _0x22ee41;return{'subscribe':_0x3a38f7=>(_0x22ee41=_0x3a38f7,()=>{_0x22ee41=void 0x0;}),'publish':_0x4b342f=>{_0x22ee41&&_0x22ee41(_0x4b342f);}};}class _0x2b931b{['db'];[_0x3317da(0x424)];[_0x3317da(0x2bc)];[_0x3317da(0x192)];['eventListener']=_0x4dbd80();[_0x3317da(0x568)];constructor(_0x1c556b,_0x485759,_0x5562ec){const _0x101ba6=_0x3317da;this['db']=_0x1c556b,this[_0x101ba6(0x424)]=_0x485759,this[_0x101ba6(0x2bc)]=_0x5562ec,this['connector']=new _0xcb0fbe(_0x1c556b,_0x485759);}[_0x3317da(0x6b8)](){const _0x20fc03=_0x3317da;this[_0x20fc03(0x568)]?.();}async[_0x3317da(0x1c0)](_0x405c64){const _0x139ee2=_0x3317da,_0x226819={'key':_0x405c64,'tableName':this['tableName'],'action':_0x1f8268[_0x139ee2(0x672)]};return this[_0x139ee2(0x2bc)][_0x139ee2(0x6af)](_0x226819),this['connector'][_0x139ee2(0x1c0)](_0x405c64);}async[_0x3317da(0x2c2)](_0x42c78b,_0x5c5c33,_0x9451b5=!0x0){const _0x36d44b=_0x3317da;this['validateValue'](_0x5c5c33);const _0x59e92e=await this[_0x36d44b(0x192)]['get'](_0x42c78b),_0x2c763a=await this[_0x36d44b(0x192)][_0x36d44b(0x2c2)](_0x42c78b,_0x5c5c33),_0x9c2ad8=_0x59e92e?_0x36a31e['Update']:_0x36a31e[_0x36d44b(0x638)];if(this[_0x36d44b(0x6af)](_0x9c2ad8,_0x2c763a),!_0x9451b5)return _0x2c763a;const _0x589bdb={'key':_0x42c78b,'tableName':this['tableName'],'action':_0x9c2ad8,'value':_0x2c763a};return this[_0x36d44b(0x2bc)]['publish'](_0x589bdb),_0x2c763a;}async[_0x3317da(0x443)](_0x139b28){const _0x239e00=_0x3317da;this[_0x239e00(0x50b)](_0x139b28);const _0x4dd196=await this['connector'][_0x239e00(0x443)](_0x139b28),_0x4fa641={'key':_0x4dd196['id'],'tableName':this[_0x239e00(0x424)],'action':_0x36a31e[_0x239e00(0x638)],'value':_0x4dd196};return this[_0x239e00(0x2bc)][_0x239e00(0x6af)](_0x4fa641),this[_0x239e00(0x6af)](_0x4fa641['action'],_0x4dd196),_0x4dd196;}async[_0x3317da(0x164)](_0x43d782,_0x54c2a9=!0x0){const _0x5705a5=_0x3317da,_0x45241d=await this['connector']['get'](_0x43d782);if(!_0x45241d)return;await this['connector'][_0x5705a5(0x164)](_0x43d782);const _0x36b070=_0x36a31e[_0x5705a5(0x38d)];if(this[_0x5705a5(0x6af)](_0x36b070,_0x45241d),!_0x54c2a9)return;const _0x194d96={'key':_0x43d782,'tableName':this[_0x5705a5(0x424)],'action':_0x36b070,'value':_0x45241d};this[_0x5705a5(0x2bc)][_0x5705a5(0x6af)](_0x194d96);}async[_0x3317da(0x299)](){const _0x295c82=_0x3317da,_0x498de2=await this['list']();for(const _0x51bcb4 of _0x498de2){const _0x497d42=_0x36a31e['Delete'];this[_0x295c82(0x6af)](_0x497d42,_0x51bcb4);const _0x41d714={'key':_0x51bcb4['id'],'tableName':this[_0x295c82(0x424)],'action':_0x497d42,'value':_0x51bcb4};this[_0x295c82(0x2bc)][_0x295c82(0x6af)](_0x41d714);}return this[_0x295c82(0x192)][_0x295c82(0x299)]();}async[_0x3317da(0x5c4)](_0xd52812){const _0x5ddaeb=_0x3317da,_0x133e61={'key':'','tableName':this[_0x5ddaeb(0x424)],'action':_0x1f8268[_0x5ddaeb(0x2be)]};return this[_0x5ddaeb(0x2bc)]['publish'](_0x133e61),this[_0x5ddaeb(0x192)][_0x5ddaeb(0x5c4)](_0xd52812);}async[_0x3317da(0x20c)](_0x4f2dea){const _0x73685e=_0x3317da,_0x4a28f2={'key':'','tableName':this[_0x73685e(0x424)],'action':_0x1f8268['Count']};return this[_0x73685e(0x2bc)][_0x73685e(0x6af)](_0x4a28f2),this[_0x73685e(0x192)][_0x73685e(0x20c)](_0x4f2dea);}[_0x3317da(0x1a2)](){const _0x484990=_0x3317da;return this[_0x484990(0x192)]['calculateSize']();}[_0x3317da(0x650)](_0x284a98){const _0x2d7406=_0x3317da;this[_0x2d7406(0x568)]=this['eventListener'][_0x2d7406(0x650)](_0x284a98);}[_0x3317da(0x295)](){const _0x1ab852=_0x3317da;this[_0x1ab852(0x568)]?.();}[_0x3317da(0x6af)](_0x74340f,_0x5e8ed2){const _0x1febe9=_0x3317da,_0x5ec5d1=this[_0x1febe9(0x2f5)](_0x74340f,_0x5e8ed2);this['eventListener']['publish'](_0x5ec5d1);}[_0x3317da(0x2f5)](_0x11714c,_0xb1319d){const _0x4ca48f=_0x3317da;let _0x1543b8;switch(_0x11714c){case _0x36a31e[_0x4ca48f(0x638)]:_0x1543b8=_0x4ca48f(0x443);break;case _0x36a31e[_0x4ca48f(0x324)]:_0x1543b8='update';break;case _0x36a31e['Delete']:_0x1543b8=_0x4ca48f(0x164);}return{'action':_0x1543b8,'value':_0xb1319d};}[_0x3317da(0x50b)](_0xebdc32){const _0x9f120b=_0x3317da;if(_0x9f120b(0x264)!=typeof _0xebdc32||null===_0xebdc32)throw new _0xb069c2(_0x1193d2[_0x9f120b(0x695)],_0x9f120b(0x5c6));for(const _0x52b049 in _0xebdc32){const _0x1b6012=_0xebdc32[_0x52b049];if('object'!=typeof _0x1b6012||_0x1b6012 instanceof Date){if(![_0x9f120b(0x368),_0x9f120b(0x4a3),_0x9f120b(0x3c5)][_0x9f120b(0x32e)](typeof _0x1b6012))throw new _0xb069c2(_0x1193d2['KeyValueDatabaseInvalidValue'],_0x9f120b(0x464)+_0x52b049+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x9f120b(0x50b)](_0x1b6012);}}}const _0x4eccee=require('firebase/app'),_0x2e6b55=require('firebase/auth'),_0x1c27f7=require('firebase/database'),_0x4e5e10=require('firebase/firestore'),_0x227d42=require('firebase/functions');let _0x4cab27=_0x563737(0xa9)['q'];function _0x5dfd47(_0x5be24e){const _0xbc7595=_0x3317da;return!(!_0x5be24e||_0xbc7595(0x264)!=typeof _0x5be24e||Array[_0xbc7595(0x68c)](_0x5be24e));}_0x4cab27=function _0x3e5a18(_0x30f70b,..._0x594d14){const _0x64a350=_0x3317da;if(!Array[_0x64a350(0x68c)](_0x594d14)||0x0===_0x594d14[_0x64a350(0x43f)])return _0x30f70b;const _0x2bf87d=_0x594d14[_0x64a350(0x68d)]();if(_0x5dfd47(_0x30f70b)&&_0x5dfd47(_0x2bf87d)){for(const _0x1e5e59 in _0x2bf87d)_0x5dfd47(_0x2bf87d[_0x1e5e59])?(_0x30f70b[_0x1e5e59]||Object[_0x64a350(0x529)](_0x30f70b,{[_0x1e5e59]:{}}),_0x3e5a18(_0x30f70b[_0x1e5e59],_0x2bf87d[_0x1e5e59])):Object[_0x64a350(0x529)](_0x30f70b,{[_0x1e5e59]:_0x2bf87d[_0x1e5e59]});}return _0x3e5a18(_0x30f70b,..._0x594d14);}(_0x4cab27,_0x563737(0x1fc)['q']);const _0x578412=_0x4cab27;class _0x3d8e0a{static [_0x3317da(0x241)];[_0x3317da(0x6db)];['auth'];[_0x3317da(0x321)];['database'];[_0x3317da(0x55c)];[_0x3317da(0x51c)];constructor(){}static[_0x3317da(0x53d)](){const _0x2b37b9=_0x3317da;return _0x3d8e0a[_0x2b37b9(0x241)]||(_0x3d8e0a[_0x2b37b9(0x241)]=new _0x3d8e0a()),_0x3d8e0a[_0x2b37b9(0x241)];}['getApp'](){const _0x3a9e21=_0x3317da;return this['app']||(this[_0x3a9e21(0x6db)]=(0x0,_0x4eccee[_0x3a9e21(0x183)])(_0x578412[_0x3a9e21(0x151)])),this['app'];}[_0x3317da(0x700)](){const _0x5ab99c=_0x3317da;return this[_0x5ab99c(0x168)]||(this[_0x5ab99c(0x168)]=(0x0,_0x2e6b55['getAuth'])(this[_0x5ab99c(0x6ec)]())),this[_0x5ab99c(0x168)];}['getFunctions'](){const _0x3b4b2e=_0x3317da;return this['functions']||(this[_0x3b4b2e(0x321)]=(0x0,_0x227d42[_0x3b4b2e(0x176)])(this['getApp'](),_0x578412[_0x3b4b2e(0x151)][_0x3b4b2e(0x478)])),this[_0x3b4b2e(0x321)];}[_0x3317da(0x3d9)](){const _0x2bbd70=_0x3317da;return this[_0x2bbd70(0x4d8)]||(this['database']=(0x0,_0x1c27f7[_0x2bbd70(0x3d9)])(this[_0x2bbd70(0x6ec)]())),this[_0x2bbd70(0x4d8)];}[_0x3317da(0x6b1)](){const _0x18e60c=_0x3317da;return this[_0x18e60c(0x55c)]||(this['firestore']=(0x0,_0x4e5e10[_0x18e60c(0x6b1)])(this[_0x18e60c(0x6ec)]())),this['firestore'];}async[_0x3317da(0x2dd)](){const _0x4ddda4=_0x3317da;if(this[_0x4ddda4(0x51c)])return Date[_0x4ddda4(0x6dd)]()+this[_0x4ddda4(0x51c)];const _0x5912b8=this[_0x4ddda4(0x3d9)](),_0x55c821=(0x0,_0x1c27f7['ref'])(_0x5912b8,_0x4ddda4(0x530)),_0xa10b91=(0x0,_0x1c27f7[_0x4ddda4(0x56d)])(_0x55c821,_0x423c08=>{const _0x5d885c=_0x4ddda4;!0x1===_0x423c08[_0x5d885c(0x274)]()&&(_0xa10b91(),delete this[_0x5d885c(0x51c)]);}),_0x3702f5=(0x0,_0x1c27f7[_0x4ddda4(0x394)])(_0x5912b8,_0x4ddda4(0x14f));return new Promise(_0x1bfc92=>{const _0x28bbe7=_0x4ddda4;(0x0,_0x1c27f7[_0x28bbe7(0x56d)])(_0x3702f5,_0x54db6a=>{const _0x54936f=_0x28bbe7;(0x0,_0x1c27f7[_0x54936f(0x50d)])(_0x3702f5),this[_0x54936f(0x51c)]=_0x54db6a[_0x54936f(0x274)](),_0x1bfc92(Date[_0x54936f(0x6dd)]()+(this[_0x54936f(0x51c)]??0x0));});});}}const _0x1159b8=_0x3d8e0a['getInstance']();class _0x44bae0{static ['instance'];[_0x3317da(0x18a)]=[_0xea19ad['Default']];[_0x3317da(0x591)]=!0x0;['loggingConnectors'];['vendorId']='';constructor(){const _0x23fc5e=_0x3317da;this['loadEnabledClusters'](),window[_0x23fc5e(0x210)]=_0x107732=>{const _0x5f3653=_0x23fc5e;if(_0x107732===_0xea19ad[_0x5f3653(0x2f2)])return this[_0x5f3653(0x18a)]=Object[_0x5f3653(0x3f9)](_0xea19ad)[_0x5f3653(0x488)](_0x18afe1=>_0xea19ad[_0x18afe1]),void Object[_0x5f3653(0x3f9)](_0xea19ad)[_0x5f3653(0x505)](_0x5036fd=>{const _0x1fdb13=_0x5f3653,_0x18a688=_0x5036fd;localStorage['setItem'](_0x1fdb13(0x65a)+_0xea19ad[_0x18a688],_0x1fdb13(0x320));});this[_0x5f3653(0x18a)]['includes'](_0x107732)||(this[_0x5f3653(0x18a)][_0x5f3653(0x4ee)](_0x107732),localStorage[_0x5f3653(0x196)](_0x5f3653(0x65a)+_0x107732,_0x5f3653(0x320)));},window['crewdleSDKDisableLogging']=_0x393fc3=>{const _0x33854c=_0x23fc5e;if(!_0x393fc3||_0x393fc3===_0xea19ad['All'])return this[_0x33854c(0x18a)]=[],void Object[_0x33854c(0x3f9)](_0xea19ad)['forEach'](_0xbb0a9d=>{const _0x371869=_0x33854c,_0x2db627=_0xbb0a9d;localStorage[_0x371869(0x33a)](_0x371869(0x65a)+_0xea19ad[_0x2db627]);});this['enabledChannels'][_0x33854c(0x32e)](_0x393fc3)&&(this[_0x33854c(0x18a)]=this['enabledChannels'][_0x33854c(0x5e1)](_0x1c6ace=>_0x1c6ace!==_0x393fc3),localStorage[_0x33854c(0x33a)]('crewdle-sdk-logging-'+_0x393fc3));},window[_0x23fc5e(0x4ef)]=_0xea19ad;}static[_0x3317da(0x53d)](){const _0x225394=_0x3317da;try{return _0x44bae0[_0x225394(0x241)]||(_0x44bae0[_0x225394(0x241)]=new _0x44bae0()),_0x44bae0[_0x225394(0x241)];}catch(_0x5f2779){return console[_0x225394(0x4b0)]('Logger.getInstance',_0x5f2779),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isClusterEnabled':()=>!0x1};}}[_0x3317da(0x34c)](_0x1283ee){const _0x6df9ff=_0x3317da;this[_0x6df9ff(0x589)]=_0x1283ee;}['setLoggingConnectors'](_0xc89acd){const _0xd08c9a=_0x3317da;this[_0xd08c9a(0x39a)]=_0xc89acd;}[_0x3317da(0x54d)](_0x13fb16,..._0x41d214){const _0x1c5721=_0x3317da;this[_0x1c5721(0x591)]&&this[_0x1c5721(0x614)](_0xea19ad[_0x1c5721(0x440)],_0x1c5721(0x482)+_0x13fb16,..._0x41d214);}[_0x3317da(0x614)](_0x311df0,_0x10e201,..._0x2e6afa){const _0x492b48=_0x3317da;_0x578412[_0x492b48(0x3f4)]||(this[_0x492b48(0x18a)][_0x492b48(0x32e)](_0x311df0)&&console['log'](_0x492b48(0x3b6)+_0x311df0+'\x27\x0a',new Date()+'\x0a',_0x10e201,..._0x2e6afa),this[_0x492b48(0x39a)]&&this[_0x492b48(0x39a)]['forEach'](_0x4dfae4=>{const _0x498b62=_0x492b48;this[_0x498b62(0x33c)](_0x4dfae4)&&_0x4dfae4['getEnabledChannels']()[_0x498b62(0x32e)](_0x311df0)&&_0x4dfae4[_0x498b62(0x614)](_0x10e201,{'vendorId':this[_0x498b62(0x589)],'userId':'','data':{'cluster':_0x311df0,..._0x2e6afa}});}));}[_0x3317da(0x42c)](_0x2428e0,_0x1959f7,..._0x29ca21){const _0x518085=_0x3317da;_0x578412[_0x518085(0x3f4)]||(this[_0x518085(0x18a)]['includes'](_0x2428e0)&&console[_0x518085(0x614)](_0x1959f7,..._0x29ca21),this[_0x518085(0x39a)]&&this[_0x518085(0x39a)]['forEach'](_0x5e1104=>{const _0x539aff=_0x518085;this[_0x539aff(0x33c)](_0x5e1104)&&_0x5e1104['getEnabledChannels']()[_0x539aff(0x32e)](_0x2428e0)&&_0x5e1104[_0x539aff(0x614)](_0x1959f7,{'vendorId':this[_0x539aff(0x589)],'userId':'','data':{'cluster':_0x2428e0,..._0x29ca21}});}));}[_0x3317da(0x1b2)](_0x45ed1d,_0x596a44){const _0x422701=_0x3317da;if(this[_0x422701(0x39a)]){const _0x2d5fd9={'vendorId':this[_0x422701(0x589)],..._0x596a44};this[_0x422701(0x39a)][_0x422701(0x505)](_0x2f717d=>{const _0x3faa1b=_0x422701;_0x2f717d[_0x3faa1b(0x614)](_0x45ed1d,_0x2d5fd9);});}}[_0x3317da(0x28e)](_0x18eb88,_0x551832){const _0x5e74b9=_0x3317da;(0x0,_0x4e5e10['addDoc'])((0x0,_0x4e5e10['collection'])(_0x1159b8[_0x5e74b9(0x6b1)](),_0x5e74b9(0x632)+this[_0x5e74b9(0x589)]+'/logs'),{..._0x551832,'service':_0x18eb88,'timestamp':(0x0,_0x4e5e10['serverTimestamp'])()});}['logStorage'](_0x4ef6d7,_0x5e7b19,_0x5b9149){const _0xd9e9a3=_0x3317da;(0x0,_0x4e5e10['setDoc'])((0x0,_0x4e5e10[_0xd9e9a3(0x64b)])(_0x1159b8[_0xd9e9a3(0x6b1)](),_0xd9e9a3(0x632)+this['vendorId']+'/'+_0x4ef6d7+'/'+_0x5e7b19),{'storage':_0x5b9149,'timestamp':(0x0,_0x4e5e10[_0xd9e9a3(0x2cf)])()});}['error'](_0x5b3b93,_0x5e1132,..._0x59cc9e){const _0x213202=_0x3317da;if(console[_0x213202(0x4b0)](new Date(),_0x5b3b93,_0x5e1132,..._0x59cc9e),this[_0x213202(0x39a)]){const _0x31464a={'vendorId':this[_0x213202(0x589)],..._0x5e1132};this[_0x213202(0x39a)][_0x213202(0x505)](_0x20b354=>{_0x20b354['error'](_0x5b3b93,_0x31464a);});}}[_0x3317da(0x675)](_0x4bf721,_0x49ea30,..._0x29330){const _0x39b2eb=_0x3317da;if(console[_0x39b2eb(0x55d)](new Date(),_0x4bf721,_0x49ea30,_0x29330),this[_0x39b2eb(0x39a)]){const _0x599bfd={'vendorId':this[_0x39b2eb(0x589)],..._0x49ea30};this[_0x39b2eb(0x39a)]['forEach'](_0x2488c9=>{const _0x1f7735=_0x39b2eb;_0x2488c9[_0x1f7735(0x55d)](_0x4bf721,_0x599bfd);});}}[_0x3317da(0x34e)](_0xbf1a8c){const _0x5411b1=_0x3317da;return this[_0x5411b1(0x18a)][_0x5411b1(0x32e)](_0xbf1a8c);}[_0x3317da(0x550)](){const _0x277848=_0x3317da;try{Object[_0x277848(0x3f9)](_0xea19ad)[_0x277848(0x505)](_0x1bb316=>{const _0x2c990e=_0x277848,_0x2c1b53=_0x1bb316;localStorage[_0x2c990e(0x5bd)](_0x2c990e(0x65a)+_0xea19ad[_0x2c1b53])&&(console[_0x2c990e(0x614)](_0x2c990e(0x240),_0xea19ad[_0x2c1b53]),this[_0x2c990e(0x18a)][_0x2c990e(0x4ee)](_0xea19ad[_0x2c1b53]));});}catch(_0x51e163){}}['isInternalLoggingConnector'](_0x386d38){const _0x11fb51=_0x3317da;return void 0x0!==_0x386d38[_0x11fb51(0x510)];}}const _0x546907=_0x44bae0[_0x3317da(0x53d)]();class _0x421bd5 extends _0x36e558{[_0x3317da(0x3d5)];[_0x3317da(0x2ed)];['vendorId'];['db'];['dbKey'];[_0x3317da(0x68e)]=new Map();[_0x3317da(0x2bc)];[_0x3317da(0x21b)];['tableUnsubscriber'];[_0x3317da(0x690)];[_0x3317da(0x536)];[_0x3317da(0x533)]=[];[_0x3317da(0x6ba)]=()=>{};[_0x3317da(0x1fd)];['eventListener']=_0x4dbd80();[_0x3317da(0x568)];[_0x3317da(0x279)]=[];['layout'];[_0x3317da(0x236)];['writes']=0x0;['reads']=0x0;constructor(_0x4282f7,_0x45f1c5,_0x5c8af4,_0x4da2b3,_0x28e186){const _0x90693f=_0x3317da;if(_0x90693f(0x368)!=typeof _0x45f1c5)throw new _0xb069c2(_0x1193d2[_0x90693f(0x5ad)],_0x90693f(0x5a7));if(super(_0x4282f7,_0x45f1c5),this[_0x90693f(0x3d5)]=_0x4282f7,this['clusterId']=_0x5c8af4,this[_0x90693f(0x589)]=_0x4da2b3,this[_0x90693f(0x45e)]='ccc'+this[_0x90693f(0x589)]+'ccc'+this['clusterId']+_0x90693f(0x44d)+this[_0x90693f(0x369)],this['tableObserver']=_0x4dbd80(),this[_0x90693f(0x690)]=new Promise(_0x375001=>{this['syncResolve']=_0x375001;}),_0x28e186 instanceof _0x431d40)this[_0x90693f(0x4a0)]=_0x28e186[_0x90693f(0x1d0)]();else{const [_0x50e48d,_0x1e41ca]=_0x431d40['validateLayout'](_0x28e186);if(!_0x50e48d)throw new _0xb069c2(_0x1193d2[_0x90693f(0x266)],_0x90693f(0x696)+_0x1e41ca);this[_0x90693f(0x4a0)]=_0x28e186;}}[_0x3317da(0x262)](){const _0x4e9849=_0x3317da;return _0x12c3f7[_0x4e9849(0x711)];}[_0x3317da(0x6b8)](){const _0x33e07e=_0x3317da;this['db']?.[_0x33e07e(0x35e)](),this[_0x33e07e(0x1a9)]?.(),clearTimeout(this[_0x33e07e(0x236)]),delete this[_0x33e07e(0x236)],super['destroy']();}[_0x3317da(0x35e)](){const _0x551c75=_0x3317da;this[_0x551c75(0x576)]['publish']({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x551c75(0x27b)],'content':{'type':_0x167820[_0x551c75(0x2c8)],'label':this[_0x551c75(0x369)]}});}[_0x3317da(0x704)](_0x146cb8){const _0x123955=_0x3317da,_0x2a49d5=this[_0x123955(0x68e)][_0x123955(0x1c0)](_0x146cb8);if(_0x2a49d5)return _0x2a49d5;if(!this['db'])throw new _0xb069c2(_0x1193d2[_0x123955(0x2fe)],_0x123955(0x3bd));if(!0x1===this['db'][_0x123955(0x66f)][_0x123955(0x575)](_0x146cb8))throw new _0xb069c2(_0x1193d2['KeyValueDatabaseTableNotFound'],_0x123955(0x48c));const _0x590fc6=new _0x2b931b(this['db'],_0x146cb8,this[_0x123955(0x2bc)]);return this['tables'][_0x123955(0x2c2)](_0x146cb8,_0x590fc6),{'get':_0x590fc6[_0x123955(0x1c0)][_0x123955(0x46f)](_0x590fc6),'set':_0x590fc6[_0x123955(0x2c2)][_0x123955(0x46f)](_0x590fc6),'add':_0x590fc6[_0x123955(0x443)][_0x123955(0x46f)](_0x590fc6),'delete':_0x590fc6[_0x123955(0x164)][_0x123955(0x46f)](_0x590fc6),'clear':_0x590fc6[_0x123955(0x299)][_0x123955(0x46f)](_0x590fc6),'list':_0x590fc6[_0x123955(0x5c4)][_0x123955(0x46f)](_0x590fc6),'count':_0x590fc6[_0x123955(0x20c)][_0x123955(0x46f)](_0x590fc6),'subscribe':_0x590fc6[_0x123955(0x650)]['bind'](_0x590fc6),'unsubscribe':_0x590fc6[_0x123955(0x295)][_0x123955(0x46f)](_0x590fc6)};}[_0x3317da(0x650)](_0x574b88){const _0x27eb7f=_0x3317da;this[_0x27eb7f(0x568)]=this['eventListener']['subscribe'](_0x574b88);}[_0x3317da(0x295)](){const _0x447903=_0x3317da;this[_0x447903(0x568)]?.();}async[_0x3317da(0x1d1)](){const _0x450183=[];return new Promise((_0x3d85c2,_0xb4976c)=>{const _0x5eebc9=a0_0x2858,_0x196019=[_0x2d07a2],_0x483ff2=indexedDB[_0x5eebc9(0x1d1)](this['dbKey'],this[_0x5eebc9(0x4a0)]['version']);_0x483ff2[_0x5eebc9(0x62c)]=_0x4bc063=>{const _0x4de4cd=_0x5eebc9,_0x2edbfa=_0x4bc063[_0x4de4cd(0x4ff)],_0x4a0df1=_0x2edbfa['result'];_0x4a0df1[_0x4de4cd(0x66f)][_0x4de4cd(0x575)](_0x2d07a2)||_0x4a0df1['createObjectStore'](_0x2d07a2,{'keyPath':'id'}),this['instantiateTransactionTable'](_0x4a0df1);for(const _0xba54c3 in this[_0x4de4cd(0x4a0)][_0x4de4cd(0x68e)]){if(_0x196019[_0x4de4cd(0x32e)](_0xba54c3))throw new _0xb069c2(_0x1193d2['KeyValueDatabaseTableNameReserved'],_0x4de4cd(0x4e9));const _0x8cba86=this[_0x4de4cd(0x4a0)][_0x4de4cd(0x68e)][_0xba54c3];if(_0x4a0df1[_0x4de4cd(0x66f)][_0x4de4cd(0x575)](_0xba54c3)){const _0xeb6928=_0x2edbfa[_0x4de4cd(0x5f0)],_0x11b78e=_0xeb6928?.[_0x4de4cd(0x26e)](_0xba54c3);if(!_0x11b78e)continue;_0x8cba86[_0x4de4cd(0x55e)]?.[_0x4de4cd(0x505)](_0x1e71d2=>{const _0x51825f=_0x4de4cd;_0x11b78e['indexNames'][_0x51825f(0x575)](_0x1e71d2[_0x51825f(0x399)])||_0x11b78e[_0x51825f(0x16d)](_0x1e71d2[_0x51825f(0x399)],_0x1e71d2[_0x51825f(0x399)],{'unique':!0x1});});for(const _0x285a06 of _0x11b78e[_0x4de4cd(0x59f)])_0x8cba86[_0x4de4cd(0x55e)]?.[_0x4de4cd(0x657)](_0x3e19f2=>_0x3e19f2[_0x4de4cd(0x399)]===_0x285a06)||_0x11b78e[_0x4de4cd(0x499)](_0x285a06);continue;}const _0x6ed534=_0x4a0df1[_0x4de4cd(0x211)](_0xba54c3,{'keyPath':'id'});if(_0x8cba86[_0x4de4cd(0x55e)]){for(const _0x6cf9ed of _0x8cba86['indexes'])_0x6ed534[_0x4de4cd(0x16d)](_0x6cf9ed[_0x4de4cd(0x399)],_0x6cf9ed[_0x4de4cd(0x399)],{'unique':!0x1});}}for(const _0x2f1eca of _0x4a0df1['objectStoreNames'])_0x196019[_0x4de4cd(0x32e)](_0x2f1eca)||this[_0x4de4cd(0x4a0)]['tables'][_0x2f1eca]||(_0x4a0df1[_0x4de4cd(0x259)](_0x2f1eca),_0x450183[_0x4de4cd(0x4ee)](_0x2f1eca));},_0x483ff2[_0x5eebc9(0x33e)]=_0x46b2b2=>{const _0x411cbb=_0x5eebc9;this['db']=_0x483ff2['result'],this[_0x411cbb(0x37d)](this['db']),this['setOnMessageHandler'](),this[_0x411cbb(0x1cc)](),_0x450183[_0x411cbb(0x505)](_0x54471b=>this[_0x411cbb(0x3d6)](_0x54471b)),_0x3d85c2(_0x46b2b2);},_0x483ff2[_0x5eebc9(0x28c)]=_0x263a4b=>{_0xb4976c(_0x263a4b);};});}async[_0x3317da(0x3cb)](_0x5408a2,_0x456806){const _0x364aa6=_0x3317da;_0x5408a2?(this[_0x364aa6(0x6ba)]=_0x456806,this[_0x364aa6(0x1fd)]=window[_0x364aa6(0x472)](_0x456806,_0x1c4eef),this[_0x364aa6(0x576)][_0x364aa6(0x6af)]({'sourceId':this[_0x364aa6(0x3d5)],'destinationIds':[_0x5408a2],'messageType':_0x1c4d06[_0x364aa6(0x27b)],'content':{'type':_0x167820[_0x364aa6(0x680)],'label':this[_0x364aa6(0x369)]}}),await this[_0x364aa6(0x690)]):setTimeout(()=>{const _0x2fb5ad=_0x364aa6;this[_0x2fb5ad(0x688)](),this[_0x2fb5ad(0x169)]();},0x0);}async[_0x3317da(0x305)](_0x2d50ad){const _0xdab496=_0x3317da;if(!this[_0xdab496(0x21b)])throw new _0x2ba88c(_0x2ba88c[_0xdab496(0x4f1)]['KeyValueDatabaseTransactionTableNotInitialized']);await this[_0xdab496(0x690)];const _0x4491fc=await this[_0xdab496(0x21b)][_0xdab496(0x5c4)]();this['systemTopic'][_0xdab496(0x6af)]({'sourceId':this['localId'],'destinationIds':[_0x2d50ad],'messageType':_0x1c4d06[_0xdab496(0x27b)],'content':{'type':_0x167820[_0xdab496(0x6a4)],'label':this['label'],'transactions':_0x4491fc}});}async[_0x3317da(0x235)](_0xb34239,_0x2e7485){const _0x42e4cd=_0x3317da;if(!this['transactionTable'])throw new _0x2ba88c(_0x2ba88c['codes'][_0x42e4cd(0x6a0)]);this[_0x42e4cd(0x688)]();const _0xa7f9ee=await this[_0x42e4cd(0x21b)][_0x42e4cd(0x5c4)]();for(const _0x5b2ee4 of _0xa7f9ee){const _0x25398f=_0x2e7485[_0x42e4cd(0x657)](_0x28cff0=>_0x28cff0['id']===_0x5b2ee4['id']);if(_0x25398f&&this[_0x42e4cd(0x359)](_0x5b2ee4,_0x25398f)<=0x0)continue;const [_0x37ad24,_0x29adda]=_0x5b2ee4['id'][_0x42e4cd(0x45a)]('::'),_0x25181a=this[_0x42e4cd(0x68e)][_0x42e4cd(0x1c0)](_0x37ad24),_0x53831d=await _0x25181a?.[_0x42e4cd(0x1c0)](_0x29adda);_0x5b2ee4['value']=_0x53831d,this[_0x42e4cd(0x452)](_0x5b2ee4);}for(const _0x9207dc of _0x2e7485){const _0x2896e4=await this[_0x42e4cd(0x21b)][_0x42e4cd(0x1c0)](_0x9207dc['id']);if(!(_0x2896e4&&this[_0x42e4cd(0x359)](_0x9207dc,_0x2896e4)<=0x0)){if(_0x9207dc[_0x42e4cd(0x377)]===_0x36a31e['Delete']){const [_0x51d256,_0x22084e]=_0x9207dc['id'][_0x42e4cd(0x45a)]('::'),_0x45ba4a=this['tables']['get'](_0x51d256);await _0x45ba4a?.[_0x42e4cd(0x164)](_0x22084e,!0x1);}else this[_0x42e4cd(0x533)]['push'](_0x9207dc['id']);}}if(0x0===this[_0x42e4cd(0x533)][_0x42e4cd(0x43f)])return this[_0x42e4cd(0x688)](),void this[_0x42e4cd(0x169)]();this[_0x42e4cd(0x1fd)]=window[_0x42e4cd(0x472)](this['timeoutCallback'],_0x1c4eef),this[_0x42e4cd(0x576)][_0x42e4cd(0x6af)]({'sourceId':this[_0x42e4cd(0x3d5)],'destinationIds':[_0xb34239],'messageType':_0x1c4d06['Content'],'content':{'type':_0x167820[_0x42e4cd(0x6e1)],'label':this[_0x42e4cd(0x369)],'transactionIds':this[_0x42e4cd(0x533)]}});}async[_0x3317da(0x617)](_0x4989b3,_0x37f760){const _0x5f24a1=_0x3317da;if(!this['transactionTable'])throw new _0x2ba88c(_0x2ba88c[_0x5f24a1(0x4f1)][_0x5f24a1(0x6a0)]);for(const _0x4732b0 of _0x37f760){const _0xeef93=await this[_0x5f24a1(0x21b)][_0x5f24a1(0x1c0)](_0x4732b0);if(!_0xeef93)continue;const [_0x3dca75,_0x46771a]=_0x4732b0[_0x5f24a1(0x45a)]('::'),_0xc6b9d0=this['tables'][_0x5f24a1(0x1c0)](_0x3dca75),_0xc178a9=await _0xc6b9d0?.[_0x5f24a1(0x1c0)](_0x46771a);_0xeef93[_0x5f24a1(0x22f)]=_0xc178a9,this[_0x5f24a1(0x452)](_0xeef93,[_0x4989b3]);}}async['writeTransaction'](_0x21bec1){const _0x596caa=_0x3317da;if(!this[_0x596caa(0x21b)])throw new _0x2ba88c(_0x2ba88c[_0x596caa(0x4f1)][_0x596caa(0x6a0)]);const _0x1938eb=await this[_0x596caa(0x21b)]['get'](_0x21bec1['id']);if(_0x1938eb&&this[_0x596caa(0x359)](_0x21bec1,_0x1938eb)<=0x0)return;const _0x352934={..._0x21bec1};return delete _0x352934[_0x596caa(0x22f)],await this[_0x596caa(0x21b)][_0x596caa(0x2c2)](_0x21bec1['id'],_0x352934),_0x21bec1;}['compareTransactions'](_0x5138ea,_0x4c10de){const _0x23f7ae=_0x3317da;return _0x5138ea[_0x23f7ae(0x6ee)]<_0x4c10de['timestamp']?-0x1:_0x5138ea[_0x23f7ae(0x6ee)]>_0x4c10de[_0x23f7ae(0x6ee)]?0x1:_0x5138ea['priority']-_0x4c10de[_0x23f7ae(0x328)];}async[_0x3317da(0x4ba)](_0x3de0eb){const _0x213f8b=_0x3317da;if(!this[_0x213f8b(0x21b)])throw new _0x2ba88c(_0x2ba88c[_0x213f8b(0x4f1)][_0x213f8b(0x6a0)]);const _0x2c4994=_0x3de0eb['tableName']+'::'+_0x3de0eb[_0x213f8b(0x270)],_0x20482c=await _0x1159b8[_0x213f8b(0x2dd)](),_0x39503f={'id':_0x2c4994,'priority':Math[_0x213f8b(0x595)](),'timestamp':_0x20482c,'action':_0x3de0eb[_0x213f8b(0x377)]};if(await this[_0x213f8b(0x252)](_0x39503f))return _0x39503f;}async[_0x3317da(0x3d6)](_0x96cbae){const _0x32d8e1=_0x3317da;if(!this[_0x32d8e1(0x21b)])throw new _0x2ba88c(_0x2ba88c['codes'][_0x32d8e1(0x6a0)]);const _0x14943f=_0x33d5c0[_0x32d8e1(0x206)]('id')[_0x32d8e1(0x2df)](_0x32d8e1(0x3d0),[_0x96cbae+'::',_0x96cbae+_0x32d8e1(0x4ab)]),_0x50f1f0=await this[_0x32d8e1(0x21b)]['list'](_0x14943f);for(const _0x3f542c of _0x50f1f0)await this['transactionTable'][_0x32d8e1(0x164)](_0x3f542c['id']);}['setOnMessageHandler'](){const _0x57806a=_0x3317da;this[_0x57806a(0x470)](async(_0x1b2c24,_0x5c233a)=>{const _0x321d61=_0x57806a;if(_0x5c233a instanceof File)return;if(!await this[_0x321d61(0x252)](_0x5c233a))return void this[_0x321d61(0x25e)](_0x5c233a);if(!_0x5c233a['value'])throw new _0x2ba88c(_0x2ba88c[_0x321d61(0x4f1)][_0x321d61(0x3ce)]);const [_0x2bdc55,_0x10306e]=_0x5c233a['id'][_0x321d61(0x45a)]('::'),_0x22ff15=this[_0x321d61(0x68e)]['get'](_0x2bdc55);if(!_0x22ff15)throw new _0x2ba88c(_0x2ba88c[_0x321d61(0x4f1)][_0x321d61(0x17b)],{'table':_0x22ff15});let _0xaaae13=0x0;switch(_0x5c233a['action']){case _0x36a31e[_0x321d61(0x638)]:case _0x36a31e[_0x321d61(0x324)]:{const _0x49ef03=_0x22ff15[_0x321d61(0x2c2)](_0x10306e,_0x5c233a[_0x321d61(0x22f)],!0x1);_0xaaae13=JSON[_0x321d61(0x461)](_0x5c233a[_0x321d61(0x22f)])[_0x321d61(0x43f)],this[_0x321d61(0x533)]['includes'](_0x5c233a['id'])&&this[_0x321d61(0x279)][_0x321d61(0x4ee)](_0x49ef03);break;}case _0x36a31e[_0x321d61(0x38d)]:{const _0x2e4fb0=_0x22ff15[_0x321d61(0x164)](_0x10306e,!0x1);this['transactionsToSync'][_0x321d61(0x32e)](_0x5c233a['id'])&&this[_0x321d61(0x279)]['push'](_0x2e4fb0);break;}}_0x546907[_0x321d61(0x28e)](_0x2fb3cb['KeyValueDatabase'],{'type':_0x321d61(0x3cb),'label':this[_0x321d61(0x369)],'userId':this[_0x321d61(0x3d5)],'tableName':_0x2bdc55,'key':_0x10306e,'size':_0xaaae13}),this[_0x321d61(0x25e)](_0x5c233a);});}[_0x3317da(0x1cc)](){const _0x1000a5=_0x3317da;this['tableUnsubscriber']=this['tableObserver'][_0x1000a5(0x650)](async _0x12d41d=>{const _0x15c4ec=_0x1000a5;let _0x285d2c=0x0;switch(_0x12d41d['action']){case _0x36a31e[_0x15c4ec(0x638)]:case _0x36a31e[_0x15c4ec(0x324)]:case _0x36a31e[_0x15c4ec(0x38d)]:{const _0x1b1a3a=await this[_0x15c4ec(0x4ba)](_0x12d41d);if(!_0x1b1a3a)return;_0x1b1a3a[_0x15c4ec(0x22f)]=_0x12d41d['value'],this[_0x15c4ec(0x452)](_0x1b1a3a),_0x285d2c=JSON[_0x15c4ec(0x461)](_0x12d41d[_0x15c4ec(0x22f)])[_0x15c4ec(0x43f)],this[_0x15c4ec(0x58d)]+=0x1;break;}case _0x1f8268[_0x15c4ec(0x672)]:case _0x1f8268[_0x15c4ec(0x2be)]:case _0x1f8268[_0x15c4ec(0x6fc)]:this['reads']+=0x1;}_0x546907[_0x15c4ec(0x28e)](_0x2fb3cb[_0x15c4ec(0x711)],{'type':_0x12d41d[_0x15c4ec(0x377)],'label':this[_0x15c4ec(0x369)],'userId':this[_0x15c4ec(0x3d5)],'tableName':_0x12d41d[_0x15c4ec(0x424)],'key':_0x12d41d[_0x15c4ec(0x270)],'size':_0x285d2c}),this['sendStats']();});}['instantiateTransactionTable'](_0xf327c7){const _0x1dd7b5=_0x3317da;this[_0x1dd7b5(0x21b)]||(this[_0x1dd7b5(0x21b)]=new _0xcb0fbe(_0xf327c7,_0x2d07a2));}[_0x3317da(0x688)](){const _0x80855f=_0x3317da;this[_0x80855f(0x1fd)]&&(clearTimeout(this[_0x80855f(0x1fd)]),delete this[_0x80855f(0x1fd)]);}[_0x3317da(0x169)](){const _0x303b56=_0x3317da;this[_0x303b56(0x1b8)]['publish']({'event':_0x507318[_0x303b56(0x67e)]}),this['syncResolve']?.(!0x0),delete this[_0x303b56(0x536)],this[_0x303b56(0x493)]();}async[_0x3317da(0x4ce)](){const _0x1999c4=_0x3317da;await Promise['all'](this[_0x1999c4(0x279)]),this[_0x1999c4(0x169)]();}[_0x3317da(0x25e)](_0x296cf0){const _0x4599b8=_0x3317da;this[_0x4599b8(0x533)][_0x4599b8(0x32e)](_0x296cf0['id'])&&(this[_0x4599b8(0x688)](),this[_0x4599b8(0x533)]=this['transactionsToSync'][_0x4599b8(0x5e1)](_0x53f37e=>_0x53f37e!==_0x296cf0['id']),0x0!==this[_0x4599b8(0x533)][_0x4599b8(0x43f)]?this[_0x4599b8(0x1fd)]=window[_0x4599b8(0x472)](this['timeoutCallback'],_0x1c4eef):this['publishSyncCompletedAfterWrites']());}['sendStats'](){const _0x519f09=_0x3317da;this[_0x519f09(0x236)]&&clearTimeout(this['debounceStats']),this['debounceStats']=window[_0x519f09(0x472)](async()=>{const _0x37646b=_0x519f09;delete this[_0x37646b(0x236)];let _0x4c2827=0x0;for(const _0xb25415 of this[_0x37646b(0x68e)]['values']())_0x4c2827+=await _0xb25415['calculateSize']();this[_0x37646b(0x576)][_0x37646b(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x37646b(0x27b)],'content':{'type':_0x167820[_0x37646b(0x5f9)],'label':this['label'],'stats':{'timestamp':Date[_0x37646b(0x6dd)](),'storage':_0x4c2827,'messagesSent':this[_0x37646b(0x611)],'messagesReceived':this[_0x37646b(0x364)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x37646b(0x3bf)],'writes':this[_0x37646b(0x58d)],'reads':this[_0x37646b(0x4df)]}}}),_0x546907[_0x37646b(0x1aa)](_0x2fb3cb['KeyValueDatabase'],this['label'],_0x4c2827);},0x1388);}}const _0x582435=require('@datadog/browser-logs');class _0x175dd0{constructor(_0x2e5302,_0x278981,_0x49b9a8){const _0x8fe4d8=_0x3317da;_0x582435[_0x8fe4d8(0x42f)][_0x8fe4d8(0x40d)]({'clientToken':_0x2e5302,'site':_0x278981,'service':_0x8fe4d8(0x49e),'env':_0x49b9a8,'version':_0x578412[_0x8fe4d8(0x620)]});}[_0x3317da(0x614)](_0x229795,_0x511b9e){const _0x5a2817=_0x3317da;_0x582435[_0x5a2817(0x42f)]['logger']['info'](_0x229795,_0x511b9e);}['warn'](_0x44fd59,_0x1fe2e8){const _0x3ee3a5=_0x3317da;_0x582435[_0x3ee3a5(0x42f)]['logger'][_0x3ee3a5(0x55d)](_0x44fd59,_0x1fe2e8);}['error'](_0x28ef5c,_0xb33028){const _0x2109d4=_0x3317da;_0x582435['datadogLogs'][_0x2109d4(0x587)][_0x2109d4(0x4b0)](_0x28ef5c,_0xb33028);}}class _0x4130bb{[_0x3317da(0x21a)];['bufferedEvents'];[_0x3317da(0x303)];constructor(_0x40d974=new Map(),_0x541a3c=new Map(),_0x1a446a=new EventTarget()){const _0x4a8b8e=_0x3317da;this[_0x4a8b8e(0x21a)]=_0x40d974,this[_0x4a8b8e(0x4c3)]=_0x541a3c,this[_0x4a8b8e(0x303)]=_0x1a446a;}[_0x3317da(0x676)]=(_0x310bd1,_0x25db06)=>this[_0x3317da(0x21a)][_0x3317da(0x29e)](_0x310bd1)?(_0x546907[_0x3317da(0x614)](_0xea19ad[_0x3317da(0x381)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x310bd1,'data':_0x25db06}),this[_0x3317da(0x303)][_0x3317da(0x6d2)](new CustomEvent(_0x310bd1,{'detail':_0x25db06})),!0x0):(this[_0x3317da(0x491)](_0x310bd1,_0x25db06),!0x1);['on']=(_0xc7034f,_0x552faa)=>{const _0x4796f0=_0x3317da,_0x3810d0=_0x581566=>{const _0x35caaa=a0_0x2858;_0x546907[_0x35caaa(0x614)](_0xea19ad['Events'],_0x35caaa(0x371),_0x581566['type'],_0x581566['detail']),_0x552faa(_0x581566[_0x35caaa(0x35d)]);};return this[_0x4796f0(0x21a)]['set'](_0xc7034f,_0x3810d0),this['eventTarget'][_0x4796f0(0x6f4)](_0xc7034f,_0x3810d0),_0x546907[_0x4796f0(0x614)](_0xea19ad[_0x4796f0(0x18b)],_0x4796f0(0x4a9),_0xc7034f,_0x552faa),this[_0x4796f0(0x234)](_0xc7034f),this;};[_0x3317da(0x50d)](_0x491211){const _0x4c30dd=_0x3317da;if(!_0x491211)return this[_0x4c30dd(0x21a)]['forEach']((_0x1ce3ec,_0x3c6075)=>{const _0x11fe2d=_0x4c30dd;this[_0x11fe2d(0x303)]['removeEventListener'](_0x3c6075,_0x1ce3ec);}),void this[_0x4c30dd(0x21a)][_0x4c30dd(0x299)]();_0x4c30dd(0x368)==typeof _0x491211&&this[_0x4c30dd(0x5e8)](_0x491211),Array[_0x4c30dd(0x68c)](_0x491211)&&_0x491211['forEach'](_0x17f44c=>{const _0x9dbe21=_0x4c30dd;this[_0x9dbe21(0x5e8)](_0x17f44c);});}[_0x3317da(0x5e8)](_0x1a5790){const _0x3a4970=_0x3317da,_0x591a92=this['registeredListeners'][_0x3a4970(0x1c0)](_0x1a5790);_0x591a92&&(this[_0x3a4970(0x303)][_0x3a4970(0x5c3)](_0x1a5790,_0x591a92),this[_0x3a4970(0x21a)][_0x3a4970(0x164)](_0x1a5790));}['bufferEvent'](_0x17fd20,_0x197f05){const _0x25007f=_0x3317da;_0x546907[_0x25007f(0x614)](_0xea19ad['Events'],_0x25007f(0x6ea),{'event':_0x17fd20,'data':_0x197f05});const _0x729f13=this[_0x25007f(0x4c3)][_0x25007f(0x1c0)](_0x17fd20)||[];this['bufferedEvents'][_0x25007f(0x2c2)](_0x17fd20,[..._0x729f13,_0x197f05]);}[_0x3317da(0x234)](_0x4f0762){const _0x4dbab2=_0x3317da,_0xc7d77e=this[_0x4dbab2(0x4c3)]['get'](_0x4f0762);_0xc7d77e&&(_0xc7d77e[_0x4dbab2(0x505)](_0x11bbb7=>{const _0x39ef6f=_0x4dbab2;_0x546907[_0x39ef6f(0x614)](_0xea19ad[_0x39ef6f(0x381)],_0x39ef6f(0x2bd),{'event':_0x4f0762,'data':_0x11bbb7}),this['eventTarget']['dispatchEvent'](new CustomEvent(_0x4f0762,{'detail':_0x11bbb7}));}),this['bufferedEvents'][_0x4dbab2(0x164)](_0x4f0762));}}class _0x34beb4 extends Error{constructor(_0x2c0052){const _0x13e85d=_0x3317da;super(_0x13e85d(0x271)+_0x2c0052);}}var _0x39632f,_0x2c3496,_0x3d76e7,_0x34d04f,_0x3999d2,_0x539536,_0xbceedb,_0x196313;!function(_0x4d1f93){const _0x11a5e4=_0x3317da;_0x4d1f93[_0x4d1f93[_0x11a5e4(0x6e5)]=0x0]=_0x11a5e4(0x6e5),_0x4d1f93[_0x4d1f93['Receiver']=0x1]='Receiver';}(_0x39632f||(_0x39632f={})),function(_0x49849c){const _0x344548=_0x3317da;_0x49849c[_0x49849c[_0x344548(0x556)]=0x0]=_0x344548(0x556),_0x49849c[_0x49849c[_0x344548(0x1a3)]=0x1]=_0x344548(0x1a3),_0x49849c[_0x49849c[_0x344548(0x37b)]=0x2]='Ice',_0x49849c[_0x49849c['Success']=0x3]=_0x344548(0x3e6),_0x49849c[_0x49849c[_0x344548(0x6e0)]=0x4]=_0x344548(0x6e0),_0x49849c[_0x49849c[_0x344548(0x1d5)]=0x5]=_0x344548(0x1d5),_0x49849c[_0x49849c['Disconnect']=0x6]=_0x344548(0x409),_0x49849c[_0x49849c[_0x344548(0x1d7)]=0x7]=_0x344548(0x1d7),_0x49849c[_0x49849c[_0x344548(0x3ae)]=0x8]=_0x344548(0x3ae);}(_0x2c3496||(_0x2c3496={})),function(_0x5171ab){const _0xdd0abf=_0x3317da;_0x5171ab[_0xdd0abf(0x1dc)]='media-stream';}(_0x3d76e7||(_0x3d76e7={})),function(_0x97aa73){const _0x599c54=_0x3317da;_0x97aa73[_0x97aa73[_0x599c54(0x558)]=0x0]=_0x599c54(0x558),_0x97aa73[_0x97aa73[_0x599c54(0x1ad)]=0x1]='Optimization';}(_0x34d04f||(_0x34d04f={})),function(_0x4e159e){const _0x54a8c8=_0x3317da;_0x4e159e[_0x4e159e['UserJoin']=0x0]=_0x54a8c8(0x2c9),_0x4e159e[_0x4e159e[_0x54a8c8(0x1c9)]=0x1]=_0x54a8c8(0x1c9),_0x4e159e[_0x4e159e[_0x54a8c8(0x30d)]=0x2]=_0x54a8c8(0x30d),_0x4e159e[_0x4e159e['UserLeave']=0x3]=_0x54a8c8(0x65d);}(_0x3999d2||(_0x3999d2={})),function(_0x162db3){const _0x4fd3a7=_0x3317da;_0x162db3[_0x162db3['Remediation']=0x0]=_0x4fd3a7(0x38b),_0x162db3[_0x162db3[_0x4fd3a7(0x28b)]=0x1]=_0x4fd3a7(0x28b);}(_0x539536||(_0x539536={})),function(_0x171476){const _0x168bc8=_0x3317da;_0x171476[_0x168bc8(0x2bf)]=_0x168bc8(0x600),_0x171476[_0x168bc8(0x647)]=_0x168bc8(0x439);}(_0xbceedb||(_0xbceedb={})),function(_0x4da708){const _0x4c35c5=_0x3317da;_0x4da708[_0x4c35c5(0x643)]=_0x4c35c5(0x3a4),_0x4da708['Bitrate']=_0x4c35c5(0x254);}(_0x196313||(_0x196313={}));const _0x42a16f=require('aws-amplify'),_0x365562=require('aws-amplify/utils'),_0x239d66=require('@aws-amplify/api'),_0x5b1736=require('@aws-amplify/core');class _0x568b20{[_0x3317da(0x2ed)];[_0x3317da(0x3d5)];[_0x3317da(0x701)];constructor(_0x4da75e,_0x497ae8,_0x446c84){const _0x25cae8=_0x3317da;this[_0x25cae8(0x2ed)]=_0x4da75e,this[_0x25cae8(0x3d5)]=_0x497ae8,this[_0x25cae8(0x701)]=_0x446c84;}[_0x3317da(0x339)](){const _0x1982d5=_0x3317da;return this[_0x1982d5(0x3d5)];}[_0x3317da(0x58b)](){const _0x3745d4=_0x3317da;return this[_0x3745d4(0x701)];}}var _0x25de11,_0x200371,_0x34dd11;function _0x295351(_0x27d4b5,_0x5b3412){const _0x216eb8=_0x3317da;return _0x27d4b5[_0x216eb8(0x396)]===_0x5b3412;}function _0x540e23(_0x4642d3,_0x117cfe){const _0x1c178e=_0x3317da;return _0x4642d3[_0x1c178e(0x6fb)]?.[_0x1c178e(0x32e)](_0x117cfe)??function(_0x5be5f4){const _0xba6fd5=_0x1c178e;return void 0x0===_0x5be5f4[_0xba6fd5(0x6fb)];}(_0x4642d3);}function _0x49b755(_0x19624c,{contentType:_0x5c0aad,label:_0x4f5c56,remoteId:_0x58a91d}){return _0x19624c+'-'+_0x5c0aad+'-'+_0x4f5c56+'-'+_0x58a91d;}function _0x20af3a(_0x29b6bd,_0x2e86af,_0x3be565){return''+_0x29b6bd+_0x2e86af+_0x3be565;}function _0x179cda(_0x372233){const _0x4de728=_0x3317da;return _0x372233===_0x200371[_0x4de728(0x513)]?_0x4de728(0x3c4):'OutgoingSubscription';}function _0x13d66b(_0x79654f,_0x30b40c){const _0x1dde3c=_0x3317da;return{'label':_0x79654f[_0x1dde3c(0x4c8)](),'contentType':_0x79654f[_0x1dde3c(0x262)](),'remoteId':_0x30b40c[_0x1dde3c(0x58b)](),'supportsContentType':_0x30b40c[_0x1dde3c(0x62f)]()[_0x1dde3c(0x32e)](_0x79654f[_0x1dde3c(0x262)]())};}!function(_0x41aa1b){const _0x594290=_0x3317da;_0x41aa1b[_0x41aa1b[_0x594290(0x5c2)]=0x0]=_0x594290(0x5c2),_0x41aa1b[_0x41aa1b[_0x594290(0x412)]=0x1]=_0x594290(0x412),_0x41aa1b[_0x41aa1b['Rejected']=0x2]='Rejected';}(_0x25de11||(_0x25de11={})),function(_0x541262){const _0x157282=_0x3317da;_0x541262['Incoming']='in',_0x541262[_0x157282(0x2c5)]=_0x157282(0x35f);}(_0x200371||(_0x200371={}));class _0x3ae939{['callback'];[_0x3317da(0x60b)];constructor(_0x11ff81,_0x50dca8){this['callback']=_0x11ff81,this['retryCallback']=_0x50dca8;}[_0x3317da(0x405)](_0x4e23d4){const _0xd4d0f=_0x3317da;this[_0xd4d0f(0x490)](_0x4e23d4);}async[_0x3317da(0x6c7)](){const _0x4c9d8b=_0x3317da;await this[_0x4c9d8b(0x60b)]();}}class _0x18ed0f{[_0x3317da(0x490)];[_0x3317da(0x60b)];constructor(_0xaa9c8b,_0x3e21e8){const _0x42b4d3=_0x3317da;this[_0x42b4d3(0x490)]=_0xaa9c8b,this[_0x42b4d3(0x60b)]=_0x3e21e8;}async['call'](_0x2f885c){const _0x347c51=_0x3317da;await this[_0x347c51(0x490)](_0x2f885c);}async[_0x3317da(0x6c7)](){const _0x23df04=_0x3317da;await this[_0x23df04(0x60b)]();}}function _0x2b86f2(_0xc0431d=()=>{},_0x25a8b0=()=>!0x1,_0x4137b8=()=>{}){let _0x4ca5f6,_0x356ff4,_0x2879f8=0x0;return{get 'size'(){return _0x2879f8;},get 'head'(){return _0x4ca5f6;},get 'tail'(){return _0x356ff4;},set 'head'(_0x25fbda){_0x4ca5f6=_0x25fbda;},set 'tail'(_0x11674a){_0x356ff4=_0x11674a;},'push'(_0x2429ee,_0x50c019=!0x0){const _0x5940e7=a0_0x2858,_0x394105={'value':_0x2429ee};_0x50c019&&_0x25a8b0(_0x394105)?_0xc0431d():(_0x356ff4&&(_0x394105[_0x5940e7(0x70f)]=_0x356ff4,_0x356ff4[_0x5940e7(0x2aa)]=_0x394105),_0x356ff4=_0x394105,_0x4ca5f6||(_0x4ca5f6=_0x394105),_0x2879f8+=0x1,_0x50c019&&_0xc0431d());},'pop'(){const _0x492e3d=a0_0x2858;if(!_0x356ff4)return;const _0x48828d=_0x356ff4[_0x492e3d(0x22f)];return _0x356ff4=_0x356ff4[_0x492e3d(0x70f)],_0x356ff4&&delete _0x356ff4[_0x492e3d(0x2aa)],_0x356ff4||(_0x4ca5f6=void 0x0),_0x2879f8-=0x1,_0x48828d;},'unshift'(_0x1f76fb,_0x2426bf=!0x0){const _0x7fe6c1=a0_0x2858,_0x3d9b68={'value':_0x1f76fb};_0x2426bf&&_0x25a8b0(_0x3d9b68)?_0xc0431d():(_0x4ca5f6&&(_0x4ca5f6[_0x7fe6c1(0x70f)]=_0x3d9b68,_0x3d9b68[_0x7fe6c1(0x2aa)]=_0x4ca5f6),_0x4ca5f6=_0x3d9b68,_0x356ff4||(_0x356ff4=_0x3d9b68),_0x2879f8+=0x1,_0x2426bf&&_0xc0431d());},'shift'(){const _0x8f2ff9=a0_0x2858;if(!_0x4ca5f6)return;const _0x265e9c=_0x4ca5f6[_0x8f2ff9(0x22f)];return _0x4ca5f6=_0x4ca5f6['next'],_0x4ca5f6&&delete _0x4ca5f6[_0x8f2ff9(0x70f)],_0x4ca5f6||(_0x356ff4=void 0x0),_0x2879f8-=0x1,_0x265e9c;},'clear'(){_0x4137b8(),_0x4ca5f6=void 0x0,_0x356ff4=void 0x0,_0x2879f8=0x0;}};}function _0x16ca9f(_0x4f9a95,_0xfed640=!0x1,_0x58fb76=()=>{},_0x5e67e8=()=>!0x1,_0x391133=()=>{}){let _0x38732d=!0x1;const _0x5edd25=_0x2b86f2(async function(){const _0x504301=a0_0x2858;if(!_0x38732d){for(_0x38732d=!0x0;_0x5edd25[_0x504301(0x245)];){const _0x5a9027=_0x5edd25[_0x504301(0x68d)]();if(_0x5a9027)try{_0x4f9a95 instanceof _0x3ae939&&_0x4f9a95[_0x504301(0x405)](_0x5a9027),_0x4f9a95 instanceof _0x18ed0f&&await _0x4f9a95[_0x504301(0x405)](_0x5a9027),_0x58fb76(_0x5a9027);}catch(_0x6259dc){_0xfed640?_0x5edd25[_0x504301(0x4ee)](_0x5a9027,!0x1):_0x5edd25[_0x504301(0x1e1)](_0x5a9027,!0x1),await _0x4f9a95[_0x504301(0x6c7)]();}}_0x38732d=!0x1;}},_0x5e67e8,_0x391133);return _0x5edd25;}class _0x27702a extends _0x568b20{[_0x3317da(0x589)];[_0x3317da(0x292)];[_0x3317da(0x43e)]=_0x239d66[_0x3317da(0x393)][_0x3317da(0x33b)];[_0x3317da(0x3d7)]=_0x4dbd80();[_0x3317da(0x2ad)]=_0x2d6d4d();[_0x3317da(0x5f4)];[_0x3317da(0x20f)];[_0x3317da(0x248)]=_0x16ca9f(new _0x18ed0f(this['sendAction'][_0x3317da(0x46f)](this),this[_0x3317da(0x4fc)][_0x3317da(0x46f)](this)));[_0x3317da(0x67d)];constructor(_0x41c5b9,_0x3c3280,_0x511be0,_0x116125,_0x2d876b){const _0x52cf01=_0x3317da;super(_0x3c3280,_0x511be0,_0x116125),this[_0x52cf01(0x589)]=_0x41c5b9,this[_0x52cf01(0x292)]=_0x2d876b;}async[_0x3317da(0x66a)](){const _0x55c403=_0x3317da;try{const _0x23cf0d=await this[_0x55c403(0x292)][_0x55c403(0x1c8)](),_0x387f8e={'getTokens':async()=>({'accessToken':(0x0,_0x5b1736[_0x55c403(0x633)])(_0x23cf0d),'idToken':(0x0,_0x5b1736[_0x55c403(0x633)])(_0x23cf0d)})};_0x42a16f['Amplify'][_0x55c403(0x524)]({'API':{'GraphQL':{'endpoint':_0x578412[_0x55c403(0x290)]['endpoint'],'region':_0x578412['aws'][_0x55c403(0x63b)],'defaultAuthMode':_0x55c403(0x410)}}},{'Auth':{'tokenProvider':_0x387f8e}}),this[_0x55c403(0x67d)]=(0x0,_0x239d66[_0x55c403(0x5c5)])(),await this[_0x55c403(0x650)](),this['listenUnsubscriber']=_0x365562[_0x55c403(0x36c)][_0x55c403(0x2f4)]('api',({payload:_0x557ffd})=>{const _0x32cac1=_0x55c403;if(_0x557ffd[_0x32cac1(0x6c9)]===_0x239d66[_0x32cac1(0x71b)]){const _0x41c15d=_0x557ffd[_0x32cac1(0x1ed)];this[_0x32cac1(0x43e)]=_0x41c15d[_0x32cac1(0x43e)],this['connectionStateListener']['publish'](_0x41c15d[_0x32cac1(0x43e)]),this[_0x32cac1(0x43e)]===_0x239d66['ConnectionState']['ConnectedPendingKeepAlive']&&(this[_0x32cac1(0x5f4)]?.['unsubscribe'](),delete this[_0x32cac1(0x5f4)]),this[_0x32cac1(0x43e)]===_0x239d66['ConnectionState'][_0x32cac1(0x33b)]&&(_0x546907[_0x32cac1(0x4b0)]('appsync-disconnect',{'clusterId':this['clusterId'],'userId':this[_0x32cac1(0x3d5)]}),this[_0x32cac1(0x650)]());}});}catch(_0x2530fe){_0x546907[_0x55c403(0x4b0)](_0x55c403(0x2d0),{'clusterId':this[_0x55c403(0x2ed)],'userId':this[_0x55c403(0x3d5)]});}}[_0x3317da(0x35e)](){const _0x1cdddf=_0x3317da;this[_0x1cdddf(0x248)][_0x1cdddf(0x299)](),this[_0x1cdddf(0x20f)]?.(),this[_0x1cdddf(0x5f4)]?.[_0x1cdddf(0x295)](),delete this[_0x1cdddf(0x5f4)];}[_0x3317da(0x6be)](){const _0x51a3d7=_0x3317da;return this[_0x51a3d7(0x43e)]===_0x239d66[_0x51a3d7(0x393)][_0x51a3d7(0x27d)];}[_0x3317da(0x452)](_0x43cf85){const _0x12da13=_0x3317da;this[_0x12da13(0x248)][_0x12da13(0x4ee)](_0x43cf85);}['onMessage'](_0x19283f){return this['messageListeners']['subscribe'](_0x19283f);}[_0x3317da(0x62f)](){const _0x1dec37=_0x3317da;return[_0x12c3f7[_0x1dec37(0x527)]];}async[_0x3317da(0x4fc)](){if(!this['isConnected']())return new Promise(_0x2c6fc2=>{const _0x11558a=a0_0x2858,_0x4ce2c7=this[_0x11558a(0x3d7)][_0x11558a(0x650)](_0x2b9427=>{const _0x1a13e0=_0x11558a;_0x2b9427===_0x239d66[_0x1a13e0(0x393)][_0x1a13e0(0x27d)]&&(_0x4ce2c7(),_0x2c6fc2());});});}async['sendAction'](_0x584cb1){const _0x32a86d=_0x3317da;if(this['connectionState']!==_0x239d66['ConnectionState']['Connected'])throw new Error(_0x32a86d(0x71f));_0x584cb1['destinationIds']&&0x1===_0x584cb1[_0x32a86d(0x6fb)][_0x32a86d(0x43f)]?await this[_0x32a86d(0x6af)](_0x584cb1[_0x32a86d(0x6fb)][0x0],JSON[_0x32a86d(0x461)](_0x584cb1)):_0x546907[_0x32a86d(0x4b0)](_0x32a86d(0x1b0),{'clusterId':this[_0x32a86d(0x2ed)],'userId':this[_0x32a86d(0x3d5)]});}async[_0x3317da(0x6af)](_0x5ed7ff,_0x1222d2){const _0xf06786=_0x3317da;if(!this[_0xf06786(0x67d)])throw new Error(_0xf06786(0x51f));_0x546907[_0xf06786(0x614)](_0xea19ad[_0xf06786(0x1e4)],_0xf06786(0x46a),this['localId'],_0x1222d2),await this['client'][_0xf06786(0x511)]({'query':_0xf06786(0x646),'variables':{'name':await this[_0xf06786(0x506)](_0x5ed7ff),'data':_0x1222d2}});}async[_0x3317da(0x650)](){const _0x2ad887=_0x3317da;if(this[_0x2ad887(0x5f4)])return;if(!this[_0x2ad887(0x67d)])throw new Error(_0x2ad887(0x51f));_0x546907[_0x2ad887(0x614)](_0xea19ad[_0x2ad887(0x1e4)],_0x2ad887(0x27a),this[_0x2ad887(0x3d5)]);const _0x34d217=await this[_0x2ad887(0x67d)][_0x2ad887(0x511)]({'query':_0x2ad887(0x616),'variables':{'name':await this['getHash']()},'authToken':await this[_0x2ad887(0x292)][_0x2ad887(0x1c8)]()},{'Authorization':await this['authService'][_0x2ad887(0x1c8)]()});this['subscription']=_0x34d217['subscribe']({'next':({data:_0x56fb5e})=>{const _0x2f5abd=_0x2ad887,_0x461120=JSON[_0x2f5abd(0x584)](_0x56fb5e[_0x2f5abd(0x650)]['data']);!_0x295351(_0x461120,this[_0x2f5abd(0x3d5)])&&_0x540e23(_0x461120,this[_0x2f5abd(0x3d5)])&&this[_0x2f5abd(0x2ad)][_0x2f5abd(0x6af)](_0x461120);},'error':console['log']});}async['getHash'](_0x1ed731){const _0xd447ba=_0x3317da,_0x5a7e86=await crypto['subtle'][_0xd447ba(0x451)]('SHA-1',new TextEncoder()[_0xd447ba(0x294)](this['vendorId']+'-'+this[_0xd447ba(0x2ed)]+'-'+(_0x1ed731??this[_0xd447ba(0x3d5)])));return Array['from'](new Uint8Array(_0x5a7e86))['map'](_0x43a643=>_0x43a643['toString'](0x10)[_0xd447ba(0x215)](0x2,'0'))[_0xd447ba(0x2d6)]('');}}!function(_0x541930){const _0x35376a=_0x3317da;_0x541930[_0x541930[_0x35376a(0x638)]=0x0]=_0x35376a(0x638),_0x541930[_0x541930['Remove']=0x1]=_0x35376a(0x26a),_0x541930[_0x541930[_0x35376a(0x324)]=0x2]=_0x35376a(0x324),_0x541930[_0x541930[_0x35376a(0x58a)]=0x3]=_0x35376a(0x58a),_0x541930[_0x541930['RemoteRemove']=0x4]=_0x35376a(0x316);}(_0x34dd11||(_0x34dd11={}));const _0x53a058='0',_0x54ce6f='chunk',_0x4a1ec3=0x3fc00;class _0x216e21{[_0x3317da(0x2ed)];[_0x3317da(0x3d5)];[_0x3317da(0x701)];[_0x3317da(0x15b)];[_0x3317da(0x5fd)];[_0x3317da(0x691)];[_0x3317da(0x6de)];[_0x3317da(0x52f)]=0x1;[_0x3317da(0x576)];[_0x3317da(0x4e1)]=[];[_0x3317da(0x403)]=[];[_0x3317da(0x1a0)];constructor(_0x20593f,_0x4aa3cd,_0x21426e,_0x1434bb,_0x4b35a0){const _0x6321e=_0x3317da;this['clusterId']=_0x20593f,this[_0x6321e(0x3d5)]=_0x4aa3cd,this[_0x6321e(0x701)]=_0x21426e,this['iceServers']=_0x1434bb,this[_0x6321e(0x5fd)]=_0x4b35a0,this[_0x6321e(0x691)]=new RTCPeerConnection({'iceServers':_0x1434bb}),this[_0x6321e(0x61b)]();}[_0x3317da(0x35e)](){const _0x3731a5=_0x3317da;this[_0x3731a5(0x1c4)]();}[_0x3317da(0x162)](_0x31ed27){this['connectionType']=_0x31ed27;}async[_0x3317da(0x4ec)](_0xcee77b,_0x271062){const _0x22172d=_0x3317da;if(_0x271062===this[_0x22172d(0x52f)])for(const _0xcba035 of _0xcee77b){if(!this[_0x22172d(0x691)][_0x22172d(0x528)])return this[_0x22172d(0x53e)](_0xcba035);await this['connection'][_0x22172d(0x3d3)](_0xcba035);}}[_0x3317da(0x6be)](){const _0x595140=_0x3317da;return this['logConnectionState'](),'connected'===this[_0x595140(0x691)][_0x595140(0x43e)]&&[_0x595140(0x233),_0x595140(0x6a5)][_0x595140(0x32e)](this[_0x595140(0x691)][_0x595140(0x3c1)])&&_0x595140(0x2f1)!==this[_0x595140(0x691)][_0x595140(0x32b)]&&'open'===this[_0x595140(0x6de)]?.[_0x595140(0x422)];}[_0x3317da(0x592)](_0x4f3860){const _0x4396bf=_0x3317da;this[_0x4396bf(0x576)]=_0x4f3860;}[_0x3317da(0x449)](){const _0x58115d=_0x3317da;delete this[_0x58115d(0x576)];}[_0x3317da(0x160)](_0x3f1ae9){const _0x8b0cb=_0x3317da;this[_0x8b0cb(0x1c4)](),this[_0x8b0cb(0x691)]=new RTCPeerConnection({'iceServers':this[_0x8b0cb(0x15b)]}),_0x3f1ae9?this[_0x8b0cb(0x52f)]=_0x3f1ae9:this['currentVersion']+=0x1,this[_0x8b0cb(0x61b)]();}['processPendingIceCandidates'](){const _0xa9cea4=_0x3317da;this[_0xa9cea4(0x403)][_0xa9cea4(0x505)](_0x594f0d=>this[_0xa9cea4(0x691)][_0xa9cea4(0x3d3)](_0x594f0d)),this[_0xa9cea4(0x403)]=[];}[_0x3317da(0x594)](_0x553c20,_0xcf61f){const _0xc43a5e=_0x3317da;if(!this[_0xc43a5e(0x576)])throw new _0x2ba88c(_0x2ba88c[_0xc43a5e(0x4f1)][_0xc43a5e(0x14e)],{'content':_0x553c20});const _0xd2a0f9={'sourceId':this[_0xc43a5e(0x3d5)],'destinationIds':[this[_0xc43a5e(0x701)]],'propagate':this[_0xc43a5e(0x5fd)]!==_0x34d04f[_0xc43a5e(0x558)],'retry':this[_0xc43a5e(0x5fd)]!==_0x34d04f[_0xc43a5e(0x558)],'messageType':_0x1c4d06[_0xc43a5e(0x1f2)],'content':_0x553c20};_0xcf61f&&(_0xd2a0f9[_0xc43a5e(0x625)]=_0xcf61f),this[_0xc43a5e(0x576)][_0xc43a5e(0x6af)](_0xd2a0f9);}['setupConnectionEvents'](){const _0x17fc43=_0x3317da;this[_0x17fc43(0x691)][_0x17fc43(0x3f6)]=()=>{const _0x44f767=_0x17fc43;'complete'===this[_0x44f767(0x691)][_0x44f767(0x5b7)]&&this[_0x44f767(0x4e1)][_0x44f767(0x43f)]>0x0&&(this['iceDebounce']&&clearTimeout(this[_0x44f767(0x1a0)]),this[_0x44f767(0x1a0)]=setTimeout(()=>{const _0x218c37=_0x44f767;delete this[_0x218c37(0x1a0)],this['sendIceCandidates'](),this['iceCandidates']=[];},0x1f4));},this['connection'][_0x17fc43(0x395)]=_0xc3f75a=>{const _0x19ce04=_0x17fc43;_0xc3f75a[_0x19ce04(0x14a)]&&this[_0x19ce04(0x4e1)]['push'](_0xc3f75a[_0x19ce04(0x14a)]);};}[_0x3317da(0x1c4)](){const _0x52c4bd=_0x3317da;clearTimeout(this['iceDebounce']),delete this[_0x52c4bd(0x1a0)],this[_0x52c4bd(0x4e1)]=[],this[_0x52c4bd(0x6de)]&&(this[_0x52c4bd(0x6de)][_0x52c4bd(0x3ab)]=null,this[_0x52c4bd(0x6de)][_0x52c4bd(0x508)]=null,this[_0x52c4bd(0x6de)]['close'](),delete this[_0x52c4bd(0x6de)]),this[_0x52c4bd(0x691)]['onicegatheringstatechange']=null,this[_0x52c4bd(0x691)][_0x52c4bd(0x395)]=null,this[_0x52c4bd(0x691)][_0x52c4bd(0x1e0)]=null,this[_0x52c4bd(0x691)][_0x52c4bd(0x5c8)]=null,this[_0x52c4bd(0x691)]['ontrack']=null,this[_0x52c4bd(0x691)]['ondatachannel']=null,this[_0x52c4bd(0x691)][_0x52c4bd(0x35e)]();}['addPendingIceCandidate'](_0x4a4388){const _0x59fdcb=_0x3317da;this[_0x59fdcb(0x403)][_0x59fdcb(0x4ee)](_0x4a4388);}[_0x3317da(0x42e)](){const _0x55b601=_0x3317da;_0x546907[_0x55b601(0x614)](_0xea19ad[_0x55b601(0x393)],_0x55b601(0x62d),{'localId':this[_0x55b601(0x3d5)],'remoteId':this[_0x55b601(0x701)],'connectionState':this[_0x55b601(0x691)][_0x55b601(0x43e)],'iceConnectionState':this[_0x55b601(0x691)]['iceConnectionState'],'signalingState':this[_0x55b601(0x691)]['signalingState'],'dataChannelState':this[_0x55b601(0x6de)]?.['readyState']});}}function _0x3ad27c(_0x268b77,_0x4e5dbd){const _0x2025aa=_0x3317da;_0x4e5dbd[_0x2025aa(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06['WebRTC'],'content':_0x268b77});}class _0x45ae4d{static [_0x3317da(0x241)];[_0x3317da(0x49c)]=[];constructor(){setInterval(()=>{const _0x2000d9=a0_0x2858;this[_0x2000d9(0x49c)]['forEach'](_0x28ceed=>{const _0x364100=_0x2000d9;if(Date['now']()-_0x28ceed[_0x364100(0x63e)]>_0x28ceed[_0x364100(0x6f6)]){try{_0x28ceed[_0x364100(0x490)]();}catch(_0x1d00f2){}_0x28ceed[_0x364100(0x63e)]=Date[_0x364100(0x6dd)]();}});},0x64);}static[_0x3317da(0x53d)](){const _0x184ed6=_0x3317da;return _0x45ae4d[_0x184ed6(0x241)]||(_0x45ae4d['instance']=new _0x45ae4d()),_0x45ae4d['instance'];}[_0x3317da(0x641)](_0x3dfc36){const _0x26a544=_0x3317da,_0x132224=this[_0x26a544(0x618)](_0x3dfc36),_0xee1692=_0x3dfc36['createGain']();_0xee1692&&_0x132224&&(_0xee1692['gain'][_0x26a544(0x22f)]=0.001,_0x132224['connect'](_0xee1692),_0xee1692[_0x26a544(0x66a)](_0x3dfc36['destination']),_0x132224[_0x26a544(0x296)]());}[_0x3317da(0x6c7)](_0x1a8a8c){return new Promise(_0x5ffb13=>{setTimeout(_0x5ffb13,_0x1a8a8c);});}[_0x3317da(0x4e2)](_0x24a9a2,_0x55aeb0){const _0x33f107=_0x3317da;return this[_0x33f107(0x49c)][_0x33f107(0x4ee)]({'callback':_0x24a9a2,'interval':_0x55aeb0,'lastExecuted':Date[_0x33f107(0x6dd)]()}),()=>{const _0xaa39a6=_0x33f107;this[_0xaa39a6(0x49c)]=this[_0xaa39a6(0x49c)][_0xaa39a6(0x5e1)](_0x801106=>_0x801106[_0xaa39a6(0x490)]!==_0x24a9a2);};}[_0x3317da(0x618)](_0x55bd92){const _0x2a482c=_0x3317da;if(_0x55bd92[_0x2a482c(0x618)])return _0x55bd92[_0x2a482c(0x618)]();const _0x3078a6=_0x55bd92[_0x2a482c(0x32c)](),_0x4dc8c7=_0x55bd92[_0x2a482c(0x481)](0x1,0x1,_0x55bd92[_0x2a482c(0x677)]);return _0x4dc8c7[_0x2a482c(0x366)](0x0)[0x0]=0xa,_0x3078a6['buffer']=_0x4dc8c7,_0x3078a6[_0x2a482c(0x4c7)]=!0x0,_0x3078a6;}}const _0x4d713a=_0x45ae4d[_0x3317da(0x53d)](),_0x1b8342=['WebRTC','Node',_0x3317da(0x27b),_0x3317da(0x1ff),'Stats',_0x3317da(0x35c),_0x3317da(0x38b)],_0xba3aa2=[[_0x3317da(0x556),_0x3317da(0x1a3),'Ice',_0x3317da(0x3e6),'NeedRestart',_0x3317da(0x1d5),_0x3317da(0x409),_0x3317da(0x1d7),'OptimizationConnectionSuccess'],['UserJoin',_0x3317da(0x1c9),_0x3317da(0x30d),'UserLeave'],['PublishMediaStream',_0x3317da(0x65b),_0x3317da(0x487),_0x3317da(0x5a6),_0x3317da(0x285),_0x3317da(0x205),'CloseKeyValueDatabase',_0x3317da(0x5a8),'CloseMediaStream',_0x3317da(0x6d5),_0x3317da(0x25d),_0x3317da(0x680),_0x3317da(0x6a4),_0x3317da(0x6e1),'ObjectStoreStats',_0x3317da(0x5f9)],[_0x3317da(0x487),_0x3317da(0x5a6),'UnsubscribeMediaStream',_0x3317da(0x421),_0x3317da(0x216),_0x3317da(0x569),_0x3317da(0x43d),_0x3317da(0x414)],['StreamReport','LocalReport'],[_0x3317da(0x6da)],[_0x3317da(0x38b),_0x3317da(0x28b)]];function _0x1c85ba(_0x399a97){const _0xf2fc88=_0x3317da;return{..._0x399a97,'systemMessageType':_0x1b8342[_0x399a97['messageType']],'systemContentMessageType':_0xba3aa2[_0x399a97['messageType']][_0x399a97[_0xf2fc88(0x1b9)][_0xf2fc88(0x1e3)]]};}const _0x5e6903={'hour':'2-digit','minute':_0x3317da(0x347),'second':_0x3317da(0x347)};function _0x115979(_0x2d8f24,_0x3c11b5){const _0x1d5bbc=_0x3317da,_0x228b39=(function(){const _0x5021ee=a0_0x2858,_0x845f48=new Date(),_0x2739f6=_0x845f48[_0x5021ee(0x342)](),_0x4c82c5=_0x845f48['toLocaleDateString'](_0x5021ee(0x1b3),_0x5e6903)[_0x5021ee(0x5e9)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x4c82c5+'.'+(_0x2739f6>0x64?''+_0x2739f6:_0x2739f6>0xa?'0'+_0x2739f6:'00'+_0x2739f6);}()),{sourceId:_0x16214f,destinationIds:_0x504875,systemMessageType:_0x7d8029,systemContentMessageType:_0x5a9ea1}=_0x1c85ba(_0x2d8f24);return _0x228b39+'\x20-\x20'+_0x3c11b5+_0x1d5bbc(0x567)+(_0x16214f===_0x3c11b5?_0x1d5bbc(0x1fa)+_0x7d8029+_0x1d5bbc(0x16f)+(_0x504875?''+_0x504875:_0x1d5bbc(0x5fa)):_0x2d8f24[_0x1d5bbc(0x396)]===_0x3e41dd?_0x1d5bbc(0x185)+_0x7d8029+'\x27':(_0x504875?'':_0x1d5bbc(0x613))+_0x1d5bbc(0x573)+_0x7d8029+_0x1d5bbc(0x3a6)+_0x16214f)+_0x1d5bbc(0x2ff)+_0x5a9ea1+'\x27\x20payload:';}class _0x30b82e extends _0x216e21{[_0x3317da(0x68b)]=_0x4dbd80();[_0x3317da(0x33d)]=_0x4dbd80();[_0x3317da(0x535)]=_0x4dbd80();[_0x3317da(0x1b6)]=new Map();[_0x3317da(0x4c0)]=new Map();[_0x3317da(0x3cf)];[_0x3317da(0x364)]=0x0;[_0x3317da(0x1ea)]={'messages':{'total':0x0}};[_0x3317da(0x3bf)]=0x0;[_0x3317da(0x4c4)]=0x0;[_0x3317da(0x35e)](){const _0x5ba8cc=_0x3317da;this[_0x5ba8cc(0x1a6)](),this['receivers']['clear'](),super[_0x5ba8cc(0x35e)]();}async[_0x3317da(0x636)](_0x201c21,_0x2881ad){const _0x3dbd2a=_0x3317da;this['currentVersion']=_0x2881ad,this['clearWaitSuccess'](),await this[_0x3dbd2a(0x691)][_0x3dbd2a(0x244)](_0x201c21);const _0x3dac5f=await this[_0x3dbd2a(0x691)][_0x3dbd2a(0x217)]();await this[_0x3dbd2a(0x691)][_0x3dbd2a(0x6f3)](_0x3dac5f),this[_0x3dbd2a(0x5d5)]();const _0x48f42f=(0x0,_0xdef932['v4'])();this[_0x3dbd2a(0x594)]({'type':_0x2c3496['Answer'],'answer':this[_0x3dbd2a(0x691)][_0x3dbd2a(0x5dd)],'version':_0x2881ad,'connectionType':this[_0x3dbd2a(0x5fd)]},_0x48f42f),this[_0x3dbd2a(0x5fd)]===_0x34d04f[_0x3dbd2a(0x558)]&&(this[_0x3dbd2a(0x3cf)]=_0x4d713a[_0x3dbd2a(0x4e2)](()=>{const _0x5180d9=_0x3dbd2a;this[_0x5180d9(0x594)]({'type':_0x2c3496[_0x5180d9(0x1a3)],'answer':this[_0x5180d9(0x691)][_0x5180d9(0x5dd)],'version':_0x2881ad,'connectionType':this[_0x5180d9(0x5fd)]},_0x48f42f);},0x1388));}[_0x3317da(0x355)](){const _0x33858c=_0x3317da;this[_0x33858c(0x1a6)]();}[_0x3317da(0x1b1)](_0x531c75){const _0x2a7432=_0x3317da;this[_0x2a7432(0x160)](_0x531c75),this[_0x2a7432(0x594)]({'type':_0x2c3496[_0x2a7432(0x1d5)]});}async[_0x3317da(0x2ef)](){const _0xe2672a=_0x3317da;await async function(_0x235f8e,_0x52cb21,_0x2adbdd,_0x296e00){const _0x9db64f=a0_0x2858;for(const [_0x209b2e,_0x13438b]of _0x52cb21){const _0x4aa189=[];for(const _0x94ae9a of _0x13438b)_0x4aa189[_0x9db64f(0x4ee)](await _0x2adbdd['getStats'](_0x94ae9a));0x0!==_0x4aa189[_0x9db64f(0x43f)]&&_0x3ad27c({'type':_0x2c3496['Stats'],'streamId':_0x209b2e,'userId':_0x235f8e,'stats':_0x4aa189},_0x296e00);}}(this['remoteId'],this[_0xe2672a(0x1b6)],this['connection'],this[_0xe2672a(0x576)]),this['systemTopic'][_0xe2672a(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0xe2672a(0x1f2)],'content':{'type':_0x2c3496[_0xe2672a(0x1d7)],'userId':this[_0xe2672a(0x701)],'stats':{'origin':_0x39632f[_0xe2672a(0x5af)],'timestamp':Date[_0xe2672a(0x6dd)](),'messagesReceived':this[_0xe2672a(0x364)],'bytesReceived':this[_0xe2672a(0x3bf)],'timeReceiving':this[_0xe2672a(0x4c4)],'systemMessages':this['systemMessagesReceived']}}});}[_0x3317da(0x470)](_0x263672){const _0x1ab412=_0x3317da;return this[_0x1ab412(0x68b)][_0x1ab412(0x650)](_0x263672);}[_0x3317da(0x683)](_0x1143b6){const _0x4df6c4=_0x3317da;return this[_0x4df6c4(0x33d)]['subscribe'](({track:_0x5b85d9,stream:_0x403846})=>_0x1143b6(_0x5b85d9,_0x403846));}['onRemoveTrack'](_0x5a4751){const _0xaf636a=_0x3317da;return this[_0xaf636a(0x535)][_0xaf636a(0x650)](({track:_0x2188e5,stream:_0x141fb0})=>_0x5a4751(_0x2188e5,_0x141fb0));}[_0x3317da(0x160)](_0x5eac78){const _0x113a23=_0x3317da;this['clearWaitSuccess'](),this[_0x113a23(0x1b6)][_0x113a23(0x505)](_0x1eb4c5=>{const _0x5094d0=_0x113a23;_0x1eb4c5[_0x5094d0(0x299)]();}),super[_0x113a23(0x160)](_0x5eac78);}[_0x3317da(0x340)](){const _0x5ef059=_0x3317da;this['publishWebRTCMessage']({'type':_0x2c3496[_0x5ef059(0x37b)],'candidates':this[_0x5ef059(0x4e1)],'origin':_0x39632f[_0x5ef059(0x5af)],'version':this[_0x5ef059(0x52f)],'connectionType':this[_0x5ef059(0x5fd)]});}[_0x3317da(0x61b)](){const _0x52e3be=_0x3317da;super['setupConnectionEvents'](),this[_0x52e3be(0x691)][_0x52e3be(0x507)]=_0x32893f=>{const _0x230b17=_0x52e3be;_0x546907['log'](_0xea19ad[_0x230b17(0x386)],'CrewdleReceiverConnection\x20ontrack',this['localId'],_0x32893f),_0x32893f[_0x230b17(0x2e5)][0x0][_0x230b17(0x483)]=_0x3ca8c8=>{const _0x4cbf37=_0x230b17;this['receivers'][_0x4cbf37(0x1c0)](_0x32893f[_0x4cbf37(0x2e5)][0x0]['id'])?.[_0x4cbf37(0x164)](_0x3ca8c8[_0x4cbf37(0x565)]),0x0===this[_0x4cbf37(0x1b6)]['get'](_0x32893f['streams'][0x0]['id'])?.['size']&&this[_0x4cbf37(0x1b6)][_0x4cbf37(0x164)](_0x32893f['streams'][0x0]['id']),this[_0x4cbf37(0x535)]['publish']({'track':_0x3ca8c8[_0x4cbf37(0x565)],'stream':_0x32893f['streams'][0x0]});},this['receivers'][_0x230b17(0x29e)](_0x32893f[_0x230b17(0x2e5)][0x0]['id'])||this['receivers']['set'](_0x32893f['streams'][0x0]['id'],new Set()),this['receivers']['get'](_0x32893f[_0x230b17(0x2e5)][0x0]['id'])[_0x230b17(0x443)](_0x32893f[_0x230b17(0x565)]),this['trackCallback'][_0x230b17(0x6af)]({'track':_0x32893f[_0x230b17(0x565)],'stream':_0x32893f[_0x230b17(0x2e5)][0x0]});},this[_0x52e3be(0x691)][_0x52e3be(0x5c7)]=_0x4fc556=>{const _0x28edd9=_0x52e3be;this[_0x28edd9(0x6de)]=_0x4fc556[_0x28edd9(0x4bf)],this[_0x28edd9(0x6de)][_0x28edd9(0x3ab)]=_0x4503b8=>{const _0x3d8b45=_0x28edd9;if(_0x4503b8[_0x3d8b45(0x1ed)]!==_0x53a058)this[_0x3d8b45(0x2a0)](_0x4503b8[_0x3d8b45(0x1ed)]);else{if(!this[_0x3d8b45(0x6de)])return void _0x546907[_0x3d8b45(0x4b0)]('missing-datachannel',{'clusterId':this[_0x3d8b45(0x2ed)],'userId':this['localId'],'remoteId':this[_0x3d8b45(0x701)],'data':{'connection':'receiver'}});if(_0x3d8b45(0x1d1)!==this[_0x3d8b45(0x6de)]['readyState'])return;this[_0x3d8b45(0x6de)][_0x3d8b45(0x452)]('1');}};};}[_0x3317da(0x2a0)](_0x8e4ab9){const _0x1e7a8d=_0x3317da;if(_0x1e7a8d(0x368)==typeof _0x8e4ab9&&_0x8e4ab9['startsWith'](_0x54ce6f))return this[_0x1e7a8d(0x364)]+=0x1,this[_0x1e7a8d(0x3bf)]+=_0x8e4ab9[_0x1e7a8d(0x43f)],this[_0x1e7a8d(0x585)](_0x8e4ab9);setTimeout(()=>{const _0x25b793=_0x1e7a8d,_0x3d2070=Date[_0x25b793(0x6dd)]();let _0x1a924c;if((_0x8e4ab9 instanceof ArrayBuffer||_0x8e4ab9[_0x25b793(0x43f)]<=_0x4a1ec3)&&(this[_0x25b793(0x364)]+=0x1,this['bytesReceived']+=_0x8e4ab9 instanceof ArrayBuffer?_0x8e4ab9['byteLength']:_0x8e4ab9[_0x25b793(0x43f)]),_0x8e4ab9 instanceof ArrayBuffer){const [_0x211712,_0x459e7a]=this[_0x25b793(0x156)](_0x8e4ab9);_0x1a924c=_0x211712,_0x1a924c[_0x25b793(0x1b9)][_0x25b793(0x1ed)]=_0x459e7a;}else _0x1a924c=JSON[_0x25b793(0x584)](_0x8e4ab9);if(0x0===_0x1a924c['topicLabel']){this[_0x25b793(0x1ea)][_0x25b793(0x57e)][_0x25b793(0x362)]+=0x1;const {systemMessageType:_0x155138,systemContentMessageType:_0x365041}=_0x1c85ba(_0x1a924c);this[_0x25b793(0x1ea)][_0x155138]||(this[_0x25b793(0x1ea)][_0x155138]={[_0x365041]:0x0}),this[_0x25b793(0x1ea)][_0x155138][_0x365041]||(this[_0x25b793(0x1ea)][_0x155138][_0x365041]=0x0),this['systemMessagesReceived'][_0x155138][_0x25b793(0x362)]||(this[_0x25b793(0x1ea)][_0x155138][_0x25b793(0x362)]=0x0),this[_0x25b793(0x1ea)][_0x155138][_0x365041]+=0x1,this[_0x25b793(0x1ea)][_0x155138][_0x25b793(0x362)]+=0x1;}this['messageCallback'][_0x25b793(0x6af)](_0x1a924c),this['timeReceiving']+=Date[_0x25b793(0x6dd)]()-_0x3d2070;},0x0);}[_0x3317da(0x585)](_0x49a42d){const _0x97230f=_0x3317da,_0x3e11d6=_0x49a42d[_0x97230f(0x45a)](';'),_0x4b1bdd=_0x3e11d6[0x1],_0x441cb4=parseInt(_0x3e11d6[0x2],0xa),_0x163c29=parseInt(_0x3e11d6[0x3],0xa),_0x456e30=_0x49a42d[_0x97230f(0x71d)](_0x54ce6f+';'+_0x4b1bdd+';'+_0x441cb4+';'+_0x163c29+';','');this[_0x97230f(0x4c0)]['has'](_0x4b1bdd)||this[_0x97230f(0x4c0)][_0x97230f(0x2c2)](_0x4b1bdd,[]);const _0x3fd52a=this[_0x97230f(0x4c0)][_0x97230f(0x1c0)](_0x4b1bdd);_0x3fd52a[_0x441cb4]=_0x456e30,_0x3fd52a[_0x97230f(0x43f)]===_0x163c29&&(this[_0x97230f(0x2a0)](_0x3fd52a[_0x97230f(0x2d6)]('')),this[_0x97230f(0x4c0)][_0x97230f(0x164)](_0x4b1bdd));}['clearWaitSuccess'](){const _0x1f2e26=_0x3317da;this[_0x1f2e26(0x3cf)]?.(),delete this[_0x1f2e26(0x3cf)];}[_0x3317da(0x67c)](_0x2ae498){const _0x153a72=_0x3317da,_0x481ea7=new TextDecoder()[_0x153a72(0x21e)](_0x2ae498);return JSON['parse'](_0x481ea7);}['splitParts'](_0x2ac889){const _0x18a70e=_0x3317da,_0x1b4c05=new Uint8Array(_0x2ac889[_0x18a70e(0x60e)](0x0,0x4)),_0x48f52f=new Uint32Array(_0x1b4c05['buffer'])[0x0],_0x2e940c=new Uint8Array(_0x2ac889['slice'](0x4,0x4+_0x48f52f)),_0x1869f5=new Uint8Array(_0x2ac889[_0x18a70e(0x60e)](0x4+_0x48f52f));return[this[_0x18a70e(0x67c)](_0x2e940c[_0x18a70e(0x6c2)]),_0x1869f5[_0x18a70e(0x6c2)]];}}const _0x221fed=0xc350;var _0x17ca7d,_0x3fa9b2,_0x46b4cf,_0x3de9e3,_0x176b0f;function _0x3e26b6(_0x3803fc){const _0x2cac79=_0x3317da;if(_0x3803fc[_0x2cac79(0x2fc)]['video']&&_0x3803fc[_0x2cac79(0x2fc)]['video']['sender']){const _0x13e6ad=_0x3803fc[_0x2cac79(0x2fc)][_0x2cac79(0x2ca)][_0x2cac79(0x49b)][_0x2cac79(0x52a)]();if(!_0x13e6ad)return;_0x13e6ad[_0x2cac79(0x55f)][_0x2cac79(0x505)](_0x199715=>{const _0x2643d5=_0x2cac79;_0x199715[_0x2643d5(0x5d2)]=Math[_0x2643d5(0x1c1)](0xa*_0x3803fc[_0x2643d5(0x467)])/0xa,_0x199715['maxFramerate']=_0x3803fc[_0x2643d5(0x44b)],_0x199715[_0x2643d5(0x237)]=_0x3803fc[_0x2643d5(0x254)],_0x199715[_0x2643d5(0x328)]=_0x57adee(_0x3803fc[_0x2643d5(0x328)]);}),_0x3803fc[_0x2cac79(0x2fc)][_0x2cac79(0x2ca)][_0x2cac79(0x49b)][_0x2cac79(0x4b1)](_0x13e6ad)[_0x2cac79(0x714)](()=>{});}}function _0x57adee(_0x3a98f2){const _0x1445c9=_0x3317da;switch(_0x3a98f2){case _0x46ba21[_0x1445c9(0x14c)]:return _0x1445c9(0x376);case _0x46ba21[_0x1445c9(0x37f)]:return _0x1445c9(0x5fe);default:return _0x1445c9(0x462);}}!function(_0x165e12){const _0xab05ec=_0x3317da;_0x165e12[_0x165e12[_0xab05ec(0x37f)]=0x0]='High',_0x165e12[_0x165e12[_0xab05ec(0x5a1)]=0x1]=_0xab05ec(0x5a1),_0x165e12[_0x165e12[_0xab05ec(0x14c)]=0x2]=_0xab05ec(0x14c);}(_0x17ca7d||(_0x17ca7d={}));class _0x276ab0 extends _0x216e21{[_0x3317da(0x4a2)];['maxBpp'];[_0x3317da(0x177)]=new Map();['heartbeatUnsubscriber'];[_0x3317da(0x4f4)];[_0x3317da(0x3b9)];[_0x3317da(0x2db)]=!0x1;[_0x3317da(0x14d)];['restartTimeout'];[_0x3317da(0x2e6)];['retryQueue']=function(e,t=_0x17ca7d,s=!0x1){const _0x36d1e8=_0x3317da;let i=!0x1;const n=[];async function a(){const _0x602dc8=a0_0x2858;if(!i){for(i=!0x0;n[_0x602dc8(0x6a2)](e=>e['head']);){let t,i=0x0;for(const [e,s]of n[_0x602dc8(0x456)]())if(t=s[_0x602dc8(0x68d)](),i=e,t)break;if(t)try{if(e instanceof _0x3ae939&&e[_0x602dc8(0x405)](t),e instanceof _0x18ed0f&&await e['call'](t),n[_0x602dc8(0x60e)](-0x1)[_0x602dc8(0x6a2)](e=>e[_0x602dc8(0x245)]))continue;const s=n[_0x602dc8(0x43f)]-0x1;i===s&&n[s]['head']&&await _0x4d713a['wait'](0x0);}catch(a){s?n[i]['push'](t,!0x1):n[i][_0x602dc8(0x1e1)](t,!0x1),await e['wait']();}}i=!0x1;}}return Object['values'](t)[_0x36d1e8(0x505)](e=>{const _0x22c5d5=_0x36d1e8;_0x22c5d5(0x368)!=typeof e&&(n[e]=_0x2b86f2(a));}),{'queues':n};}(new _0x3ae939(this[_0x3317da(0x195)][_0x3317da(0x46f)](this),this[_0x3317da(0x6ed)][_0x3317da(0x46f)](this)));[_0x3317da(0x611)]=0x0;[_0x3317da(0x64f)]=0x0;[_0x3317da(0x717)]=0x0;[_0x3317da(0x673)]=0x0;[_0x3317da(0x6cb)];constructor(_0x5abd40,_0x21fb58,_0x405508,_0x5b2d8a,_0x51ea17,_0xbd322b,_0x37aa4e){const _0x145d23=_0x3317da;super(_0x5abd40,_0x21fb58,_0x405508,_0x5b2d8a,_0x51ea17),this[_0x145d23(0x4a2)]=_0xbd322b,this[_0x145d23(0x411)]=_0x37aa4e;}[_0x3317da(0x35e)](){const _0x4c432d=_0x3317da;this[_0x4c432d(0x6bc)](),this['clearHeartbeat'](),delete this['lastHeartbeat'],this[_0x4c432d(0x1af)](),this[_0x4c432d(0x48b)](),this[_0x4c432d(0x187)](),this[_0x4c432d(0x177)][_0x4c432d(0x299)](),this[_0x4c432d(0x2db)]=!0x1,this[_0x4c432d(0x248)]['queues'][_0x4c432d(0x505)](_0x2db230=>_0x2db230[_0x4c432d(0x299)]()),this[_0x4c432d(0x660)](),super[_0x4c432d(0x35e)]();}[_0x3317da(0x6be)](){const _0x202400=_0x3317da;return!!this['lastHeartbeat']&&super[_0x202400(0x6be)]()&&Date['now']()-this['lastHeartbeat']<0x3a98;}async[_0x3317da(0x2ef)](){const _0x2c949c=_0x3317da;await async function(_0x810bb3,_0x1882e4,_0x2de178,_0xfd387d){const _0x12716c=a0_0x2858;for(const [_0x9694b0,_0x578209]of _0x1882e4){const _0x1f9694=[];_0x578209[_0x12716c(0x2fc)][_0x12716c(0x2ca)]?.[_0x12716c(0x565)]&&_0x578209[_0x12716c(0x2fc)][_0x12716c(0x2ca)]?.['sender']&&_0x1f9694[_0x12716c(0x4ee)](await _0x2de178['getStats'](_0x578209[_0x12716c(0x2fc)][_0x12716c(0x2ca)][_0x12716c(0x565)])),_0x578209[_0x12716c(0x2fc)][_0x12716c(0x34d)]?.['track']&&_0x578209[_0x12716c(0x2fc)]['audio']?.['sender']&&_0x1f9694[_0x12716c(0x4ee)](await _0x2de178[_0x12716c(0x455)](_0x578209['tracks'][_0x12716c(0x34d)][_0x12716c(0x565)])),0x0!==_0x1f9694[_0x12716c(0x43f)]&&_0x3ad27c({'type':_0x2c3496[_0x12716c(0x1d7)],'streamId':_0x9694b0,'userId':_0x810bb3,'stats':_0x1f9694},_0xfd387d);}}(this[_0x2c949c(0x701)],this['senders'],this[_0x2c949c(0x691)],this[_0x2c949c(0x576)]),this[_0x2c949c(0x576)][_0x2c949c(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x2c949c(0x1f2)],'content':{'type':_0x2c3496[_0x2c949c(0x1d7)],'userId':this[_0x2c949c(0x701)],'stats':{'origin':_0x39632f['Sender'],'timestamp':Date[_0x2c949c(0x6dd)](),'messagesSent':this['messagesSent'],'bytesSent':this[_0x2c949c(0x64f)],'timeSending':this[_0x2c949c(0x717)],'roundTripTime':this[_0x2c949c(0x673)]}}});}async[_0x3317da(0x242)](_0x56aff1){const _0x1858d2=_0x3317da;_0x546907[_0x1858d2(0x614)](_0xea19ad['Connection'],_0x1858d2(0x5a4),this[_0x1858d2(0x3d5)],this[_0x1858d2(0x701)]),this[_0x1858d2(0x1af)](),this[_0x1858d2(0x48b)](),this[_0x1858d2(0x187)](),this[_0x1858d2(0x14d)]=setTimeout(()=>{const _0x23d670=_0x1858d2;this[_0x23d670(0x699)]();},0x7530),this[_0x1858d2(0x6de)]||(this[_0x1858d2(0x6de)]=this[_0x1858d2(0x691)][_0x1858d2(0x6ca)]('data'),this[_0x1858d2(0x6de)][_0x1858d2(0x2af)]=0x10000,this['dataChannel'][_0x1858d2(0x508)]=()=>{const _0x4c2338=_0x1858d2;this[_0x4c2338(0x6cb)]=setTimeout(()=>{const _0x535790=_0x4c2338;delete this['oncloseTimeout'],[_0x535790(0x609),'open'][_0x535790(0x32e)](this[_0x535790(0x6de)]?.[_0x535790(0x422)]??'')||this[_0x535790(0x699)]();},0xfa);});const _0x148bdf=await this[_0x1858d2(0x691)]['createOffer'](_0x56aff1);this[_0x1858d2(0x3b9)]||(this[_0x1858d2(0x3b9)]=Date[_0x1858d2(0x6dd)]()),await this[_0x1858d2(0x691)]['setLocalDescription'](_0x148bdf);const _0x33bbcc=(0x0,_0xdef932['v4'])();this[_0x1858d2(0x594)]({'type':_0x2c3496[_0x1858d2(0x556)],'offer':this[_0x1858d2(0x691)][_0x1858d2(0x5dd)],'version':this[_0x1858d2(0x52f)],'connectionType':this[_0x1858d2(0x5fd)]},_0x33bbcc),this['connectionType']===_0x34d04f[_0x1858d2(0x558)]&&(this[_0x1858d2(0x4f4)]=_0x4d713a[_0x1858d2(0x4e2)](()=>{const _0x41fe30=_0x1858d2;this[_0x41fe30(0x594)]({'type':_0x2c3496[_0x41fe30(0x556)],'offer':this[_0x41fe30(0x691)][_0x41fe30(0x5dd)],'version':this['currentVersion'],'connectionType':this[_0x41fe30(0x5fd)]},_0x33bbcc);},0x1388));}async[_0x3317da(0x6ef)](_0x378e92,_0x5c20f0){const _0x4616ce=_0x3317da;if(_0x5c20f0===this[_0x4616ce(0x52f)]){this[_0x4616ce(0x187)]();try{await this['connection'][_0x4616ce(0x244)](_0x378e92),this[_0x4616ce(0x5d5)](),this[_0x4616ce(0x691)][_0x4616ce(0x269)]||(this[_0x4616ce(0x691)]['onnegotiationneeded']=()=>this[_0x4616ce(0x242)]()),this[_0x4616ce(0x48b)](),this['startHeartbeat']();}catch(_0x2bb854){this[_0x4616ce(0x699)]();}}}[_0x3317da(0x452)](_0xdff304){const _0x13d0a9=_0x3317da;if(!this[_0x13d0a9(0x6de)])throw new _0x2ba88c(_0x2ba88c['codes'][_0x13d0a9(0x3d1)],{'message':_0x13d0a9(0x25f),'localId':this[_0x13d0a9(0x3d5)],'remoteId':this['remoteId'],'eventMessage':_0xdff304});if(_0x13d0a9(0x1d1)!==this[_0x13d0a9(0x6de)][_0x13d0a9(0x422)])throw new _0x2ba88c(_0x2ba88c['codes'][_0x13d0a9(0x3d1)],{'message':_0x13d0a9(0x2ee),'localId':this[_0x13d0a9(0x3d5)],'remoteId':this[_0x13d0a9(0x701)],'eventMessage':_0xdff304});let _0xa1a829;if(_0xdff304['content']['data']instanceof ArrayBuffer){const _0x1f0034=_0xdff304['content'][_0x13d0a9(0x1ed)];delete _0xdff304[_0x13d0a9(0x1b9)]['data'],_0xa1a829=this[_0x13d0a9(0x61a)](_0xdff304,_0x1f0034);}else _0xa1a829=JSON[_0x13d0a9(0x461)](_0xdff304);if(_0x13d0a9(0x368)==typeof _0xa1a829&&_0xa1a829[_0x13d0a9(0x43f)]>_0x4a1ec3)return this['sendChunked'](_0xdff304,_0xa1a829);const _0x59600d=0x0===_0xdff304[_0x13d0a9(0x310)]&&[_0x1c4d06[_0x13d0a9(0x1ff)],_0x1c4d06[_0x13d0a9(0x1f2)]]['includes'](_0xdff304[_0x13d0a9(0x442)])?_0x17ca7d['High']:_0xdff304 instanceof ArrayBuffer?_0x17ca7d[_0x13d0a9(0x14c)]:_0x17ca7d[_0x13d0a9(0x5a1)];this[_0x13d0a9(0x4af)](_0xa1a829,_0x59600d);}[_0x3317da(0x213)](_0x1f8acb,_0x3864ee,_0x27789e,_0xab19cc){const _0x572661=_0x3317da,_0x595566=(_0x1ccd53=this['maxFps'],_0x5db190=this['maxBpp'],Math['floor'](0xe1000*_0x1ccd53*_0x5db190));var _0x1ccd53,_0x5db190;const _0x264963=this[_0x572661(0x177)][_0x572661(0x1c0)](_0x3864ee['id'])||{'stream':_0x3864ee,'priority':_0x27789e,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x595566,'maxBitrate':_0x595566,'framerate':this['maxFps'],'maxFramerate':this['maxFps'],'tracks':{},'params':_0xab19cc},_0x14705c=_0x264963['tracks'][_0x1f8acb['kind']]||{'track':_0x1f8acb};_0x14705c['sender']?(_0x14705c[_0x572661(0x565)]=_0x1f8acb,_0x14705c[_0x572661(0x49b)][_0x572661(0x702)](_0x1f8acb),this[_0x572661(0x691)]['getTransceivers']()[_0x572661(0x505)](_0x7d5e68=>{const _0x4e8865=_0x572661;_0x7d5e68['sender']===_0x14705c[_0x4e8865(0x49b)]&&(_0x7d5e68[_0x4e8865(0x719)]=_0x4e8865(0x408));})):_0x14705c[_0x572661(0x49b)]=this[_0x572661(0x691)][_0x572661(0x213)](_0x1f8acb,_0x3864ee),_0x264963[_0x572661(0x2fc)][_0x1f8acb[_0x572661(0x3dd)]]=_0x14705c,_0xab19cc&&(_0x264963[_0x572661(0x5f6)]=_0xab19cc),_0xab19cc&&_0x572661(0x2ca)===_0xab19cc[_0x572661(0x3dd)]&&_0xab19cc[_0x572661(0x3a4)]&&_0xab19cc[_0x572661(0x64e)]&&(_0x264963['resolutionScale']=this['getResolutionScale'](_0xab19cc[_0x572661(0x3a4)],_0xab19cc[_0x572661(0x64e)]),_0x264963['minResolutionScale']=_0x264963[_0x572661(0x467)],_0x3e26b6(_0x264963)),this[_0x572661(0x177)]['set'](_0x3864ee['id'],_0x264963);}['setPriority'](_0x5a2268,_0x5e2c02){const _0x426d72=_0x3317da,_0x535b4c=this[_0x426d72(0x177)]['get'](_0x5a2268['id']);_0x535b4c&&_0x535b4c[_0x426d72(0x328)]!==_0x5e2c02&&(_0x535b4c[_0x426d72(0x328)]=_0x5e2c02,_0x3e26b6(_0x535b4c));}[_0x3317da(0x26c)](_0x4dd037,_0x13ac7d){const _0x3b4930=_0x3317da,_0x3c91b3=this[_0x3b4930(0x177)]['get'](_0x4dd037['id']);_0x3c91b3&&(_0x3c91b3['params']=_0x13ac7d,_0x13ac7d&&'video'===_0x13ac7d[_0x3b4930(0x3dd)]&&_0x13ac7d[_0x3b4930(0x3a4)]&&_0x13ac7d[_0x3b4930(0x64e)]&&(_0x3c91b3[_0x3b4930(0x158)]=this[_0x3b4930(0x203)](_0x13ac7d[_0x3b4930(0x3a4)],_0x13ac7d[_0x3b4930(0x64e)]),_0x3c91b3[_0x3b4930(0x467)]<_0x3c91b3[_0x3b4930(0x158)]&&(_0x3c91b3[_0x3b4930(0x467)]=_0x3c91b3[_0x3b4930(0x158)]),_0x3e26b6(_0x3c91b3),this[_0x3b4930(0x6bc)](),this[_0x3b4930(0x2a8)]()),this['senders'][_0x3b4930(0x2c2)](_0x4dd037['id'],_0x3c91b3));}['removeTrack'](_0x316a51,_0x5ab94c){const _0x31630f=_0x3317da,_0x36cd5d=this[_0x31630f(0x177)][_0x31630f(0x1c0)](_0x5ab94c['id']);if(_0x36cd5d){const _0x4e091e=_0x36cd5d[_0x31630f(0x2fc)][_0x316a51[_0x31630f(0x3dd)]];_0x4e091e&&(_0x4e091e[_0x31630f(0x49b)]&&this[_0x31630f(0x691)][_0x31630f(0x4a8)](_0x4e091e[_0x31630f(0x49b)]),_0x4e091e[_0x31630f(0x565)]=void 0x0);}}[_0x3317da(0x5aa)](_0x3d5f82){const _0x4bb138=_0x3317da;this[_0x4bb138(0x6bc)]();const _0x149da0=function(_0x589ac9,_0x293a73){const _0x2cf7f1=_0x4bb138;return _0x589ac9[_0x2cf7f1(0x720)]((_0x1f2e69,_0x2ff0a5)=>_0x293a73[_0x2cf7f1(0x377)]===_0xbceedb[_0x2cf7f1(0x647)]?_0x2ff0a5[_0x2cf7f1(0x328)]-_0x1f2e69[_0x2cf7f1(0x328)]:_0x1f2e69[_0x2cf7f1(0x328)]-_0x2ff0a5['priority'])[_0x2cf7f1(0x657)](_0x3f0851=>function(_0x2025a2,_0x36c807){const _0x48ac15=_0x2cf7f1;if(_0x36c807[_0x48ac15(0x377)]===_0xbceedb[_0x48ac15(0x647)]){if(_0x36c807[_0x48ac15(0x25a)]===_0x196313[_0x48ac15(0x643)])return _0x2025a2[_0x48ac15(0x467)]<0x4||_0x2025a2['maxFramerate']>0xf;if(_0x36c807[_0x48ac15(0x25a)]===_0x196313[_0x48ac15(0x5ae)])return _0x2025a2[_0x48ac15(0x237)]>_0x221fed;}return _0x2025a2[_0x48ac15(0x467)]>_0x2025a2[_0x48ac15(0x158)]||_0x2025a2['framerate']<_0x2025a2['maxFramerate']||_0x2025a2[_0x48ac15(0x254)]<_0x2025a2['maxBitrate'];}(_0x3f0851,_0x293a73));}(Array[_0x4bb138(0x4f2)](this[_0x4bb138(0x177)]['values']()),_0x3d5f82);_0x149da0&&function(_0x3d27d8,_0x8409bb){const _0x5e83d4=_0x4bb138;if(_0x3d27d8['tracks']['video']&&_0x3d27d8[_0x5e83d4(0x2fc)][_0x5e83d4(0x2ca)][_0x5e83d4(0x49b)]){_0x3d27d8[_0x5e83d4(0x467)]=function(_0x5d271d,_0x361cdf,_0x5a65cd){const _0x33d1cf=_0x5e83d4;switch(_0x5a65cd[_0x33d1cf(0x377)]){case _0xbceedb[_0x33d1cf(0x647)]:_0x5a65cd[_0x33d1cf(0x25a)]===_0x196313[_0x33d1cf(0x643)]&&(_0x5d271d+=0.5)>0x4&&(_0x5d271d=0x4);break;case _0xbceedb[_0x33d1cf(0x2bf)]:(_0x5d271d-=0.5)<_0x361cdf&&(_0x5d271d=_0x361cdf);}return _0x5d271d;}(_0x3d27d8[_0x5e83d4(0x467)],_0x3d27d8['minResolutionScale'],_0x8409bb),_0x3d27d8['framerate']=function(_0x1ebeb1,_0x5556f0,_0x16993b){const _0x2d1f3b=_0x5e83d4;switch(_0x16993b[_0x2d1f3b(0x377)]){case _0xbceedb[_0x2d1f3b(0x647)]:_0x16993b['component']===_0x196313[_0x2d1f3b(0x643)]&&(_0x1ebeb1-=0x3)<0xf&&(_0x1ebeb1=0xf);break;case _0xbceedb[_0x2d1f3b(0x2bf)]:(_0x1ebeb1+=0x3)>_0x5556f0&&(_0x1ebeb1=_0x5556f0);}return _0x1ebeb1;}(_0x3d27d8[_0x5e83d4(0x44b)],_0x3d27d8['maxFramerate'],_0x8409bb),_0x3d27d8[_0x5e83d4(0x254)]=function(_0x40b5ca,_0x563bf7,_0x1bf8f2){const _0x1500b8=_0x5e83d4;switch(_0x1bf8f2['action']){case _0xbceedb[_0x1500b8(0x647)]:_0x1bf8f2[_0x1500b8(0x25a)]===_0x196313['Bitrate']&&(_0x40b5ca*=0.75)<_0x221fed&&(_0x40b5ca=_0x221fed);break;case _0xbceedb[_0x1500b8(0x2bf)]:(_0x40b5ca*=1.25)>_0x563bf7&&(_0x40b5ca=_0x563bf7);}return _0x40b5ca;}(_0x3d27d8['bitrate'],_0x3d27d8['maxBitrate'],_0x8409bb);const _0x72db14=_0x3d27d8[_0x5e83d4(0x2fc)][_0x5e83d4(0x2ca)][_0x5e83d4(0x49b)][_0x5e83d4(0x52a)]();_0x72db14[_0x5e83d4(0x55f)][_0x5e83d4(0x505)](_0x20c105=>{const _0x16cfe9=_0x5e83d4;_0x20c105['scaleResolutionDownBy']=Math[_0x16cfe9(0x1c1)](0xa*_0x3d27d8[_0x16cfe9(0x467)])/0xa,_0x20c105[_0x16cfe9(0x6f1)]=_0x3d27d8[_0x16cfe9(0x44b)],_0x20c105[_0x16cfe9(0x237)]=_0x3d27d8[_0x16cfe9(0x254)],_0x20c105[_0x16cfe9(0x328)]=_0x57adee(_0x3d27d8['priority']);}),_0x3d27d8[_0x5e83d4(0x2fc)]['video']['sender']['setParameters'](_0x72db14)[_0x5e83d4(0x714)](()=>{});}}(_0x149da0,_0x3d5f82),(_0x149da0||_0x3d5f82['action']===_0xbceedb['Downgrade'])&&this[_0x4bb138(0x2a8)]();}[_0x3317da(0x160)](){const _0x3ea4e0=_0x3317da;super[_0x3ea4e0(0x160)](),this['clearOncloseTimeout'](),this['clearWaitAnswer'](),this[_0x3ea4e0(0x177)]['forEach'](_0x52f831=>{const _0x189110=_0x3ea4e0;_0x52f831[_0x189110(0x2fc)][_0x189110(0x2ca)]&&(_0x52f831[_0x189110(0x2fc)][_0x189110(0x2ca)][_0x189110(0x49b)]=void 0x0),_0x52f831['tracks'][_0x189110(0x34d)]&&(_0x52f831[_0x189110(0x2fc)][_0x189110(0x34d)][_0x189110(0x49b)]=void 0x0);}),this['isReconnecting']=!0x0;}async[_0x3317da(0x6ed)](){return new Promise(async _0x1c452b=>{const _0xdb9236=a0_0x2858;if(!this[_0xdb9236(0x6de)]||_0xdb9236(0x1d1)!==this[_0xdb9236(0x6de)]['readyState'])return await _0x4d713a[_0xdb9236(0x6c7)](0x64),void _0x1c452b();this[_0xdb9236(0x6de)][_0xdb9236(0x4a1)]<0x10000?_0x1c452b():this['dataChannel']['onbufferedamountlow']=()=>{const _0x456649=_0xdb9236;this[_0x456649(0x6de)]&&(this[_0x456649(0x6de)]['onbufferedamountlow']=null),_0x1c452b();};});}['sendChunked'](_0x1ddffe,_0x4e5863){const _0x142e15=_0x3317da,_0xfc7395=[];for(let _0x556b35=0x0;_0x556b35<_0x4e5863['length'];_0x556b35+=_0x4a1ec3)_0xfc7395[_0x142e15(0x4ee)](_0x4e5863[_0x142e15(0x60e)](_0x556b35,_0x556b35+_0x4a1ec3));for(const _0x3c7749 of _0xfc7395)this[_0x142e15(0x4af)](_0x54ce6f+';'+_0x1ddffe[_0x142e15(0x625)]+';'+_0xfc7395[_0x142e15(0x6cd)](_0x3c7749)+';'+_0xfc7395[_0x142e15(0x43f)]+';'+_0x3c7749,_0x17ca7d[_0x142e15(0x14c)]);}async[_0x3317da(0x4af)](_0xbaa0e0,_0x456068){const _0x4619d1=_0x3317da;_0xbaa0e0===_0x53a058?this[_0x4619d1(0x248)][_0x4619d1(0x606)][_0x456068][_0x4619d1(0x245)]?.[_0x4619d1(0x22f)]!==_0x53a058&&this[_0x4619d1(0x248)]['queues'][_0x456068][_0x4619d1(0x1e1)](_0xbaa0e0):this['retryQueue'][_0x4619d1(0x606)][_0x456068][_0x4619d1(0x4ee)](_0xbaa0e0);}[_0x3317da(0x195)](_0xc3e0f3){const _0x58ca76=_0x3317da;if(!this[_0x58ca76(0x6de)]||'open'!==this[_0x58ca76(0x6de)][_0x58ca76(0x422)])throw new Error(_0x58ca76(0x63d));const _0x54264c=Date[_0x58ca76(0x6dd)]();_0xc3e0f3!==_0x53a058&&(this[_0x58ca76(0x611)]+=0x1,this[_0x58ca76(0x64f)]+=_0xc3e0f3 instanceof ArrayBuffer?_0xc3e0f3[_0x58ca76(0x3c9)]:_0xc3e0f3['length']),ArrayBuffer,this[_0x58ca76(0x6de)][_0x58ca76(0x452)](_0xc3e0f3),this[_0x58ca76(0x717)]+=Date[_0x58ca76(0x6dd)]()-_0x54264c;}[_0x3317da(0x3f0)](){const _0x1064c9=_0x3317da;this[_0x1064c9(0x664)]&&this[_0x1064c9(0x30c)]();let _0x1644e7=!0x0,_0x2e2663=Date[_0x1064c9(0x6dd)]();this[_0x1064c9(0x3b9)]=Date[_0x1064c9(0x6dd)](),this[_0x1064c9(0x6de)]['onmessage']=_0x31ccde=>{const _0x1f38ef=_0x1064c9;'1'===_0x31ccde[_0x1f38ef(0x1ed)]&&(this['roundTripTime']=Date['now']()-_0x2e2663,_0x1644e7&&this[_0x1f38ef(0x594)]({'type':_0x2c3496[_0x1f38ef(0x3e6)]}),_0x1644e7=!0x1,this[_0x1f38ef(0x3b9)]=Date['now'](),this['isReconnecting']&&(this[_0x1f38ef(0x2db)]=!0x1,this[_0x1f38ef(0x460)]()));},this['heartbeatUnsubscriber']=_0x4d713a[_0x1064c9(0x4e2)](()=>{const _0x17d956=_0x1064c9;_0x2e2663=Date[_0x17d956(0x6dd)](),this[_0x17d956(0x4af)](_0x53a058,_0x17ca7d['High']),Date[_0x17d956(0x6dd)]()-this[_0x17d956(0x3b9)]>(_0x1644e7?0x15f90:0x3a98)&&this[_0x17d956(0x699)]();},0xbb8);}[_0x3317da(0x460)](){const _0x47d51c=_0x3317da;this['senders'][_0x47d51c(0x505)](_0x581579=>{const _0x555a86=_0x47d51c;_0x581579[_0x555a86(0x2fc)][_0x555a86(0x2ca)]&&_0x581579[_0x555a86(0x2fc)][_0x555a86(0x2ca)][_0x555a86(0x565)]&&!_0x581579[_0x555a86(0x2fc)][_0x555a86(0x2ca)]['sender']&&(_0x581579[_0x555a86(0x2fc)][_0x555a86(0x2ca)][_0x555a86(0x49b)]=this[_0x555a86(0x691)][_0x555a86(0x213)](_0x581579[_0x555a86(0x2fc)][_0x555a86(0x2ca)][_0x555a86(0x565)],_0x581579[_0x555a86(0x610)])),_0x581579[_0x555a86(0x2fc)][_0x555a86(0x34d)]&&_0x581579[_0x555a86(0x2fc)][_0x555a86(0x34d)][_0x555a86(0x565)]&&!_0x581579[_0x555a86(0x2fc)][_0x555a86(0x34d)][_0x555a86(0x49b)]&&(_0x581579[_0x555a86(0x2fc)][_0x555a86(0x34d)][_0x555a86(0x49b)]=this[_0x555a86(0x691)][_0x555a86(0x213)](_0x581579[_0x555a86(0x2fc)][_0x555a86(0x34d)][_0x555a86(0x565)],_0x581579['stream']));});}['sendIceCandidates'](){const _0x40a5ff=_0x3317da;this[_0x40a5ff(0x594)]({'type':_0x2c3496[_0x40a5ff(0x37b)],'candidates':this[_0x40a5ff(0x4e1)],'origin':_0x39632f[_0x40a5ff(0x6e5)],'version':this[_0x40a5ff(0x52f)],'connectionType':this['connectionType']});}[_0x3317da(0x61b)](){const _0x125b33=_0x3317da;super[_0x125b33(0x61b)](),this[_0x125b33(0x691)]['oniceconnectionstatechange']=()=>{const _0x482deb=_0x125b33;if(_0x482deb(0x44e)===this[_0x482deb(0x691)][_0x482deb(0x3c1)]){if(_0x546907['log'](_0xea19ad[_0x482deb(0x393)],_0x482deb(0x6e4),this[_0x482deb(0x3d5)],this['remoteId']),this[_0x482deb(0x691)]['restartIce'])return void this[_0x482deb(0x691)]['restartIce']();this[_0x482deb(0x242)]({'iceRestart':!0x0});}},this['connection'][_0x125b33(0x5c8)]=()=>{const _0xd21a8f=_0x125b33;_0xd21a8f(0x153)!==this[_0xd21a8f(0x691)]['connectionState']&&_0xd21a8f(0x44e)!==this['connection'][_0xd21a8f(0x43e)]||this['handleDisconnect']();};}[_0x3317da(0x699)](){const _0x4f241e=_0x3317da;this[_0x4f241e(0x30c)](),this[_0x4f241e(0x1af)](),this['clearConnectionTimeout'](),_0x546907[_0x4f241e(0x675)](_0x4f241e(0x2e9),{'clusterId':this[_0x4f241e(0x2ed)],'userId':this[_0x4f241e(0x3d5)],'remoteId':this[_0x4f241e(0x701)],'data':{'connectionType':this[_0x4f241e(0x5fd)],'connectionState':this[_0x4f241e(0x691)][_0x4f241e(0x43e)],'iceConnectionState':this[_0x4f241e(0x691)][_0x4f241e(0x3c1)],'signalingState':this['connection']['signalingState'],'readyState':this['dataChannel']?.[_0x4f241e(0x422)]||'','lastHeartbeat':this[_0x4f241e(0x3b9)]?Date[_0x4f241e(0x6dd)]()-this[_0x4f241e(0x3b9)]:'','retryQueue':this[_0x4f241e(0x248)]}}),(this['lastHeartbeat']&&Date['now']()-this[_0x4f241e(0x3b9)]>0xea60)??0x1?this[_0x4f241e(0x576)][_0x4f241e(0x6af)]({'sourceId':this[_0x4f241e(0x701)],'destinationIds':[this[_0x4f241e(0x3d5)]],'messageType':_0x1c4d06[_0x4f241e(0x1f2)],'content':{'type':_0x2c3496[_0x4f241e(0x409)]}}):(this[_0x4f241e(0x160)](),this['publishWebRTCMessage']({'type':_0x2c3496[_0x4f241e(0x6e0)],'version':this[_0x4f241e(0x52f)],'connectionType':this[_0x4f241e(0x5fd)]}),this[_0x4f241e(0x15f)]=setTimeout(()=>{const _0x33befa=_0x4f241e;this[_0x33befa(0x699)]();},0x7530));}[_0x3317da(0x30c)](){const _0x15fe63=_0x3317da;this['heartbeatUnsubscriber']?.(),delete this[_0x15fe63(0x664)];}[_0x3317da(0x48b)](){const _0x4a4886=_0x3317da;this[_0x4a4886(0x14d)]&&(clearTimeout(this['connectionTimeout']),delete this[_0x4a4886(0x14d)]);}['clearRestartTimeout'](){const _0x5e902b=_0x3317da;this[_0x5e902b(0x15f)]&&(clearTimeout(this[_0x5e902b(0x15f)]),delete this['restartTimeout']);}[_0x3317da(0x6bc)](){const _0x2f68cd=_0x3317da;this[_0x2f68cd(0x2e6)]&&(clearTimeout(this[_0x2f68cd(0x2e6)]),delete this[_0x2f68cd(0x2e6)]);}[_0x3317da(0x2a8)](){const _0xbe50be=_0x3317da;this[_0xbe50be(0x2e6)]=setTimeout(()=>{const _0x4de376=_0xbe50be;this[_0x4de376(0x5aa)]({'type':_0x539536[_0x4de376(0x38b)],'action':_0xbceedb['Upgrade']});},0x3a98);}[_0x3317da(0x203)](_0x4a34be,_0xa94f53){const _0x37f77d=_0x3317da,_0x1fac15=Math[_0x37f77d(0x639)](_0x4a34be[_0x37f77d(0x503)]/_0xa94f53[_0x37f77d(0x503)],_0x4a34be[_0x37f77d(0x167)]/_0xa94f53[_0x37f77d(0x167)]);return Math['min'](Math[_0x37f77d(0x639)](_0x1fac15,0x1),0x4);}['clearWaitAnswer'](){this['waitAnswer']?.(),delete this['waitAnswer'];}[_0x3317da(0x660)](){const _0x5c2a7f=_0x3317da;this[_0x5c2a7f(0x6cb)]&&(clearTimeout(this[_0x5c2a7f(0x6cb)]),delete this[_0x5c2a7f(0x6cb)]);}[_0x3317da(0x504)](_0x15e52c){const _0x11f119=_0x3317da,_0x516618=JSON[_0x11f119(0x461)](_0x15e52c);return new TextEncoder()[_0x11f119(0x294)](_0x516618)[_0x11f119(0x6c2)];}['mergeParts'](_0x40100c,_0x3b950a){const _0x50623c=_0x3317da,_0x193206=this[_0x50623c(0x504)](_0x40100c),_0x22288e=new Uint8Array(0x4),_0x5a4a22=new Uint8Array(_0x193206),_0x508d65=new Uint8Array(_0x3b950a);_0x22288e[_0x50623c(0x2c2)](new Uint8Array(new Uint32Array([_0x5a4a22['length']])[_0x50623c(0x6c2)]));const _0x4befa7=new Uint8Array(0x4+_0x5a4a22[_0x50623c(0x43f)]+_0x508d65[_0x50623c(0x43f)]);return _0x4befa7[_0x50623c(0x2c2)](_0x22288e),_0x4befa7[_0x50623c(0x2c2)](_0x5a4a22,0x4),_0x4befa7[_0x50623c(0x2c2)](_0x508d65,0x4+_0x5a4a22[_0x50623c(0x43f)]),_0x4befa7[_0x50623c(0x6c2)];}}class _0x13b115 extends _0x568b20{[_0x3317da(0x6bf)];['iceServers'];[_0x3317da(0x5fd)];[_0x3317da(0x4a2)];['maxBpp'];['senderConnection'];[_0x3317da(0x5ea)];[_0x3317da(0x24d)]=[];[_0x3317da(0x2ad)]=_0x2d6d4d();[_0x3317da(0x68a)]=_0x2d6d4d();[_0x3317da(0x60a)]=_0x2d6d4d();[_0x3317da(0x6a9)]=[];[_0x3317da(0x576)];[_0x3317da(0x4da)]=new Map();[_0x3317da(0x498)]=new Map();[_0x3317da(0x626)]=new Map();[_0x3317da(0x54b)]=new Map();[_0x3317da(0x53b)]=!0x1;constructor(_0x41e9a7,_0x36a17d,_0x2807d8,_0x2bd3d0,_0x32860a,_0xd0fdf7,_0x196ee8,_0x1da135){const _0x82627d=_0x3317da;super(_0x41e9a7,_0x36a17d,_0x2807d8),this['isInitiator']=_0x2bd3d0,this[_0x82627d(0x15b)]=_0x32860a,this[_0x82627d(0x5fd)]=_0xd0fdf7,this[_0x82627d(0x4a2)]=_0x196ee8,this[_0x82627d(0x411)]=_0x1da135;}['registerPublisher'](_0x3c1b90){const _0xe69773=_0x3317da;switch(_0x3c1b90[_0xe69773(0x262)]()){case _0x12c3f7[_0xe69773(0x527)]:case _0x12c3f7['PubSub']:case _0x12c3f7['ObjectStore']:case _0x12c3f7[_0xe69773(0x711)]:this[_0xe69773(0x4da)][_0xe69773(0x2c2)](_0x3c1b90[_0xe69773(0x6c6)](),_0x3c1b90);break;case _0x12c3f7[_0xe69773(0x14b)]:this['mediaTopics'][_0xe69773(0x2c2)](_0x3c1b90[_0xe69773(0x6c6)](),_0x3c1b90);}}[_0x3317da(0x3ec)](_0x2dfa78){const _0x40b605=_0x3317da;switch(_0x2dfa78['getContentType']()){case _0x12c3f7[_0x40b605(0x527)]:case _0x12c3f7[_0x40b605(0x47f)]:case _0x12c3f7[_0x40b605(0x69c)]:case _0x12c3f7[_0x40b605(0x711)]:this[_0x40b605(0x4da)]['delete'](_0x2dfa78[_0x40b605(0x6c6)]());break;case _0x12c3f7[_0x40b605(0x14b)]:this[_0x40b605(0x626)]['delete'](_0x2dfa78[_0x40b605(0x6c6)]());}}['registerSubscriber'](_0x2378f4){const _0x5568f7=_0x3317da;switch(_0x2378f4[_0x5568f7(0x262)]()){case _0x12c3f7[_0x5568f7(0x527)]:case _0x12c3f7[_0x5568f7(0x47f)]:case _0x12c3f7[_0x5568f7(0x69c)]:case _0x12c3f7['KeyValueDatabase']:{const _0x2a78bb=_0x2378f4[_0x5568f7(0x650)](_0x2ea4b8=>{const _0x14586c=_0x5568f7;_0x295351(_0x2ea4b8,this[_0x14586c(0x3d5)])&&_0x540e23(_0x2ea4b8,this['remoteId'])&&this[_0x14586c(0x452)](_0x2ea4b8);});this['dataUnsubscribers'][_0x5568f7(0x2c2)](_0x2378f4[_0x5568f7(0x6c6)](),_0x2a78bb);break;}case _0x12c3f7['Media']:{const _0x81a15b=_0x2378f4['subscribe'](({content:_0x29c642})=>{const _0x1bee74=_0x5568f7;switch(_0x29c642[_0x1bee74(0x377)]){case _0x34dd11[_0x1bee74(0x638)]:this[_0x1bee74(0x213)](_0x29c642[_0x1bee74(0x565)],_0x29c642[_0x1bee74(0x610)],_0x29c642[_0x1bee74(0x328)],_0x29c642[_0x1bee74(0x5f6)]);break;case _0x34dd11['Remove']:this['removeTrack'](_0x29c642[_0x1bee74(0x565)],_0x29c642[_0x1bee74(0x610)]);break;case _0x34dd11[_0x1bee74(0x324)]:_0x29c642[_0x1bee74(0x328)]&&this[_0x1bee74(0x39e)](_0x29c642['stream'],_0x29c642['priority']),_0x29c642[_0x1bee74(0x5f6)]&&this[_0x1bee74(0x26c)](_0x29c642['stream'],_0x29c642[_0x1bee74(0x5f6)]);}});this['mediaUnsubscribers'][_0x5568f7(0x2c2)](_0x2378f4[_0x5568f7(0x6c6)](),_0x81a15b);break;}}}[_0x3317da(0x4bc)](_0x5f561f){const _0x175fc0=_0x3317da;switch(_0x5f561f[_0x175fc0(0x262)]()){case _0x12c3f7[_0x175fc0(0x527)]:case _0x12c3f7[_0x175fc0(0x47f)]:case _0x12c3f7[_0x175fc0(0x69c)]:case _0x12c3f7['KeyValueDatabase']:this['dataUnsubscribers']['get'](_0x5f561f[_0x175fc0(0x6c6)]())?.(),this['dataUnsubscribers'][_0x175fc0(0x164)](_0x5f561f['getLabel']());break;case _0x12c3f7[_0x175fc0(0x14b)]:this[_0x175fc0(0x54b)][_0x175fc0(0x1c0)](_0x5f561f['getLabel']())?.(),this[_0x175fc0(0x54b)][_0x175fc0(0x164)](_0x5f561f[_0x175fc0(0x6c6)]());}}[_0x3317da(0x62f)](){const _0x5ef762=_0x3317da;return[_0x12c3f7[_0x5ef762(0x527)],_0x12c3f7['Media'],_0x12c3f7[_0x5ef762(0x47f)],_0x12c3f7[_0x5ef762(0x69c)],_0x12c3f7['KeyValueDatabase']];}[_0x3317da(0x592)](_0x41fdab){const _0x1daa2e=_0x3317da;this[_0x1daa2e(0x576)]=_0x41fdab;}[_0x3317da(0x449)](){const _0x414e4d=_0x3317da;delete this[_0x414e4d(0x576)];}async[_0x3317da(0x66a)](){const _0x13c6e3=_0x3317da;this[_0x13c6e3(0x317)](),await this[_0x13c6e3(0x242)]();}['close'](){const _0x4f588c=_0x3317da;this[_0x4f588c(0x6a9)][_0x4f588c(0x505)](_0x1c12ed=>_0x1c12ed()),this[_0x4f588c(0x6a9)]=[],this['senderConnection']?.[_0x4f588c(0x449)](),this['senderConnection']?.[_0x4f588c(0x35e)](),delete this['senderConnection'],this['receiverUnsubscribers'][_0x4f588c(0x505)](_0x42dca3=>_0x42dca3()),this[_0x4f588c(0x24d)]=[],this[_0x4f588c(0x5ea)]?.[_0x4f588c(0x449)](),this[_0x4f588c(0x5ea)]?.[_0x4f588c(0x35e)](),delete this[_0x4f588c(0x5ea)];}[_0x3317da(0x6be)](){const _0x20c709=_0x3317da;return this['senderConnection']?.[_0x20c709(0x6be)]()&&this[_0x20c709(0x5ea)]?.[_0x20c709(0x6be)]()||!0x1;}[_0x3317da(0x452)](_0x2b8c65){const _0x46c051=_0x3317da;if(!this[_0x46c051(0x445)]||!this[_0x46c051(0x6be)]())throw new _0x2ba88c(_0x2ba88c[_0x46c051(0x4f1)][_0x46c051(0x689)],{'message':_0x46c051(0x27f),'senderConnected':this[_0x46c051(0x445)]?.[_0x46c051(0x6be)](),'receiverConnected':this['receiverConnection']?.['isConnected'](),'localId':this['localId'],'remoteId':this[_0x46c051(0x701)],'data':_0x2b8c65});this[_0x46c051(0x445)][_0x46c051(0x452)](_0x2b8c65);}[_0x3317da(0x470)](_0x1dc719){const _0x4f7b82=_0x3317da;return this[_0x4f7b82(0x2ad)][_0x4f7b82(0x650)](_0x1dc719);}[_0x3317da(0x683)](_0xea19b8){const _0x4144b5=_0x3317da;return this[_0x4144b5(0x68a)][_0x4144b5(0x650)](({track:_0x389a01,stream:_0x2427db})=>_0xea19b8(_0x389a01,_0x2427db));}[_0x3317da(0x67f)](_0x59d58e){return this['removeTrackListeners']['subscribe'](({track:_0x5bfa09,stream:_0x4a37a2})=>_0x59d58e(_0x5bfa09,_0x4a37a2));}[_0x3317da(0x213)](_0x594b47,_0xfbd296,_0x4bd51c,_0x4199cf){const _0x4f1b74=_0x3317da;this[_0x4f1b74(0x445)]?.[_0x4f1b74(0x213)](_0x594b47,_0xfbd296,_0x4bd51c,_0x4199cf);}[_0x3317da(0x39e)](_0x148275,_0x27dc89){const _0x4c85b2=_0x3317da;this[_0x4c85b2(0x445)]?.[_0x4c85b2(0x39e)](_0x148275,_0x27dc89);}[_0x3317da(0x26c)](_0x166ad2,_0x4ba8f8){const _0x31b8c2=_0x3317da;this[_0x31b8c2(0x445)]?.['setParams'](_0x166ad2,_0x4ba8f8);}[_0x3317da(0x4a8)](_0x151a1d,_0x4dc6e9){this['senderConnection']?.['removeTrack'](_0x151a1d,_0x4dc6e9);}async[_0x3317da(0x147)](_0x3e70cb){const _0x2f2b85=_0x3317da;_0x546907[_0x2f2b85(0x614)](_0xea19ad[_0x2f2b85(0x386)],_0x2f2b85(0x5b6),this[_0x2f2b85(0x3d5)],_0x3e70cb);const {content:_0x1b745b}=_0x3e70cb;switch(_0x1b745b[_0x2f2b85(0x1e3)]){case _0x2c3496[_0x2f2b85(0x556)]:await this[_0x2f2b85(0x636)](_0x1b745b);break;case _0x2c3496[_0x2f2b85(0x1a3)]:await this[_0x2f2b85(0x6ef)](_0x1b745b);break;case _0x2c3496[_0x2f2b85(0x3e6)]:this[_0x2f2b85(0x355)]();break;case _0x2c3496[_0x2f2b85(0x37b)]:await this[_0x2f2b85(0x4ec)](_0x1b745b);break;case _0x2c3496[_0x2f2b85(0x6e0)]:this['handleNeedRestart'](_0x1b745b);break;case _0x2c3496['Restart']:await this[_0x2f2b85(0x242)]();}}[_0x3317da(0x590)](_0x409be2){const _0x5b9a13=_0x3317da;this[_0x5b9a13(0x445)]?.[_0x5b9a13(0x5aa)](_0x409be2[_0x5b9a13(0x1b9)][_0x5b9a13(0x1ed)]);}[_0x3317da(0x4e6)](){const _0x53c2b8=_0x3317da;return this[_0x53c2b8(0x5fd)];}[_0x3317da(0x162)](_0x31e914){const _0x3b1ea0=_0x3317da;this[_0x3b1ea0(0x5fd)]=_0x31e914,this[_0x3b1ea0(0x445)]?.[_0x3b1ea0(0x162)](_0x31e914),this[_0x3b1ea0(0x5ea)]?.[_0x3b1ea0(0x162)](_0x31e914);}async['collectStats'](){const _0x3c6726=_0x3317da;await this[_0x3c6726(0x445)]?.[_0x3c6726(0x2ef)](),await this['receiverConnection']?.[_0x3c6726(0x2ef)]();}[_0x3317da(0x317)](){const _0x333c31=_0x3317da;this[_0x333c31(0x6a9)][_0x333c31(0x4ee)](this[_0x333c31(0x470)](_0x3e29c0=>{const _0x1b6ae6=_0x333c31;_0x540e23(_0x3e29c0,this[_0x1b6ae6(0x3d5)])&&0x0!==_0x3e29c0[_0x1b6ae6(0x310)]&&this['dataTopics'][_0x1b6ae6(0x1c0)](_0x3e29c0[_0x1b6ae6(0x310)])?.[_0x1b6ae6(0x6af)](_0x3e29c0);})),this[_0x333c31(0x6a9)][_0x333c31(0x4ee)](this[_0x333c31(0x683)]((_0x2b9e7c,_0xae072b)=>{const _0x11a187=_0x333c31,_0x3bae18=_0x20af3a(_0x12c3f7[_0x11a187(0x14b)],_0xae072b['id'],this['remoteId']);this[_0x11a187(0x626)]['get'](_0x3bae18)?.[_0x11a187(0x6af)]({'topicLabel':_0x3bae18,'sourceId':this[_0x11a187(0x701)],'contentType':_0x12c3f7[_0x11a187(0x14b)],'content':{'action':_0x34dd11['RemoteAdd'],'track':_0x2b9e7c,'stream':_0xae072b,'providerId':this[_0x11a187(0x701)]}});})),this[_0x333c31(0x6a9)]['push'](this[_0x333c31(0x67f)]((_0x1605e3,_0x48f4af)=>{const _0x1254dc=_0x333c31,_0xb92a0a=_0x20af3a(_0x12c3f7['Media'],_0x48f4af['id'],this[_0x1254dc(0x701)]);this[_0x1254dc(0x626)]['get'](_0xb92a0a)?.[_0x1254dc(0x6af)]({'topicLabel':_0xb92a0a,'sourceId':this['remoteId'],'contentType':_0x12c3f7[_0x1254dc(0x14b)],'content':{'action':_0x34dd11[_0x1254dc(0x316)],'track':_0x1605e3,'stream':_0x48f4af,'providerId':this[_0x1254dc(0x701)]}});}));}[_0x3317da(0x4ec)]({candidates:_0x213cb7,origin:_0x3305b4,version:_0x533198}){const _0x22d4ad=_0x3317da;return _0x3305b4===_0x39632f['Sender']?(this[_0x22d4ad(0x5ea)]||this[_0x22d4ad(0x480)](),this[_0x22d4ad(0x5ea)][_0x22d4ad(0x4ec)](_0x213cb7,_0x533198)):this[_0x22d4ad(0x445)][_0x22d4ad(0x4ec)](_0x213cb7,_0x533198);}async[_0x3317da(0x242)](){const _0x31ac1e=_0x3317da;this[_0x31ac1e(0x445)]||this[_0x31ac1e(0x459)](),await this[_0x31ac1e(0x445)][_0x31ac1e(0x242)]();}async[_0x3317da(0x636)]({offer:_0x2409f7,version:_0x1eea5a,connectionType:_0x1be05f}){const _0x498279=_0x3317da;this[_0x498279(0x5ea)]||this[_0x498279(0x480)](),await this[_0x498279(0x5ea)]['handleOffer'](_0x2409f7,_0x1eea5a);}async['handleAnswer']({answer:_0x2c1999,version:_0x16e310}){const _0x5114b4=_0x3317da;if(!this[_0x5114b4(0x445)])throw new _0x2ba88c(_0x2ba88c[_0x5114b4(0x4f1)]['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized.','localId':this[_0x5114b4(0x3d5)],'remoteId':this[_0x5114b4(0x701)],'answer':_0x2c1999});await this[_0x5114b4(0x445)]['handleAnswer'](_0x2c1999,_0x16e310);}[_0x3317da(0x355)](){const _0x807d89=_0x3317da;if(!this[_0x807d89(0x5ea)])throw new _0x2ba88c(_0x2ba88c[_0x807d89(0x4f1)][_0x807d89(0x689)],{'message':_0x807d89(0x59c),'localId':this['localId'],'remoteId':this[_0x807d89(0x701)]});this[_0x807d89(0x5ea)]['handleSuccess'](),this[_0x807d89(0x53b)]||this[_0x807d89(0x5fd)]!==_0x34d04f[_0x807d89(0x1ad)]||(this[_0x807d89(0x53b)]=!0x0,this[_0x807d89(0x576)]?.['publish']({'sourceId':this[_0x807d89(0x701)],'destinationIds':[this['localId']],'messageType':_0x1c4d06[_0x807d89(0x1f2)],'content':{'type':_0x2c3496[_0x807d89(0x3ae)]}}));}[_0x3317da(0x1b1)](_0x9f4d1f){const _0x2168dd=_0x3317da;this[_0x2168dd(0x5ea)]||this[_0x2168dd(0x480)](),this['receiverConnection'][_0x2168dd(0x1b1)](_0x9f4d1f[_0x2168dd(0x620)]);}[_0x3317da(0x459)](){const _0x3a6933=_0x3317da;this['senderConnection']=new _0x276ab0(this[_0x3a6933(0x2ed)],this[_0x3a6933(0x3d5)],this[_0x3a6933(0x701)],this['iceServers'],this[_0x3a6933(0x5fd)],this['maxFps'],this[_0x3a6933(0x411)]),this[_0x3a6933(0x445)][_0x3a6933(0x592)](this[_0x3a6933(0x576)]);}[_0x3317da(0x480)](){const _0x59a561=_0x3317da;this[_0x59a561(0x5ea)]=new _0x30b82e(this[_0x59a561(0x2ed)],this[_0x59a561(0x3d5)],this[_0x59a561(0x701)],this[_0x59a561(0x15b)],this[_0x59a561(0x5fd)]),this[_0x59a561(0x5ea)][_0x59a561(0x592)](this['systemTopic']),this['receiverUnsubscribers'][_0x59a561(0x4ee)](this[_0x59a561(0x5ea)][_0x59a561(0x470)](_0x158c9b=>this[_0x59a561(0x2ad)]['publish'](_0x158c9b))),this['receiverUnsubscribers'][_0x59a561(0x4ee)](this[_0x59a561(0x5ea)][_0x59a561(0x683)]((_0x13f044,_0x5e5b74)=>this[_0x59a561(0x68a)][_0x59a561(0x6af)]({'track':_0x13f044,'stream':_0x5e5b74}))),this['receiverUnsubscribers'][_0x59a561(0x4ee)](this[_0x59a561(0x5ea)][_0x59a561(0x67f)]((_0x3bb1be,_0x2bf63f)=>this[_0x59a561(0x60a)][_0x59a561(0x6af)]({'track':_0x3bb1be,'stream':_0x2bf63f})));}}class _0x161331{[_0x3317da(0x3d5)];['messageBuffer'];[_0x3317da(0x46d)];[_0x3317da(0x497)]=new Map();[_0x3317da(0x2ad)]=_0x2d6d4d();[_0x3317da(0x231)];['dataTopics']=new Map();[_0x3317da(0x498)]=new Map();[_0x3317da(0x2fd)]=new Map();constructor(_0x32b21c,_0x5b8571,_0xfd0e5c){const _0x3de21c=_0x3317da;this[_0x3de21c(0x3d5)]=_0x32b21c,this[_0x3de21c(0x209)]=_0x5b8571,this[_0x3de21c(0x46d)]=_0xfd0e5c,this[_0x3de21c(0x231)]=this['onMessage'](_0xb8b3b7=>{const _0x3de21a=_0x3de21c;this['messageBuffer'][_0x3de21a(0x429)](_0xb8b3b7['uuid'])||(_0x540e23(_0xb8b3b7,this['localId'])&&0x0!==_0xb8b3b7[_0x3de21a(0x310)]&&(this['messageBuffer']['addMessage'](_0xb8b3b7[_0x3de21a(0x625)]),this[_0x3de21a(0x4da)][_0x3de21a(0x1c0)](_0xb8b3b7[_0x3de21a(0x310)])?.[_0x3de21a(0x6af)](_0xb8b3b7)),_0xb8b3b7[_0x3de21a(0x4dc)]&&this[_0x3de21a(0x452)](_0xb8b3b7));});}['close'](){this['messageUnsubscriber']?.();}[_0x3317da(0x55b)](_0x4536c7){const _0x5f428d=_0x3317da,_0x2f9bb1=_0x4536c7[_0x5f428d(0x470)](_0x17b0d2=>{const _0x519c76=_0x5f428d;this[_0x519c76(0x2ad)][_0x519c76(0x6af)](_0x17b0d2);});this['connections'][_0x5f428d(0x2c2)](_0x4536c7,_0x2f9bb1),this[_0x5f428d(0x2fd)]['set'](_0x4536c7[_0x5f428d(0x58b)](),function(_0x626dc0,_0xa8085b=!0x1){let _0x54e012=new Map();const _0xe5b007=_0x16ca9f(_0x626dc0,_0xa8085b,function(_0x24a432){const _0x42364a=a0_0x2858;_0x489cb4(_0x24a432)&&_0x54e012[_0x42364a(0x164)](_0x24a432['sourceId']+'-'+(_0x24a432[_0x42364a(0x6fb)]??[])+'-'+_0x24a432[_0x42364a(0x442)]+'-'+_0x24a432[_0x42364a(0x1b9)][_0x42364a(0x1e3)]);},function(_0x54a82f){return!!function(_0x249df2){const _0x4d46d5=a0_0x2858,_0x4f314c=_0x249df2['value'];if(!_0x489cb4(_0x4f314c))return!0x1;const _0x57de52=_0x4f314c[_0x4d46d5(0x396)]+'-'+(_0x4f314c[_0x4d46d5(0x6fb)]??[])+'-'+_0x4f314c[_0x4d46d5(0x442)]+'-'+_0x4f314c[_0x4d46d5(0x1b9)]['type'],_0x599fb8={'version':_0x4f314c[_0x4d46d5(0x1b9)][_0x4d46d5(0x620)],'element':_0x249df2},_0x262b35=_0x54e012['get'](_0x57de52);return _0x262b35?(_0x262b35[_0x4d46d5(0x620)]>=_0x4f314c[_0x4d46d5(0x1b9)]['version']||(_0x262b35[_0x4d46d5(0x4e7)][_0x4d46d5(0x70f)]&&(_0x262b35[_0x4d46d5(0x4e7)][_0x4d46d5(0x70f)][_0x4d46d5(0x2aa)]=_0x249df2,_0x249df2[_0x4d46d5(0x70f)]=_0x262b35['element'][_0x4d46d5(0x70f)]),_0x262b35[_0x4d46d5(0x4e7)]['next']&&(_0x262b35[_0x4d46d5(0x4e7)][_0x4d46d5(0x2aa)][_0x4d46d5(0x70f)]=_0x249df2,_0x249df2[_0x4d46d5(0x2aa)]=_0x262b35['element'][_0x4d46d5(0x2aa)]),_0x262b35[_0x4d46d5(0x4e7)]===_0xe5b007['head']&&(_0xe5b007[_0x4d46d5(0x245)]=_0x249df2),_0x262b35[_0x4d46d5(0x4e7)]===_0xe5b007[_0x4d46d5(0x62e)]&&(_0xe5b007[_0x4d46d5(0x62e)]=_0x249df2),_0x54e012['set'](_0x57de52,_0x599fb8)),!0x0):(_0x54e012[_0x4d46d5(0x2c2)](_0x57de52,_0x599fb8),!0x1);}(_0x54a82f);},function(){const _0x88249b=a0_0x2858;_0x54e012[_0x88249b(0x299)]();});function _0x489cb4(_0x52ff9a){const _0x552ff9=a0_0x2858;if(_0x52ff9a&&'object'==typeof _0x52ff9a&&_0x52ff9a[_0x552ff9(0x3e7)](_0x552ff9(0x1b9))&&_0x52ff9a['hasOwnProperty'](_0x552ff9(0x442))&&_0x52ff9a[_0x552ff9(0x3e7)](_0x552ff9(0x396))){const _0x46167c=_0x52ff9a;if(_0x46167c[_0x552ff9(0x1b9)]&&_0x552ff9(0x264)==typeof _0x46167c[_0x552ff9(0x1b9)]&&_0x46167c[_0x552ff9(0x1b9)][_0x552ff9(0x3e7)](_0x552ff9(0x620))&&_0x46167c[_0x552ff9(0x1b9)][_0x552ff9(0x3e7)](_0x552ff9(0x1e3)))return!0x0;}return!0x1;}return _0xe5b007;}(new _0x3ae939(_0x58c3b0=>_0x4536c7['send'](_0x58c3b0),()=>_0x4d713a['wait'](0x64))));}[_0x3317da(0x1fc)](_0x4ad3e9){const _0x35be21=_0x3317da;this[_0x35be21(0x497)]['get'](_0x4ad3e9)?.(),this['connections'][_0x35be21(0x164)](_0x4ad3e9),this[_0x35be21(0x2fd)][_0x35be21(0x1c0)](_0x4ad3e9['getRemoteId']())?.[_0x35be21(0x299)](),this[_0x35be21(0x2fd)]['delete'](_0x4ad3e9[_0x35be21(0x58b)]());}[_0x3317da(0x6be)](_0x1d822d){const _0x43d231=_0x3317da;return _0x546907[_0x43d231(0x614)](_0xea19ad[_0x43d231(0x393)],_0x43d231(0x466),this[_0x43d231(0x3d5)],this[_0x43d231(0x497)]['keys']()),0x0!==this[_0x43d231(0x497)][_0x43d231(0x63a)]&&(Array['from'](this[_0x43d231(0x497)][_0x43d231(0x3f9)]())[_0x43d231(0x657)](_0x354a70=>_0x354a70[_0x43d231(0x58b)]()===_0x1d822d)?.[_0x43d231(0x6be)]()??!0x1);}[_0x3317da(0x6ab)](_0x35e0a6){const _0x43b98a=_0x3317da;this[_0x43b98a(0x4da)][_0x43b98a(0x2c2)](_0x35e0a6[_0x43b98a(0x6c6)](),_0x35e0a6);}['unregisterPublisher'](_0x1d71bc){const _0x11b1d0=_0x3317da;this['dataTopics'][_0x11b1d0(0x164)](_0x1d71bc[_0x11b1d0(0x6c6)]());}[_0x3317da(0x557)](_0x3295f8){const _0x5cd4d7=_0x3317da,_0x352262=_0x3295f8['subscribe'](this['send'][_0x5cd4d7(0x46f)](this));this[_0x5cd4d7(0x498)]['set'](_0x3295f8[_0x5cd4d7(0x6c6)](),_0x352262);}[_0x3317da(0x4bc)](_0x270716){const _0x2c15fe=_0x3317da;this['dataUnsubscribers'][_0x2c15fe(0x1c0)](_0x270716['getLabel']())?.(),this[_0x2c15fe(0x498)][_0x2c15fe(0x164)](_0x270716[_0x2c15fe(0x6c6)]());}[_0x3317da(0x62f)](){const _0x14f30f=_0x3317da;return[_0x12c3f7[_0x14f30f(0x527)],_0x12c3f7['PubSub'],_0x12c3f7[_0x14f30f(0x69c)],_0x12c3f7['KeyValueDatabase']];}[_0x3317da(0x452)](_0x2ffad5){const _0x1b7c15=_0x3317da;if(!0x1===_0x2ffad5[_0x1b7c15(0x4f3)]){if(_0x2ffad5[_0x1b7c15(0x4dc)]||!_0x2ffad5['destinationIds']||0x1!==_0x2ffad5['destinationIds'][_0x1b7c15(0x43f)])throw new _0x2ba88c(_0x2ba88c[_0x1b7c15(0x4f1)][_0x1b7c15(0x29b)],{'message':_0x1b7c15(0x1a8),'localId':this[_0x1b7c15(0x3d5)]});if(!this[_0x1b7c15(0x6be)](_0x2ffad5[_0x1b7c15(0x6fb)][0x0]))throw new _0x34beb4(_0x1b7c15(0x2e1));}const _0x22dfec=_0x2ffad5[_0x1b7c15(0x70a)]??[];try{const {filteredDestinationIds:_0x1931ac,extendedRecipients:_0x249b7a}=this[_0x1b7c15(0x333)](_0x2ffad5,_0x22dfec);_0x2ffad5['destinationIds']=_0x1931ac,_0x2ffad5[_0x1b7c15(0x70a)]=_0x249b7a;}catch(_0x1507b9){if(_0x1507b9 instanceof _0x34beb4)return void _0x546907[_0x1b7c15(0x614)](_0xea19ad[_0x1b7c15(0x386)],_0x1b7c15(0x250),_0x1b7c15(0x319),_0x2ffad5,_0x1507b9[_0x1b7c15(0x33f)]);}const _0x1f7fbc=this[_0x1b7c15(0x3e5)](_0x2ffad5);this[_0x1b7c15(0x1d8)](_0x2ffad5,_0x1f7fbc),_0x2ffad5[_0x1b7c15(0x4dc)]=_0x1f7fbc;const _0x5e751a=this['getConnectionDestinations'](_0x2ffad5,_0x22dfec);for(const _0xaffc6e of _0x5e751a){const _0x220737=this['retryQueues'][_0x1b7c15(0x1c0)](_0xaffc6e[_0x1b7c15(0x58b)]());if(!_0x220737)throw new _0x2ba88c(_0x2ba88c[_0x1b7c15(0x4f1)][_0x1b7c15(0x338)],{'message':_0x1b7c15(0x24a),'localId':this[_0x1b7c15(0x3d5)],'remoteId':_0xaffc6e[_0x1b7c15(0x58b)](),'data':_0x2ffad5});_0x220737[_0x1b7c15(0x4ee)](_0x2ffad5);}}[_0x3317da(0x58b)](){return'';}['getLocalId'](){const _0x48f2e6=_0x3317da;return this[_0x48f2e6(0x3d5)];}[_0x3317da(0x470)](_0x5be6b9){const _0x1fa17c=_0x3317da;return this[_0x1fa17c(0x2ad)][_0x1fa17c(0x650)](_0x5be6b9);}[_0x3317da(0x333)](_0x436112,_0x42fbd9){const _0x861f31=_0x3317da,_0x1948c9={'filteredDestinationIds':_0x436112[_0x861f31(0x6fb)],'extendedRecipients':_0x436112[_0x861f31(0x70a)]};if(!_0x436112[_0x861f31(0x4dc)])return _0x1948c9;const _0x576694=Array['from'](this[_0x861f31(0x497)]['keys']())['filter'](_0x176feb=>_0x176feb[_0x861f31(0x4e6)]()===_0x34d04f[_0x861f31(0x558)]||_0x176feb['isConnected']())['map'](_0x3c705e=>_0x3c705e[_0x861f31(0x58b)]());if(_0x576694[_0x861f31(0x65e)]((_0x33ed2f,_0x332846)=>_0x33ed2f&&_0x436112[_0x861f31(0x70a)][_0x861f31(0x32e)](_0x332846),!0x0))throw new _0x34beb4(_0x861f31(0x37c));if(_0x436112['destinationIds']){const _0x42712b=_0x436112['destinationIds'][_0x861f31(0x5e1)](_0x14b9a7=>_0x14b9a7!==this[_0x861f31(0x3d5)]&&!_0x436112[_0x861f31(0x70a)]['includes'](_0x14b9a7));if(0x0===_0x42712b[_0x861f31(0x43f)])throw new _0x34beb4(_0x861f31(0x5cd));_0x1948c9[_0x861f31(0x349)]=_0x42712b;}return _0x1948c9[_0x861f31(0x468)]=[...new Set([..._0x42fbd9,..._0x576694,this[_0x861f31(0x3d5)]])],_0x1948c9;}['logPropagateSystemEvent'](_0x1bf201,_0x195ac3=!0x1){const _0x128fec=_0x3317da;if(0x0===_0x1bf201['topicLabel']&&!_0x295351(_0x1bf201,this[_0x128fec(0x3d5)])&&_0x1bf201['propagate']){const _0x43b6d0=_0x115979(_0x1bf201,this[_0x128fec(0x3d5)]);_0x546907[_0x128fec(0x42c)](_0xea19ad['System'],_0x1bf201[_0x128fec(0x625)]+_0x128fec(0x22c)+_0x195ac3+')\x20'+_0x43b6d0,_0x1bf201,_0x195ac3);}}[_0x3317da(0x3e5)](_0x4bf7b5){const _0x2b4221=_0x3317da;if(_0x4bf7b5[_0x2b4221(0x6fb)]&&_0x4bf7b5[_0x2b4221(0x4dc)]){const _0x211882=Array[_0x2b4221(0x4f2)](this['connections'][_0x2b4221(0x3f9)]())[_0x2b4221(0x5e1)](_0x2363f5=>_0x2363f5[_0x2b4221(0x4e6)]()===_0x34d04f['Core']||_0x2363f5[_0x2b4221(0x6be)]())[_0x2b4221(0x488)](_0x4906be=>_0x4906be[_0x2b4221(0x58b)]());return!_0x4bf7b5[_0x2b4221(0x6fb)][_0x2b4221(0x65e)]((_0x1dae3b,_0x237a8b)=>_0x1dae3b&&_0x211882['includes'](_0x237a8b),!0x0);}return _0x4bf7b5[_0x2b4221(0x4dc)]??!0x1;}[_0x3317da(0x62a)](_0x323316,_0x2a80a2){const _0x50dead=_0x3317da;if(_0x323316[_0x50dead(0x4dc)]&&_0x323316[_0x50dead(0x6fb)]){const _0x9d2782=Array[_0x50dead(0x4f2)](this[_0x50dead(0x497)]['keys']())[_0x50dead(0x5e1)](_0x131588=>_0x131588['getConnectionType']()===_0x34d04f['Core']||_0x131588[_0x50dead(0x6be)]())[_0x50dead(0x488)](_0x5b0709=>_0x5b0709[_0x50dead(0x58b)]()),_0x840077=new Set(),_0x324b35=_0x323316['sourceId']===this['localId']?0x3:0x1;return _0x323316[_0x50dead(0x6fb)][_0x50dead(0x505)](_0xeb7cbc=>{const _0x566beb=_0x50dead,_0x10d9c6=this['graphService'][_0x566beb(0x3fe)](_0x9d2782,_0xeb7cbc);let _0x5ce120=0x0,_0x1dae01=0x0;_0x10d9c6[_0x566beb(0x505)](_0x1f4232=>{const _0x520aa2=_0x566beb;if(_0x5ce120>=_0x324b35)return;const _0x12481e=Array['from'](this[_0x520aa2(0x497)]['keys']())[_0x520aa2(0x657)](_0x2a8252=>_0x2a8252[_0x520aa2(0x58b)]()===_0x1f4232);if(_0x12481e){if(_0x12481e[_0x520aa2(0x4e6)]()===_0x34d04f[_0x520aa2(0x558)]&&_0x1dae01>0x0)return void(_0x1dae01-=0x1);_0x840077[_0x520aa2(0x443)](_0x12481e),_0x12481e[_0x520aa2(0x4e6)]()===_0x34d04f[_0x520aa2(0x1ad)]&&(_0x1dae01+=0x1),_0x5ce120+=0x1;}});}),Array[_0x50dead(0x4f2)](_0x840077);}return Array[_0x50dead(0x4f2)](this[_0x50dead(0x497)][_0x50dead(0x3f9)]())['filter'](_0x3abc4d=>{const _0x4c3adb=_0x50dead;return _0x2984df=_0x3abc4d[_0x4c3adb(0x58b)](),!_0x2a80a2[_0x4c3adb(0x32e)](_0x2984df)&&(_0x540e23(_0x323316,_0x2984df)||_0x323316[_0x4c3adb(0x4dc)])&&(!_0x323316[_0x4c3adb(0x4dc)]||_0x3abc4d[_0x4c3adb(0x6be)]()||_0x3abc4d[_0x4c3adb(0x4e6)]()===_0x34d04f[_0x4c3adb(0x558)]);var _0x2984df;});}}class _0x5ea49a{[_0x3317da(0x3d5)];['messageBuffer'];[_0x3317da(0x497)]=new Map();[_0x3317da(0x576)];constructor(_0x1ad6d9,_0x20568a){const _0x1bc74c=_0x3317da;this[_0x1bc74c(0x3d5)]=_0x1ad6d9,this[_0x1bc74c(0x209)]=_0x20568a;}[_0x3317da(0x35e)](){}['send'](_0x21f023){const _0x1bb33f=_0x3317da;for(const _0x5ee144 of this[_0x1bb33f(0x497)][_0x1bb33f(0x3f9)]())try{return void _0x5ee144['send']({'retry':!0x1,..._0x21f023});}catch(_0x50875d){_0x50875d instanceof _0x34beb4||_0x546907[_0x1bb33f(0x614)](_0xea19ad[_0x1bb33f(0x4a7)],_0x1bb33f(0x44c)+_0x5ee144,_0x50875d,_0x21f023);}_0x546907[_0x1bb33f(0x614)](_0xea19ad[_0x1bb33f(0x4a7)],'No\x20connections\x20available\x20to\x20send\x20message');}['addConnection'](_0x5caa12){const _0x7236c8=_0x3317da,_0x18fb5b=_0x5caa12[_0x7236c8(0x470)](_0x1f3d46=>{const _0x333a23=_0x7236c8;this[_0x333a23(0x209)]['hasMessage'](_0x1f3d46[_0x333a23(0x625)])||0x0===_0x1f3d46['topicLabel']&&(this[_0x333a23(0x209)][_0x333a23(0x649)](_0x1f3d46[_0x333a23(0x625)]),_0x540e23(_0x1f3d46,this[_0x333a23(0x3d5)])&&this[_0x333a23(0x576)]?.['publish'](_0x1f3d46));});this[_0x7236c8(0x497)][_0x7236c8(0x2c2)](_0x5caa12,_0x18fb5b);}[_0x3317da(0x1fc)](_0x7559e0){const _0x918c41=_0x3317da;this['connections'][_0x918c41(0x1c0)](_0x7559e0)?.(),this[_0x918c41(0x497)][_0x918c41(0x164)](_0x7559e0);}['getLocalId'](){const _0x1de6dc=_0x3317da;return this[_0x1de6dc(0x3d5)];}[_0x3317da(0x58b)](){return'';}[_0x3317da(0x62f)](){const _0x40739d=_0x3317da;return[_0x12c3f7[_0x40739d(0x527)]];}[_0x3317da(0x6be)](){const _0x211a94=_0x3317da;throw new Error(_0x211a94(0x1cf));}[_0x3317da(0x592)](_0x58a3b5){const _0xc07c05=_0x3317da;this[_0xc07c05(0x576)]=_0x58a3b5;}[_0x3317da(0x449)](){const _0x5ded5b=_0x3317da;delete this[_0x5ded5b(0x576)];}}class _0x187481{[_0x3317da(0x6c2)]=new Map();[_0x3317da(0x407)];constructor(){const _0x420b3f=_0x3317da;this[_0x420b3f(0x407)]=_0x4d713a[_0x420b3f(0x4e2)](()=>{const _0x165688=_0x420b3f;for(const [_0x361b63,_0x26cb1f]of this[_0x165688(0x6c2)][_0x165688(0x456)]())Date['now']()-_0x26cb1f>0x124f80&&this['buffer'][_0x165688(0x164)](_0x361b63);},0x1d4c0);}[_0x3317da(0x35e)](){const _0x25b69f=_0x3317da;this[_0x25b69f(0x407)]();}['addMessage'](_0x3964a8){const _0x2feead=_0x3317da;this[_0x2feead(0x6c2)]['set'](_0x3964a8,Date[_0x2feead(0x6dd)]());}[_0x3317da(0x429)](_0x1dcee1){const _0x41353e=_0x3317da;return this[_0x41353e(0x6c2)]['has'](_0x1dcee1);}}class _0x35fa9c{['configs'];[_0x3317da(0x292)];[_0x3317da(0x15b)];[_0x3317da(0x4a2)];[_0x3317da(0x411)];['connections']=new Map();[_0x3317da(0x5a3)];[_0x3317da(0x38f)];['signalingServer'];[_0x3317da(0x209)];constructor(_0x44a6c8,_0x2bff4e,_0x25f550,_0x44843c,_0x43d60d,_0x2783e1){const _0x5de2d7=_0x3317da;this[_0x5de2d7(0x3a8)]=_0x44a6c8,this[_0x5de2d7(0x292)]=_0x2bff4e,this[_0x5de2d7(0x15b)]=_0x25f550,this[_0x5de2d7(0x4a2)]=_0x44843c,this[_0x5de2d7(0x411)]=_0x43d60d,this[_0x5de2d7(0x209)]=new _0x187481(),this[_0x5de2d7(0x38f)]=new _0x161331(this[_0x5de2d7(0x3a8)]['localId'],this[_0x5de2d7(0x209)],_0x2783e1),this[_0x5de2d7(0x66b)]=new _0x27702a(this[_0x5de2d7(0x3a8)][_0x5de2d7(0x589)],this[_0x5de2d7(0x3a8)][_0x5de2d7(0x2ed)],this['configs'][_0x5de2d7(0x3d5)],_0x5de2d7(0x2d7),this[_0x5de2d7(0x292)]),this[_0x5de2d7(0x5a3)]=new _0x5ea49a(this[_0x5de2d7(0x3a8)][_0x5de2d7(0x3d5)],this[_0x5de2d7(0x209)]),this[_0x5de2d7(0x5a3)][_0x5de2d7(0x55b)](this[_0x5de2d7(0x38f)]),this['connectionPool'][_0x5de2d7(0x55b)](this[_0x5de2d7(0x66b)]),this[_0x5de2d7(0x3a8)][_0x5de2d7(0x2a1)][_0x5de2d7(0x469)](this['connectionPool']);}['close'](){const _0x382e54=_0x3317da;this[_0x382e54(0x209)]['close'](),this[_0x382e54(0x497)]['forEach']((_0x106f66,_0xde62d8)=>this[_0x382e54(0x523)](_0xde62d8)),this[_0x382e54(0x3a8)][_0x382e54(0x2a1)]['unregisterSystemSource'](this[_0x382e54(0x5a3)]),this['connectionPool'][_0x382e54(0x1fc)](this[_0x382e54(0x66b)]),this['connectionPool'][_0x382e54(0x1fc)](this[_0x382e54(0x38f)]),this[_0x382e54(0x5a3)][_0x382e54(0x35e)](),this[_0x382e54(0x66b)]['close'](),this[_0x382e54(0x38f)][_0x382e54(0x35e)]();}async[_0x3317da(0x2b8)](){const _0x1effc9=_0x3317da;await this['signalingServer'][_0x1effc9(0x66a)]();}async[_0x3317da(0x2c3)](_0x3a48d9,_0x296455,_0x35043b=_0x34d04f[_0x3317da(0x558)]){const _0x1039b0=_0x3317da;if(this[_0x1039b0(0x497)]['has'](_0x3a48d9)){if(this[_0x1039b0(0x497)]['get'](_0x3a48d9)?.[_0x1039b0(0x4e6)]()===_0x34d04f[_0x1039b0(0x1ad)]&&_0x35043b===_0x34d04f[_0x1039b0(0x558)])return void this[_0x1039b0(0x497)][_0x1039b0(0x1c0)](_0x3a48d9)?.[_0x1039b0(0x162)](_0x34d04f['Core']);throw new _0x2ba88c(_0x2ba88c[_0x1039b0(0x4f1)][_0x1039b0(0x431)],{'localId':this[_0x1039b0(0x3a8)]['localId'],'remoteId':_0x3a48d9});}const _0x57731a=new _0x13b115(this[_0x1039b0(0x3a8)][_0x1039b0(0x2ed)],this[_0x1039b0(0x3a8)][_0x1039b0(0x3d5)],_0x3a48d9,_0x296455,this['iceServers'],_0x35043b,this[_0x1039b0(0x4a2)],this[_0x1039b0(0x411)]);this[_0x1039b0(0x497)][_0x1039b0(0x2c2)](_0x3a48d9,_0x57731a),this['connectionGroup'][_0x1039b0(0x55b)](_0x57731a),this[_0x1039b0(0x3a8)][_0x1039b0(0x2a1)][_0x1039b0(0x469)](_0x57731a),this[_0x1039b0(0x3a8)][_0x1039b0(0x2a1)][_0x1039b0(0x6c3)](_0x3a48d9),await _0x57731a['connect']();}[_0x3317da(0x392)](){const _0x57cbb2=_0x3317da;return this[_0x57cbb2(0x38f)];}[_0x3317da(0x2e8)](_0x30b21e){const _0x670493=_0x3317da;if(!this[_0x670493(0x497)]['has'](_0x30b21e))throw new _0x2ba88c(_0x2ba88c[_0x670493(0x4f1)][_0x670493(0x420)],{'localId':this['configs'][_0x670493(0x3d5)],'remoteId':_0x30b21e});return this[_0x670493(0x497)][_0x670493(0x1c0)](_0x30b21e);}[_0x3317da(0x35a)](_0x223540){const _0x1cf85f=_0x3317da,_0x13977a=Array['from'](this[_0x1cf85f(0x497)][_0x1cf85f(0x17a)]());return _0x223540?_0x13977a[_0x1cf85f(0x5e1)](_0x223540):_0x13977a;}async[_0x3317da(0x2ef)](_0x14e853){const _0x348041=_0x3317da,_0x2670b6=this[_0x348041(0x497)][_0x348041(0x1c0)](_0x14e853);_0x2670b6&&_0x2670b6['isConnected']()&&await _0x2670b6[_0x348041(0x2ef)]();}[_0x3317da(0x71c)](_0x2561d2){const _0x19b516=_0x3317da;if(_0x2561d2['messageType']!==_0x1c4d06['WebRTC']||_0x2561d2['propagate'])try{this[_0x19b516(0x38f)][_0x19b516(0x452)](_0x2561d2);}catch(_0x2b8751){if(_0x2b8751 instanceof _0x34beb4)return;throw _0x2b8751;}else this[_0x19b516(0x5a3)][_0x19b516(0x452)](_0x2561d2);}async['handleWebRTCSystemEvents'](_0x56547a){const _0x3c5ba9=_0x3317da;switch(_0x56547a[_0x3c5ba9(0x1b9)][_0x3c5ba9(0x1e3)]){case _0x2c3496[_0x3c5ba9(0x409)]:case _0x2c3496[_0x3c5ba9(0x1d7)]:case _0x2c3496['OptimizationConnectionSuccess']:return;}if(!_0x56547a[_0x3c5ba9(0x6fb)]||0x1!==_0x56547a[_0x3c5ba9(0x6fb)][_0x3c5ba9(0x43f)])throw new _0x2ba88c(_0x2ba88c[_0x3c5ba9(0x4f1)][_0x3c5ba9(0x4c6)],{'message':_0x3c5ba9(0x588),'event':_0x56547a});if(_0x56547a[_0x3c5ba9(0x6fb)][0x0]!==this[_0x3c5ba9(0x3a8)][_0x3c5ba9(0x3d5)])throw new _0x2ba88c(_0x2ba88c[_0x3c5ba9(0x4f1)][_0x3c5ba9(0x4c6)],{'message':_0x3c5ba9(0x400),'event':_0x56547a});if(!this[_0x3c5ba9(0x497)]['has'](_0x56547a['sourceId'])){let _0x3ad10=_0x34d04f['Core'];if(!(this['isOffer'](_0x56547a['content'])||this[_0x3c5ba9(0x561)](_0x56547a[_0x3c5ba9(0x1b9)])||this['isNeedRestart'](_0x56547a[_0x3c5ba9(0x1b9)])))return;_0x3ad10=_0x56547a['content'][_0x3c5ba9(0x5fd)],await this[_0x3c5ba9(0x2c3)](_0x56547a[_0x3c5ba9(0x396)],!0x1,_0x3ad10);}const _0x575802=this['connections'][_0x3c5ba9(0x1c0)](_0x56547a[_0x3c5ba9(0x396)]);await _0x575802[_0x3c5ba9(0x147)](_0x56547a);}[_0x3317da(0x590)](_0x434540){const _0x272e89=_0x3317da;if(_0x434540[_0x272e89(0x1b9)][_0x272e89(0x1e3)]===_0x539536[_0x272e89(0x38b)]){if(_0x434540[_0x272e89(0x1b9)][_0x272e89(0x2b3)]===this[_0x272e89(0x3a8)]['localId'])return void this[_0x272e89(0x497)]['forEach'](_0x4b6010=>_0x4b6010[_0x272e89(0x590)](_0x434540));this['connections']['get'](_0x434540[_0x272e89(0x1b9)][_0x272e89(0x2b3)])?.['handleRemediationSystemEvents'](_0x434540);}}['handleNodeSystemEvents']({content:_0x5e23e0}){const _0x4ff8dc=_0x3317da;_0x5e23e0[_0x4ff8dc(0x1e3)]===_0x3999d2[_0x4ff8dc(0x65d)]&&this['closeConnection'](_0x5e23e0['id']);}[_0x3317da(0x523)](_0x328eb4){const _0x7e27b0=_0x3317da,_0x1c9ae6=this['connections'][_0x7e27b0(0x1c0)](_0x328eb4);_0x1c9ae6&&(this['configs'][_0x7e27b0(0x2a1)]['unregisterRemoteUser'](_0x328eb4),this[_0x7e27b0(0x3a8)][_0x7e27b0(0x2a1)][_0x7e27b0(0x61d)](_0x1c9ae6),_0x1c9ae6 instanceof _0x13b115&&this[_0x7e27b0(0x38f)][_0x7e27b0(0x1fc)](_0x1c9ae6),_0x1c9ae6['close'](),this[_0x7e27b0(0x497)]['delete'](_0x328eb4));}[_0x3317da(0x238)](_0x28aa3e){const _0x2decf7=_0x3317da;return _0x28aa3e[_0x2decf7(0x1e3)]===_0x2c3496[_0x2decf7(0x556)];}['isNeedRestart'](_0x3e3f66){const _0x2e2c52=_0x3317da;return _0x3e3f66[_0x2e2c52(0x1e3)]===_0x2c3496[_0x2e2c52(0x6e0)];}[_0x3317da(0x561)](_0x16aacd){const _0x2eaa4b=_0x3317da;return _0x16aacd[_0x2eaa4b(0x1e3)]===_0x2c3496[_0x2eaa4b(0x37b)];}}!function(_0x4997ee){const _0x2b779d=_0x3317da;_0x4997ee[_0x4997ee[_0x2b779d(0x487)]=0x0]=_0x2b779d(0x487),_0x4997ee[_0x4997ee[_0x2b779d(0x5a6)]=0x1]=_0x2b779d(0x5a6),_0x4997ee[_0x4997ee['UnsubscribeMediaStream']=0x2]=_0x2b779d(0x285),_0x4997ee[_0x4997ee['NeedMediaStream']=0x3]=_0x2b779d(0x421),_0x4997ee[_0x4997ee[_0x2b779d(0x216)]=0x4]=_0x2b779d(0x216),_0x4997ee[_0x4997ee[_0x2b779d(0x569)]=0x5]=_0x2b779d(0x569),_0x4997ee[_0x4997ee['CannotProvideMediaStream']=0x6]=_0x2b779d(0x43d),_0x4997ee[_0x4997ee[_0x2b779d(0x414)]=0x7]=_0x2b779d(0x414);}(_0x3fa9b2||(_0x3fa9b2={}));class _0x2b5390{['clusterId'];['vendorId'];['label'];[_0x3317da(0x25c)];[_0x3317da(0x314)];constructor(_0x2c0cd7,_0x442174,_0x28bc65){const _0x41c6bf=_0x3317da;this[_0x41c6bf(0x2ed)]=_0x2c0cd7,this[_0x41c6bf(0x589)]=_0x442174,this['label']=_0x28bc65,this['clusterKey']=_0x41c6bf(0x44d)+this[_0x41c6bf(0x589)]+_0x41c6bf(0x44d)+this[_0x41c6bf(0x2ed)]+_0x41c6bf(0x44d)+this[_0x41c6bf(0x369)];}async[_0x3317da(0x1c0)](_0x53acb1){const _0x3e1e51=_0x3317da,[_0x5ecf7e,_0x63a62d]=await this[_0x3e1e51(0x6d9)](_0x53acb1);for await(const _0x292819 of _0x5ecf7e[_0x3e1e51(0x17a)]())if(_0x292819[_0x3e1e51(0x543)]===_0x63a62d||_0x292819[_0x3e1e51(0x543)]===_0x63a62d+_0x3a57a3){if(_0x292819[_0x3e1e51(0x3dd)]===_0x2d59f3[_0x3e1e51(0x18d)])throw new _0xb069c2(_0x1193d2[_0x3e1e51(0x2e7)],_0x3e1e51(0x66d)+_0x53acb1);{if(_0x292819[_0x3e1e51(0x543)][_0x3e1e51(0x60c)](_0x3a57a3)){for(;;)try{const _0x4dea94=await _0x5ecf7e[_0x3e1e51(0x544)](_0x63a62d);return await _0x4dea94['getFile']();}catch(_0x3d7c17){await _0x4d713a['wait'](0x64);}}const _0x47b8c9=await _0x5ecf7e[_0x3e1e51(0x544)](_0x63a62d);return await _0x47b8c9['getFile']();}}throw new _0xb069c2(_0x1193d2['ObjectStoreInvalidPath'],_0x3e1e51(0x66d)+_0x53acb1);}async[_0x3317da(0x5c4)](_0x96e2dc,_0x65b7f3=!0x1,_0x60cd3a=!0x1){const _0x584433=_0x3317da;try{const _0x1db0e7=[],[_0xeeddeb,_0x27a577,_0x26cb21]=await this[_0x584433(0x6d9)](_0x96e2dc),_0x14b924='/'===_0x96e2dc?_0xeeddeb:await _0xeeddeb[_0x584433(0x4d7)](_0x27a577);for await(const _0x4a1e1d of _0x14b924['values']()){const _0x4eac3c='/'+(_0x26cb21[_0x584433(0x43f)]>0x0?_0x26cb21[_0x584433(0x2d6)]('/'):''),_0x57b6b3=_0x4eac3c['length']>0x1?_0x4eac3c+'/'+_0x4a1e1d[_0x584433(0x543)]:'/'+_0x4a1e1d[_0x584433(0x543)];if(_0x4a1e1d[_0x584433(0x3dd)]===_0x2d59f3[_0x584433(0x18d)])_0x1db0e7[_0x584433(0x4ee)]({'kind':_0x2d59f3[_0x584433(0x18d)],'name':_0x4a1e1d[_0x584433(0x543)],'path':_0x4eac3c,'pathName':_0x57b6b3,'entries':_0x65b7f3?await this[_0x584433(0x5c4)](_0x57b6b3,_0x65b7f3,_0x60cd3a):[]});else{if(_0x4a1e1d[_0x584433(0x543)]===_0x509ae7||!_0x60cd3a&&_0x4a1e1d[_0x584433(0x543)][_0x584433(0x60c)](_0x3a57a3))continue;const _0x3b48bf=await _0x14b924[_0x584433(0x544)](_0x4a1e1d[_0x584433(0x543)]),_0xc20f70=await _0x3b48bf[_0x584433(0x57f)]();_0x1db0e7[_0x584433(0x4ee)]({'kind':_0x2d59f3[_0x584433(0x4d2)],'name':_0x4a1e1d[_0x584433(0x543)],'type':_0xc20f70[_0x584433(0x1e3)],'size':_0xc20f70[_0x584433(0x63a)],'path':_0x4eac3c,'pathName':_0x57b6b3});}}return _0x1db0e7;}catch(_0x2caf51){if(_0x2caf51 instanceof _0xb069c2)throw _0x2caf51;throw new _0xb069c2(_0x1193d2['ObjectStoreInvalidPath'],_0x584433(0x6f0)+_0x96e2dc);}}async['getOrCreateDirectoryHandle'](_0x21f2ff){const _0x33a6d6=_0x3317da;try{let _0x10d01d=await this[_0x33a6d6(0x161)]();if(_0x21f2ff){const _0x507d6a=_0x2cbd7a(_0x21f2ff);for(const _0x43b533 of _0x507d6a)_0x10d01d=await _0x10d01d['getDirectoryHandle'](_0x43b533,{'create':!0x0});}return _0x10d01d;}catch(_0x4ebf0c){throw new _0xb069c2(_0x1193d2[_0x33a6d6(0x2e7)],'Cannot\x20get\x20or\x20create\x20directory:\x20'+_0x21f2ff);}}async['getStreamRoot'](){const _0x4894b6=_0x3317da;if(this[_0x4894b6(0x25c)])return this['streamRoot'];const _0x112c3e=await navigator[_0x4894b6(0x322)][_0x4894b6(0x2e0)](),_0x4ffcfc=await _0x112c3e['getDirectoryHandle'](this['clusterKey'],{'create':!0x0});return this['streamRoot']=await _0x4ffcfc[_0x4894b6(0x4d7)](this['label'],{'create':!0x0}),this[_0x4894b6(0x25c)];}async[_0x3317da(0x6d9)](_0x15301a){const _0x30013b=_0x3317da;try{let _0x2c062d=await this[_0x30013b(0x161)]();if('/'===_0x15301a)return[_0x2c062d,'',[]];const _0x4b1e03=_0x2cbd7a(_0x15301a);for(const [_0x14f7e8,_0x4d1b13]of _0x4b1e03[_0x30013b(0x456)]()){if(_0x14f7e8===_0x4b1e03['length']-0x1)return[_0x2c062d,_0x4d1b13,_0x4b1e03];_0x2c062d=await _0x2c062d[_0x30013b(0x4d7)](_0x4d1b13);}}catch(_0x526769){throw new _0xb069c2(_0x1193d2[_0x30013b(0x2e7)],_0x30013b(0x36a)+_0x15301a);}throw new _0xb069c2(_0x1193d2['ObjectStoreInvalidPath'],_0x30013b(0x36a)+_0x15301a);}async[_0x3317da(0x4bd)](_0x157ad6,_0x49666c){const _0x35f7d7=_0x3317da;try{const _0x3bde65=await this[_0x35f7d7(0x52b)](_0x49666c),_0x5a4276=await _0x3bde65[_0x35f7d7(0x544)](_0x157ad6[_0x35f7d7(0x543)],{'create':!0x0}),_0x1d66c4=await _0x5a4276[_0x35f7d7(0x5e4)]();await _0x1d66c4[_0x35f7d7(0x332)](_0x157ad6),await _0x1d66c4['close']();}catch(_0x55244b){throw new _0xb069c2(_0x1193d2['ObjectStoreInvalidPath'],_0x35f7d7(0x43b)+_0x1b3c6b(_0x49666c??'/',_0x157ad6[_0x35f7d7(0x543)]));}}async[_0x3317da(0x45f)](_0x5d71c7){const _0xbd11f1=_0x3317da,[_0x331dc0,_0x379021]=await this['getLastDirectoryHandle'](_0x5d71c7);for await(const _0x53a1ea of _0x331dc0[_0xbd11f1(0x17a)]())if(_0x53a1ea[_0xbd11f1(0x543)]===_0x379021)try{return _0x53a1ea[_0xbd11f1(0x3dd)]===_0x2d59f3['Folder']?(await _0x331dc0[_0xbd11f1(0x1bd)](_0x379021,{'recursive':!0x0}),_0x2d59f3[_0xbd11f1(0x18d)]):(await _0x331dc0[_0xbd11f1(0x1bd)](_0x379021),_0x2d59f3[_0xbd11f1(0x4d2)]);}catch(_0x248c79){throw new _0xb069c2(_0x1193d2[_0xbd11f1(0x2e7)],_0xbd11f1(0x3ba)+_0x5d71c7);}if(!_0x5d71c7[_0xbd11f1(0x60c)](_0x3a57a3))return this[_0xbd11f1(0x45f)](_0x5d71c7+_0x3a57a3);throw new _0xb069c2(_0x1193d2[_0xbd11f1(0x2e7)],'Cannot\x20delete\x20file:\x20'+_0x5d71c7);}async[_0x3317da(0x693)](_0x3a86ca,_0xc85162){const _0x1fc10b=_0x3317da;try{const [_0x2bf079,_0x304479]=await this[_0x1fc10b(0x6d9)](_0x3a86ca);for await(const _0xd05f43 of _0x2bf079[_0x1fc10b(0x17a)]())if(_0xd05f43[_0x1fc10b(0x543)]===_0x304479){if(_0xd05f43['kind']===_0x2d59f3['Folder'])return await this['moveDirectory'](_0x2bf079,_0x3a86ca,_0xc85162),_0x2d59f3[_0x1fc10b(0x18d)];{const _0xaf4100=await _0x2bf079['getFileHandle'](_0x304479);return await this[_0x1fc10b(0x288)](_0xaf4100,_0x3a86ca,_0xc85162),_0x2d59f3[_0x1fc10b(0x4d2)];}}if(!_0x3a86ca[_0x1fc10b(0x60c)](_0x3a57a3))return await this['moveObject'](_0x3a86ca+_0x3a57a3,_0xc85162+_0x3a57a3),_0x2d59f3['File'];throw _0x3a86ca=_0x3a86ca[_0x1fc10b(0x60c)](_0x3a57a3)?_0x3a86ca[_0x1fc10b(0x71d)](_0x3a57a3,''):_0x3a86ca,new _0xb069c2(_0x1193d2[_0x1fc10b(0x2e7)],_0x1fc10b(0x4d0)+_0x3a86ca);}catch(_0x4915c3){if(_0x4915c3 instanceof _0xb069c2)throw _0x4915c3;throw _0x3a86ca=_0x3a86ca['endsWith'](_0x3a57a3)?_0x3a86ca[_0x1fc10b(0x71d)](_0x3a57a3,''):_0x3a86ca,new _0xb069c2(_0x1193d2[_0x1fc10b(0x2e7)],_0x1fc10b(0x58f)+_0x3a86ca);}}async['calculateSize'](_0x100cac){const _0x2d2677=_0x3317da,_0x172dfe=await this[_0x2d2677(0x5c4)](_0x100cac);let _0x182704=0x0;for(const _0x4688c4 of _0x172dfe)_0x4688c4['kind']===_0x2d59f3[_0x2d2677(0x4d2)]?_0x182704+=_0x4688c4[_0x2d2677(0x63a)]:_0x182704+=await this[_0x2d2677(0x1a2)](_0x4688c4['pathName']);return _0x182704;}async[_0x3317da(0x288)](_0x256138,_0x4195ae,_0x920874){const _0x261d6b=_0x3317da;try{const _0x157663=await _0x256138[_0x261d6b(0x57f)](),_0x442060=_0x920874[_0x261d6b(0x45a)]('/'),_0x365dfd=_0x442060[_0x261d6b(0x60e)](-0x1),_0x39e0e1=_0x442060[_0x261d6b(0x60e)](0x0,_0x442060[_0x261d6b(0x43f)]-0x1)[_0x261d6b(0x2d6)]('/'),_0x562b19=new File([_0x157663],_0x365dfd[0x0],{'type':_0x157663[_0x261d6b(0x1e3)]});await this[_0x261d6b(0x4bd)](_0x562b19,_0x39e0e1),await this[_0x261d6b(0x45f)](_0x4195ae);}catch(_0x5e0524){if(_0x5e0524 instanceof _0xb069c2)throw _0x5e0524;throw new _0xb069c2(_0x1193d2['ObjectStoreInvalidPath'],_0x261d6b(0x3e1)+_0x4195ae);}}async['moveDirectory'](_0x4a15cb,_0x5523a2,_0x3b4b9c){const _0x51c70d=_0x3317da;try{await this[_0x51c70d(0x52b)](_0x3b4b9c);const [_0x229059,_0x16d745]=_0x3b0fd4(_0x5523a2),_0x3f3542=await _0x4a15cb['getDirectoryHandle'](_0x16d745);await this[_0x51c70d(0x5d1)](_0x3f3542,_0x5523a2,_0x3b4b9c),await this['deleteObject'](_0x5523a2);}catch(_0x43cc5d){if(_0x43cc5d instanceof _0xb069c2)throw _0x43cc5d;throw new _0xb069c2(_0x1193d2['ObjectStoreInvalidPath'],_0x51c70d(0x348)+_0x5523a2);}}async[_0x3317da(0x5d1)](_0xe3606e,_0x45f05f,_0x1490e8){const _0x57c4fa=_0x3317da,_0x32342b=await this[_0x57c4fa(0x5c4)](_0x45f05f,!0x1,!0x0);for(const _0x53c2a7 of _0x32342b)if(_0x53c2a7[_0x57c4fa(0x3dd)]===_0x2d59f3[_0x57c4fa(0x18d)])await this['moveDirectory'](_0xe3606e,_0x53c2a7[_0x57c4fa(0x572)],_0x1b3c6b(_0x1490e8,_0x53c2a7[_0x57c4fa(0x543)]));else{const _0x1bc7fc=await _0xe3606e[_0x57c4fa(0x544)](_0x53c2a7['name']);await this['moveFile'](_0x1bc7fc,_0x53c2a7['pathName'],_0x1b3c6b(_0x1490e8,_0x53c2a7[_0x57c4fa(0x543)]));}}}class _0x97e41d extends _0x36e558{[_0x3317da(0x2ed)];[_0x3317da(0x589)];['transactionService'];['unsubscribeHandler'];[_0x3317da(0x280)];[_0x3317da(0x6fa)]=new Map();[_0x3317da(0x150)]=new Map();[_0x3317da(0x2da)]=new Map();[_0x3317da(0x5ca)]=new Map();[_0x3317da(0x3da)]=new Map();[_0x3317da(0x502)];[_0x3317da(0x1b8)]=_0x4dbd80();[_0x3317da(0x568)];['debounceStats'];[_0x3317da(0x58d)]=0x0;['reads']=0x0;constructor(_0x4f5eec,_0x3c1510,_0x4ca385,_0x55aa16,_0x45ae96){const _0x47a6c7=_0x3317da;if(_0x47a6c7(0x368)!=typeof _0x3c1510)throw new _0xb069c2(_0x1193d2[_0x47a6c7(0x668)],_0x47a6c7(0x20d));super(_0x4f5eec,_0x3c1510),this[_0x47a6c7(0x2ed)]=_0x4ca385,this[_0x47a6c7(0x589)]=_0x55aa16,this[_0x47a6c7(0x5b9)]=_0x45ae96,this[_0x47a6c7(0x502)]=new _0x2b5390(this[_0x47a6c7(0x2ed)],this[_0x47a6c7(0x589)],_0x3c1510);}[_0x3317da(0x262)](){return _0x12c3f7['ObjectStore'];}async['sync'](){const _0x4cbfd8=_0x3317da,_0x4faeea=await this[_0x4cbfd8(0x502)]['getOrCreateDirectoryHandle']();try{const _0x25a6f5=await _0x4faeea[_0x4cbfd8(0x544)](_0x509ae7),_0x5beec5=await _0x25a6f5['getFile'](),_0x144af6=await _0x5beec5[_0x4cbfd8(0x180)]();this[_0x4cbfd8(0x280)]=_0x144af6;}catch(_0x3a2e52){}this[_0x4cbfd8(0x407)]=this['onMessage'](async(_0x28779a,_0x2dea62)=>{const _0x2ac36a=_0x4cbfd8;if(!(_0x2dea62 instanceof File))try{if(_0x2dea62['payloadType']===_0x382d6d[_0x2ac36a(0x597)])return void this[_0x2ac36a(0x2ab)](_0x2dea62);this[_0x2ac36a(0x5ff)](_0x2dea62);}catch(_0x16ad02){if(_0x16ad02 instanceof _0x2ba88c)throw _0x16ad02;throw new _0x2ba88c(_0x2ba88c[_0x2ac36a(0x4f1)][_0x2ac36a(0x560)],{'payload':_0x2dea62});}}),await this[_0x4cbfd8(0x375)](),await this['syncPendingFiles'](),this['sendStats']();}[_0x3317da(0x6b8)](){const _0x46173e=_0x3317da;this[_0x46173e(0x407)]?.(),clearTimeout(this[_0x46173e(0x236)]),delete this[_0x46173e(0x236)],super['destroy']();}[_0x3317da(0x35e)](){const _0x193773=_0x3317da;this[_0x193773(0x576)]?.[_0x193773(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06['Content'],'content':{'type':_0x167820['CloseObjectStoreBucket'],'label':this['label']}});}[_0x3317da(0x650)](_0x27f6f4){const _0x3c2650=_0x3317da;if(this[_0x3c2650(0x568)])throw new _0xb069c2(_0x1193d2[_0x3c2650(0x24f)],_0x3c2650(0x44a));this[_0x3c2650(0x568)]=this[_0x3c2650(0x1b8)][_0x3c2650(0x650)](_0x27f6f4);}[_0x3317da(0x295)](){const _0x3b16ce=_0x3317da;this['listenerUnsubscriber']&&this[_0x3b16ce(0x568)]();}[_0x3317da(0x6af)](_0x373414){const _0x60242f=_0x3317da;switch(_0x373414['action']){case _0x53e309[_0x60242f(0x4d2)]:return this['publishFile'](_0x373414[_0x60242f(0x3b4)],_0x373414[_0x60242f(0x329)]);case _0x53e309[_0x60242f(0x18d)]:return this['publishFolder'](_0x373414[_0x60242f(0x329)]);case _0x53e309['Move']:return this['publishMove'](_0x373414[_0x60242f(0x329)],_0x373414[_0x60242f(0x63c)]);default:throw new _0xb069c2(_0x1193d2[_0x60242f(0x645)],_0x60242f(0x6b7)+_0x373414);}}async[_0x3317da(0x3ed)](_0x51b2c6){const _0x1435f0=_0x3317da;try{const _0x2cc8c1=(0x0,_0xdef932['v4'])(),_0x15cc30=this[_0x1435f0(0x280)],_0x291fc6={'payloadType':_0x382d6d[_0x1435f0(0x52e)],'action':_0x105e16[_0x1435f0(0x38d)],'id':_0x2cc8c1,'parentId':_0x15cc30,'path':_0x51b2c6};await this[_0x1435f0(0x681)](_0x291fc6);const _0x38e998=await this[_0x1435f0(0x45f)](_0x51b2c6);await this[_0x1435f0(0x452)](_0x291fc6),_0x546907[_0x1435f0(0x28e)](_0x2fb3cb[_0x1435f0(0x5b1)],{'type':_0x1435f0(0x3ed),'label':this[_0x1435f0(0x369)],'userId':this[_0x1435f0(0x6aa)],'kind':_0x38e998,'path':_0x51b2c6}),this['writes']+=0x1,this['sendStats']();}catch(_0x1f6c2b){throw new _0xb069c2(_0x1193d2[_0x1435f0(0x6a3)],_0x1435f0(0x4ac));}}async[_0x3317da(0x1c0)](_0x5b2124){const _0x4050ba=_0x3317da;return _0x546907[_0x4050ba(0x28e)](_0x2fb3cb[_0x4050ba(0x5b1)],{'type':_0x4050ba(0x1c0),'label':this[_0x4050ba(0x369)],'userId':this[_0x4050ba(0x6aa)],'path':_0x5b2124}),this[_0x4050ba(0x4df)]+=0x1,this['sendStats'](),this[_0x4050ba(0x502)][_0x4050ba(0x1c0)](_0x5b2124);}async[_0x3317da(0x5c4)](_0x4fd69b,_0x49b277=!0x1,_0x31880d=!0x1){const _0x34d06e=_0x3317da;return _0x546907[_0x34d06e(0x28e)](_0x2fb3cb[_0x34d06e(0x5b1)],{'type':_0x34d06e(0x5c4),'label':this[_0x34d06e(0x369)],'userId':this[_0x34d06e(0x6aa)],'path':_0x4fd69b}),this[_0x34d06e(0x4df)]+=0x1,this[_0x34d06e(0x493)](),this[_0x34d06e(0x502)][_0x34d06e(0x5c4)](_0x4fd69b,_0x49b277,_0x31880d);}[_0x3317da(0x61c)](_0x12cf0d){const _0x1d678a=_0x3317da;for(const _0x5b0f71 of this[_0x1d678a(0x150)][_0x1d678a(0x17a)]())this[_0x1d678a(0x452)](_0x5b0f71,[_0x12cf0d]);}[_0x3317da(0x4cf)](_0x699e3e){const _0x6cffc7=_0x3317da,_0x424d82=this[_0x6cffc7(0x2da)]['get'](_0x699e3e);if(_0x424d82){for(const [_0x4269a4,_0x27d538]of _0x424d82[_0x6cffc7(0x17a)]())this[_0x6cffc7(0x580)](_0x4269a4,_0x27d538);this[_0x6cffc7(0x2da)][_0x6cffc7(0x164)](_0x699e3e);}}async['publishFile'](_0x1bdd72,_0x48ac48){const _0x25f65e=_0x3317da;try{const _0x4547d1=(0x0,_0xdef932['v4'])(),_0x37128c=this[_0x25f65e(0x280)],_0x249a37=await _0x39dd23(_0x1bdd72);await this[_0x25f65e(0x681)]({'payloadType':_0x382d6d[_0x25f65e(0x52e)],'action':_0x105e16[_0x25f65e(0x1b4)],'id':_0x4547d1,'parentId':_0x37128c,'answererId':this[_0x25f65e(0x6aa)],'name':_0x1bdd72['name'],'type':_0x1bdd72[_0x25f65e(0x1e3)],'path':_0x48ac48??'/','checksum':_0x249a37}),await this['writeFile'](_0x1bdd72,_0x48ac48),await this[_0x25f65e(0x425)](_0x1bdd72,{'payloadType':_0x382d6d[_0x25f65e(0x52e)],'action':_0x105e16[_0x25f65e(0x1b4)],'id':_0x4547d1,'parentId':_0x37128c,'answererId':this['ownerId'],'name':_0x1bdd72[_0x25f65e(0x543)],'type':_0x1bdd72[_0x25f65e(0x1e3)],'path':_0x48ac48??'/','checksum':_0x249a37}),_0x546907[_0x25f65e(0x28e)](_0x2fb3cb[_0x25f65e(0x5b1)],{'type':_0x25f65e(0x6af),'label':this['label'],'userId':this[_0x25f65e(0x6aa)],'kind':_0x2d59f3[_0x25f65e(0x4d2)],'path':_0x48ac48,'fileName':_0x1bdd72['name'],'fileType':_0x1bdd72[_0x25f65e(0x1e3)],'size':_0x1bdd72[_0x25f65e(0x63a)]}),this['writes']+=0x1,this[_0x25f65e(0x493)]();}catch(_0x3f1928){throw new _0xb069c2(_0x1193d2[_0x25f65e(0x6a3)],_0x25f65e(0x4ac));}}async['publishFolder'](_0xf2a720){const _0x2eb2a7=_0x3317da;try{const _0x2b403f=(0x0,_0xdef932['v4'])(),_0x3cebe5=this['lastTransactionId'],_0x3ede15={'payloadType':_0x382d6d['Transaction'],'action':_0x105e16['FolderCreate'],'id':_0x2b403f,'parentId':_0x3cebe5,'path':_0xf2a720};await this['publishTransaction'](_0x3ede15),await this[_0x2eb2a7(0x502)]['getOrCreateDirectoryHandle'](_0xf2a720),await this[_0x2eb2a7(0x452)](_0x3ede15),_0x546907[_0x2eb2a7(0x28e)](_0x2fb3cb['ObjectStorage'],{'type':'publish','label':this['label'],'userId':this[_0x2eb2a7(0x6aa)],'kind':_0x2d59f3[_0x2eb2a7(0x18d)],'path':_0xf2a720}),this[_0x2eb2a7(0x58d)]+=0x1,this[_0x2eb2a7(0x493)]();}catch(_0x3ebd2b){throw new _0xb069c2(_0x1193d2[_0x2eb2a7(0x6a3)],_0x2eb2a7(0x4ac));}}async[_0x3317da(0x200)](_0x23d1b8,_0x2e2336){const _0x40ef0d=_0x3317da;try{const _0x2a0acf=(0x0,_0xdef932['v4'])(),_0x3d2194=this[_0x40ef0d(0x280)],_0x230cc8={'payloadType':_0x382d6d[_0x40ef0d(0x52e)],'action':_0x105e16[_0x40ef0d(0x3dc)],'id':_0x2a0acf,'parentId':_0x3d2194,'path':_0x23d1b8,'newPath':_0x2e2336};await this[_0x40ef0d(0x681)](_0x230cc8);const _0x5ed293=await this[_0x40ef0d(0x502)][_0x40ef0d(0x693)](_0x23d1b8,_0x2e2336);await this[_0x40ef0d(0x452)](_0x230cc8),_0x546907['logServiceEvent'](_0x2fb3cb[_0x40ef0d(0x5b1)],{'type':_0x40ef0d(0x22b),'label':this['label'],'userId':this[_0x40ef0d(0x6aa)],'kind':_0x5ed293,'path':_0x23d1b8,'newPath':_0x2e2336}),this['writes']+=0x1,this[_0x40ef0d(0x493)]();}catch(_0x434d3a){throw new _0xb069c2(_0x1193d2[_0x40ef0d(0x6a3)],_0x40ef0d(0x4ac));}}async[_0x3317da(0x5ff)](_0x385015){const _0x14623e=_0x3317da;if(this['lastTransactionId']&&_0x385015[_0x14623e(0x1ef)]!==this[_0x14623e(0x280)]&&_0x385015['id']!==this[_0x14623e(0x280)]){if(!_0x385015['parentId'])throw new _0x2ba88c(_0x2ba88c[_0x14623e(0x4f1)][_0x14623e(0x560)]);this['pendingSyncTransactions']['set'](_0x385015[_0x14623e(0x1ef)],_0x385015);}else{try{await this[_0x14623e(0x383)](_0x385015);}catch(_0x315cca){}await this['updateLastTransactionId'](_0x385015['id']),await this['processPendingSyncTransactions'](_0x385015['id']);}}async[_0x3317da(0x383)](_0xbae845){const _0x285e67=_0x3317da;switch(_0xbae845[_0x285e67(0x377)]){case _0x105e16['FileWrite']:await this['handleFileWrite'](_0xbae845);break;case _0x105e16['FolderCreate']:await this['handleFolderCreate'](_0xbae845);break;case _0x105e16[_0x285e67(0x3dc)]:await this[_0x285e67(0x438)](_0xbae845);break;case _0x105e16['Delete']:await this[_0x285e67(0x24c)](_0xbae845);break;default:throw new _0x2ba88c(_0x2ba88c['codes'][_0x285e67(0x560)],{'payload':_0xbae845});}}async['processPendingSyncTransactions'](_0x160a90){const _0x36e606=_0x3317da;if(this['pendingSyncTransactions'][_0x36e606(0x29e)](_0x160a90)){const _0x127b34=this['pendingSyncTransactions'][_0x36e606(0x1c0)](_0x160a90);this['pendingSyncTransactions']['delete'](_0x160a90),await this[_0x36e606(0x5ff)](_0x127b34);}}async['handleRequestPayload'](_0x502738){const _0x1e1556=_0x3317da;switch(_0x502738[_0x1e1556(0x377)]){case _0x105e16[_0x1e1556(0x357)]:return this[_0x1e1556(0x4d9)](_0x502738);case _0x105e16[_0x1e1556(0x437)]:return this['handleFileRequestAnswer'](_0x502738);case _0x105e16[_0x1e1556(0x2d3)]:return this[_0x1e1556(0x705)](_0x502738);case _0x105e16[_0x1e1556(0x522)]:return this[_0x1e1556(0x5c0)](_0x502738);default:throw new _0x2ba88c(_0x2ba88c['codes']['ObjectStoreInvalidSyncMessage'],{'payload':_0x502738});}}async[_0x3317da(0x5c0)](_0x1c5d43){const _0x1d2cdf=_0x3317da;if(!_0x1c5d43[_0x1d2cdf(0x1ed)]||void 0x0===_0x1c5d43[_0x1d2cdf(0x206)]||!_0x1c5d43[_0x1d2cdf(0x362)])return void await this[_0x1d2cdf(0x3d4)](_0x1c5d43);const _0x457b47=_0x1b3c6b(_0x1c5d43[_0x1d2cdf(0x329)],_0x1c5d43['name']);this[_0x1d2cdf(0x6a8)]['has'](_0x457b47)||(this[_0x1d2cdf(0x6a8)][_0x1d2cdf(0x2c2)](_0x457b47,[]),await this[_0x1d2cdf(0x3d4)](_0x1c5d43)),this[_0x1d2cdf(0x2ce)](_0x1c5d43,_0x457b47);const _0x29bcb6=this[_0x1d2cdf(0x6a8)][_0x1d2cdf(0x1c0)](_0x457b47);if(_0x29bcb6[_0x1c5d43[_0x1d2cdf(0x206)]]=_0x1c5d43[_0x1d2cdf(0x1ed)],_0x29bcb6[_0x1d2cdf(0x5e1)](_0xb51fe1=>_0xb51fe1)['length']<_0x1c5d43['total'])return;const _0x2b7127=_0x1777f2(_0x29bcb6,_0x1c5d43[_0x1d2cdf(0x543)],_0x1c5d43[_0x1d2cdf(0x1e3)]);await this[_0x1d2cdf(0x4bd)](_0x2b7127,_0x1c5d43['path']),await this[_0x1d2cdf(0x3b1)](_0x1c5d43),this[_0x1d2cdf(0x6a8)][_0x1d2cdf(0x164)](_0x457b47),_0x546907['logServiceEvent'](_0x2fb3cb[_0x1d2cdf(0x5b1)],{'type':_0x1d2cdf(0x3cb),'label':this['label'],'userId':this[_0x1d2cdf(0x6aa)],'kind':_0x2d59f3[_0x1d2cdf(0x4d2)],'path':_0x1c5d43['path'],'fileName':_0x1c5d43[_0x1d2cdf(0x543)],'fileType':_0x1c5d43[_0x1d2cdf(0x1e3)],'size':_0x2b7127['size']});const _0x50ea26=this[_0x1d2cdf(0x5ca)]['get'](_0x1c5d43['path'])??[];for(const _0x1935b8 of _0x50ea26)await this[_0x1d2cdf(0x383)](_0x1935b8);this[_0x1d2cdf(0x5ca)][_0x1d2cdf(0x164)](_0x1c5d43[_0x1d2cdf(0x329)]),this['eventListener'][_0x1d2cdf(0x6af)]({'event':_0x5922b0[_0x1d2cdf(0x1b4)],'payload':{'file':{'kind':_0x2d59f3[_0x1d2cdf(0x4d2)],'path':_0x1c5d43[_0x1d2cdf(0x329)],'type':_0x2b7127[_0x1d2cdf(0x1e3)],'size':_0x2b7127[_0x1d2cdf(0x63a)],'name':_0x1c5d43[_0x1d2cdf(0x543)],'pathName':_0x457b47}}});}async[_0x3317da(0x532)](_0x3198c0){const _0x3c8fe7=_0x3317da;await this[_0x3c8fe7(0x502)][_0x3c8fe7(0x52b)](_0x3198c0['path']);const [_0x1a789d,_0x3d2ec7]=_0x3b0fd4(_0x3198c0[_0x3c8fe7(0x329)]);this[_0x3c8fe7(0x1b8)]['publish']({'event':_0x5922b0['FolderCreate'],'payload':{'folder':{'kind':_0x2d59f3[_0x3c8fe7(0x18d)],'name':_0x3d2ec7,'path':_0x1a789d,'pathName':_0x3198c0[_0x3c8fe7(0x329)]}}});}async[_0x3317da(0x24c)](_0x57dce8){const _0x87a6a8=_0x3317da;if(!this[_0x87a6a8(0x6e2)](_0x57dce8))return;const _0x478541=await this['deleteObject'](_0x57dce8['path']),[_0xdc8f44,_0x2c622f]=_0x3b0fd4(_0x57dce8['path']);this[_0x87a6a8(0x1b8)][_0x87a6a8(0x6af)]({'event':_0x478541===_0x2d59f3[_0x87a6a8(0x18d)]?_0x5922b0['FolderDelete']:_0x5922b0[_0x87a6a8(0x694)],'payload':{'name':_0x2c622f,'path':_0xdc8f44,'pathName':_0x57dce8[_0x87a6a8(0x329)]}});}async['handleObjectMove'](_0x1e543d){const _0x50f18d=_0x3317da;if(!this[_0x50f18d(0x6e2)](_0x1e543d))return this[_0x50f18d(0x3da)][_0x50f18d(0x2c2)](_0x1e543d[_0x50f18d(0x63c)],this[_0x50f18d(0x3da)][_0x50f18d(0x1c0)](_0x1e543d[_0x50f18d(0x329)])??_0x1e543d[_0x50f18d(0x329)]),void this[_0x50f18d(0x3da)]['delete'](_0x1e543d['path']);this[_0x50f18d(0x3da)][_0x50f18d(0x164)](_0x1e543d['path']);const _0x1865e5=await this['objectStoreConnector'][_0x50f18d(0x693)](_0x1e543d['path'],_0x1e543d['newPath']),[_0x196baa,_0x42def7]=_0x3b0fd4(_0x1e543d[_0x50f18d(0x329)]),[_0x4c7764,_0x4c321f]=_0x3b0fd4(_0x1e543d['newPath']);this[_0x50f18d(0x1b8)]['publish']({'event':_0x1865e5===_0x2d59f3[_0x50f18d(0x18d)]?_0x5922b0[_0x50f18d(0x4d1)]:_0x5922b0[_0x50f18d(0x50e)],'payload':{'name':_0x4c321f,'path':_0x4c7764,'pathName':_0x1e543d['newPath'],'oldName':_0x42def7,'oldPath':_0x196baa,'oldPathName':_0x1e543d[_0x50f18d(0x329)]}});}[_0x3317da(0x6e2)](_0x695fa){const _0x4dccef=_0x3317da,_0x5d3fc8=this['pendingFilesRename'][_0x4dccef(0x1c0)](_0x695fa[_0x4dccef(0x329)])??_0x695fa[_0x4dccef(0x329)];let _0x351fa1=!0x1;for(const _0x5138a8 of this[_0x4dccef(0x6a8)]['keys']())if(_0x5138a8[_0x4dccef(0x32a)](_0x5d3fc8)){const _0x523897=this[_0x4dccef(0x5ca)][_0x4dccef(0x1c0)](_0x5138a8)??[];_0x523897['push'](_0x695fa),this[_0x4dccef(0x5ca)][_0x4dccef(0x2c2)](_0x5138a8,_0x523897),_0x351fa1=!0x0;}return!_0x351fa1;}async[_0x3317da(0x681)](_0x3cbc28){const _0x274777=_0x3317da;if(!_0x3cbc28['id'])throw new _0x2ba88c(_0x2ba88c[_0x274777(0x4f1)][_0x274777(0x560)],{'message':_0x274777(0x492)});await this[_0x274777(0x5b9)][_0x274777(0x252)](_0x3cbc28,this[_0x274777(0x369)],this[_0x274777(0x280)]),await this[_0x274777(0x6d6)](_0x3cbc28['id']);}async[_0x3317da(0x6d6)](_0x49f801){const _0x50943b=_0x3317da;this['lastTransactionId']=_0x49f801;const _0x2fa9d4=new File([new Blob([this['lastTransactionId']])],_0x509ae7,{'type':_0x50943b(0x562)});await this[_0x50943b(0x4bd)](_0x2fa9d4,'/');}async[_0x3317da(0x4d9)](_0x3823e0){const _0x1a0697=_0x3317da;try{const _0x4bcbec=await this[_0x1a0697(0x1c0)](_0x3823e0['path']+'/'+_0x3823e0[_0x1a0697(0x543)]);if(await _0x39dd23(_0x4bcbec)!==_0x3823e0[_0x1a0697(0x309)])return;_0x3823e0['answererId']=this['ownerId'],_0x3823e0[_0x1a0697(0x377)]=_0x105e16['RequestAccepted'],await this[_0x1a0697(0x452)](_0x3823e0,[_0x3823e0['sourceId']]);}catch(_0x1731b6){}}async['handleFileRequestAnswer'](_0x431baa){const _0x2d6dac=_0x3317da,_0x5ba1f8=_0x1b3c6b(_0x431baa[_0x2d6dac(0x329)],_0x431baa[_0x2d6dac(0x543)]);if(!this[_0x2d6dac(0x150)][_0x2d6dac(0x29e)](_0x5ba1f8))return;const _0x316e9f=this['objectRequests'][_0x2d6dac(0x1c0)](_0x5ba1f8);_0x316e9f[_0x2d6dac(0x377)]=_0x105e16[_0x2d6dac(0x2d3)];const _0x1dd41e=_0x431baa[_0x2d6dac(0x477)];if(!_0x1dd41e)throw new _0x2ba88c(_0x2ba88c[_0x2d6dac(0x4f1)][_0x2d6dac(0x560)],{'message':_0x2d6dac(0x43a)});this[_0x2d6dac(0x150)]['delete'](_0x5ba1f8),this[_0x2d6dac(0x2da)][_0x2d6dac(0x29e)](_0x1dd41e)||this[_0x2d6dac(0x2da)][_0x2d6dac(0x2c2)](_0x1dd41e,new Map()),this['pendingFilesSyncing'][_0x2d6dac(0x1c0)](_0x1dd41e)['set'](_0x5ba1f8,[_0x316e9f,this[_0x2d6dac(0x47b)](_0x1dd41e,_0x5ba1f8)]),_0x316e9f[_0x2d6dac(0x477)]=_0x1dd41e,this[_0x2d6dac(0x452)](_0x316e9f,[_0x1dd41e]);}async[_0x3317da(0x705)](_0xf9437c){const _0x4c2a83=_0x3317da,_0x4ab205=_0x1b3c6b(_0xf9437c['path'],_0xf9437c[_0x4c2a83(0x543)]),_0x3007ac=await this[_0x4c2a83(0x1c0)](_0x4ab205),_0x47be60={..._0xf9437c,'answererId':this['ownerId'],'action':_0x105e16[_0x4c2a83(0x522)]};await this[_0x4c2a83(0x425)](_0x3007ac,_0x47be60,[_0xf9437c[_0x4c2a83(0x396)]]);}async[_0x3317da(0x425)](_0x34368b,_0x142a9d,_0x13e39f){const _0x4ad7dd=_0x3317da,_0x581f1f=await _0x1679ed(_0x34368b);for(const [_0x412083,_0x349832]of _0x581f1f[_0x4ad7dd(0x456)]()){const _0x16564f={..._0x142a9d,'type':_0x34368b[_0x4ad7dd(0x1e3)],'data':_0x349832,'index':_0x412083,'total':_0x581f1f[_0x4ad7dd(0x43f)]};this[_0x4ad7dd(0x452)](_0x16564f,_0x13e39f);}}async[_0x3317da(0x3b1)](_0x2fd30d){const _0x13837a=_0x3317da;try{const _0x44403e=_0x1b3c6b(_0x2fd30d[_0x13837a(0x329)],_0x2fd30d[_0x13837a(0x543)]),_0x3031a3=_0x44403e+_0x3a57a3;await this['deleteObject'](_0x3031a3);const [,_0x32f364]=this[_0x13837a(0x2da)][_0x13837a(0x1c0)](_0x2fd30d[_0x13837a(0x477)])?.['get'](_0x44403e)??[];_0x32f364&&(clearTimeout(_0x32f364),this[_0x13837a(0x2da)]['get'](_0x2fd30d['answererId'])[_0x13837a(0x164)](_0x44403e));}catch(_0x5e8315){}}async[_0x3317da(0x375)](){const _0x4d7699=_0x3317da,_0x5c5886=await this['transactionService'][_0x4d7699(0x5ed)](this[_0x4d7699(0x369)],this[_0x4d7699(0x280)]);for(const _0x5909ae of _0x5c5886)await this[_0x4d7699(0x5ff)](_0x5909ae);}async['syncPendingFiles'](){const _0x49abc9=_0x3317da,_0x33471f=await this[_0x49abc9(0x5c4)]('/',!0x0,!0x0),_0x6aae15=async _0x2264d4=>{const _0x488584=_0x49abc9;for(const _0x26f581 of _0x2264d4){if(_0x26f581[_0x488584(0x3dd)]===_0x2d59f3[_0x488584(0x18d)]){_0x26f581[_0x488584(0x456)]&&_0x26f581[_0x488584(0x456)]['length']>0x0&&await _0x6aae15(_0x26f581[_0x488584(0x456)]);continue;}if(!_0x26f581[_0x488584(0x543)][_0x488584(0x60c)](_0x3a57a3))continue;const _0xe794da=await this[_0x488584(0x1c0)](_0x26f581[_0x488584(0x572)]),_0x188ae8=await _0xe794da[_0x488584(0x180)](),_0x5ae66f=_0x26f581['name'][_0x488584(0x71d)](_0x3a57a3,''),_0x51a080={'payloadType':_0x382d6d[_0x488584(0x597)],'action':_0x105e16[_0x488584(0x357)],'sourceId':this[_0x488584(0x6aa)],'type':'','path':_0x26f581['path'],'name':_0x5ae66f,'checksum':_0x188ae8},_0x3f440e=_0x1b3c6b(_0x26f581[_0x488584(0x329)],_0x5ae66f);this[_0x488584(0x150)]['set'](_0x3f440e,_0x51a080);}};await _0x6aae15(_0x33471f);}async[_0x3317da(0x3d4)](_0x23a287){const _0x522b9f=_0x3317da,_0x50e205=new File([new Blob([_0x23a287['checksum']])],''+_0x23a287['name']+_0x3a57a3,{'type':'text/plain'});await this[_0x522b9f(0x4bd)](_0x50e205,_0x23a287[_0x522b9f(0x329)]);}[_0x3317da(0x47b)](_0x321b5e,_0x213eee){const _0x15f4ec=_0x3317da,[_0xca722f,_0x136b2a]=this[_0x15f4ec(0x2da)][_0x15f4ec(0x1c0)](_0x321b5e)?.['get'](_0x213eee)??[];return _0x136b2a&&clearTimeout(_0x136b2a),window['setTimeout'](()=>{const _0xbc16d6=_0x15f4ec,[_0x323b2d,_0x3014ea]=this[_0xbc16d6(0x2da)][_0xbc16d6(0x1c0)](_0x321b5e)[_0xbc16d6(0x1c0)](_0x213eee);this[_0xbc16d6(0x580)](_0x323b2d,_0x3014ea);},0xea60);}async[_0x3317da(0x580)](_0x4bddf8,_0x128c22){const _0x1c4615=_0x3317da;clearTimeout(_0x128c22),_0x4bddf8[_0x1c4615(0x377)]=_0x105e16[_0x1c4615(0x357)],this['objectRequests'][_0x1c4615(0x2c2)](_0x1b3c6b(_0x4bddf8[_0x1c4615(0x329)],_0x4bddf8[_0x1c4615(0x543)]),_0x4bddf8),this[_0x1c4615(0x452)](_0x4bddf8);}[_0x3317da(0x2ce)](_0x2e61ba,_0x1b9cbf){const _0x4dd8bd=_0x3317da;this[_0x4dd8bd(0x2da)][_0x4dd8bd(0x29e)](_0x2e61ba[_0x4dd8bd(0x477)])||this[_0x4dd8bd(0x2da)][_0x4dd8bd(0x2c2)](_0x2e61ba[_0x4dd8bd(0x477)],new Map());const [_0x58a206]=this['pendingFilesSyncing'][_0x4dd8bd(0x1c0)](_0x2e61ba[_0x4dd8bd(0x477)])[_0x4dd8bd(0x1c0)](_0x1b9cbf)??[{'payloadType':_0x382d6d['Request'],'action':_0x105e16['RequestFile'],'sourceId':this[_0x4dd8bd(0x6aa)],'type':_0x2e61ba[_0x4dd8bd(0x1e3)],'name':_0x2e61ba['name'],'path':_0x2e61ba[_0x4dd8bd(0x329)],'checksum':_0x2e61ba[_0x4dd8bd(0x309)],'answererId':_0x2e61ba[_0x4dd8bd(0x477)]}];this[_0x4dd8bd(0x2da)][_0x4dd8bd(0x1c0)](_0x2e61ba[_0x4dd8bd(0x477)])['set'](_0x1b9cbf,[_0x58a206,this[_0x4dd8bd(0x47b)](_0x2e61ba[_0x4dd8bd(0x477)],_0x1b9cbf)]);}async[_0x3317da(0x4bd)](_0x20a4dc,_0x42cffa){const _0x4a45fa=_0x3317da;await this[_0x4a45fa(0x502)][_0x4a45fa(0x4bd)](_0x20a4dc,_0x42cffa),this[_0x4a45fa(0x493)]();}async[_0x3317da(0x45f)](_0x175e0c){const _0x57685c=_0x3317da,_0x536bb9=await this[_0x57685c(0x502)][_0x57685c(0x45f)](_0x175e0c);return this[_0x57685c(0x493)](),_0x536bb9;}[_0x3317da(0x493)](){const _0x2e8799=_0x3317da;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x2e8799(0x236)]=window[_0x2e8799(0x472)](async()=>{const _0x47edd8=_0x2e8799;delete this[_0x47edd8(0x236)];const _0x5bd353=await this['objectStoreConnector'][_0x47edd8(0x1a2)]('/');this[_0x47edd8(0x576)]?.[_0x47edd8(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x47edd8(0x27b)],'content':{'type':_0x167820[_0x47edd8(0x284)],'label':this[_0x47edd8(0x369)],'stats':{'timestamp':Date[_0x47edd8(0x6dd)](),'storage':_0x5bd353,'messagesSent':this[_0x47edd8(0x611)],'messagesReceived':this[_0x47edd8(0x364)],'bytesSent':this[_0x47edd8(0x64f)],'bytesReceived':this[_0x47edd8(0x3bf)],'writes':this[_0x47edd8(0x58d)],'reads':this[_0x47edd8(0x4df)]}}}),_0x546907[_0x47edd8(0x1aa)](_0x2fb3cb[_0x47edd8(0x5b1)],this[_0x47edd8(0x369)],_0x5bd353);},0x1388);}}class _0x4176e3 extends _0x4c05e1{[_0x3317da(0x6f7)];constructor(_0x330f95,_0x3ba673,_0x3b82cc){const _0x3176d8=_0x3317da;super(_0x330f95,_0x3ba673),this[_0x3176d8(0x6f7)]=_0x3b82cc;}[_0x3317da(0x262)](){const _0x22d526=_0x3317da;return _0x12c3f7[_0x22d526(0x14b)];}[_0x3317da(0x23f)](){return this['mediaStream'];}[_0x3317da(0x4c8)](){const _0x4db5d9=_0x3317da;return this[_0x4db5d9(0x6f7)]['id'];}}class _0x3ae27a extends _0x4176e3{[_0x3317da(0x701)];[_0x3317da(0x5f6)];[_0x3317da(0x283)];['unregisterPublisherListener']=_0x4dbd80();constructor(_0x1659e1,_0x7c53af,_0x4e95db,_0x1487c7,_0x3ffc69){const _0x3c3168=_0x3317da;super(_0x1659e1,_0x7c53af,_0x4e95db),this[_0x3c3168(0x701)]=_0x1487c7,this[_0x3c3168(0x5f6)]=_0x3ffc69;}[_0x3317da(0x6b8)](){const _0x25adec=_0x3317da;this[_0x25adec(0x4a8)](_0x25adec(0x34d)),this[_0x25adec(0x4a8)](_0x25adec(0x2ca)),super[_0x25adec(0x6b8)]();}['addTrack'](_0x2324ad){const _0x5e968e=_0x3317da;if(!this[_0x5e968e(0x283)])throw new _0x2ba88c(_0x2ba88c[_0x5e968e(0x4f1)][_0x5e968e(0x5bf)],{'label':this[_0x5e968e(0x369)],'ownerId':this[_0x5e968e(0x6aa)],'remoteId':this[_0x5e968e(0x701)]});this[_0x5e968e(0x283)][_0x5e968e(0x6af)]({'sourceId':this[_0x5e968e(0x6aa)],'content':{'action':_0x34dd11[_0x5e968e(0x638)],'track':_0x2324ad,'stream':this['mediaStream'],'priority':_0x46ba21[_0x5e968e(0x440)],'params':this[_0x5e968e(0x31c)](_0x2324ad[_0x5e968e(0x3dd)],this[_0x5e968e(0x5f6)])}});}['removeTrack'](_0x2a204e){const _0x43a940=_0x3317da,_0x46d875=this[_0x43a940(0x448)](_0x2a204e);if(_0x46d875){if(!this[_0x43a940(0x283)])return null;this['topic'][_0x43a940(0x6af)]({'sourceId':this[_0x43a940(0x6aa)],'content':{'action':_0x34dd11[_0x43a940(0x26a)],'track':_0x46d875,'stream':this[_0x43a940(0x6f7)]}});}return _0x46d875;}[_0x3317da(0x39e)](_0x5f2cc3){const _0x13f6ef=_0x3317da;if(!this[_0x13f6ef(0x283)])throw new _0x2ba88c(_0x2ba88c[_0x13f6ef(0x4f1)][_0x13f6ef(0x5bf)],{'label':this['label'],'ownerId':this[_0x13f6ef(0x6aa)],'remoteId':this[_0x13f6ef(0x701)]});this[_0x13f6ef(0x283)][_0x13f6ef(0x6af)]({'sourceId':this[_0x13f6ef(0x6aa)],'content':{'action':_0x34dd11[_0x13f6ef(0x324)],'priority':_0x5f2cc3,'stream':this['mediaStream']}});}[_0x3317da(0x650)]({trackKinds:_0x29fc15,params:_0x2094af},_0x167757){const _0x45fc15=_0x3317da;if(!this[_0x45fc15(0x283)])throw new _0x2ba88c(_0x2ba88c[_0x45fc15(0x4f1)][_0x45fc15(0x5bf)],{'label':this[_0x45fc15(0x369)],'ownerId':this['ownerId'],'remoteId':this[_0x45fc15(0x701)]});for(const _0x1caa60 of this['mediaStream'][_0x45fc15(0x3e2)]())_0x29fc15[_0x45fc15(0x32e)](_0x1caa60[_0x45fc15(0x3dd)])&&this['topic']['publish']({'sourceId':this['ownerId'],'content':{'action':_0x34dd11[_0x45fc15(0x638)],'track':_0x1caa60,'stream':this[_0x45fc15(0x6f7)],'priority':_0x167757,'params':this[_0x45fc15(0x31c)](_0x1caa60[_0x45fc15(0x3dd)],_0x2094af)}});}['update']({params:_0x5aae4d}){const _0x155a08=_0x3317da;if(!this['topic'])throw new _0x2ba88c(_0x2ba88c[_0x155a08(0x4f1)][_0x155a08(0x5bf)],{'label':this[_0x155a08(0x369)],'ownerId':this[_0x155a08(0x6aa)],'remoteId':this[_0x155a08(0x701)]});for(const _0x5e6573 of this[_0x155a08(0x6f7)][_0x155a08(0x3e2)]())this['topic']['publish']({'sourceId':this['ownerId'],'content':{'action':_0x34dd11['Update'],'stream':this[_0x155a08(0x6f7)],'params':this[_0x155a08(0x31c)](_0x5e6573[_0x155a08(0x3dd)],_0x5aae4d)}});}[_0x3317da(0x295)]({trackKinds:_0xb4a598}){const _0x382955=_0x3317da;if(this[_0x382955(0x283)]){for(const _0x2a0c06 of this[_0x382955(0x6f7)][_0x382955(0x3e2)]())_0xb4a598[_0x382955(0x32e)](_0x2a0c06[_0x382955(0x3dd)])&&this[_0x382955(0x283)]['publish']({'sourceId':this[_0x382955(0x6aa)],'content':{'action':_0x34dd11[_0x382955(0x26a)],'stream':this[_0x382955(0x6f7)],'track':_0x2a0c06}});}}['registerPublisher'](_0xb70420){const _0x37b0a0=_0x3317da;this[_0x37b0a0(0x283)]=_0xb70420;}[_0x3317da(0x3ec)](_0x923b09){const _0xdb1e3f=_0x3317da;_0x923b09===this[_0xdb1e3f(0x283)]&&(delete this['topic'],this[_0xdb1e3f(0x453)][_0xdb1e3f(0x6af)]());}[_0x3317da(0x4d4)](_0x5adbfa){const _0x5b1503=_0x3317da;return this['unregisterPublisherListener'][_0x5b1503(0x650)](_0x5adbfa);}[_0x3317da(0x448)](_0x6e5720){const _0x26478d=_0x3317da;return this['mediaStream']['getTracks']()[_0x26478d(0x657)](_0x30e824=>_0x30e824[_0x26478d(0x3dd)]===_0x6e5720)||null;}[_0x3317da(0x31c)](_0x2ed15d,_0x5c47bc){const _0x316ece=_0x3317da;let _0x5ca29c;return _0x316ece(0x2ca)===_0x2ed15d&&_0x5c47bc?.[_0x316ece(0x2ca)]&&_0x316ece(0x3c5)!=typeof _0x5c47bc['video']&&(_0x5ca29c={'kind':'video',..._0x5c47bc[_0x316ece(0x2ca)]},_0x5ca29c[_0x316ece(0x3a4)]=this[_0x316ece(0x6b9)]()),'audio'===_0x2ed15d&&_0x5c47bc?.[_0x316ece(0x34d)]&&'boolean'!=typeof _0x5c47bc[_0x316ece(0x34d)]&&(_0x5ca29c={'kind':_0x316ece(0x34d),..._0x5c47bc['audio']}),_0x5ca29c;}[_0x3317da(0x6b9)](){const _0x490f63=_0x3317da;let _0x4b58e5={'width':0x0,'height':0x0};const _0x407e6a=this[_0x490f63(0x6f7)][_0x490f63(0x4ad)]();if(_0x407e6a[_0x490f63(0x43f)]>0x0){const _0x1993a4=_0x407e6a[0x0][_0x490f63(0x56e)]();_0x1993a4[_0x490f63(0x503)]&&_0x1993a4[_0x490f63(0x167)]&&(_0x4b58e5={'width':_0x1993a4['width'],'height':_0x1993a4['height']});}return _0x4b58e5;}}class _0x30a277 extends _0x4176e3{[_0x3317da(0x328)]=_0x46ba21['Default'];['trackEndedListeners']=new Map();['outgoingStreams']=new Map();constructor(_0xd3de6c,_0x11f13b,_0x4914b9){const _0x5ca1ec=_0x3317da;super(_0xd3de6c,_0x11f13b,_0x4914b9 instanceof MediaStream?_0x4914b9:_0x4914b9[_0x5ca1ec(0x615)]?_0x4914b9[_0x5ca1ec(0x615)]:_0x4914b9['captureStream']()),this[_0x5ca1ec(0x6f7)][_0x5ca1ec(0x3e2)]()[_0x5ca1ec(0x505)](_0x3d0fd3=>this[_0x5ca1ec(0x313)](_0x3d0fd3)),_0x546907[_0x5ca1ec(0x28e)](_0x2fb3cb['MediaStream'],{'type':_0x5ca1ec(0x6af),'label':this[_0x5ca1ec(0x369)],'userId':this[_0x5ca1ec(0x6aa)],'streamId':this[_0x5ca1ec(0x4c8)](),'trackKinds':this['mediaStream'][_0x5ca1ec(0x3e2)]()[_0x5ca1ec(0x488)](_0x32cde5=>_0x32cde5[_0x5ca1ec(0x3dd)])});}['destroy'](){const _0x222fc7=_0x3317da;this[_0x222fc7(0x579)][_0x222fc7(0x63a)]>0x0&&(this['outgoingStreams'][_0x222fc7(0x505)](_0x1b0582=>{const _0x39da3d=_0x222fc7;_0x1b0582['unregisterSystemPublisher'](),_0x1b0582[_0x39da3d(0x6b8)]();}),this['outgoingStreams'][_0x222fc7(0x299)]()),this[_0x222fc7(0x3d2)][_0x222fc7(0x505)](_0x1e9081=>_0x1e9081()),super[_0x222fc7(0x6b8)]();}[_0x3317da(0x6af)](_0x55a7d7){const _0x2957d5=_0x3317da;this[_0x2957d5(0x576)][_0x2957d5(0x6af)]({'sourceId':this[_0x2957d5(0x6aa)],'destinationIds':_0x55a7d7?[_0x55a7d7]:void 0x0,'propagate':!0x0,'messageType':_0x1c4d06[_0x2957d5(0x27b)],'content':{'type':_0x167820['PublishMediaStream'],'ownerId':this[_0x2957d5(0x6aa)],'label':this[_0x2957d5(0x369)],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this[_0x2957d5(0x6f7)][_0x2957d5(0x3e2)]()[_0x2957d5(0x488)](_0x324d88=>_0x324d88['kind'])}}});}[_0x3317da(0x3ed)](){const _0x2d29a4=_0x3317da;this['systemTopic']['publish']({'sourceId':this[_0x2d29a4(0x6aa)],'propagate':!0x0,'messageType':_0x1c4d06[_0x2d29a4(0x27b)],'content':{'type':_0x167820[_0x2d29a4(0x65b)],'ownerId':this[_0x2d29a4(0x6aa)],'label':this[_0x2d29a4(0x369)]}}),this[_0x2d29a4(0x576)][_0x2d29a4(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x2d29a4(0x27b)],'content':{'type':_0x167820['CloseMediaStream'],'label':this[_0x2d29a4(0x369)]}}),_0x546907[_0x2d29a4(0x28e)](_0x2fb3cb[_0x2d29a4(0x1dc)],{'type':_0x2d29a4(0x3ed),'label':this[_0x2d29a4(0x369)],'userId':this[_0x2d29a4(0x6aa)],'streamId':this[_0x2d29a4(0x4c8)]()});}[_0x3317da(0x16a)](){const _0xf61b8f=_0x3317da;return this[_0xf61b8f(0x328)];}[_0x3317da(0x39e)](_0x3efb12){const _0x37e7cd=_0x3317da;this['priority']=_0x3efb12,this['outgoingStreams']['forEach'](_0x3671ac=>_0x3671ac[_0x37e7cd(0x39e)](_0x3efb12));}[_0x3317da(0x3aa)](_0x2675d7,_0x5d0d83){const _0x52bc49=_0x3317da;if(!this[_0x52bc49(0x579)][_0x52bc49(0x29e)](_0x2675d7)){const _0xa4585c=new _0x3ae27a(this[_0x52bc49(0x6aa)],this[_0x52bc49(0x369)],this[_0x52bc49(0x6f7)],_0x2675d7,_0x5d0d83),_0x2ab97b=_0xa4585c[_0x52bc49(0x4d4)](()=>{const _0x3800a4=_0x52bc49;_0x2ab97b(),this[_0x3800a4(0x579)][_0x3800a4(0x1c0)](_0x2675d7)?.[_0x3800a4(0x6b8)](),this['outgoingStreams'][_0x3800a4(0x164)](_0x2675d7);});this[_0x52bc49(0x579)][_0x52bc49(0x2c2)](_0x2675d7,_0xa4585c),_0xa4585c[_0x52bc49(0x592)](this[_0x52bc49(0x576)]);}return this['outgoingStreams']['get'](_0x2675d7);}[_0x3317da(0x37e)](){const _0x586d7a=_0x3317da;return this[_0x586d7a(0x6f7)]['id'];}['handleLocalTrackFailure'](_0x4dae6b){const _0x3aa6d3=_0x3317da;this[_0x3aa6d3(0x576)][_0x3aa6d3(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x3aa6d3(0x27b)],'content':{'type':_0x167820[_0x3aa6d3(0x6d5)],'label':this[_0x3aa6d3(0x369)],'trackKinds':[_0x4dae6b[_0x3aa6d3(0x3dd)]]}});}[_0x3317da(0x313)](_0x358b18){const _0x374731=_0x3317da,_0x7b8a0d=()=>this[_0x374731(0x640)](_0x358b18);_0x358b18['addEventListener'](_0x374731(0x494),_0x7b8a0d),_0x358b18[_0x374731(0x6f4)](_0x374731(0x21f),_0x7b8a0d),this['trackEndedListeners'][_0x374731(0x2c2)](_0x358b18[_0x374731(0x3dd)],()=>{const _0x16008c=_0x374731;_0x358b18['removeEventListener'](_0x16008c(0x494),_0x7b8a0d),_0x358b18[_0x16008c(0x5c3)](_0x16008c(0x21f),_0x7b8a0d),this[_0x16008c(0x3d2)]['delete'](_0x358b18['kind']);});}}class _0x2af9a3 extends _0x30a277{[_0x3317da(0x679)];[_0x3317da(0x715)]=[];[_0x3317da(0x4ca)];[_0x3317da(0x2de)];[_0x3317da(0x3db)];[_0x3317da(0x687)];['canvas'];[_0x3317da(0x54a)];[_0x3317da(0x6f6)];constructor(_0x5aa571,_0x6e1ca3,_0x440b57,_0x3ffe8c,_0x5f3627){const _0x2cca47=_0x3317da;if(super(_0x5aa571,_0x6e1ca3,_0x440b57),this['audioContext']=_0x5f3627,this['clientStream']=this[_0x2cca47(0x6f7)],this[_0x2cca47(0x687)]=document[_0x2cca47(0x189)](_0x2cca47(0x2ca)),this[_0x2cca47(0x687)][_0x2cca47(0x1c2)]=!0x0,this[_0x2cca47(0x687)][_0x2cca47(0x3e8)]=!0x0,this[_0x2cca47(0x687)][_0x2cca47(0x615)]=this[_0x2cca47(0x4ca)],this['sourceVideo'][_0x2cca47(0x2c4)](),this['sourceVideo'][_0x2cca47(0x17e)]=()=>{const _0x7b0329=_0x2cca47;this[_0x7b0329(0x687)][_0x7b0329(0x157)]();},this['canvas']=document[_0x2cca47(0x189)](_0x2cca47(0x2ae)),this[_0x2cca47(0x54a)]=this['canvas'][_0x2cca47(0x56a)]('2d'),this['mediaStream']=this[_0x2cca47(0x2ae)][_0x2cca47(0x30f)](_0x3ffe8c),this['audioDestination']=this[_0x2cca47(0x679)][_0x2cca47(0x71a)](),this[_0x2cca47(0x4ca)][_0x2cca47(0x566)]()[_0x2cca47(0x43f)]>0x0){const _0x2b3d31=this[_0x2cca47(0x4ca)]['getAudioTracks']()[0x0];this[_0x2cca47(0x2de)]=this['audioContext'][_0x2cca47(0x26d)](new MediaStream([_0x2b3d31])),this['audioSource']['connect'](this[_0x2cca47(0x3db)]);}const _0x4c072d=this[_0x2cca47(0x3db)][_0x2cca47(0x610)][_0x2cca47(0x3e2)]()[0x0];this[_0x2cca47(0x6f7)]['addTrack'](_0x4c072d),this['interval']=setInterval(()=>{const _0x160182=_0x2cca47;this[_0x160182(0x2ae)]['width']=this[_0x160182(0x687)][_0x160182(0x59e)],this[_0x160182(0x2ae)][_0x160182(0x167)]=this[_0x160182(0x687)][_0x160182(0x325)],this[_0x160182(0x687)][_0x160182(0x59e)]?(0x0!==this['clientStream'][_0x160182(0x4ad)]()[_0x160182(0x43f)]&&this['clientStream'][_0x160182(0x4ad)]()[0x0][_0x160182(0x583)]?this[_0x160182(0x6f7)]['getVideoTracks']()[0x0][_0x160182(0x583)]=!0x0:this[_0x160182(0x6f7)][_0x160182(0x4ad)]()[0x0][_0x160182(0x583)]=!0x1,0x0!==this[_0x160182(0x4ca)][_0x160182(0x566)]()[_0x160182(0x43f)]&&this[_0x160182(0x4ca)]['getAudioTracks']()[0x0][_0x160182(0x583)]?this[_0x160182(0x6f7)][_0x160182(0x566)]()[0x0]['enabled']=!0x0:this['mediaStream'][_0x160182(0x566)]()[0x0]['enabled']=!0x1,this[_0x160182(0x54a)][_0x160182(0x4de)](this['sourceVideo'],0x0,0x0)):this[_0x160182(0x54a)][_0x160182(0x627)](0x0,0x0,this[_0x160182(0x2ae)][_0x160182(0x503)],this[_0x160182(0x2ae)][_0x160182(0x167)]);},0x3e8/_0x3ffe8c);}[_0x3317da(0x6b8)](){const _0x37a821=_0x3317da;clearInterval(this[_0x37a821(0x6f6)]),this['sourceVideo'][_0x37a821(0x41e)](),this['canvas']['remove'](),this[_0x37a821(0x2de)]?.[_0x37a821(0x2e9)](),this[_0x37a821(0x3db)][_0x37a821(0x2e9)](),this[_0x37a821(0x6f7)]['getTracks']()[_0x37a821(0x505)](_0x33b899=>{const _0x4725a1=_0x37a821;_0x33b899[_0x4725a1(0x297)](),this['mediaStream'][_0x4725a1(0x4a8)](_0x33b899);}),super[_0x37a821(0x6b8)]();}[_0x3317da(0x213)](_0x219458){const _0x176791=_0x3317da,_0x2048d0=this['getTrack'](_0x219458[_0x176791(0x3dd)]);_0x2048d0&&this[_0x176791(0x4a8)](_0x2048d0),'audio'!==_0x219458[_0x176791(0x3dd)]?(_0x176791(0x2ca)===_0x219458[_0x176791(0x3dd)]&&this[_0x176791(0x2b7)](_0x219458),this[_0x176791(0x313)](_0x219458)):this[_0x176791(0x514)](_0x219458);}[_0x3317da(0x4a8)](_0x363e35){const _0xdb5857=_0x3317da,_0x2d7ef4=this['getTrackFromParam'](_0x363e35);return _0x2d7ef4&&(_0xdb5857(0x34d)===_0x2d7ef4[_0xdb5857(0x3dd)]&&(this[_0xdb5857(0x2de)]?.['disconnect'](),this[_0xdb5857(0x2de)]=void 0x0),this[_0xdb5857(0x3d2)][_0xdb5857(0x1c0)](_0x2d7ef4['kind'])?.(),this[_0xdb5857(0x4ca)][_0xdb5857(0x4a8)](_0x2d7ef4)),_0x2d7ef4;}[_0x3317da(0x702)](_0x38e156){const _0x4237bf=_0x3317da;this['removeTrack'](_0x38e156[_0x4237bf(0x3dd)]),this[_0x4237bf(0x213)](_0x38e156);}[_0x3317da(0x6a6)](_0x16f049){const _0x3db87e=_0x3317da;this[_0x3db87e(0x715)]=_0x16f049;}['getTrack'](_0x381e7e){const _0xc4983a=_0x3317da;return this[_0xc4983a(0x4ca)][_0xc4983a(0x3e2)]()[_0xc4983a(0x657)](_0x1f461c=>_0x1f461c[_0xc4983a(0x3dd)]===_0x381e7e)||null;}[_0x3317da(0x3ee)](_0x5ae121){const _0x222a09=_0x3317da;return _0x222a09(0x368)==typeof _0x5ae121?this['getTrack'](_0x5ae121):_0x5ae121;}[_0x3317da(0x514)](_0x4b453c){const _0x2b27dc=_0x3317da;'suspended'===this['audioContext'][_0x2b27dc(0x45d)]&&this[_0x2b27dc(0x679)][_0x2b27dc(0x384)](),this['clientStream'][_0x2b27dc(0x213)](_0x4b453c),this['audioSource']=this[_0x2b27dc(0x679)][_0x2b27dc(0x26d)](this['clientStream']),this[_0x2b27dc(0x2de)][_0x2b27dc(0x66a)](this[_0x2b27dc(0x3db)]);}[_0x3317da(0x2b7)](_0x44cf11){const _0x1a4473=_0x3317da;this[_0x1a4473(0x4ca)][_0x1a4473(0x213)](_0x44cf11),this['sourceVideo'][_0x1a4473(0x2c4)]();}}class _0x48fac9 extends _0x30a277{}class _0x9c58ca extends _0x36e558{[_0x3317da(0x407)]=new Map();[_0x3317da(0x236)];constructor(_0x2d3452,_0x5af0fc){const _0x53f724=_0x3317da;if(_0x53f724(0x368)!=typeof _0x5af0fc)throw new _0xb069c2(_0x1193d2[_0x53f724(0x3fb)],_0x53f724(0x1ab));super(_0x2d3452,_0x5af0fc);}[_0x3317da(0x262)](){const _0xa4b4e0=_0x3317da;return _0x12c3f7[_0xa4b4e0(0x47f)];}[_0x3317da(0x6af)](_0x388802,_0x5005df){const _0x48fd3a=_0x3317da;_0x546907['log'](_0xea19ad[_0x48fd3a(0x47f)],_0x48fd3a(0x555),this[_0x48fd3a(0x6aa)],_0x388802,_0x5005df),_0x546907[_0x48fd3a(0x28e)](_0x2fb3cb[_0x48fd3a(0x47f)],{'type':_0x48fd3a(0x6af),'label':this[_0x48fd3a(0x369)],'userId':this['ownerId'],'remoteIds':_0x5005df??[],'contentType':_0x388802 instanceof File?_0x12c3f7['File']:_0x12c3f7[_0x48fd3a(0x527)],'size':_0x388802 instanceof File?_0x388802[_0x48fd3a(0x63a)]:JSON[_0x48fd3a(0x461)](_0x388802)[_0x48fd3a(0x43f)]}),this[_0x48fd3a(0x493)](),this[_0x48fd3a(0x452)](_0x388802,_0x5005df);}['subscribe'](_0x464170,_0x1824e4){const _0xb90aa9=_0x3317da;if(this[_0xb90aa9(0x407)][_0xb90aa9(0x29e)](_0x464170))throw new _0xb069c2(_0x1193d2['PubSubTopicAlreadySubscribed'],_0xb90aa9(0x372));this[_0xb90aa9(0x407)][_0xb90aa9(0x2c2)](_0x464170,this[_0xb90aa9(0x470)]((_0x513d90,_0x5e0d96)=>{const _0x206f5c=_0xb90aa9;_0x206f5c(0x1ed)===_0x464170&&_0x5e0d96 instanceof File||!(_0x206f5c(0x3b4)!==_0x464170||_0x5e0d96 instanceof File)||(_0x546907[_0x206f5c(0x614)](_0xea19ad['PubSub'],_0x206f5c(0x658),this['ownerId'],_0x513d90,_0x5e0d96),_0x546907[_0x206f5c(0x28e)](_0x2fb3cb[_0x206f5c(0x47f)],{'type':_0x206f5c(0x650),'label':this[_0x206f5c(0x369)],'userId':this[_0x206f5c(0x6aa)],'remoteId':_0x513d90,'contentType':_0x464170,'size':_0x5e0d96 instanceof File?_0x5e0d96[_0x206f5c(0x63a)]:JSON['stringify'](_0x5e0d96)[_0x206f5c(0x43f)]}),this[_0x206f5c(0x493)](),_0x1824e4(_0x513d90,_0x5e0d96));}));}[_0x3317da(0x295)](_0x21067c){const _0x44b79b=_0x3317da;this[_0x44b79b(0x407)]['get'](_0x21067c)?.(),this[_0x44b79b(0x407)]['delete'](_0x21067c);}[_0x3317da(0x6b8)](){const _0x3f70c8=_0x3317da;this[_0x3f70c8(0x407)][_0x3f70c8(0x505)](_0x23110d=>_0x23110d()),clearTimeout(this['debounceStats']),delete this[_0x3f70c8(0x236)],super[_0x3f70c8(0x6b8)]();}[_0x3317da(0x35e)](){const _0x557d9f=_0x3317da;this['systemTopic']?.[_0x557d9f(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x557d9f(0x27b)],'content':{'type':_0x167820[_0x557d9f(0x5a8)],'label':this['label']}});}[_0x3317da(0x493)](){const _0x2bea0b=_0x3317da;this['debounceStats']&&clearTimeout(this[_0x2bea0b(0x236)]),this[_0x2bea0b(0x236)]=window['setTimeout'](()=>{const _0x35ac26=_0x2bea0b;this[_0x35ac26(0x576)]?.[_0x35ac26(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06['Content'],'content':{'type':_0x167820['PubSubTopicStats'],'label':this[_0x35ac26(0x369)],'stats':{'timestamp':Date[_0x35ac26(0x6dd)](),'storage':0x0,'messagesSent':this[_0x35ac26(0x611)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x35ac26(0x64f)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x7f6354 extends _0x4176e3{[_0x3317da(0x3d5)];['internalId'];[_0x3317da(0x56c)];['unsubscribeHandler'];[_0x3317da(0x489)];[_0x3317da(0x465)];[_0x3317da(0x579)]=new Map();['renderElement'];[_0x3317da(0x311)]=new Set();[_0x3317da(0x374)];[_0x3317da(0x40f)]=_0x2d6d4d();[_0x3317da(0x3d2)]=new Map();constructor(_0x39f4ae,_0x435933,_0x36fb07,_0x239572,_0x2a1949){const _0x15ab6b=_0x3317da;super(_0x435933,_0x36fb07,new MediaStream()),this[_0x15ab6b(0x3d5)]=_0x39f4ae,this[_0x15ab6b(0x1f5)]=_0x239572,this['availableTrackKinds']=_0x2a1949,this['mediaStream']['getTracks']()[_0x15ab6b(0x505)](_0x301c3d=>this[_0x15ab6b(0x313)](_0x301c3d));}[_0x3317da(0x6b8)](){const _0x4754fb=_0x3317da;this[_0x4754fb(0x579)][_0x4754fb(0x63a)]>0x0&&(this['outgoingStreams'][_0x4754fb(0x505)](_0x2b84d0=>{const _0x3211aa=_0x4754fb;_0x2b84d0['unregisterSystemPublisher'](),_0x2b84d0[_0x3211aa(0x6b8)]();}),this[_0x4754fb(0x579)][_0x4754fb(0x299)]()),this[_0x4754fb(0x3d2)]['forEach'](_0x17d85c=>_0x17d85c()),this['mediaStream'][_0x4754fb(0x3e2)]()[_0x4754fb(0x505)](_0x49cf8e=>this[_0x4754fb(0x6f7)][_0x4754fb(0x4a8)](_0x49cf8e)),this[_0x4754fb(0x465)]&&(clearTimeout(this[_0x4754fb(0x465)]),delete this['updateDebounce']),this[_0x4754fb(0x489)]?.(),super[_0x4754fb(0x6b8)]();}[_0x3317da(0x557)](_0x305cf2){const _0x43f918=_0x3317da;this[_0x43f918(0x407)]=_0x305cf2[_0x43f918(0x650)](({content:_0x1c8268})=>{const _0x528c39=_0x43f918;switch(_0x1c8268[_0x528c39(0x377)]){case _0x34dd11[_0x528c39(0x58a)]:if(_0x546907[_0x528c39(0x614)](_0xea19ad[_0x528c39(0x1ff)],_0x528c39(0x486),this['localId'],this[_0x528c39(0x374)]),_0x1c8268[_0x528c39(0x610)]['id']!==this[_0x528c39(0x1f5)]||_0x1c8268['providerId']!==this[_0x528c39(0x374)])return;this['removeTrack'](_0x1c8268[_0x528c39(0x565)][_0x528c39(0x3dd)]),this['mediaStream'][_0x528c39(0x213)](_0x1c8268[_0x528c39(0x565)]);for(const [_0x59cadf,_0x262063]of this[_0x528c39(0x579)][_0x528c39(0x456)]())try{_0x262063[_0x528c39(0x213)](_0x1c8268[_0x528c39(0x565)]);}catch(_0x45af50){_0x262063[_0x528c39(0x6b8)](),this[_0x528c39(0x579)][_0x528c39(0x164)](_0x59cadf);}this[_0x528c39(0x313)](_0x1c8268['track']),this[_0x528c39(0x6d3)](),_0x528c39(0x2ca)===_0x1c8268['track']['kind']&&this[_0x528c39(0x67a)]&&(this[_0x528c39(0x6f7)][_0x528c39(0x6d8)]?setTimeout(()=>this[_0x528c39(0x67a)]?.[_0x528c39(0x157)](),0x0):setTimeout(()=>this[_0x528c39(0x67a)]?.[_0x528c39(0x2c4)](),0x0),this[_0x528c39(0x22d)]());break;case _0x34dd11[_0x528c39(0x316)]:if(_0x1c8268[_0x528c39(0x610)]['id']!==this[_0x528c39(0x1f5)]||_0x1c8268[_0x528c39(0x374)]!==this[_0x528c39(0x374)])return;this[_0x528c39(0x4a8)](_0x1c8268[_0x528c39(0x565)][_0x528c39(0x3dd)]),this[_0x528c39(0x67a)]&&_0x528c39(0x2ca)===_0x1c8268[_0x528c39(0x565)][_0x528c39(0x3dd)]&&(this[_0x528c39(0x489)]?.(),this[_0x528c39(0x6f7)][_0x528c39(0x3e2)]()[_0x528c39(0x43f)]>0x0?this[_0x528c39(0x67a)][_0x528c39(0x2c4)]():this[_0x528c39(0x67a)]['srcObject']=null);}});}[_0x3317da(0x4bc)](){const _0x2aa6be=_0x3317da;this[_0x2aa6be(0x407)]?.(),this[_0x2aa6be(0x3d2)][_0x2aa6be(0x505)](_0x5dbb5b=>_0x5dbb5b()),delete this[_0x2aa6be(0x407)];}[_0x3317da(0x4c8)](){const _0x4a037a=_0x3317da;return this[_0x4a037a(0x1f5)];}[_0x3317da(0x4f8)](_0x329925){const _0x469931=_0x3317da;this[_0x469931(0x1f5)]=_0x329925;}[_0x3317da(0x346)](){const _0x543306=_0x3317da;return this[_0x543306(0x56c)];}['hasTracks'](_0x12d44e){const _0x2b3a52=_0x3317da;for(const _0x4138f1 of _0x12d44e||this[_0x2b3a52(0x56c)])if(!this[_0x2b3a52(0x6f7)][_0x2b3a52(0x3e2)]()[_0x2b3a52(0x657)](_0x1b162c=>_0x1b162c[_0x2b3a52(0x3dd)]===_0x4138f1))return!0x1;return!0x0;}['getResolution'](){const _0x180f41=_0x3317da;let _0x3ba15e={'width':0x0,'height':0x0};const _0x25f333=this[_0x180f41(0x6f7)][_0x180f41(0x4ad)]();if(_0x25f333[_0x180f41(0x43f)]>0x0){const _0x3391be=_0x25f333[0x0]['getSettings']();_0x3391be[_0x180f41(0x503)]&&_0x3391be['height']&&(_0x3ba15e={'width':_0x3391be['width'],'height':_0x3391be[_0x180f41(0x167)]});}return _0x3ba15e;}[_0x3317da(0x551)](_0x105413){const _0x37af96=_0x3317da;for(const _0x311bfe of _0x105413)if(!this['subscribedTracks'][_0x37af96(0x29e)](_0x311bfe))return!0x1;return!0x0;}[_0x3317da(0x3aa)](_0x1404c4,_0x599fd0){const _0x26530c=_0x3317da;if(!this[_0x26530c(0x579)]['has'](_0x1404c4)){const _0x3dfef4=new _0x3ae27a(this['ownerId'],this[_0x26530c(0x369)],this[_0x26530c(0x6f7)],_0x1404c4,_0x599fd0),_0x211435=_0x3dfef4[_0x26530c(0x4d4)](()=>{const _0x77c540=_0x26530c;_0x211435(),this[_0x77c540(0x579)][_0x77c540(0x1c0)](_0x1404c4)?.['destroy'](),this[_0x77c540(0x579)][_0x77c540(0x164)](_0x1404c4);});this[_0x26530c(0x579)][_0x26530c(0x2c2)](_0x1404c4,_0x3dfef4),_0x3dfef4[_0x26530c(0x592)](this[_0x26530c(0x576)]);}return this[_0x26530c(0x579)]['get'](_0x1404c4);}[_0x3317da(0x37e)](){const _0x24351d=_0x3317da;return this[_0x24351d(0x6f7)]['id'];}['getPriority'](){const _0x483ea4=_0x3317da;return _0x46ba21[_0x483ea4(0x440)];}[_0x3317da(0x42a)](){const _0x366b57=_0x3317da;return Array[_0x366b57(0x4f2)](this[_0x366b57(0x311)]);}['subscribe'](_0x3be64f){const _0x5b2e40=_0x3317da;let _0x296a17=[];_0x3be64f?(_0x5b2e40(0x264)!=typeof _0x3be64f[_0x5b2e40(0x2ca)]||_0x3be64f['video'][_0x5b2e40(0x67a)]instanceof HTMLVideoElement||!this[_0x5b2e40(0x67a)]||(_0x3be64f[_0x5b2e40(0x2ca)]={'renderElement':this[_0x5b2e40(0x67a)]}),_0x522e51(_0x3be64f),_0x3be64f[_0x5b2e40(0x2ca)]&&(_0x296a17[_0x5b2e40(0x4ee)](_0x5b2e40(0x2ca)),_0x5b2e40(0x3c5)!=typeof _0x3be64f[_0x5b2e40(0x2ca)]&&_0x3be64f['video'][_0x5b2e40(0x67a)]&&(this[_0x5b2e40(0x67a)]=_0x3be64f[_0x5b2e40(0x2ca)][_0x5b2e40(0x67a)],_0x3be64f[_0x5b2e40(0x2ca)]['maxResolution']||(_0x3be64f['video'][_0x5b2e40(0x64e)]={'width':this[_0x5b2e40(0x67a)][_0x5b2e40(0x652)],'height':this['renderElement'][_0x5b2e40(0x3c7)]}),delete _0x3be64f[_0x5b2e40(0x2ca)][_0x5b2e40(0x67a)])),_0x3be64f[_0x5b2e40(0x34d)]&&_0x296a17[_0x5b2e40(0x4ee)](_0x5b2e40(0x34d))):_0x296a17=this[_0x5b2e40(0x346)](),this['isSubscribed'](_0x296a17)||(_0x296a17['forEach'](_0x1b66b3=>this['subscribedTracks']['add'](_0x1b66b3)),this[_0x5b2e40(0x576)][_0x5b2e40(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x5b2e40(0x27b)],'content':{'type':_0x167820['SubscribeMediaStream'],'label':this[_0x5b2e40(0x369)],'ownerId':this[_0x5b2e40(0x6aa)],'trackKinds':_0x296a17,'params':_0x3be64f}}),_0x546907[_0x5b2e40(0x28e)](_0x2fb3cb[_0x5b2e40(0x1dc)],{'type':_0x5b2e40(0x650),'label':this[_0x5b2e40(0x369)],'userId':this[_0x5b2e40(0x3d5)],'sourceId':this['ownerId'],'streamId':this[_0x5b2e40(0x1f5)],'trackKinds':_0x296a17}));}[_0x3317da(0x69f)](_0x36d98e){const _0x55502e=_0x3317da;_0x522e51(_0x36d98e),this['updateDebounce']&&clearTimeout(this[_0x55502e(0x465)]),this[_0x55502e(0x465)]=setTimeout(()=>{const _0x969059=_0x55502e;delete this[_0x969059(0x465)],this[_0x969059(0x576)][_0x969059(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x969059(0x27b)],'content':{'type':_0x167820[_0x969059(0x5a6)],'label':this[_0x969059(0x369)],'ownerId':this[_0x969059(0x6aa)],'params':_0x36d98e}});},0x1f4);}[_0x3317da(0x295)](_0x243255){const _0x5c0c9b=_0x3317da;_0x243255||(_0x243255=this[_0x5c0c9b(0x346)]()),(_0x243255=Array[_0x5c0c9b(0x68c)](_0x243255)?_0x243255:[_0x243255])['forEach'](_0x32fbab=>this['subscribedTracks'][_0x5c0c9b(0x164)](_0x32fbab)),this['systemTopic'][_0x5c0c9b(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x5c0c9b(0x27b)],'content':{'type':_0x167820[_0x5c0c9b(0x285)],'label':this[_0x5c0c9b(0x369)],'ownerId':this['ownerId'],'trackKinds':_0x243255,'remainingTracks':this[_0x5c0c9b(0x311)][_0x5c0c9b(0x63a)]}});}['onProviderChanged'](_0x570a2e){const _0x288831=_0x3317da;return this[_0x288831(0x40f)][_0x288831(0x650)](_0x570a2e);}[_0x3317da(0x651)](){const _0x101147=_0x3317da;return this[_0x101147(0x374)];}['setProviderId'](_0xd5c821){const _0x468b02=_0x3317da;this['providerId']!==_0xd5c821&&(this[_0x468b02(0x374)]=_0xd5c821,this['providerListener'][_0x468b02(0x6af)](_0xd5c821));}[_0x3317da(0x69b)](_0x99e936){const _0x5e8f96=_0x3317da;this['trackEndedListeners'][_0x5e8f96(0x1c0)](_0x99e936)?.(),this[_0x5e8f96(0x3d2)]['delete'](_0x99e936);}['removeTrack'](_0x294c82){const _0x3863e9=_0x3317da,_0x2bf950=this['mediaStream'][_0x3863e9(0x3e2)]()[_0x3863e9(0x657)](_0x1fc7ba=>_0x1fc7ba['kind']===_0x294c82);_0x2bf950&&(this[_0x3863e9(0x6f7)][_0x3863e9(0x4a8)](_0x2bf950),this['outgoingStreams'][_0x3863e9(0x505)](_0x23327c=>_0x23327c['removeTrack'](_0x294c82)),this[_0x3863e9(0x3d2)][_0x3863e9(0x1c0)](_0x294c82)?.());}[_0x3317da(0x6d3)](){const _0x3d2e62=_0x3317da;this[_0x3d2e62(0x67a)]&&(this[_0x3d2e62(0x67a)][_0x3d2e62(0x615)]&&this[_0x3d2e62(0x67a)][_0x3d2e62(0x615)]===this[_0x3d2e62(0x6f7)]||(this[_0x3d2e62(0x67a)][_0x3d2e62(0x615)]=this[_0x3d2e62(0x6f7)]));}[_0x3317da(0x22d)](){const _0x363dda=_0x3317da;if(this[_0x363dda(0x67a)]&&!this[_0x363dda(0x489)]&&'undefined'!=typeof ResizeObserver){let _0x1a4c94=this[_0x363dda(0x67a)][_0x363dda(0x652)],_0x32cc4c=this[_0x363dda(0x67a)][_0x363dda(0x3c7)];const _0x5f51ba=new ResizeObserver(_0x1a1ec0=>{const _0x59124a=_0x363dda,{width:_0x4753bf,height:_0x1e9ebe}=_0x1a1ec0[0x0][_0x59124a(0x197)];_0x1a4c94===_0x4753bf&&_0x32cc4c===_0x1e9ebe||(_0x1a4c94=Math[_0x59124a(0x1c1)](_0x4753bf),_0x32cc4c=Math[_0x59124a(0x1c1)](_0x1e9ebe),this[_0x59124a(0x69f)]({'video':{'maxResolution':{'width':_0x4753bf,'height':_0x1e9ebe}}}));});_0x5f51ba[_0x363dda(0x50f)](this[_0x363dda(0x67a)]),this[_0x363dda(0x489)]=()=>_0x5f51ba['disconnect']();}}[_0x3317da(0x4ae)](_0x4f0abd){const _0x3839d1=_0x3317da,_0x40f82e=[];for(const _0x1202c3 of this['subscribedTracks'])this[_0x3839d1(0x4a8)](_0x1202c3),_0x40f82e[_0x3839d1(0x4ee)](_0x1202c3);this[_0x3839d1(0x374)]&&this[_0x3839d1(0x576)]['publish']({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x3839d1(0x27b)],'content':{'type':_0x167820[_0x3839d1(0x25d)],'label':this[_0x3839d1(0x369)],'streamId':this[_0x3839d1(0x1f5)],'ownerId':this['ownerId'],'providerId':this['providerId'],'trackKinds':_0x40f82e}});}[_0x3317da(0x313)](_0x17115c){const _0x1e1133=_0x3317da,_0x10cd49=()=>this['handleRemoteTrackFailure'](_0x17115c);_0x17115c['addEventListener']('ended',_0x10cd49),_0x17115c['addEventListener'](_0x1e1133(0x21f),_0x10cd49),this[_0x1e1133(0x3d2)][_0x1e1133(0x2c2)](_0x17115c[_0x1e1133(0x3dd)],()=>{const _0x1a17d3=_0x1e1133;_0x17115c[_0x1a17d3(0x5c3)](_0x1a17d3(0x494),_0x10cd49),_0x17115c[_0x1a17d3(0x5c3)](_0x1a17d3(0x21f),_0x10cd49),this['trackEndedListeners'][_0x1a17d3(0x164)](_0x17115c[_0x1a17d3(0x3dd)]);});}}class _0x2b5bd2{[_0x3317da(0x589)];['clusterId'];[_0x3317da(0x314)];constructor(_0x3ef623,_0x5241f4){const _0x48b3fd=_0x3317da;this[_0x48b3fd(0x589)]=_0x3ef623,this[_0x48b3fd(0x2ed)]=_0x5241f4,this[_0x48b3fd(0x314)]=_0x48b3fd(0x44d)+this[_0x48b3fd(0x589)]+_0x48b3fd(0x44d)+this[_0x48b3fd(0x2ed)];}async['writeTransaction'](_0x47df7c,_0x577e88,_0x2f9a14){const _0x4f31d2=_0x3317da;if(!0x1===(await(0x0,_0x1c27f7[_0x4f31d2(0x3b8)])((0x0,_0x1c27f7[_0x4f31d2(0x394)])(_0x1159b8[_0x4f31d2(0x3d9)](),'clusters/'+this['clusterKey']+'/objectstores/'+_0x577e88+'/transactions/lastTransaction'),_0x203302=>{const _0x53dba6=_0x4f31d2;if(!_0x203302)return _0x47df7c['id'];if(_0x203302!==_0x2f9a14)throw new _0x2ba88c(_0x2ba88c[_0x53dba6(0x4f1)][_0x53dba6(0x552)]);return _0x47df7c['id'];}))['committed'])throw new _0x2ba88c(_0x2ba88c[_0x4f31d2(0x4f1)][_0x4f31d2(0x3f7)]);_0x47df7c[_0x4f31d2(0x1ef)]||delete _0x47df7c[_0x4f31d2(0x1ef)],await(0x0,_0x1c27f7[_0x4f31d2(0x2c2)])((0x0,_0x1c27f7['ref'])(_0x1159b8[_0x4f31d2(0x3d9)](),_0x4f31d2(0x69e)+this[_0x4f31d2(0x314)]+'/objectstores/'+_0x577e88+_0x4f31d2(0x6f8)+_0x47df7c['id']),_0x47df7c);}async[_0x3317da(0x5ed)](_0x1b0b0f,_0x447ef8){const _0x5f29eb=_0x3317da;let _0x433608=[];const _0x209a36=await(0x0,_0x1c27f7[_0x5f29eb(0x1c0)])((0x0,_0x1c27f7['ref'])(_0x1159b8[_0x5f29eb(0x3d9)](),_0x5f29eb(0x69e)+this[_0x5f29eb(0x314)]+_0x5f29eb(0x4b2)+_0x1b0b0f+'/transactions'));if(!_0x209a36[_0x5f29eb(0x5c1)]())return _0x433608;const _0x94789c=_0x209a36[_0x5f29eb(0x274)]();_0x433608=Object['values'](_0x94789c)[_0x5f29eb(0x5e1)](_0x2946b8=>_0x5f29eb(0x368)!=typeof _0x2946b8);const _0x3f7675=[];let _0x219cb8=_0x433608['find'](_0x525469=>_0x525469[_0x5f29eb(0x1ef)]===_0x447ef8);for(;_0x219cb8;)_0x3f7675[_0x5f29eb(0x4ee)](_0x219cb8),_0x219cb8=_0x433608[_0x5f29eb(0x657)](_0x102ea4=>_0x102ea4[_0x5f29eb(0x1ef)]===_0x219cb8['id']);return _0x3f7675;}}class _0x235da8{[_0x3317da(0x3a8)];[_0x3317da(0x4a2)];[_0x3317da(0x679)];['localMediaStreams']=new Map();[_0x3317da(0x223)]=new Map();[_0x3317da(0x382)]=new Map();[_0x3317da(0x5e2)]=new Map();[_0x3317da(0x188)]=new Map();['transactionService'];constructor(_0x1e517d,_0x2517b7,_0x18b53e){const _0x20d78c=_0x3317da;this[_0x20d78c(0x3a8)]=_0x1e517d,this[_0x20d78c(0x4a2)]=_0x2517b7,this[_0x20d78c(0x679)]=_0x18b53e,this['transactionService']=new _0x2b5bd2(this[_0x20d78c(0x3a8)]['vendorId'],this['configs'][_0x20d78c(0x2ed)]);}['close'](_0xf9d499=!0x1){const _0x2e9212=_0x3317da;this[_0x2e9212(0x223)][_0x2e9212(0x505)]((_0x5d783f,_0x36cf75)=>{const _0x174071=_0x2e9212;_0x5d783f[_0x174071(0x505)]((_0x53aa3e,_0x197906)=>{this['removeRemoteMediaStream'](_0x36cf75,_0x197906);});}),_0xf9d499||(this[_0x2e9212(0x4dd)][_0x2e9212(0x505)]((_0x389242,_0xc4d875)=>{const _0x43effe=_0x2e9212;this[_0x43effe(0x624)](_0xc4d875);}),this[_0x2e9212(0x382)]['forEach']((_0x2f7dbf,_0x1a294b)=>{const _0x281f3a=_0x2e9212;this[_0x281f3a(0x60f)](_0x1a294b);}),this[_0x2e9212(0x5e2)][_0x2e9212(0x505)]((_0x1f3b04,_0x444dbb)=>{const _0x28d53e=_0x2e9212;this[_0x28d53e(0x65c)](_0x444dbb);}),this[_0x2e9212(0x188)]['forEach']((_0x56c94a,_0x75e2f3)=>{const _0x139d6e=_0x2e9212;this[_0x139d6e(0x663)](_0x75e2f3);}));}[_0x3317da(0x622)](_0x1c3373){const _0x2681ab=_0x3317da;if(this[_0x2681ab(0x5e2)]['has'](_0x1c3373))throw new _0xb069c2(_0x1193d2[_0x2681ab(0x15d)],_0x2681ab(0x520));const _0x195e38=new _0x97e41d(this[_0x2681ab(0x3a8)][_0x2681ab(0x3d5)],_0x1c3373,this[_0x2681ab(0x3a8)][_0x2681ab(0x2ed)],this[_0x2681ab(0x3a8)][_0x2681ab(0x589)],this[_0x2681ab(0x5b9)]);return this[_0x2681ab(0x5e2)]['set'](_0x1c3373,_0x195e38),this['configs'][_0x2681ab(0x2a1)][_0x2681ab(0x469)](_0x195e38),_0x195e38;}async[_0x3317da(0x4b8)](_0x574c65,_0x3c8826){const _0x2065c5=_0x3317da;try{const _0x389889=new _0x421bd5(this[_0x2065c5(0x3a8)][_0x2065c5(0x3d5)],_0x574c65,this[_0x2065c5(0x3a8)][_0x2065c5(0x2ed)],this[_0x2065c5(0x3a8)]['vendorId'],_0x3c8826);return this[_0x2065c5(0x188)][_0x2065c5(0x2c2)](_0x574c65,_0x389889),this['configs'][_0x2065c5(0x2a1)]['registerSystemSource'](_0x389889),_0x389889;}catch(_0x137ea4){if(_0x137ea4 instanceof _0xb069c2)throw _0x137ea4;throw console[_0x2065c5(0x55d)](_0x2065c5(0x23c),_0x137ea4),new _0x2ba88c(_0x2ba88c[_0x2065c5(0x4f1)][_0x2065c5(0x685)],{'label':_0x574c65,'clusterId':this[_0x2065c5(0x3a8)][_0x2065c5(0x2ed)],'vendorId':this[_0x2065c5(0x3a8)][_0x2065c5(0x589)]});}}[_0x3317da(0x3c2)](_0x3f7daa,_0x377c92){const _0x371725=_0x3317da;if(this[_0x371725(0x4dd)][_0x371725(0x29e)](_0x3f7daa))throw new _0xb069c2(_0x1193d2[_0x371725(0x525)],_0x371725(0x4e5));const _0x4b7db6=new _0x2af9a3(this[_0x371725(0x3a8)][_0x371725(0x3d5)],_0x3f7daa,_0x377c92,this['maxFps'],this['audioContext']);return this['localMediaStreams'][_0x371725(0x2c2)](_0x3f7daa,_0x4b7db6),this[_0x371725(0x3a8)][_0x371725(0x2a1)][_0x371725(0x469)](_0x4b7db6),_0x4b7db6['publish'](),_0x4b7db6;}[_0x3317da(0x23d)](_0x536b1c,_0x1e541e){const _0x3052c2=_0x3317da;if(this[_0x3052c2(0x4dd)][_0x3052c2(0x29e)](_0x536b1c))throw new _0xb069c2(_0x1193d2['LocalMediaStreamAlreadyExists'],_0x3052c2(0x520));const _0x2ea2f9=new _0x48fac9(this[_0x3052c2(0x3a8)]['localId'],_0x536b1c,_0x1e541e);return this['localMediaStreams'][_0x3052c2(0x2c2)](_0x536b1c,_0x2ea2f9),this[_0x3052c2(0x3a8)][_0x3052c2(0x2a1)][_0x3052c2(0x469)](_0x2ea2f9),_0x2ea2f9[_0x3052c2(0x6af)](),_0x2ea2f9;}[_0x3317da(0x2f6)](_0x24fe8d){const _0x3aba7e=_0x3317da;if(this[_0x3aba7e(0x382)][_0x3aba7e(0x29e)](_0x24fe8d))throw new _0xb069c2(_0x1193d2[_0x3aba7e(0x358)],_0x3aba7e(0x520));const _0x31c62a=new _0x9c58ca(this[_0x3aba7e(0x3a8)][_0x3aba7e(0x3d5)],_0x24fe8d);return this[_0x3aba7e(0x382)]['set'](_0x24fe8d,_0x31c62a),this[_0x3aba7e(0x3a8)][_0x3aba7e(0x2a1)][_0x3aba7e(0x469)](_0x31c62a),_0x31c62a;}['createRemoteMediaStream'](_0x415550,_0x1c5ae1,_0x17b35e,_0x287aa9){const _0x1de2d1=_0x3317da;this[_0x1de2d1(0x223)][_0x1de2d1(0x29e)](_0x415550)||this['remoteMediaStreams']['set'](_0x415550,new Map());const _0x419b9e=this[_0x1de2d1(0x223)]['get'](_0x415550);if(_0x419b9e[_0x1de2d1(0x29e)](_0x1c5ae1))throw new _0xb069c2(_0x1193d2[_0x1de2d1(0x27e)],_0x1de2d1(0x327));const _0x2c3425=new _0x7f6354(this[_0x1de2d1(0x3a8)][_0x1de2d1(0x3d5)],_0x415550,_0x1c5ae1,_0x17b35e,_0x287aa9);return _0x419b9e['set'](_0x1c5ae1,_0x2c3425),this[_0x1de2d1(0x3a8)][_0x1de2d1(0x2a1)][_0x1de2d1(0x469)](_0x2c3425),_0x2c3425;}[_0x3317da(0x350)](_0x16ec2b){const _0x1414d8=_0x3317da,_0x373a19=Array['from'](this[_0x1414d8(0x5e2)]['values']());return _0x16ec2b?_0x373a19[_0x1414d8(0x5e1)](_0x16ec2b):_0x373a19;}[_0x3317da(0x48e)](_0x3e02bd){const _0x32b952=_0x3317da,_0x10e471=Array[_0x32b952(0x4f2)](this['keyValueDatabases'][_0x32b952(0x17a)]());return _0x3e02bd?_0x10e471['filter'](_0x3e02bd):_0x10e471;}[_0x3317da(0x6b4)](_0x562370){const _0xde3410=_0x3317da,_0x5200ce=Array[_0xde3410(0x4f2)](this[_0xde3410(0x4dd)][_0xde3410(0x17a)]());return _0x562370?_0x5200ce[_0xde3410(0x5e1)](_0x562370):_0x5200ce;}[_0x3317da(0x52c)](_0x52a256){const _0x4fce15=_0x3317da,_0x53ece=Array[_0x4fce15(0x4f2)](this[_0x4fce15(0x382)][_0x4fce15(0x17a)]());return _0x52a256?_0x53ece['filter'](_0x52a256):_0x53ece;}[_0x3317da(0x713)](_0x3036e7){const _0x13e84d=_0x3317da,_0x16d598=Array['from'](this['remoteMediaStreams'][_0x13e84d(0x17a)]())[_0x13e84d(0x65e)]((_0x2450c1,_0x6bbf20)=>[..._0x2450c1,...Array[_0x13e84d(0x4f2)](_0x6bbf20[_0x13e84d(0x17a)]())],[]);return _0x3036e7?_0x16d598[_0x13e84d(0x5e1)](_0x3036e7):_0x16d598;}[_0x3317da(0x1c5)](_0x523da9){const _0x118393=_0x3317da;switch(_0x523da9[_0x118393(0x1b9)][_0x118393(0x1e3)]){case _0x167820[_0x118393(0x367)]:this[_0x118393(0x57b)](_0x523da9[_0x118393(0x1b9)]);break;case _0x167820['UnpublishMediaStream']:this['handleUnpublishMediaStream'](_0x523da9['content']);break;case _0x167820[_0x118393(0x432)]:this[_0x118393(0x670)](_0x523da9[_0x118393(0x1b9)]);break;case _0x167820[_0x118393(0x5a8)]:this[_0x118393(0x521)](_0x523da9[_0x118393(0x1b9)]);break;case _0x167820['CloseObjectStoreBucket']:this[_0x118393(0x226)](_0x523da9[_0x118393(0x1b9)]);break;case _0x167820[_0x118393(0x2c8)]:this[_0x118393(0x2c0)](_0x523da9[_0x118393(0x1b9)]);break;case _0x167820[_0x118393(0x285)]:this[_0x118393(0x3fc)](_0x523da9[_0x118393(0x1b9)]);break;case _0x167820[_0x118393(0x680)]:this['keyValueDatabases'][_0x118393(0x1c0)](_0x523da9[_0x118393(0x1b9)][_0x118393(0x369)])?.[_0x118393(0x305)](_0x523da9['sourceId']);break;case _0x167820[_0x118393(0x6a4)]:this['keyValueDatabases'][_0x118393(0x1c0)](_0x523da9['content'][_0x118393(0x369)])?.[_0x118393(0x235)](_0x523da9[_0x118393(0x396)],_0x523da9[_0x118393(0x1b9)][_0x118393(0x6ff)]);break;case _0x167820[_0x118393(0x6e1)]:this[_0x118393(0x188)][_0x118393(0x1c0)](_0x523da9[_0x118393(0x1b9)]['label'])?.[_0x118393(0x617)](_0x523da9[_0x118393(0x396)],_0x523da9['content'][_0x118393(0x6ac)]);break;case _0x167820['LocalMediaStreamTrackFail']:this[_0x118393(0x3a8)]['mediator'][_0x118393(0x1cb)](_0x118393(0x692),{'label':_0x523da9[_0x118393(0x1b9)][_0x118393(0x369)],'trackKinds':_0x523da9[_0x118393(0x1b9)][_0x118393(0x6e8)]});}}[_0x3317da(0x623)]({content:_0x12fb1e}){const _0x159c85=_0x3317da;switch(_0x12fb1e[_0x159c85(0x1e3)]){case _0x3999d2[_0x159c85(0x2c9)]:this['handleUserJoinNeedPublishedStream'](_0x12fb1e),this['notifyObjectStoreOfUserJoin'](_0x12fb1e);break;case _0x3999d2['UserLeave']:this[_0x159c85(0x4cf)](_0x12fb1e),this['notifyObjectStoreOfUserLeave'](_0x12fb1e);}}[_0x3317da(0x53f)](_0x39999c){const _0x3480bb=_0x3317da;switch(_0x39999c['content'][_0x3480bb(0x1e3)]){case _0x3fa9b2[_0x3480bb(0x487)]:this[_0x3480bb(0x17d)](_0x39999c[_0x3480bb(0x396)],_0x39999c[_0x3480bb(0x1b9)]);break;case _0x3fa9b2[_0x3480bb(0x5a6)]:this[_0x3480bb(0x2f9)](_0x39999c['sourceId'],_0x39999c['content']);break;case _0x3fa9b2[_0x3480bb(0x285)]:this[_0x3480bb(0x220)](_0x39999c[_0x3480bb(0x396)],_0x39999c[_0x3480bb(0x1b9)]);}}[_0x3317da(0x3fc)](_0x463807){const _0x6dac=_0x3317da;if(0x0===_0x463807[_0x6dac(0x4a4)])this['remoteMediaStreams'][_0x6dac(0x1c0)](_0x463807[_0x6dac(0x6aa)])?.[_0x6dac(0x1c0)](_0x463807[_0x6dac(0x369)])?.[_0x6dac(0x6b8)]();else{const _0x16663a=this['remoteMediaStreams'][_0x6dac(0x1c0)](_0x463807[_0x6dac(0x6aa)])?.[_0x6dac(0x1c0)](_0x463807[_0x6dac(0x369)]);if(!_0x16663a)return;_0x463807[_0x6dac(0x6e8)]['forEach'](_0x15c093=>_0x16663a[_0x6dac(0x69b)](_0x15c093));}}[_0x3317da(0x57b)](_0x143bdc){const _0x49c275=_0x3317da,{label:_0x5d1b59,ownerId:_0x369ca8,stream:{streamId:_0x42960a,availableTrackKinds:_0x98301}}=_0x143bdc;if(this[_0x49c275(0x223)][_0x49c275(0x1c0)](_0x369ca8)?.['has'](_0x5d1b59))return void _0x546907[_0x49c275(0x614)](_0xea19ad['Content'],'Stream\x20already\x20exists',_0x42960a);const _0x86f779=this[_0x49c275(0x518)](_0x369ca8,_0x5d1b59,_0x42960a,_0x98301);this[_0x49c275(0x3a8)][_0x49c275(0x2a1)]['notifyCluster'](_0x49c275(0x5be),{'ownerId':_0x369ca8,'stream':_0x86f779});}['handleUnpublishMediaStream']({ownerId:_0x38606a,label:_0x4838e9}){const _0x1ce8b6=_0x3317da;this[_0x1ce8b6(0x307)](_0x38606a,_0x4838e9),this[_0x1ce8b6(0x3a8)][_0x1ce8b6(0x2a1)]['notifyCluster']('user-unpublish-media',{'ownerId':_0x38606a,'label':_0x4838e9});}[_0x3317da(0x670)](_0x36ef06){const _0x4e7b2f=_0x3317da;this[_0x4e7b2f(0x624)](_0x36ef06[_0x4e7b2f(0x369)]);}['handleCloseObjectStore'](_0x1fd91b){const _0x58543f=_0x3317da;this[_0x58543f(0x65c)](_0x1fd91b[_0x58543f(0x369)]);}['handleClosePubSubTopic'](_0x4f41cf){const _0x341401=_0x3317da;this['removePubSubTopic'](_0x4f41cf[_0x341401(0x369)]);}[_0x3317da(0x2c0)](_0x1bd2aa){const _0x23e9ed=_0x3317da;this[_0x23e9ed(0x663)](_0x1bd2aa[_0x23e9ed(0x369)]);}['handleSubscribeMediaStream'](_0x33f876,_0x4b3ce1){const _0x1f9a44=_0x3317da,{ownerId:_0x4fc412,label:_0x14004c}=_0x4b3ce1;let _0x3f07d2;_0x3f07d2=_0x4fc412!==this[_0x1f9a44(0x3a8)][_0x1f9a44(0x3d5)]?this[_0x1f9a44(0x223)][_0x1f9a44(0x1c0)](_0x4fc412)[_0x1f9a44(0x1c0)](_0x14004c):this['localMediaStreams']['get'](_0x14004c),_0x3f07d2[_0x1f9a44(0x3aa)](_0x33f876,_0x4b3ce1[_0x1f9a44(0x5f6)])[_0x1f9a44(0x650)](_0x4b3ce1,_0x3f07d2[_0x1f9a44(0x16a)]());}['handleUpdateMediaStream'](_0x36ca33,_0x21c80b){const _0x4b189a=_0x3317da,{ownerId:_0x293846,label:_0x24c3ee}=_0x21c80b;let _0x413944;_0x413944=_0x293846!==this[_0x4b189a(0x3a8)][_0x4b189a(0x3d5)]?this[_0x4b189a(0x223)][_0x4b189a(0x1c0)](_0x293846)[_0x4b189a(0x1c0)](_0x24c3ee):this[_0x4b189a(0x4dd)]['get'](_0x24c3ee),_0x413944[_0x4b189a(0x3aa)](_0x36ca33,_0x21c80b[_0x4b189a(0x5f6)])[_0x4b189a(0x69f)](_0x21c80b);}[_0x3317da(0x220)](_0x4b9465,_0xe8e9cb){const _0x3fcb23=_0x3317da,{ownerId:_0x3668da,label:_0x4cbac2}=_0xe8e9cb;let _0x55d39f;_0x55d39f=_0x3668da!==this[_0x3fcb23(0x3a8)][_0x3fcb23(0x3d5)]?this[_0x3fcb23(0x223)]['get'](_0x3668da)[_0x3fcb23(0x1c0)](_0x4cbac2):this[_0x3fcb23(0x4dd)][_0x3fcb23(0x1c0)](_0x4cbac2),_0x55d39f[_0x3fcb23(0x3aa)](_0x4b9465)['unsubscribe'](_0xe8e9cb);}[_0x3317da(0x3bc)]({id:_0x502cde}){this['getLocalMediaStreams']()['forEach'](_0x38b4f4=>{const _0x9ac311=a0_0x2858;_0x38b4f4[_0x9ac311(0x6af)](_0x502cde);});}['handleUserLeave']({id:_0x547aa9}){const _0x10420a=_0x3317da;this[_0x10420a(0x713)](_0x6b0e72=>_0x6b0e72[_0x10420a(0x268)]()===_0x547aa9)[_0x10420a(0x505)](_0x2cefb1=>{const _0x5eb98e=_0x10420a;this[_0x5eb98e(0x307)](_0x2cefb1[_0x5eb98e(0x268)](),_0x2cefb1['getLabel']());});}[_0x3317da(0x3df)]({id:_0x549be7}){const _0x4e2a1e=_0x3317da;this[_0x4e2a1e(0x5e2)]['forEach'](_0x534efa=>_0x534efa[_0x4e2a1e(0x61c)](_0x549be7));}['notifyObjectStoreOfUserLeave']({id:_0x284877}){const _0x3b16d6=_0x3317da;this[_0x3b16d6(0x5e2)]['forEach'](_0x9adc3a=>_0x9adc3a[_0x3b16d6(0x4cf)](_0x284877));}['removeObjectStore'](_0x14473b){const _0x29ed0f=_0x3317da;if(!this[_0x29ed0f(0x5e2)][_0x29ed0f(0x29e)](_0x14473b))throw new _0xb069c2(_0x1193d2[_0x29ed0f(0x265)],'Stream\x20does\x20not\x20exist');const _0x1c6cab=this[_0x29ed0f(0x5e2)][_0x29ed0f(0x1c0)](_0x14473b);this[_0x29ed0f(0x5e2)][_0x29ed0f(0x164)](_0x14473b),_0x1c6cab[_0x29ed0f(0x6b8)](),this['configs'][_0x29ed0f(0x2a1)][_0x29ed0f(0x61d)](_0x1c6cab);}[_0x3317da(0x60f)](_0x177b66){const _0x58cf0b=_0x3317da;if(!this['pubSubTopics'][_0x58cf0b(0x29e)](_0x177b66))throw new _0xb069c2(_0x1193d2[_0x58cf0b(0x27c)],_0x58cf0b(0x57c));const _0x38d8fe=this[_0x58cf0b(0x382)]['get'](_0x177b66);this[_0x58cf0b(0x382)][_0x58cf0b(0x164)](_0x177b66),_0x38d8fe[_0x58cf0b(0x6b8)](),this[_0x58cf0b(0x3a8)][_0x58cf0b(0x2a1)][_0x58cf0b(0x61d)](_0x38d8fe);}[_0x3317da(0x663)](_0x1644cf){const _0x10b2f0=_0x3317da;if(!this['keyValueDatabases'][_0x10b2f0(0x29e)](_0x1644cf))throw new _0xb069c2(_0x1193d2[_0x10b2f0(0x3ca)],_0x10b2f0(0x519));const _0x575bf9=this['keyValueDatabases'][_0x10b2f0(0x1c0)](_0x1644cf);this[_0x10b2f0(0x188)]['delete'](_0x1644cf),_0x575bf9[_0x10b2f0(0x6b8)](),this[_0x10b2f0(0x3a8)][_0x10b2f0(0x2a1)][_0x10b2f0(0x61d)](_0x575bf9);}[_0x3317da(0x624)](_0xa39e88){const _0x43cc47=_0x3317da;if(!this[_0x43cc47(0x4dd)][_0x43cc47(0x29e)](_0xa39e88))throw new _0x2ba88c(_0x2ba88c[_0x43cc47(0x4f1)][_0x43cc47(0x6e3)],{'label':_0xa39e88,'localId':this[_0x43cc47(0x3a8)][_0x43cc47(0x3d5)]});const _0x3006a8=this[_0x43cc47(0x4dd)][_0x43cc47(0x1c0)](_0xa39e88);this[_0x43cc47(0x3a8)][_0x43cc47(0x2a1)][_0x43cc47(0x61d)](_0x3006a8),_0x3006a8[_0x43cc47(0x6b8)](),this[_0x43cc47(0x4dd)][_0x43cc47(0x164)](_0xa39e88);}[_0x3317da(0x307)](_0x32d85e,_0x3693ea){const _0x1ad3cd=_0x3317da;if(!this[_0x1ad3cd(0x223)]['has'](_0x32d85e))throw new _0x2ba88c(_0x2ba88c[_0x1ad3cd(0x4f1)]['UserDoesNotExist'],{'userId':_0x32d85e,'localId':this['configs'][_0x1ad3cd(0x3d5)]});const _0x30b581=this[_0x1ad3cd(0x223)][_0x1ad3cd(0x1c0)](_0x32d85e);if(!_0x30b581['has'](_0x3693ea))throw new _0x2ba88c(_0x2ba88c[_0x1ad3cd(0x4f1)][_0x1ad3cd(0x344)],{'userId':_0x32d85e,'label':_0x3693ea,'localId':this[_0x1ad3cd(0x3a8)][_0x1ad3cd(0x3d5)]});const _0x50b8dd=_0x30b581['get'](_0x3693ea);this[_0x1ad3cd(0x3a8)][_0x1ad3cd(0x2a1)][_0x1ad3cd(0x61d)](_0x50b8dd),_0x50b8dd['destroy'](),_0x30b581[_0x1ad3cd(0x164)](_0x3693ea);}}!function(_0x33d2ef){const _0x4807cd=_0x3317da;_0x33d2ef[_0x4807cd(0x61f)]=_0x4807cd(0x6c8),_0x33d2ef['DTVolatility']=_0x4807cd(0x471),_0x33d2ef[_0x4807cd(0x6b2)]=_0x4807cd(0x578),_0x33d2ef[_0x4807cd(0x5ae)]=_0x4807cd(0x254),_0x33d2ef[_0x4807cd(0x70d)]='jitter',_0x33d2ef[_0x4807cd(0x402)]=_0x4807cd(0x659),_0x33d2ef['RoundTripTime']=_0x4807cd(0x38a),_0x33d2ef[_0x4807cd(0x476)]=_0x4807cd(0x1e5);}(_0x46b4cf||(_0x46b4cf={})),function(_0x304229){const _0x22968f=_0x3317da;_0x304229[_0x22968f(0x4ea)]=_0x22968f(0x684),_0x304229[_0x22968f(0x6b2)]=_0x22968f(0x712),_0x304229[_0x22968f(0x476)]=_0x22968f(0x315),_0x304229[_0x22968f(0x402)]=_0x22968f(0x4c1),_0x304229[_0x22968f(0x5ae)]=_0x22968f(0x16e),_0x304229[_0x22968f(0x70d)]=_0x22968f(0x3ea),_0x304229[_0x22968f(0x246)]=_0x22968f(0x1c3);}(_0x3de9e3||(_0x3de9e3={})),function(_0x4d1c80){const _0x572084=_0x3317da;_0x4d1c80[_0x4d1c80[_0x572084(0x6da)]=0x0]=_0x572084(0x6da);}(_0x176b0f||(_0x176b0f={}));const _0xf8699e=[{'type':_0x46b4cf[_0x3317da(0x61f)],'reportMetric':_0x547b1f=>_0x547b1f[_0x3317da(0x61f)],'maxThreshold':2.5},{'type':_0x46b4cf['DTVolatility'],'reportMetric':_0x5a860a=>_0x5a860a[_0x3317da(0x40c)],'maxThreshold':0.5}],_0x24950e=[{'type':_0x46b4cf[_0x3317da(0x6b2)],'reportMetric':_0x18c9f2=>{const _0x275c06=_0x3317da,_0x21fcb4=0x3e8/_0x18c9f2[_0x275c06(0x330)];return _0x18c9f2[_0x275c06(0x308)]/_0x21fcb4;},'maxThreshold':0.75},{'type':_0x46b4cf[_0x3317da(0x5ae)],'reportMetric':_0x3b8186=>{const _0x193b6f=_0x3317da,_0x2784da=_0x3b8186[_0x193b6f(0x330)]*_0x3b8186[_0x193b6f(0x57a)]*_0x3b8186[_0x193b6f(0x29d)]*0.12;return _0x3b8186[_0x193b6f(0x254)]/_0x2784da;},'minThreshold':0.25},{'type':_0x46b4cf[_0x3317da(0x70d)],'reportMetric':_0x44eed4=>_0x44eed4[_0x3317da(0x6ae)],'maxThreshold':0.6},{'type':_0x46b4cf[_0x3317da(0x402)],'reportMetric':_0x579166=>_0x579166[_0x3317da(0x330)],'minThreshold':0xa}],_0x5522b3=[{'type':_0x46b4cf[_0x3317da(0x70d)],'reportMetric':_0xbbf8e1=>_0xbbf8e1[_0x3317da(0x6ae)],'maxThreshold':0.6}],_0x1c67c7=[{'type':_0x46b4cf['RoundTripTime'],'reportMetric':_0x266050=>_0x266050[_0x3317da(0x673)],'maxThreshold':0x1/0x0}],_0x2407ce=[{'type':_0x46b4cf[_0x3317da(0x476)],'reportMetric':_0x1a1ade=>_0x1a1ade['AudioVideoDelay'],'maxThreshold':0x12c}],_0x3112cc=[{'type':_0x3de9e3[_0x3317da(0x4ea)],'issues':[{'type':_0x46b4cf[_0x3317da(0x61f)],'threshold':0x5},{'type':_0x46b4cf[_0x3317da(0x40c)],'threshold':0x5}]},{'type':_0x3de9e3[_0x3317da(0x6b2)],'issues':[{'type':_0x46b4cf[_0x3317da(0x6b2)],'threshold':0x3}]},{'type':_0x3de9e3[_0x3317da(0x476)],'issues':[{'type':_0x46b4cf['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x3de9e3[_0x3317da(0x402)],'issues':[{'type':_0x46b4cf[_0x3317da(0x402)],'threshold':0x3}]},{'type':_0x3de9e3[_0x3317da(0x5ae)],'issues':[{'type':_0x46b4cf['Bitrate'],'threshold':0x3}]},{'type':_0x3de9e3['Jitter'],'issues':[{'type':_0x46b4cf[_0x3317da(0x70d)],'threshold':0x3}]},{'type':_0x3de9e3[_0x3317da(0x246)],'issues':[{'type':_0x46b4cf[_0x3317da(0x246)],'threshold':0x3}]}];var _0x465c63,_0x1a6b25;!function(_0x43f767){const _0x32d18f=_0x3317da;_0x43f767[_0x43f767[_0x32d18f(0x1d9)]=0x0]=_0x32d18f(0x1d9),_0x43f767[_0x43f767[_0x32d18f(0x20b)]=0x1]=_0x32d18f(0x20b);}(_0x465c63||(_0x465c63={}));class _0x1060d9{[_0x3317da(0x3a8)];[_0x3317da(0x4fb)]=[];[_0x3317da(0x576)];constructor(_0x504272){const _0x58f1cd=_0x3317da;this[_0x58f1cd(0x3a8)]=_0x504272,this[_0x58f1cd(0x3a8)][_0x58f1cd(0x2a1)][_0x58f1cd(0x469)](this);}[_0x3317da(0x592)](_0x31a33b){this['systemTopic']=_0x31a33b;}[_0x3317da(0x449)](){this['systemTopic']=void 0x0;}['close'](){const _0x4bdecc=_0x3317da;this[_0x4bdecc(0x3a8)][_0x4bdecc(0x2a1)][_0x4bdecc(0x61d)](this),this['issues']=[];}[_0x3317da(0x1d3)](_0x19707f){const _0x460470=_0x3317da;switch(_0x19707f['content'][_0x460470(0x1e3)]){case _0x465c63[_0x460470(0x20b)]:this[_0x460470(0x2b5)](_0x19707f[_0x460470(0x1b9)][_0x460470(0x1ed)]);break;case _0x465c63[_0x460470(0x1d9)]:this[_0x460470(0x642)](_0x19707f[_0x460470(0x1b9)][_0x460470(0x1ed)]);}}[_0x3317da(0x208)](_0x14ca27,_0xeba0da,_0x4ca26c,_0x3e498e){const _0xf5e59c=_0x3317da,_0x43b7fa=_0x3112cc[_0xf5e59c(0x657)](_0x2a69df=>_0x2a69df[_0xf5e59c(0x4fb)]['some'](_0x258f02=>_0x258f02[_0xf5e59c(0x1e3)]===_0x14ca27));_0x3e498e>=_0x43b7fa['issues']['find'](_0x277182=>_0x277182[_0xf5e59c(0x1e3)]===_0x14ca27)[_0xf5e59c(0x28a)]&&(this[_0xf5e59c(0x6e7)](_0x43b7fa[_0xf5e59c(0x1e3)],_0xeba0da,_0x4ca26c),this['issues']=this[_0xf5e59c(0x4fb)][_0xf5e59c(0x5e1)](_0x4632ea=>!(_0x4632ea[_0xf5e59c(0x1e3)]===_0x14ca27&&_0x4632ea[_0xf5e59c(0x4eb)]===_0xeba0da&&_0x4632ea['origin']===_0x4ca26c)));}['detectLocalIssues'](_0xcc2606){const _0xe0fea3=_0x3317da;_0xf8699e[_0xe0fea3(0x505)](_0x29c074=>{const _0x152a60=_0xe0fea3,_0x2f3893=_0x29c074[_0x152a60(0x3ad)](_0xcc2606);_0x29c074[_0x152a60(0x3fa)]&&_0x2f3893>_0x29c074[_0x152a60(0x3fa)]&&this[_0x152a60(0x433)](_0x29c074[_0x152a60(0x1e3)],this[_0x152a60(0x3a8)]['localId'],_0x39632f[_0x152a60(0x6e5)],_0x2f3893),_0x29c074[_0x152a60(0x709)]&&_0x2f3893<_0x29c074[_0x152a60(0x709)]&&this[_0x152a60(0x433)](_0x29c074['type'],this[_0x152a60(0x3a8)][_0x152a60(0x3d5)],_0x39632f[_0x152a60(0x6e5)],_0x2f3893);});}[_0x3317da(0x642)](_0x4fac98){const _0x5b4615=_0x3317da;let _0x1b9ac2=[];switch(_0x4fac98[_0x5b4615(0x6dc)]){case _0x39632f[_0x5b4615(0x6e5)]:_0x1b9ac2=_0x1c67c7;break;case _0x39632f[_0x5b4615(0x5af)]:_0x1b9ac2=_0x2407ce;}_0x4fac98[_0x5b4615(0x2ca)]&&this['detectVideoIssues'](_0x4fac98['userId'],_0x39632f['Sender'],_0x4fac98[_0x5b4615(0x2ca)]),_0x4fac98['audio']&&this['detectAudioIssues'](_0x4fac98[_0x5b4615(0x4eb)],_0x39632f['Sender'],_0x4fac98[_0x5b4615(0x34d)]),_0x1b9ac2[_0x5b4615(0x505)](_0x124ade=>{const _0x5737f9=_0x5b4615,_0x4b8491=_0x124ade[_0x5737f9(0x3ad)](_0x4fac98);_0x124ade['maxThreshold']&&_0x4b8491>_0x124ade[_0x5737f9(0x3fa)]&&this[_0x5737f9(0x433)](_0x124ade[_0x5737f9(0x1e3)],_0x4fac98[_0x5737f9(0x4eb)],_0x39632f[_0x5737f9(0x6e5)],_0x4b8491),_0x124ade['minThreshold']&&_0x4b8491<_0x124ade[_0x5737f9(0x709)]&&this[_0x5737f9(0x433)](_0x124ade['type'],_0x4fac98[_0x5737f9(0x4eb)],_0x39632f[_0x5737f9(0x6e5)],_0x4b8491);});}[_0x3317da(0x170)](_0x190e24,_0x40544d,_0x504c1e){const _0x146e0a=_0x3317da;0x0!==_0x504c1e[_0x146e0a(0x254)]&&_0x24950e['forEach'](_0x20ecdc=>{const _0x3e517b=_0x146e0a,_0x124387=_0x20ecdc[_0x3e517b(0x3ad)](_0x504c1e);_0x20ecdc[_0x3e517b(0x3fa)]&&_0x124387>_0x20ecdc[_0x3e517b(0x3fa)]&&this['addIssue'](_0x20ecdc['type'],_0x190e24,_0x40544d,_0x124387,'video'),_0x20ecdc[_0x3e517b(0x709)]&&_0x124387<_0x20ecdc[_0x3e517b(0x709)]&&this[_0x3e517b(0x433)](_0x20ecdc['type'],_0x190e24,_0x40544d,_0x124387,_0x3e517b(0x2ca));});}[_0x3317da(0x6fe)](_0x17a9ce,_0x1c38ed,_0x1e4146){const _0x27474c=_0x3317da;0x0!==_0x1e4146[_0x27474c(0x254)]&&_0x5522b3[_0x27474c(0x505)](_0x220f52=>{const _0x234f7d=_0x27474c,_0x34e666=_0x220f52['reportMetric'](_0x1e4146);_0x220f52[_0x234f7d(0x3fa)]&&_0x34e666>_0x220f52[_0x234f7d(0x3fa)]&&this[_0x234f7d(0x433)](_0x220f52[_0x234f7d(0x1e3)],_0x17a9ce,_0x1c38ed,_0x34e666,_0x234f7d(0x34d)),_0x220f52[_0x234f7d(0x709)]&&_0x34e666<_0x220f52['minThreshold']&&this['addIssue'](_0x220f52[_0x234f7d(0x1e3)],_0x17a9ce,_0x1c38ed,_0x34e666,_0x234f7d(0x34d));});}['addIssue'](_0xa345cd,_0x1c0814,_0x3246c8,_0x46a2e9,_0x3c0d74){const _0x5afc3f=_0x3317da;_0x546907[_0x5afc3f(0x614)](_0xea19ad['Detection'],_0x5afc3f(0x581)+_0xa345cd,_0xa345cd,_0x46a2e9),_0x546907['logEvent'](_0x5afc3f(0x58c),{'clusterId':this['configs'][_0x5afc3f(0x2ed)],'userId':this[_0x5afc3f(0x3a8)][_0x5afc3f(0x3d5)],'remoteId':_0x1c0814,'data':{'type':_0xa345cd,'value':_0x46a2e9,'kind':_0x3c0d74}}),this[_0x5afc3f(0x4fb)]=this[_0x5afc3f(0x4fb)][_0x5afc3f(0x5e1)](_0xef46b8=>Date[_0x5afc3f(0x6dd)]()-_0xef46b8[_0x5afc3f(0x6ee)]<0x7530),this[_0x5afc3f(0x4fb)][_0x5afc3f(0x4ee)]({'timestamp':Date[_0x5afc3f(0x6dd)](),'type':_0xa345cd,'userId':_0x1c0814,'origin':_0x3246c8,'value':_0x46a2e9,'kind':_0x3c0d74});const _0x239258=this[_0x5afc3f(0x4fb)][_0x5afc3f(0x5e1)](_0x42ebac=>_0x42ebac[_0x5afc3f(0x1e3)]===_0xa345cd&&_0x42ebac[_0x5afc3f(0x4eb)]===_0x1c0814&&_0x42ebac[_0x5afc3f(0x6dc)]===_0x3246c8)['length'];this[_0x5afc3f(0x208)](_0xa345cd,_0x1c0814,_0x3246c8,_0x239258);}['addProblem'](_0xa6c02,_0x5afb88,_0x562636){const _0x4b71f8=_0x3317da;_0x546907[_0x4b71f8(0x614)](_0xea19ad[_0x4b71f8(0x35c)],_0x4b71f8(0x26b)+_0xa6c02),_0x546907[_0x4b71f8(0x1b2)]('problem',{'clusterId':this[_0x4b71f8(0x3a8)][_0x4b71f8(0x2ed)],'userId':this['configs']['localId'],'remoteId':_0x5afb88,'data':{'type':_0xa6c02}}),this[_0x4b71f8(0x576)]?.['publish']({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x4b71f8(0x35c)],'content':{'type':_0x176b0f[_0x4b71f8(0x6da)],'data':{'timestamp':Date[_0x4b71f8(0x6dd)](),'userId':_0x5afb88,'origin':_0x39632f[_0x4b71f8(0x6e5)],'type':_0xa6c02}}});}}!function(_0x33c684){const _0x1159a3=_0x3317da;_0x33c684[_0x33c684['Online']=0x0]=_0x1159a3(0x277),_0x33c684[_0x33c684[_0x1159a3(0x19c)]=0x1]=_0x1159a3(0x19c);}(_0x1a6b25||(_0x1a6b25={}));class _0x8e0a4c{['id'];[_0x3317da(0x2b2)];[_0x3317da(0x159)];['remoteConnections'];['rank'];constructor(_0x276e8e,_0x13b2e9,_0x1eef17,_0x2aef6f=new Set(),_0x5c66cd){const _0x1a6027=_0x3317da;this['id']=_0x276e8e,this[_0x1a6027(0x2b2)]=_0x13b2e9,this[_0x1a6027(0x159)]=_0x1eef17,this[_0x1a6027(0x526)]=_0x2aef6f,this[_0x1a6027(0x257)]=_0x5c66cd;}[_0x3317da(0x35e)](){const _0x7cb8d4=_0x3317da;this[_0x7cb8d4(0x257)]=void 0x0,this['remoteConnections'][_0x7cb8d4(0x299)]();}[_0x3317da(0x4b5)](){return this['id'];}[_0x3317da(0x1ce)](){const _0x96aa30=_0x3317da;return this[_0x96aa30(0x2b2)];}['getEmail'](){const _0x4145a1=_0x3317da;return this[_0x4145a1(0x159)];}[_0x3317da(0x4e4)](){const _0x5ae49f=_0x3317da;return this[_0x5ae49f(0x257)];}[_0x3317da(0x707)](){const _0xdddfc9=_0x3317da;return this[_0xdddfc9(0x526)];}}class _0x109631 extends _0x8e0a4c{[_0x3317da(0x52f)];[_0x3317da(0x47e)]=_0x1a6b25[_0x3317da(0x277)];[_0x3317da(0x574)]=Date['now']();constructor(_0x10587d,_0x1ae789,_0x294a8f,_0x304e82=new Set(),_0x25d33b,_0x6d1949){const _0x513a82=_0x3317da;super(_0x10587d,_0x1ae789,_0x294a8f,_0x304e82,_0x6d1949),this[_0x513a82(0x52f)]=_0x25d33b;}[_0x3317da(0x563)](){const _0x2f170a=_0x3317da;return this[_0x2f170a(0x52f)];}[_0x3317da(0x37a)](){return this['status'];}[_0x3317da(0x2d5)](){const _0x2d7590=_0x3317da;return this[_0x2d7590(0x574)];}['setDisplayName'](_0x41b2f9){const _0x3681d2=_0x3317da;this[_0x3681d2(0x2b2)]!==_0x41b2f9&&(this[_0x3681d2(0x2b2)]=_0x41b2f9,this[_0x3681d2(0x5ec)]());}['setEmail'](_0x6b5f38){const _0x4321f2=_0x3317da;this[_0x4321f2(0x159)]!==_0x6b5f38&&(this[_0x4321f2(0x159)]=_0x6b5f38,this['updateLastUpdated']());}[_0x3317da(0x16b)](_0x23b4a0){const _0x14dae5=_0x3317da;this['rank']!==_0x23b4a0&&(this['rank']=_0x23b4a0,this[_0x14dae5(0x5ec)]());}['setRemoteConnections'](_0x389f39){const _0x4f4387=_0x3317da;let _0x220132=!0x1;for(const _0x12a67a of this[_0x4f4387(0x526)])_0x389f39['includes'](_0x12a67a)||(_0x220132=!0x0,this['remoteConnections'][_0x4f4387(0x164)](_0x12a67a));for(const _0x2ab1d7 of _0x389f39)this[_0x4f4387(0x526)][_0x4f4387(0x29e)](_0x2ab1d7)||(_0x220132=!0x0,this[_0x4f4387(0x526)][_0x4f4387(0x443)](_0x2ab1d7));_0x220132&&this[_0x4f4387(0x5ec)]();}[_0x3317da(0x1fb)](_0x3a2bd2){const _0x5b7e50=_0x3317da;this[_0x5b7e50(0x52f)]!==_0x3a2bd2&&(this[_0x5b7e50(0x52f)]=_0x3a2bd2,this[_0x5b7e50(0x5ec)]());}[_0x3317da(0x49d)](_0x1155f7){const _0x393591=_0x3317da;this[_0x393591(0x47e)]!==_0x1155f7&&(this[_0x393591(0x47e)]=_0x1155f7,this[_0x393591(0x5ec)](),_0x1155f7===_0x1a6b25[_0x393591(0x19c)]&&this[_0x393591(0x35e)]());}[_0x3317da(0x5ec)](){const _0x3b3d54=_0x3317da;this[_0x3b3d54(0x574)]=Date[_0x3b3d54(0x6dd)]();}}class _0x167de4{['vendorId'];[_0x3317da(0x2ed)];[_0x3317da(0x301)];[_0x3317da(0x2bb)];[_0x3317da(0x3bb)]=_0x4dbd80();[_0x3317da(0x2fb)];[_0x3317da(0x70e)];['onDisconnectHandler'];[_0x3317da(0x233)]=!0x1;[_0x3317da(0x314)];[_0x3317da(0x4f9)];['disconnectTimeout'];constructor(_0x3eb8d2,_0x2ae01c,_0x37d3fa,_0x579c28){const _0xe4117e=_0x3317da;this[_0xe4117e(0x589)]=_0x3eb8d2,this[_0xe4117e(0x2ed)]=_0x2ae01c,this['localUser']=_0x37d3fa,this[_0xe4117e(0x2bb)]=_0x579c28,this[_0xe4117e(0x314)]=_0xe4117e(0x44d)+this[_0xe4117e(0x589)]+_0xe4117e(0x44d)+this[_0xe4117e(0x2ed)],this[_0xe4117e(0x4f9)]='ccc'+this[_0xe4117e(0x589)]+_0xe4117e(0x44d)+this['localUser']['getId'](),this[_0xe4117e(0x2fb)]=(0x0,_0x1c27f7[_0xe4117e(0x56d)])((0x0,_0x1c27f7[_0xe4117e(0x394)])(_0x1159b8['getDatabase'](),_0xe4117e(0x530)),_0x1f679f=>{const _0x5daed0=_0xe4117e;!0x0!==_0x1f679f[_0x5daed0(0x274)]()?this[_0x5daed0(0x233)]&&(this[_0x5daed0(0x26f)]=setTimeout(()=>{const _0xa74cf=_0x5daed0;delete this['disconnectTimeout'],_0x546907['error'](_0xa74cf(0x286),{'clusterId':this[_0xa74cf(0x2ed)],'userId':this['localUser'][_0xa74cf(0x4b5)]()}),(0x0,_0x1c27f7[_0xa74cf(0x708)])(_0x1159b8['getDatabase']());const _0x299001=_0x4d713a['setInterval'](()=>{const _0x9da1f=_0xa74cf;navigator[_0x9da1f(0x178)]&&(_0x299001(),(0x0,_0x1c27f7[_0x9da1f(0x3fd)])(_0x1159b8[_0x9da1f(0x3d9)]()));},0x3e8);},0xbb8)):(this[_0x5daed0(0x233)]=!0x0,this[_0x5daed0(0x5e6)](),this[_0x5daed0(0x26f)]&&(clearTimeout(this[_0x5daed0(0x26f)]),delete this[_0x5daed0(0x26f)]));});}async['join'](){const _0x89b4a7=_0x3317da;await this[_0x89b4a7(0x47d)]();const _0x35e9aa=await this[_0x89b4a7(0x351)]();return this[_0x89b4a7(0x70e)]=(0x0,_0x1c27f7[_0x89b4a7(0x4be)])((0x0,_0x1c27f7['ref'])(_0x1159b8[_0x89b4a7(0x3d9)](),_0x89b4a7(0x69e)+this['clusterKey']+_0x89b4a7(0x6cf)),_0x3ff934=>{const _0xf87e44=_0x89b4a7,_0x2255e5=_0x3ff934['key'];if(!_0x2255e5)return;const _0x5c209a=_0x2255e5[_0xf87e44(0x71d)]('ccc'+this[_0xf87e44(0x589)]+_0xf87e44(0x44d),'');this[_0xf87e44(0x3bb)]['publish'](_0x5c209a);}),_0x35e9aa;}async[_0x3317da(0x35e)](){const _0x775937=_0x3317da;this[_0x775937(0x70e)]?.(),delete this[_0x775937(0x70e)],this[_0x775937(0x389)]?.[_0x775937(0x45c)](),delete this[_0x775937(0x389)],this['firebaseUnsubscriber']?.(),delete this[_0x775937(0x2fb)],this['disconnectTimeout']&&(clearTimeout(this[_0x775937(0x26f)]),delete this[_0x775937(0x26f)]),await(0x0,_0x1c27f7[_0x775937(0x41e)])((0x0,_0x1c27f7[_0x775937(0x394)])(_0x1159b8[_0x775937(0x3d9)](),_0x775937(0x69e)+this[_0x775937(0x314)]+'/nodes/'+this[_0x775937(0x4f9)]));}[_0x3317da(0x1bb)](_0x52ca3d){const _0x111bbf=_0x3317da;return this['disconnectCallback'][_0x111bbf(0x650)](_0x52ca3d);}async['getAncestors'](){const _0xcede75=_0x3317da,_0x5cc4ba=[],_0x561eef=await(0x0,_0x1c27f7[_0xcede75(0x1c0)])((0x0,_0x1c27f7[_0xcede75(0x394)])(_0x1159b8[_0xcede75(0x3d9)](),_0xcede75(0x69e)+this[_0xcede75(0x314)]+'/nodes')),_0x1bc9c4=[];return _0x561eef['forEach'](_0x3a882a=>{const _0x160f46=_0xcede75,_0x412616=_0x3a882a[_0x160f46(0x270)]?.['replace'](_0x160f46(0x44d)+this[_0x160f46(0x589)]+_0x160f46(0x44d),'');_0x1bc9c4[_0x160f46(0x4ee)]({'id':_0x412616,'joinedAt':_0x3a882a['val']()[_0x160f46(0x293)],'priority':_0x3a882a[_0x160f46(0x274)]()[_0x160f46(0x328)]});}),_0x1bc9c4['sort']((_0x4a83ec,_0x36854b)=>_0x4a83ec[_0xcede75(0x293)]===_0x36854b[_0xcede75(0x293)]?_0x4a83ec[_0xcede75(0x328)]-_0x36854b['priority']:_0x4a83ec[_0xcede75(0x293)]-_0x36854b[_0xcede75(0x293)])[_0xcede75(0x49f)](_0x1bc9c4['findIndex'](_0x34be89=>_0x34be89['id']===this[_0xcede75(0x301)][_0xcede75(0x4b5)]())),_0x1bc9c4[_0xcede75(0x720)]((_0x4ebc6c,_0x4f159b)=>_0x4f159b[_0xcede75(0x293)]===_0x4ebc6c['joinedAt']?_0x4f159b[_0xcede75(0x328)]-_0x4ebc6c['priority']:_0x4f159b['joinedAt']-_0x4ebc6c[_0xcede75(0x293)])['forEach'](_0x243dcf=>{const _0xdb4a03=_0xcede75;_0x5cc4ba[_0xdb4a03(0x43f)]>=this[_0xdb4a03(0x2bb)]||_0x5cc4ba[_0xdb4a03(0x4ee)](_0x243dcf['id']);}),_0x546907[_0xcede75(0x1b2)]('discover',{'clusterId':this[_0xcede75(0x2ed)],'userId':this['localUser'][_0xcede75(0x4b5)](),'data':{'ancestorIds':_0x5cc4ba,'allUsers':_0x1bc9c4}}),_0x5cc4ba;}async[_0x3317da(0x47d)](){const _0x3e791f=_0x3317da;await(0x0,_0x1c27f7[_0x3e791f(0x2c2)])((0x0,_0x1c27f7[_0x3e791f(0x394)])(_0x1159b8[_0x3e791f(0x3d9)](),_0x3e791f(0x69e)+this[_0x3e791f(0x314)]+_0x3e791f(0x3b2)+this[_0x3e791f(0x4f9)]),{'joinedAt':(0x0,_0x1c27f7['serverTimestamp'])(),'priority':Math[_0x3e791f(0x595)]()});}[_0x3317da(0x5e6)](){const _0x1c8a78=_0x3317da;this[_0x1c8a78(0x389)]&&this[_0x1c8a78(0x389)][_0x1c8a78(0x45c)](),this[_0x1c8a78(0x389)]=(0x0,_0x1c27f7['onDisconnect'])((0x0,_0x1c27f7[_0x1c8a78(0x394)])(_0x1159b8[_0x1c8a78(0x3d9)](),_0x1c8a78(0x69e)+this[_0x1c8a78(0x314)]+_0x1c8a78(0x3b2)+this[_0x1c8a78(0x4f9)])),this[_0x1c8a78(0x389)][_0x1c8a78(0x41e)]();}}class _0x5970b4{[_0x3317da(0x3a8)];[_0x3317da(0x46d)];[_0x3317da(0x301)];[_0x3317da(0x64d)];[_0x3317da(0x2cb)];['discoveryUnsubscriber'];[_0x3317da(0x306)]=[];['systemTopic'];[_0x3317da(0x2f3)]=new Map();['debounceProcessRank'];[_0x3317da(0x207)];constructor(_0x39236b,_0x46eeeb,_0x1f0e8b){const _0xbae86b=_0x3317da;this['configs']=_0x39236b,this[_0xbae86b(0x46d)]=_0x46eeeb,this[_0xbae86b(0x301)]=_0x1f0e8b,this[_0xbae86b(0x2cb)]=new _0x167de4(this['configs'][_0xbae86b(0x589)],this[_0xbae86b(0x3a8)]['clusterId'],this[_0xbae86b(0x301)],this[_0xbae86b(0x46d)][_0xbae86b(0x554)]()),this[_0xbae86b(0x54c)]=this[_0xbae86b(0x2cb)][_0xbae86b(0x1bb)](this[_0xbae86b(0x53c)][_0xbae86b(0x46f)](this)),this[_0xbae86b(0x3a8)]['mediator'][_0xbae86b(0x469)](this['localUser']),this[_0xbae86b(0x3a8)][_0xbae86b(0x2a1)][_0xbae86b(0x469)](this),this[_0xbae86b(0x64d)]=_0x4d713a[_0xbae86b(0x4e2)](()=>{const _0x4421c9=_0xbae86b,_0x495db2=Date[_0x4421c9(0x6dd)]();this[_0x4421c9(0x46d)][_0x4421c9(0x6df)]()[_0x4421c9(0x505)](_0x38b4c0=>{const _0x2706b5=_0x4421c9;_0x38b4c0[_0x2706b5(0x37a)]()===_0x1a6b25[_0x2706b5(0x19c)]&&_0x38b4c0[_0x2706b5(0x2d5)]()<_0x495db2-0x493e0&&this[_0x2706b5(0x46d)][_0x2706b5(0x6e6)](_0x38b4c0[_0x2706b5(0x4b5)]());});},0xea60);}[_0x3317da(0x592)](_0x3fdf68){const _0x38271a=_0x3317da;this[_0x38271a(0x576)]=_0x3fdf68;}[_0x3317da(0x449)](){const _0x438902=_0x3317da;delete this[_0x438902(0x576)];}[_0x3317da(0x35e)](){const _0x3b5a74=_0x3317da;this['debounceProcessRank']&&(clearTimeout(this['debounceProcessRank']),delete this[_0x3b5a74(0x5ba)]),delete this[_0x3b5a74(0x207)],this[_0x3b5a74(0x301)]['close'](),this[_0x3b5a74(0x64d)](),this[_0x3b5a74(0x54c)](),this[_0x3b5a74(0x3a8)][_0x3b5a74(0x2a1)]['unregisterSystemSource'](this[_0x3b5a74(0x301)]),this[_0x3b5a74(0x3a8)]['mediator']['unregisterSystemSource'](this),this[_0x3b5a74(0x2cb)]['close']();}['getAncestorIds'](){const _0x175cbb=_0x3317da;return this[_0x175cbb(0x306)];}[_0x3317da(0x339)](){const _0x80d3ab=_0x3317da;return this[_0x80d3ab(0x301)][_0x80d3ab(0x4b5)]();}[_0x3317da(0x644)](){const _0x2b7568=_0x3317da;return this[_0x2b7568(0x301)];}[_0x3317da(0x6df)](_0xc91e0e){const _0x4c4461=_0x3317da,_0x420147=Array[_0x4c4461(0x4f2)](this[_0x4c4461(0x46d)]['getRemoteUsers']()[_0x4c4461(0x17a)]())[_0x4c4461(0x5e1)](_0x350182=>_0x350182[_0x4c4461(0x37a)]()===_0x1a6b25[_0x4c4461(0x277)]);return _0xc91e0e?_0x420147[_0x4c4461(0x5e1)](_0xc91e0e):_0x420147;}async[_0x3317da(0x44f)](){const _0x4e9de9=_0x3317da;return this[_0x4e9de9(0x306)]=await this['discoveryService'][_0x4e9de9(0x2d6)](),this[_0x4e9de9(0x306)][_0x4e9de9(0x43f)]<this[_0x4e9de9(0x46d)][_0x4e9de9(0x554)]()&&(this[_0x4e9de9(0x301)][_0x4e9de9(0x16b)](this['ancestors'][_0x4e9de9(0x43f)]+0x1),this[_0x4e9de9(0x577)]()),this[_0x4e9de9(0x306)];}['getDistance'](_0x188da4,_0x1b2f07){const _0x3d8ebe=_0x3317da,_0x42ffe5=this['localUser'][_0x3d8ebe(0x707)](),_0x51256e=new Set(_0x42ffe5),_0x5e0cd5=Array[_0x3d8ebe(0x4f2)](_0x42ffe5)[_0x3d8ebe(0x5e1)](_0x3d13ae=>_0x3d13ae!==_0x188da4)[_0x3d8ebe(0x488)](_0x311974=>({'id':_0x311974,'distance':0x1}));for(;_0x5e0cd5[_0x3d8ebe(0x43f)]>0x0;){const _0x59e217=_0x5e0cd5['shift']();if(!_0x59e217)continue;if(_0x59e217['id']===_0x1b2f07)return _0x59e217[_0x3d8ebe(0x571)];const _0x435830=this[_0x3d8ebe(0x46d)]['getRemoteUser'](_0x59e217['id']);_0x435830&&_0x435830[_0x3d8ebe(0x37a)]()!==_0x1a6b25[_0x3d8ebe(0x19c)]&&_0x435830[_0x3d8ebe(0x707)]()[_0x3d8ebe(0x505)](_0x207084=>{const _0x2b335d=_0x3d8ebe;_0x51256e['has'](_0x207084)||(_0x51256e[_0x2b335d(0x443)](_0x207084),_0x5e0cd5['push']({'id':_0x207084,'distance':_0x59e217[_0x2b335d(0x571)]+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x274459){const _0x4a1c38=_0x3317da;try{switch(_0x274459[_0x4a1c38(0x1b9)][_0x4a1c38(0x1e3)]){case _0x3999d2[_0x4a1c38(0x1c9)]:case _0x3999d2[_0x4a1c38(0x30d)]:this[_0x4a1c38(0x390)](_0x274459[_0x4a1c38(0x1b9)]),_0x546907[_0x4a1c38(0x614)](_0xea19ad[_0x4a1c38(0x5cc)],'NodeManager\x20-\x20UserUpdate','\x27'+this[_0x4a1c38(0x301)][_0x4a1c38(0x4b5)]()+',\x20'+_0x274459[_0x4a1c38(0x396)]+'\x27',_0x274459,_0x274459[_0x4a1c38(0x1b9)]);break;case _0x3999d2['UserLeave']:this[_0x4a1c38(0x15c)](_0x274459['content']['id']),_0x546907[_0x4a1c38(0x614)](_0xea19ad[_0x4a1c38(0x5cc)],_0x4a1c38(0x1d4),'\x27'+this[_0x4a1c38(0x301)][_0x4a1c38(0x4b5)]()+',\x20'+_0x274459[_0x4a1c38(0x396)]+'\x27',_0x274459,_0x274459[_0x4a1c38(0x1b9)]);}}catch(_0x2f7515){if(_0x2f7515 instanceof _0x34beb4)return void _0x546907[_0x4a1c38(0x614)](_0xea19ad[_0x4a1c38(0x5cc)],_0x2f7515[_0x4a1c38(0x33f)]);throw _0x2f7515;}}['handleWebRTCSystemEvents'](_0x1e671d){const _0x7326cd=_0x3317da;switch(_0x1e671d[_0x7326cd(0x1b9)]['type']){case _0x2c3496[_0x7326cd(0x3e6)]:this[_0x7326cd(0x3ac)](_0x1e671d['sourceId']),_0x546907[_0x7326cd(0x614)](_0xea19ad[_0x7326cd(0x5cc)],_0x7326cd(0x71e),'\x27'+this[_0x7326cd(0x301)][_0x7326cd(0x4b5)]()+',\x20'+_0x1e671d[_0x7326cd(0x396)]+'\x27',_0x1e671d,_0x1e671d[_0x7326cd(0x1b9)]);break;case _0x2c3496[_0x7326cd(0x409)]:this[_0x7326cd(0x36f)](_0x1e671d[_0x7326cd(0x396)]),_0x546907[_0x7326cd(0x614)](_0xea19ad['Node'],_0x7326cd(0x5e0),this[_0x7326cd(0x301)][_0x7326cd(0x4b5)](),_0x1e671d,_0x1e671d[_0x7326cd(0x1b9)]);}}['handleUserJoin'](_0x17d639){this['createRemoteUser'](_0x17d639),this['notifyJoin'](_0x17d639);}['notifyJoin'](_0x66ae58){const _0x5ea051=_0x3317da;this['localUser']['answerJoin'](_0x66ae58['id']),this[_0x5ea051(0x67b)](_0x66ae58['id']),this['notifyClusterUserJoin'](_0x66ae58);}[_0x3317da(0x390)](_0x147da4){const _0x45b859=_0x3317da,{id:_0x12e1b8,displayName:_0x5bffa7,email:_0x3ee672,rank:_0x28f580,remoteConnections:_0x29be9b,version:_0x241ff3}=_0x147da4,_0x1c3fb1=this[_0x45b859(0x46d)][_0x45b859(0x1f6)](_0x12e1b8);if(_0x1c3fb1){if(!(_0x241ff3<=_0x1c3fb1[_0x45b859(0x563)]())){if(_0x1c3fb1[_0x45b859(0x29f)](_0x29be9b),_0x1c3fb1[_0x45b859(0x1fb)](_0x241ff3),_0x1c3fb1[_0x45b859(0x3c3)](_0x5bffa7),_0x1c3fb1[_0x45b859(0x352)](_0x3ee672),_0x28f580&&_0x1c3fb1[_0x45b859(0x16b)](_0x28f580),this[_0x45b859(0x4b9)](_0x12e1b8,_0x28f580),_0x1c3fb1[_0x45b859(0x37a)]()===_0x1a6b25['Offline'])return _0x1c3fb1[_0x45b859(0x49d)](_0x1a6b25[_0x45b859(0x277)]),this[_0x45b859(0x577)](),void this['notifyJoin'](_0x147da4);this['processRank'](),this[_0x45b859(0x32d)]({'id':_0x12e1b8,'displayName':_0x5bffa7,'email':_0x3ee672,'remoteConnections':_0x29be9b,'version':_0x241ff3});}}else this[_0x45b859(0x61c)](_0x147da4);}[_0x3317da(0x4b9)](_0x1c3ffc,_0xcbe711){const _0x4405de=_0x3317da;_0xcbe711&&this[_0x4405de(0x306)][_0x4405de(0x32e)](_0x1c3ffc)&&this[_0x4405de(0x301)][_0x4405de(0x16b)](_0xcbe711+this[_0x4405de(0x306)]['indexOf'](_0x1c3ffc)+0x1);}['handleWebRTCSuccess'](_0xc5555a){const _0x40ecc4=_0x3317da;this['localUser'][_0x40ecc4(0x173)](_0xc5555a);}[_0x3317da(0x667)]({id:_0x1c6e36,displayName:_0x16ad05='',email:_0x3c85ea='',rank:_0x478536,remoteConnections:_0x5aa83e,version:_0x294694}){const _0x4da06c=_0x3317da;if(this[_0x4da06c(0x46d)][_0x4da06c(0x5f3)](_0x1c6e36))throw new _0x34beb4(_0x4da06c(0x4fa)+_0x1c6e36);this[_0x4da06c(0x46d)][_0x4da06c(0x152)](_0x1c6e36,new _0x109631(_0x1c6e36,_0x16ad05,_0x3c85ea,new Set(_0x5aa83e),_0x294694,_0x478536)),this[_0x4da06c(0x4b9)](_0x1c6e36,_0x478536),this[_0x4da06c(0x577)]();}['publishUserJoin'](_0x2c367f){const _0x4039b6=_0x3317da;this[_0x4039b6(0x576)]['publish']({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x4039b6(0x5cc)],'content':{'type':_0x3999d2[_0x4039b6(0x2c9)],'id':_0x2c367f}});}[_0x3317da(0x36f)](_0x4d3116){const _0x1e768f=_0x3317da;this['systemTopic']?.['publish']({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x1e768f(0x5cc)],'content':{'type':_0x3999d2['UserLeave'],'id':_0x4d3116}});}[_0x3317da(0x53c)](_0x5f1228){const _0x5ffe3f=_0x3317da;if(_0x5f1228===this[_0x5ffe3f(0x301)][_0x5ffe3f(0x4b5)]())return this[_0x5ffe3f(0x3a8)][_0x5ffe3f(0x2a1)][_0x5ffe3f(0x1cb)](_0x5ffe3f(0x450),{'id':_0x5f1228}),this[_0x5ffe3f(0x3a8)]['mediator'][_0x5ffe3f(0x35e)](!0x0),this['configs'][_0x5ffe3f(0x2a1)]['open'](),void this[_0x5ffe3f(0x3a8)]['mediator'][_0x5ffe3f(0x2b8)]();this['publishUserLeave'](_0x5f1228);}['removeUser'](_0x30f3d2){const _0x481236=_0x3317da;this[_0x481236(0x306)][_0x481236(0x32e)](_0x30f3d2)?this[_0x481236(0x48d)](_0x30f3d2):this['localUser'][_0x481236(0x707)]()['has'](_0x30f3d2)&&this[_0x481236(0x62b)](_0x30f3d2),this[_0x481236(0x301)][_0x481236(0x6d7)](_0x30f3d2);const _0x40a4c0=Array[_0x481236(0x4f2)](this['optimizationLayers'][_0x481236(0x456)]())[_0x481236(0x657)](([,_0x38fba5])=>_0x38fba5==_0x38fba5);_0x40a4c0&&this[_0x481236(0x2f3)][_0x481236(0x164)](_0x40a4c0[0x0]);const _0x449f72=this[_0x481236(0x46d)][_0x481236(0x1f6)](_0x30f3d2);if(!_0x449f72)return;const _0x51d0c8=_0x449f72[_0x481236(0x4e4)](),_0x567591=this[_0x481236(0x301)]['getRank']();_0x567591&&_0x51d0c8&&_0x51d0c8<_0x567591&&this[_0x481236(0x301)]['setRank'](_0x567591-0x1,!0x1),Array[_0x481236(0x4f2)](this[_0x481236(0x46d)][_0x481236(0x6df)]()['values']())[_0x481236(0x505)](_0x43588f=>{const _0x1eb86a=_0x481236,_0xb2071=_0x43588f['getRank']();_0xb2071&&_0x51d0c8&&_0x51d0c8<_0xb2071&&_0x43588f[_0x1eb86a(0x16b)](_0xb2071-0x1);}),_0x449f72[_0x481236(0x49d)](_0x1a6b25[_0x481236(0x19c)]),this[_0x481236(0x3a8)]['mediator'][_0x481236(0x1cb)](_0x481236(0x1da),{'id':_0x30f3d2});}[_0x3317da(0x706)]({id:_0x10c0ea,displayName:_0x5564c3,email:_0x5bbf80,remoteConnections:_0x492851}){const _0x153e17=_0x3317da;this[_0x153e17(0x3a8)][_0x153e17(0x2a1)][_0x153e17(0x1cb)]('user-join',{'id':_0x10c0ea,'displayName':_0x5564c3,'email':_0x5bbf80,'remoteConnections':_0x492851});}[_0x3317da(0x32d)]({id:_0x135006,displayName:_0x359c51,email:_0x28bea5,remoteConnections:_0x2b96ed}){const _0x3c04fe=_0x3317da;this[_0x3c04fe(0x3a8)][_0x3c04fe(0x2a1)]['notifyCluster'](_0x3c04fe(0x3ff),{'id':_0x135006,'displayName':_0x359c51,'email':_0x28bea5,'remoteConnections':_0x2b96ed});}[_0x3317da(0x577)](){const _0x6c27d9=_0x3317da;if(this[_0x6c27d9(0x207)]||(this[_0x6c27d9(0x207)]=Date[_0x6c27d9(0x6dd)]()),this[_0x6c27d9(0x5ba)]){if(Date['now']()-this[_0x6c27d9(0x207)]>0x2328)return;clearTimeout(this[_0x6c27d9(0x5ba)]);}this[_0x6c27d9(0x5ba)]=setTimeout(async()=>{const _0x56e8dd=_0x6c27d9;delete this[_0x56e8dd(0x207)],delete this['debounceProcessRank'];const _0x4fcd2f=this['localUser']['getRank']();if(!_0x4fcd2f)return;const _0x488520=this[_0x56e8dd(0x46d)][_0x56e8dd(0x6d4)](this['graphService']['getRemoteUsers']()[_0x56e8dd(0x63a)]);if(this[_0x56e8dd(0x2f3)]['size']>=_0x488520)return;let _0x1d7a0b=0x1;for(;this['configs']['mediator']['getConnections']()['length']<this['graphService'][_0x56e8dd(0x517)]()&&_0x1d7a0b<=_0x488520;){if(this[_0x56e8dd(0x2f3)][_0x56e8dd(0x29e)](_0x1d7a0b)){_0x1d7a0b+=0x1;continue;}const _0xde4f29=this[_0x56e8dd(0x46d)]['getNextTargetRank'](_0x4fcd2f,_0x1d7a0b),_0x4564ba=Array[_0x56e8dd(0x4f2)](this['graphService'][_0x56e8dd(0x6df)]()[_0x56e8dd(0x17a)]())[_0x56e8dd(0x657)](_0x1a3421=>_0x1a3421[_0x56e8dd(0x4e4)]()===_0xde4f29&&_0x1a3421['getStatus']()===_0x1a6b25['Online']);if(_0x4564ba){try{await this[_0x56e8dd(0x3a8)][_0x56e8dd(0x2a1)][_0x56e8dd(0x2c3)](_0x4564ba['getId'](),_0x34d04f['Optimization']),this[_0x56e8dd(0x2f3)][_0x56e8dd(0x2c2)](_0x1d7a0b,_0x4564ba[_0x56e8dd(0x4b5)]());}catch(_0x424ab9){if(!(_0x424ab9 instanceof _0x2ba88c&&_0x424ab9[_0x56e8dd(0x540)]===_0x2ba88c[_0x56e8dd(0x4f1)][_0x56e8dd(0x431)]))throw _0x424ab9;_0x546907['log'](_0xea19ad['Node'],this[_0x56e8dd(0x301)]['getId'](),_0x4564ba[_0x56e8dd(0x4b5)](),_0x424ab9[_0x56e8dd(0x33f)]);}_0x1d7a0b+=0x1;}else _0x1d7a0b+=0x1;}},0x3e8);}async[_0x3317da(0x48d)](_0x51d491){const _0x1447e2=_0x3317da;this['ancestors'][_0x1447e2(0x49f)](this[_0x1447e2(0x306)][_0x1447e2(0x6cd)](_0x51d491),0x1);const _0x1c3a6a=await this['discoveryService'][_0x1447e2(0x351)]();for(const _0x445f2e of _0x1c3a6a)if(!this[_0x1447e2(0x306)][_0x1447e2(0x32e)](_0x445f2e)){const _0x5aab17=Array[_0x1447e2(0x4f2)](this[_0x1447e2(0x2f3)]['entries']())[_0x1447e2(0x657)](([,_0x3a8fc8])=>_0x3a8fc8===_0x445f2e);_0x5aab17&&this[_0x1447e2(0x2f3)][_0x1447e2(0x164)](_0x5aab17[0x0]),this['configs'][_0x1447e2(0x2a1)][_0x1447e2(0x2c3)](_0x445f2e,_0x34d04f[_0x1447e2(0x558)]);}0x0===_0x1c3a6a['length']&&this[_0x1447e2(0x301)]['setRank'](0x1),this[_0x1447e2(0x306)]=_0x1c3a6a;}async[_0x3317da(0x62b)](_0x2fde05){const _0xdb75f4=_0x3317da,_0x111342=this[_0xdb75f4(0x301)][_0xdb75f4(0x4e4)]();if(!_0x111342)return;const _0x7c8f9=this[_0xdb75f4(0x46d)][_0xdb75f4(0x1f6)](_0x2fde05);if(!_0x7c8f9||_0x7c8f9[_0xdb75f4(0x37a)]()===_0x1a6b25[_0xdb75f4(0x19c)])return;const _0x478823=_0x7c8f9[_0xdb75f4(0x4e4)]();if(!_0x478823||_0x478823<_0x111342)return;const _0x4675a7=this['getOutgoingOptimizationConnections'](this['localUser'][_0xdb75f4(0x707)](),_0x111342),_0x3049df=this[_0xdb75f4(0x415)](_0x7c8f9[_0xdb75f4(0x707)](),_0x478823)[_0x4675a7['findIndex'](([_0x4f853a])=>_0x4f853a===_0x2fde05)];if(!_0x3049df||this[_0xdb75f4(0x301)][_0xdb75f4(0x707)]()[_0xdb75f4(0x29e)](_0x3049df[0x0]))return;const _0x22be8c=this['graphService']['getRemoteUser'](_0x3049df[0x0]);if(_0x22be8c&&_0x22be8c[_0xdb75f4(0x37a)]()!==_0x1a6b25[_0xdb75f4(0x19c)])try{await this['configs'][_0xdb75f4(0x2a1)][_0xdb75f4(0x2c3)](_0x3049df[0x0],_0x34d04f[_0xdb75f4(0x1ad)]);const _0x3f3b01=Array[_0xdb75f4(0x4f2)](this[_0xdb75f4(0x2f3)][_0xdb75f4(0x456)]())[_0xdb75f4(0x657)](([,_0x3bc8b3])=>_0x3bc8b3===_0x2fde05);_0x3f3b01&&this['optimizationLayers'][_0xdb75f4(0x2c2)](_0x3f3b01[0x0],_0x3049df[0x0]);}catch(_0x52147d){if(!(_0x52147d instanceof _0x2ba88c&&_0x52147d[_0xdb75f4(0x540)]===_0x2ba88c[_0xdb75f4(0x4f1)]['RemoteConnectionExists']))throw _0x52147d;_0x546907[_0xdb75f4(0x614)](_0xea19ad['Node'],this[_0xdb75f4(0x301)][_0xdb75f4(0x4b5)](),_0x3049df[0x0],_0x52147d[_0xdb75f4(0x33f)]);}}['getOutgoingOptimizationConnections'](_0x16b373,_0x290f7f){const _0x3f5c27=_0x3317da;return Array[_0x3f5c27(0x4f2)](_0x16b373)[_0x3f5c27(0x65e)]((_0x18a7b3,_0x517f16)=>{const _0x1f698c=_0x3f5c27,_0x460bc8=this[_0x1f698c(0x46d)][_0x1f698c(0x1f6)](_0x517f16);if(!_0x460bc8||_0x460bc8[_0x1f698c(0x37a)]()===_0x1a6b25['Offline'])return _0x18a7b3;const _0x4a7923=_0x460bc8[_0x1f698c(0x4e4)]();if(!_0x4a7923)return _0x18a7b3;const _0x365b9f=_0x4a7923-_0x290f7f;return _0x365b9f<=this[_0x1f698c(0x46d)][_0x1f698c(0x554)]()||_0x18a7b3[_0x1f698c(0x4ee)]([_0x517f16,_0x365b9f]),_0x18a7b3;},[])[_0x3f5c27(0x720)](([,_0x184636],[,_0x233c1d])=>_0x184636-_0x233c1d);}}class _0xb0b272 extends _0x8e0a4c{['systemTopic'];[_0x3317da(0x52f)]=Date['now']();['updateDebounceTimeout'];['lastUpdated'];['close'](){const _0x3fda44=_0x3317da;this[_0x3fda44(0x653)]&&(clearTimeout(this[_0x3fda44(0x653)]),delete this[_0x3fda44(0x653)]),delete this[_0x3fda44(0x574)],this[_0x3fda44(0x52f)]=Date[_0x3fda44(0x6dd)](),super[_0x3fda44(0x35e)]();}[_0x3317da(0x592)](_0x1407c0){const _0x1ec905=_0x3317da;this[_0x1ec905(0x576)]=_0x1407c0;}['unregisterSystemPublisher'](){const _0x221cba=_0x3317da;delete this[_0x221cba(0x576)];}[_0x3317da(0x2cc)](_0xd0290e){const _0x26babb=_0x3317da;!this[_0x26babb(0x653)]&&this[_0x26babb(0x257)]&&this['systemTopic'][_0x26babb(0x6af)]({'sourceId':this['id'],'destinationIds':[_0xd0290e],'propagate':!0x0,'messageType':_0x1c4d06[_0x26babb(0x5cc)],'content':{'type':_0x3999d2[_0x26babb(0x1c9)],'id':this['id'],'displayName':this['getDisplayName'](),'email':this[_0x26babb(0x3c0)](),'rank':this[_0x26babb(0x4e4)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0x26babb(0x52f)]}});}[_0x3317da(0x173)](_0x5459e1){const _0x19e0e2=_0x3317da;this[_0x19e0e2(0x526)][_0x19e0e2(0x29e)](_0x5459e1)||(this[_0x19e0e2(0x526)]['add'](_0x5459e1),this[_0x19e0e2(0x212)](),this['publishUserUpdate'](!0x0));}[_0x3317da(0x6d7)](_0x2dbf1f){const _0x2c185f=_0x3317da;this[_0x2c185f(0x526)][_0x2c185f(0x29e)](_0x2dbf1f)&&(this[_0x2c185f(0x526)]['delete'](_0x2dbf1f),this[_0x2c185f(0x212)](),this['publishUserUpdate'](!0x0));}['getCurrentVersion'](){const _0xa7a5e2=_0x3317da;return this[_0xa7a5e2(0x52f)];}[_0x3317da(0x3c3)](_0x3b9c69){const _0x3ef0f0=_0x3317da;this[_0x3ef0f0(0x2b2)]!==_0x3b9c69&&(this[_0x3ef0f0(0x2b2)]=_0x3b9c69,this['incrementVersion'](),this[_0x3ef0f0(0x3a9)]());}['setEmail'](_0x45d23e){const _0x23e7df=_0x3317da;this[_0x23e7df(0x159)]!==_0x45d23e&&(this['email']=_0x45d23e,this[_0x23e7df(0x212)](),this[_0x23e7df(0x3a9)]());}[_0x3317da(0x16b)](_0xe44c72,_0x40b566=!0x0){const _0xa3dfe7=_0x3317da;this[_0xa3dfe7(0x257)]!==_0xe44c72&&(this[_0xa3dfe7(0x257)]=_0xe44c72,_0x40b566&&(this[_0xa3dfe7(0x212)](),this[_0xa3dfe7(0x3a9)]()));}[_0x3317da(0x212)](){const _0x5dd576=_0x3317da;this[_0x5dd576(0x52f)]=Date[_0x5dd576(0x6dd)]();}[_0x3317da(0x3a9)](_0x136da4=!0x1){const _0x38a9c8=_0x3317da;if(this[_0x38a9c8(0x257)]){if(this[_0x38a9c8(0x574)]||(this[_0x38a9c8(0x574)]=Date['now']()),this[_0x38a9c8(0x653)]){if(Date[_0x38a9c8(0x6dd)]()-this[_0x38a9c8(0x574)]>0x2328)return;clearTimeout(this[_0x38a9c8(0x653)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x20fbab=_0x38a9c8;delete this[_0x20fbab(0x574)],delete this[_0x20fbab(0x653)],this[_0x20fbab(0x576)][_0x20fbab(0x6af)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x1c4d06[_0x20fbab(0x5cc)],'content':{'type':_0x136da4?_0x3999d2[_0x20fbab(0x30d)]:_0x3999d2['UserUpdate'],'id':this['id'],'displayName':this['getDisplayName'](),'email':this[_0x20fbab(0x3c0)](),'rank':this[_0x20fbab(0x4e4)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0x20fbab(0x52f)]}});},0x3e8);}}}const _0x6e101d=[{'problemType':_0x3de9e3['CPUCycle'],'remediations':[{'type':_0x539536[_0x3317da(0x38b)],'component':_0x196313['Resolution'],'action':_0xbceedb['Downgrade']},{'type':_0x539536[_0x3317da(0x28b)],'component':_0x196313[_0x3317da(0x643)],'action':_0xbceedb[_0x3317da(0x647)]}]},{'problemType':_0x3de9e3['TimePerFrame'],'remediations':[{'type':_0x539536[_0x3317da(0x38b)],'component':_0x196313['Resolution'],'action':_0xbceedb['Downgrade']}]},{'problemType':_0x3de9e3[_0x3317da(0x476)],'remediations':[{'type':_0x539536['Remediation'],'component':_0x196313[_0x3317da(0x643)],'action':_0xbceedb[_0x3317da(0x647)]}]},{'problemType':_0x3de9e3[_0x3317da(0x402)],'remediations':[{'type':_0x539536['Remediation'],'component':_0x196313['Resolution'],'action':_0xbceedb[_0x3317da(0x647)]}]},{'problemType':_0x3de9e3[_0x3317da(0x5ae)],'remediations':[{'type':_0x539536[_0x3317da(0x38b)],'component':_0x196313[_0x3317da(0x5ae)],'action':_0xbceedb[_0x3317da(0x647)]}]},{'problemType':_0x3de9e3[_0x3317da(0x70d)],'remediations':[{'type':_0x539536[_0x3317da(0x38b)],'component':_0x196313[_0x3317da(0x5ae)],'action':_0xbceedb[_0x3317da(0x647)]}]},{'problemType':_0x3de9e3[_0x3317da(0x246)],'remediations':[{'type':_0x539536['Remediation'],'component':_0x196313[_0x3317da(0x5ae)],'action':_0xbceedb[_0x3317da(0x647)]}]}];class _0x28d61a{['configs'];[_0x3317da(0x576)];['lastRemediations']=new Map();constructor(_0xacb331){const _0x36422f=_0x3317da;this['configs']=_0xacb331,this[_0x36422f(0x3a8)][_0x36422f(0x2a1)][_0x36422f(0x469)](this);}[_0x3317da(0x35e)](){const _0x5e878a=_0x3317da;this[_0x5e878a(0x3a8)]['mediator']['unregisterSystemSource'](this);}[_0x3317da(0x592)](_0x4ed32d){this['systemTopic']=_0x4ed32d;}[_0x3317da(0x449)](){const _0x1c6f5a=_0x3317da;delete this[_0x1c6f5a(0x576)];}[_0x3317da(0x3cc)](_0xd319c0){const _0x26d331=_0x3317da;_0xd319c0[_0x26d331(0x1b9)][_0x26d331(0x1e3)]===_0x176b0f[_0x26d331(0x6da)]&&this[_0x26d331(0x4d6)](_0xd319c0['content'][_0x26d331(0x1ed)]);}[_0x3317da(0x590)](_0x442fbf){const _0x49bb8d=_0x3317da;_0x442fbf['content'][_0x49bb8d(0x1e3)]===_0x539536[_0x49bb8d(0x28b)]&&this[_0x49bb8d(0x5aa)](_0x442fbf[_0x49bb8d(0x396)],{'type':_0x539536['Remediation'],'component':_0x442fbf[_0x49bb8d(0x1b9)][_0x49bb8d(0x1ed)]['component'],'action':_0x442fbf[_0x49bb8d(0x1b9)][_0x49bb8d(0x1ed)][_0x49bb8d(0x377)]});}['handleProblem'](_0x213b6c){const _0x290e39=_0x3317da,_0x24d5c5=_0x6e101d[_0x290e39(0x657)](_0x4e5ee3=>_0x4e5ee3[_0x290e39(0x353)]===_0x213b6c['type']);_0x24d5c5['remediations']?.[_0x290e39(0x505)](_0x4babaf=>{const _0x3e4a5c=_0x290e39;this[_0x3e4a5c(0x5aa)](_0x213b6c[_0x3e4a5c(0x4eb)],{'type':_0x213b6c[_0x3e4a5c(0x6dc)]===_0x39632f[_0x3e4a5c(0x6e5)]?_0x539536[_0x3e4a5c(0x38b)]:_0x539536[_0x3e4a5c(0x28b)],'component':_0x4babaf[_0x3e4a5c(0x25a)],'action':_0x4babaf['action']});});}['applyRemediation'](_0x410652,_0x55852c){const _0x12f79b=_0x3317da;if(_0x55852c[_0x12f79b(0x1e3)]===_0x539536[_0x12f79b(0x38b)]){const _0x15ff60=Date[_0x12f79b(0x6dd)](),_0x425821=this[_0x12f79b(0x678)][_0x12f79b(0x1c0)](_0x410652);if(_0x425821&&_0x15ff60-_0x425821<0x1388)return;this[_0x12f79b(0x678)][_0x12f79b(0x2c2)](_0x410652,_0x15ff60);}_0x546907[_0x12f79b(0x614)](_0xea19ad[_0x12f79b(0x38b)],_0x12f79b(0x388),_0x55852c),_0x546907[_0x12f79b(0x1b2)]('remediation',{'clusterId':this[_0x12f79b(0x3a8)]['clusterId'],'userId':this[_0x12f79b(0x3a8)][_0x12f79b(0x3d5)],'remoteId':_0x410652,'data':{'type':_0x55852c[_0x12f79b(0x1e3)],'component':_0x55852c[_0x12f79b(0x25a)],'action':_0x55852c[_0x12f79b(0x377)]}});let _0x15b9a8,_0x18ed40=_0x3e41dd;_0x55852c[_0x12f79b(0x1e3)]===_0x539536[_0x12f79b(0x28b)]&&(_0x18ed40=this[_0x12f79b(0x3a8)][_0x12f79b(0x3d5)],_0x15b9a8=[_0x410652]),this['systemTopic'][_0x12f79b(0x6af)]({'sourceId':_0x18ed40,'destinationIds':_0x15b9a8,'messageType':_0x1c4d06[_0x12f79b(0x38b)],'content':{'type':_0x55852c[_0x12f79b(0x1e3)],'targetId':_0x410652,'data':_0x55852c}});}}const _0xd50807=0x3e8,_0x31995a=0x7530,_0x4a7692=_0x3317da(0x5df),_0x55383e=_0x3317da(0x604),_0x20fc9b=_0x3317da(0x686),_0x2445b6=[_0x4a7692,_0x55383e],_0x976216=[_0x20fc9b];class _0x1c215e{[_0x3317da(0x673)]=0x0;[_0x3317da(0x4f5)]=0x0;[_0x3317da(0x6ae)]=0x0;[_0x3317da(0x31b)]=0x0;[_0x3317da(0x5cb)]=0x0;[_0x3317da(0x5b5)]=0x0;['previousTimestamp']=0x0;[_0x3317da(0x24b)]=0x0;[_0x3317da(0x5e5)]=0x0;get[_0x3317da(0x254)](){const _0x5d51cb=_0x3317da;return this[_0x5d51cb(0x5b5)]>0x0&&this[_0x5d51cb(0x229)]>0x0&&Date[_0x5d51cb(0x6dd)]()-this[_0x5d51cb(0x5b5)]<_0x31995a?(this['currentBytes']-this[_0x5d51cb(0x5e5)])/(this[_0x5d51cb(0x5b5)]-this[_0x5d51cb(0x229)])*0x8*0x3e8:0x0;}[_0x3317da(0x1fe)](_0x5cbf2e){const _0x1f326e=_0x3317da;switch(_0x5cbf2e['type']){case _0x20fc9b:this['processInboundReport'](_0x5cbf2e);break;case _0x4a7692:this[_0x1f326e(0x661)](_0x5cbf2e);break;case _0x55383e:this[_0x1f326e(0x334)](_0x5cbf2e);}}[_0x3317da(0x2a5)](){const _0x482451=_0x3317da;return{'bitrate':this[_0x482451(0x254)],'packetsLostPerc':this[_0x482451(0x435)](),'roundTripTime':this[_0x482451(0x673)],'jitter':this[_0x482451(0x6ae)]};}[_0x3317da(0x255)](_0x13b6a5){const _0x4d17a4=_0x3317da;this[_0x4d17a4(0x6b0)](_0x13b6a5[_0x4d17a4(0x3bf)]),this['setTimestamp'](_0x13b6a5[_0x4d17a4(0x6ee)]),this[_0x4d17a4(0x5cb)]=_0x13b6a5[_0x4d17a4(0x171)],this[_0x4d17a4(0x31b)]=_0x13b6a5[_0x4d17a4(0x31b)],void 0x0!==_0x13b6a5[_0x4d17a4(0x6ae)]?this[_0x4d17a4(0x6ae)]=_0x13b6a5[_0x4d17a4(0x6ae)]:this[_0x4d17a4(0x6ae)]=0x0,void 0x0!==_0x13b6a5[_0x4d17a4(0x4f5)]?this['estimatedPlayoutTimestamp']=_0x13b6a5['estimatedPlayoutTimestamp']:this[_0x4d17a4(0x4f5)]=0x0;}[_0x3317da(0x661)](_0x38ab79){const _0x2046ef=_0x3317da;this['setBytes'](_0x38ab79[_0x2046ef(0x64f)]),this[_0x2046ef(0x39f)](_0x38ab79['timestamp']),this[_0x2046ef(0x5cb)]=_0x38ab79[_0x2046ef(0x163)];}[_0x3317da(0x334)](_0x22604e){const _0x463bb4=_0x3317da;this[_0x463bb4(0x673)]=0x3e8*_0x22604e[_0x463bb4(0x673)],void 0x0!==_0x22604e['jitter']?this[_0x463bb4(0x6ae)]=_0x22604e[_0x463bb4(0x6ae)]:this[_0x463bb4(0x6ae)]=0x0;}[_0x3317da(0x435)](){const _0xa22268=_0x3317da;return this[_0xa22268(0x5cb)]>0x0?this['packetsLost']/this[_0xa22268(0x5cb)]:0x0;}[_0x3317da(0x39f)](_0x24ead9){const _0x2803ca=_0x3317da;_0x24ead9>this['currentTimestamp']&&(this[_0x2803ca(0x229)]=this[_0x2803ca(0x5b5)],this['currentTimestamp']=_0x24ead9);}['setBytes'](_0x39bd40){const _0x412845=_0x3317da;this['previousBytes']=this[_0x412845(0x24b)],this[_0x412845(0x24b)]=_0x39bd40;}}class _0x3aefa4 extends _0x1c215e{}class _0x5e9e26 extends _0x1c215e{['frameTime']=0x0;[_0x3317da(0x57a)]=0x0;[_0x3317da(0x29d)]=0x0;[_0x3317da(0x56f)]=0x0;[_0x3317da(0x5d8)]=0x0;get[_0x3317da(0x659)](){const _0x590994=_0x3317da;return this['currentTimestamp']>0x0&&this[_0x590994(0x229)]>0x0&&Date[_0x590994(0x6dd)]()-this[_0x590994(0x5b5)]<_0x31995a?(this[_0x590994(0x56f)]-this[_0x590994(0x5d8)])/(this['currentTimestamp']-this[_0x590994(0x229)])*0x3e8:0x0;}get[_0x3317da(0x308)](){const _0x1ac2ec=_0x3317da;return this[_0x1ac2ec(0x485)]&&this[_0x1ac2ec(0x56f)]&&this[_0x1ac2ec(0x56f)]>0x0?this[_0x1ac2ec(0x485)]/this[_0x1ac2ec(0x56f)]:0x0;}set[_0x3317da(0x3e0)](_0xd0f74f){const _0x5536ce=_0x3317da;this[_0x5536ce(0x5d8)]=this[_0x5536ce(0x56f)],this[_0x5536ce(0x56f)]=_0xd0f74f;}[_0x3317da(0x2a5)](){const _0x2e4e31=_0x3317da;return{...super['getReport'](),'FPS':this['fps'],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x2e4e31(0x57a)],'frameHeight':this[_0x2e4e31(0x29d)]};}['processInboundReport'](_0x51b126){const _0x43acaa=_0x3317da;super[_0x43acaa(0x255)](_0x51b126),this[_0x43acaa(0x485)]=_0x51b126['totalDecodeTime'],this['frames']=_0x51b126[_0x43acaa(0x553)],this[_0x43acaa(0x57a)]=_0x51b126[_0x43acaa(0x57a)],this[_0x43acaa(0x29d)]=_0x51b126[_0x43acaa(0x29d)];}[_0x3317da(0x661)](_0x12debf){const _0x119b67=_0x3317da;super[_0x119b67(0x661)](_0x12debf),this[_0x119b67(0x485)]=_0x12debf[_0x119b67(0x2d1)],this[_0x119b67(0x3e0)]=_0x12debf[_0x119b67(0x61e)],this['frameWidth']=_0x12debf[_0x119b67(0x57a)],this['frameHeight']=_0x12debf[_0x119b67(0x29d)];}}class _0x11f8d3{[_0x3317da(0x34d)]=new _0x3aefa4();[_0x3317da(0x2ca)]=new _0x5e9e26();get[_0x3317da(0x254)](){const _0x40cca3=_0x3317da;return this[_0x40cca3(0x34d)][_0x40cca3(0x254)]+this[_0x40cca3(0x2ca)][_0x40cca3(0x254)];}[_0x3317da(0x51a)](_0x275116){const _0x50a0aa=_0x3317da;return _0x275116['forEach'](_0x3bfaf2=>{const _0x58298e=a0_0x2858;switch(_0x3bfaf2['kind']){case _0x58298e(0x34d):this[_0x58298e(0x34d)]['processReport'](_0x3bfaf2);break;case _0x58298e(0x2ca):this[_0x58298e(0x2ca)][_0x58298e(0x1fe)](_0x3bfaf2);}}),this[_0x50a0aa(0x2a5)]();}[_0x3317da(0x2a5)](){const _0x332a1d=_0x3317da;return{'audio':this['audio'][_0x332a1d(0x2a5)](),'video':this['video'][_0x332a1d(0x2a5)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x332a1d(0x3a2)](),'bitrate':this[_0x332a1d(0x254)]};}['getRoundTripTime'](){const _0x3cde2b=_0x3317da;return Math[_0x3cde2b(0x1c1)]((this['audio']['roundTripTime']+this[_0x3cde2b(0x2ca)][_0x3cde2b(0x673)])/0x2);}['getAudioVideoDelay'](){const _0x5119de=_0x3317da;return this[_0x5119de(0x34d)][_0x5119de(0x4f5)]-this[_0x5119de(0x2ca)][_0x5119de(0x4f5)];}}class _0x1fda2d{['senderCurrentTimestamp']=0x0;[_0x3317da(0x18e)]=0x0;[_0x3317da(0x3c6)]=0x0;[_0x3317da(0x1f8)]=0x0;[_0x3317da(0x361)]=0x0;[_0x3317da(0x484)]=0x0;[_0x3317da(0x43c)]=0x0;[_0x3317da(0x50c)]=0x0;[_0x3317da(0x5ab)]=0x0;[_0x3317da(0x446)]=0x0;[_0x3317da(0x430)]=0x0;['receiverTimeProcessing']=0x0;['roundTripTime']=0x0;get[_0x3317da(0x254)](){const _0x9d3b9a=_0x3317da;return this[_0x9d3b9a(0x190)]+this[_0x9d3b9a(0x4b6)];}get[_0x3317da(0x190)](){const _0x44cfdc=_0x3317da;return this[_0x44cfdc(0x3ef)]>0x0&&this[_0x44cfdc(0x18e)]>0x0&&Date[_0x44cfdc(0x6dd)]()-this[_0x44cfdc(0x3ef)]<_0x31995a?(this[_0x44cfdc(0x361)]-this['senderPreviousBytes'])/(this['senderCurrentTimestamp']-this[_0x44cfdc(0x18e)])*0x8*0x3e8:0x0;}get[_0x3317da(0x4b6)](){const _0x533680=_0x3317da;return this[_0x533680(0x3c6)]>0x0&&this[_0x533680(0x1f8)]>0x0&&Date[_0x533680(0x6dd)]()-this['receiverCurrentTimestamp']<_0x31995a?(this['receiverCurrentBytes']-this[_0x533680(0x50c)])/(this['receiverCurrentTimestamp']-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}[_0x3317da(0x1fe)](_0x489fcd){const _0x3cc9ac=_0x3317da;switch(_0x489fcd[_0x3cc9ac(0x6dc)]){case _0x39632f[_0x3cc9ac(0x6e5)]:this[_0x3cc9ac(0x4d3)](_0x489fcd);break;case _0x39632f[_0x3cc9ac(0x5af)]:this['processReceiverReport'](_0x489fcd);}}['getReport'](){const _0x28be2f=_0x3317da;return{'bitrate':this[_0x28be2f(0x254)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x28be2f(0x4b6)],'totalBytes':this[_0x28be2f(0x66e)](),'senderTotalBytes':this[_0x28be2f(0x34b)](),'receiverTotalBytes':this[_0x28be2f(0x5f2)](),'totalMessages':this['senderTotalMessages']+this['receiverTotalMessages'],'senderTotalMessages':this[_0x28be2f(0x5ab)],'receiverTotalMessages':this[_0x28be2f(0x446)],'timeProcessing':this['senderTimeProcessing']+this[_0x28be2f(0x30e)],'senderTimeProcessing':this[_0x28be2f(0x430)],'receiverTimeProcessing':this[_0x28be2f(0x30e)],'roundTripTime':this[_0x28be2f(0x673)]};}[_0x3317da(0x66e)](){const _0x2f0345=_0x3317da;return this[_0x2f0345(0x361)]+this['receiverCurrentBytes'];}[_0x3317da(0x34b)](){const _0x4d61d5=_0x3317da;return this[_0x4d61d5(0x361)];}[_0x3317da(0x5f2)](){const _0x90dee0=_0x3317da;return this[_0x90dee0(0x43c)];}[_0x3317da(0x4d3)](_0x421358){const _0x1fd0b4=_0x3317da;this[_0x1fd0b4(0x181)](_0x421358[_0x1fd0b4(0x6ee)]),this[_0x1fd0b4(0x6b0)](_0x421358['bytesSent']),this['senderTotalMessages']=_0x421358[_0x1fd0b4(0x611)],this[_0x1fd0b4(0x430)]=_0x421358[_0x1fd0b4(0x717)],this[_0x1fd0b4(0x673)]=_0x421358[_0x1fd0b4(0x673)];}[_0x3317da(0x3a7)](_0x2a67f9){const _0x27b19e=_0x3317da;this[_0x27b19e(0x5cf)](_0x2a67f9['timestamp']),this[_0x27b19e(0x58e)](_0x2a67f9[_0x27b19e(0x3bf)]),this[_0x27b19e(0x446)]=_0x2a67f9[_0x27b19e(0x364)],this[_0x27b19e(0x30e)]=_0x2a67f9['timeReceiving'];}[_0x3317da(0x181)](_0x2d6615){const _0x1f50f6=_0x3317da;_0x2d6615>this[_0x1f50f6(0x3ef)]&&(this['senderPreviousTimestamp']=this[_0x1f50f6(0x3ef)],this[_0x1f50f6(0x3ef)]=_0x2d6615);}[_0x3317da(0x5cf)](_0x27ea67){const _0xa70b82=_0x3317da;_0x27ea67>this[_0xa70b82(0x3c6)]&&(this[_0xa70b82(0x1f8)]=this[_0xa70b82(0x3c6)],this[_0xa70b82(0x3c6)]=_0x27ea67);}[_0x3317da(0x6b0)](_0x3be104){const _0x2ef5cc=_0x3317da;this[_0x2ef5cc(0x484)]=this[_0x2ef5cc(0x361)],this[_0x2ef5cc(0x361)]=_0x3be104;}[_0x3317da(0x58e)](_0x50492c){const _0x24f178=_0x3317da;this['receiverPreviousBytes']=this[_0x24f178(0x43c)],this['receiverCurrentBytes']=_0x50492c;}}class _0x4eb569{[_0x3317da(0x559)]=new Map();[_0x3317da(0x45b)]=new Map();[_0x3317da(0x6de)]=new _0x1fda2d();get[_0x3317da(0x190)](){const _0x56c3fd=_0x3317da;let _0x22cf5a=0x0;return this[_0x56c3fd(0x559)]['forEach'](_0xf22034=>{const _0x4c0ee9=_0x56c3fd;_0x22cf5a+=_0xf22034[_0x4c0ee9(0x254)];}),_0x22cf5a+=this[_0x56c3fd(0x6de)][_0x56c3fd(0x190)],_0x22cf5a;}get[_0x3317da(0x4b6)](){const _0x452c8a=_0x3317da;let _0xe473cd=0x0;return this['receiverStreams'][_0x452c8a(0x505)](_0x559b71=>{const _0x4c61c6=_0x452c8a;_0xe473cd+=_0x559b71[_0x4c61c6(0x254)];}),_0xe473cd+=this[_0x452c8a(0x6de)][_0x452c8a(0x4b6)],_0xe473cd;}get[_0x3317da(0x254)](){const _0x27b92f=_0x3317da;return this['senderBitrate']+this[_0x27b92f(0x4b6)];}[_0x3317da(0x51a)](_0x545f46,_0x21212b){const _0x104d22=_0x3317da,_0x2d27b8=[],_0x402459=[];return _0x545f46 instanceof Array?_0x545f46[_0x104d22(0x505)](_0x13d4fe=>{_0x13d4fe instanceof RTCStatsReport&&_0x13d4fe['forEach'](_0x2b4b5f=>{const _0x4e6b64=a0_0x2858;_0x976216[_0x4e6b64(0x32e)](_0x2b4b5f[_0x4e6b64(0x1e3)])&&_0x2d27b8[_0x4e6b64(0x4ee)](_0x2b4b5f),_0x2445b6[_0x4e6b64(0x32e)](_0x2b4b5f[_0x4e6b64(0x1e3)])&&_0x402459[_0x4e6b64(0x4ee)](_0x2b4b5f);});}):this[_0x104d22(0x6de)][_0x104d22(0x1fe)](_0x545f46),_0x2d27b8[_0x104d22(0x43f)]>0x0&&_0x21212b?{...this[_0x104d22(0x46e)](_0x21212b,_0x2d27b8),'origin':_0x39632f['Receiver'],'streamId':_0x21212b}:_0x402459[_0x104d22(0x43f)]>0x0&&_0x21212b?{...this[_0x104d22(0x500)](_0x21212b,_0x402459),'origin':_0x39632f['Sender'],'streamId':_0x21212b}:void 0x0;}[_0x3317da(0x2a5)](){const _0x44bdc5=_0x3317da,_0x534af9={};this[_0x44bdc5(0x559)]['forEach']((_0x43382a,_0x22fcab)=>{const _0x5c0158=_0x44bdc5;_0x534af9[_0x22fcab]=_0x43382a[_0x5c0158(0x2a5)]();});const _0x3c8735={};return this['receiverStreams'][_0x44bdc5(0x505)]((_0x5a479d,_0x2d1be9)=>{const _0x45af90=_0x44bdc5;_0x3c8735[_0x2d1be9]=_0x5a479d[_0x45af90(0x2a5)]();}),{'bitrate':this[_0x44bdc5(0x254)],'senderBitrate':this[_0x44bdc5(0x190)],'receiverBitrate':this[_0x44bdc5(0x4b6)],'senderStreams':_0x534af9,'receiverStreams':_0x3c8735,'dataChannel':this[_0x44bdc5(0x6de)][_0x44bdc5(0x2a5)]()};}[_0x3317da(0x46e)](_0x4aaedb,_0x4d8858){const _0x4ae214=_0x3317da;return this[_0x4ae214(0x45b)]['has'](_0x4aaedb)||this[_0x4ae214(0x45b)][_0x4ae214(0x2c2)](_0x4aaedb,new _0x11f8d3()),this['receiverStreams']['get'](_0x4aaedb)[_0x4ae214(0x51a)](_0x4d8858);}[_0x3317da(0x500)](_0xe14884,_0x139775){const _0x44448a=_0x3317da;return this['senderStreams'][_0x44448a(0x29e)](_0xe14884)||this[_0x44448a(0x559)][_0x44448a(0x2c2)](_0xe14884,new _0x11f8d3()),this[_0x44448a(0x559)]['get'](_0xe14884)[_0x44448a(0x51a)](_0x139775);}}class _0x204474{[_0x3317da(0x249)]=new Map();['scheduleTime']=0x0;[_0x3317da(0x2e4)]=0x0;[_0x3317da(0x669)]=new Map();[_0x3317da(0x5e2)]=new Map();[_0x3317da(0x188)]=new Map();['senderTotalMessages']=new Map();[_0x3317da(0x446)]=new Map();[_0x3317da(0x430)]=new Map();[_0x3317da(0x30e)]=new Map();[_0x3317da(0x336)]=new Map();[_0x3317da(0x576)];[_0x3317da(0x2a5)](){const _0x46f72d=_0x3317da,_0x432fb0={};this[_0x46f72d(0x249)][_0x46f72d(0x505)]((_0x2fec6c,_0x43498e)=>{const _0x4a8d09=_0x46f72d;_0x432fb0[_0x43498e]=_0x2fec6c[_0x4a8d09(0x2a5)]();});let _0x10233a=0x0;this[_0x46f72d(0x430)][_0x46f72d(0x505)](_0x1d7ead=>{_0x10233a+=_0x1d7ead;});let _0x4e960a=0x0;this['receiverTimeProcessing']['forEach'](_0x30c6b4=>{_0x4e960a+=_0x30c6b4;});const _0x2e822b=_0x10233a+_0x4e960a;let _0x2ffe62={'messages':{'total':0x0}};this[_0x46f72d(0x336)][_0x46f72d(0x505)](_0x229008=>{const _0x14acf9=_0x46f72d;Object[_0x14acf9(0x3f9)](_0x229008)['forEach'](_0x311147=>{const _0x3268e4=_0x14acf9;_0x2ffe62[_0x311147]||(_0x2ffe62[_0x311147]={}),Object['keys'](_0x229008[_0x311147])[_0x3268e4(0x505)](_0xf60657=>{_0x2ffe62[_0x311147][_0xf60657]||(_0x2ffe62[_0x311147][_0xf60657]=0x0),_0x2ffe62[_0x311147][_0xf60657]+=_0x229008[_0x311147][_0xf60657];});});});let _0x3c9b0a=0x0,_0x4d3cd2=0x0,_0x228c45=0x0,_0x4adfe1=0x0,_0x1f17d1=0x0;return this[_0x46f72d(0x669)][_0x46f72d(0x505)](_0x4151a8=>{const _0x3b3fc5=_0x46f72d;_0x4d3cd2+=_0x4151a8[_0x3b3fc5(0x611)],_0x228c45+=_0x4151a8[_0x3b3fc5(0x364)],_0x4adfe1+=_0x4151a8[_0x3b3fc5(0x64f)],_0x1f17d1+=_0x4151a8[_0x3b3fc5(0x3bf)];}),this['objectStores']['forEach'](_0x13d8e5=>{const _0x11d049=_0x46f72d;_0x3c9b0a+=_0x13d8e5[_0x11d049(0x322)],_0x4d3cd2+=_0x13d8e5[_0x11d049(0x611)],_0x228c45+=_0x13d8e5['messagesReceived'],_0x4adfe1+=_0x13d8e5[_0x11d049(0x64f)],_0x1f17d1+=_0x13d8e5[_0x11d049(0x3bf)];}),this[_0x46f72d(0x188)]['forEach'](_0x4320e2=>{const _0x540a02=_0x46f72d;_0x3c9b0a+=_0x4320e2[_0x540a02(0x322)],_0x4d3cd2+=_0x4320e2[_0x540a02(0x611)],_0x228c45+=_0x4320e2[_0x540a02(0x364)],_0x4adfe1+=_0x4320e2[_0x540a02(0x64f)],_0x1f17d1+=_0x4320e2[_0x540a02(0x3bf)];}),{'STVolatility':this[_0x46f72d(0x40b)](),'DTVolatility':this['getDTVolatility'](),'bitrate':this[_0x46f72d(0x184)](),'senderBitrate':this[_0x46f72d(0x41d)](),'receiverBitrate':this[_0x46f72d(0x599)](),'totalStorageSize':_0x3c9b0a,'totalMessages':_0x4d3cd2+_0x228c45,'totalMessagesSent':_0x4d3cd2,'totalMessagesReceived':_0x228c45,'totalBytes':_0x4adfe1+_0x1f17d1,'totalBytesSent':_0x4adfe1,'totalBytesReceived':_0x1f17d1,'systemMessages':_0x2ffe62,'timeProcessing':_0x2e822b,'users':_0x432fb0,'pubsubTopics':Object[_0x46f72d(0x6d0)](this['pubsubTopics']),'objectStores':Object[_0x46f72d(0x6d0)](this[_0x46f72d(0x5e2)]),'keyValueDatabases':Object[_0x46f72d(0x6d0)](this[_0x46f72d(0x188)])};}[_0x3317da(0x318)](_0x5398ec){const _0x5a4217=_0x3317da;this[_0x5a4217(0x249)][_0x5a4217(0x2c2)](_0x5398ec,new _0x4eb569());}[_0x3317da(0x608)](_0x518e54){const _0x3e6f6f=_0x3317da;this[_0x3e6f6f(0x249)][_0x3e6f6f(0x164)](_0x518e54);}[_0x3317da(0x51a)](_0x38e6fd,_0x2f0265,_0x5c9027){const _0xce84cb=_0x3317da;_0x2f0265 instanceof Array||this[_0xce84cb(0x6b6)](_0x38e6fd,_0x2f0265);const _0x37e9f0=this[_0xce84cb(0x249)]['get'](_0x38e6fd)?.[_0xce84cb(0x51a)](_0x2f0265,_0x5c9027);_0x37e9f0&&this[_0xce84cb(0x576)][_0xce84cb(0x6af)]({'sourceId':_0x3e41dd,'messageType':_0x1c4d06['Stats'],'content':{'type':_0x465c63[_0xce84cb(0x1d9)],'data':{..._0x37e9f0,'userId':_0x38e6fd}}});}[_0x3317da(0x3f2)](_0x2ba6ea){const _0x12c181=_0x3317da;this[_0x12c181(0x6d1)](_0x2ba6ea['secheduleTime']),this[_0x12c181(0x4fd)](_0x2ba6ea[_0x12c181(0x2e4)]),this[_0x12c181(0x576)]['publish']({'sourceId':_0x3e41dd,'messageType':_0x1c4d06[_0x12c181(0x1d7)],'content':{'type':_0x465c63[_0x12c181(0x20b)],'data':{'STVolatility':this[_0x12c181(0x40b)](),'DTVolatility':this[_0x12c181(0x52d)]()}}});}[_0x3317da(0x263)](_0x2a6c97,_0x5f5c3b,_0x4f3bf2){const _0x57803a=_0x3317da;switch(_0x5f5c3b){case _0x167820[_0x57803a(0x1bf)]:this[_0x57803a(0x669)][_0x57803a(0x2c2)](_0x2a6c97,_0x4f3bf2);break;case _0x167820[_0x57803a(0x284)]:this['objectStores']['set'](_0x2a6c97,_0x4f3bf2);break;case _0x167820[_0x57803a(0x5f9)]:this[_0x57803a(0x188)][_0x57803a(0x2c2)](_0x2a6c97,_0x4f3bf2);}}[_0x3317da(0x592)](_0x4cedcf){const _0x2979f1=_0x3317da;this[_0x2979f1(0x576)]=_0x4cedcf;}[_0x3317da(0x449)](){delete this['systemTopic'];}[_0x3317da(0x40b)](){const _0x4fc587=_0x3317da;return this[_0x4fc587(0x434)]>0x0&&this[_0x4fc587(0x434)]-_0xd50807>0x0?(this[_0x4fc587(0x434)]-_0xd50807)/_0xd50807:0x0;}[_0x3317da(0x52d)](){const _0xfae98=_0x3317da;return this[_0xfae98(0x2e4)]>0x0&&this[_0xfae98(0x2e4)]-0x64>0x0?(this[_0xfae98(0x2e4)]-0x64)/0x64:0x0;}[_0x3317da(0x41d)](){const _0x47c182=_0x3317da;let _0x2ba195=0x0;return this['users'][_0x47c182(0x505)](_0x2ac05=>{const _0x4e447e=_0x47c182;_0x2ba195+=_0x2ac05[_0x4e447e(0x190)];}),_0x2ba195;}[_0x3317da(0x599)](){const _0x515db4=_0x3317da;let _0x2a0188=0x0;return this[_0x515db4(0x249)][_0x515db4(0x505)](_0x3ebb30=>{_0x2a0188+=_0x3ebb30['receiverBitrate'];}),_0x2a0188;}['getBitrate'](){const _0x57d14c=_0x3317da;let _0x49372a=0x0;return this[_0x57d14c(0x249)][_0x57d14c(0x505)](_0xdaf913=>{const _0x4632cd=_0x57d14c;_0x49372a+=_0xdaf913[_0x4632cd(0x254)];}),_0x49372a;}[_0x3317da(0x6d1)](_0x329c2e){const _0x339348=_0x3317da;this[_0x339348(0x434)]=_0x329c2e;}['setDurationTime'](_0x1a829d){const _0x447e36=_0x3317da;this[_0x447e36(0x2e4)]=_0x1a829d;}['processDataChannelReport'](_0x5870be,_0x4e8936){const _0x1d9628=_0x3317da;switch(_0x4e8936[_0x1d9628(0x6dc)]){case _0x39632f[_0x1d9628(0x6e5)]:this[_0x1d9628(0x4d3)](_0x5870be,_0x4e8936);break;case _0x39632f['Receiver']:this['processReceiverReport'](_0x5870be,_0x4e8936);}}[_0x3317da(0x4d3)](_0x20fe36,_0x46d01f){const _0x313f55=_0x3317da;this[_0x313f55(0x5ab)][_0x313f55(0x2c2)](_0x20fe36,_0x46d01f[_0x313f55(0x611)]),this[_0x313f55(0x430)][_0x313f55(0x2c2)](_0x20fe36,_0x46d01f[_0x313f55(0x717)]);}['processReceiverReport'](_0x9df6ea,_0x4e0cca){const _0x10551b=_0x3317da;this['receiverTotalMessages'][_0x10551b(0x2c2)](_0x9df6ea,_0x4e0cca[_0x10551b(0x364)]),this['receiverTimeProcessing'][_0x10551b(0x2c2)](_0x9df6ea,_0x4e0cca[_0x10551b(0x4c4)]),this[_0x10551b(0x336)][_0x10551b(0x2c2)](_0x9df6ea,_0x4e0cca[_0x10551b(0x336)]);}}class _0x562bb3{[_0x3317da(0x3a8)];[_0x3317da(0x548)]=new Set();[_0x3317da(0x5b2)];[_0x3317da(0x628)];[_0x3317da(0x335)];['statsReport']=new _0x204474();constructor(_0x3612a6){const _0x5924e4=_0x3317da;this[_0x5924e4(0x3a8)]=_0x3612a6,this[_0x5924e4(0x3a8)][_0x5924e4(0x2a1)]['registerSystemSource'](this[_0x5924e4(0x1e9)]),this[_0x5924e4(0x628)]=this[_0x5924e4(0x716)](),this[_0x5924e4(0x335)]=this['setupStatsReporting']();}[_0x3317da(0x35e)](){const _0x9035c5=_0x3317da;this[_0x9035c5(0x3a8)][_0x9035c5(0x2a1)][_0x9035c5(0x61d)](this[_0x9035c5(0x1e9)]),this[_0x9035c5(0x335)](),this[_0x9035c5(0x628)]();}[_0x3317da(0x318)](_0x492c29){const _0x5260f5=_0x3317da;this['remoteUsers']['add'](_0x492c29),this[_0x5260f5(0x1e9)][_0x5260f5(0x318)](_0x492c29);}[_0x3317da(0x608)](_0x57c4a4){const _0x21c1ee=_0x3317da;this['remoteUsers'][_0x21c1ee(0x164)](_0x57c4a4),this[_0x21c1ee(0x1e9)]['removeRemoteUser'](_0x57c4a4);}[_0x3317da(0x147)](_0x291338){const _0x461178=_0x3317da;if(_0x291338[_0x461178(0x1b9)]['type']===_0x2c3496['Stats']){const {userId:_0x4d4d99,streamId:_0x5d9715,stats:_0x1d2d5e}=_0x291338[_0x461178(0x1b9)];this[_0x461178(0x1e9)][_0x461178(0x51a)](_0x4d4d99,_0x1d2d5e,_0x5d9715);}}['handleContentSystemEvents'](_0x296988){const _0x34ecc8=_0x3317da;switch(_0x296988[_0x34ecc8(0x1b9)]['type']){case _0x167820[_0x34ecc8(0x284)]:case _0x167820[_0x34ecc8(0x5f9)]:case _0x167820[_0x34ecc8(0x1bf)]:this['statsReport'][_0x34ecc8(0x263)](_0x296988[_0x34ecc8(0x1b9)]['label'],_0x296988['content'][_0x34ecc8(0x1e3)],_0x296988['content']['stats']);}}['setupStatsReporting'](){return _0x4d713a['setInterval'](()=>{const _0x379973=a0_0x2858,_0x161028=this[_0x379973(0x1e9)][_0x379973(0x2a5)]();_0x546907['log'](_0xea19ad[_0x379973(0x1d7)],_0x379973(0x193),_0x161028),(0x0,_0x4e5e10['addDoc'])((0x0,_0x4e5e10[_0x379973(0x40e)])(_0x1159b8['getFirestore'](),'developers/'+this[_0x379973(0x3a8)][_0x379973(0x589)]+_0x379973(0x22a)),{'clusterId':this['configs'][_0x379973(0x2ed)],'userId':this[_0x379973(0x3a8)][_0x379973(0x3d5)],'timestamp':(0x0,_0x4e5e10[_0x379973(0x2cf)])(),'report':_0x161028}),_0x546907[_0x379973(0x1b2)](_0x379973(0x224),{'clusterId':this[_0x379973(0x3a8)][_0x379973(0x2ed)],'userId':this[_0x379973(0x3a8)][_0x379973(0x3d5)],'data':{'report':_0x161028}});},_0x31995a);}[_0x3317da(0x716)](){const _0xfda316=_0x3317da;let _0x31308a=!0x1,_0x1f86b9=Date[_0xfda316(0x6dd)]();return _0x4d713a[_0xfda316(0x4e2)](async()=>{const _0x4d2eba=_0xfda316;if(_0x31308a)return;if(_0x31308a=!0x0,0x0===this[_0x4d2eba(0x548)][_0x4d2eba(0x63a)])return delete this[_0x4d2eba(0x5b2)],void(_0x31308a=!0x1);const _0x3586c7=Date[_0x4d2eba(0x6dd)]();this[_0x4d2eba(0x19d)]();try{await this['configs'][_0x4d2eba(0x2a1)]['collectStats'](this[_0x4d2eba(0x5b2)]);}catch(_0x5ca79c){}this[_0x4d2eba(0x1e9)]['processLocalReport']({'secheduleTime':_0x3586c7-_0x1f86b9,'durationTime':Date[_0x4d2eba(0x6dd)]()-_0x3586c7}),_0x1f86b9=_0x3586c7,_0x31308a=!0x1;},_0xd50807);}[_0x3317da(0x19d)](){const _0x3adf93=_0x3317da;let _0x5ec4e4,_0x5e0e23=!0x1;this[_0x3adf93(0x5b2)]&&(this[_0x3adf93(0x548)][_0x3adf93(0x29e)](this['nextUserId'])||delete this[_0x3adf93(0x5b2)]);for(const _0x4b1b9e of this[_0x3adf93(0x548)])if(_0x5ec4e4||(_0x5ec4e4=_0x4b1b9e),this[_0x3adf93(0x5b2)]!==_0x4b1b9e){if(_0x5e0e23)return void(this[_0x3adf93(0x5b2)]=_0x4b1b9e);}else _0x5e0e23=!0x0,delete this[_0x3adf93(0x5b2)];this[_0x3adf93(0x5b2)]||(this[_0x3adf93(0x5b2)]=_0x5ec4e4);}}class _0x59851d{[_0x3317da(0x4c2)];[_0x3317da(0x6f9)];[_0x3317da(0x576)];constructor(_0x12bcff,_0x4e477e){const _0x5c27b0=_0x3317da;this[_0x5c27b0(0x4c2)]=_0x12bcff,this[_0x5c27b0(0x6f9)]=_0x4e477e;}[_0x3317da(0x592)](_0x13083d){const _0x4fa2da=_0x3317da;this[_0x4fa2da(0x576)]=_0x13083d;}[_0x3317da(0x449)](){const _0x378e3d=_0x3317da;delete this[_0x378e3d(0x576)];}}class _0x5c0d2a extends _0x59851d{[_0x3317da(0x4c2)];['destination'];[_0x3317da(0x5f6)];constructor(_0x5e8a2a,_0x4851e8,_0x2e28e3){const _0x1178c6=_0x3317da;super(_0x5e8a2a,_0x4851e8),this['source']=_0x5e8a2a,this[_0x1178c6(0x6f9)]=_0x4851e8,this[_0x1178c6(0x5f6)]=_0x2e28e3;}['subscribe'](_0x1eab49,_0x26506c,_0x3a354a){const _0x4e9226=_0x3317da;if(this[_0x4e9226(0x6f9)][_0x4e9226(0x262)]()===_0x12c3f7[_0x4e9226(0x14b)]){const _0x1bd861={'type':_0x3fa9b2['SubscribeMediaStream'],'label':this['destination'][_0x4e9226(0x6c6)](),'ownerId':_0x1eab49,'trackKinds':_0x26506c??this[_0x4e9226(0x6f9)][_0x4e9226(0x346)](),'params':_0x3a354a};this['systemTopic']['publish']({'sourceId':this[_0x4e9226(0x4c2)][_0x4e9226(0x339)](),'destinationIds':[this[_0x4e9226(0x4c2)][_0x4e9226(0x58b)]()],'messageType':_0x1c4d06[_0x4e9226(0x1ff)],'content':_0x1bd861}),this[_0x4e9226(0x5f6)]=_0x3a354a;}}[_0x3317da(0x69f)](_0x222075,_0x5c319a){const _0x571145=_0x3317da;if(this['destination'][_0x571145(0x262)]()===_0x12c3f7[_0x571145(0x14b)]){const _0x14cb4e={'type':_0x3fa9b2[_0x571145(0x5a6)],'label':this[_0x571145(0x6f9)]['getLabel'](),'ownerId':_0x222075,'params':_0x5c319a};this[_0x571145(0x576)][_0x571145(0x6af)]({'sourceId':this[_0x571145(0x4c2)][_0x571145(0x339)](),'destinationIds':[this[_0x571145(0x4c2)][_0x571145(0x58b)]()],'messageType':_0x1c4d06['Subscription'],'content':_0x14cb4e}),this[_0x571145(0x5f6)]=_0x5c319a;}}[_0x3317da(0x295)](_0x4047f2,_0x2aec1a,_0x5db664){const _0x415681=_0x3317da;if(this[_0x415681(0x6f9)][_0x415681(0x262)]()===_0x12c3f7['Media']){const _0x538393={'type':_0x3fa9b2['UnsubscribeMediaStream'],'label':this[_0x415681(0x6f9)][_0x415681(0x6c6)](),'ownerId':_0x4047f2,'trackKinds':_0x5db664??this[_0x415681(0x6f9)][_0x415681(0x346)](),'remainingTracks':_0x2aec1a};this[_0x415681(0x576)][_0x415681(0x6af)]({'sourceId':this[_0x415681(0x4c2)][_0x415681(0x339)](),'destinationIds':[this[_0x415681(0x4c2)]['getRemoteId']()],'messageType':_0x1c4d06[_0x415681(0x1ff)],'content':_0x538393});}}}class _0x54af33{['currentDistance'];['maxDistance'];[_0x3317da(0x2fc)];[_0x3317da(0x576)];['answers']=new Set();[_0x3317da(0x419)]=Date[_0x3317da(0x6dd)]();['params'];[_0x3317da(0x1f0)]=0x0;constructor(_0x3a90b3,_0x5cfbf6,_0x445fa5,_0x1a21fa){const _0x2feffe=_0x3317da;this['currentDistance']=_0x5cfbf6,this[_0x2feffe(0x5b3)]=_0x445fa5,this[_0x2feffe(0x2fc)]=_0x1a21fa,_0x3a90b3[_0x2feffe(0x505)](_0x3e1000=>{this['answers']['add']({'userId':_0x3e1000,'type':_0x25de11['Waiting']});});}[_0x3317da(0x3e2)](){const _0x25b7a3=_0x3317da;return this[_0x25b7a3(0x2fc)];}[_0x3317da(0x592)](_0x898ced){const _0x3c020a=_0x3317da;this[_0x3c020a(0x576)]=_0x898ced;}[_0x3317da(0x449)](){const _0x1f7051=_0x3317da;delete this[_0x1f7051(0x576)];}[_0x3317da(0x5dc)](_0x400b52,_0x500d4a){const _0x3bd238=_0x3317da;this['startTime']=Date[_0x3bd238(0x6dd)](),this[_0x3bd238(0x2d9)][_0x3bd238(0x299)](),_0x400b52['forEach'](_0x323e5b=>{const _0x49b17c=_0x3bd238;this[_0x49b17c(0x2d9)][_0x49b17c(0x443)]({'userId':_0x323e5b,'type':_0x25de11[_0x49b17c(0x5c2)]});}),this[_0x3bd238(0x1f0)]+=0x1,this[_0x3bd238(0x3a0)]=_0x500d4a;}[_0x3317da(0x5eb)](_0x441024,_0x5a2b5e,_0x279ab5,_0x1f6c88,_0x4a223a){const _0x3827b3=_0x3317da;if(this[_0x3827b3(0x1f0)]>0xa)throw new _0x2ba88c(_0x2ba88c[_0x3827b3(0x4f1)]['SubscriptionRequestNoAnswer'],{'answers':Array['from'](this[_0x3827b3(0x2d9)])[_0x3827b3(0x488)](_0x1bb040=>({'userId':_0x1bb040['userId'],'type':_0x1bb040['type']}))});const _0x5e355a=Array[_0x3827b3(0x4f2)](this[_0x3827b3(0x2d9)])[_0x3827b3(0x488)](_0x194b39=>_0x194b39['userId']);this[_0x3827b3(0x5f6)]=_0x4a223a,this[_0x3827b3(0x576)][_0x3827b3(0x6af)]({'sourceId':_0x441024,'destinationIds':_0x5e355a,'messageType':_0x1c4d06[_0x3827b3(0x1ff)],'content':{'type':_0x3fa9b2[_0x3827b3(0x421)],'label':_0x279ab5,'ownerId':_0x5a2b5e,'trackKinds':_0x1f6c88,'params':_0x4a223a}}),_0x546907['log'](_0xea19ad[_0x3827b3(0x1ff)],'Send\x20request',_0x441024,_0x5e355a);}[_0x3317da(0x53f)](_0x438d91,_0x2d8908){const _0x421708=_0x3317da;switch(_0x2d8908['type']){case _0x3fa9b2[_0x421708(0x569)]:{const _0x22afc1=this[_0x421708(0x3a0)]>=_0x2d8908[_0x421708(0x571)]&&_0x2d8908[_0x421708(0x571)]<=this[_0x421708(0x5b3)],_0x412ed5=Array[_0x421708(0x4f2)](this[_0x421708(0x2d9)])[_0x421708(0x657)](_0x522914=>_0x522914[_0x421708(0x4eb)]===_0x438d91);_0x412ed5[_0x421708(0x1e3)]=_0x22afc1?_0x25de11[_0x421708(0x412)]:_0x25de11[_0x421708(0x496)],_0x412ed5['cost']=_0x2d8908[_0x421708(0x278)],_0x412ed5[_0x421708(0x571)]=_0x2d8908['distance'],_0x412ed5['streamId']=_0x2d8908[_0x421708(0x5fc)],_0x412ed5[_0x421708(0x673)]=Date[_0x421708(0x6dd)]()-this[_0x421708(0x419)],_0x412ed5[_0x421708(0x5f6)]=this[_0x421708(0x5f6)],_0x412ed5['ownerId']=_0x2d8908['ownerId'],_0x412ed5[_0x421708(0x6e8)]=_0x2d8908['trackKinds'],_0x412ed5[_0x421708(0x31d)]=_0x2d8908['label'],_0x546907[_0x421708(0x614)](_0xea19ad[_0x421708(0x1ff)],(_0x22afc1?_0x421708(0x412):_0x421708(0x496))+_0x421708(0x601),_0x412ed5);break;}case _0x3fa9b2[_0x421708(0x43d)]:{const _0x2ac6c2=Array[_0x421708(0x4f2)](this['answers'])[_0x421708(0x657)](_0x27f7d9=>_0x27f7d9[_0x421708(0x4eb)]===_0x438d91);_0x2ac6c2[_0x421708(0x1e3)]=_0x25de11[_0x421708(0x496)],_0x546907[_0x421708(0x614)](_0xea19ad[_0x421708(0x1ff)],_0x421708(0x40a),_0x2ac6c2);break;}}if(this[_0x421708(0x3b7)]())return this[_0x421708(0x370)]();}[_0x3317da(0x370)](){const _0x15bd0b=_0x3317da,_0x3307ae=Array['from'](this[_0x15bd0b(0x2d9)])[_0x15bd0b(0x5e1)](_0x5c6f65=>_0x5c6f65[_0x15bd0b(0x1e3)]===_0x25de11[_0x15bd0b(0x412)])[_0x15bd0b(0x720)]((_0x35df39,_0x56a486)=>_0x35df39['cost']===_0x56a486['cost']?_0x35df39[_0x15bd0b(0x673)]-_0x56a486['roundTripTime']:_0x35df39[_0x15bd0b(0x278)]-_0x56a486[_0x15bd0b(0x278)]);if(0x0===_0x3307ae[_0x15bd0b(0x43f)])throw new _0x2ba88c(_0x2ba88c[_0x15bd0b(0x4f1)]['SubscriptionRequestNoAnswer'],{'answers':Array['from'](this['answers'])[_0x15bd0b(0x488)](_0xa6a3fb=>({'userId':_0xa6a3fb[_0x15bd0b(0x4eb)],'type':_0xa6a3fb['type']}))});return _0x546907['log'](_0xea19ad[_0x15bd0b(0x1ff)],_0x15bd0b(0x19f),_0x3307ae[0x0],this[_0x15bd0b(0x2d9)]),_0x3307ae[0x0];}[_0x3317da(0x3b7)](){const _0x46dc9a=_0x3317da;for(const _0x5ad051 of this['answers'])if(_0x5ad051[_0x46dc9a(0x1e3)]===_0x25de11[_0x46dc9a(0x5c2)])return!0x1;return!0x0;}}class _0x122601{['label'];[_0x3317da(0x272)];[_0x3317da(0x243)]=_0x2d6d4d();constructor(_0x31caf1,_0x539ee8){const _0x1b04bb=_0x3317da;this[_0x1b04bb(0x369)]=_0x31caf1,this[_0x1b04bb(0x272)]=_0x539ee8;}[_0x3317da(0x6c6)](){const _0x7ce8d7=_0x3317da;return this[_0x7ce8d7(0x369)];}[_0x3317da(0x262)](){return this['contentType'];}[_0x3317da(0x323)](_0x3f940f){const _0x4087f8=_0x3317da;_0x3f940f[_0x4087f8(0x6ab)](this);}[_0x3317da(0x539)](_0x13633e){_0x13633e['registerSubscriber'](this);}['publish'](_0x1c83c4){const _0x189d6a=_0x3317da;this[_0x189d6a(0x243)][_0x189d6a(0x6af)]({'topicLabel':this[_0x189d6a(0x369)],'contentType':this[_0x189d6a(0x272)],'uuid':(0x0,_0xdef932['v4'])(),'recipients':[],..._0x1c83c4});}['subscribe'](_0x2bb7f1){const _0x24edcc=_0x3317da;return this[_0x24edcc(0x243)]['subscribe'](_0x2bb7f1);}[_0x3317da(0x3a3)](_0x57acf4){const _0x4d2b5b=_0x3317da;_0x57acf4[_0x4d2b5b(0x3ec)](this);}[_0x3317da(0x51e)](_0x144dc1){_0x144dc1['unregisterSubscriber'](this);}}class _0x4aa2de{[_0x3317da(0x397)]={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x52d85f){const _0x458570=_0x3317da;this[_0x458570(0x666)]=_0x52d85f;}get['subscriptions'](){const _0x53d738=_0x3317da;return this['maps'][_0x53d738(0x36e)];}get['topics'](){const _0x17ebb3=_0x3317da;return this[_0x17ebb3(0x397)][_0x17ebb3(0x4bb)];}[_0x3317da(0x2fa)](_0x469f84,_0x5875ec){const _0x4beebe=_0x3317da,_0x3e559c=this[_0x4beebe(0x666)](_0x5875ec),_0x274aaa=_0x179cda(_0x469f84);if(!_0x3e559c['supportsContentType'])throw new _0x2ba88c(_0x2ba88c[_0x4beebe(0x4f1)][_0x4beebe(0x3b5)],{'message':_0x274aaa+':\x20'+_0x3e559c[_0x4beebe(0x701)]+_0x4beebe(0x3a1)+_0x3e559c[_0x4beebe(0x272)],'subscriptionType':_0x469f84,'subscription':_0x5875ec,'subscriptonParts':_0x3e559c});const _0xa61568=_0x49b755(_0x469f84,_0x3e559c);if(this['maps'][_0x4beebe(0x36e)][_0x4beebe(0x29e)](_0xa61568))throw new _0x2ba88c(_0x2ba88c[_0x4beebe(0x4f1)][_0x4beebe(0x3b5)],{'message':_0x274aaa+':\x20'+_0xa61568+_0x4beebe(0x2dc),'subscriptionType':_0x469f84,'subscription':_0x5875ec,'subscriptonParts':_0x3e559c});this[_0x4beebe(0x397)][_0x4beebe(0x36e)][_0x4beebe(0x2c2)](_0xa61568,_0x5875ec),this['createTopic'](_0x3e559c,_0x5875ec);}[_0x3317da(0x59d)](_0x27904f,_0x34f8d3){const _0xef5bd7=_0x3317da,_0x4724af=_0x49b755(_0x34f8d3,_0x27904f),_0x1aecc6=this[_0xef5bd7(0x397)][_0xef5bd7(0x36e)][_0xef5bd7(0x1c0)](_0x4724af);if(!_0x1aecc6)throw new _0x2ba88c(_0x2ba88c[_0xef5bd7(0x4f1)][_0xef5bd7(0x3b5)],{'message':_0x179cda(_0x34f8d3)+':\x20'+_0x4724af+_0xef5bd7(0x49a),'subscriptionType':_0x34f8d3,'subscription':_0x1aecc6,'subscriptonParts':_0x27904f});this[_0xef5bd7(0x41b)](_0x1aecc6,_0x4724af,_0x27904f);}['closeSubscription'](_0x39169a,_0x7fd164,_0x44501a){const _0x3a96f3=_0x3317da;_0x44501a=_0x44501a||this[_0x3a96f3(0x666)](_0x39169a),this[_0x3a96f3(0x397)][_0x3a96f3(0x36e)]['delete'](_0x7fd164),this[_0x3a96f3(0x5d7)](_0x44501a,_0x39169a);}[_0x3317da(0x360)](_0x43153e,{source:_0x5aa262,destination:_0x19a4fa}){const _0x369a92=_0x3317da,{contentType:_0xc4ce83,label:_0x5c22a3,remoteId:_0x5a9778}=_0x43153e,_0x476fe4=_0x20af3a(_0xc4ce83,_0x5c22a3,_0x5a9778),_0x5d1601=new _0x122601(_0x476fe4,_0xc4ce83);_0x5d1601[_0x369a92(0x323)](_0x5aa262),_0x5d1601['registerDestination'](_0x19a4fa),this[_0x369a92(0x397)][_0x369a92(0x4bb)][_0x369a92(0x2c2)](_0x5d1601[_0x369a92(0x6c6)](),_0x5d1601);}['removeTopic'](_0x564f35,_0x2424f8){const _0xdf2a5c=_0x3317da,{contentType:_0x1bbbbc,label:_0x1bab27,remoteId:_0x27b183}=_0x564f35,_0x27ca20=_0x20af3a(_0x1bbbbc,_0x1bab27,_0x27b183),_0xcf1f91=this[_0xdf2a5c(0x397)]['topics'][_0xdf2a5c(0x1c0)](_0x27ca20);_0xcf1f91&&(this[_0xdf2a5c(0x5db)](_0xcf1f91,_0x2424f8),this['maps'][_0xdf2a5c(0x4bb)][_0xdf2a5c(0x164)](_0x27ca20));}[_0x3317da(0x5db)](_0xabd4be,{source:_0x5ebd15,destination:_0x152468}){const _0x522845=_0x3317da;_0xabd4be['unregisterSource'](_0x5ebd15),_0xabd4be[_0x522845(0x51e)](_0x152468);}['removeSubscriptionsForUser'](_0x3e480a){const _0x1a0929=_0x3317da;this[_0x1a0929(0x397)][_0x1a0929(0x36e)][_0x1a0929(0x505)]((_0x4f8e28,_0x7afdb0)=>{const _0x2326d0=_0x1a0929;_0x7afdb0['endsWith'](_0x3e480a)&&this[_0x2326d0(0x41b)](_0x4f8e28,_0x7afdb0);});}}class _0x12cb57{[_0x3317da(0x3a8)];['maxDistance'];['subscriptionRequests']=new Map();['subscriptionRequestsQueue']=_0x16ca9f(new _0x3ae939(this[_0x3317da(0x436)]['bind'](this),()=>_0x4d713a[_0x3317da(0x6c7)](0x64)),!0x0);[_0x3317da(0x549)]=new Map();[_0x3317da(0x397)];['chosenAnswers']=new Map();constructor(_0x3017d8,_0x15410d){const _0x1c3f60=_0x3317da;this[_0x1c3f60(0x3a8)]=_0x3017d8,this[_0x1c3f60(0x5b3)]=_0x15410d,this['maps']=new _0x4aa2de(({source:_0xacb697,destination:_0x1dfe33})=>_0x13d66b(_0x1dfe33,_0xacb697));}['createSubscription'](_0x63d76f,_0x24bc4e){const _0x3ae3d0=_0x3317da,_0x296fbd=this[_0x3ae3d0(0x1c6)](_0x63d76f)&&this[_0x3ae3d0(0x4aa)](_0x24bc4e)?new _0x5c0d2a(_0x63d76f,_0x24bc4e):new _0x59851d(_0x63d76f,_0x24bc4e);this[_0x3ae3d0(0x397)][_0x3ae3d0(0x2fa)](_0x200371['Incoming'],_0x296fbd),this[_0x3ae3d0(0x3a8)][_0x3ae3d0(0x2a1)]['registerSystemSource'](_0x296fbd);}[_0x3317da(0x59d)](_0x12f53e,_0x55478d,_0x51c948=''){const _0x37c0d6=_0x3317da,_0x2df98f={'contentType':_0x55478d,'label':_0x12f53e,'remoteId':_0x51c948},_0x268041=_0x49b755(_0x200371['Incoming'],_0x2df98f),_0x1e15c2=this[_0x37c0d6(0x397)]['subscriptions'][_0x37c0d6(0x1c0)](_0x268041);_0x1e15c2&&this['closeSubscription'](_0x1e15c2,_0x268041);}[_0x3317da(0x416)](_0x44c9fc){this['removeRemoteStreamSubscription'](_0x44c9fc);}['handleContentSubscribeMediaStream']({label:_0xc4b1cd,ownerId:_0x13955a,trackKinds:_0x403a78,params:_0x3bbc55}){const _0x4e7a45=_0x3317da;this[_0x4e7a45(0x457)](_0xc4b1cd,_0x13955a,_0x403a78,_0x3bbc55);}[_0x3317da(0x17c)]({ownerId:_0x36cdb0,label:_0x401516,params:_0x1de491}){const _0x2c6c16=_0x3317da,{subscriptionLabel:_0x53df80}=this[_0x2c6c16(0x24e)](_0x401516,_0x36cdb0),_0xbd7e21=this['getMediaSubscription'](_0x53df80);_0xbd7e21&&_0xbd7e21[_0x2c6c16(0x69f)](_0x36cdb0,_0x1de491);}['handleContentUnsubscribeMediaStream']({ownerId:_0x4fd4d3,label:_0x286ff6,trackKinds:_0x45b193,remainingTracks:_0x54cd7b}){const _0x299442=_0x3317da,_0x344619=_0x49b755(_0x200371[_0x299442(0x513)],{'contentType':_0x12c3f7['Media'],'label':_0x286ff6,'remoteId':_0x4fd4d3});this['clearSubscriptionRequestTimeout'](_0x344619);const _0x26f2ac=this[_0x299442(0x5d9)]['get'](_0x344619);_0x26f2ac&&(this[_0x299442(0x3a8)][_0x299442(0x2a1)][_0x299442(0x61d)](_0x26f2ac),this[_0x299442(0x5d9)][_0x299442(0x164)](_0x344619));const {parts:_0x20dcc2,subscriptionLabel:_0x59178a}=this[_0x299442(0x24e)](_0x286ff6,_0x4fd4d3),_0x604f49=this['getMediaSubscription'](_0x59178a);_0x604f49&&(_0x604f49['unsubscribe'](_0x4fd4d3,_0x54cd7b,_0x45b193),0x0===_0x54cd7b&&this[_0x299442(0x59d)](_0x20dcc2['label'],_0x20dcc2[_0x299442(0x272)],_0x20dcc2[_0x299442(0x701)]));}['handleSubscriptionRestartNeedMediaStream'](_0x39a91e,{label:_0x49e5cd,ownerId:_0x4a6b20,trackKinds:_0x35c558,streamId:_0x35228c,params:_0x1f3414}){const _0x513ad2=_0x3317da,_0x1c6f1f=_0x49b755(_0x200371[_0x513ad2(0x513)],{'contentType':_0x12c3f7[_0x513ad2(0x14b)],'label':_0x35228c,'remoteId':_0x39a91e}),_0x568498=this[_0x513ad2(0x397)][_0x513ad2(0x36e)][_0x513ad2(0x1c0)](_0x1c6f1f);if(!(_0x568498&&_0x568498 instanceof _0x5c0d2a))throw new _0x2ba88c(_0x2ba88c['codes'][_0x513ad2(0x4ed)],{'label':_0x1c6f1f,'ownerId':_0x4a6b20});this[_0x513ad2(0x41b)](_0x568498,_0x1c6f1f),this[_0x513ad2(0x457)](_0x49e5cd,_0x4a6b20,_0x35c558,_0x1f3414);}['handleSubscriptionProvideMediaStream'](_0xfc621d,_0x56b851){const _0x398466=_0x3317da,{label:_0x2b730f,ownerId:_0x46ff0f,trackKinds:_0x51d4e2,params:_0x4d64d2}=_0x56b851,_0x2a442f=_0x49b755(_0x200371[_0x398466(0x513)],{'contentType':_0x12c3f7['Media'],'label':_0x2b730f,'remoteId':_0x46ff0f});if(!this[_0x398466(0x5d9)][_0x398466(0x29e)](_0x2a442f))throw new _0x2ba88c(_0x2ba88c[_0x398466(0x4f1)][_0x398466(0x4ed)],{'label':_0x2a442f,'ownerId':_0x46ff0f,'streamId':_0x56b851['streamId'],'requests':this[_0x398466(0x5d9)]});const _0x43bac1=this[_0x398466(0x5d9)]['get'](_0x2a442f);if(_0x51d4e2[_0x398466(0x43f)]===_0x43bac1[_0x398466(0x3e2)]()['length']&&_0x51d4e2['every'](_0x20157a=>_0x43bac1[_0x398466(0x3e2)]()[_0x398466(0x32e)](_0x20157a)))try{const _0x54f993=_0x43bac1[_0x398466(0x53f)](_0xfc621d,_0x56b851);if(!_0x54f993)return;this[_0x398466(0x650)](_0x54f993,_0x46ff0f,_0x2b730f,_0x2a442f,_0x51d4e2);}catch(_0x20c202){return void this['handleNoAnswer'](_0x2b730f,_0x46ff0f,_0x51d4e2,_0x4d64d2);}}['handleSubscriptionMediaStreamUnavailable'](_0x499233,{label:_0x5298f4,ownerId:_0x4feb9c,trackKinds:_0x373902}){const _0x4c2b82=_0x3317da,_0x249371=this[_0x4c2b82(0x3a8)][_0x4c2b82(0x2a1)][_0x4c2b82(0x3a5)](_0x4feb9c,_0x5298f4);if(!_0x249371)return;const _0xcc076b=_0x249371[_0x4c2b82(0x4c8)](),_0x50b967=_0x249371[_0x4c2b82(0x42a)]();_0x50b967[_0x4c2b82(0x6a2)](_0x4e2891=>_0x373902['includes'](_0x4e2891))&&this[_0x4c2b82(0x345)](_0x499233,_0x5298f4,_0xcc076b,_0x4feb9c,_0x50b967);}[_0x3317da(0x671)]({label:_0x58ff36,providerId:_0x320a4a,ownerId:_0x541704,streamId:_0x5629cb,trackKinds:_0x42c30f}){const _0x134a79=_0x3317da;this[_0x134a79(0x345)](_0x320a4a,_0x58ff36,_0x5629cb,_0x541704,_0x42c30f);}['handleWebRTCOptimizationConnectionSuccess'](_0x11ddd6){const _0x335283=_0x3317da;for(const _0x28e715 of this[_0x335283(0x46c)]['values']()){const {streamLabel:_0x4c7f18,ownerId:_0xc2dbd7,trackKinds:_0x4c5219,params:_0x1f9d51}=_0x28e715;if(!_0xc2dbd7||!_0x4c5219||!_0x4c7f18)return;this[_0x335283(0x2f0)][_0x335283(0x4ee)]({'label':_0x4c7f18,'ownerId':_0xc2dbd7,'trackKinds':_0x4c5219,'params':_0x1f9d51,'remoteId':_0x11ddd6});}}[_0x3317da(0x621)](_0xa1ca75){const _0x1b91f3=_0x3317da;this[_0x1b91f3(0x397)][_0x1b91f3(0x36e)]['forEach']((_0x2780de,_0x2334d1)=>{const _0x2237e1=_0x1b91f3;if(_0x2334d1[_0x2237e1(0x60c)](_0xa1ca75)){if(_0x2780de[_0x2237e1(0x6f9)][_0x2237e1(0x262)]()===_0x12c3f7[_0x2237e1(0x14b)]){const _0x3e7166=_0x2780de[_0x2237e1(0x6f9)];if(_0x3e7166['getSubscribedTracks']()[_0x2237e1(0x43f)]>0x0){const _0x4e53d0={'type':_0x3fa9b2['MediaStreamUnavailable'],'label':_0x3e7166[_0x2237e1(0x6c6)](),'ownerId':_0x3e7166[_0x2237e1(0x268)](),'trackKinds':_0x3e7166['getSubscribedTracks']()};return void this[_0x2237e1(0x2d8)](_0xa1ca75,_0x4e53d0);}}this[_0x2237e1(0x41b)](_0x2780de,_0x2334d1);}});}[_0x3317da(0x35e)](){const _0x558ce1=_0x3317da;this[_0x558ce1(0x397)][_0x558ce1(0x36e)]['forEach'](this[_0x558ce1(0x41b)][_0x558ce1(0x46f)](this));}[_0x3317da(0x650)](_0xc97849,_0x25129a,_0xf60167,_0xbc3ac2,_0x402a66){const _0x2bdcb1=_0x3317da,_0x5059e3=this[_0x2bdcb1(0x3a8)][_0x2bdcb1(0x2a1)][_0x2bdcb1(0x2e8)](_0xc97849['userId']),_0x2a59f1=this['configs'][_0x2bdcb1(0x2a1)][_0x2bdcb1(0x3a5)](_0x25129a,_0xf60167);this[_0x2bdcb1(0x312)](_0xbc3ac2),this[_0x2bdcb1(0x5d9)][_0x2bdcb1(0x29e)](_0xbc3ac2)&&(this[_0x2bdcb1(0x3a8)][_0x2bdcb1(0x2a1)][_0x2bdcb1(0x61d)](this[_0x2bdcb1(0x5d9)][_0x2bdcb1(0x1c0)](_0xbc3ac2)),this[_0x2bdcb1(0x5d9)]['delete'](_0xbc3ac2)),this[_0x2bdcb1(0x2b6)](_0xc97849,_0x25129a,_0xf60167,_0x2a59f1),_0x2a59f1[_0x2bdcb1(0x4f8)](_0xc97849['streamId']),_0x2a59f1['setProviderId'](_0xc97849[_0x2bdcb1(0x4eb)]);const _0x24259d=_0x13d66b(_0x2a59f1,_0x5059e3),_0xf92d78=_0x49b755(_0x200371['Incoming'],_0x24259d);this[_0x2bdcb1(0x397)]['subscriptions'][_0x2bdcb1(0x29e)](_0xf92d78)||this['createSubscription'](_0x5059e3,_0x2a59f1);const _0x63127c=this[_0x2bdcb1(0x397)][_0x2bdcb1(0x36e)][_0x2bdcb1(0x1c0)](_0xf92d78);if(!(_0x63127c&&_0x63127c instanceof _0x5c0d2a))throw new _0x2ba88c(_0x2ba88c['codes'][_0x2bdcb1(0x4ed)],{'label':_0xbc3ac2,'ownerId':_0x25129a});_0x546907[_0x2bdcb1(0x1b2)](_0x2bdcb1(0x5f4),{'clusterId':this[_0x2bdcb1(0x3a8)][_0x2bdcb1(0x2ed)],'userId':this[_0x2bdcb1(0x3a8)][_0x2bdcb1(0x3d5)],'data':{'subscriptionLabel':_0xf92d78,'chosenAnswer':_0xc97849}}),this[_0x2bdcb1(0x46c)][_0x2bdcb1(0x2c2)](_0xf92d78,_0xc97849),_0x63127c['subscribe'](_0x25129a,_0x402a66,_0xc97849[_0x2bdcb1(0x5f6)]);}[_0x3317da(0x586)]({ownerId:_0x54e2ae,label:_0x2b5c32}){const _0x461547=_0x3317da,_0x16ed93=this['configs'][_0x461547(0x2a1)]['getRemoteMediaStream'](_0x54e2ae,_0x2b5c32),[_0x31f5df,_0x854e6e]=Array['from'](this['maps'][_0x461547(0x36e)][_0x461547(0x456)]())['find'](([_0x1de4bf,_0x565b4d])=>-0x1!==_0x1de4bf['indexOf'](_0x16ed93[_0x461547(0x4c8)]()));return this[_0x461547(0x41b)](_0x854e6e,_0x31f5df);}[_0x3317da(0x41b)](_0x39bfa9,_0x20a41a){const _0x1403c5=_0x3317da;this[_0x1403c5(0x3a8)][_0x1403c5(0x2a1)][_0x1403c5(0x61d)](_0x39bfa9),this[_0x1403c5(0x397)][_0x1403c5(0x41b)](_0x39bfa9,_0x20a41a);}[_0x3317da(0x1c6)](_0x4ef10a){const _0xab2c77=_0x3317da;return _0x4ef10a[_0xab2c77(0x62f)]()[_0xab2c77(0x32e)](_0x12c3f7[_0xab2c77(0x14b)]);}[_0x3317da(0x4aa)](_0x2a3433){return _0x2a3433['getContentType']()===_0x12c3f7['Media'];}async[_0x3317da(0x3af)](_0x3214e0,_0x3e7bbc,_0x2482f6,_0x550187){const _0x5f5a28=_0x3317da;await _0x4d713a[_0x5f5a28(0x6c7)](0x3e8);const _0x5d092e=_0x49b755(_0x200371[_0x5f5a28(0x513)],{'contentType':_0x12c3f7[_0x5f5a28(0x14b)],'label':_0x3214e0,'remoteId':_0x3e7bbc});this[_0x5f5a28(0x312)](_0x5d092e);const _0x430072=this['subscriptionRequests']['get'](_0x5d092e);if(!_0x430072)throw new _0x2ba88c(_0x2ba88c[_0x5f5a28(0x4f1)]['SubscriptionRequestDoesNotExist'],{'label':_0x5d092e,'ownerId':_0x3e7bbc});const _0x4a7640=this[_0x5f5a28(0x3a8)][_0x5f5a28(0x2a1)][_0x5f5a28(0x35a)](_0x41600e=>_0x41600e[_0x5f5a28(0x6be)]()),_0x3daf22=this[_0x5f5a28(0x3a8)][_0x5f5a28(0x2a1)][_0x5f5a28(0x4e0)](this[_0x5f5a28(0x3a8)][_0x5f5a28(0x3d5)],_0x3e7bbc);_0x430072[_0x5f5a28(0x5dc)](_0x4a7640[_0x5f5a28(0x488)](_0x5ce316=>_0x5ce316[_0x5f5a28(0x58b)]()),_0x3daf22);try{_0x430072[_0x5f5a28(0x5eb)](this[_0x5f5a28(0x3a8)][_0x5f5a28(0x3d5)],_0x3e7bbc,_0x3214e0,_0x2482f6,_0x550187),this['setSubscriptionRequestTimeout'](_0x3214e0,_0x3e7bbc,_0x2482f6,_0x550187,_0x5d092e,_0x430072);}catch(_0x1e510d){this[_0x5f5a28(0x2f0)][_0x5f5a28(0x4ee)]({'label':_0x3214e0,'ownerId':_0x3e7bbc,'trackKinds':_0x2482f6,'params':_0x550187});}}[_0x3317da(0x457)](_0x8e459c,_0x1e1af9,_0x481fd8,_0x5e8fee){const _0x4d7a29=_0x3317da;this['subscriptionRequestsQueue'][_0x4d7a29(0x4ee)]({'label':_0x8e459c,'ownerId':_0x1e1af9,'trackKinds':_0x481fd8,'params':_0x5e8fee});}[_0x3317da(0x436)]({label:_0x56d141,ownerId:_0x138442,trackKinds:_0x1d6230,params:_0x44659c,remoteId:_0x1e9460}){const _0x4e369c=_0x3317da;if(!this['configs'][_0x4e369c(0x2a1)]['getRemoteMediaStream'](_0x138442,_0x56d141))return;if(!this['configs']['mediator'][_0x4e369c(0x644)]()[_0x4e369c(0x4e4)]())throw new Error('Local\x20user\x20rank\x20is\x20not\x20set');if(_0x1e9460){const _0x3074c7=this[_0x4e369c(0x3a8)]['mediator']['getRemoteUsers']()[_0x4e369c(0x657)](_0x30bc6d=>_0x30bc6d[_0x4e369c(0x4b5)]()===_0x1e9460),_0x12770c=_0x3074c7?.['getRank']();if(!_0x3074c7||!_0x12770c)throw new Error(_0x4e369c(0x282));const _0x7f34dc=this['configs'][_0x4e369c(0x2a1)][_0x4e369c(0x6df)]()[_0x4e369c(0x657)](_0x4cd814=>_0x4cd814['getId']()===_0x138442),_0x4797f9=_0x7f34dc?.[_0x4e369c(0x4e4)]();if(!_0x7f34dc||!_0x4797f9)throw new Error('Missing\x20owner\x20user\x20or\x20rank');const _0x5cd3ea=this[_0x4e369c(0x46c)]['get'](_0x56d141);if(_0x5cd3ea){const _0x14bfe2=this[_0x4e369c(0x3a8)][_0x4e369c(0x2a1)][_0x4e369c(0x6df)]()[_0x4e369c(0x657)](_0x2a8fc4=>_0x2a8fc4[_0x4e369c(0x4b5)]()===_0x5cd3ea[_0x4e369c(0x4eb)]),_0x54fd43=_0x14bfe2?.[_0x4e369c(0x4e4)]();if(!_0x14bfe2||!_0x54fd43)throw new Error(_0x4e369c(0x154));if(Math[_0x4e369c(0x385)](_0x54fd43-_0x4797f9)<Math[_0x4e369c(0x385)](_0x12770c-_0x4797f9))return;}}const _0x22955c=this[_0x4e369c(0x3a8)][_0x4e369c(0x2a1)]['getConnections'](_0x471222=>_0x471222[_0x4e369c(0x6be)]()&&(!_0x1e9460||_0x471222[_0x4e369c(0x58b)]()===_0x1e9460));if(!_0x22955c[_0x4e369c(0x43f)]||0x0===_0x22955c[_0x4e369c(0x43f)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x4d5ee4=this[_0x4e369c(0x3a8)][_0x4e369c(0x2a1)]['getDistance'](this['configs'][_0x4e369c(0x3d5)],_0x138442),_0x270d42=_0x49b755(_0x200371['Incoming'],{'contentType':_0x12c3f7[_0x4e369c(0x14b)],'label':_0x56d141,'remoteId':_0x138442});if(this[_0x4e369c(0x5d9)][_0x4e369c(0x29e)](_0x270d42)){if(_0x1e9460)throw new Error(_0x4e369c(0x5ee));const _0x1aa977=this[_0x4e369c(0x5d9)][_0x4e369c(0x1c0)](_0x270d42)['getTracks']();if(_0x1aa977[_0x4e369c(0x43f)]===_0x1d6230[_0x4e369c(0x43f)]&&_0x1aa977['every'](_0x4e4aff=>_0x1d6230[_0x4e369c(0x32e)](_0x4e4aff)))return;this[_0x4e369c(0x3a8)]['mediator'][_0x4e369c(0x61d)](this[_0x4e369c(0x5d9)]['get'](_0x270d42)),this[_0x4e369c(0x5d9)][_0x4e369c(0x164)](_0x270d42),_0x1d6230=Array[_0x4e369c(0x4f2)](new Set(_0x1d6230[_0x4e369c(0x23e)](_0x1aa977))),this['clearSubscriptionRequestTimeout'](_0x270d42);}const _0x351f2e=new _0x54af33(_0x22955c[_0x4e369c(0x488)](_0x3e9962=>_0x3e9962[_0x4e369c(0x58b)]()),_0x4d5ee4,this['maxDistance'],_0x1d6230);this[_0x4e369c(0x3a8)]['mediator'][_0x4e369c(0x469)](_0x351f2e),this[_0x4e369c(0x5d9)]['set'](_0x270d42,_0x351f2e),_0x351f2e[_0x4e369c(0x5eb)](this['configs'][_0x4e369c(0x3d5)],_0x138442,_0x56d141,_0x1d6230,_0x44659c),this['setSubscriptionRequestTimeout'](_0x56d141,_0x138442,_0x1d6230,_0x44659c,_0x270d42,_0x351f2e);}[_0x3317da(0x312)](_0x1d70a0){const _0x93e0a7=_0x3317da;this[_0x93e0a7(0x549)][_0x93e0a7(0x29e)](_0x1d70a0)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x93e0a7(0x1c0)](_0x1d70a0)),this[_0x93e0a7(0x549)][_0x93e0a7(0x164)](_0x1d70a0));}[_0x3317da(0x2b1)](_0x57f0d3,_0x159953,_0x39cc5f,_0x49972f,_0x28b1f9,_0x24c22e){const _0x466aa4=_0x3317da;this[_0x466aa4(0x312)](_0x28b1f9),this[_0x466aa4(0x549)][_0x466aa4(0x2c2)](_0x28b1f9,setTimeout(()=>{const _0x1d1da8=_0x466aa4;this[_0x1d1da8(0x549)]['delete'](_0x28b1f9);try{const _0x398bd3=_0x24c22e[_0x1d1da8(0x370)]();this[_0x1d1da8(0x650)](_0x398bd3,_0x159953,_0x57f0d3,_0x28b1f9,_0x39cc5f);}catch(_0x41cd43){this[_0x1d1da8(0x3af)](_0x57f0d3,_0x159953,_0x39cc5f,_0x49972f);}},0x7d0));}[_0x3317da(0x345)](_0x1aa0a2,_0x333e44,_0x2f758d,_0x1be788,_0x3e7cff){const _0x7b760b=_0x3317da,{subscriptionLabel:_0x4762aa}=this[_0x7b760b(0x24e)](_0x333e44,_0x1be788),_0x534543=this['getMediaSubscription'](_0x4762aa),_0x312453=_0x534543?.[_0x7b760b(0x5f6)];_0x534543&&(_0x534543[_0x7b760b(0x295)](_0x1be788,0x0),this['removeSubscription'](_0x2f758d,_0x12c3f7[_0x7b760b(0x14b)],_0x1aa0a2)),this[_0x7b760b(0x457)](_0x333e44,_0x1be788,_0x3e7cff,_0x312453);}[_0x3317da(0x4e8)](_0x4d895e){const _0x1163ae=_0x3317da,_0x9ef643=this[_0x1163ae(0x397)][_0x1163ae(0x36e)][_0x1163ae(0x1c0)](_0x4d895e);if(_0x9ef643){if(!(_0x9ef643 instanceof _0x5c0d2a))throw new _0x2ba88c(_0x2ba88c[_0x1163ae(0x4f1)][_0x1163ae(0x3b5)],{'label':_0x4d895e,'subscription':_0x9ef643});return _0x9ef643;}}['getSubscriptionLabel'](_0x41ece2,_0x96990c){const _0x36b4d1=this['getPartsForSubscriptionLabel'](_0x41ece2,_0x96990c);return{'parts':_0x36b4d1,'subscriptionLabel':_0x49b755(_0x200371['Incoming'],_0x36b4d1)};}['getPartsForSubscriptionLabel'](_0x1008a2,_0x284878){const _0x402142=_0x3317da,_0x1f9d6e=this[_0x402142(0x3a8)][_0x402142(0x2a1)][_0x402142(0x3a5)](_0x284878,_0x1008a2),_0x2bbfa6=_0x1f9d6e['getProviderId']();if(!_0x2bbfa6)throw new _0x2ba88c(_0x2ba88c[_0x402142(0x4f1)][_0x402142(0x2e2)],{'label':_0x1008a2,'streamId':_0x1f9d6e[_0x402142(0x4c8)](),'ownerId':_0x284878,'localId':this[_0x402142(0x3a8)][_0x402142(0x3d5)]});return{'contentType':_0x12c3f7[_0x402142(0x14b)],'label':_0x1f9d6e['getInternalStreamId'](),'remoteId':_0x2bbfa6};}[_0x3317da(0x2b6)](_0x48a86a,_0x51ef63,_0x2bc921,_0x20747d){const _0x45d9b0=_0x3317da,_0x458bc1=_0x20747d[_0x45d9b0(0x651)]();if(_0x458bc1&&_0x458bc1!==_0x48a86a[_0x45d9b0(0x4eb)]){const {parts:_0x409910,subscriptionLabel:_0x7524c8}=this[_0x45d9b0(0x24e)](_0x2bc921,_0x51ef63),_0x349628=this[_0x45d9b0(0x4e8)](_0x7524c8);_0x349628&&(_0x349628[_0x45d9b0(0x295)](_0x51ef63,0x0),this['removeSubscription'](_0x409910[_0x45d9b0(0x369)],_0x409910[_0x45d9b0(0x272)],_0x409910[_0x45d9b0(0x701)]));}}}class _0x36d1ad{[_0x3317da(0x3a8)];[_0x3317da(0x547)];['maps'];constructor(_0x3cd1c7,_0x52c380){const _0x1166fc=_0x3317da;this[_0x1166fc(0x3a8)]=_0x3cd1c7,this[_0x1166fc(0x547)]=_0x52c380,this['maps']=new _0x4aa2de(({source:_0x1e4212,destination:_0x26cd3f})=>_0x13d66b(_0x1e4212,_0x26cd3f));}[_0x3317da(0x2fa)](_0x3335de,_0x2cb427){const _0x2dd145=_0x3317da,_0x3fe4f8={'source':_0x3335de,'destination':_0x2cb427};this[_0x2dd145(0x397)][_0x2dd145(0x2fa)](_0x200371[_0x2dd145(0x2c5)],_0x3fe4f8);}['removeSubscription'](_0x4d0a58,_0x315689,_0x645c15=''){const _0x423852=_0x3317da,_0x956039={'contentType':_0x315689,'label':_0x4d0a58,'remoteId':_0x645c15};this[_0x423852(0x397)][_0x423852(0x59d)](_0x956039,_0x200371[_0x423852(0x2c5)]);}[_0x3317da(0x34f)](_0x20a5e4,_0xb7306b){const _0x517761=_0x3317da;let _0x319ae7;_0x319ae7=_0xb7306b[_0x517761(0x6aa)]!==this['configs'][_0x517761(0x3d5)]?this[_0x517761(0x3a8)][_0x517761(0x2a1)]['getRemoteMediaStream'](_0xb7306b[_0x517761(0x6aa)],_0xb7306b[_0x517761(0x369)]):this[_0x517761(0x3a8)][_0x517761(0x2a1)][_0x517761(0x219)](_0xb7306b[_0x517761(0x369)]);const _0x31a481=_0x49b755(_0x200371[_0x517761(0x2c5)],{'contentType':_0x12c3f7[_0x517761(0x14b)],'label':_0x319ae7['getShareableStreamId'](),'remoteId':_0x20a5e4}),_0xbd3bf=this[_0x517761(0x697)]();if(!this['maps'][_0x517761(0x36e)][_0x517761(0x29e)](_0x31a481)&&_0xbd3bf>=this[_0x517761(0x547)])return{'type':_0x3fa9b2['RestartNeedMediaStream'],'ownerId':_0xb7306b['ownerId'],'label':_0xb7306b[_0x517761(0x369)],'streamId':_0x319ae7[_0x517761(0x37e)](),'trackKinds':_0xb7306b['trackKinds'],'params':_0xb7306b['params']};_0x319ae7 instanceof _0x7f6354&&!_0x319ae7[_0x517761(0x551)](_0xb7306b[_0x517761(0x6e8)])&&_0x319ae7[_0x517761(0x650)](_0xb7306b[_0x517761(0x5f6)]),this[_0x517761(0x397)][_0x517761(0x36e)][_0x517761(0x29e)](_0x31a481)||this[_0x517761(0x2fa)](_0x319ae7[_0x517761(0x3aa)](_0x20a5e4),this[_0x517761(0x3a8)][_0x517761(0x2a1)]['getConnection'](_0x20a5e4));}[_0x3317da(0x512)](_0x4e7993,{label:_0x328895,ownerId:_0x83e388,remainingTracks:_0x4e5727}){const _0x5ee87e=_0x3317da;if(_0x4e5727>0x0)return;let _0x1b4238;_0x1b4238=_0x83e388!==this[_0x5ee87e(0x3a8)][_0x5ee87e(0x3d5)]?this['configs']['mediator'][_0x5ee87e(0x3a5)](_0x83e388,_0x328895):this['configs'][_0x5ee87e(0x2a1)][_0x5ee87e(0x219)](_0x328895);const _0x52bdd6=_0x1b4238['getShareableStreamId'](),_0x172517=_0x12c3f7[_0x5ee87e(0x14b)];this[_0x5ee87e(0x59d)](_0x52bdd6,_0x172517,_0x4e7993);}[_0x3317da(0x3fc)](_0x2f956b,{label:_0x1e344f,ownerId:_0x5f2da7,trackKinds:_0xb81686}){const _0x599eb9=_0x3317da;if(_0x2f956b!==_0x3e41dd)return[];let _0x57a5b5=[];for(const _0x5deeb7 of this[_0x599eb9(0x397)][_0x599eb9(0x36e)]){const {source:_0x2c66d9,destination:_0x19b2e2}=_0x5deeb7[0x1];_0x2c66d9[_0x599eb9(0x6c6)]()===_0x1e344f&&_0x2c66d9[_0x599eb9(0x268)]()===_0x5f2da7&&_0x57a5b5[_0x599eb9(0x4ee)]({'sourceId':this[_0x599eb9(0x3a8)][_0x599eb9(0x3d5)],'destinationIds':[_0x19b2e2[_0x599eb9(0x58b)]()],'messageType':_0x1c4d06[_0x599eb9(0x1ff)],'content':{'type':_0x3fa9b2['MediaStreamUnavailable'],'label':_0x1e344f,'ownerId':_0x5f2da7,'trackKinds':_0xb81686}});}return _0x57a5b5;}[_0x3317da(0x1a4)](_0x5aa3b8,_0x1604df){const _0x256549=_0x3317da,{label:_0x443e1e,ownerId:_0x10eb9a,trackKinds:_0x40ebf1,params:_0x266aaf}=_0x1604df,{hasTracks:_0x9c71ba,streamId:_0xd57552,hasResolution:_0x19f368,distance:_0x566107,subscriptionLabel:_0x43f7b4}=this[_0x256549(0x17f)](_0x5aa3b8,_0x1604df);let _0x3872d2=this[_0x256549(0x697)]()<this[_0x256549(0x547)]&&(_0x9c71ba||_0x566107>-0x1)?_0x3fa9b2[_0x256549(0x569)]:_0x3fa9b2[_0x256549(0x43d)];const _0x1c535b=_0x566107<0x0?0xa:_0x566107;let _0x306190=_0x9c71ba?_0x19f368?_0x1c535b:_0x1c535b+0x0:_0x1c535b+0xa;return _0x43f7b4&&this[_0x256549(0x397)][_0x256549(0x36e)][_0x256549(0x29e)](_0x43f7b4)&&(_0x9c71ba&&(_0x306190=0x0),_0x3872d2=_0x3fa9b2[_0x256549(0x569)]),{'type':_0x3872d2,'cost':_0x306190,'distance':_0x566107,'label':_0x443e1e,'ownerId':_0x10eb9a,'streamId':_0xd57552,'trackKinds':_0x40ebf1,'params':_0x266aaf};}['handleContentUnpublishMediaStream'](_0x51ed0f){const _0x1cc44c=_0x3317da,{label:_0x302dea,ownerId:_0x4779ae}=_0x51ed0f,_0xe2e57e=this['configs'][_0x1cc44c(0x2a1)][_0x1cc44c(0x3a5)](_0x4779ae,_0x302dea);this[_0x1cc44c(0x397)][_0x1cc44c(0x36e)][_0x1cc44c(0x505)](_0x4de20d=>{const _0x1c21ff=_0x1cc44c;if(_0x4de20d[_0x1c21ff(0x4c2)][_0x1c21ff(0x4c8)]()===_0xe2e57e[_0x1c21ff(0x37e)]()){const _0x24e1a2=_0x4de20d[_0x1c21ff(0x6f9)];this[_0x1c21ff(0x59d)](_0xe2e57e['getShareableStreamId'](),_0x12c3f7[_0x1c21ff(0x14b)],_0x24e1a2[_0x1c21ff(0x58b)]());}});}['handleContentCloseMediaStream']({label:_0x5728d5}){const _0x18fbea=_0x3317da,_0x5958e6=this['configs'][_0x18fbea(0x2a1)]['getLocalMediaStream'](_0x5728d5);this[_0x18fbea(0x397)]['subscriptions'][_0x18fbea(0x505)](_0x107bc7=>{const _0x2954a0=_0x18fbea;if(_0x107bc7[_0x2954a0(0x4c2)][_0x2954a0(0x4c8)]()===_0x5958e6[_0x2954a0(0x37e)]()){const _0x99fc8d=_0x107bc7[_0x2954a0(0x6f9)];this[_0x2954a0(0x59d)](_0x5958e6[_0x2954a0(0x37e)](),_0x12c3f7[_0x2954a0(0x14b)],_0x99fc8d[_0x2954a0(0x58b)]());}});}[_0x3317da(0x621)](_0x59e2e2){const _0x202fff=_0x3317da;this[_0x202fff(0x397)][_0x202fff(0x621)](_0x59e2e2);}[_0x3317da(0x35e)](){const _0x487e1a=_0x3317da;this['maps'][_0x487e1a(0x36e)][_0x487e1a(0x505)](this[_0x487e1a(0x41b)][_0x487e1a(0x46f)](this));}[_0x3317da(0x41b)](_0x103d5f,_0x2ac832){const _0x3da073=_0x3317da;this[_0x3da073(0x397)][_0x3da073(0x41b)](_0x103d5f,_0x2ac832);}[_0x3317da(0x17f)](_0x49d67a,{label:_0x4bd20e,ownerId:_0x188282,trackKinds:_0xefd5f,params:_0x20d1e6}){const _0x15d10f=_0x3317da;if(_0x188282!==this[_0x15d10f(0x3a8)][_0x15d10f(0x3d5)]){const _0x4d73f1=this[_0x15d10f(0x3a8)]['mediator'][_0x15d10f(0x3a5)](_0x188282,_0x4bd20e);return _0x4d73f1&&_0x4d73f1[_0x15d10f(0x651)]()!==_0x49d67a?{'hasTracks':_0x4d73f1['hasTracks'](_0xefd5f),'hasResolution':this[_0x15d10f(0x4c9)](_0x4d73f1[_0x15d10f(0x6b9)](),_0x20d1e6),'streamId':_0x4d73f1[_0x15d10f(0x37e)](),'distance':this[_0x15d10f(0x3a8)][_0x15d10f(0x2a1)]['getDistance'](_0x49d67a,_0x188282),'subscriptionLabel':_0x49b755(_0x200371[_0x15d10f(0x2c5)],{'contentType':_0x12c3f7[_0x15d10f(0x14b)],'label':_0x4d73f1[_0x15d10f(0x37e)](),'remoteId':_0x49d67a})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x587303=this['configs'][_0x15d10f(0x2a1)][_0x15d10f(0x219)](_0x4bd20e);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x587303[_0x15d10f(0x37e)](),'distance':0x0,'subscriptionLabel':_0x49b755(_0x200371['Outgoing'],{'contentType':_0x12c3f7['Media'],'label':_0x587303[_0x15d10f(0x37e)](),'remoteId':_0x49d67a})};}['getNumberOutgoingSubscriptions'](){const _0x42bf00=_0x3317da;return Array[_0x42bf00(0x4f2)](this[_0x42bf00(0x397)][_0x42bf00(0x36e)][_0x42bf00(0x456)]())[_0x42bf00(0x5e1)](([_0x15a1a5,{source:_0x4406b1}])=>_0x15a1a5[_0x42bf00(0x32a)](_0x200371[_0x42bf00(0x2c5)])&&_0x4406b1[_0x42bf00(0x262)]()===_0x12c3f7[_0x42bf00(0x14b)])[_0x42bf00(0x43f)];}[_0x3317da(0x4c9)](_0x12555f,_0x494e95){const _0x2305e4=_0x3317da;if(!_0x494e95||!_0x494e95['video']||_0x2305e4(0x3c5)==typeof _0x494e95[_0x2305e4(0x2ca)]||!_0x494e95['video'][_0x2305e4(0x64e)])return!0x0;const {width:_0x3fef25,height:_0x5668d3}=_0x494e95[_0x2305e4(0x2ca)][_0x2305e4(0x64e)];return _0x12555f[_0x2305e4(0x503)]>=_0x3fef25&&_0x12555f[_0x2305e4(0x167)]>=_0x5668d3;}}class _0x3fcec4{[_0x3317da(0x3a8)];[_0x3317da(0x547)];[_0x3317da(0x5b3)];['systemTopic'];[_0x3317da(0x39c)];['outgoingManager'];constructor(_0x2b6efb,_0x2803d6,_0x3bd9a4){const _0x14be4e=_0x3317da;this[_0x14be4e(0x3a8)]=_0x2b6efb,this[_0x14be4e(0x547)]=_0x2803d6,this[_0x14be4e(0x5b3)]=_0x3bd9a4,this['configs'][_0x14be4e(0x2a1)][_0x14be4e(0x469)](this),this[_0x14be4e(0x39c)]=new _0x12cb57(this[_0x14be4e(0x3a8)],this['maxDistance']),this[_0x14be4e(0x1d2)]=new _0x36d1ad(this[_0x14be4e(0x3a8)],this[_0x14be4e(0x547)]);}[_0x3317da(0x592)](_0x1e1402){const _0x5397f5=_0x3317da;this[_0x5397f5(0x576)]=_0x1e1402;}['unregisterSystemPublisher'](){const _0x2f383a=_0x3317da;delete this[_0x2f383a(0x576)];}[_0x3317da(0x35e)](){const _0x19349c=_0x3317da;this[_0x19349c(0x39c)][_0x19349c(0x35e)](),this[_0x19349c(0x1d2)][_0x19349c(0x35e)](),this[_0x19349c(0x3a8)][_0x19349c(0x2a1)][_0x19349c(0x61d)](this);}[_0x3317da(0x39d)](_0x445fef,_0x1dde49){const _0x303387=_0x3317da;this[_0x303387(0x39c)]['createSubscription'](_0x445fef,_0x1dde49);}[_0x3317da(0x1e2)](_0x27929e,_0x495469){const _0x3672c9=_0x3317da;this[_0x3672c9(0x1d2)][_0x3672c9(0x2fa)](_0x27929e,_0x495469);}[_0x3317da(0x6bd)](_0x180ada,_0x3f6fac,_0x60a38=''){const _0x51448f=_0x3317da;this[_0x51448f(0x39c)][_0x51448f(0x59d)](_0x180ada,_0x3f6fac,_0x60a38);}[_0x3317da(0x598)](_0x23b688,_0x8bcca5,_0x410569=''){const _0x22439b=_0x3317da;try{this[_0x22439b(0x1d2)][_0x22439b(0x59d)](_0x23b688,_0x8bcca5,_0x410569);}catch(_0x4e0d22){if(_0x4e0d22 instanceof _0x2ba88c&&_0x4e0d22[_0x22439b(0x540)]===_0x2ba88c[_0x22439b(0x4f1)][_0x22439b(0x3b5)])return;}}[_0x3317da(0x53f)](_0x422076){const _0x5ceb81=_0x3317da;switch(_0x422076['content'][_0x5ceb81(0x1e3)]){case _0x3fa9b2[_0x5ceb81(0x487)]:this['handleSubscriptionSubscribeMediaStream'](_0x422076[_0x5ceb81(0x396)],_0x422076['content']);break;case _0x3fa9b2[_0x5ceb81(0x285)]:this[_0x5ceb81(0x1d2)][_0x5ceb81(0x512)](_0x422076[_0x5ceb81(0x396)],_0x422076[_0x5ceb81(0x1b9)]);break;case _0x3fa9b2['NeedMediaStream']:this[_0x5ceb81(0x1a4)](_0x422076[_0x5ceb81(0x396)],_0x422076[_0x5ceb81(0x1b9)]);break;case _0x3fa9b2[_0x5ceb81(0x216)]:this['incomingManager'][_0x5ceb81(0x570)](_0x422076[_0x5ceb81(0x396)],_0x422076[_0x5ceb81(0x1b9)]);break;case _0x3fa9b2[_0x5ceb81(0x569)]:case _0x3fa9b2[_0x5ceb81(0x43d)]:this[_0x5ceb81(0x39c)][_0x5ceb81(0x1bc)](_0x422076[_0x5ceb81(0x396)],_0x422076['content']);break;case _0x3fa9b2['MediaStreamUnavailable']:this[_0x5ceb81(0x39c)]['handleSubscriptionMediaStreamUnavailable'](_0x422076[_0x5ceb81(0x396)],_0x422076[_0x5ceb81(0x1b9)]);}}[_0x3317da(0x1c5)](_0x2b071e){const _0x243455=_0x3317da;switch(_0x2b071e[_0x243455(0x1b9)][_0x243455(0x1e3)]){case _0x167820[_0x243455(0x65b)]:this[_0x243455(0x39c)]['handleContentUnpublishMediaStream'](_0x2b071e['content']),this[_0x243455(0x1d2)][_0x243455(0x416)](_0x2b071e[_0x243455(0x1b9)]);break;case _0x167820[_0x243455(0x487)]:this[_0x243455(0x39c)][_0x243455(0x48f)](_0x2b071e['content']);break;case _0x167820[_0x243455(0x5a6)]:this[_0x243455(0x39c)][_0x243455(0x17c)](_0x2b071e[_0x243455(0x1b9)]);break;case _0x167820['UnsubscribeMediaStream']:this[_0x243455(0x3fc)](_0x2b071e[_0x243455(0x396)],_0x2b071e[_0x243455(0x1b9)]);break;case _0x167820[_0x243455(0x432)]:this[_0x243455(0x1d2)][_0x243455(0x4f0)](_0x2b071e[_0x243455(0x1b9)]);break;case _0x167820['ClosePubSubTopic']:this[_0x243455(0x221)](_0x2b071e['content']);break;case _0x167820['CloseObjectStoreBucket']:this[_0x243455(0x637)](_0x2b071e['content']);break;case _0x167820[_0x243455(0x2c8)]:this[_0x243455(0x413)](_0x2b071e[_0x243455(0x1b9)]);break;case _0x167820[_0x243455(0x25d)]:this['incomingManager'][_0x243455(0x671)](_0x2b071e['content']);}}[_0x3317da(0x623)]({content:_0x207d91}){const _0x58a602=_0x3317da;_0x207d91[_0x58a602(0x1e3)]===_0x3999d2[_0x58a602(0x65d)]&&this[_0x58a602(0x621)](_0x207d91);}[_0x3317da(0x147)](_0x5e6a80){const _0x4d52e2=_0x3317da;_0x5e6a80['content']['type']===_0x2c3496['OptimizationConnectionSuccess']&&this[_0x4d52e2(0x39c)][_0x4d52e2(0x4a6)](_0x5e6a80['sourceId']);}[_0x3317da(0x3fc)](_0x4e01dc,_0x2b1b4b){const _0x313572=_0x3317da;this[_0x313572(0x39c)][_0x313572(0x3fc)](_0x2b1b4b),this[_0x313572(0x1d2)][_0x313572(0x3fc)](_0x4e01dc,_0x2b1b4b)['forEach'](_0x276857=>this[_0x313572(0x576)][_0x313572(0x6af)](_0x276857));}[_0x3317da(0x34f)](_0x5ea96e,_0x2a4e03){const _0x3bb776=_0x3317da,_0x7571f4=this[_0x3bb776(0x1d2)][_0x3bb776(0x34f)](_0x5ea96e,_0x2a4e03);if(_0x7571f4&&(this[_0x3bb776(0x576)][_0x3bb776(0x6af)]({'sourceId':this['configs'][_0x3bb776(0x3d5)],'destinationIds':[_0x5ea96e],'messageType':_0x1c4d06[_0x3bb776(0x1ff)],'content':_0x7571f4}),_0x7571f4[_0x3bb776(0x1e3)]===_0x3fa9b2[_0x3bb776(0x216)]))throw new _0x34beb4('Restart\x20NeedMediaStream');}[_0x3317da(0x1a4)](_0x6b9c10,_0x334481){const _0x15d2a7=_0x3317da,_0x4052d2=this[_0x15d2a7(0x1d2)][_0x15d2a7(0x1a4)](_0x6b9c10,_0x334481);this[_0x15d2a7(0x576)][_0x15d2a7(0x6af)]({'sourceId':this[_0x15d2a7(0x3a8)][_0x15d2a7(0x3d5)],'destinationIds':[_0x6b9c10],'messageType':_0x1c4d06['Subscription'],'content':_0x4052d2});}[_0x3317da(0x637)]({label:_0x16d054}){const _0x1b304a=_0x3317da;this[_0x1b304a(0x6bd)](_0x16d054,_0x12c3f7['ObjectStore']),this[_0x1b304a(0x598)](_0x16d054,_0x12c3f7[_0x1b304a(0x69c)]);}[_0x3317da(0x413)]({label:_0x3c1f81}){const _0x4c195c=_0x3317da;this[_0x4c195c(0x6bd)](_0x3c1f81,_0x12c3f7[_0x4c195c(0x711)]),this[_0x4c195c(0x598)](_0x3c1f81,_0x12c3f7[_0x4c195c(0x711)]);}[_0x3317da(0x221)]({label:_0x49f76a}){const _0x1657de=_0x3317da;this[_0x1657de(0x6bd)](_0x49f76a,_0x12c3f7[_0x1657de(0x47f)]),this[_0x1657de(0x598)](_0x49f76a,_0x12c3f7[_0x1657de(0x47f)]);}[_0x3317da(0x621)]({id:_0x140d35}){const _0x4d6fb4=_0x3317da;this[_0x4d6fb4(0x39c)][_0x4d6fb4(0x621)](_0x140d35),this[_0x4d6fb4(0x1d2)]['removeSubscriptionsForUser'](_0x140d35);}}class _0x5c0f08{[_0x3317da(0x369)];[_0x3317da(0x243)]=_0x2d6d4d();constructor(){const _0x61edc8=_0x3317da;this[_0x61edc8(0x369)]=0x0;}[_0x3317da(0x6c6)](){const _0x33c5de=_0x3317da;return this[_0x33c5de(0x369)];}[_0x3317da(0x262)](){const _0x4c4c15=_0x3317da;return _0x12c3f7[_0x4c4c15(0x527)];}[_0x3317da(0x323)](_0x461f1f){const _0x5ee050=_0x3317da;_0x461f1f[_0x5ee050(0x592)](this);}[_0x3317da(0x3a3)](_0x1427f5){const _0xbc764f=_0x3317da;_0x1427f5[_0xbc764f(0x449)]();}[_0x3317da(0x6af)](_0x2cd6bb){const _0x8f4982=_0x3317da;_0x546907[_0x8f4982(0x614)](_0xea19ad['Events'],_0x8f4982(0x2a3),_0x2cd6bb[_0x8f4982(0x396)],_0x2cd6bb),this[_0x8f4982(0x243)][_0x8f4982(0x6af)]({'topicLabel':this[_0x8f4982(0x369)],'contentType':_0x12c3f7[_0x8f4982(0x527)],'uuid':_0x2cd6bb[_0x8f4982(0x625)]??(0x0,_0xdef932['v4'])(),'recipients':_0x2cd6bb['recipients']??[],..._0x2cd6bb});}['subscribe'](_0x3a03d1){const _0x4233fc=_0x3317da;return this[_0x4233fc(0x243)]['subscribe'](_0x3a03d1);}}class _0x56cae4{[_0x3317da(0x2bb)];[_0x3317da(0x172)];[_0x3317da(0x5b3)];[_0x3317da(0x426)]=[];[_0x3317da(0x1be)];[_0x3317da(0x548)]=new Map();constructor(_0x53b95a,_0x3cf6a4,_0x255cda){const _0xa67d48=_0x3317da;this[_0xa67d48(0x2bb)]=_0x53b95a,this[_0xa67d48(0x172)]=_0x3cf6a4,this[_0xa67d48(0x5b3)]=_0x255cda,this['maxLayer']=(this[_0xa67d48(0x172)]-0x2*this[_0xa67d48(0x2bb)])/0x2,this[_0xa67d48(0x426)]['push']({'start':0x1,'end':this[_0xa67d48(0x65f)](0x1,0x1)-0x1});for(let _0x2b796a=0x0;_0x2b796a<this[_0xa67d48(0x1be)];++_0x2b796a)this[_0xa67d48(0x426)]['push']({'start':this[_0xa67d48(0x65f)](0x1,_0x2b796a+0x1),'end':this[_0xa67d48(0x65f)](0x1,_0x2b796a+0x2)-0x1});}[_0x3317da(0x65f)](_0x376e5d,_0x2dece4=0x1){const _0x54a86a=_0x3317da;let _0x152ed8=this[_0x54a86a(0x5b3)]-this['minConnections'],_0x2e193d=0x1;for(let _0x2358a3=0x1;_0x2358a3<_0x2dece4;++_0x2358a3)_0x152ed8*=this[_0x54a86a(0x5b3)]-this[_0x54a86a(0x2bb)]-_0x2358a3,_0x2e193d*=this[_0x54a86a(0x5b3)]-this['minConnections']-_0x2358a3+0x1;return _0x152ed8*this[_0x54a86a(0x2bb)]+_0x376e5d-_0x2e193d;}[_0x3317da(0x6d4)](_0x300ad4){const _0x25450b=_0x3317da;let _0x37db0b=0x0;for(;this[_0x25450b(0x426)][_0x37db0b][_0x25450b(0x5b0)]<_0x300ad4;)_0x37db0b+=0x1;return _0x37db0b;}[_0x3317da(0x554)](){return this['minConnections'];}['getMaxConnections'](){const _0x14aa28=_0x3317da;return this[_0x14aa28(0x172)];}[_0x3317da(0x6c0)](){return this['maxDistance'];}[_0x3317da(0x6df)](){const _0xf1baf4=_0x3317da;return this[_0xf1baf4(0x548)];}[_0x3317da(0x152)](_0x18bc5b,_0x45f81c){const _0x4bb3f7=_0x3317da;this[_0x4bb3f7(0x548)][_0x4bb3f7(0x2c2)](_0x18bc5b,_0x45f81c);}['hasRemoteUser'](_0x2d9c76){const _0x52a126=_0x3317da;return this[_0x52a126(0x548)][_0x52a126(0x29e)](_0x2d9c76);}[_0x3317da(0x1f6)](_0x2fecda){const _0x4c6e22=_0x3317da;return this[_0x4c6e22(0x548)][_0x4c6e22(0x1c0)](_0x2fecda);}[_0x3317da(0x6e6)](_0x43d9e6){this['remoteUsers']['delete'](_0x43d9e6);}[_0x3317da(0x3fe)](_0x30f8ec,_0x390c25){const _0x3fceb7=_0x3317da,_0x4c802d=this[_0x3fceb7(0x1f6)](_0x390c25)?.['getRank']()??0x0;return _0x30f8ec[_0x3fceb7(0x488)](_0x307469=>this['getRemoteUser'](_0x307469))[_0x3fceb7(0x5e1)](_0x2c7a92=>void 0x0!==_0x2c7a92)['sort']((_0x417bc2,_0x2e976b)=>Math[_0x3fceb7(0x385)](_0x4c802d-(_0x417bc2&&_0x417bc2[_0x3fceb7(0x4e4)]()||0x1/0x0))-Math['abs'](_0x4c802d-(_0x2e976b&&_0x2e976b[_0x3fceb7(0x4e4)]()||0x1/0x0)))[_0x3fceb7(0x488)](_0x5dcdec=>_0x5dcdec[_0x3fceb7(0x4b5)]());}}class _0x4e9951{['vendorId'];[_0x3317da(0x2ed)];[_0x3317da(0x292)];['options'];[_0x3317da(0x3a8)];[_0x3317da(0x225)];[_0x3317da(0x363)];[_0x3317da(0x605)];[_0x3317da(0x239)];['statsManager'];[_0x3317da(0x1b7)];[_0x3317da(0x2ea)];[_0x3317da(0x1ba)];['graphService'];[_0x3317da(0x576)]=new _0x5c0f08();[_0x3317da(0x6c1)];['localUser'];constructor(_0x150424,_0x1ec4d5,_0x4d49e6,_0x57fd7c,_0x34e71e,_0x2f28fa,_0x3fa6c2){const _0x435232=_0x3317da;this[_0x435232(0x589)]=_0x150424,this[_0x435232(0x2ed)]=_0x1ec4d5,this[_0x435232(0x292)]=_0x57fd7c,this[_0x435232(0x3e3)]=_0x34e71e,this[_0x435232(0x3a8)]=_0x2f28fa,this[_0x435232(0x225)]=_0x3fa6c2,this['localUser']=new _0xb0b272(_0x4d49e6[_0x435232(0x4b5)](),_0x4d49e6[_0x435232(0x1ce)](),_0x4d49e6['getEmail']());const _0x33314b=this['getConfigs']();this[_0x435232(0x46d)]=new _0x56cae4(this[_0x435232(0x3e3)][_0x435232(0x2bb)],this[_0x435232(0x3e3)][_0x435232(0x172)],this[_0x435232(0x3e3)][_0x435232(0x5b3)]),this['contentManager']=new _0x235da8(_0x33314b,this[_0x435232(0x3e3)][_0x435232(0x4a2)],this[_0x435232(0x3e3)][_0x435232(0x679)]),this['connectionManager']=new _0x35fa9c(_0x33314b,this[_0x435232(0x292)],this[_0x435232(0x3a8)][_0x435232(0x15b)],this['options'][_0x435232(0x4a2)],this[_0x435232(0x3e3)][_0x435232(0x411)],this[_0x435232(0x46d)]),this[_0x435232(0x239)]=new _0x3fcec4(_0x33314b,this[_0x435232(0x3e3)][_0x435232(0x547)],this[_0x435232(0x46d)][_0x435232(0x6c0)]()),this[_0x435232(0x1f9)]=new _0x562bb3(_0x33314b),this[_0x435232(0x1b7)]=new _0x1060d9(_0x33314b),this[_0x435232(0x2ea)]=new _0x28d61a(_0x33314b),this[_0x435232(0x1ba)]=new _0x5970b4(_0x33314b,this['graphService'],this[_0x435232(0x301)]),this[_0x435232(0x6c1)]=this[_0x435232(0x191)]();}[_0x3317da(0x1d1)](){const _0x3fcbbd=_0x3317da,_0x4692ce=this[_0x3fcbbd(0x42b)]();this['connectionManager']=new _0x35fa9c(_0x4692ce,this[_0x3fcbbd(0x292)],this[_0x3fcbbd(0x3a8)]['iceServers'],this['options'][_0x3fcbbd(0x4a2)],this[_0x3fcbbd(0x3e3)][_0x3fcbbd(0x411)],this['graphService']),this['subscriptionManager']=new _0x3fcec4(_0x4692ce,this[_0x3fcbbd(0x3e3)]['maxOutgoingSubscriptions'],this[_0x3fcbbd(0x46d)][_0x3fcbbd(0x6c0)]()),this[_0x3fcbbd(0x1f9)]=new _0x562bb3(_0x4692ce),this[_0x3fcbbd(0x1b7)]=new _0x1060d9(_0x4692ce),this[_0x3fcbbd(0x2ea)]=new _0x28d61a(_0x4692ce),this['nodeManager']=new _0x5970b4(_0x4692ce,this['graphService'],this['localUser']);const _0x2ad051=this['connectionManager'][_0x3fcbbd(0x392)]();this[_0x3fcbbd(0x363)][_0x3fcbbd(0x52c)]()['forEach'](_0x25ef08=>{const _0x465822=_0x3fcbbd;this[_0x465822(0x239)][_0x465822(0x1e2)](_0x25ef08,_0x2ad051),this[_0x465822(0x239)][_0x465822(0x39d)](_0x2ad051,_0x25ef08);}),this[_0x3fcbbd(0x363)][_0x3fcbbd(0x350)]()[_0x3fcbbd(0x505)](_0x4b828a=>{const _0x66d220=_0x3fcbbd;this['subscriptionManager']['createOutgoingSubscription'](_0x4b828a,_0x2ad051),this[_0x66d220(0x239)][_0x66d220(0x39d)](_0x2ad051,_0x4b828a);}),this[_0x3fcbbd(0x363)][_0x3fcbbd(0x48e)]()['forEach'](_0x318e7d=>{const _0x51566a=_0x3fcbbd;this['subscriptionManager'][_0x51566a(0x1e2)](_0x318e7d,_0x2ad051),this[_0x51566a(0x239)][_0x51566a(0x39d)](_0x2ad051,_0x318e7d);}),this['systemTopicUnsubscribe']=this[_0x3fcbbd(0x191)]();}[_0x3317da(0x469)](_0x5d9cc4){const _0x1d2ed9=_0x3317da;try{this['systemTopic'][_0x1d2ed9(0x323)](_0x5d9cc4);}catch(_0x8799f3){this[_0x1d2ed9(0x4b7)](_0x8799f3,{});}}['unregisterSystemSource'](_0x4d961a){const _0x59635d=_0x3317da;try{this[_0x59635d(0x576)][_0x59635d(0x3a3)](_0x4d961a);}catch(_0x1d1d1d){this[_0x59635d(0x4b7)](_0x1d1d1d,{});}}[_0x3317da(0x2c3)](_0x3ab221,_0x4b30de){const _0x1e97b4=_0x3317da;return this[_0x1e97b4(0x605)][_0x1e97b4(0x2c3)](_0x3ab221,!0x0,_0x4b30de);}[_0x3317da(0x2e8)](_0x4060f6){const _0x1ee12c=_0x3317da;try{return this[_0x1ee12c(0x605)][_0x1ee12c(0x2e8)](_0x4060f6);}catch(_0x38c579){throw this['handleError'](_0x38c579,{});}}[_0x3317da(0x35a)](_0x1ee6f2){const _0x3b0a65=_0x3317da;try{return this['connectionManager'][_0x3b0a65(0x35a)](_0x1ee6f2);}catch(_0x4e0f28){throw this[_0x3b0a65(0x4b7)](_0x4e0f28,{});}}[_0x3317da(0x3a5)](_0x5d1cd5,_0x482731){const _0x447d5c=_0x3317da;try{return this['contentManager']['getRemoteMediaStreams'](_0x43c7d4=>_0x43c7d4[_0x447d5c(0x268)]()===_0x5d1cd5&&_0x43c7d4[_0x447d5c(0x6c6)]()===_0x482731)[0x0];}catch(_0x54324e){throw this[_0x447d5c(0x4b7)](_0x54324e,{});}}[_0x3317da(0x219)](_0x300f22){const _0x45dd25=_0x3317da;try{return this[_0x45dd25(0x363)][_0x45dd25(0x6b4)](_0x34632a=>_0x34632a[_0x45dd25(0x6c6)]()===_0x300f22)[0x0];}catch(_0x19b031){throw this[_0x45dd25(0x4b7)](_0x19b031,{});}}['notifyCluster']=(..._0x3ace90)=>{const _0xa4b5e9=_0x3317da;try{return this[_0xa4b5e9(0x225)][_0xa4b5e9(0x676)](..._0x3ace90);}catch(_0x4943f5){throw this[_0xa4b5e9(0x4b7)](_0x4943f5,{});}};['registerRemoteUser'](_0x340e64){const _0x4ce3ee=_0x3317da;try{this[_0x4ce3ee(0x1f9)]['addRemoteUser'](_0x340e64);}catch(_0x2b4cd0){throw this[_0x4ce3ee(0x4b7)](_0x2b4cd0,{});}}[_0x3317da(0x428)](_0x2f7a6e){const _0x3a0401=_0x3317da;try{this[_0x3a0401(0x1f9)][_0x3a0401(0x608)](_0x2f7a6e);}catch(_0x4c79c3){throw this[_0x3a0401(0x4b7)](_0x4c79c3,{});}}[_0x3317da(0x2ef)](_0x2f322e){const _0x1f20f1=_0x3317da;return this['connectionManager'][_0x1f20f1(0x2ef)](_0x2f322e);}async[_0x3317da(0x2b8)](){const _0x57111f=_0x3317da;try{await this[_0x57111f(0x605)]['initialize']();const _0x27f24b=await this[_0x57111f(0x1ba)][_0x57111f(0x44f)]();for(const _0x13cdb2 of _0x27f24b)this[_0x57111f(0x605)][_0x57111f(0x2c3)](_0x13cdb2,!0x0);}catch(_0x42603b){throw this[_0x57111f(0x4b7)](_0x42603b,{});}}[_0x3317da(0x25b)](_0x434f1b){const _0x21b44f=_0x3317da;this['localUser'][_0x21b44f(0x352)](_0x434f1b['getEmail']()),this[_0x21b44f(0x301)][_0x21b44f(0x3c3)](_0x434f1b[_0x21b44f(0x1ce)]());}[_0x3317da(0x35e)](_0x22097d=!0x1){const _0x31a127=_0x3317da;this[_0x31a127(0x6c1)](),this['remediationManager']['close'](),this[_0x31a127(0x1b7)][_0x31a127(0x35e)](),this[_0x31a127(0x1f9)]['close'](),this[_0x31a127(0x239)][_0x31a127(0x35e)](),this[_0x31a127(0x605)][_0x31a127(0x35e)](),this[_0x31a127(0x363)][_0x31a127(0x35e)](_0x22097d),this[_0x31a127(0x1ba)]['close']();}[_0x3317da(0x509)](_0x2529fb){const _0x261172=_0x3317da;try{const _0x14685d=this['contentManager'][_0x261172(0x2f6)](_0x2529fb),_0x57d7ef=this[_0x261172(0x605)]['getConnectionGroup']();return this[_0x261172(0x239)]['createOutgoingSubscription'](_0x14685d,_0x57d7ef),this[_0x261172(0x239)][_0x261172(0x39d)](_0x57d7ef,_0x14685d),_0x14685d;}catch(_0x3fb243){throw this['handleError'](_0x3fb243,{});}}async[_0x3317da(0x331)](_0x4f29e5){const _0x51f539=_0x3317da;try{const _0x221cc8=this[_0x51f539(0x363)]['createObjectStoreBucket'](_0x4f29e5),_0x40c470=this[_0x51f539(0x605)][_0x51f539(0x392)]();return this[_0x51f539(0x239)][_0x51f539(0x1e2)](_0x221cc8,_0x40c470),this[_0x51f539(0x239)][_0x51f539(0x39d)](_0x40c470,_0x221cc8),await _0x221cc8[_0x51f539(0x3cb)](),_0x221cc8;}catch(_0x1f99ad){throw this[_0x51f539(0x4b7)](_0x1f99ad,{});}}async[_0x3317da(0x291)](_0x3fe72b,_0x5e58ec){const _0x42861f=_0x3317da;try{const _0x414e13=await this[_0x42861f(0x363)][_0x42861f(0x4b8)](_0x3fe72b,_0x5e58ec),_0x1d5a54=this[_0x42861f(0x605)][_0x42861f(0x392)]();return this['subscriptionManager'][_0x42861f(0x1e2)](_0x414e13,_0x1d5a54),this['subscriptionManager']['createIncomingSubscription'](_0x1d5a54,_0x414e13),await _0x414e13['open'](),this[_0x42861f(0x202)](_0x414e13),_0x414e13;}catch(_0x4f816c){throw this['handleError'](_0x4f816c,{});}}['getPubSubTopics'](_0x312a50){const _0x5c5a82=_0x3317da;try{return this[_0x5c5a82(0x363)][_0x5c5a82(0x52c)](_0x312a50);}catch(_0x57ea7e){throw this['handleError'](_0x57ea7e,{});}}[_0x3317da(0x350)](_0x3873e7){const _0x110d68=_0x3317da;try{return this[_0x110d68(0x363)][_0x110d68(0x350)](_0x3873e7);}catch(_0x317a02){throw this[_0x110d68(0x4b7)](_0x317a02,{});}}['getKeyValueDatabases'](_0x49cd34){const _0x3ae021=_0x3317da;try{return this[_0x3ae021(0x363)]['getKeyValueDatabases'](_0x49cd34);}catch(_0x59ab96){throw this['handleError'](_0x59ab96,{});}}[_0x3317da(0x23d)](_0x2a5613,_0x428d31){const _0x68299d=_0x3317da;if(!this[_0x68299d(0x3a8)][_0x68299d(0x3f8)][_0x68299d(0x32e)](_0x3d76e7['MediaStream']))throw new _0xb069c2(_0x1193d2[_0x68299d(0x34a)],_0x68299d(0x19e));try{return this['contentManager'][_0x68299d(0x23d)](_0x2a5613,_0x428d31);}catch(_0xe921da){throw this[_0x68299d(0x4b7)](_0xe921da,{});}}[_0x3317da(0x3c2)](_0x58b6a3,_0x4e4ee4){const _0x224981=_0x3317da;if(!this[_0x224981(0x3a8)][_0x224981(0x3f8)][_0x224981(0x32e)](_0x3d76e7[_0x224981(0x1dc)]))throw new _0xb069c2(_0x1193d2['FeatureNotEnabled'],_0x224981(0x19e));try{return this[_0x224981(0x363)][_0x224981(0x3c2)](_0x58b6a3,_0x4e4ee4);}catch(_0x399dc8){throw this[_0x224981(0x4b7)](_0x399dc8,{});}}[_0x3317da(0x6b4)](_0x17b440){const _0x3189ae=_0x3317da;if(!this[_0x3189ae(0x3a8)][_0x3189ae(0x3f8)]['includes'](_0x3d76e7[_0x3189ae(0x1dc)]))throw new _0xb069c2(_0x1193d2[_0x3189ae(0x34a)],_0x3189ae(0x19e));try{return this[_0x3189ae(0x363)]['getLocalMediaStreams'](_0x17b440);}catch(_0x2c1288){throw this[_0x3189ae(0x4b7)](_0x2c1288,{});}}[_0x3317da(0x713)](_0x4263e9){const _0x54a089=_0x3317da;if(!this[_0x54a089(0x3a8)][_0x54a089(0x3f8)][_0x54a089(0x32e)](_0x3d76e7[_0x54a089(0x1dc)]))throw new _0xb069c2(_0x1193d2['FeatureNotEnabled'],_0x54a089(0x19e));try{return this[_0x54a089(0x363)][_0x54a089(0x713)](_0x4263e9);}catch(_0x2aef6c){throw this[_0x54a089(0x4b7)](_0x2aef6c,{});}}[_0x3317da(0x4e0)](_0x23e362,_0x4b94c2){const _0x2413fe=_0x3317da;return this[_0x2413fe(0x1ba)][_0x2413fe(0x4e0)](_0x23e362,_0x4b94c2);}[_0x3317da(0x4f7)](){const _0x1e9e38=_0x3317da;return this[_0x1e9e38(0x3e3)][_0x1e9e38(0x679)];}[_0x3317da(0x644)](){const _0x34261d=_0x3317da;return this[_0x34261d(0x1ba)][_0x34261d(0x644)]();}[_0x3317da(0x6df)](_0x419b8d){const _0x385f93=_0x3317da;try{return this[_0x385f93(0x1ba)]['getRemoteUsers'](_0x419b8d);}catch(_0x3b4201){throw this[_0x385f93(0x4b7)](_0x3b4201,{});}}async[_0x3317da(0x29c)](_0x17a6a2){const _0x5d9aec=_0x3317da;try{if(_0x546907[_0x5d9aec(0x614)](_0xea19ad[_0x5d9aec(0x381)],_0x5d9aec(0x2ac),this[_0x5d9aec(0x1ba)][_0x5d9aec(0x339)](),_0x17a6a2),_0x295351(_0x17a6a2,this[_0x5d9aec(0x1ba)]['getLocalId']()))return void this[_0x5d9aec(0x605)]['handleOutgoingSystemEvents'](_0x17a6a2);switch(_0x17a6a2['messageType']){case _0x1c4d06['Content']:this[_0x5d9aec(0x1f9)][_0x5d9aec(0x1c5)](_0x17a6a2),this[_0x5d9aec(0x239)][_0x5d9aec(0x1c5)](_0x17a6a2),this[_0x5d9aec(0x363)][_0x5d9aec(0x1c5)](_0x17a6a2);break;case _0x1c4d06['Node']:this[_0x5d9aec(0x239)][_0x5d9aec(0x623)](_0x17a6a2),this[_0x5d9aec(0x605)][_0x5d9aec(0x623)](_0x17a6a2),this[_0x5d9aec(0x363)][_0x5d9aec(0x623)](_0x17a6a2),this[_0x5d9aec(0x1ba)]['handleNodeSystemEvents'](_0x17a6a2);break;case _0x1c4d06[_0x5d9aec(0x35c)]:this[_0x5d9aec(0x2ea)][_0x5d9aec(0x3cc)](_0x17a6a2);break;case _0x1c4d06[_0x5d9aec(0x38b)]:this[_0x5d9aec(0x2ea)][_0x5d9aec(0x590)](_0x17a6a2);break;case _0x1c4d06[_0x5d9aec(0x1d7)]:this[_0x5d9aec(0x1b7)][_0x5d9aec(0x1d3)](_0x17a6a2);break;case _0x1c4d06[_0x5d9aec(0x1ff)]:_0x17a6a2['content'][_0x5d9aec(0x1e3)]!==_0x3fa9b2['UnsubscribeMediaStream']?(this[_0x5d9aec(0x239)][_0x5d9aec(0x53f)](_0x17a6a2),this['contentManager'][_0x5d9aec(0x53f)](_0x17a6a2)):(this['contentManager'][_0x5d9aec(0x53f)](_0x17a6a2),this['subscriptionManager'][_0x5d9aec(0x53f)](_0x17a6a2));break;case _0x1c4d06[_0x5d9aec(0x1f2)]:await this[_0x5d9aec(0x605)][_0x5d9aec(0x147)](_0x17a6a2),this[_0x5d9aec(0x1f9)]['handleWebRTCSystemEvents'](_0x17a6a2),this['nodeManager'][_0x5d9aec(0x147)](_0x17a6a2),this['subscriptionManager'][_0x5d9aec(0x147)](_0x17a6a2);}}catch(_0x25d1fd){throw this[_0x5d9aec(0x4b7)](_0x25d1fd,{});}}[_0x3317da(0x4b7)](_0x1ab630,_0x110463){const _0x357910=_0x3317da;if(!(_0x1ab630 instanceof _0x34beb4)){if(_0x1ab630 instanceof _0xb069c2)throw _0x1ab630;if(!(_0x1ab630 instanceof Error))throw new _0xb069c2(_0x1193d2[_0x357910(0x35b)],'Internal\x20unknown\x20error:\x20'+_0x1ab630);if(!(_0x1ab630 instanceof _0x2ba88c))throw new _0xb069c2(_0x1193d2[_0x357910(0x35b)],'Internal\x20error:\x20'+_0x1ab630['message']);switch(_0x1ab630[_0x357910(0x540)]){case _0x2ba88c[_0x357910(0x4f1)][_0x357910(0x14e)]:case _0x2ba88c[_0x357910(0x4f1)][_0x357910(0x420)]:case _0x2ba88c['codes'][_0x357910(0x4c6)]:case _0x2ba88c[_0x357910(0x4f1)]['ConnectionNotinitialized']:case _0x2ba88c[_0x357910(0x4f1)][_0x357910(0x1ec)]:case _0x2ba88c[_0x357910(0x4f1)][_0x357910(0x3d1)]:case _0x2ba88c[_0x357910(0x4f1)][_0x357910(0x232)]:case _0x2ba88c[_0x357910(0x4f1)]['InvalidSubscriber']:case _0x2ba88c[_0x357910(0x4f1)]['SubscriptionRequestDoesNotExist']:case _0x2ba88c[_0x357910(0x4f1)][_0x357910(0x155)]:case _0x2ba88c['codes'][_0x357910(0x31a)]:case _0x2ba88c[_0x357910(0x4f1)]['InvalidSubscription']:}throw _0x546907[_0x357910(0x4b0)](_0x357910(0x515)+_0x1ab630['message'],{'clusterId':this['clusterId'],'userId':this[_0x357910(0x301)]['getId']()},_0x1ab630),new _0xb069c2(_0x1193d2[_0x357910(0x35b)],_0x357910(0x541)+_0x1ab630[_0x357910(0x33f)]);}}[_0x3317da(0x42b)](){const _0x77543d=_0x3317da;return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this[_0x77543d(0x2ed)],'localId':this[_0x77543d(0x301)][_0x77543d(0x4b5)]()};}[_0x3317da(0x191)](){const _0x478bb4=_0x3317da;return this[_0x478bb4(0x576)][_0x478bb4(0x650)](_0x385dd6=>{const _0xf6cda6=_0x478bb4,_0x37876b=_0x115979(_0x385dd6,this[_0xf6cda6(0x301)][_0xf6cda6(0x4b5)]()),_0x2d9ffd=_0x385dd6['messageType']===_0x1c4d06[_0xf6cda6(0x1d7)]||_0x385dd6['messageType']===_0x1c4d06['WebRTC']&&_0x385dd6[_0xf6cda6(0x1b9)][_0xf6cda6(0x1e3)]===_0x2c3496[_0xf6cda6(0x1d7)]?_0xea19ad[_0xf6cda6(0x607)]:_0xea19ad['System'];_0x546907[_0xf6cda6(0x42c)](_0x2d9ffd,_0x385dd6['uuid']+'\x20-\x20'+_0x37876b,_0x385dd6),this['handleSystemEvents'](_0x385dd6)['catch'](_0x2045c8=>{const _0x5f3aa7=_0xf6cda6;console[_0x5f3aa7(0x4b0)](_0x2045c8);});});}async['syncKeyValueDatabase'](_0x4622cb,_0x342dc1){const _0x13476d=_0x3317da;_0x342dc1=this['findNextAncestor'](_0x342dc1),await _0x4622cb[_0x13476d(0x3cb)](_0x342dc1,()=>this['syncKeyValueDatabase'](_0x4622cb,_0x342dc1));}[_0x3317da(0x53a)](_0x5f47c5){const _0x2a8ad2=_0x3317da,_0x169422=this[_0x2a8ad2(0x1ba)]['getAncestorIds']();if(!_0x5f47c5)return _0x169422[0x0];const _0x134337=_0x169422['findIndex'](_0x341615=>_0x5f47c5===_0x341615),_0x59240=_0x169422[_0x134337+0x1];return _0x169422[_0x2a8ad2(0x43f)]>0x0&&!_0x59240?_0x5f47c5[0x0]:_0x59240;}}class _0x714113{['vendorId'];[_0x3317da(0x2ed)];[_0x3317da(0x21d)];['eventEmitter'];[_0x3317da(0x38c)];constructor(_0x990187,_0x10ea3f,_0x56b567,_0x128d43,_0x22f1eb,_0x32c0f8,_0x24ace0=new _0x4130bb()){const _0x9e9760=_0x3317da;this[_0x9e9760(0x589)]=_0x990187,this['clusterId']=_0x10ea3f,this['authUser']=_0x56b567,this[_0x9e9760(0x2b4)]=_0x24ace0,this[_0x9e9760(0x38c)]=new _0x4e9951(this[_0x9e9760(0x589)],this[_0x9e9760(0x2ed)],_0x56b567,_0x128d43,_0x22f1eb,_0x32c0f8,this);}async[_0x3317da(0x2d6)](){const _0x1265ec=_0x3317da;await this[_0x1265ec(0x38c)]['initialize'](),this['authUser'][_0x1265ec(0x6b3)](this[_0x1265ec(0x2ed)],_0x59371a=>{const _0x3e9428=_0x1265ec;this[_0x3e9428(0x38c)]['updateUser'](_0x59371a);});}[_0x3317da(0x495)](){const _0x5b66ed=_0x3317da,_0x9c8dd7=this['orchestrator']['getLocalUser']();return{'getId':_0x9c8dd7[_0x5b66ed(0x4b5)]['bind'](_0x9c8dd7),'getDisplayName':_0x9c8dd7[_0x5b66ed(0x1ce)][_0x5b66ed(0x46f)](_0x9c8dd7),'getEmail':_0x9c8dd7[_0x5b66ed(0x3c0)]['bind'](_0x9c8dd7),'getRemoteConnections':_0x9c8dd7[_0x5b66ed(0x707)][_0x5b66ed(0x46f)](_0x9c8dd7),'setDisplayName':_0x9c8dd7[_0x5b66ed(0x3c3)][_0x5b66ed(0x46f)](_0x9c8dd7),'setEmail':_0x9c8dd7[_0x5b66ed(0x352)][_0x5b66ed(0x46f)](_0x9c8dd7)};}[_0x3317da(0x2d2)](){const _0x2560d4=_0x3317da;this[_0x2560d4(0x38c)]['close'](),this[_0x2560d4(0x21d)][_0x2560d4(0x2d4)](this[_0x2560d4(0x2ed)]);}[_0x3317da(0x509)](_0x30363b){const _0x4b687a=_0x3317da,_0x6ee934=this['orchestrator'][_0x4b687a(0x509)](_0x30363b);return{'getLabel':_0x6ee934[_0x4b687a(0x6c6)][_0x4b687a(0x46f)](_0x6ee934),'getOwnerId':_0x6ee934[_0x4b687a(0x268)]['bind'](_0x6ee934),'getContentType':_0x6ee934[_0x4b687a(0x262)]['bind'](_0x6ee934),'publish':_0x6ee934['publish'][_0x4b687a(0x46f)](_0x6ee934),'subscribe':_0x6ee934[_0x4b687a(0x650)]['bind'](_0x6ee934),'unsubscribe':_0x6ee934[_0x4b687a(0x295)]['bind'](_0x6ee934),'close':_0x6ee934[_0x4b687a(0x35e)][_0x4b687a(0x46f)](_0x6ee934)};}async[_0x3317da(0x331)](_0x3eea42){const _0x38ec1a=_0x3317da,_0x162a2f=await this[_0x38ec1a(0x38c)][_0x38ec1a(0x331)](_0x3eea42);return{'getLabel':_0x162a2f[_0x38ec1a(0x6c6)][_0x38ec1a(0x46f)](_0x162a2f),'getOwnerId':_0x162a2f[_0x38ec1a(0x268)][_0x38ec1a(0x46f)](_0x162a2f),'getContentType':_0x162a2f['getContentType'][_0x38ec1a(0x46f)](_0x162a2f),'publish':_0x162a2f[_0x38ec1a(0x6af)][_0x38ec1a(0x46f)](_0x162a2f),'unpublish':_0x162a2f[_0x38ec1a(0x3ed)][_0x38ec1a(0x46f)](_0x162a2f),'get':_0x162a2f[_0x38ec1a(0x1c0)][_0x38ec1a(0x46f)](_0x162a2f),'list':_0x162a2f[_0x38ec1a(0x5c4)]['bind'](_0x162a2f),'subscribe':_0x162a2f[_0x38ec1a(0x650)]['bind'](_0x162a2f),'unsubscribe':_0x162a2f['unsubscribe'][_0x38ec1a(0x46f)](_0x162a2f),'close':_0x162a2f['close'][_0x38ec1a(0x46f)](_0x162a2f)};}async[_0x3317da(0x291)](_0xeb4aed,_0x44e990){const _0x1a1010=_0x3317da,_0x5be852=await this[_0x1a1010(0x38c)]['openKeyValueDatabase'](_0xeb4aed,_0x44e990);return{'getTable':_0x5be852[_0x1a1010(0x704)][_0x1a1010(0x46f)](_0x5be852),'subscribe':_0x5be852['subscribe'][_0x1a1010(0x46f)](_0x5be852),'unsubscribe':_0x5be852['unsubscribe'][_0x1a1010(0x46f)](_0x5be852),'close':_0x5be852[_0x1a1010(0x35e)][_0x1a1010(0x46f)](_0x5be852)};}[_0x3317da(0x52c)](_0xff546a){const _0x4ef06e=_0x3317da;return this[_0x4ef06e(0x38c)][_0x4ef06e(0x52c)](_0xff546a)['map'](_0x4231eb=>({'getLabel':_0x4231eb[_0x4ef06e(0x6c6)][_0x4ef06e(0x46f)](_0x4231eb),'getOwnerId':_0x4231eb[_0x4ef06e(0x268)]['bind'](_0x4231eb),'getContentType':_0x4231eb[_0x4ef06e(0x262)]['bind'](_0x4231eb),'publish':_0x4231eb['publish'][_0x4ef06e(0x46f)](_0x4231eb),'subscribe':_0x4231eb[_0x4ef06e(0x650)][_0x4ef06e(0x46f)](_0x4231eb),'unsubscribe':_0x4231eb[_0x4ef06e(0x295)]['bind'](_0x4231eb),'close':_0x4231eb[_0x4ef06e(0x35e)][_0x4ef06e(0x46f)](_0x4231eb)}));}['getObjectStoreBuckets'](_0x315663){const _0x190e3e=_0x3317da;return this[_0x190e3e(0x38c)][_0x190e3e(0x350)](_0x315663)[_0x190e3e(0x488)](_0x2020c7=>({'getLabel':_0x2020c7[_0x190e3e(0x6c6)]['bind'](_0x2020c7),'getOwnerId':_0x2020c7['getOwnerId']['bind'](_0x2020c7),'getContentType':_0x2020c7[_0x190e3e(0x262)]['bind'](_0x2020c7),'publish':_0x2020c7[_0x190e3e(0x6af)][_0x190e3e(0x46f)](_0x2020c7),'unpublish':_0x2020c7[_0x190e3e(0x3ed)][_0x190e3e(0x46f)](_0x2020c7),'get':_0x2020c7[_0x190e3e(0x1c0)][_0x190e3e(0x46f)](_0x2020c7),'list':_0x2020c7[_0x190e3e(0x5c4)]['bind'](_0x2020c7),'subscribe':_0x2020c7[_0x190e3e(0x650)]['bind'](_0x2020c7),'unsubscribe':_0x2020c7[_0x190e3e(0x295)][_0x190e3e(0x46f)](_0x2020c7),'close':_0x2020c7[_0x190e3e(0x35e)][_0x190e3e(0x46f)](_0x2020c7)}));}[_0x3317da(0x48e)](_0x39717b){const _0x506269=_0x3317da;return this[_0x506269(0x38c)][_0x506269(0x48e)](_0x39717b)[_0x506269(0x488)](_0xe49174=>({'getTable':_0xe49174['getTable'][_0x506269(0x46f)](_0xe49174),'subscribe':_0xe49174[_0x506269(0x650)][_0x506269(0x46f)](_0xe49174),'unsubscribe':_0xe49174[_0x506269(0x295)][_0x506269(0x46f)](_0xe49174),'close':_0xe49174[_0x506269(0x35e)][_0x506269(0x46f)](_0xe49174)}));}['publishLocalMediaStream'](_0x4fd987,_0x4d3744){const _0x356d91=_0x3317da,_0x317c3b=this[_0x356d91(0x38c)][_0x356d91(0x23d)](_0x4fd987,_0x4d3744);return{'getLabel':_0x317c3b[_0x356d91(0x6c6)][_0x356d91(0x46f)](_0x317c3b),'getOwnerId':_0x317c3b[_0x356d91(0x268)][_0x356d91(0x46f)](_0x317c3b),'getContentType':_0x317c3b['getContentType'][_0x356d91(0x46f)](_0x317c3b),'getMediaStream':_0x317c3b[_0x356d91(0x23f)][_0x356d91(0x46f)](_0x317c3b),'setPriority':_0x317c3b[_0x356d91(0x39e)][_0x356d91(0x46f)](_0x317c3b),'unpublish':_0x317c3b[_0x356d91(0x3ed)][_0x356d91(0x46f)](_0x317c3b)};}['publishLocalDynamicMediaStream'](_0x2e8358,_0x402989){const _0x520f14=_0x3317da,_0x127c0b=this[_0x520f14(0x38c)][_0x520f14(0x3c2)](_0x2e8358,_0x402989);return{'getLabel':_0x127c0b[_0x520f14(0x6c6)][_0x520f14(0x46f)](_0x127c0b),'getOwnerId':_0x127c0b[_0x520f14(0x268)]['bind'](_0x127c0b),'getContentType':_0x127c0b[_0x520f14(0x262)][_0x520f14(0x46f)](_0x127c0b),'setPriority':_0x127c0b[_0x520f14(0x39e)][_0x520f14(0x46f)](_0x127c0b),'unpublish':_0x127c0b[_0x520f14(0x3ed)]['bind'](_0x127c0b),'getMediaStream':_0x127c0b[_0x520f14(0x23f)]['bind'](_0x127c0b),'addTrack':_0x127c0b[_0x520f14(0x213)][_0x520f14(0x46f)](_0x127c0b),'removeTrack':_0x127c0b[_0x520f14(0x4a8)]['bind'](_0x127c0b),'replaceTrack':_0x127c0b[_0x520f14(0x702)]['bind'](_0x127c0b),'setTransformations':_0x127c0b[_0x520f14(0x6a6)][_0x520f14(0x46f)](_0x127c0b)};}[_0x3317da(0x6b4)](_0x4d780e){const _0x47869d=_0x3317da;return this[_0x47869d(0x38c)][_0x47869d(0x6b4)](_0x4d780e)[_0x47869d(0x488)](_0x1a02d8=>({'getLabel':_0x1a02d8[_0x47869d(0x6c6)][_0x47869d(0x46f)](_0x1a02d8),'getOwnerId':_0x1a02d8['getOwnerId']['bind'](_0x1a02d8),'getContentType':_0x1a02d8[_0x47869d(0x262)][_0x47869d(0x46f)](_0x1a02d8),'getMediaStream':_0x1a02d8['getMediaStream'][_0x47869d(0x46f)](_0x1a02d8),'setPriority':_0x1a02d8[_0x47869d(0x39e)][_0x47869d(0x46f)](_0x1a02d8),'unpublish':_0x1a02d8[_0x47869d(0x3ed)][_0x47869d(0x46f)](_0x1a02d8)}));}['getRemoteMediaStreams'](_0x18d78b){const _0x2d5412=_0x3317da;return this[_0x2d5412(0x38c)][_0x2d5412(0x713)](_0x18d78b)[_0x2d5412(0x488)](_0x5020d4=>({'getLabel':_0x5020d4['getLabel'][_0x2d5412(0x46f)](_0x5020d4),'getOwnerId':_0x5020d4['getOwnerId'][_0x2d5412(0x46f)](_0x5020d4),'getContentType':_0x5020d4[_0x2d5412(0x262)]['bind'](_0x5020d4),'getMediaStream':_0x5020d4[_0x2d5412(0x23f)][_0x2d5412(0x46f)](_0x5020d4),'subscribe':_0x5020d4[_0x2d5412(0x650)][_0x2d5412(0x46f)](_0x5020d4),'unsubscribe':_0x5020d4[_0x2d5412(0x295)][_0x2d5412(0x46f)](_0x5020d4),'getAvailableTrackKinds':_0x5020d4[_0x2d5412(0x346)][_0x2d5412(0x46f)](_0x5020d4),'update':_0x5020d4[_0x2d5412(0x69f)]['bind'](_0x5020d4),'onProviderChanged':_0x5020d4['onProviderChanged'][_0x2d5412(0x46f)](_0x5020d4)}));}[_0x3317da(0x6df)](_0x629f32){const _0x21e950=_0x3317da;return this[_0x21e950(0x38c)][_0x21e950(0x6df)](_0x629f32)[_0x21e950(0x488)](_0x2cd9ea=>({'getId':_0x2cd9ea[_0x21e950(0x4b5)][_0x21e950(0x46f)](_0x2cd9ea),'getDisplayName':_0x2cd9ea[_0x21e950(0x1ce)]['bind'](_0x2cd9ea),'getEmail':_0x2cd9ea[_0x21e950(0x3c0)][_0x21e950(0x46f)](_0x2cd9ea),'getRemoteConnections':_0x2cd9ea[_0x21e950(0x707)][_0x21e950(0x46f)](_0x2cd9ea)}));}['on']=(..._0x3cd24b)=>{this['eventEmitter']['on'](..._0x3cd24b);};[_0x3317da(0x676)]=(..._0xc2b143)=>this['eventEmitter']['emit'](..._0xc2b143);['off'](..._0x4b2761){const _0x24a5a0=_0x3317da;this[_0x24a5a0(0x2b4)][_0x24a5a0(0x50d)](..._0x4b2761);}}class _0xcd8e96{['id'];['displayName'];[_0x3317da(0x159)];[_0x3317da(0x458)]=new Map();[_0x3317da(0x5a2)]=_0x2d6d4d();constructor(_0x1396b2,_0x51552a,_0x3b2179){const _0x19f159=_0x3317da;this['id']=_0x1396b2,this[_0x19f159(0x2b2)]=_0x51552a,this[_0x19f159(0x159)]=_0x3b2179;}['getId'](){return this['id'];}[_0x3317da(0x1ce)](){const _0x59f11c=_0x3317da;return this[_0x59f11c(0x2b2)];}[_0x3317da(0x3c0)](){return this['email'];}[_0x3317da(0x3c3)](_0x725be1){const _0x1104cd=_0x3317da;this[_0x1104cd(0x2b2)]!==_0x725be1&&(this['displayName']=_0x725be1,this['observer'][_0x1104cd(0x6af)](this));}[_0x3317da(0x352)](_0xd4e8d){const _0x28e6ec=_0x3317da;this[_0x28e6ec(0x159)]!==_0xd4e8d&&(this[_0x28e6ec(0x159)]=_0xd4e8d,this[_0x28e6ec(0x5a2)]['publish'](this));}[_0x3317da(0x6b3)](_0x3a296c,_0x27ad5f){const _0x233cc0=_0x3317da;if(this[_0x233cc0(0x458)]['has'](_0x3a296c))return;const _0x136b7c=this[_0x233cc0(0x5a2)]['subscribe'](_0x27ad5f);this[_0x233cc0(0x458)][_0x233cc0(0x2c2)](_0x3a296c,_0x136b7c);}[_0x3317da(0x2d4)](_0x213bb7){const _0x565c14=_0x3317da;if(!this['joinedClusters'][_0x565c14(0x29e)](_0x213bb7))return;const _0x975b12=this['joinedClusters'][_0x565c14(0x1c0)](_0x213bb7);_0x975b12&&_0x975b12(),this[_0x565c14(0x458)][_0x565c14(0x164)](_0x213bb7);}}class _0x5b6959{[_0x3317da(0x589)];['user'];constructor(_0x17e823){const _0x24a650=_0x3317da;this[_0x24a650(0x589)]=_0x17e823;}async[_0x3317da(0x703)](_0x3ca9de){const _0x300fb4=_0x3317da,_0x27f8ea=await(0x0,_0x227d42[_0x300fb4(0x629)])(_0x1159b8['getFunctions'](),_0x300fb4(0x28f))({'uid':'ccc'+this[_0x300fb4(0x589)]+_0x300fb4(0x44d)+_0x3ca9de['id']}),_0x1be9d3=await(0x0,_0x2e6b55[_0x300fb4(0x6eb)])(_0x1159b8[_0x300fb4(0x700)](),_0x27f8ea[_0x300fb4(0x1ed)][_0x300fb4(0x630)]);this[_0x300fb4(0x198)]=_0x1be9d3[_0x300fb4(0x198)];}[_0x3317da(0x1c8)](){const _0x1a0727=_0x3317da;return this[_0x1a0727(0x198)]?.[_0x1a0727(0x1c8)]()??Promise[_0x1a0727(0x18c)]('User\x20not\x20signed\x20in');}}const _0x29164f=require('webrtc-adapter');var _0x1ac1b0,_0x5b8c26=_0x563737['n'](_0x29164f);!function(_0x3c7f81){const _0x3f08b2=_0x3317da;_0x3c7f81[_0x3f08b2(0x1f2)]='WebRTC',_0x3c7f81[_0x3f08b2(0x1dc)]=_0x3f08b2(0x1dc),_0x3c7f81[_0x3f08b2(0x258)]=_0x3f08b2(0x258),_0x3c7f81[_0x3f08b2(0x204)]=_0x3f08b2(0x204),_0x3c7f81[_0x3f08b2(0x3c8)]=_0x3f08b2(0x3c8),_0x3c7f81[_0x3f08b2(0x201)]='AudioOutput',_0x3c7f81[_0x3f08b2(0x634)]=_0x3f08b2(0x634),_0x3c7f81[_0x3f08b2(0x1de)]=_0x3f08b2(0x1de),_0x3c7f81[_0x3f08b2(0x214)]='WebGL';}(_0x1ac1b0||(_0x1ac1b0={}));class _0x124583{static [_0x3317da(0x241)];['browser'];[_0x3317da(0x15a)];[_0x3317da(0x612)]=[];constructor(){const _0x24689d=_0x3317da;this['browser']=_0x5b8c26()[_0x24689d(0x1f4)]['browser'],this[_0x24689d(0x15a)]=_0x5b8c26()['browserDetails'][_0x24689d(0x620)];}static[_0x3317da(0x53d)](){const _0x46524c=_0x3317da;return _0x124583[_0x46524c(0x241)]||(_0x124583[_0x46524c(0x241)]=new _0x124583()),_0x124583['instance'];}[_0x3317da(0x2b8)](){const _0x217746=_0x3317da;this[_0x217746(0x6a7)](),this[_0x217746(0x5f8)](),this[_0x217746(0x199)](),this[_0x217746(0x6c4)](),this[_0x217746(0x41a)](),this[_0x217746(0x253)](),this[_0x217746(0x59b)](),this['checkBackgrounds'](),this[_0x217746(0x1cd)](),_0x546907['log'](_0xea19ad['Support'],_0x217746(0x674),{'browser':this[_0x217746(0x2a2)],'browserVersion':this[_0x217746(0x15a)],'featureSupport':this['featureSupport']});}[_0x3317da(0x682)](_0x545932){const _0x3420af=_0x3317da,_0x429fc2=this[_0x3420af(0x612)][_0x3420af(0x657)](_0x29a227=>_0x29a227[_0x3420af(0x543)]===_0x545932);return!!_0x429fc2&&_0x429fc2[_0x3420af(0x20e)];}[_0x3317da(0x1df)](_0x436c61){const _0x312c41=_0x3317da;_0x546907['logEvent'](_0x312c41(0x656),{'userId':_0x436c61,'data':{'browser':this[_0x312c41(0x2a2)],'browserVersion':this[_0x312c41(0x15a)],'featureSupport':this[_0x312c41(0x612)]}});}[_0x3317da(0x6a7)](){const _0x839bed=_0x3317da,_0x4167af=_0x1ac1b0[_0x839bed(0x1f2)];let _0x103ce8=!0x1;_0x839bed(0x2c7)==typeof RTCPeerConnection&&_0x839bed(0x2c7)==typeof RTCIceCandidate&&_0x839bed(0x2c7)==typeof RTCSessionDescription?_0x103ce8=!0x0:_0x546907[_0x839bed(0x614)](_0xea19ad[_0x839bed(0x3b0)],_0x839bed(0x47c)+_0x4167af+_0x839bed(0x341)),window[_0x839bed(0x423)]['userAgent']&&/(Version\/\d+.*\/\d+.0.0.0 Mobile|; ?wv)/i['test'](window['navigator'][_0x839bed(0x28d)])&&(_0x103ce8=!0x1,_0x546907[_0x839bed(0x614)](_0xea19ad['Support'],_0x839bed(0x47c)+_0x4167af+_0x839bed(0x341))),'chrome'===this[_0x839bed(0x2a2)]&&this[_0x839bed(0x15a)]&&this['browserVersion']<0x68&&(_0x103ce8=!0x1,_0x546907[_0x839bed(0x614)](_0xea19ad['Support'],_0x839bed(0x47c)+_0x4167af+_0x839bed(0x175))),_0x839bed(0x38e)===this[_0x839bed(0x2a2)]&&this[_0x839bed(0x15a)]&&this[_0x839bed(0x15a)]<0x68&&(_0x103ce8=!0x1,_0x546907['log'](_0xea19ad[_0x839bed(0x3b0)],_0x839bed(0x47c)+_0x4167af+_0x839bed(0x1a5)));try{'safari'===this[_0x839bed(0x2a2)]&&(this[_0x839bed(0x15a)]&&this[_0x839bed(0x15a)]<0xf||!window[_0x839bed(0x423)][_0x839bed(0x28d)]||window['navigator']&&window[_0x839bed(0x423)]['userAgent']&&_0x839bed(0x368)==typeof window[_0x839bed(0x423)][_0x839bed(0x28d)]&&parseInt(window[_0x839bed(0x423)]['userAgent'][_0x839bed(0x5e9)](/Version\/([^\.]+)/i)?.[0x1]||'0',0xa)<0xf)&&(_0x103ce8=!0x1,_0x546907['log'](_0xea19ad[_0x839bed(0x3b0)],'Support:\x20'+_0x4167af+'\x20not\x20supported\x20-\x20old\x20Safari'));}catch(_0x1feade){_0x546907['log'](_0xea19ad['Support'],'Support:\x20unrecognized\x20Safari\x20user\x20agent',window[_0x839bed(0x423)][_0x839bed(0x28d)]);}_0x839bed(0x2a7)===this['browser']&&this[_0x839bed(0x15a)]&&this[_0x839bed(0x15a)]<0x68&&(_0x103ce8=!0x1,_0x546907[_0x839bed(0x614)](_0xea19ad['Support'],_0x839bed(0x47c)+_0x4167af+_0x839bed(0x3e4))),_0x839bed(0x48a)===this[_0x839bed(0x2a2)]&&this['browserVersion']&&this[_0x839bed(0x15a)]<0x5a&&(_0x103ce8=!0x1,_0x546907[_0x839bed(0x614)](_0xea19ad[_0x839bed(0x3b0)],'Support:\x20'+_0x4167af+'\x20not\x20supported\x20-\x20old\x20Opera')),this[_0x839bed(0x612)]['push']({'name':_0x4167af,'supported':_0x103ce8});}[_0x3317da(0x5f8)](){const _0x514198=_0x3317da,_0x5a8ed1=_0x1ac1b0[_0x514198(0x1dc)];let _0x19f60d=!0x1;_0x514198(0x2c7)==typeof MediaStream&&_0x514198(0x2c7)==typeof MediaStreamTrack&&_0x514198(0x264)==typeof navigator&&_0x514198(0x264)==typeof navigator[_0x514198(0x298)]&&'function'==typeof navigator['mediaDevices']['getUserMedia']?_0x19f60d=!0x0:_0x546907[_0x514198(0x614)](_0xea19ad['Support'],'Support:\x20'+_0x5a8ed1+_0x514198(0x341)),this['featureSupport'][_0x514198(0x4ee)]({'name':_0x5a8ed1,'supported':_0x19f60d});}[_0x3317da(0x199)](){const _0x542a01=_0x3317da,_0x36f73d=_0x1ac1b0[_0x542a01(0x258)];let _0x281951=!0x1;_0x542a01(0x264)==typeof navigator&&_0x542a01(0x264)==typeof navigator[_0x542a01(0x298)]&&_0x542a01(0x2c7)==typeof navigator[_0x542a01(0x298)][_0x542a01(0x289)]?_0x281951=!0x0:_0x546907['log'](_0xea19ad[_0x542a01(0x3b0)],_0x542a01(0x47c)+_0x36f73d+'\x20not\x20supported'),this[_0x542a01(0x612)]['push']({'name':_0x36f73d,'supported':_0x281951});}[_0x3317da(0x6c4)](){const _0xb34f5a=_0x3317da,_0x189f28=_0x1ac1b0[_0xb34f5a(0x204)];let _0x27c226=!0x1;'function'!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0xb34f5a(0x2c7)!=typeof AudioWorkletNode||_0xb34f5a(0x2c7)!=typeof MediaStreamAudioSourceNode?_0x546907[_0xb34f5a(0x614)](_0xea19ad[_0xb34f5a(0x3b0)],_0xb34f5a(0x47c)+_0x189f28+_0xb34f5a(0x341)):_0x27c226=!0x0,this[_0xb34f5a(0x612)][_0xb34f5a(0x4ee)]({'name':_0x189f28,'supported':_0x27c226});}['checkDeviceConfig'](){const _0x5b06f3=_0x3317da,_0x3aff10=_0x1ac1b0[_0x5b06f3(0x3c8)];let _0x22d198=!0x1;_0x5b06f3(0x264)==typeof navigator&&'object'==typeof navigator['mediaDevices']&&_0x5b06f3(0x2c7)==typeof navigator[_0x5b06f3(0x298)][_0x5b06f3(0x276)]&&_0x5b06f3(0x2c7)==typeof MediaDeviceInfo?_0x22d198=!0x0:_0x546907['log'](_0xea19ad['Support'],_0x5b06f3(0x47c)+_0x3aff10+_0x5b06f3(0x341)),this[_0x5b06f3(0x612)][_0x5b06f3(0x4ee)]({'name':_0x3aff10,'supported':_0x22d198});}[_0x3317da(0x253)](){const _0x224def=_0x3317da,_0x1ee730=_0x1ac1b0[_0x224def(0x201)];let _0x36b142=!0x1;_0x224def(0x2c7)==typeof document[_0x224def(0x189)](_0x224def(0x2ca))[_0x224def(0x654)]?_0x36b142=!0x0:_0x546907[_0x224def(0x614)](_0xea19ad['Support'],'Support:\x20'+_0x1ee730+'\x20not\x20supported'),this[_0x224def(0x612)][_0x224def(0x4ee)]({'name':_0x1ee730,'supported':_0x36b142});}async[_0x3317da(0x59b)](){const _0x28588f=_0x3317da,_0x353dc7=_0x1ac1b0[_0x28588f(0x634)];let _0x3c8018=!0x1;try{const _0x46ea93=document[_0x28588f(0x189)](_0x28588f(0x2ae));if(window[_0x28588f(0x326)]&&window[_0x28588f(0x4cd)]&&_0x46ea93[_0x28588f(0x30f)]){const _0x552706=_0x46ea93[_0x28588f(0x30f)](),_0x472d08=new MediaRecorder(_0x552706);_0x472d08[_0x28588f(0x296)](),await new Promise(_0x55e7bc=>setTimeout(_0x55e7bc,0x7d0)),_0x472d08[_0x28588f(0x297)](),_0x3c8018='inactive'===_0x472d08['state'];}}catch(_0x1d6cd5){_0x546907[_0x28588f(0x614)](_0xea19ad[_0x28588f(0x3b0)],_0x28588f(0x47c)+_0x353dc7+'\x20check\x20failed',_0x1d6cd5);}this[_0x28588f(0x612)][_0x28588f(0x4ee)]({'name':_0x353dc7,'supported':_0x3c8018}),_0x3c8018||_0x546907[_0x28588f(0x614)](_0xea19ad[_0x28588f(0x3b0)],_0x28588f(0x47c)+_0x353dc7+_0x28588f(0x341));}[_0x3317da(0x1c7)](){const _0x42dae9=_0x3317da,_0x279d97=_0x1ac1b0[_0x42dae9(0x1de)];let _0x58daa3=!0x1;try{document['createElement']('canvas')[_0x42dae9(0x30f)]&&(_0x58daa3=!0x0);}catch(_0x3013d5){_0x546907[_0x42dae9(0x614)](_0xea19ad[_0x42dae9(0x3b0)],_0x42dae9(0x47c)+_0x279d97+_0x42dae9(0x501),_0x3013d5);}this[_0x42dae9(0x612)][_0x42dae9(0x4ee)]({'name':_0x279d97,'supported':_0x58daa3}),_0x58daa3||_0x546907['log'](_0xea19ad[_0x42dae9(0x3b0)],_0x42dae9(0x47c)+_0x279d97+_0x42dae9(0x341));}['checkWebGL'](){const _0x2bbd8f=_0x3317da,_0x23ea6e=_0x1ac1b0[_0x2bbd8f(0x214)];let _0x562e0c=!0x1;try{const _0x1ac777=document['createElement']('canvas');window[_0x2bbd8f(0x230)]&&_0x1ac777[_0x2bbd8f(0x56a)]('webgl')&&(_0x562e0c=!0x0);}catch(_0x38cb3e){_0x546907['log'](_0xea19ad[_0x2bbd8f(0x3b0)],_0x2bbd8f(0x47c)+_0x23ea6e+_0x2bbd8f(0x501),_0x38cb3e);}this[_0x2bbd8f(0x612)]['push']({'name':_0x23ea6e,'supported':_0x562e0c}),_0x562e0c||_0x546907['log'](_0xea19ad[_0x2bbd8f(0x3b0)],_0x2bbd8f(0x47c)+_0x23ea6e+_0x2bbd8f(0x341));}}const _0x306285=_0x124583['getInstance']();class _0xaf05ac{static ['instance'];[_0x3317da(0x292)];[_0x3317da(0x589)];[_0x3317da(0x3e3)];[_0x3317da(0x3a8)];[_0x3317da(0x2a9)];constructor(_0x1b81cb,_0x158fe1,_0xfd3fc8){const _0x5ee995=_0x3317da;this[_0x5ee995(0x589)]=_0x1b81cb,this['configs']=_0x158fe1,this[_0x5ee995(0x292)]=new _0x5b6959(this[_0x5ee995(0x589)]),this['options']={'audioContext':_0xfd3fc8?.['audioContext']??new AudioContext(),'maxOutgoingSubscriptions':_0xfd3fc8?.[_0x5ee995(0x547)]??0x1,'minConnections':_0xfd3fc8?.[_0x5ee995(0x2bb)]??0x3,'maxConnections':_0xfd3fc8?.[_0x5ee995(0x172)]??(_0xfd3fc8?.[_0x5ee995(0x2bb)]&&0x4*_0xfd3fc8[_0x5ee995(0x2bb)])??0xc,'maxDistance':_0xfd3fc8?.['maxDistance']??0xa,'maxFps':_0xfd3fc8?.[_0x5ee995(0x4a2)]??0x18,'maxBpp':_0xfd3fc8?.['maxBpp']??0.12},_0xfd3fc8?.[_0x5ee995(0x2c1)]&&_0x4d713a[_0x5ee995(0x641)](this[_0x5ee995(0x3e3)]['audioContext']),_0x546907[_0x5ee995(0x34c)](this[_0x5ee995(0x589)]),_0xfd3fc8?.[_0x5ee995(0x39a)]&&_0x546907[_0x5ee995(0x227)](_0xfd3fc8[_0x5ee995(0x39a)]),_0x306285[_0x5ee995(0x2b8)]();}static async[_0x3317da(0x53d)](_0xebc5db,_0x5afd1f,_0x59da8d){const _0x12602f=_0x3317da,_0x4453e9=await this[_0x12602f(0x441)](_0xebc5db,_0x5afd1f);return _0xaf05ac[_0x12602f(0x241)]||(_0xaf05ac['instance']=new _0xaf05ac(_0xebc5db,_0x4453e9,_0x59da8d)),{'authenticateUser':_0xaf05ac['instance'][_0x12602f(0x6ce)][_0x12602f(0x46f)](_0xaf05ac[_0x12602f(0x241)]),'joinCluster':_0xaf05ac[_0x12602f(0x241)]['joinCluster'][_0x12602f(0x46f)](_0xaf05ac[_0x12602f(0x241)])};}static async['timestamp'](){const _0x3742c9=_0x3317da;return _0x1159b8[_0x3742c9(0x2dd)]();}static async[_0x3317da(0x441)](_0x1eb9c4,_0x3eb6e0){const _0x22fce0=_0x3317da,_0x34fdf8=(await(0x0,_0x227d42[_0x22fce0(0x629)])(_0x1159b8[_0x22fce0(0x176)](),_0x22fce0(0x427))({'vendorId':_0x1eb9c4,'accessToken':_0x3eb6e0}))[_0x22fce0(0x1ed)];return _0x34fdf8[_0x22fce0(0x3f8)]||(_0x34fdf8['features']=[]),_0x34fdf8;}async[_0x3317da(0x6ce)](_0x2670b1){const _0xb6d68f=_0x3317da;await this[_0xb6d68f(0x292)][_0xb6d68f(0x703)](_0x2670b1);const _0x2d35a3=new _0xcd8e96(_0x2670b1['id'],_0x2670b1['displayName'],_0x2670b1[_0xb6d68f(0x159)]);return this[_0xb6d68f(0x2a9)]={'user':_0x2d35a3},_0x306285[_0xb6d68f(0x1df)](_0x2d35a3[_0xb6d68f(0x4b5)]()),{'getId':_0x2d35a3['getId'][_0xb6d68f(0x46f)](_0x2d35a3),'getDisplayName':_0x2d35a3['getDisplayName']['bind'](_0x2d35a3),'getEmail':_0x2d35a3[_0xb6d68f(0x3c0)][_0xb6d68f(0x46f)](_0x2d35a3),'setDisplayName':_0x2d35a3['setDisplayName'][_0xb6d68f(0x46f)](_0x2d35a3),'setEmail':_0x2d35a3[_0xb6d68f(0x352)][_0xb6d68f(0x46f)](_0x2d35a3)};}async[_0x3317da(0x47d)](_0x1039fa){const _0x236e57=_0x3317da;if(!this[_0x236e57(0x2a9)])throw new _0xb069c2(_0x1193d2['UserNotAuthenticated'],'User\x20not\x20authenticated');const _0x4a0ec3=new _0x714113(this[_0x236e57(0x589)],_0x1039fa,this['authContext'][_0x236e57(0x198)],this[_0x236e57(0x292)],this[_0x236e57(0x3e3)],this[_0x236e57(0x3a8)]);return await _0x4a0ec3[_0x236e57(0x2d6)](),_0x546907[_0x236e57(0x1b2)](_0x236e57(0x5d4),{'clusterId':_0x1039fa,'userId':this[_0x236e57(0x2a9)][_0x236e57(0x198)][_0x236e57(0x4b5)]()}),{'leave':_0x4a0ec3[_0x236e57(0x2d2)][_0x236e57(0x46f)](_0x4a0ec3),'getUser':_0x4a0ec3['getUser'][_0x236e57(0x46f)](_0x4a0ec3),'openPubSubTopic':_0x4a0ec3[_0x236e57(0x509)][_0x236e57(0x46f)](_0x4a0ec3),'openObjectStoreBucket':_0x4a0ec3['openObjectStoreBucket'][_0x236e57(0x46f)](_0x4a0ec3),'openKeyValueDatabase':_0x4a0ec3[_0x236e57(0x291)][_0x236e57(0x46f)](_0x4a0ec3),'publishLocalMediaStream':_0x4a0ec3[_0x236e57(0x36b)][_0x236e57(0x46f)](_0x4a0ec3),'publishLocalDynamicMediaStream':_0x4a0ec3['publishLocalDynamicMediaStream'][_0x236e57(0x46f)](_0x4a0ec3),'getPubSubTopics':_0x4a0ec3[_0x236e57(0x52c)][_0x236e57(0x46f)](_0x4a0ec3),'getObjectStoreBuckets':_0x4a0ec3['getObjectStoreBuckets'][_0x236e57(0x46f)](_0x4a0ec3),'getKeyValueDatabases':_0x4a0ec3[_0x236e57(0x48e)][_0x236e57(0x46f)](_0x4a0ec3),'getLocalMediaStreams':_0x4a0ec3[_0x236e57(0x6b4)]['bind'](_0x4a0ec3),'getRemoteMediaStreams':_0x4a0ec3[_0x236e57(0x713)][_0x236e57(0x46f)](_0x4a0ec3),'getRemoteUsers':_0x4a0ec3[_0x236e57(0x6df)][_0x236e57(0x46f)](_0x4a0ec3),'on':_0x4a0ec3['on']['bind'](_0x4a0ec3),'off':_0x4a0ec3[_0x236e57(0x50d)][_0x236e57(0x46f)](_0x4a0ec3)};}}})()),_0x50e6b5;})())));