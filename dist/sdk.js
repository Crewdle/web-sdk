function a0_0x17c7(_0x2850fc,_0x2099d9){const _0x4e7589=a0_0x4e75();return a0_0x17c7=function(_0x17c7cc,_0xf2fd5a){_0x17c7cc=_0x17c7cc-0xd0;let _0x31dc60=_0x4e7589[_0x17c7cc];return _0x31dc60;},a0_0x17c7(_0x2850fc,_0x2099d9);}function a0_0x4e75(){const _0x368851=['external-storage-connection-already-subscribed','handleOnMessage','Connection','listenerUnsubscriber','clearOncloseTimeout','DTVolatility','openGenerativeAIContext','Received\x20track','addBidResponse','getSupportedContentTypes','framerate','Model\x20store\x20not\x20initialized','logRaw','bufferedChunks','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','JobDispatcherJobExists','addVideoTrack','Internal\x20SDK\x20Error:\x20','timeReceiving','jobDispatchers','Opened\x20graph\x20database','Workflow','every','Waiting','getBuffer','result','sendChunked','clearWaitAnswer','SubscriptionRequestDoesNotExist','getCurrentVersion','authContext','processPendingHandshakeCandidates','lastRemediations','AudioVideoDelay','processContentSynchronized','SHA-256','/resources/generative-ai-grammar/items','GraphDatabaseStats','receiverPreviousBytes','totalEncodeTime','writeTransaction\x20-\x20transaction\x20already\x20exists','destinationIds','createConnection','Query\x20is\x20required','isJobRequest','getAncestors','key-value-database-transaction-value-not-set','getExternalStorageConnections','connectionStateListener','Downgrade','graph-database-does-not-exist','feature-not-enabled','processTransactionPayload','Invalid\x20params','sync','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','attributes','retryQueues','getTransactionFromTableWriteEvent','getSubscribedTracks','debugEnabled','WebScraperRaw','removeLocalMediaStream','default','senderStreams','objectStorageBuckets','systemMessagesReceived','removeGraphDatabase','getPacketsLostPerc','notifyObjectStoreOfNodeLeave','pub-sub-topic-does-not-exist','Search\x20in\x20data\x20collection\x20','.rkt','listenUnsubscriber','.go','checkAudioContext','forEach','responseTimeout','\x20finalized.','getDatabase','Data\x20Received','removeListener','Search','getJobObservable','getLocalMediaStreams','output','/resources/external-storage/items/','currentBytes','setSinkId','heartbeatUnsubscriber','versions','Logging\x20database\x20not\x20initialized','@context.','job-dispatcher-already-exists','getRank','getLabel','gatheringState','contentRequestSent','rank','Synced',':\x20Object\x20store\x20is\x20not\x20in\x20sync','Success','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','subject','displayName','generativeAIWorkerConnectors','MissingRemoteConnection','arrayBufferToObject','collection','\x20for\x20','unregisterPublisher','maxBpp','ModelText','vector-database-missing-connector','root\x20hash:\x20','createJob','deleteJob','handlePeerConnectionSystemEvents','Job\x20Dispatcher\x20already\x20exists','roundTripTime','Context','GenerativeAIWorkerStats','Emitting\x20event\x20on\x20local\x20cluster','sender','previousFrames','JobWorker:\x20Error\x20processing\x20job','kind','supported','noun','incomingManager','node-already-exist','DataStream\x20onMessage','totalNodes','keyPath','\x0aAdditional\x20data:\x20','ObjectStoreNotInSync','_isReady','Cannot\x20find\x20External\x20Storage\x20connection:\x20','processInboundReports','receiverConnection','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','getLayout','external-storage-invalid-path','processReceivedTransactions','searchInDataCollection','mergeParts','loadExternalContent','/resources/generative-ai-skill/items','VectorDatabaseCreationFailed','value','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','timestamp','WorkflowInvalidBlockType','Error\x20fetching\x20URL','`\x0a\x0a','web-scraper','problem','addContent','isResultResponse','message','maxDistance','isMediaDestination','PubSub\x20already\x20exists','listener','vector-database-name-not-string','ScreenSharing','Job\x20worker\x20creation\x20failed.','RemoteMediaStreamTrackFail','setupResizeHandler','logMMRRebuild','has','featureSupport','remainingTracks','comparePeaks','getConnectionDestinations','queries','closeTrace','checkWebGL','contentMediator','toLocaleString','logInitialMMR','setupListeners','Get','getEmail','handleNodeLeave','getPartsFromSubscription','Invalid\x20key\x20\x27','JobDispatcherInvalidPayload','Connection\x20not\x20connected.','startAt','graphService','clientStream','AI\x20Worker\x20already\x20exists','Invalid\x20where\x20clause','desc','url','parseWorkflowBlocks','evaluateProccessedJob','VectorDatabaseDoesNotExist','420235181083','removeSubscriptionsForNode','replace','cluster-leave','graphDatabases','getOrResetPendingFileTimeout','setEncodingParameters','1:519415702791:web:5dd39042f881cfde3251a2','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','PublishMediaStream','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','.clj','Search\x20connector\x20not\x20set','Cannot\x20publish\x20file:\x20','Object\x20store\x20not\x20synced.','filter','bufferEvent','Vector','GenerativeAIContextCreationFailed','resetConnection','Database\x20Opened','key-value-database-invalid-value','Cannot\x20get\x20file:\x20','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','Received\x20','ChunkSplitter','Remote\x20connection\x20already\x20exists.','setItem','3319472TYUwYd','GenerativeAIWorkerAlreadyExists','maxFps','isNodeReady','drawImage','addPendingHandshakeCandidate','instance','indexes','time','issue','.pug','onGatheringStateChange','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','removeObjectStore','registerCluster','unshift','ObjectStoreDoesNotExist','bytesSent','createNewBatch','removeIncomingSubscription','lastExecuted','updatePropagationProperties','checkBackgrounds','File','gpu','handleContentCloseMediaStream','leave','fps','interval','packetsLost','JobWorkerDoesNotExist','application/octet-stream','KeyValueDatabase','Invalid\x20subscription.','statusText','searchEngineId','executeJavascriptCodeSnippet','getTransactions','signalingServer','arrayBuffer','Time','handleAnswer','Invalid\x20object\x20store\x20sync\x20message.','generativeAIContexts','sdk-internal-error:\x20','Failed','handleSubscriptionRestartNeedMediaStream','tableName','ExternalStorageConnectionAlreadySubscribed','messages','getTrack','restartHandshake','publish','connected','tableUnsubscriber','getDisplayName','Delete','successNotified','remoteMediaStreams','handleObjectMove','word-splitter','debounceAppendLog','objectStores','handleObjectDelete','results','JobWorkerCreationFailed','getJobWorkers','openedTraces','getInternalStreamId','Unsupported\x20job\x20type','previousTimestamp','lastClockUpdate','handleNodeJoin','subscriptionManager','ConnectionState','start','updated','AudioOutput','FolderMove','More\x20content\x20available\x20on\x20page\x20','dataTopics','publishFolder','publishLocalDynamicMediaStream','setupConnectionEvents','subscriptionRequestsQueue','ObjectStoreCannotWriteTransaction','/developers/','GraphSearch','Node\x20does\x20not\x20exist.','\x20must\x20be\x20a\x20valid\x20JSON\x20string','\x20to\x20generate\x20a\x20response.','peaks','Setting\x20context\x20for\x20custom\x20skill\x20block','CrewdleReceiverConnection\x20ontrack','\x20-\x20Sending\x20propagation\x20(','detectProblems','stun:','logging-db-','list','string','Opened\x20key\x20value\x20database','setDisplayName','NodeConnectionsUpdate','SenderPeerConnection.send','RelationExtractor','decode','RemoteConnectionExists','currentTimestamp','removeSubscription','Node\x20type\x20is\x20required','transactionIds','ObjectStoreInvalidState','media-stream','listen','then','getRemoteConnections','commitBatch','updateJob','setUpgradeTimeout','minThreshold','minRelevance','contentSize','internalId','setupStatsCollection','maxBitrate','job-dispatcher-invalid-job-type','crewdleSDKDisableLogging','isPartialResultResponse','internalProcessJobStream','Invalid\x20subscriber.','handleNodeDisconnect','addReservedTables','onClose','subscriptionRequestTimeouts','handleMissingSenders','chunk-splitter','available','2fQgEAv','audio','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','checksum','externalStorages','externalStores','ranges','updateUser','GetContextQuery','Local\x20MediaStream\x20already\x20exists','DataStream\x20send','isComputingMMR','lastHeartbeat','sendFileRequestPayload','From\x20','Invalid\x20publisher.','deleteTransactionsForTable','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','maxConnections','WebScraper','\x20attempts:','queueLength','contextOutputVariable','outgoing-stream-no-topic','getOutgoingOptimizationConnections','validateValue','nodesConnected','removePubSubTopic','remote-media-stream-invalid-subscription-params','getMediaSubscription','@root','statsCollection','getFunctions','Medium','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','Job\x20service\x20creation\x20failed.','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','processContentAvailable','getEngineType','processLocalReport','createOffer','registerRemoteNode','/objectstores/','senderBitrate','isInternalLoggingConnector','handleIceCandidates','handleCloseContent','870332LdYIoG','isFeatureSupported','unregisterSystemPublisher','timeoutValue','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','sendStats','Pending','taskType','Bid','publishSystemMessage','Database\x20already\x20exists','collectTransactionsFromNode','mmrRoot','discoveryUnsubscriber','context','.rs','app','internalContext','getSkills','reduce','invalid-subscriber','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','vector-database-creation-failed','decodeJWT','job-worker-invalid-type','write','PubSubTopicAlreadySubscribed','Could\x20not\x20open\x20trace','QueryBuilderInvalidArgument','KeyValueDatabase\x20not\x20found','getInstance','DatabaseEvent','moveObject','number','getTotalBytes','pendingFilesSyncing','debounceRebuildMMRWithTransaction','Data\x20cluster\x20is\x20not\x20open.','set','KeyValueDatabase\x20-\x20Sync\x20completed','frameWidth','tokens','Move','GraphDatabase\x20not\x20found','Processing\x20agent\x20block:\x20','failJob','recomputeRoot','setRemoteConnections','receiver-on-message','NodeDoesNotExist','Info','connectionType','Before\x20Synchronization','Invalid\x20peer\x20connection\x20event\x20destination.','Result','createIncomingSubscription','cluster-disconnect','threshold','dataUnsubscribers','queryOrPrompt','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','Node','GenerativeAIWorker:\x20Opening','retryDelay','mediaStream','sendTransactionsValue','generativeAIWorkers','manageAncestor','ExternalStorageConnectionAlreadyExists','getVectorDatabase','storage','.liquid','resolutionScale','getBufferedAmount','inputTokens','openVectorDatabase','invalid-data-chanel','Invalid\x20data\x20channel.','LocalReport','JobWorker:\x20Tracing\x20not\x20implemented','checkAudioVolume','authenticateAgent','system-stats','features','docs','766386BRXyhV','SyncComplete','.erl','max','Jobs','key-value-database-table-does-not-exist','No\x20destinationIds\x20left','trackEndedListeners','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','GenerativeAIWorkerCreationFailed','.ini','getIsLoaded','right','FetchUrl','KeyValueDatabaseTransactionValueNotSet','Code\x20is\x20required','match','Generative\x20AI\x20context\x20creation\x20failed.','Add','\x20not\x20supported','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','vectorDatabases','getAvailableTrackKinds','chunksReceived','initializeApp','notifyObjectStoreOfNodeJoin','Error\x20encountered\x20while\x20opening\x20database','removeConnection','NodeUpdate','handleDisconnect','getGenerativeAIContexts','mediaDevices','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','pub-sub-topic-already-subscribed','setProviderId','graph-database-creation-failed','@id','peer-connection-invalid-destination','setPendingFileSyncingPayload','asObservable','ObjectStoreAlreadyExists','CustomSkill','JobWorker:\x20Received\x20job\x20attribution','component','disconnectCallback','FPS','addProblem','job-dispatcher-invalid-payload','senderTotalMessages','Receiver\x20connection\x20is\x20not\x20initialized.','now','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','uid','UnpublishMediaStream','topicLabel','search','/resources/generative-ai-agent/items','Jitter','hasOwnProperty','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','params','Rejected','checkScreenSharing','subscribeToExternalContent','canAddCandidates','Method\x20not\x20implemented.','sort','Key-value\x20database\x20peak\x20not\x20found.','handleNodeJoinNeedPublishedStream','logWaitTime','.info/serverTimeOffset','objectStoreConnector','KeyValueDatabaseCreationFailed','senderPreviousBytes','updateLastUpdated','validateAccess','generative-ai-worker-creation-failed','crewdleSDKEnableLogging','Job\x20with\x20id\x20','messagesSent','toLowerCase','token','Image','head','enabledChannels','sendTransactionsValue\x20-\x20value\x20not\x20found','memoryUsage','remote-inbound-rtp','layout','\x0a\x20===\x20Wait\x20Time:\x20','prompts','indexOf','Invalid\x20version\x20\x27','getRemoteNodes','bid','previous','Execute\x20skill\x20','Disconnect','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','Warning','OutgoingSubscription','priority','slice','SenderPeerConnection\x20send','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','addCluster','Detection','getEnabledChannels','subscription','Prompt','setupTrackEndedListeners','registerSystemSource','vector-database-does-not-exist','key-value-database-invalid-query','authService','Error\x20resolving\x20readyPromises:','pendingFilesTransactions','startTracing','observe','NodeType','processList','VectorDatabaseNameNotString','asyncEndpointUrl','JobDispatcherInvalidJobType','getNextTargetRank','json_arr','handleNodeSystemEvents','val','append','isOffer','vector','getConnectionGroup','Attempt\x20','JobStream','completeSync','KeyValueDatabaseRequestPeakTransactions','getModel','Error','ConnectionNoRetryQueue','temperature','unregisterSystemSource','graph-database','instructions','ObjectStoreNotSynced','availableTrackKinds','isArray','\x20attributed\x20to\x20','signOut','syncedFileExists','Error\x20fetching\x20context','mediaTopics','unregisterDestination','chunks','connectionPool','VectorDatabase','JobWorkerInvalidType','lastTransactionId','CloseJobDispatcher','connection-no-retry-queue','NeedMediaStream','getDistance','close','relation','RestartNeedMediaStream','clusterEventEmitter','getRoot','web-scraper-raw','operator','createLocalDynamicMediaStream','destroy','Error\x20during\x20MMR\x20rebuild\x20logging:','RemoteMediaStreamMissingProviderId','removeJobWorker','removeContent','requestSubscription','KeyValueDatabaseInvalidValue','tableLayout','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','toLocaleDateString','recipients','isValidMediaSubscriptionParams','getModels','ref','pop','CrewdleSenderConnection\x20createOffer','getDataLogged','Found\x20','1.0.9','remoteNodes','getMilliseconds','job-dispatcher-observer-not-found','currentBatch','closed','get','handleOffer','remoteConnections','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','runJobQueue','Logging\x20trace','vectorDatabaseConnector','clientWidth','topK','frames','handshakeDebounce','GenerativeAILabelConflict','GraphDatabase','videoWidth','\x0a\x0a`Getting\x20current\x20date\x20and\x20time`\x0a\x0a','Receiving\x20\x27','maxLayer','getMediaStream','Job\x20service\x20job\x20not\x20found.','JobDispatcherAlreadyExists','values','object-storage','MistletCapacityReportNotSet','RequestFileWrite','internalDownloadDocument','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','receiverCurrentBytes','loggingCycle','CloseJobWorker','Ingest','detectVideoIssues','pendingHandshakeCandidates','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','getSize','internal','bitrate','SubscriptionRequestNoAnswer','Support:\x20','mediator','logger','modelStorageBuckets','resolveReady','Received\x20ContentSynchronized\x20from\x20','queryParameters','ner','getGraphDatabases','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','receiverTimeProcessing','engine','index','Model','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','NodeNotAuthenticated','getUserMedia','Sending\x20\x27','compareTransactions','observer','Stream\x20does\x20not\x20exist','crewdle-sdk-stg','mode','agentConfig','codes','bandwidth.jitter','handshakeState','.html','captureStream','setOnDisconnectHandler','crewdle-sdk-stg.appspot.com','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','senderCurrentTimestamp','NodeJoin','logSupport','ratePrompt','removeKeyValueDatabase','registerPublisher','width','sendIceCandidates','RemoteRemove','\x20deleted.','GenerativeAIContextAlreadyExists','onRemoveTrack','nodeUpdate','Job\x20service\x20observer\x20not\x20found.','notifyClusterNodeJoin','external-storage-connection-already-exists','writeTransaction','onTrack','ReceiverOnMessage','listChanges','compileStats','isWhereValues','onDisconnectHandler','sendFile','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','ENOENT','addEdge','where','outputType','\x20failed.\x20Retrying...','durationTime','inputType','support','getStatus','forceLog','signaling','collectStats','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','logConnectionState','overlap','getResolution','DataChannel\x20is\x20not\x20open.','appendTransactionAndUpdateHashMap','notifyCluster','connection','outbound-rtp','createLocalMediaStream','jitter','ObjectStoreNameNotString','ExternalStorage','changesUnsubscriber','appendTransaction','commit','createElement','Writable\x20stream\x20is\x20missing',':\x0a\x0a','logStorage','subscription-request-in-progress','Restart','height','onHandshakeStateChange','sendWithRetry','MediaStream','\x20not\x20found.','msalGetAccessToken','Job\x20Worker\x20does\x20not\x20exist','Initial\x20MMR\x20built\x20with','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','_ready','currentVersion','setupRenderElement','crewdleSDKLoggingChannels','Internal\x20unknown\x20error:\x20','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','getClosestNodes','getCoresFromCapacityReport','KeyValueDatabaseNameNotString','transactions','peer-connection','accumulateResult','NodeTypeNotSupported','appsync-disconnect','/nodes','getConfigs','splice','Received\x20event\x20on\x20cluster','digest','maxDepth','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','statsManager','handleHandshake','LocalMediaStreamTrackFail','Update','job-worker-already-exists','sampleRate','initializeLoggingDatabase','ContentType','PubSub','getEntities','outgoingStreams','setVendorId','minResolutionScale','MissingSystemTopic','key-value-database-name-not-string','createFolder','setLocalRank','Restart\x20NeedMediaStream','sequence','createPubSubTopic','configs','firebaseConfig','requestSubscriptionAction','trackListeners','getDTVolatility','AudioVolume','MediaStream\x20feature\x20not\x20enabled','addDoc','getEstimatedTimestamp','renderElement','getContext','tail','video','pubsub','Joined\x20cluster','trackCallback','addBatchOperation','createGraphDatabase','GenerativeAIContext','key-value-database-table-not-found','WordSplitter','JobWorker:\x20Handling\x20job\x20attribution','Connection\x20already\x20exists','JobWorker:\x20Received\x20job','systemTopicUnsubscribe','handleError','nodeManager','streamLabel','90097RgjSPB','mediaUnsubscribers','getWorkflowExternalStorageConnections','Support','Audio','syncResolve','type','pathName','stringify','openPubSubTopic','bodyParameters','find','tableObserver','cpu.fps','request-file','Sync\x20completed','InitialPrompt','processPendingSyncTransactions','KeyValueDatabaseInvalidQuery','processJob','Failed\x20to\x20send\x20job\x20','removeRemoteStreamSubscription','debounceReadyTimeout','\x20received\x20partial\x20result:','developers/','object-store-not-synced','GenerativeAIContext\x20stream\x20error','answerJoin','blockId','Local\x20node\x20rank\x20is\x20not\x20set','2-digit','openGraphDatabase','ConnectionBufferNotEmpty','timeoutCallback','Missing\x20graph\x20database\x20connector','ObjectStoreStats','isSync','InvalidDataChannel','GenerativeAIWorkerMissingConnector','NeedRestart','commitType','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','createRemoteMediaStream','encode','once','onValue','setCurrentVersion','getLocalMediaStream','All','Missing\x20owner\x20node\x20or\x20rank','Outgoing','scheduleTime','getMinConnections','getReceiverTotalBytes','getDataCollections','offset','handleTransactionPayload','topic','external-storage-upload','Connected','maxOutgoingSubscriptions','take','isFailedResponse','setConnectionType','receivers','KeyValueDatabaseAlreadyExists','estimatedPlayoutTimestamp','IntermediateOutput','image','processTransactionsToComputeMMR','CloseGraphDatabase','sendReject','Rejected\x20answer','headers','internalProcessJob','New\x20MMR\x20Root:\x20','pendingSyncTransactions','detection','messageListeners','WorkflowTrace','Folder','undefined','onremovetrack','validateQuery','getReport','Unknown\x20skill\x20type','content-publish-media','waitSendBuffer','User','Online','Opened\x20object\x20store\x20bucket','abs','resolution','buildTableEvent','writes','Consuming\x20buffered\x20event','Apply\x20remediation','.handlebars','isProduction','substring','getPeaks','SenderSendMessage','timeSending','Early\x20return',',\x20Transactions:\x20','Connection\x20not\x20initialized.','generative-ai-context-creation-failed','inbound-rtp','Cannot\x20unpublish\x20object\x20at\x20','GenerativeAIContextJobAlreadyConsumed','true','version','connections','detectAudioIssues','hashPeakHashes','ExternalStorageUpload','systemTopic','KeyValueDatabaseIndexNotFound','RemoteRemediation','reportCapacity','Parameter\x20','evaluateBidsAndAttributeJob','Handshake','sourceUrl','remediation','retrieveBlocks','Opened\x20generative\x20AI\x20worker','firstValueFrom','generative-ai-worker-model-sync-error','debounceProcessRank','path','relations','handleContentUnpublishMediaStream','currentDistance','getTable','ready','ExternalStorageConnectorsMissing','clearWaitSuccess','KeyValueDatabaseTableNameReserved','processRemoteInboundReport','handleRequestPayload','processServiceReport','publishFile','LoggingService:\x20logging\x20enabled\x20for','hasRemoteNode','isSyncing','removeOutgoingSubscription','isChannelEnabled','Queued','model','.yaml','client','objectRequests','request-file-sync','name','\x27\x20is\x20not\x20ready','No\x20global\x20object\x20found','Early\x20return:\x20','parameters','Stream\x20already\x20exists','SubscriptionRequestFailed','getVideoTracks','handleUpdateMediaStream','nodeKey','KeyValueDatabaseContentAvailable','retry','.kt','createVectorDatabase','remediationManager','NodeAlreadyExist','getHash','onDisconnect','out','trim','processContentAvailable\x20-\x20Peak\x20comparison:','createRemoteNode','bufferedAmount','getCurrentDate','chunk','graphDatabaseConnector','.scala','serverTimestamp','RemoteMediaStreamInvalidSubscriptionParams','connectionConstructor','registerSource','readyPromises','messageUnsubscriber','topics','publishSyncCompleted','all','signInWithCredential','Error\x20executing\x20code','getCurrentMaxLayer','debounceRebuildMMR','padStart','handleFileSync','checkWebRTC','Setting\x20context\x20for\x20agent\x20skill\x20block','listenerUnsubscribers','Reranker','prototype','getTrackFromParam','DEBUG\x20-\x20','DataStream','content','functions','setInternalId','/logs','GraphDatabaseDoesNotExist','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','clearHeartbeat','JobWorkerAlreadyExists','unregisterPublisherListener','urls','statsReport','trackKinds','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','JobDispatcherObserverNotFound','owner','extendedRecipients','initializeSystemTopic','eventEmitter','getJob','SubscribeMediaStream','jobs','removeRemoteMediaStream','Hub','packets','Additional\x20context:\x0a','grammar','No\x20parameters\x20provided','childRemovedUnsubscriber','log','generative-ai-context-job-already-consumed','handleContentRemoteMediaStreamTrackFail','unsubscribeListener','Agent\x20output\x20is\x20not\x20a\x20string','CanProvideMediaStream','random','ExternalStorageInvalidPath','Backgrounds','createGenerativeAIWorker','KeyValueDatabaseTableDoesNotExist','isLoaded','DocumentParser','play','getExternalStorageConnection','subscribedTracks','NodeTypeRequired','GenerativeAIContextInvalidPartialResult','Cannot\x20unpublish\x20object:\x20','AudioContext','evaluateBids','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','getSentences','detail','frameTime','Debug','handleUnsubscribeMediaStream','getShareableStreamId','Error\x20executing\x20agent','pipe','chosenAnswers','remediations','fetchUrl','Cluster','Invalid\x20index\x20in\x20table\x20\x27','loadFromDisk','InternalSDKError','user-update','ownerId','removeVectorDatabase','ceil','OptimizationConnectionSuccess','assign','graphql','VectorDatabase\x20not\x20found','ObjectKind','Mistlet\x20capacity\x20report\x20not\x20set.','insert','createReceiverConnection','LocalMediaStreamDoesNotExist','KeyValueDatabaseInvalidLayout','key-value-database','Method\x20not\x20supported','\x0a\x20===\x20Current\x20MMR\x20Root','sendBid','deployedVersion','getTotalNodes','firebase-disconnect','createKeyValueDatabase','subscribe','eventListener','removeItem','Optimization','calculateSize','documentPath','not-resolved','code','waitAsync','Retrieve','WebGL','complete','generative-ai','onDataChannel','readyResolve','setPriority','createPendingFileWrite','remove','Knowledge','agent-skill','deleteObject','\x27\x20in\x20table\x20\x27','createDataChannel','unsubscribeHandler','ExecuteCustomSkill','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','keyValueDatabases','performCalculation','joinedClusters','.bat','signInWithCustomToken','Key-value\x20database\x20transaction\x20value\x20not\x20set.','AppSync\x20client\x20not\x20ready','commitTrace','waitAnswer','counter','getAgents','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','initialize','joinedAt','getSubscriptionInfo','onConfigurationChange','some','canvas','object-store-invalid-state','Accepted','Rating','endpointMethod','\x20after\x20','clearUpgradeTimeout','framesDecoded','missing-incoming-connection','thread-','agent','LocalMediaStreamNoAudioContext','audioDestination','crewdle-sdk-logging-','getSimilarity','connection-not-initialized','tables','createMediaStreamSource','generative-ai-context-job-timeout','registerSystemPublisher','generative-ai-label-conflict','ccc','buildInitialMMR','Workflow\x20not\x20initialized','CloseObjectStoreBucket','asyncEndpointMethod','northamerica-northeast1','VectorDatabaseAlreadyExists','RemoteAdd','createBatch','hash','Agent','providerId','PromptRating','transformations','CloseKeyValueDatabase','key-value-database-creation-failed','.java','rtt','Invalid\x20workflow\x20block\x20type.','key-value-database-peak-not-found','auth','dataBucketIds','addTrack','ObjectStore\x20not\x20found','calculateArrayBufferSize','/stats','KeyValueDatabaseTableNotFound','trace','GenerativeAIContextStats','handleFileRequestAnswer','appsync-connect','CannotProvideMediaStream','count','retryQueue','Index','computeHash','getContentType','Invalid\x20object\x20store\x20state.','processDataChannelReport','standalone','unpublish','startTime','uuid','\x27\x20in\x20layout','logBatch','syncTransactions','LoadKnowledgeFunction','handleFileWrite','getSubscriptionLabel','transaction','load','Cannot\x20publish\x20move\x20operation:\x20','consumeBufferedEvents','cluster','\x20received\x20responses:','reads','ObjectStorageUpload','Issue\x20detected:\x20','open','local-media-stream-track-fail','Module','getDataBucketIds','destination','endpointUrl','crewdle-sdk.appspot.com','ObjectStorageBucket','Missing\x20remote\x20node\x20or\x20rank','registeredListeners','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','ObjectStoreInvalidPayload','senderConnection','expectedTransactions','race','batchTimeout','FileWrite','srcObject','removeRemoteNode','node-type-required','sendPeakTransactions','left','\x20check\x20failed','discoveryService','RoundTripTime','ObjectStoreAlreadySubscribed','/resources/agent/items/','createTopic','Partial','InvalidSubscriber','GenerativeAIContextJobTimeout','streamId','firebaseUnsubscriber','unsubscribeTrackEndedListener','maxThreshold','orchestrator-close','getPartsForSubscriptionLabel','handleJobAttribution','getPriority','contentManager','All\x20recipients\x20already\x20received','end','addNode','remoteId','senderCurrentBytes','iceServers','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','Job\x20','retryLimit','stopConnection','\x20failed.','AudioContext\x20is\x20not\x20available','snippet','table','transactionsToSync','Error\x20processing\x20retrieve','KeyValueDatabaseSendTransactions','Stats','Subscription','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','Hash\x20computation\x20failed,\x20retrying...','Unexpected\x20output\x20type','key-value-database-table-name-reserved','remote-media-stream-already-exists','Channel\x20\x27','user','graph-database-name-not-string','.awk','shift','updateDebounceTimeout','skill','dispatchEvent','getJobs','handleNeedRestart','ClusterAlreadyJoined','confirmSynchronization','startsWith','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','removeEventListener','Llamacpp','getRemoteMediaStream','onMessage','Number','connection-state','ClosePubSubTopic','KeyValueDatabaseStats','debug','jobObservers','setSubscriptionRequestTimeout','\x20does\x20not\x20exists','PeerConnectionInvalidDestination','incrementVersion','getAudioTracks','subscribeToLocalContent','OPFSObjectStoreConnector','openExternalStorageConnection','object','rebuildMMR','tracks','sendAction','messageBuffer','clearRestartTimeout','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','Execute\x20the\x20agent\x20','Error\x20closing\x20trace','3996324AppwXC','MediaStreamUnavailable','findNextNodeId','/capacities','floor','Pool','debounceLogTimeout','blocks','timesCalled','\x20to\x20send\x20dispatcherJob\x20','JobDispatcherCreationFailed','entries','CPUCycle','GraphDatabaseCreationFailed','processJobStream','streams','us-east-1','sentence-splitter','text','audioContext','syncTimeout','removeRemoteConnection','Default','handleUnpublishMediaStream','inactive','getProviderId','local-media-stream-no-audio-context','setTimeout','Core','::ï¿¿','isJobAttribution','handlePublishMediaStream','getChannelData','cachedRoot','0\x20B','node-not-authenticated','getRoundTripTime','handleSubscriptionUnsubscribeMediaStream','getAudioVideoDelay','traceLevel','KeyValueDatabasePeakNotFound','findNewMediaSubscription','prompt',',\x20Total\x20Nodes:','JobDispatcherJobNotFound','setDurationTime','Given\x20search\x20results\x20for\x20','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','debounceReady','getTracks','Invalid\x20value.\x20Property\x20\x27','GenerativeAIWorker:\x20Opened','joinCluster','\x20sending\x20attempt\x20','getWorkflow','dbKey','minConnections','.mustache','ObjectStoreInvalidPath','onNodeDisconnect','getIdToken','lastCapacityReport','startHeartbeat','created','getBid','\x27\x20payload:','ExternalStorageConnectionDoesNotExist','Answer','previousBytes','queues','timePerFrame','VectorDatabaseMissingConnector','handleContentUnsubscribeMediaStream','IngestTrace','functionsRegion','openJobDispatcher','cancel','Operations:','waitConnected','Offer','handleLocalTrackFailure','Key-Value\x20Database\x20-\x20Sync\x20Completed','connect','doc','key-value-database-transaction-table-not-initialized','packetsReceived','enumerateDevices','modelName','Model\x20not\x20found','hasBufferedData','GenerativeAIEngineType','fromEntries','transactionService','request-accepted','connection-not-connected','searchConnector','status','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','.groovy','subscriptions','getObjectStoreBuckets','appsync-no-destination','av_delay','onNodeUpdate','signalingState','getQuery','connection-invalid-data-event','object-store-invalid-sync-message','unregisterSource','.ex','Cannot\x20get\x20size\x20of\x20path:\x20','runAgent','total','getGenerativeAIWorkers','isWhereValue','job-worker-does-not-exist','buildQuery','key-value-database-already-exists','length','Sender\x20connection\x20is\x20not\x20initialized.','getObjectStoreBucket','ModelVector','DataCollection','processReports','connectionGroup','ExternalStorageNameNotString','Logger.getInstance','handleSubscribeMediaStream','pool','dataChannel','detectLocalIssues','VectorDatabaseStats','bufferedEvents','remote-stream-missing-provider-id','operations','exports','waitSuccess','direction','Generative\x20AI\x20context\x20job\x20failed.','checkMediaStream','key-value-database-invalid-layout','PubSubTopicDoesNotExist','getLocalId','peerConnectionConnector','CloseMediaStream','Buffering\x20event','KeyValueDatabaseDoesNotExist','clusters/','rate','StreamReport','from','isIceCandidate','Start\x20Ingestion','NodeInvalidType','FinalOutput','between','asyncHeaders','FramePerSecond','handleRemediationSystemEvents','\x0a\x0a`Executing\x20agent\x20','providerListener','newPath','CloseExternalStorageConnection','senderTimeProcessing','writeBatch','enabled','.twig','processRank','getCapacityReport','/resources/generative-ai-collection/items','processReport','onChildRemoved','loggingDb','UnsubscribeMediaStreamdiaStream','entity-extractor','/transactions/lastTransaction','Transaction','connector','query','UpdateMediaStream','push','syncContent','filesSynced','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','commitLevel','getInternalTrackParams','GenerativeAIContextJobFailed','isBidResponse','closeSubscription','.xml','nextNodeId','callback','\x20received\x20result:','setBytes','sourceId','FileStatus','reportMetric','external-storage-name-not-string','boolean','LoadSkillFunction','7sArpZE','/transactions/','getGraphDatabase','maxTokens','fetchContentFromUrl','onProviderChange','limitToFirst','getWorkflowObjectStorageBuckets','publishNodeLeave','object-store-invalid-payload','openJobWorker','closeTopic','publishTransaction','GraphDatabaseNameNotString','setParams','getMaxDistance','feedback','generative-ai-context-already-exists','https://crewdle-sdk-default-rtdb.firebaseio.com','job-dispatcher-does-not-exist','frameHeight','AITrace','onBufferedAmountLow','addRemoteNode','eventTarget','onloadeddata','workflow','JobWorker:\x20Sending\x20job\x20result','errorDetails','sendRequest','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','external-storage','action','object-storage-upload','reranker','PromptFunctionParamsType','messageType','stopTracing','FolderCreate','object-store-not-in-sync','receiverStreams','Missing\x20answerer\x20id\x20on\x20request\x20answer','handleSystemEvents','Invalid\x20query','getRemoteMediaStreams','bufferedAmountLowThreshold','PubSubTopicStats','readyDebounce','systemMessages','closeConnection','InvalidSubscription','\x27\x20dabatase\x20id.','getVectorDatabases','state','Reranker\x20block\x20is\x20missing\x20required\x20data','processReceiverReport','handleDetectionSystemEvents','mmr','data-collection','groupId','unregisterCluster','setEmail','createSubscription','Invalid\x20node\x20type','Opened\x20logging\x20database','outgoingTopic','discover','disableIntervalHack','amd','getContent','Invalid\x20value.\x20Must\x20be\x20an\x20object.','key','.vb','crewdle-sdk','openKeyValueDatabase','receiverCurrentTimestamp','unregisterSubscriber','documentParserConnector','FileDelete','Valid\x20layout','Problem','debounceStats','MediaStreamPriority','capacityReporter','download','contentRect','error','ingestBlocks','GenerativeAIModelOutputType','No\x20connector\x20found\x20for\x20model','Attribution','cores','JobType','origin','getNumberOutgoingSubscriptions','concat','isNeedRestart','getAncestorIds','clearSubscriptionRequestTimeout','sdkCreateToken','externalStorageConnectors','.Total\x20pages\x20available:\x20','handleNodeUpdate','maps','update','Text','Invalid\x20layout:\x20','Events','incomingTopic','transactionsToAppend','STVolatility','getLastUpdated','label','Store\x20already\x20exists','onCandidate','\x20seconds','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','\x20writes\x20from\x20','Node\x20not\x20authenticated','nlpLibraryConnector','Setting\x20context\x20for\x20agent\x20block','dataStores','issues','emit','clear','FileMove','AppSync\x20connection\x20not\x20ready','connectionManager','checkAudioOutput','CREWDLE_WEB_SDK','findIndex','disconnect','AgentSkill','getJobDispatchers','toString','pow','contentType','getConnections','SubscriptionRequestInProgress','nodes','cleanOldSubscription','TimePerFrame','batchSize','startNoThrottlingHack','.vue','applyRemediation','KeyValueDatabaseContentSynchronized','openGenerativeAIWorker','getGrammars','messageCallback','verb','onSnapshot','LocalMediaStreamAlreadyExists','Recording','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','detectionManager','loggingDatabaseConnector','setLoggingConnectors','handleOutgoingSystemEvents','SHA-1','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','request','createGenerativeAIContext','connection-buffer-not-empty','isReady','asc','ObjectStorage','engineType','generative-ai-worker-missing-connector','Skill','catch','track','subscriptionRequests','connectionTimeout','custom-skill','task','processOutboundReports','updateDebounce','isMediaSource','failed','JobDispatcherDoesNotExist','getSTVolatility','byteLength','publishLocalMediaStream','processBatch','Node\x20type\x20is\x20invalid','JobContext','\x0a\x0a`Executing\x20custom\x20skill\x20','handleOptimizationConnectionSuccess','ExecuteAgent','combinePeaks','Subject','transactionTable','.\x20Confirmation?\x20','stop','sourceVideo','.jinja','setRemoteNode','\x0a\x20===\x20Total\x20Data\x20Received:\x20','setStatus','getFirestore','split','subtle','handleSubscriptionNeedMediaStream','addRemoteConnection','CONNECTION_STATE_CHANGE','resolve','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','toFixed','addEventListener','firebase-connect','\x0a\x20===\x20Total\x20Time:\x20','getTransactionByHash','warning','receiverUnsubscribers','GetContextResult','st_volatility','472925ltCdNJ','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','ObjectStoreInvalidSyncMessage','stats','document-parser','.sh','connectionState','rating','bind','handleContentUpdateMediaStream','Wait','/resources/generative-ai-model/items','SyncKeyValueDatabase\x20-\x20Ancestors\x20','everyone','RequestFile','jobPhase','isRunning','test-page','webgl','Request','upgrade','updateLastTransactionId','Database\x20not\x20open','upgradeTimeout','SentenceSplitter','database','getLocalNode','ConnectionNotinitialized','removeTrackCallback','defineProperty','modelStore','JobWorker:\x20Received\x20job\x20request','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','bytesReceived','parentId','splitParts','.rb','isReconnecting','knowledge','handleSubscriptionSystemEvents','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','\x27\x20reserved','JobQueueService:\x20Error\x20running\x20job','getRemoteNode','Remove','text/plain','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','\x20must\x20be\x20a\x20number','Model\x20not\x20found:\x20','wait','SystemStats','PeerConnection','subscription-request-no-answer','modelsBucketId','workflow-invalid-block-type','element','handleSubscriptionMediaStreamUnavailable','accumulated','isConnected','1760820FtIWTh','logLevel','.cs','job-dispatcher-job-not-found','publishSyncCompletedAfterWrites','localId','join-cluster','page','getConnection','lastProcessRank','entities','add','node-invalid-type','handleFolderCreate','Entity','NodeManager\x20-\x20NodeLeave','FeatureNotEnabled','propagate','keys','hasTracks','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','getKeyValueDatabases','Base\x20Peer\x20Connection','object-store-name-not-string','currentFrames','vector-database-already-exists','Setting\x20context\x20for\x20answer\x20block','Bitrate','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','setTimestamp','openTrace','mute','I\x20am\x20done','handleContentSubscribeMediaStream','pendingFilesRename','missing-datachannel','ended','globalObject','\x20must\x20be\x20a\x20string','answer','agent-config-changed','parseDataCollectionBlocks','UnsubscribeMediaStream','\x0a\x20\x20===\x20Total\x20Nodes:\x20','Error\x20searching','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','statsReporting','vectors','Opened\x20pubsub\x20topic','nodeId','publishNodeJoin','Agent\x20group\x20not\x20found','PartialResult','.swift','removeTrackListeners','publishSyncCompletedAfterWrites\x20-\x20','isInternalSDKConfigs','handleContentSystemEvents','addIssue','setTransformations','models','SearchGoogle','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','supports','KeyValueDatabaseNotOpen','Completed','answererId','isOpened','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','clientHeight','createGain','orchestrator','Resolution','receiverPreviousTimestamp','processOutboundReport','loggingConnectors','registerDestination','canChooseAnswer','getDisplayMedia','getOwnerId','ConnectionGroup','clearRect','GraphDatabaseAlreadyExists','agent-update','Count','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','getId','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','Low','stream','String','createAnswer','.yml','PubSubTopicNameNotString','function','jobBids','logs','Job\x20Dispatcher\x20does\x20not\x20exist','KeyValueDatabaseSyncRequired','includes','WebRTC','KeyValueDatabaseTransactionTableNotInitialized','createConstantSource','send','Failed\x20to\x20get\x20file','isPromiseResolved','JobStatus','reset','downloadDocument','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','DataChannel\x20buffer\x20is\x20full.','join','oncloseTimeout','Media','createMediaStreamDestination','unsubscribe','High','User\x20not\x20signed\x20in','removeNode','checkMediaRecording','maxResolution','Orchestrator\x20handleSystemEvents','endsWith','waitForArrayBufferSize','Agent\x20block\x20is\x20missing\x20required\x20data','checkExistingPendingFileContent','1:420235181083:web:4eff6062bd845cb0748cbe','Generative\x20AI\x20context\x20job\x20already\x20consumed.','utf8','getDocs','clearConnectionTimeout','handleConnectionSuccess','Data','shouldContinuePropagation','System','committed','invalid-access','Error\x20committing\x20batch:','DeviceConfig','GenerativeAIContextJobMissingThreadId','handleStatsSystemEvents','firestore','receiverTotalMessages','KeyValueDatabaseRequestTransactionsValue','sender-send-message','ancestors','audioSource','Opened\x20external\x20storage\x20connection','VectorSearch','email','OutgoingMediaStreamNoTopic','getSenderBitrate','/resources/generative-ai-workflow/items/','ConnectionInvalidDataEvent','getAuth','logDataSent','InvalidPublisher','jobQueue','createOutgoingSubscription','Disconnected','createExternalStorageConnection','relation-extractor','setScheduleTime','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','isSubscribed','removeTrack','remote-connection-exists','getApp','handshakeCandidates','rootComputationPromise','clusters','google','syncTransactionsWritten','links','GetDate','processSenderReport','JobDispatcher:\x20Received\x20job','21a9d78dee97f487b','handleSuccess','Cannot\x20list\x20directory:\x20','.tcl','manageOptimization','evaluatePartialJob','loadLocalContent','externalStorageConnections','Support:\x20current\x20config','RemoteMediaStreamAlreadyExists','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','manageBufferedChunks','not-in','subscribeToJobs','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','\x20MB','PayloadAction','handleSubscriptionProvideMediaStream','connectorConstructor','jobType','clearSyncTimeout','AppSync\x20subscribe','startLoggingCycle','setOnMessageHandler','getConnectionType','accessToken','PubSubTopic\x20onMessage','pubsubTopics','\x20-\x20','saveToDisk','clockSkew','Vector\x20database\x20creation\x20failed.','.ts','Failed\x20to\x20commit\x20batch\x20after\x20retries:','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','jobWorkers','.jl','\x20answer','GraphDatabaseMissingConnector','description','optimizationLayers','oidc','jobId','exists','messagesReceived','setIsLoaded','Content','notifyJoin','searchApiKey','handleSubscriptionSubscribeMediaStream','propn','.info/connected','writeFile','node','outgoingManager','retryCallback','batch','key-value-database-index-not-found','startIndex','retryCount','buffer','local-media-stream-already-exists','RequestAccepted','outputTokens','NodeLeave','checkSyncComplete','isAvailable','getKeyValueDatabase','InvalidAccess','file','Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.','\x27:\x20missing\x20or\x20invalid\x20keyPath','Upgrade','cost','RemoteMediaStreamDoesNotExist','createAIJob','replaceTrack','size','OfficeParser','startBidResponseHandling','isWhereBetween','request-file-write','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','Missing\x20AI\x20worker\x20connector','clusterId','distance','Internal\x20error:\x20','options','get-content','WorkflowDoesNotExist','move','loop','maxFramerate','success','resizeHandler','createObjectStoreBucket','Remediation','transactionHashMap','senderPreviousTimestamp','ConnectionNotConnected','logServiceEvent','getName','checkDeviceConfig','Sender','Offline','removeExternalStorageConnection','shouldProcessTransaction','getBitrate','detectStreamIssues','orderBy','logDataReceived','.crewdle-pending','event','relevance','trackChanges','openObjectStoreBucket','\x20were\x20ready\x20in','setRank','Signaling','addConnection','\x20created\x20and\x20dispatched.','toStringTag','fileSendingMap','json','skipEncryption','answers','AI\x20Service\x20already\x20exists','answerContentAvailable','JobWorker:\x20Sending\x20job\x20bid','httpsCallable','validateLayout','handleProblem','.cpp','source','getPeakNode','map','.tpl','disconnected','\x20already\x20exists.','clusterKey','Object\x20store\x20is\x20not\x20in\x20sync','hasTable','.cfg','rejectReady','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','.json','limit','ExternalStorageStats','Workflow\x20does\x20not\x20exist.','syncFolder','fileChunks','authNode','secheduleTime','parse','getDoc','senders','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','getRemoteId','StorageEventType','RequestFileSync','Code','payload','Given\x20','threadId','key-value-database-does-not-exist','CloseVectorDatabase','localNode','objectToArrayBuffer','Incoming','No\x20async\x20endpoint\x20URL','next','ObjectStore','EntityExtractor','processInboundReport','internalRatePrompt','syncKeyValueDatabase','hashTransaction','.txt','deleteFileChunks','lastUpdated','handleRemoteTrackFailure','hasMessage','object-store-already-subscribed','Job','data','pub-sub-topic-name-not-string','Problem\x20detected:\x20','cpu.time_per_frame','setInterval','Subscription\x20request\x20has\x20not\x20been\x20answered.','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','Remote\x20MediaStream\x20already\x20exists','transactionQueue','keyValueDatabaseConnector','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','vendorId','ExternalStorageConnection\x20not\x20found','job-worker-creation-failed','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','getSettings','system','receiverBitrate','setReceiverBytes','publishUserUpdate','registerSubscriber','localMediaStreams','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','getResolutionScale','logEvent','getMaxConnections','peakHeights','remoteUnsubscriber','instantiateTransactionTable','history','Node\x20is\x20not\x20an\x20agent','completed','call','addMessage','Processing','generative-ai-worker-already-exists','setSenderTimestamp','Error\x20opening\x20trace','.exs','batchQueue','notifyClusterNodeUpdate','region','modelId','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','Database\x20does\x20not\x20exist','loadEnabledChannels','orderByKey','bandwidth.bitrate','getReceiverBitrate','channel','return\x20this','publishMove','Opened\x20model\x20store\x20bucket','resume','setReceiverTimestamp','off','internal-sdk-error','ExecuteCode','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','pubSubTopics','user-join','Key-value\x20database\x20table\x20does\x20not\x20exist.','restartTimeout','Receiver','delete','warn','.crewdle-last-transaction','setupStatsReporting','getShareableStream','contextInputVariable','handleChunkMessage','getPubSubTopics','An\x20error\x20occurred','generateClient','handleFileRequest','Invalid\x20credentials','chooseAnswer','canProvideResolution','bandwidth.rtt'];a0_0x4e75=function(){return _0x368851;};return a0_0x4e75();}(function(_0x56131e,_0x5e8772){const _0x2791f9=a0_0x17c7,_0x3eac19=_0x56131e();while(!![]){try{const _0x1693f7=parseInt(_0x2791f9(0x333))/0x1+parseInt(_0x2791f9(0x11e))/0x2*(parseInt(_0x2791f9(0x1a3))/0x3)+parseInt(_0x2791f9(0x14d))/0x4+parseInt(_0x2791f9(0x6da))/0x5+-parseInt(_0x2791f9(0x715))/0x6*(parseInt(_0x2791f9(0x601))/0x7)+parseInt(_0x2791f9(0x9b1))/0x8+-parseInt(_0x2791f9(0x539))/0x9;if(_0x1693f7===_0x5e8772)break;else _0x3eac19['push'](_0x3eac19['shift']());}catch(_0x50f581){_0x3eac19['push'](_0x3eac19['shift']());}}}(a0_0x4e75,0x51d33),!function(_0x252ad6,_0x105465){const _0x4cf6b5=a0_0x17c7;if(_0x4cf6b5(0x530)==typeof exports&&_0x4cf6b5(0x530)==typeof module)module[_0x4cf6b5(0x5c0)]=_0x105465();else{if(_0x4cf6b5(0x773)==typeof define&&define[_0x4cf6b5(0x645)])define([],_0x105465);else{var _0xd4d62=_0x105465();for(var _0xc75132 in _0xd4d62)(_0x4cf6b5(0x530)==typeof exports?exports:_0x252ad6)[_0xc75132]=_0xd4d62[_0xc75132];}}}(this,()=>((()=>{'use strict';const _0x1833fc=a0_0x17c7;var _0x5eb19f={0x14d:(_0x4dbe8b,_0xdd3927,_0x233ca6)=>{const _0x420e6f=a0_0x17c7;_0x233ca6['d'](_0xdd3927,{'O':()=>_0x2e6332});const _0x2e6332={'version':'1.0.9.0','isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':_0x420e6f(0x29f),'storageBucket':_0x420e6f(0x2a8),'appId':_0x420e6f(0x99b),'functionsRegion':_0x420e6f(0x49b)},'google':{'searchEngineId':_0x420e6f(0x7c6)},'aws':{'endpoint':_0x420e6f(0x6a1),'region':_0x420e6f(0x549)}};},0x33b:(_0x4f7708,_0x4ede2f,_0x95410d)=>{_0x95410d['d'](_0x4ede2f,{'O':()=>_0x4e071b});const _0x4e071b={};},0x3e6:(_0x43a376,_0x19d299,_0x57b7d6)=>{const _0x154845=a0_0x17c7;_0x57b7d6['d'](_0x19d299,{'O':()=>_0x1ff75a});const _0x1ff75a={'version':_0x154845(0x25e),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x154845(0x284),'authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':_0x154845(0x613),'projectId':_0x154845(0x64a),'storageBucket':_0x154845(0x4d6),'messagingSenderId':_0x154845(0x994),'appId':_0x154845(0x793),'measurementId':'G-F7W8KXRKQB'},'aws':{'endpoint':_0x154845(0x254),'region':_0x154845(0x549)}};},0x20:(_0x20d0f9,_0x465f08,_0x50b791)=>{_0x50b791['d'](_0x465f08,{'O':()=>_0x117abc});const _0x117abc={};}},_0x5f113b={};function _0x47b511(_0x2d3cc7){const _0x16a818=a0_0x17c7;var _0x154175=_0x5f113b[_0x2d3cc7];if(void 0x0!==_0x154175)return _0x154175[_0x16a818(0x5c0)];var _0x578357=_0x5f113b[_0x2d3cc7]={'exports':{}};return _0x5eb19f[_0x2d3cc7](_0x578357,_0x578357[_0x16a818(0x5c0)],_0x47b511),_0x578357[_0x16a818(0x5c0)];}_0x47b511['d']=(_0x452a1f,_0x135524)=>{const _0x33f075=a0_0x17c7;for(var _0x104e4f in _0x135524)_0x47b511['o'](_0x135524,_0x104e4f)&&!_0x47b511['o'](_0x452a1f,_0x104e4f)&&Object[_0x33f075(0x6f7)](_0x452a1f,_0x104e4f,{'enumerable':!0x0,'get':_0x135524[_0x104e4f]});},_0x47b511['g']=(function(){const _0x4f17bc=a0_0x17c7;if('object'==typeof globalThis)return globalThis;try{return this||new Function(_0x4f17bc(0x8b0))();}catch(_0x5d0d7e){if(_0x4f17bc(0x530)==typeof window)return window;}}()),_0x47b511['o']=(_0x348f90,_0x115933)=>Object[_0x1833fc(0x3fb)][_0x1833fc(0x1dd)][_0x1833fc(0x89e)](_0x348f90,_0x115933),_0x47b511['r']=_0x41df20=>{const _0xc11b58=_0x1833fc;_0xc11b58(0x384)!=typeof Symbol&&Symbol['toStringTag']&&Object['defineProperty'](_0x41df20,Symbol[_0xc11b58(0x83f)],{'value':_0xc11b58(0x4d2)}),Object[_0xc11b58(0x6f7)](_0x41df20,'__esModule',{'value':!0x0});};var _0x5bdcd2,_0x2ee7be,_0x381da1,_0x472153={};_0x47b511['r'](_0x472153),_0x47b511['d'](_0x472153,{'KeyValueDatabase':()=>_0x152f10,'LayoutBuilder':()=>_0x4aeea2,'LoggingChannels':()=>_0x381da1,'QueryBuilder':()=>_0x1ccdfa,'SDK':()=>_0x2bf7ee,'SDKClientErrorCodes':()=>_0x5bdcd2,'TableBuilder':()=>_0x4338e9,'logger':()=>_0x380207}),function(_0x236966){const _0x50a3c2=_0x1833fc;_0x236966[_0x50a3c2(0x353)]=_0x50a3c2(0x6a4),_0x236966[_0x50a3c2(0x51a)]='cluster-already-joined',_0x236966[_0x50a3c2(0x192)]=_0x50a3c2(0x2b9),_0x236966[_0x50a3c2(0x9e1)]=_0x50a3c2(0x8cd),_0x236966['ExternalStorageConnectionDoesNotExist']='external-storage-connection-does-not-exist',_0x236966[_0x50a3c2(0x3bb)]='external-storage-connectors-missing',_0x236966['ExternalStorageInvalidPath']=_0x50a3c2(0x95b),_0x236966[_0x50a3c2(0x5b6)]=_0x50a3c2(0x5fe),_0x236966[_0x50a3c2(0x725)]=_0x50a3c2(0x900),_0x236966['GenerativeAIContextAlreadyExists']=_0x50a3c2(0x612),_0x236966['GenerativeAIContextDoesNotExist']='generative-ai-context-does-not-exist',_0x236966[_0x50a3c2(0x7a0)]='generative-ai-context-job-missing-thread-id',_0x236966[_0x50a3c2(0x26f)]=_0x50a3c2(0x495),_0x236966[_0x50a3c2(0x9b2)]=_0x50a3c2(0x8a1),_0x236966[_0x50a3c2(0x359)]=_0x50a3c2(0x6a9),_0x236966['GenerativeAIWorkerModelSyncError']=_0x50a3c2(0x3b3),_0x236966[_0x50a3c2(0x767)]='graph-database-already-exists',_0x236966['GraphDatabaseDoesNotExist']=_0x50a3c2(0x8ff),_0x236966[_0x50a3c2(0x7ec)]='graph-database-missing-connector',_0x236966[_0x50a3c2(0x60e)]=_0x50a3c2(0x512),_0x236966[_0x50a3c2(0x277)]=_0x50a3c2(0x92a),_0x236966[_0x50a3c2(0x6b5)]=_0x50a3c2(0x614),_0x236966['JobDispatcherJobExists']='job-dispatcher-job-exists',_0x236966[_0x50a3c2(0x565)]=_0x50a3c2(0x718),_0x236966[_0x50a3c2(0x21e)]=_0x50a3c2(0x112),_0x236966[_0x50a3c2(0x406)]=_0x50a3c2(0x307),_0x236966['JobWorkerDoesNotExist']=_0x50a3c2(0x5ac),_0x236966[_0x50a3c2(0x1cb)]='object-store-already-exists',_0x236966[_0x50a3c2(0x4e9)]=_0x50a3c2(0x87c),_0x236966[_0x50a3c2(0x9c1)]='object-store-stream-does-not-exist',_0x236966['ObjectStoreNameNotString']=_0x50a3c2(0x72c),_0x236966[_0x50a3c2(0x4db)]=_0x50a3c2(0x60a),_0x236966['ObjectStoreInvalidPath']='object-store-invalid-path',_0x236966[_0x50a3c2(0x954)]=_0x50a3c2(0x628),_0x236966[_0x50a3c2(0x43f)]=_0x50a3c2(0x8b6),_0x236966[_0x50a3c2(0x80a)]=_0x50a3c2(0x79d),_0x236966['KeyValueDatabaseAlreadyExists']=_0x50a3c2(0x5ae),_0x236966['KeyValueDatabaseDoesNotExist']=_0x50a3c2(0x86a),_0x236966[_0x50a3c2(0x3a8)]=_0x50a3c2(0x7ff),_0x236966[_0x50a3c2(0x345)]=_0x50a3c2(0x214),_0x236966[_0x50a3c2(0x252)]=_0x50a3c2(0x9a9),_0x236966['KeyValueDatabaseNameNotString']=_0x50a3c2(0x311),_0x236966[_0x50a3c2(0x755)]='key-value-database-not-open',_0x236966[_0x50a3c2(0x3bd)]=_0x50a3c2(0x50e),_0x236966['KeyValueDatabaseTableNotFound']=_0x50a3c2(0x32a),_0x236966['KeyValueDatabaseInvalidLayout']=_0x50a3c2(0x5c5),_0x236966[_0x50a3c2(0x699)]=_0x50a3c2(0x803),_0x236966['LocalMediaStreamNoAudioContext']=_0x50a3c2(0x553),_0x236966['PubSubTopicAlreadyExists']='pub-sub-topic-already-exists',_0x236966[_0x50a3c2(0x5c6)]=_0x50a3c2(0x913),_0x236966[_0x50a3c2(0x772)]=_0x50a3c2(0x87f),_0x236966['PubSubTopicAlreadySubscribed']=_0x50a3c2(0x1c4),_0x236966['QueryBuilderInvalidArgument']='query-helper-invalid-argument',_0x236966['RemoteMediaStreamAlreadyExists']=_0x50a3c2(0x50f),_0x236966[_0x50a3c2(0x3e9)]=_0x50a3c2(0x13a),_0x236966[_0x50a3c2(0x68b)]=_0x50a3c2(0x2e3),_0x236966['NodeNotAuthenticated']=_0x50a3c2(0x55c),_0x236966[_0x50a3c2(0x5d2)]=_0x50a3c2(0x721),_0x236966[_0x50a3c2(0x2fa)]='node-type-not-supported',_0x236966[_0x50a3c2(0x42b)]=_0x50a3c2(0x4e3),_0x236966[_0x50a3c2(0x49c)]=_0x50a3c2(0x72e),_0x236966[_0x50a3c2(0x993)]=_0x50a3c2(0x213),_0x236966[_0x50a3c2(0x580)]=_0x50a3c2(0x93e),_0x236966[_0x50a3c2(0x21c)]=_0x50a3c2(0x971);}(_0x5bdcd2||(_0x5bdcd2={}));class _0x3b1f45 extends Error{[_0x1833fc(0x45d)];constructor(_0x418d41,_0x3530f6){const _0x2abcb7=_0x1833fc;super(_0x3530f6),this[_0x2abcb7(0x45d)]=_0x418d41;}}!function(_0x2c3ad6){const _0x27cdab=_0x1833fc;_0x2c3ad6[_0x27cdab(0x30b)]='pubsub',_0x2c3ad6[_0x27cdab(0x6a7)]='object-storage',_0x2c3ad6[_0x27cdab(0x9d1)]=_0x27cdab(0x44e),_0x2c3ad6[_0x27cdab(0x23d)]='vector-database',_0x2c3ad6[_0x27cdab(0x270)]=_0x27cdab(0x230),_0x2c3ad6[_0x27cdab(0x2db)]=_0x27cdab(0x620),_0x2c3ad6[_0x27cdab(0x2e8)]=_0x27cdab(0x105),_0x2c3ad6[_0x27cdab(0x329)]=_0x27cdab(0x462);}(_0x2ee7be||(_0x2ee7be={})),function(_0x9c54bc){const _0x404723=_0x1833fc;_0x9c54bc[_0x404723(0x363)]=_0x404723(0x3f0),_0x9c54bc[_0x404723(0x54f)]=_0x404723(0x90c),_0x9c54bc[_0x404723(0x8cf)]=_0x404723(0x2d6),_0x9c54bc['ConnectionState']=_0x404723(0x523),_0x9c54bc['Cluster']=_0x404723(0x4cb),_0x9c54bc['Content']='content',_0x9c54bc[_0x404723(0x3fe)]='data-stream',_0x9c54bc[_0x404723(0x20d)]=_0x404723(0x380),_0x9c54bc[_0x404723(0x66c)]='events',_0x9c54bc[_0x404723(0x22c)]=_0x404723(0x657),_0x9c54bc[_0x404723(0x1a7)]=_0x404723(0x413),_0x9c54bc[_0x404723(0x9d1)]=_0x404723(0x44e),_0x9c54bc[_0x404723(0x18b)]=_0x404723(0x7fb),_0x9c54bc['Pool']=_0x404723(0x5b9),_0x9c54bc[_0x404723(0x30b)]=_0x404723(0x324),_0x9c54bc[_0x404723(0x2bc)]=_0x404723(0x17e),_0x9c54bc['Remediation']='remediation',_0x9c54bc[_0x404723(0x398)]=_0x404723(0x7a5),_0x9c54bc[_0x404723(0x83c)]=_0x404723(0x2cd),_0x9c54bc[_0x404723(0x509)]=_0x404723(0x6dd),_0x9c54bc['Subscription']=_0x404723(0x20f),_0x9c54bc[_0x404723(0x336)]='support',_0x9c54bc[_0x404723(0x79b)]=_0x404723(0x88e),_0x9c54bc[_0x404723(0x70c)]=_0x404723(0x1a0),_0x9c54bc['TestPage']=_0x404723(0x6eb),_0x9c54bc['PeerConnection']=_0x404723(0x2f8);}(_0x381da1||(_0x381da1={}));const _0x4f9f07=require('@crewdle/web-sdk-types');class _0x1ccdfa{['query'];constructor(_0xd75a62){const _0x8198b6=_0x1833fc;this['query']={'orderBy':{'key':_0xd75a62,'direction':_0x8198b6(0x6a6)}};}static[_0x1833fc(0x295)](_0x49bfd7){const _0x1b78c8=_0x1833fc;if(_0x1b78c8(0xf8)!=typeof _0x49bfd7||0x0===_0x49bfd7[_0x1b78c8(0x5af)])throw new _0x3b1f45(_0x5bdcd2[_0x1b78c8(0x16a)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x1ccdfa(_0x49bfd7);}static[_0x1833fc(0x386)](_0x40836b){try{return _0x1ccdfa['buildQuery'](_0x40836b),!0x0;}catch(_0x7a7a4){return!0x1;}}static[_0x1833fc(0x5ad)](_0x5d6ac7){const _0x459687=_0x1833fc,_0x38b36b=_0x1ccdfa['index'](_0x5d6ac7[_0x459687(0x833)]?.[_0x459687(0x648)]??_0x5d6ac7[_0x459687(0x2c5)]?.[_0x459687(0x648)]??'');if(_0x5d6ac7['where']){const _0xe53786=_0x5d6ac7[_0x459687(0x2c5)];if((_0x1ccdfa[_0x459687(0x5ab)](_0xe53786)||_0x1ccdfa[_0x459687(0x2bf)](_0xe53786)||_0x1ccdfa['isWhereBetween'](_0xe53786))&&_0x38b36b[_0x459687(0x2c5)](_0xe53786[_0x459687(0x24a)],_0xe53786[_0x459687(0x962)]),_0x5d6ac7[_0x459687(0x833)]?.[_0x459687(0x648)]&&_0x5d6ac7['orderBy']?.[_0x459687(0x648)]!==_0x5d6ac7[_0x459687(0x2c5)]['key'])throw new _0x3b1f45(_0x5bdcd2[_0x459687(0x16a)],_0x459687(0x6fa));}return _0x5d6ac7[_0x459687(0x833)]&&_0x38b36b[_0x459687(0x833)](_0x5d6ac7[_0x459687(0x833)][_0x459687(0x5c2)]),_0x5d6ac7[_0x459687(0x858)]&&_0x38b36b['limit'](_0x5d6ac7[_0x459687(0x858)]),_0x5d6ac7[_0x459687(0x36a)]&&_0x38b36b[_0x459687(0x36a)](_0x5d6ac7[_0x459687(0x36a)]),_0x38b36b;}[_0x1833fc(0x5a2)](){return{...this['query']};}[_0x1833fc(0x2c5)](_0x13f615,_0x5942d9){const _0x1d2835=_0x1833fc,_0x14a924={'key':this[_0x1d2835(0x5eb)]['orderBy']['key'],'operator':_0x13f615,'value':_0x5942d9};if(!_0x1ccdfa[_0x1d2835(0x5ab)](_0x14a924)&&!_0x1ccdfa[_0x1d2835(0x2bf)](_0x14a924)&&!_0x1ccdfa['isWhereBetween'](_0x14a924))throw new _0x3b1f45(_0x5bdcd2[_0x1d2835(0x16a)],_0x1d2835(0x98e));return this['query']['where']=_0x14a924,this;}[_0x1833fc(0x833)](_0x11d060){const _0x56df5e=_0x1833fc;if(_0x56df5e(0x6a6)!==_0x11d060&&_0x56df5e(0x98f)!==_0x11d060)throw new _0x3b1f45(_0x5bdcd2[_0x56df5e(0x16a)],_0x56df5e(0x46f));return this[_0x56df5e(0x5eb)]['orderBy'][_0x56df5e(0x5c2)]=_0x11d060,this;}[_0x1833fc(0x858)](_0x186210){const _0x44137c=_0x1833fc;if('number'!=typeof _0x186210||_0x186210<0x0)throw new _0x3b1f45(_0x5bdcd2[_0x44137c(0x16a)],_0x44137c(0x142));return this['query'][_0x44137c(0x858)]=_0x186210,this;}[_0x1833fc(0x36a)](_0x321214){const _0x1b4cae=_0x1833fc;if(_0x1b4cae(0x16f)!=typeof _0x321214||_0x321214<0x0)throw new _0x3b1f45(_0x5bdcd2[_0x1b4cae(0x16a)],_0x1b4cae(0x2f3));return this[_0x1b4cae(0x5eb)][_0x1b4cae(0x36a)]=_0x321214,this;}static['isWhereValue'](_0x5a6695){const _0x54d535=_0x1833fc;if(!(_0x5a6695&&_0x54d535(0x530)==typeof _0x5a6695&&'operator'in _0x5a6695&&_0x54d535(0x962)in _0x5a6695))return!0x1;const {operator:_0x239cd3,value:_0x581723}=_0x5a6695;return!(!['==','!=','>','<','<=','>=']['includes'](_0x239cd3)||Array[_0x54d535(0x234)](_0x581723));}static[_0x1833fc(0x2bf)](_0x2c3789){const _0x4ee641=_0x1833fc;if(!(_0x2c3789&&_0x4ee641(0x530)==typeof _0x2c3789&&'operator'in _0x2c3789&&_0x4ee641(0x962)in _0x2c3789))return!0x1;const {operator:_0x36eb91,value:_0x3a99e3}=_0x2c3789;return!(!['in',_0x4ee641(0x7d2)][_0x4ee641(0x778)](_0x36eb91)||!Array[_0x4ee641(0x234)](_0x3a99e3));}static[_0x1833fc(0x816)](_0x4e7559){const _0x37a9ae=_0x1833fc;if(!(_0x4e7559&&_0x37a9ae(0x530)==typeof _0x4e7559&&'operator'in _0x4e7559&&'value'in _0x4e7559))return!0x1;const {operator:_0x3d2c81,value:_0x328346}=_0x4e7559;return!(_0x37a9ae(0x5d4)!==_0x3d2c81||!Array['isArray'](_0x328346)||0x2!==_0x328346[_0x37a9ae(0x5af)]);}}class _0x4aeea2{[_0x1833fc(0x1fb)];constructor(_0x17670c){const _0x36d5ab=_0x1833fc;this[_0x36d5ab(0x1fb)]={'tables':{},'version':_0x17670c};}static['validateLayout'](_0x2a9dc2){const _0x3e8ef4=_0x1833fc;for(const _0x1ca422 in _0x2a9dc2){if('version'!==_0x1ca422&&_0x3e8ef4(0x491)!==_0x1ca422)return[!0x1,'Invalid\x20key\x20\x27'+_0x1ca422+_0x3e8ef4(0x4c1)];if('tables'===_0x1ca422)for(const _0x245b88 in _0x2a9dc2[_0x3e8ef4(0x491)]){if(_0x3e8ef4(0xf8)!=typeof _0x245b88)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x245b88+'\x27'];for(const _0x33565f in _0x2a9dc2[_0x3e8ef4(0x491)][_0x245b88]){if(_0x3e8ef4(0x9b8)!==_0x33565f)return[!0x1,_0x3e8ef4(0x987)+_0x33565f+_0x3e8ef4(0x46b)+_0x245b88+'\x27'];const _0x3a3c2c=_0x2a9dc2[_0x3e8ef4(0x491)][_0x245b88][_0x33565f]??[];for(const _0x622b58 of _0x3a3c2c)if(void 0x0===_0x622b58[_0x3e8ef4(0x952)]||_0x3e8ef4(0xf8)!=typeof _0x622b58[_0x3e8ef4(0x952)])return[!0x1,_0x3e8ef4(0x43d)+_0x245b88+_0x3e8ef4(0x80d)];}}else{if(_0x3e8ef4(0x3a2)===_0x1ca422&&'number'!=typeof _0x2a9dc2[_0x1ca422])return[!0x1,_0x3e8ef4(0x1ff)+_0x2a9dc2[_0x1ca422]+_0x3e8ef4(0x69b)];}}return[!0x0,_0x3e8ef4(0x650)];}static[_0x1833fc(0x1fb)](_0x302e7c){const _0x11b6a1=_0x1833fc,_0x470955=new _0x4aeea2(_0x302e7c);return _0x470955[_0x11b6a1(0x1fb)][_0x11b6a1(0x3a2)]=_0x302e7c,_0x470955;}['table'](_0x17b2be){const _0x520159=_0x1833fc;return this[_0x520159(0x1fb)][_0x520159(0x491)][_0x17b2be]={},new _0x4338e9(this[_0x520159(0x1fb)]['tables'][_0x17b2be]);}[_0x1833fc(0x95a)](){const _0x4867d5=_0x1833fc;return this[_0x4867d5(0x1fb)];}}class _0x4338e9{[_0x1833fc(0x253)];constructor(_0x210035){const _0x2d3860=_0x1833fc;this[_0x2d3860(0x253)]=_0x210035;}[_0x1833fc(0x295)](_0x546d21){const _0x353134=_0x1833fc;return this[_0x353134(0x253)]['indexes']=this['tableLayout'][_0x353134(0x9b8)]??[],this[_0x353134(0x253)][_0x353134(0x9b8)][_0x353134(0x5ed)]({'keyPath':_0x546d21}),this;}}const _0x1222f8=0x40000,_0x20249c=0x3f800,_0x17f2b1=0x1388,_0x5692b1=_0x1833fc(0x8c0),_0x4975f7=_0x1833fc(0x835),_0x2112dc='.crewdle-transactions',_0x584ad4='.crewdle-layout',_0x2e147b=0xdbba0,_0x4e0eb9='.gguf',_0x36a355=0x61a8,_0x2638cd=0x7530,_0x2d04b1=_0x1833fc(0x286);var _0x16cecd;!function(_0x1eeb2b){const _0x358776=_0x1833fc;_0x1eeb2b[_0x358776(0x6f5)]=_0x358776(0x490),_0x1eeb2b['ConnectionNotConnected']=_0x358776(0x597),_0x1eeb2b['ConnectionNoRetryQueue']=_0x358776(0x241),_0x1eeb2b['ConnectionInvalidDataEvent']=_0x358776(0x5a3),_0x1eeb2b[_0x358776(0x9a6)]=_0x358776(0x39d),_0x1eeb2b[_0x358776(0x42c)]='generative-ai-context-invalid-partial-result',_0x1eeb2b['GenerativeAIContextJobAlreadyConsumed']=_0x358776(0x41c),_0x1eeb2b[_0x358776(0x5f3)]='generative-ai-context-job-failed',_0x1eeb2b['GenerativeAIContextJobTimeout']=_0x358776(0x493),_0x1eeb2b[_0x358776(0x1ac)]=_0x358776(0x1ef),_0x1eeb2b[_0x358776(0x546)]=_0x358776(0x1c6),_0x1eeb2b[_0x358776(0x358)]=_0x358776(0x19a),_0x1eeb2b[_0x358776(0x7b1)]='invalid-publisher',_0x1eeb2b[_0x358776(0x4ed)]=_0x358776(0x162),_0x1eeb2b[_0x358776(0x633)]='invalid-subscription',_0x1eeb2b[_0x358776(0x543)]='job-dispatcher-creation-failed',_0x1eeb2b[_0x358776(0x988)]=_0x358776(0x1d2),_0x1eeb2b[_0x358776(0x565)]=_0x358776(0x718),_0x1eeb2b[_0x358776(0x40c)]=_0x358776(0x261),_0x1eeb2b['JobWorkerCreationFailed']=_0x358776(0x88b),_0x1eeb2b[_0x358776(0x23e)]=_0x358776(0x166),_0x1eeb2b[_0x358776(0x1eb)]=_0x358776(0x4a5),_0x1eeb2b[_0x358776(0x561)]=_0x358776(0x4a9),_0x1eeb2b[_0x358776(0x425)]=_0x358776(0x1a8),_0x1eeb2b['KeyValueDatabaseTransactionTableNotInitialized']=_0x358776(0x58d),_0x1eeb2b[_0x358776(0x1b1)]=_0x358776(0x8fb),_0x1eeb2b['LocalMediaStreamDoesNotExist']='local-stream-does-not-exist',_0x1eeb2b[_0x358776(0x937)]=_0x358776(0x489),_0x1eeb2b[_0x358776(0x310)]='missing-system-topic',_0x1eeb2b[_0x358776(0x27a)]='mistlet-capacity-report-not-set',_0x1eeb2b[_0x358776(0xea)]='object-store-cannot-write-transaction',_0x1eeb2b[_0x358776(0x104)]=_0x358776(0x482),_0x1eeb2b[_0x358776(0x6dc)]=_0x358776(0x5a4),_0x1eeb2b[_0x358776(0x232)]=_0x358776(0x34c),_0x1eeb2b[_0x358776(0x7ab)]=_0x358776(0x135),_0x1eeb2b['RemoteMediaStreamDoesNotExist']='remote-stream-does-not-exist',_0x1eeb2b['RemoteMediaStreamMissingProviderId']=_0x358776(0x5be),_0x1eeb2b[_0x358776(0xff)]=_0x358776(0x7bb),_0x1eeb2b[_0x358776(0x8e9)]='subscription-request-does-not-exist',_0x1eeb2b[_0x358776(0x3d3)]='subscription-request-failed',_0x1eeb2b[_0x358776(0x288)]=_0x358776(0x70e),_0x1eeb2b['NodeDoesNotExist']='node-does-not-exist',_0x1eeb2b['NodeAlreadyExist']=_0x358776(0x94f),_0x1eeb2b[_0x358776(0x52a)]=_0x358776(0x1c8),_0x1eeb2b[_0x358776(0x961)]=_0x358776(0x164),_0x1eeb2b[_0x358776(0x81f)]='workflow-does-not-exist',_0x1eeb2b[_0x358776(0x965)]=_0x358776(0x710);}(_0x16cecd||(_0x16cecd={}));const _0x21b36c=new Map([[_0x16cecd[_0x1833fc(0x6f5)],_0x1833fc(0x39c)],[_0x16cecd[_0x1833fc(0x829)],_0x1833fc(0x989)],[_0x16cecd[_0x1833fc(0x22d)],_0x1833fc(0x729)],[_0x16cecd[_0x1833fc(0x7ae)],'Invalid\x20data\x20event.'],[_0x16cecd[_0x1833fc(0x9a6)],_0x1833fc(0x1b4)],[_0x16cecd[_0x1833fc(0x42c)],_0x1833fc(0x297)],[_0x16cecd[_0x1833fc(0x3a0)],_0x1833fc(0x794)],[_0x16cecd['GenerativeAIContextJobFailed'],_0x1833fc(0x5c3)],[_0x16cecd[_0x1833fc(0x4ee)],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x16cecd[_0x1833fc(0x1ac)],'AI\x20worker\x20creation\x20failed.'],[_0x16cecd[_0x1833fc(0x546)],'Graph\x20database\x20creation\x20failed.'],[_0x16cecd[_0x1833fc(0x358)],_0x1833fc(0x19b)],[_0x16cecd[_0x1833fc(0x7b1)],_0x1833fc(0x12d)],[_0x16cecd[_0x1833fc(0x4ed)],_0x1833fc(0x116)],[_0x16cecd['InvalidSubscription'],_0x1833fc(0x9d2)],[_0x16cecd['JobDispatcherCreationFailed'],_0x1833fc(0x141)],[_0x16cecd['JobDispatcherInvalidPayload'],'Invalid\x20job\x20service\x20payload.'],[_0x16cecd[_0x1833fc(0x565)],_0x1833fc(0x276)],[_0x16cecd[_0x1833fc(0x40c)],_0x1833fc(0x2b7)],[_0x16cecd[_0x1833fc(0xd6)],_0x1833fc(0x973)],[_0x16cecd[_0x1833fc(0x23e)],'Invalid\x20job\x20worker\x20type.'],[_0x16cecd[_0x1833fc(0x1eb)],'Key-value\x20database\x20creation\x20failed.'],[_0x16cecd[_0x1833fc(0x561)],_0x1833fc(0x1e6)],[_0x16cecd['KeyValueDatabaseTableDoesNotExist'],_0x1833fc(0x8bb)],[_0x16cecd[_0x1833fc(0x77a)],_0x1833fc(0x1c3)],[_0x16cecd['KeyValueDatabaseTransactionValueNotSet'],_0x1833fc(0x475)],[_0x16cecd[_0x1833fc(0x44c)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x16cecd['MissingRemoteConnection'],'Connection\x20does\x20not\x20exist.'],[_0x16cecd[_0x1833fc(0x310)],_0x1833fc(0x753)],[_0x16cecd[_0x1833fc(0x27a)],_0x1833fc(0x449)],[_0x16cecd[_0x1833fc(0xea)],'Cannot\x20write\x20transaction.'],[_0x16cecd[_0x1833fc(0x6dc)],_0x1833fc(0x9db)],[_0x16cecd[_0x1833fc(0x104)],_0x1833fc(0x4bb)],[_0x16cecd[_0x1833fc(0x232)],_0x1833fc(0x9a2)],[_0x16cecd[_0x1833fc(0x7ab)],_0x1833fc(0x862)],[_0x16cecd['RemoteMediaStreamDoesNotExist'],'Remote\x20stream\x20does\x20not\x20exist.'],[_0x16cecd[_0x1833fc(0x24e)],_0x1833fc(0x8db)],[_0x16cecd['RemoteConnectionExists'],_0x1833fc(0x9af)],[_0x16cecd[_0x1833fc(0x8e9)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x16cecd[_0x1833fc(0x3d3)],'Subscription\x20request\x20failed.'],[_0x16cecd[_0x1833fc(0x288)],_0x1833fc(0x883)],[_0x16cecd[_0x1833fc(0x17f)],_0x1833fc(0xed)],[_0x16cecd[_0x1833fc(0x3dc)],'Node\x20already\x20exists.'],[_0x16cecd['PeerConnectionInvalidDestination'],_0x1833fc(0x183)],[_0x16cecd[_0x1833fc(0x961)],_0x1833fc(0x7e5)],[_0x16cecd[_0x1833fc(0x81f)],_0x1833fc(0x85a)],[_0x16cecd[_0x1833fc(0x965)],_0x1833fc(0x4a8)]]);class _0x4511be extends Error{['code'];static [_0x1833fc(0x2a2)]=_0x16cecd;[_0x1833fc(0x87e)];constructor(_0x3890b4,_0x14b9be){const _0x415c9a=_0x1833fc;super(_0x415c9a(0x8de)+_0x3890b4+':\x20'+_0x21b36c['get'](_0x3890b4)+_0x415c9a(0x953)+JSON[_0x415c9a(0x33b)](_0x14b9be)),this[_0x415c9a(0x45d)]=_0x3890b4,this[_0x415c9a(0x87e)]=_0x14b9be||{};}}var _0x5e5186,_0x55c102,_0x454878,_0x395fe6,_0x1c8598,_0x22326c,_0x35033d;!function(_0x4270ae){const _0x1e17cd=_0x1833fc;_0x4270ae[_0x4270ae[_0x1e17cd(0x379)]=0x0]=_0x1e17cd(0x379),_0x4270ae[_0x4270ae[_0x1e17cd(0x240)]=0x1]=_0x1e17cd(0x240),_0x4270ae[_0x4270ae['CloseJobWorker']=0x2]='CloseJobWorker',_0x4270ae[_0x4270ae[_0x1e17cd(0x5db)]=0x3]=_0x1e17cd(0x5db),_0x4270ae[_0x4270ae[_0x1e17cd(0x4a4)]=0x4]=_0x1e17cd(0x4a4),_0x4270ae[_0x4270ae[_0x1e17cd(0x5c9)]=0x5]=_0x1e17cd(0x5c9),_0x4270ae[_0x4270ae[_0x1e17cd(0x499)]=0x6]='CloseObjectStoreBucket',_0x4270ae[_0x4270ae['ClosePubSubTopic']=0x7]='ClosePubSubTopic',_0x4270ae[_0x4270ae[_0x1e17cd(0x86b)]=0x8]=_0x1e17cd(0x86b),_0x4270ae[_0x4270ae[_0x1e17cd(0x859)]=0x9]=_0x1e17cd(0x859),_0x4270ae[_0x4270ae[_0x1e17cd(0x4b2)]=0xa]='GenerativeAIContextStats',_0x4270ae[_0x4270ae['GenerativeAIWorkerStats']=0xb]=_0x1e17cd(0x946),_0x4270ae[_0x4270ae[_0x1e17cd(0x8f2)]=0xc]=_0x1e17cd(0x8f2),_0x4270ae[_0x4270ae[_0x1e17cd(0x3d7)]=0xd]=_0x1e17cd(0x3d7),_0x4270ae[_0x4270ae[_0x1e17cd(0x693)]=0xe]=_0x1e17cd(0x693),_0x4270ae[_0x4270ae[_0x1e17cd(0x22a)]=0xf]='KeyValueDatabaseRequestPeakTransactions',_0x4270ae[_0x4270ae['KeyValueDatabaseRequestTransactionsValue']=0x10]=_0x1e17cd(0x7a4),_0x4270ae[_0x4270ae[_0x1e17cd(0x508)]=0x11]=_0x1e17cd(0x508),_0x4270ae[_0x4270ae[_0x1e17cd(0x525)]=0x12]=_0x1e17cd(0x525),_0x4270ae[_0x4270ae[_0x1e17cd(0x777)]=0x13]=_0x1e17cd(0x777),_0x4270ae[_0x4270ae['LocalMediaStreamTrackFail']=0x14]=_0x1e17cd(0x305),_0x4270ae[_0x4270ae[_0x1e17cd(0x356)]=0x15]=_0x1e17cd(0x356),_0x4270ae[_0x4270ae['PubSubTopicStats']=0x16]=_0x1e17cd(0x62f),_0x4270ae[_0x4270ae[_0x1e17cd(0x99d)]=0x17]=_0x1e17cd(0x99d),_0x4270ae[_0x4270ae['RemoteMediaStreamTrackFail']=0x18]=_0x1e17cd(0x974),_0x4270ae[_0x4270ae[_0x1e17cd(0x412)]=0x19]=_0x1e17cd(0x412),_0x4270ae[_0x4270ae[_0x1e17cd(0x1d8)]=0x1a]=_0x1e17cd(0x1d8),_0x4270ae[_0x4270ae[_0x1e17cd(0x73f)]=0x1b]='UnsubscribeMediaStream',_0x4270ae[_0x4270ae[_0x1e17cd(0x5ec)]=0x1c]=_0x1e17cd(0x5ec),_0x4270ae[_0x4270ae[_0x1e17cd(0x5bc)]=0x1d]=_0x1e17cd(0x5bc);}(_0x5e5186||(_0x5e5186={})),function(_0x3047f1){const _0x3e8928=_0x1833fc;_0x3047f1['FileWrite']='file-write',_0x3047f1['FolderCreate']='folder-create',_0x3047f1['Delete']=_0x3e8928(0x8be),_0x3047f1['Move']=_0x3e8928(0x820),_0x3047f1[_0x3e8928(0x6e8)]=_0x3e8928(0x341),_0x3047f1['RequestAccepted']=_0x3e8928(0x596),_0x3047f1[_0x3e8928(0x865)]=_0x3e8928(0x3cc),_0x3047f1[_0x3e8928(0x27b)]=_0x3e8928(0x817);}(_0x55c102||(_0x55c102={})),function(_0x2b6988){const _0x357ff1=_0x1833fc;_0x2b6988[_0x357ff1(0x6ed)]=_0x357ff1(0x6a2),_0x2b6988[_0x357ff1(0x5e9)]=_0x357ff1(0x4c7);}(_0x454878||(_0x454878={})),function(_0x57ecdd){const _0x113964=_0x1833fc;_0x57ecdd[_0x113964(0x1b5)]=_0x113964(0x720),_0x57ecdd[_0x113964(0x306)]='update',_0x57ecdd['Delete']='delete';}(_0x395fe6||(_0x395fe6={})),function(_0x3d5483){const _0x5219a8=_0x1833fc;_0x3d5483['Get']='get',_0x3d5483['List']=_0x5219a8(0xf7),_0x3d5483[_0x5219a8(0x769)]=_0x5219a8(0x4b6);}(_0x1c8598||(_0x1c8598={})),function(_0x3abc5c){const _0x1b6372=_0x1833fc;_0x3abc5c[_0x3abc5c[_0x1b6372(0x6ed)]=0x0]=_0x1b6372(0x6ed),_0x3abc5c[_0x3abc5c[_0x1b6372(0x156)]=0x1]=_0x1b6372(0x156),_0x3abc5c[_0x3abc5c[_0x1b6372(0x65b)]=0x2]=_0x1b6372(0x65b),_0x3abc5c[_0x3abc5c[_0x1b6372(0x749)]=0x3]=_0x1b6372(0x749),_0x3abc5c[_0x3abc5c[_0x1b6372(0x184)]=0x4]=_0x1b6372(0x184),_0x3abc5c[_0x3abc5c['Failed']=0x5]=_0x1b6372(0x9de);}(_0x22326c||(_0x22326c={})),function(_0x4d4db5){const _0xeb43e6=_0x1833fc;_0x4d4db5[_0x4d4db5[_0xeb43e6(0x70d)]=0x0]=_0xeb43e6(0x70d),_0x4d4db5[_0x4d4db5[_0xeb43e6(0x18b)]=0x1]=_0xeb43e6(0x18b),_0x4d4db5[_0x4d4db5['Content']=0x2]=_0xeb43e6(0x7f4),_0x4d4db5[_0x4d4db5[_0xeb43e6(0x50a)]=0x3]=_0xeb43e6(0x50a),_0x4d4db5[_0x4d4db5[_0xeb43e6(0x509)]=0x4]='Stats',_0x4d4db5[_0x4d4db5[_0xeb43e6(0x20d)]=0x5]=_0xeb43e6(0x20d),_0x4d4db5[_0x4d4db5['Remediation']=0x6]=_0xeb43e6(0x826);}(_0x35033d||(_0x35033d={}));class _0x3a1a47{[_0x1833fc(0x40d)];[_0x1833fc(0x671)];[_0x1833fc(0x3a7)];constructor(_0x3f6f2d,_0x1eb4f4){this['owner']=_0x3f6f2d,this['label']=_0x1eb4f4;}[_0x1833fc(0x92c)](){const _0x379207=_0x1833fc;return this[_0x379207(0x671)];}[_0x1833fc(0x764)](){return this['owner']['getId']();}[_0x1833fc(0x24c)](){}['registerSystemPublisher'](_0x3a9804){const _0x4a3ebe=_0x1833fc;this[_0x4a3ebe(0x3a7)]=_0x3a9804;}[_0x1833fc(0x14f)](){const _0x1bc268=_0x1833fc;delete this[_0x1bc268(0x3a7)];}}const _0x4e5c5c=require('firebase/firestore');let _0x92e10a=_0x47b511(0x14d)['O'];function _0x50bfec(_0x59d9e5){const _0x3f4270=_0x1833fc;return!(!_0x59d9e5||_0x3f4270(0x530)!=typeof _0x59d9e5||Array['isArray'](_0x59d9e5));}_0x92e10a=function _0x27ef6c(_0x307af1,..._0x412d7f){const _0x1280bd=_0x1833fc;if(!Array[_0x1280bd(0x234)](_0x412d7f)||0x0===_0x412d7f['length'])return _0x307af1;const _0x4444dc=_0x412d7f[_0x1280bd(0x514)]();if(_0x50bfec(_0x307af1)&&_0x50bfec(_0x4444dc)){for(const _0x4f7dbc in _0x4444dc)_0x50bfec(_0x4444dc[_0x4f7dbc])?(_0x307af1[_0x4f7dbc]||Object[_0x1280bd(0x445)](_0x307af1,{[_0x4f7dbc]:{}}),_0x27ef6c(_0x307af1[_0x4f7dbc],_0x4444dc[_0x4f7dbc])):Object[_0x1280bd(0x445)](_0x307af1,{[_0x4f7dbc]:_0x4444dc[_0x4f7dbc]});}return _0x27ef6c(_0x307af1,..._0x412d7f);}(_0x92e10a,_0x47b511(0x3e6)['O']);const _0x152c14=_0x92e10a,_0xa65f11=require('firebase/app'),_0x48ea98=require('firebase/auth'),_0x27c86b=require('firebase/database'),_0x1a3767=require('firebase/functions'),_0x6e2c44=require('uuid'),_0x61a82=_0x1833fc(0x682);class _0x9792cb{static [_0x1833fc(0x9b7)];[_0x1833fc(0x15e)];[_0x1833fc(0x4aa)];[_0x1833fc(0x400)];['database'];[_0x1833fc(0x7a2)];[_0x1833fc(0x7e4)];[_0x1833fc(0xdc)];constructor(){const _0x513d0c=_0x1833fc;this[_0x513d0c(0x7bc)]();}static[_0x1833fc(0x16c)](){const _0x524bd9=_0x1833fc;return _0x9792cb['instance']||(_0x9792cb['instance']=new _0x9792cb()),_0x9792cb[_0x524bd9(0x9b7)];}[_0x1833fc(0x7bc)](){const _0x1f62e6=_0x1833fc;if(!this[_0x1f62e6(0x15e)]){let _0x1d06bd=_0x61a82;'undefined'!=typeof window&&(_0x1d06bd=_0x61a82+'-'+(0x0,_0x6e2c44['v4'])()),this[_0x1f62e6(0x15e)]=(0x0,_0xa65f11[_0x1f62e6(0x1bb)])(_0x152c14[_0x1f62e6(0x318)],''+_0x1d06bd);}return this[_0x1f62e6(0x15e)];}[_0x1833fc(0x7af)](){const _0x4d355b=_0x1833fc;return this[_0x4d355b(0x4aa)]||(this['auth']=(0x0,_0x48ea98[_0x4d355b(0x7af)])(this[_0x4d355b(0x7bc)]())),this[_0x4d355b(0x4aa)];}[_0x1833fc(0x13e)](){const _0x46eea2=_0x1833fc;return this['functions']||(this['functions']=(0x0,_0x1a3767[_0x46eea2(0x13e)])(this[_0x46eea2(0x7bc)](),_0x152c14[_0x46eea2(0x318)][_0x46eea2(0x583)])),this['functions'];}['getDatabase'](){const _0xf3df00=_0x1833fc;return this['database']||(this['database']=(0x0,_0x27c86b[_0xf3df00(0x91c)])(this[_0xf3df00(0x7bc)]())),this[_0xf3df00(0x6f3)];}[_0x1833fc(0x6c9)](){const _0x320564=_0x1833fc;return this[_0x320564(0x7a2)]||(this[_0x320564(0x7a2)]=(0x0,_0x4e5c5c[_0x320564(0x6c9)])(this[_0x320564(0x7bc)]())),this[_0x320564(0x7a2)];}async[_0x1833fc(0x31f)](){const _0x35c150=_0x1833fc;if(this[_0x35c150(0x7e4)]&&this[_0x35c150(0xdc)]&&Date[_0x35c150(0x1d5)]()-this[_0x35c150(0xdc)]<0x493e0)return Date[_0x35c150(0x1d5)]()+this['clockSkew'];const _0x3c689f=this[_0x35c150(0x91c)](),_0x6ec829=(0x0,_0x27c86b['ref'])(_0x3c689f,_0x35c150(0x1e9));return new Promise(_0xf2b3d1=>{const _0x30310e=_0x35c150;(0x0,_0x27c86b[_0x30310e(0x360)])(_0x6ec829,_0x335db4=>{const _0x5c7aee=_0x30310e;(0x0,_0x27c86b[_0x5c7aee(0x8b5)])(_0x6ec829),this[_0x5c7aee(0x7e4)]=_0x335db4['val'](),this[_0x5c7aee(0xdc)]=Date[_0x5c7aee(0x1d5)](),_0xf2b3d1(Date['now']()+(this[_0x5c7aee(0x7e4)]??0x0));});});}}const _0xc81657=_0x9792cb['getInstance']();class _0x1d9af5{static ['instance'];[_0x1833fc(0x1f7)]=[_0x381da1[_0x1833fc(0x54f)]];[_0x1833fc(0x909)]=!0x1;['loggingConnectors'];[_0x1833fc(0x889)]='';[_0x1833fc(0x73a)];[_0x1833fc(0x8a5)]=[];[_0x1833fc(0x262)];[_0x1833fc(0x4df)];[_0x1833fc(0x500)]=0xa;[_0x1833fc(0x18d)]=0x1f4;[_0x1833fc(0x68f)]=0x1c2;[_0x1833fc(0x150)]=0x3e8;constructor(){const _0x4e6af6=_0x1833fc;if(_0x4e6af6(0x384)!=typeof window)this['globalObject']=window;else{if(void 0x0===_0x47b511['g'])throw new Error(_0x4e6af6(0x3cf));this[_0x4e6af6(0x73a)]=_0x47b511['g'];}this[_0x4e6af6(0x8ab)](),this[_0x4e6af6(0x73a)][_0x4e6af6(0x1f0)]=_0x33d149=>{const _0x4f3fa1=_0x4e6af6;if(_0x33d149===_0x381da1[_0x4f3fa1(0x363)])return this[_0x4f3fa1(0x1f7)]=Object['keys'](_0x381da1)[_0x4f3fa1(0x84d)](_0x3e278a=>_0x381da1[_0x3e278a]),void Object['keys'](_0x381da1)[_0x4f3fa1(0x919)](_0xc1e060=>{const _0x3b6827=_0x4f3fa1,_0x3c3f12=_0xc1e060;localStorage[_0x3b6827(0x9b0)]('crewdle-sdk-logging-'+_0x381da1[_0x3c3f12],_0x3b6827(0x3a1));});this[_0x4f3fa1(0x1f7)][_0x4f3fa1(0x778)](_0x33d149)||(this[_0x4f3fa1(0x1f7)][_0x4f3fa1(0x5ed)](_0x33d149),localStorage[_0x4f3fa1(0x9b0)](_0x4f3fa1(0x48e)+_0x33d149,_0x4f3fa1(0x3a1)));},this[_0x4e6af6(0x73a)][_0x4e6af6(0x113)]=_0x349117=>{const _0x10b347=_0x4e6af6;if(!_0x349117||_0x349117===_0x381da1['All'])return this['enabledChannels']=[],void Object[_0x10b347(0x727)](_0x381da1)[_0x10b347(0x919)](_0x4b1b3a=>{const _0x315c39=_0x10b347,_0x8563b6=_0x4b1b3a;localStorage[_0x315c39(0x458)](_0x315c39(0x48e)+_0x381da1[_0x8563b6]);});this[_0x10b347(0x1f7)][_0x10b347(0x778)](_0x349117)&&(this[_0x10b347(0x1f7)]=this['enabledChannels'][_0x10b347(0x9a3)](_0x1afef3=>_0x1afef3!==_0x349117),localStorage[_0x10b347(0x458)](_0x10b347(0x48e)+_0x349117));},this['globalObject'][_0x4e6af6(0x2f1)]=_0x381da1;}static[_0x1833fc(0x16c)](){const _0x467cb6=_0x1833fc;try{return _0x1d9af5[_0x467cb6(0x9b7)]||(_0x1d9af5[_0x467cb6(0x9b7)]=new _0x1d9af5()),_0x1d9af5[_0x467cb6(0x9b7)];}catch(_0x4d3d70){return console[_0x467cb6(0x657)](_0x467cb6(0x5b7),_0x4d3d70),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x1833fc(0x30e)](_0x278fd8){const _0x22aa43=_0x1833fc;this[_0x22aa43(0x889)]=_0x278fd8,this[_0x22aa43(0x8a5)]=[],this[_0x22aa43(0x262)]=this[_0x22aa43(0x9c3)](),this[_0x22aa43(0x4df)]&&(clearTimeout(this['batchTimeout']),this[_0x22aa43(0x4df)]=void 0x0);}[_0x1833fc(0x69e)](_0x5a425b){this['loggingConnectors']=_0x5a425b;}[_0x1833fc(0x526)](_0x2b2210,..._0x21e7d7){const _0x40af2e=_0x1833fc;this[_0x40af2e(0x909)]&&this[_0x40af2e(0x41b)](_0x381da1[_0x40af2e(0x54f)],_0x40af2e(0x3fd)+_0x2b2210,..._0x21e7d7);}['forceLog'](_0x32e675,..._0x3a6b49){const _0xa3ec33=_0x1833fc;console[_0xa3ec33(0x41b)](_0x32e675,..._0x3a6b49);}[_0x1833fc(0x41b)](_0x66cdb0,_0x1dc12e,..._0x402376){const _0x48785f=_0x1833fc;_0x152c14[_0x48785f(0x395)]||(this[_0x48785f(0x1f7)][_0x48785f(0x778)](_0x66cdb0)&&console[_0x48785f(0x41b)](_0x48785f(0x510)+_0x66cdb0+'\x27\x0a',new Date()+'\x0a',_0x1dc12e,..._0x402376),this['loggingConnectors']&&this[_0x48785f(0x760)]['forEach'](_0x532b65=>{const _0x2c9f15=_0x48785f;this['isInternalLoggingConnector'](_0x532b65)&&_0x532b65['getEnabledChannels']()[_0x2c9f15(0x778)](_0x66cdb0)&&_0x532b65['log'](_0x1dc12e,{'vendorId':this[_0x2c9f15(0x889)],'nodeId':'','nodeType':'','data':{'channel':_0x66cdb0,..._0x402376}});}));}[_0x1833fc(0x8d9)](_0x1739db,_0x1287bc,..._0x416ac7){const _0x45819d=_0x1833fc;_0x152c14[_0x45819d(0x395)]||(this[_0x45819d(0x1f7)][_0x45819d(0x778)](_0x1739db)&&console[_0x45819d(0x41b)](_0x1287bc,..._0x416ac7),this[_0x45819d(0x760)]&&this[_0x45819d(0x760)][_0x45819d(0x919)](_0x4fd21f=>{const _0xb98c11=_0x45819d;this[_0xb98c11(0x14a)](_0x4fd21f)&&_0x4fd21f['getEnabledChannels']()[_0xb98c11(0x778)](_0x1739db)&&_0x4fd21f['log'](_0x1287bc,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x1739db,..._0x416ac7}});}));}[_0x1833fc(0x896)](_0x28f60b,_0x4a82d1){const _0x1bf4f0=_0x1833fc;if(!this[_0x1bf4f0(0x760)])return;const _0x5ed557={'vendorId':this[_0x1bf4f0(0x889)],..._0x4a82d1};this[_0x1bf4f0(0x760)][_0x1bf4f0(0x919)](_0x28160d=>{const _0x385f77=_0x1bf4f0;_0x28160d[_0x385f77(0x41b)](_0x28f60b,_0x5ed557);});}[_0x1833fc(0x82a)](_0x2fd4f3,_0x18b1d0){const _0x2f848f=_0x1833fc;this['createBatchOperation'](_0x2fd4f3,_0x18b1d0),this[_0x2f848f(0x4c2)]();}[_0x1833fc(0x2e2)](_0x20b51d,_0x3047b1,_0x6e37f1){const _0x15a9a1=_0x1833fc;(0x0,_0x4e5c5c['setDoc'])((0x0,_0x4e5c5c[_0x15a9a1(0x58c)])(_0xc81657[_0x15a9a1(0x6c9)](),_0x15a9a1(0x34b)+this[_0x15a9a1(0x889)]+'/'+_0x20b51d+'/'+_0x3047b1),{'storage':_0x6e37f1,'timestamp':(0x0,_0x4e5c5c[_0x15a9a1(0x3e8)])()});}[_0x1833fc(0x4c2)](){const _0x27885d=_0x1833fc;this[_0x27885d(0x262)]&&(this[_0x27885d(0x262)]['counter']+=0x1,this[_0x27885d(0x262)][_0x27885d(0x479)]===this[_0x27885d(0x68f)]?this['processBatch']():this[_0x27885d(0x4df)]||(this[_0x27885d(0x4df)]=this[_0x27885d(0x73a)][_0x27885d(0x554)](()=>this['processBatch'](),this[_0x27885d(0x150)])));}async[_0x1833fc(0x6b9)](){const _0x2e2b87=_0x1833fc;if(this[_0x2e2b87(0x262)]){for(this[_0x2e2b87(0x8a5)]['push'](this[_0x2e2b87(0x262)]),this['currentBatch']=this[_0x2e2b87(0x9c3)]();this[_0x2e2b87(0x8a5)][_0x2e2b87(0x5af)]>0x0;){const _0x23bd38=this['batchQueue']['shift']();if(!await this[_0x2e2b87(0x109)](_0x23bd38))break;}clearTimeout(this['batchTimeout']),this[_0x2e2b87(0x4df)]=void 0x0;}}[_0x1833fc(0x657)](_0x2bfdb5,_0x3147e8,..._0x240ba2){const _0x130261=_0x1833fc;if(console[_0x130261(0x657)](new Date(),_0x2bfdb5,_0x3147e8,..._0x240ba2),this[_0x130261(0x760)]){const _0x35b246={'vendorId':this['vendorId'],..._0x3147e8};this[_0x130261(0x760)][_0x130261(0x919)](_0x513b7d=>{const _0xa34e4b=_0x130261;_0x513b7d[_0xa34e4b(0x657)](_0x2bfdb5,_0x35b246);});}}[_0x1833fc(0x6d6)](_0x54bf20,_0x525acf,..._0x40ea92){const _0x55c6fb=_0x1833fc;if(console[_0x55c6fb(0x8bf)](new Date(),_0x54bf20,_0x525acf,_0x40ea92),this[_0x55c6fb(0x760)]){const _0x13d3de={'vendorId':this[_0x55c6fb(0x889)],..._0x525acf};this['loggingConnectors'][_0x55c6fb(0x919)](_0x56a3e7=>{const _0x4c54a8=_0x55c6fb;_0x56a3e7[_0x4c54a8(0x8bf)](_0x54bf20,_0x13d3de);});}}[_0x1833fc(0x3c6)](_0xa5dc4b){const _0x394fb1=_0x1833fc;return this[_0x394fb1(0x1f7)][_0x394fb1(0x778)](_0xa5dc4b);}async[_0x1833fc(0x109)](_0x156a5b,_0x1d5ed8=0x0){const _0x517174=_0x1833fc;if(_0x156a5b[_0x517174(0x479)]>0x0)try{return await _0x156a5b[_0x517174(0x7fe)][_0x517174(0x2de)](),!0x0;}catch(_0x197723){if(console[_0x517174(0x657)](_0x517174(0x79e),_0x197723,_0x517174(0x586),_0x156a5b[_0x517174(0x5bf)]),!(_0x1d5ed8<this[_0x517174(0x500)])){const {nodeId:_0x2d30c8='',nodeType:_0x5ed56f='',clusterId:_0x393af0=''}=_0x156a5b[_0x517174(0x5bf)][0x0]['data'],_0xb2d37b={'nodeId':_0x2d30c8,'nodeType':_0x5ed56f,'clusterId':_0x393af0,'data':{'operations':_0x156a5b[_0x517174(0x5bf)],'error':_0x197723}};return this['error'](_0x517174(0x7e7),_0xb2d37b),!0x1;}{const _0x253d91=this[_0x517174(0x49e)](_0x156a5b['operations']);setTimeout(()=>this[_0x517174(0x109)](_0x253d91,_0x1d5ed8+0x1),this[_0x517174(0x18d)]*Math[_0x517174(0x688)](0x2,_0x1d5ed8));}}}[_0x1833fc(0x8ab)](){const _0x5ed89b=_0x1833fc;try{Object[_0x5ed89b(0x727)](_0x381da1)[_0x5ed89b(0x919)](_0x44a19e=>{const _0x4719db=_0x5ed89b,_0x4dd789=_0x44a19e;localStorage['getItem']('crewdle-sdk-logging-'+_0x381da1[_0x4dd789])&&(console['log'](_0x4719db(0x3c2),_0x381da1[_0x4dd789]),this[_0x4719db(0x1f7)][_0x4719db(0x5ed)](_0x381da1[_0x4dd789]));});}catch(_0x32a639){}}[_0x1833fc(0x14a)](_0x43a958){const _0x5baf09=_0x1833fc;return void 0x0!==_0x43a958[_0x5baf09(0x20e)];}['createNewBatch'](){const _0x5417c3=_0x1833fc;return{'batch':(0x0,_0x4e5c5c[_0x5417c3(0x5dd)])(_0xc81657[_0x5417c3(0x6c9)]()),'operations':[],'counter':0x0};}['createBatch'](_0x1ef0e4){const _0x141ac0=_0x1833fc,_0x14081c=(0x0,_0x4e5c5c[_0x141ac0(0x5dd)])(_0xc81657[_0x141ac0(0x6c9)]());return _0x1ef0e4[_0x141ac0(0x919)](_0x2a78c1=>this[_0x141ac0(0x327)](_0x14081c,_0x2a78c1)),{'batch':_0x14081c,'operations':_0x1ef0e4,'counter':_0x1ef0e4[_0x141ac0(0x5af)]};}['addBatchOperation'](_0xc13854,_0x3a1481){const _0x5318f9=_0x1833fc;switch(_0x3a1481[_0x5318f9(0x339)]){case _0x5318f9(0x174):_0xc13854[_0x5318f9(0x174)](_0x3a1481['ref'],_0x3a1481[_0x5318f9(0x87e)]);break;case'update':_0xc13854[_0x5318f9(0x669)](_0x3a1481[_0x5318f9(0x259)],_0x3a1481[_0x5318f9(0x87e)]);break;case'delete':_0xc13854[_0x5318f9(0x8be)](_0x3a1481[_0x5318f9(0x259)]);}}['createBatchOperation'](_0x3010fa,_0x3d036e){const _0x22c646=_0x1833fc;this[_0x22c646(0x262)]||(this['currentBatch']=this[_0x22c646(0x9c3)]());const _0x52defd=(0x0,_0x4e5c5c['doc'])((0x0,_0x4e5c5c['collection'])(_0xc81657[_0x22c646(0x6c9)](),_0x22c646(0x34b)+this[_0x22c646(0x889)]+_0x22c646(0x402))),_0x565c36={..._0x3d036e,'service':_0x3010fa,'timestamp':(0x0,_0x4e5c5c['serverTimestamp'])()},_0x35053d={'type':'set','path':_0x52defd[_0x22c646(0x3b5)],'ref':_0x52defd,'data':_0x565c36};return this[_0x22c646(0x262)][_0x22c646(0x5bf)][_0x22c646(0x5ed)](_0x35053d),this[_0x22c646(0x327)](this[_0x22c646(0x262)][_0x22c646(0x7fe)],_0x35053d),_0x52defd;}}const _0x380207=_0x1d9af5['getInstance']();function _0x4161e7(_0x98705e,_0x42e95f){return'/'===_0x98705e?_0x98705e+_0x42e95f:_0x98705e+'/'+_0x42e95f;}function _0x5d3dbf(_0x2aad6d){const _0xa6e866=_0x1833fc,_0x5c8867=function(_0x19e98e){const _0x36644a=a0_0x17c7;return _0x19e98e['split']('/')[_0x36644a(0x9a3)](_0x2cdf13=>_0x2cdf13['length']>0x0);}(_0x2aad6d),_0x26447c=_0x5c8867[_0xa6e866(0x25a)]()||'',_0x9c6ac=_0x5c8867[_0xa6e866(0x784)]('/');return[0x0===_0x9c6ac[_0xa6e866(0x5af)]?'/':_0x9c6ac,_0x26447c];}async function _0x41e7f5(_0x2287fd){const _0x292397=_0x1833fc;let _0x188a29;const _0x4b28ee=_0x2287fd[_0x292397(0x813)]/0x100000;_0x188a29=_0x4b28ee<=0xa?0x1:_0x4b28ee<=0x64?0.5:_0x4b28ee<=0x1f4?0.1:0.05;const _0xe60ae0=Math[_0x292397(0x443)](_0x2287fd[_0x292397(0x813)]/_0x1222f8),_0x46f38b=Math[_0x292397(0x443)](_0xe60ae0*_0x188a29);let _0x1952d4=new Uint8Array();for(let _0x4e77a6=0x0;_0x4e77a6<_0x46f38b;_0x4e77a6++){const _0x4aafbf=Math[_0x292397(0x53d)](_0x4e77a6/_0x46f38b*_0x2287fd[_0x292397(0x813)]);let _0xc1dcc4=_0x4aafbf+_0x1222f8;_0xc1dcc4>_0x2287fd['size']&&(_0xc1dcc4=_0x2287fd[_0x292397(0x813)]);const _0x315dec=_0x2287fd[_0x292397(0x209)](_0x4aafbf,_0xc1dcc4),_0x187dfc=await _0x315dec[_0x292397(0x9d8)](),_0x34ea8b=new Uint8Array([..._0x1952d4,...new Uint8Array(_0x187dfc)]);_0x1952d4=new Uint8Array(await crypto[_0x292397(0x6cb)][_0x292397(0x300)](_0x292397(0x8f0),_0x34ea8b));}return Array[_0x292397(0x5cf)](new Uint8Array(_0x1952d4))[_0x292397(0x84d)](_0x445071=>_0x445071['toString'](0x10)[_0x292397(0x3f5)](0x2,'0'))[_0x292397(0x784)]('');}async function*_0x4107cf(_0xdfab42,_0x1cf4c6=0x0,_0x42d9e2){const _0x3bb53e=_0x1833fc;let _0x5bce3d=_0x1cf4c6*_0x20249c,_0x15d559=_0xdfab42;for(;_0x5bce3d<_0x15d559[_0x3bb53e(0x813)];){let _0x12209f=_0x5bce3d+_0x20249c;_0x12209f>_0x15d559[_0x3bb53e(0x813)]&&(_0x12209f=_0x15d559[_0x3bb53e(0x813)]);let _0x5c374c=0x0;for(;_0x5c374c<0x14;)try{await _0x42d9e2?.();const _0x1c1ee6=_0x15d559[_0x3bb53e(0x209)](_0x5bce3d,_0x12209f,_0x3bb53e(0x9d0)),_0x13d29e=await _0x1c1ee6[_0x3bb53e(0x9d8)]();yield _0x13d29e,_0x5bce3d=_0x12209f,await new Promise(_0x394b43=>setTimeout(_0x394b43,0x0));break;}catch(_0x204f19){if(console[_0x3bb53e(0x657)]('Error\x20reading\x20file\x20chunk\x20after\x20'+(_0x5c374c+0x1)+_0x3bb53e(0x132),_0x204f19),_0x5c374c++,_0x5c374c>0x14)throw _0x204f19;let _0x49451e=0x3e8*Math['pow'](0x2,_0x5c374c);_0x49451e>0x7530&&(_0x49451e=0x7530),await new Promise(_0x4ed56e=>setTimeout(_0x4ed56e,_0x49451e));}}}class _0x25ea81 extends _0x3a1a47{[_0x1833fc(0x642)];[_0x1833fc(0x66d)];['fileChunks']=new Map();[_0x1833fc(0x1f2)]=0x0;[_0x1833fc(0x7f2)]=0x0;['bytesSent']=0x0;[_0x1833fc(0x6fb)]=0x0;constructor(_0x138f22,_0xed34ff){super(_0x138f22,_0xed34ff);}['getLabel'](){return this['label'];}[_0x1833fc(0x82b)](){const _0x3390c3=_0x1833fc;return this[_0x3390c3(0x671)];}[_0x1833fc(0x4ba)](){const _0x3da633=_0x1833fc;return _0x4f9f07[_0x3da633(0x30a)]['Data'];}[_0x1833fc(0xd9)](){const _0x4a16d5=_0x1833fc;return this[_0x4a16d5(0x671)];}[_0x1833fc(0x2af)](_0x22b868){const _0x2fba81=_0x1833fc;if(this['outgoingTopic'])throw new _0x4511be(_0x4511be[_0x2fba81(0x2a2)]['InvalidPublisher'],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x2fba81(0x40d)]['getId']()+_0x2fba81(0x7e2)+this[_0x2fba81(0x671)],'topic':this[_0x2fba81(0x642)]});this['outgoingTopic']=_0x22b868;}[_0x1833fc(0x892)](_0x16930f){const _0x2d437a=_0x1833fc;if(this[_0x2d437a(0x66d)])throw new _0x4511be(_0x4511be[_0x2d437a(0x2a2)]['InvalidSubscriber'],{'message':_0x2d437a(0x7d4)+this[_0x2d437a(0x40d)][_0x2d437a(0x76b)]()+'\x20-\x20'+this['label'],'topic':this[_0x2d437a(0x66d)]});this[_0x2d437a(0x66d)]=_0x16930f;}['unregisterPublisher'](){const _0x12516=_0x1833fc;delete this[_0x12516(0x642)];}[_0x1833fc(0x64d)](){const _0x3ddeff=_0x1833fc;delete this[_0x3ddeff(0x66d)];}async[_0x1833fc(0x77c)](_0x51e1d8,_0x29f990){const _0x16b261=_0x1833fc;if(_0x380207[_0x16b261(0x41b)](_0x381da1[_0x16b261(0x3fe)],_0x16b261(0x128),this['owner'][_0x16b261(0x76b)](),_0x51e1d8,_0x29f990),this[_0x16b261(0x1f2)]+=0x1,_0x51e1d8 instanceof File){const _0x249403=await async function(_0x55956a){const _0x1e5e03=[];for await(const _0x5a5838 of _0x4107cf(_0x55956a))_0x1e5e03['push'](_0x5a5838);return _0x1e5e03;}(_0x51e1d8);return this[_0x16b261(0x9c2)]+=_0x249403[_0x16b261(0x161)]((_0x3f1807,_0x2c8f37)=>_0x3f1807+_0x2c8f37[_0x16b261(0x6b7)],0x0),void _0x249403['forEach']((_0x51cf1b,_0x44b4b3)=>{const _0x5322dd=_0x16b261;this['outgoingTopic'][_0x5322dd(0x9e5)]({'sourceId':this[_0x5322dd(0x40d)]['getId'](),'destinationIds':_0x29f990,'propagate':!0x0,'contentType':_0x4f9f07[_0x5322dd(0x30a)][_0x5322dd(0x9c8)],'content':{'name':_0x51e1d8[_0x5322dd(0x3cd)],'type':_0x51e1d8['type'],'data':_0x51cf1b,'index':_0x44b4b3,'total':_0x249403['length']}});});}this[_0x16b261(0x9c2)]+=JSON[_0x16b261(0x33b)](_0x51e1d8)[_0x16b261(0x5af)],this[_0x16b261(0x642)]['publish']({'sourceId':this['owner'][_0x16b261(0x76b)](),'destinationIds':_0x29f990,'propagate':!0x0,'contentType':_0x4f9f07[_0x16b261(0x30a)][_0x16b261(0x799)],'content':_0x51e1d8});}[_0x1833fc(0x521)](_0x5a7e18){const _0x24605a=_0x1833fc;return this[_0x24605a(0x66d)]['subscribe'](_0xe360d2=>{const _0x1da87a=_0x24605a;switch(_0x380207[_0x1da87a(0x41b)](_0x381da1[_0x1da87a(0x3fe)],_0x1da87a(0x950),this['owner'][_0x1da87a(0x76b)](),_0xe360d2),_0xe360d2[_0x1da87a(0x689)]){case _0x4f9f07['ContentType'][_0x1da87a(0x799)]:this[_0x1da87a(0x7f2)]+=0x1,this[_0x1da87a(0x6fb)]+=JSON[_0x1da87a(0x33b)](_0xe360d2[_0x1da87a(0x3ff)])[_0x1da87a(0x5af)],_0x5a7e18(_0xe360d2[_0x1da87a(0x5fb)],_0xe360d2['content']);break;case _0x4f9f07[_0x1da87a(0x30a)][_0x1da87a(0x9c8)]:this[_0x1da87a(0x85c)][_0x1da87a(0x977)](_0xe360d2[_0x1da87a(0x3ff)][_0x1da87a(0x3cd)])||this[_0x1da87a(0x85c)]['set'](_0xe360d2[_0x1da87a(0x3ff)]['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x3b7c4d=this[_0x1da87a(0x85c)][_0x1da87a(0x264)](_0xe360d2['content']['name']);if(_0x3b7c4d[_0x1da87a(0x1ba)]+=0x1,_0x3b7c4d['bytesReceived']+=_0xe360d2[_0x1da87a(0x3ff)][_0x1da87a(0x87e)][_0x1da87a(0x6b7)],_0x3b7c4d[_0x1da87a(0x3ff)]&&(_0x3b7c4d['content'][_0xe360d2[_0x1da87a(0x3ff)]['index']]=_0xe360d2[_0x1da87a(0x3ff)][_0x1da87a(0x87e)]),this[_0x1da87a(0x85c)][_0x1da87a(0x174)](_0xe360d2[_0x1da87a(0x3ff)][_0x1da87a(0x3cd)],_0x3b7c4d),_0x3b7c4d[_0x1da87a(0x1ba)]+0x1<_0xe360d2[_0x1da87a(0x3ff)]['total'])return;this[_0x1da87a(0x7f2)]+=0x1,this['bytesReceived']+=_0x3b7c4d[_0x1da87a(0x6fb)],_0x3b7c4d['content']&&_0x5a7e18(_0xe360d2[_0x1da87a(0x5fb)],(_0x551d77=_0x3b7c4d[_0x1da87a(0x3ff)],_0x1ca864=_0xe360d2['content'][_0x1da87a(0x3cd)],_0x2904bd=_0xe360d2[_0x1da87a(0x3ff)][_0x1da87a(0x339)],new File(_0x551d77,_0x1ca864,{'type':_0x2904bd}))),this[_0x1da87a(0x85c)][_0x1da87a(0x8be)](_0xe360d2[_0x1da87a(0x3ff)][_0x1da87a(0x3cd)]);}var _0x551d77,_0x1ca864,_0x2904bd;});}}function _0x4febb4(){const _0x3a790d=_0x1833fc;let _0x26d3ca=[];return{'subscribe':_0x5c7aa3=>(_0x26d3ca[_0x3a790d(0x5ed)](_0x5c7aa3),()=>{const _0x41d4dc=_0x3a790d;_0x26d3ca=_0x26d3ca[_0x41d4dc(0x9a3)](_0x37880f=>_0x37880f!==_0x5c7aa3);}),'publish':_0x4b7461=>{const _0x3bab96=_0x3a790d;_0x26d3ca[_0x3bab96(0x919)](_0x662d9c=>_0x662d9c(_0x4b7461));}};}function _0x137e7e(){let _0x4bacd;return{'subscribe':_0x51b2ed=>(_0x4bacd=_0x51b2ed,()=>{_0x4bacd=void 0x0;}),'publish':_0x4d9fe5=>{_0x4bacd&&_0x4bacd(_0x4d9fe5);}};}class _0x11e0c0{['connector'];[_0x1833fc(0x9e0)];[_0x1833fc(0x33f)];['eventListener']=_0x137e7e();[_0x1833fc(0x8d0)];constructor(_0x98db78,_0x5a9803,_0x454776){const _0x582f8d=_0x1833fc;this[_0x582f8d(0x5ea)]=_0x98db78,this[_0x582f8d(0x9e0)]=_0x5a9803,this['tableObserver']=_0x454776;}[_0x1833fc(0x24c)](){const _0x443afc=_0x1833fc;this[_0x443afc(0x8d0)]?.();}async['get'](_0xcf8246){const _0x7e8e37=_0x1833fc,_0x5614b2={'key':_0xcf8246,'tableName':this['tableName'],'action':_0x1c8598[_0x7e8e37(0x983)]};return this['tableObserver'][_0x7e8e37(0x9e5)](_0x5614b2),this[_0x7e8e37(0x5ea)][_0x7e8e37(0x264)](_0xcf8246);}async[_0x1833fc(0x174)](_0x4fd6f5,_0x1016df,_0x52005d=!0x0){const _0x313a12=_0x1833fc;this['validateValue'](_0x1016df);const _0x2ff43f=await this[_0x313a12(0x5ea)][_0x313a12(0x264)](_0x4fd6f5),_0x1574a1=await this[_0x313a12(0x5ea)][_0x313a12(0x174)](_0x4fd6f5,_0x1016df),_0x3390a7=_0x2ff43f?_0x395fe6[_0x313a12(0x306)]:_0x395fe6[_0x313a12(0x1b5)];if(this['publish'](_0x3390a7,_0x1574a1),!_0x52005d)return _0x1574a1;const _0x40c909={'key':_0x4fd6f5,'tableName':this[_0x313a12(0x9e0)],'action':_0x3390a7,'value':_0x1574a1};return this[_0x313a12(0x33f)]['publish'](_0x40c909),_0x1574a1;}async[_0x1833fc(0x720)](_0xe2e770){const _0x8ed748=_0x1833fc;this[_0x8ed748(0x137)](_0xe2e770);const _0x5d2fcf=await this['connector'][_0x8ed748(0x720)](_0xe2e770),_0x571df6={'key':_0x5d2fcf['id'],'tableName':this['tableName'],'action':_0x395fe6[_0x8ed748(0x1b5)],'value':_0x5d2fcf};return this['tableObserver'][_0x8ed748(0x9e5)](_0x571df6),this[_0x8ed748(0x9e5)](_0x571df6[_0x8ed748(0x621)],_0x5d2fcf),_0x5d2fcf;}async['delete'](_0x1e4f8f,_0x2abb24=!0x0){const _0x34fe7e=_0x1833fc,_0x5d5823=await this[_0x34fe7e(0x5ea)][_0x34fe7e(0x264)](_0x1e4f8f);if(!_0x5d5823)return;await this[_0x34fe7e(0x5ea)][_0x34fe7e(0x8be)](_0x1e4f8f);const _0x141983=_0x395fe6[_0x34fe7e(0x9e9)];if(this[_0x34fe7e(0x9e5)](_0x141983,_0x5d5823),!_0x2abb24)return;const _0x3f592f={'key':_0x1e4f8f,'tableName':this[_0x34fe7e(0x9e0)],'action':_0x141983,'value':_0x5d5823};this[_0x34fe7e(0x33f)]['publish'](_0x3f592f);}async[_0x1833fc(0x67d)](){const _0x502c34=_0x1833fc,_0x34ee09=await this[_0x502c34(0xf7)]();for(const _0x1674df of _0x34ee09){const _0x4730ff=_0x395fe6[_0x502c34(0x9e9)];this[_0x502c34(0x9e5)](_0x4730ff,_0x1674df);const _0xf7b35a={'key':_0x1674df['id'],'tableName':this[_0x502c34(0x9e0)],'action':_0x4730ff,'value':_0x1674df};this[_0x502c34(0x33f)][_0x502c34(0x9e5)](_0xf7b35a);}return this[_0x502c34(0x5ea)][_0x502c34(0x67d)]();}async[_0x1833fc(0xf7)](_0x25bd7c){const _0xb4e55d=_0x1833fc,_0x53289f={'key':'','tableName':this['tableName'],'action':_0x1c8598['List']};this[_0xb4e55d(0x33f)][_0xb4e55d(0x9e5)](_0x53289f);try{_0x25bd7c&&(_0x25bd7c=_0x25bd7c instanceof _0x1ccdfa?_0x25bd7c[_0xb4e55d(0x5a2)]():_0x1ccdfa['buildQuery'](_0x25bd7c)[_0xb4e55d(0x5a2)]());}catch(_0x23059d){throw new _0x3b1f45(_0x5bdcd2[_0xb4e55d(0x345)],'Invalid\x20query');}try{return await this[_0xb4e55d(0x5ea)]['list'](_0x25bd7c);}catch(_0x5aa05){let _0x1a3c14=_0xb4e55d(0x62c);throw _0x5aa05 instanceof Error&&(_0x1a3c14=_0x5aa05[_0xb4e55d(0x96c)]),new _0x3b1f45(_0x5bdcd2['KeyValueDatabaseInvalidQuery'],_0x1a3c14);}}async['count'](_0x41be18){const _0x252c39=_0x1833fc,_0x17625a={'key':'','tableName':this[_0x252c39(0x9e0)],'action':_0x1c8598[_0x252c39(0x769)]};this['tableObserver'][_0x252c39(0x9e5)](_0x17625a);try{_0x41be18&&(_0x41be18=_0x41be18 instanceof _0x1ccdfa?_0x41be18[_0x252c39(0x5a2)]():_0x1ccdfa['buildQuery'](_0x41be18)[_0x252c39(0x5a2)]());}catch(_0x44a4c8){throw new _0x3b1f45(_0x5bdcd2[_0x252c39(0x345)],_0x252c39(0x62c));}try{return await this[_0x252c39(0x5ea)]['count'](_0x41be18);}catch(_0x4210d2){let _0x2fe258=_0x252c39(0x62c);throw _0x4210d2 instanceof Error&&(_0x2fe258=_0x4210d2[_0x252c39(0x96c)]),new _0x3b1f45(_0x5bdcd2[_0x252c39(0x345)],_0x2fe258);}}[_0x1833fc(0x45a)](){const _0x8cddb8=_0x1833fc;return this[_0x8cddb8(0x5ea)][_0x8cddb8(0x45a)]();}[_0x1833fc(0x456)](_0x51aadc){const _0x2da518=_0x1833fc;this[_0x2da518(0x8d0)]=this[_0x2da518(0x457)][_0x2da518(0x456)](_0x51aadc);}['unsubscribe'](){this['listenerUnsubscriber']?.();}[_0x1833fc(0x9e5)](_0x3f474f,_0x501572){const _0x1290f4=_0x1833fc,_0x45014a=this[_0x1290f4(0x390)](_0x3f474f,_0x501572);this[_0x1290f4(0x457)][_0x1290f4(0x9e5)](_0x45014a);}[_0x1833fc(0x390)](_0x581ca5,_0x19e20f){const _0x3a157b=_0x1833fc;let _0x1b339f;switch(_0x581ca5){case _0x395fe6[_0x3a157b(0x1b5)]:_0x1b339f=_0x3a157b(0x720);break;case _0x395fe6[_0x3a157b(0x306)]:_0x1b339f=_0x3a157b(0x669);break;case _0x395fe6['Delete']:_0x1b339f='delete';}return{'action':_0x1b339f,'value':_0x19e20f};}['validateValue'](_0x13c3d6){const _0x398966=_0x1833fc;if(_0x398966(0x530)!=typeof _0x13c3d6||null===_0x13c3d6)throw new _0x3b1f45(_0x5bdcd2['KeyValueDatabaseInvalidValue'],_0x398966(0x647));for(const _0x3ea22f in _0x13c3d6){const _0x2fa54f=_0x13c3d6[_0x3ea22f];if(_0x398966(0x530)!=typeof _0x2fa54f||_0x2fa54f instanceof Date){if(!['string',_0x398966(0x16f),_0x398966(0x5ff)][_0x398966(0x778)](typeof _0x2fa54f))throw new _0x3b1f45(_0x5bdcd2[_0x398966(0x252)],_0x398966(0x56b)+_0x3ea22f+_0x398966(0x50b));}else this[_0x398966(0x137)](_0x2fa54f);}}}class _0x2c45c0{[_0x1833fc(0xf0)]=[];['totalNodes']=0x0;['transactionQueue']=[];[_0x1833fc(0x129)]=!0x1;['cachedRoot']=null;[_0x1833fc(0x7be)]=null;[_0x1833fc(0x53f)];[_0x1833fc(0x464)]=null;[_0x1833fc(0x3ec)]=[];['debounceReadyTimeout'];[_0x1833fc(0x2ee)]=Promise[_0x1833fc(0x6cf)]();[_0x1833fc(0x4dd)]=0x0;constructor(){}get[_0x1833fc(0x3ba)](){const _0x2380b9=_0x1833fc;return this[_0x2380b9(0x2ee)];}async[_0x1833fc(0x2dd)](_0x1d531b,_0x5752c0=0x0){const _0x5bb28d=_0x1833fc;this['readyResolve']||(this[_0x5bb28d(0x2ee)]=new Promise(_0x255eb3=>{const _0x5414eb=_0x5bb28d;this[_0x5414eb(0x464)]=_0x255eb3;}),this[_0x5bb28d(0x4dd)]=_0x5752c0);const _0x72c377=Date['now']();if(this[_0x5bb28d(0x129)])return void this['transactionQueue']['push'](_0x1d531b);this['isComputingMMR']=!0x0;let _0x13e013={'hash':await this[_0x5bb28d(0x876)](_0x1d531b),'height':0x0};const _0x2dfbed=this['combinePeaks'](_0x13e013);this[_0x5bb28d(0x3ec)][_0x5bb28d(0x5ed)](_0x2dfbed),await _0x2dfbed,this[_0x5bb28d(0x951)]+=0x1;const _0x56c38f=this['transactionQueue'][_0x5bb28d(0x5af)];for(;this[_0x5bb28d(0x886)][_0x5bb28d(0x5af)]>0x0;){const _0x448eb4=this['transactionQueue'][_0x5bb28d(0x514)]();await this[_0x5bb28d(0x2dd)](_0x448eb4);}this[_0x5bb28d(0x569)](),await this[_0x5bb28d(0x3ba)],this[_0x5bb28d(0xd2)](_0x72c377,_0x56c38f);}async[_0x1833fc(0x248)](){const _0x324694=_0x1833fc;return await this[_0x324694(0x2ee)],this['isComputingMMR']?(this[_0x324694(0x7be)]||(this[_0x324694(0x7be)]=this[_0x324694(0x17c)]()),await this['rootComputationPromise']):this[_0x324694(0x55a)];}['getPeaks'](){const _0x45c5c6=_0x1833fc;return this[_0x45c5c6(0xf0)][_0x45c5c6(0x84d)](({hash:_0x5e245d,height:_0x18af68})=>({'hash':_0x5e245d,'height':_0x18af68}));}[_0x1833fc(0x453)](){return this['totalNodes'];}[_0x1833fc(0x84c)](_0x205480){const _0x1f538f=_0x1833fc;return this[_0x1f538f(0xf0)]['find'](_0x23512b=>_0x23512b[_0x1f538f(0x2e5)]===_0x205480);}async['hashNodes'](_0x59204f,_0x23d798){const _0x5b891e=_0x1833fc;return await this[_0x5b891e(0x4b9)](_0x59204f+_0x23d798);}async[_0x1833fc(0x876)](_0x1571bd){const _0x2e89a7=_0x1833fc;return await this['computeHash'](JSON[_0x2e89a7(0x33b)](_0x1571bd));}['comparePeaks'](_0x3a6e7e){const _0x40c7de=_0x1833fc,_0x25fe61=this[_0x40c7de(0x397)](),_0x257f1b=[],_0x497a1f=[],_0x40bb72=[];for(const _0x3ca5f8 of _0x25fe61){const _0x15760f=_0x3a6e7e[_0x40c7de(0x33e)](_0x253973=>_0x253973[_0x40c7de(0x2e5)]===_0x3ca5f8[_0x40c7de(0x2e5)]);_0x15760f?_0x3ca5f8['hash']!==_0x15760f[_0x40c7de(0x49f)]&&_0x257f1b[_0x40c7de(0x5ed)]({'height':_0x3ca5f8['height'],'localPeak':_0x3ca5f8,'remotePeak':_0x15760f}):_0x497a1f[_0x40c7de(0x5ed)](_0x3ca5f8);}for(const _0x595008 of _0x3a6e7e)_0x25fe61[_0x40c7de(0x33e)](_0x502259=>_0x502259[_0x40c7de(0x2e5)]===_0x595008[_0x40c7de(0x2e5)])||_0x40bb72[_0x40c7de(0x5ed)](_0x595008);return{'differingPeaks':_0x257f1b,'peaksMissingInRemote':_0x497a1f,'peaksMissingInLocal':_0x40bb72};}async['recomputeRoot'](){const _0x414477=_0x1833fc;this[_0x414477(0x129)]=!0x0;const _0x4fcd15=this[_0x414477(0xf0)][_0x414477(0x84d)](_0x6eeb17=>_0x6eeb17[_0x414477(0x49f)]);return this['cachedRoot']=await this[_0x414477(0x3a5)](_0x4fcd15),this['isComputingMMR']=!0x1,this[_0x414477(0x7be)]=null,this[_0x414477(0x569)](),this[_0x414477(0x55a)];}async[_0x1833fc(0x4b9)](_0x423808){const _0x45dd65=_0x1833fc;try{const _0x28973a=new TextEncoder()[_0x45dd65(0x35e)](_0x423808),_0x1ed8bc=await crypto[_0x45dd65(0x6cb)]['digest'](_0x45dd65(0x8f0),_0x28973a);return Array['from'](new Uint8Array(_0x1ed8bc))[_0x45dd65(0x84d)](_0x5b7788=>_0x5b7788[_0x45dd65(0x687)](0x10)[_0x45dd65(0x3f5)](0x2,'0'))[_0x45dd65(0x784)]('');}catch(_0x49088d){return console[_0x45dd65(0x657)](_0x45dd65(0x50c),_0x49088d),this['computeHash'](_0x423808);}}async[_0x1833fc(0x3a5)](_0x180a33){const _0x5df0e9=_0x1833fc;return await this[_0x5df0e9(0x4b9)](_0x180a33[_0x5df0e9(0x784)](''));}async[_0x1833fc(0x6bf)](_0x587b95){const _0x29443b=_0x1833fc;for(;this[_0x29443b(0xf0)][_0x29443b(0x5af)]>0x0&&this[_0x29443b(0xf0)][this[_0x29443b(0xf0)][_0x29443b(0x5af)]-0x1][_0x29443b(0x2e5)]===_0x587b95['height'];){const _0x1d2bfa=this['peaks'][_0x29443b(0x25a)]();_0x587b95={'hash':await this['hashNodes'](_0x1d2bfa[_0x29443b(0x49f)],_0x587b95['hash']),'left':_0x1d2bfa,'right':_0x587b95,'height':_0x587b95[_0x29443b(0x2e5)]+0x1};}this['peaks'][_0x29443b(0x5ed)](_0x587b95),await this[_0x29443b(0x17c)]();}[_0x1833fc(0xd2)](_0x314536,_0x13a445){const _0x443965=_0x1833fc;if(!_0x380207['isChannelEnabled'](_0x381da1['KeyValueDatabase']))return;this[_0x443965(0x53f)]&&clearTimeout(this[_0x443965(0x53f)]);const _0xf0ffd0=Date[_0x443965(0x1d5)]();this[_0x443965(0x53f)]=setTimeout(()=>_0x380207[_0x443965(0x41b)](_0x381da1[_0x443965(0x9d1)],_0x443965(0x12f),this['cachedRoot'],_0x443965(0x68c),this[_0x443965(0x453)](),'queueLength',_0x13a445,_0x443965(0x9b9),_0xf0ffd0-_0x314536),0x7d0);}[_0x1833fc(0x569)](){const _0x421697=_0x1833fc;this[_0x421697(0x349)]&&clearTimeout(this['debounceReadyTimeout']),this['debounceReadyTimeout']=setTimeout(async()=>{const _0x18c08c=_0x421697;try{const _0x307e82=this[_0x18c08c(0x3ec)];if(this[_0x18c08c(0x3ec)]=[],await Promise[_0x18c08c(0x3f0)](_0x307e82),this[_0x18c08c(0x4dd)]-=_0x307e82[_0x18c08c(0x5af)],this[_0x18c08c(0x3ec)][_0x18c08c(0x5af)]>0x0||this[_0x18c08c(0x4dd)]>0x0)return this[_0x18c08c(0x569)]();this['readyResolve']&&(this['readyResolve'](),this[_0x18c08c(0x464)]=null),this[_0x18c08c(0x2ee)]=Promise[_0x18c08c(0x6cf)](),this['isComputingMMR']=!0x1;}catch(_0x31aa66){console[_0x18c08c(0x657)](_0x18c08c(0x216),_0x31aa66);}},0xa);}}const _0x19ffb2=['PeerConnection','Node','Content',_0x1833fc(0x50a),'Stats',_0x1833fc(0x20d),'Remediation'],_0x40fe4d=[[_0x1833fc(0x588),'Answer',_0x1833fc(0x3ad),'Success',_0x1833fc(0x35a),_0x1833fc(0x2e4),'Disconnect',_0x1833fc(0x509),'OptimizationConnectionSuccess'],['NodeJoin',_0x1833fc(0x1bf),_0x1833fc(0xfb),_0x1833fc(0x806)],[_0x1833fc(0x379),_0x1833fc(0x240),_0x1833fc(0x280),_0x1833fc(0x5db),_0x1833fc(0x4a4),_0x1833fc(0x5c9),'CloseObjectStoreBucket',_0x1833fc(0x524),_0x1833fc(0x86b),_0x1833fc(0x859),_0x1833fc(0x4b2),_0x1833fc(0x946),_0x1833fc(0x8f2),_0x1833fc(0x3d7),_0x1833fc(0x693),'KeyValueDatabaseRequestPeakTransactions',_0x1833fc(0x7a4),_0x1833fc(0x508),_0x1833fc(0x525),_0x1833fc(0x777),_0x1833fc(0x305),_0x1833fc(0x356),_0x1833fc(0x62f),_0x1833fc(0x99d),_0x1833fc(0x974),'SubscribeMediaStream','UnpublishMediaStream',_0x1833fc(0x73f),_0x1833fc(0x5ec),_0x1833fc(0x5bc)],[_0x1833fc(0x412),_0x1833fc(0x5ec),_0x1833fc(0x5e6),_0x1833fc(0x420),_0x1833fc(0x4b5),_0x1833fc(0x53a)],[_0x1833fc(0x5ce),_0x1833fc(0x19c)],['Problem'],[_0x1833fc(0x826),_0x1833fc(0x3a9)]];function _0x53c0ee(_0x153774){const _0x2571bd=_0x1833fc;return{..._0x153774,'systemMessageType':_0x19ffb2[_0x153774['messageType']],'systemContentMessageType':_0x40fe4d[_0x153774[_0x2571bd(0x625)]][_0x153774[_0x2571bd(0x3ff)]['type']]};}const _0x393a60={'hour':'2-digit','minute':_0x1833fc(0x351),'second':_0x1833fc(0x351)};function _0x225d0e(_0x3de889,_0x241ca1){const _0x540fcc=_0x1833fc,_0x2f580e=(function(){const _0x291139=a0_0x17c7,_0x1d88c5=new Date(),_0x5ddc2e=_0x1d88c5[_0x291139(0x260)](),_0x1e98f2=_0x1d88c5[_0x291139(0x255)]('en-US',_0x393a60)[_0x291139(0x1b3)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x1e98f2+'.'+(_0x5ddc2e>0x64?''+_0x5ddc2e:_0x5ddc2e>0xa?'0'+_0x5ddc2e:'00'+_0x5ddc2e);}()),{sourceId:_0x46b830,destinationIds:_0x5a1586,systemMessageType:_0x224386,systemContentMessageType:_0x32b448}=_0x53c0ee(_0x3de889);return _0x2f580e+_0x540fcc(0x7e2)+_0x241ca1+_0x540fcc(0x7e2)+(_0x46b830===_0x241ca1?_0x540fcc(0x29b)+_0x224386+'\x27\x20to\x20'+(_0x5a1586?''+_0x5a1586:_0x540fcc(0x6e7)):_0x3de889['sourceId']===_0x2d04b1?'Internal\x20event\x20\x27'+_0x224386+'\x27':(_0x5a1586?'':'Everyone\x20')+_0x540fcc(0x273)+_0x224386+'\x27\x20from\x20'+_0x46b830)+'\x20with\x20\x27'+_0x32b448+_0x540fcc(0x57a);}function _0x2578da(_0x281cbc,_0x365db6){const _0x40c0a9=_0x1833fc;if(!_0x380207['isChannelEnabled'](_0x281cbc))return;if(_0x152c14[_0x40c0a9(0x395)])return;if(_0x40c0a9(0x384)==typeof process)return;const _0x4249b5=process[_0x40c0a9(0x1f9)]();console[_0x40c0a9(0x41b)]('Memory\x20Usage\x20at\x20'+_0x365db6+':');for(const _0x3f02fe in _0x4249b5)console['log']('\x20\x20'+_0x3f02fe+':\x20'+(_0x4249b5[_0x3f02fe]/0x400/0x400)[_0x40c0a9(0x6d1)](0x2)+_0x40c0a9(0x7d5));}function _0x3938f0(_0x5abb81,_0x53dec6){const _0x2bd336=_0x1833fc;if(!_0x380207[_0x2bd336(0x3c6)](_0x53dec6))return _0x380207[_0x2bd336(0x526)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x53dec6),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x394e93,_0xa7381a)=>_0xa7381a}};let _0x463b2c=0x0;return{'timingLogger':((()=>{const _0x5d0f3c=_0x2bd336;let _0xea340b=Date[_0x5d0f3c(0x1d5)]();return{'start':()=>{const _0x1018bd=_0x5d0f3c;_0xea340b=Date[_0x1018bd(0x1d5)]();},'now':()=>Date['now'](),'logWaitTime':_0x1c8c62=>{const _0x77024a=_0x5d0f3c;_0x463b2c+=Date[_0x77024a(0x1d5)]()-_0xea340b,_0x380207[_0x77024a(0x41b)](_0x53dec6,_0x1c8c62,_0x463b2c+'ms',_0x5abb81);}};})()),'logger':{'log':(_0x2b8355,_0x11e7c1=()=>{})=>{const _0x245c76=_0x2bd336,_0x41bbf7=_0x11e7c1();_0x41bbf7?_0x380207[_0x245c76(0x41b)](_0x53dec6,_0x2b8355,_0x41bbf7,_0x5abb81):_0x380207['log'](_0x53dec6,_0x2b8355,_0x5abb81);},'performCalculation':(_0x4f84e7,_0x47003f)=>_0x4f84e7()}};}function _0x295338(_0x282acd){const _0xc61cad=_0x1833fc;return _0xc61cad(0x384)==typeof Buffer?0x0:Buffer['byteLength'](JSON[_0xc61cad(0x33b)](_0x282acd),_0xc61cad(0x795));}function _0x2d1c96(_0x21e4e7){const _0x263632=_0x1833fc;if(0x0===_0x21e4e7)return'0\x20B';const _0x3eb0bf=Math[_0x263632(0x53d)](Math['log'](_0x21e4e7)/Math['log'](0x400));return parseFloat((_0x21e4e7/Math[_0x263632(0x688)](0x400,_0x3eb0bf))[_0x263632(0x6d1)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x3eb0bf];}class _0x152f10 extends _0x25ea81{[_0x1833fc(0x86c)];[_0x1833fc(0x81a)];[_0x1833fc(0x889)];[_0x1833fc(0x9b4)];['db'];['dbKey'];['tables']=new Map();[_0x1833fc(0x33f)];[_0x1833fc(0x6c1)];['tableUnsubscriber'];['isSync'];['syncResolve'];[_0x1833fc(0x506)]=[];[_0x1833fc(0x354)]=()=>{};['syncTimeout'];[_0x1833fc(0x457)]=_0x137e7e();['listenerUnsubscriber'];[_0x1833fc(0x7c1)]=[];[_0x1833fc(0x1fb)];[_0x1833fc(0x652)];[_0x1833fc(0x391)]=0x0;['reads']=0x0;['contentRequestSent']=!0x1;[_0x1833fc(0x63a)]=new _0x2c45c0();[_0x1833fc(0x827)]=new Map();['transactions']=[];[_0x1833fc(0x3f4)];['transactionsToAppend']=[];[_0x1833fc(0x27f)];constructor(_0x6ce862,_0x1f4fb2,_0x40cb4e,_0x308259,_0x1b1687,_0x2ec1a8,_0x4ed0fe){const _0x2cec3f=_0x1833fc;if(_0x2cec3f(0xf8)!=typeof _0x1f4fb2)throw new _0x3b1f45(_0x5bdcd2[_0x2cec3f(0x2f6)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x6ce862,_0x1f4fb2),this[_0x2cec3f(0x86c)]=_0x6ce862,this[_0x2cec3f(0x81a)]=_0x40cb4e,this[_0x2cec3f(0x889)]=_0x308259,this['isNodeReady']=_0x4ed0fe,this[_0x2cec3f(0x570)]=_0x2cec3f(0x496)+this[_0x2cec3f(0x889)]+'ccc'+this[_0x2cec3f(0x81a)]+'ccc'+this[_0x2cec3f(0x671)],this[_0x2cec3f(0x33f)]=_0x137e7e(),this[_0x2cec3f(0x27f)]=function(_0x555f9b,_0x29835a){const _0x14a942=_0x2cec3f;if(!_0x380207['isChannelEnabled'](_0x29835a))return _0x380207[_0x14a942(0x526)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x29835a),{..._0x3938f0(_0x555f9b,_0x29835a),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x14a942(0x55b),'dataReceived':'0\x20B'})};const {timingLogger:_0x31b406,logger:_0x7bf604}=_0x3938f0(_0x555f9b,_0x29835a);let _0x512d5f=0x0,_0x4859d2=0x0;return{'timingLogger':_0x31b406,'logger':_0x7bf604,'logDataSent':(_0x2161bf,_0x45179e=!0x1)=>{const _0x3a20d2=_0x295338(_0x2161bf);return _0x45179e&&_0x380207['log'](_0x29835a,'Data\x20Sent',_0x555f9b,_0x3a20d2),_0x512d5f+=_0x3a20d2,_0x3a20d2;},'logDataReceived':(_0x1437b8,_0x2297c6=!0x1)=>{const _0x32e629=_0x14a942,_0xf84fe6=_0x295338(_0x1437b8);return _0x2297c6&&_0x380207[_0x32e629(0x41b)](_0x29835a,_0x32e629(0x91d),_0x555f9b,_0xf84fe6),_0x4859d2+=_0xf84fe6,_0xf84fe6;},'getDataLogged':()=>({'dataSent':_0x2d1c96(_0x512d5f),'dataReceived':_0x2d1c96(_0x4859d2)})};}(this[_0x2cec3f(0x671)],_0x381da1[_0x2cec3f(0x9d1)]),this[_0x2cec3f(0x357)]=new Promise(_0x2ec5e7=>{const _0x28d381=_0x2cec3f;this[_0x28d381(0x338)]=_0x2ec5e7;}),_0x1b1687 instanceof _0x4aeea2)this[_0x2cec3f(0x1fb)]=_0x1b1687[_0x2cec3f(0x95a)]();else{const [_0x5195ff,_0x52a18f]=_0x4aeea2[_0x2cec3f(0x848)](_0x1b1687);if(!_0x5195ff)throw new _0x3b1f45(_0x5bdcd2[_0x2cec3f(0x44d)],_0x2cec3f(0x66b)+_0x52a18f);this[_0x2cec3f(0x1fb)]=structuredClone(_0x1b1687);}this[_0x2cec3f(0x118)](this[_0x2cec3f(0x1fb)]),this['db']=new _0x2ec1a8(this[_0x2cec3f(0x570)],this[_0x2cec3f(0x1fb)]),this[_0x2cec3f(0x153)]();}async[_0x1833fc(0x845)](_0x3ae3bc,_0x47499c){const _0xae80f3=_0x1833fc;if(_0x380207['log'](_0x381da1[_0xae80f3(0x9d1)],_0xae80f3(0x5f0),this[_0xae80f3(0x671)]),!this[_0xae80f3(0x6c1)])throw new _0x4511be(_0x4511be[_0xae80f3(0x2a2)][_0xae80f3(0x77a)]);if(await this[_0xae80f3(0x357)],await this[_0xae80f3(0x9b4)](_0x3ae3bc),await this[_0xae80f3(0x63a)][_0xae80f3(0x248)]()===_0x47499c){const _0x474074={'sourceId':this[_0xae80f3(0x86c)][_0xae80f3(0x76b)](),'destinationIds':[_0x3ae3bc],'propagate':!0x0,'messageType':_0x35033d[_0xae80f3(0x7f4)],'content':{'type':_0x5e5186[_0xae80f3(0x693)],'label':this[_0xae80f3(0x671)],'mmrRoot':_0x47499c}};return this[_0xae80f3(0x27f)][_0xae80f3(0x7b0)](_0x474074),void this[_0xae80f3(0x3a7)]['publish'](_0x474074);}const _0x2cdf39=this[_0xae80f3(0x63a)][_0xae80f3(0x397)](),_0x1c605e={'sourceId':this[_0xae80f3(0x86c)][_0xae80f3(0x76b)](),'destinationIds':[_0x3ae3bc],'propagate':!0x0,'messageType':_0x35033d['Content'],'content':{'type':_0x5e5186[_0xae80f3(0x3d7)],'label':this[_0xae80f3(0x671)],'peaks':_0x2cdf39}};this[_0xae80f3(0x27f)][_0xae80f3(0x7b0)](_0x1c605e),this[_0xae80f3(0x3a7)][_0xae80f3(0x9e5)](_0x1c605e);}async['processContentSynchronized'](_0x352ecf,_0x5f5334){const _0x11d4b7=_0x1833fc,_0x55f6f5=await this['mmr']['getRoot'](),_0x26da7f=_0x55f6f5===_0x5f5334;if(_0x380207['log'](_0x381da1[_0x11d4b7(0x9d1)],_0x11d4b7(0x28e)+_0x352ecf+_0x11d4b7(0x6c2)+_0x26da7f,this[_0x11d4b7(0x671)]),_0x26da7f)return this[_0x11d4b7(0x7da)](),void this[_0x11d4b7(0x3ef)]();_0x380207[_0x11d4b7(0x41b)](_0x381da1[_0x11d4b7(0x9d1)],'ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',_0x55f6f5,_0x5f5334),_0x380207['warning'](_0x11d4b7(0x163),{'nodeId':this[_0x11d4b7(0x86c)][_0x11d4b7(0x76b)](),'nodeType':this['localNode'][_0x11d4b7(0x339)],'remoteId':_0x352ecf,'data':{'localMMRRoot':_0x55f6f5,'remoteMMRRoot':_0x5f5334}});const _0x26b2f2={'sourceId':this[_0x11d4b7(0x86c)][_0x11d4b7(0x76b)](),'messageType':_0x35033d[_0x11d4b7(0x7f4)],'propagate':!0x0,'content':{'type':_0x5e5186[_0x11d4b7(0x777)],'label':this[_0x11d4b7(0x671)],'mmrRoot':_0x55f6f5}};this['systemTopic']['publish'](_0x26b2f2);}async[_0x1833fc(0x143)](_0x5e128f,_0x392669){const _0x469189=_0x1833fc;if(_0x380207[_0x469189(0x41b)](_0x381da1[_0x469189(0x9d1)],'Received\x20content\x20available\x20from\x20node',_0x5e128f,_0x469189(0x671),this[_0x469189(0x671)],_0x469189(0xf0),_0x392669),this[_0x469189(0x92e)])return;this[_0x469189(0x92e)]=!0x0,this[_0x469189(0x7da)]();const {differingPeaks:_0x1f2b31,peaksMissingInLocal:_0x7d30f,peaksMissingInRemote:_0x5a4922}=this[_0x469189(0x63a)][_0x469189(0x97a)](_0x392669);_0x380207[_0x469189(0x41b)](_0x381da1[_0x469189(0x9d1)],_0x469189(0x3e1),{'differingPeaks':_0x1f2b31,'peaksMissingInLocal':_0x7d30f,'peaksMissingInRemote':_0x5a4922});const _0x15b41e={'sourceId':this['localNode'][_0x469189(0x76b)](),'destinationIds':[_0x5e128f],'propagate':!0x0,'messageType':_0x35033d[_0x469189(0x7f4)],'content':{'type':_0x5e5186[_0x469189(0x22a)],'label':this[_0x469189(0x671)],'peakHeights':_0x7d30f[_0x469189(0x84d)](_0x21a829=>_0x21a829[_0x469189(0x2e5)])[_0x469189(0x660)](_0x1f2b31[_0x469189(0x84d)](_0x4302e2=>_0x4302e2[_0x469189(0x2e5)]))}};if(this[_0x469189(0x3a7)][_0x469189(0x9e5)](_0x15b41e),_0x1f2b31[_0x469189(0x5af)]>0x0||_0x5a4922['length']>0x0){const _0x4a6307=_0x5a4922[_0x469189(0x84d)](_0x15991f=>_0x15991f[_0x469189(0x2e5)])[_0x469189(0x660)](_0x1f2b31[_0x469189(0x84d)](_0x44cda5=>_0x44cda5['height']));await this[_0x469189(0x4e4)](_0x5e128f,_0x4a6307,!0x0);}}async[_0x1833fc(0x4e4)](_0xdc4992,_0x253391,_0x364e11=!0x1){const _0x11bc27=_0x1833fc;_0x380207['log'](_0x381da1[_0x11bc27(0x9d1)],_0x11bc27(0x536),this[_0x11bc27(0x671)]);const _0x384dfd=_0x253391[_0x11bc27(0x84d)](_0x561c7a=>this['mmr']['getPeakNode'](_0x561c7a))['filter'](Boolean);if(!_0x384dfd[_0x11bc27(0x5af)]||_0x253391['length']!==_0x384dfd['length'])throw new _0x4511be(_0x4511be[_0x11bc27(0x2a2)][_0x11bc27(0x561)],{'message':_0x11bc27(0x2c2),'peakHeights':_0x253391,'peaks':_0x384dfd[_0x11bc27(0x84d)](_0x36ab12=>_0x36ab12['height']),'nodeId':_0xdc4992});const _0x681397=[];for(const _0x3538d6 of _0x384dfd)this[_0x11bc27(0x159)](_0x3538d6,_0x681397);const _0x30fc09=_0x364e11?void 0x0:[_0xdc4992],_0x2902c0={'sourceId':this[_0x11bc27(0x86c)][_0x11bc27(0x76b)](),'destinationIds':_0x30fc09,'messageType':_0x35033d[_0x11bc27(0x7f4)],'propagate':!0x0,'content':{'type':_0x5e5186['KeyValueDatabaseSendTransactions'],'label':this[_0x11bc27(0x671)],'transactions':_0x681397}};this[_0x11bc27(0x27f)][_0x11bc27(0x7b0)](_0x2902c0),this[_0x11bc27(0x3a7)][_0x11bc27(0x9e5)](_0x2902c0);}async[_0x1833fc(0x95c)](_0x151d0f,_0x437e57){const _0x6b0c8c=_0x1833fc;_0x380207['log'](_0x381da1['KeyValueDatabase'],_0x6b0c8c(0x9ad)+_0x437e57[_0x6b0c8c(0x5af)]+'\x20transactions\x20from\x20node\x20'+_0x151d0f+_0x6b0c8c(0x7e2)+this[_0x6b0c8c(0x671)]);for(const _0x3fb2d7 of _0x437e57){const _0x5ec13e=await this['transactionTable'][_0x6b0c8c(0x264)](_0x3fb2d7['id']);if(!(_0x5ec13e&&this[_0x6b0c8c(0x29c)](_0x5ec13e,_0x3fb2d7)>=0x0)){if(_0x3fb2d7[_0x6b0c8c(0x621)]===_0x395fe6[_0x6b0c8c(0x9e9)]){const [_0x1736bf,_0x5bef8f]=_0x3fb2d7['id'][_0x6b0c8c(0x6ca)]('::'),_0x57a1b7=this[_0x6b0c8c(0x3b9)](_0x1736bf);await _0x57a1b7['delete'](_0x5bef8f);}else this['transactionsToSync'][_0x6b0c8c(0x5ed)](_0x3fb2d7['id']);}}if(_0x380207[_0x6b0c8c(0x41b)](_0x381da1[_0x6b0c8c(0x9d1)],_0x6b0c8c(0x25d)+this[_0x6b0c8c(0x506)][_0x6b0c8c(0x5af)]+'\x20new\x20transactions',this[_0x6b0c8c(0x671)]),this[_0x6b0c8c(0x506)]['length']>0x0){const _0x2d87fe={'sourceId':this[_0x6b0c8c(0x86c)][_0x6b0c8c(0x76b)](),'destinationIds':[_0x151d0f],'messageType':_0x35033d[_0x6b0c8c(0x7f4)],'propagate':!0x0,'content':{'type':_0x5e5186[_0x6b0c8c(0x7a4)],'label':this[_0x6b0c8c(0x671)],'transactionIds':this[_0x6b0c8c(0x506)]}};this[_0x6b0c8c(0x27f)][_0x6b0c8c(0x7b0)](_0x2d87fe),this[_0x6b0c8c(0x3a7)]['publish'](_0x2d87fe);}}[_0x1833fc(0x780)](){const _0x577d28=_0x1833fc;this[_0x577d28(0x153)]();}[_0x1833fc(0x4ba)](){const _0x2a36b7=_0x1833fc;return _0x4f9f07[_0x2a36b7(0x30a)][_0x2a36b7(0x9d1)];}[_0x1833fc(0x24c)](){const _0x4cd481=_0x1833fc;this['db'][_0x4cd481(0x244)](),this[_0x4cd481(0x9e7)]?.(),clearTimeout(this[_0x4cd481(0x652)]),delete this['debounceStats'],super['destroy']();}[_0x1833fc(0x244)](){const _0x2a4bc4=_0x1833fc;this[_0x2a4bc4(0x7da)](),this[_0x2a4bc4(0x3a7)][_0x2a4bc4(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x2a4bc4(0x7f4)],'content':{'type':_0x5e5186[_0x2a4bc4(0x4a4)],'label':this['label']}});}[_0x1833fc(0x3b9)](_0xcd37f9){const _0x4b2dd5=_0x1833fc,_0x1605b2=this[_0x4b2dd5(0x491)]['get'](_0xcd37f9);if(_0x1605b2)return _0x1605b2;try{if(!this['db'][_0x4b2dd5(0x853)](_0xcd37f9))throw new _0x3b1f45(_0x5bdcd2[_0x4b2dd5(0x4b0)],'Table\x20not\x20found');const _0x1809b1=new _0x11e0c0(this['db']['getTableConnector'](_0xcd37f9),_0xcd37f9,this[_0x4b2dd5(0x33f)]);return this[_0x4b2dd5(0x491)][_0x4b2dd5(0x174)](_0xcd37f9,_0x1809b1),{'get':_0x1809b1['get'][_0x4b2dd5(0x6e2)](_0x1809b1),'set':_0x1809b1[_0x4b2dd5(0x174)]['bind'](_0x1809b1),'add':_0x1809b1['add']['bind'](_0x1809b1),'delete':_0x1809b1[_0x4b2dd5(0x8be)][_0x4b2dd5(0x6e2)](_0x1809b1),'clear':_0x1809b1[_0x4b2dd5(0x67d)][_0x4b2dd5(0x6e2)](_0x1809b1),'list':_0x1809b1[_0x4b2dd5(0xf7)][_0x4b2dd5(0x6e2)](_0x1809b1),'count':_0x1809b1[_0x4b2dd5(0x4b6)]['bind'](_0x1809b1),'subscribe':_0x1809b1[_0x4b2dd5(0x456)]['bind'](_0x1809b1),'unsubscribe':_0x1809b1['unsubscribe'][_0x4b2dd5(0x6e2)](_0x1809b1)};}catch(_0x3b60f0){if(_0x3b60f0 instanceof _0x3b1f45)throw _0x3b60f0;throw new _0x3b1f45(_0x5bdcd2[_0x4b2dd5(0x755)],_0x4b2dd5(0x6f0));}}['subscribe'](_0x236915){const _0x5987ab=_0x1833fc;this['listenerUnsubscriber']=this[_0x5987ab(0x457)]['subscribe'](_0x236915),this[_0x5987ab(0x77e)](this[_0x5987ab(0x357)])['then'](_0x561a11=>{const _0x4a8773=_0x5987ab;_0x561a11&&this[_0x4a8773(0x457)]['publish']({'event':_0x4f9f07[_0x4a8773(0x16d)][_0x4a8773(0x1a4)]});});}[_0x1833fc(0x788)](){const _0x1e6eb2=_0x1833fc;this[_0x1e6eb2(0x8d0)]?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x1833fc(0x4d0)](){const _0x4d40e2=_0x1833fc;_0x2578da(_0x381da1['KeyValueDatabase'],_0x4d40e2(0x9a8));const _0x3ab07e=[_0x2112dc,_0x584ad4],_0x5ac390=[];try{await this['db'][_0x4d40e2(0x4d0)]();const _0xf29e38=this['db']['getTableConnector'](_0x584ad4),_0x59160f=await _0xf29e38[_0x4d40e2(0xf7)](),{id:_0x8deb56,layout:_0x318c70}=_0x59160f[0x0]??{};if(_0x318c70){for(const _0x4acf30 in _0x318c70)_0x3ab07e[_0x4d40e2(0x778)](_0x4acf30)||this['db'][_0x4d40e2(0x853)](_0x4acf30)||_0x5ac390[_0x4d40e2(0x5ed)](_0x4acf30);await _0xf29e38[_0x4d40e2(0x174)](_0x8deb56,{'layout':this[_0x4d40e2(0x1fb)]});}else await _0xf29e38[_0x4d40e2(0x720)]({'layout':this[_0x4d40e2(0x1fb)]});}catch(_0x2c9a2e){throw new _0x3b1f45(_0x5bdcd2[_0x4d40e2(0x755)],_0x2c9a2e[_0x4d40e2(0x96c)]||_0x4d40e2(0x1bd));}this[_0x4d40e2(0x89a)](),await this['buildInitialMMR'](),this[_0x4d40e2(0x7dd)](),this['setOnTableWriteHandler'](),_0x5ac390[_0x4d40e2(0x919)](_0xc96adc=>this['deleteTransactionsForTable'](_0xc96adc));}async[_0x1833fc(0x903)](_0x154a27,_0x3c5f81=()=>{},_0x25700d=!0x1){const _0x225094=_0x1833fc;if(!_0x154a27)return setTimeout(()=>{const _0x11ac1d=a0_0x17c7;this[_0x11ac1d(0x7da)](),this[_0x11ac1d(0x3ef)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this['timeoutCallback']=_0x3c5f81,this[_0x225094(0x54d)]=setTimeout(_0x3c5f81,0x7d0),!this['systemTopic'])throw new _0x4511be(_0x4511be[_0x225094(0x2a2)][_0x225094(0x310)]);const _0x5c1ef6=await this[_0x225094(0x63a)][_0x225094(0x248)](),_0x2aae8a={'sourceId':this[_0x225094(0x86c)]['getId'](),'messageType':_0x35033d[_0x225094(0x7f4)],'propagate':_0x25700d,'content':{'type':_0x5e5186[_0x225094(0x777)],'label':this[_0x225094(0x671)],'mmrRoot':_0x5c1ef6}};return this[_0x225094(0x27f)][_0x225094(0x7b0)](_0x2aae8a),this[_0x225094(0x3a7)][_0x225094(0x9e5)](_0x2aae8a),this[_0x225094(0x357)];}async[_0x1833fc(0x18f)](_0x488129,_0x268cd5){const _0x495af3=_0x1833fc;if(_0x380207['log'](_0x381da1[_0x495af3(0x9d1)],_0x495af3(0x9ab)+_0x268cd5[_0x495af3(0x5af)],this[_0x495af3(0x671)]),!this[_0x495af3(0x6c1)])throw new _0x4511be(_0x4511be[_0x495af3(0x2a2)][_0x495af3(0x77a)]);for(const _0x33d3ef of _0x268cd5){const _0x5e3898=await this['transactionTable'][_0x495af3(0x264)](_0x33d3ef);if(!_0x5e3898)continue;const [_0x439093,_0x342fac]=_0x33d3ef[_0x495af3(0x6ca)]('::'),_0x2cce4f=this['getTable'](_0x439093),_0x55e206=await _0x2cce4f[_0x495af3(0x264)](_0x342fac);_0x55e206?(_0x5e3898[_0x495af3(0x962)]=_0x55e206,this[_0x495af3(0x77c)](_0x5e3898,[_0x488129])):_0x380207[_0x495af3(0x6d6)](_0x495af3(0x1f8),{'nodeId':this[_0x495af3(0x86c)]['getId'](),'nodeType':this[_0x495af3(0x86c)][_0x495af3(0x339)],'remoteId':_0x488129,'data':{'tableKeys':Object['keys'](this[_0x495af3(0x491)]),'transactionId':_0x33d3ef,'transactions':this[_0x495af3(0x506)],'tableName':_0x439093,'key':_0x342fac}});}}async['writeTransaction'](_0x25e43c){const _0x536243=_0x1833fc;if(!this[_0x536243(0x6c1)])throw new _0x4511be(_0x4511be[_0x536243(0x2a2)][_0x536243(0x77a)]);const _0xdaae32=await this['mmr'][_0x536243(0x876)](_0x25e43c),_0x57f2ee=this['transactionHashMap'][_0x536243(0x264)](_0xdaae32);if(_0x57f2ee&&this[_0x536243(0x29c)](_0x25e43c,_0x57f2ee)<=0x0)return void _0x380207[_0x536243(0x41b)](_0x381da1['KeyValueDatabase'],_0x536243(0x8f5),_0x25e43c);const _0x2cda66={..._0x25e43c};return delete _0x2cda66[_0x536243(0x962)],this[_0x536243(0x172)](_0x2cda66),await this['transactionTable'][_0x536243(0x174)](_0x25e43c['id'],_0x2cda66),_0x25e43c;}[_0x1833fc(0x29c)](_0x471aab,_0x476a35){const _0x101e90=_0x1833fc;return _0x471aab[_0x101e90(0x964)]!==_0x476a35[_0x101e90(0x964)]?_0x471aab[_0x101e90(0x964)]-_0x476a35[_0x101e90(0x964)]:_0x471aab['priority']-_0x476a35[_0x101e90(0x208)];}async[_0x1833fc(0x907)](_0x4007aa){const _0x1001b7=_0x1833fc;if(!this[_0x1001b7(0x6c1)])throw new _0x4511be(_0x4511be[_0x1001b7(0x2a2)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x222a59=_0x4007aa[_0x1001b7(0x9e0)]+'::'+_0x4007aa['key'],_0x520f57=await _0xc81657[_0x1001b7(0x31f)](),_0x576320={'id':_0x222a59,'priority':Math[_0x1001b7(0x421)](),'timestamp':_0x520f57,'action':_0x4007aa[_0x1001b7(0x621)]};if(await this[_0x1001b7(0x2ba)](_0x576320))return _0x576320;}async[_0x1833fc(0x12e)](_0x5b9687){const _0x4e0a6a=_0x1833fc;if(!this['transactionTable'])throw new _0x4511be(_0x4511be['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x3bbda9=_0x1ccdfa[_0x4e0a6a(0x295)]('id')['where'](_0x4e0a6a(0x5d4),[_0x5b9687+'::',_0x5b9687+_0x4e0a6a(0x556)]),_0x5a0c46=await this[_0x4e0a6a(0x6c1)][_0x4e0a6a(0xf7)](_0x3bbda9[_0x4e0a6a(0x5a2)]());for(const _0x502147 of _0x5a0c46)await this['transactionTable'][_0x4e0a6a(0x8be)](_0x502147['id']);}[_0x1833fc(0x7dd)](){const _0x45ab26=_0x1833fc;this[_0x45ab26(0x521)](async(_0x5ec4dd,_0x1f636f)=>{const _0x3745a6=_0x45ab26;if(_0x1f636f instanceof File)return;if(this[_0x3745a6(0x27f)][_0x3745a6(0x834)](_0x1f636f),!await this[_0x3745a6(0x2ba)](_0x1f636f))return void this[_0x3745a6(0x807)](_0x5ec4dd,_0x1f636f);if(!_0x1f636f[_0x3745a6(0x962)])throw new _0x4511be(_0x4511be[_0x3745a6(0x2a2)]['KeyValueDatabaseTransactionValueNotSet']);const [_0x5b252d,_0xf63c8b]=_0x1f636f['id'][_0x3745a6(0x6ca)]('::'),_0xdf49be=this[_0x3745a6(0x3b9)](_0x5b252d);if(!_0xdf49be)throw new _0x4511be(_0x4511be[_0x3745a6(0x2a2)][_0x3745a6(0x425)],{'table':_0xdf49be});let _0x623232=0x0;switch(_0x1f636f[_0x3745a6(0x621)]){case _0x395fe6[_0x3745a6(0x1b5)]:case _0x395fe6[_0x3745a6(0x306)]:{const _0x47e19c=_0xdf49be[_0x3745a6(0x174)](_0xf63c8b,_0x1f636f[_0x3745a6(0x962)],!0x1);_0x623232=JSON[_0x3745a6(0x33b)](_0x1f636f[_0x3745a6(0x962)])[_0x3745a6(0x5af)],this['transactionsToSync'][_0x3745a6(0x778)](_0x1f636f['id'])&&this['syncTransactionsWritten'][_0x3745a6(0x5ed)](_0x47e19c);break;}case _0x395fe6[_0x3745a6(0x9e9)]:{const _0x50189a=_0xdf49be[_0x3745a6(0x8be)](_0xf63c8b,!0x1);this['transactionsToSync'][_0x3745a6(0x778)](_0x1f636f['id'])&&this[_0x3745a6(0x7c1)][_0x3745a6(0x5ed)](_0x50189a);break;}}_0x380207[_0x3745a6(0x82a)](_0x2ee7be['KeyValueDatabase'],{'type':_0x3745a6(0x903),'label':this[_0x3745a6(0x671)],'nodeId':this['localNode'][_0x3745a6(0x76b)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x3745a6(0x81a)],'tableName':_0x5b252d,'key':_0xf63c8b,'size':_0x623232}),this[_0x3745a6(0x807)](_0x5ec4dd,_0x1f636f);});}['setOnTableWriteHandler'](){const _0x145ebc=_0x1833fc;this['tableUnsubscriber']=this[_0x145ebc(0x33f)]['subscribe'](async _0x5f087e=>{const _0x31b99f=_0x145ebc;let _0x3bdd07=0x0;switch(_0x5f087e[_0x31b99f(0x621)]){case _0x395fe6[_0x31b99f(0x1b5)]:case _0x395fe6[_0x31b99f(0x306)]:case _0x395fe6[_0x31b99f(0x9e9)]:{const _0xe90f8c=await this['getTransactionFromTableWriteEvent'](_0x5f087e);if(!_0xe90f8c)return;_0xe90f8c[_0x31b99f(0x962)]=_0x5f087e['value'],this[_0x31b99f(0x77c)](_0xe90f8c),_0x3bdd07=JSON[_0x31b99f(0x33b)](_0x5f087e[_0x31b99f(0x962)])[_0x31b99f(0x5af)],this[_0x31b99f(0x391)]+=0x1;break;}case _0x1c8598['Get']:case _0x1c8598['List']:case _0x1c8598[_0x31b99f(0x769)]:this['reads']+=0x1;}_0x380207[_0x31b99f(0x82a)](_0x2ee7be[_0x31b99f(0x9d1)],{'type':_0x5f087e['action'],'label':this[_0x31b99f(0x671)],'nodeId':this[_0x31b99f(0x86c)]['getId'](),'nodeType':this[_0x31b99f(0x86c)][_0x31b99f(0x339)],'clusterId':this['clusterId'],'tableName':_0x5f087e[_0x31b99f(0x9e0)],'key':_0x5f087e['key'],'size':_0x3bdd07}),this['sendStats']();});}[_0x1833fc(0x89a)](){const _0x557dac=_0x1833fc;this['db']&&(this['transactionTable']||(this[_0x557dac(0x6c1)]=this['db']['getTableConnector'](_0x2112dc)));}['clearSyncTimeout'](){const _0x4cc3a2=_0x1833fc;this[_0x4cc3a2(0x54d)]&&(clearTimeout(this['syncTimeout']),delete this['syncTimeout']);}async['publishSyncCompleted'](){const _0x4fa74a=_0x1833fc;await this[_0x4fa74a(0x63a)][_0x4fa74a(0x3ba)],this['logSyncMetrics'](),this[_0x4fa74a(0x457)]['publish']({'event':_0x4f9f07[_0x4fa74a(0x16d)][_0x4fa74a(0x1a4)]}),this['syncResolve']?.(!0x0),delete this[_0x4fa74a(0x338)],this[_0x4fa74a(0x153)](),_0x380207['log'](_0x381da1[_0x4fa74a(0x9d1)],_0x4fa74a(0x342),this[_0x4fa74a(0x671)]);}async[_0x1833fc(0x719)](_0x1caa45){const _0x137e81=_0x1833fc;await Promise[_0x137e81(0x3f0)](this[_0x137e81(0x7c1)]),_0x380207[_0x137e81(0x41b)](_0x381da1[_0x137e81(0x9d1)],_0x137e81(0x74c)+this[_0x137e81(0x7c1)][_0x137e81(0x5af)]+_0x137e81(0x676)+_0x1caa45+'\x20completed.',this[_0x137e81(0x671)]),await this[_0x137e81(0x63a)][_0x137e81(0x3ba)],await this[_0x137e81(0x51b)](_0x1caa45),await this[_0x137e81(0x3ef)]();}['checkSyncComplete'](_0x4904bf,_0x231321){const _0x3e96c1=_0x1833fc;this[_0x3e96c1(0x506)][_0x3e96c1(0x778)](_0x231321['id'])&&(this[_0x3e96c1(0x7da)](),this[_0x3e96c1(0x506)]=this[_0x3e96c1(0x506)][_0x3e96c1(0x9a3)](_0x15930c=>_0x15930c!==_0x231321['id']),0x0!==this[_0x3e96c1(0x506)][_0x3e96c1(0x5af)]?this[_0x3e96c1(0x54d)]=setTimeout(this['timeoutCallback'],0x7d0):this[_0x3e96c1(0x719)](_0x4904bf));}[_0x1833fc(0x153)](){const _0x546c76=_0x1833fc;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x546c76(0x652)]=setTimeout(async()=>{const _0x1800c1=_0x546c76;delete this[_0x1800c1(0x652)];let _0xe97dae=0x0;for(const _0x372672 of this[_0x1800c1(0x491)][_0x1800c1(0x278)]())_0xe97dae+=await _0x372672[_0x1800c1(0x45a)]();this[_0x1800c1(0x3a7)][_0x1800c1(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x1800c1(0x7f4)],'content':{'type':_0x5e5186['KeyValueDatabaseStats'],'label':this[_0x1800c1(0x671)],'stats':{'timestamp':Date[_0x1800c1(0x1d5)](),'storage':_0xe97dae,'messagesSent':this[_0x1800c1(0x1f2)],'messagesReceived':this[_0x1800c1(0x7f2)],'bytesSent':this[_0x1800c1(0x9c2)],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x380207['logStorage'](_0x2ee7be['KeyValueDatabase'],'ccc'+this[_0x1800c1(0x81a)]+_0x1800c1(0x496)+this[_0x1800c1(0x671)],_0xe97dae);},_0x17f2b1);}['addReservedTables'](_0x5c7f29){const _0x1a856a=_0x1833fc;if(_0x5c7f29['tables'][_0x2112dc])throw new _0x3b1f45(_0x5bdcd2[_0x1a856a(0x3bd)],_0x1a856a(0x1de)+_0x2112dc+'\x27\x20reserved');if(_0x5c7f29[_0x1a856a(0x491)][_0x584ad4])throw new _0x3b1f45(_0x5bdcd2[_0x1a856a(0x3bd)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x584ad4+_0x1a856a(0x703));_0x5c7f29[_0x1a856a(0x491)][_0x2112dc]={'indexes':[]},_0x5c7f29['tables'][_0x584ad4]={'indexes':[]};}async[_0x1833fc(0x77e)](_0x57cb31){const _0x4f4ca9=_0x1833fc;return Promise[_0x4f4ca9(0x4de)]([_0x57cb31,Promise[_0x4f4ca9(0x6cf)](_0x4f4ca9(0x45c))])[_0x4f4ca9(0x107)](_0x392cc4=>_0x4f4ca9(0x45c)!==_0x392cc4);}async['confirmSynchronization'](_0x13aac8){const _0xa0b3fc=_0x1833fc;await this[_0xa0b3fc(0x378)]();const _0x58c674=await this['mmr'][_0xa0b3fc(0x248)](),_0x32bb02={'sourceId':this[_0xa0b3fc(0x86c)][_0xa0b3fc(0x76b)](),'destinationIds':[_0x13aac8],'propagate':!0x0,'messageType':_0x35033d[_0xa0b3fc(0x7f4)],'content':{'type':_0x5e5186['KeyValueDatabaseContentSynchronized'],'label':this[_0xa0b3fc(0x671)],'mmrRoot':_0x58c674}};this['systemTopic'][_0xa0b3fc(0x9e5)](_0x32bb02);}async[_0x1833fc(0x497)](){const _0x4255eb=_0x1833fc;if(!this['transactionTable'])throw new _0x4511be(_0x4511be[_0x4255eb(0x2a2)][_0x4255eb(0x77a)]);this[_0x4255eb(0x2f7)]=await this[_0x4255eb(0x6c1)][_0x4255eb(0xf7)](),this[_0x4255eb(0x2f7)][_0x4255eb(0x1e5)](this[_0x4255eb(0x29c)]),this[_0x4255eb(0x63a)]=new _0x2c45c0(),this[_0x4255eb(0x827)]=new Map();for(const _0x18cea5 of this[_0x4255eb(0x2f7)])this['appendTransactionAndUpdateHashMap'](_0x18cea5,this[_0x4255eb(0x2f7)][_0x4255eb(0x5af)]);this[_0x4255eb(0x981)]();}async[_0x1833fc(0x2d4)](_0x10bc6c,_0xc6d31b){const _0x1ca9f2=_0x1833fc,_0x3d9468={..._0x10bc6c};delete _0x3d9468[_0x1ca9f2(0x962)],await this[_0x1ca9f2(0x63a)][_0x1ca9f2(0x2dd)](_0x3d9468,_0xc6d31b);const _0x887dd7=await this[_0x1ca9f2(0x63a)]['hashTransaction'](_0x3d9468);this['transactionHashMap']['set'](_0x887dd7,_0x10bc6c);}['getTransactionByHash'](_0x1882e3){const _0x44fae0=_0x1833fc;return this['transactionHashMap'][_0x44fae0(0x264)](_0x1882e3);}[_0x1833fc(0x159)](_0x2349d6,_0x2e4f7c){const _0x1372aa=_0x1833fc;if(0x0!==_0x2349d6[_0x1372aa(0x2e5)])_0x2349d6[_0x1372aa(0x4e5)]&&this['collectTransactionsFromNode'](_0x2349d6[_0x1372aa(0x4e5)],_0x2e4f7c),_0x2349d6['right']&&this[_0x1372aa(0x159)](_0x2349d6[_0x1372aa(0x1af)],_0x2e4f7c);else{const _0x25ecdb=this[_0x1372aa(0x6d5)](_0x2349d6[_0x1372aa(0x49f)]);_0x25ecdb&&_0x2e4f7c[_0x1372aa(0x5ed)](_0x25ecdb);}}async[_0x1833fc(0x531)](){const _0x4c719e=_0x1833fc;this[_0x4c719e(0x3f4)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x4c719e(0x3f4)],this[_0x4c719e(0x66e)]['length']>0x0&&(this[_0x4c719e(0x2f7)][_0x4c719e(0x5ed)](...this[_0x4c719e(0x66e)]['sort'](this[_0x4c719e(0x29c)])),this[_0x4c719e(0x66e)]=[]));const _0x4ccfb1=this[_0x4c719e(0x7dc)]();this[_0x4c719e(0x63a)]=new _0x2c45c0(),this['transactionHashMap']['clear'](),this[_0x4c719e(0x2f7)][_0x4c719e(0x1e5)](this[_0x4c719e(0x29c)]);for(const _0x402ac0 of this[_0x4c719e(0x2f7)])this[_0x4c719e(0x2d4)](_0x402ac0,this[_0x4c719e(0x2f7)][_0x4c719e(0x5af)]);await this[_0x4c719e(0x63a)]['ready'],this[_0x4c719e(0x976)](_0x4ccfb1);}[_0x1833fc(0x7dc)](){const _0x5697a3=_0x1833fc;return this['loggingCycle'][_0x5697a3(0x28b)][_0x5697a3(0x471)](async()=>{const _0x35cc3e=_0x5697a3,_0x198259=await this['mmr'][_0x35cc3e(0x248)]();return{'startTime':Date[_0x35cc3e(0x1d5)](),'initialRoot':_0x198259};},Promise['resolve']({'startTime':0x0,'initialRoot':''}));}async[_0x1833fc(0x976)](_0x1a2bfd){const _0x1512ab=_0x1833fc;try{const {startTime:_0x5206e1,initialRoot:_0xb98040}=await _0x1a2bfd,_0x3250a4=await this[_0x1512ab(0x63a)][_0x1512ab(0x248)](),_0x4b8a8a=[_0x1512ab(0x61f)+(_0xb98040!==_0x3250a4),_0x1512ab(0x76c)+_0xb98040,'\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20'+_0x3250a4,_0x1512ab(0x740)+this[_0x1512ab(0x63a)][_0x1512ab(0x453)](),_0x1512ab(0x35c)+(Date[_0x1512ab(0x1d5)]()-_0x5206e1)+'\x20ms\x0a'][_0x1512ab(0x784)]('\x20');this[_0x1512ab(0x27f)][_0x1512ab(0x28b)][_0x1512ab(0x41b)]('',()=>_0x4b8a8a);}catch(_0x557873){console[_0x1512ab(0x657)](_0x1512ab(0x24d),_0x557873);}}[_0x1833fc(0x172)](_0x2ff329){const _0x891293=_0x1833fc;this['transactionsToAppend'][_0x891293(0x5ed)](_0x2ff329),this[_0x891293(0x3f4)]&&(clearTimeout(this['debounceRebuildMMR']),delete this['debounceRebuildMMR']),this['debounceRebuildMMR']=setTimeout(()=>{this['processTransactionsToComputeMMR']();},0x3e8);}async[_0x1833fc(0x378)](){const _0x3b56e5=_0x1833fc;if(this[_0x3b56e5(0x3f4)]&&(clearTimeout(this[_0x3b56e5(0x3f4)]),delete this['debounceRebuildMMR']),0x0!==this[_0x3b56e5(0x66e)][_0x3b56e5(0x5af)]){if(0x0===this['transactions'][_0x3b56e5(0x5af)])return this[_0x3b56e5(0x2f7)]=this['transactionsToAppend'],this[_0x3b56e5(0x66e)]=[],await this[_0x3b56e5(0x531)]();if(this[_0x3b56e5(0x66e)]['sort'](this['compareTransactions']),this['compareTransactions'](this['transactionsToAppend'][0x0],this[_0x3b56e5(0x2f7)][this[_0x3b56e5(0x2f7)][_0x3b56e5(0x5af)]-0x1])>0x0){this[_0x3b56e5(0x27f)][_0x3b56e5(0x28b)][_0x3b56e5(0x41b)](_0x3b56e5(0x404)+this[_0x3b56e5(0x66e)][_0x3b56e5(0x5af)]+',\x20Transactions:\x20'+this[_0x3b56e5(0x2f7)][_0x3b56e5(0x5af)]);for(const _0x1e2906 of this[_0x3b56e5(0x66e)])this[_0x3b56e5(0x2f7)]['push'](_0x1e2906),this[_0x3b56e5(0x2d4)](_0x1e2906,this['transactionsToAppend'][_0x3b56e5(0x5af)]);return this['transactionsToAppend']=[],void this['loggingCycle'][_0x3b56e5(0x28b)][_0x3b56e5(0x41b)](_0x3b56e5(0x731),async()=>_0x3b56e5(0x37e)+await this[_0x3b56e5(0x63a)][_0x3b56e5(0x248)]()+_0x3b56e5(0x564)+this[_0x3b56e5(0x63a)][_0x3b56e5(0x453)]());}this[_0x3b56e5(0x27f)]['logger'][_0x3b56e5(0x41b)](_0x3b56e5(0x7d0)+this[_0x3b56e5(0x66e)][_0x3b56e5(0x5af)]+_0x3b56e5(0x39b)+this['transactions'][_0x3b56e5(0x5af)]),this['transactions']['push'](...this[_0x3b56e5(0x66e)]),this[_0x3b56e5(0x66e)]=[],this[_0x3b56e5(0x531)]();}}async['logSyncMetrics'](){const _0x3772f6=_0x1833fc;if(!_0x380207[_0x3772f6(0x3c6)](_0x381da1[_0x3772f6(0x9d1)]))return;await this[_0x3772f6(0x63a)][_0x3772f6(0x3ba)];const {dataSent:_0x417e1f,dataReceived:_0x58fe39}=this[_0x3772f6(0x27f)][_0x3772f6(0x25c)]();_0x380207[_0x3772f6(0x41b)](_0x381da1[_0x3772f6(0x9d1)],_0x3772f6(0x58a),this[_0x3772f6(0x671)],_0x3772f6(0x140)+_0x417e1f,_0x3772f6(0x6c7)+_0x58fe39,_0x3772f6(0x450),await this[_0x3772f6(0x63a)][_0x3772f6(0x248)](),'\x0a\x20===\x20Total\x20Nodes:',this[_0x3772f6(0x63a)][_0x3772f6(0x453)]());}async['logInitialMMR'](){const _0x4c3c50=_0x1833fc;if(!_0x380207[_0x4c3c50(0x3c6)](_0x381da1[_0x4c3c50(0x9d1)]))return;const _0x556623=this[_0x4c3c50(0x63a)][_0x4c3c50(0x397)](),_0x22a176=_0x556623[_0x4c3c50(0x84d)](_0x1d1414=>_0x1d1414[_0x4c3c50(0x2e5)]),_0x4b5112=await this['mmr'][_0x4c3c50(0x248)]();_0x380207['log'](_0x381da1[_0x4c3c50(0x9d1)],_0x4c3c50(0x2ec),this[_0x4c3c50(0x2f7)][_0x4c3c50(0x5af)],_0x4c3c50(0x2f7),this[_0x4c3c50(0x63a)][_0x4c3c50(0x453)](),'totalNodes',_0x556623[_0x4c3c50(0x5af)],_0x4c3c50(0xf0),_0x22a176,_0x4c3c50(0x93f),_0x4b5112);}}const _0x88b2e4=require('@crewdle/mist-connector-opfs'),_0x366e21=require('@crewdle/mist-connector-indexed-db'),_0x55ee36=require('@crewdle/mist-connector-webrtc-browser'),_0x5c5c47=0x1fc00000;var _0x153237,_0x3fa342,_0x10e8a1,_0x16a03b,_0x1cb349,_0x1e07d3,_0x1b187c,_0xad16b8,_0x4cfab8;!function(_0x59b8fc){const _0x1724b4=_0x1833fc;_0x59b8fc[_0x1724b4(0x42e)]=_0x1724b4(0x42e),_0x59b8fc[_0x1724b4(0xe2)]='AudioOutput',_0x59b8fc['AudioVolume']=_0x1724b4(0x31c),_0x59b8fc['Backgrounds']='Backgrounds',_0x59b8fc[_0x1724b4(0x79f)]=_0x1724b4(0x79f),_0x59b8fc[_0x1724b4(0x2e8)]=_0x1724b4(0x2e8),_0x59b8fc[_0x1724b4(0x69a)]=_0x1724b4(0x69a),_0x59b8fc[_0x1724b4(0x972)]='ScreenSharing',_0x59b8fc[_0x1724b4(0x460)]='WebGL',_0x59b8fc[_0x1724b4(0x779)]=_0x1724b4(0x779);}(_0x153237||(_0x153237={}));class _0x36ed6a{[_0x1833fc(0x4d9)];[_0x1833fc(0x5bd)];[_0x1833fc(0x619)];constructor(_0xb76416=new Map(),_0x2782e5=new Map(),_0x28d45f=new EventTarget()){const _0xf46646=_0x1833fc;this[_0xf46646(0x4d9)]=_0xb76416,this[_0xf46646(0x5bd)]=_0x2782e5,this[_0xf46646(0x619)]=_0x28d45f;}['emit']=(_0x3a9505,_0x2e0ca8)=>this[_0x1833fc(0x4d9)][_0x1833fc(0x977)](_0x3a9505)?(_0x380207['log'](_0x381da1[_0x1833fc(0x66c)],_0x1833fc(0x947),{'event':_0x3a9505,'data':_0x2e0ca8}),this[_0x1833fc(0x619)]['dispatchEvent'](new CustomEvent(_0x3a9505,{'detail':_0x2e0ca8})),!0x0):(this[_0x1833fc(0x9a4)](_0x3a9505,_0x2e0ca8),!0x1);['on']=(_0x5e7a73,_0x2fe603)=>{const _0x3f0e92=_0x1833fc,_0x5e05f5=_0x26c7a7=>{const _0x38d00a=a0_0x17c7;_0x380207['log'](_0x381da1[_0x38d00a(0x66c)],_0x38d00a(0x2ff),_0x26c7a7[_0x38d00a(0x339)],_0x26c7a7[_0x38d00a(0x432)]),_0x2fe603(_0x26c7a7[_0x38d00a(0x432)]);};return this[_0x3f0e92(0x4d9)]['set'](_0x5e7a73,_0x5e05f5),this[_0x3f0e92(0x619)][_0x3f0e92(0x6d2)](_0x5e7a73,_0x5e05f5),_0x380207[_0x3f0e92(0x41b)](_0x381da1[_0x3f0e92(0x43c)],'Subscribing\x20to\x20an\x20event:\x20on',_0x5e7a73,_0x2fe603),this[_0x3f0e92(0x4ca)](_0x5e7a73),this;};[_0x1833fc(0x8b5)](_0x376188){const _0x170b86=_0x1833fc;if(!_0x376188)return this[_0x170b86(0x4d9)]['forEach']((_0x5e2432,_0x353e53)=>{const _0x2d6992=_0x170b86;this[_0x2d6992(0x619)][_0x2d6992(0x51e)](_0x353e53,_0x5e2432);}),void this[_0x170b86(0x4d9)][_0x170b86(0x67d)]();_0x170b86(0xf8)==typeof _0x376188&&this[_0x170b86(0x91e)](_0x376188),Array[_0x170b86(0x234)](_0x376188)&&_0x376188[_0x170b86(0x919)](_0x13afc6=>{const _0x5563ce=_0x170b86;this[_0x5563ce(0x91e)](_0x13afc6);});}[_0x1833fc(0x91e)](_0x3c0bd5){const _0x320685=_0x1833fc,_0x3e6dcc=this[_0x320685(0x4d9)][_0x320685(0x264)](_0x3c0bd5);_0x3e6dcc&&(this[_0x320685(0x619)][_0x320685(0x51e)](_0x3c0bd5,_0x3e6dcc),this[_0x320685(0x4d9)][_0x320685(0x8be)](_0x3c0bd5));}[_0x1833fc(0x9a4)](_0xaf001c,_0x179d84){const _0x2ac51b=_0x1833fc;_0x380207[_0x2ac51b(0x41b)](_0x381da1[_0x2ac51b(0x66c)],_0x2ac51b(0x5ca),{'event':_0xaf001c,'data':_0x179d84});const _0x451b64=this['bufferedEvents']['get'](_0xaf001c)||[];this[_0x2ac51b(0x5bd)]['set'](_0xaf001c,[..._0x451b64,_0x179d84]);}[_0x1833fc(0x4ca)](_0x1206ee){const _0x3604ec=_0x1833fc,_0x13b02f=this[_0x3604ec(0x5bd)][_0x3604ec(0x264)](_0x1206ee);_0x13b02f&&(_0x13b02f[_0x3604ec(0x919)](_0x65b6ba=>{const _0x263d15=_0x3604ec;_0x380207['log'](_0x381da1[_0x263d15(0x66c)],_0x263d15(0x392),{'event':_0x1206ee,'data':_0x65b6ba}),this[_0x263d15(0x619)][_0x263d15(0x517)](new CustomEvent(_0x1206ee,{'detail':_0x65b6ba}));}),this[_0x3604ec(0x5bd)][_0x3604ec(0x8be)](_0x1206ee));}}class _0x5056a6 extends Error{constructor(_0x330306){const _0x273dad=_0x1833fc;super(_0x273dad(0x3d0)+_0x330306);}}!function(_0x2605f6){const _0x57a1be=_0x1833fc;_0x2605f6[_0x2605f6['Core']=0x0]=_0x57a1be(0x555),_0x2605f6[_0x2605f6[_0x57a1be(0x459)]=0x1]='Optimization';}(_0x3fa342||(_0x3fa342={})),function(_0x4b1936){const _0x35db33=_0x1833fc;_0x4b1936[_0x4b1936['Offer']=0x0]=_0x35db33(0x588),_0x4b1936[_0x4b1936['Answer']=0x1]=_0x35db33(0x57c),_0x4b1936[_0x4b1936[_0x35db33(0x3ad)]=0x2]=_0x35db33(0x3ad),_0x4b1936[_0x4b1936['Success']=0x3]=_0x35db33(0x932),_0x4b1936[_0x4b1936[_0x35db33(0x35a)]=0x4]=_0x35db33(0x35a),_0x4b1936[_0x4b1936[_0x35db33(0x2e4)]=0x5]=_0x35db33(0x2e4),_0x4b1936[_0x4b1936[_0x35db33(0x204)]=0x6]='Disconnect',_0x4b1936[_0x4b1936[_0x35db33(0x509)]=0x7]=_0x35db33(0x509),_0x4b1936[_0x4b1936[_0x35db33(0x444)]=0x8]=_0x35db33(0x444);}(_0x10e8a1||(_0x10e8a1={})),function(_0x39bc00){const _0x1cbcc2=_0x1833fc;_0x39bc00[_0x39bc00[_0x1cbcc2(0x82d)]=0x0]=_0x1cbcc2(0x82d),_0x39bc00[_0x39bc00[_0x1cbcc2(0x8bd)]=0x1]=_0x1cbcc2(0x8bd);}(_0x16a03b||(_0x16a03b={})),function(_0x282590){const _0x2b067c=_0x1833fc;_0x282590[_0x2b067c(0x2e8)]=_0x2b067c(0x105);}(_0x1cb349||(_0x1cb349={})),function(_0x43c95e){const _0x29c9b4=_0x1833fc;_0x43c95e[_0x43c95e[_0x29c9b4(0x2ab)]=0x0]=_0x29c9b4(0x2ab),_0x43c95e[_0x43c95e['NodeUpdate']=0x1]=_0x29c9b4(0x1bf),_0x43c95e[_0x43c95e[_0x29c9b4(0xfb)]=0x2]=_0x29c9b4(0xfb),_0x43c95e[_0x43c95e['NodeLeave']=0x3]=_0x29c9b4(0x806);}(_0x1e07d3||(_0x1e07d3={})),function(_0xf78100){const _0x56ca50=_0x1833fc;_0xf78100[_0xf78100[_0x56ca50(0x826)]=0x0]=_0x56ca50(0x826),_0xf78100[_0xf78100[_0x56ca50(0x3a9)]=0x1]=_0x56ca50(0x3a9);}(_0x1b187c||(_0x1b187c={})),function(_0x11f984){const _0x307120=_0x1833fc;_0x11f984[_0x307120(0x80e)]=_0x307120(0x6ee),_0x11f984[_0x307120(0x8fe)]='downgrade';}(_0xad16b8||(_0xad16b8={})),function(_0x5893ca){const _0x16f392=_0x1833fc;_0x5893ca[_0x16f392(0x75d)]=_0x16f392(0x38f),_0x5893ca[_0x16f392(0x730)]='bitrate';}(_0x4cfab8||(_0x4cfab8={}));const _0x934905=require('aws-amplify'),_0x36c506=require('aws-amplify/utils'),_0x500d68=require('@aws-amplify/api'),_0x3eae2e=require('@aws-amplify/core');class _0x1b7401{['clusterId'];[_0x1833fc(0x86c)];['remoteId'];constructor(_0x5ba64e,_0x54d5ce,_0x20b873){const _0x5905f6=_0x1833fc;this[_0x5905f6(0x81a)]=_0x5ba64e,this[_0x5905f6(0x86c)]=_0x54d5ce,this[_0x5905f6(0x4fb)]=_0x20b873;}[_0x1833fc(0x5c7)](){const _0xe23ea6=_0x1833fc;return this[_0xe23ea6(0x86c)][_0xe23ea6(0x76b)]();}[_0x1833fc(0x863)](){const _0x24bbee=_0x1833fc;return this[_0x24bbee(0x4fb)];}}var _0x19254f,_0x310314,_0x45c51e;function _0x1d96ed(_0x3e9cc3,_0x4204f0){const _0x555ced=_0x1833fc;return _0x3e9cc3[_0x555ced(0x5fb)]===_0x4204f0;}function _0x343ffb(_0x5231fd,_0x5bff58){const _0x331332=_0x1833fc;return _0x5231fd[_0x331332(0x8f6)]?.[_0x331332(0x778)](_0x5bff58)??function(_0x44cb8a){const _0x188f0b=_0x331332;return void 0x0===_0x44cb8a[_0x188f0b(0x8f6)];}(_0x5231fd);}function _0x299391(_0x24ae4d,{contentType:_0x2bd68a,label:_0x44f84f,remoteId:_0x48e1d1}){return _0x24ae4d+'-'+_0x2bd68a+'-'+_0x44f84f+'-'+_0x48e1d1;}function _0x1b7ed3(_0x3980ac,_0xb761f2,_0x4a6fd4){return''+_0x3980ac+_0xb761f2+_0x4a6fd4;}function _0x5e543f(_0x449dd3){const _0x528df5=_0x1833fc;return _0x449dd3===_0x310314[_0x528df5(0x86e)]?'IncomingSubscription':_0x528df5(0x207);}function _0x145398(_0x45f9ea,_0x240c3c){const _0x416cfe=_0x1833fc;return{'label':_0x45f9ea[_0x416cfe(0xd9)](),'contentType':_0x45f9ea[_0x416cfe(0x4ba)](),'remoteId':_0x240c3c[_0x416cfe(0x863)](),'supportsContentType':_0x240c3c['getSupportedContentTypes']()[_0x416cfe(0x778)](_0x45f9ea[_0x416cfe(0x4ba)]())};}!function(_0x5ebb78){const _0x12ef45=_0x1833fc;_0x5ebb78[_0x5ebb78[_0x12ef45(0x8e4)]=0x0]='Waiting',_0x5ebb78[_0x5ebb78[_0x12ef45(0x483)]=0x1]=_0x12ef45(0x483),_0x5ebb78[_0x5ebb78['Rejected']=0x2]=_0x12ef45(0x1e0);}(_0x19254f||(_0x19254f={})),function(_0x3372b7){const _0x4d3de0=_0x1833fc;_0x3372b7[_0x4d3de0(0x86e)]='in',_0x3372b7[_0x4d3de0(0x365)]=_0x4d3de0(0x3df);}(_0x310314||(_0x310314={}));class _0x3983ae{['callback'];[_0x1833fc(0x7fd)];constructor(_0x1c19b3,_0x730b9c){const _0x224f3c=_0x1833fc;this['callback']=_0x1c19b3,this[_0x224f3c(0x7fd)]=_0x730b9c;}[_0x1833fc(0x89e)](_0x34b107){const _0x5c66ee=_0x1833fc;this[_0x5c66ee(0x5f8)](_0x34b107);}async[_0x1833fc(0x70b)](){const _0x5bb3d4=_0x1833fc;await this[_0x5bb3d4(0x7fd)]();}}class _0x756c3f{['callback'];['retryCallback'];constructor(_0x5db7e9,_0x47e8e5){const _0x1aefe9=_0x1833fc;this['callback']=_0x5db7e9,this[_0x1aefe9(0x7fd)]=_0x47e8e5;}async[_0x1833fc(0x89e)](_0x4bbb9e){const _0x3b1674=_0x1833fc;await this[_0x3b1674(0x5f8)](_0x4bbb9e);}async['wait'](){const _0x520d12=_0x1833fc;await this[_0x520d12(0x7fd)]();}}function _0x9c4a54(_0x233e33=()=>{},_0x5d2ef2=()=>!0x1,_0x165956=()=>{}){let _0x301871,_0x2d8bbd,_0x24d744=0x0;return{get 'size'(){return _0x24d744;},get 'head'(){return _0x301871;},get 'tail'(){return _0x2d8bbd;},set 'head'(_0x540f8b){_0x301871=_0x540f8b;},set 'tail'(_0x2e9423){_0x2d8bbd=_0x2e9423;},'push'(_0x4dbcd7,_0x41be55=!0x0){const _0x367dab=a0_0x17c7,_0x2884f8={'value':_0x4dbcd7};_0x41be55&&_0x5d2ef2(_0x2884f8)?_0x233e33():(_0x2d8bbd&&(_0x2884f8[_0x367dab(0x202)]=_0x2d8bbd,_0x2d8bbd['next']=_0x2884f8),_0x2d8bbd=_0x2884f8,_0x301871||(_0x301871=_0x2884f8),_0x24d744+=0x1,_0x41be55&&_0x233e33());},'pop'(){const _0xf021c3=a0_0x17c7;if(!_0x2d8bbd)return;const _0x3c80ce=_0x2d8bbd['value'];return _0x2d8bbd=_0x2d8bbd[_0xf021c3(0x202)],_0x2d8bbd&&delete _0x2d8bbd['next'],_0x2d8bbd||(_0x301871=void 0x0),_0x24d744-=0x1,_0x3c80ce;},'unshift'(_0x3b6348,_0x5643c2=!0x0){const _0x5eab29=a0_0x17c7,_0x536fbc={'value':_0x3b6348};_0x5643c2&&_0x5d2ef2(_0x536fbc)?_0x233e33():(_0x301871&&(_0x301871[_0x5eab29(0x202)]=_0x536fbc,_0x536fbc[_0x5eab29(0x870)]=_0x301871),_0x301871=_0x536fbc,_0x2d8bbd||(_0x2d8bbd=_0x536fbc),_0x24d744+=0x1,_0x5643c2&&_0x233e33());},'shift'(){const _0x37bcc7=a0_0x17c7;if(!_0x301871)return;const _0x3f14f7=_0x301871[_0x37bcc7(0x962)];return _0x301871=_0x301871[_0x37bcc7(0x870)],_0x301871&&delete _0x301871[_0x37bcc7(0x202)],_0x301871||(_0x2d8bbd=void 0x0),_0x24d744-=0x1,_0x3f14f7;},'clear'(){_0x165956(),_0x301871=void 0x0,_0x2d8bbd=void 0x0,_0x24d744=0x0;}};}function _0x16d522(_0x1d092b,_0x348ff3=!0x1,_0x197081=()=>{},_0x396d3d=()=>!0x1,_0x3b3527=()=>{}){let _0x457a04=!0x1;const _0x40de7b=_0x9c4a54(async function(){const _0x4cf0ee=a0_0x17c7;if(!_0x457a04){for(_0x457a04=!0x0;_0x40de7b['head'];){const _0x19efbe=_0x40de7b['shift']();if(_0x19efbe)try{_0x1d092b instanceof _0x3983ae&&_0x1d092b[_0x4cf0ee(0x89e)](_0x19efbe),_0x1d092b instanceof _0x756c3f&&await _0x1d092b[_0x4cf0ee(0x89e)](_0x19efbe),_0x197081(_0x19efbe);}catch(_0x5a4932){_0x348ff3?_0x40de7b[_0x4cf0ee(0x5ed)](_0x19efbe,!0x1):_0x40de7b[_0x4cf0ee(0x9c0)](_0x19efbe,!0x1),await _0x1d092b[_0x4cf0ee(0x70b)]();}}_0x457a04=!0x1;}},_0x396d3d,_0x3b3527);return _0x40de7b;}class _0x3fc15a extends _0x1b7401{['vendorId'];[_0x1833fc(0x215)];[_0x1833fc(0x6e0)]=_0x500d68[_0x1833fc(0xdf)]['Disconnected'];['connectionStateListener']=_0x137e7e();['messageListeners']=_0x4febb4();['subscription'];[_0x1833fc(0x916)];[_0x1833fc(0x4b7)]=_0x16d522(new _0x756c3f(this['sendAction'][_0x1833fc(0x6e2)](this),this[_0x1833fc(0x587)][_0x1833fc(0x6e2)](this)));[_0x1833fc(0x3ca)];constructor(_0x5a9b3b,_0x4f111f,_0x178c1e,_0xe17839,_0xb77535){const _0x5363f6=_0x1833fc;super(_0x4f111f,_0x178c1e,_0xe17839),this[_0x5363f6(0x889)]=_0x5a9b3b,this['authService']=_0xb77535;}async[_0x1833fc(0x58b)](){const _0x1652ff=_0x1833fc;try{const _0x53808a={'getTokens':async()=>{const _0xa2e50d=a0_0x17c7,_0xb6268c=await this[_0xa2e50d(0x215)][_0xa2e50d(0x575)]();return{'accessToken':(0x0,_0x3eae2e['decodeJWT'])(_0xb6268c),'idToken':(0x0,_0x3eae2e[_0xa2e50d(0x165)])(_0xb6268c)};}};_0x934905['Amplify']['configure']({'API':{'GraphQL':{'endpoint':_0x152c14['aws']['endpoint'],'region':_0x152c14['aws'][_0x1652ff(0x8a7)],'defaultAuthMode':_0x1652ff(0x7ef)}}},{'Auth':{'tokenProvider':_0x53808a}});const _0x369dfd=(0x0,_0x500d68[_0x1652ff(0x8c7)])();this[_0x1652ff(0x3ca)]=_0x369dfd,await this['subscribe'](),this['listenUnsubscriber']=_0x36c506[_0x1652ff(0x415)][_0x1652ff(0x106)]('api',async({payload:_0x180600})=>{const _0x4978c3=_0x1652ff;if(_0x180600['event']===_0x500d68[_0x4978c3(0x6ce)]){const _0x18d00e=_0x180600[_0x4978c3(0x87e)];this[_0x4978c3(0x6e0)]=_0x18d00e[_0x4978c3(0x6e0)],this['connectionStateListener'][_0x4978c3(0x9e5)](_0x18d00e[_0x4978c3(0x6e0)]),this[_0x4978c3(0x6e0)]===_0x500d68[_0x4978c3(0xdf)][_0x4978c3(0x7b4)]?(_0x380207[_0x4978c3(0x657)](_0x4978c3(0x2fb),{'clusterId':this[_0x4978c3(0x81a)],'nodeId':this['getLocalId'](),'nodeType':this[_0x4978c3(0x86c)][_0x4978c3(0x339)]}),this['close'](),this[_0x4978c3(0x58b)]()):this[_0x4978c3(0x6e0)]===_0x500d68['ConnectionState'][_0x4978c3(0x36e)]?_0x380207[_0x4978c3(0x6d6)](_0x4978c3(0x4b4),{'clusterId':this[_0x4978c3(0x81a)],'nodeId':this[_0x4978c3(0x5c7)](),'nodeType':this[_0x4978c3(0x86c)]['type']}):_0x380207[_0x4978c3(0x6d6)]('appsync-statechange',{'clusterId':this[_0x4978c3(0x81a)],'nodeId':this[_0x4978c3(0x5c7)](),'nodeType':this[_0x4978c3(0x86c)][_0x4978c3(0x339)],'data':{'state':_0x18d00e[_0x4978c3(0x6e0)]}});}});}catch(_0x438979){_0x380207[_0x1652ff(0x657)]('appsync-connect-fail',{'clusterId':this['clusterId'],'nodeId':this[_0x1652ff(0x5c7)](),'nodeType':this[_0x1652ff(0x86c)][_0x1652ff(0x339)]});}}[_0x1833fc(0x244)](){const _0x137c47=_0x1833fc;_0x380207[_0x137c47(0x6d6)]('appsync-close',{'clusterId':this[_0x137c47(0x81a)],'nodeId':this[_0x137c47(0x5c7)](),'nodeType':this[_0x137c47(0x86c)]['type']}),this[_0x137c47(0x4b7)][_0x137c47(0x67d)](),this[_0x137c47(0x916)]?.(),this[_0x137c47(0x20f)]?.[_0x137c47(0x788)](),delete this['subscription'];}[_0x1833fc(0x714)](){const _0x3ee83d=_0x1833fc;return this[_0x3ee83d(0x6e0)]===_0x500d68['ConnectionState'][_0x3ee83d(0x36e)];}[_0x1833fc(0x77c)](_0x3052d5){const _0x970935=_0x1833fc;this[_0x970935(0x4b7)]['push'](_0x3052d5);}[_0x1833fc(0x521)](_0x587853){const _0xfe4f68=_0x1833fc;return this[_0xfe4f68(0x381)][_0xfe4f68(0x456)](_0x587853);}[_0x1833fc(0x8d6)](){return[_0x4f9f07['ContentType']['Data']];}async[_0x1833fc(0x587)](){if(!this['isConnected']())return new Promise(_0x6af9f0=>{const _0x122562=a0_0x17c7,_0xaf9aa6=this[_0x122562(0x8fd)]['subscribe'](_0x1f933a=>{const _0x1a8330=_0x122562;_0x1f933a===_0x500d68[_0x1a8330(0xdf)]['Connected']&&(_0xaf9aa6(),_0x6af9f0());});});}async[_0x1833fc(0x533)](_0x527c19){const _0x321aad=_0x1833fc;if(this['connectionState']!==_0x500d68[_0x321aad(0xdf)][_0x321aad(0x36e)])throw new Error(_0x321aad(0x67f));_0x527c19[_0x321aad(0x8f6)]&&0x1===_0x527c19[_0x321aad(0x8f6)][_0x321aad(0x5af)]?await this[_0x321aad(0x9e5)](_0x527c19[_0x321aad(0x8f6)][0x0],JSON[_0x321aad(0x33b)](_0x527c19)):_0x380207[_0x321aad(0x657)](_0x321aad(0x59e),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x321aad(0x86c)]['type']});}async[_0x1833fc(0x9e5)](_0x5b35b6,_0x5c66f6){const _0x468102=_0x1833fc;if(!this[_0x468102(0x3ca)])throw new Error(_0x468102(0x476));_0x380207[_0x468102(0x41b)](_0x381da1[_0x468102(0x83c)],'AppSync\x20publish',this['getLocalId'](),_0x5c66f6),await this[_0x468102(0x3ca)][_0x468102(0x446)]({'query':_0x468102(0x933),'variables':{'name':await this[_0x468102(0x3dd)](_0x5b35b6),'data':_0x5c66f6}});}async['subscribe'](){const _0x56a4a2=_0x1833fc;if(this[_0x56a4a2(0x20f)])return;if(!this[_0x56a4a2(0x3ca)])throw new Error(_0x56a4a2(0x476));_0x380207['log'](_0x381da1[_0x56a4a2(0x83c)],_0x56a4a2(0x7db),this[_0x56a4a2(0x5c7)]());const _0x584386=await this[_0x56a4a2(0x3ca)][_0x56a4a2(0x446)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this['getHash']()},'authToken':await this[_0x56a4a2(0x215)][_0x56a4a2(0x575)]()},{'Authorization':await this['authService']['getIdToken']()});this['subscription']=_0x584386[_0x56a4a2(0x456)]({'next':({data:_0x3c0ec4})=>{const _0x253724=_0x56a4a2,_0x3627bd=JSON[_0x253724(0x85f)](_0x3c0ec4[_0x253724(0x456)][_0x253724(0x87e)]);!_0x1d96ed(_0x3627bd,this[_0x253724(0x5c7)]())&&_0x343ffb(_0x3627bd,this[_0x253724(0x5c7)]())&&this[_0x253724(0x381)]['publish'](_0x3627bd);},'error':console[_0x56a4a2(0x41b)]});}async[_0x1833fc(0x3dd)](_0x3e0588){const _0x30bdb5=_0x1833fc,_0x526677=await crypto[_0x30bdb5(0x6cb)]['digest'](_0x30bdb5(0x6a0),new TextEncoder()[_0x30bdb5(0x35e)](this['vendorId']+'-'+this[_0x30bdb5(0x81a)]+'-'+(_0x3e0588??this[_0x30bdb5(0x5c7)]())));return Array[_0x30bdb5(0x5cf)](new Uint8Array(_0x526677))['map'](_0x2ae3f3=>_0x2ae3f3[_0x30bdb5(0x687)](0x10)[_0x30bdb5(0x3f5)](0x2,'0'))[_0x30bdb5(0x784)]('');}}!function(_0x3f670e){const _0xd11ee3=_0x1833fc;_0x3f670e[_0x3f670e[_0xd11ee3(0x1b5)]=0x0]=_0xd11ee3(0x1b5),_0x3f670e[_0x3f670e[_0xd11ee3(0x706)]=0x1]=_0xd11ee3(0x706),_0x3f670e[_0x3f670e[_0xd11ee3(0x306)]=0x2]=_0xd11ee3(0x306),_0x3f670e[_0x3f670e[_0xd11ee3(0x49d)]=0x3]='RemoteAdd',_0x3f670e[_0x3f670e[_0xd11ee3(0x2b2)]=0x4]='RemoteRemove';}(_0x45c51e||(_0x45c51e={}));const _0x224061='0',_0xaadd29=_0x1833fc(0x3e5),_0x2798ad=_0x20249c,_0x72064c=0xbe800;class _0x1a4e2a{[_0x1833fc(0x81a)];[_0x1833fc(0x86c)];[_0x1833fc(0x4fb)];[_0x1833fc(0x4fd)];[_0x1833fc(0x181)];['connectionConstructor'];[_0x1833fc(0x2d6)];['dataChannel'];[_0x1833fc(0x2ef)]=0x1;[_0x1833fc(0x3a7)];[_0x1833fc(0x7bd)]=[];[_0x1833fc(0x283)]=[];['handshakeDebounce'];constructor(_0x19764c,_0x23880f,_0x367dcf,_0xda096d,_0x5076ce,_0x1dd5c6){const _0x4a3479=_0x1833fc;this[_0x4a3479(0x81a)]=_0x19764c,this[_0x4a3479(0x86c)]=_0x23880f,this[_0x4a3479(0x4fb)]=_0x367dcf,this['iceServers']=_0xda096d,this[_0x4a3479(0x181)]=_0x5076ce,this[_0x4a3479(0x3ea)]=_0x1dd5c6,this[_0x4a3479(0x2d6)]=new this[(_0x4a3479(0x3ea))]({'handshakeServers':this['iceServers']}),this[_0x4a3479(0xe8)]();}['close'](){this['stopConnection']();}['setConnectionType'](_0x5e2e8a){const _0x3b96fa=_0x1833fc;this[_0x3b96fa(0x181)]=_0x5e2e8a;}async[_0x1833fc(0x304)](_0x2f9f8c,_0x2b8962){const _0xc0fced=_0x1833fc;if(_0x2b8962===this[_0xc0fced(0x2ef)])for(const _0x5ca14b of _0x2f9f8c){if(!this['connection'][_0xc0fced(0x1e3)])return this[_0xc0fced(0x9b6)](_0x5ca14b);try{await this[_0xc0fced(0x2d6)]['addCandidate'](_0x5ca14b);}catch(_0x466a90){this['addPendingHandshakeCandidate'](_0x5ca14b);}}}[_0x1833fc(0x714)](){const _0x4d57ac=_0x1833fc;return this[_0x4d57ac(0x2d0)](),_0x4d57ac(0x9e6)===this[_0x4d57ac(0x2d6)]['connectionState']&&[_0x4d57ac(0x9e6),_0x4d57ac(0x89d)]['includes'](this[_0x4d57ac(0x2d6)]['handshakeState'])&&_0x4d57ac(0x263)!==this[_0x4d57ac(0x2d6)][_0x4d57ac(0x5a1)]&&'open'===this[_0x4d57ac(0x5ba)]?.['state'];}[_0x1833fc(0x494)](_0x117d30){const _0x14c73f=_0x1833fc;this[_0x14c73f(0x3a7)]=_0x117d30;}[_0x1833fc(0x14f)](){delete this['systemTopic'];}[_0x1833fc(0x9a7)](_0x7689df){const _0x46c01b=_0x1833fc;this[_0x46c01b(0x501)](),this[_0x46c01b(0x2d6)]=new this[(_0x46c01b(0x3ea))]({'handshakeServers':this['iceServers']}),_0x7689df?this[_0x46c01b(0x2ef)]=_0x7689df:this['currentVersion']+=0x1,this[_0x46c01b(0xe8)]();}[_0x1833fc(0x8ec)](){const _0x9e84aa=_0x1833fc;this[_0x9e84aa(0x283)][_0x9e84aa(0x919)](_0x23ff05=>{try{this['connection']['addCandidate'](_0x23ff05);}catch(_0x26d2e9){}}),this['pendingHandshakeCandidates']=[];}['publishSystemMessage'](_0xab33e4,_0x27125b){const _0x5a0516=_0x1833fc;if(!this['systemTopic'])throw new _0x4511be(_0x4511be[_0x5a0516(0x2a2)][_0x5a0516(0x310)],{'content':_0xab33e4});const _0x137f4e={'sourceId':this[_0x5a0516(0x86c)]['getId'](),'destinationIds':[this[_0x5a0516(0x4fb)]],'propagate':this[_0x5a0516(0x181)]!==_0x3fa342['Core'],'retry':this[_0x5a0516(0x181)]!==_0x3fa342[_0x5a0516(0x555)],'messageType':_0x35033d['PeerConnection'],'content':_0xab33e4};_0x27125b&&(_0x137f4e[_0x5a0516(0x4c0)]=_0x27125b),this[_0x5a0516(0x3a7)][_0x5a0516(0x9e5)](_0x137f4e);}['setupConnectionEvents'](){const _0x5ef7e8=_0x1833fc;this[_0x5ef7e8(0x2d6)][_0x5ef7e8(0x9bc)]=()=>{const _0x54aa49=_0x5ef7e8;_0x54aa49(0x461)===this[_0x54aa49(0x2d6)][_0x54aa49(0x92d)]&&this['handshakeCandidates']['length']>0x0&&(this[_0x54aa49(0x26e)]&&clearTimeout(this[_0x54aa49(0x26e)]),this[_0x54aa49(0x26e)]=setTimeout(()=>{const _0x4577ed=_0x54aa49;delete this[_0x4577ed(0x26e)],this[_0x4577ed(0x2b1)](),this[_0x4577ed(0x7bd)]=[];},0x1f4));},this[_0x5ef7e8(0x2d6)][_0x5ef7e8(0x673)]=_0x3ab528=>{const _0x2ad8c7=_0x5ef7e8;_0x3ab528['candidate']&&this[_0x2ad8c7(0x7bd)][_0x2ad8c7(0x5ed)](_0x3ab528['candidate']);};}[_0x1833fc(0x501)](){const _0xde0a04=_0x1833fc;clearTimeout(this[_0xde0a04(0x26e)]),delete this['handshakeDebounce'],this['handshakeCandidates']=[],this[_0xde0a04(0x283)]=[],this[_0xde0a04(0x5ba)]&&(this[_0xde0a04(0x5ba)]['onMessage']=null,this[_0xde0a04(0x5ba)][_0xde0a04(0x119)]=null,this[_0xde0a04(0x5ba)][_0xde0a04(0x244)](),delete this[_0xde0a04(0x5ba)]),this[_0xde0a04(0x2d6)][_0xde0a04(0x9bc)]=null,this[_0xde0a04(0x2d6)][_0xde0a04(0x673)]=null,this['connection']['onHandshakeStateChange']=null,this[_0xde0a04(0x2d6)]['onConnectionStateChange']=null,this[_0xde0a04(0x2d6)][_0xde0a04(0x2bb)]=null,this[_0xde0a04(0x2d6)][_0xde0a04(0x463)]=null,this[_0xde0a04(0x2d6)][_0xde0a04(0x244)]();}[_0x1833fc(0x9b6)](_0x388dbb){const _0x3c69f4=_0x1833fc;this[_0x3c69f4(0x283)][_0x3c69f4(0x5ed)](_0x388dbb);}['logConnectionState'](){const _0x320ff9=_0x1833fc;_0x380207[_0x320ff9(0x41b)](_0x381da1['ConnectionState'],_0x320ff9(0x72b),{'localId':this['localNode'][_0x320ff9(0x76b)](),'remoteId':this[_0x320ff9(0x4fb)],'connectionState':this[_0x320ff9(0x2d6)][_0x320ff9(0x6e0)],'handshakeState':this[_0x320ff9(0x2d6)][_0x320ff9(0x2a4)],'signalingState':this[_0x320ff9(0x2d6)][_0x320ff9(0x5a1)],'dataChannelState':this[_0x320ff9(0x5ba)]?.['state']});}}function _0x346d57(_0x3f6163,_0x32804b){const _0x33451a=_0x1833fc;_0x32804b[_0x33451a(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x33451a(0x70d)],'content':_0x3f6163});}class _0x16bf6b{static ['instance'];['parameters']=[];['source'];constructor(){setInterval(()=>{const _0x56799f=a0_0x17c7;this['parameters'][_0x56799f(0x919)](_0x1161df=>{const _0x1cdc35=_0x56799f;if(Date[_0x1cdc35(0x1d5)]()-_0x1161df[_0x1cdc35(0x9c5)]>_0x1161df[_0x1cdc35(0x9cd)]){try{_0x1161df[_0x1cdc35(0x5f8)]();}catch(_0x3ea889){}_0x1161df[_0x1cdc35(0x9c5)]=Date[_0x1cdc35(0x1d5)]();}});},0x64);}static['getInstance'](){const _0x477d52=_0x1833fc;return _0x16bf6b['instance']||(_0x16bf6b[_0x477d52(0x9b7)]=new _0x16bf6b()),_0x16bf6b[_0x477d52(0x9b7)];}[_0x1833fc(0x690)](_0x2c5433){const _0x5aa58c=_0x1833fc,_0x23adc2=this['createConstantSource'](_0x2c5433),_0x31b1cc=_0x2c5433[_0x5aa58c(0x75b)]();_0x31b1cc&&_0x23adc2&&(_0x31b1cc['gain'][_0x5aa58c(0x962)]=0.001,_0x23adc2['connect'](_0x31b1cc),_0x31b1cc['connect'](_0x2c5433[_0x5aa58c(0x4d4)]),_0x23adc2['start']());}['stopNoThrottlingHack'](){const _0x59b7e8=_0x1833fc;this[_0x59b7e8(0x84b)]&&(this['source']['stop'](),this[_0x59b7e8(0x84b)][_0x59b7e8(0x684)](),this[_0x59b7e8(0x84b)]=void 0x0);}[_0x1833fc(0x70b)](_0x395216){return new Promise(_0x28a16f=>{setTimeout(_0x28a16f,_0x395216);});}[_0x1833fc(0x882)](_0x5a3b57,_0x2e28bd){const _0x443980=_0x1833fc;return this[_0x443980(0x3d1)]['push']({'callback':_0x5a3b57,'interval':_0x2e28bd,'lastExecuted':Date[_0x443980(0x1d5)]()}),()=>{const _0x56530e=_0x443980;this['parameters']=this[_0x56530e(0x3d1)][_0x56530e(0x9a3)](_0x2f5690=>_0x2f5690['callback']!==_0x5a3b57);};}[_0x1833fc(0x77b)](_0xa36f9f){const _0x5c2f40=_0x1833fc;if(_0xa36f9f[_0x5c2f40(0x77b)])return _0xa36f9f[_0x5c2f40(0x77b)]();const _0x28f77e=_0xa36f9f['createBufferSource'](),_0x284112=_0xa36f9f['createBuffer'](0x1,0x1,_0xa36f9f[_0x5c2f40(0x308)]);return _0x284112[_0x5c2f40(0x559)](0x0)[0x0]=0xa,_0x28f77e[_0x5c2f40(0x802)]=_0x284112,_0x28f77e[_0x5c2f40(0x821)]=!0x0,_0x28f77e;}}const _0x524332=_0x16bf6b[_0x1833fc(0x16c)]();class _0x349411 extends _0x1a4e2a{[_0x1833fc(0x696)]=_0x137e7e();['trackCallback']=_0x137e7e();[_0x1833fc(0x6f6)]=_0x137e7e();[_0x1833fc(0x373)]=new Map();[_0x1833fc(0x23b)]=new Map();[_0x1833fc(0x5c1)];[_0x1833fc(0x7f2)]=0x0;[_0x1833fc(0x90f)]={'messages':{'total':0x0}};['bytesReceived']=0x0;['timeReceiving']=0x0;[_0x1833fc(0x27f)]=_0x3938f0('ReceiverPeerConnection.onMessage',_0x381da1[_0x1833fc(0x2bc)]);[_0x1833fc(0x244)](){const _0x21324c=_0x1833fc;this[_0x21324c(0x3bc)](),this[_0x21324c(0x373)][_0x21324c(0x67d)](),super['close']();}async['handleOffer'](_0x3de19a,_0x38e899){const _0x4b9073=_0x1833fc;this[_0x4b9073(0x2ef)]=_0x38e899,this[_0x4b9073(0x3bc)]();const _0x23ccff=await this[_0x4b9073(0x2d6)][_0x4b9073(0x770)](_0x3de19a);this[_0x4b9073(0x8ec)]();const _0x23f642=(0x0,_0x6e2c44['v4'])();this['publishSystemMessage']({'type':_0x10e8a1[_0x4b9073(0x57c)],'answer':_0x23ccff,'version':_0x38e899,'connectionType':this[_0x4b9073(0x181)]},_0x23f642),this[_0x4b9073(0x181)]===_0x3fa342['Core']&&(this[_0x4b9073(0x5c1)]=_0x524332[_0x4b9073(0x882)](()=>{const _0x592f8a=_0x4b9073;this['publishSystemMessage']({'type':_0x10e8a1[_0x592f8a(0x57c)],'answer':_0x23ccff,'version':_0x38e899,'connectionType':this['connectionType']},_0x23f642);},0x1388));}[_0x1833fc(0x7c7)](){const _0x52a8ed=_0x1833fc;this[_0x52a8ed(0x3bc)]();}['handleNeedRestart'](_0xdae5cb){const _0x1a2c24=_0x1833fc;this[_0x1a2c24(0x9a7)](_0xdae5cb),this[_0x1a2c24(0x157)]({'type':_0x10e8a1['Restart']});}async[_0x1833fc(0x2ce)](){const _0x3e4b3f=_0x1833fc;this['systemTopic']&&(await this[_0x3e4b3f(0x2d6)]['collectReceiversStats'](this['receivers'],(_0x3b5427,_0x5de37a)=>{const _0x2304d1=_0x3e4b3f;_0x346d57({'type':_0x10e8a1[_0x2304d1(0x509)],'streamId':_0x5de37a,'nodeId':this['remoteId'],'stats':_0x3b5427},this[_0x2304d1(0x3a7)]);}),this[_0x3e4b3f(0x3a7)][_0x3e4b3f(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x3e4b3f(0x70d)],'content':{'type':_0x10e8a1['Stats'],'nodeId':this[_0x3e4b3f(0x4fb)],'stats':{'origin':_0x16a03b['Receiver'],'timestamp':Date[_0x3e4b3f(0x1d5)](),'messagesReceived':this[_0x3e4b3f(0x7f2)],'bytesReceived':this[_0x3e4b3f(0x6fb)],'timeReceiving':this[_0x3e4b3f(0x8df)],'systemMessages':this['systemMessagesReceived']}}}));}['onMessage'](_0x1a6973){const _0x5aa1ab=_0x1833fc;return _0x152c14['isProduction']?this[_0x5aa1ab(0x696)][_0x5aa1ab(0x456)](_0x1a6973):this[_0x5aa1ab(0x696)]['subscribe'](_0xcdeb1=>{const _0x52cf14=_0x5aa1ab;0x0===_0xcdeb1[_0x52cf14(0x1d9)]&&_0xcdeb1['messageType']===_0x35033d[_0x52cf14(0x7f4)]&&this[_0x52cf14(0x27f)][_0x52cf14(0x28b)][_0x52cf14(0x41b)]('ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20'+this['remoteId'],()=>_0x53c0ee(_0xcdeb1)),_0x1a6973(_0xcdeb1);});}['onTrack'](_0x4ad329){const _0x19f844=_0x1833fc;return this[_0x19f844(0x326)][_0x19f844(0x456)](({track:_0xceb9e3,stream:_0x408826})=>_0x4ad329(_0xceb9e3,_0x408826));}[_0x1833fc(0x2b5)](_0x564636){const _0x33f08d=_0x1833fc;return this['removeTrackCallback'][_0x33f08d(0x456)](({track:_0x2fbc47,stream:_0x1f381b})=>_0x564636(_0x2fbc47,_0x1f381b));}[_0x1833fc(0x9a7)](_0x9ccbc5){const _0x29e255=_0x1833fc;this['clearWaitSuccess'](),this[_0x29e255(0x373)][_0x29e255(0x919)](_0x5c22a8=>{_0x5c22a8['clear']();}),super[_0x29e255(0x9a7)](_0x9ccbc5);}[_0x1833fc(0x2b1)](){const _0x374eb5=_0x1833fc;this['publishSystemMessage']({'type':_0x10e8a1[_0x374eb5(0x3ad)],'candidates':this['handshakeCandidates'],'origin':_0x16a03b['Receiver'],'version':this[_0x374eb5(0x2ef)],'connectionType':this['connectionType']});}[_0x1833fc(0xe8)](){const _0x526ee9=_0x1833fc;super['setupConnectionEvents'](),this['connection'][_0x526ee9(0x2bb)]=_0x360c63=>{const _0x19fbeb=_0x526ee9;_0x380207[_0x19fbeb(0x41b)](_0x381da1[_0x19fbeb(0x8cf)],_0x19fbeb(0xf2),this[_0x19fbeb(0x86c)][_0x19fbeb(0x76b)](),_0x360c63),_0x360c63['streams'][0x0][_0x19fbeb(0x385)]=_0x2382cc=>{const _0x1db550=_0x19fbeb;this[_0x1db550(0x373)]['get'](_0x360c63[_0x1db550(0x548)][0x0]['id'])?.[_0x1db550(0x8be)](_0x2382cc['track']),0x0===this[_0x1db550(0x373)][_0x1db550(0x264)](_0x360c63['streams'][0x0]['id'])?.[_0x1db550(0x813)]&&this[_0x1db550(0x373)]['delete'](_0x360c63[_0x1db550(0x548)][0x0]['id']),this['removeTrackCallback']['publish']({'track':_0x2382cc[_0x1db550(0x6ac)],'stream':_0x360c63['streams'][0x0]});},this[_0x19fbeb(0x373)][_0x19fbeb(0x977)](_0x360c63[_0x19fbeb(0x548)][0x0]['id'])||this[_0x19fbeb(0x373)][_0x19fbeb(0x174)](_0x360c63[_0x19fbeb(0x548)][0x0]['id'],new Set()),this[_0x19fbeb(0x373)][_0x19fbeb(0x264)](_0x360c63[_0x19fbeb(0x548)][0x0]['id'])[_0x19fbeb(0x720)](_0x360c63['track']),this[_0x19fbeb(0x326)][_0x19fbeb(0x9e5)]({'track':_0x360c63[_0x19fbeb(0x6ac)],'stream':_0x360c63[_0x19fbeb(0x548)][0x0]});},this[_0x526ee9(0x2d6)]['onDataChannel']=_0x1ff13f=>{const _0x15b823=_0x526ee9;this[_0x15b823(0x5ba)]=_0x1ff13f[_0x15b823(0x8af)],this[_0x15b823(0x5ba)][_0x15b823(0x521)]=_0x5880f0=>{const _0x46cf53=_0x15b823;if(_0x5880f0['data']!==_0x224061)this[_0x46cf53(0x8ce)](_0x5880f0[_0x46cf53(0x87e)]);else{if(!this[_0x46cf53(0x5ba)])return void _0x380207[_0x46cf53(0x657)](_0x46cf53(0x738),{'clusterId':this[_0x46cf53(0x81a)],'nodeId':this[_0x46cf53(0x86c)][_0x46cf53(0x76b)](),'nodeType':this[_0x46cf53(0x86c)][_0x46cf53(0x339)],'remoteId':this[_0x46cf53(0x4fb)],'data':{'connection':'receiver'}});if('open'!==this[_0x46cf53(0x5ba)][_0x46cf53(0x636)])return;this[_0x46cf53(0x5ba)][_0x46cf53(0x77c)]('1');}};};}[_0x1833fc(0x8ce)](_0x45e58a){const _0x3c8d27=_0x1833fc;if(_0x3c8d27(0xf8)==typeof _0x45e58a&&_0x45e58a[_0x3c8d27(0x51c)](_0xaadd29))return this[_0x3c8d27(0x7f2)]+=0x1,this[_0x3c8d27(0x6fb)]+=_0x45e58a[_0x3c8d27(0x5af)],this[_0x3c8d27(0x8c4)](_0x45e58a);setTimeout(()=>{const _0x8d439f=_0x3c8d27,_0x3264cb=Date['now']();let _0x17020e;if((_0x45e58a instanceof ArrayBuffer||_0x45e58a[_0x8d439f(0x5af)]<=_0x2798ad)&&(this[_0x8d439f(0x7f2)]+=0x1,this['bytesReceived']+=_0x45e58a instanceof ArrayBuffer?_0x45e58a[_0x8d439f(0x6b7)]:_0x45e58a[_0x8d439f(0x5af)]),_0x45e58a instanceof ArrayBuffer){const [_0x16869e,_0x504caf]=this[_0x8d439f(0x6fd)](_0x45e58a);_0x17020e=_0x16869e,_0x17020e['content'][_0x8d439f(0x87e)]=_0x504caf;}else _0x17020e=JSON[_0x8d439f(0x85f)](_0x45e58a);if(0x0===_0x17020e[_0x8d439f(0x1d9)]){this[_0x8d439f(0x90f)][_0x8d439f(0x9e2)][_0x8d439f(0x5a9)]+=0x1;const {systemMessageType:_0x30a767,systemContentMessageType:_0x22dc2f}=_0x53c0ee(_0x17020e);this[_0x8d439f(0x90f)][_0x30a767]||(this[_0x8d439f(0x90f)][_0x30a767]={[_0x22dc2f]:0x0}),this[_0x8d439f(0x90f)][_0x30a767][_0x22dc2f]||(this[_0x8d439f(0x90f)][_0x30a767][_0x22dc2f]=0x0),this[_0x8d439f(0x90f)][_0x30a767][_0x8d439f(0x5a9)]||(this[_0x8d439f(0x90f)][_0x30a767][_0x8d439f(0x5a9)]=0x0),this[_0x8d439f(0x90f)][_0x30a767][_0x22dc2f]+=0x1,this[_0x8d439f(0x90f)][_0x30a767]['total']+=0x1;}this[_0x8d439f(0x696)][_0x8d439f(0x9e5)](_0x17020e),this[_0x8d439f(0x8df)]+=Date[_0x8d439f(0x1d5)]()-_0x3264cb;},0x0);}[_0x1833fc(0x8c4)](_0x2e9ebb){const _0x15291f=_0x1833fc,_0x346783=_0x2e9ebb[_0x15291f(0x6ca)](';'),_0x19b06a=_0x346783[0x1],_0x105729=parseInt(_0x346783[0x2],0xa),_0x155612=parseInt(_0x346783[0x3],0xa),_0x32973a=_0x2e9ebb[_0x15291f(0x996)](_0xaadd29+';'+_0x19b06a+';'+_0x105729+';'+_0x155612+';','');this['chunks']['has'](_0x19b06a)||this['chunks'][_0x15291f(0x174)](_0x19b06a,[]);const _0x1aa308=this['chunks'][_0x15291f(0x264)](_0x19b06a);_0x1aa308[_0x105729]=_0x32973a,_0x1aa308[_0x15291f(0x5af)]===_0x155612&&(this[_0x15291f(0x8ce)](_0x1aa308[_0x15291f(0x784)]('')),this[_0x15291f(0x23b)][_0x15291f(0x8be)](_0x19b06a));}['clearWaitSuccess'](){const _0x1a3188=_0x1833fc;this['waitSuccess']?.(),delete this[_0x1a3188(0x5c1)];}['arrayBufferToObject'](_0x36d613){const _0x2514f7=_0x1833fc,_0x140c3d=new TextDecoder()[_0x2514f7(0xfe)](_0x36d613);return JSON['parse'](_0x140c3d);}[_0x1833fc(0x6fd)](_0x1f336d){const _0x42c55d=_0x1833fc,_0x3a7bc5=new Uint8Array(_0x1f336d[_0x42c55d(0x209)](0x0,0x4)),_0x165594=new Uint32Array(_0x3a7bc5[_0x42c55d(0x802)])[0x0],_0x2ce99b=new Uint8Array(_0x1f336d['slice'](0x4,0x4+_0x165594)),_0x5f785f=new Uint8Array(_0x1f336d['slice'](0x4+_0x165594));return[this[_0x42c55d(0x938)](_0x2ce99b[_0x42c55d(0x802)]),_0x5f785f[_0x42c55d(0x802)]];}}const _0x21151f=0xc350;var _0x231523,_0x1855f5;!function(_0x577642){const _0x1e65b9=_0x1833fc;_0x577642[_0x577642[_0x1e65b9(0x789)]=0x0]='High',_0x577642[_0x577642[_0x1e65b9(0x13f)]=0x1]=_0x1e65b9(0x13f),_0x577642[_0x577642['Low']=0x2]='Low';}(_0x231523||(_0x231523={}));class _0xb2dbb3 extends _0x1a4e2a{[_0x1833fc(0x9b3)];[_0x1833fc(0x93c)];[_0x1833fc(0x861)]=new Map();[_0x1833fc(0x926)];[_0x1833fc(0x478)];[_0x1833fc(0x12a)];[_0x1833fc(0x6ff)]=!0x1;[_0x1833fc(0x6ae)];[_0x1833fc(0x8bc)];[_0x1833fc(0x6f1)];[_0x1833fc(0x4b7)]=function(e,t=_0x231523,s=!0x1){const _0x22eeed=_0x1833fc;let n=!0x1;const i=[];async function o(){const _0x133494=a0_0x17c7;if(!n){for(n=!0x0;i[_0x133494(0x480)](e=>e[_0x133494(0x1f6)]);){let t,n=0x0;for(const [e,s]of i[_0x133494(0x544)]())if(t=s['shift'](),n=e,t)break;if(t)try{if(e instanceof _0x3983ae&&e[_0x133494(0x89e)](t),e instanceof _0x756c3f&&await e['call'](t),i[_0x133494(0x209)](-0x1)['some'](e=>e[_0x133494(0x1f6)]))continue;const s=i['length']-0x1;n===s&&i[s][_0x133494(0x1f6)]&&await _0x524332[_0x133494(0x70b)](0x0);}catch(o){s?i[n][_0x133494(0x5ed)](t,!0x1):i[n][_0x133494(0x9c0)](t,!0x1),await e[_0x133494(0x70b)]();}}n=!0x1;}}return Object['values'](t)[_0x22eeed(0x919)](e=>{'string'!=typeof e&&(i[e]=_0x9c4a54(o));}),{'queues':i};}(new _0x3983ae(this['sendAction']['bind'](this),this['waitSendBuffer'][_0x1833fc(0x6e2)](this)));[_0x1833fc(0x1f2)]=0x0;[_0x1833fc(0x9c2)]=0x0;['timeSending']=0x0;['roundTripTime']=0x0;[_0x1833fc(0x785)];[_0x1833fc(0x27f)]=_0x3938f0(_0x1833fc(0xfc),_0x381da1[_0x1833fc(0x398)]);constructor(_0x3eb8c4,_0x1cb654,_0x5415c2,_0x1f403e,_0x2d7a8a,_0x163a57,_0x34e6c0,_0x3738ad){const _0x5abd1b=_0x1833fc;super(_0x3eb8c4,_0x1cb654,_0x5415c2,_0x1f403e,_0x2d7a8a,_0x3738ad),this[_0x5abd1b(0x9b3)]=_0x163a57,this[_0x5abd1b(0x93c)]=_0x34e6c0;}[_0x1833fc(0x244)](){const _0x290dc1=_0x1833fc;this[_0x290dc1(0x487)](),this[_0x290dc1(0x405)](),delete this[_0x290dc1(0x12a)],this[_0x290dc1(0x535)](),this[_0x290dc1(0x797)](),this['clearWaitAnswer'](),this[_0x290dc1(0x861)][_0x290dc1(0x67d)](),this['isReconnecting']=!0x1,this[_0x290dc1(0x4b7)][_0x290dc1(0x57e)][_0x290dc1(0x919)](_0x494c33=>_0x494c33[_0x290dc1(0x67d)]()),this[_0x290dc1(0x8d1)](),super[_0x290dc1(0x244)]();}[_0x1833fc(0x714)](){const _0x32b9e0=_0x1833fc;return!!this[_0x32b9e0(0x12a)]&&super['isConnected']()&&Date[_0x32b9e0(0x1d5)]()-this[_0x32b9e0(0x12a)]<0x3a98;}async['collectStats'](){const _0x24ce46=_0x1833fc;this[_0x24ce46(0x3a7)]&&(await this[_0x24ce46(0x2d6)]['collectSendersStats'](this[_0x24ce46(0x861)],(_0x332401,_0x468134)=>{const _0x3655f9=_0x24ce46;_0x346d57({'type':_0x10e8a1['Stats'],'streamId':_0x468134,'nodeId':this[_0x3655f9(0x4fb)],'stats':_0x332401},this[_0x3655f9(0x3a7)]);}),this['systemTopic'][_0x24ce46(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x24ce46(0x70d)],'content':{'type':_0x10e8a1[_0x24ce46(0x509)],'nodeId':this[_0x24ce46(0x4fb)],'stats':{'origin':_0x16a03b[_0x24ce46(0x82d)],'timestamp':Date[_0x24ce46(0x1d5)](),'messagesSent':this[_0x24ce46(0x1f2)],'bytesSent':this['bytesSent'],'timeSending':this[_0x24ce46(0x399)],'roundTripTime':this[_0x24ce46(0x944)]}}}));}async[_0x1833fc(0x146)](_0x5ab14f){const _0x1da878=_0x1833fc;_0x380207['log'](_0x381da1['Connection'],_0x1da878(0x25b),this[_0x1da878(0x86c)][_0x1da878(0x76b)](),this['remoteId']),this[_0x1da878(0x535)](),this['clearConnectionTimeout'](),this[_0x1da878(0x8e8)](),this[_0x1da878(0x6ae)]=setTimeout(()=>{const _0x1567c9=_0x1da878;this[_0x1567c9(0x1c0)]();},0x7530),this[_0x1da878(0x5ba)]||(this['dataChannel']=this[_0x1da878(0x2d6)][_0x1da878(0x46c)](_0x1da878(0x87e)),this[_0x1da878(0x5ba)][_0x1da878(0x62e)]=_0x72064c,this[_0x1da878(0x5ba)][_0x1da878(0x119)]=()=>{const _0x4fcc35=_0x1da878;this[_0x4fcc35(0x785)]=setTimeout(()=>{const _0x8c28bb=_0x4fcc35;delete this[_0x8c28bb(0x785)],['connecting',_0x8c28bb(0x4d0)][_0x8c28bb(0x778)](this[_0x8c28bb(0x5ba)]?.['state']??'')||this[_0x8c28bb(0x1c0)]();},0xfa);});const _0x5e7d5f=await this[_0x1da878(0x2d6)][_0x1da878(0x146)](_0x5ab14f);this[_0x1da878(0x12a)]||(this[_0x1da878(0x12a)]=Date[_0x1da878(0x1d5)]());const _0x260de6=(0x0,_0x6e2c44['v4'])();this[_0x1da878(0x157)]({'type':_0x10e8a1['Offer'],'offer':_0x5e7d5f,'version':this['currentVersion'],'connectionType':this[_0x1da878(0x181)]},_0x260de6),this[_0x1da878(0x181)]===_0x3fa342[_0x1da878(0x555)]&&(this[_0x1da878(0x478)]=_0x524332[_0x1da878(0x882)](()=>{const _0x5773a6=_0x1da878;this[_0x5773a6(0x157)]({'type':_0x10e8a1['Offer'],'offer':_0x5e7d5f,'version':this[_0x5773a6(0x2ef)],'connectionType':this[_0x5773a6(0x181)]},_0x260de6);},0x1388));}async['handleAnswer'](_0x22e755,_0x454bba){const _0x14a6ff=_0x1833fc;if(_0x454bba===this[_0x14a6ff(0x2ef)]){this[_0x14a6ff(0x8e8)]();try{await this['connection'][_0x14a6ff(0x9da)](_0x22e755,this[_0x14a6ff(0x146)][_0x14a6ff(0x6e2)](this)),this[_0x14a6ff(0x8ec)](),this[_0x14a6ff(0x797)](),this[_0x14a6ff(0x577)]();}catch(_0x2ae28f){this[_0x14a6ff(0x1c0)]();}}}[_0x1833fc(0x77c)](_0xb51745){const _0x110560=_0x1833fc;if(!this[_0x110560(0x5ba)])throw new _0x4511be(_0x4511be[_0x110560(0x2a2)]['InvalidDataChannel'],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this['localNode'][_0x110560(0x76b)](),'remoteId':this[_0x110560(0x4fb)],'eventMessage':_0xb51745});if(_0x110560(0x4d0)!==this[_0x110560(0x5ba)][_0x110560(0x636)])throw new _0x4511be(_0x4511be[_0x110560(0x2a2)][_0x110560(0x358)],{'message':_0x110560(0x173),'localId':this[_0x110560(0x86c)][_0x110560(0x76b)](),'remoteId':this[_0x110560(0x4fb)],'eventMessage':_0xb51745});let _0x3de1b1;if(_0xb51745[_0x110560(0x3ff)]['data']instanceof ArrayBuffer){const _0x303792=_0xb51745[_0x110560(0x3ff)][_0x110560(0x87e)];_0xb51745={..._0xb51745,'content':{..._0xb51745[_0x110560(0x3ff)],'data':void 0x0}},_0x3de1b1=this[_0x110560(0x95e)](_0xb51745,_0x303792);}else _0x3de1b1=JSON[_0x110560(0x33b)](_0xb51745);if(_0x110560(0xf8)==typeof _0x3de1b1&&_0x3de1b1[_0x110560(0x5af)]>_0x2798ad)return this['sendChunked'](_0xb51745,_0x3de1b1);0x0===_0xb51745[_0x110560(0x1d9)]&&_0xb51745[_0x110560(0x625)]===_0x35033d['Content']&&this[_0x110560(0x27f)]['logger']['performCalculation'](()=>_0x380207[_0x110560(0x41b)](_0x381da1['SenderSendMessage'],_0x110560(0x20a),this[_0x110560(0x4fb)],_0x53c0ee(_0xb51745)),void 0x0);const _0x563241=0x0===_0xb51745['topicLabel']&&[_0x35033d['Subscription'],_0x35033d[_0x110560(0x70d)]]['includes'](_0xb51745[_0x110560(0x625)])?_0x231523[_0x110560(0x789)]:_0xb51745 instanceof ArrayBuffer?_0x231523[_0x110560(0x76d)]:_0x231523[_0x110560(0x13f)];this['sendWithRetry'](_0x3de1b1,_0x563241);}[_0x1833fc(0x4ac)](_0x128c42,_0xb20ad6,_0x4c11dd,_0x47c92f){const _0x5692ef=_0x1833fc,_0x53559b=(_0x1bd67f=this[_0x5692ef(0x9b3)],_0x36e0b3=this[_0x5692ef(0x93c)],Math[_0x5692ef(0x53d)](0xe1000*_0x1bd67f*_0x36e0b3));var _0x1bd67f,_0x36e0b3;const _0x33bee2=this[_0x5692ef(0x861)][_0x5692ef(0x264)](_0xb20ad6['id'])||{'stream':_0xb20ad6,'priority':_0x4c11dd,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x53559b,'maxBitrate':_0x53559b,'framerate':this[_0x5692ef(0x9b3)],'maxFramerate':this[_0x5692ef(0x9b3)],'tracks':{},'params':_0x47c92f},_0x1a42d3=_0x33bee2[_0x5692ef(0x532)][_0x128c42[_0x5692ef(0x94b)]]||{'track':_0x128c42};if(_0x1a42d3['sender']?(_0x1a42d3[_0x5692ef(0x6ac)]=_0x128c42,this['connection'][_0x5692ef(0x812)](_0x128c42,_0x1a42d3[_0x5692ef(0x948)])):_0x1a42d3[_0x5692ef(0x948)]=this['connection'][_0x5692ef(0x4ac)](_0x128c42,_0xb20ad6),_0x33bee2['tracks'][_0x128c42[_0x5692ef(0x94b)]]=_0x1a42d3,_0x47c92f&&(_0x33bee2[_0x5692ef(0x1df)]=_0x47c92f),_0x47c92f&&_0x5692ef(0x323)===_0x47c92f[_0x5692ef(0x94b)]&&_0x47c92f[_0x5692ef(0x38f)]&&_0x47c92f[_0x5692ef(0x78d)]&&(_0x33bee2[_0x5692ef(0x196)]=this[_0x5692ef(0x895)](_0x47c92f[_0x5692ef(0x38f)],_0x47c92f[_0x5692ef(0x78d)]),_0x33bee2[_0x5692ef(0x30f)]=_0x33bee2[_0x5692ef(0x196)],_0x33bee2['tracks']['video']&&_0x33bee2[_0x5692ef(0x532)][_0x5692ef(0x323)][_0x5692ef(0x948)])){const _0x3f588a=_0x33bee2[_0x5692ef(0x532)][_0x5692ef(0x323)][_0x5692ef(0x948)];this[_0x5692ef(0x2d6)][_0x5692ef(0x99a)](_0x3f588a,Math['floor'](0xa*_0x33bee2[_0x5692ef(0x196)])/0xa,_0x33bee2[_0x5692ef(0x8d7)],_0x33bee2['bitrate'],_0x33bee2[_0x5692ef(0x208)]);}this['senders'][_0x5692ef(0x174)](_0xb20ad6['id'],_0x33bee2);}[_0x1833fc(0x465)](_0x4d19cd,_0x17330a){const _0x1a7133=_0x1833fc,_0x2bff22=this[_0x1a7133(0x861)]['get'](_0x4d19cd['id']);if(_0x2bff22&&_0x2bff22[_0x1a7133(0x208)]!==_0x17330a&&(_0x2bff22[_0x1a7133(0x208)]=_0x17330a,_0x2bff22[_0x1a7133(0x532)][_0x1a7133(0x323)]&&_0x2bff22[_0x1a7133(0x532)][_0x1a7133(0x323)][_0x1a7133(0x948)])){const _0x1f9d02=_0x2bff22['tracks'][_0x1a7133(0x323)][_0x1a7133(0x948)];this[_0x1a7133(0x2d6)][_0x1a7133(0x99a)](_0x1f9d02,Math[_0x1a7133(0x53d)](0xa*_0x2bff22['resolutionScale'])/0xa,_0x2bff22[_0x1a7133(0x8d7)],_0x2bff22[_0x1a7133(0x287)],_0x2bff22[_0x1a7133(0x208)]);}}['setParams'](_0x13f0f4,_0x27ff58){const _0x1a17c0=_0x1833fc,_0x5a36f4=this[_0x1a17c0(0x861)][_0x1a17c0(0x264)](_0x13f0f4['id']);if(_0x5a36f4){if(_0x5a36f4['params']=_0x27ff58,_0x27ff58&&_0x1a17c0(0x323)===_0x27ff58[_0x1a17c0(0x94b)]&&_0x27ff58['resolution']&&_0x27ff58['maxResolution']){if(_0x5a36f4[_0x1a17c0(0x30f)]=this['getResolutionScale'](_0x27ff58[_0x1a17c0(0x38f)],_0x27ff58['maxResolution']),_0x5a36f4[_0x1a17c0(0x196)]<_0x5a36f4[_0x1a17c0(0x30f)]&&(_0x5a36f4[_0x1a17c0(0x196)]=_0x5a36f4[_0x1a17c0(0x30f)]),_0x5a36f4[_0x1a17c0(0x532)]['video']&&_0x5a36f4[_0x1a17c0(0x532)][_0x1a17c0(0x323)][_0x1a17c0(0x948)]){const _0x27b2d7=_0x5a36f4[_0x1a17c0(0x532)][_0x1a17c0(0x323)][_0x1a17c0(0x948)];this[_0x1a17c0(0x2d6)]['setEncodingParameters'](_0x27b2d7,Math[_0x1a17c0(0x53d)](0xa*_0x5a36f4[_0x1a17c0(0x196)])/0xa,_0x5a36f4[_0x1a17c0(0x8d7)],_0x5a36f4[_0x1a17c0(0x287)],_0x5a36f4[_0x1a17c0(0x208)]);}this['clearUpgradeTimeout'](),this['setUpgradeTimeout']();}this[_0x1a17c0(0x861)]['set'](_0x13f0f4['id'],_0x5a36f4);}}[_0x1833fc(0x7ba)](_0x1c24e1,_0x903d4){const _0x250676=_0x1833fc,_0x169497=this[_0x250676(0x861)][_0x250676(0x264)](_0x903d4['id']);if(_0x169497){const _0x584931=_0x169497[_0x250676(0x532)][_0x1c24e1[_0x250676(0x94b)]];_0x584931&&(_0x584931[_0x250676(0x948)]&&this[_0x250676(0x2d6)][_0x250676(0x7ba)](_0x584931[_0x250676(0x948)]),_0x584931[_0x250676(0x6ac)]=void 0x0);}}[_0x1833fc(0x692)](_0x2a67ab){const _0x4cd186=_0x1833fc;this[_0x4cd186(0x487)]();const _0xccb527=function(_0x920058,_0x5df6c0){const _0x3caddc=_0x4cd186;return _0x920058[_0x3caddc(0x1e5)]((_0x17692f,_0x2cca62)=>_0x5df6c0[_0x3caddc(0x621)]===_0xad16b8[_0x3caddc(0x8fe)]?_0x2cca62['priority']-_0x17692f[_0x3caddc(0x208)]:_0x17692f[_0x3caddc(0x208)]-_0x2cca62[_0x3caddc(0x208)])[_0x3caddc(0x33e)](_0x4e9b72=>function(_0x5da5c2,_0x21670d){const _0x5aa216=_0x3caddc;if(_0x21670d[_0x5aa216(0x621)]===_0xad16b8[_0x5aa216(0x8fe)]){if(_0x21670d[_0x5aa216(0x1ce)]===_0x4cfab8[_0x5aa216(0x75d)])return _0x5da5c2[_0x5aa216(0x196)]<0x4||_0x5da5c2[_0x5aa216(0x822)]>0xf;if(_0x21670d[_0x5aa216(0x1ce)]===_0x4cfab8['Bitrate'])return _0x5da5c2[_0x5aa216(0x111)]>_0x21151f;}return _0x5da5c2[_0x5aa216(0x196)]>_0x5da5c2[_0x5aa216(0x30f)]||_0x5da5c2[_0x5aa216(0x8d7)]<_0x5da5c2[_0x5aa216(0x822)]||_0x5da5c2[_0x5aa216(0x287)]<_0x5da5c2[_0x5aa216(0x111)];}(_0x4e9b72,_0x5df6c0));}(Array[_0x4cd186(0x5cf)](this[_0x4cd186(0x861)]['values']()),_0x2a67ab);if(_0xccb527&&(function(_0x44cdc8,_0x61d64e){const _0x20311e=_0x4cd186;_0x44cdc8[_0x20311e(0x532)]['video']&&_0x44cdc8['tracks'][_0x20311e(0x323)][_0x20311e(0x948)]&&(_0x44cdc8[_0x20311e(0x196)]=function(_0x2f79bb,_0x493eff,_0x2b33b5){const _0x49118d=_0x20311e;switch(_0x2b33b5[_0x49118d(0x621)]){case _0xad16b8[_0x49118d(0x8fe)]:_0x2b33b5['component']===_0x4cfab8[_0x49118d(0x75d)]&&(_0x2f79bb+=0.5)>0x4&&(_0x2f79bb=0x4);break;case _0xad16b8['Upgrade']:(_0x2f79bb-=0.5)<_0x493eff&&(_0x2f79bb=_0x493eff);}return _0x2f79bb;}(_0x44cdc8[_0x20311e(0x196)],_0x44cdc8['minResolutionScale'],_0x61d64e),_0x44cdc8['framerate']=function(_0x168890,_0x1ac4ca,_0x7bab1f){const _0x2a03cf=_0x20311e;switch(_0x7bab1f[_0x2a03cf(0x621)]){case _0xad16b8[_0x2a03cf(0x8fe)]:_0x7bab1f[_0x2a03cf(0x1ce)]===_0x4cfab8[_0x2a03cf(0x75d)]&&(_0x168890-=0x3)<0xf&&(_0x168890=0xf);break;case _0xad16b8[_0x2a03cf(0x80e)]:(_0x168890+=0x3)>_0x1ac4ca&&(_0x168890=_0x1ac4ca);}return _0x168890;}(_0x44cdc8[_0x20311e(0x8d7)],_0x44cdc8[_0x20311e(0x822)],_0x61d64e),_0x44cdc8[_0x20311e(0x287)]=function(_0x16c5c8,_0x4e3b7b,_0x404191){const _0x4d6a96=_0x20311e;switch(_0x404191[_0x4d6a96(0x621)]){case _0xad16b8['Downgrade']:_0x404191[_0x4d6a96(0x1ce)]===_0x4cfab8['Bitrate']&&(_0x16c5c8*=0.75)<_0x21151f&&(_0x16c5c8=_0x21151f);break;case _0xad16b8['Upgrade']:(_0x16c5c8*=1.25)>_0x4e3b7b&&(_0x16c5c8=_0x4e3b7b);}return _0x16c5c8;}(_0x44cdc8['bitrate'],_0x44cdc8[_0x20311e(0x111)],_0x61d64e));}(_0xccb527,_0x2a67ab),_0xccb527['tracks'][_0x4cd186(0x323)]&&_0xccb527[_0x4cd186(0x532)][_0x4cd186(0x323)][_0x4cd186(0x948)])){const _0x3488b0=_0xccb527[_0x4cd186(0x532)][_0x4cd186(0x323)][_0x4cd186(0x948)];this[_0x4cd186(0x2d6)][_0x4cd186(0x99a)](_0x3488b0,Math[_0x4cd186(0x53d)](0xa*_0xccb527['resolutionScale'])/0xa,_0xccb527[_0x4cd186(0x8d7)],_0xccb527[_0x4cd186(0x287)],_0xccb527[_0x4cd186(0x208)]);}(_0xccb527||_0x2a67ab['action']===_0xad16b8[_0x4cd186(0x8fe)])&&this[_0x4cd186(0x10b)]();}[_0x1833fc(0x4ae)](){const _0x243a10=_0x1833fc;return this['retryQueue'][_0x243a10(0x57e)][_0x243a10(0x161)]((_0x336fac,_0x53183c)=>_0x336fac+_0x53183c['size'],0x0)*_0x20249c;}[_0x1833fc(0x197)](){const _0x420232=_0x1833fc;return this['dataChannel']?.[_0x420232(0x3e3)]??0x0;}[_0x1833fc(0x9a7)](){const _0x4b888f=_0x1833fc;super[_0x4b888f(0x9a7)](),this['clearOncloseTimeout'](),this[_0x4b888f(0x8e8)](),this[_0x4b888f(0x861)][_0x4b888f(0x919)](_0x4ba2c9=>{const _0x713706=_0x4b888f;_0x4ba2c9[_0x713706(0x532)]['video']&&(_0x4ba2c9['tracks'][_0x713706(0x323)][_0x713706(0x948)]=void 0x0),_0x4ba2c9['tracks'][_0x713706(0x11f)]&&(_0x4ba2c9[_0x713706(0x532)]['audio'][_0x713706(0x948)]=void 0x0);}),this[_0x4b888f(0x6ff)]=!0x0;}async[_0x1833fc(0x38a)](){return new Promise(async _0x4030ea=>{const _0x55078d=a0_0x17c7;if(!this[_0x55078d(0x5ba)]||_0x55078d(0x4d0)!==this[_0x55078d(0x5ba)][_0x55078d(0x636)])return await _0x524332[_0x55078d(0x70b)](0x64),void _0x4030ea();this[_0x55078d(0x5ba)]['bufferedAmount']<_0x72064c?_0x4030ea():this['dataChannel'][_0x55078d(0x617)]=()=>{const _0x5dd74b=_0x55078d;this['dataChannel']&&(this[_0x5dd74b(0x5ba)][_0x5dd74b(0x617)]=null),_0x4030ea();};});}[_0x1833fc(0x8e7)](_0x493dd6,_0x5bbbe7){const _0x5d16b7=_0x1833fc,_0x4b00d3=[];for(let _0x5ea856=0x0;_0x5ea856<_0x5bbbe7['length'];_0x5ea856+=_0x2798ad)_0x4b00d3[_0x5d16b7(0x5ed)](_0x5bbbe7[_0x5d16b7(0x209)](_0x5ea856,_0x5ea856+_0x2798ad));for(const _0x57096d of _0x4b00d3)this[_0x5d16b7(0x2e7)](_0xaadd29+';'+_0x493dd6[_0x5d16b7(0x4c0)]+';'+_0x4b00d3[_0x5d16b7(0x1fe)](_0x57096d)+';'+_0x4b00d3[_0x5d16b7(0x5af)]+';'+_0x57096d,_0x231523[_0x5d16b7(0x76d)]);}async[_0x1833fc(0x2e7)](_0x179618,_0x274ec2){const _0xb32a96=_0x1833fc;_0x179618===_0x224061?this[_0xb32a96(0x4b7)][_0xb32a96(0x57e)][_0x274ec2][_0xb32a96(0x1f6)]?.[_0xb32a96(0x962)]!==_0x224061&&this['retryQueue'][_0xb32a96(0x57e)][_0x274ec2][_0xb32a96(0x9c0)](_0x179618):this[_0xb32a96(0x4b7)][_0xb32a96(0x57e)][_0x274ec2][_0xb32a96(0x5ed)](_0x179618);}[_0x1833fc(0x533)](_0x1ff2f5){const _0x4ca5a4=_0x1833fc;if(!this[_0x4ca5a4(0x5ba)]||'open'!==this[_0x4ca5a4(0x5ba)][_0x4ca5a4(0x636)])throw new Error(_0x4ca5a4(0x2d3));if(this[_0x4ca5a4(0x5ba)][_0x4ca5a4(0x3e3)]>=0xbe8000)throw new Error(_0x4ca5a4(0x783));const _0x504fa5=Date[_0x4ca5a4(0x1d5)]();_0x1ff2f5!==_0x224061&&(this[_0x4ca5a4(0x1f2)]+=0x1,this[_0x4ca5a4(0x9c2)]+=_0x1ff2f5 instanceof ArrayBuffer?_0x1ff2f5[_0x4ca5a4(0x6b7)]:_0x1ff2f5[_0x4ca5a4(0x5af)]),ArrayBuffer,this[_0x4ca5a4(0x5ba)]['send'](_0x1ff2f5),this['timeSending']+=Date['now']()-_0x504fa5;}[_0x1833fc(0x577)](){const _0x8ed068=_0x1833fc;this[_0x8ed068(0x926)]&&this[_0x8ed068(0x405)]();let _0x167d78=!0x0,_0x212d1e=Date[_0x8ed068(0x1d5)]();this[_0x8ed068(0x12a)]=Date['now'](),this[_0x8ed068(0x5ba)][_0x8ed068(0x521)]=_0x394644=>{const _0x3b1a39=_0x8ed068;'1'===_0x394644['data']&&(this[_0x3b1a39(0x944)]=Date[_0x3b1a39(0x1d5)]()-_0x212d1e,_0x167d78&&this['publishSystemMessage']({'type':_0x10e8a1[_0x3b1a39(0x932)]}),_0x167d78=!0x1,this[_0x3b1a39(0x12a)]=Date[_0x3b1a39(0x1d5)](),this[_0x3b1a39(0x6ff)]&&(this['isReconnecting']=!0x1,this[_0x3b1a39(0x11b)]()));},this[_0x8ed068(0x926)]=_0x524332['setInterval'](()=>{const _0x29e535=_0x8ed068;_0x212d1e=Date[_0x29e535(0x1d5)](),this[_0x29e535(0x2e7)](_0x224061,_0x231523[_0x29e535(0x789)]),Date['now']()-this[_0x29e535(0x12a)]>(_0x167d78?0x15f90:0x3a98)&&this[_0x29e535(0x1c0)]();},0xbb8);}[_0x1833fc(0x11b)](){const _0x4cec82=_0x1833fc;this[_0x4cec82(0x861)][_0x4cec82(0x919)](_0x38584a=>{const _0xd1fcaf=_0x4cec82;_0x38584a[_0xd1fcaf(0x532)]['video']&&_0x38584a[_0xd1fcaf(0x532)][_0xd1fcaf(0x323)][_0xd1fcaf(0x6ac)]&&!_0x38584a[_0xd1fcaf(0x532)][_0xd1fcaf(0x323)][_0xd1fcaf(0x948)]&&(_0x38584a[_0xd1fcaf(0x532)][_0xd1fcaf(0x323)][_0xd1fcaf(0x948)]=this[_0xd1fcaf(0x2d6)][_0xd1fcaf(0x4ac)](_0x38584a['tracks'][_0xd1fcaf(0x323)][_0xd1fcaf(0x6ac)],_0x38584a[_0xd1fcaf(0x76e)])),_0x38584a[_0xd1fcaf(0x532)][_0xd1fcaf(0x11f)]&&_0x38584a[_0xd1fcaf(0x532)]['audio'][_0xd1fcaf(0x6ac)]&&!_0x38584a[_0xd1fcaf(0x532)]['audio'][_0xd1fcaf(0x948)]&&(_0x38584a[_0xd1fcaf(0x532)][_0xd1fcaf(0x11f)]['sender']=this['connection'][_0xd1fcaf(0x4ac)](_0x38584a[_0xd1fcaf(0x532)][_0xd1fcaf(0x11f)][_0xd1fcaf(0x6ac)],_0x38584a[_0xd1fcaf(0x76e)]));});}[_0x1833fc(0x2b1)](){const _0x521d34=_0x1833fc;this[_0x521d34(0x157)]({'type':_0x10e8a1[_0x521d34(0x3ad)],'candidates':this[_0x521d34(0x7bd)],'origin':_0x16a03b['Sender'],'version':this[_0x521d34(0x2ef)],'connectionType':this[_0x521d34(0x181)]});}[_0x1833fc(0xe8)](){const _0x4533eb=_0x1833fc;super[_0x4533eb(0xe8)](),this[_0x4533eb(0x2d6)][_0x4533eb(0x2e6)]=()=>{const _0x17f0fb=_0x4533eb;if(_0x17f0fb(0x6b4)===this['connection'][_0x17f0fb(0x2a4)]){_0x380207[_0x17f0fb(0x41b)](_0x381da1[_0x17f0fb(0xdf)],'iceConnectionState\x20failed',this[_0x17f0fb(0x86c)][_0x17f0fb(0x76b)](),this['remoteId']);try{if(this['connection']['canRestartHandshake'])return void this[_0x17f0fb(0x2d6)][_0x17f0fb(0x9e4)]();}catch(_0x93c985){}this[_0x17f0fb(0x146)]({'handshakeRestart':!0x0});}},this[_0x4533eb(0x2d6)]['onConnectionStateChange']=()=>{const _0x412cdb=_0x4533eb;_0x412cdb(0x84f)!==this[_0x412cdb(0x2d6)][_0x412cdb(0x6e0)]&&_0x412cdb(0x6b4)!==this[_0x412cdb(0x2d6)][_0x412cdb(0x6e0)]||this[_0x412cdb(0x1c0)]();};}['handleDisconnect'](){const _0x5be8dc=_0x1833fc;this[_0x5be8dc(0x405)](),this[_0x5be8dc(0x535)](),this[_0x5be8dc(0x797)](),_0x380207['warning'](_0x5be8dc(0x684),{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0x5be8dc(0x76b)](),'nodeType':this['localNode'][_0x5be8dc(0x339)],'remoteId':this[_0x5be8dc(0x4fb)],'data':{'connectionType':this[_0x5be8dc(0x181)],'connectionState':this['connection'][_0x5be8dc(0x6e0)],'iceConnectionState':this[_0x5be8dc(0x2d6)]['handshakeState'],'signalingState':this[_0x5be8dc(0x2d6)][_0x5be8dc(0x5a1)],'readyState':this[_0x5be8dc(0x5ba)]?.[_0x5be8dc(0x636)]||'','lastHeartbeat':this[_0x5be8dc(0x12a)]?Date[_0x5be8dc(0x1d5)]()-this[_0x5be8dc(0x12a)]:'','retryQueue':this[_0x5be8dc(0x4b7)]}}),(this['lastHeartbeat']&&Date[_0x5be8dc(0x1d5)]()-this[_0x5be8dc(0x12a)]>0xea60)??0x1?this[_0x5be8dc(0x3a7)]['publish']({'sourceId':this[_0x5be8dc(0x4fb)],'destinationIds':[this[_0x5be8dc(0x86c)]['getId']()],'messageType':_0x35033d[_0x5be8dc(0x70d)],'content':{'type':_0x10e8a1[_0x5be8dc(0x204)]}}):(this['resetConnection'](),this['publishSystemMessage']({'type':_0x10e8a1[_0x5be8dc(0x35a)],'version':this['currentVersion'],'connectionType':this['connectionType']}),this['restartTimeout']=setTimeout(()=>{const _0x4098c2=_0x5be8dc;this[_0x4098c2(0x1c0)]();},0x7530));}['clearHeartbeat'](){const _0x55d0bb=_0x1833fc;this[_0x55d0bb(0x926)]?.(),delete this[_0x55d0bb(0x926)];}['clearConnectionTimeout'](){const _0x4a6f62=_0x1833fc;this[_0x4a6f62(0x6ae)]&&(clearTimeout(this[_0x4a6f62(0x6ae)]),delete this['connectionTimeout']);}[_0x1833fc(0x535)](){const _0x1762dc=_0x1833fc;this[_0x1762dc(0x8bc)]&&(clearTimeout(this[_0x1762dc(0x8bc)]),delete this[_0x1762dc(0x8bc)]);}[_0x1833fc(0x487)](){const _0x2f0585=_0x1833fc;this[_0x2f0585(0x6f1)]&&(clearTimeout(this[_0x2f0585(0x6f1)]),delete this[_0x2f0585(0x6f1)]);}[_0x1833fc(0x10b)](){const _0x5fe1dc=_0x1833fc;this[_0x5fe1dc(0x6f1)]=setTimeout(()=>{const _0x26867d=_0x5fe1dc;this['applyRemediation']({'type':_0x1b187c[_0x26867d(0x826)],'action':_0xad16b8['Upgrade']});},0x3a98);}['getResolutionScale'](_0x472530,_0x58bf06){const _0x593d08=_0x1833fc,_0x2811b7=Math[_0x593d08(0x1a6)](_0x472530[_0x593d08(0x2b0)]/_0x58bf06[_0x593d08(0x2b0)],_0x472530[_0x593d08(0x2e5)]/_0x58bf06[_0x593d08(0x2e5)]);return Math['min'](Math[_0x593d08(0x1a6)](_0x2811b7,0x1),0x4);}['clearWaitAnswer'](){const _0x661db1=_0x1833fc;this[_0x661db1(0x478)]?.(),delete this[_0x661db1(0x478)];}[_0x1833fc(0x8d1)](){const _0x1bdee8=_0x1833fc;this[_0x1bdee8(0x785)]&&(clearTimeout(this[_0x1bdee8(0x785)]),delete this[_0x1bdee8(0x785)]);}['objectToArrayBuffer'](_0x21ec7b){const _0x55775f=_0x1833fc,_0x5411af=JSON[_0x55775f(0x33b)](_0x21ec7b);return new TextEncoder()[_0x55775f(0x35e)](_0x5411af)[_0x55775f(0x802)];}[_0x1833fc(0x95e)](_0x4d2476,_0x31a899){const _0x1df996=_0x1833fc,_0x2dbb6a=this[_0x1df996(0x86d)](_0x4d2476),_0x3b3755=new Uint8Array(0x4),_0xf7db7f=new Uint8Array(_0x2dbb6a),_0x585856=new Uint8Array(_0x31a899);_0x3b3755[_0x1df996(0x174)](new Uint8Array(new Uint32Array([_0xf7db7f[_0x1df996(0x5af)]])[_0x1df996(0x802)]));const _0x518675=new Uint8Array(0x4+_0xf7db7f['length']+_0x585856[_0x1df996(0x5af)]);return _0x518675[_0x1df996(0x174)](_0x3b3755),_0x518675[_0x1df996(0x174)](_0xf7db7f,0x4),_0x518675['set'](_0x585856,0x4+_0xf7db7f[_0x1df996(0x5af)]),_0x518675[_0x1df996(0x802)];}}class _0x46b7a8 extends _0x1b7401{[_0x1833fc(0x4fd)];['connectionType'];[_0x1833fc(0x9b3)];[_0x1833fc(0x93c)];['connectionConstructor'];['senderConnection'];[_0x1833fc(0x958)];[_0x1833fc(0x6d7)]=[];[_0x1833fc(0x381)]=_0x4febb4();[_0x1833fc(0x31a)]=_0x4febb4();[_0x1833fc(0x74b)]=_0x4febb4();[_0x1833fc(0x3f9)]=[];['systemTopic'];[_0x1833fc(0xe5)]=new Map();[_0x1833fc(0x188)]=new Map();[_0x1833fc(0x239)]=new Map();[_0x1833fc(0x334)]=new Map();[_0x1833fc(0x9ea)]=!0x1;constructor(_0x3aeaac,_0x5797b2,_0x5f3029,_0x24c3b5,_0x56ee72,_0x223ad1,_0x5db95b,_0x1d50d8){const _0x4886f7=_0x1833fc;super(_0x3aeaac,_0x5797b2,_0x5f3029),this['iceServers']=_0x24c3b5,this[_0x4886f7(0x181)]=_0x56ee72,this['maxFps']=_0x223ad1,this['maxBpp']=_0x5db95b,this[_0x4886f7(0x3ea)]=_0x1d50d8;}[_0x1833fc(0x2af)](_0xf1d63c){const _0x2e7a3c=_0x1833fc;switch(_0xf1d63c[_0x2e7a3c(0x4ba)]()){case _0x4f9f07[_0x2e7a3c(0x30a)]['Data']:case _0x4f9f07[_0x2e7a3c(0x30a)]['PubSub']:case _0x4f9f07[_0x2e7a3c(0x30a)]['ObjectStore']:case _0x4f9f07[_0x2e7a3c(0x30a)][_0x2e7a3c(0x9d1)]:case _0x4f9f07['ContentType'][_0x2e7a3c(0x87d)]:case _0x4f9f07[_0x2e7a3c(0x30a)][_0x2e7a3c(0x23d)]:case _0x4f9f07[_0x2e7a3c(0x30a)]['GraphDatabase']:case _0x4f9f07[_0x2e7a3c(0x30a)]['ExternalStorage']:this[_0x2e7a3c(0xe5)]['set'](_0xf1d63c[_0x2e7a3c(0x92c)](),_0xf1d63c);break;case _0x4f9f07[_0x2e7a3c(0x30a)][_0x2e7a3c(0x786)]:this[_0x2e7a3c(0x239)]['set'](_0xf1d63c[_0x2e7a3c(0x92c)](),_0xf1d63c);}}[_0x1833fc(0x93b)](_0x435222){const _0x5d436f=_0x1833fc;switch(_0x435222['getContentType']()){case _0x4f9f07[_0x5d436f(0x30a)][_0x5d436f(0x799)]:case _0x4f9f07['ContentType'][_0x5d436f(0x30b)]:case _0x4f9f07[_0x5d436f(0x30a)][_0x5d436f(0x871)]:case _0x4f9f07[_0x5d436f(0x30a)]['KeyValueDatabase']:case _0x4f9f07[_0x5d436f(0x30a)][_0x5d436f(0x87d)]:case _0x4f9f07['ContentType']['VectorDatabase']:case _0x4f9f07[_0x5d436f(0x30a)]['GraphDatabase']:case _0x4f9f07['ContentType']['ExternalStorage']:this[_0x5d436f(0xe5)]['delete'](_0x435222['getLabel']());break;case _0x4f9f07[_0x5d436f(0x30a)]['Media']:this[_0x5d436f(0x239)][_0x5d436f(0x8be)](_0x435222['getLabel']());}}[_0x1833fc(0x892)](_0x4d9f48){const _0x302fe5=_0x1833fc;switch(_0x4d9f48['getContentType']()){case _0x4f9f07[_0x302fe5(0x30a)][_0x302fe5(0x799)]:case _0x4f9f07[_0x302fe5(0x30a)][_0x302fe5(0x30b)]:case _0x4f9f07[_0x302fe5(0x30a)]['ObjectStore']:case _0x4f9f07[_0x302fe5(0x30a)][_0x302fe5(0x9d1)]:case _0x4f9f07[_0x302fe5(0x30a)][_0x302fe5(0x87d)]:case _0x4f9f07[_0x302fe5(0x30a)]['VectorDatabase']:case _0x4f9f07[_0x302fe5(0x30a)][_0x302fe5(0x270)]:case _0x4f9f07[_0x302fe5(0x30a)]['ExternalStorage']:{const _0xd74493=_0x4d9f48[_0x302fe5(0x456)](_0x4e2702=>{const _0x379485=_0x302fe5;_0x1d96ed(_0x4e2702,this['getLocalId']())&&_0x343ffb(_0x4e2702,this[_0x379485(0x4fb)])&&this[_0x379485(0x77c)](_0x4e2702);});this[_0x302fe5(0x188)][_0x302fe5(0x174)](_0x4d9f48[_0x302fe5(0x92c)](),_0xd74493);break;}case _0x4f9f07[_0x302fe5(0x30a)][_0x302fe5(0x786)]:{const _0x14f8d5=_0x4d9f48['subscribe'](({content:_0x195e6a})=>{const _0x4a74cc=_0x302fe5;switch(_0x195e6a[_0x4a74cc(0x621)]){case _0x45c51e['Add']:this[_0x4a74cc(0x4ac)](_0x195e6a[_0x4a74cc(0x6ac)],_0x195e6a[_0x4a74cc(0x76e)],_0x195e6a[_0x4a74cc(0x208)],_0x195e6a[_0x4a74cc(0x1df)]);break;case _0x45c51e['Remove']:this['removeTrack'](_0x195e6a['track'],_0x195e6a[_0x4a74cc(0x76e)]);break;case _0x45c51e[_0x4a74cc(0x306)]:_0x195e6a[_0x4a74cc(0x208)]&&this['setPriority'](_0x195e6a[_0x4a74cc(0x76e)],_0x195e6a[_0x4a74cc(0x208)]),_0x195e6a[_0x4a74cc(0x1df)]&&this[_0x4a74cc(0x60f)](_0x195e6a['stream'],_0x195e6a['params']);}});this['mediaUnsubscribers'][_0x302fe5(0x174)](_0x4d9f48[_0x302fe5(0x92c)](),_0x14f8d5);break;}}}[_0x1833fc(0x64d)](_0x5ebc1d){const _0x207cf2=_0x1833fc;switch(_0x5ebc1d['getContentType']()){case _0x4f9f07[_0x207cf2(0x30a)][_0x207cf2(0x799)]:case _0x4f9f07[_0x207cf2(0x30a)][_0x207cf2(0x30b)]:case _0x4f9f07[_0x207cf2(0x30a)]['ObjectStore']:case _0x4f9f07['ContentType']['KeyValueDatabase']:case _0x4f9f07[_0x207cf2(0x30a)][_0x207cf2(0x87d)]:case _0x4f9f07[_0x207cf2(0x30a)]['VectorDatabase']:case _0x4f9f07[_0x207cf2(0x30a)]['GraphDatabase']:case _0x4f9f07[_0x207cf2(0x30a)][_0x207cf2(0x2db)]:this['dataUnsubscribers'][_0x207cf2(0x264)](_0x5ebc1d[_0x207cf2(0x92c)]())?.(),this['dataUnsubscribers'][_0x207cf2(0x8be)](_0x5ebc1d[_0x207cf2(0x92c)]());break;case _0x4f9f07[_0x207cf2(0x30a)][_0x207cf2(0x786)]:this[_0x207cf2(0x334)][_0x207cf2(0x264)](_0x5ebc1d[_0x207cf2(0x92c)]())?.(),this[_0x207cf2(0x334)][_0x207cf2(0x8be)](_0x5ebc1d[_0x207cf2(0x92c)]());}}['getSupportedContentTypes'](){const _0x6bfd26=_0x1833fc;return[_0x4f9f07['ContentType']['Data'],_0x4f9f07[_0x6bfd26(0x30a)][_0x6bfd26(0x786)],_0x4f9f07[_0x6bfd26(0x30a)][_0x6bfd26(0x30b)],_0x4f9f07[_0x6bfd26(0x30a)][_0x6bfd26(0x871)],_0x4f9f07[_0x6bfd26(0x30a)][_0x6bfd26(0x9d1)],_0x4f9f07[_0x6bfd26(0x30a)]['Job'],_0x4f9f07['ContentType'][_0x6bfd26(0x23d)],_0x4f9f07[_0x6bfd26(0x30a)]['GraphDatabase'],_0x4f9f07[_0x6bfd26(0x30a)]['ExternalStorage']];}[_0x1833fc(0x494)](_0x1de15c){this['systemTopic']=_0x1de15c;}[_0x1833fc(0x14f)](){const _0x3f4cea=_0x1833fc;delete this[_0x3f4cea(0x3a7)];}async[_0x1833fc(0x58b)](){const _0x28278c=_0x1833fc;this[_0x28278c(0x982)](),await this[_0x28278c(0x146)]();}[_0x1833fc(0x244)](){const _0x524b49=_0x1833fc;this['listenerUnsubscribers'][_0x524b49(0x919)](_0x36580b=>_0x36580b()),this['listenerUnsubscribers']=[],this[_0x524b49(0x4dc)]?.[_0x524b49(0x14f)](),this[_0x524b49(0x4dc)]?.[_0x524b49(0x244)](),delete this['senderConnection'],this[_0x524b49(0x6d7)][_0x524b49(0x919)](_0x537e5d=>_0x537e5d()),this[_0x524b49(0x6d7)]=[],this[_0x524b49(0x958)]?.[_0x524b49(0x14f)](),this[_0x524b49(0x958)]?.[_0x524b49(0x244)](),delete this[_0x524b49(0x958)];}[_0x1833fc(0x714)](){const _0x302c48=_0x1833fc;return this[_0x302c48(0x4dc)]?.[_0x302c48(0x714)]()&&this[_0x302c48(0x958)]?.[_0x302c48(0x714)]()||!0x1;}[_0x1833fc(0x77c)](_0x58c6e1){const _0x2b8cb1=_0x1833fc;if(!this[_0x2b8cb1(0x4dc)]||!this[_0x2b8cb1(0x714)]())throw new _0x4511be(_0x4511be[_0x2b8cb1(0x2a2)][_0x2b8cb1(0x6f5)],{'message':_0x2b8cb1(0x18a),'senderConnected':this['senderConnection']?.[_0x2b8cb1(0x714)](),'receiverConnected':this['receiverConnection']?.[_0x2b8cb1(0x714)](),'localId':this[_0x2b8cb1(0x5c7)](),'remoteId':this['remoteId'],'data':_0x58c6e1});this['senderConnection'][_0x2b8cb1(0x77c)](_0x58c6e1);}[_0x1833fc(0x521)](_0x1023a7){const _0x23ff1c=_0x1833fc;return this[_0x23ff1c(0x381)][_0x23ff1c(0x456)](_0x1023a7);}[_0x1833fc(0x2bb)](_0x2f5dc1){const _0x457e4a=_0x1833fc;return this[_0x457e4a(0x31a)]['subscribe'](({track:_0x38f591,stream:_0x1ff05d})=>_0x2f5dc1(_0x38f591,_0x1ff05d));}['onRemoveTrack'](_0x278007){const _0x7fc4d5=_0x1833fc;return this[_0x7fc4d5(0x74b)][_0x7fc4d5(0x456)](({track:_0x5892fe,stream:_0x38bf17})=>_0x278007(_0x5892fe,_0x38bf17));}['addTrack'](_0x4db0a3,_0xf614,_0x13876f,_0x2cac91){const _0x48ca6f=_0x1833fc;this[_0x48ca6f(0x4dc)]?.[_0x48ca6f(0x4ac)](_0x4db0a3,_0xf614,_0x13876f,_0x2cac91);}[_0x1833fc(0x465)](_0x156adf,_0x1a7506){const _0x4c4048=_0x1833fc;this[_0x4c4048(0x4dc)]?.[_0x4c4048(0x465)](_0x156adf,_0x1a7506);}[_0x1833fc(0x60f)](_0x31422c,_0x10efb1){const _0x2681cf=_0x1833fc;this[_0x2681cf(0x4dc)]?.['setParams'](_0x31422c,_0x10efb1);}[_0x1833fc(0x7ba)](_0xa3a707,_0x149322){const _0x5b8fb8=_0x1833fc;this[_0x5b8fb8(0x4dc)]?.['removeTrack'](_0xa3a707,_0x149322);}async[_0x1833fc(0x942)](_0x4ae864){const _0x32ea1b=_0x1833fc;_0x380207['log'](_0x381da1['Connection'],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this[_0x32ea1b(0x5c7)](),_0x4ae864);const {content:_0x30e1e9}=_0x4ae864;switch(_0x30e1e9[_0x32ea1b(0x339)]){case _0x10e8a1['Offer']:await this[_0x32ea1b(0x265)](_0x30e1e9);break;case _0x10e8a1[_0x32ea1b(0x57c)]:await this[_0x32ea1b(0x9da)](_0x30e1e9);break;case _0x10e8a1[_0x32ea1b(0x932)]:this['handleSuccess']();break;case _0x10e8a1[_0x32ea1b(0x3ad)]:await this[_0x32ea1b(0x14b)](_0x30e1e9);break;case _0x10e8a1['NeedRestart']:this['handleNeedRestart'](_0x30e1e9);break;case _0x10e8a1[_0x32ea1b(0x2e4)]:await this[_0x32ea1b(0x146)]();}}['handleRemediationSystemEvents'](_0x6c75c5){const _0x2c378=_0x1833fc;this[_0x2c378(0x4dc)]?.[_0x2c378(0x692)](_0x6c75c5[_0x2c378(0x3ff)]['data']);}[_0x1833fc(0x7de)](){return this['connectionType'];}[_0x1833fc(0x372)](_0x130cf7){const _0x2957e9=_0x1833fc;this[_0x2957e9(0x181)]=_0x130cf7,this[_0x2957e9(0x4dc)]?.[_0x2957e9(0x372)](_0x130cf7),this[_0x2957e9(0x958)]?.['setConnectionType'](_0x130cf7);}async[_0x1833fc(0x2ce)](){const _0x3ffcee=_0x1833fc;await this[_0x3ffcee(0x4dc)]?.[_0x3ffcee(0x2ce)](),await this['receiverConnection']?.['collectStats']();}[_0x1833fc(0x4ae)](){const _0x28609f=_0x1833fc;return this[_0x28609f(0x4dc)]?.[_0x28609f(0x4ae)]()??0x0;}['getBufferedAmount'](){const _0x5ee57f=_0x1833fc;return this[_0x5ee57f(0x4dc)]?.[_0x5ee57f(0x197)]()??0x0;}['setupListeners'](){const _0x4ea235=_0x1833fc;this[_0x4ea235(0x3f9)][_0x4ea235(0x5ed)](this[_0x4ea235(0x521)](_0x7f249b=>{const _0x23a14d=_0x4ea235;_0x343ffb(_0x7f249b,this[_0x23a14d(0x5c7)]())&&0x0!==_0x7f249b[_0x23a14d(0x1d9)]&&this[_0x23a14d(0xe5)]['get'](_0x7f249b['topicLabel'])?.[_0x23a14d(0x9e5)](_0x7f249b);})),this['listenerUnsubscribers'][_0x4ea235(0x5ed)](this[_0x4ea235(0x2bb)]((_0x27660e,_0x31321c)=>{const _0x1101df=_0x4ea235,_0x1894b2=_0x1b7ed3(_0x4f9f07['ContentType'][_0x1101df(0x786)],_0x31321c['id'],this['remoteId']);this[_0x1101df(0x239)]['get'](_0x1894b2)?.[_0x1101df(0x9e5)]({'topicLabel':_0x1894b2,'sourceId':this[_0x1101df(0x4fb)],'contentType':_0x4f9f07[_0x1101df(0x30a)][_0x1101df(0x786)],'content':{'action':_0x45c51e[_0x1101df(0x49d)],'track':_0x27660e,'stream':_0x31321c,'providerId':this[_0x1101df(0x4fb)]}});})),this[_0x4ea235(0x3f9)][_0x4ea235(0x5ed)](this[_0x4ea235(0x2b5)]((_0x467f83,_0xd43911)=>{const _0x14ac59=_0x4ea235,_0x2ee5c8=_0x1b7ed3(_0x4f9f07['ContentType'][_0x14ac59(0x786)],_0xd43911['id'],this[_0x14ac59(0x4fb)]);this['mediaTopics'][_0x14ac59(0x264)](_0x2ee5c8)?.[_0x14ac59(0x9e5)]({'topicLabel':_0x2ee5c8,'sourceId':this['remoteId'],'contentType':_0x4f9f07[_0x14ac59(0x30a)][_0x14ac59(0x786)],'content':{'action':_0x45c51e[_0x14ac59(0x2b2)],'track':_0x467f83,'stream':_0xd43911,'providerId':this[_0x14ac59(0x4fb)]}});}));}[_0x1833fc(0x14b)]({candidates:_0x2f8ee5,origin:_0x525a18,version:_0x54c986}){const _0x3ae59b=_0x1833fc;return _0x525a18===_0x16a03b[_0x3ae59b(0x82d)]?(this['receiverConnection']||this['createReceiverConnection'](),this[_0x3ae59b(0x958)][_0x3ae59b(0x304)](_0x2f8ee5,_0x54c986)):this[_0x3ae59b(0x4dc)][_0x3ae59b(0x304)](_0x2f8ee5,_0x54c986);}async['createOffer'](){const _0x250d87=_0x1833fc;this[_0x250d87(0x4dc)]||this['createSenderConnection'](),await this[_0x250d87(0x4dc)]['createOffer']();}async['handleOffer']({offer:_0x1fc128,version:_0x511a5f}){const _0x4f5d23=_0x1833fc;this['receiverConnection']||this[_0x4f5d23(0x44b)](),await this['receiverConnection'][_0x4f5d23(0x265)](_0x1fc128,_0x511a5f);}async['handleAnswer']({answer:_0x3d986c,version:_0x29e574}){const _0x48e15f=_0x1833fc;if(!this[_0x48e15f(0x4dc)])throw new _0x4511be(_0x4511be[_0x48e15f(0x2a2)]['ConnectionNotinitialized'],{'message':_0x48e15f(0x5b0),'localId':this['getLocalId'](),'remoteId':this[_0x48e15f(0x4fb)],'answer':_0x3d986c});await this[_0x48e15f(0x4dc)][_0x48e15f(0x9da)](_0x3d986c,_0x29e574);}[_0x1833fc(0x7c7)](){const _0x26be0a=_0x1833fc;if(!this[_0x26be0a(0x958)])throw new _0x4511be(_0x4511be[_0x26be0a(0x2a2)][_0x26be0a(0x6f5)],{'message':_0x26be0a(0x1d4),'localId':this[_0x26be0a(0x5c7)](),'remoteId':this[_0x26be0a(0x4fb)]});this['receiverConnection'][_0x26be0a(0x7c7)](),this[_0x26be0a(0x9ea)]||this[_0x26be0a(0x181)]!==_0x3fa342[_0x26be0a(0x459)]||(this['successNotified']=!0x0,this[_0x26be0a(0x3a7)]?.[_0x26be0a(0x9e5)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x26be0a(0x5c7)]()],'messageType':_0x35033d[_0x26be0a(0x70d)],'content':{'type':_0x10e8a1[_0x26be0a(0x444)]}}));}[_0x1833fc(0x519)](_0x5cade7){const _0x4e8e65=_0x1833fc;this[_0x4e8e65(0x958)]||this[_0x4e8e65(0x44b)](),this[_0x4e8e65(0x958)][_0x4e8e65(0x519)](_0x5cade7[_0x4e8e65(0x3a2)]);}['createSenderConnection'](){const _0x1d7526=_0x1833fc;this[_0x1d7526(0x4dc)]=new _0xb2dbb3(this[_0x1d7526(0x81a)],this[_0x1d7526(0x86c)],this['remoteId'],this[_0x1d7526(0x4fd)],this[_0x1d7526(0x181)],this[_0x1d7526(0x9b3)],this[_0x1d7526(0x93c)],this['connectionConstructor']),this[_0x1d7526(0x4dc)][_0x1d7526(0x494)](this[_0x1d7526(0x3a7)]);}[_0x1833fc(0x44b)](){const _0x449c86=_0x1833fc;this[_0x449c86(0x958)]=new _0x349411(this[_0x449c86(0x81a)],this['localNode'],this['remoteId'],this[_0x449c86(0x4fd)],this[_0x449c86(0x181)],this['connectionConstructor']),this[_0x449c86(0x958)][_0x449c86(0x494)](this[_0x449c86(0x3a7)]),this[_0x449c86(0x6d7)][_0x449c86(0x5ed)](this[_0x449c86(0x958)][_0x449c86(0x521)](_0x110c90=>this[_0x449c86(0x381)]['publish'](_0x110c90))),this[_0x449c86(0x6d7)][_0x449c86(0x5ed)](this['receiverConnection'][_0x449c86(0x2bb)]((_0x411922,_0x5f408f)=>this[_0x449c86(0x31a)][_0x449c86(0x9e5)]({'track':_0x411922,'stream':_0x5f408f}))),this[_0x449c86(0x6d7)][_0x449c86(0x5ed)](this['receiverConnection']['onRemoveTrack']((_0x491452,_0x5c4e3c)=>this[_0x449c86(0x74b)][_0x449c86(0x9e5)]({'track':_0x491452,'stream':_0x5c4e3c})));}}class _0x2b8add{[_0x1833fc(0x71a)];[_0x1833fc(0x534)];[_0x1833fc(0x98b)];['connections']=new Map();[_0x1833fc(0x381)]=_0x4febb4();[_0x1833fc(0x3ed)];['dataTopics']=new Map();['dataUnsubscribers']=new Map();[_0x1833fc(0x906)]=new Map();constructor(_0x39cacc,_0x15c952,_0x1fc162){const _0x534b30=_0x1833fc;this[_0x534b30(0x71a)]=_0x39cacc,this[_0x534b30(0x534)]=_0x15c952,this['graphService']=_0x1fc162,this[_0x534b30(0x3ed)]=this[_0x534b30(0x521)](_0x584848=>{const _0x42aba9=_0x534b30;this['messageBuffer'][_0x42aba9(0x87b)](_0x584848[_0x42aba9(0x4c0)])||(_0x343ffb(_0x584848,this['localId'])&&0x0!==_0x584848['topicLabel']&&(this['messageBuffer'][_0x42aba9(0x89f)](_0x584848[_0x42aba9(0x4c0)]),this[_0x42aba9(0xe5)][_0x42aba9(0x264)](_0x584848[_0x42aba9(0x1d9)])?.['publish'](_0x584848)),_0x584848[_0x42aba9(0x726)]&&this['send'](_0x584848));});}[_0x1833fc(0x244)](){const _0x3d2098=_0x1833fc;this[_0x3d2098(0x3ed)]?.();}[_0x1833fc(0x83d)](_0x55c894){const _0x508dbe=_0x1833fc,_0x1ec709=_0x55c894['onMessage'](_0x4d13f0=>{const _0x3e1b33=a0_0x17c7;this[_0x3e1b33(0x381)][_0x3e1b33(0x9e5)](_0x4d13f0);});this['connections'][_0x508dbe(0x174)](_0x55c894,_0x1ec709),this[_0x508dbe(0x906)][_0x508dbe(0x174)](_0x55c894[_0x508dbe(0x863)](),function(_0x2f5988,_0x4938f6=!0x1){let _0x4b316e=new Map();const _0x436c47=_0x16d522(_0x2f5988,_0x4938f6,function(_0x3edf59){const _0x7ab4a2=a0_0x17c7;_0x28184e(_0x3edf59)&&_0x4b316e[_0x7ab4a2(0x8be)](_0x3edf59[_0x7ab4a2(0x5fb)]+'-'+(_0x3edf59[_0x7ab4a2(0x8f6)]??[])+'-'+_0x3edf59[_0x7ab4a2(0x625)]+'-'+_0x3edf59[_0x7ab4a2(0x3ff)][_0x7ab4a2(0x339)]);},function(_0xb86430){return!!function(_0x21127b){const _0x48d753=a0_0x17c7,_0x5b6fa4=_0x21127b['value'];if(!_0x28184e(_0x5b6fa4))return!0x1;const _0x2b2c79=_0x5b6fa4[_0x48d753(0x5fb)]+'-'+(_0x5b6fa4[_0x48d753(0x8f6)]??[])+'-'+_0x5b6fa4[_0x48d753(0x625)]+'-'+_0x5b6fa4[_0x48d753(0x3ff)][_0x48d753(0x339)],_0x58dd26={'version':_0x5b6fa4['content']['version'],'element':_0x21127b},_0x387da3=_0x4b316e[_0x48d753(0x264)](_0x2b2c79);return _0x387da3?(_0x387da3['version']>=_0x5b6fa4[_0x48d753(0x3ff)]['version']||(_0x387da3['element'][_0x48d753(0x202)]&&(_0x387da3[_0x48d753(0x711)][_0x48d753(0x202)][_0x48d753(0x870)]=_0x21127b,_0x21127b[_0x48d753(0x202)]=_0x387da3[_0x48d753(0x711)][_0x48d753(0x202)]),_0x387da3[_0x48d753(0x711)][_0x48d753(0x870)]&&(_0x387da3[_0x48d753(0x711)][_0x48d753(0x870)][_0x48d753(0x202)]=_0x21127b,_0x21127b[_0x48d753(0x870)]=_0x387da3[_0x48d753(0x711)]['next']),_0x387da3[_0x48d753(0x711)]===_0x436c47[_0x48d753(0x1f6)]&&(_0x436c47[_0x48d753(0x1f6)]=_0x21127b),_0x387da3[_0x48d753(0x711)]===_0x436c47[_0x48d753(0x322)]&&(_0x436c47[_0x48d753(0x322)]=_0x21127b),_0x4b316e[_0x48d753(0x174)](_0x2b2c79,_0x58dd26)),!0x0):(_0x4b316e[_0x48d753(0x174)](_0x2b2c79,_0x58dd26),!0x1);}(_0xb86430);},function(){_0x4b316e['clear']();});function _0x28184e(_0x3f331d){const _0x5e1cc9=a0_0x17c7;if(_0x3f331d&&_0x5e1cc9(0x530)==typeof _0x3f331d&&_0x3f331d[_0x5e1cc9(0x1dd)](_0x5e1cc9(0x3ff))&&_0x3f331d[_0x5e1cc9(0x1dd)](_0x5e1cc9(0x625))&&_0x3f331d['hasOwnProperty'](_0x5e1cc9(0x5fb))){const _0x3bf4df=_0x3f331d;if(_0x3bf4df[_0x5e1cc9(0x3ff)]&&'object'==typeof _0x3bf4df[_0x5e1cc9(0x3ff)]&&_0x3bf4df[_0x5e1cc9(0x3ff)]['hasOwnProperty']('version')&&_0x3bf4df[_0x5e1cc9(0x3ff)][_0x5e1cc9(0x1dd)](_0x5e1cc9(0x339)))return!0x0;}return!0x1;}return _0x436c47;}(new _0x3983ae(_0x2f3495=>_0x55c894[_0x508dbe(0x77c)](_0x2f3495),()=>_0x524332[_0x508dbe(0x70b)](0x64))));}[_0x1833fc(0x1be)](_0x1246ff){const _0x5b0092=_0x1833fc;this[_0x5b0092(0x3a3)]['get'](_0x1246ff)?.(),this[_0x5b0092(0x3a3)][_0x5b0092(0x8be)](_0x1246ff),this[_0x5b0092(0x906)][_0x5b0092(0x264)](_0x1246ff['getRemoteId']())?.['clear'](),this[_0x5b0092(0x906)][_0x5b0092(0x8be)](_0x1246ff['getRemoteId']());}[_0x1833fc(0x714)](_0x114d53){const _0x46617e=_0x1833fc;return _0x380207['log'](_0x381da1[_0x46617e(0xdf)],_0x46617e(0x765),this[_0x46617e(0x71a)],this[_0x46617e(0x3a3)][_0x46617e(0x727)]()),0x0!==this[_0x46617e(0x3a3)]['size']&&(Array[_0x46617e(0x5cf)](this['connections'][_0x46617e(0x727)]())[_0x46617e(0x33e)](_0x1b65a5=>_0x1b65a5['getRemoteId']()===_0x114d53)?.[_0x46617e(0x714)]()??!0x1);}['registerPublisher'](_0x318ae9){const _0x442d9a=_0x1833fc;this[_0x442d9a(0xe5)][_0x442d9a(0x174)](_0x318ae9[_0x442d9a(0x92c)](),_0x318ae9);}[_0x1833fc(0x93b)](_0x50c8ab){const _0x597a76=_0x1833fc;this[_0x597a76(0xe5)][_0x597a76(0x8be)](_0x50c8ab[_0x597a76(0x92c)]());}[_0x1833fc(0x892)](_0x525704){const _0x455f65=_0x1833fc,_0x38164c=_0x525704[_0x455f65(0x456)](this[_0x455f65(0x77c)]['bind'](this));this[_0x455f65(0x188)][_0x455f65(0x174)](_0x525704[_0x455f65(0x92c)](),_0x38164c);}[_0x1833fc(0x64d)](_0x59b894){const _0x11f1cb=_0x1833fc;this[_0x11f1cb(0x188)][_0x11f1cb(0x264)](_0x59b894[_0x11f1cb(0x92c)]())?.(),this[_0x11f1cb(0x188)][_0x11f1cb(0x8be)](_0x59b894[_0x11f1cb(0x92c)]());}[_0x1833fc(0x8d6)](){const _0xb067b8=_0x1833fc;return[_0x4f9f07[_0xb067b8(0x30a)][_0xb067b8(0x799)],_0x4f9f07['ContentType'][_0xb067b8(0x30b)],_0x4f9f07['ContentType'][_0xb067b8(0x871)],_0x4f9f07[_0xb067b8(0x30a)]['KeyValueDatabase'],_0x4f9f07[_0xb067b8(0x30a)][_0xb067b8(0x87d)],_0x4f9f07[_0xb067b8(0x30a)][_0xb067b8(0x23d)],_0x4f9f07[_0xb067b8(0x30a)][_0xb067b8(0x270)],_0x4f9f07[_0xb067b8(0x30a)][_0xb067b8(0x2db)]];}[_0x1833fc(0x77c)](_0x5b7637){const _0x27b7ff=_0x1833fc;if(!0x1===_0x5b7637[_0x27b7ff(0x3d8)]){if(_0x5b7637['propagate']||!_0x5b7637['destinationIds']||0x1!==_0x5b7637[_0x27b7ff(0x8f6)][_0x27b7ff(0x5af)])throw new _0x4511be(_0x4511be[_0x27b7ff(0x2a2)]['ConnectionInvalidDataEvent'],{'message':_0x27b7ff(0x430),'localId':this['localId']});if(!this['isConnected'](_0x5b7637[_0x27b7ff(0x8f6)][0x0]))throw new _0x5056a6(_0x27b7ff(0x6d0));}const _0x1a9b26=_0x5b7637[_0x27b7ff(0x256)]??[];try{const {filteredDestinationIds:_0x5539a3,extendedRecipients:_0x5559e8}=this[_0x27b7ff(0x9c6)](_0x5b7637,_0x1a9b26);_0x5b7637[_0x27b7ff(0x8f6)]=_0x5539a3,_0x5b7637[_0x27b7ff(0x256)]=_0x5559e8;}catch(_0x29ba96){if(_0x29ba96 instanceof _0x5056a6)return void _0x380207[_0x27b7ff(0x41b)](_0x381da1[_0x27b7ff(0x8cf)],'CrewdleConnectionGroup',_0x27b7ff(0x39a),_0x5b7637,_0x29ba96['message']);}const _0x2d177d=this[_0x27b7ff(0x79a)](_0x5b7637);this['logPropagateSystemEvent'](_0x5b7637,_0x2d177d),_0x5b7637[_0x27b7ff(0x726)]=_0x2d177d;const _0x4800ce=this[_0x27b7ff(0x97b)](_0x5b7637,_0x1a9b26);for(const _0xeb1ffd of _0x4800ce){const _0x1cee22=this[_0x27b7ff(0x906)][_0x27b7ff(0x264)](_0xeb1ffd[_0x27b7ff(0x863)]());if(!_0x1cee22)throw new _0x4511be(_0x4511be['codes'][_0x27b7ff(0x22d)],{'message':_0x27b7ff(0x1d6),'localId':this[_0x27b7ff(0x71a)],'remoteId':_0xeb1ffd[_0x27b7ff(0x863)](),'data':_0x5b7637});_0x1cee22[_0x27b7ff(0x5ed)](_0x5b7637);}}[_0x1833fc(0x863)](){return'';}[_0x1833fc(0x5c7)](){return this['localId'];}[_0x1833fc(0x521)](_0x3aa332){const _0x4afda7=_0x1833fc;return this[_0x4afda7(0x381)][_0x4afda7(0x456)](_0x3aa332);}['updatePropagationProperties'](_0x3e571e,_0x353023){const _0x3f9cb1=_0x1833fc,_0x41e2e8={'filteredDestinationIds':_0x3e571e[_0x3f9cb1(0x8f6)],'extendedRecipients':_0x3e571e[_0x3f9cb1(0x256)]};if(!_0x3e571e[_0x3f9cb1(0x726)])return _0x41e2e8;const _0x456a30=Array[_0x3f9cb1(0x5cf)](this[_0x3f9cb1(0x3a3)][_0x3f9cb1(0x727)]())[_0x3f9cb1(0x9a3)](_0xc7111f=>_0xc7111f['getConnectionType']()===_0x3fa342[_0x3f9cb1(0x555)]||_0xc7111f[_0x3f9cb1(0x714)]())[_0x3f9cb1(0x84d)](_0x14c260=>_0x14c260[_0x3f9cb1(0x863)]());if(_0x456a30[_0x3f9cb1(0x161)]((_0x5d3e2a,_0x59c575)=>_0x5d3e2a&&_0x3e571e['recipients'][_0x3f9cb1(0x778)](_0x59c575),!0x0))throw new _0x5056a6(_0x3f9cb1(0x4f8));if(_0x3e571e['destinationIds']){const _0x56a5d1=_0x3e571e[_0x3f9cb1(0x8f6)][_0x3f9cb1(0x9a3)](_0x2faf1c=>_0x2faf1c!==this[_0x3f9cb1(0x71a)]&&!_0x3e571e['recipients']['includes'](_0x2faf1c));if(0x0===_0x56a5d1[_0x3f9cb1(0x5af)])throw new _0x5056a6(_0x3f9cb1(0x1a9));_0x41e2e8['filteredDestinationIds']=_0x56a5d1;}return _0x41e2e8[_0x3f9cb1(0x40e)]=[...new Set([..._0x353023,..._0x456a30,this[_0x3f9cb1(0x71a)]])],_0x41e2e8;}['logPropagateSystemEvent'](_0x2679e1,_0x5af294=!0x1){const _0x52e782=_0x1833fc;if(0x0===_0x2679e1[_0x52e782(0x1d9)]&&!_0x1d96ed(_0x2679e1,this[_0x52e782(0x71a)])&&_0x2679e1['propagate']){const _0x1595e2=_0x225d0e(_0x2679e1,this[_0x52e782(0x71a)]);_0x380207[_0x52e782(0x8d9)](_0x381da1[_0x52e782(0x79b)],_0x2679e1[_0x52e782(0x4c0)]+_0x52e782(0xf3)+_0x5af294+')\x20'+_0x1595e2,_0x2679e1,_0x5af294);}}['shouldContinuePropagation'](_0x33707e){const _0xdc9a2e=_0x1833fc;if(_0x33707e[_0xdc9a2e(0x8f6)]&&_0x33707e['propagate']){const _0x32ba37=Array['from'](this['connections'][_0xdc9a2e(0x727)]())['filter'](_0x4cc969=>_0x4cc969['getConnectionType']()===_0x3fa342['Core']||_0x4cc969[_0xdc9a2e(0x714)]())[_0xdc9a2e(0x84d)](_0x10760c=>_0x10760c[_0xdc9a2e(0x863)]());return!_0x33707e[_0xdc9a2e(0x8f6)][_0xdc9a2e(0x161)]((_0xd5142f,_0x5494b5)=>_0xd5142f&&_0x32ba37[_0xdc9a2e(0x778)](_0x5494b5),!0x0);}return _0x33707e[_0xdc9a2e(0x726)]??!0x1;}['getConnectionDestinations'](_0x41161d,_0x48fdc2){const _0x408788=_0x1833fc;if(_0x41161d['propagate']&&_0x41161d[_0x408788(0x8f6)]){const _0x301aea=Array[_0x408788(0x5cf)](this['connections']['keys']())[_0x408788(0x9a3)](_0x160262=>_0x160262[_0x408788(0x7de)]()===_0x3fa342[_0x408788(0x555)]||_0x160262[_0x408788(0x714)]())[_0x408788(0x84d)](_0x24624a=>_0x24624a[_0x408788(0x863)]()),_0x5566ef=new Set(),_0x3c954d=_0x41161d[_0x408788(0x5fb)]===this[_0x408788(0x71a)]?0x3:0x1;return _0x41161d['destinationIds']['forEach'](_0x4b0e3e=>{const _0xe0e6e2=_0x408788,_0x5f3264=this[_0xe0e6e2(0x98b)][_0xe0e6e2(0x2f4)](_0x301aea,_0x4b0e3e);let _0x3e425e=0x0,_0x3c9a53=0x0;_0x5f3264[_0xe0e6e2(0x919)](_0x3ad9cf=>{const _0xd36f8c=_0xe0e6e2;if(_0x3e425e>=_0x3c954d)return;const _0x59f397=Array[_0xd36f8c(0x5cf)](this[_0xd36f8c(0x3a3)][_0xd36f8c(0x727)]())[_0xd36f8c(0x33e)](_0x2fed4d=>_0x2fed4d[_0xd36f8c(0x863)]()===_0x3ad9cf);if(_0x59f397){if(_0x59f397[_0xd36f8c(0x7de)]()===_0x3fa342['Core']&&_0x3c9a53>0x0)return void(_0x3c9a53-=0x1);_0x5566ef[_0xd36f8c(0x720)](_0x59f397),_0x59f397['getConnectionType']()===_0x3fa342[_0xd36f8c(0x459)]&&(_0x3c9a53+=0x1),_0x3e425e+=0x1;}});}),Array['from'](_0x5566ef);}return Array[_0x408788(0x5cf)](this['connections']['keys']())['filter'](_0xc9cb0b=>{const _0x1e7316=_0x408788;return _0x2b07de=_0xc9cb0b[_0x1e7316(0x863)](),!_0x48fdc2[_0x1e7316(0x778)](_0x2b07de)&&(_0x343ffb(_0x41161d,_0x2b07de)||_0x41161d[_0x1e7316(0x726)])&&(!_0x41161d[_0x1e7316(0x726)]||_0xc9cb0b['isConnected']()||_0xc9cb0b['getConnectionType']()===_0x3fa342[_0x1e7316(0x555)]);var _0x2b07de;});}}class _0x264f7d{[_0x1833fc(0x71a)];['messageBuffer'];[_0x1833fc(0x3a3)]=new Map();[_0x1833fc(0x3a7)];constructor(_0x4c0247,_0x34c2b6){const _0x1062e4=_0x1833fc;this[_0x1062e4(0x71a)]=_0x4c0247,this[_0x1062e4(0x534)]=_0x34c2b6;}[_0x1833fc(0x244)](){}[_0x1833fc(0x77c)](_0x2c1c00){const _0x39e039=_0x1833fc;for(const _0x4ccaaf of this[_0x39e039(0x3a3)]['keys']())try{return void _0x4ccaaf[_0x39e039(0x77c)]({'retry':!0x1,..._0x2c1c00});}catch(_0x4fadcf){_0x4fadcf instanceof _0x5056a6||_0x380207[_0x39e039(0x41b)](_0x381da1[_0x39e039(0x53e)],'send\x20error\x20on\x20'+_0x4ccaaf,_0x4fadcf,_0x2c1c00);}_0x380207['log'](_0x381da1[_0x39e039(0x53e)],'No\x20connections\x20available\x20to\x20send\x20message');}['addConnection'](_0x2a800b){const _0x326eba=_0x1833fc,_0xab709f=_0x2a800b[_0x326eba(0x521)](_0x318766=>{const _0x3e3f7b=_0x326eba;this['messageBuffer']['hasMessage'](_0x318766[_0x3e3f7b(0x4c0)])||0x0===_0x318766['topicLabel']&&(this['messageBuffer'][_0x3e3f7b(0x89f)](_0x318766['uuid']),_0x343ffb(_0x318766,this[_0x3e3f7b(0x71a)])&&this['systemTopic']?.[_0x3e3f7b(0x9e5)](_0x318766));});this[_0x326eba(0x3a3)][_0x326eba(0x174)](_0x2a800b,_0xab709f);}[_0x1833fc(0x1be)](_0x4d08fc){const _0xaac8bb=_0x1833fc;this[_0xaac8bb(0x3a3)]['get'](_0x4d08fc)?.(),this[_0xaac8bb(0x3a3)]['delete'](_0x4d08fc);}[_0x1833fc(0x5c7)](){const _0x3c8774=_0x1833fc;return this[_0x3c8774(0x71a)];}[_0x1833fc(0x863)](){return'';}[_0x1833fc(0x8d6)](){const _0x268925=_0x1833fc;return[_0x4f9f07[_0x268925(0x30a)][_0x268925(0x799)]];}['isConnected'](){const _0x1fc579=_0x1833fc;throw new Error(_0x1fc579(0x1e4));}[_0x1833fc(0x494)](_0x66c761){const _0x4aa4b6=_0x1833fc;this[_0x4aa4b6(0x3a7)]=_0x66c761;}[_0x1833fc(0x14f)](){const _0x1b1829=_0x1833fc;delete this[_0x1b1829(0x3a7)];}}class _0x225800{[_0x1833fc(0x802)]=new Map();[_0x1833fc(0x46d)];constructor(){const _0x164f0b=_0x1833fc;this[_0x164f0b(0x46d)]=_0x524332[_0x164f0b(0x882)](()=>{const _0xa2ddc2=_0x164f0b;for(const [_0x7f1b27,_0x3f6aa5]of this['buffer']['entries']())Date['now']()-_0x3f6aa5>0x124f80&&this[_0xa2ddc2(0x802)][_0xa2ddc2(0x8be)](_0x7f1b27);},0x1d4c0);}[_0x1833fc(0x244)](){const _0x5a80d0=_0x1833fc;this[_0x5a80d0(0x46d)]();}[_0x1833fc(0x89f)](_0x2dd9e8){const _0x521cac=_0x1833fc;this[_0x521cac(0x802)][_0x521cac(0x174)](_0x2dd9e8,Date[_0x521cac(0x1d5)]());}[_0x1833fc(0x87b)](_0x5c967c){const _0x53e5bf=_0x1833fc;return this['buffer'][_0x53e5bf(0x977)](_0x5c967c);}}class _0x33bfdc{[_0x1833fc(0x317)];['authService'];[_0x1833fc(0x4fd)];[_0x1833fc(0x81d)];[_0x1833fc(0x3a3)]=new Map();[_0x1833fc(0x23c)];[_0x1833fc(0x5b5)];[_0x1833fc(0x9d7)];['messageBuffer'];constructor(_0x3517dc,_0x1e5d7f,_0x2ef57d,_0x31a66e,_0x3bc6e7){const _0x4c1969=_0x1833fc;this[_0x4c1969(0x317)]=_0x3517dc,this['authService']=_0x1e5d7f,this[_0x4c1969(0x4fd)]=_0x31a66e,this[_0x4c1969(0x81d)]=_0x3bc6e7,this[_0x4c1969(0x534)]=new _0x225800(),this[_0x4c1969(0x5b5)]=new _0x2b8add(this[_0x4c1969(0x317)][_0x4c1969(0x86c)][_0x4c1969(0x76b)](),this[_0x4c1969(0x534)],_0x2ef57d),this['signalingServer']=new _0x3fc15a(this['configs'][_0x4c1969(0x889)],this[_0x4c1969(0x317)]['clusterId'],this[_0x4c1969(0x317)][_0x4c1969(0x86c)],'server',this[_0x4c1969(0x215)]),this[_0x4c1969(0x23c)]=new _0x264f7d(this['configs']['localNode'][_0x4c1969(0x76b)](),this[_0x4c1969(0x534)]),this[_0x4c1969(0x23c)][_0x4c1969(0x83d)](this['connectionGroup']),this[_0x4c1969(0x23c)][_0x4c1969(0x83d)](this[_0x4c1969(0x9d7)]),this[_0x4c1969(0x317)][_0x4c1969(0x28a)][_0x4c1969(0x212)](this[_0x4c1969(0x23c)]);}[_0x1833fc(0x244)](){const _0x40cd57=_0x1833fc;this[_0x40cd57(0x534)][_0x40cd57(0x244)](),this['connections'][_0x40cd57(0x919)]((_0x546e69,_0x27c08c)=>this[_0x40cd57(0x632)](_0x27c08c)),this[_0x40cd57(0x317)][_0x40cd57(0x28a)][_0x40cd57(0x22f)](this[_0x40cd57(0x23c)]),this[_0x40cd57(0x23c)]['removeConnection'](this['signalingServer']),this[_0x40cd57(0x23c)][_0x40cd57(0x1be)](this[_0x40cd57(0x5b5)]),this[_0x40cd57(0x23c)]['close'](),this[_0x40cd57(0x9d7)][_0x40cd57(0x244)](),this[_0x40cd57(0x5b5)][_0x40cd57(0x244)]();}async[_0x1833fc(0x47c)](){const _0x3ab9ea=_0x1833fc;await this[_0x3ab9ea(0x9d7)][_0x3ab9ea(0x58b)]();}async[_0x1833fc(0x8f7)](_0x434468,_0x2b43a3=_0x3fa342[_0x1833fc(0x555)]){const _0x43c812=_0x1833fc;if(this[_0x43c812(0x3a3)]['has'](_0x434468)){if(this[_0x43c812(0x3a3)]['get'](_0x434468)?.[_0x43c812(0x7de)]()===_0x3fa342[_0x43c812(0x459)]&&_0x2b43a3===_0x3fa342['Core'])return void this[_0x43c812(0x3a3)]['get'](_0x434468)?.['setConnectionType'](_0x3fa342[_0x43c812(0x555)]);throw new _0x4511be(_0x4511be[_0x43c812(0x2a2)][_0x43c812(0xff)],{'localId':this['configs'][_0x43c812(0x86c)][_0x43c812(0x76b)](),'remoteId':_0x434468});}const _0x28eaf6=new _0x46b7a8(this[_0x43c812(0x317)][_0x43c812(0x81a)],this[_0x43c812(0x317)][_0x43c812(0x86c)],_0x434468,this['iceServers'],_0x2b43a3,this[_0x43c812(0x81d)][_0x43c812(0x9b3)],this[_0x43c812(0x81d)][_0x43c812(0x93c)],this[_0x43c812(0x81d)][_0x43c812(0x5c8)]);this[_0x43c812(0x3a3)][_0x43c812(0x174)](_0x434468,_0x28eaf6),this['connectionGroup'][_0x43c812(0x83d)](_0x28eaf6),this[_0x43c812(0x317)][_0x43c812(0x28a)][_0x43c812(0x212)](_0x28eaf6),this[_0x43c812(0x317)]['mediator']['registerRemoteNode'](_0x434468),await _0x28eaf6['connect']();}['getConnectionGroup'](){const _0x185d44=_0x1833fc;return this[_0x185d44(0x5b5)];}[_0x1833fc(0x71d)](_0x6f7617){const _0x2ee877=_0x1833fc;if(!this[_0x2ee877(0x3a3)]['has'](_0x6f7617))throw new _0x4511be(_0x4511be[_0x2ee877(0x2a2)][_0x2ee877(0x937)],{'localId':this[_0x2ee877(0x317)][_0x2ee877(0x86c)][_0x2ee877(0x76b)](),'remoteId':_0x6f7617});return this[_0x2ee877(0x3a3)]['get'](_0x6f7617);}[_0x1833fc(0x68a)](_0x1d0f16){const _0x2fc167=_0x1833fc,_0x468071=Array['from'](this[_0x2fc167(0x3a3)]['values']());return _0x1d0f16?_0x468071[_0x2fc167(0x9a3)](_0x1d0f16):_0x468071;}async['collectStats'](_0xcb6ea0){const _0x4ee7d4=_0x1833fc,_0x1d34ab=this['connections'][_0x4ee7d4(0x264)](_0xcb6ea0);_0x1d34ab&&_0x1d34ab[_0x4ee7d4(0x714)]()&&await _0x1d34ab['collectStats']();}[_0x1833fc(0x69f)](_0xb3ba50){const _0x4d3461=_0x1833fc;if(_0xb3ba50['messageType']!==_0x35033d['PeerConnection']||_0xb3ba50[_0x4d3461(0x726)])try{this[_0x4d3461(0x5b5)][_0x4d3461(0x77c)](_0xb3ba50);}catch(_0x4f2bf3){if(_0x4f2bf3 instanceof _0x5056a6)return;throw _0x4f2bf3;}else this[_0x4d3461(0x23c)][_0x4d3461(0x77c)](_0xb3ba50);}async['handlePeerConnectionSystemEvents'](_0x394b74){const _0x1ab1ab=_0x1833fc;switch(_0x394b74['content']['type']){case _0x10e8a1['Disconnect']:case _0x10e8a1[_0x1ab1ab(0x509)]:case _0x10e8a1[_0x1ab1ab(0x444)]:return;}if(!_0x394b74[_0x1ab1ab(0x8f6)]||0x1!==_0x394b74[_0x1ab1ab(0x8f6)][_0x1ab1ab(0x5af)])throw new _0x4511be(_0x4511be[_0x1ab1ab(0x2a2)][_0x1ab1ab(0x52a)],{'message':_0x1ab1ab(0x702),'event':_0x394b74});if(_0x394b74['destinationIds'][0x0]!==this[_0x1ab1ab(0x317)][_0x1ab1ab(0x86c)][_0x1ab1ab(0x76b)]())throw new _0x4511be(_0x4511be[_0x1ab1ab(0x2a2)][_0x1ab1ab(0x52a)],{'message':_0x1ab1ab(0x7e8),'event':_0x394b74});if(!this['connections']['has'](_0x394b74['sourceId'])){let _0x124b87=_0x3fa342['Core'];if(!(this[_0x1ab1ab(0x224)](_0x394b74[_0x1ab1ab(0x3ff)])||this[_0x1ab1ab(0x5d0)](_0x394b74[_0x1ab1ab(0x3ff)])||this[_0x1ab1ab(0x661)](_0x394b74[_0x1ab1ab(0x3ff)])))return;_0x124b87=_0x394b74[_0x1ab1ab(0x3ff)]['connectionType'],await this[_0x1ab1ab(0x8f7)](_0x394b74[_0x1ab1ab(0x5fb)],_0x124b87);}const _0x2f4e5f=this[_0x1ab1ab(0x3a3)][_0x1ab1ab(0x264)](_0x394b74[_0x1ab1ab(0x5fb)]);await _0x2f4e5f[_0x1ab1ab(0x942)](_0x394b74);}[_0x1833fc(0x5d7)](_0x58ac68){const _0x541038=_0x1833fc;if(_0x58ac68['content']['type']===_0x1b187c[_0x541038(0x826)]){if(_0x58ac68['content']['targetId']===this[_0x541038(0x317)][_0x541038(0x86c)][_0x541038(0x76b)]())return void this['connections'][_0x541038(0x919)](_0x32e480=>_0x32e480['handleRemediationSystemEvents'](_0x58ac68));this[_0x541038(0x3a3)][_0x541038(0x264)](_0x58ac68['content']['targetId'])?.[_0x541038(0x5d7)](_0x58ac68);}}[_0x1833fc(0x221)]({content:_0x4b126e}){const _0x5d8540=_0x1833fc;_0x4b126e[_0x5d8540(0x339)]===_0x1e07d3['NodeLeave']&&this[_0x5d8540(0x632)](_0x4b126e['id']);}[_0x1833fc(0x790)](){const _0x6982ed=_0x1833fc,_0x55159e=Array[_0x6982ed(0x5cf)](this[_0x6982ed(0x3a3)][_0x6982ed(0x278)]())['reduce']((_0x2472e3,_0x5765be)=>_0x2472e3+_0x5765be[_0x6982ed(0x4ae)](),0x0);return _0x55159e<_0x5c5c47?Promise[_0x6982ed(0x6cf)](_0x55159e):new Promise(_0x21d897=>{const _0x15d24c=setInterval(()=>{const _0x284cee=a0_0x17c7,_0x289b1a=Array[_0x284cee(0x5cf)](this['connections'][_0x284cee(0x278)]())[_0x284cee(0x161)]((_0x218c14,_0x52e5b0)=>_0x218c14+_0x52e5b0[_0x284cee(0x4ae)](),0x0);_0x289b1a<_0x5c5c47&&(clearInterval(_0x15d24c),_0x21d897(_0x289b1a));},0x3e8);});}['hasBufferedData'](){const _0x3f17e7=_0x1833fc;for(const _0x3b38df of this[_0x3f17e7(0x3a3)][_0x3f17e7(0x278)]())if(_0x3b38df[_0x3f17e7(0x197)]()>0x0||_0x3b38df[_0x3f17e7(0x4ae)]()>0x0)return!0x0;return!0x1;}[_0x1833fc(0x632)](_0x23522b){const _0x36c285=_0x1833fc,_0x2e7944=this[_0x36c285(0x3a3)][_0x36c285(0x264)](_0x23522b);_0x2e7944&&(this['configs'][_0x36c285(0x28a)]['unregisterRemoteNode'](_0x23522b),this['configs'][_0x36c285(0x28a)][_0x36c285(0x22f)](_0x2e7944),_0x2e7944 instanceof _0x46b7a8&&this[_0x36c285(0x5b5)][_0x36c285(0x1be)](_0x2e7944),_0x2e7944[_0x36c285(0x244)](),this[_0x36c285(0x3a3)][_0x36c285(0x8be)](_0x23522b));}[_0x1833fc(0x224)](_0x1f2e4c){const _0x526131=_0x1833fc;return _0x1f2e4c[_0x526131(0x339)]===_0x10e8a1[_0x526131(0x588)];}[_0x1833fc(0x661)](_0x196ac3){const _0x178442=_0x1833fc;return _0x196ac3[_0x178442(0x339)]===_0x10e8a1['NeedRestart'];}[_0x1833fc(0x5d0)](_0x2592af){const _0x3e22d3=_0x1833fc;return _0x2592af[_0x3e22d3(0x339)]===_0x10e8a1[_0x3e22d3(0x3ad)];}}!function(_0x163c89){const _0x40fc05=_0x1833fc;_0x163c89[_0x163c89[_0x40fc05(0x412)]=0x0]=_0x40fc05(0x412),_0x163c89[_0x163c89[_0x40fc05(0x5ec)]=0x1]=_0x40fc05(0x5ec),_0x163c89[_0x163c89[_0x40fc05(0x73f)]=0x2]='UnsubscribeMediaStream',_0x163c89[_0x163c89[_0x40fc05(0x242)]=0x3]=_0x40fc05(0x242),_0x163c89[_0x163c89[_0x40fc05(0x246)]=0x4]='RestartNeedMediaStream',_0x163c89[_0x163c89[_0x40fc05(0x420)]=0x5]=_0x40fc05(0x420),_0x163c89[_0x163c89[_0x40fc05(0x4b5)]=0x6]=_0x40fc05(0x4b5),_0x163c89[_0x163c89[_0x40fc05(0x53a)]=0x7]=_0x40fc05(0x53a);}(_0x1855f5||(_0x1855f5={}));class _0x38f89d extends _0x25ea81{[_0x1833fc(0x86c)];['clusterId'];[_0x1833fc(0x889)];[_0x1833fc(0x7d8)];[_0x1833fc(0x652)];['reads']=0x0;['connector'];['eventListener']=_0x4febb4();[_0x1833fc(0x3f9)]=new Map();[_0x1833fc(0x2dc)];constructor(_0x1ddf3d,_0x49b701,_0x4a5d0a,_0x364963,_0x3329c0){const _0x2517e1=_0x1833fc;if(_0x2517e1(0xf8)!=typeof _0x49b701)throw new _0x3b1f45(_0x5bdcd2[_0x2517e1(0x5b6)],_0x2517e1(0x2cf));super(_0x1ddf3d,_0x49b701),this['localNode']=_0x1ddf3d,this[_0x2517e1(0x81a)]=_0x4a5d0a,this[_0x2517e1(0x889)]=_0x364963,this[_0x2517e1(0x7d8)]=_0x3329c0,this[_0x2517e1(0x153)]();}[_0x1833fc(0x24c)](){const _0x1b2f1e=_0x1833fc;this['changesUnsubscriber']?.(),this[_0x1b2f1e(0x3f9)][_0x1b2f1e(0x919)](_0x55c0dc=>_0x55c0dc()),clearTimeout(this[_0x1b2f1e(0x652)]),delete this[_0x1b2f1e(0x652)],super[_0x1b2f1e(0x24c)]();}[_0x1833fc(0x780)](){this['sendStats']();}[_0x1833fc(0x244)](){const _0x5b4c68=_0x1833fc;this['systemTopic'][_0x5b4c68(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d['Content'],'content':{'type':_0x5e5186[_0x5b4c68(0x5db)],'label':this[_0x5b4c68(0x671)]}});}[_0x1833fc(0x4ba)](){const _0x9de7c6=_0x1833fc;return _0x4f9f07['ContentType'][_0x9de7c6(0x2db)];}async[_0x1833fc(0x264)](_0x52fae0){const _0x4fa58d=_0x1833fc;if(!this['connector'])throw new _0x3b1f45(_0x5bdcd2[_0x4fa58d(0x3bb)],_0x4fa58d(0x884));_0x380207[_0x4fa58d(0x82a)](_0x2ee7be['ExternalStorage'],{'type':_0x4fa58d(0x264),'label':this[_0x4fa58d(0x671)],'nodeId':this['localNode'][_0x4fa58d(0x76b)](),'nodeType':this[_0x4fa58d(0x86c)][_0x4fa58d(0x339)],'clusterId':this[_0x4fa58d(0x81a)],'path':_0x52fae0}),this['reads']+=0x1,this['sendStats']();try{return await this[_0x4fa58d(0x5ea)]['get'](_0x52fae0);}catch(_0x4cdcff){throw new _0x3b1f45(_0x5bdcd2[_0x4fa58d(0x422)],_0x4fa58d(0x9aa)+_0x52fae0);}}async[_0x1833fc(0xf7)](_0x1ece3d,_0x3020b0){const _0x13b52c=_0x1833fc;if(!this[_0x13b52c(0x5ea)])throw new _0x3b1f45(_0x5bdcd2[_0x13b52c(0x3bb)],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x1b1bd6=!0x1}=_0x3020b0??{};_0x380207[_0x13b52c(0x82a)](_0x2ee7be['ExternalStorage'],{'type':_0x13b52c(0xf7),'label':this[_0x13b52c(0x671)],'nodeId':this[_0x13b52c(0x86c)][_0x13b52c(0x76b)](),'nodeType':this[_0x13b52c(0x86c)][_0x13b52c(0x339)],'clusterId':this[_0x13b52c(0x81a)],'path':_0x1ece3d}),this['reads']+=0x1,this[_0x13b52c(0x153)]();try{return await this[_0x13b52c(0x5ea)]['list'](_0x1ece3d,_0x1b1bd6);}catch(_0x210830){throw new _0x3b1f45(_0x5bdcd2[_0x13b52c(0x422)],_0x13b52c(0x7c8)+_0x1ece3d);}}[_0x1833fc(0x456)](_0x138af0,_0xfd27c){const _0x1c144a=_0x1833fc;if(this[_0x1c144a(0x3f9)][_0x1c144a(0x977)](_0x138af0))throw new _0x3b1f45(_0x5bdcd2[_0x1c144a(0x9e1)],_0x1c144a(0x6db));this[_0x1c144a(0x3f9)][_0x1c144a(0x174)](_0x138af0,this[_0x1c144a(0x457)][_0x1c144a(0x456)](_0xfd27c));}['unsubscribe'](_0x4855e6){const _0x58521d=_0x1833fc;this['listenerUnsubscribers'][_0x58521d(0x264)](_0x4855e6)?.(),this[_0x58521d(0x3f9)][_0x58521d(0x8be)](_0x4855e6);}async['open'](){const _0x3b436c=_0x1833fc,_0x378a83=(await(0x0,_0x4e5c5c[_0x3b436c(0x860)])((0x0,_0x4e5c5c[_0x3b436c(0x58c)])(_0xc81657[_0x3b436c(0x6c9)](),_0x3b436c(0xeb)+this[_0x3b436c(0x889)]+_0x3b436c(0x923)+this[_0x3b436c(0x671)])))[_0x3b436c(0x87e)]();if(!_0x378a83)throw new _0x3b1f45(_0x5bdcd2[_0x3b436c(0x57b)],_0x3b436c(0x956)+this[_0x3b436c(0x671)]);const {site:_0x38c4e1,drive:_0x58f33a}=_0x378a83,_0x248533=(await(0x0,_0x1a3767[_0x3b436c(0x847)])(_0xc81657[_0x3b436c(0x13e)](),_0x3b436c(0x2ea))({'storageId':this[_0x3b436c(0x671)]}))[_0x3b436c(0x87e)][_0x3b436c(0x7df)];this[_0x3b436c(0x5ea)]=new this['connectorConstructor'](_0x38c4e1['id'],_0x58f33a['id'],_0x248533,async()=>(await(0x0,_0x1a3767[_0x3b436c(0x847)])(_0xc81657['getFunctions'](),'msalRefreshToken')({'storageId':this['label']}))['data'][_0x3b436c(0x7df)]),this[_0x3b436c(0x838)]();}[_0x1833fc(0x153)](){const _0x317d99=_0x1833fc;this[_0x317d99(0x652)]&&clearTimeout(this[_0x317d99(0x652)]),this[_0x317d99(0x652)]=setTimeout(async()=>{const _0x2517bd=_0x317d99;delete this[_0x2517bd(0x652)],this[_0x2517bd(0x3a7)][_0x2517bd(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x2517bd(0x7f4)],'content':{'type':_0x5e5186[_0x2517bd(0x859)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x2517bd(0x4cd)],'prompts':0x0,'tokens':0x0}}});},_0x17f2b1);}async[_0x1833fc(0x838)](){const _0x3588e7=_0x1833fc;await this['connector']?.['listChanges'](),this[_0x3588e7(0x2dc)]=_0x524332[_0x3588e7(0x882)](async()=>{const _0x29b4e0=_0x3588e7;try{if(!this[_0x29b4e0(0x5ea)])return;const _0x1c3a56=await this[_0x29b4e0(0x5ea)][_0x29b4e0(0x2bd)]();for(const _0x572268 of _0x1c3a56)this[_0x29b4e0(0x457)][_0x29b4e0(0x9e5)](_0x572268);}catch(_0x201e05){}},0x493e0);}}const _0x24b7f0=require('rxjs');class _0x45e78c extends _0x25ea81{[_0x1833fc(0x98b)];[_0x1833fc(0x413)]=new Map();['jobObservers']=new Map();['jobBids']=new Map();[_0x1833fc(0x46d)];constructor(_0x412843,_0x5776a6,_0x130742){const _0x1abc04=_0x1833fc;super(_0x412843,_0x5776a6),this[_0x1abc04(0x98b)]=_0x130742;}[_0x1833fc(0x4ba)](){const _0x192576=_0x1833fc;return _0x4f9f07[_0x192576(0x30a)][_0x192576(0x87d)];}[_0x1833fc(0x4d0)](){const _0x3ea347=_0x1833fc;this[_0x3ea347(0x46d)]=this['onMessage']((_0x1e46db,_0x5e27f5)=>{const _0x14512a=_0x3ea347;if(_0x380207[_0x14512a(0x41b)](_0x381da1[_0x14512a(0x1a7)],_0x14512a(0x7c5),_0x1e46db,_0x5e27f5,this[_0x14512a(0x98b)][_0x14512a(0x200)]()),!(_0x5e27f5 instanceof File)){if(!_0x5e27f5)throw new _0x4511be(_0x4511be[_0x14512a(0x2a2)][_0x14512a(0x988)]);return this['isBidResponse'](_0x5e27f5)?this[_0x14512a(0x8d5)](_0x1e46db,_0x5e27f5['id'],_0x5e27f5):this[_0x14512a(0x114)](_0x5e27f5)?(_0x380207['log'](_0x381da1[_0x14512a(0x1a7)],'Job\x20'+_0x5e27f5['id']+_0x14512a(0x34a),_0x5e27f5[_0x14512a(0x8e6)]),void this[_0x14512a(0x7cb)](_0x5e27f5['id'],_0x5e27f5)):this[_0x14512a(0x96b)](_0x5e27f5)?(_0x380207[_0x14512a(0x41b)](_0x381da1[_0x14512a(0x1a7)],_0x14512a(0x4ff)+_0x5e27f5['id']+_0x14512a(0x5f9),_0x5e27f5[_0x14512a(0x8e6)]),void this[_0x14512a(0x992)](_0x5e27f5['id'],_0x5e27f5)):void(this[_0x14512a(0x371)](_0x5e27f5)&&this[_0x14512a(0x17b)](_0x5e27f5['id'],_0x5e27f5[_0x14512a(0x96c)]));}});}[_0x1833fc(0x780)](){const _0x413b9d=_0x1833fc;this[_0x413b9d(0x67d)](),this['open']();}['destroy'](){const _0x2d87f7=_0x1833fc;this[_0x2d87f7(0x67d)](),super[_0x2d87f7(0x24c)]();}[_0x1833fc(0x67d)](){const _0x336e13=_0x1833fc;this[_0x336e13(0x413)]['clear'](),this[_0x336e13(0x46d)]&&this[_0x336e13(0x46d)]();}[_0x1833fc(0x244)](){const _0x1e2e18=_0x1833fc;this[_0x1e2e18(0x3a7)]?.['publish']({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x1e2e18(0x7f4)],'content':{'type':_0x5e5186[_0x1e2e18(0x240)],'label':this['label']}});}async[_0x1833fc(0x940)](_0x26e969){const _0xadaaed=_0x1833fc,{id:_0x5c2464,parameters:_0x1ad57e,jobType:_0x525f57}=_0x26e969,_0x59cfc1={'id':_0x5c2464,'jobType':_0x525f57,'parameters':_0x1ad57e,'status':_0x4f9f07['JobStatus'][_0xadaaed(0x154)],'created':new Date(),'updated':new Date()};if(this[_0xadaaed(0x413)][_0xadaaed(0x977)](_0x59cfc1['id']))throw new _0x3b1f45(_0x5bdcd2[_0xadaaed(0x8dc)],_0xadaaed(0x1f1)+_0x59cfc1['id']+_0xadaaed(0x850));_0x59cfc1[_0xadaaed(0x578)]=new Date(),_0x59cfc1[_0xadaaed(0xe1)]=new Date();const _0x5f2e16=new _0x24b7f0[(_0xadaaed(0x6c0))]();this[_0xadaaed(0x413)][_0xadaaed(0x174)](_0x59cfc1['id'],_0x59cfc1),this['jobObservers'][_0xadaaed(0x174)](_0x59cfc1['id'],_0x5f2e16);try{const _0x46097f={'id':_0x59cfc1['id'],'jobPhase':_0x22326c[_0xadaaed(0x6ed)],'jobType':_0x59cfc1[_0xadaaed(0x7d9)]},_0x4c2963=0x3;let _0x6b342f=0x0;const _0x1fbc0d=async()=>{const _0x44d89d=_0xadaaed;_0x6b342f+=0x1;try{_0x380207[_0x44d89d(0x41b)](_0x381da1[_0x44d89d(0x1a7)],_0x44d89d(0x4ff)+_0x59cfc1['id']+_0x44d89d(0x56e)+_0x6b342f+'.',this['graphService'][_0x44d89d(0x200)]()),await this[_0x44d89d(0x77c)](_0x46097f),_0x59cfc1[_0x44d89d(0xe1)]=new Date(),this[_0x44d89d(0x413)][_0x44d89d(0x174)](_0x59cfc1['id'],_0x59cfc1),this[_0x44d89d(0x815)](_0x59cfc1['id']);}catch(_0x29797b){_0x6b342f<_0x4c2963?(_0x380207[_0x44d89d(0x6d6)](_0x44d89d(0x227)+_0x6b342f+_0x44d89d(0x542)+_0x59cfc1['id']+_0x44d89d(0x2c7),{'nodeId':this[_0x44d89d(0x40d)][_0x44d89d(0x76b)](),'nodeType':this[_0x44d89d(0x40d)][_0x44d89d(0x339)],'data':{'job':_0x59cfc1,'attempts':_0x6b342f,'maxRetries':_0x4c2963}}),setTimeout(_0x1fbc0d,0x3e8)):(_0x59cfc1[_0x44d89d(0x599)]=_0x4f9f07[_0x44d89d(0x77f)][_0x44d89d(0x9de)],_0x59cfc1[_0x44d89d(0xe1)]=new Date(),this['jobs'][_0x44d89d(0x174)](_0x59cfc1['id'],_0x59cfc1),_0x380207['error'](_0x44d89d(0x347)+_0x59cfc1['id']+_0x44d89d(0x486)+_0x4c2963+_0x44d89d(0x132),{'nodeId':this[_0x44d89d(0x40d)]['getId'](),'nodeType':this[_0x44d89d(0x40d)][_0x44d89d(0x339)],'data':{'job':_0x59cfc1,'attempts':_0x6b342f,'maxRetries':_0x4c2963,'error':_0x29797b}}));}};_0x1fbc0d();const {id:_0x42dc24}=_0x59cfc1;this['logEvent'](_0xadaaed(0x4ff)+_0x59cfc1['id']+_0xadaaed(0x83e),{'jobId':_0x42dc24}),_0x59cfc1[_0xadaaed(0xe1)]=new Date();}catch(_0x38cee2){_0x59cfc1['status']=_0x4f9f07[_0xadaaed(0x77f)]['Failed'],_0x380207['error'](_0xadaaed(0x347)+_0x59cfc1['id']+':',{'nodeId':this['owner'][_0xadaaed(0x76b)](),'nodeType':this[_0xadaaed(0x40d)][_0xadaaed(0x339)],'data':{'job':_0x59cfc1,'error':_0x38cee2}});}return _0x5f2e16[_0xadaaed(0x1ca)]();}[_0x1833fc(0x411)](_0x759dd6){const _0xeb9f8d=_0x1833fc,_0x2ef11d=this[_0xeb9f8d(0x413)][_0xeb9f8d(0x264)](_0x759dd6);if(!_0x2ef11d)throw new _0x3b1f45(_0x5bdcd2[_0xeb9f8d(0x565)],_0xeb9f8d(0x1f1)+_0x759dd6+'\x20not\x20found.');return{'id':_0x2ef11d['id'],'jobType':_0x2ef11d[_0xeb9f8d(0x7d9)],'status':_0x2ef11d[_0xeb9f8d(0x599)],'parameters':_0x2ef11d[_0xeb9f8d(0x3d1)]};}[_0x1833fc(0x518)](){const _0x176ba1=_0x1833fc;return Array[_0x176ba1(0x5cf)](this['jobs']['values']())[_0x176ba1(0x84d)](_0x4d4347=>this[_0x176ba1(0x411)](_0x4d4347['id']));}async[_0x1833fc(0x10a)](_0x458a64,_0x181bc3){const _0x556f2b=_0x1833fc,_0x6bac13=this[_0x556f2b(0x413)]['get'](_0x458a64);if(!_0x6bac13)throw new _0x3b1f45(_0x5bdcd2[_0x556f2b(0x565)],_0x556f2b(0x1f1)+_0x458a64+_0x556f2b(0x2e9));_0x6bac13[_0x556f2b(0x3d1)]=_0x181bc3,_0x6bac13[_0x556f2b(0xe1)]=new Date(),this[_0x556f2b(0x413)]['set'](_0x458a64,_0x6bac13);}async[_0x1833fc(0x941)](_0xce1306){const _0x4208c3=_0x1833fc;if(!this[_0x4208c3(0x413)]['delete'](_0xce1306))throw new _0x3b1f45(_0x5bdcd2['JobDispatcherJobNotFound'],'Job\x20with\x20id\x20'+_0xce1306+_0x4208c3(0x2e9));const _0x46d89d=this[_0x4208c3(0x527)]['get'](_0xce1306);if(!_0x46d89d)throw new _0x4511be(_0x4511be[_0x4208c3(0x2a2)][_0x4208c3(0x40c)]);_0x46d89d[_0x4208c3(0x461)](),this['jobObservers']['delete'](_0xce1306),_0x380207[_0x4208c3(0x41b)](_0x381da1[_0x4208c3(0x1a7)],_0x4208c3(0x4ff)+_0xce1306+_0x4208c3(0x2b3));}[_0x1833fc(0x8d5)](_0x511034,_0xce17ca,_0x1ebde7){const _0x200363=_0x1833fc,_0x256d85=this[_0x200363(0x774)][_0x200363(0x264)](_0xce17ca)??new Map();_0x256d85[_0x200363(0x174)](_0x511034,[_0x1ebde7,Date[_0x200363(0x1d5)]()]),this[_0x200363(0x774)][_0x200363(0x174)](_0xce17ca,_0x256d85),this[_0x200363(0x3ac)](_0xce17ca);}[_0x1833fc(0x815)](_0xaff4d5){const _0x38dd62=_0x1833fc,_0x761069=this[_0x38dd62(0x413)][_0x38dd62(0x264)](_0xaff4d5);if(!_0x761069)throw new _0x4511be(_0x4511be[_0x38dd62(0x2a2)]['JobDispatcherJobNotFound']);const _0x5b01d6=setTimeout(()=>this[_0x38dd62(0x3ac)](_0xaff4d5,!0x0),0xbb8);_0x761069[_0x38dd62(0x91a)]=_0x5b01d6,this[_0x38dd62(0x413)]['set'](_0x761069['id'],_0x761069);}[_0x1833fc(0x3ac)](_0xaf0ef,_0x5306b4=!0x1){const _0x2622f3=_0x1833fc,_0xea7543=this[_0x2622f3(0x98b)][_0x2622f3(0x200)](),_0x2ac482=Array[_0x2622f3(0x5cf)](_0xea7543['values']())[_0x2622f3(0x9a3)](_0x430674=>_0x430674[_0x2622f3(0x339)]===_0x4f9f07['NodeType'][_0x2622f3(0x4a0)]),_0x33a8d1=this[_0x2622f3(0x774)][_0x2622f3(0x264)](_0xaf0ef)??new Map();if(!_0x5306b4&&(!_0x33a8d1||_0x33a8d1[_0x2622f3(0x813)]<_0x2ac482['length']))return;const _0x48d74b=this[_0x2622f3(0x413)]['get'](_0xaf0ef);if(!_0x48d74b)throw new _0x4511be(_0x4511be[_0x2622f3(0x2a2)][_0x2622f3(0x565)]);if(clearTimeout(_0x48d74b[_0x2622f3(0x91a)]),_0x380207[_0x2622f3(0x41b)](_0x381da1[_0x2622f3(0x1a7)],'Job\x20'+_0x48d74b['id']+_0x2622f3(0x4cc),_0x33a8d1,this[_0x2622f3(0x774)]),!_0x33a8d1||0x0===_0x33a8d1[_0x2622f3(0x813)]){_0x48d74b['status']=_0x4f9f07[_0x2622f3(0x77f)][_0x2622f3(0x9de)],_0x48d74b[_0x2622f3(0xe1)]=new Date(),_0x380207[_0x2622f3(0x657)](_0x2622f3(0x4ff)+_0x48d74b['id']+_0x2622f3(0x292),{'nodeId':this[_0x2622f3(0x40d)][_0x2622f3(0x76b)](),'nodeType':this[_0x2622f3(0x40d)][_0x2622f3(0x339)],'data':{'job':_0x48d74b,'responses':_0x33a8d1}});const _0x27c2f3=this[_0x2622f3(0x527)][_0x2622f3(0x264)](_0xaf0ef);if(!_0x27c2f3)throw new _0x4511be(_0x4511be['codes'][_0x2622f3(0x40c)]);const _0x51ce15=_0x2622f3(0x708),_0x4eb8fb={'id':_0x48d74b['id'],'status':_0x48d74b['status'],'message':_0x51ce15};return _0x27c2f3[_0x2622f3(0x870)](_0x4eb8fb),_0x27c2f3[_0x2622f3(0x461)](),this[_0x2622f3(0x413)][_0x2622f3(0x174)](_0x48d74b['id'],_0x48d74b),void this[_0x2622f3(0x774)][_0x2622f3(0x8be)](_0xaf0ef);}const {nodeId:_0x14e94d,response:_0xc9b247}=this['evaluateBids'](_0x48d74b['id'],_0x33a8d1);_0x48d74b[_0x2622f3(0x599)]=_0x4f9f07[_0x2622f3(0x77f)][_0x2622f3(0x8a0)],_0x48d74b['updated']=new Date(),_0x380207[_0x2622f3(0x41b)](_0x381da1['Jobs'],_0x2622f3(0x4ff)+_0x48d74b['id']+_0x2622f3(0x235)+_0x14e94d+'\x20with\x20response:',_0xc9b247);const _0xe94782={'id':_0x48d74b['id'],'jobType':_0x48d74b[_0x2622f3(0x7d9)],'jobPhase':_0x22326c[_0x2622f3(0x65b)],'parameters':_0x48d74b[_0x2622f3(0x3d1)]};this['send'](_0xe94782,[_0x14e94d]),this[_0x2622f3(0x413)][_0x2622f3(0x174)](_0x48d74b['id'],_0x48d74b),this[_0x2622f3(0x774)][_0x2622f3(0x8be)](_0xaf0ef);}[_0x1833fc(0x42f)](_0x545cf9,_0x6b7c6b){const _0x30e9f1=_0x1833fc;let _0xe8c6e7;const _0x2cef49=Array[_0x30e9f1(0x5cf)](_0x6b7c6b[_0x30e9f1(0x544)]())[_0x30e9f1(0x9a3)](([,[_0x1885a2]])=>_0x1885a2[_0x30e9f1(0x11d)]);if(_0xe8c6e7=_0x2cef49[_0x30e9f1(0x5af)]>0x0?Array[_0x30e9f1(0x5cf)](_0x6b7c6b[_0x30e9f1(0x544)]())[_0x30e9f1(0x1e5)]((_0x20e3d1,_0x1aef1c)=>_0x1aef1c[0x1][0x0]['bid']-_0x20e3d1[0x1][0x0]['bid']):Array[_0x30e9f1(0x5cf)](_0x6b7c6b[_0x30e9f1(0x544)]())[_0x30e9f1(0x1e5)]((_0x12179c,_0x4a3e46)=>_0x12179c[0x1][0x0][_0x30e9f1(0x133)]-_0x4a3e46[0x1][0x0]['queueLength']),0x1===_0xe8c6e7[_0x30e9f1(0x5af)])return{'nodeId':_0xe8c6e7[0x0][0x0],'response':_0xe8c6e7[0x0][0x1][0x0]};let _0x4f3f68;if(_0x4f3f68=_0x2cef49[_0x30e9f1(0x5af)]>0x0?(_0x35aba1=>{const _0x5f6bd5=_0x30e9f1,_0x1d8671=_0x35aba1[0x0][0x1][0x0][_0x5f6bd5(0x201)];return _0x35aba1[_0x5f6bd5(0x9a3)](([,[_0x3b49de]])=>_0x3b49de[_0x5f6bd5(0x201)]===_0x1d8671);})(_0xe8c6e7):(_0x510307=>{const _0x40c59f=_0x30e9f1,_0x52d47b=_0x510307[0x0][0x1][0x0][_0x40c59f(0x133)];return _0x510307[_0x40c59f(0x9a3)](([,[_0x129354]])=>_0x129354[_0x40c59f(0x133)]===_0x52d47b);})(_0xe8c6e7),0x1===_0x4f3f68[_0x30e9f1(0x5af)])return{'nodeId':_0x4f3f68[0x0][0x0],'response':_0x4f3f68[0x0][0x1][0x0]};const _0x4222e0=this[_0x30e9f1(0x413)][_0x30e9f1(0x264)](_0x545cf9);if(!_0x4222e0)throw new _0x4511be(_0x4511be['codes']['JobDispatcherJobNotFound']);const _0x2a9d35=_0x4222e0['created']['getTime'](),_0x49605b=_0x4f3f68[_0x30e9f1(0x84d)](([_0x361893,[,_0x4d4656]])=>({'nodeId':_0x361893,'rtt':_0x4d4656-_0x2a9d35})),_0x1324a9=Math['min'](..._0x49605b[_0x30e9f1(0x84d)](({rtt:_0x1a5a00})=>_0x1a5a00)),_0x263d6d=_0x49605b[_0x30e9f1(0x33e)](({rtt:_0x2e8e29})=>_0x2e8e29===_0x1324a9),[,[_0x379926]]=_0x4f3f68[_0x30e9f1(0x33e)](([_0x4e6e03])=>_0x4e6e03===_0x263d6d[_0x30e9f1(0x746)]);return{'nodeId':_0x263d6d['nodeId'],'response':_0x379926};}[_0x1833fc(0x7cb)](_0x569273,_0x4db8f1){const _0x758481=_0x1833fc,_0x33f3ab=this['jobs'][_0x758481(0x264)](_0x569273);if(!_0x33f3ab)throw new _0x4511be(_0x4511be[_0x758481(0x2a2)][_0x758481(0x565)]);const _0x3f971d=this[_0x758481(0x527)][_0x758481(0x264)](_0x569273);if(!_0x3f971d)throw new _0x4511be(_0x4511be['codes'][_0x758481(0x40c)]);const _0x106a07={'id':_0x33f3ab['id'],'status':_0x4f9f07[_0x758481(0x77f)]['Partial'],'result':_0x4db8f1[_0x758481(0x8e6)]};_0x3f971d[_0x758481(0x870)](_0x106a07);}[_0x1833fc(0x992)](_0x2bac58,_0xf57181){const _0x4be789=_0x1833fc,_0x41dd17=this[_0x4be789(0x413)][_0x4be789(0x264)](_0x2bac58);if(!_0x41dd17)throw new _0x4511be(_0x4511be[_0x4be789(0x2a2)][_0x4be789(0x565)]);const _0x4a7ae9=this[_0x4be789(0x527)]['get'](_0x2bac58);if(!_0x4a7ae9)throw new _0x4511be(_0x4511be[_0x4be789(0x2a2)][_0x4be789(0x40c)]);_0x41dd17[_0x4be789(0x599)]=_0x4f9f07['JobStatus']['Completed'];const _0x29d1d2={'id':_0x41dd17['id'],'status':_0x41dd17[_0x4be789(0x599)],'result':_0xf57181[_0x4be789(0x8e6)]};_0x4a7ae9[_0x4be789(0x870)](_0x29d1d2),_0x4a7ae9[_0x4be789(0x461)](),this[_0x4be789(0x527)][_0x4be789(0x8be)](_0x2bac58),this['logEvent'](_0x4be789(0x4ff)+_0x2bac58+_0x4be789(0x91b),{'jobId':_0x2bac58});}['failJob'](_0x9ff4b0,_0xb9dae5){const _0x107b4a=_0x1833fc,_0x24ebac=this['jobs'][_0x107b4a(0x264)](_0x9ff4b0);if(!_0x24ebac)throw new _0x4511be(_0x4511be['codes'][_0x107b4a(0x565)]);const _0x38e6a8=this[_0x107b4a(0x527)][_0x107b4a(0x264)](_0x9ff4b0);if(!_0x38e6a8)throw new _0x4511be(_0x4511be['codes'][_0x107b4a(0x40c)]);_0x24ebac['status']=_0x4f9f07['JobStatus'][_0x107b4a(0x9de)];const _0x3740ff={'id':_0x24ebac['id'],'status':_0x24ebac['status'],'message':_0xb9dae5};_0x38e6a8[_0x107b4a(0x870)](_0x3740ff),_0x38e6a8[_0x107b4a(0x461)](),this[_0x107b4a(0x527)][_0x107b4a(0x8be)](_0x9ff4b0),this['logEvent'](_0x107b4a(0x4ff)+_0x9ff4b0+_0x107b4a(0x502),{'jobId':_0x9ff4b0});}['logEvent'](_0x3995af,{jobId:_0x5022ce}){const _0x2189aa=_0x1833fc,_0x15a3ff={'jobId':_0x5022ce,'mistletIds':Array[_0x2189aa(0x5cf)](this[_0x2189aa(0x98b)][_0x2189aa(0x200)]()[_0x2189aa(0x278)]())[_0x2189aa(0x9a3)](_0x188185=>_0x188185[_0x2189aa(0x339)]===_0x4f9f07[_0x2189aa(0x21a)][_0x2189aa(0x4a0)])[_0x2189aa(0x84d)](_0x2582f7=>_0x2582f7[_0x2189aa(0x76b)]())};_0x380207[_0x2189aa(0x896)](_0x3995af,{'nodeId':this[_0x2189aa(0x764)](),'nodeType':this[_0x2189aa(0x40d)][_0x2189aa(0x339)],'data':_0x15a3ff}),_0x380207[_0x2189aa(0x41b)](_0x381da1[_0x2189aa(0x1a7)],_0x3995af,_0x15a3ff);}[_0x1833fc(0x5f4)](_0x11378c){const _0x897c9c=_0x1833fc,{jobPhase:_0x4467ff,available:_0x46c724,bid:_0x72747f}=_0x11378c;return _0x4467ff===_0x22326c[_0x897c9c(0x156)]&&void 0x0!==_0x46c724&&void 0x0!==_0x72747f;}[_0x1833fc(0x114)](_0x4799ba){const _0x3a0232=_0x1833fc,{jobPhase:_0x419f9b,result:_0x549a5f}=_0x4799ba;return _0x419f9b===_0x22326c[_0x3a0232(0x749)]&&void 0x0!==_0x549a5f;}['isResultResponse'](_0x50b6bd){const _0x56ffe3=_0x1833fc,{jobPhase:_0x1e1048,result:_0x485fdf}=_0x50b6bd;return _0x1e1048===_0x22326c[_0x56ffe3(0x184)]&&void 0x0!==_0x485fdf;}['isFailedResponse'](_0x5a6bef){const _0x4c2a28=_0x1833fc,{jobPhase:_0x1b7bca,message:_0x48b62c}=_0x5a6bef;return _0x1b7bca===_0x22326c[_0x4c2a28(0x9de)]&&void 0x0!==_0x48b62c&&_0x4c2a28(0xf8)==typeof _0x48b62c;}}var _0x44899f,_0x2c8280,_0x446c71,_0x5c20a2;!function(_0x4e10b4){const _0x3503d5=_0x1833fc;_0x4e10b4[_0x3503d5(0x6a7)]='object-storage',_0x4e10b4['ExternalStorage']=_0x3503d5(0x620);}(_0x44899f||(_0x44899f={})),function(_0xeb2b06){const _0x341033=_0x1833fc;_0xeb2b06[_0x341033(0x4a0)]=_0x341033(0x48b),_0xeb2b06[_0x341033(0x685)]=_0x341033(0x469),_0xeb2b06[_0x341033(0x1cc)]=_0x341033(0x6af),_0xeb2b06[_0x341033(0x5b3)]=_0x341033(0x63b),_0xeb2b06['Knowledge']=_0x341033(0x700),_0xeb2b06[_0x341033(0x210)]=_0x341033(0x563),_0xeb2b06[_0x341033(0x57c)]=_0x341033(0x73c),_0xeb2b06[_0x341033(0x9d9)]=_0x341033(0x9b9),_0xeb2b06[_0x341033(0x866)]='code',_0xeb2b06['Search']=_0x341033(0x1da),_0xeb2b06[_0x341033(0x131)]=_0x341033(0x968),_0xeb2b06['WebScraperRaw']=_0x341033(0x249),_0xeb2b06[_0x341033(0x9ae)]=_0x341033(0x11c),_0xeb2b06['SentenceSplitter']=_0x341033(0x54a),_0xeb2b06['WordSplitter']=_0x341033(0xd1);}(_0x2c8280||(_0x2c8280={})),function(_0x429555){const _0x3afef1=_0x1833fc;_0x429555['ObjectStorageUpload']=_0x3afef1(0x622),_0x429555[_0x3afef1(0x3a6)]=_0x3afef1(0x36d),_0x429555[_0x3afef1(0x427)]=_0x3afef1(0x6de),_0x429555[_0x3afef1(0x9ae)]=_0x3afef1(0x11c),_0x429555[_0x3afef1(0x32b)]=_0x3afef1(0xd1),_0x429555[_0x3afef1(0x6f2)]=_0x3afef1(0x54a),_0x429555['RelationExtractor']=_0x3afef1(0x7b6),_0x429555[_0x3afef1(0x872)]=_0x3afef1(0x5e7),_0x429555[_0x3afef1(0x3fa)]=_0x3afef1(0x623),_0x429555[_0x3afef1(0x296)]=_0x3afef1(0x3c8),_0x429555['Agent']=_0x3afef1(0x48b),_0x429555[_0x3afef1(0x4d7)]=_0x3afef1(0x279),_0x429555[_0x3afef1(0x9d1)]=_0x3afef1(0x44e),_0x429555[_0x3afef1(0x23d)]='vector-database',_0x429555[_0x3afef1(0x270)]='graph-database',_0x429555['Prompt']='prompt',_0x429555[_0x3afef1(0x945)]=_0x3afef1(0x15c);}(_0x446c71||(_0x446c71={})),function(_0x2ffed9){const _0x4b0849=_0x1833fc;_0x2ffed9[_0x4b0849(0x9c8)]=_0x4b0849(0x80b),_0x2ffed9[_0x4b0849(0x66a)]=_0x4b0849(0x54b),_0x2ffed9[_0x4b0849(0x1f5)]=_0x4b0849(0x377),_0x2ffed9[_0x4b0849(0x337)]=_0x4b0849(0x11f),_0x2ffed9['Data']='data',_0x2ffed9[_0x4b0849(0x9a5)]=_0x4b0849(0x225),_0x2ffed9[_0x4b0849(0x723)]='entity',_0x2ffed9['Relation']=_0x4b0849(0x245),_0x2ffed9[_0x4b0849(0x91f)]='search',_0x2ffed9[_0x4b0849(0x4b8)]=_0x4b0849(0x295),_0x2ffed9['Knowledge']=_0x4b0849(0x700),_0x2ffed9[_0x4b0849(0x6aa)]=_0x4b0849(0x516),_0x2ffed9[_0x4b0849(0x945)]=_0x4b0849(0x15c),_0x2ffed9[_0x4b0849(0x6e4)]=_0x4b0849(0x70b);}(_0x5c20a2||(_0x5c20a2={}));class _0x3ee07d{static [_0x1833fc(0x9b7)];constructor(){}static[_0x1833fc(0x16c)](){const _0x36ce5e=_0x1833fc;return _0x3ee07d['instance']||(_0x3ee07d['instance']=new _0x3ee07d()),_0x3ee07d[_0x36ce5e(0x9b7)];}async[_0x1833fc(0x56f)](_0x24c7e1,_0x222470){const _0xdaa13d=_0x1833fc,_0x1daaf3=await(0x0,_0x4e5c5c[_0xdaa13d(0x860)])((0x0,_0x4e5c5c[_0xdaa13d(0x58c)])(_0xc81657[_0xdaa13d(0x6c9)](),'/developers/'+_0x24c7e1+_0xdaa13d(0x7ad)+_0x222470)),_0x54b2c7=await this['getAgents'](_0x24c7e1),_0x565519=await this[_0xdaa13d(0x369)](_0x24c7e1),_0x54a9d8=await this[_0xdaa13d(0x160)](_0x24c7e1),_0x3bc42c=await this[_0xdaa13d(0x258)](_0x24c7e1),_0x596a47=await this[_0xdaa13d(0x695)](_0x24c7e1);if(!_0x1daaf3['exists']())throw new _0x4511be(_0x4511be[_0xdaa13d(0x2a2)][_0xdaa13d(0x81f)]);return this['parseWorkflowDocument'](_0x1daaf3,_0x54b2c7,_0x565519,_0x54a9d8,_0x3bc42c,_0x596a47);}['parseWorkflowDocument'](_0x4face7,_0x473662,_0x1f80a4,_0x356e11,_0x3b2cb0,_0x1c9097){const _0x36f392=_0x1833fc,_0x367c1b=_0x4face7[_0x36f392(0x87e)]();if(!_0x367c1b)throw new _0x4511be(_0x4511be[_0x36f392(0x2a2)]['WorkflowDoesNotExist']);const _0x335664=_0x367c1b[_0x36f392(0x452)]&&_0x367c1b['versions']?_0x367c1b[_0x36f392(0x927)][_0x367c1b[_0x36f392(0x452)]-0x1]:_0x367c1b,_0x48ade5=this[_0x36f392(0x991)](_0x335664[_0x36f392(0x540)],_0x473662,_0x1f80a4,_0x356e11,_0x1c9097);return{'id':_0x4face7['id'],'modelsBucketId':_0x367c1b['bucketId'],'blocks':_0x48ade5,'models':this['getWorkflowModels'](_0x48ade5,_0x3b2cb0),'dataBucketIds':this[_0x36f392(0x608)](_0x48ade5),'externalStorageConnectionIds':this[_0x36f392(0x335)](_0x48ade5)};}['getWorkflowModels'](_0xa64f98,_0x4f918c){const _0x275c43=_0x1833fc,_0x12d039=new Set();for(const _0xef4c82 of _0xa64f98)if(_0xef4c82['type']!==_0x2c8280[_0x275c43(0x4a0)]&&_0xef4c82[_0x275c43(0x339)]!==_0x2c8280[_0x275c43(0x685)]||_0x12d039[_0x275c43(0x720)](_0xef4c82[_0x275c43(0x8a8)]),_0xef4c82[_0x275c43(0x339)]===_0x2c8280[_0x275c43(0x468)]||_0xef4c82['type']===_0x2c8280[_0x275c43(0x5b3)]){for(const _0x390552 of[..._0xef4c82[_0x275c43(0x658)],..._0xef4c82[_0x275c43(0x3b0)]])_0x390552[_0x275c43(0x339)]===_0x446c71['Model']&&_0x12d039[_0x275c43(0x720)](_0x390552['id']),_0x390552[_0x275c43(0x339)]===_0x446c71[_0x275c43(0x4a0)]&&_0x12d039[_0x275c43(0x720)](_0x390552[_0x275c43(0x8a8)]);}return Array[_0x275c43(0x5cf)](_0x12d039)[_0x275c43(0x84d)](_0xe01d6e=>{const _0x27eaac=_0x275c43,{id:_0x101ab,engineType:_0x24fb8d,taskType:_0x8d1ef4,inputType:_0x1f5151,outputType:_0x8b6cb3,sourceUrl:_0x331679}=_0x4f918c[_0x27eaac(0x33e)](_0x16aeb2=>_0x16aeb2['id']===_0xe01d6e);return{'id':_0x101ab,'engineType':_0x24fb8d,'taskType':_0x8d1ef4,'inputType':_0x1f5151,'outputType':_0x8b6cb3,'sourceUrl':_0x331679};});}['getWorkflowObjectStorageBuckets'](_0x2e0355){const _0xde3986=_0x1833fc,_0x5e6712=new Set();for(const _0x507d5c of _0x2e0355)switch(_0x507d5c['type']){case _0x2c8280[_0xde3986(0x468)]:case _0x2c8280[_0xde3986(0x5b3)]:for(const _0x1cd992 of[..._0x507d5c['ingestBlocks'],..._0x507d5c[_0xde3986(0x3b0)]])_0x1cd992['type']===_0x446c71[_0xde3986(0x4ce)]&&_0x5e6712[_0xde3986(0x720)](_0x1cd992['id']);}return Array[_0xde3986(0x5cf)](_0x5e6712);}[_0x1833fc(0x335)](_0x472b83){const _0x1f0217=_0x1833fc,_0x148902=new Set();for(const _0x2adbe2 of _0x472b83)switch(_0x2adbe2['type']){case _0x2c8280[_0x1f0217(0x468)]:case _0x2c8280[_0x1f0217(0x5b3)]:for(const _0x219a46 of[..._0x2adbe2['ingestBlocks'],..._0x2adbe2[_0x1f0217(0x3b0)]])_0x219a46[_0x1f0217(0x339)]===_0x446c71[_0x1f0217(0x3a6)]&&_0x148902[_0x1f0217(0x720)](_0x219a46['id']);}return Array[_0x1f0217(0x5cf)](_0x148902);}['parseWorkflowBlocks'](_0x14a1be,_0x4ccd57,_0x3bfaba,_0x2d58e6,_0x3447a3){const _0x399a72=_0x1833fc;return _0x14a1be[_0x399a72(0x84d)](_0x5c8e00=>{const _0x1d894f=_0x399a72;switch(_0x5c8e00[_0x1d894f(0x339)]){case _0x2c8280[_0x1d894f(0x4a0)]:case _0x2c8280[_0x1d894f(0x685)]:const _0x2c07df=_0x4ccd57[_0x1d894f(0x33e)](_0x4c0f3e=>_0x4c0f3e['id']===_0x5c8e00['id']);if(!_0x2c07df)throw new _0x4511be(_0x4511be[_0x1d894f(0x2a2)][_0x1d894f(0x965)],{'block':_0x5c8e00});const _0x4b357b=_0x5c8e00[_0x1d894f(0x3a2)]&&_0x2c07df[_0x1d894f(0x927)]?_0x2c07df[_0x1d894f(0x927)][_0x5c8e00[_0x1d894f(0x3a2)]-0x1]:_0x2c07df;return{'type':_0x2c07df[_0x1d894f(0x339)],'id':_0x2c07df['id'],'uid':_0x5c8e00[_0x1d894f(0x1d7)],'name':_0x4b357b['name'],'description':_0x4b357b[_0x1d894f(0x7ed)],'instructions':_0x4b357b['instructions'],'contextOutputVariable':_0x4b357b[_0x1d894f(0x134)],'contextInputVariable':_0x4b357b[_0x1d894f(0x8c3)],'grammar':[_0x1d894f(0x90c),_0x1d894f(0x841),_0x1d894f(0x220)][_0x1d894f(0x778)](_0x4b357b[_0x1d894f(0x418)])?_0x4b357b[_0x1d894f(0x418)]:_0x3447a3[_0x1d894f(0x33e)](_0x5dd5ae=>_0x5dd5ae['id']===_0x4b357b[_0x1d894f(0x418)])[_0x1d894f(0x3ff)],'temperature':_0x4b357b['temperature'],'maxTokens':_0x4b357b[_0x1d894f(0x604)],'modelId':_0x4b357b['modelId'],'links':_0x5c8e00[_0x1d894f(0x7c2)],'version':_0x5c8e00[_0x1d894f(0x3a2)]};case _0x2c8280[_0x1d894f(0x468)]:case _0x2c8280[_0x1d894f(0x5b3)]:const _0x43d272=_0x3bfaba['find'](_0x5aced1=>_0x5aced1['id']===_0x5c8e00['id']);if(!_0x43d272)throw new _0x4511be(_0x4511be['codes'][_0x1d894f(0x965)],{'block':_0x5c8e00});const _0x369124=_0x5c8e00[_0x1d894f(0x3a2)]&&_0x43d272[_0x1d894f(0x927)]?_0x43d272[_0x1d894f(0x927)][_0x5c8e00[_0x1d894f(0x3a2)]-0x1]:_0x43d272;return{'type':_0x5c8e00[_0x1d894f(0x339)],'id':_0x43d272['id'],'uid':_0x5c8e00[_0x1d894f(0x1d7)],'name':_0x369124['name'],'description':_0x369124[_0x1d894f(0x7ed)],'ingestBlocks':this[_0x1d894f(0x73e)](_0x369124[_0x1d894f(0x658)],_0x4ccd57),'retrieveBlocks':this[_0x1d894f(0x73e)](_0x369124['retrieveBlocks'],_0x4ccd57),'links':_0x5c8e00['links'],'version':_0x5c8e00[_0x1d894f(0x3a2)]};case _0x2c8280[_0x1d894f(0x1cc)]:const _0x51ed31=_0x2d58e6['find'](_0x3cdcfe=>_0x3cdcfe['id']===_0x5c8e00['id']);if(!_0x51ed31)throw new _0x4511be(_0x4511be[_0x1d894f(0x2a2)]['WorkflowInvalidBlockType'],{'block':_0x5c8e00});return{'type':_0x5c8e00[_0x1d894f(0x339)],'id':_0x51ed31['id'],'uid':_0x5c8e00['uid'],'name':_0x51ed31[_0x1d894f(0x3cd)],'description':_0x51ed31['description'],'parameters':_0x51ed31[_0x1d894f(0x3d1)],'endpointUrl':_0x51ed31['endpointUrl'],'endpointMethod':_0x51ed31[_0x1d894f(0x485)],'headers':_0x51ed31[_0x1d894f(0x37c)],'queryParameters':_0x51ed31[_0x1d894f(0x28f)],'bodyParameters':_0x51ed31[_0x1d894f(0x33d)],'contextOutputVariable':_0x51ed31['contextOutputVariable'],'waitAsync':_0x51ed31[_0x1d894f(0x45e)],'asyncEndpointUrl':_0x51ed31[_0x1d894f(0x21d)],'asyncEndpointMethod':_0x51ed31[_0x1d894f(0x49a)],'asyncHeaders':_0x51ed31[_0x1d894f(0x5d5)],'links':_0x5c8e00[_0x1d894f(0x7c2)]};case _0x2c8280[_0x1d894f(0x210)]:case _0x2c8280['Answer']:case _0x2c8280[_0x1d894f(0x9d9)]:case _0x2c8280[_0x1d894f(0x866)]:case _0x2c8280[_0x1d894f(0x91f)]:case _0x2c8280[_0x1d894f(0x131)]:case _0x2c8280[_0x1d894f(0x90a)]:case _0x2c8280[_0x1d894f(0x6f2)]:return{'type':_0x5c8e00['type'],'id':_0x5c8e00['id'],'uid':_0x5c8e00[_0x1d894f(0x1d7)],'links':_0x5c8e00[_0x1d894f(0x7c2)]};case _0x2c8280['ChunkSplitter']:case _0x2c8280['WordSplitter']:return{'type':_0x5c8e00[_0x1d894f(0x339)],'id':_0x5c8e00['id'],'uid':_0x5c8e00[_0x1d894f(0x1d7)],'links':_0x5c8e00['links'],'attributes':_0x5c8e00[_0x1d894f(0x905)]};default:throw new _0x4511be(_0x4511be['codes'][_0x1d894f(0x965)],{'block':_0x5c8e00});}});}[_0x1833fc(0x73e)](_0x14356d,_0x5cb345){const _0xbfe9d2=_0x1833fc;return _0x14356d[_0xbfe9d2(0x84d)](_0x4f35c0=>{const _0x1cca2f=_0xbfe9d2;switch(_0x4f35c0[_0x1cca2f(0x339)]){case _0x446c71[_0x1cca2f(0x4a0)]:const _0x251344=_0x5cb345[_0x1cca2f(0x33e)](_0x42ed91=>_0x42ed91['id']===_0x4f35c0['id']);if(!_0x251344)throw new _0x4511be(_0x4511be[_0x1cca2f(0x2a2)]['WorkflowInvalidBlockType'],{'block':_0x4f35c0});const _0x46c597=_0x4f35c0[_0x1cca2f(0x3a2)]&&_0x251344[_0x1cca2f(0x927)]?_0x251344[_0x1cca2f(0x927)][_0x4f35c0[_0x1cca2f(0x3a2)]-0x1]:_0x251344;return{'type':_0x4f35c0[_0x1cca2f(0x339)],'id':_0x4f35c0['id'],'uid':_0x4f35c0[_0x1cca2f(0x1d7)],'description':_0x46c597['description'],'instructions':_0x46c597[_0x1cca2f(0x231)],'grammar':_0x46c597[_0x1cca2f(0x418)],'temperature':_0x46c597[_0x1cca2f(0x22e)],'maxTokens':_0x46c597['maxTokens'],'modelId':_0x46c597[_0x1cca2f(0x8a8)],'links':_0x4f35c0[_0x1cca2f(0x7c2)],'version':_0x4f35c0[_0x1cca2f(0x3a2)]};case _0x446c71[_0x1cca2f(0x270)]:case _0x446c71['VectorDatabase']:case _0x446c71[_0x1cca2f(0x32b)]:case _0x446c71[_0x1cca2f(0x9ae)]:case _0x446c71[_0x1cca2f(0x872)]:case _0x446c71[_0x1cca2f(0x3fa)]:return{'type':_0x4f35c0[_0x1cca2f(0x339)],'id':_0x4f35c0['id'],'uid':_0x4f35c0[_0x1cca2f(0x1d7)],'links':_0x4f35c0[_0x1cca2f(0x7c2)],'attributes':_0x4f35c0[_0x1cca2f(0x905)]};case _0x446c71[_0x1cca2f(0x296)]:case _0x446c71['ObjectStorageBucket']:case _0x446c71['KeyValueDatabase']:case _0x446c71[_0x1cca2f(0xfd)]:case _0x446c71[_0x1cca2f(0x427)]:case _0x446c71[_0x1cca2f(0x6f2)]:case _0x446c71[_0x1cca2f(0x4ce)]:case _0x446c71['ExternalStorageUpload']:case _0x446c71[_0x1cca2f(0x945)]:case _0x446c71['Prompt']:return{'type':_0x4f35c0[_0x1cca2f(0x339)],'id':_0x4f35c0['id'],'uid':_0x4f35c0['uid'],'links':_0x4f35c0[_0x1cca2f(0x7c2)]};default:throw new _0x4511be(_0x4511be[_0x1cca2f(0x2a2)][_0x1cca2f(0x965)],{'block':_0x4f35c0});}});}async[_0x1833fc(0x47a)](_0x5dc232){const _0x202a77=_0x1833fc;return(await(0x0,_0x4e5c5c[_0x202a77(0x796)])((0x0,_0x4e5c5c[_0x202a77(0x939)])(_0xc81657[_0x202a77(0x6c9)](),_0x202a77(0xeb)+_0x5dc232+_0x202a77(0x1db))))[_0x202a77(0x1a2)][_0x202a77(0x84d)](_0x14f5bd=>{const _0x8d2397=_0x202a77,_0x56ebc4=_0x14f5bd['data']();return{'type':_0x2c8280[_0x8d2397(0x4a0)],'id':_0x14f5bd['id'],'name':_0x56ebc4[_0x8d2397(0x3cd)],'description':_0x56ebc4[_0x8d2397(0x7ed)],'instructions':_0x56ebc4[_0x8d2397(0x231)],'contextOutputVariable':_0x56ebc4['contextOutputVariable'],'contextInputVariable':_0x56ebc4[_0x8d2397(0x8c3)],'grammar':_0x56ebc4[_0x8d2397(0x418)]??_0x8d2397(0x90c),'temperature':_0x56ebc4['temperature'],'maxTokens':_0x56ebc4[_0x8d2397(0x604)],'modelId':_0x56ebc4[_0x8d2397(0x8a8)],'versions':_0x56ebc4[_0x8d2397(0x927)]};});}async[_0x1833fc(0x369)](_0x16127a){const _0x26d017=_0x1833fc;return(await(0x0,_0x4e5c5c['getDocs'])((0x0,_0x4e5c5c[_0x26d017(0x939)])(_0xc81657[_0x26d017(0x6c9)](),'/developers/'+_0x16127a+_0x26d017(0x5e2))))[_0x26d017(0x1a2)][_0x26d017(0x84d)](_0x5a2712=>{const _0x5a39ff=_0x26d017,_0x521bfa=_0x5a2712[_0x5a39ff(0x87e)]();return{'type':_0x2c8280[_0x5a39ff(0x5b3)],'id':_0x5a2712['id'],'name':_0x521bfa[_0x5a39ff(0x3cd)],'description':_0x521bfa[_0x5a39ff(0x7ed)],'ingestBlocks':_0x521bfa['ingestBlocks'],'retrieveBlocks':_0x521bfa[_0x5a39ff(0x3b0)],'versions':_0x521bfa[_0x5a39ff(0x927)]};});}async['getSkills'](_0x2a9fbb){const _0x1bef6f=_0x1833fc;return(await(0x0,_0x4e5c5c[_0x1bef6f(0x796)])((0x0,_0x4e5c5c[_0x1bef6f(0x939)])(_0xc81657[_0x1bef6f(0x6c9)](),_0x1bef6f(0xeb)+_0x2a9fbb+_0x1bef6f(0x960))))[_0x1bef6f(0x1a2)][_0x1bef6f(0x84d)](_0xe5b77c=>{const _0x4c6724=_0x1bef6f,_0x1075ed=_0xe5b77c[_0x4c6724(0x87e)]();return{'type':_0x2c8280[_0x4c6724(0x1cc)],'id':_0xe5b77c['id'],'name':_0x1075ed[_0x4c6724(0x3cd)],'description':_0x1075ed['description'],'parameters':_0x1075ed[_0x4c6724(0x3d1)],'endpointUrl':_0x1075ed[_0x4c6724(0x4d5)],'endpointMethod':_0x1075ed[_0x4c6724(0x485)],'headers':_0x1075ed[_0x4c6724(0x37c)],'queryParameters':_0x1075ed[_0x4c6724(0x28f)],'bodyParameters':_0x1075ed[_0x4c6724(0x33d)],'contextOutputVariable':_0x1075ed['contextOutputVariable'],'waitAsync':_0x1075ed['waitAsync']??!0x1,'asyncEndpointUrl':_0x1075ed[_0x4c6724(0x21d)],'asyncEndpointMethod':_0x1075ed[_0x4c6724(0x49a)],'asyncHeaders':_0x1075ed[_0x4c6724(0x5d5)]};});}async['getGrammars'](_0x262492){const _0x2fbcfd=_0x1833fc;return(await(0x0,_0x4e5c5c[_0x2fbcfd(0x796)])((0x0,_0x4e5c5c[_0x2fbcfd(0x939)])(_0xc81657[_0x2fbcfd(0x6c9)](),_0x2fbcfd(0xeb)+_0x262492+_0x2fbcfd(0x8f1))))[_0x2fbcfd(0x1a2)][_0x2fbcfd(0x84d)](_0x23411b=>{const _0x14cb2f=_0x2fbcfd,_0x636c9f=_0x23411b[_0x14cb2f(0x87e)]();return{'id':_0x23411b['id'],'name':_0x636c9f['name'],'description':_0x636c9f[_0x14cb2f(0x7ed)],'content':_0x636c9f[_0x14cb2f(0x3ff)]};});}async[_0x1833fc(0x258)](_0x2c4ec6){const _0x3cbf85=_0x1833fc;return(await(0x0,_0x4e5c5c['getDocs'])((0x0,_0x4e5c5c[_0x3cbf85(0x939)])(_0xc81657[_0x3cbf85(0x6c9)](),_0x3cbf85(0xeb)+_0x2c4ec6+_0x3cbf85(0x6e5))))['docs']['map'](_0x1b1d31=>{const _0x532672=_0x3cbf85,_0x22c230=_0x1b1d31[_0x532672(0x87e)]();return{'id':_0x1b1d31['id'],'modelName':_0x22c230[_0x532672(0x590)],'engineType':_0x22c230[_0x532672(0x294)],'taskType':_0x22c230[_0x532672(0x6b0)],'inputType':_0x22c230[_0x532672(0x2c9)]??_0x4f9f07['GenerativeAIModelInputType']['Text'],'outputType':_0x22c230[_0x532672(0x2c6)]??_0x4f9f07[_0x532672(0x659)]['Text'],'sourceUrl':_0x22c230[_0x532672(0x990)]};});}}const _0x27e8b2=_0x3ee07d[_0x1833fc(0x16c)]();class _0x42d28c extends _0x45e78c{[_0x1833fc(0x86c)];[_0x1833fc(0x889)];[_0x1833fc(0x1fd)]=0x0;[_0x1833fc(0x177)]=0x0;['debounceStats'];constructor(_0x1b5e4d,_0x4bd8fe,_0x32882d,_0x44b570){const _0x51be72=_0x1833fc;super(_0x1b5e4d,_0x4bd8fe,_0x44b570),this[_0x51be72(0x86c)]=_0x1b5e4d,this['vendorId']=_0x32882d,this[_0x51be72(0x153)]();}[_0x1833fc(0x24c)](){const _0x4c5679=_0x1833fc;this['debounceStats']&&(clearTimeout(this[_0x4c5679(0x652)]),delete this[_0x4c5679(0x652)]),super['destroy']();}[_0x1833fc(0x780)](){const _0x1c2a90=_0x1833fc;this[_0x1c2a90(0x1fd)]=0x0,this[_0x1c2a90(0x177)]=0x0,this[_0x1c2a90(0x153)](),super[_0x1c2a90(0x780)]();}[_0x1833fc(0x811)](_0x39e41d){const _0x186cb3=_0x1833fc,_0x2209c0='job-'+(0x0,_0x6e2c44['v4'])();switch(_0x39e41d[_0x186cb3(0x339)]){case _0x186cb3(0x563):let _0x3ae3c5=!0x1;const _0x35ec49=()=>{const _0x5b7f1c=_0x186cb3;if(_0x3ae3c5)throw new _0x4511be(_0x4511be[_0x5b7f1c(0x2a2)][_0x5b7f1c(0x3a0)]);_0x3ae3c5=!0x0;},_0x466eb0=()=>(_0x35ec49(),this[_0x186cb3(0x563)](_0x2209c0,_0x39e41d['prompt'],_0x39e41d[_0x186cb3(0x81d)])),_0x37c29a=()=>(_0x35ec49(),this['stream'](_0x2209c0,_0x39e41d[_0x186cb3(0x563)],_0x39e41d[_0x186cb3(0x81d)]));return{'id':_0x2209c0,'prompt':_0x39e41d[_0x186cb3(0x563)],'options':_0x39e41d[_0x186cb3(0x81d)]??{'threadId':_0x186cb3(0x48a)+(0x0,_0x6e2c44['v4'])()},'run':_0x466eb0,'stream':_0x37c29a};case'rate':let _0xa10401=!0x1;const _0x419284=()=>{const _0xc9947c=_0x186cb3;if(_0xa10401)throw new _0x4511be(_0x4511be[_0xc9947c(0x2a2)][_0xc9947c(0x3a0)]);_0xa10401=!0x0;},_0x7442d8=()=>(_0x419284(),this['internalRatePrompt'](_0x2209c0,_0x39e41d['rating'],_0x39e41d[_0x186cb3(0x7f0)],_0x39e41d['options']));if(!_0x39e41d[_0x186cb3(0x81d)]?.[_0x186cb3(0x869)])throw new _0x3b1f45(_0x5bdcd2[_0x186cb3(0x7a0)],'Please\x20provide\x20a\x20threadId\x20in\x20the\x20options');return{'id':_0x2209c0,'rating':_0x39e41d[_0x186cb3(0x6e1)],'options':_0x39e41d[_0x186cb3(0x81d)]??{'threadId':_0x186cb3(0x48a)+(0x0,_0x6e2c44['v4'])()},'rate':_0x7442d8};case _0x186cb3(0x781):let _0x263495=!0x1;const _0xf6e3cc=()=>{const _0x21482f=_0x186cb3;if(_0x263495)throw new _0x4511be(_0x4511be[_0x21482f(0x2a2)][_0x21482f(0x3a0)]);_0x263495=!0x0;};return{'id':_0x2209c0,'objectStoreId':'','documentPath':_0x39e41d[_0x186cb3(0x45b)],'download':()=>(_0xf6e3cc(),this[_0x186cb3(0x27c)](_0x2209c0,_0x39e41d['objectStoreId'],_0x39e41d[_0x186cb3(0x45b)]))};}}async['ratePrompt'](_0x3bd770){const _0x4be5cd=_0x1833fc;return this[_0x4be5cd(0x811)](_0x3bd770)[_0x4be5cd(0x5cd)]();}async['downloadDocument'](_0x2a936b){const _0xb5d6b8=_0x1833fc,_0x3a21c4={'type':_0xb5d6b8(0x781),'objectStoreId':'','documentPath':_0x2a936b};return this['createAIJob'](_0x3a21c4)[_0xb5d6b8(0x655)]();}async[_0x1833fc(0x874)](_0x4bce02,_0x4beceb,_0x3ad6e6,{threadId:_0x13f85c,feedback:_0x34be78=''}){const _0x320b09=_0x1833fc,_0x38a3f2={'type':_0x320b09(0x5cd),'jobId':_0x3ad6e6,'threadId':_0x13f85c,'rating':_0x4beceb,'feedback':_0x34be78},_0xcb9dc8=await this['getJobObservable'](_0x4bce02,_0x4f9f07['JobType'][_0x320b09(0x87d)],_0x38a3f2,{'threadId':_0x13f85c,'feedback':_0x34be78});return new Promise((_0xd97a3b,_0x1b9eb0)=>{const _0xb04dce=_0x320b09;let _0x11e812;const _0x33f9b2=_0xcb9dc8[_0xb04dce(0x456)]({'next':_0x33e8b9=>{const _0xb51ac8=_0xb04dce;switch(_0x33e8b9[_0xb51ac8(0x599)]){case _0x4f9f07['JobStatus'][_0xb51ac8(0x756)]:clearTimeout(_0x11e812),_0xd97a3b(_0x33e8b9[_0xb51ac8(0x8e6)]),_0x33f9b2[_0xb51ac8(0x788)]();break;case _0x4f9f07[_0xb51ac8(0x77f)][_0xb51ac8(0x9de)]:clearTimeout(_0x11e812),_0x1b9eb0(new _0x4511be(_0x4511be['codes']['GenerativeAIContextJobFailed'],{'updatedJob':_0x33e8b9})),_0x33f9b2[_0xb51ac8(0x788)]();}},'error':_0x388f7e=>{const _0x505760=_0xb04dce;clearTimeout(_0x11e812),_0x1b9eb0(new _0x4511be(_0x4511be[_0x505760(0x2a2)][_0x505760(0x5f3)],{'err':_0x388f7e})),_0x33f9b2[_0x505760(0x788)]();}});_0x11e812=setTimeout(()=>{const _0x595ea0=_0xb04dce;_0x1b9eb0(new _0x4511be(_0x4511be[_0x595ea0(0x2a2)][_0x595ea0(0x4ee)])),_0x33f9b2[_0x595ea0(0x788)]();},_0x2e147b);});}async[_0x1833fc(0x27c)](_0x4f92a1,_0x5a1f71,_0x2e6eda){const _0x537f74=_0x1833fc,_0xb5bb19={'type':_0x537f74(0x781),'objectStoreId':_0x5a1f71,'documentPath':_0x2e6eda,'threadId':'thread-'+(0x0,_0x6e2c44['v4'])()},_0xbdf2a6=await this[_0x537f74(0x920)](_0x4f92a1,_0x4f9f07[_0x537f74(0x65d)][_0x537f74(0x87d)],_0xb5bb19);return new Promise((_0x1af985,_0x127e87)=>{const _0x1b4201=_0x537f74;let _0x5b212d;const _0x2cd7ed=_0xbdf2a6[_0x1b4201(0x456)]({'next':_0x5d1e21=>{const _0x27984c=_0x1b4201;switch(_0x5d1e21['status']){case _0x4f9f07[_0x27984c(0x77f)][_0x27984c(0x756)]:clearTimeout(_0x5b212d),_0x1af985(_0x5d1e21['result']),_0x2cd7ed['unsubscribe']();break;case _0x4f9f07[_0x27984c(0x77f)][_0x27984c(0x9de)]:clearTimeout(_0x5b212d),_0x127e87(new _0x4511be(_0x4511be[_0x27984c(0x2a2)][_0x27984c(0x5f3)],{'updatedJob':_0x5d1e21})),_0x2cd7ed[_0x27984c(0x788)]();}},'error':_0x2b7366=>{const _0x23d549=_0x1b4201;clearTimeout(_0x5b212d),_0x127e87(new _0x4511be(_0x4511be[_0x23d549(0x2a2)]['GenerativeAIContextJobFailed'],{'err':_0x2b7366})),_0x2cd7ed[_0x23d549(0x788)]();}});_0x5b212d=setTimeout(()=>{const _0x572719=_0x1b4201;_0x127e87(new _0x4511be(_0x4511be[_0x572719(0x2a2)][_0x572719(0x4ee)])),_0x2cd7ed[_0x572719(0x788)]();},_0x2e147b);});}async[_0x1833fc(0x563)](_0x237bc1,_0x2f1ab9,_0xe95f86){const _0x3d2540=_0x1833fc,_0x136a1b={'type':_0x3d2540(0x563),'prompt':_0x2f1ab9,'threadId':_0xe95f86?.[_0x3d2540(0x869)]??'thread-'+(0x0,_0x6e2c44['v4'])()},_0x4a341f=await this[_0x3d2540(0x920)](_0x237bc1,_0x4f9f07[_0x3d2540(0x65d)]['Job'],_0x136a1b,_0xe95f86);return new Promise((_0x10daa1,_0x2be9a9)=>{const _0x2b6590=_0x3d2540;let _0x218567;const _0x4916c4=_0x4a341f[_0x2b6590(0x456)]({'next':_0x4f5ac8=>{const _0x1be1f2=_0x2b6590;switch(_0x4f5ac8['status']){case _0x4f9f07['JobStatus'][_0x1be1f2(0x756)]:if(_0x1be1f2(0x563)!==_0x4f5ac8[_0x1be1f2(0x8e6)]['type'])return;const _0x2433d7=_0x4f5ac8[_0x1be1f2(0x8e6)][_0x1be1f2(0x198)]??0x0;this[_0x1be1f2(0x82a)](_0x2f1ab9,_0x2433d7),clearTimeout(_0x218567),_0x10daa1(_0x4f5ac8['result']),_0x4916c4['unsubscribe'](),this[_0x1be1f2(0x1fd)]+=0x1,this[_0x1be1f2(0x177)]+=_0x2433d7,this[_0x1be1f2(0x153)]();break;case _0x4f9f07['JobStatus'][_0x1be1f2(0x9de)]:clearTimeout(_0x218567),_0x2be9a9(new _0x4511be(_0x4511be[_0x1be1f2(0x2a2)][_0x1be1f2(0x5f3)],{'updatedJob':_0x4f5ac8})),_0x4916c4['unsubscribe'](),this[_0x1be1f2(0x153)]();}},'error':_0x733ece=>{const _0x4101f3=_0x2b6590;clearTimeout(_0x218567),_0x2be9a9(new _0x4511be(_0x4511be[_0x4101f3(0x2a2)][_0x4101f3(0x5f3)],{'err':_0x733ece})),_0x4916c4[_0x4101f3(0x788)]();}});_0x218567=setTimeout(()=>{const _0x31cedd=_0x2b6590;_0x2be9a9(new _0x4511be(_0x4511be['codes'][_0x31cedd(0x4ee)])),_0x4916c4['unsubscribe']();},_0x2e147b);});}async*['stream'](_0x45f514,_0x11b8df,_0xc0e443){const _0x28e7d6=_0x1833fc,_0x3a865e={'type':_0x28e7d6(0x563),'prompt':_0x11b8df,'threadId':_0xc0e443?.[_0x28e7d6(0x869)]??'thread-'+(0x0,_0x6e2c44['v4'])()},_0x4e5f0e=await this[_0x28e7d6(0x920)](_0x45f514,_0x4f9f07[_0x28e7d6(0x65d)][_0x28e7d6(0x228)],_0x3a865e,_0xc0e443);let _0x37ab69,_0x1b3654,_0x4fbf1a=!0x1,_0x571dce=0x0;const _0xdc778b=[],_0x2bd2e5=new Map();let _0x4a8ec7=null;const _0x4c5844=()=>{_0x4a8ec7&&(_0x4a8ec7(),_0x4a8ec7=null);},_0x29e69e=_0x4b0ea8=>{const _0x487486=_0x28e7d6;_0x4fbf1a=!0x0,_0x4c5844(),_0x26f82e[_0x487486(0x788)](),_0x1b3654=_0x4b0ea8;},_0x26f82e=_0x4e5f0e[_0x28e7d6(0x456)]({'next':_0x5156fe=>{const _0xdb7b10=_0x28e7d6;switch(_0x5156fe[_0xdb7b10(0x599)]){case _0x4f9f07['JobStatus'][_0xdb7b10(0x4ec)]:if(_0xdb7b10(0x563)!==_0x5156fe[_0xdb7b10(0x8e6)][_0xdb7b10(0x339)])return;if(_0x5156fe[_0xdb7b10(0x8e6)]&&void 0x0!==_0x5156fe['result'][_0xdb7b10(0x922)]){if(void 0x0===_0x5156fe[_0xdb7b10(0x8e6)][_0xdb7b10(0x295)])return void _0x29e69e(_0x4511be[_0xdb7b10(0x2a2)][_0xdb7b10(0x42c)]);_0x571dce===_0x5156fe[_0xdb7b10(0x8e6)][_0xdb7b10(0x295)]?(_0xdc778b[_0xdb7b10(0x5ed)](_0x5156fe[_0xdb7b10(0x8e6)]),_0x571dce++,((()=>{const _0x2012a7=_0xdb7b10;for(;_0x2bd2e5['has'](_0x571dce);)_0xdc778b['push'](_0x2bd2e5['get'](_0xdc778b[_0x2012a7(0x5af)])),_0x2bd2e5[_0x2012a7(0x8be)](_0xdc778b[_0x2012a7(0x5af)]),_0x571dce++;})()),_0x4c5844(),_0x27ccd4()):_0x2bd2e5[_0xdb7b10(0x174)](_0x5156fe[_0xdb7b10(0x8e6)][_0xdb7b10(0x295)],_0x5156fe[_0xdb7b10(0x8e6)]);}break;case _0x4f9f07['JobStatus']['Completed']:if(_0xdb7b10(0x563)!==_0x5156fe[_0xdb7b10(0x8e6)][_0xdb7b10(0x339)])return;const _0x53aaed=_0x5156fe[_0xdb7b10(0x8e6)][_0xdb7b10(0x198)]??0x0;this['logServiceEvent'](_0x11b8df,_0x53aaed),clearTimeout(_0x37ab69),_0x29e69e(),this['prompts']+=0x1,this[_0xdb7b10(0x177)]+=_0x53aaed,this[_0xdb7b10(0x153)]();break;case _0x4f9f07[_0xdb7b10(0x77f)][_0xdb7b10(0x9de)]:clearTimeout(_0x37ab69),_0x29e69e(_0x4511be[_0xdb7b10(0x2a2)][_0xdb7b10(0x5f3)]),this[_0xdb7b10(0x153)]();}},'error':_0x2a00fa=>{const _0x29232a=_0x28e7d6;clearTimeout(_0x37ab69),_0x29e69e(_0x4511be[_0x29232a(0x2a2)][_0x29232a(0x5f3)]);}}),_0x3dfe1b=()=>{const _0x40e876=_0x28e7d6;_0x29e69e(_0x4511be['codes'][_0x40e876(0x4ee)]);},_0x27ccd4=()=>{clearTimeout(_0x37ab69),_0x37ab69=setTimeout(_0x3dfe1b,_0x2e147b);};for(_0x37ab69=setTimeout(_0x3dfe1b,_0x2e147b);!_0x4fbf1a||_0xdc778b['length']>0x0;)_0xdc778b[_0x28e7d6(0x5af)]>0x0?yield _0xdc778b[_0x28e7d6(0x514)]():await new Promise(_0xced668=>_0x4a8ec7=_0xced668);if(_0x1b3654)throw _0x380207[_0x28e7d6(0x657)](_0x28e7d6(0x34d),{'nodeId':this[_0x28e7d6(0x86c)][_0x28e7d6(0x76b)](),'nodeType':this[_0x28e7d6(0x86c)][_0x28e7d6(0x339)]}),new _0x4511be(_0x1b3654);}async[_0x1833fc(0x4d3)](){const _0x42b447=_0x1833fc;return(await _0x27e8b2[_0x42b447(0x56f)](this[_0x42b447(0x889)],this[_0x42b447(0x671)]))['dataBucketIds'];}['logServiceEvent'](_0x36e4e9,_0x13f0c9){const _0x411bf4=_0x1833fc,_0x45ff97=this[_0x411bf4(0x671)],_0x27cd7d=this[_0x411bf4(0x764)]();_0x380207[_0x411bf4(0x82a)](_0x2ee7be['GenerativeAIContext'],{'topic':_0x45ff97,'prompt':_0x36e4e9,'type':'prompt','nodeId':_0x27cd7d,'tokenCount':_0x13f0c9});}async['getJobObservable'](_0x23712d,_0x3047dd,_0x1a8df,_0x276379={}){const _0x5dd15c=_0x1833fc;let _0x2797ea;switch(_0x1a8df[_0x5dd15c(0x339)]){case _0x5dd15c(0x563):{const {threadId:_0x1d2606}=_0x276379;_0x2797ea={'id':_0x23712d,'jobType':_0x3047dd,'parameters':{..._0x276379,'type':'prompt','prompt':_0x1a8df[_0x5dd15c(0x563)],'threadId':_0x1d2606},'status':_0x4f9f07[_0x5dd15c(0x77f)][_0x5dd15c(0x154)]};break;}case _0x5dd15c(0x5cd):{const {threadId:_0x566b28}=_0x276379;_0x2797ea={'id':_0x23712d,'jobType':_0x3047dd,'parameters':{..._0x276379,'type':_0x5dd15c(0x5cd),'jobId':_0x1a8df['jobId'],'rating':_0x1a8df[_0x5dd15c(0x6e1)],'feedback':_0x1a8df['feedback']??'','threadId':_0x566b28},'status':_0x4f9f07[_0x5dd15c(0x77f)][_0x5dd15c(0x154)]};break;}case _0x5dd15c(0x781):_0x2797ea={'id':_0x23712d,'jobType':_0x3047dd,'parameters':{..._0x276379,'type':_0x5dd15c(0x781),'objectStoreId':_0x1a8df['objectStoreId'],'documentPath':_0x1a8df[_0x5dd15c(0x45b)]},'status':_0x4f9f07[_0x5dd15c(0x77f)][_0x5dd15c(0x154)]};}return await this[_0x5dd15c(0x940)](_0x2797ea);}['sendStats'](){const _0x2be436=_0x1833fc;this[_0x2be436(0x652)]&&clearTimeout(this[_0x2be436(0x652)]),this['debounceStats']=setTimeout(async()=>{const _0x1bc479=_0x2be436;delete this[_0x1bc479(0x652)],this['systemTopic'][_0x1bc479(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x1bc479(0x7f4)],'content':{'type':_0x5e5186[_0x1bc479(0x4b2)],'label':this[_0x1bc479(0x671)],'stats':{'timestamp':Date[_0x1bc479(0x1d5)](),'storage':0x0,'messagesSent':this[_0x1bc479(0x1f2)],'messagesReceived':this[_0x1bc479(0x7f2)],'bytesSent':this[_0x1bc479(0x9c2)],'bytesReceived':this[_0x1bc479(0x6fb)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x1bc479(0x177)]}}});},_0x17f2b1);}}var _0x3f438f,_0x48cf94,_0x460698,_0x141b4a,_0x27e5c8,_0x4dde6f,_0x3acccf,_0x5ac82f,_0x536b0f,_0x25a074,_0x28f74d;!function(_0x3b2769){const _0x51ae23=_0x1833fc;_0x3b2769[_0x51ae23(0x616)]=_0x51ae23(0x616),_0x3b2769[_0x51ae23(0x582)]='IngestTrace',_0x3b2769['RetrieveTrace']='RetrieveTrace',_0x3b2769[_0x51ae23(0x382)]=_0x51ae23(0x382);}(_0x3f438f||(_0x3f438f={})),function(_0x82a183){const _0x5683cf=_0x1833fc;_0x82a183[_0x5683cf(0x93d)]=_0x5683cf(0x93d),_0x82a183[_0x5683cf(0x5b2)]=_0x5683cf(0x5b2),_0x82a183[_0x5683cf(0x7a9)]='VectorSearch',_0x82a183[_0x5683cf(0x872)]='EntityExtractor',_0x82a183['GraphSearch']=_0x5683cf(0xec),_0x82a183['Reranker']=_0x5683cf(0x3fa);}(_0x48cf94||(_0x48cf94={})),function(_0x4f92b1){const _0x17af08=_0x1833fc;_0x4f92b1[_0x4f92b1[_0x17af08(0x434)]=0x0]=_0x17af08(0x434),_0x4f92b1[_0x4f92b1[_0x17af08(0x180)]=0x5]=_0x17af08(0x180),_0x4f92b1[_0x4f92b1[_0x17af08(0x206)]=0xa]=_0x17af08(0x206),_0x4f92b1[_0x4f92b1[_0x17af08(0x22c)]=0xf]='Error';}(_0x460698||(_0x460698={})),function(_0xcf4913){const _0x586fd7=_0x1833fc;_0xcf4913[_0x586fd7(0x45f)]=_0x586fd7(0x45f),_0xcf4913[_0x586fd7(0x281)]=_0x586fd7(0x281),_0xcf4913['Knowledge']=_0x586fd7(0x468),_0xcf4913[_0x586fd7(0x6aa)]='Skill',_0xcf4913['Workflow']=_0x586fd7(0x8e2),_0xcf4913[_0x586fd7(0x87d)]='Job',_0xcf4913['JobContext']=_0x586fd7(0x6bb),_0xcf4913['Rating']=_0x586fd7(0x484);}(_0x141b4a||(_0x141b4a={})),function(_0x2e019a){const _0x266ddb=_0x1833fc;_0x2e019a['Queued']='Queued',_0x2e019a[_0x266ddb(0x756)]=_0x266ddb(0x756);}(_0x27e5c8||(_0x27e5c8={})),function(_0xbb7b65){const _0x214c5f=_0x1833fc;_0xbb7b65[_0x214c5f(0x343)]='InitialPrompt',_0xbb7b65[_0x214c5f(0x376)]=_0x214c5f(0x376),_0xbb7b65[_0x214c5f(0x5b3)]=_0x214c5f(0x5b3),_0xbb7b65[_0x214c5f(0x5d3)]=_0x214c5f(0x5d3);}(_0x4dde6f||(_0x4dde6f={})),function(_0x415399){const _0x484223=_0x1833fc;_0x415399[_0x484223(0x9ae)]=_0x484223(0x9ae),_0x415399[_0x484223(0x427)]=_0x484223(0x427),_0x415399['EntityExtractor']=_0x484223(0x872),_0x415399['GraphDatabase']=_0x484223(0x270),_0x415399[_0x484223(0x4a0)]=_0x484223(0x4a0),_0x415399[_0x484223(0x93d)]=_0x484223(0x93d),_0x415399[_0x484223(0x5b2)]=_0x484223(0x5b2),_0x415399[_0x484223(0xfd)]=_0x484223(0xfd),_0x415399[_0x484223(0x6f2)]=_0x484223(0x6f2),_0x415399[_0x484223(0x23d)]=_0x484223(0x23d),_0x415399['WordSplitter']=_0x484223(0x32b);}(_0x3acccf||(_0x3acccf={})),function(_0x2fa60b){const _0x5bec1a=_0x1833fc;_0x2fa60b[_0x5bec1a(0x126)]=_0x5bec1a(0x126),_0x2fa60b[_0x5bec1a(0x6d8)]=_0x5bec1a(0x6d8);}(_0x5ac82f||(_0x5ac82f={})),function(_0x54faf3){const _0x20084f=_0x1833fc;_0x54faf3[_0x20084f(0x8b7)]=_0x20084f(0x8b7),_0x54faf3['GetDate']=_0x20084f(0x7c3),_0x54faf3[_0x20084f(0x1b0)]=_0x20084f(0x1b0),_0x54faf3[_0x20084f(0x752)]='SearchGoogle',_0x54faf3[_0x20084f(0x6be)]=_0x20084f(0x6be),_0x54faf3[_0x20084f(0x46e)]=_0x20084f(0x46e);}(_0x536b0f||(_0x536b0f={})),function(_0x44121d){const _0x245d88=_0x1833fc;_0x44121d['LoadKnowledgeFunction']=_0x245d88(0x4c4),_0x44121d[_0x245d88(0x600)]=_0x245d88(0x600);}(_0x25a074||(_0x25a074={})),function(_0x2ba2d1){const _0x5d6e74=_0x1833fc;_0x2ba2d1['PromptRating']=_0x5d6e74(0x4a2);}(_0x28f74d||(_0x28f74d={}));class _0xada7b9{static ['instance'];[_0x1833fc(0x7b2)]=[];[_0x1833fc(0x6ea)]=!0x1;constructor(){}static[_0x1833fc(0x16c)](){const _0x1b4467=_0x1833fc;return _0xada7b9[_0x1b4467(0x9b7)]||(_0xada7b9[_0x1b4467(0x9b7)]=new _0xada7b9()),_0xada7b9[_0x1b4467(0x9b7)];}get[_0x1833fc(0x5af)](){const _0x2f6e6=_0x1833fc;return this[_0x2f6e6(0x7b2)][_0x2f6e6(0x5af)];}[_0x1833fc(0x808)](){const _0x19aab3=_0x1833fc;return!this[_0x19aab3(0x6ea)];}[_0x1833fc(0x67d)](_0x3a1341){const _0x49570f=_0x1833fc;_0x3a1341?this['jobQueue']=this[_0x49570f(0x7b2)][_0x49570f(0x9a3)](_0x1c028e=>_0x1c028e[_0x49570f(0x441)]!==_0x3a1341):(this[_0x49570f(0x7b2)]=[],this['isRunning']=!0x1);}[_0x1833fc(0x720)](_0x48931f,_0xaac210){const _0x271c44=_0x1833fc;this[_0x271c44(0x7b2)][_0x271c44(0x5ed)]({'callback':_0xaac210,'ownerId':_0x48931f}),this[_0x271c44(0x268)]();}async[_0x1833fc(0x268)](){const _0x493bb6=_0x1833fc;if(!this[_0x493bb6(0x6ea)]){for(this[_0x493bb6(0x6ea)]=!0x0;this[_0x493bb6(0x7b2)][_0x493bb6(0x5af)]>0x0;){const _0x5216b1=this['jobQueue'][_0x493bb6(0x514)]();if(_0x5216b1)try{console[_0x493bb6(0x8bf)]('JobQueueService:\x20Running\x20job'),await _0x5216b1['callback']();}catch(_0x1e02b8){console[_0x493bb6(0x657)](_0x493bb6(0x704),_0x1e02b8);}}this['isRunning']=!0x1;}}}const _0x3bca3d=_0xada7b9[_0x1833fc(0x16c)]();class _0x352318 extends _0x25ea81{[_0x1833fc(0x654)];[_0x1833fc(0x41e)];constructor(_0x1fc23f,_0x4c8016,_0x3c46ea){const _0x5d4767=_0x1833fc;super(_0x1fc23f,_0x4c8016),this[_0x5d4767(0x654)]=_0x3c46ea;}[_0x1833fc(0x4ba)](){return _0x4f9f07['ContentType']['Job'];}['open'](){const _0x2b6a57=_0x1833fc;this[_0x2b6a57(0x7d3)]();}[_0x1833fc(0x244)](){const _0x4ba25a=_0x1833fc;this[_0x4ba25a(0x3a7)]?.[_0x4ba25a(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d['Content'],'content':{'type':_0x5e5186[_0x4ba25a(0x280)],'label':this[_0x4ba25a(0x671)]}});}[_0x1833fc(0x780)](){const _0x421c55=_0x1833fc;this[_0x421c55(0x41e)]?.(),delete this[_0x421c55(0x41e)],this[_0x421c55(0x4d0)]();}[_0x1833fc(0x24c)](){const _0x352b47=_0x1833fc;_0x3bca3d[_0x352b47(0x67d)](this['label']),this[_0x352b47(0x41e)]?.(),delete this[_0x352b47(0x41e)],super['destroy']();}[_0x1833fc(0x808)](){return _0x3bca3d['isAvailable']();}[_0x1833fc(0x579)](){return 0x1;}[_0x1833fc(0x2be)](_0x98ccd9,_0x5d433a,_0x4d8fb0){}[_0x1833fc(0x2f9)](_0x345827,_0x9ff3a3){return _0x345827;}[_0x1833fc(0x218)](_0x4819d1,_0x2fc009){const _0xf2307=_0x1833fc;console[_0xf2307(0x8bf)](_0xf2307(0x19d));}[_0x1833fc(0x626)](_0x5ef57a,_0x4851c1){const _0x2519e3=_0x1833fc;console[_0x2519e3(0x8bf)](_0x2519e3(0x19d));}[_0x1833fc(0x7d3)](){const _0x424afd=_0x1833fc;this[_0x424afd(0x41e)]||(this['unsubscribeListener']=this[_0x424afd(0x521)]((_0x33ff2c,_0x37a4d5)=>{const _0x349944=_0x424afd;if(_0x380207[_0x349944(0x41b)](_0x381da1['Jobs'],_0x349944(0x32e),_0x37a4d5),!(_0x37a4d5 instanceof File)){if(this['isJobRequest'](_0x37a4d5))_0x380207['log'](_0x381da1[_0x349944(0x1a7)],_0x349944(0x6f9),_0x37a4d5),this[_0x349944(0x808)]()?this[_0x349944(0x451)](_0x37a4d5['id'],_0x37a4d5[_0x349944(0x7d9)],_0x33ff2c):this[_0x349944(0x37a)](_0x37a4d5['id'],_0x37a4d5[_0x349944(0x7d9)],_0x33ff2c);else{if(this[_0x349944(0x557)](_0x37a4d5)){_0x380207[_0x349944(0x41b)](_0x381da1[_0x349944(0x1a7)],_0x349944(0x1cd),_0x37a4d5);const {id:_0x412579,parameters:_0x593a6f}=_0x37a4d5;this[_0x349944(0x218)](_0x412579,_0x593a6f),_0x3bca3d[_0x349944(0x720)](this[_0x349944(0x671)],()=>this[_0x349944(0x4f5)](_0x37a4d5['id'],_0x37a4d5,_0x33ff2c));}}}}));}[_0x1833fc(0x451)](_0x463962,_0x347e88,_0x1378a1){const _0xcf562b=_0x1833fc,_0x2fd125={'id':_0x463962,'jobType':_0x347e88,'jobPhase':_0x22326c[_0xcf562b(0x156)],'available':!0x0,'queueLength':_0x3bca3d[_0xcf562b(0x5af)],'bid':this[_0xcf562b(0x579)]()};_0x380207['log'](_0x381da1[_0xcf562b(0x1a7)],_0xcf562b(0x846),_0x2fd125),this[_0xcf562b(0x77c)](_0x2fd125,[_0x1378a1]);}[_0x1833fc(0x37a)](_0x2e50f1,_0x391392,_0x201973){const _0x1637c2=_0x1833fc,_0x2a0c6f={'id':_0x2e50f1,'jobType':_0x391392,'jobPhase':_0x22326c[_0x1637c2(0x156)],'available':!0x1,'queueLength':_0x3bca3d[_0x1637c2(0x5af)],'bid':0x0};_0x380207[_0x1637c2(0x41b)](_0x381da1[_0x1637c2(0x1a7)],'JobWorker:\x20Sending\x20job\x20reject',_0x2a0c6f),this[_0x1637c2(0x77c)](_0x2a0c6f,[_0x201973]);}async[_0x1833fc(0x4f5)](_0x8915a5,_0x59255e,_0x5d5fdd){const _0x2601f6=_0x1833fc;_0x380207[_0x2601f6(0x41b)](_0x381da1[_0x2601f6(0x1a7)],_0x2601f6(0x32c),_0x59255e);const _0x267c94={'id':_0x8915a5,'jobType':_0x59255e['jobType'],'parameters':_0x59255e[_0x2601f6(0x3d1)]};try{switch(_0x59255e[_0x2601f6(0x7d9)]){case _0x4f9f07[_0x2601f6(0x65d)]['Job']:await this[_0x2601f6(0x346)](_0x8915a5,_0x59255e,_0x267c94,_0x5d5fdd);break;case _0x4f9f07[_0x2601f6(0x65d)][_0x2601f6(0x228)]:await this[_0x2601f6(0x547)](_0x8915a5,_0x59255e,_0x267c94,_0x5d5fdd);break;default:throw new Error(_0x2601f6(0xda));}}catch(_0x3b2750){_0x380207[_0x2601f6(0x657)](_0x2601f6(0x94a),{'nodeId':this[_0x2601f6(0x40d)][_0x2601f6(0x76b)](),'nodeType':this[_0x2601f6(0x40d)]['type'],'data':{'job':_0x267c94}},_0x3b2750);const _0x20ce8e=_0x3b2750 instanceof Error?_0x3b2750[_0x2601f6(0x96c)]:_0x2601f6(0x8c6),_0x450141={'id':_0x8915a5,'jobType':_0x59255e['jobType'],'jobPhase':_0x22326c[_0x2601f6(0x9de)],'message':_0x20ce8e};await this['send'](_0x450141,[_0x5d5fdd]);}}async[_0x1833fc(0x346)](_0x5a161d,_0xeed80a,_0x5e39b9,_0x45764c){const _0x420c36=_0x1833fc,_0x16c1f0=Date['now'](),_0x1eef07=await this[_0x420c36(0x37d)](_0x5a161d,_0x5e39b9[_0x420c36(0x3d1)]);this[_0x420c36(0x2be)](_0x1eef07,_0x16c1f0,Date[_0x420c36(0x1d5)]());const _0x5a194c={'id':_0x5a161d,'jobType':_0xeed80a[_0x420c36(0x7d9)],'jobPhase':_0x22326c[_0x420c36(0x184)],'result':_0x1eef07};_0x380207[_0x420c36(0x41b)](_0x381da1[_0x420c36(0x1a7)],_0x420c36(0x61c),_0x5a194c),await this['send'](_0x5a194c,[_0x45764c]),this['stopTracing'](_0x5a161d,_0x5e39b9[_0x420c36(0x3d1)]);}async[_0x1833fc(0x547)](_0x46765f,_0x4bb042,_0x158e3c,_0x54fbdc){const _0x10827a=_0x1833fc,_0x12486c=Date[_0x10827a(0x1d5)]();let _0x323e20=0x0,_0x5610e1={};for await(const _0x196e68 of this[_0x10827a(0x115)](_0x158e3c['id'],_0x158e3c[_0x10827a(0x3d1)])){const _0x47f362={'id':_0x46765f,'jobType':_0x4bb042[_0x10827a(0x7d9)],'jobPhase':_0x22326c[_0x10827a(0x749)],'result':{..._0x196e68,'index':_0x323e20}};_0x380207[_0x10827a(0x41b)](_0x381da1[_0x10827a(0x1a7)],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x47f362),this[_0x10827a(0x77c)](_0x47f362,[_0x54fbdc]),_0x5610e1=this[_0x10827a(0x2f9)](_0x5610e1,_0x196e68),_0x323e20++;}this[_0x10827a(0x2be)](_0x5610e1,_0x12486c,Date[_0x10827a(0x1d5)]());const _0x52447e={'id':_0x46765f,'jobType':_0x4bb042[_0x10827a(0x7d9)],'jobPhase':_0x22326c['Result'],'result':_0x5610e1};_0x380207['log'](_0x381da1[_0x10827a(0x1a7)],'JobWorker:\x20Sending\x20job\x20result',_0x52447e),await this[_0x10827a(0x77c)](_0x52447e,[_0x54fbdc]),this[_0x10827a(0x626)](_0x46765f,_0x158e3c[_0x10827a(0x3d1)]);}[_0x1833fc(0x8f9)](_0x1f14b3){const _0x38614b=_0x1833fc;return _0x1f14b3[_0x38614b(0x6e9)]===_0x22326c['Request'];}[_0x1833fc(0x557)](_0x15e3f9){const _0xfaedbe=_0x1833fc;return _0x15e3f9[_0xfaedbe(0x6e9)]===_0x22326c[_0xfaedbe(0x65b)];}}function _0x590195(_0x24c02b,_0x1340f2){const _0x58c0cc=_0x1833fc;return _0x58c0cc(0xf6)+_0x24c02b+'-'+_0x1340f2;}function _0x463d5d(){const _0x11f69d=_0x1833fc,_0x29a5ed=_0x4aeea2[_0x11f69d(0x1fb)](0x1);return _0x29a5ed[_0x11f69d(0x505)]('logs')['index']('id')['index'](_0x11f69d(0x7f0))[_0x11f69d(0x295)]('agentId')[_0x11f69d(0x295)](_0x11f69d(0x869))[_0x11f69d(0x295)](_0x11f69d(0x964))[_0x11f69d(0x295)](_0x11f69d(0x315)),_0x29a5ed;}function _0x18caf7(_0x5276d9){const _0x54557d=_0x1833fc;try{return JSON[_0x54557d(0x33b)](_0x5276d9);}catch(_0xdcfab8){return _0x5276d9 instanceof Error?_0x5276d9[_0x54557d(0x687)]():JSON[_0x54557d(0x33b)]('Error\x20stringifying\x20object');}}class _0x2b120f{static ['instance'];['logLevel']=_0x460698[_0x1833fc(0x22c)];[_0x1833fc(0x5f1)]=_0x460698[_0x1833fc(0x180)];[_0x1833fc(0x35b)]=_0x141b4a[_0x1833fc(0x45f)];['openedTraces']={};static [_0x1833fc(0x16c)]=()=>(_0x2b120f[_0x1833fc(0x9b7)]||(_0x2b120f[_0x1833fc(0x9b7)]=new _0x2b120f()),_0x2b120f[_0x1833fc(0x9b7)]);[_0x1833fc(0x733)](_0x4b1cd5,_0x5641e3,_0x2fc739=!0x0){const _0x1b42e5=_0x1833fc;try{if(this['openedTraces'][_0x5641e3])throw new Error(_0x1b42e5(0x27d));const _0xd384cb={'sequence':0x0};if(this['openedTraces'][_0x5641e3]=_0xd384cb,!_0x4b1cd5)return!0x0;const _0x515bd5=function(_0x413dbd){const _0x5c0a4c=_0x1b42e5;return _0x413dbd[_0x5c0a4c(0x3b9)](_0x5c0a4c(0x775));}(_0x4b1cd5);return _0xd384cb[_0x1b42e5(0x6f3)]=_0x4b1cd5,_0xd384cb[_0x1b42e5(0x505)]=_0x515bd5,!0x0;}catch(_0x10af6c){return console[_0x1b42e5(0x657)](_0x1b42e5(0x9ac)+_0x2fc739,_0x10af6c),!!_0x2fc739&&(this[_0x1b42e5(0x97d)](_0x5641e3),this[_0x1b42e5(0x733)](_0x4b1cd5,_0x5641e3,!0x1));}}[_0x1833fc(0x4b1)](_0x29b598){const _0x4e226e=_0x1833fc;try{const _0x5d6f07=this['openedTraces'][_0x29b598[_0x4e226e(0x7f0)]];if(!_0x5d6f07)throw new Error(_0x4e226e(0x302));_0x29b598[_0x4e226e(0x315)]=_0x5d6f07[_0x4e226e(0x315)]++,_0x29b598[_0x4e226e(0x560)]>=this[_0x4e226e(0x716)]&&console[_0x4e226e(0x41b)](JSON[_0x4e226e(0x33b)](_0x29b598,null,0x2)),this['commitTrace'](_0x29b598);}catch(_0x1d0fcc){console[_0x4e226e(0x657)](_0x4e226e(0x4fe),_0x1d0fcc);}}[_0x1833fc(0x97d)](_0x102de3){const _0x2021c8=_0x1833fc;if(!_0x2b120f[_0x2021c8(0x9b7)])throw new Error(_0x2021c8(0x267));if(!this[_0x2021c8(0xd8)][_0x102de3])throw new Error('GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match');delete this['openedTraces'][_0x102de3];}[_0x1833fc(0x477)](_0x44a92e){const _0xee8d0=_0x1833fc;if(_0x44a92e[_0xee8d0(0x560)]<this[_0xee8d0(0x5f1)]&&_0x44a92e[_0xee8d0(0x7d9)]!==this[_0xee8d0(0x35b)])return;if(!this[_0xee8d0(0xd8)][_0x44a92e[_0xee8d0(0x7f0)]])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0x3a29c4=this[_0xee8d0(0xd8)][_0x44a92e['jobId']];if(!_0x3a29c4[_0xee8d0(0x6f3)])throw new Error(_0xee8d0(0x2a9));if(!_0x3a29c4['table'])throw new Error(_0xee8d0(0x818));try{const _0x430051=function(_0x3de86a){const _0x2d19c0=_0xee8d0,_0x149655=['startTime',_0x2d19c0(0x964),'jobType','type',_0x2d19c0(0x7f0),'traceLevel',_0x2d19c0(0x34f),_0x2d19c0(0x599),_0x2d19c0(0x315),_0x2d19c0(0x61d)],_0x36cff5={..._0x3de86a};for(const _0x19aa19 of _0x149655)delete _0x36cff5[_0x19aa19];return{'timestamp':_0x3de86a[_0x2d19c0(0x964)],'jobType':_0x3de86a[_0x2d19c0(0x7d9)],'type':_0x3de86a[_0x2d19c0(0x339)],'jobId':_0x3de86a[_0x2d19c0(0x7f0)],'agentId':_0x3de86a['agentId']??'','traceLevel':_0x3de86a[_0x2d19c0(0x560)],'blockId':_0x3de86a[_0x2d19c0(0x34f)]??'','startTime':_0x3de86a[_0x2d19c0(0x4bf)],'status':_0x3de86a[_0x2d19c0(0x599)],'sequence':_0x3de86a[_0x2d19c0(0x315)]??0x0,'errorDetails':_0x3de86a[_0x2d19c0(0x61d)]??'','metadata':_0x18caf7(_0x36cff5)};}(_0x44a92e),_0x1fb721=(0x0,_0x6e2c44['v4'])();console[_0xee8d0(0x41b)](_0xee8d0(0x269),_0x430051[_0xee8d0(0x339)]),_0x3a29c4['table']['set'](_0x1fb721,_0x430051);}catch(_0x2a554c){console[_0xee8d0(0x657)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x2a554c);}}}const _0x4ec783=_0x2b120f[_0x1833fc(0x16c)]();async function _0x4c5a33(_0x2a77ab,_0x1a7df1,_0x3ab01d,_0x168201,_0x506773){const _0x479361=_0x1833fc,_0x517728=Date[_0x479361(0x1d5)](),_0x1c9838=_0x506773[_0x479361(0x751)][_0x479361(0x33e)](_0x3629eb=>_0x3629eb['id']===_0x3ab01d[_0x479361(0x8a8)]);if(!_0x1c9838)throw new Error('Model\x20not\x20found');const _0x1f7039=_0x506773[_0x479361(0x936)][_0x479361(0x33e)](_0x20b05a=>_0x20b05a['getEngineType']()===_0x1c9838['engineType']);if(!_0x1f7039)throw new Error(_0x479361(0x65a));const _0x3070ae=[],_0x10c12e=(0x0,_0x6e2c44['v4'])(),_0x5c2a41=await _0x1f7039[_0x479361(0x346)]({'type':_0x479361(0x563),'prompt':_0x1a7df1,'instructions':_0x3ab01d[_0x479361(0x231)],'grammar':_0x3ab01d[_0x479361(0x418)],'temperature':_0x3ab01d[_0x479361(0x22e)],'maxTokens':_0x3ab01d['maxTokens'],'threadId':_0x10c12e},{'model':_0x1c9838});if(_0x479361(0xf8)!=typeof _0x5c2a41['output'])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');_0x4ec783['trace']({'jobType':_0x141b4a[_0x479361(0x281)],'type':_0x3acccf['Agent'],'jobId':_0x2a77ab,'blockId':_0x3ab01d['id'],'traceLevel':_0x460698[_0x479361(0x434)],'timestamp':Date[_0x479361(0x1d5)](),'startTime':_0x517728,'status':_0x479361(0x823),'agentId':_0x10c12e,'content':_0x1a7df1,'instructions':_0x3ab01d[_0x479361(0x231)],'result':_0x5c2a41['output']}),_0x3070ae[_0x479361(0x5ed)]({'content':_0x5c2a41[_0x479361(0x922)],'start':0x0,'length':_0x1a7df1['length']}),await _0x384198(_0x2a77ab,_0x3070ae,_0x3ab01d,_0x168201,_0x506773);}async function _0x237d2c(_0x4c710a,_0x105a74,_0x5567dc,_0x540910,_0xfd78ad){const _0x5ab21a=_0x1833fc,_0x36b2f8=Date[_0x5ab21a(0x1d5)]();let _0x12fa3c=[];if(_0x105a74 instanceof Array){for(const _0xa094a of _0x105a74)_0x12fa3c=_0x12fa3c['concat'](_0x3b48d0(_0xa094a[_0x5ab21a(0x3ff)],_0x5567dc,_0xa094a[_0x5ab21a(0xe0)],_0xa094a['length']));}else _0x12fa3c=_0x3b48d0(_0x105a74,_0x5567dc);_0x4ec783['trace']({'jobType':_0x141b4a[_0x5ab21a(0x281)],'type':_0x3acccf['ChunkSplitter'],'traceLevel':_0x460698[_0x5ab21a(0x434)],'jobId':_0x4c710a,'blockId':_0x5567dc['id'],'startTime':_0x36b2f8,'timestamp':Date['now'](),'status':_0x5ab21a(0x823),'totalChunks':_0x12fa3c['length'],'chunkSize':_0x5567dc[_0x5ab21a(0x905)][_0x5ab21a(0x813)]}),await _0x384198(_0x4c710a,_0x12fa3c,_0x5567dc,_0x540910,_0xfd78ad);}function _0x3b48d0(_0x52ba85,_0xacbc9,_0x67bf78,_0x1e3a6f){const _0x3a7cd2=_0x1833fc,_0x175036=[];let _0x315fd0=0x0;for(let _0x4ec096=0x0;_0x4ec096<_0x52ba85['length'];_0x4ec096+=_0xacbc9[_0x3a7cd2(0x905)][_0x3a7cd2(0x813)]){let _0x42d630=_0x4ec096-_0xacbc9[_0x3a7cd2(0x905)][_0x3a7cd2(0x2d1)];_0x42d630<0x0&&(_0x42d630=0x0);let _0x3a3963=_0x4ec096+_0xacbc9[_0x3a7cd2(0x905)][_0x3a7cd2(0x813)]+_0xacbc9[_0x3a7cd2(0x905)][_0x3a7cd2(0x2d1)];_0x3a3963>_0x52ba85[_0x3a7cd2(0x5af)]&&(_0x3a3963=_0x52ba85[_0x3a7cd2(0x5af)]);const _0x1b7b8c=_0x52ba85[_0x3a7cd2(0x396)](_0x42d630,_0x3a3963);_0x175036[_0x3a7cd2(0x5ed)]({'content':_0x1b7b8c,'start':_0x67bf78??_0x315fd0,'length':_0x1e3a6f??_0x1b7b8c[_0x3a7cd2(0x5af)]}),_0x315fd0+=_0x1b7b8c[_0x3a7cd2(0x5af)];}return _0x175036;}async function _0x3fa63d(_0x472315,_0x2d6e17,_0x4e8121,_0x43b217,_0x32fb36){const _0x7475c7=_0x1833fc,_0x5996cd=Date[_0x7475c7(0x1d5)]();let _0x1ac664;if(_0x2d6e17[_0x7475c7(0x80b)][_0x7475c7(0x339)]['startsWith']('text/')||(_0x39ed76=_0x2d6e17[_0x7475c7(0x80b)][_0x7475c7(0x3cd)],_0x1cf1bc[_0x7475c7(0x778)]('.'+(_0x39ed76[_0x7475c7(0x6ca)]('.')['pop']()?.[_0x7475c7(0x1f3)]()||''))))_0x1ac664=await _0x2d6e17['file'][_0x7475c7(0x54b)]();else{if(!_0x32fb36['documentParserConnector'][_0x7475c7(0x754)](_0x2d6e17['file']))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x2d6e17[_0x7475c7(0x80b)][_0x7475c7(0x339)]+_0x7475c7(0x7e2)+_0x2d6e17[_0x7475c7(0x80b)][_0x7475c7(0x3cd)]);_0x1ac664=await _0x32fb36[_0x7475c7(0x64e)][_0x7475c7(0x85f)](_0x2d6e17[_0x7475c7(0x80b)]);}var _0x39ed76;_0x4ec783['trace']({'jobType':_0x141b4a[_0x7475c7(0x281)],'type':_0x3acccf[_0x7475c7(0x427)],'traceLevel':_0x460698[_0x7475c7(0x434)],'blockId':_0x4e8121['id'],'jobId':_0x472315,'startTime':_0x5996cd,'timestamp':Date[_0x7475c7(0x1d5)](),'status':_0x7475c7(0x823),'documentType':_0x2d6e17[_0x7475c7(0x80b)][_0x7475c7(0x339)],'documentName':_0x2d6e17['file'][_0x7475c7(0x3cd)],'extractionMethod':_0x7475c7(0x814)}),await _0x384198(_0x472315,_0x1ac664,_0x4e8121,_0x43b217,_0x32fb36);}const _0x1cf1bc=['.js',_0x1833fc(0x7e6),'.py',_0x1833fc(0x857),_0x1833fc(0x877),_0x1833fc(0x2a5),'.css',_0x1833fc(0x5f6),'.md',_0x1833fc(0x771),_0x1833fc(0x3c9),_0x1833fc(0x6df),_0x1833fc(0x473),_0x1833fc(0x1ad),_0x1833fc(0x854),'.conf','.sql',_0x1833fc(0x6fe),'.php',_0x1833fc(0x4a6),'.c',_0x1833fc(0x84a),_0x1833fc(0x717),'.r',_0x1833fc(0x917),_0x1833fc(0x74a),_0x1833fc(0x3e7),_0x1833fc(0x3d9),_0x1833fc(0x15d),'.dart','.pl','.lua','.hs',_0x1833fc(0x99f),_0x1833fc(0x59b),_0x1833fc(0x1a5),_0x1833fc(0x5a6),_0x1833fc(0x8a4),_0x1833fc(0x649),'.ps1',_0x1833fc(0x7c9),'.m','.vbs',_0x1833fc(0x513),_0x1833fc(0x915),_0x1833fc(0x7ea),'.ipynb','.jsx','.tsx',_0x1833fc(0x691),'.erb',_0x1833fc(0x6c5),'.jinja2','.hbs',_0x1833fc(0x394),'.ejs',_0x1833fc(0x9bb),_0x1833fc(0x195),_0x1833fc(0x572),_0x1833fc(0x84e),_0x1833fc(0x5df),'.j2','.djt'];async function _0x445435(_0x108c63,_0x5206f9,_0x57c53b,_0x1ba46e,_0x181fdc){const _0x2bd619=_0x1833fc,_0x4f8850=Date[_0x2bd619(0x1d5)](),_0x467254=new Set();let _0x10c894=0x0;for(const _0x4e1e3a of _0x5206f9)_0x10c894+=_0x4e1e3a['content'][_0x2bd619(0x5af)],await _0x583b29(_0x4e1e3a[_0x2bd619(0x3ff)],_0x467254,_0x57c53b,_0x181fdc[_0x2bd619(0x678)]);_0x4ec783[_0x2bd619(0x4b1)]({'jobType':_0x141b4a[_0x2bd619(0x281)],'type':_0x3acccf[_0x2bd619(0x872)],'jobId':_0x108c63,'blockId':_0x57c53b['id'],'traceLevel':_0x460698[_0x2bd619(0x434)],'startTime':_0x4f8850,'timestamp':Date[_0x2bd619(0x1d5)](),'status':_0x2bd619(0x823),'contentLength':_0x10c894,'totalChunks':_0x5206f9 instanceof Array?_0x5206f9[_0x2bd619(0x5af)]:0x1,'entitiesExtracted':_0x467254,'totalEntities':_0x467254[_0x2bd619(0x813)]}),await _0x384198(_0x108c63,_0x467254,_0x57c53b,_0x1ba46e,_0x181fdc);}async function _0x583b29(_0x3a705d,_0x34b202,_0x476a44,_0x1217a7){const _0x202cb3=_0x1833fc,_0x32f618=await _0x1217a7[_0x202cb3(0x30c)](_0x3a705d,{'ner':_0x476a44[_0x202cb3(0x905)][_0x202cb3(0x290)],'noun':_0x476a44[_0x202cb3(0x905)][_0x202cb3(0x94d)],'propn':_0x476a44[_0x202cb3(0x905)][_0x202cb3(0x7f8)],'verb':_0x476a44[_0x202cb3(0x905)][_0x202cb3(0x697)]});for(const _0x4677a7 of _0x32f618)_0x34b202[_0x202cb3(0x720)](_0x4677a7);}function _0x41dbef(_0x362017,_0x1227a8,_0x3dafee,_0x638fe5,_0x585fc2){const _0x25b359=_0x1833fc,_0x4ceff5=Date[_0x25b359(0x1d5)]();if(_0x3dafee[_0x25b359(0x713)]||(_0x3dafee['accumulated']={}),_0x25b359(0xf8)==typeof _0x1227a8?_0x3dafee['accumulated'][_0x25b359(0x3ff)]=_0x1227a8:_0x1227a8 instanceof Set?_0x3dafee[_0x25b359(0x713)][_0x25b359(0x71f)]=_0x1227a8:_0x1227a8 instanceof Map?_0x3dafee[_0x25b359(0x713)][_0x25b359(0x3b6)]=_0x1227a8:_0x1227a8 instanceof Array?_0x3dafee[_0x25b359(0x713)][_0x25b359(0x295)]=_0x1227a8:_0x3dafee[_0x25b359(0x713)][_0x25b359(0x80b)]=_0x1227a8,_0x3dafee[_0x25b359(0x541)]=_0x3dafee[_0x25b359(0x541)]?_0x3dafee[_0x25b359(0x541)]+0x1:0x1,_0x528046(_0x3dafee,_0x638fe5)>_0x3dafee['timesCalled'])return;if(!(_0x3dafee['accumulated'][_0x25b359(0x71f)]&&_0x3dafee[_0x25b359(0x713)][_0x25b359(0x80b)]&&_0x3dafee[_0x25b359(0x713)]['content']&&_0x3dafee[_0x25b359(0x713)][_0x25b359(0x295)]))throw new Error(_0x25b359(0x99c));let _0x80a954=0x0;const _0x4245e5=_0x585fc2['contentMediator'][_0x25b359(0x603)](_0x3dafee['id']);for(const _0x2f33b3 of _0x3dafee[_0x25b359(0x713)][_0x25b359(0x71f)]){let _0x3867a9=[];_0x3867a9=_0x3dafee[_0x25b359(0x713)][_0x25b359(0x295)]['filter'](_0x38cbe8=>_0x38cbe8[_0x25b359(0x3ff)]['includes'](_0x2f33b3));try{_0x4245e5[_0x25b359(0x4fa)](_0x3dafee[_0x25b359(0x713)][_0x25b359(0x80b)]['pathName'],_0x3dafee[_0x25b359(0x713)][_0x25b359(0x3ff)],_0x3867a9,_0x2f33b3),_0x80a954+=0x1;}catch(_0x222dbc){}}if(_0x3dafee['accumulated'][_0x25b359(0x3b6)]){for(const [_0x4423aa,_0x433f99]of _0x3dafee['accumulated'][_0x25b359(0x3b6)])for(const _0x33b2bf of _0x433f99)try{_0x4245e5[_0x25b359(0x2c4)](_0x4423aa,_0x33b2bf);}catch(_0x5917e6){}if(_0x4245e5['getIsLoaded']()){let _0x2a0060=''+(_0x585fc2['version']??0x1);for(const _0x126167 of _0x638fe5)if(_0x126167[_0x25b359(0x339)]===_0x446c71[_0x25b359(0x4a0)]){_0x2a0060=_0x2a0060+'-'+(_0x126167['version']??0x1);break;}_0x4245e5[_0x25b359(0x7e3)](_0x2a0060);}_0x4ec783['trace']({'jobType':_0x141b4a[_0x25b359(0x281)],'type':_0x3acccf[_0x25b359(0x270)],'jobId':_0x362017,'blockId':_0x3dafee['id'],'status':_0x25b359(0x823),'startTime':_0x4ceff5,'timestamp':Date[_0x25b359(0x1d5)](),'traceLevel':_0x460698[_0x25b359(0x434)],'nodesAdded':_0x80a954,'entities':_0x3dafee[_0x25b359(0x713)][_0x25b359(0x71f)],'relations':_0x3dafee[_0x25b359(0x713)][_0x25b359(0x3b6)]});}}async function _0x3c9c44(_0x37c313,_0x5dce18,_0x45ee5c,_0x143f8f,_0x4c920a){const _0x5eb7fb=_0x1833fc,_0xa272b3=_0x4c920a[_0x5eb7fb(0x751)][_0x5eb7fb(0x33e)](_0x1a6f95=>_0x1a6f95['id']===_0x45ee5c['id']);if(!_0xa272b3)throw new Error('Model\x20not\x20found');switch(_0xa272b3[_0x5eb7fb(0x2c6)]){case _0x4f9f07[_0x5eb7fb(0x659)]['Text']:if(_0x5eb7fb(0xf8)!=typeof _0x5dce18)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x578558,_0x373d93,_0x1e01af,_0x3be6a3,_0x2b3fe9,_0x81cd3d){const _0x32c764=_0x5eb7fb,_0x26fa2c=Date[_0x32c764(0x1d5)]();let _0x382311;const _0x37beeb=_0x81cd3d[_0x32c764(0x936)]['find'](_0x39d44d=>_0x39d44d[_0x32c764(0x144)]()===_0x1e01af[_0x32c764(0x6a8)]);if(!_0x37beeb)throw new Error(_0x32c764(0x65a));_0x382311=await async function(_0x1d53e5,_0x192a29,_0xd1dcd){const _0x3a61fc=_0x32c764,_0x24e522=await _0x192a29[_0x3a61fc(0x346)]({'type':_0x3a61fc(0x563),'prompt':_0x1d53e5,'threadId':''},{'model':_0xd1dcd});if(_0x24e522['output']instanceof Array)throw new Error(_0x3a61fc(0x959));return _0x24e522[_0x3a61fc(0x922)];}(_0x373d93,_0x37beeb,_0x1e01af),_0x4ec783['trace']({'jobType':_0x141b4a['Ingest'],'type':_0x3acccf['ModelText'],'jobId':_0x578558,'blockId':_0x3be6a3['id'],'traceLevel':_0x460698['Debug'],'timestamp':Date[_0x32c764(0x1d5)](),'startTime':_0x26fa2c,'status':_0x32c764(0x823),'modelName':_0x1e01af['id'],'inputType':_0x1e01af[_0x32c764(0x2c9)],'outputType':_0x1e01af[_0x32c764(0x2c6)],'content':_0x373d93,'results':_0x382311}),await _0x384198(_0x578558,_0x382311,_0x3be6a3,_0x2b3fe9,_0x81cd3d);}(_0x37c313,_0x5dce18,_0xa272b3,_0x45ee5c,_0x143f8f,_0x4c920a);break;case _0x4f9f07[_0x5eb7fb(0x659)][_0x5eb7fb(0x9a5)]:if(!(_0x5dce18 instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x1f6da7,_0x3ee918,_0x4d3020,_0x1a1078,_0x40a8cc,_0x2c6ecd){const _0x1d7d71=_0x5eb7fb,_0x53e2d1=Date['now'](),_0x5ace64=[],_0x389399=_0x2c6ecd[_0x1d7d71(0x936)]['find'](_0x43971f=>_0x43971f[_0x1d7d71(0x144)]()===_0x4d3020[_0x1d7d71(0x6a8)]);if(!_0x389399)throw new Error(_0x1d7d71(0x65a));for(const _0x4cac76 of _0x3ee918)_0x5ace64[_0x1d7d71(0x5ed)](await _0x109e01(_0x4cac76,_0x389399,_0x4d3020));_0x4ec783[_0x1d7d71(0x4b1)]({'jobType':_0x141b4a[_0x1d7d71(0x281)],'type':_0x3acccf[_0x1d7d71(0x5b2)],'jobId':_0x1f6da7,'blockId':_0x1a1078['id'],'traceLevel':_0x460698[_0x1d7d71(0x434)],'timestamp':Date[_0x1d7d71(0x1d5)](),'startTime':_0x53e2d1,'status':'success','modelName':_0x4d3020['id'],'inputType':_0x4d3020['inputType'],'outputType':_0x4d3020[_0x1d7d71(0x2c6)],'totalVectors':_0x5ace64[_0x1d7d71(0x5af)]}),await _0x384198(_0x1f6da7,_0x5ace64,_0x1a1078,_0x40a8cc,_0x2c6ecd);}(_0x37c313,_0x5dce18,_0xa272b3,_0x45ee5c,_0x143f8f,_0x4c920a);}}async function _0x109e01(_0x3e247a,_0x30dac3,_0x993f76){const _0x45c4c1=_0x1833fc;return(await _0x30dac3['processJob']({'type':_0x45c4c1(0x563),'prompt':_0x3e247a['content'],'threadId':''},{'model':_0x993f76}))['output'];}async function _0x537e5(_0x3b8520,_0x1cba35,_0x18479b,_0x1cefe2,_0x31075a){const _0x5894e5=_0x1833fc,_0x4ec1cb=Date[_0x5894e5(0x1d5)]();if(_0x18479b['accumulated']||(_0x18479b[_0x5894e5(0x713)]={}),_0x1cba35 instanceof Array?_0x18479b['accumulated'][_0x5894e5(0x295)]=_0x1cba35:_0x18479b['accumulated'][_0x5894e5(0x71f)]=_0x1cba35,_0x18479b[_0x5894e5(0x541)]=_0x18479b['timesCalled']?_0x18479b[_0x5894e5(0x541)]+0x1:0x1,_0x528046(_0x18479b,_0x1cefe2)>_0x18479b['timesCalled'])return;if(!_0x18479b[_0x5894e5(0x713)][_0x5894e5(0x295)]||!_0x18479b[_0x5894e5(0x713)][_0x5894e5(0x71f)])throw new Error(_0x5894e5(0x9bd));const _0x3d5433=new Map();for(const _0x1d72a4 of _0x18479b[_0x5894e5(0x713)][_0x5894e5(0x295)])_0x3ea8ff(_0x1d72a4['content'],_0x18479b[_0x5894e5(0x713)][_0x5894e5(0x71f)],_0x3d5433);_0x4ec783[_0x5894e5(0x4b1)]({'jobType':_0x141b4a[_0x5894e5(0x281)],'type':_0x3acccf[_0x5894e5(0xfd)],'jobId':_0x3b8520,'blockId':_0x18479b['id'],'traceLevel':_0x460698[_0x5894e5(0x434)],'timestamp':Date[_0x5894e5(0x1d5)](),'startTime':_0x4ec1cb,'status':_0x5894e5(0x823),'entities':_0x18479b[_0x5894e5(0x713)]['entities'],'relations':_0x3d5433,'totalRelationsExtracted':_0x3d5433[_0x5894e5(0x813)]}),await _0x384198(_0x3b8520,_0x3d5433,_0x18479b,_0x1cefe2,_0x31075a);}function _0x3ea8ff(_0x3e337c,_0x13e2e5,_0x597972){const _0x42205d=_0x1833fc;for(const _0x22f20f of _0x13e2e5)for(const _0x5ba8a2 of _0x13e2e5){if(_0x22f20f===_0x5ba8a2)continue;const _0x13b539=_0x3e337c[_0x42205d(0x1fe)](_0x22f20f),_0x450d79=_0x3e337c['indexOf'](_0x5ba8a2);-0x1!==_0x13b539&&-0x1!==_0x450d79&&(_0x597972['has'](_0x22f20f)||_0x597972['set'](_0x22f20f,new Set()),_0x597972[_0x42205d(0x264)](_0x22f20f)[_0x42205d(0x720)](_0x5ba8a2));}return _0x597972;}async function _0x74af66(_0x38e5f4,_0x175f93,_0x5c6a57,_0x266b21,_0x1a26c1){const _0x4dcac1=_0x1833fc,_0x2f803f=Date[_0x4dcac1(0x1d5)]();let _0x10510f=[];if(_0x175f93 instanceof Array)for(const _0x214640 of _0x175f93){const _0x3e5f63=await _0x1a26c1[_0x4dcac1(0x678)]['getSentences'](_0x214640[_0x4dcac1(0x3ff)]);_0x10510f=_0x10510f[_0x4dcac1(0x660)](_0x3e5f63['map'](_0x18a34d=>({'content':_0x18a34d,'start':_0x214640[_0x4dcac1(0xe0)],'length':_0x214640[_0x4dcac1(0x5af)]})));}else _0x10510f=(await _0x1a26c1[_0x4dcac1(0x678)][_0x4dcac1(0x431)](_0x175f93))['map'](_0x2ee0f7=>({'content':_0x2ee0f7,'start':_0x175f93[_0x4dcac1(0x1fe)](_0x2ee0f7),'length':_0x2ee0f7[_0x4dcac1(0x5af)]}));_0x4ec783[_0x4dcac1(0x4b1)]({'jobType':_0x141b4a[_0x4dcac1(0x281)],'type':_0x3acccf['SentenceSplitter'],'jobId':_0x38e5f4,'blockId':_0x5c6a57['id'],'traceLevel':_0x460698[_0x4dcac1(0x434)],'startTime':_0x2f803f,'timestamp':Date[_0x4dcac1(0x1d5)](),'status':'success','totalSentences':_0x10510f[_0x4dcac1(0x5af)],'averageSentenceLength':_0x10510f[_0x4dcac1(0x161)]((_0xd9e2df,_0x5640a4)=>_0xd9e2df+_0x5640a4[_0x4dcac1(0x5af)],0x0)/_0x10510f[_0x4dcac1(0x5af)]}),await _0x384198(_0x38e5f4,_0x10510f,_0x5c6a57,_0x266b21,_0x1a26c1);}function _0x3a5adf(_0x24dc3b,_0x16b198,_0x4740ad,_0x55e651,_0x16eb45){const _0x49e4fc=_0x1833fc,_0x3fc762=Date[_0x49e4fc(0x1d5)]();var _0x1a31f7;if(_0x4740ad[_0x49e4fc(0x713)]||(_0x4740ad[_0x49e4fc(0x713)]={}),_0x16b198 instanceof Array?(_0x1a31f7=_0x16b198)[0x0]instanceof Array&&_0x49e4fc(0x16f)==typeof _0x1a31f7[0x0]?.[0x0]?_0x4740ad['accumulated'][_0x49e4fc(0x744)]=_0x16b198:_0x4740ad['accumulated'][_0x49e4fc(0x295)]=_0x16b198:_0x49e4fc(0xf8)==typeof _0x16b198?_0x4740ad['accumulated'][_0x49e4fc(0x3ff)]=_0x16b198:_0x4740ad[_0x49e4fc(0x713)][_0x49e4fc(0x80b)]=_0x16b198,_0x4740ad[_0x49e4fc(0x541)]=_0x4740ad['timesCalled']?_0x4740ad[_0x49e4fc(0x541)]+0x1:0x1,_0x528046(_0x4740ad,_0x55e651)>_0x4740ad[_0x49e4fc(0x541)])return;if(!(_0x4740ad['accumulated'][_0x49e4fc(0x3ff)]&&_0x4740ad[_0x49e4fc(0x713)]['index']&&_0x4740ad[_0x49e4fc(0x713)][_0x49e4fc(0x744)]&&_0x4740ad[_0x49e4fc(0x713)][_0x49e4fc(0x80b)]))throw new Error(_0x49e4fc(0x856));const _0x25d9a1=_0x16eb45[_0x49e4fc(0x97f)][_0x49e4fc(0x193)](_0x4740ad['id']);if(_0x25d9a1[_0x49e4fc(0x44a)](_0x4740ad['accumulated']['file'][_0x49e4fc(0x33a)],_0x4740ad[_0x49e4fc(0x713)]['content'],_0x4740ad[_0x49e4fc(0x713)][_0x49e4fc(0x295)],_0x4740ad[_0x49e4fc(0x713)][_0x49e4fc(0x744)]),_0x25d9a1[_0x49e4fc(0x1ae)]()){let _0x5583d7=''+(_0x16eb45[_0x49e4fc(0x3a2)]??0x1);for(const _0x561f28 of _0x55e651)_0x561f28[_0x49e4fc(0x339)]===_0x446c71[_0x49e4fc(0x4a0)]&&(_0x5583d7=_0x5583d7+'-'+(_0x561f28[_0x49e4fc(0x3a2)]??0x1));_0x25d9a1[_0x49e4fc(0x7e3)](_0x5583d7);}_0x4ec783[_0x49e4fc(0x4b1)]({'jobType':_0x141b4a[_0x49e4fc(0x281)],'type':_0x3acccf[_0x49e4fc(0x23d)],'jobId':_0x24dc3b,'blockId':_0x4740ad['id'],'traceLevel':_0x460698[_0x49e4fc(0x434)],'startTime':_0x3fc762,'timestamp':Date[_0x49e4fc(0x1d5)](),'status':'success','databaseName':_0x25d9a1[_0x49e4fc(0x82b)](),'vectorsAdded':_0x4740ad[_0x49e4fc(0x713)][_0x49e4fc(0x744)][_0x49e4fc(0x5af)],'filePathName':_0x4740ad[_0x49e4fc(0x713)]['file'][_0x49e4fc(0x33a)]});}async function _0x2cdbe5(_0x218127,_0x3eaf19,_0x5ae47b,_0x415362,_0x24d9d5){const _0x549120=_0x1833fc,_0x5181bd=Date['now']();let _0x168add=[];if(_0x3eaf19 instanceof Array){for(const _0x2b8fea of _0x3eaf19)_0x168add=_0x168add[_0x549120(0x660)](_0x5a16a6(_0x2b8fea[_0x549120(0x3ff)],_0x5ae47b,_0x2b8fea[_0x549120(0xe0)],_0x2b8fea[_0x549120(0x5af)]));}else _0x168add=_0x5a16a6(_0x3eaf19,_0x5ae47b);_0x4ec783[_0x549120(0x4b1)]({'jobType':_0x141b4a[_0x549120(0x281)],'type':_0x3acccf[_0x549120(0x32b)],'jobId':_0x218127,'traceLevel':_0x460698[_0x549120(0x434)],'blockId':_0x5ae47b['id'],'startTime':_0x5181bd,'timestamp':Date[_0x549120(0x1d5)](),'status':_0x549120(0x823),'totalChunks':_0x168add[_0x549120(0x5af)],'averageChunkLength':_0x168add['reduce']((_0x5ca8c8,_0x4b70ed)=>_0x5ca8c8+_0x4b70ed[_0x549120(0x5af)],0x0)/_0x168add['length']}),await _0x384198(_0x218127,_0x168add,_0x5ae47b,_0x415362,_0x24d9d5);}function _0x5a16a6(_0x51d1d5,_0xf793cd,_0x4193f0,_0x40336a){const _0x1ac4ea=_0x1833fc,_0x5a396c=[],_0x326a81=_0x51d1d5['split']('\x20');let _0x195146='',_0x3b1886=-0x1,_0x4afb7e=0x0,_0x5b78c7=0x0;for(const _0x1f74ec of _0x326a81){if(_0x195146['length']+_0x1f74ec[_0x1ac4ea(0x5af)]>_0xf793cd[_0x1ac4ea(0x905)][_0x1ac4ea(0x813)]){const _0x45f614=_0x195146[_0x1ac4ea(0x5af)];let _0x49442e=_0x3b1886,_0x31573b='';for(;_0x49442e>=0x0&&_0x31573b[_0x1ac4ea(0x5af)]+_0x326a81[_0x49442e]['length']<_0xf793cd[_0x1ac4ea(0x905)][_0x1ac4ea(0x2d1)];)_0x31573b=_0x326a81[_0x49442e]+'\x20'+_0x31573b,_0x49442e--;let _0x47479f=_0x4afb7e,_0x1f3720='';for(;_0x47479f<_0x326a81[_0x1ac4ea(0x5af)]&&_0x1f3720[_0x1ac4ea(0x5af)]+_0x326a81[_0x47479f][_0x1ac4ea(0x5af)]<_0xf793cd[_0x1ac4ea(0x905)][_0x1ac4ea(0x2d1)];)_0x1f3720+=_0x326a81[_0x47479f]+'\x20',_0x47479f++;_0x195146=_0x31573b+_0x195146+_0x1f3720,_0x5a396c[_0x1ac4ea(0x5ed)]({'content':_0x195146['trim'](),'start':_0x4193f0??_0x5b78c7,'length':_0x40336a??_0x195146[_0x1ac4ea(0x5af)]}),_0x195146='',_0x3b1886=_0x4afb7e-0x1,_0x5b78c7+=_0x45f614;}_0x195146+=_0x1f74ec+'\x20',_0x4afb7e++;}if(_0x195146['length']>0x0){const _0x4f0363=_0x195146['length'];let _0x2609f2=_0x3b1886,_0x32c741='';for(;_0x2609f2>=0x0&&_0x32c741[_0x1ac4ea(0x5af)]+_0x326a81[_0x2609f2]['length']<_0xf793cd[_0x1ac4ea(0x905)]['overlap'];)_0x32c741=_0x326a81[_0x2609f2]+'\x20'+_0x32c741,_0x2609f2--;_0x195146=_0x32c741+_0x195146,_0x5a396c[_0x1ac4ea(0x5ed)]({'content':_0x195146['trim'](),'start':_0x4193f0??_0x5b78c7,'length':_0x40336a??_0x4f0363});}return _0x5a396c;}async function _0x384198(_0xa24658,_0x3b3700,_0xb90a17,_0x567a32,_0x217d3b){const _0x5ad7e5=_0x1833fc;for(const _0x44334c of _0xb90a17[_0x5ad7e5(0x7c2)]||[]){const _0x1b8413=_0x567a32[_0x5ad7e5(0x33e)](_0x2732cc=>_0x2732cc[_0x5ad7e5(0x1d7)]===_0x44334c[_0x5ad7e5(0x1d7)]);if(_0x1b8413)switch(_0x1b8413[_0x5ad7e5(0x339)]){case _0x446c71[_0x5ad7e5(0x4a0)]:await _0x4c5a33(_0xa24658,_0x3b3700,_0x1b8413,_0x567a32,_0x217d3b);break;case _0x446c71[_0x5ad7e5(0x9ae)]:await _0x237d2c(_0xa24658,_0x3b3700,_0x1b8413,_0x567a32,_0x217d3b);break;case _0x446c71[_0x5ad7e5(0x427)]:await _0x3fa63d(_0xa24658,_0x3b3700,_0x1b8413,_0x567a32,_0x217d3b);break;case _0x446c71['EntityExtractor']:await _0x445435(_0xa24658,_0x3b3700,_0x1b8413,_0x567a32,_0x217d3b);break;case _0x446c71[_0x5ad7e5(0x270)]:_0x41dbef(_0xa24658,_0x3b3700,_0x1b8413,_0x567a32,_0x217d3b);break;case _0x446c71['Model']:await _0x3c9c44(_0xa24658,_0x3b3700,_0x1b8413,_0x567a32,_0x217d3b);break;case _0x446c71['RelationExtractor']:await _0x537e5(_0xa24658,_0x3b3700,_0x1b8413,_0x567a32,_0x217d3b);break;case _0x446c71['SentenceSplitter']:await _0x74af66(_0xa24658,_0x3b3700,_0x1b8413,_0x567a32,_0x217d3b);break;case _0x446c71[_0x5ad7e5(0x23d)]:_0x3a5adf(_0xa24658,_0x3b3700,_0x1b8413,_0x567a32,_0x217d3b);break;case _0x446c71[_0x5ad7e5(0x32b)]:await _0x2cdbe5(_0xa24658,_0x3b3700,_0x1b8413,_0x567a32,_0x217d3b);}}}function _0x528046(_0x2e3bed,_0x1bb718){const _0x16122b=_0x1833fc;return _0x1bb718[_0x16122b(0x9a3)](_0x1e1067=>_0x1e1067[_0x16122b(0x7c2)]?.['some'](_0x19a410=>_0x19a410['uid']===_0x2e3bed[_0x16122b(0x1d7)]))[_0x16122b(0x5af)];}async function _0x32df1f(_0x49ee2f,_0x54ad97,_0x305023,_0xc35d2c,_0x756e10){const _0x5d3e1d=_0x1833fc;try{let _0x4ff33d;switch(_0x305023[_0x5d3e1d(0x339)]){case _0x446c71[_0x5d3e1d(0x4ce)]:const _0x162c66=_0x756e10[_0x5d3e1d(0x97f)][_0x5d3e1d(0x5b1)](_0x305023['id']);_0x4ff33d=await _0x162c66['get'](_0x54ad97);break;case _0x446c71[_0x5d3e1d(0x3a6)]:const _0x478776=_0x756e10[_0x5d3e1d(0x97f)]['getExternalStorageConnection'](_0x305023['id']);_0x4ff33d=await _0x478776[_0x5d3e1d(0x264)](_0x54ad97);}if(!_0x4ff33d)throw new Error(_0x5d3e1d(0x77d));await _0x384198(_0x49ee2f,{'file':_0x4ff33d,'pathName':_0x54ad97},_0x305023,structuredClone(_0xc35d2c),_0x756e10);}catch(_0x428b9b){console['error']('Error\x20processing\x20ingest',_0x428b9b);}}const _0x6e5c75=require('rxjs/operators');class _0x396525{[_0x1833fc(0x934)];constructor(){const _0xd4f59b=_0x1833fc;this[_0xd4f59b(0x934)]=new _0x24b7f0[(_0xd4f59b(0x6c0))]();}[_0x1833fc(0x67c)](_0x4980e8){this['subject']['next'](_0x4980e8);}async['once'](){const _0x2a87ee=_0x1833fc;return(0x0,_0x24b7f0[_0x2a87ee(0x3b2)])(this[_0x2a87ee(0x934)][_0x2a87ee(0x438)]((0x0,_0x6e5c75[_0x2a87ee(0x370)])(0x1)));}}async function _0x482e8a(_0x2ff067,_0x50b936,_0x392084,_0x15f573,_0x2bfa6e,_0x19d52e,_0x2625c4){const _0x591916=_0x1833fc,_0x46a533=Date[_0x591916(0x1d5)](),_0x2d55d1=new Set();if(_0x392084 instanceof Array){for(const _0x57daa6 of _0x392084)await _0x16e579(_0x57daa6[_0x591916(0x3ff)],_0x2bfa6e,_0x2d55d1,_0x2625c4['nlpLibraryConnector']);}else await _0x16e579(_0x392084,_0x2bfa6e,_0x2d55d1,_0x2625c4[_0x591916(0x678)]);_0x4ec783[_0x591916(0x4b1)]({'jobType':_0x141b4a[_0x591916(0x45f)],'type':_0x48cf94[_0x591916(0x872)],'jobId':_0x2ff067,'threadId':_0x50b936,'blockId':_0x2bfa6e['id'],'traceLevel':_0x460698[_0x591916(0x434)],'startTime':_0x46a533,'timestamp':Date[_0x591916(0x1d5)](),'status':_0x591916(0x823),'content':_0x392084,'entitiesExtracted':Array['from'](_0x2d55d1),'totalEntities':_0x2d55d1['size']}),await _0x535b6d(_0x2ff067,_0x50b936,_0x2d55d1,_0x15f573,_0x2bfa6e,_0x19d52e,_0x2625c4);}async function _0x16e579(_0xb026e3,_0xf00a0e,_0x5a0102,_0x2e114b){const _0x84291e=_0x1833fc,_0x5d01f1=await _0x2e114b[_0x84291e(0x30c)](_0xb026e3,{'ner':_0xf00a0e[_0x84291e(0x905)][_0x84291e(0x290)],'noun':_0xf00a0e[_0x84291e(0x905)][_0x84291e(0x94d)],'propn':_0xf00a0e[_0x84291e(0x905)]['propn'],'verb':_0xf00a0e[_0x84291e(0x905)][_0x84291e(0x697)]});for(const _0x599c0c of _0x5d01f1)_0x5a0102[_0x84291e(0x720)](_0x599c0c);}async function _0x39e8cf(_0x69eff8,_0x384e95,_0x5e9d3a,_0x4b781f,_0x23daee,_0x3fd1d9,_0x332405){const _0x4368d2=_0x1833fc,_0x4ec18e=Date[_0x4368d2(0x1d5)]();if(_0x23daee[_0x4368d2(0x713)]||(_0x23daee['accumulated']={}),_0x5e9d3a instanceof Array?(_0x23daee[_0x4368d2(0x713)][_0x4368d2(0xd5)]||(_0x23daee[_0x4368d2(0x713)][_0x4368d2(0xd5)]=[]),_0x23daee[_0x4368d2(0x713)][_0x4368d2(0xd5)][_0x4368d2(0x5ed)](..._0x5e9d3a)):_0x5e9d3a instanceof Set?_0x23daee['accumulated']['entities']=_0x5e9d3a:_0x23daee[_0x4368d2(0x713)]['prompt']=_0x5e9d3a,_0x23daee[_0x4368d2(0x541)]=_0x23daee[_0x4368d2(0x541)]?_0x23daee[_0x4368d2(0x541)]+0x1:0x1,_0x301b81(_0x23daee,_0x3fd1d9)>_0x23daee[_0x4368d2(0x541)])return;if(!_0x23daee[_0x4368d2(0x713)][_0x4368d2(0x563)]&&!_0x23daee['accumulated']['results']||!_0x23daee[_0x4368d2(0x713)][_0x4368d2(0x71f)])throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x263ad3=_0x332405['contentMediator'][_0x4368d2(0x603)](_0x23daee['id'])['getContent'](Array[_0x4368d2(0x5cf)](_0x23daee['accumulated'][_0x4368d2(0x71f)]),_0x23daee[_0x4368d2(0x905)][_0x4368d2(0x301)],_0x23daee['attributes'][_0x4368d2(0x10e)]);let _0x277a00=[];for(const _0x58fb45 in _0x263ad3){const _0x59f3e9=_0x263ad3[_0x58fb45];for(const _0x21b0a2 of _0x59f3e9){let _0x3299ad=0x0;if(_0x23daee['accumulated'][_0x4368d2(0x563)]&&(_0x3299ad=await _0x332405[_0x4368d2(0x678)][_0x4368d2(0x48f)](_0x23daee[_0x4368d2(0x713)][_0x4368d2(0x563)],_0x21b0a2)),_0x23daee['accumulated'][_0x4368d2(0xd5)]){for(const _0x135d7c of _0x23daee[_0x4368d2(0x713)][_0x4368d2(0xd5)])_0x3299ad=Math[_0x4368d2(0x1a6)](_0x3299ad,await _0x332405['nlpLibraryConnector'][_0x4368d2(0x48f)](_0x135d7c[_0x4368d2(0x3ff)],_0x21b0a2));}_0x3299ad<_0x23daee[_0x4368d2(0x905)][_0x4368d2(0x10d)]||_0x277a00[_0x4368d2(0x5ed)]({'content':_0x21b0a2,'relevance':_0x3299ad,'pathName':_0x58fb45});}}_0x277a00=_0x277a00[_0x4368d2(0x1e5)]((_0x341930,_0x484535)=>_0x484535[_0x4368d2(0x837)]-_0x341930[_0x4368d2(0x837)])[_0x4368d2(0x209)](0x0,_0x23daee['attributes'][_0x4368d2(0x26c)]),_0x4ec783[_0x4368d2(0x4b1)]({'jobType':_0x141b4a[_0x4368d2(0x45f)],'type':_0x48cf94['GraphSearch'],'jobId':_0x69eff8,'threadId':_0x384e95,'blockId':_0x23daee['id'],'traceLevel':_0x460698[_0x4368d2(0x434)],'timestamp':Date[_0x4368d2(0x1d5)](),'startTime':_0x4ec18e,'status':_0x4368d2(0x823),'content':_0x5e9d3a,'topResults':_0x277a00,'numResults':_0x277a00[_0x4368d2(0x5af)]}),await _0x535b6d(_0x69eff8,_0x384e95,_0x277a00,_0x4b781f,_0x23daee,_0x3fd1d9,_0x332405);}async function _0x56803c(_0x4d3413,_0x158d98,_0x2feb1c,_0x13b0ca,_0xfaf334,_0x39d627,_0x10df28){const _0x4f978e=_0x1833fc,_0x466c76=_0x10df28[_0x4f978e(0x751)][_0x4f978e(0x33e)](_0x7eaa6c=>_0x7eaa6c['id']===_0xfaf334['id']);if(!_0x466c76)throw new Error('Model\x20not\x20found');let _0x53b121='';switch(_0x53b121=_0x2feb1c instanceof Array?_0x2feb1c['map'](_0xcf5d26=>_0xcf5d26['content'])['join'](',\x20'):_0x2feb1c,_0x466c76[_0x4f978e(0x2c6)]){case _0x4f9f07['GenerativeAIModelOutputType']['Text']:await async function(_0x3a0852,_0x266472,_0x4202ef,_0x517992,_0x1215cc,_0x2a85f7,_0x46372b,_0x1cdc4d){const _0x4714f3=_0x4f978e,_0x1db44a=Date[_0x4714f3(0x1d5)](),_0x56dde6=_0x1cdc4d[_0x4714f3(0x936)]['find'](_0x6cf3ca=>_0x6cf3ca[_0x4714f3(0x144)]()===_0x1215cc[_0x4714f3(0x6a8)]);if(!_0x56dde6)throw new Error(_0x4714f3(0x65a));const _0x42a1f0=await async function(_0x3a96ee,_0xcdacef,_0x562ffc,_0x23e69e,_0x2dcab3){const _0xa120e2=_0x4714f3,_0x4d8d25={'type':'prompt','prompt':_0xcdacef,'threadId':_0x3a96ee};_0x562ffc['context'][_0xa120e2(0x5af)]>0x0&&(_0x4d8d25[_0xa120e2(0x231)]=_0xa120e2(0x417)+_0x562ffc[_0xa120e2(0x15c)][_0xa120e2(0x84d)](_0x479607=>_0xa120e2(0x12c)+_0x479607[_0xa120e2(0x33a)]+':\x20'+_0x479607[_0xa120e2(0x3ff)])[_0xa120e2(0x784)]('\x0a'));const _0x40f85c=await _0x23e69e['processJob'](_0x4d8d25,{'model':_0x2dcab3});if(_0x40f85c[_0xa120e2(0x922)]instanceof Array)throw new Error(_0xa120e2(0x50d));return _0x562ffc[_0xa120e2(0x198)]+=_0x40f85c[_0xa120e2(0x198)]??0x0,_0x562ffc[_0xa120e2(0x805)]+=_0x40f85c[_0xa120e2(0x805)]??0x0,_0x40f85c[_0xa120e2(0x922)];}(_0x266472,_0x4202ef,_0x517992,_0x56dde6,_0x1215cc);_0x4ec783[_0x4714f3(0x4b1)]({'jobType':_0x141b4a[_0x4714f3(0x45f)],'type':_0x48cf94[_0x4714f3(0x93d)],'jobId':_0x3a0852,'threadId':_0x266472,'blockId':_0x2a85f7['id'],'traceLevel':_0x460698['Debug'],'startTime':_0x1db44a,'timestamp':Date[_0x4714f3(0x1d5)](),'status':'success','modelName':_0x1215cc['id'],'content':_0x4202ef,'newPrompt':_0x42a1f0,'inputType':_0x1215cc[_0x4714f3(0x2c9)],'outputType':_0x1215cc[_0x4714f3(0x2c6)]}),await _0x535b6d(_0x3a0852,_0x266472,_0x42a1f0,_0x517992,_0x2a85f7,_0x46372b,_0x1cdc4d);}(_0x4d3413,_0x158d98,_0x53b121,_0x13b0ca,_0x466c76,_0xfaf334,_0x39d627,_0x10df28);break;case _0x4f9f07[_0x4f978e(0x659)][_0x4f978e(0x9a5)]:await async function(_0x555da7,_0x417906,_0x4a3113,_0x47b599,_0x17f250,_0x1386da,_0x77371e,_0x1794ba){const _0x405b30=_0x4f978e,_0xcaef20=Date[_0x405b30(0x1d5)](),_0x5247be=_0x1794ba[_0x405b30(0x936)][_0x405b30(0x33e)](_0x18645e=>_0x18645e[_0x405b30(0x144)]()===_0x17f250[_0x405b30(0x6a8)]);if(!_0x5247be)throw new Error(_0x405b30(0x65a));const _0x6ce720=await async function(_0x249cd1,_0x3cb246,_0x5f1160,_0x3cee79){const _0x4c41e4=_0x405b30;return(await _0x5f1160[_0x4c41e4(0x346)]({'type':'prompt','prompt':_0x3cb246,'threadId':_0x249cd1},{'model':_0x3cee79}))[_0x4c41e4(0x922)];}(_0x417906,_0x4a3113,_0x5247be,_0x17f250);_0x4ec783[_0x405b30(0x4b1)]({'jobType':_0x141b4a[_0x405b30(0x45f)],'type':_0x48cf94[_0x405b30(0x5b2)],'jobId':_0x555da7,'threadId':_0x417906,'blockId':_0x1386da['id'],'traceLevel':_0x460698[_0x405b30(0x434)],'startTime':_0xcaef20,'timestamp':Date['now'](),'status':_0x405b30(0x823),'modelName':_0x17f250['id'],'content':_0x4a3113,'totalVectors':_0x6ce720[_0x405b30(0x5af)]}),await _0x535b6d(_0x555da7,_0x417906,_0x6ce720,_0x47b599,_0x1386da,_0x77371e,_0x1794ba);}(_0x4d3413,_0x158d98,_0x53b121,_0x13b0ca,_0x466c76,_0xfaf334,_0x39d627,_0x10df28);}}async function _0x5771ed(_0x22fb41,_0x4c1261,_0x13e3cc,_0x94a9df,_0x2f4152,_0x1c4d8d,_0x244db3){const _0x1ad54e=_0x1833fc,_0x39316f=Date[_0x1ad54e(0x1d5)](),_0x576eda=_0x244db3[_0x1ad54e(0x97f)][_0x1ad54e(0x193)](_0x2f4152['id'])['search'](_0x13e3cc,_0x2f4152[_0x1ad54e(0x905)][_0x1ad54e(0x26c)],_0x2f4152[_0x1ad54e(0x905)]['minRelevance'],_0x2f4152['attributes']['contentSize']);_0x4ec783[_0x1ad54e(0x4b1)]({'jobType':_0x141b4a[_0x1ad54e(0x45f)],'type':_0x48cf94[_0x1ad54e(0x7a9)],'jobId':_0x22fb41,'threadId':_0x4c1261,'blockId':_0x2f4152['id'],'traceLevel':_0x460698[_0x1ad54e(0x434)],'startTime':_0x39316f,'timestamp':Date[_0x1ad54e(0x1d5)](),'status':_0x1ad54e(0x823),'topResults':_0x576eda,'numResults':_0x576eda[_0x1ad54e(0x5af)]}),await _0x535b6d(_0x22fb41,_0x4c1261,_0x576eda,_0x94a9df,_0x2f4152,_0x1c4d8d,_0x244db3);}async function _0x34ff60(_0x5119d7,_0x2d9a56,_0x475f77,_0x23966a,_0x1ad154,_0x284ad8,_0x4fffe7){const _0x12054b=_0x1833fc,_0x435bf7=Date['now']();if(_0x1ad154['accumulated']||(_0x1ad154[_0x12054b(0x713)]={}),_0x475f77 instanceof Array?(_0x1ad154[_0x12054b(0x713)]['results']||(_0x1ad154[_0x12054b(0x713)][_0x12054b(0xd5)]=[]),_0x1ad154['accumulated'][_0x12054b(0xd5)]['push'](..._0x475f77)):_0x1ad154[_0x12054b(0x713)][_0x12054b(0x563)]=_0x475f77,_0x1ad154[_0x12054b(0x541)]=_0x1ad154[_0x12054b(0x541)]?_0x1ad154[_0x12054b(0x541)]+0x1:0x1,_0x301b81(_0x1ad154,_0x284ad8)>_0x1ad154[_0x12054b(0x541)])return;if(!_0x1ad154['accumulated'][_0x12054b(0x563)]||!_0x1ad154[_0x12054b(0x713)][_0x12054b(0xd5)])throw new Error(_0x12054b(0x637));for(const _0x5870f0 of _0x1ad154[_0x12054b(0x713)][_0x12054b(0xd5)])_0x5870f0[_0x12054b(0x837)]=await _0x4fffe7['nlpLibraryConnector'][_0x12054b(0x48f)](_0x1ad154[_0x12054b(0x713)][_0x12054b(0x563)],_0x5870f0[_0x12054b(0x3ff)]);const _0x3e802f=_0x1ad154['accumulated'][_0x12054b(0xd5)][_0x12054b(0x9a3)](_0x1480f1=>_0x1480f1[_0x12054b(0x837)]>_0x1ad154[_0x12054b(0x905)][_0x12054b(0x10d)])[_0x12054b(0x1e5)]((_0x2338b7,_0x5b7812)=>_0x5b7812[_0x12054b(0x837)]-_0x2338b7[_0x12054b(0x837)])['slice'](0x0,_0x1ad154[_0x12054b(0x905)][_0x12054b(0x26c)]);_0x4ec783[_0x12054b(0x4b1)]({'jobType':_0x141b4a[_0x12054b(0x45f)],'type':_0x48cf94[_0x12054b(0x3fa)],'jobId':_0x5119d7,'threadId':_0x2d9a56,'blockId':_0x1ad154['id'],'traceLevel':_0x460698[_0x12054b(0x434)],'startTime':_0x435bf7,'timestamp':Date[_0x12054b(0x1d5)](),'status':'success','inputResults':_0x1ad154[_0x12054b(0x713)][_0x12054b(0xd5)],'rerankedResults':_0x3e802f}),await _0x535b6d(_0x5119d7,_0x2d9a56,_0x3e802f,_0x23966a,_0x1ad154,_0x284ad8,_0x4fffe7);}async function _0x535b6d(_0x5b5940,_0x1c8a14,_0x225f6f,_0x4ba2cb,_0x38b510,_0x3f0a3d,_0x1a1f61){const _0x14231e=_0x1833fc;for(const _0x230dcb of _0x38b510[_0x14231e(0x7c2)]||[]){const _0xc33263=_0x3f0a3d['find'](_0x41b235=>_0x41b235['uid']===_0x230dcb[_0x14231e(0x1d7)]);if(_0xc33263)switch(_0xc33263['type']){case _0x446c71[_0x14231e(0x945)]:_0x4ba2cb['context'][_0x14231e(0x5ed)](..._0x225f6f);break;case _0x446c71[_0x14231e(0x872)]:await _0x482e8a(_0x5b5940,_0x1c8a14,_0x225f6f,_0x4ba2cb,_0xc33263,_0x3f0a3d,_0x1a1f61);break;case _0x446c71['GraphDatabase']:await _0x39e8cf(_0x5b5940,_0x1c8a14,_0x225f6f,_0x4ba2cb,_0xc33263,_0x3f0a3d,_0x1a1f61);break;case _0x446c71[_0x14231e(0x296)]:await _0x56803c(_0x5b5940,_0x1c8a14,_0x225f6f,_0x4ba2cb,_0xc33263,_0x3f0a3d,_0x1a1f61);break;case _0x446c71[_0x14231e(0x3fa)]:await _0x34ff60(_0x5b5940,_0x1c8a14,_0x225f6f,_0x4ba2cb,_0xc33263,_0x3f0a3d,_0x1a1f61);break;case _0x446c71[_0x14231e(0x23d)]:await _0x5771ed(_0x5b5940,_0x1c8a14,_0x225f6f,_0x4ba2cb,_0xc33263,_0x3f0a3d,_0x1a1f61);}}}function _0x301b81(_0x1b1e27,_0x54eb8a){const _0x24586c=_0x1833fc;return _0x54eb8a[_0x24586c(0x9a3)](_0x3b3bce=>_0x3b3bce[_0x24586c(0x7c2)]?.[_0x24586c(0x480)](_0x15c226=>_0x15c226['uid']===_0x1b1e27[_0x24586c(0x1d7)]))['length'];}async function _0x45951d(_0x4f92a2,_0x11e3f2,_0x17ac31,_0x26493f,_0x223f5a,_0x413bc3){const _0x36b242=_0x1833fc,_0x4b73cd={'type':_0x36b242(0x563),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x535b6d(_0x4f92a2,_0x11e3f2,_0x17ac31,_0x4b73cd,_0x26493f,structuredClone(_0x223f5a),_0x413bc3),_0x4b73cd['output']=_0x36b242(0x417)+_0x4b73cd[_0x36b242(0x15c)][_0x36b242(0x84d)](_0x577e71=>'From\x20'+_0x577e71[_0x36b242(0x33a)]+':\x20'+_0x577e71[_0x36b242(0x3ff)])['join']('\x0a');}catch(_0x40a85f){console[_0x36b242(0x657)](_0x36b242(0x507),_0x40a85f);}return _0x4b73cd;}function _0x1e8b18(_0x4fe1ce,_0x4f0aea,_0x363802,_0x197295,_0x124e12,_0x24ef17,_0x1d96dc,_0x11c5d7){const _0x3a7dcc=_0x1833fc,_0x47be54=new Map(),_0x542740=_0x24ef17[_0x3a7dcc(0x9a3)](_0x512bdd=>_0x512bdd[_0x3a7dcc(0x7c2)]?.[_0x3a7dcc(0x33e)](_0x24e360=>_0x24e360['uid']===_0x124e12[_0x3a7dcc(0x1d7)]&&(_0x24e360['type']===_0x5c20a2[_0x3a7dcc(0x468)]||_0x24e360['type']===_0x5c20a2[_0x3a7dcc(0x6aa)])));for(const _0x1ae287 of _0x542740)_0x1ae287[_0x3a7dcc(0x339)]===_0x2c8280[_0x3a7dcc(0x468)]||_0x1ae287[_0x3a7dcc(0x339)]===_0x2c8280[_0x3a7dcc(0x5b3)]?_0x47be54[_0x3a7dcc(0x174)](_0x3a7dcc(0x95d)+_0x1ae287['id'],_0x10cd23(_0x4fe1ce,_0x4f0aea,_0x363802,_0x197295,_0x1ae287,_0x1d96dc,_0x11c5d7)):_0x1ae287['type']===_0x2c8280[_0x3a7dcc(0x685)]||_0x1ae287[_0x3a7dcc(0x339)]===_0x2c8280['Agent']?_0x47be54['set'](_0x3a7dcc(0x5a8)+_0x1ae287['id'],_0x1e96f0(_0x4fe1ce,_0x4f0aea,_0x363802,_0x197295,_0x1ae287,_0x24ef17,_0x1d96dc,_0x11c5d7)):_0x1ae287['type']===_0x2c8280[_0x3a7dcc(0x1cc)]?_0x47be54[_0x3a7dcc(0x174)](_0x1ae287[_0x3a7dcc(0x3cd)]['replace'](/[^a-zA-Z]/g,''),_0x5612c1(_0x4fe1ce,_0x4f0aea,_0x363802,_0x1ae287,_0x24ef17,_0x11c5d7)):_0x47be54['set'](_0x233661(_0x1ae287),_0x3ebe72(_0x4fe1ce,_0x4f0aea,_0x363802,_0x1ae287,_0x1d96dc,_0x11c5d7));return _0x47be54;}function _0x1e96f0(_0x350a93,_0x134cfa,_0x5690da,_0x4dc34e,_0x44ce26,_0xe44e10,_0x522060,_0xf72a6c){const _0x1445a3=_0x1833fc,_0x3314df=_0x1445a3(0x537)+_0x44ce26[_0x1445a3(0x7ed)]+_0x1445a3(0xef),_0x3062de={'prompt':{'type':_0x4f9f07['PromptFunctionParamsType'][_0x1445a3(0x76f)]}};return _0x4ec783[_0x1445a3(0x4b1)]({'jobType':_0x141b4a[_0x1445a3(0x6bb)],'type':_0x25a074[_0x1445a3(0x600)],'jobId':_0x350a93,'agentId':_0x134cfa,'threadId':_0x5690da,'traceLevel':_0x460698['Info'],'startTime':Date[_0x1445a3(0x1d5)](),'timestamp':Date[_0x1445a3(0x1d5)](),'status':_0x1445a3(0x823),'function':_0x536b0f[_0x1445a3(0x6be)],'params':_0x3062de,'functionDescription':_0x3314df}),{'description':_0x3314df,'params':_0x3062de,'callback':async _0x63fedf=>{const _0x3fc7bb=_0x1445a3,_0x5a3b19=Date['now']();try{if(_0xf72a6c&&(await _0x524332[_0x3fc7bb(0x70b)](0x1),_0xf72a6c['emit']({'output':_0x3fc7bb(0x5d8)+_0x44ce26[_0x3fc7bb(0x3cd)]+_0x3fc7bb(0x967),'type':'prompt'})),_0x3fc7bb(0xf8)!=typeof _0x63fedf?.['prompt'])throw new Error('Prompt\x20is\x20required');let _0x55a12f=_0x63fedf[_0x3fc7bb(0x563)];if(_0x44ce26[_0x3fc7bb(0x713)]?.[_0x3fc7bb(0x15c)])for(const _0x569050 of Object[_0x3fc7bb(0x727)](_0x44ce26[_0x3fc7bb(0x713)]['context'])){const _0x380b63=_0x44ce26[_0x3fc7bb(0x713)]['context'][_0x569050];_0x55a12f=_0x380b63 instanceof Array?'Given\x20search\x20results\x20for\x20'+_0x569050+_0x3fc7bb(0x2e1)+_0x380b63['map'](_0x22fe87=>_0x3fc7bb(0x12c)+_0x22fe87[_0x3fc7bb(0x33a)]+':\x20'+_0x22fe87[_0x3fc7bb(0x3ff)])[_0x3fc7bb(0x784)]('\x0a\x0a')+'\x0a\x0a'+_0x55a12f:'Given\x20'+_0x569050+':\x20'+_0x380b63+'\x0a\x0a'+_0x55a12f;}const _0x532612=_0x522060[_0x3fc7bb(0x751)][_0x3fc7bb(0x33e)](_0xc653e0=>_0xc653e0['id']===_0x44ce26[_0x3fc7bb(0x8a8)]);if(!_0x532612)throw new Error(_0x3fc7bb(0x591));const _0xd22d57=_0x522060[_0x3fc7bb(0x936)][_0x3fc7bb(0x33e)](_0x591635=>_0x591635['getEngineType']()===_0x532612['engineType']);if(!_0xd22d57)throw new Error(_0x3fc7bb(0x65a));const _0x350961=_0x44ce26[_0x3fc7bb(0x7c2)]?.[_0x3fc7bb(0x480)](_0x17762f=>{const _0x2aa038=_0x3fc7bb,_0x153654=_0xe44e10[_0x2aa038(0x33e)](_0x2f3182=>_0x2f3182['uid']===_0x17762f[_0x2aa038(0x1d7)]);return!!_0x153654&&_0x153654[_0x2aa038(0x339)]===_0x2c8280[_0x2aa038(0x57c)];})??!0x1;let _0xf25785;if(_0xf72a6c&&_0x350961?(await _0x524332['wait'](0x1),_0xf72a6c[_0x3fc7bb(0x67c)]({'output':'\x0a\x0a','type':_0x3fc7bb(0x563)}),_0xf25785=await async function(_0x485ba9,_0x5a16f5,_0x4ce89d,_0x3ec88e,_0x578128,_0x571fef,_0x20b565,_0x3d5634,_0x1a4bcd){const _0x8b863=_0x3fc7bb;let _0x41eb77='';const _0x502489=_0x1a4bcd[_0x8b863(0x751)][_0x8b863(0x33e)](_0x1c01f0=>_0x1c01f0['id']===_0x571fef['modelId']);if(!_0x502489)throw new Error('Model\x20not\x20found');const _0x107588=_0x1a4bcd['generativeAIWorkerConnectors']['find'](_0x19216d=>_0x19216d[_0x8b863(0x144)]()===_0x502489['engineType']);if(!_0x107588)throw new Error(_0x8b863(0x65a));for await(const _0x35ee42 of _0x107588[_0x8b863(0x547)]({'type':_0x8b863(0x563),'prompt':_0x3ec88e,'instructions':_0x571fef['instructions'],'grammar':_0x571fef[_0x8b863(0x418)],'temperature':_0x571fef[_0x8b863(0x22e)],'maxTokens':_0x571fef[_0x8b863(0x604)],'functions':_0x1e8b18(_0x485ba9,_0x5a16f5,_0x4ce89d,_0x578128,_0x571fef,_0x20b565,_0x1a4bcd,_0x3d5634),'threadId':_0x4ce89d},{'model':_0x502489}))_0x3d5634['emit'](_0x35ee42),_0x41eb77+=_0x35ee42['output'];return{'type':_0x8b863(0x563),'output':_0x41eb77};}(_0x350a93,_0x134cfa,_0x5690da,_0x55a12f,_0x4dc34e,_0x44ce26,_0xe44e10,_0xf72a6c,_0x522060),await _0x524332['wait'](0x1),_0xf72a6c['emit']({'output':'\x0a\x0a','type':_0x3fc7bb(0x563)})):_0xf25785=await _0xd22d57['processJob']({'type':_0x3fc7bb(0x563),'prompt':_0x55a12f,'instructions':_0x44ce26['instructions'],'grammar':_0x44ce26['grammar'],'temperature':_0x44ce26[_0x3fc7bb(0x22e)],'maxTokens':_0x44ce26['maxTokens'],'functions':_0x1e8b18(_0x350a93,_0x134cfa,_0x5690da,_0x4dc34e,_0x44ce26,_0xe44e10,_0x522060,_0xf72a6c),'threadId':_0x5690da},{'model':_0x532612}),'string'!=typeof _0xf25785['output'])throw new Error(_0x3fc7bb(0x41f));return _0x4ec783[_0x3fc7bb(0x4b1)]({'jobType':_0x141b4a[_0x3fc7bb(0x6aa)],'type':_0x536b0f[_0x3fc7bb(0x6be)],'jobId':_0x350a93,'blockId':_0x44ce26['id'],'agentId':_0x134cfa,'threadId':_0x5690da,'traceLevel':_0x460698[_0x3fc7bb(0x180)],'startTime':_0x5a3b19,'timestamp':Date[_0x3fc7bb(0x1d5)](),'status':_0x3fc7bb(0x823),'agentName':_0x44ce26[_0x3fc7bb(0x3cd)],'prompt':_0x55a12f,'instructions':_0x44ce26[_0x3fc7bb(0x231)],'result':_0xf25785[_0x3fc7bb(0x922)],'inputTokens':0x0,'outputTokens':0x0}),_0x44ce26[_0x3fc7bb(0x7c2)]?.[_0x3fc7bb(0x480)](_0xf764=>_0xf764[_0x3fc7bb(0x339)]===_0x5c20a2[_0x3fc7bb(0x945)])?(_0x6fa05b(_0xf25785[_0x3fc7bb(0x922)],_0x44ce26,_0xe44e10),_0x3fc7bb(0x735)):_0xf25785[_0x3fc7bb(0x922)];}catch(_0x4f1e99){return console[_0x3fc7bb(0x657)](_0x4f1e99),_0x4ec783[_0x3fc7bb(0x4b1)]({'jobType':_0x141b4a['Skill'],'type':_0x536b0f[_0x3fc7bb(0x6be)],'jobId':_0x350a93,'blockId':_0x44ce26['id'],'agentId':_0x134cfa,'threadId':_0x5690da,'traceLevel':_0x460698['Info'],'startTime':_0x5a3b19,'timestamp':Date[_0x3fc7bb(0x1d5)](),'status':_0x3fc7bb(0x657),'errorDetails':_0xd9bc87(_0x4f1e99),'agentName':_0x44ce26[_0x3fc7bb(0x3cd)],'prompt':'','instructions':_0x44ce26['instructions'],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x4f1e99 instanceof Error?_0x4f1e99[_0x3fc7bb(0x96c)]:_0x3fc7bb(0x437);}}};}function _0x10cd23(_0x88c4d1,_0x252c25,_0x25d513,_0x27fb65,_0x3011f1,_0x38bfce,_0x575b91){const _0x5cff3a=_0x1833fc,_0x4242cc=_0x5cff3a(0x914)+_0x3011f1[_0x5cff3a(0x7ed)]+_0x5cff3a(0x51d),_0x4af7fe={'queryOrPrompt':{'type':_0x4f9f07[_0x5cff3a(0x624)]['String']}};return _0x4ec783[_0x5cff3a(0x4b1)]({'jobType':_0x141b4a[_0x5cff3a(0x6bb)],'type':_0x25a074[_0x5cff3a(0x4c4)],'jobId':_0x88c4d1,'agentId':_0x252c25,'threadId':_0x25d513,'blockId':_0x3011f1['id'],'traceLevel':_0x460698[_0x5cff3a(0x180)],'startTime':Date[_0x5cff3a(0x1d5)](),'timestamp':Date[_0x5cff3a(0x1d5)](),'status':_0x5cff3a(0x823),'function':_0x5ac82f[_0x5cff3a(0x126)],'params':_0x4af7fe,'functionDescription':_0x4242cc}),{'description':_0x4242cc,'params':_0x4af7fe,'callback':async _0xd945f6=>{const _0x543360=_0x5cff3a,_0x51b119=Date['now']();try{if(_0x575b91&&(await _0x524332[_0x543360(0x70b)](0x1),_0x575b91['emit']({'output':_0x543360(0x782)+_0x3011f1[_0x543360(0x3cd)]+_0x543360(0x93a)+_0xd945f6?.[_0x543360(0x189)]+_0x543360(0x967),'type':'prompt'})),_0x543360(0xf8)!=typeof _0xd945f6?.[_0x543360(0x189)])throw new Error(_0x543360(0x8f8));const _0x59a220=_0x3011f1['retrieveBlocks'][_0x543360(0x33e)](_0x3df607=>_0x3df607['type']===_0x446c71[_0x543360(0x210)]),_0x2efeee=await _0x45951d(_0x88c4d1,_0x25d513,_0xd945f6['queryOrPrompt'],_0x59a220,_0x3011f1[_0x543360(0x3b0)],_0x38bfce);return _0x27fb65[_0x543360(0x15c)]=Array[_0x543360(0x5cf)](new Set([..._0x27fb65[_0x543360(0x15c)],..._0x2efeee[_0x543360(0x15c)]])),_0x4ec783[_0x543360(0x4b1)]({'jobType':_0x141b4a[_0x543360(0x468)],'type':_0x5ac82f[_0x543360(0x6d8)],'jobId':_0x88c4d1,'blockId':_0x3011f1['id'],'agentId':_0x252c25,'threadId':_0x25d513,'traceLevel':_0x460698[_0x543360(0x180)],'startTime':_0x51b119,'timestamp':Date['now'](),'status':'success','query':_0xd945f6[_0x543360(0x189)],'context':_0x2efeee[_0x543360(0x15c)]??[],'inputTokens':_0x2efeee[_0x543360(0x198)]??0x0,'outputTokens':_0x2efeee[_0x543360(0x805)]??0x0}),_0x2efeee[_0x543360(0x922)];}catch(_0x5bb012){return console[_0x543360(0x657)](_0x5bb012),_0x4ec783[_0x543360(0x4b1)]({'jobType':_0x141b4a[_0x543360(0x468)],'type':_0x5ac82f[_0x543360(0x6d8)],'jobId':_0x88c4d1,'blockId':_0x3011f1['id'],'agentId':_0x252c25,'threadId':_0x25d513,'traceLevel':_0x460698[_0x543360(0x180)],'startTime':_0x51b119,'timestamp':Date['now'](),'status':_0x543360(0x657),'errorDetails':_0xd9bc87(_0x5bb012),'query':_0xd945f6?.[_0x543360(0x189)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x5bb012 instanceof Error?_0x5bb012[_0x543360(0x96c)]:'Error\x20retrieving\x20context';}}};}function _0x233661(_0x213fa2){const _0x24f1ca=_0x1833fc;switch(_0x213fa2[_0x24f1ca(0x339)]){case _0x2c8280[_0x24f1ca(0x9d9)]:return _0x24f1ca(0x3e4);case _0x2c8280['Code']:return _0x24f1ca(0x9d5);case _0x2c8280['Search']:return'searchOnGoogle';case _0x2c8280[_0x24f1ca(0x131)]:case _0x2c8280['WebScraperRaw']:return _0x24f1ca(0x605);}throw new Error('Unknown\x20skill\x20type');}function _0x3ebe72(_0x52f1e9,_0x5543ac,_0x43ea27,_0x5760e0,_0x3b6d66,_0x1dd3cc){const _0x45532f=_0x1833fc;switch(_0x5760e0['type']){case _0x2c8280[_0x45532f(0x9d9)]:return function(_0x13a244,_0x42ec48,_0x37bb38,_0x29c60e,_0x389145){const _0x4b2279=_0x45532f,_0x40863a=_0x4b2279(0x80c);return _0x4ec783[_0x4b2279(0x4b1)]({'jobType':_0x141b4a[_0x4b2279(0x6bb)],'type':_0x25a074['LoadSkillFunction'],'jobId':_0x13a244,'agentId':_0x42ec48,'threadId':_0x37bb38,'traceLevel':_0x460698[_0x4b2279(0x180)],'startTime':Date[_0x4b2279(0x1d5)](),'timestamp':Date[_0x4b2279(0x1d5)](),'status':_0x4b2279(0x823),'function':_0x536b0f[_0x4b2279(0x7c3)],'params':{},'functionDescription':_0x40863a}),{'description':_0x40863a,'callback':()=>{const _0x4fc26b=_0x4b2279,_0x104f11=Date['now']();_0x389145&&_0x389145[_0x4fc26b(0x67c)]({'output':_0x4fc26b(0x272),'type':_0x4fc26b(0x563)});const _0x2a1198=new Date()[_0x4fc26b(0x980)]();return _0x4ec783[_0x4fc26b(0x4b1)]({'jobType':_0x141b4a[_0x4fc26b(0x6aa)],'type':_0x536b0f[_0x4fc26b(0x7c3)],'jobId':_0x13a244,'agentId':_0x42ec48,'threadId':_0x37bb38,'blockId':_0x29c60e,'traceLevel':_0x460698[_0x4fc26b(0x180)],'startTime':_0x104f11,'timestamp':Date[_0x4fc26b(0x1d5)](),'status':_0x4fc26b(0x823),'date':_0x2a1198}),_0x2a1198;}};}(_0x52f1e9,_0x5543ac,_0x43ea27,_0x5760e0['id'],_0x1dd3cc);case _0x2c8280[_0x45532f(0x866)]:return function(_0x3b4225,_0x418147,_0x367772,_0x2fded8,_0x149179){const _0x1eddf9=_0x45532f,_0x2868e3='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x5d641b={'code':{'type':_0x4f9f07[_0x1eddf9(0x624)]['String']}};return _0x4ec783['trace']({'jobType':_0x141b4a[_0x1eddf9(0x6bb)],'type':_0x25a074[_0x1eddf9(0x600)],'jobId':_0x3b4225,'agentId':_0x418147,'threadId':_0x367772,'traceLevel':_0x460698['Info'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x1eddf9(0x823),'function':_0x536b0f[_0x1eddf9(0x8b7)],'params':_0x5d641b,'functionDescription':_0x2868e3}),{'description':_0x2868e3,'params':_0x5d641b,'callback':_0x4eb55f=>{const _0x5e4bce=_0x1eddf9,_0x1e4820=Date[_0x5e4bce(0x1d5)]();try{if(_0x149179&&_0x149179[_0x5e4bce(0x67c)]({'output':_0x5e4bce(0x40b),'type':'prompt'}),'string'!=typeof _0x4eb55f?.[_0x5e4bce(0x45d)])throw new Error(_0x5e4bce(0x1b2));const _0xd6c42=Function(''+_0x4eb55f?.[_0x5e4bce(0x45d)])();let _0x3dee10='';try{_0x3dee10=JSON[_0x5e4bce(0x33b)](_0xd6c42);}catch{_0x3dee10=_0xd6c42[_0x5e4bce(0x687)]();}return _0x4ec783[_0x5e4bce(0x4b1)]({'jobType':_0x141b4a['Skill'],'type':_0x536b0f[_0x5e4bce(0x8b7)],'agentId':_0x418147,'threadId':_0x367772,'jobId':_0x3b4225,'blockId':_0x2fded8,'traceLevel':_0x460698[_0x5e4bce(0x180)],'startTime':_0x1e4820,'timestamp':Date[_0x5e4bce(0x1d5)](),'status':_0x5e4bce(0x823),'code':_0x4eb55f[_0x5e4bce(0x45d)],'result':_0x3dee10}),_0xd6c42;}catch(_0x49710){return console[_0x5e4bce(0x657)](_0x49710),_0x4ec783['trace']({'jobType':_0x141b4a[_0x5e4bce(0x6aa)],'type':_0x536b0f[_0x5e4bce(0x8b7)],'jobId':_0x3b4225,'blockId':_0x2fded8,'traceLevel':_0x460698[_0x5e4bce(0x180)],'startTime':_0x1e4820,'timestamp':Date['now'](),'status':'error','errorDetails':_0xd9bc87(_0x49710),'agentId':_0x418147,'threadId':_0x367772,'code':_0x4eb55f?.['code']??'','result':_0x5e4bce(0x3f2)}),_0x49710 instanceof Error?_0x49710[_0x5e4bce(0x96c)]:_0x5e4bce(0x3f2);}}};}(_0x52f1e9,_0x5543ac,_0x43ea27,_0x5760e0['id'],_0x1dd3cc);case _0x2c8280[_0x45532f(0x91f)]:return function(_0x288141,_0x3a5442,_0x2d030b,_0x281e81,_0x64115c,_0x363389,_0x410374){const _0x2858e4=_0x45532f,_0xaeb5b9='Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x4ed5e6={'query':{'type':_0x4f9f07[_0x2858e4(0x624)][_0x2858e4(0x76f)]}};return _0x4ec783[_0x2858e4(0x4b1)]({'jobType':_0x141b4a['JobContext'],'type':_0x25a074[_0x2858e4(0x600)],'jobId':_0x288141,'agentId':_0x3a5442,'threadId':_0x2d030b,'traceLevel':_0x460698[_0x2858e4(0x180)],'startTime':Date[_0x2858e4(0x1d5)](),'timestamp':Date[_0x2858e4(0x1d5)](),'status':_0x2858e4(0x823),'function':_0x536b0f[_0x2858e4(0x752)],'params':_0x4ed5e6,'functionDescription':_0xaeb5b9}),{'description':_0xaeb5b9,'params':_0x4ed5e6,'callback':async _0x3e6de6=>{const _0x4feaa6=_0x2858e4,_0x458634=Date[_0x4feaa6(0x1d5)]();try{if(_0x410374&&(await _0x524332[_0x4feaa6(0x70b)](0x1),_0x410374['emit']({'output':'\x0a\x0a`Searching\x20on\x20Google\x20for\x20'+_0x3e6de6?.[_0x4feaa6(0x5eb)]+'`\x0a\x0a','type':_0x4feaa6(0x563)})),!_0x363389[_0x4feaa6(0x598)])throw new Error(_0x4feaa6(0x9a0));if(_0x4feaa6(0xf8)!=typeof _0x3e6de6?.[_0x4feaa6(0x5eb)])throw new Error(_0x4feaa6(0x8f8));const _0x588b05=await _0x363389['searchConnector'][_0x4feaa6(0x1da)](_0x3e6de6['query'],_0x64115c,_0x152c14[_0x4feaa6(0x7c0)][_0x4feaa6(0x9d4)]);let _0x2e420e='';for(const _0x54cdc1 of _0x588b05)_0x2e420e+=_0x54cdc1['title']+'\x20-\x20'+_0x54cdc1[_0x4feaa6(0x990)]+'\x0a'+_0x54cdc1[_0x4feaa6(0x504)]+'\x0a\x0a';return _0x4ec783[_0x4feaa6(0x4b1)]({'jobType':_0x141b4a[_0x4feaa6(0x6aa)],'type':_0x536b0f[_0x4feaa6(0x752)],'jobId':_0x288141,'agentId':_0x3a5442,'threadId':_0x2d030b,'blockId':_0x281e81,'traceLevel':_0x460698['Info'],'startTime':_0x458634,'timestamp':Date[_0x4feaa6(0x1d5)](),'status':_0x4feaa6(0x823),'query':_0x3e6de6[_0x4feaa6(0x5eb)],'results':_0x2e420e}),_0x2e420e;}catch(_0x7ffb64){return console[_0x4feaa6(0x657)](_0x7ffb64),_0x4ec783['trace']({'jobType':_0x141b4a[_0x4feaa6(0x6aa)],'type':_0x536b0f[_0x4feaa6(0x752)],'jobId':_0x288141,'blockId':_0x281e81,'traceLevel':_0x460698[_0x4feaa6(0x180)],'startTime':_0x458634,'timestamp':Date[_0x4feaa6(0x1d5)](),'status':_0x4feaa6(0x657),'errorDetails':_0xd9bc87(_0x7ffb64),'agentId':_0x3a5442,'threadId':_0x2d030b,'query':_0x3e6de6?.[_0x4feaa6(0x5eb)]??'','results':_0x4feaa6(0x741)}),_0x7ffb64 instanceof Error?_0x7ffb64['message']:'Error\x20searching';}}};}(_0x52f1e9,_0x5543ac,_0x43ea27,_0x5760e0['id'],_0x3b6d66[_0x45532f(0x7f6)],_0x3b6d66,_0x1dd3cc);case _0x2c8280[_0x45532f(0x131)]:return _0xf1ddcb(_0x52f1e9,_0x5543ac,_0x43ea27,_0x5760e0['id'],_0x1dd3cc);case _0x2c8280[_0x45532f(0x90a)]:return _0xf1ddcb(_0x52f1e9,_0x5543ac,_0x43ea27,_0x5760e0['id'],_0x1dd3cc,!0x1);}throw new Error(_0x45532f(0x388));}function _0xf1ddcb(_0x229988,_0x1499b1,_0x1e4f62,_0x542d01,_0x220ccb,_0x40cf5d=!0x0){const _0x103c5d=_0x1833fc,_0x5c48a1=_0x103c5d(0x76a),_0x393904={'url':{'type':_0x4f9f07[_0x103c5d(0x624)]['String']},'page':{'type':_0x4f9f07[_0x103c5d(0x624)][_0x103c5d(0x522)]}};return _0x4ec783['trace']({'jobType':_0x141b4a[_0x103c5d(0x6bb)],'type':_0x25a074[_0x103c5d(0x600)],'jobId':_0x229988,'agentId':_0x1499b1,'threadId':_0x1e4f62,'traceLevel':_0x460698[_0x103c5d(0x180)],'startTime':Date[_0x103c5d(0x1d5)](),'timestamp':Date['now'](),'status':_0x103c5d(0x823),'function':_0x536b0f[_0x103c5d(0x1b0)],'params':_0x393904,'functionDescription':_0x5c48a1}),{'description':_0x5c48a1,'params':_0x393904,'callback':async _0x687190=>{const _0x1a2e78=_0x103c5d,_0x4a508e=Date[_0x1a2e78(0x1d5)]();try{if(_0x220ccb&&(await _0x524332['wait'](0x1),_0x220ccb['emit']({'output':_0x1a2e78(0x4da)+_0x687190?.[_0x1a2e78(0x990)]+'`\x0a\x0a','type':'prompt'})),'string'!=typeof _0x687190?.[_0x1a2e78(0x990)])throw new Error('URL\x20is\x20required');const _0x3ba940=await fetch(_0x687190[_0x1a2e78(0x990)]),_0x5c61c5=await _0x3ba940['text']();let _0x36d623=_0x5c61c5;if(_0x40cf5d){const _0x9a94f7=_0x5c61c5[_0x1a2e78(0x1b3)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x272ca6=_0x9a94f7?_0x9a94f7[0x1]:_0x5c61c5,_0x4aa4a5=_0x272ca6[_0x1a2e78(0x996)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x1a2e78(0x996)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x1a2e78(0x996)](/<br\s*\/?>/gi,'\x20')[_0x1a2e78(0x996)](/&nbsp;/g,'\x20');_0x36d623=_0x4aa4a5[_0x1a2e78(0x996)](/<\/?[^>]+(>|$)/g,'')[_0x1a2e78(0x996)](/\s\s+/g,'\x20')[_0x1a2e78(0x3e0)]();}const _0x1bc50f=_0x1a2e78(0x16f)==typeof _0x687190[_0x1a2e78(0x71c)]?_0x687190['page']:0x1,_0x37dfd9=Math[_0x1a2e78(0x443)](_0x36d623['length']/_0x36a355);return _0x36d623[_0x1a2e78(0x5af)]>_0x36a355&&(_0x36d623=_0x36d623[_0x1a2e78(0x396)]((_0x1bc50f-0x1)*_0x36a355,(_0x1bc50f-0x1)*_0x36a355+_0x36a355)+_0x1a2e78(0xe4)+(_0x1bc50f+0x1)+_0x1a2e78(0x666)+_0x37dfd9+'.'),_0x4ec783[_0x1a2e78(0x4b1)]({'jobType':_0x141b4a[_0x1a2e78(0x6aa)],'type':_0x536b0f['FetchUrl'],'jobId':_0x229988,'agentId':_0x1499b1,'threadId':_0x1e4f62,'blockId':_0x542d01,'traceLevel':_0x460698['Info'],'startTime':_0x4a508e,'timestamp':Date[_0x1a2e78(0x1d5)](),'status':_0x3ba940['ok']?_0x1a2e78(0x823):_0x1a2e78(0x657),'url':_0x687190[_0x1a2e78(0x990)],'page':_0x1bc50f,'totalPages':_0x37dfd9,'response':_0x36d623}),_0x36d623;}catch(_0x1bf043){console['error'](_0x1bf043);const _0x34dcb6=_0x1bf043 instanceof Error?_0x1bf043[_0x1a2e78(0x96c)]:_0x1a2e78(0x966);return _0x4ec783[_0x1a2e78(0x4b1)]({'jobType':_0x141b4a[_0x1a2e78(0x6aa)],'type':_0x536b0f['FetchUrl'],'jobId':_0x229988,'blockId':_0x542d01,'threadId':_0x1e4f62,'traceLevel':_0x460698['Info'],'startTime':_0x4a508e,'timestamp':Date[_0x1a2e78(0x1d5)](),'agentId':_0x1499b1,'status':_0x1a2e78(0x657),'errorDetails':_0xd9bc87(_0x1bf043),'url':_0x687190?.[_0x1a2e78(0x990)]??'','page':0x0,'totalPages':0x0,'response':_0x34dcb6}),_0x34dcb6;}}};}function _0x5612c1(_0x590347,_0x2ad153,_0x3e5e11,_0x8a41e8,_0xa37777,_0x2303dd){const _0x40c3ea=_0x1833fc,_0x2a78d9={};for(const _0x28e9d3 of _0x8a41e8[_0x40c3ea(0x3d1)])switch(_0x28e9d3['type']){case _0x40c3ea(0xf8):case _0x40c3ea(0x841):_0x2a78d9[_0x28e9d3[_0x40c3ea(0x3cd)]]={'type':_0x4f9f07[_0x40c3ea(0x624)]['String']};break;case _0x40c3ea(0x16f):_0x2a78d9[_0x28e9d3[_0x40c3ea(0x3cd)]]={'type':_0x4f9f07['PromptFunctionParamsType'][_0x40c3ea(0x522)]};break;case _0x40c3ea(0x5ff):_0x2a78d9[_0x28e9d3[_0x40c3ea(0x3cd)]]={'type':_0x4f9f07[_0x40c3ea(0x624)]['Boolean']};}return _0x4ec783[_0x40c3ea(0x4b1)]({'jobType':_0x141b4a['JobContext'],'type':_0x25a074[_0x40c3ea(0x600)],'jobId':_0x590347,'agentId':_0x2ad153,'threadId':_0x3e5e11,'traceLevel':_0x460698[_0x40c3ea(0x180)],'startTime':Date[_0x40c3ea(0x1d5)](),'timestamp':Date[_0x40c3ea(0x1d5)](),'status':_0x40c3ea(0x823),'function':_0x536b0f[_0x40c3ea(0x46e)],'params':_0x2a78d9,'functionDescription':_0x8a41e8[_0x40c3ea(0x7ed)]}),{'description':_0x40c3ea(0x203)+_0x8a41e8['description'],'params':_0x2a78d9,'callback':async _0x2367e5=>{const _0x389f0d=_0x40c3ea,_0x157e55=Date[_0x389f0d(0x1d5)]();try{if(_0x2303dd&&(await _0x524332[_0x389f0d(0x70b)](0x1),_0x2303dd[_0x389f0d(0x67c)]({'output':_0x389f0d(0x6bc)+_0x8a41e8[_0x389f0d(0x3cd)]+_0x389f0d(0x967),'type':_0x389f0d(0x563)})),!_0x2367e5)throw new Error(_0x389f0d(0x419));for(const _0x2fd84b of _0x8a41e8[_0x389f0d(0x3d1)]){if(void 0x0===_0x2367e5[_0x2fd84b[_0x389f0d(0x3cd)]])throw new Error(_0x389f0d(0x3ab)+_0x2fd84b[_0x389f0d(0x3cd)]+'\x20is\x20required');if(_0x389f0d(0xf8)===_0x2fd84b[_0x389f0d(0x339)]&&'string'!=typeof _0x2367e5[_0x2fd84b['name']])throw new Error('Parameter\x20'+_0x2fd84b[_0x389f0d(0x3cd)]+_0x389f0d(0x73b));if('number'===_0x2fd84b['type']&&'number'!=typeof _0x2367e5[_0x2fd84b['name']])throw new Error(_0x389f0d(0x3ab)+_0x2fd84b[_0x389f0d(0x3cd)]+_0x389f0d(0x709));if(_0x389f0d(0x5ff)===_0x2fd84b['type']&&'boolean'!=typeof _0x2367e5[_0x2fd84b[_0x389f0d(0x3cd)]])throw new Error('Parameter\x20'+_0x2fd84b[_0x389f0d(0x3cd)]+'\x20must\x20be\x20a\x20boolean');if(_0x389f0d(0x841)===_0x2fd84b[_0x389f0d(0x339)]&&_0x389f0d(0xf8)!=typeof _0x2367e5[_0x2fd84b[_0x389f0d(0x3cd)]])throw new Error('Parameter\x20'+_0x2fd84b['name']+_0x389f0d(0x73b));if(_0x389f0d(0x841)===_0x2fd84b[_0x389f0d(0x339)])try{_0x2367e5[_0x2fd84b[_0x389f0d(0x3cd)]]=JSON[_0x389f0d(0x85f)](_0x2367e5[_0x2fd84b[_0x389f0d(0x3cd)]]);}catch{throw new Error(_0x389f0d(0x3ab)+_0x2fd84b[_0x389f0d(0x3cd)]+_0x389f0d(0xee));}}const _0x29eea5={};for(const _0x4c0a8e of _0x8a41e8[_0x389f0d(0x37c)]){let _0x57b9a1=_0x4c0a8e[_0x389f0d(0x962)];_0x57b9a1[_0x389f0d(0x1b3)](/\$[a-zA-Z0-9]+/)&&(_0x57b9a1=_0x57b9a1['replace'](/\$[a-zA-Z0-9]+/g,_0x172dae=>{const _0x35f7ca=_0x389f0d,_0x9fa705=_0x172dae[_0x35f7ca(0x209)](0x1);return _0x2367e5[_0x9fa705];})),_0x29eea5[_0x4c0a8e['name']]=_0x57b9a1;}const _0x5c024f=new URLSearchParams();for(const _0x27134c of _0x8a41e8['queryParameters']){let _0x4456dd=_0x27134c[_0x389f0d(0x962)];if(_0x389f0d(0xf8)==typeof _0x4456dd&&_0x4456dd[_0x389f0d(0x51c)]('$')){const _0x8a303c=_0x4456dd[_0x389f0d(0x209)](0x1);_0x4456dd=_0x2367e5[_0x8a303c];}if(_0x389f0d(0xf8)==typeof _0x4456dd&&_0x4456dd[_0x389f0d(0x51c)](_0x389f0d(0x929))){const _0x59b851=_0x4456dd[_0x389f0d(0x996)](_0x389f0d(0x929),'');if(_0x8a41e8[_0x389f0d(0x713)],_0x4456dd=_0x8a41e8[_0x389f0d(0x713)]?.['context']?.[_0x59b851],_0x389f0d(0xf8)==typeof _0x4456dd&&_0x4456dd['startsWith']('{')&&_0x4456dd[_0x389f0d(0x78f)]('}'))try{_0x4456dd=JSON['parse'](_0x4456dd);}catch{}}'string'==typeof _0x4456dd&&_0x4456dd['startsWith']('[')&&_0x4456dd[_0x389f0d(0x78f)](']')&&(_0x4456dd=_0x4456dd[_0x389f0d(0x209)](0x1,-0x1)['split'](',')),_0x5c024f[_0x389f0d(0x223)](_0x27134c[_0x389f0d(0x3cd)],_0x4456dd);}let _0x27924b=_0x8a41e8[_0x389f0d(0x4d5)];_0x5c024f[_0x389f0d(0x813)]>0x0&&(_0x27924b+='?'+_0x5c024f[_0x389f0d(0x687)]());let _0x5a1739={};for(const _0x55b6c0 of _0x8a41e8['bodyParameters']){let _0x55d6d9=_0x55b6c0['value'];if('string'==typeof _0x55d6d9&&_0x55d6d9['startsWith']('$')){const _0x21928e=_0x55d6d9[_0x389f0d(0x209)](0x1);_0x55d6d9=_0x2367e5[_0x21928e];}if('string'==typeof _0x55d6d9&&_0x55d6d9[_0x389f0d(0x51c)](_0x389f0d(0x929))){const _0x44b7d8=_0x55d6d9[_0x389f0d(0x996)](_0x389f0d(0x929),'');if(_0x55d6d9=_0x8a41e8[_0x389f0d(0x713)]?.[_0x389f0d(0x15c)]?.[_0x44b7d8],_0x389f0d(0xf8)==typeof _0x55d6d9&&_0x55d6d9[_0x389f0d(0x51c)]('{')&&_0x55d6d9[_0x389f0d(0x78f)]('}'))try{_0x55d6d9=JSON[_0x389f0d(0x85f)](_0x55d6d9);}catch{}}if(_0x389f0d(0xf8)==typeof _0x55d6d9&&_0x55d6d9[_0x389f0d(0x51c)]('[')&&_0x55d6d9[_0x389f0d(0x78f)](']')&&(_0x55d6d9=_0x55d6d9[_0x389f0d(0x209)](0x1,-0x1)[_0x389f0d(0x6ca)](',')),_0x389f0d(0x13c)===_0x55b6c0['name']){const _0x1a9e83=_0x55d6d9[_0x389f0d(0x1b3)](/```html(.*)```/s);_0x1a9e83&&(_0x55d6d9=_0x1a9e83[0x1]),_0x55d6d9=_0x55d6d9[_0x389f0d(0x996)](/\n/g,''),_0x55d6d9=_0x55d6d9[_0x389f0d(0x996)](/'/g,'\x22'),_0x5a1739=_0x55d6d9;break;}if(-0x1===_0x55b6c0[_0x389f0d(0x3cd)][_0x389f0d(0x1fe)]('.'))_0x5a1739[_0x55b6c0[_0x389f0d(0x3cd)]]=_0x55d6d9;else{const [_0x19507a,_0x48cfe9]=_0x55b6c0[_0x389f0d(0x3cd)][_0x389f0d(0x6ca)]('.');_0x5a1739[_0x19507a]||(_0x5a1739[_0x19507a]={}),_0x5a1739[_0x19507a][_0x48cfe9]=_0x55d6d9;}}const _0x2af1c4=await fetch(_0x27924b,{'method':_0x8a41e8[_0x389f0d(0x485)],'headers':_0x29eea5,'body':_0x389f0d(0xf8)==typeof _0x5a1739?_0x5a1739:JSON[_0x389f0d(0x33b)](_0x5a1739)});if(_0x2af1c4['ok']){let _0x453170=await _0x2af1c4[_0x389f0d(0x841)]();return _0x8a41e8[_0x389f0d(0x45e)]&&(_0x453170=await function(_0x44ab6d,_0x22d395){return new Promise((_0x12f5a9,_0x238cc5)=>{const _0x2cc423=a0_0x17c7,_0x3ec45e=_0x524332[_0x2cc423(0x882)](async()=>{const _0x1828d7=_0x2cc423;try{if(!_0x44ab6d[_0x1828d7(0x21d)]||!_0x44ab6d[_0x1828d7(0x49a)])throw new Error(_0x1828d7(0x86f));const _0x170654={};if(_0x44ab6d[_0x1828d7(0x5d5)]){for(const _0x49f774 of _0x44ab6d[_0x1828d7(0x5d5)])_0x170654[_0x49f774['name']]=_0x49f774[_0x1828d7(0x962)];}const _0x1333cc=_0x44ab6d[_0x1828d7(0x21d)][_0x1828d7(0x996)](_0x1828d7(0x1c7),_0x22d395),_0x206997=await fetch(_0x1333cc,{'method':_0x44ab6d['asyncEndpointMethod'],'headers':_0x170654});if(0xc8===_0x206997[_0x1828d7(0x599)]){const _0x53de9e=await _0x206997['json']();_0x3ec45e(),_0x12f5a9(_0x53de9e);}_0x206997[_0x1828d7(0x599)]>=0x190&&(console[_0x1828d7(0x657)](_0x206997[_0x1828d7(0x9d3)]),_0x3ec45e(),_0x238cc5(new Error(_0x206997[_0x1828d7(0x9d3)])));}catch(_0x103cbf){console[_0x1828d7(0x657)](_0x103cbf),_0x3ec45e(),_0x238cc5(_0x103cbf);}},_0x2638cd);});}(_0x8a41e8,_0x453170['id'])),_0x8a41e8[_0x389f0d(0x7c2)]?.[_0x389f0d(0x480)](_0x136440=>_0x136440[_0x389f0d(0x339)]===_0x5c20a2['Context'])?(_0x6fa05b(_0x453170,_0x8a41e8,_0xa37777),_0x389f0d(0x735)):(_0x4ec783['trace']({'jobType':_0x141b4a[_0x389f0d(0x6aa)],'type':_0x536b0f[_0x389f0d(0x46e)],'jobId':_0x590347,'agentId':_0x2ad153,'threadId':_0x3e5e11,'blockId':_0x8a41e8['id'],'traceLevel':_0x460698[_0x389f0d(0x180)],'startTime':_0x157e55,'timestamp':Date['now'](),'status':_0x389f0d(0x823),'skillName':_0x8a41e8[_0x389f0d(0x3cd)],'params':_0x2367e5,'result':_0x453170}),_0x453170);}throw new Error(_0x2af1c4[_0x389f0d(0x9d3)]);}catch(_0x3226f5){console[_0x389f0d(0x657)](_0x3226f5);const _0x505b50=_0x3226f5 instanceof Error?_0x3226f5[_0x389f0d(0x96c)]:_0x389f0d(0x966);return _0x4ec783[_0x389f0d(0x4b1)]({'jobType':_0x141b4a[_0x389f0d(0x6aa)],'type':_0x536b0f['ExecuteCustomSkill'],'jobId':_0x590347,'blockId':_0x8a41e8['id'],'threadId':_0x3e5e11,'traceLevel':_0x460698[_0x389f0d(0x180)],'startTime':_0x157e55,'timestamp':Date['now'](),'agentId':_0x2ad153,'status':'error','skillName':_0x8a41e8[_0x389f0d(0x3cd)],'params':_0x2367e5??{},'result':_0x505b50}),_0x505b50;}}};}function _0xd9bc87(_0x47ef2d){const _0x56946a=_0x1833fc;try{return JSON[_0x56946a(0x33b)](_0x47ef2d);}catch(_0x4264c1){return _0x47ef2d instanceof Error?_0x47ef2d[_0x56946a(0x687)]():_0x56946a(0x238);}}async function _0xf42c43(_0x2e2c1b,_0x33e91f,_0x3d88d8,_0x5d5a4f,_0x25006f,_0x821639,_0x3f315e,_0x354fb0,_0x476e29){const _0x358584=_0x1833fc;if(_0x821639[_0x358584(0x713)]||(_0x821639[_0x358584(0x713)]={}),_0x33e91f===_0x5c20a2[_0x358584(0x66a)]&&_0x358584(0xf8)==typeof _0x3d88d8&&(_0x821639['accumulated'][_0x358584(0x563)]=_0x3d88d8),_0x821639['timesCalled']=_0x821639[_0x358584(0x541)]?_0x821639[_0x358584(0x541)]+0x1:0x1,_0x24a93a(_0x821639,_0x3f315e)>_0x821639[_0x358584(0x541)])return;if(_0x380207[_0x358584(0x2cc)](_0x358584(0x17a)+_0x821639['name'],_0x821639[_0x358584(0x541)]),!_0x821639[_0x358584(0x713)][_0x358584(0x563)])throw new Error(_0x358584(0x20b)+_0x821639['name']);const _0x7b23b9=_0x354fb0[_0x358584(0x751)][_0x358584(0x33e)](_0x5c3c42=>_0x5c3c42['id']===_0x821639[_0x358584(0x8a8)]);if(!_0x7b23b9)throw new Error('Model\x20not\x20found');if(!_0x354fb0[_0x358584(0x936)]['find'](_0x6ea4d1=>_0x6ea4d1['getEngineType']()===_0x7b23b9[_0x358584(0x6a8)]))throw new Error(_0x358584(0x65a));_0x476e29&&_0x476e29[_0x358584(0x67c)]({'output':_0x358584(0x5d8)+_0x821639[_0x358584(0x3cd)]+_0x358584(0x967),'type':_0x358584(0x563)});const _0x180c12=Date[_0x358584(0x1d5)](),_0x24e585=(0x0,_0x6e2c44['v4'])(),_0x27ce48=_0x476e29?await async function(_0x275e77,_0x5f0db2,_0x2fed2f,_0x56a81c,_0x72d1ff,_0x4cafec,_0x167ec9,_0xdf2c3c){const _0x4ec1ea=_0x358584,_0x19c672=_0xdf2c3c[_0x4ec1ea(0x751)][_0x4ec1ea(0x33e)](_0x26467e=>_0x26467e['id']===_0x72d1ff['modelId']);if(!_0x19c672)throw new Error('Model\x20not\x20found');const _0x1f317e=_0xdf2c3c['generativeAIWorkerConnectors'][_0x4ec1ea(0x33e)](_0x32fd1d=>_0x32fd1d[_0x4ec1ea(0x144)]()===_0x19c672[_0x4ec1ea(0x6a8)]);if(!_0x1f317e)throw new Error(_0x4ec1ea(0x65a));if(!_0x72d1ff[_0x4ec1ea(0x713)]||!_0x72d1ff[_0x4ec1ea(0x713)][_0x4ec1ea(0x563)])throw new Error(_0x4ec1ea(0x791));let _0xef2835=_0x72d1ff[_0x4ec1ea(0x713)][_0x4ec1ea(0x563)];if(_0x72d1ff[_0x4ec1ea(0x713)]['context'])for(const _0x55d31f of Object['keys'](_0x72d1ff[_0x4ec1ea(0x713)][_0x4ec1ea(0x15c)])){const _0x5174c7=_0x72d1ff[_0x4ec1ea(0x713)]['context'][_0x55d31f];_0xef2835=_0x5174c7 instanceof Array?_0x4ec1ea(0x567)+_0x55d31f+_0x4ec1ea(0x2e1)+_0x5174c7[_0x4ec1ea(0x84d)](_0x1afabf=>_0x4ec1ea(0x12c)+_0x1afabf[_0x4ec1ea(0x33a)]+':\x20'+_0x1afabf[_0x4ec1ea(0x3ff)])[_0x4ec1ea(0x784)]('\x0a\x0a')+'\x0a\x0a'+_0xef2835:_0x4ec1ea(0x868)+_0x55d31f+':\x20'+_0x5174c7+'\x0a\x0a'+_0xef2835;}const _0x4db4f3={'type':'prompt','output':''};for await(const _0x1b5dd6 of _0x1f317e[_0x4ec1ea(0x547)]({'type':_0x2fed2f[_0x4ec1ea(0x339)],'prompt':_0xef2835,'instructions':''+_0x72d1ff['instructions']+(_0x2fed2f[_0x4ec1ea(0x231)]??''),'grammar':_0x72d1ff['grammar'],'temperature':_0x72d1ff['temperature'],'maxTokens':_0x72d1ff[_0x4ec1ea(0x604)],'history':_0x2fed2f[_0x4ec1ea(0x89b)],'functions':_0x1e8b18(_0x275e77,_0x5f0db2,_0x2fed2f[_0x4ec1ea(0x869)],_0x56a81c,_0x72d1ff,_0x4cafec,_0xdf2c3c,_0x167ec9),'threadId':_0x2fed2f[_0x4ec1ea(0x869)]},{'model':_0x19c672}))_0x72d1ff[_0x4ec1ea(0x7c2)]&&_0x72d1ff[_0x4ec1ea(0x7c2)][_0x4ec1ea(0x480)](_0xa7eac3=>{const _0x2af7d7=_0x4ec1ea,_0x10740a=_0x4cafec['find'](_0x25af13=>_0x25af13[_0x2af7d7(0x1d7)]===_0xa7eac3['uid']);return!!_0x10740a&&_0x10740a[_0x2af7d7(0x339)]===_0x2c8280[_0x2af7d7(0x57c)];})&&_0x167ec9[_0x4ec1ea(0x67c)](_0x1b5dd6),'string'==typeof _0x4db4f3[_0x4ec1ea(0x922)]&&_0x4ec1ea(0xf8)==typeof _0x1b5dd6[_0x4ec1ea(0x922)]&&(_0x4db4f3['output']+=_0x1b5dd6['output']),_0x4db4f3[_0x4ec1ea(0x198)]=_0x1b5dd6[_0x4ec1ea(0x198)],_0x4db4f3[_0x4ec1ea(0x805)]=_0x1b5dd6[_0x4ec1ea(0x805)];return _0x4db4f3;}(_0x2e2c1b,_0x24e585,_0x5d5a4f,_0x25006f,_0x821639,_0x3f315e,_0x476e29,_0x354fb0):await async function(_0x39d66f,_0x361e3d,_0x4cfa8c,_0x2c4f11,_0x3fc22d,_0x242519,_0xafa016){const _0x42beec=_0x358584,_0x52c9f5=_0xafa016['models'][_0x42beec(0x33e)](_0xeb9c10=>_0xeb9c10['id']===_0x3fc22d[_0x42beec(0x8a8)]);if(!_0x52c9f5)throw new Error('Model\x20not\x20found');const _0x46aa6f=_0xafa016[_0x42beec(0x936)][_0x42beec(0x33e)](_0x3bcffa=>_0x3bcffa[_0x42beec(0x144)]()===_0x52c9f5[_0x42beec(0x6a8)]);if(!_0x46aa6f)throw new Error(_0x42beec(0x65a));if(!_0x3fc22d['accumulated']||!_0x3fc22d[_0x42beec(0x713)][_0x42beec(0x563)])throw new Error(_0x42beec(0x791));let _0x13a07b=_0x3fc22d['accumulated'][_0x42beec(0x563)];if(_0x3fc22d[_0x42beec(0x713)][_0x42beec(0x15c)])for(const _0x4a3bfd of Object[_0x42beec(0x727)](_0x3fc22d[_0x42beec(0x713)][_0x42beec(0x15c)])){const _0x4ba338=_0x3fc22d['accumulated'][_0x42beec(0x15c)][_0x4a3bfd];_0x13a07b=_0x4ba338 instanceof Array?_0x42beec(0x567)+_0x4a3bfd+':\x0a\x0a'+_0x4ba338['map'](_0x75ced3=>_0x42beec(0x12c)+_0x75ced3[_0x42beec(0x33a)]+':\x20'+_0x75ced3[_0x42beec(0x3ff)])[_0x42beec(0x784)]('\x0a\x0a')+'\x0a\x0a'+_0x13a07b:_0x42beec(0x868)+_0x4a3bfd+':\x20'+_0x4ba338+'\x0a\x0a'+_0x13a07b;}return _0x46aa6f[_0x42beec(0x346)]({'type':_0x42beec(0x563),'prompt':_0x3fc22d[_0x42beec(0x713)][_0x42beec(0x563)],'instructions':''+_0x3fc22d['instructions']+(_0x4cfa8c['instructions']??''),'grammar':_0x3fc22d[_0x42beec(0x418)],'temperature':_0x3fc22d[_0x42beec(0x22e)],'maxTokens':_0x3fc22d[_0x42beec(0x604)],'history':_0x4cfa8c[_0x42beec(0x89b)],'functions':_0x1e8b18(_0x39d66f,_0x361e3d,_0x4cfa8c[_0x42beec(0x869)],_0x2c4f11,_0x3fc22d,_0x242519,_0xafa016),'threadId':_0x4cfa8c[_0x42beec(0x869)]},{'model':_0x52c9f5});}(_0x2e2c1b,_0x24e585,_0x5d5a4f,_0x25006f,_0x821639,_0x3f315e,_0x354fb0);if('string'!=typeof _0x27ce48[_0x358584(0x922)])throw new Error(_0x358584(0x41f));_0x25006f[_0x358584(0x198)]+=_0x27ce48[_0x358584(0x198)]??0x0,_0x25006f[_0x358584(0x805)]+=_0x27ce48[_0x358584(0x805)]??0x0,_0x4ec783[_0x358584(0x4b1)]({'jobType':_0x141b4a[_0x358584(0x8e2)],'type':_0x4dde6f[_0x358584(0x376)],'jobId':_0x2e2c1b,'agentId':_0x24e585,'threadId':_0x5d5a4f[_0x358584(0x869)],'traceLevel':_0x460698['Info'],'startTime':_0x180c12,'timestamp':Date['now'](),'blockId':_0x821639['id'],'status':_0x358584(0x823),'output':_0x27ce48[_0x358584(0x922)],'prompt':_0x821639[_0x358584(0x713)][_0x358584(0x563)],'agentName':_0x821639[_0x358584(0x3cd)],'history':[],'instructions':''+_0x821639[_0x358584(0x231)]+(_0x5d5a4f[_0x358584(0x231)]??''),'ragContext':_0x27ce48['context']??[],'inputTokens':_0x27ce48[_0x358584(0x198)]??0x0,'outputTokens':_0x27ce48[_0x358584(0x805)]??0x0}),_0x6fa05b(_0x27ce48[_0x358584(0x922)],_0x821639,_0x3f315e),await _0x57082f(_0x2e2c1b,_0x27ce48[_0x358584(0x922)],_0x5d5a4f,_0x25006f,_0x821639,_0x3f315e,_0x354fb0,_0x476e29);}function _0xf9960c(_0xab6165,_0x4a975c,_0xbeeaef){const _0x360ce4=_0x1833fc;_0xbeeaef[_0x360ce4(0x713)]||(_0xbeeaef['accumulated']={}),_0xbeeaef[_0x360ce4(0x713)][_0x360ce4(0x15c)]||(_0xbeeaef[_0x360ce4(0x713)][_0x360ce4(0x15c)]={});const _0x295f19=_0xbeeaef['contextInputVariable']?.['split'](',');_0x295f19&&_0x295f19[_0x360ce4(0x778)](_0xab6165)&&(_0xbeeaef[_0x360ce4(0x713)][_0x360ce4(0x15c)][_0xab6165]=_0x4a975c);}function _0x1937fa(_0x16c12a,_0x4f8db6,_0x14e2f6,_0x25dd2d){const _0x4d50f8=_0x1833fc;_0x16c12a===_0x5c20a2['Context']&&(_0x25dd2d['accumulated']||(_0x25dd2d[_0x4d50f8(0x713)]={}),_0x25dd2d[_0x4d50f8(0x713)][_0x4d50f8(0x15c)]||(_0x25dd2d[_0x4d50f8(0x713)][_0x4d50f8(0x15c)]={}),_0x25dd2d['accumulated']['context'][_0x4f8db6]=_0x14e2f6);}async function _0x5b3ed7(_0x29a08f,_0x4ea641,_0x117f3d,_0x2b02d7,_0x551b7e,_0x4eaeac,_0x3c9887,_0x1a9ad0){const _0x374e5f=function(_0x5353a8,_0x38d462){const _0x61ddba=a0_0x17c7,_0x306998=[];for(let _0x227cf4=0x0;_0x227cf4<_0x5353a8[_0x61ddba(0x5af)];_0x227cf4+=_0x38d462['attributes'][_0x61ddba(0x813)]){let _0xace5e2=_0x227cf4-_0x38d462[_0x61ddba(0x905)][_0x61ddba(0x2d1)];_0xace5e2<0x0&&(_0xace5e2=0x0);let _0x338dbc=_0x227cf4+_0x38d462[_0x61ddba(0x905)][_0x61ddba(0x813)]+_0x38d462[_0x61ddba(0x905)]['overlap'];_0x338dbc>_0x5353a8['length']&&(_0x338dbc=_0x5353a8[_0x61ddba(0x5af)]),length||(length=_0x227cf4+_0x38d462[_0x61ddba(0x905)]['size'],length>_0x5353a8['length']&&(length=_0x5353a8[_0x61ddba(0x5af)])),_0x306998[_0x61ddba(0x5ed)](_0x5353a8['substring'](_0xace5e2,_0x338dbc));}return _0x306998;}(_0x4ea641,_0x551b7e);await _0x57082f(_0x29a08f,_0x374e5f,_0x117f3d,_0x2b02d7,_0x551b7e,_0x4eaeac,_0x3c9887,_0x1a9ad0);}function _0x37e950(_0x289584,_0x570f8b,_0x192386){const _0x4e03ba=_0x1833fc;_0x192386[_0x4e03ba(0x713)]||(_0x192386[_0x4e03ba(0x713)]={}),_0x192386[_0x4e03ba(0x713)][_0x4e03ba(0x15c)]||(_0x192386['accumulated']['context']={}),_0x192386[_0x4e03ba(0x713)][_0x4e03ba(0x15c)][_0x289584]=_0x570f8b;}async function _0x3f2c54(_0x1ee934,_0x168f87,_0x4e9f33,_0x3790ae,_0x334c2c,_0x371449,_0x4cbd66,_0x4d131d){const _0x267bee=_0x1833fc;if(_0x334c2c['accumulated']||(_0x334c2c['accumulated']={}),_0x334c2c[_0x267bee(0x713)][_0x267bee(0x97c)]||(_0x334c2c['accumulated'][_0x267bee(0x97c)]=[]),_0x168f87 instanceof Array?_0x334c2c[_0x267bee(0x713)][_0x267bee(0x97c)][_0x267bee(0x5ed)](..._0x168f87):_0x334c2c[_0x267bee(0x713)][_0x267bee(0x97c)][_0x267bee(0x5ed)](_0x168f87),_0x334c2c[_0x267bee(0x541)]=_0x334c2c['timesCalled']?_0x334c2c['timesCalled']+0x1:0x1,_0x24a93a(_0x334c2c,_0x371449)>_0x334c2c[_0x267bee(0x541)])return;if(0x0===_0x334c2c[_0x267bee(0x713)][_0x267bee(0x97c)][_0x267bee(0x5af)])throw new Error(_0x267bee(0x2ed));let _0x32d452=[];const _0x2384b6=Date[_0x267bee(0x1d5)]();try{let _0x456f46=0x0,_0x4bf640=0x0;for(const _0x1f9537 of _0x334c2c[_0x267bee(0x713)][_0x267bee(0x97c)]){const _0x327456=_0x334c2c[_0x267bee(0x3b0)][_0x267bee(0x33e)](_0xb1e3da=>_0xb1e3da[_0x267bee(0x339)]===_0x446c71['Prompt']),_0x31373e=await _0x45951d(_0x1ee934,_0x4e9f33[_0x267bee(0x869)],_0x1f9537,_0x327456,_0x334c2c['retrieveBlocks'],_0x4cbd66);_0x32d452=Array[_0x267bee(0x5cf)](new Set([..._0x32d452,..._0x31373e['context']])),_0x456f46+=_0x31373e[_0x267bee(0x198)]??0x0,_0x4bf640+=_0x31373e[_0x267bee(0x805)]??0x0;}_0x3790ae[_0x267bee(0x198)]+=_0x456f46,_0x3790ae[_0x267bee(0x805)]+=_0x4bf640,_0x3790ae[_0x267bee(0x15c)]=Array['from'](new Set([..._0x3790ae[_0x267bee(0x15c)],..._0x32d452])),_0x4ec783[_0x267bee(0x4b1)]({'jobType':_0x141b4a[_0x267bee(0x8e2)],'type':_0x4dde6f['DataCollection'],'jobId':_0x1ee934,'threadId':_0x4e9f33['threadId'],'traceLevel':_0x460698[_0x267bee(0x180)],'startTime':_0x2384b6,'timestamp':Date[_0x267bee(0x1d5)](),'blockId':_0x334c2c['id'],'status':_0x267bee(0x823),'queries':_0x334c2c[_0x267bee(0x713)]['queries'],'context':_0x32d452,'inputTokens':_0x456f46,'outputTokens':_0x4bf640});}catch(_0x2ee8b8){console[_0x267bee(0x657)](_0x2ee8b8),_0x4ec783[_0x267bee(0x4b1)]({'jobType':_0x141b4a[_0x267bee(0x8e2)],'type':_0x4dde6f['DataCollection'],'jobId':_0x1ee934,'threadId':_0x4e9f33[_0x267bee(0x869)],'traceLevel':_0x460698['Info'],'startTime':_0x2384b6,'timestamp':Date['now'](),'blockId':_0x334c2c['id'],'status':_0x267bee(0x657),'queries':_0x334c2c[_0x267bee(0x713)][_0x267bee(0x97c)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x6fa05b(_0x32d452,_0x334c2c,_0x371449),await _0x57082f(_0x1ee934,_0x32d452,_0x4e9f33,_0x3790ae,_0x334c2c,_0x371449,_0x4cbd66,_0x4d131d);}async function _0x50405a(_0x2f2890,_0x447dd8,_0x2745a9,_0x23ab7b,_0x416ad3,_0x519634,_0x45213e,_0x1e6bd2){const _0x156200=_0x1833fc,_0xf53cde=await _0x45213e[_0x156200(0x678)][_0x156200(0x431)](_0x447dd8);await _0x57082f(_0x2f2890,_0xf53cde,_0x2745a9,_0x23ab7b,_0x416ad3,_0x519634,_0x45213e,_0x1e6bd2);}async function _0x585dc4(_0xdd46fe,_0x66b4c,_0x35760f,_0x17190d,_0x5118b3,_0x3a96fb,_0x51a095,_0x1ac066){const _0x19ae48=function(_0x4bb77e,_0x1e19d7){const _0x1add8c=a0_0x17c7,_0x3d85f7=[],_0x3b6d33=_0x4bb77e[_0x1add8c(0x6ca)]('\x20');let _0x451289='',_0xac054f=0x0,_0x2b3be9=0x0,_0xa988ab=0x0;for(const _0x1def01 of _0x3b6d33){if(_0x451289['length']+_0x1def01[_0x1add8c(0x5af)]>_0x1e19d7[_0x1add8c(0x905)]['size']){let _0x47be7f=_0xac054f,_0x43ad48='';for(;_0x47be7f>=0x0&&_0x43ad48[_0x1add8c(0x5af)]+_0x3b6d33[_0x47be7f]['length']<_0x1e19d7[_0x1add8c(0x905)][_0x1add8c(0x2d1)];)_0x43ad48=_0x3b6d33[_0x47be7f]+'\x20'+_0x43ad48,_0x47be7f--;let _0x5e57e5=_0x2b3be9,_0x11a3ab='';for(;_0x5e57e5<_0x3b6d33[_0x1add8c(0x5af)]&&_0x11a3ab[_0x1add8c(0x5af)]+_0x3b6d33[_0x5e57e5]['length']<_0x1e19d7[_0x1add8c(0x905)][_0x1add8c(0x2d1)];)_0x11a3ab+=_0x3b6d33[_0x5e57e5]+'\x20',_0x5e57e5++;_0x451289=_0x43ad48+_0x451289+_0x11a3ab,_0x3d85f7[_0x1add8c(0x5ed)](_0x451289['trim']()),_0x451289='',_0xac054f=_0x2b3be9;}_0x451289+=_0x1def01+'\x20',_0x2b3be9++,_0xa988ab+=_0x1def01[_0x1add8c(0x5af)]+0x1;}if(_0x451289['length']>0x0){let _0x37f1e7=_0xac054f,_0x1fbf91='';for(;_0x37f1e7>=0x0&&_0x1fbf91[_0x1add8c(0x5af)]+_0x3b6d33[_0x37f1e7][_0x1add8c(0x5af)]<_0x1e19d7['attributes'][_0x1add8c(0x2d1)];)_0x1fbf91=_0x3b6d33[_0x37f1e7]+'\x20'+_0x1fbf91,_0x37f1e7--;_0x451289=_0x1fbf91+_0x451289,_0x3d85f7['push'](_0x451289[_0x1add8c(0x3e0)]());}return _0x3d85f7;}(_0x66b4c,_0x5118b3);await _0x57082f(_0xdd46fe,_0x19ae48,_0x35760f,_0x17190d,_0x5118b3,_0x3a96fb,_0x51a095,_0x1ac066);}function _0x6fa05b(_0x31eb23,_0x5984a9,_0x16d182,_0x7e93c9){const _0x5dae46=_0x1833fc;if(_0x5984a9[_0x5dae46(0x7c2)])for(const _0x50ba59 of _0x5984a9[_0x5dae46(0x7c2)]){if(_0x50ba59['type']!==_0x5c20a2[_0x5dae46(0x945)])continue;const _0x37d572=_0x16d182[_0x5dae46(0x33e)](_0x28c7d3=>_0x28c7d3[_0x5dae46(0x1d7)]===_0x50ba59[_0x5dae46(0x1d7)]);if(!_0x37d572)continue;let _0x55c2f1=_0x5984a9['id'];switch(_0x7e93c9?_0x55c2f1=_0x7e93c9:(_0x5984a9[_0x5dae46(0x339)]===_0x2c8280['DataCollection']&&(_0x55c2f1=_0x5984a9['name']),_0x5984a9[_0x5dae46(0x339)]!==_0x2c8280[_0x5dae46(0x4a0)]&&_0x5984a9[_0x5dae46(0x339)]!==_0x2c8280[_0x5dae46(0x685)]&&_0x5984a9[_0x5dae46(0x339)]!==_0x2c8280[_0x5dae46(0x1cc)]||(_0x55c2f1=_0x5984a9[_0x5dae46(0x134)]??_0x5984a9[_0x5dae46(0x3cd)])),_0x37d572[_0x5dae46(0x339)]){case _0x2c8280[_0x5dae46(0x4a0)]:_0x380207['forceLog'](_0x5dae46(0x679),_0x37d572['name'],_0x55c2f1),_0x37d572[_0x5dae46(0x713)]||(_0x37d572[_0x5dae46(0x713)]={}),_0x37d572[_0x5dae46(0x713)][_0x5dae46(0x15c)]||(_0x37d572[_0x5dae46(0x713)][_0x5dae46(0x15c)]={});const _0x1b18c6=_0x37d572[_0x5dae46(0x8c3)]?.['split'](',');if(!_0x1b18c6||!_0x1b18c6[_0x5dae46(0x778)](_0x55c2f1))return;_0x37d572[_0x5dae46(0x713)][_0x5dae46(0x15c)][_0x55c2f1]=_0x31eb23;break;case _0x2c8280['AgentSkill']:_0x380207[_0x5dae46(0x2cc)](_0x5dae46(0x3f8),_0x37d572[_0x5dae46(0x3cd)],_0x55c2f1),_0xf9960c(_0x55c2f1,_0x31eb23,_0x37d572);break;case _0x2c8280[_0x5dae46(0x57c)]:_0x380207[_0x5dae46(0x2cc)](_0x5dae46(0x72f),_0x55c2f1),_0x1937fa(_0x50ba59['type'],_0x55c2f1,_0x31eb23,_0x37d572);break;case _0x2c8280[_0x5dae46(0x1cc)]:_0x380207[_0x5dae46(0x2cc)](_0x5dae46(0xf1),_0x37d572[_0x5dae46(0x3cd)],_0x55c2f1),_0x37e950(_0x55c2f1,_0x31eb23,_0x37d572);}}}async function _0x57082f(_0xb23a82,_0x2d01d6,_0x504211,_0x269c85,_0x2dad4f,_0x71ae4a,_0x155c85,_0x1b781f){const _0x2c4606=_0x1833fc;if(await _0x524332[_0x2c4606(0x70b)](0x1),_0x2dad4f[_0x2c4606(0x7c2)]){for(const _0x5cbdb3 of _0x2dad4f['links']){if(_0x5cbdb3[_0x2c4606(0x339)]===_0x5c20a2['Context'])continue;const _0x34aeba=_0x71ae4a[_0x2c4606(0x33e)](_0x59709a=>_0x59709a[_0x2c4606(0x1d7)]===_0x5cbdb3[_0x2c4606(0x1d7)]);if(_0x34aeba)switch(_0x34aeba[_0x2c4606(0x339)]){case _0x2c8280[_0x2c4606(0x4a0)]:await _0xf42c43(_0xb23a82,_0x5cbdb3[_0x2c4606(0x339)],_0x2d01d6,_0x504211,_0x269c85,_0x34aeba,_0x71ae4a,_0x155c85,_0x1b781f);break;case _0x2c8280['ChunkSplitter']:await _0x5b3ed7(_0xb23a82,_0x2d01d6,_0x504211,_0x269c85,_0x34aeba,_0x71ae4a,_0x155c85,_0x1b781f);break;case _0x2c8280[_0x2c4606(0x5b3)]:await _0x3f2c54(_0xb23a82,_0x2d01d6,_0x504211,_0x269c85,_0x34aeba,_0x71ae4a,_0x155c85,_0x1b781f);break;case _0x2c8280['SentenceSplitter']:await _0x50405a(_0xb23a82,_0x2d01d6,_0x504211,_0x269c85,_0x34aeba,_0x71ae4a,_0x155c85,_0x1b781f);break;case _0x2c8280['WordSplitter']:await _0x585dc4(_0xb23a82,_0x2d01d6,_0x504211,_0x269c85,_0x34aeba,_0x71ae4a,_0x155c85,_0x1b781f);}}_0x2dad4f[_0x2c4606(0x339)]===_0x2c8280[_0x2c4606(0x210)]&&_0x1b781f&&_0x1b781f[_0x2c4606(0x67c)](void 0x0);}else _0x2dad4f[_0x2c4606(0x339)]===_0x2c8280['Prompt']&&_0x1b781f&&_0x1b781f[_0x2c4606(0x67c)](void 0x0);}function _0x24a93a(_0x4e515d,_0xb7c000){const _0x41a812=_0x1833fc;let _0x4d864b=0x0;for(const _0x3b0948 of _0xb7c000)for(const _0x430c5a of _0x3b0948[_0x41a812(0x7c2)]??[])_0x430c5a[_0x41a812(0x339)]!==_0x5c20a2[_0x41a812(0x945)]&&_0x430c5a[_0x41a812(0x339)]!==_0x5c20a2[_0x41a812(0x468)]&&_0x430c5a[_0x41a812(0x339)]!==_0x5c20a2['Skill']&&_0x430c5a[_0x41a812(0x1d7)]===_0x4e515d[_0x41a812(0x1d7)]&&_0x4d864b++;return _0x4d864b;}class _0xd6be8 extends _0x352318{[_0x1833fc(0x86c)];[_0x1833fc(0x889)];[_0x1833fc(0x97f)];[_0x1833fc(0x936)];[_0x1833fc(0x64e)];[_0x1833fc(0x678)];[_0x1833fc(0x7f6)];[_0x1833fc(0x598)];[_0x1833fc(0x61b)];['modelStore'];['dataStores']=new Map();[_0x1833fc(0x123)]=new Map();[_0x1833fc(0x5e5)];[_0x1833fc(0x751)]=new Map();['debounceStats'];[_0x1833fc(0x1fd)]=0x0;['tokens']=0x0;[_0x1833fc(0x758)]=!0x1;constructor(_0x368332,_0x13945e,_0x3cecf5,_0x3851bc,_0x389613,_0x50b569,_0x3505bb,_0x304f27,_0x576fa8,_0x7cd870){const _0x3b8339=_0x1833fc;super(_0x368332,_0x13945e,_0x3851bc),this[_0x3b8339(0x86c)]=_0x368332,this[_0x3b8339(0x889)]=_0x3cecf5,this[_0x3b8339(0x97f)]=_0x389613,this[_0x3b8339(0x936)]=_0x50b569,this[_0x3b8339(0x64e)]=_0x3505bb,this[_0x3b8339(0x678)]=_0x304f27,this[_0x3b8339(0x7f6)]=_0x576fa8,this[_0x3b8339(0x598)]=_0x7cd870;}async['destroy'](){const _0x56e147=_0x1833fc;for(const _0x3e4d18 of this[_0x56e147(0x936)])await _0x3e4d18[_0x56e147(0x244)]();this['modelStore']?.[_0x56e147(0x788)](this['label']),this[_0x56e147(0x67a)][_0x56e147(0x919)](_0x357fc7=>_0x357fc7[_0x56e147(0x788)](this[_0x56e147(0x671)])),this[_0x56e147(0x652)]&&(clearTimeout(this[_0x56e147(0x652)]),delete this[_0x56e147(0x652)]),super[_0x56e147(0x24c)]();}async[_0x1833fc(0x4d0)](_0x6acc75=!0x1){const _0x102647=_0x1833fc;if(this[_0x102647(0x758)])super[_0x102647(0x4d0)]();else{if(_0x380207[_0x102647(0x2cc)](_0x102647(0x18c),this[_0x102647(0x671)]),this['workflow']=await _0x27e8b2[_0x102647(0x56f)](this[_0x102647(0x889)],this['label']),this[_0x102647(0x6f8)]=this['contentMediator']['getObjectStoreBucket'](this[_0x102647(0x61b)][_0x102647(0x70f)]),!this[_0x102647(0x6f8)])throw new Error(_0x102647(0x8d8));this[_0x102647(0x309)](),_0x380207['forceLog']('GenerativeAIWorker:\x20Models',this['workflow'][_0x102647(0x751)]);for(const _0xaa0294 of this[_0x102647(0x61b)][_0x102647(0x751)])try{let _0x492f38;_0xaa0294[_0x102647(0x6a8)]===_0x4f9f07[_0x102647(0x593)][_0x102647(0x51f)]&&(_0x492f38=await this[_0x102647(0x22b)]('/'+_0xaa0294['id']+_0x4e0eb9)),this['models'][_0x102647(0x174)](_0xaa0294['id'],{'id':_0xaa0294['id'],'engineType':_0xaa0294['engineType'],'taskType':_0xaa0294['taskType'],'inputType':_0xaa0294[_0x102647(0x2c9)],'outputType':_0xaa0294[_0x102647(0x2c6)],'sourceUrl':_0xaa0294[_0x102647(0x3ae)],'pathName':_0x492f38});}catch(_0x5d3678){await this[_0x102647(0x6f8)][_0x102647(0x9e5)]({'action':_0x4f9f07['PayloadAction'][_0x102647(0x9c8)],'file':new File([''],''+_0xaa0294['id']+_0x4e0eb9),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0xaa0294[_0x102647(0x3ae)]}}),this['models'][_0x102647(0x174)](_0xaa0294['id'],{'id':_0xaa0294['id'],'engineType':_0xaa0294['engineType'],'taskType':_0xaa0294[_0x102647(0x155)],'inputType':_0xaa0294[_0x102647(0x2c9)],'outputType':_0xaa0294[_0x102647(0x2c6)],'sourceUrl':_0xaa0294[_0x102647(0x3ae)],'pathName':await this['getModel']('/'+_0xaa0294['id']+_0x4e0eb9)});}try{for(const _0x46a64b of this[_0x102647(0x936)])await _0x46a64b[_0x102647(0x47c)](this[_0x102647(0x671)],this[_0x102647(0x751)]);}catch(_0x348243){return this['open'](_0x6acc75);}for(const _0x36d990 of this['workflow'][_0x102647(0x4ab)])this[_0x102647(0x67a)]['set'](_0x36d990,this[_0x102647(0x97f)][_0x102647(0x5b1)](_0x36d990));await this['loadLocalContent'](),this[_0x102647(0x52d)]();for(const _0x44e393 of this[_0x102647(0x61b)]['externalStorageConnectionIds'])this[_0x102647(0x123)][_0x102647(0x174)](_0x44e393,this[_0x102647(0x97f)]['getExternalStorageConnection'](_0x44e393));await this['loadExternalContent'](),this[_0x102647(0x1e2)](),this[_0x102647(0x758)]=!0x0,this[_0x102647(0x153)](),super[_0x102647(0x4d0)](),_0x380207[_0x102647(0x2cc)](_0x102647(0x56c),this[_0x102647(0x671)]);}}[_0x1833fc(0x780)](){const _0x38ae25=_0x1833fc;this[_0x38ae25(0x1fd)]=0x0,this['tokens']=0x0,this[_0x38ae25(0x153)](),super[_0x38ae25(0x780)]();}['getBid'](){const _0x3b203c=_0x1833fc;return this[_0x3b203c(0x153)](),this[_0x3b203c(0x2f5)]();}[_0x1833fc(0x2be)](_0x31267d,_0xc33ca3,_0x9dff3b){const _0x35afd4=_0x1833fc,{outputTokens:_0x3c9da4=0x0,output:_0x2d1bb0=''}=_0x31267d,_0x1ad83d=_0x3c9da4/((_0x9dff3b-_0xc33ca3)/0x3e8);this[_0x35afd4(0x1fd)]+=0x1,this['tokens']+=_0x3c9da4,this['logServiceEvent'](_0x1ad83d,_0x3c9da4),this[_0x35afd4(0x153)]();}[_0x1833fc(0x2f9)](_0x26d1c9,_0x46d9ed){const _0x43173b=_0x1833fc;return _0x26d1c9[_0x43173b(0x922)]=_0x26d1c9['output']??'',{'type':'prompt','output':_0x43173b(0xf8)==typeof _0x26d1c9[_0x43173b(0x922)]&&'string'==typeof _0x46d9ed['output']?_0x26d1c9[_0x43173b(0x922)]+_0x46d9ed[_0x43173b(0x922)]:_0x46d9ed['output'],'outputTokens':_0x46d9ed['outputTokens']??_0x26d1c9[_0x43173b(0x805)],'inputTokens':_0x46d9ed[_0x43173b(0x198)]??_0x26d1c9[_0x43173b(0x198)]};}async['internalProcessJob'](_0x3d9a01,_0x59b632){const _0x412ac5=_0x1833fc;if(this[_0x412ac5(0x61b)]=await _0x27e8b2['getWorkflow'](this[_0x412ac5(0x889)],this[_0x412ac5(0x671)]),_0x412ac5(0x563)===_0x59b632[_0x412ac5(0x339)]){const _0x4b770f=this[_0x412ac5(0x61b)]['blocks'][_0x412ac5(0x33e)](_0x36584b=>_0x36584b[_0x412ac5(0x339)]===_0x2c8280[_0x412ac5(0x210)]),_0x167d8c=await async function(_0x4e4197,_0x4087eb,_0x2264b4,_0x48fddf,_0x4eca07){const _0x807c91=_0x412ac5,_0x9a0dbf=(0x0,_0x6e2c44['v4'])(),_0x4a70d5=Date[_0x807c91(0x1d5)]();if(_0x4ec783[_0x807c91(0x4b1)]({'jobType':_0x141b4a[_0x807c91(0x8e2)],'type':_0x4dde6f[_0x807c91(0x343)],'jobId':_0x4e4197,'blockId':_0x2264b4['id'],'agentId':_0x9a0dbf,'threadId':_0x4087eb[_0x807c91(0x869)],'traceLevel':_0x460698[_0x807c91(0x180)],'startTime':Date[_0x807c91(0x1d5)](),'timestamp':Date['now'](),'status':_0x807c91(0x823),'initialPrompt':_0x4087eb[_0x807c91(0x563)]}),_0x4087eb[_0x807c91(0x15f)]){for(const _0x1d9132 in _0x4087eb[_0x807c91(0x15f)])_0x6fa05b(_0x4087eb['internalContext'][_0x1d9132],_0x2264b4,_0x48fddf,_0x1d9132);}const _0x1e7e95={'type':_0x4087eb[_0x807c91(0x339)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x57082f(_0x4e4197,''+_0x4087eb[_0x807c91(0x563)],_0x4087eb,_0x1e7e95,_0x2264b4,_0x48fddf,_0x4eca07);const {inputTokens:_0x32cdda=0x0,outputTokens:_0x55773c=0x0,context:_0x2cb8a8=[]}=_0x1e7e95;return _0x4ec783['trace']({'jobType':_0x141b4a[_0x807c91(0x8e2)],'type':_0x4dde6f['FinalOutput'],'jobId':_0x4e4197,'agentId':_0x9a0dbf,'threadId':_0x4087eb[_0x807c91(0x869)],'traceLevel':_0x460698[_0x807c91(0x180)],'startTime':_0x4a70d5,'timestamp':Date['now'](),'blockId':_0x2264b4['id'],'status':_0x807c91(0x823),'output':_0x1e7e95[_0x807c91(0x922)]?.[_0x807c91(0x687)]()??'','prompt':_0x4087eb['prompt'],'agentName':'','history':_0x4087eb[_0x807c91(0x89b)]??[],'instructions':''+(_0x4087eb[_0x807c91(0x231)]??''),'ragContext':_0x2cb8a8,'inputTokens':_0x32cdda,'outputTokens':_0x55773c}),{'type':_0x4087eb[_0x807c91(0x339)],'output':_0x1e7e95[_0x807c91(0x922)],'context':_0x1e7e95[_0x807c91(0x15c)],'internalContext':_0x48fddf[_0x807c91(0x33e)](_0x5164e9=>_0x5164e9[_0x807c91(0x339)]===_0x2c8280[_0x807c91(0x57c)])?.[_0x807c91(0x713)]?.[_0x807c91(0x15c)]??{},'inputTokens':_0x1e7e95['inputTokens']??0x0,'outputTokens':_0x1e7e95[_0x807c91(0x805)]??0x0};}(_0x3d9a01,_0x59b632,_0x4b770f,this[_0x412ac5(0x61b)][_0x412ac5(0x540)],{'documentParserConnector':this[_0x412ac5(0x64e)],'nlpLibraryConnector':this[_0x412ac5(0x678)],'generativeAIWorkerConnectors':this[_0x412ac5(0x936)],'models':this[_0x412ac5(0x61b)][_0x412ac5(0x751)],'contentMediator':this[_0x412ac5(0x97f)],'searchApiKey':this[_0x412ac5(0x7f6)],'searchConnector':this[_0x412ac5(0x598)]});return _0x167d8c;}if(_0x412ac5(0x5cd)===_0x59b632[_0x412ac5(0x339)])return _0x4ec783['trace']({'jobType':_0x141b4a[_0x412ac5(0x484)],'type':_0x28f74d[_0x412ac5(0x4a2)],'jobId':_0x59b632[_0x412ac5(0x7f0)],'threadId':_0x59b632[_0x412ac5(0x869)],'traceLevel':_0x460698[_0x412ac5(0x180)],'startTime':Date[_0x412ac5(0x1d5)](),'timestamp':Date[_0x412ac5(0x1d5)](),'status':_0x412ac5(0x823),'rating':_0x59b632['rating'],'feedback':_0x59b632[_0x412ac5(0x611)]}),{'type':_0x412ac5(0x5cd),'status':_0x4f9f07['GenerativeAIRatingStatus']['Success']};if(_0x412ac5(0x781)===_0x59b632['type']){let _0x5bca59;const _0x260c81=this[_0x412ac5(0x67a)][_0x412ac5(0x727)]();for(;!_0x5bca59;){const _0x3e0679=_0x260c81['next']()['value'];if(!_0x3e0679)throw new Error(_0x412ac5(0x152));_0x5bca59=this[_0x412ac5(0x67a)]['get'](_0x3e0679);try{const _0x45b5cb=await _0x5bca59['get'](_0x59b632[_0x412ac5(0x45b)]);return{'type':_0x412ac5(0x781),'fileName':_0x45b5cb[_0x412ac5(0x3cd)],'mimeType':_0x45b5cb[_0x412ac5(0x339)],'document':await _0x45b5cb[_0x412ac5(0x9d8)]()};}catch(_0x47676c){continue;}}throw new Error(_0x412ac5(0x152));}throw new Error(_0x412ac5(0xda));}async*['internalProcessJobStream'](_0x101211,_0x18e104){const _0x3b572d=_0x1833fc;this[_0x3b572d(0x61b)]=await _0x27e8b2[_0x3b572d(0x56f)](this[_0x3b572d(0x889)],this['label']);const _0x1eb0f8=this[_0x3b572d(0x61b)][_0x3b572d(0x540)][_0x3b572d(0x33e)](_0x455fa1=>_0x455fa1['type']===_0x2c8280[_0x3b572d(0x210)]);for await(const _0x62fed3 of async function*(_0x236b3d,_0x4879b7,_0x401f20,_0x13dbf0,_0x1006ef){const _0x267a71=_0x3b572d,_0x5c6cb8=(0x0,_0x6e2c44['v4'])(),_0x1a5c41=Date[_0x267a71(0x1d5)]();if(_0x4ec783[_0x267a71(0x4b1)]({'jobType':_0x141b4a['Workflow'],'type':_0x4dde6f[_0x267a71(0x343)],'jobId':_0x236b3d,'agentId':_0x5c6cb8,'threadId':_0x4879b7['threadId'],'traceLevel':_0x460698[_0x267a71(0x180)],'startTime':Date[_0x267a71(0x1d5)](),'timestamp':Date[_0x267a71(0x1d5)](),'blockId':_0x401f20['id'],'status':_0x267a71(0x823),'initialPrompt':_0x4879b7[_0x267a71(0x563)]}),_0x4879b7[_0x267a71(0x15f)]){for(const _0x559f0e in _0x4879b7['internalContext'])_0x6fa05b(_0x4879b7['internalContext'][_0x559f0e],_0x401f20,_0x13dbf0,_0x559f0e);}const _0x221371={'type':_0x4879b7[_0x267a71(0x339)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x24f649=new _0x396525();_0x57082f(_0x236b3d,''+_0x4879b7['prompt'],_0x4879b7,_0x221371,_0x401f20,_0x13dbf0,_0x1006ef,_0x24f649);let _0x5f55d='',_0x31d99d={'type':_0x4879b7[_0x267a71(0x339)]};for(;;){const _0x47bc64=await _0x24f649[_0x267a71(0x35f)]();if(!_0x47bc64)break;_0x5f55d+=_0x47bc64[_0x267a71(0x922)],_0x31d99d={'type':_0x4879b7[_0x267a71(0x339)],'output':_0x47bc64[_0x267a71(0x922)],'context':_0x221371[_0x267a71(0x15c)],'internalContext':{},'inputTokens':(_0x221371[_0x267a71(0x198)]??0x0)+(_0x47bc64['inputTokens']??0x0),'outputTokens':(_0x221371[_0x267a71(0x805)]??0x0)+(_0x47bc64[_0x267a71(0x805)]??0x0)},yield _0x31d99d;}yield{..._0x31d99d,'output':'','internalContext':_0x13dbf0[_0x267a71(0x33e)](_0x17ed54=>_0x17ed54[_0x267a71(0x339)]===_0x2c8280['Answer'])?.['accumulated']?.[_0x267a71(0x15c)]??{}};const {inputTokens:_0x103b23=0x0,outputTokens:_0x501135=0x0,context:_0x4330f3=[]}=_0x31d99d;_0x4ec783[_0x267a71(0x4b1)]({'jobType':_0x141b4a[_0x267a71(0x8e2)],'type':_0x4dde6f[_0x267a71(0x5d3)],'jobId':_0x236b3d,'agentId':_0x5c6cb8,'threadId':_0x4879b7['threadId'],'traceLevel':_0x460698[_0x267a71(0x180)],'startTime':_0x1a5c41,'timestamp':Date['now'](),'blockId':_0x401f20['id'],'status':_0x267a71(0x823),'output':_0x5f55d,'prompt':_0x4879b7['prompt'],'agentName':'','history':_0x4879b7['history']??[],'instructions':''+(_0x4879b7[_0x267a71(0x231)]??''),'ragContext':_0x4330f3,'inputTokens':_0x103b23,'outputTokens':_0x501135});}(_0x101211,_0x18e104,_0x1eb0f8,this[_0x3b572d(0x61b)][_0x3b572d(0x540)],{'documentParserConnector':this[_0x3b572d(0x64e)],'nlpLibraryConnector':this[_0x3b572d(0x678)],'generativeAIWorkerConnectors':this[_0x3b572d(0x936)],'models':this['workflow'][_0x3b572d(0x751)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x3b572d(0x7f6)],'searchConnector':this[_0x3b572d(0x598)]}))yield _0x62fed3;}[_0x1833fc(0x218)](_0xf53888,_0x56b60d){const _0x1c67e9=_0x1833fc;if(_0x1c67e9(0x5cd)===_0x56b60d['type'])return _0xf53888=_0x56b60d['jobId'],void this['openTrace'](_0xf53888);this['openTrace'](_0xf53888),_0x4ec783[_0x1c67e9(0x4b1)]({'jobType':_0x141b4a[_0x1c67e9(0x87d)],'type':_0x27e5c8[_0x1c67e9(0x3c7)],'traceLevel':_0x460698[_0x1c67e9(0x180)],'jobId':_0xf53888,'threadId':_0x56b60d[_0x1c67e9(0x869)],'startTime':Date[_0x1c67e9(0x1d5)](),'timestamp':Date[_0x1c67e9(0x1d5)](),'status':_0x1c67e9(0x823)});}[_0x1833fc(0x626)](_0x6177ba,_0x266dd2){const _0x442cce=_0x1833fc;if(_0x442cce(0x5cd)===_0x266dd2[_0x442cce(0x339)])return _0x6177ba=_0x266dd2[_0x442cce(0x7f0)],void this[_0x442cce(0x97d)](_0x6177ba);_0x4ec783['trace']({'jobType':_0x141b4a[_0x442cce(0x87d)],'type':_0x27e5c8[_0x442cce(0x756)],'traceLevel':_0x460698[_0x442cce(0x180)],'jobId':_0x6177ba,'threadId':_0x266dd2[_0x442cce(0x869)],'startTime':Date['now'](),'timestamp':Date[_0x442cce(0x1d5)](),'status':'success'}),this[_0x442cce(0x97d)](_0x6177ba);}async['waitForSyncComplete'](_0x307256){return new Promise(_0xa8efcb=>{_0x307256['subscribe'](this['label'],async _0x4ce37d=>{const _0x4ca40d=a0_0x17c7;_0x4ce37d[_0x4ca40d(0x836)]===_0x4f9f07[_0x4ca40d(0x864)][_0x4ca40d(0x1a4)]&&(_0x307256[_0x4ca40d(0x788)](this[_0x4ca40d(0x671)]),_0xa8efcb(_0x4ce37d[_0x4ca40d(0x867)][_0x4ca40d(0x5ef)]));});});}async[_0x1833fc(0x22b)](_0xfa1681){const _0x4e4f31=_0x1833fc;if(!this['modelStore'])throw new Error('Model\x20store\x20not\x20initialized');const _0xc8ae1b=await this[_0x4e4f31(0x6f8)][_0x4e4f31(0xf7)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x34a303 of _0xc8ae1b)if(_0x34a303[_0x4e4f31(0x94b)]===_0x4f9f07['ObjectKind']['File']&&_0x34a303[_0x4e4f31(0x33a)]===_0xfa1681)return _0x34a303['absolutePathName']??_0x34a303[_0x4e4f31(0x33a)];throw new Error(_0x4e4f31(0x70a)+_0xfa1681);}async[_0x1833fc(0x7cc)](){const _0x5bad45=_0x1833fc;if(!this[_0x5bad45(0x61b)])throw new Error(_0x5bad45(0x498));for(const _0x2c4e3f of this[_0x5bad45(0x67a)][_0x5bad45(0x278)]())try{const _0x132188=this[_0x5bad45(0x61b)]['blocks'][_0x5bad45(0x9a3)](_0xd0b9ec=>(_0xd0b9ec[_0x5bad45(0x339)]===_0x2c8280[_0x5bad45(0x5b3)]||_0xd0b9ec[_0x5bad45(0x339)]===_0x2c8280['Knowledge'])&&_0xd0b9ec['ingestBlocks']?.[_0x5bad45(0x480)](_0xcf5dce=>_0xcf5dce['id']===_0x2c4e3f[_0x5bad45(0x92c)]()));for(let _0x3c8ff8=_0x132188[_0x5bad45(0x5af)]-0x1;_0x3c8ff8>=0x0;_0x3c8ff8--)for(const _0x1305a7 of _0x132188[_0x3c8ff8][_0x5bad45(0x658)]??[])_0x1305a7[_0x5bad45(0x339)]===_0x446c71[_0x5bad45(0x23d)]&&this[_0x5bad45(0x97f)][_0x5bad45(0x193)](_0x1305a7['id'])[_0x5bad45(0x1ae)]()&&_0x132188[_0x5bad45(0x2fe)](_0x3c8ff8,0x1),_0x1305a7['type']===_0x446c71[_0x5bad45(0x270)]&&this[_0x5bad45(0x97f)][_0x5bad45(0x603)](_0x1305a7['id'])[_0x5bad45(0x1ae)]()&&_0x132188[_0x5bad45(0x2fe)](_0x3c8ff8,0x1);const _0x4a561d=new Map();let _0x2b5c53=!0x1;for(const _0x4ac905 of _0x132188){let _0x1d0e06=''+(_0x4ac905['version']??0x1);for(const _0xc385d8 of _0x4ac905[_0x5bad45(0x658)]??[])_0xc385d8['type']===_0x446c71['Agent']&&(_0x1d0e06=_0x1d0e06+'-'+(_0xc385d8[_0x5bad45(0x3a2)]??0x1));for(const _0x15bb7e of _0x4ac905[_0x5bad45(0x658)]??[])_0x15bb7e['type']===_0x446c71['VectorDatabase']&&_0x4a561d[_0x5bad45(0x174)](_0x15bb7e['id'],{'version':_0x1d0e06,'getDatabase':this['contentMediator']['getVectorDatabase']['bind'](this['contentMediator']),'block':_0x15bb7e}),_0x15bb7e['type']===_0x446c71['GraphDatabase']&&_0x4a561d[_0x5bad45(0x174)](_0x15bb7e['id'],{'version':_0x1d0e06,'getDatabase':this[_0x5bad45(0x97f)][_0x5bad45(0x603)][_0x5bad45(0x6e2)](this[_0x5bad45(0x97f)]),'block':_0x15bb7e});}for(const {getDatabase:_0x10ab73,block:_0x3d715e,version:_0x46e881}of _0x4a561d[_0x5bad45(0x278)]())try{const _0x5d1801=_0x10ab73(_0x3d715e['id']);_0x5d1801[_0x5bad45(0x43e)](_0x46e881),_0x5d1801['setIsLoaded'](!0x0),_0x2b5c53=!0x0;}catch(_0x4817c8){_0x2b5c53=!0x1;break;}if(_0x380207[_0x5bad45(0x2cc)]('Loaded\x20from\x20disk'),_0x2b5c53)continue;_0x380207[_0x5bad45(0x2cc)](_0x5bad45(0x5d1));const _0x11a606=await _0x2c4e3f[_0x5bad45(0xf7)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x5bad45(0x85b)](_0x44899f[_0x5bad45(0x6a7)],_0x2c4e3f['getName'](),_0x11a606);for(const {getDatabase:_0x53ae48,block:_0x448ceb,version:_0x3455bb}of _0x4a561d['values']()){const _0x44a4ae=_0x53ae48(_0x448ceb['id']);_0x44a4ae[_0x5bad45(0x7e3)](_0x3455bb),_0x44a4ae[_0x5bad45(0x7f3)](!0x0);}}catch(_0x4952f0){_0x380207[_0x5bad45(0x657)]('Error\x20loading\x20existing\x20content',{'nodeId':this[_0x5bad45(0x86c)][_0x5bad45(0x76b)](),'nodeType':this['localNode']['type']});}}async[_0x1833fc(0x95f)](){const _0xa40245=_0x1833fc;for(const _0xa9271 of this[_0xa40245(0x123)][_0xa40245(0x278)]())try{const _0xa68bfc=await _0xa9271[_0xa40245(0xf7)]('/',{'recursive':!0x0});await this[_0xa40245(0x85b)](_0x44899f[_0xa40245(0x2db)],_0xa9271[_0xa40245(0x82b)](),_0xa68bfc);}catch(_0x590476){_0x380207[_0xa40245(0x657)]('Error\x20loading\x20external\x20content',{'nodeId':this[_0xa40245(0x86c)]['getId'](),'nodeType':this[_0xa40245(0x86c)][_0xa40245(0x339)]});}}async[_0x1833fc(0x85b)](_0x56e3ed,_0x871b9d,_0x18a4f8){const _0x422c21=_0x1833fc;for(const _0x26a7c8 of _0x18a4f8){if(_0x26a7c8[_0x422c21(0x94b)]===_0x4f9f07[_0x422c21(0x448)]['Folder']){if(!_0x26a7c8[_0x422c21(0x544)]||0x0===_0x26a7c8[_0x422c21(0x544)][_0x422c21(0x5af)])continue;await this[_0x422c21(0x85b)](_0x56e3ed,_0x871b9d,_0x26a7c8[_0x422c21(0x544)]);}_0x26a7c8['kind']===_0x4f9f07[_0x422c21(0x448)][_0x422c21(0x9c8)]&&await this[_0x422c21(0x96a)](_0x56e3ed,_0x871b9d,_0x26a7c8['pathName']);}}[_0x1833fc(0x52d)](){const _0x41a330=_0x1833fc;for(const _0x47f077 of this['dataStores'][_0x41a330(0x278)]())_0x47f077[_0x41a330(0x456)](this[_0x41a330(0x671)],async _0x12a3c6=>{const _0x19f3ce=_0x41a330;switch(_0x12a3c6[_0x19f3ce(0x836)]){case _0x4f9f07[_0x19f3ce(0x864)][_0x19f3ce(0x4e0)]:this[_0x19f3ce(0x250)](_0x44899f[_0x19f3ce(0x6a7)],_0x47f077[_0x19f3ce(0x82b)](),_0x12a3c6[_0x19f3ce(0x867)]['file']['pathName']),await this['addContent'](_0x44899f[_0x19f3ce(0x6a7)],_0x47f077[_0x19f3ce(0x82b)](),_0x12a3c6['payload']['file']['pathName']);break;case _0x4f9f07[_0x19f3ce(0x864)][_0x19f3ce(0x64f)]:this[_0x19f3ce(0x250)](_0x44899f[_0x19f3ce(0x6a7)],_0x47f077[_0x19f3ce(0x82b)](),_0x12a3c6[_0x19f3ce(0x867)][_0x19f3ce(0x33a)]);}});}[_0x1833fc(0x1e2)](){const _0x4da793=_0x1833fc;for(const _0x2cb822 of this['externalStores'][_0x4da793(0x278)]())_0x2cb822[_0x4da793(0x456)](this[_0x4da793(0x671)],async _0x51596e=>{const _0x5a734b=_0x4da793;switch(_0x51596e['event']){case _0x4f9f07[_0x5a734b(0x864)][_0x5a734b(0x4e0)]:this['removeContent'](_0x44899f[_0x5a734b(0x2db)],_0x2cb822[_0x5a734b(0x82b)](),_0x51596e[_0x5a734b(0x867)][_0x5a734b(0x80b)][_0x5a734b(0x33a)]),await this[_0x5a734b(0x96a)](_0x44899f[_0x5a734b(0x2db)],_0x2cb822[_0x5a734b(0x82b)](),_0x51596e['payload'][_0x5a734b(0x80b)][_0x5a734b(0x33a)]);break;case _0x4f9f07[_0x5a734b(0x864)]['FileDelete']:this['removeContent'](_0x44899f['ExternalStorage'],_0x2cb822[_0x5a734b(0x82b)](),_0x51596e[_0x5a734b(0x867)][_0x5a734b(0x33a)]);}});}async['addContent'](_0x3f219d,_0x1d4e92,_0x527a57){const _0x23179c=_0x1833fc;if(_0x380207[_0x23179c(0x2cc)](_0x23179c(0x96a),_0x3f219d,_0x1d4e92,_0x527a57),!this[_0x23179c(0x61b)])throw new Error(_0x23179c(0x498));let _0x476869;switch(_0x3f219d){case _0x44899f[_0x23179c(0x6a7)]:_0x476869=_0x446c71[_0x23179c(0x4ce)];break;case _0x44899f[_0x23179c(0x2db)]:_0x476869=_0x446c71[_0x23179c(0x3a6)];}if(!_0x476869)return;const _0x542e5f=this[_0x23179c(0x61b)][_0x23179c(0x540)][_0x23179c(0x9a3)](_0x300ec3=>_0x300ec3[_0x23179c(0x339)]===_0x2c8280[_0x23179c(0x468)]||_0x300ec3['type']===_0x2c8280['DataCollection']),_0x15053e=new Set(_0x542e5f[_0x23179c(0x84d)](_0x928bd1=>_0x928bd1['id'])),_0x48d109=_0x542e5f[_0x23179c(0x9a3)](_0x311401=>_0x311401[_0x23179c(0x658)]?.['some'](_0x40c58b=>_0x40c58b[_0x23179c(0x339)]===_0x476869&&_0x40c58b['id']===_0x1d4e92));for(const _0x5053d1 of _0x48d109){if(!_0x15053e['has'](_0x5053d1['id']))continue;_0x15053e[_0x23179c(0x8be)](_0x5053d1['id']);const _0x437c40=_0x5053d1[_0x23179c(0x658)]?.[_0x23179c(0x33e)](_0x4d03a3=>_0x4d03a3[_0x23179c(0x339)]===_0x476869&&_0x4d03a3['id']===_0x1d4e92);if(!_0x437c40)continue;const _0x4af651=(0x0,_0x6e2c44['v4'])();_0x4ec783[_0x23179c(0x733)](null,_0x4af651),await _0x32df1f(_0x4af651,_0x527a57,_0x437c40,_0x5053d1[_0x23179c(0x658)],{'documentParserConnector':this[_0x23179c(0x64e)],'nlpLibraryConnector':this[_0x23179c(0x678)],'generativeAIWorkerConnectors':this[_0x23179c(0x936)],'models':this[_0x23179c(0x61b)][_0x23179c(0x751)],'contentMediator':this[_0x23179c(0x97f)],'searchApiKey':this[_0x23179c(0x7f6)],'version':_0x5053d1[_0x23179c(0x3a2)]??0x1}),_0x4ec783[_0x23179c(0x97d)](_0x4af651);}this[_0x23179c(0x153)]();}[_0x1833fc(0x250)](_0x537108,_0x1292d0,_0x3a3c50){const _0x2a9d46=_0x1833fc;if(_0x380207[_0x2a9d46(0x2cc)](_0x2a9d46(0x250),_0x537108,_0x1292d0,_0x3a3c50),!this[_0x2a9d46(0x61b)])throw new Error(_0x2a9d46(0x498));let _0x3721c6;switch(_0x537108){case _0x44899f[_0x2a9d46(0x6a7)]:_0x3721c6=_0x446c71[_0x2a9d46(0x4ce)];break;case _0x44899f[_0x2a9d46(0x2db)]:_0x3721c6=_0x446c71[_0x2a9d46(0x3a6)];}if(!_0x3721c6)return;const _0x1e0a4d=this['workflow']['blocks']['filter'](_0x371112=>_0x371112['type']===_0x2c8280['Knowledge']||_0x371112['type']===_0x2c8280[_0x2a9d46(0x5b3)]),_0x4fb029=new Set(_0x1e0a4d['map'](_0x21ad75=>_0x21ad75['id'])),_0x356e77=_0x1e0a4d['filter'](_0x30e575=>_0x30e575[_0x2a9d46(0x658)]?.[_0x2a9d46(0x480)](_0x593219=>_0x593219[_0x2a9d46(0x339)]===_0x3721c6&&_0x593219['id']===_0x1292d0));for(const _0x4b3c85 of _0x356e77){if(!_0x4fb029['has'](_0x4b3c85['id']))continue;_0x4fb029['delete'](_0x4b3c85['id']);let _0x205042=''+(_0x4b3c85[_0x2a9d46(0x3a2)]??0x1);for(const _0x314f98 of _0x4b3c85['ingestBlocks']??[])_0x314f98[_0x2a9d46(0x339)]===_0x446c71[_0x2a9d46(0x4a0)]&&(_0x205042=_0x205042+'-'+(_0x314f98[_0x2a9d46(0x3a2)]??0x1));for(const _0x11e69e of _0x4b3c85['ingestBlocks']??[]){if(_0x11e69e[_0x2a9d46(0x339)]===_0x446c71[_0x2a9d46(0x23d)]){const _0x4e7eec=this[_0x2a9d46(0x97f)][_0x2a9d46(0x193)](_0x11e69e['id']);_0x4e7eec[_0x2a9d46(0x467)](_0x3a3c50),_0x4e7eec[_0x2a9d46(0x1ae)]()&&_0x4e7eec[_0x2a9d46(0x7e3)](_0x205042);}if(_0x11e69e[_0x2a9d46(0x339)]===_0x446c71['GraphDatabase']){const _0x5b3294=this['contentMediator'][_0x2a9d46(0x603)](_0x11e69e['id']);_0x5b3294[_0x2a9d46(0x467)](_0x3a3c50),_0x5b3294[_0x2a9d46(0x1ae)]()&&_0x5b3294[_0x2a9d46(0x7e3)](_0x205042);}}}this[_0x2a9d46(0x153)]();}[_0x1833fc(0x2f5)](){const _0x1bffac=_0x1833fc;try{return this[_0x1bffac(0x654)][_0x1bffac(0x5e1)]()[_0x1bffac(0x9c9)][_0x1bffac(0x65c)]*(0x1-this['capacityReporter']['getCapacityReport']()[_0x1bffac(0x9c9)][_0x1bffac(0x4c8)]);}catch(_0x47d239){return _0x380207['log'](_0x381da1[_0x1bffac(0x1a7)],_0x1bffac(0x88c),_0x47d239),0x0;}}['sendStats'](){const _0x29b40d=_0x1833fc;this[_0x29b40d(0x758)]&&(this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x29b40d(0x652)]=setTimeout(async()=>{const _0x231606=_0x29b40d;if(delete this[_0x231606(0x652)],!this[_0x231606(0x6f8)])return;let _0x1e9301=await this[_0x231606(0x6f8)][_0x231606(0x285)]();for(const _0x462cb9 of this[_0x231606(0x67a)][_0x231606(0x278)]())_0x1e9301+=await _0x462cb9[_0x231606(0x285)]();this[_0x231606(0x3a7)][_0x231606(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x231606(0x7f4)],'content':{'type':_0x5e5186[_0x231606(0x946)],'label':this[_0x231606(0x671)],'stats':{'timestamp':Date[_0x231606(0x1d5)](),'storage':_0x1e9301,'messagesSent':this[_0x231606(0x1f2)],'messagesReceived':this[_0x231606(0x7f2)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x231606(0x6fb)],'writes':0x0,'reads':0x0,'prompts':this[_0x231606(0x1fd)],'tokens':this[_0x231606(0x177)]}}});},_0x17f2b1));}['logServiceEvent'](_0x4def19,_0x18c172){const _0x41cf75=_0x1833fc,_0x10c2d8=this[_0x41cf75(0x671)],_0x8f754a=this[_0x41cf75(0x764)]();_0x380207[_0x41cf75(0x82a)](_0x2ee7be[_0x41cf75(0x329)],{'topic':_0x10c2d8,'type':_0x41cf75(0x73c),'nodeId':_0x8f754a,'tokenCount':_0x18c172,'tokensPerSecond':_0x4def19});}[_0x1833fc(0x733)](_0x3441ae){const _0x6c8264=_0x1833fc;try{if(!this[_0x6c8264(0x61b)])throw new Error(_0x6c8264(0x498));if(!this['loggingDb'])throw new Error(_0x6c8264(0x928));if(!_0x4ec783[_0x6c8264(0x733)](this[_0x6c8264(0x5e5)],_0x3441ae))throw new Error(_0x6c8264(0x8a3));return _0x3441ae;}catch(_0x53fbb1){return console[_0x6c8264(0x657)](_0x6c8264(0x8a3),_0x53fbb1),_0x6c8264(0x169);}}[_0x1833fc(0x97d)](_0x2f078e){const _0x5c7071=_0x1833fc;try{_0x4ec783[_0x5c7071(0x97d)](_0x2f078e);}catch(_0x452da8){console[_0x5c7071(0x657)](_0x5c7071(0x538),{'jobId':_0x2f078e,'error':_0x452da8});}}async[_0x1833fc(0x309)](){return new Promise(_0x151212=>{const _0x310a99=a0_0x17c7;try{const _0x486c01=_0x590195(this[_0x310a99(0x889)],this[_0x310a99(0x671)]);this[_0x310a99(0x5e5)]=this['contentMediator'][_0x310a99(0x809)](_0x486c01),this[_0x310a99(0x5e5)]['subscribe'](({event:_0x5042cb})=>{const _0x211bbd=_0x310a99;_0x5042cb===_0x4f9f07[_0x211bbd(0x16d)][_0x211bbd(0x1a4)]&&(this[_0x211bbd(0x5e5)][_0x211bbd(0x788)](),_0x151212());});}catch(_0x5c603a){console['error']('Error\x20initializing\x20logging\x20database\x20with\x20\x27'+_0x590195(this[_0x310a99(0x889)],this['label'])+_0x310a99(0x634),_0x5c603a),_0x151212();}});}}class _0x3b7f58 extends _0x25ea81{[_0x1833fc(0x86c)];[_0x1833fc(0x81a)];[_0x1833fc(0x889)];['db'];['debounceStats'];[_0x1833fc(0x391)]=0x0;[_0x1833fc(0x4cd)]=0x0;[_0x1833fc(0x426)]=!0x1;constructor(_0x845718,_0x369d00,_0x15ef77,_0x5ccb49,_0x580f8c){const _0x4b008c=_0x1833fc;if(_0x4b008c(0xf8)!=typeof _0x369d00)throw new _0x3b1f45(_0x5bdcd2[_0x4b008c(0x60e)],_0x4b008c(0x8b8));super(_0x845718,_0x369d00),this[_0x4b008c(0x86c)]=_0x845718,this['clusterId']=_0x15ef77,this[_0x4b008c(0x889)]=_0x5ccb49;const _0x380b1c=_0x4b008c(0x496)+this['vendorId']+'ccc'+this['clusterId']+_0x4b008c(0x496)+this[_0x4b008c(0x671)];this['db']=new _0x580f8c(_0x380b1c),this['sendStats']();}[_0x1833fc(0x1ae)](){return this['isLoaded'];}['setIsLoaded'](_0x54e7cd){const _0x22933f=_0x1833fc;this[_0x22933f(0x426)]=_0x54e7cd;}['destroy'](){const _0x223279=_0x1833fc;clearTimeout(this[_0x223279(0x652)]),delete this[_0x223279(0x652)],super['destroy']();}[_0x1833fc(0x244)](){const _0x514c71=_0x1833fc;this[_0x514c71(0x3a7)][_0x514c71(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x514c71(0x7f4)],'content':{'type':_0x5e5186[_0x514c71(0x379)],'label':this[_0x514c71(0x671)]}});}[_0x1833fc(0x4ba)](){const _0x39a77c=_0x1833fc;return _0x4f9f07[_0x39a77c(0x30a)]['GraphDatabase'];}[_0x1833fc(0x780)](){const _0x3adcb9=_0x1833fc;this[_0x3adcb9(0x153)]();}[_0x1833fc(0x4fa)](_0x4b6904,_0x513428,_0x4c82a5,_0x3b19de){const _0x4ed5e1=_0x1833fc;this['db']['addNode'](_0x4b6904,_0x513428,_0x4c82a5,_0x3b19de),this['writes']+=0x1,this[_0x4ed5e1(0x153)]();}[_0x1833fc(0x2c4)](_0x1f51fb,_0x1ef4a5){const _0x29aee5=_0x1833fc;this['db']['addEdge'](_0x1f51fb,_0x1ef4a5),this['writes']+=0x1,this[_0x29aee5(0x153)]();}[_0x1833fc(0x646)](_0x5e2b03,_0x5af22c,_0x44d71f){const _0x16cb67=_0x1833fc,_0x487454=this['db'][_0x16cb67(0x646)](_0x5e2b03,_0x5af22c,_0x44d71f);return this['reads']+=0x1,_0x380207[_0x16cb67(0x82a)](_0x2ee7be['GraphDatabase'],{'type':_0x16cb67(0x81e),'label':this[_0x16cb67(0x671)],'nodeId':this[_0x16cb67(0x86c)][_0x16cb67(0x76b)](),'nodeType':this['localNode'][_0x16cb67(0x339)],'clusterId':this[_0x16cb67(0x81a)],'size':0x0}),this[_0x16cb67(0x153)](),_0x487454;}['remove'](_0x2afaf1){const _0x6d1d18=_0x1833fc;this['db'][_0x6d1d18(0x467)](_0x2afaf1),this[_0x6d1d18(0x391)]+=0x1,this[_0x6d1d18(0x153)]();}[_0x1833fc(0x7e3)](_0x251615){const _0xde8b9c=_0x1833fc;this['db'][_0xde8b9c(0x7e3)](_0x251615);}[_0x1833fc(0x43e)](_0x42ab93){const _0x3a5136=_0x1833fc;this['db'][_0x3a5136(0x43e)](_0x42ab93);}[_0x1833fc(0x153)](){const _0x135b31=_0x1833fc;this[_0x135b31(0x652)]&&clearTimeout(this[_0x135b31(0x652)]),this[_0x135b31(0x652)]=setTimeout(async()=>{const _0x18d2b1=_0x135b31;delete this[_0x18d2b1(0x652)];const _0x28b870=this['db'][_0x18d2b1(0x285)]();this[_0x18d2b1(0x3a7)]['publish']({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x18d2b1(0x7f4)],'content':{'type':_0x5e5186['GraphDatabaseStats'],'label':this['label'],'stats':{'timestamp':Date[_0x18d2b1(0x1d5)](),'storage':_0x28b870,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x18d2b1(0x9c2)],'bytesReceived':this[_0x18d2b1(0x6fb)],'writes':this[_0x18d2b1(0x391)],'reads':this[_0x18d2b1(0x4cd)],'prompts':0x0,'tokens':0x0}}}),_0x380207['logStorage'](_0x2ee7be[_0x18d2b1(0x270)],'ccc'+this[_0x18d2b1(0x81a)]+_0x18d2b1(0x496)+this[_0x18d2b1(0x671)],_0x28b870);},_0x17f2b1);}}class _0x58abdf extends _0x3a1a47{[_0x1833fc(0x18e)];constructor(_0x2ca31c,_0x465965,_0xf2c42b){super(_0x2ca31c,_0x465965),this['mediaStream']=_0xf2c42b;}['getContentType'](){const _0xf9e773=_0x1833fc;return _0x4f9f07[_0xf9e773(0x30a)]['Media'];}['getMediaStream'](){const _0xad0648=_0x1833fc;return this[_0xad0648(0x18e)];}[_0x1833fc(0xd9)](){return this['mediaStream']['id'];}}class _0x2f4495 extends _0x58abdf{[_0x1833fc(0x4fb)];[_0x1833fc(0x1df)];[_0x1833fc(0x36c)];[_0x1833fc(0x407)]=_0x137e7e();constructor(_0x535dec,_0x51168e,_0x4cd83d,_0x1ca992,_0x5ec181){const _0x3283be=_0x1833fc;super(_0x535dec,_0x51168e,_0x4cd83d),this[_0x3283be(0x4fb)]=_0x1ca992,this[_0x3283be(0x1df)]=_0x5ec181;}['destroy'](){const _0x5f1019=_0x1833fc;this[_0x5f1019(0x7ba)](_0x5f1019(0x11f)),this[_0x5f1019(0x7ba)]('video'),super[_0x5f1019(0x24c)]();}[_0x1833fc(0x4ac)](_0x29a5c5){const _0x1bb508=_0x1833fc;if(!this[_0x1bb508(0x36c)])throw new _0x4511be(_0x4511be[_0x1bb508(0x2a2)]['OutgoingMediaStreamNoTopic'],{'label':this['label'],'ownerId':this[_0x1bb508(0x40d)]['getId'](),'remoteId':this[_0x1bb508(0x4fb)]});this[_0x1bb508(0x36c)]['publish']({'sourceId':this[_0x1bb508(0x40d)]['getId'](),'content':{'action':_0x45c51e[_0x1bb508(0x1b5)],'track':_0x29a5c5,'stream':this[_0x1bb508(0x18e)],'priority':_0x4f9f07[_0x1bb508(0x653)][_0x1bb508(0x54f)],'params':this[_0x1bb508(0x5f2)](_0x29a5c5[_0x1bb508(0x94b)],this[_0x1bb508(0x1df)])}});}[_0x1833fc(0x7ba)](_0x347852){const _0x78556=_0x1833fc,_0x5a1e09=this['getTrack'](_0x347852);if(_0x5a1e09){if(!this[_0x78556(0x36c)])return null;this[_0x78556(0x36c)]['publish']({'sourceId':this['owner'][_0x78556(0x76b)](),'content':{'action':_0x45c51e[_0x78556(0x706)],'track':_0x5a1e09,'stream':this[_0x78556(0x18e)]}});}return _0x5a1e09;}[_0x1833fc(0x465)](_0x17fd69){const _0x5e282d=_0x1833fc;if(!this['topic'])throw new _0x4511be(_0x4511be[_0x5e282d(0x2a2)][_0x5e282d(0x7ab)],{'label':this[_0x5e282d(0x671)],'ownerId':this[_0x5e282d(0x40d)][_0x5e282d(0x76b)](),'remoteId':this[_0x5e282d(0x4fb)]});this['topic'][_0x5e282d(0x9e5)]({'sourceId':this[_0x5e282d(0x40d)][_0x5e282d(0x76b)](),'content':{'action':_0x45c51e[_0x5e282d(0x306)],'priority':_0x17fd69,'stream':this['mediaStream']}});}[_0x1833fc(0x456)]({trackKinds:_0x576757,params:_0x512496},_0x404a9b){const _0x27c284=_0x1833fc;if(!this['topic'])throw new _0x4511be(_0x4511be[_0x27c284(0x2a2)][_0x27c284(0x7ab)],{'label':this['label'],'ownerId':this['owner'][_0x27c284(0x76b)](),'remoteId':this[_0x27c284(0x4fb)]});for(const _0x3cf23e of this[_0x27c284(0x18e)][_0x27c284(0x56a)]())_0x576757[_0x27c284(0x778)](_0x3cf23e[_0x27c284(0x94b)])&&this['topic'][_0x27c284(0x9e5)]({'sourceId':this[_0x27c284(0x40d)][_0x27c284(0x76b)](),'content':{'action':_0x45c51e[_0x27c284(0x1b5)],'track':_0x3cf23e,'stream':this[_0x27c284(0x18e)],'priority':_0x404a9b,'params':this[_0x27c284(0x5f2)](_0x3cf23e[_0x27c284(0x94b)],_0x512496)}});}[_0x1833fc(0x669)]({params:_0x4b6099}){const _0x1ad7a2=_0x1833fc;if(!this[_0x1ad7a2(0x36c)])throw new _0x4511be(_0x4511be[_0x1ad7a2(0x2a2)][_0x1ad7a2(0x7ab)],{'label':this[_0x1ad7a2(0x671)],'ownerId':this[_0x1ad7a2(0x40d)][_0x1ad7a2(0x76b)](),'remoteId':this[_0x1ad7a2(0x4fb)]});for(const _0xf1243f of this[_0x1ad7a2(0x18e)][_0x1ad7a2(0x56a)]())this[_0x1ad7a2(0x36c)]['publish']({'sourceId':this[_0x1ad7a2(0x40d)][_0x1ad7a2(0x76b)](),'content':{'action':_0x45c51e['Update'],'stream':this[_0x1ad7a2(0x18e)],'params':this[_0x1ad7a2(0x5f2)](_0xf1243f[_0x1ad7a2(0x94b)],_0x4b6099)}});}[_0x1833fc(0x788)]({trackKinds:_0x1776af}){const _0x189fd3=_0x1833fc;if(this['topic']){for(const _0x2ac31b of this['mediaStream'][_0x189fd3(0x56a)]())_0x1776af[_0x189fd3(0x778)](_0x2ac31b[_0x189fd3(0x94b)])&&this['topic'][_0x189fd3(0x9e5)]({'sourceId':this[_0x189fd3(0x40d)][_0x189fd3(0x76b)](),'content':{'action':_0x45c51e[_0x189fd3(0x706)],'stream':this[_0x189fd3(0x18e)],'track':_0x2ac31b}});}}[_0x1833fc(0x2af)](_0x1bb9cc){const _0x401096=_0x1833fc;this[_0x401096(0x36c)]=_0x1bb9cc;}['unregisterPublisher'](_0x3d2339){const _0x380815=_0x1833fc;_0x3d2339===this[_0x380815(0x36c)]&&(delete this[_0x380815(0x36c)],this['unregisterPublisherListener'][_0x380815(0x9e5)]());}['onUnregisterPublisher'](_0x2dd9de){const _0x2f4846=_0x1833fc;return this[_0x2f4846(0x407)]['subscribe'](_0x2dd9de);}[_0x1833fc(0x9e3)](_0x11b4b8){const _0x15d9f6=_0x1833fc;return this[_0x15d9f6(0x18e)][_0x15d9f6(0x56a)]()[_0x15d9f6(0x33e)](_0x5896c5=>_0x5896c5[_0x15d9f6(0x94b)]===_0x11b4b8)||null;}[_0x1833fc(0x5f2)](_0x28a21b,_0xf7a05f){const _0x1d8468=_0x1833fc;let _0x49819a;return _0x1d8468(0x323)===_0x28a21b&&_0xf7a05f?.[_0x1d8468(0x323)]&&_0x1d8468(0x5ff)!=typeof _0xf7a05f['video']&&(_0x49819a={'kind':_0x1d8468(0x323),..._0xf7a05f[_0x1d8468(0x323)]},_0x49819a[_0x1d8468(0x38f)]=this[_0x1d8468(0x2d2)]()),_0x1d8468(0x11f)===_0x28a21b&&_0xf7a05f?.[_0x1d8468(0x11f)]&&'boolean'!=typeof _0xf7a05f[_0x1d8468(0x11f)]&&(_0x49819a={'kind':_0x1d8468(0x11f),..._0xf7a05f[_0x1d8468(0x11f)]}),_0x49819a;}['getResolution'](){const _0x350992=_0x1833fc;let _0x51dc9d={'width':0x0,'height':0x0};const _0x2c40f9=this[_0x350992(0x18e)][_0x350992(0x3d4)]();if(_0x2c40f9['length']>0x0){const _0x19f18a=_0x2c40f9[0x0][_0x350992(0x88d)]();_0x19f18a[_0x350992(0x2b0)]&&_0x19f18a[_0x350992(0x2e5)]&&(_0x51dc9d={'width':_0x19f18a[_0x350992(0x2b0)],'height':_0x19f18a[_0x350992(0x2e5)]});}return _0x51dc9d;}}class _0x2bd360 extends _0x58abdf{[_0x1833fc(0x81a)];[_0x1833fc(0x208)]=_0x4f9f07[_0x1833fc(0x653)][_0x1833fc(0x54f)];[_0x1833fc(0x1aa)]=new Map();[_0x1833fc(0x30d)]=new Map();constructor(_0x5dc04a,_0x554240,_0x58dcf7,_0x53b111){const _0x120ec9=_0x1833fc;super(_0x5dc04a,_0x554240,_0x58dcf7 instanceof MediaStream?_0x58dcf7:_0x58dcf7['srcObject']?_0x58dcf7[_0x120ec9(0x4e1)]:_0x58dcf7[_0x120ec9(0x2a6)]()),this[_0x120ec9(0x81a)]=_0x53b111,this[_0x120ec9(0x18e)][_0x120ec9(0x56a)]()[_0x120ec9(0x919)](_0x475ef1=>this['setupTrackEndedListeners'](_0x475ef1)),_0x380207[_0x120ec9(0x82a)](_0x2ee7be['MediaStream'],{'type':_0x120ec9(0x9e5),'label':this['label'],'nodeId':this[_0x120ec9(0x40d)][_0x120ec9(0x76b)](),'nodeType':this[_0x120ec9(0x40d)][_0x120ec9(0x339)],'clusterId':this[_0x120ec9(0x81a)],'streamId':this[_0x120ec9(0xd9)](),'trackKinds':this['mediaStream']['getTracks']()['map'](_0x5dca10=>_0x5dca10[_0x120ec9(0x94b)])});}[_0x1833fc(0x24c)](){const _0x38498f=_0x1833fc;this[_0x38498f(0x30d)]['size']>0x0&&(this['outgoingStreams'][_0x38498f(0x919)](_0x52542c=>{const _0x2a74c0=_0x38498f;_0x52542c[_0x2a74c0(0x14f)](),_0x52542c[_0x2a74c0(0x24c)]();}),this[_0x38498f(0x30d)][_0x38498f(0x67d)]()),this['trackEndedListeners'][_0x38498f(0x919)](_0x3ff791=>_0x3ff791()),super[_0x38498f(0x24c)]();}[_0x1833fc(0x9e5)](_0x3f522d){const _0x34aa55=_0x1833fc;this[_0x34aa55(0x3a7)][_0x34aa55(0x9e5)]({'sourceId':this[_0x34aa55(0x40d)]['getId'](),'destinationIds':_0x3f522d?[_0x3f522d]:void 0x0,'propagate':!0x0,'messageType':_0x35033d[_0x34aa55(0x7f4)],'content':{'type':_0x5e5186[_0x34aa55(0x99d)],'ownerId':this[_0x34aa55(0x40d)][_0x34aa55(0x76b)](),'label':this[_0x34aa55(0x671)],'stream':{'streamId':this[_0x34aa55(0xd9)](),'availableTrackKinds':this['mediaStream']['getTracks']()['map'](_0x587d56=>_0x587d56[_0x34aa55(0x94b)])}}});}[_0x1833fc(0x4be)](){const _0x13cf29=_0x1833fc;this[_0x13cf29(0x3a7)][_0x13cf29(0x9e5)]({'sourceId':this[_0x13cf29(0x40d)][_0x13cf29(0x76b)](),'propagate':!0x0,'messageType':_0x35033d[_0x13cf29(0x7f4)],'content':{'type':_0x5e5186['UnpublishMediaStream'],'ownerId':this[_0x13cf29(0x40d)][_0x13cf29(0x76b)](),'label':this['label']}}),this[_0x13cf29(0x3a7)][_0x13cf29(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x13cf29(0x7f4)],'content':{'type':_0x5e5186['CloseMediaStream'],'label':this[_0x13cf29(0x671)]}}),_0x380207[_0x13cf29(0x82a)](_0x2ee7be[_0x13cf29(0x2e8)],{'type':_0x13cf29(0x4be),'label':this[_0x13cf29(0x671)],'nodeId':this['owner'][_0x13cf29(0x76b)](),'nodeType':this['owner'][_0x13cf29(0x339)],'clusterId':this['clusterId'],'streamId':this['getInternalStreamId']()});}[_0x1833fc(0x4f6)](){return this['priority'];}[_0x1833fc(0x465)](_0x2d6f56){const _0x325635=_0x1833fc;this[_0x325635(0x208)]=_0x2d6f56,this[_0x325635(0x30d)][_0x325635(0x919)](_0x5dc231=>_0x5dc231[_0x325635(0x465)](_0x2d6f56));}['getShareableStream'](_0x4a6500,_0x9c68a1){const _0x83fe9a=_0x1833fc;if(!this[_0x83fe9a(0x30d)][_0x83fe9a(0x977)](_0x4a6500)){const _0x371a8c=new _0x2f4495(this[_0x83fe9a(0x40d)],this[_0x83fe9a(0x671)],this['mediaStream'],_0x4a6500,_0x9c68a1),_0x276206=_0x371a8c['onUnregisterPublisher'](()=>{const _0x983c04=_0x83fe9a;_0x276206(),this['outgoingStreams']['get'](_0x4a6500)?.[_0x983c04(0x24c)](),this[_0x983c04(0x30d)][_0x983c04(0x8be)](_0x4a6500);});this[_0x83fe9a(0x30d)][_0x83fe9a(0x174)](_0x4a6500,_0x371a8c),_0x371a8c[_0x83fe9a(0x494)](this[_0x83fe9a(0x3a7)]);}return this[_0x83fe9a(0x30d)][_0x83fe9a(0x264)](_0x4a6500);}[_0x1833fc(0x436)](){const _0x27ab61=_0x1833fc;return this[_0x27ab61(0x18e)]['id'];}[_0x1833fc(0x589)](_0x506fb4){const _0xe61a5a=_0x1833fc;this[_0xe61a5a(0x3a7)][_0xe61a5a(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0xe61a5a(0x7f4)],'content':{'type':_0x5e5186['LocalMediaStreamTrackFail'],'label':this[_0xe61a5a(0x671)],'trackKinds':[_0x506fb4['kind']]}});}[_0x1833fc(0x211)](_0x17f08c){const _0x4d5ecd=_0x1833fc,_0x4d40e5=()=>this[_0x4d5ecd(0x589)](_0x17f08c);_0x17f08c[_0x4d5ecd(0x6d2)](_0x4d5ecd(0x739),_0x4d40e5),_0x17f08c[_0x4d5ecd(0x6d2)](_0x4d5ecd(0x734),_0x4d40e5),this[_0x4d5ecd(0x1aa)]['set'](_0x17f08c[_0x4d5ecd(0x94b)],()=>{const _0x39c692=_0x4d5ecd;_0x17f08c[_0x39c692(0x51e)](_0x39c692(0x739),_0x4d40e5),_0x17f08c[_0x39c692(0x51e)](_0x39c692(0x734),_0x4d40e5),this[_0x39c692(0x1aa)][_0x39c692(0x8be)](_0x17f08c[_0x39c692(0x94b)]);});}}class _0x1e789e extends _0x2bd360{[_0x1833fc(0x54c)];[_0x1833fc(0x4a3)]=[];['clientStream'];[_0x1833fc(0x7a7)];[_0x1833fc(0x48d)];['sourceVideo'];[_0x1833fc(0x481)];[_0x1833fc(0x15c)];['interval'];constructor(_0x428ed9,_0x14b61d,_0x32f290,_0x2d3e59,_0x47de09,_0x47c6bf){const _0x307677=_0x1833fc;if(super(_0x428ed9,_0x14b61d,_0x32f290,_0x47c6bf),this['audioContext']=_0x47de09,this[_0x307677(0x98c)]=this['mediaStream'],this[_0x307677(0x6c4)]=document[_0x307677(0x2df)]('video'),this[_0x307677(0x6c4)]['autoplay']=!0x0,this[_0x307677(0x6c4)]['muted']=!0x0,this['sourceVideo'][_0x307677(0x4e1)]=this['clientStream'],this[_0x307677(0x6c4)]['load'](),this[_0x307677(0x6c4)][_0x307677(0x61a)]=()=>{const _0xf285b0=_0x307677;this[_0xf285b0(0x6c4)][_0xf285b0(0x428)]();},this['canvas']=document[_0x307677(0x2df)]('canvas'),this[_0x307677(0x15c)]=this[_0x307677(0x481)]['getContext']('2d'),this[_0x307677(0x18e)]=this[_0x307677(0x481)]['captureStream'](_0x2d3e59),this['audioDestination']=this[_0x307677(0x54c)][_0x307677(0x787)](),this[_0x307677(0x98c)][_0x307677(0x52c)]()['length']>0x0){const _0x2f8151=this[_0x307677(0x98c)][_0x307677(0x52c)]()[0x0];this[_0x307677(0x7a7)]=this[_0x307677(0x54c)][_0x307677(0x492)](new MediaStream([_0x2f8151])),this['audioSource'][_0x307677(0x58b)](this[_0x307677(0x48d)]);}const _0x1a944f=this['audioDestination'][_0x307677(0x76e)][_0x307677(0x56a)]()[0x0];this[_0x307677(0x18e)][_0x307677(0x4ac)](_0x1a944f),this['interval']=setInterval(()=>{const _0x3560b5=_0x307677;this[_0x3560b5(0x481)][_0x3560b5(0x2b0)]=this['sourceVideo'][_0x3560b5(0x271)],this[_0x3560b5(0x481)]['height']=this[_0x3560b5(0x6c4)]['videoHeight'],this[_0x3560b5(0x6c4)][_0x3560b5(0x271)]?(0x0!==this[_0x3560b5(0x98c)][_0x3560b5(0x3d4)]()['length']&&this['clientStream']['getVideoTracks']()[0x0][_0x3560b5(0x5de)]?this['mediaStream'][_0x3560b5(0x3d4)]()[0x0][_0x3560b5(0x5de)]=!0x0:this[_0x3560b5(0x18e)][_0x3560b5(0x3d4)]()[0x0][_0x3560b5(0x5de)]=!0x1,0x0!==this[_0x3560b5(0x98c)]['getAudioTracks']()['length']&&this[_0x3560b5(0x98c)][_0x3560b5(0x52c)]()[0x0][_0x3560b5(0x5de)]?this[_0x3560b5(0x18e)]['getAudioTracks']()[0x0][_0x3560b5(0x5de)]=!0x0:this['mediaStream'][_0x3560b5(0x52c)]()[0x0][_0x3560b5(0x5de)]=!0x1,this['context'][_0x3560b5(0x9b5)](this[_0x3560b5(0x6c4)],0x0,0x0)):this[_0x3560b5(0x15c)][_0x3560b5(0x766)](0x0,0x0,this[_0x3560b5(0x481)][_0x3560b5(0x2b0)],this['canvas']['height']);},0x3e8/_0x2d3e59);}[_0x1833fc(0x24c)](){const _0xf73e0d=_0x1833fc;clearInterval(this[_0xf73e0d(0x9cd)]),this[_0xf73e0d(0x6c4)][_0xf73e0d(0x467)](),this['canvas'][_0xf73e0d(0x467)](),this[_0xf73e0d(0x7a7)]?.[_0xf73e0d(0x684)](),this[_0xf73e0d(0x48d)][_0xf73e0d(0x684)](),this['mediaStream'][_0xf73e0d(0x56a)]()[_0xf73e0d(0x919)](_0x4e829d=>{const _0x582243=_0xf73e0d;_0x4e829d[_0x582243(0x6c3)](),this[_0x582243(0x18e)]['removeTrack'](_0x4e829d);}),super[_0xf73e0d(0x24c)]();}[_0x1833fc(0x4ac)](_0x3be585){const _0x3762f4=_0x1833fc,_0x353053=this[_0x3762f4(0x9e3)](_0x3be585['kind']);_0x353053&&this[_0x3762f4(0x7ba)](_0x353053),_0x3762f4(0x11f)!==_0x3be585[_0x3762f4(0x94b)]?(_0x3762f4(0x323)===_0x3be585[_0x3762f4(0x94b)]&&this[_0x3762f4(0x8dd)](_0x3be585),this[_0x3762f4(0x211)](_0x3be585)):this['addAudioTrack'](_0x3be585);}['removeTrack'](_0x1f797a){const _0x21e841=_0x1833fc,_0x3ba908=this['getTrackFromParam'](_0x1f797a);return _0x3ba908&&(_0x21e841(0x11f)===_0x3ba908[_0x21e841(0x94b)]&&(this[_0x21e841(0x7a7)]?.[_0x21e841(0x684)](),this[_0x21e841(0x7a7)]=void 0x0),this[_0x21e841(0x1aa)][_0x21e841(0x264)](_0x3ba908['kind'])?.(),this[_0x21e841(0x98c)]['removeTrack'](_0x3ba908)),_0x3ba908;}['replaceTrack'](_0x5448d9){const _0xeb96ee=_0x1833fc;this[_0xeb96ee(0x7ba)](_0x5448d9['kind']),this['addTrack'](_0x5448d9);}[_0x1833fc(0x750)](_0x802bb4){const _0x559dd6=_0x1833fc;this[_0x559dd6(0x4a3)]=_0x802bb4;}[_0x1833fc(0x9e3)](_0x32bf85){const _0x9f5cb5=_0x1833fc;return this[_0x9f5cb5(0x98c)][_0x9f5cb5(0x56a)]()['find'](_0x1feb22=>_0x1feb22[_0x9f5cb5(0x94b)]===_0x32bf85)||null;}[_0x1833fc(0x3fc)](_0x52d3b4){const _0xec887a=_0x1833fc;return _0xec887a(0xf8)==typeof _0x52d3b4?this[_0xec887a(0x9e3)](_0x52d3b4):_0x52d3b4;}['addAudioTrack'](_0x35b08f){const _0x3c1917=_0x1833fc;'suspended'===this[_0x3c1917(0x54c)][_0x3c1917(0x636)]&&this['audioContext'][_0x3c1917(0x8b3)](),this[_0x3c1917(0x98c)][_0x3c1917(0x4ac)](_0x35b08f),this[_0x3c1917(0x7a7)]=this[_0x3c1917(0x54c)][_0x3c1917(0x492)](this['clientStream']),this['audioSource'][_0x3c1917(0x58b)](this[_0x3c1917(0x48d)]);}['addVideoTrack'](_0x8a1437){const _0x2ada1b=_0x1833fc;this[_0x2ada1b(0x98c)]['addTrack'](_0x8a1437),this['sourceVideo'][_0x2ada1b(0x4c8)]();}}class _0x4cac0f extends _0x2bd360{}class _0x3c0c7d extends _0x25ea81{[_0x1833fc(0x86c)];[_0x1833fc(0x81a)];[_0x1833fc(0x889)];[_0x1833fc(0x595)];[_0x1833fc(0x790)];['options'];[_0x1833fc(0x46d)];['lastTransactionId'];['pendingSyncTransactions']=new Map();[_0x1833fc(0x3cb)]=new Map();['pendingFilesSyncing']=new Map();[_0x1833fc(0x217)]=new Map();['pendingFilesRename']=new Map();[_0x1833fc(0x840)]=new Map();[_0x1833fc(0x1ea)];[_0x1833fc(0x457)]=_0x4febb4();['listenerUnsubscribers']=new Map();[_0x1833fc(0x652)];['writes']=0x0;['reads']=0x0;[_0x1833fc(0x5ee)]=!0x0;[_0x1833fc(0x3c4)]=!0x0;['filesSynced']=0x0;['nodesConnected']=0x0;constructor(_0x4b7522,_0x10d92d,_0x1cf655,_0x1f416c,_0xcc3d52,_0xb3579d,_0x42f319,_0x1d4f8e){const _0x2b4ad5=_0x1833fc;if('string'!=typeof _0x10d92d)throw new _0x3b1f45(_0x5bdcd2[_0x2b4ad5(0x2da)],_0x2b4ad5(0x568));super(_0x4b7522,_0x10d92d),this['localNode']=_0x4b7522,this[_0x2b4ad5(0x81a)]=_0x1cf655,this[_0x2b4ad5(0x889)]=_0x1f416c,this[_0x2b4ad5(0x595)]=_0xcc3d52,this[_0x2b4ad5(0x790)]=_0x42f319,this[_0x2b4ad5(0x81d)]=_0x1d4f8e;const _0x2f552f='ccc'+this[_0x2b4ad5(0x889)]+_0x2b4ad5(0x496)+this['clusterId']+'ccc'+_0x10d92d;this['objectStoreConnector']=new _0xb3579d(_0x2f552f),this['syncContent']=this[_0x2b4ad5(0x81d)]?.[_0x2b4ad5(0x5ee)]??!0x0,this['options']?.['standalone']&&(this[_0x2b4ad5(0x5ee)]=!0x1),this['sendStats']();}[_0x1833fc(0x780)](){const _0x1f7efa=_0x1833fc;this[_0x1f7efa(0x153)]();}[_0x1833fc(0x4ba)](){return _0x4f9f07['ContentType']['ObjectStore'];}async['sync'](){const _0x225578=_0x1833fc;this[_0x225578(0x3c4)]=!0x0;try{const _0x9ed041=await this['objectStoreConnector']['get'](_0x5692b1),_0x280bb1=await _0x9ed041[_0x225578(0x54b)]();this[_0x225578(0x23f)]=_0x280bb1;}catch(_0x2c764d){}this[_0x225578(0x46d)]=this[_0x225578(0x521)](async(_0x8d7f1e,_0x27845f)=>{const _0x158e82=_0x225578;if(!(_0x27845f instanceof File))try{if(_0x27845f['payloadType']===_0x454878['Request'])return void this[_0x158e82(0x3bf)](_0x27845f);this['handleTransactionPayload'](_0x27845f);}catch(_0x5b13a5){if(_0x5b13a5 instanceof _0x4511be)throw _0x5b13a5;throw new _0x4511be(_0x4511be['codes'][_0x158e82(0x6dc)],{'payload':_0x27845f});}}),await this['syncTransactions'](),this[_0x225578(0x5ee)]?await this['syncPendingFiles']():this[_0x225578(0x229)](),this['sendStats']();}[_0x1833fc(0x24c)](){const _0x58fc0d=_0x1833fc;this[_0x58fc0d(0x46d)]?.(),this['listenerUnsubscribers'][_0x58fc0d(0x919)](_0x1e1eb7=>_0x1e1eb7()),this['listenerUnsubscribers']['clear'](),clearTimeout(this[_0x58fc0d(0x652)]),delete this['debounceStats'],super[_0x58fc0d(0x24c)]();}[_0x1833fc(0x244)](){const _0x322d78=_0x1833fc;this[_0x322d78(0x3a7)]?.[_0x322d78(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d['Content'],'content':{'type':_0x5e5186[_0x322d78(0x499)],'label':this[_0x322d78(0x671)]}});}[_0x1833fc(0x456)](_0x23b1cc,_0x46b09f){const _0x359525=_0x1833fc;if(this[_0x359525(0x3f9)][_0x359525(0x977)](_0x23b1cc))throw new _0x3b1f45(_0x5bdcd2[_0x359525(0x4e9)],_0x359525(0x888));this[_0x359525(0x3f9)]['set'](_0x23b1cc,this[_0x359525(0x457)][_0x359525(0x456)](_0x46b09f)),this[_0x359525(0x3c4)]||this[_0x359525(0x457)][_0x359525(0x9e5)]({'event':_0x4f9f07[_0x359525(0x864)][_0x359525(0x1a4)],'payload':{'filesSynced':this[_0x359525(0x5ef)]}});}['unsubscribe'](_0x35f8f9){const _0x33cccd=_0x1833fc;this[_0x33cccd(0x3f9)]['get'](_0x35f8f9)?.(),this['listenerUnsubscribers'][_0x33cccd(0x8be)](_0x35f8f9);}[_0x1833fc(0x9e5)](_0x1e54c5){const _0x35b265=_0x1833fc;switch(_0x1e54c5[_0x35b265(0x621)]){case _0x4f9f07['PayloadAction'][_0x35b265(0x9c8)]:return this[_0x35b265(0x3c1)](_0x1e54c5[_0x35b265(0x80b)],_0x1e54c5[_0x35b265(0x3b5)],_0x1e54c5[_0x35b265(0x81d)]);case _0x4f9f07[_0x35b265(0x7d6)]['Folder']:return this[_0x35b265(0xe6)](_0x1e54c5[_0x35b265(0x3b5)]);case _0x4f9f07[_0x35b265(0x7d6)][_0x35b265(0x178)]:return this[_0x35b265(0x8b1)](_0x1e54c5[_0x35b265(0x3b5)],_0x1e54c5[_0x35b265(0x5da)]);default:throw new _0x3b1f45(_0x5bdcd2['ObjectStoreInvalidPayload'],'Cannot\x20publish\x20payload:\x20'+_0x1e54c5);}}async[_0x1833fc(0x4be)](_0x5c79d5){const _0x507d5e=_0x1833fc;try{const _0x5cbfbb=(0x0,_0x6e2c44['v4'])(),_0x1c20b3=this['lastTransactionId'],_0x24ce64={'payloadType':_0x454878[_0x507d5e(0x5e9)],'action':_0x55c102['Delete'],'id':_0x5cbfbb,'parentId':_0x1c20b3,'path':_0x5c79d5};await this['publishTransaction'](_0x24ce64);const _0x29c47f=await this['deleteObject'](_0x5c79d5);!0x0!==this[_0x507d5e(0x81d)]?.['standalone']&&await this[_0x507d5e(0x77c)](_0x24ce64),_0x380207[_0x507d5e(0x82a)](_0x2ee7be[_0x507d5e(0x6a7)],{'type':'unpublish','label':this[_0x507d5e(0x671)],'nodeId':this[_0x507d5e(0x86c)][_0x507d5e(0x76b)](),'nodeType':this[_0x507d5e(0x86c)][_0x507d5e(0x339)],'clusterId':this[_0x507d5e(0x81a)],'kind':_0x29c47f,'path':_0x5c79d5}),this['writes']+=0x1,this[_0x507d5e(0x153)]();}catch(_0x23420c){if(_0x23420c instanceof _0x4511be)throw new _0x3b1f45(_0x5bdcd2['ObjectStoreNotInSync'],_0x507d5e(0x39f)+_0x5c79d5+_0x507d5e(0x931));throw new _0x3b1f45(_0x5bdcd2[_0x507d5e(0x573)],_0x507d5e(0x42d)+_0x5c79d5);}}async[_0x1833fc(0x264)](_0x113831,_0x3709fe){const _0x1d75e2=_0x1833fc;_0x380207[_0x1d75e2(0x82a)](_0x2ee7be[_0x1d75e2(0x6a7)],{'type':_0x1d75e2(0x264),'label':this[_0x1d75e2(0x671)],'nodeId':this[_0x1d75e2(0x86c)][_0x1d75e2(0x76b)](),'nodeType':this['localNode'][_0x1d75e2(0x339)],'clusterId':this['clusterId'],'path':_0x113831}),this[_0x1d75e2(0x4cd)]+=0x1,this[_0x1d75e2(0x153)]();try{return await this[_0x1d75e2(0x1ea)][_0x1d75e2(0x264)](_0x113831,_0x3709fe);}catch(_0x1cbaa7){try{await this[_0x1d75e2(0x1ea)][_0x1d75e2(0x264)](_0x113831+_0x4975f7);}catch(_0x2d1edf){throw new _0x3b1f45(_0x5bdcd2[_0x1d75e2(0x573)],'Cannot\x20get\x20file:\x20'+_0x113831);}throw new _0x3b1f45(_0x5bdcd2[_0x1d75e2(0x954)],_0x1d75e2(0x852));}}async[_0x1833fc(0xf7)](_0x4120cd,_0x2fa1e0){const _0x465a4a=_0x1833fc,{recursive:_0x339cf4=!0x1,includeSyncingFiles:_0x241ae8=!0x1}=_0x2fa1e0??{};_0x380207[_0x465a4a(0x82a)](_0x2ee7be[_0x465a4a(0x6a7)],{'type':_0x465a4a(0xf7),'label':this[_0x465a4a(0x671)],'nodeId':this[_0x465a4a(0x86c)][_0x465a4a(0x76b)](),'nodeType':this['localNode'][_0x465a4a(0x339)],'clusterId':this[_0x465a4a(0x81a)],'path':_0x4120cd}),this['reads']+=0x1,this[_0x465a4a(0x153)]();try{const _0x5c4352=await this[_0x465a4a(0x1ea)]['list'](_0x4120cd,_0x339cf4);return this['processList'](_0x5c4352,{'recursive':_0x339cf4,'includeSyncingFiles':_0x241ae8});}catch(_0x554064){throw new _0x3b1f45(_0x5bdcd2['ObjectStoreInvalidPath'],_0x465a4a(0x7c8)+_0x4120cd);}}[_0x1833fc(0xdd)](_0x189c42){const _0x158850=_0x1833fc;this['nodesConnected']+=0x1;for(const _0x331c24 of this[_0x158850(0x3cb)]['values']())this[_0x158850(0x77c)](_0x331c24,[_0x189c42]);}[_0x1833fc(0x985)](_0x297237){const _0x474c6b=_0x1833fc;this['nodesConnected']-=0x1;const _0x4bcc60=this['pendingFilesSyncing']['get'](_0x297237);if(_0x4bcc60){for(const [_0x345c09,_0x5e2edc]of _0x4bcc60[_0x474c6b(0x278)]())this[_0x474c6b(0x12b)](_0x345c09,_0x5e2edc);this[_0x474c6b(0x171)][_0x474c6b(0x8be)](_0x297237);}}async[_0x1833fc(0x285)](_0x102f6d='/'){const _0x520ba1=_0x1833fc;try{return await this['objectStoreConnector'][_0x520ba1(0x45a)](_0x102f6d);}catch(_0x3b1fdf){if(_0x3b1fdf instanceof Error&&_0x3b1fdf[_0x520ba1(0x96c)][_0x520ba1(0x778)](_0x520ba1(0x2c3)))return 0x0;throw new _0x3b1f45(_0x5bdcd2['ObjectStoreInvalidPath'],_0x520ba1(0x5a7)+_0x102f6d);}}[_0x1833fc(0x229)](){const _0x49bc19=_0x1833fc;this[_0x49bc19(0x3c4)]&&(this['isSyncing']=!0x1,this[_0x49bc19(0x457)]['publish']({'event':_0x4f9f07['StorageEventType']['SyncComplete'],'payload':{'filesSynced':this['filesSynced']}}));}async['processList'](_0x481142,{includeSyncingFiles:_0x3fc097=!0x1}){const _0x503ff5=_0x1833fc,_0x9a32e2=[];for(const _0x1385af of _0x481142)if(_0x1385af[_0x503ff5(0x94b)]!==_0x4f9f07[_0x503ff5(0x448)][_0x503ff5(0x383)]){if(_0x1385af[_0x503ff5(0x3cd)]!==_0x5692b1){if(_0x1385af['name'][_0x503ff5(0x78f)](_0x4975f7)){if(!_0x3fc097)continue;const _0x25c34e=_0x1385af;if(_0x25c34e[_0x503ff5(0x3cd)]=_0x25c34e['name'][_0x503ff5(0x996)](_0x4975f7,''),_0x25c34e[_0x503ff5(0x33a)]=_0x25c34e[_0x503ff5(0x33a)][_0x503ff5(0x996)](_0x4975f7,''),await this[_0x503ff5(0x237)](_0x25c34e['pathName'])){_0x481142['find'](_0x47bdba=>_0x47bdba[_0x503ff5(0x33a)]===_0x25c34e[_0x503ff5(0x33a)])['status']=_0x4f9f07['FileStatus']['Syncing'];continue;}_0x25c34e[_0x503ff5(0x599)]=_0x4f9f07[_0x503ff5(0x5fc)][_0x503ff5(0x154)];}_0x9a32e2[_0x503ff5(0x5ed)](_0x1385af);}}else _0x1385af[_0x503ff5(0x544)]=await this[_0x503ff5(0x21b)](_0x1385af[_0x503ff5(0x544)]??[],{'includeSyncingFiles':_0x3fc097}),_0x9a32e2[_0x503ff5(0x5ed)](_0x1385af);return _0x9a32e2;}async['publishFile'](_0x1ab915,_0x1fa90e,_0x3cb5ae){const _0xa5bdee=_0x1833fc;try{const _0xc02bff=(0x0,_0x6e2c44['v4'])(),_0x2b3b33=await _0x41e7f5(_0x1ab915),_0x433c80=_0x4161e7(_0x1fa90e??'/',_0x1ab915[_0xa5bdee(0x3cd)]);let _0x2eb2d7=!0x0;const _0x588c0a={'payloadType':_0x454878[_0xa5bdee(0x5e9)],'action':_0x55c102['FileWrite'],'id':_0xc02bff,'parentId':this[_0xa5bdee(0x23f)],'answererId':this[_0xa5bdee(0x86c)][_0xa5bdee(0x76b)](),'name':_0x1ab915['name'],'type':_0x1ab915[_0xa5bdee(0x339)],'path':_0x1fa90e??'/','skipEncryption':_0x3cb5ae?.[_0xa5bdee(0x842)]??!0x1,'checksum':_0x2b3b33};try{if(!_0x3cb5ae?.[_0xa5bdee(0x43b)])throw new Error('Publish\x20the\x20transaction');const _0x424c89=_0x433c80+_0x4975f7;await this[_0xa5bdee(0x1ea)]['get'](_0x424c89),_0x2eb2d7=!0x1,await this[_0xa5bdee(0x1ea)][_0xa5bdee(0x46a)](_0x424c89),this['objectRequests'][_0xa5bdee(0x8be)](_0x433c80);}catch(_0x2fa487){await this[_0xa5bdee(0x60d)](_0x588c0a);}if(this[_0xa5bdee(0x5ee)]||this['options']?.[_0xa5bdee(0x4bd)]?await this[_0xa5bdee(0x7fa)](_0x1ab915,_0x1fa90e,_0x3cb5ae):await this[_0xa5bdee(0x466)](_0x1ab915[_0xa5bdee(0x3cd)],_0x1fa90e??'/',{'checksum':_0x2b3b33,'skipEncryption':_0x3cb5ae?.['skipEncryption']??!0x1}),this[_0xa5bdee(0x840)]['has'](_0x433c80)){const [_0x56b3c3,_0x56312d]=this[_0xa5bdee(0x840)][_0xa5bdee(0x264)](_0x433c80);this[_0xa5bdee(0x840)]['set'](_0x433c80,[!0x0,_0x56312d]);try{await _0x56312d;}catch(_0x367752){}this[_0xa5bdee(0x840)][_0xa5bdee(0x8be)](_0x433c80);}_0x2eb2d7&&this[_0xa5bdee(0x138)]>0x0&&!0x0!==this['options']?.[_0xa5bdee(0x4bd)]&&await this[_0xa5bdee(0x2c1)](_0x1ab915,_0x588c0a),_0x380207['logServiceEvent'](_0x2ee7be['ObjectStorage'],{'type':'publish','label':this[_0xa5bdee(0x671)],'nodeId':this[_0xa5bdee(0x86c)][_0xa5bdee(0x76b)](),'nodeType':this[_0xa5bdee(0x86c)][_0xa5bdee(0x339)],'clusterId':this[_0xa5bdee(0x81a)],'kind':_0x4f9f07[_0xa5bdee(0x448)][_0xa5bdee(0x9c8)],'path':_0x1fa90e,'fileName':_0x1ab915[_0xa5bdee(0x3cd)],'fileType':_0x1ab915['type'],'size':_0x1ab915['size']}),this['writes']+=0x1,this[_0xa5bdee(0x153)]();}catch(_0x1937c6){if(_0x1937c6 instanceof _0x4511be)throw new _0x3b1f45(_0x5bdcd2[_0xa5bdee(0x954)],_0xa5bdee(0x852));throw new _0x3b1f45(_0x5bdcd2[_0xa5bdee(0x573)],_0xa5bdee(0x9a1)+_0x1fa90e+(_0x1fa90e?.[_0xa5bdee(0x78f)]('/')?'':'/')+_0x1ab915['name']);}}async[_0x1833fc(0xe6)](_0x46216e){const _0x2d9c9d=_0x1833fc;try{const _0x12d4be=(0x0,_0x6e2c44['v4'])(),_0x5a397d=this[_0x2d9c9d(0x23f)],_0x46eddb={'payloadType':_0x454878[_0x2d9c9d(0x5e9)],'action':_0x55c102['FolderCreate'],'id':_0x12d4be,'parentId':_0x5a397d,'path':_0x46216e};await this[_0x2d9c9d(0x60d)](_0x46eddb),await this[_0x2d9c9d(0x1ea)][_0x2d9c9d(0x312)](_0x46216e),!0x0!==this['options']?.[_0x2d9c9d(0x4bd)]&&await this['send'](_0x46eddb),_0x380207[_0x2d9c9d(0x82a)](_0x2ee7be['ObjectStorage'],{'type':_0x2d9c9d(0x9e5),'label':this['label'],'nodeId':this[_0x2d9c9d(0x86c)][_0x2d9c9d(0x76b)](),'nodeType':this[_0x2d9c9d(0x86c)][_0x2d9c9d(0x339)],'clusterId':this[_0x2d9c9d(0x81a)],'kind':_0x4f9f07[_0x2d9c9d(0x448)]['Folder'],'path':_0x46216e}),this[_0x2d9c9d(0x391)]+=0x1,this[_0x2d9c9d(0x153)]();}catch(_0x43c3a3){if(_0x43c3a3 instanceof _0x4511be)throw new _0x3b1f45(_0x5bdcd2[_0x2d9c9d(0x954)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x3b1f45(_0x5bdcd2[_0x2d9c9d(0x573)],'Cannot\x20publish\x20folder:\x20'+_0x46216e);}}async[_0x1833fc(0x8b1)](_0x1de016,_0x584d91){const _0x52c2cf=_0x1833fc;try{const _0x15a2ab=(0x0,_0x6e2c44['v4'])(),_0x4a88a2=this[_0x52c2cf(0x23f)],_0x14726c={'payloadType':_0x454878[_0x52c2cf(0x5e9)],'action':_0x55c102[_0x52c2cf(0x178)],'id':_0x15a2ab,'parentId':_0x4a88a2,'path':_0x1de016,'newPath':_0x584d91};await this[_0x52c2cf(0x60d)](_0x14726c);const _0x147780=await this[_0x52c2cf(0x16e)](_0x1de016,_0x584d91);!0x0!==this['options']?.[_0x52c2cf(0x4bd)]&&await this['send'](_0x14726c),_0x380207[_0x52c2cf(0x82a)](_0x2ee7be[_0x52c2cf(0x6a7)],{'type':'move','label':this[_0x52c2cf(0x671)],'nodeId':this[_0x52c2cf(0x86c)][_0x52c2cf(0x76b)](),'nodeType':this['localNode'][_0x52c2cf(0x339)],'clusterId':this[_0x52c2cf(0x81a)],'kind':_0x147780,'path':_0x1de016,'newPath':_0x584d91}),this['writes']+=0x1,this['sendStats']();}catch(_0x149a33){if(_0x149a33 instanceof _0x4511be)throw new _0x3b1f45(_0x5bdcd2[_0x52c2cf(0x954)],_0x52c2cf(0x852));throw new _0x3b1f45(_0x5bdcd2[_0x52c2cf(0x573)],_0x52c2cf(0x4c9)+_0x1de016);}}async[_0x1833fc(0x36b)](_0x4d3243,_0x204261=!0x1){const _0x10c196=_0x1833fc;if(this[_0x10c196(0x23f)]&&_0x4d3243[_0x10c196(0x6fc)]!==this[_0x10c196(0x23f)]&&_0x4d3243['id']!==this[_0x10c196(0x23f)]){if(!_0x4d3243[_0x10c196(0x6fc)])throw new _0x4511be(_0x4511be[_0x10c196(0x2a2)]['ObjectStoreInvalidSyncMessage']);this[_0x10c196(0x37f)][_0x10c196(0x174)](_0x4d3243['parentId'],_0x4d3243);}else{try{await this[_0x10c196(0x901)](_0x4d3243,_0x204261);}catch(_0x76a352){}await this[_0x10c196(0x6ef)](_0x4d3243['id']),await this[_0x10c196(0x344)](_0x4d3243['id'],_0x204261);}}async[_0x1833fc(0x901)](_0x1f84af,_0x3f3898=!0x1){const _0x53ed62=_0x1833fc;switch(_0x1f84af['action']){case _0x55c102[_0x53ed62(0x4e0)]:await this[_0x53ed62(0x4c5)](_0x1f84af);break;case _0x55c102[_0x53ed62(0x627)]:await this[_0x53ed62(0x722)](_0x1f84af);break;case _0x55c102[_0x53ed62(0x178)]:await this[_0x53ed62(0xd0)](_0x1f84af,_0x3f3898);break;case _0x55c102[_0x53ed62(0x9e9)]:await this[_0x53ed62(0xd4)](_0x1f84af,_0x3f3898);break;default:throw new _0x4511be(_0x4511be[_0x53ed62(0x2a2)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x1f84af});}}async[_0x1833fc(0x344)](_0x4a82a5,_0x40ec26=!0x1){const _0x4ecfa0=_0x1833fc;if(this[_0x4ecfa0(0x37f)]['has'](_0x4a82a5)){const _0x4089b5=this[_0x4ecfa0(0x37f)][_0x4ecfa0(0x264)](_0x4a82a5);this[_0x4ecfa0(0x37f)]['delete'](_0x4a82a5),await this[_0x4ecfa0(0x36b)](_0x4089b5,_0x40ec26);}}async[_0x1833fc(0x3bf)](_0xde2813){const _0x5ea05b=_0x1833fc;switch(_0xde2813[_0x5ea05b(0x621)]){case _0x55c102[_0x5ea05b(0x6e8)]:return this[_0x5ea05b(0x8c8)](_0xde2813);case _0x55c102[_0x5ea05b(0x804)]:return this[_0x5ea05b(0x4b3)](_0xde2813);case _0x55c102[_0x5ea05b(0x865)]:return this['handleFileSync'](_0xde2813);case _0x55c102[_0x5ea05b(0x27b)]:return this['handleFileWrite'](_0xde2813);default:throw new _0x4511be(_0x4511be[_0x5ea05b(0x2a2)][_0x5ea05b(0x6dc)],{'payload':_0xde2813});}}async[_0x1833fc(0x4c5)](_0x4ebfd4,_0x582d8e=0x0){const _0x179a55=_0x1833fc,_0x46766e=_0x4161e7(_0x4ebfd4[_0x179a55(0x3b5)],_0x4ebfd4['name']);if(!_0x4ebfd4[_0x179a55(0x87e)]||void 0x0===_0x4ebfd4[_0x179a55(0x295)]||!_0x4ebfd4['total'])return this[_0x179a55(0x85c)][_0x179a55(0x8be)](_0x46766e),void await this[_0x179a55(0x466)](_0x4ebfd4[_0x179a55(0x3cd)],_0x4ebfd4['path'],{'checksum':_0x4ebfd4[_0x179a55(0x121)],'skipEncryption':_0x4ebfd4[_0x179a55(0x842)]});if(this[_0x179a55(0x85c)][_0x179a55(0x977)](_0x46766e)){const _0x53ee3d=this[_0x179a55(0x85c)][_0x179a55(0x264)](_0x46766e);_0x53ee3d[_0x179a55(0x121)]!==_0x4ebfd4[_0x179a55(0x121)]&&(_0x53ee3d[_0x179a55(0x76e)]?.[_0x179a55(0x244)](),this['fileChunks'][_0x179a55(0x8be)](_0x46766e));}if(!this[_0x179a55(0x85c)][_0x179a55(0x977)](_0x46766e)){try{await this[_0x179a55(0x1ea)][_0x179a55(0x46a)](_0x46766e);}catch(_0x371c7f){}try{const _0x596153=this[_0x179a55(0x5ee)]?await this[_0x179a55(0x1ea)]['createWritableStream'](_0x46766e,{'skipEncryption':_0x4ebfd4[_0x179a55(0x842)]}):void 0x0,_0x21b337={'chunksReceived':_0x4ebfd4[_0x179a55(0x800)]??0x0,'bytesReceived':0x0,'stream':_0x596153,'checksum':_0x4ebfd4[_0x179a55(0x121)]};this[_0x179a55(0x85c)][_0x179a55(0x174)](_0x46766e,_0x21b337),await this[_0x179a55(0x466)](_0x4ebfd4[_0x179a55(0x3cd)],_0x4ebfd4[_0x179a55(0x3b5)],{'checksum':_0x4ebfd4[_0x179a55(0x121)],'skipEncryption':_0x4ebfd4['skipEncryption']});}catch(_0x9bb973){}}const _0x6f1994=this[_0x179a55(0x85c)][_0x179a55(0x264)](_0x46766e);if(_0x4ebfd4['checksum']!==_0x6f1994[_0x179a55(0x121)])return;if(this[_0x179a55(0x1c9)](_0x4ebfd4,_0x46766e),this[_0x179a55(0x5ee)]){if(!_0x6f1994[_0x179a55(0x76e)])throw new _0x4511be(_0x4511be[_0x179a55(0x2a2)][_0x179a55(0x6dc)],{'message':_0x179a55(0x2e0)});let _0xeed30e=_0x6f1994[_0x179a55(0x1ba)];if(_0x4ebfd4['index']!==_0xeed30e){if(_0xeed30e>_0x4ebfd4['index'])return;const _0x396e9c=2064.1259842519685;if(_0x4ebfd4[_0x179a55(0x295)]>_0xeed30e+_0x396e9c)return;if(_0x6f1994[_0x179a55(0x8da)]||(_0x6f1994['bufferedChunks']=[]),_0x6f1994[_0x179a55(0x8da)][_0x179a55(0x5af)]>8256.503937007874)throw this[_0x179a55(0x85c)]['delete'](_0x46766e),new _0x4511be(_0x4511be[_0x179a55(0x2a2)]['ObjectStoreInvalidSyncMessage'],{'message':'Buffered\x20chunks\x20are\x20too\x20large'});return void _0x6f1994[_0x179a55(0x8da)][_0x179a55(0x5ed)](_0x4ebfd4);}try{_0x6f1994[_0x179a55(0x1ba)]+=0x1,_0x6f1994['bytesReceived']+=_0x4ebfd4[_0x179a55(0x87e)]['byteLength'],await _0x6f1994['stream']['write'](_0x4ebfd4[_0x179a55(0x87e)]);}catch(_0x427945){if(console['error']('Error\x20writing\x20chunk\x20to\x20stream',_0x427945),_0x582d8e>0x3)throw this[_0x179a55(0x85c)][_0x179a55(0x8be)](_0x46766e),console['error']('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x427945),new _0x4511be(_0x4511be[_0x179a55(0x2a2)][_0x179a55(0x6dc)],{'message':_0x179a55(0x99e)});return this[_0x179a55(0x4c5)](_0x4ebfd4,_0x582d8e+0x1);}}try{await this[_0x179a55(0x7d1)](_0x6f1994,_0x4ebfd4[_0x179a55(0x295)]+0x1);}catch(_0xad87fc){throw this[_0x179a55(0x85c)][_0x179a55(0x8be)](_0x46766e),_0xad87fc;}if(this[_0x179a55(0x85c)][_0x179a55(0x174)](_0x46766e,_0x6f1994),_0x6f1994[_0x179a55(0x1ba)]<_0x4ebfd4[_0x179a55(0x5a9)])return;await this[_0x179a55(0x878)](_0x46766e),this[_0x179a55(0x5ee)]&&(await this['deletePendingFile'](_0x4ebfd4),_0x380207[_0x179a55(0x82a)](_0x2ee7be[_0x179a55(0x6a7)],{'type':_0x179a55(0x903),'label':this['label'],'nodeId':this[_0x179a55(0x86c)][_0x179a55(0x76b)](),'nodeType':this[_0x179a55(0x86c)][_0x179a55(0x339)],'clusterId':this[_0x179a55(0x81a)],'kind':_0x4f9f07['ObjectKind'][_0x179a55(0x9c8)],'path':_0x4ebfd4[_0x179a55(0x3b5)],'fileName':_0x4ebfd4[_0x179a55(0x3cd)],'fileType':_0x4ebfd4['type'],'size':_0x6f1994[_0x179a55(0x6fb)]}));const _0x36fcc9=this[_0x179a55(0x217)][_0x179a55(0x264)](_0x4ebfd4[_0x179a55(0x3b5)])??[];for(const _0x307e38 of _0x36fcc9)await this[_0x179a55(0x901)](_0x307e38);this[_0x179a55(0x217)][_0x179a55(0x8be)](_0x4ebfd4[_0x179a55(0x3b5)]),this[_0x179a55(0x457)]['publish']({'event':_0x4f9f07[_0x179a55(0x864)]['FileWrite'],'payload':{'file':{'kind':_0x4f9f07[_0x179a55(0x448)]['File'],'path':_0x4ebfd4['path'],'type':_0x4ebfd4[_0x179a55(0x339)],'size':_0x6f1994['bytesReceived'],'name':_0x4ebfd4[_0x179a55(0x3cd)],'pathName':_0x46766e,'status':this['syncContent']?_0x4f9f07['FileStatus'][_0x179a55(0x930)]:_0x4f9f07[_0x179a55(0x5fc)][_0x179a55(0x154)]}}}),this['sendStats']();}async[_0x1833fc(0x7d1)](_0x6b6cbb,_0x1f5e95){const _0x2dd467=_0x1833fc,_0x2a9978=_0x6b6cbb[_0x2dd467(0x76e)];let _0x585d3c=0x0;for(;_0x6b6cbb['bufferedChunks']&&_0x6b6cbb[_0x2dd467(0x8da)][_0x2dd467(0x5af)]>0x0;){const _0x316455=_0x6b6cbb['bufferedChunks']['find'](_0x56a96a=>_0x56a96a[_0x2dd467(0x295)]===_0x1f5e95+0x1);if(!_0x316455)break;_0x6b6cbb[_0x2dd467(0x8da)]=_0x6b6cbb[_0x2dd467(0x8da)][_0x2dd467(0x9a3)](_0x2396fd=>_0x2396fd['index']!==_0x1f5e95+0x1);try{await _0x2a9978[_0x2dd467(0x167)](_0x316455[_0x2dd467(0x87e)]),_0x1f5e95++;}catch(_0x4ea213){if(console[_0x2dd467(0x657)](_0x2dd467(0x47b),_0x4ea213),_0x585d3c>0x3)throw console[_0x2dd467(0x657)]('Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream',_0x4ea213),new _0x4511be(_0x4511be[_0x2dd467(0x2a2)]['ObjectStoreInvalidSyncMessage'],{'message':_0x2dd467(0x894)});_0x585d3c++;continue;}_0x6b6cbb[_0x2dd467(0x1ba)]+=0x1,_0x6b6cbb[_0x2dd467(0x6fb)]+=_0x316455[_0x2dd467(0x87e)][_0x2dd467(0x6b7)];}}async[_0x1833fc(0x722)](_0x51d607){const _0x16dedb=_0x1833fc;await this[_0x16dedb(0x1ea)]['createFolder'](_0x51d607[_0x16dedb(0x3b5)]);const [_0x2924dc,_0x1236a2]=_0x5d3dbf(_0x51d607[_0x16dedb(0x3b5)]);this[_0x16dedb(0x457)][_0x16dedb(0x9e5)]({'event':_0x4f9f07[_0x16dedb(0x864)]['FolderCreate'],'payload':{'folder':{'kind':_0x4f9f07[_0x16dedb(0x448)][_0x16dedb(0x383)],'name':_0x1236a2,'path':_0x2924dc,'pathName':_0x51d607[_0x16dedb(0x3b5)]}}});}async[_0x1833fc(0xd4)](_0x580fdd,_0x508560=!0x1){const _0x4b6c85=_0x1833fc;if(!_0x508560&&!this[_0x4b6c85(0x830)](_0x580fdd))return;const _0x3d6e37=await this[_0x4b6c85(0x46a)](_0x580fdd['path']),[_0x26e053,_0x1ebc2a]=_0x5d3dbf(_0x580fdd[_0x4b6c85(0x3b5)]);this['eventListener'][_0x4b6c85(0x9e5)]({'event':_0x3d6e37===_0x4f9f07[_0x4b6c85(0x448)][_0x4b6c85(0x383)]?_0x4f9f07[_0x4b6c85(0x864)]['FolderDelete']:_0x4f9f07['StorageEventType'][_0x4b6c85(0x64f)],'payload':{'name':_0x1ebc2a,'path':_0x26e053,'pathName':_0x580fdd[_0x4b6c85(0x3b5)]}}),this['sendStats']();}async[_0x1833fc(0xd0)](_0x5df8bf,_0x4a2565=!0x1){const _0x3cc8c6=_0x1833fc;if(!_0x4a2565&&!this[_0x3cc8c6(0x830)](_0x5df8bf))return this[_0x3cc8c6(0x737)][_0x3cc8c6(0x174)](_0x5df8bf[_0x3cc8c6(0x5da)],this[_0x3cc8c6(0x737)][_0x3cc8c6(0x264)](_0x5df8bf['path'])??_0x5df8bf[_0x3cc8c6(0x3b5)]),void this[_0x3cc8c6(0x737)][_0x3cc8c6(0x8be)](_0x5df8bf[_0x3cc8c6(0x3b5)]);this[_0x3cc8c6(0x737)][_0x3cc8c6(0x8be)](_0x5df8bf['path']);const _0x1af8c3=await this[_0x3cc8c6(0x1ea)][_0x3cc8c6(0x16e)](_0x5df8bf[_0x3cc8c6(0x3b5)],_0x5df8bf[_0x3cc8c6(0x5da)]),[_0x222e7e,_0x3ea7d1]=_0x5d3dbf(_0x5df8bf['path']),[_0x176643,_0x36a82b]=_0x5d3dbf(_0x5df8bf[_0x3cc8c6(0x5da)]);this[_0x3cc8c6(0x457)][_0x3cc8c6(0x9e5)]({'event':_0x1af8c3===_0x4f9f07[_0x3cc8c6(0x448)][_0x3cc8c6(0x383)]?_0x4f9f07[_0x3cc8c6(0x864)][_0x3cc8c6(0xe3)]:_0x4f9f07[_0x3cc8c6(0x864)][_0x3cc8c6(0x67e)],'payload':{'name':_0x36a82b,'path':_0x176643,'pathName':_0x5df8bf[_0x3cc8c6(0x5da)],'oldName':_0x3ea7d1,'oldPath':_0x222e7e,'oldPathName':_0x5df8bf[_0x3cc8c6(0x3b5)]}}),this[_0x3cc8c6(0x153)]();}[_0x1833fc(0x830)](_0x2d7e4f){const _0x1eae96=_0x1833fc,_0x383a10=this[_0x1eae96(0x737)][_0x1eae96(0x264)](_0x2d7e4f[_0x1eae96(0x3b5)])??_0x2d7e4f[_0x1eae96(0x3b5)];let _0x4613c7=!0x1;for(const _0x5bba13 of this['fileChunks'][_0x1eae96(0x727)]())if(_0x5bba13[_0x1eae96(0x51c)](_0x383a10)){const _0x547efb=this[_0x1eae96(0x217)][_0x1eae96(0x264)](_0x5bba13)??[];_0x547efb[_0x1eae96(0x5ed)](_0x2d7e4f),this[_0x1eae96(0x217)][_0x1eae96(0x174)](_0x5bba13,_0x547efb),_0x4613c7=!0x0;}return!_0x4613c7;}async['publishTransaction'](_0x2ed66f){const _0x382f8f=_0x1833fc;if(!this[_0x382f8f(0x81d)]?.['standalone']){if(!_0x2ed66f['id'])throw new _0x4511be(_0x4511be[_0x382f8f(0x2a2)][_0x382f8f(0x6dc)],{'message':'Missing\x20transaction\x20id'});if(_0x2ed66f[_0x382f8f(0x6fc)]!==this[_0x382f8f(0x23f)])throw new _0x4511be(_0x4511be['codes'][_0x382f8f(0x232)]);await this[_0x382f8f(0x595)][_0x382f8f(0x2ba)](_0x2ed66f,this[_0x382f8f(0x671)]),await this['updateLastTransactionId'](_0x2ed66f['id']);}}async[_0x1833fc(0x6ef)](_0x40d415){const _0x3963b8=_0x1833fc;this[_0x3963b8(0x23f)]=_0x40d415;const _0x3bbaa2=new File([new Blob([this[_0x3963b8(0x23f)]])],_0x5692b1,{'type':'text/plain'});await this[_0x3963b8(0x7fa)](_0x3bbaa2,'/');}async['handleFileRequest'](_0x1922b8){const _0x1d2f93=_0x1833fc;try{const _0x5b90ae=await this['get'](_0x1922b8[_0x1d2f93(0x3b5)]+'/'+_0x1922b8[_0x1d2f93(0x3cd)],{'skipEncryption':_0x1922b8[_0x1d2f93(0x842)]}),_0x13b768=await _0x41e7f5(_0x5b90ae);if(''!==_0x1922b8[_0x1d2f93(0x121)]&&_0x13b768!==_0x1922b8[_0x1d2f93(0x121)])return;_0x1922b8[_0x1d2f93(0x757)]=this[_0x1d2f93(0x86c)][_0x1d2f93(0x76b)](),_0x1922b8[_0x1d2f93(0x621)]=_0x55c102[_0x1d2f93(0x804)],await this[_0x1d2f93(0x77c)](_0x1922b8,[_0x1922b8[_0x1d2f93(0x5fb)]]);}catch(_0x33121e){}}async[_0x1833fc(0x4b3)](_0x4165e5){const _0xd837a1=_0x1833fc,_0x49f779=_0x4161e7(_0x4165e5[_0xd837a1(0x3b5)],_0x4165e5[_0xd837a1(0x3cd)]);if(!this[_0xd837a1(0x3cb)]['has'](_0x49f779))return;const _0x3bceaa=this[_0xd837a1(0x3cb)][_0xd837a1(0x264)](_0x49f779);_0x3bceaa['action']=_0x55c102[_0xd837a1(0x865)];const _0x2fb207=_0x4165e5['answererId'];if(!_0x2fb207)throw new _0x4511be(_0x4511be['codes'][_0xd837a1(0x6dc)],{'message':_0xd837a1(0x62a)});if(this['objectRequests'][_0xd837a1(0x8be)](_0x49f779),this['pendingFilesSyncing']['has'](_0x2fb207)||this[_0xd837a1(0x171)]['set'](_0x2fb207,new Map()),this['pendingFilesSyncing'][_0xd837a1(0x264)](_0x2fb207)[_0xd837a1(0x174)](_0x49f779,[_0x3bceaa,this[_0xd837a1(0x999)](_0x2fb207,_0x49f779)]),_0x3bceaa[_0xd837a1(0x757)]=_0x2fb207,_0x3bceaa[_0xd837a1(0x800)]=this[_0xd837a1(0x85c)][_0xd837a1(0x264)](_0x49f779)?.[_0xd837a1(0x1ba)]??0x0,0x0===_0x3bceaa[_0xd837a1(0x800)])try{const [_0x4c1ef8,_0x1f6caf]=await this[_0xd837a1(0x792)](_0x4165e5[_0xd837a1(0x3cd)],_0x4165e5[_0xd837a1(0x3b5)],_0x4165e5[_0xd837a1(0x121)]);_0x4c1ef8&&(_0x3bceaa['startIndex']=_0x1f6caf);}catch(_0x190680){}this[_0xd837a1(0x77c)](_0x3bceaa,[_0x2fb207]);}async[_0x1833fc(0x3f6)](_0x3f1511){const _0x3ae59a=_0x1833fc,_0x409bc3=_0x4161e7(_0x3f1511[_0x3ae59a(0x3b5)],_0x3f1511[_0x3ae59a(0x3cd)]),_0x281ed3=await this['get'](_0x409bc3,{'skipEncryption':_0x3f1511['skipEncryption']}),_0x4ba711={..._0x3f1511,'answererId':this[_0x3ae59a(0x86c)][_0x3ae59a(0x76b)](),'action':_0x55c102[_0x3ae59a(0x27b)],'startIndex':_0x3f1511[_0x3ae59a(0x800)]??0x0};await this[_0x3ae59a(0x2c1)](_0x281ed3,_0x4ba711,[_0x3f1511[_0x3ae59a(0x5fb)]]);}async[_0x1833fc(0x2c1)](_0x4495e5,_0x10e51d,_0x3f9e0d){let _0x45b1b0,_0x48382f;const _0x134fd7=new Promise(async(_0x5af652,_0xedd4a8)=>{_0x45b1b0=_0x5af652,_0x48382f=_0xedd4a8;});return((async()=>{const _0x6ac884=a0_0x17c7,_0x3b468d=Math[_0x6ac884(0x443)](_0x4495e5[_0x6ac884(0x813)]/_0x20249c);let _0x4718be=_0x10e51d['startIndex']??0x0;const _0x13ad90=_0x4161e7(_0x10e51d[_0x6ac884(0x3b5)],_0x10e51d[_0x6ac884(0x3cd)]);this['fileSendingMap'][_0x6ac884(0x174)](_0x13ad90,[!0x1,_0x134fd7]);for await(const _0x2e81cf of async function*(_0x405930,_0x3a4763=0x0,_0x250641){for await(const _0x3421f9 of _0x4107cf(_0x405930,_0x3a4763,_0x250641))yield _0x3421f9;}(_0x4495e5,_0x4718be,this[_0x6ac884(0x790)])){const [_0x1838f0]=this[_0x6ac884(0x840)][_0x6ac884(0x264)](_0x13ad90)??[];if(_0x1838f0)return this[_0x6ac884(0x840)][_0x6ac884(0x8be)](_0x13ad90),void _0x48382f(new Error('File\x20sending\x20interrupted'));if(this[_0x6ac884(0x217)]['has'](_0x13ad90)){const _0x1a96e6=this[_0x6ac884(0x217)][_0x6ac884(0x264)](_0x13ad90);for(const _0x5087e5 of _0x1a96e6)if(_0x5087e5[_0x6ac884(0x621)]===_0x55c102[_0x6ac884(0x4e0)]||_0x5087e5[_0x6ac884(0x621)]===_0x55c102[_0x6ac884(0x9e9)])return;}const _0x125fa7={..._0x10e51d,'type':_0x4495e5[_0x6ac884(0x339)],'data':_0x2e81cf,'index':_0x4718be,'total':_0x3b468d};this[_0x6ac884(0x77c)](_0x125fa7,_0x3f9e0d),_0x4718be++;}const _0x1a6982=setInterval(async()=>{const _0xe0bed0=_0x6ac884;await this[_0xe0bed0(0x790)]()>0x0||(clearInterval(_0x1a6982),_0x45b1b0());});this['fileSendingMap'][_0x6ac884(0x8be)](_0x13ad90);})()),_0x134fd7;}async['deletePendingFile'](_0x1429f2){const _0x368ba6=_0x1833fc;try{const _0x2c5ffe=_0x4161e7(_0x1429f2[_0x368ba6(0x3b5)],_0x1429f2[_0x368ba6(0x3cd)]),_0x53d8a6=_0x2c5ffe+_0x4975f7;await this['deleteObject'](_0x53d8a6);const [,_0x2f6e1d]=this[_0x368ba6(0x171)]['get'](_0x1429f2[_0x368ba6(0x757)])?.[_0x368ba6(0x264)](_0x2c5ffe)??[];_0x2f6e1d&&(clearTimeout(_0x2f6e1d),this[_0x368ba6(0x171)][_0x368ba6(0x264)](_0x1429f2[_0x368ba6(0x757)])[_0x368ba6(0x8be)](_0x2c5ffe));}catch(_0x4d9e09){}0x0===this[_0x368ba6(0x171)][_0x368ba6(0x264)](_0x1429f2['answererId'])?.['size']&&this[_0x368ba6(0x171)][_0x368ba6(0x8be)](_0x1429f2['answererId']),0x0===this['pendingFilesSyncing'][_0x368ba6(0x813)]&&0x0===this[_0x368ba6(0x3cb)][_0x368ba6(0x813)]&&this[_0x368ba6(0x229)]();}async['syncTransactions'](){const _0x4df1cc=_0x1833fc;try{const _0x1b1aa8=await this[_0x4df1cc(0x595)][_0x4df1cc(0x9d6)](this[_0x4df1cc(0x671)],this['lastTransactionId']);for(const _0x595a51 of _0x1b1aa8)await this[_0x4df1cc(0x36b)](_0x595a51,!0x0);}catch(_0xab4b25){if(_0xab4b25 instanceof _0x4511be&&_0xab4b25[_0x4df1cc(0x45d)]===_0x4511be[_0x4df1cc(0x2a2)][_0x4df1cc(0x104)]){await this[_0x4df1cc(0x1ea)][_0x4df1cc(0x46a)](_0x5692b1),delete this[_0x4df1cc(0x23f)];try{const _0x33c832=await this[_0x4df1cc(0x1ea)][_0x4df1cc(0xf7)]('/',!0x1);for(const _0x5d305e of _0x33c832)await this[_0x4df1cc(0x1ea)][_0x4df1cc(0x46a)](_0x5d305e['pathName']);}catch(_0x169235){}return await this[_0x4df1cc(0x4c3)]();}throw _0xab4b25;}}async['syncPendingFiles'](){const _0x25a130=_0x1833fc,_0x11c964=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x31ffab=async _0x162e27=>{const _0x3f45b5=a0_0x17c7;for(const _0x56d942 of _0x162e27){if(_0x56d942[_0x3f45b5(0x94b)]===_0x4f9f07[_0x3f45b5(0x448)][_0x3f45b5(0x383)]){_0x56d942[_0x3f45b5(0x544)]&&_0x56d942[_0x3f45b5(0x544)]['length']>0x0&&await _0x31ffab(_0x56d942[_0x3f45b5(0x544)]);continue;}if(_0x56d942[_0x3f45b5(0x599)]!==_0x4f9f07[_0x3f45b5(0x5fc)][_0x3f45b5(0x154)])continue;const _0x43142e=await this['get'](_0x56d942['pathName']+_0x4975f7),_0x12e51c=JSON[_0x3f45b5(0x85f)](await _0x43142e[_0x3f45b5(0x54b)]()),_0x517d2f=_0x56d942[_0x3f45b5(0x3cd)][_0x3f45b5(0x996)](_0x4975f7,''),_0x3460d0={'payloadType':_0x454878[_0x3f45b5(0x6ed)],'action':_0x55c102['RequestFile'],'sourceId':this[_0x3f45b5(0x86c)]['getId'](),'type':'','path':_0x56d942[_0x3f45b5(0x3b5)],'name':_0x517d2f,'checksum':_0x12e51c[_0x3f45b5(0x121)],'skipEncryption':_0x12e51c['skipEncryption']},_0x2347bb=_0x4161e7(_0x56d942[_0x3f45b5(0x3b5)],_0x517d2f);this[_0x3f45b5(0x3cb)][_0x3f45b5(0x174)](_0x2347bb,_0x3460d0);}};await _0x31ffab(_0x11c964),0x0===this[_0x25a130(0x3cb)][_0x25a130(0x813)]&&0x0===this[_0x25a130(0x171)][_0x25a130(0x813)]&&this[_0x25a130(0x229)]();}async['createPendingFileWrite'](_0x5d42e1,_0x270310,_0xcb7dc7){const _0x59fc44=_0x1833fc,_0x69138=new File([new Blob([JSON['stringify'](_0xcb7dc7)])],''+_0x5d42e1+_0x4975f7,{'type':_0x59fc44(0x707)});await this[_0x59fc44(0x7fa)](_0x69138,_0x270310);}async[_0x1833fc(0x792)](_0x43672c,_0x270735,_0x40ee6f){const _0x55e469=_0x1833fc;try{const _0x18fbce=_0x4161e7(_0x270735,_0x43672c),_0xea5389=_0x18fbce+_0x4975f7,_0x107463=await this[_0x55e469(0x1ea)][_0x55e469(0x264)](_0xea5389),{checksum:_0x1ab503,skipEncryption:_0x5d401a}=JSON[_0x55e469(0x85f)](await _0x107463[_0x55e469(0x54b)]()),_0x3d9090=(await this[_0x55e469(0x1ea)][_0x55e469(0x264)](_0x18fbce,{'skipEncryption':_0x5d401a}))[_0x55e469(0x813)];return _0x1ab503===_0x40ee6f&&_0x3d9090%_0x20249c==0x0?[!0x0,Math['round'](_0x3d9090/_0x20249c)]:(await this[_0x55e469(0x1ea)][_0x55e469(0x46a)](_0x18fbce),[!0x1,0x0]);}catch(_0x554be1){return[!0x1,0x0];}}[_0x1833fc(0x999)](_0x4d8784,_0x2cb5ba){const _0x3eb38a=_0x1833fc,[_0x421c9e,_0x45131c]=this[_0x3eb38a(0x171)][_0x3eb38a(0x264)](_0x4d8784)?.[_0x3eb38a(0x264)](_0x2cb5ba)??[];return _0x45131c&&clearTimeout(_0x45131c),setTimeout(()=>{const _0x1e9631=_0x3eb38a,[_0x1d21eb,_0x2b3bb]=this[_0x1e9631(0x171)][_0x1e9631(0x264)](_0x4d8784)[_0x1e9631(0x264)](_0x2cb5ba);this[_0x1e9631(0x12b)](_0x1d21eb,_0x2b3bb);},0x927c0);}async[_0x1833fc(0x12b)](_0x55fa64,_0x586589){const _0x334b1f=_0x1833fc;clearTimeout(_0x586589),_0x55fa64['action']=_0x55c102[_0x334b1f(0x6e8)],this[_0x334b1f(0x3cb)][_0x334b1f(0x174)](_0x4161e7(_0x55fa64['path'],_0x55fa64[_0x334b1f(0x3cd)]),_0x55fa64),this['send'](_0x55fa64);}[_0x1833fc(0x1c9)](_0x389ccf,_0x4ec305){const _0x26488c=_0x1833fc;if(!this[_0x26488c(0x5ee)])return;this['pendingFilesSyncing'][_0x26488c(0x977)](_0x389ccf[_0x26488c(0x757)])||this[_0x26488c(0x171)][_0x26488c(0x174)](_0x389ccf[_0x26488c(0x757)],new Map());const [_0x5aaf24]=this['pendingFilesSyncing'][_0x26488c(0x264)](_0x389ccf['answererId'])[_0x26488c(0x264)](_0x4ec305)??[{'payloadType':_0x454878[_0x26488c(0x6ed)],'action':_0x55c102[_0x26488c(0x6e8)],'sourceId':this[_0x26488c(0x86c)][_0x26488c(0x76b)](),'type':_0x389ccf['type'],'name':_0x389ccf[_0x26488c(0x3cd)],'path':_0x389ccf[_0x26488c(0x3b5)],'skipEncryption':_0x389ccf[_0x26488c(0x842)],'checksum':_0x389ccf['checksum'],'answererId':_0x389ccf[_0x26488c(0x757)]}];this[_0x26488c(0x171)][_0x26488c(0x264)](_0x389ccf[_0x26488c(0x757)])['set'](_0x4ec305,[_0x5aaf24,this[_0x26488c(0x999)](_0x389ccf[_0x26488c(0x757)],_0x4ec305)]);}async[_0x1833fc(0x7fa)](_0x434d6a,_0x20454e,_0x5acb53){const _0x4f7714=_0x1833fc;this[_0x4f7714(0x3c4)]&&(this[_0x4f7714(0x5ef)]+=0x1),await this['objectStoreConnector'][_0x4f7714(0x7fa)](_0x434d6a,_0x20454e,_0x5acb53);}async['deleteObject'](_0x434cfa){const _0x540e15=_0x1833fc;try{const _0x2ee5c2=await this[_0x540e15(0x1ea)]['deleteObject'](_0x434cfa);if(!_0x434cfa[_0x540e15(0x78f)](_0x4975f7))try{await this[_0x540e15(0x1ea)][_0x540e15(0x46a)](_0x434cfa+_0x4975f7);}catch(_0x50e8ed){}return this[_0x540e15(0x3c4)]&&_0x2ee5c2===_0x4f9f07[_0x540e15(0x448)]['File']&&(this[_0x540e15(0x5ef)]+=0x1),_0x2ee5c2;}catch(_0x3743cc){return await this[_0x540e15(0x1ea)][_0x540e15(0x46a)](_0x434cfa+_0x4975f7);}}async[_0x1833fc(0x16e)](_0x58dc26,_0x18d761){const _0x31c926=_0x1833fc;try{const _0x16a42c=await this['objectStoreConnector'][_0x31c926(0x16e)](_0x58dc26,_0x18d761);if(!_0x58dc26[_0x31c926(0x78f)](_0x4975f7))try{await this[_0x31c926(0x1ea)]['moveObject'](_0x58dc26+_0x4975f7,_0x18d761+_0x4975f7);}catch(_0x36e79f){}return _0x16a42c;}catch(_0x10582e){return await this[_0x31c926(0x1ea)][_0x31c926(0x16e)](_0x58dc26+_0x4975f7,_0x18d761+_0x4975f7);}}[_0x1833fc(0x153)](){const _0x5d21fb=_0x1833fc;this[_0x5d21fb(0x652)]&&clearTimeout(this[_0x5d21fb(0x652)]),this[_0x5d21fb(0x652)]=setTimeout(async()=>{const _0x1fca72=_0x5d21fb;delete this['debounceStats'];const _0x2de667=await this[_0x1fca72(0x1ea)][_0x1fca72(0x45a)]('/');this[_0x1fca72(0x3a7)]?.[_0x1fca72(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x1fca72(0x7f4)],'content':{'type':_0x5e5186[_0x1fca72(0x356)],'label':this['label'],'stats':{'timestamp':Date[_0x1fca72(0x1d5)](),'storage':_0x2de667,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x1fca72(0x7f2)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x1fca72(0x6fb)],'writes':this[_0x1fca72(0x391)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x1fca72(0x5ee)]&&_0x380207['logStorage'](_0x2ee7be[_0x1fca72(0x6a7)],_0x1fca72(0x496)+this[_0x1fca72(0x81a)]+'ccc'+this[_0x1fca72(0x671)],_0x2de667);},_0x17f2b1);}async[_0x1833fc(0x237)](_0x5e3875){try{return await this['get'](_0x5e3875),!0x0;}catch(_0x5a2ced){return!0x1;}}async[_0x1833fc(0x878)](_0x4ee81b){const _0x1f8230=_0x1833fc;if(!this['fileChunks'][_0x1f8230(0x977)](_0x4ee81b))return;const _0x15bf89=this[_0x1f8230(0x85c)][_0x1f8230(0x264)](_0x4ee81b);if(_0x15bf89['stream'])try{await _0x15bf89[_0x1f8230(0x76e)][_0x1f8230(0x244)]();}catch(_0x2ffc15){console[_0x1f8230(0x657)]('Error\x20closing\x20writable\x20stream',_0x2ffc15);}this[_0x1f8230(0x85c)][_0x1f8230(0x8be)](_0x4ee81b);}}class _0xce9a0d extends _0x25ea81{[_0x1833fc(0x86c)];[_0x1833fc(0x81a)];[_0x1833fc(0x46d)]=new Map();[_0x1833fc(0x652)];constructor(_0x489546,_0x365ca8,_0x850796){const _0x18d0f8=_0x1833fc;if(_0x18d0f8(0xf8)!=typeof _0x365ca8)throw new _0x3b1f45(_0x5bdcd2[_0x18d0f8(0x772)],_0x18d0f8(0x59a));super(_0x489546,_0x365ca8),this['localNode']=_0x489546,this[_0x18d0f8(0x81a)]=_0x850796,this[_0x18d0f8(0x153)]();}[_0x1833fc(0x780)](){const _0x17b475=_0x1833fc;this[_0x17b475(0x153)]();}['getContentType'](){return _0x4f9f07['ContentType']['PubSub'];}[_0x1833fc(0x9e5)](_0x3d26a2,_0x242bc1){const _0x3fb2a3=_0x1833fc;_0x380207[_0x3fb2a3(0x41b)](_0x381da1[_0x3fb2a3(0x30b)],'PubSubTopic\x20publish',this['localNode'][_0x3fb2a3(0x76b)](),_0x3d26a2,_0x242bc1),_0x380207[_0x3fb2a3(0x82a)](_0x2ee7be[_0x3fb2a3(0x30b)],{'type':_0x3fb2a3(0x9e5),'label':this[_0x3fb2a3(0x671)],'nodeId':this[_0x3fb2a3(0x86c)]['getId'](),'nodeType':this['localNode'][_0x3fb2a3(0x339)],'clusterId':this[_0x3fb2a3(0x81a)],'remoteIds':_0x242bc1??[],'contentType':_0x3d26a2 instanceof File?_0x4f9f07[_0x3fb2a3(0x30a)][_0x3fb2a3(0x9c8)]:_0x4f9f07[_0x3fb2a3(0x30a)]['Data'],'size':_0x3d26a2 instanceof File?_0x3d26a2['size']:JSON[_0x3fb2a3(0x33b)](_0x3d26a2)['length']}),this[_0x3fb2a3(0x153)](),this['send'](_0x3d26a2,_0x242bc1);}[_0x1833fc(0x456)](_0x508571,_0x1e400c){const _0x5d0ff7=_0x1833fc;if(this[_0x5d0ff7(0x46d)][_0x5d0ff7(0x977)](_0x508571))throw new _0x3b1f45(_0x5bdcd2[_0x5d0ff7(0x168)],_0x5d0ff7(0x8a9));this[_0x5d0ff7(0x46d)][_0x5d0ff7(0x174)](_0x508571,this['onMessage']((_0x48f86b,_0x4b801a)=>{const _0xaaadb4=_0x5d0ff7;_0xaaadb4(0x87e)===_0x508571&&_0x4b801a instanceof File||!(_0xaaadb4(0x80b)!==_0x508571||_0x4b801a instanceof File)||(_0x380207[_0xaaadb4(0x41b)](_0x381da1[_0xaaadb4(0x30b)],_0xaaadb4(0x7e0),this[_0xaaadb4(0x86c)][_0xaaadb4(0x76b)](),_0x48f86b,_0x4b801a),_0x380207['logServiceEvent'](_0x2ee7be[_0xaaadb4(0x30b)],{'type':_0xaaadb4(0x456),'label':this[_0xaaadb4(0x671)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0xaaadb4(0x339)],'clusterId':this[_0xaaadb4(0x81a)],'remoteId':_0x48f86b,'contentType':_0x508571,'size':_0x4b801a instanceof File?_0x4b801a['size']:JSON['stringify'](_0x4b801a)[_0xaaadb4(0x5af)]}),this[_0xaaadb4(0x153)](),_0x1e400c(_0x48f86b,_0x4b801a));}));}[_0x1833fc(0x788)](_0x5aeeef){const _0x14e796=_0x1833fc;this['unsubscribeHandler'][_0x14e796(0x264)](_0x5aeeef)?.(),this[_0x14e796(0x46d)][_0x14e796(0x8be)](_0x5aeeef);}[_0x1833fc(0x24c)](){const _0x3219e7=_0x1833fc;this['unsubscribeHandler'][_0x3219e7(0x919)](_0x663c03=>_0x663c03()),clearTimeout(this[_0x3219e7(0x652)]),delete this[_0x3219e7(0x652)],super[_0x3219e7(0x24c)]();}['close'](){const _0x67b7cb=_0x1833fc;this['systemTopic']?.[_0x67b7cb(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d['Content'],'content':{'type':_0x5e5186[_0x67b7cb(0x524)],'label':this[_0x67b7cb(0x671)]}});}[_0x1833fc(0x153)](){const _0x2298af=_0x1833fc;this[_0x2298af(0x652)]&&clearTimeout(this[_0x2298af(0x652)]),this[_0x2298af(0x652)]=setTimeout(()=>{const _0x289b25=_0x2298af;this[_0x289b25(0x3a7)]?.[_0x289b25(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d['Content'],'content':{'type':_0x5e5186[_0x289b25(0x62f)],'label':this[_0x289b25(0x671)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x289b25(0x1f2)],'messagesReceived':this[_0x289b25(0x7f2)],'bytesSent':this[_0x289b25(0x9c2)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x17f2b1);}}class _0x592063 extends _0x58abdf{[_0x1833fc(0x86c)];['internalId'];['availableTrackKinds'];['clusterId'];['unsubscribeHandler'];['resizeHandler'];[_0x1833fc(0x6b2)];['outgoingStreams']=new Map();['renderElement'];[_0x1833fc(0x42a)]=new Set();[_0x1833fc(0x4a1)];[_0x1833fc(0x5d9)]=_0x4febb4();[_0x1833fc(0x1aa)]=new Map();constructor(_0x58ae32,_0x450a6c,_0x2d41e5,_0x2b2711,_0x29ca56,_0x548ad4){const _0x1b94bb=_0x1833fc;super(_0x450a6c,_0x2d41e5,new MediaStream()),this[_0x1b94bb(0x86c)]=_0x58ae32,this[_0x1b94bb(0x10f)]=_0x2b2711,this[_0x1b94bb(0x233)]=_0x29ca56,this[_0x1b94bb(0x81a)]=_0x548ad4,this[_0x1b94bb(0x18e)][_0x1b94bb(0x56a)]()[_0x1b94bb(0x919)](_0x31749c=>this[_0x1b94bb(0x211)](_0x31749c));}[_0x1833fc(0x24c)](){const _0x3e222e=_0x1833fc;this[_0x3e222e(0x30d)][_0x3e222e(0x813)]>0x0&&(this[_0x3e222e(0x30d)][_0x3e222e(0x919)](_0x238ed5=>{const _0x4ddefd=_0x3e222e;_0x238ed5[_0x4ddefd(0x14f)](),_0x238ed5['destroy']();}),this[_0x3e222e(0x30d)][_0x3e222e(0x67d)]()),this[_0x3e222e(0x1aa)]['forEach'](_0x6eef9b=>_0x6eef9b()),this['mediaStream'][_0x3e222e(0x56a)]()[_0x3e222e(0x919)](_0x2572f0=>this[_0x3e222e(0x18e)][_0x3e222e(0x7ba)](_0x2572f0)),this[_0x3e222e(0x6b2)]&&(clearTimeout(this[_0x3e222e(0x6b2)]),delete this['updateDebounce']),this[_0x3e222e(0x824)]?.(),super[_0x3e222e(0x24c)]();}['registerSubscriber'](_0x5d3e5f){const _0x4e54b0=_0x1833fc;this[_0x4e54b0(0x46d)]=_0x5d3e5f[_0x4e54b0(0x456)](({content:_0x2d7403})=>{const _0x51cdd6=_0x4e54b0;switch(_0x2d7403['action']){case _0x45c51e['RemoteAdd']:if(_0x380207[_0x51cdd6(0x41b)](_0x381da1[_0x51cdd6(0x50a)],_0x51cdd6(0x8d4),this[_0x51cdd6(0x86c)][_0x51cdd6(0x76b)](),this[_0x51cdd6(0x4a1)]),_0x2d7403[_0x51cdd6(0x76e)]['id']!==this[_0x51cdd6(0x10f)]||_0x2d7403[_0x51cdd6(0x4a1)]!==this[_0x51cdd6(0x4a1)])return;this[_0x51cdd6(0x7ba)](_0x2d7403['track'][_0x51cdd6(0x94b)]),this[_0x51cdd6(0x18e)][_0x51cdd6(0x4ac)](_0x2d7403[_0x51cdd6(0x6ac)]);for(const [_0x3231a2,_0x3d8e0b]of this[_0x51cdd6(0x30d)][_0x51cdd6(0x544)]())try{_0x3d8e0b[_0x51cdd6(0x4ac)](_0x2d7403['track']);}catch(_0x4fb1e4){_0x3d8e0b['destroy'](),this['outgoingStreams']['delete'](_0x3231a2);}this[_0x51cdd6(0x211)](_0x2d7403[_0x51cdd6(0x6ac)]),this[_0x51cdd6(0x2f0)](),_0x51cdd6(0x323)===_0x2d7403[_0x51cdd6(0x6ac)][_0x51cdd6(0x94b)]&&this['renderElement']&&(this[_0x51cdd6(0x18e)]['active']?setTimeout(()=>this[_0x51cdd6(0x320)]?.[_0x51cdd6(0x428)](),0x0):setTimeout(()=>this[_0x51cdd6(0x320)]?.[_0x51cdd6(0x4c8)](),0x0),this[_0x51cdd6(0x975)]());break;case _0x45c51e['RemoteRemove']:if(_0x2d7403[_0x51cdd6(0x76e)]['id']!==this[_0x51cdd6(0x10f)]||_0x2d7403[_0x51cdd6(0x4a1)]!==this[_0x51cdd6(0x4a1)])return;this['removeTrack'](_0x2d7403[_0x51cdd6(0x6ac)][_0x51cdd6(0x94b)]),this['renderElement']&&'video'===_0x2d7403['track'][_0x51cdd6(0x94b)]&&(this[_0x51cdd6(0x824)]?.(),this['mediaStream']['getTracks']()[_0x51cdd6(0x5af)]>0x0?this[_0x51cdd6(0x320)][_0x51cdd6(0x4c8)]():this['renderElement'][_0x51cdd6(0x4e1)]=null);}});}[_0x1833fc(0x64d)](){const _0x4d264d=_0x1833fc;this[_0x4d264d(0x46d)]?.(),this[_0x4d264d(0x1aa)][_0x4d264d(0x919)](_0xc162a6=>_0xc162a6()),delete this[_0x4d264d(0x46d)];}['getInternalStreamId'](){const _0x1d7ca2=_0x1833fc;return this[_0x1d7ca2(0x10f)];}[_0x1833fc(0x401)](_0x712d9){const _0xd8b3b3=_0x1833fc;this[_0xd8b3b3(0x10f)]=_0x712d9;}[_0x1833fc(0x1b9)](){const _0x210c59=_0x1833fc;return this[_0x210c59(0x233)];}[_0x1833fc(0x728)](_0xf1ff48){const _0x1f639c=_0x1833fc;for(const _0x19be17 of _0xf1ff48||this['availableTrackKinds'])if(!this[_0x1f639c(0x18e)]['getTracks']()[_0x1f639c(0x33e)](_0x71a140=>_0x71a140['kind']===_0x19be17))return!0x1;return!0x0;}[_0x1833fc(0x2d2)](){const _0x41b2c0=_0x1833fc;let _0x307ba0={'width':0x0,'height':0x0};const _0x17d4b9=this[_0x41b2c0(0x18e)][_0x41b2c0(0x3d4)]();if(_0x17d4b9[_0x41b2c0(0x5af)]>0x0){const _0x24077e=_0x17d4b9[0x0][_0x41b2c0(0x88d)]();_0x24077e['width']&&_0x24077e[_0x41b2c0(0x2e5)]&&(_0x307ba0={'width':_0x24077e[_0x41b2c0(0x2b0)],'height':_0x24077e[_0x41b2c0(0x2e5)]});}return _0x307ba0;}[_0x1833fc(0x7b9)](_0x33dbb1){const _0x59ad00=_0x1833fc;for(const _0x2dff3f of _0x33dbb1)if(!this[_0x59ad00(0x42a)][_0x59ad00(0x977)](_0x2dff3f))return!0x1;return!0x0;}['getShareableStream'](_0x67f186,_0xfec9be){const _0x3c74a3=_0x1833fc;if(!this[_0x3c74a3(0x30d)][_0x3c74a3(0x977)](_0x67f186)){const _0x45d83b=new _0x2f4495(this[_0x3c74a3(0x40d)],this[_0x3c74a3(0x671)],this[_0x3c74a3(0x18e)],_0x67f186,_0xfec9be),_0x409ac5=_0x45d83b['onUnregisterPublisher'](()=>{const _0x3f62d4=_0x3c74a3;_0x409ac5(),this[_0x3f62d4(0x30d)][_0x3f62d4(0x264)](_0x67f186)?.['destroy'](),this[_0x3f62d4(0x30d)]['delete'](_0x67f186);});this[_0x3c74a3(0x30d)]['set'](_0x67f186,_0x45d83b),_0x45d83b[_0x3c74a3(0x494)](this[_0x3c74a3(0x3a7)]);}return this['outgoingStreams'][_0x3c74a3(0x264)](_0x67f186);}[_0x1833fc(0x436)](){return this['mediaStream']['id'];}[_0x1833fc(0x4f6)](){const _0x497f30=_0x1833fc;return _0x4f9f07[_0x497f30(0x653)][_0x497f30(0x54f)];}[_0x1833fc(0x908)](){const _0x5443c2=_0x1833fc;return Array['from'](this[_0x5443c2(0x42a)]);}[_0x1833fc(0x456)](_0x2ec8fc){const _0x4cfa11=_0x1833fc;let _0x474182=[];if(_0x2ec8fc){_0x4cfa11(0x530)!=typeof _0x2ec8fc[_0x4cfa11(0x323)]||_0x2ec8fc['video'][_0x4cfa11(0x320)]instanceof HTMLVideoElement||!this[_0x4cfa11(0x320)]||(_0x2ec8fc[_0x4cfa11(0x323)]={'renderElement':this[_0x4cfa11(0x320)]});try{(0x0,_0x4f9f07[_0x4cfa11(0x257)])(_0x2ec8fc);}catch(_0x4c495b){throw new _0x3b1f45(_0x5bdcd2[_0x4cfa11(0x3e9)],_0x4cfa11(0x902));}_0x2ec8fc['video']&&(_0x474182[_0x4cfa11(0x5ed)](_0x4cfa11(0x323)),_0x4cfa11(0x5ff)!=typeof _0x2ec8fc['video']&&_0x2ec8fc['video']['renderElement']&&(this[_0x4cfa11(0x320)]=_0x2ec8fc[_0x4cfa11(0x323)][_0x4cfa11(0x320)],_0x2ec8fc[_0x4cfa11(0x323)][_0x4cfa11(0x78d)]||(_0x2ec8fc[_0x4cfa11(0x323)][_0x4cfa11(0x78d)]={'width':this[_0x4cfa11(0x320)][_0x4cfa11(0x26b)],'height':this[_0x4cfa11(0x320)]['clientHeight']}),delete _0x2ec8fc[_0x4cfa11(0x323)][_0x4cfa11(0x320)])),_0x2ec8fc[_0x4cfa11(0x11f)]&&_0x474182['push'](_0x4cfa11(0x11f));}else _0x474182=this[_0x4cfa11(0x1b9)]();this[_0x4cfa11(0x7b9)](_0x474182)||(_0x474182[_0x4cfa11(0x919)](_0x3ef82e=>this[_0x4cfa11(0x42a)][_0x4cfa11(0x720)](_0x3ef82e)),this['systemTopic'][_0x4cfa11(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x4cfa11(0x7f4)],'content':{'type':_0x5e5186[_0x4cfa11(0x412)],'label':this['label'],'ownerId':this[_0x4cfa11(0x40d)][_0x4cfa11(0x76b)](),'trackKinds':_0x474182,'params':_0x2ec8fc}}),_0x380207['logServiceEvent'](_0x2ee7be[_0x4cfa11(0x2e8)],{'type':_0x4cfa11(0x456),'label':this['label'],'nodeId':this['localNode'][_0x4cfa11(0x76b)](),'nodeType':this['localNode'][_0x4cfa11(0x339)],'clusterId':this[_0x4cfa11(0x81a)],'sourceId':this[_0x4cfa11(0x40d)][_0x4cfa11(0x76b)](),'streamId':this[_0x4cfa11(0x10f)],'trackKinds':_0x474182}));}[_0x1833fc(0x669)](_0x246e6b){const _0x2bb3c9=_0x1833fc;try{(0x0,_0x4f9f07[_0x2bb3c9(0x257)])(_0x246e6b);}catch(_0x2e43db){throw new _0x3b1f45(_0x5bdcd2[_0x2bb3c9(0x3e9)],_0x2bb3c9(0x902));}this[_0x2bb3c9(0x6b2)]&&clearTimeout(this[_0x2bb3c9(0x6b2)]),this[_0x2bb3c9(0x6b2)]=setTimeout(()=>{const _0x71af48=_0x2bb3c9;delete this[_0x71af48(0x6b2)],this[_0x71af48(0x3a7)][_0x71af48(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d['Content'],'content':{'type':_0x5e5186[_0x71af48(0x5ec)],'label':this[_0x71af48(0x671)],'ownerId':this[_0x71af48(0x40d)][_0x71af48(0x76b)](),'params':_0x246e6b}});},0x1f4);}[_0x1833fc(0x788)](_0x260e22){const _0x3dd2f2=_0x1833fc;_0x260e22||(_0x260e22=this['getAvailableTrackKinds']()),(_0x260e22=Array[_0x3dd2f2(0x234)](_0x260e22)?_0x260e22:[_0x260e22])['forEach'](_0x122125=>this['subscribedTracks'][_0x3dd2f2(0x8be)](_0x122125)),this['systemTopic']['publish']({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x3dd2f2(0x7f4)],'content':{'type':_0x5e5186[_0x3dd2f2(0x73f)],'label':this['label'],'ownerId':this[_0x3dd2f2(0x40d)][_0x3dd2f2(0x76b)](),'trackKinds':_0x260e22,'remainingTracks':this['subscribedTracks']['size']}});}[_0x1833fc(0x606)](_0x8bfd1f){const _0x185b02=_0x1833fc;return this[_0x185b02(0x5d9)][_0x185b02(0x456)](_0x8bfd1f);}[_0x1833fc(0x552)](){const _0x48f4c0=_0x1833fc;return this[_0x48f4c0(0x4a1)];}['setProviderId'](_0x3231b6){const _0x1bcbe3=_0x1833fc;this[_0x1bcbe3(0x4a1)]!==_0x3231b6&&(this['providerId']=_0x3231b6,this[_0x1bcbe3(0x5d9)][_0x1bcbe3(0x9e5)](_0x3231b6));}[_0x1833fc(0x4f1)](_0x29745e){const _0xa0ed41=_0x1833fc;this[_0xa0ed41(0x1aa)][_0xa0ed41(0x264)](_0x29745e)?.(),this[_0xa0ed41(0x1aa)][_0xa0ed41(0x8be)](_0x29745e);}[_0x1833fc(0x7ba)](_0x28dc3b){const _0xb18bd9=_0x1833fc,_0x2dc172=this[_0xb18bd9(0x18e)][_0xb18bd9(0x56a)]()['find'](_0x3865f3=>_0x3865f3[_0xb18bd9(0x94b)]===_0x28dc3b);_0x2dc172&&(this['mediaStream'][_0xb18bd9(0x7ba)](_0x2dc172),this[_0xb18bd9(0x30d)][_0xb18bd9(0x919)](_0x437824=>_0x437824['removeTrack'](_0x28dc3b)),this[_0xb18bd9(0x1aa)][_0xb18bd9(0x264)](_0x28dc3b)?.());}[_0x1833fc(0x2f0)](){const _0x1a66fc=_0x1833fc;this[_0x1a66fc(0x320)]&&(this[_0x1a66fc(0x320)]['srcObject']&&this['renderElement']['srcObject']===this[_0x1a66fc(0x18e)]||(this['renderElement'][_0x1a66fc(0x4e1)]=this[_0x1a66fc(0x18e)]));}[_0x1833fc(0x975)](){const _0x3406dc=_0x1833fc;if(this[_0x3406dc(0x320)]&&!this['resizeHandler']&&_0x3406dc(0x384)!=typeof ResizeObserver){let _0x36eb55=this[_0x3406dc(0x320)][_0x3406dc(0x26b)],_0xe1fd08=this[_0x3406dc(0x320)][_0x3406dc(0x75a)];const _0x1c9b5f=new ResizeObserver(_0x4864c9=>{const _0x1b1509=_0x3406dc,{width:_0x25804b,height:_0x3764a2}=_0x4864c9[0x0][_0x1b1509(0x656)];_0x36eb55===_0x25804b&&_0xe1fd08===_0x3764a2||(_0x36eb55=Math[_0x1b1509(0x53d)](_0x25804b),_0xe1fd08=Math[_0x1b1509(0x53d)](_0x3764a2),this[_0x1b1509(0x669)]({'video':{'maxResolution':{'width':_0x25804b,'height':_0x3764a2}}}));});_0x1c9b5f[_0x3406dc(0x219)](this['renderElement']),this[_0x3406dc(0x824)]=()=>_0x1c9b5f['disconnect']();}}[_0x1833fc(0x87a)](_0x33113d){const _0x324064=_0x1833fc,_0x4254b8=[];for(const _0x4dfde5 of this[_0x324064(0x42a)])this['removeTrack'](_0x4dfde5),_0x4254b8['push'](_0x4dfde5);this[_0x324064(0x4a1)]&&this['systemTopic'][_0x324064(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x324064(0x7f4)],'content':{'type':_0x5e5186['RemoteMediaStreamTrackFail'],'label':this[_0x324064(0x671)],'streamId':this[_0x324064(0x10f)],'ownerId':this[_0x324064(0x40d)]['getId'](),'providerId':this[_0x324064(0x4a1)],'trackKinds':_0x4254b8}});}[_0x1833fc(0x211)](_0x186602){const _0x68531b=_0x1833fc,_0x40194f=()=>this['handleRemoteTrackFailure'](_0x186602);_0x186602['addEventListener']('ended',_0x40194f),_0x186602['addEventListener'](_0x68531b(0x734),_0x40194f),this[_0x68531b(0x1aa)][_0x68531b(0x174)](_0x186602[_0x68531b(0x94b)],()=>{const _0x2fc60e=_0x68531b;_0x186602['removeEventListener'](_0x2fc60e(0x739),_0x40194f),_0x186602[_0x2fc60e(0x51e)](_0x2fc60e(0x734),_0x40194f),this['trackEndedListeners'][_0x2fc60e(0x8be)](_0x186602[_0x2fc60e(0x94b)]);});}}class _0x21ed55 extends _0x25ea81{[_0x1833fc(0x86c)];[_0x1833fc(0x81a)];[_0x1833fc(0x889)];['db'];[_0x1833fc(0x652)];['writes']=0x0;[_0x1833fc(0x4cd)]=0x0;[_0x1833fc(0x426)]=!0x1;constructor(_0x21eda1,_0x3c61c4,_0x1d746e,_0x500b1c,_0x21c9f8){const _0x14e8a1=_0x1833fc;if(_0x14e8a1(0xf8)!=typeof _0x3c61c4)throw new _0x3b1f45(_0x5bdcd2[_0x14e8a1(0x21c)],_0x14e8a1(0x205));super(_0x21eda1,_0x3c61c4),this['localNode']=_0x21eda1,this[_0x14e8a1(0x81a)]=_0x1d746e,this[_0x14e8a1(0x889)]=_0x500b1c;const _0x30a5b2=_0x14e8a1(0x496)+this[_0x14e8a1(0x889)]+_0x14e8a1(0x496)+this[_0x14e8a1(0x81a)]+_0x14e8a1(0x496)+this[_0x14e8a1(0x671)];this['db']=new _0x21c9f8(_0x30a5b2),this[_0x14e8a1(0x153)]();}[_0x1833fc(0x1ae)](){const _0x246de6=_0x1833fc;return this[_0x246de6(0x426)];}[_0x1833fc(0x7f3)](_0x16701c){const _0x14a38b=_0x1833fc;this[_0x14a38b(0x426)]=_0x16701c;}[_0x1833fc(0x24c)](){const _0x1b0149=_0x1833fc;clearTimeout(this['debounceStats']),delete this[_0x1b0149(0x652)],super[_0x1b0149(0x24c)]();}[_0x1833fc(0x244)](){const _0x20e234=_0x1833fc;this['systemTopic']['publish']({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x20e234(0x7f4)],'content':{'type':_0x5e5186['CloseVectorDatabase'],'label':this[_0x20e234(0x671)]}});}[_0x1833fc(0x780)](){const _0x4b01d5=_0x1833fc;this[_0x4b01d5(0x153)]();}[_0x1833fc(0x4ba)](){const _0x14953b=_0x1833fc;return _0x4f9f07[_0x14953b(0x30a)]['VectorDatabase'];}[_0x1833fc(0x1da)](_0x42a7c4,_0x37d3da,_0x24accd,_0x147793){const _0x35d473=_0x1833fc,_0x19e9e0=this['db'][_0x35d473(0x1da)](_0x42a7c4,_0x37d3da,_0x24accd,_0x147793);return this['reads']+=0x1,_0x380207[_0x35d473(0x82a)](_0x2ee7be['VectorDatabase'],{'type':_0x35d473(0x1da),'label':this['label'],'nodeId':this[_0x35d473(0x86c)]['getId'](),'nodeType':this[_0x35d473(0x86c)][_0x35d473(0x339)],'clusterId':this[_0x35d473(0x81a)],'size':0x0}),this[_0x35d473(0x153)](),_0x19e9e0;}[_0x1833fc(0x44a)](_0x5e3198,_0x5b85da,_0x5d3e68,_0xda0f6a){const _0x3cd386=_0x1833fc;this['db'][_0x3cd386(0x44a)](_0x5e3198,_0x5b85da,_0x5d3e68,_0xda0f6a),this[_0x3cd386(0x391)]+=0x1,_0x380207[_0x3cd386(0x82a)](_0x2ee7be[_0x3cd386(0x23d)],{'type':_0x3cd386(0x44a),'label':this[_0x3cd386(0x671)],'nodeId':this[_0x3cd386(0x86c)][_0x3cd386(0x76b)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x3cd386(0x81a)],'size':_0xda0f6a['reduce']((_0x11ad93,_0x46d134)=>_0x11ad93+_0x46d134[_0x3cd386(0x5af)],0x0)}),this[_0x3cd386(0x153)]();}[_0x1833fc(0x467)](_0x3d0518){const _0x580aa2=_0x1833fc;this['db'][_0x580aa2(0x467)](_0x3d0518),this[_0x580aa2(0x391)]+=0x1,_0x380207[_0x580aa2(0x82a)](_0x2ee7be['VectorDatabase'],{'type':_0x580aa2(0x467),'label':this[_0x580aa2(0x671)],'nodeId':this['localNode'][_0x580aa2(0x76b)](),'nodeType':this[_0x580aa2(0x86c)][_0x580aa2(0x339)],'clusterId':this['clusterId'],'size':0x0}),this[_0x580aa2(0x153)]();}['saveToDisk'](_0x9ca1cc){const _0x48514a=_0x1833fc;this['db'][_0x48514a(0x7e3)](_0x9ca1cc);}[_0x1833fc(0x43e)](_0x3ff0ea){const _0x2e7159=_0x1833fc;this['db'][_0x2e7159(0x43e)](_0x3ff0ea);}['sendStats'](){const _0x32a6e8=_0x1833fc;this[_0x32a6e8(0x652)]&&clearTimeout(this[_0x32a6e8(0x652)]),this[_0x32a6e8(0x652)]=setTimeout(async()=>{const _0x1ee785=_0x32a6e8;delete this[_0x1ee785(0x652)];const _0x5bb453=this['db'][_0x1ee785(0x8e5)]()[_0x1ee785(0x6b7)];this[_0x1ee785(0x3a7)]['publish']({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x1ee785(0x7f4)],'content':{'type':_0x5e5186[_0x1ee785(0x5bc)],'label':this[_0x1ee785(0x671)],'stats':{'timestamp':Date[_0x1ee785(0x1d5)](),'storage':_0x5bb453,'messagesSent':this[_0x1ee785(0x1f2)],'messagesReceived':this[_0x1ee785(0x7f2)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x1ee785(0x6fb)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x380207[_0x1ee785(0x2e2)](_0x2ee7be[_0x1ee785(0x23d)],_0x1ee785(0x496)+this[_0x1ee785(0x81a)]+'ccc'+this['label'],_0x5bb453);},_0x17f2b1);}}class _0x48576f{['id'];[_0x1833fc(0x266)];[_0x1833fc(0x92f)];constructor(_0x3c27f6,_0x27365b=new Set(),_0x4ead19){const _0xe7aebb=_0x1833fc;this['id']=_0x3c27f6,this[_0xe7aebb(0x266)]=_0x27365b,this[_0xe7aebb(0x92f)]=_0x4ead19;}[_0x1833fc(0x244)](){const _0x38a3c1=_0x1833fc;this[_0x38a3c1(0x92f)]=void 0x0,this[_0x38a3c1(0x266)]['clear']();}['getId'](){return this['id'];}[_0x1833fc(0x92b)](){return this['rank'];}[_0x1833fc(0x108)](){const _0x33c821=_0x1833fc;return this[_0x33c821(0x266)];}}class _0x56ef15 extends _0x48576f{['id'];[_0x1833fc(0x935)];['email'];[_0x1833fc(0x266)];[_0x1833fc(0x92f)];[_0x1833fc(0x339)]=_0x4f9f07['NodeType'][_0x1833fc(0x38b)];constructor(_0x2af5ba,_0x18461b,_0x4a50b7,_0x1114c4=new Set(),_0x18195f){const _0x36bf73=_0x1833fc;super(_0x2af5ba,_0x1114c4,_0x18195f),this['id']=_0x2af5ba,this[_0x36bf73(0x935)]=_0x18461b,this[_0x36bf73(0x7aa)]=_0x4a50b7,this['remoteConnections']=_0x1114c4,this[_0x36bf73(0x92f)]=_0x18195f;}[_0x1833fc(0x9e8)](){const _0x379d4e=_0x1833fc;return this[_0x379d4e(0x935)];}['getEmail'](){const _0x35fac5=_0x1833fc;return this[_0x35fac5(0x7aa)];}}class _0x6b3118{[_0x1833fc(0x889)];[_0x1833fc(0x81a)];[_0x1833fc(0x851)];constructor(_0x5cce2b,_0x1300b9){const _0x55ec0b=_0x1833fc;this['vendorId']=_0x5cce2b,this[_0x55ec0b(0x81a)]=_0x1300b9,this[_0x55ec0b(0x851)]='ccc'+this[_0x55ec0b(0x889)]+'ccc'+this[_0x55ec0b(0x81a)];}async['writeTransaction'](_0x45c5ef,_0x46bf18){const _0x1ae57d=_0x1833fc,_0x1d333b=(0x0,_0x27c86b[_0x1ae57d(0x259)])(_0xc81657[_0x1ae57d(0x91c)](),'clusters/'+this[_0x1ae57d(0x851)]+_0x1ae57d(0x148)+_0x46bf18+_0x1ae57d(0x602)+_0x45c5ef['id']),_0xb688d6=(0x0,_0x27c86b[_0x1ae57d(0x3de)])(_0x1d333b);_0xb688d6['remove'](),_0x45c5ef[_0x1ae57d(0x6fc)]||delete _0x45c5ef['parentId'];try{await(0x0,_0x27c86b['set'])(_0x1d333b,_0x45c5ef);}catch(_0x4b8db2){throw await _0xb688d6[_0x1ae57d(0x585)](),new _0x4511be(_0x4511be[_0x1ae57d(0x2a2)][_0x1ae57d(0xea)]);}if(!0x1===(await(0x0,_0x27c86b['runTransaction'])((0x0,_0x27c86b[_0x1ae57d(0x259)])(_0xc81657['getDatabase'](),_0x1ae57d(0x5cc)+this[_0x1ae57d(0x851)]+_0x1ae57d(0x148)+_0x46bf18+_0x1ae57d(0x5e8)),_0x20666b=>_0x20666b?_0x20666b===_0x45c5ef[_0x1ae57d(0x6fc)]?_0x45c5ef['id']:void 0x0:_0x45c5ef['parentId']?_0x45c5ef['parentId']:_0x45c5ef['id']))[_0x1ae57d(0x79c)])throw await(0x0,_0x27c86b['remove'])(_0x1d333b),await _0xb688d6['cancel'](),new _0x4511be(_0x4511be[_0x1ae57d(0x2a2)]['ObjectStoreNotSynced']);await _0xb688d6[_0x1ae57d(0x585)]();}async[_0x1833fc(0x9d6)](_0x347df5,_0x5e07c6){const _0x4ea99a=_0x1833fc;let _0x58bcb6=[];const _0x27b7e5=(0x0,_0x27c86b['ref'])(_0xc81657[_0x4ea99a(0x91c)](),_0x4ea99a(0x5cc)+this[_0x4ea99a(0x851)]+_0x4ea99a(0x148)+_0x347df5+'/transactions');let _0x4c1574=await(0x0,_0x27c86b[_0x4ea99a(0x264)])((0x0,_0x27c86b[_0x4ea99a(0x5eb)])(_0x27b7e5,(0x0,_0x27c86b[_0x4ea99a(0x607)])(0x65),(0x0,_0x27c86b[_0x4ea99a(0x8ac)])()));if(!_0x4c1574[_0x4ea99a(0x7f1)]()){if(void 0x0!==_0x5e07c6)throw new _0x4511be(_0x4511be['codes'][_0x4ea99a(0x104)]);return _0x58bcb6;}const _0x38f35e=_0x4c1574['val']();for(;Object[_0x4ea99a(0x727)](_0x4c1574[_0x4ea99a(0x222)]())[_0x4ea99a(0x5af)]>0x64;){const _0x3e1e68=Object[_0x4ea99a(0x727)](_0x4c1574[_0x4ea99a(0x222)]()),_0x336b93=_0x3e1e68[_0x3e1e68[_0x4ea99a(0x5af)]-0x1];_0x4c1574=await(0x0,_0x27c86b[_0x4ea99a(0x264)])((0x0,_0x27c86b['query'])(_0x27b7e5,(0x0,_0x27c86b[_0x4ea99a(0x607)])(0x65),(0x0,_0x27c86b[_0x4ea99a(0x98a)])(_0x336b93),(0x0,_0x27c86b['orderByKey'])())),Object[_0x4ea99a(0x445)](_0x38f35e,_0x4c1574[_0x4ea99a(0x222)]());}if(_0x58bcb6=Object[_0x4ea99a(0x278)](_0x38f35e)[_0x4ea99a(0x9a3)](_0x3c510f=>_0x4ea99a(0xf8)!=typeof _0x3c510f),0x0===_0x58bcb6[_0x4ea99a(0x5af)]&&void 0x0!==_0x5e07c6)throw new _0x4511be(_0x4511be['codes'][_0x4ea99a(0x104)]);if(_0x58bcb6[_0x4ea99a(0x5af)]>0x0&&void 0x0!==_0x5e07c6&&!_0x58bcb6['find'](_0xca15a0=>_0xca15a0['id']===_0x5e07c6))throw new _0x4511be(_0x4511be['codes']['ObjectStoreInvalidState']);const _0x13bf7f=[];let _0x35cf12=_0x58bcb6[_0x4ea99a(0x33e)](_0x4ae245=>_0x4ae245['parentId']===_0x5e07c6);for(;_0x35cf12;)_0x13bf7f['push'](_0x35cf12),_0x35cf12=_0x58bcb6[_0x4ea99a(0x33e)](_0x1a1949=>_0x1a1949[_0x4ea99a(0x6fc)]===_0x35cf12['id']);return _0x13bf7f;}}class _0x472b9b{[_0x1833fc(0x317)];[_0x1833fc(0x81d)];[_0x1833fc(0x7f6)];[_0x1833fc(0x893)]=new Map();['remoteMediaStreams']=new Map();[_0x1833fc(0x8b9)]=new Map();['objectStores']=new Map();['externalStorageConnections']=new Map();[_0x1833fc(0x470)]=new Map();[_0x1833fc(0x1b8)]=new Map();[_0x1833fc(0x998)]=new Map();['jobDispatchers']=new Map();[_0x1833fc(0x7e9)]=new Map();[_0x1833fc(0x595)];constructor(_0x2501bd,_0x2bf0d,_0xca60f7){const _0x18ca3b=_0x1833fc;this[_0x18ca3b(0x317)]=_0x2501bd,this['options']=_0x2bf0d,this['searchApiKey']=_0xca60f7,this[_0x18ca3b(0x595)]=new _0x6b3118(this[_0x18ca3b(0x317)][_0x18ca3b(0x889)],this[_0x18ca3b(0x317)][_0x18ca3b(0x81a)]);}[_0x1833fc(0x244)](_0x2de2ce=!0x1){const _0x3ff667=_0x1833fc;this['remoteMediaStreams']['forEach']((_0x3586e2,_0x2a3df7)=>{const _0x180fbb=a0_0x17c7;_0x3586e2[_0x180fbb(0x919)]((_0x357b81,_0x32a4c1)=>{const _0x494fb6=_0x180fbb;this[_0x494fb6(0x414)](_0x2a3df7,_0x32a4c1);});}),_0x2de2ce||(_0x3bca3d[_0x3ff667(0x67d)](),this[_0x3ff667(0x893)][_0x3ff667(0x919)]((_0x36941e,_0x1611b1)=>{const _0x5d3f5a=_0x3ff667;this[_0x5d3f5a(0x90b)](_0x1611b1);}),this[_0x3ff667(0x8b9)][_0x3ff667(0x919)]((_0x16a92d,_0x57f138)=>{const _0x407dac=_0x3ff667;this[_0x407dac(0x139)](_0x57f138);}),this['objectStores']['forEach']((_0xeec8f7,_0x2efaf3)=>{this['removeObjectStore'](_0x2efaf3);}),this[_0x3ff667(0x7cd)]['forEach']((_0x13ae76,_0x1e6492)=>{const _0x460308=_0x3ff667;this[_0x460308(0x82f)](_0x1e6492);}),this[_0x3ff667(0x470)]['forEach']((_0x95688d,_0x3e4b40)=>{this['removeKeyValueDatabase'](_0x3e4b40);}),this['jobDispatchers']['forEach']((_0x3c4d2c,_0x5f0d8b)=>{this['removeJobDispatcher'](_0x5f0d8b);}),this['jobWorkers'][_0x3ff667(0x919)]((_0x24762d,_0x2b869e)=>{const _0x583d0a=_0x3ff667;this[_0x583d0a(0x24f)](_0x2b869e);}),this['vectorDatabases'][_0x3ff667(0x919)]((_0x3e31a5,_0x548402)=>{const _0x5e8da2=_0x3ff667;this[_0x5e8da2(0x442)](_0x548402);}),this['graphDatabases'][_0x3ff667(0x919)]((_0x22898a,_0x4eb61f)=>{const _0x30c180=_0x3ff667;this[_0x30c180(0x910)](_0x4eb61f);}));}[_0x1833fc(0x825)](_0x94070d,_0x2d0c45,_0x361541){const _0x4c43df=_0x1833fc;if(this[_0x4c43df(0xd3)]['has'](_0x94070d))throw new _0x3b1f45(_0x5bdcd2[_0x4c43df(0x1cb)],_0x4c43df(0x672));const _0x25be12=new _0x3c0c7d(this[_0x4c43df(0x317)]['localNode'],_0x94070d,this['configs'][_0x4c43df(0x81a)],this[_0x4c43df(0x317)]['vendorId'],this[_0x4c43df(0x595)],_0x2d0c45,()=>this[_0x4c43df(0x317)]['mediator']['waitForArrayBufferSize'](),_0x361541);return this['objectStores']['set'](_0x94070d,_0x25be12),this['configs'][_0x4c43df(0x28a)]['registerSystemSource'](_0x25be12),_0x25be12;}[_0x1833fc(0x7b5)](_0x51174f,_0x486877){const _0x2980bc=_0x1833fc;if(this[_0x2980bc(0xd3)][_0x2980bc(0x977)](_0x51174f))throw new _0x3b1f45(_0x5bdcd2[_0x2980bc(0x192)],_0x2980bc(0x32d));const _0x36ddf7=new _0x38f89d(this[_0x2980bc(0x317)][_0x2980bc(0x86c)],_0x51174f,this[_0x2980bc(0x317)][_0x2980bc(0x81a)],this[_0x2980bc(0x317)][_0x2980bc(0x889)],_0x486877);return this[_0x2980bc(0x7cd)]['set'](_0x51174f,_0x36ddf7),this[_0x2980bc(0x317)]['mediator'][_0x2980bc(0x212)](_0x36ddf7),_0x36ddf7;}async[_0x1833fc(0x455)](_0xc31be,_0x3ec1e3,_0x4daf14){const _0x4b062b=_0x1833fc;if(this[_0x4b062b(0x470)][_0x4b062b(0x977)](_0xc31be))throw new _0x3b1f45(_0x5bdcd2[_0x4b062b(0x374)],'Database\x20already\x20exists');try{const _0x275707=this[_0x4b062b(0x317)][_0x4b062b(0x28a)]['isNodeReady']['bind'](this[_0x4b062b(0x317)][_0x4b062b(0x28a)]),_0x513085=new _0x152f10(this[_0x4b062b(0x317)][_0x4b062b(0x86c)],_0xc31be,this[_0x4b062b(0x317)][_0x4b062b(0x81a)],this['configs']['vendorId'],_0x3ec1e3,_0x4daf14,_0x275707);return this[_0x4b062b(0x470)]['set'](_0xc31be,_0x513085),this['configs'][_0x4b062b(0x28a)][_0x4b062b(0x212)](_0x513085),_0x513085;}catch(_0x3592b4){if(_0x3592b4 instanceof _0x3b1f45)throw _0x3592b4;throw new _0x4511be(_0x4511be['codes'][_0x4b062b(0x1eb)],{'label':_0xc31be,'clusterId':this['configs'][_0x4b062b(0x81a)],'vendorId':this[_0x4b062b(0x317)][_0x4b062b(0x889)]});}}async['createJobDispatcher'](_0x3bb386,_0x5028ae){const _0x6c811f=_0x1833fc;if(this[_0x6c811f(0x8e0)][_0x6c811f(0x977)](_0x3bb386))throw new _0x3b1f45(_0x5bdcd2[_0x6c811f(0x277)],_0x6c811f(0x943));try{const _0x534b8c=new _0x45e78c(this[_0x6c811f(0x317)][_0x6c811f(0x86c)],_0x3bb386,_0x5028ae);return this['jobDispatchers'][_0x6c811f(0x174)](_0x3bb386,_0x534b8c),this['configs'][_0x6c811f(0x28a)][_0x6c811f(0x212)](_0x534b8c),_0x534b8c;}catch(_0xeae98b){if(_0xeae98b instanceof _0x3b1f45)throw _0xeae98b;throw new _0x4511be(_0x4511be['codes'][_0x6c811f(0x543)],{'label':_0x3bb386,'clusterId':this[_0x6c811f(0x317)][_0x6c811f(0x81a)],'vendorId':this[_0x6c811f(0x317)]['vendorId']});}}async[_0x1833fc(0x6a3)](_0xe7e78c,_0x54bafb){const _0x5058c5=_0x1833fc;if(this[_0x5058c5(0x8e0)][_0x5058c5(0x977)](_0xe7e78c))throw new _0x3b1f45(_0x5bdcd2[_0x5058c5(0x2b4)],_0x5058c5(0x844));if(this[_0x5058c5(0x7e9)][_0x5058c5(0x977)](_0xe7e78c))throw new _0x3b1f45(_0x5bdcd2['GenerativeAILabelConflict'],_0x5058c5(0x1ab));try{const _0x19a1e2=new _0x42d28c(this[_0x5058c5(0x317)]['localNode'],_0xe7e78c,this[_0x5058c5(0x317)][_0x5058c5(0x889)],_0x54bafb);return this[_0x5058c5(0x8e0)]['set'](_0xe7e78c,_0x19a1e2),this['configs'][_0x5058c5(0x28a)][_0x5058c5(0x212)](_0x19a1e2),_0x19a1e2;}catch(_0x34f6a8){if(_0x34f6a8 instanceof _0x3b1f45)throw _0x34f6a8;throw new _0x4511be(_0x4511be['codes']['GenerativeAIContextCreationFailed'],{'label':_0xe7e78c,'clusterId':this[_0x5058c5(0x317)][_0x5058c5(0x81a)],'vendorId':this['configs'][_0x5058c5(0x889)]});}}async[_0x1833fc(0x424)](_0x5c2c57,_0x560366,_0x46a5e8,_0x1f804a,_0x42bdd9,_0x184c64){const _0x4fbb1a=_0x1833fc;if(this['jobWorkers'][_0x4fbb1a(0x977)](_0x5c2c57))throw new _0x3b1f45(_0x5bdcd2[_0x4fbb1a(0x9b2)],_0x4fbb1a(0x98d));if(this[_0x4fbb1a(0x8e0)][_0x4fbb1a(0x977)](_0x5c2c57))throw new _0x3b1f45(_0x5bdcd2[_0x4fbb1a(0x26f)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x38c21d=new _0xd6be8(this[_0x4fbb1a(0x317)]['localNode'],_0x5c2c57,this['configs'][_0x4fbb1a(0x889)],_0x560366,this,_0x46a5e8,_0x1f804a,_0x42bdd9,this['searchApiKey'],_0x184c64);return this[_0x4fbb1a(0x7e9)][_0x4fbb1a(0x174)](_0x5c2c57,_0x38c21d),this[_0x4fbb1a(0x317)][_0x4fbb1a(0x28a)][_0x4fbb1a(0x212)](_0x38c21d),_0x38c21d;}catch(_0x585a72){if(_0x585a72 instanceof _0x3b1f45)throw _0x585a72;throw new _0x4511be(_0x4511be['codes']['GenerativeAIWorkerCreationFailed'],{'label':_0x5c2c57,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x4fbb1a(0x317)]['vendorId']});}}[_0x1833fc(0x328)](_0x5deb92,_0x224140){const _0x3355c4=_0x1833fc;if(this[_0x3355c4(0x998)][_0x3355c4(0x977)](_0x5deb92))throw new _0x3b1f45(_0x5bdcd2[_0x3355c4(0x767)],_0x3355c4(0x158));try{const _0x23594a=new _0x3b7f58(this[_0x3355c4(0x317)][_0x3355c4(0x86c)],_0x5deb92,this[_0x3355c4(0x317)][_0x3355c4(0x81a)],this[_0x3355c4(0x317)][_0x3355c4(0x889)],_0x224140);return this[_0x3355c4(0x998)][_0x3355c4(0x174)](_0x5deb92,_0x23594a),this[_0x3355c4(0x317)][_0x3355c4(0x28a)][_0x3355c4(0x212)](_0x23594a),_0x23594a;}catch(_0x5881cc){if(_0x5881cc instanceof _0x3b1f45)throw _0x5881cc;throw new _0x4511be(_0x4511be[_0x3355c4(0x2a2)][_0x3355c4(0x546)],{'label':_0x5deb92,'clusterId':this['configs'][_0x3355c4(0x81a)],'vendorId':this[_0x3355c4(0x317)][_0x3355c4(0x889)]});}}['createLocalDynamicMediaStream'](_0x2b383b,_0x293a1d){const _0x17d041=_0x1833fc;if(this['localMediaStreams'][_0x17d041(0x977)](_0x2b383b))throw new _0x3b1f45(_0x5bdcd2[_0x17d041(0x699)],_0x17d041(0x127));if(!this[_0x17d041(0x81d)]['audioContext'])throw new _0x3b1f45(_0x5bdcd2[_0x17d041(0x48c)],_0x17d041(0x503));const _0x4605dd=new _0x1e789e(this[_0x17d041(0x317)][_0x17d041(0x86c)],_0x2b383b,_0x293a1d,this[_0x17d041(0x81d)]['maxFps'],this[_0x17d041(0x81d)][_0x17d041(0x54c)],this[_0x17d041(0x317)][_0x17d041(0x81a)]);return this[_0x17d041(0x893)][_0x17d041(0x174)](_0x2b383b,_0x4605dd),this[_0x17d041(0x317)][_0x17d041(0x28a)][_0x17d041(0x212)](_0x4605dd),_0x4605dd[_0x17d041(0x9e5)](),_0x4605dd;}[_0x1833fc(0x2d8)](_0x10e9ca,_0x12ba29){const _0x52c641=_0x1833fc;if(this[_0x52c641(0x893)][_0x52c641(0x977)](_0x10e9ca))throw new _0x3b1f45(_0x5bdcd2[_0x52c641(0x699)],'Stream\x20already\x20exists');const _0x1dc9e0=new _0x4cac0f(this[_0x52c641(0x317)][_0x52c641(0x86c)],_0x10e9ca,_0x12ba29,this[_0x52c641(0x317)]['clusterId']);return this[_0x52c641(0x893)][_0x52c641(0x174)](_0x10e9ca,_0x1dc9e0),this[_0x52c641(0x317)][_0x52c641(0x28a)][_0x52c641(0x212)](_0x1dc9e0),_0x1dc9e0['publish'](),_0x1dc9e0;}[_0x1833fc(0x316)](_0x8173fc){const _0x3797f1=_0x1833fc;if(this[_0x3797f1(0x8b9)][_0x3797f1(0x977)](_0x8173fc))throw new _0x3b1f45(_0x5bdcd2['PubSubTopicAlreadyExists'],_0x3797f1(0x96f));const _0x5e8d52=new _0xce9a0d(this[_0x3797f1(0x317)][_0x3797f1(0x86c)],_0x8173fc,this[_0x3797f1(0x317)][_0x3797f1(0x81a)]);return this[_0x3797f1(0x8b9)]['set'](_0x8173fc,_0x5e8d52),this['configs'][_0x3797f1(0x28a)][_0x3797f1(0x212)](_0x5e8d52),_0x5e8d52;}[_0x1833fc(0x35d)](_0x21a724,_0x59fff5,_0x3057fb,_0x1d8849){const _0x384abf=_0x1833fc;this[_0x384abf(0x9eb)][_0x384abf(0x977)](_0x21a724)||this['remoteMediaStreams'][_0x384abf(0x174)](_0x21a724,new Map());const _0x513f1e=this[_0x384abf(0x9eb)][_0x384abf(0x264)](_0x21a724);if(_0x513f1e[_0x384abf(0x977)](_0x59fff5))throw new _0x3b1f45(_0x5bdcd2[_0x384abf(0x7cf)],_0x384abf(0x885));const _0x1ab108=new _0x56ef15(_0x21a724,'',''),_0x38dff6=new _0x592063(this[_0x384abf(0x317)][_0x384abf(0x86c)],_0x1ab108,_0x59fff5,_0x3057fb,_0x1d8849,this[_0x384abf(0x317)][_0x384abf(0x81a)]);return _0x513f1e[_0x384abf(0x174)](_0x59fff5,_0x38dff6),this[_0x384abf(0x317)][_0x384abf(0x28a)][_0x384abf(0x212)](_0x38dff6),_0x38dff6;}['createVectorDatabase'](_0x2386b1,_0x45af3c){const _0x3e7028=_0x1833fc;if(this[_0x3e7028(0x1b8)][_0x3e7028(0x977)](_0x2386b1))throw new _0x3b1f45(_0x5bdcd2[_0x3e7028(0x49c)],_0x3e7028(0x158));try{const _0x605a29=new _0x21ed55(this[_0x3e7028(0x317)]['localNode'],_0x2386b1,this[_0x3e7028(0x317)][_0x3e7028(0x81a)],this['configs'][_0x3e7028(0x889)],_0x45af3c);return this['vectorDatabases']['set'](_0x2386b1,_0x605a29),this[_0x3e7028(0x317)]['mediator'][_0x3e7028(0x212)](_0x605a29),_0x605a29;}catch(_0x5088bc){if(_0x5088bc instanceof _0x3b1f45)throw _0x5088bc;throw new _0x4511be(_0x4511be[_0x3e7028(0x2a2)][_0x3e7028(0x961)],{'label':_0x2386b1,'clusterId':this[_0x3e7028(0x317)][_0x3e7028(0x81a)],'vendorId':this['configs'][_0x3e7028(0x889)]});}}[_0x1833fc(0x59d)](_0x52e781){const _0x22af31=_0x1833fc,_0x144472=Array[_0x22af31(0x5cf)](this[_0x22af31(0xd3)]['values']());return _0x52e781?_0x144472[_0x22af31(0x9a3)](_0x52e781):_0x144472;}['getExternalStorageConnections'](_0x4a36d3){const _0x2a4fa8=_0x1833fc,_0x3094a3=Array[_0x2a4fa8(0x5cf)](this[_0x2a4fa8(0x7cd)][_0x2a4fa8(0x278)]());return _0x4a36d3?_0x3094a3[_0x2a4fa8(0x9a3)](_0x4a36d3):_0x3094a3;}[_0x1833fc(0x72a)](_0x25ab6a){const _0x2f2440=_0x1833fc,_0x141eb3=Array[_0x2f2440(0x5cf)](this[_0x2f2440(0x470)][_0x2f2440(0x278)]());return _0x25ab6a?_0x141eb3[_0x2f2440(0x9a3)](_0x25ab6a):_0x141eb3;}[_0x1833fc(0x686)](_0xe6e8ad){const _0x3eb141=_0x1833fc,_0x146538=Array[_0x3eb141(0x5cf)](this[_0x3eb141(0x8e0)][_0x3eb141(0x278)]());return _0xe6e8ad?_0x146538[_0x3eb141(0x9a3)](_0xe6e8ad):_0x146538;}[_0x1833fc(0xd7)](_0x51da1d){const _0x4596a6=_0x1833fc,_0x5808a2=Array['from'](this['jobWorkers'][_0x4596a6(0x278)]());return _0x51da1d?_0x5808a2[_0x4596a6(0x9a3)](_0x51da1d):_0x5808a2;}[_0x1833fc(0x1c1)](_0x5698b5){const _0x14884b=_0x1833fc,_0x6c2cff=Array[_0x14884b(0x5cf)](this['jobDispatchers'][_0x14884b(0x278)]())['filter'](_0x52283a=>_0x52283a instanceof _0x42d28c);return _0x5698b5?_0x6c2cff['filter'](_0x5698b5):_0x6c2cff;}[_0x1833fc(0x5aa)](_0x3047c6){const _0x438728=_0x1833fc,_0x4445d5=Array[_0x438728(0x5cf)](this[_0x438728(0x7e9)][_0x438728(0x278)]())[_0x438728(0x9a3)](_0x103701=>_0x103701 instanceof _0xd6be8);return _0x3047c6?_0x4445d5[_0x438728(0x9a3)](_0x3047c6):_0x4445d5;}['getGraphDatabases'](_0x236221){const _0x5f4268=_0x1833fc,_0x163bce=Array[_0x5f4268(0x5cf)](this[_0x5f4268(0x998)][_0x5f4268(0x278)]());return _0x236221?_0x163bce['filter'](_0x236221):_0x163bce;}['getLocalMediaStreams'](_0x511846){const _0x5c6512=_0x1833fc,_0xc155eb=Array[_0x5c6512(0x5cf)](this[_0x5c6512(0x893)][_0x5c6512(0x278)]());return _0x511846?_0xc155eb[_0x5c6512(0x9a3)](_0x511846):_0xc155eb;}[_0x1833fc(0x8c5)](_0x39705d){const _0x260538=_0x1833fc,_0x5534ff=Array[_0x260538(0x5cf)](this[_0x260538(0x8b9)][_0x260538(0x278)]());return _0x39705d?_0x5534ff[_0x260538(0x9a3)](_0x39705d):_0x5534ff;}['getRemoteMediaStreams'](_0x373150){const _0x520f35=_0x1833fc,_0x4325fe=Array[_0x520f35(0x5cf)](this['remoteMediaStreams'][_0x520f35(0x278)]())['reduce']((_0x4bfc33,_0x2fc94c)=>[..._0x4bfc33,...Array[_0x520f35(0x5cf)](_0x2fc94c[_0x520f35(0x278)]())],[]);return _0x373150?_0x4325fe[_0x520f35(0x9a3)](_0x373150):_0x4325fe;}[_0x1833fc(0x635)](_0x5699c1){const _0x3b74ad=_0x1833fc,_0x50c571=Array[_0x3b74ad(0x5cf)](this['vectorDatabases'][_0x3b74ad(0x278)]());return _0x5699c1?_0x50c571[_0x3b74ad(0x9a3)](_0x5699c1):_0x50c571;}[_0x1833fc(0x5b1)](_0xfbd7fb){const _0x4233c3=_0x1833fc,_0x12c16c=this[_0x4233c3(0xd3)][_0x4233c3(0x264)](_0xfbd7fb);if(!_0x12c16c)throw new _0x3b1f45(_0x5bdcd2['ObjectStoreDoesNotExist'],_0x4233c3(0x4ad));return _0x12c16c;}[_0x1833fc(0x429)](_0xbe4bde){const _0x59a83a=_0x1833fc,_0x434f68=_0xbe4bde['split']('-'),_0x3a193b=this[_0x59a83a(0x7cd)]['get'](_0x434f68[0x1]);if(!_0x3a193b)throw new _0x3b1f45(_0x5bdcd2[_0x59a83a(0x57b)],_0x59a83a(0x88a));return _0x3a193b;}[_0x1833fc(0x603)](_0x730a26){const _0x1eb89f=_0x1833fc,_0x252465=this[_0x1eb89f(0x998)][_0x1eb89f(0x264)](_0x730a26);if(!_0x252465)throw new _0x3b1f45(_0x5bdcd2[_0x1eb89f(0x403)],_0x1eb89f(0x179));return _0x252465;}['getKeyValueDatabase'](_0x1f74f3){const _0x59227d=_0x1833fc,_0x4d64d0=this[_0x59227d(0x470)][_0x59227d(0x264)](_0x1f74f3);if(!_0x4d64d0)throw new _0x3b1f45(_0x5bdcd2[_0x59227d(0x5cb)],_0x59227d(0x16b));return _0x4d64d0;}['getPubSubTopic'](_0x1b74ff){const _0x5c2521=_0x1833fc,_0x535849=this['pubSubTopics'][_0x5c2521(0x264)](_0x1b74ff);if(!_0x535849)throw new _0x3b1f45(_0x5bdcd2[_0x5c2521(0x5c6)],'PubSubTopic\x20not\x20found');return _0x535849;}['getVectorDatabase'](_0x2fe990){const _0x3d6ecd=_0x1833fc,_0x16f887=this['vectorDatabases'][_0x3d6ecd(0x264)](_0x2fe990);if(!_0x16f887)throw new _0x3b1f45(_0x5bdcd2[_0x3d6ecd(0x993)],_0x3d6ecd(0x447));return _0x16f887;}[_0x1833fc(0x74e)](_0x11ec44){const _0x4f3d27=_0x1833fc;switch(_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x339)]){case _0x5e5186[_0x4f3d27(0x99d)]:this[_0x4f3d27(0x558)](_0x11ec44[_0x4f3d27(0x3ff)]);break;case _0x5e5186[_0x4f3d27(0x1d8)]:this[_0x4f3d27(0x550)](_0x11ec44[_0x4f3d27(0x3ff)]);break;case _0x5e5186[_0x4f3d27(0x240)]:this['removeJobDispatcher'](_0x11ec44[_0x4f3d27(0x3ff)]['label']);break;case _0x5e5186[_0x4f3d27(0x280)]:this[_0x4f3d27(0x24f)](_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x671)]);break;case _0x5e5186[_0x4f3d27(0x5c9)]:this['removeLocalMediaStream'](_0x11ec44['content']['label']);break;case _0x5e5186[_0x4f3d27(0x524)]:this[_0x4f3d27(0x139)](_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x671)]);break;case _0x5e5186[_0x4f3d27(0x499)]:this[_0x4f3d27(0x9be)](_0x11ec44['content'][_0x4f3d27(0x671)]);break;case _0x5e5186[_0x4f3d27(0x5db)]:this[_0x4f3d27(0x82f)](_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x671)]);break;case _0x5e5186[_0x4f3d27(0x4a4)]:this[_0x4f3d27(0x2ae)](_0x11ec44['content'][_0x4f3d27(0x671)]);break;case _0x5e5186['CloseVectorDatabase']:this['removeVectorDatabase'](_0x11ec44[_0x4f3d27(0x3ff)]['label']);break;case _0x5e5186['CloseGraphDatabase']:this[_0x4f3d27(0x910)](_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x671)]);break;case _0x5e5186[_0x4f3d27(0x73f)]:this[_0x4f3d27(0x581)](_0x11ec44[_0x4f3d27(0x3ff)]);break;case _0x5e5186['KeyValueDatabaseSyncRequired']:this[_0x4f3d27(0x470)]['get'](_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x671)])?.[_0x4f3d27(0x845)](_0x11ec44[_0x4f3d27(0x5fb)],_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x15a)]);break;case _0x5e5186[_0x4f3d27(0x693)]:this['keyValueDatabases']['get'](_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x671)])?.[_0x4f3d27(0x8ef)](_0x11ec44['sourceId'],_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x15a)]);break;case _0x5e5186[_0x4f3d27(0x3d7)]:this[_0x4f3d27(0x470)][_0x4f3d27(0x264)](_0x11ec44[_0x4f3d27(0x3ff)]['label'])?.[_0x4f3d27(0x143)](_0x11ec44[_0x4f3d27(0x5fb)],_0x11ec44['content'][_0x4f3d27(0xf0)]);break;case _0x5e5186['KeyValueDatabaseRequestPeakTransactions']:this['keyValueDatabases']['get'](_0x11ec44['content']['label'])?.[_0x4f3d27(0x4e4)](_0x11ec44['sourceId'],_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x898)]);break;case _0x5e5186['KeyValueDatabaseRequestTransactionsValue']:this[_0x4f3d27(0x470)][_0x4f3d27(0x264)](_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x671)])?.[_0x4f3d27(0x18f)](_0x11ec44[_0x4f3d27(0x5fb)],_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x103)]);break;case _0x5e5186[_0x4f3d27(0x508)]:this['keyValueDatabases'][_0x4f3d27(0x264)](_0x11ec44[_0x4f3d27(0x3ff)]['label'])?.['processReceivedTransactions'](_0x11ec44[_0x4f3d27(0x5fb)],_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x2f7)]);break;case _0x5e5186[_0x4f3d27(0x305)]:this['configs']['mediator']['notifyCluster'](_0x4f3d27(0x4d1),{'label':_0x11ec44[_0x4f3d27(0x3ff)][_0x4f3d27(0x671)],'trackKinds':_0x11ec44[_0x4f3d27(0x3ff)]['trackKinds']});}}[_0x1833fc(0x221)]({content:_0x2a890b}){const _0x18703e=_0x1833fc;switch(_0x2a890b[_0x18703e(0x339)]){case _0x1e07d3[_0x18703e(0x2ab)]:this[_0x18703e(0x1e7)](_0x2a890b),this[_0x18703e(0x1bc)](_0x2a890b);break;case _0x1e07d3[_0x18703e(0x806)]:this[_0x18703e(0x985)](_0x2a890b),this[_0x18703e(0x912)](_0x2a890b);}}[_0x1833fc(0x701)](_0x175481){const _0x55bfed=_0x1833fc;switch(_0x175481['content']['type']){case _0x1855f5[_0x55bfed(0x412)]:this[_0x55bfed(0x5b8)](_0x175481[_0x55bfed(0x5fb)],_0x175481['content']);break;case _0x1855f5[_0x55bfed(0x5ec)]:this[_0x55bfed(0x3d5)](_0x175481[_0x55bfed(0x5fb)],_0x175481[_0x55bfed(0x3ff)]);break;case _0x1855f5[_0x55bfed(0x73f)]:this[_0x55bfed(0x435)](_0x175481['sourceId'],_0x175481[_0x55bfed(0x3ff)]);}}[_0x1833fc(0x581)](_0x26f8b1){const _0x170bb1=_0x1833fc;if(0x0===_0x26f8b1[_0x170bb1(0x979)])this[_0x170bb1(0x9eb)][_0x170bb1(0x264)](_0x26f8b1[_0x170bb1(0x441)])?.[_0x170bb1(0x264)](_0x26f8b1[_0x170bb1(0x671)])?.[_0x170bb1(0x24c)]();else{const _0x27da2f=this['remoteMediaStreams']['get'](_0x26f8b1['ownerId'])?.['get'](_0x26f8b1[_0x170bb1(0x671)]);if(!_0x27da2f)return;_0x26f8b1['trackKinds'][_0x170bb1(0x919)](_0xe93e64=>_0x27da2f['unsubscribeTrackEndedListener'](_0xe93e64));}}[_0x1833fc(0x558)](_0x3d47d7){const _0x1d165c=_0x1833fc,{label:_0x3ec729,ownerId:_0x52c5cd,stream:{streamId:_0x28fbd8,availableTrackKinds:_0x3d47c6}}=_0x3d47d7;if(this['remoteMediaStreams']['get'](_0x52c5cd)?.[_0x1d165c(0x977)](_0x3ec729))return void _0x380207[_0x1d165c(0x41b)](_0x381da1[_0x1d165c(0x7f4)],_0x1d165c(0x3d2),_0x28fbd8);const _0x34b531=this[_0x1d165c(0x35d)](_0x52c5cd,_0x3ec729,_0x28fbd8,_0x3d47c6);this[_0x1d165c(0x317)][_0x1d165c(0x28a)][_0x1d165c(0x2d5)](_0x1d165c(0x389),{'ownerId':_0x52c5cd,'stream':_0x34b531});}['handleUnpublishMediaStream']({ownerId:_0x280de0,label:_0xb6a67a}){const _0x5aea07=_0x1833fc;this[_0x5aea07(0x414)](_0x280de0,_0xb6a67a),this[_0x5aea07(0x317)][_0x5aea07(0x28a)]['notifyCluster']('content-unpublish-media',{'ownerId':_0x280de0,'label':_0xb6a67a});}['handleSubscribeMediaStream'](_0x42ec2e,_0x4dab84){const _0x46e98a=_0x1833fc,{ownerId:_0x27b2f8,label:_0x4c025f}=_0x4dab84;let _0x382036;_0x382036=_0x27b2f8!==this[_0x46e98a(0x317)][_0x46e98a(0x86c)][_0x46e98a(0x76b)]()?this[_0x46e98a(0x9eb)]['get'](_0x27b2f8)[_0x46e98a(0x264)](_0x4c025f):this[_0x46e98a(0x893)][_0x46e98a(0x264)](_0x4c025f),_0x382036[_0x46e98a(0x8c2)](_0x42ec2e,_0x4dab84[_0x46e98a(0x1df)])[_0x46e98a(0x456)](_0x4dab84,_0x382036['getPriority']());}[_0x1833fc(0x3d5)](_0x55e44e,_0x18db9f){const _0x24b4e8=_0x1833fc,{ownerId:_0x361d6a,label:_0x4fb3ef}=_0x18db9f;let _0x27092a;_0x27092a=_0x361d6a!==this[_0x24b4e8(0x317)][_0x24b4e8(0x86c)][_0x24b4e8(0x76b)]()?this['remoteMediaStreams'][_0x24b4e8(0x264)](_0x361d6a)[_0x24b4e8(0x264)](_0x4fb3ef):this['localMediaStreams'][_0x24b4e8(0x264)](_0x4fb3ef),_0x27092a[_0x24b4e8(0x8c2)](_0x55e44e,_0x18db9f[_0x24b4e8(0x1df)])[_0x24b4e8(0x669)](_0x18db9f);}[_0x1833fc(0x435)](_0x131b82,_0xa7549){const _0x57542a=_0x1833fc,{ownerId:_0x26066b,label:_0x56bec8}=_0xa7549;let _0x4700fb;_0x4700fb=_0x26066b!==this['configs'][_0x57542a(0x86c)][_0x57542a(0x76b)]()?this[_0x57542a(0x9eb)][_0x57542a(0x264)](_0x26066b)[_0x57542a(0x264)](_0x56bec8):this[_0x57542a(0x893)][_0x57542a(0x264)](_0x56bec8),_0x4700fb[_0x57542a(0x8c2)](_0x131b82)[_0x57542a(0x788)](_0xa7549);}[_0x1833fc(0x1e7)]({id:_0x135ada}){const _0x58e23e=_0x1833fc;this['getLocalMediaStreams']()[_0x58e23e(0x919)](_0x3db961=>{_0x3db961['publish'](_0x135ada);});}[_0x1833fc(0x985)]({id:_0x457b20}){this['getRemoteMediaStreams'](_0x2cc03d=>_0x2cc03d['getOwnerId']()===_0x457b20)['forEach'](_0x1ab723=>{const _0x532c71=a0_0x17c7;this['removeRemoteMediaStream'](_0x1ab723[_0x532c71(0x764)](),_0x1ab723[_0x532c71(0x92c)]());});}[_0x1833fc(0x1bc)]({id:_0xbe2248}){const _0x503311=_0x1833fc;this[_0x503311(0xd3)]['forEach'](_0x3c90c7=>_0x3c90c7['handleNodeJoin'](_0xbe2248));}[_0x1833fc(0x912)]({id:_0x43907e}){this['objectStores']['forEach'](_0x3e90f7=>_0x3e90f7['handleNodeLeave'](_0x43907e));}['removeJobDispatcher'](_0x568ff1){const _0x386158=_0x1833fc;if(!this[_0x386158(0x8e0)][_0x386158(0x977)](_0x568ff1))throw new _0x3b1f45(_0x5bdcd2[_0x386158(0x6b5)],_0x386158(0x776));const _0x1dfcd6=this[_0x386158(0x8e0)][_0x386158(0x264)](_0x568ff1);this['jobDispatchers'][_0x386158(0x8be)](_0x568ff1),_0x1dfcd6[_0x386158(0x24c)](),this[_0x386158(0x317)]['mediator'][_0x386158(0x22f)](_0x1dfcd6);}[_0x1833fc(0x24f)](_0x1715ac){const _0x3f5d83=_0x1833fc;if(!this[_0x3f5d83(0x7e9)][_0x3f5d83(0x977)](_0x1715ac))throw new _0x3b1f45(_0x5bdcd2[_0x3f5d83(0x9cf)],_0x3f5d83(0x2eb));const _0x53d28a=this[_0x3f5d83(0x7e9)][_0x3f5d83(0x264)](_0x1715ac);this[_0x3f5d83(0x7e9)][_0x3f5d83(0x8be)](_0x1715ac),_0x53d28a[_0x3f5d83(0x24c)](),this['configs'][_0x3f5d83(0x28a)][_0x3f5d83(0x22f)](_0x53d28a);}['removeObjectStore'](_0x1ed820){const _0x1ed921=_0x1833fc;if(!this[_0x1ed921(0xd3)][_0x1ed921(0x977)](_0x1ed820))throw new _0x3b1f45(_0x5bdcd2['ObjectStoreDoesNotExist'],_0x1ed921(0x29e));const _0x5cb3e5=this[_0x1ed921(0xd3)][_0x1ed921(0x264)](_0x1ed820);this['objectStores'][_0x1ed921(0x8be)](_0x1ed820),_0x5cb3e5[_0x1ed921(0x24c)](),this['configs'][_0x1ed921(0x28a)][_0x1ed921(0x22f)](_0x5cb3e5);}[_0x1833fc(0x82f)](_0x548fe9){const _0x3bfca2=_0x1833fc;if(!this[_0x3bfca2(0x7cd)][_0x3bfca2(0x977)](_0x548fe9))throw new _0x3b1f45(_0x5bdcd2[_0x3bfca2(0x57b)],'Connection\x20does\x20not\x20exist');const _0x177a0b=this[_0x3bfca2(0x7cd)][_0x3bfca2(0x264)](_0x548fe9);this[_0x3bfca2(0x7cd)][_0x3bfca2(0x8be)](_0x548fe9),_0x177a0b[_0x3bfca2(0x24c)](),this[_0x3bfca2(0x317)][_0x3bfca2(0x28a)][_0x3bfca2(0x22f)](_0x177a0b);}[_0x1833fc(0x139)](_0x2e10c3){const _0x21c84a=_0x1833fc;if(!this[_0x21c84a(0x8b9)][_0x21c84a(0x977)](_0x2e10c3))throw new _0x3b1f45(_0x5bdcd2[_0x21c84a(0x5c6)],_0x21c84a(0x29e));const _0x411070=this[_0x21c84a(0x8b9)]['get'](_0x2e10c3);this[_0x21c84a(0x8b9)]['delete'](_0x2e10c3),_0x411070[_0x21c84a(0x24c)](),this['configs'][_0x21c84a(0x28a)][_0x21c84a(0x22f)](_0x411070);}[_0x1833fc(0x2ae)](_0x25e788){const _0x61c984=_0x1833fc;if(!this[_0x61c984(0x470)][_0x61c984(0x977)](_0x25e788))throw new _0x3b1f45(_0x5bdcd2['KeyValueDatabaseDoesNotExist'],_0x61c984(0x8aa));const _0x26aefd=this['keyValueDatabases'][_0x61c984(0x264)](_0x25e788);this[_0x61c984(0x470)][_0x61c984(0x8be)](_0x25e788),_0x26aefd[_0x61c984(0x24c)](),this[_0x61c984(0x317)]['mediator'][_0x61c984(0x22f)](_0x26aefd);}[_0x1833fc(0x442)](_0x4ad9e4){const _0x3e578b=_0x1833fc;if(!this[_0x3e578b(0x1b8)][_0x3e578b(0x977)](_0x4ad9e4))throw new _0x3b1f45(_0x5bdcd2[_0x3e578b(0x993)],_0x3e578b(0x8aa));const _0x204499=this[_0x3e578b(0x1b8)][_0x3e578b(0x264)](_0x4ad9e4);this[_0x3e578b(0x1b8)]['delete'](_0x4ad9e4),_0x204499[_0x3e578b(0x24c)](),this[_0x3e578b(0x317)]['mediator'][_0x3e578b(0x22f)](_0x204499);}[_0x1833fc(0x910)](_0x3a4fa1){const _0x4ef145=_0x1833fc;if(!this[_0x4ef145(0x998)][_0x4ef145(0x977)](_0x3a4fa1))throw new _0x3b1f45(_0x5bdcd2[_0x4ef145(0x403)],'Database\x20does\x20not\x20exist');const _0x45361a=this['graphDatabases'][_0x4ef145(0x264)](_0x3a4fa1);this[_0x4ef145(0x998)][_0x4ef145(0x8be)](_0x3a4fa1),_0x45361a[_0x4ef145(0x24c)](),this[_0x4ef145(0x317)][_0x4ef145(0x28a)]['unregisterSystemSource'](_0x45361a);}[_0x1833fc(0x90b)](_0x27c4db){const _0x406d79=_0x1833fc;if(!this[_0x406d79(0x893)]['has'](_0x27c4db))throw new _0x4511be(_0x4511be[_0x406d79(0x2a2)]['LocalMediaStreamDoesNotExist'],{'label':_0x27c4db,'localId':this['configs'][_0x406d79(0x86c)][_0x406d79(0x76b)]()});const _0x47542a=this[_0x406d79(0x893)][_0x406d79(0x264)](_0x27c4db);this['configs'][_0x406d79(0x28a)][_0x406d79(0x22f)](_0x47542a),_0x47542a[_0x406d79(0x24c)](),this['localMediaStreams']['delete'](_0x27c4db);}[_0x1833fc(0x414)](_0x47497c,_0x3aeca2){const _0x53f89b=_0x1833fc;if(!this[_0x53f89b(0x9eb)][_0x53f89b(0x977)](_0x47497c))throw new _0x4511be(_0x4511be['codes'][_0x53f89b(0x17f)],{'nodeId':_0x47497c,'localId':this[_0x53f89b(0x317)][_0x53f89b(0x86c)][_0x53f89b(0x76b)]()});const _0x152615=this[_0x53f89b(0x9eb)][_0x53f89b(0x264)](_0x47497c);if(!_0x152615[_0x53f89b(0x977)](_0x3aeca2))throw new _0x4511be(_0x4511be[_0x53f89b(0x2a2)][_0x53f89b(0x810)],{'nodeId':_0x47497c,'label':_0x3aeca2,'localId':this[_0x53f89b(0x317)][_0x53f89b(0x86c)]['getId']()});const _0x374e3c=_0x152615[_0x53f89b(0x264)](_0x3aeca2);this[_0x53f89b(0x317)]['mediator'][_0x53f89b(0x22f)](_0x374e3c),_0x374e3c[_0x53f89b(0x24c)](),_0x152615[_0x53f89b(0x8be)](_0x3aeca2);}}var _0x16f035,_0x255aaa,_0x1396a5;!function(_0x9ec8d4){const _0xac539c=_0x1833fc;_0x9ec8d4[_0xac539c(0x66f)]=_0xac539c(0x6d9),_0x9ec8d4[_0xac539c(0x8d2)]='dt_volatility',_0x9ec8d4[_0xac539c(0x68e)]='time_per_frame',_0x9ec8d4['Bitrate']=_0xac539c(0x287),_0x9ec8d4[_0xac539c(0x1dc)]=_0xac539c(0x2d9),_0x9ec8d4['FramePerSecond']='fps',_0x9ec8d4[_0xac539c(0x4e8)]=_0xac539c(0x4a7),_0x9ec8d4['AudioVideoDelay']=_0xac539c(0x59f);}(_0x16f035||(_0x16f035={})),function(_0x3a7c39){const _0x92d20d=_0x1833fc;_0x3a7c39[_0x92d20d(0x545)]='cpu.cycle',_0x3a7c39[_0x92d20d(0x68e)]=_0x92d20d(0x881),_0x3a7c39['AudioVideoDelay']='cpu.av_delay',_0x3a7c39[_0x92d20d(0x5d6)]=_0x92d20d(0x340),_0x3a7c39[_0x92d20d(0x730)]=_0x92d20d(0x8ad),_0x3a7c39[_0x92d20d(0x1dc)]=_0x92d20d(0x2a3),_0x3a7c39[_0x92d20d(0x4e8)]=_0x92d20d(0x8cc);}(_0x255aaa||(_0x255aaa={})),function(_0x32201f){_0x32201f[_0x32201f['Problem']=0x0]='Problem';}(_0x1396a5||(_0x1396a5={}));const _0x4c69c1=[{'type':_0x16f035['STVolatility'],'reportMetric':_0x2305f6=>_0x2305f6[_0x1833fc(0x66f)],'maxThreshold':2.5},{'type':_0x16f035[_0x1833fc(0x8d2)],'reportMetric':_0x1a0e27=>_0x1a0e27[_0x1833fc(0x8d2)],'maxThreshold':0.5}],_0x469930=[{'type':_0x16f035[_0x1833fc(0x68e)],'reportMetric':_0x35b9fe=>{const _0x4293c5=_0x1833fc,_0x48e28c=0x3e8/_0x35b9fe[_0x4293c5(0x1d0)];return _0x35b9fe['timePerFrame']/_0x48e28c;},'maxThreshold':0.75},{'type':_0x16f035[_0x1833fc(0x730)],'reportMetric':_0x3679dd=>{const _0xc1517=_0x1833fc,_0x2a5bad=_0x3679dd['FPS']*_0x3679dd['frameWidth']*_0x3679dd['frameHeight']*0.12;return _0x3679dd[_0xc1517(0x287)]/_0x2a5bad;},'minThreshold':0.25},{'type':_0x16f035[_0x1833fc(0x1dc)],'reportMetric':_0x45e2c8=>_0x45e2c8[_0x1833fc(0x2d9)],'maxThreshold':0.6},{'type':_0x16f035['FramePerSecond'],'reportMetric':_0x448bde=>_0x448bde['FPS'],'minThreshold':0xa}],_0x55a8de=[{'type':_0x16f035[_0x1833fc(0x1dc)],'reportMetric':_0x20e312=>_0x20e312[_0x1833fc(0x2d9)],'maxThreshold':0.6}],_0x3664cb=[{'type':_0x16f035[_0x1833fc(0x4e8)],'reportMetric':_0x1a17fd=>_0x1a17fd['roundTripTime'],'maxThreshold':0x1/0x0}],_0x29a98a=[{'type':_0x16f035[_0x1833fc(0x8ee)],'reportMetric':_0x3edc32=>_0x3edc32[_0x1833fc(0x8ee)],'maxThreshold':0x12c}],_0x2b28be=[{'type':_0x255aaa['CPUCycle'],'issues':[{'type':_0x16f035[_0x1833fc(0x66f)],'threshold':0x5},{'type':_0x16f035['DTVolatility'],'threshold':0x5}]},{'type':_0x255aaa[_0x1833fc(0x68e)],'issues':[{'type':_0x16f035[_0x1833fc(0x68e)],'threshold':0x3}]},{'type':_0x255aaa[_0x1833fc(0x8ee)],'issues':[{'type':_0x16f035[_0x1833fc(0x8ee)],'threshold':0x2}]},{'type':_0x255aaa['FramePerSecond'],'issues':[{'type':_0x16f035[_0x1833fc(0x5d6)],'threshold':0x3}]},{'type':_0x255aaa[_0x1833fc(0x730)],'issues':[{'type':_0x16f035['Bitrate'],'threshold':0x3}]},{'type':_0x255aaa[_0x1833fc(0x1dc)],'issues':[{'type':_0x16f035[_0x1833fc(0x1dc)],'threshold':0x3}]},{'type':_0x255aaa[_0x1833fc(0x4e8)],'issues':[{'type':_0x16f035[_0x1833fc(0x4e8)],'threshold':0x3}]}];var _0x4f2cb5,_0x56a604;!function(_0x3e5ee7){const _0x1c8481=_0x1833fc;_0x3e5ee7[_0x3e5ee7[_0x1c8481(0x5ce)]=0x0]=_0x1c8481(0x5ce),_0x3e5ee7[_0x3e5ee7[_0x1c8481(0x19c)]=0x1]=_0x1c8481(0x19c);}(_0x4f2cb5||(_0x4f2cb5={}));class _0x2b235e{['configs'];['issues']=[];[_0x1833fc(0x3a7)];constructor(_0x3af58f){const _0x45aa8=_0x1833fc;this[_0x45aa8(0x317)]=_0x3af58f,this[_0x45aa8(0x317)][_0x45aa8(0x28a)][_0x45aa8(0x212)](this);}[_0x1833fc(0x494)](_0x5350df){const _0x308de9=_0x1833fc;this[_0x308de9(0x3a7)]=_0x5350df;}['unregisterSystemPublisher'](){this['systemTopic']=void 0x0;}[_0x1833fc(0x244)](){const _0x21f08d=_0x1833fc;this[_0x21f08d(0x317)]['mediator']['unregisterSystemSource'](this),this['issues']=[];}[_0x1833fc(0x7a1)](_0x35925d){const _0x48e004=_0x1833fc;switch(_0x35925d[_0x48e004(0x3ff)][_0x48e004(0x339)]){case _0x4f2cb5[_0x48e004(0x19c)]:this[_0x48e004(0x5bb)](_0x35925d['content'][_0x48e004(0x87e)]);break;case _0x4f2cb5['StreamReport']:this[_0x48e004(0x832)](_0x35925d[_0x48e004(0x3ff)][_0x48e004(0x87e)]);}}[_0x1833fc(0xf4)](_0x15e038,_0x568728,_0x40f736,_0x3e17a6){const _0xde1a3a=_0x1833fc,_0x55375d=_0x2b28be[_0xde1a3a(0x33e)](_0x3e2a21=>_0x3e2a21[_0xde1a3a(0x67b)][_0xde1a3a(0x480)](_0x29b9f6=>_0x29b9f6['type']===_0x15e038));_0x3e17a6>=_0x55375d[_0xde1a3a(0x67b)]['find'](_0x1a0101=>_0x1a0101[_0xde1a3a(0x339)]===_0x15e038)[_0xde1a3a(0x187)]&&(this['addProblem'](_0x55375d['type'],_0x568728,_0x40f736),this[_0xde1a3a(0x67b)]=this[_0xde1a3a(0x67b)][_0xde1a3a(0x9a3)](_0x5c732b=>!(_0x5c732b['type']===_0x15e038&&_0x5c732b[_0xde1a3a(0x746)]===_0x568728&&_0x5c732b['origin']===_0x40f736)));}['detectLocalIssues'](_0x5e70b1){const _0x4127b9=_0x1833fc;_0x4c69c1[_0x4127b9(0x919)](_0x1de17b=>{const _0x4888fb=_0x4127b9,_0x3657fc=_0x1de17b[_0x4888fb(0x5fd)](_0x5e70b1);_0x1de17b[_0x4888fb(0x4f2)]&&_0x3657fc>_0x1de17b[_0x4888fb(0x4f2)]&&this['addIssue'](_0x1de17b[_0x4888fb(0x339)],this['configs'][_0x4888fb(0x86c)][_0x4888fb(0x76b)](),_0x16a03b[_0x4888fb(0x82d)],_0x3657fc),_0x1de17b[_0x4888fb(0x10c)]&&_0x3657fc<_0x1de17b['minThreshold']&&this[_0x4888fb(0x74f)](_0x1de17b[_0x4888fb(0x339)],this[_0x4888fb(0x317)]['localNode']['getId'](),_0x16a03b[_0x4888fb(0x82d)],_0x3657fc);});}[_0x1833fc(0x832)](_0x379039){const _0x4c0267=_0x1833fc;let _0x482a0a=[];switch(_0x379039[_0x4c0267(0x65e)]){case _0x16a03b[_0x4c0267(0x82d)]:_0x482a0a=_0x3664cb;break;case _0x16a03b['Receiver']:_0x482a0a=_0x29a98a;}_0x379039[_0x4c0267(0x323)]&&this[_0x4c0267(0x282)](_0x379039[_0x4c0267(0x746)],_0x16a03b[_0x4c0267(0x82d)],_0x379039[_0x4c0267(0x323)]),_0x379039[_0x4c0267(0x11f)]&&this[_0x4c0267(0x3a4)](_0x379039[_0x4c0267(0x746)],_0x16a03b[_0x4c0267(0x82d)],_0x379039[_0x4c0267(0x11f)]),_0x482a0a[_0x4c0267(0x919)](_0x42bd04=>{const _0x19c259=_0x4c0267,_0x43c8ca=_0x42bd04[_0x19c259(0x5fd)](_0x379039);_0x42bd04[_0x19c259(0x4f2)]&&_0x43c8ca>_0x42bd04[_0x19c259(0x4f2)]&&this['addIssue'](_0x42bd04[_0x19c259(0x339)],_0x379039['nodeId'],_0x16a03b[_0x19c259(0x82d)],_0x43c8ca),_0x42bd04[_0x19c259(0x10c)]&&_0x43c8ca<_0x42bd04[_0x19c259(0x10c)]&&this[_0x19c259(0x74f)](_0x42bd04['type'],_0x379039[_0x19c259(0x746)],_0x16a03b[_0x19c259(0x82d)],_0x43c8ca);});}[_0x1833fc(0x282)](_0x58b8ef,_0x26eed9,_0x5dfcae){const _0xe7402c=_0x1833fc;0x0!==_0x5dfcae[_0xe7402c(0x287)]&&_0x469930['forEach'](_0x3377b3=>{const _0x11569c=_0xe7402c,_0x595d35=_0x3377b3['reportMetric'](_0x5dfcae);_0x3377b3[_0x11569c(0x4f2)]&&_0x595d35>_0x3377b3[_0x11569c(0x4f2)]&&this[_0x11569c(0x74f)](_0x3377b3['type'],_0x58b8ef,_0x26eed9,_0x595d35,_0x11569c(0x323)),_0x3377b3['minThreshold']&&_0x595d35<_0x3377b3[_0x11569c(0x10c)]&&this[_0x11569c(0x74f)](_0x3377b3[_0x11569c(0x339)],_0x58b8ef,_0x26eed9,_0x595d35,_0x11569c(0x323));});}[_0x1833fc(0x3a4)](_0x41d42d,_0x251614,_0x3dad19){const _0xa25198=_0x1833fc;0x0!==_0x3dad19[_0xa25198(0x287)]&&_0x55a8de['forEach'](_0xc1f951=>{const _0x28cdd9=_0xa25198,_0x4fdbfc=_0xc1f951[_0x28cdd9(0x5fd)](_0x3dad19);_0xc1f951['maxThreshold']&&_0x4fdbfc>_0xc1f951[_0x28cdd9(0x4f2)]&&this[_0x28cdd9(0x74f)](_0xc1f951[_0x28cdd9(0x339)],_0x41d42d,_0x251614,_0x4fdbfc,'audio'),_0xc1f951['minThreshold']&&_0x4fdbfc<_0xc1f951[_0x28cdd9(0x10c)]&&this[_0x28cdd9(0x74f)](_0xc1f951['type'],_0x41d42d,_0x251614,_0x4fdbfc,'audio');});}[_0x1833fc(0x74f)](_0x3e6b0c,_0x11cfc7,_0x3a90cd,_0x2be67e,_0x489b62){const _0x4dc2dd=_0x1833fc;_0x380207[_0x4dc2dd(0x41b)](_0x381da1[_0x4dc2dd(0x20d)],_0x4dc2dd(0x4cf)+_0x3e6b0c,_0x3e6b0c,_0x2be67e),_0x380207[_0x4dc2dd(0x896)](_0x4dc2dd(0x9ba),{'clusterId':this[_0x4dc2dd(0x317)][_0x4dc2dd(0x81a)],'nodeId':this[_0x4dc2dd(0x317)][_0x4dc2dd(0x86c)]['getId'](),'nodeType':this[_0x4dc2dd(0x317)][_0x4dc2dd(0x86c)][_0x4dc2dd(0x339)],'remoteId':_0x11cfc7,'data':{'type':_0x3e6b0c,'value':_0x2be67e,'kind':_0x489b62}}),this[_0x4dc2dd(0x67b)]=this[_0x4dc2dd(0x67b)][_0x4dc2dd(0x9a3)](_0x50c01d=>Date[_0x4dc2dd(0x1d5)]()-_0x50c01d['timestamp']<0x7530),this[_0x4dc2dd(0x67b)]['push']({'timestamp':Date[_0x4dc2dd(0x1d5)](),'type':_0x3e6b0c,'nodeId':_0x11cfc7,'origin':_0x3a90cd,'value':_0x2be67e,'kind':_0x489b62});const _0x5f1586=this[_0x4dc2dd(0x67b)][_0x4dc2dd(0x9a3)](_0x2fd2ee=>_0x2fd2ee[_0x4dc2dd(0x339)]===_0x3e6b0c&&_0x2fd2ee['nodeId']===_0x11cfc7&&_0x2fd2ee[_0x4dc2dd(0x65e)]===_0x3a90cd)[_0x4dc2dd(0x5af)];this[_0x4dc2dd(0xf4)](_0x3e6b0c,_0x11cfc7,_0x3a90cd,_0x5f1586);}[_0x1833fc(0x1d1)](_0x1134d7,_0x122bc8,_0x2f2312){const _0x574d6=_0x1833fc;_0x380207[_0x574d6(0x41b)](_0x381da1[_0x574d6(0x20d)],_0x574d6(0x880)+_0x1134d7),_0x380207[_0x574d6(0x896)](_0x574d6(0x969),{'clusterId':this[_0x574d6(0x317)]['clusterId'],'nodeId':this[_0x574d6(0x317)][_0x574d6(0x86c)][_0x574d6(0x76b)](),'nodeType':this[_0x574d6(0x317)][_0x574d6(0x86c)][_0x574d6(0x339)],'remoteId':_0x122bc8,'data':{'type':_0x1134d7}}),this[_0x574d6(0x3a7)]?.['publish']({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x574d6(0x20d)],'content':{'type':_0x1396a5['Problem'],'data':{'timestamp':Date['now'](),'nodeId':_0x122bc8,'origin':_0x16a03b[_0x574d6(0x82d)],'type':_0x1134d7}}});}}class _0x56ea8a extends _0x48576f{['type']=_0x4f9f07[_0x1833fc(0x21a)][_0x1833fc(0x4a0)];}class _0x287869 extends _0x56ea8a{['systemTopic'];[_0x1833fc(0x2ef)]=Date['now']();['updateDebounceTimeout'];[_0x1833fc(0x879)];[_0x1833fc(0x244)](){const _0x44bbfe=_0x1833fc;this[_0x44bbfe(0x515)]&&(clearTimeout(this[_0x44bbfe(0x515)]),delete this[_0x44bbfe(0x515)]),delete this['lastUpdated'],this[_0x44bbfe(0x2ef)]=Date[_0x44bbfe(0x1d5)](),super['close']();}[_0x1833fc(0x494)](_0xcf556d){const _0x590055=_0x1833fc;this[_0x590055(0x3a7)]=_0xcf556d;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x1833fc(0x34e)](_0x1b8b58){const _0x109b7e=_0x1833fc;!this['updateDebounceTimeout']&&this[_0x109b7e(0x92f)]&&this[_0x109b7e(0x3a7)][_0x109b7e(0x9e5)]({'sourceId':this['id'],'destinationIds':[_0x1b8b58],'propagate':!0x0,'messageType':_0x35033d[_0x109b7e(0x18b)],'content':{'type':_0x1e07d3[_0x109b7e(0x1bf)],'id':this['id'],'metaData':{'type':this[_0x109b7e(0x339)]},'rank':this[_0x109b7e(0x92b)](),'remoteConnections':Array[_0x109b7e(0x5cf)](this[_0x109b7e(0x266)]),'version':this[_0x109b7e(0x2ef)]}});}['addRemoteConnection'](_0x3d2246){const _0x412dd3=_0x1833fc;this[_0x412dd3(0x266)][_0x412dd3(0x977)](_0x3d2246)||(this[_0x412dd3(0x266)]['add'](_0x3d2246),this['incrementVersion'](),this[_0x412dd3(0x891)](!0x0));}[_0x1833fc(0x54e)](_0x555df){const _0x4f44b3=_0x1833fc;this[_0x4f44b3(0x266)][_0x4f44b3(0x977)](_0x555df)&&(this[_0x4f44b3(0x266)][_0x4f44b3(0x8be)](_0x555df),this[_0x4f44b3(0x52b)](),this['publishUserUpdate'](!0x0));}[_0x1833fc(0x8ea)](){const _0x52de92=_0x1833fc;return this[_0x52de92(0x2ef)];}[_0x1833fc(0x83b)](_0x2e37a9,_0x1ab214=!0x0){const _0x552409=_0x1833fc;this[_0x552409(0x92f)]!==_0x2e37a9&&(this[_0x552409(0x92f)]=_0x2e37a9,_0x1ab214&&(this[_0x552409(0x52b)](),this['publishUserUpdate']()));}[_0x1833fc(0x52b)](){const _0x1fb141=_0x1833fc;this[_0x1fb141(0x2ef)]=Date['now']();}[_0x1833fc(0x891)](_0x487dd8=!0x1){const _0x3a9f50=_0x1833fc;if(this['rank']){if(this['lastUpdated']||(this[_0x3a9f50(0x879)]=Date[_0x3a9f50(0x1d5)]()),this[_0x3a9f50(0x515)]){if(Date[_0x3a9f50(0x1d5)]()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x3a9f50(0x515)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x277fc9=_0x3a9f50;delete this[_0x277fc9(0x879)],delete this[_0x277fc9(0x515)],this[_0x277fc9(0x3a7)][_0x277fc9(0x9e5)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x35033d[_0x277fc9(0x18b)],'content':{'type':_0x487dd8?_0x1e07d3[_0x277fc9(0xfb)]:_0x1e07d3[_0x277fc9(0x1bf)],'id':this['id'],'metaData':{'type':this[_0x277fc9(0x339)]},'rank':this[_0x277fc9(0x92b)](),'remoteConnections':Array['from'](this[_0x277fc9(0x266)]),'version':this[_0x277fc9(0x2ef)]}});},0x3e8);}}}class _0x519041 extends _0x56ef15{['systemTopic'];[_0x1833fc(0x2ef)]=Date[_0x1833fc(0x1d5)]();[_0x1833fc(0x515)];[_0x1833fc(0x879)];[_0x1833fc(0x244)](){const _0x32c415=_0x1833fc;this['updateDebounceTimeout']&&(clearTimeout(this[_0x32c415(0x515)]),delete this['updateDebounceTimeout']),delete this[_0x32c415(0x879)],this[_0x32c415(0x2ef)]=Date[_0x32c415(0x1d5)](),super[_0x32c415(0x244)]();}[_0x1833fc(0x494)](_0x4f9660){this['systemTopic']=_0x4f9660;}[_0x1833fc(0x14f)](){const _0x2665a6=_0x1833fc;delete this[_0x2665a6(0x3a7)];}['answerJoin'](_0x9fcd3e){const _0x8bea0d=_0x1833fc;!this[_0x8bea0d(0x515)]&&this['rank']&&this['systemTopic'][_0x8bea0d(0x9e5)]({'sourceId':this['id'],'destinationIds':[_0x9fcd3e],'propagate':!0x0,'messageType':_0x35033d[_0x8bea0d(0x18b)],'content':{'type':_0x1e07d3[_0x8bea0d(0x1bf)],'id':this['id'],'metaData':{'type':this[_0x8bea0d(0x339)],'displayName':this['getDisplayName'](),'email':this[_0x8bea0d(0x984)]()},'rank':this[_0x8bea0d(0x92b)](),'remoteConnections':Array[_0x8bea0d(0x5cf)](this[_0x8bea0d(0x266)]),'version':this[_0x8bea0d(0x2ef)]}});}[_0x1833fc(0x6cd)](_0x5cdda5){const _0x849ff3=_0x1833fc;this[_0x849ff3(0x266)][_0x849ff3(0x977)](_0x5cdda5)||(this[_0x849ff3(0x266)][_0x849ff3(0x720)](_0x5cdda5),this[_0x849ff3(0x52b)](),this[_0x849ff3(0x891)](!0x0));}[_0x1833fc(0x54e)](_0x3061a7){const _0x369dca=_0x1833fc;this[_0x369dca(0x266)]['has'](_0x3061a7)&&(this[_0x369dca(0x266)][_0x369dca(0x8be)](_0x3061a7),this[_0x369dca(0x52b)](),this[_0x369dca(0x891)](!0x0));}[_0x1833fc(0x8ea)](){const _0x4f8aba=_0x1833fc;return this[_0x4f8aba(0x2ef)];}[_0x1833fc(0xfa)](_0x41897d){const _0x23a87a=_0x1833fc;this[_0x23a87a(0x935)]!==_0x41897d&&(this['displayName']=_0x41897d,this[_0x23a87a(0x52b)](),this['publishUserUpdate']());}[_0x1833fc(0x63e)](_0x5dc9ed){const _0x36b45b=_0x1833fc;this[_0x36b45b(0x7aa)]!==_0x5dc9ed&&(this[_0x36b45b(0x7aa)]=_0x5dc9ed,this['incrementVersion'](),this[_0x36b45b(0x891)]());}[_0x1833fc(0x83b)](_0x511c75,_0x45b3a9=!0x0){const _0x3dbade=_0x1833fc;this[_0x3dbade(0x92f)]!==_0x511c75&&(this[_0x3dbade(0x92f)]=_0x511c75,_0x45b3a9&&(this[_0x3dbade(0x52b)](),this[_0x3dbade(0x891)]()));}[_0x1833fc(0x52b)](){const _0x409359=_0x1833fc;this[_0x409359(0x2ef)]=Date[_0x409359(0x1d5)]();}['publishUserUpdate'](_0x58825d=!0x1){const _0x330942=_0x1833fc;if(this['rank']){if(this[_0x330942(0x879)]||(this[_0x330942(0x879)]=Date[_0x330942(0x1d5)]()),this[_0x330942(0x515)]){if(Date[_0x330942(0x1d5)]()-this[_0x330942(0x879)]>0x2328)return;clearTimeout(this[_0x330942(0x515)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0xa34404=_0x330942;delete this['lastUpdated'],delete this[_0xa34404(0x515)],this[_0xa34404(0x3a7)][_0xa34404(0x9e5)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x35033d[_0xa34404(0x18b)],'content':{'type':_0x58825d?_0x1e07d3[_0xa34404(0xfb)]:_0x1e07d3[_0xa34404(0x1bf)],'id':this['id'],'metaData':{'type':this[_0xa34404(0x339)],'displayName':this[_0xa34404(0x9e8)](),'email':this[_0xa34404(0x984)]()},'rank':this[_0xa34404(0x92b)](),'remoteConnections':Array[_0xa34404(0x5cf)](this['remoteConnections']),'version':this[_0xa34404(0x2ef)]}});},0x3e8);}}}class _0x31ce21{['id'];['groupId'];['vendorId'];[_0x1833fc(0x2a1)];[_0x1833fc(0x339)]=_0x4f9f07['NodeType'][_0x1833fc(0x4a0)];['lastCapacityReport'];constructor(_0x24fe0b,_0xe20a56,_0x1b26c3,_0x131dc7){const _0x31613f=_0x1833fc;this['id']=_0x24fe0b,this[_0x31613f(0x63c)]=_0xe20a56,this[_0x31613f(0x889)]=_0x1b26c3,this['agentConfig']=_0x131dc7;}[_0x1833fc(0x76b)](){return this['id'];}[_0x1833fc(0x47f)](_0x450e29){const _0x291915=_0x1833fc,_0x1df82c=(0x0,_0x4e5c5c[_0x291915(0x698)])((0x0,_0x4e5c5c[_0x291915(0x58c)])(_0xc81657[_0x291915(0x6c9)](),_0x291915(0x34b)+this[_0x291915(0x889)]+_0x291915(0x4ea)+this['groupId']),_0x1a610f=>{const _0x41cbbe=_0x291915;if(_0x1a610f[_0x41cbbe(0x7f1)]()){const _0x3c7fb0=_0x1a610f['data']();if(this[_0x41cbbe(0x2a1)][_0x41cbbe(0x964)]['isEqual'](_0x3c7fb0[_0x41cbbe(0x964)]))return;_0x380207[_0x41cbbe(0x41b)](_0x381da1[_0x41cbbe(0x18b)],_0x41cbbe(0x73d),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this[_0x41cbbe(0x2a1)],'newConfig':_0x3c7fb0}),this['agentConfig']=_0x3c7fb0,_0x450e29();}});return()=>_0x1df82c();}['setReportCapacity'](_0x24846f){const _0x4f7dfe=_0x1833fc;return this[_0x4f7dfe(0x3aa)](this[_0x4f7dfe(0x63c)],_0x24846f),_0x524332['setInterval'](()=>this[_0x4f7dfe(0x3aa)](this['groupId'],_0x24846f),0x7530);}[_0x1833fc(0x5e1)](){const _0x1740bb=_0x1833fc;if(!this['lastCapacityReport'])throw new _0x4511be(_0x4511be[_0x1740bb(0x2a2)][_0x1740bb(0x27a)]);return this[_0x1740bb(0x576)];}async[_0x1833fc(0x3aa)](_0x22ca27,_0x3a2c65){const _0x23420b=_0x1833fc,_0x544cf7=await _0x3a2c65();this[_0x23420b(0x576)]=_0x544cf7,await(0x0,_0x4e5c5c[_0x23420b(0x31e)])((0x0,_0x4e5c5c[_0x23420b(0x939)])(_0xc81657[_0x23420b(0x6c9)](),_0x23420b(0x34b)+this[_0x23420b(0x889)]+_0x23420b(0x53c)),{'agentId':this['id'],'groupId':_0x22ca27,'timestamp':(0x0,_0x4e5c5c[_0x23420b(0x3e8)])(),'capacity':_0x544cf7});}}!function(_0x375d4c){const _0x261660=_0x1833fc;_0x375d4c[_0x375d4c[_0x261660(0x38c)]=0x0]=_0x261660(0x38c),_0x375d4c[_0x375d4c[_0x261660(0x82e)]=0x1]=_0x261660(0x82e);}(_0x56a604||(_0x56a604={}));class _0x3d1bc4 extends _0x56ea8a{[_0x1833fc(0x2ef)];[_0x1833fc(0x599)]=_0x56a604[_0x1833fc(0x38c)];['lastUpdated']=Date[_0x1833fc(0x1d5)]();constructor(_0x3a742e,_0x47cf7e=new Set(),_0x14b76d,_0x4e86b3){const _0x23a5b4=_0x1833fc;super(_0x3a742e,_0x47cf7e,_0x4e86b3),this[_0x23a5b4(0x2ef)]=_0x14b76d;}[_0x1833fc(0x8ea)](){const _0x44cb4a=_0x1833fc;return this[_0x44cb4a(0x2ef)];}[_0x1833fc(0x2cb)](){return this['status'];}['getLastUpdated'](){const _0x33e4d4=_0x1833fc;return this[_0x33e4d4(0x879)];}[_0x1833fc(0x83b)](_0x22fec6){const _0x74dde0=_0x1833fc;this[_0x74dde0(0x92f)]!==_0x22fec6&&(this[_0x74dde0(0x92f)]=_0x22fec6,this[_0x74dde0(0x1ed)]());}['setRemoteConnections'](_0x272127){const _0x2cb891=_0x1833fc;let _0x33d239=!0x1;for(const _0x4722d2 of this['remoteConnections'])_0x272127[_0x2cb891(0x778)](_0x4722d2)||(_0x33d239=!0x0,this[_0x2cb891(0x266)][_0x2cb891(0x8be)](_0x4722d2));for(const _0x1e65d5 of _0x272127)this[_0x2cb891(0x266)][_0x2cb891(0x977)](_0x1e65d5)||(_0x33d239=!0x0,this[_0x2cb891(0x266)][_0x2cb891(0x720)](_0x1e65d5));_0x33d239&&this[_0x2cb891(0x1ed)]();}[_0x1833fc(0x361)](_0xe6ffbc){const _0x101747=_0x1833fc;this[_0x101747(0x2ef)]!==_0xe6ffbc&&(this[_0x101747(0x2ef)]=_0xe6ffbc,this[_0x101747(0x1ed)]());}[_0x1833fc(0x6c8)](_0x1f0c5c){const _0x3c742b=_0x1833fc;this['status']!==_0x1f0c5c&&(this[_0x3c742b(0x599)]=_0x1f0c5c,this[_0x3c742b(0x1ed)](),_0x1f0c5c===_0x56a604[_0x3c742b(0x82e)]&&this[_0x3c742b(0x244)]());}['updateLastUpdated'](){const _0x32c44f=_0x1833fc;this[_0x32c44f(0x879)]=Date['now']();}}class _0x4b0a7e extends _0x56ef15{[_0x1833fc(0x2ef)];[_0x1833fc(0x599)]=_0x56a604[_0x1833fc(0x38c)];[_0x1833fc(0x879)]=Date[_0x1833fc(0x1d5)]();constructor(_0x52163f,_0x5b62ab,_0x2bf47e,_0x1153b9=new Set(),_0x411ae1,_0x5179eb){super(_0x52163f,_0x5b62ab,_0x2bf47e,_0x1153b9,_0x5179eb),this['currentVersion']=_0x411ae1;}[_0x1833fc(0x8ea)](){const _0x17642f=_0x1833fc;return this[_0x17642f(0x2ef)];}[_0x1833fc(0x2cb)](){const _0x2b33c6=_0x1833fc;return this[_0x2b33c6(0x599)];}[_0x1833fc(0x670)](){const _0x6dca81=_0x1833fc;return this[_0x6dca81(0x879)];}['setDisplayName'](_0x4b591d){const _0x57ce31=_0x1833fc;this['displayName']!==_0x4b591d&&(this[_0x57ce31(0x935)]=_0x4b591d,this[_0x57ce31(0x1ed)]());}['setEmail'](_0x30ab65){const _0x15a7b8=_0x1833fc;this[_0x15a7b8(0x7aa)]!==_0x30ab65&&(this['email']=_0x30ab65,this[_0x15a7b8(0x1ed)]());}['setRank'](_0x9486ca){const _0x3ee106=_0x1833fc;this[_0x3ee106(0x92f)]!==_0x9486ca&&(this[_0x3ee106(0x92f)]=_0x9486ca,this['updateLastUpdated']());}[_0x1833fc(0x17d)](_0x4264bd){const _0x227794=_0x1833fc;let _0x2bc1f6=!0x1;for(const _0x4b5410 of this[_0x227794(0x266)])_0x4264bd['includes'](_0x4b5410)||(_0x2bc1f6=!0x0,this[_0x227794(0x266)]['delete'](_0x4b5410));for(const _0x4b6381 of _0x4264bd)this[_0x227794(0x266)][_0x227794(0x977)](_0x4b6381)||(_0x2bc1f6=!0x0,this[_0x227794(0x266)][_0x227794(0x720)](_0x4b6381));_0x2bc1f6&&this['updateLastUpdated']();}[_0x1833fc(0x361)](_0x226990){const _0x43674f=_0x1833fc;this[_0x43674f(0x2ef)]!==_0x226990&&(this['currentVersion']=_0x226990,this['updateLastUpdated']());}[_0x1833fc(0x6c8)](_0x6872b7){const _0x5c38bd=_0x1833fc;this[_0x5c38bd(0x599)]!==_0x6872b7&&(this['status']=_0x6872b7,this[_0x5c38bd(0x1ed)](),_0x6872b7===_0x56a604[_0x5c38bd(0x82e)]&&this[_0x5c38bd(0x244)]());}[_0x1833fc(0x1ed)](){const _0x1b1642=_0x1833fc;this['lastUpdated']=Date[_0x1b1642(0x1d5)]();}}class _0x345843{[_0x1833fc(0x889)];[_0x1833fc(0x81a)];['localNode'];[_0x1833fc(0x571)];[_0x1833fc(0x1cf)]=_0x137e7e();[_0x1833fc(0x4f0)];[_0x1833fc(0x41a)];[_0x1833fc(0x2c0)];[_0x1833fc(0x9e6)]=!0x1;[_0x1833fc(0x851)];[_0x1833fc(0x3d6)];constructor(_0x575c58,_0x2c6f8a,_0x46b448,_0x522b41){const _0x526bcd=_0x1833fc;this[_0x526bcd(0x889)]=_0x575c58,this[_0x526bcd(0x81a)]=_0x2c6f8a,this['localNode']=_0x46b448,this[_0x526bcd(0x571)]=_0x522b41,this[_0x526bcd(0x851)]='ccc'+this[_0x526bcd(0x889)]+_0x526bcd(0x496)+this['clusterId'],this[_0x526bcd(0x3d6)]=_0x526bcd(0x496)+this[_0x526bcd(0x889)]+_0x526bcd(0x496)+this[_0x526bcd(0x86c)][_0x526bcd(0x76b)](),this['firebaseUnsubscriber']=(0x0,_0x27c86b['onValue'])((0x0,_0x27c86b[_0x526bcd(0x259)])(_0xc81657['getDatabase'](),_0x526bcd(0x7f9)),_0x31ecde=>{const _0x1ea32e=_0x526bcd;!0x0!==_0x31ecde[_0x1ea32e(0x222)]()?this[_0x1ea32e(0x9e6)]&&_0x380207[_0x1ea32e(0x657)](_0x1ea32e(0x454),{'clusterId':this[_0x1ea32e(0x81a)],'nodeId':this[_0x1ea32e(0x86c)][_0x1ea32e(0x76b)](),'nodeType':this['localNode'][_0x1ea32e(0x339)]}):(this['connected']=!0x0,this[_0x1ea32e(0x2a7)](),_0x380207[_0x1ea32e(0x6d6)](_0x1ea32e(0x6d3),{'clusterId':this[_0x1ea32e(0x81a)],'nodeId':this[_0x1ea32e(0x86c)][_0x1ea32e(0x76b)](),'nodeType':this['localNode']['type']}));});}async[_0x1833fc(0x784)](){const _0x4fc90b=_0x1833fc;await this[_0x4fc90b(0x56d)]();const _0x25b9a8=await this[_0x4fc90b(0x8fa)]();return this[_0x4fc90b(0x41a)]=(0x0,_0x27c86b[_0x4fc90b(0x5e4)])((0x0,_0x27c86b[_0x4fc90b(0x259)])(_0xc81657[_0x4fc90b(0x91c)](),_0x4fc90b(0x5cc)+this['clusterKey']+_0x4fc90b(0x2fc)),_0x181625=>{const _0x25d6a8=_0x4fc90b,_0x41ee0c=_0x181625[_0x25d6a8(0x648)];if(!_0x41ee0c)return;const _0x498cec=_0x41ee0c[_0x25d6a8(0x996)](_0x25d6a8(0x496)+this[_0x25d6a8(0x889)]+_0x25d6a8(0x496),'');this['disconnectCallback'][_0x25d6a8(0x9e5)](_0x498cec);}),_0x25b9a8;}async[_0x1833fc(0x244)](){const _0x34a2ab=_0x1833fc;this[_0x34a2ab(0x41a)]?.(),delete this['childRemovedUnsubscriber'],this['onDisconnectHandler']?.[_0x34a2ab(0x585)](),delete this[_0x34a2ab(0x2c0)],this[_0x34a2ab(0x4f0)]?.(),delete this['firebaseUnsubscriber'],await(0x0,_0x27c86b['remove'])((0x0,_0x27c86b['ref'])(_0xc81657[_0x34a2ab(0x91c)](),_0x34a2ab(0x5cc)+this[_0x34a2ab(0x851)]+'/nodes/'+this[_0x34a2ab(0x3d6)]));}[_0x1833fc(0x574)](_0x367071){const _0x2ba0db=_0x1833fc;return this[_0x2ba0db(0x1cf)][_0x2ba0db(0x456)](_0x367071);}async[_0x1833fc(0x8fa)](){const _0xfe57fc=_0x1833fc,_0x53b6bb=[],_0x55e257=await(0x0,_0x27c86b[_0xfe57fc(0x264)])((0x0,_0x27c86b['ref'])(_0xc81657[_0xfe57fc(0x91c)](),'clusters/'+this[_0xfe57fc(0x851)]+'/nodes')),_0x23a825=[];return _0x55e257[_0xfe57fc(0x919)](_0x17c6fd=>{const _0x5f2ea4=_0xfe57fc,_0x1f470e=_0x17c6fd[_0x5f2ea4(0x648)]?.[_0x5f2ea4(0x996)](_0x5f2ea4(0x496)+this[_0x5f2ea4(0x889)]+_0x5f2ea4(0x496),'');_0x23a825['push']({'id':_0x1f470e,'joinedAt':_0x17c6fd[_0x5f2ea4(0x222)]()['joinedAt'],'priority':_0x17c6fd[_0x5f2ea4(0x222)]()[_0x5f2ea4(0x208)]});}),_0x23a825[_0xfe57fc(0x1e5)]((_0x4d8ca4,_0x210e15)=>_0x4d8ca4[_0xfe57fc(0x47d)]===_0x210e15[_0xfe57fc(0x47d)]?_0x4d8ca4[_0xfe57fc(0x208)]-_0x210e15['priority']:_0x4d8ca4[_0xfe57fc(0x47d)]-_0x210e15[_0xfe57fc(0x47d)])[_0xfe57fc(0x2fe)](_0x23a825[_0xfe57fc(0x683)](_0x5b7c5a=>_0x5b7c5a['id']===this[_0xfe57fc(0x86c)][_0xfe57fc(0x76b)]())),_0x23a825[_0xfe57fc(0x1e5)]((_0x2311c1,_0x2b90cf)=>_0x2b90cf[_0xfe57fc(0x47d)]===_0x2311c1['joinedAt']?_0x2b90cf[_0xfe57fc(0x208)]-_0x2311c1['priority']:_0x2b90cf[_0xfe57fc(0x47d)]-_0x2311c1['joinedAt'])[_0xfe57fc(0x919)](_0x360e59=>{const _0xc6aec4=_0xfe57fc;_0x53b6bb[_0xc6aec4(0x5af)]>=this[_0xc6aec4(0x571)]||_0x53b6bb[_0xc6aec4(0x5ed)](_0x360e59['id']);}),_0x380207['logEvent']('discover',{'clusterId':this[_0xfe57fc(0x81a)],'nodeId':this[_0xfe57fc(0x86c)]['getId'](),'nodeType':this[_0xfe57fc(0x86c)][_0xfe57fc(0x339)],'data':{'ancestorIds':_0x53b6bb,'allNodes':_0x23a825}}),_0x53b6bb;}async[_0x1833fc(0x56d)](){const _0x21a74b=_0x1833fc;await(0x0,_0x27c86b[_0x21a74b(0x174)])((0x0,_0x27c86b[_0x21a74b(0x259)])(_0xc81657[_0x21a74b(0x91c)](),_0x21a74b(0x5cc)+this[_0x21a74b(0x851)]+'/nodes/'+this[_0x21a74b(0x3d6)]),{'joinedAt':(0x0,_0x27c86b['serverTimestamp'])(),'priority':Math[_0x21a74b(0x421)]()});}[_0x1833fc(0x2a7)](){const _0x1968cd=_0x1833fc;this[_0x1968cd(0x2c0)]&&this[_0x1968cd(0x2c0)][_0x1968cd(0x585)](),this[_0x1968cd(0x2c0)]=(0x0,_0x27c86b['onDisconnect'])((0x0,_0x27c86b[_0x1968cd(0x259)])(_0xc81657['getDatabase'](),_0x1968cd(0x5cc)+this[_0x1968cd(0x851)]+'/nodes/'+this[_0x1968cd(0x3d6)])),this['onDisconnectHandler'][_0x1968cd(0x467)]();}}class _0x3c79a3{[_0x1833fc(0x317)];[_0x1833fc(0x98b)];[_0x1833fc(0x899)];['discoveryService'];[_0x1833fc(0x15b)];['ancestors']=[];[_0x1833fc(0x3a7)];['optimizationLayers']=new Map();[_0x1833fc(0x3b4)];[_0x1833fc(0x71e)];[_0x1833fc(0x955)];[_0x1833fc(0x28d)];[_0x1833fc(0x855)];[_0x1833fc(0x630)];constructor(_0x57b29f,_0x11e6e3){const _0x2ddc56=_0x1833fc;this['configs']=_0x57b29f,this[_0x2ddc56(0x98b)]=_0x11e6e3,this['_isReady']=new Promise((_0xa9170e,_0x18ccbe)=>{const _0x585001=_0x2ddc56;this[_0x585001(0x28d)]=_0xa9170e,this[_0x585001(0x855)]=_0x18ccbe;}),this[_0x2ddc56(0x4e7)]=new _0x345843(this['configs'][_0x2ddc56(0x889)],this['configs'][_0x2ddc56(0x81a)],this['configs'][_0x2ddc56(0x86c)],this['graphService']['getMinConnections']()),this[_0x2ddc56(0x15b)]=this[_0x2ddc56(0x4e7)][_0x2ddc56(0x574)](this[_0x2ddc56(0x117)][_0x2ddc56(0x6e2)](this)),this['configs'][_0x2ddc56(0x28a)][_0x2ddc56(0x212)](this['configs']['localNode']),this[_0x2ddc56(0x317)][_0x2ddc56(0x28a)]['registerSystemSource'](this),this['remoteUnsubscriber']=_0x524332['setInterval'](()=>{const _0x29640a=_0x2ddc56,_0x46d29a=Date[_0x29640a(0x1d5)]();this['graphService']['getRemoteNodes']()[_0x29640a(0x919)](_0x1ca347=>{const _0x182e8d=_0x29640a;_0x1ca347['getStatus']()===_0x56a604[_0x182e8d(0x82e)]&&_0x1ca347[_0x182e8d(0x670)]()<_0x46d29a-0x493e0&&this[_0x182e8d(0x98b)]['deleteRemoteNode'](_0x1ca347[_0x182e8d(0x76b)]());});},0xea60);}async[_0x1833fc(0x6a5)](){const _0x25b663=_0x1833fc;return this[_0x25b663(0x955)];}async['isNodeReady'](_0x308d0e){return new Promise((_0x37a920,_0x2f7062)=>{const _0x5e4a8a=a0_0x17c7;let _0x411c10;const _0x16a4cd=setTimeout(()=>{const _0x7b3fb5=a0_0x17c7;_0x411c10?.(),_0x2f7062(new Error('Node\x20\x27'+_0x308d0e+_0x7b3fb5(0x3ce)));},0x2710);if(this['graphService'][_0x5e4a8a(0x3c3)](_0x308d0e))return clearTimeout(_0x16a4cd),void _0x37a920(!0x0);_0x411c10=this[_0x5e4a8a(0x98b)][_0x5e4a8a(0x5a0)](()=>{const _0x6b79b5=_0x5e4a8a;this['graphService'][_0x6b79b5(0x3c3)](_0x308d0e)&&(clearTimeout(_0x16a4cd),_0x37a920(!0x0),_0x411c10?.());});});}[_0x1833fc(0x494)](_0x5e2a4d){const _0x393cc9=_0x1833fc;this[_0x393cc9(0x3a7)]=_0x5e2a4d;}[_0x1833fc(0x14f)](){const _0x307356=_0x1833fc;delete this[_0x307356(0x3a7)];}['close'](){const _0x181687=_0x1833fc;this[_0x181687(0x3b4)]&&(clearTimeout(this[_0x181687(0x3b4)]),delete this[_0x181687(0x3b4)]),delete this['lastProcessRank'],this[_0x181687(0x317)][_0x181687(0x86c)][_0x181687(0x244)](),this[_0x181687(0x899)](),this[_0x181687(0x15b)](),this[_0x181687(0x317)][_0x181687(0x28a)][_0x181687(0x22f)](this[_0x181687(0x317)][_0x181687(0x86c)]),this[_0x181687(0x317)][_0x181687(0x28a)][_0x181687(0x22f)](this),this[_0x181687(0x4e7)]['close']();}[_0x1833fc(0x662)](){const _0xdabc74=_0x1833fc;return this[_0xdabc74(0x7a6)];}['getLocalId'](){const _0x53fb45=_0x1833fc;return this[_0x53fb45(0x317)][_0x53fb45(0x86c)][_0x53fb45(0x76b)]();}[_0x1833fc(0x6f4)](){const _0x2e3d0b=_0x1833fc;return this[_0x2e3d0b(0x317)][_0x2e3d0b(0x86c)];}['getRemoteNodes'](_0x5e222b){const _0x444cda=_0x1833fc,_0x192110=Array[_0x444cda(0x5cf)](this[_0x444cda(0x98b)]['getRemoteNodes']()[_0x444cda(0x278)]())['filter'](_0x100be9=>_0x100be9['getStatus']()===_0x56a604[_0x444cda(0x38c)]);return _0x5e222b?_0x192110[_0x444cda(0x9a3)](_0x5e222b):_0x192110;}async[_0x1833fc(0x643)](){const _0x22e0f5=_0x1833fc;return this[_0x22e0f5(0x7a6)]=await this[_0x22e0f5(0x4e7)][_0x22e0f5(0x784)](),this[_0x22e0f5(0x7a6)][_0x22e0f5(0x5af)]<this[_0x22e0f5(0x98b)][_0x22e0f5(0x367)]()&&(this[_0x22e0f5(0x317)]['localNode']['setRank'](this[_0x22e0f5(0x7a6)][_0x22e0f5(0x5af)]+0x1),this['processRank']()),this[_0x22e0f5(0x7a6)];}[_0x1833fc(0x243)](_0x5d2b42,_0x21782b){const _0x34b9fb=_0x1833fc,_0x128d6b=this[_0x34b9fb(0x317)][_0x34b9fb(0x86c)]['getRemoteConnections'](),_0x4e63fe=new Set(_0x128d6b),_0xb0dd7f=Array[_0x34b9fb(0x5cf)](_0x128d6b)['filter'](_0x10a257=>_0x10a257!==_0x5d2b42)['map'](_0x55a7ed=>({'id':_0x55a7ed,'distance':0x1}));for(;_0xb0dd7f[_0x34b9fb(0x5af)]>0x0;){const _0x4f0ac9=_0xb0dd7f[_0x34b9fb(0x514)]();if(!_0x4f0ac9)continue;if(_0x4f0ac9['id']===_0x21782b)return _0x4f0ac9['distance'];const _0x1335e6=this['graphService']['getRemoteNode'](_0x4f0ac9['id']);_0x1335e6&&_0x1335e6[_0x34b9fb(0x2cb)]()!==_0x56a604[_0x34b9fb(0x82e)]&&_0x1335e6[_0x34b9fb(0x108)]()[_0x34b9fb(0x919)](_0xcd790d=>{const _0x49b971=_0x34b9fb;_0x4e63fe[_0x49b971(0x977)](_0xcd790d)||(_0x4e63fe['add'](_0xcd790d),_0xb0dd7f[_0x49b971(0x5ed)]({'id':_0xcd790d,'distance':_0x4f0ac9[_0x49b971(0x81b)]+0x1}));});}return-0x1;}[_0x1833fc(0x221)](_0x1c31b2){const _0x518c9b=_0x1833fc;try{switch(_0x1c31b2[_0x518c9b(0x3ff)][_0x518c9b(0x339)]){case _0x1e07d3[_0x518c9b(0x1bf)]:case _0x1e07d3['NodeConnectionsUpdate']:this[_0x518c9b(0x667)](_0x1c31b2[_0x518c9b(0x3ff)]),_0x380207[_0x518c9b(0x41b)](_0x381da1[_0x518c9b(0x18b)],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x518c9b(0x317)][_0x518c9b(0x86c)][_0x518c9b(0x76b)]()+',\x20'+_0x1c31b2[_0x518c9b(0x5fb)]+'\x27',_0x1c31b2,_0x1c31b2[_0x518c9b(0x3ff)]);break;case _0x1e07d3[_0x518c9b(0x806)]:this[_0x518c9b(0x78b)](_0x1c31b2[_0x518c9b(0x3ff)]['id']),_0x380207[_0x518c9b(0x41b)](_0x381da1['Node'],_0x518c9b(0x724),'\x27'+this['configs']['localNode'][_0x518c9b(0x76b)]()+',\x20'+_0x1c31b2[_0x518c9b(0x5fb)]+'\x27',_0x1c31b2,_0x1c31b2[_0x518c9b(0x3ff)]);}}catch(_0x312c15){if(_0x312c15 instanceof _0x5056a6)return void _0x380207[_0x518c9b(0x41b)](_0x381da1['Node'],_0x312c15[_0x518c9b(0x96c)]);throw _0x312c15;}}[_0x1833fc(0x942)](_0xd29592){const _0x209919=_0x1833fc;switch(_0xd29592[_0x209919(0x3ff)][_0x209919(0x339)]){case _0x10e8a1[_0x209919(0x932)]:this[_0x209919(0x798)](_0xd29592[_0x209919(0x5fb)]),_0x380207['log'](_0x381da1[_0x209919(0x18b)],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this[_0x209919(0x317)][_0x209919(0x86c)][_0x209919(0x76b)]()+',\x20'+_0xd29592['sourceId']+'\x27',_0xd29592,_0xd29592['content']);break;case _0x10e8a1['Disconnect']:this[_0x209919(0x609)](_0xd29592[_0x209919(0x5fb)]),_0x380207[_0x209919(0x41b)](_0x381da1[_0x209919(0x18b)],'NodeManager\x20-\x20PublishNodeLeave',this[_0x209919(0x317)][_0x209919(0x86c)]['getId'](),_0xd29592,_0xd29592[_0x209919(0x3ff)]);}}[_0x1833fc(0xdd)](_0x1b2a53){const _0x2baeb0=_0x1833fc;this[_0x2baeb0(0x3e2)](_0x1b2a53),this[_0x2baeb0(0x7f5)](_0x1b2a53);}['notifyJoin'](_0x36ffe2){const _0x4a8696=_0x1833fc;this[_0x4a8696(0x317)][_0x4a8696(0x86c)][_0x4a8696(0x34e)](_0x36ffe2['id']),this['publishNodeJoin'](_0x36ffe2['id']),this[_0x4a8696(0x2b8)](_0x36ffe2);}[_0x1833fc(0x667)](_0x570c21){const _0xeddcae=_0x1833fc,{id:_0x4c7307,metaData:_0x2bf69a,rank:_0x216236,remoteConnections:_0x43121e,version:_0x232f9a}=_0x570c21,_0x1f1169=this[_0xeddcae(0x98b)][_0xeddcae(0x705)](_0x4c7307);if(_0x1f1169){if(!(_0x232f9a<=_0x1f1169['getCurrentVersion']())){if(_0x1f1169[_0xeddcae(0x17d)](_0x43121e),_0x1f1169[_0xeddcae(0x361)](_0x232f9a),_0x1f1169[_0xeddcae(0x339)]===_0x4f9f07[_0xeddcae(0x21a)][_0xeddcae(0x38b)]&&_0x2bf69a[_0xeddcae(0x339)]===_0x4f9f07[_0xeddcae(0x21a)][_0xeddcae(0x38b)]&&(_0x1f1169[_0xeddcae(0xfa)](_0x2bf69a[_0xeddcae(0x935)]),_0x1f1169[_0xeddcae(0x63e)](_0x2bf69a[_0xeddcae(0x7aa)])),_0x216236&&_0x1f1169['setRank'](_0x216236),this[_0xeddcae(0x313)](_0x4c7307,_0x216236),_0x1f1169[_0xeddcae(0x2cb)]()===_0x56a604[_0xeddcae(0x82e)])return _0x1f1169[_0xeddcae(0x6c8)](_0x56a604[_0xeddcae(0x38c)]),this[_0xeddcae(0x5e0)](),void this[_0xeddcae(0x7f5)](_0x570c21);this[_0xeddcae(0x5e0)](),this[_0xeddcae(0x8a6)]({'id':_0x4c7307,'metaData':_0x2bf69a,'remoteConnections':_0x43121e,'version':_0x232f9a});}}else this['handleNodeJoin'](_0x570c21);}[_0x1833fc(0x313)](_0x54a113,_0x272b2a){const _0x513295=_0x1833fc;_0x272b2a&&this[_0x513295(0x7a6)][_0x513295(0x778)](_0x54a113)&&this[_0x513295(0x317)][_0x513295(0x86c)][_0x513295(0x83b)](_0x272b2a+this['ancestors'][_0x513295(0x1fe)](_0x54a113)+0x1);}['handleConnectionSuccess'](_0x4265e7){const _0x4fb6d2=_0x1833fc;this[_0x4fb6d2(0x317)][_0x4fb6d2(0x86c)][_0x4fb6d2(0x6cd)](_0x4265e7);}['createRemoteNode']({id:_0x54a723,metaData:_0x1568db,rank:_0x913d21,remoteConnections:_0x2b652f,version:_0x797fcc}){const _0x3cc987=_0x1833fc;if(this[_0x3cc987(0x98b)][_0x3cc987(0x3c3)](_0x54a723))throw new _0x5056a6(_0x3cc987(0x904)+_0x54a723);switch(_0x1568db['type']){case _0x4f9f07['NodeType']['User']:const {displayName:_0x3f13c4,email:_0x44c3b5}=_0x1568db;this[_0x3cc987(0x98b)][_0x3cc987(0x6c6)](_0x54a723,new _0x4b0a7e(_0x54a723,_0x3f13c4,_0x44c3b5,new Set(_0x2b652f),_0x797fcc,_0x913d21));break;case _0x4f9f07['NodeType'][_0x3cc987(0x4a0)]:this[_0x3cc987(0x98b)][_0x3cc987(0x6c6)](_0x54a723,new _0x3d1bc4(_0x54a723,new Set(_0x2b652f),_0x797fcc,_0x913d21));}const _0x292b60=this[_0x3cc987(0x200)](),_0x58cbbb=new Set(this['ancestors']);_0x292b60[_0x3cc987(0x919)](_0x435fcd=>{const _0x4eeaf7=_0x3cc987;_0x58cbbb[_0x4eeaf7(0x977)](_0x435fcd['getId']())&&_0x58cbbb[_0x4eeaf7(0x8be)](_0x435fcd[_0x4eeaf7(0x76b)]());}),0x0===_0x58cbbb[_0x3cc987(0x813)]&&this[_0x3cc987(0x28d)]&&(this['readyDebounce']&&clearTimeout(this[_0x3cc987(0x630)]),this[_0x3cc987(0x630)]=setTimeout(()=>{const _0x2437f1=_0x3cc987;this[_0x2437f1(0x28d)]?.(!0x0),delete this[_0x2437f1(0x28d)],delete this[_0x2437f1(0x855)];},0x7d0)),this[_0x3cc987(0x313)](_0x54a723,_0x913d21),this[_0x3cc987(0x5e0)]();}[_0x1833fc(0x747)](_0x3295f6){const _0x321644=_0x1833fc;this[_0x321644(0x3a7)][_0x321644(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x321644(0x18b)],'content':{'type':_0x1e07d3[_0x321644(0x2ab)],'id':_0x3295f6}});}[_0x1833fc(0x609)](_0x5c2185){const _0x3f0a8d=_0x1833fc;this['systemTopic']?.[_0x3f0a8d(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x3f0a8d(0x18b)],'content':{'type':_0x1e07d3[_0x3f0a8d(0x806)],'id':_0x5c2185}});}[_0x1833fc(0x117)](_0x3e76d3){const _0x5e0575=_0x1833fc;if(_0x3e76d3===this[_0x5e0575(0x317)][_0x5e0575(0x86c)]['getId']())return this[_0x5e0575(0x317)][_0x5e0575(0x28a)][_0x5e0575(0x2d5)](_0x5e0575(0x186),{'id':_0x3e76d3}),this[_0x5e0575(0x317)][_0x5e0575(0x28a)][_0x5e0575(0x244)]({'force':!0x0},!0x0),this[_0x5e0575(0x317)][_0x5e0575(0x28a)]['open'](),void this[_0x5e0575(0x317)][_0x5e0575(0x28a)][_0x5e0575(0x47c)]();this['publishNodeLeave'](_0x3e76d3);}['removeNode'](_0x259947){const _0x5259a2=_0x1833fc;this['ancestors'][_0x5259a2(0x778)](_0x259947)?this[_0x5259a2(0x191)](_0x259947):this[_0x5259a2(0x317)]['localNode'][_0x5259a2(0x108)]()[_0x5259a2(0x977)](_0x259947)&&this[_0x5259a2(0x7ca)](_0x259947),this[_0x5259a2(0x317)][_0x5259a2(0x86c)][_0x5259a2(0x54e)](_0x259947);const _0x55b7ad=Array[_0x5259a2(0x5cf)](this[_0x5259a2(0x7ee)]['entries']())[_0x5259a2(0x33e)](([,_0x1a66ff])=>_0x1a66ff==_0x1a66ff);_0x55b7ad&&this[_0x5259a2(0x7ee)][_0x5259a2(0x8be)](_0x55b7ad[0x0]);const _0x5aa4b8=this[_0x5259a2(0x98b)][_0x5259a2(0x705)](_0x259947);if(!_0x5aa4b8)return;const _0x47e0a2=_0x5aa4b8[_0x5259a2(0x92b)](),_0x4fc038=this[_0x5259a2(0x317)][_0x5259a2(0x86c)][_0x5259a2(0x92b)]();_0x4fc038&&_0x47e0a2&&_0x47e0a2<_0x4fc038&&this[_0x5259a2(0x317)][_0x5259a2(0x86c)][_0x5259a2(0x83b)](_0x4fc038-0x1,!0x1),Array[_0x5259a2(0x5cf)](this[_0x5259a2(0x98b)]['getRemoteNodes']()[_0x5259a2(0x278)]())[_0x5259a2(0x919)](_0x31fb48=>{const _0x3f864a=_0x5259a2,_0x502c8e=_0x31fb48['getRank']();_0x502c8e&&_0x47e0a2&&_0x47e0a2<_0x502c8e&&_0x31fb48[_0x3f864a(0x83b)](_0x502c8e-0x1);}),_0x5aa4b8['setStatus'](_0x56a604['Offline']),this[_0x5259a2(0x317)][_0x5259a2(0x28a)]['notifyCluster'](_0x5aa4b8['type']+'-leave',{'id':_0x259947});}[_0x1833fc(0x2b8)]({id:_0x38878d,metaData:_0x48b6d6,remoteConnections:_0x37465a}){const _0x357e90=_0x1833fc;switch(_0x48b6d6['type']){case _0x4f9f07[_0x357e90(0x21a)][_0x357e90(0x38b)]:this[_0x357e90(0x317)][_0x357e90(0x28a)]['notifyCluster'](_0x357e90(0x8ba),{'id':_0x38878d,'metaData':_0x48b6d6,'remoteConnections':_0x37465a});break;case _0x4f9f07[_0x357e90(0x21a)][_0x357e90(0x4a0)]:this[_0x357e90(0x317)]['mediator'][_0x357e90(0x2d5)]('agent-join',{'id':_0x38878d,'metaData':_0x48b6d6,'remoteConnections':_0x37465a});}}[_0x1833fc(0x8a6)]({id:_0x4c3e21,metaData:_0x158a03,remoteConnections:_0x55bd5f}){const _0x560698=_0x1833fc;switch(_0x158a03[_0x560698(0x339)]){case _0x4f9f07[_0x560698(0x21a)][_0x560698(0x38b)]:this[_0x560698(0x317)][_0x560698(0x28a)][_0x560698(0x2d5)](_0x560698(0x440),{'id':_0x4c3e21,'metaData':_0x158a03,'remoteConnections':_0x55bd5f});break;case _0x4f9f07[_0x560698(0x21a)][_0x560698(0x4a0)]:this['configs'][_0x560698(0x28a)][_0x560698(0x2d5)](_0x560698(0x768),{'id':_0x4c3e21,'metaData':_0x158a03,'remoteConnections':_0x55bd5f});}}[_0x1833fc(0x5e0)](){const _0x3a0f79=_0x1833fc;if(this[_0x3a0f79(0x71e)]||(this[_0x3a0f79(0x71e)]=Date[_0x3a0f79(0x1d5)]()),this['debounceProcessRank']){if(Date[_0x3a0f79(0x1d5)]()-this[_0x3a0f79(0x71e)]>0x2328)return;clearTimeout(this[_0x3a0f79(0x3b4)]);}this[_0x3a0f79(0x3b4)]=setTimeout(async()=>{const _0x3338fb=_0x3a0f79;delete this[_0x3338fb(0x71e)],delete this[_0x3338fb(0x3b4)];const _0x1822e3=this[_0x3338fb(0x317)][_0x3338fb(0x86c)][_0x3338fb(0x92b)]();if(!_0x1822e3)return;const _0x455570=this[_0x3338fb(0x98b)][_0x3338fb(0x3f3)](this[_0x3338fb(0x98b)][_0x3338fb(0x200)]()['size']);if(this['optimizationLayers'][_0x3338fb(0x813)]>=_0x455570)return;let _0x16fc77=0x1;for(;this[_0x3338fb(0x317)][_0x3338fb(0x28a)]['getConnections']()[_0x3338fb(0x5af)]<this['graphService'][_0x3338fb(0x897)]()&&_0x16fc77<=_0x455570;){if(this[_0x3338fb(0x7ee)]['has'](_0x16fc77)){_0x16fc77+=0x1;continue;}const _0x599ca2=this['graphService']['getNextTargetRank'](_0x1822e3,_0x16fc77),_0x408896=Array[_0x3338fb(0x5cf)](this[_0x3338fb(0x98b)]['getRemoteNodes']()[_0x3338fb(0x278)]())[_0x3338fb(0x33e)](_0x571656=>_0x571656['getRank']()===_0x599ca2&&_0x571656[_0x3338fb(0x2cb)]()===_0x56a604[_0x3338fb(0x38c)]);if(_0x408896){try{await this[_0x3338fb(0x317)][_0x3338fb(0x28a)]['createConnection'](_0x408896[_0x3338fb(0x76b)](),_0x3fa342['Optimization']),this[_0x3338fb(0x7ee)][_0x3338fb(0x174)](_0x16fc77,_0x408896[_0x3338fb(0x76b)]());}catch(_0x33a7c4){if(!(_0x33a7c4 instanceof _0x4511be&&_0x33a7c4[_0x3338fb(0x45d)]===_0x4511be[_0x3338fb(0x2a2)][_0x3338fb(0xff)]))throw _0x33a7c4;_0x380207['log'](_0x381da1[_0x3338fb(0x18b)],this[_0x3338fb(0x317)]['localNode'][_0x3338fb(0x76b)](),_0x408896[_0x3338fb(0x76b)](),_0x33a7c4['message']);}_0x16fc77+=0x1;}else _0x16fc77+=0x1;}},0x3e8);}async[_0x1833fc(0x191)](_0x2bd162){const _0x568f0a=_0x1833fc;this['ancestors']['splice'](this['ancestors'][_0x568f0a(0x1fe)](_0x2bd162),0x1);const _0x6e24a1=await this[_0x568f0a(0x4e7)][_0x568f0a(0x8fa)]();for(const _0x87db17 of _0x6e24a1)if(!this[_0x568f0a(0x7a6)][_0x568f0a(0x778)](_0x87db17)){const _0x356753=Array[_0x568f0a(0x5cf)](this[_0x568f0a(0x7ee)][_0x568f0a(0x544)]())[_0x568f0a(0x33e)](([,_0x5e58b9])=>_0x5e58b9===_0x87db17);_0x356753&&this['optimizationLayers'][_0x568f0a(0x8be)](_0x356753[0x0]),this[_0x568f0a(0x317)][_0x568f0a(0x28a)][_0x568f0a(0x8f7)](_0x87db17,_0x3fa342[_0x568f0a(0x555)]);}0x0===_0x6e24a1[_0x568f0a(0x5af)]&&this['configs'][_0x568f0a(0x86c)]['setRank'](0x1),this['ancestors']=_0x6e24a1;}async[_0x1833fc(0x7ca)](_0x317c39){const _0x2a250b=_0x1833fc,_0x1b96a7=this[_0x2a250b(0x317)][_0x2a250b(0x86c)][_0x2a250b(0x92b)]();if(!_0x1b96a7)return;const _0x26a4ff=this[_0x2a250b(0x98b)][_0x2a250b(0x705)](_0x317c39);if(!_0x26a4ff||_0x26a4ff[_0x2a250b(0x2cb)]()===_0x56a604['Offline'])return;const _0x41b9c7=_0x26a4ff[_0x2a250b(0x92b)]();if(!_0x41b9c7||_0x41b9c7<_0x1b96a7)return;const _0x446b7e=this[_0x2a250b(0x136)](this[_0x2a250b(0x317)][_0x2a250b(0x86c)][_0x2a250b(0x108)](),_0x1b96a7),_0x17eb79=this[_0x2a250b(0x136)](_0x26a4ff[_0x2a250b(0x108)](),_0x41b9c7)[_0x446b7e[_0x2a250b(0x683)](([_0x457a27])=>_0x457a27===_0x317c39)];if(!_0x17eb79||this['configs'][_0x2a250b(0x86c)][_0x2a250b(0x108)]()[_0x2a250b(0x977)](_0x17eb79[0x0]))return;const _0x5f5587=this[_0x2a250b(0x98b)][_0x2a250b(0x705)](_0x17eb79[0x0]);if(_0x5f5587&&_0x5f5587[_0x2a250b(0x2cb)]()!==_0x56a604[_0x2a250b(0x82e)])try{await this[_0x2a250b(0x317)]['mediator']['createConnection'](_0x17eb79[0x0],_0x3fa342['Optimization']);const _0x1e11ea=Array[_0x2a250b(0x5cf)](this[_0x2a250b(0x7ee)]['entries']())['find'](([,_0xa95cd4])=>_0xa95cd4===_0x317c39);_0x1e11ea&&this[_0x2a250b(0x7ee)]['set'](_0x1e11ea[0x0],_0x17eb79[0x0]);}catch(_0x155225){if(!(_0x155225 instanceof _0x4511be&&_0x155225[_0x2a250b(0x45d)]===_0x4511be[_0x2a250b(0x2a2)]['RemoteConnectionExists']))throw _0x155225;_0x380207[_0x2a250b(0x41b)](_0x381da1['Node'],this[_0x2a250b(0x317)]['localNode'][_0x2a250b(0x76b)](),_0x17eb79[0x0],_0x155225[_0x2a250b(0x96c)]);}}[_0x1833fc(0x136)](_0x57c16d,_0x4344d7){const _0x54c48c=_0x1833fc;return Array[_0x54c48c(0x5cf)](_0x57c16d)[_0x54c48c(0x161)]((_0x3b2563,_0x2d3116)=>{const _0x1f547e=_0x54c48c,_0x3080ca=this[_0x1f547e(0x98b)][_0x1f547e(0x705)](_0x2d3116);if(!_0x3080ca||_0x3080ca[_0x1f547e(0x2cb)]()===_0x56a604[_0x1f547e(0x82e)])return _0x3b2563;const _0x345938=_0x3080ca[_0x1f547e(0x92b)]();if(!_0x345938)return _0x3b2563;const _0x36437d=_0x345938-_0x4344d7;return _0x36437d<=this[_0x1f547e(0x98b)]['getMinConnections']()||_0x3b2563[_0x1f547e(0x5ed)]([_0x2d3116,_0x36437d]),_0x3b2563;},[])[_0x54c48c(0x1e5)](([,_0x5b679a],[,_0xf70add])=>_0x5b679a-_0xf70add);}}const _0x3fc3f0=[{'problemType':_0x255aaa[_0x1833fc(0x545)],'remediations':[{'type':_0x1b187c['Remediation'],'component':_0x4cfab8[_0x1833fc(0x75d)],'action':_0xad16b8[_0x1833fc(0x8fe)]},{'type':_0x1b187c[_0x1833fc(0x3a9)],'component':_0x4cfab8[_0x1833fc(0x75d)],'action':_0xad16b8[_0x1833fc(0x8fe)]}]},{'problemType':_0x255aaa['TimePerFrame'],'remediations':[{'type':_0x1b187c[_0x1833fc(0x826)],'component':_0x4cfab8[_0x1833fc(0x75d)],'action':_0xad16b8[_0x1833fc(0x8fe)]}]},{'problemType':_0x255aaa[_0x1833fc(0x8ee)],'remediations':[{'type':_0x1b187c[_0x1833fc(0x826)],'component':_0x4cfab8[_0x1833fc(0x75d)],'action':_0xad16b8[_0x1833fc(0x8fe)]}]},{'problemType':_0x255aaa[_0x1833fc(0x5d6)],'remediations':[{'type':_0x1b187c[_0x1833fc(0x826)],'component':_0x4cfab8[_0x1833fc(0x75d)],'action':_0xad16b8[_0x1833fc(0x8fe)]}]},{'problemType':_0x255aaa[_0x1833fc(0x730)],'remediations':[{'type':_0x1b187c[_0x1833fc(0x826)],'component':_0x4cfab8[_0x1833fc(0x730)],'action':_0xad16b8[_0x1833fc(0x8fe)]}]},{'problemType':_0x255aaa[_0x1833fc(0x1dc)],'remediations':[{'type':_0x1b187c[_0x1833fc(0x826)],'component':_0x4cfab8[_0x1833fc(0x730)],'action':_0xad16b8[_0x1833fc(0x8fe)]}]},{'problemType':_0x255aaa[_0x1833fc(0x4e8)],'remediations':[{'type':_0x1b187c[_0x1833fc(0x826)],'component':_0x4cfab8[_0x1833fc(0x730)],'action':_0xad16b8[_0x1833fc(0x8fe)]}]}];class _0x3c2d0b{[_0x1833fc(0x317)];[_0x1833fc(0x3a7)];[_0x1833fc(0x8ed)]=new Map();constructor(_0x586500){const _0x167f35=_0x1833fc;this['configs']=_0x586500,this[_0x167f35(0x317)]['mediator'][_0x167f35(0x212)](this);}[_0x1833fc(0x244)](){this['configs']['mediator']['unregisterSystemSource'](this);}[_0x1833fc(0x494)](_0x5a5d5b){const _0x3a6f58=_0x1833fc;this[_0x3a6f58(0x3a7)]=_0x5a5d5b;}[_0x1833fc(0x14f)](){const _0xcd69da=_0x1833fc;delete this[_0xcd69da(0x3a7)];}['handleDetectionSystemEvents'](_0x15c069){const _0x2abbae=_0x1833fc;_0x15c069['content']['type']===_0x1396a5[_0x2abbae(0x651)]&&this[_0x2abbae(0x849)](_0x15c069['content'][_0x2abbae(0x87e)]);}[_0x1833fc(0x5d7)](_0x25fbf1){const _0x192a2b=_0x1833fc;_0x25fbf1['content']['type']===_0x1b187c[_0x192a2b(0x3a9)]&&this[_0x192a2b(0x692)](_0x25fbf1[_0x192a2b(0x5fb)],{'type':_0x1b187c[_0x192a2b(0x826)],'component':_0x25fbf1['content'][_0x192a2b(0x87e)][_0x192a2b(0x1ce)],'action':_0x25fbf1[_0x192a2b(0x3ff)]['data'][_0x192a2b(0x621)]});}[_0x1833fc(0x849)](_0x470e25){const _0x382dfe=_0x1833fc,_0x490fab=_0x3fc3f0[_0x382dfe(0x33e)](_0x10e1e4=>_0x10e1e4['problemType']===_0x470e25[_0x382dfe(0x339)]);_0x490fab[_0x382dfe(0x43a)]?.[_0x382dfe(0x919)](_0x2e722d=>{const _0x23e068=_0x382dfe;this[_0x23e068(0x692)](_0x470e25['nodeId'],{'type':_0x470e25[_0x23e068(0x65e)]===_0x16a03b['Sender']?_0x1b187c[_0x23e068(0x826)]:_0x1b187c[_0x23e068(0x3a9)],'component':_0x2e722d[_0x23e068(0x1ce)],'action':_0x2e722d[_0x23e068(0x621)]});});}[_0x1833fc(0x692)](_0xe1df7,_0x3441f3){const _0x2d5ac3=_0x1833fc;if(_0x3441f3[_0x2d5ac3(0x339)]===_0x1b187c[_0x2d5ac3(0x826)]){const _0x18c58c=Date[_0x2d5ac3(0x1d5)](),_0x269e35=this[_0x2d5ac3(0x8ed)][_0x2d5ac3(0x264)](_0xe1df7);if(_0x269e35&&_0x18c58c-_0x269e35<0x1388)return;this[_0x2d5ac3(0x8ed)]['set'](_0xe1df7,_0x18c58c);}_0x380207[_0x2d5ac3(0x41b)](_0x381da1[_0x2d5ac3(0x826)],_0x2d5ac3(0x393),_0x3441f3),_0x380207[_0x2d5ac3(0x896)](_0x2d5ac3(0x3af),{'clusterId':this['configs'][_0x2d5ac3(0x81a)],'nodeId':this['configs'][_0x2d5ac3(0x86c)][_0x2d5ac3(0x76b)](),'nodeType':this[_0x2d5ac3(0x317)]['localNode'][_0x2d5ac3(0x339)],'remoteId':_0xe1df7,'data':{'type':_0x3441f3['type'],'component':_0x3441f3[_0x2d5ac3(0x1ce)],'action':_0x3441f3[_0x2d5ac3(0x621)]}});let _0x5696fd,_0x1bd4be=_0x2d04b1;_0x3441f3['type']===_0x1b187c[_0x2d5ac3(0x3a9)]&&(_0x1bd4be=this[_0x2d5ac3(0x317)][_0x2d5ac3(0x86c)]['getId'](),_0x5696fd=[_0xe1df7]),this['systemTopic'][_0x2d5ac3(0x9e5)]({'sourceId':_0x1bd4be,'destinationIds':_0x5696fd,'messageType':_0x35033d[_0x2d5ac3(0x826)],'content':{'type':_0x3441f3['type'],'targetId':_0xe1df7,'data':_0x3441f3}});}}const _0x5401e1=0x3e8,_0x749197=0x7530,_0x1c7c23=_0x1833fc(0x2d7),_0x261f3e=_0x1833fc(0x1fa),_0xb3cb09=_0x1833fc(0x39e),_0x4345e6=[_0x1c7c23,_0x261f3e],_0x1322d6=[_0xb3cb09];class _0x5d6883{[_0x1833fc(0x944)]=0x0;[_0x1833fc(0x375)]=0x0;[_0x1833fc(0x2d9)]=0x0;[_0x1833fc(0x9ce)]=0x0;['packets']=0x0;[_0x1833fc(0x100)]=0x0;['previousTimestamp']=0x0;[_0x1833fc(0x924)]=0x0;[_0x1833fc(0x57d)]=0x0;get[_0x1833fc(0x287)](){const _0x464a17=_0x1833fc;return this[_0x464a17(0x100)]>0x0&&this[_0x464a17(0xdb)]>0x0&&Date[_0x464a17(0x1d5)]()-this[_0x464a17(0x100)]<_0x749197?(this['currentBytes']-this[_0x464a17(0x57d)])/(this[_0x464a17(0x100)]-this[_0x464a17(0xdb)])*0x8*0x3e8:0x0;}[_0x1833fc(0x5e3)](_0x2e7f68){const _0x46bea6=_0x1833fc;switch(_0x2e7f68['type']){case _0xb3cb09:this[_0x46bea6(0x873)](_0x2e7f68);break;case _0x1c7c23:this[_0x46bea6(0x75f)](_0x2e7f68);break;case _0x261f3e:this[_0x46bea6(0x3be)](_0x2e7f68);}}['getReport'](){const _0x449c89=_0x1833fc;return{'bitrate':this[_0x449c89(0x287)],'packetsLostPerc':this[_0x449c89(0x911)](),'roundTripTime':this[_0x449c89(0x944)],'jitter':this[_0x449c89(0x2d9)]};}['processInboundReport'](_0x393b27){const _0xf46de2=_0x1833fc;this[_0xf46de2(0x5fa)](_0x393b27[_0xf46de2(0x6fb)]),this[_0xf46de2(0x732)](_0x393b27['timestamp']),this[_0xf46de2(0x416)]=_0x393b27[_0xf46de2(0x58e)],this[_0xf46de2(0x9ce)]=_0x393b27[_0xf46de2(0x9ce)],void 0x0!==_0x393b27[_0xf46de2(0x2d9)]?this[_0xf46de2(0x2d9)]=_0x393b27['jitter']:this[_0xf46de2(0x2d9)]=0x0,void 0x0!==_0x393b27['estimatedPlayoutTimestamp']?this['estimatedPlayoutTimestamp']=_0x393b27['estimatedPlayoutTimestamp']:this[_0xf46de2(0x375)]=0x0;}[_0x1833fc(0x75f)](_0x387152){const _0xb92b4b=_0x1833fc;this[_0xb92b4b(0x5fa)](_0x387152['bytesSent']),this[_0xb92b4b(0x732)](_0x387152[_0xb92b4b(0x964)]),this[_0xb92b4b(0x416)]=_0x387152['packetsSent'];}[_0x1833fc(0x3be)](_0x5ec063){const _0x56116b=_0x1833fc;this[_0x56116b(0x944)]=0x3e8*_0x5ec063[_0x56116b(0x944)],void 0x0!==_0x5ec063[_0x56116b(0x2d9)]?this[_0x56116b(0x2d9)]=_0x5ec063[_0x56116b(0x2d9)]:this[_0x56116b(0x2d9)]=0x0;}['getPacketsLostPerc'](){const _0x1e8c1a=_0x1833fc;return this[_0x1e8c1a(0x416)]>0x0?this[_0x1e8c1a(0x9ce)]/this[_0x1e8c1a(0x416)]:0x0;}[_0x1833fc(0x732)](_0x18e64e){const _0x1d2377=_0x1833fc;_0x18e64e>this[_0x1d2377(0x100)]&&(this['previousTimestamp']=this['currentTimestamp'],this[_0x1d2377(0x100)]=_0x18e64e);}['setBytes'](_0x3dfd48){const _0x5a509f=_0x1833fc;this[_0x5a509f(0x57d)]=this['currentBytes'],this[_0x5a509f(0x924)]=_0x3dfd48;}}class _0x2f08d4 extends _0x5d6883{}class _0x44a92f extends _0x5d6883{[_0x1833fc(0x433)]=0x0;[_0x1833fc(0x176)]=0x0;[_0x1833fc(0x615)]=0x0;[_0x1833fc(0x72d)]=0x0;[_0x1833fc(0x949)]=0x0;get[_0x1833fc(0x9cc)](){const _0x4267f3=_0x1833fc;return this[_0x4267f3(0x100)]>0x0&&this[_0x4267f3(0xdb)]>0x0&&Date[_0x4267f3(0x1d5)]()-this[_0x4267f3(0x100)]<_0x749197?(this[_0x4267f3(0x72d)]-this[_0x4267f3(0x949)])/(this[_0x4267f3(0x100)]-this[_0x4267f3(0xdb)])*0x3e8:0x0;}get[_0x1833fc(0x57f)](){const _0x5dfe32=_0x1833fc;return this['frameTime']&&this[_0x5dfe32(0x72d)]&&this[_0x5dfe32(0x72d)]>0x0?this[_0x5dfe32(0x433)]/this[_0x5dfe32(0x72d)]:0x0;}set[_0x1833fc(0x26d)](_0x1f8517){const _0x464645=_0x1833fc;this[_0x464645(0x949)]=this[_0x464645(0x72d)],this[_0x464645(0x72d)]=_0x1f8517;}[_0x1833fc(0x387)](){const _0x513ec0=_0x1833fc;return{...super['getReport'](),'FPS':this[_0x513ec0(0x9cc)],'timePerFrame':this['timePerFrame'],'frameWidth':this['frameWidth'],'frameHeight':this['frameHeight']};}[_0x1833fc(0x873)](_0x17dc69){const _0x4ec5ff=_0x1833fc;super[_0x4ec5ff(0x873)](_0x17dc69),this['frameTime']=_0x17dc69['totalDecodeTime'],this['frames']=_0x17dc69[_0x4ec5ff(0x488)],this['frameWidth']=_0x17dc69[_0x4ec5ff(0x176)],this[_0x4ec5ff(0x615)]=_0x17dc69[_0x4ec5ff(0x615)];}[_0x1833fc(0x75f)](_0x2a6ca5){const _0x105030=_0x1833fc;super[_0x105030(0x75f)](_0x2a6ca5),this[_0x105030(0x433)]=_0x2a6ca5[_0x105030(0x8f4)],this[_0x105030(0x26d)]=_0x2a6ca5['framesEncoded'],this[_0x105030(0x176)]=_0x2a6ca5[_0x105030(0x176)],this[_0x105030(0x615)]=_0x2a6ca5[_0x105030(0x615)];}}class _0x49bd5a{[_0x1833fc(0x11f)]=new _0x2f08d4();[_0x1833fc(0x323)]=new _0x44a92f();get['bitrate'](){const _0x391db0=_0x1833fc;return this[_0x391db0(0x11f)][_0x391db0(0x287)]+this[_0x391db0(0x323)][_0x391db0(0x287)];}[_0x1833fc(0x5b4)](_0x89bc9c){const _0x3370f8=_0x1833fc;return _0x89bc9c[_0x3370f8(0x919)](_0x3ccfa0=>{const _0x179aec=_0x3370f8;switch(_0x3ccfa0['kind']){case'audio':this[_0x179aec(0x11f)][_0x179aec(0x5e3)](_0x3ccfa0);break;case'video':this['video'][_0x179aec(0x5e3)](_0x3ccfa0);}}),this[_0x3370f8(0x387)]();}['getReport'](){const _0x126ea2=_0x1833fc;return{'audio':this[_0x126ea2(0x11f)][_0x126ea2(0x387)](),'video':this[_0x126ea2(0x323)][_0x126ea2(0x387)](),'roundTripTime':this[_0x126ea2(0x55d)](),'AudioVideoDelay':this[_0x126ea2(0x55f)](),'bitrate':this[_0x126ea2(0x287)]};}[_0x1833fc(0x55d)](){const _0xde2d1d=_0x1833fc;return Math['floor']((this['audio'][_0xde2d1d(0x944)]+this[_0xde2d1d(0x323)][_0xde2d1d(0x944)])/0x2);}['getAudioVideoDelay'](){const _0x3ce5c9=_0x1833fc;return this['audio'][_0x3ce5c9(0x375)]-this[_0x3ce5c9(0x323)][_0x3ce5c9(0x375)];}}class _0x123d57{[_0x1833fc(0x2aa)]=0x0;[_0x1833fc(0x828)]=0x0;['receiverCurrentTimestamp']=0x0;['receiverPreviousTimestamp']=0x0;[_0x1833fc(0x4fc)]=0x0;[_0x1833fc(0x1ec)]=0x0;[_0x1833fc(0x27e)]=0x0;[_0x1833fc(0x8f3)]=0x0;[_0x1833fc(0x1d3)]=0x0;[_0x1833fc(0x7a3)]=0x0;[_0x1833fc(0x5dc)]=0x0;[_0x1833fc(0x293)]=0x0;[_0x1833fc(0x944)]=0x0;get[_0x1833fc(0x287)](){const _0x171413=_0x1833fc;return this[_0x171413(0x149)]+this[_0x171413(0x88f)];}get[_0x1833fc(0x149)](){const _0x3482f0=_0x1833fc;return this['senderCurrentTimestamp']>0x0&&this[_0x3482f0(0x828)]>0x0&&Date[_0x3482f0(0x1d5)]()-this[_0x3482f0(0x2aa)]<_0x749197?(this['senderCurrentBytes']-this['senderPreviousBytes'])/(this[_0x3482f0(0x2aa)]-this[_0x3482f0(0x828)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x5607c7=_0x1833fc;return this[_0x5607c7(0x64c)]>0x0&&this[_0x5607c7(0x75e)]>0x0&&Date[_0x5607c7(0x1d5)]()-this['receiverCurrentTimestamp']<_0x749197?(this[_0x5607c7(0x27e)]-this[_0x5607c7(0x8f3)])/(this[_0x5607c7(0x64c)]-this[_0x5607c7(0x75e)])*0x8*0x3e8:0x0;}[_0x1833fc(0x5e3)](_0x33e1c3){const _0x288c64=_0x1833fc;switch(_0x33e1c3['origin']){case _0x16a03b['Sender']:this[_0x288c64(0x7c4)](_0x33e1c3);break;case _0x16a03b[_0x288c64(0x8bd)]:this['processReceiverReport'](_0x33e1c3);}}['getReport'](){const _0x1326ee=_0x1833fc;return{'bitrate':this[_0x1326ee(0x287)],'senderBitrate':this[_0x1326ee(0x149)],'receiverBitrate':this[_0x1326ee(0x88f)],'totalBytes':this[_0x1326ee(0x170)](),'senderTotalBytes':this['getSenderTotalBytes'](),'receiverTotalBytes':this[_0x1326ee(0x368)](),'totalMessages':this[_0x1326ee(0x1d3)]+this[_0x1326ee(0x7a3)],'senderTotalMessages':this[_0x1326ee(0x1d3)],'receiverTotalMessages':this[_0x1326ee(0x7a3)],'timeProcessing':this[_0x1326ee(0x5dc)]+this[_0x1326ee(0x293)],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this[_0x1326ee(0x293)],'roundTripTime':this[_0x1326ee(0x944)]};}[_0x1833fc(0x170)](){const _0x4b47e9=_0x1833fc;return this[_0x4b47e9(0x4fc)]+this['receiverCurrentBytes'];}['getSenderTotalBytes'](){const _0x1aacde=_0x1833fc;return this[_0x1aacde(0x4fc)];}[_0x1833fc(0x368)](){const _0x24ec7e=_0x1833fc;return this[_0x24ec7e(0x27e)];}[_0x1833fc(0x7c4)](_0x5af09d){const _0x587406=_0x1833fc;this[_0x587406(0x8a2)](_0x5af09d[_0x587406(0x964)]),this[_0x587406(0x5fa)](_0x5af09d['bytesSent']),this['senderTotalMessages']=_0x5af09d[_0x587406(0x1f2)],this['senderTimeProcessing']=_0x5af09d[_0x587406(0x399)],this[_0x587406(0x944)]=_0x5af09d[_0x587406(0x944)];}[_0x1833fc(0x638)](_0x361eab){const _0x337ae3=_0x1833fc;this[_0x337ae3(0x8b4)](_0x361eab[_0x337ae3(0x964)]),this[_0x337ae3(0x890)](_0x361eab[_0x337ae3(0x6fb)]),this['receiverTotalMessages']=_0x361eab['messagesReceived'],this[_0x337ae3(0x293)]=_0x361eab[_0x337ae3(0x8df)];}[_0x1833fc(0x8a2)](_0x28e1f7){const _0x29ccef=_0x1833fc;_0x28e1f7>this[_0x29ccef(0x2aa)]&&(this[_0x29ccef(0x828)]=this[_0x29ccef(0x2aa)],this['senderCurrentTimestamp']=_0x28e1f7);}['setReceiverTimestamp'](_0xae0e22){const _0x3390f9=_0x1833fc;_0xae0e22>this[_0x3390f9(0x64c)]&&(this[_0x3390f9(0x75e)]=this[_0x3390f9(0x64c)],this[_0x3390f9(0x64c)]=_0xae0e22);}[_0x1833fc(0x5fa)](_0x2a8cca){const _0xbf914c=_0x1833fc;this[_0xbf914c(0x1ec)]=this[_0xbf914c(0x4fc)],this[_0xbf914c(0x4fc)]=_0x2a8cca;}[_0x1833fc(0x890)](_0x3bca6c){this['receiverPreviousBytes']=this['receiverCurrentBytes'],this['receiverCurrentBytes']=_0x3bca6c;}}class _0x3d0c73{[_0x1833fc(0x90d)]=new Map();['receiverStreams']=new Map();[_0x1833fc(0x5ba)]=new _0x123d57();get[_0x1833fc(0x149)](){const _0x196bff=_0x1833fc;let _0x2f2111=0x0;return this['senderStreams'][_0x196bff(0x919)](_0x3fb51f=>{const _0x4dfe21=_0x196bff;_0x2f2111+=_0x3fb51f[_0x4dfe21(0x287)];}),_0x2f2111+=this['dataChannel'][_0x196bff(0x149)],_0x2f2111;}get[_0x1833fc(0x88f)](){const _0x32e59a=_0x1833fc;let _0x50d77f=0x0;return this[_0x32e59a(0x629)][_0x32e59a(0x919)](_0x5e8e56=>{const _0x4bbb22=_0x32e59a;_0x50d77f+=_0x5e8e56[_0x4bbb22(0x287)];}),_0x50d77f+=this['dataChannel'][_0x32e59a(0x88f)],_0x50d77f;}get[_0x1833fc(0x287)](){const _0x488390=_0x1833fc;return this[_0x488390(0x149)]+this[_0x488390(0x88f)];}[_0x1833fc(0x5b4)](_0x18bdba,_0x1f856e){const _0x3c52d3=_0x1833fc,_0x34707c=[],_0x5545d2=[];return _0x18bdba instanceof Array?_0x18bdba['forEach'](_0x3b5736=>{const _0x5ab269=a0_0x17c7;_0x3b5736[_0x5ab269(0x919)](_0x1c6116=>{const _0x20059e=_0x5ab269;_0x1322d6['includes'](_0x1c6116[_0x20059e(0x339)])&&_0x34707c[_0x20059e(0x5ed)](_0x1c6116),_0x4345e6[_0x20059e(0x778)](_0x1c6116[_0x20059e(0x339)])&&_0x5545d2[_0x20059e(0x5ed)](_0x1c6116);});}):this['dataChannel'][_0x3c52d3(0x5e3)](_0x18bdba),_0x34707c[_0x3c52d3(0x5af)]>0x0&&_0x1f856e?{...this['processInboundReports'](_0x1f856e,_0x34707c),'origin':_0x16a03b[_0x3c52d3(0x8bd)],'streamId':_0x1f856e}:_0x5545d2['length']>0x0&&_0x1f856e?{...this[_0x3c52d3(0x6b1)](_0x1f856e,_0x5545d2),'origin':_0x16a03b[_0x3c52d3(0x82d)],'streamId':_0x1f856e}:void 0x0;}[_0x1833fc(0x387)](){const _0x4bc723=_0x1833fc,_0x1e1704={};this[_0x4bc723(0x90d)]['forEach']((_0x1ea07c,_0x4f94ba)=>{const _0x2d126f=_0x4bc723;_0x1e1704[_0x4f94ba]=_0x1ea07c[_0x2d126f(0x387)]();});const _0x5296a8={};return this[_0x4bc723(0x629)]['forEach']((_0x38835e,_0x473b0a)=>{_0x5296a8[_0x473b0a]=_0x38835e['getReport']();}),{'bitrate':this['bitrate'],'senderBitrate':this[_0x4bc723(0x149)],'receiverBitrate':this[_0x4bc723(0x88f)],'senderStreams':_0x1e1704,'receiverStreams':_0x5296a8,'dataChannel':this[_0x4bc723(0x5ba)]['getReport']()};}[_0x1833fc(0x957)](_0x1d20c1,_0xe4e055){const _0x1f440a=_0x1833fc;return this[_0x1f440a(0x629)][_0x1f440a(0x977)](_0x1d20c1)||this[_0x1f440a(0x629)][_0x1f440a(0x174)](_0x1d20c1,new _0x49bd5a()),this[_0x1f440a(0x629)]['get'](_0x1d20c1)['processReports'](_0xe4e055);}[_0x1833fc(0x6b1)](_0x552799,_0x58ff88){const _0xa7f776=_0x1833fc;return this['senderStreams'][_0xa7f776(0x977)](_0x552799)||this[_0xa7f776(0x90d)][_0xa7f776(0x174)](_0x552799,new _0x49bd5a()),this[_0xa7f776(0x90d)]['get'](_0x552799)[_0xa7f776(0x5b4)](_0x58ff88);}}class _0x54e1be{[_0x1833fc(0x68c)]=new Map();[_0x1833fc(0x366)]=0x0;['durationTime']=0x0;[_0x1833fc(0x7e1)]=new Map();[_0x1833fc(0xd3)]=new Map();['keyValueDatabases']=new Map();[_0x1833fc(0x9dc)]=new Map();['generativeAIWorkers']=new Map();[_0x1833fc(0x1b8)]=new Map();['graphDatabases']=new Map();[_0x1833fc(0x122)]=new Map();[_0x1833fc(0x1d3)]=new Map();['receiverTotalMessages']=new Map();[_0x1833fc(0x5dc)]=new Map();[_0x1833fc(0x293)]=new Map();[_0x1833fc(0x631)]=new Map();[_0x1833fc(0x3a7)];['getReport'](){const _0x1b62fc=_0x1833fc,_0x2ef77c={};this['nodes'][_0x1b62fc(0x919)]((_0x17f07c,_0x2ef829)=>{const _0x550bbd=_0x1b62fc;_0x2ef77c[_0x2ef829]=_0x17f07c[_0x550bbd(0x387)]();});let _0x1bc17f=0x0;this['senderTimeProcessing'][_0x1b62fc(0x919)](_0x5dea7a=>{_0x1bc17f+=_0x5dea7a;});let _0x302cc7=0x0;this[_0x1b62fc(0x293)][_0x1b62fc(0x919)](_0x17e0e3=>{_0x302cc7+=_0x17e0e3;});const _0x4f2280=_0x1bc17f+_0x302cc7;let _0x350b8a={'messages':{'total':0x0}};this['systemMessages']['forEach'](_0x80863e=>{const _0x5b9266=_0x1b62fc;Object['keys'](_0x80863e)[_0x5b9266(0x919)](_0x9e27bc=>{const _0x4b9b92=_0x5b9266;_0x350b8a[_0x9e27bc]||(_0x350b8a[_0x9e27bc]={}),Object[_0x4b9b92(0x727)](_0x80863e[_0x9e27bc])[_0x4b9b92(0x919)](_0x1ea7d2=>{_0x350b8a[_0x9e27bc][_0x1ea7d2]||(_0x350b8a[_0x9e27bc][_0x1ea7d2]=0x0),_0x350b8a[_0x9e27bc][_0x1ea7d2]+=_0x80863e[_0x9e27bc][_0x1ea7d2];});});});let _0x71aec5=0x0,_0x15685b=0x0,_0x4a7101=0x0,_0x41d085=0x0,_0x165f84=0x0;return this[_0x1b62fc(0x7e1)]['forEach'](_0x52eeee=>{const _0xa8f4bc=_0x1b62fc;_0x15685b+=_0x52eeee[_0xa8f4bc(0x1f2)],_0x4a7101+=_0x52eeee[_0xa8f4bc(0x7f2)],_0x41d085+=_0x52eeee[_0xa8f4bc(0x9c2)],_0x165f84+=_0x52eeee['bytesReceived'];}),this[_0x1b62fc(0xd3)][_0x1b62fc(0x919)](_0x572377=>{const _0x242992=_0x1b62fc;_0x71aec5+=_0x572377['storage'],_0x15685b+=_0x572377['messagesSent'],_0x4a7101+=_0x572377[_0x242992(0x7f2)],_0x41d085+=_0x572377['bytesSent'],_0x165f84+=_0x572377[_0x242992(0x6fb)];}),this[_0x1b62fc(0x470)]['forEach'](_0x173ef9=>{const _0x395fa9=_0x1b62fc;_0x71aec5+=_0x173ef9[_0x395fa9(0x194)],_0x15685b+=_0x173ef9[_0x395fa9(0x1f2)],_0x4a7101+=_0x173ef9[_0x395fa9(0x7f2)],_0x41d085+=_0x173ef9[_0x395fa9(0x9c2)],_0x165f84+=_0x173ef9[_0x395fa9(0x6fb)];}),this[_0x1b62fc(0x9dc)][_0x1b62fc(0x919)](_0x541b16=>{const _0x354114=_0x1b62fc;_0x71aec5+=_0x541b16[_0x354114(0x194)],_0x15685b+=_0x541b16[_0x354114(0x1f2)],_0x4a7101+=_0x541b16[_0x354114(0x7f2)],_0x41d085+=_0x541b16['bytesSent'],_0x165f84+=_0x541b16[_0x354114(0x6fb)];}),this[_0x1b62fc(0x190)][_0x1b62fc(0x919)](_0x238bde=>{const _0x495f05=_0x1b62fc;_0x71aec5+=_0x238bde['storage'],_0x15685b+=_0x238bde[_0x495f05(0x1f2)],_0x4a7101+=_0x238bde[_0x495f05(0x7f2)],_0x41d085+=_0x238bde['bytesSent'],_0x165f84+=_0x238bde[_0x495f05(0x6fb)];}),this[_0x1b62fc(0x1b8)][_0x1b62fc(0x919)](_0x2a2fdf=>{const _0x183577=_0x1b62fc;_0x71aec5+=_0x2a2fdf['storage'],_0x15685b+=_0x2a2fdf['messagesSent'],_0x4a7101+=_0x2a2fdf[_0x183577(0x7f2)],_0x41d085+=_0x2a2fdf[_0x183577(0x9c2)],_0x165f84+=_0x2a2fdf[_0x183577(0x6fb)];}),this['graphDatabases'][_0x1b62fc(0x919)](_0x92a450=>{const _0x20565c=_0x1b62fc;_0x71aec5+=_0x92a450[_0x20565c(0x194)],_0x15685b+=_0x92a450[_0x20565c(0x1f2)],_0x4a7101+=_0x92a450[_0x20565c(0x7f2)],_0x41d085+=_0x92a450[_0x20565c(0x9c2)],_0x165f84+=_0x92a450['bytesReceived'];}),{'STVolatility':this[_0x1b62fc(0x6b6)](),'DTVolatility':this[_0x1b62fc(0x31b)](),'bitrate':this[_0x1b62fc(0x831)](),'senderBitrate':this[_0x1b62fc(0x7ac)](),'receiverBitrate':this[_0x1b62fc(0x8ae)](),'totalStorageSize':_0x71aec5,'totalMessages':_0x15685b+_0x4a7101,'totalMessagesSent':_0x15685b,'totalMessagesReceived':_0x4a7101,'totalBytes':_0x41d085+_0x165f84,'totalBytesSent':_0x41d085,'totalBytesReceived':_0x165f84,'systemMessages':_0x350b8a,'timeProcessing':_0x4f2280,'nodes':_0x2ef77c,'pubsubTopics':Object[_0x1b62fc(0x594)](this['pubsubTopics']),'objectStores':Object[_0x1b62fc(0x594)](this[_0x1b62fc(0xd3)]),'keyValueDatabases':Object[_0x1b62fc(0x594)](this[_0x1b62fc(0x470)]),'generativeAIContexts':Object[_0x1b62fc(0x594)](this[_0x1b62fc(0x9dc)]),'generativeAIWorkers':Object['fromEntries'](this[_0x1b62fc(0x190)]),'vectorDatabases':Object[_0x1b62fc(0x594)](this['vectorDatabases']),'graphDatabases':Object['fromEntries'](this[_0x1b62fc(0x998)]),'externalStorages':Object[_0x1b62fc(0x594)](this[_0x1b62fc(0x122)])};}[_0x1833fc(0x618)](_0x4e3ac5){const _0xdde13=_0x1833fc;this['nodes'][_0xdde13(0x174)](_0x4e3ac5,new _0x3d0c73());}[_0x1833fc(0x4e2)](_0x1b81c3){const _0xf36185=_0x1833fc;this[_0xf36185(0x68c)][_0xf36185(0x8be)](_0x1b81c3);}[_0x1833fc(0x5b4)](_0x5ddf85,_0x21bd10,_0x1b4c8c){const _0x455c12=_0x1833fc;_0x21bd10 instanceof Array||this[_0x455c12(0x4bc)](_0x5ddf85,_0x21bd10);const _0x2aa03d=this[_0x455c12(0x68c)]['get'](_0x5ddf85)?.[_0x455c12(0x5b4)](_0x21bd10,_0x1b4c8c);_0x2aa03d&&this[_0x455c12(0x3a7)][_0x455c12(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x455c12(0x509)],'content':{'type':_0x4f2cb5['StreamReport'],'data':{..._0x2aa03d,'nodeId':_0x5ddf85}}});}[_0x1833fc(0x145)](_0x5ee6db){const _0x11db2e=_0x1833fc;this[_0x11db2e(0x7b7)](_0x5ee6db[_0x11db2e(0x85e)]),this[_0x11db2e(0x566)](_0x5ee6db[_0x11db2e(0x2c8)]),this['systemTopic'][_0x11db2e(0x9e5)]({'sourceId':_0x2d04b1,'messageType':_0x35033d[_0x11db2e(0x509)],'content':{'type':_0x4f2cb5[_0x11db2e(0x19c)],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x11db2e(0x31b)]()}}});}[_0x1833fc(0x3c0)](_0x4ce7ee,_0xd1df53,_0x43d572){const _0x5a7dec=_0x1833fc;switch(_0xd1df53){case _0x5e5186[_0x5a7dec(0x62f)]:this['pubsubTopics'][_0x5a7dec(0x174)](_0x4ce7ee,_0x43d572);break;case _0x5e5186[_0x5a7dec(0x356)]:this[_0x5a7dec(0xd3)][_0x5a7dec(0x174)](_0x4ce7ee,_0x43d572);break;case _0x5e5186[_0x5a7dec(0x525)]:this[_0x5a7dec(0x470)][_0x5a7dec(0x174)](_0x4ce7ee,_0x43d572);break;case _0x5e5186[_0x5a7dec(0x4b2)]:this[_0x5a7dec(0x9dc)]['set'](_0x4ce7ee,_0x43d572);break;case _0x5e5186[_0x5a7dec(0x946)]:this['generativeAIWorkers'][_0x5a7dec(0x174)](_0x4ce7ee,_0x43d572);break;case _0x5e5186['VectorDatabaseStats']:this[_0x5a7dec(0x1b8)][_0x5a7dec(0x174)](_0x4ce7ee,_0x43d572);break;case _0x5e5186[_0x5a7dec(0x8f2)]:this[_0x5a7dec(0x998)][_0x5a7dec(0x174)](_0x4ce7ee,_0x43d572);break;case _0x5e5186[_0x5a7dec(0x859)]:this['externalStorages'][_0x5a7dec(0x174)](_0x4ce7ee,_0x43d572);}}[_0x1833fc(0x494)](_0x28492c){this['systemTopic']=_0x28492c;}[_0x1833fc(0x14f)](){const _0x39ef1e=_0x1833fc;delete this[_0x39ef1e(0x3a7)];}['getSTVolatility'](){const _0x4d5769=_0x1833fc;return this[_0x4d5769(0x366)]>0x0&&this[_0x4d5769(0x366)]-_0x5401e1>0x0?(this[_0x4d5769(0x366)]-_0x5401e1)/_0x5401e1:0x0;}[_0x1833fc(0x31b)](){const _0x474529=_0x1833fc;return this[_0x474529(0x2c8)]>0x0&&this[_0x474529(0x2c8)]-0x64>0x0?(this[_0x474529(0x2c8)]-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x12ed63=_0x1833fc;let _0x53fad8=0x0;return this[_0x12ed63(0x68c)][_0x12ed63(0x919)](_0x350beb=>{const _0x55813e=_0x12ed63;_0x53fad8+=_0x350beb[_0x55813e(0x149)];}),_0x53fad8;}[_0x1833fc(0x8ae)](){const _0x4101cc=_0x1833fc;let _0x190a6f=0x0;return this[_0x4101cc(0x68c)][_0x4101cc(0x919)](_0xd8606b=>{const _0x2be5f0=_0x4101cc;_0x190a6f+=_0xd8606b[_0x2be5f0(0x88f)];}),_0x190a6f;}[_0x1833fc(0x831)](){const _0x46cc95=_0x1833fc;let _0x45530d=0x0;return this['nodes'][_0x46cc95(0x919)](_0x3e4c8f=>{const _0x87aa7b=_0x46cc95;_0x45530d+=_0x3e4c8f[_0x87aa7b(0x287)];}),_0x45530d;}[_0x1833fc(0x7b7)](_0x4f8958){const _0x58233d=_0x1833fc;this[_0x58233d(0x366)]=_0x4f8958;}[_0x1833fc(0x566)](_0x5778aa){const _0x14a0ff=_0x1833fc;this[_0x14a0ff(0x2c8)]=_0x5778aa;}[_0x1833fc(0x4bc)](_0x18d326,_0x10bd97){const _0x1f3ad1=_0x1833fc;switch(_0x10bd97['origin']){case _0x16a03b['Sender']:this['processSenderReport'](_0x18d326,_0x10bd97);break;case _0x16a03b[_0x1f3ad1(0x8bd)]:this[_0x1f3ad1(0x638)](_0x18d326,_0x10bd97);}}[_0x1833fc(0x7c4)](_0x251093,_0x1b7bdd){const _0x2f9fa3=_0x1833fc;this[_0x2f9fa3(0x1d3)]['set'](_0x251093,_0x1b7bdd['messagesSent']),this[_0x2f9fa3(0x5dc)][_0x2f9fa3(0x174)](_0x251093,_0x1b7bdd[_0x2f9fa3(0x399)]);}[_0x1833fc(0x638)](_0x4e9d6c,_0x564329){const _0x4cc275=_0x1833fc;this[_0x4cc275(0x7a3)][_0x4cc275(0x174)](_0x4e9d6c,_0x564329[_0x4cc275(0x7f2)]),this[_0x4cc275(0x293)]['set'](_0x4e9d6c,_0x564329[_0x4cc275(0x8df)]),this[_0x4cc275(0x631)][_0x4cc275(0x174)](_0x4e9d6c,_0x564329['systemMessages']);}}class _0x5e5ce5{[_0x1833fc(0x317)];[_0x1833fc(0x25f)]=new Set();[_0x1833fc(0x5f7)];[_0x1833fc(0x13d)];[_0x1833fc(0x743)];[_0x1833fc(0x409)]=new _0x54e1be();constructor(_0x131aea){const _0x334685=_0x1833fc;this[_0x334685(0x317)]=_0x131aea,this[_0x334685(0x317)][_0x334685(0x28a)]['registerSystemSource'](this['statsReport']),this[_0x334685(0x13d)]=this[_0x334685(0x110)](),this[_0x334685(0x743)]=this['setupStatsReporting']();}[_0x1833fc(0x244)](){const _0x43f9d4=_0x1833fc;this[_0x43f9d4(0x317)]['mediator']['unregisterSystemSource'](this[_0x43f9d4(0x409)]),this[_0x43f9d4(0x743)](),this[_0x43f9d4(0x13d)]();}[_0x1833fc(0x618)](_0x499ec9){const _0x276fa9=_0x1833fc;this[_0x276fa9(0x25f)][_0x276fa9(0x720)](_0x499ec9),this[_0x276fa9(0x409)][_0x276fa9(0x618)](_0x499ec9);}[_0x1833fc(0x4e2)](_0x5209b8){const _0x4c5cb9=_0x1833fc;this[_0x4c5cb9(0x25f)]['delete'](_0x5209b8),this['statsReport'][_0x4c5cb9(0x4e2)](_0x5209b8);}[_0x1833fc(0x942)](_0x4b48a8){const _0x2797ed=_0x1833fc;if(_0x4b48a8[_0x2797ed(0x3ff)][_0x2797ed(0x339)]===_0x10e8a1[_0x2797ed(0x509)]){const {nodeId:_0x4ba802,streamId:_0x3d332d,stats:_0x3ae45c}=_0x4b48a8[_0x2797ed(0x3ff)];this['statsReport'][_0x2797ed(0x5b4)](_0x4ba802,_0x3ae45c,_0x3d332d);}}[_0x1833fc(0x74e)](_0x378135){const _0x8c7ebf=_0x1833fc;switch(_0x378135[_0x8c7ebf(0x3ff)][_0x8c7ebf(0x339)]){case _0x5e5186['ObjectStoreStats']:case _0x5e5186[_0x8c7ebf(0x525)]:case _0x5e5186[_0x8c7ebf(0x62f)]:case _0x5e5186[_0x8c7ebf(0x4b2)]:case _0x5e5186[_0x8c7ebf(0x946)]:case _0x5e5186[_0x8c7ebf(0x5bc)]:case _0x5e5186[_0x8c7ebf(0x8f2)]:case _0x5e5186['ExternalStorageStats']:this[_0x8c7ebf(0x409)][_0x8c7ebf(0x3c0)](_0x378135[_0x8c7ebf(0x3ff)][_0x8c7ebf(0x671)],_0x378135[_0x8c7ebf(0x3ff)][_0x8c7ebf(0x339)],_0x378135['content'][_0x8c7ebf(0x6dd)]);}}[_0x1833fc(0x8c1)](){const _0x1e7dd4=_0x1833fc;return _0x524332[_0x1e7dd4(0x882)](()=>{const _0x4d0ab0=_0x1e7dd4,_0x19b073=this['statsReport'][_0x4d0ab0(0x387)]();_0x380207[_0x4d0ab0(0x41b)](_0x381da1[_0x4d0ab0(0x509)],'Stats:\x20report',_0x19b073),(0x0,_0x4e5c5c[_0x4d0ab0(0x31e)])((0x0,_0x4e5c5c[_0x4d0ab0(0x939)])(_0xc81657[_0x4d0ab0(0x6c9)](),_0x4d0ab0(0x34b)+this[_0x4d0ab0(0x317)]['vendorId']+_0x4d0ab0(0x4af)),{'clusterId':this[_0x4d0ab0(0x317)]['clusterId'],'nodeId':this['configs'][_0x4d0ab0(0x86c)][_0x4d0ab0(0x76b)](),'nodeType':this[_0x4d0ab0(0x317)][_0x4d0ab0(0x86c)]['type'],'timestamp':(0x0,_0x4e5c5c['serverTimestamp'])(),'report':_0x19b073}),_0x380207[_0x4d0ab0(0x896)]('stats',{'clusterId':this[_0x4d0ab0(0x317)][_0x4d0ab0(0x81a)],'nodeId':this[_0x4d0ab0(0x317)]['localNode']['getId'](),'nodeType':this[_0x4d0ab0(0x317)][_0x4d0ab0(0x86c)][_0x4d0ab0(0x339)],'data':{'report':_0x19b073}});},_0x749197);}[_0x1833fc(0x110)](){const _0x8f9544=_0x1833fc;let _0x47073a=!0x1,_0x27d3a2=Date['now']();return _0x524332[_0x8f9544(0x882)](async()=>{const _0x5f40f8=_0x8f9544;if(_0x47073a)return;if(_0x47073a=!0x0,0x0===this[_0x5f40f8(0x25f)][_0x5f40f8(0x813)])return delete this['nextNodeId'],void(_0x47073a=!0x1);const _0x58eec8=Date[_0x5f40f8(0x1d5)]();this[_0x5f40f8(0x53b)]();try{await this['configs'][_0x5f40f8(0x28a)]['collectStats'](this[_0x5f40f8(0x5f7)]);}catch(_0xd6959d){}this['statsReport'][_0x5f40f8(0x145)]({'secheduleTime':_0x58eec8-_0x27d3a2,'durationTime':Date['now']()-_0x58eec8}),_0x27d3a2=_0x58eec8,_0x47073a=!0x1;},_0x5401e1);}['findNextNodeId'](){const _0x5201aa=_0x1833fc;let _0x892441,_0x5bf984=!0x1;this[_0x5201aa(0x5f7)]&&(this[_0x5201aa(0x25f)][_0x5201aa(0x977)](this[_0x5201aa(0x5f7)])||delete this[_0x5201aa(0x5f7)]);for(const _0x25674c of this['remoteNodes'])if(_0x892441||(_0x892441=_0x25674c),this[_0x5201aa(0x5f7)]!==_0x25674c){if(_0x5bf984)return void(this[_0x5201aa(0x5f7)]=_0x25674c);}else _0x5bf984=!0x0,delete this[_0x5201aa(0x5f7)];this[_0x5201aa(0x5f7)]||(this['nextNodeId']=_0x892441);}}class _0xb4642{[_0x1833fc(0x84b)];[_0x1833fc(0x4d4)];[_0x1833fc(0x3a7)];constructor(_0x115b76,_0x245bdf){const _0x16d54a=_0x1833fc;this['source']=_0x115b76,this[_0x16d54a(0x4d4)]=_0x245bdf;}[_0x1833fc(0x494)](_0x48f33c){const _0x94bcea=_0x1833fc;this[_0x94bcea(0x3a7)]=_0x48f33c;}['unregisterSystemPublisher'](){const _0x2b7f36=_0x1833fc;delete this[_0x2b7f36(0x3a7)];}}class _0x37fc7c extends _0xb4642{[_0x1833fc(0x84b)];['destination'];[_0x1833fc(0x1df)];constructor(_0x8fdcad,_0x14b58d,_0x55a8fc){const _0x139716=_0x1833fc;super(_0x8fdcad,_0x14b58d),this[_0x139716(0x84b)]=_0x8fdcad,this[_0x139716(0x4d4)]=_0x14b58d,this['params']=_0x55a8fc;}['subscribe'](_0x5b944b,_0x37ae48,_0x15083c){const _0x5bf197=_0x1833fc;if(this[_0x5bf197(0x4d4)][_0x5bf197(0x4ba)]()===_0x4f9f07[_0x5bf197(0x30a)][_0x5bf197(0x786)]){const _0x1f0c4b={'type':_0x1855f5['SubscribeMediaStream'],'label':this[_0x5bf197(0x4d4)][_0x5bf197(0x92c)](),'ownerId':_0x5b944b,'trackKinds':_0x37ae48??this[_0x5bf197(0x4d4)][_0x5bf197(0x1b9)](),'params':_0x15083c};this['systemTopic'][_0x5bf197(0x9e5)]({'sourceId':this['source'][_0x5bf197(0x5c7)](),'destinationIds':[this[_0x5bf197(0x84b)][_0x5bf197(0x863)]()],'messageType':_0x35033d[_0x5bf197(0x50a)],'content':_0x1f0c4b}),this[_0x5bf197(0x1df)]=_0x15083c;}}[_0x1833fc(0x669)](_0x5a082c,_0xda455a){const _0xe632f8=_0x1833fc;if(this['destination'][_0xe632f8(0x4ba)]()===_0x4f9f07[_0xe632f8(0x30a)][_0xe632f8(0x786)]){const _0x11703c={'type':_0x1855f5[_0xe632f8(0x5ec)],'label':this['destination'][_0xe632f8(0x92c)](),'ownerId':_0x5a082c,'params':_0xda455a};this[_0xe632f8(0x3a7)]['publish']({'sourceId':this[_0xe632f8(0x84b)][_0xe632f8(0x5c7)](),'destinationIds':[this['source'][_0xe632f8(0x863)]()],'messageType':_0x35033d['Subscription'],'content':_0x11703c}),this[_0xe632f8(0x1df)]=_0xda455a;}}[_0x1833fc(0x788)](_0x132f0f,_0x5c69c6,_0x3fc47c){const _0x49b018=_0x1833fc;if(this[_0x49b018(0x4d4)]['getContentType']()===_0x4f9f07['ContentType'][_0x49b018(0x786)]){const _0x201ea8={'type':_0x1855f5[_0x49b018(0x73f)],'label':this[_0x49b018(0x4d4)][_0x49b018(0x92c)](),'ownerId':_0x132f0f,'trackKinds':_0x3fc47c??this[_0x49b018(0x4d4)][_0x49b018(0x1b9)](),'remainingTracks':_0x5c69c6};this[_0x49b018(0x3a7)][_0x49b018(0x9e5)]({'sourceId':this[_0x49b018(0x84b)][_0x49b018(0x5c7)](),'destinationIds':[this[_0x49b018(0x84b)][_0x49b018(0x863)]()],'messageType':_0x35033d[_0x49b018(0x50a)],'content':_0x201ea8});}}}class _0x30e5df{[_0x1833fc(0x3b8)];['maxDistance'];[_0x1833fc(0x532)];[_0x1833fc(0x3a7)];['answers']=new Set();['startTime']=Date['now']();[_0x1833fc(0x1df)];[_0x1833fc(0x801)]=0x0;constructor(_0x183f4d,_0x10b813,_0x5071ed,_0x3b3ee3){const _0x1f9547=_0x1833fc;this[_0x1f9547(0x3b8)]=_0x10b813,this[_0x1f9547(0x96d)]=_0x5071ed,this['tracks']=_0x3b3ee3,_0x183f4d[_0x1f9547(0x919)](_0x144726=>{const _0x2ef679=_0x1f9547;this[_0x2ef679(0x843)]['add']({'nodeId':_0x144726,'type':_0x19254f[_0x2ef679(0x8e4)]});});}[_0x1833fc(0x56a)](){const _0x3defc8=_0x1833fc;return this[_0x3defc8(0x532)];}['registerSystemPublisher'](_0x296a8a){const _0x2a5965=_0x1833fc;this[_0x2a5965(0x3a7)]=_0x296a8a;}[_0x1833fc(0x14f)](){const _0x119394=_0x1833fc;delete this[_0x119394(0x3a7)];}['reset'](_0x275216,_0x3a1dd5){const _0x2c3de5=_0x1833fc;this[_0x2c3de5(0x4bf)]=Date[_0x2c3de5(0x1d5)](),this[_0x2c3de5(0x843)]['clear'](),_0x275216['forEach'](_0x2aa5b8=>{const _0x359e10=_0x2c3de5;this[_0x359e10(0x843)][_0x359e10(0x720)]({'nodeId':_0x2aa5b8,'type':_0x19254f[_0x359e10(0x8e4)]});}),this[_0x2c3de5(0x801)]+=0x1,this[_0x2c3de5(0x3b8)]=_0x3a1dd5;}[_0x1833fc(0x61e)](_0x18ee9c,_0x4f60d0,_0x1d000d,_0xae1a31,_0x1c5974){const _0x53ec95=_0x1833fc;if(this[_0x53ec95(0x801)]>0xa)throw new _0x4511be(_0x4511be[_0x53ec95(0x2a2)][_0x53ec95(0x288)],{'answers':Array[_0x53ec95(0x5cf)](this[_0x53ec95(0x843)])[_0x53ec95(0x84d)](_0x444ae0=>({'nodeId':_0x444ae0[_0x53ec95(0x746)],'type':_0x444ae0[_0x53ec95(0x339)]}))});const _0x4d818e=Array[_0x53ec95(0x5cf)](this[_0x53ec95(0x843)])[_0x53ec95(0x84d)](_0x2f8b36=>_0x2f8b36['nodeId']);this[_0x53ec95(0x1df)]=_0x1c5974,this[_0x53ec95(0x3a7)][_0x53ec95(0x9e5)]({'sourceId':_0x18ee9c,'destinationIds':_0x4d818e,'messageType':_0x35033d[_0x53ec95(0x50a)],'content':{'type':_0x1855f5[_0x53ec95(0x242)],'label':_0x1d000d,'ownerId':_0x4f60d0,'trackKinds':_0xae1a31,'params':_0x1c5974}}),_0x380207[_0x53ec95(0x41b)](_0x381da1['Subscription'],'Send\x20request',_0x18ee9c,_0x4d818e);}['handleSubscriptionSystemEvents'](_0x33c899,_0x3e35c1){const _0x4d7e10=_0x1833fc;switch(_0x3e35c1['type']){case _0x1855f5[_0x4d7e10(0x420)]:{const _0x22db24=this[_0x4d7e10(0x3b8)]>=_0x3e35c1[_0x4d7e10(0x81b)]&&_0x3e35c1['distance']<=this['maxDistance'],_0x14e1ca=Array['from'](this[_0x4d7e10(0x843)])[_0x4d7e10(0x33e)](_0xe9f7a7=>_0xe9f7a7[_0x4d7e10(0x746)]===_0x33c899);_0x14e1ca[_0x4d7e10(0x339)]=_0x22db24?_0x19254f[_0x4d7e10(0x483)]:_0x19254f[_0x4d7e10(0x1e0)],_0x14e1ca[_0x4d7e10(0x80f)]=_0x3e35c1[_0x4d7e10(0x80f)],_0x14e1ca['distance']=_0x3e35c1[_0x4d7e10(0x81b)],_0x14e1ca[_0x4d7e10(0x4ef)]=_0x3e35c1[_0x4d7e10(0x4ef)],_0x14e1ca[_0x4d7e10(0x944)]=Date[_0x4d7e10(0x1d5)]()-this[_0x4d7e10(0x4bf)],_0x14e1ca[_0x4d7e10(0x1df)]=this['params'],_0x14e1ca[_0x4d7e10(0x441)]=_0x3e35c1[_0x4d7e10(0x441)],_0x14e1ca['trackKinds']=_0x3e35c1[_0x4d7e10(0x40a)],_0x14e1ca[_0x4d7e10(0x332)]=_0x3e35c1[_0x4d7e10(0x671)],_0x380207[_0x4d7e10(0x41b)](_0x381da1[_0x4d7e10(0x50a)],(_0x22db24?_0x4d7e10(0x483):'Rejected')+_0x4d7e10(0x7eb),_0x14e1ca);break;}case _0x1855f5[_0x4d7e10(0x4b5)]:{const _0x1e2f62=Array[_0x4d7e10(0x5cf)](this[_0x4d7e10(0x843)])[_0x4d7e10(0x33e)](_0x19aeda=>_0x19aeda[_0x4d7e10(0x746)]===_0x33c899);_0x1e2f62[_0x4d7e10(0x339)]=_0x19254f[_0x4d7e10(0x1e0)],_0x380207[_0x4d7e10(0x41b)](_0x381da1[_0x4d7e10(0x50a)],_0x4d7e10(0x37b),_0x1e2f62);break;}}if(this[_0x4d7e10(0x762)]())return this['chooseAnswer']();}[_0x1833fc(0x8ca)](){const _0x4ae40d=_0x1833fc,_0x4210e0=Array[_0x4ae40d(0x5cf)](this[_0x4ae40d(0x843)])['filter'](_0x380656=>_0x380656[_0x4ae40d(0x339)]===_0x19254f[_0x4ae40d(0x483)])[_0x4ae40d(0x1e5)]((_0x54be3c,_0x511b60)=>_0x54be3c[_0x4ae40d(0x80f)]===_0x511b60[_0x4ae40d(0x80f)]?_0x54be3c[_0x4ae40d(0x944)]-_0x511b60[_0x4ae40d(0x944)]:_0x54be3c[_0x4ae40d(0x80f)]-_0x511b60['cost']);if(0x0===_0x4210e0[_0x4ae40d(0x5af)])throw new _0x4511be(_0x4511be[_0x4ae40d(0x2a2)][_0x4ae40d(0x288)],{'answers':Array['from'](this[_0x4ae40d(0x843)])['map'](_0x1c2531=>({'nodeId':_0x1c2531[_0x4ae40d(0x746)],'type':_0x1c2531[_0x4ae40d(0x339)]}))});return _0x380207[_0x4ae40d(0x41b)](_0x381da1['Subscription'],'Chosen\x20answer',_0x4210e0[0x0],this['answers']),_0x4210e0[0x0];}[_0x1833fc(0x762)](){const _0xae3fe2=_0x1833fc;for(const _0x9b63a4 of this[_0xae3fe2(0x843)])if(_0x9b63a4[_0xae3fe2(0x339)]===_0x19254f[_0xae3fe2(0x8e4)])return!0x1;return!0x0;}}class _0x13ac81{[_0x1833fc(0x671)];[_0x1833fc(0x689)];[_0x1833fc(0x970)]=_0x4febb4();constructor(_0x41a927,_0x3cb4da){const _0x28a3fd=_0x1833fc;this[_0x28a3fd(0x671)]=_0x41a927,this[_0x28a3fd(0x689)]=_0x3cb4da;}[_0x1833fc(0x92c)](){return this['label'];}['getContentType'](){const _0x18f15d=_0x1833fc;return this[_0x18f15d(0x689)];}[_0x1833fc(0x3eb)](_0x345519){const _0x165a6d=_0x1833fc;_0x345519[_0x165a6d(0x2af)](this);}[_0x1833fc(0x761)](_0x487bad){const _0x3b6746=_0x1833fc;_0x487bad[_0x3b6746(0x892)](this);}[_0x1833fc(0x9e5)](_0x3836af){const _0x17f6d5=_0x1833fc;this['listener'][_0x17f6d5(0x9e5)]({'topicLabel':this[_0x17f6d5(0x671)],'contentType':this[_0x17f6d5(0x689)],'uuid':(0x0,_0x6e2c44['v4'])(),'recipients':[],..._0x3836af});}[_0x1833fc(0x456)](_0x3c1d74){const _0x3f2073=_0x1833fc;return this[_0x3f2073(0x970)][_0x3f2073(0x456)](_0x3c1d74);}['unregisterSource'](_0x479e00){const _0x493de8=_0x1833fc;_0x479e00[_0x493de8(0x93b)](this);}[_0x1833fc(0x23a)](_0x52e92f){const _0x4bcd54=_0x1833fc;_0x52e92f[_0x4bcd54(0x64d)](this);}}class _0x1f24a9{[_0x1833fc(0x668)]={'topics':new Map(),'subscriptions':new Map()};[_0x1833fc(0x986)];constructor(_0xf51ef4){const _0x4f05df=_0x1833fc;this[_0x4f05df(0x986)]=_0xf51ef4;}get[_0x1833fc(0x59c)](){const _0x4517d4=_0x1833fc;return this[_0x4517d4(0x668)][_0x4517d4(0x59c)];}get[_0x1833fc(0x3ee)](){const _0x418524=_0x1833fc;return this[_0x418524(0x668)][_0x418524(0x3ee)];}['createSubscription'](_0x4195ce,_0x15b477){const _0xebea0a=_0x1833fc,_0x5f3017=this['getPartsFromSubscription'](_0x15b477),_0x414462=_0x5e543f(_0x4195ce);if(!_0x5f3017['supportsContentType'])throw new _0x4511be(_0x4511be[_0xebea0a(0x2a2)][_0xebea0a(0x633)],{'message':_0x414462+':\x20'+_0x5f3017[_0xebea0a(0x4fb)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x5f3017['contentType'],'subscriptionType':_0x4195ce,'subscription':_0x15b477,'subscriptonParts':_0x5f3017});const _0x148f59=_0x299391(_0x4195ce,_0x5f3017);if(this['maps'][_0xebea0a(0x59c)]['has'](_0x148f59))throw new _0x4511be(_0x4511be['codes'][_0xebea0a(0x633)],{'message':_0x414462+':\x20'+_0x148f59+'\x20already\x20exists','subscriptionType':_0x4195ce,'subscription':_0x15b477,'subscriptonParts':_0x5f3017});this[_0xebea0a(0x668)][_0xebea0a(0x59c)]['set'](_0x148f59,_0x15b477),this['createTopic'](_0x5f3017,_0x15b477);}[_0x1833fc(0x101)](_0x441b24,_0x7ebde3){const _0x1194d8=_0x1833fc,_0xce330=_0x299391(_0x7ebde3,_0x441b24),_0x2feb46=this[_0x1194d8(0x668)][_0x1194d8(0x59c)][_0x1194d8(0x264)](_0xce330);if(!_0x2feb46)throw new _0x4511be(_0x4511be['codes'][_0x1194d8(0x633)],{'message':_0x5e543f(_0x7ebde3)+':\x20'+_0xce330+_0x1194d8(0x529),'subscriptionType':_0x7ebde3,'subscription':_0x2feb46,'subscriptonParts':_0x441b24});this[_0x1194d8(0x5f5)](_0x2feb46,_0xce330,_0x441b24);}[_0x1833fc(0x5f5)](_0x3cd9ac,_0x5887d8,_0x18d398){const _0x3275ba=_0x1833fc;_0x18d398=_0x18d398||this[_0x3275ba(0x986)](_0x3cd9ac),this['maps'][_0x3275ba(0x59c)][_0x3275ba(0x8be)](_0x5887d8),this['removeTopic'](_0x18d398,_0x3cd9ac);}[_0x1833fc(0x4eb)](_0x2d7e30,{source:_0x3e4897,destination:_0x3f13b5}){const _0x12b5f2=_0x1833fc,{contentType:_0xd86d54,label:_0x1ab817,remoteId:_0x576dec}=_0x2d7e30,_0x3b1629=_0x1b7ed3(_0xd86d54,_0x1ab817,_0x576dec),_0x5b601b=new _0x13ac81(_0x3b1629,_0xd86d54);_0x5b601b[_0x12b5f2(0x3eb)](_0x3e4897),_0x5b601b[_0x12b5f2(0x761)](_0x3f13b5),this['maps'][_0x12b5f2(0x3ee)][_0x12b5f2(0x174)](_0x5b601b[_0x12b5f2(0x92c)](),_0x5b601b);}['removeTopic'](_0x183b5b,_0x215028){const _0x1bd2ce=_0x1833fc,{contentType:_0xe4c99e,label:_0x401896,remoteId:_0xc30a81}=_0x183b5b,_0x242918=_0x1b7ed3(_0xe4c99e,_0x401896,_0xc30a81),_0x1592ee=this[_0x1bd2ce(0x668)]['topics'][_0x1bd2ce(0x264)](_0x242918);_0x1592ee&&(this[_0x1bd2ce(0x60c)](_0x1592ee,_0x215028),this[_0x1bd2ce(0x668)][_0x1bd2ce(0x3ee)][_0x1bd2ce(0x8be)](_0x242918));}['closeTopic'](_0x4db47f,{source:_0x2ac003,destination:_0x15573a}){const _0xd5d5ff=_0x1833fc;_0x4db47f['unregisterSource'](_0x2ac003),_0x4db47f[_0xd5d5ff(0x23a)](_0x15573a);}[_0x1833fc(0x995)](_0x44488e){const _0x4101=_0x1833fc;this[_0x4101(0x668)][_0x4101(0x59c)][_0x4101(0x919)]((_0x19dfe8,_0x5876b3)=>{const _0x4b9600=_0x4101;_0x5876b3[_0x4b9600(0x78f)](_0x44488e)&&this[_0x4b9600(0x5f5)](_0x19dfe8,_0x5876b3);});}}class _0x84e5d{[_0x1833fc(0x317)];['maxDistance'];['subscriptionRequests']=new Map();[_0x1833fc(0xe9)]=_0x16d522(new _0x3983ae(this[_0x1833fc(0x319)][_0x1833fc(0x6e2)](this),()=>_0x524332[_0x1833fc(0x70b)](0x64)),!0x0);[_0x1833fc(0x11a)]=new Map();[_0x1833fc(0x668)];[_0x1833fc(0x439)]=new Map();constructor(_0x1ebe33,_0x55bcc0){const _0x19d89e=_0x1833fc;this[_0x19d89e(0x317)]=_0x1ebe33,this[_0x19d89e(0x96d)]=_0x55bcc0,this['maps']=new _0x1f24a9(({source:_0x4feb06,destination:_0x1fe90c})=>_0x145398(_0x1fe90c,_0x4feb06));}[_0x1833fc(0x63f)](_0x2f0671,_0x16bbb1){const _0xabd303=_0x1833fc,_0x50c19e=this[_0xabd303(0x6b3)](_0x2f0671)&&this['isMediaDestination'](_0x16bbb1)?new _0x37fc7c(_0x2f0671,_0x16bbb1):new _0xb4642(_0x2f0671,_0x16bbb1);this[_0xabd303(0x668)]['createSubscription'](_0x310314['Incoming'],_0x50c19e),this[_0xabd303(0x317)][_0xabd303(0x28a)][_0xabd303(0x212)](_0x50c19e);}['removeSubscription'](_0x210152,_0x6b642e,_0x196e90=''){const _0x211685=_0x1833fc,_0x4f8904={'contentType':_0x6b642e,'label':_0x210152,'remoteId':_0x196e90},_0x57e130=_0x299391(_0x310314['Incoming'],_0x4f8904),_0x384277=this[_0x211685(0x668)][_0x211685(0x59c)][_0x211685(0x264)](_0x57e130);_0x384277&&this[_0x211685(0x5f5)](_0x384277,_0x57e130);}[_0x1833fc(0x3b7)](_0x32acd9){const _0x46bfe0=_0x1833fc;this[_0x46bfe0(0x348)](_0x32acd9);}['handleContentSubscribeMediaStream']({label:_0x2264a8,ownerId:_0x38a436,trackKinds:_0x4ea904,params:_0x3d24ee}){const _0x37f9ae=_0x1833fc;this[_0x37f9ae(0x251)](_0x2264a8,_0x38a436,_0x4ea904,_0x3d24ee);}['handleContentUpdateMediaStream']({ownerId:_0x10221b,label:_0x58a895,params:_0x2c60fd}){const _0x450615=_0x1833fc,{subscriptionLabel:_0x47a393}=this[_0x450615(0x4c6)](_0x58a895,_0x10221b),_0x4d8bf3=this[_0x450615(0x13b)](_0x47a393);_0x4d8bf3&&_0x4d8bf3[_0x450615(0x669)](_0x10221b,_0x2c60fd);}[_0x1833fc(0x581)]({ownerId:_0x48f445,label:_0x5f668d,trackKinds:_0x2ddcc3,remainingTracks:_0x2bad0e}){const _0x121486=_0x1833fc,_0x5b4461=_0x299391(_0x310314[_0x121486(0x86e)],{'contentType':_0x4f9f07[_0x121486(0x30a)][_0x121486(0x786)],'label':_0x5f668d,'remoteId':_0x48f445});this[_0x121486(0x663)](_0x5b4461);const _0x1299c3=this['subscriptionRequests']['get'](_0x5b4461);_0x1299c3&&(this[_0x121486(0x317)]['mediator'][_0x121486(0x22f)](_0x1299c3),this[_0x121486(0x6ad)]['delete'](_0x5b4461));const {parts:_0x3aa61f,subscriptionLabel:_0x345f86}=this[_0x121486(0x4c6)](_0x5f668d,_0x48f445),_0x48fae8=this[_0x121486(0x13b)](_0x345f86);_0x48fae8&&(_0x48fae8['unsubscribe'](_0x48f445,_0x2bad0e,_0x2ddcc3),0x0===_0x2bad0e&&this[_0x121486(0x101)](_0x3aa61f[_0x121486(0x671)],_0x3aa61f[_0x121486(0x689)],_0x3aa61f['remoteId']));}[_0x1833fc(0x9df)](_0x17bd6c,{label:_0x38d208,ownerId:_0x5be571,trackKinds:_0x2dd3d4,streamId:_0x63b986,params:_0x1736a4}){const _0x1de53f=_0x1833fc,_0x284d43=_0x299391(_0x310314[_0x1de53f(0x86e)],{'contentType':_0x4f9f07[_0x1de53f(0x30a)][_0x1de53f(0x786)],'label':_0x63b986,'remoteId':_0x17bd6c}),_0x3377d9=this[_0x1de53f(0x668)][_0x1de53f(0x59c)]['get'](_0x284d43);if(!(_0x3377d9&&_0x3377d9 instanceof _0x37fc7c))throw new _0x4511be(_0x4511be[_0x1de53f(0x2a2)]['SubscriptionRequestDoesNotExist'],{'label':_0x284d43,'ownerId':_0x5be571});this[_0x1de53f(0x5f5)](_0x3377d9,_0x284d43),this[_0x1de53f(0x251)](_0x38d208,_0x5be571,_0x2dd3d4,_0x1736a4);}[_0x1833fc(0x7d7)](_0x425923,_0x3bf46e){const _0x4cc81d=_0x1833fc,{label:_0x18b88f,ownerId:_0x3c0711,trackKinds:_0x52321f,params:_0x544a02}=_0x3bf46e,_0x5c9859=_0x299391(_0x310314[_0x4cc81d(0x86e)],{'contentType':_0x4f9f07['ContentType'][_0x4cc81d(0x786)],'label':_0x18b88f,'remoteId':_0x3c0711});if(!this[_0x4cc81d(0x6ad)][_0x4cc81d(0x977)](_0x5c9859))throw new _0x4511be(_0x4511be[_0x4cc81d(0x2a2)][_0x4cc81d(0x8e9)],{'label':_0x5c9859,'ownerId':_0x3c0711,'streamId':_0x3bf46e[_0x4cc81d(0x4ef)],'requests':this['subscriptionRequests']});const _0x1a2f00=this[_0x4cc81d(0x6ad)][_0x4cc81d(0x264)](_0x5c9859);if(_0x52321f['length']===_0x1a2f00[_0x4cc81d(0x56a)]()[_0x4cc81d(0x5af)]&&_0x52321f[_0x4cc81d(0x8e3)](_0x4c1082=>_0x1a2f00['getTracks']()[_0x4cc81d(0x778)](_0x4c1082)))try{const _0x439dd3=_0x1a2f00[_0x4cc81d(0x701)](_0x425923,_0x3bf46e);if(!_0x439dd3)return;this[_0x4cc81d(0x456)](_0x439dd3,_0x3c0711,_0x18b88f,_0x5c9859,_0x52321f);}catch(_0x1d0387){return void this['handleNoAnswer'](_0x18b88f,_0x3c0711,_0x52321f,_0x544a02);}}[_0x1833fc(0x712)](_0x1cdc2f,{label:_0x4203ed,ownerId:_0x1536f7,trackKinds:_0x261021}){const _0x3e5569=_0x1833fc,_0x1e279e=this[_0x3e5569(0x317)][_0x3e5569(0x28a)][_0x3e5569(0x520)](_0x1536f7,_0x4203ed);if(!_0x1e279e)return;const _0x5678e9=_0x1e279e[_0x3e5569(0xd9)](),_0x34f6bc=_0x1e279e['getSubscribedTracks']();_0x34f6bc[_0x3e5569(0x480)](_0x3961d0=>_0x261021[_0x3e5569(0x778)](_0x3961d0))&&this[_0x3e5569(0x562)](_0x1cdc2f,_0x4203ed,_0x5678e9,_0x1536f7,_0x34f6bc);}[_0x1833fc(0x41d)]({label:_0x20be31,providerId:_0x26eda5,ownerId:_0x1de54e,streamId:_0x1092d9,trackKinds:_0x193d62}){const _0x4c9a63=_0x1833fc;this[_0x4c9a63(0x562)](_0x26eda5,_0x20be31,_0x1092d9,_0x1de54e,_0x193d62);}[_0x1833fc(0x6bd)](_0x478837){const _0x4505e4=_0x1833fc;for(const _0x49484e of this[_0x4505e4(0x439)][_0x4505e4(0x278)]()){const {streamLabel:_0x26640d,ownerId:_0xb9740b,trackKinds:_0x11495d,params:_0x45845a}=_0x49484e;if(!_0xb9740b||!_0x11495d||!_0x26640d)return;this['subscriptionRequestsQueue'][_0x4505e4(0x5ed)]({'label':_0x26640d,'ownerId':_0xb9740b,'trackKinds':_0x11495d,'params':_0x45845a,'remoteId':_0x478837});}}['removeSubscriptionsForNode'](_0x14f4b2){const _0x46d942=_0x1833fc;this[_0x46d942(0x668)][_0x46d942(0x59c)][_0x46d942(0x919)]((_0x48cdba,_0x54d712)=>{const _0x51e332=_0x46d942;if(_0x54d712['endsWith'](_0x14f4b2)){if(_0x48cdba[_0x51e332(0x4d4)][_0x51e332(0x4ba)]()===_0x4f9f07[_0x51e332(0x30a)][_0x51e332(0x786)]){const _0x30561b=_0x48cdba[_0x51e332(0x4d4)];if(_0x30561b[_0x51e332(0x908)]()[_0x51e332(0x5af)]>0x0){const _0x6f1c5={'type':_0x1855f5[_0x51e332(0x53a)],'label':_0x30561b[_0x51e332(0x92c)](),'ownerId':_0x30561b[_0x51e332(0x764)](),'trackKinds':_0x30561b[_0x51e332(0x908)]()};return void this[_0x51e332(0x712)](_0x14f4b2,_0x6f1c5);}}this[_0x51e332(0x5f5)](_0x48cdba,_0x54d712);}});}[_0x1833fc(0x244)](){const _0x349100=_0x1833fc;this[_0x349100(0x668)][_0x349100(0x59c)]['forEach'](this['closeSubscription']['bind'](this));}[_0x1833fc(0x456)](_0xa64524,_0x7b528a,_0x418adb,_0x4cc27a,_0x4d6a83){const _0x31e10f=_0x1833fc,_0x2574ed=this[_0x31e10f(0x317)][_0x31e10f(0x28a)][_0x31e10f(0x71d)](_0xa64524[_0x31e10f(0x746)]),_0x1362c1=this[_0x31e10f(0x317)][_0x31e10f(0x28a)][_0x31e10f(0x520)](_0x7b528a,_0x418adb);this[_0x31e10f(0x663)](_0x4cc27a),this[_0x31e10f(0x6ad)]['has'](_0x4cc27a)&&(this[_0x31e10f(0x317)][_0x31e10f(0x28a)][_0x31e10f(0x22f)](this[_0x31e10f(0x6ad)][_0x31e10f(0x264)](_0x4cc27a)),this[_0x31e10f(0x6ad)][_0x31e10f(0x8be)](_0x4cc27a)),this[_0x31e10f(0x68d)](_0xa64524,_0x7b528a,_0x418adb,_0x1362c1),_0x1362c1['setInternalId'](_0xa64524[_0x31e10f(0x4ef)]),_0x1362c1[_0x31e10f(0x1c5)](_0xa64524['nodeId']);const _0xfda4fc=_0x145398(_0x1362c1,_0x2574ed),_0x58700e=_0x299391(_0x310314[_0x31e10f(0x86e)],_0xfda4fc);this[_0x31e10f(0x668)][_0x31e10f(0x59c)][_0x31e10f(0x977)](_0x58700e)||this[_0x31e10f(0x63f)](_0x2574ed,_0x1362c1);const _0x1cbe44=this[_0x31e10f(0x668)][_0x31e10f(0x59c)][_0x31e10f(0x264)](_0x58700e);if(!(_0x1cbe44&&_0x1cbe44 instanceof _0x37fc7c))throw new _0x4511be(_0x4511be['codes'][_0x31e10f(0x8e9)],{'label':_0x4cc27a,'ownerId':_0x7b528a});_0x380207[_0x31e10f(0x896)](_0x31e10f(0x20f),{'clusterId':this[_0x31e10f(0x317)][_0x31e10f(0x81a)],'nodeId':this[_0x31e10f(0x317)][_0x31e10f(0x86c)][_0x31e10f(0x76b)](),'nodeType':this[_0x31e10f(0x317)]['localNode'][_0x31e10f(0x339)],'data':{'subscriptionLabel':_0x58700e,'chosenAnswer':_0xa64524}}),this['chosenAnswers'][_0x31e10f(0x174)](_0x58700e,_0xa64524),_0x1cbe44[_0x31e10f(0x456)](_0x7b528a,_0x4d6a83,_0xa64524[_0x31e10f(0x1df)]);}[_0x1833fc(0x348)]({ownerId:_0x2212fe,label:_0x515bef}){const _0xbe4496=_0x1833fc,_0x5e36a6=this[_0xbe4496(0x317)][_0xbe4496(0x28a)][_0xbe4496(0x520)](_0x2212fe,_0x515bef),[_0xa8679,_0x11fc40]=Array[_0xbe4496(0x5cf)](this[_0xbe4496(0x668)][_0xbe4496(0x59c)][_0xbe4496(0x544)]())['find'](([_0x53ef22,_0x381c33])=>-0x1!==_0x53ef22[_0xbe4496(0x1fe)](_0x5e36a6[_0xbe4496(0xd9)]()));return this[_0xbe4496(0x5f5)](_0x11fc40,_0xa8679);}[_0x1833fc(0x5f5)](_0x2da0c3,_0x332aec){const _0x58f1ce=_0x1833fc;this['configs']['mediator'][_0x58f1ce(0x22f)](_0x2da0c3),this['maps'][_0x58f1ce(0x5f5)](_0x2da0c3,_0x332aec);}['isMediaSource'](_0x12e44d){const _0x1091bc=_0x1833fc;return _0x12e44d[_0x1091bc(0x8d6)]()[_0x1091bc(0x778)](_0x4f9f07['ContentType'][_0x1091bc(0x786)]);}[_0x1833fc(0x96e)](_0x18ee71){const _0x304b81=_0x1833fc;return _0x18ee71[_0x304b81(0x4ba)]()===_0x4f9f07[_0x304b81(0x30a)][_0x304b81(0x786)];}async['handleNoAnswer'](_0x4dd0be,_0x2d753c,_0x4a4879,_0x3b1aea){const _0x437fd0=_0x1833fc;await _0x524332[_0x437fd0(0x70b)](0x3e8);const _0x438c06=_0x299391(_0x310314[_0x437fd0(0x86e)],{'contentType':_0x4f9f07[_0x437fd0(0x30a)]['Media'],'label':_0x4dd0be,'remoteId':_0x2d753c});this[_0x437fd0(0x663)](_0x438c06);const _0x1e4892=this['subscriptionRequests'][_0x437fd0(0x264)](_0x438c06);if(!_0x1e4892)throw new _0x4511be(_0x4511be[_0x437fd0(0x2a2)][_0x437fd0(0x8e9)],{'label':_0x438c06,'ownerId':_0x2d753c});const _0x4de7a7=this[_0x437fd0(0x317)]['mediator'][_0x437fd0(0x68a)](_0x2b7bba=>_0x2b7bba[_0x437fd0(0x714)]()),_0x3226d6=this[_0x437fd0(0x317)][_0x437fd0(0x28a)][_0x437fd0(0x243)](this['configs'][_0x437fd0(0x86c)][_0x437fd0(0x76b)](),_0x2d753c);_0x1e4892['reset'](_0x4de7a7[_0x437fd0(0x84d)](_0x144534=>_0x144534['getRemoteId']()),_0x3226d6);try{_0x1e4892[_0x437fd0(0x61e)](this['configs'][_0x437fd0(0x86c)][_0x437fd0(0x76b)](),_0x2d753c,_0x4dd0be,_0x4a4879,_0x3b1aea),this[_0x437fd0(0x528)](_0x4dd0be,_0x2d753c,_0x4a4879,_0x3b1aea,_0x438c06,_0x1e4892);}catch(_0x1fcd5c){this[_0x437fd0(0xe9)]['push']({'label':_0x4dd0be,'ownerId':_0x2d753c,'trackKinds':_0x4a4879,'params':_0x3b1aea});}}[_0x1833fc(0x251)](_0x524390,_0x414c2a,_0x4c768e,_0x881985){const _0x2fa6c1=_0x1833fc;this[_0x2fa6c1(0xe9)]['push']({'label':_0x524390,'ownerId':_0x414c2a,'trackKinds':_0x4c768e,'params':_0x881985});}[_0x1833fc(0x319)]({label:_0x6bae36,ownerId:_0x18da4e,trackKinds:_0x4a86ee,params:_0x84a980,remoteId:_0xa04268}){const _0x5c6541=_0x1833fc;if(!this[_0x5c6541(0x317)][_0x5c6541(0x28a)][_0x5c6541(0x520)](_0x18da4e,_0x6bae36))return;if(!this['configs']['mediator'][_0x5c6541(0x6f4)]()[_0x5c6541(0x92b)]())throw new Error(_0x5c6541(0x350));if(_0xa04268){const _0x5e16ae=this[_0x5c6541(0x317)][_0x5c6541(0x28a)][_0x5c6541(0x200)]()[_0x5c6541(0x33e)](_0x36db55=>_0x36db55[_0x5c6541(0x76b)]()===_0xa04268),_0x1eb460=_0x5e16ae?.[_0x5c6541(0x92b)]();if(!_0x5e16ae||!_0x1eb460)throw new Error(_0x5c6541(0x4d8));const _0x1394cf=this[_0x5c6541(0x317)][_0x5c6541(0x28a)][_0x5c6541(0x200)]()['find'](_0x40a4b0=>_0x40a4b0[_0x5c6541(0x76b)]()===_0x18da4e),_0x5dac5c=_0x1394cf?.[_0x5c6541(0x92b)]();if(!_0x1394cf||!_0x5dac5c)throw new Error(_0x5c6541(0x364));const _0x13b165=this[_0x5c6541(0x439)][_0x5c6541(0x264)](_0x6bae36);if(_0x13b165){const _0x5e2dd9=this[_0x5c6541(0x317)][_0x5c6541(0x28a)][_0x5c6541(0x200)]()[_0x5c6541(0x33e)](_0x50fbc5=>_0x50fbc5['getId']()===_0x13b165[_0x5c6541(0x746)]),_0x3ac260=_0x5e2dd9?.[_0x5c6541(0x92b)]();if(!_0x5e2dd9||!_0x3ac260)throw new Error(_0x5c6541(0x7b8));if(Math[_0x5c6541(0x38e)](_0x3ac260-_0x5dac5c)<Math[_0x5c6541(0x38e)](_0x1eb460-_0x5dac5c))return;}}const _0xe4036=this[_0x5c6541(0x317)][_0x5c6541(0x28a)][_0x5c6541(0x68a)](_0x190db4=>_0x190db4[_0x5c6541(0x714)]()&&(!_0xa04268||_0x190db4[_0x5c6541(0x863)]()===_0xa04268));if(!_0xe4036['length']||0x0===_0xe4036[_0x5c6541(0x5af)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x136e57=this[_0x5c6541(0x317)][_0x5c6541(0x28a)]['getDistance'](this[_0x5c6541(0x317)][_0x5c6541(0x86c)]['getId'](),_0x18da4e),_0x207fbb=_0x299391(_0x310314[_0x5c6541(0x86e)],{'contentType':_0x4f9f07[_0x5c6541(0x30a)]['Media'],'label':_0x6bae36,'remoteId':_0x18da4e});if(this['subscriptionRequests'][_0x5c6541(0x977)](_0x207fbb)){if(_0xa04268)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x16c95a=this[_0x5c6541(0x6ad)]['get'](_0x207fbb)[_0x5c6541(0x56a)]();if(_0x16c95a[_0x5c6541(0x5af)]===_0x4a86ee[_0x5c6541(0x5af)]&&_0x16c95a['every'](_0x5e1b96=>_0x4a86ee['includes'](_0x5e1b96)))return;this[_0x5c6541(0x317)][_0x5c6541(0x28a)][_0x5c6541(0x22f)](this['subscriptionRequests'][_0x5c6541(0x264)](_0x207fbb)),this[_0x5c6541(0x6ad)][_0x5c6541(0x8be)](_0x207fbb),_0x4a86ee=Array[_0x5c6541(0x5cf)](new Set(_0x4a86ee['concat'](_0x16c95a))),this[_0x5c6541(0x663)](_0x207fbb);}const _0x441d13=new _0x30e5df(_0xe4036[_0x5c6541(0x84d)](_0x354426=>_0x354426[_0x5c6541(0x863)]()),_0x136e57,this[_0x5c6541(0x96d)],_0x4a86ee);this[_0x5c6541(0x317)]['mediator'][_0x5c6541(0x212)](_0x441d13),this['subscriptionRequests'][_0x5c6541(0x174)](_0x207fbb,_0x441d13),_0x441d13['sendRequest'](this[_0x5c6541(0x317)][_0x5c6541(0x86c)][_0x5c6541(0x76b)](),_0x18da4e,_0x6bae36,_0x4a86ee,_0x84a980),this[_0x5c6541(0x528)](_0x6bae36,_0x18da4e,_0x4a86ee,_0x84a980,_0x207fbb,_0x441d13);}[_0x1833fc(0x663)](_0x5d2998){const _0x5725b1=_0x1833fc;this[_0x5725b1(0x11a)][_0x5725b1(0x977)](_0x5d2998)&&(clearTimeout(this[_0x5725b1(0x11a)][_0x5725b1(0x264)](_0x5d2998)),this[_0x5725b1(0x11a)][_0x5725b1(0x8be)](_0x5d2998));}['setSubscriptionRequestTimeout'](_0x3ca4eb,_0x5c94c7,_0x743d17,_0x3708b1,_0xe78f76,_0x4cb8b1){const _0x298558=_0x1833fc;this[_0x298558(0x663)](_0xe78f76),this[_0x298558(0x11a)]['set'](_0xe78f76,setTimeout(()=>{const _0x5f4469=_0x298558;this[_0x5f4469(0x11a)][_0x5f4469(0x8be)](_0xe78f76);try{const _0x29b529=_0x4cb8b1[_0x5f4469(0x8ca)]();this[_0x5f4469(0x456)](_0x29b529,_0x5c94c7,_0x3ca4eb,_0xe78f76,_0x743d17);}catch(_0x469f07){this['handleNoAnswer'](_0x3ca4eb,_0x5c94c7,_0x743d17,_0x3708b1);}},0x7d0));}[_0x1833fc(0x562)](_0x2fe1df,_0x47049b,_0x5997c3,_0x32ee83,_0x2819ee){const _0x312ef1=_0x1833fc,{subscriptionLabel:_0x3ea8f6}=this[_0x312ef1(0x4c6)](_0x47049b,_0x32ee83),_0x433f14=this[_0x312ef1(0x13b)](_0x3ea8f6),_0x1b5f34=_0x433f14?.['params'];_0x433f14&&(_0x433f14[_0x312ef1(0x788)](_0x32ee83,0x0),this['removeSubscription'](_0x5997c3,_0x4f9f07[_0x312ef1(0x30a)][_0x312ef1(0x786)],_0x2fe1df)),this[_0x312ef1(0x251)](_0x47049b,_0x32ee83,_0x2819ee,_0x1b5f34);}['getMediaSubscription'](_0xbae13a){const _0x3980cc=_0x1833fc,_0x462004=this[_0x3980cc(0x668)][_0x3980cc(0x59c)]['get'](_0xbae13a);if(_0x462004){if(!(_0x462004 instanceof _0x37fc7c))throw new _0x4511be(_0x4511be[_0x3980cc(0x2a2)][_0x3980cc(0x633)],{'label':_0xbae13a,'subscription':_0x462004});return _0x462004;}}[_0x1833fc(0x4c6)](_0x2788e5,_0x23ef73){const _0x268f8d=_0x1833fc,_0x594569=this[_0x268f8d(0x4f4)](_0x2788e5,_0x23ef73);return{'parts':_0x594569,'subscriptionLabel':_0x299391(_0x310314[_0x268f8d(0x86e)],_0x594569)};}['getPartsForSubscriptionLabel'](_0x2e9525,_0x413bff){const _0x26b72f=_0x1833fc,_0x37563b=this[_0x26b72f(0x317)]['mediator'][_0x26b72f(0x520)](_0x413bff,_0x2e9525),_0x41b141=_0x37563b[_0x26b72f(0x552)]();if(!_0x41b141)throw new _0x4511be(_0x4511be[_0x26b72f(0x2a2)][_0x26b72f(0x24e)],{'label':_0x2e9525,'streamId':_0x37563b[_0x26b72f(0xd9)](),'ownerId':_0x413bff,'localId':this[_0x26b72f(0x317)][_0x26b72f(0x86c)][_0x26b72f(0x76b)]()});return{'contentType':_0x4f9f07[_0x26b72f(0x30a)][_0x26b72f(0x786)],'label':_0x37563b[_0x26b72f(0xd9)](),'remoteId':_0x41b141};}['cleanOldSubscription'](_0x128faf,_0x36aa43,_0x1e3c7b,_0x41765c){const _0x3313a4=_0x1833fc,_0x1e47f0=_0x41765c[_0x3313a4(0x552)]();if(_0x1e47f0&&_0x1e47f0!==_0x128faf[_0x3313a4(0x746)]){const {parts:_0x2431ba,subscriptionLabel:_0xf2b0e8}=this[_0x3313a4(0x4c6)](_0x1e3c7b,_0x36aa43),_0x297dc3=this[_0x3313a4(0x13b)](_0xf2b0e8);_0x297dc3&&(_0x297dc3[_0x3313a4(0x788)](_0x36aa43,0x0),this[_0x3313a4(0x101)](_0x2431ba[_0x3313a4(0x671)],_0x2431ba[_0x3313a4(0x689)],_0x2431ba[_0x3313a4(0x4fb)]));}}}class _0x39b1a0{['configs'];[_0x1833fc(0x36f)];[_0x1833fc(0x668)];constructor(_0xf0650,_0x4a5164){const _0x21810f=_0x1833fc;this[_0x21810f(0x317)]=_0xf0650,this[_0x21810f(0x36f)]=_0x4a5164,this[_0x21810f(0x668)]=new _0x1f24a9(({source:_0x4befa5,destination:_0x19fffb})=>_0x145398(_0x4befa5,_0x19fffb));}[_0x1833fc(0x63f)](_0x267839,_0x280c4d){const _0x53a169=_0x1833fc,_0x528641={'source':_0x267839,'destination':_0x280c4d};this[_0x53a169(0x668)][_0x53a169(0x63f)](_0x310314[_0x53a169(0x365)],_0x528641);}[_0x1833fc(0x101)](_0x98b916,_0x269f4c,_0x308cfb=''){const _0x3f87e7=_0x1833fc,_0x1931c3={'contentType':_0x269f4c,'label':_0x98b916,'remoteId':_0x308cfb};this[_0x3f87e7(0x668)][_0x3f87e7(0x101)](_0x1931c3,_0x310314[_0x3f87e7(0x365)]);}['handleSubscriptionSubscribeMediaStream'](_0x34ada4,_0xed0f89){const _0x1cd2cb=_0x1833fc;let _0x3fb02e;_0x3fb02e=_0xed0f89[_0x1cd2cb(0x441)]!==this[_0x1cd2cb(0x317)]['localNode']['getId']()?this[_0x1cd2cb(0x317)][_0x1cd2cb(0x28a)][_0x1cd2cb(0x520)](_0xed0f89['ownerId'],_0xed0f89[_0x1cd2cb(0x671)]):this[_0x1cd2cb(0x317)][_0x1cd2cb(0x28a)][_0x1cd2cb(0x362)](_0xed0f89[_0x1cd2cb(0x671)]);const _0x51610c=_0x299391(_0x310314['Outgoing'],{'contentType':_0x4f9f07[_0x1cd2cb(0x30a)][_0x1cd2cb(0x786)],'label':_0x3fb02e[_0x1cd2cb(0x436)](),'remoteId':_0x34ada4}),_0x12bce7=this[_0x1cd2cb(0x65f)]();if(!this['maps']['subscriptions'][_0x1cd2cb(0x977)](_0x51610c)&&_0x12bce7>=this[_0x1cd2cb(0x36f)])return{'type':_0x1855f5['RestartNeedMediaStream'],'ownerId':_0xed0f89['ownerId'],'label':_0xed0f89[_0x1cd2cb(0x671)],'streamId':_0x3fb02e[_0x1cd2cb(0x436)](),'trackKinds':_0xed0f89[_0x1cd2cb(0x40a)],'params':_0xed0f89['params']};_0x3fb02e instanceof _0x592063&&!_0x3fb02e[_0x1cd2cb(0x7b9)](_0xed0f89[_0x1cd2cb(0x40a)])&&_0x3fb02e[_0x1cd2cb(0x456)](_0xed0f89[_0x1cd2cb(0x1df)]),this[_0x1cd2cb(0x668)][_0x1cd2cb(0x59c)][_0x1cd2cb(0x977)](_0x51610c)||this['createSubscription'](_0x3fb02e[_0x1cd2cb(0x8c2)](_0x34ada4),this['configs']['mediator'][_0x1cd2cb(0x71d)](_0x34ada4));}[_0x1833fc(0x55e)](_0x2e6217,{label:_0x4e411c,ownerId:_0x2c525a,remainingTracks:_0x27b61b}){const _0x176444=_0x1833fc;if(_0x27b61b>0x0)return;let _0x2811ee;_0x2811ee=_0x2c525a!==this['configs'][_0x176444(0x86c)][_0x176444(0x76b)]()?this[_0x176444(0x317)][_0x176444(0x28a)]['getRemoteMediaStream'](_0x2c525a,_0x4e411c):this[_0x176444(0x317)]['mediator']['getLocalMediaStream'](_0x4e411c);const _0x5dccbf=_0x2811ee[_0x176444(0x436)](),_0x224c71=_0x4f9f07[_0x176444(0x30a)]['Media'];this[_0x176444(0x101)](_0x5dccbf,_0x224c71,_0x2e6217);}[_0x1833fc(0x581)](_0x10dd5e,{label:_0x51f9c3,ownerId:_0x5d5a45,trackKinds:_0x550002}){const _0x58c551=_0x1833fc;if(_0x10dd5e!==_0x2d04b1)return[];let _0x3e4d21=[];for(const _0x2be068 of this[_0x58c551(0x668)]['subscriptions']){const {source:_0x435d95,destination:_0x5a797a}=_0x2be068[0x1];_0x435d95[_0x58c551(0x92c)]()===_0x51f9c3&&_0x435d95[_0x58c551(0x764)]()===_0x5d5a45&&_0x3e4d21[_0x58c551(0x5ed)]({'sourceId':this[_0x58c551(0x317)][_0x58c551(0x86c)][_0x58c551(0x76b)](),'destinationIds':[_0x5a797a[_0x58c551(0x863)]()],'messageType':_0x35033d[_0x58c551(0x50a)],'content':{'type':_0x1855f5['MediaStreamUnavailable'],'label':_0x51f9c3,'ownerId':_0x5d5a45,'trackKinds':_0x550002}});}return _0x3e4d21;}[_0x1833fc(0x6cc)](_0xaa66d8,_0x51068e){const _0xb75de2=_0x1833fc,{label:_0x49d193,ownerId:_0x289011,trackKinds:_0x5f4960,params:_0x56a8b1}=_0x51068e,{hasTracks:_0x1582ae,streamId:_0x54cfe0,hasResolution:_0x5abe39,distance:_0x209fb0,subscriptionLabel:_0x18601d}=this[_0xb75de2(0x47e)](_0xaa66d8,_0x51068e);let _0x18230e=this[_0xb75de2(0x65f)]()<this['maxOutgoingSubscriptions']&&(_0x1582ae||_0x209fb0>-0x1)?_0x1855f5['CanProvideMediaStream']:_0x1855f5[_0xb75de2(0x4b5)];const _0x5f22ad=_0x209fb0<0x0?0xa:_0x209fb0;let _0x30b9cb=_0x1582ae?_0x5abe39?_0x5f22ad:_0x5f22ad+0x0:_0x5f22ad+0xa;return _0x18601d&&this[_0xb75de2(0x668)]['subscriptions'][_0xb75de2(0x977)](_0x18601d)&&(_0x1582ae&&(_0x30b9cb=0x0),_0x18230e=_0x1855f5[_0xb75de2(0x420)]),{'type':_0x18230e,'cost':_0x30b9cb,'distance':_0x209fb0,'label':_0x49d193,'ownerId':_0x289011,'streamId':_0x54cfe0,'trackKinds':_0x5f4960,'params':_0x56a8b1};}['handleContentUnpublishMediaStream'](_0x2a7e7){const _0x95fdd9=_0x1833fc,{label:_0x12a27c,ownerId:_0x33df12}=_0x2a7e7,_0x103428=this[_0x95fdd9(0x317)][_0x95fdd9(0x28a)][_0x95fdd9(0x520)](_0x33df12,_0x12a27c);this[_0x95fdd9(0x668)][_0x95fdd9(0x59c)][_0x95fdd9(0x919)](_0x572006=>{const _0x78fad=_0x95fdd9;if(_0x572006[_0x78fad(0x84b)]['getInternalStreamId']()===_0x103428[_0x78fad(0x436)]()){const _0x2cea08=_0x572006['destination'];this[_0x78fad(0x101)](_0x103428[_0x78fad(0x436)](),_0x4f9f07[_0x78fad(0x30a)][_0x78fad(0x786)],_0x2cea08[_0x78fad(0x863)]());}});}[_0x1833fc(0x9ca)]({label:_0x5e218c}){const _0x27858f=_0x1833fc,_0x5f28f2=this[_0x27858f(0x317)][_0x27858f(0x28a)][_0x27858f(0x362)](_0x5e218c);this['maps'][_0x27858f(0x59c)][_0x27858f(0x919)](_0x4ebcc8=>{const _0x3590e4=_0x27858f;if(_0x4ebcc8[_0x3590e4(0x84b)]['getInternalStreamId']()===_0x5f28f2['getShareableStreamId']()){const _0x1bfda7=_0x4ebcc8[_0x3590e4(0x4d4)];this[_0x3590e4(0x101)](_0x5f28f2[_0x3590e4(0x436)](),_0x4f9f07['ContentType'][_0x3590e4(0x786)],_0x1bfda7[_0x3590e4(0x863)]());}});}[_0x1833fc(0x995)](_0x160ad5){const _0x4c3c22=_0x1833fc;this[_0x4c3c22(0x668)]['removeSubscriptionsForNode'](_0x160ad5);}[_0x1833fc(0x244)](){const _0x1f1df7=_0x1833fc;this[_0x1f1df7(0x668)][_0x1f1df7(0x59c)][_0x1f1df7(0x919)](this[_0x1f1df7(0x5f5)][_0x1f1df7(0x6e2)](this));}[_0x1833fc(0x5f5)](_0x5fac05,_0x2c1b9c){const _0x2934cd=_0x1833fc;this[_0x2934cd(0x668)]['closeSubscription'](_0x5fac05,_0x2c1b9c);}['getSubscriptionInfo'](_0x3d0918,{label:_0x5677d7,ownerId:_0x545b07,trackKinds:_0x1ab5e1,params:_0x79d274}){const _0x2da55f=_0x1833fc;if(_0x545b07!==this[_0x2da55f(0x317)][_0x2da55f(0x86c)]['getId']()){const _0x38c031=this[_0x2da55f(0x317)][_0x2da55f(0x28a)]['getRemoteMediaStream'](_0x545b07,_0x5677d7);return _0x38c031&&_0x38c031[_0x2da55f(0x552)]()!==_0x3d0918?{'hasTracks':_0x38c031[_0x2da55f(0x728)](_0x1ab5e1),'hasResolution':this[_0x2da55f(0x8cb)](_0x38c031['getResolution'](),_0x79d274),'streamId':_0x38c031[_0x2da55f(0x436)](),'distance':this[_0x2da55f(0x317)][_0x2da55f(0x28a)]['getDistance'](_0x3d0918,_0x545b07),'subscriptionLabel':_0x299391(_0x310314[_0x2da55f(0x365)],{'contentType':_0x4f9f07[_0x2da55f(0x30a)][_0x2da55f(0x786)],'label':_0x38c031['getShareableStreamId'](),'remoteId':_0x3d0918})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x3ddb49=this['configs'][_0x2da55f(0x28a)]['getLocalMediaStream'](_0x5677d7);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x3ddb49['getShareableStreamId'](),'distance':0x0,'subscriptionLabel':_0x299391(_0x310314[_0x2da55f(0x365)],{'contentType':_0x4f9f07[_0x2da55f(0x30a)][_0x2da55f(0x786)],'label':_0x3ddb49[_0x2da55f(0x436)](),'remoteId':_0x3d0918})};}[_0x1833fc(0x65f)](){const _0x502d6a=_0x1833fc;return Array[_0x502d6a(0x5cf)](this['maps']['subscriptions']['entries']())[_0x502d6a(0x9a3)](([_0x270edd,{source:_0x51fb54}])=>_0x270edd[_0x502d6a(0x51c)](_0x310314[_0x502d6a(0x365)])&&_0x51fb54['getContentType']()===_0x4f9f07['ContentType'][_0x502d6a(0x786)])[_0x502d6a(0x5af)];}[_0x1833fc(0x8cb)](_0x363e45,_0x29e198){const _0x219048=_0x1833fc;if(!_0x29e198||!_0x29e198[_0x219048(0x323)]||_0x219048(0x5ff)==typeof _0x29e198[_0x219048(0x323)]||!_0x29e198[_0x219048(0x323)][_0x219048(0x78d)])return!0x0;const {width:_0x3538c7,height:_0x146d95}=_0x29e198[_0x219048(0x323)]['maxResolution'];return _0x363e45[_0x219048(0x2b0)]>=_0x3538c7&&_0x363e45['height']>=_0x146d95;}}class _0xcfc180{[_0x1833fc(0x317)];[_0x1833fc(0x36f)];[_0x1833fc(0x96d)];['systemTopic'];[_0x1833fc(0x94e)];[_0x1833fc(0x7fc)];constructor(_0x12f9bb,_0x55c0e0,_0x393816){const _0x9f15c7=_0x1833fc;this[_0x9f15c7(0x317)]=_0x12f9bb,this['maxOutgoingSubscriptions']=_0x55c0e0,this[_0x9f15c7(0x96d)]=_0x393816,this['configs'][_0x9f15c7(0x28a)][_0x9f15c7(0x212)](this),this[_0x9f15c7(0x94e)]=new _0x84e5d(this['configs'],this[_0x9f15c7(0x96d)]),this[_0x9f15c7(0x7fc)]=new _0x39b1a0(this[_0x9f15c7(0x317)],this['maxOutgoingSubscriptions']);}[_0x1833fc(0x494)](_0x1edc93){const _0x2d3c99=_0x1833fc;this[_0x2d3c99(0x3a7)]=_0x1edc93;}['unregisterSystemPublisher'](){const _0x47ce06=_0x1833fc;delete this[_0x47ce06(0x3a7)];}['close'](){const _0x5ef1b4=_0x1833fc;this['incomingManager'][_0x5ef1b4(0x244)](),this[_0x5ef1b4(0x7fc)]['close'](),this[_0x5ef1b4(0x317)][_0x5ef1b4(0x28a)]['unregisterSystemSource'](this);}[_0x1833fc(0x185)](_0x26e54f,_0x2ceca9){const _0x20e064=_0x1833fc;this[_0x20e064(0x94e)][_0x20e064(0x63f)](_0x26e54f,_0x2ceca9);}[_0x1833fc(0x7b3)](_0x156427,_0x492916){this['outgoingManager']['createSubscription'](_0x156427,_0x492916);}[_0x1833fc(0x9c4)](_0x1cc4b9,_0x4c1ef7,_0x129237=''){const _0x4cc154=_0x1833fc;this['incomingManager'][_0x4cc154(0x101)](_0x1cc4b9,_0x4c1ef7,_0x129237);}[_0x1833fc(0x3c5)](_0x52e858,_0x13dc08,_0x25379c=''){const _0x15d861=_0x1833fc;try{this[_0x15d861(0x7fc)][_0x15d861(0x101)](_0x52e858,_0x13dc08,_0x25379c);}catch(_0x2502fa){if(_0x2502fa instanceof _0x4511be&&_0x2502fa[_0x15d861(0x45d)]===_0x4511be['codes'][_0x15d861(0x633)])return;}}[_0x1833fc(0x701)](_0x4e0d4d){const _0x2ca7d6=_0x1833fc;switch(_0x4e0d4d[_0x2ca7d6(0x3ff)][_0x2ca7d6(0x339)]){case _0x1855f5['SubscribeMediaStream']:this[_0x2ca7d6(0x7f7)](_0x4e0d4d[_0x2ca7d6(0x5fb)],_0x4e0d4d[_0x2ca7d6(0x3ff)]);break;case _0x1855f5[_0x2ca7d6(0x73f)]:this['outgoingManager'][_0x2ca7d6(0x55e)](_0x4e0d4d[_0x2ca7d6(0x5fb)],_0x4e0d4d[_0x2ca7d6(0x3ff)]);break;case _0x1855f5[_0x2ca7d6(0x242)]:this[_0x2ca7d6(0x6cc)](_0x4e0d4d['sourceId'],_0x4e0d4d[_0x2ca7d6(0x3ff)]);break;case _0x1855f5[_0x2ca7d6(0x246)]:this['incomingManager'][_0x2ca7d6(0x9df)](_0x4e0d4d['sourceId'],_0x4e0d4d[_0x2ca7d6(0x3ff)]);break;case _0x1855f5['CanProvideMediaStream']:case _0x1855f5[_0x2ca7d6(0x4b5)]:this['incomingManager'][_0x2ca7d6(0x7d7)](_0x4e0d4d[_0x2ca7d6(0x5fb)],_0x4e0d4d[_0x2ca7d6(0x3ff)]);break;case _0x1855f5['MediaStreamUnavailable']:this['incomingManager'][_0x2ca7d6(0x712)](_0x4e0d4d[_0x2ca7d6(0x5fb)],_0x4e0d4d[_0x2ca7d6(0x3ff)]);}}[_0x1833fc(0x74e)](_0x270c95){const _0x18cf6f=_0x1833fc;switch(_0x270c95[_0x18cf6f(0x3ff)][_0x18cf6f(0x339)]){case _0x5e5186[_0x18cf6f(0x1d8)]:this[_0x18cf6f(0x94e)][_0x18cf6f(0x3b7)](_0x270c95[_0x18cf6f(0x3ff)]),this[_0x18cf6f(0x7fc)][_0x18cf6f(0x3b7)](_0x270c95[_0x18cf6f(0x3ff)]);break;case _0x5e5186[_0x18cf6f(0x412)]:this[_0x18cf6f(0x94e)][_0x18cf6f(0x736)](_0x270c95[_0x18cf6f(0x3ff)]);break;case _0x5e5186['UpdateMediaStream']:this['incomingManager'][_0x18cf6f(0x6e3)](_0x270c95[_0x18cf6f(0x3ff)]);break;case _0x5e5186[_0x18cf6f(0x73f)]:this['handleContentUnsubscribeMediaStream'](_0x270c95['sourceId'],_0x270c95[_0x18cf6f(0x3ff)]);break;case _0x5e5186[_0x18cf6f(0x5c9)]:this[_0x18cf6f(0x7fc)][_0x18cf6f(0x9ca)](_0x270c95[_0x18cf6f(0x3ff)]);break;case _0x5e5186['ClosePubSubTopic']:this['handleCloseContent'](_0x270c95[_0x18cf6f(0x3ff)]['label'],_0x4f9f07[_0x18cf6f(0x30a)]['PubSub']);break;case _0x5e5186[_0x18cf6f(0x499)]:this['handleCloseContent'](_0x270c95[_0x18cf6f(0x3ff)][_0x18cf6f(0x671)],_0x4f9f07[_0x18cf6f(0x30a)]['ObjectStore']);break;case _0x5e5186[_0x18cf6f(0x5db)]:this[_0x18cf6f(0x14c)](_0x270c95[_0x18cf6f(0x3ff)]['label'],_0x4f9f07[_0x18cf6f(0x30a)]['ExternalStorage']);break;case _0x5e5186[_0x18cf6f(0x4a4)]:this[_0x18cf6f(0x14c)](_0x270c95[_0x18cf6f(0x3ff)][_0x18cf6f(0x671)],_0x4f9f07[_0x18cf6f(0x30a)][_0x18cf6f(0x9d1)]);break;case _0x5e5186['CloseVectorDatabase']:this[_0x18cf6f(0x14c)](_0x270c95['content'][_0x18cf6f(0x671)],_0x4f9f07[_0x18cf6f(0x30a)][_0x18cf6f(0x23d)]);break;case _0x5e5186[_0x18cf6f(0x379)]:this['handleCloseContent'](_0x270c95['content']['label'],_0x4f9f07['ContentType'][_0x18cf6f(0x270)]);break;case _0x5e5186['CloseJobDispatcher']:case _0x5e5186[_0x18cf6f(0x280)]:this[_0x18cf6f(0x14c)](_0x270c95[_0x18cf6f(0x3ff)]['label'],_0x4f9f07[_0x18cf6f(0x30a)][_0x18cf6f(0x87d)]);break;case _0x5e5186['RemoteMediaStreamTrackFail']:this[_0x18cf6f(0x94e)][_0x18cf6f(0x41d)](_0x270c95['content']);}}[_0x1833fc(0x221)]({content:_0x5eaeaa}){const _0x6f31ac=_0x1833fc;_0x5eaeaa[_0x6f31ac(0x339)]===_0x1e07d3[_0x6f31ac(0x806)]&&this[_0x6f31ac(0x995)](_0x5eaeaa);}[_0x1833fc(0x942)](_0x455362){const _0x1f23c8=_0x1833fc;_0x455362[_0x1f23c8(0x3ff)][_0x1f23c8(0x339)]===_0x10e8a1['OptimizationConnectionSuccess']&&this[_0x1f23c8(0x94e)][_0x1f23c8(0x6bd)](_0x455362[_0x1f23c8(0x5fb)]);}[_0x1833fc(0x581)](_0x5d15ee,_0x22966a){const _0xb507df=_0x1833fc;this[_0xb507df(0x94e)]['handleContentUnsubscribeMediaStream'](_0x22966a),this[_0xb507df(0x7fc)][_0xb507df(0x581)](_0x5d15ee,_0x22966a)[_0xb507df(0x919)](_0x2ef265=>this[_0xb507df(0x3a7)][_0xb507df(0x9e5)](_0x2ef265));}[_0x1833fc(0x7f7)](_0x51ff4c,_0xbd963d){const _0x11e204=_0x1833fc,_0x31dd7a=this[_0x11e204(0x7fc)]['handleSubscriptionSubscribeMediaStream'](_0x51ff4c,_0xbd963d);if(_0x31dd7a&&(this[_0x11e204(0x3a7)][_0x11e204(0x9e5)]({'sourceId':this[_0x11e204(0x317)]['localNode'][_0x11e204(0x76b)](),'destinationIds':[_0x51ff4c],'messageType':_0x35033d[_0x11e204(0x50a)],'content':_0x31dd7a}),_0x31dd7a[_0x11e204(0x339)]===_0x1855f5[_0x11e204(0x246)]))throw new _0x5056a6(_0x11e204(0x314));}[_0x1833fc(0x6cc)](_0x2ba695,_0x588863){const _0x5b5aef=_0x1833fc,_0x320b20=this[_0x5b5aef(0x7fc)][_0x5b5aef(0x6cc)](_0x2ba695,_0x588863);this['systemTopic'][_0x5b5aef(0x9e5)]({'sourceId':this[_0x5b5aef(0x317)]['localNode'][_0x5b5aef(0x76b)](),'destinationIds':[_0x2ba695],'messageType':_0x35033d[_0x5b5aef(0x50a)],'content':_0x320b20});}['handleCloseContent'](_0xbed95a,_0x1e5b38){const _0x35a6fb=_0x1833fc;this[_0x35a6fb(0x9c4)](_0xbed95a,_0x1e5b38),this['removeOutgoingSubscription'](_0xbed95a,_0x1e5b38);}['removeSubscriptionsForNode']({id:_0x12f1ba}){const _0x436f90=_0x1833fc;this['incomingManager'][_0x436f90(0x995)](_0x12f1ba),this[_0x436f90(0x7fc)][_0x436f90(0x995)](_0x12f1ba);}}class _0x44685c{[_0x1833fc(0x671)];[_0x1833fc(0x970)]=_0x4febb4();constructor(){const _0x1ffb8e=_0x1833fc;this[_0x1ffb8e(0x671)]=0x0;}[_0x1833fc(0x92c)](){const _0x156906=_0x1833fc;return this[_0x156906(0x671)];}[_0x1833fc(0x4ba)](){return _0x4f9f07['ContentType']['Data'];}['registerSource'](_0x11b4e9){const _0x418f2a=_0x1833fc;_0x11b4e9[_0x418f2a(0x494)](this);}[_0x1833fc(0x5a5)](_0x192c3a){const _0xee54ba=_0x1833fc;_0x192c3a[_0xee54ba(0x14f)]();}[_0x1833fc(0x9e5)](_0xce364a){const _0x5f0c9f=_0x1833fc;_0x380207[_0x5f0c9f(0x41b)](_0x381da1[_0x5f0c9f(0x66c)],'SystemTopic\x20publish',_0xce364a[_0x5f0c9f(0x5fb)],_0xce364a),this[_0x5f0c9f(0x970)][_0x5f0c9f(0x9e5)]({'topicLabel':this['label'],'contentType':_0x4f9f07[_0x5f0c9f(0x30a)][_0x5f0c9f(0x799)],'uuid':_0xce364a[_0x5f0c9f(0x4c0)]??(0x0,_0x6e2c44['v4'])(),'recipients':_0xce364a[_0x5f0c9f(0x256)]??[],..._0xce364a});}['subscribe'](_0x540bb7){const _0x45d3fe=_0x1833fc;return this[_0x45d3fe(0x970)][_0x45d3fe(0x456)](_0x540bb7);}}class _0x3162d8{[_0x1833fc(0x81d)];[_0x1833fc(0x124)]=[];[_0x1833fc(0x274)];[_0x1833fc(0x25f)]=new Map();[_0x1833fc(0x2b6)]=_0x4febb4();constructor(_0x216d7d){const _0x12bfd8=_0x1833fc;this['options']=_0x216d7d,this[_0x12bfd8(0x274)]=(this[_0x12bfd8(0x81d)][_0x12bfd8(0x130)]-0x2*this[_0x12bfd8(0x81d)][_0x12bfd8(0x571)])/0x2,this['ranges'][_0x12bfd8(0x5ed)]({'start':0x1,'end':this[_0x12bfd8(0x21f)](0x1,0x1)-0x1});for(let _0x30002f=0x0;_0x30002f<this[_0x12bfd8(0x274)];++_0x30002f)this[_0x12bfd8(0x124)]['push']({'start':this['getNextTargetRank'](0x1,_0x30002f+0x1),'end':this['getNextTargetRank'](0x1,_0x30002f+0x2)-0x1});}[_0x1833fc(0x21f)](_0x3abb3c,_0x11102f=0x1){const _0x3a3a5b=_0x1833fc;let _0x3382d9=this['options'][_0x3a3a5b(0x96d)]-this['options'][_0x3a3a5b(0x571)],_0x2be8ba=0x1;for(let _0x3b5f6a=0x1;_0x3b5f6a<_0x11102f;++_0x3b5f6a)_0x3382d9*=this['options'][_0x3a3a5b(0x96d)]-this[_0x3a3a5b(0x81d)][_0x3a3a5b(0x571)]-_0x3b5f6a,_0x2be8ba*=this[_0x3a3a5b(0x81d)][_0x3a3a5b(0x96d)]-this['options'][_0x3a3a5b(0x571)]-_0x3b5f6a+0x1;return _0x3382d9*this[_0x3a3a5b(0x81d)]['minConnections']+_0x3abb3c-_0x2be8ba;}[_0x1833fc(0x3f3)](_0x3687b5){const _0x4a15ba=_0x1833fc;let _0x41736d=0x0;for(;this['ranges'][_0x41736d][_0x4a15ba(0x4f9)]<_0x3687b5;)_0x41736d+=0x1;return _0x41736d;}['getMinConnections'](){const _0x553d6f=_0x1833fc;return this[_0x553d6f(0x81d)][_0x553d6f(0x571)];}['getMaxConnections'](){const _0x209d29=_0x1833fc;return this['options'][_0x209d29(0x130)];}['getMaxDistance'](){const _0x1bd9db=_0x1833fc;return this[_0x1bd9db(0x81d)][_0x1bd9db(0x96d)];}[_0x1833fc(0x200)](){return this['remoteNodes'];}['setRemoteNode'](_0xbc16a1,_0x1b322e){const _0x30a5ea=_0x1833fc;this['remoteNodes'][_0x30a5ea(0x174)](_0xbc16a1,_0x1b322e),this['nodeUpdate'][_0x30a5ea(0x9e5)]();}['deleteRemoteNode'](_0x4486c7){const _0x28b70a=_0x1833fc;this[_0x28b70a(0x25f)][_0x28b70a(0x8be)](_0x4486c7),this['nodeUpdate'][_0x28b70a(0x9e5)]();}[_0x1833fc(0x3c3)](_0x33a01b){const _0x2b83c6=_0x1833fc;return this[_0x2b83c6(0x25f)][_0x2b83c6(0x977)](_0x33a01b);}[_0x1833fc(0x705)](_0x10da41){const _0x4213d5=_0x1833fc;return this[_0x4213d5(0x25f)]['get'](_0x10da41);}[_0x1833fc(0x2f4)](_0x51ff55,_0x1a7214){const _0xcda5b0=_0x1833fc,_0xfe8ab3=this[_0xcda5b0(0x705)](_0x1a7214)?.[_0xcda5b0(0x92b)]()??0x0;return _0x51ff55[_0xcda5b0(0x84d)](_0x46135c=>this[_0xcda5b0(0x705)](_0x46135c))['filter'](_0x4400e8=>void 0x0!==_0x4400e8)[_0xcda5b0(0x1e5)]((_0x2baf27,_0x27e04a)=>Math[_0xcda5b0(0x38e)](_0xfe8ab3-(_0x2baf27&&_0x2baf27[_0xcda5b0(0x92b)]()||0x1/0x0))-Math[_0xcda5b0(0x38e)](_0xfe8ab3-(_0x27e04a&&_0x27e04a[_0xcda5b0(0x92b)]()||0x1/0x0)))['map'](_0x47c98c=>_0x47c98c['getId']());}[_0x1833fc(0x5a0)](_0x12318e){const _0x4436cc=_0x1833fc;return this[_0x4436cc(0x2b6)][_0x4436cc(0x456)](_0x12318e);}}class _0x3dc1e5{[_0x1833fc(0x889)];[_0x1833fc(0x81a)];['authNode'];[_0x1833fc(0x215)];[_0x1833fc(0x81d)];[_0x1833fc(0x317)];[_0x1833fc(0x247)];[_0x1833fc(0x4f7)];[_0x1833fc(0x680)];[_0x1833fc(0xde)];[_0x1833fc(0x303)];['detectionManager'];[_0x1833fc(0x3db)];['nodeManager'];['graphService'];[_0x1833fc(0x3a7)]=new _0x44685c();[_0x1833fc(0x32f)];[_0x1833fc(0x86c)];constructor(_0x291a28,_0x40175f,_0x2f62c2,_0x3f32fb,_0x2763ed,_0x218c7e,_0x40ec81){const _0x5c009d=_0x1833fc;switch(this['vendorId']=_0x291a28,this[_0x5c009d(0x81a)]=_0x40175f,this[_0x5c009d(0x85d)]=_0x2f62c2,this[_0x5c009d(0x215)]=_0x3f32fb,this[_0x5c009d(0x81d)]=_0x2763ed,this[_0x5c009d(0x317)]=_0x218c7e,this[_0x5c009d(0x247)]=_0x40ec81,_0x2f62c2[_0x5c009d(0x339)]){case _0x4f9f07[_0x5c009d(0x21a)][_0x5c009d(0x38b)]:this['localNode']=new _0x519041(_0x2f62c2[_0x5c009d(0x76b)](),_0x2f62c2['getDisplayName'](),_0x2f62c2['getEmail']());break;case _0x4f9f07[_0x5c009d(0x21a)][_0x5c009d(0x4a0)]:default:this[_0x5c009d(0x86c)]=new _0x287869(_0x2f62c2[_0x5c009d(0x76b)]());}const _0x178a8b=this[_0x5c009d(0x2fd)]();this[_0x5c009d(0x98b)]=new _0x3162d8(this['options']),this['contentManager']=new _0x472b9b(_0x178a8b,this['options'],this['configs'][_0x5c009d(0x7f6)]),this[_0x5c009d(0x680)]=new _0x33bfdc(_0x178a8b,this[_0x5c009d(0x215)],this[_0x5c009d(0x98b)],this[_0x5c009d(0x317)][_0x5c009d(0x4fd)],this[_0x5c009d(0x81d)]),this[_0x5c009d(0xde)]=new _0xcfc180(_0x178a8b,this[_0x5c009d(0x81d)][_0x5c009d(0x36f)],this[_0x5c009d(0x98b)][_0x5c009d(0x610)]()),this[_0x5c009d(0x303)]=new _0x5e5ce5(_0x178a8b),this['detectionManager']=new _0x2b235e(_0x178a8b),this['remediationManager']=new _0x3c2d0b(_0x178a8b),this['nodeManager']=new _0x3c79a3(_0x178a8b,this[_0x5c009d(0x98b)]),this[_0x5c009d(0x32f)]=this[_0x5c009d(0x40f)]();}['open'](){const _0x242986=_0x1833fc,_0x214d5b=this[_0x242986(0x2fd)]();this[_0x242986(0x680)]=new _0x33bfdc(_0x214d5b,this['authService'],this[_0x242986(0x98b)],this[_0x242986(0x317)]['iceServers'],this[_0x242986(0x81d)]),this['subscriptionManager']=new _0xcfc180(_0x214d5b,this[_0x242986(0x81d)][_0x242986(0x36f)],this[_0x242986(0x98b)][_0x242986(0x610)]()),this[_0x242986(0x303)]=new _0x5e5ce5(_0x214d5b),this[_0x242986(0x69c)]=new _0x2b235e(_0x214d5b),this[_0x242986(0x3db)]=new _0x3c2d0b(_0x214d5b),this[_0x242986(0x331)]=new _0x3c79a3(_0x214d5b,this['graphService']);const _0x2413f9=this[_0x242986(0x680)][_0x242986(0x226)]();this[_0x242986(0x4f7)]['getPubSubTopics']()['forEach'](_0x325e2b=>{const _0xd817dd=_0x242986;this[_0xd817dd(0xde)]['createOutgoingSubscription'](_0x325e2b,_0x2413f9),this[_0xd817dd(0xde)][_0xd817dd(0x185)](_0x2413f9,_0x325e2b),_0x325e2b[_0xd817dd(0x780)]();}),this[_0x242986(0x4f7)][_0x242986(0x59d)]()[_0x242986(0x919)](_0x10882f=>{const _0x527e49=_0x242986;this[_0x527e49(0xde)]['createOutgoingSubscription'](_0x10882f,_0x2413f9),this[_0x527e49(0xde)]['createIncomingSubscription'](_0x2413f9,_0x10882f),_0x10882f[_0x527e49(0x780)](),_0x10882f['sync']();}),this[_0x242986(0x4f7)][_0x242986(0x72a)]()['forEach'](_0x7f69bf=>{const _0x545b13=_0x242986;this['subscriptionManager'][_0x545b13(0x7b3)](_0x7f69bf,_0x2413f9),this[_0x545b13(0xde)]['createIncomingSubscription'](_0x2413f9,_0x7f69bf),_0x7f69bf[_0x545b13(0x780)](),this[_0x545b13(0x875)](_0x7f69bf);}),this[_0x242986(0x4f7)]['getJobDispatchers']()['forEach'](_0x31ff80=>{const _0x37bf30=_0x242986;this[_0x37bf30(0xde)][_0x37bf30(0x7b3)](_0x31ff80,_0x2413f9),this[_0x37bf30(0xde)][_0x37bf30(0x185)](_0x2413f9,_0x31ff80),_0x31ff80[_0x37bf30(0x780)]();}),this[_0x242986(0x4f7)][_0x242986(0xd7)]()[_0x242986(0x919)](_0xe60d1f=>{const _0x2d29e8=_0x242986;this[_0x2d29e8(0xde)][_0x2d29e8(0x7b3)](_0xe60d1f,_0x2413f9),this[_0x2d29e8(0xde)]['createIncomingSubscription'](_0x2413f9,_0xe60d1f),_0xe60d1f[_0x2d29e8(0x780)]();}),this[_0x242986(0x4f7)][_0x242986(0x635)]()[_0x242986(0x919)](_0x2cfd88=>{const _0x1e80d7=_0x242986;this['subscriptionManager']['createOutgoingSubscription'](_0x2cfd88,_0x2413f9),this['subscriptionManager'][_0x1e80d7(0x185)](_0x2413f9,_0x2cfd88),_0x2cfd88[_0x1e80d7(0x780)]();}),this[_0x242986(0x4f7)][_0x242986(0x291)]()['forEach'](_0x185c8b=>{const _0x1338b8=_0x242986;this['subscriptionManager'][_0x1338b8(0x7b3)](_0x185c8b,_0x2413f9),this[_0x1338b8(0xde)]['createIncomingSubscription'](_0x2413f9,_0x185c8b),_0x185c8b[_0x1338b8(0x780)]();}),this[_0x242986(0x32f)]=this[_0x242986(0x40f)]();}[_0x1833fc(0x212)](_0x41a2d2){const _0x4eb52a=_0x1833fc;try{this[_0x4eb52a(0x3a7)][_0x4eb52a(0x3eb)](_0x41a2d2);}catch(_0x3008e1){this[_0x4eb52a(0x330)](_0x3008e1,{});}}[_0x1833fc(0x22f)](_0x1be861){const _0x33586=_0x1833fc;try{this['systemTopic'][_0x33586(0x5a5)](_0x1be861);}catch(_0x377af6){this[_0x33586(0x330)](_0x377af6,{});}}[_0x1833fc(0x8f7)](_0x1313cf,_0x5542cd){const _0x6fc441=_0x1833fc;return this[_0x6fc441(0x680)]['createConnection'](_0x1313cf,_0x5542cd);}[_0x1833fc(0x71d)](_0x4edd98){const _0x493114=_0x1833fc;try{return this[_0x493114(0x680)]['getConnection'](_0x4edd98);}catch(_0x363e3a){throw this[_0x493114(0x330)](_0x363e3a,{});}}['getConnections'](_0x5a30d1){const _0x2ccd82=_0x1833fc;try{return this[_0x2ccd82(0x680)][_0x2ccd82(0x68a)](_0x5a30d1);}catch(_0x168518){throw this[_0x2ccd82(0x330)](_0x168518,{});}}['getRemoteMediaStream'](_0x3baa03,_0x36c463){const _0x3a2f85=_0x1833fc;try{return this['contentManager'][_0x3a2f85(0x62d)](_0x5164ae=>_0x5164ae[_0x3a2f85(0x764)]()===_0x3baa03&&_0x5164ae[_0x3a2f85(0x92c)]()===_0x36c463)[0x0];}catch(_0x4d3f70){throw this[_0x3a2f85(0x330)](_0x4d3f70,{});}}['getLocalMediaStream'](_0x29ce5b){const _0x266f68=_0x1833fc;try{return this['contentManager']['getLocalMediaStreams'](_0x5865ef=>_0x5865ef[_0x266f68(0x92c)]()===_0x29ce5b)[0x0];}catch(_0x3a6be9){throw this[_0x266f68(0x330)](_0x3a6be9,{});}}[_0x1833fc(0x2d5)]=(..._0x5ee2ec)=>{const _0x34cf11=_0x1833fc;try{return this['clusterEventEmitter'][_0x34cf11(0x67c)](..._0x5ee2ec);}catch(_0x47e42f){throw this[_0x34cf11(0x330)](_0x47e42f,{});}};[_0x1833fc(0x147)](_0x5cd13d){const _0x1985c5=_0x1833fc;try{this[_0x1985c5(0x303)][_0x1985c5(0x618)](_0x5cd13d);}catch(_0x2aeeff){throw this['handleError'](_0x2aeeff,{});}}['unregisterRemoteNode'](_0x1d93b9){const _0x14b6a2=_0x1833fc;try{this[_0x14b6a2(0x303)][_0x14b6a2(0x4e2)](_0x1d93b9);}catch(_0x4da2b1){throw this[_0x14b6a2(0x330)](_0x4da2b1,{});}}['collectStats'](_0x5f5d0c){const _0x25b5ba=_0x1833fc;return this[_0x25b5ba(0x680)][_0x25b5ba(0x2ce)](_0x5f5d0c);}async[_0x1833fc(0x47c)](){const _0xf17bf4=_0x1833fc;try{await this[_0xf17bf4(0x680)][_0xf17bf4(0x47c)]();const _0x2d5386=await this[_0xf17bf4(0x331)][_0xf17bf4(0x643)]();for(const _0x1ee95b of _0x2d5386)this['connectionManager'][_0xf17bf4(0x8f7)](_0x1ee95b);}catch(_0x538d6f){throw this[_0xf17bf4(0x330)](_0x538d6f,{});}}[_0x1833fc(0x125)](_0xbad2b){const _0x22d1ca=_0x1833fc;this[_0x22d1ca(0x86c)]['type']===_0x4f9f07[_0x22d1ca(0x21a)][_0x22d1ca(0x38b)]&&(this[_0x22d1ca(0x86c)]['setEmail'](_0xbad2b[_0x22d1ca(0x984)]()),this[_0x22d1ca(0x86c)][_0x22d1ca(0xfa)](_0xbad2b['getDisplayName']()));}[_0x1833fc(0x244)]({force:_0xaee96a=!0x1},_0xf8e84f=!0x1){const _0x524d2b=_0x1833fc;if(_0x380207[_0x524d2b(0x6d6)](_0x524d2b(0x4f3),{'clusterId':this[_0x524d2b(0x81a)],'nodeId':this[_0x524d2b(0x86c)][_0x524d2b(0x76b)](),'nodeType':this['localNode'][_0x524d2b(0x339)]}),!_0xaee96a&&this['connectionManager'][_0x524d2b(0x592)]())throw new _0x3b1f45(_0x5bdcd2[_0x524d2b(0x353)],_0x524d2b(0x675));_0x380207[_0x524d2b(0x6b9)](),this[_0x524d2b(0x32f)](),this['remediationManager'][_0x524d2b(0x244)](),this['detectionManager']['close'](),this['statsManager'][_0x524d2b(0x244)](),this[_0x524d2b(0xde)]['close'](),this[_0x524d2b(0x680)][_0x524d2b(0x244)](),this['contentManager'][_0x524d2b(0x244)](_0xf8e84f),this[_0x524d2b(0x331)]['close']();}[_0x1833fc(0x33c)](_0x417a46){const _0x7a4689=_0x1833fc;try{const _0x595464=this[_0x7a4689(0x4f7)][_0x7a4689(0x316)](_0x417a46),_0x168726=this['connectionManager'][_0x7a4689(0x226)]();return this[_0x7a4689(0xde)][_0x7a4689(0x7b3)](_0x595464,_0x168726),this[_0x7a4689(0xde)]['createIncomingSubscription'](_0x168726,_0x595464),_0x595464;}catch(_0x1e1c09){throw this[_0x7a4689(0x330)](_0x1e1c09,{});}}async[_0x1833fc(0x839)](_0x1dfea3,_0x5f5aee){const _0x360988=_0x1833fc;try{const _0x3094c1=this[_0x360988(0x4f7)][_0x360988(0x825)](_0x1dfea3,this[_0x360988(0x81d)][_0x360988(0x1ea)],_0x5f5aee),_0x274ad8=this[_0x360988(0x680)][_0x360988(0x226)]();return this[_0x360988(0xde)][_0x360988(0x7b3)](_0x3094c1,_0x274ad8),this['subscriptionManager'][_0x360988(0x185)](_0x274ad8,_0x3094c1),await _0x3094c1[_0x360988(0x903)](),_0x3094c1;}catch(_0x4e72e2){throw this[_0x360988(0x330)](_0x4e72e2,{});}}async[_0x1833fc(0x52f)](_0x2064c4,_0x2053a1){const _0x4186a7=_0x1833fc;try{if(!this['options'][_0x4186a7(0x665)])throw new _0x3b1f45(_0x5bdcd2[_0x4186a7(0x3bb)],'Missing\x20external\x20storage\x20connector');if(!(this['authNode']instanceof _0x31ce21))throw new _0x3b1f45(_0x5bdcd2[_0x4186a7(0x5d2)],_0x4186a7(0x89c));const _0x17effb=this[_0x4186a7(0x81d)][_0x4186a7(0x665)][_0x4186a7(0x264)](_0x2053a1);if(!_0x17effb)throw new _0x3b1f45(_0x5bdcd2[_0x4186a7(0x3bb)],'Missing\x20external\x20storage\x20connector');const _0x210e33=this[_0x4186a7(0x4f7)][_0x4186a7(0x7b5)](_0x2064c4,_0x17effb),_0xa9c25a=this['connectionManager'][_0x4186a7(0x226)]();return this[_0x4186a7(0xde)][_0x4186a7(0x7b3)](_0x210e33,_0xa9c25a),this[_0x4186a7(0xde)][_0x4186a7(0x185)](_0xa9c25a,_0x210e33),await _0x210e33[_0x4186a7(0x4d0)](),_0x210e33;}catch(_0x2742cd){throw this[_0x4186a7(0x330)](_0x2742cd,{});}}async[_0x1833fc(0x64b)](_0x57906f,_0x445e90,_0x5edde1){const _0x20c07a=_0x1833fc;try{_0x5edde1=_0x5edde1||this[_0x20c07a(0x81d)][_0x20c07a(0x887)];const _0x47e73b=await this['contentManager'][_0x20c07a(0x455)](_0x57906f,_0x445e90,_0x5edde1),_0x222c4b=this[_0x20c07a(0x680)][_0x20c07a(0x226)]();return this[_0x20c07a(0xde)][_0x20c07a(0x7b3)](_0x47e73b,_0x222c4b),this['subscriptionManager'][_0x20c07a(0x185)](_0x222c4b,_0x47e73b),await _0x47e73b['open'](),this[_0x20c07a(0x875)](_0x47e73b),_0x47e73b;}catch(_0x288ca8){throw this[_0x20c07a(0x330)](_0x288ca8,{});}}async[_0x1833fc(0x584)](_0x268890){const _0x4b346c=_0x1833fc;try{const _0x1b1a38=await this[_0x4b346c(0x4f7)]['createJobDispatcher'](_0x268890,this['graphService']),_0x633034=this['connectionManager'][_0x4b346c(0x226)]();return this[_0x4b346c(0xde)][_0x4b346c(0x7b3)](_0x1b1a38,_0x633034),this[_0x4b346c(0xde)]['createIncomingSubscription'](_0x633034,_0x1b1a38),_0x1b1a38[_0x4b346c(0x4d0)](),_0x1b1a38;}catch(_0x5b2cd4){throw this['handleError'](_0x5b2cd4,{});}}async[_0x1833fc(0x60b)](_0x18b320){const _0xf9db27=_0x1833fc;throw new Error(_0xf9db27(0x44f));}async[_0x1833fc(0x8d3)](_0x2136a2){const _0x449b45=_0x1833fc;try{const _0xc83b55=await this[_0x449b45(0x4f7)]['createGenerativeAIContext'](_0x2136a2,this[_0x449b45(0x98b)]),_0x285b5d=this[_0x449b45(0x680)]['getConnectionGroup']();return this[_0x449b45(0xde)][_0x449b45(0x7b3)](_0xc83b55,_0x285b5d),this[_0x449b45(0xde)]['createIncomingSubscription'](_0x285b5d,_0xc83b55),_0xc83b55[_0x449b45(0x4d0)](),_0xc83b55;}catch(_0x1ae79a){throw console[_0x449b45(0x657)](_0x1ae79a),this[_0x449b45(0x330)](_0x1ae79a,{});}}async['openGenerativeAIWorker'](_0x265930){const _0x586e12=_0x1833fc;try{if(!this[_0x586e12(0x81d)][_0x586e12(0x936)]||!this['options'][_0x586e12(0x64e)]||!this['options'][_0x586e12(0x678)])throw new _0x3b1f45(_0x5bdcd2[_0x586e12(0x359)],_0x586e12(0x819));if(!(this[_0x586e12(0x85d)]instanceof _0x31ce21))throw new _0x3b1f45(_0x5bdcd2[_0x586e12(0x5d2)],_0x586e12(0x89c));const _0xbafdd6=[];for(const _0x10d1c2 of this[_0x586e12(0x81d)][_0x586e12(0x936)])_0xbafdd6[_0x586e12(0x5ed)](new _0x10d1c2());const _0x328383=new this['options'][(_0x586e12(0x64e))](),_0xa6005b=new this[(_0x586e12(0x81d))]['nlpLibraryConnector']();let _0x4c2f47;this[_0x586e12(0x81d)][_0x586e12(0x598)]&&(_0x4c2f47=new this[(_0x586e12(0x81d))][(_0x586e12(0x598))]());const _0x552a1e=await this['contentManager'][_0x586e12(0x424)](_0x265930,this[_0x586e12(0x85d)],_0xbafdd6,_0x328383,_0xa6005b,_0x4c2f47),_0x36a825=this[_0x586e12(0x680)]['getConnectionGroup']();this['subscriptionManager'][_0x586e12(0x7b3)](_0x552a1e,_0x36a825),this['subscriptionManager'][_0x586e12(0x185)](_0x36a825,_0x552a1e);const _0x117136=this[_0x586e12(0x331)][_0x586e12(0x662)]();return await _0x552a1e[_0x586e12(0x4d0)](0x0===_0x117136[_0x586e12(0x5af)]||void 0x0),_0x552a1e;}catch(_0x3db462){throw this['handleError'](_0x3db462,{});}}[_0x1833fc(0x352)](_0x3bfd9d){const _0x273437=_0x1833fc;try{if(!this[_0x273437(0x81d)][_0x273437(0x3e6)])throw new _0x3b1f45(_0x5bdcd2[_0x273437(0x7ec)],_0x273437(0x355));if(!(this[_0x273437(0x85d)]instanceof _0x31ce21))throw new _0x3b1f45(_0x5bdcd2[_0x273437(0x5d2)],'Node\x20is\x20not\x20an\x20agent');const _0x3b5f9a=this[_0x273437(0x4f7)][_0x273437(0x328)](_0x3bfd9d,this[_0x273437(0x81d)][_0x273437(0x3e6)]),_0x2a96ac=this[_0x273437(0x680)][_0x273437(0x226)]();return this[_0x273437(0xde)][_0x273437(0x7b3)](_0x3b5f9a,_0x2a96ac),this[_0x273437(0xde)][_0x273437(0x185)](_0x2a96ac,_0x3b5f9a),_0x3b5f9a;}catch(_0x177951){throw this[_0x273437(0x330)](_0x177951,{});}}[_0x1833fc(0x199)](_0x5c2640){const _0x14a8d5=_0x1833fc;try{if(!this[_0x14a8d5(0x81d)]['vectorDatabaseConnector'])throw new _0x3b1f45(_0x5bdcd2[_0x14a8d5(0x580)],'Missing\x20vector\x20database\x20connector');if(!(this['authNode']instanceof _0x31ce21))throw new _0x3b1f45(_0x5bdcd2[_0x14a8d5(0x5d2)],'Node\x20is\x20not\x20an\x20agent');const _0xde64e1=this[_0x14a8d5(0x4f7)][_0x14a8d5(0x3da)](_0x5c2640,this[_0x14a8d5(0x81d)][_0x14a8d5(0x26a)]),_0xa6696f=this['connectionManager'][_0x14a8d5(0x226)]();return this[_0x14a8d5(0xde)][_0x14a8d5(0x7b3)](_0xde64e1,_0xa6696f),this['subscriptionManager']['createIncomingSubscription'](_0xa6696f,_0xde64e1),_0xde64e1;}catch(_0x42db0b){throw this[_0x14a8d5(0x330)](_0x42db0b,{});}}[_0x1833fc(0x8c5)](_0x209257){const _0x22f55d=_0x1833fc;try{return this[_0x22f55d(0x4f7)][_0x22f55d(0x8c5)](_0x209257);}catch(_0x5c2681){throw this[_0x22f55d(0x330)](_0x5c2681,{});}}['getObjectStoreBuckets'](_0x514727){const _0x5acbeb=_0x1833fc;try{return this['contentManager'][_0x5acbeb(0x59d)](_0x514727);}catch(_0x396528){throw this[_0x5acbeb(0x330)](_0x396528,{});}}['getExternalStorageConnections'](_0x43cd4a){const _0x1fd911=_0x1833fc;try{return this[_0x1fd911(0x4f7)][_0x1fd911(0x8fc)](_0x43cd4a);}catch(_0x44d72c){throw this[_0x1fd911(0x330)](_0x44d72c,{});}}[_0x1833fc(0x72a)](_0x5f4986){const _0x2fee08=_0x1833fc;try{return this[_0x2fee08(0x4f7)][_0x2fee08(0x72a)](_0x5f4986);}catch(_0x5ac3aa){throw this[_0x2fee08(0x330)](_0x5ac3aa,{});}}[_0x1833fc(0x1c1)](_0x30fc56){const _0x4da132=_0x1833fc;try{return this[_0x4da132(0x4f7)][_0x4da132(0x1c1)](_0x30fc56);}catch(_0xebac8){throw this[_0x4da132(0x330)](_0xebac8,{});}}[_0x1833fc(0x5aa)](_0x52b1e0){const _0x200e25=_0x1833fc;try{return this[_0x200e25(0x4f7)]['getGenerativeAIWorkers'](_0x52b1e0);}catch(_0x237cc1){throw this[_0x200e25(0x330)](_0x237cc1,{});}}[_0x1833fc(0x291)](_0x466600){const _0x5bdf05=_0x1833fc;try{return this['contentManager'][_0x5bdf05(0x291)](_0x466600);}catch(_0x4e1ed9){throw this[_0x5bdf05(0x330)](_0x4e1ed9,{});}}[_0x1833fc(0x2d8)](_0x4a3983,_0x11353f){const _0x3525c5=_0x1833fc;if(!this[_0x3525c5(0x317)][_0x3525c5(0x1a1)][_0x3525c5(0x778)](_0x1cb349['MediaStream']))throw new _0x3b1f45(_0x5bdcd2['FeatureNotEnabled'],_0x3525c5(0x31d));try{return this[_0x3525c5(0x4f7)][_0x3525c5(0x2d8)](_0x4a3983,_0x11353f);}catch(_0x249093){throw this[_0x3525c5(0x330)](_0x249093,{});}}[_0x1833fc(0x24b)](_0xa06ef7,_0x4ad45a){const _0x64ab2a=_0x1833fc;if(!this[_0x64ab2a(0x317)][_0x64ab2a(0x1a1)][_0x64ab2a(0x778)](_0x1cb349['MediaStream']))throw new _0x3b1f45(_0x5bdcd2[_0x64ab2a(0x725)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x64ab2a(0x4f7)][_0x64ab2a(0x24b)](_0xa06ef7,_0x4ad45a);}catch(_0x15d54e){throw this[_0x64ab2a(0x330)](_0x15d54e,{});}}['getLocalMediaStreams'](_0x43a9fc){const _0x4982e4=_0x1833fc;if(!this['configs'][_0x4982e4(0x1a1)][_0x4982e4(0x778)](_0x1cb349[_0x4982e4(0x2e8)]))throw new _0x3b1f45(_0x5bdcd2['FeatureNotEnabled'],_0x4982e4(0x31d));try{return this[_0x4982e4(0x4f7)]['getLocalMediaStreams'](_0x43a9fc);}catch(_0x345c85){throw this[_0x4982e4(0x330)](_0x345c85,{});}}[_0x1833fc(0x62d)](_0xa07435){const _0x329ecb=_0x1833fc;if(!this[_0x329ecb(0x317)]['features'][_0x329ecb(0x778)](_0x1cb349['MediaStream']))throw new _0x3b1f45(_0x5bdcd2[_0x329ecb(0x725)],_0x329ecb(0x31d));try{return this[_0x329ecb(0x4f7)][_0x329ecb(0x62d)](_0xa07435);}catch(_0x5f14b2){throw this[_0x329ecb(0x330)](_0x5f14b2,{});}}[_0x1833fc(0x635)](_0x745eed){const _0x1f7529=_0x1833fc;try{return this[_0x1f7529(0x4f7)][_0x1f7529(0x635)](_0x745eed);}catch(_0x42c0bf){throw this[_0x1f7529(0x330)](_0x42c0bf,{});}}['getDistance'](_0x3eb3c5,_0x394ff9){const _0x3f3ed3=_0x1833fc;return this[_0x3f3ed3(0x331)][_0x3f3ed3(0x243)](_0x3eb3c5,_0x394ff9);}[_0x1833fc(0x6f4)](){const _0x21843a=_0x1833fc;return this[_0x21843a(0x331)][_0x21843a(0x6f4)]();}['getRemoteNodes'](_0xdaa0d5){const _0x2b1a66=_0x1833fc;try{return this[_0x2b1a66(0x331)]['getRemoteNodes'](_0xdaa0d5);}catch(_0x131dfe){throw this[_0x2b1a66(0x330)](_0x131dfe,{});}}['waitForArrayBufferSize'](){const _0x4abe13=_0x1833fc;return this[_0x4abe13(0x680)]['waitForArrayBufferSize']();}['isNodeReady'](_0x1f42f7){const _0x466ba0=_0x1833fc;return this[_0x466ba0(0x331)][_0x466ba0(0x9b4)](_0x1f42f7);}async['handleSystemEvents'](_0x25870b){const _0x18b16b=_0x1833fc;try{if(_0x380207[_0x18b16b(0x41b)](_0x381da1[_0x18b16b(0x66c)],_0x18b16b(0x78e),this[_0x18b16b(0x331)][_0x18b16b(0x5c7)](),_0x25870b),_0x1d96ed(_0x25870b,this[_0x18b16b(0x331)]['getLocalId']()))return void this[_0x18b16b(0x680)][_0x18b16b(0x69f)](_0x25870b);switch(_0x25870b[_0x18b16b(0x625)]){case _0x35033d[_0x18b16b(0x7f4)]:this[_0x18b16b(0x303)][_0x18b16b(0x74e)](_0x25870b),this[_0x18b16b(0xde)][_0x18b16b(0x74e)](_0x25870b),this[_0x18b16b(0x4f7)][_0x18b16b(0x74e)](_0x25870b);break;case _0x35033d[_0x18b16b(0x18b)]:this[_0x18b16b(0xde)][_0x18b16b(0x221)](_0x25870b),this[_0x18b16b(0x680)]['handleNodeSystemEvents'](_0x25870b),this[_0x18b16b(0x4f7)]['handleNodeSystemEvents'](_0x25870b),this[_0x18b16b(0x331)][_0x18b16b(0x221)](_0x25870b);break;case _0x35033d[_0x18b16b(0x20d)]:this['remediationManager'][_0x18b16b(0x639)](_0x25870b);break;case _0x35033d[_0x18b16b(0x826)]:this[_0x18b16b(0x3db)]['handleRemediationSystemEvents'](_0x25870b);break;case _0x35033d[_0x18b16b(0x509)]:this[_0x18b16b(0x69c)][_0x18b16b(0x7a1)](_0x25870b);break;case _0x35033d[_0x18b16b(0x50a)]:_0x25870b['content'][_0x18b16b(0x339)]!==_0x1855f5[_0x18b16b(0x73f)]?(this[_0x18b16b(0xde)][_0x18b16b(0x701)](_0x25870b),this[_0x18b16b(0x4f7)][_0x18b16b(0x701)](_0x25870b)):(this[_0x18b16b(0x4f7)][_0x18b16b(0x701)](_0x25870b),this[_0x18b16b(0xde)][_0x18b16b(0x701)](_0x25870b));break;case _0x35033d[_0x18b16b(0x70d)]:await this[_0x18b16b(0x680)]['handlePeerConnectionSystemEvents'](_0x25870b),this[_0x18b16b(0x303)][_0x18b16b(0x942)](_0x25870b),this['nodeManager'][_0x18b16b(0x942)](_0x25870b),this[_0x18b16b(0xde)][_0x18b16b(0x942)](_0x25870b);}}catch(_0x550e66){throw _0x380207[_0x18b16b(0x526)](_0x18b16b(0x62b),_0x550e66),this['handleError'](_0x550e66,{});}}[_0x1833fc(0x330)](_0x4e9704,_0x5880b1){const _0x1ab8af=_0x1833fc;if(!(_0x4e9704 instanceof _0x5056a6)){if(_0x4e9704 instanceof _0x3b1f45)throw _0x4e9704;if(!(_0x4e9704 instanceof Error))throw new _0x3b1f45(_0x5bdcd2[_0x1ab8af(0x43f)],_0x1ab8af(0x2f2)+_0x4e9704);if(!(_0x4e9704 instanceof _0x4511be))throw new _0x3b1f45(_0x5bdcd2[_0x1ab8af(0x43f)],_0x1ab8af(0x81c)+_0x4e9704['message']);switch(_0x4e9704[_0x1ab8af(0x45d)]){case _0x4511be['codes']['MissingSystemTopic']:case _0x4511be[_0x1ab8af(0x2a2)]['MissingRemoteConnection']:case _0x4511be[_0x1ab8af(0x2a2)][_0x1ab8af(0x52a)]:case _0x4511be[_0x1ab8af(0x2a2)][_0x1ab8af(0x6f5)]:case _0x4511be[_0x1ab8af(0x2a2)][_0x1ab8af(0x829)]:case _0x4511be['codes'][_0x1ab8af(0x358)]:case _0x4511be[_0x1ab8af(0x2a2)][_0x1ab8af(0x7b1)]:case _0x4511be[_0x1ab8af(0x2a2)]['InvalidSubscriber']:case _0x4511be[_0x1ab8af(0x2a2)][_0x1ab8af(0x8e9)]:case _0x4511be[_0x1ab8af(0x2a2)][_0x1ab8af(0x3d3)]:case _0x4511be['codes'][_0x1ab8af(0x288)]:case _0x4511be[_0x1ab8af(0x2a2)]['InvalidSubscription']:}throw _0x380207[_0x1ab8af(0x657)](_0x1ab8af(0x9dd)+_0x4e9704[_0x1ab8af(0x96c)],{'clusterId':this['clusterId'],'nodeId':this[_0x1ab8af(0x86c)][_0x1ab8af(0x76b)](),'nodeType':this[_0x1ab8af(0x86c)]['type']},_0x4e9704),new _0x3b1f45(_0x5bdcd2[_0x1ab8af(0x43f)],'Internal\x20SDK\x20error:\x20'+_0x4e9704[_0x1ab8af(0x96c)]);}}[_0x1833fc(0x2fd)](){const _0x5ebbee=_0x1833fc;return{'mediator':this,'vendorId':this[_0x5ebbee(0x889)],'clusterId':this[_0x5ebbee(0x81a)],'localNode':this['localNode']};}[_0x1833fc(0x40f)](){const _0x23a3aa=_0x1833fc;return this[_0x23a3aa(0x3a7)][_0x23a3aa(0x456)](_0x55e6ef=>{const _0x1b8429=_0x23a3aa,_0x502ffa=_0x225d0e(_0x55e6ef,this['localNode']['getId']()),_0x1f1dbe=_0x55e6ef['messageType']===_0x35033d[_0x1b8429(0x509)]||_0x55e6ef['messageType']===_0x35033d['PeerConnection']&&_0x55e6ef[_0x1b8429(0x3ff)][_0x1b8429(0x339)]===_0x10e8a1[_0x1b8429(0x509)]?_0x381da1[_0x1b8429(0x70c)]:_0x381da1[_0x1b8429(0x79b)];_0x380207[_0x1b8429(0x8d9)](_0x1f1dbe,_0x55e6ef[_0x1b8429(0x4c0)]+_0x1b8429(0x7e2)+_0x502ffa,_0x55e6ef),this[_0x1b8429(0x62b)](_0x55e6ef)['catch'](_0x2671a0=>{console['error'](_0x2671a0);});});}async[_0x1833fc(0x875)](_0xcb0bdf){const _0x554c8b=_0x1833fc,{timingLogger:_0x47f3ea,logger:_0x28f34a,logBeforeSync:_0x54b020,logAfterSync:_0x16f13b}=function(_0x249fe9,_0x242e83){const _0x16f9a2=a0_0x17c7;if(!_0x380207[_0x16f9a2(0x3c6)](_0x242e83))return _0x380207['debug']('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x242e83),{..._0x3938f0(_0x249fe9,_0x242e83),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x189d58,logger:_0x4d5d04}=_0x3938f0(_0x249fe9,_0x242e83);let _0x22aa8d=0x0;return _0x22aa8d=Date['now'](),{'syncStartTime':_0x22aa8d,'timingLogger':_0x189d58,'logger':_0x4d5d04,'logBeforeSync':()=>(_0x2578da(_0x242e83,_0x16f9a2(0x182)),_0x189d58[_0x16f9a2(0x1d5)]()),'logAfterSync':(_0x5e6992,_0x33cfee)=>{const _0x198789=_0x16f9a2,_0x336356=Date['now']();_0x2578da(_0x242e83,_0x198789(0x963)+_0x33cfee);const _0x3cfbe2=(_0x336356-_0x22aa8d)/0x3e8,_0x4f0d3b=(_0x336356-_0x5e6992)/0x3e8;_0x380207['log'](_0x242e83,_0x198789(0x175),_0x249fe9,_0x198789(0x6d4)+_0x3cfbe2[_0x198789(0x6d1)](0x2)+_0x198789(0x674),_0x198789(0x1fc)+_0x4f0d3b[_0x198789(0x6d1)](0x3)+'\x20seconds','\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x336356-_0x22aa8d)/0x3e8-_0x4f0d3b)['toFixed'](0x2)+_0x198789(0x674));}};}(_0xcb0bdf['getLabel'](),_0x381da1[_0x554c8b(0x9d1)]);_0x28f34a[_0x554c8b(0x41b)](_0x554c8b(0x151));const _0x410066=this[_0x554c8b(0x331)][_0x554c8b(0x662)]()[_0x554c8b(0x5af)]>0x0;if(_0x410066){_0x28f34a[_0x554c8b(0x41b)](_0x554c8b(0x759),()=>this['nodeManager'][_0x554c8b(0x662)]()),_0x47f3ea[_0x554c8b(0xe0)](),await Promise[_0x554c8b(0x3f0)](this[_0x554c8b(0x331)][_0x554c8b(0x662)]()[_0x554c8b(0x84d)](async _0x5d814c=>await this['nodeManager']['isNodeReady'](_0x5d814c)))[_0x554c8b(0x6ab)](_0x56bb72=>_0x380207['warning'](_0x554c8b(0x742),{'nodeId':this[_0x554c8b(0x86c)][_0x554c8b(0x76b)](),'nodeType':this[_0x554c8b(0x86c)][_0x554c8b(0x339)]}));const _0x4f27dc=_0x28f34a['performCalculation'](()=>this[_0x554c8b(0x331)]['getAncestorIds'](),[]);_0x47f3ea[_0x554c8b(0x1e8)](_0x554c8b(0x6e6)+_0x4f27dc+_0x554c8b(0x83a));}_0x16f13b(_0x54b020(),await _0xcb0bdf[_0x554c8b(0x903)](_0x410066,async()=>{const _0x3d01f6=_0x554c8b;_0x47f3ea[_0x3d01f6(0xe0)](),await this[_0x3d01f6(0x331)][_0x3d01f6(0x6a5)](),_0x47f3ea[_0x3d01f6(0x1e8)](_0x3d01f6(0x1b7)),_0xcb0bdf[_0x3d01f6(0x903)](!0x0,()=>{const _0x55be9d=_0x3d01f6;_0x28f34a[_0x55be9d(0x41b)](_0x55be9d(0x120)),_0xcb0bdf['sync'](!0x1);},!0x0);}));}}class _0x55c341{[_0x1833fc(0x889)];[_0x1833fc(0x81a)];[_0x1833fc(0x85d)];[_0x1833fc(0x410)];[_0x1833fc(0x75c)];constructor(_0x57a20b,_0x543d2c,_0x528f96,_0x125db2,_0x18b5b4,_0x7f4639,_0x47493a=new _0x36ed6a()){const _0x3eb623=_0x1833fc;this[_0x3eb623(0x889)]=_0x57a20b,this['clusterId']=_0x543d2c,this[_0x3eb623(0x85d)]=_0x528f96,this[_0x3eb623(0x410)]=_0x47493a,this[_0x3eb623(0x75c)]=new _0x3dc1e5(this[_0x3eb623(0x889)],this[_0x3eb623(0x81a)],_0x528f96,_0x125db2,_0x18b5b4,_0x7f4639,this);}async['join'](){const _0x1b0d55=_0x1833fc;await this[_0x1b0d55(0x75c)]['initialize'](),this[_0x1b0d55(0x85d)][_0x1b0d55(0x339)]===_0x4f9f07[_0x1b0d55(0x21a)][_0x1b0d55(0x38b)]&&this[_0x1b0d55(0x85d)][_0x1b0d55(0x9bf)](this[_0x1b0d55(0x81a)],_0x25c6c6=>{const _0x4ab18=_0x1b0d55;this['orchestrator'][_0x4ab18(0x125)](_0x25c6c6);});}[_0x1833fc(0x9cb)](_0x1f0538={}){const _0x37571e=_0x1833fc;this[_0x37571e(0x75c)][_0x37571e(0x244)](_0x1f0538),this['authNode'][_0x37571e(0x339)]===_0x4f9f07['NodeType'][_0x37571e(0x38b)]&&this['authNode'][_0x37571e(0x63d)](this[_0x37571e(0x81a)]),this[_0x37571e(0x67c)](_0x37571e(0x997),void 0x0);}[_0x1833fc(0x33c)](_0x888fbc){const _0x1d904b=_0x1833fc,_0x3e0b88=this[_0x1d904b(0x75c)][_0x1d904b(0x33c)](_0x888fbc);return{'getName':_0x3e0b88[_0x1d904b(0x82b)][_0x1d904b(0x6e2)](_0x3e0b88),'getOwnerId':_0x3e0b88[_0x1d904b(0x764)]['bind'](_0x3e0b88),'getContentType':_0x3e0b88[_0x1d904b(0x4ba)]['bind'](_0x3e0b88),'publish':_0x3e0b88['publish'][_0x1d904b(0x6e2)](_0x3e0b88),'subscribe':_0x3e0b88[_0x1d904b(0x456)][_0x1d904b(0x6e2)](_0x3e0b88),'unsubscribe':_0x3e0b88['unsubscribe'][_0x1d904b(0x6e2)](_0x3e0b88),'close':_0x3e0b88['close'][_0x1d904b(0x6e2)](_0x3e0b88)};}async[_0x1833fc(0x839)](_0x184191,_0x5adef7){const _0x19bbfc=_0x1833fc,_0xc801e0=await this['orchestrator'][_0x19bbfc(0x839)](_0x184191,_0x5adef7);return{'getName':_0xc801e0[_0x19bbfc(0x82b)][_0x19bbfc(0x6e2)](_0xc801e0),'getOwnerId':_0xc801e0[_0x19bbfc(0x764)]['bind'](_0xc801e0),'getContentType':_0xc801e0[_0x19bbfc(0x4ba)][_0x19bbfc(0x6e2)](_0xc801e0),'publish':_0xc801e0[_0x19bbfc(0x9e5)]['bind'](_0xc801e0),'unpublish':_0xc801e0[_0x19bbfc(0x4be)][_0x19bbfc(0x6e2)](_0xc801e0),'get':_0xc801e0[_0x19bbfc(0x264)][_0x19bbfc(0x6e2)](_0xc801e0),'list':_0xc801e0[_0x19bbfc(0xf7)][_0x19bbfc(0x6e2)](_0xc801e0),'getSize':_0xc801e0['getSize'][_0x19bbfc(0x6e2)](_0xc801e0),'subscribe':_0xc801e0['subscribe'][_0x19bbfc(0x6e2)](_0xc801e0),'unsubscribe':_0xc801e0[_0x19bbfc(0x788)][_0x19bbfc(0x6e2)](_0xc801e0),'close':_0xc801e0[_0x19bbfc(0x244)][_0x19bbfc(0x6e2)](_0xc801e0)};}async[_0x1833fc(0x52f)](_0x258e01,_0x1b2a36){const _0x5040db=_0x1833fc,_0x583a8b=await this[_0x5040db(0x75c)][_0x5040db(0x52f)](_0x258e01,_0x1b2a36);return{'getName':_0x583a8b['getName'][_0x5040db(0x6e2)](_0x583a8b),'getOwnerId':_0x583a8b[_0x5040db(0x764)][_0x5040db(0x6e2)](_0x583a8b),'getContentType':_0x583a8b[_0x5040db(0x4ba)][_0x5040db(0x6e2)](_0x583a8b),'close':_0x583a8b[_0x5040db(0x244)][_0x5040db(0x6e2)](_0x583a8b),'get':_0x583a8b[_0x5040db(0x264)][_0x5040db(0x6e2)](_0x583a8b),'list':_0x583a8b['list'][_0x5040db(0x6e2)](_0x583a8b),'subscribe':_0x583a8b[_0x5040db(0x456)]['bind'](_0x583a8b),'unsubscribe':_0x583a8b[_0x5040db(0x788)][_0x5040db(0x6e2)](_0x583a8b)};}async['openKeyValueDatabase'](_0x4442b7,_0x45c48a,_0x55ee70){const _0x857cc9=_0x1833fc,_0x5e1c6a=await this[_0x857cc9(0x75c)][_0x857cc9(0x64b)](_0x4442b7,_0x45c48a,_0x55ee70);return{'getName':_0x5e1c6a['getName'][_0x857cc9(0x6e2)](_0x5e1c6a),'getOwnerId':_0x5e1c6a[_0x857cc9(0x764)]['bind'](_0x5e1c6a),'getContentType':_0x5e1c6a[_0x857cc9(0x4ba)][_0x857cc9(0x6e2)](_0x5e1c6a),'getTable':_0x5e1c6a[_0x857cc9(0x3b9)]['bind'](_0x5e1c6a),'subscribe':_0x5e1c6a['subscribe']['bind'](_0x5e1c6a),'unsubscribe':_0x5e1c6a[_0x857cc9(0x788)][_0x857cc9(0x6e2)](_0x5e1c6a),'close':_0x5e1c6a[_0x857cc9(0x244)]['bind'](_0x5e1c6a)};}async[_0x1833fc(0x584)](_0x121fb4){const _0x2e268c=_0x1833fc,_0x2ad3d9=await this[_0x2e268c(0x75c)][_0x2e268c(0x584)](_0x121fb4);return{'getName':_0x2ad3d9[_0x2e268c(0x82b)]['bind'](_0x2ad3d9),'getOwnerId':_0x2ad3d9[_0x2e268c(0x764)][_0x2e268c(0x6e2)](_0x2ad3d9),'getContentType':_0x2ad3d9[_0x2e268c(0x4ba)][_0x2e268c(0x6e2)](_0x2ad3d9),'createJob':_0x2ad3d9['createJob'][_0x2e268c(0x6e2)](_0x2ad3d9),'getJob':_0x2ad3d9[_0x2e268c(0x411)][_0x2e268c(0x6e2)](_0x2ad3d9),'getJobs':_0x2ad3d9['getJobs'][_0x2e268c(0x6e2)](_0x2ad3d9),'close':_0x2ad3d9['close'][_0x2e268c(0x6e2)](_0x2ad3d9)};}async[_0x1833fc(0x60b)](_0x536224){const _0x166731=_0x1833fc,_0x594181=await this['orchestrator'][_0x166731(0x60b)](_0x536224);return{'close':_0x594181['close'][_0x166731(0x6e2)](_0x594181)};}async[_0x1833fc(0x8d3)](_0x56f37c){const _0x527c67=_0x1833fc,_0x4785f6=await this[_0x527c67(0x75c)][_0x527c67(0x8d3)](_0x56f37c);return{'createAIJob':_0x4785f6[_0x527c67(0x811)][_0x527c67(0x6e2)](_0x4785f6),'ratePrompt':_0x4785f6[_0x527c67(0x2ad)][_0x527c67(0x6e2)](_0x4785f6),'downloadDocument':_0x4785f6['downloadDocument'][_0x527c67(0x6e2)](_0x4785f6),'getDataBucketIds':_0x4785f6[_0x527c67(0x4d3)][_0x527c67(0x6e2)](_0x4785f6),'close':_0x4785f6['close'][_0x527c67(0x6e2)](_0x4785f6)};}async['openGenerativeAIWorker'](_0x2d02f4){const _0x1a24e1=_0x1833fc,_0x546421=await this[_0x1a24e1(0x75c)]['openGenerativeAIWorker'](_0x2d02f4);return{'close':_0x546421[_0x1a24e1(0x244)][_0x1a24e1(0x6e2)](_0x546421)};}['openGraphDatabase'](_0x170aad){const _0x331046=_0x1833fc,_0x3da0a1=this[_0x331046(0x75c)][_0x331046(0x352)](_0x170aad);return{'getName':_0x3da0a1['getName']['bind'](_0x3da0a1),'getOwnerId':_0x3da0a1[_0x331046(0x764)][_0x331046(0x6e2)](_0x3da0a1),'getContentType':_0x3da0a1[_0x331046(0x4ba)][_0x331046(0x6e2)](_0x3da0a1),'addNode':_0x3da0a1['addNode'][_0x331046(0x6e2)](_0x3da0a1),'addEdge':_0x3da0a1[_0x331046(0x2c4)][_0x331046(0x6e2)](_0x3da0a1),'getContent':_0x3da0a1['getContent'][_0x331046(0x6e2)](_0x3da0a1),'remove':_0x3da0a1['remove'][_0x331046(0x6e2)](_0x3da0a1),'saveToDisk':_0x3da0a1[_0x331046(0x7e3)]['bind'](_0x3da0a1),'loadFromDisk':_0x3da0a1[_0x331046(0x43e)][_0x331046(0x6e2)](_0x3da0a1),'close':_0x3da0a1[_0x331046(0x244)][_0x331046(0x6e2)](_0x3da0a1)};}[_0x1833fc(0x199)](_0xa6a99a){const _0xd32fe0=_0x1833fc,_0x53fd58=this[_0xd32fe0(0x75c)][_0xd32fe0(0x199)](_0xa6a99a);return{'getName':_0x53fd58[_0xd32fe0(0x82b)]['bind'](_0x53fd58),'getOwnerId':_0x53fd58[_0xd32fe0(0x764)]['bind'](_0x53fd58),'getContentType':_0x53fd58['getContentType'][_0xd32fe0(0x6e2)](_0x53fd58),'search':_0x53fd58[_0xd32fe0(0x1da)][_0xd32fe0(0x6e2)](_0x53fd58),'insert':_0x53fd58[_0xd32fe0(0x44a)][_0xd32fe0(0x6e2)](_0x53fd58),'remove':_0x53fd58['remove'][_0xd32fe0(0x6e2)](_0x53fd58),'saveToDisk':_0x53fd58['saveToDisk'][_0xd32fe0(0x6e2)](_0x53fd58),'loadFromDisk':_0x53fd58[_0xd32fe0(0x43e)][_0xd32fe0(0x6e2)](_0x53fd58),'close':_0x53fd58['close'][_0xd32fe0(0x6e2)](_0x53fd58)};}[_0x1833fc(0x8c5)](_0x20f0d1){const _0x2b840f=_0x1833fc;return this[_0x2b840f(0x75c)][_0x2b840f(0x8c5)](_0x20f0d1)[_0x2b840f(0x84d)](_0x27e26f=>({'getName':_0x27e26f[_0x2b840f(0x82b)][_0x2b840f(0x6e2)](_0x27e26f),'getOwnerId':_0x27e26f[_0x2b840f(0x764)]['bind'](_0x27e26f),'getContentType':_0x27e26f['getContentType'][_0x2b840f(0x6e2)](_0x27e26f),'publish':_0x27e26f[_0x2b840f(0x9e5)]['bind'](_0x27e26f),'subscribe':_0x27e26f['subscribe'][_0x2b840f(0x6e2)](_0x27e26f),'unsubscribe':_0x27e26f[_0x2b840f(0x788)][_0x2b840f(0x6e2)](_0x27e26f),'close':_0x27e26f[_0x2b840f(0x244)][_0x2b840f(0x6e2)](_0x27e26f)}));}['getObjectStoreBuckets'](_0x7a4bd2){const _0x2c8faf=_0x1833fc;return this[_0x2c8faf(0x75c)][_0x2c8faf(0x59d)](_0x7a4bd2)[_0x2c8faf(0x84d)](_0x1102df=>({'getName':_0x1102df['getName'][_0x2c8faf(0x6e2)](_0x1102df),'getOwnerId':_0x1102df[_0x2c8faf(0x764)][_0x2c8faf(0x6e2)](_0x1102df),'getContentType':_0x1102df[_0x2c8faf(0x4ba)][_0x2c8faf(0x6e2)](_0x1102df),'publish':_0x1102df['publish'][_0x2c8faf(0x6e2)](_0x1102df),'unpublish':_0x1102df['unpublish'][_0x2c8faf(0x6e2)](_0x1102df),'get':_0x1102df[_0x2c8faf(0x264)][_0x2c8faf(0x6e2)](_0x1102df),'list':_0x1102df[_0x2c8faf(0xf7)][_0x2c8faf(0x6e2)](_0x1102df),'getSize':_0x1102df['getSize'][_0x2c8faf(0x6e2)](_0x1102df),'subscribe':_0x1102df['subscribe'][_0x2c8faf(0x6e2)](_0x1102df),'unsubscribe':_0x1102df[_0x2c8faf(0x788)][_0x2c8faf(0x6e2)](_0x1102df),'close':_0x1102df['close']['bind'](_0x1102df)}));}[_0x1833fc(0x8fc)](_0x741593){const _0x3e74b=_0x1833fc;return this[_0x3e74b(0x75c)][_0x3e74b(0x8fc)](_0x741593)[_0x3e74b(0x84d)](_0x31023c=>({'getName':_0x31023c[_0x3e74b(0x82b)][_0x3e74b(0x6e2)](_0x31023c),'getOwnerId':_0x31023c[_0x3e74b(0x764)][_0x3e74b(0x6e2)](_0x31023c),'getContentType':_0x31023c[_0x3e74b(0x4ba)][_0x3e74b(0x6e2)](_0x31023c),'close':_0x31023c[_0x3e74b(0x244)][_0x3e74b(0x6e2)](_0x31023c),'get':_0x31023c[_0x3e74b(0x264)]['bind'](_0x31023c),'list':_0x31023c['list'][_0x3e74b(0x6e2)](_0x31023c),'subscribe':_0x31023c[_0x3e74b(0x456)]['bind'](_0x31023c),'unsubscribe':_0x31023c['unsubscribe'][_0x3e74b(0x6e2)](_0x31023c)}));}[_0x1833fc(0x72a)](_0x266f30){const _0x13129b=_0x1833fc;return this[_0x13129b(0x75c)]['getKeyValueDatabases'](_0x266f30)[_0x13129b(0x84d)](_0x7b3723=>({'getName':_0x7b3723[_0x13129b(0x82b)][_0x13129b(0x6e2)](_0x7b3723),'getOwnerId':_0x7b3723[_0x13129b(0x764)][_0x13129b(0x6e2)](_0x7b3723),'getContentType':_0x7b3723['getContentType'][_0x13129b(0x6e2)](_0x7b3723),'getTable':_0x7b3723[_0x13129b(0x3b9)]['bind'](_0x7b3723),'subscribe':_0x7b3723[_0x13129b(0x456)][_0x13129b(0x6e2)](_0x7b3723),'unsubscribe':_0x7b3723[_0x13129b(0x788)][_0x13129b(0x6e2)](_0x7b3723),'close':_0x7b3723[_0x13129b(0x244)][_0x13129b(0x6e2)](_0x7b3723)}));}[_0x1833fc(0x1c1)](_0xf11bda){const _0x295f46=_0x1833fc;return this['orchestrator'][_0x295f46(0x1c1)](_0xf11bda)[_0x295f46(0x84d)](_0x5e5860=>({'createAIJob':_0x5e5860[_0x295f46(0x811)][_0x295f46(0x6e2)](_0x5e5860),'ratePrompt':_0x5e5860['ratePrompt']['bind'](_0x5e5860),'downloadDocument':_0x5e5860[_0x295f46(0x781)][_0x295f46(0x6e2)](_0x5e5860),'getDataBucketIds':_0x5e5860[_0x295f46(0x4d3)][_0x295f46(0x6e2)](_0x5e5860),'close':_0x5e5860['close']['bind'](_0x5e5860)}));}[_0x1833fc(0x5aa)](_0x53a40a){const _0x916f55=_0x1833fc;return this['orchestrator'][_0x916f55(0x5aa)](_0x53a40a)[_0x916f55(0x84d)](_0x866522=>({'close':_0x866522[_0x916f55(0x244)][_0x916f55(0x6e2)](_0x866522)}));}[_0x1833fc(0x6b8)](_0x19af64,_0x1b0f3a){const _0x19bfea=_0x1833fc,_0x3bd589=this[_0x19bfea(0x75c)][_0x19bfea(0x2d8)](_0x19af64,_0x1b0f3a);return{'getLabel':_0x3bd589[_0x19bfea(0x92c)][_0x19bfea(0x6e2)](_0x3bd589),'getOwnerId':_0x3bd589['getOwnerId'][_0x19bfea(0x6e2)](_0x3bd589),'getContentType':_0x3bd589[_0x19bfea(0x4ba)][_0x19bfea(0x6e2)](_0x3bd589),'getMediaStream':_0x3bd589[_0x19bfea(0x275)]['bind'](_0x3bd589),'setPriority':_0x3bd589[_0x19bfea(0x465)][_0x19bfea(0x6e2)](_0x3bd589),'unpublish':_0x3bd589['unpublish'][_0x19bfea(0x6e2)](_0x3bd589)};}[_0x1833fc(0xe7)](_0x2170bb,_0x2f4f0c){const _0x37499c=_0x1833fc,_0x3b33c7=this[_0x37499c(0x75c)][_0x37499c(0x24b)](_0x2170bb,_0x2f4f0c);return{'getLabel':_0x3b33c7[_0x37499c(0x92c)][_0x37499c(0x6e2)](_0x3b33c7),'getOwnerId':_0x3b33c7['getOwnerId']['bind'](_0x3b33c7),'getContentType':_0x3b33c7[_0x37499c(0x4ba)][_0x37499c(0x6e2)](_0x3b33c7),'setPriority':_0x3b33c7[_0x37499c(0x465)][_0x37499c(0x6e2)](_0x3b33c7),'unpublish':_0x3b33c7['unpublish'][_0x37499c(0x6e2)](_0x3b33c7),'getMediaStream':_0x3b33c7['getMediaStream'][_0x37499c(0x6e2)](_0x3b33c7),'addTrack':_0x3b33c7[_0x37499c(0x4ac)][_0x37499c(0x6e2)](_0x3b33c7),'removeTrack':_0x3b33c7[_0x37499c(0x7ba)][_0x37499c(0x6e2)](_0x3b33c7),'replaceTrack':_0x3b33c7[_0x37499c(0x812)][_0x37499c(0x6e2)](_0x3b33c7),'setTransformations':_0x3b33c7['setTransformations'][_0x37499c(0x6e2)](_0x3b33c7)};}[_0x1833fc(0x921)](_0x5f37b0){const _0x2ce58f=_0x1833fc;return this['orchestrator']['getLocalMediaStreams'](_0x5f37b0)['map'](_0x33603b=>({'getLabel':_0x33603b['getLabel'][_0x2ce58f(0x6e2)](_0x33603b),'getOwnerId':_0x33603b[_0x2ce58f(0x764)][_0x2ce58f(0x6e2)](_0x33603b),'getContentType':_0x33603b['getContentType'][_0x2ce58f(0x6e2)](_0x33603b),'getMediaStream':_0x33603b[_0x2ce58f(0x275)][_0x2ce58f(0x6e2)](_0x33603b),'setPriority':_0x33603b[_0x2ce58f(0x465)][_0x2ce58f(0x6e2)](_0x33603b),'unpublish':_0x33603b[_0x2ce58f(0x4be)][_0x2ce58f(0x6e2)](_0x33603b)}));}[_0x1833fc(0x62d)](_0x3a00a6){const _0x3a47f1=_0x1833fc;return this[_0x3a47f1(0x75c)][_0x3a47f1(0x62d)](_0x3a00a6)[_0x3a47f1(0x84d)](_0x517e02=>({'getLabel':_0x517e02[_0x3a47f1(0x92c)][_0x3a47f1(0x6e2)](_0x517e02),'getOwnerId':_0x517e02['getOwnerId']['bind'](_0x517e02),'getContentType':_0x517e02['getContentType'][_0x3a47f1(0x6e2)](_0x517e02),'getMediaStream':_0x517e02['getMediaStream'][_0x3a47f1(0x6e2)](_0x517e02),'subscribe':_0x517e02[_0x3a47f1(0x456)][_0x3a47f1(0x6e2)](_0x517e02),'unsubscribe':_0x517e02[_0x3a47f1(0x788)][_0x3a47f1(0x6e2)](_0x517e02),'getAvailableTrackKinds':_0x517e02[_0x3a47f1(0x1b9)][_0x3a47f1(0x6e2)](_0x517e02),'update':_0x517e02[_0x3a47f1(0x669)][_0x3a47f1(0x6e2)](_0x517e02),'onProviderChange':_0x517e02[_0x3a47f1(0x606)][_0x3a47f1(0x6e2)](_0x517e02)}));}[_0x1833fc(0x291)](_0x410fe6){const _0x5d61d3=_0x1833fc;return this[_0x5d61d3(0x75c)]['getGraphDatabases'](_0x410fe6)[_0x5d61d3(0x84d)](_0x4b00c8=>({'getName':_0x4b00c8[_0x5d61d3(0x82b)][_0x5d61d3(0x6e2)](_0x4b00c8),'getOwnerId':_0x4b00c8[_0x5d61d3(0x764)][_0x5d61d3(0x6e2)](_0x4b00c8),'getContentType':_0x4b00c8[_0x5d61d3(0x4ba)][_0x5d61d3(0x6e2)](_0x4b00c8),'addNode':_0x4b00c8[_0x5d61d3(0x4fa)][_0x5d61d3(0x6e2)](_0x4b00c8),'addEdge':_0x4b00c8[_0x5d61d3(0x2c4)][_0x5d61d3(0x6e2)](_0x4b00c8),'getContent':_0x4b00c8[_0x5d61d3(0x646)][_0x5d61d3(0x6e2)](_0x4b00c8),'remove':_0x4b00c8[_0x5d61d3(0x467)][_0x5d61d3(0x6e2)](_0x4b00c8),'saveToDisk':_0x4b00c8[_0x5d61d3(0x7e3)][_0x5d61d3(0x6e2)](_0x4b00c8),'loadFromDisk':_0x4b00c8[_0x5d61d3(0x43e)]['bind'](_0x4b00c8),'close':_0x4b00c8['close'][_0x5d61d3(0x6e2)](_0x4b00c8)}));}[_0x1833fc(0x635)](_0x162f76){const _0x57ffa8=_0x1833fc;return this['orchestrator'][_0x57ffa8(0x635)](_0x162f76)['map'](_0x2014e1=>({'getName':_0x2014e1[_0x57ffa8(0x82b)][_0x57ffa8(0x6e2)](_0x2014e1),'getOwnerId':_0x2014e1[_0x57ffa8(0x764)][_0x57ffa8(0x6e2)](_0x2014e1),'getContentType':_0x2014e1[_0x57ffa8(0x4ba)][_0x57ffa8(0x6e2)](_0x2014e1),'search':_0x2014e1[_0x57ffa8(0x1da)][_0x57ffa8(0x6e2)](_0x2014e1),'insert':_0x2014e1[_0x57ffa8(0x44a)][_0x57ffa8(0x6e2)](_0x2014e1),'remove':_0x2014e1[_0x57ffa8(0x467)]['bind'](_0x2014e1),'saveToDisk':_0x2014e1[_0x57ffa8(0x7e3)][_0x57ffa8(0x6e2)](_0x2014e1),'loadFromDisk':_0x2014e1[_0x57ffa8(0x43e)][_0x57ffa8(0x6e2)](_0x2014e1),'close':_0x2014e1[_0x57ffa8(0x244)][_0x57ffa8(0x6e2)](_0x2014e1)}));}[_0x1833fc(0x6f4)](){const _0x55acb5=_0x1833fc,_0x32e308=this['orchestrator'][_0x55acb5(0x6f4)]();switch(_0x32e308[_0x55acb5(0x339)]){case _0x4f9f07['NodeType'][_0x55acb5(0x38b)]:return{'type':_0x4f9f07[_0x55acb5(0x21a)][_0x55acb5(0x38b)],'getId':_0x32e308[_0x55acb5(0x76b)][_0x55acb5(0x6e2)](_0x32e308),'getDisplayName':_0x32e308['getDisplayName'][_0x55acb5(0x6e2)](_0x32e308),'getEmail':_0x32e308['getEmail'][_0x55acb5(0x6e2)](_0x32e308),'getRemoteConnections':_0x32e308[_0x55acb5(0x108)]['bind'](_0x32e308),'setDisplayName':_0x32e308['setDisplayName']['bind'](_0x32e308),'setEmail':_0x32e308[_0x55acb5(0x63e)][_0x55acb5(0x6e2)](_0x32e308)};case _0x4f9f07[_0x55acb5(0x21a)]['Agent']:default:return{'type':_0x4f9f07[_0x55acb5(0x21a)]['Agent'],'getId':_0x32e308[_0x55acb5(0x76b)][_0x55acb5(0x6e2)](_0x32e308),'getRemoteConnections':_0x32e308[_0x55acb5(0x108)]['bind'](_0x32e308)};}}[_0x1833fc(0x200)](_0x3dd087){const _0x55157f=_0x1833fc;return this[_0x55157f(0x75c)][_0x55157f(0x200)](_0x3dd087)[_0x55157f(0x84d)](_0x2d9d8c=>{const _0x51675e=_0x55157f;switch(_0x2d9d8c[_0x51675e(0x339)]){case _0x4f9f07[_0x51675e(0x21a)][_0x51675e(0x38b)]:return{'type':_0x4f9f07[_0x51675e(0x21a)][_0x51675e(0x38b)],'getId':_0x2d9d8c[_0x51675e(0x76b)][_0x51675e(0x6e2)](_0x2d9d8c),'getDisplayName':_0x2d9d8c['getDisplayName'][_0x51675e(0x6e2)](_0x2d9d8c),'getEmail':_0x2d9d8c[_0x51675e(0x984)][_0x51675e(0x6e2)](_0x2d9d8c),'getRemoteConnections':_0x2d9d8c[_0x51675e(0x108)][_0x51675e(0x6e2)](_0x2d9d8c)};case _0x4f9f07[_0x51675e(0x21a)][_0x51675e(0x4a0)]:return{'type':_0x4f9f07[_0x51675e(0x21a)][_0x51675e(0x4a0)],'getId':_0x2d9d8c[_0x51675e(0x76b)]['bind'](_0x2d9d8c),'getRemoteConnections':_0x2d9d8c[_0x51675e(0x108)]['bind'](_0x2d9d8c)};default:throw new _0x3b1f45(_0x5bdcd2[_0x51675e(0x5d2)],_0x51675e(0x640));}});}['on']=(..._0x5d3ea3)=>{const _0x36b361=_0x1833fc;this[_0x36b361(0x410)]['on'](..._0x5d3ea3);};['emit']=(..._0x122d0e)=>this[_0x1833fc(0x410)][_0x1833fc(0x67c)](..._0x122d0e);[_0x1833fc(0x8b5)](..._0x3d8802){const _0x5e69ba=_0x1833fc;this[_0x5e69ba(0x410)][_0x5e69ba(0x8b5)](..._0x3d8802);}}class _0xd924b5{['id'];[_0x1833fc(0x935)];[_0x1833fc(0x7aa)];['type']=_0x4f9f07[_0x1833fc(0x21a)][_0x1833fc(0x38b)];['joinedClusters']=new Map();[_0x1833fc(0x29d)]=_0x4febb4();constructor(_0x568061,_0x55e7ab,_0xca84dd){const _0x20e993=_0x1833fc;this['id']=_0x568061,this[_0x20e993(0x935)]=_0x55e7ab,this[_0x20e993(0x7aa)]=_0xca84dd;}[_0x1833fc(0x76b)](){return this['id'];}[_0x1833fc(0x9e8)](){const _0x23cdbd=_0x1833fc;return this[_0x23cdbd(0x935)];}['getEmail'](){const _0xf4116b=_0x1833fc;return this[_0xf4116b(0x7aa)];}[_0x1833fc(0xfa)](_0x5d05df){const _0x5fbb3b=_0x1833fc;this[_0x5fbb3b(0x935)]!==_0x5d05df&&(this[_0x5fbb3b(0x935)]=_0x5d05df,this[_0x5fbb3b(0x29d)]['publish'](this));}[_0x1833fc(0x63e)](_0xd9abaf){const _0xbc079d=_0x1833fc;this[_0xbc079d(0x7aa)]!==_0xd9abaf&&(this[_0xbc079d(0x7aa)]=_0xd9abaf,this[_0xbc079d(0x29d)]['publish'](this));}[_0x1833fc(0x9bf)](_0x47606a,_0x14c49f){const _0x22ad5f=_0x1833fc;if(this[_0x22ad5f(0x472)]['has'](_0x47606a))return;const _0x5294c0=this['observer'][_0x22ad5f(0x456)](_0x14c49f);this[_0x22ad5f(0x472)][_0x22ad5f(0x174)](_0x47606a,_0x5294c0);}[_0x1833fc(0x63d)](_0x43d3b7){const _0x58498c=_0x1833fc;if(!this['joinedClusters']['has'](_0x43d3b7))return;const _0x2c17d9=this[_0x58498c(0x472)]['get'](_0x43d3b7);_0x2c17d9&&_0x2c17d9(),this[_0x58498c(0x472)][_0x58498c(0x8be)](_0x43d3b7);}}class _0x190b71{[_0x1833fc(0x889)];[_0x1833fc(0x511)];constructor(_0x208c82){const _0x3b2083=_0x1833fc;this[_0x3b2083(0x889)]=_0x208c82;}async['signInWithCredential'](_0x390abd){const _0x59e713=_0x1833fc,_0xb59701=await(0x0,_0x1a3767['httpsCallable'])(_0xc81657[_0x59e713(0x13e)](),_0x59e713(0x664))({'uid':_0x59e713(0x496)+this[_0x59e713(0x889)]+_0x59e713(0x496)+_0x390abd['id']}),_0x5dc7b6=await(0x0,_0x48ea98[_0x59e713(0x474)])(_0xc81657[_0x59e713(0x7af)](),_0xb59701[_0x59e713(0x87e)][_0x59e713(0x1f4)]);this[_0x59e713(0x511)]=_0x5dc7b6[_0x59e713(0x511)];}async[_0x1833fc(0x236)](){const _0x599277=_0x1833fc;await(0x0,_0x48ea98['signOut'])(_0xc81657[_0x599277(0x7af)]());}[_0x1833fc(0x575)](){const _0x4be5bc=_0x1833fc;return this[_0x4be5bc(0x511)]?.[_0x4be5bc(0x575)]()??Promise['reject'](_0x4be5bc(0x78a));}}class _0x37a1e8{static [_0x1833fc(0x9b7)];[_0x1833fc(0x978)]=[];constructor(){}static['getInstance'](){const _0x39b672=_0x1833fc;return _0x37a1e8[_0x39b672(0x9b7)]||(_0x37a1e8[_0x39b672(0x9b7)]=new _0x37a1e8()),_0x37a1e8[_0x39b672(0x9b7)];}['initialize'](){const _0xd28c0b=_0x1833fc;this['checkWebRTC'](),this[_0xd28c0b(0x5c4)](),this[_0xd28c0b(0x1e1)](),this[_0xd28c0b(0x19e)](),this[_0xd28c0b(0x82c)](),this[_0xd28c0b(0x681)](),this[_0xd28c0b(0x78c)](),this[_0xd28c0b(0x9c7)](),this[_0xd28c0b(0x97e)](),this[_0xd28c0b(0x918)](),_0x380207[_0xd28c0b(0x41b)](_0x381da1[_0xd28c0b(0x336)],_0xd28c0b(0x7ce),{'featureSupport':this['featureSupport']});}[_0x1833fc(0x14e)](_0xaa6bcc){const _0x36bdc8=_0x1833fc,_0x5dae78=this[_0x36bdc8(0x978)][_0x36bdc8(0x33e)](_0xa23f12=>_0xa23f12[_0x36bdc8(0x3cd)]===_0xaa6bcc);return!!_0x5dae78&&_0x5dae78[_0x36bdc8(0x94c)];}[_0x1833fc(0x2ac)](_0x3e52da){const _0x5dda21=_0x1833fc;_0x380207[_0x5dda21(0x896)](_0x5dda21(0x2ca),{'nodeId':_0x3e52da[_0x5dda21(0x76b)](),'nodeType':_0x3e52da['type'],'data':{'featureSupport':this[_0x5dda21(0x978)]}});}[_0x1833fc(0x3f7)](){const _0x1e3b39=_0x1833fc,_0x43f7df=_0x153237[_0x1e3b39(0x779)];let _0x31da5d=!0x1;_0x1e3b39(0x773)==typeof RTCPeerConnection&&_0x1e3b39(0x773)==typeof RTCIceCandidate&&_0x1e3b39(0x773)==typeof RTCSessionDescription?_0x31da5d=!0x0:_0x380207['log'](_0x381da1['Support'],_0x1e3b39(0x289)+_0x43f7df+_0x1e3b39(0x1b6)),this[_0x1e3b39(0x978)][_0x1e3b39(0x5ed)]({'name':_0x43f7df,'supported':_0x31da5d});}[_0x1833fc(0x5c4)](){const _0x316b3c=_0x1833fc,_0xd90577=_0x153237[_0x316b3c(0x2e8)];let _0x593a16=!0x1;_0x316b3c(0x773)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x316b3c(0x530)==typeof navigator&&'object'==typeof navigator['mediaDevices']&&_0x316b3c(0x773)==typeof navigator[_0x316b3c(0x1c2)][_0x316b3c(0x29a)]?_0x593a16=!0x0:_0x380207['log'](_0x381da1[_0x316b3c(0x336)],_0x316b3c(0x289)+_0xd90577+_0x316b3c(0x1b6)),this[_0x316b3c(0x978)][_0x316b3c(0x5ed)]({'name':_0xd90577,'supported':_0x593a16});}[_0x1833fc(0x1e1)](){const _0x4fbc62=_0x1833fc,_0x3a717f=_0x153237[_0x4fbc62(0x972)];let _0x37816c=!0x1;_0x4fbc62(0x530)==typeof navigator&&_0x4fbc62(0x530)==typeof navigator[_0x4fbc62(0x1c2)]&&_0x4fbc62(0x773)==typeof navigator[_0x4fbc62(0x1c2)][_0x4fbc62(0x763)]?_0x37816c=!0x0:_0x380207['log'](_0x381da1['Support'],_0x4fbc62(0x289)+_0x3a717f+_0x4fbc62(0x1b6)),this['featureSupport'][_0x4fbc62(0x5ed)]({'name':_0x3a717f,'supported':_0x37816c});}['checkAudioVolume'](){const _0x44254=_0x1833fc,_0x2331ec=_0x153237[_0x44254(0x31c)];let _0x269642=!0x1;_0x44254(0x773)!=typeof AudioContext||_0x44254(0x773)!=typeof ScriptProcessorNode&&_0x44254(0x773)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x380207[_0x44254(0x41b)](_0x381da1[_0x44254(0x336)],_0x44254(0x289)+_0x2331ec+_0x44254(0x1b6)):_0x269642=!0x0,this[_0x44254(0x978)][_0x44254(0x5ed)]({'name':_0x2331ec,'supported':_0x269642});}[_0x1833fc(0x82c)](){const _0x6805ae=_0x1833fc,_0x5e43c3=_0x153237[_0x6805ae(0x79f)];let _0x3b47a1=!0x1;_0x6805ae(0x530)==typeof navigator&&_0x6805ae(0x530)==typeof navigator['mediaDevices']&&'function'==typeof navigator[_0x6805ae(0x1c2)][_0x6805ae(0x58f)]&&_0x6805ae(0x773)==typeof MediaDeviceInfo?_0x3b47a1=!0x0:_0x380207['log'](_0x381da1['Support'],_0x6805ae(0x289)+_0x5e43c3+_0x6805ae(0x1b6)),this[_0x6805ae(0x978)][_0x6805ae(0x5ed)]({'name':_0x5e43c3,'supported':_0x3b47a1});}['checkAudioOutput'](){const _0x444785=_0x1833fc,_0x14de22=_0x153237[_0x444785(0xe2)];let _0x2f50b6=!0x1;_0x444785(0x530)==typeof document&&_0x444785(0x773)==typeof document[_0x444785(0x2df)](_0x444785(0x323))[_0x444785(0x925)]?_0x2f50b6=!0x0:_0x380207[_0x444785(0x41b)](_0x381da1['Support'],_0x444785(0x289)+_0x14de22+_0x444785(0x1b6)),this[_0x444785(0x978)]['push']({'name':_0x14de22,'supported':_0x2f50b6});}async['checkMediaRecording'](){const _0x454b05=_0x1833fc,_0x4878e0=_0x153237['Recording'];let _0x102ed3=!0x1;try{const _0x317391=document['createElement']('canvas');if(MediaRecorder&&MediaSource&&_0x317391['captureStream']){const _0x59162b=_0x317391[_0x454b05(0x2a6)](),_0x5eeb7d=new MediaRecorder(_0x59162b);_0x5eeb7d[_0x454b05(0xe0)](),await new Promise(_0xe361f8=>setTimeout(_0xe361f8,0x7d0)),_0x5eeb7d[_0x454b05(0x6c3)](),_0x102ed3=_0x454b05(0x551)===_0x5eeb7d[_0x454b05(0x636)];}}catch(_0x5ae586){_0x380207['log'](_0x381da1[_0x454b05(0x336)],_0x454b05(0x289)+_0x4878e0+'\x20check\x20failed',_0x5ae586);}this[_0x454b05(0x978)][_0x454b05(0x5ed)]({'name':_0x4878e0,'supported':_0x102ed3}),_0x102ed3||_0x380207[_0x454b05(0x41b)](_0x381da1[_0x454b05(0x336)],_0x454b05(0x289)+_0x4878e0+_0x454b05(0x1b6));}['checkBackgrounds'](){const _0x5ce04f=_0x1833fc,_0x3809ef=_0x153237[_0x5ce04f(0x423)];let _0x148c90=!0x1;try{document[_0x5ce04f(0x2df)]('canvas')[_0x5ce04f(0x2a6)]&&(_0x148c90=!0x0);}catch(_0x354465){_0x380207[_0x5ce04f(0x41b)](_0x381da1[_0x5ce04f(0x336)],_0x5ce04f(0x289)+_0x3809ef+_0x5ce04f(0x4e6),_0x354465);}this[_0x5ce04f(0x978)][_0x5ce04f(0x5ed)]({'name':_0x3809ef,'supported':_0x148c90}),_0x148c90||_0x380207[_0x5ce04f(0x41b)](_0x381da1[_0x5ce04f(0x336)],_0x5ce04f(0x289)+_0x3809ef+'\x20not\x20supported');}['checkWebGL'](){const _0x5312ae=_0x1833fc,_0x9168b9=_0x153237[_0x5312ae(0x460)];let _0x4eef03=!0x1;try{const _0x88b9c7=document[_0x5312ae(0x2df)](_0x5312ae(0x481));WebGLRenderingContext&&_0x88b9c7[_0x5312ae(0x321)](_0x5312ae(0x6ec))&&(_0x4eef03=!0x0);}catch(_0x12483c){_0x380207['log'](_0x381da1[_0x5312ae(0x336)],_0x5312ae(0x289)+_0x9168b9+'\x20check\x20failed',_0x12483c);}this[_0x5312ae(0x978)][_0x5312ae(0x5ed)]({'name':_0x9168b9,'supported':_0x4eef03}),_0x4eef03||_0x380207[_0x5312ae(0x41b)](_0x381da1[_0x5312ae(0x336)],_0x5312ae(0x289)+_0x9168b9+_0x5312ae(0x1b6));}[_0x1833fc(0x918)](){const _0x5924db=_0x1833fc,_0x53e0e4=_0x153237[_0x5924db(0x42e)];let _0x445e37=!0x1;_0x5924db(0x773)==typeof AudioContext?_0x445e37=!0x0:_0x380207[_0x5924db(0x41b)](_0x381da1[_0x5924db(0x336)],'Support:\x20'+_0x53e0e4+_0x5924db(0x1b6)),this[_0x5924db(0x978)][_0x5924db(0x5ed)]({'name':_0x53e0e4,'supported':_0x445e37});}}const _0x3ddbd3=_0x37a1e8[_0x1833fc(0x16c)]();class _0x2bf7ee{static [_0x1833fc(0x9b7)];static [_0x1833fc(0x788)];static [_0x1833fc(0x2a0)];[_0x1833fc(0x215)];[_0x1833fc(0x889)];[_0x1833fc(0x81d)];[_0x1833fc(0x317)];[_0x1833fc(0x7bf)]=new Map();[_0x1833fc(0x8eb)];constructor(_0x16ecb8,_0x5eac6f,_0x41d379){const _0x507817=_0x1833fc;this[_0x507817(0x889)]=_0x16ecb8,this[_0x507817(0x317)]=_0x5eac6f,this[_0x507817(0x215)]=new _0x190b71(this[_0x507817(0x889)]),_0x3ddbd3[_0x507817(0x47c)](),this[_0x507817(0x81d)]={'audioContext':_0x41d379?.[_0x507817(0x54c)]??(_0x3ddbd3[_0x507817(0x14e)](_0x153237[_0x507817(0x42e)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x41d379?.[_0x507817(0x36f)]??0x1,'minConnections':_0x41d379?.[_0x507817(0x571)]??0x3,'maxConnections':_0x41d379?.[_0x507817(0x130)]??(_0x41d379?.['minConnections']&&0x4*_0x41d379['minConnections'])??0xc,'maxDistance':_0x41d379?.[_0x507817(0x96d)]??0xa,'maxFps':_0x41d379?.[_0x507817(0x9b3)]??0x18,'maxBpp':_0x41d379?.[_0x507817(0x93c)]??0.12,'objectStoreConnector':_0x41d379?.['objectStoreConnector']??_0x88b2e4[_0x507817(0x52e)],'externalStorageConnectors':_0x41d379?.[_0x507817(0x665)],'keyValueDatabaseConnector':_0x41d379?.['keyValueDatabaseConnector']??_0x366e21['IDBDatabaseConnector'],'loggingDatabaseConnector':_0x41d379?.[_0x507817(0x69d)]??_0x366e21['IDBDatabaseConnector'],'peerConnectionConnector':_0x41d379?.['peerConnectionConnector']??_0x55ee36['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x41d379?.[_0x507817(0x936)],'vectorDatabaseConnector':_0x41d379?.[_0x507817(0x26a)],'graphDatabaseConnector':_0x41d379?.[_0x507817(0x3e6)],'documentParserConnector':_0x41d379?.[_0x507817(0x64e)],'nlpLibraryConnector':_0x41d379?.['nlpLibraryConnector'],'searchConnector':_0x41d379?.[_0x507817(0x598)]},_0x41d379?.[_0x507817(0x644)]&&this[_0x507817(0x81d)][_0x507817(0x54c)]&&_0x524332[_0x507817(0x690)](this[_0x507817(0x81d)][_0x507817(0x54c)]),_0x380207[_0x507817(0x30e)](this['vendorId']),_0x41d379?.[_0x507817(0x760)]&&_0x380207[_0x507817(0x69e)](_0x41d379[_0x507817(0x760)]);}static async[_0x1833fc(0x16c)](_0x4e895f,_0x1ada26,_0x3ec43c,_0x238eb9,_0x3b051e){const _0x46fbe4=_0x1833fc;this[_0x46fbe4(0x2a0)]=_0x3ec43c;const _0xdc84f7=await this[_0x46fbe4(0x1ee)](_0x4e895f,_0x1ada26,_0x3b051e);return _0x2bf7ee[_0x46fbe4(0x9b7)]||(_0x2bf7ee['instance']=new _0x2bf7ee(_0x4e895f,_0xdc84f7,_0x238eb9)),{'close':_0x2bf7ee[_0x46fbe4(0x9b7)][_0x46fbe4(0x244)][_0x46fbe4(0x6e2)](_0x2bf7ee[_0x46fbe4(0x9b7)]),'authenticateUser':_0x2bf7ee[_0x46fbe4(0x9b7)]['authenticateUser']['bind'](_0x2bf7ee[_0x46fbe4(0x9b7)]),'authenticateAgent':_0x2bf7ee[_0x46fbe4(0x9b7)][_0x46fbe4(0x19f)][_0x46fbe4(0x6e2)](_0x2bf7ee[_0x46fbe4(0x9b7)]),'joinCluster':_0x2bf7ee[_0x46fbe4(0x9b7)]['joinCluster'][_0x46fbe4(0x6e2)](_0x2bf7ee[_0x46fbe4(0x9b7)])};}static async['timestamp'](){const _0x54097f=_0x1833fc;return _0xc81657[_0x54097f(0x31f)]();}static[_0x1833fc(0x395)](){const _0x131fc5=_0x1833fc;return _0x152c14[_0x131fc5(0x395)];}async[_0x1833fc(0x244)](_0x2030f1){const _0x38ebfb=_0x1833fc;this[_0x38ebfb(0x7bf)][_0x38ebfb(0x919)](_0x11af42=>{const _0x19343b=_0x38ebfb;_0x11af42[_0x19343b(0x8b5)](),_0x11af42[_0x19343b(0x9cb)](_0x2030f1);}),this[_0x38ebfb(0x7bf)][_0x38ebfb(0x67d)](),this[_0x38ebfb(0x81d)][_0x38ebfb(0x54c)]&&_0x524332['stopNoThrottlingHack'](),_0x2bf7ee['unsubscribe']?.(),_0x2bf7ee[_0x38ebfb(0x788)]=void 0x0,this[_0x38ebfb(0x8eb)]=void 0x0,await this['authService'][_0x38ebfb(0x236)](),_0x2bf7ee['instance']=void 0x0;}static async[_0x1833fc(0x1ee)](_0x4a90ad,_0x169f2f,_0x56892d){const _0x175da9=_0x1833fc;if(!this[_0x175da9(0x2a0)])throw new _0x3b1f45(_0x5bdcd2[_0x175da9(0x42b)],_0x175da9(0x102));let _0x36a0c2;try{_0x36a0c2=await(0x0,_0x1a3767[_0x175da9(0x847)])(_0xc81657[_0x175da9(0x13e)](),'sdkValidateAccess')({'vendorId':_0x4a90ad,'accessToken':_0x169f2f,'secretKey':_0x56892d});}catch(_0x24e305){throw new _0x3b1f45(_0x5bdcd2['InvalidAccess'],_0x175da9(0x8c9));}if(!this[_0x175da9(0x74d)](_0x36a0c2[_0x175da9(0x87e)]))throw new _0x3b1f45(_0x5bdcd2['InvalidAccess'],_0x175da9(0x8c9));const _0x5ddeb4=_0x36a0c2[_0x175da9(0x87e)];return _0x5ddeb4['features']||(_0x5ddeb4[_0x175da9(0x1a1)]=[]),this['unsubscribe']||(this['unsubscribe']=_0x524332[_0x175da9(0x882)](async()=>{const _0x563a2f=_0x175da9;try{const _0x40ecca=await this[_0x563a2f(0x1ee)](_0x4a90ad,_0x169f2f,_0x56892d);this['mode']===_0x4f9f07[_0x563a2f(0x21a)][_0x563a2f(0x4a0)]&&(_0x40ecca[_0x563a2f(0x4fd)]=_0x40ecca['iceServers']['filter'](_0x2ef13a=>_0x2ef13a[_0x563a2f(0x408)][_0x563a2f(0x51c)](_0x563a2f(0xf5)))),_0x5ddeb4[_0x563a2f(0x4fd)]=_0x40ecca['iceServers'];}catch(_0x2d4565){}},0x1b7740)),_0x5ddeb4;}async['authenticateUser'](_0x517adb){const _0x2f8b9e=_0x1833fc;if(_0x2bf7ee[_0x2f8b9e(0x2a0)]!==_0x4f9f07['NodeType'][_0x2f8b9e(0x38b)])throw new _0x3b1f45(_0x5bdcd2[_0x2f8b9e(0x5d2)],_0x2f8b9e(0x6ba));await this[_0x2f8b9e(0x215)][_0x2f8b9e(0x3f1)](_0x517adb);const _0x579a69=new _0xd924b5(_0x517adb['id'],_0x517adb[_0x2f8b9e(0x935)],_0x517adb[_0x2f8b9e(0x7aa)]);return this[_0x2f8b9e(0x8eb)]={'node':_0x579a69},_0x3ddbd3[_0x2f8b9e(0x2ac)](_0x579a69),{'type':_0x4f9f07[_0x2f8b9e(0x21a)]['User'],'getId':_0x579a69[_0x2f8b9e(0x76b)][_0x2f8b9e(0x6e2)](_0x579a69),'getDisplayName':_0x579a69[_0x2f8b9e(0x9e8)][_0x2f8b9e(0x6e2)](_0x579a69),'getEmail':_0x579a69[_0x2f8b9e(0x984)]['bind'](_0x579a69),'setDisplayName':_0x579a69[_0x2f8b9e(0xfa)][_0x2f8b9e(0x6e2)](_0x579a69),'setEmail':_0x579a69[_0x2f8b9e(0x63e)][_0x2f8b9e(0x6e2)](_0x579a69)};}async['authenticateAgent'](_0x5797f9){const _0x4856b9=_0x1833fc;if(_0x2bf7ee[_0x4856b9(0x2a0)]!==_0x4f9f07[_0x4856b9(0x21a)][_0x4856b9(0x4a0)])throw new _0x3b1f45(_0x5bdcd2[_0x4856b9(0x5d2)],'Node\x20type\x20is\x20invalid');const {id:_0x25beac,groupId:_0x265070}=_0x5797f9,_0x191d0b=await(0x0,_0x4e5c5c[_0x4856b9(0x860)])((0x0,_0x4e5c5c['doc'])(_0xc81657[_0x4856b9(0x6c9)](),_0x4856b9(0x34b)+this[_0x4856b9(0x889)]+_0x4856b9(0x4ea)+_0x265070));if(!_0x191d0b[_0x4856b9(0x7f1)]())throw new _0x3b1f45(_0x5bdcd2[_0x4856b9(0x299)],_0x4856b9(0x748));const _0x26bfb5=_0x191d0b[_0x4856b9(0x87e)]();await this['authService'][_0x4856b9(0x3f1)]({'id':_0x25beac});const _0xd6800a=new _0x31ce21(_0x25beac,_0x265070,this[_0x4856b9(0x889)],_0x26bfb5);return this[_0x4856b9(0x8eb)]={'node':_0xd6800a},_0x3ddbd3[_0x4856b9(0x2ac)](_0xd6800a),await this['connectAgent'](_0xd6800a),{'type':_0x4f9f07[_0x4856b9(0x21a)]['Agent'],'getId':_0xd6800a['getId'][_0x4856b9(0x6e2)](_0xd6800a),'onConfigurationChange':_0xd6800a[_0x4856b9(0x47f)][_0x4856b9(0x6e2)](_0xd6800a),'setReportCapacity':_0xd6800a['setReportCapacity'][_0x4856b9(0x6e2)](_0xd6800a)};}async[_0x1833fc(0x56d)](_0x562fff){const _0x398c14=_0x1833fc;if(!this[_0x398c14(0x8eb)])throw new _0x3b1f45(_0x5bdcd2[_0x398c14(0x299)],_0x398c14(0x677));if(this[_0x398c14(0x8eb)][_0x398c14(0x7fb)]['type']!==_0x4f9f07[_0x398c14(0x21a)][_0x398c14(0x38b)])throw new _0x3b1f45(_0x5bdcd2[_0x398c14(0x2fa)],_0x398c14(0x298));if(this[_0x398c14(0x7bf)][_0x398c14(0x977)](_0x562fff))throw new _0x3b1f45(_0x5bdcd2[_0x398c14(0x51a)],'Cluster\x20already\x20joined');const _0x2486ba=new _0x55c341(this[_0x398c14(0x889)],_0x562fff,this[_0x398c14(0x8eb)][_0x398c14(0x7fb)],this['authService'],this[_0x398c14(0x81d)],this[_0x398c14(0x317)]);return await _0x2486ba[_0x398c14(0x784)](),this['addCluster'](_0x562fff,_0x2486ba),_0x380207[_0x398c14(0x896)](_0x398c14(0x71b),{'clusterId':_0x562fff,'nodeId':this[_0x398c14(0x8eb)][_0x398c14(0x7fb)][_0x398c14(0x76b)](),'nodeType':this['authContext'][_0x398c14(0x7fb)][_0x398c14(0x339)]}),{'leave':_0x2486ba['leave'][_0x398c14(0x6e2)](_0x2486ba),'getLocalNode':_0x2486ba[_0x398c14(0x6f4)][_0x398c14(0x6e2)](_0x2486ba),'openPubSubTopic':_0x2486ba[_0x398c14(0x33c)][_0x398c14(0x6e2)](_0x2486ba),'openObjectStoreBucket':_0x2486ba[_0x398c14(0x839)][_0x398c14(0x6e2)](_0x2486ba),'openExternalStorageConnection':_0x2486ba[_0x398c14(0x52f)][_0x398c14(0x6e2)](_0x2486ba),'openKeyValueDatabase':_0x2486ba[_0x398c14(0x64b)][_0x398c14(0x6e2)](_0x2486ba),'openGenerativeAIContext':_0x2486ba[_0x398c14(0x8d3)][_0x398c14(0x6e2)](_0x2486ba),'openGenerativeAIWorker':_0x2486ba[_0x398c14(0x694)][_0x398c14(0x6e2)](_0x2486ba),'openGraphDatabase':_0x2486ba[_0x398c14(0x352)]['bind'](_0x2486ba),'openVectorDatabase':_0x2486ba[_0x398c14(0x199)][_0x398c14(0x6e2)](_0x2486ba),'publishLocalMediaStream':_0x2486ba[_0x398c14(0x6b8)]['bind'](_0x2486ba),'publishLocalDynamicMediaStream':_0x2486ba[_0x398c14(0xe7)]['bind'](_0x2486ba),'getPubSubTopics':_0x2486ba[_0x398c14(0x8c5)]['bind'](_0x2486ba),'getObjectStoreBuckets':_0x2486ba['getObjectStoreBuckets']['bind'](_0x2486ba),'getExternalStorageConnections':_0x2486ba['getExternalStorageConnections'][_0x398c14(0x6e2)](_0x2486ba),'getKeyValueDatabases':_0x2486ba[_0x398c14(0x72a)][_0x398c14(0x6e2)](_0x2486ba),'getGenerativeAIContexts':_0x2486ba[_0x398c14(0x1c1)]['bind'](_0x2486ba),'getGenerativeAIWorkers':_0x2486ba[_0x398c14(0x5aa)][_0x398c14(0x6e2)](_0x2486ba),'getGraphDatabases':_0x2486ba[_0x398c14(0x291)][_0x398c14(0x6e2)](_0x2486ba),'getVectorDatabases':_0x2486ba['getVectorDatabases'][_0x398c14(0x6e2)](_0x2486ba),'getLocalMediaStreams':_0x2486ba[_0x398c14(0x921)]['bind'](_0x2486ba),'getRemoteMediaStreams':_0x2486ba[_0x398c14(0x62d)][_0x398c14(0x6e2)](_0x2486ba),'getRemoteNodes':_0x2486ba[_0x398c14(0x200)][_0x398c14(0x6e2)](_0x2486ba),'on':_0x2486ba['on']['bind'](_0x2486ba),'off':_0x2486ba[_0x398c14(0x8b5)]['bind'](_0x2486ba)};}async['connectAgent'](_0x1c725e){const _0x548c21=_0x1833fc;for(const _0x34dc0f of _0x1c725e[_0x548c21(0x2a1)][_0x548c21(0x7bf)]){const _0x5da978=new _0x55c341(this['vendorId'],_0x34dc0f['id'],_0x1c725e,this[_0x548c21(0x215)],this[_0x548c21(0x81d)],this['configs']);await _0x5da978[_0x548c21(0x784)](),this[_0x548c21(0x20c)](_0x34dc0f['id'],_0x5da978),_0x380207[_0x548c21(0x2cc)](_0x548c21(0x325),_0x34dc0f['id']);for(const _0x5bc6f7 of _0x34dc0f[_0x548c21(0x8b9)]??[])_0x5da978['openPubSubTopic'](_0x5bc6f7),_0x380207['forceLog'](_0x548c21(0x745),_0x5bc6f7);for(const _0x3d1f56 of _0x34dc0f[_0x548c21(0x90e)]??[])await _0x5da978[_0x548c21(0x839)](_0x3d1f56),_0x380207[_0x548c21(0x2cc)](_0x548c21(0x38d),_0x3d1f56);for(const _0x54ca79 of _0x34dc0f[_0x548c21(0x28c)]??[])await _0x5da978['openObjectStoreBucket'](_0x54ca79,{'standalone':!0x0}),_0x380207['forceLog'](_0x548c21(0x8b2),_0x54ca79);for(const _0x5f5677 of _0x34dc0f[_0x548c21(0x7cd)]??[]){const _0x44ce7c=_0x5f5677[_0x548c21(0x6ca)]('-');await _0x5da978[_0x548c21(0x52f)](_0x44ce7c[0x1],_0x44ce7c[0x0]),_0x380207['forceLog'](_0x548c21(0x7a8),_0x5f5677);}for(const _0x41c469 of _0x34dc0f[_0x548c21(0x470)]??[])await _0x5da978[_0x548c21(0x64b)](_0x41c469,{'version':0x1,'tables':{}}),_0x380207[_0x548c21(0x2cc)](_0x548c21(0xf9),_0x41c469);for(const _0x5dc67f of _0x34dc0f[_0x548c21(0x998)]??[])_0x5da978['openGraphDatabase'](_0x5dc67f),_0x380207[_0x548c21(0x2cc)](_0x548c21(0x8e1),_0x5dc67f);for(const _0x4b058a of _0x34dc0f[_0x548c21(0x1b8)]??[])_0x5da978[_0x548c21(0x199)](_0x4b058a),_0x380207[_0x548c21(0x2cc)]('Opened\x20vector\x20database',_0x4b058a);for(const _0x733199 of _0x34dc0f['generativeAIContexts']??[]){const _0x50b5f8=_0x590195(this[_0x548c21(0x889)],_0x733199),_0x3d7164=_0x463d5d(),_0x3211ec=this['options'][_0x548c21(0x69d)]??this[_0x548c21(0x81d)][_0x548c21(0x887)];await _0x5da978[_0x548c21(0x64b)](_0x50b5f8,_0x3d7164,_0x3211ec),_0x380207[_0x548c21(0x2cc)](_0x548c21(0x641),_0x50b5f8),await _0x5da978[_0x548c21(0x694)](_0x733199),_0x380207[_0x548c21(0x2cc)](_0x548c21(0x3b1),_0x733199);}}}[_0x1833fc(0x20c)](_0x47c16b,_0x580789){const _0x5d8065=_0x1833fc;this[_0x5d8065(0x7bf)][_0x5d8065(0x174)](_0x47c16b,_0x580789),_0x580789['on']('cluster-leave',()=>{const _0x1fd4d9=_0x5d8065;_0x580789[_0x1fd4d9(0x8b5)](),this[_0x1fd4d9(0x7bf)][_0x1fd4d9(0x8be)](_0x47c16b);});}static[_0x1833fc(0x74d)](_0x376ba4){return void 0x0!==_0x376ba4['iceServers'];}}return _0x472153;})())));