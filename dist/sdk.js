function a0_0x1394(_0x3a4b92,_0x1dfc07){const _0x508b8f=a0_0x508b();return a0_0x1394=function(_0x1394f8,_0x480f6a){_0x1394f8=_0x1394f8-0x12e;let _0x542759=_0x508b8f[_0x1394f8];return _0x542759;},a0_0x1394(_0x3a4b92,_0x1dfc07);}(function(_0x265aaa,_0x3b96ed){const _0x37cab6=a0_0x1394,_0x451503=_0x265aaa();while(!![]){try{const _0x494bdf=parseInt(_0x37cab6(0x144))/0x1*(-parseInt(_0x37cab6(0x5f5))/0x2)+parseInt(_0x37cab6(0x569))/0x3*(parseInt(_0x37cab6(0x58d))/0x4)+parseInt(_0x37cab6(0x24e))/0x5*(-parseInt(_0x37cab6(0x17c))/0x6)+parseInt(_0x37cab6(0x87f))/0x7+parseInt(_0x37cab6(0x82a))/0x8+parseInt(_0x37cab6(0x68c))/0x9*(-parseInt(_0x37cab6(0x1fd))/0xa)+parseInt(_0x37cab6(0x782))/0xb;if(_0x494bdf===_0x3b96ed)break;else _0x451503['push'](_0x451503['shift']());}catch(_0x3e1ce0){_0x451503['push'](_0x451503['shift']());}}}(a0_0x508b,0x83b2a),!function(_0x1c828f,_0x3f550f){const _0x128d8a=a0_0x1394;if(_0x128d8a(0x725)==typeof exports&&'object'==typeof module)module[_0x128d8a(0x1d7)]=_0x3f550f();else{if(_0x128d8a(0x3f2)==typeof define&&define[_0x128d8a(0x578)])define([],_0x3f550f);else{var _0x17744a=_0x3f550f();for(var _0xe3a02b in _0x17744a)(_0x128d8a(0x725)==typeof exports?exports:_0x1c828f)[_0xe3a02b]=_0x17744a[_0xe3a02b];}}}(this,()=>((()=>{'use strict';const _0x3f1d19=a0_0x1394;var _0x437265={0x14d:(_0x5c658a,_0x1471cc,_0x43a2a6)=>{const _0x234774=a0_0x1394;_0x43a2a6['d'](_0x1471cc,{'O':()=>_0x473759});const _0x473759={'version':_0x234774(0x3d3),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x234774(0x661),'authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x234774(0x572),'projectId':_0x234774(0x63c),'storageBucket':'crewdle-sdk-stg.appspot.com','appId':_0x234774(0x9aa),'functionsRegion':_0x234774(0x272)},'apiUrl':'https://api.stg.crewdle.ai','google':{'searchEngineId':_0x234774(0x456)},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x234774(0x5e4)}};},0x33b:(_0x289c97,_0x4e80ee,_0x3d4197)=>{_0x3d4197['d'](_0x4e80ee,{'O':()=>_0x39ce56});const _0x39ce56={};},0x3e6:(_0x4df7ab,_0x488638,_0x263dd3)=>{const _0x44e8a9=a0_0x1394;_0x263dd3['d'](_0x488638,{'O':()=>_0x5eb525});const _0x5eb525={'version':_0x44e8a9(0x221),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x44e8a9(0x25e),'authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':_0x44e8a9(0x410),'projectId':_0x44e8a9(0x9ef),'storageBucket':_0x44e8a9(0x6e8),'messagingSenderId':'420235181083','appId':_0x44e8a9(0x66d),'measurementId':_0x44e8a9(0x620)},'apiUrl':_0x44e8a9(0x8fc),'aws':{'endpoint':_0x44e8a9(0x5c4),'region':'us-east-1'}};},0x20:(_0x9db88,_0x542bc8,_0x23d582)=>{_0x23d582['d'](_0x542bc8,{'O':()=>_0x1c092b});const _0x1c092b={};}},_0x44858a={};function _0x2aea5c(_0x3c5cd8){const _0x1cda78=a0_0x1394;var _0x411035=_0x44858a[_0x3c5cd8];if(void 0x0!==_0x411035)return _0x411035[_0x1cda78(0x1d7)];var _0x200745=_0x44858a[_0x3c5cd8]={'exports':{}};return _0x437265[_0x3c5cd8](_0x200745,_0x200745[_0x1cda78(0x1d7)],_0x2aea5c),_0x200745['exports'];}_0x2aea5c['d']=(_0x3cedbb,_0x45eaaa)=>{const _0x1c23b5=a0_0x1394;for(var _0x121e4b in _0x45eaaa)_0x2aea5c['o'](_0x45eaaa,_0x121e4b)&&!_0x2aea5c['o'](_0x3cedbb,_0x121e4b)&&Object[_0x1c23b5(0xa85)](_0x3cedbb,_0x121e4b,{'enumerable':!0x0,'get':_0x45eaaa[_0x121e4b]});},_0x2aea5c['g']=(function(){const _0xfb34a3=a0_0x1394;if(_0xfb34a3(0x725)==typeof globalThis)return globalThis;try{return this||new Function(_0xfb34a3(0x1c5))();}catch(_0x55671b){if(_0xfb34a3(0x725)==typeof window)return window;}}()),_0x2aea5c['o']=(_0x543e5c,_0x47b43f)=>Object[_0x3f1d19(0x6b1)][_0x3f1d19(0x9e2)]['call'](_0x543e5c,_0x47b43f),_0x2aea5c['r']=_0x1c0784=>{const _0x134a97=_0x3f1d19;'undefined'!=typeof Symbol&&Symbol[_0x134a97(0x197)]&&Object[_0x134a97(0xa85)](_0x1c0784,Symbol[_0x134a97(0x197)],{'value':_0x134a97(0x5d0)}),Object[_0x134a97(0xa85)](_0x1c0784,_0x134a97(0x1f4),{'value':!0x0});};var _0x26fc1d,_0x1cb6a4,_0x419b0a,_0x4ff6bf={};_0x2aea5c['r'](_0x4ff6bf),_0x2aea5c['d'](_0x4ff6bf,{'KeyValueDatabase':()=>_0x348557,'LayoutBuilder':()=>_0xba501e,'LoggingChannels':()=>_0x419b0a,'QueryBuilder':()=>_0x390fa7,'SDK':()=>_0x2a7835,'SDKClientErrorCodes':()=>_0x26fc1d,'TableBuilder':()=>_0x110db3,'logger':()=>_0x576b91}),function(_0x30238a){const _0x362ff2=_0x3f1d19;_0x30238a[_0x362ff2(0x4c9)]=_0x362ff2(0x35d),_0x30238a[_0x362ff2(0x5d6)]=_0x362ff2(0x435),_0x30238a[_0x362ff2(0x1ca)]=_0x362ff2(0x6d2),_0x30238a['ExternalStorageConnectionAlreadyExists']=_0x362ff2(0xa7e),_0x30238a[_0x362ff2(0x1c1)]=_0x362ff2(0x65e),_0x30238a[_0x362ff2(0xa15)]=_0x362ff2(0x19e),_0x30238a[_0x362ff2(0x780)]=_0x362ff2(0x9d0),_0x30238a['ExternalStorageInvalidPath']=_0x362ff2(0x92d),_0x30238a['ExternalStorageNameNotString']=_0x362ff2(0x211),_0x30238a['FeatureNotEnabled']=_0x362ff2(0x8d5),_0x30238a[_0x362ff2(0x6c7)]='generative-ai-context-already-exists',_0x30238a[_0x362ff2(0x369)]=_0x362ff2(0x1be),_0x30238a[_0x362ff2(0x982)]=_0x362ff2(0x568),_0x30238a[_0x362ff2(0x19c)]=_0x362ff2(0x431),_0x30238a['GenerativeAILabelConflict']=_0x362ff2(0x546),_0x30238a[_0x362ff2(0x6b3)]=_0x362ff2(0x176),_0x30238a[_0x362ff2(0x6f6)]=_0x362ff2(0x743),_0x30238a['GenerativeAIWorkerModelSyncError']=_0x362ff2(0x34e),_0x30238a['GraphDatabaseAlreadyExists']=_0x362ff2(0x5a5),_0x30238a['GraphDatabaseDoesNotExist']='graph-database-does-not-exist',_0x30238a['GraphDatabaseMissingConnector']='graph-database-missing-connector',_0x30238a[_0x362ff2(0x38f)]='graph-database-name-not-string',_0x30238a[_0x362ff2(0x334)]=_0x362ff2(0x6ad),_0x30238a['JobDispatcherDoesNotExist']='job-dispatcher-does-not-exist',_0x30238a[_0x362ff2(0x8d1)]='job-dispatcher-job-exists',_0x30238a[_0x362ff2(0x918)]=_0x362ff2(0x191),_0x30238a[_0x362ff2(0x979)]=_0x362ff2(0x5bd),_0x30238a['JobWorkerAlreadyExists']='job-worker-already-exists',_0x30238a[_0x362ff2(0x1b2)]=_0x362ff2(0xb1b),_0x30238a[_0x362ff2(0xa74)]=_0x362ff2(0x1d4),_0x30238a[_0x362ff2(0x6f4)]='object-store-already-subscribed',_0x30238a[_0x362ff2(0x69d)]=_0x362ff2(0xae0),_0x30238a[_0x362ff2(0x84d)]=_0x362ff2(0x45e),_0x30238a[_0x362ff2(0x373)]=_0x362ff2(0x662),_0x30238a['ObjectStoreInvalidPath']='object-store-invalid-path',_0x30238a[_0x362ff2(0x32d)]=_0x362ff2(0x1a8),_0x30238a[_0x362ff2(0x768)]='internal-sdk-error',_0x30238a[_0x362ff2(0x96b)]='invalid-access',_0x30238a[_0x362ff2(0xa93)]=_0x362ff2(0x2d6),_0x30238a[_0x362ff2(0x79d)]='key-value-database-does-not-exist',_0x30238a[_0x362ff2(0x5af)]='key-value-database-index-not-found',_0x30238a[_0x362ff2(0x709)]=_0x362ff2(0x96a),_0x30238a[_0x362ff2(0x811)]=_0x362ff2(0x62d),_0x30238a[_0x362ff2(0x312)]=_0x362ff2(0x8ee),_0x30238a[_0x362ff2(0x664)]=_0x362ff2(0x82e),_0x30238a['KeyValueDatabaseTableNameReserved']=_0x362ff2(0x53a),_0x30238a[_0x362ff2(0xaba)]=_0x362ff2(0x8c1),_0x30238a['KeyValueDatabaseInvalidLayout']=_0x362ff2(0x8d3),_0x30238a[_0x362ff2(0xa4d)]=_0x362ff2(0x5c0),_0x30238a[_0x362ff2(0x7cb)]='local-media-stream-no-audio-context',_0x30238a[_0x362ff2(0x1ac)]=_0x362ff2(0x2dc),_0x30238a[_0x362ff2(0x259)]=_0x362ff2(0x67c),_0x30238a['PubSubTopicNameNotString']=_0x362ff2(0x8f7),_0x30238a[_0x362ff2(0x323)]='pub-sub-topic-already-subscribed',_0x30238a[_0x362ff2(0x68d)]=_0x362ff2(0xb4f),_0x30238a['RemoteMediaStreamAlreadyExists']=_0x362ff2(0x232),_0x30238a[_0x362ff2(0x27d)]=_0x362ff2(0x631),_0x30238a['SubscriptionRequestInProgress']='subscription-request-in-progress',_0x30238a[_0x362ff2(0x379)]='node-not-authenticated',_0x30238a[_0x362ff2(0x2ae)]=_0x362ff2(0x3eb),_0x30238a[_0x362ff2(0x21d)]=_0x362ff2(0x1ae),_0x30238a[_0x362ff2(0x3aa)]='node-type-required',_0x30238a[_0x362ff2(0x45c)]=_0x362ff2(0x992),_0x30238a[_0x362ff2(0x3fa)]='vector-database-does-not-exist',_0x30238a['VectorDatabaseMissingConnector']=_0x362ff2(0x461),_0x30238a['VectorDatabaseNameNotString']=_0x362ff2(0x655);}(_0x26fc1d||(_0x26fc1d={}));class _0x122c6c extends Error{[_0x3f1d19(0x380)];constructor(_0x522ee2,_0x2337c3){super(_0x2337c3),this['code']=_0x522ee2;}}!function(_0x1996b1){const _0x3da958=_0x3f1d19;_0x1996b1['PubSub']=_0x3da958(0xa55),_0x1996b1[_0x3da958(0x857)]=_0x3da958(0x44a),_0x1996b1[_0x3da958(0x7c8)]=_0x3da958(0x721),_0x1996b1[_0x3da958(0xa63)]='vector-database',_0x1996b1[_0x3da958(0x394)]=_0x3da958(0x550),_0x1996b1['ExternalStorage']=_0x3da958(0xb13),_0x1996b1[_0x3da958(0x4e4)]=_0x3da958(0xa51),_0x1996b1[_0x3da958(0x46d)]=_0x3da958(0x392);}(_0x1cb6a4||(_0x1cb6a4={})),function(_0x28d2ad){const _0x44a215=_0x3f1d19;_0x28d2ad[_0x44a215(0x195)]=_0x44a215(0x346),_0x28d2ad[_0x44a215(0x2ed)]=_0x44a215(0x243),_0x28d2ad[_0x44a215(0x887)]=_0x44a215(0x510),_0x28d2ad[_0x44a215(0x2d9)]=_0x44a215(0x9d2),_0x28d2ad[_0x44a215(0x12f)]=_0x44a215(0x271),_0x28d2ad[_0x44a215(0x442)]=_0x44a215(0x861),_0x28d2ad['DataStream']='data-stream',_0x28d2ad[_0x44a215(0xb62)]=_0x44a215(0x335),_0x28d2ad['Events']=_0x44a215(0x909),_0x28d2ad[_0x44a215(0xa8b)]=_0x44a215(0x9e0),_0x28d2ad[_0x44a215(0x1a1)]='jobs',_0x28d2ad[_0x44a215(0x7c8)]=_0x44a215(0x721),_0x28d2ad[_0x44a215(0x4a6)]=_0x44a215(0x947),_0x28d2ad['Pool']=_0x44a215(0x90e),_0x28d2ad[_0x44a215(0xa1f)]=_0x44a215(0xa55),_0x28d2ad[_0x44a215(0x692)]=_0x44a215(0x58e),_0x28d2ad[_0x44a215(0x2e5)]=_0x44a215(0x3ae),_0x28d2ad['SenderSendMessage']=_0x44a215(0x5ef),_0x28d2ad[_0x44a215(0x40a)]=_0x44a215(0x50a),_0x28d2ad['Stats']='stats',_0x28d2ad['Subscription']=_0x44a215(0x40e),_0x28d2ad[_0x44a215(0x733)]=_0x44a215(0x1ef),_0x28d2ad['System']=_0x44a215(0x3ee),_0x28d2ad[_0x44a215(0xa0c)]=_0x44a215(0x7c5),_0x28d2ad['TestPage']='test-page',_0x28d2ad['PeerConnection']=_0x44a215(0x51b);}(_0x419b0a||(_0x419b0a={}));const _0x1c7ce5=require('@crewdle/web-sdk-types');class _0x390fa7{[_0x3f1d19(0x39c)];constructor(_0x1a0808){const _0x4cdb9a=_0x3f1d19;this[_0x4cdb9a(0x39c)]={'orderBy':{'key':_0x1a0808,'direction':'asc'}};}static[_0x3f1d19(0x958)](_0xc8e264){const _0x2bf7b9=_0x3f1d19;if('string'!=typeof _0xc8e264||0x0===_0xc8e264[_0x2bf7b9(0x744)])throw new _0x122c6c(_0x26fc1d[_0x2bf7b9(0x68d)],_0x2bf7b9(0x23e));return new _0x390fa7(_0xc8e264);}static[_0x3f1d19(0x286)](_0x49f4d2){const _0x43df24=_0x3f1d19;try{return _0x390fa7[_0x43df24(0x9eb)](_0x49f4d2),!0x0;}catch(_0xaeb2a9){return!0x1;}}static[_0x3f1d19(0x9eb)](_0x354555){const _0x219726=_0x3f1d19,_0x3b7b45=_0x390fa7[_0x219726(0x958)](_0x354555[_0x219726(0x93a)]?.['key']??_0x354555[_0x219726(0x2ec)]?.[_0x219726(0x21f)]??'');if(_0x354555[_0x219726(0x2ec)]){const _0x55bf79=_0x354555[_0x219726(0x2ec)];if((_0x390fa7[_0x219726(0x208)](_0x55bf79)||_0x390fa7[_0x219726(0xaab)](_0x55bf79)||_0x390fa7[_0x219726(0x9a7)](_0x55bf79))&&_0x3b7b45['where'](_0x55bf79[_0x219726(0x94a)],_0x55bf79[_0x219726(0x225)]),_0x354555[_0x219726(0x93a)]?.[_0x219726(0x21f)]&&_0x354555[_0x219726(0x93a)]?.[_0x219726(0x21f)]!==_0x354555[_0x219726(0x2ec)]['key'])throw new _0x122c6c(_0x26fc1d[_0x219726(0x68d)],_0x219726(0x6d9));}return _0x354555[_0x219726(0x93a)]&&_0x3b7b45[_0x219726(0x93a)](_0x354555[_0x219726(0x93a)][_0x219726(0x69f)]),_0x354555[_0x219726(0x4b0)]&&_0x3b7b45[_0x219726(0x4b0)](_0x354555[_0x219726(0x4b0)]),_0x354555[_0x219726(0x27c)]&&_0x3b7b45[_0x219726(0x27c)](_0x354555[_0x219726(0x27c)]),_0x3b7b45;}['getQuery'](){const _0x1d40bb=_0x3f1d19;return{...this[_0x1d40bb(0x39c)]};}['where'](_0x3fd1cd,_0x17be8e){const _0x5570d2=_0x3f1d19,_0x12c77b={'key':this[_0x5570d2(0x39c)][_0x5570d2(0x93a)][_0x5570d2(0x21f)],'operator':_0x3fd1cd,'value':_0x17be8e};if(!_0x390fa7[_0x5570d2(0x208)](_0x12c77b)&&!_0x390fa7[_0x5570d2(0xaab)](_0x12c77b)&&!_0x390fa7[_0x5570d2(0x9a7)](_0x12c77b))throw new _0x122c6c(_0x26fc1d[_0x5570d2(0x68d)],'Invalid\x20where\x20clause');return this[_0x5570d2(0x39c)]['where']=_0x12c77b,this;}['orderBy'](_0x230e24){const _0x22c2fe=_0x3f1d19;if(_0x22c2fe(0x5b0)!==_0x230e24&&_0x22c2fe(0xa92)!==_0x230e24)throw new _0x122c6c(_0x26fc1d[_0x22c2fe(0x68d)],_0x22c2fe(0x5a4));return this[_0x22c2fe(0x39c)][_0x22c2fe(0x93a)][_0x22c2fe(0x69f)]=_0x230e24,this;}['limit'](_0x290558){const _0x32fa76=_0x3f1d19;if(_0x32fa76(0x2ff)!=typeof _0x290558||_0x290558<0x0)throw new _0x122c6c(_0x26fc1d[_0x32fa76(0x68d)],_0x32fa76(0x641));return this[_0x32fa76(0x39c)][_0x32fa76(0x4b0)]=_0x290558,this;}[_0x3f1d19(0x27c)](_0x118d9a){const _0xcd49c8=_0x3f1d19;if(_0xcd49c8(0x2ff)!=typeof _0x118d9a||_0x118d9a<0x0)throw new _0x122c6c(_0x26fc1d['QueryBuilderInvalidArgument'],_0xcd49c8(0x7c4));return this[_0xcd49c8(0x39c)][_0xcd49c8(0x27c)]=_0x118d9a,this;}static[_0x3f1d19(0x208)](_0x1ef272){const _0x2b24ce=_0x3f1d19;if(!(_0x1ef272&&_0x2b24ce(0x725)==typeof _0x1ef272&&_0x2b24ce(0x94a)in _0x1ef272&&_0x2b24ce(0x225)in _0x1ef272))return!0x1;const {operator:_0x450666,value:_0x1ce386}=_0x1ef272;return!(!['==','!=','>','<','<=','>='][_0x2b24ce(0xb4d)](_0x450666)||Array[_0x2b24ce(0x878)](_0x1ce386));}static[_0x3f1d19(0xaab)](_0x1ba096){const _0xf6292e=_0x3f1d19;if(!(_0x1ba096&&_0xf6292e(0x725)==typeof _0x1ba096&&'operator'in _0x1ba096&&_0xf6292e(0x225)in _0x1ba096))return!0x1;const {operator:_0x4dfe3b,value:_0x23eb4c}=_0x1ba096;return!(!['in',_0xf6292e(0x292)]['includes'](_0x4dfe3b)||!Array['isArray'](_0x23eb4c));}static[_0x3f1d19(0x9a7)](_0x52c4c1){const _0x47289c=_0x3f1d19;if(!(_0x52c4c1&&_0x47289c(0x725)==typeof _0x52c4c1&&_0x47289c(0x94a)in _0x52c4c1&&'value'in _0x52c4c1))return!0x1;const {operator:_0x3a6f76,value:_0x3e1c1b}=_0x52c4c1;return!(_0x47289c(0x5fe)!==_0x3a6f76||!Array[_0x47289c(0x878)](_0x3e1c1b)||0x2!==_0x3e1c1b[_0x47289c(0x744)]);}}class _0xba501e{[_0x3f1d19(0x188)];constructor(_0x162545){const _0xb5ea56=_0x3f1d19;this[_0xb5ea56(0x188)]={'tables':{},'version':_0x162545};}static[_0x3f1d19(0x40d)](_0x42c16c){const _0x556094=_0x3f1d19;for(const _0x3e55db in _0x42c16c){if(_0x556094(0xab6)!==_0x3e55db&&_0x556094(0xa7c)!==_0x3e55db)return[!0x1,'Invalid\x20key\x20\x27'+_0x3e55db+_0x556094(0x15f)];if(_0x556094(0xa7c)===_0x3e55db)for(const _0x407d0a in _0x42c16c[_0x556094(0xa7c)]){if(_0x556094(0x618)!=typeof _0x407d0a)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x407d0a+'\x27'];for(const _0x39775c in _0x42c16c[_0x556094(0xa7c)][_0x407d0a]){if('indexes'!==_0x39775c)return[!0x1,_0x556094(0x882)+_0x39775c+'\x27\x20in\x20table\x20\x27'+_0x407d0a+'\x27'];const _0x3de023=_0x42c16c[_0x556094(0xa7c)][_0x407d0a][_0x39775c]??[];for(const _0x16a4b9 of _0x3de023)if(void 0x0===_0x16a4b9[_0x556094(0xacc)]||_0x556094(0x618)!=typeof _0x16a4b9[_0x556094(0xacc)])return[!0x1,_0x556094(0x1dc)+_0x407d0a+_0x556094(0x5bb)];}}else{if('version'===_0x3e55db&&_0x556094(0x2ff)!=typeof _0x42c16c[_0x3e55db])return[!0x1,_0x556094(0x3fb)+_0x42c16c[_0x3e55db]+_0x556094(0x3c4)];}}return[!0x0,_0x556094(0x64d)];}static[_0x3f1d19(0x188)](_0x1523b2){const _0x567374=_0x3f1d19,_0x85095e=new _0xba501e(_0x1523b2);return _0x85095e[_0x567374(0x188)][_0x567374(0xab6)]=_0x1523b2,_0x85095e;}['table'](_0x11129c){const _0x1c7656=_0x3f1d19;return this[_0x1c7656(0x188)][_0x1c7656(0xa7c)][_0x11129c]={},new _0x110db3(this[_0x1c7656(0x188)]['tables'][_0x11129c]);}['getLayout'](){const _0x214e2d=_0x3f1d19;return this[_0x214e2d(0x188)];}}class _0x110db3{[_0x3f1d19(0x26e)];constructor(_0x5a237c){this['tableLayout']=_0x5a237c;}['index'](_0xf4429a){const _0xa4b18c=_0x3f1d19;return this[_0xa4b18c(0x26e)][_0xa4b18c(0x3d4)]=this[_0xa4b18c(0x26e)][_0xa4b18c(0x3d4)]??[],this['tableLayout'][_0xa4b18c(0x3d4)][_0xa4b18c(0x24b)]({'keyPath':_0xf4429a}),this;}}const _0x5e718e=0x40000,_0x4fe217=0x20000,_0x51ac76=0x1388,_0x18b8da=_0x3f1d19(0x3b7),_0x599228=_0x3f1d19(0xaf0),_0x25c13='.crewdle-transactions',_0x365564=_0x3f1d19(0x4c3),_0x52047b=0xdbba0,_0x55036d=0x61a8,_0x56bdb9=_0x3f1d19(0x558);var _0x58ba3f;!function(_0x13e880){const _0x466b43=_0x3f1d19;_0x13e880[_0x466b43(0xa31)]=_0x466b43(0x4b9),_0x13e880['ConnectionNotConnected']='connection-not-connected',_0x13e880[_0x466b43(0x740)]='connection-no-retry-queue',_0x13e880['ConnectionInvalidDataEvent']='connection-invalid-data-event',_0x13e880[_0x466b43(0x7b5)]='data-collection-does-not-exist',_0x13e880[_0x466b43(0x529)]=_0x466b43(0x919),_0x13e880[_0x466b43(0x6f7)]=_0x466b43(0xad0),_0x13e880['GenerativeAIContextJobAlreadyConsumed']=_0x466b43(0x21c),_0x13e880[_0x466b43(0x927)]='generative-ai-context-job-failed',_0x13e880[_0x466b43(0x7bb)]=_0x466b43(0x60d),_0x13e880['GenerativeAIWorkerCreationFailed']=_0x466b43(0x5e7),_0x13e880[_0x466b43(0x172)]=_0x466b43(0x910),_0x13e880[_0x466b43(0x1cb)]=_0x466b43(0x20e),_0x13e880[_0x466b43(0x841)]='invalid-publisher',_0x13e880[_0x466b43(0x9b5)]=_0x466b43(0x536),_0x13e880[_0x466b43(0x46f)]=_0x466b43(0x800),_0x13e880['JobDispatcherCreationFailed']=_0x466b43(0x512),_0x13e880[_0x466b43(0x858)]=_0x466b43(0x623),_0x13e880[_0x466b43(0x918)]=_0x466b43(0x191),_0x13e880[_0x466b43(0x83c)]=_0x466b43(0xa6d),_0x13e880[_0x466b43(0x238)]=_0x466b43(0x86f),_0x13e880[_0x466b43(0x390)]=_0x466b43(0x487),_0x13e880[_0x466b43(0x5e8)]=_0x466b43(0x54d),_0x13e880['KeyValueDatabasePeakNotFound']=_0x466b43(0x2c6),_0x13e880['KeyValueDatabaseTableDoesNotExist']=_0x466b43(0x58a),_0x13e880[_0x466b43(0x156)]='key-value-database-transaction-table-not-initialized',_0x13e880[_0x466b43(0x2d2)]='key-value-database-transaction-value-not-set',_0x13e880['LocalMediaStreamDoesNotExist']=_0x466b43(0x8de),_0x13e880[_0x466b43(0x5b3)]=_0x466b43(0x5c8),_0x13e880[_0x466b43(0xae4)]='missing-system-topic',_0x13e880[_0x466b43(0x996)]='mistlet-capacity-report-not-set',_0x13e880['ObjectStoreCannotWriteTransaction']=_0x466b43(0x697),_0x13e880['ObjectStoreInvalidState']=_0x466b43(0x637),_0x13e880[_0x466b43(0x5db)]=_0x466b43(0x7dd),_0x13e880[_0x466b43(0x32b)]=_0x466b43(0xae6),_0x13e880['OutgoingMediaStreamNoTopic']=_0x466b43(0x37d),_0x13e880[_0x466b43(0xadb)]=_0x466b43(0x185),_0x13e880['RemoteMediaStreamMissingProviderId']=_0x466b43(0x758),_0x13e880[_0x466b43(0x929)]=_0x466b43(0x6bb),_0x13e880[_0x466b43(0x5f4)]='subscription-request-does-not-exist',_0x13e880[_0x466b43(0x18c)]=_0x466b43(0xaa8),_0x13e880['SubscriptionRequestNoAnswer']=_0x466b43(0xaac),_0x13e880[_0x466b43(0x5de)]=_0x466b43(0x9b7),_0x13e880[_0x466b43(0x344)]=_0x466b43(0xa54),_0x13e880[_0x466b43(0x812)]='peer-connection-invalid-destination',_0x13e880[_0x466b43(0x444)]=_0x466b43(0x70d),_0x13e880[_0x466b43(0x252)]='workflow-does-not-exist',_0x13e880[_0x466b43(0x34f)]=_0x466b43(0x99a);}(_0x58ba3f||(_0x58ba3f={}));const _0x48cb7a=new Map([[_0x58ba3f[_0x3f1d19(0xa31)],_0x3f1d19(0x48f)],[_0x58ba3f['ConnectionNotConnected'],_0x3f1d19(0x856)],[_0x58ba3f[_0x3f1d19(0x740)],_0x3f1d19(0x734)],[_0x58ba3f[_0x3f1d19(0x549)],_0x3f1d19(0x950)],[_0x58ba3f[_0x3f1d19(0x7b5)],_0x3f1d19(0x60a)],[_0x58ba3f[_0x3f1d19(0x529)],_0x3f1d19(0x967)],[_0x58ba3f['GenerativeAIContextInvalidPartialResult'],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x58ba3f[_0x3f1d19(0x877)],_0x3f1d19(0x711)],[_0x58ba3f[_0x3f1d19(0x927)],_0x3f1d19(0x96c)],[_0x58ba3f[_0x3f1d19(0x7bb)],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x58ba3f[_0x3f1d19(0x5cf)],'AI\x20worker\x20creation\x20failed.'],[_0x58ba3f[_0x3f1d19(0x172)],_0x3f1d19(0xa5b)],[_0x58ba3f[_0x3f1d19(0x1cb)],_0x3f1d19(0x54b)],[_0x58ba3f['InvalidPublisher'],_0x3f1d19(0x393)],[_0x58ba3f[_0x3f1d19(0x9b5)],_0x3f1d19(0x666)],[_0x58ba3f[_0x3f1d19(0x46f)],_0x3f1d19(0x622)],[_0x58ba3f[_0x3f1d19(0x16e)],_0x3f1d19(0x4fd)],[_0x58ba3f[_0x3f1d19(0x858)],_0x3f1d19(0x9f0)],[_0x58ba3f[_0x3f1d19(0x918)],_0x3f1d19(0x5cd)],[_0x58ba3f[_0x3f1d19(0x83c)],'Job\x20service\x20observer\x20not\x20found.'],[_0x58ba3f[_0x3f1d19(0x238)],_0x3f1d19(0x78f)],[_0x58ba3f[_0x3f1d19(0x390)],_0x3f1d19(0x7d0)],[_0x58ba3f['KeyValueDatabaseCreationFailed'],_0x3f1d19(0x951)],[_0x58ba3f[_0x3f1d19(0x566)],_0x3f1d19(0x6ed)],[_0x58ba3f[_0x3f1d19(0x785)],_0x3f1d19(0x97d)],[_0x58ba3f[_0x3f1d19(0x156)],_0x3f1d19(0x218)],[_0x58ba3f['KeyValueDatabaseTransactionValueNotSet'],_0x3f1d19(0x3f9)],[_0x58ba3f[_0x3f1d19(0x357)],_0x3f1d19(0x82c)],[_0x58ba3f[_0x3f1d19(0x5b3)],_0x3f1d19(0x425)],[_0x58ba3f[_0x3f1d19(0xae4)],_0x3f1d19(0x327)],[_0x58ba3f[_0x3f1d19(0x996)],_0x3f1d19(0xb6c)],[_0x58ba3f[_0x3f1d19(0x700)],_0x3f1d19(0x4fe)],[_0x58ba3f[_0x3f1d19(0x5db)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x58ba3f[_0x3f1d19(0x174)],_0x3f1d19(0x8a4)],[_0x58ba3f['ObjectStoreNotSynced'],_0x3f1d19(0x511)],[_0x58ba3f['OutgoingMediaStreamNoTopic'],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x58ba3f[_0x3f1d19(0xadb)],_0x3f1d19(0x9cb)],[_0x58ba3f[_0x3f1d19(0x4d0)],_0x3f1d19(0x7b1)],[_0x58ba3f['RemoteConnectionExists'],'Remote\x20connection\x20already\x20exists.'],[_0x58ba3f['SubscriptionRequestDoesNotExist'],_0x3f1d19(0x8c4)],[_0x58ba3f[_0x3f1d19(0x18c)],'Subscription\x20request\x20failed.'],[_0x58ba3f[_0x3f1d19(0x134)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x58ba3f[_0x3f1d19(0x5de)],'Node\x20does\x20not\x20exist.'],[_0x58ba3f[_0x3f1d19(0x344)],_0x3f1d19(0x22b)],[_0x58ba3f['PeerConnectionInvalidDestination'],_0x3f1d19(0x91d)],[_0x58ba3f[_0x3f1d19(0x444)],_0x3f1d19(0x56c)],[_0x58ba3f[_0x3f1d19(0x252)],_0x3f1d19(0x92a)],[_0x58ba3f[_0x3f1d19(0x34f)],'Invalid\x20workflow\x20block\x20type.']]);class _0x5c1da3 extends Error{[_0x3f1d19(0x380)];static [_0x3f1d19(0x91b)]=_0x58ba3f;[_0x3f1d19(0xa34)];constructor(_0x597aaa,_0x5299c0){const _0x1d9d61=_0x3f1d19;super('Internal\x20SDK\x20Error:\x20'+_0x597aaa+':\x20'+_0x48cb7a[_0x1d9d61(0x459)](_0x597aaa)+'\x0aAdditional\x20data:\x20'+JSON[_0x1d9d61(0x300)](_0x5299c0)),this[_0x1d9d61(0x380)]=_0x597aaa,this[_0x1d9d61(0xa34)]=_0x5299c0||{};}}var _0x65c889,_0x1fa564,_0x41ddae,_0x4d873a,_0x13a22d,_0x2fe16c,_0x21fe4c;!function(_0x48a92b){const _0x4c4cba=_0x3f1d19;_0x48a92b[_0x48a92b['CloseGraphDatabase']=0x0]=_0x4c4cba(0x5bc),_0x48a92b[_0x48a92b[_0x4c4cba(0x2c4)]=0x1]=_0x4c4cba(0x2c4),_0x48a92b[_0x48a92b[_0x4c4cba(0x27f)]=0x2]=_0x4c4cba(0x27f),_0x48a92b[_0x48a92b['CloseExternalStorageConnection']=0x3]=_0x4c4cba(0x61b),_0x48a92b[_0x48a92b[_0x4c4cba(0x5ff)]=0x4]=_0x4c4cba(0x5ff),_0x48a92b[_0x48a92b['CloseMediaStream']=0x5]=_0x4c4cba(0x1f7),_0x48a92b[_0x48a92b['CloseObjectStoreBucket']=0x6]=_0x4c4cba(0x1e2),_0x48a92b[_0x48a92b[_0x4c4cba(0x985)]=0x7]=_0x4c4cba(0x985),_0x48a92b[_0x48a92b[_0x4c4cba(0x8c7)]=0x8]=_0x4c4cba(0x8c7),_0x48a92b[_0x48a92b[_0x4c4cba(0x999)]=0x9]=_0x4c4cba(0x999),_0x48a92b[_0x48a92b[_0x4c4cba(0x7a1)]=0xa]=_0x4c4cba(0x7a1),_0x48a92b[_0x48a92b[_0x4c4cba(0x58f)]=0xb]=_0x4c4cba(0x58f),_0x48a92b[_0x48a92b[_0x4c4cba(0x563)]=0xc]=_0x4c4cba(0x563),_0x48a92b[_0x48a92b[_0x4c4cba(0xa99)]=0xd]=_0x4c4cba(0xa99),_0x48a92b[_0x48a92b[_0x4c4cba(0x30a)]=0xe]='KeyValueDatabaseContentAvailable',_0x48a92b[_0x48a92b['KeyValueDatabaseContentSynchronized']=0xf]='KeyValueDatabaseContentSynchronized',_0x48a92b[_0x48a92b['KeyValueDatabaseRequestPeakTransactions']=0x10]=_0x4c4cba(0x2e1),_0x48a92b[_0x48a92b[_0x4c4cba(0x154)]=0x11]=_0x4c4cba(0x154),_0x48a92b[_0x48a92b['KeyValueDatabaseSendTransactions']=0x12]=_0x4c4cba(0x453),_0x48a92b[_0x48a92b[_0x4c4cba(0x227)]=0x13]=_0x4c4cba(0x227),_0x48a92b[_0x48a92b['KeyValueDatabaseSyncRequired']=0x14]=_0x4c4cba(0x8db),_0x48a92b[_0x48a92b[_0x4c4cba(0x481)]=0x15]='LocalMediaStreamTrackFail',_0x48a92b[_0x48a92b['ObjectStoreStats']=0x16]=_0x4c4cba(0x5f1),_0x48a92b[_0x48a92b['PubSubTopicStats']=0x17]=_0x4c4cba(0x250),_0x48a92b[_0x48a92b['PublishMediaStream']=0x18]=_0x4c4cba(0x5ad),_0x48a92b[_0x48a92b[_0x4c4cba(0xa35)]=0x19]=_0x4c4cba(0xa35),_0x48a92b[_0x48a92b[_0x4c4cba(0x746)]=0x1a]='SubscribeMediaStream',_0x48a92b[_0x48a92b[_0x4c4cba(0x869)]=0x1b]=_0x4c4cba(0x869),_0x48a92b[_0x48a92b['UnsubscribeMediaStream']=0x1c]=_0x4c4cba(0xa11),_0x48a92b[_0x48a92b['UpdateMediaStream']=0x1d]='UpdateMediaStream',_0x48a92b[_0x48a92b[_0x4c4cba(0x3fe)]=0x1e]=_0x4c4cba(0x3fe);}(_0x65c889||(_0x65c889={})),function(_0x3533cb){const _0x372c25=_0x3f1d19;_0x3533cb[_0x372c25(0x47f)]=_0x372c25(0x61e),_0x3533cb['FolderCreate']=_0x372c25(0x1ec),_0x3533cb[_0x372c25(0x80f)]=_0x372c25(0x233),_0x3533cb[_0x372c25(0x68a)]=_0x372c25(0x813),_0x3533cb[_0x372c25(0x583)]=_0x372c25(0x4a9),_0x3533cb['RequestAccepted']=_0x372c25(0x672),_0x3533cb['RequestFileSync']=_0x372c25(0x38c),_0x3533cb[_0x372c25(0xa0a)]=_0x372c25(0x8a0);}(_0x1fa564||(_0x1fa564={})),function(_0x2d86c4){const _0xd07ad=_0x3f1d19;_0x2d86c4[_0xd07ad(0x63a)]=_0xd07ad(0x7f5),_0x2d86c4[_0xd07ad(0x90b)]=_0xd07ad(0xa98);}(_0x41ddae||(_0x41ddae={})),function(_0x52daf4){const _0x15b31e=_0x3f1d19;_0x52daf4['Add']='add',_0x52daf4['Update']=_0x15b31e(0x8f8),_0x52daf4[_0x15b31e(0x80f)]=_0x15b31e(0x233);}(_0x4d873a||(_0x4d873a={})),function(_0x207e1e){const _0x3c2116=_0x3f1d19;_0x207e1e[_0x3c2116(0x2ca)]=_0x3c2116(0x459),_0x207e1e[_0x3c2116(0xb0d)]=_0x3c2116(0x6c8),_0x207e1e[_0x3c2116(0x41d)]=_0x3c2116(0x8ce);}(_0x13a22d||(_0x13a22d={})),function(_0x50e1e4){const _0xaf1057=_0x3f1d19;_0x50e1e4[_0x50e1e4[_0xaf1057(0x63a)]=0x0]='Request',_0x50e1e4[_0x50e1e4['Bid']=0x1]=_0xaf1057(0x42f),_0x50e1e4[_0x50e1e4[_0xaf1057(0x1fb)]=0x2]=_0xaf1057(0x1fb),_0x50e1e4[_0x50e1e4[_0xaf1057(0x1aa)]=0x3]=_0xaf1057(0x1aa),_0x50e1e4[_0x50e1e4[_0xaf1057(0x314)]=0x4]=_0xaf1057(0x314),_0x50e1e4[_0x50e1e4[_0xaf1057(0xa23)]=0x5]=_0xaf1057(0xa23);}(_0x2fe16c||(_0x2fe16c={})),function(_0x44d4ad){const _0x2440da=_0x3f1d19;_0x44d4ad[_0x44d4ad[_0x2440da(0xab3)]=0x0]=_0x2440da(0xab3),_0x44d4ad[_0x44d4ad[_0x2440da(0x4a6)]=0x1]=_0x2440da(0x4a6),_0x44d4ad[_0x44d4ad[_0x2440da(0x442)]=0x2]=_0x2440da(0x442),_0x44d4ad[_0x44d4ad[_0x2440da(0x4b1)]=0x3]=_0x2440da(0x4b1),_0x44d4ad[_0x44d4ad['Stats']=0x4]=_0x2440da(0x75d),_0x44d4ad[_0x44d4ad[_0x2440da(0xb62)]=0x5]='Detection',_0x44d4ad[_0x44d4ad['Remediation']=0x6]='Remediation';}(_0x21fe4c||(_0x21fe4c={}));class _0x51f755{['owner'];[_0x3f1d19(0x792)];[_0x3f1d19(0x8f2)];constructor(_0x127a9d,_0xc1f154){const _0x55124f=_0x3f1d19;this[_0x55124f(0x668)]=_0x127a9d,this[_0x55124f(0x792)]=_0xc1f154;}[_0x3f1d19(0x897)](){const _0xbe58bf=_0x3f1d19;return this[_0xbe58bf(0x792)];}[_0x3f1d19(0xb5e)](){const _0x56ccb4=_0x3f1d19;return this[_0x56ccb4(0x668)][_0x56ccb4(0x7be)]();}[_0x3f1d19(0x31c)](){}[_0x3f1d19(0x819)](_0x48c3fe){const _0x3db1f6=_0x3f1d19;this[_0x3db1f6(0x8f2)]=_0x48c3fe;}[_0x3f1d19(0x8ad)](){const _0x2fd912=_0x3f1d19;delete this[_0x2fd912(0x8f2)];}}const _0x46e89c=require('firebase/firestore');let _0xc29369=_0x2aea5c(0x14d)['O'];function _0x470843(_0x28d951){const _0x45a5bb=_0x3f1d19;return!(!_0x28d951||_0x45a5bb(0x725)!=typeof _0x28d951||Array[_0x45a5bb(0x878)](_0x28d951));}_0xc29369=function _0x3064c8(_0x38a1d6,..._0x2cc6c0){const _0xeef5cb=_0x3f1d19;if(!Array[_0xeef5cb(0x878)](_0x2cc6c0)||0x0===_0x2cc6c0[_0xeef5cb(0x744)])return _0x38a1d6;const _0x5ae3a0=_0x2cc6c0[_0xeef5cb(0x825)]();if(_0x470843(_0x38a1d6)&&_0x470843(_0x5ae3a0)){for(const _0x52ef13 in _0x5ae3a0)_0x470843(_0x5ae3a0[_0x52ef13])?(_0x38a1d6[_0x52ef13]||Object['assign'](_0x38a1d6,{[_0x52ef13]:{}}),_0x3064c8(_0x38a1d6[_0x52ef13],_0x5ae3a0[_0x52ef13])):Object['assign'](_0x38a1d6,{[_0x52ef13]:_0x5ae3a0[_0x52ef13]});}return _0x3064c8(_0x38a1d6,..._0x2cc6c0);}(_0xc29369,_0x2aea5c(0x3e6)['O']);const _0x3af887=_0xc29369,_0x7ef749=require('firebase/app'),_0x149de1=require('firebase/auth'),_0x16c786=require('firebase/database'),_0x2ac1a7=require('firebase/functions'),_0x54796e=require('uuid'),_0x402233=_0x3f1d19(0x766);class _0x5f2c0a{static [_0x3f1d19(0x2d7)];[_0x3f1d19(0x35e)];[_0x3f1d19(0x3ed)];[_0x3f1d19(0x38b)];['database'];['firestore'];[_0x3f1d19(0x280)];[_0x3f1d19(0x5a0)];constructor(){this['getApp']();}static['getInstance'](){const _0x2fe77e=_0x3f1d19;return _0x5f2c0a[_0x2fe77e(0x2d7)]||(_0x5f2c0a[_0x2fe77e(0x2d7)]=new _0x5f2c0a()),_0x5f2c0a['instance'];}['getApp'](){const _0x3138d8=_0x3f1d19;if(!this['app']){let _0x36e176=_0x402233;_0x3138d8(0xa96)!=typeof window&&(_0x36e176=_0x402233+'-'+(0x0,_0x54796e['v4'])()),this['app']=(0x0,_0x7ef749[_0x3138d8(0x215)])(_0x3af887[_0x3138d8(0xa52)],''+_0x36e176);}return this['app'];}[_0x3f1d19(0xac5)](){const _0xb62b9d=_0x3f1d19;return this[_0xb62b9d(0x3ed)]||(this[_0xb62b9d(0x3ed)]=(0x0,_0x149de1['getAuth'])(this[_0xb62b9d(0x601)]())),this[_0xb62b9d(0x3ed)];}[_0x3f1d19(0xb0a)](){const _0x2230ad=_0x3f1d19;return this[_0x2230ad(0x38b)]||(this[_0x2230ad(0x38b)]=(0x0,_0x2ac1a7[_0x2230ad(0xb0a)])(this[_0x2230ad(0x601)](),_0x3af887['firebaseConfig'][_0x2230ad(0x9c8)])),this[_0x2230ad(0x38b)];}[_0x3f1d19(0x2d3)](){const _0x54c4ed=_0x3f1d19;return this['database']||(this[_0x54c4ed(0x2cf)]=(0x0,_0x16c786[_0x54c4ed(0x2d3)])(this[_0x54c4ed(0x601)]())),this[_0x54c4ed(0x2cf)];}[_0x3f1d19(0x914)](){const _0x533591=_0x3f1d19;return this[_0x533591(0x72e)]||(this[_0x533591(0x72e)]=(0x0,_0x46e89c[_0x533591(0x914)])(this['getApp']())),this['firestore'];}async[_0x3f1d19(0x472)](){const _0x2193c5=_0x3f1d19;if(this[_0x2193c5(0x280)]&&this['lastClockUpdate']&&Date[_0x2193c5(0x64c)]()-this[_0x2193c5(0x5a0)]<0x493e0)return Date[_0x2193c5(0x64c)]()+this[_0x2193c5(0x280)];const _0x2a1385=this[_0x2193c5(0x2d3)](),_0x229531=(0x0,_0x16c786[_0x2193c5(0xb46)])(_0x2a1385,_0x2193c5(0xa9c));return new Promise(_0x13f6ee=>{const _0x3019bc=_0x2193c5;(0x0,_0x16c786[_0x3019bc(0x4df)])(_0x229531,_0x3730bf=>{const _0x51a32a=_0x3019bc;(0x0,_0x16c786[_0x51a32a(0xa6a)])(_0x229531),this[_0x51a32a(0x280)]=_0x3730bf[_0x51a32a(0x3dc)](),this[_0x51a32a(0x5a0)]=Date[_0x51a32a(0x64c)](),_0x13f6ee(Date[_0x51a32a(0x64c)]()+(this[_0x51a32a(0x280)]??0x0));});});}}const _0x25e54d=_0x5f2c0a[_0x3f1d19(0x508)]();class _0x319081{static [_0x3f1d19(0x2d7)];[_0x3f1d19(0x20c)]=[_0x419b0a[_0x3f1d19(0x2ed)]];[_0x3f1d19(0x66b)]=!0x1;[_0x3f1d19(0x24f)];[_0x3f1d19(0x3db)]='';[_0x3f1d19(0x2fe)];[_0x3f1d19(0x8bd)]=[];[_0x3f1d19(0x490)];[_0x3f1d19(0x7a0)];['retryLimit']=0xa;[_0x3f1d19(0xb70)]=0x1f4;['batchSize']=0x1c2;[_0x3f1d19(0x814)]=0x3e8;constructor(){const _0x58cc58=_0x3f1d19;if('undefined'!=typeof window)this['globalObject']=window;else{if(void 0x0===_0x2aea5c['g'])throw new Error(_0x58cc58(0x5d7));this[_0x58cc58(0x2fe)]=_0x2aea5c['g'];}this['loadEnabledChannels'](),this['globalObject'][_0x58cc58(0x43c)]=_0x29d906=>{const _0x3d45f7=_0x58cc58;if(_0x29d906===_0x419b0a[_0x3d45f7(0x195)])return this[_0x3d45f7(0x20c)]=Object['keys'](_0x419b0a)['map'](_0x4a0a62=>_0x419b0a[_0x4a0a62]),void Object[_0x3d45f7(0xa30)](_0x419b0a)['forEach'](_0x464449=>{const _0x18cc27=_0x3d45f7,_0x49174c=_0x464449;localStorage[_0x18cc27(0x925)](_0x18cc27(0x76a)+_0x419b0a[_0x49174c],'true');});this[_0x3d45f7(0x20c)]['includes'](_0x29d906)||(this[_0x3d45f7(0x20c)]['push'](_0x29d906),localStorage[_0x3d45f7(0x925)](_0x3d45f7(0x76a)+_0x29d906,_0x3d45f7(0x433)));},this['globalObject'][_0x58cc58(0x3e0)]=_0x5b0c19=>{const _0x876c4e=_0x58cc58;if(!_0x5b0c19||_0x5b0c19===_0x419b0a[_0x876c4e(0x195)])return this[_0x876c4e(0x20c)]=[],void Object[_0x876c4e(0xa30)](_0x419b0a)[_0x876c4e(0xa0d)](_0xbb1643=>{const _0x532d17=_0x876c4e,_0x34cfef=_0xbb1643;localStorage[_0x532d17(0x70f)]('crewdle-sdk-logging-'+_0x419b0a[_0x34cfef]);});this['enabledChannels'][_0x876c4e(0xb4d)](_0x5b0c19)&&(this[_0x876c4e(0x20c)]=this['enabledChannels'][_0x876c4e(0x1e0)](_0x1282c1=>_0x1282c1!==_0x5b0c19),localStorage[_0x876c4e(0x70f)](_0x876c4e(0x76a)+_0x5b0c19));},this['globalObject'][_0x58cc58(0x632)]=_0x419b0a;}static[_0x3f1d19(0x508)](){const _0x55d677=_0x3f1d19;try{return _0x319081[_0x55d677(0x2d7)]||(_0x319081[_0x55d677(0x2d7)]=new _0x319081()),_0x319081['instance'];}catch(_0x5228c9){return console[_0x55d677(0x9e0)](_0x55d677(0x85f),_0x5228c9),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x3f1d19(0x38d)](_0x12a24a){const _0x8bb67a=_0x3f1d19;this['vendorId']=_0x12a24a,this['batchQueue']=[],this[_0x8bb67a(0x490)]=this['createNewBatch'](),this[_0x8bb67a(0x7a0)]&&(clearTimeout(this[_0x8bb67a(0x7a0)]),this[_0x8bb67a(0x7a0)]=void 0x0);}[_0x3f1d19(0x21e)](_0x530891){const _0x2cdd0a=_0x3f1d19;this[_0x2cdd0a(0x24f)]=_0x530891;}[_0x3f1d19(0x9d4)](_0x37ec82,..._0x1afcb3){const _0x5ba966=_0x3f1d19;this[_0x5ba966(0x66b)]&&this[_0x5ba966(0x279)](_0x419b0a[_0x5ba966(0x2ed)],'DEBUG\x20-\x20'+_0x37ec82,..._0x1afcb3);}[_0x3f1d19(0x313)](_0x4ab490,..._0x586cb9){const _0x43f761=_0x3f1d19;console[_0x43f761(0x279)](_0x4ab490,..._0x586cb9),this[_0x43f761(0x24f)]&&this[_0x43f761(0x24f)][_0x43f761(0xa0d)](_0x2e9c9f=>{const _0x301953=_0x43f761;_0x2e9c9f[_0x301953(0x279)](_0x4ab490,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{..._0x586cb9}});});}[_0x3f1d19(0x279)](_0x4c248a,_0x106437,..._0x507660){const _0x5f4ebf=_0x3f1d19;_0x3af887['isProduction']||(this[_0x5f4ebf(0x20c)][_0x5f4ebf(0xb4d)](_0x4c248a)&&console[_0x5f4ebf(0x279)](_0x5f4ebf(0xb11)+_0x4c248a+'\x27\x0a',new Date()+'\x0a',_0x106437,..._0x507660),this[_0x5f4ebf(0x24f)]&&this['loggingConnectors'][_0x5f4ebf(0xa0d)](_0x1a864c=>{const _0x3f2afe=_0x5f4ebf;this['isInternalLoggingConnector'](_0x1a864c)&&_0x1a864c[_0x3f2afe(0x76d)]()[_0x3f2afe(0xb4d)](_0x4c248a)&&_0x1a864c[_0x3f2afe(0x279)](_0x106437,{'vendorId':this[_0x3f2afe(0x3db)],'nodeId':'','nodeType':'','data':{'channel':_0x4c248a,..._0x507660}});}));}['logRaw'](_0x3ff3e1,_0x56ddee,..._0x10a5fd){const _0x38289b=_0x3f1d19;_0x3af887[_0x38289b(0xb4a)]||(this[_0x38289b(0x20c)]['includes'](_0x3ff3e1)&&console['log'](_0x56ddee,..._0x10a5fd),this[_0x38289b(0x24f)]&&this[_0x38289b(0x24f)][_0x38289b(0xa0d)](_0x3fed3c=>{const _0x1eb191=_0x38289b;this[_0x1eb191(0x5eb)](_0x3fed3c)&&_0x3fed3c[_0x1eb191(0x76d)]()[_0x1eb191(0xb4d)](_0x3ff3e1)&&_0x3fed3c[_0x1eb191(0x279)](_0x56ddee,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x3ff3e1,..._0x10a5fd}});}));}['logEvent'](_0x20ea23,_0x54f4ae){const _0x8361d9=_0x3f1d19;if(!this[_0x8361d9(0x24f)])return;const _0xc16eca={'vendorId':this[_0x8361d9(0x3db)],..._0x54f4ae};this[_0x8361d9(0x24f)][_0x8361d9(0xa0d)](_0x3b8457=>{const _0x11e843=_0x8361d9;_0x3b8457[_0x11e843(0x279)](_0x20ea23,_0xc16eca);});}[_0x3f1d19(0x5f3)](_0x994ae5,_0x193fea){const _0x12880b=_0x3f1d19;this[_0x12880b(0xb4e)](_0x994ae5,_0x193fea),this['logBatch']();}[_0x3f1d19(0x96d)](_0x1d2e6c,_0x57da0d,_0x3e4684){const _0x58bfd8=_0x3f1d19;(0x0,_0x46e89c[_0x58bfd8(0x6b5)])((0x0,_0x46e89c[_0x58bfd8(0xb4b)])(_0x25e54d[_0x58bfd8(0x914)](),_0x58bfd8(0x359)+this[_0x58bfd8(0x3db)]+'/'+_0x1d2e6c+'/'+_0x57da0d),{'storage':_0x3e4684,'timestamp':(0x0,_0x46e89c['serverTimestamp'])()});}[_0x3f1d19(0x6c4)](){const _0xdb5569=_0x3f1d19;this['currentBatch']&&(this[_0xdb5569(0x490)][_0xdb5569(0x6c6)]+=0x1,this['currentBatch']['counter']===this[_0xdb5569(0x2ea)]?this[_0xdb5569(0x7c3)]():this[_0xdb5569(0x7a0)]||(this['batchTimeout']=this['globalObject'][_0xdb5569(0x84f)](()=>this[_0xdb5569(0x7c3)](),this['timeoutValue'])));}async[_0x3f1d19(0x7c3)](){const _0x3851d7=_0x3f1d19;if(this['currentBatch']){for(this[_0x3851d7(0x8bd)]['push'](this['currentBatch']),this[_0x3851d7(0x490)]=this[_0x3851d7(0x621)]();this['batchQueue']['length']>0x0;){const _0x5165ba=this['batchQueue'][_0x3851d7(0x825)]();if(!await this[_0x3851d7(0x76b)](_0x5165ba))break;}clearTimeout(this['batchTimeout']),this[_0x3851d7(0x7a0)]=void 0x0;}}[_0x3f1d19(0x9e0)](_0x3cbd32,_0x49ef21,..._0x16f32e){const _0x4e3b81=_0x3f1d19;if(console['error'](new Date(),_0x3cbd32,_0x49ef21,..._0x16f32e),this[_0x4e3b81(0x24f)]){const _0x18a77d={'vendorId':this['vendorId'],..._0x49ef21};this[_0x4e3b81(0x24f)][_0x4e3b81(0xa0d)](_0x142f17=>{const _0xe868fc=_0x4e3b81;_0x142f17[_0xe868fc(0x9e0)](_0x3cbd32,_0x18a77d);});}}[_0x3f1d19(0x7f4)](_0x70976f,_0x4fea14,..._0x19685d){const _0x218d02=_0x3f1d19;if(console[_0x218d02(0x407)](new Date(),_0x70976f,_0x4fea14,_0x19685d),this[_0x218d02(0x24f)]){const _0x4ad285={'vendorId':this[_0x218d02(0x3db)],..._0x4fea14};this['loggingConnectors'][_0x218d02(0xa0d)](_0x488eb8=>{const _0x30fe51=_0x218d02;_0x488eb8[_0x30fe51(0x407)](_0x70976f,_0x4ad285);});}}['isChannelEnabled'](_0x41fe9b){const _0x5797af=_0x3f1d19;return this[_0x5797af(0x20c)][_0x5797af(0xb4d)](_0x41fe9b);}async[_0x3f1d19(0x76b)](_0x13e82a,_0x242b12=0x0){const _0x10f320=_0x3f1d19;if(_0x13e82a[_0x10f320(0x6c6)]>0x0)try{return await _0x13e82a[_0x10f320(0x8af)][_0x10f320(0x13f)](),!0x0;}catch(_0x5329dc){if(console[_0x10f320(0x9e0)](_0x10f320(0xb19),_0x5329dc,'Operations:',_0x13e82a[_0x10f320(0x3b6)]),!(_0x242b12<this[_0x10f320(0x7ad)])){const {nodeId:_0xd2b962='',nodeType:_0xd87d78='',clusterId:_0x2bd57d=''}=_0x13e82a[_0x10f320(0x3b6)][0x0][_0x10f320(0xa34)],_0x367d6a={'nodeId':_0xd2b962,'nodeType':_0xd87d78,'clusterId':_0x2bd57d,'data':{'operations':_0x13e82a['operations'],'error':_0x5329dc}};return this[_0x10f320(0x9e0)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0x367d6a),!0x1;}{const _0x19551e=this['createBatch'](_0x13e82a[_0x10f320(0x3b6)]);setTimeout(()=>this['commitBatch'](_0x19551e,_0x242b12+0x1),this[_0x10f320(0xb70)]*Math[_0x10f320(0x77c)](0x2,_0x242b12));}}}[_0x3f1d19(0x4c7)](){const _0x3ad30c=_0x3f1d19;try{Object[_0x3ad30c(0xa30)](_0x419b0a)[_0x3ad30c(0xa0d)](_0x3674c3=>{const _0x362d63=_0x3ad30c,_0x1315b5=_0x3674c3;localStorage[_0x362d63(0xa3d)](_0x362d63(0x76a)+_0x419b0a[_0x1315b5])&&(console['log'](_0x362d63(0xaa9),_0x419b0a[_0x1315b5]),this[_0x362d63(0x20c)]['push'](_0x419b0a[_0x1315b5]));});}catch(_0x105a4f){}}['isInternalLoggingConnector'](_0x146575){const _0x154917=_0x3f1d19;return void 0x0!==_0x146575[_0x154917(0x76d)];}[_0x3f1d19(0x621)](){const _0x50b032=_0x3f1d19;return{'batch':(0x0,_0x46e89c[_0x50b032(0x3dd)])(_0x25e54d[_0x50b032(0x914)]()),'operations':[],'counter':0x0};}[_0x3f1d19(0x178)](_0x3c6ea4){const _0x1ad78f=_0x3f1d19,_0x3f2346=(0x0,_0x46e89c['writeBatch'])(_0x25e54d[_0x1ad78f(0x914)]());return _0x3c6ea4[_0x1ad78f(0xa0d)](_0xa61101=>this[_0x1ad78f(0x650)](_0x3f2346,_0xa61101)),{'batch':_0x3f2346,'operations':_0x3c6ea4,'counter':_0x3c6ea4[_0x1ad78f(0x744)]};}[_0x3f1d19(0x650)](_0x184767,_0x2d9862){const _0x5e694c=_0x3f1d19;switch(_0x2d9862[_0x5e694c(0x8c9)]){case _0x5e694c(0xb36):_0x184767[_0x5e694c(0xb36)](_0x2d9862['ref'],_0x2d9862[_0x5e694c(0xa34)]);break;case'update':_0x184767[_0x5e694c(0x8f8)](_0x2d9862[_0x5e694c(0xb46)],_0x2d9862[_0x5e694c(0xa34)]);break;case'delete':_0x184767['delete'](_0x2d9862[_0x5e694c(0xb46)]);}}[_0x3f1d19(0xb4e)](_0x598f47,_0x46cef9){const _0x46c387=_0x3f1d19;this[_0x46c387(0x490)]||(this[_0x46c387(0x490)]=this[_0x46c387(0x621)]());const _0x49c8be=(0x0,_0x46e89c['doc'])((0x0,_0x46e89c[_0x46c387(0x377)])(_0x25e54d[_0x46c387(0x914)](),_0x46c387(0x359)+this[_0x46c387(0x3db)]+_0x46c387(0x423))),_0x59a187={..._0x46cef9,'service':_0x598f47,'timestamp':(0x0,_0x46e89c[_0x46c387(0x708)])()},_0x4414f8={'type':_0x46c387(0xb36),'path':_0x49c8be[_0x46c387(0x1f9)],'ref':_0x49c8be,'data':_0x59a187};return this[_0x46c387(0x490)][_0x46c387(0x3b6)][_0x46c387(0x24b)](_0x4414f8),this['addBatchOperation'](this[_0x46c387(0x490)][_0x46c387(0x8af)],_0x4414f8),_0x49c8be;}}const _0x576b91=_0x319081[_0x3f1d19(0x508)]();function _0x237be2(_0x2543d8,_0x2ef06f){return'/'===_0x2543d8?_0x2543d8+_0x2ef06f:_0x2543d8+'/'+_0x2ef06f;}function _0x16e0b4(_0x4f304f){const _0x2ab7ce=_0x3f1d19,_0x304663=function(_0x5b3456){const _0x20bd36=a0_0x1394;return _0x5b3456[_0x20bd36(0x44f)]('/')[_0x20bd36(0x1e0)](_0x284e1a=>_0x284e1a[_0x20bd36(0x744)]>0x0);}(_0x4f304f),_0x3dd7a9=_0x304663[_0x2ab7ce(0x875)]()||'',_0x240767=_0x304663[_0x2ab7ce(0x4b3)]('/');return[0x0===_0x240767[_0x2ab7ce(0x744)]?'/':_0x240767,_0x3dd7a9];}async function _0x3b5872(_0x45e33e){const _0x40ec60=_0x3f1d19;let _0x56aa68;const _0x165696=_0x45e33e[_0x40ec60(0x277)]/0x100000;_0x56aa68=_0x165696<=0xa?0x1:_0x165696<=0x64?0.5:_0x165696<=0x1f4?0.1:0.05;const _0x9e872f=Math[_0x40ec60(0x815)](_0x45e33e[_0x40ec60(0x277)]/_0x5e718e),_0x4d47da=Math['ceil'](_0x9e872f*_0x56aa68);let _0x13b3bd=new Uint8Array();for(let _0x3c3892=0x0;_0x3c3892<_0x4d47da;_0x3c3892++){const _0x5e3831=Math['floor'](_0x3c3892/_0x4d47da*_0x45e33e['size']);let _0x4792d1=_0x5e3831+_0x5e718e;_0x4792d1>_0x45e33e[_0x40ec60(0x277)]&&(_0x4792d1=_0x45e33e[_0x40ec60(0x277)]);const _0x8c507b=_0x45e33e[_0x40ec60(0x74d)](_0x5e3831,_0x4792d1),_0x3ee434=await _0x8c507b[_0x40ec60(0x579)](),_0x609da5=new Uint8Array([..._0x13b3bd,...new Uint8Array(_0x3ee434)]);_0x13b3bd=new Uint8Array(await crypto[_0x40ec60(0x387)][_0x40ec60(0x3c2)](_0x40ec60(0x4f4),_0x609da5));}return Array['from'](new Uint8Array(_0x13b3bd))[_0x40ec60(0x865)](_0x54380f=>_0x54380f[_0x40ec60(0x9b2)](0x10)['padStart'](0x2,'0'))[_0x40ec60(0x4b3)]('');}async function*_0x455e42(_0x39823a,_0x4cf1f5=0x0,_0x4a6167){const _0x3e2834=_0x3f1d19;let _0x305e12=_0x4cf1f5*_0x4fe217,_0x48ebcd=_0x39823a;for(;_0x305e12<_0x48ebcd[_0x3e2834(0x277)];){let _0x55d97c=_0x305e12+_0x4fe217;_0x55d97c>_0x48ebcd[_0x3e2834(0x277)]&&(_0x55d97c=_0x48ebcd[_0x3e2834(0x277)]);let _0x5133a2=0x0;for(;_0x5133a2<0x14;)try{await _0x4a6167?.();const _0xb315f8=_0x48ebcd[_0x3e2834(0x74d)](_0x305e12,_0x55d97c,'application/octet-stream'),_0x2654ee=await _0xb315f8[_0x3e2834(0x579)]();yield _0x2654ee,_0x305e12=_0x55d97c,await new Promise(_0x4d7215=>setTimeout(_0x4d7215,0x0));break;}catch(_0x52702b){if(console['error'](_0x3e2834(0x2b1)+(_0x5133a2+0x1)+'\x20attempts:',_0x52702b),_0x5133a2++,_0x5133a2>0x14)throw _0x52702b;let _0x347bc9=0x3e8*Math['pow'](0x2,_0x5133a2);_0x347bc9>0x7530&&(_0x347bc9=0x7530),await new Promise(_0x4d6109=>setTimeout(_0x4d6109,_0x347bc9));}}}class _0x49de5b extends _0x51f755{[_0x3f1d19(0x210)];[_0x3f1d19(0x49f)];[_0x3f1d19(0x70a)]=new Map();[_0x3f1d19(0x7bf)]=0x0;[_0x3f1d19(0x62a)]=0x0;[_0x3f1d19(0xac7)]=0x0;['bytesReceived']=0x0;constructor(_0x1e926b,_0x33afaa){super(_0x1e926b,_0x33afaa);}[_0x3f1d19(0x897)](){const _0x1ff706=_0x3f1d19;return this[_0x1ff706(0x792)];}[_0x3f1d19(0x23f)](){const _0x380d0f=_0x3f1d19;return this[_0x380d0f(0x792)];}[_0x3f1d19(0x200)](){const _0x242fff=_0x3f1d19;return _0x1c7ce5[_0x242fff(0x5a3)][_0x242fff(0x86e)];}[_0x3f1d19(0x896)](){const _0x4244d6=_0x3f1d19;return this[_0x4244d6(0x792)];}[_0x3f1d19(0x63b)](_0x1ecad8){const _0x4c8e4f=_0x3f1d19;if(this[_0x4c8e4f(0x210)])throw new _0x5c1da3(_0x5c1da3[_0x4c8e4f(0x91b)][_0x4c8e4f(0x841)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x4c8e4f(0x668)]['getId']()+_0x4c8e4f(0x87d)+this['label'],'topic':this[_0x4c8e4f(0x210)]});this[_0x4c8e4f(0x210)]=_0x1ecad8;}[_0x3f1d19(0xb17)](_0x5a9538){const _0x3c9462=_0x3f1d19;if(this[_0x3c9462(0x49f)])throw new _0x5c1da3(_0x5c1da3[_0x3c9462(0x91b)][_0x3c9462(0x9b5)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x3c9462(0x668)][_0x3c9462(0x7be)]()+_0x3c9462(0x87d)+this['label'],'topic':this[_0x3c9462(0x49f)]});this[_0x3c9462(0x49f)]=_0x5a9538;}[_0x3f1d19(0x157)](){const _0x523375=_0x3f1d19;delete this[_0x523375(0x210)];}[_0x3f1d19(0x47a)](){const _0xe25aeb=_0x3f1d19;delete this[_0xe25aeb(0x49f)];}async[_0x3f1d19(0x3b4)](_0x4c6275,_0x29dc2c){const _0x3a06f2=_0x3f1d19;if(_0x576b91[_0x3a06f2(0x279)](_0x419b0a[_0x3a06f2(0x607)],'DataStream\x20send',this['owner'][_0x3a06f2(0x7be)](),_0x4c6275,_0x29dc2c),this[_0x3a06f2(0x7bf)]+=0x1,_0x4c6275 instanceof File){const _0x12f67c=await async function(_0x16d6c8){const _0x525371=_0x3a06f2,_0x402ea5=[];for await(const _0x363d8e of _0x455e42(_0x16d6c8))_0x402ea5[_0x525371(0x24b)](_0x363d8e);return _0x402ea5;}(_0x4c6275);return this[_0x3a06f2(0xac7)]+=_0x12f67c[_0x3a06f2(0x9ed)]((_0x118782,_0x240781)=>_0x118782+_0x240781[_0x3a06f2(0x440)],0x0),void _0x12f67c[_0x3a06f2(0xa0d)]((_0x23e085,_0x1c356b)=>{const _0x248081=_0x3a06f2;this[_0x248081(0x210)][_0x248081(0x4f8)]({'sourceId':this[_0x248081(0x668)][_0x248081(0x7be)](),'destinationIds':_0x29dc2c,'propagate':!0x0,'contentType':_0x1c7ce5[_0x248081(0x5a3)][_0x248081(0x2f4)],'content':{'name':_0x4c6275[_0x248081(0xb0f)],'type':_0x4c6275[_0x248081(0x8c9)],'data':_0x23e085,'index':_0x1c356b,'total':_0x12f67c[_0x248081(0x744)]}});});}this[_0x3a06f2(0xac7)]+=JSON[_0x3a06f2(0x300)](_0x4c6275)[_0x3a06f2(0x744)],this['outgoingTopic']['publish']({'sourceId':this['owner']['getId'](),'destinationIds':_0x29dc2c,'propagate':!0x0,'contentType':_0x1c7ce5['ContentType'][_0x3a06f2(0x86e)],'content':_0x4c6275});}['onMessage'](_0x36fe76){const _0x35ee5f=_0x3f1d19;return this[_0x35ee5f(0x49f)]['subscribe'](_0x108d63=>{const _0x3c4448=_0x35ee5f;switch(_0x576b91[_0x3c4448(0x279)](_0x419b0a['DataStream'],_0x3c4448(0x66c),this['owner'][_0x3c4448(0x7be)](),_0x108d63),_0x108d63['contentType']){case _0x1c7ce5['ContentType'][_0x3c4448(0x86e)]:this[_0x3c4448(0x62a)]+=0x1,this[_0x3c4448(0x934)]+=JSON[_0x3c4448(0x300)](_0x108d63['content'])[_0x3c4448(0x744)],_0x36fe76(_0x108d63[_0x3c4448(0x634)],_0x108d63[_0x3c4448(0x861)]);break;case _0x1c7ce5[_0x3c4448(0x5a3)][_0x3c4448(0x2f4)]:this[_0x3c4448(0x70a)][_0x3c4448(0x1c3)](_0x108d63[_0x3c4448(0x861)]['name'])||this['fileChunks'][_0x3c4448(0xb36)](_0x108d63[_0x3c4448(0x861)][_0x3c4448(0xb0f)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x476b9f=this[_0x3c4448(0x70a)][_0x3c4448(0x459)](_0x108d63['content'][_0x3c4448(0xb0f)]);if(_0x476b9f[_0x3c4448(0x7a6)]+=0x1,_0x476b9f[_0x3c4448(0x934)]+=_0x108d63[_0x3c4448(0x861)]['data']['byteLength'],_0x476b9f[_0x3c4448(0x861)]&&(_0x476b9f[_0x3c4448(0x861)][_0x108d63[_0x3c4448(0x861)][_0x3c4448(0x958)]]=_0x108d63[_0x3c4448(0x861)][_0x3c4448(0xa34)]),this[_0x3c4448(0x70a)][_0x3c4448(0xb36)](_0x108d63[_0x3c4448(0x861)]['name'],_0x476b9f),_0x476b9f[_0x3c4448(0x7a6)]+0x1<_0x108d63[_0x3c4448(0x861)][_0x3c4448(0x4ff)])return;this[_0x3c4448(0x62a)]+=0x1,this['bytesReceived']+=_0x476b9f[_0x3c4448(0x934)],_0x476b9f[_0x3c4448(0x861)]&&_0x36fe76(_0x108d63['sourceId'],(_0x2ebab4=_0x476b9f[_0x3c4448(0x861)],_0x2c3cd7=_0x108d63[_0x3c4448(0x861)][_0x3c4448(0xb0f)],_0x433b6c=_0x108d63[_0x3c4448(0x861)][_0x3c4448(0x8c9)],new File(_0x2ebab4,_0x2c3cd7,{'type':_0x433b6c}))),this[_0x3c4448(0x70a)][_0x3c4448(0x233)](_0x108d63[_0x3c4448(0x861)][_0x3c4448(0xb0f)]);}var _0x2ebab4,_0x2c3cd7,_0x433b6c;});}}function _0x239c52(){const _0xcdcb6b=_0x3f1d19;let _0x493a65=[];return{'subscribe':_0x2fa0d3=>(_0x493a65[_0xcdcb6b(0x24b)](_0x2fa0d3),()=>{const _0x31a264=_0xcdcb6b;_0x493a65=_0x493a65[_0x31a264(0x1e0)](_0x24e032=>_0x24e032!==_0x2fa0d3);}),'publish':_0x66a7da=>{const _0xcd022=_0xcdcb6b;_0x493a65[_0xcd022(0xa0d)](_0x2e90d6=>_0x2e90d6(_0x66a7da));}};}function _0x4112ad(){let _0x2c19f6;return{'subscribe':_0x4d6a14=>(_0x2c19f6=_0x4d6a14,()=>{_0x2c19f6=void 0x0;}),'publish':_0x27b26f=>{_0x2c19f6&&_0x2c19f6(_0x27b26f);}};}class _0x2bf1e2{[_0x3f1d19(0x1da)];['tableName'];[_0x3f1d19(0x31f)];[_0x3f1d19(0xacb)]=_0x4112ad();[_0x3f1d19(0x427)];constructor(_0x3fdc81,_0x1c81f8,_0x17f7be){const _0x3857f0=_0x3f1d19;this[_0x3857f0(0x1da)]=_0x3fdc81,this[_0x3857f0(0x3d7)]=_0x1c81f8,this['tableObserver']=_0x17f7be;}[_0x3f1d19(0x31c)](){const _0x4f9283=_0x3f1d19;this[_0x4f9283(0x427)]?.();}async['get'](_0x2e6f15){const _0x24bda2=_0x3f1d19,_0x598b54={'key':_0x2e6f15,'tableName':this[_0x24bda2(0x3d7)],'action':_0x13a22d[_0x24bda2(0x2ca)]};return this[_0x24bda2(0x31f)][_0x24bda2(0x4f8)](_0x598b54),this[_0x24bda2(0x1da)][_0x24bda2(0x459)](_0x2e6f15);}async[_0x3f1d19(0xb36)](_0x5aa01a,_0x282bbe,_0x3260d1=!0x0){const _0x1a7f3b=_0x3f1d19;this['validateValue'](_0x282bbe);const _0x430869=await this['connector'][_0x1a7f3b(0x459)](_0x5aa01a),_0x1f275f=await this[_0x1a7f3b(0x1da)][_0x1a7f3b(0xb36)](_0x5aa01a,_0x282bbe),_0x115d59=_0x430869?_0x4d873a[_0x1a7f3b(0x173)]:_0x4d873a[_0x1a7f3b(0x6bd)];if(this[_0x1a7f3b(0x4f8)](_0x115d59,_0x1f275f),!_0x3260d1)return _0x1f275f;const _0x5ca108={'key':_0x5aa01a,'tableName':this['tableName'],'action':_0x115d59,'value':_0x1f275f};return this[_0x1a7f3b(0x31f)][_0x1a7f3b(0x4f8)](_0x5ca108),_0x1f275f;}async[_0x3f1d19(0x7ce)](_0x19d451){const _0xf034a4=_0x3f1d19;this[_0xf034a4(0x1f5)](_0x19d451);const _0x38d910=await this[_0xf034a4(0x1da)][_0xf034a4(0x7ce)](_0x19d451),_0x1eb241={'key':_0x38d910['id'],'tableName':this['tableName'],'action':_0x4d873a[_0xf034a4(0x6bd)],'value':_0x38d910};return this[_0xf034a4(0x31f)][_0xf034a4(0x4f8)](_0x1eb241),this[_0xf034a4(0x4f8)](_0x1eb241[_0xf034a4(0x677)],_0x38d910),_0x38d910;}async['delete'](_0x57f0e2,_0xd383e=!0x0){const _0x1d6299=_0x3f1d19,_0x3e2b5d=await this['connector'][_0x1d6299(0x459)](_0x57f0e2);if(!_0x3e2b5d)return;await this[_0x1d6299(0x1da)][_0x1d6299(0x233)](_0x57f0e2);const _0x2acbe7=_0x4d873a[_0x1d6299(0x80f)];if(this[_0x1d6299(0x4f8)](_0x2acbe7,_0x3e2b5d),!_0xd383e)return;const _0x463775={'key':_0x57f0e2,'tableName':this['tableName'],'action':_0x2acbe7,'value':_0x3e2b5d};this[_0x1d6299(0x31f)][_0x1d6299(0x4f8)](_0x463775);}async[_0x3f1d19(0x88b)](){const _0x150dfd=_0x3f1d19,_0x29a4bd=await this[_0x150dfd(0x6c8)]();for(const _0xd2436a of _0x29a4bd){const _0x25ab11=_0x4d873a[_0x150dfd(0x80f)];this['publish'](_0x25ab11,_0xd2436a);const _0x36acd4={'key':_0xd2436a['id'],'tableName':this[_0x150dfd(0x3d7)],'action':_0x25ab11,'value':_0xd2436a};this['tableObserver'][_0x150dfd(0x4f8)](_0x36acd4);}return this[_0x150dfd(0x1da)][_0x150dfd(0x88b)]();}async[_0x3f1d19(0x6c8)](_0xe7e4c7){const _0x913505=_0x3f1d19,_0x3383d0={'key':'','tableName':this[_0x913505(0x3d7)],'action':_0x13a22d[_0x913505(0xb0d)]};this[_0x913505(0x31f)][_0x913505(0x4f8)](_0x3383d0);try{_0xe7e4c7&&(_0xe7e4c7=_0xe7e4c7 instanceof _0x390fa7?_0xe7e4c7[_0x913505(0x710)]():_0x390fa7[_0x913505(0x9eb)](_0xe7e4c7)[_0x913505(0x710)]());}catch(_0x297ed0){throw new _0x122c6c(_0x26fc1d['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{return await this['connector'][_0x913505(0x6c8)](_0xe7e4c7);}catch(_0x5283ca){let _0x25ab07=_0x913505(0x638);throw _0x5283ca instanceof Error&&(_0x25ab07=_0x5283ca[_0x913505(0x759)]),new _0x122c6c(_0x26fc1d[_0x913505(0x709)],_0x25ab07);}}async[_0x3f1d19(0x8ce)](_0x17bc71){const _0x4060b7=_0x3f1d19,_0x36bf9e={'key':'','tableName':this[_0x4060b7(0x3d7)],'action':_0x13a22d['Count']};this[_0x4060b7(0x31f)]['publish'](_0x36bf9e);try{_0x17bc71&&(_0x17bc71=_0x17bc71 instanceof _0x390fa7?_0x17bc71[_0x4060b7(0x710)]():_0x390fa7[_0x4060b7(0x9eb)](_0x17bc71)['getQuery']());}catch(_0x87156c){throw new _0x122c6c(_0x26fc1d[_0x4060b7(0x709)],_0x4060b7(0x638));}try{return await this['connector']['count'](_0x17bc71);}catch(_0x1de528){let _0x3cd43a='Invalid\x20query';throw _0x1de528 instanceof Error&&(_0x3cd43a=_0x1de528[_0x4060b7(0x759)]),new _0x122c6c(_0x26fc1d[_0x4060b7(0x709)],_0x3cd43a);}}[_0x3f1d19(0x477)](){const _0x1643ff=_0x3f1d19;return this[_0x1643ff(0x1da)][_0x1643ff(0x477)]();}[_0x3f1d19(0x565)](_0x2037e5){const _0x4af6e0=_0x3f1d19;this['listenerUnsubscriber']=this[_0x4af6e0(0xacb)][_0x4af6e0(0x565)](_0x2037e5);}[_0x3f1d19(0x87c)](){const _0x30b810=_0x3f1d19;this[_0x30b810(0x427)]?.();}[_0x3f1d19(0x4f8)](_0x3800d5,_0x148469){const _0x2298ee=_0x3f1d19,_0x21a132=this['buildTableEvent'](_0x3800d5,_0x148469);this['eventListener'][_0x2298ee(0x4f8)](_0x21a132);}[_0x3f1d19(0x2b2)](_0x1f966a,_0x3b850a){const _0x293637=_0x3f1d19;let _0x5254bf;switch(_0x1f966a){case _0x4d873a['Add']:_0x5254bf=_0x293637(0x7ce);break;case _0x4d873a[_0x293637(0x173)]:_0x5254bf=_0x293637(0x8f8);break;case _0x4d873a[_0x293637(0x80f)]:_0x5254bf=_0x293637(0x233);}return{'action':_0x5254bf,'value':_0x3b850a};}[_0x3f1d19(0x1f5)](_0x78b785){const _0x372774=_0x3f1d19;if(_0x372774(0x725)!=typeof _0x78b785||null===_0x78b785)throw new _0x122c6c(_0x26fc1d[_0x372774(0x811)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x130c97 in _0x78b785){const _0xf1cb86=_0x78b785[_0x130c97];if('object'!=typeof _0xf1cb86||_0xf1cb86 instanceof Date){if(![_0x372774(0x618),_0x372774(0x2ff),'boolean'][_0x372774(0xb4d)](typeof _0xf1cb86))throw new _0x122c6c(_0x26fc1d[_0x372774(0x811)],_0x372774(0x966)+_0x130c97+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x372774(0x1f5)](_0xf1cb86);}}}class _0x119117{[_0x3f1d19(0x4da)]=[];[_0x3f1d19(0xa48)]=0x0;[_0x3f1d19(0x6c2)]=[];[_0x3f1d19(0x5b5)]=!0x1;[_0x3f1d19(0x257)]=null;['rootComputationPromise']=null;[_0x3f1d19(0x95b)];[_0x3f1d19(0xa62)]=null;[_0x3f1d19(0x352)]=[];[_0x3f1d19(0x544)];[_0x3f1d19(0xb1a)]=Promise[_0x3f1d19(0x9dc)]();[_0x3f1d19(0x911)]=0x0;constructor(){}get[_0x3f1d19(0x398)](){const _0x3bb494=_0x3f1d19;return this[_0x3bb494(0xb1a)];}async['appendTransaction'](_0x325944,_0x10e1eb=0x0){const _0x139c11=_0x3f1d19;this[_0x139c11(0xa62)]||(this[_0x139c11(0xb1a)]=new Promise(_0x3ee657=>{const _0x539e62=_0x139c11;this[_0x539e62(0xa62)]=_0x3ee657;}),this[_0x139c11(0x911)]=_0x10e1eb);const _0xa9ccc5=Date['now']();if(this[_0x139c11(0x5b5)])return void this[_0x139c11(0x6c2)][_0x139c11(0x24b)](_0x325944);this['isComputingMMR']=!0x0;let _0x8e61d4={'hash':await this['hashTransaction'](_0x325944),'height':0x0};const _0x3a0bf5=this[_0x139c11(0x163)](_0x8e61d4);this[_0x139c11(0x352)][_0x139c11(0x24b)](_0x3a0bf5),await _0x3a0bf5,this[_0x139c11(0xa48)]+=0x1;const _0x181889=this[_0x139c11(0x6c2)][_0x139c11(0x744)];for(;this['transactionQueue'][_0x139c11(0x744)]>0x0;){const _0x3fe7c1=this[_0x139c11(0x6c2)][_0x139c11(0x825)]();await this[_0x139c11(0xa95)](_0x3fe7c1);}this['debounceReady'](),await this[_0x139c11(0x398)],this['debounceAppendLog'](_0xa9ccc5,_0x181889);}async[_0x3f1d19(0x9f3)](){const _0x1b880c=_0x3f1d19;return await this['_ready'],this[_0x1b880c(0x5b5)]?(this['rootComputationPromise']||(this['rootComputationPromise']=this['recomputeRoot']()),await this[_0x1b880c(0x73b)]):this[_0x1b880c(0x257)];}[_0x3f1d19(0x577)](){const _0x538a87=_0x3f1d19;return this['peaks'][_0x538a87(0x865)](({hash:_0x1c8bc8,height:_0x910322})=>({'hash':_0x1c8bc8,'height':_0x910322}));}['getTotalNodes'](){const _0x59174a=_0x3f1d19;return this[_0x59174a(0xa48)];}[_0x3f1d19(0x3de)](_0x61c521){const _0x2594a7=_0x3f1d19;return this[_0x2594a7(0x4da)][_0x2594a7(0x4d3)](_0x1d30df=>_0x1d30df[_0x2594a7(0x3cc)]===_0x61c521);}async[_0x3f1d19(0x336)](_0x574a80,_0x1656ce){const _0x467fe9=_0x3f1d19;return await this[_0x467fe9(0xadc)](_0x574a80+_0x1656ce);}async[_0x3f1d19(0x14f)](_0x38e938){const _0xf32340=_0x3f1d19;return await this[_0xf32340(0xadc)](JSON[_0xf32340(0x300)](_0x38e938));}[_0x3f1d19(0x552)](_0x3944c4){const _0x1cccf3=_0x3f1d19,_0x583c9b=this['getPeaks'](),_0x2eb82d=[],_0x2f7cd1=[],_0x26cd1a=[];for(const _0x24031a of _0x583c9b){const _0x526cd1=_0x3944c4[_0x1cccf3(0x4d3)](_0x464024=>_0x464024[_0x1cccf3(0x3cc)]===_0x24031a['height']);_0x526cd1?_0x24031a[_0x1cccf3(0x231)]!==_0x526cd1['hash']&&_0x2eb82d['push']({'height':_0x24031a['height'],'localPeak':_0x24031a,'remotePeak':_0x526cd1}):_0x2f7cd1['push'](_0x24031a);}for(const _0x1595d6 of _0x3944c4)_0x583c9b['find'](_0x3b073a=>_0x3b073a[_0x1cccf3(0x3cc)]===_0x1595d6['height'])||_0x26cd1a[_0x1cccf3(0x24b)](_0x1595d6);return{'differingPeaks':_0x2eb82d,'peaksMissingInRemote':_0x2f7cd1,'peaksMissingInLocal':_0x26cd1a};}async[_0x3f1d19(0x79b)](){const _0x4c7a03=_0x3f1d19;this[_0x4c7a03(0x5b5)]=!0x0;const _0x4505ae=this[_0x4c7a03(0x4da)][_0x4c7a03(0x865)](_0x4b8b35=>_0x4b8b35[_0x4c7a03(0x231)]);return this[_0x4c7a03(0x257)]=await this['hashPeakHashes'](_0x4505ae),this[_0x4c7a03(0x5b5)]=!0x1,this[_0x4c7a03(0x73b)]=null,this[_0x4c7a03(0xaa6)](),this[_0x4c7a03(0x257)];}async[_0x3f1d19(0xadc)](_0x561607){const _0x1877aa=_0x3f1d19;try{const _0xfce8f6=new TextEncoder()[_0x1877aa(0x845)](_0x561607),_0x4414df=await crypto[_0x1877aa(0x387)]['digest'](_0x1877aa(0x4f4),_0xfce8f6);return Array['from'](new Uint8Array(_0x4414df))[_0x1877aa(0x865)](_0x576894=>_0x576894[_0x1877aa(0x9b2)](0x10)[_0x1877aa(0x2af)](0x2,'0'))[_0x1877aa(0x4b3)]('');}catch(_0x177a04){return console['error'](_0x1877aa(0x504),_0x177a04),this[_0x1877aa(0xadc)](_0x561607);}}async['hashPeakHashes'](_0x55ded5){const _0xf8329a=_0x3f1d19;return await this[_0xf8329a(0xadc)](_0x55ded5[_0xf8329a(0x4b3)](''));}async[_0x3f1d19(0x163)](_0x171975){const _0x1614f4=_0x3f1d19;for(;this[_0x1614f4(0x4da)]['length']>0x0&&this['peaks'][this[_0x1614f4(0x4da)][_0x1614f4(0x744)]-0x1][_0x1614f4(0x3cc)]===_0x171975[_0x1614f4(0x3cc)];){const _0x3afe83=this[_0x1614f4(0x4da)][_0x1614f4(0x875)]();_0x171975={'hash':await this['hashNodes'](_0x3afe83[_0x1614f4(0x231)],_0x171975['hash']),'left':_0x3afe83,'right':_0x171975,'height':_0x171975['height']+0x1};}this[_0x1614f4(0x4da)]['push'](_0x171975),await this[_0x1614f4(0x79b)]();}[_0x3f1d19(0xaec)](_0x2845ff,_0x48dfb2){const _0x116b0d=_0x3f1d19;if(!_0x576b91[_0x116b0d(0x6ea)](_0x419b0a[_0x116b0d(0x7c8)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x116b0d(0x95b)]);const _0xe8d57=Date['now']();this[_0x116b0d(0x95b)]=setTimeout(()=>_0x576b91[_0x116b0d(0x279)](_0x419b0a['KeyValueDatabase'],_0x116b0d(0x9bd),this['cachedRoot'],_0x116b0d(0x86c),this[_0x116b0d(0x74c)](),_0x116b0d(0x304),_0x48dfb2,_0x116b0d(0x16a),_0xe8d57-_0x2845ff),0x7d0);}[_0x3f1d19(0xaa6)](){const _0x9e205b=_0x3f1d19;this[_0x9e205b(0x544)]&&clearTimeout(this[_0x9e205b(0x544)]),this['debounceReadyTimeout']=setTimeout(async()=>{const _0x69a662=_0x9e205b;try{const _0x2b42c2=this['readyPromises'];if(this[_0x69a662(0x352)]=[],await Promise[_0x69a662(0x346)](_0x2b42c2),this[_0x69a662(0x911)]-=_0x2b42c2['length'],this['readyPromises'][_0x69a662(0x744)]>0x0||this[_0x69a662(0x911)]>0x0)return this['debounceReady']();this['readyResolve']&&(this[_0x69a662(0xa62)](),this[_0x69a662(0xa62)]=null),this[_0x69a662(0xb1a)]=Promise[_0x69a662(0x9dc)](),this[_0x69a662(0x5b5)]=!0x1;}catch(_0x458933){console[_0x69a662(0x9e0)](_0x69a662(0x939),_0x458933);}},0xa);}}const _0x1b4c3=[_0x3f1d19(0xab3),_0x3f1d19(0x4a6),_0x3f1d19(0x442),'Subscription',_0x3f1d19(0x75d),'Detection','Remediation'],_0x166fb0=[[_0x3f1d19(0x6b7),_0x3f1d19(0x496),_0x3f1d19(0x93c),_0x3f1d19(0x832),'NeedRestart',_0x3f1d19(0x6dd),'Disconnect',_0x3f1d19(0x75d),'OptimizationConnectionSuccess'],['NodeJoin',_0x3f1d19(0x143),_0x3f1d19(0x483),_0x3f1d19(0x528)],[_0x3f1d19(0x5bc),_0x3f1d19(0x2c4),_0x3f1d19(0x27f),_0x3f1d19(0x61b),_0x3f1d19(0x5ff),_0x3f1d19(0x1f7),'CloseObjectStoreBucket',_0x3f1d19(0x985),_0x3f1d19(0x8c7),'ExternalStorageStats',_0x3f1d19(0x58f),_0x3f1d19(0x563),_0x3f1d19(0xa99),_0x3f1d19(0x30a),_0x3f1d19(0x16d),_0x3f1d19(0x2e1),'KeyValueDatabaseRequestTransactionsValue',_0x3f1d19(0x453),_0x3f1d19(0x227),_0x3f1d19(0x8db),_0x3f1d19(0x481),_0x3f1d19(0x5f1),_0x3f1d19(0x250),_0x3f1d19(0x5ad),'RemoteMediaStreamTrackFail','SubscribeMediaStream','UnpublishMediaStream','UnsubscribeMediaStream',_0x3f1d19(0x56d),_0x3f1d19(0x3fe)],[_0x3f1d19(0x746),_0x3f1d19(0x56d),_0x3f1d19(0x539),_0x3f1d19(0x6fd),_0x3f1d19(0x54c),_0x3f1d19(0x45a)],[_0x3f1d19(0x942),_0x3f1d19(0x56a)],[_0x3f1d19(0x770)],['Remediation',_0x3f1d19(0x5b8)]];function _0x44d6a8(_0x283e10){const _0x535906=_0x3f1d19;return{..._0x283e10,'systemMessageType':_0x1b4c3[_0x283e10[_0x535906(0x9c1)]],'systemContentMessageType':_0x166fb0[_0x283e10[_0x535906(0x9c1)]][_0x283e10['content'][_0x535906(0x8c9)]]};}const _0x8f9afe={'hour':_0x3f1d19(0x974),'minute':_0x3f1d19(0x974),'second':_0x3f1d19(0x974)};function _0x357cb9(_0x52f9e4,_0x281380){const _0x4e36a0=_0x3f1d19,_0x12d92d=(function(){const _0x521194=a0_0x1394,_0x2352e5=new Date(),_0xfe5eb8=_0x2352e5[_0x521194(0xb3b)](),_0x2400b4=_0x2352e5[_0x521194(0x960)](_0x521194(0x2c1),_0x8f9afe)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x2400b4+'.'+(_0xfe5eb8>0x64?''+_0xfe5eb8:_0xfe5eb8>0xa?'0'+_0xfe5eb8:'00'+_0xfe5eb8);}()),{sourceId:_0x5aefdc,destinationIds:_0x4ab729,systemMessageType:_0x52ec6c,systemContentMessageType:_0x40cf95}=_0x44d6a8(_0x52f9e4);return _0x12d92d+_0x4e36a0(0x87d)+_0x281380+_0x4e36a0(0x87d)+(_0x5aefdc===_0x281380?_0x4e36a0(0x9e8)+_0x52ec6c+_0x4e36a0(0x43b)+(_0x4ab729?''+_0x4ab729:'everyone'):_0x52f9e4[_0x4e36a0(0x634)]===_0x56bdb9?_0x4e36a0(0x25f)+_0x52ec6c+'\x27':(_0x4ab729?'':_0x4e36a0(0x941))+_0x4e36a0(0xae5)+_0x52ec6c+_0x4e36a0(0xab7)+_0x5aefdc)+_0x4e36a0(0x4ad)+_0x40cf95+'\x27\x20payload:';}function _0x3a9c64(_0x18f21c,_0x42b787){const _0x2e2234=_0x3f1d19;if(!_0x576b91['isChannelEnabled'](_0x18f21c))return;if(_0x3af887[_0x2e2234(0xb4a)])return;if(_0x2e2234(0xa96)==typeof process)return;const _0x1288f5=process[_0x2e2234(0x1b4)]();console[_0x2e2234(0x279)](_0x2e2234(0x59c)+_0x42b787+':');for(const _0x4b3d64 in _0x1288f5)console[_0x2e2234(0x279)]('\x20\x20'+_0x4b3d64+':\x20'+(_0x1288f5[_0x4b3d64]/0x400/0x400)[_0x2e2234(0xa64)](0x2)+_0x2e2234(0x36f));}function _0x407bd2(_0x7f9ac0,_0x4d5349){const _0x5995e0=_0x3f1d19;if(!_0x576b91['isChannelEnabled'](_0x4d5349))return _0x576b91[_0x5995e0(0x9d4)](_0x5995e0(0x315)+_0x4d5349),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x183d17,_0x2a8b62)=>_0x2a8b62}};let _0x53f704=0x0;return{'timingLogger':((()=>{const _0x2ec33c=_0x5995e0;let _0x298289=Date[_0x2ec33c(0x64c)]();return{'start':()=>{const _0xc7a66d=_0x2ec33c;_0x298289=Date[_0xc7a66d(0x64c)]();},'now':()=>Date['now'](),'logWaitTime':_0x3f94b9=>{const _0x53358b=_0x2ec33c;_0x53f704+=Date['now']()-_0x298289,_0x576b91[_0x53358b(0x279)](_0x4d5349,_0x3f94b9,_0x53f704+'ms',_0x7f9ac0);}};})()),'logger':{'log':(_0x394a09,_0x593bd7=()=>{})=>{const _0x5a0720=_0x5995e0,_0x2f8dd5=_0x593bd7();_0x2f8dd5?_0x576b91[_0x5a0720(0x279)](_0x4d5349,_0x394a09,_0x2f8dd5,_0x7f9ac0):_0x576b91[_0x5a0720(0x279)](_0x4d5349,_0x394a09,_0x7f9ac0);},'performCalculation':(_0x335f4c,_0x25143d)=>_0x335f4c()}};}function _0x453acf(_0x2702da){const _0x3b98dc=_0x3f1d19;return _0x3b98dc(0xa96)==typeof Buffer?0x0:Buffer['byteLength'](JSON[_0x3b98dc(0x300)](_0x2702da),_0x3b98dc(0x8f1));}function _0x95877e(_0xc078a9){const _0x146454=_0x3f1d19;if(0x0===_0xc078a9)return'0\x20B';const _0x3ecabb=Math[_0x146454(0x6cf)](Math[_0x146454(0x279)](_0xc078a9)/Math['log'](0x400));return parseFloat((_0xc078a9/Math['pow'](0x400,_0x3ecabb))['toFixed'](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x3ecabb];}class _0x348557 extends _0x49de5b{['localNode'];[_0x3f1d19(0x7d9)];['vendorId'];[_0x3f1d19(0xac2)];['db'];[_0x3f1d19(0x88a)];['tables']=new Map();[_0x3f1d19(0x31f)];[_0x3f1d19(0xa83)];[_0x3f1d19(0x7b4)];[_0x3f1d19(0x4ee)];[_0x3f1d19(0x589)];[_0x3f1d19(0x146)]=[];[_0x3f1d19(0x9bb)]=()=>{};[_0x3f1d19(0x1d9)];[_0x3f1d19(0xacb)]=_0x4112ad();['listenerUnsubscriber'];[_0x3f1d19(0x78e)]=[];[_0x3f1d19(0x188)];[_0x3f1d19(0x34c)];[_0x3f1d19(0x559)]=0x0;['reads']=0x0;[_0x3f1d19(0x9f7)]=!0x1;[_0x3f1d19(0x8df)]=new _0x119117();[_0x3f1d19(0xa89)]=new Map();[_0x3f1d19(0x3b2)]=[];[_0x3f1d19(0x36a)];[_0x3f1d19(0x866)]=[];[_0x3f1d19(0x33e)];constructor(_0x414d4b,_0x4864ac,_0x247cb8,_0x1d8f24,_0x1ef5bd,_0x3958a9,_0x3542ef){const _0x49e5dd=_0x3f1d19;if(_0x49e5dd(0x618)!=typeof _0x4864ac)throw new _0x122c6c(_0x26fc1d[_0x49e5dd(0x312)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x414d4b,_0x4864ac),this[_0x49e5dd(0x72c)]=_0x414d4b,this['clusterId']=_0x247cb8,this[_0x49e5dd(0x3db)]=_0x1d8f24,this[_0x49e5dd(0xac2)]=_0x3542ef,this[_0x49e5dd(0x88a)]='ccc'+this[_0x49e5dd(0x3db)]+_0x49e5dd(0x199)+this['clusterId']+_0x49e5dd(0x199)+this[_0x49e5dd(0x792)],this[_0x49e5dd(0x31f)]=_0x4112ad(),this[_0x49e5dd(0x33e)]=function(_0x30a5ce,_0x2d3f58){const _0x96ef34=_0x49e5dd;if(!_0x576b91['isChannelEnabled'](_0x2d3f58))return _0x576b91[_0x96ef34(0x9d4)](_0x96ef34(0x315)+_0x2d3f58),{..._0x407bd2(_0x30a5ce,_0x2d3f58),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x96ef34(0x521),'dataReceived':_0x96ef34(0x521)})};const {timingLogger:_0x2f9921,logger:_0x46b767}=_0x407bd2(_0x30a5ce,_0x2d3f58);let _0x34c37f=0x0,_0x296b56=0x0;return{'timingLogger':_0x2f9921,'logger':_0x46b767,'logDataSent':(_0x30db8b,_0x130b57=!0x1)=>{const _0x5e72f6=_0x96ef34,_0x49508a=_0x453acf(_0x30db8b);return _0x130b57&&_0x576b91['log'](_0x2d3f58,_0x5e72f6(0x7ea),_0x30a5ce,_0x49508a),_0x34c37f+=_0x49508a,_0x49508a;},'logDataReceived':(_0x5157d1,_0x5d61b8=!0x1)=>{const _0xa4fa80=_0x96ef34,_0xe7c52b=_0x453acf(_0x5157d1);return _0x5d61b8&&_0x576b91[_0xa4fa80(0x279)](_0x2d3f58,_0xa4fa80(0xaf8),_0x30a5ce,_0xe7c52b),_0x296b56+=_0xe7c52b,_0xe7c52b;},'getDataLogged':()=>({'dataSent':_0x95877e(_0x34c37f),'dataReceived':_0x95877e(_0x296b56)})};}(this[_0x49e5dd(0x792)],_0x419b0a['KeyValueDatabase']),this[_0x49e5dd(0x4ee)]=new Promise(_0x33bc96=>{const _0x1152a5=_0x49e5dd;this[_0x1152a5(0x589)]=_0x33bc96;}),_0x1ef5bd instanceof _0xba501e)this[_0x49e5dd(0x188)]=_0x1ef5bd['getLayout']();else{const [_0x5dbe0d,_0x590658]=_0xba501e[_0x49e5dd(0x40d)](_0x1ef5bd);if(!_0x5dbe0d)throw new _0x122c6c(_0x26fc1d[_0x49e5dd(0x131)],_0x49e5dd(0x7c0)+_0x590658);this['layout']=structuredClone(_0x1ef5bd);}this[_0x49e5dd(0x580)](this[_0x49e5dd(0x188)]),this['db']=new _0x3958a9(this['dbKey'],this[_0x49e5dd(0x188)]),this[_0x49e5dd(0x7e4)]();}async[_0x3f1d19(0x45d)](_0x401d54,_0x4d9026){const _0x3ed6ec=_0x3f1d19;if(_0x576b91['log'](_0x419b0a[_0x3ed6ec(0x7c8)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x3ed6ec(0x792)]),!this[_0x3ed6ec(0xa83)])throw new _0x5c1da3(_0x5c1da3['codes']['KeyValueDatabaseTransactionTableNotInitialized']);if(await this[_0x3ed6ec(0x4ee)],await this[_0x3ed6ec(0xac2)](_0x401d54),await this['mmr'][_0x3ed6ec(0x9f3)]()===_0x4d9026){const _0x19c712={'sourceId':this[_0x3ed6ec(0x72c)][_0x3ed6ec(0x7be)](),'destinationIds':[_0x401d54],'propagate':!0x0,'messageType':_0x21fe4c[_0x3ed6ec(0x442)],'content':{'type':_0x65c889[_0x3ed6ec(0x16d)],'label':this[_0x3ed6ec(0x792)],'mmrRoot':_0x4d9026}};return this[_0x3ed6ec(0x33e)][_0x3ed6ec(0xb18)](_0x19c712),void this[_0x3ed6ec(0x8f2)][_0x3ed6ec(0x4f8)](_0x19c712);}const _0x195873=this[_0x3ed6ec(0x8df)][_0x3ed6ec(0x577)](),_0x5846e6={'sourceId':this[_0x3ed6ec(0x72c)]['getId'](),'destinationIds':[_0x401d54],'propagate':!0x0,'messageType':_0x21fe4c[_0x3ed6ec(0x442)],'content':{'type':_0x65c889[_0x3ed6ec(0x30a)],'label':this[_0x3ed6ec(0x792)],'peaks':_0x195873}};this[_0x3ed6ec(0x33e)][_0x3ed6ec(0xb18)](_0x5846e6),this['systemTopic'][_0x3ed6ec(0x4f8)](_0x5846e6);}async[_0x3f1d19(0x1b7)](_0xb90cf7,_0x52e451){const _0x52c8c9=_0x3f1d19,_0x21b8fd=await this['mmr'][_0x52c8c9(0x9f3)](),_0x177618=_0x21b8fd===_0x52e451;if(_0x576b91[_0x52c8c9(0x279)](_0x419b0a[_0x52c8c9(0x7c8)],_0x52c8c9(0x4d6)+_0xb90cf7+'.\x20Confirmation?\x20'+_0x177618,this[_0x52c8c9(0x792)]),_0x177618)return this['clearSyncTimeout'](),void this[_0x52c8c9(0x8da)]();_0x576b91[_0x52c8c9(0x279)](_0x419b0a[_0x52c8c9(0x7c8)],_0x52c8c9(0x7a3),_0x21b8fd,_0x52e451),_0x576b91[_0x52c8c9(0x7f4)](_0x52c8c9(0x7a3),{'nodeId':this[_0x52c8c9(0x72c)][_0x52c8c9(0x7be)](),'nodeType':this[_0x52c8c9(0x72c)]['type'],'remoteId':_0xb90cf7,'data':{'localMMRRoot':_0x21b8fd,'remoteMMRRoot':_0x52e451}});const _0x84563={'sourceId':this[_0x52c8c9(0x72c)][_0x52c8c9(0x7be)](),'messageType':_0x21fe4c['Content'],'propagate':!0x0,'content':{'type':_0x65c889[_0x52c8c9(0x8db)],'label':this[_0x52c8c9(0x792)],'mmrRoot':_0x21b8fd}};this['systemTopic'][_0x52c8c9(0x4f8)](_0x84563);}async['processContentAvailable'](_0x1b4192,_0x632dfd){const _0x13ebfb=_0x3f1d19;if(_0x576b91[_0x13ebfb(0x279)](_0x419b0a['KeyValueDatabase'],_0x13ebfb(0x89d),_0x1b4192,'label',this[_0x13ebfb(0x792)],'peaks',_0x632dfd),this[_0x13ebfb(0x9f7)])return;this[_0x13ebfb(0x9f7)]=!0x0,this['clearSyncTimeout']();const {differingPeaks:_0x5159ab,peaksMissingInLocal:_0x1b7de2,peaksMissingInRemote:_0x2f3a3b}=this[_0x13ebfb(0x8df)][_0x13ebfb(0x552)](_0x632dfd);_0x576b91[_0x13ebfb(0x279)](_0x419b0a[_0x13ebfb(0x7c8)],_0x13ebfb(0x608),{'differingPeaks':_0x5159ab,'peaksMissingInLocal':_0x1b7de2,'peaksMissingInRemote':_0x2f3a3b});const _0x35ae86={'sourceId':this[_0x13ebfb(0x72c)][_0x13ebfb(0x7be)](),'destinationIds':[_0x1b4192],'propagate':!0x0,'messageType':_0x21fe4c['Content'],'content':{'type':_0x65c889[_0x13ebfb(0x2e1)],'label':this[_0x13ebfb(0x792)],'peakHeights':_0x1b7de2[_0x13ebfb(0x865)](_0x265f03=>_0x265f03[_0x13ebfb(0x3cc)])[_0x13ebfb(0x78c)](_0x5159ab[_0x13ebfb(0x865)](_0x4f46cb=>_0x4f46cb[_0x13ebfb(0x3cc)]))}};if(this[_0x13ebfb(0x8f2)]['publish'](_0x35ae86),_0x5159ab[_0x13ebfb(0x744)]>0x0||_0x2f3a3b[_0x13ebfb(0x744)]>0x0){const _0x146995=_0x2f3a3b[_0x13ebfb(0x865)](_0x337dfc=>_0x337dfc[_0x13ebfb(0x3cc)])['concat'](_0x5159ab[_0x13ebfb(0x865)](_0x468cb0=>_0x468cb0[_0x13ebfb(0x3cc)]));await this['sendPeakTransactions'](_0x1b4192,_0x146995,!0x0);}}async['sendPeakTransactions'](_0x4ba849,_0x1b4ba9,_0x423632=!0x1){const _0x352c0d=_0x3f1d19;_0x576b91[_0x352c0d(0x279)](_0x419b0a[_0x352c0d(0x7c8)],_0x352c0d(0x69a),this['label']);const _0x3f416e=_0x1b4ba9[_0x352c0d(0x865)](_0x3aa7c4=>this[_0x352c0d(0x8df)][_0x352c0d(0x3de)](_0x3aa7c4))[_0x352c0d(0x1e0)](Boolean);if(!_0x3f416e[_0x352c0d(0x744)]||_0x1b4ba9[_0x352c0d(0x744)]!==_0x3f416e[_0x352c0d(0x744)])throw new _0x5c1da3(_0x5c1da3[_0x352c0d(0x91b)][_0x352c0d(0x566)],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x1b4ba9,'peaks':_0x3f416e[_0x352c0d(0x865)](_0x5dc33e=>_0x5dc33e[_0x352c0d(0x3cc)]),'nodeId':_0x4ba849});const _0x29e137=[];for(const _0x431269 of _0x3f416e)this[_0x352c0d(0x177)](_0x431269,_0x29e137);const _0x4af918=_0x423632?void 0x0:[_0x4ba849],_0x509383={'sourceId':this[_0x352c0d(0x72c)][_0x352c0d(0x7be)](),'destinationIds':_0x4af918,'messageType':_0x21fe4c[_0x352c0d(0x442)],'propagate':!0x0,'content':{'type':_0x65c889['KeyValueDatabaseSendTransactions'],'label':this['label'],'transactions':_0x29e137}};this[_0x352c0d(0x33e)]['logDataSent'](_0x509383),this[_0x352c0d(0x8f2)][_0x352c0d(0x4f8)](_0x509383);}async['processReceivedTransactions'](_0x386f2c,_0x2aa322){const _0x26a476=_0x3f1d19;_0x576b91[_0x26a476(0x279)](_0x419b0a[_0x26a476(0x7c8)],_0x26a476(0x39a)+_0x2aa322['length']+'\x20transactions\x20from\x20node\x20'+_0x386f2c+'\x20-\x20'+this[_0x26a476(0x792)]);for(const _0x2c7942 of _0x2aa322){const _0xfa308f=await this[_0x26a476(0xa83)][_0x26a476(0x459)](_0x2c7942['id']);if(!(_0xfa308f&&this[_0x26a476(0x44e)](_0xfa308f,_0x2c7942)>=0x0)){if(_0x2c7942['action']===_0x4d873a[_0x26a476(0x80f)]){const [_0x3f3e86,_0x4b61ca]=_0x2c7942['id'][_0x26a476(0x44f)]('::'),_0x363bf7=this[_0x26a476(0x3d8)](_0x3f3e86);await _0x363bf7[_0x26a476(0x233)](_0x4b61ca);}else this[_0x26a476(0x146)][_0x26a476(0x24b)](_0x2c7942['id']);}}if(_0x576b91[_0x26a476(0x279)](_0x419b0a['KeyValueDatabase'],'Found\x20'+this[_0x26a476(0x146)][_0x26a476(0x744)]+_0x26a476(0x760),this[_0x26a476(0x792)]),this[_0x26a476(0x146)][_0x26a476(0x744)]>0x0){const _0x4e3c90={'sourceId':this[_0x26a476(0x72c)][_0x26a476(0x7be)](),'destinationIds':[_0x386f2c],'messageType':_0x21fe4c[_0x26a476(0x442)],'propagate':!0x0,'content':{'type':_0x65c889['KeyValueDatabaseRequestTransactionsValue'],'label':this[_0x26a476(0x792)],'transactionIds':this[_0x26a476(0x146)]}};this[_0x26a476(0x33e)][_0x26a476(0xb18)](_0x4e3c90),this[_0x26a476(0x8f2)]['publish'](_0x4e3c90);}}[_0x3f1d19(0xa91)](){const _0x4d0e28=_0x3f1d19;this[_0x4d0e28(0x7e4)]();}[_0x3f1d19(0x200)](){const _0x2fa1d2=_0x3f1d19;return _0x1c7ce5[_0x2fa1d2(0x5a3)][_0x2fa1d2(0x7c8)];}[_0x3f1d19(0x31c)](){const _0x4c662e=_0x3f1d19;this['db'][_0x4c662e(0x87b)](),this['tableUnsubscriber']?.(),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x4c662e(0x31c)]();}['close'](){const _0x17e7e0=_0x3f1d19;this[_0x17e7e0(0x341)](),this[_0x17e7e0(0x8f2)][_0x17e7e0(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x17e7e0(0x442)],'content':{'type':_0x65c889[_0x17e7e0(0x5ff)],'label':this['label']}});}['getTable'](_0xf112d0){const _0x23d438=_0x3f1d19,_0x148de5=this[_0x23d438(0xa7c)][_0x23d438(0x459)](_0xf112d0);if(_0x148de5)return _0x148de5;try{if(!this['db']['hasTable'](_0xf112d0))throw new _0x122c6c(_0x26fc1d[_0x23d438(0xaba)],_0x23d438(0xa75));const _0x1da953=new _0x2bf1e2(this['db'][_0x23d438(0x289)](_0xf112d0),_0xf112d0,this['tableObserver']);return this['tables']['set'](_0xf112d0,_0x1da953),{'get':_0x1da953['get'][_0x23d438(0x2f6)](_0x1da953),'set':_0x1da953[_0x23d438(0xb36)]['bind'](_0x1da953),'add':_0x1da953[_0x23d438(0x7ce)][_0x23d438(0x2f6)](_0x1da953),'delete':_0x1da953[_0x23d438(0x233)][_0x23d438(0x2f6)](_0x1da953),'clear':_0x1da953['clear'][_0x23d438(0x2f6)](_0x1da953),'list':_0x1da953[_0x23d438(0x6c8)][_0x23d438(0x2f6)](_0x1da953),'count':_0x1da953[_0x23d438(0x8ce)][_0x23d438(0x2f6)](_0x1da953),'subscribe':_0x1da953[_0x23d438(0x565)][_0x23d438(0x2f6)](_0x1da953),'unsubscribe':_0x1da953[_0x23d438(0x87c)][_0x23d438(0x2f6)](_0x1da953)};}catch(_0x2c2474){if(_0x2c2474 instanceof _0x122c6c)throw _0x2c2474;throw new _0x122c6c(_0x26fc1d[_0x23d438(0x664)],_0x23d438(0x415));}}[_0x3f1d19(0x565)](_0x5207c7){const _0x1896cf=_0x3f1d19;this[_0x1896cf(0x427)]=this['eventListener'][_0x1896cf(0x565)](_0x5207c7),this[_0x1896cf(0x73f)](this[_0x1896cf(0x4ee)])[_0x1896cf(0x4e3)](_0x11f555=>{const _0x167e0c=_0x1896cf;_0x11f555&&this[_0x167e0c(0xacb)]['publish']({'event':_0x1c7ce5['DatabaseEvent']['SyncComplete']});});}['unsubscribe'](){const _0x5a4c47=_0x3f1d19;this[_0x5a4c47(0x427)]?.(),this['listenerUnsubscriber']=void 0x0;}async['open'](){const _0x12e359=_0x3f1d19;_0x3a9c64(_0x419b0a[_0x12e359(0x7c8)],_0x12e359(0x952));const _0x54e844=[_0x25c13,_0x365564],_0x5ab5fc=[];try{await this['db'][_0x12e359(0xada)]();const _0x2b10e8=this['db']['getTableConnector'](_0x365564),_0x170084=await _0x2b10e8['list'](),{id:_0x543b7c,layout:_0x13d40e}=_0x170084[0x0]??{};if(_0x13d40e){for(const _0xfc3120 in _0x13d40e)_0x54e844[_0x12e359(0xb4d)](_0xfc3120)||this['db'][_0x12e359(0x9a6)](_0xfc3120)||_0x5ab5fc['push'](_0xfc3120);await _0x2b10e8[_0x12e359(0xb36)](_0x543b7c,{'layout':this[_0x12e359(0x188)]});}else await _0x2b10e8['add']({'layout':this[_0x12e359(0x188)]});}catch(_0x55e161){throw new _0x122c6c(_0x26fc1d['KeyValueDatabaseNotOpen'],_0x55e161[_0x12e359(0x759)]||'Error\x20encountered\x20while\x20opening\x20database');}this[_0x12e359(0x52f)](),await this['buildInitialMMR'](),this['setOnMessageHandler'](),this[_0x12e359(0x184)](),_0x5ab5fc[_0x12e359(0xa0d)](_0x212797=>this[_0x12e359(0x3e1)](_0x212797));}async[_0x3f1d19(0x4ce)](_0x2528f7,_0x470bd1=()=>{},_0x3d5cc2=!0x1){const _0x1c3aa9=_0x3f1d19;if(!_0x2528f7)return setTimeout(()=>{const _0x46b1ce=a0_0x1394;this[_0x46b1ce(0x341)](),this['publishSyncCompleted']();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x1c3aa9(0x9bb)]=_0x470bd1,this[_0x1c3aa9(0x1d9)]=setTimeout(_0x470bd1,0x7d0),!this[_0x1c3aa9(0x8f2)])throw new _0x5c1da3(_0x5c1da3[_0x1c3aa9(0x91b)]['MissingSystemTopic']);const _0x532c9e=await this[_0x1c3aa9(0x8df)][_0x1c3aa9(0x9f3)](),_0x1b09c3={'sourceId':this[_0x1c3aa9(0x72c)][_0x1c3aa9(0x7be)](),'messageType':_0x21fe4c[_0x1c3aa9(0x442)],'propagate':_0x3d5cc2,'content':{'type':_0x65c889['KeyValueDatabaseSyncRequired'],'label':this[_0x1c3aa9(0x792)],'mmrRoot':_0x532c9e}};return this['loggingCycle']['logDataSent'](_0x1b09c3),this[_0x1c3aa9(0x8f2)][_0x1c3aa9(0x4f8)](_0x1b09c3),this['isSync'];}async[_0x3f1d19(0x755)](_0x5614d0,_0x372b3e){const _0x4d2596=_0x3f1d19;if(_0x576b91[_0x4d2596(0x279)](_0x419b0a[_0x4d2596(0x7c8)],_0x4d2596(0xb26)+_0x372b3e[_0x4d2596(0x744)],this['label']),!this[_0x4d2596(0xa83)])throw new _0x5c1da3(_0x5c1da3['codes'][_0x4d2596(0x156)]);for(const _0x8ef1e5 of _0x372b3e){const _0x52e48a=await this['transactionTable'][_0x4d2596(0x459)](_0x8ef1e5);if(!_0x52e48a)continue;const [_0x51f5c2,_0x2d37e4]=_0x8ef1e5['split']('::'),_0x186e60=this['getTable'](_0x51f5c2),_0x117417=await _0x186e60['get'](_0x2d37e4);_0x117417?(_0x52e48a[_0x4d2596(0x225)]=_0x117417,this[_0x4d2596(0x3b4)](_0x52e48a,[_0x5614d0])):_0x576b91[_0x4d2596(0x7f4)](_0x4d2596(0x3a5),{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x4d2596(0x72c)][_0x4d2596(0x8c9)],'remoteId':_0x5614d0,'data':{'tableKeys':Object[_0x4d2596(0xa30)](this[_0x4d2596(0xa7c)]),'transactionId':_0x8ef1e5,'transactions':this[_0x4d2596(0x146)],'tableName':_0x51f5c2,'key':_0x2d37e4}});}}async['writeTransaction'](_0x388fc1){const _0x35dc7b=_0x3f1d19;if(!this['transactionTable'])throw new _0x5c1da3(_0x5c1da3[_0x35dc7b(0x91b)][_0x35dc7b(0x156)]);const _0x5c7a1f=await this[_0x35dc7b(0x8df)][_0x35dc7b(0x14f)](_0x388fc1),_0x3d46fc=this[_0x35dc7b(0xa89)][_0x35dc7b(0x459)](_0x5c7a1f);if(_0x3d46fc&&this[_0x35dc7b(0x44e)](_0x388fc1,_0x3d46fc)<=0x0)return void _0x576b91[_0x35dc7b(0x279)](_0x419b0a[_0x35dc7b(0x7c8)],'writeTransaction\x20-\x20transaction\x20already\x20exists',_0x388fc1);const _0x473bfd={..._0x388fc1};return delete _0x473bfd['value'],this[_0x35dc7b(0xa24)](_0x473bfd),await this[_0x35dc7b(0xa83)][_0x35dc7b(0xb36)](_0x388fc1['id'],_0x473bfd),_0x388fc1;}['compareTransactions'](_0x1b9863,_0x2f9401){const _0x287648=_0x3f1d19;return _0x1b9863[_0x287648(0x82d)]!==_0x2f9401[_0x287648(0x82d)]?_0x1b9863[_0x287648(0x82d)]-_0x2f9401['timestamp']:_0x1b9863[_0x287648(0xa82)]-_0x2f9401[_0x287648(0xa82)];}async[_0x3f1d19(0x691)](_0x5180f4){const _0x4775fb=_0x3f1d19;if(!this['transactionTable'])throw new _0x5c1da3(_0x5c1da3[_0x4775fb(0x91b)][_0x4775fb(0x156)]);const _0x173a28=_0x5180f4[_0x4775fb(0x3d7)]+'::'+_0x5180f4[_0x4775fb(0x21f)],_0x2a4567=await _0x25e54d[_0x4775fb(0x472)](),_0x557fa4={'id':_0x173a28,'priority':Math[_0x4775fb(0x1ea)](),'timestamp':_0x2a4567,'action':_0x5180f4[_0x4775fb(0x677)]};if(await this['writeTransaction'](_0x557fa4))return _0x557fa4;}async[_0x3f1d19(0x3e1)](_0x376f27){const _0x314eef=_0x3f1d19;if(!this[_0x314eef(0xa83)])throw new _0x5c1da3(_0x5c1da3[_0x314eef(0x91b)][_0x314eef(0x156)]);const _0x22f4af=_0x390fa7[_0x314eef(0x958)]('id')['where']('between',[_0x376f27+'::',_0x376f27+_0x314eef(0x5b1)]),_0x491b83=await this[_0x314eef(0xa83)][_0x314eef(0x6c8)](_0x22f4af[_0x314eef(0x710)]());for(const _0x467116 of _0x491b83)await this['transactionTable'][_0x314eef(0x233)](_0x467116['id']);}[_0x3f1d19(0x16c)](){const _0xea3830=_0x3f1d19;this[_0xea3830(0x816)](async(_0x114f78,_0x35532d)=>{const _0x5237ed=_0xea3830;if(_0x35532d instanceof File)return;if(this[_0x5237ed(0x33e)][_0x5237ed(0x588)](_0x35532d),!await this[_0x5237ed(0x31b)](_0x35532d))return void this['checkSyncComplete'](_0x114f78,_0x35532d);if(!_0x35532d[_0x5237ed(0x225)])throw new _0x5c1da3(_0x5c1da3['codes'][_0x5237ed(0x2d2)]);const [_0x2a38b7,_0x937b03]=_0x35532d['id'][_0x5237ed(0x44f)]('::'),_0x590c5f=this['getTable'](_0x2a38b7);if(!_0x590c5f)throw new _0x5c1da3(_0x5c1da3['codes'][_0x5237ed(0x785)],{'table':_0x590c5f});let _0x1ebb58=0x0;switch(_0x35532d[_0x5237ed(0x677)]){case _0x4d873a[_0x5237ed(0x6bd)]:case _0x4d873a[_0x5237ed(0x173)]:{const _0xd147a2=_0x590c5f[_0x5237ed(0xb36)](_0x937b03,_0x35532d[_0x5237ed(0x225)],!0x1);_0x1ebb58=JSON[_0x5237ed(0x300)](_0x35532d['value'])['length'],this[_0x5237ed(0x146)][_0x5237ed(0xb4d)](_0x35532d['id'])&&this[_0x5237ed(0x78e)]['push'](_0xd147a2);break;}case _0x4d873a[_0x5237ed(0x80f)]:{const _0x4899d0=_0x590c5f['delete'](_0x937b03,!0x1);this[_0x5237ed(0x146)]['includes'](_0x35532d['id'])&&this[_0x5237ed(0x78e)][_0x5237ed(0x24b)](_0x4899d0);break;}}_0x576b91[_0x5237ed(0x5f3)](_0x1cb6a4['KeyValueDatabase'],{'type':_0x5237ed(0x4ce),'label':this['label'],'nodeId':this[_0x5237ed(0x72c)][_0x5237ed(0x7be)](),'nodeType':this[_0x5237ed(0x72c)][_0x5237ed(0x8c9)],'clusterId':this[_0x5237ed(0x7d9)],'tableName':_0x2a38b7,'key':_0x937b03,'size':_0x1ebb58}),this[_0x5237ed(0x4ed)](_0x114f78,_0x35532d);});}['setOnTableWriteHandler'](){const _0x4aa7ea=_0x3f1d19;this['tableUnsubscriber']=this[_0x4aa7ea(0x31f)][_0x4aa7ea(0x565)](async _0x4780f5=>{const _0x6ba703=_0x4aa7ea;let _0x4adf1a=0x0;switch(_0x4780f5[_0x6ba703(0x677)]){case _0x4d873a[_0x6ba703(0x6bd)]:case _0x4d873a[_0x6ba703(0x173)]:case _0x4d873a[_0x6ba703(0x80f)]:{const _0x1481ad=await this['getTransactionFromTableWriteEvent'](_0x4780f5);if(!_0x1481ad)return;_0x1481ad[_0x6ba703(0x225)]=_0x4780f5[_0x6ba703(0x225)],this[_0x6ba703(0x3b4)](_0x1481ad),_0x4adf1a=JSON[_0x6ba703(0x300)](_0x4780f5[_0x6ba703(0x225)])[_0x6ba703(0x744)],this[_0x6ba703(0x559)]+=0x1;break;}case _0x13a22d[_0x6ba703(0x2ca)]:case _0x13a22d['List']:case _0x13a22d[_0x6ba703(0x41d)]:this[_0x6ba703(0x8cc)]+=0x1;}_0x576b91[_0x6ba703(0x5f3)](_0x1cb6a4[_0x6ba703(0x7c8)],{'type':_0x4780f5[_0x6ba703(0x677)],'label':this[_0x6ba703(0x792)],'nodeId':this[_0x6ba703(0x72c)][_0x6ba703(0x7be)](),'nodeType':this[_0x6ba703(0x72c)][_0x6ba703(0x8c9)],'clusterId':this[_0x6ba703(0x7d9)],'tableName':_0x4780f5[_0x6ba703(0x3d7)],'key':_0x4780f5['key'],'size':_0x4adf1a}),this[_0x6ba703(0x7e4)]();});}['instantiateTransactionTable'](){const _0x34ca10=_0x3f1d19;this['db']&&(this[_0x34ca10(0xa83)]||(this[_0x34ca10(0xa83)]=this['db'][_0x34ca10(0x289)](_0x25c13)));}[_0x3f1d19(0x341)](){const _0x463776=_0x3f1d19;this['syncTimeout']&&(clearTimeout(this[_0x463776(0x1d9)]),delete this[_0x463776(0x1d9)]);}async[_0x3f1d19(0x8da)](){const _0x3aa9b7=_0x3f1d19;await this['mmr'][_0x3aa9b7(0x398)],this['logSyncMetrics'](),this['eventListener']['publish']({'event':_0x1c7ce5[_0x3aa9b7(0x290)][_0x3aa9b7(0x98d)]}),this[_0x3aa9b7(0x589)]?.(!0x0),delete this[_0x3aa9b7(0x589)],this[_0x3aa9b7(0x7e4)](),_0x576b91['log'](_0x419b0a[_0x3aa9b7(0x7c8)],_0x3aa9b7(0x4bc),this[_0x3aa9b7(0x792)]);}async[_0x3f1d19(0x19b)](_0x537688){const _0x4982b6=_0x3f1d19;await Promise['all'](this[_0x4982b6(0x78e)]),_0x576b91['log'](_0x419b0a['KeyValueDatabase'],_0x4982b6(0x7a4)+this['syncTransactionsWritten'][_0x4982b6(0x744)]+_0x4982b6(0x370)+_0x537688+'\x20completed.',this[_0x4982b6(0x792)]),await this[_0x4982b6(0x8df)]['ready'],await this[_0x4982b6(0xa8a)](_0x537688),await this[_0x4982b6(0x8da)]();}[_0x3f1d19(0x4ed)](_0x2ff194,_0x41c462){const _0x188b9c=_0x3f1d19;this['transactionsToSync'][_0x188b9c(0xb4d)](_0x41c462['id'])&&(this[_0x188b9c(0x341)](),this[_0x188b9c(0x146)]=this[_0x188b9c(0x146)][_0x188b9c(0x1e0)](_0x42f987=>_0x42f987!==_0x41c462['id']),0x0!==this[_0x188b9c(0x146)][_0x188b9c(0x744)]?this[_0x188b9c(0x1d9)]=setTimeout(this['timeoutCallback'],0x7d0):this[_0x188b9c(0x19b)](_0x2ff194));}[_0x3f1d19(0x7e4)](){const _0x35ec61=_0x3f1d19;this[_0x35ec61(0x34c)]&&clearTimeout(this['debounceStats']),this[_0x35ec61(0x34c)]=setTimeout(async()=>{const _0xdc7fbf=_0x35ec61;delete this['debounceStats'];let _0x220385=0x0;for(const _0x389c6d of this[_0xdc7fbf(0xa7c)][_0xdc7fbf(0x9b6)]())_0x220385+=await _0x389c6d[_0xdc7fbf(0x477)]();this[_0xdc7fbf(0x8f2)][_0xdc7fbf(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c['Content'],'content':{'type':_0x65c889[_0xdc7fbf(0x227)],'label':this[_0xdc7fbf(0x792)],'stats':{'timestamp':Date['now'](),'storage':_0x220385,'messagesSent':this[_0xdc7fbf(0x7bf)],'messagesReceived':this[_0xdc7fbf(0x62a)],'bytesSent':this[_0xdc7fbf(0xac7)],'bytesReceived':this[_0xdc7fbf(0x934)],'writes':this[_0xdc7fbf(0x559)],'reads':this[_0xdc7fbf(0x8cc)],'prompts':0x0,'tokens':0x0}}}),_0x576b91[_0xdc7fbf(0x96d)](_0x1cb6a4[_0xdc7fbf(0x7c8)],_0xdc7fbf(0x199)+this['clusterId']+'ccc'+this[_0xdc7fbf(0x792)],_0x220385);},_0x51ac76);}[_0x3f1d19(0x580)](_0x2febac){const _0x10cf06=_0x3f1d19;if(_0x2febac['tables'][_0x25c13])throw new _0x122c6c(_0x26fc1d[_0x10cf06(0x2e0)],_0x10cf06(0x4fb)+_0x25c13+_0x10cf06(0xa69));if(_0x2febac['tables'][_0x365564])throw new _0x122c6c(_0x26fc1d['KeyValueDatabaseTableNameReserved'],_0x10cf06(0x4fb)+_0x365564+_0x10cf06(0xa69));_0x2febac[_0x10cf06(0xa7c)][_0x25c13]={'indexes':[]},_0x2febac['tables'][_0x365564]={'indexes':[]};}async[_0x3f1d19(0x73f)](_0xc41c0e){const _0x305fdb=_0x3f1d19;return Promise[_0x305fdb(0x4e2)]([_0xc41c0e,Promise[_0x305fdb(0x9dc)]('not-resolved')])[_0x305fdb(0x4e3)](_0x4ef3f9=>_0x305fdb(0x833)!==_0x4ef3f9);}async[_0x3f1d19(0xa8a)](_0x4d80ba){const _0x3a78df=_0x3f1d19;await this['processTransactionsToComputeMMR']();const _0x8b15fe=await this['mmr']['getRoot'](),_0x8cf4b4={'sourceId':this['localNode'][_0x3a78df(0x7be)](),'destinationIds':[_0x4d80ba],'propagate':!0x0,'messageType':_0x21fe4c[_0x3a78df(0x442)],'content':{'type':_0x65c889[_0x3a78df(0x16d)],'label':this['label'],'mmrRoot':_0x8b15fe}};this[_0x3a78df(0x8f2)]['publish'](_0x8cf4b4);}async[_0x3f1d19(0x455)](){const _0x5d7bc5=_0x3f1d19;if(!this[_0x5d7bc5(0xa83)])throw new _0x5c1da3(_0x5c1da3[_0x5d7bc5(0x91b)][_0x5d7bc5(0x156)]);this[_0x5d7bc5(0x3b2)]=await this['transactionTable'][_0x5d7bc5(0x6c8)](),this['transactions'][_0x5d7bc5(0x62c)](this[_0x5d7bc5(0x44e)]),this[_0x5d7bc5(0x8df)]=new _0x119117(),this[_0x5d7bc5(0xa89)]=new Map();for(const _0x50a407 of this[_0x5d7bc5(0x3b2)])this[_0x5d7bc5(0x4bd)](_0x50a407,this[_0x5d7bc5(0x3b2)][_0x5d7bc5(0x744)]);this[_0x5d7bc5(0x44d)]();}async[_0x3f1d19(0x4bd)](_0x407cd9,_0x3282a6){const _0x44b285=_0x3f1d19,_0x28934d={..._0x407cd9};delete _0x28934d[_0x44b285(0x225)],await this['mmr']['appendTransaction'](_0x28934d,_0x3282a6);const _0x782e28=await this['mmr'][_0x44b285(0x14f)](_0x28934d);this[_0x44b285(0xa89)][_0x44b285(0xb36)](_0x782e28,_0x407cd9);}[_0x3f1d19(0x80b)](_0x3bfeda){const _0x4c9b47=_0x3f1d19;return this[_0x4c9b47(0xa89)]['get'](_0x3bfeda);}[_0x3f1d19(0x177)](_0x33692e,_0x380e10){const _0xd13176=_0x3f1d19;if(0x0!==_0x33692e[_0xd13176(0x3cc)])_0x33692e['left']&&this['collectTransactionsFromNode'](_0x33692e[_0xd13176(0x56e)],_0x380e10),_0x33692e[_0xd13176(0x37c)]&&this['collectTransactionsFromNode'](_0x33692e['right'],_0x380e10);else{const _0x4153b6=this[_0xd13176(0x80b)](_0x33692e[_0xd13176(0x231)]);_0x4153b6&&_0x380e10['push'](_0x4153b6);}}async[_0x3f1d19(0x5e3)](){const _0xf50141=_0x3f1d19;this[_0xf50141(0x36a)]&&(clearTimeout(this[_0xf50141(0x36a)]),delete this['debounceRebuildMMR'],this[_0xf50141(0x866)][_0xf50141(0x744)]>0x0&&(this['transactions'][_0xf50141(0x24b)](...this[_0xf50141(0x866)][_0xf50141(0x62c)](this['compareTransactions'])),this[_0xf50141(0x866)]=[]));const _0x3219d3=this[_0xf50141(0x8be)]();this[_0xf50141(0x8df)]=new _0x119117(),this[_0xf50141(0xa89)]['clear'](),this[_0xf50141(0x3b2)]['sort'](this[_0xf50141(0x44e)]);for(const _0x4a7f98 of this[_0xf50141(0x3b2)])this['appendTransactionAndUpdateHashMap'](_0x4a7f98,this[_0xf50141(0x3b2)][_0xf50141(0x744)]);await this[_0xf50141(0x8df)]['ready'],this[_0xf50141(0xb04)](_0x3219d3);}[_0x3f1d19(0x8be)](){const _0x55d51e=_0x3f1d19;return this[_0x55d51e(0x33e)][_0x55d51e(0xaf9)]['performCalculation'](async()=>{const _0x197a91=await this['mmr']['getRoot']();return{'startTime':Date['now'](),'initialRoot':_0x197a91};},Promise[_0x55d51e(0x9dc)]({'startTime':0x0,'initialRoot':''}));}async[_0x3f1d19(0xb04)](_0x5aa6cc){const _0x3d02b6=_0x3f1d19;try{const {startTime:_0x276cfa,initialRoot:_0x2338c7}=await _0x5aa6cc,_0x3146f7=await this[_0x3d02b6(0x8df)]['getRoot'](),_0x4ce33b=[_0x3d02b6(0x18a)+(_0x2338c7!==_0x3146f7),'\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20'+_0x2338c7,_0x3d02b6(0x37a)+_0x3146f7,_0x3d02b6(0x90a)+this['mmr']['getTotalNodes'](),_0x3d02b6(0x716)+(Date['now']()-_0x276cfa)+_0x3d02b6(0x7de)][_0x3d02b6(0x4b3)]('\x20');this[_0x3d02b6(0x33e)][_0x3d02b6(0xaf9)][_0x3d02b6(0x279)]('',()=>_0x4ce33b);}catch(_0x79501c){console[_0x3d02b6(0x9e0)](_0x3d02b6(0x741),_0x79501c);}}[_0x3f1d19(0xa24)](_0x1dd57e){const _0x8488b7=_0x3f1d19;this[_0x8488b7(0x866)][_0x8488b7(0x24b)](_0x1dd57e),this[_0x8488b7(0x36a)]&&(clearTimeout(this[_0x8488b7(0x36a)]),delete this[_0x8488b7(0x36a)]),this['debounceRebuildMMR']=setTimeout(()=>{const _0x3ad835=_0x8488b7;this[_0x3ad835(0x66a)]();},0x3e8);}async[_0x3f1d19(0x66a)](){const _0x2a3d3e=_0x3f1d19;if(this[_0x2a3d3e(0x36a)]&&(clearTimeout(this['debounceRebuildMMR']),delete this['debounceRebuildMMR']),0x0!==this[_0x2a3d3e(0x866)][_0x2a3d3e(0x744)]){if(0x0===this['transactions'][_0x2a3d3e(0x744)])return this['transactions']=this['transactionsToAppend'],this[_0x2a3d3e(0x866)]=[],await this[_0x2a3d3e(0x5e3)]();if(this[_0x2a3d3e(0x866)][_0x2a3d3e(0x62c)](this[_0x2a3d3e(0x44e)]),this[_0x2a3d3e(0x44e)](this['transactionsToAppend'][0x0],this['transactions'][this['transactions'][_0x2a3d3e(0x744)]-0x1])>0x0){this[_0x2a3d3e(0x33e)][_0x2a3d3e(0xaf9)]['log']('processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20'+this[_0x2a3d3e(0x866)][_0x2a3d3e(0x744)]+_0x2a3d3e(0x794)+this[_0x2a3d3e(0x3b2)]['length']);for(const _0x49ab2f of this[_0x2a3d3e(0x866)])this[_0x2a3d3e(0x3b2)][_0x2a3d3e(0x24b)](_0x49ab2f),this[_0x2a3d3e(0x4bd)](_0x49ab2f,this[_0x2a3d3e(0x866)][_0x2a3d3e(0x744)]);return this[_0x2a3d3e(0x866)]=[],void this['loggingCycle'][_0x2a3d3e(0xaf9)][_0x2a3d3e(0x279)](_0x2a3d3e(0x27a),async()=>_0x2a3d3e(0x750)+await this['mmr'][_0x2a3d3e(0x9f3)]()+_0x2a3d3e(0x242)+this[_0x2a3d3e(0x8df)][_0x2a3d3e(0x74c)]());}this[_0x2a3d3e(0x33e)][_0x2a3d3e(0xaf9)][_0x2a3d3e(0x279)](_0x2a3d3e(0x803)+this[_0x2a3d3e(0x866)][_0x2a3d3e(0x744)]+_0x2a3d3e(0x794)+this[_0x2a3d3e(0x3b2)][_0x2a3d3e(0x744)]),this[_0x2a3d3e(0x3b2)][_0x2a3d3e(0x24b)](...this['transactionsToAppend']),this[_0x2a3d3e(0x866)]=[],this['rebuildMMR']();}}async[_0x3f1d19(0x545)](){const _0x1afe61=_0x3f1d19;if(!_0x576b91[_0x1afe61(0x6ea)](_0x419b0a['KeyValueDatabase']))return;await this[_0x1afe61(0x8df)][_0x1afe61(0x398)];const {dataSent:_0x4dd1bf,dataReceived:_0x52c3df}=this[_0x1afe61(0x33e)][_0x1afe61(0x894)]();_0x576b91[_0x1afe61(0x279)](_0x419b0a[_0x1afe61(0x7c8)],_0x1afe61(0x933),this[_0x1afe61(0x792)],_0x1afe61(0x4cd)+_0x4dd1bf,'\x0a\x20===\x20Total\x20Data\x20Received:\x20'+_0x52c3df,_0x1afe61(0x175),await this[_0x1afe61(0x8df)][_0x1afe61(0x9f3)](),'\x0a\x20===\x20Total\x20Nodes:',this[_0x1afe61(0x8df)]['getTotalNodes']());}async[_0x3f1d19(0x44d)](){const _0x44a71a=_0x3f1d19;if(!_0x576b91['isChannelEnabled'](_0x419b0a[_0x44a71a(0x7c8)]))return;const _0x98be77=this[_0x44a71a(0x8df)][_0x44a71a(0x577)](),_0xab930=_0x98be77[_0x44a71a(0x865)](_0x16e830=>_0x16e830[_0x44a71a(0x3cc)]),_0x31fa36=await this[_0x44a71a(0x8df)][_0x44a71a(0x9f3)]();_0x576b91[_0x44a71a(0x279)](_0x419b0a[_0x44a71a(0x7c8)],_0x44a71a(0x778),this[_0x44a71a(0x3b2)]['length'],_0x44a71a(0x3b2),this['mmr']['getTotalNodes'](),'totalNodes',_0x98be77['length'],_0x44a71a(0x4da),_0xab930,_0x44a71a(0xa7a),_0x31fa36);}}const _0x3e173b=require('@crewdle/mist-connector-opfs'),_0x318086=require('@crewdle/mist-connector-indexed-db'),_0x39c89c=require('@crewdle/mist-connector-webrtc-browser'),_0x59f202=0x10000000;var _0xef8318,_0x4bb910,_0x57287b,_0x32a158,_0x59e87c,_0x2397e8,_0x53c86d,_0x41d86a,_0x109376;!function(_0x315e65){const _0x243826=_0x3f1d19;_0x315e65[_0x243826(0x43f)]=_0x243826(0x43f),_0x315e65['AudioOutput']=_0x243826(0xaf4),_0x315e65[_0x243826(0xa10)]='AudioVolume',_0x315e65[_0x243826(0x1b5)]=_0x243826(0x1b5),_0x315e65['DeviceConfig']='DeviceConfig',_0x315e65[_0x243826(0x4e4)]=_0x243826(0x4e4),_0x315e65[_0x243826(0x6a0)]=_0x243826(0x6a0),_0x315e65['ScreenSharing']=_0x243826(0x91c),_0x315e65['WebGL']='WebGL',_0x315e65['WebRTC']='WebRTC';}(_0xef8318||(_0xef8318={}));class _0x12fa68{[_0x3f1d19(0x98e)];[_0x3f1d19(0xb32)];[_0x3f1d19(0x5c6)];constructor(_0x1b8574=new Map(),_0x768eef=new Map(),_0x2947be=new EventTarget()){const _0x1f47aa=_0x3f1d19;this[_0x1f47aa(0x98e)]=_0x1b8574,this[_0x1f47aa(0xb32)]=_0x768eef,this[_0x1f47aa(0x5c6)]=_0x2947be;}['emit']=(_0x484a07,_0x178f93)=>this[_0x3f1d19(0x98e)]['has'](_0x484a07)?(_0x576b91['log'](_0x419b0a[_0x3f1d19(0x532)],_0x3f1d19(0x283),{'event':_0x484a07,'data':_0x178f93}),this['eventTarget'][_0x3f1d19(0x1d3)](new CustomEvent(_0x484a07,{'detail':_0x178f93})),!0x0):(this[_0x3f1d19(0x628)](_0x484a07,_0x178f93),!0x1);['on']=(_0x1abfaa,_0x2fde8a)=>{const _0x50223e=_0x3f1d19,_0x2e890e=_0x49818f=>{const _0x32f713=a0_0x1394;_0x576b91[_0x32f713(0x279)](_0x419b0a[_0x32f713(0x532)],_0x32f713(0x671),_0x49818f[_0x32f713(0x8c9)],_0x49818f[_0x32f713(0x540)]),_0x2fde8a(_0x49818f[_0x32f713(0x540)]);};return this['registeredListeners']['set'](_0x1abfaa,_0x2e890e),this[_0x50223e(0x5c6)][_0x50223e(0x554)](_0x1abfaa,_0x2e890e),_0x576b91['log'](_0x419b0a[_0x50223e(0x12f)],_0x50223e(0x7b2),_0x1abfaa,_0x2fde8a),this[_0x50223e(0x604)](_0x1abfaa),this;};[_0x3f1d19(0xa6a)](_0x4bb992){const _0x5bae07=_0x3f1d19;if(!_0x4bb992)return this[_0x5bae07(0x98e)][_0x5bae07(0xa0d)]((_0x542de5,_0x2c2e4f)=>{const _0x47f6d0=_0x5bae07;this[_0x47f6d0(0x5c6)][_0x47f6d0(0x275)](_0x2c2e4f,_0x542de5);}),void this['registeredListeners']['clear']();_0x5bae07(0x618)==typeof _0x4bb992&&this[_0x5bae07(0x53b)](_0x4bb992),Array[_0x5bae07(0x878)](_0x4bb992)&&_0x4bb992[_0x5bae07(0xa0d)](_0x4dd70e=>{const _0x4cd617=_0x5bae07;this[_0x4cd617(0x53b)](_0x4dd70e);});}['removeListener'](_0x16c9e5){const _0x31eb91=_0x3f1d19,_0x2abb2f=this[_0x31eb91(0x98e)][_0x31eb91(0x459)](_0x16c9e5);_0x2abb2f&&(this[_0x31eb91(0x5c6)]['removeEventListener'](_0x16c9e5,_0x2abb2f),this[_0x31eb91(0x98e)][_0x31eb91(0x233)](_0x16c9e5));}[_0x3f1d19(0x628)](_0x4a344d,_0x4610ad){const _0x5d5591=_0x3f1d19;_0x576b91[_0x5d5591(0x279)](_0x419b0a[_0x5d5591(0x532)],_0x5d5591(0xa65),{'event':_0x4a344d,'data':_0x4610ad});const _0x28a1c0=this['bufferedEvents'][_0x5d5591(0x459)](_0x4a344d)||[];this['bufferedEvents']['set'](_0x4a344d,[..._0x28a1c0,_0x4610ad]);}[_0x3f1d19(0x604)](_0x43ea13){const _0x59c5af=_0x3f1d19,_0x2ef7f0=this[_0x59c5af(0xb32)]['get'](_0x43ea13);_0x2ef7f0&&(_0x2ef7f0['forEach'](_0x5cc1aa=>{const _0x23b0fd=_0x59c5af;_0x576b91[_0x23b0fd(0x279)](_0x419b0a['Events'],_0x23b0fd(0x667),{'event':_0x43ea13,'data':_0x5cc1aa}),this[_0x23b0fd(0x5c6)][_0x23b0fd(0x1d3)](new CustomEvent(_0x43ea13,{'detail':_0x5cc1aa}));}),this['bufferedEvents']['delete'](_0x43ea13));}}class _0x5056a1 extends Error{constructor(_0x569e41){const _0x50a114=_0x3f1d19;super(_0x50a114(0x535)+_0x569e41);}}!function(_0x294a95){const _0x2cc31c=_0x3f1d19;_0x294a95[_0x294a95[_0x2cc31c(0x7d3)]=0x0]='Core',_0x294a95[_0x294a95['Optimization']=0x1]=_0x2cc31c(0x821);}(_0x4bb910||(_0x4bb910={})),function(_0x2f5415){const _0x4d29b5=_0x3f1d19;_0x2f5415[_0x2f5415[_0x4d29b5(0x6b7)]=0x0]=_0x4d29b5(0x6b7),_0x2f5415[_0x2f5415[_0x4d29b5(0x496)]=0x1]=_0x4d29b5(0x496),_0x2f5415[_0x2f5415['Handshake']=0x2]='Handshake',_0x2f5415[_0x2f5415[_0x4d29b5(0x832)]=0x3]='Success',_0x2f5415[_0x2f5415['NeedRestart']=0x4]=_0x4d29b5(0x276),_0x2f5415[_0x2f5415['Restart']=0x5]=_0x4d29b5(0x6dd),_0x2f5415[_0x2f5415['Disconnect']=0x6]=_0x4d29b5(0xa87),_0x2f5415[_0x2f5415['Stats']=0x7]=_0x4d29b5(0x75d),_0x2f5415[_0x2f5415[_0x4d29b5(0x8a7)]=0x8]=_0x4d29b5(0x8a7);}(_0x57287b||(_0x57287b={})),function(_0x1630cb){const _0x25537e=_0x3f1d19;_0x1630cb[_0x1630cb['Sender']=0x0]=_0x25537e(0x1ba),_0x1630cb[_0x1630cb['Receiver']=0x1]=_0x25537e(0x7af);}(_0x32a158||(_0x32a158={})),function(_0x699fbc){const _0x267c84=_0x3f1d19;_0x699fbc[_0x267c84(0x4e4)]=_0x267c84(0xa51);}(_0x59e87c||(_0x59e87c={})),function(_0x4a4af4){const _0x55cd0a=_0x3f1d19;_0x4a4af4[_0x4a4af4[_0x55cd0a(0x6e1)]=0x0]=_0x55cd0a(0x6e1),_0x4a4af4[_0x4a4af4[_0x55cd0a(0x143)]=0x1]=_0x55cd0a(0x143),_0x4a4af4[_0x4a4af4[_0x55cd0a(0x483)]=0x2]=_0x55cd0a(0x483),_0x4a4af4[_0x4a4af4[_0x55cd0a(0x528)]=0x3]=_0x55cd0a(0x528);}(_0x2397e8||(_0x2397e8={})),function(_0xcf2a6c){const _0x41808c=_0x3f1d19;_0xcf2a6c[_0xcf2a6c['Remediation']=0x0]='Remediation',_0xcf2a6c[_0xcf2a6c[_0x41808c(0x5b8)]=0x1]=_0x41808c(0x5b8);}(_0x53c86d||(_0x53c86d={})),function(_0x570e71){const _0x49edb8=_0x3f1d19;_0x570e71[_0x49edb8(0x82f)]=_0x49edb8(0x408),_0x570e71['Downgrade']=_0x49edb8(0x7fc);}(_0x41d86a||(_0x41d86a={})),function(_0x119460){const _0x5bdcc0=_0x3f1d19;_0x119460['Resolution']=_0x5bdcc0(0x5da),_0x119460[_0x5bdcc0(0x5f7)]=_0x5bdcc0(0xa29);}(_0x109376||(_0x109376={}));const _0x119973=require('aws-amplify'),_0x19fc42=require('aws-amplify/utils'),_0x110718=require('@aws-amplify/api'),_0x1039e4=require('@aws-amplify/core');class _0x55c855{['clusterId'];[_0x3f1d19(0x72c)];[_0x3f1d19(0x6de)];constructor(_0x14791e,_0x1cb285,_0x5b820c){const _0xb1aa99=_0x3f1d19;this[_0xb1aa99(0x7d9)]=_0x14791e,this[_0xb1aa99(0x72c)]=_0x1cb285,this[_0xb1aa99(0x6de)]=_0x5b820c;}['getLocalId'](){const _0x480b29=_0x3f1d19;return this['localNode'][_0x480b29(0x7be)]();}['getRemoteId'](){return this['remoteId'];}}var _0x1446a2,_0x40324c,_0x76f098;function _0x2ea233(_0xf3cb02,_0x1c07e1){const _0x36d236=_0x3f1d19;return _0xf3cb02[_0x36d236(0x634)]===_0x1c07e1;}function _0x5a926b(_0x85bc56,_0x118b56){const _0x8d4599=_0x3f1d19;return _0x85bc56['destinationIds']?.[_0x8d4599(0xb4d)](_0x118b56)??function(_0x2b53cc){const _0x239279=_0x8d4599;return void 0x0===_0x2b53cc[_0x239279(0x147)];}(_0x85bc56);}function _0x9cdac2(_0x1479fe,{contentType:_0x495259,label:_0x205b9f,remoteId:_0x26cd72}){return _0x1479fe+'-'+_0x495259+'-'+_0x205b9f+'-'+_0x26cd72;}function _0x34aa05(_0x1b263f,_0x12f8d2,_0x38a126){return''+_0x1b263f+_0x12f8d2+_0x38a126;}function _0x27456d(_0x3c9de8){const _0x26bd02=_0x3f1d19;return _0x3c9de8===_0x40324c[_0x26bd02(0xa6f)]?_0x26bd02(0x457):'OutgoingSubscription';}function _0x4da960(_0xe46571,_0x574041){const _0x36f6c2=_0x3f1d19;return{'label':_0xe46571[_0x36f6c2(0x896)](),'contentType':_0xe46571[_0x36f6c2(0x200)](),'remoteId':_0x574041[_0x36f6c2(0x8e1)](),'supportsContentType':_0x574041[_0x36f6c2(0x5ca)]()[_0x36f6c2(0xb4d)](_0xe46571['getContentType']())};}!function(_0x378613){const _0x2d0095=_0x3f1d19;_0x378613[_0x378613[_0x2d0095(0xa19)]=0x0]=_0x2d0095(0xa19),_0x378613[_0x378613['Accepted']=0x1]=_0x2d0095(0x47d),_0x378613[_0x378613[_0x2d0095(0x704)]=0x2]=_0x2d0095(0x704);}(_0x1446a2||(_0x1446a2={})),function(_0x537442){const _0x4ac3d0=_0x3f1d19;_0x537442[_0x4ac3d0(0xa6f)]='in',_0x537442[_0x4ac3d0(0x13e)]=_0x4ac3d0(0x1c6);}(_0x40324c||(_0x40324c={}));class _0x58da28{[_0x3f1d19(0x786)];[_0x3f1d19(0x41a)];constructor(_0x5325c2,_0xdad9d7){const _0x5ae701=_0x3f1d19;this[_0x5ae701(0x786)]=_0x5325c2,this[_0x5ae701(0x41a)]=_0xdad9d7;}['call'](_0x473828){const _0xc95823=_0x3f1d19;this[_0xc95823(0x786)](_0x473828);}async[_0x3f1d19(0x5e0)](){const _0x5e9c5b=_0x3f1d19;await this[_0x5e9c5b(0x41a)]();}}class _0x2cf517{['callback'];[_0x3f1d19(0x41a)];constructor(_0x57fee4,_0x21e2f4){const _0x1d309a=_0x3f1d19;this[_0x1d309a(0x786)]=_0x57fee4,this[_0x1d309a(0x41a)]=_0x21e2f4;}async['call'](_0x1895b7){const _0x28bf7b=_0x3f1d19;await this[_0x28bf7b(0x786)](_0x1895b7);}async[_0x3f1d19(0x5e0)](){const _0x1e22af=_0x3f1d19;await this[_0x1e22af(0x41a)]();}}function _0x1b0c62(_0x453770=()=>{},_0x3489ef=()=>!0x1,_0x33dd25=()=>{}){let _0x7482e0,_0x221af1,_0x4960a2=0x0;return{get 'size'(){return _0x4960a2;},get 'head'(){return _0x7482e0;},get 'tail'(){return _0x221af1;},set 'head'(_0x18cfb9){_0x7482e0=_0x18cfb9;},set 'tail'(_0x4cafc6){_0x221af1=_0x4cafc6;},'push'(_0xe7010d,_0x113815=!0x0){const _0x48ec76=a0_0x1394,_0x52b140={'value':_0xe7010d};_0x113815&&_0x3489ef(_0x52b140)?_0x453770():(_0x221af1&&(_0x52b140[_0x48ec76(0x644)]=_0x221af1,_0x221af1['next']=_0x52b140),_0x221af1=_0x52b140,_0x7482e0||(_0x7482e0=_0x52b140),_0x4960a2+=0x1,_0x113815&&_0x453770());},'pop'(){const _0x12fa43=a0_0x1394;if(!_0x221af1)return;const _0x49b93d=_0x221af1['value'];return _0x221af1=_0x221af1['previous'],_0x221af1&&delete _0x221af1[_0x12fa43(0xad8)],_0x221af1||(_0x7482e0=void 0x0),_0x4960a2-=0x1,_0x49b93d;},'unshift'(_0x71b57b,_0xbc4643=!0x0){const _0x1f1ed5=a0_0x1394,_0x57a036={'value':_0x71b57b};_0xbc4643&&_0x3489ef(_0x57a036)?_0x453770():(_0x7482e0&&(_0x7482e0[_0x1f1ed5(0x644)]=_0x57a036,_0x57a036[_0x1f1ed5(0xad8)]=_0x7482e0),_0x7482e0=_0x57a036,_0x221af1||(_0x221af1=_0x57a036),_0x4960a2+=0x1,_0xbc4643&&_0x453770());},'shift'(){const _0x15ab26=a0_0x1394;if(!_0x7482e0)return;const _0x28c8bb=_0x7482e0['value'];return _0x7482e0=_0x7482e0[_0x15ab26(0xad8)],_0x7482e0&&delete _0x7482e0[_0x15ab26(0x644)],_0x7482e0||(_0x221af1=void 0x0),_0x4960a2-=0x1,_0x28c8bb;},'clear'(){_0x33dd25(),_0x7482e0=void 0x0,_0x221af1=void 0x0,_0x4960a2=0x0;}};}function _0x17b55c(_0x279158,_0x1644b1=!0x1,_0x206fb9=()=>{},_0x471637=()=>!0x1,_0x5e0322=()=>{}){let _0x489059=!0x1;const _0xb7b5b8=_0x1b0c62(async function(){const _0x6be5c3=a0_0x1394;if(!_0x489059){for(_0x489059=!0x0;_0xb7b5b8['head'];){const _0x48822e=_0xb7b5b8[_0x6be5c3(0x825)]();if(_0x48822e)try{_0x279158 instanceof _0x58da28&&_0x279158[_0x6be5c3(0x7d5)](_0x48822e),_0x279158 instanceof _0x2cf517&&await _0x279158[_0x6be5c3(0x7d5)](_0x48822e),_0x206fb9(_0x48822e);}catch(_0xc086fb){_0x1644b1?_0xb7b5b8['push'](_0x48822e,!0x1):_0xb7b5b8[_0x6be5c3(0xb54)](_0x48822e,!0x1),await _0x279158[_0x6be5c3(0x5e0)]();}}_0x489059=!0x1;}},_0x471637,_0x5e0322);return _0xb7b5b8;}class _0x14fdc6 extends _0x55c855{[_0x3f1d19(0x3db)];[_0x3f1d19(0xaea)];[_0x3f1d19(0x55c)]=_0x110718[_0x3f1d19(0x2d9)][_0x3f1d19(0x137)];[_0x3f1d19(0x912)]=_0x4112ad();[_0x3f1d19(0x80e)]=_0x239c52();['subscription'];[_0x3f1d19(0x2e2)];['retryQueue']=_0x17b55c(new _0x2cf517(this[_0x3f1d19(0xae2)][_0x3f1d19(0x2f6)](this),this['waitConnected'][_0x3f1d19(0x2f6)](this)));[_0x3f1d19(0x16f)];constructor(_0x597dae,_0x4d77d5,_0x518c96,_0x3e0d08,_0x19651e){super(_0x4d77d5,_0x518c96,_0x3e0d08),this['vendorId']=_0x597dae,this['authService']=_0x19651e;}async[_0x3f1d19(0x6eb)](){const _0xd78940=_0x3f1d19;try{const _0x5eb88f={'getTokens':async()=>{const _0xb5b554=a0_0x1394,_0x22a3d1=await this[_0xb5b554(0xaea)][_0xb5b554(0x6b2)]();return{'accessToken':(0x0,_0x1039e4['decodeJWT'])(_0x22a3d1),'idToken':(0x0,_0x1039e4[_0xb5b554(0x95a)])(_0x22a3d1)};}};_0x119973[_0xd78940(0x7fe)][_0xd78940(0x181)]({'API':{'GraphQL':{'endpoint':_0x3af887[_0xd78940(0xb02)]['endpoint'],'region':_0x3af887[_0xd78940(0xb02)][_0xd78940(0x915)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x5eb88f}});const _0x1838ff=(0x0,_0x110718[_0xd78940(0x6e5)])();this[_0xd78940(0x16f)]=_0x1838ff,await this[_0xd78940(0x565)](),this[_0xd78940(0x2e2)]=_0x19fc42['Hub'][_0xd78940(0x6f2)](_0xd78940(0x77a),async({payload:_0x51db29})=>{const _0x1fffe5=_0xd78940;if(_0x51db29[_0x1fffe5(0x2cd)]===_0x110718[_0x1fffe5(0x573)]){const _0x2367e5=_0x51db29[_0x1fffe5(0xa34)];this['connectionState']=_0x2367e5[_0x1fffe5(0x55c)],this[_0x1fffe5(0x912)][_0x1fffe5(0x4f8)](_0x2367e5[_0x1fffe5(0x55c)]),this[_0x1fffe5(0x55c)]===_0x110718[_0x1fffe5(0x2d9)][_0x1fffe5(0x137)]?(_0x576b91[_0x1fffe5(0x9e0)](_0x1fffe5(0x727),{'clusterId':this['clusterId'],'nodeId':this[_0x1fffe5(0x4c2)](),'nodeType':this['localNode']['type']}),this[_0x1fffe5(0x87b)](),this[_0x1fffe5(0x6eb)]()):this[_0x1fffe5(0x55c)]===_0x110718['ConnectionState']['Connected']?_0x576b91[_0x1fffe5(0x7f4)](_0x1fffe5(0xa17),{'clusterId':this[_0x1fffe5(0x7d9)],'nodeId':this[_0x1fffe5(0x4c2)](),'nodeType':this['localNode'][_0x1fffe5(0x8c9)]}):_0x576b91['warning']('appsync-statechange',{'clusterId':this['clusterId'],'nodeId':this[_0x1fffe5(0x4c2)](),'nodeType':this[_0x1fffe5(0x72c)]['type'],'data':{'state':_0x2367e5[_0x1fffe5(0x55c)]}});}});}catch(_0x59a749){_0x576b91[_0xd78940(0x9e0)](_0xd78940(0x3f6),{'clusterId':this[_0xd78940(0x7d9)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0xd78940(0x8c9)]});}}[_0x3f1d19(0x87b)](){const _0x30c84e=_0x3f1d19;_0x576b91[_0x30c84e(0x7f4)](_0x30c84e(0x26d),{'clusterId':this[_0x30c84e(0x7d9)],'nodeId':this[_0x30c84e(0x4c2)](),'nodeType':this[_0x30c84e(0x72c)][_0x30c84e(0x8c9)]}),this[_0x30c84e(0x9f4)][_0x30c84e(0x88b)](),this[_0x30c84e(0x2e2)]?.(),this[_0x30c84e(0x40e)]?.[_0x30c84e(0x87c)](),delete this[_0x30c84e(0x40e)];}[_0x3f1d19(0x6a3)](){const _0x46ef87=_0x3f1d19;return this['connectionState']===_0x110718[_0x46ef87(0x2d9)][_0x46ef87(0x57e)];}[_0x3f1d19(0x3b4)](_0x5a18c3){const _0x24a2b0=_0x3f1d19;this[_0x24a2b0(0x9f4)]['push'](_0x5a18c3);}['onMessage'](_0xbc72be){const _0x4fdaa6=_0x3f1d19;return this[_0x4fdaa6(0x80e)][_0x4fdaa6(0x565)](_0xbc72be);}[_0x3f1d19(0x5ca)](){const _0x5f0a0b=_0x3f1d19;return[_0x1c7ce5['ContentType'][_0x5f0a0b(0x86e)]];}async[_0x3f1d19(0x8ac)](){if(!this['isConnected']())return new Promise(_0x48914f=>{const _0x577666=a0_0x1394,_0x2aad96=this[_0x577666(0x912)][_0x577666(0x565)](_0x572424=>{const _0x2934d8=_0x577666;_0x572424===_0x110718[_0x2934d8(0x2d9)][_0x2934d8(0x57e)]&&(_0x2aad96(),_0x48914f());});});}async[_0x3f1d19(0xae2)](_0x528541){const _0x5181c5=_0x3f1d19;if(this[_0x5181c5(0x55c)]!==_0x110718[_0x5181c5(0x2d9)]['Connected'])throw new Error(_0x5181c5(0x95f));_0x528541['destinationIds']&&0x1===_0x528541['destinationIds'][_0x5181c5(0x744)]?await this[_0x5181c5(0x4f8)](_0x528541[_0x5181c5(0x147)][0x0],JSON[_0x5181c5(0x300)](_0x528541)):_0x576b91[_0x5181c5(0x9e0)]('appsync-no-destination',{'clusterId':this[_0x5181c5(0x7d9)],'nodeId':this['getLocalId'](),'nodeType':this[_0x5181c5(0x72c)][_0x5181c5(0x8c9)]});}async[_0x3f1d19(0x4f8)](_0x5070c4,_0x1da8dc){const _0x216443=_0x3f1d19;if(!this[_0x216443(0x16f)])throw new Error(_0x216443(0x20a));_0x576b91[_0x216443(0x279)](_0x419b0a[_0x216443(0x40a)],_0x216443(0xa6e),this[_0x216443(0x4c2)](),_0x1da8dc),await this[_0x216443(0x16f)][_0x216443(0x302)]({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this['getHash'](_0x5070c4),'data':_0x1da8dc}});}async[_0x3f1d19(0x565)](){const _0xcdadc8=_0x3f1d19;if(this[_0xcdadc8(0x40e)])return;if(!this['client'])throw new Error('AppSync\x20client\x20not\x20ready');_0x576b91[_0xcdadc8(0x279)](_0x419b0a['Signaling'],'AppSync\x20subscribe',this[_0xcdadc8(0x4c2)]());const _0x27685e=await this['client'][_0xcdadc8(0x302)]({'query':_0xcdadc8(0x1f2),'variables':{'name':await this[_0xcdadc8(0x4a7)]()},'authToken':await this['authService'][_0xcdadc8(0x6b2)]()},{'Authorization':await this[_0xcdadc8(0xaea)]['getIdToken']()});this[_0xcdadc8(0x40e)]=_0x27685e[_0xcdadc8(0x565)]({'next':({data:_0x5c189a})=>{const _0x28bf8c=_0xcdadc8,_0x785b11=JSON[_0x28bf8c(0x237)](_0x5c189a[_0x28bf8c(0x565)][_0x28bf8c(0xa34)]);!_0x2ea233(_0x785b11,this['getLocalId']())&&_0x5a926b(_0x785b11,this[_0x28bf8c(0x4c2)]())&&this[_0x28bf8c(0x80e)][_0x28bf8c(0x4f8)](_0x785b11);},'error':console[_0xcdadc8(0x279)]});}async[_0x3f1d19(0x4a7)](_0x1a0196){const _0x1b1c15=_0x3f1d19,_0x24abfe=await crypto[_0x1b1c15(0x387)][_0x1b1c15(0x3c2)](_0x1b1c15(0x7f6),new TextEncoder()[_0x1b1c15(0x845)](this['vendorId']+'-'+this[_0x1b1c15(0x7d9)]+'-'+(_0x1a0196??this[_0x1b1c15(0x4c2)]())));return Array[_0x1b1c15(0x663)](new Uint8Array(_0x24abfe))[_0x1b1c15(0x865)](_0x4b3c53=>_0x4b3c53[_0x1b1c15(0x9b2)](0x10)['padStart'](0x2,'0'))[_0x1b1c15(0x4b3)]('');}}!function(_0x1b7784){const _0x3cfae3=_0x3f1d19;_0x1b7784[_0x1b7784['Add']=0x0]=_0x3cfae3(0x6bd),_0x1b7784[_0x1b7784[_0x3cfae3(0xa20)]=0x1]=_0x3cfae3(0xa20),_0x1b7784[_0x1b7784[_0x3cfae3(0x173)]=0x2]=_0x3cfae3(0x173),_0x1b7784[_0x1b7784['RemoteAdd']=0x3]=_0x3cfae3(0x2bd),_0x1b7784[_0x1b7784[_0x3cfae3(0x371)]=0x4]='RemoteRemove';}(_0x76f098||(_0x76f098={}));const _0x625b65='0',_0x4ac88d=_0x3f1d19(0x33a),_0x1dede0=_0x4fe217,_0x48d251=0x60000;class _0x4f651f{[_0x3f1d19(0x7d9)];['localNode'];[_0x3f1d19(0x6de)];[_0x3f1d19(0x61a)];['connectionType'];[_0x3f1d19(0xad9)];[_0x3f1d19(0x510)];[_0x3f1d19(0x428)];[_0x3f1d19(0xaf3)]=0x1;[_0x3f1d19(0x8f2)];[_0x3f1d19(0x2a8)]=[];['pendingHandshakeCandidates']=[];['handshakeDebounce'];constructor(_0x240249,_0x50fd7b,_0x390476,_0x348ae6,_0x1a7ed5,_0x33488a){const _0x522597=_0x3f1d19;this[_0x522597(0x7d9)]=_0x240249,this[_0x522597(0x72c)]=_0x50fd7b,this['remoteId']=_0x390476,this['iceServers']=_0x348ae6,this[_0x522597(0x4f5)]=_0x1a7ed5,this[_0x522597(0xad9)]=_0x33488a,this[_0x522597(0x510)]=new this[(_0x522597(0xad9))]({'handshakeServers':this[_0x522597(0x61a)]}),this[_0x522597(0x9a9)]();}[_0x3f1d19(0x87b)](){const _0x3f680c=_0x3f1d19;this[_0x3f680c(0xabb)]();}[_0x3f1d19(0x7ec)](_0x29dfff){const _0x32b1f4=_0x3f1d19;this[_0x32b1f4(0x4f5)]=_0x29dfff;}async[_0x3f1d19(0x6c1)](_0x719b7b,_0x168aa3){const _0x5cebfd=_0x3f1d19;if(_0x168aa3===this[_0x5cebfd(0xaf3)])for(const _0x226513 of _0x719b7b){if(!this[_0x5cebfd(0x510)][_0x5cebfd(0x595)])return this[_0x5cebfd(0x8cd)](_0x226513);try{await this[_0x5cebfd(0x510)]['addCandidate'](_0x226513);}catch(_0x5bd07e){this[_0x5cebfd(0x8cd)](_0x226513);}}}[_0x3f1d19(0x6a3)](){const _0x46a305=_0x3f1d19;return this[_0x46a305(0x773)](),_0x46a305(0x3fd)===this[_0x46a305(0x510)][_0x46a305(0x55c)]&&[_0x46a305(0x3fd),'completed'][_0x46a305(0xb4d)](this['connection'][_0x46a305(0x413)])&&_0x46a305(0xa12)!==this[_0x46a305(0x510)][_0x46a305(0x318)]&&_0x46a305(0xada)===this[_0x46a305(0x428)]?.['state'];}[_0x3f1d19(0x819)](_0x471d48){const _0x35e7b2=_0x3f1d19;this[_0x35e7b2(0x8f2)]=_0x471d48;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x3f1d19(0x586)](_0x1097da){const _0x13d90f=_0x3f1d19;this[_0x13d90f(0xabb)](),this[_0x13d90f(0x510)]=new this[(_0x13d90f(0xad9))]({'handshakeServers':this['iceServers']}),_0x1097da?this[_0x13d90f(0xaf3)]=_0x1097da:this[_0x13d90f(0xaf3)]+=0x1,this[_0x13d90f(0x9a9)]();}[_0x3f1d19(0x62b)](){const _0x1590b7=_0x3f1d19;this[_0x1590b7(0x6ae)][_0x1590b7(0xa0d)](_0x47d174=>{const _0x1f55bc=_0x1590b7;try{this['connection'][_0x1f55bc(0x6f8)](_0x47d174);}catch(_0x507e10){}}),this[_0x1590b7(0x6ae)]=[];}[_0x3f1d19(0x1b3)](_0x442832,_0x330551){const _0x41565a=_0x3f1d19;if(!this[_0x41565a(0x8f2)])throw new _0x5c1da3(_0x5c1da3['codes'][_0x41565a(0xae4)],{'content':_0x442832});const _0x1289a2={'sourceId':this[_0x41565a(0x72c)][_0x41565a(0x7be)](),'destinationIds':[this['remoteId']],'propagate':this['connectionType']!==_0x4bb910[_0x41565a(0x7d3)],'retry':this[_0x41565a(0x4f5)]!==_0x4bb910[_0x41565a(0x7d3)],'messageType':_0x21fe4c[_0x41565a(0xab3)],'content':_0x442832};_0x330551&&(_0x1289a2[_0x41565a(0x5d1)]=_0x330551),this[_0x41565a(0x8f2)][_0x41565a(0x4f8)](_0x1289a2);}[_0x3f1d19(0x9a9)](){const _0x149a4c=_0x3f1d19;this[_0x149a4c(0x510)][_0x149a4c(0xb0b)]=()=>{const _0x539f64=_0x149a4c;_0x539f64(0x7e6)===this['connection'][_0x539f64(0xae7)]&&this[_0x539f64(0x2a8)][_0x539f64(0x744)]>0x0&&(this['handshakeDebounce']&&clearTimeout(this['handshakeDebounce']),this[_0x539f64(0x993)]=setTimeout(()=>{const _0x13d097=_0x539f64;delete this[_0x13d097(0x993)],this[_0x13d097(0x52b)](),this['handshakeCandidates']=[];},0x1f4));},this[_0x149a4c(0x510)][_0x149a4c(0x732)]=_0x39ca0f=>{const _0x2f80cd=_0x149a4c;_0x39ca0f[_0x2f80cd(0x5cc)]&&this['handshakeCandidates'][_0x2f80cd(0x24b)](_0x39ca0f[_0x2f80cd(0x5cc)]);};}[_0x3f1d19(0xabb)](){const _0x193bb9=_0x3f1d19;clearTimeout(this[_0x193bb9(0x993)]),delete this[_0x193bb9(0x993)],this[_0x193bb9(0x2a8)]=[],this['pendingHandshakeCandidates']=[],this[_0x193bb9(0x428)]&&(this['dataChannel'][_0x193bb9(0x816)]=null,this[_0x193bb9(0x428)]['onClose']=null,this[_0x193bb9(0x428)][_0x193bb9(0x87b)](),delete this['dataChannel']),this[_0x193bb9(0x510)][_0x193bb9(0xb0b)]=null,this[_0x193bb9(0x510)]['onCandidate']=null,this[_0x193bb9(0x510)][_0x193bb9(0x9e3)]=null,this['connection']['onConnectionStateChange']=null,this[_0x193bb9(0x510)][_0x193bb9(0x9cf)]=null,this[_0x193bb9(0x510)]['onDataChannel']=null,this['connection']['close']();}['addPendingHandshakeCandidate'](_0x4ac2e1){const _0x35911d=_0x3f1d19;this[_0x35911d(0x6ae)][_0x35911d(0x24b)](_0x4ac2e1);}['logConnectionState'](){const _0x62b9b9=_0x3f1d19;_0x576b91[_0x62b9b9(0x279)](_0x419b0a[_0x62b9b9(0x2d9)],_0x62b9b9(0xb10),{'localId':this[_0x62b9b9(0x72c)]['getId'](),'remoteId':this[_0x62b9b9(0x6de)],'connectionState':this['connection']['connectionState'],'handshakeState':this[_0x62b9b9(0x510)][_0x62b9b9(0x413)],'signalingState':this[_0x62b9b9(0x510)][_0x62b9b9(0x318)],'dataChannelState':this['dataChannel']?.[_0x62b9b9(0x720)]});}}function _0x1eeb19(_0x2cdbfc,_0x5aa592){const _0x1a1a1d=_0x3f1d19;_0x5aa592['publish']({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x1a1a1d(0xab3)],'content':_0x2cdbfc});}class _0x2a3dbe{static [_0x3f1d19(0x2d7)];['parameters']=[];[_0x3f1d19(0xb47)];constructor(){setInterval(()=>{const _0x2ac05b=a0_0x1394;this['parameters'][_0x2ac05b(0xa0d)](_0x11ac0b=>{const _0x5a93ea=_0x2ac05b;if(Date['now']()-_0x11ac0b[_0x5a93ea(0x9de)]>_0x11ac0b[_0x5a93ea(0x3bb)]){try{_0x11ac0b[_0x5a93ea(0x786)]();}catch(_0x238cd5){}_0x11ac0b[_0x5a93ea(0x9de)]=Date[_0x5a93ea(0x64c)]();}});},0x64);}static['getInstance'](){const _0x12bad1=_0x3f1d19;return _0x2a3dbe[_0x12bad1(0x2d7)]||(_0x2a3dbe['instance']=new _0x2a3dbe()),_0x2a3dbe[_0x12bad1(0x2d7)];}[_0x3f1d19(0xa3f)](_0x429cde){const _0x31c603=_0x3f1d19,_0x39596f=this[_0x31c603(0xa7d)](_0x429cde),_0x459189=_0x429cde[_0x31c603(0x74e)]();_0x459189&&_0x39596f&&(_0x459189[_0x31c603(0xa25)]['value']=0.001,_0x39596f[_0x31c603(0x6eb)](_0x459189),_0x459189[_0x31c603(0x6eb)](_0x429cde['destination']),_0x39596f[_0x31c603(0x266)]());}['stopNoThrottlingHack'](){const _0x100c19=_0x3f1d19;this[_0x100c19(0xb47)]&&(this[_0x100c19(0xb47)]['stop'](),this[_0x100c19(0xb47)]['disconnect'](),this[_0x100c19(0xb47)]=void 0x0);}[_0x3f1d19(0x5e0)](_0x236e7c){return new Promise(_0x3e532c=>{setTimeout(_0x3e532c,_0x236e7c);});}['setInterval'](_0x23f27f,_0x2d57b1){const _0x454efa=_0x3f1d19;return this['parameters'][_0x454efa(0x24b)]({'callback':_0x23f27f,'interval':_0x2d57b1,'lastExecuted':Date['now']()}),()=>{const _0x2cd7d8=_0x454efa;this[_0x2cd7d8(0x7cd)]=this[_0x2cd7d8(0x7cd)][_0x2cd7d8(0x1e0)](_0x9a6834=>_0x9a6834[_0x2cd7d8(0x786)]!==_0x23f27f);};}['createConstantSource'](_0x438bd8){const _0x3032ea=_0x3f1d19;if(_0x438bd8[_0x3032ea(0xa7d)])return _0x438bd8['createConstantSource']();const _0x273883=_0x438bd8['createBufferSource'](),_0x2051b5=_0x438bd8[_0x3032ea(0x7b6)](0x1,0x1,_0x438bd8['sampleRate']);return _0x2051b5[_0x3032ea(0x244)](0x0)[0x0]=0xa,_0x273883[_0x3032ea(0x26b)]=_0x2051b5,_0x273883[_0x3032ea(0xa1b)]=!0x0,_0x273883;}}const _0x18a0c6=_0x2a3dbe[_0x3f1d19(0x508)]();class _0x438e3e extends _0x4f651f{['messageCallback']=_0x4112ad();[_0x3f1d19(0xb5f)]=_0x4112ad();[_0x3f1d19(0x6e4)]=_0x4112ad();['receivers']=new Map();[_0x3f1d19(0x954)]=new Map();['waitSuccess'];[_0x3f1d19(0x62a)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};['bytesReceived']=0x0;[_0x3f1d19(0x436)]=0x0;[_0x3f1d19(0x33e)]=_0x407bd2('ReceiverPeerConnection.onMessage',_0x419b0a[_0x3f1d19(0x692)]);[_0x3f1d19(0x87b)](){const _0x181743=_0x3f1d19;this['clearWaitSuccess'](),this[_0x181743(0x864)][_0x181743(0x88b)](),super[_0x181743(0x87b)]();}async['handleOffer'](_0x4ef3d5,_0x289a96){const _0x59eb00=_0x3f1d19;this[_0x59eb00(0xaf3)]=_0x289a96,this[_0x59eb00(0x153)]();const _0x20ecc3=await this[_0x59eb00(0x510)][_0x59eb00(0x806)](_0x4ef3d5);this[_0x59eb00(0x62b)]();const _0x351255=(0x0,_0x54796e['v4'])();this[_0x59eb00(0x1b3)]({'type':_0x57287b[_0x59eb00(0x496)],'answer':_0x20ecc3,'version':_0x289a96,'connectionType':this[_0x59eb00(0x4f5)]},_0x351255),this[_0x59eb00(0x4f5)]===_0x4bb910[_0x59eb00(0x7d3)]&&(this[_0x59eb00(0x935)]=_0x18a0c6['setInterval'](()=>{const _0x55de1e=_0x59eb00;this[_0x55de1e(0x1b3)]({'type':_0x57287b[_0x55de1e(0x496)],'answer':_0x20ecc3,'version':_0x289a96,'connectionType':this[_0x55de1e(0x4f5)]},_0x351255);},0x1388));}['handleSuccess'](){const _0x43a3db=_0x3f1d19;this[_0x43a3db(0x153)]();}['handleNeedRestart'](_0x38ca1f){const _0x286fba=_0x3f1d19;this[_0x286fba(0x586)](_0x38ca1f),this[_0x286fba(0x1b3)]({'type':_0x57287b['Restart']});}async[_0x3f1d19(0x77f)](){const _0x42a959=_0x3f1d19;this[_0x42a959(0x8f2)]&&(await this[_0x42a959(0x510)]['collectReceiversStats'](this['receivers'],(_0x3e2f3f,_0x79fcfe)=>{const _0x4481fc=_0x42a959;_0x1eeb19({'type':_0x57287b[_0x4481fc(0x75d)],'streamId':_0x79fcfe,'nodeId':this[_0x4481fc(0x6de)],'stats':_0x3e2f3f},this[_0x4481fc(0x8f2)]);}),this[_0x42a959(0x8f2)][_0x42a959(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x42a959(0xab3)],'content':{'type':_0x57287b['Stats'],'nodeId':this['remoteId'],'stats':{'origin':_0x32a158[_0x42a959(0x7af)],'timestamp':Date[_0x42a959(0x64c)](),'messagesReceived':this[_0x42a959(0x62a)],'bytesReceived':this[_0x42a959(0x934)],'timeReceiving':this['timeReceiving'],'systemMessages':this['systemMessagesReceived']}}}));}[_0x3f1d19(0x816)](_0x44fdf8){const _0x56d537=_0x3f1d19;return _0x3af887[_0x56d537(0xb4a)]?this[_0x56d537(0x3bd)][_0x56d537(0x565)](_0x44fdf8):this[_0x56d537(0x3bd)]['subscribe'](_0x4766b4=>{const _0x2dce54=_0x56d537;0x0===_0x4766b4['topicLabel']&&_0x4766b4['messageType']===_0x21fe4c['Content']&&this[_0x2dce54(0x33e)][_0x2dce54(0xaf9)][_0x2dce54(0x279)](_0x2dce54(0x76c)+this[_0x2dce54(0x6de)],()=>_0x44d6a8(_0x4766b4)),_0x44fdf8(_0x4766b4);});}[_0x3f1d19(0x9cf)](_0x5a8de0){const _0x43cb0f=_0x3f1d19;return this[_0x43cb0f(0xb5f)][_0x43cb0f(0x565)](({track:_0x502058,stream:_0x31bfae})=>_0x5a8de0(_0x502058,_0x31bfae));}[_0x3f1d19(0x450)](_0x5a3ed5){const _0x9ac598=_0x3f1d19;return this['removeTrackCallback'][_0x9ac598(0x565)](({track:_0xacad17,stream:_0x21deb0})=>_0x5a3ed5(_0xacad17,_0x21deb0));}[_0x3f1d19(0x586)](_0x3c83cc){const _0x21b283=_0x3f1d19;this[_0x21b283(0x153)](),this[_0x21b283(0x864)]['forEach'](_0x3f09e3=>{const _0x5a6ca9=_0x21b283;_0x3f09e3[_0x5a6ca9(0x88b)]();}),super['resetConnection'](_0x3c83cc);}[_0x3f1d19(0x52b)](){const _0x10b65f=_0x3f1d19;this[_0x10b65f(0x1b3)]({'type':_0x57287b['Handshake'],'candidates':this[_0x10b65f(0x2a8)],'origin':_0x32a158[_0x10b65f(0x7af)],'version':this['currentVersion'],'connectionType':this[_0x10b65f(0x4f5)]});}['setupConnectionEvents'](){const _0x4528b1=_0x3f1d19;super['setupConnectionEvents'](),this[_0x4528b1(0x510)][_0x4528b1(0x9cf)]=_0x3ccd95=>{const _0x447a42=_0x4528b1;_0x576b91['log'](_0x419b0a['Connection'],'CrewdleReceiverConnection\x20ontrack',this[_0x447a42(0x72c)][_0x447a42(0x7be)](),_0x3ccd95),_0x3ccd95['streams'][0x0][_0x447a42(0x9a1)]=_0xa6ddfa=>{const _0xbb4bed=_0x447a42;this[_0xbb4bed(0x864)][_0xbb4bed(0x459)](_0x3ccd95['streams'][0x0]['id'])?.[_0xbb4bed(0x233)](_0xa6ddfa[_0xbb4bed(0x20f)]),0x0===this['receivers']['get'](_0x3ccd95[_0xbb4bed(0x7d2)][0x0]['id'])?.[_0xbb4bed(0x277)]&&this[_0xbb4bed(0x864)]['delete'](_0x3ccd95[_0xbb4bed(0x7d2)][0x0]['id']),this[_0xbb4bed(0x6e4)][_0xbb4bed(0x4f8)]({'track':_0xa6ddfa[_0xbb4bed(0x20f)],'stream':_0x3ccd95[_0xbb4bed(0x7d2)][0x0]});},this[_0x447a42(0x864)]['has'](_0x3ccd95[_0x447a42(0x7d2)][0x0]['id'])||this[_0x447a42(0x864)][_0x447a42(0xb36)](_0x3ccd95[_0x447a42(0x7d2)][0x0]['id'],new Set()),this[_0x447a42(0x864)]['get'](_0x3ccd95[_0x447a42(0x7d2)][0x0]['id'])[_0x447a42(0x7ce)](_0x3ccd95['track']),this[_0x447a42(0xb5f)][_0x447a42(0x4f8)]({'track':_0x3ccd95['track'],'stream':_0x3ccd95[_0x447a42(0x7d2)][0x0]});},this[_0x4528b1(0x510)]['onDataChannel']=_0x3e87a2=>{const _0x555eb6=_0x4528b1;this[_0x555eb6(0x428)]=_0x3e87a2[_0x555eb6(0x523)],this[_0x555eb6(0x428)][_0x555eb6(0x816)]=_0xd34e7d=>{const _0xb6d0a5=_0x555eb6;if(_0xd34e7d[_0xb6d0a5(0xa34)]!==_0x625b65)this[_0xb6d0a5(0x2fa)](_0xd34e7d[_0xb6d0a5(0xa34)]);else{if(!this[_0xb6d0a5(0x428)])return void _0x576b91[_0xb6d0a5(0x9e0)](_0xb6d0a5(0x9e9),{'clusterId':this[_0xb6d0a5(0x7d9)],'nodeId':this['localNode'][_0xb6d0a5(0x7be)](),'nodeType':this[_0xb6d0a5(0x72c)]['type'],'remoteId':this[_0xb6d0a5(0x6de)],'data':{'connection':_0xb6d0a5(0x6a9)}});if('open'!==this[_0xb6d0a5(0x428)]['state'])return;this['dataChannel'][_0xb6d0a5(0x3b4)]('1');}};};}[_0x3f1d19(0x2fa)](_0x89940){const _0x23fd5f=_0x3f1d19;if(_0x23fd5f(0x618)==typeof _0x89940&&_0x89940[_0x23fd5f(0xaf7)](_0x4ac88d))return this[_0x23fd5f(0x62a)]+=0x1,this[_0x23fd5f(0x934)]+=_0x89940[_0x23fd5f(0x744)],this[_0x23fd5f(0xb24)](_0x89940);setTimeout(()=>{const _0x42a090=_0x23fd5f,_0x605c40=Date[_0x42a090(0x64c)]();let _0x110a8c;if((_0x89940 instanceof ArrayBuffer||_0x89940[_0x42a090(0x744)]<=_0x1dede0)&&(this[_0x42a090(0x62a)]+=0x1,this[_0x42a090(0x934)]+=_0x89940 instanceof ArrayBuffer?_0x89940[_0x42a090(0x440)]:_0x89940['length']),_0x89940 instanceof ArrayBuffer){const [_0x1b6466,_0x1f0414]=this['splitParts'](_0x89940);_0x110a8c=_0x1b6466,_0x110a8c[_0x42a090(0x861)]['data']=_0x1f0414;}else _0x110a8c=JSON[_0x42a090(0x237)](_0x89940);if(0x0===_0x110a8c[_0x42a090(0x45b)]){this[_0x42a090(0x8e9)][_0x42a090(0x7ba)]['total']+=0x1;const {systemMessageType:_0x40eb92,systemContentMessageType:_0x3de051}=_0x44d6a8(_0x110a8c);this[_0x42a090(0x8e9)][_0x40eb92]||(this[_0x42a090(0x8e9)][_0x40eb92]={[_0x3de051]:0x0}),this['systemMessagesReceived'][_0x40eb92][_0x3de051]||(this[_0x42a090(0x8e9)][_0x40eb92][_0x3de051]=0x0),this[_0x42a090(0x8e9)][_0x40eb92][_0x42a090(0x4ff)]||(this[_0x42a090(0x8e9)][_0x40eb92][_0x42a090(0x4ff)]=0x0),this[_0x42a090(0x8e9)][_0x40eb92][_0x3de051]+=0x1,this[_0x42a090(0x8e9)][_0x40eb92][_0x42a090(0x4ff)]+=0x1;}this[_0x42a090(0x3bd)][_0x42a090(0x4f8)](_0x110a8c),this[_0x42a090(0x436)]+=Date[_0x42a090(0x64c)]()-_0x605c40;},0x0);}[_0x3f1d19(0xb24)](_0x55eacb){const _0xc3631d=_0x3f1d19,_0x1dc507=_0x55eacb[_0xc3631d(0x44f)](';'),_0x5986f8=_0x1dc507[0x1],_0x273493=parseInt(_0x1dc507[0x2],0xa),_0x4409da=parseInt(_0x1dc507[0x3],0xa),_0x23737f=_0x55eacb[_0xc3631d(0x6d7)](_0x4ac88d+';'+_0x5986f8+';'+_0x273493+';'+_0x4409da+';','');this['chunks'][_0xc3631d(0x1c3)](_0x5986f8)||this[_0xc3631d(0x954)][_0xc3631d(0xb36)](_0x5986f8,[]);const _0x122761=this[_0xc3631d(0x954)]['get'](_0x5986f8);_0x122761[_0x273493]=_0x23737f,_0x122761[_0xc3631d(0x744)]===_0x4409da&&(this[_0xc3631d(0x2fa)](_0x122761['join']('')),this[_0xc3631d(0x954)]['delete'](_0x5986f8));}[_0x3f1d19(0x153)](){const _0x47f475=_0x3f1d19;this[_0x47f475(0x935)]?.(),delete this[_0x47f475(0x935)];}['arrayBufferToObject'](_0x43cb11){const _0x5dbfb7=_0x3f1d19,_0x4e6eb9=new TextDecoder()[_0x5dbfb7(0x527)](_0x43cb11);return JSON['parse'](_0x4e6eb9);}[_0x3f1d19(0x317)](_0x25ff13){const _0x5e7946=_0x3f1d19,_0x2438bc=new Uint8Array(_0x25ff13[_0x5e7946(0x74d)](0x0,0x4)),_0x3d39f5=new Uint32Array(_0x2438bc['buffer'])[0x0],_0x2effd8=new Uint8Array(_0x25ff13['slice'](0x4,0x4+_0x3d39f5)),_0x48baa5=new Uint8Array(_0x25ff13[_0x5e7946(0x74d)](0x4+_0x3d39f5));return[this[_0x5e7946(0xb0e)](_0x2effd8[_0x5e7946(0x26b)]),_0x48baa5['buffer']];}}const _0x3a81e3=0xc350;var _0x1754a9,_0x4fb60c;!function(_0x436816){const _0x178c20=_0x3f1d19;_0x436816[_0x436816[_0x178c20(0x654)]=0x0]=_0x178c20(0x654),_0x436816[_0x436816[_0x178c20(0x8ff)]=0x1]=_0x178c20(0x8ff),_0x436816[_0x436816['Low']=0x2]=_0x178c20(0x192);}(_0x1754a9||(_0x1754a9={}));class _0xb588da extends _0x4f651f{[_0x3f1d19(0x4eb)];[_0x3f1d19(0x2fc)];[_0x3f1d19(0x836)]=new Map();['heartbeatUnsubscriber'];[_0x3f1d19(0x5be)];['lastHeartbeat'];['isReconnecting']=!0x1;[_0x3f1d19(0x807)];[_0x3f1d19(0x278)];[_0x3f1d19(0xb42)];[_0x3f1d19(0x9f4)]=function(e,t=_0x1754a9,n=!0x1){const _0x1b3bcb=_0x3f1d19;let s=!0x1;const i=[];async function o(){const _0x401cf4=a0_0x1394;if(!s){for(s=!0x0;i[_0x401cf4(0x658)](e=>e[_0x401cf4(0x9c4)]);){let t,s=0x0;for(const [e,n]of i[_0x401cf4(0x736)]())if(t=n['shift'](),s=e,t)break;if(t)try{if(e instanceof _0x58da28&&e['call'](t),e instanceof _0x2cf517&&await e['call'](t),i[_0x401cf4(0x74d)](-0x1)[_0x401cf4(0x658)](e=>e[_0x401cf4(0x9c4)]))continue;const n=i[_0x401cf4(0x744)]-0x1;s===n&&i[n][_0x401cf4(0x9c4)]&&await _0x18a0c6[_0x401cf4(0x5e0)](0x0);}catch(o){n?i[s][_0x401cf4(0x24b)](t,!0x1):i[s][_0x401cf4(0xb54)](t,!0x1),await e[_0x401cf4(0x5e0)]();}}s=!0x1;}}return Object[_0x1b3bcb(0x9b6)](t)[_0x1b3bcb(0xa0d)](e=>{const _0x31d691=_0x1b3bcb;_0x31d691(0x618)!=typeof e&&(i[e]=_0x1b0c62(o));}),{'queues':i};}(new _0x58da28(this[_0x3f1d19(0xae2)]['bind'](this),this['waitSendBuffer'][_0x3f1d19(0x2f6)](this)));[_0x3f1d19(0x7bf)]=0x0;[_0x3f1d19(0xac7)]=0x0;[_0x3f1d19(0x5c1)]=0x0;['roundTripTime']=0x0;['oncloseTimeout'];[_0x3f1d19(0x33e)]=_0x407bd2(_0x3f1d19(0x14b),_0x419b0a[_0x3f1d19(0x28e)]);constructor(_0x101f9a,_0x4f9cc7,_0x379792,_0x3d3d6a,_0x252279,_0x3135e1,_0x48f59e,_0x44e772){const _0x51ed7a=_0x3f1d19;super(_0x101f9a,_0x4f9cc7,_0x379792,_0x3d3d6a,_0x252279,_0x44e772),this[_0x51ed7a(0x4eb)]=_0x3135e1,this[_0x51ed7a(0x2fc)]=_0x48f59e;}[_0x3f1d19(0x87b)](){const _0x5afdc3=_0x3f1d19;this[_0x5afdc3(0xa05)](),this[_0x5afdc3(0x18d)](),delete this[_0x5afdc3(0x4f3)],this['clearRestartTimeout'](),this[_0x5afdc3(0x2d0)](),this[_0x5afdc3(0xa42)](),this[_0x5afdc3(0x836)][_0x5afdc3(0x88b)](),this[_0x5afdc3(0x158)]=!0x1,this['retryQueue'][_0x5afdc3(0x55b)][_0x5afdc3(0xa0d)](_0xe5afe3=>_0xe5afe3[_0x5afdc3(0x88b)]()),this['clearOncloseTimeout'](),super['close']();}[_0x3f1d19(0x6a3)](){const _0x3ad8cd=_0x3f1d19;return!!this[_0x3ad8cd(0x4f3)]&&super[_0x3ad8cd(0x6a3)]()&&Date['now']()-this['lastHeartbeat']<0x3a98;}async[_0x3f1d19(0x77f)](){const _0x7d0a4d=_0x3f1d19;this[_0x7d0a4d(0x8f2)]&&(await this[_0x7d0a4d(0x510)]['collectSendersStats'](this[_0x7d0a4d(0x836)],(_0x1f0936,_0x2e2714)=>{const _0x20ad14=_0x7d0a4d;_0x1eeb19({'type':_0x57287b[_0x20ad14(0x75d)],'streamId':_0x2e2714,'nodeId':this[_0x20ad14(0x6de)],'stats':_0x1f0936},this[_0x20ad14(0x8f2)]);}),this[_0x7d0a4d(0x8f2)][_0x7d0a4d(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x7d0a4d(0xab3)],'content':{'type':_0x57287b[_0x7d0a4d(0x75d)],'nodeId':this[_0x7d0a4d(0x6de)],'stats':{'origin':_0x32a158[_0x7d0a4d(0x1ba)],'timestamp':Date[_0x7d0a4d(0x64c)](),'messagesSent':this[_0x7d0a4d(0x7bf)],'bytesSent':this[_0x7d0a4d(0xac7)],'timeSending':this[_0x7d0a4d(0x5c1)],'roundTripTime':this[_0x7d0a4d(0x269)]}}}));}async['createOffer'](_0x9e610f){const _0x53ebad=_0x3f1d19;_0x576b91[_0x53ebad(0x279)](_0x419b0a[_0x53ebad(0x887)],'CrewdleSenderConnection\x20createOffer',this[_0x53ebad(0x72c)]['getId'](),this[_0x53ebad(0x6de)]),this[_0x53ebad(0x3d1)](),this[_0x53ebad(0x2d0)](),this['clearWaitAnswer'](),this[_0x53ebad(0x807)]=setTimeout(()=>{this['handleDisconnect']();},0x7530),this[_0x53ebad(0x428)]||(this[_0x53ebad(0x428)]=this['connection'][_0x53ebad(0xab4)](_0x53ebad(0xa34)),this[_0x53ebad(0x428)]['bufferedAmountLowThreshold']=_0x48d251,this[_0x53ebad(0x428)][_0x53ebad(0x98a)]=()=>{const _0x35ebfa=_0x53ebad;this[_0x35ebfa(0x917)]=setTimeout(()=>{const _0x5ace58=_0x35ebfa;delete this[_0x5ace58(0x917)],['connecting',_0x5ace58(0xada)][_0x5ace58(0xb4d)](this[_0x5ace58(0x428)]?.[_0x5ace58(0x720)]??'')||this['handleDisconnect']();},0xfa);});const _0x3cb88e=await this[_0x53ebad(0x510)][_0x53ebad(0x3a6)](_0x9e610f);this[_0x53ebad(0x4f3)]||(this[_0x53ebad(0x4f3)]=Date['now']());const _0x278f14=(0x0,_0x54796e['v4'])();this[_0x53ebad(0x1b3)]({'type':_0x57287b[_0x53ebad(0x6b7)],'offer':_0x3cb88e,'version':this[_0x53ebad(0xaf3)],'connectionType':this['connectionType']},_0x278f14),this[_0x53ebad(0x4f5)]===_0x4bb910['Core']&&(this[_0x53ebad(0x5be)]=_0x18a0c6[_0x53ebad(0x92b)](()=>{const _0x410555=_0x53ebad;this[_0x410555(0x1b3)]({'type':_0x57287b['Offer'],'offer':_0x3cb88e,'version':this[_0x410555(0xaf3)],'connectionType':this[_0x410555(0x4f5)]},_0x278f14);},0x1388));}async[_0x3f1d19(0xaaa)](_0x1ccc83,_0x50195d){const _0x46e602=_0x3f1d19;if(_0x50195d===this[_0x46e602(0xaf3)]){this[_0x46e602(0xa42)]();try{await this[_0x46e602(0x510)][_0x46e602(0xaaa)](_0x1ccc83,this['createOffer'][_0x46e602(0x2f6)](this)),this[_0x46e602(0x62b)](),this['clearConnectionTimeout'](),this[_0x46e602(0x6ce)]();}catch(_0xf2795b){this[_0x46e602(0x838)]();}}}[_0x3f1d19(0x3b4)](_0x6c001f){const _0x1f42f6=_0x3f1d19;if(!this[_0x1f42f6(0x428)])throw new _0x5c1da3(_0x5c1da3['codes']['InvalidDataChannel'],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x1f42f6(0x72c)][_0x1f42f6(0x7be)](),'remoteId':this[_0x1f42f6(0x6de)],'eventMessage':_0x6c001f});if(_0x1f42f6(0xada)!==this[_0x1f42f6(0x428)][_0x1f42f6(0x720)])throw new _0x5c1da3(_0x5c1da3[_0x1f42f6(0x91b)][_0x1f42f6(0x1cb)],{'message':_0x1f42f6(0x21b),'localId':this['localNode'][_0x1f42f6(0x7be)](),'remoteId':this[_0x1f42f6(0x6de)],'eventMessage':_0x6c001f});let _0x35d3f7;if(_0x6c001f[_0x1f42f6(0x861)]['data']instanceof ArrayBuffer){const _0x64e317=_0x6c001f[_0x1f42f6(0x861)][_0x1f42f6(0xa34)];_0x6c001f={..._0x6c001f,'content':{..._0x6c001f[_0x1f42f6(0x861)],'data':void 0x0}},_0x35d3f7=this[_0x1f42f6(0x187)](_0x6c001f,_0x64e317);}else _0x35d3f7=JSON[_0x1f42f6(0x300)](_0x6c001f);if(_0x1f42f6(0x618)==typeof _0x35d3f7&&_0x35d3f7[_0x1f42f6(0x744)]>_0x1dede0)return void this['sendChunked'](_0x6c001f,_0x35d3f7);0x0===_0x6c001f[_0x1f42f6(0x45b)]&&_0x6c001f['messageType']===_0x21fe4c[_0x1f42f6(0x442)]&&this[_0x1f42f6(0x33e)]['logger']['performCalculation'](()=>_0x576b91[_0x1f42f6(0x279)](_0x419b0a['SenderSendMessage'],_0x1f42f6(0x71a),this[_0x1f42f6(0x6de)],_0x44d6a8(_0x6c001f)),void 0x0);const _0x3d3ff3=0x0===_0x6c001f['topicLabel']&&[_0x21fe4c[_0x1f42f6(0x4b1)],_0x21fe4c[_0x1f42f6(0xab3)]][_0x1f42f6(0xb4d)](_0x6c001f[_0x1f42f6(0x9c1)])?_0x1754a9[_0x1f42f6(0x654)]:_0x6c001f instanceof ArrayBuffer?_0x1754a9[_0x1f42f6(0x192)]:_0x1754a9[_0x1f42f6(0x8ff)];this[_0x1f42f6(0x9fc)](_0x35d3f7,_0x3d3ff3);}[_0x3f1d19(0x140)](_0x38266b,_0x38f6ae,_0x375284,_0xa0ba75){const _0x3ccefb=_0x3f1d19,_0x2409ff=(_0x3ab464=this[_0x3ccefb(0x4eb)],_0xd6f2c6=this[_0x3ccefb(0x2fc)],Math[_0x3ccefb(0x6cf)](0xe1000*_0x3ab464*_0xd6f2c6));var _0x3ab464,_0xd6f2c6;const _0x3eefcc=this['senders'][_0x3ccefb(0x459)](_0x38f6ae['id'])||{'stream':_0x38f6ae,'priority':_0x375284,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x2409ff,'maxBitrate':_0x2409ff,'framerate':this[_0x3ccefb(0x4eb)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0xa0ba75},_0x349584=_0x3eefcc[_0x3ccefb(0x520)][_0x38266b[_0x3ccefb(0x567)]]||{'track':_0x38266b};if(_0x349584[_0x3ccefb(0x51f)]?(_0x349584[_0x3ccefb(0x20f)]=_0x38266b,this['connection'][_0x3ccefb(0x592)](_0x38266b,_0x349584[_0x3ccefb(0x51f)])):_0x349584[_0x3ccefb(0x51f)]=this[_0x3ccefb(0x510)][_0x3ccefb(0x140)](_0x38266b,_0x38f6ae),_0x3eefcc['tracks'][_0x38266b[_0x3ccefb(0x567)]]=_0x349584,_0xa0ba75&&(_0x3eefcc['params']=_0xa0ba75),_0xa0ba75&&'video'===_0xa0ba75[_0x3ccefb(0x567)]&&_0xa0ba75[_0x3ccefb(0x5da)]&&_0xa0ba75['maxResolution']&&(_0x3eefcc[_0x3ccefb(0x2a0)]=this[_0x3ccefb(0x133)](_0xa0ba75[_0x3ccefb(0x5da)],_0xa0ba75['maxResolution']),_0x3eefcc['minResolutionScale']=_0x3eefcc[_0x3ccefb(0x2a0)],_0x3eefcc['tracks']['video']&&_0x3eefcc['tracks'][_0x3ccefb(0x1ce)][_0x3ccefb(0x51f)])){const _0x1df0f5=_0x3eefcc[_0x3ccefb(0x520)][_0x3ccefb(0x1ce)][_0x3ccefb(0x51f)];this[_0x3ccefb(0x510)]['setEncodingParameters'](_0x1df0f5,Math[_0x3ccefb(0x6cf)](0xa*_0x3eefcc['resolutionScale'])/0xa,_0x3eefcc['framerate'],_0x3eefcc[_0x3ccefb(0xa29)],_0x3eefcc[_0x3ccefb(0xa82)]);}this[_0x3ccefb(0x836)]['set'](_0x38f6ae['id'],_0x3eefcc);}['setPriority'](_0x3ccd29,_0x2947eb){const _0x3069fd=_0x3f1d19,_0x54056b=this[_0x3069fd(0x836)][_0x3069fd(0x459)](_0x3ccd29['id']);if(_0x54056b&&_0x54056b[_0x3069fd(0xa82)]!==_0x2947eb&&(_0x54056b[_0x3069fd(0xa82)]=_0x2947eb,_0x54056b[_0x3069fd(0x520)][_0x3069fd(0x1ce)]&&_0x54056b['tracks']['video'][_0x3069fd(0x51f)])){const _0x587b4b=_0x54056b['tracks'][_0x3069fd(0x1ce)][_0x3069fd(0x51f)];this[_0x3069fd(0x510)][_0x3069fd(0x6ef)](_0x587b4b,Math[_0x3069fd(0x6cf)](0xa*_0x54056b['resolutionScale'])/0xa,_0x54056b[_0x3069fd(0xa50)],_0x54056b['bitrate'],_0x54056b['priority']);}}[_0x3f1d19(0x58b)](_0x45092c,_0x5e49c2){const _0x49f065=_0x3f1d19,_0x50449d=this['senders'][_0x49f065(0x459)](_0x45092c['id']);if(_0x50449d){if(_0x50449d[_0x49f065(0x7a7)]=_0x5e49c2,_0x5e49c2&&_0x49f065(0x1ce)===_0x5e49c2[_0x49f065(0x567)]&&_0x5e49c2[_0x49f065(0x5da)]&&_0x5e49c2[_0x49f065(0x3c0)]){if(_0x50449d['minResolutionScale']=this['getResolutionScale'](_0x5e49c2['resolution'],_0x5e49c2['maxResolution']),_0x50449d[_0x49f065(0x2a0)]<_0x50449d[_0x49f065(0x4e7)]&&(_0x50449d[_0x49f065(0x2a0)]=_0x50449d[_0x49f065(0x4e7)]),_0x50449d[_0x49f065(0x520)][_0x49f065(0x1ce)]&&_0x50449d[_0x49f065(0x520)][_0x49f065(0x1ce)][_0x49f065(0x51f)]){const _0x3dc883=_0x50449d[_0x49f065(0x520)]['video']['sender'];this[_0x49f065(0x510)][_0x49f065(0x6ef)](_0x3dc883,Math['floor'](0xa*_0x50449d['resolutionScale'])/0xa,_0x50449d[_0x49f065(0xa50)],_0x50449d['bitrate'],_0x50449d[_0x49f065(0xa82)]);}this[_0x49f065(0xa05)](),this['setUpgradeTimeout']();}this[_0x49f065(0x836)][_0x49f065(0xb36)](_0x45092c['id'],_0x50449d);}}['removeTrack'](_0x31605,_0x340909){const _0x24e1a4=_0x3f1d19,_0x550df0=this[_0x24e1a4(0x836)][_0x24e1a4(0x459)](_0x340909['id']);if(_0x550df0){const _0x2b8109=_0x550df0['tracks'][_0x31605[_0x24e1a4(0x567)]];_0x2b8109&&(_0x2b8109[_0x24e1a4(0x51f)]&&this[_0x24e1a4(0x510)]['removeTrack'](_0x2b8109['sender']),_0x2b8109[_0x24e1a4(0x20f)]=void 0x0);}}[_0x3f1d19(0x2a1)](_0x4ee81f){const _0x45b019=_0x3f1d19;this['clearUpgradeTimeout']();const _0x18f71f=function(_0x51740f,_0x3589ec){const _0x402609=a0_0x1394;return _0x51740f[_0x402609(0x62c)]((_0x5bc4fd,_0x29daf7)=>_0x3589ec[_0x402609(0x677)]===_0x41d86a[_0x402609(0xa18)]?_0x29daf7['priority']-_0x5bc4fd['priority']:_0x5bc4fd[_0x402609(0xa82)]-_0x29daf7[_0x402609(0xa82)])[_0x402609(0x4d3)](_0x5e0569=>function(_0x1396fb,_0xd3c822){const _0x376be8=_0x402609;if(_0xd3c822['action']===_0x41d86a['Downgrade']){if(_0xd3c822[_0x376be8(0x3f7)]===_0x109376['Resolution'])return _0x1396fb['resolutionScale']<0x4||_0x1396fb[_0x376be8(0x75b)]>0xf;if(_0xd3c822[_0x376be8(0x3f7)]===_0x109376[_0x376be8(0x5f7)])return _0x1396fb['maxBitrate']>_0x3a81e3;}return _0x1396fb[_0x376be8(0x2a0)]>_0x1396fb['minResolutionScale']||_0x1396fb[_0x376be8(0xa50)]<_0x1396fb[_0x376be8(0x75b)]||_0x1396fb['bitrate']<_0x1396fb[_0x376be8(0xb2d)];}(_0x5e0569,_0x3589ec));}(Array['from'](this['senders'][_0x45b019(0x9b6)]()),_0x4ee81f);if(_0x18f71f&&(function(_0x328aad,_0x5d9dcc){const _0x43fefa=_0x45b019;_0x328aad[_0x43fefa(0x520)][_0x43fefa(0x1ce)]&&_0x328aad[_0x43fefa(0x520)][_0x43fefa(0x1ce)]['sender']&&(_0x328aad[_0x43fefa(0x2a0)]=function(_0x1d30a0,_0x119d5c,_0xb22db9){const _0x40d542=_0x43fefa;switch(_0xb22db9[_0x40d542(0x677)]){case _0x41d86a['Downgrade']:_0xb22db9[_0x40d542(0x3f7)]===_0x109376[_0x40d542(0xaad)]&&(_0x1d30a0+=0.5)>0x4&&(_0x1d30a0=0x4);break;case _0x41d86a[_0x40d542(0x82f)]:(_0x1d30a0-=0.5)<_0x119d5c&&(_0x1d30a0=_0x119d5c);}return _0x1d30a0;}(_0x328aad['resolutionScale'],_0x328aad[_0x43fefa(0x4e7)],_0x5d9dcc),_0x328aad['framerate']=function(_0x57f7ef,_0x4d472f,_0x56d4c9){const _0x3ef2c6=_0x43fefa;switch(_0x56d4c9[_0x3ef2c6(0x677)]){case _0x41d86a[_0x3ef2c6(0xa18)]:_0x56d4c9[_0x3ef2c6(0x3f7)]===_0x109376[_0x3ef2c6(0xaad)]&&(_0x57f7ef-=0x3)<0xf&&(_0x57f7ef=0xf);break;case _0x41d86a['Upgrade']:(_0x57f7ef+=0x3)>_0x4d472f&&(_0x57f7ef=_0x4d472f);}return _0x57f7ef;}(_0x328aad[_0x43fefa(0xa50)],_0x328aad[_0x43fefa(0x75b)],_0x5d9dcc),_0x328aad[_0x43fefa(0xa29)]=function(_0x4c3a87,_0x408608,_0x4bc7fc){const _0x30bbb3=_0x43fefa;switch(_0x4bc7fc[_0x30bbb3(0x677)]){case _0x41d86a['Downgrade']:_0x4bc7fc[_0x30bbb3(0x3f7)]===_0x109376[_0x30bbb3(0x5f7)]&&(_0x4c3a87*=0.75)<_0x3a81e3&&(_0x4c3a87=_0x3a81e3);break;case _0x41d86a['Upgrade']:(_0x4c3a87*=1.25)>_0x408608&&(_0x4c3a87=_0x408608);}return _0x4c3a87;}(_0x328aad[_0x43fefa(0xa29)],_0x328aad[_0x43fefa(0xb2d)],_0x5d9dcc));}(_0x18f71f,_0x4ee81f),_0x18f71f['tracks'][_0x45b019(0x1ce)]&&_0x18f71f[_0x45b019(0x520)]['video'][_0x45b019(0x51f)])){const _0x25d2ab=_0x18f71f[_0x45b019(0x520)][_0x45b019(0x1ce)]['sender'];this[_0x45b019(0x510)][_0x45b019(0x6ef)](_0x25d2ab,Math[_0x45b019(0x6cf)](0xa*_0x18f71f[_0x45b019(0x2a0)])/0xa,_0x18f71f[_0x45b019(0xa50)],_0x18f71f[_0x45b019(0xa29)],_0x18f71f['priority']);}(_0x18f71f||_0x4ee81f[_0x45b019(0x677)]===_0x41d86a[_0x45b019(0xa18)])&&this[_0x45b019(0x2e6)]();}['calculateArrayBufferSize'](){const _0x22f0fc=_0x3f1d19;return this[_0x22f0fc(0x9f4)][_0x22f0fc(0x55b)][_0x22f0fc(0x9ed)]((_0x150296,_0x166b4e)=>_0x150296+_0x166b4e[_0x22f0fc(0x277)],0x0)*_0x4fe217;}[_0x3f1d19(0x610)](){const _0x46c2b6=_0x3f1d19;return this[_0x46c2b6(0x428)]?.[_0x46c2b6(0xa2f)]??0x0;}[_0x3f1d19(0x586)](){const _0x8bb5a5=_0x3f1d19;super[_0x8bb5a5(0x586)](),this[_0x8bb5a5(0x3c1)](),this[_0x8bb5a5(0xa42)](),this[_0x8bb5a5(0x836)][_0x8bb5a5(0xa0d)](_0x1fbb8f=>{const _0x23dca5=_0x8bb5a5;_0x1fbb8f[_0x23dca5(0x520)][_0x23dca5(0x1ce)]&&(_0x1fbb8f['tracks']['video']['sender']=void 0x0),_0x1fbb8f[_0x23dca5(0x520)][_0x23dca5(0x9d7)]&&(_0x1fbb8f[_0x23dca5(0x520)]['audio'][_0x23dca5(0x51f)]=void 0x0);}),this[_0x8bb5a5(0x158)]=!0x0;}async[_0x3f1d19(0xae8)](){return new Promise(async _0x6be87d=>{const _0x207df4=a0_0x1394;if(!this['dataChannel']||_0x207df4(0xada)!==this[_0x207df4(0x428)][_0x207df4(0x720)])return await _0x18a0c6[_0x207df4(0x5e0)](0x64),void _0x6be87d();this['dataChannel']['bufferedAmount']<_0x48d251?_0x6be87d():this[_0x207df4(0x428)]['onBufferedAmountLow']=()=>{const _0x5ef074=_0x207df4;this[_0x5ef074(0x428)]&&(this['dataChannel']['onBufferedAmountLow']=null),_0x6be87d();};});}async['sendChunked'](_0x245370,_0x1bf4e2){const _0x30caa6=_0x3f1d19,_0x4329ac=[];for(let _0x506550=0x0;_0x506550<_0x1bf4e2['length'];_0x506550+=_0x1dede0)_0x4329ac[_0x30caa6(0x24b)](_0x1bf4e2[_0x30caa6(0x74d)](_0x506550,_0x506550+_0x1dede0));for(const _0x44d484 of _0x4329ac){for(;this[_0x30caa6(0x9f4)]['queues'][_0x1754a9['Low']]['size']>0x1;)await _0x18a0c6[_0x30caa6(0x5e0)](0x64);this['sendWithRetry'](_0x4ac88d+';'+_0x245370[_0x30caa6(0x5d1)]+';'+_0x4329ac['indexOf'](_0x44d484)+';'+_0x4329ac['length']+';'+_0x44d484,_0x1754a9[_0x30caa6(0x192)]);}}async[_0x3f1d19(0x9fc)](_0x849063,_0x45b411){const _0x50f725=_0x3f1d19;_0x849063===_0x625b65?this[_0x50f725(0x9f4)][_0x50f725(0x55b)][_0x45b411][_0x50f725(0x9c4)]?.[_0x50f725(0x225)]!==_0x625b65&&this[_0x50f725(0x9f4)][_0x50f725(0x55b)][_0x45b411]['unshift'](_0x849063):this[_0x50f725(0x9f4)][_0x50f725(0x55b)][_0x45b411][_0x50f725(0x24b)](_0x849063);}['sendAction'](_0x12a92b){const _0x3d208a=_0x3f1d19;if(!this['dataChannel']||'open'!==this['dataChannel']['state'])throw new Error(_0x3d208a(0x401));if(this[_0x3d208a(0x428)][_0x3d208a(0xa2f)]>=0x600000)throw new Error(_0x3d208a(0x60f));const _0x2c3d24=Date['now']();_0x12a92b!==_0x625b65&&(this[_0x3d208a(0x7bf)]+=0x1,this[_0x3d208a(0xac7)]+=_0x12a92b instanceof ArrayBuffer?_0x12a92b[_0x3d208a(0x440)]:_0x12a92b[_0x3d208a(0x744)]);try{ArrayBuffer,this[_0x3d208a(0x428)][_0x3d208a(0x3b4)](_0x12a92b);}catch(_0x182494){throw console[_0x3d208a(0x9e0)]('DataChannel\x20send\x20error',_0x182494),_0x182494;}this[_0x3d208a(0x5c1)]+=Date[_0x3d208a(0x64c)]()-_0x2c3d24;}[_0x3f1d19(0x6ce)](){const _0x54b8d2=_0x3f1d19;this[_0x54b8d2(0x2f2)]&&this['clearHeartbeat']();let _0x55e6c9=!0x0,_0x3ff74b=Date[_0x54b8d2(0x64c)]();this['lastHeartbeat']=Date[_0x54b8d2(0x64c)](),this[_0x54b8d2(0x428)]['onMessage']=_0x3e9763=>{const _0xc05f23=_0x54b8d2;'1'===_0x3e9763['data']&&(this['roundTripTime']=Date[_0xc05f23(0x64c)]()-_0x3ff74b,_0x55e6c9&&this[_0xc05f23(0x1b3)]({'type':_0x57287b[_0xc05f23(0x832)]}),_0x55e6c9=!0x1,this[_0xc05f23(0x4f3)]=Date[_0xc05f23(0x64c)](),this[_0xc05f23(0x158)]&&(this[_0xc05f23(0x158)]=!0x1,this[_0xc05f23(0xac8)]()));},this[_0x54b8d2(0x2f2)]=_0x18a0c6['setInterval'](()=>{const _0x56e7ca=_0x54b8d2;_0x3ff74b=Date[_0x56e7ca(0x64c)](),this[_0x56e7ca(0x9fc)](_0x625b65,_0x1754a9[_0x56e7ca(0x654)]),Date[_0x56e7ca(0x64c)]()-this[_0x56e7ca(0x4f3)]>(_0x55e6c9?0x15f90:0x3a98)&&this[_0x56e7ca(0x838)]();},0xbb8);}[_0x3f1d19(0xac8)](){const _0x1670ec=_0x3f1d19;this[_0x1670ec(0x836)][_0x1670ec(0xa0d)](_0x2478d9=>{const _0x36498c=_0x1670ec;_0x2478d9[_0x36498c(0x520)]['video']&&_0x2478d9[_0x36498c(0x520)]['video'][_0x36498c(0x20f)]&&!_0x2478d9['tracks'][_0x36498c(0x1ce)][_0x36498c(0x51f)]&&(_0x2478d9[_0x36498c(0x520)][_0x36498c(0x1ce)][_0x36498c(0x51f)]=this[_0x36498c(0x510)]['addTrack'](_0x2478d9[_0x36498c(0x520)][_0x36498c(0x1ce)][_0x36498c(0x20f)],_0x2478d9[_0x36498c(0x159)])),_0x2478d9['tracks'][_0x36498c(0x9d7)]&&_0x2478d9['tracks'][_0x36498c(0x9d7)]['track']&&!_0x2478d9[_0x36498c(0x520)][_0x36498c(0x9d7)][_0x36498c(0x51f)]&&(_0x2478d9['tracks'][_0x36498c(0x9d7)]['sender']=this[_0x36498c(0x510)]['addTrack'](_0x2478d9[_0x36498c(0x520)]['audio'][_0x36498c(0x20f)],_0x2478d9[_0x36498c(0x159)]));});}['sendIceCandidates'](){const _0x928446=_0x3f1d19;this['publishSystemMessage']({'type':_0x57287b['Handshake'],'candidates':this['handshakeCandidates'],'origin':_0x32a158['Sender'],'version':this[_0x928446(0xaf3)],'connectionType':this[_0x928446(0x4f5)]});}[_0x3f1d19(0x9a9)](){const _0x12da46=_0x3f1d19;super[_0x12da46(0x9a9)](),this[_0x12da46(0x510)][_0x12da46(0x9e3)]=()=>{const _0x13c0d6=_0x12da46;if(_0x13c0d6(0x2e4)===this[_0x13c0d6(0x510)][_0x13c0d6(0x413)]){_0x576b91['log'](_0x419b0a['ConnectionState'],_0x13c0d6(0x138),this[_0x13c0d6(0x72c)][_0x13c0d6(0x7be)](),this[_0x13c0d6(0x6de)]);try{if(this[_0x13c0d6(0x510)]['canRestartHandshake'])return void this['connection'][_0x13c0d6(0x368)]();}catch(_0x36f6b1){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x12da46(0x510)][_0x12da46(0xaa7)]=()=>{const _0x300559=_0x12da46;'disconnected'!==this[_0x300559(0x510)][_0x300559(0x55c)]&&_0x300559(0x2e4)!==this[_0x300559(0x510)][_0x300559(0x55c)]||this[_0x300559(0x838)]();};}['handleDisconnect'](){const _0x29a7ad=_0x3f1d19;this[_0x29a7ad(0x18d)](),this[_0x29a7ad(0x3d1)](),this[_0x29a7ad(0x2d0)](),_0x576b91[_0x29a7ad(0x7f4)]('disconnect',{'clusterId':this[_0x29a7ad(0x7d9)],'nodeId':this[_0x29a7ad(0x72c)][_0x29a7ad(0x7be)](),'nodeType':this['localNode']['type'],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x29a7ad(0x4f5)],'connectionState':this['connection'][_0x29a7ad(0x55c)],'iceConnectionState':this[_0x29a7ad(0x510)][_0x29a7ad(0x413)],'signalingState':this[_0x29a7ad(0x510)][_0x29a7ad(0x318)],'readyState':this[_0x29a7ad(0x428)]?.[_0x29a7ad(0x720)]||'','lastHeartbeat':this[_0x29a7ad(0x4f3)]?Date[_0x29a7ad(0x64c)]()-this[_0x29a7ad(0x4f3)]:'','retryQueue':this[_0x29a7ad(0x9f4)]}}),(this[_0x29a7ad(0x4f3)]&&Date[_0x29a7ad(0x64c)]()-this[_0x29a7ad(0x4f3)]>0xea60)??0x1?this[_0x29a7ad(0x8f2)][_0x29a7ad(0x4f8)]({'sourceId':this[_0x29a7ad(0x6de)],'destinationIds':[this[_0x29a7ad(0x72c)][_0x29a7ad(0x7be)]()],'messageType':_0x21fe4c[_0x29a7ad(0xab3)],'content':{'type':_0x57287b[_0x29a7ad(0xa87)]}}):(this['resetConnection'](),this[_0x29a7ad(0x1b3)]({'type':_0x57287b[_0x29a7ad(0x276)],'version':this[_0x29a7ad(0xaf3)],'connectionType':this['connectionType']}),this['restartTimeout']=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0x3f1d19(0x18d)](){const _0x30b9b2=_0x3f1d19;this[_0x30b9b2(0x2f2)]?.(),delete this[_0x30b9b2(0x2f2)];}[_0x3f1d19(0x2d0)](){const _0x3a8ab5=_0x3f1d19;this[_0x3a8ab5(0x807)]&&(clearTimeout(this[_0x3a8ab5(0x807)]),delete this['connectionTimeout']);}['clearRestartTimeout'](){const _0x49d6ef=_0x3f1d19;this['restartTimeout']&&(clearTimeout(this['restartTimeout']),delete this[_0x49d6ef(0x278)]);}[_0x3f1d19(0xa05)](){const _0x5a694e=_0x3f1d19;this[_0x5a694e(0xb42)]&&(clearTimeout(this[_0x5a694e(0xb42)]),delete this[_0x5a694e(0xb42)]);}[_0x3f1d19(0x2e6)](){const _0x2fc3d4=_0x3f1d19;this[_0x2fc3d4(0xb42)]=setTimeout(()=>{const _0x5fa29d=_0x2fc3d4;this[_0x5fa29d(0x2a1)]({'type':_0x53c86d[_0x5fa29d(0x2e5)],'action':_0x41d86a[_0x5fa29d(0x82f)]});},0x3a98);}[_0x3f1d19(0x133)](_0x16874d,_0x355d4e){const _0x41a9dd=_0x3f1d19,_0x243999=Math[_0x41a9dd(0x920)](_0x16874d[_0x41a9dd(0x757)]/_0x355d4e[_0x41a9dd(0x757)],_0x16874d[_0x41a9dd(0x3cc)]/_0x355d4e[_0x41a9dd(0x3cc)]);return Math[_0x41a9dd(0x701)](Math[_0x41a9dd(0x920)](_0x243999,0x1),0x4);}[_0x3f1d19(0xa42)](){const _0x1e0443=_0x3f1d19;this[_0x1e0443(0x5be)]?.(),delete this['waitAnswer'];}[_0x3f1d19(0x3c1)](){const _0x427f8d=_0x3f1d19;this[_0x427f8d(0x917)]&&(clearTimeout(this[_0x427f8d(0x917)]),delete this[_0x427f8d(0x917)]);}[_0x3f1d19(0x389)](_0x14f30c){const _0x24b4c0=_0x3f1d19,_0x5402fe=JSON[_0x24b4c0(0x300)](_0x14f30c);return new TextEncoder()[_0x24b4c0(0x845)](_0x5402fe)[_0x24b4c0(0x26b)];}[_0x3f1d19(0x187)](_0x5d4efa,_0x119050){const _0x3fc8c8=_0x3f1d19,_0x51936b=this[_0x3fc8c8(0x389)](_0x5d4efa),_0x3c45b0=new Uint8Array(0x4),_0x5c5d67=new Uint8Array(_0x51936b),_0x57e0f2=new Uint8Array(_0x119050);_0x3c45b0[_0x3fc8c8(0xb36)](new Uint8Array(new Uint32Array([_0x5c5d67[_0x3fc8c8(0x744)]])[_0x3fc8c8(0x26b)]));const _0x52b063=new Uint8Array(0x4+_0x5c5d67[_0x3fc8c8(0x744)]+_0x57e0f2[_0x3fc8c8(0x744)]);return _0x52b063['set'](_0x3c45b0),_0x52b063[_0x3fc8c8(0xb36)](_0x5c5d67,0x4),_0x52b063[_0x3fc8c8(0xb36)](_0x57e0f2,0x4+_0x5c5d67[_0x3fc8c8(0x744)]),_0x52b063[_0x3fc8c8(0x26b)];}}class _0x39d1b2 extends _0x55c855{[_0x3f1d19(0x61a)];['connectionType'];['maxFps'];[_0x3f1d19(0x2fc)];['connectionConstructor'];[_0x3f1d19(0x86d)];['receiverConnection'];[_0x3f1d19(0x8e7)]=[];['messageListeners']=_0x239c52();[_0x3f1d19(0x9d1)]=_0x239c52();[_0x3f1d19(0x35a)]=_0x239c52();[_0x3f1d19(0x53d)]=[];[_0x3f1d19(0x8f2)];['dataTopics']=new Map();[_0x3f1d19(0x4c8)]=new Map();[_0x3f1d19(0x515)]=new Map();['mediaUnsubscribers']=new Map();[_0x3f1d19(0xb5b)]=!0x1;constructor(_0x51d6b6,_0x30c39b,_0x204626,_0x2b2638,_0x9cec0e,_0x51a527,_0x1f2e15,_0x4cf40f){const _0x1d0961=_0x3f1d19;super(_0x51d6b6,_0x30c39b,_0x204626),this[_0x1d0961(0x61a)]=_0x2b2638,this[_0x1d0961(0x4f5)]=_0x9cec0e,this[_0x1d0961(0x4eb)]=_0x51a527,this['maxBpp']=_0x1f2e15,this['connectionConstructor']=_0x4cf40f;}['registerPublisher'](_0x2b9bfc){const _0x4a61ba=_0x3f1d19;switch(_0x2b9bfc['getContentType']()){case _0x1c7ce5[_0x4a61ba(0x5a3)][_0x4a61ba(0x86e)]:case _0x1c7ce5[_0x4a61ba(0x5a3)][_0x4a61ba(0xa1f)]:case _0x1c7ce5[_0x4a61ba(0x5a3)][_0x4a61ba(0x3d6)]:case _0x1c7ce5['ContentType'][_0x4a61ba(0x7c8)]:case _0x1c7ce5[_0x4a61ba(0x5a3)][_0x4a61ba(0x84c)]:case _0x1c7ce5[_0x4a61ba(0x5a3)][_0x4a61ba(0xa63)]:case _0x1c7ce5[_0x4a61ba(0x5a3)][_0x4a61ba(0x394)]:case _0x1c7ce5[_0x4a61ba(0x5a3)][_0x4a61ba(0xb1d)]:this[_0x4a61ba(0x730)][_0x4a61ba(0xb36)](_0x2b9bfc[_0x4a61ba(0x897)](),_0x2b9bfc);break;case _0x1c7ce5[_0x4a61ba(0x5a3)][_0x4a61ba(0x18f)]:this[_0x4a61ba(0x515)][_0x4a61ba(0xb36)](_0x2b9bfc[_0x4a61ba(0x897)](),_0x2b9bfc);}}[_0x3f1d19(0x157)](_0x44b0c3){const _0x4f5897=_0x3f1d19;switch(_0x44b0c3[_0x4f5897(0x200)]()){case _0x1c7ce5['ContentType'][_0x4f5897(0x86e)]:case _0x1c7ce5['ContentType'][_0x4f5897(0xa1f)]:case _0x1c7ce5[_0x4f5897(0x5a3)][_0x4f5897(0x3d6)]:case _0x1c7ce5[_0x4f5897(0x5a3)][_0x4f5897(0x7c8)]:case _0x1c7ce5[_0x4f5897(0x5a3)][_0x4f5897(0x84c)]:case _0x1c7ce5[_0x4f5897(0x5a3)]['VectorDatabase']:case _0x1c7ce5[_0x4f5897(0x5a3)]['GraphDatabase']:case _0x1c7ce5[_0x4f5897(0x5a3)][_0x4f5897(0xb1d)]:this['dataTopics'][_0x4f5897(0x233)](_0x44b0c3[_0x4f5897(0x897)]());break;case _0x1c7ce5[_0x4f5897(0x5a3)][_0x4f5897(0x18f)]:this[_0x4f5897(0x515)][_0x4f5897(0x233)](_0x44b0c3[_0x4f5897(0x897)]());}}[_0x3f1d19(0xb17)](_0xb149e4){const _0x4377ee=_0x3f1d19;switch(_0xb149e4[_0x4377ee(0x200)]()){case _0x1c7ce5[_0x4377ee(0x5a3)][_0x4377ee(0x86e)]:case _0x1c7ce5[_0x4377ee(0x5a3)][_0x4377ee(0xa1f)]:case _0x1c7ce5[_0x4377ee(0x5a3)][_0x4377ee(0x3d6)]:case _0x1c7ce5[_0x4377ee(0x5a3)]['KeyValueDatabase']:case _0x1c7ce5[_0x4377ee(0x5a3)][_0x4377ee(0x84c)]:case _0x1c7ce5[_0x4377ee(0x5a3)][_0x4377ee(0xa63)]:case _0x1c7ce5[_0x4377ee(0x5a3)][_0x4377ee(0x394)]:case _0x1c7ce5[_0x4377ee(0x5a3)]['ExternalStorage']:{const _0xcc9fae=_0xb149e4[_0x4377ee(0x565)](_0x51f12b=>{const _0x187238=_0x4377ee;_0x2ea233(_0x51f12b,this['getLocalId']())&&_0x5a926b(_0x51f12b,this[_0x187238(0x6de)])&&this['send'](_0x51f12b);});this[_0x4377ee(0x4c8)][_0x4377ee(0xb36)](_0xb149e4[_0x4377ee(0x897)](),_0xcc9fae);break;}case _0x1c7ce5['ContentType']['Media']:{const _0x5a4d32=_0xb149e4[_0x4377ee(0x565)](({content:_0x2196de})=>{const _0x48a56c=_0x4377ee;switch(_0x2196de['action']){case _0x76f098[_0x48a56c(0x6bd)]:this[_0x48a56c(0x140)](_0x2196de[_0x48a56c(0x20f)],_0x2196de[_0x48a56c(0x159)],_0x2196de[_0x48a56c(0xa82)],_0x2196de[_0x48a56c(0x7a7)]);break;case _0x76f098['Remove']:this[_0x48a56c(0x493)](_0x2196de[_0x48a56c(0x20f)],_0x2196de[_0x48a56c(0x159)]);break;case _0x76f098[_0x48a56c(0x173)]:_0x2196de[_0x48a56c(0xa82)]&&this['setPriority'](_0x2196de['stream'],_0x2196de[_0x48a56c(0xa82)]),_0x2196de[_0x48a56c(0x7a7)]&&this['setParams'](_0x2196de[_0x48a56c(0x159)],_0x2196de[_0x48a56c(0x7a7)]);}});this[_0x4377ee(0x1d5)]['set'](_0xb149e4[_0x4377ee(0x897)](),_0x5a4d32);break;}}}[_0x3f1d19(0x47a)](_0xb84fcb){const _0x839c7d=_0x3f1d19;switch(_0xb84fcb[_0x839c7d(0x200)]()){case _0x1c7ce5[_0x839c7d(0x5a3)][_0x839c7d(0x86e)]:case _0x1c7ce5[_0x839c7d(0x5a3)][_0x839c7d(0xa1f)]:case _0x1c7ce5[_0x839c7d(0x5a3)][_0x839c7d(0x3d6)]:case _0x1c7ce5[_0x839c7d(0x5a3)][_0x839c7d(0x7c8)]:case _0x1c7ce5['ContentType'][_0x839c7d(0x84c)]:case _0x1c7ce5[_0x839c7d(0x5a3)][_0x839c7d(0xa63)]:case _0x1c7ce5[_0x839c7d(0x5a3)][_0x839c7d(0x394)]:case _0x1c7ce5[_0x839c7d(0x5a3)][_0x839c7d(0xb1d)]:this[_0x839c7d(0x4c8)][_0x839c7d(0x459)](_0xb84fcb['getLabel']())?.(),this[_0x839c7d(0x4c8)][_0x839c7d(0x233)](_0xb84fcb['getLabel']());break;case _0x1c7ce5[_0x839c7d(0x5a3)][_0x839c7d(0x18f)]:this[_0x839c7d(0x1d5)]['get'](_0xb84fcb[_0x839c7d(0x897)]())?.(),this[_0x839c7d(0x1d5)][_0x839c7d(0x233)](_0xb84fcb['getLabel']());}}['getSupportedContentTypes'](){const _0x4f1ec6=_0x3f1d19;return[_0x1c7ce5['ContentType']['Data'],_0x1c7ce5[_0x4f1ec6(0x5a3)]['Media'],_0x1c7ce5[_0x4f1ec6(0x5a3)]['PubSub'],_0x1c7ce5[_0x4f1ec6(0x5a3)][_0x4f1ec6(0x3d6)],_0x1c7ce5[_0x4f1ec6(0x5a3)][_0x4f1ec6(0x7c8)],_0x1c7ce5[_0x4f1ec6(0x5a3)][_0x4f1ec6(0x84c)],_0x1c7ce5['ContentType'][_0x4f1ec6(0xa63)],_0x1c7ce5['ContentType'][_0x4f1ec6(0x394)],_0x1c7ce5[_0x4f1ec6(0x5a3)][_0x4f1ec6(0xb1d)]];}[_0x3f1d19(0x819)](_0x142e0d){const _0x175f84=_0x3f1d19;this[_0x175f84(0x8f2)]=_0x142e0d;}[_0x3f1d19(0x8ad)](){const _0x561f5d=_0x3f1d19;delete this[_0x561f5d(0x8f2)];}async[_0x3f1d19(0x6eb)](){const _0x1247a9=_0x3f1d19;this[_0x1247a9(0xb34)](),await this[_0x1247a9(0x3a6)]();}[_0x3f1d19(0x87b)](){const _0x4b9ae7=_0x3f1d19;this['listenerUnsubscribers'][_0x4b9ae7(0xa0d)](_0x10f04f=>_0x10f04f()),this[_0x4b9ae7(0x53d)]=[],this[_0x4b9ae7(0x86d)]?.[_0x4b9ae7(0x8ad)](),this[_0x4b9ae7(0x86d)]?.[_0x4b9ae7(0x87b)](),delete this[_0x4b9ae7(0x86d)],this[_0x4b9ae7(0x8e7)][_0x4b9ae7(0xa0d)](_0x1482a2=>_0x1482a2()),this[_0x4b9ae7(0x8e7)]=[],this['receiverConnection']?.[_0x4b9ae7(0x8ad)](),this[_0x4b9ae7(0x2b6)]?.[_0x4b9ae7(0x87b)](),delete this['receiverConnection'];}[_0x3f1d19(0x6a3)](){const _0x41f8b5=_0x3f1d19;return this[_0x41f8b5(0x86d)]?.[_0x41f8b5(0x6a3)]()&&this[_0x41f8b5(0x2b6)]?.[_0x41f8b5(0x6a3)]()||!0x1;}[_0x3f1d19(0x3b4)](_0x3b46d2){const _0x221c1e=_0x3f1d19;if(!this[_0x221c1e(0x86d)]||!this[_0x221c1e(0x6a3)]())throw new _0x5c1da3(_0x5c1da3[_0x221c1e(0x91b)][_0x221c1e(0xa31)],{'message':_0x221c1e(0x2c5),'senderConnected':this['senderConnection']?.[_0x221c1e(0x6a3)](),'receiverConnected':this[_0x221c1e(0x2b6)]?.['isConnected'](),'localId':this[_0x221c1e(0x4c2)](),'remoteId':this[_0x221c1e(0x6de)],'data':_0x3b46d2});this['senderConnection'][_0x221c1e(0x3b4)](_0x3b46d2);}['onMessage'](_0x19b676){const _0x2341b5=_0x3f1d19;return this[_0x2341b5(0x80e)]['subscribe'](_0x19b676);}[_0x3f1d19(0x9cf)](_0x38c407){const _0xc3c1a7=_0x3f1d19;return this[_0xc3c1a7(0x9d1)]['subscribe'](({track:_0x49eb23,stream:_0x3d99e5})=>_0x38c407(_0x49eb23,_0x3d99e5));}['onRemoveTrack'](_0x40ddad){const _0x1d003e=_0x3f1d19;return this[_0x1d003e(0x35a)][_0x1d003e(0x565)](({track:_0x5ba75e,stream:_0x54acff})=>_0x40ddad(_0x5ba75e,_0x54acff));}['addTrack'](_0xf6df1f,_0xd2da95,_0x93b5f4,_0x2bee2b){const _0x4e2693=_0x3f1d19;this[_0x4e2693(0x86d)]?.['addTrack'](_0xf6df1f,_0xd2da95,_0x93b5f4,_0x2bee2b);}[_0x3f1d19(0x717)](_0x5dfd27,_0x372768){const _0x3bd11b=_0x3f1d19;this[_0x3bd11b(0x86d)]?.[_0x3bd11b(0x717)](_0x5dfd27,_0x372768);}['setParams'](_0x5588da,_0x12918e){this['senderConnection']?.['setParams'](_0x5588da,_0x12918e);}[_0x3f1d19(0x493)](_0x2631ac,_0x6dc7b5){const _0x297bc2=_0x3f1d19;this[_0x297bc2(0x86d)]?.[_0x297bc2(0x493)](_0x2631ac,_0x6dc7b5);}async[_0x3f1d19(0x8c0)](_0x30b309){const _0x220075=_0x3f1d19;_0x576b91[_0x220075(0x279)](_0x419b0a[_0x220075(0x887)],_0x220075(0xaa3),this[_0x220075(0x4c2)](),_0x30b309);const {content:_0x4b85f1}=_0x30b309;switch(_0x4b85f1[_0x220075(0x8c9)]){case _0x57287b[_0x220075(0x6b7)]:await this[_0x220075(0xa67)](_0x4b85f1);break;case _0x57287b[_0x220075(0x496)]:await this[_0x220075(0xaaa)](_0x4b85f1);break;case _0x57287b[_0x220075(0x832)]:this[_0x220075(0x376)]();break;case _0x57287b['Handshake']:await this[_0x220075(0x44b)](_0x4b85f1);break;case _0x57287b['NeedRestart']:this[_0x220075(0xb3f)](_0x4b85f1);break;case _0x57287b[_0x220075(0x6dd)]:await this['createOffer']();}}[_0x3f1d19(0x7ed)](_0x4b04cc){const _0x7c70b0=_0x3f1d19;this[_0x7c70b0(0x86d)]?.[_0x7c70b0(0x2a1)](_0x4b04cc[_0x7c70b0(0x861)][_0x7c70b0(0xa34)]);}[_0x3f1d19(0x414)](){return this['connectionType'];}['setConnectionType'](_0x3c0b3f){const _0x3d3163=_0x3f1d19;this['connectionType']=_0x3c0b3f,this[_0x3d3163(0x86d)]?.[_0x3d3163(0x7ec)](_0x3c0b3f),this[_0x3d3163(0x2b6)]?.[_0x3d3163(0x7ec)](_0x3c0b3f);}async[_0x3f1d19(0x77f)](){const _0x2115f0=_0x3f1d19;await this[_0x2115f0(0x86d)]?.[_0x2115f0(0x77f)](),await this[_0x2115f0(0x2b6)]?.['collectStats']();}['calculateArrayBufferSize'](){const _0x2e9f5e=_0x3f1d19;return this[_0x2e9f5e(0x86d)]?.[_0x2e9f5e(0x411)]()??0x0;}[_0x3f1d19(0x610)](){return this['senderConnection']?.['getBufferedAmount']()??0x0;}[_0x3f1d19(0xb34)](){const _0x43d23b=_0x3f1d19;this['listenerUnsubscribers']['push'](this[_0x43d23b(0x816)](_0x4bea53=>{const _0x368bbe=_0x43d23b;_0x5a926b(_0x4bea53,this[_0x368bbe(0x4c2)]())&&0x0!==_0x4bea53[_0x368bbe(0x45b)]&&this[_0x368bbe(0x730)]['get'](_0x4bea53[_0x368bbe(0x45b)])?.['publish'](_0x4bea53);})),this[_0x43d23b(0x53d)][_0x43d23b(0x24b)](this[_0x43d23b(0x9cf)]((_0x178f86,_0x2914c5)=>{const _0x581d6a=_0x43d23b,_0x289fc7=_0x34aa05(_0x1c7ce5['ContentType'][_0x581d6a(0x18f)],_0x2914c5['id'],this[_0x581d6a(0x6de)]);this['mediaTopics'][_0x581d6a(0x459)](_0x289fc7)?.['publish']({'topicLabel':_0x289fc7,'sourceId':this[_0x581d6a(0x6de)],'contentType':_0x1c7ce5[_0x581d6a(0x5a3)]['Media'],'content':{'action':_0x76f098[_0x581d6a(0x2bd)],'track':_0x178f86,'stream':_0x2914c5,'providerId':this[_0x581d6a(0x6de)]}});})),this['listenerUnsubscribers'][_0x43d23b(0x24b)](this[_0x43d23b(0x450)]((_0x39c10b,_0x3921a7)=>{const _0x2f0ed5=_0x43d23b,_0x390ca9=_0x34aa05(_0x1c7ce5[_0x2f0ed5(0x5a3)][_0x2f0ed5(0x18f)],_0x3921a7['id'],this[_0x2f0ed5(0x6de)]);this[_0x2f0ed5(0x515)][_0x2f0ed5(0x459)](_0x390ca9)?.[_0x2f0ed5(0x4f8)]({'topicLabel':_0x390ca9,'sourceId':this[_0x2f0ed5(0x6de)],'contentType':_0x1c7ce5[_0x2f0ed5(0x5a3)][_0x2f0ed5(0x18f)],'content':{'action':_0x76f098[_0x2f0ed5(0x371)],'track':_0x39c10b,'stream':_0x3921a7,'providerId':this['remoteId']}});}));}[_0x3f1d19(0x44b)]({candidates:_0x4ffdf8,origin:_0x4fa7b6,version:_0x60a138}){const _0x59c5b0=_0x3f1d19;return _0x4fa7b6===_0x32a158[_0x59c5b0(0x1ba)]?(this[_0x59c5b0(0x2b6)]||this[_0x59c5b0(0x4ab)](),this[_0x59c5b0(0x2b6)][_0x59c5b0(0x6c1)](_0x4ffdf8,_0x60a138)):this[_0x59c5b0(0x86d)]['handleHandshake'](_0x4ffdf8,_0x60a138);}async[_0x3f1d19(0x3a6)](){const _0x15081f=_0x3f1d19;this['senderConnection']||this[_0x15081f(0x7a2)](),await this[_0x15081f(0x86d)][_0x15081f(0x3a6)]();}async[_0x3f1d19(0xa67)]({offer:_0x32cc63,version:_0x3af0ed}){const _0x48d3cb=_0x3f1d19;this[_0x48d3cb(0x2b6)]||this['createReceiverConnection'](),await this[_0x48d3cb(0x2b6)][_0x48d3cb(0xa67)](_0x32cc63,_0x3af0ed);}async[_0x3f1d19(0xaaa)]({answer:_0x26f370,version:_0x234cb4}){const _0x3dc40a=_0x3f1d19;if(!this[_0x3dc40a(0x86d)])throw new _0x5c1da3(_0x5c1da3[_0x3dc40a(0x91b)][_0x3dc40a(0xa31)],{'message':_0x3dc40a(0x8ea),'localId':this['getLocalId'](),'remoteId':this['remoteId'],'answer':_0x26f370});await this[_0x3dc40a(0x86d)][_0x3dc40a(0xaaa)](_0x26f370,_0x234cb4);}[_0x3f1d19(0x376)](){const _0x36c6ad=_0x3f1d19;if(!this[_0x36c6ad(0x2b6)])throw new _0x5c1da3(_0x5c1da3[_0x36c6ad(0x91b)][_0x36c6ad(0xa31)],{'message':_0x36c6ad(0x1de),'localId':this['getLocalId'](),'remoteId':this[_0x36c6ad(0x6de)]});this[_0x36c6ad(0x2b6)][_0x36c6ad(0x376)](),this[_0x36c6ad(0xb5b)]||this[_0x36c6ad(0x4f5)]!==_0x4bb910[_0x36c6ad(0x821)]||(this[_0x36c6ad(0xb5b)]=!0x0,this['systemTopic']?.['publish']({'sourceId':this[_0x36c6ad(0x6de)],'destinationIds':[this['getLocalId']()],'messageType':_0x21fe4c['PeerConnection'],'content':{'type':_0x57287b[_0x36c6ad(0x8a7)]}}));}[_0x3f1d19(0xb3f)](_0x1dfbd7){const _0x67193=_0x3f1d19;this['receiverConnection']||this[_0x67193(0x4ab)](),this[_0x67193(0x2b6)]['handleNeedRestart'](_0x1dfbd7[_0x67193(0xab6)]);}[_0x3f1d19(0x7a2)](){const _0x353276=_0x3f1d19;this[_0x353276(0x86d)]=new _0xb588da(this[_0x353276(0x7d9)],this[_0x353276(0x72c)],this[_0x353276(0x6de)],this['iceServers'],this['connectionType'],this['maxFps'],this[_0x353276(0x2fc)],this['connectionConstructor']),this[_0x353276(0x86d)][_0x353276(0x819)](this['systemTopic']);}[_0x3f1d19(0x4ab)](){const _0x165966=_0x3f1d19;this[_0x165966(0x2b6)]=new _0x438e3e(this[_0x165966(0x7d9)],this[_0x165966(0x72c)],this[_0x165966(0x6de)],this[_0x165966(0x61a)],this[_0x165966(0x4f5)],this[_0x165966(0xad9)]),this[_0x165966(0x2b6)][_0x165966(0x819)](this['systemTopic']),this[_0x165966(0x8e7)]['push'](this[_0x165966(0x2b6)][_0x165966(0x816)](_0x340cd6=>this[_0x165966(0x80e)][_0x165966(0x4f8)](_0x340cd6))),this[_0x165966(0x8e7)][_0x165966(0x24b)](this[_0x165966(0x2b6)][_0x165966(0x9cf)]((_0x2b60a5,_0x3a0e35)=>this[_0x165966(0x9d1)][_0x165966(0x4f8)]({'track':_0x2b60a5,'stream':_0x3a0e35}))),this[_0x165966(0x8e7)][_0x165966(0x24b)](this[_0x165966(0x2b6)][_0x165966(0x450)]((_0x2e59a3,_0x8b0cb1)=>this[_0x165966(0x35a)][_0x165966(0x4f8)]({'track':_0x2e59a3,'stream':_0x8b0cb1})));}}class _0x4ad95f{[_0x3f1d19(0xb15)];[_0x3f1d19(0x20d)];[_0x3f1d19(0x1d6)];[_0x3f1d19(0x970)]=new Map();['messageListeners']=_0x239c52();[_0x3f1d19(0xafa)];['dataTopics']=new Map();[_0x3f1d19(0x4c8)]=new Map();['retryQueues']=new Map();constructor(_0x3fc851,_0x380986,_0x4cc200){const _0x11556a=_0x3f1d19;this['localId']=_0x3fc851,this[_0x11556a(0x20d)]=_0x380986,this[_0x11556a(0x1d6)]=_0x4cc200,this[_0x11556a(0xafa)]=this[_0x11556a(0x816)](_0x1f9780=>{const _0x51f71c=_0x11556a;this['messageBuffer'][_0x51f71c(0x8e3)](_0x1f9780[_0x51f71c(0x5d1)])||(_0x5a926b(_0x1f9780,this['localId'])&&0x0!==_0x1f9780[_0x51f71c(0x45b)]&&(this[_0x51f71c(0x20d)][_0x51f71c(0x73d)](_0x1f9780[_0x51f71c(0x5d1)]),this[_0x51f71c(0x730)]['get'](_0x1f9780['topicLabel'])?.['publish'](_0x1f9780)),_0x1f9780['propagate']&&this['send'](_0x1f9780));});}['close'](){const _0x35fc33=_0x3f1d19;this[_0x35fc33(0xafa)]?.();}[_0x3f1d19(0x332)](_0x461023){const _0x183cb7=_0x3f1d19,_0x4be4ca=_0x461023[_0x183cb7(0x816)](_0x3c99c6=>{const _0x339115=_0x183cb7;this[_0x339115(0x80e)][_0x339115(0x4f8)](_0x3c99c6);});this[_0x183cb7(0x970)][_0x183cb7(0xb36)](_0x461023,_0x4be4ca),this[_0x183cb7(0xac3)][_0x183cb7(0xb36)](_0x461023[_0x183cb7(0x8e1)](),function(_0x5e6709,_0x3476c6=!0x1){let _0x315a47=new Map();const _0x41201c=_0x17b55c(_0x5e6709,_0x3476c6,function(_0x3cac59){const _0x472540=a0_0x1394;_0x2b788f(_0x3cac59)&&_0x315a47[_0x472540(0x233)](_0x3cac59[_0x472540(0x634)]+'-'+(_0x3cac59['destinationIds']??[])+'-'+_0x3cac59['messageType']+'-'+_0x3cac59[_0x472540(0x861)]['type']);},function(_0x5e563e){return!!function(_0x397944){const _0x54f5cf=a0_0x1394,_0x36fe00=_0x397944[_0x54f5cf(0x225)];if(!_0x2b788f(_0x36fe00))return!0x1;const _0x13fed6=_0x36fe00[_0x54f5cf(0x634)]+'-'+(_0x36fe00['destinationIds']??[])+'-'+_0x36fe00['messageType']+'-'+_0x36fe00['content'][_0x54f5cf(0x8c9)],_0x136169={'version':_0x36fe00[_0x54f5cf(0x861)][_0x54f5cf(0xab6)],'element':_0x397944},_0x3673d2=_0x315a47[_0x54f5cf(0x459)](_0x13fed6);return _0x3673d2?(_0x3673d2[_0x54f5cf(0xab6)]>=_0x36fe00['content'][_0x54f5cf(0xab6)]||(_0x3673d2[_0x54f5cf(0x5d2)][_0x54f5cf(0x644)]&&(_0x3673d2[_0x54f5cf(0x5d2)][_0x54f5cf(0x644)]['next']=_0x397944,_0x397944['previous']=_0x3673d2[_0x54f5cf(0x5d2)]['previous']),_0x3673d2[_0x54f5cf(0x5d2)][_0x54f5cf(0xad8)]&&(_0x3673d2[_0x54f5cf(0x5d2)][_0x54f5cf(0xad8)]['previous']=_0x397944,_0x397944[_0x54f5cf(0xad8)]=_0x3673d2[_0x54f5cf(0x5d2)][_0x54f5cf(0xad8)]),_0x3673d2[_0x54f5cf(0x5d2)]===_0x41201c[_0x54f5cf(0x9c4)]&&(_0x41201c[_0x54f5cf(0x9c4)]=_0x397944),_0x3673d2[_0x54f5cf(0x5d2)]===_0x41201c[_0x54f5cf(0x851)]&&(_0x41201c[_0x54f5cf(0x851)]=_0x397944),_0x315a47[_0x54f5cf(0xb36)](_0x13fed6,_0x136169)),!0x0):(_0x315a47[_0x54f5cf(0xb36)](_0x13fed6,_0x136169),!0x1);}(_0x5e563e);},function(){_0x315a47['clear']();});function _0x2b788f(_0x3d31d8){const _0x1a8368=a0_0x1394;if(_0x3d31d8&&_0x1a8368(0x725)==typeof _0x3d31d8&&_0x3d31d8[_0x1a8368(0x9e2)](_0x1a8368(0x861))&&_0x3d31d8[_0x1a8368(0x9e2)](_0x1a8368(0x9c1))&&_0x3d31d8['hasOwnProperty']('sourceId')){const _0x5ee517=_0x3d31d8;if(_0x5ee517['content']&&_0x1a8368(0x725)==typeof _0x5ee517[_0x1a8368(0x861)]&&_0x5ee517['content']['hasOwnProperty'](_0x1a8368(0xab6))&&_0x5ee517['content'][_0x1a8368(0x9e2)](_0x1a8368(0x8c9)))return!0x0;}return!0x1;}return _0x41201c;}(new _0x58da28(_0x59be4a=>_0x461023[_0x183cb7(0x3b4)](_0x59be4a),()=>_0x18a0c6['wait'](0x64))));}[_0x3f1d19(0x3ca)](_0x48bc56){const _0x2c5d61=_0x3f1d19;this['connections']['get'](_0x48bc56)?.(),this[_0x2c5d61(0x970)][_0x2c5d61(0x233)](_0x48bc56),this[_0x2c5d61(0xac3)][_0x2c5d61(0x459)](_0x48bc56[_0x2c5d61(0x8e1)]())?.[_0x2c5d61(0x88b)](),this[_0x2c5d61(0xac3)]['delete'](_0x48bc56[_0x2c5d61(0x8e1)]());}[_0x3f1d19(0x6a3)](_0x3ac152){const _0x218e4c=_0x3f1d19;return _0x576b91[_0x218e4c(0x279)](_0x419b0a[_0x218e4c(0x2d9)],'ConnectionGroup',this[_0x218e4c(0xb15)],this[_0x218e4c(0x970)][_0x218e4c(0xa30)]()),0x0!==this[_0x218e4c(0x970)]['size']&&(Array[_0x218e4c(0x663)](this[_0x218e4c(0x970)][_0x218e4c(0xa30)]())[_0x218e4c(0x4d3)](_0x2eb5eb=>_0x2eb5eb['getRemoteId']()===_0x3ac152)?.['isConnected']()??!0x1);}[_0x3f1d19(0x63b)](_0x1de2b8){const _0x366382=_0x3f1d19;this[_0x366382(0x730)][_0x366382(0xb36)](_0x1de2b8[_0x366382(0x897)](),_0x1de2b8);}[_0x3f1d19(0x157)](_0x544038){const _0x3a57b5=_0x3f1d19;this['dataTopics'][_0x3a57b5(0x233)](_0x544038[_0x3a57b5(0x897)]());}[_0x3f1d19(0xb17)](_0x4288d1){const _0x736802=_0x3f1d19,_0x5c2b86=_0x4288d1[_0x736802(0x565)](this[_0x736802(0x3b4)][_0x736802(0x2f6)](this));this[_0x736802(0x4c8)][_0x736802(0xb36)](_0x4288d1[_0x736802(0x897)](),_0x5c2b86);}[_0x3f1d19(0x47a)](_0x2efd12){const _0x48fe8b=_0x3f1d19;this[_0x48fe8b(0x4c8)][_0x48fe8b(0x459)](_0x2efd12[_0x48fe8b(0x897)]())?.(),this['dataUnsubscribers'][_0x48fe8b(0x233)](_0x2efd12['getLabel']());}['getSupportedContentTypes'](){const _0x4fc6db=_0x3f1d19;return[_0x1c7ce5[_0x4fc6db(0x5a3)][_0x4fc6db(0x86e)],_0x1c7ce5['ContentType'][_0x4fc6db(0xa1f)],_0x1c7ce5[_0x4fc6db(0x5a3)]['ObjectStore'],_0x1c7ce5[_0x4fc6db(0x5a3)][_0x4fc6db(0x7c8)],_0x1c7ce5[_0x4fc6db(0x5a3)][_0x4fc6db(0x84c)],_0x1c7ce5[_0x4fc6db(0x5a3)][_0x4fc6db(0xa63)],_0x1c7ce5['ContentType']['GraphDatabase'],_0x1c7ce5[_0x4fc6db(0x5a3)][_0x4fc6db(0xb1d)]];}[_0x3f1d19(0x3b4)](_0x4c039b){const _0x99aa62=_0x3f1d19;if(!0x1===_0x4c039b[_0x99aa62(0x891)]){if(_0x4c039b['propagate']||!_0x4c039b['destinationIds']||0x1!==_0x4c039b['destinationIds']['length'])throw new _0x5c1da3(_0x5c1da3['codes'][_0x99aa62(0x549)],{'message':_0x99aa62(0x8a3),'localId':this[_0x99aa62(0xb15)]});if(!this[_0x99aa62(0x6a3)](_0x4c039b['destinationIds'][0x0]))throw new _0x5056a1(_0x99aa62(0x9ce));}const _0x3f0cc5=_0x4c039b['recipients']??[];try{const {filteredDestinationIds:_0x569014,extendedRecipients:_0x458d2f}=this[_0x99aa62(0x530)](_0x4c039b,_0x3f0cc5);_0x4c039b[_0x99aa62(0x147)]=_0x569014,_0x4c039b['recipients']=_0x458d2f;}catch(_0x2fd950){if(_0x2fd950 instanceof _0x5056a1)return void _0x576b91[_0x99aa62(0x279)](_0x419b0a[_0x99aa62(0x887)],_0x99aa62(0x675),_0x99aa62(0x1a3),_0x4c039b,_0x2fd950[_0x99aa62(0x759)]);}const _0x27cc9c=this[_0x99aa62(0x8dd)](_0x4c039b);this[_0x99aa62(0x303)](_0x4c039b,_0x27cc9c),_0x4c039b['propagate']=_0x27cc9c;const _0x310008=this[_0x99aa62(0x1ed)](_0x4c039b,_0x3f0cc5);for(const _0x554a77 of _0x310008){const _0x5db0e4=this['retryQueues']['get'](_0x554a77[_0x99aa62(0x8e1)]());if(!_0x5db0e4)throw new _0x5c1da3(_0x5c1da3[_0x99aa62(0x91b)][_0x99aa62(0x740)],{'message':_0x99aa62(0x1eb),'localId':this['localId'],'remoteId':_0x554a77[_0x99aa62(0x8e1)](),'data':_0x4c039b});_0x5db0e4['push'](_0x4c039b);}}[_0x3f1d19(0x8e1)](){return'';}[_0x3f1d19(0x4c2)](){const _0x1c68ed=_0x3f1d19;return this[_0x1c68ed(0xb15)];}['onMessage'](_0x5250f0){const _0x415162=_0x3f1d19;return this[_0x415162(0x80e)]['subscribe'](_0x5250f0);}[_0x3f1d19(0x530)](_0x39b11c,_0x265126){const _0x345dfa=_0x3f1d19,_0x3dff59={'filteredDestinationIds':_0x39b11c[_0x345dfa(0x147)],'extendedRecipients':_0x39b11c[_0x345dfa(0x14d)]};if(!_0x39b11c[_0x345dfa(0x72a)])return _0x3dff59;const _0x205657=Array[_0x345dfa(0x663)](this[_0x345dfa(0x970)][_0x345dfa(0xa30)]())[_0x345dfa(0x1e0)](_0x46a63d=>_0x46a63d['getConnectionType']()===_0x4bb910[_0x345dfa(0x7d3)]||_0x46a63d['isConnected']())[_0x345dfa(0x865)](_0x224bf8=>_0x224bf8['getRemoteId']());if(_0x205657[_0x345dfa(0x9ed)]((_0x526830,_0xeb08b1)=>_0x526830&&_0x39b11c[_0x345dfa(0x14d)][_0x345dfa(0xb4d)](_0xeb08b1),!0x0))throw new _0x5056a1(_0x345dfa(0x3a8));if(_0x39b11c['destinationIds']){const _0x4a199f=_0x39b11c[_0x345dfa(0x147)][_0x345dfa(0x1e0)](_0x383906=>_0x383906!==this['localId']&&!_0x39b11c[_0x345dfa(0x14d)][_0x345dfa(0xb4d)](_0x383906));if(0x0===_0x4a199f['length'])throw new _0x5056a1('No\x20destinationIds\x20left');_0x3dff59[_0x345dfa(0x3c8)]=_0x4a199f;}return _0x3dff59[_0x345dfa(0x883)]=[...new Set([..._0x265126,..._0x205657,this[_0x345dfa(0xb15)]])],_0x3dff59;}[_0x3f1d19(0x303)](_0x7fe042,_0x190428=!0x1){const _0xa8d75d=_0x3f1d19;if(0x0===_0x7fe042[_0xa8d75d(0x45b)]&&!_0x2ea233(_0x7fe042,this['localId'])&&_0x7fe042['propagate']){const _0x30a477=_0x357cb9(_0x7fe042,this['localId']);_0x576b91[_0xa8d75d(0x310)](_0x419b0a[_0xa8d75d(0x99c)],_0x7fe042[_0xa8d75d(0x5d1)]+_0xa8d75d(0x79c)+_0x190428+')\x20'+_0x30a477,_0x7fe042,_0x190428);}}['shouldContinuePropagation'](_0x483eb3){const _0x27a2e8=_0x3f1d19;if(_0x483eb3[_0x27a2e8(0x147)]&&_0x483eb3[_0x27a2e8(0x72a)]){const _0x1c5074=Array[_0x27a2e8(0x663)](this[_0x27a2e8(0x970)]['keys']())[_0x27a2e8(0x1e0)](_0x164c7c=>_0x164c7c['getConnectionType']()===_0x4bb910[_0x27a2e8(0x7d3)]||_0x164c7c['isConnected']())['map'](_0x5305ad=>_0x5305ad[_0x27a2e8(0x8e1)]());return!_0x483eb3[_0x27a2e8(0x147)][_0x27a2e8(0x9ed)]((_0x28268e,_0x609b05)=>_0x28268e&&_0x1c5074[_0x27a2e8(0xb4d)](_0x609b05),!0x0);}return _0x483eb3[_0x27a2e8(0x72a)]??!0x1;}[_0x3f1d19(0x1ed)](_0x3da3e2,_0x357333){const _0x30c627=_0x3f1d19;if(_0x3da3e2[_0x30c627(0x72a)]&&_0x3da3e2[_0x30c627(0x147)]){const _0x612200=Array[_0x30c627(0x663)](this[_0x30c627(0x970)][_0x30c627(0xa30)]())[_0x30c627(0x1e0)](_0x41b1eb=>_0x41b1eb[_0x30c627(0x414)]()===_0x4bb910[_0x30c627(0x7d3)]||_0x41b1eb[_0x30c627(0x6a3)]())[_0x30c627(0x865)](_0x5a1373=>_0x5a1373[_0x30c627(0x8e1)]()),_0x519f8b=new Set(),_0xc27b47=_0x3da3e2[_0x30c627(0x634)]===this[_0x30c627(0xb15)]?0x3:0x1;return _0x3da3e2[_0x30c627(0x147)]['forEach'](_0x329c23=>{const _0x16e1c4=_0x30c627,_0x5e77da=this[_0x16e1c4(0x1d6)][_0x16e1c4(0x4d9)](_0x612200,_0x329c23);let _0x5a1673=0x0,_0x2b8fea=0x0;_0x5e77da[_0x16e1c4(0xa0d)](_0x5a8d47=>{const _0x3e9066=_0x16e1c4;if(_0x5a1673>=_0xc27b47)return;const _0x21d852=Array[_0x3e9066(0x663)](this['connections'][_0x3e9066(0xa30)]())[_0x3e9066(0x4d3)](_0x46cafd=>_0x46cafd[_0x3e9066(0x8e1)]()===_0x5a8d47);if(_0x21d852){if(_0x21d852[_0x3e9066(0x414)]()===_0x4bb910[_0x3e9066(0x7d3)]&&_0x2b8fea>0x0)return void(_0x2b8fea-=0x1);_0x519f8b[_0x3e9066(0x7ce)](_0x21d852),_0x21d852[_0x3e9066(0x414)]()===_0x4bb910['Optimization']&&(_0x2b8fea+=0x1),_0x5a1673+=0x1;}});}),Array['from'](_0x519f8b);}return Array[_0x30c627(0x663)](this[_0x30c627(0x970)][_0x30c627(0xa30)]())[_0x30c627(0x1e0)](_0x3d9178=>{const _0x12468b=_0x30c627;return _0x25ab99=_0x3d9178[_0x12468b(0x8e1)](),!_0x357333['includes'](_0x25ab99)&&(_0x5a926b(_0x3da3e2,_0x25ab99)||_0x3da3e2['propagate'])&&(!_0x3da3e2[_0x12468b(0x72a)]||_0x3d9178['isConnected']()||_0x3d9178[_0x12468b(0x414)]()===_0x4bb910[_0x12468b(0x7d3)]);var _0x25ab99;});}}class _0x3a82b4{[_0x3f1d19(0xb15)];['messageBuffer'];[_0x3f1d19(0x970)]=new Map();[_0x3f1d19(0x8f2)];constructor(_0x55d87d,_0x454c22){const _0x3d8c92=_0x3f1d19;this[_0x3d8c92(0xb15)]=_0x55d87d,this['messageBuffer']=_0x454c22;}['close'](){}[_0x3f1d19(0x3b4)](_0xfcfbfb){const _0x22c0e7=_0x3f1d19;for(const _0x3cc57b of this[_0x22c0e7(0x970)][_0x22c0e7(0xa30)]())try{return void _0x3cc57b[_0x22c0e7(0x3b4)]({'retry':!0x1,..._0xfcfbfb});}catch(_0x12f32f){_0x12f32f instanceof _0x5056a1||_0x576b91['log'](_0x419b0a[_0x22c0e7(0xb63)],_0x22c0e7(0xa06)+_0x3cc57b,_0x12f32f,_0xfcfbfb);}_0x576b91[_0x22c0e7(0x279)](_0x419b0a[_0x22c0e7(0xb63)],_0x22c0e7(0xb2b));}[_0x3f1d19(0x332)](_0xa825b3){const _0x491107=_0x3f1d19,_0x30a52d=_0xa825b3[_0x491107(0x816)](_0x2c88ef=>{const _0x59f56c=_0x491107;this['messageBuffer'][_0x59f56c(0x8e3)](_0x2c88ef[_0x59f56c(0x5d1)])||0x0===_0x2c88ef['topicLabel']&&(this['messageBuffer'][_0x59f56c(0x73d)](_0x2c88ef[_0x59f56c(0x5d1)]),_0x5a926b(_0x2c88ef,this['localId'])&&this[_0x59f56c(0x8f2)]?.[_0x59f56c(0x4f8)](_0x2c88ef));});this['connections'][_0x491107(0xb36)](_0xa825b3,_0x30a52d);}[_0x3f1d19(0x3ca)](_0x2ad99c){const _0xe15431=_0x3f1d19;this[_0xe15431(0x970)][_0xe15431(0x459)](_0x2ad99c)?.(),this[_0xe15431(0x970)][_0xe15431(0x233)](_0x2ad99c);}['getLocalId'](){const _0x42efad=_0x3f1d19;return this[_0x42efad(0xb15)];}[_0x3f1d19(0x8e1)](){return'';}['getSupportedContentTypes'](){const _0xdeeb01=_0x3f1d19;return[_0x1c7ce5[_0xdeeb01(0x5a3)][_0xdeeb01(0x86e)]];}[_0x3f1d19(0x6a3)](){const _0x5c642a=_0x3f1d19;throw new Error(_0x5c642a(0xaa0));}[_0x3f1d19(0x819)](_0x1daa59){const _0x480fca=_0x3f1d19;this[_0x480fca(0x8f2)]=_0x1daa59;}[_0x3f1d19(0x8ad)](){delete this['systemTopic'];}}class _0x4b1136{[_0x3f1d19(0x26b)]=new Map();['unsubscribeHandler'];constructor(){const _0x29d4c3=_0x3f1d19;this[_0x29d4c3(0x526)]=_0x18a0c6[_0x29d4c3(0x92b)](()=>{const _0x3eb0fa=_0x29d4c3;for(const [_0x3a9c86,_0x52823c]of this[_0x3eb0fa(0x26b)][_0x3eb0fa(0x736)]())Date[_0x3eb0fa(0x64c)]()-_0x52823c>0x124f80&&this[_0x3eb0fa(0x26b)][_0x3eb0fa(0x233)](_0x3a9c86);},0x1d4c0);}[_0x3f1d19(0x87b)](){const _0x56e688=_0x3f1d19;this[_0x56e688(0x526)]();}[_0x3f1d19(0x73d)](_0x527cfa){const _0x335289=_0x3f1d19;this[_0x335289(0x26b)][_0x335289(0xb36)](_0x527cfa,Date[_0x335289(0x64c)]());}[_0x3f1d19(0x8e3)](_0x162179){const _0x1fc36a=_0x3f1d19;return this[_0x1fc36a(0x26b)][_0x1fc36a(0x1c3)](_0x162179);}}class _0x5847bd{[_0x3f1d19(0x1b8)];[_0x3f1d19(0xaea)];[_0x3f1d19(0x61a)];['options'];['connections']=new Map();[_0x3f1d19(0x473)];[_0x3f1d19(0x7b8)];[_0x3f1d19(0x9be)];[_0x3f1d19(0x20d)];constructor(_0x2bc3ee,_0x385f9f,_0x3de358,_0x294935,_0xcd8b2b){const _0x28cb5c=_0x3f1d19;this[_0x28cb5c(0x1b8)]=_0x2bc3ee,this[_0x28cb5c(0xaea)]=_0x385f9f,this[_0x28cb5c(0x61a)]=_0x294935,this[_0x28cb5c(0xa4f)]=_0xcd8b2b,this[_0x28cb5c(0x20d)]=new _0x4b1136(),this['connectionGroup']=new _0x4ad95f(this[_0x28cb5c(0x1b8)][_0x28cb5c(0x72c)][_0x28cb5c(0x7be)](),this['messageBuffer'],_0x3de358),this[_0x28cb5c(0x9be)]=new _0x14fdc6(this[_0x28cb5c(0x1b8)][_0x28cb5c(0x3db)],this[_0x28cb5c(0x1b8)][_0x28cb5c(0x7d9)],this['configs'][_0x28cb5c(0x72c)],_0x28cb5c(0xac6),this[_0x28cb5c(0xaea)]),this[_0x28cb5c(0x473)]=new _0x3a82b4(this[_0x28cb5c(0x1b8)][_0x28cb5c(0x72c)]['getId'](),this[_0x28cb5c(0x20d)]),this['connectionPool'][_0x28cb5c(0x332)](this[_0x28cb5c(0x7b8)]),this[_0x28cb5c(0x473)][_0x28cb5c(0x332)](this['signalingServer']),this['configs'][_0x28cb5c(0x870)][_0x28cb5c(0x213)](this[_0x28cb5c(0x473)]);}[_0x3f1d19(0x87b)](){const _0xc2d45b=_0x3f1d19;this[_0xc2d45b(0x20d)][_0xc2d45b(0x87b)](),this[_0xc2d45b(0x970)][_0xc2d45b(0xa0d)]((_0x4d236d,_0x18189b)=>this[_0xc2d45b(0x214)](_0x18189b)),this[_0xc2d45b(0x1b8)][_0xc2d45b(0x870)][_0xc2d45b(0x2e9)](this[_0xc2d45b(0x473)]),this[_0xc2d45b(0x473)][_0xc2d45b(0x3ca)](this[_0xc2d45b(0x9be)]),this[_0xc2d45b(0x473)][_0xc2d45b(0x3ca)](this[_0xc2d45b(0x7b8)]),this['connectionPool']['close'](),this[_0xc2d45b(0x9be)]['close'](),this[_0xc2d45b(0x7b8)][_0xc2d45b(0x87b)]();}async[_0x3f1d19(0x6e3)](){const _0x2fa051=_0x3f1d19;await this['signalingServer'][_0x2fa051(0x6eb)]();}async['createConnection'](_0x585070,_0xdb7210=_0x4bb910['Core']){const _0x387893=_0x3f1d19;if(this[_0x387893(0x970)][_0x387893(0x1c3)](_0x585070)){if(this['connections'][_0x387893(0x459)](_0x585070)?.[_0x387893(0x414)]()===_0x4bb910[_0x387893(0x821)]&&_0xdb7210===_0x4bb910['Core'])return void this[_0x387893(0x970)]['get'](_0x585070)?.[_0x387893(0x7ec)](_0x4bb910[_0x387893(0x7d3)]);throw new _0x5c1da3(_0x5c1da3[_0x387893(0x91b)][_0x387893(0x929)],{'localId':this[_0x387893(0x1b8)][_0x387893(0x72c)][_0x387893(0x7be)](),'remoteId':_0x585070});}const _0xba4208=new _0x39d1b2(this['configs'][_0x387893(0x7d9)],this['configs']['localNode'],_0x585070,this[_0x387893(0x61a)],_0xdb7210,this[_0x387893(0xa4f)][_0x387893(0x4eb)],this[_0x387893(0xa4f)][_0x387893(0x2fc)],this[_0x387893(0xa4f)][_0x387893(0xb61)]);this['connections'][_0x387893(0xb36)](_0x585070,_0xba4208),this['connectionGroup'][_0x387893(0x332)](_0xba4208),this['configs'][_0x387893(0x870)]['registerSystemSource'](_0xba4208),this['configs'][_0x387893(0x870)][_0x387893(0x18b)](_0x585070),await _0xba4208[_0x387893(0x6eb)]();}[_0x3f1d19(0x33b)](){return this['connectionGroup'];}[_0x3f1d19(0x4c5)](_0x492b41){const _0x58aa02=_0x3f1d19;if(!this[_0x58aa02(0x970)]['has'](_0x492b41))throw new _0x5c1da3(_0x5c1da3['codes'][_0x58aa02(0x5b3)],{'localId':this['configs']['localNode'][_0x58aa02(0x7be)](),'remoteId':_0x492b41});return this[_0x58aa02(0x970)]['get'](_0x492b41);}[_0x3f1d19(0x491)](_0xdd5c7a){const _0x3b5755=_0x3f1d19,_0x5427ff=Array[_0x3b5755(0x663)](this[_0x3b5755(0x970)][_0x3b5755(0x9b6)]());return _0xdd5c7a?_0x5427ff['filter'](_0xdd5c7a):_0x5427ff;}async['collectStats'](_0x4318a2){const _0x44ceb0=_0x3f1d19,_0x377aad=this[_0x44ceb0(0x970)][_0x44ceb0(0x459)](_0x4318a2);_0x377aad&&_0x377aad[_0x44ceb0(0x6a3)]()&&await _0x377aad[_0x44ceb0(0x77f)]();}['handleOutgoingSystemEvents'](_0x136835){const _0x5997f4=_0x3f1d19;if(_0x136835[_0x5997f4(0x9c1)]!==_0x21fe4c[_0x5997f4(0xab3)]||_0x136835['propagate'])try{this[_0x5997f4(0x7b8)][_0x5997f4(0x3b4)](_0x136835);}catch(_0x44570f){if(_0x44570f instanceof _0x5056a1)return;throw _0x44570f;}else this['connectionPool']['send'](_0x136835);}async['handlePeerConnectionSystemEvents'](_0x3dc2aa){const _0x557035=_0x3f1d19;switch(_0x3dc2aa['content'][_0x557035(0x8c9)]){case _0x57287b[_0x557035(0xa87)]:case _0x57287b['Stats']:case _0x57287b[_0x557035(0x8a7)]:return;}if(!_0x3dc2aa['destinationIds']||0x1!==_0x3dc2aa[_0x557035(0x147)][_0x557035(0x744)])throw new _0x5c1da3(_0x5c1da3[_0x557035(0x91b)]['PeerConnectionInvalidDestination'],{'message':_0x557035(0x3e3),'event':_0x3dc2aa});if(_0x3dc2aa[_0x557035(0x147)][0x0]!==this[_0x557035(0x1b8)][_0x557035(0x72c)]['getId']())throw new _0x5c1da3(_0x5c1da3['codes'][_0x557035(0x812)],{'message':_0x557035(0x1b9),'event':_0x3dc2aa});if(!this[_0x557035(0x970)]['has'](_0x3dc2aa[_0x557035(0x634)])){let _0xf38ed8=_0x4bb910[_0x557035(0x7d3)];if(!(this[_0x557035(0x4a5)](_0x3dc2aa[_0x557035(0x861)])||this['isIceCandidate'](_0x3dc2aa[_0x557035(0x861)])||this[_0x557035(0x9f9)](_0x3dc2aa[_0x557035(0x861)])))return;_0xf38ed8=_0x3dc2aa[_0x557035(0x861)][_0x557035(0x4f5)],await this[_0x557035(0x422)](_0x3dc2aa[_0x557035(0x634)],_0xf38ed8);}const _0x809277=this[_0x557035(0x970)][_0x557035(0x459)](_0x3dc2aa['sourceId']);await _0x809277[_0x557035(0x8c0)](_0x3dc2aa);}[_0x3f1d19(0x7ed)](_0x28dbc4){const _0x25df86=_0x3f1d19;if(_0x28dbc4[_0x25df86(0x861)][_0x25df86(0x8c9)]===_0x53c86d[_0x25df86(0x2e5)]){if(_0x28dbc4[_0x25df86(0x861)]['targetId']===this['configs'][_0x25df86(0x72c)][_0x25df86(0x7be)]())return void this['connections'][_0x25df86(0xa0d)](_0x3a1261=>_0x3a1261[_0x25df86(0x7ed)](_0x28dbc4));this[_0x25df86(0x970)][_0x25df86(0x459)](_0x28dbc4['content'][_0x25df86(0x43d)])?.[_0x25df86(0x7ed)](_0x28dbc4);}}[_0x3f1d19(0x823)]({content:_0x4ccf2c}){const _0x48943a=_0x3f1d19;_0x4ccf2c['type']===_0x2397e8[_0x48943a(0x528)]&&this[_0x48943a(0x214)](_0x4ccf2c['id']);}[_0x3f1d19(0x52a)](){const _0x3eff08=_0x3f1d19,_0x3a290f=Array['from'](this['connections'][_0x3eff08(0x9b6)]())[_0x3eff08(0x9ed)]((_0x53eceb,_0x24a5c6)=>_0x53eceb+_0x24a5c6['calculateArrayBufferSize'](),0x0);return _0x3a290f<_0x59f202?Promise[_0x3eff08(0x9dc)](_0x3a290f):new Promise(_0x1efa4f=>{const _0x3d044e=setInterval(()=>{const _0x580b30=a0_0x1394,_0x33a8c9=Array[_0x580b30(0x663)](this[_0x580b30(0x970)]['values']())[_0x580b30(0x9ed)]((_0x24f541,_0x446147)=>_0x24f541+_0x446147[_0x580b30(0x411)](),0x0);_0x33a8c9<_0x59f202&&(clearInterval(_0x3d044e),_0x1efa4f(_0x33a8c9));},0x3e8);});}[_0x3f1d19(0x9f2)](){const _0x3bd6a9=_0x3f1d19;for(const _0x17ef17 of this['connections'][_0x3bd6a9(0x9b6)]())if(_0x17ef17[_0x3bd6a9(0x610)]()>0x0||_0x17ef17[_0x3bd6a9(0x411)]()>0x0)return!0x0;return!0x1;}[_0x3f1d19(0x214)](_0x36846a){const _0x3512da=_0x3f1d19,_0x39d01e=this['connections']['get'](_0x36846a);_0x39d01e&&(this['configs'][_0x3512da(0x870)]['unregisterRemoteNode'](_0x36846a),this[_0x3512da(0x1b8)][_0x3512da(0x870)][_0x3512da(0x2e9)](_0x39d01e),_0x39d01e instanceof _0x39d1b2&&this[_0x3512da(0x7b8)]['removeConnection'](_0x39d01e),_0x39d01e[_0x3512da(0x87b)](),this[_0x3512da(0x970)][_0x3512da(0x233)](_0x36846a));}[_0x3f1d19(0x4a5)](_0x106f00){const _0x32038a=_0x3f1d19;return _0x106f00[_0x32038a(0x8c9)]===_0x57287b[_0x32038a(0x6b7)];}[_0x3f1d19(0x9f9)](_0x1f1c84){const _0x1c83b3=_0x3f1d19;return _0x1f1c84[_0x1c83b3(0x8c9)]===_0x57287b[_0x1c83b3(0x276)];}[_0x3f1d19(0xb41)](_0x509951){const _0x127096=_0x3f1d19;return _0x509951['type']===_0x57287b[_0x127096(0x93c)];}}!function(_0x1b774e){const _0x325b97=_0x3f1d19;_0x1b774e[_0x1b774e[_0x325b97(0x746)]=0x0]=_0x325b97(0x746),_0x1b774e[_0x1b774e['UpdateMediaStream']=0x1]=_0x325b97(0x56d),_0x1b774e[_0x1b774e['UnsubscribeMediaStream']=0x2]=_0x325b97(0xa11),_0x1b774e[_0x1b774e[_0x325b97(0xb16)]=0x3]=_0x325b97(0xb16),_0x1b774e[_0x1b774e[_0x325b97(0x7ab)]=0x4]='RestartNeedMediaStream',_0x1b774e[_0x1b774e[_0x325b97(0x6fd)]=0x5]=_0x325b97(0x6fd),_0x1b774e[_0x1b774e[_0x325b97(0x54c)]=0x6]='CannotProvideMediaStream',_0x1b774e[_0x1b774e[_0x325b97(0x45a)]=0x7]=_0x325b97(0x45a);}(_0x4fb60c||(_0x4fb60c={}));class _0xbfb377 extends _0x49de5b{[_0x3f1d19(0x72c)];[_0x3f1d19(0x7d9)];[_0x3f1d19(0x3db)];['connectorConstructor'];[_0x3f1d19(0x34c)];[_0x3f1d19(0x8cc)]=0x0;[_0x3f1d19(0x1da)];[_0x3f1d19(0xacb)]=_0x239c52();[_0x3f1d19(0x53d)]=new Map();['changesUnsubscriber'];constructor(_0x3a7b35,_0x227033,_0x1c7675,_0xaf968f,_0x360c1d){const _0x193ef9=_0x3f1d19;if('string'!=typeof _0x227033)throw new _0x122c6c(_0x26fc1d[_0x193ef9(0x764)],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x3a7b35,_0x227033),this['localNode']=_0x3a7b35,this[_0x193ef9(0x7d9)]=_0x1c7675,this['vendorId']=_0xaf968f,this[_0x193ef9(0x1a4)]=_0x360c1d,this[_0x193ef9(0x7e4)]();}[_0x3f1d19(0x31c)](){const _0x40e201=_0x3f1d19;this[_0x40e201(0xa08)]?.(),this[_0x40e201(0x53d)][_0x40e201(0xa0d)](_0x1f0382=>_0x1f0382()),clearTimeout(this['debounceStats']),delete this[_0x40e201(0x34c)],super[_0x40e201(0x31c)]();}['reset'](){const _0x4d98e5=_0x3f1d19;this[_0x4d98e5(0x7e4)]();}[_0x3f1d19(0x87b)](){const _0x35af8e=_0x3f1d19;this[_0x35af8e(0x8f2)][_0x35af8e(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c['Content'],'content':{'type':_0x65c889[_0x35af8e(0x61b)],'label':this[_0x35af8e(0x792)]}});}['getContentType'](){const _0x578f63=_0x3f1d19;return _0x1c7ce5[_0x578f63(0x5a3)][_0x578f63(0xb1d)];}async[_0x3f1d19(0x459)](_0x50f296){const _0x4831e0=_0x3f1d19;if(!this[_0x4831e0(0x1da)])throw new _0x122c6c(_0x26fc1d[_0x4831e0(0x780)],_0x4831e0(0xafe));_0x576b91[_0x4831e0(0x5f3)](_0x1cb6a4[_0x4831e0(0xb1d)],{'type':'get','label':this['label'],'nodeId':this['localNode'][_0x4831e0(0x7be)](),'nodeType':this[_0x4831e0(0x72c)][_0x4831e0(0x8c9)],'clusterId':this[_0x4831e0(0x7d9)],'path':_0x50f296}),this[_0x4831e0(0x8cc)]+=0x1,this[_0x4831e0(0x7e4)]();try{return await this['connector'][_0x4831e0(0x459)](_0x50f296);}catch(_0x28cfc3){throw new _0x122c6c(_0x26fc1d['ExternalStorageInvalidPath'],_0x4831e0(0x931)+_0x50f296);}}async[_0x3f1d19(0x6c8)](_0x4c4d28,_0x180615){const _0x4a6153=_0x3f1d19;if(!this['connector'])throw new _0x122c6c(_0x26fc1d[_0x4a6153(0x780)],_0x4a6153(0x2f1));const {recursive:_0x35a23b=!0x1}=_0x180615??{};_0x576b91[_0x4a6153(0x5f3)](_0x1cb6a4[_0x4a6153(0xb1d)],{'type':_0x4a6153(0x6c8),'label':this['label'],'nodeId':this[_0x4a6153(0x72c)]['getId'](),'nodeType':this[_0x4a6153(0x72c)][_0x4a6153(0x8c9)],'clusterId':this['clusterId'],'path':_0x4c4d28}),this['reads']+=0x1,this[_0x4a6153(0x7e4)]();try{return await this['connector'][_0x4a6153(0x6c8)](_0x4c4d28,_0x35a23b);}catch(_0x124d63){throw new _0x122c6c(_0x26fc1d['ExternalStorageInvalidPath'],_0x4a6153(0xa81)+_0x4c4d28);}}['subscribe'](_0x4d99d7,_0x3d6262){const _0x48ab51=_0x3f1d19;if(this[_0x48ab51(0x53d)][_0x48ab51(0x1c3)](_0x4d99d7))throw new _0x122c6c(_0x26fc1d['ExternalStorageConnectionAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x48ab51(0x53d)]['set'](_0x4d99d7,this[_0x48ab51(0xacb)]['subscribe'](_0x3d6262));}[_0x3f1d19(0x87c)](_0x1e0e4e){const _0x28cf39=_0x3f1d19;this[_0x28cf39(0x53d)][_0x28cf39(0x459)](_0x1e0e4e)?.(),this['listenerUnsubscribers'][_0x28cf39(0x233)](_0x1e0e4e);}async['open'](){const _0xc95b21=_0x3f1d19,_0x9759b0=(await(0x0,_0x46e89c[_0xc95b21(0x59e)])((0x0,_0x46e89c['doc'])(_0x25e54d[_0xc95b21(0x914)](),_0xc95b21(0x584)+this[_0xc95b21(0x3db)]+_0xc95b21(0x946)+this[_0xc95b21(0x792)])))[_0xc95b21(0xa34)]();if(!_0x9759b0)throw new _0x122c6c(_0x26fc1d[_0xc95b21(0xa15)],_0xc95b21(0xac9)+this[_0xc95b21(0x792)]);const {site:_0x591ca8,drive:_0x46e6e4}=_0x9759b0,_0x591398=(await(0x0,_0x2ac1a7['httpsCallable'])(_0x25e54d[_0xc95b21(0xb0a)](),_0xc95b21(0x646))({'storageId':this[_0xc95b21(0x792)]}))[_0xc95b21(0xa34)][_0xc95b21(0x842)];this[_0xc95b21(0x1da)]=new this['connectorConstructor'](_0x591ca8['id'],_0x46e6e4['id'],_0x591398,async()=>(await(0x0,_0x2ac1a7['httpsCallable'])(_0x25e54d[_0xc95b21(0xb0a)](),_0xc95b21(0x606))({'storageId':this[_0xc95b21(0x792)]}))['data'][_0xc95b21(0x842)]),this[_0xc95b21(0x342)]();}[_0x3f1d19(0x7e4)](){const _0x222095=_0x3f1d19;this[_0x222095(0x34c)]&&clearTimeout(this[_0x222095(0x34c)]),this['debounceStats']=setTimeout(async()=>{const _0x125307=_0x222095;delete this[_0x125307(0x34c)],this['systemTopic'][_0x125307(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x125307(0x442)],'content':{'type':_0x65c889[_0x125307(0x7a1)],'label':this[_0x125307(0x792)],'stats':{'timestamp':Date[_0x125307(0x64c)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x125307(0x8cc)],'prompts':0x0,'tokens':0x0}}});},_0x51ac76);}async[_0x3f1d19(0x342)](){const _0x45713a=_0x3f1d19;await this[_0x45713a(0x1da)]?.[_0x45713a(0x3ac)](),this[_0x45713a(0xa08)]=_0x18a0c6[_0x45713a(0x92b)](async()=>{const _0x41be5e=_0x45713a;try{if(!this[_0x41be5e(0x1da)])return;const _0x44a19a=await this['connector'][_0x41be5e(0x3ac)]();for(const _0x31683c of _0x44a19a)this['eventListener'][_0x41be5e(0x4f8)](_0x31683c);}catch(_0x2279c0){}},0x493e0);}}const _0x182d05=require('rxjs');class _0x5a8c0d extends _0x49de5b{[_0x3f1d19(0x1d6)];[_0x3f1d19(0x87a)]=new Map();[_0x3f1d19(0xabf)]=new Map();[_0x3f1d19(0x4ca)]=new Map();['unsubscribeHandler'];constructor(_0x552ca9,_0x5014c2,_0x257674){const _0x7176ec=_0x3f1d19;super(_0x552ca9,_0x5014c2),this[_0x7176ec(0x1d6)]=_0x257674;}[_0x3f1d19(0x200)](){const _0x47e147=_0x3f1d19;return _0x1c7ce5[_0x47e147(0x5a3)][_0x47e147(0x84c)];}['open'](){const _0x100fef=_0x3f1d19;this[_0x100fef(0x526)]=this[_0x100fef(0x816)]((_0x535bfa,_0x3c6679)=>{const _0x314577=_0x100fef;if(_0x576b91[_0x314577(0x279)](_0x419b0a[_0x314577(0x1a1)],_0x314577(0x331),_0x535bfa,_0x3c6679,this[_0x314577(0x1d6)][_0x314577(0x321)]()),!(_0x3c6679 instanceof File)){if(!_0x3c6679)throw new _0x5c1da3(_0x5c1da3[_0x314577(0x91b)][_0x314577(0x858)]);return this['isBidResponse'](_0x3c6679)?this[_0x314577(0x9af)](_0x535bfa,_0x3c6679['id'],_0x3c6679):this[_0x314577(0x9ab)](_0x3c6679)?(_0x576b91[_0x314577(0x279)](_0x419b0a[_0x314577(0x1a1)],_0x314577(0x5dc)+_0x3c6679['id']+_0x314577(0x316),_0x3c6679[_0x314577(0x3c9)]),void this[_0x314577(0x849)](_0x3c6679['id'],_0x3c6679)):this[_0x314577(0x593)](_0x3c6679)?(_0x576b91['log'](_0x419b0a['Jobs'],_0x314577(0x5dc)+_0x3c6679['id']+'\x20received\x20result:',_0x3c6679[_0x314577(0x3c9)]),void this[_0x314577(0x895)](_0x3c6679['id'],_0x3c6679)):void(this[_0x314577(0xb21)](_0x3c6679)&&this[_0x314577(0x48d)](_0x3c6679['id'],_0x3c6679[_0x314577(0x759)]));}});}[_0x3f1d19(0xa91)](){const _0x1ee477=_0x3f1d19;this[_0x1ee477(0x88b)](),this[_0x1ee477(0xada)]();}[_0x3f1d19(0x31c)](){const _0x437abf=_0x3f1d19;this['clear'](),super[_0x437abf(0x31c)]();}[_0x3f1d19(0x88b)](){const _0x1108c7=_0x3f1d19;this[_0x1108c7(0x87a)][_0x1108c7(0x88b)](),this[_0x1108c7(0x526)]&&this[_0x1108c7(0x526)]();}[_0x3f1d19(0x87b)](){const _0x7c8955=_0x3f1d19;this[_0x7c8955(0x8f2)]?.[_0x7c8955(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x7c8955(0x442)],'content':{'type':_0x65c889[_0x7c8955(0x2c4)],'label':this['label']}});}async[_0x3f1d19(0x57b)](_0x158944){const _0x3fcbfe=_0x3f1d19,{id:_0x51d2fe,parameters:_0x5c0884,jobType:_0x1ded71}=_0x158944,_0x48f697={'id':_0x51d2fe,'jobType':_0x1ded71,'parameters':_0x5c0884,'status':_0x1c7ce5[_0x3fcbfe(0x977)]['Pending'],'created':new Date(),'updated':new Date()};if(this[_0x3fcbfe(0x87a)]['has'](_0x48f697['id']))throw new _0x122c6c(_0x26fc1d[_0x3fcbfe(0x8d1)],_0x3fcbfe(0x8ab)+_0x48f697['id']+_0x3fcbfe(0xa46));_0x48f697[_0x3fcbfe(0x1a7)]=new Date(),_0x48f697['updated']=new Date();const _0xcb3be3=new _0x182d05[(_0x3fcbfe(0x75f))]();this[_0x3fcbfe(0x87a)][_0x3fcbfe(0xb36)](_0x48f697['id'],_0x48f697),this[_0x3fcbfe(0xabf)]['set'](_0x48f697['id'],_0xcb3be3);try{const _0x1cbf7b={'id':_0x48f697['id'],'jobPhase':_0x2fe16c['Request'],'jobType':_0x48f697[_0x3fcbfe(0x226)]},_0xd3a445=0x3;let _0xdb7d41=0x0;const _0x70f606=async()=>{const _0x44ae3f=_0x3fcbfe;_0xdb7d41+=0x1;try{_0x576b91[_0x44ae3f(0x279)](_0x419b0a[_0x44ae3f(0x1a1)],_0x44ae3f(0x5dc)+_0x48f697['id']+_0x44ae3f(0x651)+_0xdb7d41+'.',this['graphService'][_0x44ae3f(0x321)]()),await this[_0x44ae3f(0x3b4)](_0x1cbf7b),_0x48f697[_0x44ae3f(0x466)]=new Date(),this[_0x44ae3f(0x87a)]['set'](_0x48f697['id'],_0x48f697),this[_0x44ae3f(0x349)](_0x48f697['id']);}catch(_0x182493){_0xdb7d41<_0xd3a445?(_0x576b91[_0x44ae3f(0x7f4)]('Attempt\x20'+_0xdb7d41+_0x44ae3f(0x166)+_0x48f697['id']+'\x20failed.\x20Retrying...',{'nodeId':this[_0x44ae3f(0x668)]['getId'](),'nodeType':this['owner'][_0x44ae3f(0x8c9)],'data':{'job':_0x48f697,'attempts':_0xdb7d41,'maxRetries':_0xd3a445}}),setTimeout(_0x70f606,0x3e8)):(_0x48f697[_0x44ae3f(0x597)]=_0x1c7ce5[_0x44ae3f(0x977)][_0x44ae3f(0xa23)],_0x48f697[_0x44ae3f(0x466)]=new Date(),this['jobs'][_0x44ae3f(0xb36)](_0x48f697['id'],_0x48f697),_0x576b91[_0x44ae3f(0x9e0)](_0x44ae3f(0x165)+_0x48f697['id']+'\x20after\x20'+_0xd3a445+'\x20attempts:',{'nodeId':this['owner']['getId'](),'nodeType':this['owner']['type'],'data':{'job':_0x48f697,'attempts':_0xdb7d41,'maxRetries':_0xd3a445,'error':_0x182493}}));}};_0x70f606();const {id:_0x5caaaf}=_0x48f697;this['logEvent'](_0x3fcbfe(0x5dc)+_0x48f697['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0x5caaaf}),_0x48f697[_0x3fcbfe(0x466)]=new Date();}catch(_0x1fd5bf){_0x48f697[_0x3fcbfe(0x597)]=_0x1c7ce5[_0x3fcbfe(0x977)][_0x3fcbfe(0xa23)],_0x576b91[_0x3fcbfe(0x9e0)](_0x3fcbfe(0x165)+_0x48f697['id']+':',{'nodeId':this[_0x3fcbfe(0x668)][_0x3fcbfe(0x7be)](),'nodeType':this[_0x3fcbfe(0x668)][_0x3fcbfe(0x8c9)],'data':{'job':_0x48f697,'error':_0x1fd5bf}});}return _0xcb3be3['asObservable']();}[_0x3f1d19(0x8ef)](_0x278445){const _0x1b8be8=_0x3f1d19,_0x3887d5=this['jobs'][_0x1b8be8(0x459)](_0x278445);if(!_0x3887d5)throw new _0x122c6c(_0x26fc1d['JobDispatcherJobNotFound'],_0x1b8be8(0x8ab)+_0x278445+_0x1b8be8(0x965));return{'id':_0x3887d5['id'],'jobType':_0x3887d5['jobType'],'status':_0x3887d5[_0x1b8be8(0x597)],'parameters':_0x3887d5[_0x1b8be8(0x7cd)]};}[_0x3f1d19(0xa1a)](){const _0x3b9f6c=_0x3f1d19;return Array[_0x3b9f6c(0x663)](this[_0x3b9f6c(0x87a)][_0x3b9f6c(0x9b6)]())[_0x3b9f6c(0x865)](_0x2b81b5=>this[_0x3b9f6c(0x8ef)](_0x2b81b5['id']));}async[_0x3f1d19(0x8b2)](_0x4356f2,_0x3d70b4){const _0x3a692e=_0x3f1d19,_0x4a9e49=this['jobs'][_0x3a692e(0x459)](_0x4356f2);if(!_0x4a9e49)throw new _0x122c6c(_0x26fc1d[_0x3a692e(0x918)],_0x3a692e(0x8ab)+_0x4356f2+_0x3a692e(0x965));_0x4a9e49[_0x3a692e(0x7cd)]=_0x3d70b4,_0x4a9e49[_0x3a692e(0x466)]=new Date(),this[_0x3a692e(0x87a)][_0x3a692e(0xb36)](_0x4356f2,_0x4a9e49);}async[_0x3f1d19(0x1c2)](_0x5de3e8){const _0x23f454=_0x3f1d19;if(!this[_0x23f454(0x87a)]['delete'](_0x5de3e8))throw new _0x122c6c(_0x26fc1d[_0x23f454(0x918)],_0x23f454(0x8ab)+_0x5de3e8+'\x20not\x20found.');const _0x52a7ac=this[_0x23f454(0xabf)]['get'](_0x5de3e8);if(!_0x52a7ac)throw new _0x5c1da3(_0x5c1da3[_0x23f454(0x91b)][_0x23f454(0x83c)]);_0x52a7ac[_0x23f454(0x7e6)](),this[_0x23f454(0xabf)][_0x23f454(0x233)](_0x5de3e8),_0x576b91[_0x23f454(0x279)](_0x419b0a[_0x23f454(0x1a1)],_0x23f454(0x5dc)+_0x5de3e8+'\x20deleted.');}[_0x3f1d19(0x9af)](_0x309940,_0x21e0c7,_0x5832ca){const _0x1ec298=_0x3f1d19,_0x222bac=this[_0x1ec298(0x4ca)]['get'](_0x21e0c7)??new Map();_0x222bac['set'](_0x309940,[_0x5832ca,Date[_0x1ec298(0x64c)]()]),this['jobBids'][_0x1ec298(0xb36)](_0x21e0c7,_0x222bac),this['evaluateBidsAndAttributeJob'](_0x21e0c7);}['startBidResponseHandling'](_0x1f6e7b){const _0xbc681a=_0x3f1d19,_0x2c05ab=this[_0xbc681a(0x87a)][_0xbc681a(0x459)](_0x1f6e7b);if(!_0x2c05ab)throw new _0x5c1da3(_0x5c1da3[_0xbc681a(0x91b)][_0xbc681a(0x918)]);const _0xbab44b=setTimeout(()=>this[_0xbc681a(0xa8c)](_0x1f6e7b,!0x0),0xbb8);_0x2c05ab['responseTimeout']=_0xbab44b,this[_0xbc681a(0x87a)][_0xbc681a(0xb36)](_0x2c05ab['id'],_0x2c05ab);}[_0x3f1d19(0xa8c)](_0x594466,_0x350f7c=!0x1){const _0x5d5e31=_0x3f1d19,_0x3941a2=this[_0x5d5e31(0x1d6)]['getRemoteNodes'](),_0x5019c6=Array[_0x5d5e31(0x663)](_0x3941a2['values']())[_0x5d5e31(0x1e0)](_0xb0d784=>_0xb0d784[_0x5d5e31(0x8c9)]===_0x1c7ce5[_0x5d5e31(0x77d)][_0x5d5e31(0x2de)]),_0x5527ad=this[_0x5d5e31(0x4ca)][_0x5d5e31(0x459)](_0x594466)??new Map();if(!_0x350f7c&&(!_0x5527ad||_0x5527ad[_0x5d5e31(0x277)]<_0x5019c6['length']))return;const _0x34ca87=this[_0x5d5e31(0x87a)][_0x5d5e31(0x459)](_0x594466);if(!_0x34ca87)throw new _0x5c1da3(_0x5c1da3['codes'][_0x5d5e31(0x918)]);if(clearTimeout(_0x34ca87[_0x5d5e31(0x142)]),_0x576b91[_0x5d5e31(0x279)](_0x419b0a[_0x5d5e31(0x1a1)],_0x5d5e31(0x5dc)+_0x34ca87['id']+_0x5d5e31(0x297),_0x5527ad,this[_0x5d5e31(0x4ca)]),!_0x5527ad||0x0===_0x5527ad[_0x5d5e31(0x277)]){_0x34ca87[_0x5d5e31(0x597)]=_0x1c7ce5[_0x5d5e31(0x977)][_0x5d5e31(0xa23)],_0x34ca87[_0x5d5e31(0x466)]=new Date(),_0x576b91[_0x5d5e31(0x9e0)](_0x5d5e31(0x5dc)+_0x34ca87['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x5d5e31(0x668)]['getId'](),'nodeType':this[_0x5d5e31(0x668)]['type'],'data':{'job':_0x34ca87,'responses':_0x5527ad}});const _0x2c1539=this['jobObservers']['get'](_0x594466);if(!_0x2c1539)throw new _0x5c1da3(_0x5c1da3[_0x5d5e31(0x91b)][_0x5d5e31(0x83c)]);const _0xdd819f=_0x5d5e31(0x7f1),_0x4dcedd={'id':_0x34ca87['id'],'status':_0x34ca87['status'],'message':_0xdd819f};return _0x2c1539['next'](_0x4dcedd),_0x2c1539[_0x5d5e31(0x7e6)](),this[_0x5d5e31(0x87a)][_0x5d5e31(0xb36)](_0x34ca87['id'],_0x34ca87),void this['jobBids'][_0x5d5e31(0x233)](_0x594466);}const {nodeId:_0x541649,response:_0x3d3ab3}=this[_0x5d5e31(0x7ef)](_0x34ca87['id'],_0x5527ad);_0x34ca87[_0x5d5e31(0x597)]=_0x1c7ce5['JobStatus'][_0x5d5e31(0x51c)],_0x34ca87[_0x5d5e31(0x466)]=new Date(),_0x576b91[_0x5d5e31(0x279)](_0x419b0a[_0x5d5e31(0x1a1)],_0x5d5e31(0x5dc)+_0x34ca87['id']+_0x5d5e31(0x27b)+_0x541649+_0x5d5e31(0x1e5),_0x3d3ab3);const _0xea2c5f={'id':_0x34ca87['id'],'jobType':_0x34ca87[_0x5d5e31(0x226)],'jobPhase':_0x2fe16c[_0x5d5e31(0x1fb)],'parameters':_0x34ca87[_0x5d5e31(0x7cd)]};this[_0x5d5e31(0x3b4)](_0xea2c5f,[_0x541649]),this[_0x5d5e31(0x87a)][_0x5d5e31(0xb36)](_0x34ca87['id'],_0x34ca87),this[_0x5d5e31(0x4ca)][_0x5d5e31(0x233)](_0x594466);}[_0x3f1d19(0x7ef)](_0x55c134,_0x5e0de0){const _0x5c1b6a=_0x3f1d19;let _0x2ab578;const _0x5e4c54=Array['from'](_0x5e0de0['entries']())['filter'](([,[_0xbb9222]])=>_0xbb9222[_0x5c1b6a(0xb5d)]);if(_0x2ab578=_0x5e4c54['length']>0x0?Array[_0x5c1b6a(0x663)](_0x5e0de0['entries']())[_0x5c1b6a(0x62c)]((_0x465070,_0x1d46ac)=>_0x1d46ac[0x1][0x0][_0x5c1b6a(0x24c)]-_0x465070[0x1][0x0][_0x5c1b6a(0x24c)]):Array[_0x5c1b6a(0x663)](_0x5e0de0[_0x5c1b6a(0x736)]())[_0x5c1b6a(0x62c)]((_0x4c38bb,_0x2f1e32)=>_0x4c38bb[0x1][0x0][_0x5c1b6a(0x304)]-_0x2f1e32[0x1][0x0]['queueLength']),0x1===_0x2ab578[_0x5c1b6a(0x744)])return{'nodeId':_0x2ab578[0x0][0x0],'response':_0x2ab578[0x0][0x1][0x0]};let _0x464aa7;if(_0x464aa7=_0x5e4c54[_0x5c1b6a(0x744)]>0x0?(_0x2d9623=>{const _0x1854a2=_0x5c1b6a,_0x57bba1=_0x2d9623[0x0][0x1][0x0][_0x1854a2(0x24c)];return _0x2d9623[_0x1854a2(0x1e0)](([,[_0x34cab1]])=>_0x34cab1[_0x1854a2(0x24c)]===_0x57bba1);})(_0x2ab578):(_0xe34384=>{const _0x4ddced=_0x5c1b6a,_0x1f2445=_0xe34384[0x0][0x1][0x0][_0x4ddced(0x304)];return _0xe34384[_0x4ddced(0x1e0)](([,[_0x200a36]])=>_0x200a36[_0x4ddced(0x304)]===_0x1f2445);})(_0x2ab578),0x1===_0x464aa7[_0x5c1b6a(0x744)])return{'nodeId':_0x464aa7[0x0][0x0],'response':_0x464aa7[0x0][0x1][0x0]};const _0x3f55b6=this['jobs'][_0x5c1b6a(0x459)](_0x55c134);if(!_0x3f55b6)throw new _0x5c1da3(_0x5c1da3[_0x5c1b6a(0x91b)]['JobDispatcherJobNotFound']);const _0x40cde0=_0x3f55b6[_0x5c1b6a(0x1a7)][_0x5c1b6a(0x254)](),_0x586287=_0x464aa7[_0x5c1b6a(0x865)](([_0x340d9f,[,_0x307bdc]])=>({'nodeId':_0x340d9f,'rtt':_0x307bdc-_0x40cde0})),_0x4389d2=Math['min'](..._0x586287['map'](({rtt:_0x2b7e86})=>_0x2b7e86)),_0x70916e=_0x586287['find'](({rtt:_0x55c068})=>_0x55c068===_0x4389d2),[,[_0x55b021]]=_0x464aa7[_0x5c1b6a(0x4d3)](([_0x2431a4])=>_0x2431a4===_0x70916e[_0x5c1b6a(0x769)]);return{'nodeId':_0x70916e[_0x5c1b6a(0x769)],'response':_0x55b021};}[_0x3f1d19(0x849)](_0x308b85,_0x4440ad){const _0x362147=_0x3f1d19,_0x15572f=this['jobs'][_0x362147(0x459)](_0x308b85);if(!_0x15572f)throw new _0x5c1da3(_0x5c1da3['codes'][_0x362147(0x918)]);const _0x1a6ce3=this[_0x362147(0xabf)][_0x362147(0x459)](_0x308b85);if(!_0x1a6ce3)throw new _0x5c1da3(_0x5c1da3[_0x362147(0x91b)]['JobDispatcherObserverNotFound']);const _0x5b3a78={'id':_0x15572f['id'],'status':_0x1c7ce5['JobStatus'][_0x362147(0x91f)],'result':_0x4440ad[_0x362147(0x3c9)]};_0x1a6ce3[_0x362147(0xad8)](_0x5b3a78);}[_0x3f1d19(0x895)](_0x161ebd,_0x270260){const _0x206d35=_0x3f1d19,_0x43c0e7=this[_0x206d35(0x87a)][_0x206d35(0x459)](_0x161ebd);if(!_0x43c0e7)throw new _0x5c1da3(_0x5c1da3[_0x206d35(0x91b)][_0x206d35(0x918)]);const _0x2e89da=this[_0x206d35(0xabf)][_0x206d35(0x459)](_0x161ebd);if(!_0x2e89da)throw new _0x5c1da3(_0x5c1da3[_0x206d35(0x91b)][_0x206d35(0x83c)]);_0x43c0e7['status']=_0x1c7ce5[_0x206d35(0x977)][_0x206d35(0x3b9)];const _0x50e80b={'id':_0x43c0e7['id'],'status':_0x43c0e7[_0x206d35(0x597)],'result':_0x270260[_0x206d35(0x3c9)]};_0x2e89da[_0x206d35(0xad8)](_0x50e80b),_0x2e89da[_0x206d35(0x7e6)](),this['jobObservers'][_0x206d35(0x233)](_0x161ebd),this[_0x206d35(0x75c)](_0x206d35(0x5dc)+_0x161ebd+_0x206d35(0xa5e),{'jobId':_0x161ebd});}[_0x3f1d19(0x48d)](_0x303d28,_0x51f066){const _0x32404e=_0x3f1d19,_0x305e95=this[_0x32404e(0x87a)][_0x32404e(0x459)](_0x303d28);if(!_0x305e95)throw new _0x5c1da3(_0x5c1da3['codes']['JobDispatcherJobNotFound']);const _0x502c59=this[_0x32404e(0xabf)][_0x32404e(0x459)](_0x303d28);if(!_0x502c59)throw new _0x5c1da3(_0x5c1da3[_0x32404e(0x91b)][_0x32404e(0x83c)]);_0x305e95[_0x32404e(0x597)]=_0x1c7ce5[_0x32404e(0x977)][_0x32404e(0xa23)];const _0x196a7c={'id':_0x305e95['id'],'status':_0x305e95[_0x32404e(0x597)],'message':_0x51f066};_0x502c59[_0x32404e(0xad8)](_0x196a7c),_0x502c59['complete'](),this[_0x32404e(0xabf)]['delete'](_0x303d28),this[_0x32404e(0x75c)](_0x32404e(0x5dc)+_0x303d28+'\x20failed.',{'jobId':_0x303d28});}[_0x3f1d19(0x75c)](_0x3af530,{jobId:_0x28200b}){const _0x3ffda6=_0x3f1d19,_0x307784={'jobId':_0x28200b,'mistletIds':Array[_0x3ffda6(0x663)](this[_0x3ffda6(0x1d6)][_0x3ffda6(0x321)]()['values']())[_0x3ffda6(0x1e0)](_0x23b102=>_0x23b102['type']===_0x1c7ce5[_0x3ffda6(0x77d)]['Agent'])[_0x3ffda6(0x865)](_0x14f56e=>_0x14f56e[_0x3ffda6(0x7be)]())};_0x576b91[_0x3ffda6(0x75c)](_0x3af530,{'nodeId':this[_0x3ffda6(0xb5e)](),'nodeType':this[_0x3ffda6(0x668)][_0x3ffda6(0x8c9)],'data':_0x307784}),_0x576b91[_0x3ffda6(0x279)](_0x419b0a[_0x3ffda6(0x1a1)],_0x3af530,_0x307784);}[_0x3f1d19(0xb6d)](_0x2f4529){const _0x5898a8=_0x3f1d19,{jobPhase:_0x4a5fdb,available:_0x5931e1,bid:_0xd1e0b1}=_0x2f4529;return _0x4a5fdb===_0x2fe16c[_0x5898a8(0x42f)]&&void 0x0!==_0x5931e1&&void 0x0!==_0xd1e0b1;}[_0x3f1d19(0x9ab)](_0x5653a0){const _0x1a5ebb=_0x3f1d19,{jobPhase:_0x2d9b19,result:_0x5001b2}=_0x5653a0;return _0x2d9b19===_0x2fe16c[_0x1a5ebb(0x1aa)]&&void 0x0!==_0x5001b2;}[_0x3f1d19(0x593)](_0x94e3f0){const _0x3bbe47=_0x3f1d19,{jobPhase:_0xda7c91,result:_0x48d46c}=_0x94e3f0;return _0xda7c91===_0x2fe16c[_0x3bbe47(0x314)]&&void 0x0!==_0x48d46c;}[_0x3f1d19(0xb21)](_0x3d9988){const _0x44b063=_0x3f1d19,{jobPhase:_0x26fbe5,message:_0x296f5b}=_0x3d9988;return _0x26fbe5===_0x2fe16c[_0x44b063(0xa23)]&&void 0x0!==_0x296f5b&&_0x44b063(0x618)==typeof _0x296f5b;}}var _0x45a5ce,_0x201fdb,_0xdd22df,_0x4a6d79,_0x480041;!function(_0x1a0575){const _0x3a12ab=_0x3f1d19;_0x1a0575['ObjectStorage']=_0x3a12ab(0x44a),_0x1a0575['ExternalStorage']=_0x3a12ab(0xb13);}(_0x45a5ce||(_0x45a5ce={})),function(_0x5e5112){const _0x13da96=_0x3f1d19;_0x5e5112['Agent']=_0x13da96(0x752),_0x5e5112['AgentSkill']=_0x13da96(0x92c),_0x5e5112[_0x13da96(0x8d0)]=_0x13da96(0x22f),_0x5e5112['CustomSkill']=_0x13da96(0x963),_0x5e5112[_0x13da96(0x484)]='data-collection',_0x5e5112[_0x13da96(0x742)]='knowledge',_0x5e5112['Prompt']=_0x13da96(0x448),_0x5e5112['Answer']=_0x13da96(0x799),_0x5e5112[_0x13da96(0x18e)]=_0x13da96(0x380),_0x5e5112[_0x13da96(0x57a)]=_0x13da96(0x21a),_0x5e5112[_0x13da96(0x270)]='search',_0x5e5112[_0x13da96(0x2da)]=_0x13da96(0x731),_0x5e5112[_0x13da96(0x80d)]='web-scraper',_0x5e5112[_0x13da96(0xa28)]='web-scraper-raw',_0x5e5112[_0x13da96(0x805)]=_0x13da96(0x975),_0x5e5112[_0x13da96(0x1c7)]='write-file',_0x5e5112['ChunkSplitter']=_0x13da96(0x738),_0x5e5112[_0x13da96(0x3f5)]='sentence-splitter',_0x5e5112[_0x13da96(0x306)]='word-splitter',_0x5e5112['DocumentParser']=_0x13da96(0xb59),_0x5e5112[_0x13da96(0xa57)]=_0x13da96(0x17a),_0x5e5112[_0x13da96(0x75e)]=_0x13da96(0x2c3),_0x5e5112[_0x13da96(0x70c)]=_0x13da96(0x46c),_0x5e5112[_0x13da96(0x843)]=_0x13da96(0x867);}(_0x201fdb||(_0x201fdb={})),function(_0x4aae94){const _0x4b4c6a=_0x3f1d19;_0x4aae94[_0x4b4c6a(0x8a5)]=_0x4b4c6a(0x7fa),_0x4aae94[_0x4b4c6a(0xad5)]='external-storage-upload',_0x4aae94[_0x4b4c6a(0x5ce)]=_0x4b4c6a(0xb59),_0x4aae94['ChunkSplitter']='chunk-splitter',_0x4aae94[_0x4b4c6a(0x306)]=_0x4b4c6a(0x7bd),_0x4aae94[_0x4b4c6a(0x3f5)]=_0x4b4c6a(0xaa4),_0x4aae94[_0x4b4c6a(0x1f8)]=_0x4b4c6a(0x7d4),_0x4aae94['EntityExtractor']=_0x4b4c6a(0xa59),_0x4aae94[_0x4b4c6a(0x9c2)]=_0x4b4c6a(0x36b),_0x4aae94[_0x4b4c6a(0x6dc)]=_0x4b4c6a(0x70e),_0x4aae94[_0x4b4c6a(0x2de)]='agent',_0x4aae94[_0x4b4c6a(0x844)]=_0x4b4c6a(0x44a),_0x4aae94[_0x4b4c6a(0x7c8)]=_0x4b4c6a(0x721),_0x4aae94['VectorDatabase']=_0x4b4c6a(0x5dd),_0x4aae94[_0x4b4c6a(0x394)]=_0x4b4c6a(0x550),_0x4aae94['Prompt']=_0x4b4c6a(0x448),_0x4aae94['Context']=_0x4b4c6a(0x499),_0x4aae94[_0x4b4c6a(0x452)]=_0x4b4c6a(0x20b),_0x4aae94['Embed']=_0x4b4c6a(0x9b4);}(_0xdd22df||(_0xdd22df={})),function(_0x49fff3){const _0x3cc503=_0x3f1d19;_0x49fff3[_0x3cc503(0x2f4)]=_0x3cc503(0x4dc),_0x49fff3[_0x3cc503(0x863)]=_0x3cc503(0x571),_0x49fff3[_0x3cc503(0x9df)]=_0x3cc503(0x7f2),_0x49fff3[_0x3cc503(0x2a7)]=_0x3cc503(0x9d7),_0x49fff3[_0x3cc503(0x86e)]='data',_0x49fff3['Vector']=_0x3cc503(0x3a1),_0x49fff3[_0x3cc503(0x265)]=_0x3cc503(0x774),_0x49fff3['Relation']=_0x3cc503(0x3cb),_0x49fff3[_0x3cc503(0x270)]=_0x3cc503(0x32e),_0x49fff3[_0x3cc503(0xb37)]='index',_0x49fff3[_0x3cc503(0x7b7)]=_0x3cc503(0xa4b),_0x49fff3[_0x3cc503(0x724)]='context',_0x49fff3[_0x3cc503(0x228)]=_0x3cc503(0x5e0),_0x49fff3[_0x3cc503(0x688)]=_0x3cc503(0x82b),_0x49fff3['WaitFalse']=_0x3cc503(0xa94);}(_0x4a6d79||(_0x4a6d79={})),function(_0x912ecf){const _0x1476ec=_0x3f1d19;_0x912ecf[_0x1476ec(0x203)]='shared',_0x912ecf[_0x1476ec(0x7c1)]=_0x1476ec(0x4ef),_0x912ecf[_0x1476ec(0x98f)]='dedicated';}(_0x480041||(_0x480041={}));const _0x14dde4=[{'type':_0x201fdb['Router'],'id':'if-else-router','name':'Conditional\x20Router','description':_0x3f1d19(0xb27),'modelId':'gpt-4.1-nano','instructions':_0x3f1d19(0x67a),'grammar':_0x3f1d19(0xa66),'temperature':0x0,'maxTokens':0x64}],_0x14d523=[{'type':_0x201fdb['Agent'],'id':_0x3f1d19(0x3ab),'name':_0x3f1d19(0x48b),'description':'','modelId':_0x3f1d19(0xa5f),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x201fdb['Agent'],'id':'generic-agent','name':_0x3f1d19(0x3a9),'description':_0x3f1d19(0xa7f),'modelId':'gpt-4.1-nano','instructions':'Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x201fdb[_0x3f1d19(0x2de)],'id':_0x3f1d19(0x6ab),'name':_0x3f1d19(0x7cc),'description':'Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','modelId':_0x3f1d19(0xa5f),'instructions':_0x3f1d19(0x15d),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x201fdb[_0x3f1d19(0x2de)],'id':'feedback-agent','name':_0x3f1d19(0x9c7),'description':_0x3f1d19(0x599),'modelId':_0x3f1d19(0xa5f),'instructions':_0x3f1d19(0x7c7),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x201fdb[_0x3f1d19(0x2de)],'id':_0x3f1d19(0x6c0),'name':_0x3f1d19(0x43e),'description':'Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','modelId':_0x3f1d19(0xa5f),'instructions':_0x3f1d19(0x551),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x201fdb[_0x3f1d19(0x2de)],'id':_0x3f1d19(0x926),'name':_0x3f1d19(0x55f),'description':_0x3f1d19(0x432),'modelId':'gpt-4.1-nano','instructions':'Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x201fdb[_0x3f1d19(0x2de)],'id':'competitive-agent','name':_0x3f1d19(0xaa1),'description':_0x3f1d19(0x7db),'modelId':'gpt-4.1-nano','instructions':_0x3f1d19(0x2f8),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x201fdb[_0x3f1d19(0x2de)],'id':_0x3f1d19(0x89b),'name':_0x3f1d19(0x7f9),'description':_0x3f1d19(0x1d8),'modelId':_0x3f1d19(0xa5f),'instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x201fdb[_0x3f1d19(0x2de)],'id':_0x3f1d19(0x8b9),'name':_0x3f1d19(0x354),'description':_0x3f1d19(0xaca),'modelId':_0x3f1d19(0xa5f),'instructions':'Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x201fdb[_0x3f1d19(0x2de)],'id':_0x3f1d19(0x45f),'name':_0x3f1d19(0x32f),'description':_0x3f1d19(0xa61),'modelId':'gpt-4.1-nano','instructions':'Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x201fdb['Agent'],'id':_0x3f1d19(0x81b),'name':_0x3f1d19(0x1ad),'description':_0x3f1d19(0x7d1),'modelId':_0x3f1d19(0xa5f),'instructions':_0x3f1d19(0x506),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x201fdb[_0x3f1d19(0x2de)],'id':_0x3f1d19(0x190),'name':_0x3f1d19(0x8fb),'description':_0x3f1d19(0xaff),'modelId':_0x3f1d19(0xa5f),'instructions':_0x3f1d19(0x6a4),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3f1d19(0x307),'name':_0x3f1d19(0x3f8),'description':_0x3f1d19(0x6e6),'modelId':_0x3f1d19(0xa5f),'instructions':_0x3f1d19(0x923),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3f1d19(0x872),'name':_0x3f1d19(0x441),'description':_0x3f1d19(0x80a),'modelId':_0x3f1d19(0xa5f),'instructions':'Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3f1d19(0x9b0),'name':'Document\x20Agent','description':_0x3f1d19(0x183),'modelId':_0x3f1d19(0xa5f),'instructions':_0x3f1d19(0x5d8),'grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x468d05{static ['instance'];constructor(){}static[_0x3f1d19(0x508)](){const _0x22577d=_0x3f1d19;return _0x468d05[_0x22577d(0x2d7)]||(_0x468d05[_0x22577d(0x2d7)]=new _0x468d05()),_0x468d05['instance'];}async[_0x3f1d19(0x2d8)](_0x2b82d9,_0x250811){const _0x4af08d=_0x3f1d19,_0x23379d=await(0x0,_0x46e89c[_0x4af08d(0x59e)])((0x0,_0x46e89c[_0x4af08d(0xb4b)])(_0x25e54d[_0x4af08d(0x914)](),_0x4af08d(0x584)+_0x2b82d9+'/resources/generative-ai-workflow/items/'+_0x250811)),_0x12c050=await this[_0x4af08d(0x403)](_0x2b82d9),_0x275fe7=await this[_0x4af08d(0x416)](_0x2b82d9),_0x26a35e=await this[_0x4af08d(0x35b)](_0x2b82d9);if(!_0x23379d['exists']())throw new _0x5c1da3(_0x5c1da3['codes']['WorkflowDoesNotExist']);return this[_0x4af08d(0x9ea)](_0x23379d,_0x12c050,_0x275fe7,_0x26a35e);}async[_0x3f1d19(0x35b)](_0x59ce50){const _0x49c61b=_0x3f1d19;return(await(0x0,_0x46e89c[_0x49c61b(0x367)])((0x0,_0x46e89c['collection'])(_0x25e54d['getFirestore'](),_0x49c61b(0x584)+_0x59ce50+_0x49c61b(0x93f))))[_0x49c61b(0x998)][_0x49c61b(0x865)](_0x24d0dc=>{const _0x2d4e6d=_0x49c61b,_0x5cd53f=_0x24d0dc[_0x2d4e6d(0xa34)]();return{'type':_0x201fdb[_0x2d4e6d(0x484)],'id':_0x24d0dc['id'],'name':_0x5cd53f[_0x2d4e6d(0xb0f)],'description':_0x5cd53f[_0x2d4e6d(0x70b)],'storageType':_0x5cd53f['storageType']??_0x1c7ce5[_0x2d4e6d(0x961)][_0x2d4e6d(0x6b6)],'hosting':_0x5cd53f[_0x2d4e6d(0x382)]??_0x480041[_0x2d4e6d(0x98f)],'modelId':_0x5cd53f[_0x2d4e6d(0x949)]??_0x2d4e6d(0x4f7),'ingestBlocks':_0x5cd53f[_0x2d4e6d(0x14c)],'retrieveBlocks':_0x5cd53f['retrieveBlocks']};});}async[_0x3f1d19(0x3ba)](_0x2e16dc,_0x5d0225){const _0x19b292=_0x3f1d19,_0x1ba0b0=await(0x0,_0x46e89c['getDoc'])((0x0,_0x46e89c[_0x19b292(0xb4b)])(_0x25e54d[_0x19b292(0x914)](),_0x19b292(0x584)+_0x2e16dc+_0x19b292(0x69c)+_0x5d0225)),_0x54cc81=await this[_0x19b292(0x403)](_0x2e16dc),_0x168bec=_0x1ba0b0['data']();if(!_0x168bec)throw new _0x5c1da3(_0x5c1da3[_0x19b292(0x91b)]['DataCollectionDoesNotExist']);return{'type':_0x201fdb[_0x19b292(0x484)],'id':_0x5d0225,'uid':_0x5d0225,'name':_0x168bec[_0x19b292(0xb0f)],'description':_0x168bec[_0x19b292(0x70b)],'storageType':_0x168bec[_0x19b292(0x9e6)]??_0x1c7ce5[_0x19b292(0x961)]['Pinecone'],'hosting':_0x168bec[_0x19b292(0x382)]??_0x480041[_0x19b292(0x98f)],'modelId':_0x168bec[_0x19b292(0x949)]??_0x19b292(0x4f7),'ingestBlocks':this[_0x19b292(0x1e9)](_0x168bec[_0x19b292(0x14c)],_0x54cc81),'retrieveBlocks':this[_0x19b292(0x1e9)](_0x168bec[_0x19b292(0x351)],_0x54cc81),'links':[]};}[_0x3f1d19(0x9ea)](_0x1a0b72,_0x576285,_0x27ea36,_0x135689){const _0xb84e32=_0x3f1d19,_0x5cb896=_0x1a0b72[_0xb84e32(0xa34)]();if(!_0x5cb896)throw new _0x5c1da3(_0x5c1da3['codes'][_0xb84e32(0x252)]);const _0x202d01=this[_0xb84e32(0x5f8)](_0x5cb896['blocks'],_0x576285,_0x27ea36,_0x135689);return{'id':_0x1a0b72['id'],'name':_0x5cb896[_0xb84e32(0xb0f)],'description':_0x5cb896[_0xb84e32(0x70b)],'blocks':_0x202d01,'dataBucketIds':this['getWorkflowObjectStorageBuckets'](_0x202d01),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x202d01),'initialPrompt':_0x5cb896[_0xb84e32(0xa88)]};}['getWorkflowObjectStorageBuckets'](_0x103cf7){const _0x6153a2=_0x3f1d19,_0x76c548=new Set();for(const _0x309189 of _0x103cf7)switch(_0x309189[_0x6153a2(0x8c9)]){case _0x201fdb[_0x6153a2(0x742)]:case _0x201fdb[_0x6153a2(0x484)]:for(const _0x1149c9 of[..._0x309189[_0x6153a2(0x14c)],..._0x309189[_0x6153a2(0x351)]])_0x1149c9[_0x6153a2(0x8c9)]===_0xdd22df[_0x6153a2(0x8a5)]&&_0x76c548[_0x6153a2(0x7ce)](_0x1149c9['id']);}return Array[_0x6153a2(0x663)](_0x76c548);}['getWorkflowExternalStorageConnections'](_0x1d2045){const _0x3dc70e=_0x3f1d19,_0x2f34d5=new Set();for(const _0x218c29 of _0x1d2045)switch(_0x218c29[_0x3dc70e(0x8c9)]){case _0x201fdb['Knowledge']:case _0x201fdb[_0x3dc70e(0x484)]:for(const _0x556822 of[..._0x218c29['ingestBlocks'],..._0x218c29['retrieveBlocks']])_0x556822[_0x3dc70e(0x8c9)]===_0xdd22df[_0x3dc70e(0xad5)]&&_0x2f34d5[_0x3dc70e(0x7ce)](_0x556822['id']);}return Array[_0x3dc70e(0x663)](_0x2f34d5);}[_0x3f1d19(0x5f8)](_0x4fa8b9,_0x381619,_0x5226b6,_0x3e8838){return _0x4fa8b9['map'](_0x58703b=>{const _0x202b8a=a0_0x1394;switch(_0x58703b[_0x202b8a(0x8c9)]){case _0x201fdb[_0x202b8a(0x2de)]:case _0x201fdb[_0x202b8a(0x8d9)]:case _0x201fdb[_0x202b8a(0x8d0)]:const _0x4c2f34=_0x381619[_0x202b8a(0x4d3)](_0x3205c3=>_0x3205c3['id']===_0x58703b['id']);if(!_0x4c2f34)throw new _0x5c1da3(_0x5c1da3['codes'][_0x202b8a(0x34f)],{'block':_0x58703b});return{'type':_0x201fdb[_0x202b8a(0x2de)],'id':_0x4c2f34['id'],'uid':_0x58703b['uid'],'name':_0x4c2f34['name'],'description':_0x4c2f34[_0x202b8a(0x70b)],'instructions':(_0x4c2f34[_0x202b8a(0x789)]+'\x0a\x0a'+(_0x58703b[_0x202b8a(0x752)]?.[_0x202b8a(0xa71)]??''))[_0x202b8a(0xb67)](),'contextOutputVariable':_0x58703b[_0x202b8a(0x752)]?.[_0x202b8a(0xa40)],'contextInputVariable':_0x58703b['agent']?.[_0x202b8a(0x674)],'reasoning':_0x58703b['agent']?.[_0x202b8a(0x630)]??!0x1,'grammar':_0x58703b['agent']?.[_0x202b8a(0x751)]??'default','temperature':_0x58703b['agent']?.['temperature']??0.5,'maxTokens':_0x58703b[_0x202b8a(0x752)]?.[_0x202b8a(0x556)]??0x1f4,'modelId':_0x58703b[_0x202b8a(0x752)]?.['modelId']??_0x202b8a(0x65a),'links':_0x58703b['links']};case _0x201fdb['Knowledge']:case _0x201fdb['DataCollection']:const _0x224241=_0x3e8838[_0x202b8a(0x4d3)](_0x3f6e85=>_0x3f6e85['id']===_0x58703b['id']);if(!_0x224241)throw new _0x5c1da3(_0x5c1da3[_0x202b8a(0x91b)][_0x202b8a(0x34f)],{'block':_0x58703b});return{'type':_0x58703b[_0x202b8a(0x8c9)],'id':_0x224241['id'],'uid':_0x58703b['uid'],'name':_0x224241[_0x202b8a(0xb0f)],'description':_0x224241[_0x202b8a(0x70b)],'ingestBlocks':this['parseDataCollectionBlocks'](_0x224241['ingestBlocks'],_0x381619),'retrieveBlocks':this[_0x202b8a(0x1e9)](_0x224241[_0x202b8a(0x351)],_0x381619),'links':_0x58703b[_0x202b8a(0x217)]};case _0x201fdb[_0x202b8a(0xb50)]:return{'type':_0x58703b[_0x202b8a(0x8c9)],'id':_0x58703b['id'],'uid':_0x58703b[_0x202b8a(0x88f)],'name':_0x58703b[_0x202b8a(0xa4b)][_0x202b8a(0xb0f)],'description':_0x58703b[_0x202b8a(0xa4b)]['description'],'parameters':_0x58703b[_0x202b8a(0xa4b)][_0x202b8a(0x7cd)],'endpointUrl':_0x58703b[_0x202b8a(0xa4b)][_0x202b8a(0x64f)],'endpointMethod':_0x58703b[_0x202b8a(0xa4b)][_0x202b8a(0xa79)],'headers':_0x58703b['tool']['headers'],'queryParameters':_0x58703b[_0x202b8a(0xa4b)][_0x202b8a(0x81a)],'bodyParameters':_0x58703b['tool']['bodyParameters'],'contextOutputVariable':_0x58703b['tool']['contextOutputVariable'],'links':_0x58703b[_0x202b8a(0x217)]};case _0x201fdb[_0x202b8a(0x57a)]:return{'type':_0x58703b['type'],'id':_0x58703b['id'],'uid':_0x58703b['uid'],'name':_0x58703b[_0x202b8a(0xa4b)]['name'],'description':_0x58703b['tool'][_0x202b8a(0x70b)],'questions':_0x58703b[_0x202b8a(0xa4b)][_0x202b8a(0xa9f)]['map'](_0x1d6318=>({'id':_0x1d6318['id'],'question':_0x1d6318[_0x202b8a(0xb0f)],'validation':_0x1d6318[_0x202b8a(0x225)],'required':_0x202b8a(0x433)===_0x1d6318[_0x202b8a(0xb20)],'format':_0x1d6318[_0x202b8a(0x8f0)]})),'contextOutputVariable':_0x58703b['tool']['contextOutputVariable'],'links':_0x58703b[_0x202b8a(0x217)]};case _0x201fdb[_0x202b8a(0x2da)]:return{'type':_0x58703b[_0x202b8a(0x8c9)],'id':_0x58703b['id'],'uid':_0x58703b['uid'],'modelId':_0x58703b['tool']['modelId']??_0x202b8a(0xa01),'links':_0x58703b[_0x202b8a(0x217)]};case _0x201fdb[_0x202b8a(0x843)]:const _0x119e21=_0x5226b6['find'](_0x418952=>_0x418952['id']===_0x58703b['id']);if(!_0x119e21)throw new _0x5c1da3(_0x5c1da3['codes'][_0x202b8a(0x34f)],{'block':_0x58703b});return{'type':_0x58703b[_0x202b8a(0x8c9)],'id':_0x58703b['id'],'uid':_0x58703b['uid'],'name':_0x119e21[_0x202b8a(0xb0f)],'description':_0x119e21[_0x202b8a(0x70b)],'workflowId':_0x119e21['id'],'async':_0x58703b[_0x202b8a(0xa4b)][_0x202b8a(0x517)],'contextOutputVariable':_0x58703b[_0x202b8a(0xa4b)]['contextOutputVariable'],'contextInputVariable':_0x58703b['tool'][_0x202b8a(0x674)],'links':_0x58703b[_0x202b8a(0x217)]};case _0x201fdb[_0x202b8a(0x19a)]:case _0x201fdb['InputStream']:case _0x201fdb[_0x202b8a(0x496)]:case _0x201fdb[_0x202b8a(0x70c)]:case _0x201fdb[_0x202b8a(0x18e)]:case _0x201fdb[_0x202b8a(0x270)]:case _0x201fdb[_0x202b8a(0x80d)]:case _0x201fdb['WebScraperRaw']:case _0x201fdb[_0x202b8a(0x805)]:case _0x201fdb[_0x202b8a(0x1c7)]:case _0x201fdb[_0x202b8a(0x3f5)]:case _0x201fdb[_0x202b8a(0x5ce)]:case _0x201fdb['ImageParser']:return{'type':_0x58703b[_0x202b8a(0x8c9)],'id':_0x58703b['id'],'uid':_0x58703b[_0x202b8a(0x88f)],'links':_0x58703b['links']};case _0x201fdb[_0x202b8a(0x333)]:case _0x201fdb['WordSplitter']:return{'type':_0x58703b['type'],'id':_0x58703b['id'],'uid':_0x58703b[_0x202b8a(0x88f)],'links':_0x58703b[_0x202b8a(0x217)],'attributes':_0x58703b['attributes']};default:throw new _0x5c1da3(_0x5c1da3[_0x202b8a(0x91b)][_0x202b8a(0x34f)],{'block':_0x58703b});}});}[_0x3f1d19(0x1e9)](_0x1b4db6,_0x350b93){const _0x3f9f56=_0x3f1d19;return _0x1b4db6?_0x1b4db6[_0x3f9f56(0x865)](_0x196e8d=>{const _0x8e771b=_0x3f9f56;switch(_0x196e8d[_0x8e771b(0x8c9)]){case _0xdd22df[_0x8e771b(0x2de)]:const _0x1e4aa6=_0x350b93[_0x8e771b(0x4d3)](_0x4b6f2d=>_0x4b6f2d['id']===_0x196e8d['id']);if(!_0x1e4aa6)throw new _0x5c1da3(_0x5c1da3[_0x8e771b(0x91b)][_0x8e771b(0x34f)],{'block':_0x196e8d});return{'type':_0x196e8d['type'],'id':_0x196e8d['id'],'uid':_0x196e8d['uid'],'description':_0x1e4aa6[_0x8e771b(0x70b)],'instructions':(_0x1e4aa6[_0x8e771b(0x789)]+'\x0a\x0a'+(_0x196e8d[_0x8e771b(0x752)]?.['additionnalInstructions']??''))[_0x8e771b(0xb67)](),'contextOutputVariable':_0x196e8d[_0x8e771b(0x752)]?.['contextOutputVariable'],'contextInputVariable':_0x196e8d[_0x8e771b(0x752)]?.['contextInputVariable'],'reasoning':_0x196e8d[_0x8e771b(0x752)]?.[_0x8e771b(0x630)]??!0x1,'grammar':_0x196e8d[_0x8e771b(0x752)]?.[_0x8e771b(0x751)]??_0x8e771b(0x243),'temperature':_0x196e8d[_0x8e771b(0x752)]?.['temperature']??0.5,'maxTokens':_0x196e8d['agent']?.['maxTokens']??0x1f4,'modelId':_0x196e8d[_0x8e771b(0x752)]?.[_0x8e771b(0x949)]??_0x8e771b(0x65a),'links':_0x196e8d['links']};case _0xdd22df[_0x8e771b(0x394)]:case _0xdd22df['VectorDatabase']:case _0xdd22df[_0x8e771b(0x306)]:case _0xdd22df[_0x8e771b(0x333)]:case _0xdd22df[_0x8e771b(0xa49)]:case _0xdd22df['Reranker']:return{'type':_0x196e8d[_0x8e771b(0x8c9)],'id':_0x196e8d['id'],'uid':_0x196e8d['uid'],'links':_0x196e8d[_0x8e771b(0x217)],'attributes':_0x196e8d[_0x8e771b(0x936)]};case _0xdd22df['Model']:case _0xdd22df[_0x8e771b(0x844)]:case _0xdd22df[_0x8e771b(0x7c8)]:case _0xdd22df[_0x8e771b(0x1f8)]:case _0xdd22df[_0x8e771b(0x5ce)]:case _0xdd22df[_0x8e771b(0x3f5)]:case _0xdd22df['ObjectStorageUpload']:case _0xdd22df['ExternalStorageUpload']:case _0xdd22df['Context']:case _0xdd22df[_0x8e771b(0x19a)]:case _0xdd22df[_0x8e771b(0x452)]:case _0xdd22df['Embed']:return{'type':_0x196e8d[_0x8e771b(0x8c9)],'id':_0x196e8d['id'],'uid':_0x196e8d[_0x8e771b(0x88f)],'links':_0x196e8d[_0x8e771b(0x217)]};default:throw new _0x5c1da3(_0x5c1da3[_0x8e771b(0x91b)][_0x8e771b(0x34f)],{'block':_0x196e8d});}}):[];}async[_0x3f1d19(0x403)](_0x40c1ee){const _0x440595=_0x3f1d19,_0x2ebcac=(await(0x0,_0x46e89c[_0x440595(0x367)])((0x0,_0x46e89c[_0x440595(0x377)])(_0x25e54d[_0x440595(0x914)](),_0x440595(0x584)+_0x40c1ee+_0x440595(0x360))))['docs'][_0x440595(0x865)](_0x18a520=>{const _0x5dadad=_0x440595,_0x434136=_0x18a520['data']();return{'type':_0x201fdb['Agent'],'id':_0x18a520['id'],'name':_0x434136['name'],'description':_0x434136['description'],'instructions':_0x434136[_0x5dadad(0x789)]};});return _0x2ebcac[_0x440595(0x24b)](..._0x14dde4),_0x2ebcac['push'](..._0x14d523),_0x2ebcac;}async[_0x3f1d19(0x416)](_0x591c6e){const _0x1ab7dc=_0x3f1d19;return(await(0x0,_0x46e89c[_0x1ab7dc(0x367)])((0x0,_0x46e89c[_0x1ab7dc(0x377)])(_0x25e54d[_0x1ab7dc(0x914)](),_0x1ab7dc(0x584)+_0x591c6e+_0x1ab7dc(0x76e))))['docs'][_0x1ab7dc(0x865)](_0x4f000=>{const _0x274027=_0x1ab7dc,_0x1bc52a=_0x4f000[_0x274027(0xa34)]();return{'id':_0x4f000['id'],'name':_0x1bc52a[_0x274027(0xb0f)],'description':_0x1bc52a[_0x274027(0x70b)]};});}}const _0x43e47a=_0x468d05[_0x3f1d19(0x508)]();class _0x468eac extends _0x5a8c0d{[_0x3f1d19(0x72c)];[_0x3f1d19(0x3db)];['prompts']=0x0;[_0x3f1d19(0x576)]=0x0;[_0x3f1d19(0x34c)];constructor(_0x4cab3b,_0xc23d42,_0x5f3f3e,_0x306868){const _0x4bbb65=_0x3f1d19;super(_0x4cab3b,_0xc23d42,_0x306868),this[_0x4bbb65(0x72c)]=_0x4cab3b,this[_0x4bbb65(0x3db)]=_0x5f3f3e,this[_0x4bbb65(0x7e4)]();}['destroy'](){const _0x359389=_0x3f1d19;this['debounceStats']&&(clearTimeout(this[_0x359389(0x34c)]),delete this['debounceStats']),super[_0x359389(0x31c)]();}['reset'](){const _0x5e268b=_0x3f1d19;this[_0x5e268b(0x446)]=0x0,this[_0x5e268b(0x576)]=0x0,this['sendStats'](),super['reset']();}[_0x3f1d19(0x4af)](_0x535249){const _0x3544dd=_0x3f1d19,_0x2bfd88='job-'+(0x0,_0x54796e['v4'])();let _0x399e3b=!0x1;const _0x5dceee=()=>{const _0x462d05=a0_0x1394;if(_0x399e3b)throw new _0x5c1da3(_0x5c1da3[_0x462d05(0x91b)][_0x462d05(0x877)]);_0x399e3b=!0x0;};switch(_0x535249['type']){case _0x3544dd(0x61c):case _0x3544dd(0x4d4):case _0x3544dd(0x1c4):case _0x3544dd(0x69b):case'file-download':case'file-ingest':case _0x3544dd(0x263):case _0x3544dd(0x2e3):case _0x3544dd(0xa1e):case _0x3544dd(0x22d):case'speech-create':case _0x3544dd(0x653):case'embed':return{'id':_0x2bfd88,..._0x535249,'run':()=>(_0x5dceee(),this['internalJob'](_0x2bfd88,_0x535249))};case _0x3544dd(0xb39):case _0x3544dd(0x448):const _0xba4704=()=>(_0x5dceee(),this[_0x3544dd(0x9a8)](_0x2bfd88,_0x535249)),_0x4dae96=()=>(_0x5dceee(),this[_0x3544dd(0x159)](_0x2bfd88,_0x535249));return{'id':_0x2bfd88,'options':{'threadId':_0x3544dd(0x6ff)+(0x0,_0x54796e['v4'])()},..._0x535249,'run':_0xba4704,'stream':_0x4dae96};default:throw new Error(_0x3544dd(0x245));}}async[_0x3f1d19(0xa27)](_0x5a6c96,_0x2d7a91){const _0x23fb9b=_0x3f1d19;if(_0x23fb9b(0xb39)===_0x2d7a91[_0x23fb9b(0x8c9)]||_0x23fb9b(0x448)===_0x2d7a91[_0x23fb9b(0x8c9)])throw new _0x122c6c(_0x26fc1d[_0x23fb9b(0x19c)],_0x23fb9b(0x245));const _0x379c79={'threadId':_0x23fb9b(0x6ff)+(0x0,_0x54796e['v4'])(),..._0x2d7a91},_0x3e0237=await this[_0x23fb9b(0x3be)](_0x5a6c96,_0x1c7ce5[_0x23fb9b(0x776)][_0x23fb9b(0x84c)],_0x379c79);return new Promise((_0x37071a,_0x308cc4)=>{let _0x417140;const _0xe4b74b=_0x3e0237['subscribe']({'next':_0x3ff512=>{const _0x2bf6fd=a0_0x1394;switch(_0x3ff512[_0x2bf6fd(0x597)]){case _0x1c7ce5[_0x2bf6fd(0x977)][_0x2bf6fd(0x3b9)]:clearTimeout(_0x417140),_0x37071a(_0x3ff512[_0x2bf6fd(0x3c9)]),_0xe4b74b[_0x2bf6fd(0x87c)]();break;case _0x1c7ce5[_0x2bf6fd(0x977)][_0x2bf6fd(0xa23)]:clearTimeout(_0x417140),_0x308cc4(new _0x5c1da3(_0x5c1da3[_0x2bf6fd(0x91b)][_0x2bf6fd(0x927)],{'updatedJob':_0x3ff512})),_0xe4b74b[_0x2bf6fd(0x87c)]();}},'error':_0x4be8f1=>{const _0x5026e1=a0_0x1394;clearTimeout(_0x417140),_0x308cc4(new _0x5c1da3(_0x5c1da3[_0x5026e1(0x91b)]['GenerativeAIContextJobFailed'],{'err':_0x4be8f1})),_0xe4b74b[_0x5026e1(0x87c)]();}});_0x417140=setTimeout(()=>{const _0xe82f32=a0_0x1394;_0x308cc4(new _0x5c1da3(_0x5c1da3[_0xe82f32(0x91b)]['GenerativeAIContextJobTimeout'])),_0xe4b74b[_0xe82f32(0x87c)]();},_0x52047b);});}async[_0x3f1d19(0x9a8)](_0x53c99c,_0x45759d){const _0x544d65=_0x3f1d19,_0x54c573=await this[_0x544d65(0x3be)](_0x53c99c,_0x1c7ce5['JobType'][_0x544d65(0x84c)],_0x45759d);return new Promise((_0x90f17c,_0x11f07c)=>{const _0x253d95=_0x544d65;let _0x3dc25b;const _0x552ada=_0x54c573[_0x253d95(0x565)]({'next':_0x20c3c6=>{const _0x29c248=_0x253d95;switch(_0x20c3c6[_0x29c248(0x597)]){case _0x1c7ce5[_0x29c248(0x977)]['Completed']:if(_0x29c248(0x448)!==_0x20c3c6[_0x29c248(0x3c9)]['type'])return;const _0x2ce394=_0x20c3c6[_0x29c248(0x3c9)]['inputTokens']??0x0;this[_0x29c248(0x5f3)](_0x45759d[_0x29c248(0x448)],_0x2ce394),clearTimeout(_0x3dc25b),_0x90f17c(_0x20c3c6['result']),_0x552ada['unsubscribe'](),this[_0x29c248(0x446)]+=0x1,this[_0x29c248(0x576)]+=_0x2ce394,this[_0x29c248(0x7e4)]();break;case _0x1c7ce5[_0x29c248(0x977)][_0x29c248(0xa23)]:clearTimeout(_0x3dc25b),_0x11f07c(new _0x5c1da3(_0x5c1da3['codes']['GenerativeAIContextJobFailed'],{'updatedJob':_0x20c3c6})),_0x552ada[_0x29c248(0x87c)](),this[_0x29c248(0x7e4)]();}},'error':_0x592a12=>{const _0x54f64e=_0x253d95;clearTimeout(_0x3dc25b),_0x11f07c(new _0x5c1da3(_0x5c1da3['codes'][_0x54f64e(0x927)],{'err':_0x592a12})),_0x552ada[_0x54f64e(0x87c)]();}});_0x3dc25b=setTimeout(()=>{const _0x518d1b=_0x253d95;_0x11f07c(new _0x5c1da3(_0x5c1da3[_0x518d1b(0x91b)][_0x518d1b(0x7bb)])),_0x552ada['unsubscribe']();},_0x52047b);});}async*[_0x3f1d19(0x159)](_0x5e5a70,_0x3c7d17){const _0x360dda=_0x3f1d19,_0x19fdfe=await this['getJobObservable'](_0x5e5a70,_0x1c7ce5['JobType'][_0x360dda(0x4a0)],_0x3c7d17);let _0x31f8d8,_0x3cbce6,_0x308d42=!0x1,_0x206e24=0x0;const _0x2c5484=[],_0x29d0cf=new Map();let _0x471a0b=null;const _0x1b81e4=()=>{_0x471a0b&&(_0x471a0b(),_0x471a0b=null);},_0x200773=_0x717534=>{const _0xe09d99=_0x360dda;_0x308d42=!0x0,_0x1b81e4(),_0x1b0c2b[_0xe09d99(0x87c)](),_0x3cbce6=_0x717534;},_0x1b0c2b=_0x19fdfe[_0x360dda(0x565)]({'next':async _0x2eea54=>{const _0x2a9602=_0x360dda;switch(_0x2eea54['status']){case _0x1c7ce5[_0x2a9602(0x977)][_0x2a9602(0x91f)]:if(_0x2a9602(0x448)!==_0x2eea54[_0x2a9602(0x3c9)][_0x2a9602(0x8c9)])return;if(void 0x0!==_0x2eea54[_0x2a9602(0x3c9)]['output']){if(void 0x0===_0x2eea54['result'][_0x2a9602(0x958)])return void _0x200773(_0x5c1da3[_0x2a9602(0x91b)][_0x2a9602(0x6f7)]);_0x206e24===_0x2eea54[_0x2a9602(0x3c9)][_0x2a9602(0x958)]?(_0x2c5484['push'](_0x2eea54[_0x2a9602(0x3c9)]),_0x206e24++,((()=>{const _0x59f871=_0x2a9602;for(;_0x29d0cf[_0x59f871(0x1c3)](_0x206e24);)_0x2c5484[_0x59f871(0x24b)](_0x29d0cf[_0x59f871(0x459)](_0x2c5484[_0x59f871(0x744)])),_0x29d0cf[_0x59f871(0x233)](_0x2c5484['length']),_0x206e24++;})()),_0x1b81e4(),_0xc2f810()):_0x29d0cf[_0x2a9602(0xb36)](_0x2eea54['result'][_0x2a9602(0x958)],_0x2eea54[_0x2a9602(0x3c9)]);}break;case _0x1c7ce5[_0x2a9602(0x977)][_0x2a9602(0x3b9)]:if(_0x2a9602(0x448)!==_0x2eea54['result'][_0x2a9602(0x8c9)])return;for(;_0x206e24!==_0x2eea54['result'][_0x2a9602(0x958)];)await _0x18a0c6[_0x2a9602(0x5e0)](0x3e8);const _0x347d27=_0x2eea54['result'][_0x2a9602(0x84e)]??0x0;this[_0x2a9602(0x5f3)](_0x3c7d17[_0x2a9602(0x448)],_0x347d27),clearTimeout(_0x31f8d8),_0x200773(),this[_0x2a9602(0x446)]+=0x1,this[_0x2a9602(0x576)]+=_0x347d27,this[_0x2a9602(0x7e4)]();break;case _0x1c7ce5['JobStatus'][_0x2a9602(0xa23)]:clearTimeout(_0x31f8d8),_0x200773(_0x5c1da3[_0x2a9602(0x91b)]['GenerativeAIContextJobFailed']),this[_0x2a9602(0x7e4)]();}},'error':_0x1dfb39=>{const _0x431908=_0x360dda;clearTimeout(_0x31f8d8),_0x200773(_0x5c1da3[_0x431908(0x91b)][_0x431908(0x927)]);}}),_0x2064c4=()=>{const _0x3aa23c=_0x360dda;_0x200773(_0x5c1da3['codes'][_0x3aa23c(0x7bb)]);},_0xc2f810=()=>{clearTimeout(_0x31f8d8),_0x31f8d8=setTimeout(_0x2064c4,_0x52047b);};for(_0x31f8d8=setTimeout(_0x2064c4,_0x52047b);!_0x308d42||_0x2c5484[_0x360dda(0x744)]>0x0;)_0x2c5484[_0x360dda(0x744)]>0x0?yield _0x2c5484[_0x360dda(0x825)]():await new Promise(_0x13e00b=>_0x471a0b=_0x13e00b);if(_0x3cbce6)throw _0x576b91[_0x360dda(0x9e0)](_0x360dda(0x822),{'nodeId':this[_0x360dda(0x72c)][_0x360dda(0x7be)](),'nodeType':this[_0x360dda(0x72c)][_0x360dda(0x8c9)]}),new _0x5c1da3(_0x3cbce6);}async['getDataBucketIds'](){const _0x1a5665=_0x3f1d19;return(await _0x43e47a['getWorkflow'](this[_0x1a5665(0x3db)],this[_0x1a5665(0x792)]))[_0x1a5665(0x6f5)];}[_0x3f1d19(0x5f3)](_0x20b7ee,_0x4b6e1e){const _0x4710ab=_0x3f1d19,_0xef8f1a=this['label'],_0x2cc9c1=this[_0x4710ab(0xb5e)]();_0x576b91[_0x4710ab(0x5f3)](_0x1cb6a4[_0x4710ab(0x46d)],{'topic':_0xef8f1a,'prompt':_0x20b7ee,'type':_0x4710ab(0x448),'nodeId':_0x2cc9c1,'tokenCount':_0x4b6e1e});}async[_0x3f1d19(0x3be)](_0xba8cb6,_0x40b85c,_0x533967,_0x405abb={}){const _0x50b4f3=_0x3f1d19;let _0x2910dd;switch(_0x533967[_0x50b4f3(0x8c9)]){case _0x50b4f3(0x61c):case _0x50b4f3(0x4d4):case _0x50b4f3(0x1c4):case _0x50b4f3(0x9b4):case _0x50b4f3(0x69b):case _0x50b4f3(0xb6a):case _0x50b4f3(0x263):case _0x50b4f3(0x2e3):case _0x50b4f3(0xb39):case _0x50b4f3(0x448):case'rate':case _0x50b4f3(0x22d):case'speech-create':case _0x50b4f3(0x653):_0x2910dd={'id':_0xba8cb6,'jobType':_0x40b85c,'parameters':{..._0x405abb,..._0x533967},'status':_0x1c7ce5[_0x50b4f3(0x977)][_0x50b4f3(0x8c6)]};break;default:throw new Error(_0x50b4f3(0x245));}return await this[_0x50b4f3(0x57b)](_0x2910dd);}['sendStats'](){const _0x5ec1fa=_0x3f1d19;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x5ec1fa(0x34c)]=setTimeout(async()=>{const _0x2ab046=_0x5ec1fa;delete this['debounceStats'],this[_0x2ab046(0x8f2)][_0x2ab046(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x2ab046(0x442)],'content':{'type':_0x65c889['GenerativeAIContextStats'],'label':this[_0x2ab046(0x792)],'stats':{'timestamp':Date[_0x2ab046(0x64c)](),'storage':0x0,'messagesSent':this[_0x2ab046(0x7bf)],'messagesReceived':this[_0x2ab046(0x62a)],'bytesSent':this[_0x2ab046(0xac7)],'bytesReceived':this[_0x2ab046(0x934)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this['tokens']}}});},_0x51ac76);}}var _0x36c59e,_0xe13e3c,_0x5b73c0,_0x217459,_0x270fc5,_0xcae4eb,_0x62cacf,_0x1ea030,_0x30b8fc,_0x152107,_0x5e2cb3;!function(_0x19818d){const _0x2a755f=_0x3f1d19;_0x19818d[_0x2a755f(0x4aa)]=_0x2a755f(0x4aa),_0x19818d[_0x2a755f(0xace)]='IngestTrace',_0x19818d[_0x2a755f(0x73c)]=_0x2a755f(0x73c),_0x19818d[_0x2a755f(0x94b)]=_0x2a755f(0x94b);}(_0x36c59e||(_0x36c59e={})),function(_0x371e00){const _0x2079d5=_0x3f1d19;_0x371e00[_0x2079d5(0xacf)]='ModelText',_0x371e00[_0x2079d5(0x6cc)]=_0x2079d5(0x6cc),_0x371e00[_0x2079d5(0x470)]=_0x2079d5(0x470),_0x371e00['EntityExtractor']=_0x2079d5(0xa49),_0x371e00[_0x2079d5(0x9b9)]=_0x2079d5(0x9b9),_0x371e00[_0x2079d5(0x9c2)]='Reranker';}(_0xe13e3c||(_0xe13e3c={})),function(_0x292898){const _0x4fde51=_0x3f1d19;_0x292898[_0x292898[_0x4fde51(0x676)]=0x0]=_0x4fde51(0x676),_0x292898[_0x292898[_0x4fde51(0x2cb)]=0x5]='Info',_0x292898[_0x292898[_0x4fde51(0x49b)]=0xa]=_0x4fde51(0x49b),_0x292898[_0x292898[_0x4fde51(0xa8b)]=0xf]=_0x4fde51(0xa8b);}(_0x5b73c0||(_0x5b73c0={})),function(_0x32344c){const _0x439a55=_0x3f1d19;_0x32344c['Retrieve']=_0x439a55(0x212),_0x32344c[_0x439a55(0x9e5)]='Ingest',_0x32344c[_0x439a55(0x742)]=_0x439a55(0x742),_0x32344c['Skill']=_0x439a55(0x810),_0x32344c[_0x439a55(0x987)]=_0x439a55(0x987),_0x32344c['Job']=_0x439a55(0x84c),_0x32344c[_0x439a55(0x3bc)]=_0x439a55(0x3bc),_0x32344c[_0x439a55(0xa6c)]=_0x439a55(0xa6c);}(_0x217459||(_0x217459={})),function(_0x165a3e){const _0x15a347=_0x3f1d19;_0x165a3e[_0x15a347(0x850)]=_0x15a347(0x850),_0x165a3e[_0x15a347(0x3b9)]=_0x15a347(0x3b9);}(_0x270fc5||(_0x270fc5={})),function(_0x4e09fe){const _0x730b9=_0x3f1d19;_0x4e09fe[_0x730b9(0x6f1)]=_0x730b9(0x6f1),_0x4e09fe[_0x730b9(0x1cc)]=_0x730b9(0x1cc),_0x4e09fe['DataCollection']=_0x730b9(0x484),_0x4e09fe['FinalOutput']=_0x730b9(0x4ec);}(_0xcae4eb||(_0xcae4eb={})),function(_0x8b47a6){const _0x352f44=_0x3f1d19;_0x8b47a6[_0x352f44(0x333)]=_0x352f44(0x333),_0x8b47a6[_0x352f44(0x5ce)]='DocumentParser',_0x8b47a6[_0x352f44(0xa49)]=_0x352f44(0xa49),_0x8b47a6[_0x352f44(0x394)]=_0x352f44(0x394),_0x8b47a6[_0x352f44(0x2de)]=_0x352f44(0x2de),_0x8b47a6[_0x352f44(0xacf)]=_0x352f44(0xacf),_0x8b47a6[_0x352f44(0x6cc)]=_0x352f44(0x6cc),_0x8b47a6[_0x352f44(0x1f8)]=_0x352f44(0x1f8),_0x8b47a6['SentenceSplitter']=_0x352f44(0x3f5),_0x8b47a6[_0x352f44(0xa63)]='VectorDatabase',_0x8b47a6['WordSplitter']=_0x352f44(0x306);}(_0x62cacf||(_0x62cacf={})),function(_0x442d3a){const _0x3c238c=_0x3f1d19;_0x442d3a[_0x3c238c(0x26a)]='GetContextQuery',_0x442d3a[_0x3c238c(0x3c7)]=_0x3c238c(0x3c7);}(_0x1ea030||(_0x1ea030={})),function(_0x2e44ac){const _0x4de7ee=_0x3f1d19;_0x2e44ac[_0x4de7ee(0x65d)]='ExecuteCode',_0x2e44ac['FetchUrl']='FetchUrl',_0x2e44ac[_0x4de7ee(0x1ee)]=_0x4de7ee(0x1ee),_0x2e44ac[_0x4de7ee(0x355)]=_0x4de7ee(0x355),_0x2e44ac['ExecuteAgent']=_0x4de7ee(0x1e4),_0x2e44ac[_0x4de7ee(0x406)]=_0x4de7ee(0x406),_0x2e44ac[_0x4de7ee(0x805)]=_0x4de7ee(0x805),_0x2e44ac[_0x4de7ee(0x1c7)]='WriteFile',_0x2e44ac[_0x4de7ee(0x1d0)]=_0x4de7ee(0x1d0),_0x2e44ac[_0x4de7ee(0x3ea)]='FormGetQuestion',_0x2e44ac[_0x4de7ee(0x581)]=_0x4de7ee(0x581),_0x2e44ac[_0x4de7ee(0x7dc)]=_0x4de7ee(0x7dc);}(_0x30b8fc||(_0x30b8fc={})),function(_0x5ec3a4){const _0x51199c=_0x3f1d19;_0x5ec3a4[_0x51199c(0x1a6)]=_0x51199c(0x1a6),_0x5ec3a4['LoadSkillFunction']=_0x51199c(0x99d);}(_0x152107||(_0x152107={})),function(_0x43d9b4){const _0x20e43a=_0x3f1d19;_0x43d9b4[_0x20e43a(0x162)]=_0x20e43a(0x162);}(_0x5e2cb3||(_0x5e2cb3={}));class _0x9eb250{static [_0x3f1d19(0x2d7)]=new _0x9eb250();[_0x3f1d19(0xab5)]=[];[_0x3f1d19(0x9e4)]=!0x1;constructor(){}static[_0x3f1d19(0x508)](){const _0x56137f=_0x3f1d19;return _0x9eb250[_0x56137f(0x2d7)];}get[_0x3f1d19(0x744)](){const _0x4d9088=_0x3f1d19;return this[_0x4d9088(0xab5)][_0x4d9088(0x744)];}[_0x3f1d19(0x2c2)](){const _0x36af0a=_0x3f1d19;return!this[_0x36af0a(0x9e4)];}['clear'](_0x3043fa){const _0x240302=_0x3f1d19;_0x3043fa?this[_0x240302(0xab5)]=this[_0x240302(0xab5)][_0x240302(0x1e0)](_0x5d07b3=>_0x5d07b3[_0x240302(0x8b1)]!==_0x3043fa):(this[_0x240302(0xab5)]=[],this[_0x240302(0x9e4)]=!0x1);}[_0x3f1d19(0x7ce)](_0x168242,_0x108019){const _0x4a7c9e=_0x3f1d19;this[_0x4a7c9e(0xab5)]['push']({'callback':_0x108019,'ownerId':_0x168242}),this['runJobQueue']();}async[_0x3f1d19(0x771)](){const _0x4bd3e0=_0x3f1d19;if(!this[_0x4bd3e0(0x9e4)]){for(this[_0x4bd3e0(0x9e4)]=!0x0;this[_0x4bd3e0(0xab5)][_0x4bd3e0(0x744)]>0x0;){const _0x2e50ea=this['jobQueue'][_0x4bd3e0(0x825)]();if(_0x2e50ea)try{console[_0x4bd3e0(0x407)](_0x4bd3e0(0x63e)),await _0x2e50ea[_0x4bd3e0(0x786)](),console['warn'](_0x4bd3e0(0x1b1));}catch(_0x1397c5){console[_0x4bd3e0(0x9e0)](_0x4bd3e0(0x8f4),_0x1397c5);}}this['isRunning']=!0x1;}}}const _0x57ab4a=_0x9eb250['getInstance']();class _0xe14068 extends _0x49de5b{[_0x3f1d19(0x97b)];[_0x3f1d19(0x46b)];constructor(_0x5f4788,_0x16a409,_0x31a4cd){const _0x415dde=_0x3f1d19;super(_0x5f4788,_0x16a409),this[_0x415dde(0x97b)]=_0x31a4cd;}['getContentType'](){const _0x28c341=_0x3f1d19;return _0x1c7ce5[_0x28c341(0x5a3)]['Job'];}[_0x3f1d19(0xada)](){const _0x37a004=_0x3f1d19;this[_0x37a004(0x561)]();}[_0x3f1d19(0x87b)](){const _0x6c1e1d=_0x3f1d19;this[_0x6c1e1d(0x8f2)]?.[_0x6c1e1d(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x6c1e1d(0x442)],'content':{'type':_0x65c889['CloseJobWorker'],'label':this[_0x6c1e1d(0x792)]}});}[_0x3f1d19(0xa91)](){const _0x5809fd=_0x3f1d19;this[_0x5809fd(0x46b)]?.(),delete this[_0x5809fd(0x46b)],this[_0x5809fd(0xada)]();}[_0x3f1d19(0x31c)](){const _0x5dd0f=_0x3f1d19;_0x57ab4a[_0x5dd0f(0x88b)](this['label']),this[_0x5dd0f(0x46b)]?.(),delete this[_0x5dd0f(0x46b)],super['destroy']();}['isAvailable'](){const _0x4b4794=_0x3f1d19;return _0x57ab4a[_0x4b4794(0x2c2)]();}[_0x3f1d19(0x69e)](){return 0x1;}[_0x3f1d19(0x2ab)](_0x41b885,_0x398be0,_0x10128c){}[_0x3f1d19(0x94e)](_0x159b63,_0x430bc0){return _0x159b63;}async[_0x3f1d19(0x956)](_0x201e9a,_0x344ae5){const _0x1b6633=_0x3f1d19;console[_0x1b6633(0x407)](_0x1b6633(0xadd));}async[_0x3f1d19(0x71c)](_0x30977b,_0x586caa){const _0x571c2c=_0x3f1d19;console[_0x571c2c(0x407)](_0x571c2c(0xadd));}[_0x3f1d19(0x561)](){const _0x30ad21=_0x3f1d19;this[_0x30ad21(0x46b)]||(this[_0x30ad21(0x46b)]=this[_0x30ad21(0x816)](async(_0x3f401e,_0x532ed8)=>{const _0x52d3dc=_0x30ad21;if(_0x576b91['log'](_0x419b0a[_0x52d3dc(0x1a1)],_0x52d3dc(0x6b9),_0x532ed8),!(_0x532ed8 instanceof File)){if(this[_0x52d3dc(0x81d)](_0x532ed8))_0x576b91[_0x52d3dc(0x279)](_0x419b0a[_0x52d3dc(0x1a1)],'JobWorker:\x20Received\x20job\x20request',_0x532ed8),this[_0x52d3dc(0x2c2)]()?this[_0x52d3dc(0x2f5)](_0x532ed8['id'],_0x532ed8['jobType'],_0x3f401e):this['sendReject'](_0x532ed8['id'],_0x532ed8[_0x52d3dc(0x226)],_0x3f401e);else{if(this[_0x52d3dc(0xacd)](_0x532ed8)){_0x576b91[_0x52d3dc(0x279)](_0x419b0a['Jobs'],'JobWorker:\x20Received\x20job\x20attribution',_0x532ed8);const {id:_0x30bd4b,parameters:_0x2f102d}=_0x532ed8;await this['startTracing'](_0x30bd4b,_0x2f102d),this[_0x52d3dc(0x6c9)](_0x532ed8['id'],_0x532ed8,_0x3f401e);}}}}));}[_0x3f1d19(0x2f5)](_0x4c204c,_0x550a6e,_0xfc06fb){const _0x1a71a4=_0x3f1d19,_0x4a7066={'id':_0x4c204c,'jobType':_0x550a6e,'jobPhase':_0x2fe16c[_0x1a71a4(0x42f)],'available':!0x0,'queueLength':_0x57ab4a[_0x1a71a4(0x744)],'bid':this[_0x1a71a4(0x69e)]()};_0x576b91['log'](_0x419b0a['Jobs'],_0x1a71a4(0x575),_0x4a7066),this[_0x1a71a4(0x3b4)](_0x4a7066,[_0xfc06fb]);}[_0x3f1d19(0x5b4)](_0x423f0c,_0x2962a6,_0x3f2c30){const _0x37afc9=_0x3f1d19,_0x422c4a={'id':_0x423f0c,'jobType':_0x2962a6,'jobPhase':_0x2fe16c['Bid'],'available':!0x1,'queueLength':_0x57ab4a[_0x37afc9(0x744)],'bid':0x0};_0x576b91['log'](_0x419b0a[_0x37afc9(0x1a1)],_0x37afc9(0x783),_0x422c4a),this[_0x37afc9(0x3b4)](_0x422c4a,[_0x3f2c30]);}async[_0x3f1d19(0x6c9)](_0xf755d9,_0x44b0cc,_0x476e58){const _0x229723=_0x3f1d19;_0x576b91['log'](_0x419b0a['Jobs'],'JobWorker:\x20Handling\x20job\x20attribution',_0x44b0cc);const _0x122709={'id':_0xf755d9,'jobType':_0x44b0cc[_0x229723(0x226)],'parameters':_0x44b0cc[_0x229723(0x7cd)]};try{switch(_0x44b0cc[_0x229723(0x226)]){case _0x1c7ce5[_0x229723(0x776)]['Job']:await this['processJob'](_0xf755d9,_0x44b0cc,_0x122709,_0x476e58);break;case _0x1c7ce5['JobType'][_0x229723(0x4a0)]:await this['processJobStream'](_0xf755d9,_0x44b0cc,_0x122709,_0x476e58);break;default:throw new Error(_0x229723(0x7aa));}}catch(_0x2395df){_0x576b91[_0x229723(0x9e0)](_0x229723(0x130),{'nodeId':this[_0x229723(0x668)][_0x229723(0x7be)](),'nodeType':this[_0x229723(0x668)][_0x229723(0x8c9)],'data':{'job':_0x122709}},_0x2395df);const _0x506d6d=_0x2395df instanceof Error?_0x2395df[_0x229723(0x759)]:'An\x20error\x20occurred',_0x32ad2b={'id':_0xf755d9,'jobType':_0x44b0cc[_0x229723(0x226)],'jobPhase':_0x2fe16c[_0x229723(0xa23)],'message':_0x506d6d};await this[_0x229723(0x3b4)](_0x32ad2b,[_0x476e58]);}}async['processJob'](_0x4d05ca,_0x4b280e,_0x1d6cc,_0x182cfa){const _0x1bb562=_0x3f1d19,_0x3e1ead=Date[_0x1bb562(0x64c)](),_0x170adb=await this[_0x1bb562(0x615)](_0x4d05ca,_0x1d6cc[_0x1bb562(0x7cd)]);this[_0x1bb562(0x2ab)](_0x170adb,_0x3e1ead,Date['now']());const _0xcfe04={'id':_0x4d05ca,'jobType':_0x4b280e[_0x1bb562(0x226)],'jobPhase':_0x2fe16c[_0x1bb562(0x314)],'result':_0x170adb};_0x576b91[_0x1bb562(0x279)](_0x419b0a['Jobs'],_0x1bb562(0x3f4),_0xcfe04),await this[_0x1bb562(0x3b4)](_0xcfe04,[_0x182cfa]),await this[_0x1bb562(0x71c)](_0x4d05ca,_0x1d6cc['parameters']);}async[_0x3f1d19(0x756)](_0x46201f,_0x21954e,_0xdf0764,_0x171767){const _0x52596f=_0x3f1d19,_0x1b15e2=Date[_0x52596f(0x64c)]();let _0x576abd=0x0,_0x352978={};for await(const _0x270f9a of this['internalProcessJobStream'](_0xdf0764['id'],_0xdf0764[_0x52596f(0x7cd)])){const _0x23d45c={'id':_0x46201f,'jobType':_0x21954e[_0x52596f(0x226)],'jobPhase':_0x2fe16c[_0x52596f(0x1aa)],'result':{..._0x270f9a,'index':_0x576abd}};_0x576b91['log'](_0x419b0a[_0x52596f(0x1a1)],_0x52596f(0x8b0),_0x23d45c),this['send'](_0x23d45c,[_0x171767]),_0x352978=this[_0x52596f(0x94e)](_0x352978,_0x270f9a),_0x576abd++;}this[_0x52596f(0x2ab)](_0x352978,_0x1b15e2,Date[_0x52596f(0x64c)]());const _0x3b4f8b={'id':_0x46201f,'jobType':_0x21954e['jobType'],'jobPhase':_0x2fe16c['Result'],'result':{..._0x352978,'index':_0x576abd}};_0x576b91[_0x52596f(0x279)](_0x419b0a[_0x52596f(0x1a1)],_0x52596f(0x3f4),_0x3b4f8b),await this[_0x52596f(0x3b4)](_0x3b4f8b,[_0x171767]),await this[_0x52596f(0x71c)](_0x46201f,_0xdf0764[_0x52596f(0x7cd)]);}[_0x3f1d19(0x81d)](_0x486b37){const _0x3bb5ff=_0x3f1d19;return _0x486b37[_0x3bb5ff(0x3d2)]===_0x2fe16c[_0x3bb5ff(0x63a)];}[_0x3f1d19(0xacd)](_0x45769c){const _0x4601c1=_0x3f1d19;return _0x45769c[_0x4601c1(0x3d2)]===_0x2fe16c['Attribution'];}}const _0x473a11=new Map([[_0x3f1d19(0xb30),{'id':_0x3f1d19(0xb30),'inputTokenPrice':3.06,'outputTokenPrice':12.25,'fallbackModel':'gpt-4o-mini'}],[_0x3f1d19(0x65a),{'id':_0x3f1d19(0x65a),'inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':_0x3f1d19(0x65a)}],[_0x3f1d19(0x749),{'id':_0x3f1d19(0x749),'inputTokenPrice':2.45,'outputTokenPrice':9.8,'fallbackModel':_0x3f1d19(0xa5f)}],[_0x3f1d19(0x340),{'id':_0x3f1d19(0x340),'inputTokenPrice':0.49,'outputTokenPrice':1.96,'fallbackModel':_0x3f1d19(0x340)}],[_0x3f1d19(0xa5f),{'id':'gpt-4.1-nano','inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':'gpt-4.1-nano'}],['o1',{'id':'o1','inputTokenPrice':18.38,'outputTokenPrice':73.5,'fallbackModel':_0x3f1d19(0xa5f)}],['o3',{'id':'o3','inputTokenPrice':12.25,'outputTokenPrice':0x31,'fallbackModel':_0x3f1d19(0xa5f)}],[_0x3f1d19(0x150),{'id':_0x3f1d19(0x150),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x3f1d19(0xa5f)}],[_0x3f1d19(0x6ba),{'id':_0x3f1d19(0x6ba),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x3f1d19(0xa5f)}],[_0x3f1d19(0xb65),{'id':_0x3f1d19(0xb65),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x3f1d19(0x1e7)}],[_0x3f1d19(0x868),{'id':_0x3f1d19(0x868),'inputTokenPrice':0.98,'outputTokenPrice':4.9,'fallbackModel':_0x3f1d19(0x868)}],['claude-3-5-sonnet-latest',{'id':_0x3f1d19(0x3a2),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x3f1d19(0x1e7)}],[_0x3f1d19(0x1e7),{'id':_0x3f1d19(0x1e7),'inputTokenPrice':0.31,'outputTokenPrice':1.53,'fallbackModel':_0x3f1d19(0x1e7)}],[_0x3f1d19(0x4f1),{'id':_0x3f1d19(0x4f1),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x3f1d19(0x1e7)}],[_0x3f1d19(0xa01),{'id':_0x3f1d19(0xa01),'inputTokenPrice':1.3,'outputTokenPrice':1.3,'fallbackModel':_0x3f1d19(0xa01)}],[_0x3f1d19(0x984),{'id':_0x3f1d19(0x984),'inputTokenPrice':3.9,'outputTokenPrice':19.5,'fallbackModel':_0x3f1d19(0xa01)}],['sonar-reasoning',{'id':_0x3f1d19(0x763),'inputTokenPrice':1.3,'outputTokenPrice':6.5,'fallbackModel':'sonar'}],[_0x3f1d19(0x9a4),{'id':_0x3f1d19(0x9a4),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':'sonar'}],[_0x3f1d19(0x7ff),{'id':_0x3f1d19(0x7ff),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x3f1d19(0xa01)}]]),_0x3c9225=new Map([[_0x3f1d19(0x8f3),{'id':_0x3f1d19(0x8f3),'engineType':_0x1c7ce5['GenerativeAIEngineType']['Llamacpp'],'taskType':_0x1c7ce5['GenerativeAITaskType'][_0x3f1d19(0x363)],'inputType':_0x1c7ce5['GenerativeAIModelInputType'][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x8cf)],'sourceUrl':_0x3f1d19(0x854)}],['text-embedding-3-small',{'id':'text-embedding-3-small','engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)]['Embeddings'],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)]['Vector'],'sourceUrl':''}],[_0x3f1d19(0x953),{'id':_0x3f1d19(0x953),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)]['OpenAI'],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x363)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)]['Text'],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x8cf)],'sourceUrl':''}],[_0x3f1d19(0x7e9),{'id':_0x3f1d19(0x7e9),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0xa2c)],'taskType':_0x1c7ce5['GenerativeAITaskType'][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5['GenerativeAIModelInputType'][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'sourceUrl':_0x3f1d19(0x32c)}],[_0x3f1d19(0x7f0),{'id':_0x3f1d19(0x7f0),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0xa2c)],'taskType':_0x1c7ce5['GenerativeAITaskType']['TextGeneration'],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)]['Text'],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'sourceUrl':_0x3f1d19(0x94c)}],['phi-4-14b',{'id':'phi-4-14b','engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0xa2c)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'sourceUrl':_0x3f1d19(0x514)}],[_0x3f1d19(0xb30),{'id':_0x3f1d19(0xb30),'engineType':_0x1c7ce5['GenerativeAIEngineType'][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)]['Text'],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'knowledgeCutoffDate':_0x3f1d19(0x350),'sourceUrl':''}],[_0x3f1d19(0x65a),{'id':_0x3f1d19(0x65a),'engineType':_0x1c7ce5['GenerativeAIEngineType'][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5['GenerativeAITaskType'][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}],[_0x3f1d19(0x749),{'id':_0x3f1d19(0x749),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'knowledgeCutoffDate':_0x3f1d19(0x241),'sourceUrl':''}],[_0x3f1d19(0x340),{'id':_0x3f1d19(0x340),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5['GenerativeAITaskType']['TextGeneration'],'inputType':_0x1c7ce5['GenerativeAIModelInputType'][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'knowledgeCutoffDate':'May\x202024','sourceUrl':''}],['gpt-4.1-nano',{'id':_0x3f1d19(0xa5f),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)]['OpenAI'],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'knowledgeCutoffDate':_0x3f1d19(0x241),'sourceUrl':''}],['o1',{'id':'o1','engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)]['TextGeneration'],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x863)],'outputType':_0x1c7ce5['GenerativeAIModelOutputType'][_0x3f1d19(0x863)],'knowledgeCutoffDate':_0x3f1d19(0x350),'sourceUrl':''}],['o3',{'id':'o3','engineType':_0x1c7ce5[_0x3f1d19(0xb5c)]['OpenAI'],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)]['Text'],'knowledgeCutoffDate':_0x3f1d19(0x241),'sourceUrl':''}],['o3-mini',{'id':_0x3f1d19(0x150),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)]['OpenAI'],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}],[_0x3f1d19(0x6ba),{'id':_0x3f1d19(0x6ba),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)]['TextGeneration'],'inputType':_0x1c7ce5['GenerativeAIModelInputType'][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'knowledgeCutoffDate':_0x3f1d19(0x241),'sourceUrl':''}],[_0x3f1d19(0x55e),{'id':_0x3f1d19(0x55e),'engineType':_0x1c7ce5['GenerativeAIEngineType'][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5['GenerativeAITaskType'][_0x3f1d19(0x64b)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x2a7)],'outputType':_0x1c7ce5['GenerativeAIModelOutputType']['Audio'],'knowledgeCutoffDate':'September\x202023','sourceUrl':''}],['gpt-4o-mini-realtime-preview',{'id':'gpt-4o-mini-realtime-preview','engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x64b)],'inputType':_0x1c7ce5['GenerativeAIModelInputType'][_0x3f1d19(0x2a7)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x2a7)],'knowledgeCutoffDate':_0x3f1d19(0xb01),'sourceUrl':''}],['gpt-4o-transcribe',{'id':_0x3f1d19(0x3cd),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)]['OpenAI'],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x761)],'inputType':_0x1c7ce5['GenerativeAIModelInputType']['Audio'],'outputType':_0x1c7ce5['GenerativeAIModelOutputType'][_0x3f1d19(0x863)],'knowledgeCutoffDate':'','sourceUrl':''}],['gpt-4o-mini-transcribe',{'id':_0x3f1d19(0x325),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x761)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)]['Audio'],'outputType':_0x1c7ce5['GenerativeAIModelOutputType']['Text'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x3f1d19(0x7bc),{'id':'whisper-1','engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x761)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)]['Audio'],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'knowledgeCutoffDate':'','sourceUrl':''}],['gpt-4o-mini-tts',{'id':'gpt-4o-mini-tts','engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)]['TextToSpeech'],'inputType':_0x1c7ce5['GenerativeAIModelInputType'][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x2a7)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x3f1d19(0x5d9),{'id':_0x3f1d19(0x5d9),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5['GenerativeAITaskType']['TextToSpeech'],'inputType':_0x1c7ce5['GenerativeAIModelInputType'][_0x3f1d19(0x863)],'outputType':_0x1c7ce5['GenerativeAIModelOutputType'][_0x3f1d19(0x2a7)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x3f1d19(0x8aa),{'id':_0x3f1d19(0x8aa),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x4ea)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0xafb)],'inputType':_0x1c7ce5['GenerativeAIModelInputType'][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x2a7)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x3f1d19(0xb65),{'id':_0x3f1d19(0xb65),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x274)],'taskType':_0x1c7ce5['GenerativeAITaskType'][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5['GenerativeAIModelInputType'][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'knowledgeCutoffDate':_0x3f1d19(0x706),'sourceUrl':''}],[_0x3f1d19(0x868),{'id':_0x3f1d19(0x868),'engineType':_0x1c7ce5['GenerativeAIEngineType'][_0x3f1d19(0x274)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)]['TextGeneration'],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)]['Text'],'knowledgeCutoffDate':_0x3f1d19(0x92e),'sourceUrl':''}],[_0x3f1d19(0x3a2),{'id':_0x3f1d19(0x3a2),'engineType':_0x1c7ce5['GenerativeAIEngineType'][_0x3f1d19(0x274)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5['GenerativeAIModelInputType'][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)][_0x3f1d19(0x863)],'knowledgeCutoffDate':_0x3f1d19(0xaed),'sourceUrl':''}],['claude-3-haiku-20240307',{'id':_0x3f1d19(0x1e7),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)]['Anthropic'],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)]['Text'],'knowledgeCutoffDate':_0x3f1d19(0x28b),'sourceUrl':''}],[_0x3f1d19(0x4f1),{'id':_0x3f1d19(0x4f1),'engineType':_0x1c7ce5[_0x3f1d19(0xb5c)][_0x3f1d19(0x274)],'taskType':_0x1c7ce5[_0x3f1d19(0x91a)][_0x3f1d19(0x1f3)],'inputType':_0x1c7ce5[_0x3f1d19(0x7df)][_0x3f1d19(0x863)],'outputType':_0x1c7ce5[_0x3f1d19(0x693)]['Text'],'knowledgeCutoffDate':_0x3f1d19(0x28b),'sourceUrl':''}]]),_0x420c50=require('rxjs/operators');class _0xfb0ee2{['subject'];constructor(){this['subject']=new _0x182d05['Subject']();}['emit'](_0xdad5da){const _0x563905=_0x3f1d19;this[_0x563905(0x34a)]['next'](_0xdad5da);}async[_0x3f1d19(0x1a0)](){const _0x592e3d=_0x3f1d19;return(0x0,_0x182d05[_0x592e3d(0xae1)])(this['subject'][_0x592e3d(0x4db)]((0x0,_0x420c50['take'])(0x1)));}}function _0x357f9e(_0x58d6e8){const _0x168b9f=_0x3f1d19;try{return JSON[_0x168b9f(0x300)](_0x58d6e8);}catch(_0x5118b4){return _0x58d6e8 instanceof Error?_0x58d6e8[_0x168b9f(0x9b2)]():JSON['stringify'](_0x168b9f(0xb29));}}class _0x4e56fe{static [_0x3f1d19(0x2d7)];['logLevel']=_0x5b73c0['Error'];['commitLevel']=_0x5b73c0[_0x3f1d19(0x2cb)];[_0x3f1d19(0x4e9)]=_0x217459['Retrieve'];[_0x3f1d19(0x205)]={};static [_0x3f1d19(0x508)]=()=>(_0x4e56fe[_0x3f1d19(0x2d7)]||(_0x4e56fe[_0x3f1d19(0x2d7)]=new _0x4e56fe()),_0x4e56fe[_0x3f1d19(0x2d7)]);async[_0x3f1d19(0x46e)](_0x3816e8,_0x59c198,_0x5dacfa,_0x28a7b0){const _0x2616c1=_0x3f1d19;try{if(this[_0x2616c1(0x205)][_0x59c198])return!0x0;const _0x552377={'vendorId':_0x3816e8,'workflowId':_0x5dacfa,'sequence':0x0};if(this[_0x2616c1(0x205)][_0x59c198]=_0x552377,!_0x28a7b0||!_0x5dacfa)return!0x0;const _0x26bfe3=(0x0,_0x46e89c[_0x2616c1(0xb4b)])(_0x25e54d['getFirestore'](),_0x2616c1(0x359)+_0x3816e8+'/workflows/'+_0x5dacfa+'/jobs',_0x59c198);return(await(0x0,_0x46e89c['getDoc'])(_0x26bfe3))[_0x2616c1(0x24a)]()||await(0x0,_0x46e89c[_0x2616c1(0x6b5)])(_0x26bfe3,{'threadId':_0x28a7b0,'startTime':(0x0,_0x46e89c[_0x2616c1(0x708)])()}),!0x0;}catch(_0x1ae689){return console[_0x2616c1(0x9e0)](_0x2616c1(0x52d),_0x1ae689),!0x1;}}async[_0x3f1d19(0x65c)](_0x30596e,_0x17c8b2,_0x448e98,_0x2a62a1){const _0x576729=_0x3f1d19;try{if(!this[_0x576729(0x205)][_0x30596e])throw new Error(_0x576729(0x4bb));const _0x5216a0=new Date(),_0x455f60=_0x5216a0[_0x576729(0xa68)]()+'-'+_0x5216a0[_0x576729(0xb2c)]()+'-'+_0x5216a0[_0x576729(0x6f9)](),_0x345946=new Date(_0x5216a0[_0x576729(0xa68)](),_0x5216a0[_0x576729(0xb2c)](),_0x5216a0['getDate']()),_0x4c5965=this['openedTraces'][_0x30596e][_0x576729(0x3db)],_0x347455=_0x17c8b2+'-'+_0x455f60,_0x2f4a76=_0x473a11[_0x576729(0x459)](_0x17c8b2);if(!_0x2f4a76)return void console[_0x576729(0x9e0)](_0x576729(0xab2),_0x17c8b2);const _0x3ffc53=_0x2f4a76[_0x576729(0x2b3)]*_0x448e98/0xf4240*0x64,_0x2b116a=_0x2f4a76['outputTokenPrice']*_0x2a62a1/0xf4240*0x64,_0x39607a=(0x0,_0x46e89c[_0x576729(0xb4b)])(_0x25e54d[_0x576729(0x914)](),_0x576729(0x359)+_0x4c5965+_0x576729(0x95c),_0x347455);await(0x0,_0x46e89c[_0x576729(0x6b5)])(_0x39607a,{'modelId':_0x17c8b2,'date':_0x345946,'inputTokens':(0x0,_0x46e89c[_0x576729(0x439)])(_0x448e98),'outputTokens':(0x0,_0x46e89c['increment'])(_0x2a62a1),'inputCredits':(0x0,_0x46e89c[_0x576729(0x439)])(_0x3ffc53),'outputCredits':(0x0,_0x46e89c['increment'])(_0x2b116a),'totalCredits':(0x0,_0x46e89c['increment'])(_0x3ffc53+_0x2b116a)},{'merge':!0x0});}catch(_0x521e65){console[_0x576729(0x9e0)]('GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage',_0x521e65);}}async['trace'](_0x993276){const _0x3bc6b3=_0x3f1d19;try{const _0x261dd3=this[_0x3bc6b3(0x205)][_0x993276[_0x3bc6b3(0x25a)]];if(!_0x261dd3)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0x993276[_0x3bc6b3(0x6a5)]=_0x261dd3[_0x3bc6b3(0x6a5)]++,_0x993276['traceLevel']>=this[_0x3bc6b3(0x988)]&&console[_0x3bc6b3(0x279)](JSON[_0x3bc6b3(0x300)](_0x993276,null,0x2)),await this[_0x3bc6b3(0x555)](_0x993276);}catch(_0x5d5424){console[_0x3bc6b3(0x9e0)]('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x5d5424);}}async[_0x3f1d19(0x61d)](_0x3b4d5d,_0x18d0c0){const _0x5025f5=_0x3f1d19;if(!_0x4e56fe[_0x5025f5(0x2d7)])throw new Error(_0x5025f5(0xa02));if(!this[_0x5025f5(0x205)][_0x3b4d5d])throw new Error(_0x5025f5(0x4bb));if(_0x18d0c0&&this[_0x5025f5(0x205)][_0x3b4d5d][_0x5025f5(0x239)])try{await(0x0,_0x46e89c[_0x5025f5(0x6b5)])((0x0,_0x46e89c[_0x5025f5(0xb4b)])(_0x25e54d[_0x5025f5(0x914)](),_0x5025f5(0x359)+this[_0x5025f5(0x205)][_0x3b4d5d][_0x5025f5(0x3db)]+_0x5025f5(0x4cf)+this['openedTraces'][_0x3b4d5d][_0x5025f5(0x239)]+_0x5025f5(0x938),_0x3b4d5d),{'endTime':(0x0,_0x46e89c[_0x5025f5(0x708)])()},{'merge':!0x0}),this['setForDeletion'](_0x3b4d5d);}catch(_0x58742b){console[_0x5025f5(0x9e0)](_0x5025f5(0x463),_0x58742b);}else this[_0x5025f5(0x587)](_0x3b4d5d);}['setForDeletion'](_0x3df843){setTimeout(()=>{const _0x5287a4=a0_0x1394;delete this[_0x5287a4(0x205)][_0x3df843];},0x1b7740);}async['commitTrace'](_0x5052db){const _0x9b8a73=_0x3f1d19;if(_0x5052db[_0x9b8a73(0x994)]<this[_0x9b8a73(0x855)]&&_0x5052db['jobType']!==this[_0x9b8a73(0x4e9)])return;if(!this[_0x9b8a73(0x205)][_0x5052db['jobId']])throw new Error(_0x9b8a73(0x22e));const _0x55a5b0=this[_0x9b8a73(0x205)][_0x5052db['jobId']];try{const _0x2778e9=function(_0x43c08f){const _0x1a9055=_0x9b8a73,_0x14ba1a=[_0x1a9055(0x5fc),'timestamp',_0x1a9055(0x226),_0x1a9055(0x8c9),'jobId','traceLevel',_0x1a9055(0x7e5),_0x1a9055(0x597),_0x1a9055(0x6a5),_0x1a9055(0x937)],_0x323b5f={..._0x43c08f};for(const _0x5a7452 of _0x14ba1a)delete _0x323b5f[_0x5a7452];return{'timestamp':_0x43c08f['timestamp'],'jobType':_0x43c08f[_0x1a9055(0x226)],'type':_0x43c08f[_0x1a9055(0x8c9)],'jobId':_0x43c08f[_0x1a9055(0x25a)],'agentId':_0x43c08f['agentId']??'','traceLevel':_0x43c08f[_0x1a9055(0x994)],'blockId':_0x43c08f['blockId']??'','startTime':_0x43c08f[_0x1a9055(0x5fc)],'status':_0x43c08f[_0x1a9055(0x597)],'sequence':_0x43c08f['sequence']??0x0,'errorDetails':_0x43c08f['errorDetails']??'','metadata':_0x357f9e(_0x323b5f)};}(_0x5052db),_0x260878=(0x0,_0x54796e['v4'])();console[_0x9b8a73(0x279)](_0x9b8a73(0x73e),_0x2778e9['type']),await(0x0,_0x46e89c[_0x9b8a73(0x6b5)])((0x0,_0x46e89c['doc'])(_0x25e54d['getFirestore'](),_0x9b8a73(0x359)+_0x55a5b0[_0x9b8a73(0x3db)]+_0x9b8a73(0x4cf)+_0x55a5b0[_0x9b8a73(0x239)]+'/jobs/'+_0x5052db['jobId']+_0x9b8a73(0x924),_0x260878),_0x2778e9),_0x5052db[_0x9b8a73(0x8c9)]===_0x5e2cb3['PromptRating']&&await(0x0,_0x46e89c[_0x9b8a73(0x6b5)])((0x0,_0x46e89c[_0x9b8a73(0xb4b)])(_0x25e54d[_0x9b8a73(0x914)](),_0x9b8a73(0x359)+_0x55a5b0[_0x9b8a73(0x3db)]+'/workflows/'+_0x55a5b0['workflowId']+_0x9b8a73(0x938),_0x5052db[_0x9b8a73(0x25a)]),{'rating':_0x5052db[_0x9b8a73(0x9d6)]},{'merge':!0x0});}catch(_0x3539dd){console[_0x9b8a73(0x9e0)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x3539dd);}}}const _0x31083d=_0x4e56fe['getInstance']();async function _0x1481fb(_0x113d12,_0x26c9e5,_0x46cf35,_0x5c87bd,_0x20ff84,_0x49cb6d,_0x3d77e5,_0x11fb69){const _0x1160f8=function(_0x4c51fb,_0x280b2a){const _0x281d1a=a0_0x1394,_0x43f229=[];for(let _0x3677dc=0x0;_0x3677dc<_0x4c51fb['length'];_0x3677dc+=_0x280b2a[_0x281d1a(0x936)][_0x281d1a(0x277)]){let _0x33b1b6=_0x3677dc-_0x280b2a['attributes'][_0x281d1a(0x247)];_0x33b1b6<0x0&&(_0x33b1b6=0x0);let _0x2492d7=_0x3677dc+_0x280b2a['attributes'][_0x281d1a(0x277)]+_0x280b2a[_0x281d1a(0x936)][_0x281d1a(0x247)];_0x2492d7>_0x4c51fb[_0x281d1a(0x744)]&&(_0x2492d7=_0x4c51fb['length']),length||(length=_0x3677dc+_0x280b2a[_0x281d1a(0x936)][_0x281d1a(0x277)],length>_0x4c51fb['length']&&(length=_0x4c51fb[_0x281d1a(0x744)])),_0x43f229[_0x281d1a(0x24b)](_0x4c51fb[_0x281d1a(0x381)](_0x33b1b6,_0x2492d7));}return _0x43f229;}(_0x26c9e5,_0x20ff84);await _0x5c7f0(_0x113d12,_0x1160f8,_0x46cf35,_0x5c87bd,_0x20ff84,_0x49cb6d,_0x3d77e5,_0x11fb69);}async function _0x37b866(_0x589da9,_0x596217,_0x3f84c4,_0x29adf1,_0x12c769,_0x4089c1,_0x256270,_0x1d0104){const _0x1a25b6=_0x3f1d19;if(_0x12c769['accumulated']||(_0x12c769[_0x1a25b6(0x557)]={}),_0x12c769[_0x1a25b6(0x557)]['queries']||(_0x12c769[_0x1a25b6(0x557)][_0x1a25b6(0x2eb)]=[]),_0x596217 instanceof Array?_0x12c769[_0x1a25b6(0x557)][_0x1a25b6(0x2eb)][_0x1a25b6(0x24b)](..._0x596217):_0x12c769[_0x1a25b6(0x557)]['queries'][_0x1a25b6(0x24b)](_0x596217),_0x12c769['timesCalled']=_0x12c769[_0x1a25b6(0x81c)]?_0x12c769['timesCalled']+0x1:0x1,_0x58cf69(_0x12c769,_0x4089c1)>_0x12c769[_0x1a25b6(0x81c)])return;if(0x0===_0x12c769[_0x1a25b6(0x557)][_0x1a25b6(0x2eb)]['length'])throw new Error(_0x1a25b6(0x2dd));let _0x1ad117=[];const _0x292d73=Date['now']();try{let _0x2c1023=0x0,_0x1049cd=0x0;for(const _0x184414 of _0x12c769['accumulated'][_0x1a25b6(0x2eb)]){const _0x41529a=await fetch(_0x3af887[_0x1a25b6(0x1c0)]+_0x1a25b6(0x337)+_0x12c769['id']+_0x1a25b6(0x971),{'method':_0x1a25b6(0x3e9),'headers':{'Content-Type':'application/json','x-vendor-id':_0x3f84c4[_0x1a25b6(0x3db)]},'body':JSON[_0x1a25b6(0x300)]({'query':_0x184414})}),_0x46efac=((await _0x41529a[_0x1a25b6(0x430)]())[_0x1a25b6(0xa34)]??[])[_0x1a25b6(0x865)](_0x21285a=>({'pathName':_0x21285a[_0x1a25b6(0xae3)],'relevance':_0x21285a['score'],'content':_0x21285a[_0x1a25b6(0x861)][_0x1a25b6(0x571)]}));_0x1ad117=Array[_0x1a25b6(0x663)](new Set([..._0x1ad117,..._0x46efac])),_0x2c1023+=_0x46efac[_0x1a25b6(0x84e)]??0x0,_0x1049cd+=_0x46efac[_0x1a25b6(0xb64)]??0x0;}_0x29adf1['inputTokens']+=_0x2c1023,_0x29adf1[_0x1a25b6(0xb64)]+=_0x1049cd,_0x29adf1[_0x1a25b6(0x499)]=Array['from'](new Set([..._0x29adf1[_0x1a25b6(0x499)],..._0x1ad117])),await _0x31083d['trace']({'jobType':_0x217459[_0x1a25b6(0x987)],'type':_0xcae4eb[_0x1a25b6(0x484)],'jobId':_0x589da9,'threadId':_0x3f84c4[_0x1a25b6(0x36c)],'traceLevel':_0x5b73c0[_0x1a25b6(0x2cb)],'startTime':_0x292d73,'timestamp':Date[_0x1a25b6(0x64c)](),'blockId':_0x12c769['id'],'status':_0x1a25b6(0x656),'queries':_0x12c769[_0x1a25b6(0x557)][_0x1a25b6(0x2eb)],'context':_0x1ad117,'inputTokens':_0x2c1023,'outputTokens':_0x1049cd});}catch(_0xe3dc65){console['error'](_0xe3dc65),await _0x31083d[_0x1a25b6(0x93b)]({'jobType':_0x217459[_0x1a25b6(0x987)],'type':_0xcae4eb[_0x1a25b6(0x484)],'jobId':_0x589da9,'threadId':_0x3f84c4[_0x1a25b6(0x36c)],'traceLevel':_0x5b73c0['Info'],'startTime':_0x292d73,'timestamp':Date['now'](),'blockId':_0x12c769['id'],'status':'error','queries':_0x12c769['accumulated'][_0x1a25b6(0x2eb)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x5c7f0(_0x589da9,'',_0x3f84c4,_0x29adf1,_0x12c769,_0x4089c1,_0x256270,_0x1d0104);}async function _0x46d604(_0x14e6ca,_0x61d066,_0x54f29a,_0x47f7de,_0xacaf8c,_0x57e737,_0x390e01,_0x4812e9){const _0x5362ca=_0x3f1d19,_0x1c689e=await _0x390e01[_0x5362ca(0x1fa)][_0x5362ca(0x880)](_0x61d066);await _0x5c7f0(_0x14e6ca,_0x1c689e,_0x54f29a,_0x47f7de,_0xacaf8c,_0x57e737,_0x390e01,_0x4812e9);}async function _0x2bd592(_0x3e5328,_0xae0a0e,_0xdda039,_0xe86905,_0x1d04c1,_0x3d1c8e,_0x3f77d2,_0x222f2c){const _0x50ee0e=function(_0x4bdde6,_0x115fb2){const _0x1ba858=a0_0x1394,_0x324ee6=[],_0x3a649f=_0x4bdde6[_0x1ba858(0x44f)]('\x20');let _0x7d8bb8='',_0x4375be=0x0,_0x10c70e=0x0,_0x4bb481=0x0;for(const _0x44e6a5 of _0x3a649f){if(_0x7d8bb8[_0x1ba858(0x744)]+_0x44e6a5[_0x1ba858(0x744)]>_0x115fb2[_0x1ba858(0x936)][_0x1ba858(0x277)]){let _0x3668f5=_0x4375be,_0x57ea49='';for(;_0x3668f5>=0x0&&_0x57ea49['length']+_0x3a649f[_0x3668f5][_0x1ba858(0x744)]<_0x115fb2['attributes']['overlap'];)_0x57ea49=_0x3a649f[_0x3668f5]+'\x20'+_0x57ea49,_0x3668f5--;let _0x58a7fb=_0x10c70e,_0x2f522='';for(;_0x58a7fb<_0x3a649f[_0x1ba858(0x744)]&&_0x2f522[_0x1ba858(0x744)]+_0x3a649f[_0x58a7fb][_0x1ba858(0x744)]<_0x115fb2[_0x1ba858(0x936)]['overlap'];)_0x2f522+=_0x3a649f[_0x58a7fb]+'\x20',_0x58a7fb++;_0x7d8bb8=_0x57ea49+_0x7d8bb8+_0x2f522,_0x324ee6[_0x1ba858(0x24b)](_0x7d8bb8[_0x1ba858(0xb67)]()),_0x7d8bb8='',_0x4375be=_0x10c70e;}_0x7d8bb8+=_0x44e6a5+'\x20',_0x10c70e++,_0x4bb481+=_0x44e6a5[_0x1ba858(0x744)]+0x1;}if(_0x7d8bb8['length']>0x0){let _0x34dbbb=_0x4375be,_0x11ef41='';for(;_0x34dbbb>=0x0&&_0x11ef41[_0x1ba858(0x744)]+_0x3a649f[_0x34dbbb]['length']<_0x115fb2['attributes']['overlap'];)_0x11ef41=_0x3a649f[_0x34dbbb]+'\x20'+_0x11ef41,_0x34dbbb--;_0x7d8bb8=_0x11ef41+_0x7d8bb8,_0x324ee6[_0x1ba858(0x24b)](_0x7d8bb8[_0x1ba858(0xb67)]());}return _0x324ee6;}(_0xae0a0e,_0x1d04c1);await _0x5c7f0(_0x3e5328,_0x50ee0e,_0xdda039,_0xe86905,_0x1d04c1,_0x3d1c8e,_0x3f77d2,_0x222f2c);}async function _0x5c7f0(_0x28df51,_0x5777f1,_0x1d6a08,_0x4b2ea6,_0x5bc908,_0x548f87,_0x3cee66,_0x16849e){const _0x3587ce=_0x3f1d19;if(await _0x18a0c6[_0x3587ce(0x5e0)](0x1),_0x5bc908[_0x3587ce(0x217)]){for(const _0x1349f5 of _0x5bc908[_0x3587ce(0x217)]){if(_0x1349f5[_0x3587ce(0x8c9)]===_0x4a6d79[_0x3587ce(0x724)])continue;const _0x1b51b0=_0x548f87[_0x3587ce(0x4d3)](_0x40aaf3=>_0x40aaf3[_0x3587ce(0x88f)]===_0x1349f5[_0x3587ce(0x88f)]);if(_0x1b51b0)switch(_0x1b51b0[_0x3587ce(0x8c9)]){case _0x201fdb[_0x3587ce(0x2de)]:_0x1349f5[_0x3587ce(0x8c9)]!==_0x4a6d79[_0x3587ce(0x863)]&&_0x1349f5['type']!==_0x4a6d79[_0x3587ce(0x228)]||_0x3587ce(0x618)!=typeof _0x5777f1||await _0xdf280f(_0x28df51,_0x1349f5[_0x3587ce(0x8c9)],_0x5777f1,_0x1d6a08,_0x4b2ea6,_0x1b51b0,_0x548f87,_0x3cee66,_0x16849e),_0x1349f5[_0x3587ce(0x8c9)]===_0x4a6d79[_0x3587ce(0x688)]&&_0x3587ce(0x433)===_0x5777f1&&await _0xdf280f(_0x28df51,_0x1349f5[_0x3587ce(0x8c9)],_0x5777f1,_0x1d6a08,_0x4b2ea6,_0x1b51b0,_0x548f87,_0x3cee66,_0x16849e),_0x1349f5[_0x3587ce(0x8c9)]===_0x4a6d79['WaitFalse']&&_0x3587ce(0x2be)===_0x5777f1&&await _0xdf280f(_0x28df51,_0x1349f5[_0x3587ce(0x8c9)],_0x5777f1,_0x1d6a08,_0x4b2ea6,_0x1b51b0,_0x548f87,_0x3cee66,_0x16849e),_0x1349f5[_0x3587ce(0x8c9)]===_0x4a6d79[_0x3587ce(0x2a7)]&&'string'==typeof _0x5777f1&&await _0xdf280f(_0x28df51,_0x1349f5[_0x3587ce(0x8c9)],_0x5777f1,_0x1d6a08,_0x4b2ea6,_0x1b51b0,_0x548f87,_0x3cee66,_0x16849e);break;case _0x201fdb[_0x3587ce(0x333)]:_0x1349f5[_0x3587ce(0x8c9)]===_0x4a6d79['Text']&&'string'==typeof _0x5777f1&&await _0x1481fb(_0x28df51,_0x5777f1,_0x1d6a08,_0x4b2ea6,_0x1b51b0,_0x548f87,_0x3cee66,_0x16849e);break;case _0x201fdb[_0x3587ce(0x484)]:_0x1349f5['type']===_0x4a6d79[_0x3587ce(0x863)]&&_0x3587ce(0x618)==typeof _0x5777f1&&await _0x37b866(_0x28df51,_0x5777f1,_0x1d6a08,_0x4b2ea6,_0x1b51b0,_0x548f87,_0x3cee66,_0x16849e),_0x1349f5[_0x3587ce(0x8c9)]===_0x4a6d79['Text']&&_0x5777f1 instanceof Array&&await _0x37b866(_0x28df51,_0x5777f1,_0x1d6a08,_0x4b2ea6,_0x1b51b0,_0x548f87,_0x3cee66,_0x16849e);break;case _0x201fdb['SentenceSplitter']:_0x1349f5[_0x3587ce(0x8c9)]===_0x4a6d79[_0x3587ce(0x863)]&&_0x3587ce(0x618)==typeof _0x5777f1&&await _0x46d604(_0x28df51,_0x5777f1,_0x1d6a08,_0x4b2ea6,_0x1b51b0,_0x548f87,_0x3cee66,_0x16849e);break;case _0x201fdb[_0x3587ce(0x306)]:_0x1349f5[_0x3587ce(0x8c9)]===_0x4a6d79[_0x3587ce(0x863)]&&_0x3587ce(0x618)==typeof _0x5777f1&&await _0x2bd592(_0x28df51,_0x5777f1,_0x1d6a08,_0x4b2ea6,_0x1b51b0,_0x548f87,_0x3cee66,_0x16849e);}}_0x5bc908['type']===_0x201fdb[_0x3587ce(0x19a)]&&_0x16849e&&_0x16849e['emit'](void 0x0);}else _0x5bc908['type']===_0x201fdb[_0x3587ce(0x19a)]&&_0x16849e&&_0x16849e['emit'](void 0x0);}function _0x58cf69(_0x50a67e,_0x3c4c1a){const _0x449aa7=_0x3f1d19;let _0x3e4b5a=0x0;for(const _0x40f851 of _0x3c4c1a)for(const _0x4b5462 of _0x40f851['links']??[])_0x4b5462['type']!==_0x4a6d79['Context']&&_0x4b5462[_0x449aa7(0x8c9)]!==_0x4a6d79[_0x449aa7(0x7b7)]&&_0x4b5462[_0x449aa7(0x8c9)]!==_0x4a6d79[_0x449aa7(0x2f4)]&&_0x4b5462['type']!==_0x4a6d79[_0x449aa7(0x9df)]&&_0x4b5462['uid']===_0x50a67e[_0x449aa7(0x88f)]&&_0x3e4b5a++;return _0x3e4b5a;}function _0x4e12ea(_0x2026fc,_0x117838){const _0x5cc4d2=_0x3f1d19,_0x5552d4={'type':_0x2026fc[_0x5cc4d2(0x8c9)],'name':_0x2026fc['name']??'','description':_0x2026fc[_0x5cc4d2(0x70b)]??'','parameters':_0x2026fc[_0x5cc4d2(0x7cd)]??[],'headers':_0x2026fc[_0x5cc4d2(0x1d2)]??[],'queryParameters':_0x2026fc['queryParameters']??[],'bodyParameters':_0x2026fc[_0x5cc4d2(0x7f8)]??[],'endpointUrl':_0x2026fc['endpointUrl']??'','endpointMethod':_0x2026fc[_0x5cc4d2(0xa79)]??'','contextInputVariable':_0x2026fc['contextInputVariable']??'','contextOutputVariable':_0x2026fc[_0x5cc4d2(0xa40)]??'','modelId':_0x2026fc[_0x5cc4d2(0x949)]??'','workflowId':_0x2026fc['workflowId']??'','async':_0x2026fc[_0x5cc4d2(0x517)]??!0x1,'instructions':_0x2026fc['instructions']??'','maxTokens':_0x2026fc[_0x5cc4d2(0x556)]??0x0,'temperature':_0x2026fc[_0x5cc4d2(0x921)]??0x0,'grammar':_0x2026fc['grammar']??_0x5cc4d2(0x243),'collectionId':_0x2026fc[_0x5cc4d2(0x8c9)]===_0x201fdb[_0x5cc4d2(0x484)]||_0x2026fc['type']===_0x201fdb[_0x5cc4d2(0x742)]?_0x2026fc['id']:'','shouldEmit':_0x2026fc['links']?.[_0x5cc4d2(0x658)](_0x1581f7=>_0x1581f7[_0x5cc4d2(0x8c9)]===_0x4a6d79['Text']&&_0x117838[_0x5cc4d2(0x4d3)](_0x1c2cde=>_0x1c2cde[_0x5cc4d2(0x88f)]===_0x1581f7[_0x5cc4d2(0x88f)])?.[_0x5cc4d2(0x8c9)]===_0x201fdb[_0x5cc4d2(0x496)])??!0x1};if(_0x2026fc[_0x5cc4d2(0x8c9)]===_0x201fdb[_0x5cc4d2(0x57a)])return[{..._0x5552d4,'type':_0x1c7ce5[_0x5cc4d2(0xad1)][_0x5cc4d2(0x93e)],'questions':_0x2026fc['questions']??[]},{..._0x5552d4,'type':_0x1c7ce5['GenerativeAIInferenceToolType'][_0x5cc4d2(0xa39)],'questions':_0x2026fc['questions']??[]},{..._0x5552d4,'type':_0x1c7ce5[_0x5cc4d2(0xad1)][_0x5cc4d2(0x820)],'questions':_0x2026fc['questions']??[]}];if(_0x2026fc[_0x5cc4d2(0x8c9)]===_0x201fdb['Agent']||_0x2026fc[_0x5cc4d2(0x8c9)]===_0x201fdb[_0x5cc4d2(0x8d9)]||_0x2026fc[_0x5cc4d2(0x8c9)]===_0x201fdb[_0x5cc4d2(0x8d0)]){const _0x485dd3=_0x117838['filter'](_0x554865=>_0x554865[_0x5cc4d2(0x217)]?.[_0x5cc4d2(0x658)](_0x55ea52=>_0x55ea52[_0x5cc4d2(0x88f)]===_0x2026fc[_0x5cc4d2(0x88f)]&&_0x55ea52['type']===_0x4a6d79[_0x5cc4d2(0x7b7)]));if(_0x485dd3[_0x5cc4d2(0x744)]>0x0)return{..._0x5552d4,'tools':_0x485dd3[_0x5cc4d2(0x871)](_0x294a62=>_0x4e12ea(_0x294a62,_0x117838))};}return _0x5552d4;}async function _0xdf280f(_0x18af79,_0x2f7f17,_0x4b1203,_0xd3c264,_0x52d723,_0x489f10,_0x24934b,_0x514825,_0x307453){const _0x50af90=_0x3f1d19,_0x5475c8=_0x514825[_0x50af90(0xb1c)][_0x50af90(0x4d3)](_0x3db140=>_0x3db140['id']===_0x489f10[_0x50af90(0x949)]);if(!_0x5475c8)throw new Error(_0x50af90(0x940)+_0x489f10['modelId']);if(_0x5475c8['taskType']!==_0x1c7ce5[_0x50af90(0x91a)]['TextGeneration'])return console[_0x50af90(0x279)](new Date()+_0x50af90(0x1fc)),void await _0x5c7f0(_0x18af79,_0x4b1203,_0xd3c264,_0x52d723,_0x489f10,_0x24934b,_0x514825,_0x307453);if(_0x489f10[_0x50af90(0x557)]||(_0x489f10['accumulated']={}),_0x2f7f17===_0x4a6d79[_0x50af90(0x863)]&&_0x50af90(0x618)==typeof _0x4b1203&&(_0x489f10[_0x50af90(0x557)][_0x50af90(0x448)]||(_0x489f10['accumulated']['prompt']=[]),_0x489f10[_0x50af90(0x557)][_0x50af90(0x448)][_0x50af90(0x24b)](_0x4b1203)),_0x2f7f17===_0x4a6d79[_0x50af90(0x2f4)])return _0x489f10[_0x50af90(0x557)][_0x50af90(0x9c0)]||(_0x489f10['accumulated'][_0x50af90(0x9c0)]=[]),void _0x489f10[_0x50af90(0x557)]['files'][_0x50af90(0x24b)](_0x4b1203);if(_0x2f7f17===_0x4a6d79[_0x50af90(0x9df)])return _0x489f10['accumulated'][_0x50af90(0x13c)]||(_0x489f10['accumulated']['images']=[]),void _0x489f10[_0x50af90(0x557)]['images'][_0x50af90(0x24b)](_0x4b1203);if(_0x489f10['timesCalled']=_0x489f10[_0x50af90(0x81c)]?_0x489f10[_0x50af90(0x81c)]+0x1:0x1,_0x58cf69(_0x489f10,_0x24934b)>_0x489f10[_0x50af90(0x81c)])return;if(_0x576b91[_0x50af90(0x313)](_0x50af90(0x616)+_0x489f10[_0x50af90(0xb0f)],_0x489f10[_0x50af90(0x81c)]),!_0x489f10[_0x50af90(0x557)]['prompt'])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x489f10[_0x50af90(0xb0f)]);const _0x4f7c76=Date['now'](),_0x81d9b1=(0x0,_0x54796e['v4'])();let _0x455a5a='',_0x4afa07=0x0,_0x5e80e8=0x0;const _0x45627c=[],_0x2f06ca=function(_0x1f3090,_0x14f7d4,_0x28bdf){const _0x246ab6=_0x50af90;if(_0x28bdf['contextInputVariable']){const _0x388fc7=_0x28bdf[_0x246ab6(0x674)][_0x246ab6(0x44f)](',');for(const _0x1effa6 of _0x388fc7)_0x246ab6(0x9c0)!==_0x1effa6&&_0x246ab6(0x13c)!==_0x1effa6&&_0x14f7d4[_0x246ab6(0xb52)]?.[_0x1effa6]&&(_0x1f3090='<'+_0x1effa6+'>'+_0x14f7d4[_0x246ab6(0xb52)][_0x1effa6]+'</'+_0x1effa6+_0x246ab6(0x420)+_0x1f3090);}return _0x1f3090;}(_0x489f10[_0x50af90(0x557)]['prompt'][_0x50af90(0x4b3)]('\x0a\x0a'),_0x52d723,_0x489f10);let _0x5607a4=_0x2f06ca;if(_0x489f10['accumulated'][_0x50af90(0x9c0)]){_0x50af90(0x618)==typeof _0x5607a4&&(_0x5607a4=[],_0x5607a4['push']({'type':_0x50af90(0x571),'text':_0x2f06ca}));for(const _0x1a820d of _0x489f10['accumulated']['files'])_0x5607a4['push']({'type':_0x50af90(0x4dc),'file':{'file_id':_0x1a820d}});}if(_0x489f10[_0x50af90(0x557)][_0x50af90(0x13c)]){'string'==typeof _0x5607a4&&(_0x5607a4=[],_0x5607a4[_0x50af90(0x24b)]({'type':'text','text':_0x2f06ca}));for(const _0x1a0a4c of _0x489f10[_0x50af90(0x557)][_0x50af90(0x13c)])_0x5607a4[_0x50af90(0x24b)]({'type':'image_url','image_url':{'url':_0x50af90(0x29a)+_0x1a0a4c}});}_0x45627c['push']({'role':'system','content':_0xc91bfd(_0xd3c264[_0x50af90(0x789)]??'',_0x489f10,_0x5475c8)}),_0x45627c[_0x50af90(0x24b)](..._0xd3c264[_0x50af90(0x745)]?.['map'](_0x125d28=>({'role':_0x125d28[_0x50af90(0xb47)]===_0x1c7ce5[_0x50af90(0xa2a)][_0x50af90(0x65f)]?_0x50af90(0x612):_0x50af90(0x264),'content':_0x125d28[_0x50af90(0x759)]}))??[]),_0x45627c[_0x50af90(0x24b)]({'role':_0x50af90(0x612),'content':_0x5607a4});const _0x1e809d=_0x24934b[_0x50af90(0x1e0)](_0x5cdd71=>_0x5cdd71[_0x50af90(0x217)]?.['some'](_0x32be9c=>_0x32be9c[_0x50af90(0x88f)]===_0x489f10[_0x50af90(0x88f)]&&_0x32be9c[_0x50af90(0x8c9)]===_0x4a6d79[_0x50af90(0x7b7)]))['flatMap'](_0xf734b0=>_0x4e12ea(_0xf734b0,_0x24934b));if(_0x307453){const _0x510dcb=_0x489f10[_0x50af90(0x217)]?.[_0x50af90(0x658)](_0xbff1f4=>_0xbff1f4[_0x50af90(0x8c9)]===_0x4a6d79[_0x50af90(0x863)]&&(_0x24934b[_0x50af90(0x4d3)](_0x103778=>_0x103778[_0x50af90(0x88f)]===_0xbff1f4['uid'])?.[_0x50af90(0x8c9)]===_0x201fdb[_0x50af90(0x496)]||_0x24934b[_0x50af90(0x4d3)](_0xa69f04=>_0xa69f04['uid']===_0xbff1f4[_0x50af90(0x88f)])?.[_0x50af90(0x217)]?.[_0x50af90(0x658)](_0x1ec466=>_0x1ec466['type']===_0x4a6d79[_0x50af90(0x2a7)]&&_0x24934b[_0x50af90(0x4d3)](_0x32371f=>_0x32371f[_0x50af90(0x88f)]===_0x1ec466[_0x50af90(0x88f)])?.[_0x50af90(0x8c9)]===_0x201fdb[_0x50af90(0x496)])))??!0x1,_0xe38d47=await fetch(_0x3af887['apiUrl']+_0x50af90(0x972),{'method':_0x50af90(0x3e9),'headers':{'Accept':_0x50af90(0xb09),'Content-Type':_0x50af90(0x8a6),'x-vendor-id':_0xd3c264[_0x50af90(0x3db)]},'body':JSON[_0x50af90(0x300)]({'model':_0x489f10[_0x50af90(0x949)],'messages':_0x45627c,'max_completion_tokens':_0x489f10[_0x50af90(0x556)],'temperature':_0x489f10['temperature'],'metadata':{'threadId':_0xd3c264['threadId'],'agentId':_0x81d9b1,'jobId':_0x18af79,'workflowId':_0xd3c264['workflowId'],'context':_0x52d723[_0x50af90(0xb52)]??{}},'structured_output':_0x489f10['grammar'],'tools':_0x1e809d,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0xe38d47['ok']||!_0xe38d47['body'])return console[_0x50af90(0x9e0)]('Error\x20processing\x20agent\x20block'),void _0x307453[_0x50af90(0x995)](void 0x0);const _0x1f55ff=_0xe38d47[_0x50af90(0x8bf)][_0x50af90(0x7d8)](),_0x444a37=new TextDecoder();for(;;){const {value:_0xcfbd0c,done:_0x33167a}=await _0x1f55ff[_0x50af90(0x830)]();if(_0x33167a)break;const _0x14782e=_0x444a37[_0x50af90(0x527)](_0xcfbd0c,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x14782e)break;const _0x5ad643=_0x504d8a(_0x14782e);for(const _0x253d19 of _0x5ad643)_0x253d19[_0x50af90(0x683)]&&_0x253d19[_0x50af90(0x683)][0x0]&&(_0x510dcb&&(_0x307453[_0x50af90(0x995)]({'output':_0x253d19[_0x50af90(0x683)][0x0][_0x50af90(0x3e7)]['content'],'type':'prompt'}),await _0x18a0c6[_0x50af90(0x5e0)](0x1)),_0x455a5a+=_0x253d19[_0x50af90(0x683)][0x0][_0x50af90(0x3e7)][_0x50af90(0x861)]??'',_0x4afa07=_0x253d19['usage']?.[_0x50af90(0x2d1)]??0x0,_0x5e80e8=_0x253d19[_0x50af90(0x16b)]?.['completion_tokens']??0x0,_0x52d723[_0x50af90(0xb52)]={..._0x52d723[_0x50af90(0xb52)],..._0x253d19[_0x50af90(0x499)]});}_0x52d723[_0x50af90(0xb64)]=(_0x52d723['outputTokens']??0x0)+_0x5e80e8,_0x52d723[_0x50af90(0x84e)]=(_0x52d723[_0x50af90(0x84e)]??0x0)+_0x4afa07,_0x307453[_0x50af90(0x995)]({'output':_0x510dcb?'\x0a\x0a':'','type':'prompt'}),await _0x18a0c6[_0x50af90(0x5e0)](0x1);}else{const _0x27f448=await fetch(_0x3af887[_0x50af90(0x1c0)]+'/chat/completions',{'method':'POST','headers':{'Content-Type':'application/json','x-vendor-id':_0xd3c264[_0x50af90(0x3db)]},'body':JSON[_0x50af90(0x300)]({'model':_0x489f10[_0x50af90(0x949)],'messages':_0x45627c,'max_completion_tokens':_0x489f10[_0x50af90(0x556)],'temperature':_0x489f10[_0x50af90(0x921)],'metadata':{'threadId':_0xd3c264[_0x50af90(0x36c)],'agentId':_0x81d9b1,'jobId':_0x18af79,'workflowId':_0xd3c264[_0x50af90(0x239)],'context':_0x52d723['internalContext']??{}},'structured_output':_0x489f10[_0x50af90(0x751)],'tools':_0x1e809d})}),_0x33d58e=await _0x27f448['json']();_0x455a5a=_0x33d58e[_0x50af90(0x683)][0x0][_0x50af90(0x759)][_0x50af90(0x861)],_0x4afa07=_0x33d58e[_0x50af90(0x16b)][_0x50af90(0x2d1)],_0x5e80e8=_0x33d58e[_0x50af90(0x16b)]['completion_tokens'],_0x52d723[_0x50af90(0x68e)]=_0x455a5a,_0x52d723[_0x50af90(0xb52)]={..._0x52d723[_0x50af90(0xb52)],..._0x33d58e['context']},_0x52d723[_0x50af90(0xb64)]=(_0x52d723[_0x50af90(0xb64)]??0x0)+_0x5e80e8,_0x52d723['inputTokens']=(_0x52d723[_0x50af90(0x84e)]??0x0)+_0x4afa07;}if(_0x489f10[_0x50af90(0xa40)]&&(_0x52d723[_0x50af90(0xb52)]||(_0x52d723[_0x50af90(0xb52)]={}),_0x52d723[_0x50af90(0xb52)][_0x489f10[_0x50af90(0xa40)]]=_0x455a5a),await _0x31083d['trace']({'jobType':_0x217459[_0x50af90(0x987)],'type':_0xcae4eb[_0x50af90(0x1cc)],'jobId':_0x18af79,'agentId':_0x81d9b1,'threadId':_0xd3c264[_0x50af90(0x36c)],'traceLevel':_0x5b73c0[_0x50af90(0x2cb)],'startTime':_0x4f7c76,'timestamp':Date['now'](),'blockId':_0x489f10['id'],'status':_0x50af90(0x656),'output':_0x455a5a,'prompt':_0x2f06ca,'agentName':_0x489f10[_0x50af90(0xb0f)],'history':[],'instructions':''+_0x489f10['instructions']+(_0xd3c264[_0x50af90(0x789)]??''),'ragContext':[],'inputTokens':_0x4afa07??0x0,'outputTokens':_0x5e80e8??0x0}),_0x50af90(0xa66)===_0x489f10['grammar'])try{_0x455a5a=JSON[_0x50af90(0x237)](_0x455a5a)[_0x50af90(0x79a)]?_0x50af90(0x433):_0x50af90(0x2be);}catch(_0x17a50a){console[_0x50af90(0x9e0)](_0x50af90(0x25c),_0x455a5a),_0x455a5a=_0x50af90(0x2be);}await _0x5c7f0(_0x18af79,_0x455a5a,_0xd3c264,_0x52d723,_0x489f10,_0x24934b,_0x514825,_0x307453);}function _0xc91bfd(_0x2a1928,_0x193216,_0x22773b){const _0x28bdc6=_0x3f1d19;let _0x2770e9='';return _0x22773b[_0x28bdc6(0x860)]&&''!==_0x22773b[_0x28bdc6(0x860)]&&(_0x2770e9=_0x28bdc6(0x6bf)+_0x22773b[_0x28bdc6(0x860)]+'\x0a\x0a'),_0x2770e9=_0x2770e9+_0x28bdc6(0x494)+new Date()[_0x28bdc6(0x960)](void 0x0,{'weekday':_0x28bdc6(0x72d),'year':_0x28bdc6(0x34b),'month':_0x28bdc6(0x72d),'day':_0x28bdc6(0x34b)})+'\x0a\x0a',''+_0x2770e9+_0x193216['instructions']+_0x2a1928;}function _0x504d8a(_0x4f4f06){const _0x2e304e=_0x3f1d19;return _0x4f4f06[_0x2e304e(0x44f)](_0x2e304e(0x8ca))[_0x2e304e(0x865)](_0x47e905=>_0x47e905[_0x2e304e(0x6d7)](_0x2e304e(0x8c8),'')[_0x2e304e(0xb67)]())[_0x2e304e(0x1e0)](_0x1c6889=>''!==_0x1c6889)['map'](_0x4e0abf=>{const _0x19e8c2=_0x2e304e;if('[DONE]'===_0x4e0abf)return null;try{return JSON[_0x19e8c2(0x237)](_0x4e0abf);}catch(_0x384f9f){return console[_0x19e8c2(0x9e0)]('Invalid\x20JSON:',_0x4e0abf),null;}})['filter'](_0x1c2350=>null!==_0x1c2350);}async function _0x711fc1(_0x5ce090,_0x2f28eb,_0x892bb4,_0x2d1024,_0x59eb6c,_0x6ab620,_0x3f4cce){const _0x12694c=_0x3f1d19,_0x30797a='Execute\x20the\x20agent\x20'+_0x59eb6c[_0x12694c(0x70b)]+_0x12694c(0x39e),_0x8e73eb={'prompt':{'type':_0x1c7ce5[_0x12694c(0x399)][_0x12694c(0x519)]}};return await _0x31083d[_0x12694c(0x93b)]({'jobType':_0x217459['JobContext'],'type':_0x152107['LoadSkillFunction'],'jobId':_0x5ce090,'agentId':_0x2f28eb,'threadId':_0x892bb4[_0x12694c(0x36c)],'traceLevel':_0x5b73c0[_0x12694c(0x2cb)],'startTime':Date[_0x12694c(0x64c)](),'timestamp':Date['now'](),'status':_0x12694c(0x656),'function':_0x30b8fc[_0x12694c(0x1e4)],'params':_0x8e73eb,'functionDescription':_0x30797a}),{'description':_0x30797a,'params':_0x8e73eb,'callback':async _0x3b9c72=>_0x15dab3(_0x892bb4[_0x12694c(0x3db)],_0x59eb6c,_0x6ab620,_0x3b9c72,_0x2d1024,_0x5ce090,_0x2f28eb,_0x892bb4['workflowId'],_0x892bb4[_0x12694c(0x36c)],_0x3f4cce)};}async function _0x15dab3(_0x13867e,_0xac829f,_0x39a6ca,_0x733a96,_0x417aaf,_0x24440b,_0x1c1f3b,_0x4032cc,_0x344cdd,_0x2e8004){const _0x4506e6=_0x3f1d19,_0x321eb8=Date['now']();try{if(_0x4506e6(0x618)!=typeof _0x733a96?.['prompt'])throw new Error('Prompt\x20is\x20required');if(!_0x39a6ca['models'][_0x4506e6(0x4d3)](_0x12ea8a=>_0x12ea8a['id']===_0xac829f[_0x4506e6(0x949)]))throw new Error('Model\x20not\x20found');let _0x2bb035='',_0x1a83e2=[];if(_0xac829f['instructions']&&_0x1a83e2[_0x4506e6(0x24b)]({'role':_0x4506e6(0x3ee),'content':_0xac829f[_0x4506e6(0x789)]}),_0x1a83e2[_0x4506e6(0x24b)]({'role':_0x4506e6(0x612),'content':_0x733a96[_0x4506e6(0x448)]}),_0x2e8004&&_0xac829f[_0x4506e6(0x56b)]){const _0x143d0a=await fetch(_0x3af887['apiUrl']+_0x4506e6(0x972),{'method':_0x4506e6(0x3e9),'headers':{'Accept':_0x4506e6(0xb09),'Content-Type':'application/json','x-vendor-id':_0x13867e},'body':JSON[_0x4506e6(0x300)]({'model':_0xac829f[_0x4506e6(0x949)],'messages':_0x1a83e2,'max_completion_tokens':_0xac829f[_0x4506e6(0x556)],'temperature':_0xac829f[_0x4506e6(0x921)],'tools':_0xac829f['tools'],'structured_output':_0xac829f['grammar'],'metadata':{'threadId':_0x344cdd,'jobId':_0x24440b,'agentId':_0x1c1f3b,'workflowId':_0x4032cc,'context':_0x417aaf?.['internalContext']??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x143d0a['ok']||!_0x143d0a['body'])return console['error'](_0x4506e6(0x329)),_0x2e8004[_0x4506e6(0x995)](void 0x0),_0x4506e6(0x388);const _0x46219b=_0x143d0a[_0x4506e6(0x8bf)][_0x4506e6(0x7d8)](),_0x1d0f8d=new TextDecoder();let _0x3446ef=0x0,_0x36ccf9=0x0,_0x2d6adb='';for(;;){const {value:_0x4ea004,done:_0x12e4a8}=await _0x46219b['read']();if(_0x12e4a8)break;const _0x340d80=_0x1d0f8d[_0x4506e6(0x527)](_0x4ea004,{'stream':!0x0});if(_0x4506e6(0x913)===_0x340d80)break;const _0x237f56=_0x504d8a(_0x340d80);for(const _0x1a573d of _0x237f56)_0x1a573d['choices']&&_0x1a573d[_0x4506e6(0x683)][0x0]&&(_0x2d6adb+=_0x1a573d[_0x4506e6(0x683)][0x0][_0x4506e6(0x3e7)]['content'],_0x3446ef+=_0x1a573d[_0x4506e6(0x16b)]?.[_0x4506e6(0x68f)]??0x0,_0x36ccf9+=_0x1a573d[_0x4506e6(0x16b)]?.['output_tokens']??0x0,_0x417aaf&&(_0x417aaf['internalContext']={..._0x417aaf[_0x4506e6(0xb52)],..._0x1a573d[_0x4506e6(0x499)]}),_0x2e8004[_0x4506e6(0x995)]({'output':_0x1a573d[_0x4506e6(0x683)][0x0][_0x4506e6(0x3e7)][_0x4506e6(0x861)],'type':_0x4506e6(0x448)}),await _0x18a0c6[_0x4506e6(0x5e0)](0x1));}_0x417aaf&&(_0x417aaf[_0x4506e6(0xb64)]=(_0x417aaf[_0x4506e6(0xb64)]??0x0)+_0x36ccf9,_0x417aaf[_0x4506e6(0x84e)]=(_0x417aaf[_0x4506e6(0x84e)]??0x0)+_0x3446ef,_0xac829f[_0x4506e6(0xa40)]&&(_0x417aaf[_0x4506e6(0xb52)]||(_0x417aaf[_0x4506e6(0xb52)]={}),_0x417aaf['internalContext'][_0xac829f[_0x4506e6(0xa40)]]=_0x2d6adb)),_0x2e8004['emit']({'output':'\x0a\x0a','type':'prompt'}),await _0x18a0c6['wait'](0x1),_0x2bb035=_0x4506e6(0x6aa);}else{const _0x3e9fc3=await fetch(_0x3af887[_0x4506e6(0x1c0)]+_0x4506e6(0x972),{'method':_0x4506e6(0x3e9),'headers':{'Content-Type':'application/json','x-vendor-id':_0x13867e},'body':JSON[_0x4506e6(0x300)]({'model':_0xac829f[_0x4506e6(0x949)],'messages':_0x1a83e2,'max_completion_tokens':_0xac829f['maxTokens'],'temperature':_0xac829f[_0x4506e6(0x921)],'tools':_0xac829f[_0x4506e6(0x378)],'structured_output':_0xac829f[_0x4506e6(0x751)],'metadata':{'threadId':_0x344cdd,'jobId':_0x24440b,'agentId':_0x1c1f3b,'workflowId':_0x4032cc,'context':_0x417aaf?.[_0x4506e6(0xb52)]??{}}})}),_0x442fc8=await _0x3e9fc3[_0x4506e6(0x430)]();_0x2bb035=_0x442fc8['choices'][0x0][_0x4506e6(0x759)][_0x4506e6(0x861)],_0x417aaf&&(_0x417aaf[_0x4506e6(0xb52)]={..._0x417aaf[_0x4506e6(0xb52)],..._0x442fc8['context']},_0x417aaf[_0x4506e6(0xb64)]=(_0x417aaf[_0x4506e6(0xb64)]??0x0)+_0x442fc8[_0x4506e6(0x16b)][_0x4506e6(0x4ae)],_0x417aaf[_0x4506e6(0x84e)]=(_0x417aaf['inputTokens']??0x0)+_0x442fc8[_0x4506e6(0x16b)][_0x4506e6(0x2d1)],_0xac829f[_0x4506e6(0xa40)]&&(_0x417aaf[_0x4506e6(0xb52)]||(_0x417aaf[_0x4506e6(0xb52)]={}),_0x417aaf['internalContext'][_0xac829f[_0x4506e6(0xa40)]]=_0x2bb035));}if(_0x4506e6(0x618)!=typeof _0x2bb035)throw new Error(_0x4506e6(0x962));return _0x24440b&&_0x1c1f3b&&_0x344cdd&&await _0x31083d[_0x4506e6(0x93b)]({'jobType':_0x217459['Skill'],'type':_0x30b8fc[_0x4506e6(0x1e4)],'jobId':_0x24440b,'blockId':_0x4506e6(0x752),'agentId':_0x1c1f3b,'threadId':_0x344cdd,'traceLevel':_0x5b73c0['Info'],'startTime':_0x321eb8,'timestamp':Date[_0x4506e6(0x64c)](),'status':'success','agentName':_0xac829f[_0x4506e6(0xb0f)],'prompt':_0x733a96[_0x4506e6(0x448)],'instructions':_0xac829f[_0x4506e6(0x789)]??'','result':_0x2bb035,'inputTokens':0x0,'outputTokens':0x0}),_0x2bb035;}catch(_0x3c13fd){return console['error'](_0x3c13fd),_0x24440b&&_0x1c1f3b&&_0x344cdd&&await _0x31083d['trace']({'jobType':_0x217459[_0x4506e6(0x810)],'type':_0x30b8fc[_0x4506e6(0x1e4)],'jobId':_0x24440b,'blockId':_0x4506e6(0x752),'agentId':_0x1c1f3b,'threadId':_0x344cdd,'traceLevel':_0x5b73c0[_0x4506e6(0x2cb)],'startTime':_0x321eb8,'timestamp':Date['now'](),'status':_0x4506e6(0x9e0),'errorDetails':_0x42c8e3(_0x3c13fd),'agentName':_0xac829f[_0x4506e6(0xb0f)],'prompt':_0x733a96?.[_0x4506e6(0x448)]??'','instructions':_0xac829f[_0x4506e6(0x789)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x3c13fd instanceof Error?_0x3c13fd[_0x4506e6(0x759)]:_0x4506e6(0x388);}}async function _0x3a3251(_0x3a9372,_0x4dd76c,_0x1689cd,_0x454edb,_0xf3559b,_0x3b8941){const _0x26b965=_0x3f1d19,_0x5da592=Date['now']();try{if(!_0x4dd76c[_0x26b965(0x7f3)])throw new Error(_0x26b965(0x424));if(!_0x3a9372[_0x26b965(0x949)])throw new Error(_0x26b965(0x9e1));if(_0x26b965(0x618)!=typeof _0x1689cd?.[_0x26b965(0x39c)])throw new Error('Query\x20is\x20required');const _0x214f06=await _0x4dd76c[_0x26b965(0x7f3)][_0x26b965(0x32e)](_0x1689cd['query'],_0x3a9372[_0x26b965(0x949)]);return _0x454edb&&_0xf3559b&&_0x3b8941&&(await _0x31083d[_0x26b965(0x65c)](_0x454edb,_0x3a9372[_0x26b965(0x949)],_0x214f06['inputTokens'],_0x214f06[_0x26b965(0xb64)]),console['log'](new Date()+_0x26b965(0x418),_0x3a9372[_0x26b965(0x949)],_0x214f06[_0x26b965(0x84e)],_0x214f06[_0x26b965(0xb64)]),await _0x31083d[_0x26b965(0x93b)]({'jobType':_0x217459[_0x26b965(0x810)],'type':_0x30b8fc[_0x26b965(0x355)],'jobId':_0x454edb,'agentId':_0xf3559b,'threadId':_0x3b8941,'blockId':_0x26b965(0x731),'traceLevel':_0x5b73c0[_0x26b965(0x2cb)],'startTime':_0x5da592,'timestamp':Date[_0x26b965(0x64c)](),'status':'success','query':_0x1689cd[_0x26b965(0x39c)],'results':_0x214f06[_0x26b965(0x68e)]})),_0x214f06['output'];}catch(_0xe8c0e1){return console[_0x26b965(0x9e0)](_0xe8c0e1),_0x454edb&&_0xf3559b&&_0x3b8941&&await _0x31083d[_0x26b965(0x93b)]({'jobType':_0x217459[_0x26b965(0x810)],'type':_0x30b8fc[_0x26b965(0x355)],'jobId':_0x454edb,'blockId':_0x26b965(0x731),'traceLevel':_0x5b73c0[_0x26b965(0x2cb)],'startTime':_0x5da592,'timestamp':Date[_0x26b965(0x64c)](),'status':_0x26b965(0x9e0),'errorDetails':_0x42c8e3(_0xe8c0e1),'agentId':_0xf3559b,'threadId':_0x3b8941,'query':_0x1689cd?.[_0x26b965(0x39c)]??'','results':'Error\x20searching'}),_0xe8c0e1 instanceof Error?_0xe8c0e1[_0x26b965(0x759)]:_0x26b965(0x42b);}}async function _0x151b7f(_0x54d601,_0x3d5763,_0x4796c9,_0x4e9dfc){const _0x5a140d=_0x3f1d19,_0x20b9a6=Date['now']();try{if(_0x5a140d(0x618)!=typeof _0x54d601?.[_0x5a140d(0x380)])throw new Error('Code\x20is\x20required');const _0x14ef23=Function(''+_0x54d601?.[_0x5a140d(0x380)])();let _0x3fa384='';try{_0x3fa384=JSON[_0x5a140d(0x300)](_0x14ef23);}catch{_0x3fa384=_0x14ef23[_0x5a140d(0x9b2)]();}return _0x3d5763&&_0x4796c9&&_0x4e9dfc&&await _0x31083d[_0x5a140d(0x93b)]({'jobType':_0x217459['Skill'],'type':_0x30b8fc[_0x5a140d(0x65d)],'agentId':_0x4796c9,'threadId':_0x4e9dfc,'jobId':_0x3d5763,'blockId':_0x5a140d(0x380),'traceLevel':_0x5b73c0[_0x5a140d(0x2cb)],'startTime':_0x20b9a6,'timestamp':Date['now'](),'status':_0x5a140d(0x656),'code':_0x54d601[_0x5a140d(0x380)],'result':_0x3fa384}),_0x14ef23;}catch(_0x14375f){return console['error'](_0x14375f),_0x3d5763&&_0x4796c9&&_0x4e9dfc&&await _0x31083d[_0x5a140d(0x93b)]({'jobType':_0x217459[_0x5a140d(0x810)],'type':_0x30b8fc['ExecuteCode'],'jobId':_0x3d5763,'blockId':'code','traceLevel':_0x5b73c0['Info'],'startTime':_0x20b9a6,'timestamp':Date[_0x5a140d(0x64c)](),'status':'error','errorDetails':_0x42c8e3(_0x14375f),'agentId':_0x4796c9,'threadId':_0x4e9dfc,'code':_0x54d601?.[_0x5a140d(0x380)]??'','result':'Error\x20executing\x20code'}),_0x14375f instanceof Error?_0x14375f['message']:'Error\x20executing\x20code';}}async function _0x53b30e(_0x4bddde,_0x24b604,_0x293fe4,_0xbd85c2,_0x2a7fc4){const _0x179769=_0x3f1d19,_0x5e13f0=_0x179769(0x9fb)+_0x2a7fc4[_0x179769(0x70b)]+_0x179769(0x964),_0x5f4255={'queryOrPrompt':{'type':_0x1c7ce5[_0x179769(0x399)][_0x179769(0x519)]}};return await _0x31083d['trace']({'jobType':_0x217459[_0x179769(0x3bc)],'type':_0x152107[_0x179769(0x1a6)],'jobId':_0x4bddde,'agentId':_0x24b604,'threadId':_0x293fe4[_0x179769(0x36c)],'blockId':'data-collection','traceLevel':_0x5b73c0[_0x179769(0x2cb)],'startTime':Date['now'](),'timestamp':Date[_0x179769(0x64c)](),'status':_0x179769(0x656),'function':_0x1ea030[_0x179769(0x26a)],'params':_0x5f4255,'functionDescription':_0x5e13f0}),{'description':_0x5e13f0,'params':_0x5f4255,'callback':async _0xe0b62d=>_0x34f316(_0x293fe4[_0x179769(0x3db)],_0x2a7fc4,_0xe0b62d,_0xbd85c2,_0x4bddde,_0x24b604,_0x293fe4[_0x179769(0x36c)])};}async function _0x34f316(_0x58fa8f,_0x23983c,_0x4b458a,_0x40ffa9,_0x4d9fdc,_0x17841d,_0x148c24){const _0x4573c0=_0x3f1d19,_0x2f7880=Date[_0x4573c0(0x64c)]();try{if(_0x4573c0(0x618)!=typeof _0x4b458a?.[_0x4573c0(0x343)])throw new Error(_0x4573c0(0x707));const _0x3724aa=await fetch(_0x3af887[_0x4573c0(0x1c0)]+_0x4573c0(0x337)+_0x23983c[_0x4573c0(0xa0e)]+_0x4573c0(0x971),{'method':_0x4573c0(0x3e9),'headers':{'Content-Type':_0x4573c0(0x8a6),'x-vendor-id':_0x58fa8f},'body':JSON[_0x4573c0(0x300)]({'query':_0x4b458a[_0x4573c0(0x343)]})}),_0x571ab9=((await _0x3724aa[_0x4573c0(0x430)]())[_0x4573c0(0xa34)]??[])[_0x4573c0(0x865)](_0x162067=>({'pathName':_0x162067[_0x4573c0(0xae3)],'relevance':_0x162067[_0x4573c0(0x169)],'content':_0x162067['content']['text']}));return _0x40ffa9&&(_0x40ffa9[_0x4573c0(0x499)]=Array[_0x4573c0(0x663)](new Set([..._0x40ffa9[_0x4573c0(0x499)]??[],..._0x571ab9]))),_0x4d9fdc&&_0x17841d&&_0x148c24&&await _0x31083d[_0x4573c0(0x93b)]({'jobType':_0x217459['Knowledge'],'type':_0x1ea030[_0x4573c0(0x3c7)],'jobId':_0x4d9fdc,'blockId':_0x4573c0(0x207),'agentId':_0x17841d,'threadId':_0x148c24,'traceLevel':_0x5b73c0[_0x4573c0(0x2cb)],'startTime':_0x2f7880,'timestamp':Date['now'](),'status':_0x4573c0(0x656),'query':_0x4b458a[_0x4573c0(0x343)],'context':_0x571ab9??[],'inputTokens':0x0,'outputTokens':0x0}),_0x571ab9[_0x4573c0(0x9ed)]((_0x1dd081,_0x5bd64f)=>_0x1dd081+'\x0a'+_0x5bd64f[_0x4573c0(0x861)],'');}catch(_0x398412){return console[_0x4573c0(0x9e0)](_0x398412),_0x4d9fdc&&_0x17841d&&_0x148c24&&await _0x31083d[_0x4573c0(0x93b)]({'jobType':_0x217459[_0x4573c0(0x742)],'type':_0x1ea030['GetContextResult'],'jobId':_0x4d9fdc,'blockId':'data-collection','agentId':_0x17841d,'threadId':_0x148c24,'traceLevel':_0x5b73c0[_0x4573c0(0x2cb)],'startTime':_0x2f7880,'timestamp':Date[_0x4573c0(0x64c)](),'status':_0x4573c0(0x9e0),'errorDetails':_0x42c8e3(_0x398412),'query':_0x4b458a?.[_0x4573c0(0x343)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x398412 instanceof Error?_0x398412[_0x4573c0(0x759)]:'Error\x20retrieving\x20context';}}async function _0x2f2723(_0x3d1052,_0x1dc8c5,_0x3ac4aa,_0x3481cb,_0x3a65ac){const _0x18283a=_0x3f1d19,_0x27fc03={};for(const _0x186534 of _0x3a65ac[_0x18283a(0x7cd)]??[])switch(_0x186534[_0x18283a(0x8c9)]){case'string':case _0x18283a(0x430):_0x27fc03[_0x186534[_0x18283a(0xb0f)]]={'type':_0x1c7ce5[_0x18283a(0x399)][_0x18283a(0x519)]};break;case _0x18283a(0x2ff):_0x27fc03[_0x186534['name']]={'type':_0x1c7ce5[_0x18283a(0x399)][_0x18283a(0xa14)]};break;case _0x18283a(0xb08):_0x27fc03[_0x186534[_0x18283a(0xb0f)]]={'type':_0x1c7ce5[_0x18283a(0x399)][_0x18283a(0x223)]};}return await _0x31083d[_0x18283a(0x93b)]({'jobType':_0x217459['JobContext'],'type':_0x152107[_0x18283a(0x99d)],'jobId':_0x3d1052,'agentId':_0x1dc8c5,'threadId':_0x3ac4aa,'traceLevel':_0x5b73c0[_0x18283a(0x2cb)],'startTime':Date[_0x18283a(0x64c)](),'timestamp':Date[_0x18283a(0x64c)](),'status':_0x18283a(0x656),'function':_0x30b8fc[_0x18283a(0x406)],'params':_0x27fc03,'functionDescription':_0x3a65ac['description']??''}),{'description':_0x18283a(0xafc)+_0x3a65ac[_0x18283a(0x70b)],'params':_0x27fc03,'callback':async _0x14531b=>_0x4aab71(_0x3a65ac,_0x14531b,_0x3481cb,_0x3d1052,_0x1dc8c5,_0x3ac4aa)};}async function _0x4aab71(_0x53aca3,_0x4a586e,_0xde0b6d,_0x5d9a1b,_0x5b87e6,_0x2cbafd){const _0x545464=_0x3f1d19,_0x344a66=Date[_0x545464(0x64c)]();try{if(!_0x4a586e)throw new Error(_0x545464(0x818));for(const _0x480f5b of _0x53aca3[_0x545464(0x7cd)]??[]){if(void 0x0===_0x4a586e[_0x480f5b[_0x545464(0xb0f)]])throw new Error('Parameter\x20'+_0x480f5b[_0x545464(0xb0f)]+_0x545464(0xb43));if(_0x545464(0x618)===_0x480f5b[_0x545464(0x8c9)]&&_0x545464(0x618)!=typeof _0x4a586e[_0x480f5b[_0x545464(0xb0f)]])throw new Error(_0x545464(0x68b)+_0x480f5b[_0x545464(0xb0f)]+_0x545464(0x3a0));if(_0x545464(0x2ff)===_0x480f5b[_0x545464(0x8c9)]&&_0x545464(0x2ff)!=typeof _0x4a586e[_0x480f5b[_0x545464(0xb0f)]])throw new Error(_0x545464(0x68b)+_0x480f5b['name']+_0x545464(0x63f));if(_0x545464(0xb08)===_0x480f5b[_0x545464(0x8c9)]&&'boolean'!=typeof _0x4a586e[_0x480f5b[_0x545464(0xb0f)]])throw new Error(_0x545464(0x68b)+_0x480f5b[_0x545464(0xb0f)]+_0x545464(0x3a3));if('json'===_0x480f5b['type']&&_0x545464(0x618)!=typeof _0x4a586e[_0x480f5b[_0x545464(0xb0f)]])throw new Error(_0x545464(0x68b)+_0x480f5b['name']+_0x545464(0x3a0));if(_0x545464(0x430)===_0x480f5b[_0x545464(0x8c9)])try{_0x4a586e[_0x480f5b[_0x545464(0xb0f)]]=JSON[_0x545464(0x237)](_0x4a586e[_0x480f5b['name']]);}catch{throw new Error(_0x545464(0x68b)+_0x480f5b[_0x545464(0xb0f)]+'\x20must\x20be\x20a\x20valid\x20JSON\x20string');}}const _0x4aa73b={};for(const _0x547ac9 of _0x53aca3['headers']??[]){let _0x4af626=_0x547ac9['value'];_0x4af626[_0x545464(0x99b)](/\$[a-zA-Z0-9]+/)&&(_0x4af626=_0x4af626[_0x545464(0x6d7)](/\$[a-zA-Z0-9]+/g,_0x21bc20=>{const _0x5bf2eb=_0x545464,_0x28e961=_0x21bc20[_0x5bf2eb(0x74d)](0x1);return _0x4a586e[_0x28e961];})),_0x4aa73b[_0x547ac9[_0x545464(0xb0f)]]=_0x4af626;}const _0x5a50fa=new URLSearchParams();for(const _0x196eb4 of _0x53aca3[_0x545464(0x81a)]??[]){let _0x3030d1=_0x196eb4[_0x545464(0x225)];if(_0x545464(0x618)==typeof _0x3030d1&&_0x3030d1['startsWith']('$')){const _0x47e6b7=_0x3030d1[_0x545464(0x74d)](0x1);_0x3030d1=_0x4a586e[_0x47e6b7];}if(_0x545464(0x618)==typeof _0x3030d1&&_0x3030d1[_0x545464(0xaf7)](_0x545464(0x633))){const _0x28a178=_0x3030d1[_0x545464(0x6d7)](_0x545464(0x633),'');_0x3030d1=_0xde0b6d?.[_0x545464(0xb52)]?.[_0x28a178];}if(_0x545464(0x618)==typeof _0x3030d1&&(_0x3030d1['startsWith']('[')&&_0x3030d1['endsWith'](']')||_0x3030d1[_0x545464(0xaf7)]('{')&&_0x3030d1['endsWith']('}')))try{_0x3030d1=JSON['parse'](_0x3030d1);}catch(_0x29a0a1){console[_0x545464(0x9e0)](_0x29a0a1);}_0x5a50fa[_0x545464(0x765)](_0x196eb4[_0x545464(0xb0f)],_0x3030d1);}let _0x299f33,_0x404557=_0x53aca3[_0x545464(0x64f)]??'';_0x5a50fa['size']>0x0&&(_0x404557+='?'+_0x5a50fa[_0x545464(0x9b2)]());for(const _0x135d71 of _0x53aca3[_0x545464(0x7f8)]??[]){void 0x0===_0x299f33&&(_0x299f33={});let _0xeed6e=_0x135d71['value'];if(_0x545464(0x618)==typeof _0xeed6e&&_0xeed6e['startsWith']('$')){const _0x5d8608=_0xeed6e[_0x545464(0x74d)](0x1);_0xeed6e=_0x4a586e[_0x5d8608];}if(_0x545464(0x618)==typeof _0xeed6e&&_0xeed6e[_0x545464(0xaf7)](_0x545464(0x633))){const _0x2dfded=_0xeed6e[_0x545464(0x6d7)](_0x545464(0x633),'');_0xeed6e=_0xde0b6d?.['internalContext']?.[_0x2dfded];}if('string'==typeof _0xeed6e&&(_0xeed6e['startsWith']('[')&&_0xeed6e[_0x545464(0x5f0)](']')||_0xeed6e['startsWith']('{')&&_0xeed6e[_0x545464(0x5f0)]('}')))try{_0xeed6e=JSON[_0x545464(0x237)](_0xeed6e);}catch(_0x29d8d8){console[_0x545464(0x9e0)](_0x29d8d8);}if(_0x545464(0xa56)===_0x135d71[_0x545464(0xb0f)]){if(_0x545464(0x618)==typeof _0xeed6e){const _0x5d7a1e=_0xeed6e['match'](/```html(.*)```/s);_0x5d7a1e&&(_0xeed6e=_0x5d7a1e[0x1]),_0xeed6e=_0xeed6e[_0x545464(0x6d7)](/\n/g,''),_0xeed6e=_0xeed6e[_0x545464(0x6d7)](/'/g,'\x22');}_0x299f33=_0xeed6e;break;}if(-0x1===_0x135d71[_0x545464(0xb0f)]['indexOf']('.'))_0x299f33[_0x135d71['name']]=_0xeed6e;else{const [_0x3df20e,_0x3c94db]=_0x135d71[_0x545464(0xb0f)][_0x545464(0x44f)]('.');_0x299f33[_0x3df20e]||(_0x299f33[_0x3df20e]={}),_0x299f33[_0x3df20e][_0x3c94db]=_0xeed6e;}}console[_0x545464(0x279)](_0x545464(0x8a2)+_0x53aca3[_0x545464(0xb0f)]+_0x545464(0x3c5)+JSON['stringify'](_0x299f33));const _0x1820c1=await fetch(_0x404557,{'method':_0x53aca3[_0x545464(0xa79)],'headers':_0x4aa73b,'body':void 0x0===_0x299f33?void 0x0:'string'==typeof _0x299f33?_0x299f33:JSON[_0x545464(0x300)](_0x299f33)});if(_0x1820c1['ok']){let _0x5f71d=await _0x1820c1['json']();return _0x545464(0x618)!=typeof _0x5f71d&&(_0x5f71d=JSON[_0x545464(0x300)](_0x5f71d)),_0x5d9a1b&&_0x5b87e6&&_0x2cbafd&&await _0x31083d[_0x545464(0x93b)]({'jobType':_0x217459['Skill'],'type':_0x30b8fc['ExecuteCustomSkill'],'jobId':_0x5d9a1b,'agentId':_0x5b87e6,'threadId':_0x2cbafd,'blockId':'custom-skill','traceLevel':_0x5b73c0[_0x545464(0x2cb)],'startTime':_0x344a66,'timestamp':Date[_0x545464(0x64c)](),'status':_0x545464(0x656),'skillName':_0x53aca3[_0x545464(0xb0f)],'params':_0x4a586e,'result':_0x5f71d}),_0xde0b6d&&_0x53aca3[_0x545464(0xa40)]&&''!==_0x53aca3[_0x545464(0xa40)]&&(_0xde0b6d['internalContext']||(_0xde0b6d[_0x545464(0xb52)]={}),_0xde0b6d[_0x545464(0xb52)][_0x53aca3[_0x545464(0xa40)]]=_0x5f71d),_0x5f71d;}throw new Error(_0x1820c1[_0x545464(0xa3a)]);}catch(_0x1c614d){console[_0x545464(0x9e0)](_0x1c614d);const _0x4c92e5=_0x1c614d instanceof Error?_0x1c614d['message']:'Error\x20fetching\x20URL';return _0x5d9a1b&&_0x5b87e6&&_0x2cbafd&&await _0x31083d[_0x545464(0x93b)]({'jobType':_0x217459[_0x545464(0x810)],'type':_0x30b8fc[_0x545464(0x406)],'jobId':_0x5d9a1b,'blockId':_0x545464(0x963),'threadId':_0x2cbafd,'traceLevel':_0x5b73c0[_0x545464(0x2cb)],'startTime':_0x344a66,'timestamp':Date[_0x545464(0x64c)](),'agentId':_0x5b87e6,'status':_0x545464(0x9e0),'skillName':_0x53aca3['name'],'params':_0x4a586e??{},'result':_0x4c92e5}),_0x4c92e5;}}async function _0x2b351b(_0x4d503c,_0x2e7543,_0xb4c42d,_0x31707b=!0x0){const _0x4db565=_0x3f1d19,_0x4323a9=_0x4db565(0x804),_0x2fd613={'url':{'type':_0x1c7ce5[_0x4db565(0x399)][_0x4db565(0x519)]},'page':{'type':_0x1c7ce5['PromptFunctionParamsType'][_0x4db565(0xa14)]}};return await _0x31083d['trace']({'jobType':_0x217459[_0x4db565(0x3bc)],'type':_0x152107['LoadSkillFunction'],'jobId':_0x4d503c,'agentId':_0x2e7543,'threadId':_0xb4c42d,'traceLevel':_0x5b73c0[_0x4db565(0x2cb)],'startTime':Date[_0x4db565(0x64c)](),'timestamp':Date[_0x4db565(0x64c)](),'status':'success','function':_0x30b8fc[_0x4db565(0x6cd)],'params':_0x2fd613,'functionDescription':_0x4323a9}),{'description':_0x4323a9,'params':_0x2fd613,'callback':async _0x57bb54=>_0x56abe8(_0x57bb54,_0x31707b,_0x4d503c,_0x2e7543,_0xb4c42d)};}async function _0x56abe8(_0x15a4d8,_0x29b333=!0x0,_0x2f8150,_0x51ccda,_0x590002){const _0x7ce502=_0x3f1d19,_0x1178a2=Date['now']();try{if(_0x7ce502(0x618)!=typeof _0x15a4d8?.[_0x7ce502(0x1db)])throw new Error(_0x7ce502(0xb22));const _0x5bd525=_0x15a4d8['url'];if([_0x7ce502(0x135),_0x7ce502(0x900),_0x7ce502(0x3df),_0x7ce502(0x449),'.pptx',_0x7ce502(0x2c0),'.xlsx']['some'](_0x26b66b=>_0x5bd525[_0x7ce502(0x5f0)](_0x26b66b)))throw new Error(_0x7ce502(0x6d1));const _0x19f8cd=await fetch(_0x5bd525),_0x5ca61e=await _0x19f8cd[_0x7ce502(0x571)]();let _0x553fa6=_0x5ca61e;if(_0x29b333){const _0x5cfe36=_0x5ca61e[_0x7ce502(0x99b)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x47b207=_0x5cfe36?_0x5cfe36[0x1]:_0x5ca61e,_0x34219f=_0x47b207[_0x7ce502(0x6d7)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x7ce502(0x6d7)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x7ce502(0x6d7)](/<br\s*\/?>/gi,'\x20')[_0x7ce502(0x6d7)](/&nbsp;/g,'\x20');_0x553fa6=_0x34219f[_0x7ce502(0x6d7)](/<\/?[^>]+(>|$)/g,'')[_0x7ce502(0x6d7)](/\s\s+/g,'\x20')['trim']();}const _0x9f0c62=_0x7ce502(0x2ff)==typeof _0x15a4d8[_0x7ce502(0x57d)]?_0x15a4d8[_0x7ce502(0x57d)]:0x1,_0x363e50=Math[_0x7ce502(0x815)](_0x553fa6[_0x7ce502(0x744)]/_0x55036d);return _0x553fa6[_0x7ce502(0x744)]>_0x55036d&&(_0x553fa6=_0x553fa6[_0x7ce502(0x381)]((_0x9f0c62-0x1)*_0x55036d,(_0x9f0c62-0x1)*_0x55036d+_0x55036d)+'More\x20content\x20available\x20on\x20page\x20'+(_0x9f0c62+0x1)+'.Total\x20pages\x20available:\x20'+_0x363e50+'.'),_0x2f8150&&_0x51ccda&&_0x590002&&await _0x31083d[_0x7ce502(0x93b)]({'jobType':_0x217459[_0x7ce502(0x810)],'type':_0x30b8fc[_0x7ce502(0x6cd)],'jobId':_0x2f8150,'agentId':_0x51ccda,'threadId':_0x590002,'blockId':_0x7ce502(0x1fe),'traceLevel':_0x5b73c0['Info'],'startTime':_0x1178a2,'timestamp':Date['now'](),'status':_0x19f8cd['ok']?'success':_0x7ce502(0x9e0),'url':_0x15a4d8[_0x7ce502(0x1db)],'page':_0x9f0c62,'totalPages':_0x363e50,'response':_0x553fa6}),_0x553fa6;}catch(_0xa43da8){console[_0x7ce502(0x9e0)](_0xa43da8);const _0x30e1c5=_0xa43da8 instanceof Error?_0xa43da8[_0x7ce502(0x759)]:_0x7ce502(0x7c6);return _0x2f8150&&_0x51ccda&&_0x590002&&await _0x31083d[_0x7ce502(0x93b)]({'jobType':_0x217459[_0x7ce502(0x810)],'type':_0x30b8fc['FetchUrl'],'jobId':_0x2f8150,'blockId':_0x7ce502(0x1fe),'threadId':_0x590002,'traceLevel':_0x5b73c0[_0x7ce502(0x2cb)],'startTime':_0x1178a2,'timestamp':Date[_0x7ce502(0x64c)](),'agentId':_0x51ccda,'status':'error','errorDetails':_0x42c8e3(_0xa43da8),'url':_0x15a4d8?.['url']??'','page':0x0,'totalPages':0x0,'response':_0x30e1c5}),_0x30e1c5;}}async function _0x4d9114(_0x484c30,_0x1bd6f7,_0x42956f,_0x385c84,_0x25e8c8){const _0x42309c=_0x3f1d19,_0x49fb0e=Date[_0x42309c(0x64c)]();try{if(!_0x484c30[_0x42309c(0x222)])throw new Error('Search\x20connector\x20not\x20set');if('string'!=typeof _0x1bd6f7?.[_0x42309c(0x39c)])throw new Error(_0x42309c(0x707));const _0x520934=await _0x484c30[_0x42309c(0x222)][_0x42309c(0x32e)](_0x1bd6f7['query'],_0x3af887[_0x42309c(0x4fc)][_0x42309c(0x96f)]);let _0x5189f4='';for(const _0x4ab248 of _0x520934)_0x5189f4+=_0x4ab248[_0x42309c(0x55d)]+_0x42309c(0x87d)+_0x4ab248['url']+'\x0a'+_0x4ab248['snippet']+'\x0a\x0a';return _0x42956f&&_0x385c84&&_0x25e8c8&&await _0x31083d[_0x42309c(0x93b)]({'jobType':_0x217459[_0x42309c(0x810)],'type':_0x30b8fc[_0x42309c(0x1ee)],'jobId':_0x42956f,'agentId':_0x385c84,'threadId':_0x25e8c8,'blockId':_0x42309c(0x32e),'traceLevel':_0x5b73c0[_0x42309c(0x2cb)],'startTime':_0x49fb0e,'timestamp':Date[_0x42309c(0x64c)](),'status':_0x42309c(0x656),'query':_0x1bd6f7[_0x42309c(0x39c)],'results':_0x5189f4}),_0x5189f4;}catch(_0x41f67f){return console[_0x42309c(0x9e0)](_0x41f67f),_0x42956f&&_0x385c84&&_0x25e8c8&&await _0x31083d[_0x42309c(0x93b)]({'jobType':_0x217459[_0x42309c(0x810)],'type':_0x30b8fc[_0x42309c(0x1ee)],'jobId':_0x42956f,'blockId':_0x42309c(0x32e),'traceLevel':_0x5b73c0['Info'],'startTime':_0x49fb0e,'timestamp':Date['now'](),'status':'error','errorDetails':_0x42c8e3(_0x41f67f),'agentId':_0x385c84,'threadId':_0x25e8c8,'query':_0x1bd6f7?.[_0x42309c(0x39c)]??'','results':'Error\x20searching'}),_0x41f67f instanceof Error?_0x41f67f['message']:'Error\x20searching';}}async function _0x1b67cd(_0x8909a0,_0x50501a,_0x449226,_0x24a80a,_0x261630,_0x222015){const _0x2299dc=_0x3f1d19,_0x2db122=_0x2299dc(0x287)+_0x261630[_0x2299dc(0x70b)]+'\x20to\x20generate\x20a\x20response.',_0x3c975e={'prompt':{'type':_0x1c7ce5[_0x2299dc(0x399)][_0x2299dc(0x519)]}};return await _0x31083d[_0x2299dc(0x93b)]({'jobType':_0x217459[_0x2299dc(0x3bc)],'type':_0x152107['LoadSkillFunction'],'jobId':_0x8909a0,'agentId':_0x50501a,'threadId':_0x449226[_0x2299dc(0x36c)],'traceLevel':_0x5b73c0[_0x2299dc(0x2cb)],'startTime':Date[_0x2299dc(0x64c)](),'timestamp':Date[_0x2299dc(0x64c)](),'status':_0x2299dc(0x656),'function':_0x30b8fc[_0x2299dc(0x1d0)],'params':_0x3c975e,'functionDescription':_0x2db122}),{'description':_0x2db122,'params':_0x3c975e,'callback':async _0xfe11a6=>_0x99d537(_0x449226[_0x2299dc(0x3db)],_0x261630,_0xfe11a6,_0x24a80a,_0x8909a0,_0x50501a,_0x449226[_0x2299dc(0x36c)],_0x222015)};}async function _0x99d537(_0x2f7836,_0x468363,_0x499f4e,_0x5d1f66,_0x4e94f9,_0x5099f1,_0x4a90f4,_0x21d6f9){const _0x40bea7=_0x3f1d19,_0x40a407=Date['now']();try{if('string'!=typeof _0x499f4e?.[_0x40bea7(0x448)])throw new Error(_0x40bea7(0x5bf));let _0x1aff05='';const _0x5e4fb6=_0x468363[_0x40bea7(0x674)]?.[_0x40bea7(0x44f)](',')??[];let _0x3cff8a=_0x499f4e[_0x40bea7(0x448)];for(const _0x28c4d0 of _0x5e4fb6){const _0x2dde00=_0x5d1f66?.[_0x40bea7(0xb52)]?.[_0x28c4d0];_0x2dde00&&(_0x3cff8a='<'+_0x28c4d0+'>\x0a'+_0x2dde00+_0x40bea7(0x648)+_0x28c4d0+_0x40bea7(0x420)+_0x3cff8a);}let _0x420d4d=[{'role':_0x40bea7(0x612),'content':_0x3cff8a}];if(_0x21d6f9&&_0x468363[_0x40bea7(0x56b)]){const _0x549b5f=await fetch(_0x3af887['apiUrl']+_0x40bea7(0x4cf)+_0x468363[_0x40bea7(0x239)]+_0x40bea7(0x972),{'method':'POST','headers':{'Accept':_0x40bea7(0xb09),'Content-Type':_0x40bea7(0x8a6),'x-vendor-id':_0x2f7836},'body':JSON['stringify']({'model':_0x468363[_0x40bea7(0x949)],'messages':_0x420d4d,'max_completion_tokens':_0x468363['maxTokens'],'temperature':_0x468363[_0x40bea7(0x921)],'tools':_0x468363['tools'],'structured_output':_0x468363[_0x40bea7(0x751)],'metadata':{'threadId':_0x4a90f4,'jobId':_0x4e94f9,'agentId':_0x5099f1,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x549b5f['ok']||!_0x549b5f[_0x40bea7(0x8bf)])return console[_0x40bea7(0x9e0)](_0x40bea7(0xaf6)),_0x21d6f9['emit'](void 0x0),_0x40bea7(0x48a);const _0xcf6b31=_0x549b5f[_0x40bea7(0x8bf)][_0x40bea7(0x7d8)](),_0x547e7d=new TextDecoder();let _0x38f145=0x0,_0x376155=0x0,_0xa4e3fe='';for(;;){const {value:_0x1699c6,done:_0x45803e}=await _0xcf6b31['read']();if(_0x45803e)break;const _0x44c695=_0x547e7d[_0x40bea7(0x527)](_0x1699c6,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x44c695)break;const _0x1fc049=_0x504d8a(_0x44c695);for(const _0x499feb of _0x1fc049)_0x499feb[_0x40bea7(0x683)]&&_0x499feb[_0x40bea7(0x683)][0x0]&&(_0xa4e3fe+=_0x499feb[_0x40bea7(0x683)][0x0][_0x40bea7(0x3e7)]['content'],_0x38f145+=_0x499feb[_0x40bea7(0x16b)]?.[_0x40bea7(0x68f)]??0x0,_0x376155+=_0x499feb['usage']?.[_0x40bea7(0x591)]??0x0,_0x5d1f66&&(_0x5d1f66['internalContext']={..._0x5d1f66[_0x40bea7(0xb52)],..._0x499feb['context']}),_0x21d6f9[_0x40bea7(0x995)]({'output':_0x499feb[_0x40bea7(0x683)][0x0]['delta'][_0x40bea7(0x861)],'type':_0x40bea7(0x448)}),await _0x18a0c6[_0x40bea7(0x5e0)](0x1));}_0x5d1f66&&(_0x5d1f66[_0x40bea7(0xb64)]=(_0x5d1f66[_0x40bea7(0xb64)]??0x0)+_0x376155,_0x5d1f66[_0x40bea7(0x84e)]=(_0x5d1f66[_0x40bea7(0x84e)]??0x0)+_0x38f145,_0x468363[_0x40bea7(0xa40)]&&(_0x5d1f66[_0x40bea7(0xb52)]||(_0x5d1f66['internalContext']={}),_0x5d1f66[_0x40bea7(0xb52)][_0x468363[_0x40bea7(0xa40)]]=_0xa4e3fe)),_0x21d6f9[_0x40bea7(0x995)]({'output':'\x0a\x0a','type':_0x40bea7(0x448)}),await _0x18a0c6[_0x40bea7(0x5e0)](0x1),_0x1aff05=_0x40bea7(0x6aa);}else{const _0x8d2700=fetch(_0x3af887[_0x40bea7(0x1c0)]+_0x40bea7(0x4cf)+_0x468363['workflowId']+'/chat/completions',{'method':'POST','headers':{'Content-Type':'application/json','x-vendor-id':_0x2f7836},'body':JSON[_0x40bea7(0x300)]({'model':_0x468363['modelId'],'messages':_0x420d4d,'max_completion_tokens':_0x468363['maxTokens'],'temperature':_0x468363[_0x40bea7(0x921)],'tools':_0x468363['tools'],'structured_output':_0x468363[_0x40bea7(0x751)],'metadata':{'threadId':_0x4a90f4,'jobId':_0x4e94f9,'agentId':_0x5099f1,'context':{}}})});if(_0x468363[_0x40bea7(0x517)])return'I\x20have\x20finished\x20executing\x20my\x20task.';const _0xce5b82=await _0x8d2700,_0x4bad20=await _0xce5b82[_0x40bea7(0x430)]();_0x1aff05=_0x4bad20['choices'][0x0][_0x40bea7(0x759)]['content'],_0x5d1f66&&(_0x5d1f66[_0x40bea7(0xb52)]={..._0x5d1f66['internalContext'],..._0x4bad20[_0x40bea7(0x499)]},_0x5d1f66[_0x40bea7(0xb64)]=(_0x5d1f66[_0x40bea7(0xb64)]??0x0)+_0x4bad20[_0x40bea7(0x16b)][_0x40bea7(0x4ae)],_0x5d1f66[_0x40bea7(0x84e)]=(_0x5d1f66['inputTokens']??0x0)+_0x4bad20[_0x40bea7(0x16b)]['prompt_tokens'],_0x468363[_0x40bea7(0xa40)]&&(_0x5d1f66[_0x40bea7(0xb52)]||(_0x5d1f66[_0x40bea7(0xb52)]={}),_0x5d1f66[_0x40bea7(0xb52)][_0x468363['contextOutputVariable']]=_0x1aff05));}if('string'!=typeof _0x1aff05)throw new Error('Workflow\x20output\x20is\x20not\x20a\x20string');return _0x4e94f9&&_0x5099f1&&_0x4a90f4&&await _0x31083d['trace']({'jobType':_0x217459[_0x40bea7(0x810)],'type':_0x30b8fc[_0x40bea7(0x1d0)],'jobId':_0x4e94f9,'blockId':_0x40bea7(0x817),'agentId':_0x5099f1,'threadId':_0x4a90f4,'traceLevel':_0x5b73c0[_0x40bea7(0x2cb)],'startTime':_0x40a407,'timestamp':Date[_0x40bea7(0x64c)](),'status':_0x40bea7(0x656),'workflowName':_0x468363[_0x40bea7(0xb0f)],'prompt':_0x499f4e[_0x40bea7(0x448)],'result':_0x1aff05,'inputTokens':0x0,'outputTokens':0x0}),_0x1aff05;}catch(_0x288e64){if(console[_0x40bea7(0x9e0)](_0x288e64),_0x4e94f9&&_0x5099f1&&_0x4a90f4&&await _0x31083d[_0x40bea7(0x93b)]({'jobType':_0x217459[_0x40bea7(0x810)],'type':_0x30b8fc[_0x40bea7(0x1d0)],'jobId':_0x4e94f9,'blockId':_0x40bea7(0x817),'agentId':_0x5099f1,'threadId':_0x4a90f4,'traceLevel':_0x5b73c0[_0x40bea7(0x2cb)],'startTime':_0x40a407,'timestamp':Date[_0x40bea7(0x64c)](),'status':_0x40bea7(0x9e0),'errorDetails':_0x42c8e3(_0x288e64),'workflowName':_0x468363[_0x40bea7(0xb0f)],'prompt':_0x499f4e?.[_0x40bea7(0x448)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x288e64 instanceof Error)throw _0x288e64;throw new Error('Unknown\x20error\x20occurred\x20while\x20executing\x20workflow');}}async function _0x5ce1e6(_0x5f2c52,_0x11a0a4,_0x43864f,_0x34055a,_0x26412a){const _0x99a8d0=_0x3f1d19;return await _0x31083d[_0x99a8d0(0x93b)]({'jobType':_0x217459['JobContext'],'type':_0x152107['LoadSkillFunction'],'jobId':_0x5f2c52,'agentId':_0x11a0a4,'threadId':_0x43864f,'traceLevel':_0x5b73c0[_0x99a8d0(0x2cb)],'startTime':Date[_0x99a8d0(0x64c)](),'timestamp':Date[_0x99a8d0(0x64c)](),'status':'success','function':_0x30b8fc[_0x99a8d0(0x3ea)],'params':{},'functionDescription':_0x99a8d0(0x405)}),{'description':_0x99a8d0(0x405),'params':{},'callback':async()=>_0x545120(_0x26412a,_0x34055a,_0x5f2c52,_0x11a0a4,_0x43864f)};}async function _0x545120(_0x4cdd03,_0x2de0bc,_0xa7a708,_0x47f767,_0x4644b6){const _0x4d763d=_0x3f1d19,_0xcf048e=Date[_0x4d763d(0x64c)]();let _0x33aac6=_0x4cdd03[_0x4d763d(0xb0f)]['replace'](/[^a-zA-Z]/g,'');_0x33aac6[_0x4d763d(0xaf7)](_0x4d763d(0x49d))&&(_0x33aac6=_0x33aac6[_0x4d763d(0x6d7)](_0x4d763d(0x49d),''));const _0x4cdef0=_0x4d763d(0x193)+_0x33aac6;let _0x2a8443=0x0;_0x2de0bc&&(_0x2a8443=parseInt(_0x2de0bc[_0x4d763d(0xb52)]?.[_0x4cdef0]??'0'));const _0x404c23=_0x4cdd03['questions']||[];if(_0x2a8443>=_0x404c23['length'])return JSON[_0x4d763d(0x300)]({'error':_0x4d763d(0x797)});const _0x1b195a=_0x404c23[_0x2a8443];return _0xa7a708&&_0x47f767&&_0x4644b6&&await _0x31083d['trace']({'jobType':_0x217459['Skill'],'type':_0x30b8fc[_0x4d763d(0x3ea)],'jobId':_0xa7a708,'agentId':_0x47f767,'threadId':_0x4644b6,'blockId':_0x4d763d(0x9d8),'traceLevel':_0x5b73c0[_0x4d763d(0x2cb)],'startTime':_0xcf048e,'timestamp':Date[_0x4d763d(0x64c)](),'status':_0x4d763d(0x656),'question':_0x1b195a[_0x4d763d(0xa70)],'currentQuestionIndex':_0x2a8443,'questions':_0x404c23['map'](_0x3e2c73=>_0x3e2c73[_0x4d763d(0xa70)])}),JSON[_0x4d763d(0x300)]({'id':_0x1b195a['id'],'question':_0x1b195a[_0x4d763d(0xa70)],'validation':_0x1b195a[_0x4d763d(0x2fd)],'required':_0x1b195a['required'],'format':_0x1b195a['format'],'action':'If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer'});}async function _0x43859b(_0x240e2d,_0x58b108,_0x37567c,_0x3fc04f,_0x3c1a58){const _0x253846=_0x3f1d19;return await _0x31083d[_0x253846(0x93b)]({'jobType':_0x217459[_0x253846(0x3bc)],'type':_0x152107[_0x253846(0x99d)],'jobId':_0x240e2d,'agentId':_0x58b108,'threadId':_0x37567c,'traceLevel':_0x5b73c0[_0x253846(0x2cb)],'startTime':Date[_0x253846(0x64c)](),'timestamp':Date['now'](),'status':_0x253846(0x656),'function':_0x30b8fc[_0x253846(0x581)],'params':{},'functionDescription':'Set\x20the\x20answer\x20to\x20the\x20current\x20question.'}),{'description':_0x253846(0x261),'params':{'id':{'type':_0x1c7ce5[_0x253846(0x399)][_0x253846(0x519)]},'answer':{'type':_0x1c7ce5[_0x253846(0x399)]['String']}},'callback':async _0xbc87ff=>_0x833c0e(_0x3c1a58,_0xbc87ff,_0x3fc04f,_0x240e2d,_0x58b108,_0x37567c)};}async function _0x833c0e(_0x3b1cd0,_0x48a667,_0xcc8db9,_0x416aa0,_0x4a5552,_0x4efa1f){const _0x33641f=_0x3f1d19,_0x5d15f7=Date['now']();let _0x500b41=_0x3b1cd0[_0x33641f(0xb0f)][_0x33641f(0x6d7)](/[^a-zA-Z]/g,'');_0x500b41['startsWith']('setAnswer')&&(_0x500b41=_0x500b41[_0x33641f(0x6d7)](_0x33641f(0x1f6),''));const _0x38ca9a=_0x33641f(0x193)+_0x500b41,_0x7cadbe=_0x3b1cd0[_0x33641f(0xa9f)]||[];let _0x4d89e5=0x0;if(_0xcc8db9&&(_0x4d89e5=parseInt(_0xcc8db9[_0x33641f(0xb52)]?.[_0x38ca9a]??'0')),!_0x48a667?.['id']||_0x33641f(0x618)!=typeof _0x48a667['id'])return JSON[_0x33641f(0x300)]({'error':_0x33641f(0x42a)});const _0x49ec00=_0x7cadbe[_0x33641f(0x4d3)](_0x14146f=>_0x14146f['id']===_0x48a667['id']);if(!_0x49ec00)return JSON[_0x33641f(0x300)]({'error':_0x33641f(0x474)});if(!_0x48a667?.[_0x33641f(0x799)]||'string'!=typeof _0x48a667[_0x33641f(0x799)])return JSON['stringify']({'error':_0x33641f(0x202)});if(_0xcc8db9){_0xcc8db9[_0x33641f(0xb52)]||(_0xcc8db9[_0x33641f(0xb52)]={});const _0x4ecba1='answer-'+_0x500b41,_0x580d67=_0x4ecba1+'-'+_0x48a667['id'];_0xcc8db9[_0x33641f(0xb52)][_0x580d67]=_0x48a667[_0x33641f(0x799)];let _0xeaa301=!0x1;for(let _0x221aed=0x0;_0x221aed<_0x7cadbe[_0x33641f(0x744)];_0x221aed++){const _0x39a485=_0xcc8db9[_0x33641f(0xb52)]?.[_0x4ecba1+'-'+_0x7cadbe[_0x221aed]['id']];if(_0x221aed!==_0x4d89e5&&!_0x39a485){_0x4d89e5=_0x221aed,_0xeaa301=!0x0;break;}}_0xeaa301||_0x4d89e5++,_0xcc8db9[_0x33641f(0xb52)][_0x38ca9a]=_0x4d89e5[_0x33641f(0x9b2)]();}return _0x416aa0&&_0x4a5552&&_0x4efa1f&&await _0x31083d[_0x33641f(0x93b)]({'jobType':_0x217459['Skill'],'type':_0x30b8fc['FormSetAnswer'],'jobId':_0x416aa0,'agentId':_0x4a5552,'threadId':_0x4efa1f,'blockId':_0x33641f(0x97c),'traceLevel':_0x5b73c0['Info'],'startTime':_0x5d15f7,'timestamp':Date[_0x33641f(0x64c)](),'status':_0x33641f(0x656),'question':_0x49ec00[_0x33641f(0xa70)],'answer':_0x48a667[_0x33641f(0x799)],'currentQuestionIndex':_0x4d89e5,'questions':_0x7cadbe[_0x33641f(0x865)](_0x3bbf4b=>_0x3bbf4b[_0x33641f(0xa70)])}),JSON[_0x33641f(0x300)]({'success':_0x33641f(0x3f1)});}async function _0x37615e(_0x55b52a,_0x376bb2,_0x493e3d,_0x2d20e2,_0x12e0b2){const _0x523f4f=_0x3f1d19,_0xcbe1c5=_0x523f4f(0xb6e);return await _0x31083d['trace']({'jobType':_0x217459[_0x523f4f(0x3bc)],'type':_0x152107[_0x523f4f(0x99d)],'jobId':_0x55b52a,'agentId':_0x376bb2,'threadId':_0x493e3d,'traceLevel':_0x5b73c0[_0x523f4f(0x2cb)],'startTime':Date[_0x523f4f(0x64c)](),'timestamp':Date[_0x523f4f(0x64c)](),'status':_0x523f4f(0x656),'function':_0x30b8fc[_0x523f4f(0x7dc)],'params':{},'functionDescription':_0xcbe1c5}),{'description':_0xcbe1c5,'params':{},'callback':async()=>_0x36bb6f(_0x12e0b2,_0x2d20e2,_0x55b52a,_0x376bb2,_0x493e3d)};}async function _0x36bb6f(_0xcc3768,_0x573955,_0x13a590,_0xbe2be9,_0x54fa52){const _0x133dbc=_0x3f1d19;let _0x3f529a=_0xcc3768['name'][_0x133dbc(0x6d7)](/[^a-zA-Z]/g,'');_0x3f529a[_0x133dbc(0xaf7)](_0x133dbc(0x673))&&(_0x3f529a=_0x3f529a['replace'](_0x133dbc(0x673),''));const _0x24ee5a=_0xcc3768[_0x133dbc(0xa9f)]||[],_0xd4cc65={};if(!_0x573955)return JSON[_0x133dbc(0x300)]({'error':_0x133dbc(0x36d)});for(let _0x189a31=0x0;_0x189a31<_0x24ee5a['length'];_0x189a31++){const _0xe99db8=_0x573955[_0x133dbc(0xb52)]?.['answer-'+_0x3f529a+'-'+_0x24ee5a[_0x189a31]['id']];if(_0x24ee5a[_0x189a31][_0x133dbc(0xb20)]&&!_0xe99db8)return JSON[_0x133dbc(0x300)]({'error':_0x133dbc(0x36d)});_0xd4cc65[_0x24ee5a[_0x189a31]['id']]=_0xe99db8;}return _0x573955&&_0xcc3768[_0x133dbc(0xa40)]&&(_0x573955[_0x133dbc(0xb52)]||(_0x573955[_0x133dbc(0xb52)]={}),_0x573955[_0x133dbc(0xb52)][_0xcc3768['contextOutputVariable']]=JSON['stringify'](_0xd4cc65)),_0x13a590&&_0xbe2be9&&_0x54fa52&&await _0x31083d[_0x133dbc(0x93b)]({'jobType':_0x217459[_0x133dbc(0x810)],'type':_0x30b8fc[_0x133dbc(0x7dc)],'jobId':_0x13a590,'agentId':_0xbe2be9,'threadId':_0x54fa52,'blockId':'form-skill-submit-form','traceLevel':_0x5b73c0['Info'],'startTime':Date[_0x133dbc(0x64c)](),'timestamp':Date[_0x133dbc(0x64c)](),'status':_0x133dbc(0x656),'answers':_0xd4cc65}),JSON['stringify']({'success':!0x0});}async function _0x52313a(_0x4ed03b,_0x5eea04,_0x150214,_0x2a806f,_0x181563,_0x5944df,_0x588f86){const _0x35bbad=_0x3f1d19,_0xdd0ab5=new Map();for(const _0x7ab25c of _0x181563)_0x7ab25c[_0x35bbad(0x8c9)]===_0x1c7ce5[_0x35bbad(0xad1)][_0x35bbad(0x742)]||_0x7ab25c['type']===_0x1c7ce5[_0x35bbad(0xad1)][_0x35bbad(0x484)]?_0xdd0ab5[_0x35bbad(0xb36)](_0x35bbad(0xb06)+_0x7ab25c[_0x35bbad(0xb0f)][_0x35bbad(0x6d7)](/[^a-zA-Z]/g,''),await _0x53b30e(_0x4ed03b,_0x5eea04,_0x150214,_0x2a806f,_0x7ab25c)):_0x7ab25c[_0x35bbad(0x8c9)]===_0x1c7ce5[_0x35bbad(0xad1)]['AgentSkill']||_0x7ab25c[_0x35bbad(0x8c9)]===_0x1c7ce5[_0x35bbad(0xad1)]['Agent']?_0xdd0ab5[_0x35bbad(0xb36)](_0x35bbad(0x503)+_0x7ab25c[_0x35bbad(0xb0f)][_0x35bbad(0x6d7)](/[^a-zA-Z]/g,''),await _0x711fc1(_0x4ed03b,_0x5eea04,_0x150214,_0x2a806f,_0x7ab25c,_0x5944df,_0x588f86)):_0x7ab25c[_0x35bbad(0x8c9)]===_0x1c7ce5[_0x35bbad(0xad1)][_0x35bbad(0x843)]?_0xdd0ab5['set']('executeWorkflow'+_0x7ab25c[_0x35bbad(0xb0f)][_0x35bbad(0x6d7)](/[^a-zA-Z]/g,''),await _0x1b67cd(_0x4ed03b,_0x5eea04,_0x150214,_0x2a806f,_0x7ab25c,_0x588f86)):_0x7ab25c[_0x35bbad(0x8c9)]===_0x1c7ce5[_0x35bbad(0xad1)][_0x35bbad(0xb50)]?_0xdd0ab5['set'](_0x7ab25c['name'][_0x35bbad(0x6d7)](/[^a-zA-Z]/g,''),await _0x2f2723(_0x4ed03b,_0x5eea04,_0x150214[_0x35bbad(0x36c)],_0x2a806f,_0x7ab25c)):_0x7ab25c[_0x35bbad(0x8c9)]===_0x1c7ce5['GenerativeAIInferenceToolType'][_0x35bbad(0x93e)]?_0xdd0ab5[_0x35bbad(0xb36)](_0x35bbad(0x49d)+_0x7ab25c[_0x35bbad(0xb0f)]['replace'](/[^a-zA-Z]/g,''),await _0x5ce1e6(_0x4ed03b,_0x5eea04,_0x150214[_0x35bbad(0x36c)],_0x2a806f,_0x7ab25c)):_0x7ab25c['type']===_0x1c7ce5['GenerativeAIInferenceToolType']['FormSkillSetAnswer']?_0xdd0ab5[_0x35bbad(0xb36)](_0x35bbad(0x1f6)+_0x7ab25c[_0x35bbad(0xb0f)][_0x35bbad(0x6d7)](/[^a-zA-Z]/g,''),await _0x43859b(_0x4ed03b,_0x5eea04,_0x150214[_0x35bbad(0x36c)],_0x2a806f,_0x7ab25c)):_0x7ab25c[_0x35bbad(0x8c9)]===_0x1c7ce5[_0x35bbad(0xad1)]['FormSkillSubmitForm']?_0xdd0ab5[_0x35bbad(0xb36)](_0x35bbad(0x673)+_0x7ab25c[_0x35bbad(0xb0f)]['replace'](/[^a-zA-Z]/g,''),await _0x37615e(_0x4ed03b,_0x5eea04,_0x150214[_0x35bbad(0x36c)],_0x2a806f,_0x7ab25c)):_0xdd0ab5[_0x35bbad(0xb36)](_0x430a4f(_0x7ab25c),await _0x290217(_0x4ed03b,_0x5eea04,_0x150214,_0x2a806f,_0x7ab25c,_0x5944df));return _0xdd0ab5;}function _0x430a4f(_0xe11782){const _0x12a815=_0x3f1d19;switch(_0xe11782[_0x12a815(0x8c9)]){case _0x1c7ce5[_0x12a815(0xad1)]['AISearch']:return _0x12a815(0x6e7);case _0x1c7ce5['GenerativeAIInferenceToolType'][_0x12a815(0x18e)]:return'executeJavascriptCodeSnippet';case _0x1c7ce5[_0x12a815(0xad1)]['QueryFile']:return _0x12a815(0x161);case _0x1c7ce5[_0x12a815(0xad1)][_0x12a815(0x270)]:return _0x12a815(0x7d6);case _0x1c7ce5[_0x12a815(0xad1)][_0x12a815(0x80d)]:case _0x1c7ce5[_0x12a815(0xad1)]['WebScraperRaw']:return _0x12a815(0x358);case _0x1c7ce5[_0x12a815(0xad1)]['WriteFile']:return _0x12a815(0x39f);}throw new Error(_0x12a815(0x219));}async function _0x290217(_0x2381f7,_0x2193f5,_0x19ae27,_0x206071,_0x4780a1,_0x227dad){const _0x1e2c30=_0x3f1d19;switch(_0x4780a1[_0x1e2c30(0x8c9)]){case _0x1c7ce5[_0x1e2c30(0xad1)][_0x1e2c30(0x50e)]:return async function(_0x4c90a0,_0x2de5c0,_0x12a3ef,_0x38b671,_0x1881ba){const _0xf939d5=_0x1e2c30,_0x2049c5=_0xf939d5(0x6fb),_0x337286={'query':{'type':_0x1c7ce5['PromptFunctionParamsType'][_0xf939d5(0x519)]}};await _0x31083d[_0xf939d5(0x93b)]({'jobType':_0x217459[_0xf939d5(0x3bc)],'type':_0x152107[_0xf939d5(0x99d)],'jobId':_0x4c90a0,'agentId':_0x2de5c0,'threadId':_0x12a3ef[_0xf939d5(0x36c)],'traceLevel':_0x5b73c0['Info'],'startTime':Date[_0xf939d5(0x64c)](),'timestamp':Date['now'](),'status':_0xf939d5(0x656),'function':_0x30b8fc['SearchPerplexity'],'params':_0x337286,'functionDescription':_0x2049c5});const _0x4dbe56=_0x12a3ef[_0xf939d5(0x3db)];try{await(0x0,_0x2ac1a7['httpsCallable'])(_0x25e54d[_0xf939d5(0xb0a)](),_0xf939d5(0x1bf))({'vendorId':_0x4dbe56});}catch(_0x19210b){throw console[_0xf939d5(0x9e0)](_0x19210b),new Error('Insufficient\x20credits');}const _0xce58d8=(await(0x0,_0x46e89c['getDoc'])((0x0,_0x46e89c[_0xf939d5(0xb4b)])(_0x25e54d[_0xf939d5(0x914)](),_0xf939d5(0x386),_0x4dbe56)))[_0xf939d5(0xa34)]();return _0xce58d8&&_0xce58d8[_0xf939d5(0x8a8)]||(console[_0xf939d5(0x279)](new Date()+_0xf939d5(0xad6),_0x38b671['modelId'],_0x473a11['get'](_0x38b671[_0xf939d5(0x949)])['fallbackModel']),_0x38b671[_0xf939d5(0x949)]=_0x473a11['get'](_0x38b671[_0xf939d5(0x949)])['fallbackModel']),{'description':_0x2049c5,'params':_0x337286,'callback':async _0x591d8b=>_0x3a3251(_0x38b671,_0x1881ba,_0x591d8b,_0x4c90a0,_0x2de5c0,_0x12a3ef['threadId'])};}(_0x2381f7,_0x2193f5,_0x19ae27,_0x4780a1,_0x227dad);case _0x1c7ce5[_0x1e2c30(0xad1)]['Code']:return async function(_0x2cd9b1,_0x533ad5,_0x464513){const _0x133e7a=_0x1e2c30,_0x5b8364=_0x133e7a(0x685),_0x241fd7={'code':{'type':_0x1c7ce5['PromptFunctionParamsType'][_0x133e7a(0x519)]}};return await _0x31083d[_0x133e7a(0x93b)]({'jobType':_0x217459['JobContext'],'type':_0x152107[_0x133e7a(0x99d)],'jobId':_0x2cd9b1,'agentId':_0x533ad5,'threadId':_0x464513,'traceLevel':_0x5b73c0[_0x133e7a(0x2cb)],'startTime':Date[_0x133e7a(0x64c)](),'timestamp':Date['now'](),'status':_0x133e7a(0x656),'function':_0x30b8fc[_0x133e7a(0x65d)],'params':_0x241fd7,'functionDescription':_0x5b8364}),{'description':_0x5b8364,'params':_0x241fd7,'callback':async _0x17afcd=>_0x151b7f(_0x17afcd,_0x2cd9b1,_0x533ad5,_0x464513)};}(_0x2381f7,_0x2193f5,_0x19ae27[_0x1e2c30(0x36c)]);case _0x1c7ce5[_0x1e2c30(0xad1)][_0x1e2c30(0x805)]:return async function(_0x57e331,_0x20947a,_0x4c7010,_0x32be57,_0xb3efcd){const _0x5a0df5=_0x1e2c30,_0x1ad124=[',',';','\x09','|',':'],_0x2b81f5=['\x22','\x27'];let _0x392393='';if(_0x5a0df5(0x687)===_0x32be57[_0x5a0df5(0xb52)]?.[_0x5a0df5(0x647)]&&_0x32be57[_0x5a0df5(0xb52)]?.['file.content']&&(_0x392393=_0x32be57[_0x5a0df5(0xb52)]['file.content']),''===_0x392393)throw new Error('No\x20file\x20content\x20found');const _0x1903e9=_0x392393['split']('\x0a')[0x0];let _0x236121=null,_0x588f6e=null,_0x463cda=0x0;for(const _0x5bdff5 of _0x1ad124){const _0x278018=(_0x1903e9['match'](new RegExp('\x5c'+_0x5bdff5,'g'))||[])['length'];_0x278018>_0x463cda&&(_0x463cda=_0x278018,_0x236121=_0x5bdff5);}_0x236121||(_0x236121=','),_0x463cda=0x0;for(const _0x1ab988 of _0x2b81f5){const _0x1994bb=(_0x1903e9[_0x5a0df5(0x99b)](new RegExp('\x5c'+_0x1ab988,'g'))||[])[_0x5a0df5(0x744)];_0x1994bb>_0x463cda&&(_0x463cda=_0x1994bb,_0x588f6e=_0x1ab988);}_0x588f6e||(_0x588f6e='\x22');const _0x4fcca2=_0x5a0df5(0x5e5)+_0x1903e9[_0x5a0df5(0x44f)](_0x236121)[_0x5a0df5(0x4b3)](',\x20'),_0x5b842e={'query':{'type':_0x1c7ce5[_0x5a0df5(0x399)][_0x5a0df5(0x519)]}};return await _0x31083d[_0x5a0df5(0x93b)]({'jobType':_0x217459[_0x5a0df5(0x3bc)],'type':_0x152107[_0x5a0df5(0x99d)],'jobId':_0x57e331,'agentId':_0x20947a,'threadId':_0x4c7010,'traceLevel':_0x5b73c0[_0x5a0df5(0x2cb)],'startTime':Date[_0x5a0df5(0x64c)](),'timestamp':Date[_0x5a0df5(0x64c)](),'status':_0x5a0df5(0x656),'function':_0x30b8fc[_0x5a0df5(0x805)],'params':_0x5b842e,'functionDescription':_0x4fcca2}),{'description':_0x4fcca2,'params':_0x5b842e,'callback':async _0x16f2c1=>{const _0x15660c=_0x5a0df5,_0x420bba=Date[_0x15660c(0x64c)]();try{if(!_0xb3efcd[_0x15660c(0x83f)])throw new Error('Query\x20file\x20connector\x20not\x20set');if(_0x15660c(0x618)!=typeof _0x16f2c1?.['query'])throw new Error(_0x15660c(0x707));if(!_0x16f2c1[_0x15660c(0x39c)]['includes'](_0x15660c(0xa77)))throw new Error(_0x15660c(0xa41));const _0x447248=await _0xb3efcd[_0x15660c(0x83f)][_0x15660c(0x454)](_0x392393,_0x16f2c1[_0x15660c(0x39c)],{'headers':!0x0,'quote':_0x588f6e,'separator':_0x236121});await _0x31083d[_0x15660c(0x93b)]({'jobType':_0x217459[_0x15660c(0x810)],'type':_0x30b8fc[_0x15660c(0x805)],'jobId':_0x57e331,'agentId':_0x20947a,'threadId':_0x4c7010,'blockId':_0x15660c(0x975),'traceLevel':_0x5b73c0[_0x15660c(0x2cb)],'startTime':_0x420bba,'timestamp':Date['now'](),'status':'success','query':_0x16f2c1[_0x15660c(0x39c)],'results':_0x447248['substring'](0x0,0x3e8)});const _0x2361d7=JSON['parse'](_0x447248);let _0x2a4a7a='';if(_0x2361d7[_0x15660c(0x744)]>0x0){const _0x383844=Object[_0x15660c(0xa30)](_0x2361d7[0x0]);_0x2a4a7a=_0x383844['map'](_0x3a0039=>'\x22'+_0x3a0039+'\x22')[_0x15660c(0x4b3)](',')+'\x0a';for(const _0xfe8c4e of _0x2361d7)_0x2a4a7a+=_0x383844['map'](_0x170069=>'\x22'+_0xfe8c4e[_0x170069]+'\x22')[_0x15660c(0x4b3)](',')+'\x0a';}return _0x32be57['internalContext']||(_0x32be57['internalContext']={}),_0x32be57[_0x15660c(0xb52)]['file.content']=_0x2a4a7a,_0x32be57[_0x15660c(0xb52)][_0x15660c(0x647)]='text/csv',_0x447248[_0x15660c(0x381)](0x0,0x3e8);}catch(_0x112a9d){return console['error'](_0x112a9d),await _0x31083d[_0x15660c(0x93b)]({'jobType':_0x217459[_0x15660c(0x810)],'type':_0x30b8fc[_0x15660c(0x805)],'jobId':_0x57e331,'blockId':'query-file','traceLevel':_0x5b73c0[_0x15660c(0x2cb)],'startTime':_0x420bba,'timestamp':Date[_0x15660c(0x64c)](),'status':_0x15660c(0x9e0),'errorDetails':_0x42c8e3(_0x112a9d),'agentId':_0x20947a,'threadId':_0x4c7010,'query':_0x16f2c1?.[_0x15660c(0x39c)]??'','results':_0x15660c(0x42b)}),_0x112a9d instanceof Error?_0x112a9d['message']:_0x15660c(0x827);}}};}(_0x2381f7,_0x2193f5,_0x19ae27[_0x1e2c30(0x36c)],_0x206071,_0x227dad);case _0x1c7ce5['GenerativeAIInferenceToolType'][_0x1e2c30(0x270)]:return async function(_0x46d1d8,_0xc4e21e,_0x139bb5,_0x5c726a){const _0x492dd3=_0x1e2c30,_0x4112d6=_0x492dd3(0xb25),_0x41c74f={'query':{'type':_0x1c7ce5['PromptFunctionParamsType'][_0x492dd3(0x519)]}};return await _0x31083d[_0x492dd3(0x93b)]({'jobType':_0x217459['JobContext'],'type':_0x152107['LoadSkillFunction'],'jobId':_0x46d1d8,'agentId':_0xc4e21e,'threadId':_0x139bb5,'traceLevel':_0x5b73c0[_0x492dd3(0x2cb)],'startTime':Date[_0x492dd3(0x64c)](),'timestamp':Date[_0x492dd3(0x64c)](),'status':_0x492dd3(0x656),'function':_0x30b8fc[_0x492dd3(0x1ee)],'params':_0x41c74f,'functionDescription':_0x4112d6}),{'description':_0x4112d6,'params':_0x41c74f,'callback':async _0x349eb1=>_0x4d9114(_0x5c726a,_0x349eb1,_0x46d1d8,_0xc4e21e,_0x139bb5)};}(_0x2381f7,_0x2193f5,_0x19ae27[_0x1e2c30(0x36c)],_0x227dad);case _0x1c7ce5['GenerativeAIInferenceToolType'][_0x1e2c30(0x80d)]:return _0x2b351b(_0x2381f7,_0x2193f5,_0x19ae27[_0x1e2c30(0x36c)]);case _0x1c7ce5[_0x1e2c30(0xad1)][_0x1e2c30(0xa28)]:return _0x2b351b(_0x2381f7,_0x2193f5,_0x19ae27['threadId'],!0x1);case _0x1c7ce5[_0x1e2c30(0xad1)][_0x1e2c30(0x1c7)]:return async function(_0x447342,_0x3018ab,_0x584259,_0x3e5e06){const _0x47cd76=_0x1e2c30,_0xcd4791=_0x47cd76(0x33c),_0x23d5e7={'text':{'type':_0x1c7ce5['PromptFunctionParamsType'][_0x47cd76(0x519)]}};return await _0x31083d[_0x47cd76(0x93b)]({'jobType':_0x217459[_0x47cd76(0x3bc)],'type':_0x152107[_0x47cd76(0x99d)],'jobId':_0x447342,'agentId':_0x3018ab,'threadId':_0x584259,'traceLevel':_0x5b73c0['Info'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x47cd76(0x656),'function':_0x30b8fc[_0x47cd76(0x1c7)],'params':_0x23d5e7,'functionDescription':_0xcd4791}),{'description':_0xcd4791,'params':_0x23d5e7,'callback':async _0x5de9e1=>{const _0x479b30=_0x47cd76,_0x5050aa=Date['now']();try{if(_0x479b30(0x618)!=typeof _0x5de9e1?.[_0x479b30(0x571)])throw new Error(_0x479b30(0xa90));return await _0x31083d[_0x479b30(0x93b)]({'jobType':_0x217459[_0x479b30(0x810)],'type':_0x30b8fc[_0x479b30(0x1c7)],'jobId':_0x447342,'agentId':_0x3018ab,'threadId':_0x584259,'blockId':'write-file','traceLevel':_0x5b73c0[_0x479b30(0x2cb)],'startTime':_0x5050aa,'timestamp':Date[_0x479b30(0x64c)](),'status':'success','content':_0x5de9e1[_0x479b30(0x571)]}),_0x3e5e06[_0x479b30(0xb52)]||(_0x3e5e06[_0x479b30(0xb52)]={}),_0x3e5e06[_0x479b30(0xb52)][_0x479b30(0x2bf)]=_0x5de9e1[_0x479b30(0x571)],_0x3e5e06['internalContext'][_0x479b30(0x647)]=_0x479b30(0xa44),'Done';}catch(_0x25113e){return console[_0x479b30(0x9e0)](_0x25113e),await _0x31083d[_0x479b30(0x93b)]({'jobType':_0x217459['Skill'],'type':_0x30b8fc[_0x479b30(0x1c7)],'jobId':_0x447342,'blockId':_0x479b30(0x619),'traceLevel':_0x5b73c0[_0x479b30(0x2cb)],'startTime':_0x5050aa,'timestamp':Date[_0x479b30(0x64c)](),'status':_0x479b30(0x9e0),'errorDetails':_0x42c8e3(_0x25113e),'agentId':_0x3018ab,'threadId':_0x584259,'content':_0x479b30(0x618)==typeof _0x5de9e1?.['text']?_0x5de9e1[_0x479b30(0x571)]:''}),_0x25113e instanceof Error?_0x25113e[_0x479b30(0x759)]:_0x479b30(0xb44);}}};}(_0x2381f7,_0x2193f5,_0x19ae27[_0x1e2c30(0x36c)],_0x206071);}throw new Error(_0x1e2c30(0x219));}function _0x42c8e3(_0x1b65fa){const _0x7e9ac6=_0x3f1d19;try{return JSON[_0x7e9ac6(0x300)](_0x1b65fa);}catch(_0x3c1d93){return _0x1b65fa instanceof Error?_0x1b65fa[_0x7e9ac6(0x9b2)]():_0x7e9ac6(0x88e);}}async function _0x1baa38(_0x2407fc,_0x1d61a5,_0xfefe51){const _0x393dfd=_0x3f1d19,_0x537802=_0x1d61a5['agentId']??(0x0,_0x54796e['v4'])(),_0x1051ec={'type':'prompt','context':[],'internalContext':_0x1d61a5['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0x3344a5=_0x1d61a5[_0x393dfd(0x3db)];try{await(0x0,_0x2ac1a7[_0x393dfd(0x23d)])(_0x25e54d[_0x393dfd(0xb0a)](),_0x393dfd(0x1bf))({'vendorId':_0x3344a5});}catch(_0x527027){throw console['error'](_0x527027),new Error(_0x393dfd(0x6da));}const _0x4c6584=(await(0x0,_0x46e89c[_0x393dfd(0x59e)])((0x0,_0x46e89c[_0x393dfd(0xb4b)])(_0x25e54d[_0x393dfd(0x914)](),_0x393dfd(0x386),_0x3344a5)))['data']();_0x4c6584&&_0x4c6584['organizationId']||(console[_0x393dfd(0x279)](new Date()+'\x20Fallback\x20model',_0x1d61a5[_0x393dfd(0x70e)],_0x473a11['get'](_0x1d61a5[_0x393dfd(0x70e)])['fallbackModel']),_0x1d61a5[_0x393dfd(0x70e)]=_0x473a11['get'](_0x1d61a5[_0x393dfd(0x70e)])['fallbackModel']);const _0x3f1658=await async function(_0xefea8f,_0x53b18f,_0x14d431,_0x1f9ee2,_0x5be152){const _0x7e2d98=_0x393dfd,_0x351289=_0x5be152[_0x7e2d98(0xb1c)]['find'](_0x4dbde2=>_0x4dbde2['id']===_0x14d431[_0x7e2d98(0x70e)]);if(!_0x351289)throw new Error(_0x7e2d98(0x547));const _0xd013f0=_0x5be152[_0x7e2d98(0x9f5)][_0x7e2d98(0x4d3)](_0x16fd21=>_0x16fd21[_0x7e2d98(0x60e)]()===_0x351289[_0x7e2d98(0xab9)]);if(!_0xd013f0)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x44ca39=await _0x52313a(_0xefea8f,_0x53b18f,_0x14d431,_0x1f9ee2,_0x14d431[_0x7e2d98(0x378)]??[],_0x5be152);return _0xd013f0['processJob']({'type':_0x7e2d98(0x448),'prompt':_0x14d431[_0x7e2d98(0x448)],'instructions':_0x14d431[_0x7e2d98(0x789)],'reasoning':_0x14d431[_0x7e2d98(0x630)],'grammar':_0x14d431['grammar'],'temperature':_0x14d431[_0x7e2d98(0x921)],'maxTokens':_0x14d431['maxTokens'],'history':_0x14d431[_0x7e2d98(0x745)],'functions':_0x44ca39,'threadId':_0x14d431[_0x7e2d98(0x36c)]},{'model':_0x351289,'sequences':Array['from'](_0x44ca39['keys']())[_0x7e2d98(0x658)](_0x132d25=>_0x132d25[_0x7e2d98(0xaf7)](_0x7e2d98(0x503)))?0x2:0x1});}(_0x2407fc,_0x537802,_0x1d61a5,_0x1051ec,_0xfefe51);return _0x31083d['logUsage'](_0x2407fc,_0x1d61a5[_0x393dfd(0x70e)],_0x3f1658[_0x393dfd(0x84e)]??0x0,_0x3f1658[_0x393dfd(0xb64)]??0x0),console[_0x393dfd(0x279)](new Date()+_0x393dfd(0x678),_0x1d61a5[_0x393dfd(0x70e)],_0x3f1658[_0x393dfd(0x84e)]??0x0,_0x3f1658['outputTokens']??0x0),{'type':_0x393dfd(0x448),'output':_0x3f1658['output'],'context':_0x1051ec[_0x393dfd(0x499)],'internalContext':_0x1051ec['internalContext']??{},'inputTokens':_0x3f1658[_0x393dfd(0x84e)]??0x0,'outputTokens':_0x3f1658[_0x393dfd(0xb64)]??0x0};}async function _0x4f4194(_0x250df3,_0x367a7d){const _0x354485=_0x3f1d19,_0x2f2b83=await async function(_0x4c5ff4,_0x24a793){const _0xd2ce7d=a0_0x1394,_0x3716f0=_0x24a793['models'][_0xd2ce7d(0x4d3)](_0x507b7e=>_0x507b7e['id']===_0x4c5ff4[_0xd2ce7d(0x70e)]);if(!_0x3716f0)throw new Error(_0xd2ce7d(0x547));const _0x5e7462=_0x24a793[_0xd2ce7d(0x9f5)]['find'](_0x1b9121=>_0x1b9121['getEngineType']()===_0x3716f0[_0xd2ce7d(0xab9)]);if(!_0x5e7462)throw new Error(_0xd2ce7d(0x3b8));return _0x5e7462[_0xd2ce7d(0xaae)]({'type':'prompt','prompt':_0x4c5ff4[_0xd2ce7d(0x571)],'threadId':_0x4c5ff4[_0xd2ce7d(0x36c)]},{'model':_0x3716f0,'sequences':0x1});}(_0x250df3,_0x367a7d);return{'type':_0x354485(0x448),'output':_0x2f2b83[_0x354485(0x68e)],'inputTokens':_0x2f2b83[_0x354485(0x84e)]??0x0,'outputTokens':_0x2f2b83['outputTokens']??0x0};}async function _0x269c3e(_0xc42974,_0xb030c){const _0x104727=_0x3f1d19;let _0x15b849='',_0x45b71d={'type':_0x104727(0x448),'internalContext':_0xc42974['internalContext']??{}};switch(_0xc42974[_0x104727(0xa4b)][_0x104727(0x8c9)]){case _0x1c7ce5['GenerativeAIInferenceToolType'][_0x104727(0x2de)]:case _0x1c7ce5[_0x104727(0xad1)]['AgentSkill']:_0x15b849=await _0x15dab3(_0xc42974[_0x104727(0x3db)],_0xc42974[_0x104727(0xa4b)],_0xb030c,_0xc42974[_0x104727(0xb38)],_0x45b71d);break;case _0x1c7ce5['GenerativeAIInferenceToolType'][_0x104727(0x50e)]:_0x15b849=await _0x3a3251(_0xc42974['tool'],_0xb030c,_0xc42974[_0x104727(0xb38)]);break;case _0x1c7ce5[_0x104727(0xad1)][_0x104727(0x18e)]:_0x15b849=await _0x151b7f(_0xc42974['arguments']);break;case _0x1c7ce5[_0x104727(0xad1)]['DataCollection']:case _0x1c7ce5[_0x104727(0xad1)][_0x104727(0x742)]:_0x15b849=await _0x34f316(_0xc42974['vendorId'],_0xc42974['tool'],_0xc42974[_0x104727(0xb38)],_0x45b71d);break;case _0x1c7ce5[_0x104727(0xad1)]['CustomSkill']:_0x15b849=await _0x4aab71(_0xc42974['tool'],_0xc42974[_0x104727(0xb38)],_0x45b71d);break;case _0x1c7ce5[_0x104727(0xad1)][_0x104727(0x80d)]:_0x15b849=await _0x56abe8(_0xc42974[_0x104727(0xb38)]);break;case _0x1c7ce5['GenerativeAIInferenceToolType'][_0x104727(0xa28)]:_0x15b849=await _0x56abe8(_0xc42974[_0x104727(0xb38)],!0x1);break;case _0x1c7ce5['GenerativeAIInferenceToolType'][_0x104727(0x270)]:_0x15b849=await _0x4d9114(_0xb030c,_0xc42974[_0x104727(0xb38)]);break;case _0x1c7ce5['GenerativeAIInferenceToolType'][_0x104727(0x93e)]:_0x15b849=await _0x545120(_0xc42974[_0x104727(0xa4b)],_0x45b71d);break;case _0x1c7ce5[_0x104727(0xad1)][_0x104727(0xa39)]:_0x15b849=await _0x833c0e(_0xc42974['tool'],_0xc42974[_0x104727(0xb38)],_0x45b71d);break;case _0x1c7ce5[_0x104727(0xad1)]['FormSkillSubmitForm']:_0x15b849=await _0x36bb6f(_0xc42974['tool'],_0x45b71d);break;case _0x1c7ce5[_0x104727(0xad1)][_0x104727(0x843)]:_0xc42974[_0x104727(0xa4b)][_0x104727(0x517)]?_0x15b849=await _0x99d537(_0xc42974[_0x104727(0x3db)],_0xc42974[_0x104727(0xa4b)],_0xc42974[_0x104727(0xb38)],_0x45b71d):(_0x99d537(_0xc42974['vendorId'],_0xc42974[_0x104727(0xa4b)],_0xc42974['arguments'],_0x45b71d),_0x15b849=_0x104727(0x6aa));}return{'type':'tool-call','output':_0x15b849,'internalContext':_0x45b71d['internalContext']??{}};}async function*_0x19ebf3(_0x29a14f,_0x51b1eb,_0x16a018){const _0x335f3a=_0x3f1d19,_0x39ab8d=_0x51b1eb[_0x335f3a(0x328)]??(0x0,_0x54796e['v4'])(),_0x35b648={'type':_0x335f3a(0x448),'context':[],'internalContext':_0x51b1eb[_0x335f3a(0xb52)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x3caf01=new _0xfb0ee2(),_0x42cee3=_0x51b1eb['vendorId'];try{await(0x0,_0x2ac1a7[_0x335f3a(0x23d)])(_0x25e54d['getFunctions'](),'validateVendorCredits')({'vendorId':_0x42cee3});}catch(_0x31621f){throw console['error'](_0x335f3a(0x809),_0x31621f),new Error(_0x335f3a(0x6da));}const _0x31b6d1=(await(0x0,_0x46e89c[_0x335f3a(0x59e)])((0x0,_0x46e89c[_0x335f3a(0xb4b)])(_0x25e54d[_0x335f3a(0x914)](),'developers',_0x42cee3)))['data']();_0x31b6d1&&_0x31b6d1['organizationId']||(console[_0x335f3a(0x279)](new Date()+_0x335f3a(0xad6),_0x51b1eb[_0x335f3a(0x70e)],_0x473a11[_0x335f3a(0x459)](_0x51b1eb[_0x335f3a(0x70e)])[_0x335f3a(0xb2a)]),_0x51b1eb[_0x335f3a(0x70e)]=_0x473a11[_0x335f3a(0x459)](_0x51b1eb[_0x335f3a(0x70e)])[_0x335f3a(0xb2a)]),async function(_0xd8ea2,_0x186301,_0x1dd238,_0x3b7e37,_0x50bcad,_0x1916db){const _0x701424=_0x335f3a,_0x2d4b93=_0x1916db[_0x701424(0xb1c)][_0x701424(0x4d3)](_0x195430=>_0x195430['id']===_0x1dd238['model']);if(!_0x2d4b93)throw new Error('Model\x20not\x20found');const _0x3417ae=_0x1916db[_0x701424(0x9f5)][_0x701424(0x4d3)](_0x44349e=>_0x44349e[_0x701424(0x60e)]()===_0x2d4b93[_0x701424(0xab9)]);if(!_0x3417ae)throw new Error(_0x701424(0x3b8));const _0x4a56af={'type':_0x701424(0x448),'output':''},_0x432cf3=await _0x52313a(_0xd8ea2,_0x186301,_0x1dd238,_0x3b7e37,_0x1dd238[_0x701424(0x378)]??[],_0x1916db,_0x50bcad);for await(const _0x45836c of _0x3417ae['processJobStream']({'type':_0x701424(0x448),'prompt':_0x1dd238['prompt'],'instructions':_0x1dd238['instructions'],'reasoning':_0x1dd238[_0x701424(0x630)],'grammar':_0x1dd238[_0x701424(0x751)],'temperature':_0x1dd238[_0x701424(0x921)],'maxTokens':_0x1dd238[_0x701424(0x556)],'history':_0x1dd238[_0x701424(0x745)],'functions':_0x432cf3,'threadId':_0x1dd238[_0x701424(0x36c)]},{'model':_0x2d4b93,'sequences':Array[_0x701424(0x663)](_0x432cf3[_0x701424(0xa30)]())[_0x701424(0x658)](_0x3a4a3e=>_0x3a4a3e[_0x701424(0xaf7)](_0x701424(0x503)))?0x2:0x1}))_0x50bcad[_0x701424(0x995)](_0x45836c),_0x701424(0x618)==typeof _0x4a56af[_0x701424(0x68e)]&&_0x701424(0x618)==typeof _0x45836c['output']&&(_0x4a56af[_0x701424(0x68e)]+=_0x45836c[_0x701424(0x68e)]),_0x4a56af[_0x701424(0x84e)]=_0x45836c[_0x701424(0x84e)],_0x4a56af[_0x701424(0xb64)]=_0x45836c[_0x701424(0xb64)];await _0x18a0c6[_0x701424(0x5e0)](0x1),_0x50bcad['emit'](void 0x0);}(_0x29a14f,_0x39ab8d,_0x51b1eb,_0x35b648,_0x3caf01,_0x16a018);let _0x595bd4='',_0x4b5927=0x0,_0x3f2aba=0x0,_0x277232={'type':_0x335f3a(0x448)};for(;;){const _0x5fa6f0=await _0x3caf01[_0x335f3a(0x1a0)]();if(!_0x5fa6f0)break;_0x595bd4+=_0x5fa6f0[_0x335f3a(0x68e)],_0x277232={'type':_0x335f3a(0x448),'output':_0x5fa6f0['output'],'context':_0x35b648[_0x335f3a(0x499)],'internalContext':{},'inputTokens':_0x5fa6f0[_0x335f3a(0x84e)]??0x0,'outputTokens':_0x5fa6f0[_0x335f3a(0xb64)]??0x0},_0x4b5927+=_0x5fa6f0[_0x335f3a(0x84e)]??0x0,_0x3f2aba+=_0x5fa6f0[_0x335f3a(0xb64)]??0x0,((_0x5fa6f0['inputTokens']??0x0)>0x0||(_0x5fa6f0['outputTokens']??0x0)>0x0)&&console[_0x335f3a(0x279)](new Date()+_0x335f3a(0x33d),_0x51b1eb[_0x335f3a(0x70e)],_0x5fa6f0[_0x335f3a(0x84e)]??0x0,_0x5fa6f0[_0x335f3a(0xb64)]??0x0),yield _0x277232;}_0x31083d[_0x335f3a(0x65c)](_0x29a14f,_0x51b1eb[_0x335f3a(0x70e)],_0x4b5927,_0x3f2aba),console[_0x335f3a(0x279)](new Date()+_0x335f3a(0x8f9),_0x51b1eb[_0x335f3a(0x70e)],_0x4b5927,_0x3f2aba),yield{..._0x277232,'output':'','internalContext':_0x35b648[_0x335f3a(0xb52)]??{}};}async function _0x280f7d(_0x3838df,_0x489c96,_0xa71b17,_0x563564,_0x39fe5e,_0x2f9489){const _0x332590=_0x3f1d19,_0x403e46=Date['now']();if(!_0x2f9489[_0x332590(0xb1c)]['find'](_0x2b8c41=>_0x2b8c41['id']===_0x563564[_0x332590(0x949)]))throw new Error(_0x332590(0x547));const _0x329249=(0x0,_0x54796e['v4'])(),_0xac5d34=[];_0xac5d34[_0x332590(0x24b)]({'role':_0x332590(0x3ee),'content':_0x563564[_0x332590(0x789)]}),_0xac5d34[_0x332590(0x24b)]({'role':_0x332590(0x612),'content':_0xa71b17});const _0x31e2e2=await fetch(_0x3af887[_0x332590(0x1c0)]+_0x332590(0x972),{'method':'POST','headers':{'Content-Type':_0x332590(0x8a6),'x-vendor-id':_0x3838df},'body':JSON[_0x332590(0x300)]({'model':_0x563564[_0x332590(0x949)],'messages':_0xac5d34,'max_completion_tokens':_0x563564[_0x332590(0x556)],'temperature':_0x563564[_0x332590(0x921)],'threadId':_0x329249})}),_0x7efe58=(await _0x31e2e2[_0x332590(0x430)]())[_0x332590(0x683)][0x0][_0x332590(0x759)][_0x332590(0x861)];await _0x31083d[_0x332590(0x93b)]({'jobType':_0x217459[_0x332590(0x9e5)],'type':_0x62cacf[_0x332590(0x2de)],'jobId':_0x489c96,'blockId':_0x563564['id'],'traceLevel':_0x5b73c0[_0x332590(0x676)],'timestamp':Date['now'](),'startTime':_0x403e46,'status':_0x332590(0x656),'agentId':_0x329249,'content':_0xa71b17,'instructions':_0x563564[_0x332590(0x789)],'result':_0x7efe58});const _0x1111a7=[];if(_0x563564[_0x332590(0x217)]?.[_0x332590(0x658)](_0x2148a4=>_0x2148a4[_0x332590(0x8c9)]===_0x4a6d79[_0x332590(0x863)]))return _0x1111a7[_0x332590(0x24b)]({'content':_0x7efe58,'start':0x0,'length':_0x7efe58[_0x332590(0x744)]}),await _0x4cf7fe(_0x3838df,_0x489c96,_0x1111a7,_0x563564,_0x39fe5e,_0x2f9489),void await _0x4cf7fe(_0x3838df,_0x489c96,_0x7efe58,_0x563564,_0x39fe5e,_0x2f9489);_0x1111a7['push']({'content':_0x7efe58,'start':0x0,'length':_0xa71b17[_0x332590(0x744)]}),await _0x4cf7fe(_0x3838df,_0x489c96,_0x1111a7,_0x563564,_0x39fe5e,_0x2f9489);}async function _0x39a5bd(_0xdbf03f,_0x25292,_0x2e9a8c,_0x104419,_0x5b02d9,_0x4ff2d4){const _0x9f8aa5=_0x3f1d19,_0x443774=Date[_0x9f8aa5(0x64c)]();let _0x5d2bc1=[];if(_0x2e9a8c instanceof Array)for(const _0x4d4e60 of _0x2e9a8c){if('string'!=typeof _0x4d4e60[_0x9f8aa5(0x861)])throw new Error(_0x9f8aa5(0xa47));_0x5d2bc1=_0x5d2bc1['concat'](_0x5479d9(_0x4d4e60['content'],_0x104419,_0x4d4e60[_0x9f8aa5(0x266)],_0x4d4e60['length']));}else _0x5d2bc1=_0x5479d9(_0x2e9a8c,_0x104419);await _0x31083d['trace']({'jobType':_0x217459[_0x9f8aa5(0x9e5)],'type':_0x62cacf[_0x9f8aa5(0x333)],'traceLevel':_0x5b73c0['Debug'],'jobId':_0x25292,'blockId':_0x104419['id'],'startTime':_0x443774,'timestamp':Date[_0x9f8aa5(0x64c)](),'status':_0x9f8aa5(0x656),'totalChunks':_0x5d2bc1[_0x9f8aa5(0x744)],'chunkSize':_0x104419[_0x9f8aa5(0x936)][_0x9f8aa5(0x277)]}),await _0x4cf7fe(_0xdbf03f,_0x25292,_0x5d2bc1,_0x104419,_0x5b02d9,_0x4ff2d4);}function _0x5479d9(_0x2701c7,_0x1fe11c,_0xc2d951,_0x4ec3e7){const _0x37e322=_0x3f1d19,_0x5249da=[];for(let _0x30179f=0x0;_0x30179f<_0x2701c7['length'];_0x30179f+=_0x1fe11c[_0x37e322(0x936)]['size']){let _0x34da1b=_0x30179f-_0x1fe11c['attributes']['overlap'];_0x34da1b<0x0&&(_0x34da1b=0x0);let _0x58c561=_0x30179f+_0x1fe11c[_0x37e322(0x936)][_0x37e322(0x277)]+_0x1fe11c[_0x37e322(0x936)]['overlap'];_0x58c561>_0x2701c7[_0x37e322(0x744)]&&(_0x58c561=_0x2701c7[_0x37e322(0x744)]);const _0x1745b4=_0x2701c7['substring'](_0x34da1b,_0x58c561);_0x5249da[_0x37e322(0x24b)]({'content':_0x1745b4,'start':_0xc2d951??_0x30179f,'length':_0x4ec3e7??(_0x30179f+_0x1fe11c[_0x37e322(0x936)][_0x37e322(0x277)]>_0x2701c7[_0x37e322(0x744)]?_0x2701c7[_0x37e322(0x744)]-_0x30179f:_0x1fe11c['attributes'][_0x37e322(0x277)])});}return _0x5249da;}async function _0x583571(_0x229704,_0x232415,_0x1b8b68,_0x1c67eb,_0xc3e8dd,_0xef2fce){const _0x49bd14=_0x3f1d19,_0x3e1a43=Date[_0x49bd14(0x64c)]();let _0x353a0a;if(_0x1b8b68['file'][_0x49bd14(0x8c9)][_0x49bd14(0xaf7)]('text/')||_0x12ab74(_0x1b8b68[_0x49bd14(0x4dc)]['name'],_0x11b3c8))_0x353a0a=await _0x1b8b68[_0x49bd14(0x4dc)][_0x49bd14(0x571)]();else{if(!_0xef2fce[_0x49bd14(0xa6b)][_0x49bd14(0x5b7)](_0x1b8b68[_0x49bd14(0x4dc)]))throw new Error(_0x49bd14(0x97e)+_0x1b8b68[_0x49bd14(0x4dc)][_0x49bd14(0x8c9)]+_0x49bd14(0x87d)+_0x1b8b68[_0x49bd14(0x4dc)]['name']);_0x353a0a=await _0xef2fce[_0x49bd14(0xa6b)][_0x49bd14(0x237)](_0x1b8b68[_0x49bd14(0x4dc)]);}await _0x31083d['trace']({'jobType':_0x217459[_0x49bd14(0x9e5)],'type':_0x62cacf[_0x49bd14(0x5ce)],'traceLevel':_0x5b73c0[_0x49bd14(0x676)],'blockId':_0x1c67eb['id'],'jobId':_0x232415,'startTime':_0x3e1a43,'timestamp':Date[_0x49bd14(0x64c)](),'status':_0x49bd14(0x656),'documentType':_0x1b8b68[_0x49bd14(0x4dc)]['type'],'documentName':_0x1b8b68[_0x49bd14(0x4dc)][_0x49bd14(0xb0f)],'extractionMethod':_0x49bd14(0xb40)}),await _0x4cf7fe(_0x229704,_0x232415,_0x353a0a,_0x1c67eb,_0xc3e8dd,_0xef2fce);const _0x5871e0=[{'content':_0x353a0a,'start':0x0,'length':_0x353a0a[_0x49bd14(0x744)]}];await _0x4cf7fe(_0x229704,_0x232415,_0x5871e0,_0x1c67eb,_0xc3e8dd,_0xef2fce);}const _0x11b3c8=['.js',_0x3f1d19(0x8cb),'.py',_0x3f1d19(0x1bc),_0x3f1d19(0x17b),_0x3f1d19(0x62f),_0x3f1d19(0xad7),_0x3f1d19(0xb56),'.md',_0x3f1d19(0x5aa),_0x3f1d19(0x486),_0x3f1d19(0x365),_0x3f1d19(0x6a1),_0x3f1d19(0x522),_0x3f1d19(0x5f2),_0x3f1d19(0x7e8),_0x3f1d19(0x689),'.rb',_0x3f1d19(0xac4),'.java','.c',_0x3f1d19(0x84a),_0x3f1d19(0x383),'.r',_0x3f1d19(0x78d),_0x3f1d19(0x31d),_0x3f1d19(0x58c),_0x3f1d19(0xa43),_0x3f1d19(0x777),_0x3f1d19(0x67e),_0x3f1d19(0x4b8),_0x3f1d19(0x15b),_0x3f1d19(0x839),'.clj',_0x3f1d19(0x475),_0x3f1d19(0x9b3),'.ex',_0x3f1d19(0x2aa),_0x3f1d19(0x2ad),'.ps1',_0x3f1d19(0x465),'.m',_0x3f1d19(0x7c9),'.awk','.rkt','.jl','.ipynb',_0x3f1d19(0x796),_0x3f1d19(0x625),_0x3f1d19(0x91e),_0x3f1d19(0xa1c),'.jinja',_0x3f1d19(0x46a),_0x3f1d19(0xaef),_0x3f1d19(0x33f),_0x3f1d19(0x77e),'.pug',_0x3f1d19(0x6df),_0x3f1d19(0x40c),_0x3f1d19(0x699),_0x3f1d19(0x30c),_0x3f1d19(0x930),'.djt'];function _0x12ab74(_0x243134,_0x35d443){const _0x5de71e=_0x3f1d19;return _0x35d443[_0x5de71e(0xb4d)]('.'+(_0x243134[_0x5de71e(0x44f)]('.')[_0x5de71e(0x875)]()?.[_0x5de71e(0x391)]()||''));}async function _0x5c835f(_0x3db7c8,_0x1289e9,_0x542b3a,_0x3ad82c,_0x4c999c,_0x1b4292){const _0x3db1f8=_0x3f1d19,_0x1d7f04=Date[_0x3db1f8(0x64c)](),_0x2d7d9b=new Set();let _0x18afb4=0x0;for(const _0x4566b1 of _0x542b3a){if('string'!=typeof _0x4566b1[_0x3db1f8(0x861)])throw new Error(_0x3db1f8(0xa47));_0x18afb4+=_0x4566b1[_0x3db1f8(0x861)][_0x3db1f8(0x744)],await _0x1183fd(_0x4566b1[_0x3db1f8(0x861)],_0x2d7d9b,_0x3ad82c,_0x1b4292[_0x3db1f8(0x1fa)]);}await _0x31083d['trace']({'jobType':_0x217459['Ingest'],'type':_0x62cacf[_0x3db1f8(0xa49)],'jobId':_0x1289e9,'blockId':_0x3ad82c['id'],'traceLevel':_0x5b73c0[_0x3db1f8(0x676)],'startTime':_0x1d7f04,'timestamp':Date[_0x3db1f8(0x64c)](),'status':_0x3db1f8(0x656),'contentLength':_0x18afb4,'totalChunks':_0x542b3a instanceof Array?_0x542b3a[_0x3db1f8(0x744)]:0x1,'entitiesExtracted':_0x2d7d9b,'totalEntities':_0x2d7d9b[_0x3db1f8(0x277)]}),await _0x4cf7fe(_0x3db7c8,_0x1289e9,_0x2d7d9b,_0x3ad82c,_0x4c999c,_0x1b4292);}async function _0x1183fd(_0x53b05d,_0xf5231e,_0x2531d5,_0x32b9bb){const _0x21adcd=_0x3f1d19,_0x24d673=await _0x32b9bb[_0x21adcd(0x189)](_0x53b05d,{'ner':_0x2531d5[_0x21adcd(0x936)][_0x21adcd(0x99e)],'noun':_0x2531d5[_0x21adcd(0x936)][_0x21adcd(0x670)],'propn':_0x2531d5['attributes'][_0x21adcd(0x548)],'verb':_0x2531d5['attributes'][_0x21adcd(0x85e)]});for(const _0x5447f5 of _0x24d673)_0xf5231e['add'](_0x5447f5);}async function _0x28b715(_0x52dcc3,_0x316197,_0x1f3b75,_0x2cd165,_0x53deae){const _0x2aa109=_0x3f1d19,_0x134db3=Date[_0x2aa109(0x64c)]();if(_0x1f3b75[_0x2aa109(0x557)]||(_0x1f3b75['accumulated']={}),'string'==typeof _0x316197?_0x1f3b75[_0x2aa109(0x557)][_0x2aa109(0x861)]=_0x316197:_0x316197 instanceof Set?_0x1f3b75[_0x2aa109(0x557)][_0x2aa109(0x3d0)]=_0x316197:_0x316197 instanceof Map?_0x1f3b75[_0x2aa109(0x557)]['relations']=_0x316197:_0x316197 instanceof Array?_0x1f3b75[_0x2aa109(0x557)][_0x2aa109(0x958)]=_0x316197:_0x1f3b75[_0x2aa109(0x557)][_0x2aa109(0x4dc)]=_0x316197,_0x1f3b75[_0x2aa109(0x81c)]=_0x1f3b75[_0x2aa109(0x81c)]?_0x1f3b75['timesCalled']+0x1:0x1,_0x5bd3ed(_0x1f3b75,_0x2cd165[_0x2aa109(0x14c)])>_0x1f3b75[_0x2aa109(0x81c)])return;if(!(_0x1f3b75[_0x2aa109(0x557)][_0x2aa109(0x3d0)]&&_0x1f3b75[_0x2aa109(0x557)][_0x2aa109(0x4dc)]&&_0x1f3b75[_0x2aa109(0x557)][_0x2aa109(0x861)]&&_0x1f3b75[_0x2aa109(0x557)][_0x2aa109(0x958)]))throw new Error(_0x2aa109(0x767));let _0x4e36d0=0x0;const _0x4d81d7=_0x53deae['contentMediator']['getGraphDatabase'](_0x1f3b75['id']);for(const _0x3636a4 of _0x1f3b75['accumulated']['entities']){let _0x426706=[];_0x426706=_0x1f3b75[_0x2aa109(0x557)]['index'][_0x2aa109(0x1e0)](_0x281a25=>_0x2aa109(0x618)==typeof _0x281a25[_0x2aa109(0x861)]&&_0x281a25[_0x2aa109(0x861)][_0x2aa109(0xb4d)](_0x3636a4));try{_0x4d81d7['addNode'](_0x1f3b75['accumulated'][_0x2aa109(0x4dc)][_0x2aa109(0xa32)],_0x1f3b75[_0x2aa109(0x557)][_0x2aa109(0x861)],_0x426706,_0x3636a4),_0x4e36d0+=0x1;}catch(_0x45e0a4){}}if(_0x1f3b75[_0x2aa109(0x557)]['relations']){for(const [_0x2602a3,_0x45fd22]of _0x1f3b75[_0x2aa109(0x557)]['relations'])for(const _0x3c3699 of _0x45fd22)try{_0x4d81d7[_0x2aa109(0x478)](_0x2602a3,_0x3c3699);}catch(_0x46c84f){}await _0x31083d['trace']({'jobType':_0x217459['Ingest'],'type':_0x62cacf[_0x2aa109(0x394)],'jobId':_0x52dcc3,'blockId':_0x1f3b75['id'],'status':_0x2aa109(0x656),'startTime':_0x134db3,'timestamp':Date[_0x2aa109(0x64c)](),'traceLevel':_0x5b73c0[_0x2aa109(0x676)],'nodesAdded':_0x4e36d0,'entities':_0x1f3b75[_0x2aa109(0x557)][_0x2aa109(0x3d0)],'relations':_0x1f3b75[_0x2aa109(0x557)]['relations']});}}async function _0x1b05d4(_0x2e9340,_0x21fe88,_0x1159f2,_0x2429d3,_0x45f7bd,_0x56bc3e){const _0x45bd11=_0x3f1d19,_0x421e72=_0x56bc3e[_0x45bd11(0xb1c)][_0x45bd11(0x4d3)](_0x1bfccb=>_0x1bfccb['id']===_0x2429d3['id']);if(!_0x421e72)throw new Error('Model\x20not\x20found');switch(_0x421e72[_0x45bd11(0x945)]){case _0x1c7ce5[_0x45bd11(0x693)]['Text']:if(_0x45bd11(0x618)!=typeof _0x1159f2)throw new Error(_0x45bd11(0x808));await async function(_0x45fef0,_0x45c59a,_0x161fcc,_0x4f6e34,_0x5cd42d,_0x3e3917,_0x1ada85){const _0x2e067c=_0x45bd11,_0x39ddb8=Date['now']();let _0x695988;const _0xbbfc5=await fetch(_0x3af887[_0x2e067c(0x1c0)]+'/chat/completions',{'method':_0x2e067c(0x3e9),'headers':{'Content-Type':_0x2e067c(0x8a6),'x-vendor-id':_0x45fef0},'body':JSON[_0x2e067c(0x300)]({'messages':[{'role':_0x2e067c(0x612),'content':_0x161fcc}],'model':_0x4f6e34['id']})});_0x695988=(await _0xbbfc5[_0x2e067c(0x430)]())['choices'][0x0][_0x2e067c(0x759)][_0x2e067c(0x861)],await _0x31083d['trace']({'jobType':_0x217459['Ingest'],'type':_0x62cacf[_0x2e067c(0xacf)],'jobId':_0x45c59a,'blockId':_0x5cd42d['id'],'traceLevel':_0x5b73c0[_0x2e067c(0x676)],'timestamp':Date[_0x2e067c(0x64c)](),'startTime':_0x39ddb8,'status':_0x2e067c(0x656),'modelName':_0x4f6e34['id'],'inputType':_0x4f6e34[_0x2e067c(0x5a7)],'outputType':_0x4f6e34[_0x2e067c(0x945)],'content':_0x161fcc,'results':_0x695988}),await _0x4cf7fe(_0x45fef0,_0x45c59a,_0x695988,_0x5cd42d,_0x3e3917,_0x1ada85);}(_0x2e9340,_0x21fe88,_0x1159f2,_0x421e72,_0x2429d3,_0x45f7bd,_0x56bc3e);break;case _0x1c7ce5[_0x45bd11(0x693)]['Vector']:if(!(_0x1159f2 instanceof Array))throw new Error(_0x45bd11(0x906));await async function(_0x249c10,_0x3ae7bf,_0x1043c4,_0x4a3af4,_0x40bc7b,_0x357749,_0x2dc918){const _0x170e4b=_0x45bd11,_0x4203b0=Date['now'](),_0x102448=await fetch(_0x3af887[_0x170e4b(0x1c0)]+_0x170e4b(0x5d4),{'method':_0x170e4b(0x3e9),'headers':{'Content-Type':_0x170e4b(0x8a6),'x-vendor-id':_0x249c10},'body':JSON[_0x170e4b(0x300)]({'input':_0x1043c4[_0x170e4b(0x865)](_0x36d618=>_0x36d618[_0x170e4b(0x861)]),'model':_0x4a3af4['id']})}),_0x25d602=(await _0x102448[_0x170e4b(0x430)]())[_0x170e4b(0xa34)]['map'](_0x22af4d=>_0x22af4d[_0x170e4b(0x2bb)]);await _0x31083d[_0x170e4b(0x93b)]({'jobType':_0x217459[_0x170e4b(0x9e5)],'type':_0x62cacf['ModelVector'],'jobId':_0x3ae7bf,'blockId':_0x40bc7b['id'],'traceLevel':_0x5b73c0['Debug'],'timestamp':Date[_0x170e4b(0x64c)](),'startTime':_0x4203b0,'status':_0x170e4b(0x656),'modelName':_0x4a3af4['id'],'inputType':_0x4a3af4[_0x170e4b(0x5a7)],'outputType':_0x4a3af4['outputType'],'totalVectors':_0x25d602[_0x170e4b(0x744)]}),await _0x4cf7fe(_0x249c10,_0x3ae7bf,_0x25d602,_0x40bc7b,_0x357749,_0x2dc918);}(_0x2e9340,_0x21fe88,_0x1159f2,_0x421e72,_0x2429d3,_0x45f7bd,_0x56bc3e);}}async function _0x27e6b0(_0x37773d,_0x671fe4,_0x5ac4c3,_0xe2b0c9,_0x10fdbc,_0x165e95){const _0x4ccff5=_0x3f1d19,_0x1a374e=Date[_0x4ccff5(0x64c)]();if(_0xe2b0c9['accumulated']||(_0xe2b0c9[_0x4ccff5(0x557)]={}),_0x5ac4c3 instanceof Array?_0xe2b0c9['accumulated'][_0x4ccff5(0x958)]=_0x5ac4c3:_0xe2b0c9[_0x4ccff5(0x557)][_0x4ccff5(0x3d0)]=_0x5ac4c3,_0xe2b0c9[_0x4ccff5(0x81c)]=_0xe2b0c9[_0x4ccff5(0x81c)]?_0xe2b0c9['timesCalled']+0x1:0x1,_0x5bd3ed(_0xe2b0c9,_0x10fdbc['ingestBlocks'])>_0xe2b0c9['timesCalled'])return;if(!_0xe2b0c9[_0x4ccff5(0x557)]['index']||!_0xe2b0c9[_0x4ccff5(0x557)][_0x4ccff5(0x3d0)])throw new Error('Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data');const _0x164c10=new Map();for(const _0x55f9af of _0xe2b0c9[_0x4ccff5(0x557)][_0x4ccff5(0x958)]){if(_0x4ccff5(0x618)!=typeof _0x55f9af[_0x4ccff5(0x861)])throw new Error('Invalid\x20content\x20type');_0x719ac6(_0x55f9af['content'],_0xe2b0c9['accumulated'][_0x4ccff5(0x3d0)],_0x164c10);}await _0x31083d['trace']({'jobType':_0x217459['Ingest'],'type':_0x62cacf[_0x4ccff5(0x1f8)],'jobId':_0x671fe4,'blockId':_0xe2b0c9['id'],'traceLevel':_0x5b73c0['Debug'],'timestamp':Date['now'](),'startTime':_0x1a374e,'status':_0x4ccff5(0x656),'entities':_0xe2b0c9[_0x4ccff5(0x557)]['entities'],'relations':_0x164c10,'totalRelationsExtracted':_0x164c10['size']}),await _0x4cf7fe(_0x37773d,_0x671fe4,_0x164c10,_0xe2b0c9,_0x10fdbc,_0x165e95);}function _0x719ac6(_0x544d3e,_0x24ab4c,_0x44f70e){const _0x119270=_0x3f1d19;for(const _0x21dba3 of _0x24ab4c)for(const _0x4d4e49 of _0x24ab4c){if(_0x21dba3===_0x4d4e49)continue;const _0x319468=_0x544d3e[_0x119270(0x500)](_0x21dba3),_0x4c351b=_0x544d3e[_0x119270(0x500)](_0x4d4e49);-0x1!==_0x319468&&-0x1!==_0x4c351b&&(_0x44f70e[_0x119270(0x1c3)](_0x21dba3)||_0x44f70e[_0x119270(0xb36)](_0x21dba3,new Set()),_0x44f70e[_0x119270(0x459)](_0x21dba3)[_0x119270(0x7ce)](_0x4d4e49));}return _0x44f70e;}async function _0x526a30(_0x1aae98,_0x26b64e,_0x29e054,_0x4a78bf,_0x3f7cf7,_0x999a57){const _0x2f34fa=_0x3f1d19,_0x138e57=Date['now']();let _0x4410cc=[];if(_0x29e054 instanceof Array)for(const _0xab63c8 of _0x29e054){if('string'!=typeof _0xab63c8['content'])throw new Error(_0x2f34fa(0xa47));const _0x21f08f=await _0x999a57[_0x2f34fa(0x1fa)][_0x2f34fa(0x880)](_0xab63c8['content']);_0x4410cc=_0x4410cc[_0x2f34fa(0x78c)](_0x21f08f[_0x2f34fa(0x865)](_0x4483aa=>({'content':_0x4483aa,'start':_0xab63c8[_0x2f34fa(0x266)],'length':_0xab63c8[_0x2f34fa(0x744)]})));}else _0x4410cc=(await _0x999a57['nlpLibraryConnector']['getSentences'](_0x29e054))[_0x2f34fa(0x865)](_0x2221e1=>({'content':_0x2221e1,'start':_0x29e054[_0x2f34fa(0x500)](_0x2221e1),'length':_0x2221e1[_0x2f34fa(0x744)]}));await _0x31083d[_0x2f34fa(0x93b)]({'jobType':_0x217459[_0x2f34fa(0x9e5)],'type':_0x62cacf[_0x2f34fa(0x3f5)],'jobId':_0x26b64e,'blockId':_0x4a78bf['id'],'traceLevel':_0x5b73c0['Debug'],'startTime':_0x138e57,'timestamp':Date['now'](),'status':_0x2f34fa(0x656),'totalSentences':_0x4410cc['length'],'averageSentenceLength':_0x4410cc[_0x2f34fa(0x9ed)]((_0x2d76c2,_0x125724)=>_0x2d76c2+_0x125724['length'],0x0)/_0x4410cc['length']}),await _0x4cf7fe(_0x1aae98,_0x26b64e,_0x4410cc,_0x4a78bf,_0x3f7cf7,_0x999a57);}async function _0x42ab4(_0x144013,_0x228931,_0x245d15,_0x2ede71,_0x33319c,_0x321724,_0x15a803){const _0x1f1a3c=_0x3f1d19;if(0x0===_0x228931[_0x1f1a3c(0x744)])return;const _0x5903df=_0x2ede71[_0x1f1a3c(0xb52)]?.[_0x1f1a3c(0x9c0)]?_0x2ede71[_0x1f1a3c(0xb52)]['files']['split'](','):[];for(const _0x5bee28 of _0x228931){if(_0x5bee28[_0x1f1a3c(0x8c9)][_0x1f1a3c(0xaf7)](_0x1f1a3c(0x983)))continue;const _0x5215f3=await _0x15a803['fileConnector'][_0x1f1a3c(0x39f)](_0x5bee28);_0x5903df[_0x1f1a3c(0x24b)](_0x5215f3);}if(_0x33319c[_0x1f1a3c(0x217)])for(const _0x310e53 of _0x33319c[_0x1f1a3c(0x217)]){if(_0x310e53[_0x1f1a3c(0x8c9)]!==_0x4a6d79[_0x1f1a3c(0x2f4)])continue;const _0x1fa7f0=_0x321724[_0x1f1a3c(0x4d3)](_0x38fa20=>_0x38fa20['uid']===_0x310e53['uid']);if(_0x1fa7f0){for(const _0x117dc8 of _0x5903df)_0x1fa7f0[_0x1f1a3c(0x8c9)]===_0x201fdb[_0x1f1a3c(0x2de)]&&await _0xdf280f(_0x144013,_0x310e53['type'],_0x117dc8,_0x245d15,_0x2ede71,_0x1fa7f0,_0x321724,_0x15a803);}}_0x2ede71['internalContext']||(_0x2ede71['internalContext']={}),_0x2ede71[_0x1f1a3c(0xb52)][_0x1f1a3c(0x9c0)]=_0x5903df[_0x1f1a3c(0x4b3)](',');}async function _0x19f0b1(_0x43f707,_0x28a5f2,_0x5c8083,_0x1be4a3,_0x175eec,_0x4e7cf7,_0xf03b5c){const _0x2f3989=_0x3f1d19;if(0x0===_0x28a5f2['length'])return;const _0x4ef620=[];for(const _0x19bb53 of _0x28a5f2){const _0x189950=await _0x19bb53[_0x2f3989(0x579)](),_0x335102=Buffer[_0x2f3989(0x663)](_0x189950)[_0x2f3989(0x9b2)](_0x2f3989(0x8ed)),_0x2be494=_0x19bb53['type'];_0x2be494[_0x2f3989(0xaf7)](_0x2f3989(0x983))&&_0x4ef620['push'](_0x2be494+_0x2f3989(0x4c1)+_0x335102);}if(_0x175eec[_0x2f3989(0x217)])for(const _0x883891 of _0x175eec['links']){if(_0x883891[_0x2f3989(0x8c9)]!==_0x4a6d79[_0x2f3989(0x9df)])continue;const _0x303e76=_0x4e7cf7[_0x2f3989(0x4d3)](_0x25e79a=>_0x25e79a[_0x2f3989(0x88f)]===_0x883891['uid']);if(_0x303e76){for(const _0x4ae4fe of _0x4ef620)_0x303e76[_0x2f3989(0x8c9)]===_0x201fdb[_0x2f3989(0x2de)]&&await _0xdf280f(_0x43f707,_0x883891[_0x2f3989(0x8c9)],_0x4ae4fe,_0x5c8083,_0x1be4a3,_0x303e76,_0x4e7cf7,_0xf03b5c);}}}async function _0x53c71d(_0x493b24,_0x3d16d4,_0x2030c5,_0x2d379b,_0x5c4a11){const _0x485763=_0x3f1d19,_0x167f7c=_0x3d16d4[_0x485763(0x328)]??(0x0,_0x54796e['v4'])(),_0x2915bc=Date[_0x485763(0x64c)]();await _0x31083d[_0x485763(0x93b)]({'jobType':_0x217459[_0x485763(0x987)],'type':_0xcae4eb[_0x485763(0x6f1)],'jobId':_0x493b24,'blockId':_0x2030c5['id'],'agentId':_0x167f7c,'threadId':_0x3d16d4['threadId'],'traceLevel':_0x5b73c0[_0x485763(0x2cb)],'startTime':Date[_0x485763(0x64c)](),'timestamp':Date['now'](),'status':_0x485763(0x656),'initialPrompt':_0x3d16d4[_0x485763(0x448)]});const _0x3bad0b={'type':_0x485763(0x448),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x3d16d4[_0x485763(0xb52)]&&(_0x3bad0b['internalContext']=_0x3d16d4['internalContext']),await _0x446d58(_0x493b24,_0x3d16d4,_0x3bad0b,_0x2030c5,_0x2d379b,_0x5c4a11),await _0x5c7f0(_0x493b24,''+_0x3d16d4[_0x485763(0x448)],_0x3d16d4,_0x3bad0b,_0x2030c5,_0x2d379b,_0x5c4a11);const {inputTokens:_0x44bc35=0x0,outputTokens:_0x20c889=0x0,context:_0x2e43c0=[]}=_0x3bad0b;await _0x31083d[_0x485763(0x93b)]({'jobType':_0x217459[_0x485763(0x987)],'type':_0xcae4eb[_0x485763(0x4ec)],'jobId':_0x493b24,'agentId':_0x167f7c,'threadId':_0x3d16d4[_0x485763(0x36c)],'traceLevel':_0x5b73c0[_0x485763(0x2cb)],'startTime':_0x2915bc,'timestamp':Date[_0x485763(0x64c)](),'blockId':_0x2030c5['id'],'status':_0x485763(0x656),'output':_0x3bad0b[_0x485763(0x68e)]?.[_0x485763(0x9b2)]()??'','prompt':_0x3d16d4[_0x485763(0x448)],'agentName':'','history':_0x3d16d4['history']??[],'instructions':''+(_0x3d16d4[_0x485763(0x789)]??''),'ragContext':_0x2e43c0,'inputTokens':_0x44bc35,'outputTokens':_0x20c889});const _0x55950b=_0x2d379b[_0x485763(0x4d3)](_0x232b42=>_0x232b42[_0x485763(0x8c9)]===_0x201fdb[_0x485763(0x496)]);return{'type':_0x485763(0x448),'output':_0x3bad0b[_0x485763(0x68e)],'context':_0x3bad0b[_0x485763(0x499)],'internalContext':_0x3bad0b[_0x485763(0xb52)],'resultFile':await _0x55950b?.[_0x485763(0x557)]?.[_0x485763(0x4dc)]?.[_0x485763(0x571)]()??void 0x0,'inputTokens':_0x3bad0b[_0x485763(0x84e)]??0x0,'outputTokens':_0x3bad0b[_0x485763(0xb64)]??0x0};}async function*_0x2eccea(_0x1fb510,_0x11cdee,_0x3b2c75,_0x5938f6,_0xb74393){const _0x4e8324=_0x3f1d19,_0xaef48e=_0x11cdee[_0x4e8324(0x328)]??(0x0,_0x54796e['v4'])(),_0x42ae60=Date[_0x4e8324(0x64c)]();await _0x31083d['trace']({'jobType':_0x217459[_0x4e8324(0x987)],'type':_0xcae4eb[_0x4e8324(0x6f1)],'jobId':_0x1fb510,'agentId':_0xaef48e,'threadId':_0x11cdee[_0x4e8324(0x36c)],'traceLevel':_0x5b73c0[_0x4e8324(0x2cb)],'startTime':Date[_0x4e8324(0x64c)](),'timestamp':Date[_0x4e8324(0x64c)](),'blockId':_0x3b2c75['id'],'status':'success','initialPrompt':_0x11cdee[_0x4e8324(0x448)]});const _0x44c624={'type':_0x4e8324(0x448),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x11cdee[_0x4e8324(0xb52)]&&(_0x44c624['internalContext']=_0x11cdee[_0x4e8324(0xb52)]);const _0x16438a=new _0xfb0ee2();await _0x446d58(_0x1fb510,_0x11cdee,_0x44c624,_0x3b2c75,_0x5938f6,_0xb74393),_0x5c7f0(_0x1fb510,''+_0x11cdee['prompt'],_0x11cdee,_0x44c624,_0x3b2c75,_0x5938f6,_0xb74393,_0x16438a);let _0x4a3552='',_0x377173={'type':_0x4e8324(0x448)};for(;;){const _0x4bd929=await _0x16438a[_0x4e8324(0x1a0)]();if(!_0x4bd929)break;_0x4a3552+=_0x4bd929[_0x4e8324(0x68e)],_0x377173={'type':_0x4e8324(0x448),'output':_0x4bd929[_0x4e8324(0x68e)],'context':_0x44c624[_0x4e8324(0x499)],'resultFile':void 0x0,'inputTokens':(_0x44c624['inputTokens']??0x0)+(_0x4bd929[_0x4e8324(0x84e)]??0x0),'outputTokens':(_0x44c624[_0x4e8324(0xb64)]??0x0)+(_0x4bd929[_0x4e8324(0xb64)]??0x0)},yield _0x377173;}const _0x187536=_0x5938f6['find'](_0x2e5126=>_0x2e5126[_0x4e8324(0x8c9)]===_0x201fdb['Answer']);yield{..._0x377173,'output':'','internalContext':_0x44c624['internalContext'],'resultFile':await _0x187536?.['accumulated']?.[_0x4e8324(0x4dc)]?.[_0x4e8324(0x571)]()??void 0x0};const {inputTokens:_0x591775=0x0,outputTokens:_0x331b92=0x0,context:_0x3451d6=[]}=_0x377173;await _0x31083d['trace']({'jobType':_0x217459[_0x4e8324(0x987)],'type':_0xcae4eb['FinalOutput'],'jobId':_0x1fb510,'agentId':_0xaef48e,'threadId':_0x11cdee[_0x4e8324(0x36c)],'traceLevel':_0x5b73c0[_0x4e8324(0x2cb)],'startTime':_0x42ae60,'timestamp':Date[_0x4e8324(0x64c)](),'blockId':_0x3b2c75['id'],'status':_0x4e8324(0x656),'output':_0x4a3552,'prompt':_0x11cdee[_0x4e8324(0x448)],'agentName':'','history':_0x11cdee[_0x4e8324(0x745)]??[],'instructions':''+(_0x11cdee[_0x4e8324(0x789)]??''),'ragContext':_0x3451d6,'inputTokens':_0x591775,'outputTokens':_0x331b92});}async function _0x446d58(_0x48f352,_0x2dd010,_0x84636a,_0x29f238,_0x16cf91,_0x593abf){const _0xef5cb6=_0x3f1d19;if(_0x2dd010['files']&&_0x29f238[_0xef5cb6(0x217)]){const _0xde559c=[];for(const _0x47786d of _0x2dd010[_0xef5cb6(0x9c0)])_0xde559c[_0xef5cb6(0x24b)](_0x426371(_0x47786d));for(const _0x3a0dc2 of _0x29f238[_0xef5cb6(0x217)])_0x3a0dc2[_0xef5cb6(0x8c9)]===_0x4a6d79['File']&&await _0x42ab4(_0x48f352,_0xde559c,_0x2dd010,_0x84636a,_0x29f238,_0x16cf91,_0x593abf),_0x3a0dc2[_0xef5cb6(0x8c9)]===_0x4a6d79[_0xef5cb6(0x9df)]&&await _0x19f0b1(_0x48f352,_0xde559c,_0x2dd010,_0x84636a,_0x29f238,_0x16cf91,_0x593abf);}}function _0x426371(_0x420999){const _0x402edc=_0x3f1d19,_0x1b8cb2=Uint8Array[_0x402edc(0x663)](Buffer['from'](_0x420999['content'],_0x402edc(0x8ed))),_0x1b7f07=new Blob([_0x1b8cb2],{'type':_0x420999[_0x402edc(0x8c9)]});return new File([_0x1b7f07],_0x420999[_0x402edc(0xb0f)],{'type':_0x420999[_0x402edc(0x8c9)]});}function _0x1f199c(_0x29e83a,_0xc71d62){const _0x51b8c6=_0x3f1d19;switch(_0xc71d62[_0x51b8c6(0x382)]){case _0x480041[_0x51b8c6(0x203)]:return _0x51b8c6(0x712);case _0x480041['Account']:return _0x29e83a;case _0x480041['Dedicated']:default:return _0xc71d62['id'];}}async function _0x4f0821(_0x2cbfe1,_0x4f2a3a,_0x17d64e,_0x3f9743,_0x4c9cfd,_0x57a5b7){const _0x21cf6e=_0x3f1d19,_0xcfd6ac=Date['now']();var _0x3d7142;if(_0x3f9743['accumulated']||(_0x3f9743[_0x21cf6e(0x557)]={}),_0x17d64e instanceof Array?(_0x3d7142=_0x17d64e)[0x0]instanceof Array&&_0x21cf6e(0x2ff)==typeof _0x3d7142[0x0]?.[0x0]?_0x3f9743[_0x21cf6e(0x557)][_0x21cf6e(0x8bc)]=_0x17d64e:_0x3f9743['accumulated'][_0x21cf6e(0x958)]=_0x17d64e:_0x21cf6e(0x618)==typeof _0x17d64e?_0x3f9743[_0x21cf6e(0x557)][_0x21cf6e(0x861)]=_0x17d64e:_0x3f9743['accumulated'][_0x21cf6e(0x4dc)]=_0x17d64e,_0x3f9743[_0x21cf6e(0x81c)]=_0x3f9743['timesCalled']?_0x3f9743[_0x21cf6e(0x81c)]+0x1:0x1,!(_0x5bd3ed(_0x3f9743,_0x4c9cfd[_0x21cf6e(0x14c)])>_0x3f9743['timesCalled'])){if('vector-database'===_0x3f9743['id']){if(!_0x3f9743[_0x21cf6e(0x557)][_0x21cf6e(0x958)]||!_0x3f9743[_0x21cf6e(0x557)][_0x21cf6e(0x8bc)]||!_0x3f9743[_0x21cf6e(0x557)]['file'])throw new Error(_0x21cf6e(0x541));if(!_0x57a5b7['ragConnector'])throw new Error('RAG\x20connector\x20is\x20not\x20available');const _0x22341c=[];for(let _0x4a4103=0x0;_0x4a4103<_0x3f9743[_0x21cf6e(0x557)][_0x21cf6e(0x958)][_0x21cf6e(0x744)];_0x4a4103++){const _0x5e6d0d=_0x3f9743['accumulated'][_0x21cf6e(0x8bc)][_0x4a4103],_0x4d1e82=_0x3f9743[_0x21cf6e(0x557)][_0x21cf6e(0x958)][_0x4a4103];_0x22341c[_0x21cf6e(0x24b)]({'content':_0x5e6d0d,'start':_0x4d1e82[_0x21cf6e(0x266)],'length':_0x4d1e82[_0x21cf6e(0x744)]});}const _0xffda48=_0x1f199c(_0x2cbfe1,_0x4c9cfd);await _0x57a5b7['ragConnector'][_0x21cf6e(0x729)](_0xffda48,_0x4c9cfd['id'],_0x3f9743[_0x21cf6e(0x557)]['file'][_0x21cf6e(0xa32)],_0x22341c);}else{if(!(_0x3f9743[_0x21cf6e(0x557)]['content']&&_0x3f9743[_0x21cf6e(0x557)][_0x21cf6e(0x958)]&&_0x3f9743['accumulated'][_0x21cf6e(0x8bc)]&&_0x3f9743[_0x21cf6e(0x557)][_0x21cf6e(0x4dc)]))throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0xfa7ed9=_0x57a5b7['contentMediator'][_0x21cf6e(0x447)](_0x3f9743['id']);_0xfa7ed9[_0x21cf6e(0x9ae)](_0x3f9743[_0x21cf6e(0x557)][_0x21cf6e(0x4dc)][_0x21cf6e(0xa32)],_0x3f9743['accumulated']['content'],_0x3f9743[_0x21cf6e(0x557)][_0x21cf6e(0x958)],_0x3f9743['accumulated'][_0x21cf6e(0x8bc)]),await _0x31083d[_0x21cf6e(0x93b)]({'jobType':_0x217459[_0x21cf6e(0x9e5)],'type':_0x62cacf['VectorDatabase'],'jobId':_0x4f2a3a,'blockId':_0x3f9743['id'],'traceLevel':_0x5b73c0[_0x21cf6e(0x676)],'startTime':_0xcfd6ac,'timestamp':Date[_0x21cf6e(0x64c)](),'status':'success','databaseName':_0xfa7ed9[_0x21cf6e(0x23f)](),'vectorsAdded':_0x3f9743[_0x21cf6e(0x557)]['vectors'][_0x21cf6e(0x744)],'filePathName':_0x3f9743['accumulated'][_0x21cf6e(0x4dc)][_0x21cf6e(0xa32)]});}}}async function _0x3dab19(_0x188a88,_0x33e9f6,_0xb8a011,_0x17dbc6,_0x1b0896,_0x2cd5df){const _0x40e25c=_0x3f1d19,_0x46a04e=Date[_0x40e25c(0x64c)]();let _0x568441=[];if(_0xb8a011 instanceof Array)for(const _0x201754 of _0xb8a011){if(_0x40e25c(0x618)!=typeof _0x201754[_0x40e25c(0x861)])throw new Error('Invalid\x20content\x20type');_0x568441=_0x568441[_0x40e25c(0x78c)](_0x14736e(_0x201754[_0x40e25c(0x861)],_0x17dbc6,_0x201754['start'],_0x201754[_0x40e25c(0x744)]));}else _0x568441=_0x14736e(_0xb8a011,_0x17dbc6);await _0x31083d[_0x40e25c(0x93b)]({'jobType':_0x217459['Ingest'],'type':_0x62cacf[_0x40e25c(0x306)],'jobId':_0x33e9f6,'traceLevel':_0x5b73c0[_0x40e25c(0x676)],'blockId':_0x17dbc6['id'],'startTime':_0x46a04e,'timestamp':Date['now'](),'status':_0x40e25c(0x656),'totalChunks':_0x568441[_0x40e25c(0x744)],'averageChunkLength':_0x568441[_0x40e25c(0x9ed)]((_0x2bfd38,_0x362a78)=>_0x2bfd38+_0x362a78[_0x40e25c(0x744)],0x0)/_0x568441[_0x40e25c(0x744)]}),await _0x4cf7fe(_0x188a88,_0x33e9f6,_0x568441,_0x17dbc6,_0x1b0896,_0x2cd5df);}function _0x14736e(_0x3b0710,_0x41b904,_0x327587,_0x3d1d7b){const _0x14e08f=_0x3f1d19,_0x5bb0af=[],_0x177cf1=_0x3b0710[_0x14e08f(0x44f)]('\x20');let _0x466136='',_0x38517c=-0x1,_0x4729e5=0x0,_0x2ef3d6=0x0;for(const _0x133896 of _0x177cf1){if(_0x466136[_0x14e08f(0x744)]+_0x133896[_0x14e08f(0x744)]>_0x41b904['attributes'][_0x14e08f(0x277)]){const _0x3e5094=_0x466136[_0x14e08f(0x744)];let _0x1a79a2=_0x38517c,_0x7e1b6a='';for(;_0x1a79a2>=0x0&&_0x7e1b6a['length']+_0x177cf1[_0x1a79a2][_0x14e08f(0x744)]<_0x41b904[_0x14e08f(0x936)][_0x14e08f(0x247)];)_0x7e1b6a=_0x177cf1[_0x1a79a2]+'\x20'+_0x7e1b6a,_0x1a79a2--;let _0x239857=_0x4729e5,_0x4fd6e7='';for(;_0x239857<_0x177cf1[_0x14e08f(0x744)]&&_0x4fd6e7[_0x14e08f(0x744)]+_0x177cf1[_0x239857][_0x14e08f(0x744)]<_0x41b904[_0x14e08f(0x936)][_0x14e08f(0x247)];)_0x4fd6e7+=_0x177cf1[_0x239857]+'\x20',_0x239857++;_0x466136=_0x7e1b6a+_0x466136+_0x4fd6e7,_0x5bb0af[_0x14e08f(0x24b)]({'content':_0x466136[_0x14e08f(0xb67)](),'start':_0x327587??_0x2ef3d6,'length':_0x3d1d7b??_0x3e5094}),_0x466136='',_0x38517c=_0x4729e5-0x1,_0x2ef3d6+=_0x3e5094;}_0x466136+=_0x133896+'\x20',_0x4729e5++;}if(_0x466136[_0x14e08f(0x744)]>0x0){const _0x48b1ac=_0x466136[_0x14e08f(0x744)];let _0x21df8d=_0x38517c,_0x5905d0='';for(;_0x21df8d>=0x0&&_0x5905d0[_0x14e08f(0x744)]+_0x177cf1[_0x21df8d]['length']<_0x41b904['attributes'][_0x14e08f(0x247)];)_0x5905d0=_0x177cf1[_0x21df8d]+'\x20'+_0x5905d0,_0x21df8d--;_0x466136=_0x5905d0+_0x466136,_0x5bb0af[_0x14e08f(0x24b)]({'content':_0x466136['trim'](),'start':_0x327587??_0x2ef3d6,'length':_0x3d1d7b??_0x48b1ac});}return _0x5bb0af;}async function _0x4cf7fe(_0x257b48,_0x3075b1,_0x19ae4c,_0x5107ff,_0x36b976,_0x3e6f1c){const _0x9fa33a=_0x3f1d19;for(const _0x287575 of _0x5107ff[_0x9fa33a(0x217)]||[]){const _0x2f2ca2=_0x36b976[_0x9fa33a(0x14c)][_0x9fa33a(0x4d3)](_0x53b628=>_0x53b628[_0x9fa33a(0x88f)]===_0x287575[_0x9fa33a(0x88f)]);if(_0x2f2ca2)switch(_0x2f2ca2['type']){case _0xdd22df['Agent']:_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0x863)]&&_0x9fa33a(0x618)==typeof _0x19ae4c&&await _0x280f7d(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c);break;case _0xdd22df[_0x9fa33a(0x333)]:_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79['Text']&&_0x9fa33a(0x618)==typeof _0x19ae4c&&await _0x39a5bd(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575['type']===_0x4a6d79[_0x9fa33a(0xb37)]&&_0x19ae4c instanceof Array&&await _0x39a5bd(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c);break;case _0xdd22df[_0x9fa33a(0x5ce)]:_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79['File']&&await _0x583571(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c);break;case _0xdd22df[_0x9fa33a(0x14a)]:if(_0x287575['type']===_0x4a6d79[_0x9fa33a(0xb37)]&&_0x19ae4c instanceof Array){if(!_0x36b976[_0x9fa33a(0x949)])throw new Error(_0x9fa33a(0x624));const _0x50ec5f={'type':_0xdd22df[_0x9fa33a(0x6dc)],'id':_0x36b976[_0x9fa33a(0x949)],'uid':(0x0,_0x54796e['v4'])(),'links':_0x2f2ca2[_0x9fa33a(0x217)]};await _0x1b05d4(_0x257b48,_0x3075b1,_0x19ae4c,_0x50ec5f,_0x36b976,_0x3e6f1c);}break;case _0xdd22df[_0x9fa33a(0xa49)]:_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0xb37)]&&_0x19ae4c instanceof Array&&await _0x5c835f(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c);break;case _0xdd22df[_0x9fa33a(0x394)]:_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0x863)]&&_0x9fa33a(0x618)==typeof _0x19ae4c&&await _0x28b715(_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0xb37)]&&_0x19ae4c instanceof Array&&await _0x28b715(_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0x265)]&&_0x19ae4c instanceof Set&&await _0x28b715(_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79['Relation']&&_0x19ae4c instanceof Map&&await _0x28b715(_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575['type']===_0x4a6d79[_0x9fa33a(0x2f4)]&&await _0x28b715(_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c);break;case _0xdd22df['Model']:_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0x863)]&&_0x9fa33a(0x618)==typeof _0x19ae4c&&await _0x1b05d4(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575['type']===_0x4a6d79[_0x9fa33a(0xb37)]&&_0x19ae4c instanceof Array&&await _0x1b05d4(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c);break;case _0xdd22df[_0x9fa33a(0x1f8)]:_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0xb37)]&&_0x19ae4c instanceof Array&&await _0x27e6b0(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0x265)]&&_0x19ae4c instanceof Set&&await _0x27e6b0(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c);break;case _0xdd22df['SentenceSplitter']:_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0x863)]&&_0x9fa33a(0x618)==typeof _0x19ae4c&&await _0x526a30(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575['type']===_0x4a6d79[_0x9fa33a(0xb37)]&&_0x19ae4c instanceof Array&&await _0x526a30(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c);break;case _0xdd22df[_0x9fa33a(0xa63)]:_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79['Text']&&_0x9fa33a(0x618)==typeof _0x19ae4c&&await _0x4f0821(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0xb37)]&&_0x19ae4c instanceof Array&&await _0x4f0821(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0x8cf)]&&_0x19ae4c instanceof Array&&await _0x4f0821(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0x2f4)]&&await _0x4f0821(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c);break;case _0xdd22df[_0x9fa33a(0x306)]:_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79['Text']&&_0x9fa33a(0x618)==typeof _0x19ae4c&&await _0x3dab19(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c),_0x287575[_0x9fa33a(0x8c9)]===_0x4a6d79[_0x9fa33a(0xb37)]&&_0x19ae4c instanceof Array&&await _0x3dab19(_0x257b48,_0x3075b1,_0x19ae4c,_0x2f2ca2,_0x36b976,_0x3e6f1c);}}}function _0x5bd3ed(_0x4b6e5c,_0x1729d3){const _0x34eaf4=_0x3f1d19;return _0x1729d3[_0x34eaf4(0x1e0)](_0x204d5e=>_0x204d5e[_0x34eaf4(0x217)]?.[_0x34eaf4(0x658)](_0xfb8341=>_0xfb8341[_0x34eaf4(0x88f)]===_0x4b6e5c[_0x34eaf4(0x88f)]))[_0x34eaf4(0x744)];}async function _0x49ea43(_0x4cba55,_0x419a7d,_0x3957ba,_0x12a79b,_0x119242,_0x35c30d,_0x44236a){const _0x202bb0=_0x3f1d19;try{let _0x14cff7;switch(_0x119242[_0x202bb0(0x8c9)]){case _0xdd22df[_0x202bb0(0x8a5)]:const _0x5dec15=_0x44236a[_0x202bb0(0x164)][_0x202bb0(0xa53)](_0x119242['id']);_0x14cff7=await _0x5dec15[_0x202bb0(0x459)](_0x3957ba);break;case _0xdd22df[_0x202bb0(0xad5)]:const _0x2dab24=_0x44236a[_0x202bb0(0x164)][_0x202bb0(0xb55)](_0x119242['id']);_0x14cff7=await _0x2dab24[_0x202bb0(0x459)](_0x3957ba);case _0xdd22df['Upload']:const _0x225b56=_0x3957ba[_0x202bb0(0x44f)]('/')[_0x202bb0(0x875)]();if(!_0x225b56)throw new Error('Failed\x20to\x20get\x20filename');const _0x456c46=_0x3957ba[_0x202bb0(0x6d7)](_0x225b56,''),_0x49c238=Buffer[_0x202bb0(0x663)](_0x12a79b,_0x202bb0(0x8ed));if(_0x14cff7=new File([_0x49c238],_0x225b56),!_0x44236a[_0x202bb0(0x957)])throw new Error(_0x202bb0(0x9a5));await _0x44236a[_0x202bb0(0x957)][_0x202bb0(0x39f)](_0x14cff7,_0x456c46);}if(!_0x14cff7)throw new Error(_0x202bb0(0x26c));await _0x4cf7fe(_0x4cba55,_0x419a7d,{'file':_0x14cff7,'pathName':_0x3957ba},_0x119242,structuredClone(_0x35c30d),_0x44236a);}catch(_0xbad8d7){console[_0x202bb0(0x9e0)](_0x202bb0(0x8b6),_0xbad8d7);}}async function _0x1871ee(_0x3cc973,_0x341c57,_0x552e4c,_0x4b70cf,_0x4e7e05,_0x572e2f,_0x44d497,_0x26faaa){const _0x5ed469=_0x3f1d19,_0x22ffe3=Date['now'](),_0x212492=new Set();if(_0x4b70cf instanceof Array){for(const _0x4bfabc of _0x4b70cf)await _0x380d04(_0x4bfabc['content'],_0x572e2f,_0x212492,_0x26faaa[_0x5ed469(0x1fa)]);}else await _0x380d04(_0x4b70cf,_0x572e2f,_0x212492,_0x26faaa['nlpLibraryConnector']);await _0x31083d['trace']({'jobType':_0x217459['Retrieve'],'type':_0xe13e3c[_0x5ed469(0xa49)],'jobId':_0x341c57,'threadId':_0x552e4c,'blockId':_0x572e2f['id'],'traceLevel':_0x5b73c0[_0x5ed469(0x676)],'startTime':_0x22ffe3,'timestamp':Date['now'](),'status':_0x5ed469(0x656),'content':_0x4b70cf,'entitiesExtracted':Array['from'](_0x212492),'totalEntities':_0x212492[_0x5ed469(0x277)]}),await _0x4cac20(_0x3cc973,_0x341c57,_0x552e4c,_0x212492,_0x4e7e05,_0x572e2f,_0x44d497,_0x26faaa);}async function _0x380d04(_0xcb9bfc,_0x44ec3a,_0x776456,_0x2e3e9e){const _0x456960=_0x3f1d19,_0x382a98=await _0x2e3e9e[_0x456960(0x189)](_0xcb9bfc,{'ner':_0x44ec3a['attributes'][_0x456960(0x99e)],'noun':_0x44ec3a[_0x456960(0x936)][_0x456960(0x670)],'propn':_0x44ec3a[_0x456960(0x936)][_0x456960(0x548)],'verb':_0x44ec3a[_0x456960(0x936)][_0x456960(0x85e)]});for(const _0x30ba2b of _0x382a98)_0x776456['add'](_0x30ba2b);}async function _0x1e1dd2(_0x21178a,_0x1ab73e,_0xa55bab,_0x3cdac2,_0x3e33f2,_0x25e55e,_0x191fe8,_0x362b5b){const _0x72bd70=_0x3f1d19,_0x91e833=Date['now']();if(_0x25e55e[_0x72bd70(0x557)]||(_0x25e55e[_0x72bd70(0x557)]={}),_0x3cdac2 instanceof Array?(_0x25e55e['accumulated'][_0x72bd70(0x186)]||(_0x25e55e[_0x72bd70(0x557)][_0x72bd70(0x186)]=[]),_0x25e55e[_0x72bd70(0x557)][_0x72bd70(0x186)][_0x72bd70(0x24b)](..._0x3cdac2)):_0x3cdac2 instanceof Set?_0x25e55e[_0x72bd70(0x557)][_0x72bd70(0x3d0)]=_0x3cdac2:_0x25e55e['accumulated'][_0x72bd70(0x448)]=_0x3cdac2,_0x25e55e[_0x72bd70(0x81c)]=_0x25e55e['timesCalled']?_0x25e55e[_0x72bd70(0x81c)]+0x1:0x1,_0x26f043(_0x25e55e,_0x191fe8[_0x72bd70(0x351)])>_0x25e55e[_0x72bd70(0x81c)])return;if(!_0x25e55e[_0x72bd70(0x557)][_0x72bd70(0x448)]&&!_0x25e55e['accumulated']['results']||!_0x25e55e[_0x72bd70(0x557)][_0x72bd70(0x3d0)])throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x592b96=_0x362b5b[_0x72bd70(0x164)][_0x72bd70(0x543)](_0x25e55e['id'])[_0x72bd70(0x9ba)](Array[_0x72bd70(0x663)](_0x25e55e[_0x72bd70(0x557)][_0x72bd70(0x3d0)]),_0x25e55e[_0x72bd70(0x936)][_0x72bd70(0xa38)],_0x25e55e[_0x72bd70(0x936)][_0x72bd70(0x5ec)]);let _0x1c06e9=[];for(const _0x2a778c in _0x592b96){const _0x4bbcf3=_0x592b96[_0x2a778c];for(const _0x31cdc0 of _0x4bbcf3){let _0x2df7e8=0x0;if(_0x25e55e[_0x72bd70(0x557)][_0x72bd70(0x448)]&&(_0x2df7e8=await _0x362b5b['nlpLibraryConnector'][_0x72bd70(0xa45)](_0x25e55e['accumulated'][_0x72bd70(0x448)],_0x31cdc0)),_0x25e55e[_0x72bd70(0x557)][_0x72bd70(0x186)]){for(const _0xb56093 of _0x25e55e[_0x72bd70(0x557)]['results'])_0x2df7e8=Math[_0x72bd70(0x920)](_0x2df7e8,await _0x362b5b[_0x72bd70(0x1fa)][_0x72bd70(0xa45)](_0xb56093[_0x72bd70(0x861)],_0x31cdc0));}_0x2df7e8<_0x25e55e[_0x72bd70(0x936)]['minRelevance']||_0x1c06e9[_0x72bd70(0x24b)]({'content':_0x31cdc0,'relevance':_0x2df7e8,'pathName':_0x2a778c});}}_0x1c06e9=_0x1c06e9[_0x72bd70(0x62c)]((_0x3d1b06,_0x10520d)=>_0x10520d['relevance']-_0x3d1b06[_0x72bd70(0x1e1)])[_0x72bd70(0x74d)](0x0,_0x25e55e[_0x72bd70(0x936)][_0x72bd70(0x2ce)]),await _0x31083d['trace']({'jobType':_0x217459['Retrieve'],'type':_0xe13e3c[_0x72bd70(0x9b9)],'jobId':_0x1ab73e,'threadId':_0xa55bab,'blockId':_0x25e55e['id'],'traceLevel':_0x5b73c0[_0x72bd70(0x676)],'timestamp':Date[_0x72bd70(0x64c)](),'startTime':_0x91e833,'status':_0x72bd70(0x656),'content':_0x3cdac2,'topResults':_0x1c06e9,'numResults':_0x1c06e9[_0x72bd70(0x744)]}),await _0x4cac20(_0x21178a,_0x1ab73e,_0xa55bab,_0x1c06e9,_0x3e33f2,_0x25e55e,_0x191fe8,_0x362b5b);}async function _0x1cd73d(_0x543f98,_0x1f9e0b,_0x2d6cec,_0x4da9bb,_0x5a7f9e,_0x486b6e,_0x37f970,_0x4e0d02){const _0x3091a0=_0x3f1d19,_0x28b4b6=_0x4e0d02['models'][_0x3091a0(0x4d3)](_0x39d946=>_0x39d946['id']===_0x486b6e['id']);if(!_0x28b4b6)throw new Error('Model\x20not\x20found');let _0x342327='';switch(_0x342327=_0x4da9bb instanceof Array?_0x4da9bb[_0x3091a0(0x865)](_0x432630=>_0x432630['content'])[_0x3091a0(0x4b3)](',\x20'):_0x4da9bb,_0x28b4b6[_0x3091a0(0x945)]){case _0x1c7ce5[_0x3091a0(0x693)][_0x3091a0(0x863)]:await async function(_0x4984da,_0x4bb2d0,_0x2d4b65,_0x48a3e0,_0x153655,_0x3cfaae,_0x1bdb9a,_0x11253f,_0x4b9764){const _0x291038=_0x3091a0,_0x5ddc3d=Date[_0x291038(0x64c)](),_0x2ad9a1=await fetch(_0x3af887['apiUrl']+_0x291038(0x972),{'method':_0x291038(0x3e9),'headers':{'Content-Type':_0x291038(0x8a6),'x-vendor-id':_0x4984da},'body':JSON['stringify']({'messages':[{'role':'user','content':_0x48a3e0}],'model':_0x3cfaae['id']})}),_0xcefabc=(await _0x2ad9a1[_0x291038(0x430)]())[_0x291038(0x683)][0x0][_0x291038(0x759)][_0x291038(0x861)];await _0x31083d[_0x291038(0x93b)]({'jobType':_0x217459[_0x291038(0x212)],'type':_0xe13e3c[_0x291038(0xacf)],'jobId':_0x4bb2d0,'threadId':_0x2d4b65,'blockId':_0x1bdb9a['id'],'traceLevel':_0x5b73c0[_0x291038(0x676)],'startTime':_0x5ddc3d,'timestamp':Date[_0x291038(0x64c)](),'status':_0x291038(0x656),'modelName':_0x3cfaae['id'],'content':_0x48a3e0,'newPrompt':_0xcefabc,'inputType':_0x3cfaae[_0x291038(0x5a7)],'outputType':_0x3cfaae[_0x291038(0x945)]}),await _0x4cac20(_0x4984da,_0x4bb2d0,_0x2d4b65,_0xcefabc,_0x153655,_0x1bdb9a,_0x11253f,_0x4b9764);}(_0x543f98,_0x1f9e0b,_0x2d6cec,_0x342327,_0x5a7f9e,_0x28b4b6,_0x486b6e,_0x37f970,_0x4e0d02);break;case _0x1c7ce5[_0x3091a0(0x693)][_0x3091a0(0x8cf)]:await async function(_0x7d8f81,_0x57efcb,_0x33fe59,_0x4594b4,_0x28f18f,_0x68ae5,_0x576503,_0x1235a1,_0x38667a){const _0x68d180=_0x3091a0,_0x262546=Date['now'](),_0x2f42e3=await fetch(_0x3af887['apiUrl']+_0x68d180(0x5d4),{'method':_0x68d180(0x3e9),'headers':{'Content-Type':_0x68d180(0x8a6),'x-vendor-id':_0x7d8f81},'body':JSON[_0x68d180(0x300)]({'input':_0x4594b4,'model':_0x68ae5['id']})}),_0x20cad4=(await _0x2f42e3[_0x68d180(0x430)]())[_0x68d180(0xa34)][0x0][_0x68d180(0x2bb)];await _0x31083d[_0x68d180(0x93b)]({'jobType':_0x217459[_0x68d180(0x212)],'type':_0xe13e3c['ModelVector'],'jobId':_0x57efcb,'threadId':_0x33fe59,'blockId':_0x576503['id'],'traceLevel':_0x5b73c0[_0x68d180(0x676)],'startTime':_0x262546,'timestamp':Date['now'](),'status':'success','modelName':_0x68ae5['id'],'content':_0x4594b4,'totalVectors':_0x20cad4['length']}),await _0x4cac20(_0x7d8f81,_0x57efcb,_0x33fe59,_0x20cad4,_0x28f18f,_0x576503,_0x1235a1,_0x38667a);}(_0x543f98,_0x1f9e0b,_0x2d6cec,_0x342327,_0x5a7f9e,_0x28b4b6,_0x486b6e,_0x37f970,_0x4e0d02);}}async function _0x2f31f1(_0x49846f,_0x15d135,_0x59134b,_0x71b5d7,_0x54e538,_0x528ac4,_0x48f374,_0x3da610){const _0x3e578e=_0x3f1d19,_0x1f9737=Date[_0x3e578e(0x64c)]();if(_0x528ac4[_0x3e578e(0x557)]||(_0x528ac4[_0x3e578e(0x557)]={}),_0x71b5d7 instanceof Array?(_0x528ac4[_0x3e578e(0x557)][_0x3e578e(0x186)]||(_0x528ac4[_0x3e578e(0x557)]['results']=[]),_0x528ac4[_0x3e578e(0x557)][_0x3e578e(0x186)][_0x3e578e(0x24b)](..._0x71b5d7)):_0x528ac4[_0x3e578e(0x557)]['prompt']=_0x71b5d7,_0x528ac4[_0x3e578e(0x81c)]=_0x528ac4[_0x3e578e(0x81c)]?_0x528ac4[_0x3e578e(0x81c)]+0x1:0x1,_0x26f043(_0x528ac4,_0x48f374['retrieveBlocks'])>_0x528ac4[_0x3e578e(0x81c)])return;if(!_0x528ac4['accumulated'][_0x3e578e(0x448)]||!_0x528ac4[_0x3e578e(0x557)]['results'])throw new Error(_0x3e578e(0x513));for(const _0x56b564 of _0x528ac4[_0x3e578e(0x557)]['results'])_0x56b564[_0x3e578e(0x1e1)]=await _0x3da610[_0x3e578e(0x1fa)][_0x3e578e(0xa45)](_0x528ac4[_0x3e578e(0x557)][_0x3e578e(0x448)],_0x56b564[_0x3e578e(0x861)]);const _0x17c660=_0x528ac4['accumulated'][_0x3e578e(0x186)][_0x3e578e(0x1e0)](_0x473488=>_0x473488[_0x3e578e(0x1e1)]>_0x528ac4[_0x3e578e(0x936)][_0x3e578e(0x168)])[_0x3e578e(0x62c)]((_0x286656,_0x1d7749)=>_0x1d7749[_0x3e578e(0x1e1)]-_0x286656[_0x3e578e(0x1e1)])[_0x3e578e(0x74d)](0x0,_0x528ac4[_0x3e578e(0x936)][_0x3e578e(0x2ce)]);await _0x31083d['trace']({'jobType':_0x217459[_0x3e578e(0x212)],'type':_0xe13e3c[_0x3e578e(0x9c2)],'jobId':_0x15d135,'threadId':_0x59134b,'blockId':_0x528ac4['id'],'traceLevel':_0x5b73c0[_0x3e578e(0x676)],'startTime':_0x1f9737,'timestamp':Date[_0x3e578e(0x64c)](),'status':_0x3e578e(0x656),'inputResults':_0x528ac4['accumulated'][_0x3e578e(0x186)],'rerankedResults':_0x17c660}),await _0x4cac20(_0x49846f,_0x15d135,_0x59134b,_0x17c660,_0x54e538,_0x528ac4,_0x48f374,_0x3da610);}async function _0x23f7ee(_0x5d595c,_0x206b16,_0x518b1e,_0x1da963,_0x1effb1,_0x1985bf,_0x250e38,_0x773821){const _0x4faf32=_0x3f1d19,_0x16cddc=Date[_0x4faf32(0x64c)]();if(_0x1985bf[_0x4faf32(0x557)]||(_0x1985bf[_0x4faf32(0x557)]={}),_0x1da963 instanceof Array?_0x1985bf[_0x4faf32(0x557)]['vector']=_0x1da963:_0x1985bf[_0x4faf32(0x557)][_0x4faf32(0x861)]=_0x1da963,_0x1985bf[_0x4faf32(0x81c)]=_0x1985bf[_0x4faf32(0x81c)]?_0x1985bf[_0x4faf32(0x81c)]+0x1:0x1,!(_0x26f043(_0x1985bf,_0x250e38[_0x4faf32(0x351)])>_0x1985bf['timesCalled'])){if(_0x4faf32(0x5dd)===_0x1985bf['id']){if(!_0x1985bf['accumulated']['vector'])throw new Error(_0x4faf32(0x541));if(!_0x773821[_0x4faf32(0x15e)])throw new Error(_0x4faf32(0xaeb));const _0x4e208b=_0x1f199c(_0x5d595c,_0x250e38);let _0x3cdd53=await _0x773821[_0x4faf32(0x15e)]?.['queryCollection'](_0x4e208b,_0x250e38['id'],_0x1985bf[_0x4faf32(0x557)]['vector'],_0x1985bf['attributes'][_0x4faf32(0x2ce)]);_0x3cdd53=_0x3cdd53[_0x4faf32(0x1e0)](_0x40bc95=>_0x40bc95[_0x4faf32(0x1e1)]>_0x1985bf['attributes']['minRelevance'])||[];const _0x82572d=[];for(const _0x190904 of _0x3cdd53){if(!_0x773821[_0x4faf32(0x957)])throw new Error(_0x4faf32(0x51a));if(void 0x0===_0x190904[_0x4faf32(0x266)]||void 0x0===_0x190904[_0x4faf32(0x744)])throw new Error('Missing\x20index');const _0x47a99a=await _0x773821['objectStoreConnector'][_0x4faf32(0x459)](_0x190904['pathName']);let _0x18b65d='';if(_0x47a99a[_0x4faf32(0x8c9)][_0x4faf32(0xaf7)](_0x4faf32(0x57f))||_0x12ab74(_0x47a99a[_0x4faf32(0xb0f)],_0x11b3c8))_0x18b65d=await _0x47a99a[_0x4faf32(0x571)]();else{if(!_0x773821['documentParserConnector'][_0x4faf32(0x5b7)](_0x47a99a))throw new Error(_0x4faf32(0x97e)+_0x47a99a[_0x4faf32(0x8c9)]+'\x20-\x20'+_0x47a99a['name']);_0x18b65d=await _0x773821[_0x4faf32(0xa6b)]['parse'](_0x47a99a);}_0x82572d[_0x4faf32(0x24b)]({'pathName':_0x190904[_0x4faf32(0xa32)],'content':_0x18b65d[_0x4faf32(0x381)](_0x190904[_0x4faf32(0x266)],_0x190904['start']+_0x190904['length']),'relevance':_0x190904[_0x4faf32(0x1e1)]});}await _0x4cac20(_0x5d595c,_0x206b16,_0x518b1e,_0x82572d,_0x1effb1,_0x1985bf,_0x250e38,_0x773821);}else{if(!_0x1985bf[_0x4faf32(0x557)][_0x4faf32(0x3a1)]||!_0x1985bf['accumulated'][_0x4faf32(0x861)])throw new Error(_0x4faf32(0x541));const _0x219772=await _0x773821[_0x4faf32(0x1fa)][_0x4faf32(0x189)](_0x1985bf[_0x4faf32(0x557)][_0x4faf32(0x861)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x4cebff=_0x773821['contentMediator']['getVectorDatabase'](_0x1985bf['id'])['search'](_0x219772,_0x1985bf['accumulated'][_0x4faf32(0x3a1)],_0x1985bf[_0x4faf32(0x936)][_0x4faf32(0x2ce)],_0x1985bf[_0x4faf32(0x936)][_0x4faf32(0x168)],_0x1985bf[_0x4faf32(0x936)]['contentSize']);await _0x31083d[_0x4faf32(0x93b)]({'jobType':_0x217459[_0x4faf32(0x212)],'type':_0xe13e3c[_0x4faf32(0x470)],'jobId':_0x206b16,'threadId':_0x518b1e,'blockId':_0x1985bf['id'],'traceLevel':_0x5b73c0[_0x4faf32(0x676)],'startTime':_0x16cddc,'timestamp':Date[_0x4faf32(0x64c)](),'status':_0x4faf32(0x656),'topResults':_0x4cebff,'numResults':_0x4cebff[_0x4faf32(0x744)]}),await _0x4cac20(_0x5d595c,_0x206b16,_0x518b1e,_0x4cebff,_0x1effb1,_0x1985bf,_0x250e38,_0x773821);}}}async function _0x4cac20(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x2985c7,_0x48f2e4,_0x51957f){const _0x130012=_0x3f1d19;for(const _0xcbbb81 of _0x2985c7['links']||[]){const _0x4835c6=_0x48f2e4[_0x130012(0x351)][_0x130012(0x4d3)](_0x18d0e=>_0x18d0e[_0x130012(0x88f)]===_0xcbbb81[_0x130012(0x88f)]);if(_0x4835c6)switch(_0x4835c6[_0x130012(0x8c9)]){case _0xdd22df[_0x130012(0x724)]:_0xcbbb81['type']===_0x4a6d79[_0x130012(0x270)]&&_0xc8d0f2 instanceof Array&&_0x333806[_0x130012(0x499)][_0x130012(0x24b)](..._0xc8d0f2);break;case _0xdd22df[_0x130012(0x14a)]:if(_0xcbbb81[_0x130012(0x8c9)]===_0x4a6d79[_0x130012(0x863)]&&'string'==typeof _0xc8d0f2){if(!_0x48f2e4['modelId'])throw new Error('Model\x20ID\x20is\x20required\x20for\x20Embed\x20block');const _0x439c47={'type':_0xdd22df['Model'],'id':_0x48f2e4[_0x130012(0x949)],'uid':(0x0,_0x54796e['v4'])(),'links':_0x4835c6[_0x130012(0x217)]};await _0x1cd73d(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x439c47,_0x48f2e4,_0x51957f);}break;case _0xdd22df[_0x130012(0xa49)]:_0xcbbb81[_0x130012(0x8c9)]===_0x4a6d79[_0x130012(0x863)]&&'string'==typeof _0xc8d0f2&&await _0x1871ee(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x4835c6,_0x48f2e4,_0x51957f),_0xcbbb81[_0x130012(0x8c9)]===_0x4a6d79['Search']&&_0xc8d0f2 instanceof Array&&await _0x1871ee(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x4835c6,_0x48f2e4,_0x51957f);break;case _0xdd22df[_0x130012(0x394)]:_0xcbbb81[_0x130012(0x8c9)]===_0x4a6d79[_0x130012(0x863)]&&'string'==typeof _0xc8d0f2&&await _0x1e1dd2(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x4835c6,_0x48f2e4,_0x51957f),_0xcbbb81['type']===_0x4a6d79[_0x130012(0x270)]&&_0xc8d0f2 instanceof Array&&await _0x1e1dd2(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x4835c6,_0x48f2e4,_0x51957f),_0xcbbb81[_0x130012(0x8c9)]===_0x4a6d79[_0x130012(0x265)]&&_0xc8d0f2 instanceof Set&&await _0x1e1dd2(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x4835c6,_0x48f2e4,_0x51957f);break;case _0xdd22df['Model']:_0xcbbb81[_0x130012(0x8c9)]===_0x4a6d79[_0x130012(0x863)]&&'string'==typeof _0xc8d0f2&&await _0x1cd73d(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x4835c6,_0x48f2e4,_0x51957f),_0xcbbb81[_0x130012(0x8c9)]===_0x4a6d79['Search']&&_0xc8d0f2 instanceof Array&&await _0x1cd73d(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x4835c6,_0x48f2e4,_0x51957f);break;case _0xdd22df[_0x130012(0x9c2)]:_0xcbbb81[_0x130012(0x8c9)]===_0x4a6d79[_0x130012(0x863)]&&_0x130012(0x618)==typeof _0xc8d0f2&&await _0x2f31f1(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x4835c6,_0x48f2e4,_0x51957f),_0xcbbb81['type']===_0x4a6d79[_0x130012(0x270)]&&_0xc8d0f2 instanceof Array&&await _0x2f31f1(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x4835c6,_0x48f2e4,_0x51957f);break;case _0xdd22df[_0x130012(0xa63)]:_0xcbbb81[_0x130012(0x8c9)]===_0x4a6d79[_0x130012(0x863)]&&_0x130012(0x618)==typeof _0xc8d0f2&&await _0x23f7ee(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x4835c6,_0x48f2e4,_0x51957f),_0xcbbb81['type']===_0x4a6d79[_0x130012(0x8cf)]&&_0xc8d0f2 instanceof Array&&await _0x23f7ee(_0x8af019,_0x4da398,_0x51b1fa,_0xc8d0f2,_0x333806,_0x4835c6,_0x48f2e4,_0x51957f);}}}function _0x26f043(_0x1416be,_0x32ced1){const _0x1bf10e=_0x3f1d19;return _0x32ced1[_0x1bf10e(0x1e0)](_0x481a52=>_0x481a52[_0x1bf10e(0x217)]?.[_0x1bf10e(0x658)](_0x2e6347=>_0x2e6347[_0x1bf10e(0x88f)]===_0x1416be[_0x1bf10e(0x88f)]))['length'];}async function _0x2ebe32(_0x20c629,_0xb2d135,_0x552f09,_0x13fa57,_0x968c5,_0x2d2797,_0x2b5254){const _0x3a882a=_0x3f1d19,_0x3e6a90={'type':_0x3a882a(0x448),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x239cb4;await _0x4cac20(_0x20c629,_0xb2d135,_0x552f09,_0x13fa57,_0x3e6a90,_0x968c5,structuredClone(_0x2d2797),_0x2b5254),_0x3e6a90[_0x3a882a(0x499)][_0x3a882a(0x9ed)]((_0x568b04,_0x87dcb4)=>_0x568b04+_0x87dcb4['content']['length'],0x0)>_0x55036d&&(_0x239cb4=Math[_0x3a882a(0x6cf)](_0x55036d/_0x3e6a90['context'][_0x3a882a(0x744)])),_0x3e6a90[_0x3a882a(0x68e)]=_0x3a882a(0x230)+_0x3e6a90[_0x3a882a(0x499)][_0x3a882a(0x865)](_0x3ceec1=>_0x3a882a(0x9d9)+_0x3ceec1[_0x3a882a(0xa32)]+':\x20'+_0x3ceec1['content'][_0x3a882a(0x381)](0x0,_0x239cb4))['join']('\x0a');}catch(_0x1efcb6){console[_0x3a882a(0x9e0)](_0x3a882a(0x139),_0x1efcb6);}return _0x3e6a90;}class _0x58d2a9 extends _0xe14068{[_0x3f1d19(0x164)];['generativeAIWorkerConnectors'];['speechAIWorkerConnectors'];['objectStoreConnector'];[_0x3f1d19(0xa6b)];[_0x3f1d19(0xabc)];['nlpLibraryConnector'];[_0x3f1d19(0x222)];['aiSearchConnector'];[_0x3f1d19(0x83f)];['ragConnectors'];[_0x3f1d19(0x705)];[_0x3f1d19(0x605)]=new Map();[_0x3f1d19(0xb1c)]=_0x3c9225;[_0x3f1d19(0x34c)];['prompts']=0x0;[_0x3f1d19(0x576)]=0x0;[_0x3f1d19(0x50f)]=!0x1;constructor(_0x1edc22,_0x2ea940,_0x53ba4a,_0x1e03f5,_0x571f02,_0x575b4f,_0x2ac0bb,_0x5bd9c5,_0x4eff65,_0x30840a,_0xa23b7d,_0xa07997,_0x3b13f5,_0x4ae912,_0xd3d68d){const _0x3af118=_0x3f1d19;super(_0x1edc22,_0x2ea940,_0x53ba4a),this[_0x3af118(0x164)]=_0x1e03f5,this['generativeAIWorkerConnectors']=_0x571f02,this['speechAIWorkerConnectors']=_0x575b4f,this['objectStoreConnector']=_0x2ac0bb,this[_0x3af118(0xa6b)]=_0x5bd9c5,this[_0x3af118(0xabc)]=_0x4eff65,this[_0x3af118(0x1fa)]=_0x30840a,this[_0x3af118(0x222)]=_0xa23b7d,this[_0x3af118(0x7f3)]=_0xa07997,this[_0x3af118(0x83f)]=_0x3b13f5,this[_0x3af118(0x7e2)]=_0x4ae912,this[_0x3af118(0x705)]=_0xd3d68d;}async[_0x3f1d19(0x31c)](){const _0x30cbaf=_0x3f1d19;for(const _0x3d1710 of this[_0x30cbaf(0x9f5)])await _0x3d1710[_0x30cbaf(0x87b)]();this['dataStores'][_0x30cbaf(0xa0d)](_0x42794e=>_0x42794e[_0x30cbaf(0x87c)](this['label'])),this[_0x30cbaf(0x34c)]&&(clearTimeout(this['debounceStats']),delete this[_0x30cbaf(0x34c)]),super[_0x30cbaf(0x31c)]();}async[_0x3f1d19(0xada)](_0x33794a=!0x1){const _0x379ee1=_0x3f1d19;if(this[_0x379ee1(0x50f)])super[_0x379ee1(0xada)]();else{_0x576b91[_0x379ee1(0x313)](_0x379ee1(0x5fa),this['label']);try{for(const _0x4d0b30 of this[_0x379ee1(0x9f5)])await _0x4d0b30[_0x379ee1(0x6e3)](this[_0x379ee1(0x792)],this[_0x379ee1(0xb1c)]);}catch(_0x1e237f){return this[_0x379ee1(0xada)](_0x33794a);}this[_0x379ee1(0x50f)]=!0x0,this['sendStats'](),super['open'](),_0x576b91[_0x379ee1(0x313)](_0x379ee1(0x7eb),this['label']);}}[_0x3f1d19(0xa91)](){const _0x5e9aed=_0x3f1d19;this[_0x5e9aed(0x446)]=0x0,this[_0x5e9aed(0x576)]=0x0,this[_0x5e9aed(0x7e4)](),super['reset']();}['getBid'](){const _0x34c931=_0x3f1d19;return this[_0x34c931(0x7e4)](),this['getCoresFromCapacityReport']();}['compileStats'](_0x123b62,_0xe38a84,_0x50d554){const _0x318709=_0x3f1d19,{outputTokens:_0x2dc7fb=0x0,output:_0x5b8c95=''}=_0x123b62,_0xcd524e=_0x2dc7fb/((_0x50d554-_0xe38a84)/0x3e8);this[_0x318709(0x446)]+=0x1,this[_0x318709(0x576)]+=_0x2dc7fb,this[_0x318709(0x5f3)](_0xcd524e,_0x2dc7fb),this[_0x318709(0x7e4)]();}[_0x3f1d19(0x94e)](_0x1072a1,_0x42cd2e){const _0x330e96=_0x3f1d19;return _0x1072a1['output']=_0x1072a1[_0x330e96(0x68e)]??'',{'type':_0x330e96(0x448),'output':_0x330e96(0x618)==typeof _0x1072a1[_0x330e96(0x68e)]&&'string'==typeof _0x42cd2e[_0x330e96(0x68e)]?_0x1072a1[_0x330e96(0x68e)]+_0x42cd2e[_0x330e96(0x68e)]:_0x42cd2e['output'],'outputTokens':_0x42cd2e[_0x330e96(0xb64)]??_0x1072a1[_0x330e96(0xb64)],'inputTokens':_0x42cd2e[_0x330e96(0x84e)]??_0x1072a1['inputTokens']};}async['internalProcessJob'](_0x1a53e9,_0x4240cc){const _0x45171e=_0x3f1d19;if(_0x45171e(0x448)===_0x4240cc[_0x45171e(0x8c9)]){const _0x2195da=await _0x43e47a[_0x45171e(0x2d8)](_0x4240cc[_0x45171e(0x3db)],_0x4240cc[_0x45171e(0x239)]),_0x471739=_0x2195da['blocks']['find'](_0x4a6420=>_0x4a6420[_0x45171e(0x8c9)]===_0x201fdb[_0x45171e(0x19a)]||_0x4a6420[_0x45171e(0x8c9)]===_0x201fdb[_0x45171e(0x75e)]);return await _0x53c71d(_0x4240cc['jobId']??_0x1a53e9,_0x4240cc,_0x471739,_0x2195da[_0x45171e(0x37f)],{'documentParserConnector':this[_0x45171e(0xa6b)],'fileConnector':this[_0x45171e(0xabc)],'nlpLibraryConnector':this[_0x45171e(0x1fa)],'generativeAIWorkerConnectors':this[_0x45171e(0x9f5)],'models':Array[_0x45171e(0x663)](this[_0x45171e(0xb1c)][_0x45171e(0x9b6)]()),'contentMediator':this[_0x45171e(0x164)],'searchConnector':this[_0x45171e(0x222)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x45171e(0x83f)]});}if(_0x45171e(0x9b4)===_0x4240cc[_0x45171e(0x8c9)])return await _0x4f4194(_0x4240cc,{'documentParserConnector':this[_0x45171e(0xa6b)],'fileConnector':this[_0x45171e(0xabc)],'nlpLibraryConnector':this[_0x45171e(0x1fa)],'generativeAIWorkerConnectors':this[_0x45171e(0x9f5)],'models':Array[_0x45171e(0x663)](this[_0x45171e(0xb1c)][_0x45171e(0x9b6)]()),'contentMediator':this[_0x45171e(0x164)],'searchConnector':this[_0x45171e(0x222)],'aiSearchConnector':this[_0x45171e(0x7f3)],'queryFileConnector':this[_0x45171e(0x83f)]});if(_0x45171e(0xb39)===_0x4240cc[_0x45171e(0x8c9)])return await _0x1baa38(_0x4240cc[_0x45171e(0x25a)]??_0x1a53e9,_0x4240cc,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x45171e(0xabc)],'nlpLibraryConnector':this[_0x45171e(0x1fa)],'generativeAIWorkerConnectors':this[_0x45171e(0x9f5)],'models':Array['from'](this[_0x45171e(0xb1c)][_0x45171e(0x9b6)]()),'contentMediator':this[_0x45171e(0x164)],'searchConnector':this[_0x45171e(0x222)],'aiSearchConnector':this[_0x45171e(0x7f3)],'queryFileConnector':this[_0x45171e(0x83f)]});if('rate'===_0x4240cc[_0x45171e(0x8c9)])return await _0x31083d[_0x45171e(0x93b)]({'jobType':_0x217459[_0x45171e(0xa6c)],'type':_0x5e2cb3[_0x45171e(0x162)],'jobId':_0x4240cc['jobId'],'threadId':_0x4240cc[_0x45171e(0x36c)],'traceLevel':_0x5b73c0['Info'],'startTime':Date[_0x45171e(0x64c)](),'timestamp':Date[_0x45171e(0x64c)](),'status':_0x45171e(0x656),'rating':_0x4240cc[_0x45171e(0x9d6)],'feedback':_0x4240cc[_0x45171e(0x196)]}),{'type':_0x45171e(0xa1e),'status':_0x1c7ce5[_0x45171e(0xb66)][_0x45171e(0x832)]};if(_0x45171e(0x653)===_0x4240cc[_0x45171e(0x8c9)])return await _0x269c3e(_0x4240cc,{'documentParserConnector':this[_0x45171e(0xa6b)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x45171e(0x1fa)],'generativeAIWorkerConnectors':this[_0x45171e(0x9f5)],'models':Array[_0x45171e(0x663)](this[_0x45171e(0xb1c)][_0x45171e(0x9b6)]()),'contentMediator':this[_0x45171e(0x164)],'searchConnector':this[_0x45171e(0x222)],'aiSearchConnector':this[_0x45171e(0x7f3)],'queryFileConnector':this['queryFileConnector']});if('speech-create'===_0x4240cc[_0x45171e(0x8c9)]){const _0x593365=_0x3c9225['get'](_0x4240cc['model']);if(!_0x593365)throw new Error('No\x20model\x20available');const _0x31f989=this[_0x45171e(0x47b)][_0x45171e(0x4d3)](_0x285542=>_0x285542[_0x45171e(0x60e)]()===_0x593365[_0x45171e(0xab9)]);if(!_0x31f989)throw new Error(_0x45171e(0x7a8));return{'type':_0x45171e(0x884),'audio':await _0x31f989[_0x45171e(0x4d2)](_0x4240cc[_0x45171e(0x70e)],_0x4240cc[_0x45171e(0x571)],_0x4240cc[_0x45171e(0x837)],_0x4240cc[_0x45171e(0x789)])};}if(_0x45171e(0x22d)===_0x4240cc[_0x45171e(0x8c9)]){const _0x188ec7=await _0x43e47a['getWorkflow'](_0x4240cc['vendorId'],_0x4240cc['workflowId']),_0x2c135d=_0x188ec7[_0x45171e(0x37f)][_0x45171e(0x4d3)](_0x55da5b=>_0x55da5b[_0x45171e(0x8c9)]===_0x201fdb['InputStream']),_0x3803b6=_0x2c135d[_0x45171e(0x217)]?.[_0x45171e(0x4d3)](_0x201543=>_0x201543['type']===_0x4a6d79['Audio']),_0x4755f7=_0x188ec7[_0x45171e(0x37f)][_0x45171e(0x4d3)](_0x45c79e=>_0x45c79e['type']===_0x201fdb['Agent']&&_0x45c79e[_0x45171e(0x88f)]===_0x3803b6[_0x45171e(0x88f)]),_0x114df4=_0x3c9225[_0x45171e(0x459)](_0x4755f7[_0x45171e(0x949)]),_0xa4eae5=_0x188ec7[_0x45171e(0x37f)][_0x45171e(0x1e0)](_0x14cdad=>_0x14cdad[_0x45171e(0x217)]?.[_0x45171e(0x658)](_0x454670=>_0x454670[_0x45171e(0x8c9)]===_0x4a6d79[_0x45171e(0x7b7)]&&_0x454670[_0x45171e(0x88f)]===_0x4755f7[_0x45171e(0x88f)]))[_0x45171e(0x871)](_0x1ed952=>_0x4e12ea(_0x1ed952,_0x188ec7['blocks'])),_0x597a2b=_0x188ec7['blocks']['find'](_0x244fbd=>_0x244fbd[_0x45171e(0x8c9)]===_0x201fdb[_0x45171e(0x70c)]),_0x598f70=_0x188ec7['blocks'][_0x45171e(0x4d3)](_0x4aa13e=>_0x4aa13e[_0x45171e(0x8c9)]===_0x201fdb[_0x45171e(0x2de)]&&_0x4aa13e['links']?.[_0x45171e(0x658)](_0x40b7f9=>_0x40b7f9[_0x45171e(0x8c9)]===_0x4a6d79[_0x45171e(0x2a7)]&&_0x40b7f9[_0x45171e(0x88f)]===_0x597a2b['uid'])),_0x4d66be=_0x188ec7[_0x45171e(0x37f)][_0x45171e(0x4d3)](_0x7bb37c=>_0x7bb37c[_0x45171e(0x8c9)]===_0x201fdb[_0x45171e(0x2de)]&&_0x7bb37c['uid']===_0x598f70[_0x45171e(0x88f)]),_0x217c13=_0x3c9225['get'](_0x4d66be[_0x45171e(0x949)]);return{'type':_0x45171e(0x22d),'apiKey':this[_0x45171e(0x705)],'sessionType':_0x114df4['taskType']===_0x1c7ce5[_0x45171e(0x91a)]['SpeechToSpeech']?_0x45171e(0x590):_0x45171e(0xb71),'firstAgent':{'modelId':_0x4755f7['modelId'],'taskType':_0x114df4[_0x45171e(0x681)],'instructions':_0x4755f7[_0x45171e(0x789)],'temperature':_0x4755f7['temperature'],'maxTokens':_0x4755f7[_0x45171e(0x556)],'initialPrompt':_0x188ec7[_0x45171e(0xa88)],'tools':_0xa4eae5[_0x45171e(0x865)](_0x137711=>({..._0x137711,'name':this[_0x45171e(0x679)](_0x137711),'description':this[_0x45171e(0x29f)](_0x137711),'parameters':this[_0x45171e(0x9f6)](_0x137711)}))},'lastAgent':{'modelId':_0x4d66be['modelId'],'taskType':_0x217c13[_0x45171e(0x681)],'instructions':_0x4d66be[_0x45171e(0x789)],'initialPrompt':_0x188ec7[_0x45171e(0xa88)]}};}if(_0x45171e(0x69b)===_0x4240cc[_0x45171e(0x8c9)]){const {vendorId:_0x2052da,collectionId:_0x43ccfc,fileId:_0x334a39}=_0x4240cc,_0x5947cc=await _0x43e47a[_0x45171e(0x3ba)](_0x2052da,_0x43ccfc),_0x2add7e=this[_0x45171e(0x7e2)]?.[_0x45171e(0x459)](_0x5947cc[_0x45171e(0x9e6)]);if(!_0x2add7e)throw new Error(_0x45171e(0x71b));const _0x3b26a7=_0x1f199c(_0x2052da,_0x5947cc);if(_0x5947cc[_0x45171e(0x9e6)]===_0x1c7ce5[_0x45171e(0x961)]['Crewdle'])try{await _0x2add7e[_0x45171e(0x308)](_0x3b26a7,_0x43ccfc,'/'+_0x2052da+'/'+_0x43ccfc+'/'+_0x334a39),await this[_0x45171e(0x957)]['deleteObject']('/'+_0x2052da+'/'+_0x43ccfc+'/'+_0x334a39);}catch(_0x214a84){_0x576b91[_0x45171e(0x9e0)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x214a84);}else try{await _0x2add7e[_0x45171e(0x308)](_0x3b26a7,_0x43ccfc,_0x334a39);}catch(_0x2f98a1){_0x576b91[_0x45171e(0x9e0)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x2f98a1);}return{'type':'file-delete'};}if('file-download'===_0x4240cc[_0x45171e(0x8c9)]){let _0x577e0d;const _0x5c828e=this[_0x45171e(0x605)][_0x45171e(0xa30)]();for(;!_0x577e0d;){const _0x321bf6=_0x5c828e[_0x45171e(0xad8)]()[_0x45171e(0x225)];if(!_0x321bf6)throw new Error(_0x45171e(0x9bf));_0x577e0d=this[_0x45171e(0x605)][_0x45171e(0x459)](_0x321bf6);try{const _0x403a14=await _0x577e0d['get'](_0x4240cc[_0x45171e(0x281)]);return{'type':'file-download','fileName':_0x403a14[_0x45171e(0xb0f)],'mimeType':_0x403a14['type'],'document':await _0x403a14['arrayBuffer']()};}catch(_0x32525f){continue;}}throw new Error(_0x45171e(0x9bf));}if(_0x45171e(0x263)===_0x4240cc[_0x45171e(0x8c9)]){const {vendorId:_0x2352b4,collectionId:_0x48f668,fileName:_0x34f309,content:_0x3be27c}=_0x4240cc,_0x4b61b6=await _0x43e47a[_0x45171e(0x3ba)](_0x2352b4,_0x48f668);if(_0x4b61b6[_0x45171e(0x9e6)]!==_0x1c7ce5[_0x45171e(0x961)][_0x45171e(0x412)]){const _0x130606=this[_0x45171e(0x7e2)]?.[_0x45171e(0x459)](_0x4b61b6[_0x45171e(0x9e6)]);if(!_0x130606)throw new Error(_0x45171e(0x71b));const _0x47fa41=_0x1f199c(_0x2352b4,_0x4b61b6);return await _0x130606['ingestFile'](_0x47fa41,_0x48f668,_0x34f309,_0x3be27c),{'type':_0x45171e(0x263)};}const _0x586e95=_0x4b61b6[_0x45171e(0x14c)]?.[_0x45171e(0x4d3)](_0x2edc97=>_0x2edc97['type']===_0xdd22df[_0x45171e(0x452)]);if(!_0x586e95)throw new Error('No\x20start\x20block\x20found');const _0x5b7932=(0x0,_0x54796e['v4'])();return _0x31083d[_0x45171e(0x46e)](_0x2352b4,_0x5b7932),await _0x49ea43(_0x4240cc[_0x45171e(0x3db)],_0x5b7932,'/'+_0x2352b4+'/'+_0x48f668+'/'+_0x34f309,_0x3be27c,_0x586e95,_0x4b61b6,{'objectStoreConnector':this[_0x45171e(0x957)],'ragConnector':this['ragConnectors']?.[_0x45171e(0x459)](_0x1c7ce5[_0x45171e(0x961)][_0x45171e(0x412)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x45171e(0xabc)],'nlpLibraryConnector':this[_0x45171e(0x1fa)],'generativeAIWorkerConnectors':this[_0x45171e(0x9f5)],'models':Array['from'](this[_0x45171e(0xb1c)][_0x45171e(0x9b6)]()),'contentMediator':this[_0x45171e(0x164)]}),_0x31083d[_0x45171e(0x61d)](_0x5b7932),{'type':_0x45171e(0x263)};}if(_0x45171e(0x2e3)===_0x4240cc[_0x45171e(0x8c9)]){const {vendorId:_0x257dc7,collectionId:_0x57ce3c}=_0x4240cc,_0x3e257f=await _0x43e47a[_0x45171e(0x3ba)](_0x257dc7,_0x57ce3c);if(_0x3e257f['storageType']!==_0x1c7ce5[_0x45171e(0x961)][_0x45171e(0x412)]){const _0xd1b44d=this[_0x45171e(0x7e2)]?.[_0x45171e(0x459)](_0x3e257f[_0x45171e(0x9e6)]);if(!_0xd1b44d)throw new Error('No\x20RAG\x20connector\x20available');const _0x5c0ea7=_0x1f199c(_0x257dc7,_0x3e257f);return{'type':_0x45171e(0x2e3),'files':await _0xd1b44d[_0x45171e(0x613)](_0x5c0ea7,_0x57ce3c)};}try{return{'type':_0x45171e(0x2e3),'files':(await this[_0x45171e(0x957)][_0x45171e(0x6c8)]('/'+_0x257dc7+'/'+_0x57ce3c,!0x1))['map'](_0x547a89=>({'name':_0x547a89[_0x45171e(0xb0f)],'id':_0x547a89[_0x45171e(0xb0f)],'status':'ready'}))};}catch(_0x3debb2){return{'type':_0x45171e(0x2e3),'files':[]};}}if(_0x45171e(0x61c)===_0x4240cc['type']){const {vendorId:_0xc02969,collectionId:_0x4e4956}=_0x4240cc,_0x2b51b5=await _0x43e47a['getDataCollection'](_0xc02969,_0x4e4956),_0x1c8c48=this[_0x45171e(0x7e2)]?.[_0x45171e(0x459)](_0x2b51b5[_0x45171e(0x9e6)]);if(!_0x1c8c48)return{'type':_0x45171e(0x61c)};const _0x3d612c=_0x1f199c(_0xc02969,_0x2b51b5);return await _0x1c8c48[_0x45171e(0x206)](_0x3d612c,_0x4e4956),{'type':'collection-create'};}if(_0x45171e(0x4d4)===_0x4240cc[_0x45171e(0x8c9)]){const {vendorId:_0x3c2e73,collectionId:_0x138fee}=_0x4240cc,_0x2895b1=await _0x43e47a[_0x45171e(0x3ba)](_0x3c2e73,_0x138fee),_0xbbb03=this['ragConnectors']?.[_0x45171e(0x459)](_0x2895b1[_0x45171e(0x9e6)]);if(!_0xbbb03)return{'type':_0x45171e(0x4d4)};const _0x320c36=_0x1f199c(_0x3c2e73,_0x2895b1);let _0x484b89=!0x1;if(_0x2895b1[_0x45171e(0x382)]===_0x480041['Dedicated']&&(_0x484b89=!0x0),_0x2895b1[_0x45171e(0x382)]===_0x480041[_0x45171e(0x7c1)]){_0x484b89=!0x0;const _0x5b7f9f=await _0x43e47a['getDataCollections'](_0x3c2e73);for(const _0x48418e of _0x5b7f9f)if(_0x48418e[_0x45171e(0x9e6)]===_0x2895b1['storageType']&&_0x48418e[_0x45171e(0x382)]===_0x480041[_0x45171e(0x7c1)]&&_0x48418e['id']!==_0x2895b1['id']){_0x484b89=!0x1;break;}}try{await _0xbbb03['deleteCollection'](_0x320c36,_0x138fee,_0x484b89);}catch(_0x56a624){_0x576b91[_0x45171e(0x9e0)]('GenerativeAIWorker:\x20CollectionDelete\x20failed',_0x56a624);}return{'type':_0x45171e(0x4d4)};}if(_0x45171e(0x1c4)===_0x4240cc[_0x45171e(0x8c9)]){const {query:_0x46f7be,vendorId:_0x19cced,collectionId:_0x5ae445}=_0x4240cc,_0x26f56e=await _0x43e47a[_0x45171e(0x3ba)](_0x19cced,_0x5ae445);if(_0x26f56e[_0x45171e(0x9e6)]!==_0x1c7ce5[_0x45171e(0x961)][_0x45171e(0x412)]){const _0x2b2dbd=this[_0x45171e(0x7e2)]?.[_0x45171e(0x459)](_0x26f56e[_0x45171e(0x9e6)]);if(!_0x2b2dbd)throw new Error(_0x45171e(0x71b));const _0x36625f=_0x1f199c(_0x19cced,_0x26f56e);return{'type':_0x45171e(0x1c4),'results':await _0x2b2dbd['queryCollection'](_0x36625f,_0x5ae445,_0x46f7be,0x1)};}const _0x5e22d7=_0x26f56e[_0x45171e(0x351)]?.[_0x45171e(0x4d3)](_0x42750b=>_0x42750b[_0x45171e(0x8c9)]===_0xdd22df[_0x45171e(0x19a)]);return{'type':_0x45171e(0x1c4),'results':(await _0x2ebe32(_0x4240cc[_0x45171e(0x3db)],_0x1a53e9,'',_0x46f7be,_0x5e22d7,_0x26f56e,{'objectStoreConnector':this[_0x45171e(0x957)],'ragConnector':this[_0x45171e(0x7e2)]?.[_0x45171e(0x459)](_0x1c7ce5[_0x45171e(0x961)][_0x45171e(0x412)]),'documentParserConnector':this[_0x45171e(0xa6b)],'fileConnector':this[_0x45171e(0xabc)],'nlpLibraryConnector':this[_0x45171e(0x1fa)],'generativeAIWorkerConnectors':this[_0x45171e(0x9f5)],'models':Array[_0x45171e(0x663)](this[_0x45171e(0xb1c)][_0x45171e(0x9b6)]()),'contentMediator':this[_0x45171e(0x164)],'searchConnector':this[_0x45171e(0x222)],'aiSearchConnector':this[_0x45171e(0x7f3)],'queryFileConnector':this[_0x45171e(0x83f)]}))[_0x45171e(0x499)]??[]};}throw new Error(_0x45171e(0x7aa));}async*[_0x3f1d19(0x4f9)](_0x562c4a,_0x5580d6){const _0x57ffa4=_0x3f1d19;if('prompt'===_0x5580d6[_0x57ffa4(0x8c9)]){const _0x20d406=await _0x43e47a[_0x57ffa4(0x2d8)](_0x5580d6[_0x57ffa4(0x3db)],_0x5580d6['workflowId']),_0x5d2d0d=_0x20d406['blocks'][_0x57ffa4(0x4d3)](_0x2250b7=>_0x2250b7['type']===_0x201fdb[_0x57ffa4(0x19a)]||_0x2250b7[_0x57ffa4(0x8c9)]===_0x201fdb[_0x57ffa4(0x75e)]);for await(const _0x493763 of _0x2eccea(_0x5580d6[_0x57ffa4(0x25a)]??_0x562c4a,_0x5580d6,_0x5d2d0d,_0x20d406[_0x57ffa4(0x37f)],{'documentParserConnector':this[_0x57ffa4(0xa6b)],'fileConnector':this[_0x57ffa4(0xabc)],'nlpLibraryConnector':this[_0x57ffa4(0x1fa)],'generativeAIWorkerConnectors':this[_0x57ffa4(0x9f5)],'models':Array[_0x57ffa4(0x663)](this[_0x57ffa4(0xb1c)][_0x57ffa4(0x9b6)]()),'contentMediator':this[_0x57ffa4(0x164)],'searchConnector':this[_0x57ffa4(0x222)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x57ffa4(0x83f)]}))yield _0x493763;}if(_0x57ffa4(0xb39)===_0x5580d6['type']){for await(const _0x2b151f of _0x19ebf3(_0x5580d6[_0x57ffa4(0x25a)]??_0x562c4a,_0x5580d6,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x57ffa4(0xabc)],'nlpLibraryConnector':this[_0x57ffa4(0x1fa)],'generativeAIWorkerConnectors':this[_0x57ffa4(0x9f5)],'models':Array['from'](this['models'][_0x57ffa4(0x9b6)]()),'contentMediator':this[_0x57ffa4(0x164)],'searchConnector':this[_0x57ffa4(0x222)],'aiSearchConnector':this[_0x57ffa4(0x7f3)],'queryFileConnector':this[_0x57ffa4(0x83f)]}))yield _0x2b151f;}}async[_0x3f1d19(0x956)](_0xb37d00,_0x910bc4){const _0x5e53c7=_0x3f1d19;if(_0x5e53c7(0xa1e)===_0x910bc4[_0x5e53c7(0x8c9)])return _0xb37d00=_0x910bc4[_0x5e53c7(0x25a)],void await this[_0x5e53c7(0x46e)](_0xb37d00,_0x910bc4['vendorId'],_0x910bc4[_0x5e53c7(0x239)]);_0x5e53c7(0x448)!==_0x910bc4['type']&&'inference'!==_0x910bc4[_0x5e53c7(0x8c9)]||!_0x910bc4[_0x5e53c7(0x25a)]||(_0xb37d00=_0x910bc4[_0x5e53c7(0x25a)]),await this[_0x5e53c7(0x46e)](_0xb37d00,_0x910bc4[_0x5e53c7(0x3db)],_0x910bc4[_0x5e53c7(0x239)],_0x910bc4[_0x5e53c7(0x36c)]),await _0x31083d['trace']({'jobType':_0x217459[_0x5e53c7(0x84c)],'type':_0x270fc5[_0x5e53c7(0x850)],'traceLevel':_0x5b73c0[_0x5e53c7(0x2cb)],'jobId':_0xb37d00,'threadId':_0x910bc4[_0x5e53c7(0x36c)],'startTime':Date[_0x5e53c7(0x64c)](),'timestamp':Date[_0x5e53c7(0x64c)](),'status':_0x5e53c7(0x656)});}async[_0x3f1d19(0x71c)](_0x28f7b8,_0xdf18c){const _0x39f635=_0x3f1d19;if('rate'===_0xdf18c[_0x39f635(0x8c9)])return _0x28f7b8=_0xdf18c['jobId'],void await this[_0x39f635(0x61d)](_0x28f7b8);_0x39f635(0x448)!==_0xdf18c[_0x39f635(0x8c9)]&&_0x39f635(0xb39)!==_0xdf18c[_0x39f635(0x8c9)]||!_0xdf18c[_0x39f635(0x25a)]||(_0x28f7b8=_0xdf18c[_0x39f635(0x25a)]),await _0x31083d[_0x39f635(0x93b)]({'jobType':_0x217459[_0x39f635(0x84c)],'type':_0x270fc5[_0x39f635(0x3b9)],'traceLevel':_0x5b73c0['Info'],'jobId':_0x28f7b8,'threadId':_0xdf18c[_0x39f635(0x36c)],'startTime':Date[_0x39f635(0x64c)](),'timestamp':Date[_0x39f635(0x64c)](),'status':_0x39f635(0x656)}),await this['closeTrace'](_0x28f7b8,_0xdf18c['threadId']);}[_0x3f1d19(0x679)](_0x5c7a55){const _0x242f17=_0x3f1d19;switch(_0x5c7a55[_0x242f17(0x8c9)]){case _0x201fdb[_0x242f17(0x2de)]:case _0x201fdb['AgentSkill']:return _0x242f17(0x503)+_0x5c7a55[_0x242f17(0xb0f)][_0x242f17(0x6d7)](/[^a-zA-Z]/g,'');case _0x201fdb[_0x242f17(0x843)]:return _0x242f17(0xb2e)+_0x5c7a55[_0x242f17(0xb0f)][_0x242f17(0x6d7)](/[^a-zA-Z]/g,'');case _0x201fdb[_0x242f17(0x484)]:case _0x201fdb[_0x242f17(0x742)]:return _0x242f17(0xb06)+_0x5c7a55[_0x242f17(0xb0f)][_0x242f17(0x6d7)](/[^a-zA-Z]/g,'');case _0x201fdb[_0x242f17(0xb50)]:return _0x5c7a55[_0x242f17(0xb0f)]['replace'](/[^a-zA-Z]/g,'');case _0x201fdb[_0x242f17(0x2da)]:return'searchOnPerplexity';case _0x201fdb[_0x242f17(0x18e)]:return'executeJavascriptCodeSnippet';case _0x201fdb[_0x242f17(0x270)]:return _0x242f17(0x7d6);case _0x201fdb[_0x242f17(0x80d)]:case _0x201fdb[_0x242f17(0xa28)]:return _0x242f17(0x358);case _0x1c7ce5[_0x242f17(0xad1)]['FormSkillGetQuestion']:return _0x242f17(0x49d)+_0x5c7a55['name'][_0x242f17(0x6d7)](/[^a-zA-Z]/g,'');case _0x1c7ce5['GenerativeAIInferenceToolType']['FormSkillSetAnswer']:return _0x242f17(0x1f6)+_0x5c7a55[_0x242f17(0xb0f)]['replace'](/[^a-zA-Z]/g,'');case _0x1c7ce5[_0x242f17(0xad1)]['FormSkillSubmitForm']:return _0x242f17(0x673)+_0x5c7a55[_0x242f17(0xb0f)]['replace'](/[^a-zA-Z]/g,'');default:return'';}}[_0x3f1d19(0x29f)](_0x5d2f2a){const _0x138810=_0x3f1d19;switch(_0x5d2f2a['type']){case _0x201fdb[_0x138810(0x2de)]:case _0x201fdb['AgentSkill']:return _0x138810(0xa2b)+_0x5d2f2a[_0x138810(0x70b)]+_0x138810(0x39e);case _0x201fdb[_0x138810(0x843)]:return _0x138810(0x287)+_0x5d2f2a['description']+_0x138810(0x39e);case _0x201fdb[_0x138810(0x484)]:case _0x201fdb[_0x138810(0x742)]:return _0x138810(0x9fb)+_0x5d2f2a[_0x138810(0x70b)]+_0x138810(0x964);case _0x201fdb[_0x138810(0xb50)]:return _0x138810(0xafc)+_0x5d2f2a[_0x138810(0x70b)];case _0x201fdb[_0x138810(0x2da)]:return _0x138810(0x6fb);case _0x201fdb[_0x138810(0x18e)]:return'Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.';case _0x201fdb[_0x138810(0x270)]:return _0x138810(0xb25);case _0x201fdb[_0x138810(0x80d)]:case _0x201fdb[_0x138810(0xa28)]:return'Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.';case _0x1c7ce5[_0x138810(0xad1)][_0x138810(0x93e)]:return _0x138810(0x405);case _0x1c7ce5['GenerativeAIInferenceToolType'][_0x138810(0xa39)]:return _0x138810(0x261);case _0x1c7ce5['GenerativeAIInferenceToolType'][_0x138810(0x820)]:return _0x138810(0xb6e);default:return'';}}[_0x3f1d19(0x9f6)](_0x83d174){const _0x519ad3=_0x3f1d19;switch(_0x83d174[_0x519ad3(0x8c9)]){case _0x201fdb[_0x519ad3(0x2de)]:case _0x201fdb[_0x519ad3(0x8d9)]:case _0x201fdb[_0x519ad3(0x843)]:return[{'name':_0x519ad3(0x448),'type':'string'}];case _0x201fdb['DataCollection']:case _0x201fdb[_0x519ad3(0x742)]:return[{'name':_0x519ad3(0x343),'type':_0x519ad3(0x618)}];case _0x201fdb[_0x519ad3(0xb50)]:return _0x83d174[_0x519ad3(0x7cd)][_0x519ad3(0x865)](_0x1979b0=>({'name':_0x1979b0[_0x519ad3(0xb0f)],'type':_0x1979b0[_0x519ad3(0x8c9)]??_0x519ad3(0x618)}))??[];case _0x201fdb[_0x519ad3(0x2da)]:return[{'name':_0x519ad3(0x39c),'type':_0x519ad3(0x618)}];case _0x201fdb[_0x519ad3(0x18e)]:return[{'name':_0x519ad3(0x380),'type':_0x519ad3(0x618)}];case _0x201fdb[_0x519ad3(0x270)]:return[{'name':_0x519ad3(0x39c),'type':'string'}];case _0x201fdb[_0x519ad3(0x80d)]:case _0x201fdb[_0x519ad3(0xa28)]:return[{'name':_0x519ad3(0x1db),'type':_0x519ad3(0x618)},{'name':'page','type':'number'}];case _0x1c7ce5[_0x519ad3(0xad1)][_0x519ad3(0x93e)]:return[];case _0x1c7ce5[_0x519ad3(0xad1)][_0x519ad3(0xa39)]:return[{'name':'id','type':_0x519ad3(0x618)},{'name':_0x519ad3(0x799),'type':'string'}];case _0x1c7ce5[_0x519ad3(0xad1)][_0x519ad3(0x820)]:default:return[];}}[_0x3f1d19(0xa1d)](){const _0x28bc54=_0x3f1d19;try{return this['capacityReporter'][_0x28bc54(0x4d5)]()['gpu'][_0x28bc54(0xb05)]*(0x1-this['capacityReporter'][_0x28bc54(0x4d5)]()[_0x28bc54(0xb57)]['load']);}catch(_0x19ce23){return _0x576b91['log'](_0x419b0a[_0x28bc54(0x1a1)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x19ce23),0x0;}}[_0x3f1d19(0x7e4)](){const _0x11ad18=_0x3f1d19;this[_0x11ad18(0x50f)]&&(this[_0x11ad18(0x34c)]&&clearTimeout(this[_0x11ad18(0x34c)]),this['debounceStats']=setTimeout(async()=>{const _0x20b6bb=_0x11ad18;delete this[_0x20b6bb(0x34c)];let _0xe87a35=0x0;for(const _0x38df93 of this[_0x20b6bb(0x605)][_0x20b6bb(0x9b6)]())_0xe87a35+=await _0x38df93[_0x20b6bb(0x284)]();this[_0x20b6bb(0x8f2)][_0x20b6bb(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x20b6bb(0x442)],'content':{'type':_0x65c889['GenerativeAIWorkerStats'],'label':this[_0x20b6bb(0x792)],'stats':{'timestamp':Date[_0x20b6bb(0x64c)](),'storage':_0xe87a35,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x20b6bb(0xac7)],'bytesReceived':this[_0x20b6bb(0x934)],'writes':0x0,'reads':0x0,'prompts':this[_0x20b6bb(0x446)],'tokens':this[_0x20b6bb(0x576)]}}});},_0x51ac76));}[_0x3f1d19(0x5f3)](_0x333e34,_0x215807){const _0x49a948=_0x3f1d19,_0x4015a6=this[_0x49a948(0x792)],_0xc62ae6=this['getOwnerId']();_0x576b91[_0x49a948(0x5f3)](_0x1cb6a4[_0x49a948(0x46d)],{'topic':_0x4015a6,'type':_0x49a948(0x799),'nodeId':_0xc62ae6,'tokenCount':_0x215807,'tokensPerSecond':_0x333e34});}async[_0x3f1d19(0x46e)](_0x4d80a5,_0x1ca6aa,_0x526433,_0x29cb83){const _0x2f3c80=_0x3f1d19;try{if(!await _0x31083d['openTrace'](_0x1ca6aa,_0x4d80a5,_0x526433,_0x29cb83))throw new Error(_0x2f3c80(0x4bf));return _0x4d80a5;}catch(_0x2ba84a){return console[_0x2f3c80(0x9e0)](_0x2f3c80(0x4bf),_0x2ba84a),_0x2f3c80(0xabd);}}async[_0x3f1d19(0x61d)](_0x3e45c8,_0x58c3a3){const _0x28fe1c=_0x3f1d19;try{await _0x31083d[_0x28fe1c(0x61d)](_0x3e45c8,_0x58c3a3);}catch(_0x376c16){console[_0x28fe1c(0x9e0)](_0x28fe1c(0x258),{'jobId':_0x3e45c8,'error':_0x376c16});}}}class _0xc81d34 extends _0x49de5b{['localNode'];[_0x3f1d19(0x7d9)];['vendorId'];['db'];[_0x3f1d19(0x34c)];[_0x3f1d19(0x559)]=0x0;[_0x3f1d19(0x8cc)]=0x0;['isLoaded']=!0x1;constructor(_0x3c836c,_0x33e549,_0x1875c7,_0x22f815,_0x3683c5){const _0x10a3f3=_0x3f1d19;if(_0x10a3f3(0x618)!=typeof _0x33e549)throw new _0x122c6c(_0x26fc1d[_0x10a3f3(0x38f)],'Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x3c836c,_0x33e549),this['localNode']=_0x3c836c,this['clusterId']=_0x1875c7,this[_0x10a3f3(0x3db)]=_0x22f815;const _0x31eac0=_0x10a3f3(0x199)+this[_0x10a3f3(0x3db)]+_0x10a3f3(0x199)+this[_0x10a3f3(0x7d9)]+_0x10a3f3(0x199)+this[_0x10a3f3(0x792)];this['db']=new _0x3683c5(_0x31eac0),this[_0x10a3f3(0x7e4)]();}[_0x3f1d19(0x81f)](){const _0x4a822c=_0x3f1d19;return this[_0x4a822c(0xa09)];}['setIsLoaded'](_0x43e2af){this['isLoaded']=_0x43e2af;}[_0x3f1d19(0x31c)](){const _0xa7abc5=_0x3f1d19;clearTimeout(this[_0xa7abc5(0x34c)]),delete this[_0xa7abc5(0x34c)],super[_0xa7abc5(0x31c)]();}['close'](){const _0x29f984=_0x3f1d19;this[_0x29f984(0x8f2)][_0x29f984(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c['Content'],'content':{'type':_0x65c889[_0x29f984(0x5bc)],'label':this['label']}});}[_0x3f1d19(0x200)](){const _0x3467e8=_0x3f1d19;return _0x1c7ce5[_0x3467e8(0x5a3)][_0x3467e8(0x394)];}[_0x3f1d19(0xa91)](){this['sendStats']();}[_0x3f1d19(0x2b4)](_0x5e25dd,_0x75e1f3,_0x28fea2,_0x5d9bf7){const _0x1fe261=_0x3f1d19;this['db']['addNode'](_0x5e25dd,_0x75e1f3,_0x28fea2,_0x5d9bf7),this[_0x1fe261(0x559)]+=0x1,this[_0x1fe261(0x7e4)]();}['addEdge'](_0x10e538,_0x4207f6){const _0x1acf69=_0x3f1d19;this['db'][_0x1acf69(0x478)](_0x10e538,_0x4207f6),this[_0x1acf69(0x559)]+=0x1,this[_0x1acf69(0x7e4)]();}['getContent'](_0x28cd5b,_0x2a5df9,_0x4ad9c2){const _0x2ef66c=_0x3f1d19,_0x429a69=this['db'][_0x2ef66c(0x9ba)](_0x28cd5b,_0x2a5df9,_0x4ad9c2);return this[_0x2ef66c(0x8cc)]+=0x1,_0x576b91[_0x2ef66c(0x5f3)](_0x1cb6a4['GraphDatabase'],{'type':'get-content','label':this[_0x2ef66c(0x792)],'nodeId':this[_0x2ef66c(0x72c)][_0x2ef66c(0x7be)](),'nodeType':this[_0x2ef66c(0x72c)][_0x2ef66c(0x8c9)],'clusterId':this['clusterId'],'size':0x0}),this[_0x2ef66c(0x7e4)](),_0x429a69;}[_0x3f1d19(0x594)](_0x1ea210){const _0x288ef1=_0x3f1d19;this['db'][_0x288ef1(0x594)](_0x1ea210),this[_0x288ef1(0x559)]+=0x1,this['sendStats']();}[_0x3f1d19(0x451)](_0x4cfa15){this['db']['saveToDisk'](_0x4cfa15);}[_0x3f1d19(0x320)](_0x4732ee){const _0x5d22c5=_0x3f1d19;this['db'][_0x5d22c5(0x320)](_0x4732ee);}['sendStats'](){const _0x35e2dd=_0x3f1d19;this[_0x35e2dd(0x34c)]&&clearTimeout(this['debounceStats']),this[_0x35e2dd(0x34c)]=setTimeout(async()=>{const _0x3f7c53=_0x35e2dd;delete this['debounceStats'];const _0x12b0c4=this['db'][_0x3f7c53(0x284)]();this[_0x3f7c53(0x8f2)][_0x3f7c53(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x3f7c53(0x442)],'content':{'type':_0x65c889[_0x3f7c53(0xa99)],'label':this[_0x3f7c53(0x792)],'stats':{'timestamp':Date[_0x3f7c53(0x64c)](),'storage':_0x12b0c4,'messagesSent':this[_0x3f7c53(0x7bf)],'messagesReceived':this[_0x3f7c53(0x62a)],'bytesSent':this[_0x3f7c53(0xac7)],'bytesReceived':this[_0x3f7c53(0x934)],'writes':this[_0x3f7c53(0x559)],'reads':this[_0x3f7c53(0x8cc)],'prompts':0x0,'tokens':0x0}}}),_0x576b91[_0x3f7c53(0x96d)](_0x1cb6a4[_0x3f7c53(0x394)],_0x3f7c53(0x199)+this[_0x3f7c53(0x7d9)]+_0x3f7c53(0x199)+this['label'],_0x12b0c4);},_0x51ac76);}}class _0x336188 extends _0x51f755{[_0x3f1d19(0x194)];constructor(_0x33e05a,_0x4fc14c,_0x2a15a6){super(_0x33e05a,_0x4fc14c),this['mediaStream']=_0x2a15a6;}[_0x3f1d19(0x200)](){const _0x5b5754=_0x3f1d19;return _0x1c7ce5[_0x5b5754(0x5a3)][_0x5b5754(0x18f)];}[_0x3f1d19(0x779)](){const _0x435ce2=_0x3f1d19;return this[_0x435ce2(0x194)];}[_0x3f1d19(0x896)](){return this['mediaStream']['id'];}}class _0x32b3ae extends _0x336188{[_0x3f1d19(0x6de)];[_0x3f1d19(0x7a7)];[_0x3f1d19(0x791)];[_0x3f1d19(0x90f)]=_0x4112ad();constructor(_0x61dac3,_0x106cba,_0x334bd0,_0x4dfef9,_0x310374){const _0x401db7=_0x3f1d19;super(_0x61dac3,_0x106cba,_0x334bd0),this['remoteId']=_0x4dfef9,this[_0x401db7(0x7a7)]=_0x310374;}[_0x3f1d19(0x31c)](){const _0xde41c3=_0x3f1d19;this[_0xde41c3(0x493)]('audio'),this[_0xde41c3(0x493)](_0xde41c3(0x1ce)),super[_0xde41c3(0x31c)]();}[_0x3f1d19(0x140)](_0x2c8e61){const _0x496290=_0x3f1d19;if(!this[_0x496290(0x791)])throw new _0x5c1da3(_0x5c1da3[_0x496290(0x91b)][_0x496290(0x15a)],{'label':this[_0x496290(0x792)],'ownerId':this['owner'][_0x496290(0x7be)](),'remoteId':this[_0x496290(0x6de)]});this[_0x496290(0x791)][_0x496290(0x4f8)]({'sourceId':this[_0x496290(0x668)]['getId'](),'content':{'action':_0x76f098[_0x496290(0x6bd)],'track':_0x2c8e61,'stream':this['mediaStream'],'priority':_0x1c7ce5[_0x496290(0x5c2)]['Default'],'params':this[_0x496290(0x6d3)](_0x2c8e61[_0x496290(0x567)],this[_0x496290(0x7a7)])}});}[_0x3f1d19(0x493)](_0x5a102e){const _0x353062=_0x3f1d19,_0xe1763a=this[_0x353062(0x3ec)](_0x5a102e);if(_0xe1763a){if(!this[_0x353062(0x791)])return null;this['topic'][_0x353062(0x4f8)]({'sourceId':this['owner']['getId'](),'content':{'action':_0x76f098['Remove'],'track':_0xe1763a,'stream':this['mediaStream']}});}return _0xe1763a;}[_0x3f1d19(0x717)](_0x1176f8){const _0x328cb7=_0x3f1d19;if(!this[_0x328cb7(0x791)])throw new _0x5c1da3(_0x5c1da3[_0x328cb7(0x91b)][_0x328cb7(0x15a)],{'label':this[_0x328cb7(0x792)],'ownerId':this[_0x328cb7(0x668)]['getId'](),'remoteId':this[_0x328cb7(0x6de)]});this['topic']['publish']({'sourceId':this[_0x328cb7(0x668)][_0x328cb7(0x7be)](),'content':{'action':_0x76f098[_0x328cb7(0x173)],'priority':_0x1176f8,'stream':this[_0x328cb7(0x194)]}});}[_0x3f1d19(0x565)]({trackKinds:_0x4cfe82,params:_0x660f6c},_0x32b9cb){const _0xb2898d=_0x3f1d19;if(!this['topic'])throw new _0x5c1da3(_0x5c1da3[_0xb2898d(0x91b)][_0xb2898d(0x15a)],{'label':this[_0xb2898d(0x792)],'ownerId':this[_0xb2898d(0x668)][_0xb2898d(0x7be)](),'remoteId':this[_0xb2898d(0x6de)]});for(const _0x55f101 of this['mediaStream'][_0xb2898d(0x372)]())_0x4cfe82['includes'](_0x55f101['kind'])&&this[_0xb2898d(0x791)][_0xb2898d(0x4f8)]({'sourceId':this[_0xb2898d(0x668)][_0xb2898d(0x7be)](),'content':{'action':_0x76f098['Add'],'track':_0x55f101,'stream':this[_0xb2898d(0x194)],'priority':_0x32b9cb,'params':this[_0xb2898d(0x6d3)](_0x55f101[_0xb2898d(0x567)],_0x660f6c)}});}[_0x3f1d19(0x8f8)]({params:_0x522286}){const _0x839f6c=_0x3f1d19;if(!this['topic'])throw new _0x5c1da3(_0x5c1da3[_0x839f6c(0x91b)][_0x839f6c(0x15a)],{'label':this['label'],'ownerId':this['owner'][_0x839f6c(0x7be)](),'remoteId':this[_0x839f6c(0x6de)]});for(const _0x504d0f of this[_0x839f6c(0x194)]['getTracks']())this[_0x839f6c(0x791)]['publish']({'sourceId':this[_0x839f6c(0x668)][_0x839f6c(0x7be)](),'content':{'action':_0x76f098[_0x839f6c(0x173)],'stream':this[_0x839f6c(0x194)],'params':this[_0x839f6c(0x6d3)](_0x504d0f[_0x839f6c(0x567)],_0x522286)}});}[_0x3f1d19(0x87c)]({trackKinds:_0x267230}){const _0x17a096=_0x3f1d19;if(this['topic']){for(const _0x12b5b8 of this[_0x17a096(0x194)][_0x17a096(0x372)]())_0x267230[_0x17a096(0xb4d)](_0x12b5b8[_0x17a096(0x567)])&&this[_0x17a096(0x791)][_0x17a096(0x4f8)]({'sourceId':this['owner']['getId'](),'content':{'action':_0x76f098[_0x17a096(0xa20)],'stream':this[_0x17a096(0x194)],'track':_0x12b5b8}});}}[_0x3f1d19(0x63b)](_0x5d5884){const _0x3127e8=_0x3f1d19;this[_0x3127e8(0x791)]=_0x5d5884;}[_0x3f1d19(0x157)](_0x49a856){const _0x2ca0fb=_0x3f1d19;_0x49a856===this['topic']&&(delete this['topic'],this['unregisterPublisherListener'][_0x2ca0fb(0x4f8)]());}[_0x3f1d19(0x600)](_0xee0590){const _0xdfaf2d=_0x3f1d19;return this[_0xdfaf2d(0x90f)][_0xdfaf2d(0x565)](_0xee0590);}[_0x3f1d19(0x3ec)](_0x47bda8){const _0x51fa25=_0x3f1d19;return this[_0x51fa25(0x194)][_0x51fa25(0x372)]()[_0x51fa25(0x4d3)](_0x26f9bb=>_0x26f9bb['kind']===_0x47bda8)||null;}['getInternalTrackParams'](_0x3cfbf4,_0x4fb2dd){const _0x262eb7=_0x3f1d19;let _0x4c2572;return _0x262eb7(0x1ce)===_0x3cfbf4&&_0x4fb2dd?.[_0x262eb7(0x1ce)]&&_0x262eb7(0xb08)!=typeof _0x4fb2dd[_0x262eb7(0x1ce)]&&(_0x4c2572={'kind':_0x262eb7(0x1ce),..._0x4fb2dd['video']},_0x4c2572[_0x262eb7(0x5da)]=this[_0x262eb7(0x145)]()),_0x262eb7(0x9d7)===_0x3cfbf4&&_0x4fb2dd?.['audio']&&_0x262eb7(0xb08)!=typeof _0x4fb2dd[_0x262eb7(0x9d7)]&&(_0x4c2572={'kind':'audio',..._0x4fb2dd[_0x262eb7(0x9d7)]}),_0x4c2572;}['getResolution'](){const _0x1c313f=_0x3f1d19;let _0x2c6a8c={'width':0x0,'height':0x0};const _0x3c5a3f=this[_0x1c313f(0x194)][_0x1c313f(0x67d)]();if(_0x3c5a3f['length']>0x0){const _0xa30731=_0x3c5a3f[0x0][_0x1c313f(0x6f0)]();_0xa30731[_0x1c313f(0x757)]&&_0xa30731['height']&&(_0x2c6a8c={'width':_0xa30731[_0x1c313f(0x757)],'height':_0xa30731[_0x1c313f(0x3cc)]});}return _0x2c6a8c;}}class _0x69988f extends _0x336188{[_0x3f1d19(0x7d9)];[_0x3f1d19(0xa82)]=_0x1c7ce5['MediaStreamPriority'][_0x3f1d19(0x2ed)];[_0x3f1d19(0x53e)]=new Map();[_0x3f1d19(0x23c)]=new Map();constructor(_0x4d993b,_0x11fbb1,_0x13957e,_0x2a74c3){const _0xcf3965=_0x3f1d19;super(_0x4d993b,_0x11fbb1,_0x13957e instanceof MediaStream?_0x13957e:_0x13957e[_0xcf3965(0x690)]?_0x13957e['srcObject']:_0x13957e[_0xcf3965(0x220)]()),this[_0xcf3965(0x7d9)]=_0x2a74c3,this['mediaStream'][_0xcf3965(0x372)]()['forEach'](_0xb059bd=>this[_0xcf3965(0x1ff)](_0xb059bd)),_0x576b91[_0xcf3965(0x5f3)](_0x1cb6a4[_0xcf3965(0x4e4)],{'type':'publish','label':this['label'],'nodeId':this['owner']['getId'](),'nodeType':this[_0xcf3965(0x668)][_0xcf3965(0x8c9)],'clusterId':this[_0xcf3965(0x7d9)],'streamId':this[_0xcf3965(0x896)](),'trackKinds':this['mediaStream'][_0xcf3965(0x372)]()[_0xcf3965(0x865)](_0x22b6dc=>_0x22b6dc[_0xcf3965(0x567)])});}[_0x3f1d19(0x31c)](){const _0x19846d=_0x3f1d19;this[_0x19846d(0x23c)]['size']>0x0&&(this[_0x19846d(0x23c)][_0x19846d(0xa0d)](_0x50c433=>{_0x50c433['unregisterSystemPublisher'](),_0x50c433['destroy']();}),this[_0x19846d(0x23c)]['clear']()),this[_0x19846d(0x53e)][_0x19846d(0xa0d)](_0xc66dc5=>_0xc66dc5()),super[_0x19846d(0x31c)]();}[_0x3f1d19(0x4f8)](_0x396251){const _0xaa3274=_0x3f1d19;this[_0xaa3274(0x8f2)][_0xaa3274(0x4f8)]({'sourceId':this[_0xaa3274(0x668)][_0xaa3274(0x7be)](),'destinationIds':_0x396251?[_0x396251]:void 0x0,'propagate':!0x0,'messageType':_0x21fe4c['Content'],'content':{'type':_0x65c889[_0xaa3274(0x5ad)],'ownerId':this[_0xaa3274(0x668)]['getId'](),'label':this[_0xaa3274(0x792)],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this['mediaStream'][_0xaa3274(0x372)]()[_0xaa3274(0x865)](_0x268c48=>_0x268c48[_0xaa3274(0x567)])}}});}['unpublish'](){const _0x5c2d18=_0x3f1d19;this['systemTopic'][_0x5c2d18(0x4f8)]({'sourceId':this['owner'][_0x5c2d18(0x7be)](),'propagate':!0x0,'messageType':_0x21fe4c[_0x5c2d18(0x442)],'content':{'type':_0x65c889[_0x5c2d18(0x869)],'ownerId':this[_0x5c2d18(0x668)][_0x5c2d18(0x7be)](),'label':this['label']}}),this['systemTopic'][_0x5c2d18(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x5c2d18(0x442)],'content':{'type':_0x65c889['CloseMediaStream'],'label':this['label']}}),_0x576b91[_0x5c2d18(0x5f3)](_0x1cb6a4[_0x5c2d18(0x4e4)],{'type':_0x5c2d18(0x908),'label':this['label'],'nodeId':this['owner'][_0x5c2d18(0x7be)](),'nodeType':this['owner'][_0x5c2d18(0x8c9)],'clusterId':this[_0x5c2d18(0x7d9)],'streamId':this[_0x5c2d18(0x896)]()});}['getPriority'](){const _0x686e11=_0x3f1d19;return this[_0x686e11(0xa82)];}[_0x3f1d19(0x717)](_0x52ede3){const _0x572675=_0x3f1d19;this[_0x572675(0xa82)]=_0x52ede3,this[_0x572675(0x23c)]['forEach'](_0x22ce09=>_0x22ce09['setPriority'](_0x52ede3));}[_0x3f1d19(0x421)](_0x1984fb,_0x269cb8){const _0x4463e4=_0x3f1d19;if(!this[_0x4463e4(0x23c)][_0x4463e4(0x1c3)](_0x1984fb)){const _0xa00fd3=new _0x32b3ae(this['owner'],this[_0x4463e4(0x792)],this[_0x4463e4(0x194)],_0x1984fb,_0x269cb8),_0x1e091f=_0xa00fd3['onUnregisterPublisher'](()=>{const _0x5c9002=_0x4463e4;_0x1e091f(),this[_0x5c9002(0x23c)][_0x5c9002(0x459)](_0x1984fb)?.['destroy'](),this[_0x5c9002(0x23c)]['delete'](_0x1984fb);});this[_0x4463e4(0x23c)]['set'](_0x1984fb,_0xa00fd3),_0xa00fd3['registerSystemPublisher'](this[_0x4463e4(0x8f2)]);}return this['outgoingStreams'][_0x4463e4(0x459)](_0x1984fb);}[_0x3f1d19(0xb3e)](){const _0x12e7e4=_0x3f1d19;return this[_0x12e7e4(0x194)]['id'];}[_0x3f1d19(0x17d)](_0x4b5e5b){const _0x2f3794=_0x3f1d19;this[_0x2f3794(0x8f2)][_0x2f3794(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x2f3794(0x442)],'content':{'type':_0x65c889[_0x2f3794(0x481)],'label':this[_0x2f3794(0x792)],'trackKinds':[_0x4b5e5b['kind']]}});}[_0x3f1d19(0x1ff)](_0x26d6d9){const _0x28890d=_0x3f1d19,_0x56f693=()=>this[_0x28890d(0x17d)](_0x26d6d9);_0x26d6d9[_0x28890d(0x554)]('ended',_0x56f693),_0x26d6d9[_0x28890d(0x554)](_0x28890d(0x7b9),_0x56f693),this[_0x28890d(0x53e)][_0x28890d(0xb36)](_0x26d6d9[_0x28890d(0x567)],()=>{const _0x544a53=_0x28890d;_0x26d6d9[_0x544a53(0x275)](_0x544a53(0x754),_0x56f693),_0x26d6d9[_0x544a53(0x275)](_0x544a53(0x7b9),_0x56f693),this[_0x544a53(0x53e)][_0x544a53(0x233)](_0x26d6d9[_0x544a53(0x567)]);});}}class _0x58066f extends _0x69988f{['audioContext'];[_0x3f1d19(0x944)]=[];['clientStream'];[_0x3f1d19(0xa21)];[_0x3f1d19(0x636)];['sourceVideo'];[_0x3f1d19(0xb58)];['context'];[_0x3f1d19(0x3bb)];constructor(_0x205cf9,_0x17e87e,_0x18a794,_0x21d492,_0x363f9f,_0x2880c3){const _0x4f6b75=_0x3f1d19;if(super(_0x205cf9,_0x17e87e,_0x18a794,_0x2880c3),this[_0x4f6b75(0x2f9)]=_0x363f9f,this[_0x4f6b75(0x978)]=this[_0x4f6b75(0x194)],this[_0x4f6b75(0x85c)]=document['createElement'](_0x4f6b75(0x1ce)),this['sourceVideo'][_0x4f6b75(0x37e)]=!0x0,this['sourceVideo'][_0x4f6b75(0x6ec)]=!0x0,this[_0x4f6b75(0x85c)][_0x4f6b75(0x690)]=this[_0x4f6b75(0x978)],this[_0x4f6b75(0x85c)][_0x4f6b75(0x15c)](),this[_0x4f6b75(0x85c)][_0x4f6b75(0x41c)]=()=>{const _0x6718aa=_0x4f6b75;this[_0x6718aa(0x85c)][_0x6718aa(0x345)]();},this[_0x4f6b75(0xb58)]=document['createElement']('canvas'),this[_0x4f6b75(0x499)]=this[_0x4f6b75(0xb58)][_0x4f6b75(0x2ba)]('2d'),this[_0x4f6b75(0x194)]=this[_0x4f6b75(0xb58)]['captureStream'](_0x21d492),this['audioDestination']=this['audioContext'][_0x4f6b75(0x5ee)](),this[_0x4f6b75(0x978)][_0x4f6b75(0x51e)]()[_0x4f6b75(0x744)]>0x0){const _0x3ee615=this[_0x4f6b75(0x978)]['getAudioTracks']()[0x0];this[_0x4f6b75(0xa21)]=this['audioContext'][_0x4f6b75(0x6cb)](new MediaStream([_0x3ee615])),this['audioSource'][_0x4f6b75(0x6eb)](this[_0x4f6b75(0x636)]);}const _0x2103f4=this[_0x4f6b75(0x636)][_0x4f6b75(0x159)][_0x4f6b75(0x372)]()[0x0];this['mediaStream'][_0x4f6b75(0x140)](_0x2103f4),this[_0x4f6b75(0x3bb)]=setInterval(()=>{const _0x50eb1c=_0x4f6b75;this[_0x50eb1c(0xb58)][_0x50eb1c(0x757)]=this[_0x50eb1c(0x85c)][_0x50eb1c(0x229)],this['canvas'][_0x50eb1c(0x3cc)]=this[_0x50eb1c(0x85c)][_0x50eb1c(0x260)],this[_0x50eb1c(0x85c)][_0x50eb1c(0x229)]?(0x0!==this[_0x50eb1c(0x978)][_0x50eb1c(0x67d)]()[_0x50eb1c(0x744)]&&this[_0x50eb1c(0x978)][_0x50eb1c(0x67d)]()[0x0]['enabled']?this['mediaStream'][_0x50eb1c(0x67d)]()[0x0][_0x50eb1c(0x38a)]=!0x0:this[_0x50eb1c(0x194)]['getVideoTracks']()[0x0][_0x50eb1c(0x38a)]=!0x1,0x0!==this[_0x50eb1c(0x978)][_0x50eb1c(0x51e)]()[_0x50eb1c(0x744)]&&this[_0x50eb1c(0x978)][_0x50eb1c(0x51e)]()[0x0][_0x50eb1c(0x38a)]?this[_0x50eb1c(0x194)][_0x50eb1c(0x51e)]()[0x0]['enabled']=!0x0:this['mediaStream'][_0x50eb1c(0x51e)]()[0x0][_0x50eb1c(0x38a)]=!0x1,this['context'][_0x50eb1c(0x5ae)](this[_0x50eb1c(0x85c)],0x0,0x0)):this[_0x50eb1c(0x499)][_0x50eb1c(0x3e8)](0x0,0x0,this[_0x50eb1c(0xb58)][_0x50eb1c(0x757)],this[_0x50eb1c(0xb58)][_0x50eb1c(0x3cc)]);},0x3e8/_0x21d492);}['destroy'](){const _0x3b1281=_0x3f1d19;clearInterval(this[_0x3b1281(0x3bb)]),this[_0x3b1281(0x85c)][_0x3b1281(0x594)](),this[_0x3b1281(0xb58)][_0x3b1281(0x594)](),this[_0x3b1281(0xa21)]?.['disconnect'](),this[_0x3b1281(0x636)][_0x3b1281(0xa5c)](),this[_0x3b1281(0x194)]['getTracks']()[_0x3b1281(0xa0d)](_0x4ab411=>{const _0x38a5b9=_0x3b1281;_0x4ab411[_0x38a5b9(0x5e6)](),this['mediaStream'][_0x38a5b9(0x493)](_0x4ab411);}),super[_0x3b1281(0x31c)]();}[_0x3f1d19(0x140)](_0x1b25dc){const _0x304425=_0x3f1d19,_0x59521d=this[_0x304425(0x3ec)](_0x1b25dc[_0x304425(0x567)]);_0x59521d&&this['removeTrack'](_0x59521d),_0x304425(0x9d7)!==_0x1b25dc[_0x304425(0x567)]?(_0x304425(0x1ce)===_0x1b25dc[_0x304425(0x567)]&&this[_0x304425(0xb07)](_0x1b25dc),this[_0x304425(0x1ff)](_0x1b25dc)):this['addAudioTrack'](_0x1b25dc);}[_0x3f1d19(0x493)](_0x1847a3){const _0x3cd43c=_0x3f1d19,_0x573cd5=this[_0x3cd43c(0x635)](_0x1847a3);return _0x573cd5&&(_0x3cd43c(0x9d7)===_0x573cd5[_0x3cd43c(0x567)]&&(this[_0x3cd43c(0xa21)]?.[_0x3cd43c(0xa5c)](),this[_0x3cd43c(0xa21)]=void 0x0),this[_0x3cd43c(0x53e)]['get'](_0x573cd5[_0x3cd43c(0x567)])?.(),this[_0x3cd43c(0x978)][_0x3cd43c(0x493)](_0x573cd5)),_0x573cd5;}['replaceTrack'](_0x3d7ceb){const _0x536c69=_0x3f1d19;this[_0x536c69(0x493)](_0x3d7ceb[_0x536c69(0x567)]),this[_0x536c69(0x140)](_0x3d7ceb);}['setTransformations'](_0x569b60){this['transformations']=_0x569b60;}['getTrack'](_0x379772){const _0x215edf=_0x3f1d19;return this['clientStream']['getTracks']()[_0x215edf(0x4d3)](_0x1ef6a0=>_0x1ef6a0[_0x215edf(0x567)]===_0x379772)||null;}[_0x3f1d19(0x635)](_0x4035f8){const _0x3c3741=_0x3f1d19;return _0x3c3741(0x618)==typeof _0x4035f8?this[_0x3c3741(0x3ec)](_0x4035f8):_0x4035f8;}['addAudioTrack'](_0x2d9ed0){const _0x35c306=_0x3f1d19;_0x35c306(0x4de)===this[_0x35c306(0x2f9)][_0x35c306(0x720)]&&this[_0x35c306(0x2f9)][_0x35c306(0x3d9)](),this[_0x35c306(0x978)][_0x35c306(0x140)](_0x2d9ed0),this[_0x35c306(0xa21)]=this[_0x35c306(0x2f9)]['createMediaStreamSource'](this[_0x35c306(0x978)]),this[_0x35c306(0xa21)][_0x35c306(0x6eb)](this[_0x35c306(0x636)]);}['addVideoTrack'](_0x2d232d){const _0x4e9e92=_0x3f1d19;this['clientStream'][_0x4e9e92(0x140)](_0x2d232d),this[_0x4e9e92(0x85c)]['load']();}}class _0x3336fc extends _0x69988f{}class _0x3965ef extends _0x49de5b{[_0x3f1d19(0x72c)];['clusterId'];[_0x3f1d19(0x3db)];['transactionService'];[_0x3f1d19(0x52a)];[_0x3f1d19(0xa4f)];[_0x3f1d19(0x526)];[_0x3f1d19(0x3c3)];[_0x3f1d19(0x2db)]=new Map();[_0x3f1d19(0x1cd)]=new Map();[_0x3f1d19(0x4a2)]=new Map();[_0x3f1d19(0x4be)]=new Map();[_0x3f1d19(0x6c5)]=new Map();[_0x3f1d19(0x5a2)]=new Map();[_0x3f1d19(0x957)];['eventListener']=_0x239c52();[_0x3f1d19(0x53d)]=new Map();[_0x3f1d19(0x34c)];[_0x3f1d19(0x559)]=0x0;[_0x3f1d19(0x8cc)]=0x0;['syncContent']=!0x0;[_0x3f1d19(0x384)]=!0x0;['filesSynced']=0x0;[_0x3f1d19(0xa9e)]=0x0;constructor(_0x4e647a,_0x6fd7a8,_0x3af533,_0x1577fc,_0x143cd8,_0x3d13b5,_0x4f2d5c,_0x405ccd){const _0x8a14ad=_0x3f1d19;if('string'!=typeof _0x6fd7a8)throw new _0x122c6c(_0x26fc1d['ObjectStoreNameNotString'],_0x8a14ad(0x570));super(_0x4e647a,_0x6fd7a8),this[_0x8a14ad(0x72c)]=_0x4e647a,this[_0x8a14ad(0x7d9)]=_0x3af533,this[_0x8a14ad(0x3db)]=_0x1577fc,this[_0x8a14ad(0x2a5)]=_0x143cd8,this[_0x8a14ad(0x52a)]=_0x4f2d5c,this[_0x8a14ad(0xa4f)]=_0x405ccd;const _0x43810b=_0x8a14ad(0x199)+this['vendorId']+_0x8a14ad(0x199)+this[_0x8a14ad(0x7d9)]+_0x8a14ad(0x199)+_0x6fd7a8;this['objectStoreConnector']=new _0x3d13b5(_0x43810b),this['syncContent']=this[_0x8a14ad(0xa4f)]?.[_0x8a14ad(0x3ef)]??!0x0,this[_0x8a14ad(0xa4f)]?.['standalone']&&(this[_0x8a14ad(0x3ef)]=!0x1),this[_0x8a14ad(0x7e4)]();}[_0x3f1d19(0xa91)](){const _0x40edb8=_0x3f1d19;this[_0x40edb8(0x7e4)]();}[_0x3f1d19(0x200)](){const _0x164ad5=_0x3f1d19;return _0x1c7ce5[_0x164ad5(0x5a3)][_0x164ad5(0x3d6)];}async[_0x3f1d19(0x4ce)](){const _0x4e5afa=_0x3f1d19;this[_0x4e5afa(0x384)]=!0x0;try{const _0x1e95b3=await this[_0x4e5afa(0x957)][_0x4e5afa(0x459)](_0x18b8da),_0x4c7bab=await _0x1e95b3[_0x4e5afa(0x571)]();this[_0x4e5afa(0x3c3)]=_0x4c7bab;}catch(_0x2da215){}this[_0x4e5afa(0x526)]=this[_0x4e5afa(0x816)](async(_0x2dcbaa,_0xad5d6f)=>{const _0xaa4191=_0x4e5afa;if(!(_0xad5d6f instanceof File))try{if(_0xad5d6f[_0xaa4191(0x3e6)]===_0x41ddae['Request'])return void this['handleRequestPayload'](_0xad5d6f);this[_0xaa4191(0x59b)](_0xad5d6f);}catch(_0x3dde33){if(_0x3dde33 instanceof _0x5c1da3)throw _0x3dde33;throw new _0x5c1da3(_0x5c1da3[_0xaa4191(0x91b)][_0xaa4191(0x5db)],{'payload':_0xad5d6f});}}),await this[_0x4e5afa(0x798)](),this[_0x4e5afa(0x3ef)]?await this[_0x4e5afa(0x97f)]():this['completeSync'](),this[_0x4e5afa(0x7e4)]();}[_0x3f1d19(0x31c)](){const _0x4d6565=_0x3f1d19;this[_0x4d6565(0x526)]?.(),this[_0x4d6565(0x53d)][_0x4d6565(0xa0d)](_0x4cf845=>_0x4cf845()),this[_0x4d6565(0x53d)]['clear'](),clearTimeout(this[_0x4d6565(0x34c)]),delete this[_0x4d6565(0x34c)],super[_0x4d6565(0x31c)]();}[_0x3f1d19(0x87b)](){const _0x3926f2=_0x3f1d19;this[_0x3926f2(0x8f2)]?.[_0x3926f2(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x3926f2(0x442)],'content':{'type':_0x65c889[_0x3926f2(0x1e2)],'label':this['label']}});}['subscribe'](_0x21b100,_0x43b86e){const _0x242935=_0x3f1d19;if(this['listenerUnsubscribers']['has'](_0x21b100))throw new _0x122c6c(_0x26fc1d['ObjectStoreAlreadySubscribed'],_0x242935(0xad4));this[_0x242935(0x53d)]['set'](_0x21b100,this[_0x242935(0xacb)][_0x242935(0x565)](_0x43b86e)),this[_0x242935(0x384)]||this[_0x242935(0xacb)][_0x242935(0x4f8)]({'event':_0x1c7ce5[_0x242935(0x3b5)][_0x242935(0x98d)],'payload':{'filesSynced':this['filesSynced']}});}[_0x3f1d19(0x87c)](_0x573311){const _0x3dd05c=_0x3f1d19;this[_0x3dd05c(0x53d)]['get'](_0x573311)?.(),this[_0x3dd05c(0x53d)][_0x3dd05c(0x233)](_0x573311);}[_0x3f1d19(0x4f8)](_0x46e8d8){const _0x1a50e5=_0x3f1d19;switch(_0x46e8d8['action']){case _0x1c7ce5[_0x1a50e5(0x2b9)][_0x1a50e5(0x2f4)]:return this[_0x1a50e5(0x74f)](_0x46e8d8['file'],_0x46e8d8['path'],_0x46e8d8[_0x1a50e5(0xa4f)]);case _0x1c7ce5[_0x1a50e5(0x2b9)][_0x1a50e5(0x598)]:return this[_0x1a50e5(0x89c)](_0x46e8d8[_0x1a50e5(0x1f9)]);case _0x1c7ce5['PayloadAction'][_0x1a50e5(0x68a)]:return this[_0x1a50e5(0xb68)](_0x46e8d8[_0x1a50e5(0x1f9)],_0x46e8d8[_0x1a50e5(0x9ac)]);default:throw new _0x122c6c(_0x26fc1d[_0x1a50e5(0x373)],_0x1a50e5(0x609)+_0x46e8d8);}}async[_0x3f1d19(0x908)](_0x26a6bf){const _0x5ed561=_0x3f1d19;try{const _0x12d9fb=(0x0,_0x54796e['v4'])(),_0x1ac17f=this[_0x5ed561(0x3c3)],_0x13b840={'payloadType':_0x41ddae[_0x5ed561(0x90b)],'action':_0x1fa564[_0x5ed561(0x80f)],'id':_0x12d9fb,'parentId':_0x1ac17f,'path':_0x26a6bf};await this[_0x5ed561(0x5f9)](_0x13b840);const _0x3567a1=await this[_0x5ed561(0x8b8)](_0x26a6bf);!0x0!==this['options']?.[_0x5ed561(0x353)]&&await this[_0x5ed561(0x3b4)](_0x13b840),_0x576b91['logServiceEvent'](_0x1cb6a4['ObjectStorage'],{'type':_0x5ed561(0x908),'label':this[_0x5ed561(0x792)],'nodeId':this[_0x5ed561(0x72c)]['getId'](),'nodeType':this[_0x5ed561(0x72c)][_0x5ed561(0x8c9)],'clusterId':this[_0x5ed561(0x7d9)],'kind':_0x3567a1,'path':_0x26a6bf}),this['writes']+=0x1,this[_0x5ed561(0x7e4)]();}catch(_0x4d5feb){if(_0x4d5feb instanceof _0x5c1da3)throw new _0x122c6c(_0x26fc1d['ObjectStoreNotInSync'],_0x5ed561(0x26f)+_0x26a6bf+_0x5ed561(0x737));throw new _0x122c6c(_0x26fc1d[_0x5ed561(0xa84)],_0x5ed561(0x59a)+_0x26a6bf);}}async[_0x3f1d19(0x459)](_0x31be25,_0x4e14de){const _0x3b10fe=_0x3f1d19;_0x576b91['logServiceEvent'](_0x1cb6a4[_0x3b10fe(0x857)],{'type':_0x3b10fe(0x459),'label':this[_0x3b10fe(0x792)],'nodeId':this[_0x3b10fe(0x72c)]['getId'](),'nodeType':this[_0x3b10fe(0x72c)][_0x3b10fe(0x8c9)],'clusterId':this[_0x3b10fe(0x7d9)],'path':_0x31be25}),this['reads']+=0x1,this[_0x3b10fe(0x7e4)]();try{return await this[_0x3b10fe(0x957)][_0x3b10fe(0x459)](_0x31be25,_0x4e14de);}catch(_0x3a7859){try{await this[_0x3b10fe(0x957)][_0x3b10fe(0x459)](_0x31be25+_0x599228);}catch(_0x4995bd){throw new _0x122c6c(_0x26fc1d[_0x3b10fe(0xa84)],_0x3b10fe(0x931)+_0x31be25);}throw new _0x122c6c(_0x26fc1d['ObjectStoreNotInSync'],_0x3b10fe(0xa7b));}}async[_0x3f1d19(0x6c8)](_0x1e9425,_0x2987f7){const _0xb27f9e=_0x3f1d19,{recursive:_0x124432=!0x1,includeSyncingFiles:_0x5f4a5d=!0x1}=_0x2987f7??{};_0x576b91[_0xb27f9e(0x5f3)](_0x1cb6a4[_0xb27f9e(0x857)],{'type':_0xb27f9e(0x6c8),'label':this[_0xb27f9e(0x792)],'nodeId':this[_0xb27f9e(0x72c)][_0xb27f9e(0x7be)](),'nodeType':this[_0xb27f9e(0x72c)][_0xb27f9e(0x8c9)],'clusterId':this[_0xb27f9e(0x7d9)],'path':_0x1e9425}),this['reads']+=0x1,this[_0xb27f9e(0x7e4)]();try{const _0x455e5b=await this[_0xb27f9e(0x957)][_0xb27f9e(0x6c8)](_0x1e9425,_0x124432);return this[_0xb27f9e(0x509)](_0x455e5b,{'recursive':_0x124432,'includeSyncingFiles':_0x5f4a5d});}catch(_0xd97316){throw new _0x122c6c(_0x26fc1d[_0xb27f9e(0xa84)],_0xb27f9e(0xa81)+_0x1e9425);}}[_0x3f1d19(0x6bc)](_0x46311a){const _0x230a62=_0x3f1d19;this[_0x230a62(0xa9e)]+=0x1;for(const _0x2cec90 of this[_0x230a62(0x1cd)][_0x230a62(0x9b6)]())this[_0x230a62(0x3b4)](_0x2cec90,[_0x46311a]);}[_0x3f1d19(0x657)](_0x51fff8){const _0x4165ea=_0x3f1d19;this['nodesConnected']-=0x1;const _0x51dfa3=this[_0x4165ea(0x4a2)]['get'](_0x51fff8);if(_0x51dfa3){for(const [_0xc218c0,_0x1bed8d]of _0x51dfa3[_0x4165ea(0x9b6)]())this['sendFileRequestPayload'](_0xc218c0,_0x1bed8d);this[_0x4165ea(0x4a2)][_0x4165ea(0x233)](_0x51fff8);}}async[_0x3f1d19(0x284)](_0x1d4cb3='/'){const _0x568f5b=_0x3f1d19;try{return await this[_0x568f5b(0x957)][_0x568f5b(0x477)](_0x1d4cb3);}catch(_0x113202){if(_0x113202 instanceof Error&&_0x113202[_0x568f5b(0x759)][_0x568f5b(0xb4d)](_0x568f5b(0x516)))return 0x0;throw new _0x122c6c(_0x26fc1d[_0x568f5b(0xa84)],_0x568f5b(0x71e)+_0x1d4cb3);}}['completeSync'](){const _0x225655=_0x3f1d19;this['isSyncing']&&(this['isSyncing']=!0x1,this['eventListener'][_0x225655(0x4f8)]({'event':_0x1c7ce5[_0x225655(0x3b5)][_0x225655(0x98d)],'payload':{'filesSynced':this[_0x225655(0x9f8)]}}));}async['processList'](_0x38bc7d,{includeSyncingFiles:_0x1cf901=!0x1}){const _0x5b488d=_0x3f1d19,_0x5da36f=[];for(const _0x31e16f of _0x38bc7d)if(_0x31e16f[_0x5b488d(0x567)]!==_0x1c7ce5[_0x5b488d(0x790)]['Folder']){if(_0x31e16f[_0x5b488d(0xb0f)]!==_0x18b8da){if(_0x31e16f[_0x5b488d(0xb0f)][_0x5b488d(0x5f0)](_0x599228)){if(!_0x1cf901)continue;const _0x1aaa6d=_0x31e16f;if(_0x1aaa6d[_0x5b488d(0xb0f)]=_0x1aaa6d['name']['replace'](_0x599228,''),_0x1aaa6d['pathName']=_0x1aaa6d['pathName'][_0x5b488d(0x6d7)](_0x599228,''),await this[_0x5b488d(0x7ca)](_0x1aaa6d[_0x5b488d(0xa32)])){_0x38bc7d[_0x5b488d(0x4d3)](_0xd9ff1e=>_0xd9ff1e['pathName']===_0x1aaa6d['pathName'])['status']=_0x1c7ce5[_0x5b488d(0x83b)][_0x5b488d(0x434)];continue;}_0x1aaa6d[_0x5b488d(0x597)]=_0x1c7ce5[_0x5b488d(0x83b)]['Pending'];}_0x5da36f[_0x5b488d(0x24b)](_0x31e16f);}}else _0x31e16f[_0x5b488d(0x736)]=await this[_0x5b488d(0x509)](_0x31e16f[_0x5b488d(0x736)]??[],{'includeSyncingFiles':_0x1cf901}),_0x5da36f['push'](_0x31e16f);return _0x5da36f;}async[_0x3f1d19(0x74f)](_0x45f4a5,_0x584a1c,_0x19268b){const _0x581162=_0x3f1d19;try{const _0x40246c=(0x0,_0x54796e['v4'])(),_0x474cb9=await _0x3b5872(_0x45f4a5),_0x3f5f6b=_0x237be2(_0x584a1c??'/',_0x45f4a5[_0x581162(0xb0f)]);let _0x1758ea=!0x0;const _0x552a5c={'payloadType':_0x41ddae[_0x581162(0x90b)],'action':_0x1fa564[_0x581162(0x47f)],'id':_0x40246c,'parentId':this[_0x581162(0x3c3)],'answererId':this[_0x581162(0x72c)][_0x581162(0x7be)](),'name':_0x45f4a5['name'],'type':_0x45f4a5[_0x581162(0x8c9)],'path':_0x584a1c??'/','skipEncryption':_0x19268b?.[_0x581162(0x324)]??!0x1,'checksum':_0x474cb9};try{if(!_0x19268b?.[_0x581162(0x722)])throw new Error('Publish\x20the\x20transaction');const _0x166fa4=_0x3f5f6b+_0x599228;await this[_0x581162(0x957)][_0x581162(0x459)](_0x166fa4),_0x1758ea=!0x1,await this[_0x581162(0x957)][_0x581162(0x8b8)](_0x166fa4),this[_0x581162(0x1cd)]['delete'](_0x3f5f6b);}catch(_0x2da079){await this[_0x581162(0x5f9)](_0x552a5c);}if(this['syncContent']||this['options']?.[_0x581162(0x353)]?await this[_0x581162(0x39f)](_0x45f4a5,_0x584a1c,_0x19268b):await this[_0x581162(0x6fe)](_0x45f4a5[_0x581162(0xb0f)],_0x584a1c??'/',{'checksum':_0x474cb9,'skipEncryption':_0x19268b?.[_0x581162(0x324)]??!0x1}),this[_0x581162(0x5a2)][_0x581162(0x1c3)](_0x3f5f6b)){const [_0x5a01cc,_0x48ba43]=this[_0x581162(0x5a2)]['get'](_0x3f5f6b);this[_0x581162(0x5a2)][_0x581162(0xb36)](_0x3f5f6b,[!0x0,_0x48ba43]);try{await _0x48ba43;}catch(_0x2548cd){}this[_0x581162(0x5a2)]['delete'](_0x3f5f6b);}_0x1758ea&&this[_0x581162(0xa9e)]>0x0&&!0x0!==this['options']?.[_0x581162(0x353)]&&await this[_0x581162(0x686)](_0x45f4a5,_0x552a5c),_0x576b91['logServiceEvent'](_0x1cb6a4[_0x581162(0x857)],{'type':_0x581162(0x4f8),'label':this['label'],'nodeId':this[_0x581162(0x72c)][_0x581162(0x7be)](),'nodeType':this[_0x581162(0x72c)][_0x581162(0x8c9)],'clusterId':this[_0x581162(0x7d9)],'kind':_0x1c7ce5[_0x581162(0x790)][_0x581162(0x2f4)],'path':_0x584a1c,'fileName':_0x45f4a5[_0x581162(0xb0f)],'fileType':_0x45f4a5[_0x581162(0x8c9)],'size':_0x45f4a5[_0x581162(0x277)]}),this[_0x581162(0x559)]+=0x1,this['sendStats']();}catch(_0x91c362){if(_0x91c362 instanceof _0x5c1da3)throw new _0x122c6c(_0x26fc1d['ObjectStoreNotInSync'],_0x581162(0xa7b));throw new _0x122c6c(_0x26fc1d[_0x581162(0xa84)],_0x581162(0xb03)+_0x584a1c+(_0x584a1c?.[_0x581162(0x5f0)]('/')?'':'/')+_0x45f4a5['name']);}}async[_0x3f1d19(0x89c)](_0x12a248){const _0x367a28=_0x3f1d19;try{const _0x2c913b=(0x0,_0x54796e['v4'])(),_0x201c56=this[_0x367a28(0x3c3)],_0xec41da={'payloadType':_0x41ddae['Transaction'],'action':_0x1fa564[_0x367a28(0x348)],'id':_0x2c913b,'parentId':_0x201c56,'path':_0x12a248};await this['publishTransaction'](_0xec41da),await this[_0x367a28(0x957)][_0x367a28(0x282)](_0x12a248),!0x0!==this[_0x367a28(0xa4f)]?.['standalone']&&await this['send'](_0xec41da),_0x576b91[_0x367a28(0x5f3)](_0x1cb6a4[_0x367a28(0x857)],{'type':_0x367a28(0x4f8),'label':this[_0x367a28(0x792)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x367a28(0x72c)][_0x367a28(0x8c9)],'clusterId':this[_0x367a28(0x7d9)],'kind':_0x1c7ce5[_0x367a28(0x790)]['Folder'],'path':_0x12a248}),this[_0x367a28(0x559)]+=0x1,this[_0x367a28(0x7e4)]();}catch(_0x56e79e){if(_0x56e79e instanceof _0x5c1da3)throw new _0x122c6c(_0x26fc1d[_0x367a28(0x32d)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x122c6c(_0x26fc1d[_0x367a28(0xa84)],'Cannot\x20publish\x20folder:\x20'+_0x12a248);}}async[_0x3f1d19(0xb68)](_0x4a4b75,_0x581e03){const _0x122c03=_0x3f1d19;try{const _0x424a3d=(0x0,_0x54796e['v4'])(),_0x3140e4=this[_0x122c03(0x3c3)],_0x587448={'payloadType':_0x41ddae[_0x122c03(0x90b)],'action':_0x1fa564[_0x122c03(0x68a)],'id':_0x424a3d,'parentId':_0x3140e4,'path':_0x4a4b75,'newPath':_0x581e03};await this[_0x122c03(0x5f9)](_0x587448);const _0x3ca4d8=await this['moveObject'](_0x4a4b75,_0x581e03);!0x0!==this[_0x122c03(0xa4f)]?.['standalone']&&await this[_0x122c03(0x3b4)](_0x587448),_0x576b91['logServiceEvent'](_0x1cb6a4['ObjectStorage'],{'type':_0x122c03(0x813),'label':this[_0x122c03(0x792)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x122c03(0x72c)][_0x122c03(0x8c9)],'clusterId':this[_0x122c03(0x7d9)],'kind':_0x3ca4d8,'path':_0x4a4b75,'newPath':_0x581e03}),this[_0x122c03(0x559)]+=0x1,this[_0x122c03(0x7e4)]();}catch(_0x261703){if(_0x261703 instanceof _0x5c1da3)throw new _0x122c6c(_0x26fc1d['ObjectStoreNotInSync'],_0x122c03(0xa7b));throw new _0x122c6c(_0x26fc1d[_0x122c03(0xa84)],_0x122c03(0x488)+_0x4a4b75);}}async[_0x3f1d19(0x59b)](_0x2cc5bf,_0x3ee6c6=!0x1){const _0x3d832c=_0x3f1d19;if(this['lastTransactionId']&&_0x2cc5bf[_0x3d832c(0x79e)]!==this[_0x3d832c(0x3c3)]&&_0x2cc5bf['id']!==this['lastTransactionId']){if(!_0x2cc5bf[_0x3d832c(0x79e)])throw new _0x5c1da3(_0x5c1da3[_0x3d832c(0x91b)][_0x3d832c(0x5db)]);this[_0x3d832c(0x2db)][_0x3d832c(0xb36)](_0x2cc5bf[_0x3d832c(0x79e)],_0x2cc5bf);}else{try{await this[_0x3d832c(0x3cf)](_0x2cc5bf,_0x3ee6c6);}catch(_0x270561){}await this[_0x3d832c(0x840)](_0x2cc5bf['id']),await this[_0x3d832c(0x4a1)](_0x2cc5bf['id'],_0x3ee6c6);}}async[_0x3f1d19(0x3cf)](_0x38e657,_0x373896=!0x1){const _0x1302f2=_0x3f1d19;switch(_0x38e657[_0x1302f2(0x677)]){case _0x1fa564[_0x1302f2(0x47f)]:await this['handleFileWrite'](_0x38e657);break;case _0x1fa564['FolderCreate']:await this[_0x1302f2(0x4c0)](_0x38e657);break;case _0x1fa564[_0x1302f2(0x68a)]:await this[_0x1302f2(0x25d)](_0x38e657,_0x373896);break;case _0x1fa564[_0x1302f2(0x80f)]:await this[_0x1302f2(0x8fd)](_0x38e657,_0x373896);break;default:throw new _0x5c1da3(_0x5c1da3[_0x1302f2(0x91b)][_0x1302f2(0x5db)],{'payload':_0x38e657});}}async[_0x3f1d19(0x4a1)](_0x3d0d4d,_0x676587=!0x1){const _0xa85764=_0x3f1d19;if(this['pendingSyncTransactions'][_0xa85764(0x1c3)](_0x3d0d4d)){const _0x129ddd=this[_0xa85764(0x2db)][_0xa85764(0x459)](_0x3d0d4d);this['pendingSyncTransactions'][_0xa85764(0x233)](_0x3d0d4d),await this[_0xa85764(0x59b)](_0x129ddd,_0x676587);}}async[_0x3f1d19(0x74a)](_0x5e0e20){const _0x96de23=_0x3f1d19;switch(_0x5e0e20[_0x96de23(0x677)]){case _0x1fa564[_0x96de23(0x583)]:return this[_0x96de23(0x5c7)](_0x5e0e20);case _0x1fa564[_0x96de23(0x330)]:return this[_0x96de23(0x1b0)](_0x5e0e20);case _0x1fa564[_0x96de23(0x301)]:return this[_0x96de23(0x3ff)](_0x5e0e20);case _0x1fa564[_0x96de23(0xa0a)]:return this[_0x96de23(0x8b4)](_0x5e0e20);default:throw new _0x5c1da3(_0x5c1da3['codes']['ObjectStoreInvalidSyncMessage'],{'payload':_0x5e0e20});}}async[_0x3f1d19(0x8b4)](_0x573b48,_0x128366=0x0){const _0x210b6f=_0x3f1d19,_0x3975ab=_0x237be2(_0x573b48['path'],_0x573b48[_0x210b6f(0xb0f)]);if(!_0x573b48['data']||void 0x0===_0x573b48[_0x210b6f(0x958)]||!_0x573b48[_0x210b6f(0x4ff)])return this[_0x210b6f(0x70a)]['delete'](_0x3975ab),void await this[_0x210b6f(0x6fe)](_0x573b48[_0x210b6f(0xb0f)],_0x573b48[_0x210b6f(0x1f9)],{'checksum':_0x573b48[_0x210b6f(0x899)],'skipEncryption':_0x573b48[_0x210b6f(0x324)]});if(this[_0x210b6f(0x70a)][_0x210b6f(0x1c3)](_0x3975ab)){const _0x2e1059=this['fileChunks'][_0x210b6f(0x459)](_0x3975ab);_0x2e1059['checksum']!==_0x573b48[_0x210b6f(0x899)]&&(_0x2e1059[_0x210b6f(0x159)]?.[_0x210b6f(0x87b)](),this[_0x210b6f(0x70a)][_0x210b6f(0x233)](_0x3975ab));}if(!this[_0x210b6f(0x70a)][_0x210b6f(0x1c3)](_0x3975ab)){try{await this[_0x210b6f(0x957)][_0x210b6f(0x8b8)](_0x3975ab);}catch(_0x2b8c8d){}try{const _0x3d8bd1=this[_0x210b6f(0x3ef)]?await this['objectStoreConnector'][_0x210b6f(0x9d5)](_0x3975ab,{'skipEncryption':_0x573b48['skipEncryption']}):void 0x0,_0x48662c={'chunksReceived':_0x573b48[_0x210b6f(0x4b7)]??0x0,'bytesReceived':0x0,'stream':_0x3d8bd1,'checksum':_0x573b48[_0x210b6f(0x899)]};this['fileChunks'][_0x210b6f(0xb36)](_0x3975ab,_0x48662c),await this[_0x210b6f(0x6fe)](_0x573b48[_0x210b6f(0xb0f)],_0x573b48[_0x210b6f(0x1f9)],{'checksum':_0x573b48[_0x210b6f(0x899)],'skipEncryption':_0x573b48['skipEncryption']});}catch(_0x1bf56f){}}const _0x375a78=this[_0x210b6f(0x70a)][_0x210b6f(0x459)](_0x3975ab);if(_0x573b48['checksum']!==_0x375a78[_0x210b6f(0x899)])return;if(this[_0x210b6f(0xaa5)](_0x573b48,_0x3975ab),this[_0x210b6f(0x3ef)]){if(!_0x375a78[_0x210b6f(0x159)])throw new _0x5c1da3(_0x5c1da3[_0x210b6f(0x91b)][_0x210b6f(0x5db)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x57ea51=_0x375a78[_0x210b6f(0x7a6)];if(_0x573b48['index']!==_0x57ea51){if(_0x57ea51>_0x573b48[_0x210b6f(0x958)])return;const _0x4335a2=0x1000;if(_0x573b48[_0x210b6f(0x958)]>_0x57ea51+_0x4335a2)return;if(_0x375a78[_0x210b6f(0x2df)]||(_0x375a78[_0x210b6f(0x2df)]=[]),_0x375a78[_0x210b6f(0x2df)][_0x210b6f(0x744)]>0x4000)throw this[_0x210b6f(0x70a)]['delete'](_0x3975ab),new _0x5c1da3(_0x5c1da3['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x210b6f(0xa13)});return void _0x375a78[_0x210b6f(0x2df)][_0x210b6f(0x24b)](_0x573b48);}try{_0x375a78[_0x210b6f(0x7a6)]+=0x1,_0x375a78[_0x210b6f(0x934)]+=_0x573b48['data'][_0x210b6f(0x440)],await _0x375a78[_0x210b6f(0x159)]['write'](_0x573b48['data']);}catch(_0x589f58){if(console[_0x210b6f(0x9e0)](_0x210b6f(0xb3a),_0x589f58),_0x128366>0x3)throw this[_0x210b6f(0x70a)]['delete'](_0x3975ab),console['error']('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x589f58),new _0x5c1da3(_0x5c1da3[_0x210b6f(0x91b)][_0x210b6f(0x5db)],{'message':_0x210b6f(0xa8e)});return this[_0x210b6f(0x8b4)](_0x573b48,_0x128366+0x1);}}try{await this[_0x210b6f(0xb12)](_0x375a78,_0x573b48[_0x210b6f(0x958)]+0x1);}catch(_0x2bf1c5){throw this[_0x210b6f(0x70a)][_0x210b6f(0x233)](_0x3975ab),_0x2bf1c5;}if(this[_0x210b6f(0x70a)][_0x210b6f(0xb36)](_0x3975ab,_0x375a78),_0x375a78[_0x210b6f(0x7a6)]<_0x573b48[_0x210b6f(0x4ff)])return;await this[_0x210b6f(0x72f)](_0x3975ab),this[_0x210b6f(0x3ef)]&&(await this[_0x210b6f(0x784)](_0x573b48),_0x576b91[_0x210b6f(0x5f3)](_0x1cb6a4[_0x210b6f(0x857)],{'type':'sync','label':this[_0x210b6f(0x792)],'nodeId':this[_0x210b6f(0x72c)]['getId'](),'nodeType':this[_0x210b6f(0x72c)]['type'],'clusterId':this[_0x210b6f(0x7d9)],'kind':_0x1c7ce5['ObjectKind']['File'],'path':_0x573b48['path'],'fileName':_0x573b48['name'],'fileType':_0x573b48[_0x210b6f(0x8c9)],'size':_0x375a78[_0x210b6f(0x934)]}));const _0xb5c271=this['pendingFilesTransactions'][_0x210b6f(0x459)](_0x573b48[_0x210b6f(0x1f9)])??[];for(const _0x44e16d of _0xb5c271)await this[_0x210b6f(0x3cf)](_0x44e16d);this[_0x210b6f(0x4be)][_0x210b6f(0x233)](_0x573b48[_0x210b6f(0x1f9)]),this[_0x210b6f(0xacb)][_0x210b6f(0x4f8)]({'event':_0x1c7ce5['StorageEventType'][_0x210b6f(0x47f)],'payload':{'file':{'kind':_0x1c7ce5['ObjectKind'][_0x210b6f(0x2f4)],'path':_0x573b48['path'],'type':_0x573b48[_0x210b6f(0x8c9)],'size':_0x375a78['bytesReceived'],'name':_0x573b48[_0x210b6f(0xb0f)],'pathName':_0x3975ab,'status':this['syncContent']?_0x1c7ce5[_0x210b6f(0x83b)][_0x210b6f(0x467)]:_0x1c7ce5['FileStatus'][_0x210b6f(0x8c6)]}}}),this[_0x210b6f(0x7e4)]();}async[_0x3f1d19(0xb12)](_0x390b52,_0x20a39e){const _0x1102d8=_0x3f1d19,_0x351495=_0x390b52[_0x1102d8(0x159)];let _0x5970d7=0x0;for(;_0x390b52[_0x1102d8(0x2df)]&&_0x390b52[_0x1102d8(0x2df)][_0x1102d8(0x744)]>0x0;){const _0x1121b8=_0x390b52[_0x1102d8(0x2df)][_0x1102d8(0x4d3)](_0x12a946=>_0x12a946[_0x1102d8(0x958)]===_0x20a39e+0x1);if(!_0x1121b8)break;_0x390b52[_0x1102d8(0x2df)]=_0x390b52[_0x1102d8(0x2df)][_0x1102d8(0x1e0)](_0x3267e2=>_0x3267e2[_0x1102d8(0x958)]!==_0x20a39e+0x1);try{await _0x351495[_0x1102d8(0x29b)](_0x1121b8[_0x1102d8(0xa34)]),_0x20a39e++;}catch(_0x55a1f6){if(console['error'](_0x1102d8(0xa26),_0x55a1f6),_0x5970d7>0x3)throw console[_0x1102d8(0x9e0)]('Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream',_0x55a1f6),new _0x5c1da3(_0x5c1da3[_0x1102d8(0x91b)][_0x1102d8(0x5db)],{'message':_0x1102d8(0x714)});_0x5970d7++;continue;}_0x390b52['chunksReceived']+=0x1,_0x390b52[_0x1102d8(0x934)]+=_0x1121b8[_0x1102d8(0xa34)][_0x1102d8(0x440)];}}async[_0x3f1d19(0x4c0)](_0x3e4ccb){const _0x10bb9c=_0x3f1d19;await this['objectStoreConnector'][_0x10bb9c(0x282)](_0x3e4ccb[_0x10bb9c(0x1f9)]);const [_0x281260,_0x23214a]=_0x16e0b4(_0x3e4ccb[_0x10bb9c(0x1f9)]);this[_0x10bb9c(0xacb)][_0x10bb9c(0x4f8)]({'event':_0x1c7ce5[_0x10bb9c(0x3b5)][_0x10bb9c(0x348)],'payload':{'folder':{'kind':_0x1c7ce5[_0x10bb9c(0x790)][_0x10bb9c(0x598)],'name':_0x23214a,'path':_0x281260,'pathName':_0x3e4ccb[_0x10bb9c(0x1f9)]}}});}async['handleObjectDelete'](_0x987e0c,_0x4f04b6=!0x1){const _0x595400=_0x3f1d19;if(!_0x4f04b6&&!this[_0x595400(0x326)](_0x987e0c))return;const _0x1de337=await this[_0x595400(0x8b8)](_0x987e0c[_0x595400(0x1f9)]),[_0x510d1b,_0x4c91a4]=_0x16e0b4(_0x987e0c[_0x595400(0x1f9)]);this['eventListener']['publish']({'event':_0x1de337===_0x1c7ce5['ObjectKind']['Folder']?_0x1c7ce5['StorageEventType'][_0x595400(0x25b)]:_0x1c7ce5[_0x595400(0x3b5)][_0x595400(0x7a9)],'payload':{'name':_0x4c91a4,'path':_0x510d1b,'pathName':_0x987e0c[_0x595400(0x1f9)]}}),this[_0x595400(0x7e4)]();}async['handleObjectMove'](_0x418c6f,_0x5632d5=!0x1){const _0x1febf4=_0x3f1d19;if(!_0x5632d5&&!this[_0x1febf4(0x326)](_0x418c6f))return this['pendingFilesRename']['set'](_0x418c6f[_0x1febf4(0x9ac)],this[_0x1febf4(0x6c5)][_0x1febf4(0x459)](_0x418c6f[_0x1febf4(0x1f9)])??_0x418c6f[_0x1febf4(0x1f9)]),void this[_0x1febf4(0x6c5)]['delete'](_0x418c6f[_0x1febf4(0x1f9)]);this[_0x1febf4(0x6c5)][_0x1febf4(0x233)](_0x418c6f['path']);const _0x42b018=await this['objectStoreConnector']['moveObject'](_0x418c6f['path'],_0x418c6f[_0x1febf4(0x9ac)]),[_0x1ccd76,_0x2627ca]=_0x16e0b4(_0x418c6f[_0x1febf4(0x1f9)]),[_0x1dbd3d,_0x50972e]=_0x16e0b4(_0x418c6f[_0x1febf4(0x9ac)]);this[_0x1febf4(0xacb)]['publish']({'event':_0x42b018===_0x1c7ce5[_0x1febf4(0x790)][_0x1febf4(0x598)]?_0x1c7ce5[_0x1febf4(0x3b5)][_0x1febf4(0x762)]:_0x1c7ce5[_0x1febf4(0x3b5)][_0x1febf4(0x85b)],'payload':{'name':_0x50972e,'path':_0x1dbd3d,'pathName':_0x418c6f[_0x1febf4(0x9ac)],'oldName':_0x2627ca,'oldPath':_0x1ccd76,'oldPathName':_0x418c6f[_0x1febf4(0x1f9)]}}),this['sendStats']();}[_0x3f1d19(0x326)](_0x2ca5c9){const _0x39b02a=_0x3f1d19,_0x24f20f=this[_0x39b02a(0x6c5)][_0x39b02a(0x459)](_0x2ca5c9['path'])??_0x2ca5c9[_0x39b02a(0x1f9)];let _0x18096d=!0x1;for(const _0x749fa0 of this[_0x39b02a(0x70a)][_0x39b02a(0xa30)]())if(_0x749fa0[_0x39b02a(0xaf7)](_0x24f20f)){const _0x35f93e=this[_0x39b02a(0x4be)]['get'](_0x749fa0)??[];_0x35f93e[_0x39b02a(0x24b)](_0x2ca5c9),this[_0x39b02a(0x4be)]['set'](_0x749fa0,_0x35f93e),_0x18096d=!0x0;}return!_0x18096d;}async['publishTransaction'](_0x10656a){const _0x4743e6=_0x3f1d19;if(!this[_0x4743e6(0xa4f)]?.[_0x4743e6(0x353)]){if(!_0x10656a['id'])throw new _0x5c1da3(_0x5c1da3[_0x4743e6(0x91b)][_0x4743e6(0x5db)],{'message':_0x4743e6(0x462)});if(_0x10656a[_0x4743e6(0x79e)]!==this[_0x4743e6(0x3c3)])throw new _0x5c1da3(_0x5c1da3[_0x4743e6(0x91b)][_0x4743e6(0x32b)]);await this[_0x4743e6(0x2a5)]['writeTransaction'](_0x10656a,this[_0x4743e6(0x792)]),await this[_0x4743e6(0x840)](_0x10656a['id']);}}async[_0x3f1d19(0x840)](_0x219237){const _0x201300=_0x3f1d19;this[_0x201300(0x3c3)]=_0x219237;const _0x2945bc=new File([new Blob([this[_0x201300(0x3c3)]])],_0x18b8da,{'type':_0x201300(0xa44)});await this['writeFile'](_0x2945bc,'/');}async[_0x3f1d19(0x5c7)](_0x401a4f){const _0x45affd=_0x3f1d19;try{const _0x366f0e=await this['get'](_0x401a4f[_0x45affd(0x1f9)]+'/'+_0x401a4f[_0x45affd(0xb0f)],{'skipEncryption':_0x401a4f[_0x45affd(0x324)]}),_0xcc1f0c=await _0x3b5872(_0x366f0e);if(''!==_0x401a4f['checksum']&&_0xcc1f0c!==_0x401a4f['checksum'])return;_0x401a4f[_0x45affd(0x253)]=this[_0x45affd(0x72c)][_0x45affd(0x7be)](),_0x401a4f[_0x45affd(0x677)]=_0x1fa564['RequestAccepted'],await this[_0x45affd(0x3b4)](_0x401a4f,[_0x401a4f[_0x45affd(0x634)]]);}catch(_0x2ca2df){}}async[_0x3f1d19(0x1b0)](_0x3d8dd2){const _0x45f67f=_0x3f1d19,_0x12332d=_0x237be2(_0x3d8dd2[_0x45f67f(0x1f9)],_0x3d8dd2[_0x45f67f(0xb0f)]);if(!this['objectRequests'][_0x45f67f(0x1c3)](_0x12332d))return;const _0x1ddec5=this[_0x45f67f(0x1cd)][_0x45f67f(0x459)](_0x12332d);_0x1ddec5[_0x45f67f(0x677)]=_0x1fa564[_0x45f67f(0x301)];const _0x12dca7=_0x3d8dd2['answererId'];if(!_0x12dca7)throw new _0x5c1da3(_0x5c1da3[_0x45f67f(0x91b)][_0x45f67f(0x5db)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this[_0x45f67f(0x1cd)][_0x45f67f(0x233)](_0x12332d),this[_0x45f67f(0x4a2)][_0x45f67f(0x1c3)](_0x12dca7)||this['pendingFilesSyncing']['set'](_0x12dca7,new Map()),this[_0x45f67f(0x4a2)]['get'](_0x12dca7)['set'](_0x12332d,[_0x1ddec5,this['getOrResetPendingFileTimeout'](_0x12dca7,_0x12332d)]),_0x1ddec5[_0x45f67f(0x253)]=_0x12dca7,_0x1ddec5['startIndex']=this['fileChunks'][_0x45f67f(0x459)](_0x12332d)?.[_0x45f67f(0x7a6)]??0x0,0x0===_0x1ddec5[_0x45f67f(0x4b7)])try{const [_0x334e19,_0x3b5381]=await this[_0x45f67f(0x659)](_0x3d8dd2[_0x45f67f(0xb0f)],_0x3d8dd2['path'],_0x3d8dd2[_0x45f67f(0x899)]);_0x334e19&&(_0x1ddec5[_0x45f67f(0x4b7)]=_0x3b5381);}catch(_0xf5ac0d){}this['send'](_0x1ddec5,[_0x12dca7]);}async[_0x3f1d19(0x3ff)](_0x49e85d){const _0x1acc7e=_0x3f1d19,_0x5565d8=_0x237be2(_0x49e85d['path'],_0x49e85d[_0x1acc7e(0xb0f)]),_0x447b4a=await this[_0x1acc7e(0x459)](_0x5565d8,{'skipEncryption':_0x49e85d[_0x1acc7e(0x324)]}),_0x215102={..._0x49e85d,'answererId':this[_0x1acc7e(0x72c)][_0x1acc7e(0x7be)](),'action':_0x1fa564[_0x1acc7e(0xa0a)],'startIndex':_0x49e85d[_0x1acc7e(0x4b7)]??0x0};await this[_0x1acc7e(0x686)](_0x447b4a,_0x215102,[_0x49e85d[_0x1acc7e(0x634)]]);}async[_0x3f1d19(0x686)](_0x1473e8,_0x712720,_0x37e05f){let _0x31a2d8,_0x5a1423;const _0x3f2f5d=new Promise(async(_0x56c9e1,_0x37fa36)=>{_0x31a2d8=_0x56c9e1,_0x5a1423=_0x37fa36;});return((async()=>{const _0x2f12b1=a0_0x1394,_0x3e407a=Math[_0x2f12b1(0x815)](_0x1473e8[_0x2f12b1(0x277)]/_0x4fe217);let _0x3912a4=_0x712720[_0x2f12b1(0x4b7)]??0x0;const _0x42453a=_0x237be2(_0x712720['path'],_0x712720['name']);this[_0x2f12b1(0x5a2)][_0x2f12b1(0xb36)](_0x42453a,[!0x1,_0x3f2f5d]);for await(const _0x4e5696 of async function*(_0x1f95a4,_0x1c3236=0x0,_0x2dc945){for await(const _0x500b57 of _0x455e42(_0x1f95a4,_0x1c3236,_0x2dc945))yield _0x500b57;}(_0x1473e8,_0x3912a4,this[_0x2f12b1(0x52a)])){const [_0x349a18]=this['fileSendingMap'][_0x2f12b1(0x459)](_0x42453a)??[];if(_0x349a18)return this[_0x2f12b1(0x5a2)][_0x2f12b1(0x233)](_0x42453a),void _0x5a1423(new Error(_0x2f12b1(0x339)));if(this[_0x2f12b1(0x4be)]['has'](_0x42453a)){const _0x397584=this['pendingFilesTransactions'][_0x2f12b1(0x459)](_0x42453a);for(const _0x242a9d of _0x397584)if(_0x242a9d[_0x2f12b1(0x677)]===_0x1fa564[_0x2f12b1(0x47f)]||_0x242a9d[_0x2f12b1(0x677)]===_0x1fa564[_0x2f12b1(0x80f)])return;}const _0x9e7f7a={..._0x712720,'type':_0x1473e8[_0x2f12b1(0x8c9)],'data':_0x4e5696,'index':_0x3912a4,'total':_0x3e407a};this['send'](_0x9e7f7a,_0x37e05f),_0x3912a4++;}const _0x5ce3a5=setInterval(async()=>{const _0x33d2af=_0x2f12b1;await this[_0x33d2af(0x52a)]()>0x0||(clearInterval(_0x5ce3a5),_0x31a2d8());});this[_0x2f12b1(0x5a2)][_0x2f12b1(0x233)](_0x42453a);})()),_0x3f2f5d;}async[_0x3f1d19(0x784)](_0x4d3e3d){const _0x42e92c=_0x3f1d19;try{const _0x20efe3=_0x237be2(_0x4d3e3d[_0x42e92c(0x1f9)],_0x4d3e3d[_0x42e92c(0xb0f)]),_0x468996=_0x20efe3+_0x599228;await this[_0x42e92c(0x8b8)](_0x468996);const [,_0x254cc1]=this[_0x42e92c(0x4a2)][_0x42e92c(0x459)](_0x4d3e3d['answererId'])?.['get'](_0x20efe3)??[];_0x254cc1&&(clearTimeout(_0x254cc1),this[_0x42e92c(0x4a2)][_0x42e92c(0x459)](_0x4d3e3d[_0x42e92c(0x253)])[_0x42e92c(0x233)](_0x20efe3));}catch(_0x4a7a35){}0x0===this[_0x42e92c(0x4a2)]['get'](_0x4d3e3d[_0x42e92c(0x253)])?.[_0x42e92c(0x277)]&&this[_0x42e92c(0x4a2)][_0x42e92c(0x233)](_0x4d3e3d[_0x42e92c(0x253)]),0x0===this['pendingFilesSyncing'][_0x42e92c(0x277)]&&0x0===this['objectRequests'][_0x42e92c(0x277)]&&this[_0x42e92c(0x17f)]();}async[_0x3f1d19(0x798)](){const _0x412e3a=_0x3f1d19;try{const _0x16f070=await this['transactionService']['getTransactions'](this[_0x412e3a(0x792)],this[_0x412e3a(0x3c3)]);for(const _0x16e568 of _0x16f070)await this['handleTransactionPayload'](_0x16e568,!0x0);}catch(_0x121b88){if(_0x121b88 instanceof _0x5c1da3&&_0x121b88[_0x412e3a(0x380)]===_0x5c1da3[_0x412e3a(0x91b)]['ObjectStoreInvalidState']){await this[_0x412e3a(0x957)]['deleteObject'](_0x18b8da),delete this['lastTransactionId'];try{const _0x589745=await this['objectStoreConnector']['list']('/',!0x1);for(const _0x27c4fd of _0x589745)await this[_0x412e3a(0x957)][_0x412e3a(0x8b8)](_0x27c4fd['pathName']);}catch(_0xd4d2b1){}return await this[_0x412e3a(0x798)]();}throw _0x121b88;}}async[_0x3f1d19(0x97f)](){const _0xa35b04=_0x3f1d19,_0x5b33f2=await this[_0xa35b04(0x6c8)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x6b8c19=async _0x15bf97=>{const _0x1d5095=_0xa35b04;for(const _0x5110e9 of _0x15bf97){if(_0x5110e9[_0x1d5095(0x567)]===_0x1c7ce5['ObjectKind']['Folder']){_0x5110e9[_0x1d5095(0x736)]&&_0x5110e9['entries'][_0x1d5095(0x744)]>0x0&&await _0x6b8c19(_0x5110e9[_0x1d5095(0x736)]);continue;}if(_0x5110e9['status']!==_0x1c7ce5[_0x1d5095(0x83b)][_0x1d5095(0x8c6)])continue;const _0x15a4fb=await this['get'](_0x5110e9[_0x1d5095(0xa32)]+_0x599228),_0x69bc3d=JSON['parse'](await _0x15a4fb['text']()),_0x221a42=_0x5110e9[_0x1d5095(0xb0f)][_0x1d5095(0x6d7)](_0x599228,''),_0x5dd9c9={'payloadType':_0x41ddae[_0x1d5095(0x63a)],'action':_0x1fa564[_0x1d5095(0x583)],'sourceId':this[_0x1d5095(0x72c)][_0x1d5095(0x7be)](),'type':'','path':_0x5110e9[_0x1d5095(0x1f9)],'name':_0x221a42,'checksum':_0x69bc3d['checksum'],'skipEncryption':_0x69bc3d[_0x1d5095(0x324)]},_0x31b41b=_0x237be2(_0x5110e9['path'],_0x221a42);this[_0x1d5095(0x1cd)][_0x1d5095(0xb36)](_0x31b41b,_0x5dd9c9);}};await _0x6b8c19(_0x5b33f2),0x0===this[_0xa35b04(0x1cd)][_0xa35b04(0x277)]&&0x0===this[_0xa35b04(0x4a2)][_0xa35b04(0x277)]&&this[_0xa35b04(0x17f)]();}async[_0x3f1d19(0x6fe)](_0x1daee3,_0x75e138,_0x129386){const _0x2b9e0f=_0x3f1d19,_0x4c00a=new File([new Blob([JSON[_0x2b9e0f(0x300)](_0x129386)])],''+_0x1daee3+_0x599228,{'type':_0x2b9e0f(0xa44)});await this['writeFile'](_0x4c00a,_0x75e138);}async[_0x3f1d19(0x659)](_0x4db773,_0x962b2c,_0x536a9e){const _0x35a3a9=_0x3f1d19;try{const _0x3f4256=_0x237be2(_0x962b2c,_0x4db773),_0x15f05f=_0x3f4256+_0x599228,_0x4cb006=await this[_0x35a3a9(0x957)][_0x35a3a9(0x459)](_0x15f05f),{checksum:_0x5a52b3,skipEncryption:_0x156383}=JSON[_0x35a3a9(0x237)](await _0x4cb006['text']()),_0x548b6c=(await this[_0x35a3a9(0x957)][_0x35a3a9(0x459)](_0x3f4256,{'skipEncryption':_0x156383}))['size'];return _0x5a52b3===_0x536a9e&&_0x548b6c%_0x4fe217==0x0?[!0x0,Math[_0x35a3a9(0x492)](_0x548b6c/_0x4fe217)]:(await this[_0x35a3a9(0x957)][_0x35a3a9(0x8b8)](_0x3f4256),[!0x1,0x0]);}catch(_0x177ec0){return[!0x1,0x0];}}[_0x3f1d19(0x617)](_0x2ed398,_0x2c19a0){const _0x533570=_0x3f1d19,[_0x923e69,_0x24b0c8]=this[_0x533570(0x4a2)][_0x533570(0x459)](_0x2ed398)?.[_0x533570(0x459)](_0x2c19a0)??[];return _0x24b0c8&&clearTimeout(_0x24b0c8),setTimeout(()=>{const _0x3bfab9=_0x533570,[_0x4109d9,_0x4a3dff]=this[_0x3bfab9(0x4a2)][_0x3bfab9(0x459)](_0x2ed398)[_0x3bfab9(0x459)](_0x2c19a0);this[_0x3bfab9(0x79f)](_0x4109d9,_0x4a3dff);},0x927c0);}async['sendFileRequestPayload'](_0x3acb29,_0x183066){const _0x1bbb2b=_0x3f1d19;clearTimeout(_0x183066),_0x3acb29[_0x1bbb2b(0x677)]=_0x1fa564['RequestFile'],this['objectRequests']['set'](_0x237be2(_0x3acb29[_0x1bbb2b(0x1f9)],_0x3acb29[_0x1bbb2b(0xb0f)]),_0x3acb29),this[_0x1bbb2b(0x3b4)](_0x3acb29);}[_0x3f1d19(0xaa5)](_0x37527a,_0x4d8478){const _0x212627=_0x3f1d19;if(!this['syncContent'])return;this[_0x212627(0x4a2)]['has'](_0x37527a[_0x212627(0x253)])||this[_0x212627(0x4a2)][_0x212627(0xb36)](_0x37527a['answererId'],new Map());const [_0x51659f]=this['pendingFilesSyncing'][_0x212627(0x459)](_0x37527a[_0x212627(0x253)])[_0x212627(0x459)](_0x4d8478)??[{'payloadType':_0x41ddae['Request'],'action':_0x1fa564[_0x212627(0x583)],'sourceId':this[_0x212627(0x72c)][_0x212627(0x7be)](),'type':_0x37527a[_0x212627(0x8c9)],'name':_0x37527a[_0x212627(0xb0f)],'path':_0x37527a[_0x212627(0x1f9)],'skipEncryption':_0x37527a['skipEncryption'],'checksum':_0x37527a['checksum'],'answererId':_0x37527a[_0x212627(0x253)]}];this[_0x212627(0x4a2)][_0x212627(0x459)](_0x37527a[_0x212627(0x253)])[_0x212627(0xb36)](_0x4d8478,[_0x51659f,this[_0x212627(0x617)](_0x37527a[_0x212627(0x253)],_0x4d8478)]);}async[_0x3f1d19(0x39f)](_0x41ece0,_0x79bb0,_0x1b30d1){const _0x4e2072=_0x3f1d19;this['isSyncing']&&(this[_0x4e2072(0x9f8)]+=0x1),await this[_0x4e2072(0x957)]['writeFile'](_0x41ece0,_0x79bb0,_0x1b30d1);}async['deleteObject'](_0x3a1f94){const _0x2804e1=_0x3f1d19;try{const _0x4cb404=await this[_0x2804e1(0x957)]['deleteObject'](_0x3a1f94);if(!_0x3a1f94[_0x2804e1(0x5f0)](_0x599228))try{await this[_0x2804e1(0x957)][_0x2804e1(0x8b8)](_0x3a1f94+_0x599228);}catch(_0x53ba9e){}return this[_0x2804e1(0x384)]&&_0x4cb404===_0x1c7ce5[_0x2804e1(0x790)]['File']&&(this[_0x2804e1(0x9f8)]+=0x1),_0x4cb404;}catch(_0x5ac093){return await this[_0x2804e1(0x957)]['deleteObject'](_0x3a1f94+_0x599228);}}async['moveObject'](_0x487352,_0x209c38){const _0x160f0c=_0x3f1d19;try{const _0x22dbdb=await this[_0x160f0c(0x957)][_0x160f0c(0x180)](_0x487352,_0x209c38);if(!_0x487352[_0x160f0c(0x5f0)](_0x599228))try{await this[_0x160f0c(0x957)][_0x160f0c(0x180)](_0x487352+_0x599228,_0x209c38+_0x599228);}catch(_0x4a0529){}return _0x22dbdb;}catch(_0x39055f){return await this[_0x160f0c(0x957)][_0x160f0c(0x180)](_0x487352+_0x599228,_0x209c38+_0x599228);}}['sendStats'](){const _0x1f52be=_0x3f1d19;this[_0x1f52be(0x34c)]&&clearTimeout(this[_0x1f52be(0x34c)]),this[_0x1f52be(0x34c)]=setTimeout(async()=>{const _0x177d21=_0x1f52be;delete this[_0x177d21(0x34c)];const _0x488671=await this[_0x177d21(0x957)][_0x177d21(0x477)]('/');this['systemTopic']?.[_0x177d21(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c['Content'],'content':{'type':_0x65c889['ObjectStoreStats'],'label':this['label'],'stats':{'timestamp':Date[_0x177d21(0x64c)](),'storage':_0x488671,'messagesSent':this[_0x177d21(0x7bf)],'messagesReceived':this[_0x177d21(0x62a)],'bytesSent':this[_0x177d21(0xac7)],'bytesReceived':this[_0x177d21(0x934)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x177d21(0x3ef)]&&_0x576b91['logStorage'](_0x1cb6a4['ObjectStorage'],_0x177d21(0x199)+this[_0x177d21(0x7d9)]+_0x177d21(0x199)+this['label'],_0x488671);},_0x51ac76);}async['syncedFileExists'](_0x12bf73){const _0x31ba98=_0x3f1d19;try{return await this[_0x31ba98(0x459)](_0x12bf73),!0x0;}catch(_0x5519c0){return!0x1;}}async[_0x3f1d19(0x72f)](_0x281e80){const _0x4c8fea=_0x3f1d19;if(!this[_0x4c8fea(0x70a)][_0x4c8fea(0x1c3)](_0x281e80))return;const _0x385a3c=this[_0x4c8fea(0x70a)][_0x4c8fea(0x459)](_0x281e80);if(_0x385a3c[_0x4c8fea(0x159)])try{await _0x385a3c['stream'][_0x4c8fea(0x87b)]();}catch(_0x5078ff){console[_0x4c8fea(0x9e0)](_0x4c8fea(0x61f),_0x5078ff);}this[_0x4c8fea(0x70a)][_0x4c8fea(0x233)](_0x281e80);}}class _0x59bfa3 extends _0x49de5b{[_0x3f1d19(0x72c)];['clusterId'];[_0x3f1d19(0x526)]=new Map();['debounceStats'];constructor(_0x3a7a17,_0x18967c,_0x372c15){const _0x39bc67=_0x3f1d19;if(_0x39bc67(0x618)!=typeof _0x18967c)throw new _0x122c6c(_0x26fc1d[_0x39bc67(0xa9d)],_0x39bc67(0x419));super(_0x3a7a17,_0x18967c),this[_0x39bc67(0x72c)]=_0x3a7a17,this[_0x39bc67(0x7d9)]=_0x372c15,this[_0x39bc67(0x7e4)]();}[_0x3f1d19(0xa91)](){const _0x3de1dd=_0x3f1d19;this[_0x3de1dd(0x7e4)]();}[_0x3f1d19(0x200)](){const _0x53bc25=_0x3f1d19;return _0x1c7ce5['ContentType'][_0x53bc25(0xa1f)];}[_0x3f1d19(0x4f8)](_0x32dcfc,_0x388f29){const _0x24fe1d=_0x3f1d19;_0x576b91[_0x24fe1d(0x279)](_0x419b0a[_0x24fe1d(0xa1f)],_0x24fe1d(0x3fc),this['localNode'][_0x24fe1d(0x7be)](),_0x32dcfc,_0x388f29),_0x576b91[_0x24fe1d(0x5f3)](_0x1cb6a4[_0x24fe1d(0xa1f)],{'type':'publish','label':this[_0x24fe1d(0x792)],'nodeId':this[_0x24fe1d(0x72c)][_0x24fe1d(0x7be)](),'nodeType':this[_0x24fe1d(0x72c)][_0x24fe1d(0x8c9)],'clusterId':this[_0x24fe1d(0x7d9)],'remoteIds':_0x388f29??[],'contentType':_0x32dcfc instanceof File?_0x1c7ce5[_0x24fe1d(0x5a3)][_0x24fe1d(0x2f4)]:_0x1c7ce5['ContentType'][_0x24fe1d(0x86e)],'size':_0x32dcfc instanceof File?_0x32dcfc[_0x24fe1d(0x277)]:JSON[_0x24fe1d(0x300)](_0x32dcfc)[_0x24fe1d(0x744)]}),this[_0x24fe1d(0x7e4)](),this[_0x24fe1d(0x3b4)](_0x32dcfc,_0x388f29);}[_0x3f1d19(0x565)](_0x2dedac,_0x20a403){const _0x2f5b95=_0x3f1d19;if(this[_0x2f5b95(0x526)][_0x2f5b95(0x1c3)](_0x2dedac))throw new _0x122c6c(_0x26fc1d[_0x2f5b95(0x323)],_0x2f5b95(0xa97));this[_0x2f5b95(0x526)][_0x2f5b95(0xb36)](_0x2dedac,this['onMessage']((_0xb15c75,_0x2ee5c3)=>{const _0xaf1a78=_0x2f5b95;_0xaf1a78(0xa34)===_0x2dedac&&_0x2ee5c3 instanceof File||!('file'!==_0x2dedac||_0x2ee5c3 instanceof File)||(_0x576b91[_0xaf1a78(0x279)](_0x419b0a[_0xaf1a78(0xa1f)],_0xaf1a78(0x347),this[_0xaf1a78(0x72c)][_0xaf1a78(0x7be)](),_0xb15c75,_0x2ee5c3),_0x576b91[_0xaf1a78(0x5f3)](_0x1cb6a4[_0xaf1a78(0xa1f)],{'type':_0xaf1a78(0x565),'label':this[_0xaf1a78(0x792)],'nodeId':this[_0xaf1a78(0x72c)][_0xaf1a78(0x7be)](),'nodeType':this[_0xaf1a78(0x72c)][_0xaf1a78(0x8c9)],'clusterId':this[_0xaf1a78(0x7d9)],'remoteId':_0xb15c75,'contentType':_0x2dedac,'size':_0x2ee5c3 instanceof File?_0x2ee5c3['size']:JSON['stringify'](_0x2ee5c3)[_0xaf1a78(0x744)]}),this['sendStats'](),_0x20a403(_0xb15c75,_0x2ee5c3));}));}[_0x3f1d19(0x87c)](_0xf82241){const _0x12a849=_0x3f1d19;this[_0x12a849(0x526)]['get'](_0xf82241)?.(),this['unsubscribeHandler']['delete'](_0xf82241);}[_0x3f1d19(0x31c)](){const _0x1ae5f=_0x3f1d19;this['unsubscribeHandler']['forEach'](_0x3b90ae=>_0x3b90ae()),clearTimeout(this[_0x1ae5f(0x34c)]),delete this[_0x1ae5f(0x34c)],super[_0x1ae5f(0x31c)]();}[_0x3f1d19(0x87b)](){const _0xd5bfad=_0x3f1d19;this['systemTopic']?.['publish']({'sourceId':_0x56bdb9,'messageType':_0x21fe4c['Content'],'content':{'type':_0x65c889['ClosePubSubTopic'],'label':this[_0xd5bfad(0x792)]}});}[_0x3f1d19(0x7e4)](){const _0x45537d=_0x3f1d19;this[_0x45537d(0x34c)]&&clearTimeout(this[_0x45537d(0x34c)]),this[_0x45537d(0x34c)]=setTimeout(()=>{const _0x84dacd=_0x45537d;this['systemTopic']?.[_0x84dacd(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x84dacd(0x442)],'content':{'type':_0x65c889['PubSubTopicStats'],'label':this['label'],'stats':{'timestamp':Date[_0x84dacd(0x64c)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x84dacd(0x62a)],'bytesSent':this[_0x84dacd(0xac7)],'bytesReceived':this[_0x84dacd(0x934)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x51ac76);}}class _0x43165e extends _0x336188{[_0x3f1d19(0x72c)];[_0x3f1d19(0x4cc)];[_0x3f1d19(0x989)];[_0x3f1d19(0x7d9)];[_0x3f1d19(0x526)];[_0x3f1d19(0x5a8)];[_0x3f1d19(0x824)];[_0x3f1d19(0x23c)]=new Map();[_0x3f1d19(0x42e)];['subscribedTracks']=new Set();[_0x3f1d19(0x4a4)];['providerListener']=_0x239c52();[_0x3f1d19(0x53e)]=new Map();constructor(_0x337d39,_0x5cf377,_0x32df4b,_0x224dd9,_0x2f59e9,_0x419bd1){const _0x370b0f=_0x3f1d19;super(_0x5cf377,_0x32df4b,new MediaStream()),this['localNode']=_0x337d39,this[_0x370b0f(0x4cc)]=_0x224dd9,this['availableTrackKinds']=_0x2f59e9,this[_0x370b0f(0x7d9)]=_0x419bd1,this[_0x370b0f(0x194)][_0x370b0f(0x372)]()[_0x370b0f(0xa0d)](_0x1b2ffa=>this['setupTrackEndedListeners'](_0x1b2ffa));}[_0x3f1d19(0x31c)](){const _0x3ac0f0=_0x3f1d19;this['outgoingStreams']['size']>0x0&&(this[_0x3ac0f0(0x23c)]['forEach'](_0x1d52c8=>{const _0x58fba4=_0x3ac0f0;_0x1d52c8[_0x58fba4(0x8ad)](),_0x1d52c8[_0x58fba4(0x31c)]();}),this[_0x3ac0f0(0x23c)][_0x3ac0f0(0x88b)]()),this['trackEndedListeners']['forEach'](_0x721b2=>_0x721b2()),this['mediaStream'][_0x3ac0f0(0x372)]()[_0x3ac0f0(0xa0d)](_0x18b0e1=>this[_0x3ac0f0(0x194)][_0x3ac0f0(0x493)](_0x18b0e1)),this[_0x3ac0f0(0x824)]&&(clearTimeout(this[_0x3ac0f0(0x824)]),delete this[_0x3ac0f0(0x824)]),this['resizeHandler']?.(),super[_0x3ac0f0(0x31c)]();}[_0x3f1d19(0xb17)](_0x34578a){this['unsubscribeHandler']=_0x34578a['subscribe'](({content:_0x5082ec})=>{const _0x1d4dc0=a0_0x1394;switch(_0x5082ec[_0x1d4dc0(0x677)]){case _0x76f098[_0x1d4dc0(0x2bd)]:if(_0x576b91[_0x1d4dc0(0x279)](_0x419b0a[_0x1d4dc0(0x4b1)],'Received\x20track',this[_0x1d4dc0(0x72c)][_0x1d4dc0(0x7be)](),this['providerId']),_0x5082ec['stream']['id']!==this[_0x1d4dc0(0x4cc)]||_0x5082ec['providerId']!==this['providerId'])return;this[_0x1d4dc0(0x493)](_0x5082ec[_0x1d4dc0(0x20f)][_0x1d4dc0(0x567)]),this[_0x1d4dc0(0x194)]['addTrack'](_0x5082ec[_0x1d4dc0(0x20f)]);for(const [_0x1365f6,_0x242239]of this['outgoingStreams'][_0x1d4dc0(0x736)]())try{_0x242239[_0x1d4dc0(0x140)](_0x5082ec['track']);}catch(_0x2185fb){_0x242239['destroy'](),this[_0x1d4dc0(0x23c)][_0x1d4dc0(0x233)](_0x1365f6);}this['setupTrackEndedListeners'](_0x5082ec[_0x1d4dc0(0x20f)]),this['setupRenderElement'](),_0x1d4dc0(0x1ce)===_0x5082ec[_0x1d4dc0(0x20f)][_0x1d4dc0(0x567)]&&this['renderElement']&&(this[_0x1d4dc0(0x194)]['active']?setTimeout(()=>this[_0x1d4dc0(0x42e)]?.[_0x1d4dc0(0x345)](),0x0):setTimeout(()=>this[_0x1d4dc0(0x42e)]?.[_0x1d4dc0(0x15c)](),0x0),this[_0x1d4dc0(0xb1e)]());break;case _0x76f098[_0x1d4dc0(0x371)]:if(_0x5082ec[_0x1d4dc0(0x159)]['id']!==this[_0x1d4dc0(0x4cc)]||_0x5082ec['providerId']!==this['providerId'])return;this[_0x1d4dc0(0x493)](_0x5082ec[_0x1d4dc0(0x20f)]['kind']),this[_0x1d4dc0(0x42e)]&&'video'===_0x5082ec['track'][_0x1d4dc0(0x567)]&&(this[_0x1d4dc0(0x5a8)]?.(),this['mediaStream']['getTracks']()['length']>0x0?this[_0x1d4dc0(0x42e)][_0x1d4dc0(0x15c)]():this[_0x1d4dc0(0x42e)][_0x1d4dc0(0x690)]=null);}});}[_0x3f1d19(0x47a)](){const _0x587cb8=_0x3f1d19;this[_0x587cb8(0x526)]?.(),this[_0x587cb8(0x53e)][_0x587cb8(0xa0d)](_0x47d8de=>_0x47d8de()),delete this[_0x587cb8(0x526)];}[_0x3f1d19(0x896)](){const _0x375615=_0x3f1d19;return this[_0x375615(0x4cc)];}[_0x3f1d19(0x53f)](_0x28ead7){this['internalId']=_0x28ead7;}[_0x3f1d19(0x319)](){const _0x2d690c=_0x3f1d19;return this[_0x2d690c(0x989)];}[_0x3f1d19(0x48e)](_0x1c7462){const _0x59c88f=_0x3f1d19;for(const _0x4c602f of _0x1c7462||this['availableTrackKinds'])if(!this[_0x59c88f(0x194)]['getTracks']()[_0x59c88f(0x4d3)](_0x27043c=>_0x27043c[_0x59c88f(0x567)]===_0x4c602f))return!0x1;return!0x0;}[_0x3f1d19(0x145)](){const _0x3d46cd=_0x3f1d19;let _0x242069={'width':0x0,'height':0x0};const _0x3f6ca3=this['mediaStream']['getVideoTracks']();if(_0x3f6ca3[_0x3d46cd(0x744)]>0x0){const _0x3df9dd=_0x3f6ca3[0x0][_0x3d46cd(0x6f0)]();_0x3df9dd[_0x3d46cd(0x757)]&&_0x3df9dd['height']&&(_0x242069={'width':_0x3df9dd[_0x3d46cd(0x757)],'height':_0x3df9dd[_0x3d46cd(0x3cc)]});}return _0x242069;}['isSubscribed'](_0x1cb705){const _0x3bd318=_0x3f1d19;for(const _0x5ef324 of _0x1cb705)if(!this[_0x3bd318(0x3c6)][_0x3bd318(0x1c3)](_0x5ef324))return!0x1;return!0x0;}[_0x3f1d19(0x421)](_0x3d5e67,_0x5d533d){const _0x4e4cf=_0x3f1d19;if(!this[_0x4e4cf(0x23c)][_0x4e4cf(0x1c3)](_0x3d5e67)){const _0x224745=new _0x32b3ae(this[_0x4e4cf(0x668)],this['label'],this[_0x4e4cf(0x194)],_0x3d5e67,_0x5d533d),_0x534d3b=_0x224745[_0x4e4cf(0x600)](()=>{const _0x45ac7f=_0x4e4cf;_0x534d3b(),this[_0x45ac7f(0x23c)][_0x45ac7f(0x459)](_0x3d5e67)?.[_0x45ac7f(0x31c)](),this[_0x45ac7f(0x23c)][_0x45ac7f(0x233)](_0x3d5e67);});this[_0x4e4cf(0x23c)][_0x4e4cf(0xb36)](_0x3d5e67,_0x224745),_0x224745[_0x4e4cf(0x819)](this[_0x4e4cf(0x8f2)]);}return this['outgoingStreams'][_0x4e4cf(0x459)](_0x3d5e67);}[_0x3f1d19(0xb3e)](){const _0x9b772e=_0x3f1d19;return this[_0x9b772e(0x194)]['id'];}[_0x3f1d19(0xa8f)](){const _0x45353b=_0x3f1d19;return _0x1c7ce5[_0x45353b(0x5c2)][_0x45353b(0x2ed)];}[_0x3f1d19(0x149)](){const _0x5b90fd=_0x3f1d19;return Array[_0x5b90fd(0x663)](this[_0x5b90fd(0x3c6)]);}['subscribe'](_0x543cc8){const _0x2735eb=_0x3f1d19;let _0x5388d4=[];if(_0x543cc8){_0x2735eb(0x725)!=typeof _0x543cc8[_0x2735eb(0x1ce)]||_0x543cc8[_0x2735eb(0x1ce)][_0x2735eb(0x42e)]instanceof HTMLVideoElement||!this['renderElement']||(_0x543cc8[_0x2735eb(0x1ce)]={'renderElement':this[_0x2735eb(0x42e)]});try{(0x0,_0x1c7ce5[_0x2735eb(0x40b)])(_0x543cc8);}catch(_0x550d14){throw new _0x122c6c(_0x26fc1d['RemoteMediaStreamInvalidSubscriptionParams'],'Invalid\x20params');}_0x543cc8[_0x2735eb(0x1ce)]&&(_0x5388d4['push'](_0x2735eb(0x1ce)),_0x2735eb(0xb08)!=typeof _0x543cc8[_0x2735eb(0x1ce)]&&_0x543cc8[_0x2735eb(0x1ce)][_0x2735eb(0x42e)]&&(this[_0x2735eb(0x42e)]=_0x543cc8[_0x2735eb(0x1ce)][_0x2735eb(0x42e)],_0x543cc8[_0x2735eb(0x1ce)][_0x2735eb(0x3c0)]||(_0x543cc8['video']['maxResolution']={'width':this[_0x2735eb(0x42e)][_0x2735eb(0x8d2)],'height':this[_0x2735eb(0x42e)][_0x2735eb(0x88c)]}),delete _0x543cc8[_0x2735eb(0x1ce)]['renderElement'])),_0x543cc8[_0x2735eb(0x9d7)]&&_0x5388d4[_0x2735eb(0x24b)]('audio');}else _0x5388d4=this['getAvailableTrackKinds']();this[_0x2735eb(0x932)](_0x5388d4)||(_0x5388d4['forEach'](_0x2f0e29=>this[_0x2735eb(0x3c6)]['add'](_0x2f0e29)),this[_0x2735eb(0x8f2)]['publish']({'sourceId':_0x56bdb9,'messageType':_0x21fe4c['Content'],'content':{'type':_0x65c889['SubscribeMediaStream'],'label':this[_0x2735eb(0x792)],'ownerId':this[_0x2735eb(0x668)]['getId'](),'trackKinds':_0x5388d4,'params':_0x543cc8}}),_0x576b91[_0x2735eb(0x5f3)](_0x1cb6a4[_0x2735eb(0x4e4)],{'type':_0x2735eb(0x565),'label':this['label'],'nodeId':this[_0x2735eb(0x72c)][_0x2735eb(0x7be)](),'nodeType':this[_0x2735eb(0x72c)]['type'],'clusterId':this[_0x2735eb(0x7d9)],'sourceId':this[_0x2735eb(0x668)][_0x2735eb(0x7be)](),'streamId':this[_0x2735eb(0x4cc)],'trackKinds':_0x5388d4}));}[_0x3f1d19(0x8f8)](_0xef538a){const _0x4c0925=_0x3f1d19;try{(0x0,_0x1c7ce5['isValidMediaSubscriptionParams'])(_0xef538a);}catch(_0x55e2a5){throw new _0x122c6c(_0x26fc1d[_0x4c0925(0x27d)],_0x4c0925(0x719));}this[_0x4c0925(0x824)]&&clearTimeout(this['updateDebounce']),this[_0x4c0925(0x824)]=setTimeout(()=>{const _0x3149b9=_0x4c0925;delete this[_0x3149b9(0x824)],this[_0x3149b9(0x8f2)][_0x3149b9(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x3149b9(0x442)],'content':{'type':_0x65c889[_0x3149b9(0x56d)],'label':this[_0x3149b9(0x792)],'ownerId':this[_0x3149b9(0x668)][_0x3149b9(0x7be)](),'params':_0xef538a}});},0x1f4);}[_0x3f1d19(0x87c)](_0x360b08){const _0x88f22=_0x3f1d19;_0x360b08||(_0x360b08=this['getAvailableTrackKinds']()),(_0x360b08=Array[_0x88f22(0x878)](_0x360b08)?_0x360b08:[_0x360b08])[_0x88f22(0xa0d)](_0x56e262=>this[_0x88f22(0x3c6)][_0x88f22(0x233)](_0x56e262)),this[_0x88f22(0x8f2)][_0x88f22(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x88f22(0x442)],'content':{'type':_0x65c889[_0x88f22(0xa11)],'label':this[_0x88f22(0x792)],'ownerId':this[_0x88f22(0x668)][_0x88f22(0x7be)](),'trackKinds':_0x360b08,'remainingTracks':this[_0x88f22(0x3c6)][_0x88f22(0x277)]}});}[_0x3f1d19(0x991)](_0x5cfd67){const _0x502222=_0x3f1d19;return this[_0x502222(0x64a)]['subscribe'](_0x5cfd67);}[_0x3f1d19(0x6db)](){const _0x5a373d=_0x3f1d19;return this[_0x5a373d(0x4a4)];}[_0x3f1d19(0x23b)](_0x5a79b2){const _0x5087a5=_0x3f1d19;this[_0x5087a5(0x4a4)]!==_0x5a79b2&&(this[_0x5087a5(0x4a4)]=_0x5a79b2,this[_0x5087a5(0x64a)][_0x5087a5(0x4f8)](_0x5a79b2));}['unsubscribeTrackEndedListener'](_0x2d694d){const _0x2d9cb0=_0x3f1d19;this[_0x2d9cb0(0x53e)][_0x2d9cb0(0x459)](_0x2d694d)?.(),this[_0x2d9cb0(0x53e)][_0x2d9cb0(0x233)](_0x2d694d);}[_0x3f1d19(0x493)](_0x392fb3){const _0x36f120=_0x3f1d19,_0xd4d58e=this[_0x36f120(0x194)]['getTracks']()[_0x36f120(0x4d3)](_0x284a86=>_0x284a86[_0x36f120(0x567)]===_0x392fb3);_0xd4d58e&&(this[_0x36f120(0x194)][_0x36f120(0x493)](_0xd4d58e),this['outgoingStreams'][_0x36f120(0xa0d)](_0x59727e=>_0x59727e[_0x36f120(0x493)](_0x392fb3)),this[_0x36f120(0x53e)][_0x36f120(0x459)](_0x392fb3)?.());}[_0x3f1d19(0x273)](){const _0x3b58a6=_0x3f1d19;this[_0x3b58a6(0x42e)]&&(this[_0x3b58a6(0x42e)]['srcObject']&&this[_0x3b58a6(0x42e)]['srcObject']===this[_0x3b58a6(0x194)]||(this[_0x3b58a6(0x42e)][_0x3b58a6(0x690)]=this[_0x3b58a6(0x194)]));}[_0x3f1d19(0xb1e)](){const _0x5728e2=_0x3f1d19;if(this[_0x5728e2(0x42e)]&&!this[_0x5728e2(0x5a8)]&&'undefined'!=typeof ResizeObserver){let _0x45fe9b=this[_0x5728e2(0x42e)][_0x5728e2(0x8d2)],_0x46fe84=this[_0x5728e2(0x42e)][_0x5728e2(0x88c)];const _0x5d07b7=new ResizeObserver(_0x4aacb6=>{const _0x4b2973=_0x5728e2,{width:_0x44bc7d,height:_0x3f6dbf}=_0x4aacb6[0x0]['contentRect'];_0x45fe9b===_0x44bc7d&&_0x46fe84===_0x3f6dbf||(_0x45fe9b=Math[_0x4b2973(0x6cf)](_0x44bc7d),_0x46fe84=Math[_0x4b2973(0x6cf)](_0x3f6dbf),this[_0x4b2973(0x8f8)]({'video':{'maxResolution':{'width':_0x44bc7d,'height':_0x3f6dbf}}}));});_0x5d07b7[_0x5728e2(0x834)](this[_0x5728e2(0x42e)]),this[_0x5728e2(0x5a8)]=()=>_0x5d07b7['disconnect']();}}[_0x3f1d19(0x30d)](_0x4b2d90){const _0x58a3bd=_0x3f1d19,_0x50947a=[];for(const _0x598931 of this[_0x58a3bd(0x3c6)])this['removeTrack'](_0x598931),_0x50947a[_0x58a3bd(0x24b)](_0x598931);this[_0x58a3bd(0x4a4)]&&this[_0x58a3bd(0x8f2)][_0x58a3bd(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x58a3bd(0x442)],'content':{'type':_0x65c889[_0x58a3bd(0xa35)],'label':this['label'],'streamId':this[_0x58a3bd(0x4cc)],'ownerId':this[_0x58a3bd(0x668)][_0x58a3bd(0x7be)](),'providerId':this[_0x58a3bd(0x4a4)],'trackKinds':_0x50947a}});}[_0x3f1d19(0x1ff)](_0x3b94dc){const _0x282e64=_0x3f1d19,_0x365aed=()=>this[_0x282e64(0x30d)](_0x3b94dc);_0x3b94dc[_0x282e64(0x554)](_0x282e64(0x754),_0x365aed),_0x3b94dc[_0x282e64(0x554)]('mute',_0x365aed),this[_0x282e64(0x53e)][_0x282e64(0xb36)](_0x3b94dc[_0x282e64(0x567)],()=>{const _0x45cc2e=_0x282e64;_0x3b94dc[_0x45cc2e(0x275)]('ended',_0x365aed),_0x3b94dc[_0x45cc2e(0x275)]('mute',_0x365aed),this[_0x45cc2e(0x53e)]['delete'](_0x3b94dc[_0x45cc2e(0x567)]);});}}class _0x1f283b extends _0x49de5b{[_0x3f1d19(0x72c)];[_0x3f1d19(0x7d9)];[_0x3f1d19(0x3db)];['db'];[_0x3f1d19(0x34c)];[_0x3f1d19(0x559)]=0x0;['reads']=0x0;[_0x3f1d19(0xa09)]=!0x1;constructor(_0x3734f8,_0x1d35a3,_0xb3f6f8,_0x48a0fa,_0x56f1a2){const _0x43ced3=_0x3f1d19;if('string'!=typeof _0x1d35a3)throw new _0x122c6c(_0x26fc1d[_0x43ced3(0x1cf)],_0x43ced3(0x2c9));super(_0x3734f8,_0x1d35a3),this[_0x43ced3(0x72c)]=_0x3734f8,this[_0x43ced3(0x7d9)]=_0xb3f6f8,this[_0x43ced3(0x3db)]=_0x48a0fa;const _0x3a05d8=_0x43ced3(0x199)+this[_0x43ced3(0x3db)]+'ccc'+this[_0x43ced3(0x7d9)]+_0x43ced3(0x199)+this[_0x43ced3(0x792)];this['db']=new _0x56f1a2(_0x3a05d8),this[_0x43ced3(0x7e4)]();}[_0x3f1d19(0x81f)](){const _0x3d4541=_0x3f1d19;return this[_0x3d4541(0xa09)];}[_0x3f1d19(0x36e)](_0x3ed02a){const _0x4a6c53=_0x3f1d19;this[_0x4a6c53(0xa09)]=_0x3ed02a;}[_0x3f1d19(0x31c)](){const _0xc6fab3=_0x3f1d19;clearTimeout(this[_0xc6fab3(0x34c)]),delete this[_0xc6fab3(0x34c)],super[_0xc6fab3(0x31c)]();}['close'](){const _0x15927a=_0x3f1d19;this[_0x15927a(0x8f2)][_0x15927a(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x15927a(0x442)],'content':{'type':_0x65c889[_0x15927a(0x8c7)],'label':this['label']}});}[_0x3f1d19(0xa91)](){const _0x129509=_0x3f1d19;this[_0x129509(0x7e4)]();}[_0x3f1d19(0x200)](){const _0x59d5c9=_0x3f1d19;return _0x1c7ce5['ContentType'][_0x59d5c9(0xa63)];}['search'](_0xb1c594,_0xf77451,_0x21195c,_0x469184,_0x3ad027){const _0x1d4d74=_0x3f1d19,_0x2b53cf=this['db'][_0x1d4d74(0x32e)](_0xb1c594,_0xf77451,_0x21195c,_0x469184,_0x3ad027);return this[_0x1d4d74(0x8cc)]+=0x1,_0x576b91[_0x1d4d74(0x5f3)](_0x1cb6a4[_0x1d4d74(0xa63)],{'type':_0x1d4d74(0x32e),'label':this['label'],'nodeId':this['localNode'][_0x1d4d74(0x7be)](),'nodeType':this[_0x1d4d74(0x72c)][_0x1d4d74(0x8c9)],'clusterId':this['clusterId'],'size':0x0}),this['sendStats'](),_0x2b53cf;}['insert'](_0x214450,_0xb7e139,_0x39aebb,_0x3b50c4){const _0x5c6184=_0x3f1d19;this['db'][_0x5c6184(0x9ae)](_0x214450,_0xb7e139,_0x39aebb,_0x3b50c4),this['writes']+=0x1,_0x576b91[_0x5c6184(0x5f3)](_0x1cb6a4['VectorDatabase'],{'type':_0x5c6184(0x9ae),'label':this['label'],'nodeId':this[_0x5c6184(0x72c)][_0x5c6184(0x7be)](),'nodeType':this[_0x5c6184(0x72c)]['type'],'clusterId':this[_0x5c6184(0x7d9)],'size':_0x3b50c4[_0x5c6184(0x9ed)]((_0x3f4e72,_0x882cb)=>_0x3f4e72+_0x882cb[_0x5c6184(0x744)],0x0)}),this[_0x5c6184(0x7e4)]();}[_0x3f1d19(0x594)](_0x105a1a){const _0x50f54e=_0x3f1d19;this['db'][_0x50f54e(0x594)](_0x105a1a),this[_0x50f54e(0x559)]+=0x1,_0x576b91['logServiceEvent'](_0x1cb6a4[_0x50f54e(0xa63)],{'type':_0x50f54e(0x594),'label':this[_0x50f54e(0x792)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x50f54e(0x72c)]['type'],'clusterId':this[_0x50f54e(0x7d9)],'size':0x0}),this[_0x50f54e(0x7e4)]();}[_0x3f1d19(0x451)](_0x2dbc41){const _0x396722=_0x3f1d19;this['db'][_0x396722(0x451)](_0x2dbc41);}[_0x3f1d19(0x320)](_0x484bb8){this['db']['loadFromDisk'](_0x484bb8);}['sendStats'](){const _0x2aee94=_0x3f1d19;this[_0x2aee94(0x34c)]&&clearTimeout(this[_0x2aee94(0x34c)]),this[_0x2aee94(0x34c)]=setTimeout(async()=>{const _0x5a5f05=_0x2aee94;delete this['debounceStats'];const _0x29b493=this['db'][_0x5a5f05(0x3ce)]()[_0x5a5f05(0x440)];this[_0x5a5f05(0x8f2)]['publish']({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x5a5f05(0x442)],'content':{'type':_0x65c889[_0x5a5f05(0x3fe)],'label':this[_0x5a5f05(0x792)],'stats':{'timestamp':Date[_0x5a5f05(0x64c)](),'storage':_0x29b493,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x5a5f05(0x62a)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this[_0x5a5f05(0x559)],'reads':this[_0x5a5f05(0x8cc)],'prompts':0x0,'tokens':0x0}}}),_0x576b91[_0x5a5f05(0x96d)](_0x1cb6a4['VectorDatabase'],_0x5a5f05(0x199)+this[_0x5a5f05(0x7d9)]+_0x5a5f05(0x199)+this[_0x5a5f05(0x792)],_0x29b493);},_0x51ac76);}}class _0x5ddf68{['id'];[_0x3f1d19(0x5b6)];['rank'];constructor(_0x323774,_0x37fdcb=new Set(),_0xa30c96){const _0x3f91de=_0x3f1d19;this['id']=_0x323774,this['remoteConnections']=_0x37fdcb,this[_0x3f91de(0x95d)]=_0xa30c96;}['close'](){const _0x3e19a0=_0x3f1d19;this[_0x3e19a0(0x95d)]=void 0x0,this[_0x3e19a0(0x5b6)][_0x3e19a0(0x88b)]();}[_0x3f1d19(0x7be)](){return this['id'];}['getRank'](){return this['rank'];}[_0x3f1d19(0x5c3)](){const _0x33b6bc=_0x3f1d19;return this[_0x33b6bc(0x5b6)];}}class _0xde295a extends _0x5ddf68{['id'];[_0x3f1d19(0x1df)];[_0x3f1d19(0x968)];[_0x3f1d19(0x5b6)];['rank'];['type']=_0x1c7ce5[_0x3f1d19(0x77d)][_0x3f1d19(0x596)];constructor(_0x29dc7c,_0x3d2e5c,_0x4098ee,_0x2b9267=new Set(),_0x33507e){const _0x59e451=_0x3f1d19;super(_0x29dc7c,_0x2b9267,_0x33507e),this['id']=_0x29dc7c,this[_0x59e451(0x1df)]=_0x3d2e5c,this['email']=_0x4098ee,this[_0x59e451(0x5b6)]=_0x2b9267,this[_0x59e451(0x95d)]=_0x33507e;}[_0x3f1d19(0xa78)](){const _0x4ae4da=_0x3f1d19;return this[_0x4ae4da(0x1df)];}['getEmail'](){const _0x13b38a=_0x3f1d19;return this[_0x13b38a(0x968)];}}class _0x541af1{['vendorId'];[_0x3f1d19(0x7d9)];['clusterKey'];constructor(_0x456f28,_0x4214bb){const _0x323fbb=_0x3f1d19;this[_0x323fbb(0x3db)]=_0x456f28,this['clusterId']=_0x4214bb,this[_0x323fbb(0x182)]=_0x323fbb(0x199)+this[_0x323fbb(0x3db)]+_0x323fbb(0x199)+this[_0x323fbb(0x7d9)];}async['writeTransaction'](_0x2cdb07,_0x70ebca){const _0x4c80b2=_0x3f1d19,_0x475e6a=(0x0,_0x16c786[_0x4c80b2(0xb46)])(_0x25e54d['getDatabase'](),'clusters/'+this[_0x4c80b2(0x182)]+_0x4c80b2(0x8eb)+_0x70ebca+_0x4c80b2(0xb45)+_0x2cdb07['id']),_0x512857=(0x0,_0x16c786['onDisconnect'])(_0x475e6a);_0x512857[_0x4c80b2(0x594)](),_0x2cdb07[_0x4c80b2(0x79e)]||delete _0x2cdb07[_0x4c80b2(0x79e)];try{await(0x0,_0x16c786[_0x4c80b2(0xb36)])(_0x475e6a,_0x2cdb07);}catch(_0x4e8a0d){throw await _0x512857[_0x4c80b2(0x88d)](),new _0x5c1da3(_0x5c1da3[_0x4c80b2(0x91b)][_0x4c80b2(0x700)]);}if(!0x1===(await(0x0,_0x16c786[_0x4c80b2(0x775)])((0x0,_0x16c786['ref'])(_0x25e54d[_0x4c80b2(0x2d3)](),_0x4c80b2(0x75a)+this[_0x4c80b2(0x182)]+_0x4c80b2(0x8eb)+_0x70ebca+_0x4c80b2(0x753)),_0x4b59b6=>_0x4b59b6?_0x4b59b6===_0x2cdb07[_0x4c80b2(0x79e)]?_0x2cdb07['id']:void 0x0:_0x2cdb07[_0x4c80b2(0x79e)]?_0x2cdb07[_0x4c80b2(0x79e)]:_0x2cdb07['id']))['committed'])throw await(0x0,_0x16c786[_0x4c80b2(0x594)])(_0x475e6a),await _0x512857[_0x4c80b2(0x88d)](),new _0x5c1da3(_0x5c1da3[_0x4c80b2(0x91b)][_0x4c80b2(0x32b)]);await _0x512857[_0x4c80b2(0x88d)]();}async[_0x3f1d19(0x361)](_0x8a86cd,_0x2dd89a){const _0x1bfcb5=_0x3f1d19;let _0x590129=[];const _0x20d818=(0x0,_0x16c786[_0x1bfcb5(0xb46)])(_0x25e54d['getDatabase'](),'clusters/'+this[_0x1bfcb5(0x182)]+_0x1bfcb5(0x8eb)+_0x8a86cd+_0x1bfcb5(0x98b));let _0x4ecdcc=await(0x0,_0x16c786[_0x1bfcb5(0x459)])((0x0,_0x16c786[_0x1bfcb5(0x39c)])(_0x20d818,(0x0,_0x16c786[_0x1bfcb5(0x6d4)])(0x65),(0x0,_0x16c786[_0x1bfcb5(0x533)])()));if(!_0x4ecdcc[_0x1bfcb5(0x24a)]()){if(void 0x0!==_0x2dd89a)throw new _0x5c1da3(_0x5c1da3['codes']['ObjectStoreInvalidState']);return _0x590129;}const _0x3eff58=_0x4ecdcc[_0x1bfcb5(0x3dc)]();for(;Object[_0x1bfcb5(0xa30)](_0x4ecdcc[_0x1bfcb5(0x3dc)]())[_0x1bfcb5(0x744)]>0x64;){const _0x3f6be6=Object[_0x1bfcb5(0xa30)](_0x4ecdcc['val']()),_0x589c8d=_0x3f6be6[_0x3f6be6[_0x1bfcb5(0x744)]-0x1];_0x4ecdcc=await(0x0,_0x16c786[_0x1bfcb5(0x459)])((0x0,_0x16c786['query'])(_0x20d818,(0x0,_0x16c786['limitToFirst'])(0x65),(0x0,_0x16c786[_0x1bfcb5(0x84b)])(_0x589c8d),(0x0,_0x16c786[_0x1bfcb5(0x533)])())),Object[_0x1bfcb5(0x829)](_0x3eff58,_0x4ecdcc[_0x1bfcb5(0x3dc)]());}if(_0x590129=Object[_0x1bfcb5(0x9b6)](_0x3eff58)[_0x1bfcb5(0x1e0)](_0x3aaa52=>_0x1bfcb5(0x618)!=typeof _0x3aaa52),0x0===_0x590129[_0x1bfcb5(0x744)]&&void 0x0!==_0x2dd89a)throw new _0x5c1da3(_0x5c1da3[_0x1bfcb5(0x91b)][_0x1bfcb5(0x174)]);if(_0x590129[_0x1bfcb5(0x744)]>0x0&&void 0x0!==_0x2dd89a&&!_0x590129[_0x1bfcb5(0x4d3)](_0xd625f7=>_0xd625f7['id']===_0x2dd89a))throw new _0x5c1da3(_0x5c1da3[_0x1bfcb5(0x91b)][_0x1bfcb5(0x174)]);const _0x3b23d2=[];let _0x35d415=_0x590129[_0x1bfcb5(0x4d3)](_0x3bc7a9=>_0x3bc7a9[_0x1bfcb5(0x79e)]===_0x2dd89a);for(;_0x35d415;)_0x3b23d2['push'](_0x35d415),_0x35d415=_0x590129[_0x1bfcb5(0x4d3)](_0x271446=>_0x271446[_0x1bfcb5(0x79e)]===_0x35d415['id']);return _0x3b23d2;}}class _0x2880a6 extends _0x51f755{[_0x3f1d19(0x164)];['generativeAIWorkerConnectors'];[_0x3f1d19(0x47b)];[_0x3f1d19(0x957)];[_0x3f1d19(0xa6b)];[_0x3f1d19(0xabc)];[_0x3f1d19(0x1fa)];[_0x3f1d19(0x222)];[_0x3f1d19(0x7f3)];[_0x3f1d19(0x83f)];[_0x3f1d19(0x7e2)];[_0x3f1d19(0x705)];[_0x3f1d19(0xb1c)]=_0x3c9225;[_0x3f1d19(0x605)]=new Map();[_0x3f1d19(0x50f)]=!0x1;constructor(_0x4b3fcd,_0x1967f0,_0x45728c,_0x45d51e,_0x436248,_0x3a7e54,_0x2cc971,_0x4cc36c,_0x55b102,_0x475603,_0x5e4d60,_0x4e10f2,_0x57684f,_0x4ed028){const _0x2756c3=_0x3f1d19;super(_0x4b3fcd,_0x1967f0),this[_0x2756c3(0x164)]=_0x45728c,this[_0x2756c3(0x9f5)]=_0x45d51e,this['speechAIWorkerConnectors']=_0x436248,this[_0x2756c3(0x957)]=_0x3a7e54,this[_0x2756c3(0xa6b)]=_0x2cc971,this[_0x2756c3(0xabc)]=_0x4cc36c,this['nlpLibraryConnector']=_0x55b102,this['searchConnector']=_0x475603,this['aiSearchConnector']=_0x5e4d60,this['queryFileConnector']=_0x4e10f2,this[_0x2756c3(0x7e2)]=_0x57684f,this[_0x2756c3(0x705)]=_0x4ed028,this[_0x2756c3(0xada)]();}async['getDataBucketIds'](){return[];}async['open'](_0x56ec2f=!0x1){const _0x4d1f6c=_0x3f1d19;if(!this[_0x4d1f6c(0x50f)]){_0x576b91[_0x4d1f6c(0x313)](_0x4d1f6c(0x5fa),this[_0x4d1f6c(0x792)]);try{for(const _0x2bd6f4 of this['generativeAIWorkerConnectors'])await _0x2bd6f4[_0x4d1f6c(0x6e3)](this[_0x4d1f6c(0x792)],this['models']);}catch(_0x4a3422){return this['open'](_0x56ec2f);}this[_0x4d1f6c(0x50f)]=!0x0,_0x576b91[_0x4d1f6c(0x313)](_0x4d1f6c(0x7eb),this[_0x4d1f6c(0x792)]);}}['close'](){const _0x56bed5=_0x3f1d19;this[_0x56bed5(0x8f2)]?.[_0x56bed5(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x56bed5(0x442)],'content':{'type':_0x65c889[_0x56bed5(0x999)],'label':this[_0x56bed5(0x792)]}});}[_0x3f1d19(0x896)](){const _0x47c6c6=_0x3f1d19;return this[_0x47c6c6(0x792)];}[_0x3f1d19(0x200)](){const _0x5499e4=_0x3f1d19;return _0x1c7ce5[_0x5499e4(0x5a3)]['Data'];}[_0x3f1d19(0x4af)](_0x4d6227){const _0x2eddbc=_0x3f1d19,_0x569a4b=_0x2eddbc(0x585)+(0x0,_0x54796e['v4'])();let _0x4c11bf=!0x1;const _0x232949=()=>{const _0x2e48dc=_0x2eddbc;if(_0x4c11bf)throw new _0x5c1da3(_0x5c1da3[_0x2e48dc(0x91b)]['GenerativeAIContextJobAlreadyConsumed']);_0x4c11bf=!0x0;},_0x4b4056={'threadId':_0x2eddbc(0x6ff)+(0x0,_0x54796e['v4'])(),..._0x4d6227};switch(_0x4d6227[_0x2eddbc(0x8c9)]){case _0x2eddbc(0x61c):case'collection-delete':case'collection-query':case _0x2eddbc(0x69b):case _0x2eddbc(0xb6a):case _0x2eddbc(0x263):case _0x2eddbc(0x263):case _0x2eddbc(0x2e3):case _0x2eddbc(0xa1e):case _0x2eddbc(0x22d):case _0x2eddbc(0x884):case _0x2eddbc(0x653):case _0x2eddbc(0x9b4):return{'id':_0x569a4b,..._0x4d6227,'run':()=>(_0x232949(),this[_0x2eddbc(0x615)](_0x569a4b,_0x4b4056))};case'inference':case _0x2eddbc(0x448):return{'id':_0x569a4b,'options':{'threadId':_0x2eddbc(0x6ff)+(0x0,_0x54796e['v4'])()},..._0x4d6227,'run':()=>(_0x232949(),this[_0x2eddbc(0x615)](_0x569a4b,_0x4b4056)),'stream':()=>(_0x232949(),this[_0x2eddbc(0x4f9)](_0x569a4b,_0x4b4056))};default:throw new Error(_0x2eddbc(0x245));}}async[_0x3f1d19(0x615)](_0x14ce20,_0x2d73ba){const _0x262430=_0x3f1d19;if(_0x262430(0x448)===_0x2d73ba[_0x262430(0x8c9)]){await this['startTracing'](_0x14ce20,_0x2d73ba);const _0xfd4cb7=await _0x43e47a[_0x262430(0x2d8)](_0x2d73ba[_0x262430(0x3db)],_0x2d73ba[_0x262430(0x239)]),_0x448e12=_0xfd4cb7[_0x262430(0x37f)][_0x262430(0x4d3)](_0x438d05=>_0x438d05[_0x262430(0x8c9)]===_0x201fdb['Prompt']||_0x438d05['type']===_0x201fdb[_0x262430(0x75e)]),_0x5c7596=await _0x53c71d(_0x2d73ba[_0x262430(0x25a)]??_0x14ce20,_0x2d73ba,_0x448e12,_0xfd4cb7[_0x262430(0x37f)],{'documentParserConnector':this[_0x262430(0xa6b)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x262430(0x1fa)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x262430(0x663)](this[_0x262430(0xb1c)][_0x262430(0x9b6)]()),'contentMediator':this[_0x262430(0x164)],'searchConnector':this[_0x262430(0x222)],'aiSearchConnector':this[_0x262430(0x7f3)],'queryFileConnector':this[_0x262430(0x83f)]});return await this[_0x262430(0x71c)](_0x14ce20,_0x2d73ba),_0x5c7596;}if(_0x262430(0x9b4)===_0x2d73ba[_0x262430(0x8c9)])return await _0x4f4194(_0x2d73ba,{'documentParserConnector':this[_0x262430(0xa6b)],'fileConnector':this[_0x262430(0xabc)],'nlpLibraryConnector':this[_0x262430(0x1fa)],'generativeAIWorkerConnectors':this[_0x262430(0x9f5)],'models':Array['from'](this[_0x262430(0xb1c)]['values']()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x262430(0x7f3)],'queryFileConnector':this[_0x262430(0x83f)]});if(_0x262430(0xb39)===_0x2d73ba[_0x262430(0x8c9)]){await this[_0x262430(0x956)](_0x14ce20,_0x2d73ba);const _0x1e7986=await _0x1baa38(_0x2d73ba[_0x262430(0x25a)]??_0x14ce20,_0x2d73ba,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x262430(0xabc)],'nlpLibraryConnector':this[_0x262430(0x1fa)],'generativeAIWorkerConnectors':this[_0x262430(0x9f5)],'models':Array[_0x262430(0x663)](this[_0x262430(0xb1c)]['values']()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x262430(0x222)],'aiSearchConnector':this[_0x262430(0x7f3)],'queryFileConnector':this[_0x262430(0x83f)]});return await this[_0x262430(0x71c)](_0x14ce20,_0x2d73ba),_0x1e7986;}if(_0x262430(0xa1e)===_0x2d73ba['type'])return await _0x31083d[_0x262430(0x93b)]({'jobType':_0x217459[_0x262430(0xa6c)],'type':_0x5e2cb3[_0x262430(0x162)],'jobId':_0x2d73ba[_0x262430(0x25a)],'threadId':_0x2d73ba['threadId'],'traceLevel':_0x5b73c0[_0x262430(0x2cb)],'startTime':Date['now'](),'timestamp':Date[_0x262430(0x64c)](),'status':_0x262430(0x656),'rating':_0x2d73ba[_0x262430(0x9d6)],'feedback':_0x2d73ba['feedback']}),{'type':_0x262430(0xa1e),'status':_0x1c7ce5[_0x262430(0xb66)][_0x262430(0x832)]};if('tool-call'===_0x2d73ba[_0x262430(0x8c9)])return await _0x269c3e(_0x2d73ba,{'documentParserConnector':this[_0x262430(0xa6b)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x262430(0x9f5)],'models':Array['from'](this[_0x262430(0xb1c)]['values']()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x262430(0x222)],'aiSearchConnector':this[_0x262430(0x7f3)],'queryFileConnector':this[_0x262430(0x83f)]});if(_0x262430(0x884)===_0x2d73ba['type']){const _0x583502=_0x3c9225[_0x262430(0x459)](_0x2d73ba['model']);if(!_0x583502)throw new Error(_0x262430(0xa3e));const _0xab46e8=this['speechAIWorkerConnectors']['find'](_0x58ab0f=>_0x58ab0f[_0x262430(0x60e)]()===_0x583502['engineType']);if(!_0xab46e8)throw new Error(_0x262430(0x7a8));return{'type':_0x262430(0x884),'audio':await _0xab46e8[_0x262430(0x4d2)](_0x2d73ba[_0x262430(0x70e)],_0x2d73ba[_0x262430(0x571)],_0x2d73ba[_0x262430(0x837)],_0x2d73ba[_0x262430(0x789)])};}if('realtime-session-create'===_0x2d73ba[_0x262430(0x8c9)]){const _0x9a6ef9=await _0x43e47a[_0x262430(0x2d8)](_0x2d73ba['vendorId'],_0x2d73ba[_0x262430(0x239)]),_0xfe7cd5=_0x9a6ef9[_0x262430(0x37f)][_0x262430(0x4d3)](_0x14dfbc=>_0x14dfbc['type']===_0x201fdb[_0x262430(0x75e)]),_0x3aecca=_0xfe7cd5[_0x262430(0x217)]?.[_0x262430(0x4d3)](_0x1e9470=>_0x1e9470[_0x262430(0x8c9)]===_0x4a6d79[_0x262430(0x2a7)]),_0xeb7846=_0x9a6ef9[_0x262430(0x37f)]['find'](_0x3192ab=>_0x3192ab[_0x262430(0x8c9)]===_0x201fdb[_0x262430(0x2de)]&&_0x3192ab[_0x262430(0x88f)]===_0x3aecca[_0x262430(0x88f)]),_0x4a57b3=_0x3c9225['get'](_0xeb7846['modelId']),_0x517044=_0x9a6ef9['blocks'][_0x262430(0x1e0)](_0x4c808c=>_0x4c808c['links']?.[_0x262430(0x658)](_0x10a734=>_0x10a734[_0x262430(0x8c9)]===_0x4a6d79[_0x262430(0x7b7)]&&_0x10a734['uid']===_0xeb7846[_0x262430(0x88f)]))[_0x262430(0x871)](_0xdcda4a=>_0x4e12ea(_0xdcda4a,_0x9a6ef9[_0x262430(0x37f)])),_0x5f0d75=_0x9a6ef9[_0x262430(0x37f)]['find'](_0xcf9195=>_0xcf9195[_0x262430(0x8c9)]===_0x201fdb['OutputStream']),_0x30902d=_0x9a6ef9[_0x262430(0x37f)][_0x262430(0x4d3)](_0x50225f=>_0x50225f[_0x262430(0x8c9)]===_0x201fdb['Agent']&&_0x50225f['links']?.[_0x262430(0x658)](_0x1eed02=>_0x1eed02[_0x262430(0x8c9)]===_0x4a6d79[_0x262430(0x2a7)]&&_0x1eed02[_0x262430(0x88f)]===_0x5f0d75['uid'])),_0x2d7dae=_0x9a6ef9['blocks']['find'](_0xf5e4a3=>_0xf5e4a3[_0x262430(0x8c9)]===_0x201fdb[_0x262430(0x2de)]&&_0xf5e4a3[_0x262430(0x88f)]===_0x30902d[_0x262430(0x88f)]),_0x594def=_0x3c9225['get'](_0x2d7dae[_0x262430(0x949)]);return{'type':_0x262430(0x22d),'apiKey':this[_0x262430(0x705)],'sessionType':_0x4a57b3['taskType']===_0x1c7ce5['GenerativeAITaskType']['SpeechToSpeech']?_0x262430(0x590):'chained','firstAgent':{'modelId':_0xeb7846[_0x262430(0x949)],'taskType':_0x4a57b3[_0x262430(0x681)],'instructions':_0xeb7846[_0x262430(0x789)],'temperature':_0xeb7846[_0x262430(0x921)],'maxTokens':_0xeb7846[_0x262430(0x556)],'initialPrompt':_0x9a6ef9[_0x262430(0xa88)],'tools':_0x517044[_0x262430(0x865)](_0x411b83=>({..._0x411b83,'name':this[_0x262430(0x679)](_0x411b83),'description':this[_0x262430(0x29f)](_0x411b83),'parameters':this[_0x262430(0x9f6)](_0x411b83)}))},'lastAgent':{'modelId':_0x2d7dae[_0x262430(0x949)],'taskType':_0x594def['taskType'],'instructions':_0x2d7dae[_0x262430(0x789)],'initialPrompt':_0x9a6ef9[_0x262430(0xa88)]}};}if(_0x262430(0x69b)===_0x2d73ba[_0x262430(0x8c9)]){const {vendorId:_0x20b96e,collectionId:_0x594e53,fileId:_0x394ab6}=_0x2d73ba,_0x48bf23=await _0x43e47a[_0x262430(0x3ba)](_0x20b96e,_0x594e53),_0x5f2f8c=this['ragConnectors']?.[_0x262430(0x459)](_0x48bf23['storageType']);if(!_0x5f2f8c)throw new Error(_0x262430(0x71b));const _0x192f25=_0x1f199c(_0x20b96e,_0x48bf23);if(_0x48bf23['storageType']===_0x1c7ce5['GenerativeAIRagType']['Crewdle'])try{await _0x5f2f8c[_0x262430(0x308)](_0x192f25,_0x594e53,'/'+_0x20b96e+'/'+_0x594e53+'/'+_0x394ab6),await this['objectStoreConnector']['deleteObject']('/'+_0x20b96e+'/'+_0x594e53+'/'+_0x394ab6);}catch(_0x5258d0){_0x576b91[_0x262430(0x9e0)](_0x262430(0x6e9),_0x5258d0);}else try{await _0x5f2f8c[_0x262430(0x308)](_0x192f25,_0x594e53,_0x394ab6);}catch(_0x4016fa){_0x576b91[_0x262430(0x9e0)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x4016fa);}return{'type':_0x262430(0x69b)};}if(_0x262430(0xb6a)===_0x2d73ba[_0x262430(0x8c9)]){let _0x49cac1;const _0x25e650=this[_0x262430(0x605)][_0x262430(0xa30)]();for(;!_0x49cac1;){const _0x52e674=_0x25e650[_0x262430(0xad8)]()[_0x262430(0x225)];if(!_0x52e674)throw new Error(_0x262430(0x9bf));_0x49cac1=this[_0x262430(0x605)]['get'](_0x52e674);try{const _0x345f08=await _0x49cac1[_0x262430(0x459)](_0x2d73ba[_0x262430(0x281)]);return{'type':_0x262430(0xb6a),'fileName':_0x345f08['name'],'mimeType':_0x345f08[_0x262430(0x8c9)],'document':await _0x345f08[_0x262430(0x579)]()};}catch(_0x1a8916){continue;}}throw new Error(_0x262430(0x9bf));}if('file-ingest'===_0x2d73ba[_0x262430(0x8c9)]){const {vendorId:_0x434d8b,collectionId:_0x538139,fileName:_0x1b4de8,content:_0x7c2e65}=_0x2d73ba,_0x229926=await _0x43e47a[_0x262430(0x3ba)](_0x434d8b,_0x538139);if(_0x229926[_0x262430(0x9e6)]!==_0x1c7ce5[_0x262430(0x961)][_0x262430(0x412)]){const _0x3cd6c3=this[_0x262430(0x7e2)]?.[_0x262430(0x459)](_0x229926['storageType']);if(!_0x3cd6c3)throw new Error('No\x20RAG\x20connector\x20available');const _0x246620=_0x1f199c(_0x434d8b,_0x229926);return await _0x3cd6c3[_0x262430(0x729)](_0x246620,_0x538139,_0x1b4de8,_0x7c2e65),{'type':_0x262430(0x263)};}const _0x308c1c=_0x229926[_0x262430(0x14c)]?.[_0x262430(0x4d3)](_0x239dea=>_0x239dea[_0x262430(0x8c9)]===_0xdd22df[_0x262430(0x452)]);if(!_0x308c1c)throw new Error(_0x262430(0x2f0));return await _0x49ea43(_0x2d73ba[_0x262430(0x3db)],_0x14ce20,'/'+_0x434d8b+'/'+_0x538139+'/'+_0x1b4de8,_0x7c2e65,_0x308c1c,_0x229926,{'objectStoreConnector':this[_0x262430(0x957)],'ragConnector':this['ragConnectors']?.[_0x262430(0x459)](_0x1c7ce5[_0x262430(0x961)]['Crewdle']),'documentParserConnector':this[_0x262430(0xa6b)],'fileConnector':this[_0x262430(0xabc)],'nlpLibraryConnector':this[_0x262430(0x1fa)],'generativeAIWorkerConnectors':this[_0x262430(0x9f5)],'models':Array[_0x262430(0x663)](this['models'][_0x262430(0x9b6)]()),'contentMediator':this[_0x262430(0x164)]}),{'type':'file-ingest'};}if(_0x262430(0x2e3)===_0x2d73ba[_0x262430(0x8c9)]){const {vendorId:_0x2db7ed,collectionId:_0xfc25bb}=_0x2d73ba,_0x3030cd=await _0x43e47a[_0x262430(0x3ba)](_0x2db7ed,_0xfc25bb);if(_0x3030cd[_0x262430(0x9e6)]!==_0x1c7ce5[_0x262430(0x961)][_0x262430(0x412)]){const _0x43f628=this[_0x262430(0x7e2)]?.[_0x262430(0x459)](_0x3030cd[_0x262430(0x9e6)]);if(!_0x43f628)throw new Error('No\x20RAG\x20connector\x20available');const _0x2b53e3=_0x1f199c(_0x2db7ed,_0x3030cd);return{'type':'file-list','files':await _0x43f628[_0x262430(0x613)](_0x2b53e3,_0xfc25bb)};}try{return{'type':_0x262430(0x2e3),'files':(await this[_0x262430(0x957)][_0x262430(0x6c8)]('/'+_0x2db7ed+'/'+_0xfc25bb,!0x1))[_0x262430(0x865)](_0x2fd312=>({'name':_0x2fd312[_0x262430(0xb0f)],'id':_0x2fd312[_0x262430(0xb0f)],'status':_0x262430(0x398)}))};}catch(_0x77909e){return{'type':_0x262430(0x2e3),'files':[]};}}if(_0x262430(0x61c)===_0x2d73ba[_0x262430(0x8c9)]){const {vendorId:_0x41a89f,collectionId:_0x1a9a9f}=_0x2d73ba,_0x3ef03a=await _0x43e47a[_0x262430(0x3ba)](_0x41a89f,_0x1a9a9f),_0x41a92b=this['ragConnectors']?.['get'](_0x3ef03a['storageType']);if(!_0x41a92b)return{'type':_0x262430(0x61c)};const _0xb16180=_0x1f199c(_0x41a89f,_0x3ef03a);return await _0x41a92b['createCollection'](_0xb16180,_0x1a9a9f),{'type':_0x262430(0x61c)};}if('collection-delete'===_0x2d73ba[_0x262430(0x8c9)]){const {vendorId:_0x4a7b18,collectionId:_0x8f163f}=_0x2d73ba,_0x158962=await _0x43e47a[_0x262430(0x3ba)](_0x4a7b18,_0x8f163f),_0x4d5d18=this['ragConnectors']?.[_0x262430(0x459)](_0x158962[_0x262430(0x9e6)]);if(!_0x4d5d18)return{'type':'collection-delete'};const _0x5c27a3=_0x1f199c(_0x4a7b18,_0x158962);let _0x21dea7=!0x1;if(_0x158962[_0x262430(0x382)]===_0x480041[_0x262430(0x98f)]&&(_0x21dea7=!0x0),_0x158962[_0x262430(0x382)]===_0x480041[_0x262430(0x7c1)]){_0x21dea7=!0x0;const _0x4ff7ed=await _0x43e47a[_0x262430(0x35b)](_0x4a7b18);for(const _0x5354ee of _0x4ff7ed)if(_0x5354ee[_0x262430(0x9e6)]===_0x158962[_0x262430(0x9e6)]&&_0x5354ee[_0x262430(0x382)]===_0x480041[_0x262430(0x7c1)]&&_0x5354ee['id']!==_0x158962['id']){_0x21dea7=!0x1;break;}}try{await _0x4d5d18[_0x262430(0x879)](_0x5c27a3,_0x8f163f,_0x21dea7);}catch(_0x467228){_0x576b91[_0x262430(0x9e0)](_0x262430(0x85a),_0x467228);}return{'type':_0x262430(0x4d4)};}if(_0x262430(0x1c4)===_0x2d73ba['type']){const {query:_0x505dc4,vendorId:_0x51d951,collectionId:_0x376475}=_0x2d73ba,_0x2394d2=await _0x43e47a[_0x262430(0x3ba)](_0x51d951,_0x376475);if(_0x2394d2[_0x262430(0x9e6)]!==_0x1c7ce5[_0x262430(0x961)][_0x262430(0x412)]){const _0x4c4d07=this[_0x262430(0x7e2)]?.[_0x262430(0x459)](_0x2394d2[_0x262430(0x9e6)]);if(!_0x4c4d07)throw new Error(_0x262430(0x71b));const _0x317282=_0x1f199c(_0x51d951,_0x2394d2);return{'type':_0x262430(0x1c4),'results':await _0x4c4d07['queryCollection'](_0x317282,_0x376475,_0x505dc4,0x1)};}const _0x5bf968=_0x2394d2['retrieveBlocks']?.[_0x262430(0x4d3)](_0x20f1c3=>_0x20f1c3[_0x262430(0x8c9)]===_0xdd22df[_0x262430(0x19a)]);return{'type':_0x262430(0x1c4),'results':(await _0x2ebe32(_0x2d73ba[_0x262430(0x3db)],_0x14ce20,'',_0x505dc4,_0x5bf968,_0x2394d2,{'objectStoreConnector':this[_0x262430(0x957)],'ragConnector':this[_0x262430(0x7e2)]?.[_0x262430(0x459)](_0x1c7ce5[_0x262430(0x961)][_0x262430(0x412)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x262430(0xabc)],'nlpLibraryConnector':this[_0x262430(0x1fa)],'generativeAIWorkerConnectors':this[_0x262430(0x9f5)],'models':Array[_0x262430(0x663)](this[_0x262430(0xb1c)][_0x262430(0x9b6)]()),'contentMediator':this[_0x262430(0x164)],'searchConnector':this[_0x262430(0x222)],'aiSearchConnector':this[_0x262430(0x7f3)],'queryFileConnector':this[_0x262430(0x83f)]}))[_0x262430(0x499)]??[]};}throw new Error(_0x262430(0x7aa));}async*['internalProcessJobStream'](_0x2dc33f,_0x455b9c){const _0x36e433=_0x3f1d19;if('prompt'===_0x455b9c['type']){await this['startTracing'](_0x2dc33f,_0x455b9c);const _0x3c0605=await _0x43e47a[_0x36e433(0x2d8)](_0x455b9c[_0x36e433(0x3db)],_0x455b9c[_0x36e433(0x239)]),_0x1dddea=_0x3c0605[_0x36e433(0x37f)][_0x36e433(0x4d3)](_0x4b8936=>_0x4b8936[_0x36e433(0x8c9)]===_0x201fdb[_0x36e433(0x19a)]||_0x4b8936['type']===_0x201fdb['InputStream']);for await(const _0x3953da of _0x2eccea(_0x455b9c[_0x36e433(0x25a)]??_0x2dc33f,_0x455b9c,_0x1dddea,_0x3c0605['blocks'],{'documentParserConnector':this[_0x36e433(0xa6b)],'fileConnector':this[_0x36e433(0xabc)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x36e433(0x9f5)],'models':Array[_0x36e433(0x663)](this[_0x36e433(0xb1c)][_0x36e433(0x9b6)]()),'contentMediator':this[_0x36e433(0x164)],'searchConnector':this[_0x36e433(0x222)],'aiSearchConnector':this[_0x36e433(0x7f3)],'queryFileConnector':this[_0x36e433(0x83f)]}))yield _0x3953da;await this['stopTracing'](_0x2dc33f,_0x455b9c);}if('inference'===_0x455b9c[_0x36e433(0x8c9)]){await this[_0x36e433(0x956)](_0x2dc33f,_0x455b9c);for await(const _0x5d8992 of _0x19ebf3(_0x455b9c[_0x36e433(0x25a)]??_0x2dc33f,_0x455b9c,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x36e433(0xabc)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x36e433(0x9f5)],'models':Array['from'](this[_0x36e433(0xb1c)][_0x36e433(0x9b6)]()),'contentMediator':this[_0x36e433(0x164)],'searchConnector':this[_0x36e433(0x222)],'aiSearchConnector':this[_0x36e433(0x7f3)],'queryFileConnector':this['queryFileConnector']}))yield _0x5d8992;await this[_0x36e433(0x71c)](_0x2dc33f,_0x455b9c);}}async[_0x3f1d19(0x956)](_0x1e6d1a,_0x143a9a){const _0x373d40=_0x3f1d19;if('rate'===_0x143a9a[_0x373d40(0x8c9)])return _0x1e6d1a=_0x143a9a[_0x373d40(0x25a)],void await this[_0x373d40(0x46e)](_0x1e6d1a,_0x143a9a[_0x373d40(0x3db)],_0x143a9a[_0x373d40(0x239)]);_0x373d40(0x448)!==_0x143a9a[_0x373d40(0x8c9)]&&_0x373d40(0xb39)!==_0x143a9a[_0x373d40(0x8c9)]||!_0x143a9a[_0x373d40(0x25a)]||(_0x1e6d1a=_0x143a9a[_0x373d40(0x25a)]),await this[_0x373d40(0x46e)](_0x1e6d1a,_0x143a9a['vendorId'],_0x143a9a[_0x373d40(0x239)],_0x143a9a['threadId']),await _0x31083d[_0x373d40(0x93b)]({'jobType':_0x217459['Job'],'type':_0x270fc5[_0x373d40(0x850)],'traceLevel':_0x5b73c0['Info'],'jobId':_0x1e6d1a,'threadId':_0x143a9a[_0x373d40(0x36c)],'startTime':Date[_0x373d40(0x64c)](),'timestamp':Date['now'](),'status':'success'});}async[_0x3f1d19(0x71c)](_0x1fd478,_0x31008d){const _0x4c9cbf=_0x3f1d19;if('rate'===_0x31008d['type'])return _0x1fd478=_0x31008d[_0x4c9cbf(0x25a)],void await this[_0x4c9cbf(0x61d)](_0x1fd478);_0x4c9cbf(0x448)!==_0x31008d[_0x4c9cbf(0x8c9)]&&'inference'!==_0x31008d[_0x4c9cbf(0x8c9)]||!_0x31008d[_0x4c9cbf(0x25a)]||(_0x1fd478=_0x31008d[_0x4c9cbf(0x25a)]),await _0x31083d['trace']({'jobType':_0x217459[_0x4c9cbf(0x84c)],'type':_0x270fc5[_0x4c9cbf(0x3b9)],'traceLevel':_0x5b73c0[_0x4c9cbf(0x2cb)],'jobId':_0x1fd478,'threadId':_0x31008d[_0x4c9cbf(0x36c)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x4c9cbf(0x656)}),await this[_0x4c9cbf(0x61d)](_0x1fd478,_0x31008d[_0x4c9cbf(0x36c)]);}async[_0x3f1d19(0x46e)](_0x3665da,_0x2abdda,_0x342b96,_0x4237c1){const _0x5c5328=_0x3f1d19;try{if(!await _0x31083d['openTrace'](_0x2abdda,_0x3665da,_0x342b96,_0x4237c1))throw new Error(_0x5c5328(0x4bf));return _0x3665da;}catch(_0x23dff1){return console[_0x5c5328(0x9e0)](_0x5c5328(0x4bf),_0x23dff1),_0x5c5328(0xabd);}}async[_0x3f1d19(0x61d)](_0x5acd73,_0x371308){const _0x2706db=_0x3f1d19;try{await _0x31083d[_0x2706db(0x61d)](_0x5acd73,_0x371308);}catch(_0x106840){console[_0x2706db(0x9e0)]('Error\x20closing\x20trace',{'jobId':_0x5acd73,'error':_0x106840});}}[_0x3f1d19(0x679)](_0x543ebd){const _0x49dcf8=_0x3f1d19;switch(_0x543ebd['type']){case _0x201fdb[_0x49dcf8(0x2de)]:case _0x201fdb['AgentSkill']:return'executeAgent'+_0x543ebd[_0x49dcf8(0xb0f)][_0x49dcf8(0x6d7)](/[^a-zA-Z]/g,'');case _0x201fdb[_0x49dcf8(0x843)]:return _0x49dcf8(0xb2e)+_0x543ebd['name']['replace'](/[^a-zA-Z]/g,'');case _0x201fdb[_0x49dcf8(0x484)]:case _0x201fdb[_0x49dcf8(0x742)]:return'searchInDataCollection'+_0x543ebd[_0x49dcf8(0xb0f)][_0x49dcf8(0x6d7)](/[^a-zA-Z]/g,'');case _0x201fdb[_0x49dcf8(0xb50)]:return _0x543ebd[_0x49dcf8(0xb0f)][_0x49dcf8(0x6d7)](/[^a-zA-Z]/g,'');case _0x201fdb[_0x49dcf8(0x2da)]:return _0x49dcf8(0x6e7);case _0x201fdb[_0x49dcf8(0x18e)]:return _0x49dcf8(0x8e2);case _0x201fdb[_0x49dcf8(0x270)]:return'searchOnGoogle';case _0x201fdb[_0x49dcf8(0x80d)]:case _0x201fdb['WebScraperRaw']:return _0x49dcf8(0x358);case _0x1c7ce5[_0x49dcf8(0xad1)][_0x49dcf8(0x93e)]:return _0x49dcf8(0x49d)+_0x543ebd[_0x49dcf8(0xb0f)]['replace'](/[^a-zA-Z]/g,'');case _0x1c7ce5[_0x49dcf8(0xad1)]['FormSkillSetAnswer']:return _0x49dcf8(0x1f6)+_0x543ebd[_0x49dcf8(0xb0f)][_0x49dcf8(0x6d7)](/[^a-zA-Z]/g,'');case _0x1c7ce5[_0x49dcf8(0xad1)][_0x49dcf8(0x820)]:return _0x49dcf8(0x673)+_0x543ebd[_0x49dcf8(0xb0f)][_0x49dcf8(0x6d7)](/[^a-zA-Z]/g,'');default:return'';}}[_0x3f1d19(0x29f)](_0x196fdf){const _0x3cf719=_0x3f1d19;switch(_0x196fdf[_0x3cf719(0x8c9)]){case _0x201fdb[_0x3cf719(0x2de)]:case _0x201fdb['AgentSkill']:return _0x3cf719(0xa2b)+_0x196fdf['description']+'\x20to\x20generate\x20a\x20response.';case _0x201fdb[_0x3cf719(0x843)]:return'Execute\x20the\x20workflow\x20'+_0x196fdf['description']+_0x3cf719(0x39e);case _0x201fdb[_0x3cf719(0x484)]:case _0x201fdb['Knowledge']:return'Search\x20in\x20data\x20collection\x20'+_0x196fdf['description']+_0x3cf719(0x964);case _0x201fdb[_0x3cf719(0xb50)]:return _0x3cf719(0xafc)+_0x196fdf[_0x3cf719(0x70b)];case _0x201fdb[_0x3cf719(0x2da)]:return _0x3cf719(0x6fb);case _0x201fdb[_0x3cf719(0x18e)]:return _0x3cf719(0x685);case _0x201fdb['Search']:return _0x3cf719(0xb25);case _0x201fdb[_0x3cf719(0x80d)]:case _0x201fdb['WebScraperRaw']:return _0x3cf719(0x804);case _0x1c7ce5[_0x3cf719(0xad1)][_0x3cf719(0x93e)]:return _0x3cf719(0x405);case _0x1c7ce5[_0x3cf719(0xad1)][_0x3cf719(0xa39)]:return _0x3cf719(0x261);case _0x1c7ce5['GenerativeAIInferenceToolType']['FormSkillSubmitForm']:return'Submit\x20the\x20form.';default:return'';}}[_0x3f1d19(0x9f6)](_0x1045d8){const _0x44cd1e=_0x3f1d19;switch(_0x1045d8[_0x44cd1e(0x8c9)]){case _0x201fdb['Agent']:case _0x201fdb['AgentSkill']:case _0x201fdb[_0x44cd1e(0x843)]:return[{'name':_0x44cd1e(0x448),'type':'string'}];case _0x201fdb[_0x44cd1e(0x484)]:case _0x201fdb[_0x44cd1e(0x742)]:return[{'name':_0x44cd1e(0x343),'type':_0x44cd1e(0x618)}];case _0x201fdb[_0x44cd1e(0xb50)]:return _0x1045d8['parameters'][_0x44cd1e(0x865)](_0x306e64=>({'name':_0x306e64[_0x44cd1e(0xb0f)],'type':_0x306e64[_0x44cd1e(0x8c9)]??_0x44cd1e(0x618)}))??[];case _0x201fdb[_0x44cd1e(0x2da)]:return[{'name':_0x44cd1e(0x39c),'type':'string'}];case _0x201fdb['Code']:return[{'name':_0x44cd1e(0x380),'type':'string'}];case _0x201fdb[_0x44cd1e(0x270)]:return[{'name':_0x44cd1e(0x39c),'type':_0x44cd1e(0x618)}];case _0x201fdb[_0x44cd1e(0x80d)]:case _0x201fdb[_0x44cd1e(0xa28)]:return[{'name':_0x44cd1e(0x1db),'type':_0x44cd1e(0x618)},{'name':_0x44cd1e(0x57d),'type':_0x44cd1e(0x2ff)}];case _0x1c7ce5[_0x44cd1e(0xad1)][_0x44cd1e(0x93e)]:return[];case _0x1c7ce5['GenerativeAIInferenceToolType'][_0x44cd1e(0xa39)]:return[{'name':'id','type':_0x44cd1e(0x618)},{'name':_0x44cd1e(0x799),'type':_0x44cd1e(0x618)}];case _0x1c7ce5[_0x44cd1e(0xad1)][_0x44cd1e(0x820)]:default:return[];}}}class _0x5ec3d5{[_0x3f1d19(0x1b8)];['options'];[_0x3f1d19(0x889)]=new Map();[_0x3f1d19(0x2ac)]=new Map();['pubSubTopics']=new Map();[_0x3f1d19(0xb0c)]=new Map();[_0x3f1d19(0x564)]=new Map();['keyValueDatabases']=new Map();[_0x3f1d19(0x4cb)]=new Map();[_0x3f1d19(0x748)]=new Map();[_0x3f1d19(0x85d)]=new Map();[_0x3f1d19(0x44c)]=new Map();[_0x3f1d19(0x542)]=new Map();[_0x3f1d19(0x2a5)];constructor(_0x14d6f3,_0x4fd1db){const _0x367b4b=_0x3f1d19;this['configs']=_0x14d6f3,this[_0x367b4b(0xa4f)]=_0x4fd1db,this[_0x367b4b(0x2a5)]=new _0x541af1(this['configs']['vendorId'],this[_0x367b4b(0x1b8)][_0x367b4b(0x7d9)]);}['close'](_0x154a89=!0x1){const _0x346cb3=_0x3f1d19;this[_0x346cb3(0x2ac)][_0x346cb3(0xa0d)]((_0xb84d30,_0x8936d7)=>{_0xb84d30['forEach']((_0x348ecf,_0x5910ea)=>{const _0x22e662=a0_0x1394;this[_0x22e662(0x296)](_0x8936d7,_0x5910ea);});}),_0x154a89||(_0x57ab4a[_0x346cb3(0x88b)](),this[_0x346cb3(0x889)][_0x346cb3(0xa0d)]((_0x48dbc2,_0x5a7af6)=>{this['removeLocalMediaStream'](_0x5a7af6);}),this[_0x346cb3(0xa58)][_0x346cb3(0xa0d)]((_0x499c61,_0x262e37)=>{const _0x50ad4d=_0x346cb3;this[_0x50ad4d(0xb5a)](_0x262e37);}),this[_0x346cb3(0xb0c)][_0x346cb3(0xa0d)]((_0x4a4ca5,_0xabe5ac)=>{this['removeObjectStore'](_0xabe5ac);}),this[_0x346cb3(0x564)]['forEach']((_0x4383ea,_0x2a510d)=>{const _0x14cf36=_0x346cb3;this[_0x14cf36(0x828)](_0x2a510d);}),this[_0x346cb3(0xb31)][_0x346cb3(0xa0d)]((_0x1f61d6,_0x49dc40)=>{this['removeKeyValueDatabase'](_0x49dc40);}),this[_0x346cb3(0x85d)][_0x346cb3(0xa0d)]((_0xfe1f7e,_0x30185a)=>{this['removeJobDispatcher'](_0x30185a);}),this[_0x346cb3(0x44c)][_0x346cb3(0xa0d)]((_0x332fed,_0x1bd091)=>{const _0x6cc381=_0x346cb3;this[_0x6cc381(0x1e3)](_0x1bd091);}),this[_0x346cb3(0x542)]['forEach']((_0x3cf0ed,_0x277701)=>{const _0x4fdcc1=_0x346cb3;this[_0x4fdcc1(0x669)](_0x277701);}),this['vectorDatabases'][_0x346cb3(0xa0d)]((_0x37ef49,_0x327887)=>{const _0x57ab45=_0x346cb3;this[_0x57ab45(0x32a)](_0x327887);}),this[_0x346cb3(0x748)][_0x346cb3(0xa0d)]((_0x3ba955,_0x4a61bc)=>{const _0x8fce2b=_0x346cb3;this[_0x8fce2b(0x28a)](_0x4a61bc);}));}[_0x3f1d19(0x885)](_0xe7e147,_0x5a243c,_0x305097){const _0x5197de=_0x3f1d19;if(this['objectStores'][_0x5197de(0x1c3)](_0xe7e147))throw new _0x122c6c(_0x26fc1d[_0x5197de(0xa74)],_0x5197de(0x3b1));const _0x4178fb=new _0x3965ef(this[_0x5197de(0x1b8)][_0x5197de(0x72c)],_0xe7e147,this[_0x5197de(0x1b8)][_0x5197de(0x7d9)],this[_0x5197de(0x1b8)][_0x5197de(0x3db)],this[_0x5197de(0x2a5)],_0x5a243c,()=>this[_0x5197de(0x1b8)][_0x5197de(0x870)][_0x5197de(0x52a)](),_0x305097);return this[_0x5197de(0xb0c)][_0x5197de(0xb36)](_0xe7e147,_0x4178fb),this[_0x5197de(0x1b8)][_0x5197de(0x870)][_0x5197de(0x213)](_0x4178fb),_0x4178fb;}[_0x3f1d19(0x47c)](_0x3df81e,_0x4d8590){const _0x42f177=_0x3f1d19;if(this['objectStores'][_0x42f177(0x1c3)](_0x3df81e))throw new _0x122c6c(_0x26fc1d[_0x42f177(0x63d)],'Connection\x20already\x20exists');const _0x553842=new _0xbfb377(this['configs'][_0x42f177(0x72c)],_0x3df81e,this[_0x42f177(0x1b8)][_0x42f177(0x7d9)],this[_0x42f177(0x1b8)]['vendorId'],_0x4d8590);return this[_0x42f177(0x564)][_0x42f177(0xb36)](_0x3df81e,_0x553842),this[_0x42f177(0x1b8)][_0x42f177(0x870)][_0x42f177(0x213)](_0x553842),_0x553842;}async[_0x3f1d19(0x288)](_0xbe6690,_0x3732fd,_0x5cf702){const _0x1fbf2c=_0x3f1d19;if(this[_0x1fbf2c(0xb31)]['has'](_0xbe6690))throw new _0x122c6c(_0x26fc1d[_0x1fbf2c(0xa93)],_0x1fbf2c(0x9ec));try{const _0xafaf09=this[_0x1fbf2c(0x1b8)][_0x1fbf2c(0x870)][_0x1fbf2c(0xac2)][_0x1fbf2c(0x2f6)](this[_0x1fbf2c(0x1b8)]['mediator']),_0xa090b4=new _0x348557(this[_0x1fbf2c(0x1b8)][_0x1fbf2c(0x72c)],_0xbe6690,this[_0x1fbf2c(0x1b8)][_0x1fbf2c(0x7d9)],this[_0x1fbf2c(0x1b8)][_0x1fbf2c(0x3db)],_0x3732fd,_0x5cf702,_0xafaf09);return this[_0x1fbf2c(0xb31)][_0x1fbf2c(0xb36)](_0xbe6690,_0xa090b4),this['configs'][_0x1fbf2c(0x870)]['registerSystemSource'](_0xa090b4),_0xa090b4;}catch(_0x3b41f1){if(_0x3b41f1 instanceof _0x122c6c)throw _0x3b41f1;throw new _0x5c1da3(_0x5c1da3[_0x1fbf2c(0x91b)][_0x1fbf2c(0x5e8)],{'label':_0xbe6690,'clusterId':this['configs'][_0x1fbf2c(0x7d9)],'vendorId':this['configs']['vendorId']});}}async[_0x3f1d19(0x2e8)](_0x253699,_0x398721){const _0x129a0d=_0x3f1d19;if(this[_0x129a0d(0x85d)]['has'](_0x253699))throw new _0x122c6c(_0x26fc1d['JobDispatcherAlreadyExists'],_0x129a0d(0x3b0));try{const _0x2b8743=new _0x5a8c0d(this[_0x129a0d(0x1b8)]['localNode'],_0x253699,_0x398721);return this['jobDispatchers'][_0x129a0d(0xb36)](_0x253699,_0x2b8743),this[_0x129a0d(0x1b8)][_0x129a0d(0x870)][_0x129a0d(0x213)](_0x2b8743),_0x2b8743;}catch(_0x20e6ad){if(_0x20e6ad instanceof _0x122c6c)throw _0x20e6ad;throw new _0x5c1da3(_0x5c1da3['codes'][_0x129a0d(0x16e)],{'label':_0x253699,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x129a0d(0x1b8)]['vendorId']});}}async['createGenerativeAIContext'](_0x45a681,_0x2242d1){const _0x613248=_0x3f1d19;if(this[_0x613248(0x85d)][_0x613248(0x1c3)](_0x45a681))throw new _0x122c6c(_0x26fc1d[_0x613248(0x6c7)],'AI\x20Service\x20already\x20exists');if(this['jobWorkers'][_0x613248(0x1c3)](_0x45a681))throw new _0x122c6c(_0x26fc1d[_0x613248(0xa72)],_0x613248(0x34d));try{const _0x157a11=new _0x468eac(this[_0x613248(0x1b8)]['localNode'],_0x45a681,this[_0x613248(0x1b8)][_0x613248(0x3db)],_0x2242d1);return this[_0x613248(0x85d)]['set'](_0x45a681,_0x157a11),this['configs'][_0x613248(0x870)][_0x613248(0x213)](_0x157a11),_0x157a11;}catch(_0x4cddca){if(_0x4cddca instanceof _0x122c6c)throw _0x4cddca;throw new _0x5c1da3(_0x5c1da3['codes'][_0x613248(0x529)],{'label':_0x45a681,'clusterId':this[_0x613248(0x1b8)][_0x613248(0x7d9)],'vendorId':this[_0x613248(0x1b8)][_0x613248(0x3db)]});}}async[_0x3f1d19(0x56f)](_0x2363b6,_0x5846d1,_0x54a489,_0x2b6da1,_0xb9d64d,_0x379b20,_0x4e420c,_0x5228d8,_0x54cafb,_0x592ace,_0x4da9e4,_0x21f309){const _0x44ab47=_0x3f1d19;if(this[_0x44ab47(0x542)][_0x44ab47(0x1c3)](_0x2363b6))throw new _0x122c6c(_0x26fc1d[_0x44ab47(0x6c7)],_0x44ab47(0x409));if(this[_0x44ab47(0x44c)][_0x44ab47(0x1c3)](_0x2363b6))throw new _0x122c6c(_0x26fc1d[_0x44ab47(0xa72)],_0x44ab47(0x34d));try{const _0x2f1187=new _0x2880a6(this[_0x44ab47(0x1b8)][_0x44ab47(0x72c)],_0x2363b6,this,_0x5846d1,_0x54a489,_0x2b6da1,_0xb9d64d,_0x379b20,_0x4e420c,_0x5228d8,_0x54cafb,_0x592ace,_0x4da9e4,_0x21f309);return this[_0x44ab47(0x542)]['set'](_0x2363b6,_0x2f1187),this[_0x44ab47(0x1b8)][_0x44ab47(0x870)][_0x44ab47(0x213)](_0x2f1187),_0x2f1187;}catch(_0x5862e8){if(_0x5862e8 instanceof _0x122c6c)throw _0x5862e8;throw new _0x5c1da3(_0x5c1da3[_0x44ab47(0x91b)][_0x44ab47(0x529)],{'label':_0x2363b6,'clusterId':this['configs'][_0x44ab47(0x7d9)],'vendorId':this[_0x44ab47(0x1b8)][_0x44ab47(0x3db)]});}}async[_0x3f1d19(0x72b)](_0x4a5d10,_0x1ed3d9,_0xe29ff3,_0x217ebf,_0x44066c,_0x436fa8,_0x1beb14,_0xc87664,_0x1f57cc,_0x1f1ef5,_0x31b5e3,_0x3ba667,_0x497272){const _0x2a9ac5=_0x3f1d19;if(this[_0x2a9ac5(0x44c)][_0x2a9ac5(0x1c3)](_0x4a5d10))throw new _0x122c6c(_0x26fc1d[_0x2a9ac5(0x6b3)],_0x2a9ac5(0x2c8));if(this[_0x2a9ac5(0x85d)]['has'](_0x4a5d10))throw new _0x122c6c(_0x26fc1d[_0x2a9ac5(0xa72)],_0x2a9ac5(0x34d));try{const _0x2427b3=new _0x58d2a9(this[_0x2a9ac5(0x1b8)][_0x2a9ac5(0x72c)],_0x4a5d10,_0x1ed3d9,this,_0xe29ff3,_0x217ebf,_0x44066c,_0x436fa8,_0x1beb14,_0xc87664,_0x1f57cc,_0x1f1ef5,_0x31b5e3,_0x3ba667,_0x497272);return this[_0x2a9ac5(0x44c)][_0x2a9ac5(0xb36)](_0x4a5d10,_0x2427b3),this[_0x2a9ac5(0x1b8)][_0x2a9ac5(0x870)]['registerSystemSource'](_0x2427b3),_0x2427b3;}catch(_0x34c559){if(_0x34c559 instanceof _0x122c6c)throw _0x34c559;throw new _0x5c1da3(_0x5c1da3[_0x2a9ac5(0x91b)][_0x2a9ac5(0x5cf)],{'label':_0x4a5d10,'clusterId':this['configs'][_0x2a9ac5(0x7d9)],'vendorId':this[_0x2a9ac5(0x1b8)][_0x2a9ac5(0x3db)]});}}[_0x3f1d19(0x9dd)](_0x171418,_0x1e220b){const _0x3248fe=_0x3f1d19;if(this[_0x3248fe(0x748)][_0x3248fe(0x1c3)](_0x171418))throw new _0x122c6c(_0x26fc1d[_0x3248fe(0x835)],'Database\x20already\x20exists');try{const _0x67a326=new _0xc81d34(this['configs']['localNode'],_0x171418,this[_0x3248fe(0x1b8)][_0x3248fe(0x7d9)],this['configs']['vendorId'],_0x1e220b);return this[_0x3248fe(0x748)][_0x3248fe(0xb36)](_0x171418,_0x67a326),this[_0x3248fe(0x1b8)][_0x3248fe(0x870)]['registerSystemSource'](_0x67a326),_0x67a326;}catch(_0x2b531a){if(_0x2b531a instanceof _0x122c6c)throw _0x2b531a;throw new _0x5c1da3(_0x5c1da3[_0x3248fe(0x91b)][_0x3248fe(0x172)],{'label':_0x171418,'clusterId':this[_0x3248fe(0x1b8)]['clusterId'],'vendorId':this[_0x3248fe(0x1b8)][_0x3248fe(0x3db)]});}}['createLocalDynamicMediaStream'](_0x1fa13d,_0x3e2539){const _0x23b2aa=_0x3f1d19;if(this[_0x23b2aa(0x889)][_0x23b2aa(0x1c3)](_0x1fa13d))throw new _0x122c6c(_0x26fc1d[_0x23b2aa(0xa4d)],_0x23b2aa(0x385));if(!this['options'][_0x23b2aa(0x2f9)])throw new _0x122c6c(_0x26fc1d[_0x23b2aa(0x7cb)],'AudioContext\x20is\x20not\x20available');const _0x256e36=new _0x58066f(this[_0x23b2aa(0x1b8)][_0x23b2aa(0x72c)],_0x1fa13d,_0x3e2539,this[_0x23b2aa(0xa4f)][_0x23b2aa(0x4eb)],this[_0x23b2aa(0xa4f)][_0x23b2aa(0x2f9)],this[_0x23b2aa(0x1b8)]['clusterId']);return this[_0x23b2aa(0x889)][_0x23b2aa(0xb36)](_0x1fa13d,_0x256e36),this['configs'][_0x23b2aa(0x870)][_0x23b2aa(0x213)](_0x256e36),_0x256e36[_0x23b2aa(0x4f8)](),_0x256e36;}['createLocalMediaStream'](_0x3d4b89,_0x50c29f){const _0x126b11=_0x3f1d19;if(this[_0x126b11(0x889)][_0x126b11(0x1c3)](_0x3d4b89))throw new _0x122c6c(_0x26fc1d[_0x126b11(0xa4d)],_0x126b11(0x96e));const _0x1dcf70=new _0x3336fc(this['configs'][_0x126b11(0x72c)],_0x3d4b89,_0x50c29f,this[_0x126b11(0x1b8)]['clusterId']);return this[_0x126b11(0x889)][_0x126b11(0xb36)](_0x3d4b89,_0x1dcf70),this[_0x126b11(0x1b8)][_0x126b11(0x870)]['registerSystemSource'](_0x1dcf70),_0x1dcf70[_0x126b11(0x4f8)](),_0x1dcf70;}['createPubSubTopic'](_0x14a977){const _0x4152c6=_0x3f1d19;if(this[_0x4152c6(0xa58)][_0x4152c6(0x1c3)](_0x14a977))throw new _0x122c6c(_0x26fc1d[_0x4152c6(0x1ac)],'PubSub\x20already\x20exists');const _0x2bf974=new _0x59bfa3(this[_0x4152c6(0x1b8)][_0x4152c6(0x72c)],_0x14a977,this[_0x4152c6(0x1b8)][_0x4152c6(0x7d9)]);return this[_0x4152c6(0xa58)][_0x4152c6(0xb36)](_0x14a977,_0x2bf974),this[_0x4152c6(0x1b8)][_0x4152c6(0x870)]['registerSystemSource'](_0x2bf974),_0x2bf974;}[_0x3f1d19(0x5b2)](_0x7e910e,_0x1f973c,_0xa83d84,_0x582072){const _0x44db71=_0x3f1d19;this[_0x44db71(0x2ac)][_0x44db71(0x1c3)](_0x7e910e)||this[_0x44db71(0x2ac)]['set'](_0x7e910e,new Map());const _0x378cac=this['remoteMediaStreams'][_0x44db71(0x459)](_0x7e910e);if(_0x378cac['has'](_0x1f973c))throw new _0x122c6c(_0x26fc1d[_0x44db71(0xa86)],_0x44db71(0x476));const _0x26d288=new _0xde295a(_0x7e910e,'',''),_0x38a30b=new _0x43165e(this[_0x44db71(0x1b8)][_0x44db71(0x72c)],_0x26d288,_0x1f973c,_0xa83d84,_0x582072,this['configs']['clusterId']);return _0x378cac[_0x44db71(0xb36)](_0x1f973c,_0x38a30b),this[_0x44db71(0x1b8)]['mediator'][_0x44db71(0x213)](_0x38a30b),_0x38a30b;}['createVectorDatabase'](_0x9b1141,_0x33079f){const _0x391dd9=_0x3f1d19;if(this[_0x391dd9(0x4cb)][_0x391dd9(0x1c3)](_0x9b1141))throw new _0x122c6c(_0x26fc1d[_0x391dd9(0x45c)],_0x391dd9(0x9ec));try{const _0x1d6a8c=new _0x1f283b(this[_0x391dd9(0x1b8)][_0x391dd9(0x72c)],_0x9b1141,this[_0x391dd9(0x1b8)][_0x391dd9(0x7d9)],this[_0x391dd9(0x1b8)][_0x391dd9(0x3db)],_0x33079f);return this['vectorDatabases'][_0x391dd9(0xb36)](_0x9b1141,_0x1d6a8c),this['configs'][_0x391dd9(0x870)][_0x391dd9(0x213)](_0x1d6a8c),_0x1d6a8c;}catch(_0x1561c3){if(_0x1561c3 instanceof _0x122c6c)throw _0x1561c3;throw new _0x5c1da3(_0x5c1da3[_0x391dd9(0x91b)][_0x391dd9(0x444)],{'label':_0x9b1141,'clusterId':this[_0x391dd9(0x1b8)]['clusterId'],'vendorId':this[_0x391dd9(0x1b8)][_0x391dd9(0x3db)]});}}['getObjectStoreBuckets'](_0x24f766){const _0x57e79d=_0x3f1d19,_0x2387c8=Array[_0x57e79d(0x663)](this[_0x57e79d(0xb0c)][_0x57e79d(0x9b6)]());return _0x24f766?_0x2387c8[_0x57e79d(0x1e0)](_0x24f766):_0x2387c8;}['getExternalStorageConnections'](_0x40c0bb){const _0x2bd449=_0x3f1d19,_0x2495a4=Array['from'](this[_0x2bd449(0x564)][_0x2bd449(0x9b6)]());return _0x40c0bb?_0x2495a4['filter'](_0x40c0bb):_0x2495a4;}['getKeyValueDatabases'](_0x390f24){const _0x2c1807=_0x3f1d19,_0x4f70df=Array[_0x2c1807(0x663)](this[_0x2c1807(0xb31)]['values']());return _0x390f24?_0x4f70df[_0x2c1807(0x1e0)](_0x390f24):_0x4f70df;}[_0x3f1d19(0x94f)](_0x1da6dc){const _0x24e37e=_0x3f1d19,_0x1937b3=Array[_0x24e37e(0x663)](this[_0x24e37e(0x85d)]['values']());return _0x1da6dc?_0x1937b3['filter'](_0x1da6dc):_0x1937b3;}[_0x3f1d19(0x7a5)](_0x6ee3dc){const _0x3eaad1=_0x3f1d19,_0x23fe92=Array['from'](this['jobWorkers'][_0x3eaad1(0x9b6)]());return _0x6ee3dc?_0x23fe92[_0x3eaad1(0x1e0)](_0x6ee3dc):_0x23fe92;}[_0x3f1d19(0x5cb)](_0x25b91a){const _0x31fa2d=_0x3f1d19,_0x4d26df=Array['from'](this[_0x31fa2d(0x85d)]['values']())['filter'](_0x46c91c=>_0x46c91c instanceof _0x468eac);return _0x25b91a?_0x4d26df['filter'](_0x25b91a):_0x4d26df;}[_0x3f1d19(0x560)](_0x4a0897){const _0x38e546=_0x3f1d19,_0x35515b=Array[_0x38e546(0x663)](this['generativeAIContexts'][_0x38e546(0x9b6)]());return _0x4a0897?_0x35515b[_0x38e546(0x1e0)](_0x4a0897):_0x35515b;}[_0x3f1d19(0x4d1)](_0x3b9231){const _0x397abd=_0x3f1d19,_0x3d5288=Array[_0x397abd(0x663)](this[_0x397abd(0x44c)]['values']())[_0x397abd(0x1e0)](_0x453257=>_0x453257 instanceof _0x58d2a9);return _0x3b9231?_0x3d5288['filter'](_0x3b9231):_0x3d5288;}[_0x3f1d19(0xb23)](_0x140072){const _0x10e0b1=_0x3f1d19,_0x3dbb5e=Array[_0x10e0b1(0x663)](this[_0x10e0b1(0x748)]['values']());return _0x140072?_0x3dbb5e['filter'](_0x140072):_0x3dbb5e;}[_0x3f1d19(0x395)](_0x4ee015){const _0x42a52b=_0x3f1d19,_0x2ed8af=Array[_0x42a52b(0x663)](this[_0x42a52b(0x889)][_0x42a52b(0x9b6)]());return _0x4ee015?_0x2ed8af[_0x42a52b(0x1e0)](_0x4ee015):_0x2ed8af;}[_0x3f1d19(0x429)](_0x3734f7){const _0x5807b3=_0x3f1d19,_0x23d155=Array[_0x5807b3(0x663)](this[_0x5807b3(0xa58)][_0x5807b3(0x9b6)]());return _0x3734f7?_0x23d155[_0x5807b3(0x1e0)](_0x3734f7):_0x23d155;}[_0x3f1d19(0x1c8)](_0x3cd097){const _0x1ef8d2=_0x3f1d19,_0x40179a=Array['from'](this['remoteMediaStreams'][_0x1ef8d2(0x9b6)]())[_0x1ef8d2(0x9ed)]((_0x411ed5,_0xd7936c)=>[..._0x411ed5,...Array[_0x1ef8d2(0x663)](_0xd7936c[_0x1ef8d2(0x9b6)]())],[]);return _0x3cd097?_0x40179a['filter'](_0x3cd097):_0x40179a;}[_0x3f1d19(0x38e)](_0x50e5e8){const _0x159d72=_0x3f1d19,_0x401b48=Array[_0x159d72(0x663)](this[_0x159d72(0x4cb)][_0x159d72(0x9b6)]());return _0x50e5e8?_0x401b48['filter'](_0x50e5e8):_0x401b48;}[_0x3f1d19(0xa53)](_0x33a95e){const _0x2b6972=_0x3f1d19,_0x1c0830=this[_0x2b6972(0xb0c)][_0x2b6972(0x459)](_0x33a95e);if(!_0x1c0830)throw new _0x122c6c(_0x26fc1d['ObjectStoreDoesNotExist'],_0x2b6972(0x5ed));return _0x1c0830;}[_0x3f1d19(0xb55)](_0x35981a){const _0x47ee9d=_0x3f1d19,_0x34d04a=_0x35981a[_0x47ee9d(0x44f)]('-'),_0x472e2d=this['externalStorageConnections']['get'](_0x34d04a[0x1]);if(!_0x472e2d)throw new _0x122c6c(_0x26fc1d[_0x47ee9d(0xa15)],_0x47ee9d(0x437));return _0x472e2d;}[_0x3f1d19(0x543)](_0x3a7995){const _0x27eda2=_0x3f1d19,_0x329bb8=this[_0x27eda2(0x748)][_0x27eda2(0x459)](_0x3a7995);if(!_0x329bb8)throw new _0x122c6c(_0x26fc1d[_0x27eda2(0x65b)],_0x27eda2(0x698));return _0x329bb8;}[_0x3f1d19(0x997)](_0xa587c8){const _0x4339c9=_0x3f1d19,_0x2e7aac=this[_0x4339c9(0xb31)][_0x4339c9(0x459)](_0xa587c8);if(!_0x2e7aac)throw new _0x122c6c(_0x26fc1d['KeyValueDatabaseDoesNotExist'],_0x4339c9(0x5ac));return _0x2e7aac;}[_0x3f1d19(0xb49)](_0x26e1b9){const _0x2e2a85=_0x3f1d19,_0x56ee47=this[_0x2e2a85(0xa58)][_0x2e2a85(0x459)](_0x26e1b9);if(!_0x56ee47)throw new _0x122c6c(_0x26fc1d[_0x2e2a85(0x259)],_0x2e2a85(0x980));return _0x56ee47;}[_0x3f1d19(0x447)](_0x2c23f3){const _0x5e18b7=_0x3f1d19,_0x33175f=this[_0x5e18b7(0x4cb)]['get'](_0x2c23f3);if(!_0x33175f)throw new _0x122c6c(_0x26fc1d[_0x5e18b7(0x3fa)],'VectorDatabase\x20not\x20found');return _0x33175f;}[_0x3f1d19(0xae9)](_0x4d89fb){const _0x466d07=_0x3f1d19;switch(_0x4d89fb['content'][_0x466d07(0x8c9)]){case _0x65c889[_0x466d07(0x5ad)]:this['handlePublishMediaStream'](_0x4d89fb[_0x466d07(0x861)]);break;case _0x65c889[_0x466d07(0x869)]:this[_0x466d07(0x1e6)](_0x4d89fb[_0x466d07(0x861)]);break;case _0x65c889['CloseJobDispatcher']:this[_0x466d07(0x148)](_0x4d89fb[_0x466d07(0x861)][_0x466d07(0x792)]);break;case _0x65c889['CloseJobWorker']:this[_0x466d07(0x1e3)](_0x4d89fb['content'][_0x466d07(0x792)]);break;case _0x65c889[_0x466d07(0x999)]:this[_0x466d07(0x669)](_0x4d89fb[_0x466d07(0x861)][_0x466d07(0x792)]);break;case _0x65c889['CloseMediaStream']:this[_0x466d07(0x495)](_0x4d89fb[_0x466d07(0x861)]['label']);break;case _0x65c889[_0x466d07(0x985)]:this[_0x466d07(0xb5a)](_0x4d89fb[_0x466d07(0x861)]['label']);break;case _0x65c889[_0x466d07(0x1e2)]:this[_0x466d07(0x73a)](_0x4d89fb[_0x466d07(0x861)][_0x466d07(0x792)]);break;case _0x65c889['CloseExternalStorageConnection']:this[_0x466d07(0x828)](_0x4d89fb['content'][_0x466d07(0x792)]);break;case _0x65c889[_0x466d07(0x5ff)]:this[_0x466d07(0x48c)](_0x4d89fb[_0x466d07(0x861)]['label']);break;case _0x65c889[_0x466d07(0x8c7)]:this[_0x466d07(0x32a)](_0x4d89fb[_0x466d07(0x861)][_0x466d07(0x792)]);break;case _0x65c889[_0x466d07(0x5bc)]:this[_0x466d07(0x28a)](_0x4d89fb[_0x466d07(0x861)][_0x466d07(0x792)]);break;case _0x65c889[_0x466d07(0xa11)]:this['handleContentUnsubscribeMediaStream'](_0x4d89fb[_0x466d07(0x861)]);break;case _0x65c889[_0x466d07(0x8db)]:this[_0x466d07(0xb31)][_0x466d07(0x459)](_0x4d89fb[_0x466d07(0x861)][_0x466d07(0x792)])?.[_0x466d07(0x45d)](_0x4d89fb['sourceId'],_0x4d89fb['content'][_0x466d07(0x53c)]);break;case _0x65c889[_0x466d07(0x16d)]:this[_0x466d07(0xb31)][_0x466d07(0x459)](_0x4d89fb[_0x466d07(0x861)][_0x466d07(0x792)])?.['processContentSynchronized'](_0x4d89fb['sourceId'],_0x4d89fb['content'][_0x466d07(0x53c)]);break;case _0x65c889['KeyValueDatabaseContentAvailable']:this[_0x466d07(0xb31)][_0x466d07(0x459)](_0x4d89fb[_0x466d07(0x861)][_0x466d07(0x792)])?.[_0x466d07(0xa2e)](_0x4d89fb[_0x466d07(0x634)],_0x4d89fb[_0x466d07(0x861)]['peaks']);break;case _0x65c889['KeyValueDatabaseRequestPeakTransactions']:this[_0x466d07(0xb31)]['get'](_0x4d89fb[_0x466d07(0x861)]['label'])?.['sendPeakTransactions'](_0x4d89fb[_0x466d07(0x634)],_0x4d89fb[_0x466d07(0x861)][_0x466d07(0x2e7)]);break;case _0x65c889[_0x466d07(0x154)]:this[_0x466d07(0xb31)][_0x466d07(0x459)](_0x4d89fb['content'][_0x466d07(0x792)])?.[_0x466d07(0x755)](_0x4d89fb['sourceId'],_0x4d89fb['content']['transactionIds']);break;case _0x65c889['KeyValueDatabaseSendTransactions']:this[_0x466d07(0xb31)][_0x466d07(0x459)](_0x4d89fb[_0x466d07(0x861)]['label'])?.[_0x466d07(0x3ad)](_0x4d89fb[_0x466d07(0x634)],_0x4d89fb['content'][_0x466d07(0x3b2)]);break;case _0x65c889[_0x466d07(0x481)]:this['configs']['mediator'][_0x466d07(0x874)](_0x466d07(0x151),{'label':_0x4d89fb[_0x466d07(0x861)][_0x466d07(0x792)],'trackKinds':_0x4d89fb[_0x466d07(0x861)][_0x466d07(0x62e)]});}}['handleNodeSystemEvents']({content:_0x1c20e5}){const _0x130b08=_0x3f1d19;switch(_0x1c20e5[_0x130b08(0x8c9)]){case _0x2397e8['NodeJoin']:this[_0x130b08(0x90c)](_0x1c20e5),this[_0x130b08(0x60b)](_0x1c20e5);break;case _0x2397e8['NodeLeave']:this['handleNodeLeave'](_0x1c20e5),this['notifyObjectStoreOfNodeLeave'](_0x1c20e5);}}[_0x3f1d19(0x49a)](_0x35064b){const _0x5a955f=_0x3f1d19;switch(_0x35064b[_0x5a955f(0x861)]['type']){case _0x4fb60c['SubscribeMediaStream']:this[_0x5a955f(0x8d4)](_0x35064b[_0x5a955f(0x634)],_0x35064b[_0x5a955f(0x861)]);break;case _0x4fb60c[_0x5a955f(0x56d)]:this[_0x5a955f(0x93d)](_0x35064b['sourceId'],_0x35064b['content']);break;case _0x4fb60c['UnsubscribeMediaStream']:this[_0x5a955f(0xa80)](_0x35064b['sourceId'],_0x35064b['content']);}}[_0x3f1d19(0x52e)](_0x14269e){const _0x3936c7=_0x3f1d19;if(0x0===_0x14269e[_0x3936c7(0x9db)])this['remoteMediaStreams'][_0x3936c7(0x459)](_0x14269e[_0x3936c7(0x8b1)])?.[_0x3936c7(0x459)](_0x14269e['label'])?.[_0x3936c7(0x31c)]();else{const _0x8cece9=this[_0x3936c7(0x2ac)]['get'](_0x14269e[_0x3936c7(0x8b1)])?.['get'](_0x14269e[_0x3936c7(0x792)]);if(!_0x8cece9)return;_0x14269e[_0x3936c7(0x62e)][_0x3936c7(0xa0d)](_0x270ac5=>_0x8cece9['unsubscribeTrackEndedListener'](_0x270ac5));}}[_0x3f1d19(0xa4c)](_0x7f47f5){const _0x5ab887=_0x3f1d19,{label:_0x255747,ownerId:_0x565028,stream:{streamId:_0x35256a,availableTrackKinds:_0x19070f}}=_0x7f47f5;if(this[_0x5ab887(0x2ac)][_0x5ab887(0x459)](_0x565028)?.[_0x5ab887(0x1c3)](_0x255747))return void _0x576b91[_0x5ab887(0x279)](_0x419b0a[_0x5ab887(0x442)],_0x5ab887(0x96e),_0x35256a);const _0x570ec8=this[_0x5ab887(0x5b2)](_0x565028,_0x255747,_0x35256a,_0x19070f);this['configs']['mediator'][_0x5ab887(0x874)](_0x5ab887(0x8a1),{'ownerId':_0x565028,'stream':_0x570ec8});}[_0x3f1d19(0x1e6)]({ownerId:_0x288002,label:_0x56b10b}){const _0x3a2cd0=_0x3f1d19;this[_0x3a2cd0(0x296)](_0x288002,_0x56b10b),this[_0x3a2cd0(0x1b8)][_0x3a2cd0(0x870)][_0x3a2cd0(0x874)]('content-unpublish-media',{'ownerId':_0x288002,'label':_0x56b10b});}['handleSubscribeMediaStream'](_0x1ab481,_0x5c358c){const _0x1f1d1f=_0x3f1d19,{ownerId:_0x3ac1fb,label:_0x28fd24}=_0x5c358c;let _0x1d5e32;_0x1d5e32=_0x3ac1fb!==this['configs']['localNode'][_0x1f1d1f(0x7be)]()?this[_0x1f1d1f(0x2ac)][_0x1f1d1f(0x459)](_0x3ac1fb)[_0x1f1d1f(0x459)](_0x28fd24):this['localMediaStreams'][_0x1f1d1f(0x459)](_0x28fd24),_0x1d5e32[_0x1f1d1f(0x421)](_0x1ab481,_0x5c358c['params'])[_0x1f1d1f(0x565)](_0x5c358c,_0x1d5e32[_0x1f1d1f(0xa8f)]());}['handleUpdateMediaStream'](_0x2d5afa,_0x58055d){const _0x39fb69=_0x3f1d19,{ownerId:_0x2fa58c,label:_0x15f54d}=_0x58055d;let _0x2e9c03;_0x2e9c03=_0x2fa58c!==this['configs'][_0x39fb69(0x72c)][_0x39fb69(0x7be)]()?this[_0x39fb69(0x2ac)][_0x39fb69(0x459)](_0x2fa58c)[_0x39fb69(0x459)](_0x15f54d):this[_0x39fb69(0x889)][_0x39fb69(0x459)](_0x15f54d),_0x2e9c03[_0x39fb69(0x421)](_0x2d5afa,_0x58055d[_0x39fb69(0x7a7)])[_0x39fb69(0x8f8)](_0x58055d);}[_0x3f1d19(0xa80)](_0x3d7e2e,_0x1f44f5){const _0x9cbfe7=_0x3f1d19,{ownerId:_0x51cbea,label:_0x29775c}=_0x1f44f5;let _0x160c6d;_0x160c6d=_0x51cbea!==this['configs'][_0x9cbfe7(0x72c)][_0x9cbfe7(0x7be)]()?this[_0x9cbfe7(0x2ac)][_0x9cbfe7(0x459)](_0x51cbea)[_0x9cbfe7(0x459)](_0x29775c):this[_0x9cbfe7(0x889)][_0x9cbfe7(0x459)](_0x29775c),_0x160c6d[_0x9cbfe7(0x421)](_0x3d7e2e)[_0x9cbfe7(0x87c)](_0x1f44f5);}[_0x3f1d19(0x90c)]({id:_0x47c654}){const _0xe50b17=_0x3f1d19;this[_0xe50b17(0x395)]()[_0xe50b17(0xa0d)](_0x353673=>{_0x353673['publish'](_0x47c654);});}[_0x3f1d19(0x657)]({id:_0x2224ed}){const _0x510185=_0x3f1d19;this[_0x510185(0x1c8)](_0x4779fe=>_0x4779fe[_0x510185(0xb5e)]()===_0x2224ed)['forEach'](_0x26bbf8=>{const _0x2e6874=_0x510185;this['removeRemoteMediaStream'](_0x26bbf8[_0x2e6874(0xb5e)](),_0x26bbf8['getLabel']());});}[_0x3f1d19(0x60b)]({id:_0x37e3c8}){const _0x31373b=_0x3f1d19;this['objectStores'][_0x31373b(0xa0d)](_0x13a22c=>_0x13a22c[_0x31373b(0x6bc)](_0x37e3c8));}[_0x3f1d19(0x291)]({id:_0x5b23c6}){const _0x137696=_0x3f1d19;this[_0x137696(0xb0c)]['forEach'](_0x2250cb=>_0x2250cb[_0x137696(0x657)](_0x5b23c6));}[_0x3f1d19(0x148)](_0x4dfb84){const _0x382b33=_0x3f1d19;if(!this[_0x382b33(0x85d)][_0x382b33(0x1c3)](_0x4dfb84))throw new _0x122c6c(_0x26fc1d['JobDispatcherDoesNotExist'],_0x382b33(0x249));const _0x24d5f5=this[_0x382b33(0x85d)][_0x382b33(0x459)](_0x4dfb84);this[_0x382b33(0x85d)][_0x382b33(0x233)](_0x4dfb84),_0x24d5f5[_0x382b33(0x31c)](),this[_0x382b33(0x1b8)][_0x382b33(0x870)]['unregisterSystemSource'](_0x24d5f5);}[_0x3f1d19(0x1e3)](_0x366f2b){const _0x2dd762=_0x3f1d19;if(!this[_0x2dd762(0x44c)][_0x2dd762(0x1c3)](_0x366f2b))throw new _0x122c6c(_0x26fc1d['JobWorkerDoesNotExist'],'Job\x20Worker\x20does\x20not\x20exist');const _0x45fadb=this[_0x2dd762(0x44c)][_0x2dd762(0x459)](_0x366f2b);this[_0x2dd762(0x44c)][_0x2dd762(0x233)](_0x366f2b),_0x45fadb[_0x2dd762(0x31c)](),this[_0x2dd762(0x1b8)][_0x2dd762(0x870)][_0x2dd762(0x2e9)](_0x45fadb);}['removeGenerativeAIContext'](_0x3359c2){const _0x1bb42e=_0x3f1d19;if(!this['generativeAIContexts'][_0x1bb42e(0x1c3)](_0x3359c2))throw new _0x122c6c(_0x26fc1d[_0x1bb42e(0x369)],'Generative\x20AI\x20Context\x20does\x20not\x20exist');const _0x4b16dd=this[_0x1bb42e(0x542)][_0x1bb42e(0x459)](_0x3359c2);this[_0x1bb42e(0x542)]['delete'](_0x3359c2),this[_0x1bb42e(0x1b8)]['mediator'][_0x1bb42e(0x2e9)](_0x4b16dd);}[_0x3f1d19(0x73a)](_0x226734){const _0x15d3e0=_0x3f1d19;if(!this['objectStores'][_0x15d3e0(0x1c3)](_0x226734))throw new _0x122c6c(_0x26fc1d[_0x15d3e0(0x69d)],_0x15d3e0(0xa22));const _0x3de23a=this[_0x15d3e0(0xb0c)][_0x15d3e0(0x459)](_0x226734);this[_0x15d3e0(0xb0c)]['delete'](_0x226734),_0x3de23a[_0x15d3e0(0x31c)](),this[_0x15d3e0(0x1b8)][_0x15d3e0(0x870)]['unregisterSystemSource'](_0x3de23a);}[_0x3f1d19(0x828)](_0x53423f){const _0x4196af=_0x3f1d19;if(!this[_0x4196af(0x564)][_0x4196af(0x1c3)](_0x53423f))throw new _0x122c6c(_0x26fc1d[_0x4196af(0xa15)],_0x4196af(0xa0b));const _0x487843=this[_0x4196af(0x564)][_0x4196af(0x459)](_0x53423f);this[_0x4196af(0x564)]['delete'](_0x53423f),_0x487843[_0x4196af(0x31c)](),this[_0x4196af(0x1b8)]['mediator'][_0x4196af(0x2e9)](_0x487843);}[_0x3f1d19(0xb5a)](_0x564182){const _0x41649a=_0x3f1d19;if(!this[_0x41649a(0xa58)][_0x41649a(0x1c3)](_0x564182))throw new _0x122c6c(_0x26fc1d[_0x41649a(0x259)],_0x41649a(0xa22));const _0x2dc85b=this[_0x41649a(0xa58)][_0x41649a(0x459)](_0x564182);this[_0x41649a(0xa58)][_0x41649a(0x233)](_0x564182),_0x2dc85b['destroy'](),this[_0x41649a(0x1b8)][_0x41649a(0x870)]['unregisterSystemSource'](_0x2dc85b);}['removeKeyValueDatabase'](_0x4404e3){const _0x4f8bc7=_0x3f1d19;if(!this[_0x4f8bc7(0xb31)][_0x4f8bc7(0x1c3)](_0x4404e3))throw new _0x122c6c(_0x26fc1d[_0x4f8bc7(0x79d)],'Database\x20does\x20not\x20exist');const _0x3fe5ef=this[_0x4f8bc7(0xb31)][_0x4f8bc7(0x459)](_0x4404e3);this[_0x4f8bc7(0xb31)][_0x4f8bc7(0x233)](_0x4404e3),_0x3fe5ef[_0x4f8bc7(0x31c)](),this['configs']['mediator']['unregisterSystemSource'](_0x3fe5ef);}[_0x3f1d19(0x32a)](_0x525122){const _0x378e7=_0x3f1d19;if(!this['vectorDatabases'][_0x378e7(0x1c3)](_0x525122))throw new _0x122c6c(_0x26fc1d['VectorDatabaseDoesNotExist'],_0x378e7(0x4b4));const _0x3a4b34=this[_0x378e7(0x4cb)]['get'](_0x525122);this['vectorDatabases'][_0x378e7(0x233)](_0x525122),_0x3a4b34[_0x378e7(0x31c)](),this[_0x378e7(0x1b8)]['mediator'][_0x378e7(0x2e9)](_0x3a4b34);}[_0x3f1d19(0x28a)](_0x5556a7){const _0x3a03ae=_0x3f1d19;if(!this[_0x3a03ae(0x748)][_0x3a03ae(0x1c3)](_0x5556a7))throw new _0x122c6c(_0x26fc1d[_0x3a03ae(0x65b)],_0x3a03ae(0x4b4));const _0x3fca06=this[_0x3a03ae(0x748)][_0x3a03ae(0x459)](_0x5556a7);this[_0x3a03ae(0x748)][_0x3a03ae(0x233)](_0x5556a7),_0x3fca06[_0x3a03ae(0x31c)](),this['configs'][_0x3a03ae(0x870)]['unregisterSystemSource'](_0x3fca06);}['removeLocalMediaStream'](_0x37aa0a){const _0x28f076=_0x3f1d19;if(!this[_0x28f076(0x889)][_0x28f076(0x1c3)](_0x37aa0a))throw new _0x5c1da3(_0x5c1da3[_0x28f076(0x91b)][_0x28f076(0x357)],{'label':_0x37aa0a,'localId':this[_0x28f076(0x1b8)]['localNode']['getId']()});const _0x556c7b=this[_0x28f076(0x889)][_0x28f076(0x459)](_0x37aa0a);this[_0x28f076(0x1b8)][_0x28f076(0x870)]['unregisterSystemSource'](_0x556c7b),_0x556c7b['destroy'](),this[_0x28f076(0x889)][_0x28f076(0x233)](_0x37aa0a);}[_0x3f1d19(0x296)](_0x31e243,_0x22b659){const _0x281114=_0x3f1d19;if(!this[_0x281114(0x2ac)][_0x281114(0x1c3)](_0x31e243))throw new _0x5c1da3(_0x5c1da3[_0x281114(0x91b)]['NodeDoesNotExist'],{'nodeId':_0x31e243,'localId':this[_0x281114(0x1b8)]['localNode'][_0x281114(0x7be)]()});const _0x4fc8a2=this[_0x281114(0x2ac)][_0x281114(0x459)](_0x31e243);if(!_0x4fc8a2[_0x281114(0x1c3)](_0x22b659))throw new _0x5c1da3(_0x5c1da3[_0x281114(0x91b)][_0x281114(0xadb)],{'nodeId':_0x31e243,'label':_0x22b659,'localId':this[_0x281114(0x1b8)][_0x281114(0x72c)][_0x281114(0x7be)]()});const _0x5d2b29=_0x4fc8a2[_0x281114(0x459)](_0x22b659);this[_0x281114(0x1b8)]['mediator'][_0x281114(0x2e9)](_0x5d2b29),_0x5d2b29[_0x281114(0x31c)](),_0x4fc8a2['delete'](_0x22b659);}}var _0x609165,_0x2bc583,_0x2b508b;!function(_0x48684d){const _0x15d741=_0x3f1d19;_0x48684d[_0x15d741(0x614)]=_0x15d741(0x22c),_0x48684d[_0x15d741(0x251)]=_0x15d741(0x57c),_0x48684d[_0x15d741(0x4f0)]=_0x15d741(0x8d8),_0x48684d[_0x15d741(0x5f7)]='bitrate',_0x48684d['Jitter']=_0x15d741(0xa76),_0x48684d[_0x15d741(0x8d6)]=_0x15d741(0x374),_0x48684d[_0x15d741(0x89f)]=_0x15d741(0xb2f),_0x48684d[_0x15d741(0x8ec)]=_0x15d741(0x83a);}(_0x609165||(_0x609165={})),function(_0x1da786){const _0xbd8106=_0x3f1d19;_0x1da786['CPUCycle']=_0xbd8106(0x893),_0x1da786[_0xbd8106(0x4f0)]=_0xbd8106(0x80c),_0x1da786['AudioVideoDelay']=_0xbd8106(0x30f),_0x1da786['FramePerSecond']=_0xbd8106(0x464),_0x1da786[_0xbd8106(0x5f7)]=_0xbd8106(0x5fb),_0x1da786[_0xbd8106(0x955)]=_0xbd8106(0x426),_0x1da786[_0xbd8106(0x89f)]='bandwidth.rtt';}(_0x2bc583||(_0x2bc583={})),function(_0x3668c6){const _0x5ab061=_0x3f1d19;_0x3668c6[_0x3668c6[_0x5ab061(0x770)]=0x0]='Problem';}(_0x2b508b||(_0x2b508b={}));const _0x1d2345=[{'type':_0x609165['STVolatility'],'reportMetric':_0xa0d6ad=>_0xa0d6ad[_0x3f1d19(0x614)],'maxThreshold':2.5},{'type':_0x609165['DTVolatility'],'reportMetric':_0xb11280=>_0xb11280[_0x3f1d19(0x251)],'maxThreshold':0.5}],_0x56bcef=[{'type':_0x609165[_0x3f1d19(0x4f0)],'reportMetric':_0x4c6647=>{const _0x3165cc=_0x3f1d19,_0x684084=0x3e8/_0x4c6647[_0x3165cc(0x4e6)];return _0x4c6647[_0x3165cc(0x167)]/_0x684084;},'maxThreshold':0.75},{'type':_0x609165[_0x3f1d19(0x5f7)],'reportMetric':_0x106d60=>{const _0x4e30e9=_0x3f1d19,_0xfec59a=_0x106d60[_0x4e30e9(0x4e6)]*_0x106d60[_0x4e30e9(0x826)]*_0x106d60[_0x4e30e9(0x3f0)]*0.12;return _0x106d60['bitrate']/_0xfec59a;},'minThreshold':0.25},{'type':_0x609165[_0x3f1d19(0x955)],'reportMetric':_0x12523f=>_0x12523f[_0x3f1d19(0xa76)],'maxThreshold':0.6},{'type':_0x609165[_0x3f1d19(0x8d6)],'reportMetric':_0x3da390=>_0x3da390[_0x3f1d19(0x4e6)],'minThreshold':0xa}],_0x1e9a22=[{'type':_0x609165[_0x3f1d19(0x955)],'reportMetric':_0x5d8b8c=>_0x5d8b8c[_0x3f1d19(0xa76)],'maxThreshold':0.6}],_0x2cf6dd=[{'type':_0x609165['RoundTripTime'],'reportMetric':_0x453608=>_0x453608[_0x3f1d19(0x269)],'maxThreshold':0x1/0x0}],_0x25641a=[{'type':_0x609165['AudioVideoDelay'],'reportMetric':_0x4e7644=>_0x4e7644[_0x3f1d19(0x8ec)],'maxThreshold':0x12c}],_0x2dc162=[{'type':_0x2bc583[_0x3f1d19(0x201)],'issues':[{'type':_0x609165['STVolatility'],'threshold':0x5},{'type':_0x609165[_0x3f1d19(0x251)],'threshold':0x5}]},{'type':_0x2bc583[_0x3f1d19(0x4f0)],'issues':[{'type':_0x609165[_0x3f1d19(0x4f0)],'threshold':0x3}]},{'type':_0x2bc583['AudioVideoDelay'],'issues':[{'type':_0x609165[_0x3f1d19(0x8ec)],'threshold':0x2}]},{'type':_0x2bc583[_0x3f1d19(0x8d6)],'issues':[{'type':_0x609165[_0x3f1d19(0x8d6)],'threshold':0x3}]},{'type':_0x2bc583[_0x3f1d19(0x5f7)],'issues':[{'type':_0x609165[_0x3f1d19(0x5f7)],'threshold':0x3}]},{'type':_0x2bc583[_0x3f1d19(0x955)],'issues':[{'type':_0x609165[_0x3f1d19(0x955)],'threshold':0x3}]},{'type':_0x2bc583[_0x3f1d19(0x89f)],'issues':[{'type':_0x609165[_0x3f1d19(0x89f)],'threshold':0x3}]}];var _0x4c3f76,_0x35c7b4;!function(_0x188361){const _0x5314b8=_0x3f1d19;_0x188361[_0x188361['StreamReport']=0x0]='StreamReport',_0x188361[_0x188361['LocalReport']=0x1]=_0x5314b8(0x56a);}(_0x4c3f76||(_0x4c3f76={}));class _0x2a52e6{['configs'];[_0x3f1d19(0x718)]=[];['systemTopic'];constructor(_0x46210a){const _0x2fcb74=_0x3f1d19;this[_0x2fcb74(0x1b8)]=_0x46210a,this[_0x2fcb74(0x1b8)][_0x2fcb74(0x870)][_0x2fcb74(0x213)](this);}[_0x3f1d19(0x819)](_0x4ce166){const _0x1e31f9=_0x3f1d19;this[_0x1e31f9(0x8f2)]=_0x4ce166;}[_0x3f1d19(0x8ad)](){const _0x20d52b=_0x3f1d19;this[_0x20d52b(0x8f2)]=void 0x0;}[_0x3f1d19(0x87b)](){const _0x2c0f6b=_0x3f1d19;this[_0x2c0f6b(0x1b8)][_0x2c0f6b(0x870)][_0x2c0f6b(0x2e9)](this),this[_0x2c0f6b(0x718)]=[];}[_0x3f1d19(0xa0f)](_0x1b5cb1){const _0x22f196=_0x3f1d19;switch(_0x1b5cb1[_0x22f196(0x861)][_0x22f196(0x8c9)]){case _0x4c3f76[_0x22f196(0x56a)]:this[_0x22f196(0x5e2)](_0x1b5cb1[_0x22f196(0x861)]['data']);break;case _0x4c3f76[_0x22f196(0x942)]:this['detectStreamIssues'](_0x1b5cb1[_0x22f196(0x861)][_0x22f196(0xa34)]);}}[_0x3f1d19(0xaee)](_0x36c3f8,_0x5536fa,_0x38d3b9,_0x56d9bf){const _0x1e6aeb=_0x3f1d19,_0x3c03cf=_0x2dc162[_0x1e6aeb(0x4d3)](_0xea4cce=>_0xea4cce[_0x1e6aeb(0x718)][_0x1e6aeb(0x658)](_0xf3660f=>_0xf3660f[_0x1e6aeb(0x8c9)]===_0x36c3f8));_0x56d9bf>=_0x3c03cf[_0x1e6aeb(0x718)][_0x1e6aeb(0x4d3)](_0x113ade=>_0x113ade['type']===_0x36c3f8)[_0x1e6aeb(0xa3b)]&&(this[_0x1e6aeb(0x30e)](_0x3c03cf[_0x1e6aeb(0x8c9)],_0x5536fa,_0x38d3b9),this[_0x1e6aeb(0x718)]=this['issues']['filter'](_0x2afaaf=>!(_0x2afaaf[_0x1e6aeb(0x8c9)]===_0x36c3f8&&_0x2afaaf[_0x1e6aeb(0x769)]===_0x5536fa&&_0x2afaaf[_0x1e6aeb(0x2bc)]===_0x38d3b9)));}[_0x3f1d19(0x5e2)](_0x468e6b){const _0x2763ec=_0x3f1d19;_0x1d2345[_0x2763ec(0xa0d)](_0x3c3934=>{const _0x1516eb=_0x2763ec,_0x5e1251=_0x3c3934['reportMetric'](_0x468e6b);_0x3c3934[_0x1516eb(0x8fe)]&&_0x5e1251>_0x3c3934[_0x1516eb(0x8fe)]&&this[_0x1516eb(0x8f5)](_0x3c3934[_0x1516eb(0x8c9)],this[_0x1516eb(0x1b8)][_0x1516eb(0x72c)][_0x1516eb(0x7be)](),_0x32a158[_0x1516eb(0x1ba)],_0x5e1251),_0x3c3934[_0x1516eb(0x29c)]&&_0x5e1251<_0x3c3934['minThreshold']&&this[_0x1516eb(0x8f5)](_0x3c3934[_0x1516eb(0x8c9)],this[_0x1516eb(0x1b8)][_0x1516eb(0x72c)][_0x1516eb(0x7be)](),_0x32a158[_0x1516eb(0x1ba)],_0x5e1251);});}[_0x3f1d19(0x9fa)](_0x31f5ac){const _0x5d6a87=_0x3f1d19;let _0x22867a=[];switch(_0x31f5ac[_0x5d6a87(0x2bc)]){case _0x32a158[_0x5d6a87(0x1ba)]:_0x22867a=_0x2cf6dd;break;case _0x32a158[_0x5d6a87(0x7af)]:_0x22867a=_0x25641a;}_0x31f5ac[_0x5d6a87(0x1ce)]&&this[_0x5d6a87(0x6c3)](_0x31f5ac['nodeId'],_0x32a158['Sender'],_0x31f5ac[_0x5d6a87(0x1ce)]),_0x31f5ac[_0x5d6a87(0x9d7)]&&this['detectAudioIssues'](_0x31f5ac[_0x5d6a87(0x769)],_0x32a158[_0x5d6a87(0x1ba)],_0x31f5ac[_0x5d6a87(0x9d7)]),_0x22867a['forEach'](_0x315d3e=>{const _0x322d6e=_0x5d6a87,_0x237db6=_0x315d3e[_0x322d6e(0x6b8)](_0x31f5ac);_0x315d3e[_0x322d6e(0x8fe)]&&_0x237db6>_0x315d3e[_0x322d6e(0x8fe)]&&this['addIssue'](_0x315d3e[_0x322d6e(0x8c9)],_0x31f5ac[_0x322d6e(0x769)],_0x32a158['Sender'],_0x237db6),_0x315d3e[_0x322d6e(0x29c)]&&_0x237db6<_0x315d3e[_0x322d6e(0x29c)]&&this['addIssue'](_0x315d3e['type'],_0x31f5ac[_0x322d6e(0x769)],_0x32a158['Sender'],_0x237db6);});}['detectVideoIssues'](_0x4bbba9,_0x3073b2,_0x1ca751){const _0x3e0373=_0x3f1d19;0x0!==_0x1ca751[_0x3e0373(0xa29)]&&_0x56bcef['forEach'](_0x2e2900=>{const _0x30d18f=_0x3e0373,_0x186816=_0x2e2900['reportMetric'](_0x1ca751);_0x2e2900['maxThreshold']&&_0x186816>_0x2e2900[_0x30d18f(0x8fe)]&&this['addIssue'](_0x2e2900[_0x30d18f(0x8c9)],_0x4bbba9,_0x3073b2,_0x186816,_0x30d18f(0x1ce)),_0x2e2900[_0x30d18f(0x29c)]&&_0x186816<_0x2e2900['minThreshold']&&this[_0x30d18f(0x8f5)](_0x2e2900[_0x30d18f(0x8c9)],_0x4bbba9,_0x3073b2,_0x186816,_0x30d18f(0x1ce));});}[_0x3f1d19(0x696)](_0x381b97,_0x4b4716,_0xc070da){const _0x41429f=_0x3f1d19;0x0!==_0xc070da[_0x41429f(0xa29)]&&_0x1e9a22[_0x41429f(0xa0d)](_0x5ac767=>{const _0x43340d=_0x41429f,_0x520303=_0x5ac767[_0x43340d(0x6b8)](_0xc070da);_0x5ac767['maxThreshold']&&_0x520303>_0x5ac767['maxThreshold']&&this[_0x43340d(0x8f5)](_0x5ac767[_0x43340d(0x8c9)],_0x381b97,_0x4b4716,_0x520303,_0x43340d(0x9d7)),_0x5ac767[_0x43340d(0x29c)]&&_0x520303<_0x5ac767['minThreshold']&&this['addIssue'](_0x5ac767[_0x43340d(0x8c9)],_0x381b97,_0x4b4716,_0x520303,_0x43340d(0x9d7));});}[_0x3f1d19(0x8f5)](_0x10dc34,_0x1fd522,_0x5946d0,_0x537a95,_0x58cd92){const _0x2029f2=_0x3f1d19;_0x576b91['log'](_0x419b0a[_0x2029f2(0xb62)],'Issue\x20detected:\x20'+_0x10dc34,_0x10dc34,_0x537a95),_0x576b91[_0x2029f2(0x75c)](_0x2029f2(0x2f7),{'clusterId':this[_0x2029f2(0x1b8)]['clusterId'],'nodeId':this[_0x2029f2(0x1b8)]['localNode'][_0x2029f2(0x7be)](),'nodeType':this[_0x2029f2(0x1b8)][_0x2029f2(0x72c)][_0x2029f2(0x8c9)],'remoteId':_0x1fd522,'data':{'type':_0x10dc34,'value':_0x537a95,'kind':_0x58cd92}}),this[_0x2029f2(0x718)]=this[_0x2029f2(0x718)][_0x2029f2(0x1e0)](_0x4bfab5=>Date[_0x2029f2(0x64c)]()-_0x4bfab5[_0x2029f2(0x82d)]<0x7530),this[_0x2029f2(0x718)][_0x2029f2(0x24b)]({'timestamp':Date[_0x2029f2(0x64c)](),'type':_0x10dc34,'nodeId':_0x1fd522,'origin':_0x5946d0,'value':_0x537a95,'kind':_0x58cd92});const _0x2ec9aa=this[_0x2029f2(0x718)]['filter'](_0x3f2459=>_0x3f2459['type']===_0x10dc34&&_0x3f2459['nodeId']===_0x1fd522&&_0x3f2459['origin']===_0x5946d0)[_0x2029f2(0x744)];this[_0x2029f2(0xaee)](_0x10dc34,_0x1fd522,_0x5946d0,_0x2ec9aa);}[_0x3f1d19(0x30e)](_0x34d260,_0x7e0809,_0x3b4ac3){const _0xc12006=_0x3f1d19;_0x576b91[_0xc12006(0x279)](_0x419b0a[_0xc12006(0xb62)],_0xc12006(0x9fe)+_0x34d260),_0x576b91[_0xc12006(0x75c)](_0xc12006(0xa9a),{'clusterId':this['configs'][_0xc12006(0x7d9)],'nodeId':this[_0xc12006(0x1b8)][_0xc12006(0x72c)][_0xc12006(0x7be)](),'nodeType':this[_0xc12006(0x1b8)][_0xc12006(0x72c)][_0xc12006(0x8c9)],'remoteId':_0x7e0809,'data':{'type':_0x34d260}}),this[_0xc12006(0x8f2)]?.[_0xc12006(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0xc12006(0xb62)],'content':{'type':_0x2b508b[_0xc12006(0x770)],'data':{'timestamp':Date['now'](),'nodeId':_0x7e0809,'origin':_0x32a158[_0xc12006(0x1ba)],'type':_0x34d260}}});}}class _0x46a605 extends _0x5ddf68{[_0x3f1d19(0x8c9)]=_0x1c7ce5['NodeType'][_0x3f1d19(0x2de)];}class _0x3c77d3 extends _0x46a605{[_0x3f1d19(0x8f2)];[_0x3f1d19(0xaf3)]=Date[_0x3f1d19(0x64c)]();[_0x3f1d19(0x9b8)];[_0x3f1d19(0x366)];['close'](){const _0x50a319=_0x3f1d19;this['updateDebounceTimeout']&&(clearTimeout(this[_0x50a319(0x9b8)]),delete this[_0x50a319(0x9b8)]),delete this[_0x50a319(0x366)],this[_0x50a319(0xaf3)]=Date[_0x50a319(0x64c)](),super[_0x50a319(0x87b)]();}['registerSystemPublisher'](_0x182d3f){const _0x1bec3a=_0x3f1d19;this[_0x1bec3a(0x8f2)]=_0x182d3f;}[_0x3f1d19(0x8ad)](){const _0x1f0b2a=_0x3f1d19;delete this[_0x1f0b2a(0x8f2)];}[_0x3f1d19(0x6e2)](_0x5ef3b4){const _0x3eb4f9=_0x3f1d19;!this[_0x3eb4f9(0x9b8)]&&this[_0x3eb4f9(0x95d)]&&this[_0x3eb4f9(0x8f2)][_0x3eb4f9(0x4f8)]({'sourceId':this['id'],'destinationIds':[_0x5ef3b4],'propagate':!0x0,'messageType':_0x21fe4c[_0x3eb4f9(0x4a6)],'content':{'type':_0x2397e8[_0x3eb4f9(0x143)],'id':this['id'],'metaData':{'type':this['type']},'rank':this['getRank'](),'remoteConnections':Array[_0x3eb4f9(0x663)](this[_0x3eb4f9(0x5b6)]),'version':this[_0x3eb4f9(0xaf3)]}});}['addRemoteConnection'](_0x1dac9a){const _0x2afa07=_0x3f1d19;this[_0x2afa07(0x5b6)][_0x2afa07(0x1c3)](_0x1dac9a)||(this[_0x2afa07(0x5b6)][_0x2afa07(0x7ce)](_0x1dac9a),this[_0x2afa07(0x1af)](),this[_0x2afa07(0x642)](!0x0));}['removeRemoteConnection'](_0x5ad670){const _0x3b5bec=_0x3f1d19;this[_0x3b5bec(0x5b6)][_0x3b5bec(0x1c3)](_0x5ad670)&&(this[_0x3b5bec(0x5b6)][_0x3b5bec(0x233)](_0x5ad670),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x3f1d19(0x4a8)](){const _0x3a3d45=_0x3f1d19;return this[_0x3a3d45(0xaf3)];}['setRank'](_0x5b39b6,_0xb119b4=!0x0){const _0x44b8db=_0x3f1d19;this[_0x44b8db(0x95d)]!==_0x5b39b6&&(this[_0x44b8db(0x95d)]=_0x5b39b6,_0xb119b4&&(this[_0x44b8db(0x1af)](),this['publishUserUpdate']()));}['incrementVersion'](){const _0x30a2ed=_0x3f1d19;this[_0x30a2ed(0xaf3)]=Date[_0x30a2ed(0x64c)]();}[_0x3f1d19(0x642)](_0x5bc139=!0x1){const _0x5e24f0=_0x3f1d19;if(this[_0x5e24f0(0x95d)]){if(this['lastUpdated']||(this[_0x5e24f0(0x366)]=Date[_0x5e24f0(0x64c)]()),this['updateDebounceTimeout']){if(Date[_0x5e24f0(0x64c)]()-this[_0x5e24f0(0x366)]>0x2328)return;clearTimeout(this[_0x5e24f0(0x9b8)]);}this[_0x5e24f0(0x9b8)]=setTimeout(()=>{const _0x39d1cd=_0x5e24f0;delete this[_0x39d1cd(0x366)],delete this['updateDebounceTimeout'],this[_0x39d1cd(0x8f2)][_0x39d1cd(0x4f8)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x21fe4c['Node'],'content':{'type':_0x5bc139?_0x2397e8[_0x39d1cd(0x483)]:_0x2397e8[_0x39d1cd(0x143)],'id':this['id'],'metaData':{'type':this[_0x39d1cd(0x8c9)]},'rank':this[_0x39d1cd(0xa5d)](),'remoteConnections':Array['from'](this[_0x39d1cd(0x5b6)]),'version':this[_0x39d1cd(0xaf3)]}});},0x3e8);}}}class _0x1eb99a extends _0xde295a{[_0x3f1d19(0x8f2)];[_0x3f1d19(0xaf3)]=Date[_0x3f1d19(0x64c)]();['updateDebounceTimeout'];[_0x3f1d19(0x366)];['close'](){const _0x515102=_0x3f1d19;this['updateDebounceTimeout']&&(clearTimeout(this[_0x515102(0x9b8)]),delete this[_0x515102(0x9b8)]),delete this[_0x515102(0x366)],this[_0x515102(0xaf3)]=Date[_0x515102(0x64c)](),super[_0x515102(0x87b)]();}[_0x3f1d19(0x819)](_0x1b8547){const _0xa66e91=_0x3f1d19;this[_0xa66e91(0x8f2)]=_0x1b8547;}['unregisterSystemPublisher'](){delete this['systemTopic'];}['answerJoin'](_0x447855){const _0x40ff0f=_0x3f1d19;!this[_0x40ff0f(0x9b8)]&&this['rank']&&this[_0x40ff0f(0x8f2)]['publish']({'sourceId':this['id'],'destinationIds':[_0x447855],'propagate':!0x0,'messageType':_0x21fe4c[_0x40ff0f(0x4a6)],'content':{'type':_0x2397e8[_0x40ff0f(0x143)],'id':this['id'],'metaData':{'type':this[_0x40ff0f(0x8c9)],'displayName':this['getDisplayName'](),'email':this[_0x40ff0f(0x256)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x40ff0f(0x663)](this[_0x40ff0f(0x5b6)]),'version':this[_0x40ff0f(0xaf3)]}});}[_0x3f1d19(0x8fa)](_0x3231c3){const _0x54deb1=_0x3f1d19;this['remoteConnections'][_0x54deb1(0x1c3)](_0x3231c3)||(this[_0x54deb1(0x5b6)][_0x54deb1(0x7ce)](_0x3231c3),this[_0x54deb1(0x1af)](),this[_0x54deb1(0x642)](!0x0));}[_0x3f1d19(0xaf1)](_0x42362b){const _0xf918dc=_0x3f1d19;this[_0xf918dc(0x5b6)][_0xf918dc(0x1c3)](_0x42362b)&&(this[_0xf918dc(0x5b6)]['delete'](_0x42362b),this[_0xf918dc(0x1af)](),this[_0xf918dc(0x642)](!0x0));}[_0x3f1d19(0x4a8)](){const _0x294662=_0x3f1d19;return this[_0x294662(0xaf3)];}[_0x3f1d19(0x2b0)](_0x2a3c1d){const _0x57abab=_0x3f1d19;this[_0x57abab(0x1df)]!==_0x2a3c1d&&(this[_0x57abab(0x1df)]=_0x2a3c1d,this[_0x57abab(0x1af)](),this[_0x57abab(0x642)]());}[_0x3f1d19(0xab8)](_0x7ed343){const _0x4b0922=_0x3f1d19;this[_0x4b0922(0x968)]!==_0x7ed343&&(this['email']=_0x7ed343,this['incrementVersion'](),this[_0x4b0922(0x642)]());}[_0x3f1d19(0x981)](_0x413e7b,_0x1879ed=!0x0){const _0x310c68=_0x3f1d19;this[_0x310c68(0x95d)]!==_0x413e7b&&(this[_0x310c68(0x95d)]=_0x413e7b,_0x1879ed&&(this[_0x310c68(0x1af)](),this[_0x310c68(0x642)]()));}[_0x3f1d19(0x1af)](){const _0x572bed=_0x3f1d19;this['currentVersion']=Date[_0x572bed(0x64c)]();}['publishUserUpdate'](_0xe0afee=!0x1){const _0x3baa53=_0x3f1d19;if(this['rank']){if(this[_0x3baa53(0x366)]||(this[_0x3baa53(0x366)]=Date[_0x3baa53(0x64c)]()),this['updateDebounceTimeout']){if(Date[_0x3baa53(0x64c)]()-this[_0x3baa53(0x366)]>0x2328)return;clearTimeout(this[_0x3baa53(0x9b8)]);}this[_0x3baa53(0x9b8)]=setTimeout(()=>{const _0x160290=_0x3baa53;delete this['lastUpdated'],delete this[_0x160290(0x9b8)],this[_0x160290(0x8f2)][_0x160290(0x4f8)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x21fe4c[_0x160290(0x4a6)],'content':{'type':_0xe0afee?_0x2397e8[_0x160290(0x483)]:_0x2397e8['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x160290(0x8c9)],'displayName':this[_0x160290(0xa78)](),'email':this[_0x160290(0x256)]()},'rank':this[_0x160290(0xa5d)](),'remoteConnections':Array[_0x160290(0x663)](this[_0x160290(0x5b6)]),'version':this[_0x160290(0xaf3)]}});},0x3e8);}}}class _0x206519{['id'];[_0x3f1d19(0x402)];[_0x3f1d19(0x3db)];[_0x3f1d19(0x6ac)];[_0x3f1d19(0x8c9)]=_0x1c7ce5[_0x3f1d19(0x77d)][_0x3f1d19(0x2de)];[_0x3f1d19(0x886)];constructor(_0x36b9b3,_0x68af9,_0x4bd56f,_0x4ac807){const _0x4e8ea6=_0x3f1d19;this['id']=_0x36b9b3,this[_0x4e8ea6(0x402)]=_0x68af9,this[_0x4e8ea6(0x3db)]=_0x4bd56f,this[_0x4e8ea6(0x6ac)]=_0x4ac807;}['getId'](){return this['id'];}['onConfigurationChange'](_0x3c8c44){const _0x65a8a5=_0x3f1d19,_0x3c2e22=(0x0,_0x46e89c['onSnapshot'])((0x0,_0x46e89c[_0x65a8a5(0xb4b)])(_0x25e54d[_0x65a8a5(0x914)](),'developers/'+this['vendorId']+'/resources/agent/items/'+this[_0x65a8a5(0x402)]),_0x4e8586=>{const _0x5d5576=_0x65a8a5;if(_0x4e8586[_0x5d5576(0x24a)]()){const _0x45bb10=_0x4e8586[_0x5d5576(0xa34)]();if(this['agentConfig'][_0x5d5576(0x82d)][_0x5d5576(0x89e)](_0x45bb10['timestamp']))return;_0x576b91['log'](_0x419b0a[_0x5d5576(0x4a6)],_0x5d5576(0x1b6),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this['agentConfig'],'newConfig':_0x45bb10}),this[_0x5d5576(0x6ac)]=_0x45bb10,_0x3c8c44();}});return()=>_0x3c2e22();}['setReportCapacity'](_0x22150b){const _0x469ef7=_0x3f1d19;return this['reportCapacity'](this['groupId'],_0x22150b),_0x18a0c6[_0x469ef7(0x92b)](()=>this[_0x469ef7(0x71f)](this[_0x469ef7(0x402)],_0x22150b),0x7530);}[_0x3f1d19(0x4d5)](){const _0x167d15=_0x3f1d19;if(!this['lastCapacityReport'])throw new _0x5c1da3(_0x5c1da3['codes'][_0x167d15(0x996)]);return this[_0x167d15(0x886)];}async[_0x3f1d19(0x71f)](_0x247db1,_0x497963){const _0x52daf0=_0x3f1d19,_0x2a6725=await _0x497963();this[_0x52daf0(0x886)]=_0x2a6725,await(0x0,_0x46e89c['addDoc'])((0x0,_0x46e89c[_0x52daf0(0x377)])(_0x25e54d[_0x52daf0(0x914)](),_0x52daf0(0x359)+this[_0x52daf0(0x3db)]+_0x52daf0(0x715)),{'agentId':this['id'],'groupId':_0x247db1,'timestamp':(0x0,_0x46e89c[_0x52daf0(0x708)])(),'capacity':_0x2a6725});}}!function(_0x58081d){const _0x130aaf=_0x3f1d19;_0x58081d[_0x58081d['Online']=0x0]=_0x130aaf(0x8e4),_0x58081d[_0x58081d[_0x130aaf(0x305)]=0x1]='Offline';}(_0x35c7b4||(_0x35c7b4={}));class _0x329862 extends _0x46a605{[_0x3f1d19(0xaf3)];[_0x3f1d19(0x597)]=_0x35c7b4[_0x3f1d19(0x8e4)];['lastUpdated']=Date[_0x3f1d19(0x64c)]();constructor(_0x19f2dc,_0x554284=new Set(),_0x3ffdf2,_0x373f59){super(_0x19f2dc,_0x554284,_0x373f59),this['currentVersion']=_0x3ffdf2;}[_0x3f1d19(0x4a8)](){const _0x25f615=_0x3f1d19;return this[_0x25f615(0xaf3)];}[_0x3f1d19(0x905)](){const _0x2d8f4d=_0x3f1d19;return this[_0x2d8f4d(0x597)];}['getLastUpdated'](){const _0x33edec=_0x3f1d19;return this[_0x33edec(0x366)];}[_0x3f1d19(0x981)](_0x334c7c){const _0x1f82e6=_0x3f1d19;this[_0x1f82e6(0x95d)]!==_0x334c7c&&(this[_0x1f82e6(0x95d)]=_0x334c7c,this['updateLastUpdated']());}['setRemoteConnections'](_0x2999b4){const _0x1935e1=_0x3f1d19;let _0x5bff17=!0x1;for(const _0x4bc7c4 of this[_0x1935e1(0x5b6)])_0x2999b4[_0x1935e1(0xb4d)](_0x4bc7c4)||(_0x5bff17=!0x0,this[_0x1935e1(0x5b6)][_0x1935e1(0x233)](_0x4bc7c4));for(const _0x11c3cf of _0x2999b4)this['remoteConnections'][_0x1935e1(0x1c3)](_0x11c3cf)||(_0x5bff17=!0x0,this[_0x1935e1(0x5b6)][_0x1935e1(0x7ce)](_0x11c3cf));_0x5bff17&&this[_0x1935e1(0x4d7)]();}[_0x3f1d19(0x240)](_0x35ebee){const _0x50af05=_0x3f1d19;this[_0x50af05(0xaf3)]!==_0x35ebee&&(this[_0x50af05(0xaf3)]=_0x35ebee,this[_0x50af05(0x4d7)]());}[_0x3f1d19(0xb3d)](_0x51c5fe){const _0x14af91=_0x3f1d19;this['status']!==_0x51c5fe&&(this['status']=_0x51c5fe,this[_0x14af91(0x4d7)](),_0x51c5fe===_0x35c7b4['Offline']&&this[_0x14af91(0x87b)]());}['updateLastUpdated'](){const _0x4f7bc7=_0x3f1d19;this[_0x4f7bc7(0x366)]=Date['now']();}}class _0x584edc extends _0xde295a{['currentVersion'];[_0x3f1d19(0x597)]=_0x35c7b4[_0x3f1d19(0x8e4)];[_0x3f1d19(0x366)]=Date['now']();constructor(_0x524703,_0x404aef,_0x490eea,_0x457a24=new Set(),_0x6c61a7,_0x521740){const _0x4e07df=_0x3f1d19;super(_0x524703,_0x404aef,_0x490eea,_0x457a24,_0x521740),this[_0x4e07df(0xaf3)]=_0x6c61a7;}[_0x3f1d19(0x4a8)](){const _0x595f86=_0x3f1d19;return this[_0x595f86(0xaf3)];}['getStatus'](){const _0x139d0e=_0x3f1d19;return this[_0x139d0e(0x597)];}[_0x3f1d19(0x98c)](){const _0x1836a8=_0x3f1d19;return this[_0x1836a8(0x366)];}[_0x3f1d19(0x2b0)](_0x182d97){const _0x5e08e3=_0x3f1d19;this[_0x5e08e3(0x1df)]!==_0x182d97&&(this[_0x5e08e3(0x1df)]=_0x182d97,this[_0x5e08e3(0x4d7)]());}[_0x3f1d19(0xab8)](_0x2f93af){const _0x40cbdc=_0x3f1d19;this['email']!==_0x2f93af&&(this[_0x40cbdc(0x968)]=_0x2f93af,this['updateLastUpdated']());}['setRank'](_0x2e3c68){const _0x669867=_0x3f1d19;this[_0x669867(0x95d)]!==_0x2e3c68&&(this[_0x669867(0x95d)]=_0x2e3c68,this[_0x669867(0x4d7)]());}['setRemoteConnections'](_0x34c688){const _0x5cb813=_0x3f1d19;let _0x1958e5=!0x1;for(const _0x285169 of this['remoteConnections'])_0x34c688[_0x5cb813(0xb4d)](_0x285169)||(_0x1958e5=!0x0,this[_0x5cb813(0x5b6)][_0x5cb813(0x233)](_0x285169));for(const _0x5138fa of _0x34c688)this[_0x5cb813(0x5b6)][_0x5cb813(0x1c3)](_0x5138fa)||(_0x1958e5=!0x0,this[_0x5cb813(0x5b6)][_0x5cb813(0x7ce)](_0x5138fa));_0x1958e5&&this['updateLastUpdated']();}[_0x3f1d19(0x240)](_0x4b4f5d){const _0x201248=_0x3f1d19;this[_0x201248(0xaf3)]!==_0x4b4f5d&&(this[_0x201248(0xaf3)]=_0x4b4f5d,this['updateLastUpdated']());}[_0x3f1d19(0xb3d)](_0x32c728){const _0x353d04=_0x3f1d19;this[_0x353d04(0x597)]!==_0x32c728&&(this[_0x353d04(0x597)]=_0x32c728,this[_0x353d04(0x4d7)](),_0x32c728===_0x35c7b4[_0x353d04(0x305)]&&this[_0x353d04(0x87b)]());}['updateLastUpdated'](){const _0x654be3=_0x3f1d19;this[_0x654be3(0x366)]=Date[_0x654be3(0x64c)]();}}class _0x466699{[_0x3f1d19(0x3db)];[_0x3f1d19(0x7d9)];[_0x3f1d19(0x72c)];['minConnections'];['disconnectCallback']=_0x4112ad();['firebaseUnsubscriber'];['childRemovedUnsubscriber'];['onDisconnectHandler'];['connected']=!0x1;[_0x3f1d19(0x182)];[_0x3f1d19(0x507)];constructor(_0x157f8a,_0x4c6974,_0x2aad64,_0x9675a1){const _0x489b16=_0x3f1d19;this['vendorId']=_0x157f8a,this[_0x489b16(0x7d9)]=_0x4c6974,this[_0x489b16(0x72c)]=_0x2aad64,this[_0x489b16(0x846)]=_0x9675a1,this['clusterKey']=_0x489b16(0x199)+this[_0x489b16(0x3db)]+'ccc'+this['clusterId'],this['nodeKey']='ccc'+this[_0x489b16(0x3db)]+_0x489b16(0x199)+this[_0x489b16(0x72c)][_0x489b16(0x7be)](),this[_0x489b16(0x83d)]=(0x0,_0x16c786[_0x489b16(0x4df)])((0x0,_0x16c786[_0x489b16(0xb46)])(_0x25e54d[_0x489b16(0x2d3)](),_0x489b16(0x639)),_0x36dd1f=>{const _0x41520c=_0x489b16;!0x0!==_0x36dd1f[_0x41520c(0x3dc)]()?this[_0x41520c(0x3fd)]&&_0x576b91[_0x41520c(0x9e0)](_0x41520c(0x8b5),{'clusterId':this['clusterId'],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x41520c(0x8c9)]}):(this[_0x41520c(0x3fd)]=!0x0,this[_0x41520c(0x3e5)](),_0x576b91[_0x41520c(0x7f4)](_0x41520c(0x888),{'clusterId':this[_0x41520c(0x7d9)],'nodeId':this[_0x41520c(0x72c)][_0x41520c(0x7be)](),'nodeType':this[_0x41520c(0x72c)][_0x41520c(0x8c9)]}));});}async[_0x3f1d19(0x4b3)](){const _0x1a88fb=_0x3f1d19;await this[_0x1a88fb(0x990)]();const _0xb75779=await this[_0x1a88fb(0x6f3)]();return this[_0x1a88fb(0x458)]=(0x0,_0x16c786[_0x1a88fb(0x39b)])((0x0,_0x16c786[_0x1a88fb(0xb46)])(_0x25e54d[_0x1a88fb(0x2d3)](),'clusters/'+this[_0x1a88fb(0x182)]+_0x1a88fb(0x54e)),_0x11e8aa=>{const _0x63f3aa=_0x1a88fb,_0x434e75=_0x11e8aa[_0x63f3aa(0x21f)];if(!_0x434e75)return;const _0x3e9a74=_0x434e75['replace'](_0x63f3aa(0x199)+this['vendorId']+_0x63f3aa(0x199),'');this[_0x63f3aa(0xac0)][_0x63f3aa(0x4f8)](_0x3e9a74);}),_0xb75779;}async[_0x3f1d19(0x87b)](){const _0x4d59e7=_0x3f1d19;this[_0x4d59e7(0x458)]?.(),delete this[_0x4d59e7(0x458)],this['onDisconnectHandler']?.[_0x4d59e7(0x88d)](),delete this[_0x4d59e7(0x12e)],this[_0x4d59e7(0x83d)]?.(),delete this[_0x4d59e7(0x83d)],await(0x0,_0x16c786[_0x4d59e7(0x594)])((0x0,_0x16c786[_0x4d59e7(0xb46)])(_0x25e54d[_0x4d59e7(0x2d3)](),_0x4d59e7(0x75a)+this[_0x4d59e7(0x182)]+_0x4d59e7(0x5ab)+this[_0x4d59e7(0x507)]));}[_0x3f1d19(0x41b)](_0x4194d2){const _0x4ad3c8=_0x3f1d19;return this[_0x4ad3c8(0xac0)][_0x4ad3c8(0x565)](_0x4194d2);}async[_0x3f1d19(0x6f3)](){const _0x229944=_0x3f1d19,_0x337095=[],_0x2e5550=await(0x0,_0x16c786[_0x229944(0x459)])((0x0,_0x16c786['ref'])(_0x25e54d['getDatabase'](),_0x229944(0x75a)+this[_0x229944(0x182)]+_0x229944(0x54e))),_0x4c4e23=[];return _0x2e5550['forEach'](_0x4f8383=>{const _0x1bff9f=_0x229944,_0x12896c=_0x4f8383[_0x1bff9f(0x21f)]?.['replace'](_0x1bff9f(0x199)+this[_0x1bff9f(0x3db)]+_0x1bff9f(0x199),'');_0x4c4e23[_0x1bff9f(0x24b)]({'id':_0x12896c,'joinedAt':_0x4f8383[_0x1bff9f(0x3dc)]()[_0x1bff9f(0x4f6)],'priority':_0x4f8383[_0x1bff9f(0x3dc)]()[_0x1bff9f(0xa82)]});}),_0x4c4e23[_0x229944(0x62c)]((_0x1b0fee,_0x54838f)=>_0x1b0fee[_0x229944(0x4f6)]===_0x54838f[_0x229944(0x4f6)]?_0x1b0fee[_0x229944(0xa82)]-_0x54838f['priority']:_0x1b0fee[_0x229944(0x4f6)]-_0x54838f['joinedAt'])[_0x229944(0x3b3)](_0x4c4e23[_0x229944(0x680)](_0xc1a382=>_0xc1a382['id']===this[_0x229944(0x72c)]['getId']())),_0x4c4e23['sort']((_0xa18740,_0x550638)=>_0x550638[_0x229944(0x4f6)]===_0xa18740['joinedAt']?_0x550638[_0x229944(0xa82)]-_0xa18740[_0x229944(0xa82)]:_0x550638[_0x229944(0x4f6)]-_0xa18740[_0x229944(0x4f6)])[_0x229944(0xa0d)](_0x18edc7=>{const _0x552e13=_0x229944;_0x337095[_0x552e13(0x744)]>=this[_0x552e13(0x846)]||_0x337095[_0x552e13(0x24b)](_0x18edc7['id']);}),_0x576b91['logEvent'](_0x229944(0x7cf),{'clusterId':this[_0x229944(0x7d9)],'nodeId':this[_0x229944(0x72c)][_0x229944(0x7be)](),'nodeType':this['localNode']['type'],'data':{'ancestorIds':_0x337095,'allNodes':_0x4c4e23}}),_0x337095;}async[_0x3f1d19(0x990)](){const _0x13ee97=_0x3f1d19;await(0x0,_0x16c786[_0x13ee97(0xb36)])((0x0,_0x16c786['ref'])(_0x25e54d[_0x13ee97(0x2d3)](),_0x13ee97(0x75a)+this[_0x13ee97(0x182)]+'/nodes/'+this[_0x13ee97(0x507)]),{'joinedAt':(0x0,_0x16c786[_0x13ee97(0x708)])(),'priority':Math[_0x13ee97(0x1ea)]()});}[_0x3f1d19(0x3e5)](){const _0x3d7183=_0x3f1d19;this['onDisconnectHandler']&&this[_0x3d7183(0x12e)][_0x3d7183(0x88d)](),this[_0x3d7183(0x12e)]=(0x0,_0x16c786[_0x3d7183(0x5f6)])((0x0,_0x16c786[_0x3d7183(0xb46)])(_0x25e54d[_0x3d7183(0x2d3)](),_0x3d7183(0x75a)+this['clusterKey']+_0x3d7183(0x5ab)+this[_0x3d7183(0x507)])),this[_0x3d7183(0x12e)][_0x3d7183(0x594)]();}}class _0x3e3297{['configs'];[_0x3f1d19(0x1d6)];[_0x3f1d19(0xa16)];[_0x3f1d19(0x4e8)];['discoveryUnsubscriber'];[_0x3f1d19(0x4f2)]=[];['systemTopic'];[_0x3f1d19(0x973)]=new Map();['debounceProcessRank'];[_0x3f1d19(0x959)];['_isReady'];[_0x3f1d19(0x660)];[_0x3f1d19(0x4e1)];['readyDebounce'];constructor(_0x6e8048,_0x546584){const _0x3c32c2=_0x3f1d19;this[_0x3c32c2(0x1b8)]=_0x6e8048,this[_0x3c32c2(0x1d6)]=_0x546584,this[_0x3c32c2(0x67b)]=new Promise((_0x44fd04,_0x1b4066)=>{const _0x169217=_0x3c32c2;this[_0x169217(0x660)]=_0x44fd04,this[_0x169217(0x4e1)]=_0x1b4066;}),this[_0x3c32c2(0x4e8)]=new _0x466699(this[_0x3c32c2(0x1b8)][_0x3c32c2(0x3db)],this[_0x3c32c2(0x1b8)][_0x3c32c2(0x7d9)],this[_0x3c32c2(0x1b8)][_0x3c32c2(0x72c)],this[_0x3c32c2(0x1d6)][_0x3c32c2(0x295)]()),this[_0x3c32c2(0xa4e)]=this['discoveryService'][_0x3c32c2(0x41b)](this[_0x3c32c2(0x397)]['bind'](this)),this['configs'][_0x3c32c2(0x870)][_0x3c32c2(0x213)](this[_0x3c32c2(0x1b8)][_0x3c32c2(0x72c)]),this[_0x3c32c2(0x1b8)][_0x3c32c2(0x870)][_0x3c32c2(0x213)](this),this[_0x3c32c2(0xa16)]=_0x18a0c6[_0x3c32c2(0x92b)](()=>{const _0x49e22e=_0x3c32c2,_0x4926af=Date[_0x49e22e(0x64c)]();this[_0x49e22e(0x1d6)][_0x49e22e(0x321)]()[_0x49e22e(0xa0d)](_0x305df3=>{const _0x5e5d63=_0x49e22e;_0x305df3[_0x5e5d63(0x905)]()===_0x35c7b4[_0x5e5d63(0x305)]&&_0x305df3[_0x5e5d63(0x98c)]()<_0x4926af-0x493e0&&this[_0x5e5d63(0x1d6)][_0x5e5d63(0x9f1)](_0x305df3[_0x5e5d63(0x7be)]());});},0xea60);}async[_0x3f1d19(0xaaf)](){const _0x3d7c30=_0x3f1d19;return this[_0x3d7c30(0x67b)];}async[_0x3f1d19(0xac2)](_0x4f96d6){return new Promise((_0x3dd418,_0x141fef)=>{const _0xb72ddb=a0_0x1394;let _0x1b2c22;const _0x7c0eba=setTimeout(()=>{const _0x1d5c11=a0_0x1394;_0x1b2c22?.(),_0x141fef(new Error(_0x1d5c11(0x267)+_0x4f96d6+_0x1d5c11(0x892)));},0x2710);if(this[_0xb72ddb(0x1d6)]['hasRemoteNode'](_0x4f96d6))return clearTimeout(_0x7c0eba),void _0x3dd418(!0x0);_0x1b2c22=this[_0xb72ddb(0x1d6)][_0xb72ddb(0x49c)](()=>{const _0xfa1550=_0xb72ddb;this[_0xfa1550(0x1d6)][_0xfa1550(0x246)](_0x4f96d6)&&(clearTimeout(_0x7c0eba),_0x3dd418(!0x0),_0x1b2c22?.());});});}[_0x3f1d19(0x819)](_0x279189){this['systemTopic']=_0x279189;}[_0x3f1d19(0x8ad)](){const _0x1c8a9b=_0x3f1d19;delete this[_0x1c8a9b(0x8f2)];}[_0x3f1d19(0x87b)](){const _0x459847=_0x3f1d19;this['debounceProcessRank']&&(clearTimeout(this[_0x459847(0xadf)]),delete this[_0x459847(0xadf)]),delete this[_0x459847(0x959)],this[_0x459847(0x1b8)][_0x459847(0x72c)][_0x459847(0x87b)](),this['remoteUnsubscriber'](),this[_0x459847(0xa4e)](),this['configs']['mediator'][_0x459847(0x2e9)](this[_0x459847(0x1b8)][_0x459847(0x72c)]),this[_0x459847(0x1b8)][_0x459847(0x870)]['unregisterSystemSource'](this),this['discoveryService'][_0x459847(0x87b)]();}[_0x3f1d19(0x728)](){return this['ancestors'];}[_0x3f1d19(0x4c2)](){const _0x92611f=_0x3f1d19;return this[_0x92611f(0x1b8)][_0x92611f(0x72c)][_0x92611f(0x7be)]();}['getLocalNode'](){const _0x588f2a=_0x3f1d19;return this[_0x588f2a(0x1b8)][_0x588f2a(0x72c)];}[_0x3f1d19(0x321)](_0x50c159){const _0x594dcb=_0x3f1d19,_0x211bbe=Array[_0x594dcb(0x663)](this['graphService'][_0x594dcb(0x321)]()['values']())['filter'](_0x1de707=>_0x1de707[_0x594dcb(0x905)]()===_0x35c7b4[_0x594dcb(0x8e4)]);return _0x50c159?_0x211bbe[_0x594dcb(0x1e0)](_0x50c159):_0x211bbe;}async[_0x3f1d19(0x7cf)](){const _0x1bd3fa=_0x3f1d19;return this['ancestors']=await this['discoveryService'][_0x1bd3fa(0x4b3)](),this['ancestors']['length']<this[_0x1bd3fa(0x1d6)]['getMinConnections']()&&(this[_0x1bd3fa(0x1b8)][_0x1bd3fa(0x72c)]['setRank'](this['ancestors'][_0x1bd3fa(0x744)]+0x1),this[_0x1bd3fa(0xa3c)]()),this['ancestors'];}[_0x3f1d19(0x553)](_0x287ca2,_0x5b8e49){const _0x3b6104=_0x3f1d19,_0x585064=this['configs'][_0x3b6104(0x72c)][_0x3b6104(0x5c3)](),_0x4c558c=new Set(_0x585064),_0xd6e682=Array['from'](_0x585064)[_0x3b6104(0x1e0)](_0x3539aa=>_0x3539aa!==_0x287ca2)['map'](_0x4e8c7b=>({'id':_0x4e8c7b,'distance':0x1}));for(;_0xd6e682[_0x3b6104(0x744)]>0x0;){const _0x3b3ce0=_0xd6e682[_0x3b6104(0x825)]();if(!_0x3b3ce0)continue;if(_0x3b3ce0['id']===_0x5b8e49)return _0x3b3ce0[_0x3b6104(0x99f)];const _0x4a7d52=this[_0x3b6104(0x1d6)][_0x3b6104(0x171)](_0x3b3ce0['id']);_0x4a7d52&&_0x4a7d52[_0x3b6104(0x905)]()!==_0x35c7b4[_0x3b6104(0x305)]&&_0x4a7d52[_0x3b6104(0x5c3)]()['forEach'](_0x51a8a5=>{const _0x405bca=_0x3b6104;_0x4c558c['has'](_0x51a8a5)||(_0x4c558c[_0x405bca(0x7ce)](_0x51a8a5),_0xd6e682['push']({'id':_0x51a8a5,'distance':_0x3b3ce0[_0x405bca(0x99f)]+0x1}));});}return-0x1;}[_0x3f1d19(0x823)](_0x2b7eb0){const _0x4c9645=_0x3f1d19;try{switch(_0x2b7eb0[_0x4c9645(0x861)][_0x4c9645(0x8c9)]){case _0x2397e8['NodeUpdate']:case _0x2397e8['NodeConnectionsUpdate']:this['handleNodeUpdate'](_0x2b7eb0[_0x4c9645(0x861)]),_0x576b91[_0x4c9645(0x279)](_0x419b0a[_0x4c9645(0x4a6)],_0x4c9645(0xa00),'\x27'+this[_0x4c9645(0x1b8)][_0x4c9645(0x72c)][_0x4c9645(0x7be)]()+',\x20'+_0x2b7eb0[_0x4c9645(0x634)]+'\x27',_0x2b7eb0,_0x2b7eb0['content']);break;case _0x2397e8[_0x4c9645(0x528)]:this[_0x4c9645(0x6d6)](_0x2b7eb0['content']['id']),_0x576b91[_0x4c9645(0x279)](_0x419b0a[_0x4c9645(0x4a6)],_0x4c9645(0x6a6),'\x27'+this[_0x4c9645(0x1b8)]['localNode'][_0x4c9645(0x7be)]()+',\x20'+_0x2b7eb0[_0x4c9645(0x634)]+'\x27',_0x2b7eb0,_0x2b7eb0[_0x4c9645(0x861)]);}}catch(_0x1c45fe){if(_0x1c45fe instanceof _0x5056a1)return void _0x576b91[_0x4c9645(0x279)](_0x419b0a[_0x4c9645(0x4a6)],_0x1c45fe[_0x4c9645(0x759)]);throw _0x1c45fe;}}[_0x3f1d19(0x8c0)](_0xf3533d){const _0x2057e9=_0x3f1d19;switch(_0xf3533d[_0x2057e9(0x861)]['type']){case _0x57287b[_0x2057e9(0x832)]:this[_0x2057e9(0x28f)](_0xf3533d['sourceId']),_0x576b91[_0x2057e9(0x279)](_0x419b0a[_0x2057e9(0x4a6)],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this[_0x2057e9(0x1b8)]['localNode']['getId']()+',\x20'+_0xf3533d[_0x2057e9(0x634)]+'\x27',_0xf3533d,_0xf3533d[_0x2057e9(0x861)]);break;case _0x57287b[_0x2057e9(0xa87)]:this[_0x2057e9(0x969)](_0xf3533d[_0x2057e9(0x634)]),_0x576b91[_0x2057e9(0x279)](_0x419b0a[_0x2057e9(0x4a6)],'NodeManager\x20-\x20PublishNodeLeave',this[_0x2057e9(0x1b8)]['localNode'][_0x2057e9(0x7be)](),_0xf3533d,_0xf3533d[_0x2057e9(0x861)]);}}['handleNodeJoin'](_0x49892c){const _0x24a025=_0x3f1d19;this[_0x24a025(0x793)](_0x49892c),this['notifyJoin'](_0x49892c);}[_0x3f1d19(0xa37)](_0x25ee68){const _0x2c67b3=_0x3f1d19;this[_0x2c67b3(0x1b8)][_0x2c67b3(0x72c)][_0x2c67b3(0x6e2)](_0x25ee68['id']),this[_0x2c67b3(0x438)](_0x25ee68['id']),this[_0x2c67b3(0x802)](_0x25ee68);}[_0x3f1d19(0x9c9)](_0x3d124f){const _0x37287e=_0x3f1d19,{id:_0x5562ae,metaData:_0x2a9e4e,rank:_0x586a88,remoteConnections:_0x4d44f1,version:_0x12e226}=_0x3d124f,_0x40edb4=this[_0x37287e(0x1d6)]['getRemoteNode'](_0x5562ae);if(_0x40edb4){if(!(_0x12e226<=_0x40edb4[_0x37287e(0x4a8)]())){if(_0x40edb4[_0x37287e(0x66e)](_0x4d44f1),_0x40edb4[_0x37287e(0x240)](_0x12e226),_0x40edb4['type']===_0x1c7ce5[_0x37287e(0x77d)]['User']&&_0x2a9e4e[_0x37287e(0x8c9)]===_0x1c7ce5[_0x37287e(0x77d)][_0x37287e(0x596)]&&(_0x40edb4[_0x37287e(0x2b0)](_0x2a9e4e[_0x37287e(0x1df)]),_0x40edb4['setEmail'](_0x2a9e4e['email'])),_0x586a88&&_0x40edb4[_0x37287e(0x981)](_0x586a88),this[_0x37287e(0xb00)](_0x5562ae,_0x586a88),_0x40edb4['getStatus']()===_0x35c7b4[_0x37287e(0x305)])return _0x40edb4[_0x37287e(0xb3d)](_0x35c7b4[_0x37287e(0x8e4)]),this[_0x37287e(0xa3c)](),void this['notifyJoin'](_0x3d124f);this[_0x37287e(0xa3c)](),this[_0x37287e(0x1ab)]({'id':_0x5562ae,'metaData':_0x2a9e4e,'remoteConnections':_0x4d44f1,'version':_0x12e226});}}else this[_0x37287e(0x6bc)](_0x3d124f);}[_0x3f1d19(0xb00)](_0x47836c,_0x228cf8){const _0x161088=_0x3f1d19;_0x228cf8&&this['ancestors']['includes'](_0x47836c)&&this[_0x161088(0x1b8)][_0x161088(0x72c)]['setRank'](_0x228cf8+this[_0x161088(0x4f2)][_0x161088(0x500)](_0x47836c)+0x1);}[_0x3f1d19(0x28f)](_0x5e5d8d){const _0x3cd249=_0x3f1d19;this[_0x3cd249(0x1b8)]['localNode'][_0x3cd249(0x8fa)](_0x5e5d8d);}[_0x3f1d19(0x793)]({id:_0x4a4f76,metaData:_0x440fc8,rank:_0x158c93,remoteConnections:_0x53f348,version:_0x5659a7}){const _0x2ba6a=_0x3f1d19;if(this[_0x2ba6a(0x1d6)][_0x2ba6a(0x246)](_0x4a4f76))throw new _0x5056a1(_0x2ba6a(0x873)+_0x4a4f76);switch(_0x440fc8['type']){case _0x1c7ce5[_0x2ba6a(0x77d)][_0x2ba6a(0x596)]:const {displayName:_0x253a3b,email:_0x3e3b49}=_0x440fc8;this[_0x2ba6a(0x1d6)][_0x2ba6a(0x9c6)](_0x4a4f76,new _0x584edc(_0x4a4f76,_0x253a3b,_0x3e3b49,new Set(_0x53f348),_0x5659a7,_0x158c93));break;case _0x1c7ce5[_0x2ba6a(0x77d)][_0x2ba6a(0x2de)]:this['graphService'][_0x2ba6a(0x9c6)](_0x4a4f76,new _0x329862(_0x4a4f76,new Set(_0x53f348),_0x5659a7,_0x158c93));}const _0x4a0719=this[_0x2ba6a(0x321)](),_0x347b0d=new Set(this[_0x2ba6a(0x4f2)]);_0x4a0719['forEach'](_0x3c79e7=>{const _0x3ce14a=_0x2ba6a;_0x347b0d['has'](_0x3c79e7[_0x3ce14a(0x7be)]())&&_0x347b0d['delete'](_0x3c79e7['getId']());}),0x0===_0x347b0d[_0x2ba6a(0x277)]&&this[_0x2ba6a(0x660)]&&(this['readyDebounce']&&clearTimeout(this[_0x2ba6a(0x6d0)]),this['readyDebounce']=setTimeout(()=>{const _0x3037ef=_0x2ba6a;this[_0x3037ef(0x660)]?.(!0x0),delete this[_0x3037ef(0x660)],delete this[_0x3037ef(0x4e1)];},0x7d0)),this['setLocalRank'](_0x4a4f76,_0x158c93),this[_0x2ba6a(0xa3c)]();}[_0x3f1d19(0x438)](_0x5af1df){const _0x36e753=_0x3f1d19;this[_0x36e753(0x8f2)][_0x36e753(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c['Node'],'content':{'type':_0x2397e8[_0x36e753(0x6e1)],'id':_0x5af1df}});}[_0x3f1d19(0x969)](_0x13a506){const _0x52bca8=_0x3f1d19;this[_0x52bca8(0x8f2)]?.[_0x52bca8(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x52bca8(0x4a6)],'content':{'type':_0x2397e8[_0x52bca8(0x528)],'id':_0x13a506}});}['handleNodeDisconnect'](_0x584fc0){const _0x461d44=_0x3f1d19;if(_0x584fc0===this[_0x461d44(0x1b8)][_0x461d44(0x72c)][_0x461d44(0x7be)]())return this[_0x461d44(0x1b8)][_0x461d44(0x870)][_0x461d44(0x874)](_0x461d44(0xaf2),{'id':_0x584fc0}),this['configs']['mediator'][_0x461d44(0x87b)]({'force':!0x0},!0x0),this[_0x461d44(0x1b8)]['mediator']['open'](),void this['configs']['mediator']['initialize']();this[_0x461d44(0x969)](_0x584fc0);}[_0x3f1d19(0x6d6)](_0x13c35d){const _0x159666=_0x3f1d19;this[_0x159666(0x4f2)][_0x159666(0xb4d)](_0x13c35d)?this['manageAncestor'](_0x13c35d):this[_0x159666(0x1b8)]['localNode'][_0x159666(0x5c3)]()['has'](_0x13c35d)&&this[_0x159666(0xad3)](_0x13c35d),this[_0x159666(0x1b8)][_0x159666(0x72c)]['removeRemoteConnection'](_0x13c35d);const _0x8fb6e0=Array[_0x159666(0x663)](this[_0x159666(0x973)][_0x159666(0x736)]())[_0x159666(0x4d3)](([,_0x47749b])=>_0x47749b==_0x47749b);_0x8fb6e0&&this[_0x159666(0x973)][_0x159666(0x233)](_0x8fb6e0[0x0]);const _0x373035=this[_0x159666(0x1d6)][_0x159666(0x171)](_0x13c35d);if(!_0x373035)return;const _0x3666ff=_0x373035['getRank'](),_0xb4fa0=this['configs'][_0x159666(0x72c)]['getRank']();_0xb4fa0&&_0x3666ff&&_0x3666ff<_0xb4fa0&&this[_0x159666(0x1b8)][_0x159666(0x72c)]['setRank'](_0xb4fa0-0x1,!0x1),Array[_0x159666(0x663)](this['graphService'][_0x159666(0x321)]()[_0x159666(0x9b6)]())[_0x159666(0xa0d)](_0x5777dc=>{const _0x345622=_0x159666,_0xf4a1e5=_0x5777dc['getRank']();_0xf4a1e5&&_0x3666ff&&_0x3666ff<_0xf4a1e5&&_0x5777dc[_0x345622(0x981)](_0xf4a1e5-0x1);}),_0x373035[_0x159666(0xb3d)](_0x35c7b4[_0x159666(0x305)]),this['configs'][_0x159666(0x870)]['notifyCluster'](_0x373035[_0x159666(0x8c9)]+_0x159666(0x262),{'id':_0x13c35d});}[_0x3f1d19(0x802)]({id:_0x456d53,metaData:_0x409c71,remoteConnections:_0x11fbc6}){const _0x47f1b6=_0x3f1d19;switch(_0x409c71[_0x47f1b6(0x8c9)]){case _0x1c7ce5[_0x47f1b6(0x77d)][_0x47f1b6(0x596)]:this[_0x47f1b6(0x1b8)][_0x47f1b6(0x870)][_0x47f1b6(0x874)](_0x47f1b6(0x235),{'id':_0x456d53,'metaData':_0x409c71,'remoteConnections':_0x11fbc6});break;case _0x1c7ce5['NodeType'][_0x47f1b6(0x2de)]:this['configs'][_0x47f1b6(0x870)][_0x47f1b6(0x874)](_0x47f1b6(0x3a7),{'id':_0x456d53,'metaData':_0x409c71,'remoteConnections':_0x11fbc6});}}['notifyClusterNodeUpdate']({id:_0xb29abb,metaData:_0x435f74,remoteConnections:_0x48c84f}){const _0x8550f=_0x3f1d19;switch(_0x435f74['type']){case _0x1c7ce5[_0x8550f(0x77d)][_0x8550f(0x596)]:this[_0x8550f(0x1b8)][_0x8550f(0x870)][_0x8550f(0x874)]('user-update',{'id':_0xb29abb,'metaData':_0x435f74,'remoteConnections':_0x48c84f});break;case _0x1c7ce5[_0x8550f(0x77d)]['Agent']:this[_0x8550f(0x1b8)][_0x8550f(0x870)][_0x8550f(0x874)]('agent-update',{'id':_0xb29abb,'metaData':_0x435f74,'remoteConnections':_0x48c84f});}}[_0x3f1d19(0xa3c)](){const _0x2770ee=_0x3f1d19;if(this[_0x2770ee(0x959)]||(this[_0x2770ee(0x959)]=Date[_0x2770ee(0x64c)]()),this[_0x2770ee(0xadf)]){if(Date[_0x2770ee(0x64c)]()-this[_0x2770ee(0x959)]>0x2328)return;clearTimeout(this[_0x2770ee(0xadf)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x1ca18c=_0x2770ee;delete this['lastProcessRank'],delete this['debounceProcessRank'];const _0x4e6baf=this['configs'][_0x1ca18c(0x72c)][_0x1ca18c(0xa5d)]();if(!_0x4e6baf)return;const _0x4ec48e=this[_0x1ca18c(0x1d6)][_0x1ca18c(0x9cd)](this[_0x1ca18c(0x1d6)][_0x1ca18c(0x321)]()[_0x1ca18c(0x277)]);if(this[_0x1ca18c(0x973)][_0x1ca18c(0x277)]>=_0x4ec48e)return;let _0x318f1d=0x1;for(;this['configs']['mediator'][_0x1ca18c(0x491)]()[_0x1ca18c(0x744)]<this[_0x1ca18c(0x1d6)][_0x1ca18c(0xa04)]()&&_0x318f1d<=_0x4ec48e;){if(this[_0x1ca18c(0x973)][_0x1ca18c(0x1c3)](_0x318f1d)){_0x318f1d+=0x1;continue;}const _0x4883f7=this[_0x1ca18c(0x1d6)]['getNextTargetRank'](_0x4e6baf,_0x318f1d),_0x574d2d=Array['from'](this[_0x1ca18c(0x1d6)][_0x1ca18c(0x321)]()[_0x1ca18c(0x9b6)]())[_0x1ca18c(0x4d3)](_0xb23269=>_0xb23269[_0x1ca18c(0xa5d)]()===_0x4883f7&&_0xb23269['getStatus']()===_0x35c7b4[_0x1ca18c(0x8e4)]);if(_0x574d2d){try{await this['configs'][_0x1ca18c(0x870)][_0x1ca18c(0x422)](_0x574d2d[_0x1ca18c(0x7be)](),_0x4bb910['Optimization']),this[_0x1ca18c(0x973)][_0x1ca18c(0xb36)](_0x318f1d,_0x574d2d[_0x1ca18c(0x7be)]());}catch(_0x3ad05d){if(!(_0x3ad05d instanceof _0x5c1da3&&_0x3ad05d[_0x1ca18c(0x380)]===_0x5c1da3[_0x1ca18c(0x91b)][_0x1ca18c(0x929)]))throw _0x3ad05d;_0x576b91[_0x1ca18c(0x279)](_0x419b0a[_0x1ca18c(0x4a6)],this[_0x1ca18c(0x1b8)][_0x1ca18c(0x72c)]['getId'](),_0x574d2d['getId'](),_0x3ad05d['message']);}_0x318f1d+=0x1;}else _0x318f1d+=0x1;}},0x3e8);}async[_0x3f1d19(0x204)](_0x4fa56f){const _0x586f96=_0x3f1d19;this[_0x586f96(0x4f2)][_0x586f96(0x3b3)](this[_0x586f96(0x4f2)][_0x586f96(0x500)](_0x4fa56f),0x1);const _0x2759e9=await this[_0x586f96(0x4e8)][_0x586f96(0x6f3)]();for(const _0x411c7c of _0x2759e9)if(!this[_0x586f96(0x4f2)][_0x586f96(0xb4d)](_0x411c7c)){const _0x5a21ba=Array[_0x586f96(0x663)](this[_0x586f96(0x973)][_0x586f96(0x736)]())[_0x586f96(0x4d3)](([,_0x399384])=>_0x399384===_0x411c7c);_0x5a21ba&&this[_0x586f96(0x973)]['delete'](_0x5a21ba[0x0]),this[_0x586f96(0x1b8)][_0x586f96(0x870)][_0x586f96(0x422)](_0x411c7c,_0x4bb910[_0x586f96(0x7d3)]);}0x0===_0x2759e9[_0x586f96(0x744)]&&this[_0x586f96(0x1b8)][_0x586f96(0x72c)]['setRank'](0x1),this[_0x586f96(0x4f2)]=_0x2759e9;}async[_0x3f1d19(0xad3)](_0x57afd3){const _0x1482f1=_0x3f1d19,_0x4ff2d7=this[_0x1482f1(0x1b8)][_0x1482f1(0x72c)][_0x1482f1(0xa5d)]();if(!_0x4ff2d7)return;const _0x26f39d=this[_0x1482f1(0x1d6)][_0x1482f1(0x171)](_0x57afd3);if(!_0x26f39d||_0x26f39d[_0x1482f1(0x905)]()===_0x35c7b4[_0x1482f1(0x305)])return;const _0x213dfa=_0x26f39d[_0x1482f1(0xa5d)]();if(!_0x213dfa||_0x213dfa<_0x4ff2d7)return;const _0x5b0e58=this[_0x1482f1(0x404)](this[_0x1482f1(0x1b8)][_0x1482f1(0x72c)][_0x1482f1(0x5c3)](),_0x4ff2d7),_0x5dcd3e=this['getOutgoingOptimizationConnections'](_0x26f39d[_0x1482f1(0x5c3)](),_0x213dfa)[_0x5b0e58['findIndex'](([_0x195e8b])=>_0x195e8b===_0x57afd3)];if(!_0x5dcd3e||this[_0x1482f1(0x1b8)][_0x1482f1(0x72c)]['getRemoteConnections']()['has'](_0x5dcd3e[0x0]))return;const _0x579639=this[_0x1482f1(0x1d6)]['getRemoteNode'](_0x5dcd3e[0x0]);if(_0x579639&&_0x579639[_0x1482f1(0x905)]()!==_0x35c7b4[_0x1482f1(0x305)])try{await this[_0x1482f1(0x1b8)][_0x1482f1(0x870)][_0x1482f1(0x422)](_0x5dcd3e[0x0],_0x4bb910[_0x1482f1(0x821)]);const _0x1bb4ac=Array[_0x1482f1(0x663)](this['optimizationLayers'][_0x1482f1(0x736)]())[_0x1482f1(0x4d3)](([,_0x421a4f])=>_0x421a4f===_0x57afd3);_0x1bb4ac&&this[_0x1482f1(0x973)][_0x1482f1(0xb36)](_0x1bb4ac[0x0],_0x5dcd3e[0x0]);}catch(_0x4adcee){if(!(_0x4adcee instanceof _0x5c1da3&&_0x4adcee[_0x1482f1(0x380)]===_0x5c1da3[_0x1482f1(0x91b)]['RemoteConnectionExists']))throw _0x4adcee;_0x576b91[_0x1482f1(0x279)](_0x419b0a[_0x1482f1(0x4a6)],this[_0x1482f1(0x1b8)][_0x1482f1(0x72c)][_0x1482f1(0x7be)](),_0x5dcd3e[0x0],_0x4adcee['message']);}}['getOutgoingOptimizationConnections'](_0x2fff3e,_0x404487){const _0x45859b=_0x3f1d19;return Array[_0x45859b(0x663)](_0x2fff3e)[_0x45859b(0x9ed)]((_0x4f4369,_0x31dc74)=>{const _0x487f37=_0x45859b,_0x10178=this[_0x487f37(0x1d6)]['getRemoteNode'](_0x31dc74);if(!_0x10178||_0x10178[_0x487f37(0x905)]()===_0x35c7b4[_0x487f37(0x305)])return _0x4f4369;const _0x334b00=_0x10178[_0x487f37(0xa5d)]();if(!_0x334b00)return _0x4f4369;const _0x22a1a9=_0x334b00-_0x404487;return _0x22a1a9<=this[_0x487f37(0x1d6)][_0x487f37(0x295)]()||_0x4f4369[_0x487f37(0x24b)]([_0x31dc74,_0x22a1a9]),_0x4f4369;},[])[_0x45859b(0x62c)](([,_0x559ba3],[,_0x5b010b])=>_0x559ba3-_0x5b010b);}}const _0x538989=[{'problemType':_0x2bc583['CPUCycle'],'remediations':[{'type':_0x53c86d[_0x3f1d19(0x2e5)],'component':_0x109376[_0x3f1d19(0xaad)],'action':_0x41d86a[_0x3f1d19(0xa18)]},{'type':_0x53c86d['RemoteRemediation'],'component':_0x109376['Resolution'],'action':_0x41d86a[_0x3f1d19(0xa18)]}]},{'problemType':_0x2bc583[_0x3f1d19(0x4f0)],'remediations':[{'type':_0x53c86d['Remediation'],'component':_0x109376[_0x3f1d19(0xaad)],'action':_0x41d86a['Downgrade']}]},{'problemType':_0x2bc583['AudioVideoDelay'],'remediations':[{'type':_0x53c86d[_0x3f1d19(0x2e5)],'component':_0x109376[_0x3f1d19(0xaad)],'action':_0x41d86a[_0x3f1d19(0xa18)]}]},{'problemType':_0x2bc583['FramePerSecond'],'remediations':[{'type':_0x53c86d['Remediation'],'component':_0x109376['Resolution'],'action':_0x41d86a['Downgrade']}]},{'problemType':_0x2bc583['Bitrate'],'remediations':[{'type':_0x53c86d['Remediation'],'component':_0x109376['Bitrate'],'action':_0x41d86a[_0x3f1d19(0xa18)]}]},{'problemType':_0x2bc583[_0x3f1d19(0x955)],'remediations':[{'type':_0x53c86d[_0x3f1d19(0x2e5)],'component':_0x109376[_0x3f1d19(0x5f7)],'action':_0x41d86a[_0x3f1d19(0xa18)]}]},{'problemType':_0x2bc583[_0x3f1d19(0x89f)],'remediations':[{'type':_0x53c86d['Remediation'],'component':_0x109376[_0x3f1d19(0x5f7)],'action':_0x41d86a[_0x3f1d19(0xa18)]}]}];class _0x517dd6{[_0x3f1d19(0x1b8)];[_0x3f1d19(0x8f2)];[_0x3f1d19(0x3a4)]=new Map();constructor(_0x550442){const _0x28d19a=_0x3f1d19;this['configs']=_0x550442,this['configs'][_0x28d19a(0x870)][_0x28d19a(0x213)](this);}['close'](){const _0x4a7e6d=_0x3f1d19;this['configs'][_0x4a7e6d(0x870)][_0x4a7e6d(0x2e9)](this);}[_0x3f1d19(0x819)](_0x9f7975){const _0x553f38=_0x3f1d19;this[_0x553f38(0x8f2)]=_0x9f7975;}['unregisterSystemPublisher'](){const _0x40b026=_0x3f1d19;delete this[_0x40b026(0x8f2)];}[_0x3f1d19(0x862)](_0x27e10d){const _0x1d689c=_0x3f1d19;_0x27e10d[_0x1d689c(0x861)][_0x1d689c(0x8c9)]===_0x2b508b['Problem']&&this[_0x1d689c(0x1e8)](_0x27e10d[_0x1d689c(0x861)][_0x1d689c(0xa34)]);}[_0x3f1d19(0x7ed)](_0x431ff4){const _0x2f8df2=_0x3f1d19;_0x431ff4[_0x2f8df2(0x861)][_0x2f8df2(0x8c9)]===_0x53c86d[_0x2f8df2(0x5b8)]&&this[_0x2f8df2(0x2a1)](_0x431ff4['sourceId'],{'type':_0x53c86d[_0x2f8df2(0x2e5)],'component':_0x431ff4[_0x2f8df2(0x861)][_0x2f8df2(0xa34)][_0x2f8df2(0x3f7)],'action':_0x431ff4[_0x2f8df2(0x861)][_0x2f8df2(0xa34)][_0x2f8df2(0x677)]});}['handleProblem'](_0x281935){const _0x40efca=_0x3f1d19,_0x347d14=_0x538989[_0x40efca(0x4d3)](_0x24bb7a=>_0x24bb7a[_0x40efca(0x78a)]===_0x281935[_0x40efca(0x8c9)]);_0x347d14[_0x40efca(0x8bb)]?.[_0x40efca(0xa0d)](_0x1b1469=>{const _0x335a2f=_0x40efca;this[_0x335a2f(0x2a1)](_0x281935[_0x335a2f(0x769)],{'type':_0x281935['origin']===_0x32a158[_0x335a2f(0x1ba)]?_0x53c86d[_0x335a2f(0x2e5)]:_0x53c86d[_0x335a2f(0x5b8)],'component':_0x1b1469[_0x335a2f(0x3f7)],'action':_0x1b1469[_0x335a2f(0x677)]});});}[_0x3f1d19(0x2a1)](_0x245c31,_0x285f1d){const _0x14954d=_0x3f1d19;if(_0x285f1d[_0x14954d(0x8c9)]===_0x53c86d[_0x14954d(0x2e5)]){const _0xbceb5b=Date[_0x14954d(0x64c)](),_0x3a2398=this[_0x14954d(0x3a4)][_0x14954d(0x459)](_0x245c31);if(_0x3a2398&&_0xbceb5b-_0x3a2398<0x1388)return;this[_0x14954d(0x3a4)][_0x14954d(0xb36)](_0x245c31,_0xbceb5b);}_0x576b91[_0x14954d(0x279)](_0x419b0a[_0x14954d(0x2e5)],'Apply\x20remediation',_0x285f1d),_0x576b91[_0x14954d(0x75c)]('remediation',{'clusterId':this['configs'][_0x14954d(0x7d9)],'nodeId':this[_0x14954d(0x1b8)][_0x14954d(0x72c)][_0x14954d(0x7be)](),'nodeType':this[_0x14954d(0x1b8)][_0x14954d(0x72c)][_0x14954d(0x8c9)],'remoteId':_0x245c31,'data':{'type':_0x285f1d[_0x14954d(0x8c9)],'component':_0x285f1d[_0x14954d(0x3f7)],'action':_0x285f1d['action']}});let _0x2b7ed1,_0x4f926d=_0x56bdb9;_0x285f1d[_0x14954d(0x8c9)]===_0x53c86d['RemoteRemediation']&&(_0x4f926d=this[_0x14954d(0x1b8)][_0x14954d(0x72c)][_0x14954d(0x7be)](),_0x2b7ed1=[_0x245c31]),this[_0x14954d(0x8f2)][_0x14954d(0x4f8)]({'sourceId':_0x4f926d,'destinationIds':_0x2b7ed1,'messageType':_0x21fe4c[_0x14954d(0x2e5)],'content':{'type':_0x285f1d[_0x14954d(0x8c9)],'targetId':_0x245c31,'data':_0x285f1d}});}}const _0x5ceb89=0x3e8,_0x42176b=0x7530,_0x1ae0b2=_0x3f1d19(0x479),_0x113a05=_0x3f1d19(0xb35),_0x7268fc=_0x3f1d19(0x5d5),_0x43ca0c=[_0x1ae0b2,_0x113a05],_0x3247a3=[_0x7268fc];class _0x4b5868{['roundTripTime']=0x0;[_0x3f1d19(0xb6b)]=0x0;[_0x3f1d19(0xa76)]=0x0;['packetsLost']=0x0;[_0x3f1d19(0x7e3)]=0x0;[_0x3f1d19(0x5a1)]=0x0;[_0x3f1d19(0x4c6)]=0x0;['currentBytes']=0x0;[_0x3f1d19(0x19f)]=0x0;get['bitrate'](){const _0x403697=_0x3f1d19;return this[_0x403697(0x5a1)]>0x0&&this[_0x403697(0x4c6)]>0x0&&Date[_0x403697(0x64c)]()-this[_0x403697(0x5a1)]<_0x42176b?(this[_0x403697(0x6b0)]-this[_0x403697(0x19f)])/(this[_0x403697(0x5a1)]-this[_0x403697(0x4c6)])*0x8*0x3e8:0x0;}[_0x3f1d19(0x3d5)](_0x4d0a75){const _0x3c05cd=_0x3f1d19;switch(_0x4d0a75[_0x3c05cd(0x8c9)]){case _0x7268fc:this[_0x3c05cd(0xafd)](_0x4d0a75);break;case _0x1ae0b2:this['processOutboundReport'](_0x4d0a75);break;case _0x113a05:this[_0x3c05cd(0x51d)](_0x4d0a75);}}[_0x3f1d19(0x5a6)](){const _0x3f5ca8=_0x3f1d19;return{'bitrate':this[_0x3f5ca8(0xa29)],'packetsLostPerc':this[_0x3f5ca8(0x627)](),'roundTripTime':this[_0x3f5ca8(0x269)],'jitter':this[_0x3f5ca8(0xa76)]};}[_0x3f1d19(0xafd)](_0xc3b590){const _0x18e956=_0x3f1d19;this[_0x18e956(0x268)](_0xc3b590['bytesReceived']),this[_0x18e956(0x59d)](_0xc3b590[_0x18e956(0x82d)]),this['packets']=_0xc3b590['packetsReceived'],this[_0x18e956(0x2ee)]=_0xc3b590[_0x18e956(0x2ee)],void 0x0!==_0xc3b590[_0x18e956(0xa76)]?this[_0x18e956(0xa76)]=_0xc3b590[_0x18e956(0xa76)]:this['jitter']=0x0,void 0x0!==_0xc3b590[_0x18e956(0xb6b)]?this[_0x18e956(0xb6b)]=_0xc3b590[_0x18e956(0xb6b)]:this[_0x18e956(0xb6b)]=0x0;}[_0x3f1d19(0xaa2)](_0x5bf7d0){const _0x1daa85=_0x3f1d19;this[_0x1daa85(0x268)](_0x5bf7d0[_0x1daa85(0xac7)]),this['setTimestamp'](_0x5bf7d0[_0x1daa85(0x82d)]),this[_0x1daa85(0x7e3)]=_0x5bf7d0['packetsSent'];}[_0x3f1d19(0x51d)](_0x109392){const _0x500fcb=_0x3f1d19;this[_0x500fcb(0x269)]=0x3e8*_0x109392[_0x500fcb(0x269)],void 0x0!==_0x109392[_0x500fcb(0xa76)]?this[_0x500fcb(0xa76)]=_0x109392[_0x500fcb(0xa76)]:this[_0x500fcb(0xa76)]=0x0;}[_0x3f1d19(0x627)](){const _0x5eb69f=_0x3f1d19;return this[_0x5eb69f(0x7e3)]>0x0?this[_0x5eb69f(0x2ee)]/this[_0x5eb69f(0x7e3)]:0x0;}[_0x3f1d19(0x59d)](_0x4c4b27){const _0x312362=_0x3f1d19;_0x4c4b27>this[_0x312362(0x5a1)]&&(this[_0x312362(0x4c6)]=this['currentTimestamp'],this[_0x312362(0x5a1)]=_0x4c4b27);}[_0x3f1d19(0x268)](_0xd5f8be){const _0x5a64a8=_0x3f1d19;this[_0x5a64a8(0x19f)]=this[_0x5a64a8(0x6b0)],this['currentBytes']=_0xd5f8be;}}class _0x4fc289 extends _0x4b5868{}class _0x42373b extends _0x4b5868{[_0x3f1d19(0x4fa)]=0x0;[_0x3f1d19(0x826)]=0x0;['frameHeight']=0x0;['currentFrames']=0x0;['previousFrames']=0x0;get['fps'](){const _0x26ad03=_0x3f1d19;return this[_0x26ad03(0x5a1)]>0x0&&this[_0x26ad03(0x4c6)]>0x0&&Date[_0x26ad03(0x64c)]()-this[_0x26ad03(0x5a1)]<_0x42176b?(this[_0x26ad03(0x28d)]-this[_0x26ad03(0x1a2)])/(this[_0x26ad03(0x5a1)]-this[_0x26ad03(0x4c6)])*0x3e8:0x0;}get['timePerFrame'](){const _0x11bf15=_0x3f1d19;return this[_0x11bf15(0x4fa)]&&this['currentFrames']&&this[_0x11bf15(0x28d)]>0x0?this[_0x11bf15(0x4fa)]/this[_0x11bf15(0x28d)]:0x0;}set[_0x3f1d19(0x5e9)](_0x4c02f1){const _0x571044=_0x3f1d19;this[_0x571044(0x1a2)]=this[_0x571044(0x28d)],this[_0x571044(0x28d)]=_0x4c02f1;}['getReport'](){const _0x142a23=_0x3f1d19;return{...super[_0x142a23(0x5a6)](),'FPS':this[_0x142a23(0x374)],'timePerFrame':this[_0x142a23(0x167)],'frameWidth':this['frameWidth'],'frameHeight':this['frameHeight']};}['processInboundReport'](_0x26c3f7){const _0x3bb341=_0x3f1d19;super[_0x3bb341(0xafd)](_0x26c3f7),this[_0x3bb341(0x4fa)]=_0x26c3f7[_0x3bb341(0x9da)],this[_0x3bb341(0x5e9)]=_0x26c3f7[_0x3bb341(0x55a)],this[_0x3bb341(0x826)]=_0x26c3f7[_0x3bb341(0x826)],this[_0x3bb341(0x3f0)]=_0x26c3f7['frameHeight'];}[_0x3f1d19(0xaa2)](_0x5eefe2){const _0x26372d=_0x3f1d19;super[_0x26372d(0xaa2)](_0x5eefe2),this['frameTime']=_0x5eefe2['totalEncodeTime'],this[_0x26372d(0x5e9)]=_0x5eefe2[_0x26372d(0x5e1)],this[_0x26372d(0x826)]=_0x5eefe2[_0x26372d(0x826)],this[_0x26372d(0x3f0)]=_0x5eefe2['frameHeight'];}}class _0x561680{[_0x3f1d19(0x9d7)]=new _0x4fc289();['video']=new _0x42373b();get['bitrate'](){const _0x58780c=_0x3f1d19;return this[_0x58780c(0x9d7)]['bitrate']+this[_0x58780c(0x1ce)][_0x58780c(0xa29)];}[_0x3f1d19(0x4dd)](_0xb71e11){const _0x44305e=_0x3f1d19;return _0xb71e11['forEach'](_0x2985c8=>{const _0x194e1f=a0_0x1394;switch(_0x2985c8[_0x194e1f(0x567)]){case _0x194e1f(0x9d7):this[_0x194e1f(0x9d7)]['processReport'](_0x2985c8);break;case'video':this[_0x194e1f(0x1ce)][_0x194e1f(0x3d5)](_0x2985c8);}}),this[_0x44305e(0x5a6)]();}[_0x3f1d19(0x5a6)](){const _0x2a07d3=_0x3f1d19;return{'audio':this[_0x2a07d3(0x9d7)][_0x2a07d3(0x5a6)](),'video':this[_0x2a07d3(0x1ce)]['getReport'](),'roundTripTime':this[_0x2a07d3(0x76f)](),'AudioVideoDelay':this[_0x2a07d3(0x626)](),'bitrate':this['bitrate']};}[_0x3f1d19(0x76f)](){const _0x742644=_0x3f1d19;return Math['floor']((this[_0x742644(0x9d7)][_0x742644(0x269)]+this['video'][_0x742644(0x269)])/0x2);}[_0x3f1d19(0x626)](){const _0x3a1b7c=_0x3f1d19;return this[_0x3a1b7c(0x9d7)][_0x3a1b7c(0xb6b)]-this[_0x3a1b7c(0x1ce)][_0x3a1b7c(0xb6b)];}}class _0x17da04{['senderCurrentTimestamp']=0x0;[_0x3f1d19(0x4b6)]=0x0;[_0x3f1d19(0x801)]=0x0;[_0x3f1d19(0x81e)]=0x0;[_0x3f1d19(0x2ef)]=0x0;[_0x3f1d19(0x9ee)]=0x0;[_0x3f1d19(0x640)]=0x0;['receiverPreviousBytes']=0x0;['senderTotalMessages']=0x0;[_0x3f1d19(0x8d7)]=0x0;[_0x3f1d19(0x298)]=0x0;['receiverTimeProcessing']=0x0;[_0x3f1d19(0x269)]=0x0;get[_0x3f1d19(0xa29)](){const _0xaaa1a9=_0x3f1d19;return this[_0xaaa1a9(0x2a9)]+this[_0xaaa1a9(0x6d8)];}get[_0x3f1d19(0x2a9)](){const _0x1aa969=_0x3f1d19;return this[_0x1aa969(0x480)]>0x0&&this[_0x1aa969(0x4b6)]>0x0&&Date['now']()-this[_0x1aa969(0x480)]<_0x42176b?(this[_0x1aa969(0x2ef)]-this[_0x1aa969(0x9ee)])/(this['senderCurrentTimestamp']-this[_0x1aa969(0x4b6)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x119580=_0x3f1d19;return this['receiverCurrentTimestamp']>0x0&&this[_0x119580(0x81e)]>0x0&&Date[_0x119580(0x64c)]()-this[_0x119580(0x801)]<_0x42176b?(this[_0x119580(0x640)]-this[_0x119580(0x209)])/(this[_0x119580(0x801)]-this[_0x119580(0x81e)])*0x8*0x3e8:0x0;}[_0x3f1d19(0x3d5)](_0x469dbe){const _0x468386=_0x3f1d19;switch(_0x469dbe[_0x468386(0x2bc)]){case _0x32a158[_0x468386(0x1ba)]:this[_0x468386(0x6a7)](_0x469dbe);break;case _0x32a158[_0x468386(0x7af)]:this[_0x468386(0x2cc)](_0x469dbe);}}[_0x3f1d19(0x5a6)](){const _0x53fd98=_0x3f1d19;return{'bitrate':this[_0x53fd98(0xa29)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x53fd98(0x6d8)],'totalBytes':this[_0x53fd98(0x1dd)](),'senderTotalBytes':this[_0x53fd98(0x7b0)](),'receiverTotalBytes':this[_0x53fd98(0x7e0)](),'totalMessages':this['senderTotalMessages']+this[_0x53fd98(0x8d7)],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this[_0x53fd98(0x8d7)],'timeProcessing':this[_0x53fd98(0x298)]+this[_0x53fd98(0x1bb)],'senderTimeProcessing':this[_0x53fd98(0x298)],'receiverTimeProcessing':this[_0x53fd98(0x1bb)],'roundTripTime':this['roundTripTime']};}[_0x3f1d19(0x1dd)](){const _0x59d135=_0x3f1d19;return this[_0x59d135(0x2ef)]+this[_0x59d135(0x640)];}[_0x3f1d19(0x7b0)](){const _0x4f1db7=_0x3f1d19;return this[_0x4f1db7(0x2ef)];}[_0x3f1d19(0x7e0)](){const _0x1e8f6f=_0x3f1d19;return this[_0x1e8f6f(0x640)];}[_0x3f1d19(0x6a7)](_0x3e7e8e){const _0x5de155=_0x3f1d19;this[_0x5de155(0x77b)](_0x3e7e8e['timestamp']),this[_0x5de155(0x268)](_0x3e7e8e[_0x5de155(0xac7)]),this[_0x5de155(0x5ba)]=_0x3e7e8e[_0x5de155(0x7bf)],this[_0x5de155(0x298)]=_0x3e7e8e['timeSending'],this[_0x5de155(0x269)]=_0x3e7e8e['roundTripTime'];}[_0x3f1d19(0x2cc)](_0x441fbd){const _0xb78506=_0x3f1d19;this[_0xb78506(0xab0)](_0x441fbd[_0xb78506(0x82d)]),this[_0xb78506(0x49e)](_0x441fbd[_0xb78506(0x934)]),this['receiverTotalMessages']=_0x441fbd[_0xb78506(0x62a)],this[_0xb78506(0x1bb)]=_0x441fbd[_0xb78506(0x436)];}[_0x3f1d19(0x77b)](_0x3235ee){const _0x109911=_0x3f1d19;_0x3235ee>this[_0x109911(0x480)]&&(this[_0x109911(0x4b6)]=this[_0x109911(0x480)],this[_0x109911(0x480)]=_0x3235ee);}['setReceiverTimestamp'](_0xe5ce77){const _0x445429=_0x3f1d19;_0xe5ce77>this[_0x445429(0x801)]&&(this['receiverPreviousTimestamp']=this[_0x445429(0x801)],this[_0x445429(0x801)]=_0xe5ce77);}[_0x3f1d19(0x268)](_0x5a8e12){const _0x205e83=_0x3f1d19;this['senderPreviousBytes']=this[_0x205e83(0x2ef)],this[_0x205e83(0x2ef)]=_0x5a8e12;}[_0x3f1d19(0x49e)](_0x10e224){const _0x3df17d=_0x3f1d19;this['receiverPreviousBytes']=this['receiverCurrentBytes'],this[_0x3df17d(0x640)]=_0x10e224;}}class _0x3eca11{[_0x3f1d19(0x723)]=new Map();['receiverStreams']=new Map();[_0x3f1d19(0x428)]=new _0x17da04();get[_0x3f1d19(0x2a9)](){const _0x5af061=_0x3f1d19;let _0x5f0495=0x0;return this[_0x5af061(0x723)][_0x5af061(0xa0d)](_0x3f7466=>{const _0x4ae757=_0x5af061;_0x5f0495+=_0x3f7466[_0x4ae757(0xa29)];}),_0x5f0495+=this[_0x5af061(0x428)]['senderBitrate'],_0x5f0495;}get[_0x3f1d19(0x6d8)](){const _0x510b36=_0x3f1d19;let _0x247b44=0x0;return this[_0x510b36(0x443)][_0x510b36(0xa0d)](_0x372957=>{_0x247b44+=_0x372957['bitrate'];}),_0x247b44+=this[_0x510b36(0x428)][_0x510b36(0x6d8)],_0x247b44;}get['bitrate'](){const _0x3b175d=_0x3f1d19;return this[_0x3b175d(0x2a9)]+this[_0x3b175d(0x6d8)];}[_0x3f1d19(0x4dd)](_0x13f88b,_0x37cacc){const _0x30b7e7=_0x3f1d19,_0x1d8165=[],_0x4c8067=[];return _0x13f88b instanceof Array?_0x13f88b[_0x30b7e7(0xa0d)](_0x144eb=>{_0x144eb['forEach'](_0x4a42a8=>{const _0x45894b=a0_0x1394;_0x3247a3[_0x45894b(0xb4d)](_0x4a42a8[_0x45894b(0x8c9)])&&_0x1d8165[_0x45894b(0x24b)](_0x4a42a8),_0x43ca0c['includes'](_0x4a42a8['type'])&&_0x4c8067[_0x45894b(0x24b)](_0x4a42a8);});}):this[_0x30b7e7(0x428)][_0x30b7e7(0x3d5)](_0x13f88b),_0x1d8165[_0x30b7e7(0x744)]>0x0&&_0x37cacc?{...this[_0x30b7e7(0x7ac)](_0x37cacc,_0x1d8165),'origin':_0x32a158[_0x30b7e7(0x7af)],'streamId':_0x37cacc}:_0x4c8067[_0x30b7e7(0x744)]>0x0&&_0x37cacc?{...this[_0x30b7e7(0x694)](_0x37cacc,_0x4c8067),'origin':_0x32a158[_0x30b7e7(0x1ba)],'streamId':_0x37cacc}:void 0x0;}['getReport'](){const _0x6e9135=_0x3f1d19,_0x3c9621={};this[_0x6e9135(0x723)][_0x6e9135(0xa0d)]((_0x181d8a,_0x59ebd1)=>{const _0xe34516=_0x6e9135;_0x3c9621[_0x59ebd1]=_0x181d8a[_0xe34516(0x5a6)]();});const _0x291d53={};return this[_0x6e9135(0x443)][_0x6e9135(0xa0d)]((_0x1b68fa,_0x5c9820)=>{const _0x567aa4=_0x6e9135;_0x291d53[_0x5c9820]=_0x1b68fa[_0x567aa4(0x5a6)]();}),{'bitrate':this[_0x6e9135(0xa29)],'senderBitrate':this[_0x6e9135(0x2a9)],'receiverBitrate':this[_0x6e9135(0x6d8)],'senderStreams':_0x3c9621,'receiverStreams':_0x291d53,'dataChannel':this['dataChannel'][_0x6e9135(0x5a6)]()};}['processInboundReports'](_0x54425f,_0x193ea5){const _0x4e6839=_0x3f1d19;return this['receiverStreams'][_0x4e6839(0x1c3)](_0x54425f)||this[_0x4e6839(0x443)][_0x4e6839(0xb36)](_0x54425f,new _0x561680()),this[_0x4e6839(0x443)][_0x4e6839(0x459)](_0x54425f)[_0x4e6839(0x4dd)](_0x193ea5);}[_0x3f1d19(0x694)](_0x18129a,_0x17011c){const _0x32b511=_0x3f1d19;return this[_0x32b511(0x723)][_0x32b511(0x1c3)](_0x18129a)||this['senderStreams'][_0x32b511(0xb36)](_0x18129a,new _0x561680()),this[_0x32b511(0x723)][_0x32b511(0x459)](_0x18129a)[_0x32b511(0x4dd)](_0x17011c);}}class _0xfc2014{[_0x3f1d19(0x86c)]=new Map();['scheduleTime']=0x0;[_0x3f1d19(0x713)]=0x0;[_0x3f1d19(0x2f3)]=new Map();[_0x3f1d19(0xb0c)]=new Map();[_0x3f1d19(0xb31)]=new Map();['generativeAIContexts']=new Map();['generativeAIWorkers']=new Map();[_0x3f1d19(0x4cb)]=new Map();[_0x3f1d19(0x748)]=new Map();[_0x3f1d19(0x976)]=new Map();['senderTotalMessages']=new Map();[_0x3f1d19(0x8d7)]=new Map();['senderTimeProcessing']=new Map();[_0x3f1d19(0x1bb)]=new Map();['systemMessages']=new Map();['systemTopic'];['getReport'](){const _0xe92c73=_0x3f1d19,_0x274645={};this[_0xe92c73(0x86c)][_0xe92c73(0xa0d)]((_0x260d07,_0x51c1be)=>{const _0x31b967=_0xe92c73;_0x274645[_0x51c1be]=_0x260d07[_0x31b967(0x5a6)]();});let _0x56c861=0x0;this[_0xe92c73(0x298)][_0xe92c73(0xa0d)](_0x6b144e=>{_0x56c861+=_0x6b144e;});let _0x266baa=0x0;this[_0xe92c73(0x1bb)][_0xe92c73(0xa0d)](_0x2fd065=>{_0x266baa+=_0x2fd065;});const _0x1e5d41=_0x56c861+_0x266baa;let _0x21a348={'messages':{'total':0x0}};this['systemMessages']['forEach'](_0x128a6d=>{const _0x506c12=_0xe92c73;Object[_0x506c12(0xa30)](_0x128a6d)['forEach'](_0x52740f=>{const _0x881bdc=_0x506c12;_0x21a348[_0x52740f]||(_0x21a348[_0x52740f]={}),Object[_0x881bdc(0xa30)](_0x128a6d[_0x52740f])[_0x881bdc(0xa0d)](_0x5cd4c3=>{_0x21a348[_0x52740f][_0x5cd4c3]||(_0x21a348[_0x52740f][_0x5cd4c3]=0x0),_0x21a348[_0x52740f][_0x5cd4c3]+=_0x128a6d[_0x52740f][_0x5cd4c3];});});});let _0x4a4669=0x0,_0x249663=0x0,_0x1e6f08=0x0,_0x5c71ef=0x0,_0x41e43c=0x0;return this[_0xe92c73(0x2f3)][_0xe92c73(0xa0d)](_0x596085=>{const _0x5ead8a=_0xe92c73;_0x249663+=_0x596085[_0x5ead8a(0x7bf)],_0x1e6f08+=_0x596085[_0x5ead8a(0x62a)],_0x5c71ef+=_0x596085['bytesSent'],_0x41e43c+=_0x596085['bytesReceived'];}),this[_0xe92c73(0xb0c)][_0xe92c73(0xa0d)](_0x422843=>{const _0x5be624=_0xe92c73;_0x4a4669+=_0x422843[_0x5be624(0x684)],_0x249663+=_0x422843[_0x5be624(0x7bf)],_0x1e6f08+=_0x422843['messagesReceived'],_0x5c71ef+=_0x422843[_0x5be624(0xac7)],_0x41e43c+=_0x422843[_0x5be624(0x934)];}),this[_0xe92c73(0xb31)][_0xe92c73(0xa0d)](_0x139881=>{const _0x2c036b=_0xe92c73;_0x4a4669+=_0x139881[_0x2c036b(0x684)],_0x249663+=_0x139881[_0x2c036b(0x7bf)],_0x1e6f08+=_0x139881[_0x2c036b(0x62a)],_0x5c71ef+=_0x139881['bytesSent'],_0x41e43c+=_0x139881[_0x2c036b(0x934)];}),this[_0xe92c73(0x542)][_0xe92c73(0xa0d)](_0x4c37d2=>{const _0x4204c5=_0xe92c73;_0x4a4669+=_0x4c37d2[_0x4204c5(0x684)],_0x249663+=_0x4c37d2[_0x4204c5(0x7bf)],_0x1e6f08+=_0x4c37d2[_0x4204c5(0x62a)],_0x5c71ef+=_0x4c37d2['bytesSent'],_0x41e43c+=_0x4c37d2[_0x4204c5(0x934)];}),this[_0xe92c73(0x2a2)]['forEach'](_0x27acd2=>{const _0x8f4dfc=_0xe92c73;_0x4a4669+=_0x27acd2[_0x8f4dfc(0x684)],_0x249663+=_0x27acd2[_0x8f4dfc(0x7bf)],_0x1e6f08+=_0x27acd2['messagesReceived'],_0x5c71ef+=_0x27acd2['bytesSent'],_0x41e43c+=_0x27acd2[_0x8f4dfc(0x934)];}),this[_0xe92c73(0x4cb)]['forEach'](_0x547757=>{const _0x1385a6=_0xe92c73;_0x4a4669+=_0x547757[_0x1385a6(0x684)],_0x249663+=_0x547757['messagesSent'],_0x1e6f08+=_0x547757[_0x1385a6(0x62a)],_0x5c71ef+=_0x547757[_0x1385a6(0xac7)],_0x41e43c+=_0x547757['bytesReceived'];}),this[_0xe92c73(0x748)][_0xe92c73(0xa0d)](_0x5915a0=>{const _0x3d7551=_0xe92c73;_0x4a4669+=_0x5915a0['storage'],_0x249663+=_0x5915a0[_0x3d7551(0x7bf)],_0x1e6f08+=_0x5915a0[_0x3d7551(0x62a)],_0x5c71ef+=_0x5915a0[_0x3d7551(0xac7)],_0x41e43c+=_0x5915a0[_0x3d7551(0x934)];}),{'STVolatility':this[_0xe92c73(0x8c2)](),'DTVolatility':this[_0xe92c73(0x831)](),'bitrate':this['getBitrate'](),'senderBitrate':this[_0xe92c73(0x89a)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x4a4669,'totalMessages':_0x249663+_0x1e6f08,'totalMessagesSent':_0x249663,'totalMessagesReceived':_0x1e6f08,'totalBytes':_0x5c71ef+_0x41e43c,'totalBytesSent':_0x5c71ef,'totalBytesReceived':_0x41e43c,'systemMessages':_0x21a348,'timeProcessing':_0x1e5d41,'nodes':_0x274645,'pubsubTopics':Object[_0xe92c73(0x7ae)](this[_0xe92c73(0x2f3)]),'objectStores':Object['fromEntries'](this[_0xe92c73(0xb0c)]),'keyValueDatabases':Object['fromEntries'](this[_0xe92c73(0xb31)]),'generativeAIContexts':Object[_0xe92c73(0x7ae)](this[_0xe92c73(0x542)]),'generativeAIWorkers':Object[_0xe92c73(0x7ae)](this[_0xe92c73(0x2a2)]),'vectorDatabases':Object['fromEntries'](this[_0xe92c73(0x4cb)]),'graphDatabases':Object[_0xe92c73(0x7ae)](this[_0xe92c73(0x748)]),'externalStorages':Object[_0xe92c73(0x7ae)](this['externalStorages'])};}['addRemoteNode'](_0x5df6d9){const _0x46089f=_0x3f1d19;this['nodes'][_0x46089f(0xb36)](_0x5df6d9,new _0x3eca11());}[_0x3f1d19(0x255)](_0x286c17){const _0x571367=_0x3f1d19;this[_0x571367(0x86c)][_0x571367(0x233)](_0x286c17);}[_0x3f1d19(0x4dd)](_0x59352f,_0xd83fec,_0x3df6bf){const _0x3ea105=_0x3f1d19;_0xd83fec instanceof Array||this[_0x3ea105(0xb6f)](_0x59352f,_0xd83fec);const _0x20feeb=this[_0x3ea105(0x86c)][_0x3ea105(0x459)](_0x59352f)?.[_0x3ea105(0x4dd)](_0xd83fec,_0x3df6bf);_0x20feeb&&this[_0x3ea105(0x8f2)][_0x3ea105(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x3ea105(0x75d)],'content':{'type':_0x4c3f76[_0x3ea105(0x942)],'data':{..._0x20feeb,'nodeId':_0x59352f}}});}[_0x3f1d19(0x19d)](_0x464c59){const _0x89a661=_0x3f1d19;this['setScheduleTime'](_0x464c59[_0x89a661(0x311)]),this[_0x89a661(0x29d)](_0x464c59['durationTime']),this['systemTopic'][_0x89a661(0x4f8)]({'sourceId':_0x56bdb9,'messageType':_0x21fe4c[_0x89a661(0x75d)],'content':{'type':_0x4c3f76[_0x89a661(0x56a)],'data':{'STVolatility':this[_0x89a661(0x8c2)](),'DTVolatility':this[_0x89a661(0x831)]()}}});}['processServiceReport'](_0x490d99,_0x4beab2,_0x56a38f){const _0x59bb95=_0x3f1d19;switch(_0x4beab2){case _0x65c889[_0x59bb95(0x250)]:this['pubsubTopics']['set'](_0x490d99,_0x56a38f);break;case _0x65c889[_0x59bb95(0x5f1)]:this[_0x59bb95(0xb0c)]['set'](_0x490d99,_0x56a38f);break;case _0x65c889[_0x59bb95(0x227)]:this['keyValueDatabases'][_0x59bb95(0xb36)](_0x490d99,_0x56a38f);break;case _0x65c889[_0x59bb95(0x58f)]:this['generativeAIContexts'][_0x59bb95(0xb36)](_0x490d99,_0x56a38f);break;case _0x65c889['GenerativeAIWorkerStats']:this[_0x59bb95(0x2a2)]['set'](_0x490d99,_0x56a38f);break;case _0x65c889[_0x59bb95(0x3fe)]:this['vectorDatabases'][_0x59bb95(0xb36)](_0x490d99,_0x56a38f);break;case _0x65c889[_0x59bb95(0xa99)]:this[_0x59bb95(0x748)][_0x59bb95(0xb36)](_0x490d99,_0x56a38f);break;case _0x65c889['ExternalStorageStats']:this[_0x59bb95(0x976)][_0x59bb95(0xb36)](_0x490d99,_0x56a38f);}}[_0x3f1d19(0x819)](_0x3fab01){const _0x3e6293=_0x3f1d19;this[_0x3e6293(0x8f2)]=_0x3fab01;}[_0x3f1d19(0x8ad)](){const _0x5c8c51=_0x3f1d19;delete this[_0x5c8c51(0x8f2)];}[_0x3f1d19(0x8c2)](){const _0x771e71=_0x3f1d19;return this[_0x771e71(0x943)]>0x0&&this[_0x771e71(0x943)]-_0x5ceb89>0x0?(this[_0x771e71(0x943)]-_0x5ceb89)/_0x5ceb89:0x0;}[_0x3f1d19(0x831)](){const _0x41a067=_0x3f1d19;return this[_0x41a067(0x713)]>0x0&&this[_0x41a067(0x713)]-0x64>0x0?(this[_0x41a067(0x713)]-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x512d2d=_0x3f1d19;let _0x5a68c0=0x0;return this[_0x512d2d(0x86c)][_0x512d2d(0xa0d)](_0x3b570a=>{_0x5a68c0+=_0x3b570a['senderBitrate'];}),_0x5a68c0;}[_0x3f1d19(0xa07)](){const _0x32fa07=_0x3f1d19;let _0x21c161=0x0;return this[_0x32fa07(0x86c)][_0x32fa07(0xa0d)](_0x4a6bd0=>{_0x21c161+=_0x4a6bd0['receiverBitrate'];}),_0x21c161;}[_0x3f1d19(0x4c4)](){const _0xf7db7c=_0x3f1d19;let _0x221508=0x0;return this['nodes'][_0xf7db7c(0xa0d)](_0x573473=>{const _0x217a3b=_0xf7db7c;_0x221508+=_0x573473[_0x217a3b(0xa29)];}),_0x221508;}[_0x3f1d19(0x6ca)](_0x49fe47){const _0x5906a8=_0x3f1d19;this[_0x5906a8(0x943)]=_0x49fe47;}[_0x3f1d19(0x29d)](_0xe1fdbf){const _0x1245aa=_0x3f1d19;this[_0x1245aa(0x713)]=_0xe1fdbf;}[_0x3f1d19(0xb6f)](_0x436f1a,_0x3ad842){const _0x2e6a0d=_0x3f1d19;switch(_0x3ad842[_0x2e6a0d(0x2bc)]){case _0x32a158[_0x2e6a0d(0x1ba)]:this[_0x2e6a0d(0x6a7)](_0x436f1a,_0x3ad842);break;case _0x32a158['Receiver']:this['processReceiverReport'](_0x436f1a,_0x3ad842);}}[_0x3f1d19(0x6a7)](_0x31a8ac,_0x59da80){const _0xe79657=_0x3f1d19;this[_0xe79657(0x5ba)][_0xe79657(0xb36)](_0x31a8ac,_0x59da80[_0xe79657(0x7bf)]),this[_0xe79657(0x298)][_0xe79657(0xb36)](_0x31a8ac,_0x59da80[_0xe79657(0x5c1)]);}['processReceiverReport'](_0x2288ca,_0x2fe096){const _0x39304a=_0x3f1d19;this[_0x39304a(0x8d7)][_0x39304a(0xb36)](_0x2288ca,_0x2fe096[_0x39304a(0x62a)]),this['receiverTimeProcessing']['set'](_0x2288ca,_0x2fe096[_0x39304a(0x436)]),this[_0x39304a(0x234)][_0x39304a(0xb36)](_0x2288ca,_0x2fe096[_0x39304a(0x234)]);}}class _0xc7fb65{[_0x3f1d19(0x1b8)];[_0x3f1d19(0x31e)]=new Set();[_0x3f1d19(0x2d4)];[_0x3f1d19(0x468)];[_0x3f1d19(0x531)];[_0x3f1d19(0x30b)]=new _0xfc2014();constructor(_0x45f253){const _0x2644a9=_0x3f1d19;this[_0x2644a9(0x1b8)]=_0x45f253,this['configs'][_0x2644a9(0x870)]['registerSystemSource'](this[_0x2644a9(0x30b)]),this[_0x2644a9(0x468)]=this[_0x2644a9(0x643)](),this[_0x2644a9(0x531)]=this['setupStatsReporting']();}['close'](){const _0x170873=_0x3f1d19;this[_0x170873(0x1b8)][_0x170873(0x870)][_0x170873(0x2e9)](this[_0x170873(0x30b)]),this[_0x170873(0x531)](),this[_0x170873(0x468)]();}['addRemoteNode'](_0x5a8d6d){const _0x3efca6=_0x3f1d19;this[_0x3efca6(0x31e)][_0x3efca6(0x7ce)](_0x5a8d6d),this[_0x3efca6(0x30b)]['addRemoteNode'](_0x5a8d6d);}[_0x3f1d19(0x255)](_0x28d499){const _0x47690d=_0x3f1d19;this[_0x47690d(0x31e)][_0x47690d(0x233)](_0x28d499),this[_0x47690d(0x30b)][_0x47690d(0x255)](_0x28d499);}[_0x3f1d19(0x8c0)](_0x4af5a3){const _0x1a3179=_0x3f1d19;if(_0x4af5a3[_0x1a3179(0x861)][_0x1a3179(0x8c9)]===_0x57287b[_0x1a3179(0x75d)]){const {nodeId:_0x430205,streamId:_0x15a7c,stats:_0xeac751}=_0x4af5a3[_0x1a3179(0x861)];this[_0x1a3179(0x30b)][_0x1a3179(0x4dd)](_0x430205,_0xeac751,_0x15a7c);}}['handleContentSystemEvents'](_0x5d7023){const _0x3732fe=_0x3f1d19;switch(_0x5d7023[_0x3732fe(0x861)][_0x3732fe(0x8c9)]){case _0x65c889[_0x3732fe(0x5f1)]:case _0x65c889['KeyValueDatabaseStats']:case _0x65c889['PubSubTopicStats']:case _0x65c889[_0x3732fe(0x58f)]:case _0x65c889[_0x3732fe(0x563)]:case _0x65c889[_0x3732fe(0x3fe)]:case _0x65c889['GraphDatabaseStats']:case _0x65c889[_0x3732fe(0x7a1)]:this[_0x3732fe(0x30b)][_0x3732fe(0x64e)](_0x5d7023[_0x3732fe(0x861)][_0x3732fe(0x792)],_0x5d7023[_0x3732fe(0x861)][_0x3732fe(0x8c9)],_0x5d7023[_0x3732fe(0x861)][_0x3732fe(0x42d)]);}}[_0x3f1d19(0x1a9)](){const _0x4b7a7c=_0x3f1d19;return _0x18a0c6[_0x4b7a7c(0x92b)](()=>{const _0x40016d=_0x4b7a7c,_0xe1f412=this[_0x40016d(0x30b)][_0x40016d(0x5a6)]();_0x576b91[_0x40016d(0x279)](_0x419b0a[_0x40016d(0x75d)],_0x40016d(0x482),_0xe1f412),(0x0,_0x46e89c['addDoc'])((0x0,_0x46e89c['collection'])(_0x25e54d[_0x40016d(0x914)](),_0x40016d(0x359)+this[_0x40016d(0x1b8)]['vendorId']+'/stats'),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x40016d(0x1b8)][_0x40016d(0x72c)][_0x40016d(0x7be)](),'nodeType':this[_0x40016d(0x1b8)][_0x40016d(0x72c)]['type'],'timestamp':(0x0,_0x46e89c[_0x40016d(0x708)])(),'report':_0xe1f412}),_0x576b91[_0x40016d(0x75c)](_0x40016d(0x42d),{'clusterId':this[_0x40016d(0x1b8)][_0x40016d(0x7d9)],'nodeId':this['configs']['localNode'][_0x40016d(0x7be)](),'nodeType':this['configs'][_0x40016d(0x72c)][_0x40016d(0x8c9)],'data':{'report':_0xe1f412}});},_0x42176b);}[_0x3f1d19(0x643)](){const _0x49ba44=_0x3f1d19;let _0xd29c72=!0x1,_0x4b72a8=Date[_0x49ba44(0x64c)]();return _0x18a0c6[_0x49ba44(0x92b)](async()=>{const _0x103d5f=_0x49ba44;if(_0xd29c72)return;if(_0xd29c72=!0x0,0x0===this[_0x103d5f(0x31e)]['size'])return delete this[_0x103d5f(0x2d4)],void(_0xd29c72=!0x1);const _0x823631=Date['now']();this[_0x103d5f(0x8e8)]();try{await this[_0x103d5f(0x1b8)]['mediator']['collectStats'](this[_0x103d5f(0x2d4)]);}catch(_0x1db729){}this[_0x103d5f(0x30b)][_0x103d5f(0x19d)]({'secheduleTime':_0x823631-_0x4b72a8,'durationTime':Date[_0x103d5f(0x64c)]()-_0x823631}),_0x4b72a8=_0x823631,_0xd29c72=!0x1;},_0x5ceb89);}[_0x3f1d19(0x8e8)](){const _0x15d29d=_0x3f1d19;let _0x542cd1,_0x54c0e3=!0x1;this['nextNodeId']&&(this[_0x15d29d(0x31e)][_0x15d29d(0x1c3)](this[_0x15d29d(0x2d4)])||delete this[_0x15d29d(0x2d4)]);for(const _0x555dfb of this[_0x15d29d(0x31e)])if(_0x542cd1||(_0x542cd1=_0x555dfb),this[_0x15d29d(0x2d4)]!==_0x555dfb){if(_0x54c0e3)return void(this['nextNodeId']=_0x555dfb);}else _0x54c0e3=!0x0,delete this[_0x15d29d(0x2d4)];this[_0x15d29d(0x2d4)]||(this[_0x15d29d(0x2d4)]=_0x542cd1);}}class _0x3739f3{[_0x3f1d19(0xb47)];[_0x3f1d19(0x603)];[_0x3f1d19(0x8f2)];constructor(_0x51d251,_0x489ce4){const _0x354623=_0x3f1d19;this[_0x354623(0xb47)]=_0x51d251,this[_0x354623(0x603)]=_0x489ce4;}[_0x3f1d19(0x819)](_0x37f063){const _0x5da3ff=_0x3f1d19;this[_0x5da3ff(0x8f2)]=_0x37f063;}[_0x3f1d19(0x8ad)](){const _0x205e04=_0x3f1d19;delete this[_0x205e04(0x8f2)];}}class _0x586f30 extends _0x3739f3{[_0x3f1d19(0xb47)];[_0x3f1d19(0x603)];[_0x3f1d19(0x7a7)];constructor(_0x244911,_0x13cb33,_0x4b741f){const _0x2d18ef=_0x3f1d19;super(_0x244911,_0x13cb33),this[_0x2d18ef(0xb47)]=_0x244911,this[_0x2d18ef(0x603)]=_0x13cb33,this[_0x2d18ef(0x7a7)]=_0x4b741f;}[_0x3f1d19(0x565)](_0x1dd214,_0x4311fa,_0x39ed78){const _0x8bc8c8=_0x3f1d19;if(this['destination']['getContentType']()===_0x1c7ce5[_0x8bc8c8(0x5a3)][_0x8bc8c8(0x18f)]){const _0x47f982={'type':_0x4fb60c[_0x8bc8c8(0x746)],'label':this[_0x8bc8c8(0x603)][_0x8bc8c8(0x897)](),'ownerId':_0x1dd214,'trackKinds':_0x4311fa??this['destination'][_0x8bc8c8(0x319)](),'params':_0x39ed78};this[_0x8bc8c8(0x8f2)][_0x8bc8c8(0x4f8)]({'sourceId':this[_0x8bc8c8(0xb47)][_0x8bc8c8(0x4c2)](),'destinationIds':[this[_0x8bc8c8(0xb47)][_0x8bc8c8(0x8e1)]()],'messageType':_0x21fe4c['Subscription'],'content':_0x47f982}),this[_0x8bc8c8(0x7a7)]=_0x39ed78;}}[_0x3f1d19(0x8f8)](_0x4b26c4,_0x559c59){const _0x1b8ef8=_0x3f1d19;if(this['destination']['getContentType']()===_0x1c7ce5[_0x1b8ef8(0x5a3)]['Media']){const _0x352058={'type':_0x4fb60c[_0x1b8ef8(0x56d)],'label':this[_0x1b8ef8(0x603)][_0x1b8ef8(0x897)](),'ownerId':_0x4b26c4,'params':_0x559c59};this['systemTopic'][_0x1b8ef8(0x4f8)]({'sourceId':this[_0x1b8ef8(0xb47)][_0x1b8ef8(0x4c2)](),'destinationIds':[this[_0x1b8ef8(0xb47)][_0x1b8ef8(0x8e1)]()],'messageType':_0x21fe4c['Subscription'],'content':_0x352058}),this['params']=_0x559c59;}}[_0x3f1d19(0x87c)](_0xa9a1b2,_0x514498,_0x3ddd50){const _0x1b7919=_0x3f1d19;if(this[_0x1b7919(0x603)][_0x1b7919(0x200)]()===_0x1c7ce5[_0x1b7919(0x5a3)][_0x1b7919(0x18f)]){const _0x29bef7={'type':_0x4fb60c[_0x1b7919(0xa11)],'label':this[_0x1b7919(0x603)][_0x1b7919(0x897)](),'ownerId':_0xa9a1b2,'trackKinds':_0x3ddd50??this[_0x1b7919(0x603)][_0x1b7919(0x319)](),'remainingTracks':_0x514498};this[_0x1b7919(0x8f2)][_0x1b7919(0x4f8)]({'sourceId':this[_0x1b7919(0xb47)][_0x1b7919(0x4c2)](),'destinationIds':[this['source'][_0x1b7919(0x8e1)]()],'messageType':_0x21fe4c[_0x1b7919(0x4b1)],'content':_0x29bef7});}}}class _0x4e4c3f{['currentDistance'];[_0x3f1d19(0x141)];[_0x3f1d19(0x520)];['systemTopic'];[_0x3f1d19(0x86b)]=new Set();[_0x3f1d19(0x5fc)]=Date['now']();[_0x3f1d19(0x7a7)];['retryCount']=0x0;constructor(_0x520b28,_0x26469e,_0x2a3f17,_0x6f5881){const _0x2ab63f=_0x3f1d19;this['currentDistance']=_0x26469e,this[_0x2ab63f(0x141)]=_0x2a3f17,this[_0x2ab63f(0x520)]=_0x6f5881,_0x520b28['forEach'](_0x47b822=>{const _0x231b27=_0x2ab63f;this['answers'][_0x231b27(0x7ce)]({'nodeId':_0x47b822,'type':_0x1446a2[_0x231b27(0xa19)]});});}['getTracks'](){const _0x4701c2=_0x3f1d19;return this[_0x4701c2(0x520)];}[_0x3f1d19(0x819)](_0x5526ba){this['systemTopic']=_0x5526ba;}[_0x3f1d19(0x8ad)](){const _0x61f1ec=_0x3f1d19;delete this[_0x61f1ec(0x8f2)];}[_0x3f1d19(0xa91)](_0xe0074a,_0x580138){const _0x34b6bf=_0x3f1d19;this[_0x34b6bf(0x5fc)]=Date[_0x34b6bf(0x64c)](),this['answers'][_0x34b6bf(0x88b)](),_0xe0074a[_0x34b6bf(0xa0d)](_0x43a6e4=>{const _0x56cbe8=_0x34b6bf;this[_0x56cbe8(0x86b)]['add']({'nodeId':_0x43a6e4,'type':_0x1446a2[_0x56cbe8(0xa19)]});}),this[_0x34b6bf(0x400)]+=0x1,this[_0x34b6bf(0x859)]=_0x580138;}[_0x3f1d19(0x2b5)](_0x439333,_0x547411,_0x593b82,_0x2798ea,_0x4abde8){const _0xb63f99=_0x3f1d19;if(this['retryCount']>0xa)throw new _0x5c1da3(_0x5c1da3[_0xb63f99(0x91b)][_0xb63f99(0x134)],{'answers':Array[_0xb63f99(0x663)](this[_0xb63f99(0x86b)])[_0xb63f99(0x865)](_0x538a4f=>({'nodeId':_0x538a4f[_0xb63f99(0x769)],'type':_0x538a4f[_0xb63f99(0x8c9)]}))});const _0x49068d=Array['from'](this[_0xb63f99(0x86b)])[_0xb63f99(0x865)](_0x1f7188=>_0x1f7188['nodeId']);this[_0xb63f99(0x7a7)]=_0x4abde8,this['systemTopic'][_0xb63f99(0x4f8)]({'sourceId':_0x439333,'destinationIds':_0x49068d,'messageType':_0x21fe4c[_0xb63f99(0x4b1)],'content':{'type':_0x4fb60c[_0xb63f99(0xb16)],'label':_0x593b82,'ownerId':_0x547411,'trackKinds':_0x2798ea,'params':_0x4abde8}}),_0x576b91['log'](_0x419b0a[_0xb63f99(0x4b1)],'Send\x20request',_0x439333,_0x49068d);}[_0x3f1d19(0x49a)](_0x47cad9,_0x4f3c19){const _0x4dae83=_0x3f1d19;switch(_0x4f3c19[_0x4dae83(0x8c9)]){case _0x4fb60c[_0x4dae83(0x6fd)]:{const _0x16bec0=this[_0x4dae83(0x859)]>=_0x4f3c19[_0x4dae83(0x99f)]&&_0x4f3c19['distance']<=this[_0x4dae83(0x141)],_0x55479b=Array[_0x4dae83(0x663)](this[_0x4dae83(0x86b)])[_0x4dae83(0x4d3)](_0x4325a8=>_0x4325a8[_0x4dae83(0x769)]===_0x47cad9);_0x55479b['type']=_0x16bec0?_0x1446a2[_0x4dae83(0x47d)]:_0x1446a2[_0x4dae83(0x704)],_0x55479b['cost']=_0x4f3c19[_0x4dae83(0xa33)],_0x55479b['distance']=_0x4f3c19[_0x4dae83(0x99f)],_0x55479b[_0x4dae83(0x4ac)]=_0x4f3c19[_0x4dae83(0x4ac)],_0x55479b['roundTripTime']=Date[_0x4dae83(0x64c)]()-this[_0x4dae83(0x5fc)],_0x55479b[_0x4dae83(0x7a7)]=this['params'],_0x55479b[_0x4dae83(0x8b1)]=_0x4f3c19['ownerId'],_0x55479b[_0x4dae83(0x62e)]=_0x4f3c19[_0x4dae83(0x62e)],_0x55479b[_0x4dae83(0x2b8)]=_0x4f3c19[_0x4dae83(0x792)],_0x576b91[_0x4dae83(0x279)](_0x419b0a[_0x4dae83(0x4b1)],(_0x16bec0?_0x4dae83(0x47d):_0x4dae83(0x704))+_0x4dae83(0x9e7),_0x55479b);break;}case _0x4fb60c[_0x4dae83(0x54c)]:{const _0x434096=Array[_0x4dae83(0x663)](this['answers'])[_0x4dae83(0x4d3)](_0x3b67c2=>_0x3b67c2['nodeId']===_0x47cad9);_0x434096[_0x4dae83(0x8c9)]=_0x1446a2[_0x4dae83(0x704)],_0x576b91['log'](_0x419b0a[_0x4dae83(0x4b1)],_0x4dae83(0x52c),_0x434096);break;}}if(this[_0x4dae83(0x772)]())return this[_0x4dae83(0x3da)]();}[_0x3f1d19(0x3da)](){const _0x3c7cd4=_0x3f1d19,_0x15b1f9=Array[_0x3c7cd4(0x663)](this[_0x3c7cd4(0x86b)])[_0x3c7cd4(0x1e0)](_0x81a919=>_0x81a919['type']===_0x1446a2[_0x3c7cd4(0x47d)])[_0x3c7cd4(0x62c)]((_0x133b12,_0x8fd504)=>_0x133b12[_0x3c7cd4(0xa33)]===_0x8fd504[_0x3c7cd4(0xa33)]?_0x133b12['roundTripTime']-_0x8fd504['roundTripTime']:_0x133b12['cost']-_0x8fd504[_0x3c7cd4(0xa33)]);if(0x0===_0x15b1f9[_0x3c7cd4(0x744)])throw new _0x5c1da3(_0x5c1da3[_0x3c7cd4(0x91b)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x3c7cd4(0x663)](this[_0x3c7cd4(0x86b)])['map'](_0x260d87=>({'nodeId':_0x260d87['nodeId'],'type':_0x260d87[_0x3c7cd4(0x8c9)]}))});return _0x576b91[_0x3c7cd4(0x279)](_0x419b0a['Subscription'],_0x3c7cd4(0x7e7),_0x15b1f9[0x0],this['answers']),_0x15b1f9[0x0];}['canChooseAnswer'](){const _0xf184e0=_0x3f1d19;for(const _0x46f938 of this[_0xf184e0(0x86b)])if(_0x46f938[_0xf184e0(0x8c9)]===_0x1446a2[_0xf184e0(0xa19)])return!0x1;return!0x0;}}class _0x56cb5d{[_0x3f1d19(0x792)];[_0x3f1d19(0x7e1)];[_0x3f1d19(0x3af)]=_0x239c52();constructor(_0x10a6de,_0x734ecd){const _0x3818e0=_0x3f1d19;this[_0x3818e0(0x792)]=_0x10a6de,this[_0x3818e0(0x7e1)]=_0x734ecd;}[_0x3f1d19(0x897)](){const _0x181d58=_0x3f1d19;return this[_0x181d58(0x792)];}[_0x3f1d19(0x200)](){const _0x2c39d8=_0x3f1d19;return this[_0x2c39d8(0x7e1)];}[_0x3f1d19(0x13a)](_0x58885d){const _0x570ea9=_0x3f1d19;_0x58885d[_0x570ea9(0x63b)](this);}['registerDestination'](_0x57f284){_0x57f284['registerSubscriber'](this);}[_0x3f1d19(0x4f8)](_0x4307dd){const _0x5ce825=_0x3f1d19;this[_0x5ce825(0x3af)][_0x5ce825(0x4f8)]({'topicLabel':this['label'],'contentType':this['contentType'],'uuid':(0x0,_0x54796e['v4'])(),'recipients':[],..._0x4307dd});}[_0x3f1d19(0x565)](_0x4d957a){const _0x4762f5=_0x3f1d19;return this[_0x4762f5(0x3af)][_0x4762f5(0x565)](_0x4d957a);}[_0x3f1d19(0x485)](_0x54ee3b){const _0x23af2e=_0x3f1d19;_0x54ee3b[_0x23af2e(0x157)](this);}[_0x3f1d19(0x42c)](_0x46dcd4){const _0x36f673=_0x3f1d19;_0x46dcd4[_0x36f673(0x47a)](this);}}class _0x1c16ae{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x3f1d19(0x198)];constructor(_0xf43992){const _0x392b09=_0x3f1d19;this[_0x392b09(0x198)]=_0xf43992;}get['subscriptions'](){const _0x5177a3=_0x3f1d19;return this[_0x5177a3(0x1a5)][_0x5177a3(0xa9b)];}get[_0x3f1d19(0xac1)](){const _0x54919f=_0x3f1d19;return this[_0x54919f(0x1a5)]['topics'];}['createSubscription'](_0x10a90d,_0x2ffbdf){const _0xc7ea37=_0x3f1d19,_0x224f57=this[_0xc7ea37(0x198)](_0x2ffbdf),_0x1d95ac=_0x27456d(_0x10a90d);if(!_0x224f57['supportsContentType'])throw new _0x5c1da3(_0x5c1da3[_0xc7ea37(0x91b)][_0xc7ea37(0x46f)],{'message':_0x1d95ac+':\x20'+_0x224f57[_0xc7ea37(0x6de)]+_0xc7ea37(0x9b1)+_0x224f57[_0xc7ea37(0x7e1)],'subscriptionType':_0x10a90d,'subscription':_0x2ffbdf,'subscriptonParts':_0x224f57});const _0x14317a=_0x9cdac2(_0x10a90d,_0x224f57);if(this['maps'][_0xc7ea37(0xa9b)]['has'](_0x14317a))throw new _0x5c1da3(_0x5c1da3[_0xc7ea37(0x91b)][_0xc7ea37(0x46f)],{'message':_0x1d95ac+':\x20'+_0x14317a+_0xc7ea37(0x8b7),'subscriptionType':_0x10a90d,'subscription':_0x2ffbdf,'subscriptonParts':_0x224f57});this[_0xc7ea37(0x1a5)]['subscriptions']['set'](_0x14317a,_0x2ffbdf),this[_0xc7ea37(0x2fb)](_0x224f57,_0x2ffbdf);}['removeSubscription'](_0x3e49c8,_0x4762c1){const _0x259051=_0x3f1d19,_0x546918=_0x9cdac2(_0x4762c1,_0x3e49c8),_0x4e858d=this[_0x259051(0x1a5)]['subscriptions'][_0x259051(0x459)](_0x546918);if(!_0x4e858d)throw new _0x5c1da3(_0x5c1da3[_0x259051(0x91b)]['InvalidSubscription'],{'message':_0x27456d(_0x4762c1)+':\x20'+_0x546918+_0x259051(0x445),'subscriptionType':_0x4762c1,'subscription':_0x4e858d,'subscriptonParts':_0x3e49c8});this[_0x259051(0xb28)](_0x4e858d,_0x546918,_0x3e49c8);}[_0x3f1d19(0xb28)](_0x46d1cf,_0x4890ef,_0x490762){const _0x3c6539=_0x3f1d19;_0x490762=_0x490762||this[_0x3c6539(0x198)](_0x46d1cf),this[_0x3c6539(0x1a5)][_0x3c6539(0xa9b)][_0x3c6539(0x233)](_0x4890ef),this['removeTopic'](_0x490762,_0x46d1cf);}['createTopic'](_0x2769f5,{source:_0x48d060,destination:_0x4c8531}){const _0x5ba05c=_0x3f1d19,{contentType:_0x5d4a6e,label:_0x4ef35c,remoteId:_0x2feccd}=_0x2769f5,_0x639a24=_0x34aa05(_0x5d4a6e,_0x4ef35c,_0x2feccd),_0x4c0fb3=new _0x56cb5d(_0x639a24,_0x5d4a6e);_0x4c0fb3[_0x5ba05c(0x13a)](_0x48d060),_0x4c0fb3[_0x5ba05c(0x518)](_0x4c8531),this['maps'][_0x5ba05c(0xac1)][_0x5ba05c(0xb36)](_0x4c0fb3[_0x5ba05c(0x897)](),_0x4c0fb3);}[_0x3f1d19(0x574)](_0x38d931,_0x403890){const _0x39f369=_0x3f1d19,{contentType:_0x38a7da,label:_0x4c5f49,remoteId:_0xad398e}=_0x38d931,_0x556979=_0x34aa05(_0x38a7da,_0x4c5f49,_0xad398e),_0x3b2f4b=this[_0x39f369(0x1a5)]['topics'][_0x39f369(0x459)](_0x556979);_0x3b2f4b&&(this['closeTopic'](_0x3b2f4b,_0x403890),this['maps'][_0x39f369(0xac1)][_0x39f369(0x233)](_0x556979));}[_0x3f1d19(0x8e0)](_0x72c720,{source:_0xc15501,destination:_0x488d3c}){const _0x6d2531=_0x3f1d19;_0x72c720[_0x6d2531(0x485)](_0xc15501),_0x72c720[_0x6d2531(0x42c)](_0x488d3c);}['removeSubscriptionsForNode'](_0x758f7){const _0x2eba19=_0x3f1d19;this[_0x2eba19(0x1a5)]['subscriptions'][_0x2eba19(0xa0d)]((_0x1c5a49,_0x37e417)=>{const _0x31e938=_0x2eba19;_0x37e417[_0x31e938(0x5f0)](_0x758f7)&&this[_0x31e938(0xb28)](_0x1c5a49,_0x37e417);});}}class _0x34ab2b{[_0x3f1d19(0x1b8)];[_0x3f1d19(0x141)];[_0x3f1d19(0xa2d)]=new Map();[_0x3f1d19(0x2b7)]=_0x17b55c(new _0x58da28(this['requestSubscriptionAction'][_0x3f1d19(0x2f6)](this),()=>_0x18a0c6['wait'](0x64)),!0x0);[_0x3f1d19(0x6e0)]=new Map();[_0x3f1d19(0x1a5)];['chosenAnswers']=new Map();constructor(_0x210d77,_0x1c235e){const _0x332152=_0x3f1d19;this[_0x332152(0x1b8)]=_0x210d77,this[_0x332152(0x141)]=_0x1c235e,this['maps']=new _0x1c16ae(({source:_0x2459b5,destination:_0xef9cc2})=>_0x4da960(_0xef9cc2,_0x2459b5));}[_0x3f1d19(0xabe)](_0x38c8f4,_0x2ffc50){const _0x8848ba=_0x3f1d19,_0x3313ff=this['isMediaSource'](_0x38c8f4)&&this['isMediaDestination'](_0x2ffc50)?new _0x586f30(_0x38c8f4,_0x2ffc50):new _0x3739f3(_0x38c8f4,_0x2ffc50);this[_0x8848ba(0x1a5)][_0x8848ba(0xabe)](_0x40324c['Incoming'],_0x3313ff),this['configs'][_0x8848ba(0x870)][_0x8848ba(0x213)](_0x3313ff);}[_0x3f1d19(0x13b)](_0x4f0d36,_0x567493,_0x16d041=''){const _0x551e0e=_0x3f1d19,_0xf9b4d7={'contentType':_0x567493,'label':_0x4f0d36,'remoteId':_0x16d041},_0x459070=_0x9cdac2(_0x40324c['Incoming'],_0xf9b4d7),_0x51bad0=this['maps'][_0x551e0e(0xa9b)][_0x551e0e(0x459)](_0x459070);_0x51bad0&&this[_0x551e0e(0xb28)](_0x51bad0,_0x459070);}[_0x3f1d19(0x469)](_0x24d9a0){const _0x58972b=_0x3f1d19;this[_0x58972b(0xb60)](_0x24d9a0);}['handleContentSubscribeMediaStream']({label:_0x3561e0,ownerId:_0x3f1adc,trackKinds:_0x24dba8,params:_0x2fc130}){this['requestSubscription'](_0x3561e0,_0x3f1adc,_0x24dba8,_0x2fc130);}[_0x3f1d19(0x602)]({ownerId:_0x11ec26,label:_0x10dd4a,params:_0x51b433}){const _0x20e795=_0x3f1d19,{subscriptionLabel:_0x372998}=this[_0x20e795(0x6af)](_0x10dd4a,_0x11ec26),_0xc2978e=this[_0x20e795(0x489)](_0x372998);_0xc2978e&&_0xc2978e['update'](_0x11ec26,_0x51b433);}[_0x3f1d19(0x52e)]({ownerId:_0x151f15,label:_0x6bcbb6,trackKinds:_0x3fd439,remainingTracks:_0x3c0e1a}){const _0x4b2628=_0x3f1d19,_0x325b9a=_0x9cdac2(_0x40324c[_0x4b2628(0xa6f)],{'contentType':_0x1c7ce5[_0x4b2628(0x5a3)][_0x4b2628(0x18f)],'label':_0x6bcbb6,'remoteId':_0x151f15});this[_0x4b2628(0x1c9)](_0x325b9a);const _0x465039=this[_0x4b2628(0xa2d)]['get'](_0x325b9a);_0x465039&&(this[_0x4b2628(0x1b8)]['mediator'][_0x4b2628(0x2e9)](_0x465039),this['subscriptionRequests'][_0x4b2628(0x233)](_0x325b9a));const {parts:_0x2fcf51,subscriptionLabel:_0x1a120f}=this[_0x4b2628(0x6af)](_0x6bcbb6,_0x151f15),_0x3789ba=this[_0x4b2628(0x489)](_0x1a120f);_0x3789ba&&(_0x3789ba[_0x4b2628(0x87c)](_0x151f15,_0x3c0e1a,_0x3fd439),0x0===_0x3c0e1a&&this['removeSubscription'](_0x2fcf51[_0x4b2628(0x792)],_0x2fcf51[_0x4b2628(0x7e1)],_0x2fcf51[_0x4b2628(0x6de)]));}[_0x3f1d19(0x50c)](_0x23ad5b,{label:_0x294794,ownerId:_0x200238,trackKinds:_0x294390,streamId:_0x2e607f,params:_0x26bc30}){const _0x372d91=_0x3f1d19,_0x181b55=_0x9cdac2(_0x40324c['Incoming'],{'contentType':_0x1c7ce5[_0x372d91(0x5a3)][_0x372d91(0x18f)],'label':_0x2e607f,'remoteId':_0x23ad5b}),_0x743e83=this['maps'][_0x372d91(0xa9b)]['get'](_0x181b55);if(!(_0x743e83&&_0x743e83 instanceof _0x586f30))throw new _0x5c1da3(_0x5c1da3[_0x372d91(0x91b)]['SubscriptionRequestDoesNotExist'],{'label':_0x181b55,'ownerId':_0x200238});this['closeSubscription'](_0x743e83,_0x181b55),this['requestSubscription'](_0x294794,_0x200238,_0x294390,_0x26bc30);}[_0x3f1d19(0x59f)](_0x116b24,_0x5491e4){const _0x47df9e=_0x3f1d19,{label:_0x1540be,ownerId:_0x11e0ff,trackKinds:_0x4d4463,params:_0x8f6de4}=_0x5491e4,_0x4d640a=_0x9cdac2(_0x40324c['Incoming'],{'contentType':_0x1c7ce5[_0x47df9e(0x5a3)][_0x47df9e(0x18f)],'label':_0x1540be,'remoteId':_0x11e0ff});if(!this[_0x47df9e(0xa2d)][_0x47df9e(0x1c3)](_0x4d640a))throw new _0x5c1da3(_0x5c1da3[_0x47df9e(0x91b)][_0x47df9e(0x5f4)],{'label':_0x4d640a,'ownerId':_0x11e0ff,'streamId':_0x5491e4[_0x47df9e(0x4ac)],'requests':this[_0x47df9e(0xa2d)]});const _0x2f66f7=this[_0x47df9e(0xa2d)][_0x47df9e(0x459)](_0x4d640a);if(_0x4d4463[_0x47df9e(0x744)]===_0x2f66f7[_0x47df9e(0x372)]()[_0x47df9e(0x744)]&&_0x4d4463[_0x47df9e(0x9a0)](_0x211c88=>_0x2f66f7[_0x47df9e(0x372)]()[_0x47df9e(0xb4d)](_0x211c88)))try{const _0x411901=_0x2f66f7[_0x47df9e(0x49a)](_0x116b24,_0x5491e4);if(!_0x411901)return;this[_0x47df9e(0x565)](_0x411901,_0x11e0ff,_0x1540be,_0x4d640a,_0x4d4463);}catch(_0x159d1a){return void this[_0x47df9e(0x248)](_0x1540be,_0x11e0ff,_0x4d4463,_0x8f6de4);}}[_0x3f1d19(0x8dc)](_0x12718e,{label:_0xda1d7e,ownerId:_0x979534,trackKinds:_0x3f4bdd}){const _0x874044=_0x3f1d19,_0x4d31fb=this[_0x874044(0x1b8)]['mediator'][_0x874044(0x538)](_0x979534,_0xda1d7e);if(!_0x4d31fb)return;const _0x1f694d=_0x4d31fb[_0x874044(0x896)](),_0x4efe72=_0x4d31fb['getSubscribedTracks']();_0x4efe72[_0x874044(0x658)](_0x260e05=>_0x3f4bdd['includes'](_0x260e05))&&this[_0x874044(0x216)](_0x12718e,_0xda1d7e,_0x1f694d,_0x979534,_0x4efe72);}[_0x3f1d19(0x4d8)]({label:_0xe32364,providerId:_0x2609c6,ownerId:_0x3f7cfd,streamId:_0x314b1b,trackKinds:_0x15bf0}){this['findNewMediaSubscription'](_0x2609c6,_0xe32364,_0x314b1b,_0x3f7cfd,_0x15bf0);}['handleOptimizationConnectionSuccess'](_0x47102c){const _0x2baf41=_0x3f1d19;for(const _0x5be74a of this['chosenAnswers']['values']()){const {streamLabel:_0x53ded,ownerId:_0x279a85,trackKinds:_0x3a0817,params:_0x45e834}=_0x5be74a;if(!_0x279a85||!_0x3a0817||!_0x53ded)return;this['subscriptionRequestsQueue'][_0x2baf41(0x24b)]({'label':_0x53ded,'ownerId':_0x279a85,'trackKinds':_0x3a0817,'params':_0x45e834,'remoteId':_0x47102c});}}[_0x3f1d19(0xa03)](_0x5d91b0){const _0x36232a=_0x3f1d19;this['maps']['subscriptions'][_0x36232a(0xa0d)]((_0x4cb7e8,_0xf93a9d)=>{const _0x27916e=_0x36232a;if(_0xf93a9d['endsWith'](_0x5d91b0)){if(_0x4cb7e8[_0x27916e(0x603)][_0x27916e(0x200)]()===_0x1c7ce5['ContentType'][_0x27916e(0x18f)]){const _0x1e4ed5=_0x4cb7e8[_0x27916e(0x603)];if(_0x1e4ed5[_0x27916e(0x149)]()['length']>0x0){const _0xd21da8={'type':_0x4fb60c[_0x27916e(0x45a)],'label':_0x1e4ed5['getLabel'](),'ownerId':_0x1e4ed5['getOwnerId'](),'trackKinds':_0x1e4ed5[_0x27916e(0x149)]()};return void this[_0x27916e(0x8dc)](_0x5d91b0,_0xd21da8);}}this[_0x27916e(0xb28)](_0x4cb7e8,_0xf93a9d);}});}[_0x3f1d19(0x87b)](){const _0x52a705=_0x3f1d19;this[_0x52a705(0x1a5)][_0x52a705(0xa9b)][_0x52a705(0xa0d)](this[_0x52a705(0xb28)][_0x52a705(0x2f6)](this));}['subscribe'](_0x37c00d,_0x108f88,_0x30ee4e,_0x169555,_0x3ef96d){const _0x50e954=_0x3f1d19,_0x574001=this['configs'][_0x50e954(0x870)][_0x50e954(0x4c5)](_0x37c00d[_0x50e954(0x769)]),_0x177b24=this['configs'][_0x50e954(0x870)][_0x50e954(0x538)](_0x108f88,_0x30ee4e);this[_0x50e954(0x1c9)](_0x169555),this['subscriptionRequests'][_0x50e954(0x1c3)](_0x169555)&&(this['configs'][_0x50e954(0x870)][_0x50e954(0x2e9)](this[_0x50e954(0xa2d)]['get'](_0x169555)),this[_0x50e954(0xa2d)][_0x50e954(0x233)](_0x169555)),this[_0x50e954(0x901)](_0x37c00d,_0x108f88,_0x30ee4e,_0x177b24),_0x177b24[_0x50e954(0x53f)](_0x37c00d['streamId']),_0x177b24[_0x50e954(0x23b)](_0x37c00d[_0x50e954(0x769)]);const _0x53071a=_0x4da960(_0x177b24,_0x574001),_0x2cdd08=_0x9cdac2(_0x40324c[_0x50e954(0xa6f)],_0x53071a);this[_0x50e954(0x1a5)][_0x50e954(0xa9b)]['has'](_0x2cdd08)||this[_0x50e954(0xabe)](_0x574001,_0x177b24);const _0x53deb3=this['maps']['subscriptions']['get'](_0x2cdd08);if(!(_0x53deb3&&_0x53deb3 instanceof _0x586f30))throw new _0x5c1da3(_0x5c1da3[_0x50e954(0x91b)][_0x50e954(0x5f4)],{'label':_0x169555,'ownerId':_0x108f88});_0x576b91[_0x50e954(0x75c)](_0x50e954(0x40e),{'clusterId':this[_0x50e954(0x1b8)][_0x50e954(0x7d9)],'nodeId':this['configs']['localNode'][_0x50e954(0x7be)](),'nodeType':this[_0x50e954(0x1b8)][_0x50e954(0x72c)][_0x50e954(0x8c9)],'data':{'subscriptionLabel':_0x2cdd08,'chosenAnswer':_0x37c00d}}),this[_0x50e954(0x5ea)]['set'](_0x2cdd08,_0x37c00d),_0x53deb3[_0x50e954(0x565)](_0x108f88,_0x3ef96d,_0x37c00d[_0x50e954(0x7a7)]);}[_0x3f1d19(0xb60)]({ownerId:_0x56834e,label:_0x566f5a}){const _0x1c993e=_0x3f1d19,_0xe215af=this[_0x1c993e(0x1b8)]['mediator']['getRemoteMediaStream'](_0x56834e,_0x566f5a),[_0x4603d4,_0x529b64]=Array[_0x1c993e(0x663)](this[_0x1c993e(0x1a5)]['subscriptions'][_0x1c993e(0x736)]())['find'](([_0x4ca169,_0x26c5c7])=>-0x1!==_0x4ca169['indexOf'](_0xe215af[_0x1c993e(0x896)]()));return this[_0x1c993e(0xb28)](_0x529b64,_0x4603d4);}['closeSubscription'](_0x297e8b,_0x4a01b7){const _0x356566=_0x3f1d19;this[_0x356566(0x1b8)][_0x356566(0x870)][_0x356566(0x2e9)](_0x297e8b),this['maps']['closeSubscription'](_0x297e8b,_0x4a01b7);}[_0x3f1d19(0x37b)](_0x2c1450){const _0x275572=_0x3f1d19;return _0x2c1450['getSupportedContentTypes']()[_0x275572(0xb4d)](_0x1c7ce5[_0x275572(0x5a3)][_0x275572(0x18f)]);}[_0x3f1d19(0x136)](_0x49a7f3){const _0x53645c=_0x3f1d19;return _0x49a7f3['getContentType']()===_0x1c7ce5[_0x53645c(0x5a3)]['Media'];}async['handleNoAnswer'](_0x3119b3,_0x4e7bd7,_0x654ed3,_0x70837){const _0x496439=_0x3f1d19;await _0x18a0c6['wait'](0x3e8);const _0x543c20=_0x9cdac2(_0x40324c['Incoming'],{'contentType':_0x1c7ce5[_0x496439(0x5a3)][_0x496439(0x18f)],'label':_0x3119b3,'remoteId':_0x4e7bd7});this[_0x496439(0x1c9)](_0x543c20);const _0x311051=this['subscriptionRequests']['get'](_0x543c20);if(!_0x311051)throw new _0x5c1da3(_0x5c1da3[_0x496439(0x91b)]['SubscriptionRequestDoesNotExist'],{'label':_0x543c20,'ownerId':_0x4e7bd7});const _0x1c5866=this[_0x496439(0x1b8)]['mediator'][_0x496439(0x491)](_0x25ed0f=>_0x25ed0f[_0x496439(0x6a3)]()),_0x3eca39=this['configs']['mediator'][_0x496439(0x553)](this[_0x496439(0x1b8)]['localNode'][_0x496439(0x7be)](),_0x4e7bd7);_0x311051[_0x496439(0xa91)](_0x1c5866[_0x496439(0x865)](_0x38ba25=>_0x38ba25[_0x496439(0x8e1)]()),_0x3eca39);try{_0x311051[_0x496439(0x2b5)](this[_0x496439(0x1b8)][_0x496439(0x72c)][_0x496439(0x7be)](),_0x4e7bd7,_0x3119b3,_0x654ed3,_0x70837),this[_0x496439(0x682)](_0x3119b3,_0x4e7bd7,_0x654ed3,_0x70837,_0x543c20,_0x311051);}catch(_0x53ebc5){this['subscriptionRequestsQueue'][_0x496439(0x24b)]({'label':_0x3119b3,'ownerId':_0x4e7bd7,'trackKinds':_0x654ed3,'params':_0x70837});}}[_0x3f1d19(0x28c)](_0x3c4ccd,_0x23bb53,_0x241581,_0x521994){this['subscriptionRequestsQueue']['push']({'label':_0x3c4ccd,'ownerId':_0x23bb53,'trackKinds':_0x241581,'params':_0x521994});}[_0x3f1d19(0xb51)]({label:_0x2780ca,ownerId:_0x572136,trackKinds:_0x5824be,params:_0x14e566,remoteId:_0x4366b0}){const _0xdba94a=_0x3f1d19;if(!this[_0xdba94a(0x1b8)][_0xdba94a(0x870)][_0xdba94a(0x538)](_0x572136,_0x2780ca))return;if(!this[_0xdba94a(0x1b8)][_0xdba94a(0x870)]['getLocalNode']()[_0xdba94a(0xa5d)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x4366b0){const _0x2c22c2=this['configs'][_0xdba94a(0x870)][_0xdba94a(0x321)]()['find'](_0x972732=>_0x972732['getId']()===_0x4366b0),_0x1e9a5d=_0x2c22c2?.['getRank']();if(!_0x2c22c2||!_0x1e9a5d)throw new Error(_0xdba94a(0x7ee));const _0xf7727a=this[_0xdba94a(0x1b8)][_0xdba94a(0x870)]['getRemoteNodes']()[_0xdba94a(0x4d3)](_0x571e94=>_0x571e94['getId']()===_0x572136),_0x384dd8=_0xf7727a?.['getRank']();if(!_0xf7727a||!_0x384dd8)throw new Error(_0xdba94a(0x9ad));const _0x5df16a=this[_0xdba94a(0x5ea)][_0xdba94a(0x459)](_0x2780ca);if(_0x5df16a){const _0x5f5a05=this[_0xdba94a(0x1b8)][_0xdba94a(0x870)][_0xdba94a(0x321)]()[_0xdba94a(0x4d3)](_0x128f87=>_0x128f87[_0xdba94a(0x7be)]()===_0x5df16a[_0xdba94a(0x769)]),_0x12c79b=_0x5f5a05?.[_0xdba94a(0xa5d)]();if(!_0x5f5a05||!_0x12c79b)throw new Error(_0xdba94a(0x8ae));if(Math[_0xdba94a(0x498)](_0x12c79b-_0x384dd8)<Math['abs'](_0x1e9a5d-_0x384dd8))return;}}const _0x5d1d5d=this[_0xdba94a(0x1b8)][_0xdba94a(0x870)][_0xdba94a(0x491)](_0x2040de=>_0x2040de[_0xdba94a(0x6a3)]()&&(!_0x4366b0||_0x2040de[_0xdba94a(0x8e1)]()===_0x4366b0));if(!_0x5d1d5d[_0xdba94a(0x744)]||0x0===_0x5d1d5d[_0xdba94a(0x744)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0xcbca0e=this['configs']['mediator']['getDistance'](this[_0xdba94a(0x1b8)][_0xdba94a(0x72c)][_0xdba94a(0x7be)](),_0x572136),_0x37c0bd=_0x9cdac2(_0x40324c['Incoming'],{'contentType':_0x1c7ce5['ContentType'][_0xdba94a(0x18f)],'label':_0x2780ca,'remoteId':_0x572136});if(this[_0xdba94a(0xa2d)][_0xdba94a(0x1c3)](_0x37c0bd)){if(_0x4366b0)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x173f50=this['subscriptionRequests']['get'](_0x37c0bd)[_0xdba94a(0x372)]();if(_0x173f50[_0xdba94a(0x744)]===_0x5824be[_0xdba94a(0x744)]&&_0x173f50['every'](_0x26c2fc=>_0x5824be[_0xdba94a(0xb4d)](_0x26c2fc)))return;this[_0xdba94a(0x1b8)][_0xdba94a(0x870)][_0xdba94a(0x2e9)](this[_0xdba94a(0xa2d)][_0xdba94a(0x459)](_0x37c0bd)),this[_0xdba94a(0xa2d)][_0xdba94a(0x233)](_0x37c0bd),_0x5824be=Array['from'](new Set(_0x5824be[_0xdba94a(0x78c)](_0x173f50))),this[_0xdba94a(0x1c9)](_0x37c0bd);}const _0x4e6910=new _0x4e4c3f(_0x5d1d5d[_0xdba94a(0x865)](_0x409e9e=>_0x409e9e[_0xdba94a(0x8e1)]()),_0xcbca0e,this[_0xdba94a(0x141)],_0x5824be);this['configs'][_0xdba94a(0x870)]['registerSystemSource'](_0x4e6910),this[_0xdba94a(0xa2d)][_0xdba94a(0xb36)](_0x37c0bd,_0x4e6910),_0x4e6910[_0xdba94a(0x2b5)](this['configs'][_0xdba94a(0x72c)][_0xdba94a(0x7be)](),_0x572136,_0x2780ca,_0x5824be,_0x14e566),this[_0xdba94a(0x682)](_0x2780ca,_0x572136,_0x5824be,_0x14e566,_0x37c0bd,_0x4e6910);}[_0x3f1d19(0x1c9)](_0x2f6bd8){const _0x1a98df=_0x3f1d19;this[_0x1a98df(0x6e0)][_0x1a98df(0x1c3)](_0x2f6bd8)&&(clearTimeout(this[_0x1a98df(0x6e0)]['get'](_0x2f6bd8)),this[_0x1a98df(0x6e0)][_0x1a98df(0x233)](_0x2f6bd8));}['setSubscriptionRequestTimeout'](_0xb1420c,_0x19f6e7,_0x4f76d1,_0x73e26a,_0x2a2697,_0x447d6d){const _0x317a91=_0x3f1d19;this['clearSubscriptionRequestTimeout'](_0x2a2697),this[_0x317a91(0x6e0)][_0x317a91(0xb36)](_0x2a2697,setTimeout(()=>{const _0x3df4f4=_0x317a91;this['subscriptionRequestTimeouts'][_0x3df4f4(0x233)](_0x2a2697);try{const _0x1e62c4=_0x447d6d['chooseAnswer']();this['subscribe'](_0x1e62c4,_0x19f6e7,_0xb1420c,_0x2a2697,_0x4f76d1);}catch(_0x5a6c88){this['handleNoAnswer'](_0xb1420c,_0x19f6e7,_0x4f76d1,_0x73e26a);}},0x7d0));}['findNewMediaSubscription'](_0xe9310c,_0x2265b9,_0xef997c,_0x47976d,_0xa5ade0){const _0x5da7de=_0x3f1d19,{subscriptionLabel:_0x16b4a6}=this[_0x5da7de(0x6af)](_0x2265b9,_0x47976d),_0x17c2e6=this['getMediaSubscription'](_0x16b4a6),_0x5d1e32=_0x17c2e6?.['params'];_0x17c2e6&&(_0x17c2e6[_0x5da7de(0x87c)](_0x47976d,0x0),this['removeSubscription'](_0xef997c,_0x1c7ce5[_0x5da7de(0x5a3)][_0x5da7de(0x18f)],_0xe9310c)),this[_0x5da7de(0x28c)](_0x2265b9,_0x47976d,_0xa5ade0,_0x5d1e32);}[_0x3f1d19(0x489)](_0x40d680){const _0x5979ae=_0x3f1d19,_0x211480=this[_0x5979ae(0x1a5)][_0x5979ae(0xa9b)][_0x5979ae(0x459)](_0x40d680);if(_0x211480){if(!(_0x211480 instanceof _0x586f30))throw new _0x5c1da3(_0x5c1da3[_0x5979ae(0x91b)]['InvalidSubscription'],{'label':_0x40d680,'subscription':_0x211480});return _0x211480;}}[_0x3f1d19(0x6af)](_0x1669cb,_0x53dfd5){const _0x401cd0=_0x3f1d19,_0x269810=this['getPartsForSubscriptionLabel'](_0x1669cb,_0x53dfd5);return{'parts':_0x269810,'subscriptionLabel':_0x9cdac2(_0x40324c[_0x401cd0(0xa6f)],_0x269810)};}[_0x3f1d19(0x43a)](_0x17fd6d,_0x2a7eb2){const _0x598655=_0x3f1d19,_0x29f4ae=this['configs'][_0x598655(0x870)][_0x598655(0x538)](_0x2a7eb2,_0x17fd6d),_0x506bfb=_0x29f4ae[_0x598655(0x6db)]();if(!_0x506bfb)throw new _0x5c1da3(_0x5c1da3[_0x598655(0x91b)][_0x598655(0x4d0)],{'label':_0x17fd6d,'streamId':_0x29f4ae[_0x598655(0x896)](),'ownerId':_0x2a7eb2,'localId':this[_0x598655(0x1b8)][_0x598655(0x72c)]['getId']()});return{'contentType':_0x1c7ce5[_0x598655(0x5a3)][_0x598655(0x18f)],'label':_0x29f4ae[_0x598655(0x896)](),'remoteId':_0x506bfb};}[_0x3f1d19(0x901)](_0x291f41,_0x559244,_0x52e680,_0x2a86e7){const _0xaef36a=_0x3f1d19,_0x515f0a=_0x2a86e7[_0xaef36a(0x6db)]();if(_0x515f0a&&_0x515f0a!==_0x291f41[_0xaef36a(0x769)]){const {parts:_0x70e96b,subscriptionLabel:_0x3828fa}=this[_0xaef36a(0x6af)](_0x52e680,_0x559244),_0x452cdc=this[_0xaef36a(0x489)](_0x3828fa);_0x452cdc&&(_0x452cdc['unsubscribe'](_0x559244,0x0),this[_0xaef36a(0x13b)](_0x70e96b[_0xaef36a(0x792)],_0x70e96b[_0xaef36a(0x7e1)],_0x70e96b['remoteId']));}}}class _0x52ad36{['configs'];[_0x3f1d19(0x8b3)];[_0x3f1d19(0x1a5)];constructor(_0x34b4de,_0x10d1d6){const _0x5e2218=_0x3f1d19;this['configs']=_0x34b4de,this[_0x5e2218(0x8b3)]=_0x10d1d6,this['maps']=new _0x1c16ae(({source:_0x104a91,destination:_0x26682b})=>_0x4da960(_0x104a91,_0x26682b));}['createSubscription'](_0xf58a0d,_0x282dd8){const _0x4718a2=_0x3f1d19,_0x3c3fb0={'source':_0xf58a0d,'destination':_0x282dd8};this[_0x4718a2(0x1a5)]['createSubscription'](_0x40324c[_0x4718a2(0x13e)],_0x3c3fb0);}[_0x3f1d19(0x13b)](_0x364beb,_0x1535f7,_0x21e2f5=''){const _0x305234=_0x3f1d19,_0x396f4e={'contentType':_0x1535f7,'label':_0x364beb,'remoteId':_0x21e2f5};this['maps']['removeSubscription'](_0x396f4e,_0x40324c[_0x305234(0x13e)]);}[_0x3f1d19(0xb69)](_0x1dc72d,_0x2e01ed){const _0x387a9a=_0x3f1d19;let _0x32b3ac;_0x32b3ac=_0x2e01ed[_0x387a9a(0x8b1)]!==this[_0x387a9a(0x1b8)][_0x387a9a(0x72c)][_0x387a9a(0x7be)]()?this[_0x387a9a(0x1b8)][_0x387a9a(0x870)]['getRemoteMediaStream'](_0x2e01ed[_0x387a9a(0x8b1)],_0x2e01ed['label']):this['configs']['mediator']['getLocalMediaStream'](_0x2e01ed[_0x387a9a(0x792)]);const _0x5064ac=_0x9cdac2(_0x40324c[_0x387a9a(0x13e)],{'contentType':_0x1c7ce5[_0x387a9a(0x5a3)]['Media'],'label':_0x32b3ac[_0x387a9a(0xb3e)](),'remoteId':_0x1dc72d}),_0x1711f9=this[_0x387a9a(0x788)]();if(!this[_0x387a9a(0x1a5)][_0x387a9a(0xa9b)][_0x387a9a(0x1c3)](_0x5064ac)&&_0x1711f9>=this[_0x387a9a(0x8b3)])return{'type':_0x4fb60c['RestartNeedMediaStream'],'ownerId':_0x2e01ed[_0x387a9a(0x8b1)],'label':_0x2e01ed[_0x387a9a(0x792)],'streamId':_0x32b3ac['getShareableStreamId'](),'trackKinds':_0x2e01ed[_0x387a9a(0x62e)],'params':_0x2e01ed['params']};_0x32b3ac instanceof _0x43165e&&!_0x32b3ac[_0x387a9a(0x932)](_0x2e01ed[_0x387a9a(0x62e)])&&_0x32b3ac['subscribe'](_0x2e01ed[_0x387a9a(0x7a7)]),this[_0x387a9a(0x1a5)]['subscriptions'][_0x387a9a(0x1c3)](_0x5064ac)||this[_0x387a9a(0xabe)](_0x32b3ac[_0x387a9a(0x421)](_0x1dc72d),this['configs'][_0x387a9a(0x870)]['getConnection'](_0x1dc72d));}['handleSubscriptionUnsubscribeMediaStream'](_0x342b77,{label:_0x3e94e4,ownerId:_0x617dc9,remainingTracks:_0x3de448}){const _0x20a3bb=_0x3f1d19;if(_0x3de448>0x0)return;let _0x2fbb0f;_0x2fbb0f=_0x617dc9!==this[_0x20a3bb(0x1b8)][_0x20a3bb(0x72c)][_0x20a3bb(0x7be)]()?this[_0x20a3bb(0x1b8)][_0x20a3bb(0x870)][_0x20a3bb(0x538)](_0x617dc9,_0x3e94e4):this[_0x20a3bb(0x1b8)][_0x20a3bb(0x870)][_0x20a3bb(0x338)](_0x3e94e4);const _0xafba1d=_0x2fbb0f[_0x20a3bb(0xb3e)](),_0x5ee477=_0x1c7ce5[_0x20a3bb(0x5a3)][_0x20a3bb(0x18f)];this[_0x20a3bb(0x13b)](_0xafba1d,_0x5ee477,_0x342b77);}[_0x3f1d19(0x52e)](_0x30409d,{label:_0x3e024c,ownerId:_0x116f97,trackKinds:_0x2ea32d}){const _0x5e40a6=_0x3f1d19;if(_0x30409d!==_0x56bdb9)return[];let _0x36e2d2=[];for(const _0x5d8816 of this[_0x5e40a6(0x1a5)][_0x5e40a6(0xa9b)]){const {source:_0x4a89fa,destination:_0xd98730}=_0x5d8816[0x1];_0x4a89fa['getLabel']()===_0x3e024c&&_0x4a89fa['getOwnerId']()===_0x116f97&&_0x36e2d2[_0x5e40a6(0x24b)]({'sourceId':this[_0x5e40a6(0x1b8)][_0x5e40a6(0x72c)][_0x5e40a6(0x7be)](),'destinationIds':[_0xd98730[_0x5e40a6(0x8e1)]()],'messageType':_0x21fe4c['Subscription'],'content':{'type':_0x4fb60c['MediaStreamUnavailable'],'label':_0x3e024c,'ownerId':_0x116f97,'trackKinds':_0x2ea32d}});}return _0x36e2d2;}[_0x3f1d19(0xb48)](_0x315aea,_0x366601){const _0x2a461c=_0x3f1d19,{label:_0x75ba26,ownerId:_0x3ebf69,trackKinds:_0x54982e,params:_0x24ed6b}=_0x366601,{hasTracks:_0x72468b,streamId:_0x57e452,hasResolution:_0xd994b9,distance:_0x596780,subscriptionLabel:_0x118236}=this[_0x2a461c(0x497)](_0x315aea,_0x366601);let _0x1b772e=this[_0x2a461c(0x788)]()<this[_0x2a461c(0x8b3)]&&(_0x72468b||_0x596780>-0x1)?_0x4fb60c[_0x2a461c(0x6fd)]:_0x4fb60c[_0x2a461c(0x54c)];const _0x20729c=_0x596780<0x0?0xa:_0x596780;let _0x5e995c=_0x72468b?_0xd994b9?_0x20729c:_0x20729c+0x0:_0x20729c+0xa;return _0x118236&&this[_0x2a461c(0x1a5)]['subscriptions']['has'](_0x118236)&&(_0x72468b&&(_0x5e995c=0x0),_0x1b772e=_0x4fb60c[_0x2a461c(0x6fd)]),{'type':_0x1b772e,'cost':_0x5e995c,'distance':_0x596780,'label':_0x75ba26,'ownerId':_0x3ebf69,'streamId':_0x57e452,'trackKinds':_0x54982e,'params':_0x24ed6b};}[_0x3f1d19(0x469)](_0x273c47){const _0x35d85d=_0x3f1d19,{label:_0x11f95a,ownerId:_0x38fadc}=_0x273c47,_0x98d855=this[_0x35d85d(0x1b8)][_0x35d85d(0x870)][_0x35d85d(0x538)](_0x38fadc,_0x11f95a);this[_0x35d85d(0x1a5)][_0x35d85d(0xa9b)]['forEach'](_0x4e6780=>{const _0x54a352=_0x35d85d;if(_0x4e6780[_0x54a352(0xb47)][_0x54a352(0x896)]()===_0x98d855[_0x54a352(0xb3e)]()){const _0x2ff670=_0x4e6780[_0x54a352(0x603)];this[_0x54a352(0x13b)](_0x98d855['getShareableStreamId'](),_0x1c7ce5[_0x54a352(0x5a3)][_0x54a352(0x18f)],_0x2ff670[_0x54a352(0x8e1)]());}});}[_0x3f1d19(0x2a3)]({label:_0x13013c}){const _0x207e0d=_0x3f1d19,_0x310bf3=this[_0x207e0d(0x1b8)][_0x207e0d(0x870)]['getLocalMediaStream'](_0x13013c);this[_0x207e0d(0x1a5)][_0x207e0d(0xa9b)]['forEach'](_0x36f8b5=>{const _0x1c07c6=_0x207e0d;if(_0x36f8b5[_0x1c07c6(0xb47)]['getInternalStreamId']()===_0x310bf3[_0x1c07c6(0xb3e)]()){const _0x58b8c3=_0x36f8b5[_0x1c07c6(0x603)];this['removeSubscription'](_0x310bf3[_0x1c07c6(0xb3e)](),_0x1c7ce5[_0x1c07c6(0x5a3)][_0x1c07c6(0x18f)],_0x58b8c3[_0x1c07c6(0x8e1)]());}});}['removeSubscriptionsForNode'](_0x47063e){const _0x8b7154=_0x3f1d19;this['maps'][_0x8b7154(0xa03)](_0x47063e);}[_0x3f1d19(0x87b)](){const _0x27b72d=_0x3f1d19;this['maps'][_0x27b72d(0xa9b)][_0x27b72d(0xa0d)](this[_0x27b72d(0xb28)][_0x27b72d(0x2f6)](this));}[_0x3f1d19(0xb28)](_0x1090ed,_0x48be4c){const _0x595168=_0x3f1d19;this[_0x595168(0x1a5)][_0x595168(0xb28)](_0x1090ed,_0x48be4c);}[_0x3f1d19(0x497)](_0x994073,{label:_0x16210c,ownerId:_0x171bdc,trackKinds:_0x30c173,params:_0x87a946}){const _0x4e1968=_0x3f1d19;if(_0x171bdc!==this['configs']['localNode'][_0x4e1968(0x7be)]()){const _0x3244ce=this[_0x4e1968(0x1b8)][_0x4e1968(0x870)]['getRemoteMediaStream'](_0x171bdc,_0x16210c);return _0x3244ce&&_0x3244ce[_0x4e1968(0x6db)]()!==_0x994073?{'hasTracks':_0x3244ce[_0x4e1968(0x48e)](_0x30c173),'hasResolution':this[_0x4e1968(0x502)](_0x3244ce[_0x4e1968(0x145)](),_0x87a946),'streamId':_0x3244ce[_0x4e1968(0xb3e)](),'distance':this['configs'][_0x4e1968(0x870)]['getDistance'](_0x994073,_0x171bdc),'subscriptionLabel':_0x9cdac2(_0x40324c[_0x4e1968(0x13e)],{'contentType':_0x1c7ce5['ContentType'][_0x4e1968(0x18f)],'label':_0x3244ce[_0x4e1968(0xb3e)](),'remoteId':_0x994073})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x32fefd=this['configs'][_0x4e1968(0x870)][_0x4e1968(0x338)](_0x16210c);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x32fefd[_0x4e1968(0xb3e)](),'distance':0x0,'subscriptionLabel':_0x9cdac2(_0x40324c['Outgoing'],{'contentType':_0x1c7ce5[_0x4e1968(0x5a3)][_0x4e1968(0x18f)],'label':_0x32fefd[_0x4e1968(0xb3e)](),'remoteId':_0x994073})};}[_0x3f1d19(0x788)](){const _0x35d344=_0x3f1d19;return Array['from'](this[_0x35d344(0x1a5)][_0x35d344(0xa9b)][_0x35d344(0x736)]())['filter'](([_0x187924,{source:_0x3812ef}])=>_0x187924[_0x35d344(0xaf7)](_0x40324c[_0x35d344(0x13e)])&&_0x3812ef[_0x35d344(0x200)]()===_0x1c7ce5[_0x35d344(0x5a3)][_0x35d344(0x18f)])[_0x35d344(0x744)];}['canProvideResolution'](_0x3c5599,_0x4da76c){const _0x452208=_0x3f1d19;if(!_0x4da76c||!_0x4da76c[_0x452208(0x1ce)]||_0x452208(0xb08)==typeof _0x4da76c[_0x452208(0x1ce)]||!_0x4da76c[_0x452208(0x1ce)][_0x452208(0x3c0)])return!0x0;const {width:_0x553052,height:_0x4c8793}=_0x4da76c[_0x452208(0x1ce)][_0x452208(0x3c0)];return _0x3c5599['width']>=_0x553052&&_0x3c5599[_0x452208(0x3cc)]>=_0x4c8793;}}class _0x1dd5d5{[_0x3f1d19(0x1b8)];['maxOutgoingSubscriptions'];['maxDistance'];[_0x3f1d19(0x8f2)];[_0x3f1d19(0x665)];[_0x3f1d19(0xad2)];constructor(_0x4c3d29,_0x1d232c,_0x55956e){const _0xe5dc68=_0x3f1d19;this[_0xe5dc68(0x1b8)]=_0x4c3d29,this['maxOutgoingSubscriptions']=_0x1d232c,this['maxDistance']=_0x55956e,this[_0xe5dc68(0x1b8)]['mediator'][_0xe5dc68(0x213)](this),this[_0xe5dc68(0x665)]=new _0x34ab2b(this[_0xe5dc68(0x1b8)],this[_0xe5dc68(0x141)]),this[_0xe5dc68(0xad2)]=new _0x52ad36(this[_0xe5dc68(0x1b8)],this[_0xe5dc68(0x8b3)]);}[_0x3f1d19(0x819)](_0x4a8b88){const _0x34ff9b=_0x3f1d19;this[_0x34ff9b(0x8f2)]=_0x4a8b88;}['unregisterSystemPublisher'](){const _0x152340=_0x3f1d19;delete this[_0x152340(0x8f2)];}['close'](){const _0x2b6c03=_0x3f1d19;this[_0x2b6c03(0x665)][_0x2b6c03(0x87b)](),this[_0x2b6c03(0xad2)][_0x2b6c03(0x87b)](),this[_0x2b6c03(0x1b8)]['mediator'][_0x2b6c03(0x2e9)](this);}[_0x3f1d19(0x747)](_0x266357,_0x407608){const _0xf93856=_0x3f1d19;this[_0xf93856(0x665)][_0xf93856(0xabe)](_0x266357,_0x407608);}['createOutgoingSubscription'](_0x45aff7,_0x450ec4){const _0x30334d=_0x3f1d19;this[_0x30334d(0xad2)][_0x30334d(0xabe)](_0x45aff7,_0x450ec4);}[_0x3f1d19(0x7fd)](_0x449fae,_0x4a26e7,_0x3d0cc2=''){const _0x5ab649=_0x3f1d19;this['incomingManager'][_0x5ab649(0x13b)](_0x449fae,_0x4a26e7,_0x3d0cc2);}[_0x3f1d19(0x3e2)](_0x2d463b,_0x4a5df7,_0x2200fb=''){const _0x19c3a5=_0x3f1d19;try{this['outgoingManager'][_0x19c3a5(0x13b)](_0x2d463b,_0x4a5df7,_0x2200fb);}catch(_0x57261a){if(_0x57261a instanceof _0x5c1da3&&_0x57261a[_0x19c3a5(0x380)]===_0x5c1da3[_0x19c3a5(0x91b)]['InvalidSubscription'])return;}}[_0x3f1d19(0x49a)](_0x2d22de){const _0x354fdc=_0x3f1d19;switch(_0x2d22de[_0x354fdc(0x861)][_0x354fdc(0x8c9)]){case _0x4fb60c[_0x354fdc(0x746)]:this[_0x354fdc(0xb69)](_0x2d22de[_0x354fdc(0x634)],_0x2d22de[_0x354fdc(0x861)]);break;case _0x4fb60c['UnsubscribeMediaStream']:this[_0x354fdc(0xad2)][_0x354fdc(0x881)](_0x2d22de[_0x354fdc(0x634)],_0x2d22de[_0x354fdc(0x861)]);break;case _0x4fb60c['NeedMediaStream']:this[_0x354fdc(0xb48)](_0x2d22de[_0x354fdc(0x634)],_0x2d22de[_0x354fdc(0x861)]);break;case _0x4fb60c['RestartNeedMediaStream']:this['incomingManager'][_0x354fdc(0x50c)](_0x2d22de[_0x354fdc(0x634)],_0x2d22de[_0x354fdc(0x861)]);break;case _0x4fb60c[_0x354fdc(0x6fd)]:case _0x4fb60c['CannotProvideMediaStream']:this[_0x354fdc(0x665)][_0x354fdc(0x59f)](_0x2d22de[_0x354fdc(0x634)],_0x2d22de['content']);break;case _0x4fb60c[_0x354fdc(0x45a)]:this[_0x354fdc(0x665)][_0x354fdc(0x8dc)](_0x2d22de[_0x354fdc(0x634)],_0x2d22de[_0x354fdc(0x861)]);}}['handleContentSystemEvents'](_0x10a07e){const _0xa8e88c=_0x3f1d19;switch(_0x10a07e[_0xa8e88c(0x861)]['type']){case _0x65c889[_0xa8e88c(0x869)]:this[_0xa8e88c(0x665)][_0xa8e88c(0x469)](_0x10a07e[_0xa8e88c(0x861)]),this['outgoingManager'][_0xa8e88c(0x469)](_0x10a07e[_0xa8e88c(0x861)]);break;case _0x65c889['SubscribeMediaStream']:this['incomingManager'][_0xa8e88c(0x735)](_0x10a07e[_0xa8e88c(0x861)]);break;case _0x65c889['UpdateMediaStream']:this['incomingManager'][_0xa8e88c(0x602)](_0x10a07e[_0xa8e88c(0x861)]);break;case _0x65c889[_0xa8e88c(0xa11)]:this[_0xa8e88c(0x52e)](_0x10a07e[_0xa8e88c(0x634)],_0x10a07e[_0xa8e88c(0x861)]);break;case _0x65c889[_0xa8e88c(0x1f7)]:this[_0xa8e88c(0xad2)][_0xa8e88c(0x2a3)](_0x10a07e['content']);break;case _0x65c889['ClosePubSubTopic']:this['handleCloseContent'](_0x10a07e['content']['label'],_0x1c7ce5[_0xa8e88c(0x5a3)][_0xa8e88c(0xa1f)]);break;case _0x65c889[_0xa8e88c(0x1e2)]:this[_0xa8e88c(0x8e5)](_0x10a07e['content'][_0xa8e88c(0x792)],_0x1c7ce5[_0xa8e88c(0x5a3)][_0xa8e88c(0x3d6)]);break;case _0x65c889[_0xa8e88c(0x61b)]:this[_0xa8e88c(0x8e5)](_0x10a07e[_0xa8e88c(0x861)][_0xa8e88c(0x792)],_0x1c7ce5[_0xa8e88c(0x5a3)][_0xa8e88c(0xb1d)]);break;case _0x65c889[_0xa8e88c(0x5ff)]:this[_0xa8e88c(0x8e5)](_0x10a07e['content'][_0xa8e88c(0x792)],_0x1c7ce5[_0xa8e88c(0x5a3)][_0xa8e88c(0x7c8)]);break;case _0x65c889[_0xa8e88c(0x8c7)]:this[_0xa8e88c(0x8e5)](_0x10a07e[_0xa8e88c(0x861)][_0xa8e88c(0x792)],_0x1c7ce5[_0xa8e88c(0x5a3)][_0xa8e88c(0xa63)]);break;case _0x65c889['CloseGraphDatabase']:this['handleCloseContent'](_0x10a07e[_0xa8e88c(0x861)][_0xa8e88c(0x792)],_0x1c7ce5[_0xa8e88c(0x5a3)]['GraphDatabase']);break;case _0x65c889[_0xa8e88c(0x2c4)]:case _0x65c889[_0xa8e88c(0x27f)]:this['handleCloseContent'](_0x10a07e[_0xa8e88c(0x861)]['label'],_0x1c7ce5[_0xa8e88c(0x5a3)]['Job']);break;case _0x65c889[_0xa8e88c(0xa35)]:this[_0xa8e88c(0x665)][_0xa8e88c(0x4d8)](_0x10a07e[_0xa8e88c(0x861)]);}}['handleNodeSystemEvents']({content:_0x517bbf}){const _0x360569=_0x3f1d19;_0x517bbf[_0x360569(0x8c9)]===_0x2397e8[_0x360569(0x528)]&&this[_0x360569(0xa03)](_0x517bbf);}[_0x3f1d19(0x8c0)](_0x27e8fe){const _0x43b287=_0x3f1d19;_0x27e8fe[_0x43b287(0x861)]['type']===_0x57287b['OptimizationConnectionSuccess']&&this[_0x43b287(0x665)][_0x43b287(0x170)](_0x27e8fe[_0x43b287(0x634)]);}['handleContentUnsubscribeMediaStream'](_0x215337,_0x39e5c8){const _0x148341=_0x3f1d19;this[_0x148341(0x665)][_0x148341(0x52e)](_0x39e5c8),this[_0x148341(0xad2)][_0x148341(0x52e)](_0x215337,_0x39e5c8)[_0x148341(0xa0d)](_0x18d717=>this[_0x148341(0x8f2)][_0x148341(0x4f8)](_0x18d717));}[_0x3f1d19(0xb69)](_0x384f77,_0x15b876){const _0x2ce041=_0x3f1d19,_0x35682f=this[_0x2ce041(0xad2)]['handleSubscriptionSubscribeMediaStream'](_0x384f77,_0x15b876);if(_0x35682f&&(this[_0x2ce041(0x8f2)][_0x2ce041(0x4f8)]({'sourceId':this[_0x2ce041(0x1b8)][_0x2ce041(0x72c)][_0x2ce041(0x7be)](),'destinationIds':[_0x384f77],'messageType':_0x21fe4c[_0x2ce041(0x4b1)],'content':_0x35682f}),_0x35682f['type']===_0x4fb60c[_0x2ce041(0x7ab)]))throw new _0x5056a1(_0x2ce041(0x460));}[_0x3f1d19(0xb48)](_0x2bbf2b,_0x52cb01){const _0xdf7a51=_0x3f1d19,_0x5405a0=this['outgoingManager'][_0xdf7a51(0xb48)](_0x2bbf2b,_0x52cb01);this['systemTopic'][_0xdf7a51(0x4f8)]({'sourceId':this['configs'][_0xdf7a51(0x72c)]['getId'](),'destinationIds':[_0x2bbf2b],'messageType':_0x21fe4c['Subscription'],'content':_0x5405a0});}[_0x3f1d19(0x8e5)](_0x4770a6,_0x4da2bd){const _0x2fe89a=_0x3f1d19;this[_0x2fe89a(0x7fd)](_0x4770a6,_0x4da2bd),this[_0x2fe89a(0x3e2)](_0x4770a6,_0x4da2bd);}['removeSubscriptionsForNode']({id:_0x41d938}){const _0x1f2d2c=_0x3f1d19;this[_0x1f2d2c(0x665)][_0x1f2d2c(0xa03)](_0x41d938),this[_0x1f2d2c(0xad2)][_0x1f2d2c(0xa03)](_0x41d938);}}class _0x15cb99{[_0x3f1d19(0x792)];[_0x3f1d19(0x3af)]=_0x239c52();constructor(){const _0x347414=_0x3f1d19;this[_0x347414(0x792)]=0x0;}['getLabel'](){return this['label'];}[_0x3f1d19(0x200)](){const _0x359d87=_0x3f1d19;return _0x1c7ce5[_0x359d87(0x5a3)][_0x359d87(0x86e)];}[_0x3f1d19(0x13a)](_0x4075dd){const _0x5a20fd=_0x3f1d19;_0x4075dd[_0x5a20fd(0x819)](this);}[_0x3f1d19(0x485)](_0x1afdd4){const _0x3d0490=_0x3f1d19;_0x1afdd4[_0x3d0490(0x8ad)]();}[_0x3f1d19(0x4f8)](_0x1ba1ba){const _0x511eaf=_0x3f1d19;_0x576b91[_0x511eaf(0x279)](_0x419b0a[_0x511eaf(0x532)],'SystemTopic\x20publish',_0x1ba1ba['sourceId'],_0x1ba1ba),this[_0x511eaf(0x3af)][_0x511eaf(0x4f8)]({'topicLabel':this['label'],'contentType':_0x1c7ce5[_0x511eaf(0x5a3)]['Data'],'uuid':_0x1ba1ba[_0x511eaf(0x5d1)]??(0x0,_0x54796e['v4'])(),'recipients':_0x1ba1ba['recipients']??[],..._0x1ba1ba});}[_0x3f1d19(0x565)](_0x520eef){const _0x54b867=_0x3f1d19;return this[_0x54b867(0x3af)][_0x54b867(0x565)](_0x520eef);}}class _0x99ed96{[_0x3f1d19(0xa4f)];[_0x3f1d19(0x848)]=[];[_0x3f1d19(0x695)];[_0x3f1d19(0x31e)]=new Map();[_0x3f1d19(0x31a)]=_0x239c52();constructor(_0x3d3061){const _0x2f40d5=_0x3f1d19;this[_0x2f40d5(0xa4f)]=_0x3d3061,this['maxLayer']=(this[_0x2f40d5(0xa4f)]['maxConnections']-0x2*this[_0x2f40d5(0xa4f)][_0x2f40d5(0x846)])/0x2,this[_0x2f40d5(0x848)][_0x2f40d5(0x24b)]({'start':0x1,'end':this[_0x2f40d5(0x904)](0x1,0x1)-0x1});for(let _0x4ea0cb=0x0;_0x4ea0cb<this[_0x2f40d5(0x695)];++_0x4ea0cb)this[_0x2f40d5(0x848)][_0x2f40d5(0x24b)]({'start':this[_0x2f40d5(0x904)](0x1,_0x4ea0cb+0x1),'end':this[_0x2f40d5(0x904)](0x1,_0x4ea0cb+0x2)-0x1});}[_0x3f1d19(0x904)](_0x31b291,_0x3328c5=0x1){const _0x2cb3d6=_0x3f1d19;let _0x48aa25=this[_0x2cb3d6(0xa4f)][_0x2cb3d6(0x141)]-this['options'][_0x2cb3d6(0x846)],_0x4e11a4=0x1;for(let _0x114408=0x1;_0x114408<_0x3328c5;++_0x114408)_0x48aa25*=this[_0x2cb3d6(0xa4f)]['maxDistance']-this['options'][_0x2cb3d6(0x846)]-_0x114408,_0x4e11a4*=this[_0x2cb3d6(0xa4f)][_0x2cb3d6(0x141)]-this[_0x2cb3d6(0xa4f)][_0x2cb3d6(0x846)]-_0x114408+0x1;return _0x48aa25*this[_0x2cb3d6(0xa4f)][_0x2cb3d6(0x846)]+_0x31b291-_0x4e11a4;}[_0x3f1d19(0x9cd)](_0x1a3430){const _0xa8f3bf=_0x3f1d19;let _0x4f8a37=0x0;for(;this[_0xa8f3bf(0x848)][_0x4f8a37][_0xa8f3bf(0xa36)]<_0x1a3430;)_0x4f8a37+=0x1;return _0x4f8a37;}[_0x3f1d19(0x295)](){const _0x19b04c=_0x3f1d19;return this[_0x19b04c(0xa4f)][_0x19b04c(0x846)];}[_0x3f1d19(0xa04)](){const _0x496f93=_0x3f1d19;return this[_0x496f93(0xa4f)][_0x496f93(0x876)];}[_0x3f1d19(0x649)](){const _0x447b1d=_0x3f1d19;return this[_0x447b1d(0xa4f)][_0x447b1d(0x141)];}[_0x3f1d19(0x321)](){return this['remoteNodes'];}[_0x3f1d19(0x9c6)](_0x5f210c,_0x434545){const _0x14aaa0=_0x3f1d19;this[_0x14aaa0(0x31e)][_0x14aaa0(0xb36)](_0x5f210c,_0x434545),this['nodeUpdate'][_0x14aaa0(0x4f8)]();}[_0x3f1d19(0x9f1)](_0x37c8a6){const _0x17a036=_0x3f1d19;this[_0x17a036(0x31e)][_0x17a036(0x233)](_0x37c8a6),this[_0x17a036(0x31a)][_0x17a036(0x4f8)]();}[_0x3f1d19(0x246)](_0x1333a2){const _0x434770=_0x3f1d19;return this[_0x434770(0x31e)][_0x434770(0x1c3)](_0x1333a2);}['getRemoteNode'](_0x366879){const _0x48beb8=_0x3f1d19;return this[_0x48beb8(0x31e)][_0x48beb8(0x459)](_0x366879);}[_0x3f1d19(0x4d9)](_0x3e6913,_0x478b10){const _0x3cf7be=_0x3f1d19,_0x300942=this[_0x3cf7be(0x171)](_0x478b10)?.[_0x3cf7be(0xa5d)]()??0x0;return _0x3e6913[_0x3cf7be(0x865)](_0x29ddcf=>this['getRemoteNode'](_0x29ddcf))['filter'](_0x41b54c=>void 0x0!==_0x41b54c)[_0x3cf7be(0x62c)]((_0x3c5e10,_0x47f109)=>Math[_0x3cf7be(0x498)](_0x300942-(_0x3c5e10&&_0x3c5e10[_0x3cf7be(0xa5d)]()||0x1/0x0))-Math[_0x3cf7be(0x498)](_0x300942-(_0x47f109&&_0x47f109[_0x3cf7be(0xa5d)]()||0x1/0x0)))['map'](_0xb66cd6=>_0xb66cd6['getId']());}[_0x3f1d19(0x49c)](_0x1cbb92){const _0x12b2bd=_0x3f1d19;return this[_0x12b2bd(0x31a)][_0x12b2bd(0x565)](_0x1cbb92);}}class _0xc98873{[_0x3f1d19(0x3db)];[_0x3f1d19(0x7d9)];['authNode'];[_0x3f1d19(0xaea)];[_0x3f1d19(0xa4f)];[_0x3f1d19(0x1b8)];[_0x3f1d19(0x582)];[_0x3f1d19(0xaf5)];[_0x3f1d19(0x27e)];[_0x3f1d19(0x8e6)];[_0x3f1d19(0x534)];[_0x3f1d19(0x1d1)];[_0x3f1d19(0x8f6)];[_0x3f1d19(0xb1f)];[_0x3f1d19(0x1d6)];[_0x3f1d19(0x8f2)]=new _0x15cb99();[_0x3f1d19(0x39d)];[_0x3f1d19(0x72c)];constructor(_0x1a6baf,_0x1538b2,_0xa75ead,_0x3f964e,_0x5977d8,_0x551886,_0x284614){const _0x24e4b3=_0x3f1d19;switch(this[_0x24e4b3(0x3db)]=_0x1a6baf,this[_0x24e4b3(0x7d9)]=_0x1538b2,this[_0x24e4b3(0x726)]=_0xa75ead,this[_0x24e4b3(0xaea)]=_0x3f964e,this[_0x24e4b3(0xa4f)]=_0x5977d8,this[_0x24e4b3(0x1b8)]=_0x551886,this[_0x24e4b3(0x582)]=_0x284614,_0xa75ead['type']){case _0x1c7ce5[_0x24e4b3(0x77d)][_0x24e4b3(0x596)]:this[_0x24e4b3(0x72c)]=new _0x1eb99a(_0xa75ead['getId'](),_0xa75ead[_0x24e4b3(0xa78)](),_0xa75ead[_0x24e4b3(0x256)]());break;case _0x1c7ce5['NodeType'][_0x24e4b3(0x2de)]:default:this['localNode']=new _0x3c77d3(_0xa75ead[_0x24e4b3(0x7be)]());}const _0x586113=this['getConfigs']();this[_0x24e4b3(0x1d6)]=new _0x99ed96(this[_0x24e4b3(0xa4f)]),this[_0x24e4b3(0xaf5)]=new _0x5ec3d5(_0x586113,this[_0x24e4b3(0xa4f)]),this['connectionManager']=new _0x5847bd(_0x586113,this[_0x24e4b3(0xaea)],this['graphService'],this[_0x24e4b3(0x1b8)][_0x24e4b3(0x61a)],this[_0x24e4b3(0xa4f)]),this[_0x24e4b3(0x8e6)]=new _0x1dd5d5(_0x586113,this[_0x24e4b3(0xa4f)]['maxOutgoingSubscriptions'],this[_0x24e4b3(0x1d6)]['getMaxDistance']()),this[_0x24e4b3(0x534)]=new _0xc7fb65(_0x586113),this[_0x24e4b3(0x1d1)]=new _0x2a52e6(_0x586113),this['remediationManager']=new _0x517dd6(_0x586113),this[_0x24e4b3(0xb1f)]=new _0x3e3297(_0x586113,this['graphService']),this[_0x24e4b3(0x39d)]=this[_0x24e4b3(0x67f)]();}[_0x3f1d19(0xada)](){const _0x2e9c62=_0x3f1d19,_0x274c1a=this[_0x2e9c62(0x3e4)]();this[_0x2e9c62(0x27e)]=new _0x5847bd(_0x274c1a,this[_0x2e9c62(0xaea)],this[_0x2e9c62(0x1d6)],this['configs'][_0x2e9c62(0x61a)],this[_0x2e9c62(0xa4f)]),this['subscriptionManager']=new _0x1dd5d5(_0x274c1a,this[_0x2e9c62(0xa4f)][_0x2e9c62(0x8b3)],this[_0x2e9c62(0x1d6)]['getMaxDistance']()),this[_0x2e9c62(0x534)]=new _0xc7fb65(_0x274c1a),this[_0x2e9c62(0x1d1)]=new _0x2a52e6(_0x274c1a),this[_0x2e9c62(0x8f6)]=new _0x517dd6(_0x274c1a),this[_0x2e9c62(0xb1f)]=new _0x3e3297(_0x274c1a,this[_0x2e9c62(0x1d6)]);const _0x5c04e1=this['connectionManager'][_0x2e9c62(0x33b)]();this[_0x2e9c62(0xaf5)][_0x2e9c62(0x429)]()[_0x2e9c62(0xa0d)](_0x59b4cb=>{const _0x4c7373=_0x2e9c62;this[_0x4c7373(0x8e6)][_0x4c7373(0x9c5)](_0x59b4cb,_0x5c04e1),this[_0x4c7373(0x8e6)]['createIncomingSubscription'](_0x5c04e1,_0x59b4cb),_0x59b4cb['reset']();}),this[_0x2e9c62(0xaf5)]['getObjectStoreBuckets']()[_0x2e9c62(0xa0d)](_0x272091=>{const _0x1b4253=_0x2e9c62;this['subscriptionManager'][_0x1b4253(0x9c5)](_0x272091,_0x5c04e1),this[_0x1b4253(0x8e6)]['createIncomingSubscription'](_0x5c04e1,_0x272091),_0x272091['reset'](),_0x272091[_0x1b4253(0x4ce)]();}),this[_0x2e9c62(0xaf5)][_0x2e9c62(0x6ee)]()[_0x2e9c62(0xa0d)](_0xa229f9=>{const _0x1d7593=_0x2e9c62;this[_0x1d7593(0x8e6)]['createOutgoingSubscription'](_0xa229f9,_0x5c04e1),this[_0x1d7593(0x8e6)][_0x1d7593(0x747)](_0x5c04e1,_0xa229f9),_0xa229f9['reset'](),this[_0x1d7593(0x2c7)](_0xa229f9);}),this['contentManager'][_0x2e9c62(0x94f)]()[_0x2e9c62(0xa0d)](_0x179131=>{const _0x5900ef=_0x2e9c62;this[_0x5900ef(0x8e6)][_0x5900ef(0x9c5)](_0x179131,_0x5c04e1),this[_0x5900ef(0x8e6)][_0x5900ef(0x747)](_0x5c04e1,_0x179131),_0x179131['reset']();}),this[_0x2e9c62(0xaf5)]['getJobWorkers']()[_0x2e9c62(0xa0d)](_0x22588c=>{const _0x34a2f8=_0x2e9c62;this['subscriptionManager'][_0x34a2f8(0x9c5)](_0x22588c,_0x5c04e1),this[_0x34a2f8(0x8e6)][_0x34a2f8(0x747)](_0x5c04e1,_0x22588c),_0x22588c[_0x34a2f8(0xa91)]();}),this['contentManager']['getVectorDatabases']()[_0x2e9c62(0xa0d)](_0xd6e24e=>{const _0x1fcd2e=_0x2e9c62;this[_0x1fcd2e(0x8e6)][_0x1fcd2e(0x9c5)](_0xd6e24e,_0x5c04e1),this[_0x1fcd2e(0x8e6)][_0x1fcd2e(0x747)](_0x5c04e1,_0xd6e24e),_0xd6e24e[_0x1fcd2e(0xa91)]();}),this['contentManager']['getGraphDatabases']()[_0x2e9c62(0xa0d)](_0x4eeab4=>{const _0x8ae623=_0x2e9c62;this[_0x8ae623(0x8e6)][_0x8ae623(0x9c5)](_0x4eeab4,_0x5c04e1),this[_0x8ae623(0x8e6)][_0x8ae623(0x747)](_0x5c04e1,_0x4eeab4),_0x4eeab4[_0x8ae623(0xa91)]();}),this[_0x2e9c62(0x39d)]=this[_0x2e9c62(0x67f)]();}[_0x3f1d19(0x213)](_0x4a4b16){const _0x4c735b=_0x3f1d19;try{this[_0x4c735b(0x8f2)][_0x4c735b(0x13a)](_0x4a4b16);}catch(_0x47fdef){this[_0x4c735b(0x5b9)](_0x47fdef,{});}}[_0x3f1d19(0x2e9)](_0x12d5a0){const _0x20ac4c=_0x3f1d19;try{this[_0x20ac4c(0x8f2)]['unregisterSource'](_0x12d5a0);}catch(_0x5a0d4e){this[_0x20ac4c(0x5b9)](_0x5a0d4e,{});}}[_0x3f1d19(0x422)](_0x4e5a8e,_0x2b6b68){const _0x34f238=_0x3f1d19;return this[_0x34f238(0x27e)]['createConnection'](_0x4e5a8e,_0x2b6b68);}['getConnection'](_0x4f4f37){const _0x4c058e=_0x3f1d19;try{return this[_0x4c058e(0x27e)][_0x4c058e(0x4c5)](_0x4f4f37);}catch(_0x2bd4ce){throw this['handleError'](_0x2bd4ce,{});}}[_0x3f1d19(0x491)](_0x10d7cd){const _0x151708=_0x3f1d19;try{return this[_0x151708(0x27e)][_0x151708(0x491)](_0x10d7cd);}catch(_0x1b3364){throw this['handleError'](_0x1b3364,{});}}[_0x3f1d19(0x538)](_0x2bdaeb,_0x13beab){const _0x26f44e=_0x3f1d19;try{return this[_0x26f44e(0xaf5)][_0x26f44e(0x1c8)](_0x2c5ff1=>_0x2c5ff1[_0x26f44e(0xb5e)]()===_0x2bdaeb&&_0x2c5ff1[_0x26f44e(0x897)]()===_0x13beab)[0x0];}catch(_0x264ea9){throw this['handleError'](_0x264ea9,{});}}[_0x3f1d19(0x338)](_0x4b403a){const _0x291a45=_0x3f1d19;try{return this['contentManager'][_0x291a45(0x395)](_0x42565c=>_0x42565c[_0x291a45(0x897)]()===_0x4b403a)[0x0];}catch(_0x2f2498){throw this[_0x291a45(0x5b9)](_0x2f2498,{});}}[_0x3f1d19(0x874)]=(..._0x2318c0)=>{const _0x1e492c=_0x3f1d19;try{return this[_0x1e492c(0x582)][_0x1e492c(0x995)](..._0x2318c0);}catch(_0x2d9902){throw this[_0x1e492c(0x5b9)](_0x2d9902,{});}};[_0x3f1d19(0x18b)](_0x356f38){const _0x28c1f8=_0x3f1d19;try{this['statsManager']['addRemoteNode'](_0x356f38);}catch(_0x261f20){throw this[_0x28c1f8(0x5b9)](_0x261f20,{});}}['unregisterRemoteNode'](_0x1c6d03){const _0x53e215=_0x3f1d19;try{this[_0x53e215(0x534)]['removeRemoteNode'](_0x1c6d03);}catch(_0x44a0d0){throw this[_0x53e215(0x5b9)](_0x44a0d0,{});}}[_0x3f1d19(0x77f)](_0x2f43cc){return this['connectionManager']['collectStats'](_0x2f43cc);}async[_0x3f1d19(0x6e3)](){const _0x5deb93=_0x3f1d19;try{await this[_0x5deb93(0x27e)][_0x5deb93(0x6e3)]();const _0x233edd=await this[_0x5deb93(0xb1f)][_0x5deb93(0x7cf)]();for(const _0x50c1dc of _0x233edd)this[_0x5deb93(0x27e)][_0x5deb93(0x422)](_0x50c1dc);}catch(_0x458081){throw this[_0x5deb93(0x5b9)](_0x458081,{});}}[_0x3f1d19(0x907)](_0x3bd7bc){const _0x183852=_0x3f1d19;this[_0x183852(0x72c)][_0x183852(0x8c9)]===_0x1c7ce5[_0x183852(0x77d)]['User']&&(this[_0x183852(0x72c)][_0x183852(0xab8)](_0x3bd7bc[_0x183852(0x256)]()),this[_0x183852(0x72c)][_0x183852(0x2b0)](_0x3bd7bc[_0x183852(0xa78)]()));}[_0x3f1d19(0x87b)]({force:_0x50eabf=!0x1},_0x2c6e99=!0x1){const _0x5d88ed=_0x3f1d19;if(_0x576b91[_0x5d88ed(0x7f4)]('orchestrator-close',{'clusterId':this[_0x5d88ed(0x7d9)],'nodeId':this[_0x5d88ed(0x72c)][_0x5d88ed(0x7be)](),'nodeType':this[_0x5d88ed(0x72c)][_0x5d88ed(0x8c9)]}),!_0x50eabf&&this[_0x5d88ed(0x27e)][_0x5d88ed(0x9f2)]())throw new _0x122c6c(_0x26fc1d[_0x5d88ed(0x5d6)],_0x5d88ed(0xa73));_0x576b91[_0x5d88ed(0x7c3)](),this['systemTopicUnsubscribe'](),this[_0x5d88ed(0x8f6)]['close'](),this['detectionManager']['close'](),this[_0x5d88ed(0x534)][_0x5d88ed(0x87b)](),this['subscriptionManager'][_0x5d88ed(0x87b)](),this[_0x5d88ed(0x27e)][_0x5d88ed(0x87b)](),this[_0x5d88ed(0xaf5)][_0x5d88ed(0x87b)](_0x2c6e99),this[_0x5d88ed(0xb1f)]['close']();}['openPubSubTopic'](_0x4ed300){const _0xce74c7=_0x3f1d19;try{const _0x29854d=this[_0xce74c7(0xaf5)][_0xce74c7(0x652)](_0x4ed300),_0x575cd7=this[_0xce74c7(0x27e)][_0xce74c7(0x33b)]();return this[_0xce74c7(0x8e6)][_0xce74c7(0x9c5)](_0x29854d,_0x575cd7),this['subscriptionManager'][_0xce74c7(0x747)](_0x575cd7,_0x29854d),_0x29854d;}catch(_0x5cc026){throw this[_0xce74c7(0x5b9)](_0x5cc026,{});}}async['openObjectStoreBucket'](_0x4a5898,_0x5e157e){const _0x5de858=_0x3f1d19;try{const _0x1f89a8=this[_0x5de858(0xaf5)][_0x5de858(0x885)](_0x4a5898,this[_0x5de858(0xa4f)][_0x5de858(0x957)],_0x5e157e),_0x1a467d=this[_0x5de858(0x27e)][_0x5de858(0x33b)]();return this[_0x5de858(0x8e6)][_0x5de858(0x9c5)](_0x1f89a8,_0x1a467d),this[_0x5de858(0x8e6)][_0x5de858(0x747)](_0x1a467d,_0x1f89a8),await _0x1f89a8[_0x5de858(0x4ce)](),_0x1f89a8;}catch(_0x1fd4e2){throw this[_0x5de858(0x5b9)](_0x1fd4e2,{});}}async[_0x3f1d19(0x47e)](_0x2826eb,_0x4304f1){const _0x5dfd54=_0x3f1d19;try{if(!this[_0x5dfd54(0xa4f)][_0x5dfd54(0x5fd)])throw new _0x122c6c(_0x26fc1d[_0x5dfd54(0x780)],_0x5dfd54(0x7c2));if(!(this[_0x5dfd54(0x726)]instanceof _0x206519))throw new _0x122c6c(_0x26fc1d[_0x5dfd54(0x2ae)],_0x5dfd54(0x23a));const _0xf20a4e=this['options'][_0x5dfd54(0x5fd)]['get'](_0x4304f1);if(!_0xf20a4e)throw new _0x122c6c(_0x26fc1d[_0x5dfd54(0x780)],_0x5dfd54(0x7c2));const _0x324228=this[_0x5dfd54(0xaf5)][_0x5dfd54(0x47c)](_0x2826eb,_0xf20a4e),_0x28f55d=this[_0x5dfd54(0x27e)]['getConnectionGroup']();return this[_0x5dfd54(0x8e6)]['createOutgoingSubscription'](_0x324228,_0x28f55d),this[_0x5dfd54(0x8e6)][_0x5dfd54(0x747)](_0x28f55d,_0x324228),await _0x324228['open'](),_0x324228;}catch(_0x4978c9){throw this['handleError'](_0x4978c9,{});}}async[_0x3f1d19(0x14e)](_0x2a156a,_0x4aa277,_0x355130){const _0x4cd752=_0x3f1d19;try{_0x355130=_0x355130||this['options'][_0x4cd752(0x9a3)];const _0x463ade=await this[_0x4cd752(0xaf5)][_0x4cd752(0x288)](_0x2a156a,_0x4aa277,_0x355130),_0x51f43b=this[_0x4cd752(0x27e)][_0x4cd752(0x33b)]();return this[_0x4cd752(0x8e6)][_0x4cd752(0x9c5)](_0x463ade,_0x51f43b),this['subscriptionManager'][_0x4cd752(0x747)](_0x51f43b,_0x463ade),await _0x463ade['open'](),this['syncKeyValueDatabase'](_0x463ade),_0x463ade;}catch(_0x87a381){throw this[_0x4cd752(0x5b9)](_0x87a381,{});}}async[_0x3f1d19(0x852)](_0x499995){const _0x100672=_0x3f1d19;try{const _0x574846=await this['contentManager'][_0x100672(0x2e8)](_0x499995,this[_0x100672(0x1d6)]),_0x572be0=this['connectionManager'][_0x100672(0x33b)]();return this['subscriptionManager'][_0x100672(0x9c5)](_0x574846,_0x572be0),this[_0x100672(0x8e6)]['createIncomingSubscription'](_0x572be0,_0x574846),_0x574846[_0x100672(0xada)](),_0x574846;}catch(_0x284d73){throw this[_0x100672(0x5b9)](_0x284d73,{});}}async[_0x3f1d19(0x787)](_0xe290d8){const _0x28015c=_0x3f1d19;throw new Error(_0x28015c(0x309));}async[_0x3f1d19(0x525)](_0x36bb67){const _0x15e0c6=_0x3f1d19;try{const _0x557731=await this[_0x15e0c6(0xaf5)][_0x15e0c6(0x562)](_0x36bb67,this[_0x15e0c6(0x1d6)]),_0x71f7e7=this[_0x15e0c6(0x27e)][_0x15e0c6(0x33b)]();return this[_0x15e0c6(0x8e6)][_0x15e0c6(0x9c5)](_0x557731,_0x71f7e7),this[_0x15e0c6(0x8e6)]['createIncomingSubscription'](_0x71f7e7,_0x557731),_0x557731[_0x15e0c6(0xada)](),_0x557731;}catch(_0x4d022b){throw console[_0x15e0c6(0x9e0)](_0x4d022b),this[_0x15e0c6(0x5b9)](_0x4d022b,{});}}async[_0x3f1d19(0x4e0)](_0x32fb07){const _0xdd2247=_0x3f1d19;try{if(!(this['options'][_0xdd2247(0x9f5)]&&this[_0xdd2247(0xa4f)]['generativeAISpeechConnectors']&&this[_0xdd2247(0xa4f)][_0xdd2247(0xa6b)]&&this['options'][_0xdd2247(0xabc)]&&this[_0xdd2247(0xa4f)][_0xdd2247(0x1fa)]))throw new _0x122c6c(_0x26fc1d['GenerativeAIWorkerMissingConnector'],'Missing\x20AI\x20worker\x20connector');if(!this[_0xdd2247(0x1b8)][_0xdd2247(0x6fc)])throw new _0x122c6c(_0x26fc1d[_0xdd2247(0x4c9)],_0xdd2247(0x9c3));const _0x43412c=[];for(const [_0x2c0fa8,_0x1b4250]of this['options'][_0xdd2247(0x9f5)]){let _0xb3f228;_0x2c0fa8===_0x1c7ce5[_0xdd2247(0xb5c)][_0xdd2247(0x4ea)]&&(_0xb3f228=this['configs'][_0xdd2247(0x6fc)]),_0x2c0fa8===_0x1c7ce5['GenerativeAIEngineType'][_0xdd2247(0x274)]&&(_0xb3f228=this[_0xdd2247(0x1b8)][_0xdd2247(0x40f)]),_0x43412c[_0xdd2247(0x24b)](new _0x1b4250(_0xb3f228));}const _0x2a6452=[];for(const [_0x4570a4,_0x21eef7]of this[_0xdd2247(0xa4f)][_0xdd2247(0x501)]){let _0x162e80;_0x4570a4===_0x1c7ce5[_0xdd2247(0xb5c)][_0xdd2247(0x4ea)]&&(_0x162e80=this[_0xdd2247(0x1b8)]['openaiApiKey']),_0x2a6452['push'](new _0x21eef7(_0x162e80));}const _0x363238=new this[(_0xdd2247(0xa4f))][(_0xdd2247(0x957))](_0xdd2247(0x712)),_0x103035=new this[(_0xdd2247(0xa4f))]['documentParserConnector'](),_0x2331db=new this[(_0xdd2247(0xa4f))][(_0xdd2247(0xabc))](this[_0xdd2247(0x1b8)][_0xdd2247(0x6fc)]),_0x33b444=new this[(_0xdd2247(0xa4f))]['nlpLibraryConnector']();let _0x1684e5,_0x1aae2e,_0x26f337,_0xeed627;if(this[_0xdd2247(0xa4f)][_0xdd2247(0x222)]){if(!this[_0xdd2247(0x1b8)][_0xdd2247(0x4ba)])throw new _0x122c6c(_0x26fc1d['ApiKeyMissing'],'Missing\x20search\x20API\x20key');_0x1684e5=new this[(_0xdd2247(0xa4f))][(_0xdd2247(0x222))](this[_0xdd2247(0x1b8)]['searchApiKey']);}if(this['options']['aiSearchConnector']){if(!this[_0xdd2247(0x1b8)][_0xdd2247(0x17e)])throw new _0x122c6c(_0x26fc1d[_0xdd2247(0x4c9)],_0xdd2247(0x4e5));_0x1aae2e=new this[(_0xdd2247(0xa4f))][(_0xdd2247(0x7f3))](this[_0xdd2247(0x1b8)][_0xdd2247(0x17e)]);}if(this[_0xdd2247(0xa4f)][_0xdd2247(0x83f)]&&(_0x26f337=new this[(_0xdd2247(0xa4f))][(_0xdd2247(0x83f))]()),this['options'][_0xdd2247(0x7e2)]){if(!this['configs'][_0xdd2247(0x95e)])throw new _0x122c6c(_0x26fc1d[_0xdd2247(0x4c9)],_0xdd2247(0x739));_0xeed627=new Map();for(const [_0x1660da,_0x14b3d1]of this[_0xdd2247(0xa4f)][_0xdd2247(0x7e2)])_0xeed627[_0xdd2247(0xb36)](_0x1660da,new _0x14b3d1(this[_0xdd2247(0x1b8)][_0xdd2247(0x95e)]));}return await this[_0xdd2247(0xaf5)][_0xdd2247(0x56f)](_0x32fb07,_0x43412c,_0x2a6452,_0x363238,_0x103035,_0x2331db,_0x33b444,_0x1684e5,_0x1aae2e,_0x26f337,_0xeed627,this[_0xdd2247(0x1b8)][_0xdd2247(0x6fc)]);}catch(_0x23e078){throw this['handleError'](_0x23e078,{});}}async['openGenerativeAIWorker'](_0x4d25a6){const _0x5f16b7=_0x3f1d19;try{if(!(this[_0x5f16b7(0xa4f)]['generativeAIWorkerConnectors']&&this[_0x5f16b7(0xa4f)][_0x5f16b7(0x501)]&&this[_0x5f16b7(0xa4f)][_0x5f16b7(0xa6b)]&&this[_0x5f16b7(0xa4f)][_0x5f16b7(0xabc)]&&this[_0x5f16b7(0xa4f)][_0x5f16b7(0x1fa)]))throw new _0x122c6c(_0x26fc1d['GenerativeAIWorkerMissingConnector'],_0x5f16b7(0x9cc));if(!(this['authNode']instanceof _0x206519))throw new _0x122c6c(_0x26fc1d[_0x5f16b7(0x2ae)],'Node\x20is\x20not\x20an\x20agent');if(!this[_0x5f16b7(0x1b8)][_0x5f16b7(0x6fc)])throw new _0x122c6c(_0x26fc1d[_0x5f16b7(0x4c9)],_0x5f16b7(0x9c3));const _0x5e3e4e=[];for(const [_0x1fa467,_0x105aff]of this[_0x5f16b7(0xa4f)][_0x5f16b7(0x9f5)]){let _0x346db1;_0x1fa467===_0x1c7ce5[_0x5f16b7(0xb5c)][_0x5f16b7(0x4ea)]&&(_0x346db1=this[_0x5f16b7(0x1b8)][_0x5f16b7(0x6fc)]),_0x1fa467===_0x1c7ce5[_0x5f16b7(0xb5c)][_0x5f16b7(0x274)]&&(_0x346db1=this['configs']['anthropicApiKey']),_0x5e3e4e[_0x5f16b7(0x24b)](new _0x105aff(_0x346db1));}const _0x2f3b4d=[];for(const [_0x286783,_0x52d411]of this['options'][_0x5f16b7(0x501)]){let _0x2b1794;_0x286783===_0x1c7ce5[_0x5f16b7(0xb5c)]['OpenAI']&&(_0x2b1794=this[_0x5f16b7(0x1b8)][_0x5f16b7(0x6fc)]),_0x2f3b4d[_0x5f16b7(0x24b)](new _0x52d411(_0x2b1794));}const _0x2b3f6c=new this[(_0x5f16b7(0xa4f))][(_0x5f16b7(0x957))](_0x5f16b7(0x712)),_0x5717a0=new this[(_0x5f16b7(0xa4f))][(_0x5f16b7(0xa6b))](),_0x5c38e4=new this[(_0x5f16b7(0xa4f))][(_0x5f16b7(0xabc))](this['configs'][_0x5f16b7(0x6fc)]),_0x44b27f=new this[(_0x5f16b7(0xa4f))][(_0x5f16b7(0x1fa))]();let _0x29904f,_0x3ea050,_0x4eefc5,_0x204e37;if(this[_0x5f16b7(0xa4f)][_0x5f16b7(0x222)]){if(!this[_0x5f16b7(0x1b8)][_0x5f16b7(0x4ba)])throw new _0x122c6c(_0x26fc1d[_0x5f16b7(0x4c9)],_0x5f16b7(0x9bc));_0x29904f=new this[(_0x5f16b7(0xa4f))]['searchConnector'](this['configs'][_0x5f16b7(0x4ba)]);}if(this[_0x5f16b7(0xa4f)]['aiSearchConnector']){if(!this[_0x5f16b7(0x1b8)][_0x5f16b7(0x17e)])throw new _0x122c6c(_0x26fc1d['ApiKeyMissing'],_0x5f16b7(0x4e5));_0x3ea050=new this[(_0x5f16b7(0xa4f))]['aiSearchConnector'](this[_0x5f16b7(0x1b8)][_0x5f16b7(0x17e)]);}if(this[_0x5f16b7(0xa4f)][_0x5f16b7(0x83f)]&&(_0x4eefc5=new this[(_0x5f16b7(0xa4f))][(_0x5f16b7(0x83f))]()),this[_0x5f16b7(0xa4f)][_0x5f16b7(0x7e2)]){if(!this[_0x5f16b7(0x1b8)][_0x5f16b7(0x95e)])throw new _0x122c6c(_0x26fc1d[_0x5f16b7(0x4c9)],_0x5f16b7(0x739));_0x204e37=new Map();for(const [_0x2ea8d4,_0x5a425e]of this[_0x5f16b7(0xa4f)][_0x5f16b7(0x7e2)])_0x204e37[_0x5f16b7(0xb36)](_0x2ea8d4,new _0x5a425e(this[_0x5f16b7(0x1b8)][_0x5f16b7(0x95e)]));}const _0xabb7f3=await this[_0x5f16b7(0xaf5)][_0x5f16b7(0x72b)](_0x4d25a6,this['authNode'],_0x5e3e4e,_0x2f3b4d,_0x2b3f6c,_0x5717a0,_0x5c38e4,_0x44b27f,_0x29904f,_0x3ea050,_0x4eefc5,_0x204e37,this['configs']['openaiApiKey']),_0x58a4bf=this[_0x5f16b7(0x27e)][_0x5f16b7(0x33b)]();this['subscriptionManager'][_0x5f16b7(0x9c5)](_0xabb7f3,_0x58a4bf),this[_0x5f16b7(0x8e6)]['createIncomingSubscription'](_0x58a4bf,_0xabb7f3);const _0x6099f7=this[_0x5f16b7(0xb1f)][_0x5f16b7(0x728)]();return await _0xabb7f3['open'](0x0===_0x6099f7[_0x5f16b7(0x744)]||void 0x0),_0xabb7f3;}catch(_0x4f57c0){throw this[_0x5f16b7(0x5b9)](_0x4f57c0,{});}}['openGraphDatabase'](_0x373ba9){const _0x15ee26=_0x3f1d19;try{if(!this['options'][_0x15ee26(0x364)])throw new _0x122c6c(_0x26fc1d[_0x15ee26(0x66f)],_0x15ee26(0x2a4));if(!(this['authNode']instanceof _0x206519))throw new _0x122c6c(_0x26fc1d['NodeInvalidType'],_0x15ee26(0x23a));const _0x41ab6e=this[_0x15ee26(0xaf5)][_0x15ee26(0x9dd)](_0x373ba9,this['options'][_0x15ee26(0x364)]),_0x31a9df=this[_0x15ee26(0x27e)][_0x15ee26(0x33b)]();return this[_0x15ee26(0x8e6)][_0x15ee26(0x9c5)](_0x41ab6e,_0x31a9df),this[_0x15ee26(0x8e6)][_0x15ee26(0x747)](_0x31a9df,_0x41ab6e),_0x41ab6e;}catch(_0x581b6b){throw this[_0x15ee26(0x5b9)](_0x581b6b,{});}}[_0x3f1d19(0x7fb)](_0x1d2657){const _0x24f798=_0x3f1d19;try{if(!this[_0x24f798(0xa4f)][_0x24f798(0x5df)])throw new _0x122c6c(_0x26fc1d[_0x24f798(0xa8d)],_0x24f798(0x299));if(!(this[_0x24f798(0x726)]instanceof _0x206519))throw new _0x122c6c(_0x26fc1d[_0x24f798(0x2ae)],'Node\x20is\x20not\x20an\x20agent');const _0x391ee3=this[_0x24f798(0xaf5)][_0x24f798(0xa5a)](_0x1d2657,this['options'][_0x24f798(0x5df)]),_0x455ab1=this['connectionManager'][_0x24f798(0x33b)]();return this[_0x24f798(0x8e6)]['createOutgoingSubscription'](_0x391ee3,_0x455ab1),this[_0x24f798(0x8e6)]['createIncomingSubscription'](_0x455ab1,_0x391ee3),_0x391ee3;}catch(_0x19713e){throw this[_0x24f798(0x5b9)](_0x19713e,{});}}['getPubSubTopics'](_0x50aa47){const _0x4609dc=_0x3f1d19;try{return this[_0x4609dc(0xaf5)][_0x4609dc(0x429)](_0x50aa47);}catch(_0x14d4ed){throw this[_0x4609dc(0x5b9)](_0x14d4ed,{});}}[_0x3f1d19(0x54a)](_0x5b3cc4){const _0x25a669=_0x3f1d19;try{return this['contentManager'][_0x25a669(0x54a)](_0x5b3cc4);}catch(_0x4a55fa){throw this[_0x25a669(0x5b9)](_0x4a55fa,{});}}[_0x3f1d19(0x853)](_0x4bae5c){const _0x51883a=_0x3f1d19;try{return this[_0x51883a(0xaf5)][_0x51883a(0x853)](_0x4bae5c);}catch(_0xaa7eea){throw this[_0x51883a(0x5b9)](_0xaa7eea,{});}}[_0x3f1d19(0x6ee)](_0x3d9655){const _0x256987=_0x3f1d19;try{return this[_0x256987(0xaf5)][_0x256987(0x6ee)](_0x3d9655);}catch(_0x4d2c76){throw this['handleError'](_0x4d2c76,{});}}[_0x3f1d19(0x5cb)](_0x5f5bd3){const _0x25bc7e=_0x3f1d19;try{return this[_0x25bc7e(0xaf5)]['getGenerativeAIContexts'](_0x5f5bd3);}catch(_0x326dcc){throw this[_0x25bc7e(0x5b9)](_0x326dcc,{});}}['getGenerativeAIContextsStandalone'](_0x2d1f16){const _0x3c566a=_0x3f1d19;try{return this[_0x3c566a(0xaf5)][_0x3c566a(0x560)](_0x2d1f16);}catch(_0x285490){throw this[_0x3c566a(0x5b9)](_0x285490,{});}}[_0x3f1d19(0x4d1)](_0x3f232b){try{return this['contentManager']['getGenerativeAIWorkers'](_0x3f232b);}catch(_0x233edf){throw this['handleError'](_0x233edf,{});}}[_0x3f1d19(0xb23)](_0x563028){const _0x341bf6=_0x3f1d19;try{return this[_0x341bf6(0xaf5)][_0x341bf6(0xb23)](_0x563028);}catch(_0x53310d){throw this[_0x341bf6(0x5b9)](_0x53310d,{});}}[_0x3f1d19(0x948)](_0x300033,_0x29a554){const _0xe1681c=_0x3f1d19;if(!this[_0xe1681c(0x1b8)][_0xe1681c(0x94d)]['includes'](_0x59e87c[_0xe1681c(0x4e4)]))throw new _0x122c6c(_0x26fc1d[_0xe1681c(0x6fa)],_0xe1681c(0x3f3));try{return this['contentManager'][_0xe1681c(0x948)](_0x300033,_0x29a554);}catch(_0x58b183){throw this[_0xe1681c(0x5b9)](_0x58b183,{});}}[_0x3f1d19(0x3bf)](_0x5cc418,_0x542d09){const _0x31ef7c=_0x3f1d19;if(!this['configs']['features'][_0x31ef7c(0xb4d)](_0x59e87c[_0x31ef7c(0x4e4)]))throw new _0x122c6c(_0x26fc1d[_0x31ef7c(0x6fa)],_0x31ef7c(0x3f3));try{return this[_0x31ef7c(0xaf5)][_0x31ef7c(0x3bf)](_0x5cc418,_0x542d09);}catch(_0x1a5595){throw this[_0x31ef7c(0x5b9)](_0x1a5595,{});}}[_0x3f1d19(0x395)](_0x5bdd0f){const _0x12b08f=_0x3f1d19;if(!this['configs']['features'][_0x12b08f(0xb4d)](_0x59e87c[_0x12b08f(0x4e4)]))throw new _0x122c6c(_0x26fc1d[_0x12b08f(0x6fa)],_0x12b08f(0x3f3));try{return this[_0x12b08f(0xaf5)]['getLocalMediaStreams'](_0x5bdd0f);}catch(_0x53103a){throw this['handleError'](_0x53103a,{});}}[_0x3f1d19(0x1c8)](_0x46a0b6){const _0x11a102=_0x3f1d19;if(!this[_0x11a102(0x1b8)][_0x11a102(0x94d)][_0x11a102(0xb4d)](_0x59e87c[_0x11a102(0x4e4)]))throw new _0x122c6c(_0x26fc1d[_0x11a102(0x6fa)],_0x11a102(0x3f3));try{return this[_0x11a102(0xaf5)]['getRemoteMediaStreams'](_0x46a0b6);}catch(_0x355a0c){throw this[_0x11a102(0x5b9)](_0x355a0c,{});}}[_0x3f1d19(0x38e)](_0x118408){const _0x490af5=_0x3f1d19;try{return this['contentManager'][_0x490af5(0x38e)](_0x118408);}catch(_0x92d675){throw this['handleError'](_0x92d675,{});}}['getDistance'](_0x1c4269,_0x119157){const _0x392627=_0x3f1d19;return this['nodeManager'][_0x392627(0x553)](_0x1c4269,_0x119157);}[_0x3f1d19(0x5a9)](){const _0x1317c5=_0x3f1d19;return this[_0x1317c5(0xb1f)][_0x1317c5(0x5a9)]();}[_0x3f1d19(0x321)](_0x2364a1){const _0xe333a1=_0x3f1d19;try{return this[_0xe333a1(0xb1f)][_0xe333a1(0x321)](_0x2364a1);}catch(_0x422691){throw this[_0xe333a1(0x5b9)](_0x422691,{});}}[_0x3f1d19(0x52a)](){const _0x3029a5=_0x3f1d19;return this[_0x3029a5(0x27e)][_0x3029a5(0x52a)]();}[_0x3f1d19(0xac2)](_0x765690){const _0x2da6c2=_0x3f1d19;return this['nodeManager'][_0x2da6c2(0xac2)](_0x765690);}async['handleSystemEvents'](_0x3c9687){const _0x1b174f=_0x3f1d19;try{if(_0x576b91[_0x1b174f(0x279)](_0x419b0a[_0x1b174f(0x532)],'Orchestrator\x20handleSystemEvents',this['nodeManager'][_0x1b174f(0x4c2)](),_0x3c9687),_0x2ea233(_0x3c9687,this[_0x1b174f(0xb1f)][_0x1b174f(0x4c2)]()))return void this[_0x1b174f(0x27e)][_0x1b174f(0x7da)](_0x3c9687);switch(_0x3c9687['messageType']){case _0x21fe4c[_0x1b174f(0x442)]:this[_0x1b174f(0x534)][_0x1b174f(0xae9)](_0x3c9687),this[_0x1b174f(0x8e6)][_0x1b174f(0xae9)](_0x3c9687),this[_0x1b174f(0xaf5)][_0x1b174f(0xae9)](_0x3c9687);break;case _0x21fe4c[_0x1b174f(0x4a6)]:this[_0x1b174f(0x8e6)]['handleNodeSystemEvents'](_0x3c9687),this['connectionManager']['handleNodeSystemEvents'](_0x3c9687),this[_0x1b174f(0xaf5)][_0x1b174f(0x823)](_0x3c9687),this[_0x1b174f(0xb1f)][_0x1b174f(0x823)](_0x3c9687);break;case _0x21fe4c[_0x1b174f(0xb62)]:this[_0x1b174f(0x8f6)][_0x1b174f(0x862)](_0x3c9687);break;case _0x21fe4c[_0x1b174f(0x2e5)]:this[_0x1b174f(0x8f6)][_0x1b174f(0x7ed)](_0x3c9687);break;case _0x21fe4c[_0x1b174f(0x75d)]:this[_0x1b174f(0x1d1)][_0x1b174f(0xa0f)](_0x3c9687);break;case _0x21fe4c['Subscription']:_0x3c9687['content'][_0x1b174f(0x8c9)]!==_0x4fb60c[_0x1b174f(0xa11)]?(this[_0x1b174f(0x8e6)][_0x1b174f(0x49a)](_0x3c9687),this[_0x1b174f(0xaf5)]['handleSubscriptionSystemEvents'](_0x3c9687)):(this[_0x1b174f(0xaf5)]['handleSubscriptionSystemEvents'](_0x3c9687),this['subscriptionManager'][_0x1b174f(0x49a)](_0x3c9687));break;case _0x21fe4c[_0x1b174f(0xab3)]:await this[_0x1b174f(0x27e)][_0x1b174f(0x8c0)](_0x3c9687),this[_0x1b174f(0x534)][_0x1b174f(0x8c0)](_0x3c9687),this[_0x1b174f(0xb1f)]['handlePeerConnectionSystemEvents'](_0x3c9687),this['subscriptionManager'][_0x1b174f(0x8c0)](_0x3c9687);}}catch(_0x2a9237){throw _0x576b91[_0x1b174f(0x9d4)](_0x1b174f(0x6a8),_0x2a9237),this[_0x1b174f(0x5b9)](_0x2a9237,{});}}[_0x3f1d19(0x5b9)](_0x535510,_0x24c5bc){const _0x4dae5f=_0x3f1d19;if(!(_0x535510 instanceof _0x5056a1)){if(_0x535510 instanceof _0x122c6c)throw _0x535510;if(!(_0x535510 instanceof Error))throw new _0x122c6c(_0x26fc1d[_0x4dae5f(0x768)],_0x4dae5f(0x54f)+_0x535510);if(!(_0x535510 instanceof _0x5c1da3))throw new _0x122c6c(_0x26fc1d[_0x4dae5f(0x768)],'Internal\x20error:\x20'+_0x535510[_0x4dae5f(0x759)]);switch(_0x535510[_0x4dae5f(0x380)]){case _0x5c1da3[_0x4dae5f(0x91b)][_0x4dae5f(0xae4)]:case _0x5c1da3[_0x4dae5f(0x91b)][_0x4dae5f(0x5b3)]:case _0x5c1da3[_0x4dae5f(0x91b)]['PeerConnectionInvalidDestination']:case _0x5c1da3[_0x4dae5f(0x91b)][_0x4dae5f(0xa31)]:case _0x5c1da3[_0x4dae5f(0x91b)][_0x4dae5f(0x890)]:case _0x5c1da3['codes'][_0x4dae5f(0x1cb)]:case _0x5c1da3['codes'][_0x4dae5f(0x841)]:case _0x5c1da3[_0x4dae5f(0x91b)][_0x4dae5f(0x9b5)]:case _0x5c1da3[_0x4dae5f(0x91b)][_0x4dae5f(0x5f4)]:case _0x5c1da3[_0x4dae5f(0x91b)][_0x4dae5f(0x18c)]:case _0x5c1da3[_0x4dae5f(0x91b)][_0x4dae5f(0x134)]:case _0x5c1da3[_0x4dae5f(0x91b)][_0x4dae5f(0x46f)]:}throw _0x576b91[_0x4dae5f(0x9e0)](_0x4dae5f(0x6d5)+_0x535510['message'],{'clusterId':this[_0x4dae5f(0x7d9)],'nodeId':this[_0x4dae5f(0x72c)]['getId'](),'nodeType':this['localNode']['type']},_0x535510),new _0x122c6c(_0x26fc1d[_0x4dae5f(0x768)],_0x4dae5f(0x4a3)+_0x535510['message']);}}[_0x3f1d19(0x3e4)](){const _0x3de5c2=_0x3f1d19;return{'mediator':this,'vendorId':this[_0x3de5c2(0x3db)],'clusterId':this[_0x3de5c2(0x7d9)],'localNode':this['localNode']};}[_0x3f1d19(0x67f)](){const _0x4fa133=_0x3f1d19;return this[_0x4fa133(0x8f2)][_0x4fa133(0x565)](_0x1aa63d=>{const _0x48c6cd=_0x4fa133,_0x3d1699=_0x357cb9(_0x1aa63d,this['localNode'][_0x48c6cd(0x7be)]()),_0x1366ae=_0x1aa63d[_0x48c6cd(0x9c1)]===_0x21fe4c[_0x48c6cd(0x75d)]||_0x1aa63d['messageType']===_0x21fe4c[_0x48c6cd(0xab3)]&&_0x1aa63d[_0x48c6cd(0x861)][_0x48c6cd(0x8c9)]===_0x57287b[_0x48c6cd(0x75d)]?_0x419b0a[_0x48c6cd(0xa0c)]:_0x419b0a[_0x48c6cd(0x99c)];_0x576b91[_0x48c6cd(0x310)](_0x1366ae,_0x1aa63d[_0x48c6cd(0x5d1)]+_0x48c6cd(0x87d)+_0x3d1699,_0x1aa63d),this[_0x48c6cd(0x6a8)](_0x1aa63d)[_0x48c6cd(0x6b4)](_0xb390e8=>{const _0x5f1084=_0x48c6cd;console[_0x5f1084(0x9e0)](_0xb390e8);});});}async[_0x3f1d19(0x2c7)](_0x1c1bdf){const _0x40a7ed=_0x3f1d19,{timingLogger:_0x23f0e5,logger:_0x3411e3,logBeforeSync:_0x3d0a40,logAfterSync:_0x53f44c}=function(_0xdbeb09,_0x1ba2ca){const _0x5c2091=a0_0x1394;if(!_0x576b91[_0x5c2091(0x6ea)](_0x1ba2ca))return _0x576b91['debug'](_0x5c2091(0x315)+_0x1ba2ca),{..._0x407bd2(_0xdbeb09,_0x1ba2ca),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x26ef6a,logger:_0x14959e}=_0x407bd2(_0xdbeb09,_0x1ba2ca);let _0x5c6f3e=0x0;return _0x5c6f3e=Date[_0x5c2091(0x64c)](),{'syncStartTime':_0x5c6f3e,'timingLogger':_0x26ef6a,'logger':_0x14959e,'logBeforeSync':()=>(_0x3a9c64(_0x1ba2ca,_0x5c2091(0x224)),_0x26ef6a[_0x5c2091(0x64c)]()),'logAfterSync':(_0xb82b08,_0x192df8)=>{const _0x86e1cb=_0x5c2091,_0x2257cb=Date['now']();_0x3a9c64(_0x1ba2ca,_0x86e1cb(0x922)+_0x192df8);const _0x1298c8=(_0x2257cb-_0x5c6f3e)/0x3e8,_0x11c97f=(_0x2257cb-_0xb82b08)/0x3e8;_0x576b91[_0x86e1cb(0x279)](_0x1ba2ca,_0x86e1cb(0x60c),_0xdbeb09,_0x86e1cb(0x9d3)+_0x1298c8[_0x86e1cb(0xa64)](0x2)+_0x86e1cb(0x9ff),_0x86e1cb(0x795)+_0x11c97f['toFixed'](0x3)+_0x86e1cb(0x9ff),_0x86e1cb(0x2a6)+((_0x2257cb-_0x5c6f3e)/0x3e8-_0x11c97f)['toFixed'](0x2)+'\x20seconds');}};}(_0x1c1bdf[_0x40a7ed(0x897)](),_0x419b0a[_0x40a7ed(0x7c8)]);_0x3411e3['log'](_0x40a7ed(0x524));const _0x3a501b=this[_0x40a7ed(0xb1f)][_0x40a7ed(0x728)]()['length']>0x0;if(_0x3a501b){_0x3411e3[_0x40a7ed(0x279)](_0x40a7ed(0x6a2),()=>this[_0x40a7ed(0xb1f)]['getAncestorIds']()),_0x23f0e5[_0x40a7ed(0x266)](),await Promise[_0x40a7ed(0x346)](this[_0x40a7ed(0xb1f)][_0x40a7ed(0x728)]()[_0x40a7ed(0x865)](async _0xb4707c=>await this[_0x40a7ed(0xb1f)]['isNodeReady'](_0xb4707c)))['catch'](_0x29888f=>_0x576b91['warning'](_0x40a7ed(0x903),{'nodeId':this[_0x40a7ed(0x72c)][_0x40a7ed(0x7be)](),'nodeType':this[_0x40a7ed(0x72c)]['type']}));const _0x227be6=_0x3411e3['performCalculation'](()=>this[_0x40a7ed(0xb1f)][_0x40a7ed(0x728)](),[]);_0x23f0e5['logWaitTime'](_0x40a7ed(0x5d3)+_0x227be6+_0x40a7ed(0x629));}_0x53f44c(_0x3d0a40(),await _0x1c1bdf[_0x40a7ed(0x4ce)](_0x3a501b,async()=>{const _0x3ddb37=_0x40a7ed;_0x23f0e5['start'](),await this['nodeManager'][_0x3ddb37(0xaaf)](),_0x23f0e5['logWaitTime']('syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:'),_0x1c1bdf['sync'](!0x0,()=>{const _0x1401d5=_0x3ddb37;_0x3411e3[_0x1401d5(0x279)](_0x1401d5(0xb3c)),_0x1c1bdf[_0x1401d5(0x4ce)](!0x1);},!0x0);}));}}class _0x3b2fb0{[_0x3f1d19(0x3db)];[_0x3f1d19(0x7d9)];['authNode'];[_0x3f1d19(0x703)];[_0x3f1d19(0x7f7)];constructor(_0x3c082a,_0x921d7f,_0x58374b,_0x1a10c5,_0x17339e,_0x2d3b34,_0x44b8fe=new _0x12fa68()){const _0x472a2e=_0x3f1d19;this[_0x472a2e(0x3db)]=_0x3c082a,this[_0x472a2e(0x7d9)]=_0x921d7f,this[_0x472a2e(0x726)]=_0x58374b,this['eventEmitter']=_0x44b8fe,this['orchestrator']=new _0xc98873(this[_0x472a2e(0x3db)],this[_0x472a2e(0x7d9)],_0x58374b,_0x1a10c5,_0x17339e,_0x2d3b34,this);}async[_0x3f1d19(0x4b3)](){const _0xebeab6=_0x3f1d19;await this['orchestrator'][_0xebeab6(0x6e3)](),this[_0xebeab6(0x726)]['type']===_0x1c7ce5[_0xebeab6(0x77d)][_0xebeab6(0x596)]&&this['authNode'][_0xebeab6(0x236)](this[_0xebeab6(0x7d9)],_0x4fceae=>{const _0x33ef08=_0xebeab6;this['orchestrator'][_0x33ef08(0x907)](_0x4fceae);});}[_0x3f1d19(0x35f)](_0x2e6fa8={}){const _0xc2e71f=_0x3f1d19;this[_0xc2e71f(0x7f7)][_0xc2e71f(0x87b)](_0x2e6fa8),this[_0xc2e71f(0x726)]['type']===_0x1c7ce5['NodeType']['User']&&this[_0xc2e71f(0x726)][_0xc2e71f(0xa4a)](this[_0xc2e71f(0x7d9)]),this['emit'](_0xc2e71f(0x86a),void 0x0);}[_0x3f1d19(0xade)](_0x347e35){const _0x45401f=_0x3f1d19,_0x1b551e=this[_0x45401f(0x7f7)]['openPubSubTopic'](_0x347e35);return{'getName':_0x1b551e['getName'][_0x45401f(0x2f6)](_0x1b551e),'getOwnerId':_0x1b551e['getOwnerId'][_0x45401f(0x2f6)](_0x1b551e),'getContentType':_0x1b551e[_0x45401f(0x200)]['bind'](_0x1b551e),'publish':_0x1b551e[_0x45401f(0x4f8)][_0x45401f(0x2f6)](_0x1b551e),'subscribe':_0x1b551e[_0x45401f(0x565)][_0x45401f(0x2f6)](_0x1b551e),'unsubscribe':_0x1b551e[_0x45401f(0x87c)][_0x45401f(0x2f6)](_0x1b551e),'close':_0x1b551e[_0x45401f(0x87b)][_0x45401f(0x2f6)](_0x1b551e)};}async[_0x3f1d19(0x781)](_0x4d9310,_0x449f4c){const _0x30cab7=_0x3f1d19,_0x208770=await this[_0x30cab7(0x7f7)][_0x30cab7(0x781)](_0x4d9310,_0x449f4c);return{'getName':_0x208770[_0x30cab7(0x23f)]['bind'](_0x208770),'getOwnerId':_0x208770[_0x30cab7(0xb5e)][_0x30cab7(0x2f6)](_0x208770),'getContentType':_0x208770[_0x30cab7(0x200)][_0x30cab7(0x2f6)](_0x208770),'publish':_0x208770[_0x30cab7(0x4f8)][_0x30cab7(0x2f6)](_0x208770),'unpublish':_0x208770[_0x30cab7(0x908)][_0x30cab7(0x2f6)](_0x208770),'get':_0x208770[_0x30cab7(0x459)]['bind'](_0x208770),'list':_0x208770[_0x30cab7(0x6c8)][_0x30cab7(0x2f6)](_0x208770),'getSize':_0x208770[_0x30cab7(0x284)]['bind'](_0x208770),'subscribe':_0x208770['subscribe']['bind'](_0x208770),'unsubscribe':_0x208770[_0x30cab7(0x87c)][_0x30cab7(0x2f6)](_0x208770),'close':_0x208770[_0x30cab7(0x87b)][_0x30cab7(0x2f6)](_0x208770)};}async[_0x3f1d19(0x47e)](_0xe9626,_0x2ae0a4){const _0x31d582=_0x3f1d19,_0x4d1fac=await this[_0x31d582(0x7f7)][_0x31d582(0x47e)](_0xe9626,_0x2ae0a4);return{'getName':_0x4d1fac[_0x31d582(0x23f)]['bind'](_0x4d1fac),'getOwnerId':_0x4d1fac[_0x31d582(0xb5e)][_0x31d582(0x2f6)](_0x4d1fac),'getContentType':_0x4d1fac[_0x31d582(0x200)][_0x31d582(0x2f6)](_0x4d1fac),'close':_0x4d1fac[_0x31d582(0x87b)][_0x31d582(0x2f6)](_0x4d1fac),'get':_0x4d1fac[_0x31d582(0x459)][_0x31d582(0x2f6)](_0x4d1fac),'list':_0x4d1fac['list'][_0x31d582(0x2f6)](_0x4d1fac),'subscribe':_0x4d1fac[_0x31d582(0x565)][_0x31d582(0x2f6)](_0x4d1fac),'unsubscribe':_0x4d1fac['unsubscribe'][_0x31d582(0x2f6)](_0x4d1fac)};}async[_0x3f1d19(0x14e)](_0x419904,_0x2d25ed,_0x28ef43){const _0x243daa=_0x3f1d19,_0x4bcf9=await this[_0x243daa(0x7f7)][_0x243daa(0x14e)](_0x419904,_0x2d25ed,_0x28ef43);return{'getName':_0x4bcf9[_0x243daa(0x23f)][_0x243daa(0x2f6)](_0x4bcf9),'getOwnerId':_0x4bcf9[_0x243daa(0xb5e)]['bind'](_0x4bcf9),'getContentType':_0x4bcf9[_0x243daa(0x200)]['bind'](_0x4bcf9),'getTable':_0x4bcf9['getTable'][_0x243daa(0x2f6)](_0x4bcf9),'subscribe':_0x4bcf9['subscribe'][_0x243daa(0x2f6)](_0x4bcf9),'unsubscribe':_0x4bcf9[_0x243daa(0x87c)][_0x243daa(0x2f6)](_0x4bcf9),'close':_0x4bcf9[_0x243daa(0x87b)]['bind'](_0x4bcf9)};}async[_0x3f1d19(0x852)](_0x3eec9b){const _0x12e016=_0x3f1d19,_0x2e7621=await this[_0x12e016(0x7f7)]['openJobDispatcher'](_0x3eec9b);return{'getName':_0x2e7621[_0x12e016(0x23f)][_0x12e016(0x2f6)](_0x2e7621),'getOwnerId':_0x2e7621[_0x12e016(0xb5e)][_0x12e016(0x2f6)](_0x2e7621),'getContentType':_0x2e7621[_0x12e016(0x200)][_0x12e016(0x2f6)](_0x2e7621),'createJob':_0x2e7621[_0x12e016(0x57b)][_0x12e016(0x2f6)](_0x2e7621),'getJob':_0x2e7621[_0x12e016(0x8ef)][_0x12e016(0x2f6)](_0x2e7621),'getJobs':_0x2e7621['getJobs']['bind'](_0x2e7621),'close':_0x2e7621['close'][_0x12e016(0x2f6)](_0x2e7621)};}async[_0x3f1d19(0x787)](_0x548fa8){const _0x405c4f=_0x3f1d19,_0x3d1437=await this[_0x405c4f(0x7f7)][_0x405c4f(0x787)](_0x548fa8);return{'close':_0x3d1437[_0x405c4f(0x87b)][_0x405c4f(0x2f6)](_0x3d1437)};}async[_0x3f1d19(0x525)](_0x21da4f){const _0x3b74db=_0x3f1d19,_0x1dc462=await this[_0x3b74db(0x7f7)][_0x3b74db(0x525)](_0x21da4f);return{'createAIJob':_0x1dc462[_0x3b74db(0x4af)][_0x3b74db(0x2f6)](_0x1dc462),'getDataBucketIds':_0x1dc462[_0x3b74db(0x132)][_0x3b74db(0x2f6)](_0x1dc462),'close':_0x1dc462[_0x3b74db(0x87b)][_0x3b74db(0x2f6)](_0x1dc462)};}async[_0x3f1d19(0x4e0)](_0x352b4f){const _0x27b99f=_0x3f1d19,_0x2d3e59=await this[_0x27b99f(0x7f7)]['openGenerativeAIContextStandalone'](_0x352b4f);return{'createAIJob':_0x2d3e59[_0x27b99f(0x4af)][_0x27b99f(0x2f6)](_0x2d3e59),'getDataBucketIds':_0x2d3e59[_0x27b99f(0x132)][_0x27b99f(0x2f6)](_0x2d3e59),'close':_0x2d3e59[_0x27b99f(0x87b)]['bind'](_0x2d3e59)};}async['openGenerativeAIWorker'](_0x42447e){const _0x2ae014=_0x3f1d19,_0x3c855f=await this[_0x2ae014(0x7f7)][_0x2ae014(0x362)](_0x42447e);return{'close':_0x3c855f['close'][_0x2ae014(0x2f6)](_0x3c855f)};}['openGraphDatabase'](_0x439bf2){const _0x2a0f35=_0x3f1d19,_0x27c19d=this[_0x2a0f35(0x7f7)][_0x2a0f35(0x41e)](_0x439bf2);return{'getName':_0x27c19d[_0x2a0f35(0x23f)]['bind'](_0x27c19d),'getOwnerId':_0x27c19d[_0x2a0f35(0xb5e)][_0x2a0f35(0x2f6)](_0x27c19d),'getContentType':_0x27c19d[_0x2a0f35(0x200)]['bind'](_0x27c19d),'addNode':_0x27c19d[_0x2a0f35(0x2b4)][_0x2a0f35(0x2f6)](_0x27c19d),'addEdge':_0x27c19d[_0x2a0f35(0x478)][_0x2a0f35(0x2f6)](_0x27c19d),'getContent':_0x27c19d[_0x2a0f35(0x9ba)][_0x2a0f35(0x2f6)](_0x27c19d),'remove':_0x27c19d['remove'][_0x2a0f35(0x2f6)](_0x27c19d),'saveToDisk':_0x27c19d[_0x2a0f35(0x451)][_0x2a0f35(0x2f6)](_0x27c19d),'loadFromDisk':_0x27c19d['loadFromDisk'][_0x2a0f35(0x2f6)](_0x27c19d),'close':_0x27c19d[_0x2a0f35(0x87b)][_0x2a0f35(0x2f6)](_0x27c19d)};}[_0x3f1d19(0x7fb)](_0x27e753){const _0x584db0=_0x3f1d19,_0x27bf19=this[_0x584db0(0x7f7)][_0x584db0(0x7fb)](_0x27e753);return{'getName':_0x27bf19[_0x584db0(0x23f)]['bind'](_0x27bf19),'getOwnerId':_0x27bf19[_0x584db0(0xb5e)][_0x584db0(0x2f6)](_0x27bf19),'getContentType':_0x27bf19[_0x584db0(0x200)][_0x584db0(0x2f6)](_0x27bf19),'search':_0x27bf19[_0x584db0(0x32e)][_0x584db0(0x2f6)](_0x27bf19),'insert':_0x27bf19['insert']['bind'](_0x27bf19),'remove':_0x27bf19[_0x584db0(0x594)][_0x584db0(0x2f6)](_0x27bf19),'saveToDisk':_0x27bf19['saveToDisk'][_0x584db0(0x2f6)](_0x27bf19),'loadFromDisk':_0x27bf19[_0x584db0(0x320)][_0x584db0(0x2f6)](_0x27bf19),'close':_0x27bf19['close']['bind'](_0x27bf19)};}[_0x3f1d19(0x429)](_0x1ae305){const _0x49a917=_0x3f1d19;return this[_0x49a917(0x7f7)][_0x49a917(0x429)](_0x1ae305)[_0x49a917(0x865)](_0x5ea2ed=>({'getName':_0x5ea2ed[_0x49a917(0x23f)][_0x49a917(0x2f6)](_0x5ea2ed),'getOwnerId':_0x5ea2ed[_0x49a917(0xb5e)]['bind'](_0x5ea2ed),'getContentType':_0x5ea2ed[_0x49a917(0x200)][_0x49a917(0x2f6)](_0x5ea2ed),'publish':_0x5ea2ed[_0x49a917(0x4f8)][_0x49a917(0x2f6)](_0x5ea2ed),'subscribe':_0x5ea2ed[_0x49a917(0x565)][_0x49a917(0x2f6)](_0x5ea2ed),'unsubscribe':_0x5ea2ed[_0x49a917(0x87c)]['bind'](_0x5ea2ed),'close':_0x5ea2ed[_0x49a917(0x87b)][_0x49a917(0x2f6)](_0x5ea2ed)}));}[_0x3f1d19(0x54a)](_0x49ba07){const _0x4090e3=_0x3f1d19;return this[_0x4090e3(0x7f7)][_0x4090e3(0x54a)](_0x49ba07)[_0x4090e3(0x865)](_0x5aa26c=>({'getName':_0x5aa26c[_0x4090e3(0x23f)][_0x4090e3(0x2f6)](_0x5aa26c),'getOwnerId':_0x5aa26c[_0x4090e3(0xb5e)][_0x4090e3(0x2f6)](_0x5aa26c),'getContentType':_0x5aa26c['getContentType']['bind'](_0x5aa26c),'publish':_0x5aa26c['publish']['bind'](_0x5aa26c),'unpublish':_0x5aa26c['unpublish'][_0x4090e3(0x2f6)](_0x5aa26c),'get':_0x5aa26c['get'][_0x4090e3(0x2f6)](_0x5aa26c),'list':_0x5aa26c[_0x4090e3(0x6c8)]['bind'](_0x5aa26c),'getSize':_0x5aa26c[_0x4090e3(0x284)][_0x4090e3(0x2f6)](_0x5aa26c),'subscribe':_0x5aa26c[_0x4090e3(0x565)][_0x4090e3(0x2f6)](_0x5aa26c),'unsubscribe':_0x5aa26c[_0x4090e3(0x87c)][_0x4090e3(0x2f6)](_0x5aa26c),'close':_0x5aa26c[_0x4090e3(0x87b)][_0x4090e3(0x2f6)](_0x5aa26c)}));}[_0x3f1d19(0x853)](_0x4a6d18){const _0x3d5a86=_0x3f1d19;return this['orchestrator'][_0x3d5a86(0x853)](_0x4a6d18)['map'](_0xd8aaa5=>({'getName':_0xd8aaa5[_0x3d5a86(0x23f)][_0x3d5a86(0x2f6)](_0xd8aaa5),'getOwnerId':_0xd8aaa5[_0x3d5a86(0xb5e)]['bind'](_0xd8aaa5),'getContentType':_0xd8aaa5[_0x3d5a86(0x200)][_0x3d5a86(0x2f6)](_0xd8aaa5),'close':_0xd8aaa5['close'][_0x3d5a86(0x2f6)](_0xd8aaa5),'get':_0xd8aaa5[_0x3d5a86(0x459)][_0x3d5a86(0x2f6)](_0xd8aaa5),'list':_0xd8aaa5[_0x3d5a86(0x6c8)][_0x3d5a86(0x2f6)](_0xd8aaa5),'subscribe':_0xd8aaa5[_0x3d5a86(0x565)][_0x3d5a86(0x2f6)](_0xd8aaa5),'unsubscribe':_0xd8aaa5[_0x3d5a86(0x87c)][_0x3d5a86(0x2f6)](_0xd8aaa5)}));}[_0x3f1d19(0x6ee)](_0xff0d10){const _0x4c88a7=_0x3f1d19;return this[_0x4c88a7(0x7f7)][_0x4c88a7(0x6ee)](_0xff0d10)[_0x4c88a7(0x865)](_0x5b9978=>({'getName':_0x5b9978['getName']['bind'](_0x5b9978),'getOwnerId':_0x5b9978['getOwnerId'][_0x4c88a7(0x2f6)](_0x5b9978),'getContentType':_0x5b9978[_0x4c88a7(0x200)][_0x4c88a7(0x2f6)](_0x5b9978),'getTable':_0x5b9978[_0x4c88a7(0x3d8)][_0x4c88a7(0x2f6)](_0x5b9978),'subscribe':_0x5b9978[_0x4c88a7(0x565)][_0x4c88a7(0x2f6)](_0x5b9978),'unsubscribe':_0x5b9978[_0x4c88a7(0x87c)]['bind'](_0x5b9978),'close':_0x5b9978[_0x4c88a7(0x87b)][_0x4c88a7(0x2f6)](_0x5b9978)}));}[_0x3f1d19(0x5cb)](_0x49713e){const _0x32dda5=_0x3f1d19;return this[_0x32dda5(0x7f7)][_0x32dda5(0x5cb)](_0x49713e)[_0x32dda5(0x865)](_0x4e9437=>({'createAIJob':_0x4e9437[_0x32dda5(0x4af)][_0x32dda5(0x2f6)](_0x4e9437),'getDataBucketIds':_0x4e9437[_0x32dda5(0x132)][_0x32dda5(0x2f6)](_0x4e9437),'close':_0x4e9437['close']['bind'](_0x4e9437)}));}[_0x3f1d19(0x560)](_0x292b63){const _0x3acc0a=_0x3f1d19;return this[_0x3acc0a(0x7f7)][_0x3acc0a(0x560)](_0x292b63)['map'](_0x11790e=>({'createAIJob':_0x11790e['createAIJob'][_0x3acc0a(0x2f6)](_0x11790e),'getDataBucketIds':_0x11790e[_0x3acc0a(0x132)]['bind'](_0x11790e),'close':_0x11790e[_0x3acc0a(0x87b)]['bind'](_0x11790e)}));}[_0x3f1d19(0x4d1)](_0x453ee1){const _0x9b88ff=_0x3f1d19;return this[_0x9b88ff(0x7f7)][_0x9b88ff(0x4d1)](_0x453ee1)[_0x9b88ff(0x865)](_0x4b9b05=>({'close':_0x4b9b05[_0x9b88ff(0x87b)][_0x9b88ff(0x2f6)](_0x4b9b05)}));}[_0x3f1d19(0x92f)](_0x4bf360,_0x1e93d7){const _0x4ae585=_0x3f1d19,_0x49172f=this[_0x4ae585(0x7f7)][_0x4ae585(0x948)](_0x4bf360,_0x1e93d7);return{'getLabel':_0x49172f[_0x4ae585(0x897)][_0x4ae585(0x2f6)](_0x49172f),'getOwnerId':_0x49172f[_0x4ae585(0xb5e)][_0x4ae585(0x2f6)](_0x49172f),'getContentType':_0x49172f[_0x4ae585(0x200)][_0x4ae585(0x2f6)](_0x49172f),'getMediaStream':_0x49172f[_0x4ae585(0x779)][_0x4ae585(0x2f6)](_0x49172f),'setPriority':_0x49172f[_0x4ae585(0x717)][_0x4ae585(0x2f6)](_0x49172f),'unpublish':_0x49172f[_0x4ae585(0x908)][_0x4ae585(0x2f6)](_0x49172f)};}[_0x3f1d19(0x1bd)](_0x2a7395,_0xc9073f){const _0x1731ed=_0x3f1d19,_0x425f03=this[_0x1731ed(0x7f7)][_0x1731ed(0x3bf)](_0x2a7395,_0xc9073f);return{'getLabel':_0x425f03[_0x1731ed(0x897)][_0x1731ed(0x2f6)](_0x425f03),'getOwnerId':_0x425f03['getOwnerId']['bind'](_0x425f03),'getContentType':_0x425f03[_0x1731ed(0x200)][_0x1731ed(0x2f6)](_0x425f03),'setPriority':_0x425f03[_0x1731ed(0x717)][_0x1731ed(0x2f6)](_0x425f03),'unpublish':_0x425f03['unpublish']['bind'](_0x425f03),'getMediaStream':_0x425f03['getMediaStream'][_0x1731ed(0x2f6)](_0x425f03),'addTrack':_0x425f03[_0x1731ed(0x140)][_0x1731ed(0x2f6)](_0x425f03),'removeTrack':_0x425f03[_0x1731ed(0x493)]['bind'](_0x425f03),'replaceTrack':_0x425f03['replaceTrack'][_0x1731ed(0x2f6)](_0x425f03),'setTransformations':_0x425f03[_0x1731ed(0x87e)][_0x1731ed(0x2f6)](_0x425f03)};}[_0x3f1d19(0x395)](_0x15ab54){const _0x2c14bc=_0x3f1d19;return this[_0x2c14bc(0x7f7)][_0x2c14bc(0x395)](_0x15ab54)[_0x2c14bc(0x865)](_0x102a4f=>({'getLabel':_0x102a4f[_0x2c14bc(0x897)][_0x2c14bc(0x2f6)](_0x102a4f),'getOwnerId':_0x102a4f['getOwnerId']['bind'](_0x102a4f),'getContentType':_0x102a4f[_0x2c14bc(0x200)]['bind'](_0x102a4f),'getMediaStream':_0x102a4f['getMediaStream'][_0x2c14bc(0x2f6)](_0x102a4f),'setPriority':_0x102a4f[_0x2c14bc(0x717)][_0x2c14bc(0x2f6)](_0x102a4f),'unpublish':_0x102a4f[_0x2c14bc(0x908)][_0x2c14bc(0x2f6)](_0x102a4f)}));}[_0x3f1d19(0x1c8)](_0x4eb147){const _0x24e3a5=_0x3f1d19;return this['orchestrator'][_0x24e3a5(0x1c8)](_0x4eb147)[_0x24e3a5(0x865)](_0x550214=>({'getLabel':_0x550214[_0x24e3a5(0x897)][_0x24e3a5(0x2f6)](_0x550214),'getOwnerId':_0x550214['getOwnerId'][_0x24e3a5(0x2f6)](_0x550214),'getContentType':_0x550214['getContentType'][_0x24e3a5(0x2f6)](_0x550214),'getMediaStream':_0x550214[_0x24e3a5(0x779)][_0x24e3a5(0x2f6)](_0x550214),'subscribe':_0x550214[_0x24e3a5(0x565)][_0x24e3a5(0x2f6)](_0x550214),'unsubscribe':_0x550214[_0x24e3a5(0x87c)][_0x24e3a5(0x2f6)](_0x550214),'getAvailableTrackKinds':_0x550214['getAvailableTrackKinds']['bind'](_0x550214),'update':_0x550214[_0x24e3a5(0x8f8)][_0x24e3a5(0x2f6)](_0x550214),'onProviderChange':_0x550214[_0x24e3a5(0x991)][_0x24e3a5(0x2f6)](_0x550214)}));}[_0x3f1d19(0xb23)](_0x15240f){const _0x4807f2=_0x3f1d19;return this['orchestrator'][_0x4807f2(0xb23)](_0x15240f)['map'](_0x166dbd=>({'getName':_0x166dbd['getName'][_0x4807f2(0x2f6)](_0x166dbd),'getOwnerId':_0x166dbd['getOwnerId']['bind'](_0x166dbd),'getContentType':_0x166dbd['getContentType']['bind'](_0x166dbd),'addNode':_0x166dbd[_0x4807f2(0x2b4)][_0x4807f2(0x2f6)](_0x166dbd),'addEdge':_0x166dbd[_0x4807f2(0x478)]['bind'](_0x166dbd),'getContent':_0x166dbd[_0x4807f2(0x9ba)][_0x4807f2(0x2f6)](_0x166dbd),'remove':_0x166dbd[_0x4807f2(0x594)][_0x4807f2(0x2f6)](_0x166dbd),'saveToDisk':_0x166dbd[_0x4807f2(0x451)][_0x4807f2(0x2f6)](_0x166dbd),'loadFromDisk':_0x166dbd[_0x4807f2(0x320)][_0x4807f2(0x2f6)](_0x166dbd),'close':_0x166dbd[_0x4807f2(0x87b)]['bind'](_0x166dbd)}));}[_0x3f1d19(0x38e)](_0xd403e2){const _0x294c84=_0x3f1d19;return this[_0x294c84(0x7f7)]['getVectorDatabases'](_0xd403e2)[_0x294c84(0x865)](_0x1ee461=>({'getName':_0x1ee461[_0x294c84(0x23f)][_0x294c84(0x2f6)](_0x1ee461),'getOwnerId':_0x1ee461[_0x294c84(0xb5e)][_0x294c84(0x2f6)](_0x1ee461),'getContentType':_0x1ee461[_0x294c84(0x200)][_0x294c84(0x2f6)](_0x1ee461),'search':_0x1ee461[_0x294c84(0x32e)][_0x294c84(0x2f6)](_0x1ee461),'insert':_0x1ee461['insert'][_0x294c84(0x2f6)](_0x1ee461),'remove':_0x1ee461['remove'][_0x294c84(0x2f6)](_0x1ee461),'saveToDisk':_0x1ee461['saveToDisk'][_0x294c84(0x2f6)](_0x1ee461),'loadFromDisk':_0x1ee461[_0x294c84(0x320)]['bind'](_0x1ee461),'close':_0x1ee461[_0x294c84(0x87b)][_0x294c84(0x2f6)](_0x1ee461)}));}[_0x3f1d19(0x5a9)](){const _0x52dc1b=_0x3f1d19,_0x3f4be8=this['orchestrator']['getLocalNode']();switch(_0x3f4be8['type']){case _0x1c7ce5['NodeType'][_0x52dc1b(0x596)]:return{'type':_0x1c7ce5[_0x52dc1b(0x77d)]['User'],'getId':_0x3f4be8[_0x52dc1b(0x7be)][_0x52dc1b(0x2f6)](_0x3f4be8),'getDisplayName':_0x3f4be8[_0x52dc1b(0xa78)][_0x52dc1b(0x2f6)](_0x3f4be8),'getEmail':_0x3f4be8[_0x52dc1b(0x256)][_0x52dc1b(0x2f6)](_0x3f4be8),'getRemoteConnections':_0x3f4be8[_0x52dc1b(0x5c3)][_0x52dc1b(0x2f6)](_0x3f4be8),'setDisplayName':_0x3f4be8[_0x52dc1b(0x2b0)][_0x52dc1b(0x2f6)](_0x3f4be8),'setEmail':_0x3f4be8[_0x52dc1b(0xab8)][_0x52dc1b(0x2f6)](_0x3f4be8)};case _0x1c7ce5[_0x52dc1b(0x77d)]['Agent']:default:return{'type':_0x1c7ce5[_0x52dc1b(0x77d)][_0x52dc1b(0x2de)],'getId':_0x3f4be8[_0x52dc1b(0x7be)][_0x52dc1b(0x2f6)](_0x3f4be8),'getRemoteConnections':_0x3f4be8[_0x52dc1b(0x5c3)][_0x52dc1b(0x2f6)](_0x3f4be8)};}}[_0x3f1d19(0x321)](_0x2261ea){const _0x8b23f2=_0x3f1d19;return this[_0x8b23f2(0x7f7)][_0x8b23f2(0x321)](_0x2261ea)['map'](_0x18808f=>{const _0x573c74=_0x8b23f2;switch(_0x18808f[_0x573c74(0x8c9)]){case _0x1c7ce5[_0x573c74(0x77d)][_0x573c74(0x596)]:return{'type':_0x1c7ce5['NodeType']['User'],'getId':_0x18808f[_0x573c74(0x7be)][_0x573c74(0x2f6)](_0x18808f),'getDisplayName':_0x18808f[_0x573c74(0xa78)][_0x573c74(0x2f6)](_0x18808f),'getEmail':_0x18808f[_0x573c74(0x256)][_0x573c74(0x2f6)](_0x18808f),'getRemoteConnections':_0x18808f[_0x573c74(0x5c3)]['bind'](_0x18808f)};case _0x1c7ce5[_0x573c74(0x77d)]['Agent']:return{'type':_0x1c7ce5[_0x573c74(0x77d)][_0x573c74(0x2de)],'getId':_0x18808f[_0x573c74(0x7be)]['bind'](_0x18808f),'getRemoteConnections':_0x18808f[_0x573c74(0x5c3)][_0x573c74(0x2f6)](_0x18808f)};default:throw new _0x122c6c(_0x26fc1d[_0x573c74(0x2ae)],_0x573c74(0x1f0));}});}['on']=(..._0x45ea23)=>{const _0x367965=_0x3f1d19;this[_0x367965(0x703)]['on'](..._0x45ea23);};['emit']=(..._0x81eef6)=>this['eventEmitter'][_0x3f1d19(0x995)](..._0x81eef6);[_0x3f1d19(0xa6a)](..._0x276f24){const _0x3e9d15=_0x3f1d19;this[_0x3e9d15(0x703)][_0x3e9d15(0xa6a)](..._0x276f24);}}class _0x17ff3b{['id'];[_0x3f1d19(0x1df)];[_0x3f1d19(0x968)];['type']=_0x1c7ce5[_0x3f1d19(0x77d)][_0x3f1d19(0x596)];[_0x3f1d19(0xb33)]=new Map();[_0x3f1d19(0x645)]=_0x239c52();constructor(_0x2a951b,_0x4d6d59,_0x584006){const _0x55a60b=_0x3f1d19;this['id']=_0x2a951b,this[_0x55a60b(0x1df)]=_0x4d6d59,this[_0x55a60b(0x968)]=_0x584006;}[_0x3f1d19(0x7be)](){return this['id'];}['getDisplayName'](){const _0x5a1590=_0x3f1d19;return this[_0x5a1590(0x1df)];}[_0x3f1d19(0x256)](){const _0x1fce0f=_0x3f1d19;return this[_0x1fce0f(0x968)];}[_0x3f1d19(0x2b0)](_0x2ec480){const _0x32cbd2=_0x3f1d19;this[_0x32cbd2(0x1df)]!==_0x2ec480&&(this[_0x32cbd2(0x1df)]=_0x2ec480,this['observer'][_0x32cbd2(0x4f8)](this));}[_0x3f1d19(0xab8)](_0x39892d){const _0x3a3c67=_0x3f1d19;this[_0x3a3c67(0x968)]!==_0x39892d&&(this[_0x3a3c67(0x968)]=_0x39892d,this[_0x3a3c67(0x645)][_0x3a3c67(0x4f8)](this));}[_0x3f1d19(0x236)](_0x51d610,_0x2051a9){const _0xa8acab=_0x3f1d19;if(this['joinedClusters'][_0xa8acab(0x1c3)](_0x51d610))return;const _0x2078b3=this['observer'][_0xa8acab(0x565)](_0x2051a9);this['joinedClusters'][_0xa8acab(0xb36)](_0x51d610,_0x2078b3);}[_0x3f1d19(0xa4a)](_0x66cd98){const _0x1f3f98=_0x3f1d19;if(!this[_0x1f3f98(0xb33)][_0x1f3f98(0x1c3)](_0x66cd98))return;const _0x1425d0=this[_0x1f3f98(0xb33)][_0x1f3f98(0x459)](_0x66cd98);_0x1425d0&&_0x1425d0(),this[_0x1f3f98(0xb33)]['delete'](_0x66cd98);}}class _0x483a13{[_0x3f1d19(0x3db)];[_0x3f1d19(0x612)];constructor(_0x464a8e){this['vendorId']=_0x464a8e;}async[_0x3f1d19(0x417)](_0xc3a429){const _0x54ba66=_0x3f1d19,_0x5d6dc6=await(0x0,_0x2ac1a7[_0x54ba66(0x23d)])(_0x25e54d[_0x54ba66(0xb0a)](),_0x54ba66(0x9a2))({'uid':_0x54ba66(0x199)+this[_0x54ba66(0x3db)]+_0x54ba66(0x199)+_0xc3a429['id']}),_0x3f79a0=await(0x0,_0x149de1[_0x54ba66(0x6be)])(_0x25e54d[_0x54ba66(0xac5)](),_0x5d6dc6[_0x54ba66(0xa34)][_0x54ba66(0x847)]);this[_0x54ba66(0x612)]=_0x3f79a0['user'];}async[_0x3f1d19(0x152)](){const _0x36f57f=_0x3f1d19;await(0x0,_0x149de1['signOut'])(_0x25e54d[_0x36f57f(0xac5)]());}[_0x3f1d19(0x6b2)](){const _0x8e7eaa=_0x3f1d19;return this[_0x8e7eaa(0x612)]?.[_0x8e7eaa(0x6b2)]()??Promise[_0x8e7eaa(0x29e)](_0x8e7eaa(0x356));}}class _0x4a8498{static [_0x3f1d19(0x2d7)];[_0x3f1d19(0x155)]=[];constructor(){}static[_0x3f1d19(0x508)](){const _0x4cbb0c=_0x3f1d19;return _0x4a8498['instance']||(_0x4a8498[_0x4cbb0c(0x2d7)]=new _0x4a8498()),_0x4a8498[_0x4cbb0c(0x2d7)];}['initialize'](){const _0x424b51=_0x3f1d19;this[_0x424b51(0x50b)](),this['checkMediaStream'](),this['checkScreenSharing'](),this['checkAudioVolume'](),this[_0x424b51(0xb4c)](),this[_0x424b51(0x986)](),this['checkMediaRecording'](),this[_0x424b51(0x8ba)](),this[_0x424b51(0x505)](),this[_0x424b51(0x537)](),_0x576b91[_0x424b51(0x279)](_0x419b0a[_0x424b51(0x733)],'Support:\x20current\x20config',{'featureSupport':this['featureSupport']});}['isFeatureSupported'](_0x2e83f5){const _0x4bd9bc=_0x3f1d19,_0xbed8f7=this[_0x4bd9bc(0x155)][_0x4bd9bc(0x4d3)](_0x4c4f44=>_0x4c4f44[_0x4bd9bc(0xb0f)]===_0x2e83f5);return!!_0xbed8f7&&_0xbed8f7['supported'];}[_0x3f1d19(0x78b)](_0x55d8ea){const _0x316019=_0x3f1d19;_0x576b91[_0x316019(0x75c)](_0x316019(0x1ef),{'nodeId':_0x55d8ea[_0x316019(0x7be)](),'nodeType':_0x55d8ea[_0x316019(0x8c9)],'data':{'featureSupport':this['featureSupport']}});}[_0x3f1d19(0x50b)](){const _0x309030=_0x3f1d19,_0x4d9a42=_0xef8318[_0x309030(0xb14)];let _0x2559af=!0x1;_0x309030(0x3f2)==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x2559af=!0x0:_0x576b91['log'](_0x419b0a[_0x309030(0x733)],_0x309030(0x74b)+_0x4d9a42+_0x309030(0x97a)),this['featureSupport'][_0x309030(0x24b)]({'name':_0x4d9a42,'supported':_0x2559af});}[_0x3f1d19(0x35c)](){const _0x33dd12=_0x3f1d19,_0x21a568=_0xef8318[_0x33dd12(0x4e4)];let _0x1c8bf0=!0x1;'function'==typeof MediaStream&&_0x33dd12(0x3f2)==typeof MediaStreamTrack&&_0x33dd12(0x725)==typeof navigator&&_0x33dd12(0x725)==typeof navigator[_0x33dd12(0x5c9)]&&_0x33dd12(0x3f2)==typeof navigator[_0x33dd12(0x5c9)][_0x33dd12(0x2d5)]?_0x1c8bf0=!0x0:_0x576b91[_0x33dd12(0x279)](_0x419b0a['Support'],_0x33dd12(0x74b)+_0x21a568+_0x33dd12(0x97a)),this[_0x33dd12(0x155)][_0x33dd12(0x24b)]({'name':_0x21a568,'supported':_0x1c8bf0});}[_0x3f1d19(0x83e)](){const _0x28e9b5=_0x3f1d19,_0x5ea392=_0xef8318[_0x28e9b5(0x91c)];let _0x10e53d=!0x1;_0x28e9b5(0x725)==typeof navigator&&_0x28e9b5(0x725)==typeof navigator[_0x28e9b5(0x5c9)]&&_0x28e9b5(0x3f2)==typeof navigator[_0x28e9b5(0x5c9)][_0x28e9b5(0x322)]?_0x10e53d=!0x0:_0x576b91[_0x28e9b5(0x279)](_0x419b0a[_0x28e9b5(0x733)],_0x28e9b5(0x74b)+_0x5ea392+_0x28e9b5(0x97a)),this['featureSupport'][_0x28e9b5(0x24b)]({'name':_0x5ea392,'supported':_0x10e53d});}['checkAudioVolume'](){const _0xf45701=_0x3f1d19,_0x594ab7=_0xef8318[_0xf45701(0xa10)];let _0x1be993=!0x1;'function'!=typeof AudioContext||_0xf45701(0x3f2)!=typeof ScriptProcessorNode&&_0xf45701(0x3f2)!=typeof AudioWorkletNode||_0xf45701(0x3f2)!=typeof MediaStreamAudioSourceNode?_0x576b91['log'](_0x419b0a[_0xf45701(0x733)],_0xf45701(0x74b)+_0x594ab7+_0xf45701(0x97a)):_0x1be993=!0x0,this[_0xf45701(0x155)][_0xf45701(0x24b)]({'name':_0x594ab7,'supported':_0x1be993});}['checkDeviceConfig'](){const _0x32c0ec=_0x3f1d19,_0x581b38=_0xef8318[_0x32c0ec(0x5c5)];let _0x242c56=!0x1;_0x32c0ec(0x725)==typeof navigator&&_0x32c0ec(0x725)==typeof navigator[_0x32c0ec(0x5c9)]&&_0x32c0ec(0x3f2)==typeof navigator[_0x32c0ec(0x5c9)][_0x32c0ec(0x396)]&&_0x32c0ec(0x3f2)==typeof MediaDeviceInfo?_0x242c56=!0x0:_0x576b91['log'](_0x419b0a[_0x32c0ec(0x733)],_0x32c0ec(0x74b)+_0x581b38+_0x32c0ec(0x97a)),this[_0x32c0ec(0x155)]['push']({'name':_0x581b38,'supported':_0x242c56});}[_0x3f1d19(0x986)](){const _0x1e99bd=_0x3f1d19,_0x2e72eb=_0xef8318[_0x1e99bd(0xaf4)];let _0x4524a8=!0x1;'object'==typeof document&&_0x1e99bd(0x3f2)==typeof document[_0x1e99bd(0x902)]('video')[_0x1e99bd(0x7d7)]?_0x4524a8=!0x0:_0x576b91[_0x1e99bd(0x279)](_0x419b0a[_0x1e99bd(0x733)],_0x1e99bd(0x74b)+_0x2e72eb+'\x20not\x20supported'),this[_0x1e99bd(0x155)]['push']({'name':_0x2e72eb,'supported':_0x4524a8});}async[_0x3f1d19(0x22a)](){const _0x5d5074=_0x3f1d19,_0x36f19a=_0xef8318[_0x5d5074(0x6a0)];let _0x4de906=!0x1;try{const _0x4847bf=document[_0x5d5074(0x902)](_0x5d5074(0xb58));if(MediaRecorder&&MediaSource&&_0x4847bf[_0x5d5074(0x220)]){const _0x244d5b=_0x4847bf['captureStream'](),_0x239ce0=new MediaRecorder(_0x244d5b);_0x239ce0[_0x5d5074(0x266)](),await new Promise(_0x251381=>setTimeout(_0x251381,0x7d0)),_0x239ce0[_0x5d5074(0x5e6)](),_0x4de906=_0x5d5074(0x1f1)===_0x239ce0['state'];}}catch(_0x5a6fbe){_0x576b91[_0x5d5074(0x279)](_0x419b0a[_0x5d5074(0x733)],'Support:\x20'+_0x36f19a+_0x5d5074(0x179),_0x5a6fbe);}this['featureSupport'][_0x5d5074(0x24b)]({'name':_0x36f19a,'supported':_0x4de906}),_0x4de906||_0x576b91[_0x5d5074(0x279)](_0x419b0a[_0x5d5074(0x733)],_0x5d5074(0x74b)+_0x36f19a+_0x5d5074(0x97a));}[_0x3f1d19(0x8ba)](){const _0x3290e=_0x3f1d19,_0x485747=_0xef8318[_0x3290e(0x1b5)];let _0x2a5088=!0x1;try{document[_0x3290e(0x902)]('canvas')[_0x3290e(0x220)]&&(_0x2a5088=!0x0);}catch(_0x165629){_0x576b91[_0x3290e(0x279)](_0x419b0a[_0x3290e(0x733)],'Support:\x20'+_0x485747+_0x3290e(0x179),_0x165629);}this[_0x3290e(0x155)][_0x3290e(0x24b)]({'name':_0x485747,'supported':_0x2a5088}),_0x2a5088||_0x576b91[_0x3290e(0x279)](_0x419b0a['Support'],'Support:\x20'+_0x485747+_0x3290e(0x97a));}[_0x3f1d19(0x505)](){const _0xc0615=_0x3f1d19,_0xbe300=_0xef8318[_0xc0615(0x916)];let _0x4022d2=!0x1;try{const _0x18107a=document['createElement'](_0xc0615(0xb58));WebGLRenderingContext&&_0x18107a[_0xc0615(0x2ba)](_0xc0615(0x928))&&(_0x4022d2=!0x0);}catch(_0x39c22d){_0x576b91[_0xc0615(0x279)](_0x419b0a[_0xc0615(0x733)],_0xc0615(0x74b)+_0xbe300+_0xc0615(0x179),_0x39c22d);}this['featureSupport'][_0xc0615(0x24b)]({'name':_0xbe300,'supported':_0x4022d2}),_0x4022d2||_0x576b91['log'](_0x419b0a[_0xc0615(0x733)],_0xc0615(0x74b)+_0xbe300+'\x20not\x20supported');}['checkAudioContext'](){const _0x27286a=_0x3f1d19,_0x174af8=_0xef8318[_0x27286a(0x43f)];let _0x3c73c6=!0x1;_0x27286a(0x3f2)==typeof AudioContext?_0x3c73c6=!0x0:_0x576b91[_0x27286a(0x279)](_0x419b0a[_0x27286a(0x733)],'Support:\x20'+_0x174af8+'\x20not\x20supported'),this[_0x27286a(0x155)][_0x27286a(0x24b)]({'name':_0x174af8,'supported':_0x3c73c6});}}const _0x5b99a6=_0x4a8498[_0x3f1d19(0x508)]();class _0x2a7835{static [_0x3f1d19(0x2d7)];static [_0x3f1d19(0x87c)];static [_0x3f1d19(0x24d)];['authService'];[_0x3f1d19(0x3db)];[_0x3f1d19(0xa4f)];[_0x3f1d19(0x1b8)];[_0x3f1d19(0x4b5)]=new Map();['authContext'];constructor(_0x3a3128,_0x184576,_0x30ccc7){const _0x99d606=_0x3f1d19;this[_0x99d606(0x3db)]=_0x3a3128,this[_0x99d606(0x1b8)]=_0x184576,this[_0x99d606(0xaea)]=new _0x483a13(this[_0x99d606(0x3db)]),_0x5b99a6['initialize'](),this[_0x99d606(0xa4f)]={'audioContext':_0x30ccc7?.[_0x99d606(0x2f9)]??(_0x5b99a6[_0x99d606(0x8c3)](_0xef8318[_0x99d606(0x43f)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x30ccc7?.[_0x99d606(0x8b3)]??0x1,'minConnections':_0x30ccc7?.['minConnections']??0x3,'maxConnections':_0x30ccc7?.[_0x99d606(0x876)]??(_0x30ccc7?.['minConnections']&&0x4*_0x30ccc7[_0x99d606(0x846)])??0xc,'maxDistance':_0x30ccc7?.[_0x99d606(0x141)]??0xa,'maxFps':_0x30ccc7?.[_0x99d606(0x4eb)]??0x18,'maxBpp':_0x30ccc7?.[_0x99d606(0x2fc)]??0.12,'objectStoreConnector':_0x30ccc7?.['objectStoreConnector']??_0x3e173b['OPFSObjectStoreConnector'],'externalStorageConnectors':_0x30ccc7?.[_0x99d606(0x5fd)],'keyValueDatabaseConnector':_0x30ccc7?.[_0x99d606(0x9a3)]??_0x318086[_0x99d606(0x898)],'peerConnectionConnector':_0x30ccc7?.['peerConnectionConnector']??_0x39c89c[_0x99d606(0x13d)],'generativeAIWorkerConnectors':_0x30ccc7?.[_0x99d606(0x9f5)],'generativeAISpeechConnectors':_0x30ccc7?.['generativeAISpeechConnectors'],'vectorDatabaseConnector':_0x30ccc7?.[_0x99d606(0x5df)],'graphDatabaseConnector':_0x30ccc7?.[_0x99d606(0x364)],'documentParserConnector':_0x30ccc7?.[_0x99d606(0xa6b)],'fileConnector':_0x30ccc7?.[_0x99d606(0xabc)],'nlpLibraryConnector':_0x30ccc7?.['nlpLibraryConnector'],'searchConnector':_0x30ccc7?.[_0x99d606(0x222)],'aiSearchConnector':_0x30ccc7?.['aiSearchConnector'],'queryFileConnector':_0x30ccc7?.[_0x99d606(0x83f)],'ragConnectors':_0x30ccc7?.[_0x99d606(0x7e2)]},_0x30ccc7?.[_0x99d606(0x294)]&&this[_0x99d606(0xa4f)][_0x99d606(0x2f9)]&&_0x18a0c6[_0x99d606(0xa3f)](this[_0x99d606(0xa4f)][_0x99d606(0x2f9)]),_0x576b91[_0x99d606(0x38d)](this['vendorId']),_0x30ccc7?.[_0x99d606(0x24f)]&&_0x576b91[_0x99d606(0x21e)](_0x30ccc7['loggingConnectors']);}static async['getInstance'](_0xecd356,_0x9b3d6,_0x7f86c5,_0x334d74,_0x15e62a){const _0x5a66b0=_0x3f1d19;this[_0x5a66b0(0x24d)]=_0x7f86c5;const _0x723667=await this[_0x5a66b0(0x8a9)](_0xecd356,_0x9b3d6,_0x15e62a);return _0x2a7835['instance']||(_0x2a7835[_0x5a66b0(0x2d7)]=new _0x2a7835(_0xecd356,_0x723667,_0x334d74)),{'close':_0x2a7835[_0x5a66b0(0x2d7)][_0x5a66b0(0x87b)][_0x5a66b0(0x2f6)](_0x2a7835[_0x5a66b0(0x2d7)]),'authenticateUser':_0x2a7835[_0x5a66b0(0x2d7)][_0x5a66b0(0x41f)][_0x5a66b0(0x2f6)](_0x2a7835['instance']),'authenticateAgent':_0x2a7835[_0x5a66b0(0x2d7)][_0x5a66b0(0x9ca)][_0x5a66b0(0x2f6)](_0x2a7835[_0x5a66b0(0x2d7)]),'validateKey':_0x2a7835[_0x5a66b0(0x2d7)][_0x5a66b0(0x702)][_0x5a66b0(0x2f6)](_0x2a7835[_0x5a66b0(0x2d7)]),'joinCluster':_0x2a7835[_0x5a66b0(0x2d7)][_0x5a66b0(0x990)][_0x5a66b0(0x2f6)](_0x2a7835[_0x5a66b0(0x2d7)])};}static async[_0x3f1d19(0x82d)](){const _0x87d9e3=_0x3f1d19;return _0x25e54d[_0x87d9e3(0x472)]();}static[_0x3f1d19(0xb4a)](){return _0x3af887['isProduction'];}async[_0x3f1d19(0x87b)](_0x4f0ce5){const _0x20b514=_0x3f1d19;this['clusters'][_0x20b514(0xa0d)](_0x9b2881=>{const _0x25c943=_0x20b514;_0x9b2881[_0x25c943(0xa6a)](),_0x9b2881[_0x25c943(0x35f)](_0x4f0ce5);}),this['clusters']['clear'](),this[_0x20b514(0xa4f)][_0x20b514(0x2f9)]&&_0x18a0c6[_0x20b514(0xab1)](),_0x2a7835['unsubscribe']?.(),_0x2a7835[_0x20b514(0x87c)]=void 0x0,this[_0x20b514(0x90d)]=void 0x0,await this['authService'][_0x20b514(0x152)](),_0x2a7835[_0x20b514(0x2d7)]=void 0x0;}static async[_0x3f1d19(0x8a9)](_0x304566,_0x1f0c98,_0x5657a0){const _0xae2662=_0x3f1d19;if(!this[_0xae2662(0x24d)])throw new _0x122c6c(_0x26fc1d[_0xae2662(0x3aa)],_0xae2662(0x471));let _0x27bbdb;try{_0x27bbdb=await(0x0,_0x2ac1a7[_0xae2662(0x23d)])(_0x25e54d[_0xae2662(0xb0a)](),_0xae2662(0x4b2))({'vendorId':_0x304566,'accessToken':_0x1f0c98,'secretKey':_0x5657a0});}catch(_0x5a5f20){throw new _0x122c6c(_0x26fc1d[_0xae2662(0x96b)],_0xae2662(0xb53));}if(!this['isInternalSDKConfigs'](_0x27bbdb[_0xae2662(0xa34)]))throw new _0x122c6c(_0x26fc1d['InvalidAccess'],'Invalid\x20credentials');const _0x341ce5=_0x27bbdb['data'];return _0x341ce5['features']||(_0x341ce5[_0xae2662(0x94d)]=[]),this[_0xae2662(0x87c)]||(this[_0xae2662(0x87c)]=_0x18a0c6[_0xae2662(0x92b)](async()=>{const _0x33c291=_0xae2662;try{const _0x357862=await this['validateAccess'](_0x304566,_0x1f0c98,_0x5657a0);this[_0x33c291(0x24d)]===_0x1c7ce5['NodeType'][_0x33c291(0x2de)]&&(_0x357862['iceServers']=_0x357862[_0x33c291(0x61a)]['filter'](_0x38b42d=>_0x38b42d[_0x33c291(0x285)]['startsWith'](_0x33c291(0x611)))),_0x341ce5[_0x33c291(0x61a)]=_0x357862[_0x33c291(0x61a)];}catch(_0x3ea20a){}},0x1b7740)),_0x341ce5;}async[_0x3f1d19(0x41f)](_0x4d6a78){const _0x37a342=_0x3f1d19;if(_0x2a7835['mode']!==_0x1c7ce5[_0x37a342(0x77d)][_0x37a342(0x596)])throw new _0x122c6c(_0x26fc1d[_0x37a342(0x2ae)],_0x37a342(0x293));await this['authService']['signInWithCredential'](_0x4d6a78);const _0x121777=new _0x17ff3b(_0x4d6a78['id'],_0x4d6a78[_0x37a342(0x1df)],_0x4d6a78[_0x37a342(0x968)]);return this[_0x37a342(0x90d)]={'node':_0x121777},_0x5b99a6[_0x37a342(0x78b)](_0x121777),{'type':_0x1c7ce5[_0x37a342(0x77d)][_0x37a342(0x596)],'getId':_0x121777[_0x37a342(0x7be)]['bind'](_0x121777),'getDisplayName':_0x121777['getDisplayName'][_0x37a342(0x2f6)](_0x121777),'getEmail':_0x121777[_0x37a342(0x256)][_0x37a342(0x2f6)](_0x121777),'setDisplayName':_0x121777[_0x37a342(0x2b0)][_0x37a342(0x2f6)](_0x121777),'setEmail':_0x121777['setEmail'][_0x37a342(0x2f6)](_0x121777)};}async[_0x3f1d19(0x9ca)](_0x478af8){const _0x288709=_0x3f1d19;if(_0x2a7835[_0x288709(0x24d)]!==_0x1c7ce5[_0x288709(0x77d)]['Agent'])throw new _0x122c6c(_0x26fc1d['NodeInvalidType'],'Node\x20type\x20is\x20invalid');const {id:_0x1a644b,groupId:_0x192c6c}=_0x478af8,_0x3808bb=await(0x0,_0x46e89c[_0x288709(0x59e)])((0x0,_0x46e89c['doc'])(_0x25e54d['getFirestore'](),_0x288709(0x359)+this['vendorId']+'/resources/agent/items/'+_0x192c6c));if(!_0x3808bb['exists']())throw new _0x122c6c(_0x26fc1d[_0x288709(0x379)],_0x288709(0xb72));const _0x2c68b6=_0x3808bb[_0x288709(0xa34)]();await this[_0x288709(0xaea)][_0x288709(0x417)]({'id':_0x1a644b});const _0x2bcc4f=new _0x206519(_0x1a644b,_0x192c6c,this[_0x288709(0x3db)],_0x2c68b6);return this['authContext']={'node':_0x2bcc4f},_0x5b99a6[_0x288709(0x78b)](_0x2bcc4f),this[_0x288709(0x8c5)](_0x2bcc4f),{'type':_0x1c7ce5[_0x288709(0x77d)]['Agent'],'getId':_0x2bcc4f[_0x288709(0x7be)][_0x288709(0x2f6)](_0x2bcc4f),'onConfigurationChange':_0x2bcc4f['onConfigurationChange'][_0x288709(0x2f6)](_0x2bcc4f),'setReportCapacity':_0x2bcc4f['setReportCapacity']['bind'](_0x2bcc4f)};}async[_0x3f1d19(0x702)](_0x3225bc,_0x58cc05){const _0x1d8172=_0x3f1d19,_0x57be03=await(0x0,_0x46e89c[_0x1d8172(0x59e)])((0x0,_0x46e89c[_0x1d8172(0xb4b)])(_0x25e54d[_0x1d8172(0x914)](),_0x1d8172(0x375)+_0x3225bc));if(!_0x57be03[_0x1d8172(0x24a)]()){const _0x298c40=atob(_0x3225bc)['split'](':'),_0x48be81=_0x298c40[_0x1d8172(0x825)](),_0x5c88c7=_0x298c40['join'](':');if(!_0x48be81||!_0x5c88c7)throw new _0x122c6c(_0x26fc1d[_0x1d8172(0x96b)],_0x1d8172(0xa60));try{return await(0x0,_0x2ac1a7[_0x1d8172(0x23d)])(_0x25e54d[_0x1d8172(0xb0a)](),'sdkValidateAccess')({'vendorId':_0x48be81,'accessToken':_0x5c88c7,'origin':_0x58cc05}),_0x48be81;}catch(_0x2fc478){throw new _0x122c6c(_0x26fc1d[_0x1d8172(0x96b)],'Invalid\x20key:\x20'+(_0x2fc478 instanceof Error?_0x2fc478[_0x1d8172(0x759)]:_0x1d8172(0x71d)));}}return _0x57be03['data']()[_0x1d8172(0x3db)];}async[_0x3f1d19(0x990)](_0x54ec6a,_0x54cf7a){const _0x20eeab=_0x3f1d19;if(!this[_0x20eeab(0x90d)])throw new _0x122c6c(_0x26fc1d[_0x20eeab(0x379)],_0x20eeab(0x160));if(this['authContext'][_0x20eeab(0x947)][_0x20eeab(0x8c9)]!==_0x1c7ce5[_0x20eeab(0x77d)][_0x20eeab(0x596)])throw new _0x122c6c(_0x26fc1d[_0x20eeab(0x21d)],_0x20eeab(0x7b3));if(this[_0x20eeab(0x4b5)][_0x20eeab(0x1c3)](_0x54ec6a))throw new _0x122c6c(_0x26fc1d['ClusterAlreadyJoined'],'Cluster\x20already\x20joined');const _0x276eba=new _0x3b2fb0(this[_0x20eeab(0x3db)],_0x54ec6a,this[_0x20eeab(0x90d)][_0x20eeab(0x947)],this[_0x20eeab(0xaea)],this[_0x20eeab(0xa4f)],this[_0x20eeab(0x1b8)]);return!0x0!==_0x54cf7a&&await _0x276eba['join'](),this[_0x20eeab(0x50d)](_0x54ec6a,_0x276eba),_0x576b91[_0x20eeab(0x75c)]('join-cluster',{'clusterId':_0x54ec6a,'nodeId':this[_0x20eeab(0x90d)][_0x20eeab(0x947)][_0x20eeab(0x7be)](),'nodeType':this[_0x20eeab(0x90d)]['node'][_0x20eeab(0x8c9)]}),{'leave':_0x276eba[_0x20eeab(0x35f)]['bind'](_0x276eba),'getLocalNode':_0x276eba[_0x20eeab(0x5a9)][_0x20eeab(0x2f6)](_0x276eba),'openPubSubTopic':_0x276eba[_0x20eeab(0xade)]['bind'](_0x276eba),'openObjectStoreBucket':_0x276eba[_0x20eeab(0x781)][_0x20eeab(0x2f6)](_0x276eba),'openExternalStorageConnection':_0x276eba['openExternalStorageConnection']['bind'](_0x276eba),'openKeyValueDatabase':_0x276eba[_0x20eeab(0x14e)][_0x20eeab(0x2f6)](_0x276eba),'openGenerativeAIContext':_0x276eba[_0x20eeab(0x525)][_0x20eeab(0x2f6)](_0x276eba),'openGenerativeAIContextStandalone':_0x276eba['openGenerativeAIContextStandalone']['bind'](_0x276eba),'openGenerativeAIWorker':_0x276eba[_0x20eeab(0x362)][_0x20eeab(0x2f6)](_0x276eba),'openGraphDatabase':_0x276eba['openGraphDatabase'][_0x20eeab(0x2f6)](_0x276eba),'openVectorDatabase':_0x276eba[_0x20eeab(0x7fb)][_0x20eeab(0x2f6)](_0x276eba),'publishLocalMediaStream':_0x276eba[_0x20eeab(0x92f)][_0x20eeab(0x2f6)](_0x276eba),'publishLocalDynamicMediaStream':_0x276eba['publishLocalDynamicMediaStream'][_0x20eeab(0x2f6)](_0x276eba),'getPubSubTopics':_0x276eba[_0x20eeab(0x429)]['bind'](_0x276eba),'getObjectStoreBuckets':_0x276eba[_0x20eeab(0x54a)][_0x20eeab(0x2f6)](_0x276eba),'getExternalStorageConnections':_0x276eba['getExternalStorageConnections'][_0x20eeab(0x2f6)](_0x276eba),'getKeyValueDatabases':_0x276eba[_0x20eeab(0x6ee)][_0x20eeab(0x2f6)](_0x276eba),'getGenerativeAIContexts':_0x276eba[_0x20eeab(0x5cb)][_0x20eeab(0x2f6)](_0x276eba),'getGenerativeAIContextsStandalone':_0x276eba[_0x20eeab(0x560)][_0x20eeab(0x2f6)](_0x276eba),'getGenerativeAIWorkers':_0x276eba[_0x20eeab(0x4d1)][_0x20eeab(0x2f6)](_0x276eba),'getGraphDatabases':_0x276eba[_0x20eeab(0xb23)]['bind'](_0x276eba),'getVectorDatabases':_0x276eba[_0x20eeab(0x38e)][_0x20eeab(0x2f6)](_0x276eba),'getLocalMediaStreams':_0x276eba['getLocalMediaStreams'][_0x20eeab(0x2f6)](_0x276eba),'getRemoteMediaStreams':_0x276eba[_0x20eeab(0x1c8)]['bind'](_0x276eba),'getRemoteNodes':_0x276eba[_0x20eeab(0x321)]['bind'](_0x276eba),'on':_0x276eba['on'][_0x20eeab(0x2f6)](_0x276eba),'off':_0x276eba[_0x20eeab(0xa6a)]['bind'](_0x276eba)};}async['connectAgent'](_0x131588){const _0x1e62e8=_0x3f1d19,_0x296957=new _0x3b2fb0(this['vendorId'],_0x1e62e8(0x712),_0x131588,this[_0x1e62e8(0xaea)],this[_0x1e62e8(0xa4f)],this[_0x1e62e8(0x1b8)]);await _0x296957[_0x1e62e8(0x4b3)](),this[_0x1e62e8(0x50d)](_0x1e62e8(0x712),_0x296957),_0x576b91[_0x1e62e8(0x313)]('Joined\x20cluster',_0x1e62e8(0x712)),await _0x296957[_0x1e62e8(0x362)]('crewdle'),_0x576b91['forceLog']('Opened\x20generative\x20AI\x20worker',_0x1e62e8(0x712));}[_0x3f1d19(0x50d)](_0x40340f,_0x3fd68d){const _0x549a14=_0x3f1d19;this[_0x549a14(0x4b5)][_0x549a14(0xb36)](_0x40340f,_0x3fd68d),_0x3fd68d['on'](_0x549a14(0x86a),()=>{const _0x59d588=_0x549a14;_0x3fd68d[_0x59d588(0xa6a)](),this[_0x59d588(0x4b5)]['delete'](_0x40340f);});}static[_0x3f1d19(0x9fd)](_0x132552){const _0xec78e1=_0x3f1d19;return void 0x0!==_0x132552[_0xec78e1(0x61a)];}}return _0x4ff6bf;})())));function a0_0x508b(){const _0xe91e5e=['getPriority','Text\x20is\x20required','reset','desc','KeyValueDatabaseAlreadyExists','wait-false','appendTransaction','undefined','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','transaction','GraphDatabaseStats','problem','subscriptions','.info/serverTimeOffset','PubSubTopicNameNotString','nodesConnected','questions','Method\x20not\x20implemented.','Competitive\x20Analysis\x20Agent','processOutboundReport','CrewdleConnection\x20handlePeerConnectionSystemEvents','sentence-splitter','setPendingFileSyncingPayload','debounceReady','onConnectionStateChange','subscription-request-failed','LoggingService:\x20logging\x20enabled\x20for','handleAnswer','isWhereValues','subscription-request-no-answer','Resolution','processJob','isReady','setReceiverTimestamp','stopNoThrottlingHack','GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found','PeerConnection','createDataChannel','jobQueue','version','\x27\x20from\x20','setEmail','engineType','KeyValueDatabaseTableNotFound','stopConnection','fileConnector','Could\x20not\x20open\x20trace','createSubscription','jobObservers','disconnectCallback','topics','isNodeReady','retryQueues','.php','getAuth','server','bytesSent','handleMissingSenders','Cannot\x20find\x20External\x20Storage\x20connection:\x20','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','eventListener','keyPath','isJobAttribution','IngestTrace','ModelText','generative-ai-context-invalid-partial-result','GenerativeAIInferenceToolType','outgoingManager','manageOptimization','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','ExternalStorageUpload','\x20Fallback\x20model','.css','next','connectionConstructor','open','RemoteMediaStreamDoesNotExist','computeHash','JobWorker:\x20Tracing\x20not\x20implemented','openPubSubTopic','debounceProcessRank','object-store-stream-does-not-exist','firstValueFrom','sendAction','filename','MissingSystemTopic','Receiving\x20\x27','object-store-not-synced','gatheringState','waitSendBuffer','handleContentSystemEvents','authService','RAG\x20connector\x20is\x20not\x20available','debounceAppendLog','July\x202024','detectProblems','.hbs','.crewdle-pending','removeRemoteConnection','cluster-disconnect','currentVersion','AudioOutput','contentManager','Error\x20processing\x20workflow\x20block','startsWith','Data\x20Received','logger','messageUnsubscriber','TextToSpeech','Execute\x20skill\x20','processInboundReport','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','setLocalRank','September\x202023','aws','Cannot\x20publish\x20file:\x20','logMMRRebuild','cores','searchInDataCollection','addVideoTrack','boolean','text/event-stream','getFunctions','onGatheringStateChange','objectStores','List','arrayBufferToObject','name','Base\x20Peer\x20Connection','Channel\x20\x27','manageBufferedChunks','external-storage','WebRTC','localId','NeedMediaStream','registerSubscriber','logDataSent','Error\x20committing\x20batch:','_ready','job-worker-does-not-exist','models','ExternalStorage','setupResizeHandler','nodeManager','required','isFailedResponse','URL\x20is\x20required','getGraphDatabases','handleChunkMessage','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','closeSubscription','Error\x20stringifying\x20object','fallbackModel','No\x20connections\x20available\x20to\x20send\x20message','getMonth','maxBitrate','executeWorkflow','rtt','gpt-4o','keyValueDatabases','bufferedEvents','joinedClusters','setupListeners','remote-inbound-rtp','set','Index','arguments','inference','Error\x20writing\x20chunk\x20to\x20stream','getMilliseconds','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','setStatus','getShareableStreamId','handleNeedRestart','OfficeParser','isIceCandidate','upgradeTimeout','\x20is\x20required','Error\x20writing\x20file','/transactions/','ref','source','handleSubscriptionNeedMediaStream','getPubSubTopic','isProduction','doc','checkDeviceConfig','includes','createBatchOperation','query-helper-invalid-argument','CustomSkill','requestSubscriptionAction','internalContext','Invalid\x20credentials','unshift','getExternalStorageConnection','.xml','gpu','canvas','document-parser','removePubSubTopic','successNotified','GenerativeAIEngineType','available','getOwnerId','trackCallback','removeRemoteStreamSubscription','peerConnectionConnector','Detection','Pool','outputTokens','claude-3-7-sonnet-latest','GenerativeAIRatingStatus','trim','publishMove','handleSubscriptionSubscribeMediaStream','file-download','estimatedPlayoutTimestamp','Mistlet\x20capacity\x20report\x20not\x20set.','isBidResponse','Submit\x20the\x20form.','processDataChannelReport','retryDelay','chained','Agent\x20group\x20not\x20found','onDisconnectHandler','Cluster','JobWorker:\x20Error\x20processing\x20job','KeyValueDatabaseInvalidLayout','getDataBucketIds','getResolutionScale','SubscriptionRequestNoAnswer','.pdf','isMediaDestination','Disconnected','iceConnectionState\x20failed','Error\x20processing\x20retrieve','registerSource','removeSubscription','images','WebRTCBrowserPeerConnectionConnector','Outgoing','commit','addTrack','maxDistance','responseTimeout','NodeUpdate','6aXJZXr','getResolution','transactionsToSync','destinationIds','removeJobDispatcher','getSubscribedTracks','Embed','SenderPeerConnection.send','ingestBlocks','recipients','openKeyValueDatabase','hashTransaction','o3-mini','local-media-stream-track-fail','signOut','clearWaitSuccess','KeyValueDatabaseRequestTransactionsValue','featureSupport','KeyValueDatabaseTransactionTableNotInitialized','unregisterPublisher','isReconnecting','stream','OutgoingMediaStreamNoTopic','.lua','load','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','ragConnector','\x27\x20in\x20layout','Node\x20not\x20authenticated','queryFile','PromptRating','combinePeaks','contentMediator','Failed\x20to\x20send\x20job\x20','\x20to\x20send\x20dispatcherJob\x20','timePerFrame','minRelevance','score','time','usage','setOnMessageHandler','KeyValueDatabaseContentSynchronized','JobDispatcherCreationFailed','client','handleOptimizationConnectionSuccess','getRemoteNode','GraphDatabaseCreationFailed','Update','ObjectStoreInvalidState','\x0a\x20===\x20Current\x20MMR\x20Root','generative-ai-worker-already-exists','collectTransactionsFromNode','createBatch','\x20check\x20failed','image-parser','.txt','2850esVBuv','handleLocalTrackFailure','aiSearchApiKey','completeSync','moveObject','configure','clusterKey','Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','setOnTableWriteHandler','remote-stream-does-not-exist','results','mergeParts','layout','getEntities','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','registerRemoteNode','SubscriptionRequestFailed','clearHeartbeat','Code','Media','copywriter-agent','job-dispatcher-job-not-found','Low','question-','mediaStream','All','feedback','toStringTag','getPartsFromSubscription','ccc','Prompt','publishSyncCompletedAfterWrites','GenerativeAIContextJobInvalidType','processLocalReport','external-storage-connection-does-not-exist','previousBytes','once','Jobs','previousFrames','Early\x20return','connectorConstructor','maps','LoadKnowledgeFunction','created','object-store-not-in-sync','setupStatsReporting','PartialResult','notifyClusterNodeUpdate','PubSubTopicAlreadyExists','Trend\x20Spotter','node-type-not-supported','incrementVersion','handleFileRequestAnswer','JobQueueService:\x20Job\x20completed','JobWorkerDoesNotExist','publishSystemMessage','memoryUsage','Backgrounds','agent-config-changed','processContentSynchronized','configs','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','Sender','receiverTimeProcessing','.json','publishLocalDynamicMediaStream','generative-ai-context-does-not-exist','validateVendorCredits','apiUrl','ExternalStorageConnectionAlreadySubscribed','deleteJob','has','collection-query','return\x20this','out','WriteFile','getRemoteMediaStreams','clearSubscriptionRequestTimeout','ClusterAlreadyJoined','InvalidDataChannel','IntermediateOutput','objectRequests','video','VectorDatabaseNameNotString','ExecuteWorkflow','detectionManager','headers','dispatchEvent','object-store-already-exists','mediaUnsubscribers','graphService','exports','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','syncTimeout','connector','url','Invalid\x20index\x20in\x20table\x20\x27','getTotalBytes','Receiver\x20connection\x20is\x20not\x20initialized.','displayName','filter','relevance','CloseObjectStoreBucket','removeJobWorker','ExecuteAgent','\x20with\x20response:','handleUnpublishMediaStream','claude-3-haiku-20240307','handleProblem','parseDataCollectionBlocks','random','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','folder-create','getConnectionDestinations','SearchGoogle','support','Invalid\x20node\x20type','inactive','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','TextGeneration','__esModule','validateValue','setAnswer','CloseMediaStream','RelationExtractor','path','nlpLibraryConnector','Attribution','\x20Processing\x20audio\x20block','20sLrGli','fetch-url','setupTrackEndedListeners','getContentType','CPUCycle','Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string','Shared','manageAncestor','openedTraces','createCollection','data-collection','isWhereValue','receiverPreviousBytes','AppSync\x20client\x20not\x20ready','upload','enabledChannels','messageBuffer','invalid-data-chanel','track','outgoingTopic','external-storage-name-not-string','Retrieve','registerSystemSource','closeConnection','initializeApp','findNewMediaSubscription','links','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','Unknown\x20skill\x20type','form-skill','Data\x20cluster\x20is\x20not\x20open.','generative-ai-context-job-already-consumed','NodeTypeNotSupported','setLoggingConnectors','key','captureStream','1.0.44','searchConnector','Boolean','Before\x20Synchronization','value','jobType','KeyValueDatabaseStats','Wait','videoWidth','checkMediaRecording','Node\x20already\x20exists.','st_volatility','realtime-session-create','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','router','Additional\x20context:\x0a','hash','remote-media-stream-already-exists','delete','systemMessages','user-join','registerCluster','parse','JobWorkerCreationFailed','workflowId','Node\x20is\x20not\x20an\x20agent','setProviderId','outgoingStreams','httpsCallable','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','getName','setCurrentVersion','May\x202024',',\x20Total\x20Nodes:','default','getChannelData','Invalid\x20job\x20type','hasRemoteNode','overlap','handleNoAnswer','Job\x20Dispatcher\x20does\x20not\x20exist','exists','push','bid','mode','6620gjoqCL','loggingConnectors','PubSubTopicStats','DTVolatility','WorkflowDoesNotExist','answererId','getTime','removeRemoteNode','getEmail','cachedRoot','Error\x20closing\x20trace','PubSubTopicDoesNotExist','jobId','FolderDelete','Error\x20parsing\x20JSON:','handleObjectMove','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','Internal\x20event\x20\x27','videoHeight','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','-leave','file-ingest','assistant','Entity','start','Node\x20\x27','setBytes','roundTripTime','GetContextQuery','buffer','Failed\x20to\x20get\x20file','appsync-close','tableLayout','Cannot\x20unpublish\x20object\x20at\x20','Search','cluster','northamerica-northeast1','setupRenderElement','Anthropic','removeEventListener','NeedRestart','size','restartTimeout','log','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','\x20attributed\x20to\x20','offset','RemoteMediaStreamInvalidSubscriptionParams','connectionManager','CloseJobWorker','clockSkew','documentPath','createFolder','Emitting\x20event\x20on\x20local\x20cluster','getSize','urls','validateQuery','Execute\x20the\x20workflow\x20','createKeyValueDatabase','getTableConnector','removeGraphDatabase','August\x202023','requestSubscription','currentFrames','SenderSendMessage','handleConnectionSuccess','DatabaseEvent','notifyObjectStoreOfNodeLeave','not-in','Node\x20type\x20is\x20invalid','disableIntervalHack','getMinConnections','removeRemoteMediaStream','\x20received\x20responses:','senderTimeProcessing','Missing\x20vector\x20database\x20connector','data:','write','minThreshold','setDurationTime','reject','getToolDescription','resolutionScale','applyRemediation','generativeAIWorkers','handleContentCloseMediaStream','Missing\x20graph\x20database\x20connector','transactionService','\x0a\x20===\x20Synchronization\x20Time:\x20','Audio','handshakeCandidates','senderBitrate','.exs','compileStats','remoteMediaStreams','.vb','NodeInvalidType','padStart','setDisplayName','Error\x20reading\x20file\x20chunk\x20after\x20','buildTableEvent','inputTokenPrice','addNode','sendRequest','receiverConnection','subscriptionRequestsQueue','streamLabel','PayloadAction','getContext','embedding','origin','RemoteAdd','false','file.content','.xls','en-US','isAvailable','input-stream','CloseJobDispatcher','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','key-value-database-peak-not-found','syncKeyValueDatabase','AI\x20Worker\x20already\x20exists','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','Get','Info','processReceiverReport','event','topK','database','clearConnectionTimeout','prompt_tokens','KeyValueDatabaseTransactionValueNotSet','getDatabase','nextNodeId','getUserMedia','key-value-database-already-exists','instance','getWorkflow','ConnectionState','AiSearch','pendingSyncTransactions','pub-sub-topic-already-exists','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','Agent','bufferedChunks','KeyValueDatabaseTableNameReserved','KeyValueDatabaseRequestPeakTransactions','listenUnsubscriber','file-list','failed','Remediation','setUpgradeTimeout','peakHeights','createJobDispatcher','unregisterSystemSource','batchSize','queries','where','Default','packetsLost','senderCurrentBytes','No\x20start\x20block\x20found','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','heartbeatUnsubscriber','pubsubTopics','File','sendBid','bind','issue','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','audioContext','handleOnMessage','createTopic','maxBpp','validation','globalObject','number','stringify','RequestFileSync','graphql','logPropagateSystemEvent','queueLength','Offline','WordSplitter','coordinator-agent','deleteFile','Method\x20not\x20supported','KeyValueDatabaseContentAvailable','statsReport','.twig','handleRemoteTrackFailure','addProblem','cpu.av_delay','logRaw','secheduleTime','KeyValueDatabaseNameNotString','forceLog','Result','Logging\x20not\x20enabled\x20for\x20channel\x20','\x20received\x20partial\x20result:','splitParts','signalingState','getAvailableTrackKinds','nodeUpdate','writeTransaction','destroy','.swift','remoteNodes','tableObserver','loadFromDisk','getRemoteNodes','getDisplayMedia','PubSubTopicAlreadySubscribed','skipEncryption','gpt-4o-mini-transcribe','shouldProcessTransaction','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','agentId','Error\x20processing\x20agent\x20block','removeVectorDatabase','ObjectStoreNotSynced','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','ObjectStoreNotInSync','search','Archival\x20Search\x20Agent','RequestAccepted','JobDispatcher:\x20Received\x20job','addConnection','ChunkSplitter','JobDispatcherAlreadyExists','detection','hashNodes','/vector_stores/','getLocalMediaStream','File\x20sending\x20interrupted','chunk','getConnectionGroup','Write\x20text\x20data\x20to\x20a\x20file.','\x20Stream\x20usage','loggingCycle','.handlebars','gpt-4.1-mini','clearSyncTimeout','trackChanges','queryOrPrompt','NodeAlreadyExist','play','all','PubSubTopic\x20onMessage','FolderCreate','startBidResponseHandling','subject','numeric','debounceStats','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','generative-ai-worker-model-sync-error','WorkflowInvalidBlockType','October\x202023','retrieveBlocks','readyPromises','standalone','Summary\x20Generator','SearchPerplexity','User\x20not\x20signed\x20in','LocalMediaStreamDoesNotExist','fetchContentFromUrl','developers/','removeTrackListeners','getDataCollections','checkMediaStream','api-key-missing','app','leave','/resources/generative-ai-agent/items','getTransactions','openGenerativeAIWorker','Embeddings','graphDatabaseConnector','.sh','lastUpdated','getDocs','restartHandshake','GenerativeAIContextDoesNotExist','debounceRebuildMMR','reranker','threadId','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','setIsLoaded','\x20MB','\x20writes\x20from\x20','RemoteRemove','getTracks','ObjectStoreInvalidPayload','fps','apikeys/','handleSuccess','collection','tools','NodeNotAuthenticated','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','isMediaSource','right','outgoing-stream-no-topic','autoplay','blocks','code','substring','hosting','.cs','isSyncing','Local\x20MediaStream\x20already\x20exists','developers','subtle','Error\x20executing\x20agent','objectToArrayBuffer','enabled','functions','request-file-sync','setVendorId','getVectorDatabases','GraphDatabaseNameNotString','JobWorkerInvalidType','toLowerCase','generative-ai','Invalid\x20publisher.','GraphDatabase','getLocalMediaStreams','enumerateDevices','handleNodeDisconnect','ready','PromptFunctionParamsType','Received\x20','onChildRemoved','query','systemTopicUnsubscribe','\x20to\x20generate\x20a\x20response.','writeFile','\x20must\x20be\x20a\x20string','vector','claude-3-5-sonnet-latest','\x20must\x20be\x20a\x20boolean','lastRemediations','sendTransactionsValue\x20-\x20value\x20not\x20found','createOffer','agent-join','All\x20recipients\x20already\x20received','Generic\x20AI\x20Agent','NodeTypeRequired','blank-agent','listChanges','processReceivedTransactions','remediation','listener','Job\x20Dispatcher\x20already\x20exists','Store\x20already\x20exists','transactions','splice','send','StorageEventType','operations','.crewdle-last-transaction','No\x20connector\x20found\x20for\x20model','Completed','getDataCollection','interval','JobContext','messageCallback','getJobObservable','createLocalDynamicMediaStream','maxResolution','clearOncloseTimeout','digest','lastTransactionId','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','\x20with\x20','subscribedTracks','GetContextResult','filteredDestinationIds','result','removeConnection','relation','height','gpt-4o-transcribe','getBuffer','processTransactionPayload','entities','clearRestartTimeout','jobPhase','1.0.44.0','indexes','processReport','ObjectStore','tableName','getTable','resume','chooseAnswer','vendorId','val','writeBatch','getPeakNode','.docx','crewdleSDKDisableLogging','deleteTransactionsForTable','removeOutgoingSubscription','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','getConfigs','setOnDisconnectHandler','payloadType','delta','clearRect','POST','FormGetQuestion','node-invalid-type','getTrack','auth','system','syncContent','frameHeight','Call\x20getQuestion\x20to\x20get\x20the\x20next\x20question','function','MediaStream\x20feature\x20not\x20enabled','JobWorker:\x20Sending\x20job\x20result','SentenceSplitter','appsync-connect-fail','component','Coordinator\x20Agent','Key-value\x20database\x20transaction\x20value\x20not\x20set.','VectorDatabaseDoesNotExist','Invalid\x20version\x20\x27','PubSubTopic\x20publish','connected','VectorDatabaseStats','handleFileSync','retryCount','DataChannel\x20is\x20not\x20open.','groupId','getAgents','getOutgoingOptimizationConnections','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','ExecuteCustomSkill','warn','upgrade','AI\x20Service\x20already\x20exists','Signaling','isValidMediaSubscriptionParams','.mustache','validateLayout','subscription','anthropicApiKey','https://crewdle-sdk-default-rtdb.firebaseio.com','calculateArrayBufferSize','Crewdle','handshakeState','getConnectionType','Database\x20not\x20open','getWorkflows','signInWithCredential','\x20Ai\x20search\x20final\x20response','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','retryCallback','onNodeDisconnect','onloadeddata','Count','openGraphDatabase','authenticateUser','>\x0a\x0a','getShareableStream','createConnection','/logs','AI\x20Search\x20connector\x20not\x20set','Connection\x20does\x20not\x20exist.','bandwidth.jitter','listenerUnsubscriber','dataChannel','getPubSubTopics','Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','Error\x20searching','unregisterDestination','stats','renderElement','Bid','json','generative-ai-context-job-invalid-type','Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','true','Syncing','connection-buffer-not-empty','timeReceiving','ExternalStorageConnection\x20not\x20found','publishNodeJoin','increment','getPartsForSubscriptionLabel','\x27\x20to\x20','crewdleSDKEnableLogging','targetId','Learning\x20Agent','AudioContext','byteLength','Interviewer\x20Agent','Content','receiverStreams','VectorDatabaseCreationFailed','\x20does\x20not\x20exists','prompts','getVectorDatabase','prompt','.ppt','object-storage','handleIceCandidates','jobWorkers','logInitialMMR','compareTransactions','split','onRemoveTrack','saveToDisk','Upload','KeyValueDatabaseSendTransactions','executeQuery','buildInitialMMR','21a9d78dee97f487b','IncomingSubscription','childRemovedUnsubscriber','get','MediaStreamUnavailable','topicLabel','VectorDatabaseAlreadyExists','answerContentAvailable','object-store-name-not-string','archival-search','Restart\x20NeedMediaStream','vector-database-missing-connector','Missing\x20transaction\x20id','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','cpu.fps','.tcl','updated','Synced','statsCollection','handleContentUnpublishMediaStream','.jinja2','unsubscribeListener','output-stream','GenerativeAIContext','openTrace','InvalidSubscription','VectorSearch','Node\x20type\x20is\x20required','getEstimatedTimestamp','connectionPool','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','.groovy','Remote\x20MediaStream\x20already\x20exists','calculateSize','addEdge','outbound-rtp','unregisterSubscriber','speechAIWorkerConnectors','createExternalStorageConnection','Accepted','openExternalStorageConnection','FileWrite','senderCurrentTimestamp','LocalMediaStreamTrackFail','Stats:\x20report','NodeConnectionsUpdate','DataCollection','unregisterSource','.yaml','job-worker-invalid-type','Cannot\x20publish\x20move\x20operation:\x20','getMediaSubscription','Error\x20executing\x20workflow','Blank\x20Agent','removeKeyValueDatabase','failJob','hasTracks','Connection\x20not\x20initialized.','currentBatch','getConnections','round','removeTrack','Today\x20Date:\x20','removeLocalMediaStream','Answer','getSubscriptionInfo','abs','context','handleSubscriptionSystemEvents','Warning','onNodeUpdate','getQuestion','setReceiverBytes','incomingTopic','JobStream','processPendingSyncTransactions','pendingFilesSyncing','Internal\x20SDK\x20error:\x20','providerId','isOffer','Node','getHash','getCurrentVersion','request-file','AITrace','createReceiverConnection','streamId','\x20with\x20\x27','completion_tokens','createAIJob','limit','Subscription','sdkValidateAccess','join','Database\x20does\x20not\x20exist','clusters','senderPreviousTimestamp','startIndex','.pl','connection-not-initialized','searchApiKey','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','Sync\x20completed','appendTransactionAndUpdateHashMap','pendingFilesTransactions','Error\x20opening\x20trace','handleFolderCreate',';base64,','getLocalId','.crewdle-layout','getBitrate','getConnection','previousTimestamp','loadEnabledChannels','dataUnsubscribers','ApiKeyMissing','jobBids','vectorDatabases','internalId','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','sync','/workflows/','RemoteMediaStreamMissingProviderId','getGenerativeAIWorkers','speak','find','collection-delete','getCapacityReport','Received\x20ContentSynchronized\x20from\x20','updateLastUpdated','handleContentRemoteMediaStreamTrackFail','getClosestNodes','peaks','pipe','file','processReports','suspended','onValue','openGenerativeAIContextStandalone','rejectReady','race','then','MediaStream','Missing\x20AI\x20search\x20API\x20key','FPS','minResolutionScale','discoveryService','commitType','OpenAI','maxFps','FinalOutput','checkSyncComplete','isSync','account','TimePerFrame','claude-3-opus-latest','ancestors','lastHeartbeat','SHA-256','connectionType','joinedAt','text-embedding-3-small','publish','internalProcessJobStream','frameTime','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','google','Job\x20service\x20creation\x20failed.','Cannot\x20write\x20transaction.','total','indexOf','generativeAISpeechConnectors','canProvideResolution','executeAgent','Hash\x20computation\x20failed,\x20retrying...','checkWebGL','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','nodeKey','getInstance','processList','signaling','checkWebRTC','handleSubscriptionRestartNeedMediaStream','addCluster','AISearch','isOpened','connection','Object\x20store\x20not\x20synced.','job-dispatcher-creation-failed','Reranker\x20block\x20is\x20missing\x20required\x20data','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','mediaTopics','ENOENT','async','registerDestination','String','Object\x20store\x20connector\x20is\x20not\x20available','peer-connection','Processing','processRemoteInboundReport','getAudioTracks','sender','tracks','0\x20B','.ini','channel','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','openGenerativeAIContext','unsubscribeHandler','decode','NodeLeave','GenerativeAIContextCreationFailed','waitForArrayBufferSize','sendIceCandidates','Rejected\x20answer','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','handleContentUnsubscribeMediaStream','instantiateTransactionTable','updatePropagationProperties','statsReporting','Events','orderByKey','statsManager','Early\x20return:\x20','invalid-subscriber','checkAudioContext','getRemoteMediaStream','UnsubscribeMediaStreamdiaStream','key-value-database-table-name-reserved','removeListener','mmrRoot','listenerUnsubscribers','trackEndedListeners','setInternalId','detail','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','generativeAIContexts','getGraphDatabase','debounceReadyTimeout','logSyncMetrics','generative-ai-label-conflict','Model\x20not\x20found','propn','ConnectionInvalidDataEvent','getObjectStoreBuckets','Invalid\x20data\x20channel.','CannotProvideMediaStream','key-value-database-creation-failed','/nodes','Internal\x20unknown\x20error:\x20','graph-database','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','comparePeaks','getDistance','addEventListener','commitTrace','maxTokens','accumulated','internal','writes','framesDecoded','queues','connectionState','title','gpt-4o-realtime-preview','Query\x20Generator','getGenerativeAIContextsStandalone','subscribeToJobs','createGenerativeAIContext','GenerativeAIWorkerStats','externalStorageConnections','subscribe','KeyValueDatabasePeakNotFound','kind','generative-ai-context-job-missing-thread-id','50433nTNTya','LocalReport','shouldEmit','Vector\x20database\x20creation\x20failed.','UpdateMediaStream','left','createGenerativeAIContextStandalone','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','text','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','CONNECTION_STATE_CHANGE','removeTopic','JobWorker:\x20Sending\x20job\x20bid','tokens','getPeaks','amd','arrayBuffer','FormSkill','createJob','dt_volatility','page','Connected','text/','addReservedTables','FormSetAnswer','clusterEventEmitter','RequestFile','/developers/','job-','resetConnection','setForDeletion','logDataReceived','syncResolve','key-value-database-table-does-not-exist','setParams','.scala','144ZKPCvf','receiver-on-message','GenerativeAIContextStats','speech-to-speech','output_tokens','replaceTrack','isResultResponse','remove','canAddCandidates','User','status','Folder','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','Cannot\x20unpublish\x20object:\x20','handleTransactionPayload','Memory\x20Usage\x20at\x20','setTimestamp','getDoc','handleSubscriptionProvideMediaStream','lastClockUpdate','currentTimestamp','fileSendingMap','ContentType','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','graph-database-already-exists','getReport','inputType','resizeHandler','getLocalNode','.yml','/nodes/','KeyValueDatabase\x20not\x20found','PublishMediaStream','drawImage','KeyValueDatabaseIndexNotFound','asc','::','createRemoteMediaStream','MissingRemoteConnection','sendReject','isComputingMMR','remoteConnections','supports','RemoteRemediation','handleError','senderTotalMessages','\x27:\x20missing\x20or\x20invalid\x20keyPath','CloseGraphDatabase','job-dispatcher-invalid-job-type','waitAnswer','Prompt\x20is\x20required','local-media-stream-already-exists','timeSending','MediaStreamPriority','getRemoteConnections','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','DeviceConfig','eventTarget','handleFileRequest','missing-incoming-connection','mediaDevices','getSupportedContentTypes','getGenerativeAIContexts','candidate','Job\x20service\x20job\x20not\x20found.','DocumentParser','GenerativeAIWorkerCreationFailed','Module','uuid','element','SyncKeyValueDatabase\x20-\x20Ancestors\x20','/embeddings','inbound-rtp','ConnectionBufferNotEmpty','No\x20global\x20object\x20found','Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','tts-1','resolution','ObjectStoreInvalidSyncMessage','Job\x20','vector-database','NodeDoesNotExist','vectorDatabaseConnector','wait','framesEncoded','detectLocalIssues','rebuildMMR','us-east-1','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','stop','generative-ai-worker-creation-failed','KeyValueDatabaseCreationFailed','frames','chosenAnswers','isInternalLoggingConnector','contentSize','ObjectStore\x20not\x20found','createMediaStreamDestination','sender-send-message','endsWith','ObjectStoreStats','.cfg','logServiceEvent','SubscriptionRequestDoesNotExist','207314obWrhH','onDisconnect','Bitrate','parseWorkflowBlocks','publishTransaction','GenerativeAIWorker:\x20Opening','bandwidth.bitrate','startTime','externalStorageConnectors','between','CloseKeyValueDatabase','onUnregisterPublisher','getApp','handleContentUpdateMediaStream','destination','consumeBufferedEvents','dataStores','msalRefreshToken','DataStream','processContentAvailable\x20-\x20Peak\x20comparison:','Cannot\x20publish\x20payload:\x20','Data\x20collection\x20does\x20not\x20exist.','notifyObjectStoreOfNodeJoin','KeyValueDatabase\x20-\x20Sync\x20completed','generative-ai-context-job-timeout','getEngineType','DataChannel\x20buffer\x20is\x20full.','getBufferedAmount','stun:','user','listFiles','STVolatility','internalProcessJob','Processing\x20agent\x20block:\x20','getOrResetPendingFileTimeout','string','write-file','iceServers','CloseExternalStorageConnection','collection-create','closeTrace','file-write','Error\x20closing\x20writable\x20stream','G-F7W8KXRKQB','createNewBatch','Invalid\x20subscription.','job-dispatcher-invalid-payload','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','.tsx','getAudioVideoDelay','getPacketsLostPerc','bufferEvent','\x20were\x20ready\x20in','messagesReceived','processPendingHandshakeCandidates','sort','key-value-database-invalid-value','trackKinds','.html','reasoning','remote-media-stream-invalid-subscription-params','crewdleSDKLoggingChannels','@context.','sourceId','getTrackFromParam','audioDestination','object-store-invalid-state','Invalid\x20query','.info/connected','Request','registerPublisher','crewdle-sdk-stg','ExternalStorageConnectionAlreadyExists','JobQueueService:\x20Running\x20job','\x20must\x20be\x20a\x20number','receiverCurrentBytes','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','publishUserUpdate','setupStatsCollection','previous','observer','msalGetAccessToken','file.type','\x0a</','getMaxDistance','providerListener','SpeechToSpeech','now','Valid\x20layout','processServiceReport','endpointUrl','addBatchOperation','\x20sending\x20attempt\x20','createPubSubTopic','tool-call','High','vector-database-name-not-string','success','handleNodeLeave','some','checkExistingPendingFileContent','gpt-4o-mini','GraphDatabaseDoesNotExist','logUsage','ExecuteCode','external-storage-connection-already-subscribed','Human','resolveReady','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','object-store-invalid-payload','from','KeyValueDatabaseNotOpen','incomingManager','Invalid\x20subscriber.','Consuming\x20buffered\x20event','owner','removeGenerativeAIContext','processTransactionsToComputeMMR','debugEnabled','DataStream\x20onMessage','1:420235181083:web:4eff6062bd845cb0748cbe','setRemoteConnections','GraphDatabaseMissingConnector','noun','Received\x20event\x20on\x20cluster','request-accepted','submitForm','contextInputVariable','CrewdleConnectionGroup','Debug','action','\x20Process\x20inference\x20final\x20response','getToolName','Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','_isReady','pub-sub-topic-does-not-exist','getVideoTracks','.dart','initializeSystemTopic','findIndex','taskType','setSubscriptionRequestTimeout','choices','storage','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','sendFile','text/csv','WaitTrue','.sql','Move','Parameter\x20','1350801xlvtYG','QueryBuilderInvalidArgument','output','input_tokens','srcObject','getTransactionFromTableWriteEvent','ReceiverOnMessage','GenerativeAIModelOutputType','processOutboundReports','maxLayer','detectAudioIssues','object-store-cannot-write-transaction','GraphDatabase\x20not\x20found','.tpl','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','file-delete','/resources/generative-ai-collection/items/','ObjectStoreDoesNotExist','getBid','direction','Recording','.bat','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','isConnected','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','sequence','NodeManager\x20-\x20NodeLeave','processSenderReport','handleSystemEvents','receiver','I\x20have\x20finished\x20executing\x20my\x20task.','search-agent','agentConfig','job-dispatcher-already-exists','pendingHandshakeCandidates','getSubscriptionLabel','currentBytes','prototype','getIdToken','GenerativeAIWorkerAlreadyExists','catch','setDoc','Pinecone','Offer','reportMetric','JobWorker:\x20Received\x20job','o4-mini','remote-connection-exists','handleNodeJoin','Add','signInWithCustomToken','Knowledge\x20Cutoff\x20Date:\x20','learn-agent','handleHandshake','transactionQueue','detectVideoIssues','logBatch','pendingFilesRename','counter','GenerativeAIContextAlreadyExists','list','handleJobAttribution','setScheduleTime','createMediaStreamSource','ModelVector','FetchUrl','startHeartbeat','floor','readyDebounce','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','cluster-already-joined','getInternalTrackParams','limitToFirst','sdk-internal-error:\x20','removeNode','replace','receiverBitrate','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','Insufficient\x20credits','getProviderId','Model','Restart','remoteId','.liquid','subscriptionRequestTimeouts','NodeJoin','answerJoin','initialize','removeTrackCallback','generateClient','Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','searchOnPerplexity','crewdle-sdk.appspot.com','GenerativeAIWorker:\x20FileDelete\x20failed','isChannelEnabled','connect','muted','Key-value\x20database\x20peak\x20not\x20found.','getKeyValueDatabases','setEncodingParameters','getSettings','InitialPrompt','listen','getAncestors','ObjectStoreAlreadySubscribed','dataBucketIds','GenerativeAIWorkerMissingConnector','GenerativeAIContextInvalidPartialResult','addCandidate','getDate','FeatureNotEnabled','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','openaiApiKey','CanProvideMediaStream','createPendingFileWrite','thread-','ObjectStoreCannotWriteTransaction','min','validateKey','eventEmitter','Rejected','openAIKey','November\x202024','Query\x20is\x20required','serverTimestamp','KeyValueDatabaseInvalidQuery','fileChunks','description','OutputStream','vector-database-creation-failed','model','removeItem','getQuery','Generative\x20AI\x20context\x20job\x20already\x20consumed.','crewdle','durationTime','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','/capacities','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','setPriority','issues','Invalid\x20params','SenderPeerConnection\x20send','No\x20RAG\x20connector\x20available','stopTracing','Unknown\x20error','Cannot\x20get\x20size\x20of\x20path:\x20','reportCapacity','state','key-value-database','fetchUrl','senderStreams','Context','object','authNode','appsync-disconnect','getAncestorIds','ingestFile','propagate','createGenerativeAIWorker','localNode','long','firestore','deleteFileChunks','dataTopics','ai-search','onCandidate','Support','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','handleContentSubscribeMediaStream','entries',':\x20Object\x20store\x20is\x20not\x20in\x20sync','chunk-splitter','Missing\x20RAG\x20API\x20key','removeObjectStore','rootComputationPromise','RetrieveTrace','addMessage','Logging\x20trace','isPromiseResolved','ConnectionNoRetryQueue','Error\x20during\x20MMR\x20rebuild\x20logging:','Knowledge','generative-ai-worker-missing-connector','length','history','SubscribeMediaStream','createIncomingSubscription','graphDatabases','gpt-4.1','handleRequestPayload','Support:\x20','getTotalNodes','slice','createGain','publishFile','New\x20MMR\x20Root:\x20','grammar','agent','/transactions/lastTransaction','ended','sendTransactionsValue','processJobStream','width','remote-stream-missing-provider-id','message','clusters/','maxFramerate','logEvent','Stats','InputStream','Subject','\x20new\x20transactions','SpeechToText','FolderMove','sonar-reasoning','ExternalStorageNameNotString','append','CREWDLE_WEB_SDK','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','InternalSDKError','nodeId','crewdle-sdk-logging-','commitBatch','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','getEnabledChannels','/resources/generative-ai-workflow/items','getRoundTripTime','Problem','runJobQueue','canChooseAnswer','logConnectionState','entity','runTransaction','JobType','.rs','Initial\x20MMR\x20built\x20with','getMediaStream','api','setSenderTimestamp','pow','NodeType','.ejs','collectStats','ExternalStorageConnectorsMissing','openObjectStoreBucket','2616680fibgPi','JobWorker:\x20Sending\x20job\x20reject','deletePendingFile','KeyValueDatabaseTableDoesNotExist','callback','openJobWorker','getNumberOutgoingSubscriptions','instructions','problemType','logSupport','concat','.go','syncTransactionsWritten','Job\x20worker\x20creation\x20failed.','ObjectKind','topic','label','createRemoteNode',',\x20Transactions:\x20','\x0a\x20===\x20Wait\x20Time:\x20','.jsx','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','syncTransactions','answer','condition_result','recomputeRoot','\x20-\x20Sending\x20propagation\x20(','KeyValueDatabaseDoesNotExist','parentId','sendFileRequestPayload','batchTimeout','ExternalStorageStats','createSenderConnection','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','publishSyncCompletedAfterWrites\x20-\x20','getJobWorkers','chunksReceived','params','No\x20speech\x20connector\x20available','FileDelete','Unsupported\x20job\x20type','RestartNeedMediaStream','processInboundReports','retryLimit','fromEntries','Receiver','getSenderTotalBytes','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','Subscribing\x20to\x20an\x20event:\x20on','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','tableUnsubscriber','DataCollectionDoesNotExist','createBuffer','Tool','connectionGroup','mute','messages','GenerativeAIContextJobTimeout','whisper-1','word-splitter','getId','messagesSent','Invalid\x20layout:\x20','Account','Missing\x20external\x20storage\x20connector','processBatch','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','system-stats','Error\x20fetching\x20URL','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','KeyValueDatabase','.vbs','syncedFileExists','LocalMediaStreamNoAudioContext','Search\x20Agent','parameters','add','discover','Invalid\x20job\x20worker\x20type.','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','streams','Core','relation-extractor','call','searchOnGoogle','setSinkId','getReader','clusterId','handleOutgoingSystemEvents','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','FormSubmitForm','object-store-invalid-sync-message','\x20ms\x0a','GenerativeAIModelInputType','getReceiverTotalBytes','contentType','ragConnectors','packets','sendStats','blockId','complete','Chosen\x20answer','.conf','llama-3.1-8b','Data\x20Sent','GenerativeAIWorker:\x20Opened','setConnectionType','handleRemediationSystemEvents','Missing\x20remote\x20node\x20or\x20rank','evaluateBids','llama-3.2-3b','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','image','aiSearchConnector','warning','request','SHA-1','orchestrator','bodyParameters','Strategizing\x20Agent','object-storage-upload','openVectorDatabase','downgrade','removeIncomingSubscription','Amplify','sonar-deep-research','invalid-subscription','receiverCurrentTimestamp','notifyClusterNodeJoin','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','QueryFile','createAnswer','connectionTimeout','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','Error\x20validating\x20vendor\x20credits','Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','getTransactionByHash','cpu.time_per_frame','WebScraper','messageListeners','Delete','Skill','KeyValueDatabaseInvalidValue','PeerConnectionInvalidDestination','move','timeoutValue','ceil','onMessage','workflow','No\x20parameters\x20provided','registerSystemPublisher','queryParameters','trend-spotter','timesCalled','isJobRequest','receiverPreviousTimestamp','getIsLoaded','FormSkillSubmitForm','Optimization','GenerativeAIContext\x20stream\x20error','handleNodeSystemEvents','updateDebounce','shift','frameWidth','Error\x20querying\x20file','removeExternalStorageConnection','assign','5030168oUHbaO','wait-true','Local\x20stream\x20does\x20not\x20exist.','timestamp','key-value-database-not-open','Upgrade','read','getDTVolatility','Success','not-resolved','observe','GraphDatabaseAlreadyExists','senders','voice','handleDisconnect','.hs','av_delay','FileStatus','JobDispatcherObserverNotFound','firebaseUnsubscriber','checkScreenSharing','queryFileConnector','updateLastTransactionId','InvalidPublisher','accessToken','WorkflowTool','ObjectStorageBucket','encode','minConnections','token','ranges','evaluatePartialJob','.cpp','startAt','Job','ObjectStoreNameNotString','inputTokens','setTimeout','Queued','tail','openJobDispatcher','getExternalStorageConnections','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','commitLevel','Connection\x20not\x20connected.','ObjectStorage','JobDispatcherInvalidPayload','currentDistance','GenerativeAIWorker:\x20CollectionDelete\x20failed','FileMove','sourceVideo','jobDispatchers','verb','Logger.getInstance','knowledgeCutoffDate','content','handleDetectionSystemEvents','Text','receivers','map','transactionsToAppend','workflow-tool','claude-3-5-haiku-latest','UnpublishMediaStream','cluster-leave','answers','nodes','senderConnection','Data','job-worker-creation-failed','mediator','flatMap','interview-agent','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','notifyCluster','pop','maxConnections','GenerativeAIContextJobAlreadyConsumed','isArray','deleteCollection','jobs','close','unsubscribe','\x20-\x20','setTransformations','4330249rYZbpJ','getSentences','handleSubscriptionUnsubscribeMediaStream','Invalid\x20key\x20\x27','extendedRecipients','speech-create','createObjectStoreBucket','lastCapacityReport','Connection','firebase-connect','localMediaStreams','dbKey','clear','clientHeight','cancel','Error\x20fetching\x20context','uid','ConnectionNotConnected','retry','\x27\x20is\x20not\x20ready','cpu.cycle','getDataLogged','evaluateProccessedJob','getInternalStreamId','getLabel','IDBDatabaseConnector','checksum','getSenderBitrate','strategizing-agent','publishFolder','Received\x20content\x20available\x20from\x20node','isEqual','RoundTripTime','request-file-write','content-publish-media','Executing\x20custom\x20skill:\x20','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','Invalid\x20object\x20store\x20state.','ObjectStorageUpload','application/json','OptimizationConnectionSuccess','organizationId','validateAccess','tts-1-hd','Job\x20with\x20id\x20','waitConnected','unregisterSystemPublisher','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','batch','JobWorker:\x20Sending\x20job\x20partial\x20result','ownerId','updateJob','maxOutgoingSubscriptions','handleFileWrite','firebase-disconnect','Error\x20processing\x20ingest','\x20already\x20exists','deleteObject','summary-generator','checkBackgrounds','remediations','vectors','batchQueue','startLoggingCycle','body','handlePeerConnectionSystemEvents','key-value-database-table-not-found','getSTVolatility','isFeatureSupported','Subscription\x20request\x20does\x20not\x20exist.','connectAgent','Pending','CloseVectorDatabase','data:\x20','type','\x0a\x0adata:\x20','.ts','reads','addPendingHandshakeCandidate','count','Vector','Router','JobDispatcherJobExists','clientWidth','key-value-database-invalid-layout','handleSubscribeMediaStream','feature-not-enabled','FramePerSecond','receiverTotalMessages','time_per_frame','AgentSkill','publishSyncCompleted','KeyValueDatabaseSyncRequired','handleSubscriptionMediaStreamUnavailable','shouldContinuePropagation','local-stream-does-not-exist','mmr','closeTopic','getRemoteId','executeJavascriptCodeSnippet','hasMessage','Online','handleCloseContent','subscriptionManager','receiverUnsubscribers','findNextNodeId','systemMessagesReceived','Sender\x20connection\x20is\x20not\x20initialized.','/objectstores/','AudioVideoDelay','base64','key-value-database-name-not-string','getJob','format','utf8','systemTopic','all-minilm-l12-v2','JobQueueService:\x20Error\x20running\x20job','addIssue','remediationManager','pub-sub-topic-name-not-string','update','\x20Stream\x20final\x20response','addRemoteConnection','Copywriter\x20Agent','https://api.crewdle.ai','handleObjectDelete','maxThreshold','Medium','.doc','cleanOldSubscription','createElement','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','getNextTargetRank','getStatus','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','updateUser','unpublish','events','\x0a\x20\x20===\x20Total\x20Nodes:\x20','Transaction','handleNodeJoinNeedPublishedStream','authContext','pool','unregisterPublisherListener','graph-database-creation-failed','expectedTransactions','connectionStateListener','data:\x20[DONE]\x0a\x0a','getFirestore','region','WebGL','oncloseTimeout','JobDispatcherJobNotFound','generative-ai-context-creation-failed','GenerativeAITaskType','codes','ScreenSharing','Invalid\x20peer\x20connection\x20event\x20destination.','.vue','Partial','max','temperature','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20users\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','/traces','setItem','query-generator','GenerativeAIContextJobFailed','webgl','RemoteConnectionExists','Workflow\x20does\x20not\x20exist.','setInterval','agent-skill','external-storage-invalid-path','April\x202024','publishLocalMediaStream','.j2','Cannot\x20get\x20file:\x20','isSubscribed','Key-Value\x20Database\x20-\x20Sync\x20Completed','bytesReceived','waitSuccess','attributes','errorDetails','/jobs','Error\x20resolving\x20readyPromises:','orderBy','trace','Handshake','handleUpdateMediaStream','FormSkillGetQuestion','/resources/generative-ai-collection/items','Model\x20not\x20found\x20','Everyone\x20','StreamReport','scheduleTime','transformations','outputType','/resources/external-storage/items/','node','createLocalMediaStream','modelId','operator','WorkflowTrace','https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf','features','accumulateResult','getJobDispatchers','Invalid\x20data\x20event.','Key-value\x20database\x20creation\x20failed.','Database\x20Opened','text-embedding-3-large','chunks','Jitter','startTracing','objectStoreConnector','index','lastProcessRank','decodeJWT','debounceLogTimeout','/usages','rank','ragApiKey','AppSync\x20connection\x20not\x20ready','toLocaleDateString','GenerativeAIRagType','Agent\x20output\x20is\x20not\x20a\x20string','custom-skill','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','\x20not\x20found.','Invalid\x20value.\x20Property\x20\x27','Generative\x20AI\x20context\x20creation\x20failed.','email','publishNodeLeave','key-value-database-invalid-query','InvalidAccess','Generative\x20AI\x20context\x20job\x20failed.','logStorage','Stream\x20already\x20exists','searchEngineId','connections','/search','/chat/completions','optimizationLayers','2-digit','query-file','externalStorages','JobStatus','clientStream','JobDispatcherInvalidJobType','\x20not\x20supported','capacityReporter','form-skill-set-answer','Key-value\x20database\x20table\x20does\x20not\x20exist.','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','syncPendingFiles','PubSubTopic\x20not\x20found','setRank','GenerativeAIContextJobMissingThreadId','image/','sonar-pro','ClosePubSubTopic','checkAudioOutput','Workflow','logLevel','availableTrackKinds','onClose','/transactions','getLastUpdated','SyncComplete','registeredListeners','Dedicated','joinCluster','onProviderChange','vector-database-already-exists','handshakeDebounce','traceLevel','emit','MistletCapacityReportNotSet','getKeyValueDatabase','docs','CloseGenerativeAIContext','workflow-invalid-block-type','match','System','LoadSkillFunction','ner','distance','every','onremovetrack','sdkCreateToken','keyValueDatabaseConnector','sonar-reasoning-pro','FS\x20connector\x20is\x20not\x20available','hasTable','isWhereBetween','run','setupConnectionEvents','1:519415702791:web:5dd39042f881cfde3251a2','isPartialResultResponse','newPath','Missing\x20owner\x20node\x20or\x20rank','insert','addBidResponse','document-agent','\x20does\x20not\x20support\x20content\x20type\x20','toString','.erl','embed','InvalidSubscriber','values','node-does-not-exist','updateDebounceTimeout','GraphSearch','getContent','timeoutCallback','Missing\x20search\x20API\x20key','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','signalingServer','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','files','messageType','Reranker','Missing\x20OpenAI\x20API\x20key','head','createOutgoingSubscription','setRemoteNode','Feedback\x20Agent','functionsRegion','handleNodeUpdate','authenticateAgent','Remote\x20stream\x20does\x20not\x20exist.','Missing\x20AI\x20worker\x20connector','getCurrentMaxLayer','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','onTrack','external-storage-connectors-missing','trackListeners','connection-state','\x0a\x20===\x20Total\x20Time:\x20','debug','createWritableStream','rating','audio','form-skill-get-question','From\x20','totalDecodeTime','remainingTracks','resolve','createGraphDatabase','lastExecuted','Image','error','Model\x20ID\x20is\x20required','hasOwnProperty','onHandshakeStateChange','isRunning','Ingest','storageType','\x20answer','Sending\x20\x27','missing-datachannel','parseWorkflowDocument','buildQuery','Database\x20already\x20exists','reduce','senderPreviousBytes','crewdle-sdk','Invalid\x20job\x20service\x20payload.','deleteRemoteNode','hasBufferedData','getRoot','retryQueue','generativeAIWorkerConnectors','getToolParams','contentRequestSent','filesSynced','isNeedRestart','detectStreamIssues','Search\x20in\x20data\x20collection\x20','sendWithRetry','isInternalSDKConfigs','Problem\x20detected:\x20','\x20seconds','NodeManager\x20-\x20NodeUpdate','sonar','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','removeSubscriptionsForNode','getMaxConnections','clearUpgradeTimeout','send\x20error\x20on\x20','getReceiverBitrate','changesUnsubscriber','isLoaded','RequestFileWrite','Connection\x20does\x20not\x20exist','SystemStats','forEach','collectionId','handleStatsSystemEvents','AudioVolume','UnsubscribeMediaStream','closed','Buffered\x20chunks\x20are\x20too\x20large','Number','ExternalStorageConnectionDoesNotExist','remoteUnsubscriber','appsync-connect','Downgrade','Waiting','getJobs','loop','.erb','getCoresFromCapacityReport','rate','PubSub','Remove','audioSource','Stream\x20does\x20not\x20exist','Failed','debounceRebuildMMRWithTransaction','gain','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','internalJob','WebScraperRaw','bitrate','PromptSource','Execute\x20the\x20agent\x20','Llamacpp','subscriptionRequests','processContentAvailable','bufferedAmount','keys','ConnectionNotinitialized','pathName','cost','data','RemoteMediaStreamTrackFail','end','notifyJoin','maxDepth','FormSkillSetAnswer','statusText','threshold','processRank','getItem','No\x20model\x20available','startNoThrottlingHack','contextOutputVariable','Query\x20must\x20refer\x20to\x20the\x20file\x20table','clearWaitAnswer','.kt','text/plain','getSimilarity','\x20already\x20exists.','Invalid\x20content\x20type','totalNodes','EntityExtractor','unregisterCluster','tool','handlePublishMediaStream','LocalMediaStreamAlreadyExists','discoveryUnsubscriber','options','framerate','media-stream','firebaseConfig','getObjectStoreBucket','node-already-exist','pubsub','@root','ImageParser','pubSubTopics','entity-extractor','createVectorDatabase','Graph\x20database\x20creation\x20failed.','disconnect','getRank','\x20finalized.','gpt-4.1-nano','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','readyResolve','VectorDatabase','toFixed','Buffering\x20event','if_else','handleOffer','getFullYear','\x27\x20reserved','off','documentParserConnector','Rating','job-dispatcher-observer-not-found','AppSync\x20publish','Incoming','question','additionnalInstructions','GenerativeAILabelConflict','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','ObjectStoreAlreadyExists','Table\x20not\x20found','jitter','FROM\x20file','getDisplayName','endpointMethod','root\x20hash:\x20','Object\x20store\x20is\x20not\x20in\x20sync','tables','createConstantSource','external-storage-connection-already-exists','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','handleUnsubscribeMediaStream','Cannot\x20list\x20directory:\x20','priority','transactionTable','ObjectStoreInvalidPath','defineProperty','RemoteMediaStreamAlreadyExists','Disconnect','initialPrompt','transactionHashMap','confirmSynchronization','Error','evaluateBidsAndAttributeJob','VectorDatabaseMissingConnector','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream'];a0_0x508b=function(){return _0xe91e5e;};return a0_0x508b();}