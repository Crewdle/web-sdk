(function(_0x346513,_0x25867c){const _0x2602d6=a0_0x12d8,_0x4b8411=_0x346513();while(!![]){try{const _0x3f09f6=-parseInt(_0x2602d6(0x2a0))/0x1*(-parseInt(_0x2602d6(0x49f))/0x2)+parseInt(_0x2602d6(0x5f8))/0x3+parseInt(_0x2602d6(0x325))/0x4+parseInt(_0x2602d6(0x6f5))/0x5*(parseInt(_0x2602d6(0x566))/0x6)+-parseInt(_0x2602d6(0x6ca))/0x7+-parseInt(_0x2602d6(0x1fd))/0x8*(parseInt(_0x2602d6(0x71b))/0x9)+parseInt(_0x2602d6(0x802))/0xa*(parseInt(_0x2602d6(0x3ee))/0xb);if(_0x3f09f6===_0x25867c)break;else _0x4b8411['push'](_0x4b8411['shift']());}catch(_0xd8cf1d){_0x4b8411['push'](_0x4b8411['shift']());}}}(a0_0x68a3,0xabd15),!function(_0x192117,_0x1f3c56){const _0x57232a=a0_0x12d8;if(_0x57232a(0x1d4)==typeof exports&&_0x57232a(0x1d4)==typeof module)module[_0x57232a(0xac6)]=_0x1f3c56();else{if(_0x57232a(0x973)==typeof define&&define['amd'])define([],_0x1f3c56);else{var _0x188497=_0x1f3c56();for(var _0x10cdbf in _0x188497)(_0x57232a(0x1d4)==typeof exports?exports:_0x192117)[_0x10cdbf]=_0x188497[_0x10cdbf];}}}(this,()=>((()=>{'use strict';const _0x3eb455=a0_0x12d8;var _0x154212={0x14d:(_0x153aaa,_0x53af12,_0x124e41)=>{const _0x10c8db=a0_0x12d8;_0x124e41['d'](_0x53af12,{'O':()=>_0x680e65});const _0x680e65={'version':_0x10c8db(0x622),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':_0x10c8db(0x63f),'databaseURL':_0x10c8db(0xae0),'projectId':_0x10c8db(0x86b),'storageBucket':_0x10c8db(0xa86),'appId':_0x10c8db(0x8eb),'functionsRegion':'northamerica-northeast1'},'google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':_0x10c8db(0x43d),'region':'us-east-1'}};},0x33b:(_0x5331ec,_0x2981c6,_0x32133f)=>{_0x32133f['d'](_0x2981c6,{'O':()=>_0x34fece});const _0x34fece={};},0x3e6:(_0x409c33,_0xaf5058,_0x2b91d2)=>{const _0x1ef2ac=a0_0x12d8;_0x2b91d2['d'](_0xaf5058,{'O':()=>_0x33667f});const _0x33667f={'version':'1.0.6','isProduction':!0x0,'firebaseConfig':{'apiKey':_0x1ef2ac(0x4d8),'authDomain':_0x1ef2ac(0x246),'databaseURL':_0x1ef2ac(0x99e),'projectId':_0x1ef2ac(0x592),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':_0x1ef2ac(0xa06),'appId':_0x1ef2ac(0x1c9),'measurementId':_0x1ef2ac(0x891)},'aws':{'endpoint':_0x1ef2ac(0x396),'region':_0x1ef2ac(0x89d)}};},0x20:(_0x406394,_0x40c730,_0x5a6356)=>{_0x5a6356['d'](_0x40c730,{'O':()=>_0x4f850c});const _0x4f850c={};}},_0x1c9572={};function _0x478834(_0x1ad4d2){const _0x480714=a0_0x12d8;var _0x1050ba=_0x1c9572[_0x1ad4d2];if(void 0x0!==_0x1050ba)return _0x1050ba[_0x480714(0xac6)];var _0x57cb8b=_0x1c9572[_0x1ad4d2]={'exports':{}};return _0x154212[_0x1ad4d2](_0x57cb8b,_0x57cb8b['exports'],_0x478834),_0x57cb8b[_0x480714(0xac6)];}_0x478834['d']=(_0x22f600,_0x13ccd2)=>{const _0x726032=a0_0x12d8;for(var _0x329ea8 in _0x13ccd2)_0x478834['o'](_0x13ccd2,_0x329ea8)&&!_0x478834['o'](_0x22f600,_0x329ea8)&&Object[_0x726032(0x7d1)](_0x22f600,_0x329ea8,{'enumerable':!0x0,'get':_0x13ccd2[_0x329ea8]});},_0x478834['g']=(function(){const _0x47a085=a0_0x12d8;if(_0x47a085(0x1d4)==typeof globalThis)return globalThis;try{return this||new Function(_0x47a085(0x492))();}catch(_0xe188fe){if(_0x47a085(0x1d4)==typeof window)return window;}}()),_0x478834['o']=(_0x1b27df,_0x48667c)=>Object[_0x3eb455(0x27f)][_0x3eb455(0x33e)][_0x3eb455(0x3e1)](_0x1b27df,_0x48667c),_0x478834['r']=_0x4d1c4c=>{const _0x54895d=_0x3eb455;'undefined'!=typeof Symbol&&Symbol[_0x54895d(0x3c8)]&&Object[_0x54895d(0x7d1)](_0x4d1c4c,Symbol[_0x54895d(0x3c8)],{'value':_0x54895d(0xaa1)}),Object[_0x54895d(0x7d1)](_0x4d1c4c,_0x54895d(0x7a5),{'value':!0x0});};var _0x3ed137,_0x58ac15,_0x51c80b,_0x4421e7={};_0x478834['r'](_0x4421e7),_0x478834['d'](_0x4421e7,{'KeyValueDatabase':()=>_0x2c7acd,'LayoutBuilder':()=>_0x26e848,'LoggingChannels':()=>_0x51c80b,'QueryBuilder':()=>_0x5cd836,'SDK':()=>_0x48e646,'SDKClientErrorCodes':()=>_0x3ed137,'TableBuilder':()=>_0x53a68b,'logger':()=>_0x2c9fd4}),function(_0x3708e0){const _0x240e88=_0x3eb455;_0x3708e0['ConnectionBufferNotEmpty']=_0x240e88(0xaa8),_0x3708e0['ClusterAlreadyJoined']=_0x240e88(0x4e2),_0x3708e0[_0x240e88(0x616)]=_0x240e88(0x2a3),_0x3708e0[_0x240e88(0x1be)]=_0x240e88(0x3ec),_0x3708e0['ExternalStorageConnectionDoesNotExist']=_0x240e88(0x81e),_0x3708e0[_0x240e88(0x2aa)]=_0x240e88(0x859),_0x3708e0[_0x240e88(0x23c)]=_0x240e88(0x403),_0x3708e0[_0x240e88(0x2b7)]=_0x240e88(0x286),_0x3708e0[_0x240e88(0x8cd)]='feature-not-enabled',_0x3708e0[_0x240e88(0x3d7)]=_0x240e88(0x4fe),_0x3708e0[_0x240e88(0x57a)]=_0x240e88(0x7b7),_0x3708e0[_0x240e88(0x3cf)]=_0x240e88(0x62c),_0x3708e0[_0x240e88(0x660)]=_0x240e88(0x945),_0x3708e0['GenerativeAIWorkerAlreadyExists']=_0x240e88(0x700),_0x3708e0[_0x240e88(0x4c1)]=_0x240e88(0xa7b),_0x3708e0[_0x240e88(0x67e)]='generative-ai-worker-model-sync-error',_0x3708e0[_0x240e88(0x959)]=_0x240e88(0x467),_0x3708e0['GraphDatabaseDoesNotExist']=_0x240e88(0x8c6),_0x3708e0[_0x240e88(0xa42)]=_0x240e88(0x4fd),_0x3708e0['GraphDatabaseNameNotString']='graph-database-name-not-string',_0x3708e0[_0x240e88(0xa48)]=_0x240e88(0x440),_0x3708e0[_0x240e88(0x661)]=_0x240e88(0x4f7),_0x3708e0['JobDispatcherJobExists']=_0x240e88(0xa63),_0x3708e0[_0x240e88(0x7a1)]='job-dispatcher-job-not-found',_0x3708e0['JobDispatcherInvalidJobType']='job-dispatcher-invalid-job-type',_0x3708e0[_0x240e88(0x6a3)]=_0x240e88(0x519),_0x3708e0[_0x240e88(0x2a4)]='job-worker-does-not-exist',_0x3708e0[_0x240e88(0xa78)]=_0x240e88(0x854),_0x3708e0['ObjectStoreAlreadySubscribed']=_0x240e88(0x6d3),_0x3708e0[_0x240e88(0x2de)]='object-store-stream-does-not-exist',_0x3708e0[_0x240e88(0x812)]=_0x240e88(0x58d),_0x3708e0[_0x240e88(0x4ac)]=_0x240e88(0x806),_0x3708e0[_0x240e88(0x710)]=_0x240e88(0x1d3),_0x3708e0['ObjectStoreNotInSync']='object-store-not-in-sync',_0x3708e0[_0x240e88(0x9f2)]='internal-sdk-error',_0x3708e0[_0x240e88(0x5df)]=_0x240e88(0x7b2),_0x3708e0['KeyValueDatabaseAlreadyExists']=_0x240e88(0x29d),_0x3708e0[_0x240e88(0x894)]=_0x240e88(0x69e),_0x3708e0[_0x240e88(0xa12)]=_0x240e88(0x2e8),_0x3708e0[_0x240e88(0x758)]='key-value-database-invalid-query',_0x3708e0[_0x240e88(0x9e4)]='key-value-database-invalid-value',_0x3708e0[_0x240e88(0x328)]='key-value-database-name-not-string',_0x3708e0[_0x240e88(0x6c0)]=_0x240e88(0xa87),_0x3708e0['KeyValueDatabaseTableNameReserved']='key-value-database-table-name-reserved',_0x3708e0[_0x240e88(0x290)]=_0x240e88(0x8b1),_0x3708e0[_0x240e88(0x4db)]='key-value-database-invalid-layout',_0x3708e0['LocalMediaStreamAlreadyExists']=_0x240e88(0xa9e),_0x3708e0[_0x240e88(0x995)]=_0x240e88(0x526),_0x3708e0['PubSubTopicAlreadyExists']=_0x240e88(0xa2e),_0x3708e0['PubSubTopicDoesNotExist']='pub-sub-topic-does-not-exist',_0x3708e0[_0x240e88(0x8f2)]=_0x240e88(0x702),_0x3708e0[_0x240e88(0xa10)]='pub-sub-topic-already-subscribed',_0x3708e0[_0x240e88(0x552)]=_0x240e88(0xa6d),_0x3708e0['RemoteMediaStreamAlreadyExists']=_0x240e88(0x4d5),_0x3708e0['RemoteMediaStreamInvalidSubscriptionParams']=_0x240e88(0x847),_0x3708e0[_0x240e88(0x34f)]=_0x240e88(0xad2),_0x3708e0[_0x240e88(0x9b8)]=_0x240e88(0xab4),_0x3708e0['NodeInvalidType']=_0x240e88(0x99b),_0x3708e0['NodeTypeNotSupported']=_0x240e88(0x949),_0x3708e0[_0x240e88(0x38b)]=_0x240e88(0x8d2),_0x3708e0[_0x240e88(0x3ff)]='vector-database-already-exists',_0x3708e0['VectorDatabaseDoesNotExist']='vector-database-does-not-exist',_0x3708e0[_0x240e88(0x87a)]=_0x240e88(0x9d3),_0x3708e0[_0x240e88(0x687)]='vector-database-name-not-string';}(_0x3ed137||(_0x3ed137={}));class _0x5669b1 extends Error{['code'];constructor(_0x1af593,_0x536f0a){const _0x26dffe=_0x3eb455;super(_0x536f0a),this[_0x26dffe(0x43c)]=_0x1af593;}}!function(_0x5bc5cb){const _0x46c3cf=_0x3eb455;_0x5bc5cb[_0x46c3cf(0x23d)]=_0x46c3cf(0x933),_0x5bc5cb[_0x46c3cf(0xa6f)]=_0x46c3cf(0x2dd),_0x5bc5cb[_0x46c3cf(0x77e)]=_0x46c3cf(0x1b1),_0x5bc5cb[_0x46c3cf(0x73f)]=_0x46c3cf(0x37b),_0x5bc5cb['GraphDatabase']='graph-database',_0x5bc5cb[_0x46c3cf(0x6be)]=_0x46c3cf(0x823),_0x5bc5cb[_0x46c3cf(0x92c)]='media-stream',_0x5bc5cb[_0x46c3cf(0x5ea)]='generative-ai';}(_0x58ac15||(_0x58ac15={})),function(_0x486efe){const _0x4ae869=_0x3eb455;_0x486efe[_0x4ae869(0x87e)]=_0x4ae869(0x868),_0x486efe[_0x4ae869(0x4e0)]=_0x4ae869(0x82e),_0x486efe[_0x4ae869(0x388)]=_0x4ae869(0x2fd),_0x486efe[_0x4ae869(0x682)]=_0x4ae869(0x1e1),_0x486efe[_0x4ae869(0xaab)]=_0x4ae869(0x5fa),_0x486efe[_0x4ae869(0x7dc)]=_0x4ae869(0x211),_0x486efe[_0x4ae869(0xac5)]=_0x4ae869(0x6fd),_0x486efe[_0x4ae869(0x656)]='detection',_0x486efe['Events']=_0x4ae869(0x862),_0x486efe[_0x4ae869(0x910)]=_0x4ae869(0x4f1),_0x486efe['Jobs']=_0x4ae869(0x5b9),_0x486efe['KeyValueDatabase']=_0x4ae869(0x1b1),_0x486efe['Node']=_0x4ae869(0x381),_0x486efe[_0x4ae869(0x770)]=_0x4ae869(0xa3b),_0x486efe[_0x4ae869(0x23d)]=_0x4ae869(0x933),_0x486efe[_0x4ae869(0x5be)]='receiver-on-message',_0x486efe[_0x4ae869(0x8bf)]=_0x4ae869(0x7fb),_0x486efe[_0x4ae869(0x6d1)]=_0x4ae869(0x9be),_0x486efe[_0x4ae869(0x6c2)]='signaling',_0x486efe['Stats']='stats',_0x486efe[_0x4ae869(0x4bc)]=_0x4ae869(0x94d),_0x486efe[_0x4ae869(0x9b6)]=_0x4ae869(0x8c3),_0x486efe[_0x4ae869(0x720)]=_0x4ae869(0x507),_0x486efe['SystemStats']=_0x4ae869(0x3a8),_0x486efe[_0x4ae869(0x261)]=_0x4ae869(0x2e4),_0x486efe[_0x4ae869(0x32c)]=_0x4ae869(0x41c);}(_0x51c80b||(_0x51c80b={}));const _0x4d2150=require('@crewdle/web-sdk-types');class _0x5cd836{[_0x3eb455(0x327)];constructor(_0x3fb894){const _0x47d229=_0x3eb455;this[_0x47d229(0x327)]={'orderBy':{'key':_0x3fb894,'direction':_0x47d229(0x1f6)}};}static[_0x3eb455(0x974)](_0x386009){const _0x244a44=_0x3eb455;if('string'!=typeof _0x386009||0x0===_0x386009[_0x244a44(0x3ed)])throw new _0x5669b1(_0x3ed137[_0x244a44(0x552)],_0x244a44(0xa58));return new _0x5cd836(_0x386009);}static[_0x3eb455(0x27c)](_0x4d160a){const _0x35a138=_0x3eb455;try{return _0x5cd836[_0x35a138(0x29a)](_0x4d160a),!0x0;}catch(_0x2a0ad8){return!0x1;}}static[_0x3eb455(0x29a)](_0xf02e02){const _0x5a4979=_0x3eb455,_0x1757d3=_0x5cd836[_0x5a4979(0x974)](_0xf02e02[_0x5a4979(0x5a4)]?.[_0x5a4979(0x646)]??_0xf02e02[_0x5a4979(0x207)]?.[_0x5a4979(0x646)]??'');if(_0xf02e02[_0x5a4979(0x207)]){const _0x3ec7f9=_0xf02e02[_0x5a4979(0x207)];if((_0x5cd836[_0x5a4979(0x7e8)](_0x3ec7f9)||_0x5cd836[_0x5a4979(0x1d8)](_0x3ec7f9)||_0x5cd836[_0x5a4979(0x311)](_0x3ec7f9))&&_0x1757d3[_0x5a4979(0x207)](_0x3ec7f9[_0x5a4979(0xab8)],_0x3ec7f9[_0x5a4979(0x625)]),_0xf02e02[_0x5a4979(0x5a4)]?.[_0x5a4979(0x646)]&&_0xf02e02[_0x5a4979(0x5a4)]?.['key']!==_0xf02e02[_0x5a4979(0x207)][_0x5a4979(0x646)])throw new _0x5669b1(_0x3ed137[_0x5a4979(0x552)],_0x5a4979(0x542));}return _0xf02e02[_0x5a4979(0x5a4)]&&_0x1757d3[_0x5a4979(0x5a4)](_0xf02e02[_0x5a4979(0x5a4)][_0x5a4979(0x3c1)]),_0xf02e02[_0x5a4979(0x85b)]&&_0x1757d3[_0x5a4979(0x85b)](_0xf02e02[_0x5a4979(0x85b)]),_0xf02e02['offset']&&_0x1757d3[_0x5a4979(0xac2)](_0xf02e02[_0x5a4979(0xac2)]),_0x1757d3;}[_0x3eb455(0x9ec)](){const _0x3802b8=_0x3eb455;return{...this[_0x3802b8(0x327)]};}['where'](_0xddb3cf,_0x40f855){const _0x4e8ddf=_0x3eb455,_0x575fa9={'key':this['query'][_0x4e8ddf(0x5a4)][_0x4e8ddf(0x646)],'operator':_0xddb3cf,'value':_0x40f855};if(!_0x5cd836[_0x4e8ddf(0x7e8)](_0x575fa9)&&!_0x5cd836[_0x4e8ddf(0x1d8)](_0x575fa9)&&!_0x5cd836[_0x4e8ddf(0x311)](_0x575fa9))throw new _0x5669b1(_0x3ed137[_0x4e8ddf(0x552)],_0x4e8ddf(0x4f9));return this[_0x4e8ddf(0x327)]['where']=_0x575fa9,this;}['orderBy'](_0x3f59d9){const _0x5de7d2=_0x3eb455;if(_0x5de7d2(0x1f6)!==_0x3f59d9&&_0x5de7d2(0xabb)!==_0x3f59d9)throw new _0x5669b1(_0x3ed137[_0x5de7d2(0x552)],_0x5de7d2(0xa22));return this['query'][_0x5de7d2(0x5a4)][_0x5de7d2(0x3c1)]=_0x3f59d9,this;}[_0x3eb455(0x85b)](_0xb88b4e){const _0x1b1db3=_0x3eb455;if('number'!=typeof _0xb88b4e||_0xb88b4e<0x0)throw new _0x5669b1(_0x3ed137[_0x1b1db3(0x552)],_0x1b1db3(0x57f));return this[_0x1b1db3(0x327)][_0x1b1db3(0x85b)]=_0xb88b4e,this;}[_0x3eb455(0xac2)](_0x4955ea){const _0x13fc68=_0x3eb455;if('number'!=typeof _0x4955ea||_0x4955ea<0x0)throw new _0x5669b1(_0x3ed137['QueryBuilderInvalidArgument'],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x13fc68(0x327)][_0x13fc68(0xac2)]=_0x4955ea,this;}static['isWhereValue'](_0x3ba038){const _0x5bbd85=_0x3eb455;if(!(_0x3ba038&&'object'==typeof _0x3ba038&&_0x5bbd85(0xab8)in _0x3ba038&&'value'in _0x3ba038))return!0x1;const {operator:_0x30c483,value:_0x5c9876}=_0x3ba038;return!(!['==','!=','>','<','<=','>='][_0x5bbd85(0x721)](_0x30c483)||Array[_0x5bbd85(0xa02)](_0x5c9876));}static['isWhereValues'](_0x65fe8c){const _0x5ae496=_0x3eb455;if(!(_0x65fe8c&&_0x5ae496(0x1d4)==typeof _0x65fe8c&&_0x5ae496(0xab8)in _0x65fe8c&&_0x5ae496(0x625)in _0x65fe8c))return!0x1;const {operator:_0x3a4188,value:_0x5792fb}=_0x65fe8c;return!(!['in','not-in']['includes'](_0x3a4188)||!Array[_0x5ae496(0xa02)](_0x5792fb));}static[_0x3eb455(0x311)](_0x12ada5){const _0xe08bc7=_0x3eb455;if(!(_0x12ada5&&_0xe08bc7(0x1d4)==typeof _0x12ada5&&'operator'in _0x12ada5&&'value'in _0x12ada5))return!0x1;const {operator:_0x4f1221,value:_0xaa89c8}=_0x12ada5;return!('between'!==_0x4f1221||!Array[_0xe08bc7(0xa02)](_0xaa89c8)||0x2!==_0xaa89c8[_0xe08bc7(0x3ed)]);}}class _0x26e848{[_0x3eb455(0xa53)];constructor(_0x54205e){this['layout']={'tables':{},'version':_0x54205e};}static['validateLayout'](_0x50518e){const _0x18c9fb=_0x3eb455;for(const _0x5a5fb9 in _0x50518e){if('version'!==_0x5a5fb9&&'tables'!==_0x5a5fb9)return[!0x1,'Invalid\x20key\x20\x27'+_0x5a5fb9+'\x27\x20in\x20layout'];if(_0x18c9fb(0x3b0)===_0x5a5fb9)for(const _0x49f83b in _0x50518e[_0x18c9fb(0x3b0)]){if('string'!=typeof _0x49f83b)return[!0x1,_0x18c9fb(0x337)+_0x49f83b+'\x27'];for(const _0xd1e3af in _0x50518e[_0x18c9fb(0x3b0)][_0x49f83b]){if(_0x18c9fb(0x955)!==_0xd1e3af)return[!0x1,_0x18c9fb(0xabe)+_0xd1e3af+_0x18c9fb(0x4ca)+_0x49f83b+'\x27'];const _0x5379c5=_0x50518e[_0x18c9fb(0x3b0)][_0x49f83b][_0xd1e3af]??[];for(const _0x1f8bbb of _0x5379c5)if(void 0x0===_0x1f8bbb[_0x18c9fb(0x93d)]||'string'!=typeof _0x1f8bbb[_0x18c9fb(0x93d)])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x49f83b+_0x18c9fb(0x6d0)];}}else{if('version'===_0x5a5fb9&&_0x18c9fb(0x411)!=typeof _0x50518e[_0x5a5fb9])return[!0x1,_0x18c9fb(0x694)+_0x50518e[_0x5a5fb9]+_0x18c9fb(0x992)];}}return[!0x0,_0x18c9fb(0x1fe)];}static[_0x3eb455(0xa53)](_0x3252dd){const _0x17a52e=_0x3eb455,_0x179691=new _0x26e848(_0x3252dd);return _0x179691[_0x17a52e(0xa53)][_0x17a52e(0x7a9)]=_0x3252dd,_0x179691;}['table'](_0x468e5a){const _0x494118=_0x3eb455;return this[_0x494118(0xa53)]['tables'][_0x468e5a]={},new _0x53a68b(this[_0x494118(0xa53)][_0x494118(0x3b0)][_0x468e5a]);}[_0x3eb455(0x3f8)](){return this['layout'];}}class _0x53a68b{[_0x3eb455(0xa5b)];constructor(_0x3115b9){this['tableLayout']=_0x3115b9;}[_0x3eb455(0x974)](_0x46d596){const _0x3ca7f5=_0x3eb455;return this[_0x3ca7f5(0xa5b)][_0x3ca7f5(0x955)]=this['tableLayout'][_0x3ca7f5(0x955)]??[],this['tableLayout'][_0x3ca7f5(0x955)][_0x3ca7f5(0x69a)]({'keyPath':_0x46d596}),this;}}const _0x53395d=0x40000,_0x188a1d=0x3f800,_0x37461b=0x1388,_0x53c6d8=_0x3eb455(0x1aa),_0x1e1c27=_0x3eb455(0x798),_0x3c85ab=_0x3eb455(0x589),_0x121de6=_0x3eb455(0x292),_0x466d02=0xdbba0,_0x17dfbb=_0x3eb455(0x232),_0x47dde3=0x61a8,_0x5606ca=0x7530,_0x36c1f1='internal';var _0x399fc2;!function(_0x2f1976){const _0x66d935=_0x3eb455;_0x2f1976['ConnectionNotinitialized']=_0x66d935(0x7fe),_0x2f1976[_0x66d935(0x606)]=_0x66d935(0x4ef),_0x2f1976[_0x66d935(0x9c1)]=_0x66d935(0x243),_0x2f1976['ConnectionInvalidDataEvent']=_0x66d935(0x478),_0x2f1976['GenerativeAIContextCreationFailed']=_0x66d935(0x896),_0x2f1976[_0x66d935(0x2c7)]=_0x66d935(0x2d7),_0x2f1976[_0x66d935(0x47f)]=_0x66d935(0x4b7),_0x2f1976[_0x66d935(0x98b)]=_0x66d935(0x9b2),_0x2f1976[_0x66d935(0xa9d)]='generative-ai-context-job-timeout',_0x2f1976[_0x66d935(0x96e)]=_0x66d935(0xa49),_0x2f1976[_0x66d935(0x7ca)]=_0x66d935(0x331),_0x2f1976['InvalidDataChannel']='invalid-data-chanel',_0x2f1976[_0x66d935(0x4a6)]=_0x66d935(0x306),_0x2f1976[_0x66d935(0xaa4)]=_0x66d935(0x3af),_0x2f1976[_0x66d935(0xa26)]=_0x66d935(0x480),_0x2f1976[_0x66d935(0x4de)]='job-dispatcher-creation-failed',_0x2f1976[_0x66d935(0x21e)]=_0x66d935(0x9f1),_0x2f1976['JobDispatcherJobNotFound']='job-dispatcher-job-not-found',_0x2f1976[_0x66d935(0x378)]=_0x66d935(0xaca),_0x2f1976[_0x66d935(0x663)]=_0x66d935(0x9cd),_0x2f1976[_0x66d935(0x9a7)]=_0x66d935(0x6c8),_0x2f1976[_0x66d935(0x611)]=_0x66d935(0x56b),_0x2f1976[_0x66d935(0x5af)]='key-value-database-peak-not-found',_0x2f1976[_0x66d935(0x5ab)]=_0x66d935(0x387),_0x2f1976[_0x66d935(0x829)]=_0x66d935(0x778),_0x2f1976[_0x66d935(0x7a8)]=_0x66d935(0x996),_0x2f1976[_0x66d935(0x836)]=_0x66d935(0x2ab),_0x2f1976[_0x66d935(0x40f)]=_0x66d935(0x889),_0x2f1976[_0x66d935(0x1c5)]='missing-system-topic',_0x2f1976[_0x66d935(0xab5)]=_0x66d935(0x833),_0x2f1976[_0x66d935(0x746)]=_0x66d935(0x9b1),_0x2f1976[_0x66d935(0x361)]=_0x66d935(0x63b),_0x2f1976[_0x66d935(0x369)]='object-store-invalid-sync-message',_0x2f1976[_0x66d935(0x389)]=_0x66d935(0x2cf),_0x2f1976[_0x66d935(0x1bc)]=_0x66d935(0x3c5),_0x2f1976['RemoteMediaStreamDoesNotExist']='remote-stream-does-not-exist',_0x2f1976['RemoteMediaStreamMissingProviderId']=_0x66d935(0x88f),_0x2f1976[_0x66d935(0x554)]='remote-connection-exists',_0x2f1976[_0x66d935(0x6e1)]=_0x66d935(0x1b2),_0x2f1976[_0x66d935(0x349)]=_0x66d935(0x842),_0x2f1976[_0x66d935(0x465)]=_0x66d935(0x686),_0x2f1976[_0x66d935(0xa4b)]=_0x66d935(0x740),_0x2f1976[_0x66d935(0x3b5)]=_0x66d935(0x72d),_0x2f1976[_0x66d935(0x215)]=_0x66d935(0x971),_0x2f1976[_0x66d935(0x3c6)]=_0x66d935(0x75e),_0x2f1976[_0x66d935(0x6d9)]=_0x66d935(0x2c3),_0x2f1976[_0x66d935(0x79a)]=_0x66d935(0x464);}(_0x399fc2||(_0x399fc2={}));const _0x4b00ae=new Map([[_0x399fc2['ConnectionNotinitialized'],_0x3eb455(0x227)],[_0x399fc2[_0x3eb455(0x606)],_0x3eb455(0xa17)],[_0x399fc2[_0x3eb455(0x9c1)],_0x3eb455(0x822)],[_0x399fc2[_0x3eb455(0x330)],_0x3eb455(0x6e7)],[_0x399fc2[_0x3eb455(0x479)],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x399fc2[_0x3eb455(0x2c7)],_0x3eb455(0xa66)],[_0x399fc2[_0x3eb455(0x47f)],_0x3eb455(0x741)],[_0x399fc2[_0x3eb455(0x98b)],_0x3eb455(0x690)],[_0x399fc2[_0x3eb455(0xa9d)],_0x3eb455(0x229)],[_0x399fc2['GenerativeAIWorkerCreationFailed'],_0x3eb455(0x7f0)],[_0x399fc2['GraphDatabaseCreationFailed'],_0x3eb455(0x4a8)],[_0x399fc2[_0x3eb455(0x669)],_0x3eb455(0x7bd)],[_0x399fc2[_0x3eb455(0x4a6)],_0x3eb455(0x2f9)],[_0x399fc2['InvalidSubscriber'],_0x3eb455(0x65d)],[_0x399fc2[_0x3eb455(0xa26)],_0x3eb455(0x73a)],[_0x399fc2[_0x3eb455(0x4de)],_0x3eb455(0x4ad)],[_0x399fc2[_0x3eb455(0x21e)],_0x3eb455(0x8b3)],[_0x399fc2['JobDispatcherJobNotFound'],_0x3eb455(0x252)],[_0x399fc2[_0x3eb455(0x378)],'Job\x20service\x20observer\x20not\x20found.'],[_0x399fc2[_0x3eb455(0x663)],_0x3eb455(0x6df)],[_0x399fc2[_0x3eb455(0x9a7)],'Invalid\x20job\x20worker\x20type.'],[_0x399fc2['KeyValueDatabaseCreationFailed'],_0x3eb455(0x343)],[_0x399fc2[_0x3eb455(0x5af)],_0x3eb455(0xa4f)],[_0x399fc2[_0x3eb455(0x5ab)],'Key-value\x20database\x20table\x20does\x20not\x20exist.'],[_0x399fc2[_0x3eb455(0x829)],_0x3eb455(0x466)],[_0x399fc2['KeyValueDatabaseTransactionValueNotSet'],_0x3eb455(0x3d2)],[_0x399fc2[_0x3eb455(0x836)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x399fc2[_0x3eb455(0x40f)],_0x3eb455(0x406)],[_0x399fc2[_0x3eb455(0x1c5)],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x399fc2[_0x3eb455(0xab5)],_0x3eb455(0x7e1)],[_0x399fc2[_0x3eb455(0x746)],_0x3eb455(0x707)],[_0x399fc2[_0x3eb455(0x369)],_0x3eb455(0x21c)],[_0x399fc2[_0x3eb455(0x361)],_0x3eb455(0x2d8)],[_0x399fc2[_0x3eb455(0x389)],'Object\x20store\x20not\x20synced.'],[_0x399fc2[_0x3eb455(0x1bc)],_0x3eb455(0x249)],[_0x399fc2[_0x3eb455(0x1b9)],_0x3eb455(0x5f3)],[_0x399fc2[_0x3eb455(0x2a1)],_0x3eb455(0x247)],[_0x399fc2[_0x3eb455(0x554)],_0x3eb455(0x619)],[_0x399fc2[_0x3eb455(0x6e1)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x399fc2[_0x3eb455(0x349)],_0x3eb455(0x75f)],[_0x399fc2[_0x3eb455(0x465)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x399fc2[_0x3eb455(0xa4b)],_0x3eb455(0x2ec)],[_0x399fc2[_0x3eb455(0x3b5)],'Node\x20already\x20exists.'],[_0x399fc2[_0x3eb455(0x215)],_0x3eb455(0x8c1)],[_0x399fc2[_0x3eb455(0x3c6)],_0x3eb455(0x309)],[_0x399fc2[_0x3eb455(0x6d9)],_0x3eb455(0x318)],[_0x399fc2[_0x3eb455(0x79a)],_0x3eb455(0x8c5)]]);class _0x157cd9 extends Error{[_0x3eb455(0x43c)];static [_0x3eb455(0x6cc)]=_0x399fc2;['data'];constructor(_0x2df296,_0x167feb){const _0x58e5cc=_0x3eb455;super(_0x58e5cc(0x685)+_0x2df296+':\x20'+_0x4b00ae[_0x58e5cc(0x1d7)](_0x2df296)+_0x58e5cc(0x899)+JSON[_0x58e5cc(0x845)](_0x167feb)),this[_0x58e5cc(0x43c)]=_0x2df296,this[_0x58e5cc(0x7b8)]=_0x167feb||{};}}var _0x2862db,_0x449ca4,_0x5bb08a,_0x10da1c,_0x8aab44,_0x10a80f,_0x3ef5e5;!function(_0x3da18c){const _0x40251b=_0x3eb455;_0x3da18c[_0x3da18c[_0x40251b(0x8b5)]=0x0]=_0x40251b(0x8b5),_0x3da18c[_0x3da18c[_0x40251b(0x365)]=0x1]=_0x40251b(0x365),_0x3da18c[_0x3da18c['CloseJobWorker']=0x2]=_0x40251b(0x59c),_0x3da18c[_0x3da18c[_0x40251b(0x5da)]=0x3]=_0x40251b(0x5da),_0x3da18c[_0x3da18c[_0x40251b(0x72e)]=0x4]=_0x40251b(0x72e),_0x3da18c[_0x3da18c[_0x40251b(0x875)]=0x5]=_0x40251b(0x875),_0x3da18c[_0x3da18c[_0x40251b(0x8d8)]=0x6]='CloseObjectStoreBucket',_0x3da18c[_0x3da18c['ClosePubSubTopic']=0x7]=_0x40251b(0x715),_0x3da18c[_0x3da18c[_0x40251b(0xaa6)]=0x8]=_0x40251b(0xaa6),_0x3da18c[_0x3da18c['ExternalStorageStats']=0x9]=_0x40251b(0x4b8),_0x3da18c[_0x3da18c[_0x40251b(0x5ae)]=0xa]=_0x40251b(0x5ae),_0x3da18c[_0x3da18c[_0x40251b(0x87f)]=0xb]=_0x40251b(0x87f),_0x3da18c[_0x3da18c[_0x40251b(0x642)]=0xc]=_0x40251b(0x642),_0x3da18c[_0x3da18c['KeyValueDatabaseContentAvailable']=0xd]=_0x40251b(0x34e),_0x3da18c[_0x3da18c[_0x40251b(0x5bc)]=0xe]='KeyValueDatabaseContentSynchronized',_0x3da18c[_0x3da18c[_0x40251b(0x767)]=0xf]=_0x40251b(0x767),_0x3da18c[_0x3da18c['KeyValueDatabaseRequestTransactionsValue']=0x10]='KeyValueDatabaseRequestTransactionsValue',_0x3da18c[_0x3da18c[_0x40251b(0x1ef)]=0x11]=_0x40251b(0x1ef),_0x3da18c[_0x3da18c[_0x40251b(0x3cb)]=0x12]=_0x40251b(0x3cb),_0x3da18c[_0x3da18c[_0x40251b(0x9ce)]=0x13]=_0x40251b(0x9ce),_0x3da18c[_0x3da18c[_0x40251b(0x8b7)]=0x14]=_0x40251b(0x8b7),_0x3da18c[_0x3da18c['ObjectStoreStats']=0x15]=_0x40251b(0x225),_0x3da18c[_0x3da18c[_0x40251b(0x643)]=0x16]=_0x40251b(0x643),_0x3da18c[_0x3da18c['PublishMediaStream']=0x17]=_0x40251b(0x73c),_0x3da18c[_0x3da18c[_0x40251b(0x5ba)]=0x18]='RemoteMediaStreamTrackFail',_0x3da18c[_0x3da18c[_0x40251b(0x449)]=0x19]='SubscribeMediaStream',_0x3da18c[_0x3da18c['UnpublishMediaStream']=0x1a]='UnpublishMediaStream',_0x3da18c[_0x3da18c['UnsubscribeMediaStream']=0x1b]='UnsubscribeMediaStream',_0x3da18c[_0x3da18c[_0x40251b(0x74c)]=0x1c]=_0x40251b(0x74c),_0x3da18c[_0x3da18c[_0x40251b(0x3c0)]=0x1d]=_0x40251b(0x3c0);}(_0x2862db||(_0x2862db={})),function(_0x3a9dae){const _0x4b8c77=_0x3eb455;_0x3a9dae['FileWrite']=_0x4b8c77(0x76d),_0x3a9dae[_0x4b8c77(0x40e)]=_0x4b8c77(0x3eb),_0x3a9dae[_0x4b8c77(0x4c8)]='delete',_0x3a9dae['Move']='move',_0x3a9dae['RequestFile']='request-file',_0x3a9dae[_0x4b8c77(0x6a2)]='request-accepted',_0x3a9dae[_0x4b8c77(0x3bb)]=_0x4b8c77(0x469),_0x3a9dae[_0x4b8c77(0x1f8)]=_0x4b8c77(0x805);}(_0x449ca4||(_0x449ca4={})),function(_0x3ac34e){const _0x575c49=_0x3eb455;_0x3ac34e[_0x575c49(0xad3)]=_0x575c49(0xac7),_0x3ac34e[_0x575c49(0x9e3)]=_0x575c49(0x93f);}(_0x5bb08a||(_0x5bb08a={})),function(_0x46215a){const _0x128878=_0x3eb455;_0x46215a[_0x128878(0x3f3)]=_0x128878(0x520),_0x46215a[_0x128878(0xa33)]=_0x128878(0x1ed),_0x46215a[_0x128878(0x4c8)]='delete';}(_0x10da1c||(_0x10da1c={})),function(_0x3d3f97){const _0x50bc05=_0x3eb455;_0x3d3f97['Get']=_0x50bc05(0x1d7),_0x3d3f97[_0x50bc05(0x3d4)]=_0x50bc05(0xa65),_0x3d3f97[_0x50bc05(0xab2)]=_0x50bc05(0x993);}(_0x8aab44||(_0x8aab44={})),function(_0x38f4b5){const _0x45afb9=_0x3eb455;_0x38f4b5[_0x38f4b5[_0x45afb9(0xad3)]=0x0]=_0x45afb9(0xad3),_0x38f4b5[_0x38f4b5['Bid']=0x1]=_0x45afb9(0x50a),_0x38f4b5[_0x38f4b5[_0x45afb9(0x1f2)]=0x2]=_0x45afb9(0x1f2),_0x38f4b5[_0x38f4b5[_0x45afb9(0x789)]=0x3]=_0x45afb9(0x789),_0x38f4b5[_0x38f4b5[_0x45afb9(0x28a)]=0x4]=_0x45afb9(0x28a),_0x38f4b5[_0x38f4b5[_0x45afb9(0x3a4)]=0x5]=_0x45afb9(0x3a4);}(_0x10a80f||(_0x10a80f={})),function(_0x42c5dd){const _0x2afffd=_0x3eb455;_0x42c5dd[_0x42c5dd[_0x2afffd(0x32c)]=0x0]='PeerConnection',_0x42c5dd[_0x42c5dd[_0x2afffd(0x97a)]=0x1]='Node',_0x42c5dd[_0x42c5dd[_0x2afffd(0x7dc)]=0x2]='Content',_0x42c5dd[_0x42c5dd['Subscription']=0x3]=_0x2afffd(0x4bc),_0x42c5dd[_0x42c5dd['Stats']=0x4]='Stats',_0x42c5dd[_0x42c5dd[_0x2afffd(0x656)]=0x5]=_0x2afffd(0x656),_0x42c5dd[_0x42c5dd[_0x2afffd(0x8bf)]=0x6]=_0x2afffd(0x8bf);}(_0x3ef5e5||(_0x3ef5e5={}));class _0x3aa5e5{[_0x3eb455(0x7c7)];[_0x3eb455(0x78e)];['systemTopic'];constructor(_0x4ee8e4,_0x2ce937){this['owner']=_0x4ee8e4,this['label']=_0x2ce937;}['getLabel'](){const _0x5941b2=_0x3eb455;return this[_0x5941b2(0x78e)];}[_0x3eb455(0x2e9)](){const _0x44b9c8=_0x3eb455;return this[_0x44b9c8(0x7c7)]['getId']();}[_0x3eb455(0x51b)](){}[_0x3eb455(0x734)](_0x20b7db){const _0x3e06e5=_0x3eb455;this[_0x3e06e5(0x73b)]=_0x20b7db;}[_0x3eb455(0x416)](){const _0x16de31=_0x3eb455;delete this[_0x16de31(0x73b)];}}const _0x1a96a4=require('firebase/firestore');let _0x3b95d3=_0x478834(0x14d)['O'];function _0x27df38(_0x3408ab){const _0x4f711b=_0x3eb455;return!(!_0x3408ab||_0x4f711b(0x1d4)!=typeof _0x3408ab||Array[_0x4f711b(0xa02)](_0x3408ab));}_0x3b95d3=function _0x19d859(_0x16efff,..._0x20242a){const _0x2cf7ad=_0x3eb455;if(!Array[_0x2cf7ad(0xa02)](_0x20242a)||0x0===_0x20242a[_0x2cf7ad(0x3ed)])return _0x16efff;const _0x1ff45e=_0x20242a[_0x2cf7ad(0x892)]();if(_0x27df38(_0x16efff)&&_0x27df38(_0x1ff45e)){for(const _0x54998a in _0x1ff45e)_0x27df38(_0x1ff45e[_0x54998a])?(_0x16efff[_0x54998a]||Object[_0x2cf7ad(0x8c4)](_0x16efff,{[_0x54998a]:{}}),_0x19d859(_0x16efff[_0x54998a],_0x1ff45e[_0x54998a])):Object[_0x2cf7ad(0x8c4)](_0x16efff,{[_0x54998a]:_0x1ff45e[_0x54998a]});}return _0x19d859(_0x16efff,..._0x20242a);}(_0x3b95d3,_0x478834(0x3e6)['O']);const _0x507edf=_0x3b95d3,_0x1af74e=require('firebase/app'),_0x32348b=require('firebase/auth'),_0x432f7f=require('firebase/database'),_0x1c8bf5=require('firebase/functions'),_0xe630d4=require('uuid'),_0x36218a=_0x3eb455(0x3cc);class _0x3c7a54{static ['instance'];['app'];[_0x3eb455(0x5d3)];[_0x3eb455(0x394)];[_0x3eb455(0x452)];[_0x3eb455(0x923)];[_0x3eb455(0x48a)];['lastClockUpdate'];constructor(){const _0x28c512=_0x3eb455;this[_0x28c512(0x684)]();}static[_0x3eb455(0x5d6)](){const _0x11effc=_0x3eb455;return _0x3c7a54[_0x11effc(0x6f1)]||(_0x3c7a54[_0x11effc(0x6f1)]=new _0x3c7a54()),_0x3c7a54[_0x11effc(0x6f1)];}[_0x3eb455(0x684)](){const _0x2aaa95=_0x3eb455;if(!this[_0x2aaa95(0x6af)]){let _0x26b948=_0x36218a;_0x2aaa95(0x917)!=typeof window&&(_0x26b948=_0x36218a+'-'+(0x0,_0xe630d4['v4'])()),this[_0x2aaa95(0x6af)]=(0x0,_0x1af74e[_0x2aaa95(0x1d0)])(_0x507edf['firebaseConfig'],''+_0x26b948);}return this[_0x2aaa95(0x6af)];}[_0x3eb455(0x9e7)](){const _0x135c51=_0x3eb455;return this[_0x135c51(0x5d3)]||(this['auth']=(0x0,_0x32348b['getAuth'])(this['getApp']())),this[_0x135c51(0x5d3)];}[_0x3eb455(0x457)](){const _0x15cd14=_0x3eb455;return this[_0x15cd14(0x394)]||(this[_0x15cd14(0x394)]=(0x0,_0x1c8bf5[_0x15cd14(0x457)])(this['getApp'](),_0x507edf[_0x15cd14(0x3ae)][_0x15cd14(0x49c)])),this['functions'];}[_0x3eb455(0x80b)](){const _0x5da72c=_0x3eb455;return this[_0x5da72c(0x452)]||(this[_0x5da72c(0x452)]=(0x0,_0x432f7f[_0x5da72c(0x80b)])(this['getApp']())),this['database'];}[_0x3eb455(0x9e1)](){const _0x57ad75=_0x3eb455;return this['firestore']||(this[_0x57ad75(0x923)]=(0x0,_0x1a96a4[_0x57ad75(0x9e1)])(this[_0x57ad75(0x684)]())),this[_0x57ad75(0x923)];}async[_0x3eb455(0xac8)](){const _0x8591d3=_0x3eb455;if(this[_0x8591d3(0x48a)]&&this[_0x8591d3(0x3b8)]&&Date[_0x8591d3(0xa6a)]()-this[_0x8591d3(0x3b8)]<0x493e0)return Date[_0x8591d3(0xa6a)]()+this[_0x8591d3(0x48a)];const _0x2ff2f6=this[_0x8591d3(0x80b)](),_0x50209e=(0x0,_0x432f7f[_0x8591d3(0x7cf)])(_0x2ff2f6,_0x8591d3(0x848));return new Promise(_0x3852a0=>{const _0x2e27c6=_0x8591d3;(0x0,_0x432f7f[_0x2e27c6(0x6bb)])(_0x50209e,_0x5c2383=>{const _0x24de57=_0x2e27c6;(0x0,_0x432f7f['off'])(_0x50209e),this[_0x24de57(0x48a)]=_0x5c2383[_0x24de57(0xa70)](),this[_0x24de57(0x3b8)]=Date[_0x24de57(0xa6a)](),_0x3852a0(Date[_0x24de57(0xa6a)]()+(this[_0x24de57(0x48a)]??0x0));});});}}const _0x418361=_0x3c7a54['getInstance']();class _0x5878cc{static [_0x3eb455(0x6f1)];[_0x3eb455(0x888)]=[_0x51c80b[_0x3eb455(0x4e0)]];['debugEnabled']=!0x1;['loggingConnectors'];[_0x3eb455(0x2df)]='';[_0x3eb455(0x9c5)];[_0x3eb455(0x2ad)]=[];[_0x3eb455(0x9dd)];[_0x3eb455(0x293)];[_0x3eb455(0x51e)]=0xa;['retryDelay']=0x1f4;['batchSize']=0x1c2;[_0x3eb455(0x953)]=0x3e8;constructor(){const _0x503f07=_0x3eb455;if('undefined'!=typeof window)this['globalObject']=window;else{if(void 0x0===_0x478834['g'])throw new Error(_0x503f07(0x621));this[_0x503f07(0x9c5)]=_0x478834['g'];}this['loadEnabledChannels'](),this[_0x503f07(0x9c5)][_0x503f07(0x5b7)]=_0x54d9b3=>{const _0x1acb16=_0x503f07;if(_0x54d9b3===_0x51c80b[_0x1acb16(0x87e)])return this['enabledChannels']=Object[_0x1acb16(0x9c6)](_0x51c80b)[_0x1acb16(0x257)](_0x28054b=>_0x51c80b[_0x28054b]),void Object[_0x1acb16(0x9c6)](_0x51c80b)[_0x1acb16(0x9d2)](_0xd831ab=>{const _0x96a9bd=_0x1acb16,_0x32d94c=_0xd831ab;localStorage[_0x96a9bd(0x546)]('crewdle-sdk-logging-'+_0x51c80b[_0x32d94c],'true');});this['enabledChannels'][_0x1acb16(0x721)](_0x54d9b3)||(this[_0x1acb16(0x888)][_0x1acb16(0x69a)](_0x54d9b3),localStorage[_0x1acb16(0x546)](_0x1acb16(0x282)+_0x54d9b3,'true'));},this['globalObject'][_0x503f07(0x935)]=_0xd1dd5e=>{const _0xb64395=_0x503f07;if(!_0xd1dd5e||_0xd1dd5e===_0x51c80b[_0xb64395(0x87e)])return this['enabledChannels']=[],void Object[_0xb64395(0x9c6)](_0x51c80b)[_0xb64395(0x9d2)](_0x3d28ee=>{const _0x28ab00=_0xb64395,_0x45de31=_0x3d28ee;localStorage[_0x28ab00(0x5f2)](_0x28ab00(0x282)+_0x51c80b[_0x45de31]);});this[_0xb64395(0x888)][_0xb64395(0x721)](_0xd1dd5e)&&(this[_0xb64395(0x888)]=this['enabledChannels']['filter'](_0x410d7=>_0x410d7!==_0xd1dd5e),localStorage[_0xb64395(0x5f2)]('crewdle-sdk-logging-'+_0xd1dd5e));},this['globalObject'][_0x503f07(0x4b0)]=_0x51c80b;}static[_0x3eb455(0x5d6)](){const _0xc0750b=_0x3eb455;try{return _0x5878cc[_0xc0750b(0x6f1)]||(_0x5878cc['instance']=new _0x5878cc()),_0x5878cc['instance'];}catch(_0x2f5cd1){return console[_0xc0750b(0x4f1)]('Logger.getInstance',_0x2f5cd1),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}['setVendorId'](_0x553298){const _0x329d5e=_0x3eb455;this[_0x329d5e(0x2df)]=_0x553298,this[_0x329d5e(0x2ad)]=[],this[_0x329d5e(0x9dd)]=this[_0x329d5e(0x7eb)](),this['batchTimeout']&&(clearTimeout(this[_0x329d5e(0x293)]),this[_0x329d5e(0x293)]=void 0x0);}[_0x3eb455(0x7d8)](_0x418e16){const _0x48ec2f=_0x3eb455;this[_0x48ec2f(0x80a)]=_0x418e16;}[_0x3eb455(0xaa7)](_0x3ad8e7,..._0x4dadfb){const _0x3c3c3f=_0x3eb455;this['debugEnabled']&&this[_0x3c3c3f(0x2f3)](_0x51c80b['Default'],'DEBUG\x20-\x20'+_0x3ad8e7,..._0x4dadfb);}['forceLog'](_0x5dd7de,..._0x580796){const _0x392ea8=_0x3eb455;console[_0x392ea8(0x2f3)](_0x5dd7de,..._0x580796);}[_0x3eb455(0x2f3)](_0x3de830,_0x130be4,..._0x2c996b){const _0x1f978f=_0x3eb455;_0x507edf['isProduction']||(this[_0x1f978f(0x888)][_0x1f978f(0x721)](_0x3de830)&&console[_0x1f978f(0x2f3)](_0x1f978f(0x9c4)+_0x3de830+'\x27\x0a',new Date()+'\x0a',_0x130be4,..._0x2c996b),this['loggingConnectors']&&this['loggingConnectors']['forEach'](_0x27e359=>{const _0x22c19b=_0x1f978f;this[_0x22c19b(0x7da)](_0x27e359)&&_0x27e359[_0x22c19b(0x1b0)]()[_0x22c19b(0x721)](_0x3de830)&&_0x27e359[_0x22c19b(0x2f3)](_0x130be4,{'vendorId':this[_0x22c19b(0x2df)],'nodeId':'','nodeType':'','data':{'channel':_0x3de830,..._0x2c996b}});}));}[_0x3eb455(0x8ae)](_0x161551,_0x29827c,..._0x4571f3){const _0x41c1cc=_0x3eb455;_0x507edf['isProduction']||(this[_0x41c1cc(0x888)][_0x41c1cc(0x721)](_0x161551)&&console[_0x41c1cc(0x2f3)](_0x29827c,..._0x4571f3),this[_0x41c1cc(0x80a)]&&this[_0x41c1cc(0x80a)][_0x41c1cc(0x9d2)](_0x3de11b=>{const _0x5355ea=_0x41c1cc;this[_0x5355ea(0x7da)](_0x3de11b)&&_0x3de11b[_0x5355ea(0x1b0)]()[_0x5355ea(0x721)](_0x161551)&&_0x3de11b[_0x5355ea(0x2f3)](_0x29827c,{'vendorId':this[_0x5355ea(0x2df)],'nodeId':'','nodeType':'','data':{'channel':_0x161551,..._0x4571f3}});}));}['logEvent'](_0x319383,_0xe3bd71){const _0xaf3fbf=_0x3eb455;if(!this['loggingConnectors'])return;const _0x5f21eb={'vendorId':this['vendorId'],..._0xe3bd71};this[_0xaf3fbf(0x80a)][_0xaf3fbf(0x9d2)](_0x27c348=>{_0x27c348['log'](_0x319383,_0x5f21eb);});}[_0x3eb455(0x7f7)](_0x12fbae,_0xaa2b5e){const _0x271f32=_0x3eb455;this[_0x271f32(0x713)](_0x12fbae,_0xaa2b5e),this[_0x271f32(0xa03)]();}['logStorage'](_0x57a8a0,_0x28675a,_0x49af33){const _0x118b75=_0x3eb455;(0x0,_0x1a96a4[_0x118b75(0xa2d)])((0x0,_0x1a96a4[_0x118b75(0x1e4)])(_0x418361[_0x118b75(0x9e1)](),_0x118b75(0x6c6)+this[_0x118b75(0x2df)]+'/'+_0x57a8a0+'/'+_0x28675a),{'storage':_0x49af33,'timestamp':(0x0,_0x1a96a4[_0x118b75(0x633)])()});}['logBatch'](){const _0x26c405=_0x3eb455;this[_0x26c405(0x9dd)]&&(this[_0x26c405(0x9dd)][_0x26c405(0x53d)]+=0x1,this[_0x26c405(0x9dd)][_0x26c405(0x53d)]===this[_0x26c405(0x4c7)]?this[_0x26c405(0x499)]():this[_0x26c405(0x293)]||(this[_0x26c405(0x293)]=this[_0x26c405(0x9c5)]['setTimeout'](()=>this[_0x26c405(0x499)](),this['timeoutValue'])));}async[_0x3eb455(0x499)](){const _0x484ad2=_0x3eb455;if(this['currentBatch']){for(this[_0x484ad2(0x2ad)]['push'](this['currentBatch']),this[_0x484ad2(0x9dd)]=this[_0x484ad2(0x7eb)]();this['batchQueue'][_0x484ad2(0x3ed)]>0x0;){const _0x34c56c=this['batchQueue'][_0x484ad2(0x892)]();if(!await this[_0x484ad2(0x533)](_0x34c56c))break;}clearTimeout(this[_0x484ad2(0x293)]),this[_0x484ad2(0x293)]=void 0x0;}}[_0x3eb455(0x4f1)](_0x1917ca,_0x53577f,..._0x32f9ea){const _0x5d7fa8=_0x3eb455;if(console['error'](new Date(),_0x1917ca,_0x53577f,..._0x32f9ea),this['loggingConnectors']){const _0x201696={'vendorId':this[_0x5d7fa8(0x2df)],..._0x53577f};this['loggingConnectors'][_0x5d7fa8(0x9d2)](_0x957fd7=>{const _0x46735f=_0x5d7fa8;_0x957fd7[_0x46735f(0x4f1)](_0x1917ca,_0x201696);});}}['warning'](_0x25cc1b,_0x5039ad,..._0x356f75){const _0x269a37=_0x3eb455;if(console[_0x269a37(0x405)](new Date(),_0x25cc1b,_0x5039ad,_0x356f75),this[_0x269a37(0x80a)]){const _0x1e3add={'vendorId':this[_0x269a37(0x2df)],..._0x5039ad};this['loggingConnectors']['forEach'](_0x51d29e=>{const _0x4400fb=_0x269a37;_0x51d29e[_0x4400fb(0x405)](_0x25cc1b,_0x1e3add);});}}[_0x3eb455(0x676)](_0x51065c){const _0x52052a=_0x3eb455;return this['enabledChannels'][_0x52052a(0x721)](_0x51065c);}async[_0x3eb455(0x533)](_0x2e9378,_0x72dffc=0x0){const _0x3f7890=_0x3eb455;if(_0x2e9378['counter']>0x0)try{return await _0x2e9378[_0x3f7890(0x2f2)][_0x3f7890(0x818)](),!0x0;}catch(_0x47f935){if(console[_0x3f7890(0x4f1)](_0x3f7890(0x8a4),_0x47f935,_0x3f7890(0x4b3),_0x2e9378['operations']),!(_0x72dffc<this[_0x3f7890(0x51e)])){const {nodeId:_0xc7905b='',nodeType:_0xdb278e='',clusterId:_0x12d5dc=''}=_0x2e9378[_0x3f7890(0x1f1)][0x0][_0x3f7890(0x7b8)],_0x50d96a={'nodeId':_0xc7905b,'nodeType':_0xdb278e,'clusterId':_0x12d5dc,'data':{'operations':_0x2e9378[_0x3f7890(0x1f1)],'error':_0x47f935}};return this[_0x3f7890(0x4f1)](_0x3f7890(0xa93),_0x50d96a),!0x1;}{const _0x2e08aa=this[_0x3f7890(0x356)](_0x2e9378[_0x3f7890(0x1f1)]);setTimeout(()=>this[_0x3f7890(0x533)](_0x2e08aa,_0x72dffc+0x1),this[_0x3f7890(0x65e)]*Math['pow'](0x2,_0x72dffc));}}}[_0x3eb455(0x9ea)](){const _0x449111=_0x3eb455;try{Object[_0x449111(0x9c6)](_0x51c80b)[_0x449111(0x9d2)](_0x270843=>{const _0x488b31=_0x449111,_0xb7759f=_0x270843;localStorage[_0x488b31(0x522)](_0x488b31(0x282)+_0x51c80b[_0xb7759f])&&(console[_0x488b31(0x2f3)](_0x488b31(0x5ac),_0x51c80b[_0xb7759f]),this[_0x488b31(0x888)][_0x488b31(0x69a)](_0x51c80b[_0xb7759f]));});}catch(_0x31caac){}}[_0x3eb455(0x7da)](_0x4261c8){const _0x35edad=_0x3eb455;return void 0x0!==_0x4261c8[_0x35edad(0x1b0)];}[_0x3eb455(0x7eb)](){const _0x2c82c1=_0x3eb455;return{'batch':(0x0,_0x1a96a4[_0x2c82c1(0x32d)])(_0x418361[_0x2c82c1(0x9e1)]()),'operations':[],'counter':0x0};}[_0x3eb455(0x356)](_0x234ec3){const _0x45b425=_0x3eb455,_0x438384=(0x0,_0x1a96a4[_0x45b425(0x32d)])(_0x418361[_0x45b425(0x9e1)]());return _0x234ec3[_0x45b425(0x9d2)](_0x57af5f=>this['addBatchOperation'](_0x438384,_0x57af5f)),{'batch':_0x438384,'operations':_0x234ec3,'counter':_0x234ec3['length']};}['addBatchOperation'](_0x48aace,_0x51dd0e){const _0x176137=_0x3eb455;switch(_0x51dd0e[_0x176137(0x6d8)]){case'set':_0x48aace['set'](_0x51dd0e[_0x176137(0x7cf)],_0x51dd0e['data']);break;case'update':_0x48aace[_0x176137(0x1ed)](_0x51dd0e[_0x176137(0x7cf)],_0x51dd0e[_0x176137(0x7b8)]);break;case _0x176137(0xaa3):_0x48aace[_0x176137(0xaa3)](_0x51dd0e[_0x176137(0x7cf)]);}}['createBatchOperation'](_0x34fd62,_0x49eb34){const _0x391bf9=_0x3eb455;this[_0x391bf9(0x9dd)]||(this[_0x391bf9(0x9dd)]=this[_0x391bf9(0x7eb)]());const _0x5cd1c7=(0x0,_0x1a96a4[_0x391bf9(0x1e4)])((0x0,_0x1a96a4[_0x391bf9(0x23e)])(_0x418361[_0x391bf9(0x9e1)](),_0x391bf9(0x6c6)+this[_0x391bf9(0x2df)]+_0x391bf9(0x25c))),_0x5dfb64={..._0x49eb34,'service':_0x34fd62,'timestamp':(0x0,_0x1a96a4['serverTimestamp'])()},_0xdfbbca={'type':_0x391bf9(0x90d),'path':_0x5cd1c7[_0x391bf9(0x280)],'ref':_0x5cd1c7,'data':_0x5dfb64};return this[_0x391bf9(0x9dd)]['operations'][_0x391bf9(0x69a)](_0xdfbbca),this[_0x391bf9(0x664)](this[_0x391bf9(0x9dd)][_0x391bf9(0x2f2)],_0xdfbbca),_0x5cd1c7;}}const _0x2c9fd4=_0x5878cc['getInstance']();function _0x522bf0(_0x5d4915,_0x15f426){return'/'===_0x5d4915?_0x5d4915+_0x15f426:_0x5d4915+'/'+_0x15f426;}function _0xa9987d(_0x5da440){const _0x2853f0=_0x3eb455,_0x594753=function(_0x5d0bc4){const _0x332700=a0_0x12d8;return _0x5d0bc4[_0x332700(0x979)]('/')[_0x332700(0x638)](_0x3360e0=>_0x3360e0[_0x332700(0x3ed)]>0x0);}(_0x5da440),_0x2af948=_0x594753['pop']()||'',_0x502b74=_0x594753[_0x2853f0(0x220)]('/');return[0x0===_0x502b74[_0x2853f0(0x3ed)]?'/':_0x502b74,_0x2af948];}async function _0x5a7452(_0x56a1ef){const _0x470043=_0x3eb455;let _0x2fdc2;const _0x1109e1=_0x56a1ef[_0x470043(0xa95)]/0x100000;_0x2fdc2=_0x1109e1<=0xa?0x1:_0x1109e1<=0x64?0.5:_0x1109e1<=0x1f4?0.1:0.05;const _0x3d66ae=Math[_0x470043(0x4cf)](_0x56a1ef[_0x470043(0xa95)]/_0x53395d),_0x4a77b0=Math[_0x470043(0x4cf)](_0x3d66ae*_0x2fdc2);let _0x315f3d=new Uint8Array();for(let _0x5e03b8=0x0;_0x5e03b8<_0x4a77b0;_0x5e03b8++){const _0xb25930=Math['floor'](_0x5e03b8/_0x4a77b0*_0x56a1ef['size']);let _0x40377e=_0xb25930+_0x53395d;_0x40377e>_0x56a1ef[_0x470043(0xa95)]&&(_0x40377e=_0x56a1ef[_0x470043(0xa95)]);const _0x358310=_0x56a1ef[_0x470043(0x2d0)](_0xb25930,_0x40377e),_0x3eeaed=await _0x358310['arrayBuffer'](),_0x578b62=new Uint8Array([..._0x315f3d,...new Uint8Array(_0x3eeaed)]);_0x315f3d=new Uint8Array(await crypto['subtle'][_0x470043(0x39e)](_0x470043(0x82a),_0x578b62));}return Array[_0x470043(0x495)](new Uint8Array(_0x315f3d))[_0x470043(0x257)](_0x2cbe1d=>_0x2cbe1d[_0x470043(0x957)](0x10)[_0x470043(0x567)](0x2,'0'))[_0x470043(0x220)]('');}async function*_0x1f4862(_0x4be56f,_0x4dea7b=0x0,_0x25d55c){const _0x362071=_0x3eb455;let _0x201faa=_0x4dea7b*_0x188a1d,_0x43cb05=_0x4be56f;for(;_0x201faa<_0x43cb05[_0x362071(0xa95)];){let _0x30f96a=_0x201faa+_0x188a1d;_0x30f96a>_0x43cb05[_0x362071(0xa95)]&&(_0x30f96a=_0x43cb05[_0x362071(0xa95)]);let _0x11da9e=0x0;for(;_0x11da9e<0x14;)try{await _0x25d55c?.();const _0x3e2ec8=_0x43cb05[_0x362071(0x2d0)](_0x201faa,_0x30f96a,'application/octet-stream'),_0x5cd3b7=await _0x3e2ec8['arrayBuffer']();yield _0x5cd3b7,_0x201faa=_0x30f96a,await new Promise(_0x4a6888=>setTimeout(_0x4a6888,0x0));break;}catch(_0x571955){if(console['error']('Error\x20reading\x20file\x20chunk\x20after\x20'+(_0x11da9e+0x1)+_0x362071(0xade),_0x571955),_0x11da9e++,_0x11da9e>0x14)throw _0x571955;let _0x50c056=0x3e8*Math['pow'](0x2,_0x11da9e);_0x50c056>0x7530&&(_0x50c056=0x7530),await new Promise(_0x22716a=>setTimeout(_0x22716a,_0x50c056));}}}class _0x2f8302 extends _0x3aa5e5{[_0x3eb455(0x614)];['incomingTopic'];[_0x3eb455(0x624)]=new Map();[_0x3eb455(0x9fe)]=0x0;[_0x3eb455(0x41b)]=0x0;['bytesSent']=0x0;[_0x3eb455(0x2e6)]=0x0;constructor(_0x196083,_0x496e52){super(_0x196083,_0x496e52);}[_0x3eb455(0x8d5)](){const _0x477ad0=_0x3eb455;return this[_0x477ad0(0x78e)];}[_0x3eb455(0xacc)](){const _0x235f2b=_0x3eb455;return this[_0x235f2b(0x78e)];}[_0x3eb455(0x41e)](){const _0x4e7077=_0x3eb455;return _0x4d2150[_0x4e7077(0x9a5)]['Data'];}[_0x3eb455(0x37a)](){const _0x22cf5f=_0x3eb455;return this[_0x22cf5f(0x78e)];}['registerPublisher'](_0x55c1c8){const _0x535336=_0x3eb455;if(this[_0x535336(0x614)])throw new _0x157cd9(_0x157cd9[_0x535336(0x6cc)][_0x535336(0x4a6)],{'message':_0x535336(0x493)+this[_0x535336(0x7c7)][_0x535336(0x777)]()+_0x535336(0x3f2)+this[_0x535336(0x78e)],'topic':this[_0x535336(0x614)]});this['outgoingTopic']=_0x55c1c8;}[_0x3eb455(0x60b)](_0x4b06da){const _0x3bd79a=_0x3eb455;if(this['incomingTopic'])throw new _0x157cd9(_0x157cd9['codes'][_0x3bd79a(0xaa4)],{'message':_0x3bd79a(0x4c9)+this[_0x3bd79a(0x7c7)][_0x3bd79a(0x777)]()+_0x3bd79a(0x3f2)+this[_0x3bd79a(0x78e)],'topic':this[_0x3bd79a(0x53c)]});this['incomingTopic']=_0x4b06da;}['unregisterPublisher'](){const _0x3ede2b=_0x3eb455;delete this[_0x3ede2b(0x614)];}[_0x3eb455(0x672)](){const _0xe977cc=_0x3eb455;delete this[_0xe977cc(0x53c)];}async['send'](_0x24d686,_0x3d4ecf){const _0x4f2948=_0x3eb455;if(_0x2c9fd4[_0x4f2948(0x2f3)](_0x51c80b[_0x4f2948(0xac5)],_0x4f2948(0x8da),this[_0x4f2948(0x7c7)][_0x4f2948(0x777)](),_0x24d686,_0x3d4ecf),this[_0x4f2948(0x9fe)]+=0x1,_0x24d686 instanceof File){const _0x3ecef3=await async function(_0x49fa9a){const _0x1e2b9a=[];for await(const _0x4ad29d of _0x1f4862(_0x49fa9a))_0x1e2b9a['push'](_0x4ad29d);return _0x1e2b9a;}(_0x24d686);return this[_0x4f2948(0x811)]+=_0x3ecef3[_0x4f2948(0x92f)]((_0x530cdd,_0xe8e0d4)=>_0x530cdd+_0xe8e0d4[_0x4f2948(0x9dc)],0x0),void _0x3ecef3[_0x4f2948(0x9d2)]((_0xceaccd,_0x2cbc14)=>{const _0x4a6218=_0x4f2948;this[_0x4a6218(0x614)][_0x4a6218(0x5bf)]({'sourceId':this['owner'][_0x4a6218(0x777)](),'destinationIds':_0x3d4ecf,'propagate':!0x0,'contentType':_0x4d2150[_0x4a6218(0x9a5)]['File'],'content':{'name':_0x24d686[_0x4a6218(0x807)],'type':_0x24d686[_0x4a6218(0x6d8)],'data':_0xceaccd,'index':_0x2cbc14,'total':_0x3ecef3[_0x4a6218(0x3ed)]}});});}this[_0x4f2948(0x811)]+=JSON[_0x4f2948(0x845)](_0x24d686)[_0x4f2948(0x3ed)],this[_0x4f2948(0x614)]['publish']({'sourceId':this['owner']['getId'](),'destinationIds':_0x3d4ecf,'propagate':!0x0,'contentType':_0x4d2150[_0x4f2948(0x9a5)][_0x4f2948(0x946)],'content':_0x24d686});}['onMessage'](_0x299825){const _0x3bd803=_0x3eb455;return this['incomingTopic'][_0x3bd803(0x79f)](_0x57c261=>{const _0x385cfd=_0x3bd803;switch(_0x2c9fd4[_0x385cfd(0x2f3)](_0x51c80b[_0x385cfd(0xac5)],'DataStream\x20onMessage',this[_0x385cfd(0x7c7)][_0x385cfd(0x777)](),_0x57c261),_0x57c261[_0x385cfd(0x20d)]){case _0x4d2150[_0x385cfd(0x9a5)][_0x385cfd(0x946)]:this[_0x385cfd(0x41b)]+=0x1,this[_0x385cfd(0x2e6)]+=JSON[_0x385cfd(0x845)](_0x57c261[_0x385cfd(0x211)])[_0x385cfd(0x3ed)],_0x299825(_0x57c261['sourceId'],_0x57c261[_0x385cfd(0x211)]);break;case _0x4d2150[_0x385cfd(0x9a5)]['File']:this[_0x385cfd(0x624)][_0x385cfd(0x8c7)](_0x57c261['content']['name'])||this['fileChunks'][_0x385cfd(0x90d)](_0x57c261[_0x385cfd(0x211)][_0x385cfd(0x807)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x4a1835=this[_0x385cfd(0x624)][_0x385cfd(0x1d7)](_0x57c261[_0x385cfd(0x211)]['name']);if(_0x4a1835[_0x385cfd(0x990)]+=0x1,_0x4a1835[_0x385cfd(0x2e6)]+=_0x57c261['content'][_0x385cfd(0x7b8)][_0x385cfd(0x9dc)],_0x4a1835[_0x385cfd(0x211)]&&(_0x4a1835[_0x385cfd(0x211)][_0x57c261['content'][_0x385cfd(0x974)]]=_0x57c261['content'][_0x385cfd(0x7b8)]),this[_0x385cfd(0x624)][_0x385cfd(0x90d)](_0x57c261[_0x385cfd(0x211)][_0x385cfd(0x807)],_0x4a1835),_0x4a1835['chunksReceived']+0x1<_0x57c261[_0x385cfd(0x211)][_0x385cfd(0x251)])return;this[_0x385cfd(0x41b)]+=0x1,this[_0x385cfd(0x2e6)]+=_0x4a1835[_0x385cfd(0x2e6)],_0x4a1835['content']&&_0x299825(_0x57c261[_0x385cfd(0x947)],(_0x40f70e=_0x4a1835[_0x385cfd(0x211)],_0x4b8999=_0x57c261['content']['name'],_0x25081a=_0x57c261[_0x385cfd(0x211)]['type'],new File(_0x40f70e,_0x4b8999,{'type':_0x25081a}))),this['fileChunks'][_0x385cfd(0xaa3)](_0x57c261['content'][_0x385cfd(0x807)]);}var _0x40f70e,_0x4b8999,_0x25081a;});}}function _0x2bf9b6(){const _0x13e248=_0x3eb455;let _0x30b043=[];return{'subscribe':_0x45367d=>(_0x30b043[_0x13e248(0x69a)](_0x45367d),()=>{const _0x4157f1=_0x13e248;_0x30b043=_0x30b043[_0x4157f1(0x638)](_0x5ee99b=>_0x5ee99b!==_0x45367d);}),'publish':_0x20e048=>{const _0x3488a7=_0x13e248;_0x30b043[_0x3488a7(0x9d2)](_0x1f2d49=>_0x1f2d49(_0x20e048));}};}function _0x2f8e97(){let _0x4187cf;return{'subscribe':_0x2ccf71=>(_0x4187cf=_0x2ccf71,()=>{_0x4187cf=void 0x0;}),'publish':_0x5a01ee=>{_0x4187cf&&_0x4187cf(_0x5a01ee);}};}class _0xb76772{['connector'];[_0x3eb455(0x269)];['tableObserver'];['eventListener']=_0x2f8e97();[_0x3eb455(0x473)];constructor(_0x291746,_0x2bd451,_0x5eee7d){const _0x32aa07=_0x3eb455;this['connector']=_0x291746,this[_0x32aa07(0x269)]=_0x2bd451,this[_0x32aa07(0x91a)]=_0x5eee7d;}['destroy'](){const _0xf5b2ea=_0x3eb455;this[_0xf5b2ea(0x473)]?.();}async[_0x3eb455(0x1d7)](_0x39b34c){const _0xfc5ed7=_0x3eb455,_0x533f5c={'key':_0x39b34c,'tableName':this[_0xfc5ed7(0x269)],'action':_0x8aab44['Get']};return this[_0xfc5ed7(0x91a)][_0xfc5ed7(0x5bf)](_0x533f5c),this[_0xfc5ed7(0x587)][_0xfc5ed7(0x1d7)](_0x39b34c);}async[_0x3eb455(0x90d)](_0x4955ed,_0x595452,_0x5578a3=!0x0){const _0x2ad781=_0x3eb455;this['validateValue'](_0x595452);const _0x14aadd=await this[_0x2ad781(0x587)][_0x2ad781(0x1d7)](_0x4955ed),_0x4b8afd=await this['connector'][_0x2ad781(0x90d)](_0x4955ed,_0x595452),_0x2dac9c=_0x14aadd?_0x10da1c[_0x2ad781(0xa33)]:_0x10da1c[_0x2ad781(0x3f3)];if(this[_0x2ad781(0x5bf)](_0x2dac9c,_0x4b8afd),!_0x5578a3)return _0x4b8afd;const _0x8c0c55={'key':_0x4955ed,'tableName':this[_0x2ad781(0x269)],'action':_0x2dac9c,'value':_0x4b8afd};return this[_0x2ad781(0x91a)][_0x2ad781(0x5bf)](_0x8c0c55),_0x4b8afd;}async['add'](_0x221f5e){const _0x4a353e=_0x3eb455;this[_0x4a353e(0x76e)](_0x221f5e);const _0x468e5b=await this[_0x4a353e(0x587)][_0x4a353e(0x520)](_0x221f5e),_0x17bc88={'key':_0x468e5b['id'],'tableName':this[_0x4a353e(0x269)],'action':_0x10da1c[_0x4a353e(0x3f3)],'value':_0x468e5b};return this[_0x4a353e(0x91a)][_0x4a353e(0x5bf)](_0x17bc88),this[_0x4a353e(0x5bf)](_0x17bc88[_0x4a353e(0x6f7)],_0x468e5b),_0x468e5b;}async[_0x3eb455(0xaa3)](_0x3c4fb7,_0x4bd51d=!0x0){const _0x4e1c8a=_0x3eb455,_0x486a48=await this[_0x4e1c8a(0x587)][_0x4e1c8a(0x1d7)](_0x3c4fb7);if(!_0x486a48)return;await this[_0x4e1c8a(0x587)]['delete'](_0x3c4fb7);const _0x126289=_0x10da1c['Delete'];if(this[_0x4e1c8a(0x5bf)](_0x126289,_0x486a48),!_0x4bd51d)return;const _0x3106b5={'key':_0x3c4fb7,'tableName':this[_0x4e1c8a(0x269)],'action':_0x126289,'value':_0x486a48};this[_0x4e1c8a(0x91a)]['publish'](_0x3106b5);}async[_0x3eb455(0xa0e)](){const _0x9571b1=_0x3eb455,_0x9e5989=await this['list']();for(const _0x381fda of _0x9e5989){const _0x3c3ad2=_0x10da1c[_0x9571b1(0x4c8)];this[_0x9571b1(0x5bf)](_0x3c3ad2,_0x381fda);const _0x2c4a6={'key':_0x381fda['id'],'tableName':this[_0x9571b1(0x269)],'action':_0x3c3ad2,'value':_0x381fda};this[_0x9571b1(0x91a)][_0x9571b1(0x5bf)](_0x2c4a6);}return this['connector'][_0x9571b1(0xa0e)]();}async['list'](_0x4c5349){const _0x5c653e=_0x3eb455,_0x25ab41={'key':'','tableName':this[_0x5c653e(0x269)],'action':_0x8aab44[_0x5c653e(0x3d4)]};this[_0x5c653e(0x91a)][_0x5c653e(0x5bf)](_0x25ab41);try{_0x4c5349&&(_0x4c5349=_0x4c5349 instanceof _0x5cd836?_0x4c5349[_0x5c653e(0x9ec)]():_0x5cd836[_0x5c653e(0x29a)](_0x4c5349)[_0x5c653e(0x9ec)]());}catch(_0x30ee94){throw new _0x5669b1(_0x3ed137[_0x5c653e(0x758)],'Invalid\x20query');}try{return await this[_0x5c653e(0x587)]['list'](_0x4c5349);}catch(_0x137a83){let _0x61fc10='Invalid\x20query';throw _0x137a83 instanceof Error&&(_0x61fc10=_0x137a83[_0x5c653e(0x748)]),new _0x5669b1(_0x3ed137['KeyValueDatabaseInvalidQuery'],_0x61fc10);}}async[_0x3eb455(0x993)](_0x47e97){const _0x259506=_0x3eb455,_0x1125d3={'key':'','tableName':this[_0x259506(0x269)],'action':_0x8aab44[_0x259506(0xab2)]};this[_0x259506(0x91a)]['publish'](_0x1125d3);try{_0x47e97&&(_0x47e97=_0x47e97 instanceof _0x5cd836?_0x47e97[_0x259506(0x9ec)]():_0x5cd836[_0x259506(0x29a)](_0x47e97)[_0x259506(0x9ec)]());}catch(_0x43e76b){throw new _0x5669b1(_0x3ed137['KeyValueDatabaseInvalidQuery'],_0x259506(0x651));}try{return await this[_0x259506(0x587)][_0x259506(0x993)](_0x47e97);}catch(_0x5dd9b7){let _0x5f17d8=_0x259506(0x651);throw _0x5dd9b7 instanceof Error&&(_0x5f17d8=_0x5dd9b7[_0x259506(0x748)]),new _0x5669b1(_0x3ed137[_0x259506(0x758)],_0x5f17d8);}}[_0x3eb455(0x21d)](){const _0x2da03b=_0x3eb455;return this[_0x2da03b(0x587)][_0x2da03b(0x21d)]();}['subscribe'](_0x28a154){const _0x2bb2b4=_0x3eb455;this['listenerUnsubscriber']=this['eventListener'][_0x2bb2b4(0x79f)](_0x28a154);}[_0x3eb455(0x421)](){const _0x3bd3f1=_0x3eb455;this[_0x3bd3f1(0x473)]?.();}[_0x3eb455(0x5bf)](_0x47b5a1,_0x2e78a){const _0x156baa=_0x3eb455,_0x7005ca=this[_0x156baa(0x7e5)](_0x47b5a1,_0x2e78a);this['eventListener'][_0x156baa(0x5bf)](_0x7005ca);}['buildTableEvent'](_0x440e0a,_0x3e4a48){const _0x3497b8=_0x3eb455;let _0x29556d;switch(_0x440e0a){case _0x10da1c[_0x3497b8(0x3f3)]:_0x29556d=_0x3497b8(0x520);break;case _0x10da1c[_0x3497b8(0xa33)]:_0x29556d=_0x3497b8(0x1ed);break;case _0x10da1c['Delete']:_0x29556d=_0x3497b8(0xaa3);}return{'action':_0x29556d,'value':_0x3e4a48};}[_0x3eb455(0x76e)](_0x503f46){const _0x2522ee=_0x3eb455;if('object'!=typeof _0x503f46||null===_0x503f46)throw new _0x5669b1(_0x3ed137[_0x2522ee(0x9e4)],_0x2522ee(0x82b));for(const _0x230067 in _0x503f46){const _0x360f3d=_0x503f46[_0x230067];if(_0x2522ee(0x1d4)!=typeof _0x360f3d||_0x360f3d instanceof Date){if(![_0x2522ee(0x77a),'number',_0x2522ee(0x6c9)][_0x2522ee(0x721)](typeof _0x360f3d))throw new _0x5669b1(_0x3ed137[_0x2522ee(0x9e4)],_0x2522ee(0x453)+_0x230067+_0x2522ee(0x7e9));}else this[_0x2522ee(0x76e)](_0x360f3d);}}}class _0x753c04{[_0x3eb455(0x4c6)]=[];[_0x3eb455(0x1da)]=0x0;[_0x3eb455(0x539)]=[];[_0x3eb455(0x562)]=!0x1;[_0x3eb455(0x8a0)]=null;['rootComputationPromise']=null;['debounceLogTimeout'];[_0x3eb455(0x7bf)]=null;['readyPromises']=[];[_0x3eb455(0x513)];[_0x3eb455(0x7a7)]=Promise['resolve']();[_0x3eb455(0x5cd)]=0x0;constructor(){}get[_0x3eb455(0x76b)](){const _0x3c6620=_0x3eb455;return this[_0x3c6620(0x7a7)];}async[_0x3eb455(0x5fe)](_0x488a5d,_0x8940d2=0x0){const _0xb522ae=_0x3eb455;this[_0xb522ae(0x7bf)]||(this[_0xb522ae(0x7a7)]=new Promise(_0x10315f=>{const _0x336f37=_0xb522ae;this[_0x336f37(0x7bf)]=_0x10315f;}),this[_0xb522ae(0x5cd)]=_0x8940d2);const _0x567b15=Date[_0xb522ae(0xa6a)]();if(this['isComputingMMR'])return void this[_0xb522ae(0x539)]['push'](_0x488a5d);this['isComputingMMR']=!0x0;let _0x24d211={'hash':await this[_0xb522ae(0xab9)](_0x488a5d),'height':0x0};const _0x44e93a=this['combinePeaks'](_0x24d211);this[_0xb522ae(0x2b2)][_0xb522ae(0x69a)](_0x44e93a),await _0x44e93a,this['totalNodes']+=0x1;const _0x11ce53=this[_0xb522ae(0x539)][_0xb522ae(0x3ed)];for(;this['transactionQueue'][_0xb522ae(0x3ed)]>0x0;){const _0x1502c8=this[_0xb522ae(0x539)][_0xb522ae(0x892)]();await this[_0xb522ae(0x5fe)](_0x1502c8);}this[_0xb522ae(0x6e5)](),await this[_0xb522ae(0x76b)],this[_0xb522ae(0x93a)](_0x567b15,_0x11ce53);}async['getRoot'](){const _0x39174a=_0x3eb455;return await this['_ready'],this[_0x39174a(0x562)]?(this[_0x39174a(0x9af)]||(this[_0x39174a(0x9af)]=this[_0x39174a(0x936)]()),await this[_0x39174a(0x9af)]):this[_0x39174a(0x8a0)];}[_0x3eb455(0x31b)](){const _0x3e002a=_0x3eb455;return this['peaks'][_0x3e002a(0x257)](({hash:_0x1c3ed4,height:_0x10ff76})=>({'hash':_0x1c3ed4,'height':_0x10ff76}));}['getTotalNodes'](){return this['totalNodes'];}[_0x3eb455(0x1c8)](_0x76d786){const _0x432ccb=_0x3eb455;return this[_0x432ccb(0x4c6)][_0x432ccb(0xa41)](_0xa59ffe=>_0xa59ffe[_0x432ccb(0x572)]===_0x76d786);}async['hashNodes'](_0x199fd3,_0x33f690){const _0x4916af=_0x3eb455;return await this[_0x4916af(0xa9a)](_0x199fd3+_0x33f690);}async['hashTransaction'](_0x282c42){const _0xdb472e=_0x3eb455;return await this[_0xdb472e(0xa9a)](JSON['stringify'](_0x282c42));}['comparePeaks'](_0x438a17){const _0x2ca79b=_0x3eb455,_0x1a072f=this[_0x2ca79b(0x31b)](),_0x312e15=[],_0xeb7e04=[],_0x32d7db=[];for(const _0x201bf3 of _0x1a072f){const _0xc9690f=_0x438a17[_0x2ca79b(0xa41)](_0x2256b0=>_0x2256b0['height']===_0x201bf3[_0x2ca79b(0x572)]);_0xc9690f?_0x201bf3[_0x2ca79b(0x2ef)]!==_0xc9690f[_0x2ca79b(0x2ef)]&&_0x312e15[_0x2ca79b(0x69a)]({'height':_0x201bf3[_0x2ca79b(0x572)],'localPeak':_0x201bf3,'remotePeak':_0xc9690f}):_0xeb7e04['push'](_0x201bf3);}for(const _0x511669 of _0x438a17)_0x1a072f[_0x2ca79b(0xa41)](_0x29d9da=>_0x29d9da['height']===_0x511669['height'])||_0x32d7db[_0x2ca79b(0x69a)](_0x511669);return{'differingPeaks':_0x312e15,'peaksMissingInRemote':_0xeb7e04,'peaksMissingInLocal':_0x32d7db};}async[_0x3eb455(0x936)](){const _0x1b8f85=_0x3eb455;this[_0x1b8f85(0x562)]=!0x0;const _0x568365=this[_0x1b8f85(0x4c6)][_0x1b8f85(0x257)](_0x3d2a56=>_0x3d2a56[_0x1b8f85(0x2ef)]);return this[_0x1b8f85(0x8a0)]=await this['hashPeakHashes'](_0x568365),this[_0x1b8f85(0x562)]=!0x1,this['rootComputationPromise']=null,this[_0x1b8f85(0x6e5)](),this['cachedRoot'];}async['computeHash'](_0x452440){const _0x1b6b26=_0x3eb455;try{const _0x2f68ac=new TextEncoder()[_0x1b6b26(0x82f)](_0x452440),_0x50e155=await crypto[_0x1b6b26(0x2a7)]['digest'](_0x1b6b26(0x82a),_0x2f68ac);return Array[_0x1b6b26(0x495)](new Uint8Array(_0x50e155))['map'](_0x3a1660=>_0x3a1660['toString'](0x10)[_0x1b6b26(0x567)](0x2,'0'))[_0x1b6b26(0x220)]('');}catch(_0x2e69f5){return console[_0x1b6b26(0x4f1)](_0x1b6b26(0x287),_0x2e69f5),this[_0x1b6b26(0xa9a)](_0x452440);}}async['hashPeakHashes'](_0x50fe51){const _0x1d6c5f=_0x3eb455;return await this[_0x1d6c5f(0xa9a)](_0x50fe51[_0x1d6c5f(0x220)](''));}async[_0x3eb455(0x786)](_0x5c7406){const _0x81d180=_0x3eb455;for(;this['peaks'][_0x81d180(0x3ed)]>0x0&&this[_0x81d180(0x4c6)][this[_0x81d180(0x4c6)][_0x81d180(0x3ed)]-0x1][_0x81d180(0x572)]===_0x5c7406[_0x81d180(0x572)];){const _0xfa8d9e=this[_0x81d180(0x4c6)][_0x81d180(0x843)]();_0x5c7406={'hash':await this['hashNodes'](_0xfa8d9e[_0x81d180(0x2ef)],_0x5c7406[_0x81d180(0x2ef)]),'left':_0xfa8d9e,'right':_0x5c7406,'height':_0x5c7406[_0x81d180(0x572)]+0x1};}this[_0x81d180(0x4c6)][_0x81d180(0x69a)](_0x5c7406),await this[_0x81d180(0x936)]();}[_0x3eb455(0x93a)](_0x4ea815,_0xd28840){const _0x5669d6=_0x3eb455;if(!_0x2c9fd4[_0x5669d6(0x676)](_0x51c80b[_0x5669d6(0x77e)]))return;this[_0x5669d6(0x86c)]&&clearTimeout(this[_0x5669d6(0x86c)]);const _0x59d647=Date['now']();this[_0x5669d6(0x86c)]=setTimeout(()=>_0x2c9fd4[_0x5669d6(0x2f3)](_0x51c80b[_0x5669d6(0x77e)],_0x5669d6(0x2ed),this[_0x5669d6(0x8a0)],'nodes',this[_0x5669d6(0x609)](),_0x5669d6(0x8dc),_0xd28840,_0x5669d6(0x42b),_0x59d647-_0x4ea815),0x7d0);}[_0x3eb455(0x6e5)](){const _0x5169bd=_0x3eb455;this[_0x5169bd(0x513)]&&clearTimeout(this[_0x5169bd(0x513)]),this[_0x5169bd(0x513)]=setTimeout(async()=>{const _0x36fee7=_0x5169bd;try{const _0x1cfb46=this['readyPromises'];if(this['readyPromises']=[],await Promise['all'](_0x1cfb46),this[_0x36fee7(0x5cd)]-=_0x1cfb46['length'],this[_0x36fee7(0x2b2)][_0x36fee7(0x3ed)]>0x0||this[_0x36fee7(0x5cd)]>0x0)return this[_0x36fee7(0x6e5)]();this[_0x36fee7(0x7bf)]&&(this[_0x36fee7(0x7bf)](),this[_0x36fee7(0x7bf)]=null),this[_0x36fee7(0x7a7)]=Promise[_0x36fee7(0x679)](),this[_0x36fee7(0x562)]=!0x1;}catch(_0x435d30){console['error'](_0x36fee7(0x2b6),_0x435d30);}},0xa);}}const _0x5e1a93=[_0x3eb455(0x32c),_0x3eb455(0x97a),_0x3eb455(0x7dc),'Subscription',_0x3eb455(0x92a),_0x3eb455(0x656),_0x3eb455(0x8bf)],_0x4ac4f0=[[_0x3eb455(0x678),_0x3eb455(0x26c),_0x3eb455(0x9e6),_0x3eb455(0x70f),'NeedRestart',_0x3eb455(0xa50),'Disconnect','Stats',_0x3eb455(0xabc)],[_0x3eb455(0x475),_0x3eb455(0x470),_0x3eb455(0x500),'NodeLeave'],[_0x3eb455(0x8b5),'CloseJobDispatcher','CloseJobWorker','CloseExternalStorageConnection',_0x3eb455(0x72e),'CloseMediaStream',_0x3eb455(0x8d8),_0x3eb455(0x715),_0x3eb455(0xaa6),_0x3eb455(0x4b8),_0x3eb455(0x5ae),_0x3eb455(0x87f),_0x3eb455(0x642),_0x3eb455(0x34e),_0x3eb455(0x5bc),_0x3eb455(0x767),_0x3eb455(0x35e),_0x3eb455(0x1ef),_0x3eb455(0x3cb),'KeyValueDatabaseSyncRequired',_0x3eb455(0x8b7),'ObjectStoreStats','PubSubTopicStats',_0x3eb455(0x73c),'RemoteMediaStreamTrackFail','SubscribeMediaStream',_0x3eb455(0x841),_0x3eb455(0x3d3),'UpdateMediaStream',_0x3eb455(0x3c0)],[_0x3eb455(0x449),_0x3eb455(0x74c),_0x3eb455(0x540),_0x3eb455(0x785),_0x3eb455(0x584),_0x3eb455(0x2e7)],[_0x3eb455(0xa56),_0x3eb455(0x213)],[_0x3eb455(0x865)],[_0x3eb455(0x8bf),_0x3eb455(0x407)]];function _0x185aae(_0x2866ed){const _0x5a5305=_0x3eb455;return{..._0x2866ed,'systemMessageType':_0x5e1a93[_0x2866ed[_0x5a5305(0x4e7)]],'systemContentMessageType':_0x4ac4f0[_0x2866ed['messageType']][_0x2866ed[_0x5a5305(0x211)]['type']]};}const _0x3ac29f={'hour':_0x3eb455(0x759),'minute':_0x3eb455(0x759),'second':_0x3eb455(0x759)};function _0xceb15f(_0x51c3f5,_0x18470f){const _0x483b9f=_0x3eb455,_0x301333=(function(){const _0x119081=a0_0x12d8,_0x419583=new Date(),_0xf3ba38=_0x419583['getMilliseconds'](),_0x366446=_0x419583[_0x119081(0x647)]('en-US',_0x3ac29f)[_0x119081(0x363)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x366446+'.'+(_0xf3ba38>0x64?''+_0xf3ba38:_0xf3ba38>0xa?'0'+_0xf3ba38:'00'+_0xf3ba38);}()),{sourceId:_0x511c71,destinationIds:_0x1d7cac,systemMessageType:_0x41dd2c,systemContentMessageType:_0x58af4d}=_0x185aae(_0x51c3f5);return _0x301333+'\x20-\x20'+_0x18470f+_0x483b9f(0x3f2)+(_0x511c71===_0x18470f?_0x483b9f(0xa4c)+_0x41dd2c+_0x483b9f(0x5ec)+(_0x1d7cac?''+_0x1d7cac:_0x483b9f(0x4aa)):_0x51c3f5['sourceId']===_0x36c1f1?_0x483b9f(0x96d)+_0x41dd2c+'\x27':(_0x1d7cac?'':_0x483b9f(0x55d))+_0x483b9f(0x21a)+_0x41dd2c+'\x27\x20from\x20'+_0x511c71)+_0x483b9f(0xaaf)+_0x58af4d+_0x483b9f(0x230);}function _0x430982(_0x219bb7,_0x101ffc){const _0x8fe5f2=_0x3eb455;if(!_0x2c9fd4['isChannelEnabled'](_0x219bb7))return;if(_0x507edf[_0x8fe5f2(0x7f6)])return;if(_0x8fe5f2(0x917)==typeof process)return;const _0x241993=process['memoryUsage']();console['log'](_0x8fe5f2(0xa0c)+_0x101ffc+':');for(const _0x1c7530 in _0x241993)console[_0x8fe5f2(0x2f3)]('\x20\x20'+_0x1c7530+':\x20'+(_0x241993[_0x1c7530]/0x400/0x400)[_0x8fe5f2(0x326)](0x2)+_0x8fe5f2(0x6ae));}function _0x34982b(_0x4c79fe,_0x1b70d1){const _0x21819f=_0x3eb455;if(!_0x2c9fd4[_0x21819f(0x676)](_0x1b70d1))return _0x2c9fd4[_0x21819f(0xaa7)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x1b70d1),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x575c04,_0x44b027)=>_0x44b027}};let _0x1f11d4=0x0;return{'timingLogger':((()=>{const _0x5a3740=_0x21819f;let _0x20d513=Date[_0x5a3740(0xa6a)]();return{'start':()=>{_0x20d513=Date['now']();},'now':()=>Date[_0x5a3740(0xa6a)](),'logWaitTime':_0x5af105=>{_0x1f11d4+=Date['now']()-_0x20d513,_0x2c9fd4['log'](_0x1b70d1,_0x5af105,_0x1f11d4+'ms',_0x4c79fe);}};})()),'logger':{'log':(_0xca2286,_0x5cc9fb=()=>{})=>{const _0x1639bb=_0x21819f,_0x4d79ee=_0x5cc9fb();_0x4d79ee?_0x2c9fd4['log'](_0x1b70d1,_0xca2286,_0x4d79ee,_0x4c79fe):_0x2c9fd4[_0x1639bb(0x2f3)](_0x1b70d1,_0xca2286,_0x4c79fe);},'performCalculation':(_0x30d104,_0x56950d)=>_0x30d104()}};}function _0x5f2f79(_0x552925){const _0x533e5=_0x3eb455;return _0x533e5(0x917)==typeof Buffer?0x0:Buffer[_0x533e5(0x9dc)](JSON[_0x533e5(0x845)](_0x552925),_0x533e5(0x41f));}function _0x2a23ba(_0x435a8a){const _0x4f571b=_0x3eb455;if(0x0===_0x435a8a)return'0\x20B';const _0x3df89b=Math[_0x4f571b(0x504)](Math[_0x4f571b(0x2f3)](_0x435a8a)/Math[_0x4f571b(0x2f3)](0x400));return parseFloat((_0x435a8a/Math[_0x4f571b(0x1cf)](0x400,_0x3df89b))[_0x4f571b(0x326)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x3df89b];}class _0x2c7acd extends _0x2f8302{['localNode'];[_0x3eb455(0x9ac)];[_0x3eb455(0x2df)];['isNodeReady'];['db'];[_0x3eb455(0xadf)];[_0x3eb455(0x3b0)]=new Map();[_0x3eb455(0x91a)];['transactionTable'];[_0x3eb455(0x541)];[_0x3eb455(0x878)];['syncResolve'];[_0x3eb455(0x276)]=[];['timeoutCallback']=()=>{};[_0x3eb455(0x814)];[_0x3eb455(0x7ec)]=_0x2f8e97();[_0x3eb455(0x473)];[_0x3eb455(0x6ba)]=[];[_0x3eb455(0xa53)];['debounceStats'];[_0x3eb455(0x704)]=0x0;[_0x3eb455(0x608)]=0x0;[_0x3eb455(0x850)]=!0x1;[_0x3eb455(0x2ea)]=new _0x753c04();[_0x3eb455(0xa5d)]=new Map();[_0x3eb455(0xa34)]=[];[_0x3eb455(0x70a)];[_0x3eb455(0x9b9)]=[];[_0x3eb455(0x364)];constructor(_0x31430d,_0xe37f94,_0x3c22d5,_0x18bdd1,_0x145915,_0x3d5abb,_0x14d414){const _0x26b604=_0x3eb455;if('string'!=typeof _0xe37f94)throw new _0x5669b1(_0x3ed137[_0x26b604(0x328)],_0x26b604(0x9a6));if(super(_0x31430d,_0xe37f94),this['localNode']=_0x31430d,this[_0x26b604(0x9ac)]=_0x3c22d5,this['vendorId']=_0x18bdd1,this[_0x26b604(0x420)]=_0x14d414,this[_0x26b604(0xadf)]=_0x26b604(0x6cd)+this[_0x26b604(0x2df)]+'ccc'+this['clusterId']+_0x26b604(0x6cd)+this['label'],this[_0x26b604(0x91a)]=_0x2f8e97(),this['loggingCycle']=function(_0x2d6bc6,_0x242caf){const _0x54375b=_0x26b604;if(!_0x2c9fd4[_0x54375b(0x676)](_0x242caf))return _0x2c9fd4['debug'](_0x54375b(0x266)+_0x242caf),{..._0x34982b(_0x2d6bc6,_0x242caf),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x54375b(0x42c),'dataReceived':'0\x20B'})};const {timingLogger:_0x3062a2,logger:_0x90e5ee}=_0x34982b(_0x2d6bc6,_0x242caf);let _0x3b3e26=0x0,_0x15c7ea=0x0;return{'timingLogger':_0x3062a2,'logger':_0x90e5ee,'logDataSent':(_0x5522c5,_0x336e25=!0x1)=>{const _0x5df8d4=_0x54375b,_0xf1b83e=_0x5f2f79(_0x5522c5);return _0x336e25&&_0x2c9fd4[_0x5df8d4(0x2f3)](_0x242caf,_0x5df8d4(0x51a),_0x2d6bc6,_0xf1b83e),_0x3b3e26+=_0xf1b83e,_0xf1b83e;},'logDataReceived':(_0x2891c3,_0x171db9=!0x1)=>{const _0x1242dc=_0x54375b,_0x2be4ff=_0x5f2f79(_0x2891c3);return _0x171db9&&_0x2c9fd4[_0x1242dc(0x2f3)](_0x242caf,_0x1242dc(0x2a8),_0x2d6bc6,_0x2be4ff),_0x15c7ea+=_0x2be4ff,_0x2be4ff;},'getDataLogged':()=>({'dataSent':_0x2a23ba(_0x3b3e26),'dataReceived':_0x2a23ba(_0x15c7ea)})};}(this[_0x26b604(0x78e)],_0x51c80b[_0x26b604(0x77e)]),this[_0x26b604(0x878)]=new Promise(_0x5c0962=>{const _0x2164d7=_0x26b604;this[_0x2164d7(0x5d5)]=_0x5c0962;}),_0x145915 instanceof _0x26e848)this[_0x26b604(0xa53)]=_0x145915[_0x26b604(0x3f8)]();else{const [_0x3343b3,_0x39239a]=_0x26e848[_0x26b604(0x6f3)](_0x145915);if(!_0x3343b3)throw new _0x5669b1(_0x3ed137['KeyValueDatabaseInvalidLayout'],_0x26b604(0x4e5)+_0x39239a);this['layout']=structuredClone(_0x145915);}this[_0x26b604(0x921)](this['layout']),this['db']=new _0x3d5abb(this[_0x26b604(0xadf)],this['layout']),this[_0x26b604(0x6f8)]();}async[_0x3eb455(0x233)](_0x197e27,_0x3c40cb){const _0x239591=_0x3eb455;if(_0x2c9fd4[_0x239591(0x2f3)](_0x51c80b[_0x239591(0x77e)],_0x239591(0x8f9),this[_0x239591(0x78e)]),!this[_0x239591(0xa0a)])throw new _0x157cd9(_0x157cd9[_0x239591(0x6cc)][_0x239591(0x829)]);if(await this['isSync'],await this['isNodeReady'](_0x197e27),await this[_0x239591(0x2ea)]['getRoot']()===_0x3c40cb){const _0x10d766={'sourceId':this[_0x239591(0x45e)][_0x239591(0x777)](),'destinationIds':[_0x197e27],'propagate':!0x0,'messageType':_0x3ef5e5['Content'],'content':{'type':_0x2862db[_0x239591(0x5bc)],'label':this[_0x239591(0x78e)],'mmrRoot':_0x3c40cb}};return this[_0x239591(0x364)][_0x239591(0x2f1)](_0x10d766),void this[_0x239591(0x73b)]['publish'](_0x10d766);}const _0x1976f3=this[_0x239591(0x2ea)][_0x239591(0x31b)](),_0x8f9706={'sourceId':this['localNode'][_0x239591(0x777)](),'destinationIds':[_0x197e27],'propagate':!0x0,'messageType':_0x3ef5e5[_0x239591(0x7dc)],'content':{'type':_0x2862db[_0x239591(0x34e)],'label':this[_0x239591(0x78e)],'peaks':_0x1976f3}};this[_0x239591(0x364)]['logDataSent'](_0x8f9706),this[_0x239591(0x73b)][_0x239591(0x5bf)](_0x8f9706);}async[_0x3eb455(0x347)](_0x28a651,_0x2f871e){const _0x4099bb=_0x3eb455,_0x4fa2b0=await this[_0x4099bb(0x2ea)]['getRoot'](),_0x267b5e=_0x4fa2b0===_0x2f871e;if(_0x2c9fd4[_0x4099bb(0x2f3)](_0x51c80b['KeyValueDatabase'],_0x4099bb(0x697)+_0x28a651+_0x4099bb(0x596)+_0x267b5e,this[_0x4099bb(0x78e)]),_0x267b5e)return this[_0x4099bb(0x48c)](),void this[_0x4099bb(0x72a)]();_0x2c9fd4[_0x4099bb(0x2f3)](_0x51c80b['KeyValueDatabase'],_0x4099bb(0x37f),_0x4fa2b0,_0x2f871e),_0x2c9fd4[_0x4099bb(0x772)](_0x4099bb(0x37f),{'nodeId':this[_0x4099bb(0x45e)][_0x4099bb(0x777)](),'nodeType':this[_0x4099bb(0x45e)][_0x4099bb(0x6d8)],'remoteId':_0x28a651,'data':{'localMMRRoot':_0x4fa2b0,'remoteMMRRoot':_0x2f871e}});const _0x1e3011={'sourceId':this['localNode'][_0x4099bb(0x777)](),'messageType':_0x3ef5e5[_0x4099bb(0x7dc)],'propagate':!0x0,'content':{'type':_0x2862db['KeyValueDatabaseSyncRequired'],'label':this[_0x4099bb(0x78e)],'mmrRoot':_0x4fa2b0}};this[_0x4099bb(0x73b)]['publish'](_0x1e3011);}async[_0x3eb455(0x414)](_0x5bbfe5,_0x376e4b){const _0x3a3ba=_0x3eb455;if(_0x2c9fd4[_0x3a3ba(0x2f3)](_0x51c80b[_0x3a3ba(0x77e)],_0x3a3ba(0xaa2),_0x5bbfe5,_0x3a3ba(0x78e),this[_0x3a3ba(0x78e)],'peaks',_0x376e4b),this['contentRequestSent'])return;this[_0x3a3ba(0x850)]=!0x0,this[_0x3a3ba(0x48c)]();const {differingPeaks:_0x416348,peaksMissingInLocal:_0x467a0b,peaksMissingInRemote:_0x10b43a}=this[_0x3a3ba(0x2ea)][_0x3a3ba(0x84b)](_0x376e4b);_0x2c9fd4[_0x3a3ba(0x2f3)](_0x51c80b[_0x3a3ba(0x77e)],'processContentAvailable\x20-\x20Peak\x20comparison:',{'differingPeaks':_0x416348,'peaksMissingInLocal':_0x467a0b,'peaksMissingInRemote':_0x10b43a});const _0x3f14e8={'sourceId':this[_0x3a3ba(0x45e)][_0x3a3ba(0x777)](),'destinationIds':[_0x5bbfe5],'propagate':!0x0,'messageType':_0x3ef5e5[_0x3a3ba(0x7dc)],'content':{'type':_0x2862db[_0x3a3ba(0x767)],'label':this[_0x3a3ba(0x78e)],'peakHeights':_0x467a0b[_0x3a3ba(0x257)](_0x1ce4b9=>_0x1ce4b9[_0x3a3ba(0x572)])[_0x3a3ba(0xa21)](_0x416348[_0x3a3ba(0x257)](_0x16940d=>_0x16940d[_0x3a3ba(0x572)]))}};if(this[_0x3a3ba(0x73b)][_0x3a3ba(0x5bf)](_0x3f14e8),_0x416348[_0x3a3ba(0x3ed)]>0x0||_0x10b43a[_0x3a3ba(0x3ed)]>0x0){const _0x4583a1=_0x10b43a['map'](_0x4af87e=>_0x4af87e[_0x3a3ba(0x572)])[_0x3a3ba(0xa21)](_0x416348[_0x3a3ba(0x257)](_0x438cc9=>_0x438cc9[_0x3a3ba(0x572)]));await this[_0x3a3ba(0x5e9)](_0x5bbfe5,_0x4583a1,!0x0);}}async[_0x3eb455(0x5e9)](_0x5295a9,_0x3439f3,_0x5a6b15=!0x1){const _0x2c371c=_0x3eb455;_0x2c9fd4['log'](_0x51c80b[_0x2c371c(0x77e)],_0x2c371c(0x5c9),this['label']);const _0x5cffdf=_0x3439f3[_0x2c371c(0x257)](_0x42e80=>this[_0x2c371c(0x2ea)][_0x2c371c(0x1c8)](_0x42e80))[_0x2c371c(0x638)](Boolean);if(!_0x5cffdf[_0x2c371c(0x3ed)]||_0x3439f3['length']!==_0x5cffdf[_0x2c371c(0x3ed)])throw new _0x157cd9(_0x157cd9[_0x2c371c(0x6cc)][_0x2c371c(0x5af)],{'message':_0x2c371c(0x281),'peakHeights':_0x3439f3,'peaks':_0x5cffdf[_0x2c371c(0x257)](_0x42878d=>_0x42878d[_0x2c371c(0x572)]),'nodeId':_0x5295a9});const _0xa9aa5=[];for(const _0x22fc59 of _0x5cffdf)this['collectTransactionsFromNode'](_0x22fc59,_0xa9aa5);const _0x5193ea=_0x5a6b15?void 0x0:[_0x5295a9],_0x496b3e={'sourceId':this[_0x2c371c(0x45e)]['getId'](),'destinationIds':_0x5193ea,'messageType':_0x3ef5e5['Content'],'propagate':!0x0,'content':{'type':_0x2862db[_0x2c371c(0x1ef)],'label':this[_0x2c371c(0x78e)],'transactions':_0xa9aa5}};this[_0x2c371c(0x364)][_0x2c371c(0x2f1)](_0x496b3e),this['systemTopic'][_0x2c371c(0x5bf)](_0x496b3e);}async[_0x3eb455(0x1d5)](_0x49eab6,_0x160a8b){const _0x49c6fb=_0x3eb455;_0x2c9fd4[_0x49c6fb(0x2f3)](_0x51c80b[_0x49c6fb(0x77e)],_0x49c6fb(0xa7a)+_0x160a8b[_0x49c6fb(0x3ed)]+_0x49c6fb(0x73d)+_0x49eab6+'\x20-\x20'+this['label']);for(const _0x489b53 of _0x160a8b){const _0xda611d=await this[_0x49c6fb(0xa0a)][_0x49c6fb(0x1d7)](_0x489b53['id']);if(!(_0xda611d&&this[_0x49c6fb(0x788)](_0xda611d,_0x489b53)>=0x0)){if(_0x489b53[_0x49c6fb(0x6f7)]===_0x10da1c[_0x49c6fb(0x4c8)]){const [_0x3f8286,_0x3d5d38]=_0x489b53['id'][_0x49c6fb(0x979)]('::'),_0x49a6b5=this['getTable'](_0x3f8286);await _0x49a6b5[_0x49c6fb(0xaa3)](_0x3d5d38);}else this[_0x49c6fb(0x276)]['push'](_0x489b53['id']);}}if(_0x2c9fd4['log'](_0x51c80b[_0x49c6fb(0x77e)],_0x49c6fb(0x59a)+this[_0x49c6fb(0x276)][_0x49c6fb(0x3ed)]+'\x20new\x20transactions',this['label']),this[_0x49c6fb(0x276)][_0x49c6fb(0x3ed)]>0x0){const _0x9e72dd={'sourceId':this['localNode'][_0x49c6fb(0x777)](),'destinationIds':[_0x49eab6],'messageType':_0x3ef5e5[_0x49c6fb(0x7dc)],'propagate':!0x0,'content':{'type':_0x2862db[_0x49c6fb(0x35e)],'label':this[_0x49c6fb(0x78e)],'transactionIds':this[_0x49c6fb(0x276)]}};this[_0x49c6fb(0x364)][_0x49c6fb(0x2f1)](_0x9e72dd),this['systemTopic']['publish'](_0x9e72dd);}}[_0x3eb455(0x594)](){const _0x3e90cd=_0x3eb455;this[_0x3e90cd(0x6f8)]();}['getContentType'](){const _0x373c6c=_0x3eb455;return _0x4d2150[_0x373c6c(0x9a5)][_0x373c6c(0x77e)];}[_0x3eb455(0x51b)](){const _0x4048b1=_0x3eb455;this['db'][_0x4048b1(0x579)](),this['tableUnsubscriber']?.(),clearTimeout(this[_0x4048b1(0x6da)]),delete this['debounceStats'],super[_0x4048b1(0x51b)]();}[_0x3eb455(0x579)](){const _0x2603c2=_0x3eb455;this[_0x2603c2(0x48c)](),this[_0x2603c2(0x73b)][_0x2603c2(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x2603c2(0x7dc)],'content':{'type':_0x2862db[_0x2603c2(0x72e)],'label':this['label']}});}[_0x3eb455(0x900)](_0x2866d5){const _0x45689b=_0x3eb455,_0x3fa367=this[_0x45689b(0x3b0)][_0x45689b(0x1d7)](_0x2866d5);if(_0x3fa367)return _0x3fa367;try{if(!this['db'][_0x45689b(0x6d4)](_0x2866d5))throw new _0x5669b1(_0x3ed137['KeyValueDatabaseTableNotFound'],_0x45689b(0x92e));const _0x327e19=new _0xb76772(this['db'][_0x45689b(0x1e9)](_0x2866d5),_0x2866d5,this[_0x45689b(0x91a)]);return this[_0x45689b(0x3b0)][_0x45689b(0x90d)](_0x2866d5,_0x327e19),{'get':_0x327e19['get'][_0x45689b(0x64d)](_0x327e19),'set':_0x327e19[_0x45689b(0x90d)][_0x45689b(0x64d)](_0x327e19),'add':_0x327e19['add'][_0x45689b(0x64d)](_0x327e19),'delete':_0x327e19[_0x45689b(0xaa3)]['bind'](_0x327e19),'clear':_0x327e19[_0x45689b(0xa0e)][_0x45689b(0x64d)](_0x327e19),'list':_0x327e19[_0x45689b(0xa65)]['bind'](_0x327e19),'count':_0x327e19[_0x45689b(0x993)]['bind'](_0x327e19),'subscribe':_0x327e19['subscribe'][_0x45689b(0x64d)](_0x327e19),'unsubscribe':_0x327e19[_0x45689b(0x421)][_0x45689b(0x64d)](_0x327e19)};}catch(_0x127b3b){if(_0x127b3b instanceof _0x5669b1)throw _0x127b3b;throw new _0x5669b1(_0x3ed137['KeyValueDatabaseNotOpen'],'Database\x20not\x20open');}}[_0x3eb455(0x79f)](_0x33e8bb){const _0x475eb6=_0x3eb455;this['listenerUnsubscriber']=this[_0x475eb6(0x7ec)][_0x475eb6(0x79f)](_0x33e8bb),this[_0x475eb6(0x74d)](this[_0x475eb6(0x878)])['then'](_0x1b3181=>{const _0x7473ea=_0x475eb6;_0x1b3181&&this[_0x7473ea(0x7ec)][_0x7473ea(0x5bf)]({'event':_0x4d2150[_0x7473ea(0x50c)][_0x7473ea(0x1f0)]});});}[_0x3eb455(0x421)](){const _0x524393=_0x3eb455;this['listenerUnsubscriber']?.(),this[_0x524393(0x473)]=void 0x0;}async['open'](){const _0x2ba767=_0x3eb455;_0x430982(_0x51c80b[_0x2ba767(0x77e)],_0x2ba767(0x203));const _0x4160bf=[_0x3c85ab,_0x121de6],_0x2a3517=[];try{await this['db'][_0x2ba767(0x8db)]();const _0x55d888=this['db'][_0x2ba767(0x1e9)](_0x121de6),_0x13ea20=await _0x55d888[_0x2ba767(0xa65)](),{id:_0x1241c5,layout:_0x2ea1df}=_0x13ea20[0x0]??{};if(_0x2ea1df){for(const _0x2e7387 in _0x2ea1df)_0x4160bf[_0x2ba767(0x721)](_0x2e7387)||this['db'][_0x2ba767(0x6d4)](_0x2e7387)||_0x2a3517[_0x2ba767(0x69a)](_0x2e7387);await _0x55d888[_0x2ba767(0x90d)](_0x1241c5,{'layout':this['layout']});}else await _0x55d888[_0x2ba767(0x520)]({'layout':this[_0x2ba767(0xa53)]});}catch(_0x387600){throw new _0x5669b1(_0x3ed137['KeyValueDatabaseNotOpen'],_0x387600['message']||_0x2ba767(0x569));}this[_0x2ba767(0x6c1)](),await this[_0x2ba767(0x5e3)](),this['setOnMessageHandler'](),this[_0x2ba767(0x3a9)](),_0x2a3517[_0x2ba767(0x9d2)](_0x4127db=>this[_0x2ba767(0x629)](_0x4127db));}async[_0x3eb455(0x3b7)](_0x1328cc,_0x43fa73=()=>{},_0x21ad9d=!0x1){const _0x1ef6ee=_0x3eb455;if(!_0x1328cc)return setTimeout(()=>{const _0x2b4a07=a0_0x12d8;this[_0x2b4a07(0x48c)](),this['publishSyncCompleted']();},0x0),!0x0;if(this[_0x1ef6ee(0x850)]=!0x1,this['timeoutCallback']=_0x43fa73,this[_0x1ef6ee(0x814)]=setTimeout(_0x43fa73,0x7d0),!this[_0x1ef6ee(0x73b)])throw new _0x157cd9(_0x157cd9[_0x1ef6ee(0x6cc)][_0x1ef6ee(0x1c5)]);const _0x4b6a65=await this[_0x1ef6ee(0x2ea)]['getRoot'](),_0x7f1c90={'sourceId':this[_0x1ef6ee(0x45e)]['getId'](),'messageType':_0x3ef5e5['Content'],'propagate':_0x21ad9d,'content':{'type':_0x2862db[_0x1ef6ee(0x9ce)],'label':this[_0x1ef6ee(0x78e)],'mmrRoot':_0x4b6a65}};return this[_0x1ef6ee(0x364)][_0x1ef6ee(0x2f1)](_0x7f1c90),this[_0x1ef6ee(0x73b)][_0x1ef6ee(0x5bf)](_0x7f1c90),this[_0x1ef6ee(0x878)];}async[_0x3eb455(0x6d2)](_0x5cb21d,_0x22d167){const _0x2f6cbf=_0x3eb455;if(_0x2c9fd4[_0x2f6cbf(0x2f3)](_0x51c80b[_0x2f6cbf(0x77e)],_0x2f6cbf(0xa1e)+_0x22d167['length'],this[_0x2f6cbf(0x78e)]),!this[_0x2f6cbf(0xa0a)])throw new _0x157cd9(_0x157cd9[_0x2f6cbf(0x6cc)][_0x2f6cbf(0x829)]);for(const _0x1c450a of _0x22d167){const _0x285ab6=await this['transactionTable']['get'](_0x1c450a);if(!_0x285ab6)continue;const [_0x18bfbd,_0x20159f]=_0x1c450a[_0x2f6cbf(0x979)]('::'),_0x1995fd=this['getTable'](_0x18bfbd),_0x2c4556=await _0x1995fd['get'](_0x20159f);_0x2c4556?(_0x285ab6[_0x2f6cbf(0x625)]=_0x2c4556,this[_0x2f6cbf(0x307)](_0x285ab6,[_0x5cb21d])):_0x2c9fd4['warning']('sendTransactionsValue\x20-\x20value\x20not\x20found',{'nodeId':this['localNode'][_0x2f6cbf(0x777)](),'nodeType':this['localNode'][_0x2f6cbf(0x6d8)],'remoteId':_0x5cb21d,'data':{'tableKeys':Object[_0x2f6cbf(0x9c6)](this['tables']),'transactionId':_0x1c450a,'transactions':this['transactionsToSync'],'tableName':_0x18bfbd,'key':_0x20159f}});}}async[_0x3eb455(0x654)](_0x1ab42a){const _0x2c868e=_0x3eb455;if(!this[_0x2c868e(0xa0a)])throw new _0x157cd9(_0x157cd9[_0x2c868e(0x6cc)][_0x2c868e(0x829)]);const _0x4e046b=await this[_0x2c868e(0x2ea)][_0x2c868e(0xab9)](_0x1ab42a),_0x54c486=this[_0x2c868e(0xa5d)][_0x2c868e(0x1d7)](_0x4e046b);if(_0x54c486&&this[_0x2c868e(0x788)](_0x1ab42a,_0x54c486)<=0x0)return void _0x2c9fd4[_0x2c868e(0x2f3)](_0x51c80b[_0x2c868e(0x77e)],'writeTransaction\x20-\x20transaction\x20already\x20exists',_0x1ab42a);const _0x4c3538={..._0x1ab42a};return delete _0x4c3538[_0x2c868e(0x625)],this['debounceRebuildMMRWithTransaction'](_0x4c3538),await this[_0x2c868e(0xa0a)]['set'](_0x1ab42a['id'],_0x4c3538),_0x1ab42a;}[_0x3eb455(0x788)](_0x593485,_0x43a31b){const _0x1f0d88=_0x3eb455;return _0x593485[_0x1f0d88(0x373)]!==_0x43a31b[_0x1f0d88(0x373)]?_0x593485['timestamp']-_0x43a31b[_0x1f0d88(0x373)]:_0x593485[_0x1f0d88(0x618)]-_0x43a31b[_0x1f0d88(0x618)];}async[_0x3eb455(0x7d6)](_0x43f509){const _0x5db831=_0x3eb455;if(!this[_0x5db831(0xa0a)])throw new _0x157cd9(_0x157cd9['codes'][_0x5db831(0x829)]);const _0x1c8a29=_0x43f509[_0x5db831(0x269)]+'::'+_0x43f509[_0x5db831(0x646)],_0x3d9c01=await _0x418361['getEstimatedTimestamp'](),_0x23d9b={'id':_0x1c8a29,'priority':Math[_0x5db831(0x46a)](),'timestamp':_0x3d9c01,'action':_0x43f509['action']};if(await this[_0x5db831(0x654)](_0x23d9b))return _0x23d9b;}async[_0x3eb455(0x629)](_0x1a4ac4){const _0x219b26=_0x3eb455;if(!this[_0x219b26(0xa0a)])throw new _0x157cd9(_0x157cd9[_0x219b26(0x6cc)][_0x219b26(0x829)]);const _0x48e83f=_0x5cd836[_0x219b26(0x974)]('id')[_0x219b26(0x207)]('between',[_0x1a4ac4+'::',_0x1a4ac4+_0x219b26(0x8de)]),_0x495337=await this[_0x219b26(0xa0a)][_0x219b26(0xa65)](_0x48e83f[_0x219b26(0x9ec)]());for(const _0x343a3d of _0x495337)await this[_0x219b26(0xa0a)][_0x219b26(0xaa3)](_0x343a3d['id']);}['setOnMessageHandler'](){const _0xaa198=_0x3eb455;this[_0xaa198(0xa3d)](async(_0x2ebb67,_0x1b0f95)=>{const _0x577161=_0xaa198;if(_0x1b0f95 instanceof File)return;if(this[_0x577161(0x364)][_0x577161(0xa9f)](_0x1b0f95),!await this[_0x577161(0x654)](_0x1b0f95))return void this['checkSyncComplete'](_0x2ebb67,_0x1b0f95);if(!_0x1b0f95[_0x577161(0x625)])throw new _0x157cd9(_0x157cd9[_0x577161(0x6cc)][_0x577161(0x7a8)]);const [_0x2972bb,_0x204205]=_0x1b0f95['id'][_0x577161(0x979)]('::'),_0x399077=this[_0x577161(0x900)](_0x2972bb);if(!_0x399077)throw new _0x157cd9(_0x157cd9[_0x577161(0x6cc)][_0x577161(0x5ab)],{'table':_0x399077});let _0x4c3617=0x0;switch(_0x1b0f95[_0x577161(0x6f7)]){case _0x10da1c['Add']:case _0x10da1c[_0x577161(0xa33)]:{const _0x45c5bf=_0x399077[_0x577161(0x90d)](_0x204205,_0x1b0f95[_0x577161(0x625)],!0x1);_0x4c3617=JSON[_0x577161(0x845)](_0x1b0f95[_0x577161(0x625)])[_0x577161(0x3ed)],this[_0x577161(0x276)][_0x577161(0x721)](_0x1b0f95['id'])&&this[_0x577161(0x6ba)][_0x577161(0x69a)](_0x45c5bf);break;}case _0x10da1c[_0x577161(0x4c8)]:{const _0x39986f=_0x399077['delete'](_0x204205,!0x1);this['transactionsToSync'][_0x577161(0x721)](_0x1b0f95['id'])&&this['syncTransactionsWritten']['push'](_0x39986f);break;}}_0x2c9fd4[_0x577161(0x7f7)](_0x58ac15[_0x577161(0x77e)],{'type':_0x577161(0x3b7),'label':this[_0x577161(0x78e)],'nodeId':this[_0x577161(0x45e)][_0x577161(0x777)](),'nodeType':this[_0x577161(0x45e)]['type'],'clusterId':this[_0x577161(0x9ac)],'tableName':_0x2972bb,'key':_0x204205,'size':_0x4c3617}),this[_0x577161(0x2e5)](_0x2ebb67,_0x1b0f95);});}[_0x3eb455(0x3a9)](){const _0x14982c=_0x3eb455;this[_0x14982c(0x541)]=this[_0x14982c(0x91a)][_0x14982c(0x79f)](async _0x59f0de=>{const _0x553085=_0x14982c;let _0x458afa=0x0;switch(_0x59f0de[_0x553085(0x6f7)]){case _0x10da1c[_0x553085(0x3f3)]:case _0x10da1c[_0x553085(0xa33)]:case _0x10da1c[_0x553085(0x4c8)]:{const _0x4c6c72=await this[_0x553085(0x7d6)](_0x59f0de);if(!_0x4c6c72)return;_0x4c6c72['value']=_0x59f0de[_0x553085(0x625)],this[_0x553085(0x307)](_0x4c6c72),_0x458afa=JSON[_0x553085(0x845)](_0x59f0de[_0x553085(0x625)])[_0x553085(0x3ed)],this['writes']+=0x1;break;}case _0x8aab44[_0x553085(0xa43)]:case _0x8aab44['List']:case _0x8aab44[_0x553085(0xab2)]:this[_0x553085(0x608)]+=0x1;}_0x2c9fd4[_0x553085(0x7f7)](_0x58ac15['KeyValueDatabase'],{'type':_0x59f0de['action'],'label':this[_0x553085(0x78e)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x553085(0x45e)][_0x553085(0x6d8)],'clusterId':this[_0x553085(0x9ac)],'tableName':_0x59f0de[_0x553085(0x269)],'key':_0x59f0de[_0x553085(0x646)],'size':_0x458afa}),this[_0x553085(0x6f8)]();});}[_0x3eb455(0x6c1)](){const _0x46c10b=_0x3eb455;this['db']&&(this[_0x46c10b(0xa0a)]||(this[_0x46c10b(0xa0a)]=this['db'][_0x46c10b(0x1e9)](_0x3c85ab)));}[_0x3eb455(0x48c)](){const _0x55d1f3=_0x3eb455;this[_0x55d1f3(0x814)]&&(clearTimeout(this['syncTimeout']),delete this[_0x55d1f3(0x814)]);}async[_0x3eb455(0x72a)](){const _0x51ba4e=_0x3eb455;await this[_0x51ba4e(0x2ea)][_0x51ba4e(0x76b)],this[_0x51ba4e(0x2c4)](),this[_0x51ba4e(0x7ec)][_0x51ba4e(0x5bf)]({'event':_0x4d2150[_0x51ba4e(0x50c)][_0x51ba4e(0x1f0)]}),this['syncResolve']?.(!0x0),delete this[_0x51ba4e(0x5d5)],this[_0x51ba4e(0x6f8)](),_0x2c9fd4['log'](_0x51c80b[_0x51ba4e(0x77e)],'Sync\x20completed',this[_0x51ba4e(0x78e)]);}async['publishSyncCompletedAfterWrites'](_0x338c68){const _0x5877fb=_0x3eb455;await Promise['all'](this[_0x5877fb(0x6ba)]),_0x2c9fd4[_0x5877fb(0x2f3)](_0x51c80b[_0x5877fb(0x77e)],'publishSyncCompletedAfterWrites\x20-\x20'+this[_0x5877fb(0x6ba)][_0x5877fb(0x3ed)]+_0x5877fb(0x3ab)+_0x338c68+_0x5877fb(0x7bc),this['label']),await this[_0x5877fb(0x2ea)][_0x5877fb(0x76b)],await this[_0x5877fb(0x6fb)](_0x338c68),await this[_0x5877fb(0x72a)]();}[_0x3eb455(0x2e5)](_0x466b33,_0x1a4ea9){const _0xc3109=_0x3eb455;this[_0xc3109(0x276)]['includes'](_0x1a4ea9['id'])&&(this[_0xc3109(0x48c)](),this[_0xc3109(0x276)]=this['transactionsToSync'][_0xc3109(0x638)](_0x14b394=>_0x14b394!==_0x1a4ea9['id']),0x0!==this[_0xc3109(0x276)]['length']?this[_0xc3109(0x814)]=setTimeout(this['timeoutCallback'],0x7d0):this[_0xc3109(0x7de)](_0x466b33));}[_0x3eb455(0x6f8)](){const _0x2d8ebb=_0x3eb455;this['debounceStats']&&clearTimeout(this[_0x2d8ebb(0x6da)]),this['debounceStats']=setTimeout(async()=>{const _0x21aaa3=_0x2d8ebb;delete this['debounceStats'];let _0x3a8ac2=0x0;for(const _0x55c4aa of this[_0x21aaa3(0x3b0)][_0x21aaa3(0x565)]())_0x3a8ac2+=await _0x55c4aa[_0x21aaa3(0x21d)]();this['systemTopic'][_0x21aaa3(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x21aaa3(0x7dc)],'content':{'type':_0x2862db['KeyValueDatabaseStats'],'label':this[_0x21aaa3(0x78e)],'stats':{'timestamp':Date['now'](),'storage':_0x3a8ac2,'messagesSent':this[_0x21aaa3(0x9fe)],'messagesReceived':this[_0x21aaa3(0x41b)],'bytesSent':this[_0x21aaa3(0x811)],'bytesReceived':this['bytesReceived'],'writes':this[_0x21aaa3(0x704)],'reads':this[_0x21aaa3(0x608)],'prompts':0x0,'tokens':0x0}}}),_0x2c9fd4['logStorage'](_0x58ac15[_0x21aaa3(0x77e)],_0x21aaa3(0x6cd)+this[_0x21aaa3(0x9ac)]+_0x21aaa3(0x6cd)+this[_0x21aaa3(0x78e)],_0x3a8ac2);},_0x37461b);}[_0x3eb455(0x921)](_0x1dabf2){const _0x2d00b5=_0x3eb455;if(_0x1dabf2[_0x2d00b5(0x3b0)][_0x3c85ab])throw new _0x5669b1(_0x3ed137[_0x2d00b5(0x428)],_0x2d00b5(0x66d)+_0x3c85ab+_0x2d00b5(0x26b));if(_0x1dabf2[_0x2d00b5(0x3b0)][_0x121de6])throw new _0x5669b1(_0x3ed137['KeyValueDatabaseTableNameReserved'],_0x2d00b5(0x66d)+_0x121de6+_0x2d00b5(0x26b));_0x1dabf2[_0x2d00b5(0x3b0)][_0x3c85ab]={'indexes':[]},_0x1dabf2[_0x2d00b5(0x3b0)][_0x121de6]={'indexes':[]};}async[_0x3eb455(0x74d)](_0x31d299){const _0x538679=_0x3eb455;return Promise[_0x538679(0x5aa)]([_0x31d299,Promise[_0x538679(0x679)](_0x538679(0x65f))])[_0x538679(0x934)](_0x532b09=>_0x538679(0x65f)!==_0x532b09);}async[_0x3eb455(0x6fb)](_0x3a92ef){const _0x4ccc57=_0x3eb455;await this['processTransactionsToComputeMMR']();const _0x91a65=await this[_0x4ccc57(0x2ea)][_0x4ccc57(0x1ce)](),_0x2fdaa8={'sourceId':this[_0x4ccc57(0x45e)]['getId'](),'destinationIds':[_0x3a92ef],'propagate':!0x0,'messageType':_0x3ef5e5['Content'],'content':{'type':_0x2862db['KeyValueDatabaseContentSynchronized'],'label':this[_0x4ccc57(0x78e)],'mmrRoot':_0x91a65}};this[_0x4ccc57(0x73b)][_0x4ccc57(0x5bf)](_0x2fdaa8);}async[_0x3eb455(0x5e3)](){const _0x22a9b9=_0x3eb455;if(!this[_0x22a9b9(0xa0a)])throw new _0x157cd9(_0x157cd9[_0x22a9b9(0x6cc)][_0x22a9b9(0x829)]);this[_0x22a9b9(0xa34)]=await this[_0x22a9b9(0xa0a)][_0x22a9b9(0xa65)](),this['transactions'][_0x22a9b9(0x3d8)](this[_0x22a9b9(0x788)]),this[_0x22a9b9(0x2ea)]=new _0x753c04(),this['transactionHashMap']=new Map();for(const _0x313d5e of this['transactions'])this['appendTransactionAndUpdateHashMap'](_0x313d5e,this['transactions'][_0x22a9b9(0x3ed)]);this[_0x22a9b9(0x8dd)]();}async[_0x3eb455(0x3a6)](_0x133734,_0x1b4516){const _0x4dd98f=_0x3eb455,_0x3d3eb4={..._0x133734};delete _0x3d3eb4[_0x4dd98f(0x625)],await this[_0x4dd98f(0x2ea)][_0x4dd98f(0x5fe)](_0x3d3eb4,_0x1b4516);const _0x250dd4=await this[_0x4dd98f(0x2ea)][_0x4dd98f(0xab9)](_0x3d3eb4);this[_0x4dd98f(0xa5d)]['set'](_0x250dd4,_0x133734);}[_0x3eb455(0x961)](_0x5a25be){const _0x2a4d0a=_0x3eb455;return this[_0x2a4d0a(0xa5d)][_0x2a4d0a(0x1d7)](_0x5a25be);}[_0x3eb455(0xa5e)](_0x2d89c1,_0x37ab16){const _0x58544a=_0x3eb455;if(0x0!==_0x2d89c1[_0x58544a(0x572)])_0x2d89c1[_0x58544a(0x4dd)]&&this[_0x58544a(0xa5e)](_0x2d89c1[_0x58544a(0x4dd)],_0x37ab16),_0x2d89c1[_0x58544a(0x52f)]&&this[_0x58544a(0xa5e)](_0x2d89c1[_0x58544a(0x52f)],_0x37ab16);else{const _0x726ced=this['getTransactionByHash'](_0x2d89c1['hash']);_0x726ced&&_0x37ab16[_0x58544a(0x69a)](_0x726ced);}}async[_0x3eb455(0x72c)](){const _0x20a275=_0x3eb455;this['debounceRebuildMMR']&&(clearTimeout(this[_0x20a275(0x70a)]),delete this[_0x20a275(0x70a)],this[_0x20a275(0x9b9)][_0x20a275(0x3ed)]>0x0&&(this[_0x20a275(0xa34)][_0x20a275(0x69a)](...this['transactionsToAppend'][_0x20a275(0x3d8)](this[_0x20a275(0x788)])),this[_0x20a275(0x9b9)]=[]));const _0x5db030=this[_0x20a275(0x8ff)]();this[_0x20a275(0x2ea)]=new _0x753c04(),this[_0x20a275(0xa5d)]['clear'](),this['transactions'][_0x20a275(0x3d8)](this[_0x20a275(0x788)]);for(const _0x350019 of this[_0x20a275(0xa34)])this['appendTransactionAndUpdateHashMap'](_0x350019,this[_0x20a275(0xa34)][_0x20a275(0x3ed)]);await this[_0x20a275(0x2ea)][_0x20a275(0x76b)],this[_0x20a275(0x44d)](_0x5db030);}[_0x3eb455(0x8ff)](){const _0x2f2987=_0x3eb455;return this[_0x2f2987(0x364)]['logger']['performCalculation'](async()=>{const _0x145d94=_0x2f2987,_0x51798b=await this['mmr'][_0x145d94(0x1ce)]();return{'startTime':Date[_0x145d94(0xa6a)](),'initialRoot':_0x51798b};},Promise[_0x2f2987(0x679)]({'startTime':0x0,'initialRoot':''}));}async[_0x3eb455(0x44d)](_0x763ea6){const _0xd8f05b=_0x3eb455;try{const {startTime:_0x3ab19f,initialRoot:_0x34f202}=await _0x763ea6,_0x3cebff=await this['mmr']['getRoot'](),_0x14fc07=[_0xd8f05b(0x9a0)+(_0x34f202!==_0x3cebff),_0xd8f05b(0x655)+_0x34f202,_0xd8f05b(0x783)+_0x3cebff,_0xd8f05b(0x2be)+this[_0xd8f05b(0x2ea)]['getTotalNodes'](),'\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20'+(Date[_0xd8f05b(0xa6a)]()-_0x3ab19f)+_0xd8f05b(0x304)][_0xd8f05b(0x220)]('\x20');this[_0xd8f05b(0x364)][_0xd8f05b(0x1c6)]['log']('',()=>_0x14fc07);}catch(_0x45ee16){console['error'](_0xd8f05b(0x886),_0x45ee16);}}[_0x3eb455(0x670)](_0x5915c4){const _0x369f15=_0x3eb455;this[_0x369f15(0x9b9)][_0x369f15(0x69a)](_0x5915c4),this[_0x369f15(0x70a)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x369f15(0x70a)]),this[_0x369f15(0x70a)]=setTimeout(()=>{const _0x912b6a=_0x369f15;this[_0x912b6a(0x857)]();},0x3e8);}async[_0x3eb455(0x857)](){const _0x39d3f0=_0x3eb455;if(this[_0x39d3f0(0x70a)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x39d3f0(0x70a)]),0x0!==this[_0x39d3f0(0x9b9)][_0x39d3f0(0x3ed)]){if(0x0===this[_0x39d3f0(0xa34)][_0x39d3f0(0x3ed)])return this[_0x39d3f0(0xa34)]=this[_0x39d3f0(0x9b9)],this[_0x39d3f0(0x9b9)]=[],await this[_0x39d3f0(0x72c)]();if(this['transactionsToAppend'][_0x39d3f0(0x3d8)](this[_0x39d3f0(0x788)]),this['compareTransactions'](this['transactionsToAppend'][0x0],this['transactions'][this['transactions'][_0x39d3f0(0x3ed)]-0x1])>0x0){this[_0x39d3f0(0x364)][_0x39d3f0(0x1c6)][_0x39d3f0(0x2f3)](_0x39d3f0(0x8fb)+this[_0x39d3f0(0x9b9)][_0x39d3f0(0x3ed)]+_0x39d3f0(0x527)+this[_0x39d3f0(0xa34)][_0x39d3f0(0x3ed)]);for(const _0x39afae of this['transactionsToAppend'])this[_0x39d3f0(0xa34)][_0x39d3f0(0x69a)](_0x39afae),this['appendTransactionAndUpdateHashMap'](_0x39afae,this[_0x39d3f0(0x9b9)][_0x39d3f0(0x3ed)]);return this[_0x39d3f0(0x9b9)]=[],void this[_0x39d3f0(0x364)]['logger']['log'](_0x39d3f0(0x5d4),async()=>'New\x20MMR\x20Root:\x20'+await this[_0x39d3f0(0x2ea)]['getRoot']()+',\x20Total\x20Nodes:'+this[_0x39d3f0(0x2ea)][_0x39d3f0(0x609)]());}this[_0x39d3f0(0x364)][_0x39d3f0(0x1c6)]['log'](_0x39d3f0(0xacf)+this['transactionsToAppend'][_0x39d3f0(0x3ed)]+_0x39d3f0(0x527)+this['transactions'][_0x39d3f0(0x3ed)]),this['transactions'][_0x39d3f0(0x69a)](...this[_0x39d3f0(0x9b9)]),this[_0x39d3f0(0x9b9)]=[],this[_0x39d3f0(0x72c)]();}}async[_0x3eb455(0x2c4)](){const _0x291254=_0x3eb455;if(!_0x2c9fd4[_0x291254(0x676)](_0x51c80b['KeyValueDatabase']))return;await this[_0x291254(0x2ea)]['ready'];const {dataSent:_0x33d743,dataReceived:_0x5e7cb3}=this[_0x291254(0x364)][_0x291254(0x265)]();_0x2c9fd4['log'](_0x51c80b[_0x291254(0x77e)],_0x291254(0x94a),this[_0x291254(0x78e)],_0x291254(0x87c)+_0x33d743,_0x291254(0x942)+_0x5e7cb3,'\x0a\x20===\x20Current\x20MMR\x20Root',await this[_0x291254(0x2ea)][_0x291254(0x1ce)](),_0x291254(0x568),this['mmr'][_0x291254(0x609)]());}async['logInitialMMR'](){const _0x44dfe4=_0x3eb455;if(!_0x2c9fd4[_0x44dfe4(0x676)](_0x51c80b[_0x44dfe4(0x77e)]))return;const _0x1359b5=this[_0x44dfe4(0x2ea)][_0x44dfe4(0x31b)](),_0x5a06b8=_0x1359b5[_0x44dfe4(0x257)](_0x33739f=>_0x33739f[_0x44dfe4(0x572)]),_0x4a4d85=await this[_0x44dfe4(0x2ea)][_0x44dfe4(0x1ce)]();_0x2c9fd4[_0x44dfe4(0x2f3)](_0x51c80b[_0x44dfe4(0x77e)],_0x44dfe4(0x691),this[_0x44dfe4(0xa34)][_0x44dfe4(0x3ed)],_0x44dfe4(0xa34),this['mmr'][_0x44dfe4(0x609)](),_0x44dfe4(0x1da),_0x1359b5[_0x44dfe4(0x3ed)],_0x44dfe4(0x4c6),_0x5a06b8,'root\x20hash:\x20',_0x4a4d85);}}const _0x198e17=require('@crewdle/mist-connector-opfs'),_0x3f85a1=require('@crewdle/mist-connector-indexed-db'),_0x2d3829=require('@crewdle/mist-connector-webrtc-browser'),_0x33c462=0x1fc00000;var _0x3136ae,_0x28699e,_0xf557df,_0x56f542,_0x862e6,_0x40578c,_0x25e25e,_0x3d049a,_0x2fd39d;!function(_0x5e5fa9){const _0x2902a0=_0x3eb455;_0x5e5fa9[_0x2902a0(0x204)]='AudioContext',_0x5e5fa9['AudioOutput']='AudioOutput',_0x5e5fa9[_0x2902a0(0x360)]='AudioVolume',_0x5e5fa9[_0x2902a0(0x55a)]='Backgrounds',_0x5e5fa9[_0x2902a0(0x5e0)]='DeviceConfig',_0x5e5fa9[_0x2902a0(0x92c)]='MediaStream',_0x5e5fa9[_0x2902a0(0x6b7)]=_0x2902a0(0x6b7),_0x5e5fa9['ScreenSharing']='ScreenSharing',_0x5e5fa9[_0x2902a0(0xa30)]=_0x2902a0(0xa30),_0x5e5fa9[_0x2902a0(0xa80)]=_0x2902a0(0xa80);}(_0x3136ae||(_0x3136ae={}));class _0x1e5e11{['registeredListeners'];[_0x3eb455(0xacd)];['eventTarget'];constructor(_0x802a6f=new Map(),_0x1d6a02=new Map(),_0x4d91f5=new EventTarget()){const _0x30df11=_0x3eb455;this[_0x30df11(0x838)]=_0x802a6f,this[_0x30df11(0xacd)]=_0x1d6a02,this['eventTarget']=_0x4d91f5;}[_0x3eb455(0xad4)]=(_0x118c6a,_0x34ec33)=>this[_0x3eb455(0x838)][_0x3eb455(0x8c7)](_0x118c6a)?(_0x2c9fd4[_0x3eb455(0x2f3)](_0x51c80b[_0x3eb455(0x237)],_0x3eb455(0xad0),{'event':_0x118c6a,'data':_0x34ec33}),this[_0x3eb455(0x639)][_0x3eb455(0x4bd)](new CustomEvent(_0x118c6a,{'detail':_0x34ec33})),!0x0):(this['bufferEvent'](_0x118c6a,_0x34ec33),!0x1);['on']=(_0x125e1b,_0x2028e3)=>{const _0x52eed1=_0x3eb455,_0x51f25f=_0x187d38=>{const _0x1b0d96=a0_0x12d8;_0x2c9fd4['log'](_0x51c80b['Events'],_0x1b0d96(0x2bf),_0x187d38[_0x1b0d96(0x6d8)],_0x187d38[_0x1b0d96(0x295)]),_0x2028e3(_0x187d38['detail']);};return this[_0x52eed1(0x838)]['set'](_0x125e1b,_0x51f25f),this[_0x52eed1(0x639)][_0x52eed1(0x3a3)](_0x125e1b,_0x51f25f),_0x2c9fd4[_0x52eed1(0x2f3)](_0x51c80b[_0x52eed1(0xaab)],_0x52eed1(0x1de),_0x125e1b,_0x2028e3),this[_0x52eed1(0x739)](_0x125e1b),this;};[_0x3eb455(0x3de)](_0x1bdd1e){const _0x11eb23=_0x3eb455;if(!_0x1bdd1e)return this[_0x11eb23(0x838)][_0x11eb23(0x9d2)]((_0x597e4f,_0x10469a)=>{const _0x1948c7=_0x11eb23;this['eventTarget'][_0x1948c7(0x49b)](_0x10469a,_0x597e4f);}),void this['registeredListeners']['clear']();_0x11eb23(0x77a)==typeof _0x1bdd1e&&this[_0x11eb23(0x9bc)](_0x1bdd1e),Array['isArray'](_0x1bdd1e)&&_0x1bdd1e[_0x11eb23(0x9d2)](_0x22d8af=>{this['removeListener'](_0x22d8af);});}[_0x3eb455(0x9bc)](_0x1a327b){const _0x3cb7b1=_0x3eb455,_0x1d6b0c=this[_0x3cb7b1(0x838)][_0x3cb7b1(0x1d7)](_0x1a327b);_0x1d6b0c&&(this['eventTarget']['removeEventListener'](_0x1a327b,_0x1d6b0c),this[_0x3cb7b1(0x838)][_0x3cb7b1(0xaa3)](_0x1a327b));}[_0x3eb455(0x4d9)](_0x52c5cd,_0x59b26c){const _0x5dec88=_0x3eb455;_0x2c9fd4[_0x5dec88(0x2f3)](_0x51c80b[_0x5dec88(0x237)],'Buffering\x20event',{'event':_0x52c5cd,'data':_0x59b26c});const _0x2a2077=this[_0x5dec88(0xacd)][_0x5dec88(0x1d7)](_0x52c5cd)||[];this[_0x5dec88(0xacd)]['set'](_0x52c5cd,[..._0x2a2077,_0x59b26c]);}['consumeBufferedEvents'](_0x57e2f1){const _0x256dad=_0x3eb455,_0x255e3c=this[_0x256dad(0xacd)][_0x256dad(0x1d7)](_0x57e2f1);_0x255e3c&&(_0x255e3c['forEach'](_0x560dbb=>{const _0x7067d4=_0x256dad;_0x2c9fd4[_0x7067d4(0x2f3)](_0x51c80b[_0x7067d4(0x237)],_0x7067d4(0x912),{'event':_0x57e2f1,'data':_0x560dbb}),this[_0x7067d4(0x639)][_0x7067d4(0x4bd)](new CustomEvent(_0x57e2f1,{'detail':_0x560dbb}));}),this['bufferedEvents']['delete'](_0x57e2f1));}}class _0x420f03 extends Error{constructor(_0x243f28){const _0x5996a3=_0x3eb455;super(_0x5996a3(0x930)+_0x243f28);}}!function(_0x106afe){const _0x202254=_0x3eb455;_0x106afe[_0x106afe[_0x202254(0xac1)]=0x0]='Core',_0x106afe[_0x106afe[_0x202254(0x59d)]=0x1]='Optimization';}(_0x28699e||(_0x28699e={})),function(_0x5c635e){const _0xbe3aa=_0x3eb455;_0x5c635e[_0x5c635e[_0xbe3aa(0x678)]=0x0]=_0xbe3aa(0x678),_0x5c635e[_0x5c635e[_0xbe3aa(0x26c)]=0x1]='Answer',_0x5c635e[_0x5c635e[_0xbe3aa(0x9e6)]=0x2]=_0xbe3aa(0x9e6),_0x5c635e[_0x5c635e['Success']=0x3]=_0xbe3aa(0x70f),_0x5c635e[_0x5c635e['NeedRestart']=0x4]=_0xbe3aa(0x74b),_0x5c635e[_0x5c635e['Restart']=0x5]=_0xbe3aa(0xa50),_0x5c635e[_0x5c635e[_0xbe3aa(0x760)]=0x6]=_0xbe3aa(0x760),_0x5c635e[_0x5c635e[_0xbe3aa(0x92a)]=0x7]='Stats',_0x5c635e[_0x5c635e['OptimizationConnectionSuccess']=0x8]=_0xbe3aa(0xabc);}(_0xf557df||(_0xf557df={})),function(_0x397d20){const _0x20fc95=_0x3eb455;_0x397d20[_0x397d20[_0x20fc95(0xa24)]=0x0]=_0x20fc95(0xa24),_0x397d20[_0x397d20[_0x20fc95(0x255)]=0x1]=_0x20fc95(0x255);}(_0x56f542||(_0x56f542={})),function(_0xec9b7e){const _0x5d020c=_0x3eb455;_0xec9b7e['MediaStream']=_0x5d020c(0x737);}(_0x862e6||(_0x862e6={})),function(_0x15fffc){const _0x495ce=_0x3eb455;_0x15fffc[_0x15fffc['NodeJoin']=0x0]=_0x495ce(0x475),_0x15fffc[_0x15fffc[_0x495ce(0x470)]=0x1]=_0x495ce(0x470),_0x15fffc[_0x15fffc[_0x495ce(0x500)]=0x2]=_0x495ce(0x500),_0x15fffc[_0x15fffc[_0x495ce(0x985)]=0x3]=_0x495ce(0x985);}(_0x40578c||(_0x40578c={})),function(_0x47ebd3){const _0x318a4a=_0x3eb455;_0x47ebd3[_0x47ebd3[_0x318a4a(0x8bf)]=0x0]=_0x318a4a(0x8bf),_0x47ebd3[_0x47ebd3[_0x318a4a(0x407)]=0x1]=_0x318a4a(0x407);}(_0x25e25e||(_0x25e25e={})),function(_0x4c31ed){const _0xae58d3=_0x3eb455;_0x4c31ed[_0xae58d3(0x769)]=_0xae58d3(0x7a4),_0x4c31ed[_0xae58d3(0x6de)]='downgrade';}(_0x3d049a||(_0x3d049a={})),function(_0x2fbf2f){const _0x4b3074=_0x3eb455;_0x2fbf2f[_0x4b3074(0x518)]=_0x4b3074(0x4c2),_0x2fbf2f[_0x4b3074(0x9d1)]=_0x4b3074(0x46e);}(_0x2fd39d||(_0x2fd39d={}));const _0x3e18dc=require('aws-amplify'),_0x1e9faf=require('aws-amplify/utils'),_0x3a73ee=require('@aws-amplify/api'),_0x49ee38=require('@aws-amplify/core');class _0x24f061{[_0x3eb455(0x9ac)];[_0x3eb455(0x45e)];[_0x3eb455(0x582)];constructor(_0x5cb537,_0x3abd93,_0x5388e0){const _0x3945b5=_0x3eb455;this[_0x3945b5(0x9ac)]=_0x5cb537,this[_0x3945b5(0x45e)]=_0x3abd93,this['remoteId']=_0x5388e0;}[_0x3eb455(0x99c)](){const _0x3e9574=_0x3eb455;return this[_0x3e9574(0x45e)][_0x3e9574(0x777)]();}['getRemoteId'](){const _0x511e37=_0x3eb455;return this[_0x511e37(0x582)];}}var _0x1d3cc3,_0xb17a3b,_0x18ab1b;function _0x760ca0(_0x419ccd,_0x501881){return _0x419ccd['sourceId']===_0x501881;}function _0x20da15(_0x457812,_0x6417e0){const _0x3e4e20=_0x3eb455;return _0x457812[_0x3e4e20(0x9a8)]?.[_0x3e4e20(0x721)](_0x6417e0)??function(_0x55a560){const _0x953f33=_0x3e4e20;return void 0x0===_0x55a560[_0x953f33(0x9a8)];}(_0x457812);}function _0x33e0e4(_0x3240bd,{contentType:_0x49491a,label:_0x22feb6,remoteId:_0x2090d3}){return _0x3240bd+'-'+_0x49491a+'-'+_0x22feb6+'-'+_0x2090d3;}function _0x24a603(_0x5b772a,_0x2deeae,_0x34bb8d){return''+_0x5b772a+_0x2deeae+_0x34bb8d;}function _0x2f520c(_0x2fe776){const _0x288de6=_0x3eb455;return _0x2fe776===_0xb17a3b[_0x288de6(0xa1d)]?_0x288de6(0x9c3):_0x288de6(0x6a9);}function _0x5e5d3c(_0x53cc2c,_0x1820bc){const _0x2f2203=_0x3eb455;return{'label':_0x53cc2c['getInternalStreamId'](),'contentType':_0x53cc2c[_0x2f2203(0x41e)](),'remoteId':_0x1820bc['getRemoteId'](),'supportsContentType':_0x1820bc['getSupportedContentTypes']()[_0x2f2203(0x721)](_0x53cc2c[_0x2f2203(0x41e)]())};}!function(_0xb9abb4){const _0x4f30a2=_0x3eb455;_0xb9abb4[_0xb9abb4[_0x4f30a2(0x63d)]=0x0]='Waiting',_0xb9abb4[_0xb9abb4[_0x4f30a2(0x1ee)]=0x1]=_0x4f30a2(0x1ee),_0xb9abb4[_0xb9abb4[_0x4f30a2(0x402)]=0x2]=_0x4f30a2(0x402);}(_0x1d3cc3||(_0x1d3cc3={})),function(_0x44ea98){const _0x183dfa=_0x3eb455;_0x44ea98[_0x183dfa(0xa1d)]='in',_0x44ea98[_0x183dfa(0x85e)]=_0x183dfa(0x2a9);}(_0xb17a3b||(_0xb17a3b={}));class _0x4a76ce{[_0x3eb455(0x57e)];[_0x3eb455(0x61d)];constructor(_0x24c542,_0x11fa75){const _0x309586=_0x3eb455;this[_0x309586(0x57e)]=_0x24c542,this[_0x309586(0x61d)]=_0x11fa75;}[_0x3eb455(0x3e1)](_0x4c356f){this['callback'](_0x4c356f);}async[_0x3eb455(0x5a7)](){const _0x4ddc2a=_0x3eb455;await this[_0x4ddc2a(0x61d)]();}}class _0x470150{[_0x3eb455(0x57e)];[_0x3eb455(0x61d)];constructor(_0x48e31e,_0x5ee7e2){const _0x459021=_0x3eb455;this[_0x459021(0x57e)]=_0x48e31e,this['retryCallback']=_0x5ee7e2;}async['call'](_0x442332){const _0x5df517=_0x3eb455;await this[_0x5df517(0x57e)](_0x442332);}async[_0x3eb455(0x5a7)](){const _0x38c7b8=_0x3eb455;await this[_0x38c7b8(0x61d)]();}}function _0xe12695(_0x43e3b6=()=>{},_0x382a09=()=>!0x1,_0x22514d=()=>{}){let _0x2e9bc1,_0xf635b0,_0x1200b8=0x0;return{get 'size'(){return _0x1200b8;},get 'head'(){return _0x2e9bc1;},get 'tail'(){return _0xf635b0;},set 'head'(_0x25f32e){_0x2e9bc1=_0x25f32e;},set 'tail'(_0x5dc877){_0xf635b0=_0x5dc877;},'push'(_0x607a6e,_0x38cabc=!0x0){const _0x46fbac=a0_0x12d8,_0x3ec66d={'value':_0x607a6e};_0x38cabc&&_0x382a09(_0x3ec66d)?_0x43e3b6():(_0xf635b0&&(_0x3ec66d[_0x46fbac(0x84c)]=_0xf635b0,_0xf635b0[_0x46fbac(0x95b)]=_0x3ec66d),_0xf635b0=_0x3ec66d,_0x2e9bc1||(_0x2e9bc1=_0x3ec66d),_0x1200b8+=0x1,_0x38cabc&&_0x43e3b6());},'pop'(){if(!_0xf635b0)return;const _0x21f79e=_0xf635b0['value'];return _0xf635b0=_0xf635b0['previous'],_0xf635b0&&delete _0xf635b0['next'],_0xf635b0||(_0x2e9bc1=void 0x0),_0x1200b8-=0x1,_0x21f79e;},'unshift'(_0x176a60,_0x93f8ce=!0x0){const _0x3442c4=a0_0x12d8,_0x4f8088={'value':_0x176a60};_0x93f8ce&&_0x382a09(_0x4f8088)?_0x43e3b6():(_0x2e9bc1&&(_0x2e9bc1[_0x3442c4(0x84c)]=_0x4f8088,_0x4f8088[_0x3442c4(0x95b)]=_0x2e9bc1),_0x2e9bc1=_0x4f8088,_0xf635b0||(_0xf635b0=_0x4f8088),_0x1200b8+=0x1,_0x93f8ce&&_0x43e3b6());},'shift'(){const _0x4aba99=a0_0x12d8;if(!_0x2e9bc1)return;const _0x5deea3=_0x2e9bc1[_0x4aba99(0x625)];return _0x2e9bc1=_0x2e9bc1[_0x4aba99(0x95b)],_0x2e9bc1&&delete _0x2e9bc1[_0x4aba99(0x84c)],_0x2e9bc1||(_0xf635b0=void 0x0),_0x1200b8-=0x1,_0x5deea3;},'clear'(){_0x22514d(),_0x2e9bc1=void 0x0,_0xf635b0=void 0x0,_0x1200b8=0x0;}};}function _0x25317f(_0x168456,_0x2841ad=!0x1,_0x6bad68=()=>{},_0x21c961=()=>!0x1,_0x5a56f1=()=>{}){let _0x8e4bc5=!0x1;const _0x4bc98a=_0xe12695(async function(){const _0x5a1bb0=a0_0x12d8;if(!_0x8e4bc5){for(_0x8e4bc5=!0x0;_0x4bc98a[_0x5a1bb0(0x8cc)];){const _0x567297=_0x4bc98a['shift']();if(_0x567297)try{_0x168456 instanceof _0x4a76ce&&_0x168456[_0x5a1bb0(0x3e1)](_0x567297),_0x168456 instanceof _0x470150&&await _0x168456[_0x5a1bb0(0x3e1)](_0x567297),_0x6bad68(_0x567297);}catch(_0x243e67){_0x2841ad?_0x4bc98a[_0x5a1bb0(0x69a)](_0x567297,!0x1):_0x4bc98a[_0x5a1bb0(0x652)](_0x567297,!0x1),await _0x168456[_0x5a1bb0(0x5a7)]();}}_0x8e4bc5=!0x1;}},_0x21c961,_0x5a56f1);return _0x4bc98a;}class _0x44709d extends _0x24f061{[_0x3eb455(0x2df)];[_0x3eb455(0x8a1)];['connectionState']=_0x3a73ee[_0x3eb455(0x682)][_0x3eb455(0x2d2)];[_0x3eb455(0x658)]=_0x2f8e97();[_0x3eb455(0x727)]=_0x2bf9b6();[_0x3eb455(0x94d)];['listenUnsubscriber'];[_0x3eb455(0x984)]=_0x25317f(new _0x470150(this[_0x3eb455(0x69b)]['bind'](this),this[_0x3eb455(0x939)]['bind'](this)));[_0x3eb455(0x22e)];constructor(_0x546bb7,_0xec5ed3,_0x136bcd,_0x10e250,_0x5b94b8){const _0x469cc3=_0x3eb455;super(_0xec5ed3,_0x136bcd,_0x10e250),this[_0x469cc3(0x2df)]=_0x546bb7,this['authService']=_0x5b94b8;}async[_0x3eb455(0x319)](){const _0x2d3a24=_0x3eb455;try{const _0x5d1ba0={'getTokens':async()=>{const _0x16e2a8=a0_0x12d8,_0x422337=await this[_0x16e2a8(0x8a1)][_0x16e2a8(0x4da)]();return{'accessToken':(0x0,_0x49ee38[_0x16e2a8(0x681)])(_0x422337),'idToken':(0x0,_0x49ee38['decodeJWT'])(_0x422337)};}};_0x3e18dc[_0x2d3a24(0x66e)]['configure']({'API':{'GraphQL':{'endpoint':_0x507edf[_0x2d3a24(0x745)][_0x2d3a24(0x52d)],'region':_0x507edf[_0x2d3a24(0x745)][_0x2d3a24(0x78d)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x5d1ba0}});const _0x1d1a5e=(0x0,_0x3a73ee[_0x2d3a24(0x4b2)])();this[_0x2d3a24(0x22e)]=_0x1d1a5e,await this[_0x2d3a24(0x79f)](),this['listenUnsubscriber']=_0x1e9faf[_0x2d3a24(0x3e0)][_0x2d3a24(0x23b)](_0x2d3a24(0x915),async({payload:_0x466c31})=>{const _0x475aa4=_0x2d3a24;if(_0x466c31[_0x475aa4(0x55f)]===_0x3a73ee['CONNECTION_STATE_CHANGE']){const _0x43db15=_0x466c31[_0x475aa4(0x7b8)];this[_0x475aa4(0x583)]=_0x43db15[_0x475aa4(0x583)],this[_0x475aa4(0x658)][_0x475aa4(0x5bf)](_0x43db15[_0x475aa4(0x583)]),this[_0x475aa4(0x583)]===_0x3a73ee[_0x475aa4(0x682)][_0x475aa4(0x2d2)]?(_0x2c9fd4['error'](_0x475aa4(0x58c),{'clusterId':this[_0x475aa4(0x9ac)],'nodeId':this[_0x475aa4(0x99c)](),'nodeType':this['localNode']['type']}),this[_0x475aa4(0x579)](),this['connect']()):this[_0x475aa4(0x583)]===_0x3a73ee[_0x475aa4(0x682)]['Connected']?_0x2c9fd4[_0x475aa4(0x772)](_0x475aa4(0x794),{'clusterId':this[_0x475aa4(0x9ac)],'nodeId':this[_0x475aa4(0x99c)](),'nodeType':this[_0x475aa4(0x45e)][_0x475aa4(0x6d8)]}):_0x2c9fd4[_0x475aa4(0x772)](_0x475aa4(0x577),{'clusterId':this[_0x475aa4(0x9ac)],'nodeId':this[_0x475aa4(0x99c)](),'nodeType':this['localNode'][_0x475aa4(0x6d8)],'data':{'state':_0x43db15[_0x475aa4(0x583)]}});}});}catch(_0x5286f7){_0x2c9fd4[_0x2d3a24(0x4f1)](_0x2d3a24(0x2fa),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x2d3a24(0x45e)][_0x2d3a24(0x6d8)]});}}['close'](){const _0xfe3f8f=_0x3eb455;_0x2c9fd4[_0xfe3f8f(0x772)]('appsync-close',{'clusterId':this[_0xfe3f8f(0x9ac)],'nodeId':this[_0xfe3f8f(0x99c)](),'nodeType':this[_0xfe3f8f(0x45e)][_0xfe3f8f(0x6d8)]}),this['retryQueue']['clear'](),this[_0xfe3f8f(0x430)]?.(),this[_0xfe3f8f(0x94d)]?.['unsubscribe'](),delete this[_0xfe3f8f(0x94d)];}[_0x3eb455(0x218)](){const _0x2a39ed=_0x3eb455;return this[_0x2a39ed(0x583)]===_0x3a73ee[_0x2a39ed(0x682)]['Connected'];}['send'](_0x29e3d7){const _0x13877d=_0x3eb455;this[_0x13877d(0x984)][_0x13877d(0x69a)](_0x29e3d7);}[_0x3eb455(0xa3d)](_0x3006f0){const _0x50105e=_0x3eb455;return this[_0x50105e(0x727)][_0x50105e(0x79f)](_0x3006f0);}[_0x3eb455(0x9e2)](){const _0x3f1224=_0x3eb455;return[_0x4d2150[_0x3f1224(0x9a5)][_0x3f1224(0x946)]];}async[_0x3eb455(0x939)](){const _0x36ac73=_0x3eb455;if(!this[_0x36ac73(0x218)]())return new Promise(_0xbc4bc2=>{const _0x164309=_0x36ac73,_0x17b370=this[_0x164309(0x658)]['subscribe'](_0x29080c=>{const _0x3edfaa=_0x164309;_0x29080c===_0x3a73ee[_0x3edfaa(0x682)]['Connected']&&(_0x17b370(),_0xbc4bc2());});});}async['sendAction'](_0x279a6d){const _0x110bbf=_0x3eb455;if(this[_0x110bbf(0x583)]!==_0x3a73ee[_0x110bbf(0x682)][_0x110bbf(0xa2c)])throw new Error('AppSync\x20connection\x20not\x20ready');_0x279a6d['destinationIds']&&0x1===_0x279a6d[_0x110bbf(0x9a8)][_0x110bbf(0x3ed)]?await this[_0x110bbf(0x5bf)](_0x279a6d[_0x110bbf(0x9a8)][0x0],JSON['stringify'](_0x279a6d)):_0x2c9fd4[_0x110bbf(0x4f1)](_0x110bbf(0x5f9),{'clusterId':this[_0x110bbf(0x9ac)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x110bbf(0x6d8)]});}async['publish'](_0x57dc0a,_0x369949){const _0x4151d8=_0x3eb455;if(!this[_0x4151d8(0x22e)])throw new Error('AppSync\x20client\x20not\x20ready');_0x2c9fd4[_0x4151d8(0x2f3)](_0x51c80b['Signaling'],'AppSync\x20publish',this[_0x4151d8(0x99c)](),_0x369949),await this[_0x4151d8(0x22e)][_0x4151d8(0x675)]({'query':_0x4151d8(0x761),'variables':{'name':await this[_0x4151d8(0x590)](_0x57dc0a),'data':_0x369949}});}async[_0x3eb455(0x79f)](){const _0x171a4f=_0x3eb455;if(this[_0x171a4f(0x94d)])return;if(!this[_0x171a4f(0x22e)])throw new Error(_0x171a4f(0x64b));_0x2c9fd4['log'](_0x51c80b['Signaling'],'AppSync\x20subscribe',this[_0x171a4f(0x99c)]());const _0x38e56d=await this[_0x171a4f(0x22e)]['graphql']({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x171a4f(0x590)]()},'authToken':await this[_0x171a4f(0x8a1)][_0x171a4f(0x4da)]()},{'Authorization':await this[_0x171a4f(0x8a1)][_0x171a4f(0x4da)]()});this[_0x171a4f(0x94d)]=_0x38e56d['subscribe']({'next':({data:_0x343ba5})=>{const _0x17569c=_0x171a4f,_0x416c4c=JSON['parse'](_0x343ba5[_0x17569c(0x79f)][_0x17569c(0x7b8)]);!_0x760ca0(_0x416c4c,this[_0x17569c(0x99c)]())&&_0x20da15(_0x416c4c,this['getLocalId']())&&this['messageListeners'][_0x17569c(0x5bf)](_0x416c4c);},'error':console[_0x171a4f(0x2f3)]});}async[_0x3eb455(0x590)](_0x3593c0){const _0xb987c7=_0x3eb455,_0x5b908d=await crypto[_0xb987c7(0x2a7)][_0xb987c7(0x39e)](_0xb987c7(0x262),new TextEncoder()[_0xb987c7(0x82f)](this[_0xb987c7(0x2df)]+'-'+this['clusterId']+'-'+(_0x3593c0??this[_0xb987c7(0x99c)]())));return Array[_0xb987c7(0x495)](new Uint8Array(_0x5b908d))[_0xb987c7(0x257)](_0x4736d5=>_0x4736d5[_0xb987c7(0x957)](0x10)[_0xb987c7(0x567)](0x2,'0'))[_0xb987c7(0x220)]('');}}!function(_0x590b81){const _0x3bae71=_0x3eb455;_0x590b81[_0x590b81['Add']=0x0]=_0x3bae71(0x3f3),_0x590b81[_0x590b81['Remove']=0x1]=_0x3bae71(0x9db),_0x590b81[_0x590b81['Update']=0x2]=_0x3bae71(0xa33),_0x590b81[_0x590b81[_0x3bae71(0x883)]=0x3]=_0x3bae71(0x883),_0x590b81[_0x590b81[_0x3bae71(0x952)]=0x4]='RemoteRemove';}(_0x18ab1b||(_0x18ab1b={}));const _0x1ee5e6='0',_0x2939db=_0x3eb455(0x444),_0x1dad9d=_0x188a1d,_0x1d31ec=0xbe800;class _0x37111e{[_0x3eb455(0x9ac)];[_0x3eb455(0x45e)];[_0x3eb455(0x582)];[_0x3eb455(0x2c6)];[_0x3eb455(0x37e)];[_0x3eb455(0x9b3)];['connection'];[_0x3eb455(0x9c7)];[_0x3eb455(0x1e7)]=0x1;[_0x3eb455(0x73b)];[_0x3eb455(0x902)]=[];[_0x3eb455(0x968)]=[];[_0x3eb455(0x44e)];constructor(_0x10c8eb,_0x1e0ebf,_0x6c0825,_0x106ed0,_0x30af27,_0x2bb064){const _0x24b06e=_0x3eb455;this[_0x24b06e(0x9ac)]=_0x10c8eb,this[_0x24b06e(0x45e)]=_0x1e0ebf,this[_0x24b06e(0x582)]=_0x6c0825,this[_0x24b06e(0x2c6)]=_0x106ed0,this[_0x24b06e(0x37e)]=_0x30af27,this[_0x24b06e(0x9b3)]=_0x2bb064,this[_0x24b06e(0x2fd)]=new this[(_0x24b06e(0x9b3))]({'handshakeServers':this[_0x24b06e(0x2c6)]}),this['setupConnectionEvents']();}[_0x3eb455(0x579)](){const _0x5b47d0=_0x3eb455;this[_0x5b47d0(0x47c)]();}[_0x3eb455(0x8e4)](_0x25f57f){const _0xd06075=_0x3eb455;this[_0xd06075(0x37e)]=_0x25f57f;}async[_0x3eb455(0x9c0)](_0x304cb3,_0x224479){const _0x2edd88=_0x3eb455;if(_0x224479===this['currentVersion'])for(const _0xb11572 of _0x304cb3){if(!this[_0x2edd88(0x2fd)]['canAddCandidates'])return this['addPendingHandshakeCandidate'](_0xb11572);try{await this[_0x2edd88(0x2fd)][_0x2edd88(0x2db)](_0xb11572);}catch(_0x2e8ccc){this[_0x2edd88(0xa77)](_0xb11572);}}}[_0x3eb455(0x218)](){const _0x3e7696=_0x3eb455;return this[_0x3e7696(0x515)](),_0x3e7696(0x598)===this[_0x3e7696(0x2fd)][_0x3e7696(0x583)]&&[_0x3e7696(0x598),_0x3e7696(0xa0b)]['includes'](this[_0x3e7696(0x2fd)][_0x3e7696(0xa05)])&&'closed'!==this[_0x3e7696(0x2fd)][_0x3e7696(0x599)]&&_0x3e7696(0x8db)===this['dataChannel']?.[_0x3e7696(0x9a4)];}['registerSystemPublisher'](_0x3f2e98){const _0x3b66df=_0x3eb455;this[_0x3b66df(0x73b)]=_0x3f2e98;}[_0x3eb455(0x416)](){const _0x36cbd1=_0x3eb455;delete this[_0x36cbd1(0x73b)];}[_0x3eb455(0x3d5)](_0x48fb95){const _0x950cb8=_0x3eb455;this['stopConnection'](),this[_0x950cb8(0x2fd)]=new this[(_0x950cb8(0x9b3))]({'handshakeServers':this[_0x950cb8(0x2c6)]}),_0x48fb95?this[_0x950cb8(0x1e7)]=_0x48fb95:this[_0x950cb8(0x1e7)]+=0x1,this[_0x950cb8(0x964)]();}[_0x3eb455(0x86a)](){const _0x133540=_0x3eb455;this[_0x133540(0x968)][_0x133540(0x9d2)](_0x3ec53a=>{const _0x1a1c01=_0x133540;try{this[_0x1a1c01(0x2fd)]['addCandidate'](_0x3ec53a);}catch(_0x456a70){}}),this[_0x133540(0x968)]=[];}[_0x3eb455(0x5cb)](_0x2a7223,_0x4f5719){const _0x540faa=_0x3eb455;if(!this[_0x540faa(0x73b)])throw new _0x157cd9(_0x157cd9['codes']['MissingSystemTopic'],{'content':_0x2a7223});const _0x49869a={'sourceId':this[_0x540faa(0x45e)][_0x540faa(0x777)](),'destinationIds':[this[_0x540faa(0x582)]],'propagate':this[_0x540faa(0x37e)]!==_0x28699e[_0x540faa(0xac1)],'retry':this[_0x540faa(0x37e)]!==_0x28699e['Core'],'messageType':_0x3ef5e5[_0x540faa(0x32c)],'content':_0x2a7223};_0x4f5719&&(_0x49869a[_0x540faa(0x451)]=_0x4f5719),this['systemTopic'][_0x540faa(0x5bf)](_0x49869a);}[_0x3eb455(0x964)](){const _0x292fdf=_0x3eb455;this[_0x292fdf(0x2fd)][_0x292fdf(0x4eb)]=()=>{const _0x170b37=_0x292fdf;'complete'===this['connection'][_0x170b37(0x5ca)]&&this[_0x170b37(0x902)][_0x170b37(0x3ed)]>0x0&&(this[_0x170b37(0x44e)]&&clearTimeout(this[_0x170b37(0x44e)]),this['handshakeDebounce']=setTimeout(()=>{const _0x1e4c94=_0x170b37;delete this['handshakeDebounce'],this['sendIceCandidates'](),this[_0x1e4c94(0x902)]=[];},0x1f4));},this[_0x292fdf(0x2fd)][_0x292fdf(0x688)]=_0x33313b=>{const _0x57e0f7=_0x292fdf;_0x33313b[_0x57e0f7(0x532)]&&this[_0x57e0f7(0x902)]['push'](_0x33313b[_0x57e0f7(0x532)]);};}[_0x3eb455(0x47c)](){const _0x262778=_0x3eb455;clearTimeout(this[_0x262778(0x44e)]),delete this[_0x262778(0x44e)],this[_0x262778(0x902)]=[],this['pendingHandshakeCandidates']=[],this['dataChannel']&&(this[_0x262778(0x9c7)][_0x262778(0xa3d)]=null,this[_0x262778(0x9c7)][_0x262778(0x339)]=null,this[_0x262778(0x9c7)][_0x262778(0x579)](),delete this[_0x262778(0x9c7)]),this['connection'][_0x262778(0x4eb)]=null,this[_0x262778(0x2fd)]['onCandidate']=null,this[_0x262778(0x2fd)]['onHandshakeStateChange']=null,this[_0x262778(0x2fd)][_0x262778(0xa38)]=null,this[_0x262778(0x2fd)][_0x262778(0x64f)]=null,this[_0x262778(0x2fd)][_0x262778(0x9a2)]=null,this['connection']['close']();}[_0x3eb455(0xa77)](_0x29b223){const _0x37fa35=_0x3eb455;this[_0x37fa35(0x968)][_0x37fa35(0x69a)](_0x29b223);}[_0x3eb455(0x515)](){const _0x189cc5=_0x3eb455;_0x2c9fd4[_0x189cc5(0x2f3)](_0x51c80b[_0x189cc5(0x682)],'Base\x20Peer\x20Connection',{'localId':this['localNode'][_0x189cc5(0x777)](),'remoteId':this[_0x189cc5(0x582)],'connectionState':this[_0x189cc5(0x2fd)][_0x189cc5(0x583)],'handshakeState':this[_0x189cc5(0x2fd)][_0x189cc5(0xa05)],'signalingState':this[_0x189cc5(0x2fd)][_0x189cc5(0x599)],'dataChannelState':this[_0x189cc5(0x9c7)]?.[_0x189cc5(0x9a4)]});}}function _0x3cf589(_0x100bcb,_0x4aae1e){const _0x4cdd39=_0x3eb455;_0x4aae1e['publish']({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x4cdd39(0x32c)],'content':_0x100bcb});}class _0x5ecd12{static [_0x3eb455(0x6f1)];[_0x3eb455(0x8ea)]=[];[_0x3eb455(0x897)];constructor(){setInterval(()=>{const _0x1f0e76=a0_0x12d8;this[_0x1f0e76(0x8ea)][_0x1f0e76(0x9d2)](_0x4485ba=>{const _0x5e4c61=_0x1f0e76;if(Date[_0x5e4c61(0xa6a)]()-_0x4485ba[_0x5e4c61(0x455)]>_0x4485ba[_0x5e4c61(0xa81)]){try{_0x4485ba['callback']();}catch(_0x105e71){}_0x4485ba[_0x5e4c61(0x455)]=Date[_0x5e4c61(0xa6a)]();}});},0x64);}static[_0x3eb455(0x5d6)](){const _0x150933=_0x3eb455;return _0x5ecd12[_0x150933(0x6f1)]||(_0x5ecd12['instance']=new _0x5ecd12()),_0x5ecd12['instance'];}[_0x3eb455(0x3e3)](_0x2e1de0){const _0x35959f=_0x3eb455,_0x4d3e38=this[_0x35959f(0xa08)](_0x2e1de0),_0x348e82=_0x2e1de0[_0x35959f(0x653)]();_0x348e82&&_0x4d3e38&&(_0x348e82[_0x35959f(0x1ca)]['value']=0.001,_0x4d3e38[_0x35959f(0x319)](_0x348e82),_0x348e82[_0x35959f(0x319)](_0x2e1de0[_0x35959f(0x272)]),_0x4d3e38[_0x35959f(0x362)]());}['stopNoThrottlingHack'](){const _0x5d6c5d=_0x3eb455;this[_0x5d6c5d(0x897)]&&(this[_0x5d6c5d(0x897)][_0x5d6c5d(0x558)](),this['source'][_0x5d6c5d(0xadb)](),this[_0x5d6c5d(0x897)]=void 0x0);}['wait'](_0x265ca2){return new Promise(_0x272043=>{setTimeout(_0x272043,_0x265ca2);});}[_0x3eb455(0x409)](_0x15d518,_0x42c945){const _0x5a11f5=_0x3eb455;return this[_0x5a11f5(0x8ea)][_0x5a11f5(0x69a)]({'callback':_0x15d518,'interval':_0x42c945,'lastExecuted':Date[_0x5a11f5(0xa6a)]()}),()=>{const _0x545baa=_0x5a11f5;this[_0x545baa(0x8ea)]=this[_0x545baa(0x8ea)]['filter'](_0x4667da=>_0x4667da[_0x545baa(0x57e)]!==_0x15d518);};}['createConstantSource'](_0x34743f){const _0x317463=_0x3eb455;if(_0x34743f[_0x317463(0xa08)])return _0x34743f[_0x317463(0xa08)]();const _0x58366a=_0x34743f[_0x317463(0x877)](),_0x46d065=_0x34743f[_0x317463(0x6dc)](0x1,0x1,_0x34743f[_0x317463(0x31e)]);return _0x46d065['getChannelData'](0x0)[0x0]=0xa,_0x58366a['buffer']=_0x46d065,_0x58366a['loop']=!0x0,_0x58366a;}}const _0x4dd2fb=_0x5ecd12['getInstance']();class _0x546bfc extends _0x37111e{[_0x3eb455(0x56a)]=_0x2f8e97();[_0x3eb455(0x54e)]=_0x2f8e97();[_0x3eb455(0x56d)]=_0x2f8e97();[_0x3eb455(0x744)]=new Map();[_0x3eb455(0x3f9)]=new Map();['waitSuccess'];[_0x3eb455(0x41b)]=0x0;[_0x3eb455(0xa69)]={'messages':{'total':0x0}};[_0x3eb455(0x2e6)]=0x0;[_0x3eb455(0x815)]=0x0;['loggingCycle']=_0x34982b(_0x3eb455(0x80e),_0x51c80b[_0x3eb455(0x5be)]);['close'](){const _0x27e264=_0x3eb455;this[_0x27e264(0x221)](),this['receivers'][_0x27e264(0xa0e)](),super[_0x27e264(0x579)]();}async[_0x3eb455(0x635)](_0x325918,_0x5003ca){const _0x4d37ab=_0x3eb455;this[_0x4d37ab(0x1e7)]=_0x5003ca,this[_0x4d37ab(0x221)]();const _0x291ddf=await this['connection'][_0x4d37ab(0x24a)](_0x325918);this[_0x4d37ab(0x86a)]();const _0xe3d22=(0x0,_0xe630d4['v4'])();this[_0x4d37ab(0x5cb)]({'type':_0xf557df[_0x4d37ab(0x26c)],'answer':_0x291ddf,'version':_0x5003ca,'connectionType':this[_0x4d37ab(0x37e)]},_0xe3d22),this[_0x4d37ab(0x37e)]===_0x28699e[_0x4d37ab(0xac1)]&&(this['waitSuccess']=_0x4dd2fb[_0x4d37ab(0x409)](()=>{const _0x3875eb=_0x4d37ab;this[_0x3875eb(0x5cb)]({'type':_0xf557df[_0x3875eb(0x26c)],'answer':_0x291ddf,'version':_0x5003ca,'connectionType':this[_0x3875eb(0x37e)]},_0xe3d22);},0x1388));}['handleSuccess'](){const _0x256b2d=_0x3eb455;this[_0x256b2d(0x221)]();}[_0x3eb455(0xa29)](_0x2b9e10){const _0x4db36a=_0x3eb455;this[_0x4db36a(0x3d5)](_0x2b9e10),this['publishSystemMessage']({'type':_0xf557df['Restart']});}async[_0x3eb455(0x5dc)](){const _0x5e4699=_0x3eb455;this['systemTopic']&&(await this[_0x5e4699(0x2fd)][_0x5e4699(0x8f4)](this[_0x5e4699(0x744)],(_0x91fc96,_0x1fdcbd)=>{const _0x336f1c=_0x5e4699;_0x3cf589({'type':_0xf557df['Stats'],'streamId':_0x1fdcbd,'nodeId':this[_0x336f1c(0x582)],'stats':_0x91fc96},this[_0x336f1c(0x73b)]);}),this[_0x5e4699(0x73b)][_0x5e4699(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x5e4699(0x32c)],'content':{'type':_0xf557df[_0x5e4699(0x92a)],'nodeId':this[_0x5e4699(0x582)],'stats':{'origin':_0x56f542[_0x5e4699(0x255)],'timestamp':Date[_0x5e4699(0xa6a)](),'messagesReceived':this[_0x5e4699(0x41b)],'bytesReceived':this[_0x5e4699(0x2e6)],'timeReceiving':this[_0x5e4699(0x815)],'systemMessages':this['systemMessagesReceived']}}}));}['onMessage'](_0x38e988){const _0x37c71a=_0x3eb455;return _0x507edf['isProduction']?this[_0x37c71a(0x56a)]['subscribe'](_0x38e988):this[_0x37c71a(0x56a)][_0x37c71a(0x79f)](_0x599522=>{const _0x5bee4d=_0x37c71a;0x0===_0x599522[_0x5bee4d(0xa46)]&&_0x599522[_0x5bee4d(0x4e7)]===_0x3ef5e5[_0x5bee4d(0x7dc)]&&this[_0x5bee4d(0x364)][_0x5bee4d(0x1c6)]['log'](_0x5bee4d(0x4d2)+this[_0x5bee4d(0x582)],()=>_0x185aae(_0x599522)),_0x38e988(_0x599522);});}[_0x3eb455(0x64f)](_0x2d432a){const _0x22ee45=_0x3eb455;return this[_0x22ee45(0x54e)][_0x22ee45(0x79f)](({track:_0x2ced42,stream:_0x132931})=>_0x2d432a(_0x2ced42,_0x132931));}[_0x3eb455(0x7d2)](_0x44976d){const _0x53f0c2=_0x3eb455;return this[_0x53f0c2(0x56d)]['subscribe'](({track:_0x1a9f27,stream:_0x1ca875})=>_0x44976d(_0x1a9f27,_0x1ca875));}[_0x3eb455(0x3d5)](_0x1015ec){const _0xeb3747=_0x3eb455;this[_0xeb3747(0x221)](),this['receivers']['forEach'](_0x673a38=>{_0x673a38['clear']();}),super[_0xeb3747(0x3d5)](_0x1015ec);}[_0x3eb455(0x9de)](){const _0xd616cc=_0x3eb455;this[_0xd616cc(0x5cb)]({'type':_0xf557df[_0xd616cc(0x9e6)],'candidates':this[_0xd616cc(0x902)],'origin':_0x56f542[_0xd616cc(0x255)],'version':this['currentVersion'],'connectionType':this[_0xd616cc(0x37e)]});}[_0x3eb455(0x964)](){const _0x4f7d46=_0x3eb455;super[_0x4f7d46(0x964)](),this[_0x4f7d46(0x2fd)][_0x4f7d46(0x64f)]=_0x2c2ccd=>{const _0x5b6823=_0x4f7d46;_0x2c9fd4[_0x5b6823(0x2f3)](_0x51c80b[_0x5b6823(0x388)],_0x5b6823(0x74a),this[_0x5b6823(0x45e)][_0x5b6823(0x777)](),_0x2c2ccd),_0x2c2ccd[_0x5b6823(0x20e)][0x0]['onremovetrack']=_0xfedf91=>{const _0x832e74=_0x5b6823;this[_0x832e74(0x744)]['get'](_0x2c2ccd['streams'][0x0]['id'])?.['delete'](_0xfedf91['track']),0x0===this[_0x832e74(0x744)]['get'](_0x2c2ccd['streams'][0x0]['id'])?.['size']&&this['receivers'][_0x832e74(0xaa3)](_0x2c2ccd[_0x832e74(0x20e)][0x0]['id']),this[_0x832e74(0x56d)][_0x832e74(0x5bf)]({'track':_0xfedf91['track'],'stream':_0x2c2ccd[_0x832e74(0x20e)][0x0]});},this['receivers'][_0x5b6823(0x8c7)](_0x2c2ccd[_0x5b6823(0x20e)][0x0]['id'])||this['receivers'][_0x5b6823(0x90d)](_0x2c2ccd[_0x5b6823(0x20e)][0x0]['id'],new Set()),this['receivers'][_0x5b6823(0x1d7)](_0x2c2ccd[_0x5b6823(0x20e)][0x0]['id'])[_0x5b6823(0x520)](_0x2c2ccd['track']),this[_0x5b6823(0x54e)][_0x5b6823(0x5bf)]({'track':_0x2c2ccd[_0x5b6823(0x296)],'stream':_0x2c2ccd[_0x5b6823(0x20e)][0x0]});},this[_0x4f7d46(0x2fd)][_0x4f7d46(0x9a2)]=_0x34a087=>{const _0x151e4b=_0x4f7d46;this['dataChannel']=_0x34a087[_0x151e4b(0x6bf)],this[_0x151e4b(0x9c7)]['onMessage']=_0x583270=>{const _0x1ec3b7=_0x151e4b;if(_0x583270['data']!==_0x1ee5e6)this[_0x1ec3b7(0x972)](_0x583270['data']);else{if(!this[_0x1ec3b7(0x9c7)])return void _0x2c9fd4[_0x1ec3b7(0x4f1)](_0x1ec3b7(0x887),{'clusterId':this[_0x1ec3b7(0x9ac)],'nodeId':this[_0x1ec3b7(0x45e)][_0x1ec3b7(0x777)](),'nodeType':this[_0x1ec3b7(0x45e)][_0x1ec3b7(0x6d8)],'remoteId':this[_0x1ec3b7(0x582)],'data':{'connection':'receiver'}});if('open'!==this['dataChannel'][_0x1ec3b7(0x9a4)])return;this[_0x1ec3b7(0x9c7)][_0x1ec3b7(0x307)]('1');}};};}[_0x3eb455(0x972)](_0x362930){const _0x3f9a38=_0x3eb455;if(_0x3f9a38(0x77a)==typeof _0x362930&&_0x362930[_0x3f9a38(0x5fb)](_0x2939db))return this[_0x3f9a38(0x41b)]+=0x1,this[_0x3f9a38(0x2e6)]+=_0x362930[_0x3f9a38(0x3ed)],this['handleChunkMessage'](_0x362930);setTimeout(()=>{const _0x1acbb4=_0x3f9a38,_0x52a8d0=Date[_0x1acbb4(0xa6a)]();let _0x1e602f;if((_0x362930 instanceof ArrayBuffer||_0x362930[_0x1acbb4(0x3ed)]<=_0x1dad9d)&&(this[_0x1acbb4(0x41b)]+=0x1,this[_0x1acbb4(0x2e6)]+=_0x362930 instanceof ArrayBuffer?_0x362930[_0x1acbb4(0x9dc)]:_0x362930[_0x1acbb4(0x3ed)]),_0x362930 instanceof ArrayBuffer){const [_0x1ddbe3,_0x511da6]=this[_0x1acbb4(0x4ed)](_0x362930);_0x1e602f=_0x1ddbe3,_0x1e602f[_0x1acbb4(0x211)][_0x1acbb4(0x7b8)]=_0x511da6;}else _0x1e602f=JSON[_0x1acbb4(0x55e)](_0x362930);if(0x0===_0x1e602f['topicLabel']){this[_0x1acbb4(0xa69)][_0x1acbb4(0xa52)][_0x1acbb4(0x251)]+=0x1;const {systemMessageType:_0x445cab,systemContentMessageType:_0x47e20a}=_0x185aae(_0x1e602f);this[_0x1acbb4(0xa69)][_0x445cab]||(this['systemMessagesReceived'][_0x445cab]={[_0x47e20a]:0x0}),this[_0x1acbb4(0xa69)][_0x445cab][_0x47e20a]||(this[_0x1acbb4(0xa69)][_0x445cab][_0x47e20a]=0x0),this[_0x1acbb4(0xa69)][_0x445cab][_0x1acbb4(0x251)]||(this['systemMessagesReceived'][_0x445cab][_0x1acbb4(0x251)]=0x0),this[_0x1acbb4(0xa69)][_0x445cab][_0x47e20a]+=0x1,this[_0x1acbb4(0xa69)][_0x445cab][_0x1acbb4(0x251)]+=0x1;}this['messageCallback'][_0x1acbb4(0x5bf)](_0x1e602f),this[_0x1acbb4(0x815)]+=Date[_0x1acbb4(0xa6a)]()-_0x52a8d0;},0x0);}['handleChunkMessage'](_0x2ab983){const _0x58d033=_0x3eb455,_0xc3c84=_0x2ab983[_0x58d033(0x979)](';'),_0x4988b4=_0xc3c84[0x1],_0x3cbfb4=parseInt(_0xc3c84[0x2],0xa),_0x49808d=parseInt(_0xc3c84[0x3],0xa),_0x11d4d5=_0x2ab983['replace'](_0x2939db+';'+_0x4988b4+';'+_0x3cbfb4+';'+_0x49808d+';','');this[_0x58d033(0x3f9)][_0x58d033(0x8c7)](_0x4988b4)||this[_0x58d033(0x3f9)][_0x58d033(0x90d)](_0x4988b4,[]);const _0x4a8d8c=this[_0x58d033(0x3f9)][_0x58d033(0x1d7)](_0x4988b4);_0x4a8d8c[_0x3cbfb4]=_0x11d4d5,_0x4a8d8c[_0x58d033(0x3ed)]===_0x49808d&&(this['handleOnMessage'](_0x4a8d8c['join']('')),this['chunks']['delete'](_0x4988b4));}[_0x3eb455(0x221)](){const _0x5f3ecd=_0x3eb455;this[_0x5f3ecd(0x28e)]?.(),delete this[_0x5f3ecd(0x28e)];}[_0x3eb455(0x757)](_0x59c314){const _0x4f147d=_0x3eb455,_0xf498d0=new TextDecoder()[_0x4f147d(0x432)](_0x59c314);return JSON[_0x4f147d(0x55e)](_0xf498d0);}[_0x3eb455(0x4ed)](_0x2df1e2){const _0x42c7a0=_0x3eb455,_0x1cf649=new Uint8Array(_0x2df1e2[_0x42c7a0(0x2d0)](0x0,0x4)),_0x57fb1e=new Uint32Array(_0x1cf649[_0x42c7a0(0x226)])[0x0],_0x3e703e=new Uint8Array(_0x2df1e2[_0x42c7a0(0x2d0)](0x4,0x4+_0x57fb1e)),_0x310e90=new Uint8Array(_0x2df1e2[_0x42c7a0(0x2d0)](0x4+_0x57fb1e));return[this[_0x42c7a0(0x757)](_0x3e703e['buffer']),_0x310e90[_0x42c7a0(0x226)]];}}const _0x402fc5=0xc350;var _0x47142e,_0x52b6ab;!function(_0x5822ca){const _0x5bb62e=_0x3eb455;_0x5822ca[_0x5822ca[_0x5bb62e(0x497)]=0x0]='High',_0x5822ca[_0x5822ca['Medium']=0x1]=_0x5bb62e(0x9fb),_0x5822ca[_0x5822ca[_0x5bb62e(0x9ad)]=0x2]='Low';}(_0x47142e||(_0x47142e={}));class _0x4ebd26 extends _0x37111e{['maxFps'];['maxBpp'];[_0x3eb455(0x677)]=new Map();[_0x3eb455(0x64c)];[_0x3eb455(0x3a5)];[_0x3eb455(0x8ef)];[_0x3eb455(0x239)]=!0x1;[_0x3eb455(0x44b)];[_0x3eb455(0x90f)];[_0x3eb455(0x731)];[_0x3eb455(0x984)]=function(e,t=_0x47142e,s=!0x1){const _0x45818f=_0x3eb455;let n=!0x1;const i=[];async function o(){const _0x6e06e=a0_0x12d8;if(!n){for(n=!0x0;i['some'](e=>e[_0x6e06e(0x8cc)]);){let t,n=0x0;for(const [e,s]of i[_0x6e06e(0x858)]())if(t=s['shift'](),n=e,t)break;if(t)try{if(e instanceof _0x4a76ce&&e[_0x6e06e(0x3e1)](t),e instanceof _0x470150&&await e[_0x6e06e(0x3e1)](t),i[_0x6e06e(0x2d0)](-0x1)[_0x6e06e(0x698)](e=>e[_0x6e06e(0x8cc)]))continue;const s=i[_0x6e06e(0x3ed)]-0x1;n===s&&i[s][_0x6e06e(0x8cc)]&&await _0x4dd2fb[_0x6e06e(0x5a7)](0x0);}catch(o){s?i[n]['push'](t,!0x1):i[n][_0x6e06e(0x652)](t,!0x1),await e[_0x6e06e(0x5a7)]();}}n=!0x1;}}return Object[_0x45818f(0x565)](t)[_0x45818f(0x9d2)](e=>{const _0x25abde=_0x45818f;_0x25abde(0x77a)!=typeof e&&(i[e]=_0xe12695(o));}),{'queues':i};}(new _0x4a76ce(this[_0x3eb455(0x69b)][_0x3eb455(0x64d)](this),this[_0x3eb455(0x1a9)][_0x3eb455(0x64d)](this)));[_0x3eb455(0x9fe)]=0x0;['bytesSent']=0x0;[_0x3eb455(0xa3c)]=0x0;['roundTripTime']=0x0;['oncloseTimeout'];[_0x3eb455(0x364)]=_0x34982b(_0x3eb455(0x2a5),_0x51c80b[_0x3eb455(0x6d1)]);constructor(_0x3e1b22,_0x1d85e4,_0xc37276,_0x2a3a5d,_0x573e33,_0x1e42d5,_0x2aef3a,_0x1b50b9){const _0x1793ff=_0x3eb455;super(_0x3e1b22,_0x1d85e4,_0xc37276,_0x2a3a5d,_0x573e33,_0x1b50b9),this[_0x1793ff(0x8d4)]=_0x1e42d5,this[_0x1793ff(0x60a)]=_0x2aef3a;}[_0x3eb455(0x579)](){const _0x40e71d=_0x3eb455;this[_0x40e71d(0x644)](),this[_0x40e71d(0x956)](),delete this[_0x40e71d(0x8ef)],this[_0x40e71d(0x254)](),this[_0x40e71d(0x85a)](),this[_0x40e71d(0x6c3)](),this[_0x40e71d(0x677)][_0x40e71d(0xa0e)](),this[_0x40e71d(0x239)]=!0x1,this['retryQueue']['queues']['forEach'](_0x2e31c6=>_0x2e31c6[_0x40e71d(0xa0e)]()),this[_0x40e71d(0x3f7)](),super[_0x40e71d(0x579)]();}['isConnected'](){return!!this['lastHeartbeat']&&super['isConnected']()&&Date['now']()-this['lastHeartbeat']<0x3a98;}async['collectStats'](){const _0x6a746a=_0x3eb455;this['systemTopic']&&(await this[_0x6a746a(0x2fd)][_0x6a746a(0x336)](this[_0x6a746a(0x677)],(_0x21e610,_0x1c46a4)=>{const _0x3c12a2=_0x6a746a;_0x3cf589({'type':_0xf557df[_0x3c12a2(0x92a)],'streamId':_0x1c46a4,'nodeId':this['remoteId'],'stats':_0x21e610},this[_0x3c12a2(0x73b)]);}),this[_0x6a746a(0x73b)][_0x6a746a(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x6a746a(0x32c)],'content':{'type':_0xf557df['Stats'],'nodeId':this[_0x6a746a(0x582)],'stats':{'origin':_0x56f542[_0x6a746a(0xa24)],'timestamp':Date[_0x6a746a(0xa6a)](),'messagesSent':this[_0x6a746a(0x9fe)],'bytesSent':this[_0x6a746a(0x811)],'timeSending':this['timeSending'],'roundTripTime':this[_0x6a746a(0x872)]}}}));}async[_0x3eb455(0x38c)](_0x45858c){const _0x45c129=_0x3eb455;_0x2c9fd4['log'](_0x51c80b[_0x45c129(0x388)],'CrewdleSenderConnection\x20createOffer',this['localNode'][_0x45c129(0x777)](),this[_0x45c129(0x582)]),this[_0x45c129(0x254)](),this[_0x45c129(0x85a)](),this['clearWaitAnswer'](),this['connectionTimeout']=setTimeout(()=>{const _0x56b15f=_0x45c129;this[_0x56b15f(0x7ed)]();},0x7530),this['dataChannel']||(this[_0x45c129(0x9c7)]=this[_0x45c129(0x2fd)][_0x45c129(0x914)](_0x45c129(0x7b8)),this['dataChannel'][_0x45c129(0x820)]=_0x1d31ec,this[_0x45c129(0x9c7)][_0x45c129(0x339)]=()=>{const _0x2127c6=_0x45c129;this[_0x2127c6(0xa57)]=setTimeout(()=>{const _0xea6847=_0x2127c6;delete this[_0xea6847(0xa57)],['connecting',_0xea6847(0x8db)][_0xea6847(0x721)](this[_0xea6847(0x9c7)]?.[_0xea6847(0x9a4)]??'')||this[_0xea6847(0x7ed)]();},0xfa);});const _0x10303a=await this[_0x45c129(0x2fd)]['createOffer'](_0x45858c);this[_0x45c129(0x8ef)]||(this['lastHeartbeat']=Date['now']());const _0x2ae910=(0x0,_0xe630d4['v4'])();this[_0x45c129(0x5cb)]({'type':_0xf557df[_0x45c129(0x678)],'offer':_0x10303a,'version':this['currentVersion'],'connectionType':this['connectionType']},_0x2ae910),this[_0x45c129(0x37e)]===_0x28699e[_0x45c129(0xac1)]&&(this['waitAnswer']=_0x4dd2fb[_0x45c129(0x409)](()=>{const _0x1a46b9=_0x45c129;this[_0x1a46b9(0x5cb)]({'type':_0xf557df[_0x1a46b9(0x678)],'offer':_0x10303a,'version':this[_0x1a46b9(0x1e7)],'connectionType':this[_0x1a46b9(0x37e)]},_0x2ae910);},0x1388));}async[_0x3eb455(0x217)](_0x37a28f,_0x252656){const _0x33a271=_0x3eb455;if(_0x252656===this[_0x33a271(0x1e7)]){this[_0x33a271(0x6c3)]();try{await this['connection'][_0x33a271(0x217)](_0x37a28f,this['createOffer'][_0x33a271(0x64d)](this)),this['processPendingHandshakeCandidates'](),this['clearConnectionTimeout'](),this[_0x33a271(0x22c)]();}catch(_0x5a3633){this[_0x33a271(0x7ed)]();}}}['send'](_0x432030){const _0x50aada=_0x3eb455;if(!this[_0x50aada(0x9c7)])throw new _0x157cd9(_0x157cd9[_0x50aada(0x6cc)][_0x50aada(0x669)],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x50aada(0x45e)][_0x50aada(0x777)](),'remoteId':this[_0x50aada(0x582)],'eventMessage':_0x432030});if(_0x50aada(0x8db)!==this[_0x50aada(0x9c7)][_0x50aada(0x9a4)])throw new _0x157cd9(_0x157cd9[_0x50aada(0x6cc)][_0x50aada(0x669)],{'message':_0x50aada(0x7be),'localId':this['localNode'][_0x50aada(0x777)](),'remoteId':this['remoteId'],'eventMessage':_0x432030});let _0x1a16e2;if(_0x432030[_0x50aada(0x211)][_0x50aada(0x7b8)]instanceof ArrayBuffer){const _0x1e8d9b=_0x432030[_0x50aada(0x211)][_0x50aada(0x7b8)];_0x432030={..._0x432030,'content':{..._0x432030[_0x50aada(0x211)],'data':void 0x0}},_0x1a16e2=this[_0x50aada(0x580)](_0x432030,_0x1e8d9b);}else _0x1a16e2=JSON[_0x50aada(0x845)](_0x432030);if(_0x50aada(0x77a)==typeof _0x1a16e2&&_0x1a16e2['length']>_0x1dad9d)return this[_0x50aada(0x5eb)](_0x432030,_0x1a16e2);0x0===_0x432030[_0x50aada(0xa46)]&&_0x432030[_0x50aada(0x4e7)]===_0x3ef5e5[_0x50aada(0x7dc)]&&this[_0x50aada(0x364)]['logger'][_0x50aada(0x3ba)](()=>_0x2c9fd4['log'](_0x51c80b[_0x50aada(0x6d1)],_0x50aada(0x839),this['remoteId'],_0x185aae(_0x432030)),void 0x0);const _0x2b76ee=0x0===_0x432030['topicLabel']&&[_0x3ef5e5[_0x50aada(0x4bc)],_0x3ef5e5[_0x50aada(0x32c)]][_0x50aada(0x721)](_0x432030[_0x50aada(0x4e7)])?_0x47142e[_0x50aada(0x497)]:_0x432030 instanceof ArrayBuffer?_0x47142e[_0x50aada(0x9ad)]:_0x47142e['Medium'];this[_0x50aada(0x692)](_0x1a16e2,_0x2b76ee);}[_0x3eb455(0x90a)](_0x5a1969,_0x13c1b3,_0x572c31,_0x7ff52f){const _0x1a414d=_0x3eb455,_0x5e8029=(_0x52f75b=this['maxFps'],_0x1146b8=this[_0x1a414d(0x60a)],Math[_0x1a414d(0x504)](0xe1000*_0x52f75b*_0x1146b8));var _0x52f75b,_0x1146b8;const _0x273cc1=this[_0x1a414d(0x677)][_0x1a414d(0x1d7)](_0x13c1b3['id'])||{'stream':_0x13c1b3,'priority':_0x572c31,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x5e8029,'maxBitrate':_0x5e8029,'framerate':this[_0x1a414d(0x8d4)],'maxFramerate':this[_0x1a414d(0x8d4)],'tracks':{},'params':_0x7ff52f},_0x38e4a2=_0x273cc1[_0x1a414d(0x8fa)][_0x5a1969['kind']]||{'track':_0x5a1969};if(_0x38e4a2['sender']?(_0x38e4a2[_0x1a414d(0x296)]=_0x5a1969,this[_0x1a414d(0x2fd)][_0x1a414d(0x42f)](_0x5a1969,_0x38e4a2[_0x1a414d(0x846)])):_0x38e4a2[_0x1a414d(0x846)]=this[_0x1a414d(0x2fd)][_0x1a414d(0x90a)](_0x5a1969,_0x13c1b3),_0x273cc1['tracks'][_0x5a1969[_0x1a414d(0x2bc)]]=_0x38e4a2,_0x7ff52f&&(_0x273cc1['params']=_0x7ff52f),_0x7ff52f&&_0x1a414d(0x2e1)===_0x7ff52f[_0x1a414d(0x2bc)]&&_0x7ff52f['resolution']&&_0x7ff52f['maxResolution']&&(_0x273cc1[_0x1a414d(0xa19)]=this[_0x1a414d(0x8e2)](_0x7ff52f['resolution'],_0x7ff52f[_0x1a414d(0x3db)]),_0x273cc1[_0x1a414d(0x98f)]=_0x273cc1['resolutionScale'],_0x273cc1[_0x1a414d(0x8fa)][_0x1a414d(0x2e1)]&&_0x273cc1['tracks'][_0x1a414d(0x2e1)][_0x1a414d(0x846)])){const _0x10afee=_0x273cc1[_0x1a414d(0x8fa)][_0x1a414d(0x2e1)][_0x1a414d(0x846)];this[_0x1a414d(0x2fd)][_0x1a414d(0x391)](_0x10afee,Math[_0x1a414d(0x504)](0xa*_0x273cc1['resolutionScale'])/0xa,_0x273cc1[_0x1a414d(0xaae)],_0x273cc1[_0x1a414d(0x46e)],_0x273cc1[_0x1a414d(0x618)]);}this[_0x1a414d(0x677)][_0x1a414d(0x90d)](_0x13c1b3['id'],_0x273cc1);}[_0x3eb455(0x6bc)](_0x17d9a5,_0x25a4ae){const _0x3400d1=_0x3eb455,_0x376a37=this[_0x3400d1(0x677)][_0x3400d1(0x1d7)](_0x17d9a5['id']);if(_0x376a37&&_0x376a37[_0x3400d1(0x618)]!==_0x25a4ae&&(_0x376a37[_0x3400d1(0x618)]=_0x25a4ae,_0x376a37[_0x3400d1(0x8fa)][_0x3400d1(0x2e1)]&&_0x376a37[_0x3400d1(0x8fa)][_0x3400d1(0x2e1)]['sender'])){const _0x1da7b5=_0x376a37[_0x3400d1(0x8fa)][_0x3400d1(0x2e1)][_0x3400d1(0x846)];this[_0x3400d1(0x2fd)][_0x3400d1(0x391)](_0x1da7b5,Math[_0x3400d1(0x504)](0xa*_0x376a37[_0x3400d1(0xa19)])/0xa,_0x376a37['framerate'],_0x376a37[_0x3400d1(0x46e)],_0x376a37[_0x3400d1(0x618)]);}}[_0x3eb455(0x9fa)](_0x4395b0,_0x578353){const _0x411ec5=_0x3eb455,_0x29b35e=this[_0x411ec5(0x677)][_0x411ec5(0x1d7)](_0x4395b0['id']);if(_0x29b35e){if(_0x29b35e['params']=_0x578353,_0x578353&&'video'===_0x578353['kind']&&_0x578353['resolution']&&_0x578353[_0x411ec5(0x3db)]){if(_0x29b35e[_0x411ec5(0x98f)]=this[_0x411ec5(0x8e2)](_0x578353[_0x411ec5(0x4c2)],_0x578353[_0x411ec5(0x3db)]),_0x29b35e[_0x411ec5(0xa19)]<_0x29b35e[_0x411ec5(0x98f)]&&(_0x29b35e[_0x411ec5(0xa19)]=_0x29b35e[_0x411ec5(0x98f)]),_0x29b35e[_0x411ec5(0x8fa)][_0x411ec5(0x2e1)]&&_0x29b35e['tracks']['video'][_0x411ec5(0x846)]){const _0x3aa6f8=_0x29b35e['tracks'][_0x411ec5(0x2e1)][_0x411ec5(0x846)];this['connection'][_0x411ec5(0x391)](_0x3aa6f8,Math[_0x411ec5(0x504)](0xa*_0x29b35e[_0x411ec5(0xa19)])/0xa,_0x29b35e[_0x411ec5(0xaae)],_0x29b35e[_0x411ec5(0x46e)],_0x29b35e[_0x411ec5(0x618)]);}this[_0x411ec5(0x644)](),this[_0x411ec5(0x909)]();}this[_0x411ec5(0x677)][_0x411ec5(0x90d)](_0x4395b0['id'],_0x29b35e);}}[_0x3eb455(0x8b0)](_0x241b37,_0x387cf5){const _0x39aa56=_0x3eb455,_0xe53790=this[_0x39aa56(0x677)][_0x39aa56(0x1d7)](_0x387cf5['id']);if(_0xe53790){const _0x534050=_0xe53790['tracks'][_0x241b37['kind']];_0x534050&&(_0x534050[_0x39aa56(0x846)]&&this['connection'][_0x39aa56(0x8b0)](_0x534050[_0x39aa56(0x846)]),_0x534050[_0x39aa56(0x296)]=void 0x0);}}[_0x3eb455(0x521)](_0x4232f3){const _0x17282a=_0x3eb455;this['clearUpgradeTimeout']();const _0x46a81d=function(_0x5c737c,_0x515032){const _0x5c863c=a0_0x12d8;return _0x5c737c['sort']((_0x5475af,_0x10c466)=>_0x515032['action']===_0x3d049a[_0x5c863c(0x6de)]?_0x10c466[_0x5c863c(0x618)]-_0x5475af[_0x5c863c(0x618)]:_0x5475af['priority']-_0x10c466[_0x5c863c(0x618)])['find'](_0xbb2cd0=>function(_0x4cb6a8,_0xe9738a){const _0x595ca0=_0x5c863c;if(_0xe9738a[_0x595ca0(0x6f7)]===_0x3d049a[_0x595ca0(0x6de)]){if(_0xe9738a[_0x595ca0(0xa94)]===_0x2fd39d[_0x595ca0(0x518)])return _0x4cb6a8[_0x595ca0(0xa19)]<0x4||_0x4cb6a8['maxFramerate']>0xf;if(_0xe9738a[_0x595ca0(0xa94)]===_0x2fd39d['Bitrate'])return _0x4cb6a8[_0x595ca0(0xa8a)]>_0x402fc5;}return _0x4cb6a8['resolutionScale']>_0x4cb6a8[_0x595ca0(0x98f)]||_0x4cb6a8[_0x595ca0(0xaae)]<_0x4cb6a8[_0x595ca0(0xabf)]||_0x4cb6a8[_0x595ca0(0x46e)]<_0x4cb6a8[_0x595ca0(0xa8a)];}(_0xbb2cd0,_0x515032));}(Array['from'](this[_0x17282a(0x677)][_0x17282a(0x565)]()),_0x4232f3);if(_0x46a81d&&(function(_0x311a2c,_0x582475){const _0x3b0262=_0x17282a;_0x311a2c[_0x3b0262(0x8fa)][_0x3b0262(0x2e1)]&&_0x311a2c['tracks'][_0x3b0262(0x2e1)][_0x3b0262(0x846)]&&(_0x311a2c[_0x3b0262(0xa19)]=function(_0x3961a7,_0x833029,_0x5cbb71){const _0x5a8ae7=_0x3b0262;switch(_0x5cbb71[_0x5a8ae7(0x6f7)]){case _0x3d049a[_0x5a8ae7(0x6de)]:_0x5cbb71[_0x5a8ae7(0xa94)]===_0x2fd39d['Resolution']&&(_0x3961a7+=0.5)>0x4&&(_0x3961a7=0x4);break;case _0x3d049a[_0x5a8ae7(0x769)]:(_0x3961a7-=0.5)<_0x833029&&(_0x3961a7=_0x833029);}return _0x3961a7;}(_0x311a2c[_0x3b0262(0xa19)],_0x311a2c[_0x3b0262(0x98f)],_0x582475),_0x311a2c[_0x3b0262(0xaae)]=function(_0x2c9a37,_0x406c29,_0xbd2455){const _0x24dd9b=_0x3b0262;switch(_0xbd2455[_0x24dd9b(0x6f7)]){case _0x3d049a[_0x24dd9b(0x6de)]:_0xbd2455[_0x24dd9b(0xa94)]===_0x2fd39d[_0x24dd9b(0x518)]&&(_0x2c9a37-=0x3)<0xf&&(_0x2c9a37=0xf);break;case _0x3d049a[_0x24dd9b(0x769)]:(_0x2c9a37+=0x3)>_0x406c29&&(_0x2c9a37=_0x406c29);}return _0x2c9a37;}(_0x311a2c[_0x3b0262(0xaae)],_0x311a2c[_0x3b0262(0xabf)],_0x582475),_0x311a2c['bitrate']=function(_0x4b5fdc,_0x1949cd,_0x3bbe18){const _0x4b9d83=_0x3b0262;switch(_0x3bbe18['action']){case _0x3d049a[_0x4b9d83(0x6de)]:_0x3bbe18[_0x4b9d83(0xa94)]===_0x2fd39d[_0x4b9d83(0x9d1)]&&(_0x4b5fdc*=0.75)<_0x402fc5&&(_0x4b5fdc=_0x402fc5);break;case _0x3d049a[_0x4b9d83(0x769)]:(_0x4b5fdc*=1.25)>_0x1949cd&&(_0x4b5fdc=_0x1949cd);}return _0x4b5fdc;}(_0x311a2c[_0x3b0262(0x46e)],_0x311a2c[_0x3b0262(0xa8a)],_0x582475));}(_0x46a81d,_0x4232f3),_0x46a81d['tracks'][_0x17282a(0x2e1)]&&_0x46a81d[_0x17282a(0x8fa)][_0x17282a(0x2e1)][_0x17282a(0x846)])){const _0x3d4299=_0x46a81d[_0x17282a(0x8fa)][_0x17282a(0x2e1)][_0x17282a(0x846)];this[_0x17282a(0x2fd)][_0x17282a(0x391)](_0x3d4299,Math[_0x17282a(0x504)](0xa*_0x46a81d[_0x17282a(0xa19)])/0xa,_0x46a81d[_0x17282a(0xaae)],_0x46a81d[_0x17282a(0x46e)],_0x46a81d[_0x17282a(0x618)]);}(_0x46a81d||_0x4232f3[_0x17282a(0x6f7)]===_0x3d049a[_0x17282a(0x6de)])&&this['setUpgradeTimeout']();}[_0x3eb455(0x55c)](){const _0x3ccbcd=_0x3eb455;return this['retryQueue'][_0x3ccbcd(0x410)]['reduce']((_0x2df462,_0x1f6182)=>_0x2df462+_0x1f6182[_0x3ccbcd(0xa95)],0x0)*_0x188a1d;}[_0x3eb455(0x4ba)](){const _0x39fc05=_0x3eb455;return this[_0x39fc05(0x9c7)]?.[_0x39fc05(0xa82)]??0x0;}[_0x3eb455(0x3d5)](){const _0xaf879e=_0x3eb455;super[_0xaf879e(0x3d5)](),this[_0xaf879e(0x3f7)](),this[_0xaf879e(0x6c3)](),this['senders']['forEach'](_0x339e51=>{const _0x9bef95=_0xaf879e;_0x339e51[_0x9bef95(0x8fa)][_0x9bef95(0x2e1)]&&(_0x339e51['tracks']['video'][_0x9bef95(0x846)]=void 0x0),_0x339e51['tracks'][_0x9bef95(0x66c)]&&(_0x339e51[_0x9bef95(0x8fa)][_0x9bef95(0x66c)]['sender']=void 0x0);}),this[_0xaf879e(0x239)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x5e7175=>{const _0x441e90=a0_0x12d8;if(!this[_0x441e90(0x9c7)]||_0x441e90(0x8db)!==this['dataChannel'][_0x441e90(0x9a4)])return await _0x4dd2fb[_0x441e90(0x5a7)](0x64),void _0x5e7175();this[_0x441e90(0x9c7)][_0x441e90(0xa82)]<_0x1d31ec?_0x5e7175():this[_0x441e90(0x9c7)]['onBufferedAmountLow']=()=>{const _0x54edca=_0x441e90;this[_0x54edca(0x9c7)]&&(this['dataChannel'][_0x54edca(0x285)]=null),_0x5e7175();};});}[_0x3eb455(0x5eb)](_0x2a1488,_0x390474){const _0x3df2d6=_0x3eb455,_0x1b477a=[];for(let _0x4889d8=0x0;_0x4889d8<_0x390474[_0x3df2d6(0x3ed)];_0x4889d8+=_0x1dad9d)_0x1b477a[_0x3df2d6(0x69a)](_0x390474['slice'](_0x4889d8,_0x4889d8+_0x1dad9d));for(const _0x2e9936 of _0x1b477a)this[_0x3df2d6(0x692)](_0x2939db+';'+_0x2a1488[_0x3df2d6(0x451)]+';'+_0x1b477a['indexOf'](_0x2e9936)+';'+_0x1b477a[_0x3df2d6(0x3ed)]+';'+_0x2e9936,_0x47142e[_0x3df2d6(0x9ad)]);}async[_0x3eb455(0x692)](_0x35fe65,_0x2246be){const _0xd8ea13=_0x3eb455;_0x35fe65===_0x1ee5e6?this['retryQueue'][_0xd8ea13(0x410)][_0x2246be][_0xd8ea13(0x8cc)]?.[_0xd8ea13(0x625)]!==_0x1ee5e6&&this[_0xd8ea13(0x984)][_0xd8ea13(0x410)][_0x2246be][_0xd8ea13(0x652)](_0x35fe65):this[_0xd8ea13(0x984)]['queues'][_0x2246be][_0xd8ea13(0x69a)](_0x35fe65);}[_0x3eb455(0x69b)](_0x2b810d){const _0x3866ef=_0x3eb455;if(!this[_0x3866ef(0x9c7)]||_0x3866ef(0x8db)!==this[_0x3866ef(0x9c7)][_0x3866ef(0x9a4)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this[_0x3866ef(0x9c7)][_0x3866ef(0xa82)]>=0xbe8000)throw new Error(_0x3866ef(0x5e6));const _0x2181dc=Date['now']();_0x2b810d!==_0x1ee5e6&&(this[_0x3866ef(0x9fe)]+=0x1,this[_0x3866ef(0x811)]+=_0x2b810d instanceof ArrayBuffer?_0x2b810d['byteLength']:_0x2b810d['length']),ArrayBuffer,this[_0x3866ef(0x9c7)]['send'](_0x2b810d),this[_0x3866ef(0xa3c)]+=Date[_0x3866ef(0xa6a)]()-_0x2181dc;}[_0x3eb455(0x22c)](){const _0xedd214=_0x3eb455;this[_0xedd214(0x64c)]&&this[_0xedd214(0x956)]();let _0x58aeb8=!0x0,_0x2914e4=Date['now']();this[_0xedd214(0x8ef)]=Date[_0xedd214(0xa6a)](),this['dataChannel']['onMessage']=_0x328e36=>{const _0x331b4f=_0xedd214;'1'===_0x328e36['data']&&(this[_0x331b4f(0x872)]=Date['now']()-_0x2914e4,_0x58aeb8&&this[_0x331b4f(0x5cb)]({'type':_0xf557df[_0x331b4f(0x70f)]}),_0x58aeb8=!0x1,this[_0x331b4f(0x8ef)]=Date[_0x331b4f(0xa6a)](),this[_0x331b4f(0x239)]&&(this['isReconnecting']=!0x1,this['handleMissingSenders']()));},this['heartbeatUnsubscriber']=_0x4dd2fb[_0xedd214(0x409)](()=>{const _0x12cdff=_0xedd214;_0x2914e4=Date['now'](),this[_0x12cdff(0x692)](_0x1ee5e6,_0x47142e['High']),Date['now']()-this[_0x12cdff(0x8ef)]>(_0x58aeb8?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x3eb455(0x92d)](){const _0x26062f=_0x3eb455;this['senders'][_0x26062f(0x9d2)](_0x32b612=>{const _0x2769cf=_0x26062f;_0x32b612[_0x2769cf(0x8fa)][_0x2769cf(0x2e1)]&&_0x32b612[_0x2769cf(0x8fa)][_0x2769cf(0x2e1)][_0x2769cf(0x296)]&&!_0x32b612['tracks'][_0x2769cf(0x2e1)][_0x2769cf(0x846)]&&(_0x32b612[_0x2769cf(0x8fa)][_0x2769cf(0x2e1)][_0x2769cf(0x846)]=this['connection'][_0x2769cf(0x90a)](_0x32b612[_0x2769cf(0x8fa)][_0x2769cf(0x2e1)][_0x2769cf(0x296)],_0x32b612[_0x2769cf(0x2c0)])),_0x32b612[_0x2769cf(0x8fa)][_0x2769cf(0x66c)]&&_0x32b612[_0x2769cf(0x8fa)][_0x2769cf(0x66c)][_0x2769cf(0x296)]&&!_0x32b612[_0x2769cf(0x8fa)][_0x2769cf(0x66c)]['sender']&&(_0x32b612[_0x2769cf(0x8fa)][_0x2769cf(0x66c)]['sender']=this['connection']['addTrack'](_0x32b612[_0x2769cf(0x8fa)][_0x2769cf(0x66c)][_0x2769cf(0x296)],_0x32b612[_0x2769cf(0x2c0)]));});}['sendIceCandidates'](){const _0x1cdeb8=_0x3eb455;this[_0x1cdeb8(0x5cb)]({'type':_0xf557df[_0x1cdeb8(0x9e6)],'candidates':this[_0x1cdeb8(0x902)],'origin':_0x56f542['Sender'],'version':this['currentVersion'],'connectionType':this[_0x1cdeb8(0x37e)]});}[_0x3eb455(0x964)](){const _0x23369f=_0x3eb455;super[_0x23369f(0x964)](),this[_0x23369f(0x2fd)][_0x23369f(0x9b5)]=()=>{const _0x2903bc=_0x23369f;if(_0x2903bc(0x53b)===this[_0x2903bc(0x2fd)][_0x2903bc(0xa05)]){_0x2c9fd4['log'](_0x51c80b[_0x2903bc(0x682)],_0x2903bc(0x6eb),this[_0x2903bc(0x45e)][_0x2903bc(0x777)](),this[_0x2903bc(0x582)]);try{if(this[_0x2903bc(0x2fd)][_0x2903bc(0x1ba)])return void this[_0x2903bc(0x2fd)][_0x2903bc(0x7b1)]();}catch(_0x230a3f){}this[_0x2903bc(0x38c)]({'handshakeRestart':!0x0});}},this['connection']['onConnectionStateChange']=()=>{const _0x3cc571=_0x23369f;_0x3cc571(0x26d)!==this['connection'][_0x3cc571(0x583)]&&_0x3cc571(0x53b)!==this[_0x3cc571(0x2fd)][_0x3cc571(0x583)]||this[_0x3cc571(0x7ed)]();};}[_0x3eb455(0x7ed)](){const _0x2c0397=_0x3eb455;this['clearHeartbeat'](),this[_0x2c0397(0x254)](),this[_0x2c0397(0x85a)](),_0x2c9fd4[_0x2c0397(0x772)](_0x2c0397(0xadb),{'clusterId':this[_0x2c0397(0x9ac)],'nodeId':this['localNode'][_0x2c0397(0x777)](),'nodeType':this['localNode'][_0x2c0397(0x6d8)],'remoteId':this[_0x2c0397(0x582)],'data':{'connectionType':this[_0x2c0397(0x37e)],'connectionState':this[_0x2c0397(0x2fd)][_0x2c0397(0x583)],'iceConnectionState':this['connection']['handshakeState'],'signalingState':this[_0x2c0397(0x2fd)][_0x2c0397(0x599)],'readyState':this[_0x2c0397(0x9c7)]?.['state']||'','lastHeartbeat':this[_0x2c0397(0x8ef)]?Date[_0x2c0397(0xa6a)]()-this[_0x2c0397(0x8ef)]:'','retryQueue':this[_0x2c0397(0x984)]}}),(this[_0x2c0397(0x8ef)]&&Date['now']()-this['lastHeartbeat']>0xea60)??0x1?this['systemTopic'][_0x2c0397(0x5bf)]({'sourceId':this[_0x2c0397(0x582)],'destinationIds':[this['localNode']['getId']()],'messageType':_0x3ef5e5['PeerConnection'],'content':{'type':_0xf557df[_0x2c0397(0x760)]}}):(this[_0x2c0397(0x3d5)](),this['publishSystemMessage']({'type':_0xf557df[_0x2c0397(0x74b)],'version':this[_0x2c0397(0x1e7)],'connectionType':this[_0x2c0397(0x37e)]}),this[_0x2c0397(0x90f)]=setTimeout(()=>{const _0xe0bfa8=_0x2c0397;this[_0xe0bfa8(0x7ed)]();},0x7530));}[_0x3eb455(0x956)](){const _0x3c1387=_0x3eb455;this[_0x3c1387(0x64c)]?.(),delete this[_0x3c1387(0x64c)];}[_0x3eb455(0x85a)](){const _0x41939f=_0x3eb455;this['connectionTimeout']&&(clearTimeout(this[_0x41939f(0x44b)]),delete this[_0x41939f(0x44b)]);}[_0x3eb455(0x254)](){const _0x254e28=_0x3eb455;this[_0x254e28(0x90f)]&&(clearTimeout(this[_0x254e28(0x90f)]),delete this['restartTimeout']);}[_0x3eb455(0x644)](){const _0x4146fd=_0x3eb455;this[_0x4146fd(0x731)]&&(clearTimeout(this[_0x4146fd(0x731)]),delete this[_0x4146fd(0x731)]);}[_0x3eb455(0x909)](){const _0x79aea5=_0x3eb455;this[_0x79aea5(0x731)]=setTimeout(()=>{const _0x1b468d=_0x79aea5;this['applyRemediation']({'type':_0x25e25e['Remediation'],'action':_0x3d049a[_0x1b468d(0x769)]});},0x3a98);}[_0x3eb455(0x8e2)](_0x3bf805,_0x1b3986){const _0x2a3e25=_0x3eb455,_0x578fe8=Math[_0x2a3e25(0x7c6)](_0x3bf805[_0x2a3e25(0x33f)]/_0x1b3986['width'],_0x3bf805[_0x2a3e25(0x572)]/_0x1b3986['height']);return Math[_0x2a3e25(0x830)](Math[_0x2a3e25(0x7c6)](_0x578fe8,0x1),0x4);}[_0x3eb455(0x6c3)](){const _0x80aee8=_0x3eb455;this[_0x80aee8(0x3a5)]?.(),delete this[_0x80aee8(0x3a5)];}['clearOncloseTimeout'](){const _0x11b81c=_0x3eb455;this['oncloseTimeout']&&(clearTimeout(this[_0x11b81c(0xa57)]),delete this['oncloseTimeout']);}[_0x3eb455(0x8a5)](_0x157e67){const _0x59edce=_0x3eb455,_0x5f88a4=JSON['stringify'](_0x157e67);return new TextEncoder()[_0x59edce(0x82f)](_0x5f88a4)[_0x59edce(0x226)];}[_0x3eb455(0x580)](_0x4c1ead,_0x433503){const _0x3027b4=_0x3eb455,_0x5dafeb=this[_0x3027b4(0x8a5)](_0x4c1ead),_0x2993d7=new Uint8Array(0x4),_0x50fa10=new Uint8Array(_0x5dafeb),_0x49faae=new Uint8Array(_0x433503);_0x2993d7[_0x3027b4(0x90d)](new Uint8Array(new Uint32Array([_0x50fa10['length']])[_0x3027b4(0x226)]));const _0x2e037b=new Uint8Array(0x4+_0x50fa10['length']+_0x49faae['length']);return _0x2e037b[_0x3027b4(0x90d)](_0x2993d7),_0x2e037b[_0x3027b4(0x90d)](_0x50fa10,0x4),_0x2e037b['set'](_0x49faae,0x4+_0x50fa10[_0x3027b4(0x3ed)]),_0x2e037b[_0x3027b4(0x226)];}}class _0x1e87e3 extends _0x24f061{['iceServers'];[_0x3eb455(0x37e)];[_0x3eb455(0x8d4)];[_0x3eb455(0x60a)];['connectionConstructor'];[_0x3eb455(0x50e)];[_0x3eb455(0x7b0)];[_0x3eb455(0x30f)]=[];['messageListeners']=_0x2bf9b6();['trackListeners']=_0x2bf9b6();[_0x3eb455(0x7f2)]=_0x2bf9b6();[_0x3eb455(0x88e)]=[];['systemTopic'];[_0x3eb455(0x33b)]=new Map();[_0x3eb455(0x2ee)]=new Map();[_0x3eb455(0x264)]=new Map();['mediaUnsubscribers']=new Map();[_0x3eb455(0x46b)]=!0x1;constructor(_0x1e645d,_0x51a81b,_0x16210c,_0x558257,_0x577a5c,_0x7b1b30,_0x1f6903,_0x58bddc){const _0x5206ac=_0x3eb455;super(_0x1e645d,_0x51a81b,_0x16210c),this[_0x5206ac(0x2c6)]=_0x558257,this[_0x5206ac(0x37e)]=_0x577a5c,this[_0x5206ac(0x8d4)]=_0x7b1b30,this[_0x5206ac(0x60a)]=_0x1f6903,this[_0x5206ac(0x9b3)]=_0x58bddc;}[_0x3eb455(0x5f1)](_0x715f13){const _0xfdb608=_0x3eb455;switch(_0x715f13[_0xfdb608(0x41e)]()){case _0x4d2150[_0xfdb608(0x9a5)][_0xfdb608(0x946)]:case _0x4d2150[_0xfdb608(0x9a5)][_0xfdb608(0x23d)]:case _0x4d2150[_0xfdb608(0x9a5)][_0xfdb608(0xa98)]:case _0x4d2150[_0xfdb608(0x9a5)][_0xfdb608(0x77e)]:case _0x4d2150[_0xfdb608(0x9a5)][_0xfdb608(0xa92)]:case _0x4d2150['ContentType'][_0xfdb608(0x73f)]:case _0x4d2150['ContentType'][_0xfdb608(0x1b6)]:case _0x4d2150[_0xfdb608(0x9a5)][_0xfdb608(0x6be)]:this[_0xfdb608(0x33b)][_0xfdb608(0x90d)](_0x715f13[_0xfdb608(0x8d5)](),_0x715f13);break;case _0x4d2150[_0xfdb608(0x9a5)][_0xfdb608(0x386)]:this[_0xfdb608(0x264)][_0xfdb608(0x90d)](_0x715f13['getLabel'](),_0x715f13);}}[_0x3eb455(0x978)](_0x4be96){const _0xcd5846=_0x3eb455;switch(_0x4be96['getContentType']()){case _0x4d2150['ContentType']['Data']:case _0x4d2150[_0xcd5846(0x9a5)][_0xcd5846(0x23d)]:case _0x4d2150['ContentType'][_0xcd5846(0xa98)]:case _0x4d2150[_0xcd5846(0x9a5)]['KeyValueDatabase']:case _0x4d2150[_0xcd5846(0x9a5)]['Job']:case _0x4d2150[_0xcd5846(0x9a5)][_0xcd5846(0x73f)]:case _0x4d2150[_0xcd5846(0x9a5)][_0xcd5846(0x1b6)]:case _0x4d2150[_0xcd5846(0x9a5)][_0xcd5846(0x6be)]:this[_0xcd5846(0x33b)][_0xcd5846(0xaa3)](_0x4be96[_0xcd5846(0x8d5)]());break;case _0x4d2150[_0xcd5846(0x9a5)][_0xcd5846(0x386)]:this[_0xcd5846(0x264)][_0xcd5846(0xaa3)](_0x4be96['getLabel']());}}['registerSubscriber'](_0x540c25){const _0x31c5b5=_0x3eb455;switch(_0x540c25[_0x31c5b5(0x41e)]()){case _0x4d2150[_0x31c5b5(0x9a5)]['Data']:case _0x4d2150[_0x31c5b5(0x9a5)][_0x31c5b5(0x23d)]:case _0x4d2150[_0x31c5b5(0x9a5)]['ObjectStore']:case _0x4d2150[_0x31c5b5(0x9a5)]['KeyValueDatabase']:case _0x4d2150['ContentType'][_0x31c5b5(0xa92)]:case _0x4d2150[_0x31c5b5(0x9a5)][_0x31c5b5(0x73f)]:case _0x4d2150[_0x31c5b5(0x9a5)][_0x31c5b5(0x1b6)]:case _0x4d2150['ContentType'][_0x31c5b5(0x6be)]:{const _0x496910=_0x540c25[_0x31c5b5(0x79f)](_0x1f11b3=>{const _0x1bb2e4=_0x31c5b5;_0x760ca0(_0x1f11b3,this[_0x1bb2e4(0x99c)]())&&_0x20da15(_0x1f11b3,this[_0x1bb2e4(0x582)])&&this[_0x1bb2e4(0x307)](_0x1f11b3);});this[_0x31c5b5(0x2ee)]['set'](_0x540c25[_0x31c5b5(0x8d5)](),_0x496910);break;}case _0x4d2150[_0x31c5b5(0x9a5)][_0x31c5b5(0x386)]:{const _0x5bd757=_0x540c25[_0x31c5b5(0x79f)](({content:_0x4c526d})=>{const _0x41d8d9=_0x31c5b5;switch(_0x4c526d[_0x41d8d9(0x6f7)]){case _0x18ab1b[_0x41d8d9(0x3f3)]:this[_0x41d8d9(0x90a)](_0x4c526d[_0x41d8d9(0x296)],_0x4c526d[_0x41d8d9(0x2c0)],_0x4c526d[_0x41d8d9(0x618)],_0x4c526d[_0x41d8d9(0x944)]);break;case _0x18ab1b[_0x41d8d9(0x9db)]:this['removeTrack'](_0x4c526d['track'],_0x4c526d[_0x41d8d9(0x2c0)]);break;case _0x18ab1b[_0x41d8d9(0xa33)]:_0x4c526d[_0x41d8d9(0x618)]&&this[_0x41d8d9(0x6bc)](_0x4c526d[_0x41d8d9(0x2c0)],_0x4c526d[_0x41d8d9(0x618)]),_0x4c526d[_0x41d8d9(0x944)]&&this[_0x41d8d9(0x9fa)](_0x4c526d[_0x41d8d9(0x2c0)],_0x4c526d[_0x41d8d9(0x944)]);}});this[_0x31c5b5(0x6d7)][_0x31c5b5(0x90d)](_0x540c25[_0x31c5b5(0x8d5)](),_0x5bd757);break;}}}['unregisterSubscriber'](_0x1e2ba7){const _0x306610=_0x3eb455;switch(_0x1e2ba7[_0x306610(0x41e)]()){case _0x4d2150[_0x306610(0x9a5)]['Data']:case _0x4d2150[_0x306610(0x9a5)]['PubSub']:case _0x4d2150[_0x306610(0x9a5)][_0x306610(0xa98)]:case _0x4d2150[_0x306610(0x9a5)][_0x306610(0x77e)]:case _0x4d2150[_0x306610(0x9a5)][_0x306610(0xa92)]:case _0x4d2150[_0x306610(0x9a5)][_0x306610(0x73f)]:case _0x4d2150[_0x306610(0x9a5)][_0x306610(0x1b6)]:case _0x4d2150[_0x306610(0x9a5)][_0x306610(0x6be)]:this[_0x306610(0x2ee)][_0x306610(0x1d7)](_0x1e2ba7[_0x306610(0x8d5)]())?.(),this[_0x306610(0x2ee)][_0x306610(0xaa3)](_0x1e2ba7[_0x306610(0x8d5)]());break;case _0x4d2150[_0x306610(0x9a5)]['Media']:this[_0x306610(0x6d7)][_0x306610(0x1d7)](_0x1e2ba7[_0x306610(0x8d5)]())?.(),this[_0x306610(0x6d7)][_0x306610(0xaa3)](_0x1e2ba7[_0x306610(0x8d5)]());}}[_0x3eb455(0x9e2)](){const _0x3f7540=_0x3eb455;return[_0x4d2150[_0x3f7540(0x9a5)][_0x3f7540(0x946)],_0x4d2150[_0x3f7540(0x9a5)][_0x3f7540(0x386)],_0x4d2150[_0x3f7540(0x9a5)][_0x3f7540(0x23d)],_0x4d2150[_0x3f7540(0x9a5)][_0x3f7540(0xa98)],_0x4d2150['ContentType'][_0x3f7540(0x77e)],_0x4d2150[_0x3f7540(0x9a5)][_0x3f7540(0xa92)],_0x4d2150[_0x3f7540(0x9a5)]['VectorDatabase'],_0x4d2150['ContentType'][_0x3f7540(0x1b6)],_0x4d2150[_0x3f7540(0x9a5)][_0x3f7540(0x6be)]];}[_0x3eb455(0x734)](_0x551cdf){const _0x4d7e3f=_0x3eb455;this[_0x4d7e3f(0x73b)]=_0x551cdf;}[_0x3eb455(0x416)](){delete this['systemTopic'];}async[_0x3eb455(0x319)](){const _0x322f44=_0x3eb455;this[_0x322f44(0x975)](),await this[_0x322f44(0x38c)]();}[_0x3eb455(0x579)](){const _0x475f2b=_0x3eb455;this[_0x475f2b(0x88e)][_0x475f2b(0x9d2)](_0x1cee93=>_0x1cee93()),this[_0x475f2b(0x88e)]=[],this[_0x475f2b(0x50e)]?.[_0x475f2b(0x416)](),this['senderConnection']?.[_0x475f2b(0x579)](),delete this[_0x475f2b(0x50e)],this[_0x475f2b(0x30f)]['forEach'](_0x285b38=>_0x285b38()),this[_0x475f2b(0x30f)]=[],this['receiverConnection']?.[_0x475f2b(0x416)](),this[_0x475f2b(0x7b0)]?.[_0x475f2b(0x579)](),delete this[_0x475f2b(0x7b0)];}['isConnected'](){const _0x12206c=_0x3eb455;return this[_0x12206c(0x50e)]?.['isConnected']()&&this['receiverConnection']?.[_0x12206c(0x218)]()||!0x1;}[_0x3eb455(0x307)](_0x4a0d65){const _0x33b887=_0x3eb455;if(!this[_0x33b887(0x50e)]||!this[_0x33b887(0x218)]())throw new _0x157cd9(_0x157cd9[_0x33b887(0x6cc)]['ConnectionNotinitialized'],{'message':_0x33b887(0x4c5),'senderConnected':this[_0x33b887(0x50e)]?.['isConnected'](),'receiverConnected':this[_0x33b887(0x7b0)]?.[_0x33b887(0x218)](),'localId':this['getLocalId'](),'remoteId':this[_0x33b887(0x582)],'data':_0x4a0d65});this['senderConnection']['send'](_0x4a0d65);}[_0x3eb455(0xa3d)](_0x5af82f){const _0x976b6=_0x3eb455;return this[_0x976b6(0x727)]['subscribe'](_0x5af82f);}[_0x3eb455(0x64f)](_0x5acc24){const _0x38ef66=_0x3eb455;return this[_0x38ef66(0xa07)][_0x38ef66(0x79f)](({track:_0x49316e,stream:_0x4e0f9f})=>_0x5acc24(_0x49316e,_0x4e0f9f));}[_0x3eb455(0x7d2)](_0x5c3650){const _0xdd5e44=_0x3eb455;return this[_0xdd5e44(0x7f2)][_0xdd5e44(0x79f)](({track:_0x1704c3,stream:_0x3b5347})=>_0x5c3650(_0x1704c3,_0x3b5347));}[_0x3eb455(0x90a)](_0x30ef84,_0x3acd00,_0x2989fa,_0x28db24){const _0x26ac33=_0x3eb455;this[_0x26ac33(0x50e)]?.[_0x26ac33(0x90a)](_0x30ef84,_0x3acd00,_0x2989fa,_0x28db24);}[_0x3eb455(0x6bc)](_0x4013c7,_0x3ca2e1){const _0x578d57=_0x3eb455;this[_0x578d57(0x50e)]?.['setPriority'](_0x4013c7,_0x3ca2e1);}['setParams'](_0x4818e5,_0xb536a9){const _0x4987b8=_0x3eb455;this[_0x4987b8(0x50e)]?.['setParams'](_0x4818e5,_0xb536a9);}['removeTrack'](_0x519a2a,_0x8ef06){const _0x348408=_0x3eb455;this[_0x348408(0x50e)]?.[_0x348408(0x8b0)](_0x519a2a,_0x8ef06);}async['handlePeerConnectionSystemEvents'](_0x3f8a5e){const _0x29df24=_0x3eb455;_0x2c9fd4[_0x29df24(0x2f3)](_0x51c80b[_0x29df24(0x388)],_0x29df24(0x7c4),this['getLocalId'](),_0x3f8a5e);const {content:_0x4aada9}=_0x3f8a5e;switch(_0x4aada9[_0x29df24(0x6d8)]){case _0xf557df[_0x29df24(0x678)]:await this[_0x29df24(0x635)](_0x4aada9);break;case _0xf557df['Answer']:await this['handleAnswer'](_0x4aada9);break;case _0xf557df[_0x29df24(0x70f)]:this['handleSuccess']();break;case _0xf557df[_0x29df24(0x9e6)]:await this[_0x29df24(0x376)](_0x4aada9);break;case _0xf557df[_0x29df24(0x74b)]:this[_0x29df24(0xa29)](_0x4aada9);break;case _0xf557df[_0x29df24(0xa50)]:await this['createOffer']();}}[_0x3eb455(0x438)](_0xb28c3b){const _0x5ed2f7=_0x3eb455;this[_0x5ed2f7(0x50e)]?.[_0x5ed2f7(0x521)](_0xb28c3b[_0x5ed2f7(0x211)][_0x5ed2f7(0x7b8)]);}[_0x3eb455(0x31a)](){const _0x3bfe26=_0x3eb455;return this[_0x3bfe26(0x37e)];}[_0x3eb455(0x8e4)](_0x55aa69){const _0x355d3e=_0x3eb455;this[_0x355d3e(0x37e)]=_0x55aa69,this['senderConnection']?.['setConnectionType'](_0x55aa69),this[_0x355d3e(0x7b0)]?.[_0x355d3e(0x8e4)](_0x55aa69);}async['collectStats'](){const _0x13fd2a=_0x3eb455;await this[_0x13fd2a(0x50e)]?.[_0x13fd2a(0x5dc)](),await this[_0x13fd2a(0x7b0)]?.['collectStats']();}[_0x3eb455(0x55c)](){const _0x299815=_0x3eb455;return this[_0x299815(0x50e)]?.[_0x299815(0x55c)]()??0x0;}['getBufferedAmount'](){const _0x37063b=_0x3eb455;return this[_0x37063b(0x50e)]?.[_0x37063b(0x4ba)]()??0x0;}[_0x3eb455(0x975)](){const _0xddcf20=_0x3eb455;this[_0xddcf20(0x88e)]['push'](this[_0xddcf20(0xa3d)](_0x4c88d9=>{const _0x99b13d=_0xddcf20;_0x20da15(_0x4c88d9,this[_0x99b13d(0x99c)]())&&0x0!==_0x4c88d9['topicLabel']&&this['dataTopics'][_0x99b13d(0x1d7)](_0x4c88d9['topicLabel'])?.[_0x99b13d(0x5bf)](_0x4c88d9);})),this[_0xddcf20(0x88e)][_0xddcf20(0x69a)](this[_0xddcf20(0x64f)]((_0x4bcde7,_0x560ce5)=>{const _0x1a6d8d=_0xddcf20,_0x45df54=_0x24a603(_0x4d2150[_0x1a6d8d(0x9a5)][_0x1a6d8d(0x386)],_0x560ce5['id'],this[_0x1a6d8d(0x582)]);this[_0x1a6d8d(0x264)][_0x1a6d8d(0x1d7)](_0x45df54)?.[_0x1a6d8d(0x5bf)]({'topicLabel':_0x45df54,'sourceId':this[_0x1a6d8d(0x582)],'contentType':_0x4d2150['ContentType'][_0x1a6d8d(0x386)],'content':{'action':_0x18ab1b['RemoteAdd'],'track':_0x4bcde7,'stream':_0x560ce5,'providerId':this[_0x1a6d8d(0x582)]}});})),this[_0xddcf20(0x88e)][_0xddcf20(0x69a)](this['onRemoveTrack']((_0x1c8a4f,_0x2fb4fd)=>{const _0xf21924=_0xddcf20,_0x1614e4=_0x24a603(_0x4d2150[_0xf21924(0x9a5)][_0xf21924(0x386)],_0x2fb4fd['id'],this[_0xf21924(0x582)]);this[_0xf21924(0x264)][_0xf21924(0x1d7)](_0x1614e4)?.[_0xf21924(0x5bf)]({'topicLabel':_0x1614e4,'sourceId':this[_0xf21924(0x582)],'contentType':_0x4d2150[_0xf21924(0x9a5)][_0xf21924(0x386)],'content':{'action':_0x18ab1b[_0xf21924(0x952)],'track':_0x1c8a4f,'stream':_0x2fb4fd,'providerId':this[_0xf21924(0x582)]}});}));}[_0x3eb455(0x376)]({candidates:_0x145424,origin:_0x40e3e6,version:_0xb69b54}){const _0x5e4dca=_0x3eb455;return _0x40e3e6===_0x56f542[_0x5e4dca(0xa24)]?(this[_0x5e4dca(0x7b0)]||this[_0x5e4dca(0x954)](),this[_0x5e4dca(0x7b0)][_0x5e4dca(0x9c0)](_0x145424,_0xb69b54)):this[_0x5e4dca(0x50e)]['handleHandshake'](_0x145424,_0xb69b54);}async[_0x3eb455(0x38c)](){const _0x24a043=_0x3eb455;this[_0x24a043(0x50e)]||this[_0x24a043(0xa7c)](),await this[_0x24a043(0x50e)]['createOffer']();}async[_0x3eb455(0x635)]({offer:_0x5a2bc8,version:_0x1d1b88}){const _0x199a16=_0x3eb455;this['receiverConnection']||this[_0x199a16(0x954)](),await this['receiverConnection'][_0x199a16(0x635)](_0x5a2bc8,_0x1d1b88);}async[_0x3eb455(0x217)]({answer:_0x558dbd,version:_0x3b56a6}){const _0x4ef32d=_0x3eb455;if(!this[_0x4ef32d(0x50e)])throw new _0x157cd9(_0x157cd9[_0x4ef32d(0x6cc)][_0x4ef32d(0x62a)],{'message':_0x4ef32d(0x95a),'localId':this['getLocalId'](),'remoteId':this[_0x4ef32d(0x582)],'answer':_0x558dbd});await this[_0x4ef32d(0x50e)]['handleAnswer'](_0x558dbd,_0x3b56a6);}[_0x3eb455(0x516)](){const _0x109b70=_0x3eb455;if(!this[_0x109b70(0x7b0)])throw new _0x157cd9(_0x157cd9[_0x109b70(0x6cc)]['ConnectionNotinitialized'],{'message':_0x109b70(0x8fc),'localId':this[_0x109b70(0x99c)](),'remoteId':this[_0x109b70(0x582)]});this[_0x109b70(0x7b0)]['handleSuccess'](),this['successNotified']||this['connectionType']!==_0x28699e[_0x109b70(0x59d)]||(this[_0x109b70(0x46b)]=!0x0,this[_0x109b70(0x73b)]?.[_0x109b70(0x5bf)]({'sourceId':this[_0x109b70(0x582)],'destinationIds':[this[_0x109b70(0x99c)]()],'messageType':_0x3ef5e5[_0x109b70(0x32c)],'content':{'type':_0xf557df[_0x109b70(0xabc)]}}));}['handleNeedRestart'](_0x18aa0d){const _0x5c481f=_0x3eb455;this['receiverConnection']||this[_0x5c481f(0x954)](),this[_0x5c481f(0x7b0)][_0x5c481f(0xa29)](_0x18aa0d[_0x5c481f(0x7a9)]);}[_0x3eb455(0xa7c)](){const _0x470f08=_0x3eb455;this[_0x470f08(0x50e)]=new _0x4ebd26(this[_0x470f08(0x9ac)],this[_0x470f08(0x45e)],this[_0x470f08(0x582)],this[_0x470f08(0x2c6)],this[_0x470f08(0x37e)],this[_0x470f08(0x8d4)],this[_0x470f08(0x60a)],this[_0x470f08(0x9b3)]),this[_0x470f08(0x50e)][_0x470f08(0x734)](this['systemTopic']);}['createReceiverConnection'](){const _0x130212=_0x3eb455;this['receiverConnection']=new _0x546bfc(this[_0x130212(0x9ac)],this[_0x130212(0x45e)],this[_0x130212(0x582)],this[_0x130212(0x2c6)],this[_0x130212(0x37e)],this[_0x130212(0x9b3)]),this[_0x130212(0x7b0)][_0x130212(0x734)](this[_0x130212(0x73b)]),this[_0x130212(0x30f)]['push'](this[_0x130212(0x7b0)][_0x130212(0xa3d)](_0x320fcc=>this[_0x130212(0x727)][_0x130212(0x5bf)](_0x320fcc))),this[_0x130212(0x30f)]['push'](this[_0x130212(0x7b0)][_0x130212(0x64f)]((_0x393ac1,_0xcdedfa)=>this['trackListeners'][_0x130212(0x5bf)]({'track':_0x393ac1,'stream':_0xcdedfa}))),this[_0x130212(0x30f)][_0x130212(0x69a)](this[_0x130212(0x7b0)][_0x130212(0x7d2)]((_0x531364,_0x42e6bd)=>this[_0x130212(0x7f2)][_0x130212(0x5bf)]({'track':_0x531364,'stream':_0x42e6bd})));}}class _0x4e352c{['localId'];[_0x3eb455(0xa76)];[_0x3eb455(0x9f6)];[_0x3eb455(0x2d9)]=new Map();['messageListeners']=_0x2bf9b6();['messageUnsubscriber'];[_0x3eb455(0x33b)]=new Map();[_0x3eb455(0x2ee)]=new Map();[_0x3eb455(0x2a2)]=new Map();constructor(_0x3cff49,_0x33ecff,_0x1583c9){const _0xa0a0a2=_0x3eb455;this[_0xa0a0a2(0xa39)]=_0x3cff49,this[_0xa0a0a2(0xa76)]=_0x33ecff,this[_0xa0a0a2(0x9f6)]=_0x1583c9,this['messageUnsubscriber']=this[_0xa0a0a2(0xa3d)](_0x11f707=>{const _0x80d90d=_0xa0a0a2;this[_0x80d90d(0xa76)]['hasMessage'](_0x11f707['uuid'])||(_0x20da15(_0x11f707,this['localId'])&&0x0!==_0x11f707[_0x80d90d(0xa46)]&&(this[_0x80d90d(0xa76)][_0x80d90d(0x7db)](_0x11f707[_0x80d90d(0x451)]),this[_0x80d90d(0x33b)]['get'](_0x11f707[_0x80d90d(0xa46)])?.['publish'](_0x11f707)),_0x11f707[_0x80d90d(0x303)]&&this[_0x80d90d(0x307)](_0x11f707));});}[_0x3eb455(0x579)](){const _0x5573d1=_0x3eb455;this[_0x5573d1(0x5c2)]?.();}[_0x3eb455(0x795)](_0x231e28){const _0x4b30e2=_0x3eb455,_0x4ddadb=_0x231e28[_0x4b30e2(0xa3d)](_0x305a40=>{const _0x1a7725=_0x4b30e2;this['messageListeners'][_0x1a7725(0x5bf)](_0x305a40);});this[_0x4b30e2(0x2d9)][_0x4b30e2(0x90d)](_0x231e28,_0x4ddadb),this[_0x4b30e2(0x2a2)][_0x4b30e2(0x90d)](_0x231e28[_0x4b30e2(0x291)](),function(_0x5293c2,_0x177f58=!0x1){let _0x5b49d1=new Map();const _0x1f9b91=_0x25317f(_0x5293c2,_0x177f58,function(_0x5d4be2){const _0x86ca54=a0_0x12d8;_0x501bd3(_0x5d4be2)&&_0x5b49d1['delete'](_0x5d4be2[_0x86ca54(0x947)]+'-'+(_0x5d4be2['destinationIds']??[])+'-'+_0x5d4be2[_0x86ca54(0x4e7)]+'-'+_0x5d4be2['content']['type']);},function(_0x96ef2b){return!!function(_0x31deb4){const _0x5b5e58=a0_0x12d8,_0x2737e8=_0x31deb4[_0x5b5e58(0x625)];if(!_0x501bd3(_0x2737e8))return!0x1;const _0x1365f9=_0x2737e8[_0x5b5e58(0x947)]+'-'+(_0x2737e8[_0x5b5e58(0x9a8)]??[])+'-'+_0x2737e8['messageType']+'-'+_0x2737e8['content'][_0x5b5e58(0x6d8)],_0x3fcbca={'version':_0x2737e8['content'][_0x5b5e58(0x7a9)],'element':_0x31deb4},_0x193e86=_0x5b49d1['get'](_0x1365f9);return _0x193e86?(_0x193e86[_0x5b5e58(0x7a9)]>=_0x2737e8[_0x5b5e58(0x211)][_0x5b5e58(0x7a9)]||(_0x193e86[_0x5b5e58(0x7e2)][_0x5b5e58(0x84c)]&&(_0x193e86['element']['previous'][_0x5b5e58(0x95b)]=_0x31deb4,_0x31deb4['previous']=_0x193e86['element'][_0x5b5e58(0x84c)]),_0x193e86[_0x5b5e58(0x7e2)]['next']&&(_0x193e86[_0x5b5e58(0x7e2)][_0x5b5e58(0x95b)]['previous']=_0x31deb4,_0x31deb4[_0x5b5e58(0x95b)]=_0x193e86[_0x5b5e58(0x7e2)][_0x5b5e58(0x95b)]),_0x193e86['element']===_0x1f9b91[_0x5b5e58(0x8cc)]&&(_0x1f9b91[_0x5b5e58(0x8cc)]=_0x31deb4),_0x193e86['element']===_0x1f9b91['tail']&&(_0x1f9b91['tail']=_0x31deb4),_0x5b49d1[_0x5b5e58(0x90d)](_0x1365f9,_0x3fcbca)),!0x0):(_0x5b49d1[_0x5b5e58(0x90d)](_0x1365f9,_0x3fcbca),!0x1);}(_0x96ef2b);},function(){const _0x5bc899=a0_0x12d8;_0x5b49d1[_0x5bc899(0xa0e)]();});function _0x501bd3(_0x257fa0){const _0x56d90f=a0_0x12d8;if(_0x257fa0&&'object'==typeof _0x257fa0&&_0x257fa0['hasOwnProperty']('content')&&_0x257fa0[_0x56d90f(0x33e)]('messageType')&&_0x257fa0[_0x56d90f(0x33e)](_0x56d90f(0x947))){const _0x23d9e9=_0x257fa0;if(_0x23d9e9[_0x56d90f(0x211)]&&_0x56d90f(0x1d4)==typeof _0x23d9e9[_0x56d90f(0x211)]&&_0x23d9e9[_0x56d90f(0x211)]['hasOwnProperty'](_0x56d90f(0x7a9))&&_0x23d9e9['content'][_0x56d90f(0x33e)](_0x56d90f(0x6d8)))return!0x0;}return!0x1;}return _0x1f9b91;}(new _0x4a76ce(_0x20b4f0=>_0x231e28[_0x4b30e2(0x307)](_0x20b4f0),()=>_0x4dd2fb[_0x4b30e2(0x5a7)](0x64))));}[_0x3eb455(0x7ea)](_0x10e6c3){const _0x5d0523=_0x3eb455;this[_0x5d0523(0x2d9)][_0x5d0523(0x1d7)](_0x10e6c3)?.(),this[_0x5d0523(0x2d9)]['delete'](_0x10e6c3),this[_0x5d0523(0x2a2)]['get'](_0x10e6c3[_0x5d0523(0x291)]())?.['clear'](),this[_0x5d0523(0x2a2)][_0x5d0523(0xaa3)](_0x10e6c3['getRemoteId']());}[_0x3eb455(0x218)](_0x354b62){const _0x544b47=_0x3eb455;return _0x2c9fd4[_0x544b47(0x2f3)](_0x51c80b[_0x544b47(0x682)],'ConnectionGroup',this[_0x544b47(0xa39)],this[_0x544b47(0x2d9)][_0x544b47(0x9c6)]()),0x0!==this[_0x544b47(0x2d9)][_0x544b47(0xa95)]&&(Array[_0x544b47(0x495)](this['connections'][_0x544b47(0x9c6)]())[_0x544b47(0xa41)](_0x173168=>_0x173168['getRemoteId']()===_0x354b62)?.[_0x544b47(0x218)]()??!0x1);}[_0x3eb455(0x5f1)](_0x20b13d){const _0x29f00f=_0x3eb455;this[_0x29f00f(0x33b)][_0x29f00f(0x90d)](_0x20b13d[_0x29f00f(0x8d5)](),_0x20b13d);}[_0x3eb455(0x978)](_0x430083){const _0x4d8894=_0x3eb455;this[_0x4d8894(0x33b)][_0x4d8894(0xaa3)](_0x430083[_0x4d8894(0x8d5)]());}['registerSubscriber'](_0x56732a){const _0x55d20e=_0x3eb455,_0x177185=_0x56732a[_0x55d20e(0x79f)](this[_0x55d20e(0x307)]['bind'](this));this[_0x55d20e(0x2ee)]['set'](_0x56732a[_0x55d20e(0x8d5)](),_0x177185);}['unregisterSubscriber'](_0x2ba221){const _0x5b573b=_0x3eb455;this[_0x5b573b(0x2ee)][_0x5b573b(0x1d7)](_0x2ba221[_0x5b573b(0x8d5)]())?.(),this[_0x5b573b(0x2ee)][_0x5b573b(0xaa3)](_0x2ba221[_0x5b573b(0x8d5)]());}[_0x3eb455(0x9e2)](){const _0x2cdab4=_0x3eb455;return[_0x4d2150[_0x2cdab4(0x9a5)][_0x2cdab4(0x946)],_0x4d2150[_0x2cdab4(0x9a5)][_0x2cdab4(0x23d)],_0x4d2150['ContentType']['ObjectStore'],_0x4d2150[_0x2cdab4(0x9a5)]['KeyValueDatabase'],_0x4d2150['ContentType'][_0x2cdab4(0xa92)],_0x4d2150[_0x2cdab4(0x9a5)][_0x2cdab4(0x73f)],_0x4d2150[_0x2cdab4(0x9a5)][_0x2cdab4(0x1b6)],_0x4d2150[_0x2cdab4(0x9a5)]['ExternalStorage']];}[_0x3eb455(0x307)](_0x584425){const _0x4cdb23=_0x3eb455;if(!0x1===_0x584425['retry']){if(_0x584425[_0x4cdb23(0x303)]||!_0x584425[_0x4cdb23(0x9a8)]||0x1!==_0x584425[_0x4cdb23(0x9a8)][_0x4cdb23(0x3ed)])throw new _0x157cd9(_0x157cd9[_0x4cdb23(0x6cc)][_0x4cdb23(0x330)],{'message':_0x4cdb23(0x81c),'localId':this['localId']});if(!this[_0x4cdb23(0x218)](_0x584425[_0x4cdb23(0x9a8)][0x0]))throw new _0x420f03(_0x4cdb23(0x96b));}const _0xc9309=_0x584425[_0x4cdb23(0x44f)]??[];try{const {filteredDestinationIds:_0x3f038d,extendedRecipients:_0x2df042}=this[_0x4cdb23(0x645)](_0x584425,_0xc9309);_0x584425[_0x4cdb23(0x9a8)]=_0x3f038d,_0x584425['recipients']=_0x2df042;}catch(_0x3e0c1c){if(_0x3e0c1c instanceof _0x420f03)return void _0x2c9fd4[_0x4cdb23(0x2f3)](_0x51c80b[_0x4cdb23(0x388)],_0x4cdb23(0x5e8),_0x4cdb23(0x395),_0x584425,_0x3e0c1c[_0x4cdb23(0x748)]);}const _0x41f484=this['shouldContinuePropagation'](_0x584425);this[_0x4cdb23(0x79e)](_0x584425,_0x41f484),_0x584425[_0x4cdb23(0x303)]=_0x41f484;const _0xfc091c=this[_0x4cdb23(0x99d)](_0x584425,_0xc9309);for(const _0x28edc6 of _0xfc091c){const _0x28c21d=this['retryQueues']['get'](_0x28edc6[_0x4cdb23(0x291)]());if(!_0x28c21d)throw new _0x157cd9(_0x157cd9['codes'][_0x4cdb23(0x9c1)],{'message':_0x4cdb23(0x374),'localId':this['localId'],'remoteId':_0x28edc6[_0x4cdb23(0x291)](),'data':_0x584425});_0x28c21d[_0x4cdb23(0x69a)](_0x584425);}}[_0x3eb455(0x291)](){return'';}['getLocalId'](){return this['localId'];}[_0x3eb455(0xa3d)](_0x1196aa){return this['messageListeners']['subscribe'](_0x1196aa);}[_0x3eb455(0x645)](_0x3a92c0,_0x131d34){const _0x5c2d66=_0x3eb455,_0x308c53={'filteredDestinationIds':_0x3a92c0['destinationIds'],'extendedRecipients':_0x3a92c0['recipients']};if(!_0x3a92c0[_0x5c2d66(0x303)])return _0x308c53;const _0xb3cdb2=Array[_0x5c2d66(0x495)](this[_0x5c2d66(0x2d9)]['keys']())[_0x5c2d66(0x638)](_0x4aa1d0=>_0x4aa1d0[_0x5c2d66(0x31a)]()===_0x28699e[_0x5c2d66(0xac1)]||_0x4aa1d0[_0x5c2d66(0x218)]())[_0x5c2d66(0x257)](_0x2f5a88=>_0x2f5a88[_0x5c2d66(0x291)]());if(_0xb3cdb2[_0x5c2d66(0x92f)]((_0x4bd122,_0x38b08f)=>_0x4bd122&&_0x3a92c0[_0x5c2d66(0x44f)][_0x5c2d66(0x721)](_0x38b08f),!0x0))throw new _0x420f03('All\x20recipients\x20already\x20received');if(_0x3a92c0[_0x5c2d66(0x9a8)]){const _0x155c64=_0x3a92c0['destinationIds']['filter'](_0x1c1852=>_0x1c1852!==this[_0x5c2d66(0xa39)]&&!_0x3a92c0[_0x5c2d66(0x44f)]['includes'](_0x1c1852));if(0x0===_0x155c64[_0x5c2d66(0x3ed)])throw new _0x420f03('No\x20destinationIds\x20left');_0x308c53[_0x5c2d66(0x2ba)]=_0x155c64;}return _0x308c53[_0x5c2d66(0x49d)]=[...new Set([..._0x131d34,..._0xb3cdb2,this[_0x5c2d66(0xa39)]])],_0x308c53;}['logPropagateSystemEvent'](_0x534859,_0x40ac04=!0x1){const _0x4e7300=_0x3eb455;if(0x0===_0x534859['topicLabel']&&!_0x760ca0(_0x534859,this[_0x4e7300(0xa39)])&&_0x534859[_0x4e7300(0x303)]){const _0x1bbaa5=_0xceb15f(_0x534859,this[_0x4e7300(0xa39)]);_0x2c9fd4[_0x4e7300(0x8ae)](_0x51c80b[_0x4e7300(0x720)],_0x534859[_0x4e7300(0x451)]+_0x4e7300(0x2d4)+_0x40ac04+')\x20'+_0x1bbaa5,_0x534859,_0x40ac04);}}[_0x3eb455(0x9f4)](_0x27a55e){const _0x565919=_0x3eb455;if(_0x27a55e[_0x565919(0x9a8)]&&_0x27a55e[_0x565919(0x303)]){const _0x395797=Array[_0x565919(0x495)](this[_0x565919(0x2d9)][_0x565919(0x9c6)]())['filter'](_0x218bba=>_0x218bba[_0x565919(0x31a)]()===_0x28699e[_0x565919(0xac1)]||_0x218bba['isConnected']())[_0x565919(0x257)](_0x8c6a23=>_0x8c6a23[_0x565919(0x291)]());return!_0x27a55e['destinationIds']['reduce']((_0x1ee9e0,_0x43cbe6)=>_0x1ee9e0&&_0x395797[_0x565919(0x721)](_0x43cbe6),!0x0);}return _0x27a55e[_0x565919(0x303)]??!0x1;}['getConnectionDestinations'](_0x104759,_0xed9396){const _0x5b2e08=_0x3eb455;if(_0x104759[_0x5b2e08(0x303)]&&_0x104759['destinationIds']){const _0x4aaa38=Array[_0x5b2e08(0x495)](this[_0x5b2e08(0x2d9)]['keys']())[_0x5b2e08(0x638)](_0x4a048c=>_0x4a048c[_0x5b2e08(0x31a)]()===_0x28699e['Core']||_0x4a048c[_0x5b2e08(0x218)]())[_0x5b2e08(0x257)](_0x360dd2=>_0x360dd2[_0x5b2e08(0x291)]()),_0x405fc3=new Set(),_0x4c93a3=_0x104759[_0x5b2e08(0x947)]===this[_0x5b2e08(0xa39)]?0x3:0x1;return _0x104759['destinationIds'][_0x5b2e08(0x9d2)](_0x1c0b93=>{const _0x3b3da8=_0x5b2e08,_0x1ebb9f=this[_0x3b3da8(0x9f6)]['getClosestNodes'](_0x4aaa38,_0x1c0b93);let _0x49f91b=0x0,_0x5070a0=0x0;_0x1ebb9f[_0x3b3da8(0x9d2)](_0x3ed954=>{const _0x39f8d8=_0x3b3da8;if(_0x49f91b>=_0x4c93a3)return;const _0x531f33=Array[_0x39f8d8(0x495)](this[_0x39f8d8(0x2d9)][_0x39f8d8(0x9c6)]())['find'](_0x469823=>_0x469823[_0x39f8d8(0x291)]()===_0x3ed954);if(_0x531f33){if(_0x531f33['getConnectionType']()===_0x28699e['Core']&&_0x5070a0>0x0)return void(_0x5070a0-=0x1);_0x405fc3[_0x39f8d8(0x520)](_0x531f33),_0x531f33['getConnectionType']()===_0x28699e[_0x39f8d8(0x59d)]&&(_0x5070a0+=0x1),_0x49f91b+=0x1;}});}),Array[_0x5b2e08(0x495)](_0x405fc3);}return Array[_0x5b2e08(0x495)](this[_0x5b2e08(0x2d9)][_0x5b2e08(0x9c6)]())[_0x5b2e08(0x638)](_0x33a260=>{const _0x269788=_0x5b2e08;return _0x3efa18=_0x33a260[_0x269788(0x291)](),!_0xed9396[_0x269788(0x721)](_0x3efa18)&&(_0x20da15(_0x104759,_0x3efa18)||_0x104759[_0x269788(0x303)])&&(!_0x104759['propagate']||_0x33a260[_0x269788(0x218)]()||_0x33a260[_0x269788(0x31a)]()===_0x28699e['Core']);var _0x3efa18;});}}class _0x1882ad{[_0x3eb455(0xa39)];['messageBuffer'];[_0x3eb455(0x2d9)]=new Map();[_0x3eb455(0x73b)];constructor(_0x47c58e,_0x5985dd){const _0x4cc467=_0x3eb455;this[_0x4cc467(0xa39)]=_0x47c58e,this[_0x4cc467(0xa76)]=_0x5985dd;}[_0x3eb455(0x579)](){}[_0x3eb455(0x307)](_0x3bbf2a){const _0x1f02bb=_0x3eb455;for(const _0x258892 of this[_0x1f02bb(0x2d9)][_0x1f02bb(0x9c6)]())try{return void _0x258892[_0x1f02bb(0x307)]({'retry':!0x1,..._0x3bbf2a});}catch(_0x4d7aee){_0x4d7aee instanceof _0x420f03||_0x2c9fd4['log'](_0x51c80b[_0x1f02bb(0x770)],'send\x20error\x20on\x20'+_0x258892,_0x4d7aee,_0x3bbf2a);}_0x2c9fd4[_0x1f02bb(0x2f3)](_0x51c80b['Pool'],_0x1f02bb(0x4cd));}[_0x3eb455(0x795)](_0x24f01f){const _0x21fa38=_0x3eb455,_0x34521b=_0x24f01f[_0x21fa38(0xa3d)](_0xa265d5=>{const _0x3e4134=_0x21fa38;this[_0x3e4134(0xa76)][_0x3e4134(0x5a8)](_0xa265d5['uuid'])||0x0===_0xa265d5[_0x3e4134(0xa46)]&&(this[_0x3e4134(0xa76)][_0x3e4134(0x7db)](_0xa265d5['uuid']),_0x20da15(_0xa265d5,this[_0x3e4134(0xa39)])&&this[_0x3e4134(0x73b)]?.[_0x3e4134(0x5bf)](_0xa265d5));});this['connections'][_0x21fa38(0x90d)](_0x24f01f,_0x34521b);}[_0x3eb455(0x7ea)](_0x14d8ab){const _0x1b27c8=_0x3eb455;this[_0x1b27c8(0x2d9)]['get'](_0x14d8ab)?.(),this[_0x1b27c8(0x2d9)][_0x1b27c8(0xaa3)](_0x14d8ab);}[_0x3eb455(0x99c)](){const _0x3da6a4=_0x3eb455;return this[_0x3da6a4(0xa39)];}[_0x3eb455(0x291)](){return'';}['getSupportedContentTypes'](){const _0x49e56b=_0x3eb455;return[_0x4d2150[_0x49e56b(0x9a5)][_0x49e56b(0x946)]];}[_0x3eb455(0x218)](){throw new Error('Method\x20not\x20implemented.');}['registerSystemPublisher'](_0x204ca6){const _0x404a1f=_0x3eb455;this[_0x404a1f(0x73b)]=_0x204ca6;}[_0x3eb455(0x416)](){const _0x4a31cd=_0x3eb455;delete this[_0x4a31cd(0x73b)];}}class _0xa87fbe{[_0x3eb455(0x226)]=new Map();[_0x3eb455(0x963)];constructor(){const _0x138dfd=_0x3eb455;this[_0x138dfd(0x963)]=_0x4dd2fb[_0x138dfd(0x409)](()=>{const _0x1841a9=_0x138dfd;for(const [_0x451bc8,_0x202833]of this['buffer'][_0x1841a9(0x858)]())Date['now']()-_0x202833>0x124f80&&this[_0x1841a9(0x226)][_0x1841a9(0xaa3)](_0x451bc8);},0x1d4c0);}['close'](){this['unsubscribeHandler']();}[_0x3eb455(0x7db)](_0x26f93a){const _0x5cba92=_0x3eb455;this[_0x5cba92(0x226)]['set'](_0x26f93a,Date[_0x5cba92(0xa6a)]());}['hasMessage'](_0x45f03e){const _0x3255e1=_0x3eb455;return this[_0x3255e1(0x226)]['has'](_0x45f03e);}}class _0x16fc37{[_0x3eb455(0x399)];[_0x3eb455(0x8a1)];[_0x3eb455(0x2c6)];[_0x3eb455(0x7b5)];['connections']=new Map();[_0x3eb455(0x90e)];[_0x3eb455(0x35f)];['signalingServer'];[_0x3eb455(0xa76)];constructor(_0x5f1eea,_0x5c6fc3,_0x568dde,_0x58734b,_0x3b1a71){const _0x8dbf71=_0x3eb455;this[_0x8dbf71(0x399)]=_0x5f1eea,this[_0x8dbf71(0x8a1)]=_0x5c6fc3,this[_0x8dbf71(0x2c6)]=_0x58734b,this[_0x8dbf71(0x7b5)]=_0x3b1a71,this[_0x8dbf71(0xa76)]=new _0xa87fbe(),this[_0x8dbf71(0x35f)]=new _0x4e352c(this[_0x8dbf71(0x399)][_0x8dbf71(0x45e)][_0x8dbf71(0x777)](),this[_0x8dbf71(0xa76)],_0x568dde),this[_0x8dbf71(0x938)]=new _0x44709d(this['configs'][_0x8dbf71(0x2df)],this[_0x8dbf71(0x399)][_0x8dbf71(0x9ac)],this[_0x8dbf71(0x399)]['localNode'],_0x8dbf71(0x447),this[_0x8dbf71(0x8a1)]),this[_0x8dbf71(0x90e)]=new _0x1882ad(this[_0x8dbf71(0x399)][_0x8dbf71(0x45e)][_0x8dbf71(0x777)](),this['messageBuffer']),this[_0x8dbf71(0x90e)][_0x8dbf71(0x795)](this['connectionGroup']),this[_0x8dbf71(0x90e)][_0x8dbf71(0x795)](this[_0x8dbf71(0x938)]),this[_0x8dbf71(0x399)]['mediator'][_0x8dbf71(0x7b4)](this[_0x8dbf71(0x90e)]);}[_0x3eb455(0x579)](){const _0x46a7ed=_0x3eb455;this[_0x46a7ed(0xa76)]['close'](),this['connections'][_0x46a7ed(0x9d2)]((_0x3acecc,_0x34c562)=>this[_0x46a7ed(0x4ce)](_0x34c562)),this[_0x46a7ed(0x399)][_0x46a7ed(0x273)][_0x46a7ed(0x511)](this[_0x46a7ed(0x90e)]),this[_0x46a7ed(0x90e)][_0x46a7ed(0x7ea)](this[_0x46a7ed(0x938)]),this[_0x46a7ed(0x90e)][_0x46a7ed(0x7ea)](this['connectionGroup']),this[_0x46a7ed(0x90e)][_0x46a7ed(0x579)](),this[_0x46a7ed(0x938)]['close'](),this['connectionGroup'][_0x46a7ed(0x579)]();}async[_0x3eb455(0x4fc)](){const _0x1e4d4e=_0x3eb455;await this[_0x1e4d4e(0x938)][_0x1e4d4e(0x319)]();}async[_0x3eb455(0xa20)](_0x2d1387,_0x582842=_0x28699e[_0x3eb455(0xac1)]){const _0x5bd3ea=_0x3eb455;if(this[_0x5bd3ea(0x2d9)][_0x5bd3ea(0x8c7)](_0x2d1387)){if(this[_0x5bd3ea(0x2d9)][_0x5bd3ea(0x1d7)](_0x2d1387)?.['getConnectionType']()===_0x28699e['Optimization']&&_0x582842===_0x28699e[_0x5bd3ea(0xac1)])return void this[_0x5bd3ea(0x2d9)]['get'](_0x2d1387)?.[_0x5bd3ea(0x8e4)](_0x28699e[_0x5bd3ea(0xac1)]);throw new _0x157cd9(_0x157cd9['codes'][_0x5bd3ea(0x554)],{'localId':this['configs'][_0x5bd3ea(0x45e)]['getId'](),'remoteId':_0x2d1387});}const _0x1e960a=new _0x1e87e3(this['configs']['clusterId'],this[_0x5bd3ea(0x399)][_0x5bd3ea(0x45e)],_0x2d1387,this['iceServers'],_0x582842,this[_0x5bd3ea(0x7b5)]['maxFps'],this[_0x5bd3ea(0x7b5)][_0x5bd3ea(0x60a)],this[_0x5bd3ea(0x7b5)][_0x5bd3ea(0x657)]);this[_0x5bd3ea(0x2d9)][_0x5bd3ea(0x90d)](_0x2d1387,_0x1e960a),this[_0x5bd3ea(0x35f)]['addConnection'](_0x1e960a),this[_0x5bd3ea(0x399)]['mediator']['registerSystemSource'](_0x1e960a),this['configs'][_0x5bd3ea(0x273)][_0x5bd3ea(0x1fa)](_0x2d1387),await _0x1e960a['connect']();}[_0x3eb455(0x7cb)](){const _0x1a1fa9=_0x3eb455;return this[_0x1a1fa9(0x35f)];}[_0x3eb455(0x8b2)](_0x4b3453){const _0x41642c=_0x3eb455;if(!this[_0x41642c(0x2d9)]['has'](_0x4b3453))throw new _0x157cd9(_0x157cd9[_0x41642c(0x6cc)]['MissingRemoteConnection'],{'localId':this[_0x41642c(0x399)]['localNode'][_0x41642c(0x777)](),'remoteId':_0x4b3453});return this['connections']['get'](_0x4b3453);}[_0x3eb455(0x223)](_0x2d05ed){const _0xd15d59=_0x3eb455,_0x54ca0a=Array[_0xd15d59(0x495)](this['connections'][_0xd15d59(0x565)]());return _0x2d05ed?_0x54ca0a[_0xd15d59(0x638)](_0x2d05ed):_0x54ca0a;}async[_0x3eb455(0x5dc)](_0x32abe4){const _0x420906=_0x3eb455,_0x842bdf=this[_0x420906(0x2d9)][_0x420906(0x1d7)](_0x32abe4);_0x842bdf&&_0x842bdf['isConnected']()&&await _0x842bdf[_0x420906(0x5dc)]();}[_0x3eb455(0x236)](_0x49a86e){const _0x20f0c4=_0x3eb455;if(_0x49a86e[_0x20f0c4(0x4e7)]!==_0x3ef5e5[_0x20f0c4(0x32c)]||_0x49a86e[_0x20f0c4(0x303)])try{this['connectionGroup']['send'](_0x49a86e);}catch(_0x37e4fe){if(_0x37e4fe instanceof _0x420f03)return;throw _0x37e4fe;}else this[_0x20f0c4(0x90e)][_0x20f0c4(0x307)](_0x49a86e);}async[_0x3eb455(0x6ef)](_0x5d6c1b){const _0x3b171b=_0x3eb455;switch(_0x5d6c1b[_0x3b171b(0x211)][_0x3b171b(0x6d8)]){case _0xf557df[_0x3b171b(0x760)]:case _0xf557df['Stats']:case _0xf557df[_0x3b171b(0xabc)]:return;}if(!_0x5d6c1b['destinationIds']||0x1!==_0x5d6c1b[_0x3b171b(0x9a8)][_0x3b171b(0x3ed)])throw new _0x157cd9(_0x157cd9[_0x3b171b(0x6cc)][_0x3b171b(0x215)],{'message':_0x3b171b(0x3a0),'event':_0x5d6c1b});if(_0x5d6c1b[_0x3b171b(0x9a8)][0x0]!==this[_0x3b171b(0x399)][_0x3b171b(0x45e)]['getId']())throw new _0x157cd9(_0x157cd9[_0x3b171b(0x6cc)]['PeerConnectionInvalidDestination'],{'message':_0x3b171b(0x6a0),'event':_0x5d6c1b});if(!this[_0x3b171b(0x2d9)][_0x3b171b(0x8c7)](_0x5d6c1b[_0x3b171b(0x947)])){let _0x118831=_0x28699e[_0x3b171b(0xac1)];if(!(this['isOffer'](_0x5d6c1b['content'])||this[_0x3b171b(0x925)](_0x5d6c1b[_0x3b171b(0x211)])||this['isNeedRestart'](_0x5d6c1b[_0x3b171b(0x211)])))return;_0x118831=_0x5d6c1b[_0x3b171b(0x211)][_0x3b171b(0x37e)],await this['createConnection'](_0x5d6c1b[_0x3b171b(0x947)],_0x118831);}const _0x1e51d7=this[_0x3b171b(0x2d9)]['get'](_0x5d6c1b[_0x3b171b(0x947)]);await _0x1e51d7[_0x3b171b(0x6ef)](_0x5d6c1b);}[_0x3eb455(0x438)](_0x26aba0){const _0x35ffb3=_0x3eb455;if(_0x26aba0[_0x35ffb3(0x211)]['type']===_0x25e25e[_0x35ffb3(0x8bf)]){if(_0x26aba0['content'][_0x35ffb3(0x24d)]===this[_0x35ffb3(0x399)][_0x35ffb3(0x45e)][_0x35ffb3(0x777)]())return void this[_0x35ffb3(0x2d9)]['forEach'](_0x5db828=>_0x5db828['handleRemediationSystemEvents'](_0x26aba0));this[_0x35ffb3(0x2d9)][_0x35ffb3(0x1d7)](_0x26aba0[_0x35ffb3(0x211)]['targetId'])?.[_0x35ffb3(0x438)](_0x26aba0);}}[_0x3eb455(0x7fd)]({content:_0x4567be}){const _0x4ae424=_0x3eb455;_0x4567be[_0x4ae424(0x6d8)]===_0x40578c[_0x4ae424(0x985)]&&this[_0x4ae424(0x4ce)](_0x4567be['id']);}[_0x3eb455(0x998)](){const _0xa5bbaf=_0x3eb455,_0x40c790=Array[_0xa5bbaf(0x495)](this['connections'][_0xa5bbaf(0x565)]())['reduce']((_0x3eafe6,_0x253973)=>_0x3eafe6+_0x253973[_0xa5bbaf(0x55c)](),0x0);return _0x40c790<_0x33c462?Promise[_0xa5bbaf(0x679)](_0x40c790):new Promise(_0x14e00e=>{const _0x5d44d4=setInterval(()=>{const _0x1bf3e2=a0_0x12d8,_0x2e933b=Array['from'](this[_0x1bf3e2(0x2d9)][_0x1bf3e2(0x565)]())[_0x1bf3e2(0x92f)]((_0x31b38b,_0x11430a)=>_0x31b38b+_0x11430a[_0x1bf3e2(0x55c)](),0x0);_0x2e933b<_0x33c462&&(clearInterval(_0x5d44d4),_0x14e00e(_0x2e933b));},0x3e8);});}[_0x3eb455(0x461)](){const _0x3e0ae3=_0x3eb455;for(const _0x1ad033 of this['connections'][_0x3e0ae3(0x565)]())if(_0x1ad033[_0x3e0ae3(0x4ba)]()>0x0||_0x1ad033['calculateArrayBufferSize']()>0x0)return!0x0;return!0x1;}[_0x3eb455(0x4ce)](_0x5b95ad){const _0x28988b=_0x3eb455,_0x4a573c=this[_0x28988b(0x2d9)][_0x28988b(0x1d7)](_0x5b95ad);_0x4a573c&&(this[_0x28988b(0x399)]['mediator'][_0x28988b(0x494)](_0x5b95ad),this[_0x28988b(0x399)]['mediator']['unregisterSystemSource'](_0x4a573c),_0x4a573c instanceof _0x1e87e3&&this['connectionGroup'][_0x28988b(0x7ea)](_0x4a573c),_0x4a573c[_0x28988b(0x579)](),this[_0x28988b(0x2d9)][_0x28988b(0xaa3)](_0x5b95ad));}[_0x3eb455(0x3b3)](_0x41c95c){const _0x357d8a=_0x3eb455;return _0x41c95c[_0x357d8a(0x6d8)]===_0xf557df[_0x357d8a(0x678)];}[_0x3eb455(0x429)](_0x36f3e2){const _0x24b8c1=_0x3eb455;return _0x36f3e2[_0x24b8c1(0x6d8)]===_0xf557df[_0x24b8c1(0x74b)];}[_0x3eb455(0x925)](_0xe176e5){const _0x13f048=_0x3eb455;return _0xe176e5['type']===_0xf557df[_0x13f048(0x9e6)];}}!function(_0x99c7b7){const _0x1305b3=_0x3eb455;_0x99c7b7[_0x99c7b7[_0x1305b3(0x449)]=0x0]=_0x1305b3(0x449),_0x99c7b7[_0x99c7b7['UpdateMediaStream']=0x1]=_0x1305b3(0x74c),_0x99c7b7[_0x99c7b7[_0x1305b3(0x3d3)]=0x2]=_0x1305b3(0x3d3),_0x99c7b7[_0x99c7b7[_0x1305b3(0x2ac)]=0x3]='NeedMediaStream',_0x99c7b7[_0x99c7b7['RestartNeedMediaStream']=0x4]=_0x1305b3(0x1e6),_0x99c7b7[_0x99c7b7[_0x1305b3(0x785)]=0x5]='CanProvideMediaStream',_0x99c7b7[_0x99c7b7['CannotProvideMediaStream']=0x6]=_0x1305b3(0x584),_0x99c7b7[_0x99c7b7[_0x1305b3(0x2e7)]=0x7]=_0x1305b3(0x2e7);}(_0x52b6ab||(_0x52b6ab={}));class _0x19ecca extends _0x2f8302{[_0x3eb455(0x45e)];[_0x3eb455(0x9ac)];[_0x3eb455(0x2df)];[_0x3eb455(0x977)];[_0x3eb455(0x6da)];[_0x3eb455(0x608)]=0x0;[_0x3eb455(0x587)];['eventListener']=_0x2bf9b6();[_0x3eb455(0x88e)]=new Map();[_0x3eb455(0x8e0)];constructor(_0x3c4470,_0x2364eb,_0x4d6bc7,_0x507e63,_0x462582){const _0x40d8b3=_0x3eb455;if('string'!=typeof _0x2364eb)throw new _0x5669b1(_0x3ed137[_0x40d8b3(0x2b7)],_0x40d8b3(0x89b));super(_0x3c4470,_0x2364eb),this[_0x40d8b3(0x45e)]=_0x3c4470,this[_0x40d8b3(0x9ac)]=_0x4d6bc7,this[_0x40d8b3(0x2df)]=_0x507e63,this[_0x40d8b3(0x977)]=_0x462582,this[_0x40d8b3(0x6f8)]();}[_0x3eb455(0x51b)](){const _0x1bdb05=_0x3eb455;this['changesUnsubscriber']?.(),this['listenerUnsubscribers'][_0x1bdb05(0x9d2)](_0x10a17c=>_0x10a17c()),clearTimeout(this['debounceStats']),delete this[_0x1bdb05(0x6da)],super['destroy']();}[_0x3eb455(0x594)](){const _0x5e7c86=_0x3eb455;this[_0x5e7c86(0x6f8)]();}[_0x3eb455(0x579)](){const _0x263d85=_0x3eb455;this[_0x263d85(0x73b)][_0x263d85(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5['Content'],'content':{'type':_0x2862db[_0x263d85(0x5da)],'label':this[_0x263d85(0x78e)]}});}[_0x3eb455(0x41e)](){const _0x29cc1b=_0x3eb455;return _0x4d2150[_0x29cc1b(0x9a5)][_0x29cc1b(0x6be)];}async[_0x3eb455(0x1d7)](_0xb7ecf7){const _0x4ac7d0=_0x3eb455;if(!this['connector'])throw new _0x5669b1(_0x3ed137['ExternalStorageConnectorsMissing'],_0x4ac7d0(0x4e3));_0x2c9fd4[_0x4ac7d0(0x7f7)](_0x58ac15[_0x4ac7d0(0x6be)],{'type':_0x4ac7d0(0x1d7),'label':this[_0x4ac7d0(0x78e)],'nodeId':this['localNode'][_0x4ac7d0(0x777)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x4ac7d0(0x9ac)],'path':_0xb7ecf7}),this[_0x4ac7d0(0x608)]+=0x1,this[_0x4ac7d0(0x6f8)]();try{return await this[_0x4ac7d0(0x587)][_0x4ac7d0(0x1d7)](_0xb7ecf7);}catch(_0x1365b9){throw new _0x5669b1(_0x3ed137[_0x4ac7d0(0x23c)],_0x4ac7d0(0x3d6)+_0xb7ecf7);}}async[_0x3eb455(0xa65)](_0x5dba98,_0x981d66){const _0x4f8b80=_0x3eb455;if(!this[_0x4f8b80(0x587)])throw new _0x5669b1(_0x3ed137[_0x4f8b80(0x2aa)],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x284ae1=!0x1}=_0x981d66??{};_0x2c9fd4[_0x4f8b80(0x7f7)](_0x58ac15[_0x4f8b80(0x6be)],{'type':_0x4f8b80(0xa65),'label':this['label'],'nodeId':this[_0x4f8b80(0x45e)][_0x4f8b80(0x777)](),'nodeType':this['localNode'][_0x4f8b80(0x6d8)],'clusterId':this[_0x4f8b80(0x9ac)],'path':_0x5dba98}),this[_0x4f8b80(0x608)]+=0x1,this[_0x4f8b80(0x6f8)]();try{return await this[_0x4f8b80(0x587)][_0x4f8b80(0xa65)](_0x5dba98,_0x284ae1);}catch(_0x45dda7){throw new _0x5669b1(_0x3ed137[_0x4f8b80(0x23c)],'Cannot\x20list\x20directory:\x20'+_0x5dba98);}}['subscribe'](_0x1f821e,_0x17d680){const _0x43b4ca=_0x3eb455;if(this[_0x43b4ca(0x88e)][_0x43b4ca(0x8c7)](_0x1f821e))throw new _0x5669b1(_0x3ed137[_0x43b4ca(0x1be)],_0x43b4ca(0x3f0));this[_0x43b4ca(0x88e)][_0x43b4ca(0x90d)](_0x1f821e,this[_0x43b4ca(0x7ec)]['subscribe'](_0x17d680));}[_0x3eb455(0x421)](_0x19b961){const _0x412040=_0x3eb455;this[_0x412040(0x88e)][_0x412040(0x1d7)](_0x19b961)?.(),this['listenerUnsubscribers']['delete'](_0x19b961);}async[_0x3eb455(0x8db)](){const _0x5e62b9=_0x3eb455,_0x3ff1ca=(await(0x0,_0x1a96a4[_0x5e62b9(0x725)])((0x0,_0x1a96a4['doc'])(_0x418361[_0x5e62b9(0x9e1)](),_0x5e62b9(0x6b3)+this[_0x5e62b9(0x2df)]+_0x5e62b9(0x43e)+this[_0x5e62b9(0x78e)])))[_0x5e62b9(0x7b8)]();if(!_0x3ff1ca)throw new _0x5669b1(_0x3ed137[_0x5e62b9(0x6ec)],_0x5e62b9(0x766)+this['label']);const {site:_0x123a91,drive:_0x43b267}=_0x3ff1ca,_0x4e780c=(await(0x0,_0x1c8bf5['httpsCallable'])(_0x418361[_0x5e62b9(0x457)](),_0x5e62b9(0x4e1))({'storageId':this[_0x5e62b9(0x78e)]}))['data']['accessToken'];this[_0x5e62b9(0x587)]=new this[(_0x5e62b9(0x977))](_0x123a91['id'],_0x43b267['id'],_0x4e780c,async()=>(await(0x0,_0x1c8bf5[_0x5e62b9(0x61f)])(_0x418361[_0x5e62b9(0x457)](),_0x5e62b9(0x958))({'storageId':this[_0x5e62b9(0x78e)]}))[_0x5e62b9(0x7b8)][_0x5e62b9(0x238)]),this['trackChanges']();}[_0x3eb455(0x6f8)](){const _0x1fd14e=_0x3eb455;this[_0x1fd14e(0x6da)]&&clearTimeout(this['debounceStats']),this[_0x1fd14e(0x6da)]=setTimeout(async()=>{const _0x15c28f=_0x1fd14e;delete this[_0x15c28f(0x6da)],this['systemTopic'][_0x15c28f(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x15c28f(0x7dc)],'content':{'type':_0x2862db[_0x15c28f(0x4b8)],'label':this[_0x15c28f(0x78e)],'stats':{'timestamp':Date[_0x15c28f(0xa6a)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0x37461b);}async['trackChanges'](){const _0x438895=_0x3eb455;await this[_0x438895(0x587)]?.[_0x438895(0x6e4)](),this[_0x438895(0x8e0)]=_0x4dd2fb[_0x438895(0x409)](async()=>{const _0x387094=_0x438895;try{if(!this['connector'])return;const _0x21d51a=await this[_0x387094(0x587)][_0x387094(0x6e4)]();for(const _0xbbcb31 of _0x21d51a)this[_0x387094(0x7ec)][_0x387094(0x5bf)](_0xbbcb31);}catch(_0x2daddd){}},0x493e0);}}const _0x44e4ce=require('rxjs');class _0x3e76e0 extends _0x2f8302{[_0x3eb455(0x9f6)];[_0x3eb455(0x5b9)]=new Map();[_0x3eb455(0x62b)]=new Map();[_0x3eb455(0x489)]=new Map();['unsubscribeHandler'];constructor(_0x50f2b0,_0x3050cb,_0xf66575){const _0x39ca21=_0x3eb455;super(_0x50f2b0,_0x3050cb),this[_0x39ca21(0x9f6)]=_0xf66575;}[_0x3eb455(0x41e)](){const _0x56e6de=_0x3eb455;return _0x4d2150[_0x56e6de(0x9a5)][_0x56e6de(0xa92)];}[_0x3eb455(0x8db)](){const _0x59bfdf=_0x3eb455;this[_0x59bfdf(0x963)]=this[_0x59bfdf(0xa3d)]((_0x591b15,_0x22da30)=>{const _0x8454da=_0x59bfdf;if(_0x2c9fd4[_0x8454da(0x2f3)](_0x51c80b['Jobs'],_0x8454da(0x824),_0x591b15,_0x22da30,this[_0x8454da(0x9f6)][_0x8454da(0x436)]()),!(_0x22da30 instanceof File)){if(!_0x22da30)throw new _0x157cd9(_0x157cd9[_0x8454da(0x6cc)][_0x8454da(0x21e)]);return this[_0x8454da(0xa18)](_0x22da30)?this[_0x8454da(0x844)](_0x591b15,_0x22da30['id'],_0x22da30):this[_0x8454da(0x7ce)](_0x22da30)?(_0x2c9fd4[_0x8454da(0x2f3)](_0x51c80b[_0x8454da(0x969)],_0x8454da(0x922)+_0x22da30['id']+_0x8454da(0x9cc),_0x22da30[_0x8454da(0x517)]),void this[_0x8454da(0x803)](_0x22da30['id'],_0x22da30)):this['isResultResponse'](_0x22da30)?(_0x2c9fd4[_0x8454da(0x2f3)](_0x51c80b['Jobs'],_0x8454da(0x922)+_0x22da30['id']+'\x20received\x20result:',_0x22da30['result']),void this[_0x8454da(0x88c)](_0x22da30['id'],_0x22da30)):void(this[_0x8454da(0xa91)](_0x22da30)&&this[_0x8454da(0x474)](_0x22da30['id'],_0x22da30[_0x8454da(0x748)]));}});}[_0x3eb455(0x594)](){const _0x328221=_0x3eb455;this[_0x328221(0xa0e)](),this['open']();}[_0x3eb455(0x51b)](){const _0x2cdfeb=_0x3eb455;this[_0x2cdfeb(0xa0e)](),super[_0x2cdfeb(0x51b)]();}['clear'](){const _0x56e4e4=_0x3eb455;this[_0x56e4e4(0x5b9)][_0x56e4e4(0xa0e)](),this[_0x56e4e4(0x963)]&&this[_0x56e4e4(0x963)]();}[_0x3eb455(0x579)](){const _0x3e90c1=_0x3eb455;this[_0x3e90c1(0x73b)]?.[_0x3e90c1(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x3e90c1(0x7dc)],'content':{'type':_0x2862db[_0x3e90c1(0x365)],'label':this['label']}});}async[_0x3eb455(0x380)](_0x3e2b55){const _0x2be97b=_0x3eb455,{id:_0x35477e,parameters:_0x19c6f4,jobType:_0x216810}=_0x3e2b55,_0x2ebf5f={'id':_0x35477e,'jobType':_0x216810,'parameters':_0x19c6f4,'status':_0x4d2150[_0x2be97b(0x4f0)][_0x2be97b(0x3f1)],'created':new Date(),'updated':new Date()};if(this['jobs']['has'](_0x2ebf5f['id']))throw new _0x5669b1(_0x3ed137[_0x2be97b(0xac9)],'Job\x20with\x20id\x20'+_0x2ebf5f['id']+_0x2be97b(0x357));_0x2ebf5f['created']=new Date(),_0x2ebf5f[_0x2be97b(0x6ea)]=new Date();const _0x4f17c6=new _0x44e4ce[(_0x2be97b(0x435))]();this[_0x2be97b(0x5b9)][_0x2be97b(0x90d)](_0x2ebf5f['id'],_0x2ebf5f),this[_0x2be97b(0x62b)]['set'](_0x2ebf5f['id'],_0x4f17c6);try{const _0x22e72f={'id':_0x2ebf5f['id'],'jobPhase':_0x10a80f[_0x2be97b(0xad3)],'jobType':_0x2ebf5f[_0x2be97b(0x308)]},_0x36f4dd=0x3;let _0x559786=0x0;const _0x15817c=async()=>{const _0x1d78c5=_0x2be97b;_0x559786+=0x1;try{_0x2c9fd4[_0x1d78c5(0x2f3)](_0x51c80b[_0x1d78c5(0x969)],_0x1d78c5(0x922)+_0x2ebf5f['id']+_0x1d78c5(0xa37)+_0x559786+'.',this[_0x1d78c5(0x9f6)][_0x1d78c5(0x436)]()),await this[_0x1d78c5(0x307)](_0x22e72f),_0x2ebf5f[_0x1d78c5(0x6ea)]=new Date(),this[_0x1d78c5(0x5b9)]['set'](_0x2ebf5f['id'],_0x2ebf5f),this[_0x1d78c5(0x83a)](_0x2ebf5f['id']);}catch(_0x48eedc){_0x559786<_0x36f4dd?(_0x2c9fd4[_0x1d78c5(0x772)]('Attempt\x20'+_0x559786+_0x1d78c5(0x8ad)+_0x2ebf5f['id']+_0x1d78c5(0x294),{'nodeId':this['owner']['getId'](),'nodeType':this[_0x1d78c5(0x7c7)]['type'],'data':{'job':_0x2ebf5f,'attempts':_0x559786,'maxRetries':_0x36f4dd}}),setTimeout(_0x15817c,0x3e8)):(_0x2ebf5f[_0x1d78c5(0x1e8)]=_0x4d2150[_0x1d78c5(0x4f0)][_0x1d78c5(0x3a4)],_0x2ebf5f[_0x1d78c5(0x6ea)]=new Date(),this[_0x1d78c5(0x5b9)][_0x1d78c5(0x90d)](_0x2ebf5f['id'],_0x2ebf5f),_0x2c9fd4[_0x1d78c5(0x4f1)](_0x1d78c5(0xada)+_0x2ebf5f['id']+'\x20after\x20'+_0x36f4dd+_0x1d78c5(0xade),{'nodeId':this['owner'][_0x1d78c5(0x777)](),'nodeType':this[_0x1d78c5(0x7c7)]['type'],'data':{'job':_0x2ebf5f,'attempts':_0x559786,'maxRetries':_0x36f4dd,'error':_0x48eedc}}));}};_0x15817c();const {id:_0x1d62c0}=_0x2ebf5f;this[_0x2be97b(0x95c)]('Job\x20'+_0x2ebf5f['id']+_0x2be97b(0x348),{'jobId':_0x1d62c0}),_0x2ebf5f[_0x2be97b(0x6ea)]=new Date();}catch(_0xdc59a2){_0x2ebf5f[_0x2be97b(0x1e8)]=_0x4d2150[_0x2be97b(0x4f0)][_0x2be97b(0x3a4)],_0x2c9fd4[_0x2be97b(0x4f1)](_0x2be97b(0xada)+_0x2ebf5f['id']+':',{'nodeId':this[_0x2be97b(0x7c7)][_0x2be97b(0x777)](),'nodeType':this[_0x2be97b(0x7c7)]['type'],'data':{'job':_0x2ebf5f,'error':_0xdc59a2}});}return _0x4f17c6[_0x2be97b(0x81a)]();}['getJob'](_0x1f4d10){const _0x3d092f=_0x3eb455,_0x5b4a1b=this['jobs'][_0x3d092f(0x1d7)](_0x1f4d10);if(!_0x5b4a1b)throw new _0x5669b1(_0x3ed137['JobDispatcherJobNotFound'],_0x3d092f(0x94f)+_0x1f4d10+_0x3d092f(0x63e));return{'id':_0x5b4a1b['id'],'jobType':_0x5b4a1b[_0x3d092f(0x308)],'status':_0x5b4a1b[_0x3d092f(0x1e8)],'parameters':_0x5b4a1b[_0x3d092f(0x8ea)]};}['getJobs'](){const _0x503173=_0x3eb455;return Array['from'](this[_0x503173(0x5b9)][_0x503173(0x565)]())[_0x503173(0x257)](_0x56afcb=>this['getJob'](_0x56afcb['id']));}async[_0x3eb455(0x7ef)](_0x566309,_0x2bf7b6){const _0x3f5e48=_0x3eb455,_0x2561e3=this[_0x3f5e48(0x5b9)][_0x3f5e48(0x1d7)](_0x566309);if(!_0x2561e3)throw new _0x5669b1(_0x3ed137[_0x3f5e48(0x7a1)],'Job\x20with\x20id\x20'+_0x566309+_0x3f5e48(0x63e));_0x2561e3[_0x3f5e48(0x8ea)]=_0x2bf7b6,_0x2561e3[_0x3f5e48(0x6ea)]=new Date(),this[_0x3f5e48(0x5b9)][_0x3f5e48(0x90d)](_0x566309,_0x2561e3);}async[_0x3eb455(0x738)](_0x4a5c41){const _0xc264d7=_0x3eb455;if(!this['jobs'][_0xc264d7(0xaa3)](_0x4a5c41))throw new _0x5669b1(_0x3ed137[_0xc264d7(0x7a1)],_0xc264d7(0x94f)+_0x4a5c41+_0xc264d7(0x63e));const _0x2ef8a7=this[_0xc264d7(0x62b)][_0xc264d7(0x1d7)](_0x4a5c41);if(!_0x2ef8a7)throw new _0x157cd9(_0x157cd9['codes'][_0xc264d7(0x378)]);_0x2ef8a7[_0xc264d7(0x7aa)](),this['jobObservers'][_0xc264d7(0xaa3)](_0x4a5c41),_0x2c9fd4[_0xc264d7(0x2f3)](_0x51c80b[_0xc264d7(0x969)],_0xc264d7(0x922)+_0x4a5c41+_0xc264d7(0x3cd));}[_0x3eb455(0x844)](_0x4a04b3,_0x33483e,_0xdf93fe){const _0x669fbf=_0x3eb455,_0x52bd13=this[_0x669fbf(0x489)][_0x669fbf(0x1d7)](_0x33483e)??new Map();_0x52bd13['set'](_0x4a04b3,[_0xdf93fe,Date['now']()]),this['jobBids']['set'](_0x33483e,_0x52bd13),this[_0x669fbf(0x626)](_0x33483e);}[_0x3eb455(0x83a)](_0x3bc258){const _0x1101e6=_0x3eb455,_0x2deca0=this[_0x1101e6(0x5b9)][_0x1101e6(0x1d7)](_0x3bc258);if(!_0x2deca0)throw new _0x157cd9(_0x157cd9[_0x1101e6(0x6cc)][_0x1101e6(0x7a1)]);const _0x28b1bc=setTimeout(()=>this[_0x1101e6(0x626)](_0x3bc258,!0x0),0xbb8);_0x2deca0['responseTimeout']=_0x28b1bc,this[_0x1101e6(0x5b9)]['set'](_0x2deca0['id'],_0x2deca0);}[_0x3eb455(0x626)](_0x530c22,_0x3204c0=!0x1){const _0x22bed0=_0x3eb455,_0x32f7f2=this[_0x22bed0(0x9f6)][_0x22bed0(0x436)](),_0x1f872b=Array[_0x22bed0(0x495)](_0x32f7f2[_0x22bed0(0x565)]())[_0x22bed0(0x638)](_0xa67adc=>_0xa67adc[_0x22bed0(0x6d8)]===_0x4d2150['NodeType'][_0x22bed0(0x1b8)]),_0x532272=this[_0x22bed0(0x489)][_0x22bed0(0x1d7)](_0x530c22)??new Map();if(!_0x3204c0&&(!_0x532272||_0x532272[_0x22bed0(0xa95)]<_0x1f872b[_0x22bed0(0x3ed)]))return;const _0x1bbf57=this['jobs'][_0x22bed0(0x1d7)](_0x530c22);if(!_0x1bbf57)throw new _0x157cd9(_0x157cd9[_0x22bed0(0x6cc)]['JobDispatcherJobNotFound']);if(clearTimeout(_0x1bbf57[_0x22bed0(0x730)]),_0x2c9fd4['log'](_0x51c80b[_0x22bed0(0x969)],'Job\x20'+_0x1bbf57['id']+_0x22bed0(0xa11),_0x532272,this[_0x22bed0(0x489)]),!_0x532272||0x0===_0x532272[_0x22bed0(0xa95)]){_0x1bbf57['status']=_0x4d2150[_0x22bed0(0x4f0)][_0x22bed0(0x3a4)],_0x1bbf57['updated']=new Date(),_0x2c9fd4[_0x22bed0(0x4f1)]('Job\x20'+_0x1bbf57['id']+_0x22bed0(0x2dc),{'nodeId':this[_0x22bed0(0x7c7)][_0x22bed0(0x777)](),'nodeType':this[_0x22bed0(0x7c7)][_0x22bed0(0x6d8)],'data':{'job':_0x1bbf57,'responses':_0x532272}});const _0x48625a=this[_0x22bed0(0x62b)][_0x22bed0(0x1d7)](_0x530c22);if(!_0x48625a)throw new _0x157cd9(_0x157cd9[_0x22bed0(0x6cc)][_0x22bed0(0x378)]);const _0x1e1c92=_0x22bed0(0x279),_0x5f5c20={'id':_0x1bbf57['id'],'status':_0x1bbf57[_0x22bed0(0x1e8)],'message':_0x1e1c92};return _0x48625a[_0x22bed0(0x95b)](_0x5f5c20),_0x48625a['complete'](),this[_0x22bed0(0x5b9)]['set'](_0x1bbf57['id'],_0x1bbf57),void this[_0x22bed0(0x489)][_0x22bed0(0xaa3)](_0x530c22);}const {nodeId:_0x448a32,response:_0x100a21}=this[_0x22bed0(0x3be)](_0x1bbf57['id'],_0x532272);_0x1bbf57[_0x22bed0(0x1e8)]=_0x4d2150[_0x22bed0(0x4f0)][_0x22bed0(0x61b)],_0x1bbf57[_0x22bed0(0x6ea)]=new Date(),_0x2c9fd4[_0x22bed0(0x2f3)](_0x51c80b[_0x22bed0(0x969)],_0x22bed0(0x922)+_0x1bbf57['id']+_0x22bed0(0x4a0)+_0x448a32+_0x22bed0(0x523),_0x100a21);const _0x4d7b1b={'id':_0x1bbf57['id'],'jobType':_0x1bbf57['jobType'],'jobPhase':_0x10a80f[_0x22bed0(0x1f2)],'parameters':_0x1bbf57[_0x22bed0(0x8ea)]};this[_0x22bed0(0x307)](_0x4d7b1b,[_0x448a32]),this['jobs'][_0x22bed0(0x90d)](_0x1bbf57['id'],_0x1bbf57),this[_0x22bed0(0x489)][_0x22bed0(0xaa3)](_0x530c22);}[_0x3eb455(0x3be)](_0x1f6b84,_0x319324){const _0x5f0372=_0x3eb455;let _0x11557b;const _0x2f9629=Array['from'](_0x319324['entries']())[_0x5f0372(0x638)](([,[_0x10c8f6]])=>_0x10c8f6[_0x5f0372(0x631)]);if(_0x11557b=_0x2f9629['length']>0x0?Array[_0x5f0372(0x495)](_0x319324[_0x5f0372(0x858)]())[_0x5f0372(0x3d8)]((_0x4b8eb2,_0x22cff4)=>_0x22cff4[0x1][0x0][_0x5f0372(0xa8e)]-_0x4b8eb2[0x1][0x0]['bid']):Array[_0x5f0372(0x495)](_0x319324[_0x5f0372(0x858)]())['sort']((_0x1e9568,_0x540e55)=>_0x1e9568[0x1][0x0][_0x5f0372(0x8dc)]-_0x540e55[0x1][0x0][_0x5f0372(0x8dc)]),0x1===_0x11557b[_0x5f0372(0x3ed)])return{'nodeId':_0x11557b[0x0][0x0],'response':_0x11557b[0x0][0x1][0x0]};let _0x547655;if(_0x547655=_0x2f9629[_0x5f0372(0x3ed)]>0x0?(_0x442c5e=>{const _0x34295e=_0x5f0372,_0x49eaa3=_0x442c5e[0x0][0x1][0x0][_0x34295e(0xa8e)];return _0x442c5e[_0x34295e(0x638)](([,[_0x1a6295]])=>_0x1a6295['bid']===_0x49eaa3);})(_0x11557b):(_0xeddba9=>{const _0x50ce30=_0x5f0372,_0x2a5942=_0xeddba9[0x0][0x1][0x0][_0x50ce30(0x8dc)];return _0xeddba9[_0x50ce30(0x638)](([,[_0x40ea7d]])=>_0x40ea7d[_0x50ce30(0x8dc)]===_0x2a5942);})(_0x11557b),0x1===_0x547655[_0x5f0372(0x3ed)])return{'nodeId':_0x547655[0x0][0x0],'response':_0x547655[0x0][0x1][0x0]};const _0x446e9b=this['jobs']['get'](_0x1f6b84);if(!_0x446e9b)throw new _0x157cd9(_0x157cd9[_0x5f0372(0x6cc)][_0x5f0372(0x7a1)]);const _0x4cf9f2=_0x446e9b[_0x5f0372(0x689)][_0x5f0372(0x7b3)](),_0x139872=_0x547655['map'](([_0x5f2b73,[,_0x5b121b]])=>({'nodeId':_0x5f2b73,'rtt':_0x5b121b-_0x4cf9f2})),_0x9f6778=Math[_0x5f0372(0x830)](..._0x139872[_0x5f0372(0x257)](({rtt:_0x3722b8})=>_0x3722b8)),_0x3a342b=_0x139872[_0x5f0372(0xa41)](({rtt:_0xbfa4fc})=>_0xbfa4fc===_0x9f6778),[,[_0x4e2047]]=_0x547655['find'](([_0x4694fe])=>_0x4694fe===_0x3a342b['nodeId']);return{'nodeId':_0x3a342b[_0x5f0372(0x924)],'response':_0x4e2047};}[_0x3eb455(0x803)](_0x53c2f5,_0x3a0a6e){const _0x4565ba=_0x3eb455,_0x20a8d6=this[_0x4565ba(0x5b9)][_0x4565ba(0x1d7)](_0x53c2f5);if(!_0x20a8d6)throw new _0x157cd9(_0x157cd9[_0x4565ba(0x6cc)]['JobDispatcherJobNotFound']);const _0x6331bc=this[_0x4565ba(0x62b)][_0x4565ba(0x1d7)](_0x53c2f5);if(!_0x6331bc)throw new _0x157cd9(_0x157cd9[_0x4565ba(0x6cc)][_0x4565ba(0x378)]);const _0x1fb9dc={'id':_0x20a8d6['id'],'status':_0x4d2150[_0x4565ba(0x4f0)][_0x4565ba(0x5dd)],'result':_0x3a0a6e[_0x4565ba(0x517)]};_0x6331bc[_0x4565ba(0x95b)](_0x1fb9dc);}['evaluateProccessedJob'](_0x246083,_0x2b6eb7){const _0x3f5f5b=_0x3eb455,_0x60d857=this['jobs'][_0x3f5f5b(0x1d7)](_0x246083);if(!_0x60d857)throw new _0x157cd9(_0x157cd9[_0x3f5f5b(0x6cc)][_0x3f5f5b(0x7a1)]);const _0xd011d7=this[_0x3f5f5b(0x62b)][_0x3f5f5b(0x1d7)](_0x246083);if(!_0xd011d7)throw new _0x157cd9(_0x157cd9[_0x3f5f5b(0x6cc)][_0x3f5f5b(0x378)]);_0x60d857['status']=_0x4d2150['JobStatus']['Completed'];const _0x1670aa={'id':_0x60d857['id'],'status':_0x60d857['status'],'result':_0x2b6eb7[_0x3f5f5b(0x517)]};_0xd011d7[_0x3f5f5b(0x95b)](_0x1670aa),_0xd011d7['complete'](),this[_0x3f5f5b(0x62b)][_0x3f5f5b(0xaa3)](_0x246083),this[_0x3f5f5b(0x95c)](_0x3f5f5b(0x922)+_0x246083+_0x3f5f5b(0x71a),{'jobId':_0x246083});}[_0x3eb455(0x474)](_0x10f730,_0x2af070){const _0x18845f=_0x3eb455,_0x53c34e=this[_0x18845f(0x5b9)][_0x18845f(0x1d7)](_0x10f730);if(!_0x53c34e)throw new _0x157cd9(_0x157cd9[_0x18845f(0x6cc)]['JobDispatcherJobNotFound']);const _0x5933a7=this[_0x18845f(0x62b)][_0x18845f(0x1d7)](_0x10f730);if(!_0x5933a7)throw new _0x157cd9(_0x157cd9[_0x18845f(0x6cc)][_0x18845f(0x378)]);_0x53c34e[_0x18845f(0x1e8)]=_0x4d2150[_0x18845f(0x4f0)]['Failed'];const _0x39ae37={'id':_0x53c34e['id'],'status':_0x53c34e['status'],'message':_0x2af070};_0x5933a7[_0x18845f(0x95b)](_0x39ae37),_0x5933a7['complete'](),this['jobObservers']['delete'](_0x10f730),this[_0x18845f(0x95c)](_0x18845f(0x922)+_0x10f730+'\x20failed.',{'jobId':_0x10f730});}[_0x3eb455(0x95c)](_0x18a3a5,{jobId:_0x5c3ffe}){const _0x320637=_0x3eb455,_0x55c0ed={'jobId':_0x5c3ffe,'mistletIds':Array['from'](this[_0x320637(0x9f6)][_0x320637(0x436)]()['values']())[_0x320637(0x638)](_0x17068d=>_0x17068d[_0x320637(0x6d8)]===_0x4d2150['NodeType']['Agent'])[_0x320637(0x257)](_0x5988bc=>_0x5988bc[_0x320637(0x777)]())};_0x2c9fd4[_0x320637(0x95c)](_0x18a3a5,{'nodeId':this[_0x320637(0x2e9)](),'nodeType':this[_0x320637(0x7c7)][_0x320637(0x6d8)],'data':_0x55c0ed}),_0x2c9fd4['log'](_0x51c80b[_0x320637(0x969)],_0x18a3a5,_0x55c0ed);}['isBidResponse'](_0x17055f){const _0x5ef796=_0x3eb455,{jobPhase:_0x310185,available:_0x4a4e4e,bid:_0x251c8d}=_0x17055f;return _0x310185===_0x10a80f[_0x5ef796(0x50a)]&&void 0x0!==_0x4a4e4e&&void 0x0!==_0x251c8d;}['isPartialResultResponse'](_0x561a44){const {jobPhase:_0xefb827,result:_0x5d0eb4}=_0x561a44;return _0xefb827===_0x10a80f['PartialResult']&&void 0x0!==_0x5d0eb4;}[_0x3eb455(0x346)](_0x27e162){const _0x1e5909=_0x3eb455,{jobPhase:_0x60f95f,result:_0x1d098c}=_0x27e162;return _0x60f95f===_0x10a80f[_0x1e5909(0x28a)]&&void 0x0!==_0x1d098c;}[_0x3eb455(0xa91)](_0xebe175){const _0x1acbe5=_0x3eb455,{jobPhase:_0x3c4669,message:_0x2ec116}=_0xebe175;return _0x3c4669===_0x10a80f['Failed']&&void 0x0!==_0x2ec116&&_0x1acbe5(0x77a)==typeof _0x2ec116;}}var _0x5e41e1,_0x12b7c4,_0x25d8e0,_0x287d9a;!function(_0x5292b0){const _0x35fa9a=_0x3eb455;_0x5292b0[_0x35fa9a(0xa6f)]=_0x35fa9a(0x2dd),_0x5292b0[_0x35fa9a(0x6be)]=_0x35fa9a(0x823);}(_0x5e41e1||(_0x5e41e1={})),function(_0x19d438){const _0x126cfa=_0x3eb455;_0x19d438[_0x126cfa(0x1b8)]=_0x126cfa(0x241),_0x19d438['AgentSkill']=_0x126cfa(0x5fc),_0x19d438[_0x126cfa(0x753)]=_0x126cfa(0x477),_0x19d438[_0x126cfa(0x6b4)]=_0x126cfa(0x3e6),_0x19d438[_0x126cfa(0x937)]='knowledge',_0x19d438[_0x126cfa(0x630)]='prompt',_0x19d438[_0x126cfa(0x26c)]=_0x126cfa(0x6b8),_0x19d438[_0x126cfa(0x40d)]=_0x126cfa(0x42b),_0x19d438[_0x126cfa(0x1eb)]=_0x126cfa(0x43c),_0x19d438[_0x126cfa(0x8a6)]=_0x126cfa(0x7d4),_0x19d438['WebScraper']=_0x126cfa(0xab6),_0x19d438[_0x126cfa(0x314)]=_0x126cfa(0x2a6),_0x19d438['ChunkSplitter']=_0x126cfa(0x490),_0x19d438[_0x126cfa(0x796)]=_0x126cfa(0x5a3),_0x19d438[_0x126cfa(0x83e)]=_0x126cfa(0x81b);}(_0x12b7c4||(_0x12b7c4={})),function(_0x5bd922){const _0x377c86=_0x3eb455;_0x5bd922[_0x377c86(0x800)]=_0x377c86(0x869),_0x5bd922[_0x377c86(0x3e5)]='external-storage-upload',_0x5bd922[_0x377c86(0x5ff)]=_0x377c86(0x6a5),_0x5bd922[_0x377c86(0xa5f)]='chunk-splitter',_0x5bd922[_0x377c86(0x83e)]=_0x377c86(0x81b),_0x5bd922[_0x377c86(0x796)]='sentence-splitter',_0x5bd922[_0x377c86(0x82d)]=_0x377c86(0x768),_0x5bd922[_0x377c86(0x4ea)]=_0x377c86(0x967),_0x5bd922[_0x377c86(0x9ae)]=_0x377c86(0x506),_0x5bd922['Model']=_0x377c86(0x3e7),_0x5bd922[_0x377c86(0x1b8)]=_0x377c86(0x241),_0x5bd922[_0x377c86(0x4c0)]=_0x377c86(0x2dd),_0x5bd922['KeyValueDatabase']=_0x377c86(0x1b1),_0x5bd922[_0x377c86(0x73f)]=_0x377c86(0x37b),_0x5bd922[_0x377c86(0x1b6)]=_0x377c86(0x496),_0x5bd922[_0x377c86(0x630)]=_0x377c86(0x3dd),_0x5bd922[_0x377c86(0xa7e)]=_0x377c86(0x45a);}(_0x25d8e0||(_0x25d8e0={})),function(_0x11bfe4){const _0x1487b9=_0x3eb455;_0x11bfe4[_0x1487b9(0x3f4)]=_0x1487b9(0x7a0),_0x11bfe4[_0x1487b9(0x1e2)]='text',_0x11bfe4[_0x1487b9(0x8be)]=_0x1487b9(0x9f3),_0x11bfe4[_0x1487b9(0x813)]='audio',_0x11bfe4['Data']='data',_0x11bfe4[_0x1487b9(0x911)]='vector',_0x11bfe4[_0x1487b9(0x284)]=_0x1487b9(0x54a),_0x11bfe4[_0x1487b9(0xa67)]='relation',_0x11bfe4[_0x1487b9(0x8a6)]=_0x1487b9(0x7d4),_0x11bfe4['Index']='index',_0x11bfe4[_0x1487b9(0x937)]=_0x1487b9(0x50f),_0x11bfe4[_0x1487b9(0x782)]=_0x1487b9(0x9e0),_0x11bfe4[_0x1487b9(0xa7e)]=_0x1487b9(0x45a),_0x11bfe4[_0x1487b9(0x422)]=_0x1487b9(0x5a7);}(_0x287d9a||(_0x287d9a={}));class _0x5aff18{static [_0x3eb455(0x6f1)];constructor(){}static[_0x3eb455(0x5d6)](){const _0x33b25e=_0x3eb455;return _0x5aff18['instance']||(_0x5aff18[_0x33b25e(0x6f1)]=new _0x5aff18()),_0x5aff18[_0x33b25e(0x6f1)];}async[_0x3eb455(0x40b)](_0x2525dc,_0x38d4cd){const _0x5347d1=_0x3eb455,_0x4ae8e9=await(0x0,_0x1a96a4[_0x5347d1(0x725)])((0x0,_0x1a96a4[_0x5347d1(0x1e4)])(_0x418361['getFirestore'](),_0x5347d1(0x6b3)+_0x2525dc+_0x5347d1(0x574)+_0x38d4cd)),_0x596f9e=await this[_0x5347d1(0x214)](_0x2525dc),_0x17907d=await this[_0x5347d1(0x498)](_0x2525dc),_0xfef5b1=await this[_0x5347d1(0xab1)](_0x2525dc),_0x26e38e=await this['getModels'](_0x2525dc),_0x4fc0d0=await this[_0x5347d1(0x8b6)](_0x2525dc);if(!_0x4ae8e9['exists']())throw new _0x157cd9(_0x157cd9[_0x5347d1(0x6cc)][_0x5347d1(0x6d9)]);return this[_0x5347d1(0x932)](_0x4ae8e9,_0x596f9e,_0x17907d,_0xfef5b1,_0x26e38e,_0x4fc0d0);}[_0x3eb455(0x932)](_0xa7d69b,_0x39df81,_0x4ff0eb,_0x39949d,_0x13e7bf,_0x1df843){const _0x474b36=_0x3eb455,_0x51ea5b=_0xa7d69b[_0x474b36(0x7b8)]();if(!_0x51ea5b)throw new _0x157cd9(_0x157cd9['codes'][_0x474b36(0x6d9)]);const _0x12873b=_0x51ea5b[_0x474b36(0x7e3)]&&_0x51ea5b[_0x474b36(0x9f8)]?_0x51ea5b[_0x474b36(0x9f8)][_0x51ea5b[_0x474b36(0x7e3)]-0x1]:_0x51ea5b,_0x199ae0=this[_0x474b36(0x434)](_0x12873b[_0x474b36(0x578)],_0x39df81,_0x4ff0eb,_0x39949d,_0x1df843);return{'id':_0xa7d69b['id'],'modelsBucketId':_0x51ea5b[_0x474b36(0xa64)],'blocks':_0x199ae0,'models':this[_0x474b36(0x1f9)](_0x199ae0,_0x13e7bf),'dataBucketIds':this['getWorkflowObjectStorageBuckets'](_0x199ae0),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x199ae0)};}['getWorkflowModels'](_0x7ae27d,_0x34728d){const _0x211671=_0x3eb455,_0xcb0c9d=new Set();for(const _0x2d30f3 of _0x7ae27d)if(_0x2d30f3['type']!==_0x12b7c4[_0x211671(0x1b8)]&&_0x2d30f3[_0x211671(0x6d8)]!==_0x12b7c4[_0x211671(0x4b6)]||_0xcb0c9d[_0x211671(0x520)](_0x2d30f3[_0x211671(0x222)]),_0x2d30f3[_0x211671(0x6d8)]===_0x12b7c4[_0x211671(0x937)]||_0x2d30f3[_0x211671(0x6d8)]===_0x12b7c4[_0x211671(0x6b4)]){for(const _0x524c87 of[..._0x2d30f3[_0x211671(0x7ab)],..._0x2d30f3[_0x211671(0x6d5)]])_0x524c87[_0x211671(0x6d8)]===_0x25d8e0[_0x211671(0x46f)]&&_0xcb0c9d['add'](_0x524c87['id']),_0x524c87[_0x211671(0x6d8)]===_0x25d8e0[_0x211671(0x1b8)]&&_0xcb0c9d[_0x211671(0x520)](_0x524c87[_0x211671(0x222)]);}return Array[_0x211671(0x495)](_0xcb0c9d)[_0x211671(0x257)](_0x1d424a=>{const _0x1e87d7=_0x211671,{id:_0x499a86,engineType:_0x49d711,taskType:_0x1511b0,inputType:_0x20d7f8,outputType:_0x336a6e,sourceUrl:_0x21ba72}=_0x34728d[_0x1e87d7(0xa41)](_0x998a79=>_0x998a79['id']===_0x1d424a);return{'id':_0x499a86,'engineType':_0x49d711,'taskType':_0x1511b0,'inputType':_0x20d7f8,'outputType':_0x336a6e,'sourceUrl':_0x21ba72};});}[_0x3eb455(0x25a)](_0x4fffe0){const _0x518348=_0x3eb455,_0x3d4ac9=new Set();for(const _0x441017 of _0x4fffe0)switch(_0x441017[_0x518348(0x6d8)]){case _0x12b7c4[_0x518348(0x937)]:case _0x12b7c4['DataCollection']:for(const _0x554bcf of[..._0x441017[_0x518348(0x7ab)],..._0x441017['retrieveBlocks']])_0x554bcf[_0x518348(0x6d8)]===_0x25d8e0[_0x518348(0x800)]&&_0x3d4ac9[_0x518348(0x520)](_0x554bcf['id']);}return Array[_0x518348(0x495)](_0x3d4ac9);}[_0x3eb455(0x98e)](_0x48bd2a){const _0x7d7dd9=_0x3eb455,_0x287576=new Set();for(const _0x483529 of _0x48bd2a)switch(_0x483529[_0x7d7dd9(0x6d8)]){case _0x12b7c4['Knowledge']:case _0x12b7c4[_0x7d7dd9(0x6b4)]:for(const _0x309664 of[..._0x483529['ingestBlocks'],..._0x483529[_0x7d7dd9(0x6d5)]])_0x309664[_0x7d7dd9(0x6d8)]===_0x25d8e0[_0x7d7dd9(0x3e5)]&&_0x287576[_0x7d7dd9(0x520)](_0x309664['id']);}return Array['from'](_0x287576);}[_0x3eb455(0x434)](_0x3eb4ad,_0x50521e,_0x25be98,_0xc30031,_0x2e9106){const _0x1295ac=_0x3eb455;return _0x3eb4ad[_0x1295ac(0x257)](_0x296246=>{const _0xf016c4=_0x1295ac;switch(_0x296246[_0xf016c4(0x6d8)]){case _0x12b7c4[_0xf016c4(0x1b8)]:case _0x12b7c4[_0xf016c4(0x4b6)]:const _0x576370=_0x50521e[_0xf016c4(0xa41)](_0x8a669b=>_0x8a669b['id']===_0x296246['id']);if(!_0x576370)throw new _0x157cd9(_0x157cd9['codes']['WorkflowInvalidBlockType'],{'block':_0x296246});const _0xb2ed29=_0x296246[_0xf016c4(0x7a9)]&&_0x576370[_0xf016c4(0x9f8)]?_0x576370[_0xf016c4(0x9f8)][_0x296246[_0xf016c4(0x7a9)]-0x1]:_0x576370;return{'type':_0x576370[_0xf016c4(0x6d8)],'id':_0x576370['id'],'uid':_0x296246[_0xf016c4(0x22b)],'name':_0xb2ed29[_0xf016c4(0x807)],'description':_0xb2ed29[_0xf016c4(0x874)],'instructions':_0xb2ed29[_0xf016c4(0xa8d)],'contextOutputVariable':_0xb2ed29[_0xf016c4(0xa23)],'grammar':[_0xf016c4(0x82e),_0xf016c4(0x358),_0xf016c4(0x648)][_0xf016c4(0x721)](_0xb2ed29[_0xf016c4(0x787)])?_0xb2ed29[_0xf016c4(0x787)]:_0x2e9106[_0xf016c4(0xa41)](_0x2d38a0=>_0x2d38a0['id']===_0xb2ed29[_0xf016c4(0x787)])[_0xf016c4(0x211)],'temperature':_0xb2ed29['temperature'],'maxTokens':_0xb2ed29[_0xf016c4(0xa61)],'modelId':_0xb2ed29[_0xf016c4(0x222)],'links':_0x296246[_0xf016c4(0x79b)],'version':_0x296246[_0xf016c4(0x7a9)]};case _0x12b7c4[_0xf016c4(0x937)]:case _0x12b7c4['DataCollection']:const _0x48129a=_0x25be98[_0xf016c4(0xa41)](_0x5a96c9=>_0x5a96c9['id']===_0x296246['id']);if(!_0x48129a)throw new _0x157cd9(_0x157cd9[_0xf016c4(0x6cc)]['WorkflowInvalidBlockType'],{'block':_0x296246});const _0x40ce89=_0x296246['version']&&_0x48129a[_0xf016c4(0x9f8)]?_0x48129a[_0xf016c4(0x9f8)][_0x296246[_0xf016c4(0x7a9)]-0x1]:_0x48129a;return{'type':_0x296246[_0xf016c4(0x6d8)],'id':_0x48129a['id'],'uid':_0x296246[_0xf016c4(0x22b)],'name':_0x40ce89[_0xf016c4(0x807)],'description':_0x40ce89['description'],'ingestBlocks':this[_0xf016c4(0x965)](_0x40ce89[_0xf016c4(0x7ab)],_0x50521e),'retrieveBlocks':this[_0xf016c4(0x965)](_0x40ce89[_0xf016c4(0x6d5)],_0x50521e),'links':_0x296246[_0xf016c4(0x79b)],'version':_0x296246[_0xf016c4(0x7a9)]};case _0x12b7c4[_0xf016c4(0x753)]:const _0x45439d=_0xc30031['find'](_0x4edc06=>_0x4edc06['id']===_0x296246['id']);if(!_0x45439d)throw new _0x157cd9(_0x157cd9[_0xf016c4(0x6cc)]['WorkflowInvalidBlockType'],{'block':_0x296246});return{'type':_0x296246[_0xf016c4(0x6d8)],'id':_0x45439d['id'],'uid':_0x296246[_0xf016c4(0x22b)],'name':_0x45439d[_0xf016c4(0x807)],'description':_0x45439d['description'],'parameters':_0x45439d['parameters'],'endpointUrl':_0x45439d['endpointUrl'],'endpointMethod':_0x45439d[_0xf016c4(0x8f1)],'headers':_0x45439d['headers'],'queryParameters':_0x45439d[_0xf016c4(0x597)],'bodyParameters':_0x45439d[_0xf016c4(0x988)],'contextOutputVariable':_0x45439d['contextOutputVariable'],'waitAsync':_0x45439d[_0xf016c4(0xa62)],'asyncEndpointUrl':_0x45439d[_0xf016c4(0x300)],'asyncEndpointMethod':_0x45439d[_0xf016c4(0x431)],'asyncHeaders':_0x45439d[_0xf016c4(0x5a0)],'links':_0x296246['links']};case _0x12b7c4['Prompt']:case _0x12b7c4[_0xf016c4(0x26c)]:case _0x12b7c4[_0xf016c4(0x40d)]:case _0x12b7c4[_0xf016c4(0x1eb)]:case _0x12b7c4['Search']:case _0x12b7c4[_0xf016c4(0x1b5)]:case _0x12b7c4['WebScraperRaw']:case _0x12b7c4[_0xf016c4(0x796)]:return{'type':_0x296246['type'],'id':_0x296246['id'],'uid':_0x296246[_0xf016c4(0x22b)],'links':_0x296246[_0xf016c4(0x79b)]};case _0x12b7c4['ChunkSplitter']:case _0x12b7c4[_0xf016c4(0x83e)]:return{'type':_0x296246['type'],'id':_0x296246['id'],'uid':_0x296246[_0xf016c4(0x22b)],'links':_0x296246[_0xf016c4(0x79b)],'attributes':_0x296246[_0xf016c4(0x9ed)]};default:throw new _0x157cd9(_0x157cd9[_0xf016c4(0x6cc)][_0xf016c4(0x79a)],{'block':_0x296246});}});}['parseDataCollectionBlocks'](_0xcd8d,_0x4e171b){const _0x50dc5d=_0x3eb455;return _0xcd8d[_0x50dc5d(0x257)](_0x3ba324=>{const _0x81a865=_0x50dc5d;switch(_0x3ba324[_0x81a865(0x6d8)]){case _0x25d8e0[_0x81a865(0x1b8)]:const _0x1b9f5e=_0x4e171b[_0x81a865(0xa41)](_0x399749=>_0x399749['id']===_0x3ba324['id']);if(!_0x1b9f5e)throw new _0x157cd9(_0x157cd9[_0x81a865(0x6cc)][_0x81a865(0x79a)],{'block':_0x3ba324});const _0x543317=_0x3ba324['version']&&_0x1b9f5e[_0x81a865(0x9f8)]?_0x1b9f5e[_0x81a865(0x9f8)][_0x3ba324['version']-0x1]:_0x1b9f5e;return{'type':_0x3ba324[_0x81a865(0x6d8)],'id':_0x3ba324['id'],'uid':_0x3ba324[_0x81a865(0x22b)],'description':_0x543317[_0x81a865(0x874)],'instructions':_0x543317[_0x81a865(0xa8d)],'grammar':_0x543317[_0x81a865(0x787)],'temperature':_0x543317[_0x81a865(0x755)],'maxTokens':_0x543317[_0x81a865(0xa61)],'modelId':_0x543317[_0x81a865(0x222)],'links':_0x3ba324['links'],'version':_0x3ba324[_0x81a865(0x7a9)]};case _0x25d8e0[_0x81a865(0x1b6)]:case _0x25d8e0[_0x81a865(0x73f)]:case _0x25d8e0['WordSplitter']:case _0x25d8e0[_0x81a865(0xa5f)]:case _0x25d8e0['EntityExtractor']:case _0x25d8e0[_0x81a865(0x9ae)]:return{'type':_0x3ba324[_0x81a865(0x6d8)],'id':_0x3ba324['id'],'uid':_0x3ba324[_0x81a865(0x22b)],'links':_0x3ba324[_0x81a865(0x79b)],'attributes':_0x3ba324[_0x81a865(0x9ed)]};case _0x25d8e0[_0x81a865(0x46f)]:case _0x25d8e0[_0x81a865(0x4c0)]:case _0x25d8e0[_0x81a865(0x77e)]:case _0x25d8e0['RelationExtractor']:case _0x25d8e0[_0x81a865(0x5ff)]:case _0x25d8e0[_0x81a865(0x796)]:case _0x25d8e0[_0x81a865(0x800)]:case _0x25d8e0[_0x81a865(0x3e5)]:case _0x25d8e0[_0x81a865(0xa7e)]:case _0x25d8e0[_0x81a865(0x630)]:return{'type':_0x3ba324[_0x81a865(0x6d8)],'id':_0x3ba324['id'],'uid':_0x3ba324[_0x81a865(0x22b)],'links':_0x3ba324[_0x81a865(0x79b)]};default:throw new _0x157cd9(_0x157cd9[_0x81a865(0x6cc)][_0x81a865(0x79a)],{'block':_0x3ba324});}});}async[_0x3eb455(0x214)](_0x15d176){const _0x4083d7=_0x3eb455;return(await(0x0,_0x1a96a4[_0x4083d7(0x514)])((0x0,_0x1a96a4[_0x4083d7(0x23e)])(_0x418361['getFirestore'](),_0x4083d7(0x6b3)+_0x15d176+_0x4083d7(0x604))))[_0x4083d7(0x876)][_0x4083d7(0x257)](_0x123ed3=>{const _0x15d499=_0x4083d7,_0x277ddf=_0x123ed3[_0x15d499(0x7b8)]();return{'type':_0x12b7c4[_0x15d499(0x1b8)],'id':_0x123ed3['id'],'name':_0x277ddf[_0x15d499(0x807)],'description':_0x277ddf[_0x15d499(0x874)],'instructions':_0x277ddf['instructions'],'contextOutputVariable':_0x277ddf[_0x15d499(0xa23)],'grammar':_0x277ddf[_0x15d499(0x787)]??_0x15d499(0x82e),'temperature':_0x277ddf['temperature'],'maxTokens':_0x277ddf['maxTokens'],'modelId':_0x277ddf[_0x15d499(0x222)],'versions':_0x277ddf[_0x15d499(0x9f8)]};});}async[_0x3eb455(0x498)](_0x21fb01){const _0x18a868=_0x3eb455;return(await(0x0,_0x1a96a4[_0x18a868(0x514)])((0x0,_0x1a96a4[_0x18a868(0x23e)])(_0x418361['getFirestore'](),'/developers/'+_0x21fb01+_0x18a868(0x989))))[_0x18a868(0x876)]['map'](_0x17e636=>{const _0x5b82a6=_0x18a868,_0x5cb128=_0x17e636[_0x5b82a6(0x7b8)]();return{'type':_0x12b7c4[_0x5b82a6(0x6b4)],'id':_0x17e636['id'],'name':_0x5cb128[_0x5b82a6(0x807)],'description':_0x5cb128[_0x5b82a6(0x874)],'ingestBlocks':_0x5cb128[_0x5b82a6(0x7ab)],'retrieveBlocks':_0x5cb128[_0x5b82a6(0x6d5)],'versions':_0x5cb128[_0x5b82a6(0x9f8)]};});}async['getSkills'](_0x27362b){const _0x3fe613=_0x3eb455;return(await(0x0,_0x1a96a4[_0x3fe613(0x514)])((0x0,_0x1a96a4[_0x3fe613(0x23e)])(_0x418361[_0x3fe613(0x9e1)](),_0x3fe613(0x6b3)+_0x27362b+_0x3fe613(0x8ba))))[_0x3fe613(0x876)]['map'](_0x5483e9=>{const _0xc05807=_0x3fe613,_0x49f029=_0x5483e9['data']();return{'type':_0x12b7c4[_0xc05807(0x753)],'id':_0x5483e9['id'],'name':_0x49f029[_0xc05807(0x807)],'description':_0x49f029[_0xc05807(0x874)],'parameters':_0x49f029[_0xc05807(0x8ea)],'endpointUrl':_0x49f029['endpointUrl'],'endpointMethod':_0x49f029[_0xc05807(0x8f1)],'headers':_0x49f029[_0xc05807(0x29b)],'queryParameters':_0x49f029[_0xc05807(0x597)],'bodyParameters':_0x49f029[_0xc05807(0x988)],'contextOutputVariable':_0x49f029[_0xc05807(0xa23)],'waitAsync':_0x49f029[_0xc05807(0xa62)]??!0x1,'asyncEndpointUrl':_0x49f029[_0xc05807(0x300)],'asyncEndpointMethod':_0x49f029[_0xc05807(0x431)],'asyncHeaders':_0x49f029['asyncHeaders']};});}async[_0x3eb455(0x8b6)](_0x1a9fe5){const _0x5bbec5=_0x3eb455;return(await(0x0,_0x1a96a4[_0x5bbec5(0x514)])((0x0,_0x1a96a4[_0x5bbec5(0x23e)])(_0x418361['getFirestore'](),_0x5bbec5(0x6b3)+_0x1a9fe5+_0x5bbec5(0x25f))))[_0x5bbec5(0x876)]['map'](_0x209dd1=>{const _0x9087ee=_0x5bbec5,_0x3c618e=_0x209dd1['data']();return{'id':_0x209dd1['id'],'name':_0x3c618e[_0x9087ee(0x807)],'description':_0x3c618e['description'],'content':_0x3c618e[_0x9087ee(0x211)]};});}async[_0x3eb455(0x41a)](_0x387ba2){const _0x5a91d3=_0x3eb455;return(await(0x0,_0x1a96a4[_0x5a91d3(0x514)])((0x0,_0x1a96a4['collection'])(_0x418361[_0x5a91d3(0x9e1)](),'/developers/'+_0x387ba2+_0x5a91d3(0x840))))[_0x5a91d3(0x876)][_0x5a91d3(0x257)](_0x1af710=>{const _0x613965=_0x5a91d3,_0x4788ae=_0x1af710[_0x613965(0x7b8)]();return{'id':_0x1af710['id'],'modelName':_0x4788ae[_0x613965(0x25b)],'engineType':_0x4788ae[_0x613965(0x27e)],'taskType':_0x4788ae[_0x613965(0x6cb)],'inputType':_0x4788ae[_0x613965(0x793)]??_0x4d2150[_0x613965(0x7c3)][_0x613965(0x1e2)],'outputType':_0x4788ae[_0x613965(0x8fd)]??_0x4d2150[_0x613965(0x4f2)][_0x613965(0x1e2)],'sourceUrl':_0x4788ae[_0x613965(0x6a6)]};});}}const _0xb2de82=_0x5aff18[_0x3eb455(0x5d6)]();class _0x43d205 extends _0x3e76e0{['localNode'];['vendorId'];[_0x3eb455(0x97b)]=0x0;[_0x3eb455(0xa13)]=0x0;[_0x3eb455(0x6da)];constructor(_0x4f0b5a,_0x5d5e05,_0x362af2,_0x3c1162){const _0x34ffb2=_0x3eb455;super(_0x4f0b5a,_0x5d5e05,_0x3c1162),this[_0x34ffb2(0x45e)]=_0x4f0b5a,this['vendorId']=_0x362af2,this[_0x34ffb2(0x6f8)]();}[_0x3eb455(0x51b)](){const _0x252e96=_0x3eb455;this[_0x252e96(0x6da)]&&(clearTimeout(this[_0x252e96(0x6da)]),delete this[_0x252e96(0x6da)]),super[_0x252e96(0x51b)]();}[_0x3eb455(0x594)](){const _0x18e80e=_0x3eb455;this['prompts']=0x0,this['tokens']=0x0,this[_0x18e80e(0x6f8)](),super[_0x18e80e(0x594)]();}[_0x3eb455(0x1c7)](_0x244aa9){const _0x618ecd=_0x3eb455,_0x55ce07=_0x618ecd(0x31c)+(0x0,_0xe630d4['v4'])();switch(_0x244aa9[_0x618ecd(0x6d8)]){case'prompt':let _0x3d04ae=!0x1;const _0x370f12=()=>{const _0x3886ef=_0x618ecd;if(_0x3d04ae)throw new _0x157cd9(_0x157cd9[_0x3886ef(0x6cc)]['GenerativeAIContextJobAlreadyConsumed']);_0x3d04ae=!0x0;},_0x11e2de=()=>(_0x370f12(),this[_0x618ecd(0x3dd)](_0x55ce07,_0x244aa9['prompt'],_0x244aa9[_0x618ecd(0x7b5)])),_0x1bf1d9=()=>(_0x370f12(),this['stream'](_0x55ce07,_0x244aa9[_0x618ecd(0x3dd)],_0x244aa9['options']));return{'id':_0x55ce07,'prompt':_0x244aa9[_0x618ecd(0x3dd)],'options':_0x244aa9[_0x618ecd(0x7b5)]??{'threadId':_0x618ecd(0x6fc)+(0x0,_0xe630d4['v4'])()},'run':_0x11e2de,'stream':_0x1bf1d9};case _0x618ecd(0x7f8):let _0x3c1183=!0x1;const _0xad3ec9=()=>{const _0x2eaeec=_0x618ecd;if(_0x3c1183)throw new _0x157cd9(_0x157cd9[_0x2eaeec(0x6cc)][_0x2eaeec(0x47f)]);_0x3c1183=!0x0;},_0x1f858d=()=>(_0xad3ec9(),this['internalRatePrompt'](_0x55ce07,_0x244aa9['rating'],_0x244aa9[_0x618ecd(0x439)],_0x244aa9['options']));if(!_0x244aa9['options']?.[_0x618ecd(0x7fa)])throw new _0x5669b1(_0x3ed137[_0x618ecd(0x3cf)],_0x618ecd(0x67f));return{'id':_0x55ce07,'rating':_0x244aa9['rating'],'options':_0x244aa9[_0x618ecd(0x7b5)]??{'threadId':_0x618ecd(0x6fc)+(0x0,_0xe630d4['v4'])()},'rate':_0x1f858d};case _0x618ecd(0x2e0):let _0x251c81=!0x1;const _0x428245=()=>{const _0x39880c=_0x618ecd;if(_0x251c81)throw new _0x157cd9(_0x157cd9['codes'][_0x39880c(0x47f)]);_0x251c81=!0x0;};return{'id':_0x55ce07,'objectStoreId':'','documentPath':_0x244aa9[_0x618ecd(0x927)],'download':()=>(_0x428245(),this[_0x618ecd(0x701)](_0x55ce07,_0x244aa9[_0x618ecd(0xa99)],_0x244aa9['documentPath']))};}}async[_0x3eb455(0x8d0)](_0x2cbbae){const _0x200859=_0x3eb455;return this[_0x200859(0x1c7)](_0x2cbbae)['rate']();}async[_0x3eb455(0x2e0)](_0x15380a){const _0x55a6eb=_0x3eb455,_0xa6a9d1={'type':'downloadDocument','objectStoreId':'','documentPath':_0x15380a};return this[_0x55a6eb(0x1c7)](_0xa6a9d1)[_0x55a6eb(0x9f5)]();}async[_0x3eb455(0x986)](_0x1913d7,_0x3248b8,_0x5b1506,{threadId:_0xc3c39b,feedback:_0x5be177=''}){const _0x41d078={'type':'rate','jobId':_0x5b1506,'threadId':_0xc3c39b,'rating':_0x3248b8,'feedback':_0x5be177},_0x2b74ff=await this['getJobObservable'](_0x1913d7,_0x4d2150['JobType']['Job'],_0x41d078,{'threadId':_0xc3c39b,'feedback':_0x5be177});return new Promise((_0x47f2f7,_0x5f3edb)=>{let _0x110777;const _0x155571=_0x2b74ff['subscribe']({'next':_0xb0b17b=>{const _0x5ddffd=a0_0x12d8;switch(_0xb0b17b[_0x5ddffd(0x1e8)]){case _0x4d2150[_0x5ddffd(0x4f0)][_0x5ddffd(0x24f)]:clearTimeout(_0x110777),_0x47f2f7(_0xb0b17b[_0x5ddffd(0x517)]),_0x155571[_0x5ddffd(0x421)]();break;case _0x4d2150[_0x5ddffd(0x4f0)][_0x5ddffd(0x3a4)]:clearTimeout(_0x110777),_0x5f3edb(new _0x157cd9(_0x157cd9[_0x5ddffd(0x6cc)][_0x5ddffd(0x98b)],{'updatedJob':_0xb0b17b})),_0x155571['unsubscribe']();}},'error':_0x5b30eb=>{const _0x435790=a0_0x12d8;clearTimeout(_0x110777),_0x5f3edb(new _0x157cd9(_0x157cd9[_0x435790(0x6cc)][_0x435790(0x98b)],{'err':_0x5b30eb})),_0x155571['unsubscribe']();}});_0x110777=setTimeout(()=>{const _0x4247c0=a0_0x12d8;_0x5f3edb(new _0x157cd9(_0x157cd9[_0x4247c0(0x6cc)][_0x4247c0(0xa9d)])),_0x155571[_0x4247c0(0x421)]();},_0x466d02);});}async['internalDownloadDocument'](_0x48fd16,_0x4bb25e,_0xfa021){const _0xf49119=_0x3eb455,_0x3eeb86={'type':'downloadDocument','objectStoreId':_0x4bb25e,'documentPath':_0xfa021,'threadId':'thread-'+(0x0,_0xe630d4['v4'])()},_0x1ae65e=await this['getJobObservable'](_0x48fd16,_0x4d2150[_0xf49119(0xa60)][_0xf49119(0xa92)],_0x3eeb86);return new Promise((_0x4494ef,_0x17c3ae)=>{const _0x327189=_0xf49119;let _0x2cbeba;const _0x195755=_0x1ae65e[_0x327189(0x79f)]({'next':_0x5ced5d=>{const _0x4c14c5=_0x327189;switch(_0x5ced5d[_0x4c14c5(0x1e8)]){case _0x4d2150[_0x4c14c5(0x4f0)]['Completed']:clearTimeout(_0x2cbeba),_0x4494ef(_0x5ced5d[_0x4c14c5(0x517)]),_0x195755[_0x4c14c5(0x421)]();break;case _0x4d2150['JobStatus'][_0x4c14c5(0x3a4)]:clearTimeout(_0x2cbeba),_0x17c3ae(new _0x157cd9(_0x157cd9['codes'][_0x4c14c5(0x98b)],{'updatedJob':_0x5ced5d})),_0x195755[_0x4c14c5(0x421)]();}},'error':_0x17329a=>{const _0x2183c5=_0x327189;clearTimeout(_0x2cbeba),_0x17c3ae(new _0x157cd9(_0x157cd9[_0x2183c5(0x6cc)][_0x2183c5(0x98b)],{'err':_0x17329a})),_0x195755[_0x2183c5(0x421)]();}});_0x2cbeba=setTimeout(()=>{const _0x1b2172=_0x327189;_0x17c3ae(new _0x157cd9(_0x157cd9[_0x1b2172(0x6cc)][_0x1b2172(0xa9d)])),_0x195755['unsubscribe']();},_0x466d02);});}async[_0x3eb455(0x3dd)](_0x1c1083,_0x4e8af8,_0x364d0e){const _0x58bb36=_0x3eb455,_0xcc3659={'type':_0x58bb36(0x3dd),'prompt':_0x4e8af8,'threadId':_0x364d0e?.[_0x58bb36(0x7fa)]??'thread-'+(0x0,_0xe630d4['v4'])()},_0x37aeb6=await this[_0x58bb36(0x315)](_0x1c1083,_0x4d2150[_0x58bb36(0xa60)][_0x58bb36(0xa92)],_0xcc3659,_0x364d0e);return new Promise((_0x4aaba9,_0x4c69b0)=>{let _0x3e18bf;const _0x45b54b=_0x37aeb6['subscribe']({'next':_0x1d3abf=>{const _0x1d39e6=a0_0x12d8;switch(_0x1d3abf['status']){case _0x4d2150[_0x1d39e6(0x4f0)][_0x1d39e6(0x24f)]:if('prompt'!==_0x1d3abf[_0x1d39e6(0x517)][_0x1d39e6(0x6d8)])return;const _0x129238=_0x1d3abf[_0x1d39e6(0x517)]['inputTokens']??0x0;this[_0x1d39e6(0x7f7)](_0x4e8af8,_0x129238),clearTimeout(_0x3e18bf),_0x4aaba9(_0x1d3abf['result']),_0x45b54b[_0x1d39e6(0x421)](),this[_0x1d39e6(0x97b)]+=0x1,this[_0x1d39e6(0xa13)]+=_0x129238,this[_0x1d39e6(0x6f8)]();break;case _0x4d2150[_0x1d39e6(0x4f0)][_0x1d39e6(0x3a4)]:clearTimeout(_0x3e18bf),_0x4c69b0(new _0x157cd9(_0x157cd9[_0x1d39e6(0x6cc)][_0x1d39e6(0x98b)],{'updatedJob':_0x1d3abf})),_0x45b54b['unsubscribe'](),this[_0x1d39e6(0x6f8)]();}},'error':_0xdbb8fc=>{const _0x1d1024=a0_0x12d8;clearTimeout(_0x3e18bf),_0x4c69b0(new _0x157cd9(_0x157cd9[_0x1d1024(0x6cc)][_0x1d1024(0x98b)],{'err':_0xdbb8fc})),_0x45b54b['unsubscribe']();}});_0x3e18bf=setTimeout(()=>{_0x4c69b0(new _0x157cd9(_0x157cd9['codes']['GenerativeAIContextJobTimeout'])),_0x45b54b['unsubscribe']();},_0x466d02);});}async*[_0x3eb455(0x2c0)](_0x452bc7,_0x49d185,_0x4ca5e8){const _0x376394=_0x3eb455,_0x58c7f7={'type':_0x376394(0x3dd),'prompt':_0x49d185,'threadId':_0x4ca5e8?.[_0x376394(0x7fa)]??_0x376394(0x6fc)+(0x0,_0xe630d4['v4'])()},_0x1f3d1f=await this[_0x376394(0x315)](_0x452bc7,_0x4d2150[_0x376394(0xa60)][_0x376394(0x637)],_0x58c7f7,_0x4ca5e8);let _0x3908be,_0x4d925f,_0x1f7f2b=!0x1,_0x1dcd95=0x0;const _0x711147=[],_0x97364b=new Map();let _0x2a3111=null;const _0x102562=()=>{_0x2a3111&&(_0x2a3111(),_0x2a3111=null);},_0x47bf13=_0x3b7d7d=>{_0x1f7f2b=!0x0,_0x102562(),_0x5ae6c1['unsubscribe'](),_0x4d925f=_0x3b7d7d;},_0x5ae6c1=_0x1f3d1f[_0x376394(0x79f)]({'next':_0x37e6a3=>{const _0x345dcd=_0x376394;switch(_0x37e6a3['status']){case _0x4d2150[_0x345dcd(0x4f0)][_0x345dcd(0x5dd)]:if(_0x345dcd(0x3dd)!==_0x37e6a3[_0x345dcd(0x517)][_0x345dcd(0x6d8)])return;if(_0x37e6a3[_0x345dcd(0x517)]&&void 0x0!==_0x37e6a3[_0x345dcd(0x517)][_0x345dcd(0x301)]){if(void 0x0===_0x37e6a3[_0x345dcd(0x517)][_0x345dcd(0x974)])return void _0x47bf13(_0x157cd9[_0x345dcd(0x6cc)][_0x345dcd(0x2c7)]);_0x1dcd95===_0x37e6a3['result'][_0x345dcd(0x974)]?(_0x711147[_0x345dcd(0x69a)](_0x37e6a3[_0x345dcd(0x517)]),_0x1dcd95++,((()=>{const _0x4aa1c7=_0x345dcd;for(;_0x97364b[_0x4aa1c7(0x8c7)](_0x1dcd95);)_0x711147['push'](_0x97364b['get'](_0x711147[_0x4aa1c7(0x3ed)])),_0x97364b[_0x4aa1c7(0xaa3)](_0x711147[_0x4aa1c7(0x3ed)]),_0x1dcd95++;})()),_0x102562(),_0x1be9cf()):_0x97364b['set'](_0x37e6a3[_0x345dcd(0x517)][_0x345dcd(0x974)],_0x37e6a3[_0x345dcd(0x517)]);}break;case _0x4d2150[_0x345dcd(0x4f0)][_0x345dcd(0x24f)]:if(_0x345dcd(0x3dd)!==_0x37e6a3['result']['type'])return;const _0x583798=_0x37e6a3[_0x345dcd(0x517)][_0x345dcd(0x81d)]??0x0;this[_0x345dcd(0x7f7)](_0x49d185,_0x583798),clearTimeout(_0x3908be),_0x47bf13(),this['prompts']+=0x1,this['tokens']+=_0x583798,this['sendStats']();break;case _0x4d2150[_0x345dcd(0x4f0)][_0x345dcd(0x3a4)]:clearTimeout(_0x3908be),_0x47bf13(_0x157cd9[_0x345dcd(0x6cc)][_0x345dcd(0x98b)]),this['sendStats']();}},'error':_0x4d8905=>{const _0x3cadea=_0x376394;clearTimeout(_0x3908be),_0x47bf13(_0x157cd9[_0x3cadea(0x6cc)][_0x3cadea(0x98b)]);}}),_0x480552=()=>{const _0x4bfe06=_0x376394;_0x47bf13(_0x157cd9[_0x4bfe06(0x6cc)][_0x4bfe06(0xa9d)]);},_0x1be9cf=()=>{clearTimeout(_0x3908be),_0x3908be=setTimeout(_0x480552,_0x466d02);};for(_0x3908be=setTimeout(_0x480552,_0x466d02);!_0x1f7f2b||_0x711147[_0x376394(0x3ed)]>0x0;)_0x711147[_0x376394(0x3ed)]>0x0?yield _0x711147[_0x376394(0x892)]():await new Promise(_0x56aa30=>_0x2a3111=_0x56aa30);if(_0x4d925f)throw _0x2c9fd4[_0x376394(0x4f1)](_0x376394(0x235),{'nodeId':this[_0x376394(0x45e)][_0x376394(0x777)](),'nodeType':this[_0x376394(0x45e)][_0x376394(0x6d8)]}),new _0x157cd9(_0x4d925f);}async[_0x3eb455(0x40a)](){const _0x42491d=_0x3eb455;return(await _0xb2de82[_0x42491d(0x40b)](this[_0x42491d(0x2df)],this[_0x42491d(0x78e)]))[_0x42491d(0x5b6)];}['logServiceEvent'](_0x5f35c1,_0x3d9d60){const _0x4f123d=_0x3eb455,_0x1f4ad6=this[_0x4f123d(0x78e)],_0x16c2ba=this[_0x4f123d(0x2e9)]();_0x2c9fd4['logServiceEvent'](_0x58ac15['GenerativeAIContext'],{'topic':_0x1f4ad6,'prompt':_0x5f35c1,'type':'prompt','nodeId':_0x16c2ba,'tokenCount':_0x3d9d60});}async['getJobObservable'](_0x107abf,_0x3264f4,_0x5e3d55,_0x31982e={}){const _0x26a8bb=_0x3eb455;let _0x5b902f;switch(_0x5e3d55[_0x26a8bb(0x6d8)]){case'prompt':{const {threadId:_0x434b87}=_0x31982e;_0x5b902f={'id':_0x107abf,'jobType':_0x3264f4,'parameters':{..._0x31982e,'type':_0x26a8bb(0x3dd),'prompt':_0x5e3d55['prompt'],'threadId':_0x434b87},'status':_0x4d2150['JobStatus'][_0x26a8bb(0x3f1)]};break;}case _0x26a8bb(0x7f8):{const {threadId:_0x40d346}=_0x31982e;_0x5b902f={'id':_0x107abf,'jobType':_0x3264f4,'parameters':{..._0x31982e,'type':_0x26a8bb(0x7f8),'jobId':_0x5e3d55[_0x26a8bb(0x439)],'rating':_0x5e3d55[_0x26a8bb(0xa1b)],'feedback':_0x5e3d55[_0x26a8bb(0x38f)]??'','threadId':_0x40d346},'status':_0x4d2150[_0x26a8bb(0x4f0)][_0x26a8bb(0x3f1)]};break;}case _0x26a8bb(0x2e0):_0x5b902f={'id':_0x107abf,'jobType':_0x3264f4,'parameters':{..._0x31982e,'type':_0x26a8bb(0x2e0),'objectStoreId':_0x5e3d55[_0x26a8bb(0xa99)],'documentPath':_0x5e3d55['documentPath']},'status':_0x4d2150[_0x26a8bb(0x4f0)][_0x26a8bb(0x3f1)]};}return await this[_0x26a8bb(0x380)](_0x5b902f);}[_0x3eb455(0x6f8)](){const _0x32ef6e=_0x3eb455;this[_0x32ef6e(0x6da)]&&clearTimeout(this[_0x32ef6e(0x6da)]),this[_0x32ef6e(0x6da)]=setTimeout(async()=>{const _0x4b8b75=_0x32ef6e;delete this[_0x4b8b75(0x6da)],this[_0x4b8b75(0x73b)][_0x4b8b75(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5['Content'],'content':{'type':_0x2862db['GenerativeAIContextStats'],'label':this['label'],'stats':{'timestamp':Date[_0x4b8b75(0xa6a)](),'storage':0x0,'messagesSent':this[_0x4b8b75(0x9fe)],'messagesReceived':this[_0x4b8b75(0x41b)],'bytesSent':this[_0x4b8b75(0x811)],'bytesReceived':this[_0x4b8b75(0x2e6)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x4b8b75(0xa13)]}}});},_0x37461b);}}var _0x3c746b,_0x26290e,_0x2c280d,_0x38af28,_0x2b62db,_0x434eea,_0x218102,_0x4b9223,_0x18c3c0,_0x1a6956,_0x49c5e1;!function(_0x10c886){const _0x447cc4=_0x3eb455;_0x10c886[_0x447cc4(0x6ad)]=_0x447cc4(0x6ad),_0x10c886[_0x447cc4(0x42a)]='IngestTrace',_0x10c886['RetrieveTrace']=_0x447cc4(0x302),_0x10c886[_0x447cc4(0x695)]=_0x447cc4(0x695);}(_0x3c746b||(_0x3c746b={})),function(_0x327487){const _0x4140d2=_0x3eb455;_0x327487[_0x4140d2(0x57b)]=_0x4140d2(0x57b),_0x327487['ModelVector']=_0x4140d2(0x2b1),_0x327487['VectorSearch']='VectorSearch',_0x327487['EntityExtractor']=_0x4140d2(0x4ea),_0x327487[_0x4140d2(0x7e4)]='GraphSearch',_0x327487['Reranker']=_0x4140d2(0x9ae);}(_0x26290e||(_0x26290e={})),function(_0x5a3e44){const _0x338d74=_0x3eb455;_0x5a3e44[_0x5a3e44[_0x338d74(0x9a9)]=0x0]=_0x338d74(0x9a9),_0x5a3e44[_0x5a3e44['Info']=0x5]='Info',_0x5a3e44[_0x5a3e44[_0x338d74(0x62e)]=0xa]=_0x338d74(0x62e),_0x5a3e44[_0x5a3e44['Error']=0xf]=_0x338d74(0x910);}(_0x2c280d||(_0x2c280d={})),function(_0x37ee49){const _0x48a563=_0x3eb455;_0x37ee49['Retrieve']=_0x48a563(0x804),_0x37ee49[_0x48a563(0x885)]=_0x48a563(0x885),_0x37ee49[_0x48a563(0x937)]=_0x48a563(0x937),_0x37ee49['Skill']=_0x48a563(0x782),_0x37ee49[_0x48a563(0x603)]='Workflow',_0x37ee49[_0x48a563(0xa92)]=_0x48a563(0xa92),_0x37ee49[_0x48a563(0x208)]=_0x48a563(0x208),_0x37ee49[_0x48a563(0x9ba)]=_0x48a563(0x9ba);}(_0x38af28||(_0x38af28={})),function(_0x3825c8){const _0x11b39b=_0x3eb455;_0x3825c8[_0x11b39b(0x893)]='Queued',_0x3825c8['Completed']=_0x11b39b(0x24f);}(_0x2b62db||(_0x2b62db={})),function(_0x2457fc){const _0xbb7f80=_0x3eb455;_0x2457fc[_0xbb7f80(0x7cd)]=_0xbb7f80(0x7cd),_0x2457fc[_0xbb7f80(0x84e)]=_0xbb7f80(0x84e),_0x2457fc['DataCollection']=_0xbb7f80(0x6b4),_0x2457fc[_0xbb7f80(0x344)]=_0xbb7f80(0x344);}(_0x434eea||(_0x434eea={})),function(_0x43e675){const _0x194288=_0x3eb455;_0x43e675[_0x194288(0xa5f)]=_0x194288(0xa5f),_0x43e675[_0x194288(0x5ff)]=_0x194288(0x5ff),_0x43e675[_0x194288(0x4ea)]=_0x194288(0x4ea),_0x43e675['GraphDatabase']=_0x194288(0x1b6),_0x43e675[_0x194288(0x1b8)]=_0x194288(0x1b8),_0x43e675[_0x194288(0x57b)]=_0x194288(0x57b),_0x43e675[_0x194288(0x2b1)]=_0x194288(0x2b1),_0x43e675[_0x194288(0x82d)]=_0x194288(0x82d),_0x43e675['SentenceSplitter']='SentenceSplitter',_0x43e675['VectorDatabase']=_0x194288(0x73f),_0x43e675[_0x194288(0x83e)]=_0x194288(0x83e);}(_0x218102||(_0x218102={})),function(_0x552c0d){const _0x1b4376=_0x3eb455;_0x552c0d['GetContextQuery']=_0x1b4376(0x67a),_0x552c0d[_0x1b4376(0x6bd)]=_0x1b4376(0x6bd);}(_0x4b9223||(_0x4b9223={})),function(_0x572204){const _0x205fe7=_0x3eb455;_0x572204[_0x205fe7(0x4a9)]='ExecuteCode',_0x572204['GetDate']=_0x205fe7(0x36a),_0x572204[_0x205fe7(0x97f)]=_0x205fe7(0x97f),_0x572204['SearchGoogle']=_0x205fe7(0x784),_0x572204[_0x205fe7(0x3c2)]=_0x205fe7(0x3c2),_0x572204['ExecuteCustomSkill']=_0x205fe7(0x7a6);}(_0x18c3c0||(_0x18c3c0={})),function(_0xd5cc4f){const _0x57894f=_0x3eb455;_0xd5cc4f['LoadKnowledgeFunction']=_0x57894f(0x40c),_0xd5cc4f[_0x57894f(0x4ec)]=_0x57894f(0x4ec);}(_0x1a6956||(_0x1a6956={})),function(_0x10ffa8){const _0x3bd62b=_0x3eb455;_0x10ffa8[_0x3bd62b(0x98c)]=_0x3bd62b(0x98c);}(_0x49c5e1||(_0x49c5e1={}));class _0x57c7e9{static [_0x3eb455(0x6f1)];[_0x3eb455(0x860)]=[];['isRunning']=!0x1;constructor(){}static[_0x3eb455(0x5d6)](){const _0x2079b7=_0x3eb455;return _0x57c7e9[_0x2079b7(0x6f1)]||(_0x57c7e9[_0x2079b7(0x6f1)]=new _0x57c7e9()),_0x57c7e9[_0x2079b7(0x6f1)];}get[_0x3eb455(0x3ed)](){const _0x4a58d9=_0x3eb455;return this['jobQueue'][_0x4a58d9(0x3ed)];}[_0x3eb455(0x810)](){const _0x366ca5=_0x3eb455;return!this[_0x366ca5(0x9b4)];}[_0x3eb455(0xa0e)](_0x4aa50c){const _0x4bf326=_0x3eb455;_0x4aa50c?this[_0x4bf326(0x860)]=this[_0x4bf326(0x860)][_0x4bf326(0x638)](_0x21b691=>_0x21b691[_0x4bf326(0x1b4)]!==_0x4aa50c):(this[_0x4bf326(0x860)]=[],this[_0x4bf326(0x9b4)]=!0x1);}[_0x3eb455(0x520)](_0x417275,_0x132c31){const _0x55cf6f=_0x3eb455;this[_0x55cf6f(0x860)][_0x55cf6f(0x69a)]({'callback':_0x132c31,'ownerId':_0x417275}),this[_0x55cf6f(0x320)]();}async[_0x3eb455(0x320)](){const _0x36c10d=_0x3eb455;if(!this[_0x36c10d(0x9b4)]){for(this[_0x36c10d(0x9b4)]=!0x0;this[_0x36c10d(0x860)][_0x36c10d(0x3ed)]>0x0;){const _0x36cbf3=this[_0x36c10d(0x860)][_0x36c10d(0x892)]();if(_0x36cbf3)try{console['warn']('JobQueueService:\x20Running\x20job'),await _0x36cbf3[_0x36c10d(0x57e)]();}catch(_0x4b25dd){console[_0x36c10d(0x4f1)](_0x36c10d(0x1dd),_0x4b25dd);}}this[_0x36c10d(0x9b4)]=!0x1;}}}const _0x38bd1e=_0x57c7e9[_0x3eb455(0x5d6)]();class _0x2a54ee extends _0x2f8302{[_0x3eb455(0x1d9)];[_0x3eb455(0x52a)];constructor(_0x3a362e,_0x17e752,_0x33764b){const _0x446b69=_0x3eb455;super(_0x3a362e,_0x17e752),this[_0x446b69(0x1d9)]=_0x33764b;}[_0x3eb455(0x41e)](){const _0x1fc077=_0x3eb455;return _0x4d2150[_0x1fc077(0x9a5)]['Job'];}[_0x3eb455(0x8db)](){this['subscribeToJobs']();}[_0x3eb455(0x579)](){const _0x26fbdc=_0x3eb455;this[_0x26fbdc(0x73b)]?.[_0x26fbdc(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x26fbdc(0x7dc)],'content':{'type':_0x2862db[_0x26fbdc(0x59c)],'label':this['label']}});}[_0x3eb455(0x594)](){const _0x2bc25a=_0x3eb455;this[_0x2bc25a(0x52a)]?.(),delete this[_0x2bc25a(0x52a)],this[_0x2bc25a(0x8db)]();}[_0x3eb455(0x51b)](){const _0x29f146=_0x3eb455;_0x38bd1e[_0x29f146(0xa0e)](this[_0x29f146(0x78e)]),this[_0x29f146(0x52a)]?.(),delete this['unsubscribeListener'],super['destroy']();}[_0x3eb455(0x810)](){const _0x576d8e=_0x3eb455;return _0x38bd1e[_0x576d8e(0x810)]();}[_0x3eb455(0x3f6)](){return 0x1;}[_0x3eb455(0x8bc)](_0x232b1c,_0x357c83,_0x47f81b){}['accumulateResult'](_0x1abf8f,_0x496b33){return _0x1abf8f;}[_0x3eb455(0x4a5)](_0x1c7a65,_0x5575e8){const _0x279331=_0x3eb455;console[_0x279331(0x405)](_0x279331(0x78c));}[_0x3eb455(0x49e)](_0x266ac5,_0x1eb827){const _0x390fa9=_0x3eb455;console[_0x390fa9(0x405)](_0x390fa9(0x78c));}[_0x3eb455(0x6f2)](){const _0x51b53b=_0x3eb455;this['unsubscribeListener']||(this[_0x51b53b(0x52a)]=this[_0x51b53b(0xa3d)]((_0xae8383,_0x388e91)=>{const _0x4de9f1=_0x51b53b;if(_0x2c9fd4[_0x4de9f1(0x2f3)](_0x51c80b[_0x4de9f1(0x969)],_0x4de9f1(0x9f7),_0x388e91),!(_0x388e91 instanceof File)){if(this[_0x4de9f1(0x4ae)](_0x388e91))_0x2c9fd4['log'](_0x51c80b[_0x4de9f1(0x969)],_0x4de9f1(0x83c),_0x388e91),this[_0x4de9f1(0x810)]()?this[_0x4de9f1(0x6f6)](_0x388e91['id'],_0x388e91[_0x4de9f1(0x308)],_0xae8383):this[_0x4de9f1(0x6aa)](_0x388e91['id'],_0x388e91['jobType'],_0xae8383);else{if(this[_0x4de9f1(0x76f)](_0x388e91)){_0x2c9fd4[_0x4de9f1(0x2f3)](_0x51c80b['Jobs'],'JobWorker:\x20Received\x20job\x20attribution',_0x388e91);const {id:_0x1cf9d1,parameters:_0x35af2c}=_0x388e91;this[_0x4de9f1(0x4a5)](_0x1cf9d1,_0x35af2c),_0x38bd1e[_0x4de9f1(0x520)](this[_0x4de9f1(0x78e)],()=>this['handleJobAttribution'](_0x388e91['id'],_0x388e91,_0xae8383));}}}}));}[_0x3eb455(0x6f6)](_0x520873,_0x1206e6,_0x5cc85a){const _0x73e5fd=_0x3eb455,_0x1d7e22={'id':_0x520873,'jobType':_0x1206e6,'jobPhase':_0x10a80f[_0x73e5fd(0x50a)],'available':!0x0,'queueLength':_0x38bd1e['length'],'bid':this[_0x73e5fd(0x3f6)]()};_0x2c9fd4[_0x73e5fd(0x2f3)](_0x51c80b[_0x73e5fd(0x969)],_0x73e5fd(0x8a9),_0x1d7e22),this[_0x73e5fd(0x307)](_0x1d7e22,[_0x5cc85a]);}[_0x3eb455(0x6aa)](_0x476c7a,_0x1da9c8,_0x5ad0f9){const _0x52094a=_0x3eb455,_0x58041a={'id':_0x476c7a,'jobType':_0x1da9c8,'jobPhase':_0x10a80f[_0x52094a(0x50a)],'available':!0x1,'queueLength':_0x38bd1e[_0x52094a(0x3ed)],'bid':0x0};_0x2c9fd4[_0x52094a(0x2f3)](_0x51c80b[_0x52094a(0x969)],_0x52094a(0x47e),_0x58041a),this[_0x52094a(0x307)](_0x58041a,[_0x5ad0f9]);}async[_0x3eb455(0x719)](_0x1274b3,_0x3e3947,_0x3eaef8){const _0x6be083=_0x3eb455;_0x2c9fd4['log'](_0x51c80b[_0x6be083(0x969)],_0x6be083(0x202),_0x3e3947);const _0x444f11={'id':_0x1274b3,'jobType':_0x3e3947[_0x6be083(0x308)],'parameters':_0x3e3947['parameters']};try{switch(_0x3e3947[_0x6be083(0x308)]){case _0x4d2150['JobType'][_0x6be083(0xa92)]:await this['processJob'](_0x1274b3,_0x3e3947,_0x444f11,_0x3eaef8);break;case _0x4d2150[_0x6be083(0xa60)]['JobStream']:await this[_0x6be083(0x7d9)](_0x1274b3,_0x3e3947,_0x444f11,_0x3eaef8);break;default:throw new Error(_0x6be083(0x2c1));}}catch(_0x557560){_0x2c9fd4[_0x6be083(0x4f1)](_0x6be083(0x486),{'nodeId':this[_0x6be083(0x7c7)][_0x6be083(0x777)](),'nodeType':this[_0x6be083(0x7c7)][_0x6be083(0x6d8)],'data':{'job':_0x444f11}},_0x557560);const _0x3168cc=_0x557560 instanceof Error?_0x557560['message']:_0x6be083(0x51c),_0x15c58d={'id':_0x1274b3,'jobType':_0x3e3947[_0x6be083(0x308)],'jobPhase':_0x10a80f[_0x6be083(0x3a4)],'message':_0x3168cc};await this[_0x6be083(0x307)](_0x15c58d,[_0x3eaef8]);}}async[_0x3eb455(0x6c5)](_0x5218dd,_0x1a5752,_0x2912d7,_0x13fa33){const _0x3e41f9=_0x3eb455,_0x41fb47=Date[_0x3e41f9(0xa6a)](),_0x135a0e=await this['internalProcessJob'](_0x5218dd,_0x2912d7[_0x3e41f9(0x8ea)]);this[_0x3e41f9(0x8bc)](_0x135a0e,_0x41fb47,Date[_0x3e41f9(0xa6a)]());const _0x17ae9b={'id':_0x5218dd,'jobType':_0x1a5752[_0x3e41f9(0x308)],'jobPhase':_0x10a80f[_0x3e41f9(0x28a)],'result':_0x135a0e};_0x2c9fd4[_0x3e41f9(0x2f3)](_0x51c80b[_0x3e41f9(0x969)],'JobWorker:\x20Sending\x20job\x20result',_0x17ae9b),await this['send'](_0x17ae9b,[_0x13fa33]),this[_0x3e41f9(0x49e)](_0x5218dd,_0x2912d7[_0x3e41f9(0x8ea)]);}async[_0x3eb455(0x7d9)](_0x21a0d3,_0x516477,_0x5984ac,_0x299e0e){const _0x2917ae=_0x3eb455,_0x2f7e7f=Date[_0x2917ae(0xa6a)]();let _0x5ccc7d=0x0,_0x3877d8={};for await(const _0x37f1a0 of this[_0x2917ae(0x575)](_0x5984ac['id'],_0x5984ac[_0x2917ae(0x8ea)])){const _0x354227={'id':_0x21a0d3,'jobType':_0x516477['jobType'],'jobPhase':_0x10a80f['PartialResult'],'result':{..._0x37f1a0,'index':_0x5ccc7d}};_0x2c9fd4[_0x2917ae(0x2f3)](_0x51c80b['Jobs'],_0x2917ae(0x340),_0x354227),this[_0x2917ae(0x307)](_0x354227,[_0x299e0e]),_0x3877d8=this[_0x2917ae(0xac4)](_0x3877d8,_0x37f1a0),_0x5ccc7d++;}this[_0x2917ae(0x8bc)](_0x3877d8,_0x2f7e7f,Date['now']());const _0x4f030d={'id':_0x21a0d3,'jobType':_0x516477[_0x2917ae(0x308)],'jobPhase':_0x10a80f['Result'],'result':_0x3877d8};_0x2c9fd4['log'](_0x51c80b[_0x2917ae(0x969)],_0x2917ae(0x8a3),_0x4f030d),await this['send'](_0x4f030d,[_0x299e0e]),this[_0x2917ae(0x49e)](_0x21a0d3,_0x5984ac[_0x2917ae(0x8ea)]);}[_0x3eb455(0x4ae)](_0x3e4d1c){const _0x36fc56=_0x3eb455;return _0x3e4d1c[_0x36fc56(0x6ce)]===_0x10a80f[_0x36fc56(0xad3)];}[_0x3eb455(0x76f)](_0x10ddec){const _0x517205=_0x3eb455;return _0x10ddec['jobPhase']===_0x10a80f[_0x517205(0x1f2)];}}function _0x2dd7de(_0x393bfd,_0x4c9661){const _0x4620f2=_0x3eb455;return _0x4620f2(0x8bd)+_0x393bfd+'-'+_0x4c9661;}function _0x17a892(){const _0x2c0f5a=_0x3eb455,_0x405c93=_0x26e848[_0x2c0f5a(0xa53)](0x1);return _0x405c93[_0x2c0f5a(0x906)](_0x2c0f5a(0x6fe))['index']('id')[_0x2c0f5a(0x974)](_0x2c0f5a(0x439))[_0x2c0f5a(0x974)](_0x2c0f5a(0x867))[_0x2c0f5a(0x974)]('threadId')[_0x2c0f5a(0x974)](_0x2c0f5a(0x373))[_0x2c0f5a(0x974)](_0x2c0f5a(0x57d)),_0x405c93;}function _0x397ef7(_0xbdc0f8){const _0x5beca8=_0x3eb455;try{return JSON[_0x5beca8(0x845)](_0xbdc0f8);}catch(_0x460f90){return _0xbdc0f8 instanceof Error?_0xbdc0f8[_0x5beca8(0x957)]():JSON[_0x5beca8(0x845)]('Error\x20stringifying\x20object');}}class _0x3d4e03{static [_0x3eb455(0x6f1)];[_0x3eb455(0xaa9)]=_0x2c280d['Error'];[_0x3eb455(0x7ad)]=_0x2c280d[_0x3eb455(0x283)];['commitType']=_0x38af28[_0x3eb455(0x804)];['openedTraces']={};static [_0x3eb455(0x5d6)]=()=>(_0x3d4e03[_0x3eb455(0x6f1)]||(_0x3d4e03[_0x3eb455(0x6f1)]=new _0x3d4e03()),_0x3d4e03[_0x3eb455(0x6f1)]);['openTrace'](_0x42f569,_0x2ff49d,_0x45945f=!0x0){const _0x2d48f2=_0x3eb455;try{if(this[_0x2d48f2(0x3ac)][_0x2ff49d])throw new Error(_0x2d48f2(0x335));const _0x3b998f={'sequence':0x0};if(this[_0x2d48f2(0x3ac)][_0x2ff49d]=_0x3b998f,!_0x42f569)return!0x0;const _0xcf2c9d=function(_0x3000a8){const _0x1fa903=_0x2d48f2;return _0x3000a8[_0x1fa903(0x900)](_0x1fa903(0x6fe));}(_0x42f569);return _0x3b998f[_0x2d48f2(0x452)]=_0x42f569,_0x3b998f[_0x2d48f2(0x906)]=_0xcf2c9d,!0x0;}catch(_0x2b3f8f){return console[_0x2d48f2(0x4f1)](_0x2d48f2(0x6db)+_0x45945f,_0x2b3f8f),!!_0x45945f&&(this['closeTrace'](_0x2ff49d),this[_0x2d48f2(0x9bb)](_0x42f569,_0x2ff49d,!0x1));}}['trace'](_0x17dced){const _0x25dadc=_0x3eb455;try{const _0x30561a=this[_0x25dadc(0x3ac)][_0x17dced['jobId']];if(!_0x30561a)throw new Error(_0x25dadc(0x25d));_0x17dced[_0x25dadc(0x57d)]=_0x30561a[_0x25dadc(0x57d)]++,_0x17dced['traceLevel']>=this[_0x25dadc(0xaa9)]&&console[_0x25dadc(0x2f3)](JSON[_0x25dadc(0x845)](_0x17dced,null,0x2)),this[_0x25dadc(0x780)](_0x17dced);}catch(_0x1557c8){console[_0x25dadc(0x4f1)](_0x25dadc(0x60c),_0x1557c8);}}[_0x3eb455(0x30e)](_0x341564){const _0x3cff05=_0x3eb455;if(!_0x3d4e03[_0x3cff05(0x6f1)])throw new Error(_0x3cff05(0x557));if(!this[_0x3cff05(0x3ac)][_0x341564])throw new Error('GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match');delete this['openedTraces'][_0x341564];}[_0x3eb455(0x780)](_0x1d748e){const _0x462a62=_0x3eb455;if(_0x1d748e[_0x462a62(0x491)]<this[_0x462a62(0x7ad)]&&_0x1d748e[_0x462a62(0x308)]!==this[_0x462a62(0x97e)])return;if(!this[_0x462a62(0x3ac)][_0x1d748e[_0x462a62(0x439)]])throw new Error(_0x462a62(0x2bb));const _0x1ec60b=this[_0x462a62(0x3ac)][_0x1d748e[_0x462a62(0x439)]];if(!_0x1ec60b[_0x462a62(0x452)])throw new Error(_0x462a62(0x948));if(!_0x1ec60b[_0x462a62(0x906)])throw new Error('GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set');try{const _0x25c34d=function(_0x208b71){const _0x5c9d22=_0x462a62,_0x82802f=[_0x5c9d22(0x28c),_0x5c9d22(0x373),_0x5c9d22(0x308),_0x5c9d22(0x6d8),_0x5c9d22(0x439),'traceLevel','blockId',_0x5c9d22(0x1e8),'sequence',_0x5c9d22(0x2e2)],_0x144228={..._0x208b71};for(const _0x5a78cb of _0x82802f)delete _0x144228[_0x5a78cb];return{'timestamp':_0x208b71[_0x5c9d22(0x373)],'jobType':_0x208b71[_0x5c9d22(0x308)],'type':_0x208b71['type'],'jobId':_0x208b71[_0x5c9d22(0x439)],'agentId':_0x208b71[_0x5c9d22(0x867)]??'','traceLevel':_0x208b71[_0x5c9d22(0x491)],'blockId':_0x208b71['blockId']??'','startTime':_0x208b71['startTime'],'status':_0x208b71[_0x5c9d22(0x1e8)],'sequence':_0x208b71['sequence']??0x0,'errorDetails':_0x208b71[_0x5c9d22(0x2e2)]??'','metadata':_0x397ef7(_0x144228)};}(_0x1d748e),_0x1e479b=(0x0,_0xe630d4['v4'])();console['log'](_0x462a62(0x602),_0x25c34d['type']),_0x1ec60b[_0x462a62(0x906)][_0x462a62(0x90d)](_0x1e479b,_0x25c34d);}catch(_0x52995c){console[_0x462a62(0x4f1)](_0x462a62(0x732),_0x52995c);}}}const _0x3608a7=_0x3d4e03[_0x3eb455(0x5d6)]();async function _0x12af66(_0x21b355,_0x455686,_0x79fae3,_0x471bca,_0x4a038c){const _0x29dbb2=_0x3eb455,_0x30a208=Date['now'](),_0x2ccd72=_0x4a038c[_0x29dbb2(0x6f9)][_0x29dbb2(0xa41)](_0x443109=>_0x443109['id']===_0x79fae3['modelId']);if(!_0x2ccd72)throw new Error('Model\x20not\x20found');const _0xe46b21=_0x4a038c['generativeAIWorkerConnectors']['find'](_0x20163a=>_0x20163a['getEngineType']()===_0x2ccd72['engineType']);if(!_0xe46b21)throw new Error(_0x29dbb2(0x728));const _0x4cd3aa=[],_0xede469=(0x0,_0xe630d4['v4'])(),_0x387ad1=await _0xe46b21[_0x29dbb2(0x6c5)]({'type':'prompt','prompt':_0x455686,'instructions':_0x79fae3[_0x29dbb2(0xa8d)],'grammar':_0x79fae3[_0x29dbb2(0x787)],'temperature':_0x79fae3[_0x29dbb2(0x755)],'maxTokens':_0x79fae3[_0x29dbb2(0xa61)],'threadId':_0xede469},{'model':_0x2ccd72});if('string'!=typeof _0x387ad1[_0x29dbb2(0x301)])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');_0x3608a7[_0x29dbb2(0x879)]({'jobType':_0x38af28[_0x29dbb2(0x885)],'type':_0x218102[_0x29dbb2(0x1b8)],'jobId':_0x21b355,'blockId':_0x79fae3['id'],'traceLevel':_0x2c280d['Debug'],'timestamp':Date[_0x29dbb2(0xa6a)](),'startTime':_0x30a208,'status':_0x29dbb2(0x63c),'agentId':_0xede469,'content':_0x455686,'instructions':_0x79fae3[_0x29dbb2(0xa8d)],'result':_0x387ad1[_0x29dbb2(0x301)]}),_0x4cd3aa[_0x29dbb2(0x69a)]({'content':_0x387ad1[_0x29dbb2(0x301)],'start':0x0,'length':_0x455686[_0x29dbb2(0x3ed)]}),await _0x2c9299(_0x21b355,_0x4cd3aa,_0x79fae3,_0x471bca,_0x4a038c);}async function _0x379ff5(_0x1f69cc,_0x33e6f6,_0x12c408,_0x5081cf,_0x5d0893){const _0x111bbc=_0x3eb455,_0x460dbc=Date[_0x111bbc(0xa6a)]();let _0x5a14ea=[];if(_0x33e6f6 instanceof Array){for(const _0x5dd2de of _0x33e6f6)_0x5a14ea=_0x5a14ea[_0x111bbc(0xa21)](_0x29cde1(_0x5dd2de[_0x111bbc(0x211)],_0x12c408,_0x5dd2de['start'],_0x5dd2de[_0x111bbc(0x3ed)]));}else _0x5a14ea=_0x29cde1(_0x33e6f6,_0x12c408);_0x3608a7[_0x111bbc(0x879)]({'jobType':_0x38af28['Ingest'],'type':_0x218102[_0x111bbc(0xa5f)],'traceLevel':_0x2c280d[_0x111bbc(0x9a9)],'jobId':_0x1f69cc,'blockId':_0x12c408['id'],'startTime':_0x460dbc,'timestamp':Date[_0x111bbc(0xa6a)](),'status':_0x111bbc(0x63c),'totalChunks':_0x5a14ea[_0x111bbc(0x3ed)],'chunkSize':_0x12c408[_0x111bbc(0x9ed)][_0x111bbc(0xa95)]}),await _0x2c9299(_0x1f69cc,_0x5a14ea,_0x12c408,_0x5081cf,_0x5d0893);}function _0x29cde1(_0x31dcb9,_0x3d495f,_0x314701,_0x5065e6){const _0x38d192=_0x3eb455,_0x30df2b=[];let _0x5dbe43=0x0;for(let _0x28daa1=0x0;_0x28daa1<_0x31dcb9[_0x38d192(0x3ed)];_0x28daa1+=_0x3d495f['attributes'][_0x38d192(0xa95)]){let _0x3827dd=_0x28daa1-_0x3d495f[_0x38d192(0x9ed)]['overlap'];_0x3827dd<0x0&&(_0x3827dd=0x0);let _0x3bd507=_0x28daa1+_0x3d495f[_0x38d192(0x9ed)][_0x38d192(0xa95)]+_0x3d495f[_0x38d192(0x9ed)][_0x38d192(0x397)];_0x3bd507>_0x31dcb9['length']&&(_0x3bd507=_0x31dcb9[_0x38d192(0x3ed)]);const _0x58b3cd=_0x31dcb9['substring'](_0x3827dd,_0x3bd507);_0x30df2b['push']({'content':_0x58b3cd,'start':_0x314701??_0x5dbe43,'length':_0x5065e6??_0x58b3cd[_0x38d192(0x3ed)]}),_0x5dbe43+=_0x58b3cd[_0x38d192(0x3ed)];}return _0x30df2b;}async function _0x55779b(_0x32e24d,_0x3b3d78,_0x5d3633,_0x4cc266,_0x4fc0fc){const _0x146c23=_0x3eb455,_0x3adab7=Date[_0x146c23(0xa6a)]();let _0x5f4c30;if(_0x3b3d78['file'][_0x146c23(0x6d8)][_0x146c23(0x5fb)](_0x146c23(0x849))||(_0x27dbeb=_0x3b3d78[_0x146c23(0x7a0)][_0x146c23(0x807)],_0x2b35c8[_0x146c23(0x721)]('.'+(_0x27dbeb[_0x146c23(0x979)]('.')[_0x146c23(0x843)]()?.['toLowerCase']()||''))))_0x5f4c30=await _0x3b3d78[_0x146c23(0x7a0)][_0x146c23(0x442)]();else{if(!_0x4fc0fc[_0x146c23(0x696)][_0x146c23(0x61a)](_0x3b3d78[_0x146c23(0x7a0)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x3b3d78[_0x146c23(0x7a0)]['type']+_0x146c23(0x3f2)+_0x3b3d78[_0x146c23(0x7a0)]['name']);_0x5f4c30=await _0x4fc0fc[_0x146c23(0x696)][_0x146c23(0x55e)](_0x3b3d78[_0x146c23(0x7a0)]);}var _0x27dbeb;_0x3608a7[_0x146c23(0x879)]({'jobType':_0x38af28[_0x146c23(0x885)],'type':_0x218102['DocumentParser'],'traceLevel':_0x2c280d[_0x146c23(0x9a9)],'blockId':_0x5d3633['id'],'jobId':_0x32e24d,'startTime':_0x3adab7,'timestamp':Date['now'](),'status':_0x146c23(0x63c),'documentType':_0x3b3d78[_0x146c23(0x7a0)][_0x146c23(0x6d8)],'documentName':_0x3b3d78[_0x146c23(0x7a0)][_0x146c23(0x807)],'extractionMethod':'OfficeParser'}),await _0x2c9299(_0x32e24d,_0x5f4c30,_0x5d3633,_0x4cc266,_0x4fc0fc);}const _0x2b35c8=[_0x3eb455(0x4bf),_0x3eb455(0x418),_0x3eb455(0x895),_0x3eb455(0x6e8),'.txt',_0x3eb455(0x671),_0x3eb455(0x712),_0x3eb455(0xab3),_0x3eb455(0x764),_0x3eb455(0x826),_0x3eb455(0x31f),_0x3eb455(0x7d0),_0x3eb455(0xaac),_0x3eb455(0xa9c),_0x3eb455(0x861),_0x3eb455(0x733),_0x3eb455(0x66f),_0x3eb455(0x641),_0x3eb455(0xaad),'.java','.c',_0x3eb455(0x6b2),_0x3eb455(0x726),'.r',_0x3eb455(0x1b3),_0x3eb455(0x6e2),_0x3eb455(0x537),_0x3eb455(0x4ee),_0x3eb455(0x634),_0x3eb455(0x7c1),_0x3eb455(0x5d0),_0x3eb455(0x617),'.hs',_0x3eb455(0x674),_0x3eb455(0x765),_0x3eb455(0x7ac),_0x3eb455(0x97d),_0x3eb455(0x210),_0x3eb455(0x64e),'.ps1','.tcl','.m',_0x3eb455(0x505),_0x3eb455(0x708),'.rkt',_0x3eb455(0x329),'.ipynb',_0x3eb455(0x543),_0x3eb455(0x36e),_0x3eb455(0x2f6),_0x3eb455(0x560),'.jinja',_0x3eb455(0x3fd),_0x3eb455(0x69f),_0x3eb455(0x443),'.ejs',_0x3eb455(0x607),'.liquid',_0x3eb455(0x779),_0x3eb455(0x547),_0x3eb455(0x864),_0x3eb455(0x809),'.djt'];async function _0x33b31e(_0x29c654,_0x333b67,_0x263e43,_0x33f718,_0x2a9133){const _0x2d6297=_0x3eb455,_0x3533c6=Date[_0x2d6297(0xa6a)](),_0x3e9d87=new Set();let _0x4f7f15=0x0;for(const _0x7ba5a1 of _0x333b67)_0x4f7f15+=_0x7ba5a1[_0x2d6297(0x211)][_0x2d6297(0x3ed)],await _0x2e94eb(_0x7ba5a1[_0x2d6297(0x211)],_0x3e9d87,_0x263e43,_0x2a9133[_0x2d6297(0x5a6)]);_0x3608a7['trace']({'jobType':_0x38af28[_0x2d6297(0x885)],'type':_0x218102[_0x2d6297(0x4ea)],'jobId':_0x29c654,'blockId':_0x263e43['id'],'traceLevel':_0x2c280d[_0x2d6297(0x9a9)],'startTime':_0x3533c6,'timestamp':Date[_0x2d6297(0xa6a)](),'status':_0x2d6297(0x63c),'contentLength':_0x4f7f15,'totalChunks':_0x333b67 instanceof Array?_0x333b67['length']:0x1,'entitiesExtracted':_0x3e9d87,'totalEntities':_0x3e9d87[_0x2d6297(0xa95)]}),await _0x2c9299(_0x29c654,_0x3e9d87,_0x263e43,_0x33f718,_0x2a9133);}async function _0x2e94eb(_0x1d6076,_0x6ed071,_0x367e80,_0xbf7cda){const _0x15681=_0x3eb455,_0x4e54b2=await _0xbf7cda['getEntities'](_0x1d6076,{'ner':_0x367e80[_0x15681(0x9ed)][_0x15681(0x84f)],'noun':_0x367e80['attributes'][_0x15681(0x9eb)],'propn':_0x367e80['attributes'][_0x15681(0x508)],'verb':_0x367e80['attributes'][_0x15681(0x7ae)]});for(const _0x383330 of _0x4e54b2)_0x6ed071[_0x15681(0x520)](_0x383330);}function _0x54e317(_0x87dadb,_0x327715,_0x263b62,_0x2a559f,_0x56b31f){const _0xe5e779=_0x3eb455,_0x2a939c=Date['now']();if(_0x263b62['accumulated']||(_0x263b62[_0xe5e779(0xa6e)]={}),_0xe5e779(0x77a)==typeof _0x327715?_0x263b62[_0xe5e779(0xa6e)][_0xe5e779(0x211)]=_0x327715:_0x327715 instanceof Set?_0x263b62[_0xe5e779(0xa6e)][_0xe5e779(0x668)]=_0x327715:_0x327715 instanceof Map?_0x263b62[_0xe5e779(0xa6e)][_0xe5e779(0x67d)]=_0x327715:_0x327715 instanceof Array?_0x263b62['accumulated'][_0xe5e779(0x974)]=_0x327715:_0x263b62[_0xe5e779(0xa6e)][_0xe5e779(0x7a0)]=_0x327715,_0x263b62['timesCalled']=_0x263b62[_0xe5e779(0x528)]?_0x263b62[_0xe5e779(0x528)]+0x1:0x1,_0x302e2b(_0x263b62,_0x2a559f)>_0x263b62[_0xe5e779(0x528)])return;if(!(_0x263b62[_0xe5e779(0xa6e)][_0xe5e779(0x668)]&&_0x263b62[_0xe5e779(0xa6e)][_0xe5e779(0x7a0)]&&_0x263b62[_0xe5e779(0xa6e)][_0xe5e779(0x211)]&&_0x263b62[_0xe5e779(0xa6e)][_0xe5e779(0x974)]))throw new Error(_0xe5e779(0x5cc));let _0x1d1739=0x0;const _0x205f67=_0x56b31f[_0xe5e779(0x413)][_0xe5e779(0x437)](_0x263b62['id']);for(const _0x532db6 of _0x263b62[_0xe5e779(0xa6e)]['entities']){let _0x197bd8=[];_0x197bd8=_0x263b62[_0xe5e779(0xa6e)][_0xe5e779(0x974)]['filter'](_0x4eca48=>_0x4eca48[_0xe5e779(0x211)][_0xe5e779(0x721)](_0x532db6));try{_0x205f67['addNode'](_0x263b62[_0xe5e779(0xa6e)]['file']['pathName'],_0x263b62[_0xe5e779(0xa6e)][_0xe5e779(0x211)],_0x197bd8,_0x532db6),_0x1d1739+=0x1;}catch(_0x128e3e){}}if(_0x263b62['accumulated']['relations']){for(const [_0x4098d9,_0x283fdf]of _0x263b62['accumulated'][_0xe5e779(0x67d)])for(const _0xc20537 of _0x283fdf)try{_0x205f67['addEdge'](_0x4098d9,_0xc20537);}catch(_0x5e97c5){}if(_0x205f67[_0xe5e779(0xa4d)]()){let _0x153859=''+(_0x56b31f['version']??0x1);for(const _0x5dd601 of _0x2a559f)if(_0x5dd601[_0xe5e779(0x6d8)]===_0x25d8e0[_0xe5e779(0x1b8)]){_0x153859=_0x153859+'-'+(_0x5dd601[_0xe5e779(0x7a9)]??0x1);break;}_0x205f67[_0xe5e779(0x612)](_0x153859);}_0x3608a7[_0xe5e779(0x879)]({'jobType':_0x38af28['Ingest'],'type':_0x218102[_0xe5e779(0x1b6)],'jobId':_0x87dadb,'blockId':_0x263b62['id'],'status':'success','startTime':_0x2a939c,'timestamp':Date[_0xe5e779(0xa6a)](),'traceLevel':_0x2c280d[_0xe5e779(0x9a9)],'nodesAdded':_0x1d1739,'entities':_0x263b62['accumulated'][_0xe5e779(0x668)],'relations':_0x263b62[_0xe5e779(0xa6e)]['relations']});}}async function _0xcc83d1(_0x176973,_0x4c229d,_0x345435,_0x42956d,_0x23ca71){const _0x1db4a9=_0x3eb455,_0x4484ee=_0x23ca71[_0x1db4a9(0x6f9)][_0x1db4a9(0xa41)](_0x33335c=>_0x33335c['id']===_0x345435['id']);if(!_0x4484ee)throw new Error(_0x1db4a9(0x324));switch(_0x4484ee[_0x1db4a9(0x8fd)]){case _0x4d2150[_0x1db4a9(0x4f2)][_0x1db4a9(0x1e2)]:if(_0x1db4a9(0x77a)!=typeof _0x4c229d)throw new Error(_0x1db4a9(0x918));await async function(_0x12bf05,_0xf0d2db,_0x292346,_0xa2b9f5,_0x39f3bc,_0xd2a0b9){const _0x1b5d3a=_0x1db4a9,_0x4412fe=Date[_0x1b5d3a(0xa6a)]();let _0x1cb2a7;const _0x527523=_0xd2a0b9[_0x1b5d3a(0x20c)][_0x1b5d3a(0xa41)](_0x37480e=>_0x37480e['getEngineType']()===_0x292346[_0x1b5d3a(0x3d9)]);if(!_0x527523)throw new Error(_0x1b5d3a(0x728));_0x1cb2a7=await async function(_0x3c8b1a,_0x2323b6,_0xeb4587){const _0x1af561=_0x1b5d3a,_0x1729b7=await _0x2323b6[_0x1af561(0x6c5)]({'type':'prompt','prompt':_0x3c8b1a,'threadId':''},{'model':_0xeb4587});if(_0x1729b7[_0x1af561(0x301)]instanceof Array)throw new Error('Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text');return _0x1729b7[_0x1af561(0x301)];}(_0xf0d2db,_0x527523,_0x292346),_0x3608a7[_0x1b5d3a(0x879)]({'jobType':_0x38af28[_0x1b5d3a(0x885)],'type':_0x218102['ModelText'],'jobId':_0x12bf05,'blockId':_0xa2b9f5['id'],'traceLevel':_0x2c280d[_0x1b5d3a(0x9a9)],'timestamp':Date['now'](),'startTime':_0x4412fe,'status':_0x1b5d3a(0x63c),'modelName':_0x292346['id'],'inputType':_0x292346['inputType'],'outputType':_0x292346[_0x1b5d3a(0x8fd)],'content':_0xf0d2db,'results':_0x1cb2a7}),await _0x2c9299(_0x12bf05,_0x1cb2a7,_0xa2b9f5,_0x39f3bc,_0xd2a0b9);}(_0x176973,_0x4c229d,_0x4484ee,_0x345435,_0x42956d,_0x23ca71);break;case _0x4d2150[_0x1db4a9(0x4f2)][_0x1db4a9(0x911)]:if(!(_0x4c229d instanceof Array))throw new Error(_0x1db4a9(0x6a1));await async function(_0xcfbd04,_0x22c1e0,_0x333f12,_0x3826f7,_0x41d5a5,_0x57f2c9){const _0x52ae8f=_0x1db4a9,_0x323a89=Date[_0x52ae8f(0xa6a)](),_0x4116eb=[],_0x427eba=_0x57f2c9[_0x52ae8f(0x20c)][_0x52ae8f(0xa41)](_0x347c8d=>_0x347c8d[_0x52ae8f(0x99f)]()===_0x333f12[_0x52ae8f(0x3d9)]);if(!_0x427eba)throw new Error(_0x52ae8f(0x728));for(const _0x5e18f8 of _0x22c1e0)_0x4116eb[_0x52ae8f(0x69a)](await _0x1012da(_0x5e18f8,_0x427eba,_0x333f12));_0x3608a7[_0x52ae8f(0x879)]({'jobType':_0x38af28[_0x52ae8f(0x885)],'type':_0x218102[_0x52ae8f(0x2b1)],'jobId':_0xcfbd04,'blockId':_0x3826f7['id'],'traceLevel':_0x2c280d[_0x52ae8f(0x9a9)],'timestamp':Date[_0x52ae8f(0xa6a)](),'startTime':_0x323a89,'status':_0x52ae8f(0x63c),'modelName':_0x333f12['id'],'inputType':_0x333f12[_0x52ae8f(0x793)],'outputType':_0x333f12['outputType'],'totalVectors':_0x4116eb[_0x52ae8f(0x3ed)]}),await _0x2c9299(_0xcfbd04,_0x4116eb,_0x3826f7,_0x41d5a5,_0x57f2c9);}(_0x176973,_0x4c229d,_0x4484ee,_0x345435,_0x42956d,_0x23ca71);}}async function _0x1012da(_0x138074,_0x4c77d0,_0x46d0c1){const _0x588b03=_0x3eb455;return(await _0x4c77d0[_0x588b03(0x6c5)]({'type':_0x588b03(0x3dd),'prompt':_0x138074[_0x588b03(0x211)],'threadId':''},{'model':_0x46d0c1}))[_0x588b03(0x301)];}async function _0x4efcb1(_0x2e2276,_0x225f06,_0x28a276,_0x18e3dc,_0x3a3af1){const _0x5d31f4=_0x3eb455,_0x3cb718=Date['now']();if(_0x28a276[_0x5d31f4(0xa6e)]||(_0x28a276[_0x5d31f4(0xa6e)]={}),_0x225f06 instanceof Array?_0x28a276[_0x5d31f4(0xa6e)][_0x5d31f4(0x974)]=_0x225f06:_0x28a276[_0x5d31f4(0xa6e)]['entities']=_0x225f06,_0x28a276[_0x5d31f4(0x528)]=_0x28a276[_0x5d31f4(0x528)]?_0x28a276[_0x5d31f4(0x528)]+0x1:0x1,_0x302e2b(_0x28a276,_0x18e3dc)>_0x28a276[_0x5d31f4(0x528)])return;if(!_0x28a276[_0x5d31f4(0xa6e)][_0x5d31f4(0x974)]||!_0x28a276[_0x5d31f4(0xa6e)][_0x5d31f4(0x668)])throw new Error(_0x5d31f4(0x1ec));const _0x15fe62=new Map();for(const _0x30ac8c of _0x28a276[_0x5d31f4(0xa6e)][_0x5d31f4(0x974)])_0x5689a6(_0x30ac8c[_0x5d31f4(0x211)],_0x28a276[_0x5d31f4(0xa6e)][_0x5d31f4(0x668)],_0x15fe62);_0x3608a7[_0x5d31f4(0x879)]({'jobType':_0x38af28[_0x5d31f4(0x885)],'type':_0x218102[_0x5d31f4(0x82d)],'jobId':_0x2e2276,'blockId':_0x28a276['id'],'traceLevel':_0x2c280d[_0x5d31f4(0x9a9)],'timestamp':Date['now'](),'startTime':_0x3cb718,'status':_0x5d31f4(0x63c),'entities':_0x28a276['accumulated'][_0x5d31f4(0x668)],'relations':_0x15fe62,'totalRelationsExtracted':_0x15fe62[_0x5d31f4(0xa95)]}),await _0x2c9299(_0x2e2276,_0x15fe62,_0x28a276,_0x18e3dc,_0x3a3af1);}function _0x5689a6(_0x261978,_0x3ab884,_0xc94af3){const _0x2c0a69=_0x3eb455;for(const _0x3c074c of _0x3ab884)for(const _0xa0b16c of _0x3ab884){if(_0x3c074c===_0xa0b16c)continue;const _0x57e1b4=_0x261978['indexOf'](_0x3c074c),_0x3a5084=_0x261978[_0x2c0a69(0x43a)](_0xa0b16c);-0x1!==_0x57e1b4&&-0x1!==_0x3a5084&&(_0xc94af3[_0x2c0a69(0x8c7)](_0x3c074c)||_0xc94af3[_0x2c0a69(0x90d)](_0x3c074c,new Set()),_0xc94af3['get'](_0x3c074c)[_0x2c0a69(0x520)](_0xa0b16c));}return _0xc94af3;}async function _0x1f2183(_0x385f98,_0x261ddf,_0x56c9ec,_0x5c1c54,_0xc2bb8b){const _0x38be7a=_0x3eb455,_0x4113f8=Date['now']();let _0x424112=[];if(_0x261ddf instanceof Array)for(const _0x27e28b of _0x261ddf){const _0x119d55=await _0xc2bb8b[_0x38be7a(0x5a6)][_0x38be7a(0x538)](_0x27e28b[_0x38be7a(0x211)]);_0x424112=_0x424112[_0x38be7a(0xa21)](_0x119d55[_0x38be7a(0x257)](_0x2840a5=>({'content':_0x2840a5,'start':_0x27e28b[_0x38be7a(0x362)],'length':_0x27e28b[_0x38be7a(0x3ed)]})));}else _0x424112=(await _0xc2bb8b[_0x38be7a(0x5a6)]['getSentences'](_0x261ddf))[_0x38be7a(0x257)](_0x29948a=>({'content':_0x29948a,'start':_0x261ddf[_0x38be7a(0x43a)](_0x29948a),'length':_0x29948a['length']}));_0x3608a7['trace']({'jobType':_0x38af28[_0x38be7a(0x885)],'type':_0x218102[_0x38be7a(0x796)],'jobId':_0x385f98,'blockId':_0x56c9ec['id'],'traceLevel':_0x2c280d['Debug'],'startTime':_0x4113f8,'timestamp':Date[_0x38be7a(0xa6a)](),'status':'success','totalSentences':_0x424112['length'],'averageSentenceLength':_0x424112[_0x38be7a(0x92f)]((_0xbd054e,_0x109690)=>_0xbd054e+_0x109690[_0x38be7a(0x3ed)],0x0)/_0x424112['length']}),await _0x2c9299(_0x385f98,_0x424112,_0x56c9ec,_0x5c1c54,_0xc2bb8b);}function _0x3b09b6(_0x3258e0,_0x4c72a5,_0xbd2f51,_0x1485a8,_0x2bb6e5){const _0x3cf524=_0x3eb455,_0x2eabd5=Date[_0x3cf524(0xa6a)]();var _0x5eb60a;if(_0xbd2f51['accumulated']||(_0xbd2f51['accumulated']={}),_0x4c72a5 instanceof Array?(_0x5eb60a=_0x4c72a5)[0x0]instanceof Array&&_0x3cf524(0x411)==typeof _0x5eb60a[0x0]?.[0x0]?_0xbd2f51[_0x3cf524(0xa6e)]['vectors']=_0x4c72a5:_0xbd2f51[_0x3cf524(0xa6e)][_0x3cf524(0x974)]=_0x4c72a5:'string'==typeof _0x4c72a5?_0xbd2f51[_0x3cf524(0xa6e)][_0x3cf524(0x211)]=_0x4c72a5:_0xbd2f51[_0x3cf524(0xa6e)][_0x3cf524(0x7a0)]=_0x4c72a5,_0xbd2f51[_0x3cf524(0x528)]=_0xbd2f51[_0x3cf524(0x528)]?_0xbd2f51[_0x3cf524(0x528)]+0x1:0x1,_0x302e2b(_0xbd2f51,_0x1485a8)>_0xbd2f51[_0x3cf524(0x528)])return;if(!(_0xbd2f51['accumulated']['content']&&_0xbd2f51[_0x3cf524(0xa6e)]['index']&&_0xbd2f51[_0x3cf524(0xa6e)][_0x3cf524(0x1c0)]&&_0xbd2f51['accumulated'][_0x3cf524(0x7a0)]))throw new Error(_0x3cf524(0x4a2));const _0x258fb2=_0x2bb6e5[_0x3cf524(0x413)]['getVectorDatabase'](_0xbd2f51['id']);if(_0x258fb2[_0x3cf524(0x4e9)](_0xbd2f51[_0x3cf524(0xa6e)]['file'][_0x3cf524(0x4d6)],_0xbd2f51[_0x3cf524(0xa6e)]['content'],_0xbd2f51['accumulated'][_0x3cf524(0x974)],_0xbd2f51[_0x3cf524(0xa6e)][_0x3cf524(0x1c0)]),_0x258fb2['getIsLoaded']()){let _0x5bac66=''+(_0x2bb6e5[_0x3cf524(0x7a9)]??0x1);for(const _0x3e3430 of _0x1485a8)_0x3e3430[_0x3cf524(0x6d8)]===_0x25d8e0[_0x3cf524(0x1b8)]&&(_0x5bac66=_0x5bac66+'-'+(_0x3e3430[_0x3cf524(0x7a9)]??0x1));_0x258fb2[_0x3cf524(0x612)](_0x5bac66);}_0x3608a7[_0x3cf524(0x879)]({'jobType':_0x38af28[_0x3cf524(0x885)],'type':_0x218102['VectorDatabase'],'jobId':_0x3258e0,'blockId':_0xbd2f51['id'],'traceLevel':_0x2c280d[_0x3cf524(0x9a9)],'startTime':_0x2eabd5,'timestamp':Date[_0x3cf524(0xa6a)](),'status':'success','databaseName':_0x258fb2['getName'](),'vectorsAdded':_0xbd2f51[_0x3cf524(0xa6e)]['vectors']['length'],'filePathName':_0xbd2f51[_0x3cf524(0xa6e)][_0x3cf524(0x7a0)][_0x3cf524(0x4d6)]});}async function _0x45321c(_0x135099,_0x1dbd8e,_0x41bf1d,_0x3cd912,_0x768d51){const _0x2564a4=_0x3eb455,_0x560873=Date[_0x2564a4(0xa6a)]();let _0x590bdd=[];if(_0x1dbd8e instanceof Array){for(const _0x2b3923 of _0x1dbd8e)_0x590bdd=_0x590bdd[_0x2564a4(0xa21)](_0x360d90(_0x2b3923[_0x2564a4(0x211)],_0x41bf1d,_0x2b3923['start'],_0x2b3923[_0x2564a4(0x3ed)]));}else _0x590bdd=_0x360d90(_0x1dbd8e,_0x41bf1d);_0x3608a7[_0x2564a4(0x879)]({'jobType':_0x38af28[_0x2564a4(0x885)],'type':_0x218102[_0x2564a4(0x83e)],'jobId':_0x135099,'traceLevel':_0x2c280d[_0x2564a4(0x9a9)],'blockId':_0x41bf1d['id'],'startTime':_0x560873,'timestamp':Date['now'](),'status':_0x2564a4(0x63c),'totalChunks':_0x590bdd['length'],'averageChunkLength':_0x590bdd[_0x2564a4(0x92f)]((_0x51bb92,_0x15adbe)=>_0x51bb92+_0x15adbe[_0x2564a4(0x3ed)],0x0)/_0x590bdd[_0x2564a4(0x3ed)]}),await _0x2c9299(_0x135099,_0x590bdd,_0x41bf1d,_0x3cd912,_0x768d51);}function _0x360d90(_0x1da9e1,_0x1ee52b,_0x457b2e,_0x2992f2){const _0x57ec94=_0x3eb455,_0xd81b64=[],_0x56a82a=_0x1da9e1['split']('\x20');let _0x3f9794='',_0x2140b7=-0x1,_0x346db9=0x0,_0x15f1db=0x0;for(const _0x4f1a63 of _0x56a82a){if(_0x3f9794[_0x57ec94(0x3ed)]+_0x4f1a63[_0x57ec94(0x3ed)]>_0x1ee52b[_0x57ec94(0x9ed)][_0x57ec94(0xa95)]){const _0x27c129=_0x3f9794[_0x57ec94(0x3ed)];let _0xb21578=_0x2140b7,_0x423089='';for(;_0xb21578>=0x0&&_0x423089[_0x57ec94(0x3ed)]+_0x56a82a[_0xb21578][_0x57ec94(0x3ed)]<_0x1ee52b[_0x57ec94(0x9ed)]['overlap'];)_0x423089=_0x56a82a[_0xb21578]+'\x20'+_0x423089,_0xb21578--;let _0x361fe1=_0x346db9,_0x11310f='';for(;_0x361fe1<_0x56a82a[_0x57ec94(0x3ed)]&&_0x11310f[_0x57ec94(0x3ed)]+_0x56a82a[_0x361fe1][_0x57ec94(0x3ed)]<_0x1ee52b[_0x57ec94(0x9ed)][_0x57ec94(0x397)];)_0x11310f+=_0x56a82a[_0x361fe1]+'\x20',_0x361fe1++;_0x3f9794=_0x423089+_0x3f9794+_0x11310f,_0xd81b64['push']({'content':_0x3f9794[_0x57ec94(0x242)](),'start':_0x457b2e??_0x15f1db,'length':_0x2992f2??_0x3f9794[_0x57ec94(0x3ed)]}),_0x3f9794='',_0x2140b7=_0x346db9-0x1,_0x15f1db+=_0x27c129;}_0x3f9794+=_0x4f1a63+'\x20',_0x346db9++;}if(_0x3f9794['length']>0x0){const _0x15b9d7=_0x3f9794[_0x57ec94(0x3ed)];let _0x2353f8=_0x2140b7,_0x113e47='';for(;_0x2353f8>=0x0&&_0x113e47[_0x57ec94(0x3ed)]+_0x56a82a[_0x2353f8]['length']<_0x1ee52b[_0x57ec94(0x9ed)][_0x57ec94(0x397)];)_0x113e47=_0x56a82a[_0x2353f8]+'\x20'+_0x113e47,_0x2353f8--;_0x3f9794=_0x113e47+_0x3f9794,_0xd81b64[_0x57ec94(0x69a)]({'content':_0x3f9794[_0x57ec94(0x242)](),'start':_0x457b2e??_0x15f1db,'length':_0x2992f2??_0x15b9d7});}return _0xd81b64;}async function _0x2c9299(_0x5de78f,_0x51dee0,_0x32c93d,_0x4dd3da,_0x538832){const _0x1efa40=_0x3eb455;for(const _0x289de7 of _0x32c93d[_0x1efa40(0x79b)]||[]){const _0x4288c0=_0x4dd3da['find'](_0x210928=>_0x210928[_0x1efa40(0x22b)]===_0x289de7[_0x1efa40(0x22b)]);if(_0x4288c0)switch(_0x4288c0[_0x1efa40(0x6d8)]){case _0x25d8e0[_0x1efa40(0x1b8)]:await _0x12af66(_0x5de78f,_0x51dee0,_0x4288c0,_0x4dd3da,_0x538832);break;case _0x25d8e0['ChunkSplitter']:await _0x379ff5(_0x5de78f,_0x51dee0,_0x4288c0,_0x4dd3da,_0x538832);break;case _0x25d8e0['DocumentParser']:await _0x55779b(_0x5de78f,_0x51dee0,_0x4288c0,_0x4dd3da,_0x538832);break;case _0x25d8e0['EntityExtractor']:await _0x33b31e(_0x5de78f,_0x51dee0,_0x4288c0,_0x4dd3da,_0x538832);break;case _0x25d8e0[_0x1efa40(0x1b6)]:_0x54e317(_0x5de78f,_0x51dee0,_0x4288c0,_0x4dd3da,_0x538832);break;case _0x25d8e0[_0x1efa40(0x46f)]:await _0xcc83d1(_0x5de78f,_0x51dee0,_0x4288c0,_0x4dd3da,_0x538832);break;case _0x25d8e0[_0x1efa40(0x82d)]:await _0x4efcb1(_0x5de78f,_0x51dee0,_0x4288c0,_0x4dd3da,_0x538832);break;case _0x25d8e0['SentenceSplitter']:await _0x1f2183(_0x5de78f,_0x51dee0,_0x4288c0,_0x4dd3da,_0x538832);break;case _0x25d8e0['VectorDatabase']:_0x3b09b6(_0x5de78f,_0x51dee0,_0x4288c0,_0x4dd3da,_0x538832);break;case _0x25d8e0[_0x1efa40(0x83e)]:await _0x45321c(_0x5de78f,_0x51dee0,_0x4288c0,_0x4dd3da,_0x538832);}}}function _0x302e2b(_0x23daa8,_0x37a4a7){const _0x584239=_0x3eb455;return _0x37a4a7[_0x584239(0x638)](_0x249579=>_0x249579[_0x584239(0x79b)]?.[_0x584239(0x698)](_0x26c0f1=>_0x26c0f1[_0x584239(0x22b)]===_0x23daa8[_0x584239(0x22b)]))[_0x584239(0x3ed)];}async function _0x107af5(_0x25a4d4,_0x3f92a9,_0x3bc2a9,_0x45a244,_0x1a04da){const _0x2eda4f=_0x3eb455;try{let _0x4ba915;switch(_0x3bc2a9['type']){case _0x25d8e0['ObjectStorageUpload']:const _0x436e51=_0x1a04da[_0x2eda4f(0x413)][_0x2eda4f(0x6b9)](_0x3bc2a9['id']);_0x4ba915=await _0x436e51['get'](_0x3f92a9);break;case _0x25d8e0[_0x2eda4f(0x3e5)]:const _0x3ec67a=_0x1a04da['contentMediator'][_0x2eda4f(0x34c)](_0x3bc2a9['id']);_0x4ba915=await _0x3ec67a[_0x2eda4f(0x1d7)](_0x3f92a9);}if(!_0x4ba915)throw new Error(_0x2eda4f(0x591));await _0x2c9299(_0x25a4d4,{'file':_0x4ba915,'pathName':_0x3f92a9},_0x3bc2a9,structuredClone(_0x45a244),_0x1a04da);}catch(_0x43716e){console[_0x2eda4f(0x4f1)](_0x2eda4f(0x4e4),_0x43716e);}}const _0x2d79db=require('rxjs/operators');class _0x28b746{['subject'];constructor(){const _0x1cff63=_0x3eb455;this[_0x1cff63(0xa45)]=new _0x44e4ce[(_0x1cff63(0x435))]();}['emit'](_0x290bba){const _0x4b83d6=_0x3eb455;this[_0x4b83d6(0xa45)]['next'](_0x290bba);}async[_0x3eb455(0xa90)](){const _0x4aac68=_0x3eb455;return(0x0,_0x44e4ce['firstValueFrom'])(this[_0x4aac68(0xa45)][_0x4aac68(0x83f)]((0x0,_0x2d79db[_0x4aac68(0x5c6)])(0x1)));}}async function _0x16d89c(_0x2f8241,_0x555f40,_0x509361,_0x6ed904,_0x81c3dd,_0x29e90d,_0x22685c){const _0xd9cd10=_0x3eb455,_0x2f039d=Date[_0xd9cd10(0xa6a)](),_0x212947=new Set();if(_0x509361 instanceof Array){for(const _0x992ec8 of _0x509361)await _0x5d88da(_0x992ec8['content'],_0x81c3dd,_0x212947,_0x22685c['nlpLibraryConnector']);}else await _0x5d88da(_0x509361,_0x81c3dd,_0x212947,_0x22685c[_0xd9cd10(0x5a6)]);_0x3608a7['trace']({'jobType':_0x38af28[_0xd9cd10(0x804)],'type':_0x26290e[_0xd9cd10(0x4ea)],'jobId':_0x2f8241,'threadId':_0x555f40,'blockId':_0x81c3dd['id'],'traceLevel':_0x2c280d['Debug'],'startTime':_0x2f039d,'timestamp':Date[_0xd9cd10(0xa6a)](),'status':_0xd9cd10(0x63c),'content':_0x509361,'entitiesExtracted':Array[_0xd9cd10(0x495)](_0x212947),'totalEntities':_0x212947[_0xd9cd10(0xa95)]}),await _0x42cab7(_0x2f8241,_0x555f40,_0x212947,_0x6ed904,_0x81c3dd,_0x29e90d,_0x22685c);}async function _0x5d88da(_0x1aa2d8,_0x4ad2cd,_0xd86fff,_0x450659){const _0x591934=_0x3eb455,_0x6a5c1c=await _0x450659['getEntities'](_0x1aa2d8,{'ner':_0x4ad2cd['attributes'][_0x591934(0x84f)],'noun':_0x4ad2cd['attributes'][_0x591934(0x9eb)],'propn':_0x4ad2cd[_0x591934(0x9ed)]['propn'],'verb':_0x4ad2cd[_0x591934(0x9ed)][_0x591934(0x7ae)]});for(const _0x454e25 of _0x6a5c1c)_0xd86fff[_0x591934(0x520)](_0x454e25);}async function _0x712fe6(_0x3b1bdc,_0x58446c,_0x7a7817,_0x3ac566,_0x5172cf,_0x2d364f,_0x5babc8){const _0x1d3ddc=_0x3eb455,_0x579631=Date['now']();if(_0x5172cf['accumulated']||(_0x5172cf[_0x1d3ddc(0xa6e)]={}),_0x7a7817 instanceof Array?(_0x5172cf['accumulated'][_0x1d3ddc(0x951)]||(_0x5172cf[_0x1d3ddc(0xa6e)][_0x1d3ddc(0x951)]=[]),_0x5172cf[_0x1d3ddc(0xa6e)][_0x1d3ddc(0x951)]['push'](..._0x7a7817)):_0x7a7817 instanceof Set?_0x5172cf[_0x1d3ddc(0xa6e)][_0x1d3ddc(0x668)]=_0x7a7817:_0x5172cf[_0x1d3ddc(0xa6e)][_0x1d3ddc(0x3dd)]=_0x7a7817,_0x5172cf[_0x1d3ddc(0x528)]=_0x5172cf[_0x1d3ddc(0x528)]?_0x5172cf[_0x1d3ddc(0x528)]+0x1:0x1,_0x177ade(_0x5172cf,_0x2d364f)>_0x5172cf['timesCalled'])return;if(!_0x5172cf[_0x1d3ddc(0xa6e)][_0x1d3ddc(0x3dd)]&&!_0x5172cf[_0x1d3ddc(0xa6e)][_0x1d3ddc(0x951)]||!_0x5172cf[_0x1d3ddc(0xa6e)]['entities'])throw new Error(_0x1d3ddc(0x5cc));const _0x491a0e=_0x5babc8[_0x1d3ddc(0x413)][_0x1d3ddc(0x437)](_0x5172cf['id'])[_0x1d3ddc(0x69d)](Array[_0x1d3ddc(0x495)](_0x5172cf[_0x1d3ddc(0xa6e)]['entities']),_0x5172cf[_0x1d3ddc(0x9ed)][_0x1d3ddc(0x1cb)],_0x5172cf[_0x1d3ddc(0x9ed)][_0x1d3ddc(0x1c2)]);let _0x220472=[];for(const _0x62700c in _0x491a0e){const _0x3da8c3=_0x491a0e[_0x62700c];for(const _0x3aaac2 of _0x3da8c3){let _0x1b0733=0x0;if(_0x5172cf['accumulated'][_0x1d3ddc(0x3dd)]&&(_0x1b0733=await _0x5babc8[_0x1d3ddc(0x5a6)][_0x1d3ddc(0x5c0)](_0x5172cf[_0x1d3ddc(0xa6e)][_0x1d3ddc(0x3dd)],_0x3aaac2)),_0x5172cf[_0x1d3ddc(0xa6e)][_0x1d3ddc(0x951)]){for(const _0x3c7ba6 of _0x5172cf[_0x1d3ddc(0xa6e)]['results'])_0x1b0733=Math[_0x1d3ddc(0x7c6)](_0x1b0733,await _0x5babc8[_0x1d3ddc(0x5a6)][_0x1d3ddc(0x5c0)](_0x3c7ba6[_0x1d3ddc(0x211)],_0x3aaac2));}_0x1b0733<_0x5172cf['attributes'][_0x1d3ddc(0x7ff)]||_0x220472['push']({'content':_0x3aaac2,'relevance':_0x1b0733,'pathName':_0x62700c});}}_0x220472=_0x220472['sort']((_0x16f1b7,_0xe6215a)=>_0xe6215a[_0x1d3ddc(0x23a)]-_0x16f1b7[_0x1d3ddc(0x23a)])[_0x1d3ddc(0x2d0)](0x0,_0x5172cf[_0x1d3ddc(0x9ed)][_0x1d3ddc(0x61e)]),_0x3608a7[_0x1d3ddc(0x879)]({'jobType':_0x38af28[_0x1d3ddc(0x804)],'type':_0x26290e['GraphSearch'],'jobId':_0x3b1bdc,'threadId':_0x58446c,'blockId':_0x5172cf['id'],'traceLevel':_0x2c280d[_0x1d3ddc(0x9a9)],'timestamp':Date['now'](),'startTime':_0x579631,'status':_0x1d3ddc(0x63c),'content':_0x7a7817,'topResults':_0x220472,'numResults':_0x220472[_0x1d3ddc(0x3ed)]}),await _0x42cab7(_0x3b1bdc,_0x58446c,_0x220472,_0x3ac566,_0x5172cf,_0x2d364f,_0x5babc8);}async function _0x3a78a3(_0x10a1a7,_0x5cca15,_0x22f023,_0x2ac75e,_0x55a718,_0xf43ed9,_0x3a9d51){const _0x3547ba=_0x3eb455,_0x38bfd9=_0x3a9d51[_0x3547ba(0x6f9)][_0x3547ba(0xa41)](_0x5d786e=>_0x5d786e['id']===_0x55a718['id']);if(!_0x38bfd9)throw new Error(_0x3547ba(0x324));let _0x1de09a='';switch(_0x1de09a=_0x22f023 instanceof Array?_0x22f023[_0x3547ba(0x257)](_0x4b66bb=>_0x4b66bb[_0x3547ba(0x211)])[_0x3547ba(0x220)](',\x20'):_0x22f023,_0x38bfd9[_0x3547ba(0x8fd)]){case _0x4d2150[_0x3547ba(0x4f2)][_0x3547ba(0x1e2)]:await async function(_0x276c97,_0x290709,_0x52e090,_0x345c97,_0x2b9788,_0x4c31e4,_0x1646ce,_0x49f4c4){const _0x312eda=_0x3547ba,_0x127235=Date[_0x312eda(0xa6a)](),_0x4958e4=_0x49f4c4['generativeAIWorkerConnectors'][_0x312eda(0xa41)](_0x5780e6=>_0x5780e6[_0x312eda(0x99f)]()===_0x2b9788[_0x312eda(0x3d9)]);if(!_0x4958e4)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x36a65c=await async function(_0x55c031,_0x395981,_0x1b9127,_0x234b7c,_0xd900aa){const _0x18a1ba=_0x312eda,_0xf6a491={'type':_0x18a1ba(0x3dd),'prompt':_0x395981,'threadId':_0x55c031};_0x1b9127[_0x18a1ba(0x45a)]['length']>0x0&&(_0xf6a491['instructions']=_0x18a1ba(0x37d)+_0x1b9127['context'][_0x18a1ba(0x257)](_0x4ddb79=>_0x18a1ba(0x8d6)+_0x4ddb79[_0x18a1ba(0x4d6)]+':\x20'+_0x4ddb79[_0x18a1ba(0x211)])['join']('\x0a'));const _0x481542=await _0x234b7c[_0x18a1ba(0x6c5)](_0xf6a491,{'model':_0xd900aa});if(_0x481542[_0x18a1ba(0x301)]instanceof Array)throw new Error('Unexpected\x20output\x20type');return _0x1b9127[_0x18a1ba(0x81d)]+=_0x481542[_0x18a1ba(0x81d)]??0x0,_0x1b9127['outputTokens']+=_0x481542[_0x18a1ba(0x332)]??0x0,_0x481542[_0x18a1ba(0x301)];}(_0x290709,_0x52e090,_0x345c97,_0x4958e4,_0x2b9788);_0x3608a7[_0x312eda(0x879)]({'jobType':_0x38af28[_0x312eda(0x804)],'type':_0x26290e['ModelText'],'jobId':_0x276c97,'threadId':_0x290709,'blockId':_0x4c31e4['id'],'traceLevel':_0x2c280d[_0x312eda(0x9a9)],'startTime':_0x127235,'timestamp':Date[_0x312eda(0xa6a)](),'status':_0x312eda(0x63c),'modelName':_0x2b9788['id'],'content':_0x52e090,'newPrompt':_0x36a65c,'inputType':_0x2b9788[_0x312eda(0x793)],'outputType':_0x2b9788[_0x312eda(0x8fd)]}),await _0x42cab7(_0x276c97,_0x290709,_0x36a65c,_0x345c97,_0x4c31e4,_0x1646ce,_0x49f4c4);}(_0x10a1a7,_0x5cca15,_0x1de09a,_0x2ac75e,_0x38bfd9,_0x55a718,_0xf43ed9,_0x3a9d51);break;case _0x4d2150['GenerativeAIModelOutputType'][_0x3547ba(0x911)]:await async function(_0x3f2494,_0xd8d678,_0x5efe27,_0x3d32bd,_0x2baf15,_0x58c02a,_0x1c7142,_0x1cb792){const _0x3627dd=_0x3547ba,_0x4c5dd7=Date[_0x3627dd(0xa6a)](),_0x27c036=_0x1cb792['generativeAIWorkerConnectors']['find'](_0x307403=>_0x307403[_0x3627dd(0x99f)]()===_0x2baf15[_0x3627dd(0x3d9)]);if(!_0x27c036)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x586a03=await async function(_0x113fc9,_0x448f47,_0x32284b,_0x531485){const _0x357281=_0x3627dd;return(await _0x32284b[_0x357281(0x6c5)]({'type':_0x357281(0x3dd),'prompt':_0x448f47,'threadId':_0x113fc9},{'model':_0x531485}))['output'];}(_0xd8d678,_0x5efe27,_0x27c036,_0x2baf15);_0x3608a7['trace']({'jobType':_0x38af28[_0x3627dd(0x804)],'type':_0x26290e['ModelVector'],'jobId':_0x3f2494,'threadId':_0xd8d678,'blockId':_0x58c02a['id'],'traceLevel':_0x2c280d[_0x3627dd(0x9a9)],'startTime':_0x4c5dd7,'timestamp':Date[_0x3627dd(0xa6a)](),'status':'success','modelName':_0x2baf15['id'],'content':_0x5efe27,'totalVectors':_0x586a03[_0x3627dd(0x3ed)]}),await _0x42cab7(_0x3f2494,_0xd8d678,_0x586a03,_0x3d32bd,_0x58c02a,_0x1c7142,_0x1cb792);}(_0x10a1a7,_0x5cca15,_0x1de09a,_0x2ac75e,_0x38bfd9,_0x55a718,_0xf43ed9,_0x3a9d51);}}async function _0x3199e8(_0x57ab7b,_0x708fe1,_0x238770,_0x5868f0,_0x3063e8,_0x5012e5,_0x4beb3){const _0x3eda1f=_0x3eb455,_0x29f31b=Date[_0x3eda1f(0xa6a)](),_0x272559=_0x4beb3[_0x3eda1f(0x413)][_0x3eda1f(0x717)](_0x3063e8['id'])[_0x3eda1f(0x7d4)](_0x238770,_0x3063e8['attributes'][_0x3eda1f(0x61e)],_0x3063e8[_0x3eda1f(0x9ed)][_0x3eda1f(0x7ff)],_0x3063e8[_0x3eda1f(0x9ed)][_0x3eda1f(0x1c2)]);_0x3608a7[_0x3eda1f(0x879)]({'jobType':_0x38af28[_0x3eda1f(0x804)],'type':_0x26290e['VectorSearch'],'jobId':_0x57ab7b,'threadId':_0x708fe1,'blockId':_0x3063e8['id'],'traceLevel':_0x2c280d[_0x3eda1f(0x9a9)],'startTime':_0x29f31b,'timestamp':Date[_0x3eda1f(0xa6a)](),'status':_0x3eda1f(0x63c),'topResults':_0x272559,'numResults':_0x272559[_0x3eda1f(0x3ed)]}),await _0x42cab7(_0x57ab7b,_0x708fe1,_0x272559,_0x5868f0,_0x3063e8,_0x5012e5,_0x4beb3);}async function _0x2c1f89(_0x1a20cc,_0x5e4701,_0x517cc3,_0xd5ac45,_0x2195c5,_0x185692,_0x2aaaf4){const _0x3d71f=_0x3eb455,_0x39112c=Date[_0x3d71f(0xa6a)]();if(_0x2195c5[_0x3d71f(0xa6e)]||(_0x2195c5[_0x3d71f(0xa6e)]={}),_0x517cc3 instanceof Array?(_0x2195c5['accumulated']['results']||(_0x2195c5['accumulated']['results']=[]),_0x2195c5[_0x3d71f(0xa6e)]['results']['push'](..._0x517cc3)):_0x2195c5[_0x3d71f(0xa6e)][_0x3d71f(0x3dd)]=_0x517cc3,_0x2195c5['timesCalled']=_0x2195c5['timesCalled']?_0x2195c5[_0x3d71f(0x528)]+0x1:0x1,_0x177ade(_0x2195c5,_0x185692)>_0x2195c5['timesCalled'])return;if(!_0x2195c5['accumulated'][_0x3d71f(0x3dd)]||!_0x2195c5[_0x3d71f(0xa6e)][_0x3d71f(0x951)])throw new Error(_0x3d71f(0x390));for(const _0x5e96f3 of _0x2195c5['accumulated'][_0x3d71f(0x951)])_0x5e96f3[_0x3d71f(0x23a)]=await _0x2aaaf4[_0x3d71f(0x5a6)][_0x3d71f(0x5c0)](_0x2195c5[_0x3d71f(0xa6e)]['prompt'],_0x5e96f3[_0x3d71f(0x211)]);const _0x478612=_0x2195c5[_0x3d71f(0xa6e)]['results'][_0x3d71f(0x638)](_0x446e78=>_0x446e78['relevance']>_0x2195c5[_0x3d71f(0x9ed)]['minRelevance'])[_0x3d71f(0x3d8)]((_0x213937,_0x2f3b43)=>_0x2f3b43['relevance']-_0x213937[_0x3d71f(0x23a)])[_0x3d71f(0x2d0)](0x0,_0x2195c5[_0x3d71f(0x9ed)][_0x3d71f(0x61e)]);_0x3608a7[_0x3d71f(0x879)]({'jobType':_0x38af28[_0x3d71f(0x804)],'type':_0x26290e[_0x3d71f(0x9ae)],'jobId':_0x1a20cc,'threadId':_0x5e4701,'blockId':_0x2195c5['id'],'traceLevel':_0x2c280d[_0x3d71f(0x9a9)],'startTime':_0x39112c,'timestamp':Date['now'](),'status':_0x3d71f(0x63c),'inputResults':_0x2195c5['accumulated'][_0x3d71f(0x951)],'rerankedResults':_0x478612}),await _0x42cab7(_0x1a20cc,_0x5e4701,_0x478612,_0xd5ac45,_0x2195c5,_0x185692,_0x2aaaf4);}async function _0x42cab7(_0x1a7bd6,_0x3a8e7f,_0x6c5f89,_0x2f53b3,_0x4a4db5,_0x356ed9,_0x22515d){const _0x3d0990=_0x3eb455;for(const _0x81d1fb of _0x4a4db5[_0x3d0990(0x79b)]||[]){const _0x212bbb=_0x356ed9[_0x3d0990(0xa41)](_0x499cc2=>_0x499cc2[_0x3d0990(0x22b)]===_0x81d1fb[_0x3d0990(0x22b)]);if(_0x212bbb)switch(_0x212bbb[_0x3d0990(0x6d8)]){case _0x25d8e0['Context']:_0x2f53b3['context']['push'](..._0x6c5f89);break;case _0x25d8e0[_0x3d0990(0x4ea)]:await _0x16d89c(_0x1a7bd6,_0x3a8e7f,_0x6c5f89,_0x2f53b3,_0x212bbb,_0x356ed9,_0x22515d);break;case _0x25d8e0[_0x3d0990(0x1b6)]:await _0x712fe6(_0x1a7bd6,_0x3a8e7f,_0x6c5f89,_0x2f53b3,_0x212bbb,_0x356ed9,_0x22515d);break;case _0x25d8e0[_0x3d0990(0x46f)]:await _0x3a78a3(_0x1a7bd6,_0x3a8e7f,_0x6c5f89,_0x2f53b3,_0x212bbb,_0x356ed9,_0x22515d);break;case _0x25d8e0['Reranker']:await _0x2c1f89(_0x1a7bd6,_0x3a8e7f,_0x6c5f89,_0x2f53b3,_0x212bbb,_0x356ed9,_0x22515d);break;case _0x25d8e0['VectorDatabase']:await _0x3199e8(_0x1a7bd6,_0x3a8e7f,_0x6c5f89,_0x2f53b3,_0x212bbb,_0x356ed9,_0x22515d);}}}function _0x177ade(_0x39e6b8,_0x159c0c){const _0x201852=_0x3eb455;return _0x159c0c['filter'](_0x181c16=>_0x181c16[_0x201852(0x79b)]?.[_0x201852(0x698)](_0x43d744=>_0x43d744[_0x201852(0x22b)]===_0x39e6b8['uid']))['length'];}async function _0x360ecb(_0xda7618,_0x6c409,_0x162d76,_0x5d42a2,_0x22d335,_0x5e1d82){const _0xe514d=_0x3eb455,_0x3130f6={'type':_0xe514d(0x3dd),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x42cab7(_0xda7618,_0x6c409,_0x162d76,_0x3130f6,_0x5d42a2,structuredClone(_0x22d335),_0x5e1d82),_0x3130f6[_0xe514d(0x301)]=_0xe514d(0x37d)+_0x3130f6[_0xe514d(0x45a)]['map'](_0x44ac0d=>_0xe514d(0x8d6)+_0x44ac0d[_0xe514d(0x4d6)]+':\x20'+_0x44ac0d[_0xe514d(0x211)])['join']('\x0a');}catch(_0xbc402b){console[_0xe514d(0x4f1)]('Error\x20processing\x20retrieve',_0xbc402b);}return _0x3130f6;}function _0x13e608(_0x1ec496,_0x5dac47,_0x1617e4,_0x1070a7,_0xd4db71,_0x31e26b,_0x28effd,_0x303df3){const _0x497775=_0x3eb455,_0x79f0b9=new Map(),_0x35e38b=_0x31e26b['filter'](_0x443102=>_0x443102[_0x497775(0x79b)]?.[_0x497775(0xa41)](_0x940792=>_0x940792[_0x497775(0x22b)]===_0xd4db71[_0x497775(0x22b)]&&(_0x940792[_0x497775(0x6d8)]===_0x287d9a[_0x497775(0x937)]||_0x940792[_0x497775(0x6d8)]===_0x287d9a[_0x497775(0x782)])));for(const _0x4a1e09 of _0x35e38b)_0x4a1e09[_0x497775(0x6d8)]===_0x12b7c4[_0x497775(0x937)]||_0x4a1e09[_0x497775(0x6d8)]===_0x12b7c4[_0x497775(0x6b4)]?_0x79f0b9['set'](_0x497775(0x95f)+_0x4a1e09['id'],_0x4b1fbe(_0x1ec496,_0x5dac47,_0x1617e4,_0x1070a7,_0x4a1e09,_0x28effd,_0x303df3)):_0x4a1e09[_0x497775(0x6d8)]===_0x12b7c4[_0x497775(0x4b6)]||_0x4a1e09[_0x497775(0x6d8)]===_0x12b7c4[_0x497775(0x1b8)]?_0x79f0b9[_0x497775(0x90d)](_0x497775(0x353)+_0x4a1e09['id'],_0x2ce88f(_0x1ec496,_0x5dac47,_0x1617e4,_0x1070a7,_0x4a1e09,_0x31e26b,_0x28effd,_0x303df3)):_0x4a1e09[_0x497775(0x6d8)]===_0x12b7c4['CustomSkill']?_0x79f0b9[_0x497775(0x90d)](_0x4a1e09['name']['replace'](/[^a-zA-Z]/g,''),_0x308c39(_0x1ec496,_0x5dac47,_0x1617e4,_0x4a1e09,_0x31e26b,_0x303df3)):_0x79f0b9['set'](_0x42ae05(_0x4a1e09),_0x5a795c(_0x1ec496,_0x5dac47,_0x1617e4,_0x4a1e09,_0x28effd,_0x303df3));return _0xd4db71[_0x497775(0xa6e)]?.[_0x497775(0x45a)]&&_0x497775(0x82e)===_0xd4db71[_0x497775(0x787)]&&_0x79f0b9[_0x497775(0x90d)](_0x497775(0x8ce),function(_0x335928,_0x1c7448,_0x41406c){const _0x57bbab=_0x497775;return{'description':_0x57bbab(0x60d),'params':{},'callback':async()=>{const _0x5e4198=_0x57bbab;try{if(!_0x1c7448[_0x5e4198(0xa6e)]?.[_0x5e4198(0x45a)])throw new Error(_0x5e4198(0x55b));_0x41406c&&(await _0x4dd2fb[_0x5e4198(0x5a7)](0x1),_0x41406c[_0x5e4198(0xad4)]({'output':_0x5e4198(0x752),'type':_0x5e4198(0x3dd)}));let _0x2f343f='';if(_0x1c7448[_0x5e4198(0xa6e)][_0x5e4198(0x45a)]){for(const _0x3a54b1 of Object['keys'](_0x1c7448[_0x5e4198(0xa6e)][_0x5e4198(0x45a)]))_0x2f343f=_0x3a54b1+':\x20'+_0x1c7448[_0x5e4198(0xa6e)][_0x5e4198(0x45a)][_0x3a54b1]+'\x0a\x0a'+_0x2f343f;}return _0x2f343f;}catch(_0x41c62a){return console['error'](_0x41c62a),_0x41c62a instanceof Error?_0x41c62a[_0x5e4198(0x748)]:_0x5e4198(0x5f6);}}};}(0x0,_0xd4db71,_0x303df3)),_0x79f0b9;}function _0x2ce88f(_0x281aca,_0x1145d5,_0xb486be,_0x38c179,_0x64d6c9,_0x51688e,_0x519509,_0x29d72b){const _0x58a17a=_0x3eb455,_0x177e93=_0x58a17a(0x4d1)+_0x64d6c9[_0x58a17a(0x874)]+_0x58a17a(0x8c9),_0x17b19f={'prompt':{'type':_0x4d2150['PromptFunctionParamsType']['String']}};return _0x3608a7[_0x58a17a(0x879)]({'jobType':_0x38af28[_0x58a17a(0x208)],'type':_0x1a6956[_0x58a17a(0x4ec)],'jobId':_0x281aca,'agentId':_0x1145d5,'threadId':_0xb486be,'traceLevel':_0x2c280d[_0x58a17a(0x283)],'startTime':Date['now'](),'timestamp':Date[_0x58a17a(0xa6a)](),'status':'success','function':_0x18c3c0[_0x58a17a(0x3c2)],'params':_0x17b19f,'functionDescription':_0x177e93}),{'description':_0x177e93,'params':_0x17b19f,'callback':async _0x13d9f4=>{const _0x2cc43f=_0x58a17a,_0x443145=Date['now']();try{if(_0x29d72b&&(await _0x4dd2fb[_0x2cc43f(0x5a7)](0x1),_0x29d72b['emit']({'output':_0x2cc43f(0x502)+_0x64d6c9[_0x2cc43f(0x807)]+_0x2cc43f(0x59e),'type':_0x2cc43f(0x3dd)})),_0x2cc43f(0x77a)!=typeof _0x13d9f4?.[_0x2cc43f(0x3dd)])throw new Error(_0x2cc43f(0xa2a));let _0x297ef3=_0x13d9f4['prompt'];if(_0x64d6c9[_0x2cc43f(0xa6e)]?.[_0x2cc43f(0x45a)]&&_0x2cc43f(0x82e)!==_0x64d6c9[_0x2cc43f(0x787)]){_0x29d72b&&(await _0x4dd2fb[_0x2cc43f(0x5a7)](0x1),_0x29d72b['emit']({'output':_0x2cc43f(0x752),'type':_0x2cc43f(0x3dd)}));for(const _0x1799fe of Object['keys'](_0x64d6c9[_0x2cc43f(0xa6e)]['context']))_0x297ef3=_0x297ef3+'\x0a\x0a'+_0x1799fe+':\x20'+_0x64d6c9['accumulated'][_0x2cc43f(0x45a)][_0x1799fe];}const _0x5f20bc=_0x519509[_0x2cc43f(0x6f9)][_0x2cc43f(0xa41)](_0x103220=>_0x103220['id']===_0x64d6c9[_0x2cc43f(0x222)]);if(!_0x5f20bc)throw new Error(_0x2cc43f(0x324));const _0x586d7b=_0x519509[_0x2cc43f(0x20c)][_0x2cc43f(0xa41)](_0x945f92=>_0x945f92[_0x2cc43f(0x99f)]()===_0x5f20bc[_0x2cc43f(0x3d9)]);if(!_0x586d7b)throw new Error(_0x2cc43f(0x728));const _0x246e3b=_0x64d6c9['links']?.[_0x2cc43f(0x698)](_0x315c85=>{const _0x2a6ec9=_0x2cc43f,_0x1ad3f9=_0x51688e[_0x2a6ec9(0xa41)](_0x1f82cf=>_0x1f82cf[_0x2a6ec9(0x22b)]===_0x315c85[_0x2a6ec9(0x22b)]);return!!_0x1ad3f9&&_0x1ad3f9[_0x2a6ec9(0x6d8)]===_0x12b7c4[_0x2a6ec9(0x26c)];})??!0x1;let _0x2698b6;if(_0x29d72b&&_0x246e3b?(await _0x4dd2fb[_0x2cc43f(0x5a7)](0x1),_0x29d72b['emit']({'output':'\x0a\x0a','type':'prompt'}),_0x2698b6=await async function(_0x3ab86f,_0x2759a9,_0xc398cc,_0x3ad358,_0xdbf184,_0x221cd9,_0x5bce2,_0x47c4c0,_0x28e217){const _0x445e21=_0x2cc43f;let _0x235e7d='';const _0x41be86=_0x28e217['models'][_0x445e21(0xa41)](_0xd99aba=>_0xd99aba['id']===_0x221cd9['modelId']);if(!_0x41be86)throw new Error(_0x445e21(0x324));const _0x5538ec=_0x28e217[_0x445e21(0x20c)][_0x445e21(0xa41)](_0x341ec9=>_0x341ec9[_0x445e21(0x99f)]()===_0x41be86['engineType']);if(!_0x5538ec)throw new Error('No\x20connector\x20found\x20for\x20model');for await(const _0x5da87b of _0x5538ec[_0x445e21(0x7d9)]({'type':'prompt','prompt':_0x3ad358,'instructions':_0x221cd9[_0x445e21(0xa8d)],'grammar':_0x221cd9[_0x445e21(0x787)],'temperature':_0x221cd9[_0x445e21(0x755)],'maxTokens':_0x221cd9[_0x445e21(0xa61)],'functions':_0x13e608(_0x3ab86f,_0x2759a9,_0xc398cc,_0xdbf184,_0x221cd9,_0x5bce2,_0x28e217,_0x47c4c0),'threadId':_0xc398cc},{'model':_0x41be86}))_0x47c4c0[_0x445e21(0xad4)](_0x5da87b),_0x235e7d+=_0x5da87b['output'];return{'type':_0x445e21(0x3dd),'output':_0x235e7d};}(_0x281aca,_0x1145d5,_0xb486be,_0x297ef3,_0x38c179,_0x64d6c9,_0x51688e,_0x29d72b,_0x519509),await _0x4dd2fb[_0x2cc43f(0x5a7)](0x1),_0x29d72b[_0x2cc43f(0xad4)]({'output':'\x0a\x0a','type':'prompt'})):_0x2698b6=await _0x586d7b[_0x2cc43f(0x6c5)]({'type':_0x2cc43f(0x3dd),'prompt':_0x297ef3,'instructions':_0x64d6c9[_0x2cc43f(0xa8d)],'grammar':_0x64d6c9[_0x2cc43f(0x787)],'temperature':_0x64d6c9[_0x2cc43f(0x755)],'maxTokens':_0x64d6c9['maxTokens'],'functions':_0x13e608(_0x281aca,_0x1145d5,_0xb486be,_0x38c179,_0x64d6c9,_0x51688e,_0x519509,_0x29d72b),'threadId':_0xb486be},{'model':_0x5f20bc}),_0x2cc43f(0x77a)!=typeof _0x2698b6[_0x2cc43f(0x301)])throw new Error(_0x2cc43f(0x8f7));return _0x3608a7[_0x2cc43f(0x879)]({'jobType':_0x38af28['Skill'],'type':_0x18c3c0[_0x2cc43f(0x3c2)],'jobId':_0x281aca,'blockId':_0x64d6c9['id'],'agentId':_0x1145d5,'threadId':_0xb486be,'traceLevel':_0x2c280d[_0x2cc43f(0x283)],'startTime':_0x443145,'timestamp':Date[_0x2cc43f(0xa6a)](),'status':_0x2cc43f(0x63c),'agentName':_0x64d6c9[_0x2cc43f(0x807)],'prompt':_0x297ef3,'instructions':_0x64d6c9[_0x2cc43f(0xa8d)],'result':_0x2698b6[_0x2cc43f(0x301)],'inputTokens':0x0,'outputTokens':0x0}),_0x64d6c9['links']?.['some'](_0x24f058=>_0x24f058['type']===_0x287d9a[_0x2cc43f(0xa7e)])?(_0x1d916b(_0x2698b6['output'],_0x64d6c9,_0x51688e),'I\x20am\x20done'):_0x2698b6[_0x2cc43f(0x301)];}catch(_0x133761){return console[_0x2cc43f(0x4f1)](_0x133761),_0x3608a7['trace']({'jobType':_0x38af28[_0x2cc43f(0x782)],'type':_0x18c3c0['ExecuteAgent'],'jobId':_0x281aca,'blockId':_0x64d6c9['id'],'agentId':_0x1145d5,'threadId':_0xb486be,'traceLevel':_0x2c280d['Info'],'startTime':_0x443145,'timestamp':Date[_0x2cc43f(0xa6a)](),'status':'error','errorDetails':_0x2c7f5e(_0x133761),'agentName':_0x64d6c9['name'],'prompt':'','instructions':_0x64d6c9[_0x2cc43f(0xa8d)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x133761 instanceof Error?_0x133761[_0x2cc43f(0x748)]:'Error\x20executing\x20agent';}}};}function _0x4b1fbe(_0x3917f7,_0x29ccc4,_0x42fdc4,_0x40c03f,_0xd50ade,_0x55abea,_0x12b5ef){const _0x1138fb=_0x3eb455,_0x2aa257='Search\x20in\x20data\x20collection\x20'+_0xd50ade[_0x1138fb(0x874)]+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.',_0x5476a1={'queryOrPrompt':{'type':_0x4d2150[_0x1138fb(0x941)][_0x1138fb(0x35c)]}};return _0x3608a7['trace']({'jobType':_0x38af28['JobContext'],'type':_0x1a6956[_0x1138fb(0x40c)],'jobId':_0x3917f7,'agentId':_0x29ccc4,'threadId':_0x42fdc4,'blockId':_0xd50ade['id'],'traceLevel':_0x2c280d[_0x1138fb(0x283)],'startTime':Date['now'](),'timestamp':Date[_0x1138fb(0xa6a)](),'status':'success','function':_0x4b9223[_0x1138fb(0x67a)],'params':_0x5476a1,'functionDescription':_0x2aa257}),{'description':_0x2aa257,'params':_0x5476a1,'callback':async _0x552d97=>{const _0x24fe03=_0x1138fb,_0x2d41cf=Date['now']();try{if(_0x12b5ef&&(await _0x4dd2fb[_0x24fe03(0x5a7)](0x1),_0x12b5ef[_0x24fe03(0xad4)]({'output':'\x0a\x0a`Searching\x20in\x20data\x20collection\x20'+_0xd50ade[_0x24fe03(0x807)]+'\x20for\x20'+_0x552d97?.['queryOrPrompt']+_0x24fe03(0x59e),'type':_0x24fe03(0x3dd)})),_0x24fe03(0x77a)!=typeof _0x552d97?.[_0x24fe03(0x747)])throw new Error(_0x24fe03(0x9d5));const _0x5edba8=_0xd50ade[_0x24fe03(0x6d5)][_0x24fe03(0xa41)](_0x52bee2=>_0x52bee2[_0x24fe03(0x6d8)]===_0x25d8e0[_0x24fe03(0x630)]),_0x364f3d=await _0x360ecb(_0x3917f7,_0x42fdc4,_0x552d97[_0x24fe03(0x747)],_0x5edba8,_0xd50ade[_0x24fe03(0x6d5)],_0x55abea);return _0x40c03f[_0x24fe03(0x45a)]=Array[_0x24fe03(0x495)](new Set([..._0x40c03f['context'],..._0x364f3d['context']])),_0x3608a7[_0x24fe03(0x879)]({'jobType':_0x38af28[_0x24fe03(0x937)],'type':_0x4b9223['GetContextResult'],'jobId':_0x3917f7,'blockId':_0xd50ade['id'],'agentId':_0x29ccc4,'threadId':_0x42fdc4,'traceLevel':_0x2c280d[_0x24fe03(0x283)],'startTime':_0x2d41cf,'timestamp':Date[_0x24fe03(0xa6a)](),'status':_0x24fe03(0x63c),'query':_0x552d97[_0x24fe03(0x747)],'context':_0x364f3d['context']??[],'inputTokens':_0x364f3d['inputTokens']??0x0,'outputTokens':_0x364f3d['outputTokens']??0x0}),_0x364f3d[_0x24fe03(0x301)];}catch(_0x2b10a6){return console[_0x24fe03(0x4f1)](_0x2b10a6),_0x3608a7[_0x24fe03(0x879)]({'jobType':_0x38af28['Knowledge'],'type':_0x4b9223[_0x24fe03(0x6bd)],'jobId':_0x3917f7,'blockId':_0xd50ade['id'],'agentId':_0x29ccc4,'threadId':_0x42fdc4,'traceLevel':_0x2c280d[_0x24fe03(0x283)],'startTime':_0x2d41cf,'timestamp':Date[_0x24fe03(0xa6a)](),'status':_0x24fe03(0x4f1),'errorDetails':_0x2c7f5e(_0x2b10a6),'query':_0x552d97?.['queryOrPrompt']??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x2b10a6 instanceof Error?_0x2b10a6[_0x24fe03(0x748)]:_0x24fe03(0x1f5);}}};}function _0x42ae05(_0x404c14){const _0x150a5d=_0x3eb455;switch(_0x404c14[_0x150a5d(0x6d8)]){case _0x12b7c4[_0x150a5d(0x40d)]:return _0x150a5d(0x5b1);case _0x12b7c4[_0x150a5d(0x1eb)]:return'executeJavascriptCodeSnippet';case _0x12b7c4[_0x150a5d(0x8a6)]:return _0x150a5d(0x5de);case _0x12b7c4[_0x150a5d(0x1b5)]:case _0x12b7c4[_0x150a5d(0x314)]:return _0x150a5d(0x56e);}throw new Error('Unknown\x20skill\x20type');}function _0x5a795c(_0xfc1bc3,_0x1d8fc5,_0x26bca9,_0x4bdf57,_0x3b3a89,_0xcbd662){const _0xe95edb=_0x3eb455;switch(_0x4bdf57['type']){case _0x12b7c4[_0xe95edb(0x40d)]:return function(_0x212a96,_0x2145fc,_0x1742cc,_0x5d3519,_0x2fd06e){const _0x56f198=_0xe95edb,_0x4e482d=_0x56f198(0x51d);return _0x3608a7[_0x56f198(0x879)]({'jobType':_0x38af28[_0x56f198(0x208)],'type':_0x1a6956[_0x56f198(0x4ec)],'jobId':_0x212a96,'agentId':_0x2145fc,'threadId':_0x1742cc,'traceLevel':_0x2c280d['Info'],'startTime':Date[_0x56f198(0xa6a)](),'timestamp':Date[_0x56f198(0xa6a)](),'status':'success','function':_0x18c3c0[_0x56f198(0x36a)],'params':{},'functionDescription':_0x4e482d}),{'description':_0x4e482d,'callback':()=>{const _0x359b83=_0x56f198,_0x195654=Date['now']();_0x2fd06e&&_0x2fd06e[_0x359b83(0xad4)]({'output':_0x359b83(0x881),'type':_0x359b83(0x3dd)});const _0xd5baf9=new Date()[_0x359b83(0x7a2)]();return _0x3608a7[_0x359b83(0x879)]({'jobType':_0x38af28[_0x359b83(0x782)],'type':_0x18c3c0['GetDate'],'jobId':_0x212a96,'agentId':_0x2145fc,'threadId':_0x1742cc,'blockId':_0x5d3519,'traceLevel':_0x2c280d[_0x359b83(0x283)],'startTime':_0x195654,'timestamp':Date[_0x359b83(0xa6a)](),'status':_0x359b83(0x63c),'date':_0xd5baf9}),_0xd5baf9;}};}(_0xfc1bc3,_0x1d8fc5,_0x26bca9,_0x4bdf57['id'],_0xcbd662);case _0x12b7c4[_0xe95edb(0x1eb)]:return function(_0x159f45,_0x450f63,_0xe15e58,_0x39a332,_0x2b20bc){const _0x580775=_0xe95edb,_0xe40733=_0x580775(0x88b),_0x502796={'code':{'type':_0x4d2150['PromptFunctionParamsType'][_0x580775(0x35c)]}};return _0x3608a7[_0x580775(0x879)]({'jobType':_0x38af28[_0x580775(0x208)],'type':_0x1a6956[_0x580775(0x4ec)],'jobId':_0x159f45,'agentId':_0x450f63,'threadId':_0xe15e58,'traceLevel':_0x2c280d[_0x580775(0x283)],'startTime':Date[_0x580775(0xa6a)](),'timestamp':Date[_0x580775(0xa6a)](),'status':'success','function':_0x18c3c0['ExecuteCode'],'params':_0x502796,'functionDescription':_0xe40733}),{'description':_0xe40733,'params':_0x502796,'callback':_0x305c88=>{const _0x5a0f90=_0x580775,_0x189c64=Date[_0x5a0f90(0xa6a)]();try{if(_0x2b20bc&&_0x2b20bc[_0x5a0f90(0xad4)]({'output':_0x5a0f90(0x89e),'type':'prompt'}),'string'!=typeof _0x305c88?.[_0x5a0f90(0x43c)])throw new Error('Code\x20is\x20required');const _0x31e894=Function(''+_0x305c88?.['code'])();let _0x172a8f='';try{_0x172a8f=JSON[_0x5a0f90(0x845)](_0x31e894);}catch{_0x172a8f=_0x31e894[_0x5a0f90(0x957)]();}return _0x3608a7['trace']({'jobType':_0x38af28[_0x5a0f90(0x782)],'type':_0x18c3c0[_0x5a0f90(0x4a9)],'agentId':_0x450f63,'threadId':_0xe15e58,'jobId':_0x159f45,'blockId':_0x39a332,'traceLevel':_0x2c280d['Info'],'startTime':_0x189c64,'timestamp':Date[_0x5a0f90(0xa6a)](),'status':_0x5a0f90(0x63c),'code':_0x305c88[_0x5a0f90(0x43c)],'result':_0x172a8f}),_0x31e894;}catch(_0x61c7c4){return console['error'](_0x61c7c4),_0x3608a7[_0x5a0f90(0x879)]({'jobType':_0x38af28['Skill'],'type':_0x18c3c0[_0x5a0f90(0x4a9)],'jobId':_0x159f45,'blockId':_0x39a332,'traceLevel':_0x2c280d[_0x5a0f90(0x283)],'startTime':_0x189c64,'timestamp':Date[_0x5a0f90(0xa6a)](),'status':'error','errorDetails':_0x2c7f5e(_0x61c7c4),'agentId':_0x450f63,'threadId':_0xe15e58,'code':_0x305c88?.['code']??'','result':_0x5a0f90(0x960)}),_0x61c7c4 instanceof Error?_0x61c7c4[_0x5a0f90(0x748)]:_0x5a0f90(0x960);}}};}(_0xfc1bc3,_0x1d8fc5,_0x26bca9,_0x4bdf57['id'],_0xcbd662);case _0x12b7c4[_0xe95edb(0x8a6)]:return function(_0x3242e9,_0x32b958,_0x401e96,_0x440b4e,_0x28e5ee,_0x21cf2d,_0x11b850){const _0xf0652b=_0xe95edb,_0x11ac79=_0xf0652b(0x773),_0x2a5781={'query':{'type':_0x4d2150['PromptFunctionParamsType'][_0xf0652b(0x35c)]}};return _0x3608a7[_0xf0652b(0x879)]({'jobType':_0x38af28[_0xf0652b(0x208)],'type':_0x1a6956[_0xf0652b(0x4ec)],'jobId':_0x3242e9,'agentId':_0x32b958,'threadId':_0x401e96,'traceLevel':_0x2c280d['Info'],'startTime':Date[_0xf0652b(0xa6a)](),'timestamp':Date[_0xf0652b(0xa6a)](),'status':'success','function':_0x18c3c0['SearchGoogle'],'params':_0x2a5781,'functionDescription':_0x11ac79}),{'description':_0x11ac79,'params':_0x2a5781,'callback':async _0x2d0e50=>{const _0x4104b6=_0xf0652b,_0x938714=Date['now']();try{if(_0x11b850&&(await _0x4dd2fb[_0x4104b6(0x5a7)](0x1),_0x11b850[_0x4104b6(0xad4)]({'output':_0x4104b6(0x1ff)+_0x2d0e50?.[_0x4104b6(0x327)]+'`\x0a\x0a','type':_0x4104b6(0x3dd)})),!_0x21cf2d[_0x4104b6(0xad7)])throw new Error(_0x4104b6(0x48e));if(_0x4104b6(0x77a)!=typeof _0x2d0e50?.[_0x4104b6(0x327)])throw new Error(_0x4104b6(0x9d5));const _0x3b5cb1=await _0x21cf2d[_0x4104b6(0xad7)]['search'](_0x2d0e50['query'],_0x28e5ee,_0x507edf['google']['searchEngineId']);let _0x3deb32='';for(const _0x4ca6a8 of _0x3b5cb1)_0x3deb32+=_0x4ca6a8['title']+'\x20-\x20'+_0x4ca6a8[_0x4104b6(0x6a6)]+'\x0a'+_0x4ca6a8[_0x4104b6(0x1bb)]+'\x0a\x0a';return _0x3608a7['trace']({'jobType':_0x38af28[_0x4104b6(0x782)],'type':_0x18c3c0[_0x4104b6(0x784)],'jobId':_0x3242e9,'agentId':_0x32b958,'threadId':_0x401e96,'blockId':_0x440b4e,'traceLevel':_0x2c280d[_0x4104b6(0x283)],'startTime':_0x938714,'timestamp':Date['now'](),'status':_0x4104b6(0x63c),'query':_0x2d0e50[_0x4104b6(0x327)],'results':_0x3deb32}),_0x3deb32;}catch(_0x327547){return console[_0x4104b6(0x4f1)](_0x327547),_0x3608a7['trace']({'jobType':_0x38af28[_0x4104b6(0x782)],'type':_0x18c3c0['SearchGoogle'],'jobId':_0x3242e9,'blockId':_0x440b4e,'traceLevel':_0x2c280d[_0x4104b6(0x283)],'startTime':_0x938714,'timestamp':Date[_0x4104b6(0xa6a)](),'status':'error','errorDetails':_0x2c7f5e(_0x327547),'agentId':_0x32b958,'threadId':_0x401e96,'query':_0x2d0e50?.[_0x4104b6(0x327)]??'','results':_0x4104b6(0x1df)}),_0x327547 instanceof Error?_0x327547['message']:_0x4104b6(0x1df);}}};}(_0xfc1bc3,_0x1d8fc5,_0x26bca9,_0x4bdf57['id'],_0x3b3a89[_0xe95edb(0x85c)],_0x3b3a89,_0xcbd662);case _0x12b7c4['WebScraper']:return _0x4528a2(_0xfc1bc3,_0x1d8fc5,_0x26bca9,_0x4bdf57['id'],_0xcbd662);case _0x12b7c4['WebScraperRaw']:return _0x4528a2(_0xfc1bc3,_0x1d8fc5,_0x26bca9,_0x4bdf57['id'],_0xcbd662,!0x1);}throw new Error(_0xe95edb(0x54d));}function _0x4528a2(_0x1354d2,_0x3aeea5,_0x90fe0a,_0xc4b237,_0x452fda,_0x12fd08=!0x0){const _0x165ad6=_0x3eb455,_0x396a4e='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x16e780={'url':{'type':_0x4d2150[_0x165ad6(0x941)]['String']},'page':{'type':_0x4d2150['PromptFunctionParamsType'][_0x165ad6(0x2b0)]}};return _0x3608a7['trace']({'jobType':_0x38af28[_0x165ad6(0x208)],'type':_0x1a6956['LoadSkillFunction'],'jobId':_0x1354d2,'agentId':_0x3aeea5,'threadId':_0x90fe0a,'traceLevel':_0x2c280d['Info'],'startTime':Date['now'](),'timestamp':Date[_0x165ad6(0xa6a)](),'status':_0x165ad6(0x63c),'function':_0x18c3c0['FetchUrl'],'params':_0x16e780,'functionDescription':_0x396a4e}),{'description':_0x396a4e,'params':_0x16e780,'callback':async _0x4e5987=>{const _0x285e06=_0x165ad6,_0x3dedf1=Date[_0x285e06(0xa6a)]();try{if(_0x452fda&&(await _0x4dd2fb[_0x285e06(0x5a7)](0x1),_0x452fda[_0x285e06(0xad4)]({'output':_0x285e06(0x856)+_0x4e5987?.[_0x285e06(0x6a6)]+'`\x0a\x0a','type':_0x285e06(0x3dd)})),'string'!=typeof _0x4e5987?.['url'])throw new Error(_0x285e06(0xa44));const _0x2b28e4=await fetch(_0x4e5987[_0x285e06(0x6a6)]),_0x25f294=await _0x2b28e4['text']();let _0x2c9ec8=_0x25f294;if(_0x12fd08){const _0xc6064b=_0x25f294[_0x285e06(0x363)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x5951b0=_0xc6064b?_0xc6064b[0x1]:_0x25f294,_0x34dcfc=_0x5951b0[_0x285e06(0x4d4)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x285e06(0x4d4)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x285e06(0x4d4)](/<br\s*\/?>/gi,'\x20')[_0x285e06(0x4d4)](/&nbsp;/g,'\x20');_0x2c9ec8=_0x34dcfc[_0x285e06(0x4d4)](/<\/?[^>]+(>|$)/g,'')[_0x285e06(0x4d4)](/\s\s+/g,'\x20')[_0x285e06(0x242)]();}const _0x19043b=_0x285e06(0x411)==typeof _0x4e5987[_0x285e06(0x913)]?_0x4e5987['page']:0x1,_0x104c8f=Math[_0x285e06(0x4cf)](_0x2c9ec8['length']/_0x47dde3);return _0x2c9ec8[_0x285e06(0x3ed)]>_0x47dde3&&(_0x2c9ec8=_0x2c9ec8[_0x285e06(0x5ef)]((_0x19043b-0x1)*_0x47dde3,(_0x19043b-0x1)*_0x47dde3+_0x47dde3)+_0x285e06(0x736)+(_0x19043b+0x1)+_0x285e06(0x5c4)+_0x104c8f+'.'),_0x3608a7[_0x285e06(0x879)]({'jobType':_0x38af28[_0x285e06(0x782)],'type':_0x18c3c0[_0x285e06(0x97f)],'jobId':_0x1354d2,'agentId':_0x3aeea5,'threadId':_0x90fe0a,'blockId':_0xc4b237,'traceLevel':_0x2c280d['Info'],'startTime':_0x3dedf1,'timestamp':Date[_0x285e06(0xa6a)](),'status':_0x2b28e4['ok']?_0x285e06(0x63c):_0x285e06(0x4f1),'url':_0x4e5987[_0x285e06(0x6a6)],'page':_0x19043b,'totalPages':_0x104c8f,'response':_0x2c9ec8}),_0x2c9ec8;}catch(_0x2af97f){console[_0x285e06(0x4f1)](_0x2af97f);const _0x894a85=_0x2af97f instanceof Error?_0x2af97f[_0x285e06(0x748)]:_0x285e06(0x6fa);return _0x3608a7['trace']({'jobType':_0x38af28[_0x285e06(0x782)],'type':_0x18c3c0[_0x285e06(0x97f)],'jobId':_0x1354d2,'blockId':_0xc4b237,'threadId':_0x90fe0a,'traceLevel':_0x2c280d[_0x285e06(0x283)],'startTime':_0x3dedf1,'timestamp':Date[_0x285e06(0xa6a)](),'agentId':_0x3aeea5,'status':_0x285e06(0x4f1),'errorDetails':_0x2c7f5e(_0x2af97f),'url':_0x4e5987?.[_0x285e06(0x6a6)]??'','page':0x0,'totalPages':0x0,'response':_0x894a85}),_0x894a85;}}};}function _0x308c39(_0x20b1ae,_0x1d333d,_0x3463ae,_0x5f3895,_0x4b83d7,_0x4ab3b6){const _0x5efaf3=_0x3eb455,_0x284316={};for(const _0x2a695b of _0x5f3895[_0x5efaf3(0x8ea)])switch(_0x2a695b[_0x5efaf3(0x6d8)]){case'string':case _0x5efaf3(0x358):_0x284316[_0x2a695b[_0x5efaf3(0x807)]]={'type':_0x4d2150[_0x5efaf3(0x941)][_0x5efaf3(0x35c)]};break;case _0x5efaf3(0x411):_0x284316[_0x2a695b[_0x5efaf3(0x807)]]={'type':_0x4d2150['PromptFunctionParamsType'][_0x5efaf3(0x2b0)]};break;case _0x5efaf3(0x6c9):_0x284316[_0x2a695b['name']]={'type':_0x4d2150[_0x5efaf3(0x941)][_0x5efaf3(0x2ce)]};}return _0x3608a7[_0x5efaf3(0x879)]({'jobType':_0x38af28[_0x5efaf3(0x208)],'type':_0x1a6956[_0x5efaf3(0x4ec)],'jobId':_0x20b1ae,'agentId':_0x1d333d,'threadId':_0x3463ae,'traceLevel':_0x2c280d[_0x5efaf3(0x283)],'startTime':Date[_0x5efaf3(0xa6a)](),'timestamp':Date[_0x5efaf3(0xa6a)](),'status':'success','function':_0x18c3c0[_0x5efaf3(0x7a6)],'params':_0x284316,'functionDescription':_0x5f3895[_0x5efaf3(0x874)]}),{'description':_0x5efaf3(0x2bd)+_0x5f3895[_0x5efaf3(0x874)],'params':_0x284316,'callback':async _0x221a7e=>{const _0x50b7d1=_0x5efaf3,_0x4215ca=Date[_0x50b7d1(0xa6a)]();try{if(_0x4ab3b6&&(await _0x4dd2fb[_0x50b7d1(0x5a7)](0x1),_0x4ab3b6[_0x50b7d1(0xad4)]({'output':'\x0a\x0a`Executing\x20custom\x20skill\x20'+_0x5f3895[_0x50b7d1(0x807)]+_0x50b7d1(0x59e),'type':_0x50b7d1(0x3dd)})),!_0x221a7e)throw new Error(_0x50b7d1(0x370));for(const _0x4b14b7 of _0x5f3895['parameters']){if(void 0x0===_0x221a7e[_0x4b14b7['name']])throw new Error('Parameter\x20'+_0x4b14b7[_0x50b7d1(0x807)]+_0x50b7d1(0x400));if(_0x50b7d1(0x77a)===_0x4b14b7[_0x50b7d1(0x6d8)]&&_0x50b7d1(0x77a)!=typeof _0x221a7e[_0x4b14b7[_0x50b7d1(0x807)]])throw new Error('Parameter\x20'+_0x4b14b7['name']+_0x50b7d1(0x6b5));if(_0x50b7d1(0x411)===_0x4b14b7[_0x50b7d1(0x6d8)]&&_0x50b7d1(0x411)!=typeof _0x221a7e[_0x4b14b7[_0x50b7d1(0x807)]])throw new Error(_0x50b7d1(0x4d7)+_0x4b14b7['name']+_0x50b7d1(0x384));if('boolean'===_0x4b14b7[_0x50b7d1(0x6d8)]&&_0x50b7d1(0x6c9)!=typeof _0x221a7e[_0x4b14b7[_0x50b7d1(0x807)]])throw new Error(_0x50b7d1(0x4d7)+_0x4b14b7[_0x50b7d1(0x807)]+_0x50b7d1(0x6e0));if(_0x50b7d1(0x358)===_0x4b14b7[_0x50b7d1(0x6d8)]&&_0x50b7d1(0x77a)!=typeof _0x221a7e[_0x4b14b7[_0x50b7d1(0x807)]])throw new Error(_0x50b7d1(0x4d7)+_0x4b14b7['name']+'\x20must\x20be\x20a\x20string');if(_0x50b7d1(0x358)===_0x4b14b7[_0x50b7d1(0x6d8)])try{_0x221a7e[_0x4b14b7[_0x50b7d1(0x807)]]=JSON[_0x50b7d1(0x55e)](_0x221a7e[_0x4b14b7[_0x50b7d1(0x807)]]);}catch{throw new Error(_0x50b7d1(0x4d7)+_0x4b14b7[_0x50b7d1(0x807)]+'\x20must\x20be\x20a\x20valid\x20JSON\x20string');}}const _0x20fcee={};for(const _0x1f1bb7 of _0x5f3895['headers']){let _0xbf7165=_0x1f1bb7[_0x50b7d1(0x625)];_0xbf7165[_0x50b7d1(0x363)](/\$[a-zA-Z0-9]+/)&&(_0xbf7165=_0xbf7165['replace'](/\$[a-zA-Z0-9]+/g,_0x4518d7=>{const _0x276e70=_0x50b7d1,_0x313443=_0x4518d7[_0x276e70(0x2d0)](0x1);return _0x221a7e[_0x313443];})),_0x20fcee[_0x1f1bb7[_0x50b7d1(0x807)]]=_0xbf7165;}const _0x4dab8d=new URLSearchParams();for(const _0x34899e of _0x5f3895['queryParameters']){let _0x14fe22=_0x34899e[_0x50b7d1(0x625)];if(_0x50b7d1(0x77a)==typeof _0x14fe22&&_0x14fe22[_0x50b7d1(0x5fb)]('$')){const _0x50c068=_0x14fe22['slice'](0x1);_0x14fe22=_0x221a7e[_0x50c068];}if(_0x50b7d1(0x77a)==typeof _0x14fe22&&_0x14fe22[_0x50b7d1(0x5fb)](_0x50b7d1(0x553))){const _0x69e42b=_0x14fe22[_0x50b7d1(0x4d4)](_0x50b7d1(0x553),'');if(_0x5f3895[_0x50b7d1(0xa6e)],_0x14fe22=_0x5f3895[_0x50b7d1(0xa6e)]?.['context']?.[_0x69e42b],'string'==typeof _0x14fe22&&_0x14fe22['startsWith']('{')&&_0x14fe22['endsWith']('}'))try{_0x14fe22=JSON[_0x50b7d1(0x55e)](_0x14fe22);}catch{}}_0x50b7d1(0x77a)==typeof _0x14fe22&&_0x14fe22[_0x50b7d1(0x5fb)]('[')&&_0x14fe22['endsWith'](']')&&(_0x14fe22=_0x14fe22[_0x50b7d1(0x2d0)](0x1,-0x1)['split'](',')),_0x4dab8d[_0x50b7d1(0x446)](_0x34899e['name'],_0x14fe22);}let _0x162e38=_0x5f3895[_0x50b7d1(0x4b4)];_0x4dab8d['size']>0x0&&(_0x162e38+='?'+_0x4dab8d[_0x50b7d1(0x957)]());let _0x35c8fc={};for(const _0x4c0268 of _0x5f3895[_0x50b7d1(0x988)]){let _0xf7385f=_0x4c0268[_0x50b7d1(0x625)];if(_0x50b7d1(0x77a)==typeof _0xf7385f&&_0xf7385f['startsWith']('$')){const _0x2407a9=_0xf7385f[_0x50b7d1(0x2d0)](0x1);_0xf7385f=_0x221a7e[_0x2407a9];}if(_0x50b7d1(0x77a)==typeof _0xf7385f&&_0xf7385f[_0x50b7d1(0x5fb)](_0x50b7d1(0x553))){const _0x350c10=_0xf7385f[_0x50b7d1(0x4d4)]('@context.','');if(_0xf7385f=_0x5f3895[_0x50b7d1(0xa6e)]?.[_0x50b7d1(0x45a)]?.[_0x350c10],'string'==typeof _0xf7385f&&_0xf7385f[_0x50b7d1(0x5fb)]('{')&&_0xf7385f[_0x50b7d1(0x3d0)]('}'))try{_0xf7385f=JSON[_0x50b7d1(0x55e)](_0xf7385f);}catch{}}if(_0x50b7d1(0x77a)==typeof _0xf7385f&&_0xf7385f[_0x50b7d1(0x5fb)]('[')&&_0xf7385f[_0x50b7d1(0x3d0)](']')&&(_0xf7385f=_0xf7385f[_0x50b7d1(0x2d0)](0x1,-0x1)[_0x50b7d1(0x979)](',')),_0x50b7d1(0x920)===_0x4c0268[_0x50b7d1(0x807)]){const _0x5e4a81=_0xf7385f[_0x50b7d1(0x363)](/```html\n(.*)\n```/);_0x5e4a81&&(_0xf7385f=_0x5e4a81[0x1]),_0xf7385f=_0xf7385f[_0x50b7d1(0x4d4)](/\n/g,''),_0xf7385f=_0xf7385f[_0x50b7d1(0x4d4)](/'/g,'\x22'),_0x35c8fc=_0xf7385f;break;}if(-0x1===_0x4c0268[_0x50b7d1(0x807)][_0x50b7d1(0x43a)]('.'))_0x35c8fc[_0x4c0268['name']]=_0xf7385f;else{const [_0x4a3f3d,_0x5c1c43]=_0x4c0268[_0x50b7d1(0x807)]['split']('.');_0x35c8fc[_0x4a3f3d]||(_0x35c8fc[_0x4a3f3d]={}),_0x35c8fc[_0x4a3f3d][_0x5c1c43]=_0xf7385f;}}const _0x47bbe8=await fetch(_0x162e38,{'method':_0x5f3895['endpointMethod'],'headers':_0x20fcee,'body':JSON[_0x50b7d1(0x845)](_0x35c8fc)});if(_0x47bbe8['ok']){let _0x314f88=await _0x47bbe8[_0x50b7d1(0x358)]();return _0x5f3895[_0x50b7d1(0xa62)]&&(_0x314f88=await function(_0xd62d1f,_0x23a295){return new Promise((_0x251b43,_0x2a0be8)=>{const _0x582a6e=_0x4dd2fb['setInterval'](async()=>{const _0x1b0238=a0_0x12d8;try{if(!_0xd62d1f[_0x1b0238(0x300)]||!_0xd62d1f[_0x1b0238(0x431)])throw new Error(_0x1b0238(0x3aa));const _0x47beac={};if(_0xd62d1f[_0x1b0238(0x5a0)]){for(const _0x4912e5 of _0xd62d1f['asyncHeaders'])_0x47beac[_0x4912e5[_0x1b0238(0x807)]]=_0x4912e5['value'];}const _0x3f7683=_0xd62d1f[_0x1b0238(0x300)]['replace'](_0x1b0238(0x816),_0x23a295),_0x12213d=await fetch(_0x3f7683,{'method':_0xd62d1f[_0x1b0238(0x431)],'headers':_0x47beac});if(0xc8===_0x12213d[_0x1b0238(0x1e8)]){const _0x50a308=await _0x12213d[_0x1b0238(0x358)]();_0x582a6e(),_0x251b43(_0x50a308);}_0x12213d[_0x1b0238(0x1e8)]>=0x190&&(console[_0x1b0238(0x4f1)](_0x12213d[_0x1b0238(0x2af)]),_0x582a6e(),_0x2a0be8(new Error(_0x12213d[_0x1b0238(0x2af)])));}catch(_0x4bd451){console['error'](_0x4bd451),_0x582a6e(),_0x2a0be8(_0x4bd451);}},_0x5606ca);});}(_0x5f3895,_0x314f88['id'])),_0x5f3895[_0x50b7d1(0x79b)]?.[_0x50b7d1(0x698)](_0x19dffe=>_0x19dffe[_0x50b7d1(0x6d8)]===_0x287d9a['Context'])?(_0x1d916b(_0x314f88,_0x5f3895,_0x4b83d7),'I\x20am\x20done'):(_0x3608a7[_0x50b7d1(0x879)]({'jobType':_0x38af28[_0x50b7d1(0x782)],'type':_0x18c3c0['ExecuteCustomSkill'],'jobId':_0x20b1ae,'agentId':_0x1d333d,'threadId':_0x3463ae,'blockId':_0x5f3895['id'],'traceLevel':_0x2c280d[_0x50b7d1(0x283)],'startTime':_0x4215ca,'timestamp':Date['now'](),'status':'success','skillName':_0x5f3895[_0x50b7d1(0x807)],'params':_0x221a7e,'result':_0x314f88}),_0x314f88);}throw new Error(_0x47bbe8[_0x50b7d1(0x2af)]);}catch(_0x204b53){console[_0x50b7d1(0x4f1)](_0x204b53);const _0x4e1b2d=_0x204b53 instanceof Error?_0x204b53[_0x50b7d1(0x748)]:_0x50b7d1(0x6fa);return _0x3608a7['trace']({'jobType':_0x38af28[_0x50b7d1(0x782)],'type':_0x18c3c0[_0x50b7d1(0x7a6)],'jobId':_0x20b1ae,'blockId':_0x5f3895['id'],'threadId':_0x3463ae,'traceLevel':_0x2c280d[_0x50b7d1(0x283)],'startTime':_0x4215ca,'timestamp':Date['now'](),'agentId':_0x1d333d,'status':_0x50b7d1(0x4f1),'skillName':_0x5f3895['name'],'params':_0x221a7e??{},'result':_0x4e1b2d}),_0x4e1b2d;}}};}function _0x2c7f5e(_0x156611){const _0x6e0d48=_0x3eb455;try{return JSON[_0x6e0d48(0x845)](_0x156611);}catch(_0x2ba04e){return _0x156611 instanceof Error?_0x156611[_0x6e0d48(0x957)]():_0x6e0d48(0x5f6);}}async function _0x18d260(_0x498e77,_0x48c7c1,_0x37870b,_0x3afd11,_0x59de56,_0x5c2702,_0x5b4ffb,_0x2f54d5,_0x48f90b){const _0x4286b8=_0x3eb455;if(_0x5c2702['accumulated']||(_0x5c2702['accumulated']={}),_0x48c7c1===_0x287d9a['Text']&&_0x4286b8(0x77a)==typeof _0x37870b&&(_0x5c2702['accumulated'][_0x4286b8(0x3dd)]=_0x37870b),_0x5c2702['timesCalled']=_0x5c2702[_0x4286b8(0x528)]?_0x5c2702[_0x4286b8(0x528)]+0x1:0x1,_0x593e5d(_0x5c2702,_0x5b4ffb)>_0x5c2702[_0x4286b8(0x528)])return;if(_0x2c9fd4['forceLog'](_0x4286b8(0x926)+_0x5c2702['name'],_0x5c2702[_0x4286b8(0x528)]),!_0x5c2702[_0x4286b8(0xa6e)][_0x4286b8(0x3dd)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x5c2702['name']);const _0x2cc250=_0x2f54d5[_0x4286b8(0x6f9)][_0x4286b8(0xa41)](_0x3e864b=>_0x3e864b['id']===_0x5c2702[_0x4286b8(0x222)]);if(!_0x2cc250)throw new Error(_0x4286b8(0x324));if(!_0x2f54d5[_0x4286b8(0x20c)][_0x4286b8(0xa41)](_0x5a5c66=>_0x5a5c66['getEngineType']()===_0x2cc250[_0x4286b8(0x3d9)]))throw new Error(_0x4286b8(0x728));_0x48f90b&&_0x48f90b[_0x4286b8(0xad4)]({'output':_0x4286b8(0x502)+_0x5c2702[_0x4286b8(0x807)]+_0x4286b8(0x59e),'type':_0x4286b8(0x3dd)});const _0x5525fa=Date[_0x4286b8(0xa6a)](),_0x4239bf=(0x0,_0xe630d4['v4'])(),_0x409c80=_0x48f90b?await async function(_0x3d714d,_0x43db23,_0x54e678,_0x58a7f8,_0x4c18d5,_0x5ae6ff,_0x2e982f,_0x432c7b){const _0x48f556=_0x4286b8,_0x5f46af=_0x432c7b['models'][_0x48f556(0xa41)](_0x430051=>_0x430051['id']===_0x4c18d5[_0x48f556(0x222)]);if(!_0x5f46af)throw new Error('Model\x20not\x20found');const _0x1ca02c=_0x432c7b['generativeAIWorkerConnectors'][_0x48f556(0xa41)](_0x219ccb=>_0x219ccb['getEngineType']()===_0x5f46af['engineType']);if(!_0x1ca02c)throw new Error(_0x48f556(0x728));if(!_0x4c18d5[_0x48f556(0xa6e)]||!_0x4c18d5['accumulated'][_0x48f556(0x3dd)])throw new Error(_0x48f556(0x6ed));let _0x253364=_0x4c18d5[_0x48f556(0xa6e)][_0x48f556(0x3dd)];if(_0x4c18d5[_0x48f556(0xa6e)][_0x48f556(0x45a)]&&_0x48f556(0x82e)!==_0x4c18d5[_0x48f556(0x787)]){await _0x4dd2fb['wait'](0x1),_0x2e982f[_0x48f556(0xad4)]({'output':_0x48f556(0x752),'type':'prompt'});for(const _0x23b044 of Object[_0x48f556(0x9c6)](_0x4c18d5['accumulated'][_0x48f556(0x45a)]))_0x253364=_0x253364+'\x0a\x0a'+_0x23b044+':\x20'+_0x4c18d5[_0x48f556(0xa6e)]['context'][_0x23b044];}const _0x2891f4={'type':_0x48f556(0x3dd),'output':''};for await(const _0x3d25a0 of _0x1ca02c[_0x48f556(0x7d9)]({'type':_0x54e678['type'],'prompt':_0x253364,'instructions':''+_0x4c18d5['instructions']+(_0x54e678[_0x48f556(0xa8d)]??''),'grammar':_0x4c18d5['grammar'],'temperature':_0x4c18d5[_0x48f556(0x755)],'maxTokens':_0x4c18d5[_0x48f556(0xa61)],'history':_0x54e678[_0x48f556(0x69c)],'functions':_0x13e608(_0x3d714d,_0x43db23,_0x54e678[_0x48f556(0x7fa)],_0x58a7f8,_0x4c18d5,_0x5ae6ff,_0x432c7b,_0x2e982f),'threadId':_0x54e678[_0x48f556(0x7fa)]},{'model':_0x5f46af}))_0x4c18d5[_0x48f556(0x79b)]&&_0x4c18d5[_0x48f556(0x79b)][_0x48f556(0x698)](_0x35283c=>{const _0xecfe52=_0x48f556,_0x42417e=_0x5ae6ff[_0xecfe52(0xa41)](_0x5554ee=>_0x5554ee[_0xecfe52(0x22b)]===_0x35283c[_0xecfe52(0x22b)]);return!!_0x42417e&&_0x42417e[_0xecfe52(0x6d8)]===_0x12b7c4[_0xecfe52(0x26c)];})&&_0x2e982f[_0x48f556(0xad4)](_0x3d25a0),_0x48f556(0x77a)==typeof _0x2891f4[_0x48f556(0x301)]&&_0x48f556(0x77a)==typeof _0x3d25a0['output']&&(_0x2891f4['output']+=_0x3d25a0[_0x48f556(0x301)]),_0x2891f4['inputTokens']=_0x3d25a0['inputTokens'],_0x2891f4[_0x48f556(0x332)]=_0x3d25a0[_0x48f556(0x332)];return _0x2891f4;}(_0x498e77,_0x4239bf,_0x3afd11,_0x59de56,_0x5c2702,_0x5b4ffb,_0x48f90b,_0x2f54d5):await async function(_0x479923,_0x16e602,_0x162a84,_0x106c28,_0xa5ecae,_0x875cc9,_0x114f9e){const _0x33d2c9=_0x4286b8,_0xf0b86d=_0x114f9e[_0x33d2c9(0x6f9)][_0x33d2c9(0xa41)](_0x50b778=>_0x50b778['id']===_0xa5ecae['modelId']);if(!_0xf0b86d)throw new Error(_0x33d2c9(0x324));const _0x37f2c5=_0x114f9e[_0x33d2c9(0x20c)][_0x33d2c9(0xa41)](_0x513872=>_0x513872[_0x33d2c9(0x99f)]()===_0xf0b86d[_0x33d2c9(0x3d9)]);if(!_0x37f2c5)throw new Error(_0x33d2c9(0x728));if(!_0xa5ecae[_0x33d2c9(0xa6e)]||!_0xa5ecae[_0x33d2c9(0xa6e)][_0x33d2c9(0x3dd)])throw new Error(_0x33d2c9(0x6ed));let _0x197efc=_0xa5ecae['accumulated'][_0x33d2c9(0x3dd)];if(_0xa5ecae[_0x33d2c9(0xa6e)][_0x33d2c9(0x45a)]&&_0x33d2c9(0x82e)!==_0xa5ecae[_0x33d2c9(0x787)]){for(const _0xe1f90 of Object[_0x33d2c9(0x9c6)](_0xa5ecae[_0x33d2c9(0xa6e)][_0x33d2c9(0x45a)]))_0x197efc=_0x197efc+'\x0a\x0a'+_0xe1f90+':\x20'+_0xa5ecae[_0x33d2c9(0xa6e)][_0x33d2c9(0x45a)][_0xe1f90];}return _0x37f2c5[_0x33d2c9(0x6c5)]({'type':_0x33d2c9(0x3dd),'prompt':_0xa5ecae[_0x33d2c9(0xa6e)]['prompt'],'instructions':''+_0xa5ecae[_0x33d2c9(0xa8d)]+(_0x162a84['instructions']??''),'grammar':_0xa5ecae[_0x33d2c9(0x787)],'temperature':_0xa5ecae[_0x33d2c9(0x755)],'maxTokens':_0xa5ecae[_0x33d2c9(0xa61)],'history':_0x162a84[_0x33d2c9(0x69c)],'functions':_0x13e608(_0x479923,_0x16e602,_0x162a84[_0x33d2c9(0x7fa)],_0x106c28,_0xa5ecae,_0x875cc9,_0x114f9e),'threadId':_0x162a84[_0x33d2c9(0x7fa)]},{'model':_0xf0b86d});}(_0x498e77,_0x4239bf,_0x3afd11,_0x59de56,_0x5c2702,_0x5b4ffb,_0x2f54d5);if(_0x4286b8(0x77a)!=typeof _0x409c80[_0x4286b8(0x301)])throw new Error(_0x4286b8(0x8f7));_0x59de56[_0x4286b8(0x81d)]+=_0x409c80['inputTokens']??0x0,_0x59de56[_0x4286b8(0x332)]+=_0x409c80[_0x4286b8(0x332)]??0x0,_0x3608a7['trace']({'jobType':_0x38af28[_0x4286b8(0x603)],'type':_0x434eea[_0x4286b8(0x84e)],'jobId':_0x498e77,'agentId':_0x4239bf,'threadId':_0x3afd11[_0x4286b8(0x7fa)],'traceLevel':_0x2c280d[_0x4286b8(0x283)],'startTime':_0x5525fa,'timestamp':Date[_0x4286b8(0xa6a)](),'blockId':_0x5c2702['id'],'status':'success','output':_0x409c80[_0x4286b8(0x301)],'prompt':_0x5c2702[_0x4286b8(0xa6e)]['prompt'],'agentName':_0x5c2702[_0x4286b8(0x807)],'history':[],'instructions':''+_0x5c2702[_0x4286b8(0xa8d)]+(_0x3afd11[_0x4286b8(0xa8d)]??''),'ragContext':_0x409c80[_0x4286b8(0x45a)]??[],'inputTokens':_0x409c80['inputTokens']??0x0,'outputTokens':_0x409c80[_0x4286b8(0x332)]??0x0}),_0x1d916b(_0x409c80[_0x4286b8(0x301)],_0x5c2702,_0x5b4ffb),await _0x50c386(_0x498e77,_0x409c80[_0x4286b8(0x301)],_0x3afd11,_0x59de56,_0x5c2702,_0x5b4ffb,_0x2f54d5,_0x48f90b);}function _0x22a6f5(_0x365045,_0x5c99fb,_0x256210){const _0x1cbadb=_0x3eb455;_0x256210['accumulated']||(_0x256210[_0x1cbadb(0xa6e)]={}),_0x256210[_0x1cbadb(0xa6e)]['context']||(_0x256210[_0x1cbadb(0xa6e)][_0x1cbadb(0x45a)]={}),_0x256210[_0x1cbadb(0xa6e)][_0x1cbadb(0x45a)][_0x365045]=_0x5c99fb;}function _0x32acc2(_0x121cc4,_0x513eaa,_0x3a12fc,_0x4d0962){const _0x4cee70=_0x3eb455;_0x121cc4===_0x287d9a[_0x4cee70(0xa7e)]&&(_0x4d0962[_0x4cee70(0xa6e)]||(_0x4d0962[_0x4cee70(0xa6e)]={}),_0x4d0962[_0x4cee70(0xa6e)][_0x4cee70(0x45a)]||(_0x4d0962[_0x4cee70(0xa6e)][_0x4cee70(0x45a)]={}),_0x4d0962[_0x4cee70(0xa6e)][_0x4cee70(0x45a)][_0x513eaa]=_0x3a12fc);}async function _0x4dba00(_0x53a8a5,_0x37b2c0,_0x5359d1,_0x378515,_0x1a559a,_0x1a6438,_0x37e0fd,_0x1f8422){const _0x4147d8=function(_0x29d42e,_0x3107b0){const _0x2130b0=a0_0x12d8,_0x2b8e31=[];for(let _0x41a293=0x0;_0x41a293<_0x29d42e['length'];_0x41a293+=_0x3107b0[_0x2130b0(0x9ed)][_0x2130b0(0xa95)]){let _0x16ff17=_0x41a293-_0x3107b0[_0x2130b0(0x9ed)][_0x2130b0(0x397)];_0x16ff17<0x0&&(_0x16ff17=0x0);let _0x536bfb=_0x41a293+_0x3107b0[_0x2130b0(0x9ed)][_0x2130b0(0xa95)]+_0x3107b0[_0x2130b0(0x9ed)][_0x2130b0(0x397)];_0x536bfb>_0x29d42e[_0x2130b0(0x3ed)]&&(_0x536bfb=_0x29d42e[_0x2130b0(0x3ed)]),length||(length=_0x41a293+_0x3107b0[_0x2130b0(0x9ed)][_0x2130b0(0xa95)],length>_0x29d42e[_0x2130b0(0x3ed)]&&(length=_0x29d42e[_0x2130b0(0x3ed)])),_0x2b8e31[_0x2130b0(0x69a)](_0x29d42e[_0x2130b0(0x5ef)](_0x16ff17,_0x536bfb));}return _0x2b8e31;}(_0x37b2c0,_0x1a559a);await _0x50c386(_0x53a8a5,_0x4147d8,_0x5359d1,_0x378515,_0x1a559a,_0x1a6438,_0x37e0fd,_0x1f8422);}function _0x32c010(_0xb8f710,_0x4c08f8,_0x4191ec){const _0x52da0f=_0x3eb455;_0x4191ec['accumulated']||(_0x4191ec[_0x52da0f(0xa6e)]={}),_0x4191ec[_0x52da0f(0xa6e)][_0x52da0f(0x45a)]||(_0x4191ec[_0x52da0f(0xa6e)]['context']={}),_0x4191ec[_0x52da0f(0xa6e)][_0x52da0f(0x45a)][_0xb8f710]=_0x4c08f8;}async function _0x131c12(_0x2e89a5,_0x2e46f2,_0x237c31,_0x130af3,_0x369442,_0x580040,_0x518a49,_0x4bf9e8){const _0x5ef9d1=_0x3eb455;if(_0x369442[_0x5ef9d1(0xa6e)]||(_0x369442[_0x5ef9d1(0xa6e)]={}),_0x369442[_0x5ef9d1(0xa6e)][_0x5ef9d1(0x620)]||(_0x369442[_0x5ef9d1(0xa6e)][_0x5ef9d1(0x620)]=[]),_0x2e46f2 instanceof Array?_0x369442[_0x5ef9d1(0xa6e)][_0x5ef9d1(0x620)][_0x5ef9d1(0x69a)](..._0x2e46f2):_0x369442[_0x5ef9d1(0xa6e)][_0x5ef9d1(0x620)]['push'](_0x2e46f2),_0x369442[_0x5ef9d1(0x528)]=_0x369442[_0x5ef9d1(0x528)]?_0x369442[_0x5ef9d1(0x528)]+0x1:0x1,_0x593e5d(_0x369442,_0x580040)>_0x369442['timesCalled'])return;if(0x0===_0x369442['accumulated'][_0x5ef9d1(0x620)][_0x5ef9d1(0x3ed)])throw new Error(_0x5ef9d1(0xac3));let _0x4c7fa3=[];const _0x3c9088=Date[_0x5ef9d1(0xa6a)]();try{let _0x20afde=0x0,_0x348e90=0x0;for(const _0x3b0b87 of _0x369442['accumulated'][_0x5ef9d1(0x620)]){const _0xb94859=_0x369442[_0x5ef9d1(0x6d5)][_0x5ef9d1(0xa41)](_0x47b139=>_0x47b139['type']===_0x25d8e0['Prompt']),_0x17093f=await _0x360ecb(_0x2e89a5,_0x237c31[_0x5ef9d1(0x7fa)],_0x3b0b87,_0xb94859,_0x369442[_0x5ef9d1(0x6d5)],_0x518a49);_0x4c7fa3=Array[_0x5ef9d1(0x495)](new Set([..._0x4c7fa3,..._0x17093f[_0x5ef9d1(0x45a)]])),_0x20afde+=_0x17093f[_0x5ef9d1(0x81d)]??0x0,_0x348e90+=_0x17093f[_0x5ef9d1(0x332)]??0x0;}_0x130af3[_0x5ef9d1(0x81d)]+=_0x20afde,_0x130af3['outputTokens']+=_0x348e90,_0x130af3['context']=Array[_0x5ef9d1(0x495)](new Set([..._0x130af3[_0x5ef9d1(0x45a)],..._0x4c7fa3])),_0x3608a7[_0x5ef9d1(0x879)]({'jobType':_0x38af28[_0x5ef9d1(0x603)],'type':_0x434eea[_0x5ef9d1(0x6b4)],'jobId':_0x2e89a5,'threadId':_0x237c31[_0x5ef9d1(0x7fa)],'traceLevel':_0x2c280d[_0x5ef9d1(0x283)],'startTime':_0x3c9088,'timestamp':Date[_0x5ef9d1(0xa6a)](),'blockId':_0x369442['id'],'status':_0x5ef9d1(0x63c),'queries':_0x369442['accumulated'][_0x5ef9d1(0x620)],'context':_0x4c7fa3,'inputTokens':_0x20afde,'outputTokens':_0x348e90});}catch(_0x53f8e8){console[_0x5ef9d1(0x4f1)](_0x53f8e8),_0x3608a7['trace']({'jobType':_0x38af28[_0x5ef9d1(0x603)],'type':_0x434eea[_0x5ef9d1(0x6b4)],'jobId':_0x2e89a5,'threadId':_0x237c31[_0x5ef9d1(0x7fa)],'traceLevel':_0x2c280d[_0x5ef9d1(0x283)],'startTime':_0x3c9088,'timestamp':Date[_0x5ef9d1(0xa6a)](),'blockId':_0x369442['id'],'status':_0x5ef9d1(0x4f1),'queries':_0x369442[_0x5ef9d1(0xa6e)][_0x5ef9d1(0x620)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x1d916b(_0x4c7fa3,_0x369442,_0x580040),await _0x50c386(_0x2e89a5,_0x4c7fa3,_0x237c31,_0x130af3,_0x369442,_0x580040,_0x518a49,_0x4bf9e8);}async function _0x28d61f(_0x3b4283,_0x21c58f,_0x251a13,_0x1ec213,_0x427d8b,_0x4962dc,_0x2b4475,_0x4183df){const _0x2bf6fb=_0x3eb455,_0x144ae6=await _0x2b4475[_0x2bf6fb(0x5a6)][_0x2bf6fb(0x538)](_0x21c58f);await _0x50c386(_0x3b4283,_0x144ae6,_0x251a13,_0x1ec213,_0x427d8b,_0x4962dc,_0x2b4475,_0x4183df);}async function _0x171752(_0x27dc1c,_0x20a497,_0x4afe0a,_0x20b3af,_0xb4cf4a,_0x164432,_0x5e7aca,_0xb128c6){const _0x4dd8a3=function(_0x5ce680,_0x1e9285){const _0x5c01c7=a0_0x12d8,_0x444fe4=[],_0x3ff16d=_0x5ce680[_0x5c01c7(0x979)]('\x20');let _0x4a109f='',_0x146bd7=0x0,_0x3135c6=0x0,_0xf574c0=0x0;for(const _0x55df2f of _0x3ff16d){if(_0x4a109f[_0x5c01c7(0x3ed)]+_0x55df2f['length']>_0x1e9285[_0x5c01c7(0x9ed)][_0x5c01c7(0xa95)]){let _0x45e362=_0x146bd7,_0x39a9a1='';for(;_0x45e362>=0x0&&_0x39a9a1[_0x5c01c7(0x3ed)]+_0x3ff16d[_0x45e362]['length']<_0x1e9285[_0x5c01c7(0x9ed)][_0x5c01c7(0x397)];)_0x39a9a1=_0x3ff16d[_0x45e362]+'\x20'+_0x39a9a1,_0x45e362--;let _0x249dd1=_0x3135c6,_0xdd2f54='';for(;_0x249dd1<_0x3ff16d[_0x5c01c7(0x3ed)]&&_0xdd2f54[_0x5c01c7(0x3ed)]+_0x3ff16d[_0x249dd1][_0x5c01c7(0x3ed)]<_0x1e9285[_0x5c01c7(0x9ed)]['overlap'];)_0xdd2f54+=_0x3ff16d[_0x249dd1]+'\x20',_0x249dd1++;_0x4a109f=_0x39a9a1+_0x4a109f+_0xdd2f54,_0x444fe4[_0x5c01c7(0x69a)](_0x4a109f[_0x5c01c7(0x242)]()),_0x4a109f='',_0x146bd7=_0x3135c6;}_0x4a109f+=_0x55df2f+'\x20',_0x3135c6++,_0xf574c0+=_0x55df2f[_0x5c01c7(0x3ed)]+0x1;}if(_0x4a109f['length']>0x0){let _0x4f30e7=_0x146bd7,_0x61e280='';for(;_0x4f30e7>=0x0&&_0x61e280[_0x5c01c7(0x3ed)]+_0x3ff16d[_0x4f30e7][_0x5c01c7(0x3ed)]<_0x1e9285[_0x5c01c7(0x9ed)][_0x5c01c7(0x397)];)_0x61e280=_0x3ff16d[_0x4f30e7]+'\x20'+_0x61e280,_0x4f30e7--;_0x4a109f=_0x61e280+_0x4a109f,_0x444fe4[_0x5c01c7(0x69a)](_0x4a109f[_0x5c01c7(0x242)]());}return _0x444fe4;}(_0x20a497,_0xb4cf4a);await _0x50c386(_0x27dc1c,_0x4dd8a3,_0x4afe0a,_0x20b3af,_0xb4cf4a,_0x164432,_0x5e7aca,_0xb128c6);}function _0x1d916b(_0x2d9762,_0x36a9e5,_0x4c9b13,_0x12ac80){const _0x261dc4=_0x3eb455;if(_0x36a9e5[_0x261dc4(0x79b)])for(const _0x131b58 of _0x36a9e5[_0x261dc4(0x79b)]){if(_0x131b58['type']!==_0x287d9a[_0x261dc4(0xa7e)])continue;const _0x14c3f8=_0x4c9b13['find'](_0x432b68=>_0x432b68[_0x261dc4(0x22b)]===_0x131b58[_0x261dc4(0x22b)]);if(!_0x14c3f8)continue;let _0x2c183a=_0x36a9e5['id'];switch(_0x12ac80?_0x2c183a=_0x12ac80:(_0x36a9e5[_0x261dc4(0x6d8)]===_0x12b7c4[_0x261dc4(0x6b4)]&&(_0x2c183a=_0x36a9e5[_0x261dc4(0x807)]),_0x36a9e5['type']!==_0x12b7c4[_0x261dc4(0x1b8)]&&_0x36a9e5[_0x261dc4(0x6d8)]!==_0x12b7c4['AgentSkill']&&_0x36a9e5[_0x261dc4(0x6d8)]!==_0x12b7c4[_0x261dc4(0x753)]||(_0x2c183a=_0x36a9e5[_0x261dc4(0xa23)]??_0x36a9e5['name'])),_0x14c3f8['type']){case _0x12b7c4[_0x261dc4(0x1b8)]:_0x2c9fd4[_0x261dc4(0xa54)](_0x261dc4(0x382),_0x14c3f8[_0x261dc4(0x807)],_0x2c183a),_0x14c3f8[_0x261dc4(0xa6e)]||(_0x14c3f8[_0x261dc4(0xa6e)]={}),_0x14c3f8[_0x261dc4(0xa6e)][_0x261dc4(0x45a)]||(_0x14c3f8[_0x261dc4(0xa6e)]['context']={}),_0x14c3f8[_0x261dc4(0xa6e)]['context'][_0x2c183a]=_0x2d9762,_0x14c3f8[_0x261dc4(0x528)]=_0x14c3f8['timesCalled']?_0x14c3f8[_0x261dc4(0x528)]+0x1:0x1;break;case _0x12b7c4[_0x261dc4(0x4b6)]:_0x2c9fd4[_0x261dc4(0xa54)](_0x261dc4(0x8df),_0x14c3f8[_0x261dc4(0x807)],_0x2c183a),_0x22a6f5(_0x2c183a,_0x2d9762,_0x14c3f8);break;case _0x12b7c4['Answer']:_0x2c9fd4[_0x261dc4(0xa54)]('Setting\x20context\x20for\x20answer\x20block',_0x2c183a),_0x32acc2(_0x131b58[_0x261dc4(0x6d8)],_0x2c183a,_0x2d9762,_0x14c3f8);break;case _0x12b7c4[_0x261dc4(0x753)]:_0x2c9fd4[_0x261dc4(0xa54)](_0x261dc4(0x6c4),_0x14c3f8['name'],_0x2c183a),_0x32c010(_0x2c183a,_0x2d9762,_0x14c3f8);}}}async function _0x50c386(_0x11fd06,_0xaf286b,_0x5cd3db,_0x40c7ca,_0x2da3c6,_0x136fea,_0x47b6ab,_0xd5d80f){const _0x2c0a26=_0x3eb455;if(await _0x4dd2fb[_0x2c0a26(0x5a7)](0x1),_0x2da3c6[_0x2c0a26(0x79b)]){for(const _0xdd2e32 of _0x2da3c6[_0x2c0a26(0x79b)]){if(_0xdd2e32[_0x2c0a26(0x6d8)]===_0x287d9a[_0x2c0a26(0xa7e)])continue;const _0x3b9460=_0x136fea[_0x2c0a26(0xa41)](_0x1d41d7=>_0x1d41d7[_0x2c0a26(0x22b)]===_0xdd2e32[_0x2c0a26(0x22b)]);if(_0x3b9460)switch(_0x3b9460['type']){case _0x12b7c4['Agent']:await _0x18d260(_0x11fd06,_0xdd2e32[_0x2c0a26(0x6d8)],_0xaf286b,_0x5cd3db,_0x40c7ca,_0x3b9460,_0x136fea,_0x47b6ab,_0xd5d80f);break;case _0x12b7c4[_0x2c0a26(0xa5f)]:await _0x4dba00(_0x11fd06,_0xaf286b,_0x5cd3db,_0x40c7ca,_0x3b9460,_0x136fea,_0x47b6ab,_0xd5d80f);break;case _0x12b7c4[_0x2c0a26(0x6b4)]:await _0x131c12(_0x11fd06,_0xaf286b,_0x5cd3db,_0x40c7ca,_0x3b9460,_0x136fea,_0x47b6ab,_0xd5d80f);break;case _0x12b7c4[_0x2c0a26(0x796)]:await _0x28d61f(_0x11fd06,_0xaf286b,_0x5cd3db,_0x40c7ca,_0x3b9460,_0x136fea,_0x47b6ab,_0xd5d80f);break;case _0x12b7c4[_0x2c0a26(0x83e)]:await _0x171752(_0x11fd06,_0xaf286b,_0x5cd3db,_0x40c7ca,_0x3b9460,_0x136fea,_0x47b6ab,_0xd5d80f);}}_0x2da3c6[_0x2c0a26(0x6d8)]===_0x12b7c4['Prompt']&&_0xd5d80f&&_0xd5d80f[_0x2c0a26(0xad4)](void 0x0);}else _0x2da3c6[_0x2c0a26(0x6d8)]===_0x12b7c4[_0x2c0a26(0x630)]&&_0xd5d80f&&_0xd5d80f['emit'](void 0x0);}function _0x593e5d(_0x38a874,_0x1abe29){const _0x40ded1=_0x3eb455;let _0x4f9115=0x0;for(const _0x353c16 of _0x1abe29)for(const _0x12c515 of _0x353c16[_0x40ded1(0x79b)]??[])_0x12c515[_0x40ded1(0x6d8)]!==_0x287d9a[_0x40ded1(0x937)]&&_0x12c515['type']!==_0x287d9a[_0x40ded1(0x782)]&&_0x12c515[_0x40ded1(0x22b)]===_0x38a874[_0x40ded1(0x22b)]&&_0x4f9115++;return _0x4f9115;}class _0x1ea9db extends _0x2a54ee{[_0x3eb455(0x45e)];[_0x3eb455(0x2df)];['contentMediator'];[_0x3eb455(0x20c)];[_0x3eb455(0x696)];[_0x3eb455(0x5a6)];[_0x3eb455(0x85c)];[_0x3eb455(0xad7)];[_0x3eb455(0x627)];[_0x3eb455(0x570)];[_0x3eb455(0x8e9)]=new Map();[_0x3eb455(0x743)]=new Map();[_0x3eb455(0x5d9)];[_0x3eb455(0x6f9)]=new Map();['debounceStats'];[_0x3eb455(0x97b)]=0x0;['tokens']=0x0;[_0x3eb455(0x636)]=!0x1;constructor(_0x170700,_0x220eac,_0x10a10b,_0x3964bc,_0x205cc3,_0x270a93,_0xd604b0,_0x10808d,_0x26ae1e,_0x32f2d0){const _0x29f144=_0x3eb455;super(_0x170700,_0x220eac,_0x3964bc),this[_0x29f144(0x45e)]=_0x170700,this[_0x29f144(0x2df)]=_0x10a10b,this[_0x29f144(0x413)]=_0x205cc3,this['generativeAIWorkerConnectors']=_0x270a93,this[_0x29f144(0x696)]=_0xd604b0,this['nlpLibraryConnector']=_0x10808d,this['searchApiKey']=_0x26ae1e,this[_0x29f144(0xad7)]=_0x32f2d0;}async['destroy'](){const _0x7a7791=_0x3eb455;for(const _0x273e63 of this[_0x7a7791(0x20c)])await _0x273e63['close']();this['modelStore']?.[_0x7a7791(0x421)](this['label']),this[_0x7a7791(0x8e9)][_0x7a7791(0x9d2)](_0x19f41d=>_0x19f41d[_0x7a7791(0x421)](this[_0x7a7791(0x78e)])),this[_0x7a7791(0x6da)]&&(clearTimeout(this[_0x7a7791(0x6da)]),delete this[_0x7a7791(0x6da)]),super[_0x7a7791(0x51b)]();}async[_0x3eb455(0x8db)](_0x2433a7=!0x1){const _0x12f0b7=_0x3eb455;if(this[_0x12f0b7(0x636)])super[_0x12f0b7(0x8db)]();else{if(_0x2c9fd4['forceLog'](_0x12f0b7(0x8d9),this['label']),this['workflow']=await _0xb2de82[_0x12f0b7(0x40b)](this['vendorId'],this['label']),this[_0x12f0b7(0x570)]=this[_0x12f0b7(0x413)][_0x12f0b7(0x6b9)](this['workflow'][_0x12f0b7(0x29e)]),!this[_0x12f0b7(0x570)])throw new Error(_0x12f0b7(0x460));this['initializeLoggingDatabase'](),_0x2c9fd4[_0x12f0b7(0xa54)](_0x12f0b7(0x70c),this['workflow'][_0x12f0b7(0x6f9)]);for(const _0x11cb18 of this[_0x12f0b7(0x627)][_0x12f0b7(0x6f9)])try{let _0x2afa9a;_0x11cb18[_0x12f0b7(0x3d9)]===_0x4d2150['GenerativeAIEngineType'][_0x12f0b7(0x8d7)]&&(_0x2afa9a=await this[_0x12f0b7(0x34a)]('/'+_0x11cb18['id']+_0x17dfbb)),this[_0x12f0b7(0x6f9)][_0x12f0b7(0x90d)](_0x11cb18['id'],{'id':_0x11cb18['id'],'engineType':_0x11cb18[_0x12f0b7(0x3d9)],'taskType':_0x11cb18[_0x12f0b7(0x742)],'inputType':_0x11cb18[_0x12f0b7(0x793)],'outputType':_0x11cb18[_0x12f0b7(0x8fd)],'sourceUrl':_0x11cb18[_0x12f0b7(0x673)],'pathName':_0x2afa9a});}catch(_0x1df227){await this[_0x12f0b7(0x570)][_0x12f0b7(0x5bf)]({'action':_0x4d2150['PayloadAction'][_0x12f0b7(0x3f4)],'file':new File([''],''+_0x11cb18['id']+_0x17dfbb),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x11cb18[_0x12f0b7(0x673)]}}),this[_0x12f0b7(0x6f9)][_0x12f0b7(0x90d)](_0x11cb18['id'],{'id':_0x11cb18['id'],'engineType':_0x11cb18[_0x12f0b7(0x3d9)],'taskType':_0x11cb18['taskType'],'inputType':_0x11cb18[_0x12f0b7(0x793)],'outputType':_0x11cb18[_0x12f0b7(0x8fd)],'sourceUrl':_0x11cb18[_0x12f0b7(0x673)],'pathName':await this['getModel']('/'+_0x11cb18['id']+_0x17dfbb)});}try{for(const _0x3302e1 of this['generativeAIWorkerConnectors'])await _0x3302e1[_0x12f0b7(0x4fc)](this['label'],this[_0x12f0b7(0x6f9)]);}catch(_0x2149d0){return this[_0x12f0b7(0x8db)](_0x2433a7);}for(const _0x117c2b of this['workflow']['dataBucketIds'])this['dataStores'][_0x12f0b7(0x90d)](_0x117c2b,this[_0x12f0b7(0x413)][_0x12f0b7(0x6b9)](_0x117c2b));await this[_0x12f0b7(0x27a)](),this['subscribeToLocalContent']();for(const _0x1be430 of this['workflow'][_0x12f0b7(0x5e7)])this[_0x12f0b7(0x743)][_0x12f0b7(0x90d)](_0x1be430,this['contentMediator'][_0x12f0b7(0x34c)](_0x1be430));await this[_0x12f0b7(0x7af)](),this[_0x12f0b7(0x9df)](),this[_0x12f0b7(0x636)]=!0x0,this['sendStats'](),super['open'](),_0x2c9fd4[_0x12f0b7(0xa54)](_0x12f0b7(0x96c),this[_0x12f0b7(0x78e)]);}}['reset'](){const _0x2643b1=_0x3eb455;this[_0x2643b1(0x97b)]=0x0,this[_0x2643b1(0xa13)]=0x0,this[_0x2643b1(0x6f8)](),super[_0x2643b1(0x594)]();}[_0x3eb455(0x3f6)](){const _0x278191=_0x3eb455;return this[_0x278191(0x6f8)](),this[_0x278191(0x68e)]();}['compileStats'](_0x5801a5,_0x5cfa9d,_0xe41d52){const _0x2494ca=_0x3eb455,{outputTokens:_0x5d2c8d=0x0,output:_0x46cffb=''}=_0x5801a5,_0x353146=_0x5d2c8d/((_0xe41d52-_0x5cfa9d)/0x3e8);this[_0x2494ca(0x97b)]+=0x1,this['tokens']+=_0x5d2c8d,this[_0x2494ca(0x7f7)](_0x353146,_0x5d2c8d),this[_0x2494ca(0x6f8)]();}[_0x3eb455(0xac4)](_0x2a26df,_0xe853af){const _0x57fb9b=_0x3eb455;return _0x2a26df[_0x57fb9b(0x301)]=_0x2a26df[_0x57fb9b(0x301)]??'',{'type':'prompt','output':_0x57fb9b(0x77a)==typeof _0x2a26df[_0x57fb9b(0x301)]&&_0x57fb9b(0x77a)==typeof _0xe853af[_0x57fb9b(0x301)]?_0x2a26df[_0x57fb9b(0x301)]+_0xe853af[_0x57fb9b(0x301)]:_0xe853af[_0x57fb9b(0x301)],'outputTokens':_0xe853af[_0x57fb9b(0x332)]??_0x2a26df['outputTokens'],'inputTokens':_0xe853af['inputTokens']??_0x2a26df[_0x57fb9b(0x81d)]};}async[_0x3eb455(0x3c7)](_0x350526,_0x33e2fe){const _0xdf18d7=_0x3eb455;if(this[_0xdf18d7(0x627)]=await _0xb2de82[_0xdf18d7(0x40b)](this[_0xdf18d7(0x2df)],this[_0xdf18d7(0x78e)]),_0xdf18d7(0x3dd)===_0x33e2fe[_0xdf18d7(0x6d8)]){const _0x250ecb=this[_0xdf18d7(0x627)][_0xdf18d7(0x578)]['find'](_0x331ee4=>_0x331ee4[_0xdf18d7(0x6d8)]===_0x12b7c4['Prompt']),_0x2c5f6b=await async function(_0x4fe2d9,_0x3f67f5,_0x26045a,_0x18851f,_0x2e833c){const _0x1e795f=_0xdf18d7,_0x52387f=(0x0,_0xe630d4['v4'])(),_0x48f855=Date['now']();if(_0x3608a7[_0x1e795f(0x879)]({'jobType':_0x38af28[_0x1e795f(0x603)],'type':_0x434eea[_0x1e795f(0x7cd)],'jobId':_0x4fe2d9,'blockId':_0x26045a['id'],'agentId':_0x52387f,'threadId':_0x3f67f5[_0x1e795f(0x7fa)],'traceLevel':_0x2c280d[_0x1e795f(0x283)],'startTime':Date[_0x1e795f(0xa6a)](),'timestamp':Date['now'](),'status':_0x1e795f(0x63c),'initialPrompt':_0x3f67f5['prompt']}),_0x3f67f5['internalContext']){for(const _0x1f9461 in _0x3f67f5[_0x1e795f(0x462)])_0x1d916b(_0x3f67f5[_0x1e795f(0x462)][_0x1f9461],_0x26045a,_0x18851f,_0x1f9461);}const _0x1919ab={'type':_0x3f67f5[_0x1e795f(0x6d8)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x50c386(_0x4fe2d9,''+_0x3f67f5[_0x1e795f(0x3dd)],_0x3f67f5,_0x1919ab,_0x26045a,_0x18851f,_0x2e833c);const {inputTokens:_0x306548=0x0,outputTokens:_0x173085=0x0,context:_0xbfdae2=[]}=_0x1919ab;return _0x3608a7['trace']({'jobType':_0x38af28[_0x1e795f(0x603)],'type':_0x434eea[_0x1e795f(0x344)],'jobId':_0x4fe2d9,'agentId':_0x52387f,'threadId':_0x3f67f5[_0x1e795f(0x7fa)],'traceLevel':_0x2c280d[_0x1e795f(0x283)],'startTime':_0x48f855,'timestamp':Date[_0x1e795f(0xa6a)](),'blockId':_0x26045a['id'],'status':_0x1e795f(0x63c),'output':_0x1919ab[_0x1e795f(0x301)]?.[_0x1e795f(0x957)]()??'','prompt':_0x3f67f5['prompt'],'agentName':'','history':_0x3f67f5[_0x1e795f(0x69c)]??[],'instructions':''+(_0x3f67f5[_0x1e795f(0xa8d)]??''),'ragContext':_0xbfdae2,'inputTokens':_0x306548,'outputTokens':_0x173085}),{'type':_0x3f67f5[_0x1e795f(0x6d8)],'output':_0x1919ab[_0x1e795f(0x301)],'context':_0x1919ab[_0x1e795f(0x45a)],'internalContext':_0x18851f['find'](_0x2813f9=>_0x2813f9[_0x1e795f(0x6d8)]===_0x12b7c4['Answer'])?.[_0x1e795f(0xa6e)]?.[_0x1e795f(0x45a)]??{},'inputTokens':_0x1919ab[_0x1e795f(0x81d)]??0x0,'outputTokens':_0x1919ab[_0x1e795f(0x332)]??0x0};}(_0x350526,_0x33e2fe,_0x250ecb,this[_0xdf18d7(0x627)][_0xdf18d7(0x578)],{'documentParserConnector':this[_0xdf18d7(0x696)],'nlpLibraryConnector':this[_0xdf18d7(0x5a6)],'generativeAIWorkerConnectors':this[_0xdf18d7(0x20c)],'models':this['workflow']['models'],'contentMediator':this['contentMediator'],'searchApiKey':this[_0xdf18d7(0x85c)],'searchConnector':this['searchConnector']});return _0x2c5f6b;}if(_0xdf18d7(0x7f8)===_0x33e2fe[_0xdf18d7(0x6d8)])return _0x3608a7[_0xdf18d7(0x879)]({'jobType':_0x38af28[_0xdf18d7(0x9ba)],'type':_0x49c5e1[_0xdf18d7(0x98c)],'jobId':_0x33e2fe[_0xdf18d7(0x439)],'threadId':_0x33e2fe[_0xdf18d7(0x7fa)],'traceLevel':_0x2c280d[_0xdf18d7(0x283)],'startTime':Date[_0xdf18d7(0xa6a)](),'timestamp':Date[_0xdf18d7(0xa6a)](),'status':_0xdf18d7(0x63c),'rating':_0x33e2fe[_0xdf18d7(0xa1b)],'feedback':_0x33e2fe['feedback']}),{'type':_0xdf18d7(0x7f8),'status':_0x4d2150['GenerativeAIRatingStatus']['Success']};if(_0xdf18d7(0x2e0)===_0x33e2fe[_0xdf18d7(0x6d8)]){let _0x5ed396;const _0x2c5186=this['dataStores'][_0xdf18d7(0x9c6)]();for(;!_0x5ed396;){const _0x1dc8dc=_0x2c5186[_0xdf18d7(0x95b)]()['value'];if(!_0x1dc8dc)throw new Error(_0xdf18d7(0x53e));_0x5ed396=this['dataStores'][_0xdf18d7(0x1d7)](_0x1dc8dc);try{const _0x4af4f3=await _0x5ed396[_0xdf18d7(0x1d7)](_0x33e2fe[_0xdf18d7(0x927)]);return{'type':'downloadDocument','fileName':_0x4af4f3['name'],'mimeType':_0x4af4f3[_0xdf18d7(0x6d8)],'document':await _0x4af4f3[_0xdf18d7(0x65c)]()};}catch(_0x20d326){continue;}}throw new Error(_0xdf18d7(0x53e));}throw new Error(_0xdf18d7(0x2c1));}async*['internalProcessJobStream'](_0x2a3d5c,_0x192a58){const _0x13fb4a=_0x3eb455;this[_0x13fb4a(0x627)]=await _0xb2de82[_0x13fb4a(0x40b)](this[_0x13fb4a(0x2df)],this[_0x13fb4a(0x78e)]);const _0x4e7c3d=this[_0x13fb4a(0x627)]['blocks'][_0x13fb4a(0xa41)](_0x2b9bae=>_0x2b9bae[_0x13fb4a(0x6d8)]===_0x12b7c4[_0x13fb4a(0x630)]);for await(const _0xa44f3b of async function*(_0x244ae8,_0x48cde2,_0x202ee2,_0x2ef10b,_0x2395f0){const _0x8f5f25=_0x13fb4a,_0x48fd94=(0x0,_0xe630d4['v4'])(),_0x3538d3=Date['now']();if(_0x3608a7[_0x8f5f25(0x879)]({'jobType':_0x38af28['Workflow'],'type':_0x434eea[_0x8f5f25(0x7cd)],'jobId':_0x244ae8,'agentId':_0x48fd94,'threadId':_0x48cde2[_0x8f5f25(0x7fa)],'traceLevel':_0x2c280d[_0x8f5f25(0x283)],'startTime':Date[_0x8f5f25(0xa6a)](),'timestamp':Date['now'](),'blockId':_0x202ee2['id'],'status':'success','initialPrompt':_0x48cde2[_0x8f5f25(0x3dd)]}),_0x48cde2['internalContext']){for(const _0x41bd5b in _0x48cde2['internalContext'])_0x1d916b(_0x48cde2['internalContext'][_0x41bd5b],_0x202ee2,_0x2ef10b,_0x41bd5b);}const _0x80ab9a={'type':_0x48cde2[_0x8f5f25(0x6d8)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x46d8d2=new _0x28b746();_0x50c386(_0x244ae8,''+_0x48cde2[_0x8f5f25(0x3dd)],_0x48cde2,_0x80ab9a,_0x202ee2,_0x2ef10b,_0x2395f0,_0x46d8d2);let _0x1b2d14='',_0x2e3414={'type':_0x48cde2[_0x8f5f25(0x6d8)]};for(;;){const _0x4c2bfa=await _0x46d8d2[_0x8f5f25(0xa90)]();if(!_0x4c2bfa)break;_0x1b2d14+=_0x4c2bfa['output'],_0x2e3414={'type':_0x48cde2[_0x8f5f25(0x6d8)],'output':_0x4c2bfa[_0x8f5f25(0x301)],'context':_0x80ab9a[_0x8f5f25(0x45a)],'internalContext':{},'inputTokens':(_0x80ab9a['inputTokens']??0x0)+(_0x4c2bfa[_0x8f5f25(0x81d)]??0x0),'outputTokens':(_0x80ab9a[_0x8f5f25(0x332)]??0x0)+(_0x4c2bfa[_0x8f5f25(0x332)]??0x0)},yield _0x2e3414;}yield{..._0x2e3414,'output':'','internalContext':_0x2ef10b[_0x8f5f25(0xa41)](_0x417a3f=>_0x417a3f[_0x8f5f25(0x6d8)]===_0x12b7c4[_0x8f5f25(0x26c)])?.[_0x8f5f25(0xa6e)]?.[_0x8f5f25(0x45a)]??{}};const {inputTokens:_0x1bed30=0x0,outputTokens:_0x3eef09=0x0,context:_0x27fd0c=[]}=_0x2e3414;_0x3608a7[_0x8f5f25(0x879)]({'jobType':_0x38af28[_0x8f5f25(0x603)],'type':_0x434eea[_0x8f5f25(0x344)],'jobId':_0x244ae8,'agentId':_0x48fd94,'threadId':_0x48cde2[_0x8f5f25(0x7fa)],'traceLevel':_0x2c280d[_0x8f5f25(0x283)],'startTime':_0x3538d3,'timestamp':Date['now'](),'blockId':_0x202ee2['id'],'status':_0x8f5f25(0x63c),'output':_0x1b2d14,'prompt':_0x48cde2[_0x8f5f25(0x3dd)],'agentName':'','history':_0x48cde2[_0x8f5f25(0x69c)]??[],'instructions':''+(_0x48cde2[_0x8f5f25(0xa8d)]??''),'ragContext':_0x27fd0c,'inputTokens':_0x1bed30,'outputTokens':_0x3eef09});}(_0x2a3d5c,_0x192a58,_0x4e7c3d,this[_0x13fb4a(0x627)]['blocks'],{'documentParserConnector':this[_0x13fb4a(0x696)],'nlpLibraryConnector':this[_0x13fb4a(0x5a6)],'generativeAIWorkerConnectors':this[_0x13fb4a(0x20c)],'models':this[_0x13fb4a(0x627)][_0x13fb4a(0x6f9)],'contentMediator':this[_0x13fb4a(0x413)],'searchApiKey':this['searchApiKey'],'searchConnector':this[_0x13fb4a(0xad7)]}))yield _0xa44f3b;}['startTracing'](_0x50f595,_0x413023){const _0x32850d=_0x3eb455;if(_0x32850d(0x7f8)===_0x413023[_0x32850d(0x6d8)])return _0x50f595=_0x413023[_0x32850d(0x439)],void this[_0x32850d(0x9bb)](_0x50f595);this[_0x32850d(0x9bb)](_0x50f595),_0x3608a7[_0x32850d(0x879)]({'jobType':_0x38af28[_0x32850d(0xa92)],'type':_0x2b62db[_0x32850d(0x893)],'traceLevel':_0x2c280d['Info'],'jobId':_0x50f595,'threadId':_0x413023['threadId'],'startTime':Date['now'](),'timestamp':Date[_0x32850d(0xa6a)](),'status':_0x32850d(0x63c)});}[_0x3eb455(0x49e)](_0x129c92,_0x29aa64){const _0x1b647d=_0x3eb455;if(_0x1b647d(0x7f8)===_0x29aa64['type'])return _0x129c92=_0x29aa64[_0x1b647d(0x439)],void this[_0x1b647d(0x30e)](_0x129c92);_0x3608a7[_0x1b647d(0x879)]({'jobType':_0x38af28[_0x1b647d(0xa92)],'type':_0x2b62db['Completed'],'traceLevel':_0x2c280d[_0x1b647d(0x283)],'jobId':_0x129c92,'threadId':_0x29aa64['threadId'],'startTime':Date['now'](),'timestamp':Date[_0x1b647d(0xa6a)](),'status':_0x1b647d(0x63c)}),this['closeTrace'](_0x129c92);}async[_0x3eb455(0x756)](_0x2ae284){return new Promise(_0x11ef93=>{const _0x3f0ca0=a0_0x12d8;_0x2ae284[_0x3f0ca0(0x79f)](this[_0x3f0ca0(0x78e)],async _0x572ab0=>{const _0x1535ab=_0x3f0ca0;_0x572ab0[_0x1535ab(0x55f)]===_0x4d2150[_0x1535ab(0x95e)][_0x1535ab(0x1f0)]&&(_0x2ae284[_0x1535ab(0x421)](this[_0x1535ab(0x78e)]),_0x11ef93(_0x572ab0[_0x1535ab(0x53f)][_0x1535ab(0x38a)]));});});}async['getModel'](_0x37e634){const _0x3525e2=_0x3eb455;if(!this['modelStore'])throw new Error(_0x3525e2(0x460));const _0x2997f8=await this[_0x3525e2(0x570)][_0x3525e2(0xa65)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x21e807 of _0x2997f8)if(_0x21e807['kind']===_0x4d2150['ObjectKind'][_0x3525e2(0x3f4)]&&_0x21e807[_0x3525e2(0x4d6)]===_0x37e634)return _0x21e807[_0x3525e2(0xa9b)]??_0x21e807[_0x3525e2(0x4d6)];throw new Error(_0x3525e2(0x950)+_0x37e634);}async['loadLocalContent'](){const _0x1fb0c7=_0x3eb455;if(!this[_0x1fb0c7(0x627)])throw new Error(_0x1fb0c7(0x908));for(const _0x300154 of this[_0x1fb0c7(0x8e9)]['values']())try{const _0x2b117d=this[_0x1fb0c7(0x627)]['blocks']['filter'](_0x11befc=>(_0x11befc[_0x1fb0c7(0x6d8)]===_0x12b7c4[_0x1fb0c7(0x6b4)]||_0x11befc['type']===_0x12b7c4[_0x1fb0c7(0x937)])&&_0x11befc[_0x1fb0c7(0x7ab)]?.[_0x1fb0c7(0x698)](_0xcf627e=>_0xcf627e['id']===_0x300154[_0x1fb0c7(0x8d5)]()));for(let _0x1b5355=_0x2b117d[_0x1fb0c7(0x3ed)]-0x1;_0x1b5355>=0x0;_0x1b5355--)for(const _0x6c3157 of _0x2b117d[_0x1b5355]['ingestBlocks']??[])_0x6c3157['type']===_0x25d8e0[_0x1fb0c7(0x73f)]&&this[_0x1fb0c7(0x413)][_0x1fb0c7(0x717)](_0x6c3157['id'])[_0x1fb0c7(0xa4d)]()&&_0x2b117d['splice'](_0x1b5355,0x1),_0x6c3157['type']===_0x25d8e0[_0x1fb0c7(0x1b6)]&&this[_0x1fb0c7(0x413)][_0x1fb0c7(0x437)](_0x6c3157['id'])['getIsLoaded']()&&_0x2b117d[_0x1fb0c7(0x903)](_0x1b5355,0x1);const _0x5b1323=new Map();let _0x20b52d=!0x1;for(const _0x194ddf of _0x2b117d){let _0x291b29=''+(_0x194ddf[_0x1fb0c7(0x7a9)]??0x1);for(const _0x599ddd of _0x194ddf['ingestBlocks']??[])_0x599ddd['type']===_0x25d8e0['Agent']&&(_0x291b29=_0x291b29+'-'+(_0x599ddd[_0x1fb0c7(0x7a9)]??0x1));for(const _0x94f3e3 of _0x194ddf[_0x1fb0c7(0x7ab)]??[])_0x94f3e3[_0x1fb0c7(0x6d8)]===_0x25d8e0[_0x1fb0c7(0x73f)]&&_0x5b1323[_0x1fb0c7(0x90d)](_0x94f3e3['id'],{'version':_0x291b29,'getDatabase':this[_0x1fb0c7(0x413)][_0x1fb0c7(0x717)][_0x1fb0c7(0x64d)](this[_0x1fb0c7(0x413)]),'block':_0x94f3e3}),_0x94f3e3[_0x1fb0c7(0x6d8)]===_0x25d8e0[_0x1fb0c7(0x1b6)]&&_0x5b1323['set'](_0x94f3e3['id'],{'version':_0x291b29,'getDatabase':this['contentMediator'][_0x1fb0c7(0x437)][_0x1fb0c7(0x64d)](this[_0x1fb0c7(0x413)]),'block':_0x94f3e3});}for(const {getDatabase:_0x396193,block:_0x27a7d0,version:_0x332c23}of _0x5b1323[_0x1fb0c7(0x565)]())try{const _0x3fc7f4=_0x396193(_0x27a7d0['id']);_0x3fc7f4['loadFromDisk'](_0x332c23),_0x3fc7f4[_0x1fb0c7(0x2fe)](!0x0),_0x20b52d=!0x0;}catch(_0x452cef){_0x20b52d=!0x1;break;}if(_0x2c9fd4[_0x1fb0c7(0xa54)](_0x1fb0c7(0x34d)),_0x20b52d)continue;_0x2c9fd4[_0x1fb0c7(0xa54)](_0x1fb0c7(0x6f4));const _0x58ba9e=await _0x300154[_0x1fb0c7(0xa65)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x1fb0c7(0x792)](_0x5e41e1[_0x1fb0c7(0xa6f)],_0x300154[_0x1fb0c7(0xacc)](),_0x58ba9e);for(const {getDatabase:_0xa0d818,block:_0x11361e,version:_0x876b56}of _0x5b1323[_0x1fb0c7(0x565)]()){const _0x81218d=_0xa0d818(_0x11361e['id']);_0x81218d[_0x1fb0c7(0x612)](_0x876b56),_0x81218d['setIsLoaded'](!0x0);}}catch(_0x5b5904){_0x2c9fd4[_0x1fb0c7(0x4f1)](_0x1fb0c7(0x576),{'nodeId':this[_0x1fb0c7(0x45e)]['getId'](),'nodeType':this['localNode']['type']});}}async[_0x3eb455(0x7af)](){const _0x5669b2=_0x3eb455;for(const _0x4c61af of this[_0x5669b2(0x743)][_0x5669b2(0x565)]())try{const _0x5df809=await _0x4c61af[_0x5669b2(0xa65)]('/',{'recursive':!0x0});await this[_0x5669b2(0x792)](_0x5e41e1[_0x5669b2(0x6be)],_0x4c61af[_0x5669b2(0xacc)](),_0x5df809);}catch(_0x29fdfd){_0x2c9fd4[_0x5669b2(0x4f1)](_0x5669b2(0x98d),{'nodeId':this[_0x5669b2(0x45e)][_0x5669b2(0x777)](),'nodeType':this[_0x5669b2(0x45e)][_0x5669b2(0x6d8)]});}}async[_0x3eb455(0x792)](_0xcd5046,_0xa296aa,_0x6e2fc6){const _0x3095c7=_0x3eb455;for(const _0x237000 of _0x6e2fc6){if(_0x237000['kind']===_0x4d2150[_0x3095c7(0x999)][_0x3095c7(0xa73)]){if(!_0x237000['entries']||0x0===_0x237000[_0x3095c7(0x858)][_0x3095c7(0x3ed)])continue;await this[_0x3095c7(0x792)](_0xcd5046,_0xa296aa,_0x237000['entries']);}_0x237000[_0x3095c7(0x2bc)]===_0x4d2150[_0x3095c7(0x999)][_0x3095c7(0x3f4)]&&await this[_0x3095c7(0xa8c)](_0xcd5046,_0xa296aa,_0x237000[_0x3095c7(0x4d6)]);}}['subscribeToLocalContent'](){const _0x1a20e3=_0x3eb455;for(const _0x54164c of this[_0x1a20e3(0x8e9)][_0x1a20e3(0x565)]())_0x54164c[_0x1a20e3(0x79f)](this[_0x1a20e3(0x78e)],async _0x5b59ee=>{const _0x4ff275=_0x1a20e3;switch(_0x5b59ee[_0x4ff275(0x55f)]){case _0x4d2150[_0x4ff275(0x95e)]['FileWrite']:this[_0x4ff275(0x366)](_0x5e41e1[_0x4ff275(0xa6f)],_0x54164c[_0x4ff275(0xacc)](),_0x5b59ee[_0x4ff275(0x53f)][_0x4ff275(0x7a0)]['pathName']),await this[_0x4ff275(0xa8c)](_0x5e41e1[_0x4ff275(0xa6f)],_0x54164c[_0x4ff275(0xacc)](),_0x5b59ee['payload'][_0x4ff275(0x7a0)]['pathName']);break;case _0x4d2150[_0x4ff275(0x95e)][_0x4ff275(0x8b9)]:this[_0x4ff275(0x366)](_0x5e41e1['ObjectStorage'],_0x54164c[_0x4ff275(0xacc)](),_0x5b59ee[_0x4ff275(0x53f)][_0x4ff275(0x4d6)]);}});}[_0x3eb455(0x9df)](){const _0x1086ed=_0x3eb455;for(const _0x56c944 of this[_0x1086ed(0x743)][_0x1086ed(0x565)]())_0x56c944['subscribe'](this[_0x1086ed(0x78e)],async _0x49f5b7=>{const _0xc61252=_0x1086ed;switch(_0x49f5b7['event']){case _0x4d2150[_0xc61252(0x95e)][_0xc61252(0x260)]:this['removeContent'](_0x5e41e1[_0xc61252(0x6be)],_0x56c944[_0xc61252(0xacc)](),_0x49f5b7['payload'][_0xc61252(0x7a0)][_0xc61252(0x4d6)]),await this[_0xc61252(0xa8c)](_0x5e41e1[_0xc61252(0x6be)],_0x56c944[_0xc61252(0xacc)](),_0x49f5b7[_0xc61252(0x53f)][_0xc61252(0x7a0)][_0xc61252(0x4d6)]);break;case _0x4d2150[_0xc61252(0x95e)][_0xc61252(0x8b9)]:this[_0xc61252(0x366)](_0x5e41e1['ExternalStorage'],_0x56c944[_0xc61252(0xacc)](),_0x49f5b7['payload'][_0xc61252(0x4d6)]);}});}async[_0x3eb455(0xa8c)](_0x4cf1b4,_0x384771,_0x3095ad){const _0x58f879=_0x3eb455;if(_0x2c9fd4[_0x58f879(0xa54)]('addContent',_0x4cf1b4,_0x384771,_0x3095ad),!this[_0x58f879(0x627)])throw new Error('Workflow\x20not\x20initialized');let _0x6fdb80;switch(_0x4cf1b4){case _0x5e41e1[_0x58f879(0xa6f)]:_0x6fdb80=_0x25d8e0[_0x58f879(0x800)];break;case _0x5e41e1[_0x58f879(0x6be)]:_0x6fdb80=_0x25d8e0[_0x58f879(0x3e5)];}if(!_0x6fdb80)return;const _0x1c9efc=this[_0x58f879(0x627)][_0x58f879(0x578)]['filter'](_0x70d764=>_0x70d764[_0x58f879(0x6d8)]===_0x12b7c4[_0x58f879(0x937)]||_0x70d764['type']===_0x12b7c4[_0x58f879(0x6b4)]),_0x498f2b=new Set(_0x1c9efc[_0x58f879(0x257)](_0x2af431=>_0x2af431['id'])),_0x3e3a06=_0x1c9efc['filter'](_0x359857=>_0x359857[_0x58f879(0x7ab)]?.[_0x58f879(0x698)](_0x439695=>_0x439695['type']===_0x6fdb80&&_0x439695['id']===_0x384771));for(const _0x4d24be of _0x3e3a06){if(!_0x498f2b[_0x58f879(0x8c7)](_0x4d24be['id']))continue;_0x498f2b[_0x58f879(0xaa3)](_0x4d24be['id']);const _0x4ffada=_0x4d24be[_0x58f879(0x7ab)]?.['find'](_0x563478=>_0x563478[_0x58f879(0x6d8)]===_0x6fdb80&&_0x563478['id']===_0x384771);if(!_0x4ffada)continue;const _0x6120f9=(0x0,_0xe630d4['v4'])();_0x3608a7['openTrace'](null,_0x6120f9),await _0x107af5(_0x6120f9,_0x3095ad,_0x4ffada,_0x4d24be[_0x58f879(0x7ab)],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x58f879(0x5a6)],'generativeAIWorkerConnectors':this[_0x58f879(0x20c)],'models':this[_0x58f879(0x627)][_0x58f879(0x6f9)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x58f879(0x85c)],'version':_0x4d24be['version']??0x1}),_0x3608a7['closeTrace'](_0x6120f9);}this['sendStats']();}[_0x3eb455(0x366)](_0x5b6a43,_0x391830,_0xaf9356){const _0x4a816f=_0x3eb455;if(_0x2c9fd4[_0x4a816f(0xa54)]('removeContent',_0x5b6a43,_0x391830,_0xaf9356),!this[_0x4a816f(0x627)])throw new Error(_0x4a816f(0x908));let _0x327541;switch(_0x5b6a43){case _0x5e41e1[_0x4a816f(0xa6f)]:_0x327541=_0x25d8e0[_0x4a816f(0x800)];break;case _0x5e41e1['ExternalStorage']:_0x327541=_0x25d8e0[_0x4a816f(0x3e5)];}if(!_0x327541)return;const _0x32eda5=this['workflow'][_0x4a816f(0x578)][_0x4a816f(0x638)](_0x5df82b=>_0x5df82b[_0x4a816f(0x6d8)]===_0x12b7c4[_0x4a816f(0x937)]||_0x5df82b[_0x4a816f(0x6d8)]===_0x12b7c4[_0x4a816f(0x6b4)]),_0x8ddcc2=new Set(_0x32eda5[_0x4a816f(0x257)](_0x5a3dfe=>_0x5a3dfe['id'])),_0x30ec7e=_0x32eda5[_0x4a816f(0x638)](_0x20432e=>_0x20432e['ingestBlocks']?.['some'](_0x4e64ab=>_0x4e64ab[_0x4a816f(0x6d8)]===_0x327541&&_0x4e64ab['id']===_0x391830));for(const _0x3cc864 of _0x30ec7e){if(!_0x8ddcc2['has'](_0x3cc864['id']))continue;_0x8ddcc2[_0x4a816f(0xaa3)](_0x3cc864['id']);let _0x125368=''+(_0x3cc864[_0x4a816f(0x7a9)]??0x1);for(const _0x841438 of _0x3cc864[_0x4a816f(0x7ab)]??[])_0x841438[_0x4a816f(0x6d8)]===_0x25d8e0[_0x4a816f(0x1b8)]&&(_0x125368=_0x125368+'-'+(_0x841438[_0x4a816f(0x7a9)]??0x1));for(const _0x4b7972 of _0x3cc864['ingestBlocks']??[]){if(_0x4b7972[_0x4a816f(0x6d8)]===_0x25d8e0[_0x4a816f(0x73f)]){const _0x1c84ba=this[_0x4a816f(0x413)]['getVectorDatabase'](_0x4b7972['id']);_0x1c84ba[_0x4a816f(0x212)](_0xaf9356),_0x1c84ba[_0x4a816f(0xa4d)]()&&_0x1c84ba[_0x4a816f(0x612)](_0x125368);}if(_0x4b7972[_0x4a816f(0x6d8)]===_0x25d8e0[_0x4a816f(0x1b6)]){const _0x1e7844=this[_0x4a816f(0x413)][_0x4a816f(0x437)](_0x4b7972['id']);_0x1e7844[_0x4a816f(0x212)](_0xaf9356),_0x1e7844[_0x4a816f(0xa4d)]()&&_0x1e7844[_0x4a816f(0x612)](_0x125368);}}}this['sendStats']();}['getCoresFromCapacityReport'](){const _0x5a6010=_0x3eb455;try{return this[_0x5a6010(0x1d9)][_0x5a6010(0x1ac)]()[_0x5a6010(0x5bd)][_0x5a6010(0x5c3)]*(0x1-this[_0x5a6010(0x1d9)][_0x5a6010(0x1ac)]()[_0x5a6010(0x5bd)][_0x5a6010(0x4f4)]);}catch(_0x1d8f5d){return _0x2c9fd4['log'](_0x51c80b[_0x5a6010(0x969)],_0x5a6010(0x58a),_0x1d8f5d),0x0;}}['sendStats'](){const _0x14af3a=_0x3eb455;this[_0x14af3a(0x636)]&&(this[_0x14af3a(0x6da)]&&clearTimeout(this[_0x14af3a(0x6da)]),this[_0x14af3a(0x6da)]=setTimeout(async()=>{const _0x1faac0=_0x14af3a;if(delete this[_0x1faac0(0x6da)],!this[_0x1faac0(0x570)])return;let _0x1ad4ae=await this[_0x1faac0(0x570)][_0x1faac0(0x2b3)]();for(const _0x164d73 of this[_0x1faac0(0x8e9)][_0x1faac0(0x565)]())_0x1ad4ae+=await _0x164d73[_0x1faac0(0x2b3)]();this['systemTopic'][_0x1faac0(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x1faac0(0x7dc)],'content':{'type':_0x2862db[_0x1faac0(0x87f)],'label':this[_0x1faac0(0x78e)],'stats':{'timestamp':Date[_0x1faac0(0xa6a)](),'storage':_0x1ad4ae,'messagesSent':this[_0x1faac0(0x9fe)],'messagesReceived':this[_0x1faac0(0x41b)],'bytesSent':this[_0x1faac0(0x811)],'bytesReceived':this[_0x1faac0(0x2e6)],'writes':0x0,'reads':0x0,'prompts':this[_0x1faac0(0x97b)],'tokens':this['tokens']}}});},_0x37461b));}['logServiceEvent'](_0x3f5961,_0x17a6b2){const _0x2d6ac7=_0x3eb455,_0x18ee4d=this['label'],_0xb2e5b1=this[_0x2d6ac7(0x2e9)]();_0x2c9fd4['logServiceEvent'](_0x58ac15[_0x2d6ac7(0x5ea)],{'topic':_0x18ee4d,'type':'answer','nodeId':_0xb2e5b1,'tokenCount':_0x17a6b2,'tokensPerSecond':_0x3f5961});}[_0x3eb455(0x9bb)](_0x594957){const _0x23464e=_0x3eb455;try{if(!this[_0x23464e(0x627)])throw new Error('Workflow\x20not\x20initialized');if(!this['loggingDb'])throw new Error(_0x23464e(0x1e5));if(!_0x3608a7['openTrace'](this['loggingDb'],_0x594957))throw new Error(_0x23464e(0x88d));return _0x594957;}catch(_0x5ac721){return console[_0x23464e(0x4f1)](_0x23464e(0x88d),_0x5ac721),'Could\x20not\x20open\x20trace';}}[_0x3eb455(0x30e)](_0x260103){const _0x52973d=_0x3eb455;try{_0x3608a7[_0x52973d(0x30e)](_0x260103);}catch(_0x4f9c18){console['error'](_0x52973d(0x30b),{'jobId':_0x260103,'error':_0x4f9c18});}}async[_0x3eb455(0x628)](){return new Promise(_0x479ef9=>{const _0x1c80ee=a0_0x12d8;try{const _0x9d159e=_0x2dd7de(this[_0x1c80ee(0x2df)],this['label']);this[_0x1c80ee(0x5d9)]=this['contentMediator']['getKeyValueDatabase'](_0x9d159e),this[_0x1c80ee(0x5d9)][_0x1c80ee(0x79f)](({event:_0x921c5a})=>{const _0x34762c=_0x1c80ee;_0x921c5a===_0x4d2150[_0x34762c(0x50c)]['SyncComplete']&&(this['loggingDb'][_0x34762c(0x421)](),_0x479ef9());});}catch(_0x441c16){console['error'](_0x1c80ee(0x56c)+_0x2dd7de(this[_0x1c80ee(0x2df)],this[_0x1c80ee(0x78e)])+_0x1c80ee(0x46d),_0x441c16),_0x479ef9();}});}}class _0x1a80ed extends _0x2f8302{[_0x3eb455(0x45e)];[_0x3eb455(0x9ac)];[_0x3eb455(0x2df)];['db'];[_0x3eb455(0x6da)];[_0x3eb455(0x704)]=0x0;[_0x3eb455(0x608)]=0x0;[_0x3eb455(0x5b3)]=!0x1;constructor(_0x1315c0,_0x5ec17b,_0x10a24a,_0x45fee0,_0x166093){const _0x55c4a7=_0x3eb455;if(_0x55c4a7(0x77a)!=typeof _0x5ec17b)throw new _0x5669b1(_0x3ed137[_0x55c4a7(0x2da)],_0x55c4a7(0x45c));super(_0x1315c0,_0x5ec17b),this['localNode']=_0x1315c0,this[_0x55c4a7(0x9ac)]=_0x10a24a,this[_0x55c4a7(0x2df)]=_0x45fee0;const _0x163c01=_0x55c4a7(0x6cd)+this['vendorId']+_0x55c4a7(0x6cd)+this[_0x55c4a7(0x9ac)]+_0x55c4a7(0x6cd)+this[_0x55c4a7(0x78e)];this['db']=new _0x166093(_0x163c01),this[_0x55c4a7(0x6f8)]();}[_0x3eb455(0xa4d)](){const _0x3a4fff=_0x3eb455;return this[_0x3a4fff(0x5b3)];}[_0x3eb455(0x2fe)](_0x149bc8){const _0x4095ba=_0x3eb455;this[_0x4095ba(0x5b3)]=_0x149bc8;}[_0x3eb455(0x51b)](){const _0x49ad8a=_0x3eb455;clearTimeout(this[_0x49ad8a(0x6da)]),delete this['debounceStats'],super['destroy']();}[_0x3eb455(0x579)](){const _0x1f9f0c=_0x3eb455;this['systemTopic'][_0x1f9f0c(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x1f9f0c(0x7dc)],'content':{'type':_0x2862db[_0x1f9f0c(0x8b5)],'label':this[_0x1f9f0c(0x78e)]}});}['getContentType'](){const _0x11b2c2=_0x3eb455;return _0x4d2150[_0x11b2c2(0x9a5)]['GraphDatabase'];}[_0x3eb455(0x594)](){const _0x3602de=_0x3eb455;this[_0x3602de(0x6f8)]();}[_0x3eb455(0x38d)](_0x427ea7,_0x51bb6e,_0x2ba30d,_0x194ba3){const _0x3f83e6=_0x3eb455;this['db'][_0x3f83e6(0x38d)](_0x427ea7,_0x51bb6e,_0x2ba30d,_0x194ba3),this[_0x3f83e6(0x704)]+=0x1,this[_0x3f83e6(0x6f8)]();}[_0x3eb455(0x76a)](_0x5235b2,_0x128b52){const _0x4dbd58=_0x3eb455;this['db']['addEdge'](_0x5235b2,_0x128b52),this[_0x4dbd58(0x704)]+=0x1,this['sendStats']();}[_0x3eb455(0x69d)](_0x386f21,_0x1ec137,_0x1da5d2){const _0x524091=_0x3eb455,_0x49814d=this['db'][_0x524091(0x69d)](_0x386f21,_0x1ec137,_0x1da5d2);return this[_0x524091(0x608)]+=0x1,_0x2c9fd4[_0x524091(0x7f7)](_0x58ac15[_0x524091(0x1b6)],{'type':'get-content','label':this[_0x524091(0x78e)],'nodeId':this[_0x524091(0x45e)]['getId'](),'nodeType':this[_0x524091(0x45e)][_0x524091(0x6d8)],'clusterId':this[_0x524091(0x9ac)],'size':0x0}),this[_0x524091(0x6f8)](),_0x49814d;}[_0x3eb455(0x212)](_0x36b490){const _0x3cfda1=_0x3eb455;this['db'][_0x3cfda1(0x212)](_0x36b490),this['writes']+=0x1,this[_0x3cfda1(0x6f8)]();}['saveToDisk'](_0x269ada){const _0x42395d=_0x3eb455;this['db'][_0x42395d(0x612)](_0x269ada);}[_0x3eb455(0x342)](_0x3f8d4e){this['db']['loadFromDisk'](_0x3f8d4e);}[_0x3eb455(0x6f8)](){const _0x1a8630=_0x3eb455;this[_0x1a8630(0x6da)]&&clearTimeout(this[_0x1a8630(0x6da)]),this[_0x1a8630(0x6da)]=setTimeout(async()=>{const _0x5d89d3=_0x1a8630;delete this[_0x5d89d3(0x6da)];const _0x211557=this['db'][_0x5d89d3(0x2b3)]();this[_0x5d89d3(0x73b)][_0x5d89d3(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x5d89d3(0x7dc)],'content':{'type':_0x2862db[_0x5d89d3(0x642)],'label':this[_0x5d89d3(0x78e)],'stats':{'timestamp':Date['now'](),'storage':_0x211557,'messagesSent':this[_0x5d89d3(0x9fe)],'messagesReceived':this[_0x5d89d3(0x41b)],'bytesSent':this[_0x5d89d3(0x811)],'bytesReceived':this['bytesReceived'],'writes':this[_0x5d89d3(0x704)],'reads':this[_0x5d89d3(0x608)],'prompts':0x0,'tokens':0x0}}}),_0x2c9fd4[_0x5d89d3(0x7ba)](_0x58ac15[_0x5d89d3(0x1b6)],_0x5d89d3(0x6cd)+this[_0x5d89d3(0x9ac)]+_0x5d89d3(0x6cd)+this[_0x5d89d3(0x78e)],_0x211557);},_0x37461b);}}class _0x12caba extends _0x3aa5e5{[_0x3eb455(0x7c9)];constructor(_0x82473b,_0x25d9b1,_0x237709){const _0x5a2941=_0x3eb455;super(_0x82473b,_0x25d9b1),this[_0x5a2941(0x7c9)]=_0x237709;}[_0x3eb455(0x41e)](){const _0x8092e9=_0x3eb455;return _0x4d2150[_0x8092e9(0x9a5)]['Media'];}[_0x3eb455(0x7f5)](){const _0x4ec180=_0x3eb455;return this[_0x4ec180(0x7c9)];}[_0x3eb455(0x37a)](){const _0x2ebb5c=_0x3eb455;return this[_0x2ebb5c(0x7c9)]['id'];}}class _0x409131 extends _0x12caba{['remoteId'];[_0x3eb455(0x944)];['topic'];[_0x3eb455(0x940)]=_0x2f8e97();constructor(_0x46ac07,_0x575ae5,_0x35d946,_0x493eb2,_0x52cf09){const _0x250604=_0x3eb455;super(_0x46ac07,_0x575ae5,_0x35d946),this[_0x250604(0x582)]=_0x493eb2,this['params']=_0x52cf09;}['destroy'](){const _0x50a4ae=_0x3eb455;this[_0x50a4ae(0x8b0)](_0x50a4ae(0x66c)),this['removeTrack'](_0x50a4ae(0x2e1)),super[_0x50a4ae(0x51b)]();}[_0x3eb455(0x90a)](_0x38bfd5){const _0x5f92e4=_0x3eb455;if(!this[_0x5f92e4(0x65b)])throw new _0x157cd9(_0x157cd9['codes'][_0x5f92e4(0x1bc)],{'label':this['label'],'ownerId':this[_0x5f92e4(0x7c7)]['getId'](),'remoteId':this[_0x5f92e4(0x582)]});this[_0x5f92e4(0x65b)][_0x5f92e4(0x5bf)]({'sourceId':this[_0x5f92e4(0x7c7)][_0x5f92e4(0x777)](),'content':{'action':_0x18ab1b[_0x5f92e4(0x3f3)],'track':_0x38bfd5,'stream':this[_0x5f92e4(0x7c9)],'priority':_0x4d2150[_0x5f92e4(0xa88)][_0x5f92e4(0x4e0)],'params':this[_0x5f92e4(0x3fe)](_0x38bfd5[_0x5f92e4(0x2bc)],this[_0x5f92e4(0x944)])}});}[_0x3eb455(0x8b0)](_0x5f1b45){const _0x51dc98=_0x3eb455,_0x2c8375=this[_0x51dc98(0x2f4)](_0x5f1b45);if(_0x2c8375){if(!this[_0x51dc98(0x65b)])return null;this[_0x51dc98(0x65b)][_0x51dc98(0x5bf)]({'sourceId':this[_0x51dc98(0x7c7)][_0x51dc98(0x777)](),'content':{'action':_0x18ab1b[_0x51dc98(0x9db)],'track':_0x2c8375,'stream':this[_0x51dc98(0x7c9)]}});}return _0x2c8375;}[_0x3eb455(0x6bc)](_0x113b81){const _0x5c87cb=_0x3eb455;if(!this[_0x5c87cb(0x65b)])throw new _0x157cd9(_0x157cd9['codes'][_0x5c87cb(0x1bc)],{'label':this[_0x5c87cb(0x78e)],'ownerId':this[_0x5c87cb(0x7c7)][_0x5c87cb(0x777)](),'remoteId':this[_0x5c87cb(0x582)]});this[_0x5c87cb(0x65b)][_0x5c87cb(0x5bf)]({'sourceId':this[_0x5c87cb(0x7c7)]['getId'](),'content':{'action':_0x18ab1b['Update'],'priority':_0x113b81,'stream':this[_0x5c87cb(0x7c9)]}});}[_0x3eb455(0x79f)]({trackKinds:_0x5b437c,params:_0x313761},_0x4f99bb){const _0x4ecc9f=_0x3eb455;if(!this[_0x4ecc9f(0x65b)])throw new _0x157cd9(_0x157cd9[_0x4ecc9f(0x6cc)][_0x4ecc9f(0x1bc)],{'label':this[_0x4ecc9f(0x78e)],'ownerId':this[_0x4ecc9f(0x7c7)][_0x4ecc9f(0x777)](),'remoteId':this[_0x4ecc9f(0x582)]});for(const _0x4d42d1 of this[_0x4ecc9f(0x7c9)][_0x4ecc9f(0x7e6)]())_0x5b437c[_0x4ecc9f(0x721)](_0x4d42d1['kind'])&&this[_0x4ecc9f(0x65b)]['publish']({'sourceId':this[_0x4ecc9f(0x7c7)][_0x4ecc9f(0x777)](),'content':{'action':_0x18ab1b['Add'],'track':_0x4d42d1,'stream':this[_0x4ecc9f(0x7c9)],'priority':_0x4f99bb,'params':this[_0x4ecc9f(0x3fe)](_0x4d42d1['kind'],_0x313761)}});}[_0x3eb455(0x1ed)]({params:_0x79ac4f}){const _0x566dc0=_0x3eb455;if(!this[_0x566dc0(0x65b)])throw new _0x157cd9(_0x157cd9[_0x566dc0(0x6cc)][_0x566dc0(0x1bc)],{'label':this[_0x566dc0(0x78e)],'ownerId':this[_0x566dc0(0x7c7)][_0x566dc0(0x777)](),'remoteId':this[_0x566dc0(0x582)]});for(const _0x1fe0da of this[_0x566dc0(0x7c9)][_0x566dc0(0x7e6)]())this['topic'][_0x566dc0(0x5bf)]({'sourceId':this[_0x566dc0(0x7c7)][_0x566dc0(0x777)](),'content':{'action':_0x18ab1b['Update'],'stream':this[_0x566dc0(0x7c9)],'params':this[_0x566dc0(0x3fe)](_0x1fe0da[_0x566dc0(0x2bc)],_0x79ac4f)}});}[_0x3eb455(0x421)]({trackKinds:_0x520dea}){const _0x7145f0=_0x3eb455;if(this['topic']){for(const _0x55666d of this[_0x7145f0(0x7c9)]['getTracks']())_0x520dea['includes'](_0x55666d[_0x7145f0(0x2bc)])&&this[_0x7145f0(0x65b)][_0x7145f0(0x5bf)]({'sourceId':this[_0x7145f0(0x7c7)][_0x7145f0(0x777)](),'content':{'action':_0x18ab1b[_0x7145f0(0x9db)],'stream':this[_0x7145f0(0x7c9)],'track':_0x55666d}});}}[_0x3eb455(0x5f1)](_0x585a61){const _0x5a4d7f=_0x3eb455;this[_0x5a4d7f(0x65b)]=_0x585a61;}[_0x3eb455(0x978)](_0x584e8b){const _0x3ca0d8=_0x3eb455;_0x584e8b===this[_0x3ca0d8(0x65b)]&&(delete this[_0x3ca0d8(0x65b)],this['unregisterPublisherListener']['publish']());}[_0x3eb455(0x3ad)](_0x327965){const _0x15d799=_0x3eb455;return this[_0x15d799(0x940)][_0x15d799(0x79f)](_0x327965);}[_0x3eb455(0x2f4)](_0x2c6c78){const _0x4186d7=_0x3eb455;return this['mediaStream'][_0x4186d7(0x7e6)]()[_0x4186d7(0xa41)](_0x3bd5cd=>_0x3bd5cd['kind']===_0x2c6c78)||null;}[_0x3eb455(0x3fe)](_0x4b1e49,_0x2b1d9c){const _0x4ea1a3=_0x3eb455;let _0x26e7c9;return'video'===_0x4b1e49&&_0x2b1d9c?.[_0x4ea1a3(0x2e1)]&&'boolean'!=typeof _0x2b1d9c['video']&&(_0x26e7c9={'kind':_0x4ea1a3(0x2e1),..._0x2b1d9c[_0x4ea1a3(0x2e1)]},_0x26e7c9[_0x4ea1a3(0x4c2)]=this[_0x4ea1a3(0xa83)]()),_0x4ea1a3(0x66c)===_0x4b1e49&&_0x2b1d9c?.[_0x4ea1a3(0x66c)]&&_0x4ea1a3(0x6c9)!=typeof _0x2b1d9c[_0x4ea1a3(0x66c)]&&(_0x26e7c9={'kind':'audio',..._0x2b1d9c[_0x4ea1a3(0x66c)]}),_0x26e7c9;}[_0x3eb455(0xa83)](){const _0x46aec3=_0x3eb455;let _0xab06e0={'width':0x0,'height':0x0};const _0x3cd930=this[_0x46aec3(0x7c9)]['getVideoTracks']();if(_0x3cd930['length']>0x0){const _0x42448e=_0x3cd930[0x0]['getSettings']();_0x42448e[_0x46aec3(0x33f)]&&_0x42448e['height']&&(_0xab06e0={'width':_0x42448e[_0x46aec3(0x33f)],'height':_0x42448e[_0x46aec3(0x572)]});}return _0xab06e0;}}class _0x254d29 extends _0x12caba{['clusterId'];['priority']=_0x4d2150[_0x3eb455(0xa88)][_0x3eb455(0x4e0)];[_0x3eb455(0x45b)]=new Map();['outgoingStreams']=new Map();constructor(_0x166b67,_0x5c1c96,_0x3ac49e,_0xaae8c4){const _0x17193f=_0x3eb455;super(_0x166b67,_0x5c1c96,_0x3ac49e instanceof MediaStream?_0x3ac49e:_0x3ac49e[_0x17193f(0x3ca)]?_0x3ac49e[_0x17193f(0x3ca)]:_0x3ac49e[_0x17193f(0x322)]()),this[_0x17193f(0x9ac)]=_0xaae8c4,this[_0x17193f(0x7c9)][_0x17193f(0x7e6)]()[_0x17193f(0x9d2)](_0x4b1e45=>this[_0x17193f(0x6b1)](_0x4b1e45)),_0x2c9fd4[_0x17193f(0x7f7)](_0x58ac15[_0x17193f(0x92c)],{'type':_0x17193f(0x5bf),'label':this[_0x17193f(0x78e)],'nodeId':this['owner']['getId'](),'nodeType':this['owner'][_0x17193f(0x6d8)],'clusterId':this[_0x17193f(0x9ac)],'streamId':this[_0x17193f(0x37a)](),'trackKinds':this[_0x17193f(0x7c9)][_0x17193f(0x7e6)]()[_0x17193f(0x257)](_0x301a83=>_0x301a83[_0x17193f(0x2bc)])});}[_0x3eb455(0x51b)](){const _0x57b490=_0x3eb455;this[_0x57b490(0x981)]['size']>0x0&&(this[_0x57b490(0x981)][_0x57b490(0x9d2)](_0x475952=>{const _0x34d61e=_0x57b490;_0x475952['unregisterSystemPublisher'](),_0x475952[_0x34d61e(0x51b)]();}),this['outgoingStreams']['clear']()),this[_0x57b490(0x45b)][_0x57b490(0x9d2)](_0x2c4d17=>_0x2c4d17()),super['destroy']();}[_0x3eb455(0x5bf)](_0x48fccb){const _0x4af43f=_0x3eb455;this['systemTopic']['publish']({'sourceId':this['owner']['getId'](),'destinationIds':_0x48fccb?[_0x48fccb]:void 0x0,'propagate':!0x0,'messageType':_0x3ef5e5[_0x4af43f(0x7dc)],'content':{'type':_0x2862db[_0x4af43f(0x73c)],'ownerId':this[_0x4af43f(0x7c7)][_0x4af43f(0x777)](),'label':this['label'],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this[_0x4af43f(0x7c9)][_0x4af43f(0x7e6)]()[_0x4af43f(0x257)](_0x176b7e=>_0x176b7e[_0x4af43f(0x2bc)])}}});}[_0x3eb455(0x9c9)](){const _0x5d2ffe=_0x3eb455;this[_0x5d2ffe(0x73b)][_0x5d2ffe(0x5bf)]({'sourceId':this[_0x5d2ffe(0x7c7)][_0x5d2ffe(0x777)](),'propagate':!0x0,'messageType':_0x3ef5e5[_0x5d2ffe(0x7dc)],'content':{'type':_0x2862db[_0x5d2ffe(0x841)],'ownerId':this['owner'][_0x5d2ffe(0x777)](),'label':this['label']}}),this[_0x5d2ffe(0x73b)][_0x5d2ffe(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5['Content'],'content':{'type':_0x2862db[_0x5d2ffe(0x875)],'label':this[_0x5d2ffe(0x78e)]}}),_0x2c9fd4['logServiceEvent'](_0x58ac15['MediaStream'],{'type':'unpublish','label':this[_0x5d2ffe(0x78e)],'nodeId':this[_0x5d2ffe(0x7c7)][_0x5d2ffe(0x777)](),'nodeType':this[_0x5d2ffe(0x7c7)][_0x5d2ffe(0x6d8)],'clusterId':this[_0x5d2ffe(0x9ac)],'streamId':this[_0x5d2ffe(0x37a)]()});}['getPriority'](){const _0x4fbe5f=_0x3eb455;return this[_0x4fbe5f(0x618)];}[_0x3eb455(0x6bc)](_0x143f6e){const _0x113401=_0x3eb455;this['priority']=_0x143f6e,this[_0x113401(0x981)]['forEach'](_0x58d7e1=>_0x58d7e1['setPriority'](_0x143f6e));}[_0x3eb455(0x8ee)](_0xc4913c,_0x455381){const _0x207ca3=_0x3eb455;if(!this[_0x207ca3(0x981)]['has'](_0xc4913c)){const _0x23a930=new _0x409131(this[_0x207ca3(0x7c7)],this[_0x207ca3(0x78e)],this[_0x207ca3(0x7c9)],_0xc4913c,_0x455381),_0x40fad9=_0x23a930[_0x207ca3(0x3ad)](()=>{const _0x563d36=_0x207ca3;_0x40fad9(),this['outgoingStreams'][_0x563d36(0x1d7)](_0xc4913c)?.['destroy'](),this[_0x563d36(0x981)]['delete'](_0xc4913c);});this['outgoingStreams']['set'](_0xc4913c,_0x23a930),_0x23a930[_0x207ca3(0x734)](this[_0x207ca3(0x73b)]);}return this[_0x207ca3(0x981)]['get'](_0xc4913c);}['getShareableStreamId'](){const _0x5415bd=_0x3eb455;return this[_0x5415bd(0x7c9)]['id'];}[_0x3eb455(0x662)](_0x2a9d35){const _0xb72725=_0x3eb455;this[_0xb72725(0x73b)]['publish']({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5['Content'],'content':{'type':_0x2862db[_0xb72725(0x8b7)],'label':this[_0xb72725(0x78e)],'trackKinds':[_0x2a9d35[_0xb72725(0x2bc)]]}});}[_0x3eb455(0x6b1)](_0x40418a){const _0x339680=_0x3eb455,_0x5af956=()=>this[_0x339680(0x662)](_0x40418a);_0x40418a[_0x339680(0x3a3)](_0x339680(0x7f1),_0x5af956),_0x40418a[_0x339680(0x3a3)](_0x339680(0x6ab),_0x5af956),this['trackEndedListeners']['set'](_0x40418a[_0x339680(0x2bc)],()=>{const _0xf1a920=_0x339680;_0x40418a[_0xf1a920(0x49b)](_0xf1a920(0x7f1),_0x5af956),_0x40418a['removeEventListener'](_0xf1a920(0x6ab),_0x5af956),this['trackEndedListeners']['delete'](_0x40418a[_0xf1a920(0x2bc)]);});}}class _0x195b45 extends _0x254d29{[_0x3eb455(0x91b)];[_0x3eb455(0xa16)]=[];[_0x3eb455(0x84d)];[_0x3eb455(0x5d8)];[_0x3eb455(0x3b1)];['sourceVideo'];[_0x3eb455(0x41d)];[_0x3eb455(0x45a)];[_0x3eb455(0xa81)];constructor(_0xfc720b,_0x4d95d1,_0x5f235,_0x15e1a2,_0x1f5f2a,_0xe2ebc1){const _0x59f8be=_0x3eb455;if(super(_0xfc720b,_0x4d95d1,_0x5f235,_0xe2ebc1),this[_0x59f8be(0x91b)]=_0x1f5f2a,this[_0x59f8be(0x84d)]=this[_0x59f8be(0x7c9)],this[_0x59f8be(0x20b)]=document[_0x59f8be(0xa3a)](_0x59f8be(0x2e1)),this[_0x59f8be(0x20b)]['autoplay']=!0x0,this[_0x59f8be(0x20b)][_0x59f8be(0x33a)]=!0x0,this[_0x59f8be(0x20b)][_0x59f8be(0x3ca)]=this[_0x59f8be(0x84d)],this[_0x59f8be(0x20b)][_0x59f8be(0x4f4)](),this[_0x59f8be(0x20b)][_0x59f8be(0x873)]=()=>{const _0x419b28=_0x59f8be;this[_0x419b28(0x20b)][_0x419b28(0x8e8)]();},this[_0x59f8be(0x41d)]=document[_0x59f8be(0xa3a)]('canvas'),this[_0x59f8be(0x45a)]=this[_0x59f8be(0x41d)]['getContext']('2d'),this['mediaStream']=this[_0x59f8be(0x41d)]['captureStream'](_0x15e1a2),this[_0x59f8be(0x3b1)]=this[_0x59f8be(0x91b)]['createMediaStreamDestination'](),this[_0x59f8be(0x84d)][_0x59f8be(0x32b)]()[_0x59f8be(0x3ed)]>0x0){const _0x4019d2=this[_0x59f8be(0x84d)][_0x59f8be(0x32b)]()[0x0];this['audioSource']=this[_0x59f8be(0x91b)][_0x59f8be(0x448)](new MediaStream([_0x4019d2])),this[_0x59f8be(0x5d8)][_0x59f8be(0x319)](this['audioDestination']);}const _0x570017=this[_0x59f8be(0x3b1)][_0x59f8be(0x2c0)][_0x59f8be(0x7e6)]()[0x0];this['mediaStream'][_0x59f8be(0x90a)](_0x570017),this[_0x59f8be(0xa81)]=setInterval(()=>{const _0x254243=_0x59f8be;this[_0x254243(0x41d)]['width']=this[_0x254243(0x20b)][_0x254243(0xad8)],this['canvas'][_0x254243(0x572)]=this[_0x254243(0x20b)][_0x254243(0x75c)],this['sourceVideo'][_0x254243(0xad8)]?(0x0!==this[_0x254243(0x84d)][_0x254243(0x345)]()['length']&&this[_0x254243(0x84d)][_0x254243(0x345)]()[0x0][_0x254243(0x30d)]?this[_0x254243(0x7c9)][_0x254243(0x345)]()[0x0][_0x254243(0x30d)]=!0x0:this[_0x254243(0x7c9)][_0x254243(0x345)]()[0x0][_0x254243(0x30d)]=!0x1,0x0!==this[_0x254243(0x84d)][_0x254243(0x32b)]()[_0x254243(0x3ed)]&&this['clientStream'][_0x254243(0x32b)]()[0x0][_0x254243(0x30d)]?this['mediaStream'][_0x254243(0x32b)]()[0x0][_0x254243(0x30d)]=!0x0:this[_0x254243(0x7c9)][_0x254243(0x32b)]()[0x0][_0x254243(0x30d)]=!0x1,this[_0x254243(0x45a)][_0x254243(0x71f)](this[_0x254243(0x20b)],0x0,0x0)):this[_0x254243(0x45a)][_0x254243(0x7e0)](0x0,0x0,this['canvas'][_0x254243(0x33f)],this[_0x254243(0x41d)][_0x254243(0x572)]);},0x3e8/_0x15e1a2);}[_0x3eb455(0x51b)](){const _0x1d08cf=_0x3eb455;clearInterval(this['interval']),this['sourceVideo'][_0x1d08cf(0x212)](),this['canvas']['remove'](),this[_0x1d08cf(0x5d8)]?.[_0x1d08cf(0xadb)](),this[_0x1d08cf(0x3b1)][_0x1d08cf(0xadb)](),this[_0x1d08cf(0x7c9)][_0x1d08cf(0x7e6)]()[_0x1d08cf(0x9d2)](_0x387f6c=>{const _0x186d8c=_0x1d08cf;_0x387f6c['stop'](),this[_0x186d8c(0x7c9)][_0x186d8c(0x8b0)](_0x387f6c);}),super['destroy']();}['addTrack'](_0x552e1c){const _0x45c398=_0x3eb455,_0x7c7aa7=this[_0x45c398(0x2f4)](_0x552e1c['kind']);_0x7c7aa7&&this[_0x45c398(0x8b0)](_0x7c7aa7),'audio'!==_0x552e1c[_0x45c398(0x2bc)]?('video'===_0x552e1c[_0x45c398(0x2bc)]&&this[_0x45c398(0x39c)](_0x552e1c),this['setupTrackEndedListeners'](_0x552e1c)):this[_0x45c398(0x6a8)](_0x552e1c);}['removeTrack'](_0x5e332f){const _0x207d2d=_0x3eb455,_0x1e1922=this[_0x207d2d(0x7fc)](_0x5e332f);return _0x1e1922&&(_0x207d2d(0x66c)===_0x1e1922['kind']&&(this[_0x207d2d(0x5d8)]?.[_0x207d2d(0xadb)](),this[_0x207d2d(0x5d8)]=void 0x0),this[_0x207d2d(0x45b)][_0x207d2d(0x1d7)](_0x1e1922[_0x207d2d(0x2bc)])?.(),this[_0x207d2d(0x84d)]['removeTrack'](_0x1e1922)),_0x1e1922;}[_0x3eb455(0x42f)](_0xd54645){const _0x34c504=_0x3eb455;this['removeTrack'](_0xd54645[_0x34c504(0x2bc)]),this[_0x34c504(0x90a)](_0xd54645);}[_0x3eb455(0x976)](_0x47cae2){this['transformations']=_0x47cae2;}['getTrack'](_0x5ba269){const _0x16953f=_0x3eb455;return this[_0x16953f(0x84d)][_0x16953f(0x7e6)]()[_0x16953f(0xa41)](_0x36fedd=>_0x36fedd[_0x16953f(0x2bc)]===_0x5ba269)||null;}[_0x3eb455(0x7fc)](_0x363d61){const _0x3f3fa1=_0x3eb455;return _0x3f3fa1(0x77a)==typeof _0x363d61?this['getTrack'](_0x363d61):_0x363d61;}[_0x3eb455(0x6a8)](_0xabce7){const _0x2c4d7a=_0x3eb455;_0x2c4d7a(0x48f)===this[_0x2c4d7a(0x91b)][_0x2c4d7a(0x9a4)]&&this[_0x2c4d7a(0x91b)][_0x2c4d7a(0x441)](),this[_0x2c4d7a(0x84d)]['addTrack'](_0xabce7),this[_0x2c4d7a(0x5d8)]=this[_0x2c4d7a(0x91b)]['createMediaStreamSource'](this['clientStream']),this[_0x2c4d7a(0x5d8)][_0x2c4d7a(0x319)](this['audioDestination']);}[_0x3eb455(0x39c)](_0xf06aad){const _0x17920e=_0x3eb455;this[_0x17920e(0x84d)]['addTrack'](_0xf06aad),this[_0x17920e(0x20b)][_0x17920e(0x4f4)]();}}class _0xec0ce8 extends _0x254d29{}class _0x5c57c2 extends _0x2f8302{['localNode'];[_0x3eb455(0x9ac)];[_0x3eb455(0x2df)];[_0x3eb455(0x68c)];[_0x3eb455(0x998)];['unsubscribeHandler'];['lastTransactionId'];[_0x3eb455(0x551)]=new Map();[_0x3eb455(0x3ce)]=new Map();[_0x3eb455(0x74e)]=new Map();[_0x3eb455(0x943)]=new Map();[_0x3eb455(0x623)]=new Map();[_0x3eb455(0xa1a)]=new Map();[_0x3eb455(0x2b4)];[_0x3eb455(0x7ec)]=_0x2bf9b6();[_0x3eb455(0x88e)]=new Map();[_0x3eb455(0x6da)];['writes']=0x0;[_0x3eb455(0x608)]=0x0;['syncContent']=!0x0;[_0x3eb455(0xace)]=!0x0;[_0x3eb455(0x38a)]=0x0;[_0x3eb455(0x471)]=0x0;constructor(_0x5108ab,_0x3cd730,_0x41bc2e,_0xfc5a55,_0x1fff92,_0xbe9451,_0x55aa0f){const _0x39e75e=_0x3eb455;if(_0x39e75e(0x77a)!=typeof _0x3cd730)throw new _0x5669b1(_0x3ed137[_0x39e75e(0x812)],_0x39e75e(0x5c7));super(_0x5108ab,_0x3cd730),this[_0x39e75e(0x45e)]=_0x5108ab,this['clusterId']=_0x41bc2e,this[_0x39e75e(0x2df)]=_0xfc5a55,this[_0x39e75e(0x68c)]=_0x1fff92,this[_0x39e75e(0x998)]=_0x55aa0f;const _0x5da730=_0x39e75e(0x6cd)+this[_0x39e75e(0x2df)]+'ccc'+this[_0x39e75e(0x9ac)]+_0x39e75e(0x6cd)+_0x3cd730;this['objectStoreConnector']=new _0xbe9451(_0x5da730),this[_0x39e75e(0x6f8)]();}[_0x3eb455(0x594)](){const _0x128b7a=_0x3eb455;this[_0x128b7a(0x6f8)]();}[_0x3eb455(0x41e)](){const _0x239e7c=_0x3eb455;return _0x4d2150['ContentType'][_0x239e7c(0xa98)];}async[_0x3eb455(0x3b7)](_0x31c4b4){const _0x5467f6=_0x3eb455;void 0x0!==_0x31c4b4&&(this['syncContent']=_0x31c4b4),this[_0x5467f6(0xace)]=!0x0;try{const _0x26db65=await this[_0x5467f6(0x2b4)][_0x5467f6(0x1d7)](_0x53c6d8),_0x4d0308=await _0x26db65[_0x5467f6(0x442)]();this['lastTransactionId']=_0x4d0308;}catch(_0x49614b){}this[_0x5467f6(0x963)]=this[_0x5467f6(0xa3d)](async(_0x4962ec,_0x4fba35)=>{const _0x22c239=_0x5467f6;if(!(_0x4fba35 instanceof File))try{if(_0x4fba35['payloadType']===_0x5bb08a['Request'])return void this[_0x22c239(0x8c0)](_0x4fba35);this['handleTransactionPayload'](_0x4fba35);}catch(_0x3b0629){if(_0x3b0629 instanceof _0x157cd9)throw _0x3b0629;throw new _0x157cd9(_0x157cd9[_0x22c239(0x6cc)][_0x22c239(0x369)],{'payload':_0x4fba35});}}),await this[_0x5467f6(0x1f3)](),this['syncContent']?await this[_0x5467f6(0x323)]():this[_0x5467f6(0x7cc)](),this['sendStats']();}[_0x3eb455(0x51b)](){const _0x13e26c=_0x3eb455;this[_0x13e26c(0x963)]?.(),this[_0x13e26c(0x88e)][_0x13e26c(0x9d2)](_0x16ffc3=>_0x16ffc3()),this['listenerUnsubscribers'][_0x13e26c(0xa0e)](),clearTimeout(this[_0x13e26c(0x6da)]),delete this['debounceStats'],super[_0x13e26c(0x51b)]();}[_0x3eb455(0x579)](){const _0x306c51=_0x3eb455;this[_0x306c51(0x73b)]?.[_0x306c51(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x306c51(0x7dc)],'content':{'type':_0x2862db['CloseObjectStoreBucket'],'label':this['label']}});}[_0x3eb455(0x79f)](_0x10591e,_0x3c93d6){const _0x2e936f=_0x3eb455;if(this[_0x2e936f(0x88e)][_0x2e936f(0x8c7)](_0x10591e))throw new _0x5669b1(_0x3ed137[_0x2e936f(0x1dc)],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this['listenerUnsubscribers']['set'](_0x10591e,this[_0x2e936f(0x7ec)][_0x2e936f(0x79f)](_0x3c93d6)),this[_0x2e936f(0xace)]||this['eventListener'][_0x2e936f(0x5bf)]({'event':_0x4d2150[_0x2e936f(0x95e)][_0x2e936f(0x1f0)],'payload':{'filesSynced':this['filesSynced']}});}['unsubscribe'](_0x54d8c7){const _0x523bd3=_0x3eb455;this[_0x523bd3(0x88e)][_0x523bd3(0x1d7)](_0x54d8c7)?.(),this[_0x523bd3(0x88e)][_0x523bd3(0xaa3)](_0x54d8c7);}[_0x3eb455(0x5bf)](_0x41e4a2){const _0x47b7d9=_0x3eb455;switch(_0x41e4a2[_0x47b7d9(0x6f7)]){case _0x4d2150[_0x47b7d9(0x9ee)][_0x47b7d9(0x3f4)]:return this[_0x47b7d9(0x4a3)](_0x41e4a2['file'],_0x41e4a2[_0x47b7d9(0x280)],_0x41e4a2[_0x47b7d9(0x7b5)]);case _0x4d2150[_0x47b7d9(0x9ee)]['Folder']:return this[_0x47b7d9(0x1cd)](_0x41e4a2['path']);case _0x4d2150[_0x47b7d9(0x9ee)]['Move']:return this[_0x47b7d9(0x866)](_0x41e4a2[_0x47b7d9(0x280)],_0x41e4a2[_0x47b7d9(0x316)]);default:throw new _0x5669b1(_0x3ed137[_0x47b7d9(0x4ac)],'Cannot\x20publish\x20payload:\x20'+_0x41e4a2);}}async[_0x3eb455(0x9c9)](_0x773477){const _0x15fc85=_0x3eb455;try{const _0x1722a4=(0x0,_0xe630d4['v4'])(),_0xdbfaf4=this[_0x15fc85(0x68f)],_0x556662={'payloadType':_0x5bb08a[_0x15fc85(0x9e3)],'action':_0x449ca4['Delete'],'id':_0x1722a4,'parentId':_0xdbfaf4,'path':_0x773477};await this['publishTransaction'](_0x556662);const _0x24cb1e=await this[_0x15fc85(0x24c)](_0x773477);await this[_0x15fc85(0x307)](_0x556662),_0x2c9fd4[_0x15fc85(0x7f7)](_0x58ac15[_0x15fc85(0xa6f)],{'type':_0x15fc85(0x9c9),'label':this[_0x15fc85(0x78e)],'nodeId':this[_0x15fc85(0x45e)]['getId'](),'nodeType':this[_0x15fc85(0x45e)][_0x15fc85(0x6d8)],'clusterId':this[_0x15fc85(0x9ac)],'kind':_0x24cb1e,'path':_0x773477}),this[_0x15fc85(0x704)]+=0x1,this[_0x15fc85(0x6f8)]();}catch(_0x2415a9){if(_0x2415a9 instanceof _0x157cd9)throw new _0x5669b1(_0x3ed137[_0x15fc85(0x22a)],_0x15fc85(0x2c2)+_0x773477+_0x15fc85(0x2ca));throw new _0x5669b1(_0x3ed137[_0x15fc85(0x710)],_0x15fc85(0x649)+_0x773477);}}async[_0x3eb455(0x1d7)](_0x120cec,_0x459b06){const _0x42b57d=_0x3eb455;_0x2c9fd4[_0x42b57d(0x7f7)](_0x58ac15[_0x42b57d(0xa6f)],{'type':'get','label':this[_0x42b57d(0x78e)],'nodeId':this['localNode'][_0x42b57d(0x777)](),'nodeType':this[_0x42b57d(0x45e)][_0x42b57d(0x6d8)],'clusterId':this[_0x42b57d(0x9ac)],'path':_0x120cec}),this[_0x42b57d(0x608)]+=0x1,this['sendStats']();try{return await this[_0x42b57d(0x2b4)][_0x42b57d(0x1d7)](_0x120cec,_0x459b06);}catch(_0x3d986a){try{await this['objectStoreConnector']['get'](_0x120cec+_0x1e1c27);}catch(_0x2b8771){throw new _0x5669b1(_0x3ed137[_0x42b57d(0x710)],_0x42b57d(0x3d6)+_0x120cec);}throw new _0x5669b1(_0x3ed137[_0x42b57d(0x22a)],_0x42b57d(0x525));}}async[_0x3eb455(0xa65)](_0x8386fc,_0xa13d26){const _0x398471=_0x3eb455,{recursive:_0x135d5=!0x1,includeSyncingFiles:_0x4b71af=!0x1}=_0xa13d26??{};_0x2c9fd4[_0x398471(0x7f7)](_0x58ac15[_0x398471(0xa6f)],{'type':'list','label':this[_0x398471(0x78e)],'nodeId':this[_0x398471(0x45e)][_0x398471(0x777)](),'nodeType':this[_0x398471(0x45e)][_0x398471(0x6d8)],'clusterId':this[_0x398471(0x9ac)],'path':_0x8386fc}),this[_0x398471(0x608)]+=0x1,this['sendStats']();try{const _0x45b311=await this[_0x398471(0x2b4)][_0x398471(0xa65)](_0x8386fc,_0x135d5);return this['processList'](_0x45b311,{'recursive':_0x135d5,'includeSyncingFiles':_0x4b71af});}catch(_0xf9c2ee){throw new _0x5669b1(_0x3ed137[_0x398471(0x710)],_0x398471(0x665)+_0x8386fc);}}[_0x3eb455(0x714)](_0x4147af){const _0x4e075c=_0x3eb455;this[_0x4e075c(0x471)]+=0x1;for(const _0x1cc7dc of this[_0x4e075c(0x3ce)][_0x4e075c(0x565)]())this['send'](_0x1cc7dc,[_0x4147af]);}[_0x3eb455(0x258)](_0x52ebb1){const _0x4d4f54=_0x3eb455;this['nodesConnected']-=0x1;const _0x736f85=this[_0x4d4f54(0x74e)]['get'](_0x52ebb1);if(_0x736f85){for(const [_0x32d261,_0x21cfe1]of _0x736f85[_0x4d4f54(0x565)]())this[_0x4d4f54(0x54c)](_0x32d261,_0x21cfe1);this[_0x4d4f54(0x74e)][_0x4d4f54(0xaa3)](_0x52ebb1);}}async['getSize'](_0x3e5a8d='/'){const _0x2f730f=_0x3eb455;try{return await this[_0x2f730f(0x2b4)][_0x2f730f(0x21d)](_0x3e5a8d);}catch(_0x424000){if(_0x424000 instanceof Error&&_0x424000[_0x2f730f(0x748)][_0x2f730f(0x721)](_0x2f730f(0x581)))return 0x0;throw new _0x5669b1(_0x3ed137[_0x2f730f(0x710)],'Cannot\x20get\x20size\x20of\x20path:\x20'+_0x3e5a8d);}}['completeSync'](){const _0x5c6714=_0x3eb455;this['isSyncing']&&(this[_0x5c6714(0xace)]=!0x1,this[_0x5c6714(0x7ec)]['publish']({'event':_0x4d2150[_0x5c6714(0x95e)][_0x5c6714(0x1f0)],'payload':{'filesSynced':this[_0x5c6714(0x38a)]}}));}async[_0x3eb455(0x425)](_0xd43999,{includeSyncingFiles:_0x4aa67e=!0x1}){const _0x19962d=_0x3eb455,_0x3fd922=[];for(const _0x36b0e6 of _0xd43999)if(_0x36b0e6['kind']!==_0x4d2150['ObjectKind'][_0x19962d(0xa73)]){if(_0x36b0e6[_0x19962d(0x807)]!==_0x53c6d8){if(_0x36b0e6[_0x19962d(0x807)][_0x19962d(0x3d0)](_0x1e1c27)){if(!_0x4aa67e)continue;const _0x4864ce=_0x36b0e6;if(_0x4864ce[_0x19962d(0x807)]=_0x4864ce[_0x19962d(0x807)][_0x19962d(0x4d4)](_0x1e1c27,''),_0x4864ce['pathName']=_0x4864ce[_0x19962d(0x4d6)]['replace'](_0x1e1c27,''),await this['syncedFileExists'](_0x4864ce[_0x19962d(0x4d6)])){_0xd43999[_0x19962d(0xa41)](_0x2c14b0=>_0x2c14b0['pathName']===_0x4864ce[_0x19962d(0x4d6)])['status']=_0x4d2150[_0x19962d(0x419)][_0x19962d(0x1ae)];continue;}_0x4864ce[_0x19962d(0x1e8)]=_0x4d2150[_0x19962d(0x419)][_0x19962d(0x3f1)];}_0x3fd922[_0x19962d(0x69a)](_0x36b0e6);}}else _0x36b0e6[_0x19962d(0x858)]=await this[_0x19962d(0x425)](_0x36b0e6[_0x19962d(0x858)]??[],{'includeSyncingFiles':_0x4aa67e}),_0x3fd922[_0x19962d(0x69a)](_0x36b0e6);return _0x3fd922;}async[_0x3eb455(0x4a3)](_0x1565e7,_0x174d3f,_0x29a4ad){const _0xc901aa=_0x3eb455;try{const _0x6ce966=(0x0,_0xe630d4['v4'])(),_0x25ff4e=await _0x5a7452(_0x1565e7),_0x24c835=_0x522bf0(_0x174d3f??'/',_0x1565e7['name']);let _0x438fef=!0x0;const _0x7a9d1e={'payloadType':_0x5bb08a[_0xc901aa(0x9e3)],'action':_0x449ca4[_0xc901aa(0x260)],'id':_0x6ce966,'parentId':this['lastTransactionId'],'answererId':this['localNode'][_0xc901aa(0x777)](),'name':_0x1565e7['name'],'type':_0x1565e7[_0xc901aa(0x6d8)],'path':_0x174d3f??'/','skipEncryption':_0x29a4ad?.[_0xc901aa(0x8d1)]??!0x1,'checksum':_0x25ff4e};try{if(!_0x29a4ad?.['fetchUrl'])throw new Error(_0xc901aa(0x20f));const _0x49368b=_0x24c835+_0x1e1c27;await this[_0xc901aa(0x2b4)][_0xc901aa(0x1d7)](_0x49368b),_0x438fef=!0x1,await this['objectStoreConnector'][_0xc901aa(0x24c)](_0x49368b),this[_0xc901aa(0x3ce)][_0xc901aa(0xaa3)](_0x24c835);}catch(_0x23f4f2){await this['publishTransaction'](_0x7a9d1e);}if(this[_0xc901aa(0x67c)]?await this[_0xc901aa(0x8a8)](_0x1565e7,_0x174d3f,_0x29a4ad):await this['createPendingFileWrite'](_0x1565e7[_0xc901aa(0x807)],_0x174d3f??'/',{'checksum':_0x25ff4e,'skipEncryption':_0x29a4ad?.[_0xc901aa(0x8d1)]??!0x1}),this[_0xc901aa(0xa1a)][_0xc901aa(0x8c7)](_0x24c835)){const [_0x5576ad,_0x4a7a9e]=this[_0xc901aa(0xa1a)][_0xc901aa(0x1d7)](_0x24c835);this[_0xc901aa(0xa1a)]['set'](_0x24c835,[!0x0,_0x4a7a9e]);try{await _0x4a7a9e;}catch(_0x37a97f){}this[_0xc901aa(0xa1a)][_0xc901aa(0xaa3)](_0x24c835);}_0x438fef&&this[_0xc901aa(0x471)]>0x0&&await this[_0xc901aa(0x484)](_0x1565e7,_0x7a9d1e),_0x2c9fd4['logServiceEvent'](_0x58ac15['ObjectStorage'],{'type':_0xc901aa(0x5bf),'label':this[_0xc901aa(0x78e)],'nodeId':this[_0xc901aa(0x45e)]['getId'](),'nodeType':this['localNode']['type'],'clusterId':this[_0xc901aa(0x9ac)],'kind':_0x4d2150['ObjectKind']['File'],'path':_0x174d3f,'fileName':_0x1565e7[_0xc901aa(0x807)],'fileType':_0x1565e7[_0xc901aa(0x6d8)],'size':_0x1565e7[_0xc901aa(0xa95)]}),this[_0xc901aa(0x704)]+=0x1,this['sendStats']();}catch(_0x3f4494){if(_0x3f4494 instanceof _0x157cd9)throw new _0x5669b1(_0x3ed137[_0xc901aa(0x22a)],_0xc901aa(0x525));throw new _0x5669b1(_0x3ed137[_0xc901aa(0x710)],'Cannot\x20publish\x20file:\x20'+_0x174d3f+(_0x174d3f?.[_0xc901aa(0x3d0)]('/')?'':'/')+_0x1565e7[_0xc901aa(0x807)]);}}async[_0x3eb455(0x1cd)](_0x52d277){const _0x2c74c4=_0x3eb455;try{const _0x7eff46=(0x0,_0xe630d4['v4'])(),_0x51e949=this[_0x2c74c4(0x68f)],_0xa8e335={'payloadType':_0x5bb08a['Transaction'],'action':_0x449ca4[_0x2c74c4(0x40e)],'id':_0x7eff46,'parentId':_0x51e949,'path':_0x52d277};await this[_0x2c74c4(0x716)](_0xa8e335),await this[_0x2c74c4(0x2b4)]['createFolder'](_0x52d277),await this[_0x2c74c4(0x307)](_0xa8e335),_0x2c9fd4[_0x2c74c4(0x7f7)](_0x58ac15['ObjectStorage'],{'type':_0x2c74c4(0x5bf),'label':this[_0x2c74c4(0x78e)],'nodeId':this[_0x2c74c4(0x45e)][_0x2c74c4(0x777)](),'nodeType':this[_0x2c74c4(0x45e)][_0x2c74c4(0x6d8)],'clusterId':this[_0x2c74c4(0x9ac)],'kind':_0x4d2150[_0x2c74c4(0x999)][_0x2c74c4(0xa73)],'path':_0x52d277}),this['writes']+=0x1,this[_0x2c74c4(0x6f8)]();}catch(_0x55e549){if(_0x55e549 instanceof _0x157cd9)throw new _0x5669b1(_0x3ed137['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x5669b1(_0x3ed137[_0x2c74c4(0x710)],'Cannot\x20publish\x20folder:\x20'+_0x52d277);}}async['publishMove'](_0x1e9348,_0x598c77){const _0x2977de=_0x3eb455;try{const _0x484534=(0x0,_0xe630d4['v4'])(),_0x50d748=this[_0x2977de(0x68f)],_0x250ebc={'payloadType':_0x5bb08a['Transaction'],'action':_0x449ca4['Move'],'id':_0x484534,'parentId':_0x50d748,'path':_0x1e9348,'newPath':_0x598c77};await this['publishTransaction'](_0x250ebc);const _0x5f02a3=await this[_0x2977de(0x7e7)](_0x1e9348,_0x598c77);await this[_0x2977de(0x307)](_0x250ebc),_0x2c9fd4[_0x2977de(0x7f7)](_0x58ac15['ObjectStorage'],{'type':_0x2977de(0x29c),'label':this['label'],'nodeId':this[_0x2977de(0x45e)]['getId'](),'nodeType':this[_0x2977de(0x45e)][_0x2977de(0x6d8)],'clusterId':this[_0x2977de(0x9ac)],'kind':_0x5f02a3,'path':_0x1e9348,'newPath':_0x598c77}),this['writes']+=0x1,this[_0x2977de(0x6f8)]();}catch(_0x51dab4){if(_0x51dab4 instanceof _0x157cd9)throw new _0x5669b1(_0x3ed137[_0x2977de(0x22a)],_0x2977de(0x525));throw new _0x5669b1(_0x3ed137[_0x2977de(0x710)],_0x2977de(0x2f5)+_0x1e9348);}}async['handleTransactionPayload'](_0x5e5427,_0x20061c=!0x1){const _0x1b4757=_0x3eb455;if(this[_0x1b4757(0x68f)]&&_0x5e5427[_0x1b4757(0x74f)]!==this[_0x1b4757(0x68f)]&&_0x5e5427['id']!==this[_0x1b4757(0x68f)]){if(!_0x5e5427[_0x1b4757(0x74f)])throw new _0x157cd9(_0x157cd9[_0x1b4757(0x6cc)][_0x1b4757(0x369)]);this[_0x1b4757(0x551)][_0x1b4757(0x90d)](_0x5e5427[_0x1b4757(0x74f)],_0x5e5427);}else{try{await this[_0x1b4757(0xa1f)](_0x5e5427,_0x20061c);}catch(_0x176817){}await this[_0x1b4757(0x4a1)](_0x5e5427['id']),await this['processPendingSyncTransactions'](_0x5e5427['id'],_0x20061c);}}async['processTransactionPayload'](_0x466f38,_0x120332=!0x1){const _0x5bc8aa=_0x3eb455;switch(_0x466f38[_0x5bc8aa(0x6f7)]){case _0x449ca4[_0x5bc8aa(0x260)]:await this[_0x5bc8aa(0x556)](_0x466f38);break;case _0x449ca4['FolderCreate']:await this['handleFolderCreate'](_0x466f38);break;case _0x449ca4[_0x5bc8aa(0x7c2)]:await this[_0x5bc8aa(0x43f)](_0x466f38,_0x120332);break;case _0x449ca4['Delete']:await this[_0x5bc8aa(0x5bb)](_0x466f38,_0x120332);break;default:throw new _0x157cd9(_0x157cd9['codes']['ObjectStoreInvalidSyncMessage'],{'payload':_0x466f38});}}async[_0x3eb455(0x352)](_0x4d53ce,_0x214a8a=!0x1){const _0x2eff80=_0x3eb455;if(this[_0x2eff80(0x551)][_0x2eff80(0x8c7)](_0x4d53ce)){const _0xe7a172=this['pendingSyncTransactions'][_0x2eff80(0x1d7)](_0x4d53ce);this[_0x2eff80(0x551)][_0x2eff80(0xaa3)](_0x4d53ce),await this[_0x2eff80(0xad1)](_0xe7a172,_0x214a8a);}}async['handleRequestPayload'](_0xbc7780){const _0x246117=_0x3eb455;switch(_0xbc7780[_0x246117(0x6f7)]){case _0x449ca4['RequestFile']:return this[_0x246117(0xa4a)](_0xbc7780);case _0x449ca4[_0x246117(0x6a2)]:return this[_0x246117(0x375)](_0xbc7780);case _0x449ca4[_0x246117(0x3bb)]:return this['handleFileSync'](_0xbc7780);case _0x449ca4[_0x246117(0x1f8)]:return this[_0x246117(0x556)](_0xbc7780);default:throw new _0x157cd9(_0x157cd9[_0x246117(0x6cc)][_0x246117(0x369)],{'payload':_0xbc7780});}}async[_0x3eb455(0x556)](_0x529b19,_0x1e2335=0x0){const _0x48f4ec=_0x3eb455,_0x53e3c9=_0x522bf0(_0x529b19[_0x48f4ec(0x280)],_0x529b19[_0x48f4ec(0x807)]);if(!_0x529b19[_0x48f4ec(0x7b8)]||void 0x0===_0x529b19[_0x48f4ec(0x974)]||!_0x529b19[_0x48f4ec(0x251)])return this[_0x48f4ec(0x624)][_0x48f4ec(0xaa3)](_0x53e3c9),void await this[_0x48f4ec(0x8f0)](_0x529b19[_0x48f4ec(0x807)],_0x529b19[_0x48f4ec(0x280)],{'checksum':_0x529b19[_0x48f4ec(0x503)],'skipEncryption':_0x529b19['skipEncryption']});if(this[_0x48f4ec(0x624)]['has'](_0x53e3c9)){const _0xded2af=this[_0x48f4ec(0x624)][_0x48f4ec(0x1d7)](_0x53e3c9);_0xded2af['checksum']!==_0x529b19[_0x48f4ec(0x503)]&&(_0xded2af['stream']?.[_0x48f4ec(0x579)](),this[_0x48f4ec(0x624)][_0x48f4ec(0xaa3)](_0x53e3c9));}if(!this['fileChunks'][_0x48f4ec(0x8c7)](_0x53e3c9)){try{await this[_0x48f4ec(0x2b4)]['deleteObject'](_0x53e3c9);}catch(_0x263be2){}try{const _0x5a77eb=this[_0x48f4ec(0x67c)]?await this[_0x48f4ec(0x2b4)][_0x48f4ec(0x305)](_0x53e3c9,{'skipEncryption':_0x529b19[_0x48f4ec(0x8d1)]}):void 0x0,_0x4a6244={'chunksReceived':_0x529b19[_0x48f4ec(0x234)]??0x0,'bytesReceived':0x0,'stream':_0x5a77eb,'checksum':_0x529b19['checksum']};this[_0x48f4ec(0x624)][_0x48f4ec(0x90d)](_0x53e3c9,_0x4a6244),await this[_0x48f4ec(0x8f0)](_0x529b19[_0x48f4ec(0x807)],_0x529b19['path'],{'checksum':_0x529b19['checksum'],'skipEncryption':_0x529b19[_0x48f4ec(0x8d1)]});}catch(_0x1f5146){}}const _0x32ee5a=this['fileChunks'][_0x48f4ec(0x1d7)](_0x53e3c9);if(_0x529b19['checksum']!==_0x32ee5a[_0x48f4ec(0x503)])return;if(this['setPendingFileSyncingPayload'](_0x529b19,_0x53e3c9),this['syncContent']){if(!_0x32ee5a[_0x48f4ec(0x2c0)])throw new _0x157cd9(_0x157cd9['codes'][_0x48f4ec(0x369)],{'message':_0x48f4ec(0x61c)});let _0x27dc78=_0x32ee5a[_0x48f4ec(0x990)];if(_0x529b19[_0x48f4ec(0x974)]!==_0x27dc78){if(_0x27dc78>_0x529b19[_0x48f4ec(0x974)])return;const _0x25f3df=2064.1259842519685;if(_0x529b19[_0x48f4ec(0x974)]>_0x27dc78+_0x25f3df)return;if(_0x32ee5a[_0x48f4ec(0x21f)]||(_0x32ee5a['bufferedChunks']=[]),_0x32ee5a[_0x48f4ec(0x21f)][_0x48f4ec(0x3ed)]>8256.503937007874)throw this[_0x48f4ec(0x624)][_0x48f4ec(0xaa3)](_0x53e3c9),new _0x157cd9(_0x157cd9[_0x48f4ec(0x6cc)][_0x48f4ec(0x369)],{'message':_0x48f4ec(0xadd)});return void _0x32ee5a[_0x48f4ec(0x21f)][_0x48f4ec(0x69a)](_0x529b19);}try{_0x32ee5a[_0x48f4ec(0x990)]+=0x1,_0x32ee5a[_0x48f4ec(0x2e6)]+=_0x529b19[_0x48f4ec(0x7b8)]['byteLength'],await _0x32ee5a[_0x48f4ec(0x2c0)][_0x48f4ec(0x45f)](_0x529b19[_0x48f4ec(0x7b8)]);}catch(_0x2e416a){if(console['error']('Error\x20writing\x20chunk\x20to\x20stream',_0x2e416a),_0x1e2335>0x3)throw this[_0x48f4ec(0x624)][_0x48f4ec(0xaa3)](_0x53e3c9),console['error'](_0x48f4ec(0x705),_0x2e416a),new _0x157cd9(_0x157cd9[_0x48f4ec(0x6cc)][_0x48f4ec(0x369)],{'message':_0x48f4ec(0x705)});return this[_0x48f4ec(0x556)](_0x529b19,_0x1e2335+0x1);}}try{await this[_0x48f4ec(0x853)](_0x32ee5a,_0x529b19[_0x48f4ec(0x974)]+0x1);}catch(_0x4eceda){throw this[_0x48f4ec(0x624)][_0x48f4ec(0xaa3)](_0x53e3c9),_0x4eceda;}if(this[_0x48f4ec(0x624)]['set'](_0x53e3c9,_0x32ee5a),_0x32ee5a[_0x48f4ec(0x990)]<_0x529b19['total'])return;await this[_0x48f4ec(0x433)](_0x53e3c9),this[_0x48f4ec(0x67c)]&&(await this[_0x48f4ec(0x8e5)](_0x529b19),_0x2c9fd4[_0x48f4ec(0x7f7)](_0x58ac15['ObjectStorage'],{'type':_0x48f4ec(0x3b7),'label':this[_0x48f4ec(0x78e)],'nodeId':this['localNode'][_0x48f4ec(0x777)](),'nodeType':this[_0x48f4ec(0x45e)][_0x48f4ec(0x6d8)],'clusterId':this['clusterId'],'kind':_0x4d2150['ObjectKind'][_0x48f4ec(0x3f4)],'path':_0x529b19['path'],'fileName':_0x529b19['name'],'fileType':_0x529b19['type'],'size':_0x32ee5a['bytesReceived']}));const _0x5e0762=this[_0x48f4ec(0x943)][_0x48f4ec(0x1d7)](_0x529b19[_0x48f4ec(0x280)])??[];for(const _0x244041 of _0x5e0762)await this[_0x48f4ec(0xa1f)](_0x244041);this[_0x48f4ec(0x943)][_0x48f4ec(0xaa3)](_0x529b19[_0x48f4ec(0x280)]),this[_0x48f4ec(0x7ec)][_0x48f4ec(0x5bf)]({'event':_0x4d2150[_0x48f4ec(0x95e)][_0x48f4ec(0x260)],'payload':{'file':{'kind':_0x4d2150[_0x48f4ec(0x999)][_0x48f4ec(0x3f4)],'path':_0x529b19[_0x48f4ec(0x280)],'type':_0x529b19['type'],'size':_0x32ee5a[_0x48f4ec(0x2e6)],'name':_0x529b19[_0x48f4ec(0x807)],'pathName':_0x53e3c9,'status':this[_0x48f4ec(0x67c)]?_0x4d2150['FileStatus'][_0x48f4ec(0x99a)]:_0x4d2150[_0x48f4ec(0x419)][_0x48f4ec(0x3f1)]}}}),this[_0x48f4ec(0x6f8)]();}async[_0x3eb455(0x853)](_0x1afa82,_0x320cb8){const _0x41e0ab=_0x3eb455,_0x41fb1c=_0x1afa82[_0x41e0ab(0x2c0)];let _0x3e53f9=0x0;for(;_0x1afa82[_0x41e0ab(0x21f)]&&_0x1afa82[_0x41e0ab(0x21f)]['length']>0x0;){const _0xb60fea=_0x1afa82['bufferedChunks'][_0x41e0ab(0xa41)](_0x3650d1=>_0x3650d1[_0x41e0ab(0x974)]===_0x320cb8+0x1);if(!_0xb60fea)break;_0x1afa82[_0x41e0ab(0x21f)]=_0x1afa82['bufferedChunks'][_0x41e0ab(0x638)](_0x28e05f=>_0x28e05f[_0x41e0ab(0x974)]!==_0x320cb8+0x1);try{await _0x41fb1c[_0x41e0ab(0x45f)](_0xb60fea[_0x41e0ab(0x7b8)]),_0x320cb8++;}catch(_0x8063e8){if(console[_0x41e0ab(0x4f1)](_0x41e0ab(0x89f),_0x8063e8),_0x3e53f9>0x3)throw console['error'](_0x41e0ab(0x928),_0x8063e8),new _0x157cd9(_0x157cd9[_0x41e0ab(0x6cc)][_0x41e0ab(0x369)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x3e53f9++;continue;}_0x1afa82[_0x41e0ab(0x990)]+=0x1,_0x1afa82[_0x41e0ab(0x2e6)]+=_0xb60fea[_0x41e0ab(0x7b8)][_0x41e0ab(0x9dc)];}}async[_0x3eb455(0x377)](_0xefd598){const _0x22ce17=_0x3eb455;await this[_0x22ce17(0x2b4)]['createFolder'](_0xefd598[_0x22ce17(0x280)]);const [_0x371972,_0x7a8a2c]=_0xa9987d(_0xefd598[_0x22ce17(0x280)]);this[_0x22ce17(0x7ec)]['publish']({'event':_0x4d2150['StorageEventType'][_0x22ce17(0x40e)],'payload':{'folder':{'kind':_0x4d2150[_0x22ce17(0x999)]['Folder'],'name':_0x7a8a2c,'path':_0x371972,'pathName':_0xefd598[_0x22ce17(0x280)]}}});}async[_0x3eb455(0x5bb)](_0x27b484,_0x304573=!0x1){const _0x1d8f45=_0x3eb455;if(!_0x304573&&!this['shouldProcessTransaction'](_0x27b484))return;const _0x407455=await this[_0x1d8f45(0x24c)](_0x27b484[_0x1d8f45(0x280)]),[_0x16caea,_0x21fcaa]=_0xa9987d(_0x27b484[_0x1d8f45(0x280)]);this[_0x1d8f45(0x7ec)][_0x1d8f45(0x5bf)]({'event':_0x407455===_0x4d2150[_0x1d8f45(0x999)][_0x1d8f45(0xa73)]?_0x4d2150['StorageEventType'][_0x1d8f45(0xac0)]:_0x4d2150['StorageEventType']['FileDelete'],'payload':{'name':_0x21fcaa,'path':_0x16caea,'pathName':_0x27b484[_0x1d8f45(0x280)]}}),this[_0x1d8f45(0x6f8)]();}async['handleObjectMove'](_0x32669f,_0x5edb30=!0x1){const _0x5057fa=_0x3eb455;if(!_0x5edb30&&!this[_0x5057fa(0x907)](_0x32669f))return this[_0x5057fa(0x623)][_0x5057fa(0x90d)](_0x32669f[_0x5057fa(0x316)],this[_0x5057fa(0x623)][_0x5057fa(0x1d7)](_0x32669f[_0x5057fa(0x280)])??_0x32669f[_0x5057fa(0x280)]),void this[_0x5057fa(0x623)][_0x5057fa(0xaa3)](_0x32669f['path']);this[_0x5057fa(0x623)][_0x5057fa(0xaa3)](_0x32669f[_0x5057fa(0x280)]);const _0x5a7769=await this['objectStoreConnector']['moveObject'](_0x32669f['path'],_0x32669f[_0x5057fa(0x316)]),[_0x165875,_0x247bbe]=_0xa9987d(_0x32669f['path']),[_0x48ff3c,_0x385227]=_0xa9987d(_0x32669f[_0x5057fa(0x316)]);this['eventListener'][_0x5057fa(0x5bf)]({'event':_0x5a7769===_0x4d2150['ObjectKind'][_0x5057fa(0xa73)]?_0x4d2150['StorageEventType'][_0x5057fa(0x312)]:_0x4d2150[_0x5057fa(0x95e)][_0x5057fa(0x535)],'payload':{'name':_0x385227,'path':_0x48ff3c,'pathName':_0x32669f[_0x5057fa(0x316)],'oldName':_0x247bbe,'oldPath':_0x165875,'oldPathName':_0x32669f['path']}}),this['sendStats']();}[_0x3eb455(0x907)](_0x50ae19){const _0xd4919=_0x3eb455,_0x2f9bde=this[_0xd4919(0x623)][_0xd4919(0x1d7)](_0x50ae19[_0xd4919(0x280)])??_0x50ae19[_0xd4919(0x280)];let _0x1407d1=!0x1;for(const _0x1cb50d of this[_0xd4919(0x624)][_0xd4919(0x9c6)]())if(_0x1cb50d[_0xd4919(0x5fb)](_0x2f9bde)){const _0x412b21=this['pendingFilesTransactions'][_0xd4919(0x1d7)](_0x1cb50d)??[];_0x412b21['push'](_0x50ae19),this['pendingFilesTransactions']['set'](_0x1cb50d,_0x412b21),_0x1407d1=!0x0;}return!_0x1407d1;}async['publishTransaction'](_0x4c9b7f){const _0x379fe3=_0x3eb455;if(!_0x4c9b7f['id'])throw new _0x157cd9(_0x157cd9[_0x379fe3(0x6cc)][_0x379fe3(0x369)],{'message':_0x379fe3(0x4f6)});if(_0x4c9b7f[_0x379fe3(0x74f)]!==this[_0x379fe3(0x68f)])throw new _0x157cd9(_0x157cd9['codes'][_0x379fe3(0x389)]);await this[_0x379fe3(0x68c)][_0x379fe3(0x654)](_0x4c9b7f,this['label']),await this[_0x379fe3(0x4a1)](_0x4c9b7f['id']);}async[_0x3eb455(0x4a1)](_0x26de06){const _0x1d73f=_0x3eb455;this[_0x1d73f(0x68f)]=_0x26de06;const _0xd36806=new File([new Blob([this['lastTransactionId']])],_0x53c6d8,{'type':'text/plain'});await this[_0x1d73f(0x8a8)](_0xd36806,'/');}async[_0x3eb455(0xa4a)](_0x59496d){const _0xaedb37=_0x3eb455;try{const _0x1f7307=await this[_0xaedb37(0x1d7)](_0x59496d[_0xaedb37(0x280)]+'/'+_0x59496d[_0xaedb37(0x807)],{'skipEncryption':_0x59496d['skipEncryption']}),_0x5e69a2=await _0x5a7452(_0x1f7307);if(''!==_0x59496d[_0xaedb37(0x503)]&&_0x5e69a2!==_0x59496d[_0xaedb37(0x503)])return;_0x59496d[_0xaedb37(0x350)]=this['localNode'][_0xaedb37(0x777)](),_0x59496d[_0xaedb37(0x6f7)]=_0x449ca4[_0xaedb37(0x6a2)],await this['send'](_0x59496d,[_0x59496d[_0xaedb37(0x947)]]);}catch(_0x3f3816){}}async[_0x3eb455(0x375)](_0x2ec508){const _0x1f14de=_0x3eb455,_0x4d7269=_0x522bf0(_0x2ec508['path'],_0x2ec508[_0x1f14de(0x807)]);if(!this[_0x1f14de(0x3ce)]['has'](_0x4d7269))return;const _0x15ee96=this[_0x1f14de(0x3ce)][_0x1f14de(0x1d7)](_0x4d7269);_0x15ee96[_0x1f14de(0x6f7)]=_0x449ca4[_0x1f14de(0x3bb)];const _0x4c2d79=_0x2ec508[_0x1f14de(0x350)];if(!_0x4c2d79)throw new _0x157cd9(_0x157cd9['codes'][_0x1f14de(0x369)],{'message':_0x1f14de(0x79d)});if(this['objectRequests'][_0x1f14de(0xaa3)](_0x4d7269),this[_0x1f14de(0x74e)]['has'](_0x4c2d79)||this[_0x1f14de(0x74e)][_0x1f14de(0x90d)](_0x4c2d79,new Map()),this['pendingFilesSyncing']['get'](_0x4c2d79)[_0x1f14de(0x90d)](_0x4d7269,[_0x15ee96,this[_0x1f14de(0x9d9)](_0x4c2d79,_0x4d7269)]),_0x15ee96[_0x1f14de(0x350)]=_0x4c2d79,_0x15ee96['startIndex']=this[_0x1f14de(0x624)][_0x1f14de(0x1d7)](_0x4d7269)?.[_0x1f14de(0x990)]??0x0,0x0===_0x15ee96['startIndex'])try{const [_0x2358db,_0x1f5568]=await this[_0x1f14de(0x550)](_0x2ec508[_0x1f14de(0x807)],_0x2ec508['path'],_0x2ec508[_0x1f14de(0x503)]);_0x2358db&&(_0x15ee96['startIndex']=_0x1f5568);}catch(_0xfe6d06){}this[_0x1f14de(0x307)](_0x15ee96,[_0x4c2d79]);}async[_0x3eb455(0x1af)](_0x9dbc){const _0x1b7940=_0x3eb455,_0x5763e3=_0x522bf0(_0x9dbc[_0x1b7940(0x280)],_0x9dbc[_0x1b7940(0x807)]),_0x580466=await this[_0x1b7940(0x1d7)](_0x5763e3,{'skipEncryption':_0x9dbc[_0x1b7940(0x8d1)]}),_0x1e7cdb={..._0x9dbc,'answererId':this[_0x1b7940(0x45e)][_0x1b7940(0x777)](),'action':_0x449ca4[_0x1b7940(0x1f8)],'startIndex':_0x9dbc[_0x1b7940(0x234)]??0x0};await this[_0x1b7940(0x484)](_0x580466,_0x1e7cdb,[_0x9dbc[_0x1b7940(0x947)]]);}async[_0x3eb455(0x484)](_0x499664,_0x4fa4d2,_0x10d070){let _0x293fa3,_0xcecb1c;const _0x166830=new Promise(async(_0x4fbbcb,_0x287a17)=>{_0x293fa3=_0x4fbbcb,_0xcecb1c=_0x287a17;});return((async()=>{const _0x56c057=a0_0x12d8,_0x5e7f50=Math[_0x56c057(0x4cf)](_0x499664[_0x56c057(0xa95)]/_0x188a1d);let _0x484208=_0x4fa4d2[_0x56c057(0x234)]??0x0;const _0xc72855=_0x522bf0(_0x4fa4d2[_0x56c057(0x280)],_0x4fa4d2[_0x56c057(0x807)]);this[_0x56c057(0xa1a)][_0x56c057(0x90d)](_0xc72855,[!0x1,_0x166830]);for await(const _0x1a3186 of async function*(_0x28b6f6,_0x5012fe=0x0,_0x3330f8){for await(const _0x4c3357 of _0x1f4862(_0x28b6f6,_0x5012fe,_0x3330f8))yield _0x4c3357;}(_0x499664,_0x484208,this[_0x56c057(0x998)])){const [_0x20014f]=this[_0x56c057(0xa1a)][_0x56c057(0x1d7)](_0xc72855)??[];if(_0x20014f)return this[_0x56c057(0xa1a)][_0x56c057(0xaa3)](_0xc72855),void _0xcecb1c(new Error(_0x56c057(0x22d)));if(this[_0x56c057(0x943)][_0x56c057(0x8c7)](_0xc72855)){const _0x269bc5=this['pendingFilesTransactions'][_0x56c057(0x1d7)](_0xc72855);for(const _0x540ff6 of _0x269bc5)if(_0x540ff6[_0x56c057(0x6f7)]===_0x449ca4[_0x56c057(0x260)]||_0x540ff6['action']===_0x449ca4['Delete'])return;}const _0x1c4a46={..._0x4fa4d2,'type':_0x499664[_0x56c057(0x6d8)],'data':_0x1a3186,'index':_0x484208,'total':_0x5e7f50};this[_0x56c057(0x307)](_0x1c4a46,_0x10d070),_0x484208++;}const _0xd55ffd=setInterval(async()=>{await this['waitForArrayBufferSize']()>0x0||(clearInterval(_0xd55ffd),_0x293fa3());});this[_0x56c057(0xa1a)]['delete'](_0xc72855);})()),_0x166830;}async[_0x3eb455(0x8e5)](_0x250ffa){const _0x194e54=_0x3eb455;try{const _0x15dd78=_0x522bf0(_0x250ffa[_0x194e54(0x280)],_0x250ffa['name']),_0x57f1f0=_0x15dd78+_0x1e1c27;await this[_0x194e54(0x24c)](_0x57f1f0);const [,_0x485cf9]=this[_0x194e54(0x74e)][_0x194e54(0x1d7)](_0x250ffa[_0x194e54(0x350)])?.[_0x194e54(0x1d7)](_0x15dd78)??[];_0x485cf9&&(clearTimeout(_0x485cf9),this[_0x194e54(0x74e)][_0x194e54(0x1d7)](_0x250ffa[_0x194e54(0x350)])['delete'](_0x15dd78));}catch(_0x59504a){}0x0===this[_0x194e54(0x74e)]['get'](_0x250ffa[_0x194e54(0x350)])?.['size']&&this['pendingFilesSyncing'][_0x194e54(0xaa3)](_0x250ffa[_0x194e54(0x350)]),0x0===this[_0x194e54(0x74e)][_0x194e54(0xa95)]&&0x0===this[_0x194e54(0x3ce)][_0x194e54(0xa95)]&&this[_0x194e54(0x7cc)]();}async['syncTransactions'](){const _0x429aa1=_0x3eb455;try{const _0x580798=await this[_0x429aa1(0x68c)][_0x429aa1(0x5ad)](this['label'],this[_0x429aa1(0x68f)]);for(const _0x1891d8 of _0x580798)await this[_0x429aa1(0xad1)](_0x1891d8,!0x0);}catch(_0x50d1d3){if(_0x50d1d3 instanceof _0x157cd9&&_0x50d1d3['code']===_0x157cd9[_0x429aa1(0x6cc)]['ObjectStoreInvalidState']){await this[_0x429aa1(0x2b4)][_0x429aa1(0x24c)](_0x53c6d8),delete this[_0x429aa1(0x68f)];try{const _0xc54a03=await this[_0x429aa1(0x2b4)][_0x429aa1(0xa65)]('/',!0x1);for(const _0x390a5d of _0xc54a03)await this[_0x429aa1(0x2b4)][_0x429aa1(0x24c)](_0x390a5d['pathName']);}catch(_0xeb62ad){}return await this[_0x429aa1(0x1f3)]();}throw _0x50d1d3;}}async[_0x3eb455(0x323)](){const _0x2d968c=_0x3eb455,_0x20c6af=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x55695d=async _0x216f36=>{const _0x4c1047=a0_0x12d8;for(const _0x2e0e0d of _0x216f36){if(_0x2e0e0d[_0x4c1047(0x2bc)]===_0x4d2150[_0x4c1047(0x999)][_0x4c1047(0xa73)]){_0x2e0e0d[_0x4c1047(0x858)]&&_0x2e0e0d['entries'][_0x4c1047(0x3ed)]>0x0&&await _0x55695d(_0x2e0e0d[_0x4c1047(0x858)]);continue;}if(_0x2e0e0d[_0x4c1047(0x1e8)]!==_0x4d2150[_0x4c1047(0x419)][_0x4c1047(0x3f1)])continue;const _0x1b9866=await this[_0x4c1047(0x1d7)](_0x2e0e0d['pathName']+_0x1e1c27),_0x2d6a32=JSON[_0x4c1047(0x55e)](await _0x1b9866[_0x4c1047(0x442)]()),_0x34e875=_0x2e0e0d[_0x4c1047(0x807)][_0x4c1047(0x4d4)](_0x1e1c27,''),_0x223439={'payloadType':_0x5bb08a[_0x4c1047(0xad3)],'action':_0x449ca4['RequestFile'],'sourceId':this[_0x4c1047(0x45e)][_0x4c1047(0x777)](),'type':'','path':_0x2e0e0d[_0x4c1047(0x280)],'name':_0x34e875,'checksum':_0x2d6a32[_0x4c1047(0x503)],'skipEncryption':_0x2d6a32[_0x4c1047(0x8d1)]},_0x12b1cf=_0x522bf0(_0x2e0e0d['path'],_0x34e875);this['objectRequests'][_0x4c1047(0x90d)](_0x12b1cf,_0x223439);}};await _0x55695d(_0x20c6af),0x0===this[_0x2d968c(0x3ce)][_0x2d968c(0xa95)]&&0x0===this[_0x2d968c(0x74e)][_0x2d968c(0xa95)]&&this['completeSync']();}async[_0x3eb455(0x8f0)](_0x4da7fd,_0x1a67fe,_0x227a63){const _0xb49917=_0x3eb455,_0x14fc4f=new File([new Blob([JSON['stringify'](_0x227a63)])],''+_0x4da7fd+_0x1e1c27,{'type':_0xb49917(0x5ce)});await this[_0xb49917(0x8a8)](_0x14fc4f,_0x1a67fe);}async['checkExistingPendingFileContent'](_0x1102a2,_0x5f0774,_0x449ca0){const _0x2b6df0=_0x3eb455;try{const _0x3a13cd=_0x522bf0(_0x5f0774,_0x1102a2),_0x32b2c9=_0x3a13cd+_0x1e1c27,_0x1f2e1c=await this[_0x2b6df0(0x2b4)]['get'](_0x32b2c9),{checksum:_0x15e40d,skipEncryption:_0x5329da}=JSON[_0x2b6df0(0x55e)](await _0x1f2e1c[_0x2b6df0(0x442)]()),_0x31a1e5=(await this[_0x2b6df0(0x2b4)]['get'](_0x3a13cd,{'skipEncryption':_0x5329da}))[_0x2b6df0(0xa95)];return _0x15e40d===_0x449ca0&&_0x31a1e5%_0x188a1d==0x0?[!0x0,Math[_0x2b6df0(0x2d6)](_0x31a1e5/_0x188a1d)]:(await this[_0x2b6df0(0x2b4)][_0x2b6df0(0x24c)](_0x3a13cd),[!0x1,0x0]);}catch(_0x4b10fc){return[!0x1,0x0];}}[_0x3eb455(0x9d9)](_0x20cc86,_0x5308ef){const _0x411614=_0x3eb455,[_0x9fdd35,_0x456591]=this[_0x411614(0x74e)][_0x411614(0x1d7)](_0x20cc86)?.[_0x411614(0x1d7)](_0x5308ef)??[];return _0x456591&&clearTimeout(_0x456591),setTimeout(()=>{const _0x4b7472=_0x411614,[_0x501eb9,_0x33fd30]=this[_0x4b7472(0x74e)][_0x4b7472(0x1d7)](_0x20cc86)[_0x4b7472(0x1d7)](_0x5308ef);this[_0x4b7472(0x54c)](_0x501eb9,_0x33fd30);},0x927c0);}async[_0x3eb455(0x54c)](_0x59bb49,_0x534452){const _0x3e0863=_0x3eb455;clearTimeout(_0x534452),_0x59bb49['action']=_0x449ca4[_0x3e0863(0x77f)],this['objectRequests']['set'](_0x522bf0(_0x59bb49[_0x3e0863(0x280)],_0x59bb49[_0x3e0863(0x807)]),_0x59bb49),this['send'](_0x59bb49);}['setPendingFileSyncingPayload'](_0x4acf41,_0x134fe6){const _0x4249a9=_0x3eb455;if(!this['syncContent'])return;this[_0x4249a9(0x74e)][_0x4249a9(0x8c7)](_0x4acf41[_0x4249a9(0x350)])||this['pendingFilesSyncing'][_0x4249a9(0x90d)](_0x4acf41[_0x4249a9(0x350)],new Map());const [_0x11bc4c]=this[_0x4249a9(0x74e)]['get'](_0x4acf41[_0x4249a9(0x350)])[_0x4249a9(0x1d7)](_0x134fe6)??[{'payloadType':_0x5bb08a[_0x4249a9(0xad3)],'action':_0x449ca4[_0x4249a9(0x77f)],'sourceId':this[_0x4249a9(0x45e)]['getId'](),'type':_0x4acf41[_0x4249a9(0x6d8)],'name':_0x4acf41['name'],'path':_0x4acf41['path'],'skipEncryption':_0x4acf41['skipEncryption'],'checksum':_0x4acf41[_0x4249a9(0x503)],'answererId':_0x4acf41[_0x4249a9(0x350)]}];this[_0x4249a9(0x74e)][_0x4249a9(0x1d7)](_0x4acf41[_0x4249a9(0x350)])[_0x4249a9(0x90d)](_0x134fe6,[_0x11bc4c,this[_0x4249a9(0x9d9)](_0x4acf41[_0x4249a9(0x350)],_0x134fe6)]);}async[_0x3eb455(0x8a8)](_0x38d13e,_0x175d0b,_0x5aaf56){const _0x1e6720=_0x3eb455;this[_0x1e6720(0xace)]&&(this['filesSynced']+=0x1),await this[_0x1e6720(0x2b4)][_0x1e6720(0x8a8)](_0x38d13e,_0x175d0b,_0x5aaf56);}async[_0x3eb455(0x24c)](_0xd09c9d){const _0x12ed24=_0x3eb455;try{const _0x4ca4de=await this[_0x12ed24(0x2b4)][_0x12ed24(0x24c)](_0xd09c9d);if(!_0xd09c9d[_0x12ed24(0x3d0)](_0x1e1c27))try{await this['objectStoreConnector'][_0x12ed24(0x24c)](_0xd09c9d+_0x1e1c27);}catch(_0x13524d){}return this[_0x12ed24(0xace)]&&_0x4ca4de===_0x4d2150[_0x12ed24(0x999)][_0x12ed24(0x3f4)]&&(this['filesSynced']+=0x1),_0x4ca4de;}catch(_0x164c49){return await this[_0x12ed24(0x2b4)][_0x12ed24(0x24c)](_0xd09c9d+_0x1e1c27);}}async[_0x3eb455(0x7e7)](_0x51362a,_0x999e1c){const _0x43de18=_0x3eb455;try{const _0x53cc60=await this[_0x43de18(0x2b4)]['moveObject'](_0x51362a,_0x999e1c);if(!_0x51362a['endsWith'](_0x1e1c27))try{await this[_0x43de18(0x2b4)][_0x43de18(0x7e7)](_0x51362a+_0x1e1c27,_0x999e1c+_0x1e1c27);}catch(_0x450a5c){}return _0x53cc60;}catch(_0x39be53){return await this[_0x43de18(0x2b4)]['moveObject'](_0x51362a+_0x1e1c27,_0x999e1c+_0x1e1c27);}}[_0x3eb455(0x6f8)](){const _0x264273=_0x3eb455;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x264273(0x6da)]=setTimeout(async()=>{const _0x3276d0=_0x264273;delete this[_0x3276d0(0x6da)];const _0x3d672f=await this[_0x3276d0(0x2b4)][_0x3276d0(0x21d)]('/');this[_0x3276d0(0x73b)]?.['publish']({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x3276d0(0x7dc)],'content':{'type':_0x2862db[_0x3276d0(0x225)],'label':this[_0x3276d0(0x78e)],'stats':{'timestamp':Date[_0x3276d0(0xa6a)](),'storage':_0x3d672f,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x3276d0(0x41b)],'bytesSent':this[_0x3276d0(0x811)],'bytesReceived':this[_0x3276d0(0x2e6)],'writes':this[_0x3276d0(0x704)],'reads':this[_0x3276d0(0x608)],'prompts':0x0,'tokens':0x0}}}),this[_0x3276d0(0x67c)]&&_0x2c9fd4['logStorage'](_0x58ac15[_0x3276d0(0xa6f)],_0x3276d0(0x6cd)+this[_0x3276d0(0x9ac)]+_0x3276d0(0x6cd)+this[_0x3276d0(0x78e)],_0x3d672f);},_0x37461b);}async['syncedFileExists'](_0x284cb1){const _0x354496=_0x3eb455;try{return await this[_0x354496(0x1d7)](_0x284cb1),!0x0;}catch(_0x457a64){return!0x1;}}async[_0x3eb455(0x433)](_0x33159a){const _0x497598=_0x3eb455;if(!this[_0x497598(0x624)][_0x497598(0x8c7)](_0x33159a))return;const _0x51e776=this[_0x497598(0x624)][_0x497598(0x1d7)](_0x33159a);if(_0x51e776[_0x497598(0x2c0)])try{await _0x51e776[_0x497598(0x2c0)][_0x497598(0x579)]();}catch(_0x2bf478){console[_0x497598(0x4f1)]('Error\x20closing\x20writable\x20stream',_0x2bf478);}this['fileChunks']['delete'](_0x33159a);}}class _0x46bb9a extends _0x2f8302{[_0x3eb455(0x45e)];[_0x3eb455(0x9ac)];[_0x3eb455(0x963)]=new Map();['debounceStats'];constructor(_0x304972,_0x22dced,_0xbcca61){const _0x582fff=_0x3eb455;if('string'!=typeof _0x22dced)throw new _0x5669b1(_0x3ed137[_0x582fff(0x8f2)],_0x582fff(0x44c));super(_0x304972,_0x22dced),this[_0x582fff(0x45e)]=_0x304972,this[_0x582fff(0x9ac)]=_0xbcca61,this['sendStats']();}['reset'](){const _0x226e9b=_0x3eb455;this[_0x226e9b(0x6f8)]();}[_0x3eb455(0x41e)](){const _0x568a47=_0x3eb455;return _0x4d2150[_0x568a47(0x9a5)][_0x568a47(0x23d)];}[_0x3eb455(0x5bf)](_0x4a28e8,_0x5d7ea2){const _0x1cb96e=_0x3eb455;_0x2c9fd4[_0x1cb96e(0x2f3)](_0x51c80b['PubSub'],_0x1cb96e(0x5a5),this['localNode'][_0x1cb96e(0x777)](),_0x4a28e8,_0x5d7ea2),_0x2c9fd4['logServiceEvent'](_0x58ac15['PubSub'],{'type':'publish','label':this[_0x1cb96e(0x78e)],'nodeId':this[_0x1cb96e(0x45e)][_0x1cb96e(0x777)](),'nodeType':this[_0x1cb96e(0x45e)]['type'],'clusterId':this['clusterId'],'remoteIds':_0x5d7ea2??[],'contentType':_0x4a28e8 instanceof File?_0x4d2150[_0x1cb96e(0x9a5)][_0x1cb96e(0x3f4)]:_0x4d2150['ContentType']['Data'],'size':_0x4a28e8 instanceof File?_0x4a28e8[_0x1cb96e(0xa95)]:JSON[_0x1cb96e(0x845)](_0x4a28e8)['length']}),this['sendStats'](),this[_0x1cb96e(0x307)](_0x4a28e8,_0x5d7ea2);}[_0x3eb455(0x79f)](_0x96ad77,_0x253df6){const _0x10ea09=_0x3eb455;if(this[_0x10ea09(0x963)]['has'](_0x96ad77))throw new _0x5669b1(_0x3ed137[_0x10ea09(0xa10)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0x10ea09(0x963)][_0x10ea09(0x90d)](_0x96ad77,this[_0x10ea09(0xa3d)]((_0x38dff8,_0x4adaf2)=>{const _0x172659=_0x10ea09;_0x172659(0x7b8)===_0x96ad77&&_0x4adaf2 instanceof File||!(_0x172659(0x7a0)!==_0x96ad77||_0x4adaf2 instanceof File)||(_0x2c9fd4[_0x172659(0x2f3)](_0x51c80b[_0x172659(0x23d)],_0x172659(0x5f5),this[_0x172659(0x45e)][_0x172659(0x777)](),_0x38dff8,_0x4adaf2),_0x2c9fd4['logServiceEvent'](_0x58ac15[_0x172659(0x23d)],{'type':_0x172659(0x79f),'label':this['label'],'nodeId':this[_0x172659(0x45e)][_0x172659(0x777)](),'nodeType':this[_0x172659(0x45e)]['type'],'clusterId':this[_0x172659(0x9ac)],'remoteId':_0x38dff8,'contentType':_0x96ad77,'size':_0x4adaf2 instanceof File?_0x4adaf2['size']:JSON[_0x172659(0x845)](_0x4adaf2)['length']}),this['sendStats'](),_0x253df6(_0x38dff8,_0x4adaf2));}));}[_0x3eb455(0x421)](_0x241c36){const _0x34c316=_0x3eb455;this[_0x34c316(0x963)][_0x34c316(0x1d7)](_0x241c36)?.(),this[_0x34c316(0x963)][_0x34c316(0xaa3)](_0x241c36);}[_0x3eb455(0x51b)](){const _0x1496f4=_0x3eb455;this[_0x1496f4(0x963)][_0x1496f4(0x9d2)](_0xd80f2=>_0xd80f2()),clearTimeout(this[_0x1496f4(0x6da)]),delete this[_0x1496f4(0x6da)],super[_0x1496f4(0x51b)]();}[_0x3eb455(0x579)](){const _0xe2c30=_0x3eb455;this[_0xe2c30(0x73b)]?.[_0xe2c30(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0xe2c30(0x7dc)],'content':{'type':_0x2862db['ClosePubSubTopic'],'label':this[_0xe2c30(0x78e)]}});}[_0x3eb455(0x6f8)](){const _0x59b554=_0x3eb455;this[_0x59b554(0x6da)]&&clearTimeout(this[_0x59b554(0x6da)]),this['debounceStats']=setTimeout(()=>{const _0x121146=_0x59b554;this[_0x121146(0x73b)]?.[_0x121146(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x121146(0x7dc)],'content':{'type':_0x2862db[_0x121146(0x643)],'label':this[_0x121146(0x78e)],'stats':{'timestamp':Date[_0x121146(0xa6a)](),'storage':0x0,'messagesSent':this[_0x121146(0x9fe)],'messagesReceived':this[_0x121146(0x41b)],'bytesSent':this[_0x121146(0x811)],'bytesReceived':this[_0x121146(0x2e6)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x37461b);}}class _0x1a50fd extends _0x12caba{[_0x3eb455(0x45e)];['internalId'];['availableTrackKinds'];[_0x3eb455(0x9ac)];[_0x3eb455(0x963)];[_0x3eb455(0x94e)];['updateDebounce'];['outgoingStreams']=new Map();['renderElement'];[_0x3eb455(0xa36)]=new Set();[_0x3eb455(0x2b5)];[_0x3eb455(0x8ed)]=_0x2bf9b6();[_0x3eb455(0x45b)]=new Map();constructor(_0xf5f19d,_0x2d2e48,_0x2177ce,_0x3510cf,_0x3865ee,_0x38084c){const _0x5cdf1a=_0x3eb455;super(_0x2d2e48,_0x2177ce,new MediaStream()),this[_0x5cdf1a(0x45e)]=_0xf5f19d,this[_0x5cdf1a(0x801)]=_0x3510cf,this['availableTrackKinds']=_0x3865ee,this['clusterId']=_0x38084c,this[_0x5cdf1a(0x7c9)]['getTracks']()[_0x5cdf1a(0x9d2)](_0xfd3e2e=>this[_0x5cdf1a(0x6b1)](_0xfd3e2e));}[_0x3eb455(0x51b)](){const _0x541c1e=_0x3eb455;this['outgoingStreams']['size']>0x0&&(this[_0x541c1e(0x981)][_0x541c1e(0x9d2)](_0x753332=>{const _0x83ddbe=_0x541c1e;_0x753332[_0x83ddbe(0x416)](),_0x753332[_0x83ddbe(0x51b)]();}),this[_0x541c1e(0x981)][_0x541c1e(0xa0e)]()),this[_0x541c1e(0x45b)][_0x541c1e(0x9d2)](_0x479c82=>_0x479c82()),this[_0x541c1e(0x7c9)][_0x541c1e(0x7e6)]()[_0x541c1e(0x9d2)](_0x429e44=>this['mediaStream'][_0x541c1e(0x8b0)](_0x429e44)),this['updateDebounce']&&(clearTimeout(this['updateDebounce']),delete this[_0x541c1e(0x3a7)]),this[_0x541c1e(0x94e)]?.(),super[_0x541c1e(0x51b)]();}[_0x3eb455(0x60b)](_0x3454f5){const _0x2d81e9=_0x3eb455;this['unsubscribeHandler']=_0x3454f5[_0x2d81e9(0x79f)](({content:_0x460045})=>{const _0x508516=_0x2d81e9;switch(_0x460045[_0x508516(0x6f7)]){case _0x18ab1b['RemoteAdd']:if(_0x2c9fd4[_0x508516(0x2f3)](_0x51c80b[_0x508516(0x4bc)],_0x508516(0x38e),this[_0x508516(0x45e)][_0x508516(0x777)](),this[_0x508516(0x2b5)]),_0x460045['stream']['id']!==this['internalId']||_0x460045[_0x508516(0x2b5)]!==this[_0x508516(0x2b5)])return;this['removeTrack'](_0x460045[_0x508516(0x296)][_0x508516(0x2bc)]),this['mediaStream'][_0x508516(0x90a)](_0x460045[_0x508516(0x296)]);for(const [_0x1eed0f,_0x48b662]of this['outgoingStreams'][_0x508516(0x858)]())try{_0x48b662[_0x508516(0x90a)](_0x460045['track']);}catch(_0x42cd9b){_0x48b662[_0x508516(0x51b)](),this[_0x508516(0x981)]['delete'](_0x1eed0f);}this[_0x508516(0x6b1)](_0x460045[_0x508516(0x296)]),this['setupRenderElement'](),_0x508516(0x2e1)===_0x460045['track']['kind']&&this[_0x508516(0x201)]&&(this[_0x508516(0x7c9)]['active']?setTimeout(()=>this['renderElement']?.[_0x508516(0x8e8)](),0x0):setTimeout(()=>this[_0x508516(0x201)]?.[_0x508516(0x4f4)](),0x0),this[_0x508516(0x970)]());break;case _0x18ab1b['RemoteRemove']:if(_0x460045[_0x508516(0x2c0)]['id']!==this[_0x508516(0x801)]||_0x460045['providerId']!==this[_0x508516(0x2b5)])return;this[_0x508516(0x8b0)](_0x460045[_0x508516(0x296)][_0x508516(0x2bc)]),this['renderElement']&&_0x508516(0x2e1)===_0x460045[_0x508516(0x296)][_0x508516(0x2bc)]&&(this['resizeHandler']?.(),this[_0x508516(0x7c9)][_0x508516(0x7e6)]()[_0x508516(0x3ed)]>0x0?this[_0x508516(0x201)][_0x508516(0x4f4)]():this[_0x508516(0x201)][_0x508516(0x3ca)]=null);}});}['unregisterSubscriber'](){const _0x43da4d=_0x3eb455;this[_0x43da4d(0x963)]?.(),this['trackEndedListeners']['forEach'](_0x13178c=>_0x13178c()),delete this[_0x43da4d(0x963)];}[_0x3eb455(0x37a)](){const _0x2854a1=_0x3eb455;return this[_0x2854a1(0x801)];}[_0x3eb455(0x48b)](_0xcbab88){const _0x21c14d=_0x3eb455;this[_0x21c14d(0x801)]=_0xcbab88;}['getAvailableTrackKinds'](){const _0x2561c9=_0x3eb455;return this[_0x2561c9(0x334)];}[_0x3eb455(0x47b)](_0x3eff42){const _0x2a6119=_0x3eb455;for(const _0x215440 of _0x3eff42||this[_0x2a6119(0x334)])if(!this[_0x2a6119(0x7c9)][_0x2a6119(0x7e6)]()[_0x2a6119(0xa41)](_0x1998c5=>_0x1998c5['kind']===_0x215440))return!0x1;return!0x0;}[_0x3eb455(0xa83)](){const _0x349159=_0x3eb455;let _0x3c9fc5={'width':0x0,'height':0x0};const _0x17a024=this[_0x349159(0x7c9)][_0x349159(0x345)]();if(_0x17a024[_0x349159(0x3ed)]>0x0){const _0x5c679e=_0x17a024[0x0]['getSettings']();_0x5c679e[_0x349159(0x33f)]&&_0x5c679e[_0x349159(0x572)]&&(_0x3c9fc5={'width':_0x5c679e[_0x349159(0x33f)],'height':_0x5c679e[_0x349159(0x572)]});}return _0x3c9fc5;}[_0x3eb455(0x1f7)](_0x31d057){const _0x3ae4ee=_0x3eb455;for(const _0x5d85dc of _0x31d057)if(!this['subscribedTracks'][_0x3ae4ee(0x8c7)](_0x5d85dc))return!0x1;return!0x0;}[_0x3eb455(0x8ee)](_0x4f2b61,_0x29486e){const _0x2be8ed=_0x3eb455;if(!this[_0x2be8ed(0x981)]['has'](_0x4f2b61)){const _0x291cee=new _0x409131(this['owner'],this[_0x2be8ed(0x78e)],this['mediaStream'],_0x4f2b61,_0x29486e),_0x4bbae9=_0x291cee['onUnregisterPublisher'](()=>{const _0x59e677=_0x2be8ed;_0x4bbae9(),this[_0x59e677(0x981)][_0x59e677(0x1d7)](_0x4f2b61)?.['destroy'](),this[_0x59e677(0x981)][_0x59e677(0xaa3)](_0x4f2b61);});this[_0x2be8ed(0x981)][_0x2be8ed(0x90d)](_0x4f2b61,_0x291cee),_0x291cee[_0x2be8ed(0x734)](this['systemTopic']);}return this[_0x2be8ed(0x981)][_0x2be8ed(0x1d7)](_0x4f2b61);}[_0x3eb455(0x231)](){const _0x38dc56=_0x3eb455;return this[_0x38dc56(0x7c9)]['id'];}[_0x3eb455(0x4c4)](){const _0x46ea6a=_0x3eb455;return _0x4d2150[_0x46ea6a(0xa88)][_0x46ea6a(0x4e0)];}[_0x3eb455(0x75b)](){const _0x359783=_0x3eb455;return Array['from'](this[_0x359783(0xa36)]);}[_0x3eb455(0x79f)](_0x8bb5c2){const _0x1ecbb2=_0x3eb455;let _0xa664af=[];if(_0x8bb5c2){_0x1ecbb2(0x1d4)!=typeof _0x8bb5c2[_0x1ecbb2(0x2e1)]||_0x8bb5c2['video'][_0x1ecbb2(0x201)]instanceof HTMLVideoElement||!this[_0x1ecbb2(0x201)]||(_0x8bb5c2['video']={'renderElement':this[_0x1ecbb2(0x201)]});try{(0x0,_0x4d2150[_0x1ecbb2(0x245)])(_0x8bb5c2);}catch(_0x3e1905){throw new _0x5669b1(_0x3ed137[_0x1ecbb2(0x404)],_0x1ecbb2(0x1e0));}_0x8bb5c2[_0x1ecbb2(0x2e1)]&&(_0xa664af[_0x1ecbb2(0x69a)](_0x1ecbb2(0x2e1)),_0x1ecbb2(0x6c9)!=typeof _0x8bb5c2['video']&&_0x8bb5c2[_0x1ecbb2(0x2e1)][_0x1ecbb2(0x201)]&&(this[_0x1ecbb2(0x201)]=_0x8bb5c2[_0x1ecbb2(0x2e1)][_0x1ecbb2(0x201)],_0x8bb5c2['video'][_0x1ecbb2(0x3db)]||(_0x8bb5c2[_0x1ecbb2(0x2e1)][_0x1ecbb2(0x3db)]={'width':this[_0x1ecbb2(0x201)][_0x1ecbb2(0x5b8)],'height':this[_0x1ecbb2(0x201)][_0x1ecbb2(0x982)]}),delete _0x8bb5c2[_0x1ecbb2(0x2e1)][_0x1ecbb2(0x201)])),_0x8bb5c2[_0x1ecbb2(0x66c)]&&_0xa664af[_0x1ecbb2(0x69a)](_0x1ecbb2(0x66c));}else _0xa664af=this[_0x1ecbb2(0x9bd)]();this['isSubscribed'](_0xa664af)||(_0xa664af[_0x1ecbb2(0x9d2)](_0x2cf290=>this[_0x1ecbb2(0xa36)]['add'](_0x2cf290)),this[_0x1ecbb2(0x73b)]['publish']({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x1ecbb2(0x7dc)],'content':{'type':_0x2862db[_0x1ecbb2(0x449)],'label':this['label'],'ownerId':this['owner'][_0x1ecbb2(0x777)](),'trackKinds':_0xa664af,'params':_0x8bb5c2}}),_0x2c9fd4[_0x1ecbb2(0x7f7)](_0x58ac15[_0x1ecbb2(0x92c)],{'type':_0x1ecbb2(0x79f),'label':this[_0x1ecbb2(0x78e)],'nodeId':this['localNode'][_0x1ecbb2(0x777)](),'nodeType':this[_0x1ecbb2(0x45e)][_0x1ecbb2(0x6d8)],'clusterId':this[_0x1ecbb2(0x9ac)],'sourceId':this[_0x1ecbb2(0x7c7)]['getId'](),'streamId':this[_0x1ecbb2(0x801)],'trackKinds':_0xa664af}));}['update'](_0x57e757){const _0x9d1e49=_0x3eb455;try{(0x0,_0x4d2150['isValidMediaSubscriptionParams'])(_0x57e757);}catch(_0x492d89){throw new _0x5669b1(_0x3ed137[_0x9d1e49(0x404)],_0x9d1e49(0x1e0));}this[_0x9d1e49(0x3a7)]&&clearTimeout(this[_0x9d1e49(0x3a7)]),this[_0x9d1e49(0x3a7)]=setTimeout(()=>{const _0x38ff52=_0x9d1e49;delete this['updateDebounce'],this['systemTopic'][_0x38ff52(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x38ff52(0x7dc)],'content':{'type':_0x2862db[_0x38ff52(0x74c)],'label':this[_0x38ff52(0x78e)],'ownerId':this[_0x38ff52(0x7c7)][_0x38ff52(0x777)](),'params':_0x57e757}});},0x1f4);}[_0x3eb455(0x421)](_0x27bf2c){const _0x37362a=_0x3eb455;_0x27bf2c||(_0x27bf2c=this[_0x37362a(0x9bd)]()),(_0x27bf2c=Array[_0x37362a(0xa02)](_0x27bf2c)?_0x27bf2c:[_0x27bf2c])[_0x37362a(0x9d2)](_0x2a666c=>this[_0x37362a(0xa36)][_0x37362a(0xaa3)](_0x2a666c)),this[_0x37362a(0x73b)]['publish']({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x37362a(0x7dc)],'content':{'type':_0x2862db[_0x37362a(0x3d3)],'label':this[_0x37362a(0x78e)],'ownerId':this[_0x37362a(0x7c7)][_0x37362a(0x777)](),'trackKinds':_0x27bf2c,'remainingTracks':this[_0x37362a(0xa36)][_0x37362a(0xa95)]}});}[_0x3eb455(0x89c)](_0x80c7){const _0x477b4c=_0x3eb455;return this[_0x477b4c(0x8ed)][_0x477b4c(0x79f)](_0x80c7);}[_0x3eb455(0x7b6)](){const _0x9dd4f=_0x3eb455;return this[_0x9dd4f(0x2b5)];}[_0x3eb455(0x1c3)](_0x5058f1){const _0x28a78d=_0x3eb455;this[_0x28a78d(0x2b5)]!==_0x5058f1&&(this[_0x28a78d(0x2b5)]=_0x5058f1,this[_0x28a78d(0x8ed)][_0x28a78d(0x5bf)](_0x5058f1));}[_0x3eb455(0x901)](_0xb607b7){const _0x2896d1=_0x3eb455;this[_0x2896d1(0x45b)]['get'](_0xb607b7)?.(),this[_0x2896d1(0x45b)][_0x2896d1(0xaa3)](_0xb607b7);}[_0x3eb455(0x8b0)](_0x378758){const _0x4284c8=_0x3eb455,_0x2988fe=this[_0x4284c8(0x7c9)]['getTracks']()[_0x4284c8(0xa41)](_0x16984b=>_0x16984b['kind']===_0x378758);_0x2988fe&&(this[_0x4284c8(0x7c9)][_0x4284c8(0x8b0)](_0x2988fe),this[_0x4284c8(0x981)]['forEach'](_0x192c67=>_0x192c67[_0x4284c8(0x8b0)](_0x378758)),this[_0x4284c8(0x45b)][_0x4284c8(0x1d7)](_0x378758)?.());}[_0x3eb455(0x9d6)](){const _0x384656=_0x3eb455;this[_0x384656(0x201)]&&(this[_0x384656(0x201)][_0x384656(0x3ca)]&&this[_0x384656(0x201)]['srcObject']===this[_0x384656(0x7c9)]||(this[_0x384656(0x201)][_0x384656(0x3ca)]=this[_0x384656(0x7c9)]));}[_0x3eb455(0x970)](){const _0x17bde3=_0x3eb455;if(this[_0x17bde3(0x201)]&&!this[_0x17bde3(0x94e)]&&_0x17bde3(0x917)!=typeof ResizeObserver){let _0x4de879=this['renderElement']['clientWidth'],_0x41503b=this['renderElement'][_0x17bde3(0x982)];const _0x3438cf=new ResizeObserver(_0x1639cf=>{const _0x48d182=_0x17bde3,{width:_0x8c30fa,height:_0x2a319b}=_0x1639cf[0x0][_0x48d182(0x1db)];_0x4de879===_0x8c30fa&&_0x41503b===_0x2a319b||(_0x4de879=Math['floor'](_0x8c30fa),_0x41503b=Math[_0x48d182(0x504)](_0x2a319b),this[_0x48d182(0x1ed)]({'video':{'maxResolution':{'width':_0x8c30fa,'height':_0x2a319b}}}));});_0x3438cf[_0x17bde3(0x6b0)](this[_0x17bde3(0x201)]),this[_0x17bde3(0x94e)]=()=>_0x3438cf[_0x17bde3(0xadb)]();}}['handleRemoteTrackFailure'](_0x490262){const _0x4f29af=_0x3eb455,_0x5af8a3=[];for(const _0x2bf055 of this['subscribedTracks'])this[_0x4f29af(0x8b0)](_0x2bf055),_0x5af8a3[_0x4f29af(0x69a)](_0x2bf055);this[_0x4f29af(0x2b5)]&&this['systemTopic'][_0x4f29af(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5['Content'],'content':{'type':_0x2862db[_0x4f29af(0x5ba)],'label':this['label'],'streamId':this[_0x4f29af(0x801)],'ownerId':this[_0x4f29af(0x7c7)][_0x4f29af(0x777)](),'providerId':this[_0x4f29af(0x2b5)],'trackKinds':_0x5af8a3}});}[_0x3eb455(0x6b1)](_0x1c476e){const _0x526085=_0x3eb455,_0xf7bc81=()=>this[_0x526085(0x884)](_0x1c476e);_0x1c476e[_0x526085(0x3a3)](_0x526085(0x7f1),_0xf7bc81),_0x1c476e[_0x526085(0x3a3)](_0x526085(0x6ab),_0xf7bc81),this[_0x526085(0x45b)][_0x526085(0x90d)](_0x1c476e['kind'],()=>{const _0x3f2d40=_0x526085;_0x1c476e[_0x3f2d40(0x49b)](_0x3f2d40(0x7f1),_0xf7bc81),_0x1c476e[_0x3f2d40(0x49b)]('mute',_0xf7bc81),this[_0x3f2d40(0x45b)][_0x3f2d40(0xaa3)](_0x1c476e['kind']);});}}class _0x52a34e extends _0x2f8302{[_0x3eb455(0x45e)];[_0x3eb455(0x9ac)];['vendorId'];['db'];[_0x3eb455(0x6da)];[_0x3eb455(0x704)]=0x0;['reads']=0x0;[_0x3eb455(0x5b3)]=!0x1;constructor(_0x1a37af,_0x23d988,_0x3e3d66,_0x5ddaca,_0x3964f2){const _0x26779a=_0x3eb455;if(_0x26779a(0x77a)!=typeof _0x23d988)throw new _0x5669b1(_0x3ed137[_0x26779a(0x687)],_0x26779a(0x20a));super(_0x1a37af,_0x23d988),this[_0x26779a(0x45e)]=_0x1a37af,this['clusterId']=_0x3e3d66,this[_0x26779a(0x2df)]=_0x5ddaca;const _0x53349c=_0x26779a(0x6cd)+this[_0x26779a(0x2df)]+_0x26779a(0x6cd)+this[_0x26779a(0x9ac)]+'ccc'+this[_0x26779a(0x78e)];this['db']=new _0x3964f2(_0x53349c),this[_0x26779a(0x6f8)]();}['getIsLoaded'](){const _0x2b73b9=_0x3eb455;return this[_0x2b73b9(0x5b3)];}[_0x3eb455(0x2fe)](_0x16ec30){this['isLoaded']=_0x16ec30;}[_0x3eb455(0x51b)](){const _0x3435f9=_0x3eb455;clearTimeout(this[_0x3435f9(0x6da)]),delete this[_0x3435f9(0x6da)],super[_0x3435f9(0x51b)]();}[_0x3eb455(0x579)](){const _0xf541da=_0x3eb455;this[_0xf541da(0x73b)][_0xf541da(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0xf541da(0x7dc)],'content':{'type':_0x2862db['CloseVectorDatabase'],'label':this['label']}});}[_0x3eb455(0x594)](){const _0x21d0c3=_0x3eb455;this[_0x21d0c3(0x6f8)]();}[_0x3eb455(0x41e)](){const _0x48bf9e=_0x3eb455;return _0x4d2150[_0x48bf9e(0x9a5)][_0x48bf9e(0x73f)];}[_0x3eb455(0x7d4)](_0x354cf2,_0x48ef0f,_0x5e3d37,_0x57792c){const _0x28bb80=_0x3eb455,_0x1bfa90=this['db'][_0x28bb80(0x7d4)](_0x354cf2,_0x48ef0f,_0x5e3d37,_0x57792c);return this[_0x28bb80(0x608)]+=0x1,_0x2c9fd4[_0x28bb80(0x7f7)](_0x58ac15[_0x28bb80(0x73f)],{'type':_0x28bb80(0x7d4),'label':this[_0x28bb80(0x78e)],'nodeId':this[_0x28bb80(0x45e)]['getId'](),'nodeType':this['localNode'][_0x28bb80(0x6d8)],'clusterId':this[_0x28bb80(0x9ac)],'size':0x0}),this[_0x28bb80(0x6f8)](),_0x1bfa90;}[_0x3eb455(0x4e9)](_0x2db3ce,_0x329e69,_0x197a01,_0x566546){const _0x33e0a1=_0x3eb455;this['db'][_0x33e0a1(0x4e9)](_0x2db3ce,_0x329e69,_0x197a01,_0x566546),this[_0x33e0a1(0x704)]+=0x1,_0x2c9fd4[_0x33e0a1(0x7f7)](_0x58ac15['VectorDatabase'],{'type':_0x33e0a1(0x4e9),'label':this[_0x33e0a1(0x78e)],'nodeId':this[_0x33e0a1(0x45e)][_0x33e0a1(0x777)](),'nodeType':this[_0x33e0a1(0x45e)][_0x33e0a1(0x6d8)],'clusterId':this[_0x33e0a1(0x9ac)],'size':_0x566546[_0x33e0a1(0x92f)]((_0x5bfd28,_0x1c653e)=>_0x5bfd28+_0x1c653e[_0x33e0a1(0x3ed)],0x0)}),this[_0x33e0a1(0x6f8)]();}[_0x3eb455(0x212)](_0x2a272c){const _0x3d9650=_0x3eb455;this['db'][_0x3d9650(0x212)](_0x2a272c),this['writes']+=0x1,_0x2c9fd4[_0x3d9650(0x7f7)](_0x58ac15['VectorDatabase'],{'type':_0x3d9650(0x212),'label':this['label'],'nodeId':this['localNode'][_0x3d9650(0x777)](),'nodeType':this['localNode'][_0x3d9650(0x6d8)],'clusterId':this[_0x3d9650(0x9ac)],'size':0x0}),this[_0x3d9650(0x6f8)]();}[_0x3eb455(0x612)](_0x3ca54e){const _0x5948cd=_0x3eb455;this['db'][_0x5948cd(0x612)](_0x3ca54e);}[_0x3eb455(0x342)](_0x31f0bb){const _0x4c4039=_0x3eb455;this['db'][_0x4c4039(0x342)](_0x31f0bb);}['sendStats'](){const _0x571c8a=_0x3eb455;this['debounceStats']&&clearTimeout(this[_0x571c8a(0x6da)]),this[_0x571c8a(0x6da)]=setTimeout(async()=>{const _0x432800=_0x571c8a;delete this[_0x432800(0x6da)];const _0x33c811=this['db'][_0x432800(0x8e3)]()[_0x432800(0x9dc)];this[_0x432800(0x73b)][_0x432800(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5['Content'],'content':{'type':_0x2862db[_0x432800(0x3c0)],'label':this[_0x432800(0x78e)],'stats':{'timestamp':Date[_0x432800(0xa6a)](),'storage':_0x33c811,'messagesSent':this[_0x432800(0x9fe)],'messagesReceived':this[_0x432800(0x41b)],'bytesSent':this[_0x432800(0x811)],'bytesReceived':this[_0x432800(0x2e6)],'writes':this[_0x432800(0x704)],'reads':this[_0x432800(0x608)],'prompts':0x0,'tokens':0x0}}}),_0x2c9fd4[_0x432800(0x7ba)](_0x58ac15[_0x432800(0x73f)],'ccc'+this[_0x432800(0x9ac)]+'ccc'+this[_0x432800(0x78e)],_0x33c811);},_0x37461b);}}class _0x2a141b{['id'];['remoteConnections'];['rank'];constructor(_0x5a4201,_0x4dc88c=new Set(),_0x323f76){const _0x4e8564=_0x3eb455;this['id']=_0x5a4201,this[_0x4e8564(0x417)]=_0x4dc88c,this[_0x4e8564(0x66a)]=_0x323f76;}[_0x3eb455(0x579)](){const _0x597d7c=_0x3eb455;this['rank']=void 0x0,this['remoteConnections'][_0x597d7c(0xa0e)]();}[_0x3eb455(0x777)](){return this['id'];}['getRank'](){const _0x2524b1=_0x3eb455;return this[_0x2524b1(0x66a)];}[_0x3eb455(0x44a)](){const _0x53698b=_0x3eb455;return this[_0x53698b(0x417)];}}class _0x1a33a4 extends _0x2a141b{['id'];[_0x3eb455(0x8c8)];['email'];['remoteConnections'];[_0x3eb455(0x66a)];['type']=_0x4d2150[_0x3eb455(0x28b)]['User'];constructor(_0x33abbe,_0xf37c7e,_0x41faab,_0x1e0b50=new Set(),_0x47b167){const _0x3b1899=_0x3eb455;super(_0x33abbe,_0x1e0b50,_0x47b167),this['id']=_0x33abbe,this[_0x3b1899(0x8c8)]=_0xf37c7e,this['email']=_0x41faab,this[_0x3b1899(0x417)]=_0x1e0b50,this[_0x3b1899(0x66a)]=_0x47b167;}[_0x3eb455(0xa8f)](){return this['displayName'];}[_0x3eb455(0x248)](){const _0x32a6e9=_0x3eb455;return this[_0x32a6e9(0x776)];}}class _0x6f2002{['vendorId'];[_0x3eb455(0x9ac)];['clusterKey'];constructor(_0x583147,_0x3a64a4){const _0x5db3cd=_0x3eb455;this[_0x5db3cd(0x2df)]=_0x583147,this[_0x5db3cd(0x9ac)]=_0x3a64a4,this[_0x5db3cd(0x2c8)]=_0x5db3cd(0x6cd)+this[_0x5db3cd(0x2df)]+'ccc'+this['clusterId'];}async[_0x3eb455(0x654)](_0x3c51cc,_0x37342c){const _0x3b51a3=_0x3eb455,_0x43ad01=(0x0,_0x432f7f['ref'])(_0x418361['getDatabase'](),_0x3b51a3(0x29f)+this['clusterKey']+_0x3b51a3(0x62f)+_0x37342c+_0x3b51a3(0xa25)+_0x3c51cc['id']),_0x35da7d=(0x0,_0x432f7f[_0x3b51a3(0x831)])(_0x43ad01);_0x35da7d[_0x3b51a3(0x212)](),_0x3c51cc[_0x3b51a3(0x74f)]||delete _0x3c51cc[_0x3b51a3(0x74f)];try{await(0x0,_0x432f7f[_0x3b51a3(0x90d)])(_0x43ad01,_0x3c51cc);}catch(_0xfb9e21){throw await _0x35da7d['cancel'](),new _0x157cd9(_0x157cd9[_0x3b51a3(0x6cc)][_0x3b51a3(0x746)]);}if(!0x1===(await(0x0,_0x432f7f[_0x3b51a3(0x47d)])((0x0,_0x432f7f[_0x3b51a3(0x7cf)])(_0x418361[_0x3b51a3(0x80b)](),'clusters/'+this[_0x3b51a3(0x2c8)]+_0x3b51a3(0x62f)+_0x37342c+_0x3b51a3(0x724)),_0x1af126=>_0x1af126?_0x1af126===_0x3c51cc[_0x3b51a3(0x74f)]?_0x3c51cc['id']:void 0x0:_0x3c51cc[_0x3b51a3(0x74f)]?_0x3c51cc[_0x3b51a3(0x74f)]:_0x3c51cc['id']))[_0x3b51a3(0x1fc)])throw await(0x0,_0x432f7f['remove'])(_0x43ad01),await _0x35da7d[_0x3b51a3(0x250)](),new _0x157cd9(_0x157cd9[_0x3b51a3(0x6cc)][_0x3b51a3(0x389)]);await _0x35da7d[_0x3b51a3(0x250)]();}async[_0x3eb455(0x5ad)](_0x91182b,_0x3814f7){const _0x2f5eab=_0x3eb455;let _0xd8290d=[];const _0x40cee4=(0x0,_0x432f7f['ref'])(_0x418361[_0x2f5eab(0x80b)](),'clusters/'+this[_0x2f5eab(0x2c8)]+'/objectstores/'+_0x91182b+_0x2f5eab(0x481));let _0x1848fd=await(0x0,_0x432f7f['get'])((0x0,_0x432f7f[_0x2f5eab(0x327)])(_0x40cee4,(0x0,_0x432f7f['limitToFirst'])(0x65),(0x0,_0x432f7f[_0x2f5eab(0xaa0)])()));if(!_0x1848fd['exists']()){if(void 0x0!==_0x3814f7)throw new _0x157cd9(_0x157cd9['codes'][_0x2f5eab(0x361)]);return _0xd8290d;}const _0x15adc8=_0x1848fd[_0x2f5eab(0xa70)]();for(;Object[_0x2f5eab(0x9c6)](_0x1848fd[_0x2f5eab(0xa70)]())[_0x2f5eab(0x3ed)]>0x64;){const _0x3b6422=Object['keys'](_0x1848fd[_0x2f5eab(0xa70)]()),_0x2b7820=_0x3b6422[_0x3b6422[_0x2f5eab(0x3ed)]-0x1];_0x1848fd=await(0x0,_0x432f7f['get'])((0x0,_0x432f7f[_0x2f5eab(0x327)])(_0x40cee4,(0x0,_0x432f7f[_0x2f5eab(0x585)])(0x65),(0x0,_0x432f7f[_0x2f5eab(0x8ac)])(_0x2b7820),(0x0,_0x432f7f['orderByKey'])())),Object[_0x2f5eab(0x8c4)](_0x15adc8,_0x1848fd[_0x2f5eab(0xa70)]());}if(_0xd8290d=Object[_0x2f5eab(0x565)](_0x15adc8)[_0x2f5eab(0x638)](_0x2a40d0=>_0x2f5eab(0x77a)!=typeof _0x2a40d0),0x0===_0xd8290d['length']&&void 0x0!==_0x3814f7)throw new _0x157cd9(_0x157cd9[_0x2f5eab(0x6cc)]['ObjectStoreInvalidState']);if(_0xd8290d[_0x2f5eab(0x3ed)]>0x0&&void 0x0!==_0x3814f7&&!_0xd8290d['find'](_0x4f7027=>_0x4f7027['id']===_0x3814f7))throw new _0x157cd9(_0x157cd9['codes'][_0x2f5eab(0x361)]);const _0x3abf8a=[];let _0x3ffabc=_0xd8290d['find'](_0x3622bb=>_0x3622bb['parentId']===_0x3814f7);for(;_0x3ffabc;)_0x3abf8a[_0x2f5eab(0x69a)](_0x3ffabc),_0x3ffabc=_0xd8290d['find'](_0x474b13=>_0x474b13[_0x2f5eab(0x74f)]===_0x3ffabc['id']);return _0x3abf8a;}}class _0x86b8d8{[_0x3eb455(0x399)];[_0x3eb455(0x7b5)];[_0x3eb455(0x85c)];[_0x3eb455(0x659)]=new Map();['remoteMediaStreams']=new Map();[_0x3eb455(0x408)]=new Map();[_0x3eb455(0x8bb)]=new Map();[_0x3eb455(0x3ef)]=new Map();['keyValueDatabases']=new Map();[_0x3eb455(0x898)]=new Map();[_0x3eb455(0x83b)]=new Map();[_0x3eb455(0x224)]=new Map();['jobWorkers']=new Map();[_0x3eb455(0x68c)];constructor(_0x186616,_0x3c5705,_0x1412e5){const _0x13cac9=_0x3eb455;this['configs']=_0x186616,this['options']=_0x3c5705,this[_0x13cac9(0x85c)]=_0x1412e5,this[_0x13cac9(0x68c)]=new _0x6f2002(this[_0x13cac9(0x399)][_0x13cac9(0x2df)],this[_0x13cac9(0x399)][_0x13cac9(0x9ac)]);}[_0x3eb455(0x579)](_0x3a3014=!0x1){const _0x485b3e=_0x3eb455;this[_0x485b3e(0x825)][_0x485b3e(0x9d2)]((_0xb1e663,_0x14bb8f)=>{const _0x5a8466=_0x485b3e;_0xb1e663[_0x5a8466(0x9d2)]((_0x35bd6f,_0x10babb)=>{const _0xaaab52=_0x5a8466;this[_0xaaab52(0x58e)](_0x14bb8f,_0x10babb);});}),_0x3a3014||(_0x38bd1e[_0x485b3e(0xa0e)](),this['localMediaStreams']['forEach']((_0x289628,_0x390519)=>{this['removeLocalMediaStream'](_0x390519);}),this[_0x485b3e(0x408)][_0x485b3e(0x9d2)]((_0x3a3079,_0x3574db)=>{const _0x1d342a=_0x485b3e;this[_0x1d342a(0x458)](_0x3574db);}),this[_0x485b3e(0x8bb)][_0x485b3e(0x9d2)]((_0x1641a4,_0x2e4c66)=>{const _0xaef97d=_0x485b3e;this[_0xaef97d(0x454)](_0x2e4c66);}),this[_0x485b3e(0x3ef)][_0x485b3e(0x9d2)]((_0x1cf03d,_0x42d11f)=>{const _0x13d774=_0x485b3e;this[_0x13d774(0x919)](_0x42d11f);}),this['keyValueDatabases'][_0x485b3e(0x9d2)]((_0x5a7f61,_0xd29926)=>{const _0x235a27=_0x485b3e;this[_0x235a27(0x6ac)](_0xd29926);}),this['jobDispatchers'][_0x485b3e(0x9d2)]((_0x42d7f1,_0x241817)=>{const _0x20de98=_0x485b3e;this[_0x20de98(0x729)](_0x241817);}),this[_0x485b3e(0x1d6)][_0x485b3e(0x9d2)]((_0x726c63,_0xd6a77c)=>{const _0x5d7165=_0x485b3e;this[_0x5d7165(0x8ec)](_0xd6a77c);}),this[_0x485b3e(0x898)][_0x485b3e(0x9d2)]((_0x2db37c,_0xecaf5c)=>{const _0x149467=_0x485b3e;this[_0x149467(0x8af)](_0xecaf5c);}),this['graphDatabases'][_0x485b3e(0x9d2)]((_0x49b125,_0x2272fd)=>{this['removeGraphDatabase'](_0x2272fd);}));}[_0x3eb455(0x298)](_0x9bf91d,_0xdab7d8){const _0x5cb376=_0x3eb455;if(this[_0x5cb376(0x8bb)]['has'](_0x9bf91d))throw new _0x5669b1(_0x3ed137[_0x5cb376(0xa78)],_0x5cb376(0x53a));const _0xbc958f=new _0x5c57c2(this[_0x5cb376(0x399)][_0x5cb376(0x45e)],_0x9bf91d,this['configs'][_0x5cb376(0x9ac)],this[_0x5cb376(0x399)][_0x5cb376(0x2df)],this[_0x5cb376(0x68c)],_0xdab7d8,()=>this[_0x5cb376(0x399)][_0x5cb376(0x273)][_0x5cb376(0x998)]());return this[_0x5cb376(0x8bb)][_0x5cb376(0x90d)](_0x9bf91d,_0xbc958f),this[_0x5cb376(0x399)][_0x5cb376(0x273)][_0x5cb376(0x7b4)](_0xbc958f),_0xbc958f;}[_0x3eb455(0x278)](_0x149d7d,_0x7291c9){const _0x31785a=_0x3eb455;if(this[_0x31785a(0x8bb)][_0x31785a(0x8c7)](_0x149d7d))throw new _0x5669b1(_0x3ed137[_0x31785a(0x616)],'Connection\x20already\x20exists');const _0xd27529=new _0x19ecca(this['configs'][_0x31785a(0x45e)],_0x149d7d,this['configs'][_0x31785a(0x9ac)],this[_0x31785a(0x399)]['vendorId'],_0x7291c9);return this[_0x31785a(0x3ef)][_0x31785a(0x90d)](_0x149d7d,_0xd27529),this[_0x31785a(0x399)][_0x31785a(0x273)][_0x31785a(0x7b4)](_0xd27529),_0xd27529;}async[_0x3eb455(0x67b)](_0x38fa76,_0x20fc61,_0x2b12b5){const _0x4f5c7d=_0x3eb455;if(this[_0x4f5c7d(0x9ef)][_0x4f5c7d(0x8c7)](_0x38fa76))throw new _0x5669b1(_0x3ed137[_0x4f5c7d(0x852)],'Database\x20already\x20exists');try{const _0x3aa72a=this[_0x4f5c7d(0x399)][_0x4f5c7d(0x273)]['isNodeReady'][_0x4f5c7d(0x64d)](this['configs'][_0x4f5c7d(0x273)]),_0x472765=new _0x2c7acd(this['configs'][_0x4f5c7d(0x45e)],_0x38fa76,this[_0x4f5c7d(0x399)]['clusterId'],this[_0x4f5c7d(0x399)]['vendorId'],_0x20fc61,_0x2b12b5,_0x3aa72a);return this['keyValueDatabases'][_0x4f5c7d(0x90d)](_0x38fa76,_0x472765),this[_0x4f5c7d(0x399)][_0x4f5c7d(0x273)][_0x4f5c7d(0x7b4)](_0x472765),_0x472765;}catch(_0x48f2ca){if(_0x48f2ca instanceof _0x5669b1)throw _0x48f2ca;throw new _0x157cd9(_0x157cd9['codes']['KeyValueDatabaseCreationFailed'],{'label':_0x38fa76,'clusterId':this[_0x4f5c7d(0x399)]['clusterId'],'vendorId':this['configs'][_0x4f5c7d(0x2df)]});}}async['createJobDispatcher'](_0x5c9edb,_0x4176ad){const _0x1c3770=_0x3eb455;if(this[_0x1c3770(0x224)]['has'](_0x5c9edb))throw new _0x5669b1(_0x3ed137['JobDispatcherAlreadyExists'],_0x1c3770(0x77b));try{const _0x5d5ce9=new _0x3e76e0(this[_0x1c3770(0x399)][_0x1c3770(0x45e)],_0x5c9edb,_0x4176ad);return this[_0x1c3770(0x224)]['set'](_0x5c9edb,_0x5d5ce9),this[_0x1c3770(0x399)][_0x1c3770(0x273)][_0x1c3770(0x7b4)](_0x5d5ce9),_0x5d5ce9;}catch(_0x274df8){if(_0x274df8 instanceof _0x5669b1)throw _0x274df8;throw new _0x157cd9(_0x157cd9['codes'][_0x1c3770(0x4de)],{'label':_0x5c9edb,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x1c3770(0x399)][_0x1c3770(0x2df)]});}}async[_0x3eb455(0x256)](_0x19e7bd,_0x39f3d8){const _0xb222c8=_0x3eb455;if(this[_0xb222c8(0x224)][_0xb222c8(0x8c7)](_0x19e7bd))throw new _0x5669b1(_0x3ed137['GenerativeAIContextAlreadyExists'],_0xb222c8(0x711));if(this[_0xb222c8(0x1d6)][_0xb222c8(0x8c7)](_0x19e7bd))throw new _0x5669b1(_0x3ed137[_0xb222c8(0x660)],_0xb222c8(0x2b8));try{const _0x4523ee=new _0x43d205(this[_0xb222c8(0x399)][_0xb222c8(0x45e)],_0x19e7bd,this[_0xb222c8(0x399)]['vendorId'],_0x39f3d8);return this[_0xb222c8(0x224)][_0xb222c8(0x90d)](_0x19e7bd,_0x4523ee),this['configs'][_0xb222c8(0x273)][_0xb222c8(0x7b4)](_0x4523ee),_0x4523ee;}catch(_0x2bc292){if(_0x2bc292 instanceof _0x5669b1)throw _0x2bc292;throw new _0x157cd9(_0x157cd9[_0xb222c8(0x6cc)][_0xb222c8(0x479)],{'label':_0x19e7bd,'clusterId':this[_0xb222c8(0x399)][_0xb222c8(0x9ac)],'vendorId':this[_0xb222c8(0x399)][_0xb222c8(0x2df)]});}}async[_0x3eb455(0x9aa)](_0x25c2cf,_0x2fb486,_0x5cb5fe,_0x5869e1,_0x940316,_0x11f906){const _0x1051cc=_0x3eb455;if(this[_0x1051cc(0x1d6)][_0x1051cc(0x8c7)](_0x25c2cf))throw new _0x5669b1(_0x3ed137[_0x1051cc(0x2b9)],_0x1051cc(0x240));if(this[_0x1051cc(0x224)]['has'](_0x25c2cf))throw new _0x5669b1(_0x3ed137[_0x1051cc(0x660)],_0x1051cc(0x2b8));try{const _0x447494=new _0x1ea9db(this[_0x1051cc(0x399)][_0x1051cc(0x45e)],_0x25c2cf,this[_0x1051cc(0x399)][_0x1051cc(0x2df)],_0x2fb486,this,_0x5cb5fe,_0x5869e1,_0x940316,this[_0x1051cc(0x85c)],_0x11f906);return this[_0x1051cc(0x1d6)]['set'](_0x25c2cf,_0x447494),this[_0x1051cc(0x399)][_0x1051cc(0x273)][_0x1051cc(0x7b4)](_0x447494),_0x447494;}catch(_0x1dfff3){if(_0x1dfff3 instanceof _0x5669b1)throw _0x1dfff3;throw new _0x157cd9(_0x157cd9['codes'][_0x1051cc(0x96e)],{'label':_0x25c2cf,'clusterId':this[_0x1051cc(0x399)][_0x1051cc(0x9ac)],'vendorId':this['configs'][_0x1051cc(0x2df)]});}}['createGraphDatabase'](_0xd09b1d,_0x3eecb5){const _0x501834=_0x3eb455;if(this['graphDatabases'][_0x501834(0x8c7)](_0xd09b1d))throw new _0x5669b1(_0x3ed137['GraphDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x227d40=new _0x1a80ed(this[_0x501834(0x399)][_0x501834(0x45e)],_0xd09b1d,this[_0x501834(0x399)][_0x501834(0x9ac)],this['configs'][_0x501834(0x2df)],_0x3eecb5);return this[_0x501834(0x83b)][_0x501834(0x90d)](_0xd09b1d,_0x227d40),this[_0x501834(0x399)][_0x501834(0x273)]['registerSystemSource'](_0x227d40),_0x227d40;}catch(_0x27a94){if(_0x27a94 instanceof _0x5669b1)throw _0x27a94;throw new _0x157cd9(_0x157cd9['codes'][_0x501834(0x7ca)],{'label':_0xd09b1d,'clusterId':this[_0x501834(0x399)][_0x501834(0x9ac)],'vendorId':this[_0x501834(0x399)][_0x501834(0x2df)]});}}[_0x3eb455(0x71d)](_0x4f71ce,_0x4bdb70){const _0x4baa84=_0x3eb455;if(this[_0x4baa84(0x659)][_0x4baa84(0x8c7)](_0x4f71ce))throw new _0x5669b1(_0x3ed137[_0x4baa84(0x59b)],_0x4baa84(0x6f0));if(!this[_0x4baa84(0x7b5)][_0x4baa84(0x91b)])throw new _0x5669b1(_0x3ed137[_0x4baa84(0x995)],_0x4baa84(0x77d));const _0x42dbf1=new _0x195b45(this['configs']['localNode'],_0x4f71ce,_0x4bdb70,this[_0x4baa84(0x7b5)][_0x4baa84(0x8d4)],this[_0x4baa84(0x7b5)][_0x4baa84(0x91b)],this['configs'][_0x4baa84(0x9ac)]);return this[_0x4baa84(0x659)][_0x4baa84(0x90d)](_0x4f71ce,_0x42dbf1),this[_0x4baa84(0x399)][_0x4baa84(0x273)][_0x4baa84(0x7b4)](_0x42dbf1),_0x42dbf1[_0x4baa84(0x5bf)](),_0x42dbf1;}[_0x3eb455(0x722)](_0x13adf4,_0x2fad7f){const _0x4090c5=_0x3eb455;if(this[_0x4090c5(0x659)][_0x4090c5(0x8c7)](_0x13adf4))throw new _0x5669b1(_0x3ed137['LocalMediaStreamAlreadyExists'],'Stream\x20already\x20exists');const _0x56a520=new _0xec0ce8(this[_0x4090c5(0x399)]['localNode'],_0x13adf4,_0x2fad7f,this['configs'][_0x4090c5(0x9ac)]);return this['localMediaStreams'][_0x4090c5(0x90d)](_0x13adf4,_0x56a520),this[_0x4090c5(0x399)][_0x4090c5(0x273)]['registerSystemSource'](_0x56a520),_0x56a520[_0x4090c5(0x5bf)](),_0x56a520;}[_0x3eb455(0x30a)](_0x4510aa){const _0x545ddb=_0x3eb455;if(this[_0x545ddb(0x408)][_0x545ddb(0x8c7)](_0x4510aa))throw new _0x5669b1(_0x3ed137[_0x545ddb(0x54f)],_0x545ddb(0x31d));const _0x155891=new _0x46bb9a(this[_0x545ddb(0x399)]['localNode'],_0x4510aa,this[_0x545ddb(0x399)][_0x545ddb(0x9ac)]);return this[_0x545ddb(0x408)][_0x545ddb(0x90d)](_0x4510aa,_0x155891),this[_0x545ddb(0x399)][_0x545ddb(0x273)][_0x545ddb(0x7b4)](_0x155891),_0x155891;}[_0x3eb455(0xa15)](_0xce3700,_0x390c15,_0xfdfdcf,_0x3eaccd){const _0x463247=_0x3eb455;this[_0x463247(0x825)]['has'](_0xce3700)||this[_0x463247(0x825)][_0x463247(0x90d)](_0xce3700,new Map());const _0x1b5f9a=this[_0x463247(0x825)][_0x463247(0x1d7)](_0xce3700);if(_0x1b5f9a[_0x463247(0x8c7)](_0x390c15))throw new _0x5669b1(_0x3ed137[_0x463247(0x393)],_0x463247(0x25e));const _0x373477=new _0x1a33a4(_0xce3700,'',''),_0x31ee51=new _0x1a50fd(this[_0x463247(0x399)]['localNode'],_0x373477,_0x390c15,_0xfdfdcf,_0x3eaccd,this[_0x463247(0x399)][_0x463247(0x9ac)]);return _0x1b5f9a[_0x463247(0x90d)](_0x390c15,_0x31ee51),this[_0x463247(0x399)][_0x463247(0x273)]['registerSystemSource'](_0x31ee51),_0x31ee51;}[_0x3eb455(0xa0f)](_0x4d22b7,_0xf4fb99){const _0x38a9e4=_0x3eb455;if(this['vectorDatabases']['has'](_0x4d22b7))throw new _0x5669b1(_0x3ed137[_0x38a9e4(0x3ff)],_0x38a9e4(0x58f));try{const _0x57fbba=new _0x52a34e(this[_0x38a9e4(0x399)][_0x38a9e4(0x45e)],_0x4d22b7,this[_0x38a9e4(0x399)][_0x38a9e4(0x9ac)],this[_0x38a9e4(0x399)][_0x38a9e4(0x2df)],_0xf4fb99);return this[_0x38a9e4(0x898)][_0x38a9e4(0x90d)](_0x4d22b7,_0x57fbba),this[_0x38a9e4(0x399)][_0x38a9e4(0x273)]['registerSystemSource'](_0x57fbba),_0x57fbba;}catch(_0x333e26){if(_0x333e26 instanceof _0x5669b1)throw _0x333e26;throw new _0x157cd9(_0x157cd9[_0x38a9e4(0x6cc)][_0x38a9e4(0x3c6)],{'label':_0x4d22b7,'clusterId':this['configs'][_0x38a9e4(0x9ac)],'vendorId':this[_0x38a9e4(0x399)]['vendorId']});}}[_0x3eb455(0x4ff)](_0x7f6074){const _0x229cb6=_0x3eb455,_0x1cc511=Array[_0x229cb6(0x495)](this[_0x229cb6(0x8bb)][_0x229cb6(0x565)]());return _0x7f6074?_0x1cc511['filter'](_0x7f6074):_0x1cc511;}['getExternalStorageConnections'](_0x374668){const _0x3a69a8=_0x3eb455,_0x2b9e21=Array[_0x3a69a8(0x495)](this['externalStorageConnections'][_0x3a69a8(0x565)]());return _0x374668?_0x2b9e21[_0x3a69a8(0x638)](_0x374668):_0x2b9e21;}[_0x3eb455(0x8a7)](_0x3f51bb){const _0x5d720f=_0x3eb455,_0x25c56e=Array[_0x5d720f(0x495)](this[_0x5d720f(0x9ef)][_0x5d720f(0x565)]());return _0x3f51bb?_0x25c56e[_0x5d720f(0x638)](_0x3f51bb):_0x25c56e;}[_0x3eb455(0x549)](_0x108ce1){const _0x407614=_0x3eb455,_0x51b63=Array[_0x407614(0x495)](this[_0x407614(0x224)][_0x407614(0x565)]());return _0x108ce1?_0x51b63[_0x407614(0x638)](_0x108ce1):_0x51b63;}[_0x3eb455(0x86f)](_0x397c21){const _0x54a683=_0x3eb455,_0x374aa0=Array[_0x54a683(0x495)](this[_0x54a683(0x1d6)][_0x54a683(0x565)]());return _0x397c21?_0x374aa0[_0x54a683(0x638)](_0x397c21):_0x374aa0;}[_0x3eb455(0x610)](_0x5cb230){const _0x5365f1=_0x3eb455,_0x591ce5=Array[_0x5365f1(0x495)](this[_0x5365f1(0x224)][_0x5365f1(0x565)]())[_0x5365f1(0x638)](_0x2a0d39=>_0x2a0d39 instanceof _0x43d205);return _0x5cb230?_0x591ce5['filter'](_0x5cb230):_0x591ce5;}[_0x3eb455(0x4cc)](_0x270000){const _0x34b606=_0x3eb455,_0x1fbde0=Array[_0x34b606(0x495)](this[_0x34b606(0x1d6)]['values']())[_0x34b606(0x638)](_0x1155b5=>_0x1155b5 instanceof _0x1ea9db);return _0x270000?_0x1fbde0['filter'](_0x270000):_0x1fbde0;}[_0x3eb455(0x9b0)](_0x577554){const _0x353280=_0x3eb455,_0x122d10=Array[_0x353280(0x495)](this[_0x353280(0x83b)][_0x353280(0x565)]());return _0x577554?_0x122d10[_0x353280(0x638)](_0x577554):_0x122d10;}[_0x3eb455(0x70e)](_0x1c229e){const _0x5af224=_0x3eb455,_0x4bad2e=Array[_0x5af224(0x495)](this['localMediaStreams'][_0x5af224(0x565)]());return _0x1c229e?_0x4bad2e[_0x5af224(0x638)](_0x1c229e):_0x4bad2e;}[_0x3eb455(0x66b)](_0x1f79ed){const _0x563835=_0x3eb455,_0x2d011a=Array[_0x563835(0x495)](this[_0x563835(0x408)][_0x563835(0x565)]());return _0x1f79ed?_0x2d011a['filter'](_0x1f79ed):_0x2d011a;}[_0x3eb455(0x359)](_0x3d909a){const _0xb31167=_0x3eb455,_0x4f73a8=Array[_0xb31167(0x495)](this[_0xb31167(0x825)][_0xb31167(0x565)]())['reduce']((_0x5261e6,_0x4c7b7f)=>[..._0x5261e6,...Array['from'](_0x4c7b7f['values']())],[]);return _0x3d909a?_0x4f73a8[_0xb31167(0x638)](_0x3d909a):_0x4f73a8;}[_0x3eb455(0x7f9)](_0x2c4dba){const _0x61630d=_0x3eb455,_0x9e37ff=Array[_0x61630d(0x495)](this[_0x61630d(0x898)][_0x61630d(0x565)]());return _0x2c4dba?_0x9e37ff[_0x61630d(0x638)](_0x2c4dba):_0x9e37ff;}['getObjectStoreBucket'](_0x2b9cb9){const _0x554882=_0x3eb455,_0x3b6a57=this['objectStores']['get'](_0x2b9cb9);if(!_0x3b6a57)throw new _0x5669b1(_0x3ed137[_0x554882(0x2de)],_0x554882(0x929));return _0x3b6a57;}[_0x3eb455(0x34c)](_0xb594d6){const _0x54d288=_0x3eb455,_0x4f2eeb=_0xb594d6[_0x54d288(0x979)]('-'),_0xcf163=this[_0x54d288(0x3ef)]['get'](_0x4f2eeb[0x1]);if(!_0xcf163)throw new _0x5669b1(_0x3ed137[_0x54d288(0x6ec)],_0x54d288(0x468));return _0xcf163;}[_0x3eb455(0x437)](_0x1fe171){const _0x450b12=_0x3eb455,_0x32df3c=this[_0x450b12(0x83b)][_0x450b12(0x1d7)](_0x1fe171);if(!_0x32df3c)throw new _0x5669b1(_0x3ed137[_0x450b12(0x368)],_0x450b12(0x828));return _0x32df3c;}[_0x3eb455(0x3e8)](_0x10b048){const _0x4d6bec=_0x3eb455,_0x2197a8=this[_0x4d6bec(0x9ef)][_0x4d6bec(0x1d7)](_0x10b048);if(!_0x2197a8)throw new _0x5669b1(_0x3ed137['KeyValueDatabaseDoesNotExist'],_0x4d6bec(0x3bd));return _0x2197a8;}[_0x3eb455(0x751)](_0x1d7885){const _0x599346=_0x3eb455,_0x9fe39=this[_0x599346(0x408)]['get'](_0x1d7885);if(!_0x9fe39)throw new _0x5669b1(_0x3ed137[_0x599346(0xa7d)],_0x599346(0x32a));return _0x9fe39;}[_0x3eb455(0x717)](_0x3b9e5b){const _0x111f08=_0x3eb455,_0x4f094f=this[_0x111f08(0x898)][_0x111f08(0x1d7)](_0x3b9e5b);if(!_0x4f094f)throw new _0x5669b1(_0x3ed137[_0x111f08(0x3b9)],_0x111f08(0x289));return _0x4f094f;}[_0x3eb455(0x5ee)](_0x18cd4a){const _0x51bb26=_0x3eb455;switch(_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x6d8)]){case _0x2862db['PublishMediaStream']:this['handlePublishMediaStream'](_0x18cd4a[_0x51bb26(0x211)]);break;case _0x2862db['UnpublishMediaStream']:this[_0x51bb26(0x7bb)](_0x18cd4a[_0x51bb26(0x211)]);break;case _0x2862db[_0x51bb26(0x365)]:this[_0x51bb26(0x729)](_0x18cd4a['content'][_0x51bb26(0x78e)]);break;case _0x2862db[_0x51bb26(0x59c)]:this['removeJobWorker'](_0x18cd4a['content'][_0x51bb26(0x78e)]);break;case _0x2862db[_0x51bb26(0x875)]:this[_0x51bb26(0x2ae)](_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x78e)]);break;case _0x2862db[_0x51bb26(0x715)]:this[_0x51bb26(0x458)](_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x78e)]);break;case _0x2862db[_0x51bb26(0x8d8)]:this['removeObjectStore'](_0x18cd4a['content'][_0x51bb26(0x78e)]);break;case _0x2862db[_0x51bb26(0x5da)]:this[_0x51bb26(0x919)](_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x78e)]);break;case _0x2862db['CloseKeyValueDatabase']:this['removeKeyValueDatabase'](_0x18cd4a[_0x51bb26(0x211)]['label']);break;case _0x2862db[_0x51bb26(0xaa6)]:this[_0x51bb26(0x8af)](_0x18cd4a[_0x51bb26(0x211)]['label']);break;case _0x2862db[_0x51bb26(0x8b5)]:this['removeGraphDatabase'](_0x18cd4a[_0x51bb26(0x211)]['label']);break;case _0x2862db[_0x51bb26(0x3d3)]:this['handleContentUnsubscribeMediaStream'](_0x18cd4a['content']);break;case _0x2862db[_0x51bb26(0x9ce)]:this[_0x51bb26(0x9ef)]['get'](_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x78e)])?.[_0x51bb26(0x233)](_0x18cd4a[_0x51bb26(0x947)],_0x18cd4a['content'][_0x51bb26(0x863)]);break;case _0x2862db[_0x51bb26(0x5bc)]:this['keyValueDatabases'][_0x51bb26(0x1d7)](_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x78e)])?.[_0x51bb26(0x347)](_0x18cd4a['sourceId'],_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x863)]);break;case _0x2862db[_0x51bb26(0x34e)]:this[_0x51bb26(0x9ef)][_0x51bb26(0x1d7)](_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x78e)])?.[_0x51bb26(0x414)](_0x18cd4a[_0x51bb26(0x947)],_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x4c6)]);break;case _0x2862db[_0x51bb26(0x767)]:this[_0x51bb26(0x9ef)]['get'](_0x18cd4a['content'][_0x51bb26(0x78e)])?.[_0x51bb26(0x5e9)](_0x18cd4a[_0x51bb26(0x947)],_0x18cd4a['content'][_0x51bb26(0x75d)]);break;case _0x2862db[_0x51bb26(0x35e)]:this[_0x51bb26(0x9ef)][_0x51bb26(0x1d7)](_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x78e)])?.['sendTransactionsValue'](_0x18cd4a[_0x51bb26(0x947)],_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x82c)]);break;case _0x2862db[_0x51bb26(0x1ef)]:this['keyValueDatabases']['get'](_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x78e)])?.[_0x51bb26(0x1d5)](_0x18cd4a[_0x51bb26(0x947)],_0x18cd4a[_0x51bb26(0x211)]['transactions']);break;case _0x2862db[_0x51bb26(0x8b7)]:this[_0x51bb26(0x399)][_0x51bb26(0x273)][_0x51bb26(0x601)](_0x51bb26(0x855),{'label':_0x18cd4a[_0x51bb26(0x211)][_0x51bb26(0x78e)],'trackKinds':_0x18cd4a[_0x51bb26(0x211)]['trackKinds']});}}[_0x3eb455(0x7fd)]({content:_0x413a38}){const _0x51ed22=_0x3eb455;switch(_0x413a38['type']){case _0x40578c[_0x51ed22(0x475)]:this[_0x51ed22(0x9e9)](_0x413a38),this[_0x51ed22(0x510)](_0x413a38);break;case _0x40578c[_0x51ed22(0x985)]:this[_0x51ed22(0x258)](_0x413a38),this[_0x51ed22(0x588)](_0x413a38);}}[_0x3eb455(0x7d3)](_0xc21856){const _0x222cfe=_0x3eb455;switch(_0xc21856['content']['type']){case _0x52b6ab['SubscribeMediaStream']:this['handleSubscribeMediaStream'](_0xc21856[_0x222cfe(0x947)],_0xc21856['content']);break;case _0x52b6ab['UpdateMediaStream']:this[_0x222cfe(0x85d)](_0xc21856[_0x222cfe(0x947)],_0xc21856['content']);break;case _0x52b6ab['UnsubscribeMediaStream']:this[_0x222cfe(0x7c8)](_0xc21856[_0x222cfe(0x947)],_0xc21856[_0x222cfe(0x211)]);}}['handleContentUnsubscribeMediaStream'](_0x18646d){const _0x54f7ce=_0x3eb455;if(0x0===_0x18646d[_0x54f7ce(0xa00)])this['remoteMediaStreams'][_0x54f7ce(0x1d7)](_0x18646d[_0x54f7ce(0x1b4)])?.[_0x54f7ce(0x1d7)](_0x18646d[_0x54f7ce(0x78e)])?.[_0x54f7ce(0x51b)]();else{const _0x13f60f=this[_0x54f7ce(0x825)][_0x54f7ce(0x1d7)](_0x18646d['ownerId'])?.[_0x54f7ce(0x1d7)](_0x18646d['label']);if(!_0x13f60f)return;_0x18646d[_0x54f7ce(0x7d5)][_0x54f7ce(0x9d2)](_0x4884b8=>_0x13f60f[_0x54f7ce(0x901)](_0x4884b8));}}[_0x3eb455(0x3a2)](_0x10dc4d){const _0x5c9aca=_0x3eb455,{label:_0x3f8d85,ownerId:_0x5f1013,stream:{streamId:_0x4ac5c9,availableTrackKinds:_0x5061d1}}=_0x10dc4d;if(this[_0x5c9aca(0x825)][_0x5c9aca(0x1d7)](_0x5f1013)?.[_0x5c9aca(0x8c7)](_0x3f8d85))return void _0x2c9fd4[_0x5c9aca(0x2f3)](_0x51c80b['Content'],_0x5c9aca(0x310),_0x4ac5c9);const _0x4e001d=this[_0x5c9aca(0xa15)](_0x5f1013,_0x3f8d85,_0x4ac5c9,_0x5061d1);this[_0x5c9aca(0x399)][_0x5c9aca(0x273)][_0x5c9aca(0x601)](_0x5c9aca(0x6e9),{'ownerId':_0x5f1013,'stream':_0x4e001d});}[_0x3eb455(0x7bb)]({ownerId:_0x1577ee,label:_0x27312d}){const _0x589694=_0x3eb455;this[_0x589694(0x58e)](_0x1577ee,_0x27312d),this[_0x589694(0x399)]['mediator'][_0x589694(0x601)](_0x589694(0x253),{'ownerId':_0x1577ee,'label':_0x27312d});}[_0x3eb455(0x42e)](_0x3da4ca,_0x36aae7){const _0x40a80b=_0x3eb455,{ownerId:_0x2de80d,label:_0x2028b0}=_0x36aae7;let _0x268da3;_0x268da3=_0x2de80d!==this[_0x40a80b(0x399)][_0x40a80b(0x45e)][_0x40a80b(0x777)]()?this['remoteMediaStreams'][_0x40a80b(0x1d7)](_0x2de80d)[_0x40a80b(0x1d7)](_0x2028b0):this[_0x40a80b(0x659)][_0x40a80b(0x1d7)](_0x2028b0),_0x268da3[_0x40a80b(0x8ee)](_0x3da4ca,_0x36aae7[_0x40a80b(0x944)])[_0x40a80b(0x79f)](_0x36aae7,_0x268da3[_0x40a80b(0x4c4)]());}['handleUpdateMediaStream'](_0x48a301,_0x5014a7){const _0x5871df=_0x3eb455,{ownerId:_0x9d033a,label:_0x23c106}=_0x5014a7;let _0x59b467;_0x59b467=_0x9d033a!==this[_0x5871df(0x399)][_0x5871df(0x45e)][_0x5871df(0x777)]()?this[_0x5871df(0x825)]['get'](_0x9d033a)[_0x5871df(0x1d7)](_0x23c106):this[_0x5871df(0x659)][_0x5871df(0x1d7)](_0x23c106),_0x59b467['getShareableStream'](_0x48a301,_0x5014a7[_0x5871df(0x944)])[_0x5871df(0x1ed)](_0x5014a7);}['handleUnsubscribeMediaStream'](_0x4f260b,_0x20234b){const _0x41b28c=_0x3eb455,{ownerId:_0x865bac,label:_0x5ac240}=_0x20234b;let _0x2e5ae6;_0x2e5ae6=_0x865bac!==this['configs'][_0x41b28c(0x45e)]['getId']()?this['remoteMediaStreams'][_0x41b28c(0x1d7)](_0x865bac)['get'](_0x5ac240):this['localMediaStreams'][_0x41b28c(0x1d7)](_0x5ac240),_0x2e5ae6[_0x41b28c(0x8ee)](_0x4f260b)[_0x41b28c(0x421)](_0x20234b);}[_0x3eb455(0x9e9)]({id:_0x1de8cc}){const _0x54c712=_0x3eb455;this[_0x54c712(0x70e)]()[_0x54c712(0x9d2)](_0x1719cb=>{const _0x16ed6b=_0x54c712;_0x1719cb[_0x16ed6b(0x5bf)](_0x1de8cc);});}['handleNodeLeave']({id:_0x55625c}){const _0x1342e8=_0x3eb455;this[_0x1342e8(0x359)](_0x3edd65=>_0x3edd65['getOwnerId']()===_0x55625c)[_0x1342e8(0x9d2)](_0x4d4cdd=>{const _0x5a3a56=_0x1342e8;this[_0x5a3a56(0x58e)](_0x4d4cdd[_0x5a3a56(0x2e9)](),_0x4d4cdd['getLabel']());});}[_0x3eb455(0x510)]({id:_0x1058ab}){const _0x513cda=_0x3eb455;this[_0x513cda(0x8bb)][_0x513cda(0x9d2)](_0x47556b=>_0x47556b[_0x513cda(0x714)](_0x1058ab));}[_0x3eb455(0x588)]({id:_0x3e615c}){const _0x2a08c7=_0x3eb455;this[_0x2a08c7(0x8bb)][_0x2a08c7(0x9d2)](_0x39c51f=>_0x39c51f[_0x2a08c7(0x258)](_0x3e615c));}['removeJobDispatcher'](_0x4ba455){const _0x507352=_0x3eb455;if(!this[_0x507352(0x224)][_0x507352(0x8c7)](_0x4ba455))throw new _0x5669b1(_0x3ed137['JobDispatcherDoesNotExist'],_0x507352(0x980));const _0x3a3160=this[_0x507352(0x224)][_0x507352(0x1d7)](_0x4ba455);this['jobDispatchers'][_0x507352(0xaa3)](_0x4ba455),_0x3a3160[_0x507352(0x51b)](),this[_0x507352(0x399)][_0x507352(0x273)][_0x507352(0x511)](_0x3a3160);}[_0x3eb455(0x8ec)](_0x1c1b32){const _0x45616f=_0x3eb455;if(!this['jobWorkers'][_0x45616f(0x8c7)](_0x1c1b32))throw new _0x5669b1(_0x3ed137[_0x45616f(0x2a4)],_0x45616f(0x98a));const _0x4860e5=this[_0x45616f(0x1d6)][_0x45616f(0x1d7)](_0x1c1b32);this[_0x45616f(0x1d6)]['delete'](_0x1c1b32),_0x4860e5['destroy'](),this['configs'][_0x45616f(0x273)]['unregisterSystemSource'](_0x4860e5);}['removeObjectStore'](_0x2e4ae3){const _0x5e580c=_0x3eb455;if(!this[_0x5e580c(0x8bb)][_0x5e580c(0x8c7)](_0x2e4ae3))throw new _0x5669b1(_0x3ed137[_0x5e580c(0x2de)],_0x5e580c(0x9ab));const _0x4e039b=this[_0x5e580c(0x8bb)]['get'](_0x2e4ae3);this[_0x5e580c(0x8bb)][_0x5e580c(0xaa3)](_0x2e4ae3),_0x4e039b[_0x5e580c(0x51b)](),this[_0x5e580c(0x399)][_0x5e580c(0x273)]['unregisterSystemSource'](_0x4e039b);}['removeExternalStorageConnection'](_0x56fa14){const _0x1defee=_0x3eb455;if(!this['externalStorageConnections']['has'](_0x56fa14))throw new _0x5669b1(_0x3ed137[_0x1defee(0x6ec)],'Connection\x20does\x20not\x20exist');const _0x277d3b=this['externalStorageConnections'][_0x1defee(0x1d7)](_0x56fa14);this[_0x1defee(0x3ef)][_0x1defee(0xaa3)](_0x56fa14),_0x277d3b[_0x1defee(0x51b)](),this[_0x1defee(0x399)][_0x1defee(0x273)][_0x1defee(0x511)](_0x277d3b);}[_0x3eb455(0x458)](_0x324857){const _0x58d22d=_0x3eb455;if(!this['pubSubTopics'][_0x58d22d(0x8c7)](_0x324857))throw new _0x5669b1(_0x3ed137['PubSubTopicDoesNotExist'],'Stream\x20does\x20not\x20exist');const _0x2594cd=this[_0x58d22d(0x408)][_0x58d22d(0x1d7)](_0x324857);this['pubSubTopics'][_0x58d22d(0xaa3)](_0x324857),_0x2594cd[_0x58d22d(0x51b)](),this[_0x58d22d(0x399)][_0x58d22d(0x273)][_0x58d22d(0x511)](_0x2594cd);}[_0x3eb455(0x6ac)](_0x27b944){const _0x7c016=_0x3eb455;if(!this[_0x7c016(0x9ef)][_0x7c016(0x8c7)](_0x27b944))throw new _0x5669b1(_0x3ed137[_0x7c016(0x894)],_0x7c016(0x412));const _0xf4887=this[_0x7c016(0x9ef)][_0x7c016(0x1d7)](_0x27b944);this['keyValueDatabases']['delete'](_0x27b944),_0xf4887[_0x7c016(0x51b)](),this[_0x7c016(0x399)][_0x7c016(0x273)]['unregisterSystemSource'](_0xf4887);}[_0x3eb455(0x8af)](_0xfeabbd){const _0x640fdc=_0x3eb455;if(!this[_0x640fdc(0x898)]['has'](_0xfeabbd))throw new _0x5669b1(_0x3ed137[_0x640fdc(0x3b9)],'Database\x20does\x20not\x20exist');const _0x305d62=this[_0x640fdc(0x898)][_0x640fdc(0x1d7)](_0xfeabbd);this[_0x640fdc(0x898)][_0x640fdc(0xaa3)](_0xfeabbd),_0x305d62[_0x640fdc(0x51b)](),this[_0x640fdc(0x399)][_0x640fdc(0x273)][_0x640fdc(0x511)](_0x305d62);}['removeGraphDatabase'](_0x35180b){const _0xcd2465=_0x3eb455;if(!this['graphDatabases'][_0xcd2465(0x8c7)](_0x35180b))throw new _0x5669b1(_0x3ed137[_0xcd2465(0x368)],_0xcd2465(0x412));const _0x39262f=this['graphDatabases']['get'](_0x35180b);this['graphDatabases']['delete'](_0x35180b),_0x39262f[_0xcd2465(0x51b)](),this[_0xcd2465(0x399)][_0xcd2465(0x273)][_0xcd2465(0x511)](_0x39262f);}[_0x3eb455(0x2ae)](_0x602274){const _0x3777b6=_0x3eb455;if(!this[_0x3777b6(0x659)][_0x3777b6(0x8c7)](_0x602274))throw new _0x157cd9(_0x157cd9['codes'][_0x3777b6(0x836)],{'label':_0x602274,'localId':this[_0x3777b6(0x399)][_0x3777b6(0x45e)][_0x3777b6(0x777)]()});const _0x57ceb2=this[_0x3777b6(0x659)][_0x3777b6(0x1d7)](_0x602274);this[_0x3777b6(0x399)][_0x3777b6(0x273)][_0x3777b6(0x511)](_0x57ceb2),_0x57ceb2['destroy'](),this['localMediaStreams'][_0x3777b6(0xaa3)](_0x602274);}[_0x3eb455(0x58e)](_0x44caba,_0x5bebbf){const _0x553e9a=_0x3eb455;if(!this[_0x553e9a(0x825)][_0x553e9a(0x8c7)](_0x44caba))throw new _0x157cd9(_0x157cd9[_0x553e9a(0x6cc)]['NodeDoesNotExist'],{'nodeId':_0x44caba,'localId':this[_0x553e9a(0x399)]['localNode'][_0x553e9a(0x777)]()});const _0x7ded04=this[_0x553e9a(0x825)]['get'](_0x44caba);if(!_0x7ded04[_0x553e9a(0x8c7)](_0x5bebbf))throw new _0x157cd9(_0x157cd9[_0x553e9a(0x6cc)][_0x553e9a(0x1b9)],{'nodeId':_0x44caba,'label':_0x5bebbf,'localId':this[_0x553e9a(0x399)][_0x553e9a(0x45e)]['getId']()});const _0x19f544=_0x7ded04['get'](_0x5bebbf);this[_0x553e9a(0x399)][_0x553e9a(0x273)][_0x553e9a(0x511)](_0x19f544),_0x19f544[_0x553e9a(0x51b)](),_0x7ded04[_0x553e9a(0xaa3)](_0x5bebbf);}}var _0x59f156,_0x4d18a2,_0x8b3e48;!function(_0x4b3f5d){const _0x28c4a7=_0x3eb455;_0x4b3f5d['STVolatility']=_0x28c4a7(0x905),_0x4b3f5d[_0x28c4a7(0x58b)]=_0x28c4a7(0x763),_0x4b3f5d['TimePerFrame']=_0x28c4a7(0x299),_0x4b3f5d[_0x28c4a7(0x9d1)]='bitrate',_0x4b3f5d[_0x28c4a7(0x26f)]=_0x28c4a7(0x3d1),_0x4b3f5d['FramePerSecond']=_0x28c4a7(0x706),_0x4b3f5d[_0x28c4a7(0x49a)]=_0x28c4a7(0x613),_0x4b3f5d[_0x28c4a7(0x808)]=_0x28c4a7(0x3bc);}(_0x59f156||(_0x59f156={})),function(_0x143113){const _0x47ed69=_0x3eb455;_0x143113['CPUCycle']=_0x47ed69(0x21b),_0x143113[_0x47ed69(0x3e4)]=_0x47ed69(0x4bb),_0x143113['AudioVideoDelay']='cpu.av_delay',_0x143113[_0x47ed69(0x86d)]=_0x47ed69(0x4a7),_0x143113[_0x47ed69(0x9d1)]='bandwidth.bitrate',_0x143113['Jitter']='bandwidth.jitter',_0x143113['RoundTripTime']=_0x47ed69(0xa14);}(_0x4d18a2||(_0x4d18a2={})),function(_0x2dfd81){const _0x13e37a=_0x3eb455;_0x2dfd81[_0x2dfd81[_0x13e37a(0x865)]=0x0]=_0x13e37a(0x865);}(_0x8b3e48||(_0x8b3e48={}));const _0x197960=[{'type':_0x59f156[_0x3eb455(0x93c)],'reportMetric':_0x1b5509=>_0x1b5509[_0x3eb455(0x93c)],'maxThreshold':2.5},{'type':_0x59f156[_0x3eb455(0x58b)],'reportMetric':_0xa6b8b3=>_0xa6b8b3[_0x3eb455(0x58b)],'maxThreshold':0.5}],_0x361e55=[{'type':_0x59f156[_0x3eb455(0x3e4)],'reportMetric':_0xfdfe86=>{const _0x4e6245=_0x3eb455,_0x39deff=0x3e8/_0xfdfe86[_0x4e6245(0x483)];return _0xfdfe86[_0x4e6245(0xa47)]/_0x39deff;},'maxThreshold':0.75},{'type':_0x59f156['Bitrate'],'reportMetric':_0x29af9e=>{const _0xc9cf13=_0x3eb455,_0x2f2bd3=_0x29af9e[_0xc9cf13(0x483)]*_0x29af9e['frameWidth']*_0x29af9e[_0xc9cf13(0x51f)]*0.12;return _0x29af9e[_0xc9cf13(0x46e)]/_0x2f2bd3;},'minThreshold':0.25},{'type':_0x59f156[_0x3eb455(0x26f)],'reportMetric':_0x1d4122=>_0x1d4122[_0x3eb455(0x3d1)],'maxThreshold':0.6},{'type':_0x59f156['FramePerSecond'],'reportMetric':_0x4cf28b=>_0x4cf28b[_0x3eb455(0x483)],'minThreshold':0xa}],_0x329bdc=[{'type':_0x59f156[_0x3eb455(0x26f)],'reportMetric':_0x29164d=>_0x29164d[_0x3eb455(0x3d1)],'maxThreshold':0.6}],_0x162c37=[{'type':_0x59f156[_0x3eb455(0x49a)],'reportMetric':_0x5bd8a5=>_0x5bd8a5[_0x3eb455(0x872)],'maxThreshold':0x1/0x0}],_0x3e9080=[{'type':_0x59f156[_0x3eb455(0x808)],'reportMetric':_0x33724a=>_0x33724a[_0x3eb455(0x808)],'maxThreshold':0x12c}],_0x1b36e2=[{'type':_0x4d18a2['CPUCycle'],'issues':[{'type':_0x59f156[_0x3eb455(0x93c)],'threshold':0x5},{'type':_0x59f156[_0x3eb455(0x58b)],'threshold':0x5}]},{'type':_0x4d18a2[_0x3eb455(0x3e4)],'issues':[{'type':_0x59f156[_0x3eb455(0x3e4)],'threshold':0x3}]},{'type':_0x4d18a2['AudioVideoDelay'],'issues':[{'type':_0x59f156[_0x3eb455(0x808)],'threshold':0x2}]},{'type':_0x4d18a2['FramePerSecond'],'issues':[{'type':_0x59f156[_0x3eb455(0x86d)],'threshold':0x3}]},{'type':_0x4d18a2[_0x3eb455(0x9d1)],'issues':[{'type':_0x59f156['Bitrate'],'threshold':0x3}]},{'type':_0x4d18a2['Jitter'],'issues':[{'type':_0x59f156['Jitter'],'threshold':0x3}]},{'type':_0x4d18a2['RoundTripTime'],'issues':[{'type':_0x59f156['RoundTripTime'],'threshold':0x3}]}];var _0x287489,_0x8a9eb5;!function(_0x59f2a1){const _0x357aea=_0x3eb455;_0x59f2a1[_0x59f2a1[_0x357aea(0xa56)]=0x0]=_0x357aea(0xa56),_0x59f2a1[_0x59f2a1[_0x357aea(0x213)]=0x1]='LocalReport';}(_0x287489||(_0x287489={}));class _0x17694e{['configs'];[_0x3eb455(0x70b)]=[];[_0x3eb455(0x73b)];constructor(_0x510393){const _0x4818bc=_0x3eb455;this[_0x4818bc(0x399)]=_0x510393,this[_0x4818bc(0x399)][_0x4818bc(0x273)][_0x4818bc(0x7b4)](this);}[_0x3eb455(0x734)](_0x5639ac){const _0xd4e58f=_0x3eb455;this[_0xd4e58f(0x73b)]=_0x5639ac;}['unregisterSystemPublisher'](){const _0x3ee445=_0x3eb455;this[_0x3ee445(0x73b)]=void 0x0;}[_0x3eb455(0x579)](){const _0x20c5a0=_0x3eb455;this[_0x20c5a0(0x399)][_0x20c5a0(0x273)][_0x20c5a0(0x511)](this),this[_0x20c5a0(0x70b)]=[];}[_0x3eb455(0xad5)](_0x3030ef){const _0x563b70=_0x3eb455;switch(_0x3030ef[_0x563b70(0x211)][_0x563b70(0x6d8)]){case _0x287489[_0x563b70(0x213)]:this[_0x563b70(0x32f)](_0x3030ef[_0x563b70(0x211)][_0x563b70(0x7b8)]);break;case _0x287489[_0x563b70(0xa56)]:this[_0x563b70(0xa68)](_0x3030ef[_0x563b70(0x211)][_0x563b70(0x7b8)]);}}[_0x3eb455(0x5a1)](_0x53c40d,_0x4fcd9c,_0x34951b,_0x5e42b6){const _0x7fa3f5=_0x3eb455,_0x3989ed=_0x1b36e2['find'](_0x200bb8=>_0x200bb8[_0x7fa3f5(0x70b)]['some'](_0x19a4b4=>_0x19a4b4[_0x7fa3f5(0x6d8)]===_0x53c40d));_0x5e42b6>=_0x3989ed[_0x7fa3f5(0x70b)][_0x7fa3f5(0xa41)](_0x56c4c7=>_0x56c4c7[_0x7fa3f5(0x6d8)]===_0x53c40d)[_0x7fa3f5(0x37c)]&&(this[_0x7fa3f5(0x56f)](_0x3989ed[_0x7fa3f5(0x6d8)],_0x4fcd9c,_0x34951b),this['issues']=this[_0x7fa3f5(0x70b)][_0x7fa3f5(0x638)](_0x9f2a4b=>!(_0x9f2a4b[_0x7fa3f5(0x6d8)]===_0x53c40d&&_0x9f2a4b[_0x7fa3f5(0x924)]===_0x4fcd9c&&_0x9f2a4b[_0x7fa3f5(0x487)]===_0x34951b)));}[_0x3eb455(0x32f)](_0x295fb1){const _0x13bbf8=_0x3eb455;_0x197960[_0x13bbf8(0x9d2)](_0x16636d=>{const _0x128b30=_0x13bbf8,_0x58ac6c=_0x16636d['reportMetric'](_0x295fb1);_0x16636d[_0x128b30(0x8e1)]&&_0x58ac6c>_0x16636d[_0x128b30(0x8e1)]&&this[_0x128b30(0x851)](_0x16636d[_0x128b30(0x6d8)],this['configs'][_0x128b30(0x45e)][_0x128b30(0x777)](),_0x56f542['Sender'],_0x58ac6c),_0x16636d[_0x128b30(0x36b)]&&_0x58ac6c<_0x16636d[_0x128b30(0x36b)]&&this[_0x128b30(0x851)](_0x16636d['type'],this[_0x128b30(0x399)][_0x128b30(0x45e)][_0x128b30(0x777)](),_0x56f542['Sender'],_0x58ac6c);});}[_0x3eb455(0xa68)](_0x4c44e7){const _0x20fa82=_0x3eb455;let _0x25e99c=[];switch(_0x4c44e7[_0x20fa82(0x487)]){case _0x56f542['Sender']:_0x25e99c=_0x162c37;break;case _0x56f542[_0x20fa82(0x255)]:_0x25e99c=_0x3e9080;}_0x4c44e7[_0x20fa82(0x2e1)]&&this['detectVideoIssues'](_0x4c44e7[_0x20fa82(0x924)],_0x56f542[_0x20fa82(0xa24)],_0x4c44e7[_0x20fa82(0x2e1)]),_0x4c44e7[_0x20fa82(0x66c)]&&this['detectAudioIssues'](_0x4c44e7['nodeId'],_0x56f542[_0x20fa82(0xa24)],_0x4c44e7[_0x20fa82(0x66c)]),_0x25e99c['forEach'](_0x5537be=>{const _0x1d7318=_0x20fa82,_0x3ffc15=_0x5537be[_0x1d7318(0x68b)](_0x4c44e7);_0x5537be[_0x1d7318(0x8e1)]&&_0x3ffc15>_0x5537be[_0x1d7318(0x8e1)]&&this[_0x1d7318(0x851)](_0x5537be[_0x1d7318(0x6d8)],_0x4c44e7[_0x1d7318(0x924)],_0x56f542[_0x1d7318(0xa24)],_0x3ffc15),_0x5537be[_0x1d7318(0x36b)]&&_0x3ffc15<_0x5537be['minThreshold']&&this[_0x1d7318(0x851)](_0x5537be[_0x1d7318(0x6d8)],_0x4c44e7[_0x1d7318(0x924)],_0x56f542[_0x1d7318(0xa24)],_0x3ffc15);});}[_0x3eb455(0x904)](_0x33d08b,_0x6a2313,_0xf7da92){const _0x4ae0d9=_0x3eb455;0x0!==_0xf7da92[_0x4ae0d9(0x46e)]&&_0x361e55['forEach'](_0x22c5bc=>{const _0x54153e=_0x4ae0d9,_0x49c4d2=_0x22c5bc[_0x54153e(0x68b)](_0xf7da92);_0x22c5bc[_0x54153e(0x8e1)]&&_0x49c4d2>_0x22c5bc['maxThreshold']&&this[_0x54153e(0x851)](_0x22c5bc[_0x54153e(0x6d8)],_0x33d08b,_0x6a2313,_0x49c4d2,'video'),_0x22c5bc[_0x54153e(0x36b)]&&_0x49c4d2<_0x22c5bc[_0x54153e(0x36b)]&&this[_0x54153e(0x851)](_0x22c5bc['type'],_0x33d08b,_0x6a2313,_0x49c4d2,_0x54153e(0x2e1));});}[_0x3eb455(0x4a4)](_0x40b336,_0x47b2e5,_0x4df7ba){const _0x199d61=_0x3eb455;0x0!==_0x4df7ba['bitrate']&&_0x329bdc[_0x199d61(0x9d2)](_0x11acf5=>{const _0x1399b2=_0x199d61,_0x5d872d=_0x11acf5[_0x1399b2(0x68b)](_0x4df7ba);_0x11acf5['maxThreshold']&&_0x5d872d>_0x11acf5[_0x1399b2(0x8e1)]&&this[_0x1399b2(0x851)](_0x11acf5['type'],_0x40b336,_0x47b2e5,_0x5d872d,_0x1399b2(0x66c)),_0x11acf5[_0x1399b2(0x36b)]&&_0x5d872d<_0x11acf5[_0x1399b2(0x36b)]&&this[_0x1399b2(0x851)](_0x11acf5[_0x1399b2(0x6d8)],_0x40b336,_0x47b2e5,_0x5d872d,_0x1399b2(0x66c));});}['addIssue'](_0x5630a5,_0x3a415c,_0x31330b,_0x5e82f4,_0x431190){const _0x1cf2eb=_0x3eb455;_0x2c9fd4[_0x1cf2eb(0x2f3)](_0x51c80b['Detection'],_0x1cf2eb(0x6e6)+_0x5630a5,_0x5630a5,_0x5e82f4),_0x2c9fd4[_0x1cf2eb(0x95c)](_0x1cf2eb(0xa51),{'clusterId':this['configs'][_0x1cf2eb(0x9ac)],'nodeId':this[_0x1cf2eb(0x399)][_0x1cf2eb(0x45e)][_0x1cf2eb(0x777)](),'nodeType':this[_0x1cf2eb(0x399)]['localNode'][_0x1cf2eb(0x6d8)],'remoteId':_0x3a415c,'data':{'type':_0x5630a5,'value':_0x5e82f4,'kind':_0x431190}}),this['issues']=this['issues'][_0x1cf2eb(0x638)](_0x130f5b=>Date[_0x1cf2eb(0xa6a)]()-_0x130f5b[_0x1cf2eb(0x373)]<0x7530),this['issues'][_0x1cf2eb(0x69a)]({'timestamp':Date[_0x1cf2eb(0xa6a)](),'type':_0x5630a5,'nodeId':_0x3a415c,'origin':_0x31330b,'value':_0x5e82f4,'kind':_0x431190});const _0x56900b=this[_0x1cf2eb(0x70b)][_0x1cf2eb(0x638)](_0x5866d4=>_0x5866d4[_0x1cf2eb(0x6d8)]===_0x5630a5&&_0x5866d4[_0x1cf2eb(0x924)]===_0x3a415c&&_0x5866d4['origin']===_0x31330b)[_0x1cf2eb(0x3ed)];this['detectProblems'](_0x5630a5,_0x3a415c,_0x31330b,_0x56900b);}[_0x3eb455(0x56f)](_0x552ac2,_0x53819e,_0x26cabd){const _0x42a397=_0x3eb455;_0x2c9fd4[_0x42a397(0x2f3)](_0x51c80b[_0x42a397(0x656)],_0x42a397(0x288)+_0x552ac2),_0x2c9fd4[_0x42a397(0x95c)](_0x42a397(0x354),{'clusterId':this[_0x42a397(0x399)][_0x42a397(0x9ac)],'nodeId':this[_0x42a397(0x399)][_0x42a397(0x45e)][_0x42a397(0x777)](),'nodeType':this[_0x42a397(0x399)][_0x42a397(0x45e)]['type'],'remoteId':_0x53819e,'data':{'type':_0x552ac2}}),this[_0x42a397(0x73b)]?.[_0x42a397(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5['Detection'],'content':{'type':_0x8b3e48[_0x42a397(0x865)],'data':{'timestamp':Date[_0x42a397(0xa6a)](),'nodeId':_0x53819e,'origin':_0x56f542[_0x42a397(0xa24)],'type':_0x552ac2}}});}}class _0x5100f7 extends _0x2a141b{[_0x3eb455(0x6d8)]=_0x4d2150[_0x3eb455(0x28b)][_0x3eb455(0x1b8)];}class _0x5e7ec2 extends _0x5100f7{['systemTopic'];[_0x3eb455(0x1e7)]=Date[_0x3eb455(0xa6a)]();[_0x3eb455(0x5b2)];[_0x3eb455(0x3c4)];[_0x3eb455(0x579)](){const _0x5a1807=_0x3eb455;this[_0x5a1807(0x5b2)]&&(clearTimeout(this[_0x5a1807(0x5b2)]),delete this[_0x5a1807(0x5b2)]),delete this['lastUpdated'],this[_0x5a1807(0x1e7)]=Date['now'](),super[_0x5a1807(0x579)]();}['registerSystemPublisher'](_0x31f6b1){this['systemTopic']=_0x31f6b1;}['unregisterSystemPublisher'](){const _0x5d0058=_0x3eb455;delete this[_0x5d0058(0x73b)];}['answerJoin'](_0x122730){const _0xfa62a8=_0x3eb455;!this[_0xfa62a8(0x5b2)]&&this[_0xfa62a8(0x66a)]&&this[_0xfa62a8(0x73b)][_0xfa62a8(0x5bf)]({'sourceId':this['id'],'destinationIds':[_0x122730],'propagate':!0x0,'messageType':_0x3ef5e5[_0xfa62a8(0x97a)],'content':{'type':_0x40578c[_0xfa62a8(0x470)],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0xfa62a8(0x832)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this['currentVersion']}});}[_0x3eb455(0x84a)](_0x167fd9){const _0x4e3c45=_0x3eb455;this[_0x4e3c45(0x417)][_0x4e3c45(0x8c7)](_0x167fd9)||(this[_0x4e3c45(0x417)][_0x4e3c45(0x520)](_0x167fd9),this['incrementVersion'](),this[_0x4e3c45(0x4f3)](!0x0));}['removeRemoteConnection'](_0x2f6b34){const _0x1abe84=_0x3eb455;this[_0x1abe84(0x417)]['has'](_0x2f6b34)&&(this[_0x1abe84(0x417)]['delete'](_0x2f6b34),this['incrementVersion'](),this[_0x1abe84(0x4f3)](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}[_0x3eb455(0x91c)](_0x427ff1,_0x17f38b=!0x0){const _0x5f5b94=_0x3eb455;this[_0x5f5b94(0x66a)]!==_0x427ff1&&(this[_0x5f5b94(0x66a)]=_0x427ff1,_0x17f38b&&(this[_0x5f5b94(0x445)](),this[_0x5f5b94(0x4f3)]()));}[_0x3eb455(0x445)](){const _0x27f30f=_0x3eb455;this[_0x27f30f(0x1e7)]=Date[_0x27f30f(0xa6a)]();}[_0x3eb455(0x4f3)](_0x460fbc=!0x1){const _0x3b0b22=_0x3eb455;if(this[_0x3b0b22(0x66a)]){if(this[_0x3b0b22(0x3c4)]||(this[_0x3b0b22(0x3c4)]=Date['now']()),this[_0x3b0b22(0x5b2)]){if(Date[_0x3b0b22(0xa6a)]()-this[_0x3b0b22(0x3c4)]>0x2328)return;clearTimeout(this[_0x3b0b22(0x5b2)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x5ec9ca=_0x3b0b22;delete this[_0x5ec9ca(0x3c4)],delete this[_0x5ec9ca(0x5b2)],this[_0x5ec9ca(0x73b)][_0x5ec9ca(0x5bf)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x3ef5e5[_0x5ec9ca(0x97a)],'content':{'type':_0x460fbc?_0x40578c[_0x5ec9ca(0x500)]:_0x40578c[_0x5ec9ca(0x470)],'id':this['id'],'metaData':{'type':this[_0x5ec9ca(0x6d8)]},'rank':this[_0x5ec9ca(0x832)](),'remoteConnections':Array[_0x5ec9ca(0x495)](this['remoteConnections']),'version':this['currentVersion']}});},0x3e8);}}}class _0x2cd433 extends _0x1a33a4{[_0x3eb455(0x73b)];[_0x3eb455(0x1e7)]=Date['now']();[_0x3eb455(0x5b2)];[_0x3eb455(0x3c4)];[_0x3eb455(0x579)](){const _0x22c81e=_0x3eb455;this[_0x22c81e(0x5b2)]&&(clearTimeout(this[_0x22c81e(0x5b2)]),delete this[_0x22c81e(0x5b2)]),delete this['lastUpdated'],this[_0x22c81e(0x1e7)]=Date[_0x22c81e(0xa6a)](),super[_0x22c81e(0x579)]();}[_0x3eb455(0x734)](_0x500ea3){this['systemTopic']=_0x500ea3;}[_0x3eb455(0x416)](){const _0x4313f8=_0x3eb455;delete this[_0x4313f8(0x73b)];}[_0x3eb455(0x75a)](_0x23d667){const _0x1089a8=_0x3eb455;!this[_0x1089a8(0x5b2)]&&this[_0x1089a8(0x66a)]&&this[_0x1089a8(0x73b)][_0x1089a8(0x5bf)]({'sourceId':this['id'],'destinationIds':[_0x23d667],'propagate':!0x0,'messageType':_0x3ef5e5['Node'],'content':{'type':_0x40578c[_0x1089a8(0x470)],'id':this['id'],'metaData':{'type':this[_0x1089a8(0x6d8)],'displayName':this['getDisplayName'](),'email':this[_0x1089a8(0x248)]()},'rank':this[_0x1089a8(0x832)](),'remoteConnections':Array['from'](this[_0x1089a8(0x417)]),'version':this['currentVersion']}});}[_0x3eb455(0x84a)](_0x5f5a7f){const _0xd1cb82=_0x3eb455;this[_0xd1cb82(0x417)][_0xd1cb82(0x8c7)](_0x5f5a7f)||(this[_0xd1cb82(0x417)][_0xd1cb82(0x520)](_0x5f5a7f),this[_0xd1cb82(0x445)](),this[_0xd1cb82(0x4f3)](!0x0));}['removeRemoteConnection'](_0x3e55aa){const _0x3a5b3c=_0x3eb455;this['remoteConnections'][_0x3a5b3c(0x8c7)](_0x3e55aa)&&(this['remoteConnections']['delete'](_0x3e55aa),this['incrementVersion'](),this[_0x3a5b3c(0x4f3)](!0x0));}[_0x3eb455(0xa71)](){const _0x5c561a=_0x3eb455;return this[_0x5c561a(0x1e7)];}['setDisplayName'](_0x374b40){const _0x3e90f7=_0x3eb455;this[_0x3e90f7(0x8c8)]!==_0x374b40&&(this[_0x3e90f7(0x8c8)]=_0x374b40,this['incrementVersion'](),this[_0x3e90f7(0x4f3)]());}[_0x3eb455(0xa5a)](_0x2ad96b){const _0x1df7dc=_0x3eb455;this[_0x1df7dc(0x776)]!==_0x2ad96b&&(this[_0x1df7dc(0x776)]=_0x2ad96b,this['incrementVersion'](),this[_0x1df7dc(0x4f3)]());}[_0x3eb455(0x91c)](_0x13534b,_0x569bc6=!0x0){const _0x2569d8=_0x3eb455;this[_0x2569d8(0x66a)]!==_0x13534b&&(this['rank']=_0x13534b,_0x569bc6&&(this[_0x2569d8(0x445)](),this[_0x2569d8(0x4f3)]()));}['incrementVersion'](){const _0x2f8670=_0x3eb455;this['currentVersion']=Date[_0x2f8670(0xa6a)]();}[_0x3eb455(0x4f3)](_0x1fac3f=!0x1){const _0x1e5f1d=_0x3eb455;if(this[_0x1e5f1d(0x66a)]){if(this[_0x1e5f1d(0x3c4)]||(this[_0x1e5f1d(0x3c4)]=Date[_0x1e5f1d(0xa6a)]()),this[_0x1e5f1d(0x5b2)]){if(Date['now']()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x1e5f1d(0x5b2)]);}this[_0x1e5f1d(0x5b2)]=setTimeout(()=>{const _0x2671eb=_0x1e5f1d;delete this['lastUpdated'],delete this[_0x2671eb(0x5b2)],this[_0x2671eb(0x73b)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x3ef5e5['Node'],'content':{'type':_0x1fac3f?_0x40578c[_0x2671eb(0x500)]:_0x40578c[_0x2671eb(0x470)],'id':this['id'],'metaData':{'type':this[_0x2671eb(0x6d8)],'displayName':this[_0x2671eb(0xa8f)](),'email':this[_0x2671eb(0x248)]()},'rank':this[_0x2671eb(0x832)](),'remoteConnections':Array[_0x2671eb(0x495)](this[_0x2671eb(0x417)]),'version':this[_0x2671eb(0x1e7)]}});},0x3e8);}}}class _0x565657{['id'];[_0x3eb455(0xa35)];[_0x3eb455(0x2df)];[_0x3eb455(0x1f4)];[_0x3eb455(0x6d8)]=_0x4d2150[_0x3eb455(0x28b)][_0x3eb455(0x1b8)];[_0x3eb455(0xa0d)];constructor(_0x1115f8,_0x3da808,_0x119549,_0x4a81e8){const _0x21cc7b=_0x3eb455;this['id']=_0x1115f8,this['groupId']=_0x3da808,this[_0x21cc7b(0x2df)]=_0x119549,this[_0x21cc7b(0x1f4)]=_0x4a81e8;}['getId'](){return this['id'];}[_0x3eb455(0x774)](_0x3412f7){const _0x3dc014=_0x3eb455,_0x7b0db3=(0x0,_0x1a96a4[_0x3dc014(0x605)])((0x0,_0x1a96a4[_0x3dc014(0x1e4)])(_0x418361[_0x3dc014(0x9e1)](),'developers/'+this[_0x3dc014(0x2df)]+'/resources/agent/items/'+this['groupId']),_0x448c3c=>{const _0x4849bf=_0x3dc014;if(_0x448c3c['exists']()){const _0x18a363=_0x448c3c['data']();if(this[_0x4849bf(0x1f4)][_0x4849bf(0x373)][_0x4849bf(0x534)](_0x18a363[_0x4849bf(0x373)]))return;_0x2c9fd4['log'](_0x51c80b[_0x4849bf(0x97a)],'agent-config-changed',{'agentId':this['id'],'groupId':this[_0x4849bf(0xa35)],'oldConfig':this[_0x4849bf(0x1f4)],'newConfig':_0x18a363}),this[_0x4849bf(0x1f4)]=_0x18a363,_0x3412f7();}});return()=>_0x7b0db3();}[_0x3eb455(0x834)](_0x5a98eb){const _0x525794=_0x3eb455;return this[_0x525794(0x68d)](this[_0x525794(0xa35)],_0x5a98eb),_0x4dd2fb[_0x525794(0x409)](()=>this[_0x525794(0x68d)](this[_0x525794(0xa35)],_0x5a98eb),0x7530);}[_0x3eb455(0x1ac)](){const _0x2dd9b0=_0x3eb455;if(!this[_0x2dd9b0(0xa0d)])throw new _0x157cd9(_0x157cd9[_0x2dd9b0(0x6cc)][_0x2dd9b0(0xab5)]);return this[_0x2dd9b0(0xa0d)];}async[_0x3eb455(0x68d)](_0x66bbf,_0x43f8ad){const _0x298827=_0x3eb455,_0x28b84e=await _0x43f8ad();this[_0x298827(0xa0d)]=_0x28b84e,await(0x0,_0x1a96a4[_0x298827(0x7a3)])((0x0,_0x1a96a4[_0x298827(0x23e)])(_0x418361[_0x298827(0x9e1)](),'developers/'+this[_0x298827(0x2df)]+_0x298827(0x22f)),{'agentId':this['id'],'groupId':_0x66bbf,'timestamp':(0x0,_0x1a96a4[_0x298827(0x633)])(),'capacity':_0x28b84e});}}!function(_0x107d1c){const _0x4316d1=_0x3eb455;_0x107d1c[_0x107d1c[_0x4316d1(0x9cf)]=0x0]=_0x4316d1(0x9cf),_0x107d1c[_0x107d1c[_0x4316d1(0x456)]=0x1]='Offline';}(_0x8a9eb5||(_0x8a9eb5={}));class _0x27175d extends _0x5100f7{[_0x3eb455(0x1e7)];[_0x3eb455(0x1e8)]=_0x8a9eb5['Online'];['lastUpdated']=Date['now']();constructor(_0x57fedd,_0x5e10d0=new Set(),_0x187b98,_0x17038b){super(_0x57fedd,_0x5e10d0,_0x17038b),this['currentVersion']=_0x187b98;}['getCurrentVersion'](){const _0x38e62f=_0x3eb455;return this[_0x38e62f(0x1e7)];}[_0x3eb455(0x3e9)](){const _0x9051ae=_0x3eb455;return this[_0x9051ae(0x1e8)];}['getLastUpdated'](){const _0x310618=_0x3eb455;return this[_0x310618(0x3c4)];}['setRank'](_0x235089){const _0xcb7fd1=_0x3eb455;this['rank']!==_0x235089&&(this['rank']=_0x235089,this[_0xcb7fd1(0x209)]());}['setRemoteConnections'](_0x47479a){const _0x422f49=_0x3eb455;let _0x23f0ca=!0x1;for(const _0x1e305a of this[_0x422f49(0x417)])_0x47479a[_0x422f49(0x721)](_0x1e305a)||(_0x23f0ca=!0x0,this[_0x422f49(0x417)]['delete'](_0x1e305a));for(const _0x4966da of _0x47479a)this[_0x422f49(0x417)][_0x422f49(0x8c7)](_0x4966da)||(_0x23f0ca=!0x0,this[_0x422f49(0x417)]['add'](_0x4966da));_0x23f0ca&&this[_0x422f49(0x209)]();}[_0x3eb455(0x2d3)](_0x1af82e){const _0x338a43=_0x3eb455;this['currentVersion']!==_0x1af82e&&(this['currentVersion']=_0x1af82e,this[_0x338a43(0x209)]());}[_0x3eb455(0xa31)](_0x8352c5){const _0x5ab48c=_0x3eb455;this[_0x5ab48c(0x1e8)]!==_0x8352c5&&(this[_0x5ab48c(0x1e8)]=_0x8352c5,this['updateLastUpdated'](),_0x8352c5===_0x8a9eb5[_0x5ab48c(0x456)]&&this['close']());}[_0x3eb455(0x209)](){const _0xfed9d8=_0x3eb455;this['lastUpdated']=Date[_0xfed9d8(0xa6a)]();}}class _0x11c0d3 extends _0x1a33a4{[_0x3eb455(0x1e7)];['status']=_0x8a9eb5[_0x3eb455(0x9cf)];[_0x3eb455(0x3c4)]=Date[_0x3eb455(0xa6a)]();constructor(_0x317f84,_0x100ecd,_0x98e81b,_0x35c113=new Set(),_0x51c688,_0x48346e){super(_0x317f84,_0x100ecd,_0x98e81b,_0x35c113,_0x48346e),this['currentVersion']=_0x51c688;}[_0x3eb455(0xa71)](){const _0x6d44d3=_0x3eb455;return this[_0x6d44d3(0x1e7)];}[_0x3eb455(0x3e9)](){return this['status'];}[_0x3eb455(0xa75)](){const _0xde24fb=_0x3eb455;return this[_0xde24fb(0x3c4)];}[_0x3eb455(0x9fc)](_0x5a3d28){const _0x2273e6=_0x3eb455;this[_0x2273e6(0x8c8)]!==_0x5a3d28&&(this[_0x2273e6(0x8c8)]=_0x5a3d28,this[_0x2273e6(0x209)]());}['setEmail'](_0x3baa12){const _0x3f0cfe=_0x3eb455;this[_0x3f0cfe(0x776)]!==_0x3baa12&&(this[_0x3f0cfe(0x776)]=_0x3baa12,this[_0x3f0cfe(0x209)]());}[_0x3eb455(0x91c)](_0x3e5595){const _0x377453=_0x3eb455;this[_0x377453(0x66a)]!==_0x3e5595&&(this[_0x377453(0x66a)]=_0x3e5595,this[_0x377453(0x209)]());}[_0x3eb455(0x3b2)](_0x2c0d64){const _0x1de841=_0x3eb455;let _0x4e73bb=!0x1;for(const _0x27d98e of this['remoteConnections'])_0x2c0d64[_0x1de841(0x721)](_0x27d98e)||(_0x4e73bb=!0x0,this[_0x1de841(0x417)]['delete'](_0x27d98e));for(const _0x1ba3a0 of _0x2c0d64)this[_0x1de841(0x417)][_0x1de841(0x8c7)](_0x1ba3a0)||(_0x4e73bb=!0x0,this[_0x1de841(0x417)][_0x1de841(0x520)](_0x1ba3a0));_0x4e73bb&&this[_0x1de841(0x209)]();}['setCurrentVersion'](_0x548a27){const _0x3af9ff=_0x3eb455;this[_0x3af9ff(0x1e7)]!==_0x548a27&&(this[_0x3af9ff(0x1e7)]=_0x548a27,this[_0x3af9ff(0x209)]());}['setStatus'](_0x1461ba){const _0x4cb039=_0x3eb455;this['status']!==_0x1461ba&&(this[_0x4cb039(0x1e8)]=_0x1461ba,this[_0x4cb039(0x209)](),_0x1461ba===_0x8a9eb5[_0x4cb039(0x456)]&&this[_0x4cb039(0x579)]());}[_0x3eb455(0x209)](){const _0x408d5f=_0x3eb455;this[_0x408d5f(0x3c4)]=Date[_0x408d5f(0xa6a)]();}}class _0x4389c9{[_0x3eb455(0x2df)];[_0x3eb455(0x9ac)];[_0x3eb455(0x45e)];[_0x3eb455(0x962)];[_0x3eb455(0x5d1)]=_0x2f8e97();[_0x3eb455(0x5c1)];[_0x3eb455(0x33c)];[_0x3eb455(0x1e3)];[_0x3eb455(0x598)]=!0x1;[_0x3eb455(0x2c8)];[_0x3eb455(0x317)];constructor(_0x3e60ae,_0x56ddeb,_0x4c9f40,_0x3b224b){const _0x455c1d=_0x3eb455;this[_0x455c1d(0x2df)]=_0x3e60ae,this['clusterId']=_0x56ddeb,this[_0x455c1d(0x45e)]=_0x4c9f40,this[_0x455c1d(0x962)]=_0x3b224b,this['clusterKey']=_0x455c1d(0x6cd)+this[_0x455c1d(0x2df)]+_0x455c1d(0x6cd)+this[_0x455c1d(0x9ac)],this[_0x455c1d(0x317)]=_0x455c1d(0x6cd)+this['vendorId']+'ccc'+this[_0x455c1d(0x45e)][_0x455c1d(0x777)](),this[_0x455c1d(0x5c1)]=(0x0,_0x432f7f['onValue'])((0x0,_0x432f7f[_0x455c1d(0x7cf)])(_0x418361[_0x455c1d(0x80b)](),_0x455c1d(0x94b)),_0x19cdc5=>{const _0x3c0e46=_0x455c1d;!0x0!==_0x19cdc5[_0x3c0e46(0xa70)]()?this[_0x3c0e46(0x598)]&&_0x2c9fd4[_0x3c0e46(0x4f1)](_0x3c0e46(0x5a2),{'clusterId':this[_0x3c0e46(0x9ac)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x3c0e46(0x6d8)]}):(this[_0x3c0e46(0x598)]=!0x0,this[_0x3c0e46(0xa5c)](),_0x2c9fd4[_0x3c0e46(0x772)](_0x3c0e46(0x32e),{'clusterId':this[_0x3c0e46(0x9ac)],'nodeId':this[_0x3c0e46(0x45e)][_0x3c0e46(0x777)](),'nodeType':this[_0x3c0e46(0x45e)]['type']}));});}async['join'](){const _0x556ca8=_0x3eb455;await this[_0x556ca8(0x80c)]();const _0x591e11=await this[_0x556ca8(0x871)]();return this[_0x556ca8(0x33c)]=(0x0,_0x432f7f[_0x556ca8(0x9c2)])((0x0,_0x432f7f['ref'])(_0x418361[_0x556ca8(0x80b)](),_0x556ca8(0x29f)+this[_0x556ca8(0x2c8)]+_0x556ca8(0x6ff)),_0xe90590=>{const _0x4d6429=_0x556ca8,_0x281ad6=_0xe90590[_0x4d6429(0x646)];if(!_0x281ad6)return;const _0x48cd1b=_0x281ad6[_0x4d6429(0x4d4)](_0x4d6429(0x6cd)+this[_0x4d6429(0x2df)]+'ccc','');this[_0x4d6429(0x5d1)]['publish'](_0x48cd1b);}),_0x591e11;}async[_0x3eb455(0x579)](){const _0x45319e=_0x3eb455;this[_0x45319e(0x33c)]?.(),delete this[_0x45319e(0x33c)],this['onDisconnectHandler']?.[_0x45319e(0x250)](),delete this[_0x45319e(0x1e3)],this[_0x45319e(0x5c1)]?.(),delete this[_0x45319e(0x5c1)],await(0x0,_0x432f7f[_0x45319e(0x212)])((0x0,_0x432f7f[_0x45319e(0x7cf)])(_0x418361['getDatabase'](),_0x45319e(0x29f)+this[_0x45319e(0x2c8)]+'/nodes/'+this[_0x45319e(0x317)]));}[_0x3eb455(0x427)](_0x418b31){const _0x1e1eff=_0x3eb455;return this[_0x1e1eff(0x5d1)]['subscribe'](_0x418b31);}async['getAncestors'](){const _0x48f45e=_0x3eb455,_0x1f0970=[],_0x1fabcf=await(0x0,_0x432f7f[_0x48f45e(0x1d7)])((0x0,_0x432f7f[_0x48f45e(0x7cf)])(_0x418361[_0x48f45e(0x80b)](),_0x48f45e(0x29f)+this[_0x48f45e(0x2c8)]+'/nodes')),_0x5c3fc4=[];return _0x1fabcf[_0x48f45e(0x9d2)](_0x22d1e8=>{const _0x4c3e9c=_0x48f45e,_0x2e4b61=_0x22d1e8['key']?.[_0x4c3e9c(0x4d4)](_0x4c3e9c(0x6cd)+this['vendorId']+_0x4c3e9c(0x6cd),'');_0x5c3fc4['push']({'id':_0x2e4b61,'joinedAt':_0x22d1e8[_0x4c3e9c(0xa70)]()[_0x4c3e9c(0x775)],'priority':_0x22d1e8[_0x4c3e9c(0xa70)]()[_0x4c3e9c(0x618)]});}),_0x5c3fc4['sort']((_0x3fad6b,_0x553d7b)=>_0x3fad6b[_0x48f45e(0x775)]===_0x553d7b['joinedAt']?_0x3fad6b[_0x48f45e(0x618)]-_0x553d7b[_0x48f45e(0x618)]:_0x3fad6b[_0x48f45e(0x775)]-_0x553d7b[_0x48f45e(0x775)])[_0x48f45e(0x903)](_0x5c3fc4[_0x48f45e(0xa04)](_0x398a5e=>_0x398a5e['id']===this[_0x48f45e(0x45e)][_0x48f45e(0x777)]())),_0x5c3fc4[_0x48f45e(0x3d8)]((_0xc57b3c,_0x5e6655)=>_0x5e6655[_0x48f45e(0x775)]===_0xc57b3c[_0x48f45e(0x775)]?_0x5e6655[_0x48f45e(0x618)]-_0xc57b3c['priority']:_0x5e6655[_0x48f45e(0x775)]-_0xc57b3c[_0x48f45e(0x775)])[_0x48f45e(0x9d2)](_0x16abb6=>{const _0x3ce0a0=_0x48f45e;_0x1f0970['length']>=this[_0x3ce0a0(0x962)]||_0x1f0970[_0x3ce0a0(0x69a)](_0x16abb6['id']);}),_0x2c9fd4['logEvent'](_0x48f45e(0xa55),{'clusterId':this[_0x48f45e(0x9ac)],'nodeId':this[_0x48f45e(0x45e)][_0x48f45e(0x777)](),'nodeType':this[_0x48f45e(0x45e)]['type'],'data':{'ancestorIds':_0x1f0970,'allNodes':_0x5c3fc4}}),_0x1f0970;}async[_0x3eb455(0x80c)](){const _0x461a23=_0x3eb455;await(0x0,_0x432f7f[_0x461a23(0x90d)])((0x0,_0x432f7f['ref'])(_0x418361[_0x461a23(0x80b)](),_0x461a23(0x29f)+this['clusterKey']+_0x461a23(0x6c7)+this[_0x461a23(0x317)]),{'joinedAt':(0x0,_0x432f7f[_0x461a23(0x633)])(),'priority':Math[_0x461a23(0x46a)]()});}[_0x3eb455(0xa5c)](){const _0x49d598=_0x3eb455;this[_0x49d598(0x1e3)]&&this[_0x49d598(0x1e3)]['cancel'](),this[_0x49d598(0x1e3)]=(0x0,_0x432f7f[_0x49d598(0x831)])((0x0,_0x432f7f[_0x49d598(0x7cf)])(_0x418361['getDatabase'](),_0x49d598(0x29f)+this[_0x49d598(0x2c8)]+_0x49d598(0x6c7)+this[_0x49d598(0x317)])),this[_0x49d598(0x1e3)][_0x49d598(0x212)]();}}class _0x59f05b{[_0x3eb455(0x399)];[_0x3eb455(0x9f6)];[_0x3eb455(0x2ff)];['discoveryService'];[_0x3eb455(0x23f)];[_0x3eb455(0x30c)]=[];[_0x3eb455(0x73b)];[_0x3eb455(0x9f0)]=new Map();['debounceProcessRank'];[_0x3eb455(0x6e3)];[_0x3eb455(0x7ee)];[_0x3eb455(0x8fe)];[_0x3eb455(0x6b6)];[_0x3eb455(0x259)];constructor(_0x3cccaa,_0x5455d0){const _0x55d52a=_0x3eb455;this[_0x55d52a(0x399)]=_0x3cccaa,this[_0x55d52a(0x9f6)]=_0x5455d0,this[_0x55d52a(0x7ee)]=new Promise((_0x26664c,_0x22fe6b)=>{const _0x3c19c9=_0x55d52a;this[_0x3c19c9(0x8fe)]=_0x26664c,this[_0x3c19c9(0x6b6)]=_0x22fe6b;}),this[_0x55d52a(0x4be)]=new _0x4389c9(this[_0x55d52a(0x399)]['vendorId'],this[_0x55d52a(0x399)][_0x55d52a(0x9ac)],this[_0x55d52a(0x399)][_0x55d52a(0x45e)],this[_0x55d52a(0x9f6)]['getMinConnections']()),this[_0x55d52a(0x23f)]=this['discoveryService']['onNodeDisconnect'](this[_0x55d52a(0x485)][_0x55d52a(0x64d)](this)),this[_0x55d52a(0x399)][_0x55d52a(0x273)][_0x55d52a(0x7b4)](this['configs'][_0x55d52a(0x45e)]),this[_0x55d52a(0x399)][_0x55d52a(0x273)]['registerSystemSource'](this),this[_0x55d52a(0x2ff)]=_0x4dd2fb[_0x55d52a(0x409)](()=>{const _0x3eeb7f=_0x55d52a,_0x37ccb2=Date['now']();this[_0x3eeb7f(0x9f6)][_0x3eeb7f(0x436)]()['forEach'](_0x4c9f7f=>{const _0x253899=_0x3eeb7f;_0x4c9f7f[_0x253899(0x3e9)]()===_0x8a9eb5[_0x253899(0x456)]&&_0x4c9f7f['getLastUpdated']()<_0x37ccb2-0x493e0&&this[_0x253899(0x9f6)]['deleteRemoteNode'](_0x4c9f7f[_0x253899(0x777)]());});},0xea60);}async['isReady'](){const _0xbcb865=_0x3eb455;return this[_0xbcb865(0x7ee)];}async[_0x3eb455(0x420)](_0x51c25d){return new Promise((_0x34d756,_0x462860)=>{const _0x2c0493=a0_0x12d8;let _0x1f036c;const _0x3487af=setTimeout(()=>{const _0xf3ea40=a0_0x12d8;_0x1f036c?.(),_0x462860(new Error(_0xf3ea40(0xadc)+_0x51c25d+'\x27\x20is\x20not\x20ready'));},0x2710);if(this[_0x2c0493(0x9f6)]['hasRemoteNode'](_0x51c25d))return clearTimeout(_0x3487af),void _0x34d756(!0x0);_0x1f036c=this[_0x2c0493(0x9f6)]['onNodeUpdate'](()=>{const _0xd9eca9=_0x2c0493;this[_0xd9eca9(0x9f6)][_0xd9eca9(0x39a)](_0x51c25d)&&(clearTimeout(_0x3487af),_0x34d756(!0x0),_0x1f036c?.());});});}['registerSystemPublisher'](_0x5b6187){const _0x1f64e1=_0x3eb455;this[_0x1f64e1(0x73b)]=_0x5b6187;}['unregisterSystemPublisher'](){const _0x2e97dc=_0x3eb455;delete this[_0x2e97dc(0x73b)];}[_0x3eb455(0x579)](){const _0x1f541e=_0x3eb455;this[_0x1f541e(0x60f)]&&(clearTimeout(this[_0x1f541e(0x60f)]),delete this[_0x1f541e(0x60f)]),delete this[_0x1f541e(0x6e3)],this[_0x1f541e(0x399)][_0x1f541e(0x45e)][_0x1f541e(0x579)](),this['remoteUnsubscriber'](),this['discoveryUnsubscriber'](),this[_0x1f541e(0x399)][_0x1f541e(0x273)][_0x1f541e(0x511)](this[_0x1f541e(0x399)]['localNode']),this[_0x1f541e(0x399)][_0x1f541e(0x273)][_0x1f541e(0x511)](this),this[_0x1f541e(0x4be)][_0x1f541e(0x579)]();}['getAncestorIds'](){const _0x492b4b=_0x3eb455;return this[_0x492b4b(0x30c)];}[_0x3eb455(0x99c)](){const _0x3541e7=_0x3eb455;return this[_0x3541e7(0x399)]['localNode']['getId']();}[_0x3eb455(0x36f)](){const _0x1dbdc7=_0x3eb455;return this[_0x1dbdc7(0x399)][_0x1dbdc7(0x45e)];}[_0x3eb455(0x436)](_0x323378){const _0x8fcd82=_0x3eb455,_0x19f300=Array[_0x8fcd82(0x495)](this[_0x8fcd82(0x9f6)][_0x8fcd82(0x436)]()[_0x8fcd82(0x565)]())[_0x8fcd82(0x638)](_0x570d84=>_0x570d84['getStatus']()===_0x8a9eb5[_0x8fcd82(0x9cf)]);return _0x323378?_0x19f300[_0x8fcd82(0x638)](_0x323378):_0x19f300;}async[_0x3eb455(0xa55)](){const _0x377919=_0x3eb455;return this[_0x377919(0x30c)]=await this[_0x377919(0x4be)][_0x377919(0x220)](),this['ancestors'][_0x377919(0x3ed)]<this[_0x377919(0x9f6)][_0x377919(0x216)]()&&(this[_0x377919(0x399)][_0x377919(0x45e)][_0x377919(0x91c)](this[_0x377919(0x30c)][_0x377919(0x3ed)]+0x1),this['processRank']()),this['ancestors'];}[_0x3eb455(0x536)](_0x2da1d3,_0x73a7f4){const _0x13022d=_0x3eb455,_0x1ec0d9=this['configs'][_0x13022d(0x45e)][_0x13022d(0x44a)](),_0x8817da=new Set(_0x1ec0d9),_0x1e7d69=Array[_0x13022d(0x495)](_0x1ec0d9)['filter'](_0x2ddc98=>_0x2ddc98!==_0x2da1d3)['map'](_0x5be54b=>({'id':_0x5be54b,'distance':0x1}));for(;_0x1e7d69['length']>0x0;){const _0x23e12c=_0x1e7d69[_0x13022d(0x892)]();if(!_0x23e12c)continue;if(_0x23e12c['id']===_0x73a7f4)return _0x23e12c[_0x13022d(0x93e)];const _0x15fea1=this[_0x13022d(0x9f6)][_0x13022d(0x8e7)](_0x23e12c['id']);_0x15fea1&&_0x15fea1['getStatus']()!==_0x8a9eb5[_0x13022d(0x456)]&&_0x15fea1[_0x13022d(0x44a)]()[_0x13022d(0x9d2)](_0x190531=>{const _0x243697=_0x13022d;_0x8817da[_0x243697(0x8c7)](_0x190531)||(_0x8817da['add'](_0x190531),_0x1e7d69['push']({'id':_0x190531,'distance':_0x23e12c[_0x243697(0x93e)]+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x117ec3){const _0x4d51e2=_0x3eb455;try{switch(_0x117ec3[_0x4d51e2(0x211)][_0x4d51e2(0x6d8)]){case _0x40578c['NodeUpdate']:case _0x40578c[_0x4d51e2(0x500)]:this[_0x4d51e2(0x39d)](_0x117ec3['content']),_0x2c9fd4[_0x4d51e2(0x2f3)](_0x51c80b[_0x4d51e2(0x97a)],_0x4d51e2(0x1ad),'\x27'+this[_0x4d51e2(0x399)]['localNode']['getId']()+',\x20'+_0x117ec3['sourceId']+'\x27',_0x117ec3,_0x117ec3[_0x4d51e2(0x211)]);break;case _0x40578c['NodeLeave']:this['removeNode'](_0x117ec3[_0x4d51e2(0x211)]['id']),_0x2c9fd4[_0x4d51e2(0x2f3)](_0x51c80b[_0x4d51e2(0x97a)],'NodeManager\x20-\x20NodeLeave','\x27'+this['configs'][_0x4d51e2(0x45e)]['getId']()+',\x20'+_0x117ec3[_0x4d51e2(0x947)]+'\x27',_0x117ec3,_0x117ec3['content']);}}catch(_0x15b788){if(_0x15b788 instanceof _0x420f03)return void _0x2c9fd4[_0x4d51e2(0x2f3)](_0x51c80b['Node'],_0x15b788[_0x4d51e2(0x748)]);throw _0x15b788;}}[_0x3eb455(0x6ef)](_0x112841){const _0x298b47=_0x3eb455;switch(_0x112841['content'][_0x298b47(0x6d8)]){case _0xf557df[_0x298b47(0x70f)]:this[_0x298b47(0x8e6)](_0x112841[_0x298b47(0x947)]),_0x2c9fd4[_0x298b47(0x2f3)](_0x51c80b[_0x298b47(0x97a)],_0x298b47(0x8ab),'\x27'+this[_0x298b47(0x399)][_0x298b47(0x45e)][_0x298b47(0x777)]()+',\x20'+_0x112841[_0x298b47(0x947)]+'\x27',_0x112841,_0x112841[_0x298b47(0x211)]);break;case _0xf557df[_0x298b47(0x760)]:this[_0x298b47(0x7d7)](_0x112841['sourceId']),_0x2c9fd4['log'](_0x51c80b[_0x298b47(0x97a)],_0x298b47(0x3ea),this['configs']['localNode'][_0x298b47(0x777)](),_0x112841,_0x112841[_0x298b47(0x211)]);}}[_0x3eb455(0x714)](_0x3e17af){this['createRemoteNode'](_0x3e17af),this['notifyJoin'](_0x3e17af);}[_0x3eb455(0x749)](_0x5603bc){const _0x34b454=_0x3eb455;this[_0x34b454(0x399)][_0x34b454(0x45e)][_0x34b454(0x75a)](_0x5603bc['id']),this['publishNodeJoin'](_0x5603bc['id']),this['notifyClusterNodeJoin'](_0x5603bc);}['handleNodeUpdate'](_0x5dd39d){const _0x144180=_0x3eb455,{id:_0x1a2097,metaData:_0x2fae3b,rank:_0x4f5d22,remoteConnections:_0xe39ff8,version:_0x44dd36}=_0x5dd39d,_0x4e6950=this[_0x144180(0x9f6)][_0x144180(0x8e7)](_0x1a2097);if(_0x4e6950){if(!(_0x44dd36<=_0x4e6950[_0x144180(0xa71)]())){if(_0x4e6950[_0x144180(0x3b2)](_0xe39ff8),_0x4e6950[_0x144180(0x2d3)](_0x44dd36),_0x4e6950[_0x144180(0x6d8)]===_0x4d2150[_0x144180(0x28b)][_0x144180(0x5e5)]&&_0x2fae3b[_0x144180(0x6d8)]===_0x4d2150[_0x144180(0x28b)][_0x144180(0x5e5)]&&(_0x4e6950[_0x144180(0x9fc)](_0x2fae3b[_0x144180(0x8c8)]),_0x4e6950[_0x144180(0xa5a)](_0x2fae3b[_0x144180(0x776)])),_0x4f5d22&&_0x4e6950[_0x144180(0x91c)](_0x4f5d22),this[_0x144180(0x4e8)](_0x1a2097,_0x4f5d22),_0x4e6950[_0x144180(0x3e9)]()===_0x8a9eb5[_0x144180(0x456)])return _0x4e6950['setStatus'](_0x8a9eb5['Online']),this[_0x144180(0x693)](),void this[_0x144180(0x749)](_0x5dd39d);this[_0x144180(0x693)](),this[_0x144180(0xa89)]({'id':_0x1a2097,'metaData':_0x2fae3b,'remoteConnections':_0xe39ff8,'version':_0x44dd36});}}else this[_0x144180(0x714)](_0x5dd39d);}[_0x3eb455(0x4e8)](_0xb0a667,_0xa4de71){const _0x541113=_0x3eb455;_0xa4de71&&this[_0x541113(0x30c)]['includes'](_0xb0a667)&&this[_0x541113(0x399)][_0x541113(0x45e)][_0x541113(0x91c)](_0xa4de71+this[_0x541113(0x30c)][_0x541113(0x43a)](_0xb0a667)+0x1);}[_0x3eb455(0x8e6)](_0x226913){const _0x1dff9e=_0x3eb455;this[_0x1dff9e(0x399)][_0x1dff9e(0x45e)][_0x1dff9e(0x84a)](_0x226913);}[_0x3eb455(0xad9)]({id:_0x369efa,metaData:_0x4eba20,rank:_0x1b8dec,remoteConnections:_0x533e42,version:_0x3b694b}){const _0x5f397e=_0x3eb455;if(this[_0x5f397e(0x9f6)][_0x5f397e(0x39a)](_0x369efa))throw new _0x420f03(_0x5f397e(0x5e4)+_0x369efa);switch(_0x4eba20[_0x5f397e(0x6d8)]){case _0x4d2150[_0x5f397e(0x28b)]['User']:const {displayName:_0x346b8e,email:_0x47336f}=_0x4eba20;this['graphService']['setRemoteNode'](_0x369efa,new _0x11c0d3(_0x369efa,_0x346b8e,_0x47336f,new Set(_0x533e42),_0x3b694b,_0x1b8dec));break;case _0x4d2150[_0x5f397e(0x28b)][_0x5f397e(0x1b8)]:this['graphService'][_0x5f397e(0x799)](_0x369efa,new _0x27175d(_0x369efa,new Set(_0x533e42),_0x3b694b,_0x1b8dec));}const _0xe5f56b=this[_0x5f397e(0x436)](),_0xeb70a6=new Set(this[_0x5f397e(0x30c)]);_0xe5f56b['forEach'](_0x38392e=>{const _0x576c95=_0x5f397e;_0xeb70a6[_0x576c95(0x8c7)](_0x38392e[_0x576c95(0x777)]())&&_0xeb70a6['delete'](_0x38392e[_0x576c95(0x777)]());}),0x0===_0xeb70a6[_0x5f397e(0xa95)]&&this[_0x5f397e(0x8fe)]&&(this[_0x5f397e(0x259)]&&clearTimeout(this['readyDebounce']),this[_0x5f397e(0x259)]=setTimeout(()=>{const _0x567946=_0x5f397e;this[_0x567946(0x8fe)]?.(!0x0),delete this[_0x567946(0x8fe)],delete this[_0x567946(0x6b6)];},0x7d0)),this[_0x5f397e(0x4e8)](_0x369efa,_0x1b8dec),this[_0x5f397e(0x693)]();}[_0x3eb455(0x7c5)](_0x150f28){const _0x463a3b=_0x3eb455;this[_0x463a3b(0x73b)][_0x463a3b(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x463a3b(0x97a)],'content':{'type':_0x40578c[_0x463a3b(0x475)],'id':_0x150f28}});}[_0x3eb455(0x7d7)](_0x35a7b8){const _0x12acf4=_0x3eb455;this['systemTopic']?.[_0x12acf4(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x12acf4(0x97a)],'content':{'type':_0x40578c[_0x12acf4(0x985)],'id':_0x35a7b8}});}[_0x3eb455(0x485)](_0x5450e6){const _0x4462f8=_0x3eb455;if(_0x5450e6===this['configs'][_0x4462f8(0x45e)]['getId']())return this[_0x4462f8(0x399)][_0x4462f8(0x273)][_0x4462f8(0x601)](_0x4462f8(0x3fb),{'id':_0x5450e6}),this['configs'][_0x4462f8(0x273)][_0x4462f8(0x579)]({'force':!0x0},!0x0),this['configs']['mediator'][_0x4462f8(0x8db)](),void this[_0x4462f8(0x399)][_0x4462f8(0x273)][_0x4462f8(0x4fc)]();this['publishNodeLeave'](_0x5450e6);}['removeNode'](_0x5e57cc){const _0x55cd9c=_0x3eb455;this[_0x55cd9c(0x30c)][_0x55cd9c(0x721)](_0x5e57cc)?this['manageAncestor'](_0x5e57cc):this[_0x55cd9c(0x399)][_0x55cd9c(0x45e)][_0x55cd9c(0x44a)]()['has'](_0x5e57cc)&&this[_0x55cd9c(0x3b6)](_0x5e57cc),this[_0x55cd9c(0x399)][_0x55cd9c(0x45e)][_0x55cd9c(0x70d)](_0x5e57cc);const _0x1a2eb9=Array[_0x55cd9c(0x495)](this[_0x55cd9c(0x9f0)][_0x55cd9c(0x858)]())[_0x55cd9c(0xa41)](([,_0x2f8415])=>_0x2f8415==_0x2f8415);_0x1a2eb9&&this[_0x55cd9c(0x9f0)][_0x55cd9c(0xaa3)](_0x1a2eb9[0x0]);const _0x5aec54=this[_0x55cd9c(0x9f6)][_0x55cd9c(0x8e7)](_0x5e57cc);if(!_0x5aec54)return;const _0x5ef106=_0x5aec54[_0x55cd9c(0x832)](),_0x38c085=this[_0x55cd9c(0x399)][_0x55cd9c(0x45e)][_0x55cd9c(0x832)]();_0x38c085&&_0x5ef106&&_0x5ef106<_0x38c085&&this['configs'][_0x55cd9c(0x45e)][_0x55cd9c(0x91c)](_0x38c085-0x1,!0x1),Array['from'](this[_0x55cd9c(0x9f6)][_0x55cd9c(0x436)]()[_0x55cd9c(0x565)]())[_0x55cd9c(0x9d2)](_0x4394d5=>{const _0x1f548a=_0x55cd9c,_0x35ac9a=_0x4394d5[_0x1f548a(0x832)]();_0x35ac9a&&_0x5ef106&&_0x5ef106<_0x35ac9a&&_0x4394d5[_0x1f548a(0x91c)](_0x35ac9a-0x1);}),_0x5aec54[_0x55cd9c(0xa31)](_0x8a9eb5[_0x55cd9c(0x456)]),this[_0x55cd9c(0x399)][_0x55cd9c(0x273)]['notifyCluster'](_0x5aec54[_0x55cd9c(0x6d8)]+_0x55cd9c(0x7df),{'id':_0x5e57cc});}[_0x3eb455(0x52b)]({id:_0x58560f,metaData:_0x3d96a2,remoteConnections:_0x11acac}){const _0x3ee9fa=_0x3eb455;switch(_0x3d96a2[_0x3ee9fa(0x6d8)]){case _0x4d2150['NodeType']['User']:this[_0x3ee9fa(0x399)][_0x3ee9fa(0x273)]['notifyCluster'](_0x3ee9fa(0x463),{'id':_0x58560f,'metaData':_0x3d96a2,'remoteConnections':_0x11acac});break;case _0x4d2150[_0x3ee9fa(0x28b)][_0x3ee9fa(0x1b8)]:this[_0x3ee9fa(0x399)][_0x3ee9fa(0x273)][_0x3ee9fa(0x601)](_0x3ee9fa(0xa40),{'id':_0x58560f,'metaData':_0x3d96a2,'remoteConnections':_0x11acac});}}[_0x3eb455(0xa89)]({id:_0xfbf1f2,metaData:_0xb27227,remoteConnections:_0x4b9e20}){const _0x53c9d0=_0x3eb455;switch(_0xb27227[_0x53c9d0(0x6d8)]){case _0x4d2150['NodeType'][_0x53c9d0(0x5e5)]:this[_0x53c9d0(0x399)][_0x53c9d0(0x273)][_0x53c9d0(0x601)](_0x53c9d0(0xa72),{'id':_0xfbf1f2,'metaData':_0xb27227,'remoteConnections':_0x4b9e20});break;case _0x4d2150[_0x53c9d0(0x28b)][_0x53c9d0(0x1b8)]:this[_0x53c9d0(0x399)][_0x53c9d0(0x273)][_0x53c9d0(0x601)](_0x53c9d0(0x65a),{'id':_0xfbf1f2,'metaData':_0xb27227,'remoteConnections':_0x4b9e20});}}[_0x3eb455(0x693)](){const _0x332efa=_0x3eb455;if(this['lastProcessRank']||(this[_0x332efa(0x6e3)]=Date[_0x332efa(0xa6a)]()),this['debounceProcessRank']){if(Date[_0x332efa(0xa6a)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this[_0x332efa(0x60f)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x15222b=_0x332efa;delete this[_0x15222b(0x6e3)],delete this['debounceProcessRank'];const _0x3d5c71=this[_0x15222b(0x399)][_0x15222b(0x45e)]['getRank']();if(!_0x3d5c71)return;const _0x24a114=this[_0x15222b(0x9f6)][_0x15222b(0xa3f)](this[_0x15222b(0x9f6)][_0x15222b(0x436)]()[_0x15222b(0xa95)]);if(this[_0x15222b(0x9f0)]['size']>=_0x24a114)return;let _0x523aaa=0x1;for(;this[_0x15222b(0x399)][_0x15222b(0x273)]['getConnections']()[_0x15222b(0x3ed)]<this[_0x15222b(0x9f6)][_0x15222b(0x559)]()&&_0x523aaa<=_0x24a114;){if(this['optimizationLayers'][_0x15222b(0x8c7)](_0x523aaa)){_0x523aaa+=0x1;continue;}const _0x490529=this[_0x15222b(0x9f6)]['getNextTargetRank'](_0x3d5c71,_0x523aaa),_0x1f0f8c=Array[_0x15222b(0x495)](this[_0x15222b(0x9f6)][_0x15222b(0x436)]()[_0x15222b(0x565)]())[_0x15222b(0xa41)](_0x5dd73e=>_0x5dd73e[_0x15222b(0x832)]()===_0x490529&&_0x5dd73e[_0x15222b(0x3e9)]()===_0x8a9eb5[_0x15222b(0x9cf)]);if(_0x1f0f8c){try{await this[_0x15222b(0x399)]['mediator'][_0x15222b(0xa20)](_0x1f0f8c['getId'](),_0x28699e['Optimization']),this[_0x15222b(0x9f0)][_0x15222b(0x90d)](_0x523aaa,_0x1f0f8c[_0x15222b(0x777)]());}catch(_0x438815){if(!(_0x438815 instanceof _0x157cd9&&_0x438815['code']===_0x157cd9[_0x15222b(0x6cc)]['RemoteConnectionExists']))throw _0x438815;_0x2c9fd4['log'](_0x51c80b['Node'],this['configs'][_0x15222b(0x45e)][_0x15222b(0x777)](),_0x1f0f8c['getId'](),_0x438815['message']);}_0x523aaa+=0x1;}else _0x523aaa+=0x1;}},0x3e8);}async[_0x3eb455(0x9c8)](_0x18213b){const _0x2434da=_0x3eb455;this[_0x2434da(0x30c)][_0x2434da(0x903)](this[_0x2434da(0x30c)][_0x2434da(0x43a)](_0x18213b),0x1);const _0x13aa50=await this['discoveryService'][_0x2434da(0x871)]();for(const _0x193c6c of _0x13aa50)if(!this[_0x2434da(0x30c)][_0x2434da(0x721)](_0x193c6c)){const _0x32f10f=Array[_0x2434da(0x495)](this[_0x2434da(0x9f0)][_0x2434da(0x858)]())['find'](([,_0x3bca6e])=>_0x3bca6e===_0x193c6c);_0x32f10f&&this[_0x2434da(0x9f0)][_0x2434da(0xaa3)](_0x32f10f[0x0]),this[_0x2434da(0x399)]['mediator']['createConnection'](_0x193c6c,_0x28699e[_0x2434da(0xac1)]);}0x0===_0x13aa50[_0x2434da(0x3ed)]&&this[_0x2434da(0x399)][_0x2434da(0x45e)][_0x2434da(0x91c)](0x1),this['ancestors']=_0x13aa50;}async['manageOptimization'](_0x12527a){const _0x50c4d1=_0x3eb455,_0x26a9d7=this[_0x50c4d1(0x399)][_0x50c4d1(0x45e)][_0x50c4d1(0x832)]();if(!_0x26a9d7)return;const _0xf39f6f=this['graphService'][_0x50c4d1(0x8e7)](_0x12527a);if(!_0xf39f6f||_0xf39f6f[_0x50c4d1(0x3e9)]()===_0x8a9eb5[_0x50c4d1(0x456)])return;const _0x239b42=_0xf39f6f[_0x50c4d1(0x832)]();if(!_0x239b42||_0x239b42<_0x26a9d7)return;const _0xa898a3=this[_0x50c4d1(0x9a3)](this[_0x50c4d1(0x399)][_0x50c4d1(0x45e)][_0x50c4d1(0x44a)](),_0x26a9d7),_0x39efe1=this['getOutgoingOptimizationConnections'](_0xf39f6f[_0x50c4d1(0x44a)](),_0x239b42)[_0xa898a3['findIndex'](([_0x145c38])=>_0x145c38===_0x12527a)];if(!_0x39efe1||this[_0x50c4d1(0x399)][_0x50c4d1(0x45e)][_0x50c4d1(0x44a)]()[_0x50c4d1(0x8c7)](_0x39efe1[0x0]))return;const _0xba85af=this[_0x50c4d1(0x9f6)][_0x50c4d1(0x8e7)](_0x39efe1[0x0]);if(_0xba85af&&_0xba85af[_0x50c4d1(0x3e9)]()!==_0x8a9eb5[_0x50c4d1(0x456)])try{await this[_0x50c4d1(0x399)][_0x50c4d1(0x273)][_0x50c4d1(0xa20)](_0x39efe1[0x0],_0x28699e[_0x50c4d1(0x59d)]);const _0xab6b8f=Array[_0x50c4d1(0x495)](this[_0x50c4d1(0x9f0)][_0x50c4d1(0x858)]())[_0x50c4d1(0xa41)](([,_0x5202cf])=>_0x5202cf===_0x12527a);_0xab6b8f&&this[_0x50c4d1(0x9f0)][_0x50c4d1(0x90d)](_0xab6b8f[0x0],_0x39efe1[0x0]);}catch(_0x9248c2){if(!(_0x9248c2 instanceof _0x157cd9&&_0x9248c2['code']===_0x157cd9[_0x50c4d1(0x6cc)][_0x50c4d1(0x554)]))throw _0x9248c2;_0x2c9fd4['log'](_0x51c80b[_0x50c4d1(0x97a)],this[_0x50c4d1(0x399)][_0x50c4d1(0x45e)][_0x50c4d1(0x777)](),_0x39efe1[0x0],_0x9248c2[_0x50c4d1(0x748)]);}}['getOutgoingOptimizationConnections'](_0x3541d8,_0xa02e0d){const _0x173774=_0x3eb455;return Array[_0x173774(0x495)](_0x3541d8)['reduce']((_0x2e8d2b,_0x2cde1b)=>{const _0x2e3140=_0x173774,_0x1a002b=this[_0x2e3140(0x9f6)]['getRemoteNode'](_0x2cde1b);if(!_0x1a002b||_0x1a002b[_0x2e3140(0x3e9)]()===_0x8a9eb5[_0x2e3140(0x456)])return _0x2e8d2b;const _0x342a35=_0x1a002b[_0x2e3140(0x832)]();if(!_0x342a35)return _0x2e8d2b;const _0xec3e76=_0x342a35-_0xa02e0d;return _0xec3e76<=this[_0x2e3140(0x9f6)]['getMinConnections']()||_0x2e8d2b[_0x2e3140(0x69a)]([_0x2cde1b,_0xec3e76]),_0x2e8d2b;},[])['sort'](([,_0x3c545d],[,_0xf89ad1])=>_0x3c545d-_0xf89ad1);}}const _0x4e1845=[{'problemType':_0x4d18a2[_0x3eb455(0xab0)],'remediations':[{'type':_0x25e25e[_0x3eb455(0x8bf)],'component':_0x2fd39d['Resolution'],'action':_0x3d049a[_0x3eb455(0x6de)]},{'type':_0x25e25e[_0x3eb455(0x407)],'component':_0x2fd39d[_0x3eb455(0x518)],'action':_0x3d049a['Downgrade']}]},{'problemType':_0x4d18a2[_0x3eb455(0x3e4)],'remediations':[{'type':_0x25e25e[_0x3eb455(0x8bf)],'component':_0x2fd39d[_0x3eb455(0x518)],'action':_0x3d049a[_0x3eb455(0x6de)]}]},{'problemType':_0x4d18a2[_0x3eb455(0x808)],'remediations':[{'type':_0x25e25e[_0x3eb455(0x8bf)],'component':_0x2fd39d[_0x3eb455(0x518)],'action':_0x3d049a[_0x3eb455(0x6de)]}]},{'problemType':_0x4d18a2[_0x3eb455(0x86d)],'remediations':[{'type':_0x25e25e['Remediation'],'component':_0x2fd39d[_0x3eb455(0x518)],'action':_0x3d049a[_0x3eb455(0x6de)]}]},{'problemType':_0x4d18a2['Bitrate'],'remediations':[{'type':_0x25e25e[_0x3eb455(0x8bf)],'component':_0x2fd39d[_0x3eb455(0x9d1)],'action':_0x3d049a[_0x3eb455(0x6de)]}]},{'problemType':_0x4d18a2[_0x3eb455(0x26f)],'remediations':[{'type':_0x25e25e[_0x3eb455(0x8bf)],'component':_0x2fd39d[_0x3eb455(0x9d1)],'action':_0x3d049a[_0x3eb455(0x6de)]}]},{'problemType':_0x4d18a2['RoundTripTime'],'remediations':[{'type':_0x25e25e['Remediation'],'component':_0x2fd39d['Bitrate'],'action':_0x3d049a['Downgrade']}]}];class _0x1d04e4{['configs'];[_0x3eb455(0x73b)];['lastRemediations']=new Map();constructor(_0x345b85){const _0x2eb3e3=_0x3eb455;this[_0x2eb3e3(0x399)]=_0x345b85,this['configs'][_0x2eb3e3(0x273)][_0x2eb3e3(0x7b4)](this);}[_0x3eb455(0x579)](){const _0x6a94e8=_0x3eb455;this[_0x6a94e8(0x399)][_0x6a94e8(0x273)][_0x6a94e8(0x511)](this);}[_0x3eb455(0x734)](_0x3cf72f){const _0xc32499=_0x3eb455;this[_0xc32499(0x73b)]=_0x3cf72f;}[_0x3eb455(0x416)](){const _0x2ef424=_0x3eb455;delete this[_0x2ef424(0x73b)];}[_0x3eb455(0x650)](_0xe2da2f){const _0x401d9d=_0x3eb455;_0xe2da2f[_0x401d9d(0x211)][_0x401d9d(0x6d8)]===_0x8b3e48['Problem']&&this[_0x401d9d(0x3da)](_0xe2da2f[_0x401d9d(0x211)]['data']);}['handleRemediationSystemEvents'](_0x3b5886){const _0x5978f0=_0x3eb455;_0x3b5886['content'][_0x5978f0(0x6d8)]===_0x25e25e[_0x5978f0(0x407)]&&this[_0x5978f0(0x521)](_0x3b5886[_0x5978f0(0x947)],{'type':_0x25e25e[_0x5978f0(0x8bf)],'component':_0x3b5886['content'][_0x5978f0(0x7b8)][_0x5978f0(0xa94)],'action':_0x3b5886[_0x5978f0(0x211)][_0x5978f0(0x7b8)][_0x5978f0(0x6f7)]});}[_0x3eb455(0x3da)](_0x399c5a){const _0x15d9bb=_0x3eb455,_0x19b781=_0x4e1845[_0x15d9bb(0xa41)](_0x5673c8=>_0x5673c8[_0x15d9bb(0x26e)]===_0x399c5a[_0x15d9bb(0x6d8)]);_0x19b781['remediations']?.[_0x15d9bb(0x9d2)](_0x16112c=>{const _0x3abc51=_0x15d9bb;this[_0x3abc51(0x521)](_0x399c5a[_0x3abc51(0x924)],{'type':_0x399c5a[_0x3abc51(0x487)]===_0x56f542['Sender']?_0x25e25e[_0x3abc51(0x8bf)]:_0x25e25e['RemoteRemediation'],'component':_0x16112c[_0x3abc51(0xa94)],'action':_0x16112c[_0x3abc51(0x6f7)]});});}[_0x3eb455(0x521)](_0x117f81,_0x1713a8){const _0xe072e6=_0x3eb455;if(_0x1713a8['type']===_0x25e25e[_0xe072e6(0x8bf)]){const _0x3ded2b=Date[_0xe072e6(0xa6a)](),_0xee8448=this[_0xe072e6(0x50d)][_0xe072e6(0x1d7)](_0x117f81);if(_0xee8448&&_0x3ded2b-_0xee8448<0x1388)return;this[_0xe072e6(0x50d)][_0xe072e6(0x90d)](_0x117f81,_0x3ded2b);}_0x2c9fd4[_0xe072e6(0x2f3)](_0x51c80b[_0xe072e6(0x8bf)],'Apply\x20remediation',_0x1713a8),_0x2c9fd4[_0xe072e6(0x95c)](_0xe072e6(0x7fb),{'clusterId':this[_0xe072e6(0x399)][_0xe072e6(0x9ac)],'nodeId':this[_0xe072e6(0x399)][_0xe072e6(0x45e)][_0xe072e6(0x777)](),'nodeType':this[_0xe072e6(0x399)]['localNode']['type'],'remoteId':_0x117f81,'data':{'type':_0x1713a8[_0xe072e6(0x6d8)],'component':_0x1713a8[_0xe072e6(0xa94)],'action':_0x1713a8[_0xe072e6(0x6f7)]}});let _0x2f8a97,_0x4a9fa0=_0x36c1f1;_0x1713a8[_0xe072e6(0x6d8)]===_0x25e25e['RemoteRemediation']&&(_0x4a9fa0=this[_0xe072e6(0x399)][_0xe072e6(0x45e)]['getId'](),_0x2f8a97=[_0x117f81]),this[_0xe072e6(0x73b)][_0xe072e6(0x5bf)]({'sourceId':_0x4a9fa0,'destinationIds':_0x2f8a97,'messageType':_0x3ef5e5[_0xe072e6(0x8bf)],'content':{'type':_0x1713a8[_0xe072e6(0x6d8)],'targetId':_0x117f81,'data':_0x1713a8}});}}const _0x4f0d09=0x3e8,_0x19288e=0x7530,_0x56b9c0='outbound-rtp',_0x3cf0f1=_0x3eb455(0x4f5),_0x185de5='inbound-rtp',_0x2e038e=[_0x56b9c0,_0x3cf0f1],_0x2e5bd2=[_0x185de5];class _0x83e92b{[_0x3eb455(0x872)]=0x0;[_0x3eb455(0x821)]=0x0;['jitter']=0x0;[_0x3eb455(0xa84)]=0x0;[_0x3eb455(0xab7)]=0x0;['currentTimestamp']=0x0;['previousTimestamp']=0x0;['currentBytes']=0x0;[_0x3eb455(0x244)]=0x0;get[_0x3eb455(0x46e)](){const _0x52c663=_0x3eb455;return this[_0x52c663(0x6a7)]>0x0&&this[_0x52c663(0x2c9)]>0x0&&Date['now']()-this[_0x52c663(0x6a7)]<_0x19288e?(this[_0x52c663(0x79c)]-this[_0x52c663(0x244)])/(this[_0x52c663(0x6a7)]-this['previousTimestamp'])*0x8*0x3e8:0x0;}[_0x3eb455(0x92b)](_0xe330ce){const _0xfdba36=_0x3eb455;switch(_0xe330ce[_0xfdba36(0x6d8)]){case _0x185de5:this[_0xfdba36(0x735)](_0xe330ce);break;case _0x56b9c0:this[_0xfdba36(0x372)](_0xe330ce);break;case _0x3cf0f1:this[_0xfdba36(0x87d)](_0xe330ce);}}[_0x3eb455(0x8f8)](){const _0x714ea7=_0x3eb455;return{'bitrate':this[_0x714ea7(0x46e)],'packetsLostPerc':this[_0x714ea7(0x6a4)](),'roundTripTime':this['roundTripTime'],'jitter':this[_0x714ea7(0x3d1)]};}[_0x3eb455(0x735)](_0x15a625){const _0xc8b4a5=_0x3eb455;this[_0xc8b4a5(0x966)](_0x15a625[_0xc8b4a5(0x2e6)]),this['setTimestamp'](_0x15a625['timestamp']),this[_0xc8b4a5(0xab7)]=_0x15a625['packetsReceived'],this[_0xc8b4a5(0xa84)]=_0x15a625[_0xc8b4a5(0xa84)],void 0x0!==_0x15a625[_0xc8b4a5(0x3d1)]?this['jitter']=_0x15a625[_0xc8b4a5(0x3d1)]:this['jitter']=0x0,void 0x0!==_0x15a625[_0xc8b4a5(0x821)]?this[_0xc8b4a5(0x821)]=_0x15a625[_0xc8b4a5(0x821)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x3eb455(0x372)](_0x577206){const _0x373c9c=_0x3eb455;this[_0x373c9c(0x966)](_0x577206[_0x373c9c(0x811)]),this['setTimestamp'](_0x577206[_0x373c9c(0x373)]),this[_0x373c9c(0xab7)]=_0x577206['packetsSent'];}[_0x3eb455(0x87d)](_0x4dcfe6){const _0x5a0f7a=_0x3eb455;this[_0x5a0f7a(0x872)]=0x3e8*_0x4dcfe6[_0x5a0f7a(0x872)],void 0x0!==_0x4dcfe6[_0x5a0f7a(0x3d1)]?this[_0x5a0f7a(0x3d1)]=_0x4dcfe6[_0x5a0f7a(0x3d1)]:this[_0x5a0f7a(0x3d1)]=0x0;}['getPacketsLostPerc'](){const _0x49d02b=_0x3eb455;return this[_0x49d02b(0xab7)]>0x0?this['packetsLost']/this[_0x49d02b(0xab7)]:0x0;}[_0x3eb455(0x571)](_0x2a2078){const _0x444f0a=_0x3eb455;_0x2a2078>this[_0x444f0a(0x6a7)]&&(this[_0x444f0a(0x2c9)]=this['currentTimestamp'],this[_0x444f0a(0x6a7)]=_0x2a2078);}[_0x3eb455(0x966)](_0x599af7){const _0x49c6af=_0x3eb455;this[_0x49c6af(0x244)]=this[_0x49c6af(0x79c)],this[_0x49c6af(0x79c)]=_0x599af7;}}class _0x5a57c3 extends _0x83e92b{}class _0x3aa4e4 extends _0x83e92b{[_0x3eb455(0x43b)]=0x0;[_0x3eb455(0x1cc)]=0x0;['frameHeight']=0x0;[_0x3eb455(0x827)]=0x0;['previousFrames']=0x0;get[_0x3eb455(0x706)](){const _0x14d671=_0x3eb455;return this[_0x14d671(0x6a7)]>0x0&&this[_0x14d671(0x2c9)]>0x0&&Date[_0x14d671(0xa6a)]()-this[_0x14d671(0x6a7)]<_0x19288e?(this[_0x14d671(0x827)]-this['previousFrames'])/(this['currentTimestamp']-this['previousTimestamp'])*0x3e8:0x0;}get[_0x3eb455(0xa47)](){const _0x4dd09c=_0x3eb455;return this[_0x4dd09c(0x43b)]&&this[_0x4dd09c(0x827)]&&this['currentFrames']>0x0?this['frameTime']/this['currentFrames']:0x0;}set[_0x3eb455(0x90b)](_0x1c45a6){const _0x33a4e5=_0x3eb455;this['previousFrames']=this[_0x33a4e5(0x827)],this[_0x33a4e5(0x827)]=_0x1c45a6;}[_0x3eb455(0x8f8)](){const _0x571283=_0x3eb455;return{...super[_0x571283(0x8f8)](),'FPS':this['fps'],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x571283(0x1cc)],'frameHeight':this['frameHeight']};}[_0x3eb455(0x735)](_0x3f4060){const _0x5ac5c2=_0x3eb455;super[_0x5ac5c2(0x735)](_0x3f4060),this[_0x5ac5c2(0x43b)]=_0x3f4060[_0x5ac5c2(0x983)],this['frames']=_0x3f4060[_0x5ac5c2(0xa2b)],this[_0x5ac5c2(0x1cc)]=_0x3f4060['frameWidth'],this[_0x5ac5c2(0x51f)]=_0x3f4060[_0x5ac5c2(0x51f)];}[_0x3eb455(0x372)](_0x6805d6){const _0x788b38=_0x3eb455;super[_0x788b38(0x372)](_0x6805d6),this[_0x788b38(0x43b)]=_0x6805d6['totalEncodeTime'],this[_0x788b38(0x90b)]=_0x6805d6['framesEncoded'],this[_0x788b38(0x1cc)]=_0x6805d6[_0x788b38(0x1cc)],this[_0x788b38(0x51f)]=_0x6805d6[_0x788b38(0x51f)];}}class _0x5e7697{[_0x3eb455(0x66c)]=new _0x5a57c3();[_0x3eb455(0x2e1)]=new _0x3aa4e4();get[_0x3eb455(0x46e)](){const _0xf9738c=_0x3eb455;return this[_0xf9738c(0x66c)][_0xf9738c(0x46e)]+this['video'][_0xf9738c(0x46e)];}['processReports'](_0x5459b9){const _0x3b05c8=_0x3eb455;return _0x5459b9[_0x3b05c8(0x9d2)](_0x188335=>{const _0xddffef=_0x3b05c8;switch(_0x188335[_0xddffef(0x2bc)]){case _0xddffef(0x66c):this[_0xddffef(0x66c)][_0xddffef(0x92b)](_0x188335);break;case _0xddffef(0x2e1):this[_0xddffef(0x2e1)]['processReport'](_0x188335);}}),this[_0x3b05c8(0x8f8)]();}[_0x3eb455(0x8f8)](){const _0x3d04fb=_0x3eb455;return{'audio':this['audio'][_0x3d04fb(0x8f8)](),'video':this[_0x3d04fb(0x2e1)][_0x3d04fb(0x8f8)](),'roundTripTime':this[_0x3d04fb(0x991)](),'AudioVideoDelay':this[_0x3d04fb(0x667)](),'bitrate':this[_0x3d04fb(0x46e)]};}['getRoundTripTime'](){const _0x2ffe9c=_0x3eb455;return Math[_0x2ffe9c(0x504)]((this[_0x2ffe9c(0x66c)]['roundTripTime']+this[_0x2ffe9c(0x2e1)][_0x2ffe9c(0x872)])/0x2);}[_0x3eb455(0x667)](){const _0x1d2cda=_0x3eb455;return this['audio'][_0x1d2cda(0x821)]-this[_0x1d2cda(0x2e1)][_0x1d2cda(0x821)];}}class _0x14bb6c{[_0x3eb455(0x9da)]=0x0;[_0x3eb455(0x1ab)]=0x0;['receiverCurrentTimestamp']=0x0;[_0x3eb455(0x77c)]=0x0;['senderCurrentBytes']=0x0;[_0x3eb455(0x200)]=0x0;[_0x3eb455(0xa79)]=0x0;[_0x3eb455(0x459)]=0x0;[_0x3eb455(0x509)]=0x0;[_0x3eb455(0x615)]=0x0;['senderTimeProcessing']=0x0;[_0x3eb455(0x8b4)]=0x0;[_0x3eb455(0x872)]=0x0;get['bitrate'](){const _0x932f86=_0x3eb455;return this[_0x932f86(0x78a)]+this[_0x932f86(0x817)];}get['senderBitrate'](){const _0x2cfab4=_0x3eb455;return this[_0x2cfab4(0x9da)]>0x0&&this[_0x2cfab4(0x1ab)]>0x0&&Date[_0x2cfab4(0xa6a)]()-this[_0x2cfab4(0x9da)]<_0x19288e?(this[_0x2cfab4(0x1fb)]-this['senderPreviousBytes'])/(this[_0x2cfab4(0x9da)]-this['senderPreviousTimestamp'])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x551b58=_0x3eb455;return this[_0x551b58(0x36c)]>0x0&&this[_0x551b58(0x77c)]>0x0&&Date[_0x551b58(0xa6a)]()-this['receiverCurrentTimestamp']<_0x19288e?(this[_0x551b58(0xa79)]-this[_0x551b58(0x459)])/(this['receiverCurrentTimestamp']-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}['processReport'](_0x50387a){const _0x5b26f8=_0x3eb455;switch(_0x50387a[_0x5b26f8(0x487)]){case _0x56f542[_0x5b26f8(0xa24)]:this['processSenderReport'](_0x50387a);break;case _0x56f542[_0x5b26f8(0x255)]:this['processReceiverReport'](_0x50387a);}}[_0x3eb455(0x8f8)](){const _0x43f0b=_0x3eb455;return{'bitrate':this[_0x43f0b(0x46e)],'senderBitrate':this[_0x43f0b(0x78a)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x43f0b(0x97c)](),'senderTotalBytes':this['getSenderTotalBytes'](),'receiverTotalBytes':this[_0x43f0b(0x563)](),'totalMessages':this['senderTotalMessages']+this[_0x43f0b(0x615)],'senderTotalMessages':this[_0x43f0b(0x509)],'receiverTotalMessages':this[_0x43f0b(0x615)],'timeProcessing':this[_0x43f0b(0x91f)]+this[_0x43f0b(0x8b4)],'senderTimeProcessing':this[_0x43f0b(0x91f)],'receiverTimeProcessing':this[_0x43f0b(0x8b4)],'roundTripTime':this[_0x43f0b(0x872)]};}['getTotalBytes'](){const _0x2d31a6=_0x3eb455;return this[_0x2d31a6(0x1fb)]+this[_0x2d31a6(0xa79)];}[_0x3eb455(0x3dc)](){return this['senderCurrentBytes'];}['getReceiverTotalBytes'](){return this['receiverCurrentBytes'];}[_0x3eb455(0x45d)](_0x2326e2){const _0x56142f=_0x3eb455;this[_0x56142f(0xa4e)](_0x2326e2[_0x56142f(0x373)]),this[_0x56142f(0x966)](_0x2326e2[_0x56142f(0x811)]),this['senderTotalMessages']=_0x2326e2[_0x56142f(0x9fe)],this['senderTimeProcessing']=_0x2326e2[_0x56142f(0xa3c)],this[_0x56142f(0x872)]=_0x2326e2[_0x56142f(0x872)];}[_0x3eb455(0x27d)](_0x37a0ba){const _0x5891dc=_0x3eb455;this[_0x5891dc(0x33d)](_0x37a0ba['timestamp']),this[_0x5891dc(0x5db)](_0x37a0ba[_0x5891dc(0x2e6)]),this[_0x5891dc(0x615)]=_0x37a0ba['messagesReceived'],this[_0x5891dc(0x8b4)]=_0x37a0ba[_0x5891dc(0x815)];}[_0x3eb455(0xa4e)](_0x5629da){const _0x563e4e=_0x3eb455;_0x5629da>this[_0x563e4e(0x9da)]&&(this['senderPreviousTimestamp']=this[_0x563e4e(0x9da)],this[_0x563e4e(0x9da)]=_0x5629da);}[_0x3eb455(0x33d)](_0x2921cf){const _0x188caf=_0x3eb455;_0x2921cf>this[_0x188caf(0x36c)]&&(this[_0x188caf(0x77c)]=this[_0x188caf(0x36c)],this[_0x188caf(0x36c)]=_0x2921cf);}[_0x3eb455(0x966)](_0xbda164){const _0x1ad6b2=_0x3eb455;this['senderPreviousBytes']=this[_0x1ad6b2(0x1fb)],this[_0x1ad6b2(0x1fb)]=_0xbda164;}[_0x3eb455(0x5db)](_0x72b70){const _0x175eba=_0x3eb455;this[_0x175eba(0x459)]=this['receiverCurrentBytes'],this[_0x175eba(0xa79)]=_0x72b70;}}class _0x2e993f{[_0x3eb455(0x271)]=new Map();[_0x3eb455(0x275)]=new Map();[_0x3eb455(0x9c7)]=new _0x14bb6c();get[_0x3eb455(0x78a)](){const _0x1087d8=_0x3eb455;let _0x5ac93d=0x0;return this[_0x1087d8(0x271)][_0x1087d8(0x9d2)](_0x5b39f0=>{const _0x279e20=_0x1087d8;_0x5ac93d+=_0x5b39f0[_0x279e20(0x46e)];}),_0x5ac93d+=this[_0x1087d8(0x9c7)]['senderBitrate'],_0x5ac93d;}get[_0x3eb455(0x817)](){const _0x1022b4=_0x3eb455;let _0x1ba491=0x0;return this['receiverStreams'][_0x1022b4(0x9d2)](_0x42e9e2=>{const _0x15eeb3=_0x1022b4;_0x1ba491+=_0x42e9e2[_0x15eeb3(0x46e)];}),_0x1ba491+=this[_0x1022b4(0x9c7)]['receiverBitrate'],_0x1ba491;}get[_0x3eb455(0x46e)](){const _0x491c3e=_0x3eb455;return this[_0x491c3e(0x78a)]+this[_0x491c3e(0x817)];}[_0x3eb455(0x4e6)](_0x1510bc,_0x463f26){const _0x176342=_0x3eb455,_0x5075c1=[],_0x4daf48=[];return _0x1510bc instanceof Array?_0x1510bc[_0x176342(0x9d2)](_0x5144c8=>{_0x5144c8['forEach'](_0x1a0c25=>{const _0x5909d1=a0_0x12d8;_0x2e5bd2[_0x5909d1(0x721)](_0x1a0c25['type'])&&_0x5075c1['push'](_0x1a0c25),_0x2e038e['includes'](_0x1a0c25[_0x5909d1(0x6d8)])&&_0x4daf48[_0x5909d1(0x69a)](_0x1a0c25);});}):this[_0x176342(0x9c7)][_0x176342(0x92b)](_0x1510bc),_0x5075c1['length']>0x0&&_0x463f26?{...this[_0x176342(0x5f0)](_0x463f26,_0x5075c1),'origin':_0x56f542[_0x176342(0x255)],'streamId':_0x463f26}:_0x4daf48[_0x176342(0x3ed)]>0x0&&_0x463f26?{...this['processOutboundReports'](_0x463f26,_0x4daf48),'origin':_0x56f542['Sender'],'streamId':_0x463f26}:void 0x0;}[_0x3eb455(0x8f8)](){const _0x10b7fc=_0x3eb455,_0x19070d={};this['senderStreams'][_0x10b7fc(0x9d2)]((_0x1780ff,_0x5187d7)=>{const _0x4b0650=_0x10b7fc;_0x19070d[_0x5187d7]=_0x1780ff[_0x4b0650(0x8f8)]();});const _0x37781a={};return this[_0x10b7fc(0x275)][_0x10b7fc(0x9d2)]((_0x101b42,_0x58d4df)=>{const _0x2792af=_0x10b7fc;_0x37781a[_0x58d4df]=_0x101b42[_0x2792af(0x8f8)]();}),{'bitrate':this['bitrate'],'senderBitrate':this[_0x10b7fc(0x78a)],'receiverBitrate':this[_0x10b7fc(0x817)],'senderStreams':_0x19070d,'receiverStreams':_0x37781a,'dataChannel':this[_0x10b7fc(0x9c7)]['getReport']()};}[_0x3eb455(0x5f0)](_0x491b36,_0x28d408){const _0x2786b8=_0x3eb455;return this['receiverStreams'][_0x2786b8(0x8c7)](_0x491b36)||this[_0x2786b8(0x275)]['set'](_0x491b36,new _0x5e7697()),this['receiverStreams'][_0x2786b8(0x1d7)](_0x491b36)[_0x2786b8(0x4e6)](_0x28d408);}[_0x3eb455(0xa2f)](_0x4ee5d2,_0x404e1e){const _0x14b3da=_0x3eb455;return this['senderStreams'][_0x14b3da(0x8c7)](_0x4ee5d2)||this[_0x14b3da(0x271)]['set'](_0x4ee5d2,new _0x5e7697()),this[_0x14b3da(0x271)][_0x14b3da(0x1d7)](_0x4ee5d2)['processReports'](_0x404e1e);}}class _0x4c1ec6{['nodes']=new Map();[_0x3eb455(0x94c)]=0x0;[_0x3eb455(0x2d5)]=0x0;['pubsubTopics']=new Map();[_0x3eb455(0x8bb)]=new Map();['keyValueDatabases']=new Map();[_0x3eb455(0x709)]=new Map();[_0x3eb455(0x640)]=new Map();[_0x3eb455(0x898)]=new Map();[_0x3eb455(0x83b)]=new Map();[_0x3eb455(0x9ff)]=new Map();[_0x3eb455(0x509)]=new Map();['receiverTotalMessages']=new Map();[_0x3eb455(0x91f)]=new Map();[_0x3eb455(0x8b4)]=new Map();[_0x3eb455(0x89a)]=new Map();['systemTopic'];[_0x3eb455(0x8f8)](){const _0x3fbff4=_0x3eb455,_0x3a3a1e={};this[_0x3fbff4(0x46c)]['forEach']((_0x2c675b,_0x50f5e4)=>{const _0x1601ae=_0x3fbff4;_0x3a3a1e[_0x50f5e4]=_0x2c675b[_0x1601ae(0x8f8)]();});let _0xb34dcd=0x0;this[_0x3fbff4(0x91f)]['forEach'](_0x13fd2b=>{_0xb34dcd+=_0x13fd2b;});let _0xc94c33=0x0;this[_0x3fbff4(0x8b4)][_0x3fbff4(0x9d2)](_0x227557=>{_0xc94c33+=_0x227557;});const _0x37d071=_0xb34dcd+_0xc94c33;let _0x3fd7f7={'messages':{'total':0x0}};this['systemMessages']['forEach'](_0x3dfd4d=>{const _0x1c0119=_0x3fbff4;Object[_0x1c0119(0x9c6)](_0x3dfd4d)[_0x1c0119(0x9d2)](_0x581d5e=>{const _0x1de9bc=_0x1c0119;_0x3fd7f7[_0x581d5e]||(_0x3fd7f7[_0x581d5e]={}),Object['keys'](_0x3dfd4d[_0x581d5e])[_0x1de9bc(0x9d2)](_0x5f2c44=>{_0x3fd7f7[_0x581d5e][_0x5f2c44]||(_0x3fd7f7[_0x581d5e][_0x5f2c44]=0x0),_0x3fd7f7[_0x581d5e][_0x5f2c44]+=_0x3dfd4d[_0x581d5e][_0x5f2c44];});});});let _0x1dbbb0=0x0,_0x444279=0x0,_0x1e711e=0x0,_0x480452=0x0,_0x47950b=0x0;return this[_0x3fbff4(0x6cf)][_0x3fbff4(0x9d2)](_0x4f9251=>{const _0x4358be=_0x3fbff4;_0x444279+=_0x4f9251[_0x4358be(0x9fe)],_0x1e711e+=_0x4f9251['messagesReceived'],_0x480452+=_0x4f9251[_0x4358be(0x811)],_0x47950b+=_0x4f9251[_0x4358be(0x2e6)];}),this[_0x3fbff4(0x8bb)][_0x3fbff4(0x9d2)](_0x27448b=>{const _0x57d51e=_0x3fbff4;_0x1dbbb0+=_0x27448b[_0x57d51e(0x57c)],_0x444279+=_0x27448b[_0x57d51e(0x9fe)],_0x1e711e+=_0x27448b[_0x57d51e(0x41b)],_0x480452+=_0x27448b[_0x57d51e(0x811)],_0x47950b+=_0x27448b[_0x57d51e(0x2e6)];}),this[_0x3fbff4(0x9ef)]['forEach'](_0x476be4=>{const _0x2842c1=_0x3fbff4;_0x1dbbb0+=_0x476be4[_0x2842c1(0x57c)],_0x444279+=_0x476be4['messagesSent'],_0x1e711e+=_0x476be4[_0x2842c1(0x41b)],_0x480452+=_0x476be4['bytesSent'],_0x47950b+=_0x476be4[_0x2842c1(0x2e6)];}),this[_0x3fbff4(0x709)][_0x3fbff4(0x9d2)](_0x1fdc05=>{const _0x40fb2e=_0x3fbff4;_0x1dbbb0+=_0x1fdc05[_0x40fb2e(0x57c)],_0x444279+=_0x1fdc05[_0x40fb2e(0x9fe)],_0x1e711e+=_0x1fdc05['messagesReceived'],_0x480452+=_0x1fdc05[_0x40fb2e(0x811)],_0x47950b+=_0x1fdc05[_0x40fb2e(0x2e6)];}),this[_0x3fbff4(0x640)][_0x3fbff4(0x9d2)](_0x5aeb6b=>{const _0x41c700=_0x3fbff4;_0x1dbbb0+=_0x5aeb6b['storage'],_0x444279+=_0x5aeb6b[_0x41c700(0x9fe)],_0x1e711e+=_0x5aeb6b[_0x41c700(0x41b)],_0x480452+=_0x5aeb6b[_0x41c700(0x811)],_0x47950b+=_0x5aeb6b['bytesReceived'];}),this['vectorDatabases'][_0x3fbff4(0x9d2)](_0x127124=>{const _0x424fde=_0x3fbff4;_0x1dbbb0+=_0x127124[_0x424fde(0x57c)],_0x444279+=_0x127124[_0x424fde(0x9fe)],_0x1e711e+=_0x127124[_0x424fde(0x41b)],_0x480452+=_0x127124[_0x424fde(0x811)],_0x47950b+=_0x127124[_0x424fde(0x2e6)];}),this[_0x3fbff4(0x83b)][_0x3fbff4(0x9d2)](_0x2bfa40=>{const _0x9ffb32=_0x3fbff4;_0x1dbbb0+=_0x2bfa40[_0x9ffb32(0x57c)],_0x444279+=_0x2bfa40[_0x9ffb32(0x9fe)],_0x1e711e+=_0x2bfa40[_0x9ffb32(0x41b)],_0x480452+=_0x2bfa40['bytesSent'],_0x47950b+=_0x2bfa40[_0x9ffb32(0x2e6)];}),{'STVolatility':this[_0x3fbff4(0x600)](),'DTVolatility':this[_0x3fbff4(0xa85)](),'bitrate':this[_0x3fbff4(0x80d)](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this[_0x3fbff4(0x2cd)](),'totalStorageSize':_0x1dbbb0,'totalMessages':_0x444279+_0x1e711e,'totalMessagesSent':_0x444279,'totalMessagesReceived':_0x1e711e,'totalBytes':_0x480452+_0x47950b,'totalBytesSent':_0x480452,'totalBytesReceived':_0x47950b,'systemMessages':_0x3fd7f7,'timeProcessing':_0x37d071,'nodes':_0x3a3a1e,'pubsubTopics':Object['fromEntries'](this['pubsubTopics']),'objectStores':Object[_0x3fbff4(0x52e)](this[_0x3fbff4(0x8bb)]),'keyValueDatabases':Object[_0x3fbff4(0x52e)](this['keyValueDatabases']),'generativeAIContexts':Object[_0x3fbff4(0x52e)](this[_0x3fbff4(0x709)]),'generativeAIWorkers':Object[_0x3fbff4(0x52e)](this['generativeAIWorkers']),'vectorDatabases':Object[_0x3fbff4(0x52e)](this[_0x3fbff4(0x898)]),'graphDatabases':Object[_0x3fbff4(0x52e)](this['graphDatabases']),'externalStorages':Object[_0x3fbff4(0x52e)](this[_0x3fbff4(0x9ff)])};}[_0x3eb455(0xa09)](_0x6de912){const _0x49a086=_0x3eb455;this[_0x49a086(0x46c)][_0x49a086(0x90d)](_0x6de912,new _0x2e993f());}[_0x3eb455(0x39b)](_0x1af287){const _0x3c0495=_0x3eb455;this[_0x3c0495(0x46c)][_0x3c0495(0xaa3)](_0x1af287);}[_0x3eb455(0x4e6)](_0x56082c,_0x1628f0,_0x41bf4f){const _0x160b52=_0x3eb455;_0x1628f0 instanceof Array||this['processDataChannelReport'](_0x56082c,_0x1628f0);const _0x105405=this[_0x160b52(0x46c)]['get'](_0x56082c)?.[_0x160b52(0x4e6)](_0x1628f0,_0x41bf4f);_0x105405&&this[_0x160b52(0x73b)]['publish']({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5[_0x160b52(0x92a)],'content':{'type':_0x287489['StreamReport'],'data':{..._0x105405,'nodeId':_0x56082c}}});}[_0x3eb455(0x415)](_0xaa9454){const _0x472ae7=_0x3eb455;this[_0x472ae7(0x9d7)](_0xaa9454[_0x472ae7(0x39f)]),this[_0x472ae7(0x586)](_0xaa9454['durationTime']),this[_0x472ae7(0x73b)][_0x472ae7(0x5bf)]({'sourceId':_0x36c1f1,'messageType':_0x3ef5e5['Stats'],'content':{'type':_0x287489['LocalReport'],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this['getDTVolatility']()}}});}['processServiceReport'](_0x15a0c6,_0x1aabe9,_0x5d6836){const _0x4ec5f9=_0x3eb455;switch(_0x1aabe9){case _0x2862db[_0x4ec5f9(0x643)]:this['pubsubTopics']['set'](_0x15a0c6,_0x5d6836);break;case _0x2862db[_0x4ec5f9(0x225)]:this[_0x4ec5f9(0x8bb)][_0x4ec5f9(0x90d)](_0x15a0c6,_0x5d6836);break;case _0x2862db[_0x4ec5f9(0x3cb)]:this['keyValueDatabases'][_0x4ec5f9(0x90d)](_0x15a0c6,_0x5d6836);break;case _0x2862db['GenerativeAIContextStats']:this[_0x4ec5f9(0x709)]['set'](_0x15a0c6,_0x5d6836);break;case _0x2862db[_0x4ec5f9(0x87f)]:this[_0x4ec5f9(0x640)]['set'](_0x15a0c6,_0x5d6836);break;case _0x2862db['VectorDatabaseStats']:this[_0x4ec5f9(0x898)][_0x4ec5f9(0x90d)](_0x15a0c6,_0x5d6836);break;case _0x2862db[_0x4ec5f9(0x642)]:this['graphDatabases'][_0x4ec5f9(0x90d)](_0x15a0c6,_0x5d6836);break;case _0x2862db[_0x4ec5f9(0x4b8)]:this['externalStorages'][_0x4ec5f9(0x90d)](_0x15a0c6,_0x5d6836);}}[_0x3eb455(0x734)](_0x556717){this['systemTopic']=_0x556717;}['unregisterSystemPublisher'](){const _0x29bd76=_0x3eb455;delete this[_0x29bd76(0x73b)];}[_0x3eb455(0x600)](){const _0x3d0ef5=_0x3eb455;return this[_0x3d0ef5(0x94c)]>0x0&&this['scheduleTime']-_0x4f0d09>0x0?(this['scheduleTime']-_0x4f0d09)/_0x4f0d09:0x0;}[_0x3eb455(0xa85)](){const _0x482e20=_0x3eb455;return this[_0x482e20(0x2d5)]>0x0&&this[_0x482e20(0x2d5)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x3eb455(0x4fb)](){const _0x366833=_0x3eb455;let _0x3f7d7b=0x0;return this[_0x366833(0x46c)][_0x366833(0x9d2)](_0x10cd24=>{_0x3f7d7b+=_0x10cd24['senderBitrate'];}),_0x3f7d7b;}[_0x3eb455(0x2cd)](){const _0x1fb570=_0x3eb455;let _0x5bd171=0x0;return this[_0x1fb570(0x46c)]['forEach'](_0x1fe938=>{const _0x4e6862=_0x1fb570;_0x5bd171+=_0x1fe938[_0x4e6862(0x817)];}),_0x5bd171;}['getBitrate'](){const _0x533fc0=_0x3eb455;let _0x437595=0x0;return this['nodes'][_0x533fc0(0x9d2)](_0x4bc2a2=>{const _0x816124=_0x533fc0;_0x437595+=_0x4bc2a2[_0x816124(0x46e)];}),_0x437595;}[_0x3eb455(0x9d7)](_0x23e25d){this['scheduleTime']=_0x23e25d;}['setDurationTime'](_0x5bdd32){this['durationTime']=_0x5bdd32;}['processDataChannelReport'](_0x15b76f,_0x44126d){const _0x3b9a2d=_0x3eb455;switch(_0x44126d[_0x3b9a2d(0x487)]){case _0x56f542['Sender']:this[_0x3b9a2d(0x45d)](_0x15b76f,_0x44126d);break;case _0x56f542[_0x3b9a2d(0x255)]:this[_0x3b9a2d(0x27d)](_0x15b76f,_0x44126d);}}['processSenderReport'](_0x367170,_0xe31fea){const _0xc516c0=_0x3eb455;this[_0xc516c0(0x509)][_0xc516c0(0x90d)](_0x367170,_0xe31fea[_0xc516c0(0x9fe)]),this[_0xc516c0(0x91f)][_0xc516c0(0x90d)](_0x367170,_0xe31fea[_0xc516c0(0xa3c)]);}[_0x3eb455(0x27d)](_0x54f183,_0x169ab9){const _0x12c5ee=_0x3eb455;this[_0x12c5ee(0x615)]['set'](_0x54f183,_0x169ab9['messagesReceived']),this[_0x12c5ee(0x8b4)][_0x12c5ee(0x90d)](_0x54f183,_0x169ab9['timeReceiving']),this[_0x12c5ee(0x89a)][_0x12c5ee(0x90d)](_0x54f183,_0x169ab9[_0x12c5ee(0x89a)]);}}class _0x5a851a{[_0x3eb455(0x399)];['remoteNodes']=new Set();[_0x3eb455(0x3a1)];['statsCollection'];[_0x3eb455(0x501)];['statsReport']=new _0x4c1ec6();constructor(_0x368197){const _0x583236=_0x3eb455;this[_0x583236(0x399)]=_0x368197,this[_0x583236(0x399)][_0x583236(0x273)][_0x583236(0x7b4)](this[_0x583236(0x548)]),this[_0x583236(0x8f6)]=this['setupStatsCollection'](),this['statsReporting']=this[_0x583236(0xa28)]();}['close'](){const _0x445449=_0x3eb455;this[_0x445449(0x399)]['mediator']['unregisterSystemSource'](this[_0x445449(0x548)]),this[_0x445449(0x501)](),this[_0x445449(0x8f6)]();}[_0x3eb455(0xa09)](_0x46d51d){const _0xe09b18=_0x3eb455;this[_0xe09b18(0x3bf)][_0xe09b18(0x520)](_0x46d51d),this[_0xe09b18(0x548)]['addRemoteNode'](_0x46d51d);}[_0x3eb455(0x39b)](_0x565ebf){const _0x1a6c6f=_0x3eb455;this[_0x1a6c6f(0x3bf)][_0x1a6c6f(0xaa3)](_0x565ebf),this[_0x1a6c6f(0x548)][_0x1a6c6f(0x39b)](_0x565ebf);}['handlePeerConnectionSystemEvents'](_0xa02f32){const _0x3feaf6=_0x3eb455;if(_0xa02f32[_0x3feaf6(0x211)][_0x3feaf6(0x6d8)]===_0xf557df[_0x3feaf6(0x92a)]){const {nodeId:_0x3687d7,streamId:_0x1a6e17,stats:_0x18313f}=_0xa02f32[_0x3feaf6(0x211)];this[_0x3feaf6(0x548)][_0x3feaf6(0x4e6)](_0x3687d7,_0x18313f,_0x1a6e17);}}['handleContentSystemEvents'](_0x26c3f7){const _0x182432=_0x3eb455;switch(_0x26c3f7[_0x182432(0x211)][_0x182432(0x6d8)]){case _0x2862db[_0x182432(0x225)]:case _0x2862db[_0x182432(0x3cb)]:case _0x2862db[_0x182432(0x643)]:case _0x2862db[_0x182432(0x5ae)]:case _0x2862db[_0x182432(0x87f)]:case _0x2862db[_0x182432(0x3c0)]:case _0x2862db[_0x182432(0x642)]:case _0x2862db[_0x182432(0x4b8)]:this[_0x182432(0x548)][_0x182432(0xacb)](_0x26c3f7['content'][_0x182432(0x78e)],_0x26c3f7[_0x182432(0x211)][_0x182432(0x6d8)],_0x26c3f7[_0x182432(0x211)][_0x182432(0xa27)]);}}[_0x3eb455(0xa28)](){const _0x31fae4=_0x3eb455;return _0x4dd2fb[_0x31fae4(0x409)](()=>{const _0x123d69=_0x31fae4,_0x42f418=this[_0x123d69(0x548)][_0x123d69(0x8f8)]();_0x2c9fd4[_0x123d69(0x2f3)](_0x51c80b[_0x123d69(0x92a)],_0x123d69(0x5fd),_0x42f418),(0x0,_0x1a96a4[_0x123d69(0x7a3)])((0x0,_0x1a96a4[_0x123d69(0x23e)])(_0x418361[_0x123d69(0x9e1)](),'developers/'+this['configs']['vendorId']+'/stats'),{'clusterId':this[_0x123d69(0x399)][_0x123d69(0x9ac)],'nodeId':this[_0x123d69(0x399)]['localNode'][_0x123d69(0x777)](),'nodeType':this['configs']['localNode'][_0x123d69(0x6d8)],'timestamp':(0x0,_0x1a96a4[_0x123d69(0x633)])(),'report':_0x42f418}),_0x2c9fd4[_0x123d69(0x95c)](_0x123d69(0xa27),{'clusterId':this[_0x123d69(0x399)][_0x123d69(0x9ac)],'nodeId':this['configs']['localNode'][_0x123d69(0x777)](),'nodeType':this[_0x123d69(0x399)][_0x123d69(0x45e)][_0x123d69(0x6d8)],'data':{'report':_0x42f418}});},_0x19288e);}[_0x3eb455(0xaba)](){const _0x502f02=_0x3eb455;let _0xf42e97=!0x1,_0x49afc8=Date[_0x502f02(0xa6a)]();return _0x4dd2fb[_0x502f02(0x409)](async()=>{const _0x442b39=_0x502f02;if(_0xf42e97)return;if(_0xf42e97=!0x0,0x0===this[_0x442b39(0x3bf)][_0x442b39(0xa95)])return delete this[_0x442b39(0x3a1)],void(_0xf42e97=!0x1);const _0x4c6bba=Date[_0x442b39(0xa6a)]();this[_0x442b39(0x7f3)]();try{await this['configs']['mediator']['collectStats'](this[_0x442b39(0x3a1)]);}catch(_0x3be320){}this[_0x442b39(0x548)][_0x442b39(0x415)]({'secheduleTime':_0x4c6bba-_0x49afc8,'durationTime':Date[_0x442b39(0xa6a)]()-_0x4c6bba}),_0x49afc8=_0x4c6bba,_0xf42e97=!0x1;},_0x4f0d09);}[_0x3eb455(0x7f3)](){const _0x518d8c=_0x3eb455;let _0x44bf08,_0x86278a=!0x1;this[_0x518d8c(0x3a1)]&&(this[_0x518d8c(0x3bf)][_0x518d8c(0x8c7)](this[_0x518d8c(0x3a1)])||delete this['nextNodeId']);for(const _0x1907f9 of this[_0x518d8c(0x3bf)])if(_0x44bf08||(_0x44bf08=_0x1907f9),this['nextNodeId']!==_0x1907f9){if(_0x86278a)return void(this['nextNodeId']=_0x1907f9);}else _0x86278a=!0x0,delete this[_0x518d8c(0x3a1)];this[_0x518d8c(0x3a1)]||(this[_0x518d8c(0x3a1)]=_0x44bf08);}}class _0x4ecb67{['source'];[_0x3eb455(0x272)];[_0x3eb455(0x73b)];constructor(_0x4b1063,_0x21d37b){const _0x93607b=_0x3eb455;this[_0x93607b(0x897)]=_0x4b1063,this[_0x93607b(0x272)]=_0x21d37b;}[_0x3eb455(0x734)](_0x3b34db){this['systemTopic']=_0x3b34db;}[_0x3eb455(0x416)](){const _0x538993=_0x3eb455;delete this[_0x538993(0x73b)];}}class _0x53f065 extends _0x4ecb67{[_0x3eb455(0x897)];[_0x3eb455(0x272)];[_0x3eb455(0x944)];constructor(_0x9b5c0b,_0x1e283e,_0x1f7a81){const _0x45faca=_0x3eb455;super(_0x9b5c0b,_0x1e283e),this['source']=_0x9b5c0b,this[_0x45faca(0x272)]=_0x1e283e,this[_0x45faca(0x944)]=_0x1f7a81;}['subscribe'](_0x2eb185,_0x15931b,_0x4d948b){const _0x523d5d=_0x3eb455;if(this['destination']['getContentType']()===_0x4d2150['ContentType'][_0x523d5d(0x386)]){const _0x114960={'type':_0x52b6ab[_0x523d5d(0x449)],'label':this[_0x523d5d(0x272)]['getLabel'](),'ownerId':_0x2eb185,'trackKinds':_0x15931b??this[_0x523d5d(0x272)][_0x523d5d(0x9bd)](),'params':_0x4d948b};this[_0x523d5d(0x73b)][_0x523d5d(0x5bf)]({'sourceId':this['source'][_0x523d5d(0x99c)](),'destinationIds':[this[_0x523d5d(0x897)][_0x523d5d(0x291)]()],'messageType':_0x3ef5e5[_0x523d5d(0x4bc)],'content':_0x114960}),this[_0x523d5d(0x944)]=_0x4d948b;}}[_0x3eb455(0x1ed)](_0xafed7b,_0x5e7e16){const _0x2d8ee4=_0x3eb455;if(this[_0x2d8ee4(0x272)][_0x2d8ee4(0x41e)]()===_0x4d2150[_0x2d8ee4(0x9a5)][_0x2d8ee4(0x386)]){const _0x4f67a0={'type':_0x52b6ab[_0x2d8ee4(0x74c)],'label':this['destination']['getLabel'](),'ownerId':_0xafed7b,'params':_0x5e7e16};this[_0x2d8ee4(0x73b)][_0x2d8ee4(0x5bf)]({'sourceId':this[_0x2d8ee4(0x897)][_0x2d8ee4(0x99c)](),'destinationIds':[this[_0x2d8ee4(0x897)]['getRemoteId']()],'messageType':_0x3ef5e5[_0x2d8ee4(0x4bc)],'content':_0x4f67a0}),this[_0x2d8ee4(0x944)]=_0x5e7e16;}}[_0x3eb455(0x421)](_0x3a0898,_0x1b64fc,_0x37044f){const _0x611617=_0x3eb455;if(this[_0x611617(0x272)][_0x611617(0x41e)]()===_0x4d2150['ContentType']['Media']){const _0x27fe51={'type':_0x52b6ab[_0x611617(0x3d3)],'label':this[_0x611617(0x272)]['getLabel'](),'ownerId':_0x3a0898,'trackKinds':_0x37044f??this[_0x611617(0x272)]['getAvailableTrackKinds'](),'remainingTracks':_0x1b64fc};this[_0x611617(0x73b)][_0x611617(0x5bf)]({'sourceId':this[_0x611617(0x897)][_0x611617(0x99c)](),'destinationIds':[this[_0x611617(0x897)]['getRemoteId']()],'messageType':_0x3ef5e5[_0x611617(0x4bc)],'content':_0x27fe51});}}}class _0x507fa6{[_0x3eb455(0x524)];['maxDistance'];['tracks'];[_0x3eb455(0x73b)];[_0x3eb455(0x6ee)]=new Set();['startTime']=Date['now']();[_0x3eb455(0x944)];['retryCount']=0x0;constructor(_0x2f8b50,_0x299dcc,_0x64f096,_0x4aece6){const _0xdff485=_0x3eb455;this[_0xdff485(0x524)]=_0x299dcc,this[_0xdff485(0x2eb)]=_0x64f096,this['tracks']=_0x4aece6,_0x2f8b50[_0xdff485(0x9d2)](_0x3f53cb=>{const _0x19d2a6=_0xdff485;this[_0x19d2a6(0x6ee)]['add']({'nodeId':_0x3f53cb,'type':_0x1d3cc3['Waiting']});});}['getTracks'](){return this['tracks'];}[_0x3eb455(0x734)](_0x55850a){this['systemTopic']=_0x55850a;}[_0x3eb455(0x416)](){const _0x39c817=_0x3eb455;delete this[_0x39c817(0x73b)];}['reset'](_0x4255e6,_0x3e3d34){const _0xbdf75c=_0x3eb455;this[_0xbdf75c(0x28c)]=Date[_0xbdf75c(0xa6a)](),this['answers'][_0xbdf75c(0xa0e)](),_0x4255e6[_0xbdf75c(0x9d2)](_0x3c5b67=>{const _0x4618f2=_0xbdf75c;this[_0x4618f2(0x6ee)][_0x4618f2(0x520)]({'nodeId':_0x3c5b67,'type':_0x1d3cc3[_0x4618f2(0x63d)]});}),this['retryCount']+=0x1,this[_0xbdf75c(0x524)]=_0x3e3d34;}['sendRequest'](_0x27ca95,_0x163b13,_0x2349e5,_0x156a11,_0x3e257c){const _0x4ed84f=_0x3eb455;if(this[_0x4ed84f(0x4b9)]>0xa)throw new _0x157cd9(_0x157cd9['codes'][_0x4ed84f(0x465)],{'answers':Array['from'](this['answers'])[_0x4ed84f(0x257)](_0x100d11=>({'nodeId':_0x100d11[_0x4ed84f(0x924)],'type':_0x100d11[_0x4ed84f(0x6d8)]}))});const _0x12fdce=Array[_0x4ed84f(0x495)](this['answers'])[_0x4ed84f(0x257)](_0x58c866=>_0x58c866[_0x4ed84f(0x924)]);this[_0x4ed84f(0x944)]=_0x3e257c,this['systemTopic'][_0x4ed84f(0x5bf)]({'sourceId':_0x27ca95,'destinationIds':_0x12fdce,'messageType':_0x3ef5e5[_0x4ed84f(0x4bc)],'content':{'type':_0x52b6ab['NeedMediaStream'],'label':_0x2349e5,'ownerId':_0x163b13,'trackKinds':_0x156a11,'params':_0x3e257c}}),_0x2c9fd4[_0x4ed84f(0x2f3)](_0x51c80b['Subscription'],'Send\x20request',_0x27ca95,_0x12fdce);}[_0x3eb455(0x7d3)](_0xddd42f,_0x1fba2a){const _0x221803=_0x3eb455;switch(_0x1fba2a[_0x221803(0x6d8)]){case _0x52b6ab[_0x221803(0x785)]:{const _0x5db5b6=this['currentDistance']>=_0x1fba2a[_0x221803(0x93e)]&&_0x1fba2a['distance']<=this['maxDistance'],_0x5e7d97=Array[_0x221803(0x495)](this[_0x221803(0x6ee)])[_0x221803(0xa41)](_0x141ba9=>_0x141ba9[_0x221803(0x924)]===_0xddd42f);_0x5e7d97[_0x221803(0x6d8)]=_0x5db5b6?_0x1d3cc3[_0x221803(0x1ee)]:_0x1d3cc3[_0x221803(0x402)],_0x5e7d97[_0x221803(0x228)]=_0x1fba2a[_0x221803(0x228)],_0x5e7d97[_0x221803(0x93e)]=_0x1fba2a[_0x221803(0x93e)],_0x5e7d97[_0x221803(0x83d)]=_0x1fba2a[_0x221803(0x83d)],_0x5e7d97[_0x221803(0x872)]=Date[_0x221803(0xa6a)]()-this[_0x221803(0x28c)],_0x5e7d97[_0x221803(0x944)]=this['params'],_0x5e7d97['ownerId']=_0x1fba2a[_0x221803(0x1b4)],_0x5e7d97[_0x221803(0x7d5)]=_0x1fba2a[_0x221803(0x7d5)],_0x5e7d97[_0x221803(0x68a)]=_0x1fba2a['label'],_0x2c9fd4['log'](_0x51c80b[_0x221803(0x4bc)],(_0x5db5b6?_0x221803(0x1ee):_0x221803(0x402))+_0x221803(0x916),_0x5e7d97);break;}case _0x52b6ab[_0x221803(0x584)]:{const _0x1b8f73=Array[_0x221803(0x495)](this[_0x221803(0x6ee)])[_0x221803(0xa41)](_0xf015dc=>_0xf015dc[_0x221803(0x924)]===_0xddd42f);_0x1b8f73[_0x221803(0x6d8)]=_0x1d3cc3[_0x221803(0x402)],_0x2c9fd4[_0x221803(0x2f3)](_0x51c80b[_0x221803(0x4bc)],_0x221803(0x91e),_0x1b8f73);break;}}if(this[_0x221803(0x564)]())return this['chooseAnswer']();}['chooseAnswer'](){const _0x309ed4=_0x3eb455,_0x17f826=Array[_0x309ed4(0x495)](this[_0x309ed4(0x6ee)])['filter'](_0x39624a=>_0x39624a[_0x309ed4(0x6d8)]===_0x1d3cc3[_0x309ed4(0x1ee)])[_0x309ed4(0x3d8)]((_0x2fe3b4,_0x391d2b)=>_0x2fe3b4[_0x309ed4(0x228)]===_0x391d2b['cost']?_0x2fe3b4[_0x309ed4(0x872)]-_0x391d2b[_0x309ed4(0x872)]:_0x2fe3b4['cost']-_0x391d2b[_0x309ed4(0x228)]);if(0x0===_0x17f826[_0x309ed4(0x3ed)])throw new _0x157cd9(_0x157cd9[_0x309ed4(0x6cc)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x309ed4(0x495)](this[_0x309ed4(0x6ee)])[_0x309ed4(0x257)](_0x3e494e=>({'nodeId':_0x3e494e['nodeId'],'type':_0x3e494e['type']}))});return _0x2c9fd4[_0x309ed4(0x2f3)](_0x51c80b[_0x309ed4(0x4bc)],_0x309ed4(0x797),_0x17f826[0x0],this[_0x309ed4(0x6ee)]),_0x17f826[0x0];}['canChooseAnswer'](){const _0x1c5d00=_0x3eb455;for(const _0x4973ea of this[_0x1c5d00(0x6ee)])if(_0x4973ea[_0x1c5d00(0x6d8)]===_0x1d3cc3[_0x1c5d00(0x63d)])return!0x1;return!0x0;}}class _0x325272{[_0x3eb455(0x78e)];[_0x3eb455(0x20d)];[_0x3eb455(0xa1c)]=_0x2bf9b6();constructor(_0xcd4cda,_0x3f3110){const _0xe22081=_0x3eb455;this[_0xe22081(0x78e)]=_0xcd4cda,this['contentType']=_0x3f3110;}['getLabel'](){const _0x36a7ce=_0x3eb455;return this[_0x36a7ce(0x78e)];}[_0x3eb455(0x41e)](){const _0x2c1ec7=_0x3eb455;return this[_0x2c1ec7(0x20d)];}['registerSource'](_0x5d2f69){const _0x344181=_0x3eb455;_0x5d2f69[_0x344181(0x5f1)](this);}[_0x3eb455(0x28d)](_0x699fd4){const _0x3298b9=_0x3eb455;_0x699fd4[_0x3298b9(0x60b)](this);}[_0x3eb455(0x5bf)](_0x38926d){const _0x46c280=_0x3eb455;this['listener'][_0x46c280(0x5bf)]({'topicLabel':this[_0x46c280(0x78e)],'contentType':this[_0x46c280(0x20d)],'uuid':(0x0,_0xe630d4['v4'])(),'recipients':[],..._0x38926d});}[_0x3eb455(0x79f)](_0x3d1484){const _0x572268=_0x3eb455;return this[_0x572268(0xa1c)]['subscribe'](_0x3d1484);}[_0x3eb455(0x2e3)](_0x419806){const _0x2ed3ee=_0x3eb455;_0x419806[_0x2ed3ee(0x978)](this);}[_0x3eb455(0x24b)](_0x37d022){const _0x423155=_0x3eb455;_0x37d022[_0x423155(0x672)](this);}}class _0x25c402{[_0x3eb455(0x476)]={'topics':new Map(),'subscriptions':new Map()};[_0x3eb455(0x333)];constructor(_0x53dcb7){this['getPartsFromSubscription']=_0x53dcb7;}get['subscriptions'](){const _0x24e180=_0x3eb455;return this[_0x24e180(0x476)]['subscriptions'];}get['topics'](){const _0xa44662=_0x3eb455;return this[_0xa44662(0x476)]['topics'];}[_0x3eb455(0x545)](_0x22d27a,_0x4e774a){const _0x5e52ea=_0x3eb455,_0x1e5df9=this[_0x5e52ea(0x333)](_0x4e774a),_0x426342=_0x2f520c(_0x22d27a);if(!_0x1e5df9[_0x5e52ea(0x8cb)])throw new _0x157cd9(_0x157cd9[_0x5e52ea(0x6cc)][_0x5e52ea(0xa26)],{'message':_0x426342+':\x20'+_0x1e5df9[_0x5e52ea(0x582)]+_0x5e52ea(0x750)+_0x1e5df9[_0x5e52ea(0x20d)],'subscriptionType':_0x22d27a,'subscription':_0x4e774a,'subscriptonParts':_0x1e5df9});const _0x5012dd=_0x33e0e4(_0x22d27a,_0x1e5df9);if(this[_0x5e52ea(0x476)][_0x5e52ea(0x870)][_0x5e52ea(0x8c7)](_0x5012dd))throw new _0x157cd9(_0x157cd9[_0x5e52ea(0x6cc)]['InvalidSubscription'],{'message':_0x426342+':\x20'+_0x5012dd+'\x20already\x20exists','subscriptionType':_0x22d27a,'subscription':_0x4e774a,'subscriptonParts':_0x1e5df9});this[_0x5e52ea(0x476)]['subscriptions'][_0x5e52ea(0x90d)](_0x5012dd,_0x4e774a),this[_0x5e52ea(0x50b)](_0x1e5df9,_0x4e774a);}['removeSubscription'](_0x1ebce1,_0x5e36e6){const _0x1f5f6c=_0x3eb455,_0x175b2e=_0x33e0e4(_0x5e36e6,_0x1ebce1),_0x24a0aa=this[_0x1f5f6c(0x476)]['subscriptions'][_0x1f5f6c(0x1d7)](_0x175b2e);if(!_0x24a0aa)throw new _0x157cd9(_0x157cd9['codes'][_0x1f5f6c(0xa26)],{'message':_0x2f520c(_0x5e36e6)+':\x20'+_0x175b2e+_0x1f5f6c(0x8f5),'subscriptionType':_0x5e36e6,'subscription':_0x24a0aa,'subscriptonParts':_0x1ebce1});this['closeSubscription'](_0x24a0aa,_0x175b2e,_0x1ebce1);}[_0x3eb455(0x1bf)](_0x10d84d,_0x1ed14c,_0x4bc305){const _0x1928b8=_0x3eb455;_0x4bc305=_0x4bc305||this[_0x1928b8(0x333)](_0x10d84d),this[_0x1928b8(0x476)]['subscriptions']['delete'](_0x1ed14c),this[_0x1928b8(0xaa5)](_0x4bc305,_0x10d84d);}[_0x3eb455(0x50b)](_0x378bcd,{source:_0x2ad371,destination:_0x2c5427}){const _0x5389b6=_0x3eb455,{contentType:_0x3cc4b0,label:_0x5445b4,remoteId:_0x261d1e}=_0x378bcd,_0x32280a=_0x24a603(_0x3cc4b0,_0x5445b4,_0x261d1e),_0x278961=new _0x325272(_0x32280a,_0x3cc4b0);_0x278961[_0x5389b6(0x385)](_0x2ad371),_0x278961[_0x5389b6(0x28d)](_0x2c5427),this[_0x5389b6(0x476)][_0x5389b6(0x90c)][_0x5389b6(0x90d)](_0x278961[_0x5389b6(0x8d5)](),_0x278961);}[_0x3eb455(0xaa5)](_0x39267b,_0x31ca18){const _0x173d7e=_0x3eb455,{contentType:_0x1d156b,label:_0x4e0810,remoteId:_0x27e5c4}=_0x39267b,_0x52ec7e=_0x24a603(_0x1d156b,_0x4e0810,_0x27e5c4),_0x56006d=this[_0x173d7e(0x476)][_0x173d7e(0x90c)]['get'](_0x52ec7e);_0x56006d&&(this[_0x173d7e(0x781)](_0x56006d,_0x31ca18),this[_0x173d7e(0x476)][_0x173d7e(0x90c)]['delete'](_0x52ec7e));}[_0x3eb455(0x781)](_0x2aebf4,{source:_0x344ca7,destination:_0x5e89f4}){const _0x4ee154=_0x3eb455;_0x2aebf4[_0x4ee154(0x2e3)](_0x344ca7),_0x2aebf4[_0x4ee154(0x24b)](_0x5e89f4);}[_0x3eb455(0x4af)](_0x25d9dc){const _0x514fce=_0x3eb455;this[_0x514fce(0x476)][_0x514fce(0x870)]['forEach']((_0x2932fd,_0xe9dc88)=>{const _0x5c7fc1=_0x514fce;_0xe9dc88[_0x5c7fc1(0x3d0)](_0x25d9dc)&&this[_0x5c7fc1(0x1bf)](_0x2932fd,_0xe9dc88);});}}class _0x443a58{[_0x3eb455(0x399)];['maxDistance'];[_0x3eb455(0x379)]=new Map();['subscriptionRequestsQueue']=_0x25317f(new _0x4a76ce(this[_0x3eb455(0x72f)][_0x3eb455(0x64d)](this),()=>_0x4dd2fb['wait'](0x64)),!0x0);['subscriptionRequestTimeouts']=new Map();['maps'];['chosenAnswers']=new Map();constructor(_0x677589,_0x2d6b7f){const _0x1e8ad1=_0x3eb455;this[_0x1e8ad1(0x399)]=_0x677589,this[_0x1e8ad1(0x2eb)]=_0x2d6b7f,this['maps']=new _0x25c402(({source:_0x2feaa1,destination:_0x37054b})=>_0x5e5d3c(_0x37054b,_0x2feaa1));}[_0x3eb455(0x545)](_0x5d4721,_0x1dc93f){const _0x242689=_0x3eb455,_0x573491=this['isMediaSource'](_0x5d4721)&&this['isMediaDestination'](_0x1dc93f)?new _0x53f065(_0x5d4721,_0x1dc93f):new _0x4ecb67(_0x5d4721,_0x1dc93f);this[_0x242689(0x476)][_0x242689(0x545)](_0xb17a3b[_0x242689(0xa1d)],_0x573491),this[_0x242689(0x399)]['mediator'][_0x242689(0x7b4)](_0x573491);}[_0x3eb455(0x206)](_0x9f5bb1,_0x28873e,_0x9ff1bd=''){const _0x3e34cd=_0x3eb455,_0x44ae65={'contentType':_0x28873e,'label':_0x9f5bb1,'remoteId':_0x9ff1bd},_0x1affe2=_0x33e0e4(_0xb17a3b[_0x3e34cd(0xa1d)],_0x44ae65),_0x387d8c=this[_0x3e34cd(0x476)][_0x3e34cd(0x870)][_0x3e34cd(0x1d7)](_0x1affe2);_0x387d8c&&this[_0x3e34cd(0x1bf)](_0x387d8c,_0x1affe2);}[_0x3eb455(0xa8b)](_0x25e17){const _0x2e579c=_0x3eb455;this[_0x2e579c(0x267)](_0x25e17);}['handleContentSubscribeMediaStream']({label:_0x52d946,ownerId:_0x39125c,trackKinds:_0xa922d1,params:_0x526082}){const _0x2ba343=_0x3eb455;this[_0x2ba343(0x35b)](_0x52d946,_0x39125c,_0xa922d1,_0x526082);}['handleContentUpdateMediaStream']({ownerId:_0x1dac28,label:_0x3a70de,params:_0x24d30e}){const _0x5e3f69=_0x3eb455,{subscriptionLabel:_0x2b12e9}=this[_0x5e3f69(0x680)](_0x3a70de,_0x1dac28),_0x58a4b6=this[_0x5e3f69(0x8ca)](_0x2b12e9);_0x58a4b6&&_0x58a4b6[_0x5e3f69(0x1ed)](_0x1dac28,_0x24d30e);}[_0x3eb455(0x4fa)]({ownerId:_0x48cee6,label:_0x334c1e,trackKinds:_0x3dd63f,remainingTracks:_0x4a1818}){const _0x175833=_0x3eb455,_0x393c20=_0x33e0e4(_0xb17a3b[_0x175833(0xa1d)],{'contentType':_0x4d2150[_0x175833(0x9a5)][_0x175833(0x386)],'label':_0x334c1e,'remoteId':_0x48cee6});this[_0x175833(0x4b1)](_0x393c20);const _0x186ba0=this[_0x175833(0x379)][_0x175833(0x1d7)](_0x393c20);_0x186ba0&&(this[_0x175833(0x399)][_0x175833(0x273)]['unregisterSystemSource'](_0x186ba0),this[_0x175833(0x379)]['delete'](_0x393c20));const {parts:_0x4be5b0,subscriptionLabel:_0x2e005f}=this[_0x175833(0x680)](_0x334c1e,_0x48cee6),_0x4188eb=this[_0x175833(0x8ca)](_0x2e005f);_0x4188eb&&(_0x4188eb['unsubscribe'](_0x48cee6,_0x4a1818,_0x3dd63f),0x0===_0x4a1818&&this['removeSubscription'](_0x4be5b0[_0x175833(0x78e)],_0x4be5b0[_0x175833(0x20d)],_0x4be5b0[_0x175833(0x582)]));}[_0x3eb455(0x593)](_0x28ba1c,{label:_0x44d1ae,ownerId:_0xc0a85d,trackKinds:_0x173011,streamId:_0xc7df00,params:_0x56407d}){const _0x108c36=_0x3eb455,_0x30c24e=_0x33e0e4(_0xb17a3b[_0x108c36(0xa1d)],{'contentType':_0x4d2150[_0x108c36(0x9a5)][_0x108c36(0x386)],'label':_0xc7df00,'remoteId':_0x28ba1c}),_0x340f3e=this['maps'][_0x108c36(0x870)][_0x108c36(0x1d7)](_0x30c24e);if(!(_0x340f3e&&_0x340f3e instanceof _0x53f065))throw new _0x157cd9(_0x157cd9['codes'][_0x108c36(0x6e1)],{'label':_0x30c24e,'ownerId':_0xc0a85d});this[_0x108c36(0x1bf)](_0x340f3e,_0x30c24e),this[_0x108c36(0x35b)](_0x44d1ae,_0xc0a85d,_0x173011,_0x56407d);}[_0x3eb455(0x997)](_0x5aa8c6,_0x50e8a4){const _0x257ba6=_0x3eb455,{label:_0x3c8071,ownerId:_0x17cc7f,trackKinds:_0x5100c5,params:_0x1fd39e}=_0x50e8a4,_0x1ec1b8=_0x33e0e4(_0xb17a3b['Incoming'],{'contentType':_0x4d2150[_0x257ba6(0x9a5)][_0x257ba6(0x386)],'label':_0x3c8071,'remoteId':_0x17cc7f});if(!this[_0x257ba6(0x379)][_0x257ba6(0x8c7)](_0x1ec1b8))throw new _0x157cd9(_0x157cd9['codes'][_0x257ba6(0x6e1)],{'label':_0x1ec1b8,'ownerId':_0x17cc7f,'streamId':_0x50e8a4['streamId'],'requests':this[_0x257ba6(0x379)]});const _0x3e8b9b=this[_0x257ba6(0x379)][_0x257ba6(0x1d7)](_0x1ec1b8);if(_0x5100c5['length']===_0x3e8b9b[_0x257ba6(0x7e6)]()[_0x257ba6(0x3ed)]&&_0x5100c5[_0x257ba6(0x355)](_0x565a2f=>_0x3e8b9b['getTracks']()['includes'](_0x565a2f)))try{const _0x39fce6=_0x3e8b9b[_0x257ba6(0x7d3)](_0x5aa8c6,_0x50e8a4);if(!_0x39fce6)return;this[_0x257ba6(0x79f)](_0x39fce6,_0x17cc7f,_0x3c8071,_0x1ec1b8,_0x5100c5);}catch(_0x57cd0f){return void this[_0x257ba6(0x754)](_0x3c8071,_0x17cc7f,_0x5100c5,_0x1fd39e);}}['handleSubscriptionMediaStreamUnavailable'](_0x25dc61,{label:_0x5beb77,ownerId:_0x2836b9,trackKinds:_0x55c25f}){const _0xad48d8=_0x3eb455,_0x47fd4b=this[_0xad48d8(0x399)][_0xad48d8(0x273)][_0xad48d8(0x512)](_0x2836b9,_0x5beb77);if(!_0x47fd4b)return;const _0x2b433e=_0x47fd4b['getInternalStreamId'](),_0x24fa2f=_0x47fd4b[_0xad48d8(0x75b)]();_0x24fa2f[_0xad48d8(0x698)](_0x18f4a4=>_0x55c25f[_0xad48d8(0x721)](_0x18f4a4))&&this['findNewMediaSubscription'](_0x25dc61,_0x5beb77,_0x2b433e,_0x2836b9,_0x24fa2f);}[_0x3eb455(0x313)]({label:_0x3ff451,providerId:_0x508c65,ownerId:_0x195c68,streamId:_0x54731f,trackKinds:_0x1cf1b1}){const _0x381a18=_0x3eb455;this[_0x381a18(0x26a)](_0x508c65,_0x3ff451,_0x54731f,_0x195c68,_0x1cf1b1);}[_0x3eb455(0x9cb)](_0x2f60c3){const _0x2ce1b5=_0x3eb455;for(const _0x374bd9 of this[_0x2ce1b5(0x1d2)]['values']()){const {streamLabel:_0x376747,ownerId:_0x431d31,trackKinds:_0x2b2041,params:_0x1bc5db}=_0x374bd9;if(!_0x431d31||!_0x2b2041||!_0x376747)return;this[_0x2ce1b5(0x1b7)]['push']({'label':_0x376747,'ownerId':_0x431d31,'trackKinds':_0x2b2041,'params':_0x1bc5db,'remoteId':_0x2f60c3});}}[_0x3eb455(0x4af)](_0x1bafb8){const _0x21610c=_0x3eb455;this[_0x21610c(0x476)][_0x21610c(0x870)][_0x21610c(0x9d2)]((_0x17d305,_0x4ccd1b)=>{const _0x592ed0=_0x21610c;if(_0x4ccd1b['endsWith'](_0x1bafb8)){if(_0x17d305['destination'][_0x592ed0(0x41e)]()===_0x4d2150[_0x592ed0(0x9a5)][_0x592ed0(0x386)]){const _0x44b537=_0x17d305[_0x592ed0(0x272)];if(_0x44b537['getSubscribedTracks']()[_0x592ed0(0x3ed)]>0x0){const _0x4cb010={'type':_0x52b6ab[_0x592ed0(0x2e7)],'label':_0x44b537['getLabel'](),'ownerId':_0x44b537[_0x592ed0(0x2e9)](),'trackKinds':_0x44b537[_0x592ed0(0x75b)]()};return void this[_0x592ed0(0x880)](_0x1bafb8,_0x4cb010);}}this[_0x592ed0(0x1bf)](_0x17d305,_0x4ccd1b);}});}[_0x3eb455(0x579)](){const _0x5b878c=_0x3eb455;this[_0x5b878c(0x476)]['subscriptions']['forEach'](this[_0x5b878c(0x1bf)]['bind'](this));}[_0x3eb455(0x79f)](_0x41deda,_0x91dc8f,_0x11bf48,_0xdc4b78,_0x3bb89b){const _0x40409f=_0x3eb455,_0x5316b6=this[_0x40409f(0x399)][_0x40409f(0x273)][_0x40409f(0x8b2)](_0x41deda[_0x40409f(0x924)]),_0x3c050f=this[_0x40409f(0x399)]['mediator'][_0x40409f(0x512)](_0x91dc8f,_0x11bf48);this[_0x40409f(0x4b1)](_0xdc4b78),this[_0x40409f(0x379)][_0x40409f(0x8c7)](_0xdc4b78)&&(this['configs']['mediator'][_0x40409f(0x511)](this[_0x40409f(0x379)][_0x40409f(0x1d7)](_0xdc4b78)),this[_0x40409f(0x379)]['delete'](_0xdc4b78)),this['cleanOldSubscription'](_0x41deda,_0x91dc8f,_0x11bf48,_0x3c050f),_0x3c050f['setInternalId'](_0x41deda[_0x40409f(0x83d)]),_0x3c050f[_0x40409f(0x1c3)](_0x41deda[_0x40409f(0x924)]);const _0x5b8eb6=_0x5e5d3c(_0x3c050f,_0x5316b6),_0x16d08a=_0x33e0e4(_0xb17a3b[_0x40409f(0xa1d)],_0x5b8eb6);this[_0x40409f(0x476)][_0x40409f(0x870)][_0x40409f(0x8c7)](_0x16d08a)||this[_0x40409f(0x545)](_0x5316b6,_0x3c050f);const _0x267b8a=this[_0x40409f(0x476)][_0x40409f(0x870)][_0x40409f(0x1d7)](_0x16d08a);if(!(_0x267b8a&&_0x267b8a instanceof _0x53f065))throw new _0x157cd9(_0x157cd9[_0x40409f(0x6cc)][_0x40409f(0x6e1)],{'label':_0xdc4b78,'ownerId':_0x91dc8f});_0x2c9fd4[_0x40409f(0x95c)](_0x40409f(0x94d),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x40409f(0x399)][_0x40409f(0x45e)][_0x40409f(0x777)](),'nodeType':this[_0x40409f(0x399)][_0x40409f(0x45e)]['type'],'data':{'subscriptionLabel':_0x16d08a,'chosenAnswer':_0x41deda}}),this[_0x40409f(0x1d2)]['set'](_0x16d08a,_0x41deda),_0x267b8a[_0x40409f(0x79f)](_0x91dc8f,_0x3bb89b,_0x41deda[_0x40409f(0x944)]);}[_0x3eb455(0x267)]({ownerId:_0x8e2b6f,label:_0x593dad}){const _0x21b03f=_0x3eb455,_0x3240bb=this[_0x21b03f(0x399)]['mediator'][_0x21b03f(0x512)](_0x8e2b6f,_0x593dad),[_0x96b258,_0x3e1521]=Array[_0x21b03f(0x495)](this[_0x21b03f(0x476)]['subscriptions'][_0x21b03f(0x858)]())[_0x21b03f(0xa41)](([_0x1bcfb4,_0x5d5e3e])=>-0x1!==_0x1bcfb4[_0x21b03f(0x43a)](_0x3240bb['getInternalStreamId']()));return this[_0x21b03f(0x1bf)](_0x3e1521,_0x96b258);}[_0x3eb455(0x1bf)](_0x1b07f0,_0x907557){const _0x5dde40=_0x3eb455;this[_0x5dde40(0x399)][_0x5dde40(0x273)][_0x5dde40(0x511)](_0x1b07f0),this[_0x5dde40(0x476)][_0x5dde40(0x1bf)](_0x1b07f0,_0x907557);}[_0x3eb455(0x5b5)](_0x22281){const _0x41598e=_0x3eb455;return _0x22281[_0x41598e(0x9e2)]()[_0x41598e(0x721)](_0x4d2150[_0x41598e(0x9a5)][_0x41598e(0x386)]);}[_0x3eb455(0x2cb)](_0x12fe52){const _0x451bbe=_0x3eb455;return _0x12fe52[_0x451bbe(0x41e)]()===_0x4d2150[_0x451bbe(0x9a5)][_0x451bbe(0x386)];}async[_0x3eb455(0x754)](_0xf9f6c0,_0x55dff3,_0x48894c,_0x12ec88){const _0x5dda68=_0x3eb455;await _0x4dd2fb[_0x5dda68(0x5a7)](0x3e8);const _0x150eb7=_0x33e0e4(_0xb17a3b[_0x5dda68(0xa1d)],{'contentType':_0x4d2150[_0x5dda68(0x9a5)]['Media'],'label':_0xf9f6c0,'remoteId':_0x55dff3});this[_0x5dda68(0x4b1)](_0x150eb7);const _0x1105e4=this['subscriptionRequests']['get'](_0x150eb7);if(!_0x1105e4)throw new _0x157cd9(_0x157cd9[_0x5dda68(0x6cc)][_0x5dda68(0x6e1)],{'label':_0x150eb7,'ownerId':_0x55dff3});const _0x3de9b2=this['configs'][_0x5dda68(0x273)][_0x5dda68(0x223)](_0x1754d1=>_0x1754d1[_0x5dda68(0x218)]()),_0x47ec2c=this[_0x5dda68(0x399)][_0x5dda68(0x273)][_0x5dda68(0x536)](this[_0x5dda68(0x399)][_0x5dda68(0x45e)][_0x5dda68(0x777)](),_0x55dff3);_0x1105e4[_0x5dda68(0x594)](_0x3de9b2[_0x5dda68(0x257)](_0x3d4209=>_0x3d4209[_0x5dda68(0x291)]()),_0x47ec2c);try{_0x1105e4[_0x5dda68(0x9ca)](this[_0x5dda68(0x399)][_0x5dda68(0x45e)][_0x5dda68(0x777)](),_0x55dff3,_0xf9f6c0,_0x48894c,_0x12ec88),this[_0x5dda68(0x392)](_0xf9f6c0,_0x55dff3,_0x48894c,_0x12ec88,_0x150eb7,_0x1105e4);}catch(_0x4a12e){this[_0x5dda68(0x1b7)][_0x5dda68(0x69a)]({'label':_0xf9f6c0,'ownerId':_0x55dff3,'trackKinds':_0x48894c,'params':_0x12ec88});}}[_0x3eb455(0x35b)](_0x58feb7,_0x330a64,_0x410113,_0xcb5a39){const _0x1d50e2=_0x3eb455;this[_0x1d50e2(0x1b7)]['push']({'label':_0x58feb7,'ownerId':_0x330a64,'trackKinds':_0x410113,'params':_0xcb5a39});}[_0x3eb455(0x72f)]({label:_0xe489a9,ownerId:_0x4ff5a0,trackKinds:_0x5179cf,params:_0x4e2cf1,remoteId:_0x3187f3}){const _0x1dfe47=_0x3eb455;if(!this['configs'][_0x1dfe47(0x273)][_0x1dfe47(0x512)](_0x4ff5a0,_0xe489a9))return;if(!this[_0x1dfe47(0x399)][_0x1dfe47(0x273)][_0x1dfe47(0x36f)]()[_0x1dfe47(0x832)]())throw new Error(_0x1dfe47(0x4cb));if(_0x3187f3){const _0x3658ee=this[_0x1dfe47(0x399)]['mediator'][_0x1dfe47(0x436)]()[_0x1dfe47(0xa41)](_0xa5262=>_0xa5262[_0x1dfe47(0x777)]()===_0x3187f3),_0x2d54f8=_0x3658ee?.[_0x1dfe47(0x832)]();if(!_0x3658ee||!_0x2d54f8)throw new Error(_0x1dfe47(0x529));const _0x2deace=this['configs'][_0x1dfe47(0x273)]['getRemoteNodes']()['find'](_0x15b2ec=>_0x15b2ec['getId']()===_0x4ff5a0),_0xd24a7=_0x2deace?.[_0x1dfe47(0x832)]();if(!_0x2deace||!_0xd24a7)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x22967b=this[_0x1dfe47(0x1d2)][_0x1dfe47(0x1d7)](_0xe489a9);if(_0x22967b){const _0x39c76d=this[_0x1dfe47(0x399)][_0x1dfe47(0x273)]['getRemoteNodes']()[_0x1dfe47(0xa41)](_0x4f97c6=>_0x4f97c6[_0x1dfe47(0x777)]()===_0x22967b[_0x1dfe47(0x924)]),_0x5c74ce=_0x39c76d?.['getRank']();if(!_0x39c76d||!_0x5c74ce)throw new Error(_0x1dfe47(0x367));if(Math['abs'](_0x5c74ce-_0xd24a7)<Math[_0x1dfe47(0xa7f)](_0x2d54f8-_0xd24a7))return;}}const _0x9cc6cb=this['configs']['mediator'][_0x1dfe47(0x223)](_0x103080=>_0x103080[_0x1dfe47(0x218)]()&&(!_0x3187f3||_0x103080[_0x1dfe47(0x291)]()===_0x3187f3));if(!_0x9cc6cb[_0x1dfe47(0x3ed)]||0x0===_0x9cc6cb[_0x1dfe47(0x3ed)])throw new Error(_0x1dfe47(0x4d3));const _0x5a6618=this[_0x1dfe47(0x399)][_0x1dfe47(0x273)][_0x1dfe47(0x536)](this[_0x1dfe47(0x399)][_0x1dfe47(0x45e)][_0x1dfe47(0x777)](),_0x4ff5a0),_0x2ffb93=_0x33e0e4(_0xb17a3b[_0x1dfe47(0xa1d)],{'contentType':_0x4d2150[_0x1dfe47(0x9a5)]['Media'],'label':_0xe489a9,'remoteId':_0x4ff5a0});if(this[_0x1dfe47(0x379)][_0x1dfe47(0x8c7)](_0x2ffb93)){if(_0x3187f3)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x46b6c8=this['subscriptionRequests'][_0x1dfe47(0x1d7)](_0x2ffb93)['getTracks']();if(_0x46b6c8[_0x1dfe47(0x3ed)]===_0x5179cf['length']&&_0x46b6c8['every'](_0x4f79a3=>_0x5179cf[_0x1dfe47(0x721)](_0x4f79a3)))return;this[_0x1dfe47(0x399)][_0x1dfe47(0x273)][_0x1dfe47(0x511)](this[_0x1dfe47(0x379)][_0x1dfe47(0x1d7)](_0x2ffb93)),this[_0x1dfe47(0x379)][_0x1dfe47(0xaa3)](_0x2ffb93),_0x5179cf=Array[_0x1dfe47(0x495)](new Set(_0x5179cf[_0x1dfe47(0xa21)](_0x46b6c8))),this[_0x1dfe47(0x4b1)](_0x2ffb93);}const _0x2f9a38=new _0x507fa6(_0x9cc6cb[_0x1dfe47(0x257)](_0x17ec99=>_0x17ec99[_0x1dfe47(0x291)]()),_0x5a6618,this[_0x1dfe47(0x2eb)],_0x5179cf);this[_0x1dfe47(0x399)]['mediator'][_0x1dfe47(0x7b4)](_0x2f9a38),this['subscriptionRequests'][_0x1dfe47(0x90d)](_0x2ffb93,_0x2f9a38),_0x2f9a38['sendRequest'](this['configs'][_0x1dfe47(0x45e)][_0x1dfe47(0x777)](),_0x4ff5a0,_0xe489a9,_0x5179cf,_0x4e2cf1),this['setSubscriptionRequestTimeout'](_0xe489a9,_0x4ff5a0,_0x5179cf,_0x4e2cf1,_0x2ffb93,_0x2f9a38);}[_0x3eb455(0x4b1)](_0x4f1e47){const _0x4bd1fd=_0x3eb455;this['subscriptionRequestTimeouts']['has'](_0x4f1e47)&&(clearTimeout(this[_0x4bd1fd(0x48d)]['get'](_0x4f1e47)),this[_0x4bd1fd(0x48d)]['delete'](_0x4f1e47));}[_0x3eb455(0x392)](_0x4cf9e5,_0x3d555a,_0x580c2a,_0x5a6ba0,_0x481cfb,_0x3f9b52){const _0x5b5f3a=_0x3eb455;this[_0x5b5f3a(0x4b1)](_0x481cfb),this['subscriptionRequestTimeouts'][_0x5b5f3a(0x90d)](_0x481cfb,setTimeout(()=>{const _0x485954=_0x5b5f3a;this[_0x485954(0x48d)]['delete'](_0x481cfb);try{const _0x3f5206=_0x3f9b52[_0x485954(0x401)]();this[_0x485954(0x79f)](_0x3f5206,_0x3d555a,_0x4cf9e5,_0x481cfb,_0x580c2a);}catch(_0x3443ed){this[_0x485954(0x754)](_0x4cf9e5,_0x3d555a,_0x580c2a,_0x5a6ba0);}},0x7d0));}[_0x3eb455(0x26a)](_0x79eade,_0x7e979f,_0x51890e,_0x2bf1f5,_0x4ab423){const _0x580ad9=_0x3eb455,{subscriptionLabel:_0x4070d1}=this['getSubscriptionLabel'](_0x7e979f,_0x2bf1f5),_0x5f10ab=this['getMediaSubscription'](_0x4070d1),_0x717c63=_0x5f10ab?.[_0x580ad9(0x944)];_0x5f10ab&&(_0x5f10ab[_0x580ad9(0x421)](_0x2bf1f5,0x0),this[_0x580ad9(0x206)](_0x51890e,_0x4d2150[_0x580ad9(0x9a5)]['Media'],_0x79eade)),this[_0x580ad9(0x35b)](_0x7e979f,_0x2bf1f5,_0x4ab423,_0x717c63);}[_0x3eb455(0x8ca)](_0x2af835){const _0x135463=_0x3eb455,_0x2b8011=this['maps'][_0x135463(0x870)]['get'](_0x2af835);if(_0x2b8011){if(!(_0x2b8011 instanceof _0x53f065))throw new _0x157cd9(_0x157cd9[_0x135463(0x6cc)][_0x135463(0xa26)],{'label':_0x2af835,'subscription':_0x2b8011});return _0x2b8011;}}[_0x3eb455(0x680)](_0x4717a6,_0x3c682a){const _0x6af0ab=_0x3eb455,_0x40277e=this[_0x6af0ab(0x5e2)](_0x4717a6,_0x3c682a);return{'parts':_0x40277e,'subscriptionLabel':_0x33e0e4(_0xb17a3b[_0x6af0ab(0xa1d)],_0x40277e)};}[_0x3eb455(0x5e2)](_0x300a02,_0x1e6df0){const _0x1b20e8=_0x3eb455,_0x2fe59d=this[_0x1b20e8(0x399)]['mediator']['getRemoteMediaStream'](_0x1e6df0,_0x300a02),_0x233425=_0x2fe59d[_0x1b20e8(0x7b6)]();if(!_0x233425)throw new _0x157cd9(_0x157cd9['codes'][_0x1b20e8(0x2a1)],{'label':_0x300a02,'streamId':_0x2fe59d[_0x1b20e8(0x37a)](),'ownerId':_0x1e6df0,'localId':this[_0x1b20e8(0x399)][_0x1b20e8(0x45e)][_0x1b20e8(0x777)]()});return{'contentType':_0x4d2150[_0x1b20e8(0x9a5)][_0x1b20e8(0x386)],'label':_0x2fe59d[_0x1b20e8(0x37a)](),'remoteId':_0x233425};}['cleanOldSubscription'](_0x1ceaf6,_0x23d3e2,_0x22d7cd,_0x232a20){const _0x3c1cb5=_0x3eb455,_0x1cdbb8=_0x232a20[_0x3c1cb5(0x7b6)]();if(_0x1cdbb8&&_0x1cdbb8!==_0x1ceaf6[_0x3c1cb5(0x924)]){const {parts:_0x4b9cdb,subscriptionLabel:_0x4e92c8}=this[_0x3c1cb5(0x680)](_0x22d7cd,_0x23d3e2),_0x22c933=this[_0x3c1cb5(0x8ca)](_0x4e92c8);_0x22c933&&(_0x22c933[_0x3c1cb5(0x421)](_0x23d3e2,0x0),this[_0x3c1cb5(0x206)](_0x4b9cdb[_0x3c1cb5(0x78e)],_0x4b9cdb[_0x3c1cb5(0x20d)],_0x4b9cdb[_0x3c1cb5(0x582)]));}}}class _0x2f7d8f{[_0x3eb455(0x399)];[_0x3eb455(0xa32)];['maps'];constructor(_0x38ef26,_0x5cfe5d){const _0x303bf7=_0x3eb455;this[_0x303bf7(0x399)]=_0x38ef26,this['maxOutgoingSubscriptions']=_0x5cfe5d,this['maps']=new _0x25c402(({source:_0x49691e,destination:_0x556018})=>_0x5e5d3c(_0x49691e,_0x556018));}[_0x3eb455(0x545)](_0x5b607c,_0x36633f){const _0x6e200f=_0x3eb455,_0x346f63={'source':_0x5b607c,'destination':_0x36633f};this[_0x6e200f(0x476)]['createSubscription'](_0xb17a3b[_0x6e200f(0x85e)],_0x346f63);}[_0x3eb455(0x206)](_0x2496f9,_0x3dc71d,_0x32b42c=''){const _0x34aaed=_0x3eb455,_0x950fa3={'contentType':_0x3dc71d,'label':_0x2496f9,'remoteId':_0x32b42c};this[_0x34aaed(0x476)][_0x34aaed(0x206)](_0x950fa3,_0xb17a3b[_0x34aaed(0x85e)]);}[_0x3eb455(0xa01)](_0x1e4ae8,_0x181abd){const _0x41dc45=_0x3eb455;let _0x4d66f1;_0x4d66f1=_0x181abd['ownerId']!==this[_0x41dc45(0x399)]['localNode']['getId']()?this[_0x41dc45(0x399)][_0x41dc45(0x273)]['getRemoteMediaStream'](_0x181abd[_0x41dc45(0x1b4)],_0x181abd['label']):this['configs'][_0x41dc45(0x273)][_0x41dc45(0x35d)](_0x181abd['label']);const _0xee3297=_0x33e0e4(_0xb17a3b[_0x41dc45(0x85e)],{'contentType':_0x4d2150[_0x41dc45(0x9a5)][_0x41dc45(0x386)],'label':_0x4d66f1[_0x41dc45(0x231)](),'remoteId':_0x1e4ae8}),_0x134ef5=this[_0x41dc45(0x5b0)]();if(!this['maps'][_0x41dc45(0x870)][_0x41dc45(0x8c7)](_0xee3297)&&_0x134ef5>=this['maxOutgoingSubscriptions'])return{'type':_0x52b6ab['RestartNeedMediaStream'],'ownerId':_0x181abd[_0x41dc45(0x1b4)],'label':_0x181abd[_0x41dc45(0x78e)],'streamId':_0x4d66f1[_0x41dc45(0x231)](),'trackKinds':_0x181abd[_0x41dc45(0x7d5)],'params':_0x181abd[_0x41dc45(0x944)]};_0x4d66f1 instanceof _0x1a50fd&&!_0x4d66f1[_0x41dc45(0x1f7)](_0x181abd['trackKinds'])&&_0x4d66f1[_0x41dc45(0x79f)](_0x181abd[_0x41dc45(0x944)]),this[_0x41dc45(0x476)][_0x41dc45(0x870)][_0x41dc45(0x8c7)](_0xee3297)||this[_0x41dc45(0x545)](_0x4d66f1[_0x41dc45(0x8ee)](_0x1e4ae8),this[_0x41dc45(0x399)][_0x41dc45(0x273)][_0x41dc45(0x8b2)](_0x1e4ae8));}[_0x3eb455(0x3c3)](_0x2764db,{label:_0xb1dbcb,ownerId:_0x5ea437,remainingTracks:_0x2d275d}){const _0x32829f=_0x3eb455;if(_0x2d275d>0x0)return;let _0x334d70;_0x334d70=_0x5ea437!==this[_0x32829f(0x399)]['localNode'][_0x32829f(0x777)]()?this['configs']['mediator']['getRemoteMediaStream'](_0x5ea437,_0xb1dbcb):this[_0x32829f(0x399)][_0x32829f(0x273)]['getLocalMediaStream'](_0xb1dbcb);const _0x484093=_0x334d70[_0x32829f(0x231)](),_0x4732d5=_0x4d2150[_0x32829f(0x9a5)][_0x32829f(0x386)];this[_0x32829f(0x206)](_0x484093,_0x4732d5,_0x2764db);}[_0x3eb455(0x4fa)](_0x27cbf7,{label:_0xe401c6,ownerId:_0x3fc862,trackKinds:_0x4f93b1}){const _0x4a4caa=_0x3eb455;if(_0x27cbf7!==_0x36c1f1)return[];let _0x20ec83=[];for(const _0x96a486 of this['maps']['subscriptions']){const {source:_0x2769dc,destination:_0x2e8d6a}=_0x96a486[0x1];_0x2769dc['getLabel']()===_0xe401c6&&_0x2769dc[_0x4a4caa(0x2e9)]()===_0x3fc862&&_0x20ec83[_0x4a4caa(0x69a)]({'sourceId':this['configs'][_0x4a4caa(0x45e)][_0x4a4caa(0x777)](),'destinationIds':[_0x2e8d6a[_0x4a4caa(0x291)]()],'messageType':_0x3ef5e5[_0x4a4caa(0x4bc)],'content':{'type':_0x52b6ab[_0x4a4caa(0x2e7)],'label':_0xe401c6,'ownerId':_0x3fc862,'trackKinds':_0x4f93b1}});}return _0x20ec83;}[_0x3eb455(0x3b4)](_0x1c2d54,_0x1d7d66){const _0x2261f1=_0x3eb455,{label:_0x2d2cf9,ownerId:_0x53c25c,trackKinds:_0x41836a,params:_0x250b4f}=_0x1d7d66,{hasTracks:_0x3c349f,streamId:_0x51f333,hasResolution:_0x543c23,distance:_0x3f7f40,subscriptionLabel:_0x5764dd}=this[_0x2261f1(0x790)](_0x1c2d54,_0x1d7d66);let _0x338c27=this['getNumberOutgoingSubscriptions']()<this['maxOutgoingSubscriptions']&&(_0x3c349f||_0x3f7f40>-0x1)?_0x52b6ab['CanProvideMediaStream']:_0x52b6ab[_0x2261f1(0x584)];const _0x27fde5=_0x3f7f40<0x0?0xa:_0x3f7f40;let _0x5c429b=_0x3c349f?_0x543c23?_0x27fde5:_0x27fde5+0x0:_0x27fde5+0xa;return _0x5764dd&&this[_0x2261f1(0x476)][_0x2261f1(0x870)]['has'](_0x5764dd)&&(_0x3c349f&&(_0x5c429b=0x0),_0x338c27=_0x52b6ab[_0x2261f1(0x785)]),{'type':_0x338c27,'cost':_0x5c429b,'distance':_0x3f7f40,'label':_0x2d2cf9,'ownerId':_0x53c25c,'streamId':_0x51f333,'trackKinds':_0x41836a,'params':_0x250b4f};}[_0x3eb455(0xa8b)](_0xacc11d){const _0x31052b=_0x3eb455,{label:_0x4e150c,ownerId:_0x5d838a}=_0xacc11d,_0x4976d3=this['configs'][_0x31052b(0x273)]['getRemoteMediaStream'](_0x5d838a,_0x4e150c);this[_0x31052b(0x476)][_0x31052b(0x870)][_0x31052b(0x9d2)](_0x2ac9f0=>{const _0x51ef47=_0x31052b;if(_0x2ac9f0[_0x51ef47(0x897)][_0x51ef47(0x37a)]()===_0x4976d3[_0x51ef47(0x231)]()){const _0x3ecde1=_0x2ac9f0[_0x51ef47(0x272)];this[_0x51ef47(0x206)](_0x4976d3[_0x51ef47(0x231)](),_0x4d2150['ContentType']['Media'],_0x3ecde1[_0x51ef47(0x291)]());}});}['handleContentCloseMediaStream']({label:_0xe667bb}){const _0x570026=_0x3eb455,_0x3e3602=this[_0x570026(0x399)][_0x570026(0x273)][_0x570026(0x35d)](_0xe667bb);this[_0x570026(0x476)][_0x570026(0x870)][_0x570026(0x9d2)](_0x1732de=>{const _0x341dbe=_0x570026;if(_0x1732de['source'][_0x341dbe(0x37a)]()===_0x3e3602[_0x341dbe(0x231)]()){const _0x2a5732=_0x1732de[_0x341dbe(0x272)];this[_0x341dbe(0x206)](_0x3e3602[_0x341dbe(0x231)](),_0x4d2150[_0x341dbe(0x9a5)][_0x341dbe(0x386)],_0x2a5732[_0x341dbe(0x291)]());}});}['removeSubscriptionsForNode'](_0x2737ee){const _0x34061b=_0x3eb455;this[_0x34061b(0x476)][_0x34061b(0x4af)](_0x2737ee);}[_0x3eb455(0x579)](){const _0x8d4b3e=_0x3eb455;this[_0x8d4b3e(0x476)][_0x8d4b3e(0x870)][_0x8d4b3e(0x9d2)](this[_0x8d4b3e(0x1bf)][_0x8d4b3e(0x64d)](this));}[_0x3eb455(0x1bf)](_0x4fb4cb,_0x51b6d9){const _0x527e72=_0x3eb455;this[_0x527e72(0x476)][_0x527e72(0x1bf)](_0x4fb4cb,_0x51b6d9);}[_0x3eb455(0x790)](_0x3bb161,{label:_0x49cc83,ownerId:_0x23a031,trackKinds:_0x4576b0,params:_0x522b68}){const _0x4e9329=_0x3eb455;if(_0x23a031!==this['configs']['localNode'][_0x4e9329(0x777)]()){const _0x59722c=this['configs']['mediator'][_0x4e9329(0x512)](_0x23a031,_0x49cc83);return _0x59722c&&_0x59722c[_0x4e9329(0x7b6)]()!==_0x3bb161?{'hasTracks':_0x59722c[_0x4e9329(0x47b)](_0x4576b0),'hasResolution':this[_0x4e9329(0x2f0)](_0x59722c[_0x4e9329(0xa83)](),_0x522b68),'streamId':_0x59722c[_0x4e9329(0x231)](),'distance':this[_0x4e9329(0x399)][_0x4e9329(0x273)][_0x4e9329(0x536)](_0x3bb161,_0x23a031),'subscriptionLabel':_0x33e0e4(_0xb17a3b[_0x4e9329(0x85e)],{'contentType':_0x4d2150['ContentType'][_0x4e9329(0x386)],'label':_0x59722c[_0x4e9329(0x231)](),'remoteId':_0x3bb161})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x8b009f=this[_0x4e9329(0x399)][_0x4e9329(0x273)][_0x4e9329(0x35d)](_0x49cc83);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x8b009f[_0x4e9329(0x231)](),'distance':0x0,'subscriptionLabel':_0x33e0e4(_0xb17a3b['Outgoing'],{'contentType':_0x4d2150['ContentType'][_0x4e9329(0x386)],'label':_0x8b009f[_0x4e9329(0x231)](),'remoteId':_0x3bb161})};}[_0x3eb455(0x5b0)](){const _0x2aecc5=_0x3eb455;return Array[_0x2aecc5(0x495)](this[_0x2aecc5(0x476)]['subscriptions'][_0x2aecc5(0x858)]())[_0x2aecc5(0x638)](([_0x37cf29,{source:_0x4899c2}])=>_0x37cf29[_0x2aecc5(0x5fb)](_0xb17a3b[_0x2aecc5(0x85e)])&&_0x4899c2[_0x2aecc5(0x41e)]()===_0x4d2150['ContentType'][_0x2aecc5(0x386)])[_0x2aecc5(0x3ed)];}[_0x3eb455(0x2f0)](_0x449e12,_0x31bd49){const _0x589056=_0x3eb455;if(!_0x31bd49||!_0x31bd49[_0x589056(0x2e1)]||_0x589056(0x6c9)==typeof _0x31bd49[_0x589056(0x2e1)]||!_0x31bd49[_0x589056(0x2e1)][_0x589056(0x3db)])return!0x0;const {width:_0x2c4365,height:_0x5dcecc}=_0x31bd49[_0x589056(0x2e1)][_0x589056(0x3db)];return _0x449e12['width']>=_0x2c4365&&_0x449e12['height']>=_0x5dcecc;}}class _0x3c9017{[_0x3eb455(0x399)];[_0x3eb455(0xa32)];['maxDistance'];[_0x3eb455(0x73b)];[_0x3eb455(0x3f5)];[_0x3eb455(0x423)];constructor(_0x31493c,_0x325715,_0x2e42b9){const _0x40d54f=_0x3eb455;this['configs']=_0x31493c,this[_0x40d54f(0xa32)]=_0x325715,this[_0x40d54f(0x2eb)]=_0x2e42b9,this[_0x40d54f(0x399)][_0x40d54f(0x273)][_0x40d54f(0x7b4)](this),this[_0x40d54f(0x3f5)]=new _0x443a58(this[_0x40d54f(0x399)],this[_0x40d54f(0x2eb)]),this[_0x40d54f(0x423)]=new _0x2f7d8f(this[_0x40d54f(0x399)],this[_0x40d54f(0xa32)]);}['registerSystemPublisher'](_0xfcac6f){this['systemTopic']=_0xfcac6f;}[_0x3eb455(0x416)](){const _0x10da71=_0x3eb455;delete this[_0x10da71(0x73b)];}['close'](){const _0x40d4d2=_0x3eb455;this[_0x40d4d2(0x3f5)][_0x40d4d2(0x579)](),this[_0x40d4d2(0x423)]['close'](),this[_0x40d4d2(0x399)][_0x40d4d2(0x273)][_0x40d4d2(0x511)](this);}[_0x3eb455(0x762)](_0x232324,_0x1efa3c){this['incomingManager']['createSubscription'](_0x232324,_0x1efa3c);}[_0x3eb455(0x3e2)](_0x480083,_0x31751a){const _0x254b00=_0x3eb455;this[_0x254b00(0x423)][_0x254b00(0x545)](_0x480083,_0x31751a);}[_0x3eb455(0x8f3)](_0x589840,_0x2980cb,_0x59fadc=''){const _0x8cbcd0=_0x3eb455;this['incomingManager'][_0x8cbcd0(0x206)](_0x589840,_0x2980cb,_0x59fadc);}[_0x3eb455(0x60e)](_0x5978d9,_0x2ba37b,_0x187a17=''){const _0x37131a=_0x3eb455;try{this[_0x37131a(0x423)]['removeSubscription'](_0x5978d9,_0x2ba37b,_0x187a17);}catch(_0x4c94ec){if(_0x4c94ec instanceof _0x157cd9&&_0x4c94ec[_0x37131a(0x43c)]===_0x157cd9[_0x37131a(0x6cc)][_0x37131a(0xa26)])return;}}['handleSubscriptionSystemEvents'](_0x127f97){const _0x26c59d=_0x3eb455;switch(_0x127f97[_0x26c59d(0x211)][_0x26c59d(0x6d8)]){case _0x52b6ab[_0x26c59d(0x449)]:this[_0x26c59d(0xa01)](_0x127f97['sourceId'],_0x127f97['content']);break;case _0x52b6ab[_0x26c59d(0x3d3)]:this[_0x26c59d(0x423)]['handleSubscriptionUnsubscribeMediaStream'](_0x127f97[_0x26c59d(0x947)],_0x127f97[_0x26c59d(0x211)]);break;case _0x52b6ab[_0x26c59d(0x2ac)]:this[_0x26c59d(0x3b4)](_0x127f97['sourceId'],_0x127f97[_0x26c59d(0x211)]);break;case _0x52b6ab[_0x26c59d(0x1e6)]:this[_0x26c59d(0x3f5)][_0x26c59d(0x593)](_0x127f97['sourceId'],_0x127f97[_0x26c59d(0x211)]);break;case _0x52b6ab[_0x26c59d(0x785)]:case _0x52b6ab[_0x26c59d(0x584)]:this['incomingManager']['handleSubscriptionProvideMediaStream'](_0x127f97['sourceId'],_0x127f97['content']);break;case _0x52b6ab[_0x26c59d(0x2e7)]:this[_0x26c59d(0x3f5)][_0x26c59d(0x880)](_0x127f97[_0x26c59d(0x947)],_0x127f97[_0x26c59d(0x211)]);}}['handleContentSystemEvents'](_0x27df8b){const _0x221c1f=_0x3eb455;switch(_0x27df8b[_0x221c1f(0x211)]['type']){case _0x2862db[_0x221c1f(0x841)]:this[_0x221c1f(0x3f5)][_0x221c1f(0xa8b)](_0x27df8b[_0x221c1f(0x211)]),this['outgoingManager'][_0x221c1f(0xa8b)](_0x27df8b[_0x221c1f(0x211)]);break;case _0x2862db['SubscribeMediaStream']:this[_0x221c1f(0x3f5)]['handleContentSubscribeMediaStream'](_0x27df8b[_0x221c1f(0x211)]);break;case _0x2862db[_0x221c1f(0x74c)]:this[_0x221c1f(0x3f5)][_0x221c1f(0x341)](_0x27df8b[_0x221c1f(0x211)]);break;case _0x2862db[_0x221c1f(0x3d3)]:this[_0x221c1f(0x4fa)](_0x27df8b[_0x221c1f(0x947)],_0x27df8b[_0x221c1f(0x211)]);break;case _0x2862db['CloseMediaStream']:this[_0x221c1f(0x423)][_0x221c1f(0x47a)](_0x27df8b['content']);break;case _0x2862db[_0x221c1f(0x715)]:this[_0x221c1f(0x9a1)](_0x27df8b[_0x221c1f(0x211)][_0x221c1f(0x78e)],_0x4d2150[_0x221c1f(0x9a5)][_0x221c1f(0x23d)]);break;case _0x2862db[_0x221c1f(0x8d8)]:this['handleCloseContent'](_0x27df8b[_0x221c1f(0x211)][_0x221c1f(0x78e)],_0x4d2150[_0x221c1f(0x9a5)][_0x221c1f(0xa98)]);break;case _0x2862db[_0x221c1f(0x5da)]:this[_0x221c1f(0x9a1)](_0x27df8b[_0x221c1f(0x211)]['label'],_0x4d2150['ContentType'][_0x221c1f(0x6be)]);break;case _0x2862db[_0x221c1f(0x72e)]:this[_0x221c1f(0x9a1)](_0x27df8b[_0x221c1f(0x211)]['label'],_0x4d2150[_0x221c1f(0x9a5)]['KeyValueDatabase']);break;case _0x2862db[_0x221c1f(0xaa6)]:this[_0x221c1f(0x9a1)](_0x27df8b['content'][_0x221c1f(0x78e)],_0x4d2150[_0x221c1f(0x9a5)]['VectorDatabase']);break;case _0x2862db['CloseGraphDatabase']:this[_0x221c1f(0x9a1)](_0x27df8b[_0x221c1f(0x211)][_0x221c1f(0x78e)],_0x4d2150[_0x221c1f(0x9a5)][_0x221c1f(0x1b6)]);break;case _0x2862db['CloseJobDispatcher']:case _0x2862db[_0x221c1f(0x59c)]:this[_0x221c1f(0x9a1)](_0x27df8b[_0x221c1f(0x211)][_0x221c1f(0x78e)],_0x4d2150[_0x221c1f(0x9a5)]['Job']);break;case _0x2862db[_0x221c1f(0x5ba)]:this['incomingManager'][_0x221c1f(0x313)](_0x27df8b['content']);}}['handleNodeSystemEvents']({content:_0x1b2c62}){const _0x73640e=_0x3eb455;_0x1b2c62[_0x73640e(0x6d8)]===_0x40578c['NodeLeave']&&this[_0x73640e(0x4af)](_0x1b2c62);}['handlePeerConnectionSystemEvents'](_0x4421e0){const _0x548cf4=_0x3eb455;_0x4421e0[_0x548cf4(0x211)][_0x548cf4(0x6d8)]===_0xf557df[_0x548cf4(0xabc)]&&this[_0x548cf4(0x3f5)][_0x548cf4(0x9cb)](_0x4421e0[_0x548cf4(0x947)]);}[_0x3eb455(0x4fa)](_0x10aebe,_0x4573b8){const _0x5ce529=_0x3eb455;this[_0x5ce529(0x3f5)][_0x5ce529(0x4fa)](_0x4573b8),this[_0x5ce529(0x423)][_0x5ce529(0x4fa)](_0x10aebe,_0x4573b8)[_0x5ce529(0x9d2)](_0x32ecca=>this[_0x5ce529(0x73b)][_0x5ce529(0x5bf)](_0x32ecca));}[_0x3eb455(0xa01)](_0x168a1a,_0x3df57f){const _0x2d3c84=_0x3eb455,_0x414bcf=this[_0x2d3c84(0x423)][_0x2d3c84(0xa01)](_0x168a1a,_0x3df57f);if(_0x414bcf&&(this[_0x2d3c84(0x73b)][_0x2d3c84(0x5bf)]({'sourceId':this[_0x2d3c84(0x399)][_0x2d3c84(0x45e)][_0x2d3c84(0x777)](),'destinationIds':[_0x168a1a],'messageType':_0x3ef5e5[_0x2d3c84(0x4bc)],'content':_0x414bcf}),_0x414bcf[_0x2d3c84(0x6d8)]===_0x52b6ab[_0x2d3c84(0x1e6)]))throw new _0x420f03(_0x2d3c84(0x5cf));}[_0x3eb455(0x3b4)](_0x260c44,_0x10fa74){const _0x4ed050=_0x3eb455,_0x41b058=this[_0x4ed050(0x423)][_0x4ed050(0x3b4)](_0x260c44,_0x10fa74);this[_0x4ed050(0x73b)][_0x4ed050(0x5bf)]({'sourceId':this[_0x4ed050(0x399)][_0x4ed050(0x45e)][_0x4ed050(0x777)](),'destinationIds':[_0x260c44],'messageType':_0x3ef5e5[_0x4ed050(0x4bc)],'content':_0x41b058});}[_0x3eb455(0x9a1)](_0x483d8c,_0x20d596){const _0x5ed670=_0x3eb455;this[_0x5ed670(0x8f3)](_0x483d8c,_0x20d596),this[_0x5ed670(0x60e)](_0x483d8c,_0x20d596);}[_0x3eb455(0x4af)]({id:_0x20dd71}){const _0x2ec32e=_0x3eb455;this[_0x2ec32e(0x3f5)][_0x2ec32e(0x4af)](_0x20dd71),this[_0x2ec32e(0x423)][_0x2ec32e(0x4af)](_0x20dd71);}}class _0x5d50d1{[_0x3eb455(0x78e)];[_0x3eb455(0xa1c)]=_0x2bf9b6();constructor(){const _0x72aad4=_0x3eb455;this[_0x72aad4(0x78e)]=0x0;}[_0x3eb455(0x8d5)](){const _0x426d4b=_0x3eb455;return this[_0x426d4b(0x78e)];}['getContentType'](){const _0x4f9835=_0x3eb455;return _0x4d2150[_0x4f9835(0x9a5)][_0x4f9835(0x946)];}[_0x3eb455(0x385)](_0x45936a){const _0x52340a=_0x3eb455;_0x45936a[_0x52340a(0x734)](this);}[_0x3eb455(0x2e3)](_0x117bf1){const _0xae02eb=_0x3eb455;_0x117bf1[_0xae02eb(0x416)]();}['publish'](_0x549770){const _0x2622bf=_0x3eb455;_0x2c9fd4['log'](_0x51c80b[_0x2622bf(0x237)],_0x2622bf(0x54b),_0x549770['sourceId'],_0x549770),this[_0x2622bf(0xa1c)][_0x2622bf(0x5bf)]({'topicLabel':this[_0x2622bf(0x78e)],'contentType':_0x4d2150[_0x2622bf(0x9a5)]['Data'],'uuid':_0x549770[_0x2622bf(0x451)]??(0x0,_0xe630d4['v4'])(),'recipients':_0x549770['recipients']??[],..._0x549770});}['subscribe'](_0x1bca0c){const _0x386156=_0x3eb455;return this[_0x386156(0xa1c)][_0x386156(0x79f)](_0x1bca0c);}}class _0x31bd9c{[_0x3eb455(0x7b5)];[_0x3eb455(0x699)]=[];[_0x3eb455(0x819)];[_0x3eb455(0x3bf)]=new Map();['nodeUpdate']=_0x2bf9b6();constructor(_0xd90363){const _0x58072b=_0x3eb455;this['options']=_0xd90363,this[_0x58072b(0x819)]=(this[_0x58072b(0x7b5)][_0x58072b(0xa96)]-0x2*this['options']['minConnections'])/0x2,this[_0x58072b(0x699)][_0x58072b(0x69a)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x427fdd=0x0;_0x427fdd<this['maxLayer'];++_0x427fdd)this[_0x58072b(0x699)][_0x58072b(0x69a)]({'start':this[_0x58072b(0xa59)](0x1,_0x427fdd+0x1),'end':this[_0x58072b(0xa59)](0x1,_0x427fdd+0x2)-0x1});}[_0x3eb455(0xa59)](_0x1012a4,_0x2aa9b4=0x1){const _0x565d60=_0x3eb455;let _0x238add=this['options'][_0x565d60(0x2eb)]-this['options'][_0x565d60(0x962)],_0x4fa0e9=0x1;for(let _0x177d27=0x1;_0x177d27<_0x2aa9b4;++_0x177d27)_0x238add*=this[_0x565d60(0x7b5)][_0x565d60(0x2eb)]-this[_0x565d60(0x7b5)][_0x565d60(0x962)]-_0x177d27,_0x4fa0e9*=this['options'][_0x565d60(0x2eb)]-this[_0x565d60(0x7b5)][_0x565d60(0x962)]-_0x177d27+0x1;return _0x238add*this[_0x565d60(0x7b5)][_0x565d60(0x962)]+_0x1012a4-_0x4fa0e9;}[_0x3eb455(0xa3f)](_0x2e1772){let _0x949cbd=0x0;for(;this['ranges'][_0x949cbd]['end']<_0x2e1772;)_0x949cbd+=0x1;return _0x949cbd;}[_0x3eb455(0x216)](){const _0xa84e36=_0x3eb455;return this[_0xa84e36(0x7b5)]['minConnections'];}[_0x3eb455(0x559)](){const _0x33033e=_0x3eb455;return this['options'][_0x33033e(0xa96)];}[_0x3eb455(0x5f7)](){const _0xda01fe=_0x3eb455;return this['options'][_0xda01fe(0x2eb)];}[_0x3eb455(0x436)](){const _0x1c3cd1=_0x3eb455;return this[_0x1c3cd1(0x3bf)];}['setRemoteNode'](_0x1b2e93,_0xec2d8f){const _0x496d51=_0x3eb455;this[_0x496d51(0x3bf)]['set'](_0x1b2e93,_0xec2d8f),this[_0x496d51(0x34b)][_0x496d51(0x5bf)]();}[_0x3eb455(0x2f8)](_0x2ce049){const _0x257bb4=_0x3eb455;this[_0x257bb4(0x3bf)]['delete'](_0x2ce049),this[_0x257bb4(0x34b)][_0x257bb4(0x5bf)]();}['hasRemoteNode'](_0x4b83a3){const _0x11783b=_0x3eb455;return this['remoteNodes'][_0x11783b(0x8c7)](_0x4b83a3);}[_0x3eb455(0x8e7)](_0x372d1a){const _0xb9fdfc=_0x3eb455;return this[_0xb9fdfc(0x3bf)]['get'](_0x372d1a);}[_0x3eb455(0x52c)](_0xa4300,_0x5d40be){const _0x3ecb4d=_0x3eb455,_0x53c2ed=this[_0x3ecb4d(0x8e7)](_0x5d40be)?.[_0x3ecb4d(0x832)]()??0x0;return _0xa4300[_0x3ecb4d(0x257)](_0x2e8764=>this[_0x3ecb4d(0x8e7)](_0x2e8764))[_0x3ecb4d(0x638)](_0x54a8b3=>void 0x0!==_0x54a8b3)[_0x3ecb4d(0x3d8)]((_0x478d5d,_0x2b48e1)=>Math[_0x3ecb4d(0xa7f)](_0x53c2ed-(_0x478d5d&&_0x478d5d[_0x3ecb4d(0x832)]()||0x1/0x0))-Math[_0x3ecb4d(0xa7f)](_0x53c2ed-(_0x2b48e1&&_0x2b48e1[_0x3ecb4d(0x832)]()||0x1/0x0)))[_0x3ecb4d(0x257)](_0x1937f9=>_0x1937f9[_0x3ecb4d(0x777)]());}[_0x3eb455(0x9d8)](_0x38c847){return this['nodeUpdate']['subscribe'](_0x38c847);}}class _0xdf4485{['vendorId'];[_0x3eb455(0x9ac)];[_0x3eb455(0x78f)];['authService'];[_0x3eb455(0x7b5)];[_0x3eb455(0x399)];[_0x3eb455(0x371)];[_0x3eb455(0x4ab)];[_0x3eb455(0x5a9)];['subscriptionManager'];['statsManager'];[_0x3eb455(0x683)];[_0x3eb455(0x1c4)];[_0x3eb455(0x8aa)];[_0x3eb455(0x9f6)];['systemTopic']=new _0x5d50d1();[_0x3eb455(0x88a)];[_0x3eb455(0x45e)];constructor(_0x41768c,_0xf20540,_0x4f6e65,_0x46913f,_0x4e44a5,_0x5698ae,_0x1fbc7e){const _0x5276f9=_0x3eb455;switch(this[_0x5276f9(0x2df)]=_0x41768c,this['clusterId']=_0xf20540,this[_0x5276f9(0x78f)]=_0x4f6e65,this[_0x5276f9(0x8a1)]=_0x46913f,this['options']=_0x4e44a5,this[_0x5276f9(0x399)]=_0x5698ae,this[_0x5276f9(0x371)]=_0x1fbc7e,_0x4f6e65[_0x5276f9(0x6d8)]){case _0x4d2150[_0x5276f9(0x28b)][_0x5276f9(0x5e5)]:this['localNode']=new _0x2cd433(_0x4f6e65[_0x5276f9(0x777)](),_0x4f6e65[_0x5276f9(0xa8f)](),_0x4f6e65[_0x5276f9(0x248)]());break;case _0x4d2150['NodeType'][_0x5276f9(0x1b8)]:default:this['localNode']=new _0x5e7ec2(_0x4f6e65[_0x5276f9(0x777)]());}const _0x44afc3=this[_0x5276f9(0x78b)]();this[_0x5276f9(0x9f6)]=new _0x31bd9c(this[_0x5276f9(0x7b5)]),this['contentManager']=new _0x86b8d8(_0x44afc3,this[_0x5276f9(0x7b5)],this[_0x5276f9(0x399)][_0x5276f9(0x85c)]),this[_0x5276f9(0x5a9)]=new _0x16fc37(_0x44afc3,this['authService'],this[_0x5276f9(0x9f6)],this['configs'][_0x5276f9(0x2c6)],this[_0x5276f9(0x7b5)]),this[_0x5276f9(0xa6b)]=new _0x3c9017(_0x44afc3,this['options'][_0x5276f9(0xa32)],this[_0x5276f9(0x9f6)][_0x5276f9(0x5f7)]()),this[_0x5276f9(0xabd)]=new _0x5a851a(_0x44afc3),this[_0x5276f9(0x683)]=new _0x17694e(_0x44afc3),this[_0x5276f9(0x1c4)]=new _0x1d04e4(_0x44afc3),this['nodeManager']=new _0x59f05b(_0x44afc3,this[_0x5276f9(0x9f6)]),this[_0x5276f9(0x88a)]=this[_0x5276f9(0x561)]();}[_0x3eb455(0x8db)](){const _0x3389eb=_0x3eb455,_0x114407=this['getConfigs']();this['connectionManager']=new _0x16fc37(_0x114407,this[_0x3389eb(0x8a1)],this[_0x3389eb(0x9f6)],this[_0x3389eb(0x399)]['iceServers'],this[_0x3389eb(0x7b5)]),this['subscriptionManager']=new _0x3c9017(_0x114407,this[_0x3389eb(0x7b5)][_0x3389eb(0xa32)],this[_0x3389eb(0x9f6)]['getMaxDistance']()),this[_0x3389eb(0xabd)]=new _0x5a851a(_0x114407),this[_0x3389eb(0x683)]=new _0x17694e(_0x114407),this[_0x3389eb(0x1c4)]=new _0x1d04e4(_0x114407),this[_0x3389eb(0x8aa)]=new _0x59f05b(_0x114407,this[_0x3389eb(0x9f6)]);const _0x3d6f0a=this[_0x3389eb(0x5a9)][_0x3389eb(0x7cb)]();this[_0x3389eb(0x4ab)][_0x3389eb(0x66b)]()['forEach'](_0x3154ba=>{const _0x1e8d67=_0x3389eb;this[_0x1e8d67(0xa6b)][_0x1e8d67(0x3e2)](_0x3154ba,_0x3d6f0a),this[_0x1e8d67(0xa6b)][_0x1e8d67(0x762)](_0x3d6f0a,_0x3154ba),_0x3154ba[_0x1e8d67(0x594)]();}),this['contentManager']['getObjectStoreBuckets']()[_0x3389eb(0x9d2)](_0x5f21a5=>{const _0x57f37b=_0x3389eb;this['subscriptionManager'][_0x57f37b(0x3e2)](_0x5f21a5,_0x3d6f0a),this['subscriptionManager']['createIncomingSubscription'](_0x3d6f0a,_0x5f21a5),_0x5f21a5[_0x57f37b(0x594)](),_0x5f21a5[_0x57f37b(0x3b7)]();}),this[_0x3389eb(0x4ab)][_0x3389eb(0x8a7)]()[_0x3389eb(0x9d2)](_0xf4061f=>{const _0x2e0624=_0x3389eb;this['subscriptionManager']['createOutgoingSubscription'](_0xf4061f,_0x3d6f0a),this['subscriptionManager']['createIncomingSubscription'](_0x3d6f0a,_0xf4061f),_0xf4061f['reset'](),this[_0x2e0624(0x9d0)](_0xf4061f);}),this[_0x3389eb(0x4ab)]['getJobDispatchers']()['forEach'](_0x555ac7=>{const _0xcc6924=_0x3389eb;this[_0xcc6924(0xa6b)]['createOutgoingSubscription'](_0x555ac7,_0x3d6f0a),this['subscriptionManager'][_0xcc6924(0x762)](_0x3d6f0a,_0x555ac7),_0x555ac7['reset']();}),this['contentManager'][_0x3389eb(0x86f)]()[_0x3389eb(0x9d2)](_0xd990ac=>{const _0x419f5f=_0x3389eb;this[_0x419f5f(0xa6b)][_0x419f5f(0x3e2)](_0xd990ac,_0x3d6f0a),this[_0x419f5f(0xa6b)][_0x419f5f(0x762)](_0x3d6f0a,_0xd990ac),_0xd990ac['reset']();}),this['contentManager'][_0x3389eb(0x7f9)]()[_0x3389eb(0x9d2)](_0x13eedc=>{const _0x1bcebd=_0x3389eb;this[_0x1bcebd(0xa6b)][_0x1bcebd(0x3e2)](_0x13eedc,_0x3d6f0a),this['subscriptionManager'][_0x1bcebd(0x762)](_0x3d6f0a,_0x13eedc),_0x13eedc[_0x1bcebd(0x594)]();}),this[_0x3389eb(0x4ab)]['getGraphDatabases']()[_0x3389eb(0x9d2)](_0x18ac0d=>{const _0x2ab5b4=_0x3389eb;this[_0x2ab5b4(0xa6b)][_0x2ab5b4(0x3e2)](_0x18ac0d,_0x3d6f0a),this[_0x2ab5b4(0xa6b)][_0x2ab5b4(0x762)](_0x3d6f0a,_0x18ac0d),_0x18ac0d[_0x2ab5b4(0x594)]();}),this['systemTopicUnsubscribe']=this['initializeSystemTopic']();}[_0x3eb455(0x7b4)](_0x38465d){const _0x2e37ba=_0x3eb455;try{this[_0x2e37ba(0x73b)]['registerSource'](_0x38465d);}catch(_0x2ef753){this['handleError'](_0x2ef753,{});}}[_0x3eb455(0x511)](_0x1f075c){const _0x300119=_0x3eb455;try{this[_0x300119(0x73b)][_0x300119(0x2e3)](_0x1f075c);}catch(_0xc92e45){this[_0x300119(0x1bd)](_0xc92e45,{});}}[_0x3eb455(0xa20)](_0x214dc8,_0x592636){const _0x3e519b=_0x3eb455;return this[_0x3e519b(0x5a9)]['createConnection'](_0x214dc8,_0x592636);}[_0x3eb455(0x8b2)](_0x18f2df){const _0x33585a=_0x3eb455;try{return this['connectionManager'][_0x33585a(0x8b2)](_0x18f2df);}catch(_0x526013){throw this[_0x33585a(0x1bd)](_0x526013,{});}}['getConnections'](_0xbc404d){const _0x380ca6=_0x3eb455;try{return this[_0x380ca6(0x5a9)][_0x380ca6(0x223)](_0xbc404d);}catch(_0x5b15ee){throw this['handleError'](_0x5b15ee,{});}}[_0x3eb455(0x512)](_0xca1a69,_0x390ad1){const _0x504250=_0x3eb455;try{return this[_0x504250(0x4ab)][_0x504250(0x359)](_0x5c430f=>_0x5c430f[_0x504250(0x2e9)]()===_0xca1a69&&_0x5c430f['getLabel']()===_0x390ad1)[0x0];}catch(_0x500a06){throw this[_0x504250(0x1bd)](_0x500a06,{});}}[_0x3eb455(0x35d)](_0x4a2336){const _0x9143d1=_0x3eb455;try{return this[_0x9143d1(0x4ab)][_0x9143d1(0x70e)](_0x25c2c0=>_0x25c2c0[_0x9143d1(0x8d5)]()===_0x4a2336)[0x0];}catch(_0x24b075){throw this[_0x9143d1(0x1bd)](_0x24b075,{});}}[_0x3eb455(0x601)]=(..._0x3a45b0)=>{const _0x5852c7=_0x3eb455;try{return this[_0x5852c7(0x371)][_0x5852c7(0xad4)](..._0x3a45b0);}catch(_0x137631){throw this[_0x5852c7(0x1bd)](_0x137631,{});}};[_0x3eb455(0x1fa)](_0xaf8907){const _0x4f856f=_0x3eb455;try{this[_0x4f856f(0xabd)]['addRemoteNode'](_0xaf8907);}catch(_0x51624c){throw this['handleError'](_0x51624c,{});}}[_0x3eb455(0x494)](_0x3ab5ea){const _0x2c2457=_0x3eb455;try{this[_0x2c2457(0xabd)][_0x2c2457(0x39b)](_0x3ab5ea);}catch(_0x1b2a86){throw this[_0x2c2457(0x1bd)](_0x1b2a86,{});}}[_0x3eb455(0x5dc)](_0x1b76e7){const _0x454159=_0x3eb455;return this[_0x454159(0x5a9)][_0x454159(0x5dc)](_0x1b76e7);}async[_0x3eb455(0x4fc)](){const _0x3049b4=_0x3eb455;try{await this[_0x3049b4(0x5a9)][_0x3049b4(0x4fc)]();const _0x47ac01=await this[_0x3049b4(0x8aa)][_0x3049b4(0xa55)]();for(const _0x4f8e39 of _0x47ac01)this[_0x3049b4(0x5a9)][_0x3049b4(0xa20)](_0x4f8e39);}catch(_0x39275a){throw this[_0x3049b4(0x1bd)](_0x39275a,{});}}['updateUser'](_0x2b7661){const _0x373c8c=_0x3eb455;this[_0x373c8c(0x45e)][_0x373c8c(0x6d8)]===_0x4d2150[_0x373c8c(0x28b)][_0x373c8c(0x5e5)]&&(this[_0x373c8c(0x45e)]['setEmail'](_0x2b7661[_0x373c8c(0x248)]()),this[_0x373c8c(0x45e)]['setDisplayName'](_0x2b7661[_0x373c8c(0xa8f)]()));}[_0x3eb455(0x579)]({force:_0x5dfc9c=!0x1},_0xcc5b74=!0x1){const _0x4f32aa=_0x3eb455;if(_0x2c9fd4['warning'](_0x4f32aa(0x268),{'clusterId':this['clusterId'],'nodeId':this[_0x4f32aa(0x45e)]['getId'](),'nodeType':this[_0x4f32aa(0x45e)]['type']}),!_0x5dfc9c&&this[_0x4f32aa(0x5a9)][_0x4f32aa(0x461)]())throw new _0x5669b1(_0x3ed137[_0x4f32aa(0x7f4)],_0x4f32aa(0x93b));_0x2c9fd4[_0x4f32aa(0x499)](),this[_0x4f32aa(0x88a)](),this[_0x4f32aa(0x1c4)]['close'](),this['detectionManager']['close'](),this[_0x4f32aa(0xabd)]['close'](),this['subscriptionManager'][_0x4f32aa(0x579)](),this[_0x4f32aa(0x5a9)]['close'](),this['contentManager']['close'](_0xcc5b74),this[_0x4f32aa(0x8aa)][_0x4f32aa(0x579)]();}[_0x3eb455(0x5b4)](_0x5b19d3){const _0x5dc4a7=_0x3eb455;try{const _0x5794bf=this[_0x5dc4a7(0x4ab)][_0x5dc4a7(0x30a)](_0x5b19d3),_0x1a648a=this['connectionManager'][_0x5dc4a7(0x7cb)]();return this[_0x5dc4a7(0xa6b)][_0x5dc4a7(0x3e2)](_0x5794bf,_0x1a648a),this[_0x5dc4a7(0xa6b)][_0x5dc4a7(0x762)](_0x1a648a,_0x5794bf),_0x5794bf;}catch(_0x222ab3){throw this[_0x5dc4a7(0x1bd)](_0x222ab3,{});}}async['openObjectStoreBucket'](_0x42d14c,_0x356548){const _0x40cbec=_0x3eb455;try{const _0x41f813=this[_0x40cbec(0x4ab)][_0x40cbec(0x298)](_0x42d14c,this[_0x40cbec(0x7b5)]['objectStoreConnector']),_0x41a759=this[_0x40cbec(0x5a9)]['getConnectionGroup']();return this[_0x40cbec(0xa6b)][_0x40cbec(0x3e2)](_0x41f813,_0x41a759),this[_0x40cbec(0xa6b)][_0x40cbec(0x762)](_0x41a759,_0x41f813),await _0x41f813[_0x40cbec(0x3b7)](_0x356548?.[_0x40cbec(0x67c)]??!0x0),_0x41f813;}catch(_0x50ac45){throw this[_0x40cbec(0x1bd)](_0x50ac45,{});}}async[_0x3eb455(0x4f8)](_0x56fcaf,_0xf6cfe6){const _0x22984=_0x3eb455;try{if(!this['options'][_0x22984(0x270)])throw new _0x5669b1(_0x3ed137['ExternalStorageConnectorsMissing'],_0x22984(0x64a));if(!(this['authNode']instanceof _0x565657))throw new _0x5669b1(_0x3ed137[_0x22984(0x5ed)],_0x22984(0x87b));const _0x1b3f32=this[_0x22984(0x7b5)][_0x22984(0x270)][_0x22984(0x1d7)](_0xf6cfe6);if(!_0x1b3f32)throw new _0x5669b1(_0x3ed137['ExternalStorageConnectorsMissing'],'Missing\x20external\x20storage\x20connector');const _0x460c4b=this[_0x22984(0x4ab)][_0x22984(0x278)](_0x56fcaf,_0x1b3f32),_0xab731d=this[_0x22984(0x5a9)][_0x22984(0x7cb)]();return this[_0x22984(0xa6b)][_0x22984(0x3e2)](_0x460c4b,_0xab731d),this[_0x22984(0xa6b)][_0x22984(0x762)](_0xab731d,_0x460c4b),await _0x460c4b[_0x22984(0x8db)](),_0x460c4b;}catch(_0x128827){throw this[_0x22984(0x1bd)](_0x128827,{});}}async[_0x3eb455(0x1d1)](_0x2ff8f6,_0x532a95,_0x257d4c){const _0x5aed1a=_0x3eb455;try{_0x257d4c=_0x257d4c||this[_0x5aed1a(0x7b5)]['keyValueDatabaseConnector'];const _0x2f6526=await this[_0x5aed1a(0x4ab)]['createKeyValueDatabase'](_0x2ff8f6,_0x532a95,_0x257d4c),_0x3efdca=this[_0x5aed1a(0x5a9)][_0x5aed1a(0x7cb)]();return this[_0x5aed1a(0xa6b)][_0x5aed1a(0x3e2)](_0x2f6526,_0x3efdca),this[_0x5aed1a(0xa6b)][_0x5aed1a(0x762)](_0x3efdca,_0x2f6526),await _0x2f6526['open'](),this[_0x5aed1a(0x9d0)](_0x2f6526),_0x2f6526;}catch(_0x50c174){throw this[_0x5aed1a(0x1bd)](_0x50c174,{});}}async[_0x3eb455(0x882)](_0x39afad){const _0x577004=_0x3eb455;try{const _0x35bbfa=await this[_0x577004(0x4ab)]['createJobDispatcher'](_0x39afad,this[_0x577004(0x9f6)]),_0x4af8dc=this[_0x577004(0x5a9)][_0x577004(0x7cb)]();return this[_0x577004(0xa6b)][_0x577004(0x3e2)](_0x35bbfa,_0x4af8dc),this[_0x577004(0xa6b)]['createIncomingSubscription'](_0x4af8dc,_0x35bbfa),_0x35bbfa[_0x577004(0x8db)](),_0x35bbfa;}catch(_0x53ffd4){throw this['handleError'](_0x53ffd4,{});}}async[_0x3eb455(0x6dd)](_0x12a2b4){const _0x567cb3=_0x3eb455;throw new Error(_0x567cb3(0x297));}async[_0x3eb455(0x837)](_0x5ff049){const _0x222d49=_0x3eb455;try{const _0x2a0052=await this[_0x222d49(0x4ab)][_0x222d49(0x256)](_0x5ff049,this[_0x222d49(0x9f6)]),_0x1f1c14=this[_0x222d49(0x5a9)]['getConnectionGroup']();return this[_0x222d49(0xa6b)][_0x222d49(0x3e2)](_0x2a0052,_0x1f1c14),this[_0x222d49(0xa6b)][_0x222d49(0x762)](_0x1f1c14,_0x2a0052),_0x2a0052[_0x222d49(0x8db)](),_0x2a0052;}catch(_0x63b101){throw console[_0x222d49(0x4f1)](_0x63b101),this[_0x222d49(0x1bd)](_0x63b101,{});}}async['openGenerativeAIWorker'](_0x413cec){const _0x4ffbe0=_0x3eb455;try{if(!this[_0x4ffbe0(0x7b5)][_0x4ffbe0(0x20c)]||!this[_0x4ffbe0(0x7b5)][_0x4ffbe0(0x696)]||!this[_0x4ffbe0(0x7b5)][_0x4ffbe0(0x5a6)])throw new _0x5669b1(_0x3ed137[_0x4ffbe0(0x4c1)],_0x4ffbe0(0x5f4));if(!(this[_0x4ffbe0(0x78f)]instanceof _0x565657))throw new _0x5669b1(_0x3ed137[_0x4ffbe0(0x5ed)],_0x4ffbe0(0x87b));const _0x5bcefb=[];for(const _0x29ba72 of this[_0x4ffbe0(0x7b5)][_0x4ffbe0(0x20c)])_0x5bcefb[_0x4ffbe0(0x69a)](new _0x29ba72());const _0x164401=new this['options'][(_0x4ffbe0(0x696))](),_0x3c0aea=new this[(_0x4ffbe0(0x7b5))][(_0x4ffbe0(0x5a6))]();let _0x1c90df;this['options'][_0x4ffbe0(0xad7)]&&(_0x1c90df=new this[(_0x4ffbe0(0x7b5))][(_0x4ffbe0(0xad7))]());const _0x488266=await this[_0x4ffbe0(0x4ab)]['createGenerativeAIWorker'](_0x413cec,this[_0x4ffbe0(0x78f)],_0x5bcefb,_0x164401,_0x3c0aea,_0x1c90df),_0xd8e454=this[_0x4ffbe0(0x5a9)][_0x4ffbe0(0x7cb)]();this[_0x4ffbe0(0xa6b)][_0x4ffbe0(0x3e2)](_0x488266,_0xd8e454),this['subscriptionManager']['createIncomingSubscription'](_0xd8e454,_0x488266);const _0x1859ee=this[_0x4ffbe0(0x8aa)][_0x4ffbe0(0x73e)]();return await _0x488266[_0x4ffbe0(0x8db)](0x0===_0x1859ee[_0x4ffbe0(0x3ed)]||void 0x0),_0x488266;}catch(_0x1ee1ea){throw this['handleError'](_0x1ee1ea,{});}}[_0x3eb455(0x8c2)](_0x7b3053){const _0x4c54b1=_0x3eb455;try{if(!this[_0x4c54b1(0x7b5)]['graphDatabaseConnector'])throw new _0x5669b1(_0x3ed137[_0x4c54b1(0xa42)],'Missing\x20graph\x20database\x20connector');if(!(this[_0x4c54b1(0x78f)]instanceof _0x565657))throw new _0x5669b1(_0x3ed137[_0x4c54b1(0x5ed)],_0x4c54b1(0x87b));const _0x206f4e=this[_0x4c54b1(0x4ab)][_0x4c54b1(0x1ea)](_0x7b3053,this[_0x4c54b1(0x7b5)]['graphDatabaseConnector']),_0x55ff3d=this[_0x4c54b1(0x5a9)][_0x4c54b1(0x7cb)]();return this[_0x4c54b1(0xa6b)][_0x4c54b1(0x3e2)](_0x206f4e,_0x55ff3d),this['subscriptionManager'][_0x4c54b1(0x762)](_0x55ff3d,_0x206f4e),_0x206f4e;}catch(_0x8917f){throw this[_0x4c54b1(0x1bd)](_0x8917f,{});}}[_0x3eb455(0x9fd)](_0x1554fe){const _0x534510=_0x3eb455;try{if(!this[_0x534510(0x7b5)][_0x534510(0x8b8)])throw new _0x5669b1(_0x3ed137['VectorDatabaseMissingConnector'],'Missing\x20vector\x20database\x20connector');if(!(this[_0x534510(0x78f)]instanceof _0x565657))throw new _0x5669b1(_0x3ed137[_0x534510(0x5ed)],'Node\x20is\x20not\x20an\x20agent');const _0x18f5ee=this['contentManager']['createVectorDatabase'](_0x1554fe,this[_0x534510(0x7b5)][_0x534510(0x8b8)]),_0x431a4f=this[_0x534510(0x5a9)][_0x534510(0x7cb)]();return this[_0x534510(0xa6b)][_0x534510(0x3e2)](_0x18f5ee,_0x431a4f),this[_0x534510(0xa6b)][_0x534510(0x762)](_0x431a4f,_0x18f5ee),_0x18f5ee;}catch(_0xd8a30e){throw this['handleError'](_0xd8a30e,{});}}[_0x3eb455(0x66b)](_0x8dccb1){const _0x46309f=_0x3eb455;try{return this[_0x46309f(0x4ab)][_0x46309f(0x66b)](_0x8dccb1);}catch(_0x4b1ba2){throw this[_0x46309f(0x1bd)](_0x4b1ba2,{});}}[_0x3eb455(0x4ff)](_0x4ca195){const _0x44aecc=_0x3eb455;try{return this[_0x44aecc(0x4ab)][_0x44aecc(0x4ff)](_0x4ca195);}catch(_0x44ce4e){throw this[_0x44aecc(0x1bd)](_0x44ce4e,{});}}[_0x3eb455(0x424)](_0x2f6d13){const _0x5c7a09=_0x3eb455;try{return this[_0x5c7a09(0x4ab)][_0x5c7a09(0x424)](_0x2f6d13);}catch(_0x38406d){throw this['handleError'](_0x38406d,{});}}[_0x3eb455(0x8a7)](_0x1e9a62){const _0x40dcab=_0x3eb455;try{return this['contentManager'][_0x40dcab(0x8a7)](_0x1e9a62);}catch(_0x403cea){throw this[_0x40dcab(0x1bd)](_0x403cea,{});}}[_0x3eb455(0x610)](_0x592015){const _0x13cb33=_0x3eb455;try{return this['contentManager'][_0x13cb33(0x610)](_0x592015);}catch(_0x155539){throw this[_0x13cb33(0x1bd)](_0x155539,{});}}['getGenerativeAIWorkers'](_0x5a244){const _0x54cba0=_0x3eb455;try{return this[_0x54cba0(0x4ab)][_0x54cba0(0x4cc)](_0x5a244);}catch(_0x190b26){throw this[_0x54cba0(0x1bd)](_0x190b26,{});}}[_0x3eb455(0x9b0)](_0x5b5080){const _0x31d439=_0x3eb455;try{return this[_0x31d439(0x4ab)][_0x31d439(0x9b0)](_0x5b5080);}catch(_0x250623){throw this[_0x31d439(0x1bd)](_0x250623,{});}}[_0x3eb455(0x722)](_0x3549c2,_0x1d6535){const _0x728613=_0x3eb455;if(!this[_0x728613(0x399)][_0x728613(0x2fc)][_0x728613(0x721)](_0x862e6[_0x728613(0x92c)]))throw new _0x5669b1(_0x3ed137[_0x728613(0x8cd)],_0x728613(0x718));try{return this[_0x728613(0x4ab)][_0x728613(0x722)](_0x3549c2,_0x1d6535);}catch(_0x3975be){throw this[_0x728613(0x1bd)](_0x3975be,{});}}['createLocalDynamicMediaStream'](_0x548714,_0x507a10){const _0x5d7bc1=_0x3eb455;if(!this[_0x5d7bc1(0x399)]['features'][_0x5d7bc1(0x721)](_0x862e6[_0x5d7bc1(0x92c)]))throw new _0x5669b1(_0x3ed137[_0x5d7bc1(0x8cd)],_0x5d7bc1(0x718));try{return this[_0x5d7bc1(0x4ab)][_0x5d7bc1(0x71d)](_0x548714,_0x507a10);}catch(_0x2291d8){throw this[_0x5d7bc1(0x1bd)](_0x2291d8,{});}}[_0x3eb455(0x70e)](_0x449e84){const _0xf7ab29=_0x3eb455;if(!this[_0xf7ab29(0x399)][_0xf7ab29(0x2fc)][_0xf7ab29(0x721)](_0x862e6[_0xf7ab29(0x92c)]))throw new _0x5669b1(_0x3ed137['FeatureNotEnabled'],_0xf7ab29(0x718));try{return this[_0xf7ab29(0x4ab)][_0xf7ab29(0x70e)](_0x449e84);}catch(_0x3d37c4){throw this[_0xf7ab29(0x1bd)](_0x3d37c4,{});}}['getRemoteMediaStreams'](_0x86586c){const _0x13151e=_0x3eb455;if(!this[_0x13151e(0x399)]['features'][_0x13151e(0x721)](_0x862e6[_0x13151e(0x92c)]))throw new _0x5669b1(_0x3ed137[_0x13151e(0x8cd)],_0x13151e(0x718));try{return this[_0x13151e(0x4ab)][_0x13151e(0x359)](_0x86586c);}catch(_0x591479){throw this['handleError'](_0x591479,{});}}[_0x3eb455(0x7f9)](_0x383196){const _0xfd0b04=_0x3eb455;try{return this[_0xfd0b04(0x4ab)][_0xfd0b04(0x7f9)](_0x383196);}catch(_0x143332){throw this[_0xfd0b04(0x1bd)](_0x143332,{});}}['getDistance'](_0x5c5520,_0x3ec71b){const _0x3708c4=_0x3eb455;return this[_0x3708c4(0x8aa)][_0x3708c4(0x536)](_0x5c5520,_0x3ec71b);}['getLocalNode'](){return this['nodeManager']['getLocalNode']();}['getRemoteNodes'](_0x1fedba){const _0x5230e8=_0x3eb455;try{return this[_0x5230e8(0x8aa)][_0x5230e8(0x436)](_0x1fedba);}catch(_0x38de4c){throw this[_0x5230e8(0x1bd)](_0x38de4c,{});}}[_0x3eb455(0x998)](){const _0xf3435e=_0x3eb455;return this[_0xf3435e(0x5a9)][_0xf3435e(0x998)]();}[_0x3eb455(0x420)](_0x31a5be){const _0x993260=_0x3eb455;return this[_0x993260(0x8aa)][_0x993260(0x420)](_0x31a5be);}async[_0x3eb455(0x24e)](_0x5a1aab){const _0x5c1a70=_0x3eb455;try{if(_0x2c9fd4[_0x5c1a70(0x2f3)](_0x51c80b[_0x5c1a70(0x237)],_0x5c1a70(0x1c1),this[_0x5c1a70(0x8aa)][_0x5c1a70(0x99c)](),_0x5a1aab),_0x760ca0(_0x5a1aab,this[_0x5c1a70(0x8aa)]['getLocalId']()))return void this[_0x5c1a70(0x5a9)][_0x5c1a70(0x236)](_0x5a1aab);switch(_0x5a1aab[_0x5c1a70(0x4e7)]){case _0x3ef5e5[_0x5c1a70(0x7dc)]:this[_0x5c1a70(0xabd)][_0x5c1a70(0x5ee)](_0x5a1aab),this[_0x5c1a70(0xa6b)][_0x5c1a70(0x5ee)](_0x5a1aab),this[_0x5c1a70(0x4ab)][_0x5c1a70(0x5ee)](_0x5a1aab);break;case _0x3ef5e5[_0x5c1a70(0x97a)]:this[_0x5c1a70(0xa6b)][_0x5c1a70(0x7fd)](_0x5a1aab),this['connectionManager']['handleNodeSystemEvents'](_0x5a1aab),this['contentManager']['handleNodeSystemEvents'](_0x5a1aab),this[_0x5c1a70(0x8aa)]['handleNodeSystemEvents'](_0x5a1aab);break;case _0x3ef5e5[_0x5c1a70(0x656)]:this[_0x5c1a70(0x1c4)][_0x5c1a70(0x650)](_0x5a1aab);break;case _0x3ef5e5[_0x5c1a70(0x8bf)]:this['remediationManager'][_0x5c1a70(0x438)](_0x5a1aab);break;case _0x3ef5e5[_0x5c1a70(0x92a)]:this[_0x5c1a70(0x683)]['handleStatsSystemEvents'](_0x5a1aab);break;case _0x3ef5e5[_0x5c1a70(0x4bc)]:_0x5a1aab[_0x5c1a70(0x211)]['type']!==_0x52b6ab[_0x5c1a70(0x3d3)]?(this[_0x5c1a70(0xa6b)][_0x5c1a70(0x7d3)](_0x5a1aab),this[_0x5c1a70(0x4ab)]['handleSubscriptionSystemEvents'](_0x5a1aab)):(this[_0x5c1a70(0x4ab)]['handleSubscriptionSystemEvents'](_0x5a1aab),this[_0x5c1a70(0xa6b)][_0x5c1a70(0x7d3)](_0x5a1aab));break;case _0x3ef5e5[_0x5c1a70(0x32c)]:await this[_0x5c1a70(0x5a9)][_0x5c1a70(0x6ef)](_0x5a1aab),this['statsManager']['handlePeerConnectionSystemEvents'](_0x5a1aab),this[_0x5c1a70(0x8aa)][_0x5c1a70(0x6ef)](_0x5a1aab),this['subscriptionManager'][_0x5c1a70(0x6ef)](_0x5a1aab);}}catch(_0x358f51){throw _0x2c9fd4['debug'](_0x5c1a70(0x24e),_0x358f51),this[_0x5c1a70(0x1bd)](_0x358f51,{});}}['handleError'](_0x3981cc,_0x1399fb){const _0x2cbf3e=_0x3eb455;if(!(_0x3981cc instanceof _0x420f03)){if(_0x3981cc instanceof _0x5669b1)throw _0x3981cc;if(!(_0x3981cc instanceof Error))throw new _0x5669b1(_0x3ed137[_0x2cbf3e(0x9f2)],_0x2cbf3e(0x573)+_0x3981cc);if(!(_0x3981cc instanceof _0x157cd9))throw new _0x5669b1(_0x3ed137[_0x2cbf3e(0x9f2)],_0x2cbf3e(0x71e)+_0x3981cc[_0x2cbf3e(0x748)]);switch(_0x3981cc[_0x2cbf3e(0x43c)]){case _0x157cd9[_0x2cbf3e(0x6cc)][_0x2cbf3e(0x1c5)]:case _0x157cd9[_0x2cbf3e(0x6cc)][_0x2cbf3e(0x40f)]:case _0x157cd9[_0x2cbf3e(0x6cc)][_0x2cbf3e(0x215)]:case _0x157cd9[_0x2cbf3e(0x6cc)][_0x2cbf3e(0x62a)]:case _0x157cd9['codes'][_0x2cbf3e(0x606)]:case _0x157cd9[_0x2cbf3e(0x6cc)][_0x2cbf3e(0x669)]:case _0x157cd9[_0x2cbf3e(0x6cc)][_0x2cbf3e(0x4a6)]:case _0x157cd9[_0x2cbf3e(0x6cc)][_0x2cbf3e(0xaa4)]:case _0x157cd9[_0x2cbf3e(0x6cc)]['SubscriptionRequestDoesNotExist']:case _0x157cd9['codes']['SubscriptionRequestFailed']:case _0x157cd9['codes'][_0x2cbf3e(0x465)]:case _0x157cd9[_0x2cbf3e(0x6cc)][_0x2cbf3e(0xa26)]:}throw _0x2c9fd4['error'](_0x2cbf3e(0x3fc)+_0x3981cc[_0x2cbf3e(0x748)],{'clusterId':this[_0x2cbf3e(0x9ac)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x2cbf3e(0x45e)][_0x2cbf3e(0x6d8)]},_0x3981cc),new _0x5669b1(_0x3ed137[_0x2cbf3e(0x9f2)],_0x2cbf3e(0x8cf)+_0x3981cc[_0x2cbf3e(0x748)]);}}['getConfigs'](){const _0x9f3a29=_0x3eb455;return{'mediator':this,'vendorId':this[_0x9f3a29(0x2df)],'clusterId':this[_0x9f3a29(0x9ac)],'localNode':this[_0x9f3a29(0x45e)]};}['initializeSystemTopic'](){const _0x4f4316=_0x3eb455;return this['systemTopic'][_0x4f4316(0x79f)](_0x194fbb=>{const _0x438374=_0x4f4316,_0x568042=_0xceb15f(_0x194fbb,this[_0x438374(0x45e)][_0x438374(0x777)]()),_0x310df1=_0x194fbb[_0x438374(0x4e7)]===_0x3ef5e5[_0x438374(0x92a)]||_0x194fbb[_0x438374(0x4e7)]===_0x3ef5e5[_0x438374(0x32c)]&&_0x194fbb['content'][_0x438374(0x6d8)]===_0xf557df[_0x438374(0x92a)]?_0x51c80b['SystemStats']:_0x51c80b[_0x438374(0x720)];_0x2c9fd4['logRaw'](_0x310df1,_0x194fbb[_0x438374(0x451)]+_0x438374(0x3f2)+_0x568042,_0x194fbb),this[_0x438374(0x24e)](_0x194fbb)[_0x438374(0x530)](_0x10b58f=>{console['error'](_0x10b58f);});});}async[_0x3eb455(0x9d0)](_0xdb0b85){const _0x209233=_0x3eb455,{timingLogger:_0x22b50e,logger:_0x16cfd2,logBeforeSync:_0x366915,logAfterSync:_0x488a95}=function(_0xd6d8a6,_0x109ff9){const _0x51f30c=a0_0x12d8;if(!_0x2c9fd4[_0x51f30c(0x676)](_0x109ff9))return _0x2c9fd4[_0x51f30c(0xaa7)](_0x51f30c(0x266)+_0x109ff9),{..._0x34982b(_0xd6d8a6,_0x109ff9),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x1a818e,logger:_0x1ee93e}=_0x34982b(_0xd6d8a6,_0x109ff9);let _0x2dab00=0x0;return _0x2dab00=Date[_0x51f30c(0xa6a)](),{'syncStartTime':_0x2dab00,'timingLogger':_0x1a818e,'logger':_0x1ee93e,'logBeforeSync':()=>(_0x430982(_0x109ff9,_0x51f30c(0xad6)),_0x1a818e[_0x51f30c(0xa6a)]()),'logAfterSync':(_0x3b45be,_0xfb9918)=>{const _0x285696=_0x51f30c,_0x465621=Date[_0x285696(0xa6a)]();_0x430982(_0x109ff9,_0x285696(0x5d7)+_0xfb9918);const _0xe97639=(_0x465621-_0x2dab00)/0x3e8,_0x825c14=(_0x465621-_0x3b45be)/0x3e8;_0x2c9fd4[_0x285696(0x2f3)](_0x109ff9,_0x285696(0x9b7),_0xd6d8a6,'\x0a\x20===\x20Total\x20Time:\x20'+_0xe97639[_0x285696(0x326)](0x2)+'\x20seconds','\x0a\x20===\x20Wait\x20Time:\x20'+_0x825c14[_0x285696(0x326)](0x3)+'\x20seconds',_0x285696(0xa3e)+((_0x465621-_0x2dab00)/0x3e8-_0x825c14)['toFixed'](0x2)+'\x20seconds');}};}(_0xdb0b85[_0x209233(0x8d5)](),_0x51c80b['KeyValueDatabase']);_0x16cfd2[_0x209233(0x2f3)]('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process');const _0x2982ea=this[_0x209233(0x8aa)]['getAncestorIds']()['length']>0x0;if(_0x2982ea){_0x16cfd2['log'](_0x209233(0x86e),()=>this[_0x209233(0x8aa)][_0x209233(0x73e)]()),_0x22b50e[_0x209233(0x362)](),await Promise['all'](this[_0x209233(0x8aa)][_0x209233(0x73e)]()[_0x209233(0x257)](async _0x56389c=>await this[_0x209233(0x8aa)][_0x209233(0x420)](_0x56389c)))['catch'](_0x163851=>_0x2c9fd4[_0x209233(0x772)](_0x209233(0xa74),{'nodeId':this[_0x209233(0x45e)]['getId'](),'nodeType':this[_0x209233(0x45e)][_0x209233(0x6d8)]}));const _0x17f85c=_0x16cfd2[_0x209233(0x3ba)](()=>this[_0x209233(0x8aa)][_0x209233(0x73e)](),[]);_0x22b50e['logWaitTime'](_0x209233(0x205)+_0x17f85c+_0x209233(0xaaa));}_0x488a95(_0x366915(),await _0xdb0b85[_0x209233(0x3b7)](_0x2982ea,async()=>{const _0x3df3b6=_0x209233;_0x22b50e[_0x3df3b6(0x362)](),await this[_0x3df3b6(0x8aa)][_0x3df3b6(0x2fb)](),_0x22b50e[_0x3df3b6(0x36d)]('syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:'),_0xdb0b85[_0x3df3b6(0x3b7)](!0x0,()=>{const _0x5c7961=_0x3df3b6;_0x16cfd2[_0x5c7961(0x2f3)]('KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.'),_0xdb0b85[_0x5c7961(0x3b7)](!0x1);},!0x0);}));}}class _0x3f6758{[_0x3eb455(0x2df)];[_0x3eb455(0x9ac)];['authNode'];[_0x3eb455(0x63a)];[_0x3eb455(0x4d0)];constructor(_0x200ccb,_0x50335b,_0x5abe88,_0x4f75e2,_0xbab6cf,_0x16ddcc,_0x3a3173=new _0x1e5e11()){const _0x2bd3d9=_0x3eb455;this[_0x2bd3d9(0x2df)]=_0x200ccb,this['clusterId']=_0x50335b,this[_0x2bd3d9(0x78f)]=_0x5abe88,this[_0x2bd3d9(0x63a)]=_0x3a3173,this['orchestrator']=new _0xdf4485(this['vendorId'],this[_0x2bd3d9(0x9ac)],_0x5abe88,_0x4f75e2,_0xbab6cf,_0x16ddcc,this);}async[_0x3eb455(0x220)](){const _0x50202e=_0x3eb455;await this[_0x50202e(0x4d0)][_0x50202e(0x4fc)](),this[_0x50202e(0x78f)][_0x50202e(0x6d8)]===_0x4d2150[_0x50202e(0x28b)][_0x50202e(0x5e5)]&&this['authNode']['registerCluster'](this[_0x50202e(0x9ac)],_0x1731f2=>{const _0x5c34fd=_0x50202e;this['orchestrator'][_0x5c34fd(0x555)](_0x1731f2);});}[_0x3eb455(0x72b)](_0x1af3a5={}){const _0x123db3=_0x3eb455;this['orchestrator']['close'](_0x1af3a5),this['authNode'][_0x123db3(0x6d8)]===_0x4d2150[_0x123db3(0x28b)][_0x123db3(0x5e5)]&&this[_0x123db3(0x78f)][_0x123db3(0x791)](this[_0x123db3(0x9ac)]),this['emit'](_0x123db3(0x482),void 0x0);}[_0x3eb455(0x5b4)](_0x3e9ac7){const _0x3ef30e=_0x3eb455,_0x5bb65a=this[_0x3ef30e(0x4d0)]['openPubSubTopic'](_0x3e9ac7);return{'getName':_0x5bb65a['getName'][_0x3ef30e(0x64d)](_0x5bb65a),'getOwnerId':_0x5bb65a[_0x3ef30e(0x2e9)][_0x3ef30e(0x64d)](_0x5bb65a),'getContentType':_0x5bb65a[_0x3ef30e(0x41e)]['bind'](_0x5bb65a),'publish':_0x5bb65a[_0x3ef30e(0x5bf)]['bind'](_0x5bb65a),'subscribe':_0x5bb65a['subscribe'][_0x3ef30e(0x64d)](_0x5bb65a),'unsubscribe':_0x5bb65a['unsubscribe'][_0x3ef30e(0x64d)](_0x5bb65a),'close':_0x5bb65a[_0x3ef30e(0x579)]['bind'](_0x5bb65a)};}async[_0x3eb455(0x2cc)](_0x44ca8c,_0x15e91c){const _0x9d6098=_0x3eb455,_0x2c870a=await this[_0x9d6098(0x4d0)][_0x9d6098(0x2cc)](_0x44ca8c,_0x15e91c);return{'getName':_0x2c870a['getName']['bind'](_0x2c870a),'getOwnerId':_0x2c870a['getOwnerId'][_0x9d6098(0x64d)](_0x2c870a),'getContentType':_0x2c870a['getContentType'][_0x9d6098(0x64d)](_0x2c870a),'publish':_0x2c870a[_0x9d6098(0x5bf)][_0x9d6098(0x64d)](_0x2c870a),'unpublish':_0x2c870a[_0x9d6098(0x9c9)][_0x9d6098(0x64d)](_0x2c870a),'get':_0x2c870a[_0x9d6098(0x1d7)][_0x9d6098(0x64d)](_0x2c870a),'list':_0x2c870a[_0x9d6098(0xa65)][_0x9d6098(0x64d)](_0x2c870a),'getSize':_0x2c870a[_0x9d6098(0x2b3)][_0x9d6098(0x64d)](_0x2c870a),'subscribe':_0x2c870a['subscribe'][_0x9d6098(0x64d)](_0x2c870a),'unsubscribe':_0x2c870a[_0x9d6098(0x421)]['bind'](_0x2c870a),'close':_0x2c870a[_0x9d6098(0x579)]['bind'](_0x2c870a)};}async['openExternalStorageConnection'](_0x5b84b7,_0x3cce80){const _0x4517a9=_0x3eb455,_0xf51ff=await this[_0x4517a9(0x4d0)]['openExternalStorageConnection'](_0x5b84b7,_0x3cce80);return{'getName':_0xf51ff['getName'][_0x4517a9(0x64d)](_0xf51ff),'getOwnerId':_0xf51ff[_0x4517a9(0x2e9)][_0x4517a9(0x64d)](_0xf51ff),'getContentType':_0xf51ff[_0x4517a9(0x41e)][_0x4517a9(0x64d)](_0xf51ff),'close':_0xf51ff[_0x4517a9(0x579)][_0x4517a9(0x64d)](_0xf51ff),'get':_0xf51ff[_0x4517a9(0x1d7)][_0x4517a9(0x64d)](_0xf51ff),'list':_0xf51ff[_0x4517a9(0xa65)]['bind'](_0xf51ff),'subscribe':_0xf51ff['subscribe'][_0x4517a9(0x64d)](_0xf51ff),'unsubscribe':_0xf51ff[_0x4517a9(0x421)][_0x4517a9(0x64d)](_0xf51ff)};}async[_0x3eb455(0x1d1)](_0x49f78f,_0x54c654,_0x6fe37){const _0x3ed5e7=_0x3eb455,_0xc9b16f=await this[_0x3ed5e7(0x4d0)]['openKeyValueDatabase'](_0x49f78f,_0x54c654,_0x6fe37);return{'getName':_0xc9b16f[_0x3ed5e7(0xacc)]['bind'](_0xc9b16f),'getOwnerId':_0xc9b16f[_0x3ed5e7(0x2e9)]['bind'](_0xc9b16f),'getContentType':_0xc9b16f[_0x3ed5e7(0x41e)][_0x3ed5e7(0x64d)](_0xc9b16f),'getTable':_0xc9b16f[_0x3ed5e7(0x900)][_0x3ed5e7(0x64d)](_0xc9b16f),'subscribe':_0xc9b16f[_0x3ed5e7(0x79f)][_0x3ed5e7(0x64d)](_0xc9b16f),'unsubscribe':_0xc9b16f[_0x3ed5e7(0x421)][_0x3ed5e7(0x64d)](_0xc9b16f),'close':_0xc9b16f['close'][_0x3ed5e7(0x64d)](_0xc9b16f)};}async[_0x3eb455(0x882)](_0x44e1fd){const _0x3840f4=_0x3eb455,_0x3e1a1e=await this[_0x3840f4(0x4d0)][_0x3840f4(0x882)](_0x44e1fd);return{'getName':_0x3e1a1e[_0x3840f4(0xacc)][_0x3840f4(0x64d)](_0x3e1a1e),'getOwnerId':_0x3e1a1e['getOwnerId']['bind'](_0x3e1a1e),'getContentType':_0x3e1a1e[_0x3840f4(0x41e)]['bind'](_0x3e1a1e),'createJob':_0x3e1a1e[_0x3840f4(0x380)][_0x3840f4(0x64d)](_0x3e1a1e),'getJob':_0x3e1a1e[_0x3840f4(0x632)]['bind'](_0x3e1a1e),'getJobs':_0x3e1a1e[_0x3840f4(0x81f)][_0x3840f4(0x64d)](_0x3e1a1e),'close':_0x3e1a1e[_0x3840f4(0x579)]['bind'](_0x3e1a1e)};}async[_0x3eb455(0x6dd)](_0x48ee29){const _0x484509=_0x3eb455,_0x5d8cfb=await this[_0x484509(0x4d0)]['openJobWorker'](_0x48ee29);return{'close':_0x5d8cfb['close']['bind'](_0x5d8cfb)};}async[_0x3eb455(0x837)](_0x2cc05b){const _0xc1083=_0x3eb455,_0xb9afb3=await this[_0xc1083(0x4d0)]['openGenerativeAIContext'](_0x2cc05b);return{'createAIJob':_0xb9afb3[_0xc1083(0x1c7)][_0xc1083(0x64d)](_0xb9afb3),'ratePrompt':_0xb9afb3[_0xc1083(0x8d0)][_0xc1083(0x64d)](_0xb9afb3),'downloadDocument':_0xb9afb3[_0xc1083(0x2e0)]['bind'](_0xb9afb3),'getDataBucketIds':_0xb9afb3[_0xc1083(0x40a)][_0xc1083(0x64d)](_0xb9afb3),'close':_0xb9afb3[_0xc1083(0x579)][_0xc1083(0x64d)](_0xb9afb3)};}async[_0x3eb455(0x28f)](_0xed862a){const _0x4b9b36=_0x3eb455,_0x95b619=await this['orchestrator'][_0x4b9b36(0x28f)](_0xed862a);return{'close':_0x95b619[_0x4b9b36(0x579)]['bind'](_0x95b619)};}[_0x3eb455(0x8c2)](_0x3d516d){const _0x38f553=_0x3eb455,_0xc8d584=this['orchestrator'][_0x38f553(0x8c2)](_0x3d516d);return{'getName':_0xc8d584['getName'][_0x38f553(0x64d)](_0xc8d584),'getOwnerId':_0xc8d584['getOwnerId'][_0x38f553(0x64d)](_0xc8d584),'getContentType':_0xc8d584[_0x38f553(0x41e)][_0x38f553(0x64d)](_0xc8d584),'addNode':_0xc8d584['addNode'][_0x38f553(0x64d)](_0xc8d584),'addEdge':_0xc8d584['addEdge']['bind'](_0xc8d584),'getContent':_0xc8d584[_0x38f553(0x69d)]['bind'](_0xc8d584),'remove':_0xc8d584[_0x38f553(0x212)][_0x38f553(0x64d)](_0xc8d584),'saveToDisk':_0xc8d584[_0x38f553(0x612)][_0x38f553(0x64d)](_0xc8d584),'loadFromDisk':_0xc8d584['loadFromDisk'][_0x38f553(0x64d)](_0xc8d584),'close':_0xc8d584['close'][_0x38f553(0x64d)](_0xc8d584)};}[_0x3eb455(0x9fd)](_0x850d98){const _0x109376=_0x3eb455,_0x5568ff=this['orchestrator'][_0x109376(0x9fd)](_0x850d98);return{'getName':_0x5568ff[_0x109376(0xacc)][_0x109376(0x64d)](_0x5568ff),'getOwnerId':_0x5568ff[_0x109376(0x2e9)][_0x109376(0x64d)](_0x5568ff),'getContentType':_0x5568ff['getContentType'][_0x109376(0x64d)](_0x5568ff),'search':_0x5568ff[_0x109376(0x7d4)][_0x109376(0x64d)](_0x5568ff),'insert':_0x5568ff[_0x109376(0x4e9)]['bind'](_0x5568ff),'remove':_0x5568ff[_0x109376(0x212)][_0x109376(0x64d)](_0x5568ff),'saveToDisk':_0x5568ff['saveToDisk'][_0x109376(0x64d)](_0x5568ff),'loadFromDisk':_0x5568ff['loadFromDisk'][_0x109376(0x64d)](_0x5568ff),'close':_0x5568ff['close'][_0x109376(0x64d)](_0x5568ff)};}['getPubSubTopics'](_0x59b0da){const _0x6acb09=_0x3eb455;return this[_0x6acb09(0x4d0)][_0x6acb09(0x66b)](_0x59b0da)[_0x6acb09(0x257)](_0x157629=>({'getName':_0x157629[_0x6acb09(0xacc)][_0x6acb09(0x64d)](_0x157629),'getOwnerId':_0x157629['getOwnerId']['bind'](_0x157629),'getContentType':_0x157629[_0x6acb09(0x41e)][_0x6acb09(0x64d)](_0x157629),'publish':_0x157629[_0x6acb09(0x5bf)][_0x6acb09(0x64d)](_0x157629),'subscribe':_0x157629[_0x6acb09(0x79f)]['bind'](_0x157629),'unsubscribe':_0x157629[_0x6acb09(0x421)][_0x6acb09(0x64d)](_0x157629),'close':_0x157629[_0x6acb09(0x579)][_0x6acb09(0x64d)](_0x157629)}));}[_0x3eb455(0x4ff)](_0x4ce7a7){const _0x2252b5=_0x3eb455;return this[_0x2252b5(0x4d0)][_0x2252b5(0x4ff)](_0x4ce7a7)[_0x2252b5(0x257)](_0x349966=>({'getName':_0x349966[_0x2252b5(0xacc)][_0x2252b5(0x64d)](_0x349966),'getOwnerId':_0x349966[_0x2252b5(0x2e9)][_0x2252b5(0x64d)](_0x349966),'getContentType':_0x349966[_0x2252b5(0x41e)][_0x2252b5(0x64d)](_0x349966),'publish':_0x349966[_0x2252b5(0x5bf)]['bind'](_0x349966),'unpublish':_0x349966[_0x2252b5(0x9c9)][_0x2252b5(0x64d)](_0x349966),'get':_0x349966[_0x2252b5(0x1d7)][_0x2252b5(0x64d)](_0x349966),'list':_0x349966[_0x2252b5(0xa65)][_0x2252b5(0x64d)](_0x349966),'getSize':_0x349966[_0x2252b5(0x2b3)][_0x2252b5(0x64d)](_0x349966),'subscribe':_0x349966[_0x2252b5(0x79f)]['bind'](_0x349966),'unsubscribe':_0x349966['unsubscribe']['bind'](_0x349966),'close':_0x349966[_0x2252b5(0x579)][_0x2252b5(0x64d)](_0x349966)}));}[_0x3eb455(0x424)](_0x418199){const _0x41538d=_0x3eb455;return this[_0x41538d(0x4d0)][_0x41538d(0x424)](_0x418199)[_0x41538d(0x257)](_0x27815f=>({'getName':_0x27815f[_0x41538d(0xacc)][_0x41538d(0x64d)](_0x27815f),'getOwnerId':_0x27815f[_0x41538d(0x2e9)][_0x41538d(0x64d)](_0x27815f),'getContentType':_0x27815f['getContentType'][_0x41538d(0x64d)](_0x27815f),'close':_0x27815f[_0x41538d(0x579)][_0x41538d(0x64d)](_0x27815f),'get':_0x27815f[_0x41538d(0x1d7)][_0x41538d(0x64d)](_0x27815f),'list':_0x27815f['list'][_0x41538d(0x64d)](_0x27815f),'subscribe':_0x27815f['subscribe'][_0x41538d(0x64d)](_0x27815f),'unsubscribe':_0x27815f[_0x41538d(0x421)]['bind'](_0x27815f)}));}['getKeyValueDatabases'](_0x4fc772){const _0x34978b=_0x3eb455;return this[_0x34978b(0x4d0)][_0x34978b(0x8a7)](_0x4fc772)[_0x34978b(0x257)](_0x374a9c=>({'getName':_0x374a9c['getName'][_0x34978b(0x64d)](_0x374a9c),'getOwnerId':_0x374a9c[_0x34978b(0x2e9)][_0x34978b(0x64d)](_0x374a9c),'getContentType':_0x374a9c['getContentType']['bind'](_0x374a9c),'getTable':_0x374a9c[_0x34978b(0x900)]['bind'](_0x374a9c),'subscribe':_0x374a9c['subscribe']['bind'](_0x374a9c),'unsubscribe':_0x374a9c[_0x34978b(0x421)]['bind'](_0x374a9c),'close':_0x374a9c[_0x34978b(0x579)][_0x34978b(0x64d)](_0x374a9c)}));}['getGenerativeAIContexts'](_0x2dd770){const _0xc76bc=_0x3eb455;return this['orchestrator']['getGenerativeAIContexts'](_0x2dd770)['map'](_0x2e4f2e=>({'createAIJob':_0x2e4f2e['createAIJob']['bind'](_0x2e4f2e),'ratePrompt':_0x2e4f2e[_0xc76bc(0x8d0)][_0xc76bc(0x64d)](_0x2e4f2e),'downloadDocument':_0x2e4f2e['downloadDocument'][_0xc76bc(0x64d)](_0x2e4f2e),'getDataBucketIds':_0x2e4f2e[_0xc76bc(0x40a)][_0xc76bc(0x64d)](_0x2e4f2e),'close':_0x2e4f2e['close']['bind'](_0x2e4f2e)}));}[_0x3eb455(0x4cc)](_0xcd6056){const _0x568da4=_0x3eb455;return this[_0x568da4(0x4d0)][_0x568da4(0x4cc)](_0xcd6056)[_0x568da4(0x257)](_0xd9b67f=>({'close':_0xd9b67f[_0x568da4(0x579)][_0x568da4(0x64d)](_0xd9b67f)}));}[_0x3eb455(0x96f)](_0x40d98d,_0x3c0bb0){const _0x4e0fc3=_0x3eb455,_0x1d0470=this[_0x4e0fc3(0x4d0)][_0x4e0fc3(0x722)](_0x40d98d,_0x3c0bb0);return{'getLabel':_0x1d0470[_0x4e0fc3(0x8d5)]['bind'](_0x1d0470),'getOwnerId':_0x1d0470[_0x4e0fc3(0x2e9)][_0x4e0fc3(0x64d)](_0x1d0470),'getContentType':_0x1d0470[_0x4e0fc3(0x41e)][_0x4e0fc3(0x64d)](_0x1d0470),'getMediaStream':_0x1d0470[_0x4e0fc3(0x7f5)][_0x4e0fc3(0x64d)](_0x1d0470),'setPriority':_0x1d0470[_0x4e0fc3(0x6bc)][_0x4e0fc3(0x64d)](_0x1d0470),'unpublish':_0x1d0470['unpublish'][_0x4e0fc3(0x64d)](_0x1d0470)};}[_0x3eb455(0x8a2)](_0x2db96d,_0x5b2800){const _0x129521=_0x3eb455,_0x45a9c1=this[_0x129521(0x4d0)][_0x129521(0x71d)](_0x2db96d,_0x5b2800);return{'getLabel':_0x45a9c1[_0x129521(0x8d5)][_0x129521(0x64d)](_0x45a9c1),'getOwnerId':_0x45a9c1[_0x129521(0x2e9)][_0x129521(0x64d)](_0x45a9c1),'getContentType':_0x45a9c1[_0x129521(0x41e)][_0x129521(0x64d)](_0x45a9c1),'setPriority':_0x45a9c1[_0x129521(0x6bc)]['bind'](_0x45a9c1),'unpublish':_0x45a9c1[_0x129521(0x9c9)]['bind'](_0x45a9c1),'getMediaStream':_0x45a9c1['getMediaStream']['bind'](_0x45a9c1),'addTrack':_0x45a9c1['addTrack']['bind'](_0x45a9c1),'removeTrack':_0x45a9c1['removeTrack'][_0x129521(0x64d)](_0x45a9c1),'replaceTrack':_0x45a9c1[_0x129521(0x42f)]['bind'](_0x45a9c1),'setTransformations':_0x45a9c1[_0x129521(0x976)][_0x129521(0x64d)](_0x45a9c1)};}[_0x3eb455(0x70e)](_0x3c8573){const _0x4956cd=_0x3eb455;return this['orchestrator'][_0x4956cd(0x70e)](_0x3c8573)['map'](_0x267eb2=>({'getLabel':_0x267eb2[_0x4956cd(0x8d5)][_0x4956cd(0x64d)](_0x267eb2),'getOwnerId':_0x267eb2[_0x4956cd(0x2e9)]['bind'](_0x267eb2),'getContentType':_0x267eb2[_0x4956cd(0x41e)][_0x4956cd(0x64d)](_0x267eb2),'getMediaStream':_0x267eb2[_0x4956cd(0x7f5)][_0x4956cd(0x64d)](_0x267eb2),'setPriority':_0x267eb2[_0x4956cd(0x6bc)][_0x4956cd(0x64d)](_0x267eb2),'unpublish':_0x267eb2[_0x4956cd(0x9c9)]['bind'](_0x267eb2)}));}[_0x3eb455(0x359)](_0x2115d5){const _0x52d3a8=_0x3eb455;return this[_0x52d3a8(0x4d0)][_0x52d3a8(0x359)](_0x2115d5)[_0x52d3a8(0x257)](_0x311042=>({'getLabel':_0x311042[_0x52d3a8(0x8d5)]['bind'](_0x311042),'getOwnerId':_0x311042['getOwnerId'][_0x52d3a8(0x64d)](_0x311042),'getContentType':_0x311042[_0x52d3a8(0x41e)][_0x52d3a8(0x64d)](_0x311042),'getMediaStream':_0x311042[_0x52d3a8(0x7f5)][_0x52d3a8(0x64d)](_0x311042),'subscribe':_0x311042['subscribe'][_0x52d3a8(0x64d)](_0x311042),'unsubscribe':_0x311042[_0x52d3a8(0x421)][_0x52d3a8(0x64d)](_0x311042),'getAvailableTrackKinds':_0x311042[_0x52d3a8(0x9bd)][_0x52d3a8(0x64d)](_0x311042),'update':_0x311042[_0x52d3a8(0x1ed)]['bind'](_0x311042),'onProviderChange':_0x311042[_0x52d3a8(0x89c)][_0x52d3a8(0x64d)](_0x311042)}));}[_0x3eb455(0x9b0)](_0x14d480){const _0x2427cc=_0x3eb455;return this['orchestrator'][_0x2427cc(0x9b0)](_0x14d480)[_0x2427cc(0x257)](_0x3102f3=>({'getName':_0x3102f3[_0x2427cc(0xacc)][_0x2427cc(0x64d)](_0x3102f3),'getOwnerId':_0x3102f3[_0x2427cc(0x2e9)][_0x2427cc(0x64d)](_0x3102f3),'getContentType':_0x3102f3[_0x2427cc(0x41e)]['bind'](_0x3102f3),'addNode':_0x3102f3['addNode'][_0x2427cc(0x64d)](_0x3102f3),'addEdge':_0x3102f3[_0x2427cc(0x76a)][_0x2427cc(0x64d)](_0x3102f3),'getContent':_0x3102f3[_0x2427cc(0x69d)]['bind'](_0x3102f3),'remove':_0x3102f3[_0x2427cc(0x212)]['bind'](_0x3102f3),'saveToDisk':_0x3102f3[_0x2427cc(0x612)][_0x2427cc(0x64d)](_0x3102f3),'loadFromDisk':_0x3102f3[_0x2427cc(0x342)][_0x2427cc(0x64d)](_0x3102f3),'close':_0x3102f3['close'][_0x2427cc(0x64d)](_0x3102f3)}));}[_0x3eb455(0x7f9)](_0x532c0f){const _0x25a1c9=_0x3eb455;return this[_0x25a1c9(0x4d0)][_0x25a1c9(0x7f9)](_0x532c0f)['map'](_0x297a12=>({'getName':_0x297a12[_0x25a1c9(0xacc)][_0x25a1c9(0x64d)](_0x297a12),'getOwnerId':_0x297a12[_0x25a1c9(0x2e9)][_0x25a1c9(0x64d)](_0x297a12),'getContentType':_0x297a12[_0x25a1c9(0x41e)][_0x25a1c9(0x64d)](_0x297a12),'search':_0x297a12['search'][_0x25a1c9(0x64d)](_0x297a12),'insert':_0x297a12[_0x25a1c9(0x4e9)]['bind'](_0x297a12),'remove':_0x297a12[_0x25a1c9(0x212)][_0x25a1c9(0x64d)](_0x297a12),'saveToDisk':_0x297a12['saveToDisk']['bind'](_0x297a12),'loadFromDisk':_0x297a12['loadFromDisk']['bind'](_0x297a12),'close':_0x297a12[_0x25a1c9(0x579)][_0x25a1c9(0x64d)](_0x297a12)}));}[_0x3eb455(0x36f)](){const _0x217e3c=_0x3eb455,_0xe5a39=this[_0x217e3c(0x4d0)]['getLocalNode']();switch(_0xe5a39[_0x217e3c(0x6d8)]){case _0x4d2150[_0x217e3c(0x28b)][_0x217e3c(0x5e5)]:return{'type':_0x4d2150[_0x217e3c(0x28b)][_0x217e3c(0x5e5)],'getId':_0xe5a39[_0x217e3c(0x777)][_0x217e3c(0x64d)](_0xe5a39),'getDisplayName':_0xe5a39[_0x217e3c(0xa8f)][_0x217e3c(0x64d)](_0xe5a39),'getEmail':_0xe5a39[_0x217e3c(0x248)]['bind'](_0xe5a39),'getRemoteConnections':_0xe5a39[_0x217e3c(0x44a)][_0x217e3c(0x64d)](_0xe5a39),'setDisplayName':_0xe5a39[_0x217e3c(0x9fc)][_0x217e3c(0x64d)](_0xe5a39),'setEmail':_0xe5a39[_0x217e3c(0xa5a)][_0x217e3c(0x64d)](_0xe5a39)};case _0x4d2150[_0x217e3c(0x28b)][_0x217e3c(0x1b8)]:default:return{'type':_0x4d2150[_0x217e3c(0x28b)]['Agent'],'getId':_0xe5a39[_0x217e3c(0x777)][_0x217e3c(0x64d)](_0xe5a39),'getRemoteConnections':_0xe5a39[_0x217e3c(0x44a)][_0x217e3c(0x64d)](_0xe5a39)};}}[_0x3eb455(0x436)](_0x10daca){const _0x53016d=_0x3eb455;return this[_0x53016d(0x4d0)][_0x53016d(0x436)](_0x10daca)[_0x53016d(0x257)](_0x2c39e5=>{const _0x4f1f23=_0x53016d;switch(_0x2c39e5[_0x4f1f23(0x6d8)]){case _0x4d2150[_0x4f1f23(0x28b)]['User']:return{'type':_0x4d2150['NodeType'][_0x4f1f23(0x5e5)],'getId':_0x2c39e5[_0x4f1f23(0x777)][_0x4f1f23(0x64d)](_0x2c39e5),'getDisplayName':_0x2c39e5[_0x4f1f23(0xa8f)][_0x4f1f23(0x64d)](_0x2c39e5),'getEmail':_0x2c39e5['getEmail']['bind'](_0x2c39e5),'getRemoteConnections':_0x2c39e5[_0x4f1f23(0x44a)][_0x4f1f23(0x64d)](_0x2c39e5)};case _0x4d2150['NodeType'][_0x4f1f23(0x1b8)]:return{'type':_0x4d2150['NodeType'][_0x4f1f23(0x1b8)],'getId':_0x2c39e5['getId'][_0x4f1f23(0x64d)](_0x2c39e5),'getRemoteConnections':_0x2c39e5['getRemoteConnections'][_0x4f1f23(0x64d)](_0x2c39e5)};default:throw new _0x5669b1(_0x3ed137[_0x4f1f23(0x5ed)],_0x4f1f23(0x274));}});}['on']=(..._0x3c6dae)=>{const _0x80dbc5=_0x3eb455;this[_0x80dbc5(0x63a)]['on'](..._0x3c6dae);};[_0x3eb455(0xad4)]=(..._0x4eb535)=>this[_0x3eb455(0x63a)]['emit'](..._0x4eb535);['off'](..._0x443996){const _0x349b12=_0x3eb455;this[_0x349b12(0x63a)]['off'](..._0x443996);}}class _0x233a10{['id'];[_0x3eb455(0x8c8)];['email'];[_0x3eb455(0x6d8)]=_0x4d2150['NodeType']['User'];['joinedClusters']=new Map();[_0x3eb455(0x2f7)]=_0x2bf9b6();constructor(_0x3383e9,_0x198f12,_0x455002){const _0x12dada=_0x3eb455;this['id']=_0x3383e9,this[_0x12dada(0x8c8)]=_0x198f12,this['email']=_0x455002;}[_0x3eb455(0x777)](){return this['id'];}['getDisplayName'](){const _0x1cecf0=_0x3eb455;return this[_0x1cecf0(0x8c8)];}[_0x3eb455(0x248)](){const _0x230e6a=_0x3eb455;return this[_0x230e6a(0x776)];}[_0x3eb455(0x9fc)](_0x5242de){const _0x1fd7d9=_0x3eb455;this[_0x1fd7d9(0x8c8)]!==_0x5242de&&(this['displayName']=_0x5242de,this[_0x1fd7d9(0x2f7)][_0x1fd7d9(0x5bf)](this));}[_0x3eb455(0xa5a)](_0x8a2cca){const _0x2886e0=_0x3eb455;this[_0x2886e0(0x776)]!==_0x8a2cca&&(this[_0x2886e0(0x776)]=_0x8a2cca,this[_0x2886e0(0x2f7)][_0x2886e0(0x5bf)](this));}[_0x3eb455(0x9bf)](_0x415fe5,_0x3b09af){const _0x5401a6=_0x3eb455;if(this['joinedClusters']['has'](_0x415fe5))return;const _0x51e460=this[_0x5401a6(0x2f7)][_0x5401a6(0x79f)](_0x3b09af);this['joinedClusters'][_0x5401a6(0x90d)](_0x415fe5,_0x51e460);}[_0x3eb455(0x791)](_0x37cfdc){const _0x449223=_0x3eb455;if(!this[_0x449223(0x5e1)]['has'](_0x37cfdc))return;const _0x190ad4=this['joinedClusters'][_0x449223(0x1d7)](_0x37cfdc);_0x190ad4&&_0x190ad4(),this['joinedClusters'][_0x449223(0xaa3)](_0x37cfdc);}}class _0x4664f4{[_0x3eb455(0x2df)];[_0x3eb455(0x383)];constructor(_0xf514b8){const _0x482a39=_0x3eb455;this[_0x482a39(0x2df)]=_0xf514b8;}async[_0x3eb455(0x595)](_0x16e7ba){const _0x237e88=_0x3eb455,_0x5f47ae=await(0x0,_0x1c8bf5[_0x237e88(0x61f)])(_0x418361['getFunctions'](),'sdkCreateToken')({'uid':'ccc'+this['vendorId']+_0x237e88(0x6cd)+_0x16e7ba['id']}),_0x1a636a=await(0x0,_0x32348b['signInWithCustomToken'])(_0x418361[_0x237e88(0x9e7)](),_0x5f47ae['data']['token']);this['user']=_0x1a636a['user'];}async[_0x3eb455(0x4df)](){const _0x5e960c=_0x3eb455;await(0x0,_0x32348b['signOut'])(_0x418361[_0x5e960c(0x9e7)]());}[_0x3eb455(0x4da)](){const _0x352846=_0x3eb455;return this[_0x352846(0x383)]?.[_0x352846(0x4da)]()??Promise[_0x352846(0x59f)](_0x352846(0x987));}}class _0x140510{static [_0x3eb455(0x6f1)];[_0x3eb455(0x9d4)]=[];constructor(){}static['getInstance'](){const _0x2596ff=_0x3eb455;return _0x140510[_0x2596ff(0x6f1)]||(_0x140510[_0x2596ff(0x6f1)]=new _0x140510()),_0x140510[_0x2596ff(0x6f1)];}['initialize'](){const _0x358622=_0x3eb455;this[_0x358622(0x85f)](),this['checkMediaStream'](),this['checkScreenSharing'](),this[_0x358622(0xa97)](),this[_0x358622(0x931)](),this['checkAudioOutput'](),this[_0x358622(0x338)](),this[_0x358622(0x5d2)](),this[_0x358622(0x351)](),this[_0x358622(0x994)](),_0x2c9fd4[_0x358622(0x2f3)](_0x51c80b['Support'],_0x358622(0xa6c),{'featureSupport':this[_0x358622(0x9d4)]});}[_0x3eb455(0x6d6)](_0x271a4b){const _0x3b7070=_0x3eb455,_0x3d1894=this[_0x3b7070(0x9d4)][_0x3b7070(0xa41)](_0x4558cb=>_0x4558cb[_0x3b7070(0x807)]===_0x271a4b);return!!_0x3d1894&&_0x3d1894[_0x3b7070(0x27b)];}['logSupport'](_0x1aebe0){const _0x373792=_0x3eb455;_0x2c9fd4[_0x373792(0x95c)](_0x373792(0x8c3),{'nodeId':_0x1aebe0[_0x373792(0x777)](),'nodeType':_0x1aebe0[_0x373792(0x6d8)],'data':{'featureSupport':this[_0x373792(0x9d4)]}});}[_0x3eb455(0x85f)](){const _0x2a006f=_0x3eb455,_0x15512c=_0x3136ae[_0x2a006f(0xa80)];let _0x1f66c8=!0x1;_0x2a006f(0x973)==typeof RTCPeerConnection&&_0x2a006f(0x973)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x1f66c8=!0x0:_0x2c9fd4[_0x2a006f(0x2f3)](_0x51c80b['Support'],_0x2a006f(0x8d3)+_0x15512c+_0x2a006f(0x450)),this['featureSupport'][_0x2a006f(0x69a)]({'name':_0x15512c,'supported':_0x1f66c8});}[_0x3eb455(0x426)](){const _0x5bb0fa=_0x3eb455,_0xeb4fb0=_0x3136ae[_0x5bb0fa(0x92c)];let _0x48f4a4=!0x1;'function'==typeof MediaStream&&_0x5bb0fa(0x973)==typeof MediaStreamTrack&&_0x5bb0fa(0x1d4)==typeof navigator&&'object'==typeof navigator[_0x5bb0fa(0x398)]&&_0x5bb0fa(0x973)==typeof navigator['mediaDevices'][_0x5bb0fa(0x723)]?_0x48f4a4=!0x0:_0x2c9fd4[_0x5bb0fa(0x2f3)](_0x51c80b[_0x5bb0fa(0x9b6)],'Support:\x20'+_0xeb4fb0+_0x5bb0fa(0x450)),this[_0x5bb0fa(0x9d4)][_0x5bb0fa(0x69a)]({'name':_0xeb4fb0,'supported':_0x48f4a4});}[_0x3eb455(0x666)](){const _0x5bf7b2=_0x3eb455,_0x137968=_0x3136ae['ScreenSharing'];let _0x2a1ded=!0x1;_0x5bf7b2(0x1d4)==typeof navigator&&'object'==typeof navigator[_0x5bf7b2(0x398)]&&_0x5bf7b2(0x973)==typeof navigator[_0x5bf7b2(0x398)]['getDisplayMedia']?_0x2a1ded=!0x0:_0x2c9fd4[_0x5bf7b2(0x2f3)](_0x51c80b[_0x5bf7b2(0x9b6)],_0x5bf7b2(0x8d3)+_0x137968+'\x20not\x20supported'),this[_0x5bf7b2(0x9d4)]['push']({'name':_0x137968,'supported':_0x2a1ded});}[_0x3eb455(0xa97)](){const _0x5316d9=_0x3eb455,_0x59078a=_0x3136ae['AudioVolume'];let _0x345e7d=!0x1;_0x5316d9(0x973)!=typeof AudioContext||_0x5316d9(0x973)!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x2c9fd4[_0x5316d9(0x2f3)](_0x51c80b[_0x5316d9(0x9b6)],'Support:\x20'+_0x59078a+'\x20not\x20supported'):_0x345e7d=!0x0,this[_0x5316d9(0x9d4)][_0x5316d9(0x69a)]({'name':_0x59078a,'supported':_0x345e7d});}[_0x3eb455(0x931)](){const _0x53ac0d=_0x3eb455,_0x383022=_0x3136ae[_0x53ac0d(0x5e0)];let _0x34f267=!0x1;_0x53ac0d(0x1d4)==typeof navigator&&_0x53ac0d(0x1d4)==typeof navigator[_0x53ac0d(0x398)]&&'function'==typeof navigator['mediaDevices'][_0x53ac0d(0x3df)]&&_0x53ac0d(0x973)==typeof MediaDeviceInfo?_0x34f267=!0x0:_0x2c9fd4[_0x53ac0d(0x2f3)](_0x51c80b['Support'],_0x53ac0d(0x8d3)+_0x383022+'\x20not\x20supported'),this[_0x53ac0d(0x9d4)][_0x53ac0d(0x69a)]({'name':_0x383022,'supported':_0x34f267});}['checkAudioOutput'](){const _0x54155e=_0x3eb455,_0x9c4fc7=_0x3136ae[_0x54155e(0x3fa)];let _0x1dac4f=!0x1;'object'==typeof document&&_0x54155e(0x973)==typeof document[_0x54155e(0xa3a)](_0x54155e(0x2e1))['setSinkId']?_0x1dac4f=!0x0:_0x2c9fd4[_0x54155e(0x2f3)](_0x51c80b[_0x54155e(0x9b6)],'Support:\x20'+_0x9c4fc7+_0x54155e(0x450)),this['featureSupport'][_0x54155e(0x69a)]({'name':_0x9c4fc7,'supported':_0x1dac4f});}async[_0x3eb455(0x338)](){const _0x36e334=_0x3eb455,_0x315e72=_0x3136ae[_0x36e334(0x6b7)];let _0x3a4470=!0x1;try{const _0x17365b=document['createElement']('canvas');if(MediaRecorder&&MediaSource&&_0x17365b['captureStream']){const _0x108ecb=_0x17365b[_0x36e334(0x322)](),_0xa4b006=new MediaRecorder(_0x108ecb);_0xa4b006['start'](),await new Promise(_0x3e31e3=>setTimeout(_0x3e31e3,0x7d0)),_0xa4b006[_0x36e334(0x558)](),_0x3a4470=_0x36e334(0x9f9)===_0xa4b006[_0x36e334(0x9a4)];}}catch(_0x3eb0e6){_0x2c9fd4[_0x36e334(0x2f3)](_0x51c80b[_0x36e334(0x9b6)],_0x36e334(0x8d3)+_0x315e72+'\x20check\x20failed',_0x3eb0e6);}this['featureSupport'][_0x36e334(0x69a)]({'name':_0x315e72,'supported':_0x3a4470}),_0x3a4470||_0x2c9fd4[_0x36e334(0x2f3)](_0x51c80b[_0x36e334(0x9b6)],_0x36e334(0x8d3)+_0x315e72+_0x36e334(0x450));}[_0x3eb455(0x5d2)](){const _0x19b3c2=_0x3eb455,_0x257767=_0x3136ae[_0x19b3c2(0x55a)];let _0x5397bd=!0x1;try{document[_0x19b3c2(0xa3a)]('canvas')['captureStream']&&(_0x5397bd=!0x0);}catch(_0x20415a){_0x2c9fd4[_0x19b3c2(0x2f3)](_0x51c80b[_0x19b3c2(0x9b6)],_0x19b3c2(0x8d3)+_0x257767+_0x19b3c2(0x4b5),_0x20415a);}this[_0x19b3c2(0x9d4)][_0x19b3c2(0x69a)]({'name':_0x257767,'supported':_0x5397bd}),_0x5397bd||_0x2c9fd4[_0x19b3c2(0x2f3)](_0x51c80b['Support'],'Support:\x20'+_0x257767+_0x19b3c2(0x450));}[_0x3eb455(0x351)](){const _0x365083=_0x3eb455,_0xe55eac=_0x3136ae[_0x365083(0xa30)];let _0x16ef35=!0x1;try{const _0x132dd6=document['createElement'](_0x365083(0x41d));WebGLRenderingContext&&_0x132dd6['getContext']('webgl')&&(_0x16ef35=!0x0);}catch(_0x53140b){_0x2c9fd4[_0x365083(0x2f3)](_0x51c80b[_0x365083(0x9b6)],'Support:\x20'+_0xe55eac+_0x365083(0x4b5),_0x53140b);}this[_0x365083(0x9d4)][_0x365083(0x69a)]({'name':_0xe55eac,'supported':_0x16ef35}),_0x16ef35||_0x2c9fd4['log'](_0x51c80b['Support'],_0x365083(0x8d3)+_0xe55eac+_0x365083(0x450));}[_0x3eb455(0x994)](){const _0x11a41c=_0x3eb455,_0x555bc4=_0x3136ae['AudioContext'];let _0x5d4730=!0x1;_0x11a41c(0x973)==typeof AudioContext?_0x5d4730=!0x0:_0x2c9fd4[_0x11a41c(0x2f3)](_0x51c80b[_0x11a41c(0x9b6)],'Support:\x20'+_0x555bc4+_0x11a41c(0x450)),this[_0x11a41c(0x9d4)][_0x11a41c(0x69a)]({'name':_0x555bc4,'supported':_0x5d4730});}}const _0x18f799=_0x140510[_0x3eb455(0x5d6)]();class _0x48e646{static ['instance'];static [_0x3eb455(0x421)];static [_0x3eb455(0x890)];[_0x3eb455(0x8a1)];['vendorId'];[_0x3eb455(0x7b5)];['configs'];['clusters']=new Map();['authContext'];constructor(_0x3c6966,_0x115e26,_0xd04b7e){const _0x163b23=_0x3eb455;this[_0x163b23(0x2df)]=_0x3c6966,this[_0x163b23(0x399)]=_0x115e26,this[_0x163b23(0x8a1)]=new _0x4664f4(this['vendorId']),_0x18f799['initialize'](),this[_0x163b23(0x7b5)]={'audioContext':_0xd04b7e?.[_0x163b23(0x91b)]??(_0x18f799[_0x163b23(0x6d6)](_0x3136ae[_0x163b23(0x204)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0xd04b7e?.[_0x163b23(0xa32)]??0x1,'minConnections':_0xd04b7e?.[_0x163b23(0x962)]??0x3,'maxConnections':_0xd04b7e?.['maxConnections']??(_0xd04b7e?.[_0x163b23(0x962)]&&0x4*_0xd04b7e[_0x163b23(0x962)])??0xc,'maxDistance':_0xd04b7e?.[_0x163b23(0x2eb)]??0xa,'maxFps':_0xd04b7e?.[_0x163b23(0x8d4)]??0x18,'maxBpp':_0xd04b7e?.[_0x163b23(0x60a)]??0.12,'objectStoreConnector':_0xd04b7e?.[_0x163b23(0x2b4)]??_0x198e17[_0x163b23(0x95d)],'externalStorageConnectors':_0xd04b7e?.[_0x163b23(0x270)],'keyValueDatabaseConnector':_0xd04b7e?.[_0x163b23(0x771)]??_0x3f85a1[_0x163b23(0x7b9)],'loggingDatabaseConnector':_0xd04b7e?.[_0x163b23(0x9e5)]??_0x3f85a1[_0x163b23(0x7b9)],'peerConnectionConnector':_0xd04b7e?.[_0x163b23(0x657)]??_0x2d3829[_0x163b23(0x5c8)],'generativeAIWorkerConnectors':_0xd04b7e?.[_0x163b23(0x20c)],'vectorDatabaseConnector':_0xd04b7e?.[_0x163b23(0x8b8)],'graphDatabaseConnector':_0xd04b7e?.[_0x163b23(0x277)],'documentParserConnector':_0xd04b7e?.[_0x163b23(0x696)],'nlpLibraryConnector':_0xd04b7e?.[_0x163b23(0x5a6)],'searchConnector':_0xd04b7e?.[_0x163b23(0xad7)]},_0xd04b7e?.[_0x163b23(0x3c9)]&&this[_0x163b23(0x7b5)]['audioContext']&&_0x4dd2fb[_0x163b23(0x3e3)](this['options'][_0x163b23(0x91b)]),_0x2c9fd4[_0x163b23(0x488)](this[_0x163b23(0x2df)]),_0xd04b7e?.[_0x163b23(0x80a)]&&_0x2c9fd4[_0x163b23(0x7d8)](_0xd04b7e[_0x163b23(0x80a)]);}static async[_0x3eb455(0x5d6)](_0x3d51dc,_0x3623f2,_0x2d55c3,_0x58dba4,_0x501feb){const _0x2e5833=_0x3eb455;this[_0x2e5833(0x890)]=_0x2d55c3;const _0x401905=await this['validateAccess'](_0x3d51dc,_0x3623f2,_0x501feb);return _0x48e646[_0x2e5833(0x6f1)]||(_0x48e646[_0x2e5833(0x6f1)]=new _0x48e646(_0x3d51dc,_0x401905,_0x58dba4)),{'close':_0x48e646['instance']['close'][_0x2e5833(0x64d)](_0x48e646[_0x2e5833(0x6f1)]),'authenticateUser':_0x48e646['instance'][_0x2e5833(0x4dc)][_0x2e5833(0x64d)](_0x48e646[_0x2e5833(0x6f1)]),'authenticateAgent':_0x48e646[_0x2e5833(0x6f1)][_0x2e5833(0x703)][_0x2e5833(0x64d)](_0x48e646['instance']),'joinCluster':_0x48e646[_0x2e5833(0x6f1)][_0x2e5833(0x80c)][_0x2e5833(0x64d)](_0x48e646[_0x2e5833(0x6f1)])};}static async[_0x3eb455(0x373)](){const _0xaeb5f2=_0x3eb455;return _0x418361[_0xaeb5f2(0xac8)]();}static['isProduction'](){return _0x507edf['isProduction'];}async[_0x3eb455(0x579)](_0x26e1ec){const _0x29709d=_0x3eb455;this[_0x29709d(0x71c)][_0x29709d(0x9d2)](_0x9d54bf=>{const _0x2833c3=_0x29709d;_0x9d54bf[_0x2833c3(0x3de)](),_0x9d54bf[_0x2833c3(0x72b)](_0x26e1ec);}),this[_0x29709d(0x71c)][_0x29709d(0xa0e)](),this[_0x29709d(0x7b5)][_0x29709d(0x91b)]&&_0x4dd2fb[_0x29709d(0x42d)](),_0x48e646[_0x29709d(0x421)]?.(),_0x48e646[_0x29709d(0x421)]=void 0x0,this[_0x29709d(0x76c)]=void 0x0,await this[_0x29709d(0x8a1)]['signOut'](),_0x48e646[_0x29709d(0x6f1)]=void 0x0;}static async['validateAccess'](_0x4c9d40,_0x33c223,_0x5595bd){const _0x36ecaf=_0x3eb455;if(!this[_0x36ecaf(0x890)])throw new _0x5669b1(_0x3ed137[_0x36ecaf(0x38b)],'Node\x20type\x20is\x20required');let _0x2811ca;try{_0x2811ca=await(0x0,_0x1c8bf5[_0x36ecaf(0x61f)])(_0x418361[_0x36ecaf(0x457)](),_0x36ecaf(0x2d1))({'vendorId':_0x4c9d40,'accessToken':_0x33c223,'secretKey':_0x5595bd});}catch(_0x41b47f){throw new _0x5669b1(_0x3ed137['InvalidAccess'],'Invalid\x20credentials');}if(!this['isInternalSDKConfigs'](_0x2811ca['data']))throw new _0x5669b1(_0x3ed137[_0x36ecaf(0x5df)],_0x36ecaf(0x531));const _0x44bf91=_0x2811ca[_0x36ecaf(0x7b8)];return _0x44bf91[_0x36ecaf(0x2fc)]||(_0x44bf91['features']=[]),this[_0x36ecaf(0x421)]||(this['unsubscribe']=_0x4dd2fb[_0x36ecaf(0x409)](async()=>{const _0x1e886c=_0x36ecaf;try{const _0x22af96=await this['validateAccess'](_0x4c9d40,_0x33c223,_0x5595bd);this[_0x1e886c(0x890)]===_0x4d2150[_0x1e886c(0x28b)]['Agent']&&(_0x22af96[_0x1e886c(0x2c6)]=_0x22af96['iceServers'][_0x1e886c(0x638)](_0x48928a=>_0x48928a[_0x1e886c(0x263)][_0x1e886c(0x5fb)](_0x1e886c(0x91d)))),_0x44bf91[_0x1e886c(0x2c6)]=_0x22af96[_0x1e886c(0x2c6)];}catch(_0x2cd686){}},0x1b7740)),_0x44bf91;}async['authenticateUser'](_0x28c46d){const _0x43b490=_0x3eb455;if(_0x48e646[_0x43b490(0x890)]!==_0x4d2150[_0x43b490(0x28b)][_0x43b490(0x5e5)])throw new _0x5669b1(_0x3ed137[_0x43b490(0x5ed)],_0x43b490(0x472));await this['authService'][_0x43b490(0x595)](_0x28c46d);const _0x57c350=new _0x233a10(_0x28c46d['id'],_0x28c46d[_0x43b490(0x8c8)],_0x28c46d[_0x43b490(0x776)]);return this[_0x43b490(0x76c)]={'node':_0x57c350},_0x18f799[_0x43b490(0x544)](_0x57c350),{'type':_0x4d2150[_0x43b490(0x28b)]['User'],'getId':_0x57c350[_0x43b490(0x777)][_0x43b490(0x64d)](_0x57c350),'getDisplayName':_0x57c350[_0x43b490(0xa8f)][_0x43b490(0x64d)](_0x57c350),'getEmail':_0x57c350[_0x43b490(0x248)][_0x43b490(0x64d)](_0x57c350),'setDisplayName':_0x57c350[_0x43b490(0x9fc)][_0x43b490(0x64d)](_0x57c350),'setEmail':_0x57c350[_0x43b490(0xa5a)][_0x43b490(0x64d)](_0x57c350)};}async[_0x3eb455(0x703)](_0xe32104){const _0x580d8f=_0x3eb455;if(_0x48e646[_0x580d8f(0x890)]!==_0x4d2150[_0x580d8f(0x28b)][_0x580d8f(0x1b8)])throw new _0x5669b1(_0x3ed137['NodeInvalidType'],_0x580d8f(0x472));const {id:_0x5d48b7,groupId:_0x5b0049}=_0xe32104,_0x2ef7aa=await(0x0,_0x1a96a4[_0x580d8f(0x725)])((0x0,_0x1a96a4['doc'])(_0x418361[_0x580d8f(0x9e1)](),_0x580d8f(0x6c6)+this[_0x580d8f(0x2df)]+_0x580d8f(0x4c3)+_0x5b0049));if(!_0x2ef7aa[_0x580d8f(0x80f)]())throw new _0x5669b1(_0x3ed137[_0x580d8f(0x9b8)],_0x580d8f(0x7c0));const _0x2397a9=_0x2ef7aa[_0x580d8f(0x7b8)]();await this['authService'][_0x580d8f(0x595)]({'id':_0x5d48b7});const _0xd481f7=new _0x565657(_0x5d48b7,_0x5b0049,this[_0x580d8f(0x2df)],_0x2397a9);return this[_0x580d8f(0x76c)]={'node':_0xd481f7},_0x18f799[_0x580d8f(0x544)](_0xd481f7),await this['connectAgent'](_0xd481f7),{'type':_0x4d2150[_0x580d8f(0x28b)][_0x580d8f(0x1b8)],'getId':_0xd481f7[_0x580d8f(0x777)][_0x580d8f(0x64d)](_0xd481f7),'onConfigurationChange':_0xd481f7[_0x580d8f(0x774)]['bind'](_0xd481f7),'setReportCapacity':_0xd481f7[_0x580d8f(0x834)]['bind'](_0xd481f7)};}async['joinCluster'](_0x13317b){const _0x43f727=_0x3eb455;if(!this[_0x43f727(0x76c)])throw new _0x5669b1(_0x3ed137['NodeNotAuthenticated'],_0x43f727(0x5c5));if(this['authContext']['node'][_0x43f727(0x6d8)]!==_0x4d2150[_0x43f727(0x28b)]['User'])throw new _0x5669b1(_0x3ed137[_0x43f727(0x321)],_0x43f727(0x2c5));if(this[_0x43f727(0x71c)][_0x43f727(0x8c7)](_0x13317b))throw new _0x5669b1(_0x3ed137[_0x43f727(0x96a)],_0x43f727(0x835));const _0x3b6ed2=new _0x3f6758(this[_0x43f727(0x2df)],_0x13317b,this[_0x43f727(0x76c)][_0x43f727(0x381)],this[_0x43f727(0x8a1)],this[_0x43f727(0x7b5)],this['configs']);return await _0x3b6ed2['join'](),this[_0x43f727(0x9e8)](_0x13317b,_0x3b6ed2),_0x2c9fd4['logEvent'](_0x43f727(0x62d),{'clusterId':_0x13317b,'nodeId':this['authContext'][_0x43f727(0x381)][_0x43f727(0x777)](),'nodeType':this[_0x43f727(0x76c)][_0x43f727(0x381)][_0x43f727(0x6d8)]}),{'leave':_0x3b6ed2[_0x43f727(0x72b)][_0x43f727(0x64d)](_0x3b6ed2),'getLocalNode':_0x3b6ed2[_0x43f727(0x36f)][_0x43f727(0x64d)](_0x3b6ed2),'openPubSubTopic':_0x3b6ed2[_0x43f727(0x5b4)][_0x43f727(0x64d)](_0x3b6ed2),'openObjectStoreBucket':_0x3b6ed2[_0x43f727(0x2cc)][_0x43f727(0x64d)](_0x3b6ed2),'openExternalStorageConnection':_0x3b6ed2[_0x43f727(0x4f8)]['bind'](_0x3b6ed2),'openKeyValueDatabase':_0x3b6ed2['openKeyValueDatabase'][_0x43f727(0x64d)](_0x3b6ed2),'openGenerativeAIContext':_0x3b6ed2[_0x43f727(0x837)][_0x43f727(0x64d)](_0x3b6ed2),'openGenerativeAIWorker':_0x3b6ed2[_0x43f727(0x28f)][_0x43f727(0x64d)](_0x3b6ed2),'openGraphDatabase':_0x3b6ed2[_0x43f727(0x8c2)][_0x43f727(0x64d)](_0x3b6ed2),'openVectorDatabase':_0x3b6ed2[_0x43f727(0x9fd)][_0x43f727(0x64d)](_0x3b6ed2),'publishLocalMediaStream':_0x3b6ed2[_0x43f727(0x96f)][_0x43f727(0x64d)](_0x3b6ed2),'publishLocalDynamicMediaStream':_0x3b6ed2['publishLocalDynamicMediaStream'][_0x43f727(0x64d)](_0x3b6ed2),'getPubSubTopics':_0x3b6ed2['getPubSubTopics'][_0x43f727(0x64d)](_0x3b6ed2),'getObjectStoreBuckets':_0x3b6ed2['getObjectStoreBuckets'][_0x43f727(0x64d)](_0x3b6ed2),'getExternalStorageConnections':_0x3b6ed2[_0x43f727(0x424)][_0x43f727(0x64d)](_0x3b6ed2),'getKeyValueDatabases':_0x3b6ed2[_0x43f727(0x8a7)][_0x43f727(0x64d)](_0x3b6ed2),'getGenerativeAIContexts':_0x3b6ed2['getGenerativeAIContexts'][_0x43f727(0x64d)](_0x3b6ed2),'getGenerativeAIWorkers':_0x3b6ed2[_0x43f727(0x4cc)]['bind'](_0x3b6ed2),'getGraphDatabases':_0x3b6ed2[_0x43f727(0x9b0)][_0x43f727(0x64d)](_0x3b6ed2),'getVectorDatabases':_0x3b6ed2['getVectorDatabases']['bind'](_0x3b6ed2),'getLocalMediaStreams':_0x3b6ed2[_0x43f727(0x70e)]['bind'](_0x3b6ed2),'getRemoteMediaStreams':_0x3b6ed2[_0x43f727(0x359)][_0x43f727(0x64d)](_0x3b6ed2),'getRemoteNodes':_0x3b6ed2[_0x43f727(0x436)][_0x43f727(0x64d)](_0x3b6ed2),'on':_0x3b6ed2['on']['bind'](_0x3b6ed2),'off':_0x3b6ed2[_0x43f727(0x3de)]['bind'](_0x3b6ed2)};}async[_0x3eb455(0x7dd)](_0x1453e8){const _0x270a98=_0x3eb455;for(const _0x182a5e of _0x1453e8[_0x270a98(0x1f4)][_0x270a98(0x71c)]){const _0x1ead87=new _0x3f6758(this[_0x270a98(0x2df)],_0x182a5e['id'],_0x1453e8,this['authService'],this[_0x270a98(0x7b5)],this[_0x270a98(0x399)]);await _0x1ead87[_0x270a98(0x220)](),this[_0x270a98(0x9e8)](_0x182a5e['id'],_0x1ead87);for(const _0x493706 of _0x182a5e['pubSubTopics']??[])_0x1ead87[_0x270a98(0x5b4)](_0x493706);for(const _0x4f3e2d of _0x182a5e[_0x270a98(0x35a)]??[])await _0x1ead87[_0x270a98(0x2cc)](_0x4f3e2d);for(const _0x26d9b2 of _0x182a5e[_0x270a98(0x3ef)]??[]){const _0x5d0d80=_0x26d9b2[_0x270a98(0x979)]('-');await _0x1ead87['openExternalStorageConnection'](_0x5d0d80[0x1],_0x5d0d80[0x0]);}for(const _0x502590 of _0x182a5e['keyValueDatabases']??[])await _0x1ead87[_0x270a98(0x1d1)](_0x502590,{'version':0x1,'tables':{}});for(const _0x246a7c of _0x182a5e[_0x270a98(0x83b)]??[])_0x1ead87[_0x270a98(0x8c2)](_0x246a7c);for(const _0x2b93ab of _0x182a5e[_0x270a98(0x898)]??[])_0x1ead87[_0x270a98(0x9fd)](_0x2b93ab);for(const _0x47c2b8 of _0x182a5e[_0x270a98(0x709)]??[]){const _0x2f237b=_0x2dd7de(this[_0x270a98(0x2df)],_0x47c2b8),_0x546b85=_0x17a892(),_0x545aad=this['options'][_0x270a98(0x9e5)]??this[_0x270a98(0x7b5)][_0x270a98(0x771)];await _0x1ead87['openKeyValueDatabase'](_0x2f237b,_0x546b85,_0x545aad),await _0x1ead87[_0x270a98(0x28f)](_0x47c2b8);}}}[_0x3eb455(0x9e8)](_0x425a35,_0x15dddd){const _0x18b291=_0x3eb455;this[_0x18b291(0x71c)][_0x18b291(0x90d)](_0x425a35,_0x15dddd),_0x15dddd['on'](_0x18b291(0x482),()=>{const _0x2acc01=_0x18b291;_0x15dddd[_0x2acc01(0x3de)](),this['clusters'][_0x2acc01(0xaa3)](_0x425a35);});}static[_0x3eb455(0x219)](_0x7344c1){const _0x17b137=_0x3eb455;return void 0x0!==_0x7344c1[_0x17b137(0x2c6)];}}return _0x4421e7;})())));function a0_0x12d8(_0x50a0cd,_0x416374){const _0x68a3b4=a0_0x68a3();return a0_0x12d8=function(_0x12d88e,_0x53e9a4){_0x12d88e=_0x12d88e-0x1a9;let _0x37f725=_0x68a3b4[_0x12d88e];return _0x37f725;},a0_0x12d8(_0x50a0cd,_0x416374);}function a0_0x68a3(){const _0x557c15=['endpointMethod','PubSubTopicNameNotString','removeIncomingSubscription','collectReceiversStats','\x20does\x20not\x20exists','statsCollection','Agent\x20output\x20is\x20not\x20a\x20string','getReport','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','tracks','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','Receiver\x20connection\x20is\x20not\x20initialized.','outputType','resolveReady','startLoggingCycle','getTable','unsubscribeTrackEndedListener','handshakeCandidates','splice','detectVideoIssues','st_volatility','table','shouldProcessTransaction','Workflow\x20not\x20initialized','setUpgradeTimeout','addTrack','frames','topics','set','connectionPool','restartTimeout','Error','Vector','Consuming\x20buffered\x20event','page','createDataChannel','api','\x20answer','undefined','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','removeExternalStorageConnection','tableObserver','audioContext','setRank','stun:','Rejected\x20answer','senderTimeProcessing','@root','addReservedTables','Job\x20','firestore','nodeId','isIceCandidate','Processing\x20agent\x20block:\x20','documentPath','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','ObjectStore\x20not\x20found','Stats','processReport','MediaStream','handleMissingSenders','Table\x20not\x20found','reduce','Early\x20return:\x20','checkDeviceConfig','parseWorkflowDocument','pubsub','then','crewdleSDKDisableLogging','recomputeRoot','Knowledge','signalingServer','waitConnected','debounceAppendLog','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','STVolatility','keyPath','distance','transaction','unregisterPublisherListener','PromptFunctionParamsType','\x0a\x20===\x20Total\x20Data\x20Received:\x20','pendingFilesTransactions','params','generative-ai-label-conflict','Data','sourceId','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','node-type-not-supported','Key-Value\x20Database\x20-\x20Sync\x20Completed','.info/connected','scheduleTime','subscription','resizeHandler','Job\x20with\x20id\x20','Model\x20not\x20found:\x20','results','RemoteRemove','timeoutValue','createReceiverConnection','indexes','clearHeartbeat','toString','msalRefreshToken','GraphDatabaseAlreadyExists','Sender\x20connection\x20is\x20not\x20initialized.','next','logEvent','OPFSObjectStoreConnector','StorageEventType','searchInDataCollection','Error\x20executing\x20code','getTransactionByHash','minConnections','unsubscribeHandler','setupConnectionEvents','parseDataCollectionBlocks','setBytes','entity-extractor','pendingHandshakeCandidates','Jobs','ClusterAlreadyJoined','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','GenerativeAIWorker:\x20Opened','Internal\x20event\x20\x27','GenerativeAIWorkerCreationFailed','publishLocalMediaStream','setupResizeHandler','peer-connection-invalid-destination','handleOnMessage','function','index','setupListeners','setTransformations','connectorConstructor','unregisterPublisher','split','Node','prompts','getTotalBytes','.ex','commitType','FetchUrl','Job\x20Dispatcher\x20does\x20not\x20exist','outgoingStreams','clientHeight','totalDecodeTime','retryQueue','NodeLeave','internalRatePrompt','User\x20not\x20signed\x20in','bodyParameters','/resources/generative-ai-collection/items','Job\x20Worker\x20does\x20not\x20exist','GenerativeAIContextJobFailed','PromptRating','Error\x20loading\x20external\x20content','getWorkflowExternalStorageConnections','minResolutionScale','chunksReceived','getRoundTripTime','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','count','checkAudioContext','LocalMediaStreamNoAudioContext','key-value-database-transaction-value-not-set','handleSubscriptionProvideMediaStream','waitForArrayBufferSize','ObjectKind','Synced','node-invalid-type','getLocalId','getConnectionDestinations','https://crewdle-sdk-default-rtdb.firebaseio.com','getEngineType','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','handleCloseContent','onDataChannel','getOutgoingOptimizationConnections','state','ContentType','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','JobWorkerInvalidType','destinationIds','Debug','createGenerativeAIWorker','Stream\x20does\x20not\x20exist','clusterId','Low','Reranker','rootComputationPromise','getGraphDatabases','object-store-cannot-write-transaction','generative-ai-context-job-failed','connectionConstructor','isRunning','onHandshakeStateChange','Support','KeyValueDatabase\x20-\x20Sync\x20completed','NodeNotAuthenticated','transactionsToAppend','Rating','openTrace','removeListener','getAvailableTrackKinds','sender-send-message','registerCluster','handleHandshake','ConnectionNoRetryQueue','onChildRemoved','IncomingSubscription','Channel\x20\x27','globalObject','keys','dataChannel','manageAncestor','unpublish','sendRequest','handleOptimizationConnectionSuccess','\x20received\x20partial\x20result:','job-worker-creation-failed','KeyValueDatabaseSyncRequired','Online','syncKeyValueDatabase','Bitrate','forEach','vector-database-missing-connector','featureSupport','Query\x20is\x20required','setupRenderElement','setScheduleTime','onNodeUpdate','getOrResetPendingFileTimeout','senderCurrentTimestamp','Remove','byteLength','currentBatch','sendIceCandidates','subscribeToExternalContent','skill','getFirestore','getSupportedContentTypes','Transaction','KeyValueDatabaseInvalidValue','loggingDatabaseConnector','Handshake','getAuth','addCluster','handleNodeJoinNeedPublishedStream','loadEnabledChannels','noun','getQuery','attributes','PayloadAction','keyValueDatabases','optimizationLayers','job-dispatcher-invalid-payload','InternalSDKError','image','shouldContinuePropagation','download','graphService','JobWorker:\x20Received\x20job','versions','inactive','setParams','Medium','setDisplayName','openVectorDatabase','messagesSent','externalStorages','remainingTracks','handleSubscriptionSubscribeMediaStream','isArray','logBatch','findIndex','handshakeState','420235181083','trackListeners','createConstantSource','addRemoteNode','transactionTable','completed','Memory\x20Usage\x20at\x20','lastCapacityReport','clear','createVectorDatabase','PubSubTopicAlreadySubscribed','\x20received\x20responses:','KeyValueDatabaseIndexNotFound','tokens','bandwidth.rtt','createRemoteMediaStream','transformations','Connection\x20not\x20connected.','isBidResponse','resolutionScale','fileSendingMap','rating','listener','Incoming','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','processTransactionPayload','createConnection','concat','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','contextOutputVariable','Sender','/transactions/','InvalidSubscription','stats','setupStatsReporting','handleNeedRestart','Prompt\x20is\x20required','framesDecoded','Connected','setDoc','pub-sub-topic-already-exists','processOutboundReports','WebGL','setStatus','maxOutgoingSubscriptions','Update','transactions','groupId','subscribedTracks','\x20sending\x20attempt\x20','onConnectionStateChange','localId','createElement','pool','timeSending','onMessage','\x0a\x20===\x20Synchronization\x20Time:\x20','getCurrentMaxLayer','agent-join','find','GraphDatabaseMissingConnector','Get','URL\x20is\x20required','subject','topicLabel','timePerFrame','JobDispatcherAlreadyExists','generative-ai-worker-creation-failed','handleFileRequest','NodeDoesNotExist','Sending\x20\x27','getIsLoaded','setSenderTimestamp','Key-value\x20database\x20peak\x20not\x20found.','Restart','issue','messages','layout','forceLog','discover','StreamReport','oncloseTimeout','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','getNextTargetRank','setEmail','tableLayout','setOnDisconnectHandler','transactionHashMap','collectTransactionsFromNode','ChunkSplitter','JobType','maxTokens','waitAsync','job-dispatcher-job-exists','bucketId','list','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','Relation','detectStreamIssues','systemMessagesReceived','now','subscriptionManager','Support:\x20current\x20config','query-helper-invalid-argument','accumulated','ObjectStorage','val','getCurrentVersion','user-update','Folder','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','getLastUpdated','messageBuffer','addPendingHandshakeCandidate','ObjectStoreAlreadyExists','receiverCurrentBytes','Received\x20','generative-ai-worker-missing-connector','createSenderConnection','PubSubTopicDoesNotExist','Context','abs','WebRTC','interval','bufferedAmount','getResolution','packetsLost','getDTVolatility','crewdle-sdk-stg.appspot.com','key-value-database-not-open','MediaStreamPriority','notifyClusterNodeUpdate','maxBitrate','handleContentUnpublishMediaStream','addContent','instructions','bid','getDisplayName','once','isFailedResponse','Job','Failed\x20to\x20commit\x20batch\x20after\x20retries:','component','size','maxConnections','checkAudioVolume','ObjectStore','objectStoreId','computeHash','absolutePathName','.ini','GenerativeAIContextJobTimeout','local-media-stream-already-exists','logDataReceived','orderByKey','Module','Received\x20content\x20available\x20from\x20node','delete','InvalidSubscriber','removeTopic','CloseVectorDatabase','debug','connection-buffer-not-empty','logLevel','\x20were\x20ready\x20in','Cluster','.bat','.php','framerate','\x20with\x20\x27','CPUCycle','getSkills','Count','.xml','node-not-authenticated','MistletCapacityReportNotSet','web-scraper','packets','operator','hashTransaction','setupStatsCollection','desc','OptimizationConnectionSuccess','statsManager','Invalid\x20key\x20\x27','maxFramerate','FolderDelete','Core','offset','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','accumulateResult','DataStream','exports','request','getEstimatedTimestamp','JobDispatcherJobExists','job-dispatcher-observer-not-found','processServiceReport','getName','bufferedEvents','isSyncing','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','Emitting\x20event\x20on\x20local\x20cluster','handleTransactionPayload','subscription-request-in-progress','Request','emit','handleStatsSystemEvents','Before\x20Synchronization','searchConnector','videoWidth','createRemoteNode','Failed\x20to\x20send\x20job\x20','disconnect','Node\x20\x27','Buffered\x20chunks\x20are\x20too\x20large','\x20attempts:','dbKey','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','waitSendBuffer','.crewdle-last-transaction','senderPreviousTimestamp','getCapacityReport','NodeManager\x20-\x20NodeUpdate','Syncing','handleFileSync','getEnabledChannels','key-value-database','subscription-request-does-not-exist','.go','ownerId','WebScraper','GraphDatabase','subscriptionRequestsQueue','Agent','RemoteMediaStreamDoesNotExist','canRestartHandshake','snippet','OutgoingMediaStreamNoTopic','handleError','ExternalStorageConnectionAlreadySubscribed','closeSubscription','vectors','Orchestrator\x20handleSystemEvents','contentSize','setProviderId','remediationManager','MissingSystemTopic','logger','createAIJob','getPeakNode','1:420235181083:web:4eff6062bd845cb0748cbe','gain','maxDepth','frameWidth','publishFolder','getRoot','pow','initializeApp','openKeyValueDatabase','chosenAnswers','object-store-invalid-path','object','processReceivedTransactions','jobWorkers','get','isWhereValues','capacityReporter','totalNodes','contentRect','ObjectStoreAlreadySubscribed','JobQueueService:\x20Error\x20running\x20job','Subscribing\x20to\x20an\x20event:\x20on','Error\x20searching','Invalid\x20params','connection-state','Text','onDisconnectHandler','doc','Logging\x20database\x20not\x20initialized','RestartNeedMediaStream','currentVersion','status','getTableConnector','createGraphDatabase','Code','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','update','Accepted','KeyValueDatabaseSendTransactions','SyncComplete','operations','Attribution','syncTransactions','agentConfig','Error\x20retrieving\x20context','asc','isSubscribed','RequestFileWrite','getWorkflowModels','registerRemoteNode','senderCurrentBytes','committed','8KDQmJZ','Valid\x20layout','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','senderPreviousBytes','renderElement','JobWorker:\x20Handling\x20job\x20attribution','Database\x20Opened','AudioContext','SyncKeyValueDatabase\x20-\x20Ancestors\x20','removeSubscription','where','JobContext','updateLastUpdated','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','sourceVideo','generativeAIWorkerConnectors','contentType','streams','Publish\x20the\x20transaction','.exs','content','remove','LocalReport','getAgents','PeerConnectionInvalidDestination','getMinConnections','handleAnswer','isConnected','isInternalSDKConfigs','Receiving\x20\x27','cpu.cycle','Invalid\x20object\x20store\x20sync\x20message.','calculateSize','JobDispatcherInvalidPayload','bufferedChunks','join','clearWaitSuccess','modelId','getConnections','jobDispatchers','ObjectStoreStats','buffer','Connection\x20not\x20initialized.','cost','Generative\x20AI\x20context\x20job\x20timeout.','ObjectStoreNotInSync','uid','startHeartbeat','File\x20sending\x20interrupted','client','/capacities','\x27\x20payload:','getShareableStreamId','.gguf','answerContentAvailable','startIndex','GenerativeAIContext\x20stream\x20error','handleOutgoingSystemEvents','Events','accessToken','isReconnecting','relevance','listen','ExternalStorageInvalidPath','PubSub','collection','discoveryUnsubscriber','AI\x20Worker\x20already\x20exists','agent','trim','connection-no-retry-queue','previousBytes','isValidMediaSubscriptionParams','crewdle-sdk.firebaseapp.com','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','getEmail','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','createAnswer','unregisterDestination','deleteObject','targetId','handleSystemEvents','Completed','cancel','total','Job\x20service\x20job\x20not\x20found.','content-unpublish-media','clearRestartTimeout','Receiver','createGenerativeAIContext','map','handleNodeLeave','readyDebounce','getWorkflowObjectStorageBuckets','modelName','/logs','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','Remote\x20MediaStream\x20already\x20exists','/resources/generative-ai-grammar/items','FileWrite','TestPage','SHA-1','urls','mediaTopics','getDataLogged','Logging\x20not\x20enabled\x20for\x20channel\x20','removeRemoteStreamSubscription','orchestrator-close','tableName','findNewMediaSubscription','\x27\x20reserved','Answer','disconnected','problemType','Jitter','externalStorageConnectors','senderStreams','destination','mediator','Invalid\x20node\x20type','receiverStreams','transactionsToSync','graphDatabaseConnector','createExternalStorageConnection','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','loadLocalContent','supported','validateQuery','processReceiverReport','engine','prototype','path','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','crewdle-sdk-logging-','Info','Entity','onBufferedAmountLow','external-storage-name-not-string','Hash\x20computation\x20failed,\x20retrying...','Problem\x20detected:\x20','VectorDatabase\x20not\x20found','Result','NodeType','startTime','registerDestination','waitSuccess','openGenerativeAIWorker','KeyValueDatabaseTableNotFound','getRemoteId','.crewdle-layout','batchTimeout','\x20failed.\x20Retrying...','detail','track','Method\x20not\x20supported','createObjectStoreBucket','time_per_frame','buildQuery','headers','move','key-value-database-already-exists','modelsBucketId','clusters/','167COKkmd','RemoteMediaStreamMissingProviderId','retryQueues','external-storage-connection-already-exists','JobWorkerDoesNotExist','SenderPeerConnection.send','web-scraper-raw','subtle','Data\x20Received','out','ExternalStorageConnectorsMissing','local-stream-does-not-exist','NeedMediaStream','batchQueue','removeLocalMediaStream','statusText','Number','ModelVector','readyPromises','getSize','objectStoreConnector','providerId','Error\x20resolving\x20readyPromises:','ExternalStorageNameNotString','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','GenerativeAIWorkerAlreadyExists','filteredDestinationIds','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','kind','Execute\x20skill\x20','\x0a\x20\x20===\x20Total\x20Nodes:\x20','Received\x20event\x20on\x20cluster','stream','Unsupported\x20job\x20type','Cannot\x20unpublish\x20object\x20at\x20','workflow-does-not-exist','logSyncMetrics','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','iceServers','GenerativeAIContextInvalidPartialResult','clusterKey','previousTimestamp',':\x20Object\x20store\x20is\x20not\x20in\x20sync','isMediaDestination','openObjectStoreBucket','getReceiverBitrate','Boolean','object-store-not-synced','slice','sdkValidateAccess','Disconnected','setCurrentVersion','\x20-\x20Sending\x20propagation\x20(','durationTime','round','generative-ai-context-invalid-partial-result','Invalid\x20object\x20store\x20state.','connections','GraphDatabaseNameNotString','addCandidate','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','object-storage','ObjectStoreDoesNotExist','vendorId','downloadDocument','video','errorDetails','unregisterSource','test-page','checkSyncComplete','bytesReceived','MediaStreamUnavailable','key-value-database-index-not-found','getOwnerId','mmr','maxDistance','Node\x20does\x20not\x20exist.','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','dataUnsubscribers','hash','canProvideResolution','logDataSent','batch','log','getTrack','Cannot\x20publish\x20move\x20operation:\x20','.vue','observer','deleteRemoteNode','Invalid\x20publisher.','appsync-connect-fail','isReady','features','connection','setIsLoaded','remoteUnsubscriber','asyncEndpointUrl','output','RetrieveTrace','propagate','\x20ms\x0a','createWritableStream','invalid-publisher','send','jobType','Vector\x20database\x20creation\x20failed.','createPubSubTopic','Error\x20closing\x20trace','ancestors','enabled','closeTrace','receiverUnsubscribers','Stream\x20already\x20exists','isWhereBetween','FolderMove','handleContentRemoteMediaStreamTrackFail','WebScraperRaw','getJobObservable','newPath','nodeKey','Workflow\x20does\x20not\x20exist.','connect','getConnectionType','getPeaks','job-','PubSub\x20already\x20exists','sampleRate','.yaml','runJobQueue','NodeTypeNotSupported','captureStream','syncPendingFiles','Model\x20not\x20found','342292blZlfW','toFixed','query','KeyValueDatabaseNameNotString','.jl','PubSubTopic\x20not\x20found','getAudioTracks','PeerConnection','writeBatch','firebase-connect','detectLocalIssues','ConnectionInvalidDataEvent','graph-database-creation-failed','outputTokens','getPartsFromSubscription','availableTrackKinds','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','collectSendersStats','Invalid\x20table\x20name\x20\x27','checkMediaRecording','onClose','muted','dataTopics','childRemovedUnsubscriber','setReceiverTimestamp','hasOwnProperty','width','JobWorker:\x20Sending\x20job\x20partial\x20result','handleContentUpdateMediaStream','loadFromDisk','Key-value\x20database\x20creation\x20failed.','FinalOutput','getVideoTracks','isResultResponse','processContentSynchronized','\x20created\x20and\x20dispatched.','SubscriptionRequestFailed','getModel','nodeUpdate','getExternalStorageConnection','Loaded\x20from\x20disk','KeyValueDatabaseContentAvailable','SubscriptionRequestInProgress','answererId','checkWebGL','processPendingSyncTransactions','runAgent','problem','every','createBatch','\x20already\x20exists.','json','getRemoteMediaStreams','objectStorageBuckets','requestSubscription','String','getLocalMediaStream','KeyValueDatabaseRequestTransactionsValue','connectionGroup','AudioVolume','ObjectStoreInvalidState','start','match','loggingCycle','CloseJobDispatcher','removeContent','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','GraphDatabaseDoesNotExist','ObjectStoreInvalidSyncMessage','GetDate','minThreshold','receiverCurrentTimestamp','logWaitTime','.tsx','getLocalNode','No\x20parameters\x20provided','clusterEventEmitter','processOutboundReport','timestamp','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','handleFileRequestAnswer','handleIceCandidates','handleFolderCreate','JobDispatcherObserverNotFound','subscriptionRequests','getInternalStreamId','vector-database','threshold','Additional\x20context:\x0a','connectionType','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','createJob','node','Setting\x20context\x20for\x20agent\x20block','user','\x20must\x20be\x20a\x20number','registerSource','Media','key-value-database-table-does-not-exist','Connection','ObjectStoreNotSynced','filesSynced','NodeTypeRequired','createOffer','addNode','Received\x20track','feedback','Reranker\x20block\x20is\x20missing\x20required\x20data','setEncodingParameters','setSubscriptionRequestTimeout','RemoteMediaStreamAlreadyExists','functions','Early\x20return','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','overlap','mediaDevices','configs','hasRemoteNode','removeRemoteNode','addVideoTrack','handleNodeUpdate','digest','secheduleTime','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','nextNodeId','handlePublishMediaStream','addEventListener','Failed','waitAnswer','appendTransactionAndUpdateHashMap','updateDebounce','system-stats','setOnTableWriteHandler','No\x20async\x20endpoint\x20URL','\x20writes\x20from\x20','openedTraces','onUnregisterPublisher','firebaseConfig','invalid-subscriber','tables','audioDestination','setRemoteConnections','isOffer','handleSubscriptionNeedMediaStream','NodeAlreadyExist','manageOptimization','sync','lastClockUpdate','VectorDatabaseDoesNotExist','performCalculation','RequestFileSync','av_delay','KeyValueDatabase\x20not\x20found','evaluateBids','remoteNodes','VectorDatabaseStats','direction','ExecuteAgent','handleSubscriptionUnsubscribeMediaStream','lastUpdated','outgoing-stream-no-topic','VectorDatabaseCreationFailed','internalProcessJob','toStringTag','disableIntervalHack','srcObject','KeyValueDatabaseStats','CREWDLE_WEB_SDK','\x20deleted.','objectRequests','GenerativeAIContextJobMissingThreadId','endsWith','jitter','Key-value\x20database\x20transaction\x20value\x20not\x20set.','UnsubscribeMediaStream','List','resetConnection','Cannot\x20get\x20file:\x20','GenerativeAIContextAlreadyExists','sort','engineType','handleProblem','maxResolution','getSenderTotalBytes','prompt','off','enumerateDevices','Hub','call','createOutgoingSubscription','startNoThrottlingHack','TimePerFrame','ExternalStorageUpload','data-collection','model','getKeyValueDatabase','getStatus','NodeManager\x20-\x20PublishNodeLeave','folder-create','external-storage-connection-already-subscribed','length','33UTXueG','externalStorageConnections','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','Pending','\x20-\x20','Add','File','incomingManager','getBid','clearOncloseTimeout','getLayout','chunks','AudioOutput','cluster-disconnect','sdk-internal-error:\x20','.jinja2','getInternalTrackParams','VectorDatabaseAlreadyExists','\x20is\x20required','chooseAnswer','Rejected','external-storage-invalid-path','RemoteMediaStreamInvalidSubscriptionParams','warn','Connection\x20does\x20not\x20exist.','RemoteRemediation','pubSubTopics','setInterval','getDataBucketIds','getWorkflow','LoadKnowledgeFunction','Time','FolderCreate','MissingRemoteConnection','queues','number','Database\x20does\x20not\x20exist','contentMediator','processContentAvailable','processLocalReport','unregisterSystemPublisher','remoteConnections','.ts','FileStatus','getModels','messagesReceived','peer-connection','canvas','getContentType','utf8','isNodeReady','unsubscribe','Wait','outgoingManager','getExternalStorageConnections','processList','checkMediaStream','onNodeDisconnect','KeyValueDatabaseTableNameReserved','isNeedRestart','IngestTrace','time','0\x20B','stopNoThrottlingHack','handleSubscribeMediaStream','replaceTrack','listenUnsubscriber','asyncEndpointMethod','decode','deleteFileChunks','parseWorkflowBlocks','Subject','getRemoteNodes','getGraphDatabase','handleRemediationSystemEvents','jobId','indexOf','frameTime','code','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','/resources/external-storage/items/','handleObjectMove','job-dispatcher-already-exists','resume','text','.handlebars','chunk','incrementVersion','append','server','createMediaStreamSource','SubscribeMediaStream','getRemoteConnections','connectionTimeout','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','logMMRRebuild','handshakeDebounce','recipients','\x20not\x20supported','uuid','database','Invalid\x20value.\x20Property\x20\x27','removeObjectStore','lastExecuted','Offline','getFunctions','removePubSubTopic','receiverPreviousBytes','context','trackEndedListeners','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','processSenderReport','localNode','write','Model\x20store\x20not\x20initialized','hasBufferedData','internalContext','user-join','workflow-invalid-block-type','SubscriptionRequestNoAnswer','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','graph-database-already-exists','ExternalStorageConnection\x20not\x20found','request-file-sync','random','successNotified','nodes','\x27\x20dabatase\x20id.','bitrate','Model','NodeUpdate','nodesConnected','Node\x20type\x20is\x20invalid','listenerUnsubscriber','failJob','NodeJoin','maps','custom-skill','connection-invalid-data-event','GenerativeAIContextCreationFailed','handleContentCloseMediaStream','hasTracks','stopConnection','runTransaction','JobWorker:\x20Sending\x20job\x20reject','GenerativeAIContextJobAlreadyConsumed','invalid-subscription','/transactions','cluster-leave','FPS','sendFile','handleNodeDisconnect','JobWorker:\x20Error\x20processing\x20job','origin','setVendorId','jobBids','clockSkew','setInternalId','clearSyncTimeout','subscriptionRequestTimeouts','Search\x20connector\x20not\x20set','suspended','chunk-splitter','traceLevel','return\x20this','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','unregisterRemoteNode','from','graph-database','High','getDataCollections','processBatch','RoundTripTime','removeEventListener','functionsRegion','extendedRecipients','stopTracing','3716hkkUbq','\x20attributed\x20to\x20','updateLastTransactionId','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','publishFile','detectAudioIssues','startTracing','InvalidPublisher','cpu.fps','Graph\x20database\x20creation\x20failed.','ExecuteCode','everyone','contentManager','ObjectStoreInvalidPayload','Job\x20service\x20creation\x20failed.','isJobRequest','removeSubscriptionsForNode','crewdleSDKLoggingChannels','clearSubscriptionRequestTimeout','generateClient','Operations:','endpointUrl','\x20check\x20failed','AgentSkill','generative-ai-context-job-already-consumed','ExternalStorageStats','retryCount','getBufferedAmount','cpu.time_per_frame','Subscription','dispatchEvent','discoveryService','.js','ObjectStorageBucket','GenerativeAIWorkerMissingConnector','resolution','/resources/agent/items/','getPriority','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','peaks','batchSize','Delete','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','\x27\x20in\x20table\x20\x27','Local\x20node\x20rank\x20is\x20not\x20set','getGenerativeAIWorkers','No\x20connections\x20available\x20to\x20send\x20message','closeConnection','ceil','orchestrator','Execute\x20the\x20agent\x20','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','replace','remote-media-stream-already-exists','pathName','Parameter\x20','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','bufferEvent','getIdToken','KeyValueDatabaseInvalidLayout','authenticateUser','left','JobDispatcherCreationFailed','signOut','Default','msalGetAccessToken','cluster-already-joined','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','Error\x20processing\x20ingest','Invalid\x20layout:\x20','processReports','messageType','setLocalRank','insert','EntityExtractor','onGatheringStateChange','LoadSkillFunction','splitParts','.kt','connection-not-connected','JobStatus','error','GenerativeAIModelOutputType','publishUserUpdate','load','remote-inbound-rtp','Missing\x20transaction\x20id','job-dispatcher-does-not-exist','openExternalStorageConnection','Invalid\x20where\x20clause','handleContentUnsubscribeMediaStream','getSenderBitrate','initialize','graph-database-missing-connector','generative-ai-context-already-exists','getObjectStoreBuckets','NodeConnectionsUpdate','statsReporting','\x0a\x0a`Executing\x20agent\x20','checksum','floor','.vbs','reranker','system','propn','senderTotalMessages','Bid','createTopic','DatabaseEvent','lastRemediations','senderConnection','knowledge','notifyObjectStoreOfNodeJoin','unregisterSystemSource','getRemoteMediaStream','debounceReadyTimeout','getDocs','logConnectionState','handleSuccess','result','Resolution','job-worker-already-exists','Data\x20Sent','destroy','An\x20error\x20occurred','Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.','retryLimit','frameHeight','add','applyRemediation','getItem','\x20with\x20response:','currentDistance','Object\x20store\x20is\x20not\x20in\x20sync','local-media-stream-no-audio-context',',\x20Transactions:\x20','timesCalled','Missing\x20remote\x20node\x20or\x20rank','unsubscribeListener','notifyClusterNodeJoin','getClosestNodes','endpoint','fromEntries','right','catch','Invalid\x20credentials','candidate','commitBatch','isEqual','FileMove','getDistance','.scala','getSentences','transactionQueue','Store\x20already\x20exists','failed','incomingTopic','counter','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','payload','UnsubscribeMediaStreamdiaStream','tableUnsubscriber','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','.jsx','logSupport','createSubscription','setItem','.tpl','statsReport','getJobDispatchers','entity','SystemTopic\x20publish','sendFileRequestPayload','Unknown\x20skill\x20type','trackCallback','PubSubTopicAlreadyExists','checkExistingPendingFileContent','pendingSyncTransactions','QueryBuilderInvalidArgument','@context.','RemoteConnectionExists','updateUser','handleFileWrite','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','stop','getMaxConnections','Backgrounds','No\x20context\x20variables\x20set','calculateArrayBufferSize','Everyone\x20','parse','event','.erb','initializeSystemTopic','isComputingMMR','getReceiverTotalBytes','canChooseAnswer','values','26478licbcT','padStart','\x0a\x20===\x20Total\x20Nodes:','Error\x20encountered\x20while\x20opening\x20database','messageCallback','key-value-database-creation-failed','Error\x20initializing\x20logging\x20database\x20with\x20\x27','removeTrackCallback','fetchContentFromUrl','addProblem','modelStore','setTimestamp','height','Internal\x20unknown\x20error:\x20','/resources/generative-ai-workflow/items/','internalProcessJobStream','Error\x20loading\x20existing\x20content','appsync-statechange','blocks','close','GenerativeAIContextDoesNotExist','ModelText','storage','sequence','callback','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','mergeParts','ENOENT','remoteId','connectionState','CannotProvideMediaStream','limitToFirst','setDurationTime','connector','notifyObjectStoreOfNodeLeave','.crewdle-transactions','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','DTVolatility','appsync-disconnect','object-store-name-not-string','removeRemoteMediaStream','Database\x20already\x20exists','getHash','Failed\x20to\x20get\x20file','crewdle-sdk','handleSubscriptionRestartNeedMediaStream','reset','signInWithCredential','.\x20Confirmation?\x20','queryParameters','connected','signalingState','Found\x20','LocalMediaStreamAlreadyExists','CloseJobWorker','Optimization','`\x0a\x0a','reject','asyncHeaders','detectProblems','firebase-disconnect','sentence-splitter','orderBy','PubSubTopic\x20publish','nlpLibraryConnector','wait','hasMessage','connectionManager','race','KeyValueDatabaseTableDoesNotExist','LoggingService:\x20logging\x20enabled\x20for','getTransactions','GenerativeAIContextStats','KeyValueDatabasePeakNotFound','getNumberOutgoingSubscriptions','getCurrentDate','updateDebounceTimeout','isLoaded','openPubSubTopic','isMediaSource','dataBucketIds','crewdleSDKEnableLogging','clientWidth','jobs','RemoteMediaStreamTrackFail','handleObjectDelete','KeyValueDatabaseContentSynchronized','gpu','ReceiverOnMessage','publish','getSimilarity','firebaseUnsubscriber','messageUnsubscriber','cores','.Total\x20pages\x20available:\x20','Node\x20not\x20authenticated','take','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','WebRTCBrowserPeerConnectionConnector','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','gatheringState','publishSystemMessage','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','expectedTransactions','text/plain','Restart\x20NeedMediaStream','.pl','disconnectCallback','checkBackgrounds','auth','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','syncResolve','getInstance','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','audioSource','loggingDb','CloseExternalStorageConnection','setReceiverBytes','collectStats','Partial','searchOnGoogle','InvalidAccess','DeviceConfig','joinedClusters','getPartsForSubscriptionLabel','buildInitialMMR','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','User','DataChannel\x20buffer\x20is\x20full.','externalStorageConnectionIds','CrewdleConnectionGroup','sendPeakTransactions','GenerativeAIContext','sendChunked','\x27\x20to\x20','NodeInvalidType','handleContentSystemEvents','substring','processInboundReports','registerPublisher','removeItem','Remote\x20stream\x20does\x20not\x20exist.','Missing\x20AI\x20worker\x20connector','PubSubTopic\x20onMessage','Error\x20fetching\x20context','getMaxDistance','2622120umhqWL','appsync-no-destination','cluster','startsWith','agent-skill','Stats:\x20report','appendTransaction','DocumentParser','getSTVolatility','notifyCluster','Logging\x20trace','Workflow','/resources/generative-ai-agent/items','onSnapshot','ConnectionNotConnected','.pug','reads','getTotalNodes','maxBpp','registerSubscriber','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','Retrieve\x20from\x20context\x20to\x20inform\x20your\x20response.','removeOutgoingSubscription','debounceProcessRank','getGenerativeAIContexts','KeyValueDatabaseCreationFailed','saveToDisk','rtt','outgoingTopic','receiverTotalMessages','ExternalStorageConnectionAlreadyExists','.lua','priority','Remote\x20connection\x20already\x20exists.','supports','Processing','Writable\x20stream\x20is\x20missing','retryCallback','topK','httpsCallable','queries','No\x20global\x20object\x20found','1.0.6.0','pendingFilesRename','fileChunks','value','evaluateBidsAndAttributeJob','workflow','initializeLoggingDatabase','deleteTransactionsForTable','ConnectionNotinitialized','jobObservers','generative-ai-context-job-missing-thread-id','join-cluster','Warning','/objectstores/','Prompt','available','getJob','serverTimestamp','.rs','handleOffer','isOpened','JobStream','filter','eventTarget','eventEmitter','object-store-invalid-state','success','Waiting','\x20not\x20found.','crewdle-sdk-stg.firebaseapp.com','generativeAIWorkers','.rb','GraphDatabaseStats','PubSubTopicStats','clearUpgradeTimeout','updatePropagationProperties','key','toLocaleDateString','json_arr','Cannot\x20unpublish\x20object:\x20','Missing\x20external\x20storage\x20connector','AppSync\x20client\x20not\x20ready','heartbeatUnsubscriber','bind','.vb','onTrack','handleDetectionSystemEvents','Invalid\x20query','unshift','createGain','writeTransaction','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','Detection','peerConnectionConnector','connectionStateListener','localMediaStreams','agent-update','topic','arrayBuffer','Invalid\x20subscriber.','retryDelay','not-resolved','GenerativeAILabelConflict','JobDispatcherDoesNotExist','handleLocalTrackFailure','JobWorkerCreationFailed','addBatchOperation','Cannot\x20list\x20directory:\x20','checkScreenSharing','getAudioVideoDelay','entities','InvalidDataChannel','rank','getPubSubTopics','audio','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','Amplify','.sql','debounceRebuildMMRWithTransaction','.html','unregisterSubscriber','sourceUrl','.clj','graphql','isChannelEnabled','senders','Offer','resolve','GetContextQuery','createKeyValueDatabase','syncContent','relations','GenerativeAIWorkerModelSyncError','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','getSubscriptionLabel','decodeJWT','ConnectionState','detectionManager','getApp','Internal\x20SDK\x20Error:\x20','subscription-request-no-answer','VectorDatabaseNameNotString','onCandidate','created','streamLabel','reportMetric','transactionService','reportCapacity','getCoresFromCapacityReport','lastTransactionId','Generative\x20AI\x20context\x20job\x20failed.','Initial\x20MMR\x20built\x20with','sendWithRetry','processRank','Invalid\x20version\x20\x27','WorkflowTrace','documentParserConnector','Received\x20ContentSynchronized\x20from\x20','some','ranges','push','sendAction','history','getContent','key-value-database-does-not-exist','.hbs','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','RequestAccepted','JobWorkerAlreadyExists','getPacketsLostPerc','document-parser','url','currentTimestamp','addAudioTrack','OutgoingSubscription','sendReject','mute','removeKeyValueDatabase','AITrace','\x20MB','app','observe','setupTrackEndedListeners','.cpp','/developers/','DataCollection','\x20must\x20be\x20a\x20string','rejectReady','Recording','answer','getObjectStoreBucket','syncTransactionsWritten','onValue','setPriority','GetContextResult','ExternalStorage','channel','KeyValueDatabaseNotOpen','instantiateTransactionTable','Signaling','clearWaitAnswer','Setting\x20context\x20for\x20custom\x20skill\x20block','processJob','developers/','/nodes/','job-worker-invalid-type','boolean','7932743UnlXci','task','codes','ccc','jobPhase','pubsubTopics','\x27:\x20missing\x20or\x20invalid\x20keyPath','SenderSendMessage','sendTransactionsValue','object-store-already-subscribed','hasTable','retrieveBlocks','isFeatureSupported','mediaUnsubscribers','type','WorkflowDoesNotExist','debounceStats','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','createBuffer','openJobWorker','Downgrade','Job\x20worker\x20creation\x20failed.','\x20must\x20be\x20a\x20boolean','SubscriptionRequestDoesNotExist','.swift','lastProcessRank','listChanges','debounceReady','Issue\x20detected:\x20','Invalid\x20data\x20event.','.json','content-publish-media','updated','iceConnectionState\x20failed','ExternalStorageConnectionDoesNotExist','Agent\x20block\x20is\x20missing\x20required\x20data','answers','handlePeerConnectionSystemEvents','Local\x20MediaStream\x20already\x20exists','instance','subscribeToJobs','validateLayout','Start\x20Ingestion','1165CDfVCh','sendBid','action','sendStats','models','Error\x20fetching\x20URL','confirmSynchronization','thread-','data-stream','logs','/nodes','generative-ai-worker-already-exists','internalDownloadDocument','pub-sub-topic-name-not-string','authenticateAgent','writes','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','fps','Cannot\x20write\x20transaction.','.awk','generativeAIContexts','debounceRebuildMMR','issues','GenerativeAIWorker:\x20Models','removeRemoteConnection','getLocalMediaStreams','Success','ObjectStoreInvalidPath','AI\x20Service\x20already\x20exists','.css','createBatchOperation','handleNodeJoin','ClosePubSubTopic','publishTransaction','getVectorDatabase','MediaStream\x20feature\x20not\x20enabled','handleJobAttribution','\x20finalized.','7467489Liwzeh','clusters','createLocalDynamicMediaStream','Internal\x20error:\x20','drawImage','System','includes','createLocalMediaStream','getUserMedia','/transactions/lastTransaction','getDoc','.cs','messageListeners','No\x20connector\x20found\x20for\x20model','removeJobDispatcher','publishSyncCompleted','leave','rebuildMMR','node-already-exist','CloseKeyValueDatabase','requestSubscriptionAction','responseTimeout','upgradeTimeout','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','.conf','registerSystemPublisher','processInboundReport','More\x20content\x20available\x20on\x20page\x20','media-stream','deleteJob','consumeBufferedEvents','Invalid\x20subscription.','systemTopic','PublishMediaStream','\x20transactions\x20from\x20node\x20','getAncestorIds','VectorDatabase','node-does-not-exist','Generative\x20AI\x20context\x20job\x20already\x20consumed.','taskType','externalStores','receivers','aws','ObjectStoreCannotWriteTransaction','queryOrPrompt','message','notifyJoin','CrewdleReceiverConnection\x20ontrack','NeedRestart','UpdateMediaStream','isPromiseResolved','pendingFilesSyncing','parentId','\x20does\x20not\x20support\x20content\x20type\x20','getPubSubTopic','\x0a\x0a`Retrieving\x20context`\x0a\x0a','CustomSkill','handleNoAnswer','temperature','waitForSyncComplete','arrayBufferToObject','KeyValueDatabaseInvalidQuery','2-digit','answerJoin','getSubscribedTracks','videoHeight','peakHeights','vector-database-creation-failed','Subscription\x20request\x20failed.','Disconnect','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','createIncomingSubscription','dt_volatility','.md','.groovy','Cannot\x20find\x20External\x20Storage\x20connection:\x20','KeyValueDatabaseRequestPeakTransactions','relation-extractor','Upgrade','addEdge','ready','authContext','file-write','validateValue','isJobAttribution','Pool','keyValueDatabaseConnector','warning','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','onConfigurationChange','joinedAt','email','getId','key-value-database-transaction-table-not-initialized','.mustache','string','Job\x20Dispatcher\x20already\x20exists','receiverPreviousTimestamp','AudioContext\x20is\x20not\x20available','KeyValueDatabase','RequestFile','commitTrace','closeTopic','Skill','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','SearchGoogle','CanProvideMediaStream','combinePeaks','grammar','compareTransactions','PartialResult','senderBitrate','getConfigs','JobWorker:\x20Tracing\x20not\x20implemented','region','label','authNode','getSubscriptionInfo','unregisterCluster','syncFolder','inputType','appsync-connect','addConnection','SentenceSplitter','Chosen\x20answer','.crewdle-pending','setRemoteNode','WorkflowInvalidBlockType','links','currentBytes','Missing\x20answerer\x20id\x20on\x20request\x20answer','logPropagateSystemEvent','subscribe','file','JobDispatcherJobNotFound','toLocaleString','addDoc','upgrade','__esModule','ExecuteCustomSkill','_ready','KeyValueDatabaseTransactionValueNotSet','version','complete','ingestBlocks','.erl','commitLevel','verb','loadExternalContent','receiverConnection','restartHandshake','invalid-access','getTime','registerSystemSource','options','getProviderId','generative-ai-context-does-not-exist','data','IDBDatabaseConnector','logStorage','handleUnpublishMediaStream','\x20completed.','Invalid\x20data\x20channel.','Data\x20cluster\x20is\x20not\x20open.','readyResolve','Agent\x20group\x20not\x20found','.dart','Move','GenerativeAIModelInputType','CrewdleConnection\x20handlePeerConnectionSystemEvents','publishNodeJoin','max','owner','handleUnsubscribeMediaStream','mediaStream','GraphDatabaseCreationFailed','getConnectionGroup','completeSync','InitialPrompt','isPartialResultResponse','ref','.sh','defineProperty','onRemoveTrack','handleSubscriptionSystemEvents','search','trackKinds','getTransactionFromTableWriteEvent','publishNodeLeave','setLoggingConnectors','processJobStream','isInternalLoggingConnector','addMessage','Content','connectAgent','publishSyncCompletedAfterWrites','-leave','clearRect','Mistlet\x20capacity\x20report\x20not\x20set.','element','deployedVersion','GraphSearch','buildTableEvent','getTracks','moveObject','isWhereValue','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','removeConnection','createNewBatch','eventListener','handleDisconnect','_isReady','updateJob','AI\x20worker\x20creation\x20failed.','ended','removeTrackListeners','findNextNodeId','ConnectionBufferNotEmpty','getMediaStream','isProduction','logServiceEvent','rate','getVectorDatabases','threadId','remediation','getTrackFromParam','handleNodeSystemEvents','connection-not-initialized','minRelevance','ObjectStorageUpload','internalId','1228690RMbwWM','evaluatePartialJob','Retrieve','request-file-write','object-store-invalid-payload','name','AudioVideoDelay','.j2','loggingConnectors','getDatabase','joinCluster','getBitrate','ReceiverPeerConnection.onMessage','exists','isAvailable','bytesSent','ObjectStoreNameNotString','Audio','syncTimeout','timeReceiving','@id','receiverBitrate','commit','maxLayer','asObservable','word-splitter','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','inputTokens','external-storage-connection-does-not-exist','getJobs','bufferedAmountLowThreshold','estimatedPlayoutTimestamp','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','external-storage','JobDispatcher:\x20Received\x20job','remoteMediaStreams','.yml','currentFrames','GraphDatabase\x20not\x20found','KeyValueDatabaseTransactionTableNotInitialized','SHA-256','Invalid\x20value.\x20Must\x20be\x20an\x20object.','transactionIds','RelationExtractor','default','encode','min','onDisconnect','getRank','mistlet-capacity-report-not-set','setReportCapacity','Cluster\x20already\x20joined','LocalMediaStreamDoesNotExist','openGenerativeAIContext','registeredListeners','SenderPeerConnection\x20send','startBidResponseHandling','graphDatabases','JobWorker:\x20Received\x20job\x20request','streamId','WordSplitter','pipe','/resources/generative-ai-model/items','UnpublishMediaStream','subscription-request-failed','pop','addBidResponse','stringify','sender','remote-media-stream-invalid-subscription-params','.info/serverTimeOffset','text/','addRemoteConnection','comparePeaks','previous','clientStream','IntermediateOutput','ner','contentRequestSent','addIssue','KeyValueDatabaseAlreadyExists','manageBufferedChunks','object-store-already-exists','local-media-stream-track-fail','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','processTransactionsToComputeMMR','entries','external-storage-connectors-missing','clearConnectionTimeout','limit','searchApiKey','handleUpdateMediaStream','Outgoing','checkWebRTC','jobQueue','.cfg','events','mmrRoot','.twig','Problem','publishMove','agentId','all','object-storage-upload','processPendingHandshakeCandidates','crewdle-sdk-stg','debounceLogTimeout','FramePerSecond','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','getJobWorkers','subscriptions','getAncestors','roundTripTime','onloadeddata','description','CloseMediaStream','docs','createBufferSource','isSync','trace','VectorDatabaseMissingConnector','Node\x20is\x20not\x20an\x20agent','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','processRemoteInboundReport','All','GenerativeAIWorkerStats','handleSubscriptionMediaStreamUnavailable','\x0a\x0a`Getting\x20current\x20date\x20and\x20time`\x0a\x0a','openJobDispatcher','RemoteAdd','handleRemoteTrackFailure','Ingest','Error\x20during\x20MMR\x20rebuild\x20logging:','missing-datachannel','enabledChannels','missing-incoming-connection','systemTopicUnsubscribe','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','evaluateProccessedJob','Error\x20opening\x20trace','listenerUnsubscribers','remote-stream-missing-provider-id','mode','G-F7W8KXRKQB','shift','Queued','KeyValueDatabaseDoesNotExist','.py','generative-ai-context-creation-failed','source','vectorDatabases','\x0aAdditional\x20data:\x20','systemMessages','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','onProviderChange','us-east-1','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','cachedRoot','authService','publishLocalDynamicMediaStream','JobWorker:\x20Sending\x20job\x20result','Error\x20committing\x20batch:','objectToArrayBuffer','Search','getKeyValueDatabases','writeFile','JobWorker:\x20Sending\x20job\x20bid','nodeManager','NodeManager\x20-\x20ConnectionSuccess','startAt','\x20to\x20send\x20dispatcherJob\x20','logRaw','removeVectorDatabase','removeTrack','key-value-database-table-not-found','getConnection','Invalid\x20job\x20service\x20payload.','receiverTimeProcessing','CloseGraphDatabase','getGrammars','LocalMediaStreamTrackFail','vectorDatabaseConnector','FileDelete','/resources/generative-ai-skill/items','objectStores','compileStats','logging-db-','Image','Remediation','handleRequestPayload','Invalid\x20peer\x20connection\x20event\x20destination.','openGraphDatabase','support','assign','Invalid\x20workflow\x20block\x20type.','graph-database-does-not-exist','has','displayName','\x20to\x20generate\x20a\x20response.','getMediaSubscription','supportsContentType','head','FeatureNotEnabled','retrieveContext','Internal\x20SDK\x20error:\x20','ratePrompt','skipEncryption','node-type-required','Support:\x20','maxFps','getLabel','From\x20','Llamacpp','CloseObjectStoreBucket','GenerativeAIWorker:\x20Opening','DataStream\x20send','open','queueLength','logInitialMMR','::','Setting\x20context\x20for\x20agent\x20skill\x20block','changesUnsubscriber','maxThreshold','getResolutionScale','getBuffer','setConnectionType','deletePendingFile','handleConnectionSuccess','getRemoteNode','play','dataStores','parameters','1:519415702791:web:5dd39042f881cfde3251a2','removeJobWorker','providerListener','getShareableStream','lastHeartbeat','createPendingFileWrite'];a0_0x68a3=function(){return _0x557c15;};return a0_0x68a3();}