function a0_0x240a(_0x553857,_0x165fe4){const _0x152720=a0_0x1527();return a0_0x240a=function(_0x240a38,_0x292de4){_0x240a38=_0x240a38-0x90;let _0x4b1da5=_0x152720[_0x240a38];return _0x4b1da5;},a0_0x240a(_0x553857,_0x165fe4);}function a0_0x1527(){const _0x154477=['request-file-write','processReports','maps','checkAudioVolume','sync','publishMove','validateValue','invalid-data-chanel','key-value-database-creation-failed','crewdle-sdk.firebaseapp.com','floor','connected','Disconnected','createSubscription','isArray','getRank','getContentType','jitter','drawImage','isInternalLoggingConnector','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','createElement','Invalid\x20publisher.','local-stream-does-not-exist','Object\x20store\x20is\x20not\x20in\x20sync','objectToArrayBuffer','Local\x20MediaStream\x20already\x20exists','source','onChildRemoved','handleError','setParams','addMessage','processPendingSyncTransactions','cluster-leave','transactionsToSync','amd','getContext','stopConnection','AudioOutput','propagate','maxConnections','pathName','clearSubscriptionRequestTimeout','maxBpp','trackListeners','Issue\x20detected:\x20','PubSubTopic\x20onMessage','inbound-rtp','clearConnectionTimeout','orderBy','oidc','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','agent-join','timeSending','handleSubscriptionMediaStreamUnavailable','1793OTgbhe','nextNodeId','messageListeners','RemoteAdd','CloseMediaStream','node-already-exist','start','getProviderId','handleNodeSystemEvents','includes','text','text/plain','Waiting','number','KeyValueDatabaseCreationFailed','IncomingSubscription','KeyValueDatabaseTransactionTableNotInitialized','move','setTimestamp','map','end','RequestFileWrite','\x20-\x20','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','processLocalReport','getEmail','update','stop','setOnMessageHandler','Resolution','Buffering\x20event','WebGL','Incoming','DTVolatility','Subscription\x20request\x20has\x20not\x20been\x20answered.','WebRTC','systemTopic','openKeyValueDatabase','disableIntervalHack','ownerId','recipients','addTrack','invalid-subscription','contentManager','keyValueDatabases','getSupportedContentTypes','handleLocalTrackFailure','isWhereValue','setLoggingConnectors','Apply\x20remediation','subscriptionRequestsQueue','handleNoAnswer','Data','handleCloseMediaStream','operations','codes','AppSync\x20connection\x20not\x20ready','maxDistance','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','childRemovedUnsubscriber','Request','deleteTransactionsForTable','content','logRaw','optimizationLayers','track','senderCurrentTimestamp','getDisplayName','tableName','ccc','setStatus','\x27\x20from\x20','Transaction','time_per_frame','getRemoteConnections','PubSubTopicAlreadySubscribed','getPartsForSubscriptionLabel','isMediaSource','retryQueue','removeRemoteMediaStream','openObjectStoreBucket','hasOwnProperty','2518020YYOuFP','manageOptimization','params','timePerFrame','waitAnswer','isFeatureSupported','/nodes','handleMissingSenders','onerror','setCurrentVersion','canProvideResolution','getAudioVideoDelay','notifyClusterNodeJoin','handleContentClosePubSubTopic','wait','support','Internal\x20SDK\x20error:\x20','\x27:\x20missing\x20or\x20invalid\x20keyPath','audioSource','getAuth','NodeManager\x20-\x20NodeLeave','UpdateMediaStream','failed','Key-value\x20database\x20creation\x20failed.','fps','getIdToken','retry','reject','resume','return\x20this','handleOptimizationConnectionSuccess','RequestFile','object','clientStream','Subscription','registerRemoteNode','createBufferSource','systemMessagesReceived','options','objectStoreConnector','CanProvideMediaStream','default','resolution','peerConnectionConnector','AudioVolume','av_delay','buildTableEvent','getReceiverTotalBytes','handleNodeDisconnect','writeFile','connection-not-initialized','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','deleteRemoteNode','Agent','handleUpdateMediaStream','val','checkBackgrounds','indexes','receiverTimeProcessing','unregisterSource','clear','getShareableStream','\x27\x20reserved','retryQueues','RequestSyncKeyValueDatabase','waitSuccess','NodeNotAuthenticated','Subscribing\x20to\x20an\x20event:\x20on','addCandidate','listenUnsubscriber','closeSubscription','currentDistance','SubscriptionRequestDoesNotExist','CannotProvideMediaStream','observe','getOrResetPendingFileTimeout','iceServers','clockSkew','boolean','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','KeyValueDatabaseNotOpen','senderCurrentBytes','createIncomingSubscription','fileChunks','arrayBuffer','getNextTargetRank','SubscribeMediaStream','handleNeedRestart','Error\x20committing\x20batch:','object-store-already-exists','tables','SubscriptionRequestInProgress','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','handleSystemEvents','webgl','objectStorage','functions','connection','publishNodeLeave','getConnections','setupStatsCollection','feature-not-enabled','Cannot\x20list\x20directory:\x20','Problem','signalingServer','setTransformations','Rejected','Get','remote-connection-exists','maxLayer','messagesReceived','logBatch','payloadType','publishUserUpdate','checkAudioContext','notifyObjectStoreOfNodeJoin','key-value-database-transaction-table-not-initialized','unpublish','suspended','processReceiverReport','indexOf','path','handleIceCandidates','digest','clearHeartbeat','object-store-stream-does-not-exist','getVideoTracks','timeoutCallback','dbKey','connectionConstructor','checkWebRTC','sendTransactionsDump','listenerUnsubscribers','globalObject','IDBDatabaseConnector','QueryBuilderInvalidArgument','onDisconnectHandler','padStart','callback','isMediaDestination','isIceCandidate','durationTime','getRemoteNode','Answer','handshakeCandidates','updateDebounceTimeout','startTime','hasTracks','Method\x20not\x20implemented.','checkAudioOutput','kind','handleContentCloseKeyValueDatabase','KeyValueDatabaseTableDoesNotExist','updatePropagationProperties','Module','handleContentUnsubscribeMediaStream','content-unpublish-media','secheduleTime','createMediaStreamSource','Connection\x20does\x20not\x20exist.','local-media-stream-no-audio-context','ConnectionState','Recording','FolderCreate','removeLocalMediaStream','framerate','crewdle-sdk','nodeManager','all','STVolatility','endsWith','stats','addProblem','currentVersion','detail','handleSubscribeMediaStream','limit','byteLength','messageUnsubscriber','getUserMedia','connectionState','canAddCandidates','Remote\x20MediaStream\x20already\x20exists','checkMediaRecording','trackEndedListeners','Amplify','Restart','Cannot\x20unpublish\x20object:\x20','runTransaction','connectionTimeout','282AcDCGf','clientWidth','get','Offline','/logs','availableTrackKinds','sourceVideo','Valid\x20layout','handleSubscriptionProvideMediaStream','CrewdleConnection\x20handlePeerConnectionSystemEvents','node-not-authenticated','slice','sendFile','total','decodeJWT','disconnect','isSubscribed','signInWithCredential','catch','vendorId','sendIceCandidates','writes','user','resizeHandler','Everyone\x20','keyValueDatabaseConnector','getAudioTracks','syncKeyValueDatabase','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','findNextAncestor','filter','transactionTable','receiver','bytesSent','senders','owner','validateQuery','Emitting\x20event\x20on\x20local\x20cluster','removeOutgoingSubscription','clearRestartTimeout','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','maxFramerate','authContext','requestSubscriptionAction','cluster-disconnect','ranges','unregisterCluster','index','PubSubTopicDoesNotExist','StreamReport','appsync-disconnect','handleOutgoingSystemEvents','removeTrack','getTracks','features','getPriority','complete','findNewMediaSubscription','receiverCurrentTimestamp','Medium','pool','startReportingCapacity','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','incomingManager','cpu.time_per_frame','sort','pubsub','destination','lastTransactionId','request','processTransactionsDump','bind','getShareableStreamId','subscriptions','KeyValueDatabaseInvalidLayout','totalDecodeTime','ancestors','notifyJoin','publishTransaction','forEach','parentId','getAvailableTrackKinds','Remote\x20stream\x20does\x20not\x20exist.','media-stream','KeyValueDatabaseTransactionValueNotSet','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','Cannot\x20publish\x20folder:\x20','Operations:','receiverConnection','/transactions/lastTransaction','getDTVolatility','handleAnswer','localNode','Update','createOffer','Key-value\x20database\x20table\x20does\x20not\x20exist.','NodeManager\x20-\x20ConnectionSuccess','eventListener','connectionGroup','TestPage','InvalidSubscription','defineProperty','removeRemoteNode','createKeyValueDatabase','contentRect','senderPreviousBytes','handleFileRequest','Offer','Core','startHeartbeat','detectLocalIssues','handleSuccess','SendTransactionsDump','LocalMediaStreamTrackFail','gatheringState','tracks','getQuery','timestamp','handleSubscriptionNeedMediaStream','interval','close','loggingConnectors','displayName','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','requestSubscription','registerSystemSource','removeObjectStore','\x20does\x20not\x20support\x20content\x20type\x20','resolutionScale','ClusterAlreadyJoined','NodeAlreadyExist','Missing\x20transaction\x20id','LocalMediaStreamNoAudioContext','1:420235181083:web:4eff6062bd845cb0748cbe','remote-media-stream-already-exists','clusterId','AppSync\x20subscribe','video','PubSub\x20already\x20exists','threshold','Receiving\x20\x27','ObjectStoreInvalidSyncMessage','createPubSubTopic','createConstantSource','rank','sendFileRequestPayload','everyone','packetsLost','findIndex','bufferedEvents','onMessage','configs','removeItem','Events','receiverStreams','setPendingFileSyncingPayload','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','warn','\x20check\x20failed','roundTripTime','previousBytes','onDataChannel','removeRemoteStreamSubscription','subtle','minConnections','region','NodeType','/transactions','261AXAtyf','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','unregisterSystemPublisher','timeoutValue','receiverCurrentBytes','KeyValueDatabaseStats','queues','addCluster','setVendorId','TimePerFrame','\x20already\x20exists','syncPendingFiles','subscribe','CloseKeyValueDatabase','object-store-not-synced','database','messageCallback','PeerConnectionInvalidDestination','not-in','connectionPool','Pool','unsubscribeTrackEndedListener','disconnected','system-stats','startNoThrottlingHack','uuid','findNextNodeId','handleFileWrite','lastUpdated','orchestrator','/transactions/','batchQueue','values','Invalid\x20data\x20chan_NO_RENAMEENAl.','reportMetric','reportCapacity','closed','handleRequestPayload','us-east-1','toLocaleDateString','RemoteMediaStreamInvalidSubscriptionParams','DEBUG\x20-\x20','getConnectionType','discoveryService','handleObjectDelete','receiverTotalMessages','addConnection','RemoteMediaStreamMissingProviderId','handleOnMessage','subscription-request-in-progress','getEnabledChannels','Node\x20not\x20authenticated','processReport','signOut','32eLgRUm','setPriority','SubscriptionRequestNoAnswer','Handshake','sourceId','Invalid\x20params','User','connectionManager','LocalMediaStreamAlreadyExists','downgrade','/nodes/','crewdle-sdk-logging-','lastProcessRank','createConnection','scheduleTime','lastHeartbeat','CONNECTION_STATE_CHANGE','successNotified','setupRenderElement','getPartsFromSubscription','registeredListeners','Stream\x20does\x20not\x20exist','deletePendingFile','Online','logConnectionState','pubsubTopics','handleFileSync','add','startsWith','hasMessage','local-media-stream-track-fail','subscribedTracks','updateDebounce','head','setEmail','InvalidPublisher','frames','updateLastTransactionId','PubSubTopicAlreadyExists','Invalid\x20peer\x20connection\x20event\x20destination.','createTopic','Failed\x20to\x20commit\x20batch\x20after\x20retries:','MissingRemoteConnection','FileMove','getId','/objectstores/','OutgoingSubscription','previousFrames','handleSubscriptionRestartNeedMediaStream','observer','shift','play','debugEnabled','PubSub','moveObject','listenerUnsubscriber','find','incomingTopic','System','instantiateTransactionTable','processRemoteInboundReport','createLocalDynamicMediaStream','result','addRemoteNode','pubSubTopics','maxResolution','Invalid\x20query','getName','request-accepted','onRemoveTrack','ObjectStore','writeTransaction','dataUnsubscribers','addPendingHandshakeCandidate','remediation','MediaStream','upgradeTimeout','setupTrackEndedListeners','estimatedPlayoutTimestamp','FolderMove','handleFolderCreate','discoveryUnsubscriber','Missing\x20remote\x20node\x20or\x20rank','getFunctions','trackKinds','toStringTag','outbound-rtp','getTrack','rtt','High','reads','incrementVersion','lastRemediations','List','getNumberOutgoingSubscriptions','remoteConnections','object-store-name-not-string','createFolder','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','emit','isValidMediaSubscriptionParams','contentType','subscription-request-failed','RequestTransactionsValue','DataChannel\x20is\x20not\x20open.','local-media-stream-already-exists','AudioContext','publish','Low','event','bufferedAmount','split','missing-system-topic','remoteMediaStreams','retryLimit','messageBuffer','processRank','featureSupport','assign','handleObjectMove','direction','app','publishFolder','handleDetectionSystemEvents','sampleRate','list','retryDelay','off','setSenderTimestamp','waitConnected','connection-invalid-data-event','createPendingFileWrite','Cluster','getConnection','cancel','1142119sOGMZZ','registerSubscriber','min','checkMediaStream','setInterval','Node','handleContentRemoteMediaStreamTrackFail','isWhereBetween','\x20does\x20not\x20exists','audio','Restart\x20NeedMediaStream','handleTransactionPayload','Bitrate','ScreenSharing','connectionType','getAncestors','Invalid\x20key\x20\x27','File','publishLocalDynamicMediaStream','getLocalMediaStreams','ClosePubSubTopic','Object\x20store\x20not\x20synced.','batchSize','maxFps','handleSubscriptionSubscribeMediaStream','handshakeState','Receiver','Sender\x20connection\x20is\x20not\x20initialized.','every','handleFileRequestAnswer','createOutgoingSubscription','object-store-already-subscribed','getRemoteNodes','has','mute','onCandidate','\x20answer','ConnectionNoRetryQueue','disconnectTimeout','outgoingTopic','getCurrentMaxLayer','KeyValueDatabaseDoesNotExist','localMediaStreams','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','outgoingManager','Downgrade','minThreshold','addAudioTrack','heartbeatUnsubscriber','getInternalTrackParams','setupResizeHandler','RestartNeedMediaStream','ConnectionGroup','gain','processTransactionPayload','type','handleRemoteTrackFailure','remainingTracks','statsReporting','getDoc','file','action','sendStats','loop','pub-sub-topic-already-exists','key-value-database-already-exists','No\x20global\x20object\x20found','Outgoing','setTimeout','publishSyncCompletedAfterWrites','unregisterSystemSource','StorageEventType','version','height','newPath','joinedAt','connectionStateListener','RemoteRemove','sdk-internal-error:\x20','NodeConnectionsUpdate','openPubSubTopic','pub-sub-topic-already-subscribed','getInstance','handleContentUpdateMediaStream','Early\x20return','entries','CPUCycle','isChannelEnabled','removeTopic','Media','getMaxConnections','Stats','Count','splitParts','open','context','handleNodeUpdate','from','systemTopicUnsubscribe','key-value-database-does-not-exist','invalid-publisher','processInboundReports','InternalSDKError','commitBatch','ConnectionNotConnected','NodeJoin','/capacities','Upgrade','PeerConnection','onload','pendingFilesSyncing','retryCallback','clearWaitSuccess','match','ref','setConnectionType','Table\x20not\x20found','key-value-database-invalid-value','Success','undefined','RequestFileSync','registerDestination','remote-stream-does-not-exist','max','subscriptionRequestTimeouts','cpu.cycle','onGatheringStateChange','joinedClusters','signalingState','chunks','ContentType','subscription-request-no-answer','KeyValueDatabaseTableNotFound','clientHeight','Add','handleHandshake','KeyValueDatabaseInvalidValue','element','handleStatsSystemEvents','videoWidth','getInternalStreamId','tableObserver','some','NodeDoesNotExist','Cannot\x20publish\x20move\x20operation:\x20','Local\x20node\x20rank\x20is\x20not\x20set','clusters/','cleanOldSubscription','subscriptionManager','getRoundTripTime','Invalid\x20node\x20type','splice','outgoingStreams','maxThreshold','\x27\x20payload:','validateAccess','endpoint','statsManager','handleCloseObjectStore','PubSubTopic\x20publish','Invalid\x20value.\x20Property\x20\x27','handshakeDebounce','syncTimeout','remediationManager','logPropagateSystemEvent','initializeApp','FPS','content-publish-media','logServiceEvent','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','messagesSent','key-value-database','handleContentSubscribeMediaStream','unsubscribe','supportsContentType','LoggingService:\x20logging\x20enabled\x20for','removeListener','distance','Connection','reset','SubscriptionRequestFailed','getRemoteId','listener','addIssue','messages','batch','46104gwqdNO','setOnDisconnectHandler','subscription-request-does-not-exist','Accepted','system','graphService','validateLayout','clearRect','RemoteMediaStreamTrackFail','getOwnerId','load','getObjectStoreBuckets','CloseObjectStoreBucket','getTotalBytes','collection','previous','sendAction','Remove','Receiver\x20connection\x20is\x20not\x20initialized.','getBitrate','topicLabel','restartTimeout','mediaTopics','receivers','clusters','-leave','serverTimestamp','function','removeIncomingSubscription','currentFrames','bufferEvent','en-US','videoHeight','appsync-connect-fail','handleSubscriptionUnsubscribeMediaStream','nodeKey','logEvent','bytesReceived','clearSyncTimeout','signaling','lastExecuted','PubSubTopicStats','Backgrounds','deleteObject','https://crewdle-sdk-default-rtdb.firebaseio.com','bufferedAmountLowThreshold','getClosestNodes','getDatabase','getReceiverBitrate','getEstimatedTimestamp','handleRemediationSystemEvents','LocalReport','remote-inbound-rtp','operator','storage','All','isWhereValues','Missing\x20answerer\x20id\x20on\x20request\x20answer','SyncComplete','mediaStream','NodeUpdate','ObjectStoreStats','setupStatsReporting','Database\x20does\x20not\x20exist','crewdle-sdk-stg','connecting','answererId','detectVideoIssues','processOutboundReport','NodeInvalidType','Subscription\x20request\x20failed.','sdkCreateToken','ObjectStoreNotSynced','connectAgent','receiverPreviousTimestamp','label','handleNodeJoin','objectStores','removePubSubTopic','ObjectStoreCannotWriteTransaction','ObjectStoreNotInSync','remediations','Invalid\x20object\x20store\x20sync\x20message.','log','PublishMediaStream','arrayBufferToObject','handleConnectionSuccess','handlePublishMediaStream','reduce','senderStreams','component','detectProblems','toString','renderElement','handleUnpublishMediaStream','KeyValueDatabaseNameNotString','enabledChannels','destroy','northamerica-northeast1','Folder','authNode','Default','subscription','count','connect','objectRequests','handleOffer','resetConnection','registerPublisher','setInternalId','clearWaitAnswer','createRemoteMediaStream','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','Channel\x20\x27','senderTotalMessages','dt_volatility','offset','firebaseUnsubscriber','chosenAnswers','addReservedTables','setRemoteNode','peer-connection','connector','initialize','isOffer','eventEmitter','checksum','warning','node','clearUpgradeTimeout','Subscription\x20request\x20does\x20not\x20exist.','status','Database\x20already\x20exists','setBytes','getMediaSubscription','getMinConnections','.info/connected','batchTimeout','Signaling','NodeTypeNotSupported','getDistance','next','joinCluster','getLastUpdated','frameWidth','UnpublishMediaStream','push','encode','messageType','streamId','debounceStats','removeSubscription','pendingHandshakeCandidates','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','canRestartHandshake','1741761JgQWgR','doc','origin','Stream\x20already\x20exists','replace','ended','srcObject','Cluster\x20already\x20joined','missing-incoming-connection','sendTransactionsValue','logSupport','abs','.crewdle-layout','removeNode','SystemStats','Move','subscriptionRequests','registerSystemPublisher','query','setScheduleTime','Key-value\x20database\x20transaction\x20value\x20not\x20set.','node-invalid-type','notifyClusterNodeUpdate','issues','oncloseTimeout','stringify','targetId','pendingFilesRename','\x20-\x20Sending\x20propagation\x20(','now','transactions','6581130sLBXWI','processSenderReport','send','registerSource','handleContentUnpublishMediaStream','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','getSettings','PubSubTopicNameNotString','pendingSyncTransactions','FeatureNotEnabled','currentBytes','InvalidDataChannel','UnsubscribeMediaStream','consumeBufferedEvents','CrewdleConnectionGroup','hasTable','getSubscribedTracks','readAsArrayBuffer','.crewdle-transactions','sendWithRetry','hasRemoteNode','Stats:\x20report','channel','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','crewdleSDKDisableLogging','Invalid\x20version\x20\x27','onTrack','publishSystemMessage','addDoc','checkScreenSharing','MediaStreamUnavailable','width','packetsReceived','pendingFilesTransactions','appsync-no-destination','httpsCallable','getConfigs','getResolution','NodeManager\x20-\x20NodeUpdate','captureStream','processPendingHandshakeCandidates','syncTransactions','createSenderConnection','asc','signInWithCustomToken','__esModule','getRemoteMediaStreams','between','collectStats','mediaDevices','getLabel','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','filteredDestinationIds','DataChannel\x20is\x20not\x20initialized.','pub-sub-topic-does-not-exist','timeReceiving','replaceTrack','mediaUnsubscribers','out','remoteId','user-join','crewdle-sdk-stg.firebaseapp.com','getResolutionScale','onProviderChanged','statsReport','publishFile','CrewdleSenderConnection\x20createOffer','state','answerJoin','isSync','onValue','Content','authService','DeviceConfig','enumerateDevices','unregisterSubscriber','answers','getReport','server','AppSync\x20client\x20not\x20ready','getApp','connections','tail','framesEncoded','removeKeyValueDatabase','updateLastUpdated','handleDisconnect','disconnectCallback','createDataChannel','currentBatch','generateClient','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','getRemoteMediaStream','frameTime','senderTimeProcessing','Error','createLocalMediaStream','packets','Connected','onHandshakeStateChange','onBufferedAmountLow','error','User\x20not\x20signed\x20in','applyRemediation','writeBatch','handleNodeLeave','getSTVolatility','initializeSystemTopic','AudioContext\x20is\x20not\x20available','Sender','.crewdle-last-transaction','cluster','audioContext','RemoteRemediation','providerId','object-store-invalid-path','ObjectStoreInvalidPath','KeyValueDatabaseAlreadyExists','ObjectStoreInvalidPayload','trackCallback','true','senderPreviousTimestamp','active','removeConnection','setDisplayName','compareTransactions','Invalid\x20where\x20clause','size','RemoteMediaStreamAlreadyExists','setSubscriptionRequestTimeout','agent-update','priority','processOutboundReports','call','setItem','functionsRegion','ObjectStoreNameNotString','email','RemoteMediaStreamDoesNotExist','where','code','maxOutgoingSubscriptions','concat','remoteUnsubscriber','client','cpu.av_delay','setOnTableWriteHandler','setReceiverTimestamp','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','63632ixGdtB','enabled','PayloadAction','random','isReconnecting','transaction','tableLayout','Disconnect','Send\x20request','Support','Detection','bandwidth.rtt','publishSyncCompleted','getCurrentVersion','removeRemoteConnection','checkDeviceConfig','developers/','cost','shouldProcessTransaction','syncTransactionsWritten','unshift','syncResolve','getMediaStream','previousTimestamp','senderBitrate','setRemoteConnections','getTransactions','name','sender','tableUnsubscriber','removeTrackCallback','closeTopic','chooseAnswer','leave','onClose','dispatchEvent','Hub','Support:\x20','unsubscribeHandler','getLocalId','FileDelete','firebaseConfig','processBatch','FileWrite','KeyValueDatabaseTableNameReserved','counter','keyPath','key-value-database-not-open','clusterKey','frameHeight','shouldContinuePropagation','keys','decode','auth','streams','updateUser','No\x20destinationIds\x20left','Base\x20Peer\x20Connection','FramePerSecond','getConnectionDestinations','setRank','maxBitrate','exports','unregisterPublisher','stopNoThrottlingHack','minResolutionScale','buildQuery','key','buffer','canvas','peer-connection-invalid-destination','getMaxDistance','setLocalRank','localId','Remediation','crewdleSDKEnableLogging','createBuffer','Database\x20not\x20open','Early\x20return:\x20','internalId','eventTarget','message','getSubscriptionInfo','RemoteConnectionExists','420235181083','getStatus','candidate','audioDestination','aws','handleContentCloseMediaStream','receiverUnsubscribers','outgoing-stream-no-topic','addEventListener','systemMessages','Rejected\x20answer','canChooseAnswer','processInboundReport','KeyValueDatabaseInvalidQuery','unregisterDestination','cleanList','removeSubscriptionsForNode','No\x20connections\x20available\x20to\x20send\x20message','receiverBitrate','st_volatility','groupId','value','request-file-sync','Local\x20stream\x20does\x20not\x20exist.','Problem\x20detected:\x20','fromEntries','notifyCluster','object-store-cannot-write-transaction','getPacketsLostPerc','LocalMediaStreamDoesNotExist','waitSendBuffer','AudioVideoDelay','getSenderBitrate','KeyValueDatabase','getKeyValueDatabases','Store\x20already\x20exists','parameters','getFirestore','Data\x20cluster\x20is\x20not\x20open.','getTransactionFromTableWriteEvent','getTableConnector','mediator','OptimizationConnectionSuccess','currentTimestamp','handleContentCloseObjectStore','inactive','getLocalNode','createReceiverConnection','handleContentSystemEvents','join','getConnectionGroup','send\x20error\x20on\x20','handlePeerConnectionSystemEvents','firebase-disconnect','onUnregisterPublisher','issue','join-cluster','onConnectionStateChange','Connection\x20not\x20connected.','Optimization','receiverPreviousBytes','handleCloseKeyValueDatabase','notifyObjectStoreOfNodeLeave','Internal\x20unknown\x20error:\x20','ConnectedPendingKeepAlive','createRemoteNode','string','NeedMediaStream','set','unregisterPublisherListener','length','parse','createObjectStoreBucket','connection-state','sendChunked','remoteNodes','registerCluster','39950VAGucN','Jitter','2-digit','bitrate','dataChannel','providerListener','graphql','NodeLeave','exists','setEncodingParameters','RequestAccepted','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','sendRequest','setProviderId','ConnectionNotinitialized','getSenderTotalBytes','handleProblem','getItem','clearOncloseTimeout','ObjectKind','MediaStreamPriority','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','layout','completed','Support:\x20current\x20config','SystemTopic\x20publish','listen','createNewBatch','::￿','nodeId','remove','iceConnectionState\x20failed','user-update','getOutgoingOptimizationConnections','delete','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','\x20not\x20supported','detectionManager','handleClosePubSubTopic','stream','events','addRemoteConnection','discover','handleSubscriptionSystemEvents','getLocalMediaStream','getTable','detectStreamIssues','statsCollection','debounceProcessRank','clusterEventEmitter','Remote\x20connection\x20already\x20exists.','instance','RoundTripTime','authenticateUser','handleNodeJoinNeedPublishedStream','isProduction','restartHandshake','setDoc','getHash','senderConnection','ObjectStorage','Cannot\x20write\x20transaction.','OPFSObjectStoreConnector','framesDecoded','transformations','data','ConnectionInvalidDataEvent','destinationIds','Received\x20track','G-F7W8KXRKQB','calculateSize','authenticateAgent','dataTopics','onDisconnect','NeedRestart','pub-sub-topic-name-not-string','closeConnection','Delete','MissingSystemTopic','publishLocalMediaStream','muted','checkSyncComplete','2pFIiLp','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','OutgoingMediaStreamNoTopic','topic','setupConnectionEvents','removeEventListener','InvalidSubscriber','onNodeDisconnect','keyValueDatabase','nodes','firestore','object-store-invalid-payload','setUpgradeTimeout','topics','getSubscriptionLabel','transactionService','setupListeners','MediaStream\x20feature\x20not\x20enabled','unregisterRemoteNode','getPubSubTopics','logStorage','isConnected'];a0_0x1527=function(){return _0x154477;};return a0_0x1527();}(function(_0x59db75,_0x1027a5){const _0x34ad77=a0_0x240a,_0x25f0de=_0x59db75();while(!![]){try{const _0x2aca7a=-parseInt(_0x34ad77(0x18b))/0x1*(parseInt(_0x34ad77(0x487))/0x2)+parseInt(_0x34ad77(0x5e4))/0x3*(parseInt(_0x34ad77(0x394))/0x4)+parseInt(_0x34ad77(0x2ff))/0x5+-parseInt(_0x34ad77(0x526))/0x6+parseInt(_0x34ad77(0x2e0))/0x7*(-parseInt(_0x34ad77(0x104))/0x8)+-parseInt(_0x34ad77(0xce))/0x9*(-parseInt(_0x34ad77(0x435))/0xa)+-parseInt(_0x34ad77(0x4d4))/0xb*(-parseInt(_0x34ad77(0x245))/0xc);if(_0x2aca7a===_0x1027a5)break;else _0x25f0de['push'](_0x25f0de['shift']());}catch(_0x239f53){_0x25f0de['push'](_0x25f0de['shift']());}}}(a0_0x1527,0xf34f6),!function(_0x147f53,_0x1d1090){const _0x171356=a0_0x240a;if(_0x171356(0x546)==typeof exports&&_0x171356(0x546)==typeof module)module['exports']=_0x1d1090();else{if(_0x171356(0x260)==typeof define&&define[_0x171356(0x4c0)])define([],_0x1d1090);else{var _0x246439=_0x1d1090();for(var _0x3e9a22 in _0x246439)(_0x171356(0x546)==typeof exports?exports:_0x147f53)[_0x3e9a22]=_0x246439[_0x3e9a22];}}}(this,()=>((()=>{'use strict';const _0x16fbff=a0_0x240a;var _0x58e9fc={0x14d:(_0x4dcf04,_0x5cacc9,_0x599c67)=>{const _0x3218c4=a0_0x240a;_0x599c67['d'](_0x5cacc9,{'O':()=>_0x4a80f1});const _0x4a80f1={'version':'0.1.0','isProduction':!0x1,'firebaseConfig':{'apiKey':_0x3218c4(0x4b1),'authDomain':_0x3218c4(0x33c),'databaseURL':_0x3218c4(0x575),'projectId':_0x3218c4(0x285),'storageBucket':'crewdle-sdk-stg.appspot.com','appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':_0x3218c4(0x2a7)},'aws':{'endpoint':_0x3218c4(0x4d0),'region':_0x3218c4(0xf4)}};},0x33b:(_0x9a5ba1,_0x27c395,_0x35c8d2)=>{_0x35c8d2['d'](_0x27c395,{'O':()=>_0x2355eb});const _0x2355eb={};},0x3e6:(_0x4a49cd,_0x3a1934,_0x270b78)=>{const _0x59d7b1=a0_0x240a;_0x270b78['d'](_0x3a1934,{'O':()=>_0x547dca});const _0x547dca={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x59d7b1(0x600),'authDomain':_0x59d7b1(0x4a6),'databaseURL':_0x59d7b1(0x271),'projectId':_0x59d7b1(0x5cc),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':_0x59d7b1(0x3e8),'appId':_0x59d7b1(0xab),'measurementId':_0x59d7b1(0x47a)},'aws':{'endpoint':_0x59d7b1(0x440),'region':_0x59d7b1(0xf4)}};},0x20:(_0x4a9a66,_0x3d2e0a,_0x3d9a59)=>{_0x3d9a59['d'](_0x3d2e0a,{'O':()=>_0x1884df});const _0x1884df={};}},_0x11e3df={};function _0x94c462(_0x448544){const _0x4a05b5=a0_0x240a;var _0x357a31=_0x11e3df[_0x448544];if(void 0x0!==_0x357a31)return _0x357a31[_0x4a05b5(0x3d2)];var _0x1aae2c=_0x11e3df[_0x448544]={'exports':{}};return _0x58e9fc[_0x448544](_0x1aae2c,_0x1aae2c[_0x4a05b5(0x3d2)],_0x94c462),_0x1aae2c['exports'];}_0x94c462['d']=(_0x110b6e,_0xd3f4f8)=>{for(var _0x37168c in _0xd3f4f8)_0x94c462['o'](_0xd3f4f8,_0x37168c)&&!_0x94c462['o'](_0x110b6e,_0x37168c)&&Object['defineProperty'](_0x110b6e,_0x37168c,{'enumerable':!0x0,'get':_0xd3f4f8[_0x37168c]});},_0x94c462['g']=(function(){const _0xc3e860=a0_0x240a;if('object'==typeof globalThis)return globalThis;try{return this||new Function(_0xc3e860(0x543))();}catch(_0x14003c){if(_0xc3e860(0x546)==typeof window)return window;}}()),_0x94c462['o']=(_0xded8cf,_0x2bf8db)=>Object['prototype'][_0x16fbff(0x525)][_0x16fbff(0x384)](_0xded8cf,_0x2bf8db),_0x94c462['r']=_0x209a11=>{const _0x48c488=_0x16fbff;_0x48c488(0x202)!=typeof Symbol&&Symbol[_0x48c488(0x159)]&&Object['defineProperty'](_0x209a11,Symbol['toStringTag'],{'value':_0x48c488(0x5c0)}),Object[_0x48c488(0x649)](_0x209a11,_0x48c488(0x32c),{'value':!0x0});};var _0x8cb19b={};return((()=>{const _0x397592=_0x16fbff;var _0x1e3f38,_0x437522,_0x27bb8f;_0x94c462['r'](_0x8cb19b),_0x94c462['d'](_0x8cb19b,{'KeyValueDatabase':()=>_0x51db06,'LayoutBuilder':()=>_0x663740,'LoggingChannels':()=>_0x27bb8f,'QueryBuilder':()=>_0x124f64,'SDK':()=>_0x557d65,'SDKClientErrorCodes':()=>_0x1e3f38,'TableBuilder':()=>_0x389745,'logger':()=>_0x29f8ca}),function(_0x32efa9){const _0x5f3503=a0_0x240a;_0x32efa9[_0x5f3503(0xa7)]='cluster-already-joined',_0x32efa9['FeatureNotEnabled']=_0x5f3503(0x58b),_0x32efa9['ObjectStoreAlreadyExists']=_0x5f3503(0x57f),_0x32efa9['ObjectStoreAlreadySubscribed']=_0x5f3503(0x1aa),_0x32efa9['ObjectStoreDoesNotExist']=_0x5f3503(0x5a3),_0x32efa9[_0x5f3503(0x387)]=_0x5f3503(0x164),_0x32efa9[_0x5f3503(0x375)]=_0x5f3503(0x492),_0x32efa9[_0x5f3503(0x373)]=_0x5f3503(0x372),_0x32efa9[_0x5f3503(0x295)]='object-store-not-in-sync',_0x32efa9['InternalSDKError']='internal-sdk-error',_0x32efa9[_0x5f3503(0x374)]=_0x5f3503(0x1cc),_0x32efa9[_0x5f3503(0x1b4)]=_0x5f3503(0x1ee),_0x32efa9['KeyValueDatabaseIndexNotFound']='key-value-database-index-not-found',_0x32efa9[_0x5f3503(0x3f5)]='key-value-database-invalid-query',_0x32efa9[_0x5f3503(0x213)]=_0x5f3503(0x200),_0x32efa9[_0x5f3503(0x2a4)]='key-value-database-name-not-string',_0x32efa9[_0x5f3503(0x576)]=_0x5f3503(0x3c3),_0x32efa9[_0x5f3503(0x3c0)]='key-value-database-table-name-reserved',_0x32efa9['KeyValueDatabaseTableNotFound']='key-value-database-table-not-found',_0x32efa9[_0x5f3503(0x62e)]='key-value-database-invalid-layout',_0x32efa9[_0x5f3503(0x10c)]=_0x5f3503(0x16d),_0x32efa9[_0x5f3503(0xaa)]=_0x5f3503(0x5c6),_0x32efa9['PubSubTopicAlreadyExists']=_0x5f3503(0x1cb),_0x32efa9[_0x5f3503(0x614)]=_0x5f3503(0x335),_0x32efa9[_0x5f3503(0x306)]=_0x5f3503(0x480),_0x32efa9['PubSubTopicAlreadySubscribed']=_0x5f3503(0x1dc),_0x32efa9['QueryBuilderInvalidArgument']='query-helper-invalid-argument',_0x32efa9['RemoteMediaStreamAlreadyExists']=_0x5f3503(0xac),_0x32efa9[_0x5f3503(0xf6)]='remote-media-stream-invalid-subscription-params',_0x32efa9[_0x5f3503(0x581)]=_0x5f3503(0xff),_0x32efa9[_0x5f3503(0x568)]=_0x5f3503(0x5ee),_0x32efa9[_0x5f3503(0x28a)]=_0x5f3503(0x2f5),_0x32efa9[_0x5f3503(0x2d0)]='node-type-not-supported';}(_0x1e3f38||(_0x1e3f38={}));class _0x24c29d extends Error{[_0x397592(0x38b)];constructor(_0x261137,_0x59e84a){super(_0x59e84a),this['code']=_0x261137;}}!function(_0x2a48a2){const _0x57c3fd=_0x397592;_0x2a48a2['PubSub']=_0x57c3fd(0x626),_0x2a48a2[_0x57c3fd(0x471)]='object-storage',_0x2a48a2['KeyValueDatabase']=_0x57c3fd(0x236),_0x2a48a2[_0x57c3fd(0x14f)]=_0x57c3fd(0x637);}(_0x437522||(_0x437522={})),function(_0x5dd2ac){const _0x263638=_0x397592;_0x5dd2ac[_0x263638(0x27c)]=_0x263638(0x5ce),_0x5dd2ac[_0x263638(0x2aa)]=_0x263638(0x54f),_0x5dd2ac[_0x263638(0x23d)]='connection',_0x5dd2ac[_0x263638(0x5c7)]=_0x263638(0x431),_0x5dd2ac['Cluster']=_0x263638(0x36e),_0x5dd2ac[_0x263638(0x346)]='content',_0x5dd2ac[_0x263638(0x39e)]='detection',_0x5dd2ac[_0x263638(0xbf)]=_0x263638(0x45d),_0x5dd2ac[_0x263638(0x35e)]=_0x263638(0x364),_0x5dd2ac[_0x263638(0x190)]=_0x263638(0x2c5),_0x5dd2ac[_0x263638(0xe2)]=_0x263638(0x620),_0x5dd2ac[_0x263638(0x139)]=_0x263638(0x626),_0x5dd2ac[_0x263638(0x3de)]=_0x263638(0x14e),_0x5dd2ac[_0x263638(0x2cf)]=_0x263638(0x26c),_0x5dd2ac[_0x263638(0x1e6)]=_0x263638(0x5d1),_0x5dd2ac[_0x263638(0x548)]=_0x263638(0x2ab),_0x5dd2ac[_0x263638(0x39d)]=_0x263638(0x535),_0x5dd2ac[_0x263638(0x13e)]=_0x263638(0x249),_0x5dd2ac[_0x263638(0x2ee)]=_0x263638(0xe5),_0x5dd2ac[_0x263638(0x647)]='test-page',_0x5dd2ac[_0x263638(0x1f7)]=_0x263638(0x2be);}(_0x27bb8f||(_0x27bb8f={}));const _0x25e642=require('@crewdle/web-sdk-types');class _0x124f64{[_0x397592(0x2f2)];constructor(_0x55727d){const _0x445698=_0x397592;this['query']={'orderBy':{'key':_0x55727d,'direction':_0x445698(0x32a)}};}static[_0x397592(0x613)](_0x401e9a){const _0x167be1=_0x397592;if(_0x167be1(0x42a)!=typeof _0x401e9a||0x0===_0x401e9a[_0x167be1(0x42e)])throw new _0x24c29d(_0x1e3f38[_0x167be1(0x5ad)],_0x167be1(0x2b5));return new _0x124f64(_0x401e9a);}static[_0x397592(0x608)](_0x397290){const _0x5b650a=_0x397592;try{return _0x124f64[_0x5b650a(0x3d6)](_0x397290),!0x0;}catch(_0x8f1fb){return!0x1;}}static[_0x397592(0x3d6)](_0x1a1dec){const _0x57eaf4=_0x397592,_0x56bffc=_0x124f64[_0x57eaf4(0x613)](_0x1a1dec[_0x57eaf4(0x4ce)]?.[_0x57eaf4(0x3d7)]??_0x1a1dec['where']?.[_0x57eaf4(0x3d7)]??'');if(_0x1a1dec['where']){const _0x2e1e04=_0x1a1dec['where'];if((_0x124f64[_0x57eaf4(0x503)](_0x2e1e04)||_0x124f64['isWhereValues'](_0x2e1e04)||_0x124f64[_0x57eaf4(0x192)](_0x2e1e04))&&_0x56bffc[_0x57eaf4(0x38a)](_0x2e1e04[_0x57eaf4(0x27a)],_0x2e1e04['value']),_0x1a1dec[_0x57eaf4(0x4ce)]?.[_0x57eaf4(0x3d7)]&&_0x1a1dec[_0x57eaf4(0x4ce)]?.['key']!==_0x1a1dec[_0x57eaf4(0x38a)]['key'])throw new _0x24c29d(_0x1e3f38[_0x57eaf4(0x5ad)],_0x57eaf4(0x1b6));}return _0x1a1dec[_0x57eaf4(0x4ce)]&&_0x56bffc['orderBy'](_0x1a1dec[_0x57eaf4(0x4ce)][_0x57eaf4(0x17c)]),_0x1a1dec['limit']&&_0x56bffc[_0x57eaf4(0x5d6)](_0x1a1dec[_0x57eaf4(0x5d6)]),_0x1a1dec[_0x57eaf4(0x2b9)]&&_0x56bffc[_0x57eaf4(0x2b9)](_0x1a1dec['offset']),_0x56bffc;}[_0x397592(0x9a)](){const _0x1ed5de=_0x397592;return{...this[_0x1ed5de(0x2f2)]};}[_0x397592(0x38a)](_0x3ad2b9,_0x1bf5af){const _0x343941=_0x397592,_0x1c22c8={'key':this[_0x343941(0x2f2)][_0x343941(0x4ce)][_0x343941(0x3d7)],'operator':_0x3ad2b9,'value':_0x1bf5af};if(!_0x124f64[_0x343941(0x503)](_0x1c22c8)&&!_0x124f64[_0x343941(0x27d)](_0x1c22c8)&&!_0x124f64['isWhereBetween'](_0x1c22c8))throw new _0x24c29d(_0x1e3f38[_0x343941(0x5ad)],_0x343941(0x37d));return this[_0x343941(0x2f2)][_0x343941(0x38a)]=_0x1c22c8,this;}[_0x397592(0x4ce)](_0x40e2d9){const _0x3c5cdc=_0x397592;if(_0x3c5cdc(0x32a)!==_0x40e2d9&&'desc'!==_0x40e2d9)throw new _0x24c29d(_0x1e3f38[_0x3c5cdc(0x5ad)],_0x3c5cdc(0x50e));return this[_0x3c5cdc(0x2f2)][_0x3c5cdc(0x4ce)][_0x3c5cdc(0x17c)]=_0x40e2d9,this;}['limit'](_0x23500f){const _0x4a9899=_0x397592;if(_0x4a9899(0x4e1)!=typeof _0x23500f||_0x23500f<0x0)throw new _0x24c29d(_0x1e3f38[_0x4a9899(0x5ad)],_0x4a9899(0x332));return this[_0x4a9899(0x2f2)][_0x4a9899(0x5d6)]=_0x23500f,this;}[_0x397592(0x2b9)](_0x130221){const _0x4f44d1=_0x397592;if(_0x4f44d1(0x4e1)!=typeof _0x130221||_0x130221<0x0)throw new _0x24c29d(_0x1e3f38['QueryBuilderInvalidArgument'],_0x4f44d1(0x166));return this['query']['offset']=_0x130221,this;}static[_0x397592(0x503)](_0x5915f2){const _0x26c799=_0x397592;if(!(_0x5915f2&&'object'==typeof _0x5915f2&&_0x26c799(0x27a)in _0x5915f2&&'value'in _0x5915f2))return!0x1;const {operator:_0x5f38e0,value:_0x3284bb}=_0x5915f2;return!(!['==','!=','>','<','<=','>='][_0x26c799(0x4dd)](_0x5f38e0)||Array[_0x26c799(0x4ab)](_0x3284bb));}static[_0x397592(0x27d)](_0x45358d){const _0x33fa78=_0x397592;if(!(_0x45358d&&_0x33fa78(0x546)==typeof _0x45358d&&_0x33fa78(0x27a)in _0x45358d&&_0x33fa78(0x3fd)in _0x45358d))return!0x1;const {operator:_0x378647,value:_0x23b355}=_0x45358d;return!(!['in',_0x33fa78(0xe0)][_0x33fa78(0x4dd)](_0x378647)||!Array[_0x33fa78(0x4ab)](_0x23b355));}static['isWhereBetween'](_0x3bc7df){const _0x489894=_0x397592;if(!(_0x3bc7df&&_0x489894(0x546)==typeof _0x3bc7df&&'operator'in _0x3bc7df&&'value'in _0x3bc7df))return!0x1;const {operator:_0x17e2da,value:_0x3d4182}=_0x3bc7df;return!(_0x489894(0x32e)!==_0x17e2da||!Array[_0x489894(0x4ab)](_0x3d4182)||0x2!==_0x3d4182[_0x489894(0x42e)]);}}class _0x663740{[_0x397592(0x44b)];constructor(_0x3b336d){const _0x376df0=_0x397592;this[_0x376df0(0x44b)]={'tables':{},'version':_0x3b336d};}static[_0x397592(0x24b)](_0x381872){const _0x6da825=_0x397592;for(const _0x320aec in _0x381872){if(_0x6da825(0x1d3)!==_0x320aec&&_0x6da825(0x580)!==_0x320aec)return[!0x1,_0x6da825(0x19b)+_0x320aec+'\x27\x20in\x20layout'];if(_0x6da825(0x580)===_0x320aec)for(const _0x433289 in _0x381872[_0x6da825(0x580)]){if(_0x6da825(0x42a)!=typeof _0x433289)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x433289+'\x27'];for(const _0x3228e1 in _0x381872[_0x6da825(0x580)][_0x433289]){if(_0x6da825(0x55f)!==_0x3228e1)return[!0x1,_0x6da825(0x19b)+_0x3228e1+'\x27\x20in\x20table\x20\x27'+_0x433289+'\x27'];const _0x2e0a99=_0x381872[_0x6da825(0x580)][_0x433289][_0x3228e1]??[];for(const _0x28f338 of _0x2e0a99)if(void 0x0===_0x28f338[_0x6da825(0x3c2)]||_0x6da825(0x42a)!=typeof _0x28f338[_0x6da825(0x3c2)])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x433289+_0x6da825(0x537)];}}else{if(_0x6da825(0x1d3)===_0x320aec&&_0x6da825(0x4e1)!=typeof _0x381872[_0x320aec])return[!0x1,_0x6da825(0x318)+_0x381872[_0x320aec]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x6da825(0x5eb)];}static['layout'](_0x81dc19){const _0x4fcbc3=_0x397592,_0x4c4b23=new _0x663740(_0x81dc19);return _0x4c4b23[_0x4fcbc3(0x44b)][_0x4fcbc3(0x1d3)]=_0x81dc19,_0x4c4b23;}['table'](_0x2a1042){const _0x3b04ca=_0x397592;return this['layout'][_0x3b04ca(0x580)][_0x2a1042]={},new _0x389745(this[_0x3b04ca(0x44b)]['tables'][_0x2a1042]);}['getLayout'](){const _0x2a75b6=_0x397592;return this[_0x2a75b6(0x44b)];}}class _0x389745{['tableLayout'];constructor(_0x15afb4){this['tableLayout']=_0x15afb4;}[_0x397592(0x613)](_0x53643d){const _0x3fa061=_0x397592;return this[_0x3fa061(0x39a)][_0x3fa061(0x55f)]=this[_0x3fa061(0x39a)][_0x3fa061(0x55f)]??[],this[_0x3fa061(0x39a)][_0x3fa061(0x55f)]['push']({'keyPath':_0x53643d}),this;}}const _0x32fab3=_0x397592(0x36d),_0x190eb4='.crewdle-pending',_0x3d242a=_0x397592(0x311),_0x51c004=_0x397592(0x2ec),_0x34e5d7=0x7530,_0x5ef92f='internal';var _0x5b5378;!function(_0x213bef){const _0xe719f=_0x397592;_0x213bef['ConnectionNotinitialized']=_0xe719f(0x558),_0x213bef[_0xe719f(0x1f3)]='connection-not-connected',_0x213bef[_0xe719f(0x1b0)]='connection-no-retry-queue',_0x213bef[_0xe719f(0x477)]=_0xe719f(0x186),_0x213bef[_0xe719f(0x294)]=_0xe719f(0x403),_0x213bef[_0xe719f(0xb3)]='object-store-invalid-sync-message',_0x213bef[_0xe719f(0x28d)]=_0xe719f(0xdc),_0x213bef[_0xe719f(0x30a)]=_0xe719f(0x4a4),_0x213bef[_0xe719f(0x127)]=_0xe719f(0x1ef),_0x213bef[_0xe719f(0x48d)]='invalid-subscriber',_0x213bef[_0xe719f(0x648)]=_0xe719f(0x4fe),_0x213bef[_0xe719f(0x4e2)]=_0xe719f(0x4a5),_0x213bef['KeyValueDatabaseTableDoesNotExist']='key-value-database-table-does-not-exist',_0x213bef[_0xe719f(0x4e4)]=_0xe719f(0x59a),_0x213bef[_0xe719f(0x638)]='key-value-database-transaction-value-not-set',_0x213bef[_0xe719f(0x405)]=_0xe719f(0x4b4),_0x213bef[_0xe719f(0x12e)]=_0xe719f(0x2e8),_0x213bef[_0xe719f(0x483)]=_0xe719f(0x174),_0x213bef[_0xe719f(0x489)]=_0xe719f(0x3ef),_0x213bef[_0xe719f(0x389)]=_0xe719f(0x205),_0x213bef[_0xe719f(0xfd)]='remote-stream-missing-provider-id',_0x213bef[_0xe719f(0x3e7)]=_0xe719f(0x592),_0x213bef[_0xe719f(0x56e)]=_0xe719f(0x247),_0x213bef['SubscriptionRequestFailed']=_0xe719f(0x16a),_0x213bef[_0xe719f(0x106)]=_0xe719f(0x20e),_0x213bef[_0xe719f(0x21a)]='node-does-not-exist',_0x213bef[_0xe719f(0xa8)]=_0xe719f(0x4d9),_0x213bef['PeerConnectionInvalidDestination']=_0xe719f(0x3da);}(_0x5b5378||(_0x5b5378={}));const _0x2ab002=new Map([[_0x5b5378['ConnectionNotinitialized'],'Connection\x20not\x20initialized.'],[_0x5b5378['ConnectionNotConnected'],_0x397592(0x422)],[_0x5b5378[_0x397592(0x1b0)],_0x397592(0x559)],[_0x5b5378[_0x397592(0x477)],'Invalid\x20data\x20event.'],[_0x5b5378[_0x397592(0x294)],_0x397592(0x472)],[_0x5b5378[_0x397592(0xb3)],_0x397592(0x297)],[_0x5b5378[_0x397592(0x28d)],_0x397592(0x1a0)],[_0x5b5378[_0x397592(0x30a)],_0x397592(0xef)],[_0x5b5378[_0x397592(0x127)],_0x397592(0x4b3)],[_0x5b5378[_0x397592(0x48d)],'Invalid\x20subscriber.'],[_0x5b5378[_0x397592(0x648)],'Invalid\x20subscription.'],[_0x5b5378[_0x397592(0x4e2)],_0x397592(0x53d)],[_0x5b5378['KeyValueDatabaseTableDoesNotExist'],_0x397592(0x643)],[_0x5b5378[_0x397592(0x4e4)],_0x397592(0x234)],[_0x5b5378[_0x397592(0x638)],_0x397592(0x2f4)],[_0x5b5378[_0x397592(0x405)],_0x397592(0x3ff)],[_0x5b5378['MissingRemoteConnection'],_0x397592(0x5c5)],[_0x5b5378['MissingSystemTopic'],_0x397592(0x60c)],[_0x5b5378['OutgoingMediaStreamNoTopic'],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x5b5378['RemoteMediaStreamDoesNotExist'],_0x397592(0x636)],[_0x5b5378['RemoteMediaStreamMissingProviderId'],_0x397592(0x639)],[_0x5b5378[_0x397592(0x3e7)],_0x397592(0x467)],[_0x5b5378[_0x397592(0x56e)],_0x397592(0x2c7)],[_0x5b5378[_0x397592(0x23f)],_0x397592(0x28b)],[_0x5b5378[_0x397592(0x106)],_0x397592(0x4f6)],[_0x5b5378[_0x397592(0x21a)],'Node\x20does\x20not\x20exist.'],[_0x5b5378[_0x397592(0xa8)],'Node\x20already\x20exists.'],[_0x5b5378[_0x397592(0xdf)],_0x397592(0x12b)]]);class _0x5efe70 extends Error{[_0x397592(0x38b)];static ['codes']=_0x5b5378;['data'];constructor(_0x370939,_0x664241){const _0x2165cf=_0x397592;super('Internal\x20SDK\x20Error:\x20'+_0x370939+':\x20'+_0x2ab002[_0x2165cf(0x5e6)](_0x370939)+'\x0aAdditional\x20data:\x20'+JSON[_0x2165cf(0x2f9)](_0x664241)),this['code']=_0x370939,this[_0x2165cf(0x476)]=_0x664241||{};}}var _0x566301,_0x35fa3f,_0x24bc9d,_0x5b90b7,_0x3af80f,_0x542695;!function(_0x3e5103){const _0x3ed694=_0x397592;_0x3e5103[_0x3e5103['PublishMediaStream']=0x0]='PublishMediaStream',_0x3e5103[_0x3e5103[_0x3ed694(0x2d6)]=0x1]=_0x3ed694(0x2d6),_0x3e5103[_0x3e5103[_0x3ed694(0x57c)]=0x2]='SubscribeMediaStream',_0x3e5103[_0x3e5103[_0x3ed694(0x53b)]=0x3]=_0x3ed694(0x53b),_0x3e5103[_0x3e5103[_0x3ed694(0x30b)]=0x4]=_0x3ed694(0x30b),_0x3e5103[_0x3e5103['CloseObjectStoreBucket']=0x5]=_0x3ed694(0x251),_0x3e5103[_0x3e5103[_0x3ed694(0xdb)]=0x6]=_0x3ed694(0xdb),_0x3e5103[_0x3e5103['ClosePubSubTopic']=0x7]=_0x3ed694(0x19f),_0x3e5103[_0x3e5103[_0x3ed694(0x4d8)]=0x8]=_0x3ed694(0x4d8),_0x3e5103[_0x3e5103[_0x3ed694(0x97)]=0x9]=_0x3ed694(0x97),_0x3e5103[_0x3e5103[_0x3ed694(0x24d)]=0xa]=_0x3ed694(0x24d),_0x3e5103[_0x3e5103[_0x3ed694(0x566)]=0xb]='RequestSyncKeyValueDatabase',_0x3e5103[_0x3e5103[_0x3ed694(0x96)]=0xc]=_0x3ed694(0x96),_0x3e5103[_0x3e5103[_0x3ed694(0x16b)]=0xd]=_0x3ed694(0x16b),_0x3e5103[_0x3e5103[_0x3ed694(0x26e)]=0xe]='PubSubTopicStats',_0x3e5103[_0x3e5103[_0x3ed694(0x282)]=0xf]='ObjectStoreStats',_0x3e5103[_0x3e5103[_0x3ed694(0xd3)]=0x10]=_0x3ed694(0xd3);}(_0x566301||(_0x566301={})),function(_0x133a09){const _0x1bee6e=_0x397592;_0x133a09['FileWrite']='file-write',_0x133a09[_0x1bee6e(0x5c9)]='folder-create',_0x133a09[_0x1bee6e(0x482)]='delete',_0x133a09[_0x1bee6e(0x2ef)]='move',_0x133a09[_0x1bee6e(0x545)]='request-file',_0x133a09[_0x1bee6e(0x43f)]=_0x1bee6e(0x148),_0x133a09[_0x1bee6e(0x203)]=_0x1bee6e(0x3fe),_0x133a09[_0x1bee6e(0x4e9)]=_0x1bee6e(0x49d);}(_0x35fa3f||(_0x35fa3f={})),function(_0x5828c3){const _0x5adcd1=_0x397592;_0x5828c3['Request']=_0x5adcd1(0x629),_0x5828c3[_0x5adcd1(0x51c)]=_0x5adcd1(0x399);}(_0x24bc9d||(_0x24bc9d={})),function(_0x2eade8){const _0x32a56b=_0x397592;_0x2eade8[_0x32a56b(0x211)]='add',_0x2eade8['Update']='update',_0x2eade8[_0x32a56b(0x482)]=_0x32a56b(0x457);}(_0x5b90b7||(_0x5b90b7={})),function(_0x5dd2d2){const _0x552dda=_0x397592;_0x5dd2d2[_0x552dda(0x591)]=_0x552dda(0x5e6),_0x5dd2d2[_0x552dda(0x161)]=_0x552dda(0x181),_0x5dd2d2[_0x552dda(0x1e7)]=_0x552dda(0x2ac);}(_0x3af80f||(_0x3af80f={})),function(_0x3be3e8){const _0x24ab25=_0x397592;_0x3be3e8[_0x3be3e8[_0x24ab25(0x1f7)]=0x0]=_0x24ab25(0x1f7),_0x3be3e8[_0x3be3e8[_0x24ab25(0x190)]=0x1]=_0x24ab25(0x190),_0x3be3e8[_0x3be3e8[_0x24ab25(0x346)]=0x2]='Content',_0x3be3e8[_0x3be3e8[_0x24ab25(0x548)]=0x3]=_0x24ab25(0x548),_0x3be3e8[_0x3be3e8[_0x24ab25(0x1e6)]=0x4]=_0x24ab25(0x1e6),_0x3be3e8[_0x3be3e8[_0x24ab25(0x39e)]=0x5]=_0x24ab25(0x39e),_0x3be3e8[_0x3be3e8['Remediation']=0x6]='Remediation';}(_0x542695||(_0x542695={}));class _0x391aaf{[_0x397592(0x607)];[_0x397592(0x290)];[_0x397592(0x4f8)];constructor(_0x101f79,_0x468252){const _0x1b67b6=_0x397592;this[_0x1b67b6(0x607)]=_0x101f79,this[_0x1b67b6(0x290)]=_0x468252;}[_0x397592(0x331)](){const _0x599a7d=_0x397592;return this[_0x599a7d(0x290)];}['getOwnerId'](){const _0x870e6a=_0x397592;return this[_0x870e6a(0x607)][_0x870e6a(0x130)]();}[_0x397592(0x2a6)](){}['registerSystemPublisher'](_0x2a3278){const _0x3a8612=_0x397592;this[_0x3a8612(0x4f8)]=_0x2a3278;}[_0x397592(0xd0)](){const _0x4c1027=_0x397592;delete this[_0x4c1027(0x4f8)];}}function _0x3aae16(_0x293692,_0x26a641){return'/'===_0x293692?_0x293692+_0x26a641:_0x293692+'/'+_0x26a641;}function _0xdcf78f(_0x180efa){const _0x227414=_0x397592,_0xa9dbe5=function(_0xee797f){const _0x43a49d=a0_0x240a;return _0xee797f[_0x43a49d(0x173)]('/')[_0x43a49d(0x602)](_0x52ca40=>_0x52ca40[_0x43a49d(0x42e)]>0x0);}(_0x180efa),_0x3885b5=_0xa9dbe5['pop']()||'',_0x1cb06d=_0xa9dbe5['join']('/');return[0x0===_0x1cb06d[_0x227414(0x42e)]?'/':_0x1cb06d,_0x3885b5];}async function _0x120e23(_0x10fa87){const _0x169af2=_0x397592,_0x1b1502=await _0x10fa87[_0x169af2(0x57a)](),_0x1fb290=new Uint8Array(_0x1b1502);let _0x29acc8=0x0;for(const _0x55443f of _0x1fb290)_0x29acc8+=_0x55443f;return _0x29acc8[_0x169af2(0x2a1)]();}function _0x2fb6eb(_0x39ceea){return new Promise((_0x515b9c,_0x866e19)=>{!function(_0x10549c,_0x56a62f,_0x274958){let _0x543153=0x0;const _0x1c69c9=[],_0x23bcec=()=>{const _0x3b4d65=a0_0x240a;let _0x36fd2d=_0x543153+0x3f800;_0x36fd2d>_0x10549c[_0x3b4d65(0x37e)]&&(_0x36fd2d=_0x10549c[_0x3b4d65(0x37e)]);let _0x1f20f9=_0x10549c[_0x3b4d65(0x5ef)](_0x543153,_0x36fd2d),_0x46adc7=new FileReader();_0x46adc7[_0x3b4d65(0x1f8)]=_0x2afeb9=>{const _0x3e900c=_0x3b4d65;_0x1c69c9[_0x3e900c(0x2d7)](_0x46adc7[_0x3e900c(0x142)]),_0x543153=_0x36fd2d,_0x543153<_0x10549c[_0x3e900c(0x37e)]?_0x23bcec():_0x56a62f(_0x1c69c9);},_0x46adc7[_0x3b4d65(0x52e)]=_0x192aee=>{_0x274958(_0x192aee);},_0x46adc7[_0x3b4d65(0x310)](_0x1f20f9);};_0x23bcec();}(_0x39ceea,_0x515b9c,_0x866e19);});}function _0x252bce(_0x11efe9,_0x5715d6,_0x3f54b7){return new File(_0x11efe9,_0x5715d6,{'type':_0x3f54b7});}class _0x243587 extends _0x391aaf{['outgoingTopic'];[_0x397592(0x13d)];[_0x397592(0x579)]=new Map();[_0x397592(0x235)]=0x0;[_0x397592(0x594)]=0x0;['bytesSent']=0x0;['bytesReceived']=0x0;constructor(_0x53e249,_0x298efd){super(_0x53e249,_0x298efd);}['getLabel'](){const _0x4d1fdb=_0x397592;return this[_0x4d1fdb(0x290)];}[_0x397592(0x147)](){const _0x1eb394=_0x397592;return this[_0x1eb394(0x290)];}['getContentType'](){const _0x4636b0=_0x397592;return _0x25e642[_0x4636b0(0x20d)][_0x4636b0(0x508)];}[_0x397592(0x217)](){const _0x3b4b82=_0x397592;return this[_0x3b4b82(0x290)];}['registerPublisher'](_0x3051f4){const _0x1c98ba=_0x397592;if(this[_0x1c98ba(0x1b2)])throw new _0x5efe70(_0x5efe70['codes'][_0x1c98ba(0x127)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this['owner'][_0x1c98ba(0x130)]()+'\x20-\x20'+this[_0x1c98ba(0x290)],'topic':this[_0x1c98ba(0x1b2)]});this[_0x1c98ba(0x1b2)]=_0x3051f4;}[_0x397592(0x18c)](_0x4391e7){const _0x19d076=_0x397592;if(this[_0x19d076(0x13d)])throw new _0x5efe70(_0x5efe70[_0x19d076(0x50b)]['InvalidSubscriber'],{'message':_0x19d076(0x35a)+this[_0x19d076(0x607)][_0x19d076(0x130)]()+_0x19d076(0x4ea)+this[_0x19d076(0x290)],'topic':this[_0x19d076(0x13d)]});this[_0x19d076(0x13d)]=_0x4391e7;}[_0x397592(0x3d3)](){const _0x1a4fe7=_0x397592;delete this[_0x1a4fe7(0x1b2)];}[_0x397592(0x34a)](){const _0x4fbdee=_0x397592;delete this[_0x4fbdee(0x13d)];}async['send'](_0x4d15b7,_0x1b702e){const _0x2033e8=_0x397592;if(this[_0x2033e8(0x235)]+=0x1,_0x4d15b7 instanceof File){const _0x42c6a6=await _0x2fb6eb(_0x4d15b7);return this[_0x2033e8(0x605)]+=_0x42c6a6['reduce']((_0x43c451,_0x2110f6)=>_0x43c451+_0x2110f6[_0x2033e8(0x5d7)],0x0),void _0x42c6a6[_0x2033e8(0x633)]((_0x468c48,_0x5e2c82)=>{const _0x4abcf7=_0x2033e8;this['outgoingTopic'][_0x4abcf7(0x16f)]({'sourceId':this[_0x4abcf7(0x607)][_0x4abcf7(0x130)](),'destinationIds':_0x1b702e,'propagate':!0x0,'contentType':_0x25e642[_0x4abcf7(0x20d)]['File'],'content':{'name':_0x4d15b7[_0x4abcf7(0x3af)],'type':_0x4d15b7['type'],'data':_0x468c48,'index':_0x5e2c82,'total':_0x42c6a6[_0x4abcf7(0x42e)]}});});}this[_0x2033e8(0x605)]+=JSON[_0x2033e8(0x2f9)](_0x4d15b7)[_0x2033e8(0x42e)],this[_0x2033e8(0x1b2)]['publish']({'sourceId':this[_0x2033e8(0x607)][_0x2033e8(0x130)](),'destinationIds':_0x1b702e,'propagate':!0x0,'contentType':_0x25e642['ContentType'][_0x2033e8(0x508)],'content':_0x4d15b7});}[_0x397592(0xbc)](_0x59f1ed){const _0x533aaf=_0x397592;return this['incomingTopic'][_0x533aaf(0xda)](_0x5c73cf=>{const _0x11e816=_0x533aaf;switch(_0x5c73cf['contentType']){case _0x25e642[_0x11e816(0x20d)]['Data']:this[_0x11e816(0x594)]+=0x1,this[_0x11e816(0x26a)]+=JSON[_0x11e816(0x2f9)](_0x5c73cf[_0x11e816(0x512)])[_0x11e816(0x42e)],_0x59f1ed(_0x5c73cf['sourceId'],_0x5c73cf[_0x11e816(0x512)]);break;case _0x25e642['ContentType'][_0x11e816(0x19c)]:this[_0x11e816(0x579)][_0x11e816(0x1ac)](_0x5c73cf[_0x11e816(0x512)]['name'])||this['fileChunks'][_0x11e816(0x42c)](_0x5c73cf[_0x11e816(0x512)][_0x11e816(0x3af)],[]);const _0x5df3c1=this[_0x11e816(0x579)][_0x11e816(0x5e6)](_0x5c73cf[_0x11e816(0x512)][_0x11e816(0x3af)]);_0x5df3c1[_0x5c73cf[_0x11e816(0x512)][_0x11e816(0x613)]]=_0x5c73cf[_0x11e816(0x512)][_0x11e816(0x476)],_0x5df3c1[_0x11e816(0x42e)]===_0x5c73cf[_0x11e816(0x512)][_0x11e816(0x5f1)]&&(this[_0x11e816(0x594)]+=0x1,this['bytesReceived']+=_0x5df3c1[_0x11e816(0x29d)]((_0xf65a4e,_0x238511)=>_0xf65a4e+_0x238511[_0x11e816(0x5d7)],0x0),_0x59f1ed(_0x5c73cf[_0x11e816(0x108)],_0x252bce(_0x5df3c1,_0x5c73cf[_0x11e816(0x512)][_0x11e816(0x3af)],_0x5c73cf[_0x11e816(0x512)][_0x11e816(0x1c2)])),this[_0x11e816(0x579)]['delete'](_0x5c73cf[_0x11e816(0x512)][_0x11e816(0x3af)]));}});}}function _0x19e3ff(){let _0x7e20d7=[];return{'subscribe':_0x4556c0=>(_0x7e20d7['push'](_0x4556c0),()=>{const _0x178857=a0_0x240a;_0x7e20d7=_0x7e20d7[_0x178857(0x602)](_0x4a3b89=>_0x4a3b89!==_0x4556c0);}),'publish':_0xc3956b=>{const _0x37ffe1=a0_0x240a;_0x7e20d7[_0x37ffe1(0x633)](_0x258ec6=>_0x258ec6(_0xc3956b));}};}function _0x46b21e(){let _0x56018f;return{'subscribe':_0x15b4a7=>(_0x56018f=_0x15b4a7,()=>{_0x56018f=void 0x0;}),'publish':_0x49927f=>{_0x56018f&&_0x56018f(_0x49927f);}};}class _0x36260e{['connector'];['tableName'];[_0x397592(0x218)];[_0x397592(0x645)]=_0x46b21e();[_0x397592(0x13b)];constructor(_0x4ea722,_0x21d034,_0x1d2d54){const _0x1134be=_0x397592;this[_0x1134be(0x2bf)]=_0x4ea722,this[_0x1134be(0x518)]=_0x21d034,this[_0x1134be(0x218)]=_0x1d2d54;}[_0x397592(0x2a6)](){const _0x51d992=_0x397592;this[_0x51d992(0x13b)]?.();}async['get'](_0x35bb76){const _0x42f3f1=_0x397592,_0x53c763={'key':_0x35bb76,'tableName':this['tableName'],'action':_0x3af80f[_0x42f3f1(0x591)]};return this[_0x42f3f1(0x218)]['publish'](_0x53c763),this[_0x42f3f1(0x2bf)][_0x42f3f1(0x5e6)](_0x35bb76);}async['set'](_0xd68d26,_0x51be9e,_0x1a0934=!0x0){const _0x147809=_0x397592;this[_0x147809(0x4a3)](_0x51be9e);const _0x4005a9=await this[_0x147809(0x2bf)][_0x147809(0x5e6)](_0xd68d26),_0x25b82c=await this[_0x147809(0x2bf)][_0x147809(0x42c)](_0xd68d26,_0x51be9e),_0x32894a=_0x4005a9?_0x5b90b7[_0x147809(0x641)]:_0x5b90b7[_0x147809(0x211)];if(this[_0x147809(0x16f)](_0x32894a,_0x25b82c),!_0x1a0934)return _0x25b82c;const _0x48f292={'key':_0xd68d26,'tableName':this[_0x147809(0x518)],'action':_0x32894a,'value':_0x25b82c};return this[_0x147809(0x218)]['publish'](_0x48f292),_0x25b82c;}async[_0x397592(0x11f)](_0x198549){const _0x3d6a15=_0x397592;this[_0x3d6a15(0x4a3)](_0x198549);const _0x4924b8=await this[_0x3d6a15(0x2bf)][_0x3d6a15(0x11f)](_0x198549),_0x1f27e1={'key':_0x4924b8['id'],'tableName':this[_0x3d6a15(0x518)],'action':_0x5b90b7[_0x3d6a15(0x211)],'value':_0x4924b8};return this[_0x3d6a15(0x218)]['publish'](_0x1f27e1),this[_0x3d6a15(0x16f)](_0x1f27e1[_0x3d6a15(0x1c8)],_0x4924b8),_0x4924b8;}async[_0x397592(0x457)](_0x20f1bd,_0x55aa2e=!0x0){const _0x18472d=_0x397592,_0x5863cf=await this[_0x18472d(0x2bf)][_0x18472d(0x5e6)](_0x20f1bd);if(!_0x5863cf)return;await this[_0x18472d(0x2bf)][_0x18472d(0x457)](_0x20f1bd);const _0x544ad5=_0x5b90b7[_0x18472d(0x482)];if(this[_0x18472d(0x16f)](_0x544ad5,_0x5863cf),!_0x55aa2e)return;const _0x203777={'key':_0x20f1bd,'tableName':this[_0x18472d(0x518)],'action':_0x544ad5,'value':_0x5863cf};this[_0x18472d(0x218)][_0x18472d(0x16f)](_0x203777);}async['clear'](){const _0x2cabd7=_0x397592,_0x5939da=await this['list']();for(const _0x49d1cf of _0x5939da){const _0x5831d8=_0x5b90b7[_0x2cabd7(0x482)];this[_0x2cabd7(0x16f)](_0x5831d8,_0x49d1cf);const _0x51cfc0={'key':_0x49d1cf['id'],'tableName':this[_0x2cabd7(0x518)],'action':_0x5831d8,'value':_0x49d1cf};this[_0x2cabd7(0x218)][_0x2cabd7(0x16f)](_0x51cfc0);}return this[_0x2cabd7(0x2bf)][_0x2cabd7(0x562)]();}async['list'](_0x37fd86){const _0x15fee2=_0x397592,_0xcc09fe={'key':'','tableName':this[_0x15fee2(0x518)],'action':_0x3af80f[_0x15fee2(0x161)]};this['tableObserver'][_0x15fee2(0x16f)](_0xcc09fe);try{_0x37fd86&&(_0x37fd86=_0x37fd86 instanceof _0x124f64?_0x37fd86[_0x15fee2(0x9a)]():_0x124f64[_0x15fee2(0x3d6)](_0x37fd86)[_0x15fee2(0x9a)]());}catch(_0x4762db){throw new _0x24c29d(_0x1e3f38[_0x15fee2(0x3f5)],_0x15fee2(0x146));}try{return await this['connector'][_0x15fee2(0x181)](_0x37fd86);}catch(_0x39e510){let _0x5e3ce2=_0x15fee2(0x146);throw _0x39e510 instanceof Error&&(_0x5e3ce2=_0x39e510[_0x15fee2(0x3e5)]),new _0x24c29d(_0x1e3f38['KeyValueDatabaseInvalidQuery'],_0x5e3ce2);}}async[_0x397592(0x2ac)](_0x357eae){const _0x5f2ca9=_0x397592,_0x1779bf={'key':'','tableName':this[_0x5f2ca9(0x518)],'action':_0x3af80f['Count']};this[_0x5f2ca9(0x218)][_0x5f2ca9(0x16f)](_0x1779bf);try{_0x357eae&&(_0x357eae=_0x357eae instanceof _0x124f64?_0x357eae['getQuery']():_0x124f64['buildQuery'](_0x357eae)[_0x5f2ca9(0x9a)]());}catch(_0x122ec5){throw new _0x24c29d(_0x1e3f38[_0x5f2ca9(0x3f5)],_0x5f2ca9(0x146));}try{return await this[_0x5f2ca9(0x2bf)]['count'](_0x357eae);}catch(_0x44e89e){let _0x457e10=_0x5f2ca9(0x146);throw _0x44e89e instanceof Error&&(_0x457e10=_0x44e89e[_0x5f2ca9(0x3e5)]),new _0x24c29d(_0x1e3f38[_0x5f2ca9(0x3f5)],_0x457e10);}}[_0x397592(0x47b)](){const _0x126b1e=_0x397592;return this[_0x126b1e(0x2bf)][_0x126b1e(0x47b)]();}['subscribe'](_0xdf68f7){const _0x35d1b8=_0x397592;this[_0x35d1b8(0x13b)]=this['eventListener'][_0x35d1b8(0xda)](_0xdf68f7);}['unsubscribe'](){const _0x4bd424=_0x397592;this[_0x4bd424(0x13b)]?.();}[_0x397592(0x16f)](_0x29fd54,_0x3ee6e8){const _0x2a0d04=_0x397592,_0x5d2155=this[_0x2a0d04(0x554)](_0x29fd54,_0x3ee6e8);this['eventListener'][_0x2a0d04(0x16f)](_0x5d2155);}[_0x397592(0x554)](_0x3aacbf,_0x465920){const _0x14b32b=_0x397592;let _0x36437f;switch(_0x3aacbf){case _0x5b90b7[_0x14b32b(0x211)]:_0x36437f=_0x14b32b(0x11f);break;case _0x5b90b7[_0x14b32b(0x641)]:_0x36437f=_0x14b32b(0x4ee);break;case _0x5b90b7['Delete']:_0x36437f='delete';}return{'action':_0x36437f,'value':_0x465920};}[_0x397592(0x4a3)](_0x391ad7){const _0x427e49=_0x397592;if(_0x427e49(0x546)!=typeof _0x391ad7||null===_0x391ad7)throw new _0x24c29d(_0x1e3f38[_0x427e49(0x213)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x4bb08d in _0x391ad7){const _0x21871c=_0x391ad7[_0x4bb08d];if(_0x427e49(0x546)!=typeof _0x21871c||_0x21871c instanceof Date){if(![_0x427e49(0x42a),_0x427e49(0x4e1),'boolean'][_0x427e49(0x4dd)](typeof _0x21871c))throw new _0x24c29d(_0x1e3f38[_0x427e49(0x213)],_0x427e49(0x22b)+_0x4bb08d+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x427e49(0x4a3)](_0x21871c);}}}const _0x47d88e=require('firebase/app'),_0x25fce6=require('firebase/auth'),_0x320e38=require('firebase/database'),_0x2aaf65=require('firebase/firestore'),_0x15fb62=require('firebase/functions');let _0x440717=_0x94c462(0x14d)['O'];function _0x356200(_0x485db5){const _0x1fa8a1=_0x397592;return!(!_0x485db5||_0x1fa8a1(0x546)!=typeof _0x485db5||Array[_0x1fa8a1(0x4ab)](_0x485db5));}_0x440717=function _0x2b96ee(_0x11b3fe,..._0x12fd4b){const _0x50cb82=_0x397592;if(!Array['isArray'](_0x12fd4b)||0x0===_0x12fd4b['length'])return _0x11b3fe;const _0x21d147=_0x12fd4b[_0x50cb82(0x136)]();if(_0x356200(_0x11b3fe)&&_0x356200(_0x21d147)){for(const _0x35bce5 in _0x21d147)_0x356200(_0x21d147[_0x35bce5])?(_0x11b3fe[_0x35bce5]||Object[_0x50cb82(0x17a)](_0x11b3fe,{[_0x35bce5]:{}}),_0x2b96ee(_0x11b3fe[_0x35bce5],_0x21d147[_0x35bce5])):Object[_0x50cb82(0x17a)](_0x11b3fe,{[_0x35bce5]:_0x21d147[_0x35bce5]});}return _0x2b96ee(_0x11b3fe,..._0x12fd4b);}(_0x440717,_0x94c462(0x3e6)['O']);const _0x1a80bf=_0x440717;class _0x3457f3{static [_0x397592(0x468)];[_0x397592(0x17d)];[_0x397592(0x3c9)];[_0x397592(0x586)];[_0x397592(0xdd)];['firestore'];[_0x397592(0x573)];constructor(){}static[_0x397592(0x1dd)](){const _0x3f33e2=_0x397592;return _0x3457f3[_0x3f33e2(0x468)]||(_0x3457f3[_0x3f33e2(0x468)]=new _0x3457f3()),_0x3457f3[_0x3f33e2(0x468)];}[_0x397592(0x34f)](){const _0x387bf7=_0x397592;return this['app']||(this['app']=(0x0,_0x47d88e[_0x387bf7(0x230)])(_0x1a80bf['firebaseConfig'])),this[_0x387bf7(0x17d)];}[_0x397592(0x539)](){const _0x42de95=_0x397592;return this[_0x42de95(0x3c9)]||(this['auth']=(0x0,_0x25fce6[_0x42de95(0x539)])(this['getApp']())),this[_0x42de95(0x3c9)];}[_0x397592(0x157)](){const _0x394160=_0x397592;return this[_0x394160(0x586)]||(this[_0x394160(0x586)]=(0x0,_0x15fb62[_0x394160(0x157)])(this[_0x394160(0x34f)](),_0x1a80bf[_0x394160(0x3bd)][_0x394160(0x386)])),this[_0x394160(0x586)];}['getDatabase'](){const _0x60fc26=_0x397592;return this['database']||(this[_0x60fc26(0xdd)]=(0x0,_0x320e38[_0x60fc26(0x274)])(this[_0x60fc26(0x34f)]())),this[_0x60fc26(0xdd)];}[_0x397592(0x40d)](){const _0x43db5f=_0x397592;return this[_0x43db5f(0x491)]||(this['firestore']=(0x0,_0x2aaf65['getFirestore'])(this[_0x43db5f(0x34f)]())),this[_0x43db5f(0x491)];}async[_0x397592(0x276)](){const _0xd4feaf=_0x397592;if(this[_0xd4feaf(0x573)])return Date['now']()+this[_0xd4feaf(0x573)];const _0xdc31e6=this[_0xd4feaf(0x274)](),_0x4ce6d7=(0x0,_0x320e38[_0xd4feaf(0x1fd)])(_0xdc31e6,_0xd4feaf(0x2cd)),_0x31d0db=(0x0,_0x320e38[_0xd4feaf(0x345)])(_0x4ce6d7,_0x40c23a=>{const _0x9f8d17=_0xd4feaf;!0x1===_0x40c23a['val']()&&(_0x31d0db(),delete this[_0x9f8d17(0x573)]);}),_0x279e92=(0x0,_0x320e38[_0xd4feaf(0x1fd)])(_0xdc31e6,'.info/serverTimeOffset');return new Promise(_0x323117=>{const _0xf544d9=_0xd4feaf;(0x0,_0x320e38[_0xf544d9(0x345)])(_0x279e92,_0x2ab7b6=>{const _0xfab722=_0xf544d9;(0x0,_0x320e38['off'])(_0x279e92),this[_0xfab722(0x573)]=_0x2ab7b6[_0xfab722(0x55d)](),_0x323117(Date[_0xfab722(0x2fd)]()+(this[_0xfab722(0x573)]??0x0));});});}}const _0x180399=_0x3457f3[_0x397592(0x1dd)]();class _0x42b44a{static ['instance'];[_0x397592(0x2a5)]=[_0x27bb8f[_0x397592(0x2aa)]];['debugEnabled']=!0x0;[_0x397592(0x9f)];[_0x397592(0x5f7)]='';['globalObject'];[_0x397592(0xed)]=[];[_0x397592(0x358)]=this[_0x397592(0x450)]();[_0x397592(0x2ce)];[_0x397592(0x176)]=0xa;['retryDelay']=0x1f4;[_0x397592(0x1a1)]=0x1c2;[_0x397592(0xd1)]=0x3e8;constructor(){const _0x7fefa5=_0x397592;if('undefined'!=typeof window)this[_0x7fefa5(0x5ab)]=window;else{if(void 0x0===_0x94c462['g'])throw new Error(_0x7fefa5(0x1cd));this[_0x7fefa5(0x5ab)]=_0x94c462['g'];}this['loadEnabledChannels'](),this[_0x7fefa5(0x5ab)][_0x7fefa5(0x3df)]=_0xe56bb9=>{const _0x1f9312=_0x7fefa5;if(_0xe56bb9===_0x27bb8f['All'])return this[_0x1f9312(0x2a5)]=Object[_0x1f9312(0x3c7)](_0x27bb8f)[_0x1f9312(0x4e7)](_0x411215=>_0x27bb8f[_0x411215]),void Object['keys'](_0x27bb8f)[_0x1f9312(0x633)](_0x360e70=>{const _0x36b198=_0x1f9312,_0x4a3b6c=_0x360e70;localStorage[_0x36b198(0x385)]('crewdle-sdk-logging-'+_0x27bb8f[_0x4a3b6c],'true');});this[_0x1f9312(0x2a5)]['includes'](_0xe56bb9)||(this[_0x1f9312(0x2a5)][_0x1f9312(0x2d7)](_0xe56bb9),localStorage['setItem'](_0x1f9312(0x10f)+_0xe56bb9,_0x1f9312(0x377)));},this[_0x7fefa5(0x5ab)][_0x7fefa5(0x317)]=_0x598c6d=>{const _0x3bebb3=_0x7fefa5;if(!_0x598c6d||_0x598c6d===_0x27bb8f[_0x3bebb3(0x27c)])return this[_0x3bebb3(0x2a5)]=[],void Object[_0x3bebb3(0x3c7)](_0x27bb8f)['forEach'](_0x1bcb75=>{const _0xb20fb6=_0x3bebb3,_0x2f4101=_0x1bcb75;localStorage[_0xb20fb6(0xbe)](_0xb20fb6(0x10f)+_0x27bb8f[_0x2f4101]);});this['enabledChannels'][_0x3bebb3(0x4dd)](_0x598c6d)&&(this[_0x3bebb3(0x2a5)]=this['enabledChannels'][_0x3bebb3(0x602)](_0xd60c3=>_0xd60c3!==_0x598c6d),localStorage['removeItem']('crewdle-sdk-logging-'+_0x598c6d));},this[_0x7fefa5(0x5ab)]['crewdleSDKLoggingChannels']=_0x27bb8f;}static['getInstance'](){const _0x2fdc98=_0x397592;try{return _0x42b44a[_0x2fdc98(0x468)]||(_0x42b44a[_0x2fdc98(0x468)]=new _0x42b44a()),_0x42b44a[_0x2fdc98(0x468)];}catch(_0x4a999b){return console[_0x2fdc98(0x364)]('Logger.getInstance',_0x4a999b),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1};}}['setVendorId'](_0x37e6a6){const _0x15f7d4=_0x397592;this[_0x15f7d4(0x5f7)]=_0x37e6a6;}[_0x397592(0x504)](_0x124730){const _0x34ca31=_0x397592;this[_0x34ca31(0x9f)]=_0x124730;}['debug'](_0x371a3c,..._0x4ee738){const _0x713af4=_0x397592;this[_0x713af4(0x138)]&&this[_0x713af4(0x298)](_0x27bb8f[_0x713af4(0x2aa)],_0x713af4(0xf7)+_0x371a3c,..._0x4ee738);}[_0x397592(0x298)](_0x54c10d,_0x248753,..._0x542e54){const _0x87bdd2=_0x397592;_0x1a80bf[_0x87bdd2(0x46c)]||(this[_0x87bdd2(0x2a5)][_0x87bdd2(0x4dd)](_0x54c10d)&&console['log'](_0x87bdd2(0x2b6)+_0x54c10d+'\x27\x0a',new Date()+'\x0a',_0x248753,..._0x542e54),this[_0x87bdd2(0x9f)]&&this[_0x87bdd2(0x9f)][_0x87bdd2(0x633)](_0x4b867d=>{const _0x1f297a=_0x87bdd2;this['isInternalLoggingConnector'](_0x4b867d)&&_0x4b867d[_0x1f297a(0x100)]()[_0x1f297a(0x4dd)](_0x54c10d)&&_0x4b867d[_0x1f297a(0x298)](_0x248753,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x54c10d,..._0x542e54}});}));}[_0x397592(0x513)](_0x15fc37,_0x1d4ede,..._0x149a49){const _0x552f7f=_0x397592;_0x1a80bf['isProduction']||(this[_0x552f7f(0x2a5)][_0x552f7f(0x4dd)](_0x15fc37)&&console['log'](_0x1d4ede,..._0x149a49),this['loggingConnectors']&&this[_0x552f7f(0x9f)][_0x552f7f(0x633)](_0x6fa748=>{const _0x367d3d=_0x552f7f;this['isInternalLoggingConnector'](_0x6fa748)&&_0x6fa748[_0x367d3d(0x100)]()[_0x367d3d(0x4dd)](_0x15fc37)&&_0x6fa748['log'](_0x1d4ede,{'vendorId':this[_0x367d3d(0x5f7)],'nodeId':'','nodeType':'','data':{'channel':_0x15fc37,..._0x149a49}});}));}[_0x397592(0x269)](_0x69c8f0,_0x482b9d){const _0xaee638=_0x397592;if(this[_0xaee638(0x9f)]){const _0xcabc48={'vendorId':this[_0xaee638(0x5f7)],..._0x482b9d};this[_0xaee638(0x9f)]['forEach'](_0x5a7ba3=>{const _0x474cbe=_0xaee638;_0x5a7ba3[_0x474cbe(0x298)](_0x69c8f0,_0xcabc48);});}}[_0x397592(0x233)](_0x3b4d39,_0x2a1733){const _0x4cf2b2=_0x397592,_0x48f5f6=(0x0,_0x2aaf65[_0x4cf2b2(0x2e1)])((0x0,_0x2aaf65[_0x4cf2b2(0x253)])(_0x180399[_0x4cf2b2(0x40d)](),_0x4cf2b2(0x3a4)+this[_0x4cf2b2(0x5f7)]+_0x4cf2b2(0x5e8)));this['currentBatch'][_0x4cf2b2(0x244)][_0x4cf2b2(0x42c)](_0x48f5f6,{..._0x2a1733,'service':_0x3b4d39,'timestamp':(0x0,_0x2aaf65[_0x4cf2b2(0x25f)])()}),this[_0x4cf2b2(0x358)]['operations'][_0x4cf2b2(0x2d7)]({'type':'set','ref':_0x48f5f6[_0x4cf2b2(0x59f)],'data':_0x2a1733}),this['logBatch']();}[_0x397592(0x49b)](_0x17992f,_0x5f3f14,_0x46ea76){const _0x333e9e=_0x397592;(0x0,_0x2aaf65[_0x333e9e(0x46e)])((0x0,_0x2aaf65[_0x333e9e(0x2e1)])(_0x180399[_0x333e9e(0x40d)](),_0x333e9e(0x3a4)+this['vendorId']+'/'+_0x17992f+'/'+_0x5f3f14),{'storage':_0x46ea76,'timestamp':(0x0,_0x2aaf65[_0x333e9e(0x25f)])()});}[_0x397592(0x595)](){const _0x19a952=_0x397592;this[_0x19a952(0x358)][_0x19a952(0x3c1)]++,this[_0x19a952(0x358)][_0x19a952(0x3c1)]===this[_0x19a952(0x1a1)]?this[_0x19a952(0x3be)]():this[_0x19a952(0x2ce)]||(this[_0x19a952(0x2ce)]=this[_0x19a952(0x5ab)][_0x19a952(0x1cf)](()=>this[_0x19a952(0x3be)](),this[_0x19a952(0xd1)]));}async[_0x397592(0x3be)](){const _0x3e713c=_0x397592;for(this['batchQueue'][_0x3e713c(0x2d7)](this[_0x3e713c(0x358)]),this[_0x3e713c(0x358)]=this[_0x3e713c(0x450)]();this[_0x3e713c(0xed)]['length']>0x0;){const _0x21674f=this['batchQueue']['shift']();if(!await this['commitBatch'](_0x21674f,0x0))break;}clearTimeout(this['batchTimeout']),this[_0x3e713c(0x2ce)]=void 0x0;}async[_0x397592(0x1f2)](_0x540518,_0x1de94a){const _0xf8531c=_0x397592;if(_0x540518[_0xf8531c(0x3c1)]>0x0)try{return await _0x540518[_0xf8531c(0x244)]['commit'](),!0x0;}catch(_0x5b2422){if(console['error'](_0xf8531c(0x57e),_0x5b2422,_0xf8531c(0x63b),_0x540518['operations']),!(_0x1de94a<this['retryLimit'])){const {nodeId:_0x323588='',nodeType:_0x28ef9f='',clusterId:_0x3782af=''}=_0x540518['operations'][0x0]['data'],_0x230af1={'nodeId':_0x323588,'nodeType':_0x28ef9f,'clusterId':_0x3782af,'data':{'operations':_0x540518[_0xf8531c(0x50a)],'error':_0x5b2422}};return this['error'](_0xf8531c(0x12d),_0x230af1),!0x1;}setTimeout(()=>this['commitBatch'](_0x540518,_0x1de94a+0x1),this[_0xf8531c(0x182)]*Math['pow'](0x2,_0x1de94a));}}['error'](_0x3e4be7,_0x36b121,..._0x24604c){const _0x1b33a9=_0x397592;if(console['error'](new Date(),_0x3e4be7,_0x36b121,..._0x24604c),this[_0x1b33a9(0x9f)]){const _0x214ae7={'vendorId':this[_0x1b33a9(0x5f7)],..._0x36b121};this[_0x1b33a9(0x9f)]['forEach'](_0x50f1b1=>{const _0x29bfed=_0x1b33a9;_0x50f1b1[_0x29bfed(0x364)](_0x3e4be7,_0x214ae7);});}}[_0x397592(0x2c4)](_0xa7b2ef,_0x7c5a8f,..._0x3294ac){const _0x106759=_0x397592;if(console[_0x106759(0xc3)](new Date(),_0xa7b2ef,_0x7c5a8f,_0x3294ac),this['loggingConnectors']){const _0x220f94={'vendorId':this[_0x106759(0x5f7)],..._0x7c5a8f};this[_0x106759(0x9f)]['forEach'](_0x4e8534=>{_0x4e8534['warn'](_0xa7b2ef,_0x220f94);});}}[_0x397592(0x1e2)](_0x315182){const _0x884f8d=_0x397592;return this['enabledChannels'][_0x884f8d(0x4dd)](_0x315182);}['loadEnabledChannels'](){const _0x622382=_0x397592;try{Object[_0x622382(0x3c7)](_0x27bb8f)['forEach'](_0x138e77=>{const _0x4c969c=_0x622382,_0x550dc1=_0x138e77;localStorage[_0x4c969c(0x446)](_0x4c969c(0x10f)+_0x27bb8f[_0x550dc1])&&(console[_0x4c969c(0x298)](_0x4c969c(0x23a),_0x27bb8f[_0x550dc1]),this[_0x4c969c(0x2a5)][_0x4c969c(0x2d7)](_0x27bb8f[_0x550dc1]));});}catch(_0x4d2042){}}[_0x397592(0x4b0)](_0x2dfc82){const _0x204a37=_0x397592;return void 0x0!==_0x2dfc82[_0x204a37(0x100)];}['createNewBatch'](){const _0x459ed9=_0x397592;return{'batch':(0x0,_0x2aaf65[_0x459ed9(0x367)])(_0x180399['getFirestore']()),'operations':[],'counter':0x0};}}const _0x29f8ca=_0x42b44a[_0x397592(0x1dd)]();class _0x51db06 extends _0x243587{[_0x397592(0x640)];[_0x397592(0xad)];[_0x397592(0x5f7)];['db'];[_0x397592(0x5a6)];[_0x397592(0x580)]=new Map();['tableObserver'];[_0x397592(0x603)];[_0x397592(0x3b1)];[_0x397592(0x344)];[_0x397592(0x3a9)];[_0x397592(0x4bf)]=[];['timeoutCallback']=()=>{};['syncTimeout'];[_0x397592(0x645)]=_0x46b21e();['listenerUnsubscriber'];[_0x397592(0x3a7)]=[];[_0x397592(0x44b)];[_0x397592(0x2db)];[_0x397592(0x5f9)]=0x0;[_0x397592(0x15e)]=0x0;constructor(_0x11db91,_0xecfe2d,_0x2d1c63,_0x2fdd1a,_0x292b43,_0x149275){const _0x4fa006=_0x397592;if(_0x4fa006(0x42a)!=typeof _0xecfe2d)throw new _0x24c29d(_0x1e3f38['KeyValueDatabaseNameNotString'],_0x4fa006(0x2de));if(super(_0x11db91,_0xecfe2d),this['localNode']=_0x11db91,this[_0x4fa006(0xad)]=_0x2d1c63,this['vendorId']=_0x2fdd1a,this[_0x4fa006(0x5a6)]=_0x4fa006(0x519)+this[_0x4fa006(0x5f7)]+_0x4fa006(0x519)+this[_0x4fa006(0xad)]+_0x4fa006(0x519)+this[_0x4fa006(0x290)],this['tableObserver']=_0x46b21e(),this[_0x4fa006(0x344)]=new Promise(_0x3b8932=>{const _0x39eb03=_0x4fa006;this[_0x39eb03(0x3a9)]=_0x3b8932;}),_0x292b43 instanceof _0x663740)this['layout']=_0x292b43['getLayout']();else{const [_0x3a5e4f,_0x13d0f4]=_0x663740[_0x4fa006(0x24b)](_0x292b43);if(!_0x3a5e4f)throw new _0x24c29d(_0x1e3f38[_0x4fa006(0x62e)],'Invalid\x20layout:\x20'+_0x13d0f4);this[_0x4fa006(0x44b)]=_0x292b43;}this[_0x4fa006(0x2bc)](this[_0x4fa006(0x44b)]),this['db']=new _0x149275(this[_0x4fa006(0x5a6)],this[_0x4fa006(0x44b)]),this[_0x4fa006(0x1c9)]();}['reset'](){const _0x277ebb=_0x397592;this[_0x277ebb(0x1c9)]();}['getContentType'](){const _0x572adf=_0x397592;return _0x25e642[_0x572adf(0x20d)]['KeyValueDatabase'];}['destroy'](){const _0x401c9a=_0x397592;this['db'][_0x401c9a(0x9e)](),this[_0x401c9a(0x3b1)]?.(),clearTimeout(this[_0x401c9a(0x2db)]),delete this['debounceStats'],super[_0x401c9a(0x2a6)]();}[_0x397592(0x9e)](){const _0x4e556a=_0x397592;this['systemTopic']['publish']({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x4e556a(0x346)],'content':{'type':_0x566301[_0x4e556a(0xdb)],'label':this[_0x4e556a(0x290)]}});}[_0x397592(0x462)](_0x1fe194){const _0x5c93ad=_0x397592,_0x19ca58=this[_0x5c93ad(0x580)][_0x5c93ad(0x5e6)](_0x1fe194);if(_0x19ca58)return _0x19ca58;try{if(!this['db']['hasTable'](_0x1fe194))throw new _0x24c29d(_0x1e3f38[_0x5c93ad(0x20f)],_0x5c93ad(0x1ff));const _0x2ce815=new _0x36260e(this['db']['getTableConnector'](_0x1fe194),_0x1fe194,this[_0x5c93ad(0x218)]);return this[_0x5c93ad(0x580)][_0x5c93ad(0x42c)](_0x1fe194,_0x2ce815),{'get':_0x2ce815['get'][_0x5c93ad(0x62b)](_0x2ce815),'set':_0x2ce815[_0x5c93ad(0x42c)][_0x5c93ad(0x62b)](_0x2ce815),'add':_0x2ce815[_0x5c93ad(0x11f)][_0x5c93ad(0x62b)](_0x2ce815),'delete':_0x2ce815[_0x5c93ad(0x457)]['bind'](_0x2ce815),'clear':_0x2ce815['clear'][_0x5c93ad(0x62b)](_0x2ce815),'list':_0x2ce815[_0x5c93ad(0x181)][_0x5c93ad(0x62b)](_0x2ce815),'count':_0x2ce815[_0x5c93ad(0x2ac)][_0x5c93ad(0x62b)](_0x2ce815),'subscribe':_0x2ce815[_0x5c93ad(0xda)]['bind'](_0x2ce815),'unsubscribe':_0x2ce815[_0x5c93ad(0x238)]['bind'](_0x2ce815)};}catch(_0x33d27d){throw new _0x24c29d(_0x1e3f38[_0x5c93ad(0x576)],_0x5c93ad(0x3e1));}}[_0x397592(0xda)](_0x2eb1dc){const _0x446782=_0x397592;this[_0x446782(0x13b)]=this[_0x446782(0x645)][_0x446782(0xda)](_0x2eb1dc);}[_0x397592(0x238)](){const _0x322b75=_0x397592;this[_0x322b75(0x13b)]?.();}async[_0x397592(0x1e9)](){const _0x4e66ea=_0x397592,_0x5e8eed=[_0x3d242a,_0x51c004],_0x13a0cb=[];try{await this['db'][_0x4e66ea(0x1e9)]();const _0x3ebf97=this['db'][_0x4e66ea(0x410)](_0x51c004),_0x1e41b9=await _0x3ebf97[_0x4e66ea(0x181)](),{id:_0x2c860b,layout:_0x15e033}=_0x1e41b9[0x0]??{};if(_0x15e033){for(const _0xf1e2a8 in _0x15e033)_0x5e8eed['includes'](_0xf1e2a8)||this['db'][_0x4e66ea(0x30e)](_0xf1e2a8)||_0x13a0cb[_0x4e66ea(0x2d7)](_0xf1e2a8);_0x3ebf97[_0x4e66ea(0x42c)](_0x2c860b,{'layout':this[_0x4e66ea(0x44b)]});}else _0x3ebf97[_0x4e66ea(0x11f)]({'layout':this[_0x4e66ea(0x44b)]});}catch(_0x4809a2){throw new _0x24c29d(_0x1e3f38[_0x4e66ea(0x576)],_0x4809a2['message']||'Error\x20encountered\x20while\x20opening\x20database');}this[_0x4e66ea(0x13f)](),this[_0x4e66ea(0x4f0)](),this[_0x4e66ea(0x391)](),_0x13a0cb[_0x4e66ea(0x633)](_0x2628b8=>this['deleteTransactionsForTable'](_0x2628b8));}async[_0x397592(0x4a1)](_0x2b6179,_0x3ee89c){const _0xc0495c=_0x397592;_0x2b6179?(this['timeoutCallback']=_0x3ee89c,this[_0xc0495c(0x22d)]=setTimeout(_0x3ee89c,_0x34e5d7),this[_0xc0495c(0x4f8)][_0xc0495c(0x16f)]({'sourceId':this[_0xc0495c(0x640)][_0xc0495c(0x130)](),'destinationIds':[_0x2b6179],'messageType':_0x542695['Content'],'content':{'type':_0x566301[_0xc0495c(0x566)],'label':this['label']}}),await this['isSync']):setTimeout(()=>{const _0x447b2c=_0xc0495c;this[_0x447b2c(0x26b)](),this[_0x447b2c(0x3a0)]();},0x0);}async[_0x397592(0x5a9)](_0x22955c){const _0x4df6f8=_0x397592;if(!this['transactionTable'])throw new _0x5efe70(_0x5efe70[_0x4df6f8(0x50b)][_0x4df6f8(0x4e4)]);await this[_0x4df6f8(0x344)];const _0x5729fc=await this[_0x4df6f8(0x603)][_0x4df6f8(0x181)]();this[_0x4df6f8(0x4f8)][_0x4df6f8(0x16f)]({'sourceId':this[_0x4df6f8(0x640)][_0x4df6f8(0x130)](),'destinationIds':[_0x22955c],'messageType':_0x542695[_0x4df6f8(0x346)],'content':{'type':_0x566301[_0x4df6f8(0x96)],'label':this['label'],'transactions':_0x5729fc}});}async[_0x397592(0x62a)](_0x4436fd,_0x255e3b){const _0x1aa7ab=_0x397592;if(!this[_0x1aa7ab(0x603)])throw new _0x5efe70(_0x5efe70[_0x1aa7ab(0x50b)][_0x1aa7ab(0x4e4)]);this['clearSyncTimeout']();const _0x136709=await this[_0x1aa7ab(0x603)]['list']();for(const _0x2c1486 of _0x136709){const _0x112a05=_0x255e3b['find'](_0x423d6f=>_0x423d6f['id']===_0x2c1486['id']);if(_0x112a05&&this[_0x1aa7ab(0x37c)](_0x2c1486,_0x112a05)<=0x0)continue;const [_0x3276ce,_0x1f6b74]=_0x2c1486['id'][_0x1aa7ab(0x173)]('::'),_0x16859e=this['tables'][_0x1aa7ab(0x5e6)](_0x3276ce),_0x4ceb62=await _0x16859e?.[_0x1aa7ab(0x5e6)](_0x1f6b74);_0x2c1486[_0x1aa7ab(0x3fd)]=_0x4ceb62,this[_0x1aa7ab(0x301)](_0x2c1486);}for(const _0x9f2d8f of _0x255e3b){const _0x27e138=await this[_0x1aa7ab(0x603)][_0x1aa7ab(0x5e6)](_0x9f2d8f['id']);if(!(_0x27e138&&this['compareTransactions'](_0x9f2d8f,_0x27e138)<=0x0)){if(_0x9f2d8f[_0x1aa7ab(0x1c8)]===_0x5b90b7[_0x1aa7ab(0x482)]){const [_0x30e8bb,_0x4cc717]=_0x9f2d8f['id']['split']('::'),_0x1b05d6=this[_0x1aa7ab(0x580)][_0x1aa7ab(0x5e6)](_0x30e8bb);await _0x1b05d6?.[_0x1aa7ab(0x457)](_0x4cc717,!0x1);}else this[_0x1aa7ab(0x4bf)][_0x1aa7ab(0x2d7)](_0x9f2d8f['id']);}}if(0x0===this[_0x1aa7ab(0x4bf)][_0x1aa7ab(0x42e)])return this[_0x1aa7ab(0x26b)](),void this['publishSyncCompleted']();this['syncTimeout']=setTimeout(this['timeoutCallback'],_0x34e5d7),this[_0x1aa7ab(0x4f8)][_0x1aa7ab(0x16f)]({'sourceId':this[_0x1aa7ab(0x640)][_0x1aa7ab(0x130)](),'destinationIds':[_0x4436fd],'messageType':_0x542695[_0x1aa7ab(0x346)],'content':{'type':_0x566301[_0x1aa7ab(0x16b)],'label':this[_0x1aa7ab(0x290)],'transactionIds':this[_0x1aa7ab(0x4bf)]}});}async['sendTransactionsValue'](_0x42de12,_0x181a02){const _0x492ad3=_0x397592;if(!this[_0x492ad3(0x603)])throw new _0x5efe70(_0x5efe70[_0x492ad3(0x50b)][_0x492ad3(0x4e4)]);for(const _0x540c5a of _0x181a02){const _0x135c6c=await this[_0x492ad3(0x603)][_0x492ad3(0x5e6)](_0x540c5a);if(!_0x135c6c)continue;const [_0x56e505,_0x5c9143]=_0x540c5a[_0x492ad3(0x173)]('::'),_0x4e3ced=this[_0x492ad3(0x580)][_0x492ad3(0x5e6)](_0x56e505),_0x58be11=await _0x4e3ced?.[_0x492ad3(0x5e6)](_0x5c9143);_0x135c6c['value']=_0x58be11,this['send'](_0x135c6c,[_0x42de12]);}}async[_0x397592(0x14b)](_0x7c989b){const _0x349010=_0x397592;if(!this[_0x349010(0x603)])throw new _0x5efe70(_0x5efe70[_0x349010(0x50b)][_0x349010(0x4e4)]);const _0x129551=await this[_0x349010(0x603)][_0x349010(0x5e6)](_0x7c989b['id']);if(_0x129551&&this[_0x349010(0x37c)](_0x7c989b,_0x129551)<=0x0)return;const _0x50760f={..._0x7c989b};return delete _0x50760f[_0x349010(0x3fd)],await this[_0x349010(0x603)][_0x349010(0x42c)](_0x7c989b['id'],_0x50760f),_0x7c989b;}[_0x397592(0x37c)](_0xf7a127,_0x1a0206){const _0x196857=_0x397592;return _0xf7a127[_0x196857(0x9b)]<_0x1a0206[_0x196857(0x9b)]?-0x1:_0xf7a127[_0x196857(0x9b)]>_0x1a0206[_0x196857(0x9b)]?0x1:_0xf7a127[_0x196857(0x382)]-_0x1a0206[_0x196857(0x382)];}async[_0x397592(0x40f)](_0x57d91a){const _0x478cda=_0x397592;if(!this[_0x478cda(0x603)])throw new _0x5efe70(_0x5efe70[_0x478cda(0x50b)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x147971=_0x57d91a[_0x478cda(0x518)]+'::'+_0x57d91a[_0x478cda(0x3d7)],_0xcd85c4=await _0x180399[_0x478cda(0x276)](),_0x6baeb={'id':_0x147971,'priority':Math['random'](),'timestamp':_0xcd85c4,'action':_0x57d91a[_0x478cda(0x1c8)]};if(await this['writeTransaction'](_0x6baeb))return _0x6baeb;}async[_0x397592(0x511)](_0x7938dd){const _0x3b11b0=_0x397592;if(!this[_0x3b11b0(0x603)])throw new _0x5efe70(_0x5efe70[_0x3b11b0(0x50b)][_0x3b11b0(0x4e4)]);const _0x17f7ce=_0x124f64['index']('id')[_0x3b11b0(0x38a)](_0x3b11b0(0x32e),[_0x7938dd+'::',_0x7938dd+_0x3b11b0(0x451)]),_0xc8f972=await this['transactionTable'][_0x3b11b0(0x181)](_0x17f7ce[_0x3b11b0(0x9a)]());for(const _0x1684ad of _0xc8f972)await this[_0x3b11b0(0x603)][_0x3b11b0(0x457)](_0x1684ad['id']);}[_0x397592(0x4f0)](){const _0x5e5d4b=_0x397592;this[_0x5e5d4b(0xbc)](async(_0x148e94,_0x18ab19)=>{const _0xd669bc=_0x5e5d4b;if(_0x18ab19 instanceof File)return;if(!await this[_0xd669bc(0x14b)](_0x18ab19))return void this[_0xd669bc(0x486)](_0x18ab19);if(!_0x18ab19[_0xd669bc(0x3fd)])throw new _0x5efe70(_0x5efe70[_0xd669bc(0x50b)][_0xd669bc(0x638)]);const [_0x3f75d8,_0x5d0ccd]=_0x18ab19['id']['split']('::'),_0x219d47=this[_0xd669bc(0x580)][_0xd669bc(0x5e6)](_0x3f75d8);if(!_0x219d47)throw new _0x5efe70(_0x5efe70[_0xd669bc(0x50b)][_0xd669bc(0x5be)],{'table':_0x219d47});let _0x403635=0x0;switch(_0x18ab19[_0xd669bc(0x1c8)]){case _0x5b90b7['Add']:case _0x5b90b7['Update']:{const _0x4de200=_0x219d47[_0xd669bc(0x42c)](_0x5d0ccd,_0x18ab19[_0xd669bc(0x3fd)],!0x1);_0x403635=JSON['stringify'](_0x18ab19[_0xd669bc(0x3fd)])[_0xd669bc(0x42e)],this[_0xd669bc(0x4bf)][_0xd669bc(0x4dd)](_0x18ab19['id'])&&this[_0xd669bc(0x3a7)][_0xd669bc(0x2d7)](_0x4de200);break;}case _0x5b90b7['Delete']:{const _0x1a59ca=_0x219d47[_0xd669bc(0x457)](_0x5d0ccd,!0x1);this['transactionsToSync'][_0xd669bc(0x4dd)](_0x18ab19['id'])&&this['syncTransactionsWritten'][_0xd669bc(0x2d7)](_0x1a59ca);break;}}_0x29f8ca[_0xd669bc(0x233)](_0x437522['KeyValueDatabase'],{'type':_0xd669bc(0x4a1),'label':this[_0xd669bc(0x290)],'nodeId':this[_0xd669bc(0x640)][_0xd669bc(0x130)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'tableName':_0x3f75d8,'key':_0x5d0ccd,'size':_0x403635}),this['checkSyncComplete'](_0x18ab19);});}[_0x397592(0x391)](){const _0x4a1dbe=_0x397592;this[_0x4a1dbe(0x3b1)]=this['tableObserver'][_0x4a1dbe(0xda)](async _0x5ce474=>{const _0x3cae92=_0x4a1dbe;let _0xf40d0a=0x0;switch(_0x5ce474['action']){case _0x5b90b7[_0x3cae92(0x211)]:case _0x5b90b7['Update']:case _0x5b90b7['Delete']:{const _0x31d900=await this[_0x3cae92(0x40f)](_0x5ce474);if(!_0x31d900)return;_0x31d900[_0x3cae92(0x3fd)]=_0x5ce474[_0x3cae92(0x3fd)],this[_0x3cae92(0x301)](_0x31d900),_0xf40d0a=JSON[_0x3cae92(0x2f9)](_0x5ce474[_0x3cae92(0x3fd)])['length'],this[_0x3cae92(0x5f9)]+=0x1;break;}case _0x3af80f[_0x3cae92(0x591)]:case _0x3af80f[_0x3cae92(0x161)]:case _0x3af80f[_0x3cae92(0x1e7)]:this[_0x3cae92(0x15e)]+=0x1;}_0x29f8ca['logServiceEvent'](_0x437522[_0x3cae92(0x409)],{'type':_0x5ce474[_0x3cae92(0x1c8)],'label':this[_0x3cae92(0x290)],'nodeId':this[_0x3cae92(0x640)][_0x3cae92(0x130)](),'nodeType':this['localNode'][_0x3cae92(0x1c2)],'clusterId':this['clusterId'],'tableName':_0x5ce474[_0x3cae92(0x518)],'key':_0x5ce474['key'],'size':_0xf40d0a}),this[_0x3cae92(0x1c9)]();});}[_0x397592(0x13f)](){const _0x38a1a3=_0x397592;this['db']&&(this[_0x38a1a3(0x603)]||(this['transactionTable']=this['db'][_0x38a1a3(0x410)](_0x3d242a)));}[_0x397592(0x26b)](){const _0x4b230a=_0x397592;this[_0x4b230a(0x22d)]&&(clearTimeout(this[_0x4b230a(0x22d)]),delete this[_0x4b230a(0x22d)]);}['publishSyncCompleted'](){const _0xe8515=_0x397592;this[_0xe8515(0x645)][_0xe8515(0x16f)]({'event':_0x25e642['DatabaseEvent'][_0xe8515(0x27f)]}),this[_0xe8515(0x3a9)]?.(!0x0),delete this[_0xe8515(0x3a9)],this[_0xe8515(0x1c9)]();}async['publishSyncCompletedAfterWrites'](){const _0x1a161b=_0x397592;await Promise['all'](this[_0x1a161b(0x3a7)]),this[_0x1a161b(0x3a0)]();}['checkSyncComplete'](_0x1c9755){const _0x15fe4b=_0x397592;this[_0x15fe4b(0x4bf)]['includes'](_0x1c9755['id'])&&(this[_0x15fe4b(0x26b)](),this[_0x15fe4b(0x4bf)]=this[_0x15fe4b(0x4bf)][_0x15fe4b(0x602)](_0x114f02=>_0x114f02!==_0x1c9755['id']),0x0!==this['transactionsToSync'][_0x15fe4b(0x42e)]?this['syncTimeout']=setTimeout(this[_0x15fe4b(0x5a5)],_0x34e5d7):this[_0x15fe4b(0x1d0)]());}['sendStats'](){const _0x5fbf15=_0x397592;this[_0x5fbf15(0x2db)]&&clearTimeout(this[_0x5fbf15(0x2db)]),this['debounceStats']=setTimeout(async()=>{const _0x2d39a7=_0x5fbf15;delete this[_0x2d39a7(0x2db)];let _0x1ec8d6=0x0;for(const _0x146905 of this[_0x2d39a7(0x580)][_0x2d39a7(0xee)]())_0x1ec8d6+=await _0x146905['calculateSize']();this[_0x2d39a7(0x4f8)][_0x2d39a7(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x2d39a7(0x346)],'content':{'type':_0x566301['KeyValueDatabaseStats'],'label':this[_0x2d39a7(0x290)],'stats':{'timestamp':Date[_0x2d39a7(0x2fd)](),'storage':_0x1ec8d6,'messagesSent':this[_0x2d39a7(0x235)],'messagesReceived':this[_0x2d39a7(0x594)],'bytesSent':this[_0x2d39a7(0x605)],'bytesReceived':this[_0x2d39a7(0x26a)],'writes':this['writes'],'reads':this[_0x2d39a7(0x15e)]}}}),_0x29f8ca[_0x2d39a7(0x49b)](_0x437522['KeyValueDatabase'],_0x2d39a7(0x519)+this[_0x2d39a7(0xad)]+_0x2d39a7(0x519)+this[_0x2d39a7(0x290)],_0x1ec8d6);},0x1388);}[_0x397592(0x2bc)](_0x25e05f){const _0x50253e=_0x397592;if(_0x25e05f['tables'][_0x3d242a])throw new _0x24c29d(_0x1e3f38[_0x50253e(0x3c0)],_0x50253e(0x582)+_0x3d242a+_0x50253e(0x564));if(_0x25e05f[_0x50253e(0x580)][_0x51c004])throw new _0x24c29d(_0x1e3f38['KeyValueDatabaseTableNameReserved'],_0x50253e(0x582)+_0x51c004+_0x50253e(0x564));_0x25e05f[_0x50253e(0x580)][_0x3d242a]={'indexes':[]},_0x25e05f['tables'][_0x51c004]={'indexes':[]};}}const _0x2cc77d=require('@crewdle/mist-connector-opfs'),_0x16df9e=require('@crewdle/mist-connector-indexed-db'),_0x10ceec=require('@crewdle/mist-connector-webrtc-browser');var _0x2560b2,_0x34a71c,_0x13a1c5,_0x500b11,_0x160cbe,_0x107aa0,_0x331a38,_0x3b09a3,_0x11b7dc;!function(_0x399022){const _0x15b063=_0x397592;_0x399022[_0x15b063(0x16e)]='AudioContext',_0x399022[_0x15b063(0x4c3)]=_0x15b063(0x4c3),_0x399022['AudioVolume']='AudioVolume',_0x399022[_0x15b063(0x26f)]=_0x15b063(0x26f),_0x399022[_0x15b063(0x348)]=_0x15b063(0x348),_0x399022['MediaStream']=_0x15b063(0x14f),_0x399022[_0x15b063(0x5c8)]=_0x15b063(0x5c8),_0x399022[_0x15b063(0x198)]=_0x15b063(0x198),_0x399022['WebGL']=_0x15b063(0x4f3),_0x399022[_0x15b063(0x4f7)]=_0x15b063(0x4f7);}(_0x2560b2||(_0x2560b2={}));class _0x42c6e0{[_0x397592(0x118)];[_0x397592(0xbb)];['eventTarget'];constructor(_0x44e2a1=new Map(),_0x245fa9=new Map(),_0x47a69c=new EventTarget()){const _0xebe3b6=_0x397592;this[_0xebe3b6(0x118)]=_0x44e2a1,this[_0xebe3b6(0xbb)]=_0x245fa9,this['eventTarget']=_0x47a69c;}[_0x397592(0x167)]=(_0x5927bc,_0x357f15)=>this[_0x397592(0x118)][_0x397592(0x1ac)](_0x5927bc)?(_0x29f8ca[_0x397592(0x298)](_0x27bb8f[_0x397592(0xbf)],_0x397592(0x609),{'event':_0x5927bc,'data':_0x357f15}),this[_0x397592(0x3e4)][_0x397592(0x3b7)](new CustomEvent(_0x5927bc,{'detail':_0x357f15})),!0x0):(this[_0x397592(0x263)](_0x5927bc,_0x357f15),!0x1);['on']=(_0x1f5bdb,_0x5401df)=>{const _0x4187c9=_0x397592,_0x207931=_0x20240c=>{const _0xfea461=a0_0x240a;_0x29f8ca[_0xfea461(0x298)](_0x27bb8f[_0xfea461(0xbf)],'Received\x20event\x20on\x20cluster',_0x20240c[_0xfea461(0x1c2)],_0x20240c['detail']),_0x5401df(_0x20240c[_0xfea461(0x5d4)]);};return this[_0x4187c9(0x118)]['set'](_0x1f5bdb,_0x207931),this[_0x4187c9(0x3e4)][_0x4187c9(0x3f0)](_0x1f5bdb,_0x207931),_0x29f8ca[_0x4187c9(0x298)](_0x27bb8f[_0x4187c9(0x188)],_0x4187c9(0x569),_0x1f5bdb,_0x5401df),this[_0x4187c9(0x30c)](_0x1f5bdb),this;};[_0x397592(0x183)](_0x44e2d2){const _0x1098d7=_0x397592;if(!_0x44e2d2)return this[_0x1098d7(0x118)][_0x1098d7(0x633)]((_0x31aa10,_0x57a864)=>{const _0x737baa=_0x1098d7;this[_0x737baa(0x3e4)][_0x737baa(0x48c)](_0x57a864,_0x31aa10);}),void this[_0x1098d7(0x118)][_0x1098d7(0x562)]();_0x1098d7(0x42a)==typeof _0x44e2d2&&this['removeListener'](_0x44e2d2),Array['isArray'](_0x44e2d2)&&_0x44e2d2['forEach'](_0x5c1fae=>{this['removeListener'](_0x5c1fae);});}[_0x397592(0x23b)](_0x3373f1){const _0x494e83=_0x397592,_0x4fa66b=this[_0x494e83(0x118)]['get'](_0x3373f1);_0x4fa66b&&(this[_0x494e83(0x3e4)][_0x494e83(0x48c)](_0x3373f1,_0x4fa66b),this[_0x494e83(0x118)][_0x494e83(0x457)](_0x3373f1));}['bufferEvent'](_0x26f7ee,_0x354d2f){const _0xc7e6a7=_0x397592;_0x29f8ca[_0xc7e6a7(0x298)](_0x27bb8f[_0xc7e6a7(0xbf)],_0xc7e6a7(0x4f2),{'event':_0x26f7ee,'data':_0x354d2f});const _0x4126bc=this['bufferedEvents'][_0xc7e6a7(0x5e6)](_0x26f7ee)||[];this['bufferedEvents']['set'](_0x26f7ee,[..._0x4126bc,_0x354d2f]);}['consumeBufferedEvents'](_0xd92a75){const _0x44507f=_0x397592,_0x2df2d8=this[_0x44507f(0xbb)][_0x44507f(0x5e6)](_0xd92a75);_0x2df2d8&&(_0x2df2d8[_0x44507f(0x633)](_0x5377d8=>{const _0x201cc3=_0x44507f;_0x29f8ca[_0x201cc3(0x298)](_0x27bb8f['Events'],'Consuming\x20buffered\x20event',{'event':_0xd92a75,'data':_0x5377d8}),this[_0x201cc3(0x3e4)]['dispatchEvent'](new CustomEvent(_0xd92a75,{'detail':_0x5377d8}));}),this[_0x44507f(0xbb)]['delete'](_0xd92a75));}}class _0x559fc1 extends Error{constructor(_0x320b57){const _0x55cbba=_0x397592;super(_0x55cbba(0x3e2)+_0x320b57);}}!function(_0x5c7689){const _0xb25ca5=_0x397592;_0x5c7689[_0x5c7689[_0xb25ca5(0x92)]=0x0]='Core',_0x5c7689[_0x5c7689[_0xb25ca5(0x423)]=0x1]='Optimization';}(_0x34a71c||(_0x34a71c={})),function(_0x4edfaa){const _0x3bfb26=_0x397592;_0x4edfaa[_0x4edfaa['Offer']=0x0]=_0x3bfb26(0x91),_0x4edfaa[_0x4edfaa[_0x3bfb26(0x5b5)]=0x1]=_0x3bfb26(0x5b5),_0x4edfaa[_0x4edfaa[_0x3bfb26(0x107)]=0x2]=_0x3bfb26(0x107),_0x4edfaa[_0x4edfaa['Success']=0x3]=_0x3bfb26(0x201),_0x4edfaa[_0x4edfaa[_0x3bfb26(0x47f)]=0x4]='NeedRestart',_0x4edfaa[_0x4edfaa[_0x3bfb26(0x5e0)]=0x5]=_0x3bfb26(0x5e0),_0x4edfaa[_0x4edfaa['Disconnect']=0x6]=_0x3bfb26(0x39b),_0x4edfaa[_0x4edfaa[_0x3bfb26(0x1e6)]=0x7]=_0x3bfb26(0x1e6),_0x4edfaa[_0x4edfaa[_0x3bfb26(0x412)]=0x8]=_0x3bfb26(0x412);}(_0x13a1c5||(_0x13a1c5={})),function(_0x37923){const _0x1d5868=_0x397592;_0x37923[_0x37923[_0x1d5868(0x36c)]=0x0]='Sender',_0x37923[_0x37923[_0x1d5868(0x1a5)]=0x1]=_0x1d5868(0x1a5);}(_0x500b11||(_0x500b11={})),function(_0x435756){const _0xda5f50=_0x397592;_0x435756[_0xda5f50(0x14f)]=_0xda5f50(0x637);}(_0x160cbe||(_0x160cbe={})),function(_0x46c62e){const _0x4939c2=_0x397592;_0x46c62e[_0x46c62e['NodeJoin']=0x0]=_0x4939c2(0x1f4),_0x46c62e[_0x46c62e[_0x4939c2(0x281)]=0x1]=_0x4939c2(0x281),_0x46c62e[_0x46c62e[_0x4939c2(0x1da)]=0x2]=_0x4939c2(0x1da),_0x46c62e[_0x46c62e['NodeLeave']=0x3]='NodeLeave';}(_0x107aa0||(_0x107aa0={})),function(_0x3ce41a){const _0xe902fe=_0x397592;_0x3ce41a[_0x3ce41a[_0xe902fe(0x3de)]=0x0]=_0xe902fe(0x3de),_0x3ce41a[_0x3ce41a['RemoteRemediation']=0x1]=_0xe902fe(0x370);}(_0x331a38||(_0x331a38={})),function(_0x483770){const _0x597858=_0x397592;_0x483770[_0x597858(0x1f6)]='upgrade',_0x483770[_0x597858(0x1b8)]=_0x597858(0x10d);}(_0x3b09a3||(_0x3b09a3={})),function(_0x2ea474){const _0x890753=_0x397592;_0x2ea474[_0x890753(0x4f1)]=_0x890753(0x550),_0x2ea474[_0x890753(0x197)]='bitrate';}(_0x11b7dc||(_0x11b7dc={}));const _0x16748c=require('aws-amplify'),_0x2a96b4=require('aws-amplify/utils'),_0x1dec42=require('@aws-amplify/api'),_0x1dd087=require('@aws-amplify/core');class _0x373c72{['clusterId'];[_0x397592(0x640)];['remoteId'];constructor(_0x211750,_0x54ed02,_0x5c4455){const _0x144119=_0x397592;this[_0x144119(0xad)]=_0x211750,this[_0x144119(0x640)]=_0x54ed02,this[_0x144119(0x33a)]=_0x5c4455;}[_0x397592(0x3bb)](){const _0x169c07=_0x397592;return this['localNode'][_0x169c07(0x130)]();}[_0x397592(0x240)](){return this['remoteId'];}}var _0x48638e,_0x15d642;function _0x32427c(_0x255087,_0x36404d){return _0x255087['sourceId']===_0x36404d;}function _0x4c53ed(_0x16b132,_0x204468){const _0x3b6855=_0x397592;return _0x16b132['destinationIds']?.[_0x3b6855(0x4dd)](_0x204468)??function(_0x50ed15){const _0x3cfa8e=_0x3b6855;return void 0x0===_0x50ed15[_0x3cfa8e(0x478)];}(_0x16b132);}function _0x4a1e73(_0x3cbbc5,{contentType:_0x31a504,label:_0x2afd39,remoteId:_0x17998d}){return _0x3cbbc5+'-'+_0x31a504+'-'+_0x2afd39+'-'+_0x17998d;}function _0x47085d(_0x48c83e,_0x5f2ec5,_0x2795de){return''+_0x48c83e+_0x5f2ec5+_0x2795de;}function _0x116c76(_0x4ff328){const _0x541c2b=_0x397592;return _0x4ff328===_0x15d642[_0x541c2b(0x4f4)]?_0x541c2b(0x4e3):_0x541c2b(0x132);}function _0x2890a9(_0x413a08,_0xcee6d9){const _0x1a1256=_0x397592;return{'label':_0x413a08[_0x1a1256(0x217)](),'contentType':_0x413a08['getContentType'](),'remoteId':_0xcee6d9['getRemoteId'](),'supportsContentType':_0xcee6d9[_0x1a1256(0x501)]()[_0x1a1256(0x4dd)](_0x413a08['getContentType']())};}!function(_0x2ad832){const _0x310847=_0x397592;_0x2ad832[_0x2ad832[_0x310847(0x4e0)]=0x0]='Waiting',_0x2ad832[_0x2ad832['Accepted']=0x1]='Accepted',_0x2ad832[_0x2ad832['Rejected']=0x2]=_0x310847(0x590);}(_0x48638e||(_0x48638e={})),function(_0x5a6925){const _0x17d0ad=_0x397592;_0x5a6925[_0x17d0ad(0x4f4)]='in',_0x5a6925['Outgoing']=_0x17d0ad(0x339);}(_0x15d642||(_0x15d642={}));class _0x2d1775{['callback'];['retryCallback'];constructor(_0x10a55d,_0x2abfea){const _0x45d0e1=_0x397592;this[_0x45d0e1(0x5b0)]=_0x10a55d,this[_0x45d0e1(0x1fa)]=_0x2abfea;}[_0x397592(0x384)](_0x5e349c){const _0x1f8045=_0x397592;this[_0x1f8045(0x5b0)](_0x5e349c);}async[_0x397592(0x534)](){const _0x1442ae=_0x397592;await this[_0x1442ae(0x1fa)]();}}class _0x33867a{[_0x397592(0x5b0)];[_0x397592(0x1fa)];constructor(_0x2118b5,_0x226cb8){const _0x242fb9=_0x397592;this[_0x242fb9(0x5b0)]=_0x2118b5,this[_0x242fb9(0x1fa)]=_0x226cb8;}async[_0x397592(0x384)](_0x25f116){const _0x2c13e2=_0x397592;await this[_0x2c13e2(0x5b0)](_0x25f116);}async[_0x397592(0x534)](){const _0x22d312=_0x397592;await this[_0x22d312(0x1fa)]();}}function _0x36adda(_0x1be07d=()=>{},_0x28b027=()=>!0x1,_0x1c1b39=()=>{}){let _0x11b5bd,_0x22196e,_0x5ac56f=0x0;return{get 'size'(){return _0x5ac56f;},get 'head'(){return _0x11b5bd;},get 'tail'(){return _0x22196e;},set 'head'(_0x37bfe3){_0x11b5bd=_0x37bfe3;},set 'tail'(_0x4d34b3){_0x22196e=_0x4d34b3;},'push'(_0x416e86,_0x3fc3a5=!0x0){const _0x5ef513=a0_0x240a,_0x5621ec={'value':_0x416e86};_0x3fc3a5&&_0x28b027(_0x5621ec)?_0x1be07d():(_0x22196e&&(_0x5621ec[_0x5ef513(0x254)]=_0x22196e,_0x22196e[_0x5ef513(0x2d2)]=_0x5621ec),_0x22196e=_0x5621ec,_0x11b5bd||(_0x11b5bd=_0x5621ec),_0x5ac56f+=0x1,_0x3fc3a5&&_0x1be07d());},'pop'(){const _0xd33e89=a0_0x240a;if(!_0x22196e)return;const _0x468824=_0x22196e[_0xd33e89(0x3fd)];return _0x22196e=_0x22196e[_0xd33e89(0x254)],_0x22196e&&delete _0x22196e['next'],_0x22196e||(_0x11b5bd=void 0x0),_0x5ac56f-=0x1,_0x468824;},'unshift'(_0x2968bf,_0x3a0b25=!0x0){const _0x443950=a0_0x240a,_0x3d8675={'value':_0x2968bf};_0x3a0b25&&_0x28b027(_0x3d8675)?_0x1be07d():(_0x11b5bd&&(_0x11b5bd[_0x443950(0x254)]=_0x3d8675,_0x3d8675['next']=_0x11b5bd),_0x11b5bd=_0x3d8675,_0x22196e||(_0x22196e=_0x3d8675),_0x5ac56f+=0x1,_0x3a0b25&&_0x1be07d());},'shift'(){const _0xe3a5e2=a0_0x240a;if(!_0x11b5bd)return;const _0x3cf93c=_0x11b5bd[_0xe3a5e2(0x3fd)];return _0x11b5bd=_0x11b5bd[_0xe3a5e2(0x2d2)],_0x11b5bd&&delete _0x11b5bd[_0xe3a5e2(0x254)],_0x11b5bd||(_0x22196e=void 0x0),_0x5ac56f-=0x1,_0x3cf93c;},'clear'(){_0x1c1b39(),_0x11b5bd=void 0x0,_0x22196e=void 0x0,_0x5ac56f=0x0;}};}function _0x3a6f72(_0x417516,_0x56bd5b=!0x1,_0x2a58e2=()=>{},_0xeb42a5=()=>!0x1,_0x21f3c3=()=>{}){let _0x4eaa9f=!0x1;const _0xe2a7e9=_0x36adda(async function(){const _0x4fa297=a0_0x240a;if(!_0x4eaa9f){for(_0x4eaa9f=!0x0;_0xe2a7e9[_0x4fa297(0x125)];){const _0x49ed14=_0xe2a7e9[_0x4fa297(0x136)]();if(_0x49ed14)try{_0x417516 instanceof _0x2d1775&&_0x417516[_0x4fa297(0x384)](_0x49ed14),_0x417516 instanceof _0x33867a&&await _0x417516[_0x4fa297(0x384)](_0x49ed14),_0x2a58e2(_0x49ed14);}catch(_0x9792bb){_0x56bd5b?_0xe2a7e9[_0x4fa297(0x2d7)](_0x49ed14,!0x1):_0xe2a7e9[_0x4fa297(0x3a8)](_0x49ed14,!0x1),await _0x417516[_0x4fa297(0x534)]();}}_0x4eaa9f=!0x1;}},_0xeb42a5,_0x21f3c3);return _0xe2a7e9;}class _0x221131{static [_0x397592(0x468)];[_0x397592(0x40c)]=[];[_0x397592(0x4b8)];constructor(){setInterval(()=>{const _0x224dee=a0_0x240a;this[_0x224dee(0x40c)][_0x224dee(0x633)](_0x29dcbc=>{const _0x14eca5=_0x224dee;if(Date[_0x14eca5(0x2fd)]()-_0x29dcbc[_0x14eca5(0x26d)]>_0x29dcbc[_0x14eca5(0x9d)]){try{_0x29dcbc[_0x14eca5(0x5b0)]();}catch(_0x174b3d){}_0x29dcbc['lastExecuted']=Date[_0x14eca5(0x2fd)]();}});},0x64);}static[_0x397592(0x1dd)](){const _0x393959=_0x397592;return _0x221131['instance']||(_0x221131['instance']=new _0x221131()),_0x221131[_0x393959(0x468)];}[_0x397592(0xe6)](_0x59205f){const _0x42823f=_0x397592,_0x107680=this['createConstantSource'](_0x59205f),_0x5056ab=_0x59205f['createGain']();_0x5056ab&&_0x107680&&(_0x5056ab[_0x42823f(0x1c0)][_0x42823f(0x3fd)]=0.001,_0x107680['connect'](_0x5056ab),_0x5056ab[_0x42823f(0x2ad)](_0x59205f[_0x42823f(0x627)]),_0x107680[_0x42823f(0x4da)]());}['stopNoThrottlingHack'](){const _0x1a2bd0=_0x397592;this[_0x1a2bd0(0x4b8)]&&(this['source'][_0x1a2bd0(0x4ef)](),this[_0x1a2bd0(0x4b8)][_0x1a2bd0(0x5f3)](),this['source']=void 0x0);}[_0x397592(0x534)](_0x3f5aad){return new Promise(_0x54f3dc=>{setTimeout(_0x54f3dc,_0x3f5aad);});}[_0x397592(0x18f)](_0x14264c,_0x5d57f1){const _0x9f298e=_0x397592;return this[_0x9f298e(0x40c)]['push']({'callback':_0x14264c,'interval':_0x5d57f1,'lastExecuted':Date[_0x9f298e(0x2fd)]()}),()=>{const _0x287442=_0x9f298e;this[_0x287442(0x40c)]=this[_0x287442(0x40c)][_0x287442(0x602)](_0xa43d74=>_0xa43d74[_0x287442(0x5b0)]!==_0x14264c);};}[_0x397592(0xb5)](_0x4bf3f1){const _0x1cc9cf=_0x397592;if(_0x4bf3f1[_0x1cc9cf(0xb5)])return _0x4bf3f1[_0x1cc9cf(0xb5)]();const _0x35bf15=_0x4bf3f1[_0x1cc9cf(0x54a)](),_0x488a5d=_0x4bf3f1[_0x1cc9cf(0x3e0)](0x1,0x1,_0x4bf3f1[_0x1cc9cf(0x180)]);return _0x488a5d['getChannelData'](0x0)[0x0]=0xa,_0x35bf15['buffer']=_0x488a5d,_0x35bf15[_0x1cc9cf(0x1ca)]=!0x0,_0x35bf15;}}const _0x48ae88=_0x221131[_0x397592(0x1dd)]();class _0x1b77c7 extends _0x373c72{['vendorId'];[_0x397592(0x347)];[_0x397592(0x5f3)];['connectionState']=_0x1dec42[_0x397592(0x5c7)][_0x397592(0x4a9)];[_0x397592(0x1d7)]=_0x46b21e();[_0x397592(0x4d6)]=_0x19e3ff();[_0x397592(0x2ab)];[_0x397592(0x56b)];['retryQueue']=_0x3a6f72(new _0x33867a(this[_0x397592(0x255)][_0x397592(0x62b)](this),this[_0x397592(0x185)][_0x397592(0x62b)](this)));[_0x397592(0x38f)];constructor(_0x2365a9,_0x154f73,_0x57dbe8,_0x10f0df,_0x18b9fb,_0x4cb71e){const _0x15ec30=_0x397592;super(_0x154f73,_0x57dbe8,_0x10f0df),this[_0x15ec30(0x5f7)]=_0x2365a9,this[_0x15ec30(0x347)]=_0x18b9fb,this['disconnect']=_0x4cb71e;}async['connect'](){const _0x17e378=_0x397592;try{const _0x23df85={'getTokens':async()=>{const _0x129fe7=a0_0x240a,_0x3b4af8=await this[_0x129fe7(0x347)][_0x129fe7(0x53f)]();return{'accessToken':(0x0,_0x1dd087[_0x129fe7(0x5f2)])(_0x3b4af8),'idToken':(0x0,_0x1dd087['decodeJWT'])(_0x3b4af8)};}};_0x16748c[_0x17e378(0x5df)]['configure']({'API':{'GraphQL':{'endpoint':_0x1a80bf[_0x17e378(0x3ec)][_0x17e378(0x227)],'region':_0x1a80bf[_0x17e378(0x3ec)][_0x17e378(0xcb)],'defaultAuthMode':_0x17e378(0x4cf)}}},{'Auth':{'tokenProvider':_0x23df85}}),this[_0x17e378(0x38f)]=(0x0,_0x1dec42[_0x17e378(0x359)])(),await this[_0x17e378(0xda)]();let _0x2e1147=0x0;this[_0x17e378(0x56b)]=_0x2a96b4[_0x17e378(0x3b8)][_0x17e378(0x44f)]('api',async({payload:_0x1a2e4b})=>{const _0x21cda6=_0x17e378;if(_0x1a2e4b[_0x21cda6(0x171)]===_0x1dec42[_0x21cda6(0x114)]){const _0x197581=_0x1a2e4b['data'];if(this[_0x21cda6(0x5da)]=_0x197581[_0x21cda6(0x5da)],this[_0x21cda6(0x1d7)][_0x21cda6(0x16f)](_0x197581[_0x21cda6(0x5da)]),this[_0x21cda6(0x5da)]===_0x1dec42[_0x21cda6(0x5c7)][_0x21cda6(0x428)]&&(this[_0x21cda6(0x2ab)]?.[_0x21cda6(0x238)](),delete this['subscription']),this[_0x21cda6(0x5da)]===_0x1dec42[_0x21cda6(0x5c7)][_0x21cda6(0x4a9)]){if(_0x2e1147>0xb4)return this[_0x21cda6(0x56b)]?.(),void this[_0x21cda6(0x5f3)]();_0x2e1147>0x0&&await _0x48ae88['wait'](0x3e8),_0x2e1147++,_0x29f8ca[_0x21cda6(0x364)](_0x21cda6(0x616),{'clusterId':this[_0x21cda6(0xad)],'nodeId':this[_0x21cda6(0x3bb)](),'nodeType':this['localNode'][_0x21cda6(0x1c2)]}),this[_0x21cda6(0xda)]();}this[_0x21cda6(0x5da)]===_0x1dec42['ConnectionState'][_0x21cda6(0x361)]&&(_0x2e1147=0x0);}});}catch(_0xe51e8b){_0x29f8ca[_0x17e378(0x364)](_0x17e378(0x266),{'clusterId':this[_0x17e378(0xad)],'nodeId':this[_0x17e378(0x3bb)](),'nodeType':this['localNode'][_0x17e378(0x1c2)]});}}[_0x397592(0x9e)](){const _0x3571ce=_0x397592;this[_0x3571ce(0x522)]['clear'](),this[_0x3571ce(0x56b)]?.(),this[_0x3571ce(0x2ab)]?.[_0x3571ce(0x238)](),delete this[_0x3571ce(0x2ab)];}[_0x397592(0x49c)](){const _0x53720e=_0x397592;return this['connectionState']===_0x1dec42[_0x53720e(0x5c7)][_0x53720e(0x361)];}[_0x397592(0x301)](_0x1a5471){const _0x2b6821=_0x397592;this[_0x2b6821(0x522)][_0x2b6821(0x2d7)](_0x1a5471);}[_0x397592(0xbc)](_0x10f63e){const _0x185677=_0x397592;return this[_0x185677(0x4d6)][_0x185677(0xda)](_0x10f63e);}['getSupportedContentTypes'](){const _0x1a1ba0=_0x397592;return[_0x25e642['ContentType'][_0x1a1ba0(0x508)]];}async[_0x397592(0x185)](){if(!this['isConnected']())return new Promise(_0x12818a=>{const _0x9426d1=a0_0x240a,_0x116fb3=this['connectionStateListener'][_0x9426d1(0xda)](_0x15400a=>{const _0x129e1e=_0x9426d1;_0x15400a===_0x1dec42[_0x129e1e(0x5c7)][_0x129e1e(0x361)]&&(_0x116fb3(),_0x12818a());});});}async['sendAction'](_0x409393){const _0x16e7b6=_0x397592;if(this[_0x16e7b6(0x5da)]!==_0x1dec42[_0x16e7b6(0x5c7)][_0x16e7b6(0x361)])throw new Error(_0x16e7b6(0x50c));_0x409393[_0x16e7b6(0x478)]&&0x1===_0x409393[_0x16e7b6(0x478)][_0x16e7b6(0x42e)]?await this[_0x16e7b6(0x16f)](_0x409393[_0x16e7b6(0x478)][0x0],JSON[_0x16e7b6(0x2f9)](_0x409393)):_0x29f8ca['error'](_0x16e7b6(0x321),{'clusterId':this[_0x16e7b6(0xad)],'nodeId':this['getLocalId'](),'nodeType':this[_0x16e7b6(0x640)][_0x16e7b6(0x1c2)]});}async['publish'](_0x3ab3c3,_0x162b2a){const _0x539bab=_0x397592;if(!this[_0x539bab(0x38f)])throw new Error(_0x539bab(0x34e));_0x29f8ca[_0x539bab(0x298)](_0x27bb8f[_0x539bab(0x2cf)],'AppSync\x20publish',this['getLocalId'](),_0x162b2a),await this['client'][_0x539bab(0x43b)]({'query':_0x539bab(0x622),'variables':{'name':await this[_0x539bab(0x46f)](_0x3ab3c3),'data':_0x162b2a}});}async[_0x397592(0xda)](){const _0x4e577f=_0x397592;if(this[_0x4e577f(0x2ab)])return;if(!this[_0x4e577f(0x38f)])throw new Error(_0x4e577f(0x34e));_0x29f8ca['log'](_0x27bb8f[_0x4e577f(0x2cf)],_0x4e577f(0xae),this[_0x4e577f(0x3bb)]());const _0x19f41e=await this[_0x4e577f(0x38f)][_0x4e577f(0x43b)]({'query':_0x4e577f(0xc2),'variables':{'name':await this[_0x4e577f(0x46f)]()},'authToken':await this[_0x4e577f(0x347)][_0x4e577f(0x53f)]()},{'Authorization':await this[_0x4e577f(0x347)][_0x4e577f(0x53f)]()});this['subscription']=_0x19f41e[_0x4e577f(0xda)]({'next':({data:_0x531ae5})=>{const _0x3a45c7=_0x4e577f,_0xe5d799=JSON['parse'](_0x531ae5[_0x3a45c7(0xda)][_0x3a45c7(0x476)]);!_0x32427c(_0xe5d799,this[_0x3a45c7(0x3bb)]())&&_0x4c53ed(_0xe5d799,this[_0x3a45c7(0x3bb)]())&&this[_0x3a45c7(0x4d6)]['publish'](_0xe5d799);},'error':console[_0x4e577f(0x298)]});}async['getHash'](_0x58bb10){const _0x5e53d8=_0x397592,_0x302042=await crypto[_0x5e53d8(0xc9)][_0x5e53d8(0x5a1)]('SHA-1',new TextEncoder()[_0x5e53d8(0x2d8)](this[_0x5e53d8(0x5f7)]+'-'+this[_0x5e53d8(0xad)]+'-'+(_0x58bb10??this[_0x5e53d8(0x3bb)]())));return Array[_0x5e53d8(0x1ec)](new Uint8Array(_0x302042))[_0x5e53d8(0x4e7)](_0x1cb699=>_0x1cb699[_0x5e53d8(0x2a1)](0x10)[_0x5e53d8(0x5af)](0x2,'0'))[_0x5e53d8(0x419)]('');}}var _0x3bbf02;!function(_0x1e7e8c){const _0x496b8e=_0x397592;_0x1e7e8c[_0x1e7e8c[_0x496b8e(0x211)]=0x0]=_0x496b8e(0x211),_0x1e7e8c[_0x1e7e8c[_0x496b8e(0x256)]=0x1]=_0x496b8e(0x256),_0x1e7e8c[_0x1e7e8c['Update']=0x2]=_0x496b8e(0x641),_0x1e7e8c[_0x1e7e8c['RemoteAdd']=0x3]=_0x496b8e(0x4d7),_0x1e7e8c[_0x1e7e8c[_0x496b8e(0x1d8)]=0x4]=_0x496b8e(0x1d8);}(_0x3bbf02||(_0x3bbf02={}));const _0x415063=require('uuid'),_0x598dd5='0',_0x509635='chunk',_0x2e01ad=0x3fc00;class _0x3fa627{['clusterId'];[_0x397592(0x640)];[_0x397592(0x33a)];[_0x397592(0x572)];[_0x397592(0x199)];['connectionConstructor'];[_0x397592(0x587)];[_0x397592(0x439)];['currentVersion']=0x1;[_0x397592(0x4f8)];['handshakeCandidates']=[];[_0x397592(0x2dd)]=[];['handshakeDebounce'];constructor(_0x59b83b,_0x1e6407,_0x2457f5,_0x5f32b8,_0x2fce97,_0x4e0e57){const _0x163bab=_0x397592;this[_0x163bab(0xad)]=_0x59b83b,this[_0x163bab(0x640)]=_0x1e6407,this[_0x163bab(0x33a)]=_0x2457f5,this[_0x163bab(0x572)]=_0x5f32b8,this['connectionType']=_0x2fce97,this[_0x163bab(0x5a7)]=_0x4e0e57,this[_0x163bab(0x587)]=new this[(_0x163bab(0x5a7))]({'handshakeServers':this[_0x163bab(0x572)]}),this[_0x163bab(0x48b)]();}[_0x397592(0x9e)](){const _0x396798=_0x397592;this[_0x396798(0x4c2)]();}[_0x397592(0x1fe)](_0x3b5ba3){const _0x3d5ecb=_0x397592;this[_0x3d5ecb(0x199)]=_0x3b5ba3;}async['handleHandshake'](_0x1de24b,_0x403e3d){const _0x301e51=_0x397592;if(_0x403e3d===this['currentVersion'])for(const _0x59a95a of _0x1de24b){if(!this[_0x301e51(0x587)][_0x301e51(0x5db)])return this[_0x301e51(0x14d)](_0x59a95a);await this['connection'][_0x301e51(0x56a)](_0x59a95a);}}[_0x397592(0x49c)](){const _0x384f60=_0x397592;return this[_0x384f60(0x11c)](),_0x384f60(0x4a8)===this[_0x384f60(0x587)][_0x384f60(0x5da)]&&[_0x384f60(0x4a8),_0x384f60(0x44c)][_0x384f60(0x4dd)](this[_0x384f60(0x587)][_0x384f60(0x1a4)])&&_0x384f60(0xf2)!==this[_0x384f60(0x587)][_0x384f60(0x20b)]&&_0x384f60(0x1e9)===this[_0x384f60(0x439)]?.[_0x384f60(0x342)];}['registerSystemPublisher'](_0x150352){const _0x6e35eb=_0x397592;this[_0x6e35eb(0x4f8)]=_0x150352;}[_0x397592(0xd0)](){const _0x27819e=_0x397592;delete this[_0x27819e(0x4f8)];}[_0x397592(0x2b0)](_0xad65ee){const _0x805185=_0x397592;this[_0x805185(0x4c2)](),this['connection']=new this['connectionConstructor']({'handshakeServers':this[_0x805185(0x572)]}),_0xad65ee?this['currentVersion']=_0xad65ee:this[_0x805185(0x5d3)]+=0x1,this[_0x805185(0x48b)]();}[_0x397592(0x327)](){const _0x292195=_0x397592;this[_0x292195(0x2dd)]['forEach'](_0x300c24=>this[_0x292195(0x587)][_0x292195(0x56a)](_0x300c24)),this[_0x292195(0x2dd)]=[];}[_0x397592(0x31a)](_0x578ab2,_0x47e18f){const _0xbae6e9=_0x397592;if(!this[_0xbae6e9(0x4f8)])throw new _0x5efe70(_0x5efe70[_0xbae6e9(0x50b)]['MissingSystemTopic'],{'content':_0x578ab2});const _0x112e56={'sourceId':this[_0xbae6e9(0x640)][_0xbae6e9(0x130)](),'destinationIds':[this[_0xbae6e9(0x33a)]],'propagate':this['connectionType']!==_0x34a71c[_0xbae6e9(0x92)],'retry':this['connectionType']!==_0x34a71c['Core'],'messageType':_0x542695[_0xbae6e9(0x1f7)],'content':_0x578ab2};_0x47e18f&&(_0x112e56[_0xbae6e9(0xe7)]=_0x47e18f),this[_0xbae6e9(0x4f8)][_0xbae6e9(0x16f)](_0x112e56);}['setupConnectionEvents'](){const _0x972124=_0x397592;this[_0x972124(0x587)][_0x972124(0x209)]=()=>{const _0x2dacae=_0x972124;_0x2dacae(0x61c)===this[_0x2dacae(0x587)][_0x2dacae(0x98)]&&this['handshakeCandidates'][_0x2dacae(0x42e)]>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x2dacae(0x22c)]),this[_0x2dacae(0x22c)]=setTimeout(()=>{const _0x26c5ce=_0x2dacae;delete this[_0x26c5ce(0x22c)],this[_0x26c5ce(0x5f8)](),this[_0x26c5ce(0x5b6)]=[];},0x1f4));},this[_0x972124(0x587)][_0x972124(0x1ae)]=_0x563c89=>{const _0x4a6ef4=_0x972124;_0x563c89[_0x4a6ef4(0x3ea)]&&this['handshakeCandidates'][_0x4a6ef4(0x2d7)](_0x563c89[_0x4a6ef4(0x3ea)]);};}[_0x397592(0x4c2)](){const _0x1adc97=_0x397592;clearTimeout(this[_0x1adc97(0x22c)]),delete this['handshakeDebounce'],this[_0x1adc97(0x5b6)]=[],this[_0x1adc97(0x439)]&&(this[_0x1adc97(0x439)][_0x1adc97(0xbc)]=null,this[_0x1adc97(0x439)][_0x1adc97(0x3b6)]=null,this[_0x1adc97(0x439)][_0x1adc97(0x9e)](),delete this[_0x1adc97(0x439)]),this['connection'][_0x1adc97(0x209)]=null,this['connection'][_0x1adc97(0x1ae)]=null,this[_0x1adc97(0x587)][_0x1adc97(0x362)]=null,this['connection'][_0x1adc97(0x421)]=null,this['connection']['onTrack']=null,this[_0x1adc97(0x587)][_0x1adc97(0xc7)]=null,this[_0x1adc97(0x587)]['close']();}[_0x397592(0x14d)](_0x5802f3){const _0x16d771=_0x397592;this[_0x16d771(0x2dd)][_0x16d771(0x2d7)](_0x5802f3);}[_0x397592(0x11c)](){const _0x583f9c=_0x397592;_0x29f8ca[_0x583f9c(0x298)](_0x27bb8f[_0x583f9c(0x5c7)],_0x583f9c(0x3cd),{'localId':this[_0x583f9c(0x640)][_0x583f9c(0x130)](),'remoteId':this[_0x583f9c(0x33a)],'connectionState':this[_0x583f9c(0x587)][_0x583f9c(0x5da)],'handshakeState':this['connection'][_0x583f9c(0x1a4)],'signalingState':this['connection'][_0x583f9c(0x20b)],'dataChannelState':this['dataChannel']?.[_0x583f9c(0x342)]});}}function _0x470780(_0x45bffd,_0x4edc14){const _0x2b7387=_0x397592;_0x4edc14[_0x2b7387(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x2b7387(0x1f7)],'content':_0x45bffd});}const _0x10dc75=[_0x397592(0x1f7),_0x397592(0x190),_0x397592(0x346),_0x397592(0x548),'Stats',_0x397592(0x39e),_0x397592(0x3de)],_0x51b47f=[[_0x397592(0x91),_0x397592(0x5b5),'Handshake',_0x397592(0x201),'NeedRestart',_0x397592(0x5e0),_0x397592(0x39b),_0x397592(0x1e6),'OptimizationConnectionSuccess'],['NodeJoin',_0x397592(0x281),_0x397592(0x1da),'NodeLeave'],[_0x397592(0x299),_0x397592(0x2d6),'SubscribeMediaStream',_0x397592(0x53b),'UnsubscribeMediaStream',_0x397592(0x251),_0x397592(0xdb),_0x397592(0x19f),_0x397592(0x4d8),_0x397592(0x97),_0x397592(0x24d),_0x397592(0x566),_0x397592(0x96),'RequestTransactionsValue','ObjectStoreStats',_0x397592(0xd3)],['SubscribeMediaStream',_0x397592(0x53b),'UnsubscribeMediaStream','NeedMediaStream','RestartNeedMediaStream','CanProvideMediaStream','CannotProvideMediaStream',_0x397592(0x31d)],[_0x397592(0x615),_0x397592(0x278)],['Problem'],['Remediation',_0x397592(0x370)]];function _0xead838(_0x439cf7){const _0x3f19a4=_0x397592;return{..._0x439cf7,'systemMessageType':_0x10dc75[_0x439cf7[_0x3f19a4(0x2d9)]],'systemContentMessageType':_0x51b47f[_0x439cf7[_0x3f19a4(0x2d9)]][_0x439cf7['content']['type']]};}const _0x1fd218={'hour':_0x397592(0x437),'minute':_0x397592(0x437),'second':_0x397592(0x437)};function _0x59bbbc(_0x59c771,_0x342d7c){const _0x1e2098=_0x397592,_0x5e352a=(function(){const _0x302ddd=a0_0x240a,_0x2a9ef4=new Date(),_0x5e0955=_0x2a9ef4['getMilliseconds'](),_0x6feaf2=_0x2a9ef4[_0x302ddd(0xf5)](_0x302ddd(0x264),_0x1fd218)[_0x302ddd(0x1fc)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x6feaf2+'.'+(_0x5e0955>0x64?''+_0x5e0955:_0x5e0955>0xa?'0'+_0x5e0955:'00'+_0x5e0955);}()),{sourceId:_0x1ae8df,destinationIds:_0x325f0f,systemMessageType:_0x2d3bfc,systemContentMessageType:_0x3533c7}=_0xead838(_0x59c771);return _0x5e352a+_0x1e2098(0x4ea)+_0x342d7c+_0x1e2098(0x4ea)+(_0x1ae8df===_0x342d7c?'Sending\x20\x27'+_0x2d3bfc+'\x27\x20to\x20'+(_0x325f0f?''+_0x325f0f:_0x1e2098(0xb8)):_0x59c771[_0x1e2098(0x108)]===_0x5ef92f?'Internal\x20event\x20\x27'+_0x2d3bfc+'\x27':(_0x325f0f?'':_0x1e2098(0x5fc))+_0x1e2098(0xb2)+_0x2d3bfc+_0x1e2098(0x51b)+_0x1ae8df)+'\x20with\x20\x27'+_0x3533c7+_0x1e2098(0x225);}class _0x511036 extends _0x3fa627{['messageCallback']=_0x46b21e();[_0x397592(0x376)]=_0x46b21e();['removeTrackCallback']=_0x46b21e();[_0x397592(0x25c)]=new Map();[_0x397592(0x20c)]=new Map();[_0x397592(0x567)];[_0x397592(0x594)]=0x0;[_0x397592(0x54b)]={'messages':{'total':0x0}};[_0x397592(0x26a)]=0x0;[_0x397592(0x336)]=0x0;[_0x397592(0x9e)](){const _0x209c2f=_0x397592;this[_0x209c2f(0x1fb)](),this[_0x209c2f(0x25c)][_0x209c2f(0x562)](),super[_0x209c2f(0x9e)]();}async['handleOffer'](_0x5e2a87,_0x4235ef){const _0x298014=_0x397592;this['currentVersion']=_0x4235ef,this['clearWaitSuccess']();const _0xcc99e0=await this['connection']['createAnswer'](_0x5e2a87);this[_0x298014(0x327)]();const _0x26897c=(0x0,_0x415063['v4'])();this[_0x298014(0x31a)]({'type':_0x13a1c5[_0x298014(0x5b5)],'answer':_0xcc99e0,'version':_0x4235ef,'connectionType':this['connectionType']},_0x26897c),this['connectionType']===_0x34a71c[_0x298014(0x92)]&&(this['waitSuccess']=_0x48ae88[_0x298014(0x18f)](()=>{const _0x2c2ad9=_0x298014;this[_0x2c2ad9(0x31a)]({'type':_0x13a1c5[_0x2c2ad9(0x5b5)],'answer':_0xcc99e0,'version':_0x4235ef,'connectionType':this[_0x2c2ad9(0x199)]},_0x26897c);},0x1388));}[_0x397592(0x95)](){const _0x39a74d=_0x397592;this[_0x39a74d(0x1fb)]();}['handleNeedRestart'](_0x1798da){const _0x2f386b=_0x397592;this['resetConnection'](_0x1798da),this['publishSystemMessage']({'type':_0x13a1c5[_0x2f386b(0x5e0)]});}async[_0x397592(0x32f)](){const _0x2f05ee=_0x397592;this[_0x2f05ee(0x4f8)]&&(await this[_0x2f05ee(0x587)]['collectReceiversStats'](this[_0x2f05ee(0x25c)],(_0x422cab,_0x4b51ba)=>{const _0x412421=_0x2f05ee;_0x470780({'type':_0x13a1c5[_0x412421(0x1e6)],'streamId':_0x4b51ba,'nodeId':this[_0x412421(0x33a)],'stats':_0x422cab},this[_0x412421(0x4f8)]);}),this[_0x2f05ee(0x4f8)][_0x2f05ee(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x2f05ee(0x1f7)],'content':{'type':_0x13a1c5[_0x2f05ee(0x1e6)],'nodeId':this['remoteId'],'stats':{'origin':_0x500b11['Receiver'],'timestamp':Date[_0x2f05ee(0x2fd)](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x2f05ee(0x26a)],'timeReceiving':this['timeReceiving'],'systemMessages':this['systemMessagesReceived']}}}));}[_0x397592(0xbc)](_0x3da6d9){const _0x23a20a=_0x397592;return this[_0x23a20a(0xde)]['subscribe'](_0x3da6d9);}[_0x397592(0x319)](_0x44552f){const _0x544081=_0x397592;return this[_0x544081(0x376)][_0x544081(0xda)](({track:_0x123db8,stream:_0x5f4b8f})=>_0x44552f(_0x123db8,_0x5f4b8f));}[_0x397592(0x149)](_0x19ddfd){const _0x1b57ac=_0x397592;return this['removeTrackCallback'][_0x1b57ac(0xda)](({track:_0x24757d,stream:_0x329820})=>_0x19ddfd(_0x24757d,_0x329820));}[_0x397592(0x2b0)](_0x564aa5){const _0x34abdf=_0x397592;this['clearWaitSuccess'](),this[_0x34abdf(0x25c)][_0x34abdf(0x633)](_0xff4652=>{const _0x549b6e=_0x34abdf;_0xff4652[_0x549b6e(0x562)]();}),super[_0x34abdf(0x2b0)](_0x564aa5);}['sendIceCandidates'](){const _0x1e0a55=_0x397592;this[_0x1e0a55(0x31a)]({'type':_0x13a1c5[_0x1e0a55(0x107)],'candidates':this[_0x1e0a55(0x5b6)],'origin':_0x500b11[_0x1e0a55(0x1a5)],'version':this['currentVersion'],'connectionType':this[_0x1e0a55(0x199)]});}['setupConnectionEvents'](){const _0x2f830f=_0x397592;super[_0x2f830f(0x48b)](),this['connection'][_0x2f830f(0x319)]=_0x754ce6=>{const _0x53e18e=_0x2f830f;_0x29f8ca[_0x53e18e(0x298)](_0x27bb8f[_0x53e18e(0x23d)],'CrewdleReceiverConnection\x20ontrack',this[_0x53e18e(0x640)][_0x53e18e(0x130)](),_0x754ce6),_0x754ce6['streams'][0x0]['onremovetrack']=_0x189ad1=>{const _0x1f3de4=_0x53e18e;this['receivers']['get'](_0x754ce6[_0x1f3de4(0x3ca)][0x0]['id'])?.[_0x1f3de4(0x457)](_0x189ad1[_0x1f3de4(0x515)]),0x0===this[_0x1f3de4(0x25c)][_0x1f3de4(0x5e6)](_0x754ce6[_0x1f3de4(0x3ca)][0x0]['id'])?.[_0x1f3de4(0x37e)]&&this[_0x1f3de4(0x25c)][_0x1f3de4(0x457)](_0x754ce6[_0x1f3de4(0x3ca)][0x0]['id']),this[_0x1f3de4(0x3b2)]['publish']({'track':_0x189ad1[_0x1f3de4(0x515)],'stream':_0x754ce6[_0x1f3de4(0x3ca)][0x0]});},this[_0x53e18e(0x25c)][_0x53e18e(0x1ac)](_0x754ce6['streams'][0x0]['id'])||this[_0x53e18e(0x25c)][_0x53e18e(0x42c)](_0x754ce6['streams'][0x0]['id'],new Set()),this['receivers'][_0x53e18e(0x5e6)](_0x754ce6[_0x53e18e(0x3ca)][0x0]['id'])[_0x53e18e(0x11f)](_0x754ce6[_0x53e18e(0x515)]),this[_0x53e18e(0x376)][_0x53e18e(0x16f)]({'track':_0x754ce6['track'],'stream':_0x754ce6['streams'][0x0]});},this[_0x2f830f(0x587)][_0x2f830f(0xc7)]=_0x1f1af9=>{const _0x29e4ec=_0x2f830f;this[_0x29e4ec(0x439)]=_0x1f1af9[_0x29e4ec(0x315)],this['dataChannel'][_0x29e4ec(0xbc)]=_0x3225a8=>{const _0x2fc3fd=_0x29e4ec;if(_0x3225a8['data']!==_0x598dd5)this[_0x2fc3fd(0xfe)](_0x3225a8['data']);else{if(!this[_0x2fc3fd(0x439)])return void _0x29f8ca[_0x2fc3fd(0x364)]('missing-datachannel',{'clusterId':this[_0x2fc3fd(0xad)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x2fc3fd(0x640)]['type'],'remoteId':this[_0x2fc3fd(0x33a)],'data':{'connection':_0x2fc3fd(0x604)}});if('open'!==this['dataChannel'][_0x2fc3fd(0x342)])return;this[_0x2fc3fd(0x439)][_0x2fc3fd(0x301)]('1');}};};}[_0x397592(0xfe)](_0xea8f1b){const _0x44382c=_0x397592;if('string'==typeof _0xea8f1b&&_0xea8f1b['startsWith'](_0x509635))return this[_0x44382c(0x594)]+=0x1,this[_0x44382c(0x26a)]+=_0xea8f1b[_0x44382c(0x42e)],this['handleChunkMessage'](_0xea8f1b);setTimeout(()=>{const _0x17f967=_0x44382c,_0x2b1b51=Date['now']();let _0x481585;if((_0xea8f1b instanceof ArrayBuffer||_0xea8f1b[_0x17f967(0x42e)]<=_0x2e01ad)&&(this['messagesReceived']+=0x1,this[_0x17f967(0x26a)]+=_0xea8f1b instanceof ArrayBuffer?_0xea8f1b[_0x17f967(0x5d7)]:_0xea8f1b[_0x17f967(0x42e)]),_0xea8f1b instanceof ArrayBuffer){const [_0x1eb899,_0x5bd671]=this[_0x17f967(0x1e8)](_0xea8f1b);_0x481585=_0x1eb899,_0x481585[_0x17f967(0x512)]['data']=_0x5bd671;}else _0x481585=JSON['parse'](_0xea8f1b);if(0x0===_0x481585[_0x17f967(0x259)]){this[_0x17f967(0x54b)][_0x17f967(0x243)][_0x17f967(0x5f1)]+=0x1;const {systemMessageType:_0x24468b,systemContentMessageType:_0x1960bb}=_0xead838(_0x481585);this[_0x17f967(0x54b)][_0x24468b]||(this[_0x17f967(0x54b)][_0x24468b]={[_0x1960bb]:0x0}),this[_0x17f967(0x54b)][_0x24468b][_0x1960bb]||(this[_0x17f967(0x54b)][_0x24468b][_0x1960bb]=0x0),this['systemMessagesReceived'][_0x24468b]['total']||(this[_0x17f967(0x54b)][_0x24468b][_0x17f967(0x5f1)]=0x0),this['systemMessagesReceived'][_0x24468b][_0x1960bb]+=0x1,this[_0x17f967(0x54b)][_0x24468b]['total']+=0x1;}this[_0x17f967(0xde)][_0x17f967(0x16f)](_0x481585),this[_0x17f967(0x336)]+=Date[_0x17f967(0x2fd)]()-_0x2b1b51;},0x0);}['handleChunkMessage'](_0x453eeb){const _0x171859=_0x397592,_0x5ade8c=_0x453eeb[_0x171859(0x173)](';'),_0x3a0150=_0x5ade8c[0x1],_0x48fc37=parseInt(_0x5ade8c[0x2],0xa),_0x5541c2=parseInt(_0x5ade8c[0x3],0xa),_0x401ebf=_0x453eeb[_0x171859(0x2e4)](_0x509635+';'+_0x3a0150+';'+_0x48fc37+';'+_0x5541c2+';','');this[_0x171859(0x20c)][_0x171859(0x1ac)](_0x3a0150)||this[_0x171859(0x20c)][_0x171859(0x42c)](_0x3a0150,[]);const _0x88674f=this[_0x171859(0x20c)][_0x171859(0x5e6)](_0x3a0150);_0x88674f[_0x48fc37]=_0x401ebf,_0x88674f[_0x171859(0x42e)]===_0x5541c2&&(this['handleOnMessage'](_0x88674f[_0x171859(0x419)]('')),this[_0x171859(0x20c)][_0x171859(0x457)](_0x3a0150));}[_0x397592(0x1fb)](){const _0x2b6f4f=_0x397592;this[_0x2b6f4f(0x567)]?.(),delete this['waitSuccess'];}[_0x397592(0x29a)](_0x59c4ec){const _0x53b958=_0x397592,_0x267226=new TextDecoder()[_0x53b958(0x3c8)](_0x59c4ec);return JSON[_0x53b958(0x42f)](_0x267226);}[_0x397592(0x1e8)](_0x257b5b){const _0x575198=_0x397592,_0x411105=new Uint8Array(_0x257b5b[_0x575198(0x5ef)](0x0,0x4)),_0x127e68=new Uint32Array(_0x411105['buffer'])[0x0],_0x231f0a=new Uint8Array(_0x257b5b[_0x575198(0x5ef)](0x4,0x4+_0x127e68)),_0x37f80c=new Uint8Array(_0x257b5b[_0x575198(0x5ef)](0x4+_0x127e68));return[this[_0x575198(0x29a)](_0x231f0a['buffer']),_0x37f80c[_0x575198(0x3d8)]];}}const _0x571229=0xc350;var _0x432690,_0x300949,_0x2505b6,_0x4334e1,_0xc5b684;!function(_0xb90d0a){const _0x2584bf=_0x397592;_0xb90d0a[_0xb90d0a[_0x2584bf(0x15d)]=0x0]=_0x2584bf(0x15d),_0xb90d0a[_0xb90d0a['Medium']=0x1]=_0x2584bf(0x61f),_0xb90d0a[_0xb90d0a[_0x2584bf(0x170)]=0x2]=_0x2584bf(0x170);}(_0x432690||(_0x432690={}));class _0x120712 extends _0x3fa627{[_0x397592(0x1a2)];[_0x397592(0x4c8)];['senders']=new Map();[_0x397592(0x1bb)];[_0x397592(0x52a)];[_0x397592(0x113)];[_0x397592(0x398)]=!0x1;['connectionTimeout'];['restartTimeout'];[_0x397592(0x150)];[_0x397592(0x522)]=function(e,t=_0x432690,s=!0x1){const _0x304404=_0x397592;let i=!0x1;const n=[];async function a(){const _0x56c36f=a0_0x240a;if(!i){for(i=!0x0;n[_0x56c36f(0x219)](e=>e[_0x56c36f(0x125)]);){let t,i=0x0;for(const [e,s]of n[_0x56c36f(0x1e0)]())if(t=s['shift'](),i=e,t)break;if(t)try{if(e instanceof _0x2d1775&&e[_0x56c36f(0x384)](t),e instanceof _0x33867a&&await e[_0x56c36f(0x384)](t),n['slice'](-0x1)[_0x56c36f(0x219)](e=>e[_0x56c36f(0x125)]))continue;const s=n[_0x56c36f(0x42e)]-0x1;i===s&&n[s][_0x56c36f(0x125)]&&await _0x48ae88['wait'](0x0);}catch(a){s?n[i]['push'](t,!0x1):n[i][_0x56c36f(0x3a8)](t,!0x1),await e[_0x56c36f(0x534)]();}}i=!0x1;}}return Object['values'](t)[_0x304404(0x633)](e=>{const _0x12ddc2=_0x304404;_0x12ddc2(0x42a)!=typeof e&&(n[e]=_0x36adda(a));}),{'queues':n};}(new _0x2d1775(this['sendAction'][_0x397592(0x62b)](this),this['waitSendBuffer'][_0x397592(0x62b)](this)));[_0x397592(0x235)]=0x0;[_0x397592(0x605)]=0x0;[_0x397592(0x4d2)]=0x0;[_0x397592(0xc5)]=0x0;[_0x397592(0x2f8)];constructor(_0x44cac0,_0x11f49c,_0x43a173,_0x7fd6f3,_0xae7e8,_0x41b19f,_0xb78532,_0x23a612){const _0x51ca91=_0x397592;super(_0x44cac0,_0x11f49c,_0x43a173,_0x7fd6f3,_0xae7e8,_0x23a612),this[_0x51ca91(0x1a2)]=_0x41b19f,this['maxBpp']=_0xb78532;}[_0x397592(0x9e)](){const _0x59a448=_0x397592;this[_0x59a448(0x2c6)](),this[_0x59a448(0x5a2)](),delete this[_0x59a448(0x113)],this['clearRestartTimeout'](),this[_0x59a448(0x4cd)](),this['clearWaitAnswer'](),this['senders'][_0x59a448(0x562)](),this[_0x59a448(0x398)]=!0x1,this[_0x59a448(0x522)]['queues'][_0x59a448(0x633)](_0x5e38e1=>_0x5e38e1[_0x59a448(0x562)]()),this[_0x59a448(0x447)](),super[_0x59a448(0x9e)]();}[_0x397592(0x49c)](){const _0x1b01f9=_0x397592;return!!this[_0x1b01f9(0x113)]&&super[_0x1b01f9(0x49c)]()&&Date[_0x1b01f9(0x2fd)]()-this['lastHeartbeat']<0x3a98;}async[_0x397592(0x32f)](){const _0x153876=_0x397592;this[_0x153876(0x4f8)]&&(await this[_0x153876(0x587)]['collectSendersStats'](this[_0x153876(0x606)],(_0x4053a0,_0x19df2a)=>{const _0xbaec46=_0x153876;_0x470780({'type':_0x13a1c5[_0xbaec46(0x1e6)],'streamId':_0x19df2a,'nodeId':this[_0xbaec46(0x33a)],'stats':_0x4053a0},this[_0xbaec46(0x4f8)]);}),this[_0x153876(0x4f8)][_0x153876(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x153876(0x1f7)],'content':{'type':_0x13a1c5[_0x153876(0x1e6)],'nodeId':this[_0x153876(0x33a)],'stats':{'origin':_0x500b11[_0x153876(0x36c)],'timestamp':Date[_0x153876(0x2fd)](),'messagesSent':this[_0x153876(0x235)],'bytesSent':this[_0x153876(0x605)],'timeSending':this[_0x153876(0x4d2)],'roundTripTime':this[_0x153876(0xc5)]}}}));}async[_0x397592(0x642)](_0x2d02d8){const _0x1c4a9c=_0x397592;_0x29f8ca[_0x1c4a9c(0x298)](_0x27bb8f[_0x1c4a9c(0x23d)],_0x1c4a9c(0x341),this[_0x1c4a9c(0x640)][_0x1c4a9c(0x130)](),this[_0x1c4a9c(0x33a)]),this[_0x1c4a9c(0x60b)](),this[_0x1c4a9c(0x4cd)](),this[_0x1c4a9c(0x2b3)](),this[_0x1c4a9c(0x5e3)]=setTimeout(()=>{const _0x3af9fd=_0x1c4a9c;this[_0x3af9fd(0x355)]();},0x7530),this[_0x1c4a9c(0x439)]||(this[_0x1c4a9c(0x439)]=this['connection'][_0x1c4a9c(0x357)]('data'),this[_0x1c4a9c(0x439)][_0x1c4a9c(0x272)]=0x10000,this[_0x1c4a9c(0x439)]['onClose']=()=>{const _0x49b86c=_0x1c4a9c;this[_0x49b86c(0x2f8)]=setTimeout(()=>{const _0x45741a=_0x49b86c;delete this[_0x45741a(0x2f8)],[_0x45741a(0x286),_0x45741a(0x1e9)][_0x45741a(0x4dd)](this[_0x45741a(0x439)]?.[_0x45741a(0x342)]??'')||this[_0x45741a(0x355)]();},0xfa);});const _0x178eb6=await this[_0x1c4a9c(0x587)][_0x1c4a9c(0x642)](_0x2d02d8);this[_0x1c4a9c(0x113)]||(this[_0x1c4a9c(0x113)]=Date['now']());const _0x5ea4c1=(0x0,_0x415063['v4'])();this[_0x1c4a9c(0x31a)]({'type':_0x13a1c5[_0x1c4a9c(0x91)],'offer':_0x178eb6,'version':this['currentVersion'],'connectionType':this[_0x1c4a9c(0x199)]},_0x5ea4c1),this[_0x1c4a9c(0x199)]===_0x34a71c['Core']&&(this[_0x1c4a9c(0x52a)]=_0x48ae88[_0x1c4a9c(0x18f)](()=>{const _0x5ba430=_0x1c4a9c;this['publishSystemMessage']({'type':_0x13a1c5['Offer'],'offer':_0x178eb6,'version':this['currentVersion'],'connectionType':this[_0x5ba430(0x199)]},_0x5ea4c1);},0x1388));}async[_0x397592(0x63f)](_0x2296f8,_0x595921){const _0x319fd8=_0x397592;if(_0x595921===this[_0x319fd8(0x5d3)]){this[_0x319fd8(0x2b3)]();try{await this[_0x319fd8(0x587)][_0x319fd8(0x63f)](_0x2296f8,this[_0x319fd8(0x642)][_0x319fd8(0x62b)](this)),this['processPendingHandshakeCandidates'](),this[_0x319fd8(0x4cd)](),this[_0x319fd8(0x93)]();}catch(_0x3872c){this[_0x319fd8(0x355)]();}}}[_0x397592(0x301)](_0x48e499){const _0x8d1aa7=_0x397592;if(!this[_0x8d1aa7(0x439)])throw new _0x5efe70(_0x5efe70['codes'][_0x8d1aa7(0x30a)],{'message':_0x8d1aa7(0x334),'localId':this['localNode']['getId'](),'remoteId':this[_0x8d1aa7(0x33a)],'eventMessage':_0x48e499});if(_0x8d1aa7(0x1e9)!==this['dataChannel'][_0x8d1aa7(0x342)])throw new _0x5efe70(_0x5efe70[_0x8d1aa7(0x50b)]['InvalidDataChannel'],{'message':_0x8d1aa7(0x40e),'localId':this['localNode']['getId'](),'remoteId':this[_0x8d1aa7(0x33a)],'eventMessage':_0x48e499});let _0xea4a09;if(_0x48e499[_0x8d1aa7(0x512)][_0x8d1aa7(0x476)]instanceof ArrayBuffer){const _0x3396d2=_0x48e499[_0x8d1aa7(0x512)][_0x8d1aa7(0x476)];delete _0x48e499['content'][_0x8d1aa7(0x476)],_0xea4a09=this['mergeParts'](_0x48e499,_0x3396d2);}else _0xea4a09=JSON[_0x8d1aa7(0x2f9)](_0x48e499);if(_0x8d1aa7(0x42a)==typeof _0xea4a09&&_0xea4a09[_0x8d1aa7(0x42e)]>_0x2e01ad)return this[_0x8d1aa7(0x432)](_0x48e499,_0xea4a09);const _0x21ca85=0x0===_0x48e499[_0x8d1aa7(0x259)]&&[_0x542695['Subscription'],_0x542695[_0x8d1aa7(0x1f7)]][_0x8d1aa7(0x4dd)](_0x48e499[_0x8d1aa7(0x2d9)])?_0x432690[_0x8d1aa7(0x15d)]:_0x48e499 instanceof ArrayBuffer?_0x432690[_0x8d1aa7(0x170)]:_0x432690[_0x8d1aa7(0x61f)];this[_0x8d1aa7(0x312)](_0xea4a09,_0x21ca85);}[_0x397592(0x4fd)](_0x4429ed,_0x9f9456,_0x659512,_0x14043b){const _0x5a9cf3=_0x397592,_0x186420=(_0x351fef=this['maxFps'],_0x36037d=this['maxBpp'],Math[_0x5a9cf3(0x4a7)](0xe1000*_0x351fef*_0x36037d));var _0x351fef,_0x36037d;const _0x4959d6=this['senders'][_0x5a9cf3(0x5e6)](_0x9f9456['id'])||{'stream':_0x9f9456,'priority':_0x659512,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x186420,'maxBitrate':_0x186420,'framerate':this[_0x5a9cf3(0x1a2)],'maxFramerate':this[_0x5a9cf3(0x1a2)],'tracks':{},'params':_0x14043b},_0x247d78=_0x4959d6[_0x5a9cf3(0x99)][_0x4429ed[_0x5a9cf3(0x5bc)]]||{'track':_0x4429ed};if(_0x247d78['sender']?(_0x247d78[_0x5a9cf3(0x515)]=_0x4429ed,this['connection'][_0x5a9cf3(0x337)](_0x4429ed,_0x247d78[_0x5a9cf3(0x3b0)])):_0x247d78[_0x5a9cf3(0x3b0)]=this[_0x5a9cf3(0x587)][_0x5a9cf3(0x4fd)](_0x4429ed,_0x9f9456),_0x4959d6['tracks'][_0x4429ed[_0x5a9cf3(0x5bc)]]=_0x247d78,_0x14043b&&(_0x4959d6['params']=_0x14043b),_0x14043b&&'video'===_0x14043b[_0x5a9cf3(0x5bc)]&&_0x14043b['resolution']&&_0x14043b[_0x5a9cf3(0x145)]&&(_0x4959d6[_0x5a9cf3(0xa6)]=this['getResolutionScale'](_0x14043b['resolution'],_0x14043b[_0x5a9cf3(0x145)]),_0x4959d6[_0x5a9cf3(0x3d5)]=_0x4959d6['resolutionScale'],_0x4959d6[_0x5a9cf3(0x99)]['video']&&_0x4959d6[_0x5a9cf3(0x99)][_0x5a9cf3(0xaf)][_0x5a9cf3(0x3b0)])){const _0x3906d1=_0x4959d6[_0x5a9cf3(0x99)][_0x5a9cf3(0xaf)][_0x5a9cf3(0x3b0)];this['connection'][_0x5a9cf3(0x43e)](_0x3906d1,Math[_0x5a9cf3(0x4a7)](0xa*_0x4959d6[_0x5a9cf3(0xa6)])/0xa,_0x4959d6[_0x5a9cf3(0x5cb)],_0x4959d6[_0x5a9cf3(0x438)],_0x4959d6[_0x5a9cf3(0x382)]);}this[_0x5a9cf3(0x606)][_0x5a9cf3(0x42c)](_0x9f9456['id'],_0x4959d6);}[_0x397592(0x105)](_0x4555dc,_0x871571){const _0x4fbbdb=_0x397592,_0xc2bac0=this[_0x4fbbdb(0x606)][_0x4fbbdb(0x5e6)](_0x4555dc['id']);if(_0xc2bac0&&_0xc2bac0['priority']!==_0x871571&&(_0xc2bac0[_0x4fbbdb(0x382)]=_0x871571,_0xc2bac0[_0x4fbbdb(0x99)][_0x4fbbdb(0xaf)]&&_0xc2bac0[_0x4fbbdb(0x99)][_0x4fbbdb(0xaf)][_0x4fbbdb(0x3b0)])){const _0x4f08dd=_0xc2bac0[_0x4fbbdb(0x99)]['video'][_0x4fbbdb(0x3b0)];this[_0x4fbbdb(0x587)][_0x4fbbdb(0x43e)](_0x4f08dd,Math[_0x4fbbdb(0x4a7)](0xa*_0xc2bac0[_0x4fbbdb(0xa6)])/0xa,_0xc2bac0[_0x4fbbdb(0x5cb)],_0xc2bac0[_0x4fbbdb(0x438)],_0xc2bac0['priority']);}}[_0x397592(0x4bb)](_0x319aee,_0x439603){const _0x445696=_0x397592,_0x24cfe6=this['senders'][_0x445696(0x5e6)](_0x319aee['id']);if(_0x24cfe6){if(_0x24cfe6[_0x445696(0x528)]=_0x439603,_0x439603&&'video'===_0x439603[_0x445696(0x5bc)]&&_0x439603[_0x445696(0x550)]&&_0x439603[_0x445696(0x145)]){if(_0x24cfe6['minResolutionScale']=this[_0x445696(0x33d)](_0x439603[_0x445696(0x550)],_0x439603['maxResolution']),_0x24cfe6['resolutionScale']<_0x24cfe6[_0x445696(0x3d5)]&&(_0x24cfe6[_0x445696(0xa6)]=_0x24cfe6[_0x445696(0x3d5)]),_0x24cfe6[_0x445696(0x99)][_0x445696(0xaf)]&&_0x24cfe6[_0x445696(0x99)][_0x445696(0xaf)][_0x445696(0x3b0)]){const _0x78c0e8=_0x24cfe6[_0x445696(0x99)]['video'][_0x445696(0x3b0)];this['connection'][_0x445696(0x43e)](_0x78c0e8,Math[_0x445696(0x4a7)](0xa*_0x24cfe6[_0x445696(0xa6)])/0xa,_0x24cfe6['framerate'],_0x24cfe6[_0x445696(0x438)],_0x24cfe6[_0x445696(0x382)]);}this[_0x445696(0x2c6)](),this[_0x445696(0x493)]();}this['senders'][_0x445696(0x42c)](_0x319aee['id'],_0x24cfe6);}}[_0x397592(0x618)](_0x2a3f23,_0x884921){const _0x458834=_0x397592,_0x177bda=this[_0x458834(0x606)][_0x458834(0x5e6)](_0x884921['id']);if(_0x177bda){const _0x2d9bc2=_0x177bda[_0x458834(0x99)][_0x2a3f23[_0x458834(0x5bc)]];_0x2d9bc2&&(_0x2d9bc2[_0x458834(0x3b0)]&&this[_0x458834(0x587)][_0x458834(0x618)](_0x2d9bc2[_0x458834(0x3b0)]),_0x2d9bc2[_0x458834(0x515)]=void 0x0);}}[_0x397592(0x366)](_0x47a200){const _0x1814d7=_0x397592;this['clearUpgradeTimeout']();const _0x4656e9=function(_0x97eab0,_0x438e31){const _0x2c2ab5=a0_0x240a;return _0x97eab0['sort']((_0x3a93a1,_0x2f8d3b)=>_0x438e31[_0x2c2ab5(0x1c8)]===_0x3b09a3[_0x2c2ab5(0x1b8)]?_0x2f8d3b['priority']-_0x3a93a1[_0x2c2ab5(0x382)]:_0x3a93a1[_0x2c2ab5(0x382)]-_0x2f8d3b[_0x2c2ab5(0x382)])[_0x2c2ab5(0x13c)](_0x399c22=>function(_0x1ab20c,_0x1f7313){const _0x595747=_0x2c2ab5;if(_0x1f7313[_0x595747(0x1c8)]===_0x3b09a3['Downgrade']){if(_0x1f7313['component']===_0x11b7dc['Resolution'])return _0x1ab20c[_0x595747(0xa6)]<0x4||_0x1ab20c[_0x595747(0x60d)]>0xf;if(_0x1f7313[_0x595747(0x29f)]===_0x11b7dc[_0x595747(0x197)])return _0x1ab20c[_0x595747(0x3d1)]>_0x571229;}return _0x1ab20c['resolutionScale']>_0x1ab20c[_0x595747(0x3d5)]||_0x1ab20c['framerate']<_0x1ab20c['maxFramerate']||_0x1ab20c[_0x595747(0x438)]<_0x1ab20c['maxBitrate'];}(_0x399c22,_0x438e31));}(Array['from'](this['senders'][_0x1814d7(0xee)]()),_0x47a200);if(_0x4656e9&&(function(_0x4e1118,_0x47dda1){const _0x3ec40a=_0x1814d7;_0x4e1118['tracks'][_0x3ec40a(0xaf)]&&_0x4e1118['tracks'][_0x3ec40a(0xaf)][_0x3ec40a(0x3b0)]&&(_0x4e1118['resolutionScale']=function(_0x40abea,_0x49c0a4,_0x58b936){const _0x1d10b4=_0x3ec40a;switch(_0x58b936[_0x1d10b4(0x1c8)]){case _0x3b09a3[_0x1d10b4(0x1b8)]:_0x58b936[_0x1d10b4(0x29f)]===_0x11b7dc[_0x1d10b4(0x4f1)]&&(_0x40abea+=0.5)>0x4&&(_0x40abea=0x4);break;case _0x3b09a3[_0x1d10b4(0x1f6)]:(_0x40abea-=0.5)<_0x49c0a4&&(_0x40abea=_0x49c0a4);}return _0x40abea;}(_0x4e1118[_0x3ec40a(0xa6)],_0x4e1118[_0x3ec40a(0x3d5)],_0x47dda1),_0x4e1118[_0x3ec40a(0x5cb)]=function(_0x1ca561,_0x49d25e,_0x32d517){const _0x2c6134=_0x3ec40a;switch(_0x32d517['action']){case _0x3b09a3[_0x2c6134(0x1b8)]:_0x32d517[_0x2c6134(0x29f)]===_0x11b7dc[_0x2c6134(0x4f1)]&&(_0x1ca561-=0x3)<0xf&&(_0x1ca561=0xf);break;case _0x3b09a3[_0x2c6134(0x1f6)]:(_0x1ca561+=0x3)>_0x49d25e&&(_0x1ca561=_0x49d25e);}return _0x1ca561;}(_0x4e1118[_0x3ec40a(0x5cb)],_0x4e1118[_0x3ec40a(0x60d)],_0x47dda1),_0x4e1118[_0x3ec40a(0x438)]=function(_0x245a2a,_0x32d376,_0x8d6a8f){const _0x23135f=_0x3ec40a;switch(_0x8d6a8f[_0x23135f(0x1c8)]){case _0x3b09a3[_0x23135f(0x1b8)]:_0x8d6a8f[_0x23135f(0x29f)]===_0x11b7dc[_0x23135f(0x197)]&&(_0x245a2a*=0.75)<_0x571229&&(_0x245a2a=_0x571229);break;case _0x3b09a3[_0x23135f(0x1f6)]:(_0x245a2a*=1.25)>_0x32d376&&(_0x245a2a=_0x32d376);}return _0x245a2a;}(_0x4e1118['bitrate'],_0x4e1118[_0x3ec40a(0x3d1)],_0x47dda1));}(_0x4656e9,_0x47a200),_0x4656e9['tracks'][_0x1814d7(0xaf)]&&_0x4656e9[_0x1814d7(0x99)][_0x1814d7(0xaf)][_0x1814d7(0x3b0)])){const _0x31c898=_0x4656e9['tracks'][_0x1814d7(0xaf)][_0x1814d7(0x3b0)];this['connection'][_0x1814d7(0x43e)](_0x31c898,Math['floor'](0xa*_0x4656e9[_0x1814d7(0xa6)])/0xa,_0x4656e9[_0x1814d7(0x5cb)],_0x4656e9[_0x1814d7(0x438)],_0x4656e9[_0x1814d7(0x382)]);}(_0x4656e9||_0x47a200[_0x1814d7(0x1c8)]===_0x3b09a3[_0x1814d7(0x1b8)])&&this[_0x1814d7(0x493)]();}[_0x397592(0x2b0)](){const _0x2e3d66=_0x397592;super[_0x2e3d66(0x2b0)](),this[_0x2e3d66(0x447)](),this[_0x2e3d66(0x2b3)](),this['senders'][_0x2e3d66(0x633)](_0xa5e89d=>{const _0x19eb2d=_0x2e3d66;_0xa5e89d['tracks'][_0x19eb2d(0xaf)]&&(_0xa5e89d[_0x19eb2d(0x99)][_0x19eb2d(0xaf)][_0x19eb2d(0x3b0)]=void 0x0),_0xa5e89d[_0x19eb2d(0x99)][_0x19eb2d(0x194)]&&(_0xa5e89d[_0x19eb2d(0x99)][_0x19eb2d(0x194)]['sender']=void 0x0);}),this[_0x2e3d66(0x398)]=!0x0;}async[_0x397592(0x406)](){return new Promise(async _0x34e889=>{const _0x5edfc7=a0_0x240a;if(!this[_0x5edfc7(0x439)]||_0x5edfc7(0x1e9)!==this[_0x5edfc7(0x439)][_0x5edfc7(0x342)])return await _0x48ae88[_0x5edfc7(0x534)](0x64),void _0x34e889();this['dataChannel'][_0x5edfc7(0x172)]<0x10000?_0x34e889():this[_0x5edfc7(0x439)][_0x5edfc7(0x363)]=()=>{const _0x4de3fb=_0x5edfc7;this[_0x4de3fb(0x439)]&&(this[_0x4de3fb(0x439)]['onBufferedAmountLow']=null),_0x34e889();};});}[_0x397592(0x432)](_0x4815f9,_0x4b52aa){const _0x354de5=_0x397592,_0x2e6eb1=[];for(let _0x260fca=0x0;_0x260fca<_0x4b52aa[_0x354de5(0x42e)];_0x260fca+=_0x2e01ad)_0x2e6eb1[_0x354de5(0x2d7)](_0x4b52aa[_0x354de5(0x5ef)](_0x260fca,_0x260fca+_0x2e01ad));for(const _0x5a6a36 of _0x2e6eb1)this[_0x354de5(0x312)](_0x509635+';'+_0x4815f9[_0x354de5(0xe7)]+';'+_0x2e6eb1[_0x354de5(0x59e)](_0x5a6a36)+';'+_0x2e6eb1[_0x354de5(0x42e)]+';'+_0x5a6a36,_0x432690[_0x354de5(0x170)]);}async[_0x397592(0x312)](_0x257f89,_0x7cabf5){const _0x43da9f=_0x397592;_0x257f89===_0x598dd5?this[_0x43da9f(0x522)][_0x43da9f(0xd4)][_0x7cabf5][_0x43da9f(0x125)]?.[_0x43da9f(0x3fd)]!==_0x598dd5&&this['retryQueue'][_0x43da9f(0xd4)][_0x7cabf5]['unshift'](_0x257f89):this[_0x43da9f(0x522)][_0x43da9f(0xd4)][_0x7cabf5][_0x43da9f(0x2d7)](_0x257f89);}[_0x397592(0x255)](_0x16cf62){const _0x218bac=_0x397592;if(!this['dataChannel']||_0x218bac(0x1e9)!==this[_0x218bac(0x439)]['state'])throw new Error(_0x218bac(0x16c));const _0x391950=Date[_0x218bac(0x2fd)]();_0x16cf62!==_0x598dd5&&(this[_0x218bac(0x235)]+=0x1,this[_0x218bac(0x605)]+=_0x16cf62 instanceof ArrayBuffer?_0x16cf62['byteLength']:_0x16cf62[_0x218bac(0x42e)]),ArrayBuffer,this[_0x218bac(0x439)][_0x218bac(0x301)](_0x16cf62),this['timeSending']+=Date['now']()-_0x391950;}['startHeartbeat'](){const _0xe10bc3=_0x397592;this[_0xe10bc3(0x1bb)]&&this[_0xe10bc3(0x5a2)]();let _0x3e4138=!0x0,_0x2f5117=Date[_0xe10bc3(0x2fd)]();this[_0xe10bc3(0x113)]=Date[_0xe10bc3(0x2fd)](),this[_0xe10bc3(0x439)][_0xe10bc3(0xbc)]=_0x4ec38f=>{const _0x3fac8c=_0xe10bc3;'1'===_0x4ec38f[_0x3fac8c(0x476)]&&(this[_0x3fac8c(0xc5)]=Date[_0x3fac8c(0x2fd)]()-_0x2f5117,_0x3e4138&&this['publishSystemMessage']({'type':_0x13a1c5[_0x3fac8c(0x201)]}),_0x3e4138=!0x1,this[_0x3fac8c(0x113)]=Date[_0x3fac8c(0x2fd)](),this[_0x3fac8c(0x398)]&&(this['isReconnecting']=!0x1,this['handleMissingSenders']()));},this[_0xe10bc3(0x1bb)]=_0x48ae88[_0xe10bc3(0x18f)](()=>{const _0x4fc9b3=_0xe10bc3;_0x2f5117=Date['now'](),this[_0x4fc9b3(0x312)](_0x598dd5,_0x432690[_0x4fc9b3(0x15d)]),Date['now']()-this[_0x4fc9b3(0x113)]>(_0x3e4138?0x15f90:0x3a98)&&this[_0x4fc9b3(0x355)]();},0xbb8);}[_0x397592(0x52d)](){const _0x31befb=_0x397592;this[_0x31befb(0x606)][_0x31befb(0x633)](_0x4e30c3=>{const _0x1ae7e2=_0x31befb;_0x4e30c3[_0x1ae7e2(0x99)][_0x1ae7e2(0xaf)]&&_0x4e30c3[_0x1ae7e2(0x99)][_0x1ae7e2(0xaf)][_0x1ae7e2(0x515)]&&!_0x4e30c3[_0x1ae7e2(0x99)][_0x1ae7e2(0xaf)][_0x1ae7e2(0x3b0)]&&(_0x4e30c3[_0x1ae7e2(0x99)][_0x1ae7e2(0xaf)][_0x1ae7e2(0x3b0)]=this[_0x1ae7e2(0x587)][_0x1ae7e2(0x4fd)](_0x4e30c3[_0x1ae7e2(0x99)]['video']['track'],_0x4e30c3['stream'])),_0x4e30c3[_0x1ae7e2(0x99)][_0x1ae7e2(0x194)]&&_0x4e30c3[_0x1ae7e2(0x99)]['audio'][_0x1ae7e2(0x515)]&&!_0x4e30c3[_0x1ae7e2(0x99)][_0x1ae7e2(0x194)][_0x1ae7e2(0x3b0)]&&(_0x4e30c3[_0x1ae7e2(0x99)][_0x1ae7e2(0x194)]['sender']=this[_0x1ae7e2(0x587)][_0x1ae7e2(0x4fd)](_0x4e30c3[_0x1ae7e2(0x99)][_0x1ae7e2(0x194)][_0x1ae7e2(0x515)],_0x4e30c3[_0x1ae7e2(0x45c)]));});}[_0x397592(0x5f8)](){const _0x120044=_0x397592;this[_0x120044(0x31a)]({'type':_0x13a1c5['Handshake'],'candidates':this['handshakeCandidates'],'origin':_0x500b11[_0x120044(0x36c)],'version':this[_0x120044(0x5d3)],'connectionType':this[_0x120044(0x199)]});}['setupConnectionEvents'](){const _0x35936f=_0x397592;super['setupConnectionEvents'](),this[_0x35936f(0x587)][_0x35936f(0x362)]=()=>{const _0x147b4c=_0x35936f;if(_0x147b4c(0x53c)===this[_0x147b4c(0x587)][_0x147b4c(0x1a4)]){if(_0x29f8ca[_0x147b4c(0x298)](_0x27bb8f[_0x147b4c(0x5c7)],_0x147b4c(0x454),this[_0x147b4c(0x640)][_0x147b4c(0x130)](),this[_0x147b4c(0x33a)]),this['connection'][_0x147b4c(0x2df)])return void this[_0x147b4c(0x587)][_0x147b4c(0x46d)]();this[_0x147b4c(0x642)]({'handshakeRestart':!0x0});}},this[_0x35936f(0x587)][_0x35936f(0x421)]=()=>{const _0x37cf00=_0x35936f;_0x37cf00(0xe4)!==this[_0x37cf00(0x587)][_0x37cf00(0x5da)]&&_0x37cf00(0x53c)!==this[_0x37cf00(0x587)][_0x37cf00(0x5da)]||this[_0x37cf00(0x355)]();};}[_0x397592(0x355)](){const _0x30cdf6=_0x397592;this['clearHeartbeat'](),this[_0x30cdf6(0x60b)](),this[_0x30cdf6(0x4cd)](),_0x29f8ca['warning'](_0x30cdf6(0x5f3),{'clusterId':this[_0x30cdf6(0xad)],'nodeId':this['localNode'][_0x30cdf6(0x130)](),'nodeType':this['localNode']['type'],'remoteId':this[_0x30cdf6(0x33a)],'data':{'connectionType':this[_0x30cdf6(0x199)],'connectionState':this[_0x30cdf6(0x587)]['connectionState'],'iceConnectionState':this[_0x30cdf6(0x587)][_0x30cdf6(0x1a4)],'signalingState':this['connection'][_0x30cdf6(0x20b)],'readyState':this[_0x30cdf6(0x439)]?.[_0x30cdf6(0x342)]||'','lastHeartbeat':this[_0x30cdf6(0x113)]?Date[_0x30cdf6(0x2fd)]()-this['lastHeartbeat']:'','retryQueue':this['retryQueue']}}),(this[_0x30cdf6(0x113)]&&Date[_0x30cdf6(0x2fd)]()-this[_0x30cdf6(0x113)]>0xea60)??0x1?this[_0x30cdf6(0x4f8)][_0x30cdf6(0x16f)]({'sourceId':this[_0x30cdf6(0x33a)],'destinationIds':[this[_0x30cdf6(0x640)][_0x30cdf6(0x130)]()],'messageType':_0x542695[_0x30cdf6(0x1f7)],'content':{'type':_0x13a1c5[_0x30cdf6(0x39b)]}}):(this[_0x30cdf6(0x2b0)](),this[_0x30cdf6(0x31a)]({'type':_0x13a1c5[_0x30cdf6(0x47f)],'version':this[_0x30cdf6(0x5d3)],'connectionType':this[_0x30cdf6(0x199)]}),this['restartTimeout']=setTimeout(()=>{const _0x5f0b25=_0x30cdf6;this[_0x5f0b25(0x355)]();},0x7530));}[_0x397592(0x5a2)](){const _0x553ee4=_0x397592;this[_0x553ee4(0x1bb)]?.(),delete this['heartbeatUnsubscriber'];}[_0x397592(0x4cd)](){const _0xdd51b1=_0x397592;this[_0xdd51b1(0x5e3)]&&(clearTimeout(this[_0xdd51b1(0x5e3)]),delete this[_0xdd51b1(0x5e3)]);}[_0x397592(0x60b)](){const _0x363f76=_0x397592;this[_0x363f76(0x25a)]&&(clearTimeout(this[_0x363f76(0x25a)]),delete this[_0x363f76(0x25a)]);}[_0x397592(0x2c6)](){const _0x3b6230=_0x397592;this['upgradeTimeout']&&(clearTimeout(this[_0x3b6230(0x150)]),delete this[_0x3b6230(0x150)]);}[_0x397592(0x493)](){const _0x3dbc4c=_0x397592;this[_0x3dbc4c(0x150)]=setTimeout(()=>{const _0x776834=_0x3dbc4c;this['applyRemediation']({'type':_0x331a38[_0x776834(0x3de)],'action':_0x3b09a3[_0x776834(0x1f6)]});},0x3a98);}[_0x397592(0x33d)](_0x4b41c1,_0x1dfdcb){const _0x1ece92=_0x397592,_0x5dedac=Math[_0x1ece92(0x206)](_0x4b41c1[_0x1ece92(0x31e)]/_0x1dfdcb[_0x1ece92(0x31e)],_0x4b41c1[_0x1ece92(0x1d4)]/_0x1dfdcb['height']);return Math[_0x1ece92(0x18d)](Math[_0x1ece92(0x206)](_0x5dedac,0x1),0x4);}[_0x397592(0x2b3)](){const _0x5d6b5f=_0x397592;this[_0x5d6b5f(0x52a)]?.(),delete this[_0x5d6b5f(0x52a)];}[_0x397592(0x447)](){const _0x4929ef=_0x397592;this[_0x4929ef(0x2f8)]&&(clearTimeout(this['oncloseTimeout']),delete this[_0x4929ef(0x2f8)]);}[_0x397592(0x4b6)](_0x1dd19e){const _0x51dbd1=_0x397592,_0x2ebf4a=JSON['stringify'](_0x1dd19e);return new TextEncoder()[_0x51dbd1(0x2d8)](_0x2ebf4a)[_0x51dbd1(0x3d8)];}['mergeParts'](_0x45d5ce,_0x83d6de){const _0x4903b0=_0x397592,_0x21f8de=this['objectToArrayBuffer'](_0x45d5ce),_0x2f4041=new Uint8Array(0x4),_0x51df07=new Uint8Array(_0x21f8de),_0x2a5629=new Uint8Array(_0x83d6de);_0x2f4041[_0x4903b0(0x42c)](new Uint8Array(new Uint32Array([_0x51df07[_0x4903b0(0x42e)]])['buffer']));const _0x3af532=new Uint8Array(0x4+_0x51df07['length']+_0x2a5629['length']);return _0x3af532[_0x4903b0(0x42c)](_0x2f4041),_0x3af532[_0x4903b0(0x42c)](_0x51df07,0x4),_0x3af532[_0x4903b0(0x42c)](_0x2a5629,0x4+_0x51df07[_0x4903b0(0x42e)]),_0x3af532['buffer'];}}class _0x2cdf36 extends _0x373c72{[_0x397592(0x572)];[_0x397592(0x199)];[_0x397592(0x1a2)];['maxBpp'];[_0x397592(0x5a7)];[_0x397592(0x470)];['receiverConnection'];['receiverUnsubscribers']=[];[_0x397592(0x4d6)]=_0x19e3ff();[_0x397592(0x4c9)]=_0x19e3ff();['removeTrackListeners']=_0x19e3ff();[_0x397592(0x5aa)]=[];[_0x397592(0x4f8)];[_0x397592(0x47d)]=new Map();[_0x397592(0x14c)]=new Map();[_0x397592(0x25b)]=new Map();[_0x397592(0x338)]=new Map();[_0x397592(0x115)]=!0x1;constructor(_0x582dd3,_0x3334ff,_0x105aa0,_0x2e25ca,_0x1430fd,_0x3fbdfc,_0x2c71ff,_0xe931f1){const _0x1aa81f=_0x397592;super(_0x582dd3,_0x3334ff,_0x105aa0),this[_0x1aa81f(0x572)]=_0x2e25ca,this['connectionType']=_0x1430fd,this[_0x1aa81f(0x1a2)]=_0x3fbdfc,this[_0x1aa81f(0x4c8)]=_0x2c71ff,this[_0x1aa81f(0x5a7)]=_0xe931f1;}[_0x397592(0x2b1)](_0x40073b){const _0x3bcd98=_0x397592;switch(_0x40073b[_0x3bcd98(0x4ad)]()){case _0x25e642['ContentType'][_0x3bcd98(0x508)]:case _0x25e642[_0x3bcd98(0x20d)]['PubSub']:case _0x25e642['ContentType'][_0x3bcd98(0x14a)]:case _0x25e642[_0x3bcd98(0x20d)]['KeyValueDatabase']:this[_0x3bcd98(0x47d)][_0x3bcd98(0x42c)](_0x40073b[_0x3bcd98(0x331)](),_0x40073b);break;case _0x25e642['ContentType']['Media']:this[_0x3bcd98(0x25b)][_0x3bcd98(0x42c)](_0x40073b[_0x3bcd98(0x331)](),_0x40073b);}}['unregisterPublisher'](_0x533cb){const _0xa56cae=_0x397592;switch(_0x533cb[_0xa56cae(0x4ad)]()){case _0x25e642[_0xa56cae(0x20d)][_0xa56cae(0x508)]:case _0x25e642['ContentType'][_0xa56cae(0x139)]:case _0x25e642['ContentType']['ObjectStore']:case _0x25e642['ContentType']['KeyValueDatabase']:this['dataTopics'][_0xa56cae(0x457)](_0x533cb[_0xa56cae(0x331)]());break;case _0x25e642[_0xa56cae(0x20d)][_0xa56cae(0x1e4)]:this[_0xa56cae(0x25b)][_0xa56cae(0x457)](_0x533cb['getLabel']());}}[_0x397592(0x18c)](_0x9a9cdb){const _0x3814f2=_0x397592;switch(_0x9a9cdb['getContentType']()){case _0x25e642[_0x3814f2(0x20d)][_0x3814f2(0x508)]:case _0x25e642[_0x3814f2(0x20d)]['PubSub']:case _0x25e642[_0x3814f2(0x20d)][_0x3814f2(0x14a)]:case _0x25e642['ContentType'][_0x3814f2(0x409)]:{const _0x244cc6=_0x9a9cdb[_0x3814f2(0xda)](_0x5d13ea=>{const _0x592bc4=_0x3814f2;_0x32427c(_0x5d13ea,this[_0x592bc4(0x3bb)]())&&_0x4c53ed(_0x5d13ea,this[_0x592bc4(0x33a)])&&this[_0x592bc4(0x301)](_0x5d13ea);});this[_0x3814f2(0x14c)]['set'](_0x9a9cdb[_0x3814f2(0x331)](),_0x244cc6);break;}case _0x25e642[_0x3814f2(0x20d)][_0x3814f2(0x1e4)]:{const _0x2d95fd=_0x9a9cdb['subscribe'](({content:_0x718b99})=>{const _0x13d8e9=_0x3814f2;switch(_0x718b99[_0x13d8e9(0x1c8)]){case _0x3bbf02[_0x13d8e9(0x211)]:this[_0x13d8e9(0x4fd)](_0x718b99[_0x13d8e9(0x515)],_0x718b99[_0x13d8e9(0x45c)],_0x718b99[_0x13d8e9(0x382)],_0x718b99[_0x13d8e9(0x528)]);break;case _0x3bbf02[_0x13d8e9(0x256)]:this[_0x13d8e9(0x618)](_0x718b99['track'],_0x718b99[_0x13d8e9(0x45c)]);break;case _0x3bbf02[_0x13d8e9(0x641)]:_0x718b99[_0x13d8e9(0x382)]&&this['setPriority'](_0x718b99[_0x13d8e9(0x45c)],_0x718b99['priority']),_0x718b99[_0x13d8e9(0x528)]&&this[_0x13d8e9(0x4bb)](_0x718b99['stream'],_0x718b99['params']);}});this[_0x3814f2(0x338)]['set'](_0x9a9cdb['getLabel'](),_0x2d95fd);break;}}}[_0x397592(0x34a)](_0x21ae9f){const _0x2e5718=_0x397592;switch(_0x21ae9f[_0x2e5718(0x4ad)]()){case _0x25e642[_0x2e5718(0x20d)][_0x2e5718(0x508)]:case _0x25e642[_0x2e5718(0x20d)]['PubSub']:case _0x25e642['ContentType'][_0x2e5718(0x14a)]:case _0x25e642['ContentType']['KeyValueDatabase']:this[_0x2e5718(0x14c)][_0x2e5718(0x5e6)](_0x21ae9f[_0x2e5718(0x331)]())?.(),this[_0x2e5718(0x14c)][_0x2e5718(0x457)](_0x21ae9f['getLabel']());break;case _0x25e642[_0x2e5718(0x20d)][_0x2e5718(0x1e4)]:this[_0x2e5718(0x338)][_0x2e5718(0x5e6)](_0x21ae9f[_0x2e5718(0x331)]())?.(),this['mediaUnsubscribers'][_0x2e5718(0x457)](_0x21ae9f[_0x2e5718(0x331)]());}}['getSupportedContentTypes'](){const _0x2f98f1=_0x397592;return[_0x25e642[_0x2f98f1(0x20d)][_0x2f98f1(0x508)],_0x25e642[_0x2f98f1(0x20d)][_0x2f98f1(0x1e4)],_0x25e642['ContentType'][_0x2f98f1(0x139)],_0x25e642[_0x2f98f1(0x20d)][_0x2f98f1(0x14a)],_0x25e642['ContentType'][_0x2f98f1(0x409)]];}['registerSystemPublisher'](_0x3d1e96){this['systemTopic']=_0x3d1e96;}['unregisterSystemPublisher'](){delete this['systemTopic'];}async[_0x397592(0x2ad)](){const _0x53c276=_0x397592;this[_0x53c276(0x497)](),await this[_0x53c276(0x642)]();}[_0x397592(0x9e)](){const _0x16e98c=_0x397592;this[_0x16e98c(0x5aa)]['forEach'](_0x51f7e9=>_0x51f7e9()),this['listenerUnsubscribers']=[],this[_0x16e98c(0x470)]?.[_0x16e98c(0xd0)](),this['senderConnection']?.[_0x16e98c(0x9e)](),delete this['senderConnection'],this[_0x16e98c(0x3ee)][_0x16e98c(0x633)](_0x37e8ea=>_0x37e8ea()),this[_0x16e98c(0x3ee)]=[],this[_0x16e98c(0x63c)]?.[_0x16e98c(0xd0)](),this['receiverConnection']?.[_0x16e98c(0x9e)](),delete this['receiverConnection'];}['isConnected'](){const _0x131fda=_0x397592;return this['senderConnection']?.[_0x131fda(0x49c)]()&&this[_0x131fda(0x63c)]?.[_0x131fda(0x49c)]()||!0x1;}[_0x397592(0x301)](_0x1d3c83){const _0x21afd0=_0x397592;if(!this['senderConnection']||!this['isConnected']())throw new _0x5efe70(_0x5efe70[_0x21afd0(0x50b)][_0x21afd0(0x443)],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x21afd0(0x470)]?.[_0x21afd0(0x49c)](),'receiverConnected':this[_0x21afd0(0x63c)]?.[_0x21afd0(0x49c)](),'localId':this[_0x21afd0(0x3bb)](),'remoteId':this[_0x21afd0(0x33a)],'data':_0x1d3c83});this[_0x21afd0(0x470)][_0x21afd0(0x301)](_0x1d3c83);}[_0x397592(0xbc)](_0x3153ae){const _0x388b88=_0x397592;return this[_0x388b88(0x4d6)][_0x388b88(0xda)](_0x3153ae);}[_0x397592(0x319)](_0x3524c5){const _0x34a769=_0x397592;return this[_0x34a769(0x4c9)][_0x34a769(0xda)](({track:_0x5348b6,stream:_0x4c7429})=>_0x3524c5(_0x5348b6,_0x4c7429));}['onRemoveTrack'](_0x5b8782){const _0x5d343=_0x397592;return this['removeTrackListeners'][_0x5d343(0xda)](({track:_0x1b8bfc,stream:_0x22f7c5})=>_0x5b8782(_0x1b8bfc,_0x22f7c5));}[_0x397592(0x4fd)](_0x47bf6a,_0x28a66d,_0x36d1f8,_0x371d33){const _0x3bc432=_0x397592;this[_0x3bc432(0x470)]?.[_0x3bc432(0x4fd)](_0x47bf6a,_0x28a66d,_0x36d1f8,_0x371d33);}[_0x397592(0x105)](_0x1211a8,_0x4c7040){const _0x4d6aee=_0x397592;this['senderConnection']?.[_0x4d6aee(0x105)](_0x1211a8,_0x4c7040);}[_0x397592(0x4bb)](_0x5f51ef,_0x4d5755){const _0x4dbc02=_0x397592;this[_0x4dbc02(0x470)]?.[_0x4dbc02(0x4bb)](_0x5f51ef,_0x4d5755);}[_0x397592(0x618)](_0xa861e2,_0x53dfe8){this['senderConnection']?.['removeTrack'](_0xa861e2,_0x53dfe8);}async[_0x397592(0x41c)](_0x313cf3){const _0x58d82d=_0x397592;_0x29f8ca[_0x58d82d(0x298)](_0x27bb8f[_0x58d82d(0x23d)],_0x58d82d(0x5ed),this[_0x58d82d(0x3bb)](),_0x313cf3);const {content:_0x18d135}=_0x313cf3;switch(_0x18d135[_0x58d82d(0x1c2)]){case _0x13a1c5[_0x58d82d(0x91)]:await this[_0x58d82d(0x2af)](_0x18d135);break;case _0x13a1c5[_0x58d82d(0x5b5)]:await this[_0x58d82d(0x63f)](_0x18d135);break;case _0x13a1c5[_0x58d82d(0x201)]:this['handleSuccess']();break;case _0x13a1c5[_0x58d82d(0x107)]:await this[_0x58d82d(0x5a0)](_0x18d135);break;case _0x13a1c5[_0x58d82d(0x47f)]:this[_0x58d82d(0x57d)](_0x18d135);break;case _0x13a1c5[_0x58d82d(0x5e0)]:await this[_0x58d82d(0x642)]();}}[_0x397592(0x277)](_0x5a1636){const _0x562417=_0x397592;this[_0x562417(0x470)]?.[_0x562417(0x366)](_0x5a1636[_0x562417(0x512)]['data']);}[_0x397592(0xf8)](){const _0x1691b7=_0x397592;return this[_0x1691b7(0x199)];}[_0x397592(0x1fe)](_0x5aad03){const _0x13cf33=_0x397592;this[_0x13cf33(0x199)]=_0x5aad03,this[_0x13cf33(0x470)]?.[_0x13cf33(0x1fe)](_0x5aad03),this[_0x13cf33(0x63c)]?.[_0x13cf33(0x1fe)](_0x5aad03);}async[_0x397592(0x32f)](){const _0x1cb0bd=_0x397592;await this[_0x1cb0bd(0x470)]?.[_0x1cb0bd(0x32f)](),await this[_0x1cb0bd(0x63c)]?.['collectStats']();}[_0x397592(0x497)](){const _0x5757dc=_0x397592;this[_0x5757dc(0x5aa)]['push'](this['onMessage'](_0x55566f=>{const _0x46e784=_0x5757dc;_0x4c53ed(_0x55566f,this['getLocalId']())&&0x0!==_0x55566f[_0x46e784(0x259)]&&this[_0x46e784(0x47d)]['get'](_0x55566f[_0x46e784(0x259)])?.[_0x46e784(0x16f)](_0x55566f);})),this['listenerUnsubscribers'][_0x5757dc(0x2d7)](this[_0x5757dc(0x319)]((_0x430ca1,_0x41ceff)=>{const _0x7893ff=_0x5757dc,_0x55a24f=_0x47085d(_0x25e642[_0x7893ff(0x20d)][_0x7893ff(0x1e4)],_0x41ceff['id'],this[_0x7893ff(0x33a)]);this[_0x7893ff(0x25b)][_0x7893ff(0x5e6)](_0x55a24f)?.[_0x7893ff(0x16f)]({'topicLabel':_0x55a24f,'sourceId':this['remoteId'],'contentType':_0x25e642[_0x7893ff(0x20d)][_0x7893ff(0x1e4)],'content':{'action':_0x3bbf02[_0x7893ff(0x4d7)],'track':_0x430ca1,'stream':_0x41ceff,'providerId':this[_0x7893ff(0x33a)]}});})),this[_0x5757dc(0x5aa)]['push'](this[_0x5757dc(0x149)]((_0x4c190b,_0x38fa80)=>{const _0x27ae0f=_0x5757dc,_0x4af523=_0x47085d(_0x25e642[_0x27ae0f(0x20d)][_0x27ae0f(0x1e4)],_0x38fa80['id'],this[_0x27ae0f(0x33a)]);this[_0x27ae0f(0x25b)][_0x27ae0f(0x5e6)](_0x4af523)?.[_0x27ae0f(0x16f)]({'topicLabel':_0x4af523,'sourceId':this[_0x27ae0f(0x33a)],'contentType':_0x25e642[_0x27ae0f(0x20d)]['Media'],'content':{'action':_0x3bbf02['RemoteRemove'],'track':_0x4c190b,'stream':_0x38fa80,'providerId':this[_0x27ae0f(0x33a)]}});}));}[_0x397592(0x5a0)]({candidates:_0x4edd9a,origin:_0x2e1966,version:_0x13c53f}){const _0x2491d1=_0x397592;return _0x2e1966===_0x500b11[_0x2491d1(0x36c)]?(this[_0x2491d1(0x63c)]||this[_0x2491d1(0x417)](),this['receiverConnection']['handleHandshake'](_0x4edd9a,_0x13c53f)):this[_0x2491d1(0x470)][_0x2491d1(0x212)](_0x4edd9a,_0x13c53f);}async['createOffer'](){const _0x16e89f=_0x397592;this[_0x16e89f(0x470)]||this[_0x16e89f(0x329)](),await this[_0x16e89f(0x470)]['createOffer']();}async[_0x397592(0x2af)]({offer:_0x14d48c,version:_0x5c7e71}){const _0x16833a=_0x397592;this[_0x16833a(0x63c)]||this[_0x16833a(0x417)](),await this[_0x16833a(0x63c)]['handleOffer'](_0x14d48c,_0x5c7e71);}async[_0x397592(0x63f)]({answer:_0x2a8938,version:_0x3fe1a5}){const _0x402f54=_0x397592;if(!this[_0x402f54(0x470)])throw new _0x5efe70(_0x5efe70[_0x402f54(0x50b)][_0x402f54(0x443)],{'message':_0x402f54(0x1a6),'localId':this['getLocalId'](),'remoteId':this[_0x402f54(0x33a)],'answer':_0x2a8938});await this['senderConnection'][_0x402f54(0x63f)](_0x2a8938,_0x3fe1a5);}[_0x397592(0x95)](){const _0x243b14=_0x397592;if(!this[_0x243b14(0x63c)])throw new _0x5efe70(_0x5efe70[_0x243b14(0x50b)]['ConnectionNotinitialized'],{'message':_0x243b14(0x257),'localId':this[_0x243b14(0x3bb)](),'remoteId':this[_0x243b14(0x33a)]});this['receiverConnection']['handleSuccess'](),this[_0x243b14(0x115)]||this[_0x243b14(0x199)]!==_0x34a71c[_0x243b14(0x423)]||(this[_0x243b14(0x115)]=!0x0,this[_0x243b14(0x4f8)]?.[_0x243b14(0x16f)]({'sourceId':this[_0x243b14(0x33a)],'destinationIds':[this[_0x243b14(0x3bb)]()],'messageType':_0x542695[_0x243b14(0x1f7)],'content':{'type':_0x13a1c5['OptimizationConnectionSuccess']}}));}[_0x397592(0x57d)](_0xf2bcd4){const _0x4839fb=_0x397592;this[_0x4839fb(0x63c)]||this[_0x4839fb(0x417)](),this[_0x4839fb(0x63c)][_0x4839fb(0x57d)](_0xf2bcd4['version']);}[_0x397592(0x329)](){const _0x1f936f=_0x397592;this[_0x1f936f(0x470)]=new _0x120712(this[_0x1f936f(0xad)],this[_0x1f936f(0x640)],this[_0x1f936f(0x33a)],this['iceServers'],this[_0x1f936f(0x199)],this[_0x1f936f(0x1a2)],this[_0x1f936f(0x4c8)],this[_0x1f936f(0x5a7)]),this[_0x1f936f(0x470)][_0x1f936f(0x2f1)](this[_0x1f936f(0x4f8)]);}[_0x397592(0x417)](){const _0x428604=_0x397592;this[_0x428604(0x63c)]=new _0x511036(this[_0x428604(0xad)],this[_0x428604(0x640)],this[_0x428604(0x33a)],this[_0x428604(0x572)],this['connectionType'],this[_0x428604(0x5a7)]),this[_0x428604(0x63c)][_0x428604(0x2f1)](this[_0x428604(0x4f8)]),this['receiverUnsubscribers'][_0x428604(0x2d7)](this['receiverConnection'][_0x428604(0xbc)](_0x44294c=>this[_0x428604(0x4d6)]['publish'](_0x44294c))),this[_0x428604(0x3ee)]['push'](this[_0x428604(0x63c)]['onTrack']((_0x52f72a,_0x4c0df2)=>this[_0x428604(0x4c9)][_0x428604(0x16f)]({'track':_0x52f72a,'stream':_0x4c0df2}))),this[_0x428604(0x3ee)][_0x428604(0x2d7)](this[_0x428604(0x63c)][_0x428604(0x149)]((_0x52c7da,_0x256672)=>this['removeTrackListeners'][_0x428604(0x16f)]({'track':_0x52c7da,'stream':_0x256672})));}}class _0x1cfd4a{[_0x397592(0x3dd)];[_0x397592(0x177)];[_0x397592(0x24a)];[_0x397592(0x350)]=new Map();[_0x397592(0x4d6)]=_0x19e3ff();['messageUnsubscriber'];[_0x397592(0x47d)]=new Map();[_0x397592(0x14c)]=new Map();[_0x397592(0x565)]=new Map();constructor(_0x3f676f,_0x31a99d,_0x590f4c){const _0x271a78=_0x397592;this[_0x271a78(0x3dd)]=_0x3f676f,this[_0x271a78(0x177)]=_0x31a99d,this[_0x271a78(0x24a)]=_0x590f4c,this['messageUnsubscriber']=this[_0x271a78(0xbc)](_0x4870f1=>{const _0x13bde2=_0x271a78;this['messageBuffer']['hasMessage'](_0x4870f1['uuid'])||(_0x4c53ed(_0x4870f1,this[_0x13bde2(0x3dd)])&&0x0!==_0x4870f1['topicLabel']&&(this['messageBuffer']['addMessage'](_0x4870f1[_0x13bde2(0xe7)]),this[_0x13bde2(0x47d)]['get'](_0x4870f1['topicLabel'])?.['publish'](_0x4870f1)),_0x4870f1[_0x13bde2(0x4c4)]&&this[_0x13bde2(0x301)](_0x4870f1));});}['close'](){const _0x41b65d=_0x397592;this[_0x41b65d(0x5d8)]?.();}[_0x397592(0xfc)](_0x480525){const _0x5105d3=_0x397592,_0x2288aa=_0x480525[_0x5105d3(0xbc)](_0x189325=>{const _0x309767=_0x5105d3;this[_0x309767(0x4d6)]['publish'](_0x189325);});this[_0x5105d3(0x350)]['set'](_0x480525,_0x2288aa),this[_0x5105d3(0x565)][_0x5105d3(0x42c)](_0x480525[_0x5105d3(0x240)](),function(_0x1e6455,_0x42b021=!0x1){let _0x121df8=new Map();const _0x3701cd=_0x3a6f72(_0x1e6455,_0x42b021,function(_0x5218bd){const _0x2291af=a0_0x240a;_0x142956(_0x5218bd)&&_0x121df8[_0x2291af(0x457)](_0x5218bd[_0x2291af(0x108)]+'-'+(_0x5218bd[_0x2291af(0x478)]??[])+'-'+_0x5218bd[_0x2291af(0x2d9)]+'-'+_0x5218bd[_0x2291af(0x512)]['type']);},function(_0x570774){return!!function(_0x1f6f0d){const _0x3c0bb1=a0_0x240a,_0x5e5bf9=_0x1f6f0d['value'];if(!_0x142956(_0x5e5bf9))return!0x1;const _0x3389c7=_0x5e5bf9[_0x3c0bb1(0x108)]+'-'+(_0x5e5bf9[_0x3c0bb1(0x478)]??[])+'-'+_0x5e5bf9[_0x3c0bb1(0x2d9)]+'-'+_0x5e5bf9['content'][_0x3c0bb1(0x1c2)],_0x5776fb={'version':_0x5e5bf9['content'][_0x3c0bb1(0x1d3)],'element':_0x1f6f0d},_0x47b7a3=_0x121df8['get'](_0x3389c7);return _0x47b7a3?(_0x47b7a3[_0x3c0bb1(0x1d3)]>=_0x5e5bf9[_0x3c0bb1(0x512)]['version']||(_0x47b7a3[_0x3c0bb1(0x214)][_0x3c0bb1(0x254)]&&(_0x47b7a3[_0x3c0bb1(0x214)]['previous']['next']=_0x1f6f0d,_0x1f6f0d[_0x3c0bb1(0x254)]=_0x47b7a3['element'][_0x3c0bb1(0x254)]),_0x47b7a3['element'][_0x3c0bb1(0x2d2)]&&(_0x47b7a3[_0x3c0bb1(0x214)]['next']['previous']=_0x1f6f0d,_0x1f6f0d[_0x3c0bb1(0x2d2)]=_0x47b7a3['element'][_0x3c0bb1(0x2d2)]),_0x47b7a3[_0x3c0bb1(0x214)]===_0x3701cd[_0x3c0bb1(0x125)]&&(_0x3701cd[_0x3c0bb1(0x125)]=_0x1f6f0d),_0x47b7a3[_0x3c0bb1(0x214)]===_0x3701cd[_0x3c0bb1(0x351)]&&(_0x3701cd[_0x3c0bb1(0x351)]=_0x1f6f0d),_0x121df8[_0x3c0bb1(0x42c)](_0x3389c7,_0x5776fb)),!0x0):(_0x121df8[_0x3c0bb1(0x42c)](_0x3389c7,_0x5776fb),!0x1);}(_0x570774);},function(){const _0x3f088b=a0_0x240a;_0x121df8[_0x3f088b(0x562)]();});function _0x142956(_0x4677f0){const _0x37d4d8=a0_0x240a;if(_0x4677f0&&_0x37d4d8(0x546)==typeof _0x4677f0&&_0x4677f0[_0x37d4d8(0x525)](_0x37d4d8(0x512))&&_0x4677f0[_0x37d4d8(0x525)](_0x37d4d8(0x2d9))&&_0x4677f0[_0x37d4d8(0x525)](_0x37d4d8(0x108))){const _0x1c583e=_0x4677f0;if(_0x1c583e[_0x37d4d8(0x512)]&&_0x37d4d8(0x546)==typeof _0x1c583e[_0x37d4d8(0x512)]&&_0x1c583e[_0x37d4d8(0x512)][_0x37d4d8(0x525)]('version')&&_0x1c583e[_0x37d4d8(0x512)]['hasOwnProperty']('type'))return!0x0;}return!0x1;}return _0x3701cd;}(new _0x2d1775(_0x314d04=>_0x480525['send'](_0x314d04),()=>_0x48ae88[_0x5105d3(0x534)](0x64))));}['removeConnection'](_0x1de7aa){const _0x417d34=_0x397592;this['connections'][_0x417d34(0x5e6)](_0x1de7aa)?.(),this['connections'][_0x417d34(0x457)](_0x1de7aa),this[_0x417d34(0x565)][_0x417d34(0x5e6)](_0x1de7aa[_0x417d34(0x240)]())?.['clear'](),this[_0x417d34(0x565)][_0x417d34(0x457)](_0x1de7aa[_0x417d34(0x240)]());}[_0x397592(0x49c)](_0x113b5c){const _0x43dc27=_0x397592;return _0x29f8ca[_0x43dc27(0x298)](_0x27bb8f[_0x43dc27(0x5c7)],_0x43dc27(0x1bf),this[_0x43dc27(0x3dd)],this[_0x43dc27(0x350)][_0x43dc27(0x3c7)]()),0x0!==this[_0x43dc27(0x350)]['size']&&(Array[_0x43dc27(0x1ec)](this[_0x43dc27(0x350)][_0x43dc27(0x3c7)]())[_0x43dc27(0x13c)](_0x31cc10=>_0x31cc10[_0x43dc27(0x240)]()===_0x113b5c)?.['isConnected']()??!0x1);}[_0x397592(0x2b1)](_0x161af5){const _0x578f81=_0x397592;this[_0x578f81(0x47d)][_0x578f81(0x42c)](_0x161af5[_0x578f81(0x331)](),_0x161af5);}[_0x397592(0x3d3)](_0xe1578){const _0x54577d=_0x397592;this[_0x54577d(0x47d)][_0x54577d(0x457)](_0xe1578[_0x54577d(0x331)]());}[_0x397592(0x18c)](_0x3d7342){const _0x1a035e=_0x397592,_0x4954ec=_0x3d7342[_0x1a035e(0xda)](this['send']['bind'](this));this['dataUnsubscribers'][_0x1a035e(0x42c)](_0x3d7342[_0x1a035e(0x331)](),_0x4954ec);}['unregisterSubscriber'](_0x476178){const _0xbd1032=_0x397592;this[_0xbd1032(0x14c)][_0xbd1032(0x5e6)](_0x476178[_0xbd1032(0x331)]())?.(),this['dataUnsubscribers'][_0xbd1032(0x457)](_0x476178['getLabel']());}[_0x397592(0x501)](){const _0x156deb=_0x397592;return[_0x25e642[_0x156deb(0x20d)][_0x156deb(0x508)],_0x25e642['ContentType'][_0x156deb(0x139)],_0x25e642[_0x156deb(0x20d)][_0x156deb(0x14a)],_0x25e642[_0x156deb(0x20d)][_0x156deb(0x409)]];}['send'](_0x40be91){const _0x3b1933=_0x397592;if(!0x1===_0x40be91[_0x3b1933(0x540)]){if(_0x40be91[_0x3b1933(0x4c4)]||!_0x40be91[_0x3b1933(0x478)]||0x1!==_0x40be91['destinationIds'][_0x3b1933(0x42e)])throw new _0x5efe70(_0x5efe70[_0x3b1933(0x50b)][_0x3b1933(0x477)],{'message':_0x3b1933(0x44a),'localId':this[_0x3b1933(0x3dd)]});if(!this[_0x3b1933(0x49c)](_0x40be91[_0x3b1933(0x478)][0x0]))throw new _0x559fc1(_0x3b1933(0xcf));}const _0x56a47b=_0x40be91[_0x3b1933(0x4fc)]??[];try{const {filteredDestinationIds:_0x1496e8,extendedRecipients:_0x414d07}=this[_0x3b1933(0x5bf)](_0x40be91,_0x56a47b);_0x40be91[_0x3b1933(0x478)]=_0x1496e8,_0x40be91[_0x3b1933(0x4fc)]=_0x414d07;}catch(_0x3a3cd9){if(_0x3a3cd9 instanceof _0x559fc1)return void _0x29f8ca[_0x3b1933(0x298)](_0x27bb8f[_0x3b1933(0x23d)],_0x3b1933(0x30d),_0x3b1933(0x1df),_0x40be91,_0x3a3cd9[_0x3b1933(0x3e5)]);}const _0x1d1f2c=this[_0x3b1933(0x3c6)](_0x40be91);this[_0x3b1933(0x22f)](_0x40be91,_0x1d1f2c),_0x40be91[_0x3b1933(0x4c4)]=_0x1d1f2c;const _0x1d5cc6=this['getConnectionDestinations'](_0x40be91,_0x56a47b);for(const _0x206915 of _0x1d5cc6){const _0x2266ca=this[_0x3b1933(0x565)][_0x3b1933(0x5e6)](_0x206915[_0x3b1933(0x240)]());if(!_0x2266ca)throw new _0x5efe70(_0x5efe70[_0x3b1933(0x50b)][_0x3b1933(0x1b0)],{'message':_0x3b1933(0x393),'localId':this[_0x3b1933(0x3dd)],'remoteId':_0x206915[_0x3b1933(0x240)](),'data':_0x40be91});_0x2266ca[_0x3b1933(0x2d7)](_0x40be91);}}[_0x397592(0x240)](){return'';}[_0x397592(0x3bb)](){const _0x45ae5b=_0x397592;return this[_0x45ae5b(0x3dd)];}[_0x397592(0xbc)](_0x105db9){const _0x134b90=_0x397592;return this[_0x134b90(0x4d6)][_0x134b90(0xda)](_0x105db9);}[_0x397592(0x5bf)](_0x4c3884,_0x6e39a){const _0x3ac4c1=_0x397592,_0x55cc6a={'filteredDestinationIds':_0x4c3884[_0x3ac4c1(0x478)],'extendedRecipients':_0x4c3884[_0x3ac4c1(0x4fc)]};if(!_0x4c3884[_0x3ac4c1(0x4c4)])return _0x55cc6a;const _0x2e7c16=Array['from'](this[_0x3ac4c1(0x350)][_0x3ac4c1(0x3c7)]())['filter'](_0xe3765a=>_0xe3765a[_0x3ac4c1(0xf8)]()===_0x34a71c[_0x3ac4c1(0x92)]||_0xe3765a[_0x3ac4c1(0x49c)]())['map'](_0x59a7c3=>_0x59a7c3['getRemoteId']());if(_0x2e7c16[_0x3ac4c1(0x29d)]((_0x5556b6,_0x1c4f7f)=>_0x5556b6&&_0x4c3884['recipients']['includes'](_0x1c4f7f),!0x0))throw new _0x559fc1('All\x20recipients\x20already\x20received');if(_0x4c3884['destinationIds']){const _0x5485d9=_0x4c3884['destinationIds'][_0x3ac4c1(0x602)](_0x4f5c2b=>_0x4f5c2b!==this[_0x3ac4c1(0x3dd)]&&!_0x4c3884[_0x3ac4c1(0x4fc)][_0x3ac4c1(0x4dd)](_0x4f5c2b));if(0x0===_0x5485d9[_0x3ac4c1(0x42e)])throw new _0x559fc1(_0x3ac4c1(0x3cc));_0x55cc6a[_0x3ac4c1(0x333)]=_0x5485d9;}return _0x55cc6a['extendedRecipients']=[...new Set([..._0x6e39a,..._0x2e7c16,this[_0x3ac4c1(0x3dd)]])],_0x55cc6a;}[_0x397592(0x22f)](_0x466748,_0xbf9913=!0x1){const _0x3c4ef1=_0x397592;if(0x0===_0x466748[_0x3c4ef1(0x259)]&&!_0x32427c(_0x466748,this[_0x3c4ef1(0x3dd)])&&_0x466748[_0x3c4ef1(0x4c4)]){const _0x4e21bd=_0x59bbbc(_0x466748,this[_0x3c4ef1(0x3dd)]);_0x29f8ca[_0x3c4ef1(0x513)](_0x27bb8f[_0x3c4ef1(0x13e)],_0x466748['uuid']+_0x3c4ef1(0x2fc)+_0xbf9913+')\x20'+_0x4e21bd,_0x466748,_0xbf9913);}}[_0x397592(0x3c6)](_0x2aeb0c){const _0x397edd=_0x397592;if(_0x2aeb0c[_0x397edd(0x478)]&&_0x2aeb0c[_0x397edd(0x4c4)]){const _0x530fcd=Array['from'](this[_0x397edd(0x350)][_0x397edd(0x3c7)]())[_0x397edd(0x602)](_0x5d13e6=>_0x5d13e6[_0x397edd(0xf8)]()===_0x34a71c[_0x397edd(0x92)]||_0x5d13e6[_0x397edd(0x49c)]())['map'](_0x10618b=>_0x10618b[_0x397edd(0x240)]());return!_0x2aeb0c[_0x397edd(0x478)]['reduce']((_0x50d00b,_0x41b41a)=>_0x50d00b&&_0x530fcd[_0x397edd(0x4dd)](_0x41b41a),!0x0);}return _0x2aeb0c[_0x397edd(0x4c4)]??!0x1;}[_0x397592(0x3cf)](_0x25d965,_0x2f8254){const _0x30009a=_0x397592;if(_0x25d965[_0x30009a(0x4c4)]&&_0x25d965['destinationIds']){const _0x435cfb=Array[_0x30009a(0x1ec)](this[_0x30009a(0x350)][_0x30009a(0x3c7)]())[_0x30009a(0x602)](_0x1f3af1=>_0x1f3af1['getConnectionType']()===_0x34a71c['Core']||_0x1f3af1[_0x30009a(0x49c)]())[_0x30009a(0x4e7)](_0x147f4f=>_0x147f4f[_0x30009a(0x240)]()),_0x599236=new Set(),_0x459872=_0x25d965[_0x30009a(0x108)]===this[_0x30009a(0x3dd)]?0x3:0x1;return _0x25d965['destinationIds'][_0x30009a(0x633)](_0x1a40bb=>{const _0x5d713=_0x30009a,_0x2fb8ef=this['graphService'][_0x5d713(0x273)](_0x435cfb,_0x1a40bb);let _0x344b98=0x0,_0xe629aa=0x0;_0x2fb8ef[_0x5d713(0x633)](_0xee9d2e=>{const _0x2f3aeb=_0x5d713;if(_0x344b98>=_0x459872)return;const _0x5b4e20=Array[_0x2f3aeb(0x1ec)](this['connections']['keys']())[_0x2f3aeb(0x13c)](_0x4e0277=>_0x4e0277['getRemoteId']()===_0xee9d2e);if(_0x5b4e20){if(_0x5b4e20[_0x2f3aeb(0xf8)]()===_0x34a71c[_0x2f3aeb(0x92)]&&_0xe629aa>0x0)return void(_0xe629aa-=0x1);_0x599236[_0x2f3aeb(0x11f)](_0x5b4e20),_0x5b4e20[_0x2f3aeb(0xf8)]()===_0x34a71c['Optimization']&&(_0xe629aa+=0x1),_0x344b98+=0x1;}});}),Array['from'](_0x599236);}return Array[_0x30009a(0x1ec)](this[_0x30009a(0x350)][_0x30009a(0x3c7)]())[_0x30009a(0x602)](_0x46b4ca=>{const _0x5be7f8=_0x30009a;return _0x19347b=_0x46b4ca[_0x5be7f8(0x240)](),!_0x2f8254[_0x5be7f8(0x4dd)](_0x19347b)&&(_0x4c53ed(_0x25d965,_0x19347b)||_0x25d965[_0x5be7f8(0x4c4)])&&(!_0x25d965['propagate']||_0x46b4ca[_0x5be7f8(0x49c)]()||_0x46b4ca['getConnectionType']()===_0x34a71c[_0x5be7f8(0x92)]);var _0x19347b;});}}class _0x27a0cb{['localId'];['messageBuffer'];[_0x397592(0x350)]=new Map();[_0x397592(0x4f8)];constructor(_0xa1c32a,_0x4e76bd){const _0x556b8d=_0x397592;this[_0x556b8d(0x3dd)]=_0xa1c32a,this[_0x556b8d(0x177)]=_0x4e76bd;}[_0x397592(0x9e)](){}['send'](_0x253dce){const _0x1fe337=_0x397592;for(const _0x38c2a7 of this[_0x1fe337(0x350)]['keys']())try{return void _0x38c2a7[_0x1fe337(0x301)]({'retry':!0x1,..._0x253dce});}catch(_0x4fbe69){_0x4fbe69 instanceof _0x559fc1||_0x29f8ca[_0x1fe337(0x298)](_0x27bb8f[_0x1fe337(0xe2)],_0x1fe337(0x41b)+_0x38c2a7,_0x4fbe69,_0x253dce);}_0x29f8ca['log'](_0x27bb8f[_0x1fe337(0xe2)],_0x1fe337(0x3f9));}[_0x397592(0xfc)](_0x31f136){const _0x181261=_0x397592,_0x5886f2=_0x31f136[_0x181261(0xbc)](_0x84f5=>{const _0x2f3c16=_0x181261;this[_0x2f3c16(0x177)][_0x2f3c16(0x121)](_0x84f5[_0x2f3c16(0xe7)])||0x0===_0x84f5[_0x2f3c16(0x259)]&&(this[_0x2f3c16(0x177)][_0x2f3c16(0x4bc)](_0x84f5[_0x2f3c16(0xe7)]),_0x4c53ed(_0x84f5,this[_0x2f3c16(0x3dd)])&&this[_0x2f3c16(0x4f8)]?.[_0x2f3c16(0x16f)](_0x84f5));});this[_0x181261(0x350)][_0x181261(0x42c)](_0x31f136,_0x5886f2);}[_0x397592(0x37a)](_0x23bddb){const _0x7a8189=_0x397592;this[_0x7a8189(0x350)][_0x7a8189(0x5e6)](_0x23bddb)?.(),this[_0x7a8189(0x350)][_0x7a8189(0x457)](_0x23bddb);}[_0x397592(0x3bb)](){return this['localId'];}['getRemoteId'](){return'';}['getSupportedContentTypes'](){const _0x8b2258=_0x397592;return[_0x25e642[_0x8b2258(0x20d)]['Data']];}[_0x397592(0x49c)](){const _0x1c0cba=_0x397592;throw new Error(_0x1c0cba(0x5ba));}[_0x397592(0x2f1)](_0x4d46bd){const _0xc9f16a=_0x397592;this[_0xc9f16a(0x4f8)]=_0x4d46bd;}['unregisterSystemPublisher'](){const _0x5bbaa1=_0x397592;delete this[_0x5bbaa1(0x4f8)];}}class _0x34bbe4{[_0x397592(0x3d8)]=new Map();[_0x397592(0x3ba)];constructor(){const _0x1fb5cb=_0x397592;this[_0x1fb5cb(0x3ba)]=_0x48ae88[_0x1fb5cb(0x18f)](()=>{const _0x6b87a7=_0x1fb5cb;for(const [_0xedea89,_0x33899e]of this[_0x6b87a7(0x3d8)][_0x6b87a7(0x1e0)]())Date['now']()-_0x33899e>0x124f80&&this[_0x6b87a7(0x3d8)]['delete'](_0xedea89);},0x1d4c0);}[_0x397592(0x9e)](){this['unsubscribeHandler']();}[_0x397592(0x4bc)](_0x39d3e1){const _0xac4f41=_0x397592;this['buffer'][_0xac4f41(0x42c)](_0x39d3e1,Date[_0xac4f41(0x2fd)]());}[_0x397592(0x121)](_0x3f6130){const _0x395527=_0x397592;return this[_0x395527(0x3d8)][_0x395527(0x1ac)](_0x3f6130);}}class _0xa0df19{[_0x397592(0xbd)];[_0x397592(0x347)];[_0x397592(0x572)];[_0x397592(0x1a2)];['maxBpp'];[_0x397592(0x5a7)];[_0x397592(0x350)]=new Map();['connectionPool'];['connectionGroup'];[_0x397592(0x58e)];[_0x397592(0x177)];constructor(_0x4bb686,_0x1d8dda,_0x59cff8,_0x165ade,_0x46ca66,_0x5e324b,_0x33e637){const _0x2de5b7=_0x397592;this['configs']=_0x4bb686,this[_0x2de5b7(0x347)]=_0x1d8dda,this[_0x2de5b7(0x572)]=_0x59cff8,this[_0x2de5b7(0x1a2)]=_0x165ade,this[_0x2de5b7(0x4c8)]=_0x46ca66,this['connectionConstructor']=_0x33e637,this[_0x2de5b7(0x177)]=new _0x34bbe4(),this[_0x2de5b7(0x646)]=new _0x1cfd4a(this[_0x2de5b7(0xbd)][_0x2de5b7(0x640)][_0x2de5b7(0x130)](),this[_0x2de5b7(0x177)],_0x5e324b),this['signalingServer']=new _0x1b77c7(this[_0x2de5b7(0xbd)][_0x2de5b7(0x5f7)],this['configs'][_0x2de5b7(0xad)],this[_0x2de5b7(0xbd)][_0x2de5b7(0x640)],_0x2de5b7(0x34d),this['authService'],()=>this['configs']['mediator'][_0x2de5b7(0x9e)]()),this[_0x2de5b7(0xe1)]=new _0x27a0cb(this['configs'][_0x2de5b7(0x640)][_0x2de5b7(0x130)](),this[_0x2de5b7(0x177)]),this[_0x2de5b7(0xe1)]['addConnection'](this[_0x2de5b7(0x646)]),this[_0x2de5b7(0xe1)]['addConnection'](this[_0x2de5b7(0x58e)]),this[_0x2de5b7(0xbd)][_0x2de5b7(0x411)][_0x2de5b7(0xa3)](this['connectionPool']);}[_0x397592(0x9e)](){const _0x5267bc=_0x397592;this[_0x5267bc(0x177)][_0x5267bc(0x9e)](),this[_0x5267bc(0x350)][_0x5267bc(0x633)]((_0x2539d4,_0x36d458)=>this[_0x5267bc(0x481)](_0x36d458)),this[_0x5267bc(0xbd)][_0x5267bc(0x411)]['unregisterSystemSource'](this['connectionPool']),this[_0x5267bc(0xe1)][_0x5267bc(0x37a)](this[_0x5267bc(0x58e)]),this[_0x5267bc(0xe1)][_0x5267bc(0x37a)](this[_0x5267bc(0x646)]),this[_0x5267bc(0xe1)][_0x5267bc(0x9e)](),this[_0x5267bc(0x58e)][_0x5267bc(0x9e)](),this[_0x5267bc(0x646)][_0x5267bc(0x9e)]();}async[_0x397592(0x2c0)](){const _0x2dff4b=_0x397592;await this['signalingServer'][_0x2dff4b(0x2ad)]();}async['createConnection'](_0x1dbb26,_0x38f8ec=_0x34a71c[_0x397592(0x92)]){const _0x42a4f0=_0x397592;if(this['connections']['has'](_0x1dbb26)){if(this[_0x42a4f0(0x350)][_0x42a4f0(0x5e6)](_0x1dbb26)?.['getConnectionType']()===_0x34a71c[_0x42a4f0(0x423)]&&_0x38f8ec===_0x34a71c[_0x42a4f0(0x92)])return void this[_0x42a4f0(0x350)][_0x42a4f0(0x5e6)](_0x1dbb26)?.[_0x42a4f0(0x1fe)](_0x34a71c[_0x42a4f0(0x92)]);throw new _0x5efe70(_0x5efe70[_0x42a4f0(0x50b)][_0x42a4f0(0x3e7)],{'localId':this[_0x42a4f0(0xbd)][_0x42a4f0(0x640)][_0x42a4f0(0x130)](),'remoteId':_0x1dbb26});}const _0x4c1db6=new _0x2cdf36(this[_0x42a4f0(0xbd)]['clusterId'],this[_0x42a4f0(0xbd)][_0x42a4f0(0x640)],_0x1dbb26,this[_0x42a4f0(0x572)],_0x38f8ec,this[_0x42a4f0(0x1a2)],this[_0x42a4f0(0x4c8)],this[_0x42a4f0(0x5a7)]);this[_0x42a4f0(0x350)][_0x42a4f0(0x42c)](_0x1dbb26,_0x4c1db6),this[_0x42a4f0(0x646)]['addConnection'](_0x4c1db6),this[_0x42a4f0(0xbd)][_0x42a4f0(0x411)][_0x42a4f0(0xa3)](_0x4c1db6),this[_0x42a4f0(0xbd)][_0x42a4f0(0x411)][_0x42a4f0(0x549)](_0x1dbb26),await _0x4c1db6[_0x42a4f0(0x2ad)]();}['getConnectionGroup'](){const _0x5e1267=_0x397592;return this[_0x5e1267(0x646)];}[_0x397592(0x189)](_0x249115){const _0x54be16=_0x397592;if(!this['connections']['has'](_0x249115))throw new _0x5efe70(_0x5efe70['codes'][_0x54be16(0x12e)],{'localId':this[_0x54be16(0xbd)][_0x54be16(0x640)][_0x54be16(0x130)](),'remoteId':_0x249115});return this['connections'][_0x54be16(0x5e6)](_0x249115);}['getConnections'](_0x498405){const _0x2f8183=_0x397592,_0x5374a4=Array['from'](this['connections'][_0x2f8183(0xee)]());return _0x498405?_0x5374a4[_0x2f8183(0x602)](_0x498405):_0x5374a4;}async['collectStats'](_0x4ace0f){const _0x564f63=_0x397592,_0x3349a1=this[_0x564f63(0x350)][_0x564f63(0x5e6)](_0x4ace0f);_0x3349a1&&_0x3349a1[_0x564f63(0x49c)]()&&await _0x3349a1['collectStats']();}[_0x397592(0x617)](_0x1b3360){const _0x3bd74c=_0x397592;if(_0x1b3360[_0x3bd74c(0x2d9)]!==_0x542695[_0x3bd74c(0x1f7)]||_0x1b3360['propagate'])try{this[_0x3bd74c(0x646)][_0x3bd74c(0x301)](_0x1b3360);}catch(_0x2d42e3){if(_0x2d42e3 instanceof _0x559fc1)return;throw _0x2d42e3;}else this[_0x3bd74c(0xe1)][_0x3bd74c(0x301)](_0x1b3360);}async[_0x397592(0x41c)](_0x56c234){const _0x2f7c85=_0x397592;switch(_0x56c234[_0x2f7c85(0x512)][_0x2f7c85(0x1c2)]){case _0x13a1c5[_0x2f7c85(0x39b)]:case _0x13a1c5[_0x2f7c85(0x1e6)]:case _0x13a1c5['OptimizationConnectionSuccess']:return;}if(!_0x56c234[_0x2f7c85(0x478)]||0x1!==_0x56c234[_0x2f7c85(0x478)][_0x2f7c85(0x42e)])throw new _0x5efe70(_0x5efe70[_0x2f7c85(0x50b)][_0x2f7c85(0xdf)],{'message':_0x2f7c85(0xa1),'event':_0x56c234});if(_0x56c234[_0x2f7c85(0x478)][0x0]!==this['configs'][_0x2f7c85(0x640)][_0x2f7c85(0x130)]())throw new _0x5efe70(_0x5efe70['codes'][_0x2f7c85(0xdf)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x56c234});if(!this[_0x2f7c85(0x350)][_0x2f7c85(0x1ac)](_0x56c234['sourceId'])){let _0x3a020a=_0x34a71c['Core'];if(!(this[_0x2f7c85(0x2c1)](_0x56c234[_0x2f7c85(0x512)])||this[_0x2f7c85(0x5b2)](_0x56c234['content'])||this['isNeedRestart'](_0x56c234[_0x2f7c85(0x512)])))return;_0x3a020a=_0x56c234[_0x2f7c85(0x512)][_0x2f7c85(0x199)],await this[_0x2f7c85(0x111)](_0x56c234['sourceId'],_0x3a020a);}const _0x43893b=this['connections'][_0x2f7c85(0x5e6)](_0x56c234[_0x2f7c85(0x108)]);await _0x43893b[_0x2f7c85(0x41c)](_0x56c234);}[_0x397592(0x277)](_0x47c97a){const _0x2088c0=_0x397592;if(_0x47c97a[_0x2088c0(0x512)][_0x2088c0(0x1c2)]===_0x331a38['Remediation']){if(_0x47c97a[_0x2088c0(0x512)]['targetId']===this[_0x2088c0(0xbd)][_0x2088c0(0x640)]['getId']())return void this[_0x2088c0(0x350)][_0x2088c0(0x633)](_0xb19632=>_0xb19632[_0x2088c0(0x277)](_0x47c97a));this[_0x2088c0(0x350)][_0x2088c0(0x5e6)](_0x47c97a[_0x2088c0(0x512)][_0x2088c0(0x2fa)])?.['handleRemediationSystemEvents'](_0x47c97a);}}[_0x397592(0x4dc)]({content:_0x2186c9}){const _0x44deff=_0x397592;_0x2186c9[_0x44deff(0x1c2)]===_0x107aa0[_0x44deff(0x43c)]&&this[_0x44deff(0x481)](_0x2186c9['id']);}[_0x397592(0x481)](_0x5add21){const _0x98e305=_0x397592,_0x1c0364=this['connections'][_0x98e305(0x5e6)](_0x5add21);_0x1c0364&&(this[_0x98e305(0xbd)]['mediator'][_0x98e305(0x499)](_0x5add21),this[_0x98e305(0xbd)][_0x98e305(0x411)][_0x98e305(0x1d1)](_0x1c0364),_0x1c0364 instanceof _0x2cdf36&&this['connectionGroup'][_0x98e305(0x37a)](_0x1c0364),_0x1c0364['close'](),this[_0x98e305(0x350)][_0x98e305(0x457)](_0x5add21));}[_0x397592(0x2c1)](_0x3dc97a){const _0x4c2097=_0x397592;return _0x3dc97a[_0x4c2097(0x1c2)]===_0x13a1c5[_0x4c2097(0x91)];}['isNeedRestart'](_0x31b096){return _0x31b096['type']===_0x13a1c5['NeedRestart'];}[_0x397592(0x5b2)](_0x2cb8bc){const _0xa0442=_0x397592;return _0x2cb8bc['type']===_0x13a1c5[_0xa0442(0x107)];}}!function(_0x537c47){const _0x20b497=_0x397592;_0x537c47[_0x537c47['SubscribeMediaStream']=0x0]=_0x20b497(0x57c),_0x537c47[_0x537c47[_0x20b497(0x53b)]=0x1]='UpdateMediaStream',_0x537c47[_0x537c47[_0x20b497(0x30b)]=0x2]=_0x20b497(0x30b),_0x537c47[_0x537c47['NeedMediaStream']=0x3]=_0x20b497(0x42b),_0x537c47[_0x537c47[_0x20b497(0x1be)]=0x4]=_0x20b497(0x1be),_0x537c47[_0x537c47['CanProvideMediaStream']=0x5]=_0x20b497(0x54e),_0x537c47[_0x537c47['CannotProvideMediaStream']=0x6]=_0x20b497(0x56f),_0x537c47[_0x537c47[_0x20b497(0x31d)]=0x7]=_0x20b497(0x31d);}(_0x300949||(_0x300949={}));class _0x2c37c1 extends _0x243587{[_0x397592(0x640)];[_0x397592(0xad)];[_0x397592(0x5f7)];[_0x397592(0x496)];[_0x397592(0x3ba)];[_0x397592(0x628)];[_0x397592(0x307)]=new Map();[_0x397592(0x2ae)]=new Map();['pendingFilesSyncing']=new Map();[_0x397592(0x320)]=new Map();[_0x397592(0x2fb)]=new Map();['objectStoreConnector'];['eventListener']=_0x46b21e();[_0x397592(0x13b)];[_0x397592(0x2db)];[_0x397592(0x5f9)]=0x0;['reads']=0x0;constructor(_0x580fc2,_0x41b864,_0x3973d2,_0x9c3538,_0x13f438,_0x22b632){const _0x19428e=_0x397592;if(_0x19428e(0x42a)!=typeof _0x41b864)throw new _0x24c29d(_0x1e3f38[_0x19428e(0x387)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x580fc2,_0x41b864),this[_0x19428e(0x640)]=_0x580fc2,this[_0x19428e(0xad)]=_0x3973d2,this[_0x19428e(0x5f7)]=_0x9c3538,this[_0x19428e(0x496)]=_0x13f438;const _0x3c8720='ccc'+this[_0x19428e(0x5f7)]+_0x19428e(0x519)+this['clusterId']+_0x19428e(0x519)+_0x41b864;this[_0x19428e(0x54d)]=new _0x22b632(_0x3c8720),this[_0x19428e(0x1c9)]();}[_0x397592(0x23e)](){const _0x174bf2=_0x397592;this[_0x174bf2(0x1c9)]();}['getContentType'](){const _0x2f9584=_0x397592;return _0x25e642[_0x2f9584(0x20d)][_0x2f9584(0x14a)];}async[_0x397592(0x4a1)](){const _0x26bae1=_0x397592;try{const _0x4d81eb=await this[_0x26bae1(0x54d)][_0x26bae1(0x5e6)](_0x32fab3),_0x10a7b9=await _0x4d81eb[_0x26bae1(0x4de)]();this['lastTransactionId']=_0x10a7b9;}catch(_0x32c713){}this[_0x26bae1(0x3ba)]=this[_0x26bae1(0xbc)](async(_0x4b7e5d,_0x3f231a)=>{const _0x395d54=_0x26bae1;if(!(_0x3f231a instanceof File))try{if(_0x3f231a[_0x395d54(0x596)]===_0x24bc9d[_0x395d54(0x510)])return void this[_0x395d54(0xf3)](_0x3f231a);this['handleTransactionPayload'](_0x3f231a);}catch(_0x158412){if(_0x158412 instanceof _0x5efe70)throw _0x158412;throw new _0x5efe70(_0x5efe70['codes'][_0x395d54(0xb3)],{'payload':_0x3f231a});}}),await this['syncTransactions'](),await this[_0x26bae1(0xd9)](),this[_0x26bae1(0x1c9)]();}[_0x397592(0x2a6)](){const _0x4740b3=_0x397592;this[_0x4740b3(0x3ba)]?.(),clearTimeout(this[_0x4740b3(0x2db)]),delete this['debounceStats'],super[_0x4740b3(0x2a6)]();}[_0x397592(0x9e)](){const _0x23f2fe=_0x397592;this[_0x23f2fe(0x4f8)]?.[_0x23f2fe(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x23f2fe(0x346)],'content':{'type':_0x566301['CloseObjectStoreBucket'],'label':this[_0x23f2fe(0x290)]}});}['subscribe'](_0x5b7b83){const _0x16e3e0=_0x397592;if(this[_0x16e3e0(0x13b)])throw new _0x24c29d(_0x1e3f38['ObjectStoreAlreadySubscribed'],_0x16e3e0(0x4eb));this[_0x16e3e0(0x13b)]=this['eventListener'][_0x16e3e0(0xda)](_0x5b7b83);}['unsubscribe'](){const _0x4bdcbb=_0x397592;this[_0x4bdcbb(0x13b)]&&this[_0x4bdcbb(0x13b)]();}['publish'](_0x1839ec){const _0xb900a8=_0x397592;switch(_0x1839ec['action']){case _0x25e642[_0xb900a8(0x396)]['File']:return this['publishFile'](_0x1839ec[_0xb900a8(0x1c7)],_0x1839ec['path']);case _0x25e642[_0xb900a8(0x396)][_0xb900a8(0x2a8)]:return this['publishFolder'](_0x1839ec[_0xb900a8(0x59f)]);case _0x25e642[_0xb900a8(0x396)]['Move']:return this[_0xb900a8(0x4a2)](_0x1839ec['path'],_0x1839ec[_0xb900a8(0x1d5)]);default:throw new _0x24c29d(_0x1e3f38[_0xb900a8(0x375)],'Cannot\x20publish\x20payload:\x20'+_0x1839ec);}}async[_0x397592(0x59b)](_0x137ce8){const _0x22c027=_0x397592;try{const _0x28c43a=(0x0,_0x415063['v4'])(),_0x3404b1=this['lastTransactionId'],_0x30b325={'payloadType':_0x24bc9d[_0x22c027(0x51c)],'action':_0x35fa3f['Delete'],'id':_0x28c43a,'parentId':_0x3404b1,'path':_0x137ce8};await this['publishTransaction'](_0x30b325);const _0x1e204b=await this[_0x22c027(0x270)](_0x137ce8);await this[_0x22c027(0x301)](_0x30b325),_0x29f8ca[_0x22c027(0x233)](_0x437522['ObjectStorage'],{'type':_0x22c027(0x59b),'label':this['label'],'nodeId':this[_0x22c027(0x640)]['getId'](),'nodeType':this[_0x22c027(0x640)]['type'],'clusterId':this[_0x22c027(0xad)],'kind':_0x1e204b,'path':_0x137ce8}),this['writes']+=0x1,this['sendStats']();}catch(_0x5e4787){if(_0x5e4787 instanceof _0x5efe70)throw new _0x24c29d(_0x1e3f38[_0x22c027(0x295)],_0x22c027(0x304));throw new _0x24c29d(_0x1e3f38[_0x22c027(0x373)],_0x22c027(0x5e1)+_0x137ce8);}}async[_0x397592(0x5e6)](_0x1fd90e){const _0x1ac16a=_0x397592;_0x29f8ca[_0x1ac16a(0x233)](_0x437522[_0x1ac16a(0x471)],{'type':_0x1ac16a(0x5e6),'label':this[_0x1ac16a(0x290)],'nodeId':this[_0x1ac16a(0x640)]['getId'](),'nodeType':this[_0x1ac16a(0x640)][_0x1ac16a(0x1c2)],'clusterId':this[_0x1ac16a(0xad)],'path':_0x1fd90e}),this[_0x1ac16a(0x15e)]+=0x1,this['sendStats']();try{return await this['objectStoreConnector'][_0x1ac16a(0x5e6)](_0x1fd90e);}catch(_0x3e1710){try{await this['objectStoreConnector'][_0x1ac16a(0x5e6)](_0x1fd90e+_0x190eb4);}catch(_0x1b81ee){throw new _0x24c29d(_0x1e3f38['ObjectStoreInvalidPath'],'Cannot\x20get\x20file:\x20'+_0x1fd90e);}throw new _0x24c29d(_0x1e3f38[_0x1ac16a(0x295)],_0x1ac16a(0x4b5));}}async[_0x397592(0x181)](_0x51dd2d,_0x5e1181=!0x1,_0x2aa00d=!0x1){const _0x19f4eb=_0x397592;_0x29f8ca['logServiceEvent'](_0x437522[_0x19f4eb(0x471)],{'type':_0x19f4eb(0x181),'label':this[_0x19f4eb(0x290)],'nodeId':this[_0x19f4eb(0x640)][_0x19f4eb(0x130)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x19f4eb(0xad)],'path':_0x51dd2d}),this[_0x19f4eb(0x15e)]+=0x1,this[_0x19f4eb(0x1c9)]();try{const _0x418984=await this[_0x19f4eb(0x54d)][_0x19f4eb(0x181)](_0x51dd2d,_0x5e1181);return _0x2aa00d?_0x418984:this[_0x19f4eb(0x3f7)](_0x418984);}catch(_0x5d4c67){throw new _0x24c29d(_0x1e3f38[_0x19f4eb(0x373)],_0x19f4eb(0x58c)+_0x51dd2d);}}[_0x397592(0x291)](_0x3b222f){const _0x41ccae=_0x397592;for(const _0x2b03b0 of this[_0x41ccae(0x2ae)][_0x41ccae(0xee)]())this['send'](_0x2b03b0,[_0x3b222f]);}[_0x397592(0x368)](_0x357667){const _0x5e4772=_0x397592,_0x1a57e2=this[_0x5e4772(0x1f9)][_0x5e4772(0x5e6)](_0x357667);if(_0x1a57e2){for(const [_0x3f17aa,_0x11a0bf]of _0x1a57e2[_0x5e4772(0xee)]())this['sendFileRequestPayload'](_0x3f17aa,_0x11a0bf);this['pendingFilesSyncing']['delete'](_0x357667);}}[_0x397592(0x3f7)](_0x53b1cf){const _0x47b4e2=_0x397592;for(const _0x154d6d of _0x53b1cf)_0x154d6d['kind']===_0x25e642[_0x47b4e2(0x448)]['Folder']&&(_0x154d6d[_0x47b4e2(0x1e0)]=this['cleanList'](_0x154d6d[_0x47b4e2(0x1e0)]??[])),(_0x154d6d['name']['endsWith'](_0x190eb4)||_0x154d6d[_0x47b4e2(0x3af)]===_0x32fab3)&&_0x53b1cf[_0x47b4e2(0x222)](_0x53b1cf[_0x47b4e2(0x59e)](_0x154d6d),0x1);return _0x53b1cf;}async[_0x397592(0x340)](_0x156745,_0x93747b){const _0x52f284=_0x397592;try{const _0x1fe02c=(0x0,_0x415063['v4'])(),_0xd6e0=this[_0x52f284(0x628)],_0x5a5bb7=await _0x120e23(_0x156745);await this[_0x52f284(0x632)]({'payloadType':_0x24bc9d[_0x52f284(0x51c)],'action':_0x35fa3f[_0x52f284(0x3bf)],'id':_0x1fe02c,'parentId':_0xd6e0,'answererId':this[_0x52f284(0x640)][_0x52f284(0x130)](),'name':_0x156745['name'],'type':_0x156745[_0x52f284(0x1c2)],'path':_0x93747b??'/','checksum':_0x5a5bb7}),await this[_0x52f284(0x557)](_0x156745,_0x93747b),await this[_0x52f284(0x5f0)](_0x156745,{'payloadType':_0x24bc9d[_0x52f284(0x51c)],'action':_0x35fa3f[_0x52f284(0x3bf)],'id':_0x1fe02c,'parentId':_0xd6e0,'answererId':this[_0x52f284(0x640)][_0x52f284(0x130)](),'name':_0x156745['name'],'type':_0x156745[_0x52f284(0x1c2)],'path':_0x93747b??'/','checksum':_0x5a5bb7}),_0x29f8ca[_0x52f284(0x233)](_0x437522[_0x52f284(0x471)],{'type':_0x52f284(0x16f),'label':this[_0x52f284(0x290)],'nodeId':this[_0x52f284(0x640)][_0x52f284(0x130)](),'nodeType':this[_0x52f284(0x640)][_0x52f284(0x1c2)],'clusterId':this['clusterId'],'kind':_0x25e642[_0x52f284(0x448)][_0x52f284(0x19c)],'path':_0x93747b,'fileName':_0x156745['name'],'fileType':_0x156745['type'],'size':_0x156745[_0x52f284(0x37e)]}),this[_0x52f284(0x5f9)]+=0x1,this[_0x52f284(0x1c9)]();}catch(_0x1b6970){if(_0x1b6970 instanceof _0x5efe70)throw new _0x24c29d(_0x1e3f38[_0x52f284(0x295)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x24c29d(_0x1e3f38[_0x52f284(0x373)],'Cannot\x20publish\x20file:\x20'+_0x93747b);}}async[_0x397592(0x17e)](_0x5a9456){const _0x25b5dd=_0x397592;try{const _0x2fb035=(0x0,_0x415063['v4'])(),_0x17f168=this[_0x25b5dd(0x628)],_0x478bb0={'payloadType':_0x24bc9d[_0x25b5dd(0x51c)],'action':_0x35fa3f[_0x25b5dd(0x5c9)],'id':_0x2fb035,'parentId':_0x17f168,'path':_0x5a9456};await this[_0x25b5dd(0x632)](_0x478bb0),await this[_0x25b5dd(0x54d)][_0x25b5dd(0x165)](_0x5a9456),await this[_0x25b5dd(0x301)](_0x478bb0),_0x29f8ca['logServiceEvent'](_0x437522[_0x25b5dd(0x471)],{'type':_0x25b5dd(0x16f),'label':this['label'],'nodeId':this[_0x25b5dd(0x640)]['getId'](),'nodeType':this[_0x25b5dd(0x640)][_0x25b5dd(0x1c2)],'clusterId':this[_0x25b5dd(0xad)],'kind':_0x25e642[_0x25b5dd(0x448)]['Folder'],'path':_0x5a9456}),this[_0x25b5dd(0x5f9)]+=0x1,this[_0x25b5dd(0x1c9)]();}catch(_0x2bf6d8){if(_0x2bf6d8 instanceof _0x5efe70)throw new _0x24c29d(_0x1e3f38[_0x25b5dd(0x295)],_0x25b5dd(0x4b5));throw new _0x24c29d(_0x1e3f38[_0x25b5dd(0x373)],_0x25b5dd(0x63a)+_0x5a9456);}}async[_0x397592(0x4a2)](_0x22c72b,_0x41393d){const _0x28999a=_0x397592;try{const _0x4a8092=(0x0,_0x415063['v4'])(),_0x5bd787=this[_0x28999a(0x628)],_0x3a578e={'payloadType':_0x24bc9d[_0x28999a(0x51c)],'action':_0x35fa3f['Move'],'id':_0x4a8092,'parentId':_0x5bd787,'path':_0x22c72b,'newPath':_0x41393d};await this[_0x28999a(0x632)](_0x3a578e);const _0x1d44c1=await this[_0x28999a(0x13a)](_0x22c72b,_0x41393d);await this[_0x28999a(0x301)](_0x3a578e),_0x29f8ca['logServiceEvent'](_0x437522[_0x28999a(0x471)],{'type':_0x28999a(0x4e5),'label':this[_0x28999a(0x290)],'nodeId':this[_0x28999a(0x640)][_0x28999a(0x130)](),'nodeType':this[_0x28999a(0x640)][_0x28999a(0x1c2)],'clusterId':this[_0x28999a(0xad)],'kind':_0x1d44c1,'path':_0x22c72b,'newPath':_0x41393d}),this[_0x28999a(0x5f9)]+=0x1,this[_0x28999a(0x1c9)]();}catch(_0x439f72){if(_0x439f72 instanceof _0x5efe70)throw new _0x24c29d(_0x1e3f38[_0x28999a(0x295)],_0x28999a(0x4b5));throw new _0x24c29d(_0x1e3f38['ObjectStoreInvalidPath'],_0x28999a(0x21b)+_0x22c72b);}}async[_0x397592(0x196)](_0x23879c){const _0x186562=_0x397592;if(this['lastTransactionId']&&_0x23879c['parentId']!==this[_0x186562(0x628)]&&_0x23879c['id']!==this[_0x186562(0x628)]){if(!_0x23879c[_0x186562(0x634)])throw new _0x5efe70(_0x5efe70['codes'][_0x186562(0xb3)]);this[_0x186562(0x307)]['set'](_0x23879c[_0x186562(0x634)],_0x23879c);}else{try{await this[_0x186562(0x1c1)](_0x23879c);}catch(_0x1eb1b0){}await this['updateLastTransactionId'](_0x23879c['id']),await this[_0x186562(0x4bd)](_0x23879c['id']);}}async[_0x397592(0x1c1)](_0x3f5a8f){const _0x1cf596=_0x397592;switch(_0x3f5a8f[_0x1cf596(0x1c8)]){case _0x35fa3f[_0x1cf596(0x3bf)]:await this['handleFileWrite'](_0x3f5a8f);break;case _0x35fa3f[_0x1cf596(0x5c9)]:await this[_0x1cf596(0x154)](_0x3f5a8f);break;case _0x35fa3f[_0x1cf596(0x2ef)]:await this['handleObjectMove'](_0x3f5a8f);break;case _0x35fa3f[_0x1cf596(0x482)]:await this[_0x1cf596(0xfa)](_0x3f5a8f);break;default:throw new _0x5efe70(_0x5efe70[_0x1cf596(0x50b)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x3f5a8f});}}async[_0x397592(0x4bd)](_0x5509d3){const _0x13b55b=_0x397592;if(this[_0x13b55b(0x307)][_0x13b55b(0x1ac)](_0x5509d3)){const _0xdab4b1=this[_0x13b55b(0x307)][_0x13b55b(0x5e6)](_0x5509d3);this['pendingSyncTransactions'][_0x13b55b(0x457)](_0x5509d3),await this[_0x13b55b(0x196)](_0xdab4b1);}}async['handleRequestPayload'](_0x424ede){const _0xee87f=_0x397592;switch(_0x424ede[_0xee87f(0x1c8)]){case _0x35fa3f['RequestFile']:return this['handleFileRequest'](_0x424ede);case _0x35fa3f[_0xee87f(0x43f)]:return this[_0xee87f(0x1a8)](_0x424ede);case _0x35fa3f['RequestFileSync']:return this['handleFileSync'](_0x424ede);case _0x35fa3f[_0xee87f(0x4e9)]:return this['handleFileWrite'](_0x424ede);default:throw new _0x5efe70(_0x5efe70[_0xee87f(0x50b)][_0xee87f(0xb3)],{'payload':_0x424ede});}}async[_0x397592(0xe9)](_0x29dd98){const _0x1b349e=_0x397592;if(!_0x29dd98['data']||void 0x0===_0x29dd98['index']||!_0x29dd98[_0x1b349e(0x5f1)])return void await this['createPendingFileWrite'](_0x29dd98);const _0x25aa97=_0x3aae16(_0x29dd98[_0x1b349e(0x59f)],_0x29dd98['name']);this[_0x1b349e(0x579)][_0x1b349e(0x1ac)](_0x25aa97)||(this[_0x1b349e(0x579)]['set'](_0x25aa97,[]),await this[_0x1b349e(0x187)](_0x29dd98)),this[_0x1b349e(0xc1)](_0x29dd98,_0x25aa97);const _0x39410f=this[_0x1b349e(0x579)]['get'](_0x25aa97);if(_0x39410f[_0x29dd98['index']]=_0x29dd98[_0x1b349e(0x476)],_0x39410f[_0x1b349e(0x602)](_0x177c4a=>_0x177c4a)[_0x1b349e(0x42e)]<_0x29dd98[_0x1b349e(0x5f1)])return;const _0x3ecd8d=_0x252bce(_0x39410f,_0x29dd98['name'],_0x29dd98['type']);await this[_0x1b349e(0x557)](_0x3ecd8d,_0x29dd98[_0x1b349e(0x59f)]),await this[_0x1b349e(0x11a)](_0x29dd98),this['fileChunks'][_0x1b349e(0x457)](_0x25aa97),_0x29f8ca[_0x1b349e(0x233)](_0x437522[_0x1b349e(0x471)],{'type':_0x1b349e(0x4a1),'label':this['label'],'nodeId':this[_0x1b349e(0x640)][_0x1b349e(0x130)](),'nodeType':this[_0x1b349e(0x640)][_0x1b349e(0x1c2)],'clusterId':this[_0x1b349e(0xad)],'kind':_0x25e642[_0x1b349e(0x448)][_0x1b349e(0x19c)],'path':_0x29dd98[_0x1b349e(0x59f)],'fileName':_0x29dd98[_0x1b349e(0x3af)],'fileType':_0x29dd98[_0x1b349e(0x1c2)],'size':_0x3ecd8d[_0x1b349e(0x37e)]});const _0xe89497=this['pendingFilesTransactions'][_0x1b349e(0x5e6)](_0x29dd98[_0x1b349e(0x59f)])??[];for(const _0x334493 of _0xe89497)await this[_0x1b349e(0x1c1)](_0x334493);this[_0x1b349e(0x320)][_0x1b349e(0x457)](_0x29dd98[_0x1b349e(0x59f)]),this[_0x1b349e(0x645)]['publish']({'event':_0x25e642[_0x1b349e(0x1d2)][_0x1b349e(0x3bf)],'payload':{'file':{'kind':_0x25e642['ObjectKind'][_0x1b349e(0x19c)],'path':_0x29dd98[_0x1b349e(0x59f)],'type':_0x3ecd8d['type'],'size':_0x3ecd8d[_0x1b349e(0x37e)],'name':_0x29dd98[_0x1b349e(0x3af)],'pathName':_0x25aa97}}});}async[_0x397592(0x154)](_0x2ade06){const _0xcd334c=_0x397592;await this[_0xcd334c(0x54d)][_0xcd334c(0x165)](_0x2ade06[_0xcd334c(0x59f)]);const [_0x22673f,_0x4cc5bf]=_0xdcf78f(_0x2ade06['path']);this[_0xcd334c(0x645)][_0xcd334c(0x16f)]({'event':_0x25e642[_0xcd334c(0x1d2)][_0xcd334c(0x5c9)],'payload':{'folder':{'kind':_0x25e642[_0xcd334c(0x448)][_0xcd334c(0x2a8)],'name':_0x4cc5bf,'path':_0x22673f,'pathName':_0x2ade06[_0xcd334c(0x59f)]}}});}async[_0x397592(0xfa)](_0x17b35d){const _0x5d100a=_0x397592;if(!this[_0x5d100a(0x3a6)](_0x17b35d))return;const _0x3379c8=await this['deleteObject'](_0x17b35d[_0x5d100a(0x59f)]),[_0x50195e,_0x2827b0]=_0xdcf78f(_0x17b35d['path']);this['eventListener'][_0x5d100a(0x16f)]({'event':_0x3379c8===_0x25e642[_0x5d100a(0x448)][_0x5d100a(0x2a8)]?_0x25e642[_0x5d100a(0x1d2)]['FolderDelete']:_0x25e642[_0x5d100a(0x1d2)][_0x5d100a(0x3bc)],'payload':{'name':_0x2827b0,'path':_0x50195e,'pathName':_0x17b35d[_0x5d100a(0x59f)]}});}async[_0x397592(0x17b)](_0x1c40b3){const _0x1a60c4=_0x397592;if(!this[_0x1a60c4(0x3a6)](_0x1c40b3))return this['pendingFilesRename']['set'](_0x1c40b3[_0x1a60c4(0x1d5)],this[_0x1a60c4(0x2fb)]['get'](_0x1c40b3['path'])??_0x1c40b3[_0x1a60c4(0x59f)]),void this[_0x1a60c4(0x2fb)][_0x1a60c4(0x457)](_0x1c40b3[_0x1a60c4(0x59f)]);this['pendingFilesRename']['delete'](_0x1c40b3['path']);const _0x5173bc=await this['objectStoreConnector'][_0x1a60c4(0x13a)](_0x1c40b3[_0x1a60c4(0x59f)],_0x1c40b3[_0x1a60c4(0x1d5)]),[_0x434377,_0x2e01b2]=_0xdcf78f(_0x1c40b3[_0x1a60c4(0x59f)]),[_0x2fdb5b,_0x42204e]=_0xdcf78f(_0x1c40b3[_0x1a60c4(0x1d5)]);this[_0x1a60c4(0x645)][_0x1a60c4(0x16f)]({'event':_0x5173bc===_0x25e642['ObjectKind'][_0x1a60c4(0x2a8)]?_0x25e642[_0x1a60c4(0x1d2)][_0x1a60c4(0x153)]:_0x25e642[_0x1a60c4(0x1d2)][_0x1a60c4(0x12f)],'payload':{'name':_0x42204e,'path':_0x2fdb5b,'pathName':_0x1c40b3[_0x1a60c4(0x1d5)],'oldName':_0x2e01b2,'oldPath':_0x434377,'oldPathName':_0x1c40b3[_0x1a60c4(0x59f)]}});}['shouldProcessTransaction'](_0xf316b6){const _0x662d69=_0x397592,_0x12af19=this[_0x662d69(0x2fb)][_0x662d69(0x5e6)](_0xf316b6[_0x662d69(0x59f)])??_0xf316b6[_0x662d69(0x59f)];let _0x34aac4=!0x1;for(const _0x3775a5 of this[_0x662d69(0x579)][_0x662d69(0x3c7)]())if(_0x3775a5[_0x662d69(0x120)](_0x12af19)){const _0x1af82d=this[_0x662d69(0x320)]['get'](_0x3775a5)??[];_0x1af82d[_0x662d69(0x2d7)](_0xf316b6),this[_0x662d69(0x320)][_0x662d69(0x42c)](_0x3775a5,_0x1af82d),_0x34aac4=!0x0;}return!_0x34aac4;}async[_0x397592(0x632)](_0x368962){const _0x57e370=_0x397592;if(!_0x368962['id'])throw new _0x5efe70(_0x5efe70[_0x57e370(0x50b)][_0x57e370(0xb3)],{'message':_0x57e370(0xa9)});await this[_0x57e370(0x496)][_0x57e370(0x14b)](_0x368962,this[_0x57e370(0x290)],this[_0x57e370(0x628)]),await this[_0x57e370(0x129)](_0x368962['id']);}async[_0x397592(0x129)](_0x53c377){const _0x35a807=_0x397592;this[_0x35a807(0x628)]=_0x53c377;const _0x330ccc=new File([new Blob([this['lastTransactionId']])],_0x32fab3,{'type':_0x35a807(0x4df)});await this['writeFile'](_0x330ccc,'/');}async[_0x397592(0x90)](_0x1a433a){const _0x549b4a=_0x397592;try{const _0x44dc05=await this[_0x549b4a(0x5e6)](_0x1a433a[_0x549b4a(0x59f)]+'/'+_0x1a433a[_0x549b4a(0x3af)]);if(await _0x120e23(_0x44dc05)!==_0x1a433a[_0x549b4a(0x2c3)])return;_0x1a433a[_0x549b4a(0x287)]=this[_0x549b4a(0x640)][_0x549b4a(0x130)](),_0x1a433a['action']=_0x35fa3f[_0x549b4a(0x43f)],await this[_0x549b4a(0x301)](_0x1a433a,[_0x1a433a[_0x549b4a(0x108)]]);}catch(_0x42fb37){}}async['handleFileRequestAnswer'](_0x4b11cf){const _0x1879a3=_0x397592,_0x124592=_0x3aae16(_0x4b11cf[_0x1879a3(0x59f)],_0x4b11cf[_0x1879a3(0x3af)]);if(!this[_0x1879a3(0x2ae)]['has'](_0x124592))return;const _0x3c863e=this[_0x1879a3(0x2ae)][_0x1879a3(0x5e6)](_0x124592);_0x3c863e[_0x1879a3(0x1c8)]=_0x35fa3f[_0x1879a3(0x203)];const _0x2d079e=_0x4b11cf[_0x1879a3(0x287)];if(!_0x2d079e)throw new _0x5efe70(_0x5efe70['codes'][_0x1879a3(0xb3)],{'message':_0x1879a3(0x27e)});this[_0x1879a3(0x2ae)][_0x1879a3(0x457)](_0x124592),this[_0x1879a3(0x1f9)]['has'](_0x2d079e)||this[_0x1879a3(0x1f9)][_0x1879a3(0x42c)](_0x2d079e,new Map()),this['pendingFilesSyncing'][_0x1879a3(0x5e6)](_0x2d079e)[_0x1879a3(0x42c)](_0x124592,[_0x3c863e,this['getOrResetPendingFileTimeout'](_0x2d079e,_0x124592)]),_0x3c863e[_0x1879a3(0x287)]=_0x2d079e,this[_0x1879a3(0x301)](_0x3c863e,[_0x2d079e]);}async[_0x397592(0x11e)](_0x5e28a4){const _0x330c4b=_0x397592,_0x20d934=_0x3aae16(_0x5e28a4['path'],_0x5e28a4['name']),_0x4ce8ee=await this[_0x330c4b(0x5e6)](_0x20d934),_0x1283cf={..._0x5e28a4,'answererId':this['localNode'][_0x330c4b(0x130)](),'action':_0x35fa3f[_0x330c4b(0x4e9)]};await this[_0x330c4b(0x5f0)](_0x4ce8ee,_0x1283cf,[_0x5e28a4['sourceId']]);}async[_0x397592(0x5f0)](_0x105123,_0x21273c,_0x22328d){const _0x2774be=_0x397592,_0x38501c=await _0x2fb6eb(_0x105123);for(const [_0x5d0675,_0x2bfc90]of _0x38501c['entries']()){const _0x25a6f4={..._0x21273c,'type':_0x105123[_0x2774be(0x1c2)],'data':_0x2bfc90,'index':_0x5d0675,'total':_0x38501c[_0x2774be(0x42e)]};this[_0x2774be(0x301)](_0x25a6f4,_0x22328d);}}async[_0x397592(0x11a)](_0x4f3f11){const _0x479b79=_0x397592;try{const _0x15b518=_0x3aae16(_0x4f3f11['path'],_0x4f3f11[_0x479b79(0x3af)]),_0x35766d=_0x15b518+_0x190eb4;await this[_0x479b79(0x270)](_0x35766d);const [,_0x1f4bdf]=this[_0x479b79(0x1f9)][_0x479b79(0x5e6)](_0x4f3f11[_0x479b79(0x287)])?.['get'](_0x15b518)??[];_0x1f4bdf&&(clearTimeout(_0x1f4bdf),this['pendingFilesSyncing']['get'](_0x4f3f11['answererId'])[_0x479b79(0x457)](_0x15b518));}catch(_0x42a3f7){}}async[_0x397592(0x328)](){const _0x489aa9=_0x397592,_0x390717=await this[_0x489aa9(0x496)][_0x489aa9(0x3ae)](this['label'],this['lastTransactionId']);for(const _0x9b1673 of _0x390717)await this[_0x489aa9(0x196)](_0x9b1673);}async['syncPendingFiles'](){const _0x4d2c96=await this['list']('/',!0x0,!0x0),_0x85071f=async _0x270be6=>{const _0x1239fe=a0_0x240a;for(const _0x265308 of _0x270be6){if(_0x265308[_0x1239fe(0x5bc)]===_0x25e642[_0x1239fe(0x448)][_0x1239fe(0x2a8)]){_0x265308[_0x1239fe(0x1e0)]&&_0x265308[_0x1239fe(0x1e0)][_0x1239fe(0x42e)]>0x0&&await _0x85071f(_0x265308['entries']);continue;}if(!_0x265308[_0x1239fe(0x3af)]['endsWith'](_0x190eb4))continue;const _0x438a08=await this[_0x1239fe(0x5e6)](_0x265308[_0x1239fe(0x4c6)]),_0x9d3349=await _0x438a08['text'](),_0x37e0f9=_0x265308[_0x1239fe(0x3af)][_0x1239fe(0x2e4)](_0x190eb4,''),_0x813d8d={'payloadType':_0x24bc9d[_0x1239fe(0x510)],'action':_0x35fa3f[_0x1239fe(0x545)],'sourceId':this['localNode'][_0x1239fe(0x130)](),'type':'','path':_0x265308[_0x1239fe(0x59f)],'name':_0x37e0f9,'checksum':_0x9d3349},_0x4f5660=_0x3aae16(_0x265308[_0x1239fe(0x59f)],_0x37e0f9);this[_0x1239fe(0x2ae)][_0x1239fe(0x42c)](_0x4f5660,_0x813d8d);}};await _0x85071f(_0x4d2c96);}async[_0x397592(0x187)](_0x5b0784){const _0x45d2cb=_0x397592,_0x188dc5=new File([new Blob([_0x5b0784[_0x45d2cb(0x2c3)]])],''+_0x5b0784[_0x45d2cb(0x3af)]+_0x190eb4,{'type':_0x45d2cb(0x4df)});await this[_0x45d2cb(0x557)](_0x188dc5,_0x5b0784[_0x45d2cb(0x59f)]);}[_0x397592(0x571)](_0x4f79c6,_0x58dbdd){const _0x4809bd=_0x397592,[_0x1891c2,_0x511a3f]=this['pendingFilesSyncing']['get'](_0x4f79c6)?.[_0x4809bd(0x5e6)](_0x58dbdd)??[];return _0x511a3f&&clearTimeout(_0x511a3f),setTimeout(()=>{const _0x18ba23=_0x4809bd,[_0x32a325,_0x622dac]=this[_0x18ba23(0x1f9)][_0x18ba23(0x5e6)](_0x4f79c6)[_0x18ba23(0x5e6)](_0x58dbdd);this[_0x18ba23(0xb7)](_0x32a325,_0x622dac);},0xea60);}async[_0x397592(0xb7)](_0x31e12a,_0x31deb1){const _0x222a7e=_0x397592;clearTimeout(_0x31deb1),_0x31e12a[_0x222a7e(0x1c8)]=_0x35fa3f[_0x222a7e(0x545)],this[_0x222a7e(0x2ae)][_0x222a7e(0x42c)](_0x3aae16(_0x31e12a[_0x222a7e(0x59f)],_0x31e12a['name']),_0x31e12a),this[_0x222a7e(0x301)](_0x31e12a);}[_0x397592(0xc1)](_0x1a96b2,_0xb4a18f){const _0x418ce0=_0x397592;this[_0x418ce0(0x1f9)][_0x418ce0(0x1ac)](_0x1a96b2[_0x418ce0(0x287)])||this[_0x418ce0(0x1f9)][_0x418ce0(0x42c)](_0x1a96b2[_0x418ce0(0x287)],new Map());const [_0x16ebaf]=this[_0x418ce0(0x1f9)][_0x418ce0(0x5e6)](_0x1a96b2['answererId'])[_0x418ce0(0x5e6)](_0xb4a18f)??[{'payloadType':_0x24bc9d[_0x418ce0(0x510)],'action':_0x35fa3f[_0x418ce0(0x545)],'sourceId':this[_0x418ce0(0x640)][_0x418ce0(0x130)](),'type':_0x1a96b2[_0x418ce0(0x1c2)],'name':_0x1a96b2[_0x418ce0(0x3af)],'path':_0x1a96b2[_0x418ce0(0x59f)],'checksum':_0x1a96b2['checksum'],'answererId':_0x1a96b2[_0x418ce0(0x287)]}];this['pendingFilesSyncing'][_0x418ce0(0x5e6)](_0x1a96b2[_0x418ce0(0x287)])[_0x418ce0(0x42c)](_0xb4a18f,[_0x16ebaf,this[_0x418ce0(0x571)](_0x1a96b2[_0x418ce0(0x287)],_0xb4a18f)]);}async[_0x397592(0x557)](_0x2098fc,_0x1278f0){const _0xcd8837=_0x397592;await this[_0xcd8837(0x54d)][_0xcd8837(0x557)](_0x2098fc,_0x1278f0);}async['deleteObject'](_0x4bf2c0){const _0xd28602=_0x397592;try{return await this[_0xd28602(0x54d)][_0xd28602(0x270)](_0x4bf2c0);}catch(_0x17db1e){return await this['objectStoreConnector'][_0xd28602(0x270)](_0x4bf2c0+_0x190eb4);}}async['moveObject'](_0x15fa0b,_0x4838e6){const _0x53d693=_0x397592;try{return await this[_0x53d693(0x54d)][_0x53d693(0x13a)](_0x15fa0b,_0x4838e6);}catch(_0x195337){return await this[_0x53d693(0x54d)]['moveObject'](_0x15fa0b+_0x190eb4,_0x4838e6+_0x190eb4);}}[_0x397592(0x1c9)](){const _0x30ccc8=_0x397592;this[_0x30ccc8(0x2db)]&&clearTimeout(this[_0x30ccc8(0x2db)]),this[_0x30ccc8(0x2db)]=setTimeout(async()=>{const _0x295740=_0x30ccc8;delete this['debounceStats'];const _0x4aff80=await this['objectStoreConnector']['calculateSize']('/');this[_0x295740(0x4f8)]?.[_0x295740(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x295740(0x346)],'content':{'type':_0x566301[_0x295740(0x282)],'label':this[_0x295740(0x290)],'stats':{'timestamp':Date['now'](),'storage':_0x4aff80,'messagesSent':this[_0x295740(0x235)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x295740(0x605)],'bytesReceived':this[_0x295740(0x26a)],'writes':this[_0x295740(0x5f9)],'reads':this['reads']}}}),_0x29f8ca[_0x295740(0x49b)](_0x437522['ObjectStorage'],_0x295740(0x519)+this[_0x295740(0xad)]+_0x295740(0x519)+this[_0x295740(0x290)],_0x4aff80);},0x1388);}}class _0x14f534 extends _0x391aaf{[_0x397592(0x280)];constructor(_0x3ecaa6,_0x8dcb07,_0x16101d){const _0x293730=_0x397592;super(_0x3ecaa6,_0x8dcb07),this[_0x293730(0x280)]=_0x16101d;}[_0x397592(0x4ad)](){const _0x1db2c2=_0x397592;return _0x25e642[_0x1db2c2(0x20d)][_0x1db2c2(0x1e4)];}[_0x397592(0x3aa)](){const _0x4c062e=_0x397592;return this[_0x4c062e(0x280)];}['getInternalStreamId'](){const _0x25580f=_0x397592;return this[_0x25580f(0x280)]['id'];}}class _0x42a67e extends _0x14f534{['remoteId'];[_0x397592(0x528)];[_0x397592(0x48a)];[_0x397592(0x42d)]=_0x46b21e();constructor(_0x445829,_0x321522,_0x240110,_0x5c1604,_0x541090){const _0x1b1a8f=_0x397592;super(_0x445829,_0x321522,_0x240110),this[_0x1b1a8f(0x33a)]=_0x5c1604,this[_0x1b1a8f(0x528)]=_0x541090;}[_0x397592(0x2a6)](){const _0x1cd278=_0x397592;this['removeTrack'](_0x1cd278(0x194)),this[_0x1cd278(0x618)](_0x1cd278(0xaf)),super[_0x1cd278(0x2a6)]();}[_0x397592(0x4fd)](_0x324137){const _0x121482=_0x397592;if(!this['topic'])throw new _0x5efe70(_0x5efe70[_0x121482(0x50b)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x121482(0x290)],'ownerId':this[_0x121482(0x607)][_0x121482(0x130)](),'remoteId':this[_0x121482(0x33a)]});this[_0x121482(0x48a)][_0x121482(0x16f)]({'sourceId':this[_0x121482(0x607)][_0x121482(0x130)](),'content':{'action':_0x3bbf02[_0x121482(0x211)],'track':_0x324137,'stream':this['mediaStream'],'priority':_0x25e642[_0x121482(0x449)][_0x121482(0x2aa)],'params':this[_0x121482(0x1bc)](_0x324137['kind'],this['params'])}});}[_0x397592(0x618)](_0x52ecd7){const _0x536e75=_0x397592,_0x2335db=this[_0x536e75(0x15b)](_0x52ecd7);if(_0x2335db){if(!this['topic'])return null;this[_0x536e75(0x48a)][_0x536e75(0x16f)]({'sourceId':this[_0x536e75(0x607)][_0x536e75(0x130)](),'content':{'action':_0x3bbf02['Remove'],'track':_0x2335db,'stream':this['mediaStream']}});}return _0x2335db;}['setPriority'](_0x651a3f){const _0x3bd5a4=_0x397592;if(!this['topic'])throw new _0x5efe70(_0x5efe70[_0x3bd5a4(0x50b)][_0x3bd5a4(0x489)],{'label':this[_0x3bd5a4(0x290)],'ownerId':this[_0x3bd5a4(0x607)][_0x3bd5a4(0x130)](),'remoteId':this[_0x3bd5a4(0x33a)]});this[_0x3bd5a4(0x48a)][_0x3bd5a4(0x16f)]({'sourceId':this[_0x3bd5a4(0x607)][_0x3bd5a4(0x130)](),'content':{'action':_0x3bbf02[_0x3bd5a4(0x641)],'priority':_0x651a3f,'stream':this[_0x3bd5a4(0x280)]}});}[_0x397592(0xda)]({trackKinds:_0x23ca47,params:_0x47255d},_0x547419){const _0x401b60=_0x397592;if(!this['topic'])throw new _0x5efe70(_0x5efe70[_0x401b60(0x50b)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x401b60(0x290)],'ownerId':this[_0x401b60(0x607)][_0x401b60(0x130)](),'remoteId':this[_0x401b60(0x33a)]});for(const _0x127b56 of this[_0x401b60(0x280)]['getTracks']())_0x23ca47['includes'](_0x127b56[_0x401b60(0x5bc)])&&this[_0x401b60(0x48a)][_0x401b60(0x16f)]({'sourceId':this['owner'][_0x401b60(0x130)](),'content':{'action':_0x3bbf02[_0x401b60(0x211)],'track':_0x127b56,'stream':this['mediaStream'],'priority':_0x547419,'params':this[_0x401b60(0x1bc)](_0x127b56['kind'],_0x47255d)}});}[_0x397592(0x4ee)]({params:_0xd66ee6}){const _0x3920ed=_0x397592;if(!this['topic'])throw new _0x5efe70(_0x5efe70[_0x3920ed(0x50b)][_0x3920ed(0x489)],{'label':this[_0x3920ed(0x290)],'ownerId':this[_0x3920ed(0x607)]['getId'](),'remoteId':this[_0x3920ed(0x33a)]});for(const _0x526777 of this[_0x3920ed(0x280)]['getTracks']())this['topic']['publish']({'sourceId':this[_0x3920ed(0x607)][_0x3920ed(0x130)](),'content':{'action':_0x3bbf02['Update'],'stream':this['mediaStream'],'params':this[_0x3920ed(0x1bc)](_0x526777[_0x3920ed(0x5bc)],_0xd66ee6)}});}[_0x397592(0x238)]({trackKinds:_0x163217}){const _0x152a0a=_0x397592;if(this[_0x152a0a(0x48a)]){for(const _0x4f6232 of this[_0x152a0a(0x280)][_0x152a0a(0x619)]())_0x163217[_0x152a0a(0x4dd)](_0x4f6232[_0x152a0a(0x5bc)])&&this['topic'][_0x152a0a(0x16f)]({'sourceId':this[_0x152a0a(0x607)]['getId'](),'content':{'action':_0x3bbf02[_0x152a0a(0x256)],'stream':this['mediaStream'],'track':_0x4f6232}});}}[_0x397592(0x2b1)](_0x51ae87){const _0x1d3900=_0x397592;this[_0x1d3900(0x48a)]=_0x51ae87;}[_0x397592(0x3d3)](_0x134883){const _0x584ed6=_0x397592;_0x134883===this[_0x584ed6(0x48a)]&&(delete this['topic'],this[_0x584ed6(0x42d)][_0x584ed6(0x16f)]());}[_0x397592(0x41e)](_0x212d78){const _0x4410b1=_0x397592;return this[_0x4410b1(0x42d)][_0x4410b1(0xda)](_0x212d78);}[_0x397592(0x15b)](_0x115d1f){const _0x5091bc=_0x397592;return this['mediaStream'][_0x5091bc(0x619)]()['find'](_0x24f453=>_0x24f453[_0x5091bc(0x5bc)]===_0x115d1f)||null;}[_0x397592(0x1bc)](_0x4758f6,_0x3ed6fb){const _0x5e1d00=_0x397592;let _0x47e542;return _0x5e1d00(0xaf)===_0x4758f6&&_0x3ed6fb?.[_0x5e1d00(0xaf)]&&_0x5e1d00(0x574)!=typeof _0x3ed6fb[_0x5e1d00(0xaf)]&&(_0x47e542={'kind':_0x5e1d00(0xaf),..._0x3ed6fb['video']},_0x47e542[_0x5e1d00(0x550)]=this[_0x5e1d00(0x324)]()),_0x5e1d00(0x194)===_0x4758f6&&_0x3ed6fb?.[_0x5e1d00(0x194)]&&'boolean'!=typeof _0x3ed6fb[_0x5e1d00(0x194)]&&(_0x47e542={'kind':_0x5e1d00(0x194),..._0x3ed6fb[_0x5e1d00(0x194)]}),_0x47e542;}[_0x397592(0x324)](){const _0x2a6279=_0x397592;let _0x5716b9={'width':0x0,'height':0x0};const _0x30e588=this[_0x2a6279(0x280)][_0x2a6279(0x5a4)]();if(_0x30e588['length']>0x0){const _0x1cef35=_0x30e588[0x0][_0x2a6279(0x305)]();_0x1cef35[_0x2a6279(0x31e)]&&_0x1cef35[_0x2a6279(0x1d4)]&&(_0x5716b9={'width':_0x1cef35[_0x2a6279(0x31e)],'height':_0x1cef35[_0x2a6279(0x1d4)]});}return _0x5716b9;}}class _0xcee01a extends _0x14f534{[_0x397592(0xad)];[_0x397592(0x382)]=_0x25e642['MediaStreamPriority']['Default'];[_0x397592(0x5de)]=new Map();[_0x397592(0x223)]=new Map();constructor(_0x30c529,_0x152965,_0x5b8fe6,_0x4943d6){const _0x5837ef=_0x397592;super(_0x30c529,_0x152965,_0x5b8fe6 instanceof MediaStream?_0x5b8fe6:_0x5b8fe6[_0x5837ef(0x2e6)]?_0x5b8fe6['srcObject']:_0x5b8fe6[_0x5837ef(0x326)]()),this['clusterId']=_0x4943d6,this['mediaStream'][_0x5837ef(0x619)]()['forEach'](_0x1dc864=>this[_0x5837ef(0x151)](_0x1dc864)),_0x29f8ca['logServiceEvent'](_0x437522[_0x5837ef(0x14f)],{'type':'publish','label':this[_0x5837ef(0x290)],'nodeId':this[_0x5837ef(0x607)][_0x5837ef(0x130)](),'nodeType':this[_0x5837ef(0x607)][_0x5837ef(0x1c2)],'clusterId':this[_0x5837ef(0xad)],'streamId':this[_0x5837ef(0x217)](),'trackKinds':this[_0x5837ef(0x280)][_0x5837ef(0x619)]()[_0x5837ef(0x4e7)](_0x39f1d2=>_0x39f1d2[_0x5837ef(0x5bc)])});}[_0x397592(0x2a6)](){const _0xafc475=_0x397592;this[_0xafc475(0x223)][_0xafc475(0x37e)]>0x0&&(this[_0xafc475(0x223)]['forEach'](_0x1d10ff=>{const _0xa51f50=_0xafc475;_0x1d10ff[_0xa51f50(0xd0)](),_0x1d10ff['destroy']();}),this[_0xafc475(0x223)][_0xafc475(0x562)]()),this[_0xafc475(0x5de)][_0xafc475(0x633)](_0x3f272a=>_0x3f272a()),super['destroy']();}[_0x397592(0x16f)](_0x1ab5fe){const _0x25657c=_0x397592;this[_0x25657c(0x4f8)]['publish']({'sourceId':this['owner'][_0x25657c(0x130)](),'destinationIds':_0x1ab5fe?[_0x1ab5fe]:void 0x0,'propagate':!0x0,'messageType':_0x542695[_0x25657c(0x346)],'content':{'type':_0x566301[_0x25657c(0x299)],'ownerId':this[_0x25657c(0x607)][_0x25657c(0x130)](),'label':this['label'],'stream':{'streamId':this[_0x25657c(0x217)](),'availableTrackKinds':this[_0x25657c(0x280)][_0x25657c(0x619)]()[_0x25657c(0x4e7)](_0x30d925=>_0x30d925[_0x25657c(0x5bc)])}}});}[_0x397592(0x59b)](){const _0xb92e87=_0x397592;this['systemTopic'][_0xb92e87(0x16f)]({'sourceId':this[_0xb92e87(0x607)]['getId'](),'propagate':!0x0,'messageType':_0x542695['Content'],'content':{'type':_0x566301[_0xb92e87(0x2d6)],'ownerId':this[_0xb92e87(0x607)][_0xb92e87(0x130)](),'label':this[_0xb92e87(0x290)]}}),this['systemTopic']['publish']({'sourceId':_0x5ef92f,'messageType':_0x542695[_0xb92e87(0x346)],'content':{'type':_0x566301[_0xb92e87(0x4d8)],'label':this[_0xb92e87(0x290)]}}),_0x29f8ca[_0xb92e87(0x233)](_0x437522[_0xb92e87(0x14f)],{'type':_0xb92e87(0x59b),'label':this[_0xb92e87(0x290)],'nodeId':this[_0xb92e87(0x607)][_0xb92e87(0x130)](),'nodeType':this[_0xb92e87(0x607)]['type'],'clusterId':this[_0xb92e87(0xad)],'streamId':this[_0xb92e87(0x217)]()});}[_0x397592(0x61b)](){const _0x46a716=_0x397592;return this[_0x46a716(0x382)];}[_0x397592(0x105)](_0xf149e5){const _0x4b99f3=_0x397592;this[_0x4b99f3(0x382)]=_0xf149e5,this[_0x4b99f3(0x223)]['forEach'](_0x15b760=>_0x15b760[_0x4b99f3(0x105)](_0xf149e5));}[_0x397592(0x563)](_0x76831d,_0x3ec5d0){const _0xd1341b=_0x397592;if(!this[_0xd1341b(0x223)][_0xd1341b(0x1ac)](_0x76831d)){const _0x302ab2=new _0x42a67e(this[_0xd1341b(0x607)],this[_0xd1341b(0x290)],this[_0xd1341b(0x280)],_0x76831d,_0x3ec5d0),_0x5d37f=_0x302ab2[_0xd1341b(0x41e)](()=>{const _0xcf4187=_0xd1341b;_0x5d37f(),this[_0xcf4187(0x223)][_0xcf4187(0x5e6)](_0x76831d)?.['destroy'](),this[_0xcf4187(0x223)]['delete'](_0x76831d);});this['outgoingStreams'][_0xd1341b(0x42c)](_0x76831d,_0x302ab2),_0x302ab2[_0xd1341b(0x2f1)](this[_0xd1341b(0x4f8)]);}return this['outgoingStreams'][_0xd1341b(0x5e6)](_0x76831d);}[_0x397592(0x62c)](){const _0x3136e3=_0x397592;return this[_0x3136e3(0x280)]['id'];}['handleLocalTrackFailure'](_0x1d710d){const _0x16fde7=_0x397592;this[_0x16fde7(0x4f8)][_0x16fde7(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x16fde7(0x346)],'content':{'type':_0x566301['LocalMediaStreamTrackFail'],'label':this['label'],'trackKinds':[_0x1d710d[_0x16fde7(0x5bc)]]}});}[_0x397592(0x151)](_0xeae58b){const _0xd664ac=_0x397592,_0x424f7d=()=>this[_0xd664ac(0x502)](_0xeae58b);_0xeae58b['addEventListener']('ended',_0x424f7d),_0xeae58b[_0xd664ac(0x3f0)](_0xd664ac(0x1ad),_0x424f7d),this['trackEndedListeners'][_0xd664ac(0x42c)](_0xeae58b[_0xd664ac(0x5bc)],()=>{const _0x380f8e=_0xd664ac;_0xeae58b['removeEventListener'](_0x380f8e(0x2e5),_0x424f7d),_0xeae58b[_0x380f8e(0x48c)](_0x380f8e(0x1ad),_0x424f7d),this[_0x380f8e(0x5de)]['delete'](_0xeae58b['kind']);});}}class _0x462e97 extends _0xcee01a{['audioContext'];[_0x397592(0x475)]=[];[_0x397592(0x547)];[_0x397592(0x538)];['audioDestination'];[_0x397592(0x5ea)];[_0x397592(0x3d9)];[_0x397592(0x1ea)];[_0x397592(0x9d)];constructor(_0x49dbbd,_0xa64fea,_0x49111d,_0x13fe1e,_0x55596a,_0x118953){const _0x3b2fd8=_0x397592;if(super(_0x49dbbd,_0xa64fea,_0x49111d,_0x118953),this['audioContext']=_0x55596a,this['clientStream']=this[_0x3b2fd8(0x280)],this[_0x3b2fd8(0x5ea)]=document[_0x3b2fd8(0x4b2)](_0x3b2fd8(0xaf)),this[_0x3b2fd8(0x5ea)]['autoplay']=!0x0,this[_0x3b2fd8(0x5ea)][_0x3b2fd8(0x485)]=!0x0,this[_0x3b2fd8(0x5ea)]['srcObject']=this[_0x3b2fd8(0x547)],this[_0x3b2fd8(0x5ea)][_0x3b2fd8(0x24f)](),this[_0x3b2fd8(0x5ea)]['onloadeddata']=()=>{this['sourceVideo']['play']();},this[_0x3b2fd8(0x3d9)]=document['createElement'](_0x3b2fd8(0x3d9)),this[_0x3b2fd8(0x1ea)]=this['canvas']['getContext']('2d'),this['mediaStream']=this['canvas'][_0x3b2fd8(0x326)](_0x13fe1e),this[_0x3b2fd8(0x3eb)]=this[_0x3b2fd8(0x36f)]['createMediaStreamDestination'](),this[_0x3b2fd8(0x547)]['getAudioTracks']()[_0x3b2fd8(0x42e)]>0x0){const _0x3e52c2=this[_0x3b2fd8(0x547)]['getAudioTracks']()[0x0];this['audioSource']=this[_0x3b2fd8(0x36f)]['createMediaStreamSource'](new MediaStream([_0x3e52c2])),this['audioSource'][_0x3b2fd8(0x2ad)](this[_0x3b2fd8(0x3eb)]);}const _0x204a2b=this[_0x3b2fd8(0x3eb)][_0x3b2fd8(0x45c)]['getTracks']()[0x0];this[_0x3b2fd8(0x280)][_0x3b2fd8(0x4fd)](_0x204a2b),this[_0x3b2fd8(0x9d)]=setInterval(()=>{const _0x59885b=_0x3b2fd8;this['canvas'][_0x59885b(0x31e)]=this[_0x59885b(0x5ea)][_0x59885b(0x216)],this[_0x59885b(0x3d9)][_0x59885b(0x1d4)]=this[_0x59885b(0x5ea)][_0x59885b(0x265)],this[_0x59885b(0x5ea)][_0x59885b(0x216)]?(0x0!==this['clientStream'][_0x59885b(0x5a4)]()[_0x59885b(0x42e)]&&this[_0x59885b(0x547)][_0x59885b(0x5a4)]()[0x0][_0x59885b(0x395)]?this['mediaStream']['getVideoTracks']()[0x0][_0x59885b(0x395)]=!0x0:this[_0x59885b(0x280)][_0x59885b(0x5a4)]()[0x0][_0x59885b(0x395)]=!0x1,0x0!==this[_0x59885b(0x547)][_0x59885b(0x5fe)]()[_0x59885b(0x42e)]&&this[_0x59885b(0x547)][_0x59885b(0x5fe)]()[0x0][_0x59885b(0x395)]?this[_0x59885b(0x280)]['getAudioTracks']()[0x0][_0x59885b(0x395)]=!0x0:this[_0x59885b(0x280)][_0x59885b(0x5fe)]()[0x0][_0x59885b(0x395)]=!0x1,this['context'][_0x59885b(0x4af)](this[_0x59885b(0x5ea)],0x0,0x0)):this[_0x59885b(0x1ea)][_0x59885b(0x24c)](0x0,0x0,this[_0x59885b(0x3d9)][_0x59885b(0x31e)],this[_0x59885b(0x3d9)][_0x59885b(0x1d4)]);},0x3e8/_0x13fe1e);}[_0x397592(0x2a6)](){const _0x32d015=_0x397592;clearInterval(this['interval']),this[_0x32d015(0x5ea)][_0x32d015(0x453)](),this[_0x32d015(0x3d9)][_0x32d015(0x453)](),this[_0x32d015(0x538)]?.[_0x32d015(0x5f3)](),this[_0x32d015(0x3eb)][_0x32d015(0x5f3)](),this[_0x32d015(0x280)]['getTracks']()['forEach'](_0x52df4a=>{const _0x5e0b69=_0x32d015;_0x52df4a[_0x5e0b69(0x4ef)](),this[_0x5e0b69(0x280)][_0x5e0b69(0x618)](_0x52df4a);}),super['destroy']();}[_0x397592(0x4fd)](_0x8f6487){const _0x545088=_0x397592,_0x14686e=this[_0x545088(0x15b)](_0x8f6487[_0x545088(0x5bc)]);_0x14686e&&this['removeTrack'](_0x14686e),_0x545088(0x194)!==_0x8f6487[_0x545088(0x5bc)]?('video'===_0x8f6487[_0x545088(0x5bc)]&&this['addVideoTrack'](_0x8f6487),this[_0x545088(0x151)](_0x8f6487)):this[_0x545088(0x1ba)](_0x8f6487);}[_0x397592(0x618)](_0x9b9f2){const _0x46ec26=_0x397592,_0x46274b=this['getTrackFromParam'](_0x9b9f2);return _0x46274b&&('audio'===_0x46274b['kind']&&(this['audioSource']?.[_0x46ec26(0x5f3)](),this[_0x46ec26(0x538)]=void 0x0),this[_0x46ec26(0x5de)][_0x46ec26(0x5e6)](_0x46274b[_0x46ec26(0x5bc)])?.(),this['clientStream'][_0x46ec26(0x618)](_0x46274b)),_0x46274b;}['replaceTrack'](_0x1451c4){const _0x5de81a=_0x397592;this[_0x5de81a(0x618)](_0x1451c4['kind']),this[_0x5de81a(0x4fd)](_0x1451c4);}[_0x397592(0x58f)](_0x4930c3){this['transformations']=_0x4930c3;}[_0x397592(0x15b)](_0x5eb17f){const _0x20fc91=_0x397592;return this[_0x20fc91(0x547)][_0x20fc91(0x619)]()[_0x20fc91(0x13c)](_0x5b9509=>_0x5b9509[_0x20fc91(0x5bc)]===_0x5eb17f)||null;}['getTrackFromParam'](_0x4bc132){const _0x588079=_0x397592;return _0x588079(0x42a)==typeof _0x4bc132?this[_0x588079(0x15b)](_0x4bc132):_0x4bc132;}[_0x397592(0x1ba)](_0x58f166){const _0x3ea9cd=_0x397592;_0x3ea9cd(0x59c)===this[_0x3ea9cd(0x36f)][_0x3ea9cd(0x342)]&&this['audioContext'][_0x3ea9cd(0x542)](),this[_0x3ea9cd(0x547)]['addTrack'](_0x58f166),this[_0x3ea9cd(0x538)]=this['audioContext'][_0x3ea9cd(0x5c4)](this[_0x3ea9cd(0x547)]),this[_0x3ea9cd(0x538)][_0x3ea9cd(0x2ad)](this[_0x3ea9cd(0x3eb)]);}['addVideoTrack'](_0x3aa9d7){const _0xc56033=_0x397592;this[_0xc56033(0x547)][_0xc56033(0x4fd)](_0x3aa9d7),this[_0xc56033(0x5ea)][_0xc56033(0x24f)]();}}class _0x3b3150 extends _0xcee01a{}class _0x2d849b extends _0x243587{[_0x397592(0x640)];['clusterId'];[_0x397592(0x3ba)]=new Map();['debounceStats'];constructor(_0x1eb199,_0x3005fa,_0x4aee76){const _0x298e58=_0x397592;if(_0x298e58(0x42a)!=typeof _0x3005fa)throw new _0x24c29d(_0x1e3f38['PubSubTopicNameNotString'],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x1eb199,_0x3005fa),this[_0x298e58(0x640)]=_0x1eb199,this[_0x298e58(0xad)]=_0x4aee76,this[_0x298e58(0x1c9)]();}[_0x397592(0x23e)](){this['sendStats']();}[_0x397592(0x4ad)](){return _0x25e642['ContentType']['PubSub'];}[_0x397592(0x16f)](_0x2f0c86,_0x2afcb0){const _0x4102ac=_0x397592;_0x29f8ca[_0x4102ac(0x298)](_0x27bb8f['PubSub'],_0x4102ac(0x22a),this[_0x4102ac(0x640)]['getId'](),_0x2f0c86,_0x2afcb0),_0x29f8ca[_0x4102ac(0x233)](_0x437522[_0x4102ac(0x139)],{'type':_0x4102ac(0x16f),'label':this[_0x4102ac(0x290)],'nodeId':this[_0x4102ac(0x640)]['getId'](),'nodeType':this[_0x4102ac(0x640)][_0x4102ac(0x1c2)],'clusterId':this[_0x4102ac(0xad)],'remoteIds':_0x2afcb0??[],'contentType':_0x2f0c86 instanceof File?_0x25e642[_0x4102ac(0x20d)][_0x4102ac(0x19c)]:_0x25e642['ContentType'][_0x4102ac(0x508)],'size':_0x2f0c86 instanceof File?_0x2f0c86['size']:JSON[_0x4102ac(0x2f9)](_0x2f0c86)[_0x4102ac(0x42e)]}),this[_0x4102ac(0x1c9)](),this[_0x4102ac(0x301)](_0x2f0c86,_0x2afcb0);}[_0x397592(0xda)](_0x24b2de,_0x4e5914){const _0x8aa7d7=_0x397592;if(this['unsubscribeHandler'][_0x8aa7d7(0x1ac)](_0x24b2de))throw new _0x24c29d(_0x1e3f38[_0x8aa7d7(0x51f)],_0x8aa7d7(0x488));this[_0x8aa7d7(0x3ba)][_0x8aa7d7(0x42c)](_0x24b2de,this[_0x8aa7d7(0xbc)]((_0x3ba8df,_0x5bb96d)=>{const _0x2848fb=_0x8aa7d7;_0x2848fb(0x476)===_0x24b2de&&_0x5bb96d instanceof File||!('file'!==_0x24b2de||_0x5bb96d instanceof File)||(_0x29f8ca['log'](_0x27bb8f[_0x2848fb(0x139)],_0x2848fb(0x4cb),this['localNode']['getId'](),_0x3ba8df,_0x5bb96d),_0x29f8ca[_0x2848fb(0x233)](_0x437522['PubSub'],{'type':_0x2848fb(0xda),'label':this[_0x2848fb(0x290)],'nodeId':this['localNode'][_0x2848fb(0x130)](),'nodeType':this[_0x2848fb(0x640)][_0x2848fb(0x1c2)],'clusterId':this[_0x2848fb(0xad)],'remoteId':_0x3ba8df,'contentType':_0x24b2de,'size':_0x5bb96d instanceof File?_0x5bb96d[_0x2848fb(0x37e)]:JSON[_0x2848fb(0x2f9)](_0x5bb96d)['length']}),this[_0x2848fb(0x1c9)](),_0x4e5914(_0x3ba8df,_0x5bb96d));}));}[_0x397592(0x238)](_0x45c80d){const _0x39320f=_0x397592;this[_0x39320f(0x3ba)][_0x39320f(0x5e6)](_0x45c80d)?.(),this['unsubscribeHandler'][_0x39320f(0x457)](_0x45c80d);}[_0x397592(0x2a6)](){const _0x386809=_0x397592;this['unsubscribeHandler'][_0x386809(0x633)](_0x439eb7=>_0x439eb7()),clearTimeout(this[_0x386809(0x2db)]),delete this[_0x386809(0x2db)],super['destroy']();}[_0x397592(0x9e)](){const _0x3bb1cd=_0x397592;this[_0x3bb1cd(0x4f8)]?.[_0x3bb1cd(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x3bb1cd(0x346)],'content':{'type':_0x566301[_0x3bb1cd(0x19f)],'label':this[_0x3bb1cd(0x290)]}});}[_0x397592(0x1c9)](){const _0xc31b61=_0x397592;this[_0xc31b61(0x2db)]&&clearTimeout(this['debounceStats']),this[_0xc31b61(0x2db)]=setTimeout(()=>{const _0x43effc=_0xc31b61;this[_0x43effc(0x4f8)]?.['publish']({'sourceId':_0x5ef92f,'messageType':_0x542695['Content'],'content':{'type':_0x566301['PubSubTopicStats'],'label':this[_0x43effc(0x290)],'stats':{'timestamp':Date[_0x43effc(0x2fd)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x43effc(0x594)],'bytesSent':this[_0x43effc(0x605)],'bytesReceived':this[_0x43effc(0x26a)],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x31e3d5 extends _0x14f534{[_0x397592(0x640)];[_0x397592(0x3e3)];[_0x397592(0x5e9)];[_0x397592(0xad)];[_0x397592(0x3ba)];[_0x397592(0x5fb)];[_0x397592(0x124)];[_0x397592(0x223)]=new Map();['renderElement'];[_0x397592(0x123)]=new Set();[_0x397592(0x371)];[_0x397592(0x43a)]=_0x19e3ff();[_0x397592(0x5de)]=new Map();constructor(_0x215f4c,_0x3c7258,_0x4a184d,_0x4f6a67,_0x569a1e,_0x182930){const _0xcc038d=_0x397592;super(_0x3c7258,_0x4a184d,new MediaStream()),this[_0xcc038d(0x640)]=_0x215f4c,this['internalId']=_0x4f6a67,this[_0xcc038d(0x5e9)]=_0x569a1e,this[_0xcc038d(0xad)]=_0x182930,this[_0xcc038d(0x280)][_0xcc038d(0x619)]()[_0xcc038d(0x633)](_0x4e500d=>this[_0xcc038d(0x151)](_0x4e500d));}[_0x397592(0x2a6)](){const _0x359b3b=_0x397592;this['outgoingStreams'][_0x359b3b(0x37e)]>0x0&&(this['outgoingStreams'][_0x359b3b(0x633)](_0x4a5133=>{const _0x1fb42f=_0x359b3b;_0x4a5133[_0x1fb42f(0xd0)](),_0x4a5133[_0x1fb42f(0x2a6)]();}),this['outgoingStreams'][_0x359b3b(0x562)]()),this[_0x359b3b(0x5de)][_0x359b3b(0x633)](_0x2e1ec7=>_0x2e1ec7()),this[_0x359b3b(0x280)]['getTracks']()['forEach'](_0x3c2c3f=>this[_0x359b3b(0x280)][_0x359b3b(0x618)](_0x3c2c3f)),this[_0x359b3b(0x124)]&&(clearTimeout(this['updateDebounce']),delete this[_0x359b3b(0x124)]),this['resizeHandler']?.(),super[_0x359b3b(0x2a6)]();}[_0x397592(0x18c)](_0x7f8944){const _0x589402=_0x397592;this['unsubscribeHandler']=_0x7f8944[_0x589402(0xda)](({content:_0x139572})=>{const _0x42a911=_0x589402;switch(_0x139572[_0x42a911(0x1c8)]){case _0x3bbf02['RemoteAdd']:if(_0x29f8ca[_0x42a911(0x298)](_0x27bb8f['Subscription'],_0x42a911(0x479),this['localNode'][_0x42a911(0x130)](),this[_0x42a911(0x371)]),_0x139572[_0x42a911(0x45c)]['id']!==this['internalId']||_0x139572[_0x42a911(0x371)]!==this[_0x42a911(0x371)])return;this[_0x42a911(0x618)](_0x139572['track'][_0x42a911(0x5bc)]),this[_0x42a911(0x280)][_0x42a911(0x4fd)](_0x139572['track']);for(const [_0x57ff71,_0x15a465]of this['outgoingStreams'][_0x42a911(0x1e0)]())try{_0x15a465[_0x42a911(0x4fd)](_0x139572[_0x42a911(0x515)]);}catch(_0x3c1319){_0x15a465[_0x42a911(0x2a6)](),this['outgoingStreams']['delete'](_0x57ff71);}this[_0x42a911(0x151)](_0x139572[_0x42a911(0x515)]),this[_0x42a911(0x116)](),_0x42a911(0xaf)===_0x139572[_0x42a911(0x515)][_0x42a911(0x5bc)]&&this[_0x42a911(0x2a2)]&&(this[_0x42a911(0x280)][_0x42a911(0x379)]?setTimeout(()=>this[_0x42a911(0x2a2)]?.[_0x42a911(0x137)](),0x0):setTimeout(()=>this[_0x42a911(0x2a2)]?.[_0x42a911(0x24f)](),0x0),this['setupResizeHandler']());break;case _0x3bbf02[_0x42a911(0x1d8)]:if(_0x139572[_0x42a911(0x45c)]['id']!==this['internalId']||_0x139572[_0x42a911(0x371)]!==this[_0x42a911(0x371)])return;this['removeTrack'](_0x139572[_0x42a911(0x515)]['kind']),this['renderElement']&&_0x42a911(0xaf)===_0x139572['track'][_0x42a911(0x5bc)]&&(this[_0x42a911(0x5fb)]?.(),this['mediaStream'][_0x42a911(0x619)]()['length']>0x0?this[_0x42a911(0x2a2)][_0x42a911(0x24f)]():this[_0x42a911(0x2a2)]['srcObject']=null);}});}[_0x397592(0x34a)](){const _0x40a2b9=_0x397592;this[_0x40a2b9(0x3ba)]?.(),this[_0x40a2b9(0x5de)]['forEach'](_0x4199d5=>_0x4199d5()),delete this[_0x40a2b9(0x3ba)];}[_0x397592(0x217)](){return this['internalId'];}[_0x397592(0x2b2)](_0x4fdfd3){const _0x38da62=_0x397592;this[_0x38da62(0x3e3)]=_0x4fdfd3;}[_0x397592(0x635)](){const _0x38e3fd=_0x397592;return this[_0x38e3fd(0x5e9)];}[_0x397592(0x5b9)](_0x2c9d0d){const _0x1bf7c0=_0x397592;for(const _0x3ff97d of _0x2c9d0d||this[_0x1bf7c0(0x5e9)])if(!this[_0x1bf7c0(0x280)][_0x1bf7c0(0x619)]()['find'](_0x3174e7=>_0x3174e7[_0x1bf7c0(0x5bc)]===_0x3ff97d))return!0x1;return!0x0;}[_0x397592(0x324)](){const _0x383942=_0x397592;let _0x5414da={'width':0x0,'height':0x0};const _0x324004=this[_0x383942(0x280)][_0x383942(0x5a4)]();if(_0x324004[_0x383942(0x42e)]>0x0){const _0x2ea805=_0x324004[0x0]['getSettings']();_0x2ea805[_0x383942(0x31e)]&&_0x2ea805[_0x383942(0x1d4)]&&(_0x5414da={'width':_0x2ea805[_0x383942(0x31e)],'height':_0x2ea805[_0x383942(0x1d4)]});}return _0x5414da;}[_0x397592(0x5f4)](_0x430f57){const _0x377427=_0x397592;for(const _0x411f48 of _0x430f57)if(!this[_0x377427(0x123)][_0x377427(0x1ac)](_0x411f48))return!0x1;return!0x0;}[_0x397592(0x563)](_0x354810,_0x46056b){const _0x288260=_0x397592;if(!this[_0x288260(0x223)][_0x288260(0x1ac)](_0x354810)){const _0x4dcbd8=new _0x42a67e(this[_0x288260(0x607)],this[_0x288260(0x290)],this[_0x288260(0x280)],_0x354810,_0x46056b),_0x156119=_0x4dcbd8[_0x288260(0x41e)](()=>{const _0x372c4f=_0x288260;_0x156119(),this['outgoingStreams'][_0x372c4f(0x5e6)](_0x354810)?.[_0x372c4f(0x2a6)](),this[_0x372c4f(0x223)]['delete'](_0x354810);});this[_0x288260(0x223)][_0x288260(0x42c)](_0x354810,_0x4dcbd8),_0x4dcbd8[_0x288260(0x2f1)](this[_0x288260(0x4f8)]);}return this[_0x288260(0x223)]['get'](_0x354810);}[_0x397592(0x62c)](){const _0x328379=_0x397592;return this[_0x328379(0x280)]['id'];}['getPriority'](){const _0x505765=_0x397592;return _0x25e642[_0x505765(0x449)][_0x505765(0x2aa)];}['getSubscribedTracks'](){const _0x6330cf=_0x397592;return Array['from'](this[_0x6330cf(0x123)]);}[_0x397592(0xda)](_0x1d8f47){const _0x1a56a3=_0x397592;let _0x495242=[];if(_0x1d8f47){_0x1a56a3(0x546)!=typeof _0x1d8f47[_0x1a56a3(0xaf)]||_0x1d8f47['video']['renderElement']instanceof HTMLVideoElement||!this[_0x1a56a3(0x2a2)]||(_0x1d8f47[_0x1a56a3(0xaf)]={'renderElement':this[_0x1a56a3(0x2a2)]});try{(0x0,_0x25e642['isValidMediaSubscriptionParams'])(_0x1d8f47);}catch(_0xf8d5dc){throw new _0x24c29d(_0x1e3f38['RemoteMediaStreamInvalidSubscriptionParams'],_0x1a56a3(0x109));}_0x1d8f47[_0x1a56a3(0xaf)]&&(_0x495242[_0x1a56a3(0x2d7)](_0x1a56a3(0xaf)),_0x1a56a3(0x574)!=typeof _0x1d8f47[_0x1a56a3(0xaf)]&&_0x1d8f47[_0x1a56a3(0xaf)][_0x1a56a3(0x2a2)]&&(this['renderElement']=_0x1d8f47[_0x1a56a3(0xaf)][_0x1a56a3(0x2a2)],_0x1d8f47[_0x1a56a3(0xaf)][_0x1a56a3(0x145)]||(_0x1d8f47[_0x1a56a3(0xaf)][_0x1a56a3(0x145)]={'width':this[_0x1a56a3(0x2a2)][_0x1a56a3(0x5e5)],'height':this[_0x1a56a3(0x2a2)]['clientHeight']}),delete _0x1d8f47[_0x1a56a3(0xaf)]['renderElement'])),_0x1d8f47['audio']&&_0x495242[_0x1a56a3(0x2d7)](_0x1a56a3(0x194));}else _0x495242=this[_0x1a56a3(0x635)]();this[_0x1a56a3(0x5f4)](_0x495242)||(_0x495242[_0x1a56a3(0x633)](_0x19e767=>this[_0x1a56a3(0x123)][_0x1a56a3(0x11f)](_0x19e767)),this[_0x1a56a3(0x4f8)][_0x1a56a3(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x1a56a3(0x346)],'content':{'type':_0x566301['SubscribeMediaStream'],'label':this[_0x1a56a3(0x290)],'ownerId':this[_0x1a56a3(0x607)][_0x1a56a3(0x130)](),'trackKinds':_0x495242,'params':_0x1d8f47}}),_0x29f8ca[_0x1a56a3(0x233)](_0x437522[_0x1a56a3(0x14f)],{'type':_0x1a56a3(0xda),'label':this[_0x1a56a3(0x290)],'nodeId':this[_0x1a56a3(0x640)]['getId'](),'nodeType':this[_0x1a56a3(0x640)][_0x1a56a3(0x1c2)],'clusterId':this[_0x1a56a3(0xad)],'sourceId':this['owner'][_0x1a56a3(0x130)](),'streamId':this[_0x1a56a3(0x3e3)],'trackKinds':_0x495242}));}[_0x397592(0x4ee)](_0x1fcb80){const _0x569698=_0x397592;try{(0x0,_0x25e642[_0x569698(0x168)])(_0x1fcb80);}catch(_0x547f86){throw new _0x24c29d(_0x1e3f38[_0x569698(0xf6)],_0x569698(0x109));}this['updateDebounce']&&clearTimeout(this['updateDebounce']),this[_0x569698(0x124)]=setTimeout(()=>{const _0x481f67=_0x569698;delete this[_0x481f67(0x124)],this[_0x481f67(0x4f8)][_0x481f67(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x481f67(0x346)],'content':{'type':_0x566301[_0x481f67(0x53b)],'label':this['label'],'ownerId':this[_0x481f67(0x607)][_0x481f67(0x130)](),'params':_0x1fcb80}});},0x1f4);}[_0x397592(0x238)](_0x231582){const _0x153852=_0x397592;_0x231582||(_0x231582=this[_0x153852(0x635)]()),(_0x231582=Array['isArray'](_0x231582)?_0x231582:[_0x231582])[_0x153852(0x633)](_0x2fb895=>this[_0x153852(0x123)][_0x153852(0x457)](_0x2fb895)),this[_0x153852(0x4f8)][_0x153852(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x153852(0x346)],'content':{'type':_0x566301[_0x153852(0x30b)],'label':this[_0x153852(0x290)],'ownerId':this[_0x153852(0x607)][_0x153852(0x130)](),'trackKinds':_0x231582,'remainingTracks':this['subscribedTracks']['size']}});}['onProviderChanged'](_0xd8b662){const _0x345a45=_0x397592;return this['providerListener'][_0x345a45(0xda)](_0xd8b662);}['getProviderId'](){const _0x350274=_0x397592;return this[_0x350274(0x371)];}[_0x397592(0x442)](_0x21b3b1){const _0x4e8d57=_0x397592;this[_0x4e8d57(0x371)]!==_0x21b3b1&&(this[_0x4e8d57(0x371)]=_0x21b3b1,this['providerListener'][_0x4e8d57(0x16f)](_0x21b3b1));}[_0x397592(0xe3)](_0x3813e6){const _0x5368e7=_0x397592;this[_0x5368e7(0x5de)][_0x5368e7(0x5e6)](_0x3813e6)?.(),this[_0x5368e7(0x5de)][_0x5368e7(0x457)](_0x3813e6);}[_0x397592(0x618)](_0x387534){const _0x5df62b=_0x397592,_0x17d091=this[_0x5df62b(0x280)][_0x5df62b(0x619)]()[_0x5df62b(0x13c)](_0x31e356=>_0x31e356[_0x5df62b(0x5bc)]===_0x387534);_0x17d091&&(this[_0x5df62b(0x280)][_0x5df62b(0x618)](_0x17d091),this[_0x5df62b(0x223)][_0x5df62b(0x633)](_0x43574f=>_0x43574f[_0x5df62b(0x618)](_0x387534)),this[_0x5df62b(0x5de)][_0x5df62b(0x5e6)](_0x387534)?.());}[_0x397592(0x116)](){const _0x417d8=_0x397592;this['renderElement']&&(this[_0x417d8(0x2a2)][_0x417d8(0x2e6)]&&this[_0x417d8(0x2a2)][_0x417d8(0x2e6)]===this[_0x417d8(0x280)]||(this[_0x417d8(0x2a2)][_0x417d8(0x2e6)]=this[_0x417d8(0x280)]));}[_0x397592(0x1bd)](){const _0x598886=_0x397592;if(this['renderElement']&&!this[_0x598886(0x5fb)]&&_0x598886(0x202)!=typeof ResizeObserver){let _0x38db53=this['renderElement']['clientWidth'],_0x3e96bc=this[_0x598886(0x2a2)][_0x598886(0x210)];const _0x48ff5c=new ResizeObserver(_0x41a1f5=>{const _0x330041=_0x598886,{width:_0x1f76cb,height:_0x83b36b}=_0x41a1f5[0x0][_0x330041(0x64c)];_0x38db53===_0x1f76cb&&_0x3e96bc===_0x83b36b||(_0x38db53=Math[_0x330041(0x4a7)](_0x1f76cb),_0x3e96bc=Math[_0x330041(0x4a7)](_0x83b36b),this[_0x330041(0x4ee)]({'video':{'maxResolution':{'width':_0x1f76cb,'height':_0x83b36b}}}));});_0x48ff5c[_0x598886(0x570)](this[_0x598886(0x2a2)]),this[_0x598886(0x5fb)]=()=>_0x48ff5c[_0x598886(0x5f3)]();}}[_0x397592(0x1c3)](_0x4d425a){const _0x4b13fb=_0x397592,_0x37487a=[];for(const _0x160be5 of this['subscribedTracks'])this[_0x4b13fb(0x618)](_0x160be5),_0x37487a[_0x4b13fb(0x2d7)](_0x160be5);this['providerId']&&this[_0x4b13fb(0x4f8)][_0x4b13fb(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x4b13fb(0x346)],'content':{'type':_0x566301[_0x4b13fb(0x24d)],'label':this['label'],'streamId':this['internalId'],'ownerId':this[_0x4b13fb(0x607)][_0x4b13fb(0x130)](),'providerId':this[_0x4b13fb(0x371)],'trackKinds':_0x37487a}});}[_0x397592(0x151)](_0x213923){const _0x1510bd=_0x397592,_0x47cb87=()=>this[_0x1510bd(0x1c3)](_0x213923);_0x213923[_0x1510bd(0x3f0)](_0x1510bd(0x2e5),_0x47cb87),_0x213923[_0x1510bd(0x3f0)](_0x1510bd(0x1ad),_0x47cb87),this[_0x1510bd(0x5de)][_0x1510bd(0x42c)](_0x213923[_0x1510bd(0x5bc)],()=>{const _0x3831c1=_0x1510bd;_0x213923['removeEventListener'](_0x3831c1(0x2e5),_0x47cb87),_0x213923[_0x3831c1(0x48c)]('mute',_0x47cb87),this[_0x3831c1(0x5de)]['delete'](_0x213923['kind']);});}}class _0x749eba{['id'];[_0x397592(0x163)];[_0x397592(0xb6)];constructor(_0x3d1fa9,_0x1b950e=new Set(),_0x2406a9){const _0x4aebb1=_0x397592;this['id']=_0x3d1fa9,this[_0x4aebb1(0x163)]=_0x1b950e,this[_0x4aebb1(0xb6)]=_0x2406a9;}[_0x397592(0x9e)](){const _0x2b099b=_0x397592;this['rank']=void 0x0,this[_0x2b099b(0x163)]['clear']();}['getId'](){return this['id'];}[_0x397592(0x4ac)](){const _0xf73e03=_0x397592;return this[_0xf73e03(0xb6)];}[_0x397592(0x51e)](){const _0x5db420=_0x397592;return this[_0x5db420(0x163)];}}class _0x3eef75 extends _0x749eba{['id'];[_0x397592(0xa0)];['email'];[_0x397592(0x163)];[_0x397592(0xb6)];['type']=_0x25e642[_0x397592(0xcc)]['User'];constructor(_0x25671e,_0x2651de,_0x5843c9,_0x1e9c49=new Set(),_0xc42d32){const _0x197d0a=_0x397592;super(_0x25671e,_0x1e9c49,_0xc42d32),this['id']=_0x25671e,this[_0x197d0a(0xa0)]=_0x2651de,this[_0x197d0a(0x388)]=_0x5843c9,this[_0x197d0a(0x163)]=_0x1e9c49,this[_0x197d0a(0xb6)]=_0xc42d32;}[_0x397592(0x517)](){return this['displayName'];}[_0x397592(0x4ed)](){return this['email'];}}class _0x3df669{[_0x397592(0x5f7)];[_0x397592(0xad)];[_0x397592(0x3c4)];constructor(_0x436a44,_0x2dab8f){const _0x3aab7d=_0x397592;this[_0x3aab7d(0x5f7)]=_0x436a44,this[_0x3aab7d(0xad)]=_0x2dab8f,this['clusterKey']=_0x3aab7d(0x519)+this[_0x3aab7d(0x5f7)]+_0x3aab7d(0x519)+this[_0x3aab7d(0xad)];}async['writeTransaction'](_0xa06ab2,_0x196a20,_0x1025f4){const _0x26d641=_0x397592;if(!0x1===(await(0x0,_0x320e38[_0x26d641(0x5e2)])((0x0,_0x320e38[_0x26d641(0x1fd)])(_0x180399[_0x26d641(0x274)](),_0x26d641(0x21d)+this['clusterKey']+'/objectstores/'+_0x196a20+_0x26d641(0x63d)),_0xcf6c2a=>{const _0x45e070=_0x26d641;if(!_0xcf6c2a)return _0xa06ab2['id'];if(_0xcf6c2a!==_0x1025f4)throw new _0x5efe70(_0x5efe70['codes'][_0x45e070(0x28d)]);return _0xa06ab2['id'];}))['committed'])throw new _0x5efe70(_0x5efe70[_0x26d641(0x50b)][_0x26d641(0x294)]);_0xa06ab2['parentId']||delete _0xa06ab2[_0x26d641(0x634)],await(0x0,_0x320e38[_0x26d641(0x42c)])((0x0,_0x320e38['ref'])(_0x180399[_0x26d641(0x274)](),_0x26d641(0x21d)+this[_0x26d641(0x3c4)]+'/objectstores/'+_0x196a20+_0x26d641(0xec)+_0xa06ab2['id']),_0xa06ab2);}async[_0x397592(0x3ae)](_0x5cd978,_0x2412b0){const _0x16e983=_0x397592;let _0xa72f0b=[];const _0x2081cd=await(0x0,_0x320e38[_0x16e983(0x5e6)])((0x0,_0x320e38[_0x16e983(0x1fd)])(_0x180399[_0x16e983(0x274)](),_0x16e983(0x21d)+this[_0x16e983(0x3c4)]+_0x16e983(0x131)+_0x5cd978+_0x16e983(0xcd)));if(!_0x2081cd[_0x16e983(0x43d)]())return _0xa72f0b;const _0x569650=_0x2081cd[_0x16e983(0x55d)]();_0xa72f0b=Object[_0x16e983(0xee)](_0x569650)['filter'](_0x314757=>_0x16e983(0x42a)!=typeof _0x314757);const _0x5f2623=[];let _0x3c4232=_0xa72f0b[_0x16e983(0x13c)](_0x3a6073=>_0x3a6073['parentId']===_0x2412b0);for(;_0x3c4232;)_0x5f2623[_0x16e983(0x2d7)](_0x3c4232),_0x3c4232=_0xa72f0b[_0x16e983(0x13c)](_0x3b5858=>_0x3b5858[_0x16e983(0x634)]===_0x3c4232['id']);return _0x5f2623;}}class _0x56d9bc{[_0x397592(0xbd)];['maxFps'];['audioContext'];[_0x397592(0x1b5)]=new Map();[_0x397592(0x175)]=new Map();[_0x397592(0x144)]=new Map();[_0x397592(0x292)]=new Map();[_0x397592(0x500)]=new Map();[_0x397592(0x496)];constructor(_0x23d75d,_0xc7dbc5,_0x465b31){const _0xb160d2=_0x397592;this['configs']=_0x23d75d,this[_0xb160d2(0x1a2)]=_0xc7dbc5,this[_0xb160d2(0x36f)]=_0x465b31,this[_0xb160d2(0x496)]=new _0x3df669(this[_0xb160d2(0xbd)][_0xb160d2(0x5f7)],this['configs'][_0xb160d2(0xad)]);}[_0x397592(0x9e)](_0x5f5730=!0x1){const _0x172f67=_0x397592;this['remoteMediaStreams'][_0x172f67(0x633)]((_0x1d45aa,_0x3d6a5d)=>{const _0x97575a=_0x172f67;_0x1d45aa[_0x97575a(0x633)]((_0x3358d8,_0x10a017)=>{this['removeRemoteMediaStream'](_0x3d6a5d,_0x10a017);});}),_0x5f5730||(this[_0x172f67(0x1b5)]['forEach']((_0x3d4941,_0x274f06)=>{const _0x4742f2=_0x172f67;this[_0x4742f2(0x5ca)](_0x274f06);}),this[_0x172f67(0x144)][_0x172f67(0x633)]((_0x4d684a,_0x4d43b6)=>{const _0xbb8216=_0x172f67;this[_0xbb8216(0x293)](_0x4d43b6);}),this[_0x172f67(0x292)][_0x172f67(0x633)]((_0x1e4366,_0x5c9a27)=>{const _0x118b91=_0x172f67;this[_0x118b91(0xa4)](_0x5c9a27);}),this['keyValueDatabases'][_0x172f67(0x633)]((_0x82a92c,_0x5b2c9b)=>{this['removeKeyValueDatabase'](_0x5b2c9b);}));}[_0x397592(0x430)](_0x2811b2,_0x30f8a9){const _0x547bc4=_0x397592;if(this[_0x547bc4(0x292)][_0x547bc4(0x1ac)](_0x2811b2))throw new _0x24c29d(_0x1e3f38['ObjectStoreAlreadyExists'],_0x547bc4(0x40b));const _0x28948b=new _0x2c37c1(this[_0x547bc4(0xbd)][_0x547bc4(0x640)],_0x2811b2,this[_0x547bc4(0xbd)][_0x547bc4(0xad)],this[_0x547bc4(0xbd)][_0x547bc4(0x5f7)],this[_0x547bc4(0x496)],_0x30f8a9);return this[_0x547bc4(0x292)][_0x547bc4(0x42c)](_0x2811b2,_0x28948b),this[_0x547bc4(0xbd)]['mediator'][_0x547bc4(0xa3)](_0x28948b),_0x28948b;}async[_0x397592(0x64b)](_0x1f9820,_0x2ab88a,_0x57c29c){const _0x56b7f6=_0x397592;if(this[_0x56b7f6(0x500)][_0x56b7f6(0x1ac)](_0x1f9820))throw new _0x24c29d(_0x1e3f38[_0x56b7f6(0x374)],_0x56b7f6(0x2c9));try{const _0xb51b83=new _0x51db06(this['configs']['localNode'],_0x1f9820,this[_0x56b7f6(0xbd)][_0x56b7f6(0xad)],this[_0x56b7f6(0xbd)][_0x56b7f6(0x5f7)],_0x2ab88a,_0x57c29c);return this[_0x56b7f6(0x500)]['set'](_0x1f9820,_0xb51b83),this['configs'][_0x56b7f6(0x411)][_0x56b7f6(0xa3)](_0xb51b83),_0xb51b83;}catch(_0x3213a5){if(_0x3213a5 instanceof _0x24c29d)throw _0x3213a5;throw console[_0x56b7f6(0xc3)]('Failed\x20to\x20create\x20key\x20value\x20database',_0x3213a5),new _0x5efe70(_0x5efe70['codes'][_0x56b7f6(0x4e2)],{'label':_0x1f9820,'clusterId':this[_0x56b7f6(0xbd)][_0x56b7f6(0xad)],'vendorId':this['configs'][_0x56b7f6(0x5f7)]});}}[_0x397592(0x141)](_0x80e968,_0x3ae725){const _0x2dd037=_0x397592;if(this[_0x2dd037(0x1b5)]['has'](_0x80e968))throw new _0x24c29d(_0x1e3f38[_0x2dd037(0x10c)],_0x2dd037(0x4b7));if(!this['audioContext'])throw new _0x24c29d(_0x1e3f38[_0x2dd037(0xaa)],_0x2dd037(0x36b));const _0x368671=new _0x462e97(this[_0x2dd037(0xbd)][_0x2dd037(0x640)],_0x80e968,_0x3ae725,this[_0x2dd037(0x1a2)],this[_0x2dd037(0x36f)],this[_0x2dd037(0xbd)][_0x2dd037(0xad)]);return this['localMediaStreams'][_0x2dd037(0x42c)](_0x80e968,_0x368671),this['configs'][_0x2dd037(0x411)]['registerSystemSource'](_0x368671),_0x368671[_0x2dd037(0x16f)](),_0x368671;}[_0x397592(0x35f)](_0xb2cb3e,_0x527afb){const _0x422e88=_0x397592;if(this['localMediaStreams'][_0x422e88(0x1ac)](_0xb2cb3e))throw new _0x24c29d(_0x1e3f38[_0x422e88(0x10c)],_0x422e88(0x2e3));const _0x2a64d5=new _0x3b3150(this[_0x422e88(0xbd)][_0x422e88(0x640)],_0xb2cb3e,_0x527afb,this[_0x422e88(0xbd)][_0x422e88(0xad)]);return this[_0x422e88(0x1b5)][_0x422e88(0x42c)](_0xb2cb3e,_0x2a64d5),this['configs']['mediator'][_0x422e88(0xa3)](_0x2a64d5),_0x2a64d5[_0x422e88(0x16f)](),_0x2a64d5;}[_0x397592(0xb4)](_0x119e2f){const _0x552f81=_0x397592;if(this[_0x552f81(0x144)]['has'](_0x119e2f))throw new _0x24c29d(_0x1e3f38[_0x552f81(0x12a)],_0x552f81(0xb0));const _0x1b8017=new _0x2d849b(this[_0x552f81(0xbd)][_0x552f81(0x640)],_0x119e2f,this[_0x552f81(0xbd)][_0x552f81(0xad)]);return this[_0x552f81(0x144)][_0x552f81(0x42c)](_0x119e2f,_0x1b8017),this[_0x552f81(0xbd)][_0x552f81(0x411)][_0x552f81(0xa3)](_0x1b8017),_0x1b8017;}[_0x397592(0x2b4)](_0x54b611,_0x291a0a,_0x3362e9,_0x712e98){const _0x3c8f8b=_0x397592;this['remoteMediaStreams'][_0x3c8f8b(0x1ac)](_0x54b611)||this[_0x3c8f8b(0x175)][_0x3c8f8b(0x42c)](_0x54b611,new Map());const _0x49dcf1=this[_0x3c8f8b(0x175)][_0x3c8f8b(0x5e6)](_0x54b611);if(_0x49dcf1['has'](_0x291a0a))throw new _0x24c29d(_0x1e3f38[_0x3c8f8b(0x37f)],_0x3c8f8b(0x5dc));const _0x58c846=new _0x3eef75(_0x54b611,'',''),_0x526b94=new _0x31e3d5(this['configs'][_0x3c8f8b(0x640)],_0x58c846,_0x291a0a,_0x3362e9,_0x712e98,this[_0x3c8f8b(0xbd)][_0x3c8f8b(0xad)]);return _0x49dcf1['set'](_0x291a0a,_0x526b94),this[_0x3c8f8b(0xbd)][_0x3c8f8b(0x411)][_0x3c8f8b(0xa3)](_0x526b94),_0x526b94;}['getObjectStoreBuckets'](_0x54c0fb){const _0x3ca11c=_0x397592,_0x433a3b=Array['from'](this['objectStores'][_0x3ca11c(0xee)]());return _0x54c0fb?_0x433a3b[_0x3ca11c(0x602)](_0x54c0fb):_0x433a3b;}[_0x397592(0x40a)](_0x4dc090){const _0x4e8fc6=_0x397592,_0x10ba09=Array[_0x4e8fc6(0x1ec)](this[_0x4e8fc6(0x500)][_0x4e8fc6(0xee)]());return _0x4dc090?_0x10ba09[_0x4e8fc6(0x602)](_0x4dc090):_0x10ba09;}[_0x397592(0x19e)](_0x4184eb){const _0x288855=_0x397592,_0x1ab6e8=Array[_0x288855(0x1ec)](this[_0x288855(0x1b5)][_0x288855(0xee)]());return _0x4184eb?_0x1ab6e8[_0x288855(0x602)](_0x4184eb):_0x1ab6e8;}[_0x397592(0x49a)](_0x55af35){const _0x271cd0=_0x397592,_0x4a3302=Array['from'](this['pubSubTopics'][_0x271cd0(0xee)]());return _0x55af35?_0x4a3302[_0x271cd0(0x602)](_0x55af35):_0x4a3302;}['getRemoteMediaStreams'](_0x511bad){const _0x56127c=_0x397592,_0x477c03=Array['from'](this[_0x56127c(0x175)][_0x56127c(0xee)]())[_0x56127c(0x29d)]((_0x4f66dc,_0x290705)=>[..._0x4f66dc,...Array['from'](_0x290705[_0x56127c(0xee)]())],[]);return _0x511bad?_0x477c03['filter'](_0x511bad):_0x477c03;}[_0x397592(0x418)](_0x36fa1c){const _0x103695=_0x397592;switch(_0x36fa1c[_0x103695(0x512)][_0x103695(0x1c2)]){case _0x566301[_0x103695(0x299)]:this[_0x103695(0x29c)](_0x36fa1c[_0x103695(0x512)]);break;case _0x566301['UnpublishMediaStream']:this[_0x103695(0x2a3)](_0x36fa1c[_0x103695(0x512)]);break;case _0x566301[_0x103695(0x4d8)]:this[_0x103695(0x509)](_0x36fa1c[_0x103695(0x512)]);break;case _0x566301[_0x103695(0x19f)]:this[_0x103695(0x45b)](_0x36fa1c[_0x103695(0x512)]);break;case _0x566301['CloseObjectStoreBucket']:this[_0x103695(0x229)](_0x36fa1c[_0x103695(0x512)]);break;case _0x566301[_0x103695(0xdb)]:this[_0x103695(0x425)](_0x36fa1c['content']);break;case _0x566301[_0x103695(0x30b)]:this[_0x103695(0x5c1)](_0x36fa1c['content']);break;case _0x566301[_0x103695(0x566)]:this[_0x103695(0x500)][_0x103695(0x5e6)](_0x36fa1c[_0x103695(0x512)]['label'])?.[_0x103695(0x5a9)](_0x36fa1c[_0x103695(0x108)]);break;case _0x566301[_0x103695(0x96)]:this['keyValueDatabases']['get'](_0x36fa1c['content']['label'])?.[_0x103695(0x62a)](_0x36fa1c[_0x103695(0x108)],_0x36fa1c[_0x103695(0x512)][_0x103695(0x2fe)]);break;case _0x566301[_0x103695(0x16b)]:this[_0x103695(0x500)]['get'](_0x36fa1c[_0x103695(0x512)]['label'])?.[_0x103695(0x2e9)](_0x36fa1c[_0x103695(0x108)],_0x36fa1c[_0x103695(0x512)]['transactionIds']);break;case _0x566301[_0x103695(0x97)]:this[_0x103695(0xbd)][_0x103695(0x411)][_0x103695(0x402)](_0x103695(0x122),{'label':_0x36fa1c[_0x103695(0x512)]['label'],'trackKinds':_0x36fa1c[_0x103695(0x512)]['trackKinds']});}}['handleNodeSystemEvents']({content:_0x137b15}){const _0x400a34=_0x397592;switch(_0x137b15[_0x400a34(0x1c2)]){case _0x107aa0[_0x400a34(0x1f4)]:this['handleNodeJoinNeedPublishedStream'](_0x137b15),this[_0x400a34(0x599)](_0x137b15);break;case _0x107aa0['NodeLeave']:this[_0x400a34(0x368)](_0x137b15),this[_0x400a34(0x426)](_0x137b15);}}[_0x397592(0x460)](_0x5adcff){const _0x2f1a38=_0x397592;switch(_0x5adcff[_0x2f1a38(0x512)][_0x2f1a38(0x1c2)]){case _0x300949['SubscribeMediaStream']:this[_0x2f1a38(0x5d5)](_0x5adcff[_0x2f1a38(0x108)],_0x5adcff['content']);break;case _0x300949['UpdateMediaStream']:this['handleUpdateMediaStream'](_0x5adcff[_0x2f1a38(0x108)],_0x5adcff['content']);break;case _0x300949[_0x2f1a38(0x30b)]:this['handleUnsubscribeMediaStream'](_0x5adcff[_0x2f1a38(0x108)],_0x5adcff['content']);}}[_0x397592(0x5c1)](_0xd15b66){const _0x25d245=_0x397592;if(0x0===_0xd15b66[_0x25d245(0x1c4)])this['remoteMediaStreams'][_0x25d245(0x5e6)](_0xd15b66[_0x25d245(0x4fb)])?.[_0x25d245(0x5e6)](_0xd15b66[_0x25d245(0x290)])?.[_0x25d245(0x2a6)]();else{const _0xf3e307=this[_0x25d245(0x175)]['get'](_0xd15b66['ownerId'])?.['get'](_0xd15b66[_0x25d245(0x290)]);if(!_0xf3e307)return;_0xd15b66[_0x25d245(0x158)][_0x25d245(0x633)](_0x41285e=>_0xf3e307[_0x25d245(0xe3)](_0x41285e));}}[_0x397592(0x29c)](_0x41ddba){const _0x472377=_0x397592,{label:_0x2e8461,ownerId:_0x551131,stream:{streamId:_0x3a4a54,availableTrackKinds:_0x5804dd}}=_0x41ddba;if(this['remoteMediaStreams'][_0x472377(0x5e6)](_0x551131)?.[_0x472377(0x1ac)](_0x2e8461))return void _0x29f8ca[_0x472377(0x298)](_0x27bb8f['Content'],_0x472377(0x2e3),_0x3a4a54);const _0x4af5e7=this[_0x472377(0x2b4)](_0x551131,_0x2e8461,_0x3a4a54,_0x5804dd);this[_0x472377(0xbd)][_0x472377(0x411)][_0x472377(0x402)](_0x472377(0x232),{'ownerId':_0x551131,'stream':_0x4af5e7});}[_0x397592(0x2a3)]({ownerId:_0x15cdcb,label:_0x4d349a}){const _0x5b965f=_0x397592;this[_0x5b965f(0x523)](_0x15cdcb,_0x4d349a),this[_0x5b965f(0xbd)][_0x5b965f(0x411)][_0x5b965f(0x402)](_0x5b965f(0x5c2),{'ownerId':_0x15cdcb,'label':_0x4d349a});}[_0x397592(0x509)](_0xde6da0){const _0x5e2a7e=_0x397592;this[_0x5e2a7e(0x5ca)](_0xde6da0['label']);}[_0x397592(0x229)](_0x4329b2){const _0x33ed31=_0x397592;this[_0x33ed31(0xa4)](_0x4329b2[_0x33ed31(0x290)]);}[_0x397592(0x45b)](_0x46a7ed){const _0x32bafb=_0x397592;this[_0x32bafb(0x293)](_0x46a7ed[_0x32bafb(0x290)]);}[_0x397592(0x425)](_0x12db68){const _0x5458dd=_0x397592;this[_0x5458dd(0x353)](_0x12db68[_0x5458dd(0x290)]);}[_0x397592(0x5d5)](_0x4217b8,_0x47bfc9){const _0x56967b=_0x397592,{ownerId:_0x241e15,label:_0xbb5240}=_0x47bfc9;let _0x2c6a1e;_0x2c6a1e=_0x241e15!==this['configs'][_0x56967b(0x640)][_0x56967b(0x130)]()?this['remoteMediaStreams']['get'](_0x241e15)['get'](_0xbb5240):this[_0x56967b(0x1b5)][_0x56967b(0x5e6)](_0xbb5240),_0x2c6a1e[_0x56967b(0x563)](_0x4217b8,_0x47bfc9[_0x56967b(0x528)])[_0x56967b(0xda)](_0x47bfc9,_0x2c6a1e['getPriority']());}[_0x397592(0x55c)](_0x2795ba,_0x53c716){const _0x16d37c=_0x397592,{ownerId:_0x13bc01,label:_0x50206b}=_0x53c716;let _0x3d56ec;_0x3d56ec=_0x13bc01!==this[_0x16d37c(0xbd)][_0x16d37c(0x640)][_0x16d37c(0x130)]()?this[_0x16d37c(0x175)][_0x16d37c(0x5e6)](_0x13bc01)[_0x16d37c(0x5e6)](_0x50206b):this[_0x16d37c(0x1b5)]['get'](_0x50206b),_0x3d56ec[_0x16d37c(0x563)](_0x2795ba,_0x53c716[_0x16d37c(0x528)])[_0x16d37c(0x4ee)](_0x53c716);}['handleUnsubscribeMediaStream'](_0x2d74d8,_0x34e5b4){const _0xb90b5a=_0x397592,{ownerId:_0x458cfc,label:_0x3089e2}=_0x34e5b4;let _0x176008;_0x176008=_0x458cfc!==this[_0xb90b5a(0xbd)][_0xb90b5a(0x640)][_0xb90b5a(0x130)]()?this[_0xb90b5a(0x175)]['get'](_0x458cfc)[_0xb90b5a(0x5e6)](_0x3089e2):this[_0xb90b5a(0x1b5)][_0xb90b5a(0x5e6)](_0x3089e2),_0x176008[_0xb90b5a(0x563)](_0x2d74d8)[_0xb90b5a(0x238)](_0x34e5b4);}[_0x397592(0x46b)]({id:_0x3add0e}){const _0xb27095=_0x397592;this[_0xb27095(0x19e)]()[_0xb27095(0x633)](_0x2e9b27=>{const _0x5248b0=_0xb27095;_0x2e9b27[_0x5248b0(0x16f)](_0x3add0e);});}[_0x397592(0x368)]({id:_0x3236c5}){const _0x47a416=_0x397592;this['getRemoteMediaStreams'](_0x32d027=>_0x32d027[_0x47a416(0x24e)]()===_0x3236c5)['forEach'](_0x10d748=>{const _0xd93d52=_0x47a416;this[_0xd93d52(0x523)](_0x10d748[_0xd93d52(0x24e)](),_0x10d748['getLabel']());});}['notifyObjectStoreOfNodeJoin']({id:_0x9d999d}){const _0xdb52e8=_0x397592;this[_0xdb52e8(0x292)]['forEach'](_0x34f6a4=>_0x34f6a4['handleNodeJoin'](_0x9d999d));}['notifyObjectStoreOfNodeLeave']({id:_0x24cd5d}){const _0x509536=_0x397592;this[_0x509536(0x292)]['forEach'](_0x29c673=>_0x29c673[_0x509536(0x368)](_0x24cd5d));}[_0x397592(0xa4)](_0x3dea27){const _0x191787=_0x397592;if(!this['objectStores'][_0x191787(0x1ac)](_0x3dea27))throw new _0x24c29d(_0x1e3f38['ObjectStoreDoesNotExist'],'Stream\x20does\x20not\x20exist');const _0x302cb4=this[_0x191787(0x292)][_0x191787(0x5e6)](_0x3dea27);this[_0x191787(0x292)][_0x191787(0x457)](_0x3dea27),_0x302cb4[_0x191787(0x2a6)](),this[_0x191787(0xbd)]['mediator'][_0x191787(0x1d1)](_0x302cb4);}[_0x397592(0x293)](_0x9a7530){const _0x4fbce7=_0x397592;if(!this[_0x4fbce7(0x144)][_0x4fbce7(0x1ac)](_0x9a7530))throw new _0x24c29d(_0x1e3f38[_0x4fbce7(0x614)],_0x4fbce7(0x119));const _0x266fde=this[_0x4fbce7(0x144)][_0x4fbce7(0x5e6)](_0x9a7530);this[_0x4fbce7(0x144)][_0x4fbce7(0x457)](_0x9a7530),_0x266fde[_0x4fbce7(0x2a6)](),this[_0x4fbce7(0xbd)][_0x4fbce7(0x411)][_0x4fbce7(0x1d1)](_0x266fde);}['removeKeyValueDatabase'](_0x35a230){const _0x3041e2=_0x397592;if(!this[_0x3041e2(0x500)][_0x3041e2(0x1ac)](_0x35a230))throw new _0x24c29d(_0x1e3f38['KeyValueDatabaseDoesNotExist'],_0x3041e2(0x284));const _0x18ffe9=this[_0x3041e2(0x500)][_0x3041e2(0x5e6)](_0x35a230);this['keyValueDatabases'][_0x3041e2(0x457)](_0x35a230),_0x18ffe9['destroy'](),this[_0x3041e2(0xbd)][_0x3041e2(0x411)][_0x3041e2(0x1d1)](_0x18ffe9);}[_0x397592(0x5ca)](_0xce7215){const _0x1ab7f5=_0x397592;if(!this['localMediaStreams'][_0x1ab7f5(0x1ac)](_0xce7215))throw new _0x5efe70(_0x5efe70[_0x1ab7f5(0x50b)][_0x1ab7f5(0x405)],{'label':_0xce7215,'localId':this[_0x1ab7f5(0xbd)][_0x1ab7f5(0x640)][_0x1ab7f5(0x130)]()});const _0x53c837=this[_0x1ab7f5(0x1b5)][_0x1ab7f5(0x5e6)](_0xce7215);this['configs'][_0x1ab7f5(0x411)][_0x1ab7f5(0x1d1)](_0x53c837),_0x53c837[_0x1ab7f5(0x2a6)](),this['localMediaStreams'][_0x1ab7f5(0x457)](_0xce7215);}[_0x397592(0x523)](_0x4ca65a,_0x651096){const _0x25e3d6=_0x397592;if(!this['remoteMediaStreams'][_0x25e3d6(0x1ac)](_0x4ca65a))throw new _0x5efe70(_0x5efe70['codes']['NodeDoesNotExist'],{'nodeId':_0x4ca65a,'localId':this[_0x25e3d6(0xbd)][_0x25e3d6(0x640)][_0x25e3d6(0x130)]()});const _0x44a536=this[_0x25e3d6(0x175)][_0x25e3d6(0x5e6)](_0x4ca65a);if(!_0x44a536[_0x25e3d6(0x1ac)](_0x651096))throw new _0x5efe70(_0x5efe70[_0x25e3d6(0x50b)][_0x25e3d6(0x389)],{'nodeId':_0x4ca65a,'label':_0x651096,'localId':this['configs'][_0x25e3d6(0x640)][_0x25e3d6(0x130)]()});const _0x53094d=_0x44a536[_0x25e3d6(0x5e6)](_0x651096);this['configs'][_0x25e3d6(0x411)][_0x25e3d6(0x1d1)](_0x53094d),_0x53094d['destroy'](),_0x44a536[_0x25e3d6(0x457)](_0x651096);}}!function(_0x27bba5){const _0x4b090f=_0x397592;_0x27bba5[_0x4b090f(0x5cf)]=_0x4b090f(0x3fb),_0x27bba5['DTVolatility']=_0x4b090f(0x2b8),_0x27bba5[_0x4b090f(0xd7)]=_0x4b090f(0x51d),_0x27bba5['Bitrate']=_0x4b090f(0x438),_0x27bba5[_0x4b090f(0x436)]='jitter',_0x27bba5[_0x4b090f(0x3ce)]='fps',_0x27bba5[_0x4b090f(0x469)]=_0x4b090f(0x15c),_0x27bba5[_0x4b090f(0x407)]=_0x4b090f(0x553);}(_0x2505b6||(_0x2505b6={})),function(_0x341213){const _0x262bc3=_0x397592;_0x341213[_0x262bc3(0x1e1)]=_0x262bc3(0x208),_0x341213['TimePerFrame']=_0x262bc3(0x624),_0x341213[_0x262bc3(0x407)]=_0x262bc3(0x390),_0x341213[_0x262bc3(0x3ce)]='cpu.fps',_0x341213['Bitrate']='bandwidth.bitrate',_0x341213[_0x262bc3(0x436)]='bandwidth.jitter',_0x341213['RoundTripTime']=_0x262bc3(0x39f);}(_0x4334e1||(_0x4334e1={})),function(_0xde540){const _0x306ba8=_0x397592;_0xde540[_0xde540[_0x306ba8(0x58d)]=0x0]='Problem';}(_0xc5b684||(_0xc5b684={}));const _0x1fedd2=[{'type':_0x2505b6[_0x397592(0x5cf)],'reportMetric':_0x169093=>_0x169093[_0x397592(0x5cf)],'maxThreshold':2.5},{'type':_0x2505b6[_0x397592(0x4f5)],'reportMetric':_0x235a00=>_0x235a00['DTVolatility'],'maxThreshold':0.5}],_0x15e03a=[{'type':_0x2505b6[_0x397592(0xd7)],'reportMetric':_0x392481=>{const _0x137782=_0x397592,_0x46aba1=0x3e8/_0x392481[_0x137782(0x231)];return _0x392481[_0x137782(0x529)]/_0x46aba1;},'maxThreshold':0.75},{'type':_0x2505b6[_0x397592(0x197)],'reportMetric':_0x36eb02=>{const _0x34f79e=_0x397592,_0x523aa1=_0x36eb02[_0x34f79e(0x231)]*_0x36eb02[_0x34f79e(0x2d5)]*_0x36eb02[_0x34f79e(0x3c5)]*0.12;return _0x36eb02[_0x34f79e(0x438)]/_0x523aa1;},'minThreshold':0.25},{'type':_0x2505b6[_0x397592(0x436)],'reportMetric':_0x3232ec=>_0x3232ec[_0x397592(0x4ae)],'maxThreshold':0.6},{'type':_0x2505b6[_0x397592(0x3ce)],'reportMetric':_0x5ef8ff=>_0x5ef8ff[_0x397592(0x231)],'minThreshold':0xa}],_0x4802a3=[{'type':_0x2505b6['Jitter'],'reportMetric':_0x2cb02c=>_0x2cb02c[_0x397592(0x4ae)],'maxThreshold':0.6}],_0x1923f1=[{'type':_0x2505b6[_0x397592(0x469)],'reportMetric':_0xf9bfd0=>_0xf9bfd0['roundTripTime'],'maxThreshold':0x1/0x0}],_0xa7d0f=[{'type':_0x2505b6['AudioVideoDelay'],'reportMetric':_0x2cd14a=>_0x2cd14a[_0x397592(0x407)],'maxThreshold':0x12c}],_0x4fb48b=[{'type':_0x4334e1[_0x397592(0x1e1)],'issues':[{'type':_0x2505b6[_0x397592(0x5cf)],'threshold':0x5},{'type':_0x2505b6[_0x397592(0x4f5)],'threshold':0x5}]},{'type':_0x4334e1[_0x397592(0xd7)],'issues':[{'type':_0x2505b6[_0x397592(0xd7)],'threshold':0x3}]},{'type':_0x4334e1[_0x397592(0x407)],'issues':[{'type':_0x2505b6['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x4334e1['FramePerSecond'],'issues':[{'type':_0x2505b6[_0x397592(0x3ce)],'threshold':0x3}]},{'type':_0x4334e1['Bitrate'],'issues':[{'type':_0x2505b6['Bitrate'],'threshold':0x3}]},{'type':_0x4334e1[_0x397592(0x436)],'issues':[{'type':_0x2505b6[_0x397592(0x436)],'threshold':0x3}]},{'type':_0x4334e1['RoundTripTime'],'issues':[{'type':_0x2505b6[_0x397592(0x469)],'threshold':0x3}]}];var _0x17138b,_0x5a5175;!function(_0x3a8afe){const _0x251d8a=_0x397592;_0x3a8afe[_0x3a8afe['StreamReport']=0x0]='StreamReport',_0x3a8afe[_0x3a8afe['LocalReport']=0x1]=_0x251d8a(0x278);}(_0x17138b||(_0x17138b={}));class _0x382ffb{[_0x397592(0xbd)];[_0x397592(0x2f7)]=[];[_0x397592(0x4f8)];constructor(_0x18e1af){const _0xb665fe=_0x397592;this[_0xb665fe(0xbd)]=_0x18e1af,this[_0xb665fe(0xbd)][_0xb665fe(0x411)]['registerSystemSource'](this);}[_0x397592(0x2f1)](_0x54df44){const _0x3869a4=_0x397592;this[_0x3869a4(0x4f8)]=_0x54df44;}[_0x397592(0xd0)](){const _0x6a13e8=_0x397592;this[_0x6a13e8(0x4f8)]=void 0x0;}[_0x397592(0x9e)](){const _0x215a3d=_0x397592;this[_0x215a3d(0xbd)][_0x215a3d(0x411)][_0x215a3d(0x1d1)](this),this['issues']=[];}[_0x397592(0x215)](_0x3c11b2){const _0x138944=_0x397592;switch(_0x3c11b2[_0x138944(0x512)][_0x138944(0x1c2)]){case _0x17138b[_0x138944(0x278)]:this[_0x138944(0x94)](_0x3c11b2[_0x138944(0x512)][_0x138944(0x476)]);break;case _0x17138b[_0x138944(0x615)]:this['detectStreamIssues'](_0x3c11b2[_0x138944(0x512)][_0x138944(0x476)]);}}[_0x397592(0x2a0)](_0x434904,_0x49995a,_0x1dcaac,_0x384952){const _0x4cf665=_0x397592,_0x2db5a3=_0x4fb48b[_0x4cf665(0x13c)](_0x30fd36=>_0x30fd36['issues']['some'](_0xbc5bcb=>_0xbc5bcb[_0x4cf665(0x1c2)]===_0x434904));_0x384952>=_0x2db5a3['issues'][_0x4cf665(0x13c)](_0x2762e6=>_0x2762e6[_0x4cf665(0x1c2)]===_0x434904)[_0x4cf665(0xb1)]&&(this[_0x4cf665(0x5d2)](_0x2db5a3[_0x4cf665(0x1c2)],_0x49995a,_0x1dcaac),this[_0x4cf665(0x2f7)]=this[_0x4cf665(0x2f7)][_0x4cf665(0x602)](_0x3edd34=>!(_0x3edd34[_0x4cf665(0x1c2)]===_0x434904&&_0x3edd34[_0x4cf665(0x452)]===_0x49995a&&_0x3edd34[_0x4cf665(0x2e2)]===_0x1dcaac)));}[_0x397592(0x94)](_0x948d67){const _0x3f32c3=_0x397592;_0x1fedd2[_0x3f32c3(0x633)](_0x289793=>{const _0x2d9212=_0x3f32c3,_0x208728=_0x289793[_0x2d9212(0xf0)](_0x948d67);_0x289793[_0x2d9212(0x224)]&&_0x208728>_0x289793[_0x2d9212(0x224)]&&this[_0x2d9212(0x242)](_0x289793[_0x2d9212(0x1c2)],this[_0x2d9212(0xbd)]['localNode'][_0x2d9212(0x130)](),_0x500b11[_0x2d9212(0x36c)],_0x208728),_0x289793[_0x2d9212(0x1b9)]&&_0x208728<_0x289793['minThreshold']&&this[_0x2d9212(0x242)](_0x289793['type'],this['configs'][_0x2d9212(0x640)][_0x2d9212(0x130)](),_0x500b11[_0x2d9212(0x36c)],_0x208728);});}[_0x397592(0x463)](_0x7ed746){const _0x162634=_0x397592;let _0x3cbfaa=[];switch(_0x7ed746['origin']){case _0x500b11[_0x162634(0x36c)]:_0x3cbfaa=_0x1923f1;break;case _0x500b11[_0x162634(0x1a5)]:_0x3cbfaa=_0xa7d0f;}_0x7ed746[_0x162634(0xaf)]&&this[_0x162634(0x288)](_0x7ed746[_0x162634(0x452)],_0x500b11[_0x162634(0x36c)],_0x7ed746[_0x162634(0xaf)]),_0x7ed746[_0x162634(0x194)]&&this['detectAudioIssues'](_0x7ed746[_0x162634(0x452)],_0x500b11[_0x162634(0x36c)],_0x7ed746[_0x162634(0x194)]),_0x3cbfaa[_0x162634(0x633)](_0x467d44=>{const _0x398fc8=_0x162634,_0x218799=_0x467d44[_0x398fc8(0xf0)](_0x7ed746);_0x467d44[_0x398fc8(0x224)]&&_0x218799>_0x467d44[_0x398fc8(0x224)]&&this[_0x398fc8(0x242)](_0x467d44['type'],_0x7ed746[_0x398fc8(0x452)],_0x500b11['Sender'],_0x218799),_0x467d44[_0x398fc8(0x1b9)]&&_0x218799<_0x467d44[_0x398fc8(0x1b9)]&&this[_0x398fc8(0x242)](_0x467d44[_0x398fc8(0x1c2)],_0x7ed746[_0x398fc8(0x452)],_0x500b11[_0x398fc8(0x36c)],_0x218799);});}[_0x397592(0x288)](_0x4a5fb9,_0x2ed18a,_0x5a7193){const _0x5e533a=_0x397592;0x0!==_0x5a7193[_0x5e533a(0x438)]&&_0x15e03a[_0x5e533a(0x633)](_0x4c0c71=>{const _0x5a3c24=_0x5e533a,_0x3ec190=_0x4c0c71[_0x5a3c24(0xf0)](_0x5a7193);_0x4c0c71[_0x5a3c24(0x224)]&&_0x3ec190>_0x4c0c71[_0x5a3c24(0x224)]&&this[_0x5a3c24(0x242)](_0x4c0c71['type'],_0x4a5fb9,_0x2ed18a,_0x3ec190,_0x5a3c24(0xaf)),_0x4c0c71[_0x5a3c24(0x1b9)]&&_0x3ec190<_0x4c0c71[_0x5a3c24(0x1b9)]&&this['addIssue'](_0x4c0c71[_0x5a3c24(0x1c2)],_0x4a5fb9,_0x2ed18a,_0x3ec190,'video');});}['detectAudioIssues'](_0x1bab18,_0x5703cb,_0x4d1c0c){const _0xdb983d=_0x397592;0x0!==_0x4d1c0c[_0xdb983d(0x438)]&&_0x4802a3[_0xdb983d(0x633)](_0x166b25=>{const _0x28d04e=_0xdb983d,_0xa11223=_0x166b25['reportMetric'](_0x4d1c0c);_0x166b25[_0x28d04e(0x224)]&&_0xa11223>_0x166b25[_0x28d04e(0x224)]&&this[_0x28d04e(0x242)](_0x166b25[_0x28d04e(0x1c2)],_0x1bab18,_0x5703cb,_0xa11223,_0x28d04e(0x194)),_0x166b25[_0x28d04e(0x1b9)]&&_0xa11223<_0x166b25[_0x28d04e(0x1b9)]&&this[_0x28d04e(0x242)](_0x166b25[_0x28d04e(0x1c2)],_0x1bab18,_0x5703cb,_0xa11223,_0x28d04e(0x194));});}['addIssue'](_0xe836a9,_0x49a314,_0x173b91,_0xf060a0,_0x2b73c1){const _0x4f934f=_0x397592;_0x29f8ca['log'](_0x27bb8f['Detection'],_0x4f934f(0x4ca)+_0xe836a9,_0xe836a9,_0xf060a0),_0x29f8ca[_0x4f934f(0x269)](_0x4f934f(0x41f),{'clusterId':this['configs'][_0x4f934f(0xad)],'nodeId':this[_0x4f934f(0xbd)][_0x4f934f(0x640)][_0x4f934f(0x130)](),'nodeType':this[_0x4f934f(0xbd)][_0x4f934f(0x640)][_0x4f934f(0x1c2)],'remoteId':_0x49a314,'data':{'type':_0xe836a9,'value':_0xf060a0,'kind':_0x2b73c1}}),this['issues']=this[_0x4f934f(0x2f7)][_0x4f934f(0x602)](_0x5b58b7=>Date[_0x4f934f(0x2fd)]()-_0x5b58b7[_0x4f934f(0x9b)]<0x7530),this[_0x4f934f(0x2f7)][_0x4f934f(0x2d7)]({'timestamp':Date[_0x4f934f(0x2fd)](),'type':_0xe836a9,'nodeId':_0x49a314,'origin':_0x173b91,'value':_0xf060a0,'kind':_0x2b73c1});const _0x553897=this['issues'][_0x4f934f(0x602)](_0x5f0692=>_0x5f0692[_0x4f934f(0x1c2)]===_0xe836a9&&_0x5f0692[_0x4f934f(0x452)]===_0x49a314&&_0x5f0692[_0x4f934f(0x2e2)]===_0x173b91)['length'];this[_0x4f934f(0x2a0)](_0xe836a9,_0x49a314,_0x173b91,_0x553897);}[_0x397592(0x5d2)](_0x5cc26b,_0x4760c6,_0x2ea61c){const _0x4c0646=_0x397592;_0x29f8ca[_0x4c0646(0x298)](_0x27bb8f[_0x4c0646(0x39e)],_0x4c0646(0x400)+_0x5cc26b),_0x29f8ca['logEvent']('problem',{'clusterId':this['configs'][_0x4c0646(0xad)],'nodeId':this[_0x4c0646(0xbd)][_0x4c0646(0x640)]['getId'](),'nodeType':this['configs']['localNode'][_0x4c0646(0x1c2)],'remoteId':_0x4760c6,'data':{'type':_0x5cc26b}}),this[_0x4c0646(0x4f8)]?.['publish']({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x4c0646(0x39e)],'content':{'type':_0xc5b684[_0x4c0646(0x58d)],'data':{'timestamp':Date[_0x4c0646(0x2fd)](),'nodeId':_0x4760c6,'origin':_0x500b11[_0x4c0646(0x36c)],'type':_0x5cc26b}}});}}class _0x482b9b extends _0x749eba{[_0x397592(0x1c2)]=_0x25e642[_0x397592(0xcc)][_0x397592(0x55b)];}class _0x59312c extends _0x482b9b{[_0x397592(0x4f8)];['currentVersion']=Date[_0x397592(0x2fd)]();[_0x397592(0x5b7)];[_0x397592(0xea)];[_0x397592(0x9e)](){const _0x5725a5=_0x397592;this['updateDebounceTimeout']&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x5725a5(0x5b7)]),delete this[_0x5725a5(0xea)],this[_0x5725a5(0x5d3)]=Date[_0x5725a5(0x2fd)](),super[_0x5725a5(0x9e)]();}['registerSystemPublisher'](_0x1edc88){const _0x3035ca=_0x397592;this[_0x3035ca(0x4f8)]=_0x1edc88;}[_0x397592(0xd0)](){delete this['systemTopic'];}[_0x397592(0x343)](_0x386e6c){const _0x2fee19=_0x397592;!this['updateDebounceTimeout']&&this[_0x2fee19(0xb6)]&&this[_0x2fee19(0x4f8)][_0x2fee19(0x16f)]({'sourceId':this['id'],'destinationIds':[_0x386e6c],'propagate':!0x0,'messageType':_0x542695[_0x2fee19(0x190)],'content':{'type':_0x107aa0[_0x2fee19(0x281)],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x2fee19(0x4ac)](),'remoteConnections':Array[_0x2fee19(0x1ec)](this[_0x2fee19(0x163)]),'version':this['currentVersion']}});}[_0x397592(0x45e)](_0x94eb5){const _0xf4cc1c=_0x397592;this['remoteConnections'][_0xf4cc1c(0x1ac)](_0x94eb5)||(this[_0xf4cc1c(0x163)][_0xf4cc1c(0x11f)](_0x94eb5),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x397592(0x3a2)](_0x50f879){const _0x24436d=_0x397592;this[_0x24436d(0x163)][_0x24436d(0x1ac)](_0x50f879)&&(this['remoteConnections'][_0x24436d(0x457)](_0x50f879),this[_0x24436d(0x15f)](),this[_0x24436d(0x597)](!0x0));}[_0x397592(0x3a1)](){return this['currentVersion'];}['setRank'](_0x24a6a8,_0x146c1f=!0x0){const _0x34097e=_0x397592;this[_0x34097e(0xb6)]!==_0x24a6a8&&(this[_0x34097e(0xb6)]=_0x24a6a8,_0x146c1f&&(this[_0x34097e(0x15f)](),this[_0x34097e(0x597)]()));}[_0x397592(0x15f)](){const _0x25d9d9=_0x397592;this[_0x25d9d9(0x5d3)]=Date[_0x25d9d9(0x2fd)]();}[_0x397592(0x597)](_0x45695c=!0x1){const _0x4274f5=_0x397592;if(this['rank']){if(this[_0x4274f5(0xea)]||(this[_0x4274f5(0xea)]=Date[_0x4274f5(0x2fd)]()),this[_0x4274f5(0x5b7)]){if(Date[_0x4274f5(0x2fd)]()-this[_0x4274f5(0xea)]>0x2328)return;clearTimeout(this[_0x4274f5(0x5b7)]);}this[_0x4274f5(0x5b7)]=setTimeout(()=>{const _0x203872=_0x4274f5;delete this[_0x203872(0xea)],delete this[_0x203872(0x5b7)],this[_0x203872(0x4f8)][_0x203872(0x16f)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x542695[_0x203872(0x190)],'content':{'type':_0x45695c?_0x107aa0[_0x203872(0x1da)]:_0x107aa0[_0x203872(0x281)],'id':this['id'],'metaData':{'type':this[_0x203872(0x1c2)]},'rank':this[_0x203872(0x4ac)](),'remoteConnections':Array[_0x203872(0x1ec)](this[_0x203872(0x163)]),'version':this[_0x203872(0x5d3)]}});},0x3e8);}}}class _0x1e1e67 extends _0x3eef75{[_0x397592(0x4f8)];[_0x397592(0x5d3)]=Date[_0x397592(0x2fd)]();[_0x397592(0x5b7)];[_0x397592(0xea)];[_0x397592(0x9e)](){const _0x8622e2=_0x397592;this['updateDebounceTimeout']&&(clearTimeout(this[_0x8622e2(0x5b7)]),delete this[_0x8622e2(0x5b7)]),delete this[_0x8622e2(0xea)],this['currentVersion']=Date[_0x8622e2(0x2fd)](),super[_0x8622e2(0x9e)]();}[_0x397592(0x2f1)](_0x4d5920){const _0x51c050=_0x397592;this[_0x51c050(0x4f8)]=_0x4d5920;}[_0x397592(0xd0)](){const _0x21be39=_0x397592;delete this[_0x21be39(0x4f8)];}[_0x397592(0x343)](_0x482e27){const _0xe0347d=_0x397592;!this[_0xe0347d(0x5b7)]&&this[_0xe0347d(0xb6)]&&this[_0xe0347d(0x4f8)][_0xe0347d(0x16f)]({'sourceId':this['id'],'destinationIds':[_0x482e27],'propagate':!0x0,'messageType':_0x542695['Node'],'content':{'type':_0x107aa0['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0xe0347d(0x1c2)],'displayName':this[_0xe0347d(0x517)](),'email':this[_0xe0347d(0x4ed)]()},'rank':this[_0xe0347d(0x4ac)](),'remoteConnections':Array[_0xe0347d(0x1ec)](this[_0xe0347d(0x163)]),'version':this['currentVersion']}});}[_0x397592(0x45e)](_0x53fae2){const _0x1eb529=_0x397592;this[_0x1eb529(0x163)][_0x1eb529(0x1ac)](_0x53fae2)||(this['remoteConnections'][_0x1eb529(0x11f)](_0x53fae2),this[_0x1eb529(0x15f)](),this[_0x1eb529(0x597)](!0x0));}[_0x397592(0x3a2)](_0x4eb20a){const _0x190038=_0x397592;this[_0x190038(0x163)][_0x190038(0x1ac)](_0x4eb20a)&&(this['remoteConnections'][_0x190038(0x457)](_0x4eb20a),this[_0x190038(0x15f)](),this['publishUserUpdate'](!0x0));}['getCurrentVersion'](){const _0x36c6a2=_0x397592;return this[_0x36c6a2(0x5d3)];}[_0x397592(0x37b)](_0x529757){const _0x2495fd=_0x397592;this[_0x2495fd(0xa0)]!==_0x529757&&(this[_0x2495fd(0xa0)]=_0x529757,this[_0x2495fd(0x15f)](),this['publishUserUpdate']());}[_0x397592(0x126)](_0x4740b9){const _0x28f5f6=_0x397592;this[_0x28f5f6(0x388)]!==_0x4740b9&&(this[_0x28f5f6(0x388)]=_0x4740b9,this[_0x28f5f6(0x15f)](),this[_0x28f5f6(0x597)]());}[_0x397592(0x3d0)](_0x435464,_0x37f863=!0x0){const _0x5c434f=_0x397592;this[_0x5c434f(0xb6)]!==_0x435464&&(this[_0x5c434f(0xb6)]=_0x435464,_0x37f863&&(this['incrementVersion'](),this['publishUserUpdate']()));}['incrementVersion'](){const _0x59fd2d=_0x397592;this[_0x59fd2d(0x5d3)]=Date[_0x59fd2d(0x2fd)]();}[_0x397592(0x597)](_0xcc5b5c=!0x1){const _0xac06ca=_0x397592;if(this[_0xac06ca(0xb6)]){if(this[_0xac06ca(0xea)]||(this['lastUpdated']=Date[_0xac06ca(0x2fd)]()),this['updateDebounceTimeout']){if(Date[_0xac06ca(0x2fd)]()-this[_0xac06ca(0xea)]>0x2328)return;clearTimeout(this[_0xac06ca(0x5b7)]);}this[_0xac06ca(0x5b7)]=setTimeout(()=>{const _0x149414=_0xac06ca;delete this[_0x149414(0xea)],delete this[_0x149414(0x5b7)],this[_0x149414(0x4f8)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x542695[_0x149414(0x190)],'content':{'type':_0xcc5b5c?_0x107aa0['NodeConnectionsUpdate']:_0x107aa0[_0x149414(0x281)],'id':this['id'],'metaData':{'type':this[_0x149414(0x1c2)],'displayName':this[_0x149414(0x517)](),'email':this[_0x149414(0x4ed)]()},'rank':this[_0x149414(0x4ac)](),'remoteConnections':Array[_0x149414(0x1ec)](this[_0x149414(0x163)]),'version':this['currentVersion']}});},0x3e8);}}}!function(_0x50ebfe){const _0x42b4b8=_0x397592;_0x50ebfe[_0x50ebfe[_0x42b4b8(0x11b)]=0x0]=_0x42b4b8(0x11b),_0x50ebfe[_0x50ebfe[_0x42b4b8(0x5e7)]=0x1]=_0x42b4b8(0x5e7);}(_0x5a5175||(_0x5a5175={}));class _0xdb8ee9 extends _0x482b9b{[_0x397592(0x5d3)];[_0x397592(0x2c8)]=_0x5a5175[_0x397592(0x11b)];[_0x397592(0xea)]=Date['now']();constructor(_0x1e95e1,_0x50bb9b=new Set(),_0x466608,_0x4b850f){const _0x4c9a9e=_0x397592;super(_0x1e95e1,_0x50bb9b,_0x4b850f),this[_0x4c9a9e(0x5d3)]=_0x466608;}['getCurrentVersion'](){const _0x199052=_0x397592;return this[_0x199052(0x5d3)];}[_0x397592(0x3e9)](){const _0x44eb8f=_0x397592;return this[_0x44eb8f(0x2c8)];}[_0x397592(0x2d4)](){const _0x11c922=_0x397592;return this[_0x11c922(0xea)];}[_0x397592(0x3d0)](_0x16da32){const _0x4e4977=_0x397592;this['rank']!==_0x16da32&&(this['rank']=_0x16da32,this[_0x4e4977(0x354)]());}['setRemoteConnections'](_0x3f305d){const _0x2b11cc=_0x397592;let _0x5c0d9b=!0x1;for(const _0x46aed6 of this[_0x2b11cc(0x163)])_0x3f305d['includes'](_0x46aed6)||(_0x5c0d9b=!0x0,this[_0x2b11cc(0x163)][_0x2b11cc(0x457)](_0x46aed6));for(const _0x3ed1b8 of _0x3f305d)this[_0x2b11cc(0x163)][_0x2b11cc(0x1ac)](_0x3ed1b8)||(_0x5c0d9b=!0x0,this[_0x2b11cc(0x163)][_0x2b11cc(0x11f)](_0x3ed1b8));_0x5c0d9b&&this[_0x2b11cc(0x354)]();}[_0x397592(0x52f)](_0x4c638d){const _0x554871=_0x397592;this['currentVersion']!==_0x4c638d&&(this[_0x554871(0x5d3)]=_0x4c638d,this[_0x554871(0x354)]());}[_0x397592(0x51a)](_0x495636){const _0x2fb402=_0x397592;this[_0x2fb402(0x2c8)]!==_0x495636&&(this[_0x2fb402(0x2c8)]=_0x495636,this[_0x2fb402(0x354)](),_0x495636===_0x5a5175[_0x2fb402(0x5e7)]&&this[_0x2fb402(0x9e)]());}[_0x397592(0x354)](){const _0x36209a=_0x397592;this[_0x36209a(0xea)]=Date['now']();}}class _0xe96148 extends _0x3eef75{[_0x397592(0x5d3)];['status']=_0x5a5175[_0x397592(0x11b)];['lastUpdated']=Date[_0x397592(0x2fd)]();constructor(_0x33ea3a,_0x979b70,_0x4f1808,_0x38cdfe=new Set(),_0x5a683d,_0x2b5c7e){const _0x224a19=_0x397592;super(_0x33ea3a,_0x979b70,_0x4f1808,_0x38cdfe,_0x2b5c7e),this[_0x224a19(0x5d3)]=_0x5a683d;}['getCurrentVersion'](){return this['currentVersion'];}['getStatus'](){const _0x57c752=_0x397592;return this[_0x57c752(0x2c8)];}[_0x397592(0x2d4)](){return this['lastUpdated'];}[_0x397592(0x37b)](_0x802c57){const _0x29d1f3=_0x397592;this['displayName']!==_0x802c57&&(this[_0x29d1f3(0xa0)]=_0x802c57,this[_0x29d1f3(0x354)]());}[_0x397592(0x126)](_0x3d06cf){const _0x1fc050=_0x397592;this[_0x1fc050(0x388)]!==_0x3d06cf&&(this[_0x1fc050(0x388)]=_0x3d06cf,this[_0x1fc050(0x354)]());}[_0x397592(0x3d0)](_0x3592da){const _0x345820=_0x397592;this[_0x345820(0xb6)]!==_0x3592da&&(this[_0x345820(0xb6)]=_0x3592da,this['updateLastUpdated']());}[_0x397592(0x3ad)](_0x590da1){const _0xc8f545=_0x397592;let _0x2f168a=!0x1;for(const _0x3ea1f4 of this[_0xc8f545(0x163)])_0x590da1[_0xc8f545(0x4dd)](_0x3ea1f4)||(_0x2f168a=!0x0,this[_0xc8f545(0x163)][_0xc8f545(0x457)](_0x3ea1f4));for(const _0x4c7d33 of _0x590da1)this[_0xc8f545(0x163)][_0xc8f545(0x1ac)](_0x4c7d33)||(_0x2f168a=!0x0,this['remoteConnections'][_0xc8f545(0x11f)](_0x4c7d33));_0x2f168a&&this[_0xc8f545(0x354)]();}[_0x397592(0x52f)](_0x14d435){const _0x5169ed=_0x397592;this['currentVersion']!==_0x14d435&&(this[_0x5169ed(0x5d3)]=_0x14d435,this[_0x5169ed(0x354)]());}[_0x397592(0x51a)](_0x1e3d61){const _0x1808d9=_0x397592;this[_0x1808d9(0x2c8)]!==_0x1e3d61&&(this['status']=_0x1e3d61,this['updateLastUpdated'](),_0x1e3d61===_0x5a5175[_0x1808d9(0x5e7)]&&this[_0x1808d9(0x9e)]());}[_0x397592(0x354)](){const _0x468c35=_0x397592;this['lastUpdated']=Date[_0x468c35(0x2fd)]();}}class _0x325208{[_0x397592(0x5f7)];[_0x397592(0xad)];[_0x397592(0x640)];['minConnections'];[_0x397592(0x356)]=_0x46b21e();[_0x397592(0x2ba)];['childRemovedUnsubscriber'];['onDisconnectHandler'];['connected']=!0x1;['clusterKey'];['nodeKey'];[_0x397592(0x1b1)];constructor(_0x5848ee,_0xfa372a,_0x4e12d1,_0x227f5b){const _0x4486e0=_0x397592;this[_0x4486e0(0x5f7)]=_0x5848ee,this[_0x4486e0(0xad)]=_0xfa372a,this['localNode']=_0x4e12d1,this[_0x4486e0(0xca)]=_0x227f5b,this[_0x4486e0(0x3c4)]=_0x4486e0(0x519)+this[_0x4486e0(0x5f7)]+'ccc'+this[_0x4486e0(0xad)],this[_0x4486e0(0x268)]='ccc'+this[_0x4486e0(0x5f7)]+_0x4486e0(0x519)+this[_0x4486e0(0x640)]['getId'](),this[_0x4486e0(0x2ba)]=(0x0,_0x320e38['onValue'])((0x0,_0x320e38[_0x4486e0(0x1fd)])(_0x180399[_0x4486e0(0x274)](),_0x4486e0(0x2cd)),_0x4daa28=>{const _0x436ccc=_0x4486e0;!0x0!==_0x4daa28[_0x436ccc(0x55d)]()?this[_0x436ccc(0x4a8)]&&(this[_0x436ccc(0x1b1)]=setTimeout(()=>{const _0x511066=_0x436ccc;delete this[_0x511066(0x1b1)],_0x29f8ca['error'](_0x511066(0x41d),{'clusterId':this[_0x511066(0xad)],'nodeId':this['localNode'][_0x511066(0x130)](),'nodeType':this['localNode']['type']}),(0x0,_0x320e38['goOffline'])(_0x180399[_0x511066(0x274)]());const _0x567387=_0x48ae88[_0x511066(0x18f)](()=>{const _0x51a72b=_0x511066;navigator['onLine']&&(_0x567387(),(0x0,_0x320e38['goOnline'])(_0x180399[_0x51a72b(0x274)]()));},0x3e8);},0xbb8)):(this['connected']=!0x0,this[_0x436ccc(0x246)](),this[_0x436ccc(0x1b1)]&&(clearTimeout(this[_0x436ccc(0x1b1)]),delete this[_0x436ccc(0x1b1)]));});}async[_0x397592(0x419)](){const _0x552ab3=_0x397592;await this['joinCluster']();const _0xb0bd47=await this[_0x552ab3(0x19a)]();return this[_0x552ab3(0x50f)]=(0x0,_0x320e38[_0x552ab3(0x4b9)])((0x0,_0x320e38[_0x552ab3(0x1fd)])(_0x180399['getDatabase'](),_0x552ab3(0x21d)+this[_0x552ab3(0x3c4)]+_0x552ab3(0x52c)),_0x133871=>{const _0x882207=_0x552ab3,_0xb2d4de=_0x133871['key'];if(!_0xb2d4de)return;const _0x3acdb5=_0xb2d4de[_0x882207(0x2e4)]('ccc'+this[_0x882207(0x5f7)]+_0x882207(0x519),'');this['disconnectCallback']['publish'](_0x3acdb5);}),_0xb0bd47;}async[_0x397592(0x9e)](){const _0x1eb0dc=_0x397592;this[_0x1eb0dc(0x50f)]?.(),delete this[_0x1eb0dc(0x50f)],this[_0x1eb0dc(0x5ae)]?.[_0x1eb0dc(0x18a)](),delete this['onDisconnectHandler'],this[_0x1eb0dc(0x2ba)]?.(),delete this['firebaseUnsubscriber'],this[_0x1eb0dc(0x1b1)]&&(clearTimeout(this[_0x1eb0dc(0x1b1)]),delete this[_0x1eb0dc(0x1b1)]),await(0x0,_0x320e38[_0x1eb0dc(0x453)])((0x0,_0x320e38[_0x1eb0dc(0x1fd)])(_0x180399[_0x1eb0dc(0x274)](),_0x1eb0dc(0x21d)+this[_0x1eb0dc(0x3c4)]+_0x1eb0dc(0x10e)+this[_0x1eb0dc(0x268)]));}[_0x397592(0x48e)](_0x59027c){const _0x10ddc4=_0x397592;return this[_0x10ddc4(0x356)][_0x10ddc4(0xda)](_0x59027c);}async[_0x397592(0x19a)](){const _0x5b4302=_0x397592,_0x4aa3bf=[],_0x4ca5cc=await(0x0,_0x320e38[_0x5b4302(0x5e6)])((0x0,_0x320e38[_0x5b4302(0x1fd)])(_0x180399['getDatabase'](),_0x5b4302(0x21d)+this[_0x5b4302(0x3c4)]+_0x5b4302(0x52c))),_0x4a105e=[];return _0x4ca5cc[_0x5b4302(0x633)](_0x47d18f=>{const _0x4e4c5f=_0x5b4302,_0x2400af=_0x47d18f[_0x4e4c5f(0x3d7)]?.[_0x4e4c5f(0x2e4)](_0x4e4c5f(0x519)+this[_0x4e4c5f(0x5f7)]+'ccc','');_0x4a105e[_0x4e4c5f(0x2d7)]({'id':_0x2400af,'joinedAt':_0x47d18f[_0x4e4c5f(0x55d)]()[_0x4e4c5f(0x1d6)],'priority':_0x47d18f[_0x4e4c5f(0x55d)]()[_0x4e4c5f(0x382)]});}),_0x4a105e['sort']((_0x5171e7,_0x21b693)=>_0x5171e7[_0x5b4302(0x1d6)]===_0x21b693[_0x5b4302(0x1d6)]?_0x5171e7[_0x5b4302(0x382)]-_0x21b693[_0x5b4302(0x382)]:_0x5171e7[_0x5b4302(0x1d6)]-_0x21b693[_0x5b4302(0x1d6)])[_0x5b4302(0x222)](_0x4a105e[_0x5b4302(0xba)](_0x1e8f14=>_0x1e8f14['id']===this['localNode'][_0x5b4302(0x130)]())),_0x4a105e[_0x5b4302(0x625)]((_0x3bd8e9,_0x519825)=>_0x519825[_0x5b4302(0x1d6)]===_0x3bd8e9[_0x5b4302(0x1d6)]?_0x519825['priority']-_0x3bd8e9[_0x5b4302(0x382)]:_0x519825[_0x5b4302(0x1d6)]-_0x3bd8e9[_0x5b4302(0x1d6)])[_0x5b4302(0x633)](_0x238432=>{const _0x2e5d3f=_0x5b4302;_0x4aa3bf['length']>=this[_0x2e5d3f(0xca)]||_0x4aa3bf[_0x2e5d3f(0x2d7)](_0x238432['id']);}),_0x29f8ca['logEvent'](_0x5b4302(0x45f),{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0x5b4302(0x130)](),'nodeType':this[_0x5b4302(0x640)][_0x5b4302(0x1c2)],'data':{'ancestorIds':_0x4aa3bf,'allNodes':_0x4a105e}}),_0x4aa3bf;}async['joinCluster'](){const _0x307b00=_0x397592;await(0x0,_0x320e38[_0x307b00(0x42c)])((0x0,_0x320e38[_0x307b00(0x1fd)])(_0x180399[_0x307b00(0x274)](),'clusters/'+this[_0x307b00(0x3c4)]+_0x307b00(0x10e)+this['nodeKey']),{'joinedAt':(0x0,_0x320e38['serverTimestamp'])(),'priority':Math[_0x307b00(0x397)]()});}[_0x397592(0x246)](){const _0x3dcb6f=_0x397592;this[_0x3dcb6f(0x5ae)]&&this['onDisconnectHandler']['cancel'](),this[_0x3dcb6f(0x5ae)]=(0x0,_0x320e38[_0x3dcb6f(0x47e)])((0x0,_0x320e38[_0x3dcb6f(0x1fd)])(_0x180399[_0x3dcb6f(0x274)](),_0x3dcb6f(0x21d)+this[_0x3dcb6f(0x3c4)]+_0x3dcb6f(0x10e)+this['nodeKey'])),this[_0x3dcb6f(0x5ae)]['remove']();}}class _0x3a0173{[_0x397592(0xbd)];[_0x397592(0x24a)];[_0x397592(0x640)];[_0x397592(0x38e)];['discoveryService'];[_0x397592(0x155)];[_0x397592(0x630)]=[];[_0x397592(0x4f8)];['optimizationLayers']=new Map();['debounceProcessRank'];[_0x397592(0x110)];constructor(_0x16793d,_0x3b9c49,_0x5c5ee8){const _0x2610bf=_0x397592;this[_0x2610bf(0xbd)]=_0x16793d,this[_0x2610bf(0x24a)]=_0x3b9c49,this[_0x2610bf(0x640)]=_0x5c5ee8,this['discoveryService']=new _0x325208(this['configs'][_0x2610bf(0x5f7)],this['configs'][_0x2610bf(0xad)],this[_0x2610bf(0x640)],this[_0x2610bf(0x24a)]['getMinConnections']()),this['discoveryUnsubscriber']=this['discoveryService'][_0x2610bf(0x48e)](this[_0x2610bf(0x556)]['bind'](this)),this[_0x2610bf(0xbd)][_0x2610bf(0x411)]['registerSystemSource'](this[_0x2610bf(0x640)]),this[_0x2610bf(0xbd)][_0x2610bf(0x411)][_0x2610bf(0xa3)](this),this[_0x2610bf(0x38e)]=_0x48ae88[_0x2610bf(0x18f)](()=>{const _0x5b94a2=_0x2610bf,_0x5e66b7=Date[_0x5b94a2(0x2fd)]();this['graphService'][_0x5b94a2(0x1ab)]()[_0x5b94a2(0x633)](_0x4ba857=>{const _0x4bbb0e=_0x5b94a2;_0x4ba857[_0x4bbb0e(0x3e9)]()===_0x5a5175['Offline']&&_0x4ba857[_0x4bbb0e(0x2d4)]()<_0x5e66b7-0x493e0&&this[_0x4bbb0e(0x24a)]['deleteRemoteNode'](_0x4ba857[_0x4bbb0e(0x130)]());});},0xea60);}['registerSystemPublisher'](_0x5e3b7d){this['systemTopic']=_0x5e3b7d;}[_0x397592(0xd0)](){delete this['systemTopic'];}[_0x397592(0x9e)](){const _0x1ffb33=_0x397592;this[_0x1ffb33(0x465)]&&(clearTimeout(this[_0x1ffb33(0x465)]),delete this['debounceProcessRank']),delete this[_0x1ffb33(0x110)],this['localNode']['close'](),this['remoteUnsubscriber'](),this[_0x1ffb33(0x155)](),this['configs'][_0x1ffb33(0x411)][_0x1ffb33(0x1d1)](this['localNode']),this[_0x1ffb33(0xbd)]['mediator']['unregisterSystemSource'](this),this['discoveryService']['close']();}['getAncestorIds'](){const _0x498c45=_0x397592;return this[_0x498c45(0x630)];}[_0x397592(0x3bb)](){const _0x17b649=_0x397592;return this['localNode'][_0x17b649(0x130)]();}[_0x397592(0x416)](){const _0x18adc4=_0x397592;return this[_0x18adc4(0x640)];}[_0x397592(0x1ab)](_0x8b98d1){const _0x4d5d78=_0x397592,_0x557878=Array[_0x4d5d78(0x1ec)](this[_0x4d5d78(0x24a)][_0x4d5d78(0x1ab)]()[_0x4d5d78(0xee)]())['filter'](_0x9df97f=>_0x9df97f[_0x4d5d78(0x3e9)]()===_0x5a5175[_0x4d5d78(0x11b)]);return _0x8b98d1?_0x557878[_0x4d5d78(0x602)](_0x8b98d1):_0x557878;}async['discover'](){const _0x301101=_0x397592;return this['ancestors']=await this[_0x301101(0xf9)]['join'](),this[_0x301101(0x630)][_0x301101(0x42e)]<this['graphService'][_0x301101(0x2cc)]()&&(this[_0x301101(0x640)][_0x301101(0x3d0)](this['ancestors'][_0x301101(0x42e)]+0x1),this[_0x301101(0x178)]()),this[_0x301101(0x630)];}[_0x397592(0x2d1)](_0x320f6b,_0x267e2c){const _0x46b6a3=_0x397592,_0x32febd=this['localNode'][_0x46b6a3(0x51e)](),_0x447afb=new Set(_0x32febd),_0x5a71b8=Array[_0x46b6a3(0x1ec)](_0x32febd)[_0x46b6a3(0x602)](_0x258925=>_0x258925!==_0x320f6b)['map'](_0x3e3122=>({'id':_0x3e3122,'distance':0x1}));for(;_0x5a71b8[_0x46b6a3(0x42e)]>0x0;){const _0x2c09bb=_0x5a71b8['shift']();if(!_0x2c09bb)continue;if(_0x2c09bb['id']===_0x267e2c)return _0x2c09bb['distance'];const _0x5ea75e=this[_0x46b6a3(0x24a)]['getRemoteNode'](_0x2c09bb['id']);_0x5ea75e&&_0x5ea75e['getStatus']()!==_0x5a5175[_0x46b6a3(0x5e7)]&&_0x5ea75e[_0x46b6a3(0x51e)]()['forEach'](_0x491374=>{const _0x510683=_0x46b6a3;_0x447afb[_0x510683(0x1ac)](_0x491374)||(_0x447afb[_0x510683(0x11f)](_0x491374),_0x5a71b8[_0x510683(0x2d7)]({'id':_0x491374,'distance':_0x2c09bb[_0x510683(0x23c)]+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x3d773b){const _0x3822c2=_0x397592;try{switch(_0x3d773b[_0x3822c2(0x512)]['type']){case _0x107aa0[_0x3822c2(0x281)]:case _0x107aa0['NodeConnectionsUpdate']:this[_0x3822c2(0x1eb)](_0x3d773b[_0x3822c2(0x512)]),_0x29f8ca[_0x3822c2(0x298)](_0x27bb8f[_0x3822c2(0x190)],_0x3822c2(0x325),'\x27'+this[_0x3822c2(0x640)][_0x3822c2(0x130)]()+',\x20'+_0x3d773b[_0x3822c2(0x108)]+'\x27',_0x3d773b,_0x3d773b['content']);break;case _0x107aa0[_0x3822c2(0x43c)]:this['removeNode'](_0x3d773b[_0x3822c2(0x512)]['id']),_0x29f8ca['log'](_0x27bb8f[_0x3822c2(0x190)],_0x3822c2(0x53a),'\x27'+this[_0x3822c2(0x640)][_0x3822c2(0x130)]()+',\x20'+_0x3d773b['sourceId']+'\x27',_0x3d773b,_0x3d773b['content']);}}catch(_0x23604b){if(_0x23604b instanceof _0x559fc1)return void _0x29f8ca['log'](_0x27bb8f[_0x3822c2(0x190)],_0x23604b['message']);throw _0x23604b;}}[_0x397592(0x41c)](_0x227d81){const _0x1a485d=_0x397592;switch(_0x227d81[_0x1a485d(0x512)][_0x1a485d(0x1c2)]){case _0x13a1c5[_0x1a485d(0x201)]:this[_0x1a485d(0x29b)](_0x227d81[_0x1a485d(0x108)]),_0x29f8ca[_0x1a485d(0x298)](_0x27bb8f[_0x1a485d(0x190)],_0x1a485d(0x644),'\x27'+this[_0x1a485d(0x640)][_0x1a485d(0x130)]()+',\x20'+_0x227d81[_0x1a485d(0x108)]+'\x27',_0x227d81,_0x227d81[_0x1a485d(0x512)]);break;case _0x13a1c5[_0x1a485d(0x39b)]:this[_0x1a485d(0x588)](_0x227d81['sourceId']),_0x29f8ca[_0x1a485d(0x298)](_0x27bb8f['Node'],'NodeManager\x20-\x20PublishNodeLeave',this['localNode'][_0x1a485d(0x130)](),_0x227d81,_0x227d81[_0x1a485d(0x512)]);}}[_0x397592(0x291)](_0x107865){const _0x35f270=_0x397592;this[_0x35f270(0x429)](_0x107865),this[_0x35f270(0x631)](_0x107865);}[_0x397592(0x631)](_0x445b49){const _0x15e928=_0x397592;this[_0x15e928(0x640)]['answerJoin'](_0x445b49['id']),this['publishNodeJoin'](_0x445b49['id']),this[_0x15e928(0x532)](_0x445b49);}['handleNodeUpdate'](_0x557ba3){const _0x195899=_0x397592,{id:_0x5865ea,metaData:_0x23ea8a,rank:_0x365623,remoteConnections:_0x42f0f9,version:_0xcdac99}=_0x557ba3,_0xe06af7=this[_0x195899(0x24a)][_0x195899(0x5b4)](_0x5865ea);if(_0xe06af7){if(!(_0xcdac99<=_0xe06af7[_0x195899(0x3a1)]())){if(_0xe06af7[_0x195899(0x3ad)](_0x42f0f9),_0xe06af7[_0x195899(0x52f)](_0xcdac99),_0xe06af7[_0x195899(0x1c2)]===_0x25e642[_0x195899(0xcc)][_0x195899(0x10a)]&&_0x23ea8a['type']===_0x25e642['NodeType'][_0x195899(0x10a)]&&(_0xe06af7['setDisplayName'](_0x23ea8a['displayName']),_0xe06af7[_0x195899(0x126)](_0x23ea8a[_0x195899(0x388)])),_0x365623&&_0xe06af7['setRank'](_0x365623),this[_0x195899(0x3dc)](_0x5865ea,_0x365623),_0xe06af7[_0x195899(0x3e9)]()===_0x5a5175[_0x195899(0x5e7)])return _0xe06af7[_0x195899(0x51a)](_0x5a5175[_0x195899(0x11b)]),this['processRank'](),void this['notifyJoin'](_0x557ba3);this[_0x195899(0x178)](),this[_0x195899(0x2f6)]({'id':_0x5865ea,'metaData':_0x23ea8a,'remoteConnections':_0x42f0f9,'version':_0xcdac99});}}else this['handleNodeJoin'](_0x557ba3);}[_0x397592(0x3dc)](_0x4bfe3a,_0xd90f99){const _0x22310e=_0x397592;_0xd90f99&&this[_0x22310e(0x630)][_0x22310e(0x4dd)](_0x4bfe3a)&&this[_0x22310e(0x640)][_0x22310e(0x3d0)](_0xd90f99+this[_0x22310e(0x630)]['indexOf'](_0x4bfe3a)+0x1);}[_0x397592(0x29b)](_0x2e832a){const _0x45d6d9=_0x397592;this['localNode'][_0x45d6d9(0x45e)](_0x2e832a);}['createRemoteNode']({id:_0x425e9a,metaData:_0x290486,rank:_0x367c5a,remoteConnections:_0x2a9276,version:_0xdf9520}){const _0x527e61=_0x397592;if(this[_0x527e61(0x24a)][_0x527e61(0x313)](_0x425e9a))throw new _0x559fc1('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x425e9a);switch(_0x290486[_0x527e61(0x1c2)]){case _0x25e642[_0x527e61(0xcc)][_0x527e61(0x10a)]:const {displayName:_0x1b05e1,email:_0x45841b}=_0x290486;this[_0x527e61(0x24a)][_0x527e61(0x2bd)](_0x425e9a,new _0xe96148(_0x425e9a,_0x1b05e1,_0x45841b,new Set(_0x2a9276),_0xdf9520,_0x367c5a));break;case _0x25e642[_0x527e61(0xcc)]['Agent']:this[_0x527e61(0x24a)][_0x527e61(0x2bd)](_0x425e9a,new _0xdb8ee9(_0x425e9a,new Set(_0x2a9276),_0xdf9520,_0x367c5a));}this['setLocalRank'](_0x425e9a,_0x367c5a),this[_0x527e61(0x178)]();}['publishNodeJoin'](_0x13b8d8){const _0x2f56f5=_0x397592;this[_0x2f56f5(0x4f8)][_0x2f56f5(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695['Node'],'content':{'type':_0x107aa0[_0x2f56f5(0x1f4)],'id':_0x13b8d8}});}['publishNodeLeave'](_0x4a4b87){const _0x2450a1=_0x397592;this['systemTopic']?.[_0x2450a1(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x2450a1(0x190)],'content':{'type':_0x107aa0[_0x2450a1(0x43c)],'id':_0x4a4b87}});}[_0x397592(0x556)](_0x4eb526){const _0x1870da=_0x397592;if(_0x4eb526===this['localNode'][_0x1870da(0x130)]())return this['configs'][_0x1870da(0x411)][_0x1870da(0x402)](_0x1870da(0x610),{'id':_0x4eb526}),this['configs'][_0x1870da(0x411)][_0x1870da(0x9e)](!0x0),this[_0x1870da(0xbd)][_0x1870da(0x411)][_0x1870da(0x1e9)](),void this[_0x1870da(0xbd)][_0x1870da(0x411)]['initialize']();this[_0x1870da(0x588)](_0x4eb526);}[_0x397592(0x2ed)](_0x5b958f){const _0x2b4e17=_0x397592;this['ancestors'][_0x2b4e17(0x4dd)](_0x5b958f)?this['manageAncestor'](_0x5b958f):this['localNode'][_0x2b4e17(0x51e)]()['has'](_0x5b958f)&&this['manageOptimization'](_0x5b958f),this[_0x2b4e17(0x640)][_0x2b4e17(0x3a2)](_0x5b958f);const _0x56a3ab=Array[_0x2b4e17(0x1ec)](this[_0x2b4e17(0x514)][_0x2b4e17(0x1e0)]())[_0x2b4e17(0x13c)](([,_0x547535])=>_0x547535==_0x547535);_0x56a3ab&&this[_0x2b4e17(0x514)][_0x2b4e17(0x457)](_0x56a3ab[0x0]);const _0x229b51=this[_0x2b4e17(0x24a)]['getRemoteNode'](_0x5b958f);if(!_0x229b51)return;const _0x4bb2a7=_0x229b51[_0x2b4e17(0x4ac)](),_0x3522c8=this[_0x2b4e17(0x640)][_0x2b4e17(0x4ac)]();_0x3522c8&&_0x4bb2a7&&_0x4bb2a7<_0x3522c8&&this[_0x2b4e17(0x640)][_0x2b4e17(0x3d0)](_0x3522c8-0x1,!0x1),Array[_0x2b4e17(0x1ec)](this[_0x2b4e17(0x24a)][_0x2b4e17(0x1ab)]()[_0x2b4e17(0xee)]())[_0x2b4e17(0x633)](_0x74017c=>{const _0xc6c063=_0x2b4e17,_0x547546=_0x74017c[_0xc6c063(0x4ac)]();_0x547546&&_0x4bb2a7&&_0x4bb2a7<_0x547546&&_0x74017c['setRank'](_0x547546-0x1);}),_0x229b51[_0x2b4e17(0x51a)](_0x5a5175[_0x2b4e17(0x5e7)]),this[_0x2b4e17(0xbd)]['mediator'][_0x2b4e17(0x402)](_0x229b51[_0x2b4e17(0x1c2)]+_0x2b4e17(0x25e),{'id':_0x5b958f});}['notifyClusterNodeJoin']({id:_0x444fdf,metaData:_0x4db040,remoteConnections:_0x465f7c}){const _0x13e5e3=_0x397592;switch(_0x4db040['type']){case _0x25e642[_0x13e5e3(0xcc)][_0x13e5e3(0x10a)]:this[_0x13e5e3(0xbd)][_0x13e5e3(0x411)][_0x13e5e3(0x402)](_0x13e5e3(0x33b),{'id':_0x444fdf,'metaData':_0x4db040,'remoteConnections':_0x465f7c});break;case _0x25e642[_0x13e5e3(0xcc)][_0x13e5e3(0x55b)]:this[_0x13e5e3(0xbd)]['mediator'][_0x13e5e3(0x402)](_0x13e5e3(0x4d1),{'id':_0x444fdf,'metaData':_0x4db040,'remoteConnections':_0x465f7c});}}['notifyClusterNodeUpdate']({id:_0x2a438b,metaData:_0x28c11b,remoteConnections:_0x2b441f}){const _0x3cc957=_0x397592;switch(_0x28c11b[_0x3cc957(0x1c2)]){case _0x25e642[_0x3cc957(0xcc)][_0x3cc957(0x10a)]:this[_0x3cc957(0xbd)][_0x3cc957(0x411)][_0x3cc957(0x402)](_0x3cc957(0x455),{'id':_0x2a438b,'metaData':_0x28c11b,'remoteConnections':_0x2b441f});break;case _0x25e642['NodeType'][_0x3cc957(0x55b)]:this[_0x3cc957(0xbd)][_0x3cc957(0x411)]['notifyCluster'](_0x3cc957(0x381),{'id':_0x2a438b,'metaData':_0x28c11b,'remoteConnections':_0x2b441f});}}[_0x397592(0x178)](){const _0x12dbec=_0x397592;if(this[_0x12dbec(0x110)]||(this[_0x12dbec(0x110)]=Date[_0x12dbec(0x2fd)]()),this[_0x12dbec(0x465)]){if(Date[_0x12dbec(0x2fd)]()-this[_0x12dbec(0x110)]>0x2328)return;clearTimeout(this[_0x12dbec(0x465)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x4354d2=_0x12dbec;delete this[_0x4354d2(0x110)],delete this['debounceProcessRank'];const _0x3ecc24=this[_0x4354d2(0x640)][_0x4354d2(0x4ac)]();if(!_0x3ecc24)return;const _0xa41ad9=this[_0x4354d2(0x24a)][_0x4354d2(0x1b3)](this[_0x4354d2(0x24a)][_0x4354d2(0x1ab)]()['size']);if(this['optimizationLayers'][_0x4354d2(0x37e)]>=_0xa41ad9)return;let _0x2bda84=0x1;for(;this[_0x4354d2(0xbd)][_0x4354d2(0x411)]['getConnections']()[_0x4354d2(0x42e)]<this[_0x4354d2(0x24a)][_0x4354d2(0x1e5)]()&&_0x2bda84<=_0xa41ad9;){if(this[_0x4354d2(0x514)][_0x4354d2(0x1ac)](_0x2bda84)){_0x2bda84+=0x1;continue;}const _0x5c957f=this['graphService'][_0x4354d2(0x57b)](_0x3ecc24,_0x2bda84),_0x6a95f5=Array[_0x4354d2(0x1ec)](this['graphService'][_0x4354d2(0x1ab)]()[_0x4354d2(0xee)]())['find'](_0x16fa90=>_0x16fa90['getRank']()===_0x5c957f&&_0x16fa90[_0x4354d2(0x3e9)]()===_0x5a5175[_0x4354d2(0x11b)]);if(_0x6a95f5){try{await this['configs']['mediator'][_0x4354d2(0x111)](_0x6a95f5[_0x4354d2(0x130)](),_0x34a71c['Optimization']),this[_0x4354d2(0x514)]['set'](_0x2bda84,_0x6a95f5['getId']());}catch(_0x3faf8f){if(!(_0x3faf8f instanceof _0x5efe70&&_0x3faf8f[_0x4354d2(0x38b)]===_0x5efe70[_0x4354d2(0x50b)][_0x4354d2(0x3e7)]))throw _0x3faf8f;_0x29f8ca[_0x4354d2(0x298)](_0x27bb8f[_0x4354d2(0x190)],this[_0x4354d2(0x640)][_0x4354d2(0x130)](),_0x6a95f5[_0x4354d2(0x130)](),_0x3faf8f['message']);}_0x2bda84+=0x1;}else _0x2bda84+=0x1;}},0x3e8);}async['manageAncestor'](_0x5032ca){const _0x5c912b=_0x397592;this[_0x5c912b(0x630)][_0x5c912b(0x222)](this[_0x5c912b(0x630)][_0x5c912b(0x59e)](_0x5032ca),0x1);const _0xa16aca=await this[_0x5c912b(0xf9)][_0x5c912b(0x19a)]();for(const _0x131333 of _0xa16aca)if(!this[_0x5c912b(0x630)][_0x5c912b(0x4dd)](_0x131333)){const _0x56a671=Array[_0x5c912b(0x1ec)](this[_0x5c912b(0x514)]['entries']())['find'](([,_0x3d23ae])=>_0x3d23ae===_0x131333);_0x56a671&&this[_0x5c912b(0x514)][_0x5c912b(0x457)](_0x56a671[0x0]),this[_0x5c912b(0xbd)]['mediator'][_0x5c912b(0x111)](_0x131333,_0x34a71c[_0x5c912b(0x92)]);}0x0===_0xa16aca[_0x5c912b(0x42e)]&&this[_0x5c912b(0x640)]['setRank'](0x1),this[_0x5c912b(0x630)]=_0xa16aca;}async[_0x397592(0x527)](_0x222c9f){const _0x417e5d=_0x397592,_0x3296d6=this[_0x417e5d(0x640)]['getRank']();if(!_0x3296d6)return;const _0x102497=this['graphService']['getRemoteNode'](_0x222c9f);if(!_0x102497||_0x102497[_0x417e5d(0x3e9)]()===_0x5a5175[_0x417e5d(0x5e7)])return;const _0x5ac656=_0x102497[_0x417e5d(0x4ac)]();if(!_0x5ac656||_0x5ac656<_0x3296d6)return;const _0x485faf=this[_0x417e5d(0x456)](this[_0x417e5d(0x640)][_0x417e5d(0x51e)](),_0x3296d6),_0x97f045=this['getOutgoingOptimizationConnections'](_0x102497[_0x417e5d(0x51e)](),_0x5ac656)[_0x485faf[_0x417e5d(0xba)](([_0x900bdc])=>_0x900bdc===_0x222c9f)];if(!_0x97f045||this['localNode'][_0x417e5d(0x51e)]()[_0x417e5d(0x1ac)](_0x97f045[0x0]))return;const _0x31c2bf=this[_0x417e5d(0x24a)][_0x417e5d(0x5b4)](_0x97f045[0x0]);if(_0x31c2bf&&_0x31c2bf['getStatus']()!==_0x5a5175[_0x417e5d(0x5e7)])try{await this[_0x417e5d(0xbd)]['mediator']['createConnection'](_0x97f045[0x0],_0x34a71c[_0x417e5d(0x423)]);const _0x131e54=Array[_0x417e5d(0x1ec)](this[_0x417e5d(0x514)]['entries']())[_0x417e5d(0x13c)](([,_0x395d7a])=>_0x395d7a===_0x222c9f);_0x131e54&&this[_0x417e5d(0x514)]['set'](_0x131e54[0x0],_0x97f045[0x0]);}catch(_0x400a95){if(!(_0x400a95 instanceof _0x5efe70&&_0x400a95['code']===_0x5efe70['codes']['RemoteConnectionExists']))throw _0x400a95;_0x29f8ca['log'](_0x27bb8f[_0x417e5d(0x190)],this[_0x417e5d(0x640)][_0x417e5d(0x130)](),_0x97f045[0x0],_0x400a95[_0x417e5d(0x3e5)]);}}[_0x397592(0x456)](_0x37f584,_0x5906f3){const _0x3a10af=_0x397592;return Array[_0x3a10af(0x1ec)](_0x37f584)[_0x3a10af(0x29d)]((_0x17bfed,_0x165b37)=>{const _0xa76b29=_0x3a10af,_0x2f36d6=this[_0xa76b29(0x24a)][_0xa76b29(0x5b4)](_0x165b37);if(!_0x2f36d6||_0x2f36d6[_0xa76b29(0x3e9)]()===_0x5a5175[_0xa76b29(0x5e7)])return _0x17bfed;const _0x4bf0be=_0x2f36d6['getRank']();if(!_0x4bf0be)return _0x17bfed;const _0xbd068f=_0x4bf0be-_0x5906f3;return _0xbd068f<=this[_0xa76b29(0x24a)]['getMinConnections']()||_0x17bfed['push']([_0x165b37,_0xbd068f]),_0x17bfed;},[])[_0x3a10af(0x625)](([,_0x14d913],[,_0x102636])=>_0x14d913-_0x102636);}}const _0x2f763d=[{'problemType':_0x4334e1[_0x397592(0x1e1)],'remediations':[{'type':_0x331a38[_0x397592(0x3de)],'component':_0x11b7dc[_0x397592(0x4f1)],'action':_0x3b09a3[_0x397592(0x1b8)]},{'type':_0x331a38[_0x397592(0x370)],'component':_0x11b7dc['Resolution'],'action':_0x3b09a3[_0x397592(0x1b8)]}]},{'problemType':_0x4334e1[_0x397592(0xd7)],'remediations':[{'type':_0x331a38[_0x397592(0x3de)],'component':_0x11b7dc[_0x397592(0x4f1)],'action':_0x3b09a3[_0x397592(0x1b8)]}]},{'problemType':_0x4334e1[_0x397592(0x407)],'remediations':[{'type':_0x331a38[_0x397592(0x3de)],'component':_0x11b7dc['Resolution'],'action':_0x3b09a3[_0x397592(0x1b8)]}]},{'problemType':_0x4334e1[_0x397592(0x3ce)],'remediations':[{'type':_0x331a38[_0x397592(0x3de)],'component':_0x11b7dc[_0x397592(0x4f1)],'action':_0x3b09a3['Downgrade']}]},{'problemType':_0x4334e1[_0x397592(0x197)],'remediations':[{'type':_0x331a38['Remediation'],'component':_0x11b7dc['Bitrate'],'action':_0x3b09a3[_0x397592(0x1b8)]}]},{'problemType':_0x4334e1[_0x397592(0x436)],'remediations':[{'type':_0x331a38[_0x397592(0x3de)],'component':_0x11b7dc[_0x397592(0x197)],'action':_0x3b09a3['Downgrade']}]},{'problemType':_0x4334e1[_0x397592(0x469)],'remediations':[{'type':_0x331a38['Remediation'],'component':_0x11b7dc['Bitrate'],'action':_0x3b09a3[_0x397592(0x1b8)]}]}];class _0x29537a{['configs'];[_0x397592(0x4f8)];[_0x397592(0x160)]=new Map();constructor(_0x1d74e3){const _0x6e56cf=_0x397592;this['configs']=_0x1d74e3,this[_0x6e56cf(0xbd)][_0x6e56cf(0x411)]['registerSystemSource'](this);}[_0x397592(0x9e)](){const _0x394714=_0x397592;this[_0x394714(0xbd)][_0x394714(0x411)][_0x394714(0x1d1)](this);}['registerSystemPublisher'](_0x58d425){this['systemTopic']=_0x58d425;}[_0x397592(0xd0)](){const _0x3c9350=_0x397592;delete this[_0x3c9350(0x4f8)];}[_0x397592(0x17f)](_0x246b90){const _0x18ee69=_0x397592;_0x246b90[_0x18ee69(0x512)][_0x18ee69(0x1c2)]===_0xc5b684[_0x18ee69(0x58d)]&&this[_0x18ee69(0x445)](_0x246b90['content']['data']);}[_0x397592(0x277)](_0x5b1d2d){const _0x1659a9=_0x397592;_0x5b1d2d['content']['type']===_0x331a38[_0x1659a9(0x370)]&&this[_0x1659a9(0x366)](_0x5b1d2d[_0x1659a9(0x108)],{'type':_0x331a38[_0x1659a9(0x3de)],'component':_0x5b1d2d[_0x1659a9(0x512)][_0x1659a9(0x476)][_0x1659a9(0x29f)],'action':_0x5b1d2d[_0x1659a9(0x512)][_0x1659a9(0x476)]['action']});}[_0x397592(0x445)](_0x201cd3){const _0x49ccdc=_0x397592,_0x111471=_0x2f763d['find'](_0x324492=>_0x324492['problemType']===_0x201cd3['type']);_0x111471[_0x49ccdc(0x296)]?.[_0x49ccdc(0x633)](_0x426677=>{const _0x2f989b=_0x49ccdc;this['applyRemediation'](_0x201cd3[_0x2f989b(0x452)],{'type':_0x201cd3['origin']===_0x500b11['Sender']?_0x331a38['Remediation']:_0x331a38[_0x2f989b(0x370)],'component':_0x426677[_0x2f989b(0x29f)],'action':_0x426677[_0x2f989b(0x1c8)]});});}[_0x397592(0x366)](_0x488192,_0x4f3040){const _0x12dd4b=_0x397592;if(_0x4f3040['type']===_0x331a38[_0x12dd4b(0x3de)]){const _0x37c1dd=Date[_0x12dd4b(0x2fd)](),_0x1d16ea=this[_0x12dd4b(0x160)][_0x12dd4b(0x5e6)](_0x488192);if(_0x1d16ea&&_0x37c1dd-_0x1d16ea<0x1388)return;this[_0x12dd4b(0x160)][_0x12dd4b(0x42c)](_0x488192,_0x37c1dd);}_0x29f8ca['log'](_0x27bb8f[_0x12dd4b(0x3de)],_0x12dd4b(0x505),_0x4f3040),_0x29f8ca[_0x12dd4b(0x269)](_0x12dd4b(0x14e),{'clusterId':this[_0x12dd4b(0xbd)][_0x12dd4b(0xad)],'nodeId':this[_0x12dd4b(0xbd)]['localNode']['getId'](),'nodeType':this[_0x12dd4b(0xbd)][_0x12dd4b(0x640)]['type'],'remoteId':_0x488192,'data':{'type':_0x4f3040[_0x12dd4b(0x1c2)],'component':_0x4f3040['component'],'action':_0x4f3040[_0x12dd4b(0x1c8)]}});let _0x1f45f5,_0x49a69a=_0x5ef92f;_0x4f3040['type']===_0x331a38[_0x12dd4b(0x370)]&&(_0x49a69a=this['configs'][_0x12dd4b(0x640)][_0x12dd4b(0x130)](),_0x1f45f5=[_0x488192]),this[_0x12dd4b(0x4f8)]['publish']({'sourceId':_0x49a69a,'destinationIds':_0x1f45f5,'messageType':_0x542695[_0x12dd4b(0x3de)],'content':{'type':_0x4f3040['type'],'targetId':_0x488192,'data':_0x4f3040}});}}const _0x2cddd9=0x3e8,_0x3779b8=0x7530,_0x17e59e=_0x397592(0x15a),_0xd92657=_0x397592(0x279),_0x43e8ca=_0x397592(0x4cc),_0xa37ed0=[_0x17e59e,_0xd92657],_0x41b49e=[_0x43e8ca];class _0xf9ca31{['roundTripTime']=0x0;[_0x397592(0x152)]=0x0;[_0x397592(0x4ae)]=0x0;['packetsLost']=0x0;[_0x397592(0x360)]=0x0;['currentTimestamp']=0x0;[_0x397592(0x3ab)]=0x0;[_0x397592(0x309)]=0x0;[_0x397592(0xc6)]=0x0;get[_0x397592(0x438)](){const _0x5382bc=_0x397592;return this['currentTimestamp']>0x0&&this['previousTimestamp']>0x0&&Date[_0x5382bc(0x2fd)]()-this['currentTimestamp']<_0x3779b8?(this[_0x5382bc(0x309)]-this[_0x5382bc(0xc6)])/(this[_0x5382bc(0x413)]-this[_0x5382bc(0x3ab)])*0x8*0x3e8:0x0;}['processReport'](_0x24bf8d){const _0x103510=_0x397592;switch(_0x24bf8d[_0x103510(0x1c2)]){case _0x43e8ca:this[_0x103510(0x3f4)](_0x24bf8d);break;case _0x17e59e:this[_0x103510(0x289)](_0x24bf8d);break;case _0xd92657:this[_0x103510(0x140)](_0x24bf8d);}}['getReport'](){const _0x5cc88b=_0x397592;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0x5cc88b(0x404)](),'roundTripTime':this[_0x5cc88b(0xc5)],'jitter':this['jitter']};}[_0x397592(0x3f4)](_0x412e7c){const _0x1d6cd2=_0x397592;this[_0x1d6cd2(0x2ca)](_0x412e7c['bytesReceived']),this['setTimestamp'](_0x412e7c[_0x1d6cd2(0x9b)]),this[_0x1d6cd2(0x360)]=_0x412e7c[_0x1d6cd2(0x31f)],this[_0x1d6cd2(0xb9)]=_0x412e7c[_0x1d6cd2(0xb9)],void 0x0!==_0x412e7c['jitter']?this[_0x1d6cd2(0x4ae)]=_0x412e7c[_0x1d6cd2(0x4ae)]:this[_0x1d6cd2(0x4ae)]=0x0,void 0x0!==_0x412e7c[_0x1d6cd2(0x152)]?this['estimatedPlayoutTimestamp']=_0x412e7c['estimatedPlayoutTimestamp']:this['estimatedPlayoutTimestamp']=0x0;}['processOutboundReport'](_0x531a0e){const _0x19ca10=_0x397592;this['setBytes'](_0x531a0e['bytesSent']),this['setTimestamp'](_0x531a0e[_0x19ca10(0x9b)]),this[_0x19ca10(0x360)]=_0x531a0e['packetsSent'];}[_0x397592(0x140)](_0x25b41a){const _0x1ecb44=_0x397592;this[_0x1ecb44(0xc5)]=0x3e8*_0x25b41a[_0x1ecb44(0xc5)],void 0x0!==_0x25b41a[_0x1ecb44(0x4ae)]?this[_0x1ecb44(0x4ae)]=_0x25b41a[_0x1ecb44(0x4ae)]:this['jitter']=0x0;}['getPacketsLostPerc'](){const _0x6aad07=_0x397592;return this[_0x6aad07(0x360)]>0x0?this[_0x6aad07(0xb9)]/this[_0x6aad07(0x360)]:0x0;}[_0x397592(0x4e6)](_0x4b5ee7){const _0x35de47=_0x397592;_0x4b5ee7>this[_0x35de47(0x413)]&&(this[_0x35de47(0x3ab)]=this['currentTimestamp'],this['currentTimestamp']=_0x4b5ee7);}['setBytes'](_0x106d34){const _0x473eb9=_0x397592;this[_0x473eb9(0xc6)]=this['currentBytes'],this['currentBytes']=_0x106d34;}}class _0x2ea79b extends _0xf9ca31{}class _0x1d7f8d extends _0xf9ca31{[_0x397592(0x35c)]=0x0;[_0x397592(0x2d5)]=0x0;[_0x397592(0x3c5)]=0x0;[_0x397592(0x262)]=0x0;[_0x397592(0x133)]=0x0;get[_0x397592(0x53e)](){const _0x5efd75=_0x397592;return this[_0x5efd75(0x413)]>0x0&&this[_0x5efd75(0x3ab)]>0x0&&Date[_0x5efd75(0x2fd)]()-this[_0x5efd75(0x413)]<_0x3779b8?(this[_0x5efd75(0x262)]-this[_0x5efd75(0x133)])/(this[_0x5efd75(0x413)]-this[_0x5efd75(0x3ab)])*0x3e8:0x0;}get['timePerFrame'](){const _0x56ea18=_0x397592;return this[_0x56ea18(0x35c)]&&this[_0x56ea18(0x262)]&&this[_0x56ea18(0x262)]>0x0?this[_0x56ea18(0x35c)]/this['currentFrames']:0x0;}set[_0x397592(0x128)](_0x238613){const _0x432a28=_0x397592;this[_0x432a28(0x133)]=this[_0x432a28(0x262)],this[_0x432a28(0x262)]=_0x238613;}[_0x397592(0x34c)](){const _0x881182=_0x397592;return{...super['getReport'](),'FPS':this['fps'],'timePerFrame':this[_0x881182(0x529)],'frameWidth':this[_0x881182(0x2d5)],'frameHeight':this[_0x881182(0x3c5)]};}[_0x397592(0x3f4)](_0xd804a8){const _0x220a2a=_0x397592;super[_0x220a2a(0x3f4)](_0xd804a8),this['frameTime']=_0xd804a8[_0x220a2a(0x62f)],this[_0x220a2a(0x128)]=_0xd804a8[_0x220a2a(0x474)],this[_0x220a2a(0x2d5)]=_0xd804a8[_0x220a2a(0x2d5)],this[_0x220a2a(0x3c5)]=_0xd804a8[_0x220a2a(0x3c5)];}['processOutboundReport'](_0x2c5e64){const _0x516aa4=_0x397592;super[_0x516aa4(0x289)](_0x2c5e64),this[_0x516aa4(0x35c)]=_0x2c5e64['totalEncodeTime'],this['frames']=_0x2c5e64[_0x516aa4(0x352)],this['frameWidth']=_0x2c5e64[_0x516aa4(0x2d5)],this[_0x516aa4(0x3c5)]=_0x2c5e64[_0x516aa4(0x3c5)];}}class _0x2f3e15{[_0x397592(0x194)]=new _0x2ea79b();[_0x397592(0xaf)]=new _0x1d7f8d();get[_0x397592(0x438)](){const _0x1cf74c=_0x397592;return this[_0x1cf74c(0x194)]['bitrate']+this[_0x1cf74c(0xaf)][_0x1cf74c(0x438)];}[_0x397592(0x49e)](_0x4e6597){const _0x34e666=_0x397592;return _0x4e6597[_0x34e666(0x633)](_0x484788=>{const _0x48ce6c=_0x34e666;switch(_0x484788[_0x48ce6c(0x5bc)]){case _0x48ce6c(0x194):this[_0x48ce6c(0x194)][_0x48ce6c(0x102)](_0x484788);break;case'video':this[_0x48ce6c(0xaf)][_0x48ce6c(0x102)](_0x484788);}}),this[_0x34e666(0x34c)]();}['getReport'](){const _0x386ade=_0x397592;return{'audio':this[_0x386ade(0x194)]['getReport'](),'video':this['video'][_0x386ade(0x34c)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x386ade(0x531)](),'bitrate':this[_0x386ade(0x438)]};}[_0x397592(0x220)](){const _0x248985=_0x397592;return Math[_0x248985(0x4a7)]((this[_0x248985(0x194)][_0x248985(0xc5)]+this[_0x248985(0xaf)][_0x248985(0xc5)])/0x2);}[_0x397592(0x531)](){const _0x376697=_0x397592;return this[_0x376697(0x194)][_0x376697(0x152)]-this['video'][_0x376697(0x152)];}}class _0x239df0{[_0x397592(0x516)]=0x0;['senderPreviousTimestamp']=0x0;['receiverCurrentTimestamp']=0x0;['receiverPreviousTimestamp']=0x0;[_0x397592(0x577)]=0x0;[_0x397592(0x64d)]=0x0;[_0x397592(0xd2)]=0x0;[_0x397592(0x424)]=0x0;['senderTotalMessages']=0x0;[_0x397592(0xfb)]=0x0;[_0x397592(0x35d)]=0x0;['receiverTimeProcessing']=0x0;[_0x397592(0xc5)]=0x0;get[_0x397592(0x438)](){const _0x3cdb79=_0x397592;return this[_0x3cdb79(0x3ac)]+this[_0x3cdb79(0x3fa)];}get[_0x397592(0x3ac)](){const _0x313f79=_0x397592;return this['senderCurrentTimestamp']>0x0&&this[_0x313f79(0x378)]>0x0&&Date[_0x313f79(0x2fd)]()-this[_0x313f79(0x516)]<_0x3779b8?(this[_0x313f79(0x577)]-this[_0x313f79(0x64d)])/(this['senderCurrentTimestamp']-this[_0x313f79(0x378)])*0x8*0x3e8:0x0;}get[_0x397592(0x3fa)](){const _0x1ed667=_0x397592;return this['receiverCurrentTimestamp']>0x0&&this[_0x1ed667(0x28f)]>0x0&&Date[_0x1ed667(0x2fd)]()-this[_0x1ed667(0x61e)]<_0x3779b8?(this[_0x1ed667(0xd2)]-this[_0x1ed667(0x424)])/(this['receiverCurrentTimestamp']-this[_0x1ed667(0x28f)])*0x8*0x3e8:0x0;}['processReport'](_0x675260){const _0x200565=_0x397592;switch(_0x675260['origin']){case _0x500b11[_0x200565(0x36c)]:this[_0x200565(0x300)](_0x675260);break;case _0x500b11[_0x200565(0x1a5)]:this[_0x200565(0x59d)](_0x675260);}}['getReport'](){const _0xb5aa8c=_0x397592;return{'bitrate':this['bitrate'],'senderBitrate':this[_0xb5aa8c(0x3ac)],'receiverBitrate':this[_0xb5aa8c(0x3fa)],'totalBytes':this[_0xb5aa8c(0x252)](),'senderTotalBytes':this[_0xb5aa8c(0x444)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this['senderTotalMessages']+this[_0xb5aa8c(0xfb)],'senderTotalMessages':this[_0xb5aa8c(0x2b7)],'receiverTotalMessages':this[_0xb5aa8c(0xfb)],'timeProcessing':this[_0xb5aa8c(0x35d)]+this[_0xb5aa8c(0x560)],'senderTimeProcessing':this[_0xb5aa8c(0x35d)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0xb5aa8c(0xc5)]};}[_0x397592(0x252)](){const _0x2a0a61=_0x397592;return this[_0x2a0a61(0x577)]+this[_0x2a0a61(0xd2)];}[_0x397592(0x444)](){return this['senderCurrentBytes'];}[_0x397592(0x555)](){const _0x4e9bb5=_0x397592;return this[_0x4e9bb5(0xd2)];}[_0x397592(0x300)](_0x1f29a5){const _0x58db13=_0x397592;this[_0x58db13(0x184)](_0x1f29a5[_0x58db13(0x9b)]),this[_0x58db13(0x2ca)](_0x1f29a5['bytesSent']),this[_0x58db13(0x2b7)]=_0x1f29a5[_0x58db13(0x235)],this[_0x58db13(0x35d)]=_0x1f29a5[_0x58db13(0x4d2)],this['roundTripTime']=_0x1f29a5['roundTripTime'];}[_0x397592(0x59d)](_0x400afd){const _0x4c31b8=_0x397592;this[_0x4c31b8(0x392)](_0x400afd['timestamp']),this['setReceiverBytes'](_0x400afd[_0x4c31b8(0x26a)]),this[_0x4c31b8(0xfb)]=_0x400afd[_0x4c31b8(0x594)],this[_0x4c31b8(0x560)]=_0x400afd[_0x4c31b8(0x336)];}['setSenderTimestamp'](_0xaa0732){const _0x5691d1=_0x397592;_0xaa0732>this[_0x5691d1(0x516)]&&(this[_0x5691d1(0x378)]=this[_0x5691d1(0x516)],this[_0x5691d1(0x516)]=_0xaa0732);}['setReceiverTimestamp'](_0x412db9){const _0x3b4aa0=_0x397592;_0x412db9>this[_0x3b4aa0(0x61e)]&&(this[_0x3b4aa0(0x28f)]=this[_0x3b4aa0(0x61e)],this[_0x3b4aa0(0x61e)]=_0x412db9);}[_0x397592(0x2ca)](_0x410232){const _0x1415ec=_0x397592;this[_0x1415ec(0x64d)]=this[_0x1415ec(0x577)],this[_0x1415ec(0x577)]=_0x410232;}['setReceiverBytes'](_0x1aa915){this['receiverPreviousBytes']=this['receiverCurrentBytes'],this['receiverCurrentBytes']=_0x1aa915;}}class _0x16c544{['senderStreams']=new Map();['receiverStreams']=new Map();[_0x397592(0x439)]=new _0x239df0();get[_0x397592(0x3ac)](){const _0x1314fd=_0x397592;let _0x5aa9a7=0x0;return this[_0x1314fd(0x29e)][_0x1314fd(0x633)](_0x37a268=>{_0x5aa9a7+=_0x37a268['bitrate'];}),_0x5aa9a7+=this['dataChannel']['senderBitrate'],_0x5aa9a7;}get[_0x397592(0x3fa)](){const _0x2fa15d=_0x397592;let _0x85521e=0x0;return this[_0x2fa15d(0xc0)]['forEach'](_0x43ffb8=>{_0x85521e+=_0x43ffb8['bitrate'];}),_0x85521e+=this[_0x2fa15d(0x439)][_0x2fa15d(0x3fa)],_0x85521e;}get[_0x397592(0x438)](){const _0x146d8e=_0x397592;return this[_0x146d8e(0x3ac)]+this[_0x146d8e(0x3fa)];}[_0x397592(0x49e)](_0x3b608d,_0x2cedb7){const _0x5eb1b6=_0x397592,_0x29e4ef=[],_0x1aafc8=[];return _0x3b608d instanceof Array?_0x3b608d['forEach'](_0x485559=>{const _0xa0664e=a0_0x240a;_0x485559[_0xa0664e(0x633)](_0x2e55a2=>{const _0x5aacb4=_0xa0664e;_0x41b49e[_0x5aacb4(0x4dd)](_0x2e55a2[_0x5aacb4(0x1c2)])&&_0x29e4ef[_0x5aacb4(0x2d7)](_0x2e55a2),_0xa37ed0[_0x5aacb4(0x4dd)](_0x2e55a2[_0x5aacb4(0x1c2)])&&_0x1aafc8['push'](_0x2e55a2);});}):this[_0x5eb1b6(0x439)][_0x5eb1b6(0x102)](_0x3b608d),_0x29e4ef[_0x5eb1b6(0x42e)]>0x0&&_0x2cedb7?{...this[_0x5eb1b6(0x1f0)](_0x2cedb7,_0x29e4ef),'origin':_0x500b11[_0x5eb1b6(0x1a5)],'streamId':_0x2cedb7}:_0x1aafc8[_0x5eb1b6(0x42e)]>0x0&&_0x2cedb7?{...this[_0x5eb1b6(0x383)](_0x2cedb7,_0x1aafc8),'origin':_0x500b11['Sender'],'streamId':_0x2cedb7}:void 0x0;}[_0x397592(0x34c)](){const _0x4d6caf=_0x397592,_0x15e233={};this[_0x4d6caf(0x29e)][_0x4d6caf(0x633)]((_0x314a1b,_0x1552e8)=>{const _0x27a5b1=_0x4d6caf;_0x15e233[_0x1552e8]=_0x314a1b[_0x27a5b1(0x34c)]();});const _0x2237ca={};return this[_0x4d6caf(0xc0)][_0x4d6caf(0x633)]((_0x5c4022,_0xcab3ca)=>{const _0x33bace=_0x4d6caf;_0x2237ca[_0xcab3ca]=_0x5c4022[_0x33bace(0x34c)]();}),{'bitrate':this['bitrate'],'senderBitrate':this[_0x4d6caf(0x3ac)],'receiverBitrate':this[_0x4d6caf(0x3fa)],'senderStreams':_0x15e233,'receiverStreams':_0x2237ca,'dataChannel':this[_0x4d6caf(0x439)]['getReport']()};}['processInboundReports'](_0x3cee9b,_0x23a2d0){const _0x5abe27=_0x397592;return this[_0x5abe27(0xc0)][_0x5abe27(0x1ac)](_0x3cee9b)||this[_0x5abe27(0xc0)]['set'](_0x3cee9b,new _0x2f3e15()),this[_0x5abe27(0xc0)]['get'](_0x3cee9b)[_0x5abe27(0x49e)](_0x23a2d0);}[_0x397592(0x383)](_0x5dbced,_0x54be30){const _0x53255f=_0x397592;return this['senderStreams']['has'](_0x5dbced)||this[_0x53255f(0x29e)]['set'](_0x5dbced,new _0x2f3e15()),this[_0x53255f(0x29e)]['get'](_0x5dbced)[_0x53255f(0x49e)](_0x54be30);}}class _0x551935{['nodes']=new Map();[_0x397592(0x112)]=0x0;[_0x397592(0x5b3)]=0x0;[_0x397592(0x11d)]=new Map();[_0x397592(0x292)]=new Map();[_0x397592(0x500)]=new Map();['senderTotalMessages']=new Map();[_0x397592(0xfb)]=new Map();[_0x397592(0x35d)]=new Map();[_0x397592(0x560)]=new Map();[_0x397592(0x3f1)]=new Map();['systemTopic'];[_0x397592(0x34c)](){const _0x3ded47=_0x397592,_0x1f8de7={};this[_0x3ded47(0x490)]['forEach']((_0x59e60b,_0x6e9e85)=>{const _0x3b5d73=_0x3ded47;_0x1f8de7[_0x6e9e85]=_0x59e60b[_0x3b5d73(0x34c)]();});let _0x48b68a=0x0;this[_0x3ded47(0x35d)][_0x3ded47(0x633)](_0x5e0189=>{_0x48b68a+=_0x5e0189;});let _0x51ff9e=0x0;this[_0x3ded47(0x560)][_0x3ded47(0x633)](_0x5eff67=>{_0x51ff9e+=_0x5eff67;});const _0x4347dc=_0x48b68a+_0x51ff9e;let _0x14ed26={'messages':{'total':0x0}};this[_0x3ded47(0x3f1)][_0x3ded47(0x633)](_0x92f1a6=>{const _0x920d5e=_0x3ded47;Object[_0x920d5e(0x3c7)](_0x92f1a6)[_0x920d5e(0x633)](_0x1b9990=>{const _0x11ca5f=_0x920d5e;_0x14ed26[_0x1b9990]||(_0x14ed26[_0x1b9990]={}),Object[_0x11ca5f(0x3c7)](_0x92f1a6[_0x1b9990])['forEach'](_0x2fcecf=>{_0x14ed26[_0x1b9990][_0x2fcecf]||(_0x14ed26[_0x1b9990][_0x2fcecf]=0x0),_0x14ed26[_0x1b9990][_0x2fcecf]+=_0x92f1a6[_0x1b9990][_0x2fcecf];});});});let _0x488411=0x0,_0x4c7e57=0x0,_0x5b994d=0x0,_0x3970ce=0x0,_0x304c68=0x0;return this['pubsubTopics'][_0x3ded47(0x633)](_0xd4cbe5=>{const _0x2f9bae=_0x3ded47;_0x4c7e57+=_0xd4cbe5[_0x2f9bae(0x235)],_0x5b994d+=_0xd4cbe5[_0x2f9bae(0x594)],_0x3970ce+=_0xd4cbe5[_0x2f9bae(0x605)],_0x304c68+=_0xd4cbe5[_0x2f9bae(0x26a)];}),this['objectStores']['forEach'](_0x2bf33d=>{const _0x494e67=_0x3ded47;_0x488411+=_0x2bf33d[_0x494e67(0x27b)],_0x4c7e57+=_0x2bf33d['messagesSent'],_0x5b994d+=_0x2bf33d[_0x494e67(0x594)],_0x3970ce+=_0x2bf33d[_0x494e67(0x605)],_0x304c68+=_0x2bf33d[_0x494e67(0x26a)];}),this[_0x3ded47(0x500)][_0x3ded47(0x633)](_0x20dfec=>{const _0xddabb=_0x3ded47;_0x488411+=_0x20dfec[_0xddabb(0x27b)],_0x4c7e57+=_0x20dfec[_0xddabb(0x235)],_0x5b994d+=_0x20dfec[_0xddabb(0x594)],_0x3970ce+=_0x20dfec[_0xddabb(0x605)],_0x304c68+=_0x20dfec['bytesReceived'];}),{'STVolatility':this[_0x3ded47(0x369)](),'DTVolatility':this['getDTVolatility'](),'bitrate':this[_0x3ded47(0x258)](),'senderBitrate':this[_0x3ded47(0x408)](),'receiverBitrate':this[_0x3ded47(0x275)](),'totalStorageSize':_0x488411,'totalMessages':_0x4c7e57+_0x5b994d,'totalMessagesSent':_0x4c7e57,'totalMessagesReceived':_0x5b994d,'totalBytes':_0x3970ce+_0x304c68,'totalBytesSent':_0x3970ce,'totalBytesReceived':_0x304c68,'systemMessages':_0x14ed26,'timeProcessing':_0x4347dc,'nodes':_0x1f8de7,'pubsubTopics':Object[_0x3ded47(0x401)](this['pubsubTopics']),'objectStores':Object[_0x3ded47(0x401)](this[_0x3ded47(0x292)]),'keyValueDatabases':Object[_0x3ded47(0x401)](this[_0x3ded47(0x500)])};}[_0x397592(0x143)](_0x183de7){const _0x245872=_0x397592;this[_0x245872(0x490)][_0x245872(0x42c)](_0x183de7,new _0x16c544());}[_0x397592(0x64a)](_0x3717c4){const _0x1c203a=_0x397592;this[_0x1c203a(0x490)][_0x1c203a(0x457)](_0x3717c4);}[_0x397592(0x49e)](_0x550c39,_0x5a52f1,_0x24bbd9){const _0x4031dd=_0x397592;_0x5a52f1 instanceof Array||this['processDataChannelReport'](_0x550c39,_0x5a52f1);const _0x49e9c1=this['nodes']['get'](_0x550c39)?.['processReports'](_0x5a52f1,_0x24bbd9);_0x49e9c1&&this['systemTopic'][_0x4031dd(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x4031dd(0x1e6)],'content':{'type':_0x17138b['StreamReport'],'data':{..._0x49e9c1,'nodeId':_0x550c39}}});}[_0x397592(0x4ec)](_0x250c62){const _0x4f9a7c=_0x397592;this[_0x4f9a7c(0x2f3)](_0x250c62[_0x4f9a7c(0x5c3)]),this['setDurationTime'](_0x250c62[_0x4f9a7c(0x5b3)]),this[_0x4f9a7c(0x4f8)][_0x4f9a7c(0x16f)]({'sourceId':_0x5ef92f,'messageType':_0x542695[_0x4f9a7c(0x1e6)],'content':{'type':_0x17138b['LocalReport'],'data':{'STVolatility':this[_0x4f9a7c(0x369)](),'DTVolatility':this[_0x4f9a7c(0x63e)]()}}});}['processServiceReport'](_0x4c399e,_0x5db766,_0x4d5c5e){const _0x448bd=_0x397592;switch(_0x5db766){case _0x566301[_0x448bd(0x26e)]:this['pubsubTopics']['set'](_0x4c399e,_0x4d5c5e);break;case _0x566301['ObjectStoreStats']:this['objectStores'][_0x448bd(0x42c)](_0x4c399e,_0x4d5c5e);break;case _0x566301[_0x448bd(0xd3)]:this['keyValueDatabases'][_0x448bd(0x42c)](_0x4c399e,_0x4d5c5e);}}['registerSystemPublisher'](_0x5723fd){const _0x3833c4=_0x397592;this[_0x3833c4(0x4f8)]=_0x5723fd;}[_0x397592(0xd0)](){const _0xbdb6db=_0x397592;delete this[_0xbdb6db(0x4f8)];}[_0x397592(0x369)](){const _0x524d7d=_0x397592;return this[_0x524d7d(0x112)]>0x0&&this['scheduleTime']-_0x2cddd9>0x0?(this[_0x524d7d(0x112)]-_0x2cddd9)/_0x2cddd9:0x0;}[_0x397592(0x63e)](){const _0x596ff3=_0x397592;return this[_0x596ff3(0x5b3)]>0x0&&this[_0x596ff3(0x5b3)]-0x64>0x0?(this[_0x596ff3(0x5b3)]-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x478f21=_0x397592;let _0xd7798f=0x0;return this[_0x478f21(0x490)]['forEach'](_0x23c3a7=>{const _0x4f15f6=_0x478f21;_0xd7798f+=_0x23c3a7[_0x4f15f6(0x3ac)];}),_0xd7798f;}['getReceiverBitrate'](){const _0x2752e2=_0x397592;let _0x33a4ff=0x0;return this['nodes'][_0x2752e2(0x633)](_0x4e57ad=>{const _0x7e0a19=_0x2752e2;_0x33a4ff+=_0x4e57ad[_0x7e0a19(0x3fa)];}),_0x33a4ff;}[_0x397592(0x258)](){const _0x9010ce=_0x397592;let _0x5cf7a6=0x0;return this['nodes'][_0x9010ce(0x633)](_0xd8d44e=>{const _0x555476=_0x9010ce;_0x5cf7a6+=_0xd8d44e[_0x555476(0x438)];}),_0x5cf7a6;}[_0x397592(0x2f3)](_0x189069){const _0x1f3d3a=_0x397592;this[_0x1f3d3a(0x112)]=_0x189069;}['setDurationTime'](_0x1d9fab){const _0x2c48ed=_0x397592;this[_0x2c48ed(0x5b3)]=_0x1d9fab;}['processDataChannelReport'](_0x4a21a6,_0xbaf71){const _0x101096=_0x397592;switch(_0xbaf71[_0x101096(0x2e2)]){case _0x500b11[_0x101096(0x36c)]:this['processSenderReport'](_0x4a21a6,_0xbaf71);break;case _0x500b11[_0x101096(0x1a5)]:this[_0x101096(0x59d)](_0x4a21a6,_0xbaf71);}}[_0x397592(0x300)](_0xfa192b,_0x1a8344){const _0x53d1b7=_0x397592;this['senderTotalMessages'][_0x53d1b7(0x42c)](_0xfa192b,_0x1a8344[_0x53d1b7(0x235)]),this['senderTimeProcessing'][_0x53d1b7(0x42c)](_0xfa192b,_0x1a8344[_0x53d1b7(0x4d2)]);}['processReceiverReport'](_0x444500,_0x5757aa){const _0x5ebba1=_0x397592;this[_0x5ebba1(0xfb)]['set'](_0x444500,_0x5757aa[_0x5ebba1(0x594)]),this[_0x5ebba1(0x560)]['set'](_0x444500,_0x5757aa['timeReceiving']),this[_0x5ebba1(0x3f1)][_0x5ebba1(0x42c)](_0x444500,_0x5757aa[_0x5ebba1(0x3f1)]);}}class _0x490c55{[_0x397592(0xbd)];[_0x397592(0x433)]=new Set();[_0x397592(0x4d5)];[_0x397592(0x464)];[_0x397592(0x1c5)];[_0x397592(0x33f)]=new _0x551935();constructor(_0x3246d4){const _0x5962fd=_0x397592;this[_0x5962fd(0xbd)]=_0x3246d4,this[_0x5962fd(0xbd)][_0x5962fd(0x411)][_0x5962fd(0xa3)](this['statsReport']),this['statsCollection']=this[_0x5962fd(0x58a)](),this[_0x5962fd(0x1c5)]=this['setupStatsReporting']();}['close'](){const _0x4b795c=_0x397592;this['configs'][_0x4b795c(0x411)]['unregisterSystemSource'](this[_0x4b795c(0x33f)]),this[_0x4b795c(0x1c5)](),this[_0x4b795c(0x464)]();}[_0x397592(0x143)](_0x5b3433){const _0x24c3a9=_0x397592;this['remoteNodes'][_0x24c3a9(0x11f)](_0x5b3433),this[_0x24c3a9(0x33f)]['addRemoteNode'](_0x5b3433);}['removeRemoteNode'](_0x66d8e){const _0x7cf44a=_0x397592;this['remoteNodes'][_0x7cf44a(0x457)](_0x66d8e),this[_0x7cf44a(0x33f)][_0x7cf44a(0x64a)](_0x66d8e);}[_0x397592(0x41c)](_0x408c56){const _0x484314=_0x397592;if(_0x408c56[_0x484314(0x512)][_0x484314(0x1c2)]===_0x13a1c5[_0x484314(0x1e6)]){const {nodeId:_0x2fc425,streamId:_0x390ed3,stats:_0x2d2f51}=_0x408c56[_0x484314(0x512)];this[_0x484314(0x33f)]['processReports'](_0x2fc425,_0x2d2f51,_0x390ed3);}}[_0x397592(0x418)](_0x430504){const _0x59643a=_0x397592;switch(_0x430504[_0x59643a(0x512)][_0x59643a(0x1c2)]){case _0x566301[_0x59643a(0x282)]:case _0x566301[_0x59643a(0xd3)]:case _0x566301['PubSubTopicStats']:this[_0x59643a(0x33f)]['processServiceReport'](_0x430504['content'][_0x59643a(0x290)],_0x430504['content'][_0x59643a(0x1c2)],_0x430504[_0x59643a(0x512)][_0x59643a(0x5d1)]);}}[_0x397592(0x283)](){const _0x15becc=_0x397592;return _0x48ae88[_0x15becc(0x18f)](()=>{const _0x108751=_0x15becc,_0x34a534=this[_0x108751(0x33f)][_0x108751(0x34c)]();_0x29f8ca[_0x108751(0x298)](_0x27bb8f['Stats'],_0x108751(0x314),_0x34a534),(0x0,_0x2aaf65[_0x108751(0x31b)])((0x0,_0x2aaf65[_0x108751(0x253)])(_0x180399[_0x108751(0x40d)](),'developers/'+this['configs'][_0x108751(0x5f7)]+'/stats'),{'clusterId':this[_0x108751(0xbd)][_0x108751(0xad)],'nodeId':this[_0x108751(0xbd)][_0x108751(0x640)]['getId'](),'nodeType':this[_0x108751(0xbd)]['localNode']['type'],'timestamp':(0x0,_0x2aaf65['serverTimestamp'])(),'report':_0x34a534}),_0x29f8ca[_0x108751(0x269)](_0x108751(0x5d1),{'clusterId':this[_0x108751(0xbd)]['clusterId'],'nodeId':this['configs'][_0x108751(0x640)]['getId'](),'nodeType':this[_0x108751(0xbd)][_0x108751(0x640)][_0x108751(0x1c2)],'data':{'report':_0x34a534}});},_0x3779b8);}[_0x397592(0x58a)](){const _0x434b3e=_0x397592;let _0x154984=!0x1,_0x33be5e=Date['now']();return _0x48ae88[_0x434b3e(0x18f)](async()=>{const _0x1df68c=_0x434b3e;if(_0x154984)return;if(_0x154984=!0x0,0x0===this[_0x1df68c(0x433)][_0x1df68c(0x37e)])return delete this['nextNodeId'],void(_0x154984=!0x1);const _0x5a43d1=Date[_0x1df68c(0x2fd)]();this[_0x1df68c(0xe8)]();try{await this[_0x1df68c(0xbd)][_0x1df68c(0x411)][_0x1df68c(0x32f)](this['nextNodeId']);}catch(_0x304cf0){}this[_0x1df68c(0x33f)]['processLocalReport']({'secheduleTime':_0x5a43d1-_0x33be5e,'durationTime':Date['now']()-_0x5a43d1}),_0x33be5e=_0x5a43d1,_0x154984=!0x1;},_0x2cddd9);}[_0x397592(0xe8)](){const _0x297663=_0x397592;let _0x407954,_0x2e87c9=!0x1;this['nextNodeId']&&(this[_0x297663(0x433)][_0x297663(0x1ac)](this['nextNodeId'])||delete this[_0x297663(0x4d5)]);for(const _0x2a783e of this['remoteNodes'])if(_0x407954||(_0x407954=_0x2a783e),this[_0x297663(0x4d5)]!==_0x2a783e){if(_0x2e87c9)return void(this[_0x297663(0x4d5)]=_0x2a783e);}else _0x2e87c9=!0x0,delete this[_0x297663(0x4d5)];this[_0x297663(0x4d5)]||(this['nextNodeId']=_0x407954);}}class _0x3e13ae{[_0x397592(0x4b8)];[_0x397592(0x627)];[_0x397592(0x4f8)];constructor(_0x5801c8,_0x42cbe1){const _0x423ce9=_0x397592;this[_0x423ce9(0x4b8)]=_0x5801c8,this['destination']=_0x42cbe1;}[_0x397592(0x2f1)](_0x286580){const _0x471d24=_0x397592;this[_0x471d24(0x4f8)]=_0x286580;}[_0x397592(0xd0)](){delete this['systemTopic'];}}class _0x32d1d7 extends _0x3e13ae{[_0x397592(0x4b8)];['destination'];[_0x397592(0x528)];constructor(_0x4496b1,_0x47aac4,_0x3cceca){const _0x402135=_0x397592;super(_0x4496b1,_0x47aac4),this[_0x402135(0x4b8)]=_0x4496b1,this[_0x402135(0x627)]=_0x47aac4,this[_0x402135(0x528)]=_0x3cceca;}[_0x397592(0xda)](_0x293c45,_0x162606,_0x3e0049){const _0x18e6ee=_0x397592;if(this[_0x18e6ee(0x627)]['getContentType']()===_0x25e642[_0x18e6ee(0x20d)][_0x18e6ee(0x1e4)]){const _0x2e1f45={'type':_0x300949[_0x18e6ee(0x57c)],'label':this[_0x18e6ee(0x627)][_0x18e6ee(0x331)](),'ownerId':_0x293c45,'trackKinds':_0x162606??this['destination'][_0x18e6ee(0x635)](),'params':_0x3e0049};this[_0x18e6ee(0x4f8)][_0x18e6ee(0x16f)]({'sourceId':this[_0x18e6ee(0x4b8)]['getLocalId'](),'destinationIds':[this[_0x18e6ee(0x4b8)][_0x18e6ee(0x240)]()],'messageType':_0x542695[_0x18e6ee(0x548)],'content':_0x2e1f45}),this[_0x18e6ee(0x528)]=_0x3e0049;}}['update'](_0x53c2ce,_0x5d8053){const _0x4ae6ee=_0x397592;if(this[_0x4ae6ee(0x627)][_0x4ae6ee(0x4ad)]()===_0x25e642[_0x4ae6ee(0x20d)][_0x4ae6ee(0x1e4)]){const _0x53defe={'type':_0x300949['UpdateMediaStream'],'label':this[_0x4ae6ee(0x627)][_0x4ae6ee(0x331)](),'ownerId':_0x53c2ce,'params':_0x5d8053};this['systemTopic'][_0x4ae6ee(0x16f)]({'sourceId':this['source'][_0x4ae6ee(0x3bb)](),'destinationIds':[this[_0x4ae6ee(0x4b8)][_0x4ae6ee(0x240)]()],'messageType':_0x542695[_0x4ae6ee(0x548)],'content':_0x53defe}),this[_0x4ae6ee(0x528)]=_0x5d8053;}}['unsubscribe'](_0x27b765,_0x163853,_0x41af29){const _0x3f5fca=_0x397592;if(this[_0x3f5fca(0x627)][_0x3f5fca(0x4ad)]()===_0x25e642['ContentType']['Media']){const _0x34bc06={'type':_0x300949['UnsubscribeMediaStream'],'label':this[_0x3f5fca(0x627)]['getLabel'](),'ownerId':_0x27b765,'trackKinds':_0x41af29??this['destination']['getAvailableTrackKinds'](),'remainingTracks':_0x163853};this[_0x3f5fca(0x4f8)][_0x3f5fca(0x16f)]({'sourceId':this[_0x3f5fca(0x4b8)][_0x3f5fca(0x3bb)](),'destinationIds':[this[_0x3f5fca(0x4b8)][_0x3f5fca(0x240)]()],'messageType':_0x542695['Subscription'],'content':_0x34bc06});}}}class _0x2dac80{[_0x397592(0x56d)];[_0x397592(0x50d)];[_0x397592(0x99)];[_0x397592(0x4f8)];[_0x397592(0x34b)]=new Set();[_0x397592(0x5b8)]=Date['now']();[_0x397592(0x528)];['retryCount']=0x0;constructor(_0x10caad,_0x58cd3b,_0xea9bf9,_0x5969e3){const _0x43d499=_0x397592;this[_0x43d499(0x56d)]=_0x58cd3b,this['maxDistance']=_0xea9bf9,this[_0x43d499(0x99)]=_0x5969e3,_0x10caad[_0x43d499(0x633)](_0x3e1a04=>{const _0x418a47=_0x43d499;this['answers'][_0x418a47(0x11f)]({'nodeId':_0x3e1a04,'type':_0x48638e['Waiting']});});}[_0x397592(0x619)](){const _0x3fa5e8=_0x397592;return this[_0x3fa5e8(0x99)];}[_0x397592(0x2f1)](_0xfa5721){const _0x1fe17b=_0x397592;this[_0x1fe17b(0x4f8)]=_0xfa5721;}[_0x397592(0xd0)](){const _0x595f55=_0x397592;delete this[_0x595f55(0x4f8)];}['reset'](_0x3a9698,_0x3a7a68){const _0x3df94d=_0x397592;this[_0x3df94d(0x5b8)]=Date[_0x3df94d(0x2fd)](),this[_0x3df94d(0x34b)][_0x3df94d(0x562)](),_0x3a9698[_0x3df94d(0x633)](_0x4c267b=>{const _0x2b2673=_0x3df94d;this[_0x2b2673(0x34b)][_0x2b2673(0x11f)]({'nodeId':_0x4c267b,'type':_0x48638e[_0x2b2673(0x4e0)]});}),this['retryCount']+=0x1,this[_0x3df94d(0x56d)]=_0x3a7a68;}[_0x397592(0x441)](_0x43d789,_0x6c3ef8,_0x22704b,_0x12d726,_0x219edc){const _0x3d19bf=_0x397592;if(this['retryCount']>0xa)throw new _0x5efe70(_0x5efe70['codes']['SubscriptionRequestNoAnswer'],{'answers':Array['from'](this['answers'])[_0x3d19bf(0x4e7)](_0x172000=>({'nodeId':_0x172000[_0x3d19bf(0x452)],'type':_0x172000[_0x3d19bf(0x1c2)]}))});const _0x31ddb7=Array[_0x3d19bf(0x1ec)](this['answers'])[_0x3d19bf(0x4e7)](_0x2476be=>_0x2476be[_0x3d19bf(0x452)]);this['params']=_0x219edc,this[_0x3d19bf(0x4f8)][_0x3d19bf(0x16f)]({'sourceId':_0x43d789,'destinationIds':_0x31ddb7,'messageType':_0x542695[_0x3d19bf(0x548)],'content':{'type':_0x300949[_0x3d19bf(0x42b)],'label':_0x22704b,'ownerId':_0x6c3ef8,'trackKinds':_0x12d726,'params':_0x219edc}}),_0x29f8ca[_0x3d19bf(0x298)](_0x27bb8f[_0x3d19bf(0x548)],_0x3d19bf(0x39c),_0x43d789,_0x31ddb7);}[_0x397592(0x460)](_0x45b347,_0x2bc90c){const _0x3371c2=_0x397592;switch(_0x2bc90c[_0x3371c2(0x1c2)]){case _0x300949[_0x3371c2(0x54e)]:{const _0x46cae9=this[_0x3371c2(0x56d)]>=_0x2bc90c[_0x3371c2(0x23c)]&&_0x2bc90c[_0x3371c2(0x23c)]<=this[_0x3371c2(0x50d)],_0x2d1533=Array[_0x3371c2(0x1ec)](this[_0x3371c2(0x34b)])['find'](_0x5913ec=>_0x5913ec[_0x3371c2(0x452)]===_0x45b347);_0x2d1533[_0x3371c2(0x1c2)]=_0x46cae9?_0x48638e[_0x3371c2(0x248)]:_0x48638e[_0x3371c2(0x590)],_0x2d1533['cost']=_0x2bc90c['cost'],_0x2d1533['distance']=_0x2bc90c[_0x3371c2(0x23c)],_0x2d1533[_0x3371c2(0x2da)]=_0x2bc90c['streamId'],_0x2d1533['roundTripTime']=Date['now']()-this[_0x3371c2(0x5b8)],_0x2d1533[_0x3371c2(0x528)]=this['params'],_0x2d1533['ownerId']=_0x2bc90c[_0x3371c2(0x4fb)],_0x2d1533['trackKinds']=_0x2bc90c[_0x3371c2(0x158)],_0x2d1533['streamLabel']=_0x2bc90c['label'],_0x29f8ca['log'](_0x27bb8f[_0x3371c2(0x548)],(_0x46cae9?_0x3371c2(0x248):'Rejected')+_0x3371c2(0x1af),_0x2d1533);break;}case _0x300949[_0x3371c2(0x56f)]:{const _0x523202=Array[_0x3371c2(0x1ec)](this[_0x3371c2(0x34b)])['find'](_0xd9adb8=>_0xd9adb8[_0x3371c2(0x452)]===_0x45b347);_0x523202['type']=_0x48638e[_0x3371c2(0x590)],_0x29f8ca[_0x3371c2(0x298)](_0x27bb8f['Subscription'],_0x3371c2(0x3f2),_0x523202);break;}}if(this[_0x3371c2(0x3f3)]())return this[_0x3371c2(0x3b4)]();}[_0x397592(0x3b4)](){const _0x4061f2=_0x397592,_0x49917f=Array[_0x4061f2(0x1ec)](this[_0x4061f2(0x34b)])[_0x4061f2(0x602)](_0x3c2843=>_0x3c2843['type']===_0x48638e[_0x4061f2(0x248)])[_0x4061f2(0x625)]((_0x514ce1,_0x325b3f)=>_0x514ce1[_0x4061f2(0x3a5)]===_0x325b3f[_0x4061f2(0x3a5)]?_0x514ce1[_0x4061f2(0xc5)]-_0x325b3f[_0x4061f2(0xc5)]:_0x514ce1[_0x4061f2(0x3a5)]-_0x325b3f[_0x4061f2(0x3a5)]);if(0x0===_0x49917f[_0x4061f2(0x42e)])throw new _0x5efe70(_0x5efe70[_0x4061f2(0x50b)][_0x4061f2(0x106)],{'answers':Array[_0x4061f2(0x1ec)](this[_0x4061f2(0x34b)])['map'](_0x22fd95=>({'nodeId':_0x22fd95[_0x4061f2(0x452)],'type':_0x22fd95[_0x4061f2(0x1c2)]}))});return _0x29f8ca['log'](_0x27bb8f[_0x4061f2(0x548)],'Chosen\x20answer',_0x49917f[0x0],this[_0x4061f2(0x34b)]),_0x49917f[0x0];}[_0x397592(0x3f3)](){const _0x4509c9=_0x397592;for(const _0x4e5b28 of this[_0x4509c9(0x34b)])if(_0x4e5b28['type']===_0x48638e[_0x4509c9(0x4e0)])return!0x1;return!0x0;}}class _0x3c591b{[_0x397592(0x290)];[_0x397592(0x169)];[_0x397592(0x241)]=_0x19e3ff();constructor(_0x49f657,_0x8569b3){const _0x3c1da4=_0x397592;this[_0x3c1da4(0x290)]=_0x49f657,this[_0x3c1da4(0x169)]=_0x8569b3;}[_0x397592(0x331)](){return this['label'];}[_0x397592(0x4ad)](){const _0xbe4b6e=_0x397592;return this[_0xbe4b6e(0x169)];}[_0x397592(0x302)](_0xf7645){_0xf7645['registerPublisher'](this);}['registerDestination'](_0x105ace){const _0xd0d4b1=_0x397592;_0x105ace[_0xd0d4b1(0x18c)](this);}['publish'](_0x46d502){const _0x48ab19=_0x397592;this[_0x48ab19(0x241)][_0x48ab19(0x16f)]({'topicLabel':this[_0x48ab19(0x290)],'contentType':this[_0x48ab19(0x169)],'uuid':(0x0,_0x415063['v4'])(),'recipients':[],..._0x46d502});}['subscribe'](_0x27af7b){return this['listener']['subscribe'](_0x27af7b);}['unregisterSource'](_0x1a2542){const _0x7efea8=_0x397592;_0x1a2542[_0x7efea8(0x3d3)](this);}[_0x397592(0x3f6)](_0x235475){const _0x1332c2=_0x397592;_0x235475[_0x1332c2(0x34a)](this);}}class _0x1edd1e{[_0x397592(0x49f)]={'topics':new Map(),'subscriptions':new Map()};[_0x397592(0x117)];constructor(_0xf95df0){const _0x144db3=_0x397592;this[_0x144db3(0x117)]=_0xf95df0;}get['subscriptions'](){const _0x5d2429=_0x397592;return this[_0x5d2429(0x49f)][_0x5d2429(0x62d)];}get[_0x397592(0x494)](){const _0x2b463d=_0x397592;return this[_0x2b463d(0x49f)][_0x2b463d(0x494)];}[_0x397592(0x4aa)](_0x15ac8b,_0x5a9fe0){const _0x203a2d=_0x397592,_0x465ad0=this[_0x203a2d(0x117)](_0x5a9fe0),_0x2c9d29=_0x116c76(_0x15ac8b);if(!_0x465ad0[_0x203a2d(0x239)])throw new _0x5efe70(_0x5efe70[_0x203a2d(0x50b)][_0x203a2d(0x648)],{'message':_0x2c9d29+':\x20'+_0x465ad0['remoteId']+_0x203a2d(0xa5)+_0x465ad0['contentType'],'subscriptionType':_0x15ac8b,'subscription':_0x5a9fe0,'subscriptonParts':_0x465ad0});const _0xc96893=_0x4a1e73(_0x15ac8b,_0x465ad0);if(this[_0x203a2d(0x49f)][_0x203a2d(0x62d)]['has'](_0xc96893))throw new _0x5efe70(_0x5efe70[_0x203a2d(0x50b)][_0x203a2d(0x648)],{'message':_0x2c9d29+':\x20'+_0xc96893+_0x203a2d(0xd8),'subscriptionType':_0x15ac8b,'subscription':_0x5a9fe0,'subscriptonParts':_0x465ad0});this[_0x203a2d(0x49f)][_0x203a2d(0x62d)][_0x203a2d(0x42c)](_0xc96893,_0x5a9fe0),this[_0x203a2d(0x12c)](_0x465ad0,_0x5a9fe0);}[_0x397592(0x2dc)](_0x3857b5,_0x1635c9){const _0x3af1b6=_0x397592,_0x5c5ed6=_0x4a1e73(_0x1635c9,_0x3857b5),_0x1f69c0=this['maps'][_0x3af1b6(0x62d)]['get'](_0x5c5ed6);if(!_0x1f69c0)throw new _0x5efe70(_0x5efe70[_0x3af1b6(0x50b)][_0x3af1b6(0x648)],{'message':_0x116c76(_0x1635c9)+':\x20'+_0x5c5ed6+_0x3af1b6(0x193),'subscriptionType':_0x1635c9,'subscription':_0x1f69c0,'subscriptonParts':_0x3857b5});this['closeSubscription'](_0x1f69c0,_0x5c5ed6,_0x3857b5);}[_0x397592(0x56c)](_0x1a4d0b,_0x38a8e2,_0xf6bb17){const _0x111d3c=_0x397592;_0xf6bb17=_0xf6bb17||this[_0x111d3c(0x117)](_0x1a4d0b),this[_0x111d3c(0x49f)][_0x111d3c(0x62d)][_0x111d3c(0x457)](_0x38a8e2),this[_0x111d3c(0x1e3)](_0xf6bb17,_0x1a4d0b);}[_0x397592(0x12c)](_0x25ec30,{source:_0x596d10,destination:_0x4edc26}){const _0x285ee3=_0x397592,{contentType:_0x3646c2,label:_0x31ed75,remoteId:_0x16362f}=_0x25ec30,_0x2022d7=_0x47085d(_0x3646c2,_0x31ed75,_0x16362f),_0x1ea1de=new _0x3c591b(_0x2022d7,_0x3646c2);_0x1ea1de['registerSource'](_0x596d10),_0x1ea1de[_0x285ee3(0x204)](_0x4edc26),this[_0x285ee3(0x49f)][_0x285ee3(0x494)]['set'](_0x1ea1de[_0x285ee3(0x331)](),_0x1ea1de);}[_0x397592(0x1e3)](_0x290641,_0x5d7c1b){const _0x40e9ae=_0x397592,{contentType:_0x276663,label:_0x233b51,remoteId:_0xfbe74f}=_0x290641,_0x4dc4d2=_0x47085d(_0x276663,_0x233b51,_0xfbe74f),_0x12360e=this['maps'][_0x40e9ae(0x494)][_0x40e9ae(0x5e6)](_0x4dc4d2);_0x12360e&&(this['closeTopic'](_0x12360e,_0x5d7c1b),this[_0x40e9ae(0x49f)][_0x40e9ae(0x494)][_0x40e9ae(0x457)](_0x4dc4d2));}[_0x397592(0x3b3)](_0x18ab2b,{source:_0x5ed642,destination:_0x571788}){const _0x57d32d=_0x397592;_0x18ab2b[_0x57d32d(0x561)](_0x5ed642),_0x18ab2b[_0x57d32d(0x3f6)](_0x571788);}[_0x397592(0x3f8)](_0x5c4793){const _0x17b93a=_0x397592;this['maps'][_0x17b93a(0x62d)][_0x17b93a(0x633)]((_0x49e396,_0x3f2d76)=>{const _0x36d305=_0x17b93a;_0x3f2d76[_0x36d305(0x5d0)](_0x5c4793)&&this[_0x36d305(0x56c)](_0x49e396,_0x3f2d76);});}}class _0x113bb9{[_0x397592(0xbd)];['maxDistance'];[_0x397592(0x2f0)]=new Map();[_0x397592(0x506)]=_0x3a6f72(new _0x2d1775(this[_0x397592(0x60f)][_0x397592(0x62b)](this),()=>_0x48ae88[_0x397592(0x534)](0x64)),!0x0);[_0x397592(0x207)]=new Map();[_0x397592(0x49f)];['chosenAnswers']=new Map();constructor(_0x7b13df,_0x150a0e){const _0x11bd36=_0x397592;this[_0x11bd36(0xbd)]=_0x7b13df,this[_0x11bd36(0x50d)]=_0x150a0e,this[_0x11bd36(0x49f)]=new _0x1edd1e(({source:_0x268116,destination:_0x4681b0})=>_0x2890a9(_0x4681b0,_0x268116));}[_0x397592(0x4aa)](_0x563d35,_0x18fb21){const _0x165e44=_0x397592,_0x3b906d=this[_0x165e44(0x521)](_0x563d35)&&this[_0x165e44(0x5b1)](_0x18fb21)?new _0x32d1d7(_0x563d35,_0x18fb21):new _0x3e13ae(_0x563d35,_0x18fb21);this[_0x165e44(0x49f)]['createSubscription'](_0x15d642['Incoming'],_0x3b906d),this[_0x165e44(0xbd)][_0x165e44(0x411)][_0x165e44(0xa3)](_0x3b906d);}['removeSubscription'](_0x37f506,_0x2a8f4d,_0x55af64=''){const _0x578320=_0x397592,_0x3bd84e={'contentType':_0x2a8f4d,'label':_0x37f506,'remoteId':_0x55af64},_0x1c5ef1=_0x4a1e73(_0x15d642[_0x578320(0x4f4)],_0x3bd84e),_0x35d6e3=this[_0x578320(0x49f)][_0x578320(0x62d)]['get'](_0x1c5ef1);_0x35d6e3&&this[_0x578320(0x56c)](_0x35d6e3,_0x1c5ef1);}['handleContentUnpublishMediaStream'](_0xccf073){const _0x5cf5a0=_0x397592;this[_0x5cf5a0(0xc8)](_0xccf073);}[_0x397592(0x237)]({label:_0x4554e3,ownerId:_0x2dd364,trackKinds:_0x27e41c,params:_0x591e76}){const _0x33624a=_0x397592;this[_0x33624a(0xa2)](_0x4554e3,_0x2dd364,_0x27e41c,_0x591e76);}[_0x397592(0x1de)]({ownerId:_0x4bded8,label:_0x5b8261,params:_0x1fa86c}){const _0x134c1c=_0x397592,{subscriptionLabel:_0x110f85}=this[_0x134c1c(0x495)](_0x5b8261,_0x4bded8),_0xda9195=this['getMediaSubscription'](_0x110f85);_0xda9195&&_0xda9195['update'](_0x4bded8,_0x1fa86c);}[_0x397592(0x5c1)]({ownerId:_0x1f18ed,label:_0x21c9c4,trackKinds:_0x48fe1e,remainingTracks:_0x5bcd1a}){const _0x2093e5=_0x397592,_0x33f7aa=_0x4a1e73(_0x15d642[_0x2093e5(0x4f4)],{'contentType':_0x25e642[_0x2093e5(0x20d)]['Media'],'label':_0x21c9c4,'remoteId':_0x1f18ed});this[_0x2093e5(0x4c7)](_0x33f7aa);const _0xb2af35=this['subscriptionRequests']['get'](_0x33f7aa);_0xb2af35&&(this[_0x2093e5(0xbd)][_0x2093e5(0x411)][_0x2093e5(0x1d1)](_0xb2af35),this['subscriptionRequests'][_0x2093e5(0x457)](_0x33f7aa));const {parts:_0xd8bdf1,subscriptionLabel:_0x61e5c1}=this['getSubscriptionLabel'](_0x21c9c4,_0x1f18ed),_0x213dd1=this[_0x2093e5(0x2cb)](_0x61e5c1);_0x213dd1&&(_0x213dd1[_0x2093e5(0x238)](_0x1f18ed,_0x5bcd1a,_0x48fe1e),0x0===_0x5bcd1a&&this[_0x2093e5(0x2dc)](_0xd8bdf1[_0x2093e5(0x290)],_0xd8bdf1[_0x2093e5(0x169)],_0xd8bdf1[_0x2093e5(0x33a)]));}[_0x397592(0x134)](_0x443949,{label:_0x96c973,ownerId:_0x15914b,trackKinds:_0x93c1d7,streamId:_0x325686,params:_0x2fa7db}){const _0x2fdbbb=_0x397592,_0x43a43d=_0x4a1e73(_0x15d642[_0x2fdbbb(0x4f4)],{'contentType':_0x25e642['ContentType'][_0x2fdbbb(0x1e4)],'label':_0x325686,'remoteId':_0x443949}),_0x54957f=this[_0x2fdbbb(0x49f)]['subscriptions']['get'](_0x43a43d);if(!(_0x54957f&&_0x54957f instanceof _0x32d1d7))throw new _0x5efe70(_0x5efe70[_0x2fdbbb(0x50b)][_0x2fdbbb(0x56e)],{'label':_0x43a43d,'ownerId':_0x15914b});this[_0x2fdbbb(0x56c)](_0x54957f,_0x43a43d),this[_0x2fdbbb(0xa2)](_0x96c973,_0x15914b,_0x93c1d7,_0x2fa7db);}[_0x397592(0x5ec)](_0x276f44,_0x31a691){const _0x45f6f3=_0x397592,{label:_0x128f49,ownerId:_0x2de5b0,trackKinds:_0x78636c,params:_0x5a88a7}=_0x31a691,_0x7be0fa=_0x4a1e73(_0x15d642[_0x45f6f3(0x4f4)],{'contentType':_0x25e642[_0x45f6f3(0x20d)][_0x45f6f3(0x1e4)],'label':_0x128f49,'remoteId':_0x2de5b0});if(!this[_0x45f6f3(0x2f0)][_0x45f6f3(0x1ac)](_0x7be0fa))throw new _0x5efe70(_0x5efe70['codes'][_0x45f6f3(0x56e)],{'label':_0x7be0fa,'ownerId':_0x2de5b0,'streamId':_0x31a691[_0x45f6f3(0x2da)],'requests':this[_0x45f6f3(0x2f0)]});const _0x5ddf84=this[_0x45f6f3(0x2f0)]['get'](_0x7be0fa);if(_0x78636c[_0x45f6f3(0x42e)]===_0x5ddf84['getTracks']()[_0x45f6f3(0x42e)]&&_0x78636c[_0x45f6f3(0x1a7)](_0x15c0f0=>_0x5ddf84[_0x45f6f3(0x619)]()[_0x45f6f3(0x4dd)](_0x15c0f0)))try{const _0x1a7916=_0x5ddf84[_0x45f6f3(0x460)](_0x276f44,_0x31a691);if(!_0x1a7916)return;this['subscribe'](_0x1a7916,_0x2de5b0,_0x128f49,_0x7be0fa,_0x78636c);}catch(_0x2d1216){return void this[_0x45f6f3(0x507)](_0x128f49,_0x2de5b0,_0x78636c,_0x5a88a7);}}[_0x397592(0x4d3)](_0x180559,{label:_0x4cc768,ownerId:_0xf0cc53,trackKinds:_0x2ab55f}){const _0x4cb206=_0x397592,_0x1783b2=this[_0x4cb206(0xbd)][_0x4cb206(0x411)]['getRemoteMediaStream'](_0xf0cc53,_0x4cc768);if(!_0x1783b2)return;const _0x5679e0=_0x1783b2[_0x4cb206(0x217)](),_0x54e784=_0x1783b2[_0x4cb206(0x30f)]();_0x54e784[_0x4cb206(0x219)](_0x4f639a=>_0x2ab55f[_0x4cb206(0x4dd)](_0x4f639a))&&this[_0x4cb206(0x61d)](_0x180559,_0x4cc768,_0x5679e0,_0xf0cc53,_0x54e784);}[_0x397592(0x191)]({label:_0x2023b6,providerId:_0x44830a,ownerId:_0x53a507,streamId:_0x4793e9,trackKinds:_0x40c0c9}){const _0x317573=_0x397592;this[_0x317573(0x61d)](_0x44830a,_0x2023b6,_0x4793e9,_0x53a507,_0x40c0c9);}[_0x397592(0x544)](_0x49ae49){const _0x15c0c1=_0x397592;for(const _0x5421ce of this[_0x15c0c1(0x2bb)][_0x15c0c1(0xee)]()){const {streamLabel:_0x35f518,ownerId:_0x255642,trackKinds:_0x1cc298,params:_0x224f0f}=_0x5421ce;if(!_0x255642||!_0x1cc298||!_0x35f518)return;this[_0x15c0c1(0x506)][_0x15c0c1(0x2d7)]({'label':_0x35f518,'ownerId':_0x255642,'trackKinds':_0x1cc298,'params':_0x224f0f,'remoteId':_0x49ae49});}}['removeSubscriptionsForNode'](_0x1abf93){const _0x43fcbd=_0x397592;this['maps'][_0x43fcbd(0x62d)]['forEach']((_0x26e0af,_0x23ae83)=>{const _0x236709=_0x43fcbd;if(_0x23ae83[_0x236709(0x5d0)](_0x1abf93)){if(_0x26e0af[_0x236709(0x627)][_0x236709(0x4ad)]()===_0x25e642[_0x236709(0x20d)][_0x236709(0x1e4)]){const _0x253b7b=_0x26e0af['destination'];if(_0x253b7b[_0x236709(0x30f)]()['length']>0x0){const _0x5adb27={'type':_0x300949[_0x236709(0x31d)],'label':_0x253b7b[_0x236709(0x331)](),'ownerId':_0x253b7b[_0x236709(0x24e)](),'trackKinds':_0x253b7b[_0x236709(0x30f)]()};return void this[_0x236709(0x4d3)](_0x1abf93,_0x5adb27);}}this[_0x236709(0x56c)](_0x26e0af,_0x23ae83);}});}[_0x397592(0x9e)](){const _0x16e0a0=_0x397592;this['maps']['subscriptions'][_0x16e0a0(0x633)](this[_0x16e0a0(0x56c)][_0x16e0a0(0x62b)](this));}[_0x397592(0xda)](_0xcb2a97,_0x2fdc0a,_0x2d5585,_0x1eca61,_0x45b90b){const _0x10ae05=_0x397592,_0x36fd4a=this[_0x10ae05(0xbd)][_0x10ae05(0x411)][_0x10ae05(0x189)](_0xcb2a97[_0x10ae05(0x452)]),_0xaa40e7=this[_0x10ae05(0xbd)][_0x10ae05(0x411)][_0x10ae05(0x35b)](_0x2fdc0a,_0x2d5585);this[_0x10ae05(0x4c7)](_0x1eca61),this['subscriptionRequests']['has'](_0x1eca61)&&(this['configs'][_0x10ae05(0x411)][_0x10ae05(0x1d1)](this[_0x10ae05(0x2f0)][_0x10ae05(0x5e6)](_0x1eca61)),this[_0x10ae05(0x2f0)][_0x10ae05(0x457)](_0x1eca61)),this[_0x10ae05(0x21e)](_0xcb2a97,_0x2fdc0a,_0x2d5585,_0xaa40e7),_0xaa40e7['setInternalId'](_0xcb2a97[_0x10ae05(0x2da)]),_0xaa40e7[_0x10ae05(0x442)](_0xcb2a97[_0x10ae05(0x452)]);const _0x68eb79=_0x2890a9(_0xaa40e7,_0x36fd4a),_0x28e501=_0x4a1e73(_0x15d642['Incoming'],_0x68eb79);this[_0x10ae05(0x49f)]['subscriptions'][_0x10ae05(0x1ac)](_0x28e501)||this['createSubscription'](_0x36fd4a,_0xaa40e7);const _0xf3fe8e=this[_0x10ae05(0x49f)][_0x10ae05(0x62d)][_0x10ae05(0x5e6)](_0x28e501);if(!(_0xf3fe8e&&_0xf3fe8e instanceof _0x32d1d7))throw new _0x5efe70(_0x5efe70['codes'][_0x10ae05(0x56e)],{'label':_0x1eca61,'ownerId':_0x2fdc0a});_0x29f8ca[_0x10ae05(0x269)](_0x10ae05(0x2ab),{'clusterId':this[_0x10ae05(0xbd)][_0x10ae05(0xad)],'nodeId':this[_0x10ae05(0xbd)][_0x10ae05(0x640)][_0x10ae05(0x130)](),'nodeType':this[_0x10ae05(0xbd)][_0x10ae05(0x640)][_0x10ae05(0x1c2)],'data':{'subscriptionLabel':_0x28e501,'chosenAnswer':_0xcb2a97}}),this['chosenAnswers'][_0x10ae05(0x42c)](_0x28e501,_0xcb2a97),_0xf3fe8e[_0x10ae05(0xda)](_0x2fdc0a,_0x45b90b,_0xcb2a97[_0x10ae05(0x528)]);}[_0x397592(0xc8)]({ownerId:_0x2d25ae,label:_0x38fe9e}){const _0x38693f=_0x397592,_0x4cb8f7=this[_0x38693f(0xbd)][_0x38693f(0x411)][_0x38693f(0x35b)](_0x2d25ae,_0x38fe9e),[_0x2011ec,_0x13bc89]=Array[_0x38693f(0x1ec)](this[_0x38693f(0x49f)][_0x38693f(0x62d)][_0x38693f(0x1e0)]())[_0x38693f(0x13c)](([_0x4b6607,_0x3e1380])=>-0x1!==_0x4b6607['indexOf'](_0x4cb8f7[_0x38693f(0x217)]()));return this['closeSubscription'](_0x13bc89,_0x2011ec);}[_0x397592(0x56c)](_0x1df073,_0x12aa4f){const _0x2e208e=_0x397592;this[_0x2e208e(0xbd)]['mediator'][_0x2e208e(0x1d1)](_0x1df073),this[_0x2e208e(0x49f)][_0x2e208e(0x56c)](_0x1df073,_0x12aa4f);}['isMediaSource'](_0x4756f2){const _0x4e7d18=_0x397592;return _0x4756f2[_0x4e7d18(0x501)]()[_0x4e7d18(0x4dd)](_0x25e642[_0x4e7d18(0x20d)]['Media']);}[_0x397592(0x5b1)](_0x1aa2ad){const _0x367437=_0x397592;return _0x1aa2ad[_0x367437(0x4ad)]()===_0x25e642[_0x367437(0x20d)]['Media'];}async['handleNoAnswer'](_0x442987,_0x4b52a9,_0x27a66f,_0x9d37c8){const _0xc41af6=_0x397592;await _0x48ae88[_0xc41af6(0x534)](0x3e8);const _0x46ec54=_0x4a1e73(_0x15d642[_0xc41af6(0x4f4)],{'contentType':_0x25e642[_0xc41af6(0x20d)][_0xc41af6(0x1e4)],'label':_0x442987,'remoteId':_0x4b52a9});this[_0xc41af6(0x4c7)](_0x46ec54);const _0x4a52dc=this[_0xc41af6(0x2f0)]['get'](_0x46ec54);if(!_0x4a52dc)throw new _0x5efe70(_0x5efe70['codes'][_0xc41af6(0x56e)],{'label':_0x46ec54,'ownerId':_0x4b52a9});const _0x22f667=this[_0xc41af6(0xbd)][_0xc41af6(0x411)][_0xc41af6(0x589)](_0x1c63c8=>_0x1c63c8[_0xc41af6(0x49c)]()),_0x3c8f8f=this[_0xc41af6(0xbd)][_0xc41af6(0x411)][_0xc41af6(0x2d1)](this[_0xc41af6(0xbd)][_0xc41af6(0x640)][_0xc41af6(0x130)](),_0x4b52a9);_0x4a52dc[_0xc41af6(0x23e)](_0x22f667[_0xc41af6(0x4e7)](_0x16e69e=>_0x16e69e[_0xc41af6(0x240)]()),_0x3c8f8f);try{_0x4a52dc[_0xc41af6(0x441)](this['configs'][_0xc41af6(0x640)][_0xc41af6(0x130)](),_0x4b52a9,_0x442987,_0x27a66f,_0x9d37c8),this['setSubscriptionRequestTimeout'](_0x442987,_0x4b52a9,_0x27a66f,_0x9d37c8,_0x46ec54,_0x4a52dc);}catch(_0x3cd0d0){this[_0xc41af6(0x506)][_0xc41af6(0x2d7)]({'label':_0x442987,'ownerId':_0x4b52a9,'trackKinds':_0x27a66f,'params':_0x9d37c8});}}[_0x397592(0xa2)](_0x50b877,_0x512186,_0x4cd1c6,_0x1ceeb3){const _0x378fcb=_0x397592;this['subscriptionRequestsQueue'][_0x378fcb(0x2d7)]({'label':_0x50b877,'ownerId':_0x512186,'trackKinds':_0x4cd1c6,'params':_0x1ceeb3});}['requestSubscriptionAction']({label:_0x3c0b4f,ownerId:_0x9ce306,trackKinds:_0x563d23,params:_0x7f15e9,remoteId:_0x2b8e7d}){const _0x4c9614=_0x397592;if(!this[_0x4c9614(0xbd)]['mediator'][_0x4c9614(0x35b)](_0x9ce306,_0x3c0b4f))return;if(!this[_0x4c9614(0xbd)][_0x4c9614(0x411)][_0x4c9614(0x416)]()['getRank']())throw new Error(_0x4c9614(0x21c));if(_0x2b8e7d){const _0x5bb4cf=this['configs'][_0x4c9614(0x411)][_0x4c9614(0x1ab)]()[_0x4c9614(0x13c)](_0x194cae=>_0x194cae[_0x4c9614(0x130)]()===_0x2b8e7d),_0xb4bf0c=_0x5bb4cf?.[_0x4c9614(0x4ac)]();if(!_0x5bb4cf||!_0xb4bf0c)throw new Error(_0x4c9614(0x156));const _0x25dfef=this['configs'][_0x4c9614(0x411)][_0x4c9614(0x1ab)]()['find'](_0x2795a2=>_0x2795a2[_0x4c9614(0x130)]()===_0x9ce306),_0x528093=_0x25dfef?.[_0x4c9614(0x4ac)]();if(!_0x25dfef||!_0x528093)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x2a6112=this[_0x4c9614(0x2bb)]['get'](_0x3c0b4f);if(_0x2a6112){const _0x13b544=this[_0x4c9614(0xbd)][_0x4c9614(0x411)][_0x4c9614(0x1ab)]()['find'](_0x3088fa=>_0x3088fa['getId']()===_0x2a6112[_0x4c9614(0x452)]),_0x17f270=_0x13b544?.['getRank']();if(!_0x13b544||!_0x17f270)throw new Error(_0x4c9614(0x458));if(Math[_0x4c9614(0x2eb)](_0x17f270-_0x528093)<Math['abs'](_0xb4bf0c-_0x528093))return;}}const _0x38c51e=this['configs'][_0x4c9614(0x411)][_0x4c9614(0x589)](_0x42a690=>_0x42a690[_0x4c9614(0x49c)]()&&(!_0x2b8e7d||_0x42a690[_0x4c9614(0x240)]()===_0x2b8e7d));if(!_0x38c51e[_0x4c9614(0x42e)]||0x0===_0x38c51e['length'])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x266f1a=this[_0x4c9614(0xbd)][_0x4c9614(0x411)][_0x4c9614(0x2d1)](this[_0x4c9614(0xbd)]['localNode'][_0x4c9614(0x130)](),_0x9ce306),_0x2d47b4=_0x4a1e73(_0x15d642[_0x4c9614(0x4f4)],{'contentType':_0x25e642[_0x4c9614(0x20d)][_0x4c9614(0x1e4)],'label':_0x3c0b4f,'remoteId':_0x9ce306});if(this[_0x4c9614(0x2f0)][_0x4c9614(0x1ac)](_0x2d47b4)){if(_0x2b8e7d)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x24abda=this[_0x4c9614(0x2f0)][_0x4c9614(0x5e6)](_0x2d47b4)['getTracks']();if(_0x24abda[_0x4c9614(0x42e)]===_0x563d23[_0x4c9614(0x42e)]&&_0x24abda['every'](_0x33bdf2=>_0x563d23[_0x4c9614(0x4dd)](_0x33bdf2)))return;this['configs'][_0x4c9614(0x411)][_0x4c9614(0x1d1)](this[_0x4c9614(0x2f0)]['get'](_0x2d47b4)),this[_0x4c9614(0x2f0)][_0x4c9614(0x457)](_0x2d47b4),_0x563d23=Array[_0x4c9614(0x1ec)](new Set(_0x563d23[_0x4c9614(0x38d)](_0x24abda))),this[_0x4c9614(0x4c7)](_0x2d47b4);}const _0x27820b=new _0x2dac80(_0x38c51e[_0x4c9614(0x4e7)](_0x5e5967=>_0x5e5967[_0x4c9614(0x240)]()),_0x266f1a,this[_0x4c9614(0x50d)],_0x563d23);this[_0x4c9614(0xbd)][_0x4c9614(0x411)][_0x4c9614(0xa3)](_0x27820b),this[_0x4c9614(0x2f0)][_0x4c9614(0x42c)](_0x2d47b4,_0x27820b),_0x27820b['sendRequest'](this[_0x4c9614(0xbd)][_0x4c9614(0x640)]['getId'](),_0x9ce306,_0x3c0b4f,_0x563d23,_0x7f15e9),this[_0x4c9614(0x380)](_0x3c0b4f,_0x9ce306,_0x563d23,_0x7f15e9,_0x2d47b4,_0x27820b);}['clearSubscriptionRequestTimeout'](_0x2ec310){const _0x57f1ab=_0x397592;this[_0x57f1ab(0x207)][_0x57f1ab(0x1ac)](_0x2ec310)&&(clearTimeout(this[_0x57f1ab(0x207)][_0x57f1ab(0x5e6)](_0x2ec310)),this[_0x57f1ab(0x207)]['delete'](_0x2ec310));}['setSubscriptionRequestTimeout'](_0x18d6de,_0x3d249e,_0x2e3b95,_0x34f4bf,_0x42eae1,_0x753ee3){const _0x3656f1=_0x397592;this[_0x3656f1(0x4c7)](_0x42eae1),this[_0x3656f1(0x207)][_0x3656f1(0x42c)](_0x42eae1,setTimeout(()=>{const _0x45a12f=_0x3656f1;this[_0x45a12f(0x207)][_0x45a12f(0x457)](_0x42eae1);try{const _0x4c80f2=_0x753ee3['chooseAnswer']();this['subscribe'](_0x4c80f2,_0x3d249e,_0x18d6de,_0x42eae1,_0x2e3b95);}catch(_0x2ebdbc){this[_0x45a12f(0x507)](_0x18d6de,_0x3d249e,_0x2e3b95,_0x34f4bf);}},0x7d0));}['findNewMediaSubscription'](_0x5c2ee6,_0x2c78dd,_0x3fa144,_0x593821,_0x5158ae){const _0x52cf21=_0x397592,{subscriptionLabel:_0xc0ed95}=this[_0x52cf21(0x495)](_0x2c78dd,_0x593821),_0x3c6c9c=this[_0x52cf21(0x2cb)](_0xc0ed95),_0x2dd87d=_0x3c6c9c?.[_0x52cf21(0x528)];_0x3c6c9c&&(_0x3c6c9c[_0x52cf21(0x238)](_0x593821,0x0),this['removeSubscription'](_0x3fa144,_0x25e642[_0x52cf21(0x20d)][_0x52cf21(0x1e4)],_0x5c2ee6)),this['requestSubscription'](_0x2c78dd,_0x593821,_0x5158ae,_0x2dd87d);}[_0x397592(0x2cb)](_0x59f015){const _0x3da577=_0x397592,_0x36686c=this[_0x3da577(0x49f)][_0x3da577(0x62d)][_0x3da577(0x5e6)](_0x59f015);if(_0x36686c){if(!(_0x36686c instanceof _0x32d1d7))throw new _0x5efe70(_0x5efe70[_0x3da577(0x50b)][_0x3da577(0x648)],{'label':_0x59f015,'subscription':_0x36686c});return _0x36686c;}}[_0x397592(0x495)](_0x5a17ff,_0x262171){const _0x2d20c7=_0x397592,_0x22abb6=this[_0x2d20c7(0x520)](_0x5a17ff,_0x262171);return{'parts':_0x22abb6,'subscriptionLabel':_0x4a1e73(_0x15d642['Incoming'],_0x22abb6)};}[_0x397592(0x520)](_0x3973bc,_0x5666ce){const _0x461340=_0x397592,_0x2719eb=this[_0x461340(0xbd)][_0x461340(0x411)]['getRemoteMediaStream'](_0x5666ce,_0x3973bc),_0x56dfc6=_0x2719eb[_0x461340(0x4db)]();if(!_0x56dfc6)throw new _0x5efe70(_0x5efe70[_0x461340(0x50b)][_0x461340(0xfd)],{'label':_0x3973bc,'streamId':_0x2719eb[_0x461340(0x217)](),'ownerId':_0x5666ce,'localId':this['configs'][_0x461340(0x640)]['getId']()});return{'contentType':_0x25e642[_0x461340(0x20d)][_0x461340(0x1e4)],'label':_0x2719eb['getInternalStreamId'](),'remoteId':_0x56dfc6};}['cleanOldSubscription'](_0x4432ec,_0x47b46b,_0x3ab448,_0x46daa7){const _0x5cc6a1=_0x397592,_0x47ba20=_0x46daa7['getProviderId']();if(_0x47ba20&&_0x47ba20!==_0x4432ec[_0x5cc6a1(0x452)]){const {parts:_0x2a6e83,subscriptionLabel:_0x279e17}=this[_0x5cc6a1(0x495)](_0x3ab448,_0x47b46b),_0x6811db=this['getMediaSubscription'](_0x279e17);_0x6811db&&(_0x6811db[_0x5cc6a1(0x238)](_0x47b46b,0x0),this['removeSubscription'](_0x2a6e83['label'],_0x2a6e83['contentType'],_0x2a6e83[_0x5cc6a1(0x33a)]));}}}class _0x54b7d5{[_0x397592(0xbd)];[_0x397592(0x38c)];[_0x397592(0x49f)];constructor(_0xe4b55,_0x28e119){const _0x4807e1=_0x397592;this['configs']=_0xe4b55,this[_0x4807e1(0x38c)]=_0x28e119,this['maps']=new _0x1edd1e(({source:_0x276187,destination:_0x36dd33})=>_0x2890a9(_0x276187,_0x36dd33));}[_0x397592(0x4aa)](_0x4b98b6,_0x45276b){const _0x397834=_0x397592,_0x59d8eb={'source':_0x4b98b6,'destination':_0x45276b};this[_0x397834(0x49f)][_0x397834(0x4aa)](_0x15d642[_0x397834(0x1ce)],_0x59d8eb);}[_0x397592(0x2dc)](_0x5f28bf,_0x244555,_0x56519d=''){const _0x12ac1c=_0x397592,_0x1ad111={'contentType':_0x244555,'label':_0x5f28bf,'remoteId':_0x56519d};this[_0x12ac1c(0x49f)][_0x12ac1c(0x2dc)](_0x1ad111,_0x15d642[_0x12ac1c(0x1ce)]);}[_0x397592(0x1a3)](_0x11b04e,_0x201bce){const _0x56ff9b=_0x397592;let _0x5cf3e3;_0x5cf3e3=_0x201bce[_0x56ff9b(0x4fb)]!==this[_0x56ff9b(0xbd)]['localNode'][_0x56ff9b(0x130)]()?this[_0x56ff9b(0xbd)]['mediator'][_0x56ff9b(0x35b)](_0x201bce[_0x56ff9b(0x4fb)],_0x201bce[_0x56ff9b(0x290)]):this[_0x56ff9b(0xbd)][_0x56ff9b(0x411)][_0x56ff9b(0x461)](_0x201bce['label']);const _0x38b2a0=_0x4a1e73(_0x15d642['Outgoing'],{'contentType':_0x25e642[_0x56ff9b(0x20d)][_0x56ff9b(0x1e4)],'label':_0x5cf3e3[_0x56ff9b(0x62c)](),'remoteId':_0x11b04e}),_0x5dc411=this[_0x56ff9b(0x162)]();if(!this[_0x56ff9b(0x49f)]['subscriptions']['has'](_0x38b2a0)&&_0x5dc411>=this['maxOutgoingSubscriptions'])return{'type':_0x300949['RestartNeedMediaStream'],'ownerId':_0x201bce['ownerId'],'label':_0x201bce[_0x56ff9b(0x290)],'streamId':_0x5cf3e3[_0x56ff9b(0x62c)](),'trackKinds':_0x201bce[_0x56ff9b(0x158)],'params':_0x201bce[_0x56ff9b(0x528)]};_0x5cf3e3 instanceof _0x31e3d5&&!_0x5cf3e3[_0x56ff9b(0x5f4)](_0x201bce[_0x56ff9b(0x158)])&&_0x5cf3e3['subscribe'](_0x201bce['params']),this['maps'][_0x56ff9b(0x62d)][_0x56ff9b(0x1ac)](_0x38b2a0)||this['createSubscription'](_0x5cf3e3[_0x56ff9b(0x563)](_0x11b04e),this['configs'][_0x56ff9b(0x411)]['getConnection'](_0x11b04e));}[_0x397592(0x267)](_0x353bc5,{label:_0x7e97e7,ownerId:_0x420aba,remainingTracks:_0x523d1f}){const _0x393917=_0x397592;if(_0x523d1f>0x0)return;let _0x59e280;_0x59e280=_0x420aba!==this['configs'][_0x393917(0x640)]['getId']()?this['configs'][_0x393917(0x411)][_0x393917(0x35b)](_0x420aba,_0x7e97e7):this[_0x393917(0xbd)][_0x393917(0x411)]['getLocalMediaStream'](_0x7e97e7);const _0x9bc51b=_0x59e280['getShareableStreamId'](),_0x3c952e=_0x25e642['ContentType'][_0x393917(0x1e4)];this[_0x393917(0x2dc)](_0x9bc51b,_0x3c952e,_0x353bc5);}[_0x397592(0x5c1)](_0x101374,{label:_0x2b1038,ownerId:_0x26889d,trackKinds:_0x2e2286}){const _0x4a966e=_0x397592;if(_0x101374!==_0x5ef92f)return[];let _0x58e7e8=[];for(const _0x551703 of this['maps'][_0x4a966e(0x62d)]){const {source:_0x3a5112,destination:_0x339e18}=_0x551703[0x1];_0x3a5112['getLabel']()===_0x2b1038&&_0x3a5112['getOwnerId']()===_0x26889d&&_0x58e7e8['push']({'sourceId':this[_0x4a966e(0xbd)][_0x4a966e(0x640)][_0x4a966e(0x130)](),'destinationIds':[_0x339e18['getRemoteId']()],'messageType':_0x542695[_0x4a966e(0x548)],'content':{'type':_0x300949[_0x4a966e(0x31d)],'label':_0x2b1038,'ownerId':_0x26889d,'trackKinds':_0x2e2286}});}return _0x58e7e8;}['handleSubscriptionNeedMediaStream'](_0x30c068,_0xb01cbe){const _0x11a67f=_0x397592,{label:_0x5d11ce,ownerId:_0x125ff7,trackKinds:_0x1e4045,params:_0x312ccc}=_0xb01cbe,{hasTracks:_0x4d2ff5,streamId:_0x271fe3,hasResolution:_0x3d80d9,distance:_0x169cfd,subscriptionLabel:_0x4a5991}=this[_0x11a67f(0x3e6)](_0x30c068,_0xb01cbe);let _0x450f19=this[_0x11a67f(0x162)]()<this[_0x11a67f(0x38c)]&&(_0x4d2ff5||_0x169cfd>-0x1)?_0x300949[_0x11a67f(0x54e)]:_0x300949[_0x11a67f(0x56f)];const _0x29f0db=_0x169cfd<0x0?0xa:_0x169cfd;let _0x5447f4=_0x4d2ff5?_0x3d80d9?_0x29f0db:_0x29f0db+0x0:_0x29f0db+0xa;return _0x4a5991&&this[_0x11a67f(0x49f)][_0x11a67f(0x62d)][_0x11a67f(0x1ac)](_0x4a5991)&&(_0x4d2ff5&&(_0x5447f4=0x0),_0x450f19=_0x300949[_0x11a67f(0x54e)]),{'type':_0x450f19,'cost':_0x5447f4,'distance':_0x169cfd,'label':_0x5d11ce,'ownerId':_0x125ff7,'streamId':_0x271fe3,'trackKinds':_0x1e4045,'params':_0x312ccc};}[_0x397592(0x303)](_0x1da5e9){const _0x574d5e=_0x397592,{label:_0x12f3ff,ownerId:_0x346d49}=_0x1da5e9,_0x2bc417=this[_0x574d5e(0xbd)][_0x574d5e(0x411)][_0x574d5e(0x35b)](_0x346d49,_0x12f3ff);this[_0x574d5e(0x49f)]['subscriptions'][_0x574d5e(0x633)](_0x41762b=>{const _0x3edd0b=_0x574d5e;if(_0x41762b[_0x3edd0b(0x4b8)]['getInternalStreamId']()===_0x2bc417[_0x3edd0b(0x62c)]()){const _0x12c40a=_0x41762b[_0x3edd0b(0x627)];this[_0x3edd0b(0x2dc)](_0x2bc417['getShareableStreamId'](),_0x25e642[_0x3edd0b(0x20d)]['Media'],_0x12c40a[_0x3edd0b(0x240)]());}});}[_0x397592(0x3ed)]({label:_0x1ef93c}){const _0x50d45e=_0x397592,_0x3647d5=this[_0x50d45e(0xbd)][_0x50d45e(0x411)][_0x50d45e(0x461)](_0x1ef93c);this['maps'][_0x50d45e(0x62d)]['forEach'](_0x10b561=>{const _0x371f95=_0x50d45e;if(_0x10b561[_0x371f95(0x4b8)][_0x371f95(0x217)]()===_0x3647d5[_0x371f95(0x62c)]()){const _0x128017=_0x10b561[_0x371f95(0x627)];this[_0x371f95(0x2dc)](_0x3647d5['getShareableStreamId'](),_0x25e642[_0x371f95(0x20d)][_0x371f95(0x1e4)],_0x128017[_0x371f95(0x240)]());}});}['removeSubscriptionsForNode'](_0x29f783){const _0x4266f6=_0x397592;this[_0x4266f6(0x49f)][_0x4266f6(0x3f8)](_0x29f783);}['close'](){const _0x371e5f=_0x397592;this[_0x371e5f(0x49f)][_0x371e5f(0x62d)][_0x371e5f(0x633)](this['closeSubscription']['bind'](this));}[_0x397592(0x56c)](_0x16a32b,_0x3c0fcd){const _0x37cb85=_0x397592;this[_0x37cb85(0x49f)][_0x37cb85(0x56c)](_0x16a32b,_0x3c0fcd);}[_0x397592(0x3e6)](_0x42d524,{label:_0x3fd79c,ownerId:_0x3bfc3b,trackKinds:_0x2b353f,params:_0x24da0a}){const _0x459d0e=_0x397592;if(_0x3bfc3b!==this[_0x459d0e(0xbd)][_0x459d0e(0x640)][_0x459d0e(0x130)]()){const _0x33b776=this[_0x459d0e(0xbd)][_0x459d0e(0x411)][_0x459d0e(0x35b)](_0x3bfc3b,_0x3fd79c);return _0x33b776&&_0x33b776[_0x459d0e(0x4db)]()!==_0x42d524?{'hasTracks':_0x33b776[_0x459d0e(0x5b9)](_0x2b353f),'hasResolution':this[_0x459d0e(0x530)](_0x33b776['getResolution'](),_0x24da0a),'streamId':_0x33b776['getShareableStreamId'](),'distance':this[_0x459d0e(0xbd)][_0x459d0e(0x411)][_0x459d0e(0x2d1)](_0x42d524,_0x3bfc3b),'subscriptionLabel':_0x4a1e73(_0x15d642[_0x459d0e(0x1ce)],{'contentType':_0x25e642['ContentType']['Media'],'label':_0x33b776[_0x459d0e(0x62c)](),'remoteId':_0x42d524})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x55cf67=this[_0x459d0e(0xbd)][_0x459d0e(0x411)][_0x459d0e(0x461)](_0x3fd79c);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x55cf67[_0x459d0e(0x62c)](),'distance':0x0,'subscriptionLabel':_0x4a1e73(_0x15d642['Outgoing'],{'contentType':_0x25e642[_0x459d0e(0x20d)][_0x459d0e(0x1e4)],'label':_0x55cf67['getShareableStreamId'](),'remoteId':_0x42d524})};}[_0x397592(0x162)](){const _0x3c47e6=_0x397592;return Array[_0x3c47e6(0x1ec)](this[_0x3c47e6(0x49f)][_0x3c47e6(0x62d)][_0x3c47e6(0x1e0)]())['filter'](([_0x385d17,{source:_0x2c6ded}])=>_0x385d17[_0x3c47e6(0x120)](_0x15d642['Outgoing'])&&_0x2c6ded[_0x3c47e6(0x4ad)]()===_0x25e642[_0x3c47e6(0x20d)][_0x3c47e6(0x1e4)])[_0x3c47e6(0x42e)];}[_0x397592(0x530)](_0x47842e,_0x28d3b9){const _0x4a2e25=_0x397592;if(!_0x28d3b9||!_0x28d3b9['video']||'boolean'==typeof _0x28d3b9[_0x4a2e25(0xaf)]||!_0x28d3b9[_0x4a2e25(0xaf)]['maxResolution'])return!0x0;const {width:_0x46b2f2,height:_0x5ca1bb}=_0x28d3b9[_0x4a2e25(0xaf)][_0x4a2e25(0x145)];return _0x47842e[_0x4a2e25(0x31e)]>=_0x46b2f2&&_0x47842e[_0x4a2e25(0x1d4)]>=_0x5ca1bb;}}class _0x473914{[_0x397592(0xbd)];[_0x397592(0x38c)];[_0x397592(0x50d)];[_0x397592(0x4f8)];[_0x397592(0x623)];[_0x397592(0x1b7)];constructor(_0x548cdc,_0x31e6d5,_0x21796d){const _0x501cc0=_0x397592;this[_0x501cc0(0xbd)]=_0x548cdc,this[_0x501cc0(0x38c)]=_0x31e6d5,this[_0x501cc0(0x50d)]=_0x21796d,this[_0x501cc0(0xbd)][_0x501cc0(0x411)][_0x501cc0(0xa3)](this),this[_0x501cc0(0x623)]=new _0x113bb9(this[_0x501cc0(0xbd)],this['maxDistance']),this[_0x501cc0(0x1b7)]=new _0x54b7d5(this['configs'],this[_0x501cc0(0x38c)]);}[_0x397592(0x2f1)](_0x26b8a2){this['systemTopic']=_0x26b8a2;}[_0x397592(0xd0)](){const _0xcd9dd8=_0x397592;delete this[_0xcd9dd8(0x4f8)];}[_0x397592(0x9e)](){const _0x162a8c=_0x397592;this['incomingManager'][_0x162a8c(0x9e)](),this[_0x162a8c(0x1b7)][_0x162a8c(0x9e)](),this[_0x162a8c(0xbd)]['mediator'][_0x162a8c(0x1d1)](this);}[_0x397592(0x578)](_0x30a90b,_0x47591e){const _0x58a2c9=_0x397592;this[_0x58a2c9(0x623)][_0x58a2c9(0x4aa)](_0x30a90b,_0x47591e);}['createOutgoingSubscription'](_0x3245f8,_0x13f794){const _0x25fcaa=_0x397592;this[_0x25fcaa(0x1b7)][_0x25fcaa(0x4aa)](_0x3245f8,_0x13f794);}[_0x397592(0x261)](_0x43c0e3,_0x52027f,_0x303e42=''){const _0x98d7ce=_0x397592;this['incomingManager'][_0x98d7ce(0x2dc)](_0x43c0e3,_0x52027f,_0x303e42);}[_0x397592(0x60a)](_0x512a32,_0x2314f4,_0x4becf2=''){const _0x35da12=_0x397592;try{this[_0x35da12(0x1b7)][_0x35da12(0x2dc)](_0x512a32,_0x2314f4,_0x4becf2);}catch(_0x214962){if(_0x214962 instanceof _0x5efe70&&_0x214962[_0x35da12(0x38b)]===_0x5efe70[_0x35da12(0x50b)][_0x35da12(0x648)])return;}}['handleSubscriptionSystemEvents'](_0x539613){const _0x3cc97e=_0x397592;switch(_0x539613[_0x3cc97e(0x512)]['type']){case _0x300949['SubscribeMediaStream']:this['handleSubscriptionSubscribeMediaStream'](_0x539613[_0x3cc97e(0x108)],_0x539613[_0x3cc97e(0x512)]);break;case _0x300949[_0x3cc97e(0x30b)]:this[_0x3cc97e(0x1b7)]['handleSubscriptionUnsubscribeMediaStream'](_0x539613[_0x3cc97e(0x108)],_0x539613[_0x3cc97e(0x512)]);break;case _0x300949[_0x3cc97e(0x42b)]:this[_0x3cc97e(0x9c)](_0x539613[_0x3cc97e(0x108)],_0x539613['content']);break;case _0x300949['RestartNeedMediaStream']:this[_0x3cc97e(0x623)]['handleSubscriptionRestartNeedMediaStream'](_0x539613[_0x3cc97e(0x108)],_0x539613[_0x3cc97e(0x512)]);break;case _0x300949[_0x3cc97e(0x54e)]:case _0x300949[_0x3cc97e(0x56f)]:this['incomingManager'][_0x3cc97e(0x5ec)](_0x539613[_0x3cc97e(0x108)],_0x539613[_0x3cc97e(0x512)]);break;case _0x300949['MediaStreamUnavailable']:this[_0x3cc97e(0x623)][_0x3cc97e(0x4d3)](_0x539613[_0x3cc97e(0x108)],_0x539613['content']);}}[_0x397592(0x418)](_0x46bcba){const _0x178217=_0x397592;switch(_0x46bcba[_0x178217(0x512)][_0x178217(0x1c2)]){case _0x566301[_0x178217(0x2d6)]:this[_0x178217(0x623)][_0x178217(0x303)](_0x46bcba[_0x178217(0x512)]),this['outgoingManager'][_0x178217(0x303)](_0x46bcba['content']);break;case _0x566301[_0x178217(0x57c)]:this[_0x178217(0x623)]['handleContentSubscribeMediaStream'](_0x46bcba[_0x178217(0x512)]);break;case _0x566301[_0x178217(0x53b)]:this[_0x178217(0x623)][_0x178217(0x1de)](_0x46bcba['content']);break;case _0x566301[_0x178217(0x30b)]:this[_0x178217(0x5c1)](_0x46bcba[_0x178217(0x108)],_0x46bcba[_0x178217(0x512)]);break;case _0x566301[_0x178217(0x4d8)]:this[_0x178217(0x1b7)][_0x178217(0x3ed)](_0x46bcba[_0x178217(0x512)]);break;case _0x566301[_0x178217(0x19f)]:this[_0x178217(0x533)](_0x46bcba[_0x178217(0x512)]);break;case _0x566301[_0x178217(0x251)]:this['handleContentCloseObjectStore'](_0x46bcba[_0x178217(0x512)]);break;case _0x566301['CloseKeyValueDatabase']:this[_0x178217(0x5bd)](_0x46bcba[_0x178217(0x512)]);break;case _0x566301['RemoteMediaStreamTrackFail']:this[_0x178217(0x623)][_0x178217(0x191)](_0x46bcba[_0x178217(0x512)]);}}[_0x397592(0x4dc)]({content:_0xfe7c03}){const _0xa0f777=_0x397592;_0xfe7c03[_0xa0f777(0x1c2)]===_0x107aa0[_0xa0f777(0x43c)]&&this[_0xa0f777(0x3f8)](_0xfe7c03);}['handlePeerConnectionSystemEvents'](_0x53ae51){const _0xaf17a1=_0x397592;_0x53ae51['content'][_0xaf17a1(0x1c2)]===_0x13a1c5[_0xaf17a1(0x412)]&&this[_0xaf17a1(0x623)][_0xaf17a1(0x544)](_0x53ae51[_0xaf17a1(0x108)]);}['handleContentUnsubscribeMediaStream'](_0x500fed,_0x363d88){const _0xcfe58c=_0x397592;this[_0xcfe58c(0x623)][_0xcfe58c(0x5c1)](_0x363d88),this[_0xcfe58c(0x1b7)][_0xcfe58c(0x5c1)](_0x500fed,_0x363d88)[_0xcfe58c(0x633)](_0x13c7b1=>this[_0xcfe58c(0x4f8)]['publish'](_0x13c7b1));}[_0x397592(0x1a3)](_0x4f4b17,_0x282318){const _0x561c2d=_0x397592,_0x21a496=this['outgoingManager']['handleSubscriptionSubscribeMediaStream'](_0x4f4b17,_0x282318);if(_0x21a496&&(this[_0x561c2d(0x4f8)]['publish']({'sourceId':this['configs'][_0x561c2d(0x640)][_0x561c2d(0x130)](),'destinationIds':[_0x4f4b17],'messageType':_0x542695[_0x561c2d(0x548)],'content':_0x21a496}),_0x21a496['type']===_0x300949[_0x561c2d(0x1be)]))throw new _0x559fc1(_0x561c2d(0x195));}[_0x397592(0x9c)](_0x4a3152,_0x2df655){const _0x46c4ee=_0x397592,_0x3dcf57=this[_0x46c4ee(0x1b7)]['handleSubscriptionNeedMediaStream'](_0x4a3152,_0x2df655);this[_0x46c4ee(0x4f8)][_0x46c4ee(0x16f)]({'sourceId':this[_0x46c4ee(0xbd)][_0x46c4ee(0x640)][_0x46c4ee(0x130)](),'destinationIds':[_0x4a3152],'messageType':_0x542695[_0x46c4ee(0x548)],'content':_0x3dcf57});}[_0x397592(0x414)]({label:_0x2193f3}){const _0x357ddd=_0x397592;this[_0x357ddd(0x261)](_0x2193f3,_0x25e642[_0x357ddd(0x20d)][_0x357ddd(0x14a)]),this[_0x357ddd(0x60a)](_0x2193f3,_0x25e642[_0x357ddd(0x20d)][_0x357ddd(0x14a)]);}[_0x397592(0x5bd)]({label:_0x3bb138}){const _0x24586a=_0x397592;this[_0x24586a(0x261)](_0x3bb138,_0x25e642[_0x24586a(0x20d)]['KeyValueDatabase']),this[_0x24586a(0x60a)](_0x3bb138,_0x25e642[_0x24586a(0x20d)]['KeyValueDatabase']);}[_0x397592(0x533)]({label:_0x5a98cb}){const _0x4f68c6=_0x397592;this[_0x4f68c6(0x261)](_0x5a98cb,_0x25e642[_0x4f68c6(0x20d)][_0x4f68c6(0x139)]),this[_0x4f68c6(0x60a)](_0x5a98cb,_0x25e642['ContentType'][_0x4f68c6(0x139)]);}['removeSubscriptionsForNode']({id:_0x455797}){const _0x49f1f4=_0x397592;this[_0x49f1f4(0x623)][_0x49f1f4(0x3f8)](_0x455797),this[_0x49f1f4(0x1b7)][_0x49f1f4(0x3f8)](_0x455797);}}class _0x54a264{['label'];[_0x397592(0x241)]=_0x19e3ff();constructor(){const _0x4f0877=_0x397592;this[_0x4f0877(0x290)]=0x0;}[_0x397592(0x331)](){const _0x2ff8d4=_0x397592;return this[_0x2ff8d4(0x290)];}['getContentType'](){const _0xa66bce=_0x397592;return _0x25e642[_0xa66bce(0x20d)][_0xa66bce(0x508)];}['registerSource'](_0x55c026){const _0x178cfe=_0x397592;_0x55c026[_0x178cfe(0x2f1)](this);}[_0x397592(0x561)](_0x409c8d){const _0x3c547e=_0x397592;_0x409c8d[_0x3c547e(0xd0)]();}[_0x397592(0x16f)](_0x124d3c){const _0x10787b=_0x397592;_0x29f8ca[_0x10787b(0x298)](_0x27bb8f['Events'],_0x10787b(0x44e),_0x124d3c[_0x10787b(0x108)],_0x124d3c),this[_0x10787b(0x241)]['publish']({'topicLabel':this[_0x10787b(0x290)],'contentType':_0x25e642[_0x10787b(0x20d)]['Data'],'uuid':_0x124d3c[_0x10787b(0xe7)]??(0x0,_0x415063['v4'])(),'recipients':_0x124d3c[_0x10787b(0x4fc)]??[],..._0x124d3c});}['subscribe'](_0x40ef1f){const _0x570488=_0x397592;return this['listener'][_0x570488(0xda)](_0x40ef1f);}}class _0x59b598{[_0x397592(0xca)];['maxConnections'];[_0x397592(0x50d)];[_0x397592(0x611)]=[];['maxLayer'];[_0x397592(0x433)]=new Map();constructor(_0x1ba987,_0x5a8c06,_0x2e08ba){const _0x499bf5=_0x397592;this[_0x499bf5(0xca)]=_0x1ba987,this[_0x499bf5(0x4c5)]=_0x5a8c06,this['maxDistance']=_0x2e08ba,this[_0x499bf5(0x593)]=(this[_0x499bf5(0x4c5)]-0x2*this[_0x499bf5(0xca)])/0x2,this[_0x499bf5(0x611)][_0x499bf5(0x2d7)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x30729d=0x0;_0x30729d<this[_0x499bf5(0x593)];++_0x30729d)this[_0x499bf5(0x611)][_0x499bf5(0x2d7)]({'start':this['getNextTargetRank'](0x1,_0x30729d+0x1),'end':this[_0x499bf5(0x57b)](0x1,_0x30729d+0x2)-0x1});}['getNextTargetRank'](_0x4b1323,_0x25e22a=0x1){const _0x208deb=_0x397592;let _0x26e2fe=this[_0x208deb(0x50d)]-this[_0x208deb(0xca)],_0x5545e4=0x1;for(let _0x3d822d=0x1;_0x3d822d<_0x25e22a;++_0x3d822d)_0x26e2fe*=this[_0x208deb(0x50d)]-this[_0x208deb(0xca)]-_0x3d822d,_0x5545e4*=this[_0x208deb(0x50d)]-this['minConnections']-_0x3d822d+0x1;return _0x26e2fe*this['minConnections']+_0x4b1323-_0x5545e4;}[_0x397592(0x1b3)](_0x2cd3c5){const _0x19265f=_0x397592;let _0xe982c5=0x0;for(;this[_0x19265f(0x611)][_0xe982c5][_0x19265f(0x4e8)]<_0x2cd3c5;)_0xe982c5+=0x1;return _0xe982c5;}[_0x397592(0x2cc)](){const _0xe37d7b=_0x397592;return this[_0xe37d7b(0xca)];}['getMaxConnections'](){const _0x508eb4=_0x397592;return this[_0x508eb4(0x4c5)];}['getMaxDistance'](){const _0x932614=_0x397592;return this[_0x932614(0x50d)];}[_0x397592(0x1ab)](){const _0x118ff2=_0x397592;return this[_0x118ff2(0x433)];}['setRemoteNode'](_0xa6ae1b,_0x2f7874){const _0x32b398=_0x397592;this[_0x32b398(0x433)][_0x32b398(0x42c)](_0xa6ae1b,_0x2f7874);}[_0x397592(0x313)](_0x3dfe39){const _0x58d868=_0x397592;return this[_0x58d868(0x433)]['has'](_0x3dfe39);}[_0x397592(0x5b4)](_0x25bc0b){const _0x20aaa7=_0x397592;return this[_0x20aaa7(0x433)][_0x20aaa7(0x5e6)](_0x25bc0b);}[_0x397592(0x55a)](_0x714d37){const _0xba4df8=_0x397592;this[_0xba4df8(0x433)]['delete'](_0x714d37);}[_0x397592(0x273)](_0x54e06c,_0xdd7d10){const _0x1f8305=_0x397592,_0x5ca12c=this[_0x1f8305(0x5b4)](_0xdd7d10)?.[_0x1f8305(0x4ac)]()??0x0;return _0x54e06c[_0x1f8305(0x4e7)](_0x3f7d32=>this[_0x1f8305(0x5b4)](_0x3f7d32))[_0x1f8305(0x602)](_0x1afc97=>void 0x0!==_0x1afc97)[_0x1f8305(0x625)]((_0x28b8c1,_0x37804a)=>Math[_0x1f8305(0x2eb)](_0x5ca12c-(_0x28b8c1&&_0x28b8c1[_0x1f8305(0x4ac)]()||0x1/0x0))-Math['abs'](_0x5ca12c-(_0x37804a&&_0x37804a[_0x1f8305(0x4ac)]()||0x1/0x0)))['map'](_0x43c0b9=>_0x43c0b9[_0x1f8305(0x130)]());}}class _0x26b469{[_0x397592(0x5f7)];['clusterId'];[_0x397592(0x347)];['options'];[_0x397592(0xbd)];[_0x397592(0x466)];[_0x397592(0x4ff)];['connectionManager'];['subscriptionManager'];[_0x397592(0x228)];[_0x397592(0x45a)];[_0x397592(0x22e)];[_0x397592(0x5cd)];[_0x397592(0x24a)];[_0x397592(0x4f8)]=new _0x54a264();['systemTopicUnsubscribe'];[_0x397592(0x640)];constructor(_0xee249a,_0x44b48e,_0x58ea62,_0x4c78be,_0x27f71d,_0x20baf7,_0x1f9ba2){const _0x859d49=_0x397592;switch(this['vendorId']=_0xee249a,this['clusterId']=_0x44b48e,this[_0x859d49(0x347)]=_0x4c78be,this['options']=_0x27f71d,this['configs']=_0x20baf7,this[_0x859d49(0x466)]=_0x1f9ba2,_0x58ea62[_0x859d49(0x1c2)]){case _0x25e642['NodeType'][_0x859d49(0x10a)]:this[_0x859d49(0x640)]=new _0x1e1e67(_0x58ea62[_0x859d49(0x130)](),_0x58ea62[_0x859d49(0x517)](),_0x58ea62[_0x859d49(0x4ed)]());break;case _0x25e642['NodeType'][_0x859d49(0x55b)]:default:this['localNode']=new _0x59312c(_0x58ea62[_0x859d49(0x130)]());}const _0x46ba94=this[_0x859d49(0x323)]();this[_0x859d49(0x24a)]=new _0x59b598(this['options'][_0x859d49(0xca)],this[_0x859d49(0x54c)][_0x859d49(0x4c5)],this[_0x859d49(0x54c)][_0x859d49(0x50d)]),this[_0x859d49(0x4ff)]=new _0x56d9bc(_0x46ba94,this[_0x859d49(0x54c)][_0x859d49(0x1a2)],this['options'][_0x859d49(0x36f)]),this[_0x859d49(0x10b)]=new _0xa0df19(_0x46ba94,this[_0x859d49(0x347)],this['configs'][_0x859d49(0x572)],this[_0x859d49(0x54c)][_0x859d49(0x1a2)],this[_0x859d49(0x54c)]['maxBpp'],this[_0x859d49(0x24a)],this[_0x859d49(0x54c)][_0x859d49(0x551)]),this[_0x859d49(0x21f)]=new _0x473914(_0x46ba94,this[_0x859d49(0x54c)][_0x859d49(0x38c)],this[_0x859d49(0x24a)]['getMaxDistance']()),this[_0x859d49(0x228)]=new _0x490c55(_0x46ba94),this[_0x859d49(0x45a)]=new _0x382ffb(_0x46ba94),this[_0x859d49(0x22e)]=new _0x29537a(_0x46ba94),this[_0x859d49(0x5cd)]=new _0x3a0173(_0x46ba94,this[_0x859d49(0x24a)],this[_0x859d49(0x640)]),this[_0x859d49(0x1ed)]=this['initializeSystemTopic']();}[_0x397592(0x1e9)](){const _0x5d4069=_0x397592,_0x8ac78e=this[_0x5d4069(0x323)]();this[_0x5d4069(0x10b)]=new _0xa0df19(_0x8ac78e,this[_0x5d4069(0x347)],this[_0x5d4069(0xbd)][_0x5d4069(0x572)],this[_0x5d4069(0x54c)][_0x5d4069(0x1a2)],this[_0x5d4069(0x54c)][_0x5d4069(0x4c8)],this[_0x5d4069(0x24a)],this['options'][_0x5d4069(0x551)]),this[_0x5d4069(0x21f)]=new _0x473914(_0x8ac78e,this['options'][_0x5d4069(0x38c)],this['graphService'][_0x5d4069(0x3db)]()),this[_0x5d4069(0x228)]=new _0x490c55(_0x8ac78e),this[_0x5d4069(0x45a)]=new _0x382ffb(_0x8ac78e),this['remediationManager']=new _0x29537a(_0x8ac78e),this[_0x5d4069(0x5cd)]=new _0x3a0173(_0x8ac78e,this[_0x5d4069(0x24a)],this[_0x5d4069(0x640)]);const _0x14d213=this[_0x5d4069(0x10b)][_0x5d4069(0x41a)]();this[_0x5d4069(0x4ff)]['getPubSubTopics']()[_0x5d4069(0x633)](_0x4a2304=>{const _0x1e43a4=_0x5d4069;this[_0x1e43a4(0x21f)][_0x1e43a4(0x1a9)](_0x4a2304,_0x14d213),this[_0x1e43a4(0x21f)]['createIncomingSubscription'](_0x14d213,_0x4a2304),_0x4a2304['reset']();}),this['contentManager'][_0x5d4069(0x250)]()[_0x5d4069(0x633)](_0x214955=>{const _0x42953b=_0x5d4069;this[_0x42953b(0x21f)][_0x42953b(0x1a9)](_0x214955,_0x14d213),this['subscriptionManager'][_0x42953b(0x578)](_0x14d213,_0x214955),_0x214955['reset'](),_0x214955[_0x42953b(0x4a1)]();}),this[_0x5d4069(0x4ff)][_0x5d4069(0x40a)]()[_0x5d4069(0x633)](_0x4a5702=>{const _0xc95dcc=_0x5d4069;this[_0xc95dcc(0x21f)][_0xc95dcc(0x1a9)](_0x4a5702,_0x14d213),this[_0xc95dcc(0x21f)][_0xc95dcc(0x578)](_0x14d213,_0x4a5702),_0x4a5702['reset'](),this[_0xc95dcc(0x5ff)](_0x4a5702);}),this[_0x5d4069(0x1ed)]=this[_0x5d4069(0x36a)]();}['registerSystemSource'](_0xf35f7e){const _0x49513d=_0x397592;try{this['systemTopic'][_0x49513d(0x302)](_0xf35f7e);}catch(_0x34dcf6){this['handleError'](_0x34dcf6,{});}}[_0x397592(0x1d1)](_0x4bf997){const _0x36bae2=_0x397592;try{this[_0x36bae2(0x4f8)]['unregisterSource'](_0x4bf997);}catch(_0x17b35e){this['handleError'](_0x17b35e,{});}}[_0x397592(0x111)](_0x563ae7,_0x50b87b){const _0x51da37=_0x397592;return this[_0x51da37(0x10b)][_0x51da37(0x111)](_0x563ae7,_0x50b87b);}[_0x397592(0x189)](_0x13f7b7){const _0x6ef215=_0x397592;try{return this[_0x6ef215(0x10b)][_0x6ef215(0x189)](_0x13f7b7);}catch(_0x556cf2){throw this[_0x6ef215(0x4ba)](_0x556cf2,{});}}[_0x397592(0x589)](_0x24ade9){const _0x316e7b=_0x397592;try{return this[_0x316e7b(0x10b)][_0x316e7b(0x589)](_0x24ade9);}catch(_0x2c4e3b){throw this[_0x316e7b(0x4ba)](_0x2c4e3b,{});}}[_0x397592(0x35b)](_0x1a588c,_0x4b787e){const _0x313024=_0x397592;try{return this[_0x313024(0x4ff)][_0x313024(0x32d)](_0x46d5a8=>_0x46d5a8['getOwnerId']()===_0x1a588c&&_0x46d5a8[_0x313024(0x331)]()===_0x4b787e)[0x0];}catch(_0x2fbd3d){throw this[_0x313024(0x4ba)](_0x2fbd3d,{});}}[_0x397592(0x461)](_0x44939d){const _0x475824=_0x397592;try{return this[_0x475824(0x4ff)]['getLocalMediaStreams'](_0xb9c641=>_0xb9c641['getLabel']()===_0x44939d)[0x0];}catch(_0x2f7130){throw this[_0x475824(0x4ba)](_0x2f7130,{});}}[_0x397592(0x402)]=(..._0x1f7c63)=>{const _0x2bdabf=_0x397592;try{return this[_0x2bdabf(0x466)][_0x2bdabf(0x167)](..._0x1f7c63);}catch(_0x55b7c4){throw this[_0x2bdabf(0x4ba)](_0x55b7c4,{});}};[_0x397592(0x549)](_0x23d39b){const _0x4f9324=_0x397592;try{this[_0x4f9324(0x228)][_0x4f9324(0x143)](_0x23d39b);}catch(_0x1b12e5){throw this[_0x4f9324(0x4ba)](_0x1b12e5,{});}}[_0x397592(0x499)](_0x223512){const _0x5bfef6=_0x397592;try{this['statsManager'][_0x5bfef6(0x64a)](_0x223512);}catch(_0x58cab2){throw this[_0x5bfef6(0x4ba)](_0x58cab2,{});}}['collectStats'](_0x409094){return this['connectionManager']['collectStats'](_0x409094);}async[_0x397592(0x2c0)](){const _0x451d72=_0x397592;try{await this[_0x451d72(0x10b)]['initialize']();const _0x5a2b14=await this[_0x451d72(0x5cd)][_0x451d72(0x45f)]();for(const _0xd1198c of _0x5a2b14)this[_0x451d72(0x10b)][_0x451d72(0x111)](_0xd1198c);}catch(_0x30f673){throw this['handleError'](_0x30f673,{});}}['updateUser'](_0x2aea1d){const _0x1fd67f=_0x397592;this[_0x1fd67f(0x640)][_0x1fd67f(0x1c2)]===_0x25e642['NodeType'][_0x1fd67f(0x10a)]&&(this[_0x1fd67f(0x640)][_0x1fd67f(0x126)](_0x2aea1d['getEmail']()),this[_0x1fd67f(0x640)][_0x1fd67f(0x37b)](_0x2aea1d[_0x1fd67f(0x517)]()));}[_0x397592(0x9e)](_0x54274d=!0x1){const _0x507653=_0x397592;this[_0x507653(0x1ed)](),this[_0x507653(0x22e)]['close'](),this['detectionManager']['close'](),this['statsManager'][_0x507653(0x9e)](),this[_0x507653(0x21f)][_0x507653(0x9e)](),this[_0x507653(0x10b)][_0x507653(0x9e)](),this[_0x507653(0x4ff)][_0x507653(0x9e)](_0x54274d),this[_0x507653(0x5cd)][_0x507653(0x9e)]();}['openPubSubTopic'](_0x5ee45a){const _0x5ce578=_0x397592;try{const _0x58501d=this[_0x5ce578(0x4ff)][_0x5ce578(0xb4)](_0x5ee45a),_0x3f01f8=this['connectionManager'][_0x5ce578(0x41a)]();return this[_0x5ce578(0x21f)][_0x5ce578(0x1a9)](_0x58501d,_0x3f01f8),this[_0x5ce578(0x21f)][_0x5ce578(0x578)](_0x3f01f8,_0x58501d),_0x58501d;}catch(_0x310699){throw this[_0x5ce578(0x4ba)](_0x310699,{});}}async['openObjectStoreBucket'](_0x1538b4){const _0xbce256=_0x397592;try{const _0x55384f=this[_0xbce256(0x4ff)][_0xbce256(0x430)](_0x1538b4,this[_0xbce256(0x54c)][_0xbce256(0x54d)]),_0x2039b4=this['connectionManager'][_0xbce256(0x41a)]();return this['subscriptionManager'][_0xbce256(0x1a9)](_0x55384f,_0x2039b4),this[_0xbce256(0x21f)][_0xbce256(0x578)](_0x2039b4,_0x55384f),await _0x55384f['sync'](),_0x55384f;}catch(_0x4d2be6){throw this[_0xbce256(0x4ba)](_0x4d2be6,{});}}async[_0x397592(0x4f9)](_0x4b6cec,_0x461ef5){const _0x387d5c=_0x397592;try{const _0x4596e9=await this['contentManager']['createKeyValueDatabase'](_0x4b6cec,_0x461ef5,this[_0x387d5c(0x54c)][_0x387d5c(0x5fd)]),_0x92814e=this[_0x387d5c(0x10b)][_0x387d5c(0x41a)]();return this[_0x387d5c(0x21f)]['createOutgoingSubscription'](_0x4596e9,_0x92814e),this[_0x387d5c(0x21f)]['createIncomingSubscription'](_0x92814e,_0x4596e9),await _0x4596e9[_0x387d5c(0x1e9)](),this['syncKeyValueDatabase'](_0x4596e9),_0x4596e9;}catch(_0x269ce0){throw this[_0x387d5c(0x4ba)](_0x269ce0,{});}}[_0x397592(0x49a)](_0x3a2ced){const _0x167506=_0x397592;try{return this['contentManager'][_0x167506(0x49a)](_0x3a2ced);}catch(_0x506dab){throw this[_0x167506(0x4ba)](_0x506dab,{});}}[_0x397592(0x250)](_0x13a862){const _0x1b5e9e=_0x397592;try{return this[_0x1b5e9e(0x4ff)][_0x1b5e9e(0x250)](_0x13a862);}catch(_0x33f232){throw this[_0x1b5e9e(0x4ba)](_0x33f232,{});}}[_0x397592(0x40a)](_0x4f9327){const _0x4ac79e=_0x397592;try{return this[_0x4ac79e(0x4ff)][_0x4ac79e(0x40a)](_0x4f9327);}catch(_0x30be59){throw this[_0x4ac79e(0x4ba)](_0x30be59,{});}}[_0x397592(0x35f)](_0x1406c2,_0x39a9cc){const _0x264620=_0x397592;if(!this[_0x264620(0xbd)][_0x264620(0x61a)][_0x264620(0x4dd)](_0x160cbe['MediaStream']))throw new _0x24c29d(_0x1e3f38[_0x264620(0x308)],_0x264620(0x498));try{return this[_0x264620(0x4ff)]['createLocalMediaStream'](_0x1406c2,_0x39a9cc);}catch(_0x3a254c){throw this[_0x264620(0x4ba)](_0x3a254c,{});}}[_0x397592(0x141)](_0x3c42ef,_0x16976a){const _0x5015be=_0x397592;if(!this[_0x5015be(0xbd)]['features']['includes'](_0x160cbe[_0x5015be(0x14f)]))throw new _0x24c29d(_0x1e3f38[_0x5015be(0x308)],_0x5015be(0x498));try{return this[_0x5015be(0x4ff)]['createLocalDynamicMediaStream'](_0x3c42ef,_0x16976a);}catch(_0x3f9f6d){throw this[_0x5015be(0x4ba)](_0x3f9f6d,{});}}[_0x397592(0x19e)](_0x4ab9a2){const _0x18714f=_0x397592;if(!this[_0x18714f(0xbd)][_0x18714f(0x61a)]['includes'](_0x160cbe[_0x18714f(0x14f)]))throw new _0x24c29d(_0x1e3f38[_0x18714f(0x308)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x18714f(0x4ff)][_0x18714f(0x19e)](_0x4ab9a2);}catch(_0x4c8f32){throw this[_0x18714f(0x4ba)](_0x4c8f32,{});}}[_0x397592(0x32d)](_0x5445bd){const _0x2c92a5=_0x397592;if(!this[_0x2c92a5(0xbd)]['features'][_0x2c92a5(0x4dd)](_0x160cbe['MediaStream']))throw new _0x24c29d(_0x1e3f38[_0x2c92a5(0x308)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x2c92a5(0x4ff)][_0x2c92a5(0x32d)](_0x5445bd);}catch(_0x509fd7){throw this[_0x2c92a5(0x4ba)](_0x509fd7,{});}}['getDistance'](_0x2e9909,_0x15dba0){const _0x3a2897=_0x397592;return this[_0x3a2897(0x5cd)][_0x3a2897(0x2d1)](_0x2e9909,_0x15dba0);}[_0x397592(0x416)](){const _0x1577e5=_0x397592;return this[_0x1577e5(0x5cd)][_0x1577e5(0x416)]();}['getRemoteNodes'](_0x185878){const _0x212e4a=_0x397592;try{return this[_0x212e4a(0x5cd)][_0x212e4a(0x1ab)](_0x185878);}catch(_0x2cbcbd){throw this['handleError'](_0x2cbcbd,{});}}async[_0x397592(0x583)](_0x3c2404){const _0xf6f17=_0x397592;try{if(_0x29f8ca[_0xf6f17(0x298)](_0x27bb8f[_0xf6f17(0xbf)],'Orchestrator\x20handleSystemEvents',this['nodeManager'][_0xf6f17(0x3bb)](),_0x3c2404),_0x32427c(_0x3c2404,this[_0xf6f17(0x5cd)][_0xf6f17(0x3bb)]()))return void this[_0xf6f17(0x10b)][_0xf6f17(0x617)](_0x3c2404);switch(_0x3c2404[_0xf6f17(0x2d9)]){case _0x542695['Content']:this['statsManager']['handleContentSystemEvents'](_0x3c2404),this[_0xf6f17(0x21f)][_0xf6f17(0x418)](_0x3c2404),this[_0xf6f17(0x4ff)][_0xf6f17(0x418)](_0x3c2404);break;case _0x542695[_0xf6f17(0x190)]:this[_0xf6f17(0x21f)][_0xf6f17(0x4dc)](_0x3c2404),this[_0xf6f17(0x10b)][_0xf6f17(0x4dc)](_0x3c2404),this[_0xf6f17(0x4ff)][_0xf6f17(0x4dc)](_0x3c2404),this[_0xf6f17(0x5cd)][_0xf6f17(0x4dc)](_0x3c2404);break;case _0x542695[_0xf6f17(0x39e)]:this['remediationManager']['handleDetectionSystemEvents'](_0x3c2404);break;case _0x542695[_0xf6f17(0x3de)]:this['remediationManager'][_0xf6f17(0x277)](_0x3c2404);break;case _0x542695[_0xf6f17(0x1e6)]:this[_0xf6f17(0x45a)][_0xf6f17(0x215)](_0x3c2404);break;case _0x542695[_0xf6f17(0x548)]:_0x3c2404['content'][_0xf6f17(0x1c2)]!==_0x300949[_0xf6f17(0x30b)]?(this[_0xf6f17(0x21f)][_0xf6f17(0x460)](_0x3c2404),this[_0xf6f17(0x4ff)][_0xf6f17(0x460)](_0x3c2404)):(this[_0xf6f17(0x4ff)][_0xf6f17(0x460)](_0x3c2404),this['subscriptionManager'][_0xf6f17(0x460)](_0x3c2404));break;case _0x542695[_0xf6f17(0x1f7)]:await this[_0xf6f17(0x10b)][_0xf6f17(0x41c)](_0x3c2404),this[_0xf6f17(0x228)][_0xf6f17(0x41c)](_0x3c2404),this[_0xf6f17(0x5cd)][_0xf6f17(0x41c)](_0x3c2404),this[_0xf6f17(0x21f)]['handlePeerConnectionSystemEvents'](_0x3c2404);}}catch(_0x438663){throw this[_0xf6f17(0x4ba)](_0x438663,{});}}[_0x397592(0x4ba)](_0x3b5678,_0x48bdd6){const _0x307e71=_0x397592;if(!(_0x3b5678 instanceof _0x559fc1)){if(_0x3b5678 instanceof _0x24c29d)throw _0x3b5678;if(!(_0x3b5678 instanceof Error))throw new _0x24c29d(_0x1e3f38['InternalSDKError'],_0x307e71(0x427)+_0x3b5678);if(!(_0x3b5678 instanceof _0x5efe70))throw new _0x24c29d(_0x1e3f38[_0x307e71(0x1f1)],'Internal\x20error:\x20'+_0x3b5678[_0x307e71(0x3e5)]);switch(_0x3b5678[_0x307e71(0x38b)]){case _0x5efe70[_0x307e71(0x50b)][_0x307e71(0x483)]:case _0x5efe70[_0x307e71(0x50b)][_0x307e71(0x12e)]:case _0x5efe70[_0x307e71(0x50b)][_0x307e71(0xdf)]:case _0x5efe70['codes'][_0x307e71(0x443)]:case _0x5efe70[_0x307e71(0x50b)]['ConnectionNotConnected']:case _0x5efe70[_0x307e71(0x50b)][_0x307e71(0x30a)]:case _0x5efe70[_0x307e71(0x50b)][_0x307e71(0x127)]:case _0x5efe70['codes'][_0x307e71(0x48d)]:case _0x5efe70[_0x307e71(0x50b)][_0x307e71(0x56e)]:case _0x5efe70[_0x307e71(0x50b)][_0x307e71(0x23f)]:case _0x5efe70[_0x307e71(0x50b)][_0x307e71(0x106)]:case _0x5efe70[_0x307e71(0x50b)][_0x307e71(0x648)]:}throw _0x29f8ca[_0x307e71(0x364)](_0x307e71(0x1d9)+_0x3b5678['message'],{'clusterId':this[_0x307e71(0xad)],'nodeId':this[_0x307e71(0x640)][_0x307e71(0x130)](),'nodeType':this[_0x307e71(0x640)][_0x307e71(0x1c2)]},_0x3b5678),new _0x24c29d(_0x1e3f38[_0x307e71(0x1f1)],_0x307e71(0x536)+_0x3b5678[_0x307e71(0x3e5)]);}}[_0x397592(0x323)](){const _0x1e06ad=_0x397592;return{'mediator':this,'vendorId':this[_0x1e06ad(0x5f7)],'clusterId':this[_0x1e06ad(0xad)],'localNode':this[_0x1e06ad(0x640)]};}[_0x397592(0x36a)](){const _0x12f486=_0x397592;return this[_0x12f486(0x4f8)][_0x12f486(0xda)](_0x1c792b=>{const _0x367b72=_0x12f486,_0x3502a3=_0x59bbbc(_0x1c792b,this[_0x367b72(0x640)][_0x367b72(0x130)]()),_0x440006=_0x1c792b[_0x367b72(0x2d9)]===_0x542695['Stats']||_0x1c792b[_0x367b72(0x2d9)]===_0x542695[_0x367b72(0x1f7)]&&_0x1c792b[_0x367b72(0x512)][_0x367b72(0x1c2)]===_0x13a1c5[_0x367b72(0x1e6)]?_0x27bb8f['SystemStats']:_0x27bb8f[_0x367b72(0x13e)];_0x29f8ca[_0x367b72(0x513)](_0x440006,_0x1c792b[_0x367b72(0xe7)]+'\x20-\x20'+_0x3502a3,_0x1c792b),this[_0x367b72(0x583)](_0x1c792b)[_0x367b72(0x5f6)](_0x4e5000=>{const _0x5250ee=_0x367b72;console[_0x5250ee(0x364)](_0x4e5000);});});}async['syncKeyValueDatabase'](_0x4882a8,_0x51100d){const _0x282a7c=_0x397592;_0x51100d=this[_0x282a7c(0x601)](_0x51100d),await _0x4882a8['sync'](_0x51100d,()=>this[_0x282a7c(0x5ff)](_0x4882a8,_0x51100d));}[_0x397592(0x601)](_0xf7071c){const _0x3a465d=_0x397592,_0xfca414=this[_0x3a465d(0x5cd)]['getAncestorIds']();if(!_0xf7071c)return _0xfca414[0x0];const _0x604233=_0xfca414[_0x3a465d(0xba)](_0x40f6cb=>_0xf7071c===_0x40f6cb),_0x583910=_0xfca414[_0x604233+0x1];return _0xfca414[_0x3a465d(0x42e)]>0x0&&!_0x583910?_0xf7071c[0x0]:_0x583910;}}class _0xaad06c{[_0x397592(0x5f7)];['clusterId'];[_0x397592(0x2a9)];[_0x397592(0x2c2)];[_0x397592(0xeb)];constructor(_0x544c29,_0x87227b,_0x2f5f5c,_0x12f9a1,_0x2d7fa2,_0x19ab0e,_0x49e104=new _0x42c6e0()){const _0x345e94=_0x397592;this[_0x345e94(0x5f7)]=_0x544c29,this['clusterId']=_0x87227b,this[_0x345e94(0x2a9)]=_0x2f5f5c,this['eventEmitter']=_0x49e104,this[_0x345e94(0xeb)]=new _0x26b469(this[_0x345e94(0x5f7)],this[_0x345e94(0xad)],_0x2f5f5c,_0x12f9a1,_0x2d7fa2,_0x19ab0e,this);}async['join'](){const _0x29d220=_0x397592;await this['orchestrator'][_0x29d220(0x2c0)](),this[_0x29d220(0x2a9)][_0x29d220(0x1c2)]===_0x25e642[_0x29d220(0xcc)][_0x29d220(0x10a)]&&this[_0x29d220(0x2a9)][_0x29d220(0x434)](this[_0x29d220(0xad)],_0x3c6b38=>{const _0x345d87=_0x29d220;this[_0x345d87(0xeb)][_0x345d87(0x3cb)](_0x3c6b38);});}[_0x397592(0x3b5)](){const _0x5ed5fa=_0x397592;this[_0x5ed5fa(0xeb)]['close'](),this['authNode'][_0x5ed5fa(0x1c2)]===_0x25e642[_0x5ed5fa(0xcc)][_0x5ed5fa(0x10a)]&&this[_0x5ed5fa(0x2a9)][_0x5ed5fa(0x612)](this[_0x5ed5fa(0xad)]),this['emit'](_0x5ed5fa(0x4be),void 0x0);}[_0x397592(0x1db)](_0xe473b1){const _0x5919f6=_0x397592,_0xedd344=this['orchestrator']['openPubSubTopic'](_0xe473b1);return{'getName':_0xedd344[_0x5919f6(0x147)][_0x5919f6(0x62b)](_0xedd344),'getOwnerId':_0xedd344[_0x5919f6(0x24e)][_0x5919f6(0x62b)](_0xedd344),'getContentType':_0xedd344['getContentType'][_0x5919f6(0x62b)](_0xedd344),'publish':_0xedd344['publish'][_0x5919f6(0x62b)](_0xedd344),'subscribe':_0xedd344[_0x5919f6(0xda)][_0x5919f6(0x62b)](_0xedd344),'unsubscribe':_0xedd344[_0x5919f6(0x238)]['bind'](_0xedd344),'close':_0xedd344[_0x5919f6(0x9e)][_0x5919f6(0x62b)](_0xedd344)};}async[_0x397592(0x524)](_0x5d008b){const _0x286391=_0x397592,_0x9ae1d4=await this[_0x286391(0xeb)][_0x286391(0x524)](_0x5d008b);return{'getName':_0x9ae1d4['getName'][_0x286391(0x62b)](_0x9ae1d4),'getOwnerId':_0x9ae1d4['getOwnerId'][_0x286391(0x62b)](_0x9ae1d4),'getContentType':_0x9ae1d4[_0x286391(0x4ad)][_0x286391(0x62b)](_0x9ae1d4),'publish':_0x9ae1d4['publish'][_0x286391(0x62b)](_0x9ae1d4),'unpublish':_0x9ae1d4[_0x286391(0x59b)]['bind'](_0x9ae1d4),'get':_0x9ae1d4['get'][_0x286391(0x62b)](_0x9ae1d4),'list':_0x9ae1d4[_0x286391(0x181)][_0x286391(0x62b)](_0x9ae1d4),'subscribe':_0x9ae1d4[_0x286391(0xda)]['bind'](_0x9ae1d4),'unsubscribe':_0x9ae1d4[_0x286391(0x238)][_0x286391(0x62b)](_0x9ae1d4),'close':_0x9ae1d4[_0x286391(0x9e)][_0x286391(0x62b)](_0x9ae1d4)};}async['openKeyValueDatabase'](_0x281915,_0x4a8379){const _0x312b87=_0x397592,_0x538058=await this[_0x312b87(0xeb)][_0x312b87(0x4f9)](_0x281915,_0x4a8379);return{'getName':_0x538058['getName'][_0x312b87(0x62b)](_0x538058),'getOwnerId':_0x538058['getOwnerId'][_0x312b87(0x62b)](_0x538058),'getContentType':_0x538058[_0x312b87(0x4ad)]['bind'](_0x538058),'getTable':_0x538058[_0x312b87(0x462)]['bind'](_0x538058),'subscribe':_0x538058[_0x312b87(0xda)][_0x312b87(0x62b)](_0x538058),'unsubscribe':_0x538058[_0x312b87(0x238)][_0x312b87(0x62b)](_0x538058),'close':_0x538058[_0x312b87(0x9e)][_0x312b87(0x62b)](_0x538058)};}[_0x397592(0x49a)](_0x4db3f1){const _0x22e742=_0x397592;return this[_0x22e742(0xeb)][_0x22e742(0x49a)](_0x4db3f1)[_0x22e742(0x4e7)](_0x10ec83=>({'getName':_0x10ec83[_0x22e742(0x147)][_0x22e742(0x62b)](_0x10ec83),'getOwnerId':_0x10ec83[_0x22e742(0x24e)][_0x22e742(0x62b)](_0x10ec83),'getContentType':_0x10ec83[_0x22e742(0x4ad)]['bind'](_0x10ec83),'publish':_0x10ec83[_0x22e742(0x16f)][_0x22e742(0x62b)](_0x10ec83),'subscribe':_0x10ec83['subscribe'][_0x22e742(0x62b)](_0x10ec83),'unsubscribe':_0x10ec83[_0x22e742(0x238)][_0x22e742(0x62b)](_0x10ec83),'close':_0x10ec83[_0x22e742(0x9e)]['bind'](_0x10ec83)}));}[_0x397592(0x250)](_0x5d1c75){const _0x1a11d6=_0x397592;return this[_0x1a11d6(0xeb)][_0x1a11d6(0x250)](_0x5d1c75)[_0x1a11d6(0x4e7)](_0x4e2333=>({'getName':_0x4e2333[_0x1a11d6(0x147)][_0x1a11d6(0x62b)](_0x4e2333),'getOwnerId':_0x4e2333[_0x1a11d6(0x24e)][_0x1a11d6(0x62b)](_0x4e2333),'getContentType':_0x4e2333['getContentType'][_0x1a11d6(0x62b)](_0x4e2333),'publish':_0x4e2333['publish'][_0x1a11d6(0x62b)](_0x4e2333),'unpublish':_0x4e2333[_0x1a11d6(0x59b)][_0x1a11d6(0x62b)](_0x4e2333),'get':_0x4e2333['get'][_0x1a11d6(0x62b)](_0x4e2333),'list':_0x4e2333['list'][_0x1a11d6(0x62b)](_0x4e2333),'subscribe':_0x4e2333[_0x1a11d6(0xda)][_0x1a11d6(0x62b)](_0x4e2333),'unsubscribe':_0x4e2333[_0x1a11d6(0x238)][_0x1a11d6(0x62b)](_0x4e2333),'close':_0x4e2333[_0x1a11d6(0x9e)][_0x1a11d6(0x62b)](_0x4e2333)}));}['getKeyValueDatabases'](_0x14b524){const _0x199b5c=_0x397592;return this['orchestrator'][_0x199b5c(0x40a)](_0x14b524)['map'](_0x4ac680=>({'getName':_0x4ac680[_0x199b5c(0x147)]['bind'](_0x4ac680),'getOwnerId':_0x4ac680[_0x199b5c(0x24e)][_0x199b5c(0x62b)](_0x4ac680),'getContentType':_0x4ac680['getContentType'][_0x199b5c(0x62b)](_0x4ac680),'getTable':_0x4ac680['getTable'][_0x199b5c(0x62b)](_0x4ac680),'subscribe':_0x4ac680[_0x199b5c(0xda)]['bind'](_0x4ac680),'unsubscribe':_0x4ac680[_0x199b5c(0x238)]['bind'](_0x4ac680),'close':_0x4ac680[_0x199b5c(0x9e)]['bind'](_0x4ac680)}));}['publishLocalMediaStream'](_0x3c5799,_0x4b2211){const _0x3254ac=_0x397592,_0x60dccd=this['orchestrator'][_0x3254ac(0x35f)](_0x3c5799,_0x4b2211);return{'getLabel':_0x60dccd[_0x3254ac(0x331)]['bind'](_0x60dccd),'getOwnerId':_0x60dccd['getOwnerId'][_0x3254ac(0x62b)](_0x60dccd),'getContentType':_0x60dccd['getContentType'][_0x3254ac(0x62b)](_0x60dccd),'getMediaStream':_0x60dccd['getMediaStream']['bind'](_0x60dccd),'setPriority':_0x60dccd[_0x3254ac(0x105)][_0x3254ac(0x62b)](_0x60dccd),'unpublish':_0x60dccd['unpublish']['bind'](_0x60dccd)};}[_0x397592(0x19d)](_0x3f5af2,_0x42d493){const _0x45efd1=_0x397592,_0x4887d2=this[_0x45efd1(0xeb)][_0x45efd1(0x141)](_0x3f5af2,_0x42d493);return{'getLabel':_0x4887d2['getLabel'][_0x45efd1(0x62b)](_0x4887d2),'getOwnerId':_0x4887d2[_0x45efd1(0x24e)]['bind'](_0x4887d2),'getContentType':_0x4887d2[_0x45efd1(0x4ad)]['bind'](_0x4887d2),'setPriority':_0x4887d2[_0x45efd1(0x105)][_0x45efd1(0x62b)](_0x4887d2),'unpublish':_0x4887d2[_0x45efd1(0x59b)]['bind'](_0x4887d2),'getMediaStream':_0x4887d2[_0x45efd1(0x3aa)][_0x45efd1(0x62b)](_0x4887d2),'addTrack':_0x4887d2[_0x45efd1(0x4fd)][_0x45efd1(0x62b)](_0x4887d2),'removeTrack':_0x4887d2['removeTrack'][_0x45efd1(0x62b)](_0x4887d2),'replaceTrack':_0x4887d2[_0x45efd1(0x337)][_0x45efd1(0x62b)](_0x4887d2),'setTransformations':_0x4887d2[_0x45efd1(0x58f)][_0x45efd1(0x62b)](_0x4887d2)};}[_0x397592(0x19e)](_0x5f3be5){const _0x2ea8e9=_0x397592;return this[_0x2ea8e9(0xeb)][_0x2ea8e9(0x19e)](_0x5f3be5)[_0x2ea8e9(0x4e7)](_0x2142cf=>({'getLabel':_0x2142cf[_0x2ea8e9(0x331)][_0x2ea8e9(0x62b)](_0x2142cf),'getOwnerId':_0x2142cf[_0x2ea8e9(0x24e)][_0x2ea8e9(0x62b)](_0x2142cf),'getContentType':_0x2142cf[_0x2ea8e9(0x4ad)][_0x2ea8e9(0x62b)](_0x2142cf),'getMediaStream':_0x2142cf[_0x2ea8e9(0x3aa)][_0x2ea8e9(0x62b)](_0x2142cf),'setPriority':_0x2142cf[_0x2ea8e9(0x105)][_0x2ea8e9(0x62b)](_0x2142cf),'unpublish':_0x2142cf[_0x2ea8e9(0x59b)][_0x2ea8e9(0x62b)](_0x2142cf)}));}[_0x397592(0x32d)](_0x395037){const _0x4802d0=_0x397592;return this[_0x4802d0(0xeb)]['getRemoteMediaStreams'](_0x395037)['map'](_0x1c5f47=>({'getLabel':_0x1c5f47[_0x4802d0(0x331)][_0x4802d0(0x62b)](_0x1c5f47),'getOwnerId':_0x1c5f47[_0x4802d0(0x24e)][_0x4802d0(0x62b)](_0x1c5f47),'getContentType':_0x1c5f47[_0x4802d0(0x4ad)][_0x4802d0(0x62b)](_0x1c5f47),'getMediaStream':_0x1c5f47[_0x4802d0(0x3aa)]['bind'](_0x1c5f47),'subscribe':_0x1c5f47[_0x4802d0(0xda)][_0x4802d0(0x62b)](_0x1c5f47),'unsubscribe':_0x1c5f47[_0x4802d0(0x238)][_0x4802d0(0x62b)](_0x1c5f47),'getAvailableTrackKinds':_0x1c5f47[_0x4802d0(0x635)][_0x4802d0(0x62b)](_0x1c5f47),'update':_0x1c5f47[_0x4802d0(0x4ee)][_0x4802d0(0x62b)](_0x1c5f47),'onProviderChanged':_0x1c5f47[_0x4802d0(0x33e)][_0x4802d0(0x62b)](_0x1c5f47)}));}[_0x397592(0x416)](){const _0x140ab7=_0x397592,_0x460676=this[_0x140ab7(0xeb)][_0x140ab7(0x416)]();switch(_0x460676[_0x140ab7(0x1c2)]){case _0x25e642[_0x140ab7(0xcc)][_0x140ab7(0x10a)]:return{'type':_0x25e642[_0x140ab7(0xcc)][_0x140ab7(0x10a)],'getId':_0x460676[_0x140ab7(0x130)][_0x140ab7(0x62b)](_0x460676),'getDisplayName':_0x460676[_0x140ab7(0x517)][_0x140ab7(0x62b)](_0x460676),'getEmail':_0x460676['getEmail'][_0x140ab7(0x62b)](_0x460676),'getRemoteConnections':_0x460676[_0x140ab7(0x51e)][_0x140ab7(0x62b)](_0x460676),'setDisplayName':_0x460676[_0x140ab7(0x37b)][_0x140ab7(0x62b)](_0x460676),'setEmail':_0x460676[_0x140ab7(0x126)][_0x140ab7(0x62b)](_0x460676)};case _0x25e642['NodeType'][_0x140ab7(0x55b)]:default:return{'type':_0x25e642['NodeType'][_0x140ab7(0x55b)],'getId':_0x460676[_0x140ab7(0x130)][_0x140ab7(0x62b)](_0x460676),'getRemoteConnections':_0x460676[_0x140ab7(0x51e)][_0x140ab7(0x62b)](_0x460676)};}}[_0x397592(0x1ab)](_0x12bd21){const _0x5116dc=_0x397592;return this['orchestrator'][_0x5116dc(0x1ab)](_0x12bd21)[_0x5116dc(0x4e7)](_0x319249=>{const _0x5244fd=_0x5116dc;switch(_0x319249[_0x5244fd(0x1c2)]){case _0x25e642[_0x5244fd(0xcc)][_0x5244fd(0x10a)]:return{'type':_0x25e642[_0x5244fd(0xcc)][_0x5244fd(0x10a)],'getId':_0x319249[_0x5244fd(0x130)][_0x5244fd(0x62b)](_0x319249),'getDisplayName':_0x319249[_0x5244fd(0x517)][_0x5244fd(0x62b)](_0x319249),'getEmail':_0x319249[_0x5244fd(0x4ed)][_0x5244fd(0x62b)](_0x319249),'getRemoteConnections':_0x319249[_0x5244fd(0x51e)][_0x5244fd(0x62b)](_0x319249)};case _0x25e642[_0x5244fd(0xcc)][_0x5244fd(0x55b)]:return{'type':_0x25e642[_0x5244fd(0xcc)][_0x5244fd(0x55b)],'getId':_0x319249[_0x5244fd(0x130)][_0x5244fd(0x62b)](_0x319249),'getRemoteConnections':_0x319249[_0x5244fd(0x51e)][_0x5244fd(0x62b)](_0x319249)};default:throw new _0x24c29d(_0x1e3f38[_0x5244fd(0x28a)],_0x5244fd(0x221));}});}['on']=(..._0x5856f4)=>{this['eventEmitter']['on'](..._0x5856f4);};[_0x397592(0x167)]=(..._0xbde2e7)=>this['eventEmitter'][_0x397592(0x167)](..._0xbde2e7);[_0x397592(0x183)](..._0x2a2f56){const _0x5a65da=_0x397592;this[_0x5a65da(0x2c2)][_0x5a65da(0x183)](..._0x2a2f56);}}class _0x2c0732{['id'];[_0x397592(0x1c2)]=_0x25e642[_0x397592(0xcc)][_0x397592(0x55b)];constructor(_0x3aef90){this['id']=_0x3aef90;}['getId'](){return this['id'];}}class _0xca832c{['id'];[_0x397592(0xa0)];[_0x397592(0x388)];[_0x397592(0x1c2)]=_0x25e642['NodeType'][_0x397592(0x10a)];[_0x397592(0x20a)]=new Map();[_0x397592(0x135)]=_0x19e3ff();constructor(_0x1ef2b5,_0x2265ec,_0x5990c1){const _0xfc9c3f=_0x397592;this['id']=_0x1ef2b5,this['displayName']=_0x2265ec,this[_0xfc9c3f(0x388)]=_0x5990c1;}[_0x397592(0x130)](){return this['id'];}[_0x397592(0x517)](){return this['displayName'];}[_0x397592(0x4ed)](){const _0x1eac79=_0x397592;return this[_0x1eac79(0x388)];}[_0x397592(0x37b)](_0x39ef86){const _0x588a9b=_0x397592;this[_0x588a9b(0xa0)]!==_0x39ef86&&(this[_0x588a9b(0xa0)]=_0x39ef86,this[_0x588a9b(0x135)][_0x588a9b(0x16f)](this));}[_0x397592(0x126)](_0x13f85d){const _0x35d7f3=_0x397592;this['email']!==_0x13f85d&&(this['email']=_0x13f85d,this[_0x35d7f3(0x135)][_0x35d7f3(0x16f)](this));}[_0x397592(0x434)](_0x4ed9cb,_0x45b7b4){const _0x2312c5=_0x397592;if(this[_0x2312c5(0x20a)][_0x2312c5(0x1ac)](_0x4ed9cb))return;const _0x8ecb5a=this[_0x2312c5(0x135)][_0x2312c5(0xda)](_0x45b7b4);this[_0x2312c5(0x20a)]['set'](_0x4ed9cb,_0x8ecb5a);}['unregisterCluster'](_0x5905bd){const _0x142b65=_0x397592;if(!this[_0x142b65(0x20a)][_0x142b65(0x1ac)](_0x5905bd))return;const _0x8249d9=this[_0x142b65(0x20a)]['get'](_0x5905bd);_0x8249d9&&_0x8249d9(),this[_0x142b65(0x20a)][_0x142b65(0x457)](_0x5905bd);}}class _0x117f52{[_0x397592(0x5f7)];['user'];constructor(_0x400b69){const _0x509184=_0x397592;this[_0x509184(0x5f7)]=_0x400b69;}async[_0x397592(0x5f5)](_0x4de5f6){const _0x471067=_0x397592,_0x4646eb=await(0x0,_0x15fb62[_0x471067(0x322)])(_0x180399[_0x471067(0x157)](),_0x471067(0x28c))({'uid':_0x471067(0x519)+this[_0x471067(0x5f7)]+_0x471067(0x519)+_0x4de5f6['id']}),_0x2ecc08=await(0x0,_0x25fce6[_0x471067(0x32b)])(_0x180399[_0x471067(0x539)](),_0x4646eb[_0x471067(0x476)]['token']);this[_0x471067(0x5fa)]=_0x2ecc08[_0x471067(0x5fa)];}async[_0x397592(0x103)](){const _0x447f46=_0x397592;await(0x0,_0x25fce6[_0x447f46(0x103)])(_0x180399[_0x447f46(0x539)]());}['getIdToken'](){const _0x2efefb=_0x397592;return this[_0x2efefb(0x5fa)]?.[_0x2efefb(0x53f)]()??Promise[_0x2efefb(0x541)](_0x2efefb(0x365));}}class _0x1af17e{static ['instance'];[_0x397592(0x179)]=[];constructor(){}static[_0x397592(0x1dd)](){const _0x370aa8=_0x397592;return _0x1af17e[_0x370aa8(0x468)]||(_0x1af17e[_0x370aa8(0x468)]=new _0x1af17e()),_0x1af17e[_0x370aa8(0x468)];}['initialize'](){const _0x57b393=_0x397592;this['checkWebRTC'](),this[_0x57b393(0x18e)](),this[_0x57b393(0x31c)](),this[_0x57b393(0x4a0)](),this['checkDeviceConfig'](),this[_0x57b393(0x5bb)](),this[_0x57b393(0x5dd)](),this[_0x57b393(0x55e)](),this['checkWebGL'](),this['checkAudioContext'](),_0x29f8ca['log'](_0x27bb8f[_0x57b393(0x39d)],_0x57b393(0x44d),{'featureSupport':this['featureSupport']});}[_0x397592(0x52b)](_0x56008c){const _0x4999c8=_0x397592,_0x4fd8ac=this[_0x4999c8(0x179)][_0x4999c8(0x13c)](_0x5b8488=>_0x5b8488['name']===_0x56008c);return!!_0x4fd8ac&&_0x4fd8ac['supported'];}[_0x397592(0x2ea)](_0xb0d8ea){const _0x1239a0=_0x397592;_0x29f8ca[_0x1239a0(0x269)]('support',{'nodeId':_0xb0d8ea[_0x1239a0(0x130)](),'nodeType':_0xb0d8ea['type'],'data':{'featureSupport':this['featureSupport']}});}[_0x397592(0x5a8)](){const _0x219484=_0x397592,_0x471442=_0x2560b2['WebRTC'];let _0x2206c4=!0x1;_0x219484(0x260)==typeof RTCPeerConnection&&_0x219484(0x260)==typeof RTCIceCandidate&&_0x219484(0x260)==typeof RTCSessionDescription?_0x2206c4=!0x0:_0x29f8ca[_0x219484(0x298)](_0x27bb8f[_0x219484(0x39d)],_0x219484(0x3b9)+_0x471442+_0x219484(0x459)),this[_0x219484(0x179)][_0x219484(0x2d7)]({'name':_0x471442,'supported':_0x2206c4});}[_0x397592(0x18e)](){const _0x512991=_0x397592,_0x35f01e=_0x2560b2[_0x512991(0x14f)];let _0x42c3f2=!0x1;_0x512991(0x260)==typeof MediaStream&&_0x512991(0x260)==typeof MediaStreamTrack&&_0x512991(0x546)==typeof navigator&&'object'==typeof navigator[_0x512991(0x330)]&&_0x512991(0x260)==typeof navigator[_0x512991(0x330)][_0x512991(0x5d9)]?_0x42c3f2=!0x0:_0x29f8ca[_0x512991(0x298)](_0x27bb8f[_0x512991(0x39d)],_0x512991(0x3b9)+_0x35f01e+_0x512991(0x459)),this[_0x512991(0x179)]['push']({'name':_0x35f01e,'supported':_0x42c3f2});}[_0x397592(0x31c)](){const _0x12f011=_0x397592,_0x4d6fdd=_0x2560b2[_0x12f011(0x198)];let _0xe99d84=!0x1;_0x12f011(0x546)==typeof navigator&&_0x12f011(0x546)==typeof navigator[_0x12f011(0x330)]&&_0x12f011(0x260)==typeof navigator[_0x12f011(0x330)]['getDisplayMedia']?_0xe99d84=!0x0:_0x29f8ca[_0x12f011(0x298)](_0x27bb8f['Support'],_0x12f011(0x3b9)+_0x4d6fdd+'\x20not\x20supported'),this['featureSupport'][_0x12f011(0x2d7)]({'name':_0x4d6fdd,'supported':_0xe99d84});}['checkAudioVolume'](){const _0x1aafb1=_0x397592,_0x43812b=_0x2560b2[_0x1aafb1(0x552)];let _0x1ecf6d=!0x1;_0x1aafb1(0x260)!=typeof AudioContext||_0x1aafb1(0x260)!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||_0x1aafb1(0x260)!=typeof MediaStreamAudioSourceNode?_0x29f8ca[_0x1aafb1(0x298)](_0x27bb8f[_0x1aafb1(0x39d)],_0x1aafb1(0x3b9)+_0x43812b+_0x1aafb1(0x459)):_0x1ecf6d=!0x0,this[_0x1aafb1(0x179)][_0x1aafb1(0x2d7)]({'name':_0x43812b,'supported':_0x1ecf6d});}[_0x397592(0x3a3)](){const _0x207bd6=_0x397592,_0x823291=_0x2560b2[_0x207bd6(0x348)];let _0x46738b=!0x1;'object'==typeof navigator&&_0x207bd6(0x546)==typeof navigator[_0x207bd6(0x330)]&&_0x207bd6(0x260)==typeof navigator[_0x207bd6(0x330)][_0x207bd6(0x349)]&&_0x207bd6(0x260)==typeof MediaDeviceInfo?_0x46738b=!0x0:_0x29f8ca[_0x207bd6(0x298)](_0x27bb8f[_0x207bd6(0x39d)],_0x207bd6(0x3b9)+_0x823291+_0x207bd6(0x459)),this[_0x207bd6(0x179)][_0x207bd6(0x2d7)]({'name':_0x823291,'supported':_0x46738b});}['checkAudioOutput'](){const _0x175e21=_0x397592,_0x330c7e=_0x2560b2['AudioOutput'];let _0x53b8c7=!0x1;_0x175e21(0x546)==typeof document&&_0x175e21(0x260)==typeof document[_0x175e21(0x4b2)]('video')['setSinkId']?_0x53b8c7=!0x0:_0x29f8ca[_0x175e21(0x298)](_0x27bb8f['Support'],_0x175e21(0x3b9)+_0x330c7e+_0x175e21(0x459)),this[_0x175e21(0x179)]['push']({'name':_0x330c7e,'supported':_0x53b8c7});}async['checkMediaRecording'](){const _0x3de5a6=_0x397592,_0x96bfd4=_0x2560b2['Recording'];let _0x2b835d=!0x1;try{const _0x457464=document['createElement'](_0x3de5a6(0x3d9));if(MediaRecorder&&MediaSource&&_0x457464['captureStream']){const _0x3c67da=_0x457464[_0x3de5a6(0x326)](),_0x416f89=new MediaRecorder(_0x3c67da);_0x416f89[_0x3de5a6(0x4da)](),await new Promise(_0x30ddfa=>setTimeout(_0x30ddfa,0x7d0)),_0x416f89[_0x3de5a6(0x4ef)](),_0x2b835d=_0x3de5a6(0x415)===_0x416f89['state'];}}catch(_0x24fbec){_0x29f8ca['log'](_0x27bb8f['Support'],_0x3de5a6(0x3b9)+_0x96bfd4+_0x3de5a6(0xc4),_0x24fbec);}this[_0x3de5a6(0x179)][_0x3de5a6(0x2d7)]({'name':_0x96bfd4,'supported':_0x2b835d}),_0x2b835d||_0x29f8ca[_0x3de5a6(0x298)](_0x27bb8f['Support'],'Support:\x20'+_0x96bfd4+'\x20not\x20supported');}[_0x397592(0x55e)](){const _0x43b748=_0x397592,_0x54366d=_0x2560b2['Backgrounds'];let _0x446699=!0x1;try{document[_0x43b748(0x4b2)]('canvas')[_0x43b748(0x326)]&&(_0x446699=!0x0);}catch(_0x2168b0){_0x29f8ca[_0x43b748(0x298)](_0x27bb8f[_0x43b748(0x39d)],'Support:\x20'+_0x54366d+'\x20check\x20failed',_0x2168b0);}this['featureSupport'][_0x43b748(0x2d7)]({'name':_0x54366d,'supported':_0x446699}),_0x446699||_0x29f8ca[_0x43b748(0x298)](_0x27bb8f[_0x43b748(0x39d)],_0x43b748(0x3b9)+_0x54366d+_0x43b748(0x459));}['checkWebGL'](){const _0xa26b66=_0x397592,_0x42d991=_0x2560b2[_0xa26b66(0x4f3)];let _0x4232a3=!0x1;try{const _0x278097=document[_0xa26b66(0x4b2)](_0xa26b66(0x3d9));WebGLRenderingContext&&_0x278097[_0xa26b66(0x4c1)](_0xa26b66(0x584))&&(_0x4232a3=!0x0);}catch(_0x4aeb02){_0x29f8ca['log'](_0x27bb8f[_0xa26b66(0x39d)],_0xa26b66(0x3b9)+_0x42d991+_0xa26b66(0xc4),_0x4aeb02);}this[_0xa26b66(0x179)][_0xa26b66(0x2d7)]({'name':_0x42d991,'supported':_0x4232a3}),_0x4232a3||_0x29f8ca['log'](_0x27bb8f[_0xa26b66(0x39d)],_0xa26b66(0x3b9)+_0x42d991+'\x20not\x20supported');}[_0x397592(0x598)](){const _0x177b93=_0x397592,_0x23471f=_0x2560b2[_0x177b93(0x16e)];let _0x408b2b=!0x1;_0x177b93(0x260)==typeof AudioContext?_0x408b2b=!0x0:_0x29f8ca[_0x177b93(0x298)](_0x27bb8f[_0x177b93(0x39d)],_0x177b93(0x3b9)+_0x23471f+_0x177b93(0x459)),this[_0x177b93(0x179)][_0x177b93(0x2d7)]({'name':_0x23471f,'supported':_0x408b2b});}}const _0x53a93d=_0x1af17e[_0x397592(0x1dd)]();class _0x557d65{static ['instance'];[_0x397592(0x347)];[_0x397592(0x5f7)];[_0x397592(0x54c)];['configs'];[_0x397592(0x25d)]=new Map();[_0x397592(0x60e)];[_0x397592(0x238)];constructor(_0x64b58,_0x1f88cb,_0xba7e89){const _0x5b84a9=_0x397592;this[_0x5b84a9(0x5f7)]=_0x64b58,this[_0x5b84a9(0xbd)]=_0x1f88cb,this['authService']=new _0x117f52(this[_0x5b84a9(0x5f7)]),_0x53a93d['initialize'](),this['options']={'audioContext':_0xba7e89?.[_0x5b84a9(0x36f)]??(_0x53a93d[_0x5b84a9(0x52b)](_0x2560b2[_0x5b84a9(0x16e)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0xba7e89?.[_0x5b84a9(0x38c)]??0x1,'minConnections':_0xba7e89?.[_0x5b84a9(0xca)]??0x3,'maxConnections':_0xba7e89?.[_0x5b84a9(0x4c5)]??(_0xba7e89?.[_0x5b84a9(0xca)]&&0x4*_0xba7e89['minConnections'])??0xc,'maxDistance':_0xba7e89?.[_0x5b84a9(0x50d)]??0xa,'maxFps':_0xba7e89?.[_0x5b84a9(0x1a2)]??0x18,'maxBpp':_0xba7e89?.['maxBpp']??0.12,'objectStoreConnector':_0xba7e89?.[_0x5b84a9(0x54d)]??_0x2cc77d[_0x5b84a9(0x473)],'keyValueDatabaseConnector':_0xba7e89?.['keyValueDatabaseConnector']??_0x16df9e[_0x5b84a9(0x5ac)],'peerConnectionConnector':_0xba7e89?.[_0x5b84a9(0x551)]??_0x10ceec['WebRTCBrowserPeerConnectionConnector']},_0xba7e89?.[_0x5b84a9(0x4fa)]&&this[_0x5b84a9(0x54c)][_0x5b84a9(0x36f)]&&_0x48ae88[_0x5b84a9(0xe6)](this[_0x5b84a9(0x54c)][_0x5b84a9(0x36f)]),_0x29f8ca[_0x5b84a9(0xd6)](this[_0x5b84a9(0x5f7)]),_0xba7e89?.[_0x5b84a9(0x9f)]&&_0x29f8ca[_0x5b84a9(0x504)](_0xba7e89[_0x5b84a9(0x9f)]);}static async[_0x397592(0x1dd)](_0x2da55e,_0x38a645,_0x347777,_0x3db960){const _0x3f5d0=_0x397592,_0x3d3d72=await this[_0x3f5d0(0x226)](_0x2da55e,_0x38a645,_0x3db960);return _0x557d65['instance']||(_0x557d65[_0x3f5d0(0x468)]=new _0x557d65(_0x2da55e,_0x3d3d72,_0x347777)),{'close':_0x557d65['instance']['close'][_0x3f5d0(0x62b)](_0x557d65[_0x3f5d0(0x468)]),'authenticateUser':_0x557d65[_0x3f5d0(0x468)][_0x3f5d0(0x46a)][_0x3f5d0(0x62b)](_0x557d65[_0x3f5d0(0x468)]),'authenticateAgent':_0x557d65[_0x3f5d0(0x468)][_0x3f5d0(0x47c)][_0x3f5d0(0x62b)](_0x557d65['instance']),'joinCluster':_0x557d65['instance'][_0x3f5d0(0x2d3)][_0x3f5d0(0x62b)](_0x557d65[_0x3f5d0(0x468)])};}static async[_0x397592(0x9b)](){const _0xb45819=_0x397592;return _0x180399[_0xb45819(0x276)]();}async[_0x397592(0x9e)](){const _0x576c7d=_0x397592;this[_0x576c7d(0x25d)][_0x576c7d(0x633)](_0x544dd7=>{const _0x530c5c=_0x576c7d;_0x544dd7[_0x530c5c(0x183)](),_0x544dd7[_0x530c5c(0x3b5)]();}),this['clusters'][_0x576c7d(0x562)](),this[_0x576c7d(0x54c)][_0x576c7d(0x36f)]&&_0x48ae88[_0x576c7d(0x3d4)](),this[_0x576c7d(0x238)]?.(),this[_0x576c7d(0x60e)]=void 0x0,await this[_0x576c7d(0x347)][_0x576c7d(0x103)]();}static async['validateAccess'](_0x149e4e,_0x53fa5e,_0x176359){const _0x4a4767=_0x397592,_0x438fa6=(await(0x0,_0x15fb62[_0x4a4767(0x322)])(_0x180399[_0x4a4767(0x157)](),'sdkValidateAccess')({'vendorId':_0x149e4e,'accessToken':_0x53fa5e,'secretKey':_0x176359}))[_0x4a4767(0x476)];return _0x438fa6['features']||(_0x438fa6[_0x4a4767(0x61a)]=[]),_0x438fa6;}async['authenticateUser'](_0x35f786){const _0x5efb7f=_0x397592;await this['authService'][_0x5efb7f(0x5f5)](_0x35f786);const _0x2fa074=new _0xca832c(_0x35f786['id'],_0x35f786[_0x5efb7f(0xa0)],_0x35f786['email']);return this['authContext']={'node':_0x2fa074},_0x53a93d[_0x5efb7f(0x2ea)](_0x2fa074),{'type':_0x25e642[_0x5efb7f(0xcc)][_0x5efb7f(0x10a)],'getId':_0x2fa074[_0x5efb7f(0x130)]['bind'](_0x2fa074),'getDisplayName':_0x2fa074['getDisplayName'][_0x5efb7f(0x62b)](_0x2fa074),'getEmail':_0x2fa074[_0x5efb7f(0x4ed)]['bind'](_0x2fa074),'setDisplayName':_0x2fa074[_0x5efb7f(0x37b)][_0x5efb7f(0x62b)](_0x2fa074),'setEmail':_0x2fa074[_0x5efb7f(0x126)][_0x5efb7f(0x62b)](_0x2fa074)};}async[_0x397592(0x47c)](_0x1b871d,_0x22e956){const _0x907401=_0x397592,_0x456496=await(0x0,_0x2aaf65[_0x907401(0x1c6)])((0x0,_0x2aaf65[_0x907401(0x2e1)])(_0x180399[_0x907401(0x40d)](),_0x907401(0x3a4)+this[_0x907401(0x5f7)]+'/resources/agent/items/'+_0x1b871d[_0x907401(0x3fc)]));if(!_0x456496[_0x907401(0x43d)]())throw new _0x24c29d(_0x1e3f38[_0x907401(0x568)],'Agent\x20group\x20not\x20found');const _0x44fd8d=_0x1b871d['id'];await this['authService'][_0x907401(0x5f5)]({'id':_0x44fd8d});const _0x34dceb=new _0x2c0732(_0x44fd8d);this[_0x907401(0x60e)]={'node':_0x34dceb},_0x53a93d[_0x907401(0x2ea)](_0x34dceb);const _0x1aa30a=_0x456496[_0x907401(0x476)]();return await this[_0x907401(0x28e)](_0x34dceb,_0x1aa30a),_0x22e956&&this[_0x907401(0x621)](_0x1b871d[_0x907401(0x3fc)],_0x22e956),{'type':_0x25e642[_0x907401(0xcc)][_0x907401(0x55b)],'getId':_0x34dceb[_0x907401(0x130)]['bind'](_0x34dceb)};}async[_0x397592(0x2d3)](_0x3be7d7){const _0x5773ae=_0x397592;if(!this[_0x5773ae(0x60e)])throw new _0x24c29d(_0x1e3f38[_0x5773ae(0x568)],_0x5773ae(0x101));if(this['authContext'][_0x5773ae(0x2c5)]['type']!==_0x25e642[_0x5773ae(0xcc)][_0x5773ae(0x10a)])throw new _0x24c29d(_0x1e3f38[_0x5773ae(0x2d0)],_0x5773ae(0x316));if(this[_0x5773ae(0x25d)]['has'](_0x3be7d7))throw new _0x24c29d(_0x1e3f38['ClusterAlreadyJoined'],_0x5773ae(0x2e7));const _0x550c4c=new _0xaad06c(this[_0x5773ae(0x5f7)],_0x3be7d7,this['authContext']['node'],this[_0x5773ae(0x347)],this[_0x5773ae(0x54c)],this[_0x5773ae(0xbd)]);return await _0x550c4c[_0x5773ae(0x419)](),this['addCluster'](_0x3be7d7,_0x550c4c),_0x29f8ca[_0x5773ae(0x269)](_0x5773ae(0x420),{'clusterId':_0x3be7d7,'nodeId':this['authContext'][_0x5773ae(0x2c5)]['getId'](),'nodeType':this[_0x5773ae(0x60e)]['node']['type']}),{'leave':_0x550c4c[_0x5773ae(0x3b5)][_0x5773ae(0x62b)](_0x550c4c),'getLocalNode':_0x550c4c[_0x5773ae(0x416)][_0x5773ae(0x62b)](_0x550c4c),'openPubSubTopic':_0x550c4c[_0x5773ae(0x1db)][_0x5773ae(0x62b)](_0x550c4c),'openObjectStoreBucket':_0x550c4c[_0x5773ae(0x524)][_0x5773ae(0x62b)](_0x550c4c),'openKeyValueDatabase':_0x550c4c[_0x5773ae(0x4f9)][_0x5773ae(0x62b)](_0x550c4c),'publishLocalMediaStream':_0x550c4c[_0x5773ae(0x484)][_0x5773ae(0x62b)](_0x550c4c),'publishLocalDynamicMediaStream':_0x550c4c[_0x5773ae(0x19d)][_0x5773ae(0x62b)](_0x550c4c),'getPubSubTopics':_0x550c4c[_0x5773ae(0x49a)][_0x5773ae(0x62b)](_0x550c4c),'getObjectStoreBuckets':_0x550c4c['getObjectStoreBuckets'][_0x5773ae(0x62b)](_0x550c4c),'getKeyValueDatabases':_0x550c4c[_0x5773ae(0x40a)]['bind'](_0x550c4c),'getLocalMediaStreams':_0x550c4c[_0x5773ae(0x19e)]['bind'](_0x550c4c),'getRemoteMediaStreams':_0x550c4c['getRemoteMediaStreams']['bind'](_0x550c4c),'getRemoteNodes':_0x550c4c[_0x5773ae(0x1ab)][_0x5773ae(0x62b)](_0x550c4c),'on':_0x550c4c['on'][_0x5773ae(0x62b)](_0x550c4c),'off':_0x550c4c['off']['bind'](_0x550c4c)};}async[_0x397592(0x28e)](_0x597021,_0x519553){const _0x2de795=_0x397592;for(const _0x473ed6 of _0x519553[_0x2de795(0x25d)]){const _0xa8c108=new _0xaad06c(this['vendorId'],_0x473ed6['id'],_0x597021,this[_0x2de795(0x347)],this['options'],this[_0x2de795(0xbd)]);await _0xa8c108[_0x2de795(0x419)](),this[_0x2de795(0xd5)](_0x473ed6['id'],_0xa8c108);for(const _0x57c3e4 of _0x473ed6[_0x2de795(0x626)])_0xa8c108[_0x2de795(0x1db)](_0x57c3e4);for(const _0xb068b4 of _0x473ed6[_0x2de795(0x585)])await _0xa8c108[_0x2de795(0x524)](_0xb068b4);for(const _0x452aeb of _0x473ed6[_0x2de795(0x48f)])await _0xa8c108[_0x2de795(0x4f9)](_0x452aeb,{'version':0x1,'tables':{}});}}[_0x397592(0x621)](_0x1a0813,_0x57fdd4){const _0x351f80=_0x397592;this[_0x351f80(0xf1)](_0x1a0813,_0x57fdd4),this[_0x351f80(0x238)]=_0x48ae88[_0x351f80(0x18f)](()=>{const _0x20446e=_0x351f80;this[_0x20446e(0xf1)](_0x1a0813,_0x57fdd4);},0x493e0);}async[_0x397592(0xf1)](_0x21ce6d,_0x1ab68f){const _0x293270=_0x397592,_0xe80295=await _0x1ab68f();await(0x0,_0x2aaf65[_0x293270(0x31b)])((0x0,_0x2aaf65[_0x293270(0x253)])(_0x180399[_0x293270(0x40d)](),_0x293270(0x3a4)+this[_0x293270(0x5f7)]+_0x293270(0x1f5)),{'agentId':this[_0x293270(0x60e)]?.['node'][_0x293270(0x130)](),'groupId':_0x21ce6d,'timestamp':(0x0,_0x2aaf65[_0x293270(0x25f)])(),'capacity':_0xe80295});}[_0x397592(0xd5)](_0x4baac6,_0x42fad8){const _0x4c77a3=_0x397592;this[_0x4c77a3(0x25d)]['set'](_0x4baac6,_0x42fad8),_0x42fad8['on']('cluster-leave',()=>{const _0x5ae823=_0x4c77a3;_0x42fad8[_0x5ae823(0x183)](),this[_0x5ae823(0x25d)][_0x5ae823(0x457)](_0x4baac6);});}}})()),_0x8cb19b;})())));