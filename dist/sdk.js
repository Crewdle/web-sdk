function a0_0x104e(_0x34cad2,_0x547454){const _0x4c4691=a0_0x4c46();return a0_0x104e=function(_0x104e3d,_0x4dc575){_0x104e3d=_0x104e3d-0x107;let _0x12ec2e=_0x4c4691[_0x104e3d];return _0x12ec2e;},a0_0x104e(_0x34cad2,_0x547454);}function a0_0x4c46(){const _0x49adef=['getResolution','removeOutgoingSubscription','unsubscribe','createOutgoingSubscription','iceConnectionState','waitSendBuffer','file-write','clearWaitAnswer','receiverStreams','deleteObject','key-value-database-table-name-reserved','handleDisconnect','High','connectionPool','setRemoteUser','getMilliseconds','boolean','sendTransactionsValue','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','Missing\x20owner\x20user\x20or\x20rank','hasRemoteUser','pubsubTopics','unregisterSource','Online','crewdle-sdk','getSupportedContentTypes','isSubscribed','getSenderBitrate','key-value-database-transaction-value-not-set','remediation','remoteDescription','srcObject','detection','getSTVolatility','Backgrounds','version','registerCluster','validateAccess','onValue','Internal\x20event\x20\x27','FPS','joinCluster','map','transformations','email','processServiceReport','outgoing-stream-no-topic','isOffer','MissingSystemTopic','checkScreenSharing','stringify','user-leave','cpu.fps','max','serverTimestamp','File','SubscribeMediaStream','STVolatility','clearSyncTimeout','warning','Request','ConnectionGroup','setInterval','Remote\x20connection\x20already\x20exists.','instance','clusterEventEmitter','server','object-store-already-exists','data','handshakeRestart','UpdateMediaStream','Invalid\x20render\x20element','parse','sort','enabledChannels','messagesSent','browserVersion','Success','\x20does\x20not\x20support\x20content\x20type\x20','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','createTopic','handleCloseKeyValueDatabase','setupStatsCollection','Internal\x20error:\x20','bufferedEvents','processRemoteInboundReport','exports','fromEntries','updateDebounce','stop','handleSubscriptionUnsubscribeMediaStream','statsCollection','onUnregisterPublisher','connection-invalid-data-event','Method\x20not\x20implemented.','SubscriptionRequestNoAnswer','receivers','Node','maxResolution','registerRemoteUser','getDatabase','findNextAncestor','getApp','TestPage','getConnection','NodeManager\x20-\x20PublishUserLeave','SubscriptionRequestDoesNotExist','cancel','Default','writeTransaction','key-value-database-does-not-exist','request-file-sync','getCurrentMaxLayer','closeSubscription','getReceiverTotalBytes','signalingServer','remote-stream-does-not-exist','UserNotAuthenticated','resizeHandler','getEmail','file-delete','getAudioContext','receiverCurrentTimestamp','catch','Media','syncPendingFiles','setEmail','handleContentSystemEvents','FolderMove','subscribedTracks','removeEventListener','trackEndedListeners','auth','getMediaSubscription','successNotified','callback','Receiving\x20\x27','time_per_frame','connectionTimeout','cleanOldSubscription','topics','av_delay','ownerId','cost','maxFps','Emitting\x20event\x20on\x20local\x20cluster','logRaw','supportsContentType','CONNECTION_STATE_CHANGE','app','getIndexes','handleSubscriptionMediaStreamUnavailable','buildTableEvent','Count','NeedMediaStream','FileDelete','writes','senders','connectionManager','handshakeCandidates','handleAnswer','lastExecuted','content','handleFileRequestAnswer','onGatheringStateChange','MediaStreamUnavailable','Get','incomingTopic','setupResizeHandler','PeerConnection','checksum','origin','connectionState','resetConnection','bitrate','action','addMessage','move','processReports','handleDetectionSystemEvents','All\x20recipients\x20already\x20received','close','discoveryUnsubscriber','KeyValueDatabaseInvalidQuery','resolution','currentVersion','Buffering\x20event','senderConnection','All','media','ref','remoteConnections','internal-sdk-error','Support:\x20','failed','onTrack','durationTime','bufferEvent','value','sendStats','InvalidPublisher','contentManager','addEventListener','incomingManager','getStatus','listenerUnsubscriber','handleUserUpdate','Stream\x20does\x20not\x20exist','SubscriptionRequestInProgress','disconnect','ObjectStore','setLocalRank','PubSubTopicAlreadyExists','isWhereValue','handleSystemEvents','getAvailableTrackKinds','createPendingFileWrite','path','handleSuccess','clear','getAncestorIds','topicLabel','streams','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','outgoingTopic','resume','connected','users','connectionConstructor','pub-sub-topic-does-not-exist','15127XgDEhR','ObjectStoreInvalidSyncMessage','videoHeight','start','lastHeartbeat','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','Support','maps','registerPublisher','isInternalLoggingConnector','processLocalReport','Resolution','mediaStream','resolutionScale','invalid-subscriber','deleteIndex','setDisplayName','userId','listener','debug','getBitrate','packetsLost','amd','messageUnsubscriber','KeyValueDatabaseTableNameReserved','minResolutionScale','1:519415702791:web:5dd39042f881cfde3251a2','46871PxLuZN','system-stats','channel','canAddCandidates','handleTransactionPayload','MissingRemoteConnection','Remote\x20stream\x20does\x20not\x20exist.','error','list','setOnTableWriteHandler','getFileHandle','handleNodeSystemEvents','syncResolve','handleRemoteTrackFailure','CanProvideMediaStream','slice','unsubscribeTrackEndedListener','senderCurrentBytes','ObjectStoreNameNotString','clusterKey','object-store-name-not-string','\x27\x20in\x20table\x20\x27','bytesReceived','handshakeServers','audio','Outgoing','getRemoteUser','type','sdkValidateAccess','subscription-request-in-progress','cleanList','en-US','addPendingHandshakeCandidate','processReceiverReport','problemType','ranges','createIncomingSubscription','buffer','RequestFileWrite','encodings','addProblem','bind','handleLocalTrackFailure','processTransactionPayload','Invalid\x20version\x20\x27','setupListeners','incrementVersion','pendingFilesRename','defineProperty','Retry\x20request\x20with\x20chosen\x20answer\x20user\x20or\x20rank','onDisconnect','onDisconnectHandler','audioContext','getRemoteMediaStreams','Hub','join','getId','browser','setVendorId','processOutboundReport','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','createTable','readAsArrayBuffer','key-value-database-creation-failed','Connection\x20not\x20initialized.','statsManager','byteLength','isSync','removeRemoteUser','subscriptions','setTimestamp','isReconnecting','NodeManager\x20-\x20UserLeave','removeRemoteMediaStream','safari','getStats','findNextUserId','nodeKey','KeyValueDatabaseDoesNotExist','local-stream-does-not-exist','Invalid\x20publisher.','priority','Cannot\x20publish\x20payload:\x20','deleteRemoteUser','removeKeyValueDatabase','lastUpdated','DeviceConfig','complete','startHeartbeat','candidate','manageOptimization','Core','initialize','key-value-database-table-not-found','getEnabledChannels','detectVideoIssues','writeFile','length','authUser','NodeManager\x20-\x20ConnectionSuccess','params','getContext','request','gain','folder-create','getMaxDistance','setRemoteConnections','joinedClusters','handshakeDebounce','key-value-database','values','PubSubTopicStats','removeItem','removeRemoteStreamSubscription','retryQueues','peer-connection-invalid-destination','setSinkId','ConnectedPendingKeepAlive','\x20not\x20supported','sendWithRetry','setupTrackEndedListeners','clearSubscriptionRequestTimeout','getLocalUser','some','appsync-no-destination','issues','buildQuery','getName','Database\x20not\x20open','DTVolatility','keyPath','joinedAt','setEncodingParameters','string','user-publish-media','firestore','ConnectionInvalidDataEvent','ObjectStoreNotInSync','Invalid\x20where\x20clause','RemoteAdd','RemoteMediaStreamTrackFail','removeUser','min','Cannot\x20list\x20directory:\x20','limit','syncTransactionsWritten','getTransactionFromTableWriteEvent','handleObjectDelete','frameWidth','total','MediaSource','handleFileRequest','shouldProcessTransaction','optimizationLayers','detail','retryCallback','setRank','navigator','onBufferedAmountLow','notifyObjectStoreOfUserLeave','upgradeTimeout','NeedRestart','requestSubscriptionAction','\x0aAdditional\x20data:\x20','browserDetails','getLocalMediaStreams','onHandshakeStateChange','kind','dataChannel','minThreshold','isClusterEnabled','FolderDelete','timePerFrame','getAudioVideoDelay','media-stream','payloadType','localUser','forEach','UserConnectionsUpdate','__esModule','ccc','signInWithCredential','listenerUnsubscribers','createElement','Valid\x20layout','onbufferedamountlow','Delete','prototype','muted','clientStream','Invalid\x20table\x20name\x20\x27','orchestrator','ScreenSharing','Disconnected','handleStatsSystemEvents','clearRect','add','table','Low','/stats','chunk','key-value-database-not-open','destinationIds','subscription','indexOf','waitAnswer','Subscribing\x20to\x20an\x20event:\x20on','Subscription\x20request\x20does\x20not\x20exist.','width','propagate','KeyValueDatabaseInvalidLayout','PubSub\x20already\x20exists','handleSubscriptionSystemEvents','videoWidth','addTrack','setPriority','KeyValueDatabaseTableNotFound','https://crewdle-sdk-default-rtdb.firebaseio.com','listenUnsubscriber','Problem','clusterId','restartHandshake','framesDecoded','getRank','database','Cannot\x20publish\x20move\x20operation:\x20','us-east-1','FolderCreate','getPartsFromSubscription','emit','processRank','processPendingHandshakeCandidates','createBufferSource','getAudioTracks','Offline','getOrResetPendingFileTimeout','unregisterSubscriber','handleFileWrite','tableUnsubscriber','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','component','detectStreamIssues','addIssue','RemoteRemediation','object-store-already-subscribed','createReceiverConnection','isWhereBetween','maxDistance','Add','mute','setupConnectionEvents','handleClosePubSubTopic','senderCurrentTimestamp','openPubSubTopic','DataChannel\x20is\x20not\x20open.','logStorage','Cluster','Failed\x20to\x20create\x20key\x20value\x20database','upgrade','sendTransactionsDump','subscriptionManager','getMediaStream','publishLocalMediaStream','syncKeyValueDatabase','frames','timeoutCallback','transaction','3956836azudFC','minConnections','CrewdleSenderConnection\x20createOffer','setSubscriptionRequestTimeout','closeConnection','notifyClusterUserUpdate','isConnected','gatheringState','Invalid\x20subscriber.','object-store-not-in-sync','InvalidDataChannel','onRemoveTrack','availableTrackKinds','getQuery','handleHandshake','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','next','detectAudioIssues','supported','setParams','waitConnected','syncTimeout','Sender','label','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','user-unpublish-media','removeTrackCallback','sendChunked','processPendingSyncTransactions','Key-value\x20database\x20transaction\x20value\x20not\x20set.','streamId','remoteId','\x20not\x20supported\x20-\x20old\x20Firefox','CloseMediaStream','Invalid\x20index\x20in\x20table\x20\x27','ObjectStoreAlreadyExists','deleteTransactionsForTable','keyValueDatabaseConnector','all','unregisterPublisher','getRemoteConnections','senderTotalMessages','query','getTransactions','publishUserUpdate','operator','trackListeners','bufferedAmount','onerror','providerListener','statsReporting','subscription-request-failed','getVideoTracks','dbKey','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','missing-datachannel','invalid-data-chanel','RemoteMediaStreamDoesNotExist','getMinConnections','canChooseAnswer','chooseAnswer','element','getMaxConnections','uuid','createGain','QueryBuilderInvalidArgument','renderElement','KeyValueDatabaseTransactionValueNotSet','setOnDisconnectHandler','\x27\x20payload:','Handshake','code','setProviderId','systemMessages','floor','objectStoreConnector','getNextTargetRank','systemTopicUnsubscribe','handleUserJoinNeedPublishedStream','addIceCandidate','publishUserJoin','remote-inbound-rtp','createIndex','Invalid\x20object\x20store\x20sync\x20message.','clearOncloseTimeout','sendAction','checkWebGL','firefox','handleIceCandidates','fileChunks','getConnectionDestinations','setLocalDescription','UserUpdate','object-storage','Restart','UserLeave','distance','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','Content','ondatachannel','requestSubscription','.crewdle-pending','processTransactionsDump','setSenderTimestamp','handleConnectionSuccess','createMediaStreamDestination','match','notifyObjectStoreOfUserJoin','chrome','MediaStream\x20feature\x20not\x20enabled','object-store-invalid-path','setupRenderElement','ClosePubSubTopic','enumerateDevices','remote-stream-missing-provider-id','split','validateLayout','shift','restartTimeout','getEstimatedTimestamp','getSettings','handleOnMessage','createAnswer','applyRemediation','stopConnection','handleNoAnswer','Upgrade','2-digit','aws','region','ObjectStorage','addConnection','publishMove','decodeJWT','every','contentType','checkMediaRecording','setUpgradeTimeout','localMediaStreams','updateDebounceTimeout','UserAlreadyExist','remoteUnsubscriber','indexes','head','debounceStats','appsync-connect-fail','maxBitrate','reduce','client','handleUnsubscribeMediaStream','vendorId','Invalid\x20layout:\x20','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','Optimization','OutgoingMediaStreamNoTopic','roundTripTime','has','toStringTag','load','Receiver\x20connection\x20is\x20not\x20initialized.','Back\x20off:\x20Table\x20name\x20reserved','disconnectCallback','objectToArrayBuffer','pendingSyncTransactions','debugEnabled','orderBy','undefined','Subscription\x20request\x20failed.','registerSource','default','getPriority','chosenAnswers','localId','setLoggingConnectors','remoteUsers','graphql','registerSystemSource','removeTopic','Invalid\x20resolution','token','2743140CQaFTB','reset','checkSyncComplete','childRemovedUnsubscriber','getDisplayName','codes','FileWrite','lastTransactionId','where','RemoteMediaStreamInvalidSubscriptionParams','collectSendersStats','connecting','UnsubscribeMediaStream','SHA-1','addRemoteUser','frameTime','newPath','senderPreviousBytes','publishLocalDynamicMediaStream','systemTopic','Consuming\x20buffered\x20event','getReport','pathName','replace','handleContentCloseMediaStream','Restart\x20NeedMediaStream','answererId','missing-incoming-connection','key-value-database-invalid-query','disconnectTimeout','getDistance','dataUnsubscribers','request-file-write','internalId','3610cRtRmh','17811TpVvIZ','crewdle-sdk.appspot.com','parentId','FramePerSecond','interval','open','getSubscriptionInfo','ontrack','CrewdleConnectionGroup','keys','timestamp','restartIce','collectReceiversStats','publishSystemMessage','getFile','messageCallback','packetsSent','WebGLRenderingContext','oncloseTimeout','calculateSize','ObjectStoreInvalidPath','syncTransactions','getPacketsLostPerc','system','openKeyValueDatabase','createDataChannel','UserJoin','handleNodeDisconnect','outgoingManager','OptimizationConnectionSuccess','push','getProviderId','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','getConnections','onremovetrack','number','ConnectionNotConnected','removeObjectStore','RemoteConnectionExists','findNewMediaSubscription','tableLayout','wait','remediationManager','unpublish','desc','logServiceEvent','transactionTable','clientHeight','getSubscribedTracks','discover','Update','senderTimeProcessing','logConnectionState','low','authenticateUser','disconnected','log','\x27\x20from\x20','loop','createRemoteMediaStream','ConnectionNotinitialized','getInternalStreamId','handlePeerConnectionSystemEvents','key-value-database-table-does-not-exist','event','AppSync\x20subscribe','/transactions/lastTransaction','toLocaleDateString','setReceiverBytes','PeerConnectionInvalidDestination','Folder','detectionManager','previous','subscriptionRequests','currentTimestamp','discoveryService','CrewdleConnection\x20handlePeerConnectionSystemEvents','pendingFilesSyncing','missing-system-topic','SubscriptionRequestFailed','openObjectStoreBucket','System','Early\x20return','Events','Cluster\x20\x27','\x20not\x20supported\x20-\x20old\x20Chrome','10kamgJx','sendFile','ObjectStoreAlreadySubscribed','PubSubTopic\x20publish','publish','handleObjectMove','medium','Remove','unshift','sourceId','subscriptionRequestsQueue','publishTransaction','LocalReport','remainingTracks','filteredDestinationIds','offset','Internal\x20SDK\x20error:\x20','setBytes','destroy','scheduleTime','ObjectStoreInvalidPayload','setConnectionType','name','handleSubscriptionNeedMediaStream','maxLayer','isIceCandidate','setTransformations','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','maxThreshold','RemoteRemove','set','getTransceivers','FileMove','handleContentUpdateMediaStream','systemMessagesReceived','hasTracks','SyncComplete','checkWebRTC','providerId','canRestartHandshake','maxFramerate','features','transactionsToSync','connection-not-connected','tracks','request-file','options','addCandidate','.info/serverTimeOffset','handleSubscriptionSubscribeMediaStream','authContext','captureStream','webgl','sync','targetId','sender','user-does-not-exist','object-store-cannot-write-transaction','handleContentClosePubSubTopic','bytesSent','getPubSubTopics','user','authService','notifyClusterUserJoin','getRemoteUsers','edge','shouldContinuePropagation','toString','ConnectionState','canvas','Connection','invalid-publisher','RoundTripTime','unregisterSystemSource','handleUpdateMediaStream','Recording','receiverConnection','reportMetric','KeyValueDatabaseTransactionTableNotInitialized','off','receiverUnsubscribers','pubSubTopics','Subscription\x20request\x20has\x20not\x20been\x20answered.','status','getFunctions','onProviderChanged','registerSubscriber','iceConnectionState\x20failed','generateClient','removeTrackListeners','Support:\x20current\x20config','CPUCycle','handleRequestPayload','onDataChannel','Downgrade','key-value-database-name-not-string','eventListener','fps','pool','delete','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','clearRestartTimeout','Missing\x20remote\x20user\x20or\x20rank','handleFolderCreate','unregisterDestination','setPendingFileSyncingPayload','getContentType','receiverBitrate','21vooirs','endsWith','configs','scaleResolutionDownBy','handleNeedRestart','logPropagateSystemEvent','clusters/','AppSync\x20connection\x20not\x20ready','OPFSObjectStoreConnector','clearConnectionTimeout','SendTransactionsDump','mergeParts','context','\x27\x20in\x20layout','removeIncomingSubscription','getSubscriptionLabel','addRemoteConnection','CloseObjectStoreBucket','object','maxConnections','MediaRecorder','unregisterSystemPublisher','logSupport','pop','folder','onconnectionstatechange','chunks','Rejected','function','request-accepted','clearWaitSuccess','getLastUpdated','ended','internal','frameHeight','checkAudioOutput','onicegatheringstatechange','getInternalTrackParams','AudioOutput','PubSubTopic\x20onMessage','Connection\x20does\x20not\x20exist.','consumeBufferedEvents','AudioVolume','Everyone\x20','getClosestUsers','RemoteMediaStreamMissingProviderId','sampleRate','Database\x20already\x20exists','removeTrack','publishFile','registerSystemPublisher','getConfigs','handshakeState','currentBytes','Table\x20not\x20found','messageType','remoteMediaStreams','1:420235181083:web:4eff6062bd845cb0748cbe','framerate','onloadeddata','object-store-invalid-payload','true','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','stream','disableIntervalHack','timeReceiving','audioDestination','reads','parameters','getTotalBytes','getAuth','removeConnection','clientWidth','warn','heartbeatUnsubscriber','processSenderReport','getHash','removeLocalMediaStream','createPubSubTopic','crewdleSDKEnableLogging','createObjectStoreBucket','onLine','getTrackFromParam','peerConnectionConnector','Received\x20event\x20on\x20cluster','Data','Invalid\x20query','Remediation','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','estimatedPlayoutTimestamp','doc','createSenderConnection','manageAncestor','getDTVolatility','dispatchEvent','/nodes','connections','WebGL','Signaling','endpoint','onNodeDisconnect','outgoingStreams','iceServers','handleUserJoin','streamLabel','keyvaluedatabase','getShareableStream','setItem','inbound-rtp','getSenderTotalBytes','objectRequests','Received\x20track','getOutgoingOptimizationConnections','mediator','previousTimestamp','Bitrate','getLocalId','active','updateLastUpdated','storage','getConnectionType','handleChunkMessage','maxOutgoingSubscriptions','setTimeout','registeredListeners','unregisterCluster','findIndex','Local\x20MediaStream\x20already\x20exists','handleError','checkDeviceConfig','support','connectionGroup','InvalidSubscription','StreamReport','count','clearHeartbeat','LocalMediaStreamAlreadyExists','PublishMediaStream','user-not-authenticated','Incoming','MediaStream','User\x20not\x20signed\x20in','subscription-request-no-answer','\x27\x20to\x20','onnegotiationneeded','high','getKeyValueDatabases','threshold','text/plain','createRemoteUser','opera','developers/','key-value-database-index-not-found','\x20does\x20not\x20exists','lastRemediations','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','Apply\x20remediation','user-join','connection','includes','abs','RemoteMediaStreamAlreadyExists','logEvent','createConnection','key-value-database-invalid-layout','collectStats','userAgent','ObjectStoreStats','assign','dataTopics','SystemTopic\x20publish','removeSubscriptionsForUser','updateUser','featureSupport','KeyValueDatabaseCreationFailed','cluster-disconnect','appsync-disconnect','isNeedRestart','splice','createBuffer','totalDecodeTime','size','getLayout','RestartNeedMediaStream','Offer','objectstore','unsubscribeHandler','drawImage','crewdleSDKDisableLogging','hasOwnProperty','AppSync\x20client\x20not\x20ready','Chosen\x20answer','keyValueDatabases','video','st_volatility','checkBackgrounds','createConstantSource','setParameters','publishSyncCompleted','connectionType','startNoThrottlingHack','encode','KeyValueDatabaseNameNotString','transactionIds','connector','publishSyncCompletedAfterWrites','key','send','httpsCallable','pubsub','getItem','nextUserId','addAudioTrack','deleteTable','packets','enabled','RequestAccepted','handleUserLeave','notifyCluster','audioSource','KeyValueDatabaseTableDoesNotExist','crewdle-sdk-logging-','isMediaDestination','KeyValueDatabaseInvalidValue','/transactions/','initializeSystemTopic','direction','KeyValueDatabaseAlreadyExists','source','Error','addVideoTrack','getPartsForSubscriptionLabel','Issue\x20detected:\x20','statsReport','previousBytes','northamerica-northeast1','DataChannel\x20is\x20not\x20initialized.','waitSuccess','bandwidth.jitter','createSubscription','checkAudioVolume','transactions','handleSubscriptionProvideMediaStream','clearUpgradeTimeout','subscribe','receiverTimeProcessing','topic','getUserMedia','transactionService','Object\x20store\x20not\x20synced.','pub-sub-topic-name-not-string','checkMediaStream','createOffer','List','53818EXOmgi','folder-move','queues','leave','index','remote-media-stream-already-exists','setInternalId','WebRTC','send\x20error\x20on\x20','Invalid\x20key\x20\x27','G-F7W8KXRKQB','processInboundReport','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','::ï¿¿','handleSubscribeMediaStream','height','Stream\x20already\x20exists','eventEmitter','recipients','publishFolder','AudioVideoDelay','Receiver','Medium','PubSub','notifyJoin','updatePropagationProperties','Cannot\x20publish\x20folder:\x20','displayName','getFirestore','senderBitrate','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','firebaseUnsubscriber','file','getNumberOutgoingSubscriptions','Waiting','issue','text','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','messageBuffer','handleContentCloseObjectStore','mediaDevices','rank','Cannot\x20create\x20remote\x20user:\x20User\x20already\x20exists:\x20','everyone','LocalMediaStreamTrackFail','sendIceCandidates','/objectstores/','instantiateTransactionTable','destination','ancestors','committed','jitter','receiverCurrentBytes','receiverTotalMessages','messageListeners','tableObserver','handleOutgoingSystemEvents','Move','track','getAncestors','createLocalMediaStream','receiverPreviousTimestamp','pendingHandshakeCandidates','Store\x20already\x20exists','sourceVideo','Transaction','play','Invalid\x20value.\x20Property\x20\x27','goOffline','handleFileSync','LocalMediaStreamDoesNotExist','events','detectLocalIssues','Invalid\x20params','sdk-internal-error:\x20','messagesReceived','\x20-\x20','Key-value\x20database\x20table\x20does\x20not\x20exist.','FeatureNotEnabled','layout','entries','handleSubscriptionRestartNeedMediaStream','loggingConnectors','/nodes/','validateValue','getRemoteId','stats','filter','0.1.0','removeSubscription','oniceconnectionstatechange','previousFrames','end','Internal\x20SDK\x20Error:\x20','removeListener','pub-sub-topic-already-subscribed','Disconnect','AppSync\x20publish','getTracks','Problem\x20detected:\x20','local-media-stream-already-exists','objectStores','mediaTopics','retryCount','processReport','handleCloseMediaStream','handleOffer','answerJoin','Pool','sdkCreateToken','SystemStats','addDoc','senderPreviousTimestamp','functionsRegion','maxBpp','currentFrames','Local\x20stream\x20does\x20not\x20exist.','InvalidSubscriber','createLocalDynamicMediaStream','hasIndex','iceGatheringState','KeyValueDatabaseStats','KeyValueDatabase','onMessage','compareTransactions','getOwnerId','processDataChannelReport','query-helper-invalid-argument','getRemoteMediaStream','pendingFilesTransactions','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','handleRemediationSystemEvents','subscriptionRequestTimeouts','160WIdjMu','handleOptimizationConnectionSuccess','getCurrentVersion','graphService','PubSubTopicNameNotString','debounceProcessRank','Invalid\x20peer\x20connection\x20event\x20destination.','hasTable','connectionStateListener','KeyValueDatabaseNotOpen','Subscription','padStart','closeTopic','setRemoteDescription','Object\x20store\x20is\x20not\x20in\x20sync','replaceTrack','readyState','User\x20already\x20exists.','observer','660732PpOfad','update','RequestSyncKeyValueDatabase','test-page','getLabel','asc','handleCloseObjectStore','now','Jitter','ObjectStoreDoesNotExist','ConnectionNoRetryQueue','invalid-subscription','setCurrentVersion','Cannot\x20get\x20file:\x20','functions','Connected','tableName','getObjectStoreBuckets','.info/connected','processInboundReports','onicecandidate','handleContentUnsubscribeMediaStream','remove','timeSending','setScheduleTime','Sending\x20\x27','Module','getIdToken','trackKinds','canProvideResolution','find','Cannot\x20write\x20transaction.','val','between','not-in','answers','\x20already\x20exists','isProduction','from','mediaUnsubscribers','retryQueue','PubSubTopicAlreadySubscribed','No\x20destinationIds\x20left','DEBUG\x20-\x20','sendrecv','call','getTable','RequestTransactionsValue','nodeManager','getTrack','publishUserLeave','sendFileRequestPayload','hasMessage','Answer','bufferedAmountLowThreshold','tables','removePubSubTopic','Key-value\x20database\x20creation\x20failed.','ObjectStoreNotSynced','lastProcessRank','isArray','\x20check\x20failed','senderStreams','sendRequest','getInstance','handleProblem','startTime','Stats','validateQuery','Rejected\x20answer','getLocalMediaStream','InternalSDKError','signaling','RequestFile','retry','createKeyValueDatabase','onCandidate','trackCallback','onConnectionStateChange','signalingState','handleContentRemoteMediaStreamTrackFail','removeRemoteConnection','unregisterRemoteUser','UserDoesNotExist','User\x20not\x20authenticated','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','getResolutionScale','handleContentUnpublishMediaStream','UnpublishMediaStream','getOrCreateFolderHandle','isMediaSource','receiverPreviousBytes','get','decode','handleUnpublishMediaStream','random','IDBDatabaseConnector','connect','7008SOVbKi','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','oidc','/logs','setReceiverTimestamp','Orchestrator\x20handleSystemEvents','arrayBufferToObject','getShareableStreamId','eventTarget','state','CloseKeyValueDatabase','message','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','Detection','/transactions','signInWithCustomToken','sync-complete','RequestFileSync','getTableConnector','contentRect','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','autoplay','splitParts','TimePerFrame','Missing\x20transaction\x20id','arrayBuffer','isWhereValues','peer-connection','CannotProvideMediaStream','Accepted','currentDistance','clockSkew','startsWith','connection-state','setDoc','moveObject','getConnectionGroup','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.'];a0_0x4c46=function(){return _0x49adef;};return a0_0x4c46();}(function(_0x3254c6,_0x225fcb){const _0xeba1=a0_0x104e,_0x464019=_0x3254c6();while(!![]){try{const _0x46a3e7=-parseInt(_0xeba1(0x42a))/0x1*(parseInt(_0xeba1(0x528))/0x2)+-parseInt(_0xeba1(0x345))/0x3+-parseInt(_0xeba1(0x291))/0x4+parseInt(_0xeba1(0x3be))/0x5*(-parseInt(_0xeba1(0x5c0))/0x6)+-parseInt(_0xeba1(0x16b))/0x7*(-parseInt(_0xeba1(0x5ad))/0x8)+-parseInt(_0xeba1(0x368))/0x9*(-parseInt(_0xeba1(0x367))/0xa)+-parseInt(_0xeba1(0x186))/0xb*(-parseInt(_0xeba1(0x622))/0xc);if(_0x46a3e7===_0x225fcb)break;else _0x464019['push'](_0x464019['shift']());}catch(_0x15e5a4){_0x464019['push'](_0x464019['shift']());}}}(a0_0x4c46,0x88055),!function(_0x1a4dde,_0x500183){const _0xb643ab=a0_0x104e;if(_0xb643ab(0x43c)==typeof exports&&_0xb643ab(0x43c)==typeof module)module['exports']=_0x500183();else{if(_0xb643ab(0x446)==typeof define&&define[_0xb643ab(0x181)])define([],_0x500183);else{var _0x2e719a=_0x500183();for(var _0x1ee6a9 in _0x2e719a)(_0xb643ab(0x43c)==typeof exports?exports:_0x1a4dde)[_0x1ee6a9]=_0x2e719a[_0x1ee6a9];}}}(this,()=>((()=>{'use strict';const _0x20a827=a0_0x104e;var _0x247896={0xa9:(_0x30ee03,_0x39c198,_0x533edc)=>{const _0x59f7a1=a0_0x104e;_0x533edc['d'](_0x39c198,{'q':()=>_0x51ce0c});const _0x51ce0c={'version':_0x59f7a1(0x580),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':'crewdle-sdk-stg','storageBucket':'crewdle-sdk-stg.appspot.com','appId':_0x59f7a1(0x185),'functionsRegion':_0x59f7a1(0x515)},'aws':{'endpoint':_0x59f7a1(0x422),'region':'us-east-1'}};},0x1c4:(_0x3164e1,_0x339153,_0x48d760)=>{_0x48d760['d'](_0x339153,{'q':()=>_0x10e630});const _0x10e630={};},0x1fc:(_0x24bb3d,_0x31e7ec,_0x1ffd8d)=>{const _0x5bcaf3=a0_0x104e;_0x1ffd8d['d'](_0x31e7ec,{'q':()=>_0x16e6c0});const _0x16e6c0={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x5bcaf3(0x3d9),'authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':_0x5bcaf3(0x25f),'projectId':_0x5bcaf3(0x660),'storageBucket':_0x5bcaf3(0x369),'messagingSenderId':'420235181083','appId':_0x5bcaf3(0x463),'measurementId':_0x5bcaf3(0x532)},'aws':{'endpoint':_0x5bcaf3(0x170),'region':_0x5bcaf3(0x268)}};},0x2ac:(_0x339178,_0x446c2b,_0x163742)=>{_0x163742['d'](_0x446c2b,{'q':()=>_0x231f93});const _0x231f93={};}},_0x340eb4={};function _0x2c4711(_0x523aee){const _0x3cf16b=a0_0x104e;var _0x1273b8=_0x340eb4[_0x523aee];if(void 0x0!==_0x1273b8)return _0x1273b8[_0x3cf16b(0x69e)];var _0x3c0a90=_0x340eb4[_0x523aee]={'exports':{}};return _0x247896[_0x523aee](_0x3c0a90,_0x3c0a90[_0x3cf16b(0x69e)],_0x2c4711),_0x3c0a90[_0x3cf16b(0x69e)];}_0x2c4711['n']=_0x52deb2=>{const _0x508020=a0_0x104e;var _0x422230=_0x52deb2&&_0x52deb2[_0x508020(0x239)]?()=>_0x52deb2[_0x508020(0x33a)]:()=>_0x52deb2;return _0x2c4711['d'](_0x422230,{'a':_0x422230}),_0x422230;},_0x2c4711['d']=(_0x330686,_0x2dca56)=>{for(var _0x47fd65 in _0x2dca56)_0x2c4711['o'](_0x2dca56,_0x47fd65)&&!_0x2c4711['o'](_0x330686,_0x47fd65)&&Object['defineProperty'](_0x330686,_0x47fd65,{'enumerable':!0x0,'get':_0x2dca56[_0x47fd65]});},_0x2c4711['o']=(_0x40a511,_0x2b4ea4)=>Object[_0x20a827(0x241)]['hasOwnProperty'][_0x20a827(0x5ed)](_0x40a511,_0x2b4ea4),_0x2c4711['r']=_0x36f743=>{const _0x140d92=_0x20a827;_0x140d92(0x337)!=typeof Symbol&&Symbol[_0x140d92(0x32e)]&&Object['defineProperty'](_0x36f743,Symbol['toStringTag'],{'value':_0x140d92(0x5da)}),Object[_0x140d92(0x1b6)](_0x36f743,'__esModule',{'value':!0x0});};var _0x20a7e2={};return((()=>{const _0x22e38d=_0x20a827;var _0x1684bb,_0x3ca8d4,_0x3b6d9e,_0x114550,_0xf36e85,_0x35274c,_0xa67d19,_0x433bbf,_0x5abff4;_0x2c4711['r'](_0x20a7e2),_0x2c4711['d'](_0x20a7e2,{'ContentType':()=>_0x35274c,'DatabaseEvent':()=>_0x114550,'KeyValueDatabase':()=>_0x317db2,'LayoutBuilder':()=>_0x320928,'LoggingChannels':()=>_0x5abff4,'MediaStreamPriority':()=>_0xa67d19,'ObjectKind':()=>_0x1684bb,'PayloadAction':()=>_0x3ca8d4,'QueryBuilder':()=>_0xb92fab,'SDK':()=>_0x58f07f,'SDKClientErrorCodes':()=>_0xf36e85,'StorageEventType':()=>_0x3b6d9e,'logger':()=>_0x2858e9}),function(_0x44c9c2){const _0x5e38d8=a0_0x104e;_0x44c9c2['File']=_0x5e38d8(0x548),_0x44c9c2['Folder']=_0x5e38d8(0x442);}(_0x1684bb||(_0x1684bb={})),function(_0x5e1b25){const _0xf4edd0=a0_0x104e;_0x5e1b25[_0xf4edd0(0x67f)]=_0xf4edd0(0x548),_0x5e1b25[_0xf4edd0(0x3ae)]=_0xf4edd0(0x442),_0x5e1b25[_0xf4edd0(0x561)]='move';}(_0x3ca8d4||(_0x3ca8d4={})),function(_0x21da3e){const _0x3617dc=a0_0x104e;_0x21da3e['FileWrite']=_0x3617dc(0x64e),_0x21da3e[_0x3617dc(0x120)]=_0x3617dc(0x6c0),_0x21da3e[_0x3617dc(0x3de)]='file-move',_0x21da3e[_0x3617dc(0x269)]=_0x3617dc(0x1ee),_0x21da3e[_0x3617dc(0x231)]='folder-delete',_0x21da3e['FolderMove']=_0x3617dc(0x529);}(_0x3b6d9e||(_0x3b6d9e={})),function(_0xa676d9){const _0x31787b=a0_0x104e;_0xa676d9[_0x31787b(0x3e2)]=_0x31787b(0x632);}(_0x114550||(_0x114550={})),function(_0x201be3){const _0x325855=a0_0x104e;_0x201be3[_0x325855(0x576)]='feature-not-enabled',_0x201be3[_0x325855(0x2b4)]=_0x325855(0x68b),_0x201be3[_0x325855(0x3c0)]=_0x325855(0x27a),_0x201be3[_0x325855(0x5c9)]='object-store-stream-does-not-exist',_0x201be3[_0x325855(0x198)]=_0x325855(0x19a),_0x201be3[_0x325855(0x3d2)]=_0x325855(0x466),_0x201be3[_0x325855(0x37c)]=_0x325855(0x2ff),_0x201be3[_0x325855(0x20f)]=_0x325855(0x29a),_0x201be3[_0x325855(0x607)]=_0x325855(0x145),_0x201be3[_0x325855(0x50d)]='key-value-database-already-exists',_0x201be3[_0x325855(0x1d4)]=_0x325855(0x6b6),_0x201be3['KeyValueDatabaseIndexNotFound']=_0x325855(0x4c2),_0x201be3[_0x325855(0x13c)]=_0x325855(0x361),_0x201be3[_0x325855(0x509)]='key-value-database-invalid-value',_0x201be3['KeyValueDatabaseNameNotString']=_0x325855(0x41d),_0x201be3[_0x325855(0x5b6)]=_0x325855(0x24f),_0x201be3[_0x325855(0x183)]=_0x325855(0x652),_0x201be3[_0x325855(0x25e)]=_0x325855(0x1e3),_0x201be3['KeyValueDatabaseInvalidLayout']=_0x325855(0x4ce),_0x201be3[_0x325855(0x4b2)]=_0x325855(0x58c),_0x201be3[_0x325855(0x159)]='pub-sub-topic-already-exists',_0x201be3['PubSubTopicDoesNotExist']=_0x325855(0x16a),_0x201be3[_0x325855(0x5b1)]=_0x325855(0x524),_0x201be3[_0x325855(0x5e9)]=_0x325855(0x587),_0x201be3[_0x325855(0x2d2)]=_0x325855(0x5a7),_0x201be3[_0x325855(0x4cb)]=_0x325855(0x52d),_0x201be3[_0x325855(0x34e)]='remote-media-stream-invalid-subscription-params',_0x201be3[_0x325855(0x155)]=_0x325855(0x1a3),_0x201be3[_0x325855(0x6bd)]=_0x325855(0x4b4);}(_0xf36e85||(_0xf36e85={}));class _0x36acfc extends Error{[_0x22e38d(0x2d8)];constructor(_0x515bdd,_0x22a0ac){super(_0x22a0ac),this['code']=_0x515bdd;}}function _0x530797(_0x177bf8){const _0x1c2a00=_0x22e38d;if(!_0x177bf8)throw new _0x36acfc(_0xf36e85['RemoteMediaStreamInvalidSubscriptionParams'],_0x1c2a00(0x571));if(_0x1c2a00(0x43c)!=typeof _0x177bf8)throw new _0x36acfc(_0xf36e85[_0x1c2a00(0x34e)],_0x1c2a00(0x571));const _0x3c85cc=_0x177bf8;if(_0x3c85cc[_0x1c2a00(0x4eb)]&&_0x1c2a00(0x658)!=typeof _0x3c85cc[_0x1c2a00(0x4eb)]){if(_0x3c85cc['video']['maxResolution']&&('number'!=typeof _0x3c85cc[_0x1c2a00(0x4eb)]['maxResolution'][_0x1c2a00(0x256)]||_0x1c2a00(0x38b)!=typeof _0x3c85cc[_0x1c2a00(0x4eb)][_0x1c2a00(0x6aa)][_0x1c2a00(0x537)]))throw new _0x36acfc(_0xf36e85[_0x1c2a00(0x34e)],_0x1c2a00(0x343));if(_0x3c85cc[_0x1c2a00(0x4eb)][_0x1c2a00(0x2d3)]&&!(_0x3c85cc[_0x1c2a00(0x4eb)][_0x1c2a00(0x2d3)]instanceof HTMLVideoElement))throw new _0x36acfc(_0xf36e85[_0x1c2a00(0x34e)],_0x1c2a00(0x68f));}return!0x0;}!function(_0x2ea3ad){const _0x61bb05=_0x22e38d;_0x2ea3ad['Data']=_0x61bb05(0x68c),_0x2ea3ad['Media']=_0x61bb05(0x142),_0x2ea3ad[_0x61bb05(0x67f)]=_0x61bb05(0x548),_0x2ea3ad[_0x61bb05(0x53f)]=_0x61bb05(0x4fb),_0x2ea3ad[_0x61bb05(0x157)]=_0x61bb05(0x4e3),_0x2ea3ad['KeyValueDatabase']=_0x61bb05(0x493);}(_0x35274c||(_0x35274c={})),function(_0x481398){const _0x3a6576=_0x22e38d;_0x481398[_0x481398['High']=0x1]='High',_0x481398[_0x481398[_0x3a6576(0x6b4)]=0x2]=_0x3a6576(0x6b4),_0x481398[_0x481398[_0x3a6576(0x24c)]=0x3]=_0x3a6576(0x24c);}(_0xa67d19||(_0xa67d19={})),function(_0x145054){const _0x186da4=_0x22e38d;_0x145054[_0x186da4(0x53f)]=_0x186da4(0x4fb),_0x145054[_0x186da4(0x313)]=_0x186da4(0x2ee),_0x145054[_0x186da4(0x5a2)]=_0x186da4(0x1f3),_0x145054[_0x186da4(0x4b6)]=_0x186da4(0x234);}(_0x433bbf||(_0x433bbf={})),function(_0x1f6c7b){const _0x42266e=_0x22e38d;_0x1f6c7b[_0x42266e(0x141)]='all',_0x1f6c7b['Default']=_0x42266e(0x33a),_0x1f6c7b['Connection']=_0x42266e(0x4c8),_0x1f6c7b[_0x42266e(0x402)]=_0x42266e(0x643),_0x1f6c7b[_0x42266e(0x286)]='cluster',_0x1f6c7b['Content']='content',_0x1f6c7b[_0x42266e(0x62f)]=_0x42266e(0x668),_0x1f6c7b[_0x42266e(0x3bb)]=_0x42266e(0x56f),_0x1f6c7b[_0x42266e(0x50f)]=_0x42266e(0x18d),_0x1f6c7b[_0x42266e(0x6a9)]='node',_0x1f6c7b['Pool']=_0x42266e(0x420),_0x1f6c7b[_0x42266e(0x53f)]=_0x42266e(0x4fb),_0x1f6c7b[_0x42266e(0x481)]=_0x42266e(0x665),_0x1f6c7b[_0x42266e(0x48c)]=_0x42266e(0x608),_0x1f6c7b['Stats']=_0x42266e(0x57e),_0x1f6c7b['Subscription']=_0x42266e(0x251),_0x1f6c7b['Support']=_0x42266e(0x4ac),_0x1f6c7b[_0x42266e(0x3b9)]=_0x42266e(0x37f),_0x1f6c7b[_0x42266e(0x596)]=_0x42266e(0x187),_0x1f6c7b[_0x42266e(0x6af)]=_0x42266e(0x5c3),_0x1f6c7b[_0x42266e(0x12e)]=_0x42266e(0x63d);}(_0x5abff4||(_0x5abff4={}));class _0xb92fab{['query'];constructor(_0x184a79){const _0x13798b=_0x22e38d;this[_0x13798b(0x2bb)]={'orderBy':{'key':_0x184a79,'direction':_0x13798b(0x5c5)}};}static[_0x22e38d(0x52c)](_0x1eff0d){const _0x448f36=_0x22e38d;if(_0x448f36(0x20b)!=typeof _0x1eff0d||0x0===_0x1eff0d[_0x448f36(0x1e7)])throw new _0x36acfc(_0xf36e85[_0x448f36(0x2d2)],_0x448f36(0x65a));return new _0xb92fab(_0x1eff0d);}static[_0x22e38d(0x604)](_0x1630ba){const _0x549482=_0x22e38d;try{return _0xb92fab[_0x549482(0x204)](_0x1630ba),!0x0;}catch(_0x16e8b5){return!0x1;}}static[_0x22e38d(0x204)](_0x4e810c){const _0x408dce=_0x22e38d,_0x1f3b80=_0xb92fab[_0x408dce(0x52c)](_0x4e810c[_0x408dce(0x336)]?.[_0x408dce(0x4f8)]??_0x4e810c['where']?.[_0x408dce(0x4f8)]??'');if(_0x4e810c[_0x408dce(0x34d)]){const _0x235343=_0x4e810c[_0x408dce(0x34d)];if((_0xb92fab[_0x408dce(0x15a)](_0x235343)||_0xb92fab[_0x408dce(0x63c)](_0x235343)||_0xb92fab[_0x408dce(0x27c)](_0x235343))&&_0x1f3b80['where'](_0x235343[_0x408dce(0x2be)],_0x235343['value']),_0x4e810c['orderBy']?.[_0x408dce(0x4f8)]&&_0x4e810c[_0x408dce(0x336)]?.[_0x408dce(0x4f8)]!==_0x4e810c[_0x408dce(0x34d)][_0x408dce(0x4f8)])throw new _0x36acfc(_0xf36e85[_0x408dce(0x2d2)],_0x408dce(0x546));}return _0x4e810c[_0x408dce(0x336)]&&_0x1f3b80[_0x408dce(0x336)](_0x4e810c['orderBy']['direction']),_0x4e810c['limit']&&_0x1f3b80[_0x408dce(0x216)](_0x4e810c['limit']),_0x4e810c['offset']&&_0x1f3b80[_0x408dce(0x3cd)](_0x4e810c[_0x408dce(0x3cd)]),_0x1f3b80;}[_0x22e38d(0x29e)](){const _0x1ab17c=_0x22e38d;return{...this[_0x1ab17c(0x2bb)]};}[_0x22e38d(0x34d)](_0x4efa5b,_0x5c0bc6){const _0xe6273=_0x22e38d,_0x5676b0={'key':this[_0xe6273(0x2bb)][_0xe6273(0x336)][_0xe6273(0x4f8)],'operator':_0x4efa5b,'value':_0x5c0bc6};if(!_0xb92fab[_0xe6273(0x15a)](_0x5676b0)&&!_0xb92fab['isWhereValues'](_0x5676b0)&&!_0xb92fab[_0xe6273(0x27c)](_0x5676b0))throw new _0x36acfc(_0xf36e85[_0xe6273(0x2d2)],_0xe6273(0x210));return this[_0xe6273(0x2bb)][_0xe6273(0x34d)]=_0x5676b0,this;}[_0x22e38d(0x336)](_0x2a4cd2){const _0x26f552=_0x22e38d;if(_0x26f552(0x5c5)!==_0x2a4cd2&&_0x26f552(0x394)!==_0x2a4cd2)throw new _0x36acfc(_0xf36e85[_0x26f552(0x2d2)],_0x26f552(0x2c7));return this[_0x26f552(0x2bb)][_0x26f552(0x336)][_0x26f552(0x50c)]=_0x2a4cd2,this;}['limit'](_0xb76f35){const _0x457820=_0x22e38d;if(_0x457820(0x38b)!=typeof _0xb76f35||_0xb76f35<0x0)throw new _0x36acfc(_0xf36e85[_0x457820(0x2d2)],_0x457820(0x54d));return this['query'][_0x457820(0x216)]=_0xb76f35,this;}[_0x22e38d(0x3cd)](_0x96c9f8){const _0x1c6213=_0x22e38d;if(_0x1c6213(0x38b)!=typeof _0x96c9f8||_0x96c9f8<0x0)throw new _0x36acfc(_0xf36e85['QueryBuilderInvalidArgument'],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0x1c6213(0x3cd)]=_0x96c9f8,this;}static[_0x22e38d(0x15a)](_0x47d0bf){const _0x28c576=_0x22e38d;if(!(_0x47d0bf&&_0x28c576(0x43c)==typeof _0x47d0bf&&_0x28c576(0x2be)in _0x47d0bf&&_0x28c576(0x14b)in _0x47d0bf))return!0x1;const {operator:_0x44218a,value:_0x34c111}=_0x47d0bf;return!(!['==','!=','>','<','<=','>='][_0x28c576(0x4c9)](_0x44218a)||Array[_0x28c576(0x5fc)](_0x34c111));}static[_0x22e38d(0x63c)](_0x5e702c){const _0x428acc=_0x22e38d;if(!(_0x5e702c&&_0x428acc(0x43c)==typeof _0x5e702c&&'operator'in _0x5e702c&&_0x428acc(0x14b)in _0x5e702c))return!0x1;const {operator:_0x3b09f2,value:_0x59f1f7}=_0x5e702c;return!(!['in',_0x428acc(0x5e2)][_0x428acc(0x4c9)](_0x3b09f2)||!Array[_0x428acc(0x5fc)](_0x59f1f7));}static['isWhereBetween'](_0x58bc31){const _0x3281af=_0x22e38d;if(!(_0x58bc31&&_0x3281af(0x43c)==typeof _0x58bc31&&_0x3281af(0x2be)in _0x58bc31&&_0x3281af(0x14b)in _0x58bc31))return!0x1;const {operator:_0x5665db,value:_0x22ba9c}=_0x58bc31;return!(_0x3281af(0x5e1)!==_0x5665db||!Array[_0x3281af(0x5fc)](_0x22ba9c)||0x2!==_0x22ba9c[_0x3281af(0x1e7)]);}}class _0x320928{[_0x22e38d(0x577)];constructor(_0x25704e){const _0x86f5a8=_0x22e38d;this[_0x86f5a8(0x577)]={'tables':{},'version':_0x25704e};}static[_0x22e38d(0x305)](_0x547718){const _0x319a82=_0x22e38d;for(const _0x87047b in _0x547718){if('version'!==_0x87047b&&_0x319a82(0x5f7)!==_0x87047b)return[!0x1,_0x319a82(0x531)+_0x87047b+_0x319a82(0x437)];if(_0x319a82(0x5f7)===_0x87047b)for(const _0x320d52 in _0x547718[_0x319a82(0x5f7)]){if('string'!=typeof _0x320d52)return[!0x1,_0x319a82(0x244)+_0x320d52+'\x27'];for(const _0x302863 in _0x547718[_0x319a82(0x5f7)][_0x320d52]){if(_0x319a82(0x31f)!==_0x302863)return[!0x1,_0x319a82(0x531)+_0x302863+_0x319a82(0x19b)+_0x320d52+'\x27'];const _0x587d42=_0x547718[_0x319a82(0x5f7)][_0x320d52][_0x302863]??[];for(const _0x408cff of _0x587d42)if(void 0x0===_0x408cff[_0x319a82(0x208)]||'string'!=typeof _0x408cff[_0x319a82(0x208)])return[!0x1,_0x319a82(0x2b3)+_0x320d52+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x319a82(0x66b)===_0x87047b&&_0x319a82(0x38b)!=typeof _0x547718[_0x87047b])return[!0x1,_0x319a82(0x1b2)+_0x547718[_0x87047b]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x319a82(0x23e)];}static[_0x22e38d(0x577)](_0x40039a){const _0x104fb1=_0x22e38d,_0x2aa84f=new _0x320928(_0x40039a);return _0x2aa84f[_0x104fb1(0x577)][_0x104fb1(0x66b)]=_0x40039a,_0x2aa84f;}[_0x22e38d(0x24b)](_0x5e89b8){const _0x25be40=_0x22e38d;return this[_0x25be40(0x577)][_0x25be40(0x5f7)][_0x5e89b8]={},new _0x69bee0(this[_0x25be40(0x577)][_0x25be40(0x5f7)][_0x5e89b8]);}[_0x22e38d(0x4e0)](){return this['layout'];}}class _0x69bee0{[_0x22e38d(0x390)];constructor(_0x3f7c0a){const _0x526bcb=_0x22e38d;this[_0x526bcb(0x390)]=_0x3f7c0a;}['index'](_0x5cd426){const _0x29b1d2=_0x22e38d;return this[_0x29b1d2(0x390)][_0x29b1d2(0x31f)]=this['tableLayout'][_0x29b1d2(0x31f)]??[],this[_0x29b1d2(0x390)]['indexes'][_0x29b1d2(0x386)]({'keyPath':_0x5cd426}),this;}}const _0xaa2dc0='.crewdle-last-transaction',_0x527089=_0x22e38d(0x2f6),_0x22e456='.crewdle-transactions',_0x79e5ff=0x7530,_0x58c96e=_0x22e38d(0x44b);var _0x21fda6;!function(_0x4754ad){const _0xcce6d0=_0x22e38d;_0x4754ad['ConnectionNotinitialized']='connection-not-initialized',_0x4754ad['ConnectionNotConnected']=_0xcce6d0(0x3e9),_0x4754ad[_0xcce6d0(0x5ca)]='connection-no-retry-queue',_0x4754ad[_0xcce6d0(0x20e)]=_0xcce6d0(0x6a5),_0x4754ad['ObjectStoreCannotWriteTransaction']=_0xcce6d0(0x3f7),_0x4754ad[_0xcce6d0(0x16c)]='object-store-invalid-sync-message',_0x4754ad['ObjectStoreNotSynced']='object-store-not-synced',_0x4754ad[_0xcce6d0(0x29b)]=_0xcce6d0(0x2c9),_0x4754ad[_0xcce6d0(0x14d)]=_0xcce6d0(0x405),_0x4754ad[_0xcce6d0(0x59d)]=_0xcce6d0(0x179),_0x4754ad['InvalidSubscription']=_0xcce6d0(0x5cb),_0x4754ad['KeyValueDatabaseCreationFailed']=_0xcce6d0(0x1c5),_0x4754ad[_0xcce6d0(0x506)]=_0xcce6d0(0x3a7),_0x4754ad['KeyValueDatabaseTransactionTableNotInitialized']='key-value-database-transaction-table-not-initialized',_0x4754ad[_0xcce6d0(0x2d4)]=_0xcce6d0(0x664),_0x4754ad[_0xcce6d0(0x56e)]=_0xcce6d0(0x1d5),_0x4754ad[_0xcce6d0(0x18b)]=_0xcce6d0(0x360),_0x4754ad['MissingSystemTopic']=_0xcce6d0(0x3b6),_0x4754ad[_0xcce6d0(0x32b)]=_0xcce6d0(0x676),_0x4754ad[_0xcce6d0(0x2ca)]=_0xcce6d0(0x6bc),_0x4754ad[_0xcce6d0(0x457)]=_0xcce6d0(0x303),_0x4754ad['RemoteConnectionExists']='remote-connection-exists',_0x4754ad[_0xcce6d0(0x6b2)]='subscription-request-does-not-exist',_0x4754ad[_0xcce6d0(0x3b7)]=_0xcce6d0(0x2c4),_0x4754ad[_0xcce6d0(0x6a7)]=_0xcce6d0(0x4b8),_0x4754ad[_0xcce6d0(0x613)]=_0xcce6d0(0x3f6),_0x4754ad[_0xcce6d0(0x31d)]='user-already-exist',_0x4754ad[_0xcce6d0(0x3ad)]=_0xcce6d0(0x1f9);}(_0x21fda6||(_0x21fda6={}));const _0x5f43fd=new Map([[_0x21fda6[_0x22e38d(0x3a4)],_0x22e38d(0x1c6)],[_0x21fda6[_0x22e38d(0x38c)],'Connection\x20not\x20connected.'],[_0x21fda6[_0x22e38d(0x5ca)],_0x22e38d(0x697)],[_0x21fda6[_0x22e38d(0x20e)],'Invalid\x20data\x20event.'],[_0x21fda6['ObjectStoreCannotWriteTransaction'],_0x22e38d(0x5df)],[_0x21fda6[_0x22e38d(0x16c)],_0x22e38d(0x2e4)],[_0x21fda6[_0x22e38d(0x5fa)],_0x22e38d(0x523)],[_0x21fda6['InvalidDataChannel'],'Invalid\x20data\x20chan_NO_RENAMEENAl.'],[_0x21fda6[_0x22e38d(0x14d)],_0x22e38d(0x1d6)],[_0x21fda6[_0x22e38d(0x59d)],_0x22e38d(0x299)],[_0x21fda6[_0x22e38d(0x4ae)],'Invalid\x20subscription.'],[_0x21fda6[_0x22e38d(0x4d8)],_0x22e38d(0x5f9)],[_0x21fda6[_0x22e38d(0x506)],_0x22e38d(0x575)],[_0x21fda6[_0x22e38d(0x40c)],_0x22e38d(0x5aa)],[_0x21fda6['KeyValueDatabaseTransactionValueNotSet'],_0x22e38d(0x2ae)],[_0x21fda6[_0x22e38d(0x56e)],_0x22e38d(0x59c)],[_0x21fda6[_0x22e38d(0x18b)],_0x22e38d(0x452)],[_0x21fda6[_0x22e38d(0x678)],_0x22e38d(0x275)],[_0x21fda6[_0x22e38d(0x32b)],_0x22e38d(0x4c5)],[_0x21fda6[_0x22e38d(0x2ca)],_0x22e38d(0x18c)],[_0x21fda6[_0x22e38d(0x457)],_0x22e38d(0x636)],[_0x21fda6[_0x22e38d(0x38e)],_0x22e38d(0x687)],[_0x21fda6[_0x22e38d(0x6b2)],_0x22e38d(0x255)],[_0x21fda6['SubscriptionRequestFailed'],_0x22e38d(0x338)],[_0x21fda6[_0x22e38d(0x6a7)],_0x22e38d(0x410)],[_0x21fda6['UserDoesNotExist'],'User\x20does\x20not\x20exist.'],[_0x21fda6[_0x22e38d(0x31d)],_0x22e38d(0x5be)],[_0x21fda6[_0x22e38d(0x3ad)],_0x22e38d(0x5b3)]]);class _0x461f79 extends Error{[_0x22e38d(0x2d8)];static [_0x22e38d(0x34a)]=_0x21fda6;[_0x22e38d(0x68c)];constructor(_0x4708d6,_0x4dd521){const _0xd31222=_0x22e38d;super(_0xd31222(0x585)+_0x4708d6+':\x20'+_0x5f43fd[_0xd31222(0x61c)](_0x4708d6)+_0xd31222(0x229)+JSON[_0xd31222(0x67a)](_0x4dd521)),this[_0xd31222(0x2d8)]=_0x4708d6,this[_0xd31222(0x68c)]=_0x4dd521||{};}}var _0x10a2a5,_0x5b0297,_0x144831,_0x1c8c41,_0x428043,_0x120441;!function(_0x58cf7c){const _0x149d55=_0x22e38d;_0x58cf7c[_0x58cf7c[_0x149d55(0x4b3)]=0x0]=_0x149d55(0x4b3),_0x58cf7c[_0x58cf7c[_0x149d55(0x618)]=0x1]=_0x149d55(0x618),_0x58cf7c[_0x58cf7c['SubscribeMediaStream']=0x2]=_0x149d55(0x680),_0x58cf7c[_0x58cf7c[_0x149d55(0x68e)]=0x3]='UpdateMediaStream',_0x58cf7c[_0x58cf7c[_0x149d55(0x351)]=0x4]='UnsubscribeMediaStream',_0x58cf7c[_0x58cf7c['CloseObjectStoreBucket']=0x5]=_0x149d55(0x43b),_0x58cf7c[_0x58cf7c[_0x149d55(0x62c)]=0x6]=_0x149d55(0x62c),_0x58cf7c[_0x58cf7c[_0x149d55(0x301)]=0x7]=_0x149d55(0x301),_0x58cf7c[_0x58cf7c['CloseMediaStream']=0x8]=_0x149d55(0x2b2),_0x58cf7c[_0x58cf7c[_0x149d55(0x554)]=0x9]=_0x149d55(0x554),_0x58cf7c[_0x58cf7c[_0x149d55(0x212)]=0xa]=_0x149d55(0x212),_0x58cf7c[_0x58cf7c[_0x149d55(0x5c2)]=0xb]='RequestSyncKeyValueDatabase',_0x58cf7c[_0x58cf7c[_0x149d55(0x434)]=0xc]=_0x149d55(0x434),_0x58cf7c[_0x58cf7c[_0x149d55(0x5ef)]=0xd]=_0x149d55(0x5ef),_0x58cf7c[_0x58cf7c[_0x149d55(0x1f5)]=0xe]=_0x149d55(0x1f5),_0x58cf7c[_0x58cf7c['ObjectStoreStats']=0xf]=_0x149d55(0x4d1),_0x58cf7c[_0x58cf7c[_0x149d55(0x5a1)]=0x10]=_0x149d55(0x5a1);}(_0x10a2a5||(_0x10a2a5={})),function(_0x211462){const _0x39f7b1=_0x22e38d;_0x211462['FileWrite']='file-write',_0x211462[_0x39f7b1(0x269)]=_0x39f7b1(0x1ee),_0x211462[_0x39f7b1(0x240)]=_0x39f7b1(0x421),_0x211462[_0x39f7b1(0x561)]='move',_0x211462['RequestFile']=_0x39f7b1(0x3eb),_0x211462['RequestAccepted']=_0x39f7b1(0x447),_0x211462[_0x39f7b1(0x633)]=_0x39f7b1(0x6b7),_0x211462['RequestFileWrite']=_0x39f7b1(0x365);}(_0x5b0297||(_0x5b0297={})),function(_0x5bff84){const _0x32ee1a=_0x22e38d;_0x5bff84[_0x32ee1a(0x684)]=_0x32ee1a(0x1ec),_0x5bff84[_0x32ee1a(0x569)]=_0x32ee1a(0x290);}(_0x144831||(_0x144831={})),function(_0x31763a){const _0x190a81=_0x22e38d;_0x31763a[_0x190a81(0x27e)]='add',_0x31763a[_0x190a81(0x39a)]=_0x190a81(0x5c1),_0x31763a[_0x190a81(0x240)]='delete';}(_0x1c8c41||(_0x1c8c41={})),function(_0x2074a0){const _0x109a75=_0x22e38d;_0x2074a0[_0x109a75(0x12b)]=_0x109a75(0x61c),_0x2074a0[_0x109a75(0x527)]=_0x109a75(0x18e),_0x2074a0['Count']=_0x109a75(0x4b0);}(_0x428043||(_0x428043={})),function(_0x2df6a9){const _0x20e42e=_0x22e38d;_0x2df6a9[_0x2df6a9['PeerConnection']=0x0]=_0x20e42e(0x12e),_0x2df6a9[_0x2df6a9['Node']=0x1]='Node',_0x2df6a9[_0x2df6a9['Content']=0x2]=_0x20e42e(0x2f3),_0x2df6a9[_0x2df6a9[_0x20e42e(0x5b7)]=0x3]='Subscription',_0x2df6a9[_0x2df6a9['Stats']=0x4]=_0x20e42e(0x603),_0x2df6a9[_0x2df6a9[_0x20e42e(0x62f)]=0x5]='Detection',_0x2df6a9[_0x2df6a9[_0x20e42e(0x481)]=0x6]=_0x20e42e(0x481);}(_0x120441||(_0x120441={}));class _0x2f363c{[_0x22e38d(0x113)];[_0x22e38d(0x2a8)];[_0x22e38d(0x358)];constructor(_0x4a81a4,_0x3132f1){const _0x1c11eb=_0x22e38d;this['ownerId']=_0x4a81a4,this[_0x1c11eb(0x2a8)]=_0x3132f1;}[_0x22e38d(0x5c4)](){const _0x31e88d=_0x22e38d;return this[_0x31e88d(0x2a8)];}[_0x22e38d(0x5a5)](){return this['ownerId'];}['destroy'](){}[_0x22e38d(0x45c)](_0x1ede5c){const _0x46b8a2=_0x22e38d;this[_0x46b8a2(0x358)]=_0x1ede5c;}[_0x22e38d(0x43f)](){delete this['systemTopic'];}}function _0x1d2576(_0x103f39,_0x3792b5){return'/'===_0x103f39?_0x103f39+_0x3792b5:_0x103f39+'/'+_0x3792b5;}function _0x1bd766(_0x10b4df){const _0x21712e=_0x22e38d,_0x509508=function(_0x153ec1){const _0x56dcd9=a0_0x104e;return _0x153ec1[_0x56dcd9(0x304)]('/')[_0x56dcd9(0x57f)](_0x3ff82b=>_0x3ff82b['length']>0x0);}(_0x10b4df),_0x1a62c1=_0x509508[_0x21712e(0x441)]()||'',_0x2a20b3=_0x509508[_0x21712e(0x1bd)]('/');return[0x0===_0x2a20b3[_0x21712e(0x1e7)]?'/':_0x2a20b3,_0x1a62c1];}async function _0x6a176(_0x11934a){const _0x1e0797=_0x22e38d,_0x34c2c5=await _0x11934a[_0x1e0797(0x63b)](),_0x29c476=new Uint8Array(_0x34c2c5);let _0x58dbc7=0x0;for(const _0xf7fc6c of _0x29c476)_0x58dbc7+=_0xf7fc6c;return _0x58dbc7[_0x1e0797(0x401)]();}function _0x284e0d(_0x143766){return new Promise((_0x450630,_0x3ccb68)=>{!function(_0x258dd8,_0x241559,_0x2a94cc){let _0x5323fd=0x0;const _0x594032=[],_0x3b311f=()=>{const _0x5e995b=a0_0x104e;let _0xd32629=_0x5323fd+0x3f800;_0xd32629>_0x258dd8[_0x5e995b(0x4df)]&&(_0xd32629=_0x258dd8[_0x5e995b(0x4df)]);let _0xb57c67=_0x258dd8[_0x5e995b(0x195)](_0x5323fd,_0xd32629),_0x27c178=new FileReader();_0x27c178['onload']=_0x2ba7b7=>{const _0xf4b689=_0x5e995b;_0x594032['push'](_0x27c178['result']),_0x5323fd=_0xd32629,_0x5323fd<_0x258dd8[_0xf4b689(0x4df)]?_0x3b311f():_0x241559(_0x594032);},_0x27c178[_0x5e995b(0x2c1)]=_0x1906de=>{_0x2a94cc(_0x1906de);},_0x27c178[_0x5e995b(0x1c4)](_0xb57c67);};_0x3b311f();}(_0x143766,_0x450630,_0x3ccb68);});}function _0x3f1c6f(_0x2129e1,_0x35353c,_0x55af81){return new File(_0x2129e1,_0x35353c,{'type':_0x55af81});}class _0x5467c3 extends _0x2f363c{[_0x22e38d(0x165)];[_0x22e38d(0x12c)];[_0x22e38d(0x2ea)]=new Map();['messagesSent']=0x0;[_0x22e38d(0x573)]=0x0;[_0x22e38d(0x3f9)]=0x0;[_0x22e38d(0x19c)]=0x0;constructor(_0x4ef608,_0x531e7c){super(_0x4ef608,_0x531e7c);}[_0x22e38d(0x5c4)](){return this['label'];}[_0x22e38d(0x205)](){return this['label'];}[_0x22e38d(0x428)](){return _0x35274c['Data'];}[_0x22e38d(0x3a5)](){const _0x448325=_0x22e38d;return this[_0x448325(0x2a8)];}[_0x22e38d(0x173)](_0x4a3128){const _0x2db885=_0x22e38d;if(this['outgoingTopic'])throw new _0x461f79(_0x461f79[_0x2db885(0x34a)][_0x2db885(0x14d)],{'message':_0x2db885(0x62e)+this[_0x2db885(0x113)]+_0x2db885(0x574)+this['label'],'topic':this['outgoingTopic']});this[_0x2db885(0x165)]=_0x4a3128;}[_0x22e38d(0x414)](_0x1b3af6){const _0x58fe30=_0x22e38d;if(this[_0x58fe30(0x12c)])throw new _0x461f79(_0x461f79[_0x58fe30(0x34a)][_0x58fe30(0x59d)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x58fe30(0x113)]+_0x58fe30(0x574)+this[_0x58fe30(0x2a8)],'topic':this['incomingTopic']});this[_0x58fe30(0x12c)]=_0x1b3af6;}[_0x22e38d(0x2b8)](){const _0x4f9285=_0x22e38d;delete this[_0x4f9285(0x165)];}['unregisterSubscriber'](){const _0x1b7105=_0x22e38d;delete this[_0x1b7105(0x12c)];}async[_0x22e38d(0x4f9)](_0x14e63d,_0x75bc25){const _0x7cf641=_0x22e38d;if(this[_0x7cf641(0x693)]+=0x1,_0x14e63d instanceof File){const _0x37f44a=await _0x284e0d(_0x14e63d);return this[_0x7cf641(0x3f9)]+=_0x37f44a['reduce']((_0x2f27e8,_0x2fa4f4)=>_0x2f27e8+_0x2fa4f4['byteLength'],0x0),void _0x37f44a[_0x7cf641(0x237)]((_0x13678e,_0x5aa5e6)=>{const _0x51c102=_0x7cf641;this[_0x51c102(0x165)][_0x51c102(0x3c2)]({'sourceId':this[_0x51c102(0x113)],'destinationIds':_0x75bc25,'propagate':!0x0,'contentType':_0x35274c[_0x51c102(0x67f)],'content':{'name':_0x14e63d[_0x51c102(0x3d4)],'type':_0x14e63d[_0x51c102(0x1a1)],'data':_0x13678e,'index':_0x5aa5e6,'total':_0x37f44a[_0x51c102(0x1e7)]}});});}this[_0x7cf641(0x3f9)]+=JSON[_0x7cf641(0x67a)](_0x14e63d)[_0x7cf641(0x1e7)],this[_0x7cf641(0x165)]['publish']({'sourceId':this['ownerId'],'destinationIds':_0x75bc25,'propagate':!0x0,'contentType':_0x35274c[_0x7cf641(0x47f)],'content':_0x14e63d});}[_0x22e38d(0x5a3)](_0x288d49){const _0x137072=_0x22e38d;return this[_0x137072(0x12c)][_0x137072(0x51e)](_0x385aaf=>{const _0x424e4c=_0x137072;switch(_0x385aaf[_0x424e4c(0x318)]){case _0x35274c['Data']:this[_0x424e4c(0x573)]+=0x1,this['bytesReceived']+=JSON[_0x424e4c(0x67a)](_0x385aaf[_0x424e4c(0x127)])[_0x424e4c(0x1e7)],_0x288d49(_0x385aaf[_0x424e4c(0x3c7)],_0x385aaf[_0x424e4c(0x127)]);break;case _0x35274c[_0x424e4c(0x67f)]:this[_0x424e4c(0x2ea)][_0x424e4c(0x32d)](_0x385aaf['content']['name'])||this[_0x424e4c(0x2ea)][_0x424e4c(0x3dc)](_0x385aaf[_0x424e4c(0x127)][_0x424e4c(0x3d4)],[]);const _0x4e56d4=this[_0x424e4c(0x2ea)][_0x424e4c(0x61c)](_0x385aaf[_0x424e4c(0x127)][_0x424e4c(0x3d4)]);_0x4e56d4[_0x385aaf[_0x424e4c(0x127)][_0x424e4c(0x52c)]]=_0x385aaf[_0x424e4c(0x127)]['data'],_0x4e56d4[_0x424e4c(0x1e7)]===_0x385aaf[_0x424e4c(0x127)][_0x424e4c(0x21b)]&&(this[_0x424e4c(0x573)]+=0x1,this[_0x424e4c(0x19c)]+=_0x4e56d4[_0x424e4c(0x324)]((_0x586385,_0x50b408)=>_0x586385+_0x50b408['byteLength'],0x0),_0x288d49(_0x385aaf[_0x424e4c(0x3c7)],_0x3f1c6f(_0x4e56d4,_0x385aaf[_0x424e4c(0x127)]['name'],_0x385aaf[_0x424e4c(0x127)][_0x424e4c(0x1a1)])),this['fileChunks'][_0x424e4c(0x421)](_0x385aaf[_0x424e4c(0x127)]['name']));}});}}function _0x50f1e0(){const _0x3e049a=_0x22e38d;let _0x2f975d=[];return{'subscribe':_0xf34d28=>(_0x2f975d[_0x3e049a(0x386)](_0xf34d28),()=>{const _0x3cb20d=_0x3e049a;_0x2f975d=_0x2f975d[_0x3cb20d(0x57f)](_0x4e276d=>_0x4e276d!==_0xf34d28);}),'publish':_0x279c12=>{const _0x14e3a3=_0x3e049a;_0x2f975d[_0x14e3a3(0x237)](_0x56379b=>_0x56379b(_0x279c12));}};}function _0x151e07(){let _0x4d7bd1;return{'subscribe':_0x585521=>(_0x4d7bd1=_0x585521,()=>{_0x4d7bd1=void 0x0;}),'publish':_0x5426d2=>{_0x4d7bd1&&_0x4d7bd1(_0x5426d2);}};}class _0x203aae{[_0x22e38d(0x4f6)];[_0x22e38d(0x5d0)];[_0x22e38d(0x55f)];[_0x22e38d(0x41e)]=_0x151e07();[_0x22e38d(0x152)];constructor(_0x2bc74a,_0x24c06f,_0x3d9540){const _0x50c67a=_0x22e38d;this[_0x50c67a(0x4f6)]=_0x2bc74a,this[_0x50c67a(0x5d0)]=_0x24c06f,this['tableObserver']=_0x3d9540;}[_0x22e38d(0x3d0)](){this['listenerUnsubscriber']?.();}async['get'](_0x57a84e){const _0x348a31=_0x22e38d,_0x15681c={'key':_0x57a84e,'tableName':this[_0x348a31(0x5d0)],'action':_0x428043[_0x348a31(0x12b)]};return this[_0x348a31(0x55f)][_0x348a31(0x3c2)](_0x15681c),this[_0x348a31(0x4f6)][_0x348a31(0x61c)](_0x57a84e);}async[_0x22e38d(0x3dc)](_0x339cbb,_0x384971,_0x1827d9=!0x0){const _0x3b0b05=_0x22e38d;this[_0x3b0b05(0x57c)](_0x384971);const _0x37deaf=await this[_0x3b0b05(0x4f6)][_0x3b0b05(0x61c)](_0x339cbb),_0x57c8bf=await this['connector'][_0x3b0b05(0x3dc)](_0x339cbb,_0x384971),_0x9c5d89=_0x37deaf?_0x1c8c41[_0x3b0b05(0x39a)]:_0x1c8c41['Add'];if(this[_0x3b0b05(0x3c2)](_0x9c5d89,_0x57c8bf),!_0x1827d9)return _0x57c8bf;const _0x49313a={'key':_0x339cbb,'tableName':this[_0x3b0b05(0x5d0)],'action':_0x9c5d89,'value':_0x57c8bf};return this['tableObserver'][_0x3b0b05(0x3c2)](_0x49313a),_0x57c8bf;}async[_0x22e38d(0x24a)](_0x41c468){const _0xd21c6=_0x22e38d;this[_0xd21c6(0x57c)](_0x41c468);const _0x2d022b=await this['connector'][_0xd21c6(0x24a)](_0x41c468),_0x2f16c9={'key':_0x2d022b['id'],'tableName':this[_0xd21c6(0x5d0)],'action':_0x1c8c41[_0xd21c6(0x27e)],'value':_0x2d022b};return this[_0xd21c6(0x55f)]['publish'](_0x2f16c9),this[_0xd21c6(0x3c2)](_0x2f16c9[_0xd21c6(0x134)],_0x2d022b),_0x2d022b;}async[_0x22e38d(0x421)](_0x17d75e,_0x36a90a=!0x0){const _0xee5ea9=_0x22e38d,_0x1d90f4=await this[_0xee5ea9(0x4f6)][_0xee5ea9(0x61c)](_0x17d75e);if(!_0x1d90f4)return;await this[_0xee5ea9(0x4f6)][_0xee5ea9(0x421)](_0x17d75e);const _0x1cd456=_0x1c8c41[_0xee5ea9(0x240)];if(this[_0xee5ea9(0x3c2)](_0x1cd456,_0x1d90f4),!_0x36a90a)return;const _0x3d8ac3={'key':_0x17d75e,'tableName':this[_0xee5ea9(0x5d0)],'action':_0x1cd456,'value':_0x1d90f4};this['tableObserver'][_0xee5ea9(0x3c2)](_0x3d8ac3);}async[_0x22e38d(0x160)](){const _0x3ca69e=_0x22e38d,_0xeb61df=await this[_0x3ca69e(0x18e)]();for(const _0x14a0c3 of _0xeb61df){const _0xff2bd5=_0x1c8c41[_0x3ca69e(0x240)];this[_0x3ca69e(0x3c2)](_0xff2bd5,_0x14a0c3);const _0x17657a={'key':_0x14a0c3['id'],'tableName':this[_0x3ca69e(0x5d0)],'action':_0xff2bd5,'value':_0x14a0c3};this['tableObserver'][_0x3ca69e(0x3c2)](_0x17657a);}return this[_0x3ca69e(0x4f6)]['clear']();}async[_0x22e38d(0x18e)](_0x4dd734){const _0x1f7cce=_0x22e38d,_0x486514={'key':'','tableName':this[_0x1f7cce(0x5d0)],'action':_0x428043[_0x1f7cce(0x527)]};this[_0x1f7cce(0x55f)]['publish'](_0x486514);try{_0x4dd734&&(_0x4dd734=_0x4dd734 instanceof _0xb92fab?_0x4dd734[_0x1f7cce(0x29e)]():_0xb92fab[_0x1f7cce(0x204)](_0x4dd734)[_0x1f7cce(0x29e)]());}catch(_0x180b18){throw new _0x36acfc(_0xf36e85['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{return await this[_0x1f7cce(0x4f6)][_0x1f7cce(0x18e)](_0x4dd734);}catch(_0x48a4f0){let _0x163eb5=_0x1f7cce(0x480);throw _0x48a4f0 instanceof Error&&(_0x163eb5=_0x48a4f0[_0x1f7cce(0x62d)]),new _0x36acfc(_0xf36e85[_0x1f7cce(0x13c)],_0x163eb5);}}async[_0x22e38d(0x4b0)](_0x4bfe7e){const _0x57f190=_0x22e38d,_0x1b971f={'key':'','tableName':this['tableName'],'action':_0x428043['Count']};this[_0x57f190(0x55f)][_0x57f190(0x3c2)](_0x1b971f);try{_0x4bfe7e&&(_0x4bfe7e=_0x4bfe7e instanceof _0xb92fab?_0x4bfe7e[_0x57f190(0x29e)]():_0xb92fab[_0x57f190(0x204)](_0x4bfe7e)['getQuery']());}catch(_0xd45377){throw new _0x36acfc(_0xf36e85['KeyValueDatabaseInvalidQuery'],_0x57f190(0x480));}try{return await this[_0x57f190(0x4f6)][_0x57f190(0x4b0)](_0x4bfe7e);}catch(_0x44229d){let _0x2786a6=_0x57f190(0x480);throw _0x44229d instanceof Error&&(_0x2786a6=_0x44229d['message']),new _0x36acfc(_0xf36e85[_0x57f190(0x13c)],_0x2786a6);}}[_0x22e38d(0x37b)](){const _0x2dedb8=_0x22e38d;return this[_0x2dedb8(0x4f6)][_0x2dedb8(0x37b)]();}[_0x22e38d(0x51e)](_0x206392){const _0x572e65=_0x22e38d;this[_0x572e65(0x152)]=this[_0x572e65(0x41e)][_0x572e65(0x51e)](_0x206392);}[_0x22e38d(0x64a)](){const _0x14a790=_0x22e38d;this[_0x14a790(0x152)]?.();}[_0x22e38d(0x3c2)](_0x514715,_0x4c8918){const _0x20479e=_0x22e38d,_0x4a2933=this[_0x20479e(0x11d)](_0x514715,_0x4c8918);this[_0x20479e(0x41e)][_0x20479e(0x3c2)](_0x4a2933);}[_0x22e38d(0x11d)](_0x200313,_0x57622f){const _0x4ccc79=_0x22e38d;let _0x248364;switch(_0x200313){case _0x1c8c41[_0x4ccc79(0x27e)]:_0x248364=_0x4ccc79(0x24a);break;case _0x1c8c41[_0x4ccc79(0x39a)]:_0x248364=_0x4ccc79(0x5c1);break;case _0x1c8c41['Delete']:_0x248364=_0x4ccc79(0x421);}return{'action':_0x248364,'value':_0x57622f};}[_0x22e38d(0x57c)](_0x1811cc){const _0x3d1452=_0x22e38d;if('object'!=typeof _0x1811cc||null===_0x1811cc)throw new _0x36acfc(_0xf36e85['KeyValueDatabaseInvalidValue'],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x32e97b in _0x1811cc){const _0x3cbdc5=_0x1811cc[_0x32e97b];if(_0x3d1452(0x43c)!=typeof _0x3cbdc5||_0x3cbdc5 instanceof Date){if(![_0x3d1452(0x20b),'number',_0x3d1452(0x658)][_0x3d1452(0x4c9)](typeof _0x3cbdc5))throw new _0x36acfc(_0xf36e85[_0x3d1452(0x509)],_0x3d1452(0x56b)+_0x32e97b+_0x3d1452(0x647));}else this[_0x3d1452(0x57c)](_0x3cbdc5);}}}const _0x4c6ff6=require('firebase/app'),_0x4822b3=require('firebase/auth'),_0x843913=require('firebase/database'),_0x2ebbc7=require('firebase/firestore'),_0x309028=require('firebase/functions');let _0x752b0c=_0x2c4711(0xa9)['q'];function _0x4cfcf0(_0x71c2){const _0x4c38ae=_0x22e38d;return!(!_0x71c2||_0x4c38ae(0x43c)!=typeof _0x71c2||Array[_0x4c38ae(0x5fc)](_0x71c2));}_0x752b0c=function _0x1165ea(_0x38c44a,..._0x57e2bf){const _0x2c188c=_0x22e38d;if(!Array['isArray'](_0x57e2bf)||0x0===_0x57e2bf[_0x2c188c(0x1e7)])return _0x38c44a;const _0x41a691=_0x57e2bf[_0x2c188c(0x306)]();if(_0x4cfcf0(_0x38c44a)&&_0x4cfcf0(_0x41a691)){for(const _0xca1277 in _0x41a691)_0x4cfcf0(_0x41a691[_0xca1277])?(_0x38c44a[_0xca1277]||Object[_0x2c188c(0x4d2)](_0x38c44a,{[_0xca1277]:{}}),_0x1165ea(_0x38c44a[_0xca1277],_0x41a691[_0xca1277])):Object[_0x2c188c(0x4d2)](_0x38c44a,{[_0xca1277]:_0x41a691[_0xca1277]});}return _0x1165ea(_0x38c44a,..._0x57e2bf);}(_0x752b0c,_0x2c4711(0x1fc)['q']);const _0x117bc7=_0x752b0c;class _0x40033b{static [_0x22e38d(0x688)];['app'];['auth'];[_0x22e38d(0x5ce)];[_0x22e38d(0x266)];['firestore'];['clockSkew'];constructor(){}static[_0x22e38d(0x600)](){const _0xfeac41=_0x22e38d;return _0x40033b['instance']||(_0x40033b[_0xfeac41(0x688)]=new _0x40033b()),_0x40033b[_0xfeac41(0x688)];}[_0x22e38d(0x6ae)](){const _0xd7ee78=_0x22e38d;return this['app']||(this['app']=(0x0,_0x4c6ff6['initializeApp'])(_0x117bc7['firebaseConfig'])),this[_0xd7ee78(0x11a)];}['getAuth'](){const _0xf06481=_0x22e38d;return this['auth']||(this[_0xf06481(0x109)]=(0x0,_0x4822b3[_0xf06481(0x470)])(this[_0xf06481(0x6ae)]())),this[_0xf06481(0x109)];}[_0x22e38d(0x412)](){const _0x484941=_0x22e38d;return this[_0x484941(0x5ce)]||(this[_0x484941(0x5ce)]=(0x0,_0x309028[_0x484941(0x412)])(this['getApp'](),_0x117bc7['firebaseConfig'][_0x484941(0x599)])),this['functions'];}[_0x22e38d(0x6ac)](){const _0x53ab5b=_0x22e38d;return this[_0x53ab5b(0x266)]||(this['database']=(0x0,_0x843913[_0x53ab5b(0x6ac)])(this[_0x53ab5b(0x6ae)]())),this[_0x53ab5b(0x266)];}['getFirestore'](){const _0x47692b=_0x22e38d;return this[_0x47692b(0x20d)]||(this[_0x47692b(0x20d)]=(0x0,_0x2ebbc7[_0x47692b(0x544)])(this[_0x47692b(0x6ae)]())),this[_0x47692b(0x20d)];}async[_0x22e38d(0x308)](){const _0x4b0d4a=_0x22e38d;if(this[_0x4b0d4a(0x641)])return Date[_0x4b0d4a(0x5c7)]()+this[_0x4b0d4a(0x641)];const _0x3eac83=this[_0x4b0d4a(0x6ac)](),_0x200ec8=(0x0,_0x843913[_0x4b0d4a(0x143)])(_0x3eac83,_0x4b0d4a(0x5d2)),_0x15afa0=(0x0,_0x843913[_0x4b0d4a(0x66e)])(_0x200ec8,_0x1b9695=>{const _0x41f41a=_0x4b0d4a;!0x1===_0x1b9695[_0x41f41a(0x5e0)]()&&(_0x15afa0(),delete this[_0x41f41a(0x641)]);}),_0x336300=(0x0,_0x843913['ref'])(_0x3eac83,_0x4b0d4a(0x3ee));return new Promise(_0x260a73=>{const _0x289550=_0x4b0d4a;(0x0,_0x843913[_0x289550(0x66e)])(_0x336300,_0x49a719=>{const _0x38c1bf=_0x289550;(0x0,_0x843913[_0x38c1bf(0x40d)])(_0x336300),this[_0x38c1bf(0x641)]=_0x49a719['val'](),_0x260a73(Date[_0x38c1bf(0x5c7)]()+(this['clockSkew']??0x0));});});}}const _0x171347=_0x40033b[_0x22e38d(0x600)]();class _0xdd7189{static [_0x22e38d(0x688)];[_0x22e38d(0x692)]=[_0x5abff4[_0x22e38d(0x6b4)]];[_0x22e38d(0x335)]=!0x0;['loggingConnectors'];['vendorId']='';constructor(){const _0x17c1e5=_0x22e38d;this['loadEnabledClusters'](),window[_0x17c1e5(0x479)]=_0x50eb2e=>{const _0x22860b=_0x17c1e5;if(_0x50eb2e===_0x5abff4[_0x22860b(0x141)])return this[_0x22860b(0x692)]=Object[_0x22860b(0x371)](_0x5abff4)['map'](_0x18f1f7=>_0x5abff4[_0x18f1f7]),void Object[_0x22860b(0x371)](_0x5abff4)[_0x22860b(0x237)](_0x274bb6=>{const _0x705447=_0x22860b,_0x3696e6=_0x274bb6;localStorage[_0x705447(0x495)](_0x705447(0x507)+_0x5abff4[_0x3696e6],'true');});this['enabledChannels'][_0x22860b(0x4c9)](_0x50eb2e)||(this[_0x22860b(0x692)][_0x22860b(0x386)](_0x50eb2e),localStorage[_0x22860b(0x495)]('crewdle-sdk-logging-'+_0x50eb2e,_0x22860b(0x467)));},window[_0x17c1e5(0x4e6)]=_0x55bc2b=>{const _0x174662=_0x17c1e5;if(!_0x55bc2b||_0x55bc2b===_0x5abff4[_0x174662(0x141)])return this[_0x174662(0x692)]=[],void Object[_0x174662(0x371)](_0x5abff4)[_0x174662(0x237)](_0x3c7edc=>{const _0x226e44=_0x174662,_0x1f78e5=_0x3c7edc;localStorage[_0x226e44(0x1f6)](_0x226e44(0x507)+_0x5abff4[_0x1f78e5]);});this[_0x174662(0x692)][_0x174662(0x4c9)](_0x55bc2b)&&(this[_0x174662(0x692)]=this['enabledChannels'][_0x174662(0x57f)](_0x1546f3=>_0x1546f3!==_0x55bc2b),localStorage[_0x174662(0x1f6)]('crewdle-sdk-logging-'+_0x55bc2b));},window['crewdleSDKLoggingChannels']=_0x5abff4;}static['getInstance'](){const _0x45e81b=_0x22e38d;try{return _0xdd7189[_0x45e81b(0x688)]||(_0xdd7189[_0x45e81b(0x688)]=new _0xdd7189()),_0xdd7189[_0x45e81b(0x688)];}catch(_0x1d7fba){return console[_0x45e81b(0x18d)]('Logger.getInstance',_0x1d7fba),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isClusterEnabled':()=>!0x1};}}[_0x22e38d(0x1c0)](_0x375c06){const _0x29aa76=_0x22e38d;this[_0x29aa76(0x327)]=_0x375c06;}[_0x22e38d(0x33e)](_0x402988){this['loggingConnectors']=_0x402988;}[_0x22e38d(0x17e)](_0x54aecb,..._0x16c196){const _0x14174f=_0x22e38d;this[_0x14174f(0x335)]&&this['log'](_0x5abff4['Default'],_0x14174f(0x5eb)+_0x54aecb,..._0x16c196);}['log'](_0x492dc0,_0x359eb8,..._0x55fa83){const _0x20f8ed=_0x22e38d;_0x117bc7['isProduction']||(this[_0x20f8ed(0x692)][_0x20f8ed(0x4c9)](_0x492dc0)&&console[_0x20f8ed(0x3a0)](_0x20f8ed(0x3bc)+_0x492dc0+'\x27\x0a',new Date()+'\x0a',_0x359eb8,..._0x55fa83),this[_0x20f8ed(0x57a)]&&this[_0x20f8ed(0x57a)][_0x20f8ed(0x237)](_0x13787c=>{const _0x135873=_0x20f8ed;this[_0x135873(0x174)](_0x13787c)&&_0x13787c['getEnabledChannels']()[_0x135873(0x4c9)](_0x492dc0)&&_0x13787c[_0x135873(0x3a0)](_0x359eb8,{'vendorId':this[_0x135873(0x327)],'userId':'','data':{'cluster':_0x492dc0,..._0x55fa83}});}));}['logRaw'](_0x820ec3,_0x8824eb,..._0x572d96){const _0x6ada43=_0x22e38d;_0x117bc7[_0x6ada43(0x5e5)]||(this[_0x6ada43(0x692)][_0x6ada43(0x4c9)](_0x820ec3)&&console[_0x6ada43(0x3a0)](_0x8824eb,..._0x572d96),this[_0x6ada43(0x57a)]&&this[_0x6ada43(0x57a)][_0x6ada43(0x237)](_0x490323=>{const _0x1ae3ba=_0x6ada43;this[_0x1ae3ba(0x174)](_0x490323)&&_0x490323[_0x1ae3ba(0x1e4)]()[_0x1ae3ba(0x4c9)](_0x820ec3)&&_0x490323[_0x1ae3ba(0x3a0)](_0x8824eb,{'vendorId':this[_0x1ae3ba(0x327)],'userId':'','data':{'cluster':_0x820ec3,..._0x572d96}});}));}[_0x22e38d(0x4cc)](_0x50ae81,_0x4a4718){const _0x420d8d=_0x22e38d;if(this[_0x420d8d(0x57a)]){const _0x257836={'vendorId':this[_0x420d8d(0x327)],..._0x4a4718};this[_0x420d8d(0x57a)][_0x420d8d(0x237)](_0x411177=>{const _0xd6ae0d=_0x420d8d;_0x411177[_0xd6ae0d(0x3a0)](_0x50ae81,_0x257836);});}}[_0x22e38d(0x395)](_0x5943f2,_0x4f725e){const _0x287cfb=_0x22e38d;(0x0,_0x2ebbc7[_0x287cfb(0x597)])((0x0,_0x2ebbc7['collection'])(_0x171347[_0x287cfb(0x544)](),_0x287cfb(0x4c1)+this[_0x287cfb(0x327)]+_0x287cfb(0x625)),{..._0x4f725e,'service':_0x5943f2,'timestamp':(0x0,_0x2ebbc7[_0x287cfb(0x67e)])()});}[_0x22e38d(0x285)](_0x337706,_0x50382c,_0x25a7a5){const _0x2e6f98=_0x22e38d;(0x0,_0x2ebbc7[_0x2e6f98(0x644)])((0x0,_0x2ebbc7[_0x2e6f98(0x484)])(_0x171347['getFirestore'](),_0x2e6f98(0x4c1)+this[_0x2e6f98(0x327)]+'/'+_0x337706+'/'+_0x50382c),{'storage':_0x25a7a5,'timestamp':(0x0,_0x2ebbc7[_0x2e6f98(0x67e)])()});}[_0x22e38d(0x18d)](_0x451b1b,_0x4a6fef,..._0x2c5042){const _0xe53337=_0x22e38d;if(console['error'](new Date(),_0x451b1b,_0x4a6fef,..._0x2c5042),this['loggingConnectors']){const _0x39cd97={'vendorId':this[_0xe53337(0x327)],..._0x4a6fef};this[_0xe53337(0x57a)][_0xe53337(0x237)](_0x1829f5=>{const _0x80a7ef=_0xe53337;_0x1829f5[_0x80a7ef(0x18d)](_0x451b1b,_0x39cd97);});}}[_0x22e38d(0x683)](_0x3d9cc1,_0x385c5e,..._0x316411){const _0x31d74d=_0x22e38d;if(console[_0x31d74d(0x473)](new Date(),_0x3d9cc1,_0x385c5e,_0x316411),this[_0x31d74d(0x57a)]){const _0x42ddc4={'vendorId':this[_0x31d74d(0x327)],..._0x385c5e};this['loggingConnectors'][_0x31d74d(0x237)](_0x43dcd0=>{const _0x17c2c1=_0x31d74d;_0x43dcd0[_0x17c2c1(0x473)](_0x3d9cc1,_0x42ddc4);});}}[_0x22e38d(0x230)](_0xae2345){const _0xf97d61=_0x22e38d;return this['enabledChannels'][_0xf97d61(0x4c9)](_0xae2345);}['loadEnabledClusters'](){const _0x264d9d=_0x22e38d;try{Object[_0x264d9d(0x371)](_0x5abff4)[_0x264d9d(0x237)](_0x4ef533=>{const _0x1c80fe=_0x264d9d,_0x2292c4=_0x4ef533;localStorage[_0x1c80fe(0x4fc)](_0x1c80fe(0x507)+_0x5abff4[_0x2292c4])&&(console[_0x1c80fe(0x3a0)]('LoggingService:\x20logging\x20enabled\x20for',_0x5abff4[_0x2292c4]),this[_0x1c80fe(0x692)]['push'](_0x5abff4[_0x2292c4]));});}catch(_0x4306bf){}}[_0x22e38d(0x174)](_0x5f06ed){return void 0x0!==_0x5f06ed['getEnabledChannels'];}}const _0x2858e9=_0xdd7189[_0x22e38d(0x600)]();class _0x317db2 extends _0x5467c3{['localId'];[_0x22e38d(0x262)];[_0x22e38d(0x327)];['db'];[_0x22e38d(0x2c6)];['tables']=new Map();['tableObserver'];[_0x22e38d(0x396)];[_0x22e38d(0x274)];[_0x22e38d(0x1c9)];[_0x22e38d(0x192)];[_0x22e38d(0x3e8)]=[];['timeoutCallback']=()=>{};[_0x22e38d(0x2a6)];[_0x22e38d(0x41e)]=_0x151e07();[_0x22e38d(0x152)];['syncTransactionsWritten']=[];['layout'];[_0x22e38d(0x321)];[_0x22e38d(0x121)]=0x0;[_0x22e38d(0x46d)]=0x0;constructor(_0x544336,_0x5dd253,_0x37f95a,_0xacd745,_0x732421,_0x28b684){const _0x32a1e1=_0x22e38d;if(_0x32a1e1(0x20b)!=typeof _0x5dd253)throw new _0x36acfc(_0xf36e85[_0x32a1e1(0x4f4)],_0x32a1e1(0x2f2));if(super(_0x544336,_0x5dd253),this[_0x32a1e1(0x33d)]=_0x544336,this['clusterId']=_0x37f95a,this['vendorId']=_0xacd745,this[_0x32a1e1(0x2c6)]=_0x32a1e1(0x23a)+this[_0x32a1e1(0x327)]+'ccc'+this['clusterId']+_0x32a1e1(0x23a)+this[_0x32a1e1(0x2a8)],this['tableObserver']=_0x151e07(),this[_0x32a1e1(0x1c9)]=new Promise(_0x1574fa=>{this['syncResolve']=_0x1574fa;}),_0x732421 instanceof _0x320928)this[_0x32a1e1(0x577)]=_0x732421['getLayout']();else{const [_0x128202,_0x2deffe]=_0x320928[_0x32a1e1(0x305)](_0x732421);if(!_0x128202)throw new _0x36acfc(_0xf36e85[_0x32a1e1(0x258)],_0x32a1e1(0x328)+_0x2deffe);this['layout']=_0x732421;}this['db']=new _0x28b684(this[_0x32a1e1(0x2c6)],this['layout']);}[_0x22e38d(0x428)](){const _0x5954a7=_0x22e38d;return _0x35274c[_0x5954a7(0x5a2)];}[_0x22e38d(0x3d0)](){const _0xb8209a=_0x22e38d;this['db'][_0xb8209a(0x13a)](),this[_0xb8209a(0x274)]?.(),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0xb8209a(0x3d0)]();}['close'](){const _0x307344=_0x22e38d;this[_0x307344(0x358)][_0x307344(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x307344(0x2f3)],'content':{'type':_0x10a2a5[_0x307344(0x62c)],'label':this[_0x307344(0x2a8)]}});}['getTable'](_0x4407e1){const _0x5ac90e=_0x22e38d,_0x28c8ae=this[_0x5ac90e(0x5f7)][_0x5ac90e(0x61c)](_0x4407e1);if(_0x28c8ae)return _0x28c8ae;try{if(!this['db'][_0x5ac90e(0x5b4)](_0x4407e1))throw new _0x36acfc(_0xf36e85[_0x5ac90e(0x25e)],_0x5ac90e(0x460));const _0x4f18ef=new _0x203aae(this['db'][_0x5ac90e(0x634)](_0x4407e1),_0x4407e1,this[_0x5ac90e(0x55f)]);return this[_0x5ac90e(0x5f7)][_0x5ac90e(0x3dc)](_0x4407e1,_0x4f18ef),{'get':_0x4f18ef['get'][_0x5ac90e(0x1af)](_0x4f18ef),'set':_0x4f18ef['set']['bind'](_0x4f18ef),'add':_0x4f18ef[_0x5ac90e(0x24a)][_0x5ac90e(0x1af)](_0x4f18ef),'delete':_0x4f18ef[_0x5ac90e(0x421)][_0x5ac90e(0x1af)](_0x4f18ef),'clear':_0x4f18ef['clear']['bind'](_0x4f18ef),'list':_0x4f18ef[_0x5ac90e(0x18e)][_0x5ac90e(0x1af)](_0x4f18ef),'count':_0x4f18ef['count'][_0x5ac90e(0x1af)](_0x4f18ef),'subscribe':_0x4f18ef[_0x5ac90e(0x51e)][_0x5ac90e(0x1af)](_0x4f18ef),'unsubscribe':_0x4f18ef['unsubscribe']['bind'](_0x4f18ef)};}catch(_0x26ec7b){throw new _0x36acfc(_0xf36e85[_0x5ac90e(0x5b6)],_0x5ac90e(0x206));}}['subscribe'](_0x34c3d){const _0x1704fa=_0x22e38d;this[_0x1704fa(0x152)]=this[_0x1704fa(0x41e)][_0x1704fa(0x51e)](_0x34c3d);}[_0x22e38d(0x64a)](){const _0x4613b4=_0x22e38d;this[_0x4613b4(0x152)]?.();}async[_0x22e38d(0x36d)](){const _0x9d4ff0=_0x22e38d,_0x55a73a=[_0x22e456],_0x461541=[];await this['db'][_0x9d4ff0(0x36d)](_0x5106e2=>{const _0x29a4fe=_0x9d4ff0;for(const _0x441b73 in this[_0x29a4fe(0x577)][_0x29a4fe(0x5f7)]){if(_0x55a73a[_0x29a4fe(0x4c9)](_0x441b73))throw new _0x36acfc(_0xf36e85['KeyValueDatabaseTableNameReserved'],_0x29a4fe(0x331));const _0x5c9f5d=this[_0x29a4fe(0x577)][_0x29a4fe(0x5f7)][_0x441b73];if(_0x5106e2[_0x29a4fe(0x5b4)](_0x441b73)){_0x5c9f5d['indexes']?.['forEach'](_0x44ada2=>{const _0x427bbb=_0x29a4fe;_0x5106e2[_0x427bbb(0x59f)](_0x441b73,_0x44ada2[_0x427bbb(0x208)])||_0x5106e2['createIndex'](_0x441b73,_0x44ada2[_0x427bbb(0x208)]);});for(const _0x126966 of _0x5106e2[_0x29a4fe(0x11b)](_0x441b73))_0x5c9f5d['indexes']?.[_0x29a4fe(0x5de)](_0x996793=>_0x996793['keyPath']===_0x126966)||_0x5106e2[_0x29a4fe(0x17a)](_0x441b73,_0x126966);}else _0x5106e2[_0x29a4fe(0x1c3)](_0x441b73),_0x5c9f5d[_0x29a4fe(0x31f)]?.[_0x29a4fe(0x237)](_0x112905=>{const _0x2381b6=_0x29a4fe;_0x5106e2[_0x2381b6(0x2e3)](_0x441b73,_0x112905[_0x2381b6(0x208)]);});}for(const _0x4e3034 of _0x5106e2['getTables']())_0x55a73a[_0x29a4fe(0x4c9)](_0x4e3034)||this[_0x29a4fe(0x577)]['tables'][_0x4e3034]||(_0x5106e2[_0x29a4fe(0x4ff)](_0x4e3034),_0x461541[_0x29a4fe(0x386)](_0x4e3034));}),this[_0x9d4ff0(0x557)](),this['setOnMessageHandler'](),this[_0x9d4ff0(0x18f)](),_0x461541[_0x9d4ff0(0x237)](_0x1c1b16=>this[_0x9d4ff0(0x2b5)](_0x1c1b16));}async[_0x22e38d(0x3f3)](_0x48f3c7,_0x5f9b97){const _0x1f1378=_0x22e38d;_0x48f3c7?(this[_0x1f1378(0x28f)]=_0x5f9b97,this[_0x1f1378(0x2a6)]=window['setTimeout'](_0x5f9b97,_0x79e5ff),this['systemTopic'][_0x1f1378(0x3c2)]({'sourceId':this[_0x1f1378(0x33d)],'destinationIds':[_0x48f3c7],'messageType':_0x120441[_0x1f1378(0x2f3)],'content':{'type':_0x10a2a5[_0x1f1378(0x5c2)],'label':this[_0x1f1378(0x2a8)]}}),await this['isSync']):setTimeout(()=>{this['clearSyncTimeout'](),this['publishSyncCompleted']();},0x0);}async['sendTransactionsDump'](_0x4c91a3){const _0x3f4baa=_0x22e38d;if(!this[_0x3f4baa(0x396)])throw new _0x461f79(_0x461f79[_0x3f4baa(0x34a)][_0x3f4baa(0x40c)]);await this[_0x3f4baa(0x1c9)];const _0x5ee442=await this[_0x3f4baa(0x396)][_0x3f4baa(0x18e)]();this['systemTopic'][_0x3f4baa(0x3c2)]({'sourceId':this[_0x3f4baa(0x33d)],'destinationIds':[_0x4c91a3],'messageType':_0x120441[_0x3f4baa(0x2f3)],'content':{'type':_0x10a2a5[_0x3f4baa(0x434)],'label':this[_0x3f4baa(0x2a8)],'transactions':_0x5ee442}});}async['processTransactionsDump'](_0x155fef,_0x3ec0be){const _0x31e431=_0x22e38d;if(!this[_0x31e431(0x396)])throw new _0x461f79(_0x461f79[_0x31e431(0x34a)][_0x31e431(0x40c)]);this['clearSyncTimeout']();const _0x5b2ced=await this[_0x31e431(0x396)]['list']();for(const _0x322361 of _0x5b2ced){const _0x4aca17=_0x3ec0be[_0x31e431(0x5de)](_0x2d635c=>_0x2d635c['id']===_0x322361['id']);if(_0x4aca17&&this[_0x31e431(0x5a4)](_0x322361,_0x4aca17)<=0x0)continue;const [_0x59f27f,_0x5bb975]=_0x322361['id'][_0x31e431(0x304)]('::'),_0x4148c9=this[_0x31e431(0x5f7)][_0x31e431(0x61c)](_0x59f27f),_0x640825=await _0x4148c9?.['get'](_0x5bb975);_0x322361['value']=_0x640825,this[_0x31e431(0x4f9)](_0x322361);}for(const _0x413a2a of _0x3ec0be){const _0xb44ff0=await this[_0x31e431(0x396)][_0x31e431(0x61c)](_0x413a2a['id']);if(!(_0xb44ff0&&this[_0x31e431(0x5a4)](_0x413a2a,_0xb44ff0)<=0x0)){if(_0x413a2a[_0x31e431(0x134)]===_0x1c8c41['Delete']){const [_0x5a4422,_0x2ccfb8]=_0x413a2a['id'][_0x31e431(0x304)]('::'),_0x404135=this[_0x31e431(0x5f7)][_0x31e431(0x61c)](_0x5a4422);await _0x404135?.[_0x31e431(0x421)](_0x2ccfb8,!0x1);}else this[_0x31e431(0x3e8)][_0x31e431(0x386)](_0x413a2a['id']);}}if(0x0===this['transactionsToSync'][_0x31e431(0x1e7)])return this[_0x31e431(0x682)](),void this[_0x31e431(0x4f0)]();this[_0x31e431(0x2a6)]=window[_0x31e431(0x4a5)](this[_0x31e431(0x28f)],_0x79e5ff),this[_0x31e431(0x358)]['publish']({'sourceId':this['localId'],'destinationIds':[_0x155fef],'messageType':_0x120441[_0x31e431(0x2f3)],'content':{'type':_0x10a2a5[_0x31e431(0x5ef)],'label':this['label'],'transactionIds':this[_0x31e431(0x3e8)]}});}async[_0x22e38d(0x659)](_0x250345,_0x3e55f1){const _0x1b3b9f=_0x22e38d;if(!this[_0x1b3b9f(0x396)])throw new _0x461f79(_0x461f79['codes'][_0x1b3b9f(0x40c)]);for(const _0x3ade06 of _0x3e55f1){const _0x395aab=await this['transactionTable']['get'](_0x3ade06);if(!_0x395aab)continue;const [_0x54aeca,_0x4a02a0]=_0x3ade06[_0x1b3b9f(0x304)]('::'),_0x46279d=this[_0x1b3b9f(0x5f7)][_0x1b3b9f(0x61c)](_0x54aeca),_0x6adaaa=await _0x46279d?.[_0x1b3b9f(0x61c)](_0x4a02a0);_0x395aab[_0x1b3b9f(0x14b)]=_0x6adaaa,this[_0x1b3b9f(0x4f9)](_0x395aab,[_0x250345]);}}async[_0x22e38d(0x6b5)](_0x323602){const _0x44b1d3=_0x22e38d;if(!this[_0x44b1d3(0x396)])throw new _0x461f79(_0x461f79[_0x44b1d3(0x34a)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x54b6eb=await this[_0x44b1d3(0x396)][_0x44b1d3(0x61c)](_0x323602['id']);if(_0x54b6eb&&this[_0x44b1d3(0x5a4)](_0x323602,_0x54b6eb)<=0x0)return;const _0xb17538={..._0x323602};return delete _0xb17538[_0x44b1d3(0x14b)],await this['transactionTable'][_0x44b1d3(0x3dc)](_0x323602['id'],_0xb17538),_0x323602;}[_0x22e38d(0x5a4)](_0x3e0698,_0x2990c6){const _0x1f44b5=_0x22e38d;return _0x3e0698[_0x1f44b5(0x372)]<_0x2990c6[_0x1f44b5(0x372)]?-0x1:_0x3e0698['timestamp']>_0x2990c6[_0x1f44b5(0x372)]?0x1:_0x3e0698[_0x1f44b5(0x1d7)]-_0x2990c6[_0x1f44b5(0x1d7)];}async['getTransactionFromTableWriteEvent'](_0x287e2f){const _0x3ebf44=_0x22e38d;if(!this[_0x3ebf44(0x396)])throw new _0x461f79(_0x461f79[_0x3ebf44(0x34a)][_0x3ebf44(0x40c)]);const _0x3d326d=_0x287e2f[_0x3ebf44(0x5d0)]+'::'+_0x287e2f[_0x3ebf44(0x4f8)],_0xfca8b5=await _0x171347[_0x3ebf44(0x308)](),_0x2e2c11={'id':_0x3d326d,'priority':Math[_0x3ebf44(0x61f)](),'timestamp':_0xfca8b5,'action':_0x287e2f[_0x3ebf44(0x134)]};if(await this['writeTransaction'](_0x2e2c11))return _0x2e2c11;}async[_0x22e38d(0x2b5)](_0x15fa93){const _0xdad619=_0x22e38d;if(!this[_0xdad619(0x396)])throw new _0x461f79(_0x461f79['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x2430c7=_0xb92fab[_0xdad619(0x52c)]('id')[_0xdad619(0x34d)]('between',[_0x15fa93+'::',_0x15fa93+_0xdad619(0x535)]),_0xa0b2c3=await this[_0xdad619(0x396)][_0xdad619(0x18e)](_0x2430c7['getQuery']());for(const _0x3a443d of _0xa0b2c3)await this['transactionTable']['delete'](_0x3a443d['id']);}['setOnMessageHandler'](){const _0x25f380=_0x22e38d;this[_0x25f380(0x5a3)](async(_0x20564a,_0xbfdb5)=>{const _0x43c89b=_0x25f380;if(_0xbfdb5 instanceof File)return;if(!await this['writeTransaction'](_0xbfdb5))return void this[_0x43c89b(0x347)](_0xbfdb5);if(!_0xbfdb5[_0x43c89b(0x14b)])throw new _0x461f79(_0x461f79['codes'][_0x43c89b(0x2d4)]);const [_0x166fa8,_0x4ac0c4]=_0xbfdb5['id'][_0x43c89b(0x304)]('::'),_0x5473e4=this[_0x43c89b(0x5f7)]['get'](_0x166fa8);if(!_0x5473e4)throw new _0x461f79(_0x461f79[_0x43c89b(0x34a)][_0x43c89b(0x506)],{'table':_0x5473e4});let _0x403fbe=0x0;switch(_0xbfdb5['action']){case _0x1c8c41['Add']:case _0x1c8c41[_0x43c89b(0x39a)]:{const _0x21ae25=_0x5473e4[_0x43c89b(0x3dc)](_0x4ac0c4,_0xbfdb5[_0x43c89b(0x14b)],!0x1);_0x403fbe=JSON[_0x43c89b(0x67a)](_0xbfdb5[_0x43c89b(0x14b)])['length'],this['transactionsToSync']['includes'](_0xbfdb5['id'])&&this[_0x43c89b(0x217)][_0x43c89b(0x386)](_0x21ae25);break;}case _0x1c8c41[_0x43c89b(0x240)]:{const _0x17e0f2=_0x5473e4[_0x43c89b(0x421)](_0x4ac0c4,!0x1);this[_0x43c89b(0x3e8)][_0x43c89b(0x4c9)](_0xbfdb5['id'])&&this[_0x43c89b(0x217)][_0x43c89b(0x386)](_0x17e0f2);break;}}_0x2858e9[_0x43c89b(0x395)](_0x433bbf[_0x43c89b(0x5a2)],{'type':_0x43c89b(0x3f3),'label':this[_0x43c89b(0x2a8)],'userId':this[_0x43c89b(0x33d)],'tableName':_0x166fa8,'key':_0x4ac0c4,'size':_0x403fbe}),this[_0x43c89b(0x347)](_0xbfdb5);});}[_0x22e38d(0x18f)](){const _0x4b5951=_0x22e38d;this[_0x4b5951(0x274)]=this[_0x4b5951(0x55f)]['subscribe'](async _0x2197d4=>{const _0x5dcbb8=_0x4b5951;let _0xb5e7dd=0x0;switch(_0x2197d4[_0x5dcbb8(0x134)]){case _0x1c8c41[_0x5dcbb8(0x27e)]:case _0x1c8c41['Update']:case _0x1c8c41[_0x5dcbb8(0x240)]:{const _0x19236a=await this[_0x5dcbb8(0x218)](_0x2197d4);if(!_0x19236a)return;_0x19236a[_0x5dcbb8(0x14b)]=_0x2197d4[_0x5dcbb8(0x14b)],this['send'](_0x19236a),_0xb5e7dd=JSON[_0x5dcbb8(0x67a)](_0x2197d4['value'])[_0x5dcbb8(0x1e7)],this[_0x5dcbb8(0x121)]+=0x1;break;}case _0x428043[_0x5dcbb8(0x12b)]:case _0x428043[_0x5dcbb8(0x527)]:case _0x428043[_0x5dcbb8(0x11e)]:this[_0x5dcbb8(0x46d)]+=0x1;}_0x2858e9[_0x5dcbb8(0x395)](_0x433bbf[_0x5dcbb8(0x5a2)],{'type':_0x2197d4[_0x5dcbb8(0x134)],'label':this[_0x5dcbb8(0x2a8)],'userId':this[_0x5dcbb8(0x33d)],'tableName':_0x2197d4[_0x5dcbb8(0x5d0)],'key':_0x2197d4[_0x5dcbb8(0x4f8)],'size':_0xb5e7dd}),this['sendStats']();});}[_0x22e38d(0x557)](){const _0x55bc1d=_0x22e38d;this['db']&&(this[_0x55bc1d(0x396)]||(this['db'][_0x55bc1d(0x5b4)](_0x22e456)||this['db'][_0x55bc1d(0x1c3)](_0x22e456),this[_0x55bc1d(0x396)]=this['db'][_0x55bc1d(0x634)](_0x22e456)));}[_0x22e38d(0x682)](){const _0x28afa0=_0x22e38d;this[_0x28afa0(0x2a6)]&&(clearTimeout(this['syncTimeout']),delete this[_0x28afa0(0x2a6)]);}[_0x22e38d(0x4f0)](){const _0x332220=_0x22e38d;this[_0x332220(0x41e)][_0x332220(0x3c2)]({'event':_0x114550[_0x332220(0x3e2)]}),this[_0x332220(0x192)]?.(!0x0),delete this[_0x332220(0x192)],this[_0x332220(0x14c)]();}async['publishSyncCompletedAfterWrites'](){const _0x2acdb1=_0x22e38d;await Promise[_0x2acdb1(0x2b7)](this[_0x2acdb1(0x217)]),this[_0x2acdb1(0x4f0)]();}['checkSyncComplete'](_0x3b5ad3){const _0x4cdb54=_0x22e38d;this['transactionsToSync'][_0x4cdb54(0x4c9)](_0x3b5ad3['id'])&&(this[_0x4cdb54(0x682)](),this['transactionsToSync']=this[_0x4cdb54(0x3e8)]['filter'](_0x33ca6f=>_0x33ca6f!==_0x3b5ad3['id']),0x0!==this['transactionsToSync']['length']?this['syncTimeout']=window['setTimeout'](this['timeoutCallback'],_0x79e5ff):this[_0x4cdb54(0x4f7)]());}[_0x22e38d(0x14c)](){const _0x28fcd2=_0x22e38d;this[_0x28fcd2(0x321)]&&clearTimeout(this[_0x28fcd2(0x321)]),this[_0x28fcd2(0x321)]=window[_0x28fcd2(0x4a5)](async()=>{const _0x3ae07c=_0x28fcd2;delete this[_0x3ae07c(0x321)];let _0x156968=0x0;for(const _0x24f3f2 of this[_0x3ae07c(0x5f7)][_0x3ae07c(0x1f4)]())_0x156968+=await _0x24f3f2['calculateSize']();this[_0x3ae07c(0x358)][_0x3ae07c(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x3ae07c(0x2f3)],'content':{'type':_0x10a2a5['KeyValueDatabaseStats'],'label':this[_0x3ae07c(0x2a8)],'stats':{'timestamp':Date[_0x3ae07c(0x5c7)](),'storage':_0x156968,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x3ae07c(0x573)],'bytesSent':this[_0x3ae07c(0x3f9)],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this[_0x3ae07c(0x46d)]}}}),_0x2858e9[_0x3ae07c(0x285)](_0x433bbf[_0x3ae07c(0x5a2)],this[_0x3ae07c(0x2a8)],_0x156968);},0x1388);}}const _0x891828=require('@crewdle/mist-connector-opfs'),_0x4b6370=require('@crewdle/mist-connector-indexed-db');class _0x4d9fc9{[_0x22e38d(0x4a6)];['bufferedEvents'];[_0x22e38d(0x62a)];constructor(_0x437c38=new Map(),_0x21d8a6=new Map(),_0x413bf5=new EventTarget()){const _0x3c8b3a=_0x22e38d;this[_0x3c8b3a(0x4a6)]=_0x437c38,this[_0x3c8b3a(0x69c)]=_0x21d8a6,this[_0x3c8b3a(0x62a)]=_0x413bf5;}[_0x22e38d(0x26b)]=(_0x3e5c03,_0x583abf)=>this[_0x22e38d(0x4a6)][_0x22e38d(0x32d)](_0x3e5c03)?(_0x2858e9[_0x22e38d(0x3a0)](_0x5abff4[_0x22e38d(0x3bb)],_0x22e38d(0x116),{'event':_0x3e5c03,'data':_0x583abf}),this[_0x22e38d(0x62a)][_0x22e38d(0x488)](new CustomEvent(_0x3e5c03,{'detail':_0x583abf})),!0x0):(this[_0x22e38d(0x14a)](_0x3e5c03,_0x583abf),!0x1);['on']=(_0x235a7f,_0x3bfb84)=>{const _0x191ba0=_0x22e38d,_0x159b67=_0x5e6363=>{const _0xa670ed=a0_0x104e;_0x2858e9[_0xa670ed(0x3a0)](_0x5abff4[_0xa670ed(0x3bb)],_0xa670ed(0x47e),_0x5e6363[_0xa670ed(0x1a1)],_0x5e6363[_0xa670ed(0x220)]),_0x3bfb84(_0x5e6363[_0xa670ed(0x220)]);};return this[_0x191ba0(0x4a6)][_0x191ba0(0x3dc)](_0x235a7f,_0x159b67),this[_0x191ba0(0x62a)][_0x191ba0(0x14f)](_0x235a7f,_0x159b67),_0x2858e9[_0x191ba0(0x3a0)](_0x5abff4[_0x191ba0(0x286)],_0x191ba0(0x254),_0x235a7f,_0x3bfb84),this['consumeBufferedEvents'](_0x235a7f),this;};['off'](_0x4fbd16){const _0x4ede85=_0x22e38d;if(!_0x4fbd16)return this[_0x4ede85(0x4a6)][_0x4ede85(0x237)]((_0x382d90,_0x55c17a)=>{const _0x530023=_0x4ede85;this[_0x530023(0x62a)]['removeEventListener'](_0x55c17a,_0x382d90);}),void this[_0x4ede85(0x4a6)]['clear']();_0x4ede85(0x20b)==typeof _0x4fbd16&&this['removeListener'](_0x4fbd16),Array[_0x4ede85(0x5fc)](_0x4fbd16)&&_0x4fbd16[_0x4ede85(0x237)](_0x2e5b92=>{const _0xe7f359=_0x4ede85;this[_0xe7f359(0x586)](_0x2e5b92);});}[_0x22e38d(0x586)](_0x23a806){const _0x52838c=_0x22e38d,_0x3503e2=this[_0x52838c(0x4a6)][_0x52838c(0x61c)](_0x23a806);_0x3503e2&&(this['eventTarget'][_0x52838c(0x107)](_0x23a806,_0x3503e2),this['registeredListeners'][_0x52838c(0x421)](_0x23a806));}[_0x22e38d(0x14a)](_0x2c1cce,_0x3ee1a4){const _0x1c4ee1=_0x22e38d;_0x2858e9[_0x1c4ee1(0x3a0)](_0x5abff4[_0x1c4ee1(0x3bb)],_0x1c4ee1(0x13f),{'event':_0x2c1cce,'data':_0x3ee1a4});const _0x1352fc=this[_0x1c4ee1(0x69c)][_0x1c4ee1(0x61c)](_0x2c1cce)||[];this[_0x1c4ee1(0x69c)][_0x1c4ee1(0x3dc)](_0x2c1cce,[..._0x1352fc,_0x3ee1a4]);}[_0x22e38d(0x453)](_0x1fb5e9){const _0x54c545=_0x22e38d,_0x502245=this[_0x54c545(0x69c)][_0x54c545(0x61c)](_0x1fb5e9);_0x502245&&(_0x502245['forEach'](_0x146ec8=>{const _0x4effd8=_0x54c545;_0x2858e9[_0x4effd8(0x3a0)](_0x5abff4[_0x4effd8(0x3bb)],_0x4effd8(0x359),{'event':_0x1fb5e9,'data':_0x146ec8}),this[_0x4effd8(0x62a)][_0x4effd8(0x488)](new CustomEvent(_0x1fb5e9,{'detail':_0x146ec8}));}),this['bufferedEvents']['delete'](_0x1fb5e9));}}class _0xc2e00f extends Error{constructor(_0x16c21d){super('Early\x20return:\x20'+_0x16c21d);}}var _0x1951cf,_0x3e3725,_0x46736a,_0x3fcc69,_0x1ebed6,_0x4ca98a,_0x15c440,_0x59204a;!function(_0x34bad7){const _0x41995c=_0x22e38d;_0x34bad7[_0x34bad7['Core']=0x0]=_0x41995c(0x1e1),_0x34bad7[_0x34bad7['Optimization']=0x1]='Optimization';}(_0x1951cf||(_0x1951cf={})),function(_0x4f3477){const _0x58293a=_0x22e38d;_0x4f3477[_0x4f3477[_0x58293a(0x4e2)]=0x0]=_0x58293a(0x4e2),_0x4f3477[_0x4f3477['Answer']=0x1]=_0x58293a(0x5f5),_0x4f3477[_0x4f3477[_0x58293a(0x2d7)]=0x2]='Handshake',_0x4f3477[_0x4f3477[_0x58293a(0x695)]=0x3]=_0x58293a(0x695),_0x4f3477[_0x4f3477['NeedRestart']=0x4]='NeedRestart',_0x4f3477[_0x4f3477[_0x58293a(0x2ef)]=0x5]=_0x58293a(0x2ef),_0x4f3477[_0x4f3477[_0x58293a(0x588)]=0x6]=_0x58293a(0x588),_0x4f3477[_0x4f3477['Stats']=0x7]=_0x58293a(0x603),_0x4f3477[_0x4f3477[_0x58293a(0x385)]=0x8]=_0x58293a(0x385);}(_0x3e3725||(_0x3e3725={})),function(_0x1a79f9){const _0x1151d7=_0x22e38d;_0x1a79f9[_0x1a79f9[_0x1151d7(0x2a7)]=0x0]=_0x1151d7(0x2a7),_0x1a79f9[_0x1a79f9[_0x1151d7(0x53d)]=0x1]=_0x1151d7(0x53d);}(_0x46736a||(_0x46736a={})),function(_0x5a79c2){const _0x936124=_0x22e38d;_0x5a79c2[_0x936124(0x4b6)]=_0x936124(0x234);}(_0x3fcc69||(_0x3fcc69={})),function(_0x2cbdab){const _0x1bec3d=_0x22e38d;_0x2cbdab[_0x2cbdab[_0x1bec3d(0x382)]=0x0]=_0x1bec3d(0x382),_0x2cbdab[_0x2cbdab[_0x1bec3d(0x2ed)]=0x1]=_0x1bec3d(0x2ed),_0x2cbdab[_0x2cbdab[_0x1bec3d(0x238)]=0x2]=_0x1bec3d(0x238),_0x2cbdab[_0x2cbdab['UserLeave']=0x3]=_0x1bec3d(0x2f0);}(_0x1ebed6||(_0x1ebed6={})),function(_0x3e7872){const _0x1c4305=_0x22e38d;_0x3e7872[_0x3e7872[_0x1c4305(0x481)]=0x0]='Remediation',_0x3e7872[_0x3e7872[_0x1c4305(0x279)]=0x1]='RemoteRemediation';}(_0x4ca98a||(_0x4ca98a={})),function(_0x166a05){const _0x106983=_0x22e38d;_0x166a05[_0x106983(0x30f)]=_0x106983(0x288),_0x166a05[_0x106983(0x41c)]='downgrade';}(_0x15c440||(_0x15c440={})),function(_0x3dfbb2){const _0x216935=_0x22e38d;_0x3dfbb2[_0x216935(0x176)]='resolution',_0x3dfbb2['Bitrate']=_0x216935(0x133);}(_0x59204a||(_0x59204a={}));const _0x1097cc=require('aws-amplify'),_0x49a552=require('aws-amplify/utils'),_0x18635c=require('@aws-amplify/api'),_0x1746fe=require('@aws-amplify/core');class _0x4f3713{[_0x22e38d(0x262)];[_0x22e38d(0x33d)];['remoteId'];constructor(_0x579935,_0x1d2fc2,_0x1c7f5a){const _0x26368c=_0x22e38d;this[_0x26368c(0x262)]=_0x579935,this[_0x26368c(0x33d)]=_0x1d2fc2,this[_0x26368c(0x2b0)]=_0x1c7f5a;}[_0x22e38d(0x49e)](){const _0x4ab4a1=_0x22e38d;return this[_0x4ab4a1(0x33d)];}[_0x22e38d(0x57d)](){const _0x36f2f9=_0x22e38d;return this[_0x36f2f9(0x2b0)];}}var _0x4bc9f9,_0x11fb5a,_0x43b291;function _0xb6c235(_0x239961,_0x2e15e2){const _0x4ed9ab=_0x22e38d;return _0x239961[_0x4ed9ab(0x3c7)]===_0x2e15e2;}function _0x42fc9e(_0x42911c,_0x48d0e6){const _0x36516e=_0x22e38d;return _0x42911c[_0x36516e(0x250)]?.[_0x36516e(0x4c9)](_0x48d0e6)??function(_0x4ae5be){return void 0x0===_0x4ae5be['destinationIds'];}(_0x42911c);}function _0x4bcec9(_0x402c92,{contentType:_0x37f696,label:_0x33a3fe,remoteId:_0x500a2a}){return _0x402c92+'-'+_0x37f696+'-'+_0x33a3fe+'-'+_0x500a2a;}function _0x53c504(_0x53f2ad,_0x3aa843,_0x515075){return''+_0x53f2ad+_0x3aa843+_0x515075;}function _0xded7af(_0x18f492){const _0x59b89c=_0x22e38d;return _0x18f492===_0x11fb5a[_0x59b89c(0x4b5)]?'IncomingSubscription':'OutgoingSubscription';}function _0x3de2e5(_0x418ac0,_0x593d96){const _0x5e57b2=_0x22e38d;return{'label':_0x418ac0['getInternalStreamId'](),'contentType':_0x418ac0[_0x5e57b2(0x428)](),'remoteId':_0x593d96[_0x5e57b2(0x57d)](),'supportsContentType':_0x593d96[_0x5e57b2(0x661)]()['includes'](_0x418ac0[_0x5e57b2(0x428)]())};}!function(_0x2d1609){const _0x5c1eee=_0x22e38d;_0x2d1609[_0x2d1609['Waiting']=0x0]='Waiting',_0x2d1609[_0x2d1609[_0x5c1eee(0x63f)]=0x1]='Accepted',_0x2d1609[_0x2d1609[_0x5c1eee(0x445)]=0x2]=_0x5c1eee(0x445);}(_0x4bc9f9||(_0x4bc9f9={})),function(_0x621e48){const _0x945fa7=_0x22e38d;_0x621e48[_0x945fa7(0x4b5)]='in',_0x621e48[_0x945fa7(0x19f)]='out';}(_0x11fb5a||(_0x11fb5a={}));class _0x4f31e0{[_0x22e38d(0x10c)];[_0x22e38d(0x221)];constructor(_0x414438,_0x56cc43){const _0x3b61d7=_0x22e38d;this[_0x3b61d7(0x10c)]=_0x414438,this[_0x3b61d7(0x221)]=_0x56cc43;}[_0x22e38d(0x5ed)](_0xde637b){const _0x2089fe=_0x22e38d;this[_0x2089fe(0x10c)](_0xde637b);}async[_0x22e38d(0x391)](){await this['retryCallback']();}}class _0x2ca761{[_0x22e38d(0x10c)];[_0x22e38d(0x221)];constructor(_0x3631c5,_0x320cf2){this['callback']=_0x3631c5,this['retryCallback']=_0x320cf2;}async[_0x22e38d(0x5ed)](_0x32e23d){await this['callback'](_0x32e23d);}async[_0x22e38d(0x391)](){const _0x118fc1=_0x22e38d;await this[_0x118fc1(0x221)]();}}function _0x42f02(_0x51e868=()=>{},_0x444fcc=()=>!0x1,_0x4258f4=()=>{}){let _0x110a5b,_0x161ccb,_0x10bdb6=0x0;return{get 'size'(){return _0x10bdb6;},get 'head'(){return _0x110a5b;},get 'tail'(){return _0x161ccb;},set 'head'(_0x476ca2){_0x110a5b=_0x476ca2;},set 'tail'(_0x466be8){_0x161ccb=_0x466be8;},'push'(_0xe7923b,_0x5f4d9a=!0x0){const _0x47a2e1=a0_0x104e,_0x32ce11={'value':_0xe7923b};_0x5f4d9a&&_0x444fcc(_0x32ce11)?_0x51e868():(_0x161ccb&&(_0x32ce11[_0x47a2e1(0x3b0)]=_0x161ccb,_0x161ccb['next']=_0x32ce11),_0x161ccb=_0x32ce11,_0x110a5b||(_0x110a5b=_0x32ce11),_0x10bdb6+=0x1,_0x5f4d9a&&_0x51e868());},'pop'(){const _0x544b8c=a0_0x104e;if(!_0x161ccb)return;const _0x3c0d82=_0x161ccb[_0x544b8c(0x14b)];return _0x161ccb=_0x161ccb['previous'],_0x161ccb&&delete _0x161ccb[_0x544b8c(0x2a1)],_0x161ccb||(_0x110a5b=void 0x0),_0x10bdb6-=0x1,_0x3c0d82;},'unshift'(_0x4e8438,_0x33aa47=!0x0){const _0x28a712=a0_0x104e,_0x147fe2={'value':_0x4e8438};_0x33aa47&&_0x444fcc(_0x147fe2)?_0x51e868():(_0x110a5b&&(_0x110a5b[_0x28a712(0x3b0)]=_0x147fe2,_0x147fe2[_0x28a712(0x2a1)]=_0x110a5b),_0x110a5b=_0x147fe2,_0x161ccb||(_0x161ccb=_0x147fe2),_0x10bdb6+=0x1,_0x33aa47&&_0x51e868());},'shift'(){const _0x39352f=a0_0x104e;if(!_0x110a5b)return;const _0x48e7a4=_0x110a5b[_0x39352f(0x14b)];return _0x110a5b=_0x110a5b[_0x39352f(0x2a1)],_0x110a5b&&delete _0x110a5b['previous'],_0x110a5b||(_0x161ccb=void 0x0),_0x10bdb6-=0x1,_0x48e7a4;},'clear'(){_0x4258f4(),_0x110a5b=void 0x0,_0x161ccb=void 0x0,_0x10bdb6=0x0;}};}function _0x2a75da(_0xb4c6db,_0x479902=!0x1,_0x2f2f94=()=>{},_0x4e8f2c=()=>!0x1,_0x99f07c=()=>{}){let _0x54971c=!0x1;const _0xe8ab7c=_0x42f02(async function(){const _0x395d68=a0_0x104e;if(!_0x54971c){for(_0x54971c=!0x0;_0xe8ab7c[_0x395d68(0x320)];){const _0x45572a=_0xe8ab7c[_0x395d68(0x306)]();if(_0x45572a)try{_0xb4c6db instanceof _0x4f31e0&&_0xb4c6db['call'](_0x45572a),_0xb4c6db instanceof _0x2ca761&&await _0xb4c6db[_0x395d68(0x5ed)](_0x45572a),_0x2f2f94(_0x45572a);}catch(_0x4a7d03){_0x479902?_0xe8ab7c['push'](_0x45572a,!0x1):_0xe8ab7c['unshift'](_0x45572a,!0x1),await _0xb4c6db[_0x395d68(0x391)]();}}_0x54971c=!0x1;}},_0x4e8f2c,_0x99f07c);return _0xe8ab7c;}class _0x380c90 extends _0x4f3713{[_0x22e38d(0x327)];[_0x22e38d(0x3fc)];['connectionState']=_0x18635c[_0x22e38d(0x402)]['Disconnected'];[_0x22e38d(0x5b5)]=_0x151e07();[_0x22e38d(0x55e)]=_0x50f1e0();[_0x22e38d(0x251)];['listenUnsubscriber'];['retryQueue']=_0x2a75da(new _0x2ca761(this['sendAction']['bind'](this),this[_0x22e38d(0x2a5)][_0x22e38d(0x1af)](this)));[_0x22e38d(0x325)];constructor(_0x551c72,_0x365e30,_0x4d157b,_0x5e9790,_0x4a3699){const _0x511e31=_0x22e38d;super(_0x365e30,_0x4d157b,_0x5e9790),this[_0x511e31(0x327)]=_0x551c72,this[_0x511e31(0x3fc)]=_0x4a3699;}async['connect'](){const _0xdc835=_0x22e38d;try{const _0x4c5fe6=await this[_0xdc835(0x3fc)][_0xdc835(0x5db)](),_0x26b7e1={'getTokens':async()=>({'accessToken':(0x0,_0x1746fe[_0xdc835(0x316)])(_0x4c5fe6),'idToken':(0x0,_0x1746fe[_0xdc835(0x316)])(_0x4c5fe6)})};_0x1097cc['Amplify']['configure']({'API':{'GraphQL':{'endpoint':_0x117bc7['aws'][_0xdc835(0x48d)],'region':_0x117bc7[_0xdc835(0x311)][_0xdc835(0x312)],'defaultAuthMode':_0xdc835(0x624)}}},{'Auth':{'tokenProvider':_0x26b7e1}}),this['client']=(0x0,_0x18635c[_0xdc835(0x416)])(),await this[_0xdc835(0x51e)](),this['listenUnsubscriber']=_0x49a552[_0xdc835(0x1bc)]['listen']('api',({payload:_0x1b4e50})=>{const _0x1a6ae8=_0xdc835;if(_0x1b4e50[_0x1a6ae8(0x3a8)]===_0x18635c[_0x1a6ae8(0x119)]){const _0x9694d2=_0x1b4e50[_0x1a6ae8(0x68c)];this[_0x1a6ae8(0x131)]=_0x9694d2[_0x1a6ae8(0x131)],this[_0x1a6ae8(0x5b5)][_0x1a6ae8(0x3c2)](_0x9694d2[_0x1a6ae8(0x131)]),this[_0x1a6ae8(0x131)]===_0x18635c[_0x1a6ae8(0x402)][_0x1a6ae8(0x1fb)]&&(this['subscription']?.[_0x1a6ae8(0x64a)](),delete this[_0x1a6ae8(0x251)]),this['connectionState']===_0x18635c[_0x1a6ae8(0x402)][_0x1a6ae8(0x247)]&&(_0x2858e9[_0x1a6ae8(0x18d)](_0x1a6ae8(0x4da),{'clusterId':this[_0x1a6ae8(0x262)],'userId':this[_0x1a6ae8(0x33d)]}),this[_0x1a6ae8(0x51e)]());}});}catch(_0x4ab574){_0x2858e9[_0xdc835(0x18d)](_0xdc835(0x322),{'clusterId':this[_0xdc835(0x262)],'userId':this[_0xdc835(0x33d)]});}}[_0x22e38d(0x13a)](){const _0x14f757=_0x22e38d;this[_0x14f757(0x5e8)][_0x14f757(0x160)](),this[_0x14f757(0x260)]?.(),this['subscription']?.['unsubscribe'](),delete this['subscription'];}[_0x22e38d(0x297)](){const _0x22d90d=_0x22e38d;return this[_0x22d90d(0x131)]===_0x18635c['ConnectionState'][_0x22d90d(0x5cf)];}[_0x22e38d(0x4f9)](_0x554024){const _0x46e497=_0x22e38d;this[_0x46e497(0x5e8)][_0x46e497(0x386)](_0x554024);}['onMessage'](_0x47ca4f){const _0x32387a=_0x22e38d;return this[_0x32387a(0x55e)][_0x32387a(0x51e)](_0x47ca4f);}[_0x22e38d(0x661)](){const _0x5e7022=_0x22e38d;return[_0x35274c[_0x5e7022(0x47f)]];}async['waitConnected'](){if(!this['isConnected']())return new Promise(_0x15c24c=>{const _0x5773c0=a0_0x104e,_0x399d21=this[_0x5773c0(0x5b5)][_0x5773c0(0x51e)](_0x38cfb4=>{const _0x1cafe0=_0x5773c0;_0x38cfb4===_0x18635c[_0x1cafe0(0x402)][_0x1cafe0(0x5cf)]&&(_0x399d21(),_0x15c24c());});});}async[_0x22e38d(0x2e6)](_0xd13178){const _0x46eaf9=_0x22e38d;if(this[_0x46eaf9(0x131)]!==_0x18635c[_0x46eaf9(0x402)][_0x46eaf9(0x5cf)])throw new Error(_0x46eaf9(0x431));_0xd13178[_0x46eaf9(0x250)]&&0x1===_0xd13178['destinationIds'][_0x46eaf9(0x1e7)]?await this[_0x46eaf9(0x3c2)](_0xd13178[_0x46eaf9(0x250)][0x0],JSON['stringify'](_0xd13178)):_0x2858e9[_0x46eaf9(0x18d)](_0x46eaf9(0x202),{'clusterId':this[_0x46eaf9(0x262)],'userId':this[_0x46eaf9(0x33d)]});}async[_0x22e38d(0x3c2)](_0x20b5bb,_0x35ac3f){const _0xe43491=_0x22e38d;if(!this[_0xe43491(0x325)])throw new Error(_0xe43491(0x4e8));_0x2858e9[_0xe43491(0x3a0)](_0x5abff4[_0xe43491(0x48c)],_0xe43491(0x589),this[_0xe43491(0x33d)],_0x35ac3f),await this[_0xe43491(0x325)]['graphql']({'query':_0xe43491(0x534),'variables':{'name':await this[_0xe43491(0x476)](_0x20b5bb),'data':_0x35ac3f}});}async['subscribe'](){const _0x33340e=_0x22e38d;if(this[_0x33340e(0x251)])return;if(!this['client'])throw new Error(_0x33340e(0x4e8));_0x2858e9[_0x33340e(0x3a0)](_0x5abff4['Signaling'],_0x33340e(0x3a9),this['localId']);const _0x3d6654=await this[_0x33340e(0x325)][_0x33340e(0x340)]({'query':_0x33340e(0x468),'variables':{'name':await this[_0x33340e(0x476)]()},'authToken':await this[_0x33340e(0x3fc)][_0x33340e(0x5db)]()},{'Authorization':await this['authService'][_0x33340e(0x5db)]()});this[_0x33340e(0x251)]=_0x3d6654[_0x33340e(0x51e)]({'next':({data:_0x1ebc17})=>{const _0x56f77e=_0x33340e,_0x1f9411=JSON[_0x56f77e(0x690)](_0x1ebc17[_0x56f77e(0x51e)][_0x56f77e(0x68c)]);!_0xb6c235(_0x1f9411,this[_0x56f77e(0x33d)])&&_0x42fc9e(_0x1f9411,this[_0x56f77e(0x33d)])&&this[_0x56f77e(0x55e)]['publish'](_0x1f9411);},'error':console['log']});}async[_0x22e38d(0x476)](_0x5993a2){const _0xf71adb=_0x22e38d,_0x475caf=await crypto['subtle']['digest'](_0xf71adb(0x352),new TextEncoder()['encode'](this['vendorId']+'-'+this[_0xf71adb(0x262)]+'-'+(_0x5993a2??this['localId'])));return Array['from'](new Uint8Array(_0x475caf))[_0xf71adb(0x672)](_0x4644dc=>_0x4644dc[_0xf71adb(0x401)](0x10)[_0xf71adb(0x5b8)](0x2,'0'))['join']('');}}!function(_0x1bfa3c){const _0x2b81e7=_0x22e38d;_0x1bfa3c[_0x1bfa3c[_0x2b81e7(0x27e)]=0x0]=_0x2b81e7(0x27e),_0x1bfa3c[_0x1bfa3c[_0x2b81e7(0x3c5)]=0x1]=_0x2b81e7(0x3c5),_0x1bfa3c[_0x1bfa3c[_0x2b81e7(0x39a)]=0x2]=_0x2b81e7(0x39a),_0x1bfa3c[_0x1bfa3c[_0x2b81e7(0x211)]=0x3]='RemoteAdd',_0x1bfa3c[_0x1bfa3c[_0x2b81e7(0x3db)]=0x4]=_0x2b81e7(0x3db);}(_0x43b291||(_0x43b291={}));const _0x29559c=require('uuid'),_0x48a352='0',_0x1b24a6=_0x22e38d(0x24e),_0x335ff2=0x3fc00;class _0x33a090{['clusterId'];[_0x22e38d(0x33d)];[_0x22e38d(0x2b0)];['iceServers'];[_0x22e38d(0x4f1)];[_0x22e38d(0x169)];[_0x22e38d(0x4c8)];[_0x22e38d(0x22e)];['currentVersion']=0x1;[_0x22e38d(0x358)];[_0x22e38d(0x124)]=[];[_0x22e38d(0x566)]=[];['handshakeDebounce'];constructor(_0x2d9c52,_0x483982,_0x157b07,_0x8c835e,_0x591cfa,_0x391cb3){const _0x53236a=_0x22e38d;this['clusterId']=_0x2d9c52,this[_0x53236a(0x33d)]=_0x483982,this[_0x53236a(0x2b0)]=_0x157b07,this[_0x53236a(0x490)]=_0x8c835e,this[_0x53236a(0x4f1)]=_0x591cfa,this[_0x53236a(0x169)]=_0x391cb3,this[_0x53236a(0x4c8)]=new this[(_0x53236a(0x169))]({'handshakeServers':this[_0x53236a(0x490)]}),this[_0x53236a(0x280)]();}[_0x22e38d(0x13a)](){this['stopConnection']();}[_0x22e38d(0x3d3)](_0x3901ef){const _0x364077=_0x22e38d;this[_0x364077(0x4f1)]=_0x3901ef;}async[_0x22e38d(0x29f)](_0x54792b,_0x38036c){const _0x5b6c65=_0x22e38d;if(_0x38036c===this[_0x5b6c65(0x13e)])for(const _0x2d4a5b of _0x54792b){if(!this[_0x5b6c65(0x4c8)]['canAddCandidates'])return this[_0x5b6c65(0x1a6)](_0x2d4a5b);await this[_0x5b6c65(0x4c8)][_0x5b6c65(0x3ed)](_0x2d4a5b);}}[_0x22e38d(0x297)](){const _0x3a5914=_0x22e38d;return this[_0x3a5914(0x39c)](),_0x3a5914(0x167)===this['connection']['connectionState']&&[_0x3a5914(0x167),'completed'][_0x3a5914(0x4c9)](this[_0x3a5914(0x4c8)][_0x3a5914(0x45e)])&&'closed'!==this[_0x3a5914(0x4c8)][_0x3a5914(0x60f)]&&_0x3a5914(0x36d)===this[_0x3a5914(0x22e)]?.[_0x3a5914(0x62b)];}['registerSystemPublisher'](_0x328f2d){this['systemTopic']=_0x328f2d;}[_0x22e38d(0x43f)](){const _0x3cc8af=_0x22e38d;delete this[_0x3cc8af(0x358)];}[_0x22e38d(0x132)](_0x2682dc){const _0x4e0159=_0x22e38d;this[_0x4e0159(0x30d)](),this['connection']=new this['connectionConstructor']({'handshakeServers':this[_0x4e0159(0x490)]}),_0x2682dc?this[_0x4e0159(0x13e)]=_0x2682dc:this[_0x4e0159(0x13e)]+=0x1,this[_0x4e0159(0x280)]();}[_0x22e38d(0x26d)](){const _0x54e4b2=_0x22e38d;this[_0x54e4b2(0x566)][_0x54e4b2(0x237)](_0x66d3b7=>this[_0x54e4b2(0x4c8)][_0x54e4b2(0x3ed)](_0x66d3b7)),this['pendingHandshakeCandidates']=[];}[_0x22e38d(0x375)](_0x5c37e2,_0x3f18c1){const _0x513359=_0x22e38d;if(!this[_0x513359(0x358)])throw new _0x461f79(_0x461f79[_0x513359(0x34a)][_0x513359(0x678)],{'content':_0x5c37e2});const _0x2351d6={'sourceId':this[_0x513359(0x33d)],'destinationIds':[this['remoteId']],'propagate':this[_0x513359(0x4f1)]!==_0x1951cf[_0x513359(0x1e1)],'retry':this['connectionType']!==_0x1951cf['Core'],'messageType':_0x120441[_0x513359(0x12e)],'content':_0x5c37e2};_0x3f18c1&&(_0x2351d6[_0x513359(0x2d0)]=_0x3f18c1),this[_0x513359(0x358)][_0x513359(0x3c2)](_0x2351d6);}[_0x22e38d(0x280)](){const _0x1f327e=_0x22e38d;this[_0x1f327e(0x4c8)]['onGatheringStateChange']=()=>{const _0x13ed25=_0x1f327e;_0x13ed25(0x1dd)===this[_0x13ed25(0x4c8)][_0x13ed25(0x298)]&&this[_0x13ed25(0x124)]['length']>0x0&&(this['handshakeDebounce']&&clearTimeout(this['handshakeDebounce']),this[_0x13ed25(0x1f2)]=setTimeout(()=>{const _0x278113=_0x13ed25;delete this['handshakeDebounce'],this[_0x278113(0x555)](),this[_0x278113(0x124)]=[];},0x1f4));},this[_0x1f327e(0x4c8)][_0x1f327e(0x60c)]=_0x3193c5=>{const _0x57274f=_0x1f327e;_0x3193c5[_0x57274f(0x1df)]&&this[_0x57274f(0x124)][_0x57274f(0x386)](_0x3193c5[_0x57274f(0x1df)]);};}['stopConnection'](){const _0x30dc6a=_0x22e38d;clearTimeout(this[_0x30dc6a(0x1f2)]),delete this[_0x30dc6a(0x1f2)],this[_0x30dc6a(0x124)]=[],this[_0x30dc6a(0x22e)]&&(this[_0x30dc6a(0x22e)][_0x30dc6a(0x5a3)]=null,this['dataChannel']['onClose']=null,this['dataChannel']['close'](),delete this[_0x30dc6a(0x22e)]),this[_0x30dc6a(0x4c8)][_0x30dc6a(0x129)]=null,this['connection'][_0x30dc6a(0x60c)]=null,this['connection'][_0x30dc6a(0x22c)]=null,this['connection'][_0x30dc6a(0x60e)]=null,this[_0x30dc6a(0x4c8)][_0x30dc6a(0x148)]=null,this[_0x30dc6a(0x4c8)][_0x30dc6a(0x41b)]=null,this[_0x30dc6a(0x4c8)]['close']();}['addPendingHandshakeCandidate'](_0x42988c){const _0x3fe9d9=_0x22e38d;this[_0x3fe9d9(0x566)]['push'](_0x42988c);}['logConnectionState'](){const _0x26700d=_0x22e38d;_0x2858e9[_0x26700d(0x3a0)](_0x5abff4['ConnectionState'],'Base\x20Peer\x20Connection',{'localId':this[_0x26700d(0x33d)],'remoteId':this[_0x26700d(0x2b0)],'connectionState':this[_0x26700d(0x4c8)][_0x26700d(0x131)],'handshakeState':this[_0x26700d(0x4c8)][_0x26700d(0x45e)],'signalingState':this[_0x26700d(0x4c8)]['signalingState'],'dataChannelState':this[_0x26700d(0x22e)]?.[_0x26700d(0x62b)]});}}function _0x5426df(_0x26fb1d,_0x23292d){const _0x5bd862=_0x22e38d;_0x23292d[_0x5bd862(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x5bd862(0x12e)],'content':_0x26fb1d});}class _0xf38929{static [_0x22e38d(0x688)];[_0x22e38d(0x46e)]=[];constructor(){setInterval(()=>{const _0x391de1=a0_0x104e;this['parameters'][_0x391de1(0x237)](_0x56be5d=>{const _0x23669d=_0x391de1;if(Date[_0x23669d(0x5c7)]()-_0x56be5d[_0x23669d(0x126)]>_0x56be5d[_0x23669d(0x36c)]){try{_0x56be5d[_0x23669d(0x10c)]();}catch(_0x2d5205){}_0x56be5d['lastExecuted']=Date[_0x23669d(0x5c7)]();}});},0x64);}static[_0x22e38d(0x600)](){const _0x428c2c=_0x22e38d;return _0xf38929[_0x428c2c(0x688)]||(_0xf38929[_0x428c2c(0x688)]=new _0xf38929()),_0xf38929['instance'];}['startNoThrottlingHack'](_0x493db2){const _0x46d89c=_0x22e38d,_0x3c9f2d=this[_0x46d89c(0x4ee)](_0x493db2),_0x148912=_0x493db2[_0x46d89c(0x2d1)]();_0x148912&&_0x3c9f2d&&(_0x148912[_0x46d89c(0x1ed)][_0x46d89c(0x14b)]=0.001,_0x3c9f2d[_0x46d89c(0x621)](_0x148912),_0x148912[_0x46d89c(0x621)](_0x493db2[_0x46d89c(0x558)]),_0x3c9f2d['start']());}['wait'](_0x11ee0f){return new Promise(_0x3f0e45=>{setTimeout(_0x3f0e45,_0x11ee0f);});}[_0x22e38d(0x686)](_0x43ed19,_0x23c61f){const _0x2d7d60=_0x22e38d;return this[_0x2d7d60(0x46e)][_0x2d7d60(0x386)]({'callback':_0x43ed19,'interval':_0x23c61f,'lastExecuted':Date['now']()}),()=>{const _0x207700=_0x2d7d60;this[_0x207700(0x46e)]=this[_0x207700(0x46e)][_0x207700(0x57f)](_0x22ffed=>_0x22ffed['callback']!==_0x43ed19);};}[_0x22e38d(0x4ee)](_0x4e9592){const _0x5e007c=_0x22e38d;if(_0x4e9592['createConstantSource'])return _0x4e9592['createConstantSource']();const _0x55c031=_0x4e9592[_0x5e007c(0x26e)](),_0x58d0a9=_0x4e9592[_0x5e007c(0x4dd)](0x1,0x1,_0x4e9592[_0x5e007c(0x458)]);return _0x58d0a9['getChannelData'](0x0)[0x0]=0xa,_0x55c031[_0x5e007c(0x1ab)]=_0x58d0a9,_0x55c031[_0x5e007c(0x3a2)]=!0x0,_0x55c031;}}const _0x30870d=_0xf38929['getInstance'](),_0x5e599e=[_0x22e38d(0x12e),_0x22e38d(0x6a9),_0x22e38d(0x2f3),_0x22e38d(0x5b7),'Stats',_0x22e38d(0x62f),_0x22e38d(0x481)],_0x5af9a6=[[_0x22e38d(0x4e2),'Answer',_0x22e38d(0x2d7),_0x22e38d(0x695),_0x22e38d(0x227),_0x22e38d(0x2ef),_0x22e38d(0x588),_0x22e38d(0x603),_0x22e38d(0x385)],[_0x22e38d(0x382),_0x22e38d(0x2ed),'UserConnectionsUpdate','UserLeave'],[_0x22e38d(0x4b3),_0x22e38d(0x618),_0x22e38d(0x680),_0x22e38d(0x68e),_0x22e38d(0x351),_0x22e38d(0x43b),_0x22e38d(0x62c),_0x22e38d(0x301),_0x22e38d(0x2b2),_0x22e38d(0x554),_0x22e38d(0x212),_0x22e38d(0x5c2),_0x22e38d(0x434),_0x22e38d(0x5ef),_0x22e38d(0x4d1),_0x22e38d(0x5a1)],[_0x22e38d(0x680),_0x22e38d(0x68e),_0x22e38d(0x351),_0x22e38d(0x11f),'RestartNeedMediaStream',_0x22e38d(0x194),'CannotProvideMediaStream',_0x22e38d(0x12a)],[_0x22e38d(0x4af),_0x22e38d(0x3ca)],[_0x22e38d(0x261)],[_0x22e38d(0x481),'RemoteRemediation']];function _0x491429(_0x5449ec){const _0x1cfd1c=_0x22e38d;return{..._0x5449ec,'systemMessageType':_0x5e599e[_0x5449ec[_0x1cfd1c(0x461)]],'systemContentMessageType':_0x5af9a6[_0x5449ec[_0x1cfd1c(0x461)]][_0x5449ec[_0x1cfd1c(0x127)][_0x1cfd1c(0x1a1)]]};}const _0x553bac={'hour':_0x22e38d(0x310),'minute':_0x22e38d(0x310),'second':_0x22e38d(0x310)};function _0x439bf2(_0x58bdb5,_0x2c43c5){const _0xa50910=_0x22e38d,_0x15d766=(function(){const _0x5b447d=a0_0x104e,_0x4f89eb=new Date(),_0x507f29=_0x4f89eb[_0x5b447d(0x657)](),_0x377982=_0x4f89eb[_0x5b447d(0x3ab)](_0x5b447d(0x1a5),_0x553bac)[_0x5b447d(0x2fb)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x377982+'.'+(_0x507f29>0x64?''+_0x507f29:_0x507f29>0xa?'0'+_0x507f29:'00'+_0x507f29);}()),{sourceId:_0x59a1dd,destinationIds:_0x3c24c3,systemMessageType:_0x5775b6,systemContentMessageType:_0x1105fb}=_0x491429(_0x58bdb5);return _0x15d766+_0xa50910(0x574)+_0x2c43c5+_0xa50910(0x574)+(_0x59a1dd===_0x2c43c5?_0xa50910(0x5d9)+_0x5775b6+_0xa50910(0x4b9)+(_0x3c24c3?''+_0x3c24c3:_0xa50910(0x553)):_0x58bdb5[_0xa50910(0x3c7)]===_0x58c96e?_0xa50910(0x66f)+_0x5775b6+'\x27':(_0x3c24c3?'':_0xa50910(0x455))+_0xa50910(0x10d)+_0x5775b6+_0xa50910(0x3a1)+_0x59a1dd)+'\x20with\x20\x27'+_0x1105fb+_0xa50910(0x2d6);}class _0x3ac85a extends _0x33a090{[_0x22e38d(0x377)]=_0x151e07();[_0x22e38d(0x60d)]=_0x151e07();[_0x22e38d(0x2ab)]=_0x151e07();[_0x22e38d(0x6a8)]=new Map();[_0x22e38d(0x444)]=new Map();['waitSuccess'];['messagesReceived']=0x0;[_0x22e38d(0x3e0)]={'messages':{'total':0x0}};[_0x22e38d(0x19c)]=0x0;['timeReceiving']=0x0;[_0x22e38d(0x13a)](){const _0x145aa1=_0x22e38d;this[_0x145aa1(0x448)](),this[_0x145aa1(0x6a8)][_0x145aa1(0x160)](),super[_0x145aa1(0x13a)]();}async[_0x22e38d(0x592)](_0x33a98a,_0x368e75){const _0x3d42d4=_0x22e38d;this[_0x3d42d4(0x13e)]=_0x368e75,this[_0x3d42d4(0x448)]();const _0x450edf=await this[_0x3d42d4(0x4c8)]['createAnswer'](_0x33a98a);this[_0x3d42d4(0x26d)]();const _0x513e46=(0x0,_0x29559c['v4'])();this[_0x3d42d4(0x375)]({'type':_0x3e3725['Answer'],'answer':_0x450edf,'version':_0x368e75,'connectionType':this[_0x3d42d4(0x4f1)]},_0x513e46),this['connectionType']===_0x1951cf[_0x3d42d4(0x1e1)]&&(this[_0x3d42d4(0x517)]=_0x30870d[_0x3d42d4(0x686)](()=>{const _0x16b56b=_0x3d42d4;this[_0x16b56b(0x375)]({'type':_0x3e3725['Answer'],'answer':_0x450edf,'version':_0x368e75,'connectionType':this['connectionType']},_0x513e46);},0x1388));}[_0x22e38d(0x15f)](){const _0x5ba709=_0x22e38d;this[_0x5ba709(0x448)]();}['handleNeedRestart'](_0x532638){const _0x400680=_0x22e38d;this[_0x400680(0x132)](_0x532638),this[_0x400680(0x375)]({'type':_0x3e3725[_0x400680(0x2ef)]});}async[_0x22e38d(0x4cf)](){const _0x1379d9=_0x22e38d;this[_0x1379d9(0x358)]&&(await this[_0x1379d9(0x4c8)][_0x1379d9(0x374)](this[_0x1379d9(0x6a8)],(_0x24b5d8,_0x3a8c69)=>{const _0x26d52d=_0x1379d9;_0x5426df({'type':_0x3e3725[_0x26d52d(0x603)],'streamId':_0x3a8c69,'userId':this[_0x26d52d(0x2b0)],'stats':_0x24b5d8},this[_0x26d52d(0x358)]);}),this[_0x1379d9(0x358)][_0x1379d9(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441['PeerConnection'],'content':{'type':_0x3e3725['Stats'],'userId':this[_0x1379d9(0x2b0)],'stats':{'origin':_0x46736a[_0x1379d9(0x53d)],'timestamp':Date[_0x1379d9(0x5c7)](),'messagesReceived':this[_0x1379d9(0x573)],'bytesReceived':this[_0x1379d9(0x19c)],'timeReceiving':this[_0x1379d9(0x46b)],'systemMessages':this['systemMessagesReceived']}}}));}[_0x22e38d(0x5a3)](_0x393609){return this['messageCallback']['subscribe'](_0x393609);}[_0x22e38d(0x148)](_0x586f7e){const _0x5afa06=_0x22e38d;return this[_0x5afa06(0x60d)][_0x5afa06(0x51e)](({track:_0x141bfa,stream:_0x3865bf})=>_0x586f7e(_0x141bfa,_0x3865bf));}[_0x22e38d(0x29c)](_0x157930){const _0x3fec77=_0x22e38d;return this[_0x3fec77(0x2ab)][_0x3fec77(0x51e)](({track:_0x5f2c39,stream:_0x3d80f6})=>_0x157930(_0x5f2c39,_0x3d80f6));}['resetConnection'](_0x5cf561){const _0x4de465=_0x22e38d;this[_0x4de465(0x448)](),this[_0x4de465(0x6a8)][_0x4de465(0x237)](_0x534cbd=>{const _0x162d40=_0x4de465;_0x534cbd[_0x162d40(0x160)]();}),super[_0x4de465(0x132)](_0x5cf561);}[_0x22e38d(0x555)](){const _0x3a951f=_0x22e38d;this[_0x3a951f(0x375)]({'type':_0x3e3725[_0x3a951f(0x2d7)],'candidates':this[_0x3a951f(0x124)],'origin':_0x46736a['Receiver'],'version':this[_0x3a951f(0x13e)],'connectionType':this['connectionType']});}[_0x22e38d(0x280)](){const _0x59451e=_0x22e38d;super[_0x59451e(0x280)](),this[_0x59451e(0x4c8)]['onTrack']=_0x4a8a2e=>{const _0x4abacf=_0x59451e;_0x2858e9['log'](_0x5abff4[_0x4abacf(0x404)],'CrewdleReceiverConnection\x20ontrack',this['localId'],_0x4a8a2e),_0x4a8a2e['streams'][0x0][_0x4abacf(0x38a)]=_0x6a1503=>{const _0x155425=_0x4abacf;this['receivers'][_0x155425(0x61c)](_0x4a8a2e[_0x155425(0x163)][0x0]['id'])?.[_0x155425(0x421)](_0x6a1503[_0x155425(0x562)]),0x0===this['receivers'][_0x155425(0x61c)](_0x4a8a2e[_0x155425(0x163)][0x0]['id'])?.[_0x155425(0x4df)]&&this[_0x155425(0x6a8)][_0x155425(0x421)](_0x4a8a2e[_0x155425(0x163)][0x0]['id']),this[_0x155425(0x2ab)][_0x155425(0x3c2)]({'track':_0x6a1503[_0x155425(0x562)],'stream':_0x4a8a2e[_0x155425(0x163)][0x0]});},this['receivers'][_0x4abacf(0x32d)](_0x4a8a2e[_0x4abacf(0x163)][0x0]['id'])||this['receivers'][_0x4abacf(0x3dc)](_0x4a8a2e['streams'][0x0]['id'],new Set()),this[_0x4abacf(0x6a8)][_0x4abacf(0x61c)](_0x4a8a2e[_0x4abacf(0x163)][0x0]['id'])[_0x4abacf(0x24a)](_0x4a8a2e[_0x4abacf(0x562)]),this['trackCallback'][_0x4abacf(0x3c2)]({'track':_0x4a8a2e[_0x4abacf(0x562)],'stream':_0x4a8a2e['streams'][0x0]});},this[_0x59451e(0x4c8)][_0x59451e(0x41b)]=_0x2f69b4=>{const _0x1a1349=_0x59451e;this[_0x1a1349(0x22e)]=_0x2f69b4[_0x1a1349(0x188)],this[_0x1a1349(0x22e)][_0x1a1349(0x5a3)]=_0x6d4df7=>{const _0x24bb18=_0x1a1349;if(_0x6d4df7[_0x24bb18(0x68c)]!==_0x48a352)this['handleOnMessage'](_0x6d4df7['data']);else{if(!this[_0x24bb18(0x22e)])return void _0x2858e9[_0x24bb18(0x18d)](_0x24bb18(0x2c8),{'clusterId':this['clusterId'],'userId':this['localId'],'remoteId':this[_0x24bb18(0x2b0)],'data':{'connection':'receiver'}});if(_0x24bb18(0x36d)!==this['dataChannel'][_0x24bb18(0x62b)])return;this['dataChannel'][_0x24bb18(0x4f9)]('1');}};};}[_0x22e38d(0x30a)](_0x107550){const _0x417462=_0x22e38d;if(_0x417462(0x20b)==typeof _0x107550&&_0x107550['startsWith'](_0x1b24a6))return this['messagesReceived']+=0x1,this['bytesReceived']+=_0x107550['length'],this['handleChunkMessage'](_0x107550);setTimeout(()=>{const _0x1a429d=_0x417462,_0x526b37=Date[_0x1a429d(0x5c7)]();let _0x1674a0;if((_0x107550 instanceof ArrayBuffer||_0x107550[_0x1a429d(0x1e7)]<=_0x335ff2)&&(this['messagesReceived']+=0x1,this['bytesReceived']+=_0x107550 instanceof ArrayBuffer?_0x107550['byteLength']:_0x107550[_0x1a429d(0x1e7)]),_0x107550 instanceof ArrayBuffer){const [_0x2f4222,_0x351349]=this[_0x1a429d(0x638)](_0x107550);_0x1674a0=_0x2f4222,_0x1674a0[_0x1a429d(0x127)][_0x1a429d(0x68c)]=_0x351349;}else _0x1674a0=JSON['parse'](_0x107550);if(0x0===_0x1674a0['topicLabel']){this[_0x1a429d(0x3e0)]['messages'][_0x1a429d(0x21b)]+=0x1;const {systemMessageType:_0x18bf87,systemContentMessageType:_0xe488ef}=_0x491429(_0x1674a0);this['systemMessagesReceived'][_0x18bf87]||(this['systemMessagesReceived'][_0x18bf87]={[_0xe488ef]:0x0}),this['systemMessagesReceived'][_0x18bf87][_0xe488ef]||(this[_0x1a429d(0x3e0)][_0x18bf87][_0xe488ef]=0x0),this['systemMessagesReceived'][_0x18bf87]['total']||(this[_0x1a429d(0x3e0)][_0x18bf87][_0x1a429d(0x21b)]=0x0),this['systemMessagesReceived'][_0x18bf87][_0xe488ef]+=0x1,this['systemMessagesReceived'][_0x18bf87][_0x1a429d(0x21b)]+=0x1;}this[_0x1a429d(0x377)][_0x1a429d(0x3c2)](_0x1674a0),this[_0x1a429d(0x46b)]+=Date[_0x1a429d(0x5c7)]()-_0x526b37;},0x0);}[_0x22e38d(0x4a3)](_0xa3710d){const _0xfc4965=_0x22e38d,_0x2c825f=_0xa3710d[_0xfc4965(0x304)](';'),_0x4c27f8=_0x2c825f[0x1],_0x5bfaab=parseInt(_0x2c825f[0x2],0xa),_0x3ae558=parseInt(_0x2c825f[0x3],0xa),_0x31081c=_0xa3710d[_0xfc4965(0x35c)](_0x1b24a6+';'+_0x4c27f8+';'+_0x5bfaab+';'+_0x3ae558+';','');this['chunks'][_0xfc4965(0x32d)](_0x4c27f8)||this[_0xfc4965(0x444)][_0xfc4965(0x3dc)](_0x4c27f8,[]);const _0x2ddff7=this['chunks'][_0xfc4965(0x61c)](_0x4c27f8);_0x2ddff7[_0x5bfaab]=_0x31081c,_0x2ddff7[_0xfc4965(0x1e7)]===_0x3ae558&&(this[_0xfc4965(0x30a)](_0x2ddff7[_0xfc4965(0x1bd)]('')),this[_0xfc4965(0x444)]['delete'](_0x4c27f8));}[_0x22e38d(0x448)](){const _0x31ff0f=_0x22e38d;this[_0x31ff0f(0x517)]?.(),delete this[_0x31ff0f(0x517)];}[_0x22e38d(0x628)](_0x1f730){const _0x40b83e=_0x22e38d,_0xd811f0=new TextDecoder()[_0x40b83e(0x61d)](_0x1f730);return JSON['parse'](_0xd811f0);}[_0x22e38d(0x638)](_0x69d538){const _0x107e82=_0x22e38d,_0x3cef2f=new Uint8Array(_0x69d538[_0x107e82(0x195)](0x0,0x4)),_0x23e442=new Uint32Array(_0x3cef2f[_0x107e82(0x1ab)])[0x0],_0x1157cd=new Uint8Array(_0x69d538[_0x107e82(0x195)](0x4,0x4+_0x23e442)),_0x5e4504=new Uint8Array(_0x69d538[_0x107e82(0x195)](0x4+_0x23e442));return[this[_0x107e82(0x628)](_0x1157cd[_0x107e82(0x1ab)]),_0x5e4504[_0x107e82(0x1ab)]];}}const _0x515228=0xc350;var _0x825906,_0x5f1217,_0x4abf56,_0xc019f6,_0x23d5ff;!function(_0x77a84){const _0x8deb2=_0x22e38d;_0x77a84[_0x77a84[_0x8deb2(0x654)]=0x0]=_0x8deb2(0x654),_0x77a84[_0x77a84[_0x8deb2(0x53e)]=0x1]=_0x8deb2(0x53e),_0x77a84[_0x77a84[_0x8deb2(0x24c)]=0x2]=_0x8deb2(0x24c);}(_0x825906||(_0x825906={}));class _0x9a0b6f extends _0x33a090{['maxFps'];[_0x22e38d(0x59a)];[_0x22e38d(0x122)]=new Map();[_0x22e38d(0x474)];[_0x22e38d(0x253)];[_0x22e38d(0x16f)];['isReconnecting']=!0x1;[_0x22e38d(0x10f)];[_0x22e38d(0x307)];[_0x22e38d(0x226)];['retryQueue']=function(e,t=_0x825906,s=!0x1){const _0x2b7887=_0x22e38d;let i=!0x1;const n=[];async function a(){const _0x1eee2b=a0_0x104e;if(!i){for(i=!0x0;n[_0x1eee2b(0x201)](e=>e[_0x1eee2b(0x320)]);){let t,i=0x0;for(const [e,s]of n[_0x1eee2b(0x578)]())if(t=s[_0x1eee2b(0x306)](),i=e,t)break;if(t)try{if(e instanceof _0x4f31e0&&e['call'](t),e instanceof _0x2ca761&&await e[_0x1eee2b(0x5ed)](t),n[_0x1eee2b(0x195)](-0x1)[_0x1eee2b(0x201)](e=>e[_0x1eee2b(0x320)]))continue;const s=n[_0x1eee2b(0x1e7)]-0x1;i===s&&n[s]['head']&&await _0x30870d['wait'](0x0);}catch(a){s?n[i][_0x1eee2b(0x386)](t,!0x1):n[i][_0x1eee2b(0x3c6)](t,!0x1),await e[_0x1eee2b(0x391)]();}}i=!0x1;}}return Object['values'](t)[_0x2b7887(0x237)](e=>{const _0x41c237=_0x2b7887;_0x41c237(0x20b)!=typeof e&&(n[e]=_0x42f02(a));}),{'queues':n};}(new _0x4f31e0(this[_0x22e38d(0x2e6)]['bind'](this),this[_0x22e38d(0x64d)][_0x22e38d(0x1af)](this)));[_0x22e38d(0x693)]=0x0;[_0x22e38d(0x3f9)]=0x0;[_0x22e38d(0x5d7)]=0x0;['roundTripTime']=0x0;['oncloseTimeout'];constructor(_0x5b08e0,_0x15f35e,_0xe9ce2c,_0x21c629,_0x51a769,_0x3959bf,_0x2e4b75,_0x112b00){super(_0x5b08e0,_0x15f35e,_0xe9ce2c,_0x21c629,_0x51a769,_0x112b00),this['maxFps']=_0x3959bf,this['maxBpp']=_0x2e4b75;}[_0x22e38d(0x13a)](){const _0x1b89ea=_0x22e38d;this['clearUpgradeTimeout'](),this[_0x1b89ea(0x4b1)](),delete this['lastHeartbeat'],this[_0x1b89ea(0x423)](),this[_0x1b89ea(0x433)](),this[_0x1b89ea(0x64f)](),this[_0x1b89ea(0x122)]['clear'](),this[_0x1b89ea(0x1cd)]=!0x1,this[_0x1b89ea(0x5e8)][_0x1b89ea(0x52a)]['forEach'](_0x2a96db=>_0x2a96db[_0x1b89ea(0x160)]()),this[_0x1b89ea(0x2e5)](),super[_0x1b89ea(0x13a)]();}[_0x22e38d(0x297)](){const _0x256004=_0x22e38d;return!!this[_0x256004(0x16f)]&&super[_0x256004(0x297)]()&&Date[_0x256004(0x5c7)]()-this[_0x256004(0x16f)]<0x3a98;}async[_0x22e38d(0x4cf)](){const _0x31e893=_0x22e38d;this[_0x31e893(0x358)]&&(await this[_0x31e893(0x4c8)]['collectSendersStats'](this[_0x31e893(0x122)],(_0x1f603c,_0x3e966d)=>{const _0x7ab7bc=_0x31e893;_0x5426df({'type':_0x3e3725[_0x7ab7bc(0x603)],'streamId':_0x3e966d,'userId':this[_0x7ab7bc(0x2b0)],'stats':_0x1f603c},this[_0x7ab7bc(0x358)]);}),this['systemTopic'][_0x31e893(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x31e893(0x12e)],'content':{'type':_0x3e3725[_0x31e893(0x603)],'userId':this['remoteId'],'stats':{'origin':_0x46736a[_0x31e893(0x2a7)],'timestamp':Date[_0x31e893(0x5c7)](),'messagesSent':this[_0x31e893(0x693)],'bytesSent':this[_0x31e893(0x3f9)],'timeSending':this[_0x31e893(0x5d7)],'roundTripTime':this[_0x31e893(0x32c)]}}}));}async[_0x22e38d(0x526)](_0x17ab4d){const _0x25e626=_0x22e38d;_0x2858e9[_0x25e626(0x3a0)](_0x5abff4[_0x25e626(0x404)],_0x25e626(0x293),this[_0x25e626(0x33d)],this[_0x25e626(0x2b0)]),this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this[_0x25e626(0x64f)](),this['connectionTimeout']=setTimeout(()=>{const _0xbad7b=_0x25e626;this[_0xbad7b(0x653)]();},0x7530),this[_0x25e626(0x22e)]||(this[_0x25e626(0x22e)]=this[_0x25e626(0x4c8)]['createDataChannel'](_0x25e626(0x68c)),this[_0x25e626(0x22e)][_0x25e626(0x5f6)]=0x10000,this[_0x25e626(0x22e)]['onClose']=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x1a14c0=a0_0x104e;delete this['oncloseTimeout'],[_0x1a14c0(0x350),_0x1a14c0(0x36d)][_0x1a14c0(0x4c9)](this['dataChannel']?.[_0x1a14c0(0x62b)]??'')||this[_0x1a14c0(0x653)]();},0xfa);});const _0xf1f593=await this[_0x25e626(0x4c8)]['createOffer'](_0x17ab4d);this[_0x25e626(0x16f)]||(this['lastHeartbeat']=Date[_0x25e626(0x5c7)]());const _0x17c000=(0x0,_0x29559c['v4'])();this[_0x25e626(0x375)]({'type':_0x3e3725[_0x25e626(0x4e2)],'offer':_0xf1f593,'version':this[_0x25e626(0x13e)],'connectionType':this[_0x25e626(0x4f1)]},_0x17c000),this[_0x25e626(0x4f1)]===_0x1951cf[_0x25e626(0x1e1)]&&(this[_0x25e626(0x253)]=_0x30870d[_0x25e626(0x686)](()=>{const _0x51b620=_0x25e626;this[_0x51b620(0x375)]({'type':_0x3e3725[_0x51b620(0x4e2)],'offer':_0xf1f593,'version':this['currentVersion'],'connectionType':this['connectionType']},_0x17c000);},0x1388));}async[_0x22e38d(0x125)](_0x105110,_0x4453f9){const _0xdf0425=_0x22e38d;if(_0x4453f9===this[_0xdf0425(0x13e)]){this[_0xdf0425(0x64f)]();try{await this[_0xdf0425(0x4c8)][_0xdf0425(0x125)](_0x105110,this[_0xdf0425(0x526)]['bind'](this)),this[_0xdf0425(0x26d)](),this['clearConnectionTimeout'](),this[_0xdf0425(0x1de)]();}catch(_0x41ed31){this[_0xdf0425(0x653)]();}}}[_0x22e38d(0x4f9)](_0x4f88ad){const _0x3326c2=_0x22e38d;if(!this[_0x3326c2(0x22e)])throw new _0x461f79(_0x461f79[_0x3326c2(0x34a)]['InvalidDataChannel'],{'message':_0x3326c2(0x516),'localId':this['localId'],'remoteId':this['remoteId'],'eventMessage':_0x4f88ad});if('open'!==this[_0x3326c2(0x22e)][_0x3326c2(0x62b)])throw new _0x461f79(_0x461f79[_0x3326c2(0x34a)][_0x3326c2(0x29b)],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this['localId'],'remoteId':this[_0x3326c2(0x2b0)],'eventMessage':_0x4f88ad});let _0x1a6a14;if(_0x4f88ad[_0x3326c2(0x127)]['data']instanceof ArrayBuffer){const _0x3670bb=_0x4f88ad[_0x3326c2(0x127)][_0x3326c2(0x68c)];delete _0x4f88ad[_0x3326c2(0x127)][_0x3326c2(0x68c)],_0x1a6a14=this['mergeParts'](_0x4f88ad,_0x3670bb);}else _0x1a6a14=JSON[_0x3326c2(0x67a)](_0x4f88ad);if(_0x3326c2(0x20b)==typeof _0x1a6a14&&_0x1a6a14[_0x3326c2(0x1e7)]>_0x335ff2)return this[_0x3326c2(0x2ac)](_0x4f88ad,_0x1a6a14);const _0x3ada1b=0x0===_0x4f88ad[_0x3326c2(0x162)]&&[_0x120441[_0x3326c2(0x5b7)],_0x120441['PeerConnection']][_0x3326c2(0x4c9)](_0x4f88ad[_0x3326c2(0x461)])?_0x825906['High']:_0x4f88ad instanceof ArrayBuffer?_0x825906['Low']:_0x825906['Medium'];this['sendWithRetry'](_0x1a6a14,_0x3ada1b);}[_0x22e38d(0x25c)](_0x41e3d3,_0xaba4d,_0x1746dc,_0x1ebacb){const _0x5d7579=_0x22e38d,_0xcae246=(_0x469a04=this[_0x5d7579(0x115)],_0x30228a=this[_0x5d7579(0x59a)],Math[_0x5d7579(0x2db)](0xe1000*_0x469a04*_0x30228a));var _0x469a04,_0x30228a;const _0x3ac14b=this[_0x5d7579(0x122)]['get'](_0xaba4d['id'])||{'stream':_0xaba4d,'priority':_0x1746dc,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0xcae246,'maxBitrate':_0xcae246,'framerate':this[_0x5d7579(0x115)],'maxFramerate':this[_0x5d7579(0x115)],'tracks':{},'params':_0x1ebacb},_0x1984a6=_0x3ac14b['tracks'][_0x41e3d3[_0x5d7579(0x22d)]]||{'track':_0x41e3d3};if(_0x1984a6['sender']?(_0x1984a6[_0x5d7579(0x562)]=_0x41e3d3,this[_0x5d7579(0x4c8)][_0x5d7579(0x5bc)](_0x41e3d3,_0x1984a6[_0x5d7579(0x3f5)])):_0x1984a6[_0x5d7579(0x3f5)]=this[_0x5d7579(0x4c8)][_0x5d7579(0x25c)](_0x41e3d3,_0xaba4d),_0x3ac14b['tracks'][_0x41e3d3[_0x5d7579(0x22d)]]=_0x1984a6,_0x1ebacb&&(_0x3ac14b['params']=_0x1ebacb),_0x1ebacb&&'video'===_0x1ebacb[_0x5d7579(0x22d)]&&_0x1ebacb[_0x5d7579(0x13d)]&&_0x1ebacb['maxResolution']&&(_0x3ac14b[_0x5d7579(0x178)]=this[_0x5d7579(0x616)](_0x1ebacb[_0x5d7579(0x13d)],_0x1ebacb[_0x5d7579(0x6aa)]),_0x3ac14b[_0x5d7579(0x184)]=_0x3ac14b['resolutionScale'],_0x3ac14b[_0x5d7579(0x3ea)][_0x5d7579(0x4eb)]&&_0x3ac14b[_0x5d7579(0x3ea)][_0x5d7579(0x4eb)]['sender'])){const _0x5d457c=_0x3ac14b[_0x5d7579(0x3ea)][_0x5d7579(0x4eb)][_0x5d7579(0x3f5)];this[_0x5d7579(0x4c8)][_0x5d7579(0x20a)](_0x5d457c,Math[_0x5d7579(0x2db)](0xa*_0x3ac14b[_0x5d7579(0x178)])/0xa,_0x3ac14b[_0x5d7579(0x464)],_0x3ac14b[_0x5d7579(0x133)],_0x3ac14b[_0x5d7579(0x1d7)]);}this[_0x5d7579(0x122)][_0x5d7579(0x3dc)](_0xaba4d['id'],_0x3ac14b);}[_0x22e38d(0x25d)](_0x5d834d,_0x5923b8){const _0x33b3ab=_0x22e38d,_0x3db012=this['senders'][_0x33b3ab(0x61c)](_0x5d834d['id']);if(_0x3db012&&_0x3db012[_0x33b3ab(0x1d7)]!==_0x5923b8&&(_0x3db012[_0x33b3ab(0x1d7)]=_0x5923b8,_0x3db012[_0x33b3ab(0x3ea)]['video']&&_0x3db012['tracks']['video'][_0x33b3ab(0x3f5)])){const _0x51759d=_0x3db012[_0x33b3ab(0x3ea)][_0x33b3ab(0x4eb)][_0x33b3ab(0x3f5)];this[_0x33b3ab(0x4c8)][_0x33b3ab(0x20a)](_0x51759d,Math[_0x33b3ab(0x2db)](0xa*_0x3db012[_0x33b3ab(0x178)])/0xa,_0x3db012[_0x33b3ab(0x464)],_0x3db012[_0x33b3ab(0x133)],_0x3db012[_0x33b3ab(0x1d7)]);}}[_0x22e38d(0x2a4)](_0x8c32f3,_0xbd44ef){const _0x4b5f19=_0x22e38d,_0x138f9a=this[_0x4b5f19(0x122)]['get'](_0x8c32f3['id']);if(_0x138f9a){if(_0x138f9a['params']=_0xbd44ef,_0xbd44ef&&_0x4b5f19(0x4eb)===_0xbd44ef[_0x4b5f19(0x22d)]&&_0xbd44ef[_0x4b5f19(0x13d)]&&_0xbd44ef[_0x4b5f19(0x6aa)]){if(_0x138f9a[_0x4b5f19(0x184)]=this[_0x4b5f19(0x616)](_0xbd44ef[_0x4b5f19(0x13d)],_0xbd44ef[_0x4b5f19(0x6aa)]),_0x138f9a[_0x4b5f19(0x178)]<_0x138f9a[_0x4b5f19(0x184)]&&(_0x138f9a[_0x4b5f19(0x178)]=_0x138f9a[_0x4b5f19(0x184)]),_0x138f9a['tracks'][_0x4b5f19(0x4eb)]&&_0x138f9a[_0x4b5f19(0x3ea)][_0x4b5f19(0x4eb)][_0x4b5f19(0x3f5)]){const _0x15bd22=_0x138f9a[_0x4b5f19(0x3ea)][_0x4b5f19(0x4eb)]['sender'];this[_0x4b5f19(0x4c8)][_0x4b5f19(0x20a)](_0x15bd22,Math[_0x4b5f19(0x2db)](0xa*_0x138f9a[_0x4b5f19(0x178)])/0xa,_0x138f9a[_0x4b5f19(0x464)],_0x138f9a[_0x4b5f19(0x133)],_0x138f9a['priority']);}this[_0x4b5f19(0x51d)](),this[_0x4b5f19(0x31a)]();}this[_0x4b5f19(0x122)]['set'](_0x8c32f3['id'],_0x138f9a);}}[_0x22e38d(0x45a)](_0x12dab6,_0x5e24d5){const _0x332e1e=_0x22e38d,_0x312360=this[_0x332e1e(0x122)][_0x332e1e(0x61c)](_0x5e24d5['id']);if(_0x312360){const _0x3de52e=_0x312360[_0x332e1e(0x3ea)][_0x12dab6[_0x332e1e(0x22d)]];_0x3de52e&&(_0x3de52e[_0x332e1e(0x3f5)]&&this['connection'][_0x332e1e(0x45a)](_0x3de52e['sender']),_0x3de52e['track']=void 0x0);}}[_0x22e38d(0x30c)](_0x13632a){const _0xb7c4a5=_0x22e38d;this[_0xb7c4a5(0x51d)]();const _0x46f9ae=function(_0x8d3836,_0x4c3ef5){const _0x493f95=_0xb7c4a5;return _0x8d3836[_0x493f95(0x691)]((_0x38a82f,_0x187bbf)=>_0x4c3ef5['action']===_0x15c440[_0x493f95(0x41c)]?_0x187bbf[_0x493f95(0x1d7)]-_0x38a82f['priority']:_0x38a82f[_0x493f95(0x1d7)]-_0x187bbf['priority'])[_0x493f95(0x5de)](_0x97f660=>function(_0x2a7e96,_0x497df0){const _0x474c16=_0x493f95;if(_0x497df0[_0x474c16(0x134)]===_0x15c440[_0x474c16(0x41c)]){if(_0x497df0[_0x474c16(0x276)]===_0x59204a[_0x474c16(0x176)])return _0x2a7e96[_0x474c16(0x178)]<0x4||_0x2a7e96['maxFramerate']>0xf;if(_0x497df0['component']===_0x59204a[_0x474c16(0x49d)])return _0x2a7e96['maxBitrate']>_0x515228;}return _0x2a7e96[_0x474c16(0x178)]>_0x2a7e96[_0x474c16(0x184)]||_0x2a7e96[_0x474c16(0x464)]<_0x2a7e96['maxFramerate']||_0x2a7e96[_0x474c16(0x133)]<_0x2a7e96[_0x474c16(0x323)];}(_0x97f660,_0x4c3ef5));}(Array['from'](this[_0xb7c4a5(0x122)][_0xb7c4a5(0x1f4)]()),_0x13632a);if(_0x46f9ae&&(function(_0x3fc2d7,_0x17ca31){const _0x57dec9=_0xb7c4a5;_0x3fc2d7['tracks'][_0x57dec9(0x4eb)]&&_0x3fc2d7[_0x57dec9(0x3ea)][_0x57dec9(0x4eb)][_0x57dec9(0x3f5)]&&(_0x3fc2d7[_0x57dec9(0x178)]=function(_0x2157e7,_0x44d41b,_0xce205f){const _0x2f3712=_0x57dec9;switch(_0xce205f['action']){case _0x15c440[_0x2f3712(0x41c)]:_0xce205f[_0x2f3712(0x276)]===_0x59204a['Resolution']&&(_0x2157e7+=0.5)>0x4&&(_0x2157e7=0x4);break;case _0x15c440['Upgrade']:(_0x2157e7-=0.5)<_0x44d41b&&(_0x2157e7=_0x44d41b);}return _0x2157e7;}(_0x3fc2d7[_0x57dec9(0x178)],_0x3fc2d7[_0x57dec9(0x184)],_0x17ca31),_0x3fc2d7['framerate']=function(_0x2ffecd,_0x1e754e,_0x4a1c99){const _0x431911=_0x57dec9;switch(_0x4a1c99[_0x431911(0x134)]){case _0x15c440[_0x431911(0x41c)]:_0x4a1c99[_0x431911(0x276)]===_0x59204a[_0x431911(0x176)]&&(_0x2ffecd-=0x3)<0xf&&(_0x2ffecd=0xf);break;case _0x15c440['Upgrade']:(_0x2ffecd+=0x3)>_0x1e754e&&(_0x2ffecd=_0x1e754e);}return _0x2ffecd;}(_0x3fc2d7[_0x57dec9(0x464)],_0x3fc2d7['maxFramerate'],_0x17ca31),_0x3fc2d7[_0x57dec9(0x133)]=function(_0x22f118,_0x35e8c0,_0x167b0d){const _0x13a372=_0x57dec9;switch(_0x167b0d[_0x13a372(0x134)]){case _0x15c440['Downgrade']:_0x167b0d[_0x13a372(0x276)]===_0x59204a[_0x13a372(0x49d)]&&(_0x22f118*=0.75)<_0x515228&&(_0x22f118=_0x515228);break;case _0x15c440['Upgrade']:(_0x22f118*=1.25)>_0x35e8c0&&(_0x22f118=_0x35e8c0);}return _0x22f118;}(_0x3fc2d7[_0x57dec9(0x133)],_0x3fc2d7[_0x57dec9(0x323)],_0x17ca31));}(_0x46f9ae,_0x13632a),_0x46f9ae[_0xb7c4a5(0x3ea)][_0xb7c4a5(0x4eb)]&&_0x46f9ae[_0xb7c4a5(0x3ea)][_0xb7c4a5(0x4eb)]['sender'])){const _0x2d6c02=_0x46f9ae[_0xb7c4a5(0x3ea)][_0xb7c4a5(0x4eb)][_0xb7c4a5(0x3f5)];this['connection'][_0xb7c4a5(0x20a)](_0x2d6c02,Math[_0xb7c4a5(0x2db)](0xa*_0x46f9ae[_0xb7c4a5(0x178)])/0xa,_0x46f9ae[_0xb7c4a5(0x464)],_0x46f9ae[_0xb7c4a5(0x133)],_0x46f9ae[_0xb7c4a5(0x1d7)]);}(_0x46f9ae||_0x13632a['action']===_0x15c440[_0xb7c4a5(0x41c)])&&this[_0xb7c4a5(0x31a)]();}[_0x22e38d(0x132)](){const _0x456b10=_0x22e38d;super[_0x456b10(0x132)](),this[_0x456b10(0x2e5)](),this[_0x456b10(0x64f)](),this[_0x456b10(0x122)][_0x456b10(0x237)](_0x439879=>{const _0x324224=_0x456b10;_0x439879[_0x324224(0x3ea)][_0x324224(0x4eb)]&&(_0x439879[_0x324224(0x3ea)][_0x324224(0x4eb)][_0x324224(0x3f5)]=void 0x0),_0x439879['tracks'][_0x324224(0x19e)]&&(_0x439879[_0x324224(0x3ea)]['audio'][_0x324224(0x3f5)]=void 0x0);}),this[_0x456b10(0x1cd)]=!0x0;}async[_0x22e38d(0x64d)](){return new Promise(async _0x59ab00=>{const _0x14f8dd=a0_0x104e;if(!this['dataChannel']||_0x14f8dd(0x36d)!==this['dataChannel']['state'])return await _0x30870d['wait'](0x64),void _0x59ab00();this[_0x14f8dd(0x22e)][_0x14f8dd(0x2c0)]<0x10000?_0x59ab00():this[_0x14f8dd(0x22e)]['onBufferedAmountLow']=()=>{const _0x5d5bd8=_0x14f8dd;this['dataChannel']&&(this[_0x5d5bd8(0x22e)][_0x5d5bd8(0x224)]=null),_0x59ab00();};});}[_0x22e38d(0x2ac)](_0x54831a,_0x119557){const _0x32720c=_0x22e38d,_0x4cc405=[];for(let _0x90bc1c=0x0;_0x90bc1c<_0x119557[_0x32720c(0x1e7)];_0x90bc1c+=_0x335ff2)_0x4cc405[_0x32720c(0x386)](_0x119557['slice'](_0x90bc1c,_0x90bc1c+_0x335ff2));for(const _0x4fd323 of _0x4cc405)this['sendWithRetry'](_0x1b24a6+';'+_0x54831a[_0x32720c(0x2d0)]+';'+_0x4cc405[_0x32720c(0x252)](_0x4fd323)+';'+_0x4cc405[_0x32720c(0x1e7)]+';'+_0x4fd323,_0x825906[_0x32720c(0x24c)]);}async[_0x22e38d(0x1fd)](_0x4262ee,_0x1cc6ea){const _0x24f143=_0x22e38d;_0x4262ee===_0x48a352?this['retryQueue'][_0x24f143(0x52a)][_0x1cc6ea][_0x24f143(0x320)]?.[_0x24f143(0x14b)]!==_0x48a352&&this[_0x24f143(0x5e8)][_0x24f143(0x52a)][_0x1cc6ea][_0x24f143(0x3c6)](_0x4262ee):this[_0x24f143(0x5e8)][_0x24f143(0x52a)][_0x1cc6ea][_0x24f143(0x386)](_0x4262ee);}[_0x22e38d(0x2e6)](_0x3aa822){const _0x44400a=_0x22e38d;if(!this['dataChannel']||'open'!==this[_0x44400a(0x22e)][_0x44400a(0x62b)])throw new Error(_0x44400a(0x284));const _0xfc15d1=Date[_0x44400a(0x5c7)]();_0x3aa822!==_0x48a352&&(this[_0x44400a(0x693)]+=0x1,this[_0x44400a(0x3f9)]+=_0x3aa822 instanceof ArrayBuffer?_0x3aa822[_0x44400a(0x1c8)]:_0x3aa822[_0x44400a(0x1e7)]),ArrayBuffer,this[_0x44400a(0x22e)][_0x44400a(0x4f9)](_0x3aa822),this[_0x44400a(0x5d7)]+=Date[_0x44400a(0x5c7)]()-_0xfc15d1;}['startHeartbeat'](){const _0x3705c3=_0x22e38d;this[_0x3705c3(0x474)]&&this[_0x3705c3(0x4b1)]();let _0x5188ad=!0x0,_0x5b798c=Date[_0x3705c3(0x5c7)]();this[_0x3705c3(0x16f)]=Date[_0x3705c3(0x5c7)](),this[_0x3705c3(0x22e)][_0x3705c3(0x5a3)]=_0x333b10=>{const _0x47ca0b=_0x3705c3;'1'===_0x333b10[_0x47ca0b(0x68c)]&&(this[_0x47ca0b(0x32c)]=Date[_0x47ca0b(0x5c7)]()-_0x5b798c,_0x5188ad&&this[_0x47ca0b(0x375)]({'type':_0x3e3725['Success']}),_0x5188ad=!0x1,this['lastHeartbeat']=Date['now'](),this[_0x47ca0b(0x1cd)]&&(this['isReconnecting']=!0x1,this['handleMissingSenders']()));},this['heartbeatUnsubscriber']=_0x30870d[_0x3705c3(0x686)](()=>{const _0x1c08c8=_0x3705c3;_0x5b798c=Date[_0x1c08c8(0x5c7)](),this['sendWithRetry'](_0x48a352,_0x825906[_0x1c08c8(0x654)]),Date[_0x1c08c8(0x5c7)]()-this[_0x1c08c8(0x16f)]>(_0x5188ad?0x15f90:0x3a98)&&this[_0x1c08c8(0x653)]();},0xbb8);}['handleMissingSenders'](){const _0x1ca6c3=_0x22e38d;this[_0x1ca6c3(0x122)][_0x1ca6c3(0x237)](_0xf2c4ad=>{const _0x3d13c0=_0x1ca6c3;_0xf2c4ad[_0x3d13c0(0x3ea)][_0x3d13c0(0x4eb)]&&_0xf2c4ad['tracks'][_0x3d13c0(0x4eb)][_0x3d13c0(0x562)]&&!_0xf2c4ad[_0x3d13c0(0x3ea)][_0x3d13c0(0x4eb)][_0x3d13c0(0x3f5)]&&(_0xf2c4ad[_0x3d13c0(0x3ea)][_0x3d13c0(0x4eb)]['sender']=this[_0x3d13c0(0x4c8)][_0x3d13c0(0x25c)](_0xf2c4ad[_0x3d13c0(0x3ea)][_0x3d13c0(0x4eb)][_0x3d13c0(0x562)],_0xf2c4ad[_0x3d13c0(0x469)])),_0xf2c4ad[_0x3d13c0(0x3ea)][_0x3d13c0(0x19e)]&&_0xf2c4ad[_0x3d13c0(0x3ea)][_0x3d13c0(0x19e)][_0x3d13c0(0x562)]&&!_0xf2c4ad[_0x3d13c0(0x3ea)][_0x3d13c0(0x19e)][_0x3d13c0(0x3f5)]&&(_0xf2c4ad[_0x3d13c0(0x3ea)]['audio'][_0x3d13c0(0x3f5)]=this[_0x3d13c0(0x4c8)]['addTrack'](_0xf2c4ad[_0x3d13c0(0x3ea)][_0x3d13c0(0x19e)][_0x3d13c0(0x562)],_0xf2c4ad[_0x3d13c0(0x469)]));});}['sendIceCandidates'](){const _0x2d4164=_0x22e38d;this[_0x2d4164(0x375)]({'type':_0x3e3725['Handshake'],'candidates':this[_0x2d4164(0x124)],'origin':_0x46736a[_0x2d4164(0x2a7)],'version':this[_0x2d4164(0x13e)],'connectionType':this[_0x2d4164(0x4f1)]});}[_0x22e38d(0x280)](){const _0x24fc1b=_0x22e38d;super['setupConnectionEvents'](),this['connection']['onHandshakeStateChange']=()=>{const _0x1b94f6=a0_0x104e;if(_0x1b94f6(0x147)===this[_0x1b94f6(0x4c8)][_0x1b94f6(0x45e)]){if(_0x2858e9['log'](_0x5abff4[_0x1b94f6(0x402)],_0x1b94f6(0x415),this[_0x1b94f6(0x33d)],this[_0x1b94f6(0x2b0)]),this[_0x1b94f6(0x4c8)][_0x1b94f6(0x3e5)])return void this['connection'][_0x1b94f6(0x263)]();this['createOffer']({'handshakeRestart':!0x0});}},this[_0x24fc1b(0x4c8)][_0x24fc1b(0x60e)]=()=>{const _0x6c8fd3=_0x24fc1b;_0x6c8fd3(0x39f)!==this[_0x6c8fd3(0x4c8)][_0x6c8fd3(0x131)]&&'failed'!==this[_0x6c8fd3(0x4c8)][_0x6c8fd3(0x131)]||this['handleDisconnect']();};}['handleDisconnect'](){const _0x4cc008=_0x22e38d;this[_0x4cc008(0x4b1)](),this[_0x4cc008(0x423)](),this[_0x4cc008(0x433)](),_0x2858e9[_0x4cc008(0x683)](_0x4cc008(0x156),{'clusterId':this['clusterId'],'userId':this[_0x4cc008(0x33d)],'remoteId':this['remoteId'],'data':{'connectionType':this['connectionType'],'connectionState':this[_0x4cc008(0x4c8)]['connectionState'],'iceConnectionState':this[_0x4cc008(0x4c8)][_0x4cc008(0x45e)],'signalingState':this[_0x4cc008(0x4c8)][_0x4cc008(0x60f)],'readyState':this[_0x4cc008(0x22e)]?.['state']||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x4cc008(0x5c7)]()-this[_0x4cc008(0x16f)]:'','retryQueue':this[_0x4cc008(0x5e8)]}}),(this[_0x4cc008(0x16f)]&&Date[_0x4cc008(0x5c7)]()-this[_0x4cc008(0x16f)]>0xea60)??0x1?this[_0x4cc008(0x358)][_0x4cc008(0x3c2)]({'sourceId':this[_0x4cc008(0x2b0)],'destinationIds':[this[_0x4cc008(0x33d)]],'messageType':_0x120441['PeerConnection'],'content':{'type':_0x3e3725[_0x4cc008(0x588)]}}):(this['resetConnection'](),this['publishSystemMessage']({'type':_0x3e3725[_0x4cc008(0x227)],'version':this[_0x4cc008(0x13e)],'connectionType':this[_0x4cc008(0x4f1)]}),this[_0x4cc008(0x307)]=setTimeout(()=>{const _0x33cce7=_0x4cc008;this[_0x33cce7(0x653)]();},0x7530));}[_0x22e38d(0x4b1)](){const _0x29cf0d=_0x22e38d;this[_0x29cf0d(0x474)]?.(),delete this[_0x29cf0d(0x474)];}['clearConnectionTimeout'](){const _0x5c0e56=_0x22e38d;this[_0x5c0e56(0x10f)]&&(clearTimeout(this[_0x5c0e56(0x10f)]),delete this[_0x5c0e56(0x10f)]);}['clearRestartTimeout'](){const _0x89609=_0x22e38d;this[_0x89609(0x307)]&&(clearTimeout(this[_0x89609(0x307)]),delete this['restartTimeout']);}[_0x22e38d(0x51d)](){const _0x5705ff=_0x22e38d;this[_0x5705ff(0x226)]&&(clearTimeout(this[_0x5705ff(0x226)]),delete this[_0x5705ff(0x226)]);}[_0x22e38d(0x31a)](){const _0x30a9bd=_0x22e38d;this[_0x30a9bd(0x226)]=setTimeout(()=>{const _0x474c1d=_0x30a9bd;this[_0x474c1d(0x30c)]({'type':_0x4ca98a['Remediation'],'action':_0x15c440['Upgrade']});},0x3a98);}['getResolutionScale'](_0xeeb632,_0x59b3b5){const _0x4d6536=_0x22e38d,_0x5a585b=Math[_0x4d6536(0x67d)](_0xeeb632['width']/_0x59b3b5[_0x4d6536(0x256)],_0xeeb632['height']/_0x59b3b5[_0x4d6536(0x537)]);return Math[_0x4d6536(0x214)](Math[_0x4d6536(0x67d)](_0x5a585b,0x1),0x4);}[_0x22e38d(0x64f)](){const _0x341219=_0x22e38d;this['waitAnswer']?.(),delete this[_0x341219(0x253)];}[_0x22e38d(0x2e5)](){const _0x2237f6=_0x22e38d;this['oncloseTimeout']&&(clearTimeout(this[_0x2237f6(0x37a)]),delete this[_0x2237f6(0x37a)]);}[_0x22e38d(0x333)](_0x47dda0){const _0x209878=_0x22e38d,_0x346adb=JSON['stringify'](_0x47dda0);return new TextEncoder()[_0x209878(0x4f3)](_0x346adb)[_0x209878(0x1ab)];}[_0x22e38d(0x435)](_0x290321,_0x338f07){const _0xf62ec1=_0x22e38d,_0x331ce6=this[_0xf62ec1(0x333)](_0x290321),_0x252944=new Uint8Array(0x4),_0x222ecf=new Uint8Array(_0x331ce6),_0x29afa6=new Uint8Array(_0x338f07);_0x252944[_0xf62ec1(0x3dc)](new Uint8Array(new Uint32Array([_0x222ecf[_0xf62ec1(0x1e7)]])[_0xf62ec1(0x1ab)]));const _0x543886=new Uint8Array(0x4+_0x222ecf[_0xf62ec1(0x1e7)]+_0x29afa6[_0xf62ec1(0x1e7)]);return _0x543886[_0xf62ec1(0x3dc)](_0x252944),_0x543886[_0xf62ec1(0x3dc)](_0x222ecf,0x4),_0x543886['set'](_0x29afa6,0x4+_0x222ecf[_0xf62ec1(0x1e7)]),_0x543886[_0xf62ec1(0x1ab)];}}class _0x37d9b3 extends _0x4f3713{[_0x22e38d(0x490)];[_0x22e38d(0x4f1)];[_0x22e38d(0x115)];[_0x22e38d(0x59a)];[_0x22e38d(0x169)];[_0x22e38d(0x140)];['receiverConnection'];[_0x22e38d(0x40e)]=[];[_0x22e38d(0x55e)]=_0x50f1e0();['trackListeners']=_0x50f1e0();[_0x22e38d(0x417)]=_0x50f1e0();['listenerUnsubscribers']=[];[_0x22e38d(0x358)];[_0x22e38d(0x4d3)]=new Map();['dataUnsubscribers']=new Map();['mediaTopics']=new Map();['mediaUnsubscribers']=new Map();[_0x22e38d(0x10b)]=!0x1;constructor(_0x4a5a91,_0x555f53,_0x5a47f6,_0x10bbf5,_0x16a8c9,_0x56bd4d,_0x41f8c5,_0xbab067){const _0x7001f9=_0x22e38d;super(_0x4a5a91,_0x555f53,_0x5a47f6),this['iceServers']=_0x10bbf5,this[_0x7001f9(0x4f1)]=_0x16a8c9,this[_0x7001f9(0x115)]=_0x56bd4d,this[_0x7001f9(0x59a)]=_0x41f8c5,this[_0x7001f9(0x169)]=_0xbab067;}[_0x22e38d(0x173)](_0x2b87e3){const _0x17d96a=_0x22e38d;switch(_0x2b87e3[_0x17d96a(0x428)]()){case _0x35274c[_0x17d96a(0x47f)]:case _0x35274c[_0x17d96a(0x53f)]:case _0x35274c[_0x17d96a(0x157)]:case _0x35274c[_0x17d96a(0x5a2)]:this[_0x17d96a(0x4d3)][_0x17d96a(0x3dc)](_0x2b87e3[_0x17d96a(0x5c4)](),_0x2b87e3);break;case _0x35274c[_0x17d96a(0x6c4)]:this[_0x17d96a(0x58e)][_0x17d96a(0x3dc)](_0x2b87e3['getLabel'](),_0x2b87e3);}}['unregisterPublisher'](_0x18e45d){const _0x5371d0=_0x22e38d;switch(_0x18e45d[_0x5371d0(0x428)]()){case _0x35274c[_0x5371d0(0x47f)]:case _0x35274c[_0x5371d0(0x53f)]:case _0x35274c['ObjectStore']:case _0x35274c[_0x5371d0(0x5a2)]:this[_0x5371d0(0x4d3)][_0x5371d0(0x421)](_0x18e45d['getLabel']());break;case _0x35274c[_0x5371d0(0x6c4)]:this[_0x5371d0(0x58e)]['delete'](_0x18e45d[_0x5371d0(0x5c4)]());}}['registerSubscriber'](_0x44844a){const _0x1d8eed=_0x22e38d;switch(_0x44844a[_0x1d8eed(0x428)]()){case _0x35274c[_0x1d8eed(0x47f)]:case _0x35274c['PubSub']:case _0x35274c[_0x1d8eed(0x157)]:case _0x35274c['KeyValueDatabase']:{const _0x2ce644=_0x44844a['subscribe'](_0x3c2a0f=>{const _0x3398f1=_0x1d8eed;_0xb6c235(_0x3c2a0f,this['localId'])&&_0x42fc9e(_0x3c2a0f,this[_0x3398f1(0x2b0)])&&this['send'](_0x3c2a0f);});this[_0x1d8eed(0x364)][_0x1d8eed(0x3dc)](_0x44844a[_0x1d8eed(0x5c4)](),_0x2ce644);break;}case _0x35274c[_0x1d8eed(0x6c4)]:{const _0x3ef9fc=_0x44844a[_0x1d8eed(0x51e)](({content:_0xc91609})=>{const _0xa0e948=_0x1d8eed;switch(_0xc91609['action']){case _0x43b291[_0xa0e948(0x27e)]:this['addTrack'](_0xc91609['track'],_0xc91609[_0xa0e948(0x469)],_0xc91609[_0xa0e948(0x1d7)],_0xc91609['params']);break;case _0x43b291[_0xa0e948(0x3c5)]:this[_0xa0e948(0x45a)](_0xc91609[_0xa0e948(0x562)],_0xc91609['stream']);break;case _0x43b291[_0xa0e948(0x39a)]:_0xc91609['priority']&&this[_0xa0e948(0x25d)](_0xc91609[_0xa0e948(0x469)],_0xc91609[_0xa0e948(0x1d7)]),_0xc91609[_0xa0e948(0x1ea)]&&this[_0xa0e948(0x2a4)](_0xc91609[_0xa0e948(0x469)],_0xc91609[_0xa0e948(0x1ea)]);}});this[_0x1d8eed(0x5e7)][_0x1d8eed(0x3dc)](_0x44844a[_0x1d8eed(0x5c4)](),_0x3ef9fc);break;}}}['unregisterSubscriber'](_0x2d29d3){const _0x3ba5c5=_0x22e38d;switch(_0x2d29d3['getContentType']()){case _0x35274c[_0x3ba5c5(0x47f)]:case _0x35274c[_0x3ba5c5(0x53f)]:case _0x35274c['ObjectStore']:case _0x35274c[_0x3ba5c5(0x5a2)]:this['dataUnsubscribers'][_0x3ba5c5(0x61c)](_0x2d29d3['getLabel']())?.(),this[_0x3ba5c5(0x364)][_0x3ba5c5(0x421)](_0x2d29d3[_0x3ba5c5(0x5c4)]());break;case _0x35274c[_0x3ba5c5(0x6c4)]:this[_0x3ba5c5(0x5e7)]['get'](_0x2d29d3['getLabel']())?.(),this[_0x3ba5c5(0x5e7)][_0x3ba5c5(0x421)](_0x2d29d3[_0x3ba5c5(0x5c4)]());}}[_0x22e38d(0x661)](){const _0x5c24ef=_0x22e38d;return[_0x35274c[_0x5c24ef(0x47f)],_0x35274c[_0x5c24ef(0x6c4)],_0x35274c[_0x5c24ef(0x53f)],_0x35274c[_0x5c24ef(0x157)],_0x35274c[_0x5c24ef(0x5a2)]];}[_0x22e38d(0x45c)](_0x32b773){const _0x3c1a98=_0x22e38d;this[_0x3c1a98(0x358)]=_0x32b773;}[_0x22e38d(0x43f)](){const _0x4a8920=_0x22e38d;delete this[_0x4a8920(0x358)];}async[_0x22e38d(0x621)](){const _0x186c22=_0x22e38d;this[_0x186c22(0x1b3)](),await this['createOffer']();}[_0x22e38d(0x13a)](){const _0x4d87bd=_0x22e38d;this[_0x4d87bd(0x23c)][_0x4d87bd(0x237)](_0x2f191e=>_0x2f191e()),this[_0x4d87bd(0x23c)]=[],this[_0x4d87bd(0x140)]?.[_0x4d87bd(0x43f)](),this[_0x4d87bd(0x140)]?.[_0x4d87bd(0x13a)](),delete this[_0x4d87bd(0x140)],this[_0x4d87bd(0x40e)][_0x4d87bd(0x237)](_0x1bfac4=>_0x1bfac4()),this[_0x4d87bd(0x40e)]=[],this[_0x4d87bd(0x40a)]?.[_0x4d87bd(0x43f)](),this[_0x4d87bd(0x40a)]?.['close'](),delete this[_0x4d87bd(0x40a)];}[_0x22e38d(0x297)](){const _0x3217af=_0x22e38d;return this['senderConnection']?.[_0x3217af(0x297)]()&&this[_0x3217af(0x40a)]?.['isConnected']()||!0x1;}[_0x22e38d(0x4f9)](_0x4e616f){const _0x2d9296=_0x22e38d;if(!this[_0x2d9296(0x140)]||!this[_0x2d9296(0x297)]())throw new _0x461f79(_0x461f79[_0x2d9296(0x34a)][_0x2d9296(0x3a4)],{'message':_0x2d9296(0x1c2),'senderConnected':this[_0x2d9296(0x140)]?.[_0x2d9296(0x297)](),'receiverConnected':this[_0x2d9296(0x40a)]?.[_0x2d9296(0x297)](),'localId':this['localId'],'remoteId':this[_0x2d9296(0x2b0)],'data':_0x4e616f});this[_0x2d9296(0x140)]['send'](_0x4e616f);}[_0x22e38d(0x5a3)](_0x448fb7){const _0x39ba86=_0x22e38d;return this['messageListeners'][_0x39ba86(0x51e)](_0x448fb7);}[_0x22e38d(0x148)](_0x539983){const _0x577107=_0x22e38d;return this[_0x577107(0x2bf)][_0x577107(0x51e)](({track:_0x109a66,stream:_0xd98729})=>_0x539983(_0x109a66,_0xd98729));}['onRemoveTrack'](_0x2c2558){const _0x199c31=_0x22e38d;return this[_0x199c31(0x417)]['subscribe'](({track:_0x489c70,stream:_0x39b61c})=>_0x2c2558(_0x489c70,_0x39b61c));}[_0x22e38d(0x25c)](_0x54c0d5,_0x1a86ed,_0xbb175c,_0x4fe8cc){const _0x2994c9=_0x22e38d;this[_0x2994c9(0x140)]?.[_0x2994c9(0x25c)](_0x54c0d5,_0x1a86ed,_0xbb175c,_0x4fe8cc);}[_0x22e38d(0x25d)](_0x41e347,_0x5137b9){const _0x5b8f5e=_0x22e38d;this[_0x5b8f5e(0x140)]?.[_0x5b8f5e(0x25d)](_0x41e347,_0x5137b9);}[_0x22e38d(0x2a4)](_0x228747,_0x53e4a9){const _0x415ba2=_0x22e38d;this[_0x415ba2(0x140)]?.[_0x415ba2(0x2a4)](_0x228747,_0x53e4a9);}[_0x22e38d(0x45a)](_0x3cc63b,_0x56d7fd){const _0x1950a2=_0x22e38d;this['senderConnection']?.[_0x1950a2(0x45a)](_0x3cc63b,_0x56d7fd);}async[_0x22e38d(0x3a6)](_0x2f0757){const _0x3b2969=_0x22e38d;_0x2858e9[_0x3b2969(0x3a0)](_0x5abff4[_0x3b2969(0x404)],_0x3b2969(0x3b4),this[_0x3b2969(0x33d)],_0x2f0757);const {content:_0x36353e}=_0x2f0757;switch(_0x36353e[_0x3b2969(0x1a1)]){case _0x3e3725[_0x3b2969(0x4e2)]:await this['handleOffer'](_0x36353e);break;case _0x3e3725['Answer']:await this[_0x3b2969(0x125)](_0x36353e);break;case _0x3e3725[_0x3b2969(0x695)]:this[_0x3b2969(0x15f)]();break;case _0x3e3725[_0x3b2969(0x2d7)]:await this[_0x3b2969(0x2e9)](_0x36353e);break;case _0x3e3725[_0x3b2969(0x227)]:this[_0x3b2969(0x42e)](_0x36353e);break;case _0x3e3725['Restart']:await this[_0x3b2969(0x526)]();}}['handleRemediationSystemEvents'](_0xd5a4d9){const _0x47bce7=_0x22e38d;this[_0x47bce7(0x140)]?.[_0x47bce7(0x30c)](_0xd5a4d9[_0x47bce7(0x127)][_0x47bce7(0x68c)]);}['getConnectionType'](){return this['connectionType'];}[_0x22e38d(0x3d3)](_0x2806b8){const _0x5a1e55=_0x22e38d;this['connectionType']=_0x2806b8,this[_0x5a1e55(0x140)]?.[_0x5a1e55(0x3d3)](_0x2806b8),this['receiverConnection']?.[_0x5a1e55(0x3d3)](_0x2806b8);}async[_0x22e38d(0x4cf)](){const _0x3a676c=_0x22e38d;await this[_0x3a676c(0x140)]?.[_0x3a676c(0x4cf)](),await this[_0x3a676c(0x40a)]?.[_0x3a676c(0x4cf)]();}[_0x22e38d(0x1b3)](){const _0x319c03=_0x22e38d;this['listenerUnsubscribers'][_0x319c03(0x386)](this[_0x319c03(0x5a3)](_0x2ed9fa=>{const _0x18c82e=_0x319c03;_0x42fc9e(_0x2ed9fa,this['localId'])&&0x0!==_0x2ed9fa[_0x18c82e(0x162)]&&this[_0x18c82e(0x4d3)]['get'](_0x2ed9fa[_0x18c82e(0x162)])?.['publish'](_0x2ed9fa);})),this[_0x319c03(0x23c)][_0x319c03(0x386)](this['onTrack']((_0x1e43b7,_0x24974d)=>{const _0x28fce4=_0x319c03,_0x27f04a=_0x53c504(_0x35274c[_0x28fce4(0x6c4)],_0x24974d['id'],this[_0x28fce4(0x2b0)]);this[_0x28fce4(0x58e)][_0x28fce4(0x61c)](_0x27f04a)?.['publish']({'topicLabel':_0x27f04a,'sourceId':this[_0x28fce4(0x2b0)],'contentType':_0x35274c['Media'],'content':{'action':_0x43b291[_0x28fce4(0x211)],'track':_0x1e43b7,'stream':_0x24974d,'providerId':this[_0x28fce4(0x2b0)]}});})),this[_0x319c03(0x23c)][_0x319c03(0x386)](this['onRemoveTrack']((_0x226358,_0x13e3bb)=>{const _0x1704e3=_0x319c03,_0x4a0ff4=_0x53c504(_0x35274c[_0x1704e3(0x6c4)],_0x13e3bb['id'],this['remoteId']);this[_0x1704e3(0x58e)][_0x1704e3(0x61c)](_0x4a0ff4)?.[_0x1704e3(0x3c2)]({'topicLabel':_0x4a0ff4,'sourceId':this[_0x1704e3(0x2b0)],'contentType':_0x35274c[_0x1704e3(0x6c4)],'content':{'action':_0x43b291[_0x1704e3(0x3db)],'track':_0x226358,'stream':_0x13e3bb,'providerId':this[_0x1704e3(0x2b0)]}});}));}[_0x22e38d(0x2e9)]({candidates:_0x4e3567,origin:_0x1797dd,version:_0x2b3c45}){const _0xf4811d=_0x22e38d;return _0x1797dd===_0x46736a[_0xf4811d(0x2a7)]?(this['receiverConnection']||this[_0xf4811d(0x27b)](),this[_0xf4811d(0x40a)][_0xf4811d(0x29f)](_0x4e3567,_0x2b3c45)):this['senderConnection'][_0xf4811d(0x29f)](_0x4e3567,_0x2b3c45);}async[_0x22e38d(0x526)](){const _0x1fc770=_0x22e38d;this[_0x1fc770(0x140)]||this[_0x1fc770(0x485)](),await this[_0x1fc770(0x140)]['createOffer']();}async['handleOffer']({offer:_0x2346d6,version:_0x28f544}){const _0x584fc4=_0x22e38d;this[_0x584fc4(0x40a)]||this[_0x584fc4(0x27b)](),await this['receiverConnection'][_0x584fc4(0x592)](_0x2346d6,_0x28f544);}async[_0x22e38d(0x125)]({answer:_0x4a8600,version:_0x5e32a1}){const _0x3a0e76=_0x22e38d;if(!this[_0x3a0e76(0x140)])throw new _0x461f79(_0x461f79[_0x3a0e76(0x34a)][_0x3a0e76(0x3a4)],{'message':'Sender\x20connection\x20is\x20not\x20initialized.','localId':this[_0x3a0e76(0x33d)],'remoteId':this['remoteId'],'answer':_0x4a8600});await this['senderConnection']['handleAnswer'](_0x4a8600,_0x5e32a1);}[_0x22e38d(0x15f)](){const _0x429c0f=_0x22e38d;if(!this['receiverConnection'])throw new _0x461f79(_0x461f79[_0x429c0f(0x34a)][_0x429c0f(0x3a4)],{'message':_0x429c0f(0x330),'localId':this['localId'],'remoteId':this['remoteId']});this[_0x429c0f(0x40a)][_0x429c0f(0x15f)](),this[_0x429c0f(0x10b)]||this[_0x429c0f(0x4f1)]!==_0x1951cf[_0x429c0f(0x32a)]||(this[_0x429c0f(0x10b)]=!0x0,this['systemTopic']?.[_0x429c0f(0x3c2)]({'sourceId':this[_0x429c0f(0x2b0)],'destinationIds':[this['localId']],'messageType':_0x120441['PeerConnection'],'content':{'type':_0x3e3725['OptimizationConnectionSuccess']}}));}[_0x22e38d(0x42e)](_0x57a7b5){const _0x20aaaa=_0x22e38d;this[_0x20aaaa(0x40a)]||this['createReceiverConnection'](),this[_0x20aaaa(0x40a)][_0x20aaaa(0x42e)](_0x57a7b5[_0x20aaaa(0x66b)]);}[_0x22e38d(0x485)](){const _0x3e6cc7=_0x22e38d;this[_0x3e6cc7(0x140)]=new _0x9a0b6f(this['clusterId'],this[_0x3e6cc7(0x33d)],this['remoteId'],this[_0x3e6cc7(0x490)],this[_0x3e6cc7(0x4f1)],this[_0x3e6cc7(0x115)],this[_0x3e6cc7(0x59a)],this[_0x3e6cc7(0x169)]),this[_0x3e6cc7(0x140)][_0x3e6cc7(0x45c)](this[_0x3e6cc7(0x358)]);}[_0x22e38d(0x27b)](){const _0x5b670d=_0x22e38d;this['receiverConnection']=new _0x3ac85a(this[_0x5b670d(0x262)],this[_0x5b670d(0x33d)],this[_0x5b670d(0x2b0)],this[_0x5b670d(0x490)],this['connectionType'],this[_0x5b670d(0x169)]),this[_0x5b670d(0x40a)][_0x5b670d(0x45c)](this[_0x5b670d(0x358)]),this[_0x5b670d(0x40e)][_0x5b670d(0x386)](this[_0x5b670d(0x40a)]['onMessage'](_0x4d7a77=>this[_0x5b670d(0x55e)]['publish'](_0x4d7a77))),this['receiverUnsubscribers']['push'](this[_0x5b670d(0x40a)][_0x5b670d(0x148)]((_0x479a57,_0x22300d)=>this[_0x5b670d(0x2bf)]['publish']({'track':_0x479a57,'stream':_0x22300d}))),this[_0x5b670d(0x40e)][_0x5b670d(0x386)](this[_0x5b670d(0x40a)][_0x5b670d(0x29c)]((_0x1263a8,_0x33659d)=>this[_0x5b670d(0x417)][_0x5b670d(0x3c2)]({'track':_0x1263a8,'stream':_0x33659d})));}}class _0x55c0d0{['localId'];[_0x22e38d(0x54e)];['graphService'];[_0x22e38d(0x48a)]=new Map();[_0x22e38d(0x55e)]=_0x50f1e0();[_0x22e38d(0x182)];['dataTopics']=new Map();[_0x22e38d(0x364)]=new Map();[_0x22e38d(0x1f8)]=new Map();constructor(_0x1877c8,_0x1a91ff,_0x5d4100){const _0x4c8e66=_0x22e38d;this['localId']=_0x1877c8,this['messageBuffer']=_0x1a91ff,this[_0x4c8e66(0x5b0)]=_0x5d4100,this[_0x4c8e66(0x182)]=this[_0x4c8e66(0x5a3)](_0x11d001=>{const _0x24fb96=_0x4c8e66;this['messageBuffer'][_0x24fb96(0x5f4)](_0x11d001[_0x24fb96(0x2d0)])||(_0x42fc9e(_0x11d001,this[_0x24fb96(0x33d)])&&0x0!==_0x11d001[_0x24fb96(0x162)]&&(this['messageBuffer']['addMessage'](_0x11d001[_0x24fb96(0x2d0)]),this['dataTopics'][_0x24fb96(0x61c)](_0x11d001[_0x24fb96(0x162)])?.[_0x24fb96(0x3c2)](_0x11d001)),_0x11d001[_0x24fb96(0x257)]&&this[_0x24fb96(0x4f9)](_0x11d001));});}[_0x22e38d(0x13a)](){this['messageUnsubscriber']?.();}[_0x22e38d(0x314)](_0x20a397){const _0x63cd6b=_0x22e38d,_0xf1a289=_0x20a397[_0x63cd6b(0x5a3)](_0x3d7c34=>{const _0x590195=_0x63cd6b;this[_0x590195(0x55e)]['publish'](_0x3d7c34);});this[_0x63cd6b(0x48a)]['set'](_0x20a397,_0xf1a289),this[_0x63cd6b(0x1f8)]['set'](_0x20a397['getRemoteId'](),function(_0x3c4e80,_0x272862=!0x1){let _0x52058b=new Map();const _0x3fb19e=_0x2a75da(_0x3c4e80,_0x272862,function(_0x46d940){const _0x578c56=a0_0x104e;_0x1a487b(_0x46d940)&&_0x52058b[_0x578c56(0x421)](_0x46d940['sourceId']+'-'+(_0x46d940[_0x578c56(0x250)]??[])+'-'+_0x46d940[_0x578c56(0x461)]+'-'+_0x46d940[_0x578c56(0x127)][_0x578c56(0x1a1)]);},function(_0x5db536){return!!function(_0x25c282){const _0x3974e4=a0_0x104e,_0x4d6d2b=_0x25c282[_0x3974e4(0x14b)];if(!_0x1a487b(_0x4d6d2b))return!0x1;const _0xe3f2e=_0x4d6d2b[_0x3974e4(0x3c7)]+'-'+(_0x4d6d2b[_0x3974e4(0x250)]??[])+'-'+_0x4d6d2b[_0x3974e4(0x461)]+'-'+_0x4d6d2b[_0x3974e4(0x127)][_0x3974e4(0x1a1)],_0x354a71={'version':_0x4d6d2b[_0x3974e4(0x127)]['version'],'element':_0x25c282},_0x5970a8=_0x52058b['get'](_0xe3f2e);return _0x5970a8?(_0x5970a8[_0x3974e4(0x66b)]>=_0x4d6d2b[_0x3974e4(0x127)]['version']||(_0x5970a8[_0x3974e4(0x2ce)][_0x3974e4(0x3b0)]&&(_0x5970a8['element'][_0x3974e4(0x3b0)][_0x3974e4(0x2a1)]=_0x25c282,_0x25c282[_0x3974e4(0x3b0)]=_0x5970a8[_0x3974e4(0x2ce)][_0x3974e4(0x3b0)]),_0x5970a8[_0x3974e4(0x2ce)]['next']&&(_0x5970a8[_0x3974e4(0x2ce)][_0x3974e4(0x2a1)]['previous']=_0x25c282,_0x25c282[_0x3974e4(0x2a1)]=_0x5970a8[_0x3974e4(0x2ce)][_0x3974e4(0x2a1)]),_0x5970a8['element']===_0x3fb19e[_0x3974e4(0x320)]&&(_0x3fb19e['head']=_0x25c282),_0x5970a8['element']===_0x3fb19e['tail']&&(_0x3fb19e['tail']=_0x25c282),_0x52058b['set'](_0xe3f2e,_0x354a71)),!0x0):(_0x52058b[_0x3974e4(0x3dc)](_0xe3f2e,_0x354a71),!0x1);}(_0x5db536);},function(){const _0xfd37e1=a0_0x104e;_0x52058b[_0xfd37e1(0x160)]();});function _0x1a487b(_0x47ec1b){const _0x2316a7=a0_0x104e;if(_0x47ec1b&&'object'==typeof _0x47ec1b&&_0x47ec1b[_0x2316a7(0x4e7)](_0x2316a7(0x127))&&_0x47ec1b['hasOwnProperty'](_0x2316a7(0x461))&&_0x47ec1b[_0x2316a7(0x4e7)](_0x2316a7(0x3c7))){const _0x4e700b=_0x47ec1b;if(_0x4e700b['content']&&_0x2316a7(0x43c)==typeof _0x4e700b[_0x2316a7(0x127)]&&_0x4e700b[_0x2316a7(0x127)][_0x2316a7(0x4e7)](_0x2316a7(0x66b))&&_0x4e700b['content'][_0x2316a7(0x4e7)](_0x2316a7(0x1a1)))return!0x0;}return!0x1;}return _0x3fb19e;}(new _0x4f31e0(_0x5bafdc=>_0x20a397['send'](_0x5bafdc),()=>_0x30870d[_0x63cd6b(0x391)](0x64))));}[_0x22e38d(0x471)](_0x52925e){const _0x1825e1=_0x22e38d;this['connections']['get'](_0x52925e)?.(),this[_0x1825e1(0x48a)][_0x1825e1(0x421)](_0x52925e),this[_0x1825e1(0x1f8)][_0x1825e1(0x61c)](_0x52925e[_0x1825e1(0x57d)]())?.[_0x1825e1(0x160)](),this[_0x1825e1(0x1f8)][_0x1825e1(0x421)](_0x52925e[_0x1825e1(0x57d)]());}[_0x22e38d(0x297)](_0x3d1280){const _0x2dfd74=_0x22e38d;return _0x2858e9['log'](_0x5abff4[_0x2dfd74(0x402)],_0x2dfd74(0x685),this[_0x2dfd74(0x33d)],this[_0x2dfd74(0x48a)][_0x2dfd74(0x371)]()),0x0!==this[_0x2dfd74(0x48a)]['size']&&(Array[_0x2dfd74(0x5e6)](this[_0x2dfd74(0x48a)][_0x2dfd74(0x371)]())[_0x2dfd74(0x5de)](_0x423ebc=>_0x423ebc['getRemoteId']()===_0x3d1280)?.[_0x2dfd74(0x297)]()??!0x1);}['registerPublisher'](_0x231a90){const _0x3f49c8=_0x22e38d;this['dataTopics'][_0x3f49c8(0x3dc)](_0x231a90[_0x3f49c8(0x5c4)](),_0x231a90);}[_0x22e38d(0x2b8)](_0x36a934){const _0xf28ecd=_0x22e38d;this[_0xf28ecd(0x4d3)][_0xf28ecd(0x421)](_0x36a934[_0xf28ecd(0x5c4)]());}[_0x22e38d(0x414)](_0x418eb5){const _0x3bd12a=_0x22e38d,_0x2ef839=_0x418eb5['subscribe'](this['send'][_0x3bd12a(0x1af)](this));this['dataUnsubscribers'][_0x3bd12a(0x3dc)](_0x418eb5[_0x3bd12a(0x5c4)](),_0x2ef839);}[_0x22e38d(0x272)](_0x373f5c){const _0x30fce5=_0x22e38d;this['dataUnsubscribers'][_0x30fce5(0x61c)](_0x373f5c[_0x30fce5(0x5c4)]())?.(),this[_0x30fce5(0x364)][_0x30fce5(0x421)](_0x373f5c[_0x30fce5(0x5c4)]());}['getSupportedContentTypes'](){const _0x576c09=_0x22e38d;return[_0x35274c[_0x576c09(0x47f)],_0x35274c[_0x576c09(0x53f)],_0x35274c[_0x576c09(0x157)],_0x35274c[_0x576c09(0x5a2)]];}['send'](_0x3fecec){const _0x279cd4=_0x22e38d;if(!0x1===_0x3fecec[_0x279cd4(0x60a)]){if(_0x3fecec[_0x279cd4(0x257)]||!_0x3fecec[_0x279cd4(0x250)]||0x1!==_0x3fecec[_0x279cd4(0x250)][_0x279cd4(0x1e7)])throw new _0x461f79(_0x461f79[_0x279cd4(0x34a)][_0x279cd4(0x20e)],{'message':_0x279cd4(0x164),'localId':this[_0x279cd4(0x33d)]});if(!this[_0x279cd4(0x297)](_0x3fecec['destinationIds'][0x0]))throw new _0xc2e00f(_0x279cd4(0x2a9));}const _0x22d8f3=_0x3fecec[_0x279cd4(0x53a)]??[];try{const {filteredDestinationIds:_0x29e36f,extendedRecipients:_0x139654}=this[_0x279cd4(0x541)](_0x3fecec,_0x22d8f3);_0x3fecec[_0x279cd4(0x250)]=_0x29e36f,_0x3fecec[_0x279cd4(0x53a)]=_0x139654;}catch(_0x1f9e9d){if(_0x1f9e9d instanceof _0xc2e00f)return void _0x2858e9['log'](_0x5abff4[_0x279cd4(0x404)],_0x279cd4(0x370),_0x279cd4(0x3ba),_0x3fecec,_0x1f9e9d[_0x279cd4(0x62d)]);}const _0x467b89=this[_0x279cd4(0x400)](_0x3fecec);this[_0x279cd4(0x42f)](_0x3fecec,_0x467b89),_0x3fecec[_0x279cd4(0x257)]=_0x467b89;const _0x540ff9=this[_0x279cd4(0x2eb)](_0x3fecec,_0x22d8f3);for(const _0x14c68e of _0x540ff9){const _0x57f94a=this[_0x279cd4(0x1f8)]['get'](_0x14c68e['getRemoteId']());if(!_0x57f94a)throw new _0x461f79(_0x461f79[_0x279cd4(0x34a)]['ConnectionNoRetryQueue'],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0x279cd4(0x33d)],'remoteId':_0x14c68e[_0x279cd4(0x57d)](),'data':_0x3fecec});_0x57f94a[_0x279cd4(0x386)](_0x3fecec);}}[_0x22e38d(0x57d)](){return'';}[_0x22e38d(0x49e)](){return this['localId'];}[_0x22e38d(0x5a3)](_0x26db87){const _0x9c1871=_0x22e38d;return this[_0x9c1871(0x55e)]['subscribe'](_0x26db87);}[_0x22e38d(0x541)](_0x2c48ec,_0x3f54d3){const _0x4b109b=_0x22e38d,_0x1dffda={'filteredDestinationIds':_0x2c48ec[_0x4b109b(0x250)],'extendedRecipients':_0x2c48ec[_0x4b109b(0x53a)]};if(!_0x2c48ec['propagate'])return _0x1dffda;const _0x183a8a=Array[_0x4b109b(0x5e6)](this[_0x4b109b(0x48a)][_0x4b109b(0x371)]())[_0x4b109b(0x57f)](_0x389705=>_0x389705[_0x4b109b(0x4a2)]()===_0x1951cf[_0x4b109b(0x1e1)]||_0x389705[_0x4b109b(0x297)]())[_0x4b109b(0x672)](_0x36e85a=>_0x36e85a[_0x4b109b(0x57d)]());if(_0x183a8a[_0x4b109b(0x324)]((_0x363c0f,_0x318cd9)=>_0x363c0f&&_0x2c48ec[_0x4b109b(0x53a)][_0x4b109b(0x4c9)](_0x318cd9),!0x0))throw new _0xc2e00f(_0x4b109b(0x139));if(_0x2c48ec[_0x4b109b(0x250)]){const _0x52ff31=_0x2c48ec['destinationIds'][_0x4b109b(0x57f)](_0x150dfa=>_0x150dfa!==this[_0x4b109b(0x33d)]&&!_0x2c48ec['recipients'][_0x4b109b(0x4c9)](_0x150dfa));if(0x0===_0x52ff31[_0x4b109b(0x1e7)])throw new _0xc2e00f(_0x4b109b(0x5ea));_0x1dffda[_0x4b109b(0x3cc)]=_0x52ff31;}return _0x1dffda['extendedRecipients']=[...new Set([..._0x3f54d3,..._0x183a8a,this[_0x4b109b(0x33d)]])],_0x1dffda;}[_0x22e38d(0x42f)](_0x5f560b,_0x578639=!0x1){const _0x104946=_0x22e38d;if(0x0===_0x5f560b[_0x104946(0x162)]&&!_0xb6c235(_0x5f560b,this[_0x104946(0x33d)])&&_0x5f560b[_0x104946(0x257)]){const _0xd1cb2b=_0x439bf2(_0x5f560b,this['localId']);_0x2858e9[_0x104946(0x117)](_0x5abff4[_0x104946(0x3b9)],_0x5f560b[_0x104946(0x2d0)]+'\x20-\x20Sending\x20propagation\x20('+_0x578639+')\x20'+_0xd1cb2b,_0x5f560b,_0x578639);}}[_0x22e38d(0x400)](_0x1acb91){const _0x141f53=_0x22e38d;if(_0x1acb91[_0x141f53(0x250)]&&_0x1acb91[_0x141f53(0x257)]){const _0x4c6b9f=Array['from'](this['connections'][_0x141f53(0x371)]())['filter'](_0x325581=>_0x325581[_0x141f53(0x4a2)]()===_0x1951cf[_0x141f53(0x1e1)]||_0x325581[_0x141f53(0x297)]())[_0x141f53(0x672)](_0x3ee030=>_0x3ee030[_0x141f53(0x57d)]());return!_0x1acb91['destinationIds']['reduce']((_0x25a24f,_0x1c40cb)=>_0x25a24f&&_0x4c6b9f[_0x141f53(0x4c9)](_0x1c40cb),!0x0);}return _0x1acb91[_0x141f53(0x257)]??!0x1;}['getConnectionDestinations'](_0x24a510,_0x49eda2){const _0x38683d=_0x22e38d;if(_0x24a510[_0x38683d(0x257)]&&_0x24a510[_0x38683d(0x250)]){const _0x4291b5=Array['from'](this['connections'][_0x38683d(0x371)]())[_0x38683d(0x57f)](_0xa76b03=>_0xa76b03[_0x38683d(0x4a2)]()===_0x1951cf['Core']||_0xa76b03[_0x38683d(0x297)]())[_0x38683d(0x672)](_0x41b9c6=>_0x41b9c6[_0x38683d(0x57d)]()),_0x49484e=new Set(),_0x3d87c5=_0x24a510[_0x38683d(0x3c7)]===this[_0x38683d(0x33d)]?0x3:0x1;return _0x24a510[_0x38683d(0x250)]['forEach'](_0x37f196=>{const _0xe68b86=_0x38683d,_0x4a4d58=this[_0xe68b86(0x5b0)][_0xe68b86(0x456)](_0x4291b5,_0x37f196);let _0x5be4e5=0x0,_0x564094=0x0;_0x4a4d58['forEach'](_0x627d0b=>{const _0x4d7654=_0xe68b86;if(_0x5be4e5>=_0x3d87c5)return;const _0x3fe088=Array[_0x4d7654(0x5e6)](this[_0x4d7654(0x48a)][_0x4d7654(0x371)]())[_0x4d7654(0x5de)](_0x5adfec=>_0x5adfec[_0x4d7654(0x57d)]()===_0x627d0b);if(_0x3fe088){if(_0x3fe088['getConnectionType']()===_0x1951cf[_0x4d7654(0x1e1)]&&_0x564094>0x0)return void(_0x564094-=0x1);_0x49484e['add'](_0x3fe088),_0x3fe088['getConnectionType']()===_0x1951cf[_0x4d7654(0x32a)]&&(_0x564094+=0x1),_0x5be4e5+=0x1;}});}),Array[_0x38683d(0x5e6)](_0x49484e);}return Array[_0x38683d(0x5e6)](this['connections'][_0x38683d(0x371)]())['filter'](_0x385b4d=>{const _0x60f19a=_0x38683d;return _0x30b877=_0x385b4d[_0x60f19a(0x57d)](),!_0x49eda2['includes'](_0x30b877)&&(_0x42fc9e(_0x24a510,_0x30b877)||_0x24a510['propagate'])&&(!_0x24a510[_0x60f19a(0x257)]||_0x385b4d[_0x60f19a(0x297)]()||_0x385b4d[_0x60f19a(0x4a2)]()===_0x1951cf[_0x60f19a(0x1e1)]);var _0x30b877;});}}class _0x34bc36{[_0x22e38d(0x33d)];[_0x22e38d(0x54e)];['connections']=new Map();[_0x22e38d(0x358)];constructor(_0xe4a92b,_0x54c3b4){const _0x52e278=_0x22e38d;this[_0x52e278(0x33d)]=_0xe4a92b,this['messageBuffer']=_0x54c3b4;}[_0x22e38d(0x13a)](){}[_0x22e38d(0x4f9)](_0x2589a7){const _0x159439=_0x22e38d;for(const _0x1717b5 of this[_0x159439(0x48a)][_0x159439(0x371)]())try{return void _0x1717b5['send']({'retry':!0x1,..._0x2589a7});}catch(_0x57e3b5){_0x57e3b5 instanceof _0xc2e00f||_0x2858e9[_0x159439(0x3a0)](_0x5abff4[_0x159439(0x594)],_0x159439(0x530)+_0x1717b5,_0x57e3b5,_0x2589a7);}_0x2858e9[_0x159439(0x3a0)](_0x5abff4[_0x159439(0x594)],'No\x20connections\x20available\x20to\x20send\x20message');}[_0x22e38d(0x314)](_0x1af521){const _0x21b553=_0x22e38d,_0x5434ae=_0x1af521[_0x21b553(0x5a3)](_0x17e769=>{const _0x5ad0b9=_0x21b553;this[_0x5ad0b9(0x54e)][_0x5ad0b9(0x5f4)](_0x17e769[_0x5ad0b9(0x2d0)])||0x0===_0x17e769[_0x5ad0b9(0x162)]&&(this[_0x5ad0b9(0x54e)][_0x5ad0b9(0x135)](_0x17e769[_0x5ad0b9(0x2d0)]),_0x42fc9e(_0x17e769,this['localId'])&&this[_0x5ad0b9(0x358)]?.[_0x5ad0b9(0x3c2)](_0x17e769));});this[_0x21b553(0x48a)][_0x21b553(0x3dc)](_0x1af521,_0x5434ae);}['removeConnection'](_0x47d256){const _0x990f86=_0x22e38d;this['connections']['get'](_0x47d256)?.(),this[_0x990f86(0x48a)][_0x990f86(0x421)](_0x47d256);}[_0x22e38d(0x49e)](){const _0x142cb9=_0x22e38d;return this[_0x142cb9(0x33d)];}[_0x22e38d(0x57d)](){return'';}[_0x22e38d(0x661)](){const _0x12ac9a=_0x22e38d;return[_0x35274c[_0x12ac9a(0x47f)]];}['isConnected'](){const _0x52cb02=_0x22e38d;throw new Error(_0x52cb02(0x6a6));}[_0x22e38d(0x45c)](_0x3bafca){this['systemTopic']=_0x3bafca;}[_0x22e38d(0x43f)](){delete this['systemTopic'];}}class _0x54cc30{[_0x22e38d(0x1ab)]=new Map();[_0x22e38d(0x4e4)];constructor(){const _0x412e27=_0x22e38d;this[_0x412e27(0x4e4)]=_0x30870d[_0x412e27(0x686)](()=>{const _0x8e37f5=_0x412e27;for(const [_0xb8f2c3,_0x220bdd]of this[_0x8e37f5(0x1ab)]['entries']())Date[_0x8e37f5(0x5c7)]()-_0x220bdd>0x124f80&&this[_0x8e37f5(0x1ab)]['delete'](_0xb8f2c3);},0x1d4c0);}[_0x22e38d(0x13a)](){const _0x194ef6=_0x22e38d;this[_0x194ef6(0x4e4)]();}[_0x22e38d(0x135)](_0x2bcb86){const _0x576141=_0x22e38d;this[_0x576141(0x1ab)][_0x576141(0x3dc)](_0x2bcb86,Date['now']());}[_0x22e38d(0x5f4)](_0x33953b){const _0x2a1373=_0x22e38d;return this['buffer'][_0x2a1373(0x32d)](_0x33953b);}}class _0x1c07d2{[_0x22e38d(0x42c)];[_0x22e38d(0x3fc)];[_0x22e38d(0x490)];[_0x22e38d(0x115)];[_0x22e38d(0x59a)];[_0x22e38d(0x169)];[_0x22e38d(0x48a)]=new Map();['connectionPool'];['connectionGroup'];[_0x22e38d(0x6bb)];[_0x22e38d(0x54e)];constructor(_0x598121,_0x23a34a,_0x3d12e8,_0x447291,_0x25f786,_0x132df6,_0x3e7735){const _0x23708c=_0x22e38d;this[_0x23708c(0x42c)]=_0x598121,this[_0x23708c(0x3fc)]=_0x23a34a,this[_0x23708c(0x490)]=_0x3d12e8,this[_0x23708c(0x115)]=_0x447291,this[_0x23708c(0x59a)]=_0x25f786,this[_0x23708c(0x169)]=_0x3e7735,this[_0x23708c(0x54e)]=new _0x54cc30(),this[_0x23708c(0x4ad)]=new _0x55c0d0(this['configs']['localId'],this[_0x23708c(0x54e)],_0x132df6),this['signalingServer']=new _0x380c90(this[_0x23708c(0x42c)][_0x23708c(0x327)],this[_0x23708c(0x42c)][_0x23708c(0x262)],this['configs']['localId'],_0x23708c(0x68a),this[_0x23708c(0x3fc)]),this['connectionPool']=new _0x34bc36(this[_0x23708c(0x42c)][_0x23708c(0x33d)],this['messageBuffer']),this[_0x23708c(0x655)][_0x23708c(0x314)](this[_0x23708c(0x4ad)]),this[_0x23708c(0x655)]['addConnection'](this[_0x23708c(0x6bb)]),this[_0x23708c(0x42c)][_0x23708c(0x49b)][_0x23708c(0x341)](this[_0x23708c(0x655)]);}[_0x22e38d(0x13a)](){const _0x25e92d=_0x22e38d;this[_0x25e92d(0x54e)]['close'](),this[_0x25e92d(0x48a)][_0x25e92d(0x237)]((_0x2d6240,_0x2eb132)=>this[_0x25e92d(0x295)](_0x2eb132)),this[_0x25e92d(0x42c)][_0x25e92d(0x49b)]['unregisterSystemSource'](this[_0x25e92d(0x655)]),this[_0x25e92d(0x655)]['removeConnection'](this['signalingServer']),this[_0x25e92d(0x655)][_0x25e92d(0x471)](this['connectionGroup']),this[_0x25e92d(0x655)][_0x25e92d(0x13a)](),this['signalingServer'][_0x25e92d(0x13a)](),this[_0x25e92d(0x4ad)][_0x25e92d(0x13a)]();}async[_0x22e38d(0x1e2)](){const _0x4091b0=_0x22e38d;await this[_0x4091b0(0x6bb)][_0x4091b0(0x621)]();}async[_0x22e38d(0x4cd)](_0x5c96ab,_0xd17c2b=_0x1951cf['Core']){const _0x4e550c=_0x22e38d;if(this[_0x4e550c(0x48a)][_0x4e550c(0x32d)](_0x5c96ab)){if(this[_0x4e550c(0x48a)][_0x4e550c(0x61c)](_0x5c96ab)?.[_0x4e550c(0x4a2)]()===_0x1951cf[_0x4e550c(0x32a)]&&_0xd17c2b===_0x1951cf[_0x4e550c(0x1e1)])return void this[_0x4e550c(0x48a)][_0x4e550c(0x61c)](_0x5c96ab)?.[_0x4e550c(0x3d3)](_0x1951cf['Core']);throw new _0x461f79(_0x461f79[_0x4e550c(0x34a)][_0x4e550c(0x38e)],{'localId':this[_0x4e550c(0x42c)][_0x4e550c(0x33d)],'remoteId':_0x5c96ab});}const _0x30afac=new _0x37d9b3(this[_0x4e550c(0x42c)]['clusterId'],this['configs']['localId'],_0x5c96ab,this['iceServers'],_0xd17c2b,this['maxFps'],this['maxBpp'],this[_0x4e550c(0x169)]);this['connections'][_0x4e550c(0x3dc)](_0x5c96ab,_0x30afac),this[_0x4e550c(0x4ad)][_0x4e550c(0x314)](_0x30afac),this[_0x4e550c(0x42c)][_0x4e550c(0x49b)][_0x4e550c(0x341)](_0x30afac),this['configs']['mediator'][_0x4e550c(0x6ab)](_0x5c96ab),await _0x30afac[_0x4e550c(0x621)]();}[_0x22e38d(0x646)](){const _0x5ef629=_0x22e38d;return this[_0x5ef629(0x4ad)];}[_0x22e38d(0x6b0)](_0x4f5406){const _0xb209b4=_0x22e38d;if(!this[_0xb209b4(0x48a)][_0xb209b4(0x32d)](_0x4f5406))throw new _0x461f79(_0x461f79[_0xb209b4(0x34a)]['MissingRemoteConnection'],{'localId':this['configs'][_0xb209b4(0x33d)],'remoteId':_0x4f5406});return this['connections']['get'](_0x4f5406);}[_0x22e38d(0x389)](_0x398eaf){const _0x110248=_0x22e38d,_0x2a16e1=Array[_0x110248(0x5e6)](this['connections'][_0x110248(0x1f4)]());return _0x398eaf?_0x2a16e1[_0x110248(0x57f)](_0x398eaf):_0x2a16e1;}async['collectStats'](_0x267630){const _0x13a376=_0x22e38d,_0x2bd44a=this[_0x13a376(0x48a)][_0x13a376(0x61c)](_0x267630);_0x2bd44a&&_0x2bd44a['isConnected']()&&await _0x2bd44a[_0x13a376(0x4cf)]();}[_0x22e38d(0x560)](_0x46193d){const _0x575e56=_0x22e38d;if(_0x46193d['messageType']!==_0x120441['PeerConnection']||_0x46193d[_0x575e56(0x257)])try{this['connectionGroup']['send'](_0x46193d);}catch(_0x960492){if(_0x960492 instanceof _0xc2e00f)return;throw _0x960492;}else this[_0x575e56(0x655)]['send'](_0x46193d);}async[_0x22e38d(0x3a6)](_0x5bcab7){const _0x1b80dc=_0x22e38d;switch(_0x5bcab7['content']['type']){case _0x3e3725['Disconnect']:case _0x3e3725[_0x1b80dc(0x603)]:case _0x3e3725[_0x1b80dc(0x385)]:return;}if(!_0x5bcab7[_0x1b80dc(0x250)]||0x1!==_0x5bcab7['destinationIds']['length'])throw new _0x461f79(_0x461f79[_0x1b80dc(0x34a)][_0x1b80dc(0x3ad)],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0x5bcab7});if(_0x5bcab7[_0x1b80dc(0x250)][0x0]!==this[_0x1b80dc(0x42c)]['localId'])throw new _0x461f79(_0x461f79[_0x1b80dc(0x34a)][_0x1b80dc(0x3ad)],{'message':_0x1b80dc(0x482),'event':_0x5bcab7});if(!this[_0x1b80dc(0x48a)][_0x1b80dc(0x32d)](_0x5bcab7[_0x1b80dc(0x3c7)])){let _0x5450fe=_0x1951cf[_0x1b80dc(0x1e1)];if(!(this[_0x1b80dc(0x677)](_0x5bcab7[_0x1b80dc(0x127)])||this[_0x1b80dc(0x3d7)](_0x5bcab7['content'])||this[_0x1b80dc(0x4db)](_0x5bcab7[_0x1b80dc(0x127)])))return;_0x5450fe=_0x5bcab7[_0x1b80dc(0x127)][_0x1b80dc(0x4f1)],await this[_0x1b80dc(0x4cd)](_0x5bcab7[_0x1b80dc(0x3c7)],_0x5450fe);}const _0x57cede=this['connections'][_0x1b80dc(0x61c)](_0x5bcab7[_0x1b80dc(0x3c7)]);await _0x57cede['handlePeerConnectionSystemEvents'](_0x5bcab7);}[_0x22e38d(0x5ab)](_0x284246){const _0x20523b=_0x22e38d;if(_0x284246[_0x20523b(0x127)][_0x20523b(0x1a1)]===_0x4ca98a['Remediation']){if(_0x284246[_0x20523b(0x127)][_0x20523b(0x3f4)]===this['configs'][_0x20523b(0x33d)])return void this[_0x20523b(0x48a)]['forEach'](_0x9d9992=>_0x9d9992[_0x20523b(0x5ab)](_0x284246));this['connections'][_0x20523b(0x61c)](_0x284246['content'][_0x20523b(0x3f4)])?.[_0x20523b(0x5ab)](_0x284246);}}['handleNodeSystemEvents']({content:_0x4ff992}){const _0x133a26=_0x22e38d;_0x4ff992[_0x133a26(0x1a1)]===_0x1ebed6[_0x133a26(0x2f0)]&&this[_0x133a26(0x295)](_0x4ff992['id']);}[_0x22e38d(0x295)](_0x3cad84){const _0x5b5bd0=_0x22e38d,_0x58ba3e=this['connections'][_0x5b5bd0(0x61c)](_0x3cad84);_0x58ba3e&&(this[_0x5b5bd0(0x42c)]['mediator']['unregisterRemoteUser'](_0x3cad84),this[_0x5b5bd0(0x42c)][_0x5b5bd0(0x49b)]['unregisterSystemSource'](_0x58ba3e),_0x58ba3e instanceof _0x37d9b3&&this[_0x5b5bd0(0x4ad)][_0x5b5bd0(0x471)](_0x58ba3e),_0x58ba3e[_0x5b5bd0(0x13a)](),this[_0x5b5bd0(0x48a)][_0x5b5bd0(0x421)](_0x3cad84));}[_0x22e38d(0x677)](_0x3a4cbe){const _0x2d865f=_0x22e38d;return _0x3a4cbe[_0x2d865f(0x1a1)]===_0x3e3725[_0x2d865f(0x4e2)];}[_0x22e38d(0x4db)](_0x2d2e39){const _0x518fee=_0x22e38d;return _0x2d2e39[_0x518fee(0x1a1)]===_0x3e3725[_0x518fee(0x227)];}['isIceCandidate'](_0x532bca){const _0x361889=_0x22e38d;return _0x532bca[_0x361889(0x1a1)]===_0x3e3725[_0x361889(0x2d7)];}}!function(_0x1ed729){const _0x16b5b5=_0x22e38d;_0x1ed729[_0x1ed729[_0x16b5b5(0x680)]=0x0]='SubscribeMediaStream',_0x1ed729[_0x1ed729[_0x16b5b5(0x68e)]=0x1]=_0x16b5b5(0x68e),_0x1ed729[_0x1ed729[_0x16b5b5(0x351)]=0x2]=_0x16b5b5(0x351),_0x1ed729[_0x1ed729[_0x16b5b5(0x11f)]=0x3]='NeedMediaStream',_0x1ed729[_0x1ed729[_0x16b5b5(0x4e1)]=0x4]=_0x16b5b5(0x4e1),_0x1ed729[_0x1ed729[_0x16b5b5(0x194)]=0x5]=_0x16b5b5(0x194),_0x1ed729[_0x1ed729[_0x16b5b5(0x63e)]=0x6]=_0x16b5b5(0x63e),_0x1ed729[_0x1ed729[_0x16b5b5(0x12a)]=0x7]=_0x16b5b5(0x12a);}(_0x5f1217||(_0x5f1217={}));class _0xd926da extends _0x5467c3{[_0x22e38d(0x262)];[_0x22e38d(0x327)];[_0x22e38d(0x522)];[_0x22e38d(0x4e4)];[_0x22e38d(0x34c)];['pendingSyncTransactions']=new Map();[_0x22e38d(0x498)]=new Map();[_0x22e38d(0x3b5)]=new Map();[_0x22e38d(0x5a9)]=new Map();['pendingFilesRename']=new Map();[_0x22e38d(0x2dc)];[_0x22e38d(0x41e)]=_0x151e07();[_0x22e38d(0x152)];[_0x22e38d(0x321)];[_0x22e38d(0x121)]=0x0;[_0x22e38d(0x46d)]=0x0;constructor(_0x3523fe,_0xf84c32,_0x28793a,_0x1f0c6d,_0x3cf39d,_0x987412){const _0x29c4a6=_0x22e38d;if('string'!=typeof _0xf84c32)throw new _0x36acfc(_0xf36e85[_0x29c4a6(0x198)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x3523fe,_0xf84c32),this['clusterId']=_0x28793a,this[_0x29c4a6(0x327)]=_0x1f0c6d,this[_0x29c4a6(0x522)]=_0x3cf39d;const _0x4de0f4=_0x29c4a6(0x23a)+this['vendorId']+_0x29c4a6(0x23a)+this[_0x29c4a6(0x262)];this[_0x29c4a6(0x2dc)]=new _0x987412(_0x4de0f4,_0xf84c32);}['getContentType'](){const _0x61424b=_0x22e38d;return _0x35274c[_0x61424b(0x157)];}async[_0x22e38d(0x3f3)](){const _0x2b7203=_0x22e38d;try{const _0x129d7b=await this[_0x2b7203(0x2dc)][_0x2b7203(0x619)](),_0xb8ee48=await _0x129d7b[_0x2b7203(0x190)](_0xaa2dc0),_0x2288d4=await _0xb8ee48[_0x2b7203(0x376)](),_0x40d07e=await _0x2288d4['text']();this[_0x2b7203(0x34c)]=_0x40d07e;}catch(_0xc014b6){}this[_0x2b7203(0x4e4)]=this[_0x2b7203(0x5a3)](async(_0x484b2f,_0x300260)=>{const _0x32578a=_0x2b7203;if(!(_0x300260 instanceof File))try{if(_0x300260[_0x32578a(0x235)]===_0x144831[_0x32578a(0x684)])return void this['handleRequestPayload'](_0x300260);this[_0x32578a(0x18a)](_0x300260);}catch(_0x152e81){if(_0x152e81 instanceof _0x461f79)throw _0x152e81;throw new _0x461f79(_0x461f79[_0x32578a(0x34a)][_0x32578a(0x16c)],{'payload':_0x300260});}}),await this[_0x2b7203(0x37d)](),await this['syncPendingFiles'](),this['sendStats']();}['destroy'](){const _0x578822=_0x22e38d;this[_0x578822(0x4e4)]?.(),clearTimeout(this[_0x578822(0x321)]),delete this[_0x578822(0x321)],super[_0x578822(0x3d0)]();}[_0x22e38d(0x13a)](){const _0x5851d1=_0x22e38d;this[_0x5851d1(0x358)]?.[_0x5851d1(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x5851d1(0x2f3)],'content':{'type':_0x10a2a5['CloseObjectStoreBucket'],'label':this[_0x5851d1(0x2a8)]}});}[_0x22e38d(0x51e)](_0x3b9c1b){const _0x2b2833=_0x22e38d;if(this[_0x2b2833(0x152)])throw new _0x36acfc(_0xf36e85[_0x2b2833(0x3c0)],_0x2b2833(0x388));this[_0x2b2833(0x152)]=this[_0x2b2833(0x41e)][_0x2b2833(0x51e)](_0x3b9c1b);}['unsubscribe'](){const _0x204133=_0x22e38d;this[_0x204133(0x152)]&&this[_0x204133(0x152)]();}[_0x22e38d(0x3c2)](_0xc55a50){const _0x588ad0=_0x22e38d;switch(_0xc55a50[_0x588ad0(0x134)]){case _0x3ca8d4[_0x588ad0(0x67f)]:return this[_0x588ad0(0x45b)](_0xc55a50['file'],_0xc55a50[_0x588ad0(0x15e)]);case _0x3ca8d4['Folder']:return this[_0x588ad0(0x53b)](_0xc55a50[_0x588ad0(0x15e)]);case _0x3ca8d4['Move']:return this[_0x588ad0(0x315)](_0xc55a50[_0x588ad0(0x15e)],_0xc55a50[_0x588ad0(0x355)]);default:throw new _0x36acfc(_0xf36e85['ObjectStoreInvalidPayload'],_0x588ad0(0x1d8)+_0xc55a50);}}async[_0x22e38d(0x393)](_0x249236){const _0x585e58=_0x22e38d;try{const _0x12ff31=(0x0,_0x29559c['v4'])(),_0x12cbd9=this[_0x585e58(0x34c)],_0x46ac09={'payloadType':_0x144831[_0x585e58(0x569)],'action':_0x5b0297[_0x585e58(0x240)],'id':_0x12ff31,'parentId':_0x12cbd9,'path':_0x249236};await this[_0x585e58(0x3c9)](_0x46ac09);const _0x208fe3=await this[_0x585e58(0x651)](_0x249236);await this[_0x585e58(0x4f9)](_0x46ac09),_0x2858e9[_0x585e58(0x395)](_0x433bbf[_0x585e58(0x313)],{'type':_0x585e58(0x393),'label':this['label'],'userId':this[_0x585e58(0x113)],'kind':_0x208fe3,'path':_0x249236}),this[_0x585e58(0x121)]+=0x1,this[_0x585e58(0x14c)]();}catch(_0x370d5c){if(_0x370d5c instanceof _0x461f79)throw new _0x36acfc(_0xf36e85[_0x585e58(0x20f)],_0x585e58(0x329));throw new _0x36acfc(_0xf36e85[_0x585e58(0x37c)],'Cannot\x20unpublish\x20object:\x20'+_0x249236);}}async[_0x22e38d(0x61c)](_0x44a770){const _0x5a692f=_0x22e38d;_0x2858e9['logServiceEvent'](_0x433bbf['ObjectStorage'],{'type':'get','label':this[_0x5a692f(0x2a8)],'userId':this[_0x5a692f(0x113)],'path':_0x44a770}),this[_0x5a692f(0x46d)]+=0x1,this[_0x5a692f(0x14c)]();try{return await this['objectStoreConnector']['get'](_0x44a770);}catch(_0xd8dad8){try{await this['objectStoreConnector'][_0x5a692f(0x61c)](_0x44a770+_0x527089);}catch(_0x4abc7e){throw new _0x36acfc(_0xf36e85[_0x5a692f(0x37c)],_0x5a692f(0x5cd)+_0x44a770);}throw new _0x36acfc(_0xf36e85[_0x5a692f(0x20f)],_0x5a692f(0x5bb));}}async[_0x22e38d(0x18e)](_0x40b657,_0x7f2ca3=!0x1,_0x155f8c=!0x1){const _0x70f8b0=_0x22e38d;_0x2858e9[_0x70f8b0(0x395)](_0x433bbf[_0x70f8b0(0x313)],{'type':_0x70f8b0(0x18e),'label':this['label'],'userId':this['ownerId'],'path':_0x40b657}),this[_0x70f8b0(0x46d)]+=0x1,this[_0x70f8b0(0x14c)]();try{const _0x45b7cf=await this[_0x70f8b0(0x2dc)]['list'](_0x40b657,_0x7f2ca3);return _0x155f8c?_0x45b7cf:this[_0x70f8b0(0x1a4)](_0x45b7cf);}catch(_0xf40872){throw new _0x36acfc(_0xf36e85[_0x70f8b0(0x37c)],_0x70f8b0(0x215)+_0x40b657);}}[_0x22e38d(0x491)](_0x2a5413){const _0x1a42a0=_0x22e38d;for(const _0x1fcde5 of this[_0x1a42a0(0x498)][_0x1a42a0(0x1f4)]())this[_0x1a42a0(0x4f9)](_0x1fcde5,[_0x2a5413]);}['handleUserLeave'](_0x591196){const _0x1c9a0e=_0x22e38d,_0x20e5fc=this[_0x1c9a0e(0x3b5)][_0x1c9a0e(0x61c)](_0x591196);if(_0x20e5fc){for(const [_0x4db935,_0x37fffb]of _0x20e5fc['values']())this[_0x1c9a0e(0x5f3)](_0x4db935,_0x37fffb);this['pendingFilesSyncing'][_0x1c9a0e(0x421)](_0x591196);}}[_0x22e38d(0x1a4)](_0x1987ed){const _0x19ff36=_0x22e38d;for(const _0x355c21 of _0x1987ed)_0x355c21['kind']===_0x1684bb[_0x19ff36(0x3ae)]&&(_0x355c21[_0x19ff36(0x578)]=this[_0x19ff36(0x1a4)](_0x355c21[_0x19ff36(0x578)]??[])),(_0x355c21[_0x19ff36(0x3d4)]['endsWith'](_0x527089)||_0x355c21['name']===_0xaa2dc0)&&_0x1987ed[_0x19ff36(0x4dc)](_0x1987ed['indexOf'](_0x355c21),0x1);return _0x1987ed;}async[_0x22e38d(0x45b)](_0x2efc58,_0x3a2021){const _0x32a02f=_0x22e38d;try{const _0x14b466=(0x0,_0x29559c['v4'])(),_0x512468=this[_0x32a02f(0x34c)],_0x1456f4=await _0x6a176(_0x2efc58);await this[_0x32a02f(0x3c9)]({'payloadType':_0x144831[_0x32a02f(0x569)],'action':_0x5b0297[_0x32a02f(0x34b)],'id':_0x14b466,'parentId':_0x512468,'answererId':this[_0x32a02f(0x113)],'name':_0x2efc58['name'],'type':_0x2efc58[_0x32a02f(0x1a1)],'path':_0x3a2021??'/','checksum':_0x1456f4}),await this['writeFile'](_0x2efc58,_0x3a2021),await this[_0x32a02f(0x3bf)](_0x2efc58,{'payloadType':_0x144831[_0x32a02f(0x569)],'action':_0x5b0297['FileWrite'],'id':_0x14b466,'parentId':_0x512468,'answererId':this['ownerId'],'name':_0x2efc58['name'],'type':_0x2efc58[_0x32a02f(0x1a1)],'path':_0x3a2021??'/','checksum':_0x1456f4}),_0x2858e9['logServiceEvent'](_0x433bbf[_0x32a02f(0x313)],{'type':_0x32a02f(0x3c2),'label':this['label'],'userId':this[_0x32a02f(0x113)],'kind':_0x1684bb[_0x32a02f(0x67f)],'path':_0x3a2021,'fileName':_0x2efc58[_0x32a02f(0x3d4)],'fileType':_0x2efc58[_0x32a02f(0x1a1)],'size':_0x2efc58['size']}),this[_0x32a02f(0x121)]+=0x1,this[_0x32a02f(0x14c)]();}catch(_0x27b0bb){if(_0x27b0bb instanceof _0x461f79)throw new _0x36acfc(_0xf36e85['ObjectStoreNotInSync'],_0x32a02f(0x5bb));throw new _0x36acfc(_0xf36e85[_0x32a02f(0x37c)],'Cannot\x20publish\x20file:\x20'+_0x3a2021);}}async[_0x22e38d(0x53b)](_0x297414){const _0x24893f=_0x22e38d;try{const _0x45cb88=(0x0,_0x29559c['v4'])(),_0x30f5da=this[_0x24893f(0x34c)],_0x1300f6={'payloadType':_0x144831[_0x24893f(0x569)],'action':_0x5b0297[_0x24893f(0x269)],'id':_0x45cb88,'parentId':_0x30f5da,'path':_0x297414};await this['publishTransaction'](_0x1300f6),await this[_0x24893f(0x2dc)][_0x24893f(0x619)](_0x297414),await this[_0x24893f(0x4f9)](_0x1300f6),_0x2858e9[_0x24893f(0x395)](_0x433bbf[_0x24893f(0x313)],{'type':'publish','label':this[_0x24893f(0x2a8)],'userId':this[_0x24893f(0x113)],'kind':_0x1684bb['Folder'],'path':_0x297414}),this[_0x24893f(0x121)]+=0x1,this[_0x24893f(0x14c)]();}catch(_0x31808b){if(_0x31808b instanceof _0x461f79)throw new _0x36acfc(_0xf36e85[_0x24893f(0x20f)],_0x24893f(0x5bb));throw new _0x36acfc(_0xf36e85[_0x24893f(0x37c)],_0x24893f(0x542)+_0x297414);}}async[_0x22e38d(0x315)](_0x41db71,_0x513d25){const _0x41ef6f=_0x22e38d;try{const _0x389199=(0x0,_0x29559c['v4'])(),_0x541d6d=this[_0x41ef6f(0x34c)],_0x2b741a={'payloadType':_0x144831['Transaction'],'action':_0x5b0297[_0x41ef6f(0x561)],'id':_0x389199,'parentId':_0x541d6d,'path':_0x41db71,'newPath':_0x513d25};await this[_0x41ef6f(0x3c9)](_0x2b741a);const _0x598db9=await this[_0x41ef6f(0x645)](_0x41db71,_0x513d25);await this[_0x41ef6f(0x4f9)](_0x2b741a),_0x2858e9[_0x41ef6f(0x395)](_0x433bbf[_0x41ef6f(0x313)],{'type':_0x41ef6f(0x136),'label':this['label'],'userId':this[_0x41ef6f(0x113)],'kind':_0x598db9,'path':_0x41db71,'newPath':_0x513d25}),this[_0x41ef6f(0x121)]+=0x1,this[_0x41ef6f(0x14c)]();}catch(_0x543870){if(_0x543870 instanceof _0x461f79)throw new _0x36acfc(_0xf36e85[_0x41ef6f(0x20f)],_0x41ef6f(0x5bb));throw new _0x36acfc(_0xf36e85[_0x41ef6f(0x37c)],_0x41ef6f(0x267)+_0x41db71);}}async[_0x22e38d(0x18a)](_0x1eeb01){const _0x337731=_0x22e38d;if(this['lastTransactionId']&&_0x1eeb01[_0x337731(0x36a)]!==this[_0x337731(0x34c)]&&_0x1eeb01['id']!==this[_0x337731(0x34c)]){if(!_0x1eeb01['parentId'])throw new _0x461f79(_0x461f79[_0x337731(0x34a)][_0x337731(0x16c)]);this['pendingSyncTransactions'][_0x337731(0x3dc)](_0x1eeb01[_0x337731(0x36a)],_0x1eeb01);}else{try{await this[_0x337731(0x1b1)](_0x1eeb01);}catch(_0x3abd43){}await this['updateLastTransactionId'](_0x1eeb01['id']),await this[_0x337731(0x2ad)](_0x1eeb01['id']);}}async['processTransactionPayload'](_0x48acf8){const _0x219b41=_0x22e38d;switch(_0x48acf8[_0x219b41(0x134)]){case _0x5b0297['FileWrite']:await this[_0x219b41(0x273)](_0x48acf8);break;case _0x5b0297[_0x219b41(0x269)]:await this[_0x219b41(0x425)](_0x48acf8);break;case _0x5b0297['Move']:await this[_0x219b41(0x3c3)](_0x48acf8);break;case _0x5b0297[_0x219b41(0x240)]:await this['handleObjectDelete'](_0x48acf8);break;default:throw new _0x461f79(_0x461f79['codes'][_0x219b41(0x16c)],{'payload':_0x48acf8});}}async[_0x22e38d(0x2ad)](_0x5f02d7){const _0x1b423a=_0x22e38d;if(this[_0x1b423a(0x334)][_0x1b423a(0x32d)](_0x5f02d7)){const _0x27e276=this[_0x1b423a(0x334)][_0x1b423a(0x61c)](_0x5f02d7);this[_0x1b423a(0x334)][_0x1b423a(0x421)](_0x5f02d7),await this[_0x1b423a(0x18a)](_0x27e276);}}async[_0x22e38d(0x41a)](_0x53a516){const _0x1ec805=_0x22e38d;switch(_0x53a516['action']){case _0x5b0297[_0x1ec805(0x609)]:return this[_0x1ec805(0x21d)](_0x53a516);case _0x5b0297[_0x1ec805(0x502)]:return this[_0x1ec805(0x128)](_0x53a516);case _0x5b0297[_0x1ec805(0x633)]:return this['handleFileSync'](_0x53a516);case _0x5b0297[_0x1ec805(0x1ac)]:return this[_0x1ec805(0x273)](_0x53a516);default:throw new _0x461f79(_0x461f79[_0x1ec805(0x34a)][_0x1ec805(0x16c)],{'payload':_0x53a516});}}async['handleFileWrite'](_0x2c9209){const _0x955574=_0x22e38d;if(!_0x2c9209['data']||void 0x0===_0x2c9209['index']||!_0x2c9209['total'])return void await this[_0x955574(0x15d)](_0x2c9209);const _0x97cffd=_0x1d2576(_0x2c9209[_0x955574(0x15e)],_0x2c9209[_0x955574(0x3d4)]);this[_0x955574(0x2ea)]['has'](_0x97cffd)||(this[_0x955574(0x2ea)][_0x955574(0x3dc)](_0x97cffd,[]),await this['createPendingFileWrite'](_0x2c9209)),this[_0x955574(0x427)](_0x2c9209,_0x97cffd);const _0x2264f1=this[_0x955574(0x2ea)][_0x955574(0x61c)](_0x97cffd);if(_0x2264f1[_0x2c9209[_0x955574(0x52c)]]=_0x2c9209[_0x955574(0x68c)],_0x2264f1[_0x955574(0x57f)](_0x26a72c=>_0x26a72c)[_0x955574(0x1e7)]<_0x2c9209[_0x955574(0x21b)])return;const _0x4b1928=_0x3f1c6f(_0x2264f1,_0x2c9209[_0x955574(0x3d4)],_0x2c9209[_0x955574(0x1a1)]);await this['writeFile'](_0x4b1928,_0x2c9209[_0x955574(0x15e)]),await this['deletePendingFile'](_0x2c9209),this[_0x955574(0x2ea)][_0x955574(0x421)](_0x97cffd),_0x2858e9[_0x955574(0x395)](_0x433bbf['ObjectStorage'],{'type':_0x955574(0x3f3),'label':this[_0x955574(0x2a8)],'userId':this[_0x955574(0x113)],'kind':_0x1684bb[_0x955574(0x67f)],'path':_0x2c9209[_0x955574(0x15e)],'fileName':_0x2c9209[_0x955574(0x3d4)],'fileType':_0x2c9209[_0x955574(0x1a1)],'size':_0x4b1928[_0x955574(0x4df)]});const _0x15f415=this[_0x955574(0x5a9)]['get'](_0x2c9209[_0x955574(0x15e)])??[];for(const _0x375360 of _0x15f415)await this[_0x955574(0x1b1)](_0x375360);this[_0x955574(0x5a9)]['delete'](_0x2c9209['path']),this[_0x955574(0x41e)][_0x955574(0x3c2)]({'event':_0x3b6d9e['FileWrite'],'payload':{'file':{'kind':_0x1684bb[_0x955574(0x67f)],'path':_0x2c9209[_0x955574(0x15e)],'type':_0x4b1928[_0x955574(0x1a1)],'size':_0x4b1928[_0x955574(0x4df)],'name':_0x2c9209['name'],'pathName':_0x97cffd}}});}async[_0x22e38d(0x425)](_0x2dce8f){const _0x18eed4=_0x22e38d;await this[_0x18eed4(0x2dc)][_0x18eed4(0x619)](_0x2dce8f[_0x18eed4(0x15e)]);const [_0x3be8a7,_0x3ae784]=_0x1bd766(_0x2dce8f[_0x18eed4(0x15e)]);this[_0x18eed4(0x41e)][_0x18eed4(0x3c2)]({'event':_0x3b6d9e[_0x18eed4(0x269)],'payload':{'folder':{'kind':_0x1684bb['Folder'],'name':_0x3ae784,'path':_0x3be8a7,'pathName':_0x2dce8f[_0x18eed4(0x15e)]}}});}async[_0x22e38d(0x219)](_0x52e0ed){const _0xa70e1d=_0x22e38d;if(!this[_0xa70e1d(0x21e)](_0x52e0ed))return;const _0x218dba=await this[_0xa70e1d(0x651)](_0x52e0ed['path']),[_0x376381,_0x34a9e8]=_0x1bd766(_0x52e0ed[_0xa70e1d(0x15e)]);this['eventListener'][_0xa70e1d(0x3c2)]({'event':_0x218dba===_0x1684bb[_0xa70e1d(0x3ae)]?_0x3b6d9e[_0xa70e1d(0x231)]:_0x3b6d9e[_0xa70e1d(0x120)],'payload':{'name':_0x34a9e8,'path':_0x376381,'pathName':_0x52e0ed['path']}});}async[_0x22e38d(0x3c3)](_0x4b293a){const _0x5d0012=_0x22e38d;if(!this[_0x5d0012(0x21e)](_0x4b293a))return this['pendingFilesRename']['set'](_0x4b293a['newPath'],this[_0x5d0012(0x1b5)][_0x5d0012(0x61c)](_0x4b293a[_0x5d0012(0x15e)])??_0x4b293a[_0x5d0012(0x15e)]),void this[_0x5d0012(0x1b5)][_0x5d0012(0x421)](_0x4b293a[_0x5d0012(0x15e)]);this[_0x5d0012(0x1b5)][_0x5d0012(0x421)](_0x4b293a[_0x5d0012(0x15e)]);const _0x23e67a=await this[_0x5d0012(0x2dc)][_0x5d0012(0x645)](_0x4b293a[_0x5d0012(0x15e)],_0x4b293a[_0x5d0012(0x355)]),[_0x1bf503,_0x1aec8e]=_0x1bd766(_0x4b293a[_0x5d0012(0x15e)]),[_0x4ea53b,_0x39bee8]=_0x1bd766(_0x4b293a[_0x5d0012(0x355)]);this[_0x5d0012(0x41e)]['publish']({'event':_0x23e67a===_0x1684bb[_0x5d0012(0x3ae)]?_0x3b6d9e[_0x5d0012(0x6c8)]:_0x3b6d9e[_0x5d0012(0x3de)],'payload':{'name':_0x39bee8,'path':_0x4ea53b,'pathName':_0x4b293a[_0x5d0012(0x355)],'oldName':_0x1aec8e,'oldPath':_0x1bf503,'oldPathName':_0x4b293a[_0x5d0012(0x15e)]}});}[_0x22e38d(0x21e)](_0x8c4097){const _0x497338=_0x22e38d,_0x579824=this[_0x497338(0x1b5)][_0x497338(0x61c)](_0x8c4097[_0x497338(0x15e)])??_0x8c4097[_0x497338(0x15e)];let _0x472c03=!0x1;for(const _0x55c051 of this[_0x497338(0x2ea)][_0x497338(0x371)]())if(_0x55c051['startsWith'](_0x579824)){const _0x1e8952=this[_0x497338(0x5a9)][_0x497338(0x61c)](_0x55c051)??[];_0x1e8952[_0x497338(0x386)](_0x8c4097),this[_0x497338(0x5a9)][_0x497338(0x3dc)](_0x55c051,_0x1e8952),_0x472c03=!0x0;}return!_0x472c03;}async['publishTransaction'](_0x3b1570){const _0x7107db=_0x22e38d;if(!_0x3b1570['id'])throw new _0x461f79(_0x461f79[_0x7107db(0x34a)][_0x7107db(0x16c)],{'message':_0x7107db(0x63a)});await this[_0x7107db(0x522)][_0x7107db(0x6b5)](_0x3b1570,this[_0x7107db(0x2a8)],this[_0x7107db(0x34c)]),await this['updateLastTransactionId'](_0x3b1570['id']);}async['updateLastTransactionId'](_0x5e6069){const _0x11ebfb=_0x22e38d;this[_0x11ebfb(0x34c)]=_0x5e6069;const _0x2bdf78=new File([new Blob([this[_0x11ebfb(0x34c)]])],_0xaa2dc0,{'type':'text/plain'});await this['writeFile'](_0x2bdf78,'/');}async['handleFileRequest'](_0xe99dd2){const _0x456a43=_0x22e38d;try{const _0x44f9c4=await this[_0x456a43(0x61c)](_0xe99dd2[_0x456a43(0x15e)]+'/'+_0xe99dd2[_0x456a43(0x3d4)]);if(await _0x6a176(_0x44f9c4)!==_0xe99dd2[_0x456a43(0x12f)])return;_0xe99dd2['answererId']=this[_0x456a43(0x113)],_0xe99dd2[_0x456a43(0x134)]=_0x5b0297[_0x456a43(0x502)],await this[_0x456a43(0x4f9)](_0xe99dd2,[_0xe99dd2[_0x456a43(0x3c7)]]);}catch(_0x3b5428){}}async['handleFileRequestAnswer'](_0x15d977){const _0x24c75c=_0x22e38d,_0x4efd21=_0x1d2576(_0x15d977['path'],_0x15d977['name']);if(!this[_0x24c75c(0x498)][_0x24c75c(0x32d)](_0x4efd21))return;const _0x44da65=this['objectRequests'][_0x24c75c(0x61c)](_0x4efd21);_0x44da65['action']=_0x5b0297[_0x24c75c(0x633)];const _0x32f67b=_0x15d977['answererId'];if(!_0x32f67b)throw new _0x461f79(_0x461f79[_0x24c75c(0x34a)][_0x24c75c(0x16c)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});this[_0x24c75c(0x498)][_0x24c75c(0x421)](_0x4efd21),this[_0x24c75c(0x3b5)][_0x24c75c(0x32d)](_0x32f67b)||this['pendingFilesSyncing'][_0x24c75c(0x3dc)](_0x32f67b,new Map()),this[_0x24c75c(0x3b5)][_0x24c75c(0x61c)](_0x32f67b)[_0x24c75c(0x3dc)](_0x4efd21,[_0x44da65,this[_0x24c75c(0x271)](_0x32f67b,_0x4efd21)]),_0x44da65[_0x24c75c(0x35f)]=_0x32f67b,this[_0x24c75c(0x4f9)](_0x44da65,[_0x32f67b]);}async[_0x22e38d(0x56d)](_0x168546){const _0x35ae9a=_0x22e38d,_0x507e8b=_0x1d2576(_0x168546[_0x35ae9a(0x15e)],_0x168546['name']),_0x4ec304=await this[_0x35ae9a(0x61c)](_0x507e8b),_0x5bb3fe={..._0x168546,'answererId':this[_0x35ae9a(0x113)],'action':_0x5b0297[_0x35ae9a(0x1ac)]};await this['sendFile'](_0x4ec304,_0x5bb3fe,[_0x168546[_0x35ae9a(0x3c7)]]);}async[_0x22e38d(0x3bf)](_0x183672,_0x3e8c96,_0x257de6){const _0x2305be=_0x22e38d,_0x4c86a2=await _0x284e0d(_0x183672);for(const [_0x5807cf,_0x8e87cc]of _0x4c86a2[_0x2305be(0x578)]()){const _0x52217e={..._0x3e8c96,'type':_0x183672['type'],'data':_0x8e87cc,'index':_0x5807cf,'total':_0x4c86a2[_0x2305be(0x1e7)]};this[_0x2305be(0x4f9)](_0x52217e,_0x257de6);}}async['deletePendingFile'](_0x26244d){const _0x2256fa=_0x22e38d;try{const _0x403e58=_0x1d2576(_0x26244d['path'],_0x26244d['name']),_0xbf1e29=_0x403e58+_0x527089;await this[_0x2256fa(0x651)](_0xbf1e29);const [,_0xe92a31]=this['pendingFilesSyncing'][_0x2256fa(0x61c)](_0x26244d[_0x2256fa(0x35f)])?.['get'](_0x403e58)??[];_0xe92a31&&(clearTimeout(_0xe92a31),this[_0x2256fa(0x3b5)][_0x2256fa(0x61c)](_0x26244d[_0x2256fa(0x35f)])[_0x2256fa(0x421)](_0x403e58));}catch(_0x2f5bfb){}}async[_0x22e38d(0x37d)](){const _0x41569c=_0x22e38d,_0x3697cf=await this[_0x41569c(0x522)][_0x41569c(0x2bc)](this['label'],this[_0x41569c(0x34c)]);for(const _0x4aec61 of _0x3697cf)await this[_0x41569c(0x18a)](_0x4aec61);}async[_0x22e38d(0x6c5)](){const _0x466692=_0x22e38d,_0x2e7859=await this[_0x466692(0x18e)]('/',!0x0,!0x0),_0x2434c5=async _0x176748=>{const _0x37140e=_0x466692;for(const _0x58b3f7 of _0x176748){if(_0x58b3f7[_0x37140e(0x22d)]===_0x1684bb[_0x37140e(0x3ae)]){_0x58b3f7[_0x37140e(0x578)]&&_0x58b3f7[_0x37140e(0x578)][_0x37140e(0x1e7)]>0x0&&await _0x2434c5(_0x58b3f7[_0x37140e(0x578)]);continue;}if(!_0x58b3f7['name'][_0x37140e(0x42b)](_0x527089))continue;const _0x59f791=await this['get'](_0x58b3f7[_0x37140e(0x35b)]),_0x1cdc0a=await _0x59f791[_0x37140e(0x54c)](),_0x28cf8e=_0x58b3f7[_0x37140e(0x3d4)]['replace'](_0x527089,''),_0xfba2b2={'payloadType':_0x144831[_0x37140e(0x684)],'action':_0x5b0297[_0x37140e(0x609)],'sourceId':this[_0x37140e(0x113)],'type':'','path':_0x58b3f7[_0x37140e(0x15e)],'name':_0x28cf8e,'checksum':_0x1cdc0a},_0x54f381=_0x1d2576(_0x58b3f7['path'],_0x28cf8e);this['objectRequests'][_0x37140e(0x3dc)](_0x54f381,_0xfba2b2);}};await _0x2434c5(_0x2e7859);}async[_0x22e38d(0x15d)](_0x2ebd3c){const _0x439978=_0x22e38d,_0x2a8f4d=new File([new Blob([_0x2ebd3c[_0x439978(0x12f)]])],''+_0x2ebd3c[_0x439978(0x3d4)]+_0x527089,{'type':_0x439978(0x4be)});await this[_0x439978(0x1e6)](_0x2a8f4d,_0x2ebd3c[_0x439978(0x15e)]);}[_0x22e38d(0x271)](_0x524625,_0x284975){const _0x3195c4=_0x22e38d,[_0x56b413,_0x4318f6]=this[_0x3195c4(0x3b5)][_0x3195c4(0x61c)](_0x524625)?.[_0x3195c4(0x61c)](_0x284975)??[];return _0x4318f6&&clearTimeout(_0x4318f6),window['setTimeout'](()=>{const _0x1c417f=_0x3195c4,[_0x25309b,_0x5344f9]=this[_0x1c417f(0x3b5)]['get'](_0x524625)[_0x1c417f(0x61c)](_0x284975);this[_0x1c417f(0x5f3)](_0x25309b,_0x5344f9);},0xea60);}async['sendFileRequestPayload'](_0x5ce1d7,_0x469c8f){const _0x5d8c68=_0x22e38d;clearTimeout(_0x469c8f),_0x5ce1d7[_0x5d8c68(0x134)]=_0x5b0297['RequestFile'],this[_0x5d8c68(0x498)][_0x5d8c68(0x3dc)](_0x1d2576(_0x5ce1d7['path'],_0x5ce1d7[_0x5d8c68(0x3d4)]),_0x5ce1d7),this[_0x5d8c68(0x4f9)](_0x5ce1d7);}[_0x22e38d(0x427)](_0x2b0d15,_0x5eb24e){const _0x17619d=_0x22e38d;this['pendingFilesSyncing']['has'](_0x2b0d15['answererId'])||this[_0x17619d(0x3b5)]['set'](_0x2b0d15[_0x17619d(0x35f)],new Map());const [_0x28bc2a]=this[_0x17619d(0x3b5)]['get'](_0x2b0d15['answererId'])['get'](_0x5eb24e)??[{'payloadType':_0x144831[_0x17619d(0x684)],'action':_0x5b0297[_0x17619d(0x609)],'sourceId':this['ownerId'],'type':_0x2b0d15['type'],'name':_0x2b0d15[_0x17619d(0x3d4)],'path':_0x2b0d15[_0x17619d(0x15e)],'checksum':_0x2b0d15[_0x17619d(0x12f)],'answererId':_0x2b0d15[_0x17619d(0x35f)]}];this['pendingFilesSyncing'][_0x17619d(0x61c)](_0x2b0d15[_0x17619d(0x35f)])[_0x17619d(0x3dc)](_0x5eb24e,[_0x28bc2a,this['getOrResetPendingFileTimeout'](_0x2b0d15[_0x17619d(0x35f)],_0x5eb24e)]);}async[_0x22e38d(0x1e6)](_0x3d91b6,_0x3faaff){const _0x560598=_0x22e38d;await this[_0x560598(0x2dc)][_0x560598(0x1e6)](_0x3d91b6,_0x3faaff);}async[_0x22e38d(0x651)](_0x48da15){const _0x3be490=_0x22e38d;try{return await this[_0x3be490(0x2dc)][_0x3be490(0x651)](_0x48da15);}catch(_0x371431){return await this[_0x3be490(0x2dc)]['deleteObject'](_0x48da15+_0x527089);}}async[_0x22e38d(0x645)](_0x36b010,_0x1e7f1f){const _0xded42b=_0x22e38d;try{return await this[_0xded42b(0x2dc)][_0xded42b(0x645)](_0x36b010,_0x1e7f1f);}catch(_0x9eac24){return await this['objectStoreConnector']['moveObject'](_0x36b010+_0x527089,_0x1e7f1f+_0x527089);}}[_0x22e38d(0x14c)](){const _0x2ec24a=_0x22e38d;this['debounceStats']&&clearTimeout(this[_0x2ec24a(0x321)]),this[_0x2ec24a(0x321)]=window[_0x2ec24a(0x4a5)](async()=>{const _0x4d2efb=_0x2ec24a;delete this[_0x4d2efb(0x321)];const _0x17e672=await this[_0x4d2efb(0x2dc)][_0x4d2efb(0x37b)]('/');this[_0x4d2efb(0x358)]?.['publish']({'sourceId':_0x58c96e,'messageType':_0x120441['Content'],'content':{'type':_0x10a2a5[_0x4d2efb(0x4d1)],'label':this[_0x4d2efb(0x2a8)],'stats':{'timestamp':Date[_0x4d2efb(0x5c7)](),'storage':_0x17e672,'messagesSent':this[_0x4d2efb(0x693)],'messagesReceived':this[_0x4d2efb(0x573)],'bytesSent':this[_0x4d2efb(0x3f9)],'bytesReceived':this[_0x4d2efb(0x19c)],'writes':this[_0x4d2efb(0x121)],'reads':this[_0x4d2efb(0x46d)]}}}),_0x2858e9[_0x4d2efb(0x285)](_0x433bbf[_0x4d2efb(0x313)],this[_0x4d2efb(0x2a8)],_0x17e672);},0x1388);}}class _0x28ba21 extends _0x2f363c{[_0x22e38d(0x177)];constructor(_0x29a4db,_0x577ebd,_0x1138f1){super(_0x29a4db,_0x577ebd),this['mediaStream']=_0x1138f1;}[_0x22e38d(0x428)](){const _0x3e6bc8=_0x22e38d;return _0x35274c[_0x3e6bc8(0x6c4)];}[_0x22e38d(0x28b)](){const _0x20720e=_0x22e38d;return this[_0x20720e(0x177)];}[_0x22e38d(0x3a5)](){return this['mediaStream']['id'];}}class _0x1e17ee extends _0x28ba21{['remoteId'];[_0x22e38d(0x1ea)];[_0x22e38d(0x520)];['unregisterPublisherListener']=_0x151e07();constructor(_0x4dea56,_0x1322b5,_0x23b462,_0x371951,_0x3947af){const _0x38c534=_0x22e38d;super(_0x4dea56,_0x1322b5,_0x23b462),this['remoteId']=_0x371951,this[_0x38c534(0x1ea)]=_0x3947af;}[_0x22e38d(0x3d0)](){const _0x52d6a0=_0x22e38d;this['removeTrack']('audio'),this[_0x52d6a0(0x45a)]('video'),super[_0x52d6a0(0x3d0)]();}[_0x22e38d(0x25c)](_0x5e04b5){const _0x447785=_0x22e38d;if(!this[_0x447785(0x520)])throw new _0x461f79(_0x461f79[_0x447785(0x34a)][_0x447785(0x32b)],{'label':this[_0x447785(0x2a8)],'ownerId':this[_0x447785(0x113)],'remoteId':this[_0x447785(0x2b0)]});this[_0x447785(0x520)][_0x447785(0x3c2)]({'sourceId':this[_0x447785(0x113)],'content':{'action':_0x43b291[_0x447785(0x27e)],'track':_0x5e04b5,'stream':this[_0x447785(0x177)],'priority':_0xa67d19[_0x447785(0x6b4)],'params':this[_0x447785(0x44f)](_0x5e04b5[_0x447785(0x22d)],this[_0x447785(0x1ea)])}});}['removeTrack'](_0xf620c7){const _0x4c6818=_0x22e38d,_0x3ee9d2=this[_0x4c6818(0x5f1)](_0xf620c7);if(_0x3ee9d2){if(!this['topic'])return null;this[_0x4c6818(0x520)][_0x4c6818(0x3c2)]({'sourceId':this[_0x4c6818(0x113)],'content':{'action':_0x43b291[_0x4c6818(0x3c5)],'track':_0x3ee9d2,'stream':this[_0x4c6818(0x177)]}});}return _0x3ee9d2;}[_0x22e38d(0x25d)](_0x5add1a){const _0x47387b=_0x22e38d;if(!this[_0x47387b(0x520)])throw new _0x461f79(_0x461f79[_0x47387b(0x34a)][_0x47387b(0x32b)],{'label':this['label'],'ownerId':this[_0x47387b(0x113)],'remoteId':this[_0x47387b(0x2b0)]});this[_0x47387b(0x520)][_0x47387b(0x3c2)]({'sourceId':this['ownerId'],'content':{'action':_0x43b291[_0x47387b(0x39a)],'priority':_0x5add1a,'stream':this[_0x47387b(0x177)]}});}[_0x22e38d(0x51e)]({trackKinds:_0x56225f,params:_0x5a707c},_0x3896e3){const _0x20280f=_0x22e38d;if(!this[_0x20280f(0x520)])throw new _0x461f79(_0x461f79[_0x20280f(0x34a)][_0x20280f(0x32b)],{'label':this[_0x20280f(0x2a8)],'ownerId':this['ownerId'],'remoteId':this['remoteId']});for(const _0x157e45 of this[_0x20280f(0x177)][_0x20280f(0x58a)]())_0x56225f['includes'](_0x157e45[_0x20280f(0x22d)])&&this['topic'][_0x20280f(0x3c2)]({'sourceId':this[_0x20280f(0x113)],'content':{'action':_0x43b291['Add'],'track':_0x157e45,'stream':this[_0x20280f(0x177)],'priority':_0x3896e3,'params':this['getInternalTrackParams'](_0x157e45[_0x20280f(0x22d)],_0x5a707c)}});}[_0x22e38d(0x5c1)]({params:_0x3edec4}){const _0x24bb34=_0x22e38d;if(!this[_0x24bb34(0x520)])throw new _0x461f79(_0x461f79['codes'][_0x24bb34(0x32b)],{'label':this[_0x24bb34(0x2a8)],'ownerId':this[_0x24bb34(0x113)],'remoteId':this[_0x24bb34(0x2b0)]});for(const _0x4fe1c3 of this[_0x24bb34(0x177)][_0x24bb34(0x58a)]())this['topic'][_0x24bb34(0x3c2)]({'sourceId':this['ownerId'],'content':{'action':_0x43b291[_0x24bb34(0x39a)],'stream':this[_0x24bb34(0x177)],'params':this[_0x24bb34(0x44f)](_0x4fe1c3[_0x24bb34(0x22d)],_0x3edec4)}});}[_0x22e38d(0x64a)]({trackKinds:_0x510f95}){const _0x8415bc=_0x22e38d;if(this['topic']){for(const _0xfceaaa of this[_0x8415bc(0x177)][_0x8415bc(0x58a)]())_0x510f95[_0x8415bc(0x4c9)](_0xfceaaa[_0x8415bc(0x22d)])&&this[_0x8415bc(0x520)][_0x8415bc(0x3c2)]({'sourceId':this['ownerId'],'content':{'action':_0x43b291[_0x8415bc(0x3c5)],'stream':this['mediaStream'],'track':_0xfceaaa}});}}['registerPublisher'](_0xf9e92){const _0x26d519=_0x22e38d;this[_0x26d519(0x520)]=_0xf9e92;}[_0x22e38d(0x2b8)](_0x19bbe8){const _0x64263d=_0x22e38d;_0x19bbe8===this[_0x64263d(0x520)]&&(delete this[_0x64263d(0x520)],this['unregisterPublisherListener'][_0x64263d(0x3c2)]());}[_0x22e38d(0x6a4)](_0x53ce66){const _0x25bf1f=_0x22e38d;return this['unregisterPublisherListener'][_0x25bf1f(0x51e)](_0x53ce66);}['getTrack'](_0x2a4dd3){const _0x9430bb=_0x22e38d;return this[_0x9430bb(0x177)]['getTracks']()[_0x9430bb(0x5de)](_0x2be790=>_0x2be790[_0x9430bb(0x22d)]===_0x2a4dd3)||null;}[_0x22e38d(0x44f)](_0x832727,_0x5b9225){const _0x4073ed=_0x22e38d;let _0x28a1e8;return'video'===_0x832727&&_0x5b9225?.[_0x4073ed(0x4eb)]&&_0x4073ed(0x658)!=typeof _0x5b9225[_0x4073ed(0x4eb)]&&(_0x28a1e8={'kind':_0x4073ed(0x4eb),..._0x5b9225[_0x4073ed(0x4eb)]},_0x28a1e8['resolution']=this[_0x4073ed(0x648)]()),_0x4073ed(0x19e)===_0x832727&&_0x5b9225?.['audio']&&'boolean'!=typeof _0x5b9225['audio']&&(_0x28a1e8={'kind':'audio',..._0x5b9225[_0x4073ed(0x19e)]}),_0x28a1e8;}[_0x22e38d(0x648)](){const _0x4b9c9f=_0x22e38d;let _0x20b56a={'width':0x0,'height':0x0};const _0x566015=this['mediaStream'][_0x4b9c9f(0x2c5)]();if(_0x566015[_0x4b9c9f(0x1e7)]>0x0){const _0x3eb7af=_0x566015[0x0][_0x4b9c9f(0x309)]();_0x3eb7af['width']&&_0x3eb7af[_0x4b9c9f(0x537)]&&(_0x20b56a={'width':_0x3eb7af[_0x4b9c9f(0x256)],'height':_0x3eb7af[_0x4b9c9f(0x537)]});}return _0x20b56a;}}class _0x1d96c1 extends _0x28ba21{[_0x22e38d(0x1d7)]=_0xa67d19['Default'];[_0x22e38d(0x108)]=new Map();['outgoingStreams']=new Map();constructor(_0x12913b,_0x18eb8f,_0x21047c){const _0x80be25=_0x22e38d;super(_0x12913b,_0x18eb8f,_0x21047c instanceof MediaStream?_0x21047c:_0x21047c['srcObject']?_0x21047c['srcObject']:_0x21047c[_0x80be25(0x3f1)]()),this[_0x80be25(0x177)]['getTracks']()[_0x80be25(0x237)](_0x45a8bc=>this[_0x80be25(0x1fe)](_0x45a8bc)),_0x2858e9[_0x80be25(0x395)](_0x433bbf['MediaStream'],{'type':_0x80be25(0x3c2),'label':this[_0x80be25(0x2a8)],'userId':this[_0x80be25(0x113)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x80be25(0x177)]['getTracks']()['map'](_0x59d00c=>_0x59d00c[_0x80be25(0x22d)])});}[_0x22e38d(0x3d0)](){const _0x11ae67=_0x22e38d;this['outgoingStreams'][_0x11ae67(0x4df)]>0x0&&(this['outgoingStreams'][_0x11ae67(0x237)](_0x370bea=>{const _0x523601=_0x11ae67;_0x370bea[_0x523601(0x43f)](),_0x370bea[_0x523601(0x3d0)]();}),this[_0x11ae67(0x48f)][_0x11ae67(0x160)]()),this[_0x11ae67(0x108)]['forEach'](_0x434536=>_0x434536()),super[_0x11ae67(0x3d0)]();}[_0x22e38d(0x3c2)](_0x2c1b18){const _0x18eafe=_0x22e38d;this[_0x18eafe(0x358)]['publish']({'sourceId':this['ownerId'],'destinationIds':_0x2c1b18?[_0x2c1b18]:void 0x0,'propagate':!0x0,'messageType':_0x120441[_0x18eafe(0x2f3)],'content':{'type':_0x10a2a5['PublishMediaStream'],'ownerId':this[_0x18eafe(0x113)],'label':this[_0x18eafe(0x2a8)],'stream':{'streamId':this[_0x18eafe(0x3a5)](),'availableTrackKinds':this[_0x18eafe(0x177)][_0x18eafe(0x58a)]()[_0x18eafe(0x672)](_0x5c8356=>_0x5c8356['kind'])}}});}[_0x22e38d(0x393)](){const _0x3a31b9=_0x22e38d;this['systemTopic']['publish']({'sourceId':this[_0x3a31b9(0x113)],'propagate':!0x0,'messageType':_0x120441[_0x3a31b9(0x2f3)],'content':{'type':_0x10a2a5[_0x3a31b9(0x618)],'ownerId':this[_0x3a31b9(0x113)],'label':this['label']}}),this['systemTopic'][_0x3a31b9(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441['Content'],'content':{'type':_0x10a2a5['CloseMediaStream'],'label':this[_0x3a31b9(0x2a8)]}}),_0x2858e9[_0x3a31b9(0x395)](_0x433bbf[_0x3a31b9(0x4b6)],{'type':_0x3a31b9(0x393),'label':this['label'],'userId':this[_0x3a31b9(0x113)],'streamId':this[_0x3a31b9(0x3a5)]()});}[_0x22e38d(0x33b)](){const _0x6dd0b8=_0x22e38d;return this[_0x6dd0b8(0x1d7)];}[_0x22e38d(0x25d)](_0x5d3f94){const _0x3ab723=_0x22e38d;this[_0x3ab723(0x1d7)]=_0x5d3f94,this[_0x3ab723(0x48f)][_0x3ab723(0x237)](_0xbad463=>_0xbad463[_0x3ab723(0x25d)](_0x5d3f94));}['getShareableStream'](_0x3d3ff3,_0x569576){const _0x517c60=_0x22e38d;if(!this[_0x517c60(0x48f)]['has'](_0x3d3ff3)){const _0x6ecb7b=new _0x1e17ee(this[_0x517c60(0x113)],this[_0x517c60(0x2a8)],this[_0x517c60(0x177)],_0x3d3ff3,_0x569576),_0x379df7=_0x6ecb7b[_0x517c60(0x6a4)](()=>{const _0x36ea25=_0x517c60;_0x379df7(),this[_0x36ea25(0x48f)][_0x36ea25(0x61c)](_0x3d3ff3)?.[_0x36ea25(0x3d0)](),this[_0x36ea25(0x48f)][_0x36ea25(0x421)](_0x3d3ff3);});this[_0x517c60(0x48f)][_0x517c60(0x3dc)](_0x3d3ff3,_0x6ecb7b),_0x6ecb7b[_0x517c60(0x45c)](this['systemTopic']);}return this[_0x517c60(0x48f)][_0x517c60(0x61c)](_0x3d3ff3);}[_0x22e38d(0x629)](){return this['mediaStream']['id'];}[_0x22e38d(0x1b0)](_0x328e61){const _0x21119d=_0x22e38d;this[_0x21119d(0x358)][_0x21119d(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x21119d(0x2f3)],'content':{'type':_0x10a2a5[_0x21119d(0x554)],'label':this[_0x21119d(0x2a8)],'trackKinds':[_0x328e61[_0x21119d(0x22d)]]}});}[_0x22e38d(0x1fe)](_0x5db914){const _0x4a518b=_0x22e38d,_0x1d95d0=()=>this[_0x4a518b(0x1b0)](_0x5db914);_0x5db914[_0x4a518b(0x14f)](_0x4a518b(0x44a),_0x1d95d0),_0x5db914[_0x4a518b(0x14f)]('mute',_0x1d95d0),this[_0x4a518b(0x108)][_0x4a518b(0x3dc)](_0x5db914[_0x4a518b(0x22d)],()=>{const _0x5ee713=_0x4a518b;_0x5db914['removeEventListener'](_0x5ee713(0x44a),_0x1d95d0),_0x5db914[_0x5ee713(0x107)](_0x5ee713(0x27f),_0x1d95d0),this['trackEndedListeners'][_0x5ee713(0x421)](_0x5db914['kind']);});}}class _0x3cf753 extends _0x1d96c1{[_0x22e38d(0x1ba)];[_0x22e38d(0x673)]=[];[_0x22e38d(0x243)];[_0x22e38d(0x505)];[_0x22e38d(0x46c)];[_0x22e38d(0x568)];[_0x22e38d(0x403)];[_0x22e38d(0x436)];[_0x22e38d(0x36c)];constructor(_0x5b6bbc,_0x4031e1,_0x2bbb29,_0x3e0554,_0xa791bf){const _0x56af6e=_0x22e38d;if(super(_0x5b6bbc,_0x4031e1,_0x2bbb29),this[_0x56af6e(0x1ba)]=_0xa791bf,this[_0x56af6e(0x243)]=this['mediaStream'],this[_0x56af6e(0x568)]=document[_0x56af6e(0x23d)](_0x56af6e(0x4eb)),this['sourceVideo'][_0x56af6e(0x637)]=!0x0,this[_0x56af6e(0x568)][_0x56af6e(0x242)]=!0x0,this[_0x56af6e(0x568)][_0x56af6e(0x667)]=this[_0x56af6e(0x243)],this[_0x56af6e(0x568)][_0x56af6e(0x32f)](),this[_0x56af6e(0x568)][_0x56af6e(0x465)]=()=>{const _0x40e6c3=_0x56af6e;this[_0x40e6c3(0x568)]['play']();},this[_0x56af6e(0x403)]=document[_0x56af6e(0x23d)](_0x56af6e(0x403)),this[_0x56af6e(0x436)]=this[_0x56af6e(0x403)][_0x56af6e(0x1eb)]('2d'),this['mediaStream']=this['canvas'][_0x56af6e(0x3f1)](_0x3e0554),this[_0x56af6e(0x46c)]=this[_0x56af6e(0x1ba)][_0x56af6e(0x2fa)](),this[_0x56af6e(0x243)][_0x56af6e(0x26f)]()[_0x56af6e(0x1e7)]>0x0){const _0x382157=this['clientStream']['getAudioTracks']()[0x0];this[_0x56af6e(0x505)]=this['audioContext']['createMediaStreamSource'](new MediaStream([_0x382157])),this['audioSource'][_0x56af6e(0x621)](this['audioDestination']);}const _0x27d71b=this[_0x56af6e(0x46c)][_0x56af6e(0x469)][_0x56af6e(0x58a)]()[0x0];this[_0x56af6e(0x177)][_0x56af6e(0x25c)](_0x27d71b),this[_0x56af6e(0x36c)]=setInterval(()=>{const _0xd5ea59=_0x56af6e;this['canvas']['width']=this[_0xd5ea59(0x568)][_0xd5ea59(0x25b)],this['canvas'][_0xd5ea59(0x537)]=this[_0xd5ea59(0x568)][_0xd5ea59(0x16d)],this[_0xd5ea59(0x568)][_0xd5ea59(0x25b)]?(0x0!==this['clientStream'][_0xd5ea59(0x2c5)]()['length']&&this[_0xd5ea59(0x243)][_0xd5ea59(0x2c5)]()[0x0][_0xd5ea59(0x501)]?this[_0xd5ea59(0x177)]['getVideoTracks']()[0x0][_0xd5ea59(0x501)]=!0x0:this[_0xd5ea59(0x177)][_0xd5ea59(0x2c5)]()[0x0]['enabled']=!0x1,0x0!==this[_0xd5ea59(0x243)][_0xd5ea59(0x26f)]()[_0xd5ea59(0x1e7)]&&this[_0xd5ea59(0x243)][_0xd5ea59(0x26f)]()[0x0][_0xd5ea59(0x501)]?this[_0xd5ea59(0x177)][_0xd5ea59(0x26f)]()[0x0]['enabled']=!0x0:this[_0xd5ea59(0x177)][_0xd5ea59(0x26f)]()[0x0][_0xd5ea59(0x501)]=!0x1,this[_0xd5ea59(0x436)][_0xd5ea59(0x4e5)](this[_0xd5ea59(0x568)],0x0,0x0)):this['context'][_0xd5ea59(0x249)](0x0,0x0,this['canvas'][_0xd5ea59(0x256)],this[_0xd5ea59(0x403)][_0xd5ea59(0x537)]);},0x3e8/_0x3e0554);}[_0x22e38d(0x3d0)](){const _0xc3325=_0x22e38d;clearInterval(this[_0xc3325(0x36c)]),this[_0xc3325(0x568)][_0xc3325(0x5d6)](),this[_0xc3325(0x403)][_0xc3325(0x5d6)](),this['audioSource']?.[_0xc3325(0x156)](),this['audioDestination'][_0xc3325(0x156)](),this[_0xc3325(0x177)][_0xc3325(0x58a)]()[_0xc3325(0x237)](_0x2416ba=>{const _0x191336=_0xc3325;_0x2416ba[_0x191336(0x6a1)](),this[_0x191336(0x177)][_0x191336(0x45a)](_0x2416ba);}),super[_0xc3325(0x3d0)]();}['addTrack'](_0x1d81de){const _0x56f429=_0x22e38d,_0x459e56=this[_0x56f429(0x5f1)](_0x1d81de[_0x56f429(0x22d)]);_0x459e56&&this['removeTrack'](_0x459e56),'audio'!==_0x1d81de['kind']?(_0x56f429(0x4eb)===_0x1d81de['kind']&&this[_0x56f429(0x510)](_0x1d81de),this[_0x56f429(0x1fe)](_0x1d81de)):this[_0x56f429(0x4fe)](_0x1d81de);}[_0x22e38d(0x45a)](_0x41746b){const _0x1c2aeb=_0x22e38d,_0x268400=this[_0x1c2aeb(0x47c)](_0x41746b);return _0x268400&&(_0x1c2aeb(0x19e)===_0x268400[_0x1c2aeb(0x22d)]&&(this['audioSource']?.[_0x1c2aeb(0x156)](),this[_0x1c2aeb(0x505)]=void 0x0),this[_0x1c2aeb(0x108)][_0x1c2aeb(0x61c)](_0x268400['kind'])?.(),this['clientStream'][_0x1c2aeb(0x45a)](_0x268400)),_0x268400;}[_0x22e38d(0x5bc)](_0x13a954){const _0x22ed4a=_0x22e38d;this[_0x22ed4a(0x45a)](_0x13a954['kind']),this[_0x22ed4a(0x25c)](_0x13a954);}[_0x22e38d(0x3d8)](_0x5c0d88){const _0x54bc4b=_0x22e38d;this[_0x54bc4b(0x673)]=_0x5c0d88;}[_0x22e38d(0x5f1)](_0x3fe09b){const _0x19afdd=_0x22e38d;return this[_0x19afdd(0x243)][_0x19afdd(0x58a)]()[_0x19afdd(0x5de)](_0x4d1283=>_0x4d1283[_0x19afdd(0x22d)]===_0x3fe09b)||null;}[_0x22e38d(0x47c)](_0x46abcf){const _0x4f8007=_0x22e38d;return'string'==typeof _0x46abcf?this[_0x4f8007(0x5f1)](_0x46abcf):_0x46abcf;}[_0x22e38d(0x4fe)](_0x527bf9){const _0x1f68c3=_0x22e38d;'suspended'===this['audioContext'][_0x1f68c3(0x62b)]&&this[_0x1f68c3(0x1ba)][_0x1f68c3(0x166)](),this['clientStream'][_0x1f68c3(0x25c)](_0x527bf9),this[_0x1f68c3(0x505)]=this[_0x1f68c3(0x1ba)]['createMediaStreamSource'](this[_0x1f68c3(0x243)]),this[_0x1f68c3(0x505)][_0x1f68c3(0x621)](this[_0x1f68c3(0x46c)]);}[_0x22e38d(0x510)](_0x514728){const _0x1a4fde=_0x22e38d;this[_0x1a4fde(0x243)][_0x1a4fde(0x25c)](_0x514728),this[_0x1a4fde(0x568)][_0x1a4fde(0x32f)]();}}class _0x192084 extends _0x1d96c1{}class _0xac615b extends _0x5467c3{['unsubscribeHandler']=new Map();[_0x22e38d(0x321)];constructor(_0x4fde66,_0x162271){const _0x688ce6=_0x22e38d;if(_0x688ce6(0x20b)!=typeof _0x162271)throw new _0x36acfc(_0xf36e85['PubSubTopicNameNotString'],_0x688ce6(0x2a0));super(_0x4fde66,_0x162271);}[_0x22e38d(0x428)](){return _0x35274c['PubSub'];}[_0x22e38d(0x3c2)](_0x563fa2,_0x169832){const _0x54926a=_0x22e38d;_0x2858e9[_0x54926a(0x3a0)](_0x5abff4['PubSub'],_0x54926a(0x3c1),this['ownerId'],_0x563fa2,_0x169832),_0x2858e9['logServiceEvent'](_0x433bbf[_0x54926a(0x53f)],{'type':_0x54926a(0x3c2),'label':this[_0x54926a(0x2a8)],'userId':this[_0x54926a(0x113)],'remoteIds':_0x169832??[],'contentType':_0x563fa2 instanceof File?_0x35274c[_0x54926a(0x67f)]:_0x35274c[_0x54926a(0x47f)],'size':_0x563fa2 instanceof File?_0x563fa2[_0x54926a(0x4df)]:JSON[_0x54926a(0x67a)](_0x563fa2)[_0x54926a(0x1e7)]}),this['sendStats'](),this[_0x54926a(0x4f9)](_0x563fa2,_0x169832);}['subscribe'](_0x42ab3c,_0x287ff2){const _0x16b3c0=_0x22e38d;if(this['unsubscribeHandler'][_0x16b3c0(0x32d)](_0x42ab3c))throw new _0x36acfc(_0xf36e85[_0x16b3c0(0x5e9)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this['unsubscribeHandler'][_0x16b3c0(0x3dc)](_0x42ab3c,this[_0x16b3c0(0x5a3)]((_0x429330,_0x38c270)=>{const _0x1c65bd=_0x16b3c0;'data'===_0x42ab3c&&_0x38c270 instanceof File||!('file'!==_0x42ab3c||_0x38c270 instanceof File)||(_0x2858e9[_0x1c65bd(0x3a0)](_0x5abff4[_0x1c65bd(0x53f)],_0x1c65bd(0x451),this['ownerId'],_0x429330,_0x38c270),_0x2858e9[_0x1c65bd(0x395)](_0x433bbf['PubSub'],{'type':'subscribe','label':this[_0x1c65bd(0x2a8)],'userId':this[_0x1c65bd(0x113)],'remoteId':_0x429330,'contentType':_0x42ab3c,'size':_0x38c270 instanceof File?_0x38c270[_0x1c65bd(0x4df)]:JSON[_0x1c65bd(0x67a)](_0x38c270)[_0x1c65bd(0x1e7)]}),this[_0x1c65bd(0x14c)](),_0x287ff2(_0x429330,_0x38c270));}));}[_0x22e38d(0x64a)](_0x4abb97){const _0x296ba5=_0x22e38d;this[_0x296ba5(0x4e4)][_0x296ba5(0x61c)](_0x4abb97)?.(),this['unsubscribeHandler']['delete'](_0x4abb97);}[_0x22e38d(0x3d0)](){const _0xc27036=_0x22e38d;this['unsubscribeHandler']['forEach'](_0x4e6834=>_0x4e6834()),clearTimeout(this[_0xc27036(0x321)]),delete this[_0xc27036(0x321)],super['destroy']();}[_0x22e38d(0x13a)](){const _0x313cfd=_0x22e38d;this[_0x313cfd(0x358)]?.[_0x313cfd(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x313cfd(0x2f3)],'content':{'type':_0x10a2a5['ClosePubSubTopic'],'label':this['label']}});}['sendStats'](){const _0x1e81ac=_0x22e38d;this[_0x1e81ac(0x321)]&&clearTimeout(this['debounceStats']),this[_0x1e81ac(0x321)]=window['setTimeout'](()=>{const _0x45db41=_0x1e81ac;this[_0x45db41(0x358)]?.['publish']({'sourceId':_0x58c96e,'messageType':_0x120441['Content'],'content':{'type':_0x10a2a5['PubSubTopicStats'],'label':this[_0x45db41(0x2a8)],'stats':{'timestamp':Date[_0x45db41(0x5c7)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x45db41(0x573)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x45db41(0x19c)],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x15b27c extends _0x28ba21{[_0x22e38d(0x33d)];[_0x22e38d(0x366)];[_0x22e38d(0x29d)];[_0x22e38d(0x4e4)];[_0x22e38d(0x6be)];[_0x22e38d(0x6a0)];[_0x22e38d(0x48f)]=new Map();[_0x22e38d(0x2d3)];[_0x22e38d(0x6c9)]=new Set();[_0x22e38d(0x3e4)];[_0x22e38d(0x2c2)]=_0x50f1e0();['trackEndedListeners']=new Map();constructor(_0x306de1,_0x45acb6,_0x4196cd,_0x58fe5b,_0x334c7e){const _0x1a495d=_0x22e38d;super(_0x45acb6,_0x4196cd,new MediaStream()),this[_0x1a495d(0x33d)]=_0x306de1,this[_0x1a495d(0x366)]=_0x58fe5b,this['availableTrackKinds']=_0x334c7e,this[_0x1a495d(0x177)][_0x1a495d(0x58a)]()[_0x1a495d(0x237)](_0x56b51d=>this[_0x1a495d(0x1fe)](_0x56b51d));}[_0x22e38d(0x3d0)](){const _0x41e39d=_0x22e38d;this[_0x41e39d(0x48f)][_0x41e39d(0x4df)]>0x0&&(this['outgoingStreams'][_0x41e39d(0x237)](_0x5377c3=>{const _0x57a647=_0x41e39d;_0x5377c3[_0x57a647(0x43f)](),_0x5377c3['destroy']();}),this[_0x41e39d(0x48f)][_0x41e39d(0x160)]()),this[_0x41e39d(0x108)]['forEach'](_0x515174=>_0x515174()),this[_0x41e39d(0x177)][_0x41e39d(0x58a)]()[_0x41e39d(0x237)](_0x39dd32=>this[_0x41e39d(0x177)][_0x41e39d(0x45a)](_0x39dd32)),this['updateDebounce']&&(clearTimeout(this[_0x41e39d(0x6a0)]),delete this[_0x41e39d(0x6a0)]),this[_0x41e39d(0x6be)]?.(),super['destroy']();}['registerSubscriber'](_0x365e98){const _0x2f986f=_0x22e38d;this[_0x2f986f(0x4e4)]=_0x365e98['subscribe'](({content:_0x4fe81a})=>{const _0x49bd96=_0x2f986f;switch(_0x4fe81a[_0x49bd96(0x134)]){case _0x43b291['RemoteAdd']:if(_0x2858e9['log'](_0x5abff4['Subscription'],_0x49bd96(0x499),this['localId'],this[_0x49bd96(0x3e4)]),_0x4fe81a['stream']['id']!==this['internalId']||_0x4fe81a['providerId']!==this['providerId'])return;this[_0x49bd96(0x45a)](_0x4fe81a[_0x49bd96(0x562)][_0x49bd96(0x22d)]),this['mediaStream']['addTrack'](_0x4fe81a[_0x49bd96(0x562)]);for(const [_0x5d0deb,_0x261d53]of this[_0x49bd96(0x48f)][_0x49bd96(0x578)]())try{_0x261d53[_0x49bd96(0x25c)](_0x4fe81a[_0x49bd96(0x562)]);}catch(_0x167905){_0x261d53[_0x49bd96(0x3d0)](),this[_0x49bd96(0x48f)][_0x49bd96(0x421)](_0x5d0deb);}this[_0x49bd96(0x1fe)](_0x4fe81a[_0x49bd96(0x562)]),this[_0x49bd96(0x300)](),_0x49bd96(0x4eb)===_0x4fe81a['track'][_0x49bd96(0x22d)]&&this[_0x49bd96(0x2d3)]&&(this[_0x49bd96(0x177)][_0x49bd96(0x49f)]?setTimeout(()=>this[_0x49bd96(0x2d3)]?.[_0x49bd96(0x56a)](),0x0):setTimeout(()=>this[_0x49bd96(0x2d3)]?.[_0x49bd96(0x32f)](),0x0),this[_0x49bd96(0x12d)]());break;case _0x43b291[_0x49bd96(0x3db)]:if(_0x4fe81a['stream']['id']!==this[_0x49bd96(0x366)]||_0x4fe81a['providerId']!==this[_0x49bd96(0x3e4)])return;this['removeTrack'](_0x4fe81a[_0x49bd96(0x562)][_0x49bd96(0x22d)]),this['renderElement']&&'video'===_0x4fe81a['track'][_0x49bd96(0x22d)]&&(this[_0x49bd96(0x6be)]?.(),this[_0x49bd96(0x177)][_0x49bd96(0x58a)]()[_0x49bd96(0x1e7)]>0x0?this[_0x49bd96(0x2d3)][_0x49bd96(0x32f)]():this[_0x49bd96(0x2d3)][_0x49bd96(0x667)]=null);}});}[_0x22e38d(0x272)](){const _0x49deb3=_0x22e38d;this[_0x49deb3(0x4e4)]?.(),this['trackEndedListeners']['forEach'](_0x540164=>_0x540164()),delete this[_0x49deb3(0x4e4)];}[_0x22e38d(0x3a5)](){const _0x2e0876=_0x22e38d;return this[_0x2e0876(0x366)];}[_0x22e38d(0x52e)](_0x1fb6ce){const _0x3e8bc9=_0x22e38d;this[_0x3e8bc9(0x366)]=_0x1fb6ce;}[_0x22e38d(0x15c)](){const _0x3b2403=_0x22e38d;return this[_0x3b2403(0x29d)];}[_0x22e38d(0x3e1)](_0x4a2f31){const _0x1561dd=_0x22e38d;for(const _0x147904 of _0x4a2f31||this[_0x1561dd(0x29d)])if(!this[_0x1561dd(0x177)][_0x1561dd(0x58a)]()['find'](_0x9e773b=>_0x9e773b[_0x1561dd(0x22d)]===_0x147904))return!0x1;return!0x0;}['getResolution'](){const _0x3b9e7d=_0x22e38d;let _0x1cd94f={'width':0x0,'height':0x0};const _0x3eaada=this[_0x3b9e7d(0x177)][_0x3b9e7d(0x2c5)]();if(_0x3eaada[_0x3b9e7d(0x1e7)]>0x0){const _0x5ee526=_0x3eaada[0x0]['getSettings']();_0x5ee526[_0x3b9e7d(0x256)]&&_0x5ee526['height']&&(_0x1cd94f={'width':_0x5ee526[_0x3b9e7d(0x256)],'height':_0x5ee526[_0x3b9e7d(0x537)]});}return _0x1cd94f;}[_0x22e38d(0x662)](_0x4e3148){const _0x91bbfd=_0x22e38d;for(const _0x15b89a of _0x4e3148)if(!this[_0x91bbfd(0x6c9)][_0x91bbfd(0x32d)](_0x15b89a))return!0x1;return!0x0;}[_0x22e38d(0x494)](_0x5b7bb9,_0x15560a){const _0x5e8434=_0x22e38d;if(!this[_0x5e8434(0x48f)]['has'](_0x5b7bb9)){const _0x2e9bbb=new _0x1e17ee(this[_0x5e8434(0x113)],this[_0x5e8434(0x2a8)],this['mediaStream'],_0x5b7bb9,_0x15560a),_0x2dd6a0=_0x2e9bbb['onUnregisterPublisher'](()=>{const _0x447c59=_0x5e8434;_0x2dd6a0(),this['outgoingStreams'][_0x447c59(0x61c)](_0x5b7bb9)?.[_0x447c59(0x3d0)](),this[_0x447c59(0x48f)][_0x447c59(0x421)](_0x5b7bb9);});this[_0x5e8434(0x48f)][_0x5e8434(0x3dc)](_0x5b7bb9,_0x2e9bbb),_0x2e9bbb[_0x5e8434(0x45c)](this['systemTopic']);}return this[_0x5e8434(0x48f)][_0x5e8434(0x61c)](_0x5b7bb9);}[_0x22e38d(0x629)](){const _0x116e3f=_0x22e38d;return this[_0x116e3f(0x177)]['id'];}[_0x22e38d(0x33b)](){const _0x400182=_0x22e38d;return _0xa67d19[_0x400182(0x6b4)];}['getSubscribedTracks'](){const _0x2b6165=_0x22e38d;return Array[_0x2b6165(0x5e6)](this[_0x2b6165(0x6c9)]);}[_0x22e38d(0x51e)](_0x23e79c){const _0x24ab0f=_0x22e38d;let _0x5d849e=[];_0x23e79c?(_0x24ab0f(0x43c)!=typeof _0x23e79c[_0x24ab0f(0x4eb)]||_0x23e79c[_0x24ab0f(0x4eb)][_0x24ab0f(0x2d3)]instanceof HTMLVideoElement||!this[_0x24ab0f(0x2d3)]||(_0x23e79c[_0x24ab0f(0x4eb)]={'renderElement':this[_0x24ab0f(0x2d3)]}),_0x530797(_0x23e79c),_0x23e79c[_0x24ab0f(0x4eb)]&&(_0x5d849e[_0x24ab0f(0x386)](_0x24ab0f(0x4eb)),_0x24ab0f(0x658)!=typeof _0x23e79c['video']&&_0x23e79c[_0x24ab0f(0x4eb)][_0x24ab0f(0x2d3)]&&(this[_0x24ab0f(0x2d3)]=_0x23e79c[_0x24ab0f(0x4eb)]['renderElement'],_0x23e79c[_0x24ab0f(0x4eb)][_0x24ab0f(0x6aa)]||(_0x23e79c[_0x24ab0f(0x4eb)][_0x24ab0f(0x6aa)]={'width':this[_0x24ab0f(0x2d3)][_0x24ab0f(0x472)],'height':this[_0x24ab0f(0x2d3)][_0x24ab0f(0x397)]}),delete _0x23e79c[_0x24ab0f(0x4eb)][_0x24ab0f(0x2d3)])),_0x23e79c['audio']&&_0x5d849e['push']('audio')):_0x5d849e=this[_0x24ab0f(0x15c)](),this[_0x24ab0f(0x662)](_0x5d849e)||(_0x5d849e[_0x24ab0f(0x237)](_0x2bd4da=>this[_0x24ab0f(0x6c9)][_0x24ab0f(0x24a)](_0x2bd4da)),this[_0x24ab0f(0x358)][_0x24ab0f(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x24ab0f(0x2f3)],'content':{'type':_0x10a2a5['SubscribeMediaStream'],'label':this[_0x24ab0f(0x2a8)],'ownerId':this['ownerId'],'trackKinds':_0x5d849e,'params':_0x23e79c}}),_0x2858e9[_0x24ab0f(0x395)](_0x433bbf['MediaStream'],{'type':_0x24ab0f(0x51e),'label':this[_0x24ab0f(0x2a8)],'userId':this['localId'],'sourceId':this[_0x24ab0f(0x113)],'streamId':this['internalId'],'trackKinds':_0x5d849e}));}['update'](_0x45ce7a){const _0x46335e=_0x22e38d;_0x530797(_0x45ce7a),this['updateDebounce']&&clearTimeout(this[_0x46335e(0x6a0)]),this['updateDebounce']=setTimeout(()=>{const _0x1b0f2a=_0x46335e;delete this[_0x1b0f2a(0x6a0)],this[_0x1b0f2a(0x358)][_0x1b0f2a(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x1b0f2a(0x2f3)],'content':{'type':_0x10a2a5[_0x1b0f2a(0x68e)],'label':this[_0x1b0f2a(0x2a8)],'ownerId':this[_0x1b0f2a(0x113)],'params':_0x45ce7a}});},0x1f4);}[_0x22e38d(0x64a)](_0x4741ef){const _0x55b213=_0x22e38d;_0x4741ef||(_0x4741ef=this[_0x55b213(0x15c)]()),(_0x4741ef=Array[_0x55b213(0x5fc)](_0x4741ef)?_0x4741ef:[_0x4741ef])[_0x55b213(0x237)](_0x164e74=>this[_0x55b213(0x6c9)][_0x55b213(0x421)](_0x164e74)),this[_0x55b213(0x358)][_0x55b213(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x55b213(0x2f3)],'content':{'type':_0x10a2a5[_0x55b213(0x351)],'label':this[_0x55b213(0x2a8)],'ownerId':this[_0x55b213(0x113)],'trackKinds':_0x4741ef,'remainingTracks':this[_0x55b213(0x6c9)][_0x55b213(0x4df)]}});}[_0x22e38d(0x413)](_0x23511b){const _0xb25f8=_0x22e38d;return this['providerListener'][_0xb25f8(0x51e)](_0x23511b);}[_0x22e38d(0x387)](){return this['providerId'];}['setProviderId'](_0x41c94b){const _0x4cdcf5=_0x22e38d;this[_0x4cdcf5(0x3e4)]!==_0x41c94b&&(this[_0x4cdcf5(0x3e4)]=_0x41c94b,this[_0x4cdcf5(0x2c2)][_0x4cdcf5(0x3c2)](_0x41c94b));}[_0x22e38d(0x196)](_0x248b22){const _0x1da7e5=_0x22e38d;this['trackEndedListeners'][_0x1da7e5(0x61c)](_0x248b22)?.(),this['trackEndedListeners'][_0x1da7e5(0x421)](_0x248b22);}[_0x22e38d(0x45a)](_0x75f17b){const _0x4566da=_0x22e38d,_0x142822=this[_0x4566da(0x177)][_0x4566da(0x58a)]()[_0x4566da(0x5de)](_0x20d3fb=>_0x20d3fb['kind']===_0x75f17b);_0x142822&&(this[_0x4566da(0x177)][_0x4566da(0x45a)](_0x142822),this[_0x4566da(0x48f)][_0x4566da(0x237)](_0x38f965=>_0x38f965['removeTrack'](_0x75f17b)),this[_0x4566da(0x108)][_0x4566da(0x61c)](_0x75f17b)?.());}[_0x22e38d(0x300)](){const _0x478648=_0x22e38d;this[_0x478648(0x2d3)]&&(this['renderElement']['srcObject']&&this[_0x478648(0x2d3)]['srcObject']===this['mediaStream']||(this[_0x478648(0x2d3)][_0x478648(0x667)]=this[_0x478648(0x177)]));}[_0x22e38d(0x12d)](){const _0x5b7b81=_0x22e38d;if(this['renderElement']&&!this[_0x5b7b81(0x6be)]&&_0x5b7b81(0x337)!=typeof ResizeObserver){let _0x51b09d=this[_0x5b7b81(0x2d3)][_0x5b7b81(0x472)],_0x58254b=this['renderElement'][_0x5b7b81(0x397)];const _0x434b29=new ResizeObserver(_0x9398bc=>{const _0x515519=_0x5b7b81,{width:_0x2ed179,height:_0xcea0f3}=_0x9398bc[0x0][_0x515519(0x635)];_0x51b09d===_0x2ed179&&_0x58254b===_0xcea0f3||(_0x51b09d=Math[_0x515519(0x2db)](_0x2ed179),_0x58254b=Math[_0x515519(0x2db)](_0xcea0f3),this[_0x515519(0x5c1)]({'video':{'maxResolution':{'width':_0x2ed179,'height':_0xcea0f3}}}));});_0x434b29['observe'](this[_0x5b7b81(0x2d3)]),this[_0x5b7b81(0x6be)]=()=>_0x434b29[_0x5b7b81(0x156)]();}}[_0x22e38d(0x193)](_0xb70fbb){const _0x3858c5=_0x22e38d,_0x5692b4=[];for(const _0x4c46c2 of this['subscribedTracks'])this[_0x3858c5(0x45a)](_0x4c46c2),_0x5692b4['push'](_0x4c46c2);this[_0x3858c5(0x3e4)]&&this['systemTopic'][_0x3858c5(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x3858c5(0x2f3)],'content':{'type':_0x10a2a5[_0x3858c5(0x212)],'label':this[_0x3858c5(0x2a8)],'streamId':this[_0x3858c5(0x366)],'ownerId':this[_0x3858c5(0x113)],'providerId':this[_0x3858c5(0x3e4)],'trackKinds':_0x5692b4}});}[_0x22e38d(0x1fe)](_0x57ae29){const _0x211bb3=_0x22e38d,_0x258382=()=>this['handleRemoteTrackFailure'](_0x57ae29);_0x57ae29[_0x211bb3(0x14f)](_0x211bb3(0x44a),_0x258382),_0x57ae29[_0x211bb3(0x14f)]('mute',_0x258382),this[_0x211bb3(0x108)]['set'](_0x57ae29[_0x211bb3(0x22d)],()=>{const _0x11a36e=_0x211bb3;_0x57ae29['removeEventListener']('ended',_0x258382),_0x57ae29[_0x11a36e(0x107)]('mute',_0x258382),this[_0x11a36e(0x108)][_0x11a36e(0x421)](_0x57ae29['kind']);});}}class _0x3ef6e3{[_0x22e38d(0x327)];['clusterId'];['clusterKey'];constructor(_0x38f797,_0x11cd29){const _0xeb71c1=_0x22e38d;this[_0xeb71c1(0x327)]=_0x38f797,this[_0xeb71c1(0x262)]=_0x11cd29,this['clusterKey']='ccc'+this[_0xeb71c1(0x327)]+_0xeb71c1(0x23a)+this[_0xeb71c1(0x262)];}async[_0x22e38d(0x6b5)](_0x56374b,_0x11aef8,_0x2cd000){const _0x5278aa=_0x22e38d;if(!0x1===(await(0x0,_0x843913['runTransaction'])((0x0,_0x843913[_0x5278aa(0x143)])(_0x171347[_0x5278aa(0x6ac)](),_0x5278aa(0x430)+this[_0x5278aa(0x199)]+_0x5278aa(0x556)+_0x11aef8+_0x5278aa(0x3aa)),_0x33b161=>{const _0x4e2c4e=_0x5278aa;if(!_0x33b161)return _0x56374b['id'];if(_0x33b161!==_0x2cd000)throw new _0x461f79(_0x461f79[_0x4e2c4e(0x34a)][_0x4e2c4e(0x5fa)]);return _0x56374b['id'];}))[_0x5278aa(0x55a)])throw new _0x461f79(_0x461f79[_0x5278aa(0x34a)]['ObjectStoreCannotWriteTransaction']);_0x56374b[_0x5278aa(0x36a)]||delete _0x56374b[_0x5278aa(0x36a)],await(0x0,_0x843913['set'])((0x0,_0x843913[_0x5278aa(0x143)])(_0x171347['getDatabase'](),_0x5278aa(0x430)+this[_0x5278aa(0x199)]+_0x5278aa(0x556)+_0x11aef8+_0x5278aa(0x50a)+_0x56374b['id']),_0x56374b);}async['getTransactions'](_0x573b04,_0x70b461){const _0x1c386c=_0x22e38d;let _0x179bc3=[];const _0xd8cd31=await(0x0,_0x843913[_0x1c386c(0x61c)])((0x0,_0x843913['ref'])(_0x171347[_0x1c386c(0x6ac)](),_0x1c386c(0x430)+this[_0x1c386c(0x199)]+'/objectstores/'+_0x573b04+_0x1c386c(0x630)));if(!_0xd8cd31['exists']())return _0x179bc3;const _0x26d50b=_0xd8cd31['val']();_0x179bc3=Object['values'](_0x26d50b)[_0x1c386c(0x57f)](_0xc6065b=>_0x1c386c(0x20b)!=typeof _0xc6065b);const _0x4fcc47=[];let _0x2a2b51=_0x179bc3['find'](_0x41a450=>_0x41a450['parentId']===_0x70b461);for(;_0x2a2b51;)_0x4fcc47[_0x1c386c(0x386)](_0x2a2b51),_0x2a2b51=_0x179bc3['find'](_0xffacaf=>_0xffacaf[_0x1c386c(0x36a)]===_0x2a2b51['id']);return _0x4fcc47;}}class _0x5912c9{[_0x22e38d(0x42c)];['maxFps'];[_0x22e38d(0x1ba)];[_0x22e38d(0x31b)]=new Map();[_0x22e38d(0x462)]=new Map();[_0x22e38d(0x40f)]=new Map();['objectStores']=new Map();[_0x22e38d(0x4ea)]=new Map();[_0x22e38d(0x522)];constructor(_0xc5bf2b,_0x371717,_0x5db388){const _0xd842b8=_0x22e38d;this[_0xd842b8(0x42c)]=_0xc5bf2b,this['maxFps']=_0x371717,this[_0xd842b8(0x1ba)]=_0x5db388,this[_0xd842b8(0x522)]=new _0x3ef6e3(this[_0xd842b8(0x42c)]['vendorId'],this[_0xd842b8(0x42c)]['clusterId']);}['close'](_0x810c3d=!0x1){const _0x4e0fce=_0x22e38d;this[_0x4e0fce(0x462)][_0x4e0fce(0x237)]((_0x26661a,_0x283ec2)=>{const _0x7bbe47=_0x4e0fce;_0x26661a[_0x7bbe47(0x237)]((_0x3d1d42,_0x3b6b9f)=>{const _0x2cdd55=_0x7bbe47;this[_0x2cdd55(0x1cf)](_0x283ec2,_0x3b6b9f);});}),_0x810c3d||(this[_0x4e0fce(0x31b)][_0x4e0fce(0x237)]((_0x407acf,_0x26b75b)=>{const _0x444ce0=_0x4e0fce;this[_0x444ce0(0x477)](_0x26b75b);}),this[_0x4e0fce(0x40f)][_0x4e0fce(0x237)]((_0x1c6296,_0x5c8573)=>{const _0x130ac2=_0x4e0fce;this[_0x130ac2(0x5f8)](_0x5c8573);}),this['objectStores'][_0x4e0fce(0x237)]((_0x24fa4a,_0x22758c)=>{const _0x3f272f=_0x4e0fce;this[_0x3f272f(0x38d)](_0x22758c);}),this[_0x4e0fce(0x4ea)]['forEach']((_0x5b540e,_0x6fda1e)=>{const _0x4506b0=_0x4e0fce;this[_0x4506b0(0x1da)](_0x6fda1e);}));}[_0x22e38d(0x47a)](_0x4a29f0,_0x2d4bb0){const _0x85d038=_0x22e38d;if(this[_0x85d038(0x58d)][_0x85d038(0x32d)](_0x4a29f0))throw new _0x36acfc(_0xf36e85[_0x85d038(0x2b4)],_0x85d038(0x567));const _0x52fd32=new _0xd926da(this[_0x85d038(0x42c)]['localId'],_0x4a29f0,this[_0x85d038(0x42c)]['clusterId'],this[_0x85d038(0x42c)][_0x85d038(0x327)],this['transactionService'],_0x2d4bb0);return this['objectStores'][_0x85d038(0x3dc)](_0x4a29f0,_0x52fd32),this[_0x85d038(0x42c)][_0x85d038(0x49b)][_0x85d038(0x341)](_0x52fd32),_0x52fd32;}async[_0x22e38d(0x60b)](_0x94e19d,_0x204708,_0x996ecc){const _0x2f42dd=_0x22e38d;if(this[_0x2f42dd(0x4ea)][_0x2f42dd(0x32d)](_0x94e19d))throw new _0x36acfc(_0xf36e85[_0x2f42dd(0x50d)],_0x2f42dd(0x459));try{const _0x4273cb=new _0x317db2(this[_0x2f42dd(0x42c)]['localId'],_0x94e19d,this[_0x2f42dd(0x42c)][_0x2f42dd(0x262)],this[_0x2f42dd(0x42c)]['vendorId'],_0x204708,_0x996ecc);return this[_0x2f42dd(0x4ea)][_0x2f42dd(0x3dc)](_0x94e19d,_0x4273cb),this[_0x2f42dd(0x42c)][_0x2f42dd(0x49b)][_0x2f42dd(0x341)](_0x4273cb),_0x4273cb;}catch(_0x22d8dd){if(_0x22d8dd instanceof _0x36acfc)throw _0x22d8dd;throw console[_0x2f42dd(0x473)](_0x2f42dd(0x287),_0x22d8dd),new _0x461f79(_0x461f79[_0x2f42dd(0x34a)][_0x2f42dd(0x4d8)],{'label':_0x94e19d,'clusterId':this[_0x2f42dd(0x42c)][_0x2f42dd(0x262)],'vendorId':this[_0x2f42dd(0x42c)][_0x2f42dd(0x327)]});}}['createLocalDynamicMediaStream'](_0x1a869b,_0x35e3f9){const _0x4568d6=_0x22e38d;if(this[_0x4568d6(0x31b)]['has'](_0x1a869b))throw new _0x36acfc(_0xf36e85[_0x4568d6(0x4b2)],_0x4568d6(0x4a9));const _0x29f84a=new _0x3cf753(this[_0x4568d6(0x42c)][_0x4568d6(0x33d)],_0x1a869b,_0x35e3f9,this[_0x4568d6(0x115)],this[_0x4568d6(0x1ba)]);return this[_0x4568d6(0x31b)][_0x4568d6(0x3dc)](_0x1a869b,_0x29f84a),this[_0x4568d6(0x42c)][_0x4568d6(0x49b)][_0x4568d6(0x341)](_0x29f84a),_0x29f84a[_0x4568d6(0x3c2)](),_0x29f84a;}[_0x22e38d(0x564)](_0x5a72cd,_0xc44ff3){const _0x58b171=_0x22e38d;if(this[_0x58b171(0x31b)][_0x58b171(0x32d)](_0x5a72cd))throw new _0x36acfc(_0xf36e85[_0x58b171(0x4b2)],_0x58b171(0x538));const _0x528e9a=new _0x192084(this[_0x58b171(0x42c)][_0x58b171(0x33d)],_0x5a72cd,_0xc44ff3);return this[_0x58b171(0x31b)][_0x58b171(0x3dc)](_0x5a72cd,_0x528e9a),this[_0x58b171(0x42c)][_0x58b171(0x49b)][_0x58b171(0x341)](_0x528e9a),_0x528e9a[_0x58b171(0x3c2)](),_0x528e9a;}[_0x22e38d(0x478)](_0x3e01de){const _0x338f04=_0x22e38d;if(this[_0x338f04(0x40f)][_0x338f04(0x32d)](_0x3e01de))throw new _0x36acfc(_0xf36e85[_0x338f04(0x159)],_0x338f04(0x259));const _0x41f950=new _0xac615b(this[_0x338f04(0x42c)][_0x338f04(0x33d)],_0x3e01de);return this[_0x338f04(0x40f)][_0x338f04(0x3dc)](_0x3e01de,_0x41f950),this[_0x338f04(0x42c)][_0x338f04(0x49b)]['registerSystemSource'](_0x41f950),_0x41f950;}[_0x22e38d(0x3a3)](_0x29bbe1,_0x4afec8,_0x454f99,_0x59283d){const _0x2b45cf=_0x22e38d;this[_0x2b45cf(0x462)]['has'](_0x29bbe1)||this['remoteMediaStreams']['set'](_0x29bbe1,new Map());const _0x4fb8bf=this[_0x2b45cf(0x462)][_0x2b45cf(0x61c)](_0x29bbe1);if(_0x4fb8bf[_0x2b45cf(0x32d)](_0x4afec8))throw new _0x36acfc(_0xf36e85[_0x2b45cf(0x4cb)],'Remote\x20MediaStream\x20already\x20exists');const _0x2c2b88=new _0x15b27c(this['configs'][_0x2b45cf(0x33d)],_0x29bbe1,_0x4afec8,_0x454f99,_0x59283d);return _0x4fb8bf['set'](_0x4afec8,_0x2c2b88),this[_0x2b45cf(0x42c)][_0x2b45cf(0x49b)][_0x2b45cf(0x341)](_0x2c2b88),_0x2c2b88;}[_0x22e38d(0x5d1)](_0x3f1bf1){const _0x1bd415=_0x22e38d,_0x3a1fde=Array[_0x1bd415(0x5e6)](this[_0x1bd415(0x58d)]['values']());return _0x3f1bf1?_0x3a1fde[_0x1bd415(0x57f)](_0x3f1bf1):_0x3a1fde;}[_0x22e38d(0x4bc)](_0x4d0a8e){const _0x52db09=_0x22e38d,_0x14f929=Array[_0x52db09(0x5e6)](this[_0x52db09(0x4ea)]['values']());return _0x4d0a8e?_0x14f929[_0x52db09(0x57f)](_0x4d0a8e):_0x14f929;}[_0x22e38d(0x22b)](_0x5f2152){const _0x311130=_0x22e38d,_0xc83a2b=Array[_0x311130(0x5e6)](this[_0x311130(0x31b)]['values']());return _0x5f2152?_0xc83a2b[_0x311130(0x57f)](_0x5f2152):_0xc83a2b;}['getPubSubTopics'](_0x50778a){const _0xe3ad3=_0x22e38d,_0x354446=Array[_0xe3ad3(0x5e6)](this[_0xe3ad3(0x40f)]['values']());return _0x50778a?_0x354446[_0xe3ad3(0x57f)](_0x50778a):_0x354446;}[_0x22e38d(0x1bb)](_0x2e8470){const _0x49f9e2=_0x22e38d,_0x2430b3=Array[_0x49f9e2(0x5e6)](this[_0x49f9e2(0x462)]['values']())[_0x49f9e2(0x324)]((_0x4b50c8,_0x3fb6fd)=>[..._0x4b50c8,...Array['from'](_0x3fb6fd['values']())],[]);return _0x2e8470?_0x2430b3[_0x49f9e2(0x57f)](_0x2e8470):_0x2430b3;}[_0x22e38d(0x6c7)](_0x43698f){const _0x42e751=_0x22e38d;switch(_0x43698f[_0x42e751(0x127)][_0x42e751(0x1a1)]){case _0x10a2a5[_0x42e751(0x4b3)]:this['handlePublishMediaStream'](_0x43698f[_0x42e751(0x127)]);break;case _0x10a2a5[_0x42e751(0x618)]:this[_0x42e751(0x61e)](_0x43698f[_0x42e751(0x127)]);break;case _0x10a2a5[_0x42e751(0x2b2)]:this[_0x42e751(0x591)](_0x43698f[_0x42e751(0x127)]);break;case _0x10a2a5[_0x42e751(0x301)]:this[_0x42e751(0x281)](_0x43698f['content']);break;case _0x10a2a5[_0x42e751(0x43b)]:this[_0x42e751(0x5c6)](_0x43698f[_0x42e751(0x127)]);break;case _0x10a2a5[_0x42e751(0x62c)]:this[_0x42e751(0x699)](_0x43698f['content']);break;case _0x10a2a5[_0x42e751(0x351)]:this[_0x42e751(0x5d5)](_0x43698f[_0x42e751(0x127)]);break;case _0x10a2a5[_0x42e751(0x5c2)]:this[_0x42e751(0x4ea)][_0x42e751(0x61c)](_0x43698f['content'][_0x42e751(0x2a8)])?.[_0x42e751(0x289)](_0x43698f[_0x42e751(0x3c7)]);break;case _0x10a2a5[_0x42e751(0x434)]:this[_0x42e751(0x4ea)][_0x42e751(0x61c)](_0x43698f[_0x42e751(0x127)]['label'])?.[_0x42e751(0x2f7)](_0x43698f[_0x42e751(0x3c7)],_0x43698f[_0x42e751(0x127)][_0x42e751(0x51b)]);break;case _0x10a2a5[_0x42e751(0x5ef)]:this['keyValueDatabases'][_0x42e751(0x61c)](_0x43698f[_0x42e751(0x127)]['label'])?.['sendTransactionsValue'](_0x43698f[_0x42e751(0x3c7)],_0x43698f['content'][_0x42e751(0x4f5)]);break;case _0x10a2a5['LocalMediaStreamTrackFail']:this[_0x42e751(0x42c)][_0x42e751(0x49b)][_0x42e751(0x504)]('local-media-stream-track-fail',{'label':_0x43698f['content'][_0x42e751(0x2a8)],'trackKinds':_0x43698f[_0x42e751(0x127)][_0x42e751(0x5dc)]});}}[_0x22e38d(0x191)]({content:_0x5c7f63}){const _0x321ec9=_0x22e38d;switch(_0x5c7f63['type']){case _0x1ebed6['UserJoin']:this[_0x321ec9(0x2df)](_0x5c7f63),this[_0x321ec9(0x2fc)](_0x5c7f63);break;case _0x1ebed6[_0x321ec9(0x2f0)]:this[_0x321ec9(0x503)](_0x5c7f63),this['notifyObjectStoreOfUserLeave'](_0x5c7f63);}}[_0x22e38d(0x25a)](_0x5b185d){const _0x20ade1=_0x22e38d;switch(_0x5b185d[_0x20ade1(0x127)][_0x20ade1(0x1a1)]){case _0x5f1217[_0x20ade1(0x680)]:this[_0x20ade1(0x536)](_0x5b185d[_0x20ade1(0x3c7)],_0x5b185d['content']);break;case _0x5f1217[_0x20ade1(0x68e)]:this[_0x20ade1(0x408)](_0x5b185d[_0x20ade1(0x3c7)],_0x5b185d['content']);break;case _0x5f1217[_0x20ade1(0x351)]:this[_0x20ade1(0x326)](_0x5b185d['sourceId'],_0x5b185d['content']);}}[_0x22e38d(0x5d5)](_0x42b570){const _0x44b948=_0x22e38d;if(0x0===_0x42b570[_0x44b948(0x3cb)])this[_0x44b948(0x462)][_0x44b948(0x61c)](_0x42b570['ownerId'])?.[_0x44b948(0x61c)](_0x42b570[_0x44b948(0x2a8)])?.[_0x44b948(0x3d0)]();else{const _0x1fe511=this['remoteMediaStreams'][_0x44b948(0x61c)](_0x42b570[_0x44b948(0x113)])?.[_0x44b948(0x61c)](_0x42b570[_0x44b948(0x2a8)]);if(!_0x1fe511)return;_0x42b570['trackKinds'][_0x44b948(0x237)](_0x66d378=>_0x1fe511['unsubscribeTrackEndedListener'](_0x66d378));}}['handlePublishMediaStream'](_0x2fbc75){const _0x1c6208=_0x22e38d,{label:_0x500abe,ownerId:_0x36fc1c,stream:{streamId:_0x3941ee,availableTrackKinds:_0x129ea9}}=_0x2fbc75;if(this[_0x1c6208(0x462)][_0x1c6208(0x61c)](_0x36fc1c)?.[_0x1c6208(0x32d)](_0x500abe))return void _0x2858e9[_0x1c6208(0x3a0)](_0x5abff4[_0x1c6208(0x2f3)],_0x1c6208(0x538),_0x3941ee);const _0x1a5f6a=this[_0x1c6208(0x3a3)](_0x36fc1c,_0x500abe,_0x3941ee,_0x129ea9);this['configs'][_0x1c6208(0x49b)][_0x1c6208(0x504)](_0x1c6208(0x20c),{'ownerId':_0x36fc1c,'stream':_0x1a5f6a});}[_0x22e38d(0x61e)]({ownerId:_0x22c7ff,label:_0x236601}){const _0x57613e=_0x22e38d;this[_0x57613e(0x1cf)](_0x22c7ff,_0x236601),this[_0x57613e(0x42c)][_0x57613e(0x49b)][_0x57613e(0x504)](_0x57613e(0x2aa),{'ownerId':_0x22c7ff,'label':_0x236601});}['handleCloseMediaStream'](_0x52a226){const _0x3df63b=_0x22e38d;this[_0x3df63b(0x477)](_0x52a226[_0x3df63b(0x2a8)]);}[_0x22e38d(0x5c6)](_0x331f38){this['removeObjectStore'](_0x331f38['label']);}[_0x22e38d(0x281)](_0x231ed0){const _0xeb5718=_0x22e38d;this['removePubSubTopic'](_0x231ed0[_0xeb5718(0x2a8)]);}['handleCloseKeyValueDatabase'](_0x106ccf){this['removeKeyValueDatabase'](_0x106ccf['label']);}[_0x22e38d(0x536)](_0xcd63d0,_0x2e0557){const _0xb126a1=_0x22e38d,{ownerId:_0x3ca112,label:_0x17ee5f}=_0x2e0557;let _0x1e45a1;_0x1e45a1=_0x3ca112!==this[_0xb126a1(0x42c)][_0xb126a1(0x33d)]?this[_0xb126a1(0x462)][_0xb126a1(0x61c)](_0x3ca112)[_0xb126a1(0x61c)](_0x17ee5f):this[_0xb126a1(0x31b)][_0xb126a1(0x61c)](_0x17ee5f),_0x1e45a1[_0xb126a1(0x494)](_0xcd63d0,_0x2e0557[_0xb126a1(0x1ea)])[_0xb126a1(0x51e)](_0x2e0557,_0x1e45a1[_0xb126a1(0x33b)]());}[_0x22e38d(0x408)](_0x4c53f5,_0x1d3374){const _0xeb66be=_0x22e38d,{ownerId:_0x473aae,label:_0xb69cff}=_0x1d3374;let _0x586f80;_0x586f80=_0x473aae!==this[_0xeb66be(0x42c)][_0xeb66be(0x33d)]?this[_0xeb66be(0x462)][_0xeb66be(0x61c)](_0x473aae)[_0xeb66be(0x61c)](_0xb69cff):this['localMediaStreams'][_0xeb66be(0x61c)](_0xb69cff),_0x586f80['getShareableStream'](_0x4c53f5,_0x1d3374[_0xeb66be(0x1ea)])[_0xeb66be(0x5c1)](_0x1d3374);}[_0x22e38d(0x326)](_0x3fcd2f,_0x3ada0a){const _0x1344b1=_0x22e38d,{ownerId:_0x3bd952,label:_0x379d3e}=_0x3ada0a;let _0x5b92ba;_0x5b92ba=_0x3bd952!==this[_0x1344b1(0x42c)][_0x1344b1(0x33d)]?this[_0x1344b1(0x462)][_0x1344b1(0x61c)](_0x3bd952)['get'](_0x379d3e):this[_0x1344b1(0x31b)][_0x1344b1(0x61c)](_0x379d3e),_0x5b92ba[_0x1344b1(0x494)](_0x3fcd2f)[_0x1344b1(0x64a)](_0x3ada0a);}[_0x22e38d(0x2df)]({id:_0x4431bf}){const _0x5b56b0=_0x22e38d;this[_0x5b56b0(0x22b)]()[_0x5b56b0(0x237)](_0x3591aa=>{const _0x23ac72=_0x5b56b0;_0x3591aa[_0x23ac72(0x3c2)](_0x4431bf);});}[_0x22e38d(0x503)]({id:_0x460d20}){const _0x2e4048=_0x22e38d;this[_0x2e4048(0x1bb)](_0x55ae5e=>_0x55ae5e[_0x2e4048(0x5a5)]()===_0x460d20)[_0x2e4048(0x237)](_0x294e80=>{const _0x4707a4=_0x2e4048;this[_0x4707a4(0x1cf)](_0x294e80[_0x4707a4(0x5a5)](),_0x294e80[_0x4707a4(0x5c4)]());});}['notifyObjectStoreOfUserJoin']({id:_0x623164}){const _0x34b887=_0x22e38d;this[_0x34b887(0x58d)][_0x34b887(0x237)](_0x24304e=>_0x24304e[_0x34b887(0x491)](_0x623164));}[_0x22e38d(0x225)]({id:_0x10f8ad}){const _0x35045f=_0x22e38d;this[_0x35045f(0x58d)][_0x35045f(0x237)](_0x967297=>_0x967297[_0x35045f(0x503)](_0x10f8ad));}[_0x22e38d(0x38d)](_0x172403){const _0x45a775=_0x22e38d;if(!this[_0x45a775(0x58d)]['has'](_0x172403))throw new _0x36acfc(_0xf36e85[_0x45a775(0x5c9)],'Stream\x20does\x20not\x20exist');const _0x3d77e7=this['objectStores'][_0x45a775(0x61c)](_0x172403);this[_0x45a775(0x58d)][_0x45a775(0x421)](_0x172403),_0x3d77e7[_0x45a775(0x3d0)](),this['configs']['mediator'][_0x45a775(0x407)](_0x3d77e7);}[_0x22e38d(0x5f8)](_0x4c384d){const _0x1d95f0=_0x22e38d;if(!this[_0x1d95f0(0x40f)][_0x1d95f0(0x32d)](_0x4c384d))throw new _0x36acfc(_0xf36e85['PubSubTopicDoesNotExist'],_0x1d95f0(0x154));const _0x5ab031=this[_0x1d95f0(0x40f)][_0x1d95f0(0x61c)](_0x4c384d);this[_0x1d95f0(0x40f)]['delete'](_0x4c384d),_0x5ab031[_0x1d95f0(0x3d0)](),this[_0x1d95f0(0x42c)][_0x1d95f0(0x49b)][_0x1d95f0(0x407)](_0x5ab031);}[_0x22e38d(0x1da)](_0x1e5b98){const _0x4c6e93=_0x22e38d;if(!this[_0x4c6e93(0x4ea)][_0x4c6e93(0x32d)](_0x1e5b98))throw new _0x36acfc(_0xf36e85['KeyValueDatabaseDoesNotExist'],'Database\x20does\x20not\x20exist');const _0x209994=this['keyValueDatabases'][_0x4c6e93(0x61c)](_0x1e5b98);this['keyValueDatabases'][_0x4c6e93(0x421)](_0x1e5b98),_0x209994[_0x4c6e93(0x3d0)](),this[_0x4c6e93(0x42c)]['mediator'][_0x4c6e93(0x407)](_0x209994);}['removeLocalMediaStream'](_0x1d2562){const _0x49e65d=_0x22e38d;if(!this[_0x49e65d(0x31b)][_0x49e65d(0x32d)](_0x1d2562))throw new _0x461f79(_0x461f79['codes']['LocalMediaStreamDoesNotExist'],{'label':_0x1d2562,'localId':this[_0x49e65d(0x42c)][_0x49e65d(0x33d)]});const _0xabc64d=this[_0x49e65d(0x31b)]['get'](_0x1d2562);this['configs']['mediator']['unregisterSystemSource'](_0xabc64d),_0xabc64d['destroy'](),this[_0x49e65d(0x31b)][_0x49e65d(0x421)](_0x1d2562);}[_0x22e38d(0x1cf)](_0x51b3f4,_0x4b183e){const _0x3b44ce=_0x22e38d;if(!this[_0x3b44ce(0x462)][_0x3b44ce(0x32d)](_0x51b3f4))throw new _0x461f79(_0x461f79[_0x3b44ce(0x34a)][_0x3b44ce(0x613)],{'userId':_0x51b3f4,'localId':this[_0x3b44ce(0x42c)]['localId']});const _0x2773b1=this[_0x3b44ce(0x462)][_0x3b44ce(0x61c)](_0x51b3f4);if(!_0x2773b1[_0x3b44ce(0x32d)](_0x4b183e))throw new _0x461f79(_0x461f79[_0x3b44ce(0x34a)][_0x3b44ce(0x2ca)],{'userId':_0x51b3f4,'label':_0x4b183e,'localId':this[_0x3b44ce(0x42c)]['localId']});const _0x595a6d=_0x2773b1[_0x3b44ce(0x61c)](_0x4b183e);this[_0x3b44ce(0x42c)][_0x3b44ce(0x49b)]['unregisterSystemSource'](_0x595a6d),_0x595a6d[_0x3b44ce(0x3d0)](),_0x2773b1[_0x3b44ce(0x421)](_0x4b183e);}}!function(_0x44ca74){const _0x28d10a=_0x22e38d;_0x44ca74[_0x28d10a(0x681)]=_0x28d10a(0x4ec),_0x44ca74[_0x28d10a(0x207)]='dt_volatility',_0x44ca74['TimePerFrame']=_0x28d10a(0x10e),_0x44ca74[_0x28d10a(0x49d)]=_0x28d10a(0x133),_0x44ca74[_0x28d10a(0x5c8)]='jitter',_0x44ca74[_0x28d10a(0x36b)]=_0x28d10a(0x41f),_0x44ca74['RoundTripTime']='rtt',_0x44ca74[_0x28d10a(0x53c)]=_0x28d10a(0x112);}(_0x4abf56||(_0x4abf56={})),function(_0x5c73f9){const _0x3205fa=_0x22e38d;_0x5c73f9[_0x3205fa(0x419)]='cpu.cycle',_0x5c73f9[_0x3205fa(0x639)]='cpu.time_per_frame',_0x5c73f9[_0x3205fa(0x53c)]='cpu.av_delay',_0x5c73f9[_0x3205fa(0x36b)]=_0x3205fa(0x67c),_0x5c73f9[_0x3205fa(0x49d)]='bandwidth.bitrate',_0x5c73f9[_0x3205fa(0x5c8)]=_0x3205fa(0x518),_0x5c73f9[_0x3205fa(0x406)]='bandwidth.rtt';}(_0xc019f6||(_0xc019f6={})),function(_0x21cbe7){const _0x488c09=_0x22e38d;_0x21cbe7[_0x21cbe7[_0x488c09(0x261)]=0x0]=_0x488c09(0x261);}(_0x23d5ff||(_0x23d5ff={}));const _0x56d093=[{'type':_0x4abf56[_0x22e38d(0x681)],'reportMetric':_0x32b26d=>_0x32b26d[_0x22e38d(0x681)],'maxThreshold':2.5},{'type':_0x4abf56[_0x22e38d(0x207)],'reportMetric':_0x513652=>_0x513652[_0x22e38d(0x207)],'maxThreshold':0.5}],_0xe46caf=[{'type':_0x4abf56[_0x22e38d(0x639)],'reportMetric':_0x2caf99=>{const _0x1d08b7=0x3e8/_0x2caf99['FPS'];return _0x2caf99['timePerFrame']/_0x1d08b7;},'maxThreshold':0.75},{'type':_0x4abf56[_0x22e38d(0x49d)],'reportMetric':_0x36abeb=>{const _0x3a2a60=_0x22e38d,_0x4ae4e0=_0x36abeb[_0x3a2a60(0x670)]*_0x36abeb['frameWidth']*_0x36abeb['frameHeight']*0.12;return _0x36abeb[_0x3a2a60(0x133)]/_0x4ae4e0;},'minThreshold':0.25},{'type':_0x4abf56[_0x22e38d(0x5c8)],'reportMetric':_0x4867bb=>_0x4867bb[_0x22e38d(0x55b)],'maxThreshold':0.6},{'type':_0x4abf56[_0x22e38d(0x36b)],'reportMetric':_0x2eeea3=>_0x2eeea3['FPS'],'minThreshold':0xa}],_0x576cc8=[{'type':_0x4abf56[_0x22e38d(0x5c8)],'reportMetric':_0x5d5b28=>_0x5d5b28[_0x22e38d(0x55b)],'maxThreshold':0.6}],_0xd64525=[{'type':_0x4abf56['RoundTripTime'],'reportMetric':_0x433d48=>_0x433d48[_0x22e38d(0x32c)],'maxThreshold':0x1/0x0}],_0x371bc7=[{'type':_0x4abf56[_0x22e38d(0x53c)],'reportMetric':_0xe5cb0e=>_0xe5cb0e[_0x22e38d(0x53c)],'maxThreshold':0x12c}],_0x24b9c8=[{'type':_0xc019f6[_0x22e38d(0x419)],'issues':[{'type':_0x4abf56[_0x22e38d(0x681)],'threshold':0x5},{'type':_0x4abf56['DTVolatility'],'threshold':0x5}]},{'type':_0xc019f6[_0x22e38d(0x639)],'issues':[{'type':_0x4abf56[_0x22e38d(0x639)],'threshold':0x3}]},{'type':_0xc019f6[_0x22e38d(0x53c)],'issues':[{'type':_0x4abf56[_0x22e38d(0x53c)],'threshold':0x2}]},{'type':_0xc019f6[_0x22e38d(0x36b)],'issues':[{'type':_0x4abf56['FramePerSecond'],'threshold':0x3}]},{'type':_0xc019f6[_0x22e38d(0x49d)],'issues':[{'type':_0x4abf56[_0x22e38d(0x49d)],'threshold':0x3}]},{'type':_0xc019f6[_0x22e38d(0x5c8)],'issues':[{'type':_0x4abf56[_0x22e38d(0x5c8)],'threshold':0x3}]},{'type':_0xc019f6[_0x22e38d(0x406)],'issues':[{'type':_0x4abf56[_0x22e38d(0x406)],'threshold':0x3}]}];var _0x422ad6,_0x1a56d0;!function(_0x189083){const _0x12ba32=_0x22e38d;_0x189083[_0x189083['StreamReport']=0x0]=_0x12ba32(0x4af),_0x189083[_0x189083['LocalReport']=0x1]=_0x12ba32(0x3ca);}(_0x422ad6||(_0x422ad6={}));class _0x1d93ec{[_0x22e38d(0x42c)];[_0x22e38d(0x203)]=[];[_0x22e38d(0x358)];constructor(_0x512ed5){const _0x26d0aa=_0x22e38d;this[_0x26d0aa(0x42c)]=_0x512ed5,this[_0x26d0aa(0x42c)][_0x26d0aa(0x49b)][_0x26d0aa(0x341)](this);}['registerSystemPublisher'](_0x58169a){const _0x296b01=_0x22e38d;this[_0x296b01(0x358)]=_0x58169a;}[_0x22e38d(0x43f)](){const _0xe04cee=_0x22e38d;this[_0xe04cee(0x358)]=void 0x0;}[_0x22e38d(0x13a)](){const _0x287e58=_0x22e38d;this[_0x287e58(0x42c)]['mediator'][_0x287e58(0x407)](this),this[_0x287e58(0x203)]=[];}[_0x22e38d(0x248)](_0x597a90){const _0x1f3e45=_0x22e38d;switch(_0x597a90[_0x1f3e45(0x127)]['type']){case _0x422ad6['LocalReport']:this[_0x1f3e45(0x570)](_0x597a90[_0x1f3e45(0x127)][_0x1f3e45(0x68c)]);break;case _0x422ad6[_0x1f3e45(0x4af)]:this['detectStreamIssues'](_0x597a90[_0x1f3e45(0x127)]['data']);}}['detectProblems'](_0x4b19c5,_0x35041c,_0x59e154,_0x379d9a){const _0x1a592b=_0x22e38d,_0x4d4fc7=_0x24b9c8[_0x1a592b(0x5de)](_0x4ff2ba=>_0x4ff2ba[_0x1a592b(0x203)]['some'](_0x4f8699=>_0x4f8699[_0x1a592b(0x1a1)]===_0x4b19c5));_0x379d9a>=_0x4d4fc7[_0x1a592b(0x203)][_0x1a592b(0x5de)](_0xc11964=>_0xc11964[_0x1a592b(0x1a1)]===_0x4b19c5)[_0x1a592b(0x4bd)]&&(this[_0x1a592b(0x1ae)](_0x4d4fc7[_0x1a592b(0x1a1)],_0x35041c,_0x59e154),this[_0x1a592b(0x203)]=this[_0x1a592b(0x203)][_0x1a592b(0x57f)](_0x84ca32=>!(_0x84ca32[_0x1a592b(0x1a1)]===_0x4b19c5&&_0x84ca32[_0x1a592b(0x17c)]===_0x35041c&&_0x84ca32['origin']===_0x59e154)));}[_0x22e38d(0x570)](_0x440612){const _0x586a42=_0x22e38d;_0x56d093[_0x586a42(0x237)](_0x4d245a=>{const _0x520421=_0x586a42,_0x4530b8=_0x4d245a['reportMetric'](_0x440612);_0x4d245a['maxThreshold']&&_0x4530b8>_0x4d245a['maxThreshold']&&this[_0x520421(0x278)](_0x4d245a[_0x520421(0x1a1)],this[_0x520421(0x42c)]['localId'],_0x46736a[_0x520421(0x2a7)],_0x4530b8),_0x4d245a['minThreshold']&&_0x4530b8<_0x4d245a[_0x520421(0x22f)]&&this[_0x520421(0x278)](_0x4d245a[_0x520421(0x1a1)],this[_0x520421(0x42c)][_0x520421(0x33d)],_0x46736a[_0x520421(0x2a7)],_0x4530b8);});}[_0x22e38d(0x277)](_0xeacf43){const _0x3bf4af=_0x22e38d;let _0x5c7b6e=[];switch(_0xeacf43[_0x3bf4af(0x130)]){case _0x46736a[_0x3bf4af(0x2a7)]:_0x5c7b6e=_0xd64525;break;case _0x46736a[_0x3bf4af(0x53d)]:_0x5c7b6e=_0x371bc7;}_0xeacf43[_0x3bf4af(0x4eb)]&&this['detectVideoIssues'](_0xeacf43['userId'],_0x46736a[_0x3bf4af(0x2a7)],_0xeacf43[_0x3bf4af(0x4eb)]),_0xeacf43[_0x3bf4af(0x19e)]&&this[_0x3bf4af(0x2a2)](_0xeacf43[_0x3bf4af(0x17c)],_0x46736a[_0x3bf4af(0x2a7)],_0xeacf43[_0x3bf4af(0x19e)]),_0x5c7b6e[_0x3bf4af(0x237)](_0x14a9ba=>{const _0x42c992=_0x3bf4af,_0x40c5dc=_0x14a9ba['reportMetric'](_0xeacf43);_0x14a9ba[_0x42c992(0x3da)]&&_0x40c5dc>_0x14a9ba['maxThreshold']&&this[_0x42c992(0x278)](_0x14a9ba[_0x42c992(0x1a1)],_0xeacf43[_0x42c992(0x17c)],_0x46736a[_0x42c992(0x2a7)],_0x40c5dc),_0x14a9ba[_0x42c992(0x22f)]&&_0x40c5dc<_0x14a9ba[_0x42c992(0x22f)]&&this['addIssue'](_0x14a9ba[_0x42c992(0x1a1)],_0xeacf43['userId'],_0x46736a[_0x42c992(0x2a7)],_0x40c5dc);});}[_0x22e38d(0x1e5)](_0x517e51,_0x2b1aaf,_0x5b6bca){const _0x3c54cb=_0x22e38d;0x0!==_0x5b6bca[_0x3c54cb(0x133)]&&_0xe46caf[_0x3c54cb(0x237)](_0x33d50e=>{const _0x4bd5c0=_0x3c54cb,_0x55dc4a=_0x33d50e[_0x4bd5c0(0x40b)](_0x5b6bca);_0x33d50e[_0x4bd5c0(0x3da)]&&_0x55dc4a>_0x33d50e['maxThreshold']&&this[_0x4bd5c0(0x278)](_0x33d50e[_0x4bd5c0(0x1a1)],_0x517e51,_0x2b1aaf,_0x55dc4a,_0x4bd5c0(0x4eb)),_0x33d50e[_0x4bd5c0(0x22f)]&&_0x55dc4a<_0x33d50e[_0x4bd5c0(0x22f)]&&this[_0x4bd5c0(0x278)](_0x33d50e['type'],_0x517e51,_0x2b1aaf,_0x55dc4a,_0x4bd5c0(0x4eb));});}['detectAudioIssues'](_0x2ae5b2,_0x1a93d3,_0xccaf80){const _0x2b85ef=_0x22e38d;0x0!==_0xccaf80['bitrate']&&_0x576cc8[_0x2b85ef(0x237)](_0x5dfe77=>{const _0x53782f=_0x2b85ef,_0x24c9aa=_0x5dfe77[_0x53782f(0x40b)](_0xccaf80);_0x5dfe77[_0x53782f(0x3da)]&&_0x24c9aa>_0x5dfe77[_0x53782f(0x3da)]&&this[_0x53782f(0x278)](_0x5dfe77[_0x53782f(0x1a1)],_0x2ae5b2,_0x1a93d3,_0x24c9aa,_0x53782f(0x19e)),_0x5dfe77[_0x53782f(0x22f)]&&_0x24c9aa<_0x5dfe77[_0x53782f(0x22f)]&&this[_0x53782f(0x278)](_0x5dfe77[_0x53782f(0x1a1)],_0x2ae5b2,_0x1a93d3,_0x24c9aa,_0x53782f(0x19e));});}[_0x22e38d(0x278)](_0x6b5290,_0x555dc1,_0x12d3fd,_0x490a94,_0x545752){const _0x22af90=_0x22e38d;_0x2858e9[_0x22af90(0x3a0)](_0x5abff4[_0x22af90(0x62f)],_0x22af90(0x512)+_0x6b5290,_0x6b5290,_0x490a94),_0x2858e9[_0x22af90(0x4cc)](_0x22af90(0x54b),{'clusterId':this[_0x22af90(0x42c)]['clusterId'],'userId':this['configs']['localId'],'remoteId':_0x555dc1,'data':{'type':_0x6b5290,'value':_0x490a94,'kind':_0x545752}}),this[_0x22af90(0x203)]=this['issues'][_0x22af90(0x57f)](_0x36bf13=>Date[_0x22af90(0x5c7)]()-_0x36bf13[_0x22af90(0x372)]<0x7530),this[_0x22af90(0x203)][_0x22af90(0x386)]({'timestamp':Date[_0x22af90(0x5c7)](),'type':_0x6b5290,'userId':_0x555dc1,'origin':_0x12d3fd,'value':_0x490a94,'kind':_0x545752});const _0x10cd97=this[_0x22af90(0x203)][_0x22af90(0x57f)](_0xb40a90=>_0xb40a90['type']===_0x6b5290&&_0xb40a90[_0x22af90(0x17c)]===_0x555dc1&&_0xb40a90[_0x22af90(0x130)]===_0x12d3fd)[_0x22af90(0x1e7)];this['detectProblems'](_0x6b5290,_0x555dc1,_0x12d3fd,_0x10cd97);}[_0x22e38d(0x1ae)](_0x477417,_0xcdfd0b,_0x1ae7ad){const _0x276803=_0x22e38d;_0x2858e9[_0x276803(0x3a0)](_0x5abff4['Detection'],_0x276803(0x58b)+_0x477417),_0x2858e9[_0x276803(0x4cc)]('problem',{'clusterId':this['configs'][_0x276803(0x262)],'userId':this[_0x276803(0x42c)]['localId'],'remoteId':_0xcdfd0b,'data':{'type':_0x477417}}),this[_0x276803(0x358)]?.[_0x276803(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x276803(0x62f)],'content':{'type':_0x23d5ff[_0x276803(0x261)],'data':{'timestamp':Date[_0x276803(0x5c7)](),'userId':_0xcdfd0b,'origin':_0x46736a[_0x276803(0x2a7)],'type':_0x477417}}});}}!function(_0x58b34d){const _0x3f96a7=_0x22e38d;_0x58b34d[_0x58b34d[_0x3f96a7(0x65f)]=0x0]=_0x3f96a7(0x65f),_0x58b34d[_0x58b34d['Offline']=0x1]='Offline';}(_0x1a56d0||(_0x1a56d0={}));class _0x3a7107{['id'];[_0x22e38d(0x543)];[_0x22e38d(0x674)];[_0x22e38d(0x144)];[_0x22e38d(0x551)];constructor(_0x54e402,_0x143aac,_0x208834,_0xdf6834=new Set(),_0x1f63e0){const _0x5ae59c=_0x22e38d;this['id']=_0x54e402,this[_0x5ae59c(0x543)]=_0x143aac,this['email']=_0x208834,this[_0x5ae59c(0x144)]=_0xdf6834,this[_0x5ae59c(0x551)]=_0x1f63e0;}[_0x22e38d(0x13a)](){const _0x4d4261=_0x22e38d;this[_0x4d4261(0x551)]=void 0x0,this[_0x4d4261(0x144)][_0x4d4261(0x160)]();}['getId'](){return this['id'];}['getDisplayName'](){const _0x58fe71=_0x22e38d;return this[_0x58fe71(0x543)];}[_0x22e38d(0x6bf)](){const _0xdee2e=_0x22e38d;return this[_0xdee2e(0x674)];}[_0x22e38d(0x265)](){const _0x2bd783=_0x22e38d;return this[_0x2bd783(0x551)];}['getRemoteConnections'](){const _0x3f2fd2=_0x22e38d;return this[_0x3f2fd2(0x144)];}}class _0xe28004 extends _0x3a7107{['currentVersion'];[_0x22e38d(0x411)]=_0x1a56d0[_0x22e38d(0x65f)];[_0x22e38d(0x1db)]=Date[_0x22e38d(0x5c7)]();constructor(_0x1b04d8,_0x5a03b7,_0x4cdf24,_0x1dbeef=new Set(),_0x55da33,_0x4a534c){const _0x5a3cf8=_0x22e38d;super(_0x1b04d8,_0x5a03b7,_0x4cdf24,_0x1dbeef,_0x4a534c),this[_0x5a3cf8(0x13e)]=_0x55da33;}[_0x22e38d(0x5af)](){const _0x2da0cf=_0x22e38d;return this[_0x2da0cf(0x13e)];}[_0x22e38d(0x151)](){const _0x4329d0=_0x22e38d;return this[_0x4329d0(0x411)];}[_0x22e38d(0x449)](){const _0x12936e=_0x22e38d;return this[_0x12936e(0x1db)];}[_0x22e38d(0x17b)](_0x129dc2){const _0x458aa6=_0x22e38d;this[_0x458aa6(0x543)]!==_0x129dc2&&(this[_0x458aa6(0x543)]=_0x129dc2,this[_0x458aa6(0x4a0)]());}[_0x22e38d(0x6c6)](_0x2988bc){const _0x5e3c00=_0x22e38d;this[_0x5e3c00(0x674)]!==_0x2988bc&&(this[_0x5e3c00(0x674)]=_0x2988bc,this['updateLastUpdated']());}[_0x22e38d(0x222)](_0x1f15a7){const _0x22623e=_0x22e38d;this[_0x22623e(0x551)]!==_0x1f15a7&&(this[_0x22623e(0x551)]=_0x1f15a7,this[_0x22623e(0x4a0)]());}[_0x22e38d(0x1f0)](_0x596966){const _0x1805d5=_0x22e38d;let _0x488a25=!0x1;for(const _0x14efa4 of this[_0x1805d5(0x144)])_0x596966[_0x1805d5(0x4c9)](_0x14efa4)||(_0x488a25=!0x0,this[_0x1805d5(0x144)]['delete'](_0x14efa4));for(const _0x5c0db7 of _0x596966)this['remoteConnections']['has'](_0x5c0db7)||(_0x488a25=!0x0,this[_0x1805d5(0x144)][_0x1805d5(0x24a)](_0x5c0db7));_0x488a25&&this['updateLastUpdated']();}[_0x22e38d(0x5cc)](_0x10d33d){const _0x4a198c=_0x22e38d;this[_0x4a198c(0x13e)]!==_0x10d33d&&(this[_0x4a198c(0x13e)]=_0x10d33d,this['updateLastUpdated']());}['setStatus'](_0x2276d9){const _0x7de368=_0x22e38d;this[_0x7de368(0x411)]!==_0x2276d9&&(this['status']=_0x2276d9,this[_0x7de368(0x4a0)](),_0x2276d9===_0x1a56d0[_0x7de368(0x270)]&&this['close']());}[_0x22e38d(0x4a0)](){const _0x35f2ad=_0x22e38d;this['lastUpdated']=Date[_0x35f2ad(0x5c7)]();}}class _0x54b2f4{[_0x22e38d(0x327)];[_0x22e38d(0x262)];['localUser'];[_0x22e38d(0x292)];[_0x22e38d(0x332)]=_0x151e07();[_0x22e38d(0x547)];[_0x22e38d(0x348)];[_0x22e38d(0x1b9)];['connected']=!0x1;[_0x22e38d(0x199)];['nodeKey'];[_0x22e38d(0x362)];constructor(_0x185f5b,_0xe91264,_0x1c09f6,_0x24844f){const _0xa35a72=_0x22e38d;this['vendorId']=_0x185f5b,this[_0xa35a72(0x262)]=_0xe91264,this[_0xa35a72(0x236)]=_0x1c09f6,this[_0xa35a72(0x292)]=_0x24844f,this[_0xa35a72(0x199)]=_0xa35a72(0x23a)+this['vendorId']+_0xa35a72(0x23a)+this[_0xa35a72(0x262)],this[_0xa35a72(0x1d3)]=_0xa35a72(0x23a)+this[_0xa35a72(0x327)]+'ccc'+this['localUser'][_0xa35a72(0x1be)](),this[_0xa35a72(0x547)]=(0x0,_0x843913[_0xa35a72(0x66e)])((0x0,_0x843913[_0xa35a72(0x143)])(_0x171347[_0xa35a72(0x6ac)](),_0xa35a72(0x5d2)),_0x48c305=>{const _0x554629=_0xa35a72;!0x0!==_0x48c305[_0x554629(0x5e0)]()?this[_0x554629(0x167)]&&(this[_0x554629(0x362)]=setTimeout(()=>{const _0x4aa010=_0x554629;delete this[_0x4aa010(0x362)],_0x2858e9[_0x4aa010(0x18d)]('firebase-disconnect',{'clusterId':this[_0x4aa010(0x262)],'userId':this[_0x4aa010(0x236)][_0x4aa010(0x1be)]()}),(0x0,_0x843913[_0x4aa010(0x56c)])(_0x171347[_0x4aa010(0x6ac)]());const _0x55ee7e=_0x30870d['setInterval'](()=>{const _0x45af97=_0x4aa010;navigator[_0x45af97(0x47b)]&&(_0x55ee7e(),(0x0,_0x843913['goOnline'])(_0x171347[_0x45af97(0x6ac)]()));},0x3e8);},0xbb8)):(this[_0x554629(0x167)]=!0x0,this[_0x554629(0x2d5)](),this[_0x554629(0x362)]&&(clearTimeout(this[_0x554629(0x362)]),delete this[_0x554629(0x362)]));});}async['join'](){const _0x442f66=_0x22e38d;await this['joinCluster']();const _0x32b952=await this[_0x442f66(0x563)]();return this[_0x442f66(0x348)]=(0x0,_0x843913['onChildRemoved'])((0x0,_0x843913[_0x442f66(0x143)])(_0x171347[_0x442f66(0x6ac)](),_0x442f66(0x430)+this['clusterKey']+_0x442f66(0x489)),_0x63439e=>{const _0x8a53e0=_0x442f66,_0x22c503=_0x63439e[_0x8a53e0(0x4f8)];if(!_0x22c503)return;const _0x244943=_0x22c503[_0x8a53e0(0x35c)]('ccc'+this[_0x8a53e0(0x327)]+_0x8a53e0(0x23a),'');this[_0x8a53e0(0x332)][_0x8a53e0(0x3c2)](_0x244943);}),_0x32b952;}async[_0x22e38d(0x13a)](){const _0x1ea9fb=_0x22e38d;this['childRemovedUnsubscriber']?.(),delete this[_0x1ea9fb(0x348)],this['onDisconnectHandler']?.[_0x1ea9fb(0x6b3)](),delete this['onDisconnectHandler'],this[_0x1ea9fb(0x547)]?.(),delete this[_0x1ea9fb(0x547)],this['disconnectTimeout']&&(clearTimeout(this[_0x1ea9fb(0x362)]),delete this[_0x1ea9fb(0x362)]),await(0x0,_0x843913[_0x1ea9fb(0x5d6)])((0x0,_0x843913['ref'])(_0x171347[_0x1ea9fb(0x6ac)](),_0x1ea9fb(0x430)+this[_0x1ea9fb(0x199)]+_0x1ea9fb(0x57b)+this['nodeKey']));}[_0x22e38d(0x48e)](_0x55fd02){const _0x3fb859=_0x22e38d;return this[_0x3fb859(0x332)]['subscribe'](_0x55fd02);}async[_0x22e38d(0x563)](){const _0x454ac3=_0x22e38d,_0x37df9f=[],_0x3f5f82=await(0x0,_0x843913[_0x454ac3(0x61c)])((0x0,_0x843913[_0x454ac3(0x143)])(_0x171347['getDatabase'](),_0x454ac3(0x430)+this[_0x454ac3(0x199)]+_0x454ac3(0x489))),_0x396ff=[];return _0x3f5f82[_0x454ac3(0x237)](_0x2019c4=>{const _0x225d2b=_0x454ac3,_0x483506=_0x2019c4[_0x225d2b(0x4f8)]?.['replace']('ccc'+this[_0x225d2b(0x327)]+_0x225d2b(0x23a),'');_0x396ff['push']({'id':_0x483506,'joinedAt':_0x2019c4[_0x225d2b(0x5e0)]()['joinedAt'],'priority':_0x2019c4['val']()[_0x225d2b(0x1d7)]});}),_0x396ff['sort']((_0x4a4927,_0x45ed31)=>_0x4a4927['joinedAt']===_0x45ed31[_0x454ac3(0x209)]?_0x4a4927['priority']-_0x45ed31[_0x454ac3(0x1d7)]:_0x4a4927[_0x454ac3(0x209)]-_0x45ed31[_0x454ac3(0x209)])[_0x454ac3(0x4dc)](_0x396ff['findIndex'](_0xc491fd=>_0xc491fd['id']===this[_0x454ac3(0x236)][_0x454ac3(0x1be)]())),_0x396ff[_0x454ac3(0x691)]((_0x4eb8a0,_0x534ae1)=>_0x534ae1[_0x454ac3(0x209)]===_0x4eb8a0[_0x454ac3(0x209)]?_0x534ae1[_0x454ac3(0x1d7)]-_0x4eb8a0[_0x454ac3(0x1d7)]:_0x534ae1[_0x454ac3(0x209)]-_0x4eb8a0['joinedAt'])[_0x454ac3(0x237)](_0x4f9c6a=>{const _0x22447d=_0x454ac3;_0x37df9f['length']>=this[_0x22447d(0x292)]||_0x37df9f[_0x22447d(0x386)](_0x4f9c6a['id']);}),_0x2858e9['logEvent'](_0x454ac3(0x399),{'clusterId':this[_0x454ac3(0x262)],'userId':this[_0x454ac3(0x236)][_0x454ac3(0x1be)](),'data':{'ancestorIds':_0x37df9f,'allUsers':_0x396ff}}),_0x37df9f;}async[_0x22e38d(0x671)](){const _0x231bfc=_0x22e38d;await(0x0,_0x843913[_0x231bfc(0x3dc)])((0x0,_0x843913[_0x231bfc(0x143)])(_0x171347[_0x231bfc(0x6ac)](),_0x231bfc(0x430)+this[_0x231bfc(0x199)]+'/nodes/'+this[_0x231bfc(0x1d3)]),{'joinedAt':(0x0,_0x843913['serverTimestamp'])(),'priority':Math[_0x231bfc(0x61f)]()});}[_0x22e38d(0x2d5)](){const _0x444313=_0x22e38d;this['onDisconnectHandler']&&this[_0x444313(0x1b9)][_0x444313(0x6b3)](),this[_0x444313(0x1b9)]=(0x0,_0x843913[_0x444313(0x1b8)])((0x0,_0x843913[_0x444313(0x143)])(_0x171347[_0x444313(0x6ac)](),_0x444313(0x430)+this['clusterKey']+_0x444313(0x57b)+this[_0x444313(0x1d3)])),this[_0x444313(0x1b9)][_0x444313(0x5d6)]();}}class _0x15d366{[_0x22e38d(0x42c)];['graphService'];[_0x22e38d(0x236)];['remoteUnsubscriber'];[_0x22e38d(0x3b3)];['discoveryUnsubscriber'];[_0x22e38d(0x559)]=[];['systemTopic'];['optimizationLayers']=new Map();['debounceProcessRank'];['lastProcessRank'];constructor(_0x4e5b02,_0xf3375e,_0x504065){const _0x1263b7=_0x22e38d;this[_0x1263b7(0x42c)]=_0x4e5b02,this['graphService']=_0xf3375e,this['localUser']=_0x504065,this[_0x1263b7(0x3b3)]=new _0x54b2f4(this['configs'][_0x1263b7(0x327)],this['configs'][_0x1263b7(0x262)],this[_0x1263b7(0x236)],this[_0x1263b7(0x5b0)]['getMinConnections']()),this[_0x1263b7(0x13b)]=this['discoveryService'][_0x1263b7(0x48e)](this[_0x1263b7(0x383)][_0x1263b7(0x1af)](this)),this[_0x1263b7(0x42c)][_0x1263b7(0x49b)]['registerSystemSource'](this[_0x1263b7(0x236)]),this[_0x1263b7(0x42c)][_0x1263b7(0x49b)][_0x1263b7(0x341)](this),this[_0x1263b7(0x31e)]=_0x30870d[_0x1263b7(0x686)](()=>{const _0x38608e=_0x1263b7,_0x137466=Date[_0x38608e(0x5c7)]();this['graphService']['getRemoteUsers']()['forEach'](_0x5d7f5b=>{const _0x371aee=_0x38608e;_0x5d7f5b['getStatus']()===_0x1a56d0[_0x371aee(0x270)]&&_0x5d7f5b[_0x371aee(0x449)]()<_0x137466-0x493e0&&this['graphService'][_0x371aee(0x1d9)](_0x5d7f5b[_0x371aee(0x1be)]());});},0xea60);}[_0x22e38d(0x45c)](_0x2614a3){const _0x3cef29=_0x22e38d;this[_0x3cef29(0x358)]=_0x2614a3;}['unregisterSystemPublisher'](){delete this['systemTopic'];}['close'](){const _0x2fe033=_0x22e38d;this['debounceProcessRank']&&(clearTimeout(this['debounceProcessRank']),delete this['debounceProcessRank']),delete this[_0x2fe033(0x5fb)],this[_0x2fe033(0x236)][_0x2fe033(0x13a)](),this[_0x2fe033(0x31e)](),this['discoveryUnsubscriber'](),this[_0x2fe033(0x42c)][_0x2fe033(0x49b)][_0x2fe033(0x407)](this['localUser']),this[_0x2fe033(0x42c)][_0x2fe033(0x49b)]['unregisterSystemSource'](this),this['discoveryService']['close']();}[_0x22e38d(0x161)](){const _0x15dd8c=_0x22e38d;return this[_0x15dd8c(0x559)];}['getLocalId'](){const _0xc357d5=_0x22e38d;return this['localUser'][_0xc357d5(0x1be)]();}[_0x22e38d(0x200)](){return this['localUser'];}[_0x22e38d(0x3fe)](_0x343277){const _0x35b6b6=_0x22e38d,_0x2429cd=Array[_0x35b6b6(0x5e6)](this[_0x35b6b6(0x5b0)][_0x35b6b6(0x3fe)]()[_0x35b6b6(0x1f4)]())[_0x35b6b6(0x57f)](_0x22f763=>_0x22f763['getStatus']()===_0x1a56d0[_0x35b6b6(0x65f)]);return _0x343277?_0x2429cd[_0x35b6b6(0x57f)](_0x343277):_0x2429cd;}async[_0x22e38d(0x399)](){const _0x17e9e7=_0x22e38d;return this['ancestors']=await this[_0x17e9e7(0x3b3)]['join'](),this[_0x17e9e7(0x559)][_0x17e9e7(0x1e7)]<this['graphService'][_0x17e9e7(0x2cb)]()&&(this[_0x17e9e7(0x236)]['setRank'](this[_0x17e9e7(0x559)][_0x17e9e7(0x1e7)]+0x1),this['processRank']()),this[_0x17e9e7(0x559)];}[_0x22e38d(0x363)](_0x50339a,_0x6f6d07){const _0x2e0fbc=_0x22e38d,_0x1d905b=this[_0x2e0fbc(0x236)]['getRemoteConnections'](),_0x47b4b5=new Set(_0x1d905b),_0xb5ccaa=Array[_0x2e0fbc(0x5e6)](_0x1d905b)[_0x2e0fbc(0x57f)](_0x58f3bf=>_0x58f3bf!==_0x50339a)['map'](_0x298b47=>({'id':_0x298b47,'distance':0x1}));for(;_0xb5ccaa[_0x2e0fbc(0x1e7)]>0x0;){const _0x592009=_0xb5ccaa[_0x2e0fbc(0x306)]();if(!_0x592009)continue;if(_0x592009['id']===_0x6f6d07)return _0x592009['distance'];const _0x6c94ba=this[_0x2e0fbc(0x5b0)][_0x2e0fbc(0x1a0)](_0x592009['id']);_0x6c94ba&&_0x6c94ba[_0x2e0fbc(0x151)]()!==_0x1a56d0['Offline']&&_0x6c94ba[_0x2e0fbc(0x2b9)]()['forEach'](_0x444f27=>{const _0x1e86fc=_0x2e0fbc;_0x47b4b5[_0x1e86fc(0x32d)](_0x444f27)||(_0x47b4b5[_0x1e86fc(0x24a)](_0x444f27),_0xb5ccaa[_0x1e86fc(0x386)]({'id':_0x444f27,'distance':_0x592009['distance']+0x1}));});}return-0x1;}[_0x22e38d(0x191)](_0x141e79){const _0xf61cf0=_0x22e38d;try{switch(_0x141e79[_0xf61cf0(0x127)][_0xf61cf0(0x1a1)]){case _0x1ebed6[_0xf61cf0(0x2ed)]:case _0x1ebed6[_0xf61cf0(0x238)]:this['handleUserUpdate'](_0x141e79[_0xf61cf0(0x127)]),_0x2858e9[_0xf61cf0(0x3a0)](_0x5abff4['Node'],'NodeManager\x20-\x20UserUpdate','\x27'+this[_0xf61cf0(0x236)][_0xf61cf0(0x1be)]()+',\x20'+_0x141e79[_0xf61cf0(0x3c7)]+'\x27',_0x141e79,_0x141e79[_0xf61cf0(0x127)]);break;case _0x1ebed6[_0xf61cf0(0x2f0)]:this[_0xf61cf0(0x213)](_0x141e79[_0xf61cf0(0x127)]['id']),_0x2858e9[_0xf61cf0(0x3a0)](_0x5abff4['Node'],_0xf61cf0(0x1ce),'\x27'+this['localUser'][_0xf61cf0(0x1be)]()+',\x20'+_0x141e79[_0xf61cf0(0x3c7)]+'\x27',_0x141e79,_0x141e79[_0xf61cf0(0x127)]);}}catch(_0x3087c4){if(_0x3087c4 instanceof _0xc2e00f)return void _0x2858e9[_0xf61cf0(0x3a0)](_0x5abff4[_0xf61cf0(0x6a9)],_0x3087c4[_0xf61cf0(0x62d)]);throw _0x3087c4;}}[_0x22e38d(0x3a6)](_0x9b58e4){const _0x46d35a=_0x22e38d;switch(_0x9b58e4[_0x46d35a(0x127)]['type']){case _0x3e3725[_0x46d35a(0x695)]:this[_0x46d35a(0x2f9)](_0x9b58e4[_0x46d35a(0x3c7)]),_0x2858e9[_0x46d35a(0x3a0)](_0x5abff4[_0x46d35a(0x6a9)],_0x46d35a(0x1e9),'\x27'+this['localUser'][_0x46d35a(0x1be)]()+',\x20'+_0x9b58e4['sourceId']+'\x27',_0x9b58e4,_0x9b58e4[_0x46d35a(0x127)]);break;case _0x3e3725[_0x46d35a(0x588)]:this[_0x46d35a(0x5f2)](_0x9b58e4[_0x46d35a(0x3c7)]),_0x2858e9['log'](_0x5abff4[_0x46d35a(0x6a9)],_0x46d35a(0x6b1),this[_0x46d35a(0x236)][_0x46d35a(0x1be)](),_0x9b58e4,_0x9b58e4['content']);}}[_0x22e38d(0x491)](_0x39fafc){const _0x505749=_0x22e38d;this[_0x505749(0x4bf)](_0x39fafc),this[_0x505749(0x540)](_0x39fafc);}[_0x22e38d(0x540)](_0x376232){const _0x29b99b=_0x22e38d;this[_0x29b99b(0x236)]['answerJoin'](_0x376232['id']),this[_0x29b99b(0x2e1)](_0x376232['id']),this[_0x29b99b(0x3fd)](_0x376232);}[_0x22e38d(0x153)](_0xe33108){const _0x2e3852=_0x22e38d,{id:_0x269d1f,displayName:_0x466dff,email:_0x4f0270,rank:_0x24ad85,remoteConnections:_0x2a37a0,version:_0x240d3d}=_0xe33108,_0x7e5958=this[_0x2e3852(0x5b0)][_0x2e3852(0x1a0)](_0x269d1f);if(_0x7e5958){if(!(_0x240d3d<=_0x7e5958[_0x2e3852(0x5af)]())){if(_0x7e5958['setRemoteConnections'](_0x2a37a0),_0x7e5958[_0x2e3852(0x5cc)](_0x240d3d),_0x7e5958[_0x2e3852(0x17b)](_0x466dff),_0x7e5958[_0x2e3852(0x6c6)](_0x4f0270),_0x24ad85&&_0x7e5958[_0x2e3852(0x222)](_0x24ad85),this[_0x2e3852(0x158)](_0x269d1f,_0x24ad85),_0x7e5958['getStatus']()===_0x1a56d0['Offline'])return _0x7e5958['setStatus'](_0x1a56d0[_0x2e3852(0x65f)]),this['processRank'](),void this[_0x2e3852(0x540)](_0xe33108);this[_0x2e3852(0x26c)](),this[_0x2e3852(0x296)]({'id':_0x269d1f,'displayName':_0x466dff,'email':_0x4f0270,'remoteConnections':_0x2a37a0,'version':_0x240d3d});}}else this[_0x2e3852(0x491)](_0xe33108);}[_0x22e38d(0x158)](_0x1b0c94,_0x274453){const _0x37ff84=_0x22e38d;_0x274453&&this[_0x37ff84(0x559)][_0x37ff84(0x4c9)](_0x1b0c94)&&this[_0x37ff84(0x236)][_0x37ff84(0x222)](_0x274453+this[_0x37ff84(0x559)][_0x37ff84(0x252)](_0x1b0c94)+0x1);}[_0x22e38d(0x2f9)](_0x56a3ed){const _0x2f7ec5=_0x22e38d;this[_0x2f7ec5(0x236)]['addRemoteConnection'](_0x56a3ed);}['createRemoteUser']({id:_0x593211,displayName:_0x16c9d9='',email:_0x4d600b='',rank:_0x210ba2,remoteConnections:_0x424626,version:_0xe1800c}){const _0x4d436e=_0x22e38d;if(this[_0x4d436e(0x5b0)][_0x4d436e(0x65c)](_0x593211))throw new _0xc2e00f(_0x4d436e(0x552)+_0x593211);this[_0x4d436e(0x5b0)][_0x4d436e(0x656)](_0x593211,new _0xe28004(_0x593211,_0x16c9d9,_0x4d600b,new Set(_0x424626),_0xe1800c,_0x210ba2)),this[_0x4d436e(0x158)](_0x593211,_0x210ba2),this[_0x4d436e(0x26c)]();}['publishUserJoin'](_0x5ae607){const _0x496bce=_0x22e38d;this[_0x496bce(0x358)][_0x496bce(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x496bce(0x6a9)],'content':{'type':_0x1ebed6['UserJoin'],'id':_0x5ae607}});}[_0x22e38d(0x5f2)](_0xc5b13){const _0x32cd3b=_0x22e38d;this[_0x32cd3b(0x358)]?.[_0x32cd3b(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x32cd3b(0x6a9)],'content':{'type':_0x1ebed6['UserLeave'],'id':_0xc5b13}});}[_0x22e38d(0x383)](_0x3fdcb2){const _0x144f69=_0x22e38d;if(_0x3fdcb2===this[_0x144f69(0x236)][_0x144f69(0x1be)]())return this[_0x144f69(0x42c)][_0x144f69(0x49b)][_0x144f69(0x504)](_0x144f69(0x4d9),{'id':_0x3fdcb2}),this['configs']['mediator'][_0x144f69(0x13a)](!0x0),this[_0x144f69(0x42c)]['mediator']['open'](),void this['configs'][_0x144f69(0x49b)][_0x144f69(0x1e2)]();this[_0x144f69(0x5f2)](_0x3fdcb2);}[_0x22e38d(0x213)](_0x31dab2){const _0x566459=_0x22e38d;this['ancestors']['includes'](_0x31dab2)?this[_0x566459(0x486)](_0x31dab2):this[_0x566459(0x236)][_0x566459(0x2b9)]()[_0x566459(0x32d)](_0x31dab2)&&this[_0x566459(0x1e0)](_0x31dab2),this[_0x566459(0x236)][_0x566459(0x611)](_0x31dab2);const _0x566815=Array[_0x566459(0x5e6)](this[_0x566459(0x21f)]['entries']())[_0x566459(0x5de)](([,_0x4a0491])=>_0x4a0491==_0x4a0491);_0x566815&&this[_0x566459(0x21f)][_0x566459(0x421)](_0x566815[0x0]);const _0x495d3e=this[_0x566459(0x5b0)]['getRemoteUser'](_0x31dab2);if(!_0x495d3e)return;const _0x28b57e=_0x495d3e[_0x566459(0x265)](),_0x83e7c7=this['localUser'][_0x566459(0x265)]();_0x83e7c7&&_0x28b57e&&_0x28b57e<_0x83e7c7&&this['localUser'][_0x566459(0x222)](_0x83e7c7-0x1,!0x1),Array[_0x566459(0x5e6)](this[_0x566459(0x5b0)][_0x566459(0x3fe)]()[_0x566459(0x1f4)]())['forEach'](_0x41c255=>{const _0x460260=_0x566459,_0x4b03e1=_0x41c255[_0x460260(0x265)]();_0x4b03e1&&_0x28b57e&&_0x28b57e<_0x4b03e1&&_0x41c255[_0x460260(0x222)](_0x4b03e1-0x1);}),_0x495d3e['setStatus'](_0x1a56d0['Offline']),this['configs']['mediator'][_0x566459(0x504)](_0x566459(0x67b),{'id':_0x31dab2});}[_0x22e38d(0x3fd)]({id:_0x6f30b6,displayName:_0x598ce0,email:_0x56283f,remoteConnections:_0x4938d1}){const _0x1c8319=_0x22e38d;this[_0x1c8319(0x42c)][_0x1c8319(0x49b)]['notifyCluster'](_0x1c8319(0x4c7),{'id':_0x6f30b6,'displayName':_0x598ce0,'email':_0x56283f,'remoteConnections':_0x4938d1});}[_0x22e38d(0x296)]({id:_0xa17a7a,displayName:_0x249221,email:_0x410e1b,remoteConnections:_0x7740de}){const _0x1d2ca8=_0x22e38d;this['configs'][_0x1d2ca8(0x49b)][_0x1d2ca8(0x504)]('user-update',{'id':_0xa17a7a,'displayName':_0x249221,'email':_0x410e1b,'remoteConnections':_0x7740de});}[_0x22e38d(0x26c)](){const _0x59e066=_0x22e38d;if(this[_0x59e066(0x5fb)]||(this[_0x59e066(0x5fb)]=Date[_0x59e066(0x5c7)]()),this['debounceProcessRank']){if(Date[_0x59e066(0x5c7)]()-this[_0x59e066(0x5fb)]>0x2328)return;clearTimeout(this[_0x59e066(0x5b2)]);}this[_0x59e066(0x5b2)]=setTimeout(async()=>{const _0x2fccf5=_0x59e066;delete this[_0x2fccf5(0x5fb)],delete this[_0x2fccf5(0x5b2)];const _0x4744ea=this[_0x2fccf5(0x236)][_0x2fccf5(0x265)]();if(!_0x4744ea)return;const _0x5de022=this[_0x2fccf5(0x5b0)]['getCurrentMaxLayer'](this['graphService'][_0x2fccf5(0x3fe)]()[_0x2fccf5(0x4df)]);if(this[_0x2fccf5(0x21f)]['size']>=_0x5de022)return;let _0x54b881=0x1;for(;this[_0x2fccf5(0x42c)][_0x2fccf5(0x49b)]['getConnections']()[_0x2fccf5(0x1e7)]<this[_0x2fccf5(0x5b0)]['getMaxConnections']()&&_0x54b881<=_0x5de022;){if(this[_0x2fccf5(0x21f)][_0x2fccf5(0x32d)](_0x54b881)){_0x54b881+=0x1;continue;}const _0x283185=this['graphService']['getNextTargetRank'](_0x4744ea,_0x54b881),_0x18eaba=Array[_0x2fccf5(0x5e6)](this[_0x2fccf5(0x5b0)][_0x2fccf5(0x3fe)]()[_0x2fccf5(0x1f4)]())[_0x2fccf5(0x5de)](_0x117ced=>_0x117ced[_0x2fccf5(0x265)]()===_0x283185&&_0x117ced[_0x2fccf5(0x151)]()===_0x1a56d0[_0x2fccf5(0x65f)]);if(_0x18eaba){try{await this[_0x2fccf5(0x42c)][_0x2fccf5(0x49b)][_0x2fccf5(0x4cd)](_0x18eaba[_0x2fccf5(0x1be)](),_0x1951cf[_0x2fccf5(0x32a)]),this[_0x2fccf5(0x21f)][_0x2fccf5(0x3dc)](_0x54b881,_0x18eaba['getId']());}catch(_0x238427){if(!(_0x238427 instanceof _0x461f79&&_0x238427[_0x2fccf5(0x2d8)]===_0x461f79[_0x2fccf5(0x34a)]['RemoteConnectionExists']))throw _0x238427;_0x2858e9[_0x2fccf5(0x3a0)](_0x5abff4[_0x2fccf5(0x6a9)],this[_0x2fccf5(0x236)][_0x2fccf5(0x1be)](),_0x18eaba[_0x2fccf5(0x1be)](),_0x238427['message']);}_0x54b881+=0x1;}else _0x54b881+=0x1;}},0x3e8);}async[_0x22e38d(0x486)](_0x5482a2){const _0x3a8f2d=_0x22e38d;this[_0x3a8f2d(0x559)][_0x3a8f2d(0x4dc)](this[_0x3a8f2d(0x559)][_0x3a8f2d(0x252)](_0x5482a2),0x1);const _0x41483e=await this[_0x3a8f2d(0x3b3)][_0x3a8f2d(0x563)]();for(const _0x46588a of _0x41483e)if(!this[_0x3a8f2d(0x559)][_0x3a8f2d(0x4c9)](_0x46588a)){const _0x429324=Array[_0x3a8f2d(0x5e6)](this[_0x3a8f2d(0x21f)][_0x3a8f2d(0x578)]())[_0x3a8f2d(0x5de)](([,_0x2581c0])=>_0x2581c0===_0x46588a);_0x429324&&this[_0x3a8f2d(0x21f)][_0x3a8f2d(0x421)](_0x429324[0x0]),this[_0x3a8f2d(0x42c)]['mediator'][_0x3a8f2d(0x4cd)](_0x46588a,_0x1951cf[_0x3a8f2d(0x1e1)]);}0x0===_0x41483e[_0x3a8f2d(0x1e7)]&&this[_0x3a8f2d(0x236)][_0x3a8f2d(0x222)](0x1),this[_0x3a8f2d(0x559)]=_0x41483e;}async[_0x22e38d(0x1e0)](_0x4833c3){const _0x4b0080=_0x22e38d,_0x33d062=this[_0x4b0080(0x236)][_0x4b0080(0x265)]();if(!_0x33d062)return;const _0x5c3a93=this['graphService'][_0x4b0080(0x1a0)](_0x4833c3);if(!_0x5c3a93||_0x5c3a93[_0x4b0080(0x151)]()===_0x1a56d0[_0x4b0080(0x270)])return;const _0x328bc9=_0x5c3a93['getRank']();if(!_0x328bc9||_0x328bc9<_0x33d062)return;const _0x4ec602=this[_0x4b0080(0x49a)](this[_0x4b0080(0x236)]['getRemoteConnections'](),_0x33d062),_0x4c48b9=this[_0x4b0080(0x49a)](_0x5c3a93[_0x4b0080(0x2b9)](),_0x328bc9)[_0x4ec602[_0x4b0080(0x4a8)](([_0x177679])=>_0x177679===_0x4833c3)];if(!_0x4c48b9||this[_0x4b0080(0x236)]['getRemoteConnections']()[_0x4b0080(0x32d)](_0x4c48b9[0x0]))return;const _0x6f9d76=this[_0x4b0080(0x5b0)]['getRemoteUser'](_0x4c48b9[0x0]);if(_0x6f9d76&&_0x6f9d76[_0x4b0080(0x151)]()!==_0x1a56d0['Offline'])try{await this[_0x4b0080(0x42c)]['mediator'][_0x4b0080(0x4cd)](_0x4c48b9[0x0],_0x1951cf[_0x4b0080(0x32a)]);const _0x49a2d3=Array[_0x4b0080(0x5e6)](this['optimizationLayers'][_0x4b0080(0x578)]())['find'](([,_0x3df6f0])=>_0x3df6f0===_0x4833c3);_0x49a2d3&&this[_0x4b0080(0x21f)][_0x4b0080(0x3dc)](_0x49a2d3[0x0],_0x4c48b9[0x0]);}catch(_0x312d7d){if(!(_0x312d7d instanceof _0x461f79&&_0x312d7d['code']===_0x461f79[_0x4b0080(0x34a)][_0x4b0080(0x38e)]))throw _0x312d7d;_0x2858e9[_0x4b0080(0x3a0)](_0x5abff4[_0x4b0080(0x6a9)],this[_0x4b0080(0x236)]['getId'](),_0x4c48b9[0x0],_0x312d7d['message']);}}[_0x22e38d(0x49a)](_0x28d539,_0x18b519){const _0x283fed=_0x22e38d;return Array[_0x283fed(0x5e6)](_0x28d539)[_0x283fed(0x324)]((_0x1ee372,_0x4adf4d)=>{const _0x116e09=_0x283fed,_0x52010d=this[_0x116e09(0x5b0)][_0x116e09(0x1a0)](_0x4adf4d);if(!_0x52010d||_0x52010d[_0x116e09(0x151)]()===_0x1a56d0[_0x116e09(0x270)])return _0x1ee372;const _0x56e7cc=_0x52010d[_0x116e09(0x265)]();if(!_0x56e7cc)return _0x1ee372;const _0x378b3a=_0x56e7cc-_0x18b519;return _0x378b3a<=this[_0x116e09(0x5b0)][_0x116e09(0x2cb)]()||_0x1ee372[_0x116e09(0x386)]([_0x4adf4d,_0x378b3a]),_0x1ee372;},[])[_0x283fed(0x691)](([,_0x1607fa],[,_0x1fb242])=>_0x1607fa-_0x1fb242);}}class _0xb76afc extends _0x3a7107{[_0x22e38d(0x358)];[_0x22e38d(0x13e)]=Date[_0x22e38d(0x5c7)]();['updateDebounceTimeout'];[_0x22e38d(0x1db)];[_0x22e38d(0x13a)](){const _0x4c58d7=_0x22e38d;this[_0x4c58d7(0x31c)]&&(clearTimeout(this[_0x4c58d7(0x31c)]),delete this[_0x4c58d7(0x31c)]),delete this[_0x4c58d7(0x1db)],this[_0x4c58d7(0x13e)]=Date[_0x4c58d7(0x5c7)](),super[_0x4c58d7(0x13a)]();}['registerSystemPublisher'](_0x4ac7e5){const _0x4c0102=_0x22e38d;this[_0x4c0102(0x358)]=_0x4ac7e5;}[_0x22e38d(0x43f)](){delete this['systemTopic'];}[_0x22e38d(0x593)](_0x52e686){const _0x4bab2c=_0x22e38d;!this['updateDebounceTimeout']&&this[_0x4bab2c(0x551)]&&this[_0x4bab2c(0x358)][_0x4bab2c(0x3c2)]({'sourceId':this['id'],'destinationIds':[_0x52e686],'propagate':!0x0,'messageType':_0x120441['Node'],'content':{'type':_0x1ebed6[_0x4bab2c(0x2ed)],'id':this['id'],'displayName':this[_0x4bab2c(0x349)](),'email':this[_0x4bab2c(0x6bf)](),'rank':this[_0x4bab2c(0x265)](),'remoteConnections':Array[_0x4bab2c(0x5e6)](this['remoteConnections']),'version':this[_0x4bab2c(0x13e)]}});}[_0x22e38d(0x43a)](_0x28b5de){const _0x4816a1=_0x22e38d;this[_0x4816a1(0x144)][_0x4816a1(0x32d)](_0x28b5de)||(this[_0x4816a1(0x144)][_0x4816a1(0x24a)](_0x28b5de),this[_0x4816a1(0x1b4)](),this['publishUserUpdate'](!0x0));}['removeRemoteConnection'](_0x47698e){const _0x41a158=_0x22e38d;this[_0x41a158(0x144)]['has'](_0x47698e)&&(this[_0x41a158(0x144)][_0x41a158(0x421)](_0x47698e),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x22e38d(0x5af)](){const _0x4ce1d7=_0x22e38d;return this[_0x4ce1d7(0x13e)];}[_0x22e38d(0x17b)](_0x5a8448){const _0x13ea66=_0x22e38d;this[_0x13ea66(0x543)]!==_0x5a8448&&(this[_0x13ea66(0x543)]=_0x5a8448,this[_0x13ea66(0x1b4)](),this[_0x13ea66(0x2bd)]());}[_0x22e38d(0x6c6)](_0x5882dd){const _0x5cbb23=_0x22e38d;this[_0x5cbb23(0x674)]!==_0x5882dd&&(this['email']=_0x5882dd,this[_0x5cbb23(0x1b4)](),this[_0x5cbb23(0x2bd)]());}[_0x22e38d(0x222)](_0x38f70d,_0x1bee26=!0x0){const _0xce3d86=_0x22e38d;this[_0xce3d86(0x551)]!==_0x38f70d&&(this[_0xce3d86(0x551)]=_0x38f70d,_0x1bee26&&(this[_0xce3d86(0x1b4)](),this[_0xce3d86(0x2bd)]()));}[_0x22e38d(0x1b4)](){const _0x459df9=_0x22e38d;this[_0x459df9(0x13e)]=Date[_0x459df9(0x5c7)]();}[_0x22e38d(0x2bd)](_0x231ab7=!0x1){const _0x393cc9=_0x22e38d;if(this[_0x393cc9(0x551)]){if(this[_0x393cc9(0x1db)]||(this[_0x393cc9(0x1db)]=Date[_0x393cc9(0x5c7)]()),this[_0x393cc9(0x31c)]){if(Date['now']()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x393cc9(0x31c)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x41a140=_0x393cc9;delete this[_0x41a140(0x1db)],delete this[_0x41a140(0x31c)],this[_0x41a140(0x358)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x120441[_0x41a140(0x6a9)],'content':{'type':_0x231ab7?_0x1ebed6['UserConnectionsUpdate']:_0x1ebed6[_0x41a140(0x2ed)],'id':this['id'],'displayName':this['getDisplayName'](),'email':this[_0x41a140(0x6bf)](),'rank':this['getRank'](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this['currentVersion']}});},0x3e8);}}}const _0x455068=[{'problemType':_0xc019f6[_0x22e38d(0x419)],'remediations':[{'type':_0x4ca98a[_0x22e38d(0x481)],'component':_0x59204a[_0x22e38d(0x176)],'action':_0x15c440[_0x22e38d(0x41c)]},{'type':_0x4ca98a[_0x22e38d(0x279)],'component':_0x59204a[_0x22e38d(0x176)],'action':_0x15c440[_0x22e38d(0x41c)]}]},{'problemType':_0xc019f6[_0x22e38d(0x639)],'remediations':[{'type':_0x4ca98a[_0x22e38d(0x481)],'component':_0x59204a['Resolution'],'action':_0x15c440[_0x22e38d(0x41c)]}]},{'problemType':_0xc019f6[_0x22e38d(0x53c)],'remediations':[{'type':_0x4ca98a[_0x22e38d(0x481)],'component':_0x59204a[_0x22e38d(0x176)],'action':_0x15c440[_0x22e38d(0x41c)]}]},{'problemType':_0xc019f6['FramePerSecond'],'remediations':[{'type':_0x4ca98a[_0x22e38d(0x481)],'component':_0x59204a[_0x22e38d(0x176)],'action':_0x15c440[_0x22e38d(0x41c)]}]},{'problemType':_0xc019f6['Bitrate'],'remediations':[{'type':_0x4ca98a['Remediation'],'component':_0x59204a[_0x22e38d(0x49d)],'action':_0x15c440[_0x22e38d(0x41c)]}]},{'problemType':_0xc019f6[_0x22e38d(0x5c8)],'remediations':[{'type':_0x4ca98a[_0x22e38d(0x481)],'component':_0x59204a[_0x22e38d(0x49d)],'action':_0x15c440['Downgrade']}]},{'problemType':_0xc019f6[_0x22e38d(0x406)],'remediations':[{'type':_0x4ca98a[_0x22e38d(0x481)],'component':_0x59204a['Bitrate'],'action':_0x15c440[_0x22e38d(0x41c)]}]}];class _0x37197d{[_0x22e38d(0x42c)];[_0x22e38d(0x358)];[_0x22e38d(0x4c4)]=new Map();constructor(_0x416033){const _0x567efb=_0x22e38d;this[_0x567efb(0x42c)]=_0x416033,this[_0x567efb(0x42c)]['mediator']['registerSystemSource'](this);}[_0x22e38d(0x13a)](){const _0x929425=_0x22e38d;this[_0x929425(0x42c)][_0x929425(0x49b)][_0x929425(0x407)](this);}[_0x22e38d(0x45c)](_0x8304b5){const _0x3108fb=_0x22e38d;this[_0x3108fb(0x358)]=_0x8304b5;}[_0x22e38d(0x43f)](){const _0x134bec=_0x22e38d;delete this[_0x134bec(0x358)];}[_0x22e38d(0x138)](_0x410336){const _0xb084d5=_0x22e38d;_0x410336[_0xb084d5(0x127)]['type']===_0x23d5ff['Problem']&&this[_0xb084d5(0x601)](_0x410336[_0xb084d5(0x127)][_0xb084d5(0x68c)]);}[_0x22e38d(0x5ab)](_0x461913){const _0x33f04f=_0x22e38d;_0x461913['content'][_0x33f04f(0x1a1)]===_0x4ca98a[_0x33f04f(0x279)]&&this['applyRemediation'](_0x461913[_0x33f04f(0x3c7)],{'type':_0x4ca98a[_0x33f04f(0x481)],'component':_0x461913['content']['data']['component'],'action':_0x461913[_0x33f04f(0x127)][_0x33f04f(0x68c)][_0x33f04f(0x134)]});}[_0x22e38d(0x601)](_0xb5f90){const _0x1b5162=_0x22e38d,_0x3a1991=_0x455068[_0x1b5162(0x5de)](_0x1f0d06=>_0x1f0d06[_0x1b5162(0x1a8)]===_0xb5f90[_0x1b5162(0x1a1)]);_0x3a1991['remediations']?.[_0x1b5162(0x237)](_0x591611=>{const _0x5423f2=_0x1b5162;this[_0x5423f2(0x30c)](_0xb5f90[_0x5423f2(0x17c)],{'type':_0xb5f90[_0x5423f2(0x130)]===_0x46736a[_0x5423f2(0x2a7)]?_0x4ca98a[_0x5423f2(0x481)]:_0x4ca98a[_0x5423f2(0x279)],'component':_0x591611[_0x5423f2(0x276)],'action':_0x591611[_0x5423f2(0x134)]});});}[_0x22e38d(0x30c)](_0x260a10,_0x4f7c80){const _0x3b3d39=_0x22e38d;if(_0x4f7c80['type']===_0x4ca98a[_0x3b3d39(0x481)]){const _0x42c7d5=Date[_0x3b3d39(0x5c7)](),_0x3f8535=this[_0x3b3d39(0x4c4)][_0x3b3d39(0x61c)](_0x260a10);if(_0x3f8535&&_0x42c7d5-_0x3f8535<0x1388)return;this[_0x3b3d39(0x4c4)]['set'](_0x260a10,_0x42c7d5);}_0x2858e9[_0x3b3d39(0x3a0)](_0x5abff4['Remediation'],_0x3b3d39(0x4c6),_0x4f7c80),_0x2858e9[_0x3b3d39(0x4cc)](_0x3b3d39(0x665),{'clusterId':this[_0x3b3d39(0x42c)]['clusterId'],'userId':this[_0x3b3d39(0x42c)][_0x3b3d39(0x33d)],'remoteId':_0x260a10,'data':{'type':_0x4f7c80['type'],'component':_0x4f7c80[_0x3b3d39(0x276)],'action':_0x4f7c80[_0x3b3d39(0x134)]}});let _0x29b852,_0x290dc9=_0x58c96e;_0x4f7c80[_0x3b3d39(0x1a1)]===_0x4ca98a['RemoteRemediation']&&(_0x290dc9=this[_0x3b3d39(0x42c)][_0x3b3d39(0x33d)],_0x29b852=[_0x260a10]),this['systemTopic'][_0x3b3d39(0x3c2)]({'sourceId':_0x290dc9,'destinationIds':_0x29b852,'messageType':_0x120441['Remediation'],'content':{'type':_0x4f7c80[_0x3b3d39(0x1a1)],'targetId':_0x260a10,'data':_0x4f7c80}});}}const _0x418540=0x3e8,_0x669bd4=0x7530,_0x15265b='outbound-rtp',_0x4c8464=_0x22e38d(0x2e2),_0x3780f1=_0x22e38d(0x496),_0x17a02d=[_0x15265b,_0x4c8464],_0x4c0149=[_0x3780f1];class _0x347309{[_0x22e38d(0x32c)]=0x0;['estimatedPlayoutTimestamp']=0x0;[_0x22e38d(0x55b)]=0x0;['packetsLost']=0x0;[_0x22e38d(0x500)]=0x0;['currentTimestamp']=0x0;[_0x22e38d(0x49c)]=0x0;[_0x22e38d(0x45f)]=0x0;[_0x22e38d(0x514)]=0x0;get[_0x22e38d(0x133)](){const _0x4e7ecc=_0x22e38d;return this[_0x4e7ecc(0x3b2)]>0x0&&this[_0x4e7ecc(0x49c)]>0x0&&Date[_0x4e7ecc(0x5c7)]()-this['currentTimestamp']<_0x669bd4?(this[_0x4e7ecc(0x45f)]-this[_0x4e7ecc(0x514)])/(this['currentTimestamp']-this[_0x4e7ecc(0x49c)])*0x8*0x3e8:0x0;}[_0x22e38d(0x590)](_0x77611e){const _0x273aeb=_0x22e38d;switch(_0x77611e[_0x273aeb(0x1a1)]){case _0x3780f1:this[_0x273aeb(0x533)](_0x77611e);break;case _0x15265b:this[_0x273aeb(0x1c1)](_0x77611e);break;case _0x4c8464:this[_0x273aeb(0x69d)](_0x77611e);}}['getReport'](){const _0xe9c554=_0x22e38d;return{'bitrate':this[_0xe9c554(0x133)],'packetsLostPerc':this[_0xe9c554(0x37e)](),'roundTripTime':this[_0xe9c554(0x32c)],'jitter':this[_0xe9c554(0x55b)]};}['processInboundReport'](_0x7029a1){const _0x231644=_0x22e38d;this[_0x231644(0x3cf)](_0x7029a1[_0x231644(0x19c)]),this['setTimestamp'](_0x7029a1['timestamp']),this[_0x231644(0x500)]=_0x7029a1['packetsReceived'],this[_0x231644(0x180)]=_0x7029a1[_0x231644(0x180)],void 0x0!==_0x7029a1['jitter']?this['jitter']=_0x7029a1[_0x231644(0x55b)]:this[_0x231644(0x55b)]=0x0,void 0x0!==_0x7029a1['estimatedPlayoutTimestamp']?this['estimatedPlayoutTimestamp']=_0x7029a1[_0x231644(0x483)]:this[_0x231644(0x483)]=0x0;}[_0x22e38d(0x1c1)](_0x3d5522){const _0x36e3cd=_0x22e38d;this[_0x36e3cd(0x3cf)](_0x3d5522[_0x36e3cd(0x3f9)]),this['setTimestamp'](_0x3d5522[_0x36e3cd(0x372)]),this['packets']=_0x3d5522[_0x36e3cd(0x378)];}[_0x22e38d(0x69d)](_0x8e8774){const _0xcd9fac=_0x22e38d;this['roundTripTime']=0x3e8*_0x8e8774[_0xcd9fac(0x32c)],void 0x0!==_0x8e8774[_0xcd9fac(0x55b)]?this[_0xcd9fac(0x55b)]=_0x8e8774[_0xcd9fac(0x55b)]:this['jitter']=0x0;}['getPacketsLostPerc'](){const _0x5c7d89=_0x22e38d;return this[_0x5c7d89(0x500)]>0x0?this[_0x5c7d89(0x180)]/this[_0x5c7d89(0x500)]:0x0;}[_0x22e38d(0x1cc)](_0x4841f4){const _0x10f510=_0x22e38d;_0x4841f4>this[_0x10f510(0x3b2)]&&(this[_0x10f510(0x49c)]=this[_0x10f510(0x3b2)],this[_0x10f510(0x3b2)]=_0x4841f4);}[_0x22e38d(0x3cf)](_0x102bf1){const _0xf72db3=_0x22e38d;this[_0xf72db3(0x514)]=this[_0xf72db3(0x45f)],this['currentBytes']=_0x102bf1;}}class _0x19d4f8 extends _0x347309{}class _0x2baf80 extends _0x347309{[_0x22e38d(0x354)]=0x0;['frameWidth']=0x0;[_0x22e38d(0x44c)]=0x0;[_0x22e38d(0x59b)]=0x0;[_0x22e38d(0x583)]=0x0;get[_0x22e38d(0x41f)](){const _0x2e0923=_0x22e38d;return this['currentTimestamp']>0x0&&this['previousTimestamp']>0x0&&Date[_0x2e0923(0x5c7)]()-this[_0x2e0923(0x3b2)]<_0x669bd4?(this['currentFrames']-this[_0x2e0923(0x583)])/(this[_0x2e0923(0x3b2)]-this[_0x2e0923(0x49c)])*0x3e8:0x0;}get[_0x22e38d(0x232)](){const _0x491264=_0x22e38d;return this[_0x491264(0x354)]&&this['currentFrames']&&this[_0x491264(0x59b)]>0x0?this[_0x491264(0x354)]/this['currentFrames']:0x0;}set['frames'](_0x5819cc){const _0x1dd6bd=_0x22e38d;this[_0x1dd6bd(0x583)]=this[_0x1dd6bd(0x59b)],this[_0x1dd6bd(0x59b)]=_0x5819cc;}[_0x22e38d(0x35a)](){const _0x31ddf5=_0x22e38d;return{...super[_0x31ddf5(0x35a)](),'FPS':this[_0x31ddf5(0x41f)],'timePerFrame':this[_0x31ddf5(0x232)],'frameWidth':this[_0x31ddf5(0x21a)],'frameHeight':this['frameHeight']};}['processInboundReport'](_0x1c63ee){const _0x40d2c7=_0x22e38d;super[_0x40d2c7(0x533)](_0x1c63ee),this[_0x40d2c7(0x354)]=_0x1c63ee[_0x40d2c7(0x4de)],this[_0x40d2c7(0x28e)]=_0x1c63ee[_0x40d2c7(0x264)],this[_0x40d2c7(0x21a)]=_0x1c63ee[_0x40d2c7(0x21a)],this[_0x40d2c7(0x44c)]=_0x1c63ee[_0x40d2c7(0x44c)];}[_0x22e38d(0x1c1)](_0x16a0b1){const _0x479b96=_0x22e38d;super[_0x479b96(0x1c1)](_0x16a0b1),this[_0x479b96(0x354)]=_0x16a0b1['totalEncodeTime'],this[_0x479b96(0x28e)]=_0x16a0b1['framesEncoded'],this[_0x479b96(0x21a)]=_0x16a0b1['frameWidth'],this['frameHeight']=_0x16a0b1['frameHeight'];}}class _0x5d3634{[_0x22e38d(0x19e)]=new _0x19d4f8();[_0x22e38d(0x4eb)]=new _0x2baf80();get['bitrate'](){const _0x50862c=_0x22e38d;return this['audio'][_0x50862c(0x133)]+this['video'][_0x50862c(0x133)];}[_0x22e38d(0x137)](_0x104d76){const _0x5c9acc=_0x22e38d;return _0x104d76['forEach'](_0x186cea=>{const _0x60171e=a0_0x104e;switch(_0x186cea['kind']){case _0x60171e(0x19e):this['audio'][_0x60171e(0x590)](_0x186cea);break;case _0x60171e(0x4eb):this[_0x60171e(0x4eb)][_0x60171e(0x590)](_0x186cea);}}),this[_0x5c9acc(0x35a)]();}[_0x22e38d(0x35a)](){const _0x36b75e=_0x22e38d;return{'audio':this['audio']['getReport'](),'video':this[_0x36b75e(0x4eb)][_0x36b75e(0x35a)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this[_0x36b75e(0x133)]};}['getRoundTripTime'](){const _0x4ab4b3=_0x22e38d;return Math['floor']((this['audio'][_0x4ab4b3(0x32c)]+this[_0x4ab4b3(0x4eb)][_0x4ab4b3(0x32c)])/0x2);}[_0x22e38d(0x233)](){return this['audio']['estimatedPlayoutTimestamp']-this['video']['estimatedPlayoutTimestamp'];}}class _0x437855{[_0x22e38d(0x282)]=0x0;['senderPreviousTimestamp']=0x0;[_0x22e38d(0x6c2)]=0x0;[_0x22e38d(0x565)]=0x0;['senderCurrentBytes']=0x0;[_0x22e38d(0x356)]=0x0;['receiverCurrentBytes']=0x0;['receiverPreviousBytes']=0x0;[_0x22e38d(0x2ba)]=0x0;[_0x22e38d(0x55d)]=0x0;[_0x22e38d(0x39b)]=0x0;[_0x22e38d(0x51f)]=0x0;[_0x22e38d(0x32c)]=0x0;get[_0x22e38d(0x133)](){const _0x5b9a37=_0x22e38d;return this['senderBitrate']+this[_0x5b9a37(0x429)];}get['senderBitrate'](){const _0x2e2483=_0x22e38d;return this[_0x2e2483(0x282)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date[_0x2e2483(0x5c7)]()-this['senderCurrentTimestamp']<_0x669bd4?(this[_0x2e2483(0x197)]-this[_0x2e2483(0x356)])/(this['senderCurrentTimestamp']-this[_0x2e2483(0x598)])*0x8*0x3e8:0x0;}get[_0x22e38d(0x429)](){const _0x2fbf52=_0x22e38d;return this[_0x2fbf52(0x6c2)]>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x2fbf52(0x5c7)]()-this[_0x2fbf52(0x6c2)]<_0x669bd4?(this[_0x2fbf52(0x55c)]-this[_0x2fbf52(0x61b)])/(this[_0x2fbf52(0x6c2)]-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}['processReport'](_0x1e6047){const _0xc0c5b2=_0x22e38d;switch(_0x1e6047[_0xc0c5b2(0x130)]){case _0x46736a['Sender']:this[_0xc0c5b2(0x475)](_0x1e6047);break;case _0x46736a[_0xc0c5b2(0x53d)]:this['processReceiverReport'](_0x1e6047);}}[_0x22e38d(0x35a)](){const _0x147e3c=_0x22e38d;return{'bitrate':this[_0x147e3c(0x133)],'senderBitrate':this[_0x147e3c(0x545)],'receiverBitrate':this[_0x147e3c(0x429)],'totalBytes':this[_0x147e3c(0x46f)](),'senderTotalBytes':this['getSenderTotalBytes'](),'receiverTotalBytes':this[_0x147e3c(0x6ba)](),'totalMessages':this[_0x147e3c(0x2ba)]+this[_0x147e3c(0x55d)],'senderTotalMessages':this[_0x147e3c(0x2ba)],'receiverTotalMessages':this[_0x147e3c(0x55d)],'timeProcessing':this[_0x147e3c(0x39b)]+this[_0x147e3c(0x51f)],'senderTimeProcessing':this[_0x147e3c(0x39b)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x147e3c(0x32c)]};}['getTotalBytes'](){const _0x2800dd=_0x22e38d;return this['senderCurrentBytes']+this[_0x2800dd(0x55c)];}[_0x22e38d(0x497)](){const _0x498c75=_0x22e38d;return this[_0x498c75(0x197)];}[_0x22e38d(0x6ba)](){const _0x3b0c51=_0x22e38d;return this[_0x3b0c51(0x55c)];}[_0x22e38d(0x475)](_0x1804d3){const _0x2fd875=_0x22e38d;this['setSenderTimestamp'](_0x1804d3[_0x2fd875(0x372)]),this[_0x2fd875(0x3cf)](_0x1804d3[_0x2fd875(0x3f9)]),this[_0x2fd875(0x2ba)]=_0x1804d3[_0x2fd875(0x693)],this[_0x2fd875(0x39b)]=_0x1804d3['timeSending'],this[_0x2fd875(0x32c)]=_0x1804d3[_0x2fd875(0x32c)];}[_0x22e38d(0x1a7)](_0x13c547){const _0xe591ab=_0x22e38d;this[_0xe591ab(0x626)](_0x13c547['timestamp']),this[_0xe591ab(0x3ac)](_0x13c547[_0xe591ab(0x19c)]),this[_0xe591ab(0x55d)]=_0x13c547[_0xe591ab(0x573)],this[_0xe591ab(0x51f)]=_0x13c547[_0xe591ab(0x46b)];}[_0x22e38d(0x2f8)](_0x1b719c){const _0x40c1f8=_0x22e38d;_0x1b719c>this[_0x40c1f8(0x282)]&&(this[_0x40c1f8(0x598)]=this[_0x40c1f8(0x282)],this[_0x40c1f8(0x282)]=_0x1b719c);}[_0x22e38d(0x626)](_0x54bea3){const _0x1843cb=_0x22e38d;_0x54bea3>this[_0x1843cb(0x6c2)]&&(this[_0x1843cb(0x565)]=this['receiverCurrentTimestamp'],this[_0x1843cb(0x6c2)]=_0x54bea3);}[_0x22e38d(0x3cf)](_0x208b4a){const _0x2b1ac0=_0x22e38d;this['senderPreviousBytes']=this['senderCurrentBytes'],this[_0x2b1ac0(0x197)]=_0x208b4a;}[_0x22e38d(0x3ac)](_0x320915){const _0x517fc5=_0x22e38d;this['receiverPreviousBytes']=this['receiverCurrentBytes'],this[_0x517fc5(0x55c)]=_0x320915;}}class _0x3336a4{[_0x22e38d(0x5fe)]=new Map();[_0x22e38d(0x650)]=new Map();[_0x22e38d(0x22e)]=new _0x437855();get[_0x22e38d(0x545)](){const _0x5d99dd=_0x22e38d;let _0x323a4b=0x0;return this[_0x5d99dd(0x5fe)][_0x5d99dd(0x237)](_0x17ac96=>{_0x323a4b+=_0x17ac96['bitrate'];}),_0x323a4b+=this['dataChannel'][_0x5d99dd(0x545)],_0x323a4b;}get[_0x22e38d(0x429)](){const _0x5ec887=_0x22e38d;let _0x512d2f=0x0;return this[_0x5ec887(0x650)][_0x5ec887(0x237)](_0x4cdee8=>{const _0x54d395=_0x5ec887;_0x512d2f+=_0x4cdee8[_0x54d395(0x133)];}),_0x512d2f+=this[_0x5ec887(0x22e)]['receiverBitrate'],_0x512d2f;}get[_0x22e38d(0x133)](){const _0x244725=_0x22e38d;return this[_0x244725(0x545)]+this[_0x244725(0x429)];}[_0x22e38d(0x137)](_0x4546a6,_0x5a79ca){const _0x45a6df=_0x22e38d,_0x4267d3=[],_0x4abc69=[];return _0x4546a6 instanceof Array?_0x4546a6[_0x45a6df(0x237)](_0x160a1b=>{const _0x598681=_0x45a6df;_0x160a1b[_0x598681(0x237)](_0x106e27=>{const _0x405cc6=_0x598681;_0x4c0149[_0x405cc6(0x4c9)](_0x106e27[_0x405cc6(0x1a1)])&&_0x4267d3['push'](_0x106e27),_0x17a02d['includes'](_0x106e27['type'])&&_0x4abc69[_0x405cc6(0x386)](_0x106e27);});}):this[_0x45a6df(0x22e)][_0x45a6df(0x590)](_0x4546a6),_0x4267d3['length']>0x0&&_0x5a79ca?{...this[_0x45a6df(0x5d3)](_0x5a79ca,_0x4267d3),'origin':_0x46736a[_0x45a6df(0x53d)],'streamId':_0x5a79ca}:_0x4abc69['length']>0x0&&_0x5a79ca?{...this['processOutboundReports'](_0x5a79ca,_0x4abc69),'origin':_0x46736a[_0x45a6df(0x2a7)],'streamId':_0x5a79ca}:void 0x0;}['getReport'](){const _0x52f25e=_0x22e38d,_0x3290c9={};this[_0x52f25e(0x5fe)][_0x52f25e(0x237)]((_0x33d9ba,_0x34ae31)=>{_0x3290c9[_0x34ae31]=_0x33d9ba['getReport']();});const _0x5e75c8={};return this['receiverStreams'][_0x52f25e(0x237)]((_0x19c237,_0x19207d)=>{const _0xc3d8e7=_0x52f25e;_0x5e75c8[_0x19207d]=_0x19c237[_0xc3d8e7(0x35a)]();}),{'bitrate':this[_0x52f25e(0x133)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x3290c9,'receiverStreams':_0x5e75c8,'dataChannel':this['dataChannel'][_0x52f25e(0x35a)]()};}[_0x22e38d(0x5d3)](_0x230309,_0x548ab9){const _0xd83a85=_0x22e38d;return this[_0xd83a85(0x650)]['has'](_0x230309)||this[_0xd83a85(0x650)][_0xd83a85(0x3dc)](_0x230309,new _0x5d3634()),this['receiverStreams'][_0xd83a85(0x61c)](_0x230309)['processReports'](_0x548ab9);}['processOutboundReports'](_0x5b7fc2,_0x250d25){const _0x27caf8=_0x22e38d;return this[_0x27caf8(0x5fe)][_0x27caf8(0x32d)](_0x5b7fc2)||this['senderStreams'][_0x27caf8(0x3dc)](_0x5b7fc2,new _0x5d3634()),this[_0x27caf8(0x5fe)][_0x27caf8(0x61c)](_0x5b7fc2)[_0x27caf8(0x137)](_0x250d25);}}class _0x10c125{[_0x22e38d(0x168)]=new Map();['scheduleTime']=0x0;[_0x22e38d(0x149)]=0x0;[_0x22e38d(0x65d)]=new Map();[_0x22e38d(0x58d)]=new Map();[_0x22e38d(0x4ea)]=new Map();[_0x22e38d(0x2ba)]=new Map();[_0x22e38d(0x55d)]=new Map();['senderTimeProcessing']=new Map();[_0x22e38d(0x51f)]=new Map();['systemMessages']=new Map();[_0x22e38d(0x358)];[_0x22e38d(0x35a)](){const _0x403308=_0x22e38d,_0x257276={};this[_0x403308(0x168)][_0x403308(0x237)]((_0x9889ba,_0x1bcd9a)=>{const _0x2917c3=_0x403308;_0x257276[_0x1bcd9a]=_0x9889ba[_0x2917c3(0x35a)]();});let _0x56ca5c=0x0;this['senderTimeProcessing'][_0x403308(0x237)](_0x45984b=>{_0x56ca5c+=_0x45984b;});let _0x741466=0x0;this[_0x403308(0x51f)][_0x403308(0x237)](_0x4e7deb=>{_0x741466+=_0x4e7deb;});const _0x2203ee=_0x56ca5c+_0x741466;let _0x3551ee={'messages':{'total':0x0}};this[_0x403308(0x2da)][_0x403308(0x237)](_0x2aec19=>{const _0x36e452=_0x403308;Object[_0x36e452(0x371)](_0x2aec19)[_0x36e452(0x237)](_0x327fa0=>{const _0x5678b0=_0x36e452;_0x3551ee[_0x327fa0]||(_0x3551ee[_0x327fa0]={}),Object[_0x5678b0(0x371)](_0x2aec19[_0x327fa0])[_0x5678b0(0x237)](_0x10aab1=>{_0x3551ee[_0x327fa0][_0x10aab1]||(_0x3551ee[_0x327fa0][_0x10aab1]=0x0),_0x3551ee[_0x327fa0][_0x10aab1]+=_0x2aec19[_0x327fa0][_0x10aab1];});});});let _0x8f96ef=0x0,_0xbfdf17=0x0,_0x4bc421=0x0,_0xfce784=0x0,_0x496d61=0x0;return this[_0x403308(0x65d)][_0x403308(0x237)](_0x404508=>{const _0x25e649=_0x403308;_0xbfdf17+=_0x404508[_0x25e649(0x693)],_0x4bc421+=_0x404508[_0x25e649(0x573)],_0xfce784+=_0x404508['bytesSent'],_0x496d61+=_0x404508['bytesReceived'];}),this[_0x403308(0x58d)][_0x403308(0x237)](_0x2461b3=>{const _0x120699=_0x403308;_0x8f96ef+=_0x2461b3[_0x120699(0x4a1)],_0xbfdf17+=_0x2461b3[_0x120699(0x693)],_0x4bc421+=_0x2461b3[_0x120699(0x573)],_0xfce784+=_0x2461b3[_0x120699(0x3f9)],_0x496d61+=_0x2461b3[_0x120699(0x19c)];}),this['keyValueDatabases']['forEach'](_0x21a64a=>{const _0x53541a=_0x403308;_0x8f96ef+=_0x21a64a[_0x53541a(0x4a1)],_0xbfdf17+=_0x21a64a['messagesSent'],_0x4bc421+=_0x21a64a[_0x53541a(0x573)],_0xfce784+=_0x21a64a[_0x53541a(0x3f9)],_0x496d61+=_0x21a64a[_0x53541a(0x19c)];}),{'STVolatility':this[_0x403308(0x669)](),'DTVolatility':this[_0x403308(0x487)](),'bitrate':this[_0x403308(0x17f)](),'senderBitrate':this[_0x403308(0x663)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x8f96ef,'totalMessages':_0xbfdf17+_0x4bc421,'totalMessagesSent':_0xbfdf17,'totalMessagesReceived':_0x4bc421,'totalBytes':_0xfce784+_0x496d61,'totalBytesSent':_0xfce784,'totalBytesReceived':_0x496d61,'systemMessages':_0x3551ee,'timeProcessing':_0x2203ee,'users':_0x257276,'pubsubTopics':Object[_0x403308(0x69f)](this[_0x403308(0x65d)]),'objectStores':Object[_0x403308(0x69f)](this[_0x403308(0x58d)]),'keyValueDatabases':Object[_0x403308(0x69f)](this[_0x403308(0x4ea)])};}[_0x22e38d(0x353)](_0x3a9eaa){const _0x4c723f=_0x22e38d;this[_0x4c723f(0x168)][_0x4c723f(0x3dc)](_0x3a9eaa,new _0x3336a4());}[_0x22e38d(0x1ca)](_0x1c4071){this['users']['delete'](_0x1c4071);}[_0x22e38d(0x137)](_0x17cd28,_0x3d7dce,_0x532c1f){const _0x30673c=_0x22e38d;_0x3d7dce instanceof Array||this[_0x30673c(0x5a6)](_0x17cd28,_0x3d7dce);const _0x2e5e72=this[_0x30673c(0x168)][_0x30673c(0x61c)](_0x17cd28)?.[_0x30673c(0x137)](_0x3d7dce,_0x532c1f);_0x2e5e72&&this[_0x30673c(0x358)]['publish']({'sourceId':_0x58c96e,'messageType':_0x120441['Stats'],'content':{'type':_0x422ad6['StreamReport'],'data':{..._0x2e5e72,'userId':_0x17cd28}}});}[_0x22e38d(0x175)](_0x4f0f21){const _0x43de42=_0x22e38d;this['setScheduleTime'](_0x4f0f21['secheduleTime']),this['setDurationTime'](_0x4f0f21['durationTime']),this[_0x43de42(0x358)][_0x43de42(0x3c2)]({'sourceId':_0x58c96e,'messageType':_0x120441[_0x43de42(0x603)],'content':{'type':_0x422ad6[_0x43de42(0x3ca)],'data':{'STVolatility':this[_0x43de42(0x669)](),'DTVolatility':this[_0x43de42(0x487)]()}}});}[_0x22e38d(0x675)](_0x297658,_0x478893,_0x3fc2c3){const _0x4f1940=_0x22e38d;switch(_0x478893){case _0x10a2a5[_0x4f1940(0x1f5)]:this[_0x4f1940(0x65d)]['set'](_0x297658,_0x3fc2c3);break;case _0x10a2a5[_0x4f1940(0x4d1)]:this[_0x4f1940(0x58d)][_0x4f1940(0x3dc)](_0x297658,_0x3fc2c3);break;case _0x10a2a5[_0x4f1940(0x5a1)]:this['keyValueDatabases'][_0x4f1940(0x3dc)](_0x297658,_0x3fc2c3);}}[_0x22e38d(0x45c)](_0x545fcf){const _0x20d8e=_0x22e38d;this[_0x20d8e(0x358)]=_0x545fcf;}[_0x22e38d(0x43f)](){delete this['systemTopic'];}[_0x22e38d(0x669)](){const _0xe7c67e=_0x22e38d;return this[_0xe7c67e(0x3d1)]>0x0&&this[_0xe7c67e(0x3d1)]-_0x418540>0x0?(this[_0xe7c67e(0x3d1)]-_0x418540)/_0x418540:0x0;}['getDTVolatility'](){const _0x43c0a5=_0x22e38d;return this[_0x43c0a5(0x149)]>0x0&&this[_0x43c0a5(0x149)]-0x64>0x0?(this[_0x43c0a5(0x149)]-0x64)/0x64:0x0;}[_0x22e38d(0x663)](){const _0x56b874=_0x22e38d;let _0x36ef8d=0x0;return this[_0x56b874(0x168)][_0x56b874(0x237)](_0x6023db=>{const _0x5b1334=_0x56b874;_0x36ef8d+=_0x6023db[_0x5b1334(0x545)];}),_0x36ef8d;}['getReceiverBitrate'](){const _0x112867=_0x22e38d;let _0x424da3=0x0;return this[_0x112867(0x168)][_0x112867(0x237)](_0x200447=>{const _0x260194=_0x112867;_0x424da3+=_0x200447[_0x260194(0x429)];}),_0x424da3;}[_0x22e38d(0x17f)](){const _0x2276af=_0x22e38d;let _0x176678=0x0;return this[_0x2276af(0x168)][_0x2276af(0x237)](_0x360172=>{const _0x2737bd=_0x2276af;_0x176678+=_0x360172[_0x2737bd(0x133)];}),_0x176678;}[_0x22e38d(0x5d8)](_0x1791cc){const _0xe8e556=_0x22e38d;this[_0xe8e556(0x3d1)]=_0x1791cc;}['setDurationTime'](_0x317089){const _0xe06b28=_0x22e38d;this[_0xe06b28(0x149)]=_0x317089;}['processDataChannelReport'](_0x58d6b7,_0x27de9c){const _0x5cf7b8=_0x22e38d;switch(_0x27de9c['origin']){case _0x46736a[_0x5cf7b8(0x2a7)]:this[_0x5cf7b8(0x475)](_0x58d6b7,_0x27de9c);break;case _0x46736a[_0x5cf7b8(0x53d)]:this[_0x5cf7b8(0x1a7)](_0x58d6b7,_0x27de9c);}}[_0x22e38d(0x475)](_0x419c23,_0x2f7b19){const _0x4bd72e=_0x22e38d;this[_0x4bd72e(0x2ba)][_0x4bd72e(0x3dc)](_0x419c23,_0x2f7b19[_0x4bd72e(0x693)]),this['senderTimeProcessing'][_0x4bd72e(0x3dc)](_0x419c23,_0x2f7b19[_0x4bd72e(0x5d7)]);}[_0x22e38d(0x1a7)](_0x285e1d,_0x2107c1){const _0x2f95ed=_0x22e38d;this[_0x2f95ed(0x55d)][_0x2f95ed(0x3dc)](_0x285e1d,_0x2107c1[_0x2f95ed(0x573)]),this[_0x2f95ed(0x51f)][_0x2f95ed(0x3dc)](_0x285e1d,_0x2107c1[_0x2f95ed(0x46b)]),this[_0x2f95ed(0x2da)]['set'](_0x285e1d,_0x2107c1['systemMessages']);}}class _0x49fba7{[_0x22e38d(0x42c)];[_0x22e38d(0x33f)]=new Set();[_0x22e38d(0x4fd)];[_0x22e38d(0x6a3)];[_0x22e38d(0x2c3)];[_0x22e38d(0x513)]=new _0x10c125();constructor(_0x1beeb9){const _0x5101f8=_0x22e38d;this[_0x5101f8(0x42c)]=_0x1beeb9,this[_0x5101f8(0x42c)][_0x5101f8(0x49b)]['registerSystemSource'](this['statsReport']),this[_0x5101f8(0x6a3)]=this[_0x5101f8(0x69a)](),this[_0x5101f8(0x2c3)]=this['setupStatsReporting']();}[_0x22e38d(0x13a)](){const _0x258134=_0x22e38d;this[_0x258134(0x42c)][_0x258134(0x49b)][_0x258134(0x407)](this[_0x258134(0x513)]),this[_0x258134(0x2c3)](),this[_0x258134(0x6a3)]();}[_0x22e38d(0x353)](_0x50d9bf){const _0x5c62f0=_0x22e38d;this[_0x5c62f0(0x33f)][_0x5c62f0(0x24a)](_0x50d9bf),this[_0x5c62f0(0x513)]['addRemoteUser'](_0x50d9bf);}['removeRemoteUser'](_0xb160ba){const _0x345dfb=_0x22e38d;this['remoteUsers'][_0x345dfb(0x421)](_0xb160ba),this[_0x345dfb(0x513)][_0x345dfb(0x1ca)](_0xb160ba);}[_0x22e38d(0x3a6)](_0x1f9390){const _0x2183ab=_0x22e38d;if(_0x1f9390['content'][_0x2183ab(0x1a1)]===_0x3e3725['Stats']){const {userId:_0x15366d,streamId:_0x16808e,stats:_0x46db09}=_0x1f9390[_0x2183ab(0x127)];this['statsReport'][_0x2183ab(0x137)](_0x15366d,_0x46db09,_0x16808e);}}[_0x22e38d(0x6c7)](_0x348600){const _0x71db20=_0x22e38d;switch(_0x348600[_0x71db20(0x127)]['type']){case _0x10a2a5[_0x71db20(0x4d1)]:case _0x10a2a5[_0x71db20(0x5a1)]:case _0x10a2a5['PubSubTopicStats']:this[_0x71db20(0x513)][_0x71db20(0x675)](_0x348600[_0x71db20(0x127)]['label'],_0x348600[_0x71db20(0x127)]['type'],_0x348600[_0x71db20(0x127)]['stats']);}}['setupStatsReporting'](){return _0x30870d['setInterval'](()=>{const _0x2ee4ce=a0_0x104e,_0x24b17f=this[_0x2ee4ce(0x513)]['getReport']();_0x2858e9[_0x2ee4ce(0x3a0)](_0x5abff4[_0x2ee4ce(0x603)],'Stats:\x20report',_0x24b17f),(0x0,_0x2ebbc7[_0x2ee4ce(0x597)])((0x0,_0x2ebbc7['collection'])(_0x171347['getFirestore'](),_0x2ee4ce(0x4c1)+this[_0x2ee4ce(0x42c)][_0x2ee4ce(0x327)]+_0x2ee4ce(0x24d)),{'clusterId':this[_0x2ee4ce(0x42c)][_0x2ee4ce(0x262)],'userId':this['configs'][_0x2ee4ce(0x33d)],'timestamp':(0x0,_0x2ebbc7[_0x2ee4ce(0x67e)])(),'report':_0x24b17f}),_0x2858e9[_0x2ee4ce(0x4cc)](_0x2ee4ce(0x57e),{'clusterId':this[_0x2ee4ce(0x42c)][_0x2ee4ce(0x262)],'userId':this[_0x2ee4ce(0x42c)]['localId'],'data':{'report':_0x24b17f}});},_0x669bd4);}['setupStatsCollection'](){const _0x554c0e=_0x22e38d;let _0xb21afe=!0x1,_0xab74b7=Date[_0x554c0e(0x5c7)]();return _0x30870d[_0x554c0e(0x686)](async()=>{const _0x113caf=_0x554c0e;if(_0xb21afe)return;if(_0xb21afe=!0x0,0x0===this[_0x113caf(0x33f)]['size'])return delete this[_0x113caf(0x4fd)],void(_0xb21afe=!0x1);const _0x4b93ae=Date['now']();this['findNextUserId']();try{await this['configs']['mediator'][_0x113caf(0x4cf)](this[_0x113caf(0x4fd)]);}catch(_0x757ca4){}this['statsReport'][_0x113caf(0x175)]({'secheduleTime':_0x4b93ae-_0xab74b7,'durationTime':Date[_0x113caf(0x5c7)]()-_0x4b93ae}),_0xab74b7=_0x4b93ae,_0xb21afe=!0x1;},_0x418540);}[_0x22e38d(0x1d2)](){const _0x10e05d=_0x22e38d;let _0x1788ee,_0x3712c1=!0x1;this[_0x10e05d(0x4fd)]&&(this[_0x10e05d(0x33f)]['has'](this[_0x10e05d(0x4fd)])||delete this[_0x10e05d(0x4fd)]);for(const _0x522aed of this[_0x10e05d(0x33f)])if(_0x1788ee||(_0x1788ee=_0x522aed),this[_0x10e05d(0x4fd)]!==_0x522aed){if(_0x3712c1)return void(this[_0x10e05d(0x4fd)]=_0x522aed);}else _0x3712c1=!0x0,delete this[_0x10e05d(0x4fd)];this['nextUserId']||(this['nextUserId']=_0x1788ee);}}class _0x1e3f8b{[_0x22e38d(0x50e)];[_0x22e38d(0x558)];[_0x22e38d(0x358)];constructor(_0x2c5e47,_0x4a8c82){this['source']=_0x2c5e47,this['destination']=_0x4a8c82;}[_0x22e38d(0x45c)](_0x16375e){const _0x1b009a=_0x22e38d;this[_0x1b009a(0x358)]=_0x16375e;}[_0x22e38d(0x43f)](){const _0x1ddd2a=_0x22e38d;delete this[_0x1ddd2a(0x358)];}}class _0x2f45f4 extends _0x1e3f8b{[_0x22e38d(0x50e)];[_0x22e38d(0x558)];[_0x22e38d(0x1ea)];constructor(_0x28f265,_0x2dca72,_0xbcc356){const _0x59d277=_0x22e38d;super(_0x28f265,_0x2dca72),this[_0x59d277(0x50e)]=_0x28f265,this['destination']=_0x2dca72,this[_0x59d277(0x1ea)]=_0xbcc356;}[_0x22e38d(0x51e)](_0x288da1,_0x3daa63,_0x64d05c){const _0x15859a=_0x22e38d;if(this[_0x15859a(0x558)][_0x15859a(0x428)]()===_0x35274c[_0x15859a(0x6c4)]){const _0x5c45d5={'type':_0x5f1217[_0x15859a(0x680)],'label':this[_0x15859a(0x558)][_0x15859a(0x5c4)](),'ownerId':_0x288da1,'trackKinds':_0x3daa63??this[_0x15859a(0x558)]['getAvailableTrackKinds'](),'params':_0x64d05c};this['systemTopic'][_0x15859a(0x3c2)]({'sourceId':this['source'][_0x15859a(0x49e)](),'destinationIds':[this[_0x15859a(0x50e)][_0x15859a(0x57d)]()],'messageType':_0x120441[_0x15859a(0x5b7)],'content':_0x5c45d5}),this[_0x15859a(0x1ea)]=_0x64d05c;}}['update'](_0x1e4df2,_0x377005){const _0x18389a=_0x22e38d;if(this[_0x18389a(0x558)][_0x18389a(0x428)]()===_0x35274c[_0x18389a(0x6c4)]){const _0x25106e={'type':_0x5f1217[_0x18389a(0x68e)],'label':this[_0x18389a(0x558)]['getLabel'](),'ownerId':_0x1e4df2,'params':_0x377005};this[_0x18389a(0x358)][_0x18389a(0x3c2)]({'sourceId':this[_0x18389a(0x50e)]['getLocalId'](),'destinationIds':[this[_0x18389a(0x50e)][_0x18389a(0x57d)]()],'messageType':_0x120441['Subscription'],'content':_0x25106e}),this['params']=_0x377005;}}[_0x22e38d(0x64a)](_0x4f77f3,_0x4f4b39,_0x261488){const _0x245da7=_0x22e38d;if(this[_0x245da7(0x558)][_0x245da7(0x428)]()===_0x35274c[_0x245da7(0x6c4)]){const _0x1f867f={'type':_0x5f1217[_0x245da7(0x351)],'label':this[_0x245da7(0x558)]['getLabel'](),'ownerId':_0x4f77f3,'trackKinds':_0x261488??this['destination'][_0x245da7(0x15c)](),'remainingTracks':_0x4f4b39};this['systemTopic']['publish']({'sourceId':this[_0x245da7(0x50e)][_0x245da7(0x49e)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x120441[_0x245da7(0x5b7)],'content':_0x1f867f});}}}class _0x9b3c8{['currentDistance'];['maxDistance'];[_0x22e38d(0x3ea)];[_0x22e38d(0x358)];[_0x22e38d(0x5e3)]=new Set();['startTime']=Date[_0x22e38d(0x5c7)]();['params'];['retryCount']=0x0;constructor(_0x2324e4,_0x454ded,_0x2190d8,_0x42609c){const _0xef7f0a=_0x22e38d;this[_0xef7f0a(0x640)]=_0x454ded,this['maxDistance']=_0x2190d8,this['tracks']=_0x42609c,_0x2324e4[_0xef7f0a(0x237)](_0x599c3f=>{const _0x5ae303=_0xef7f0a;this['answers'][_0x5ae303(0x24a)]({'userId':_0x599c3f,'type':_0x4bc9f9[_0x5ae303(0x54a)]});});}[_0x22e38d(0x58a)](){return this['tracks'];}[_0x22e38d(0x45c)](_0x2fc8cd){const _0x3ce932=_0x22e38d;this[_0x3ce932(0x358)]=_0x2fc8cd;}[_0x22e38d(0x43f)](){const _0x4251ed=_0x22e38d;delete this[_0x4251ed(0x358)];}[_0x22e38d(0x346)](_0x1c95d9,_0x59a027){const _0x19c1a2=_0x22e38d;this['startTime']=Date[_0x19c1a2(0x5c7)](),this['answers'][_0x19c1a2(0x160)](),_0x1c95d9['forEach'](_0x2534fb=>{const _0x168b6a=_0x19c1a2;this[_0x168b6a(0x5e3)][_0x168b6a(0x24a)]({'userId':_0x2534fb,'type':_0x4bc9f9[_0x168b6a(0x54a)]});}),this['retryCount']+=0x1,this[_0x19c1a2(0x640)]=_0x59a027;}[_0x22e38d(0x5ff)](_0x51143e,_0x5c5deb,_0x1abeb5,_0x47093a,_0x4c01cd){const _0x1a5653=_0x22e38d;if(this[_0x1a5653(0x58f)]>0xa)throw new _0x461f79(_0x461f79[_0x1a5653(0x34a)][_0x1a5653(0x6a7)],{'answers':Array[_0x1a5653(0x5e6)](this['answers'])[_0x1a5653(0x672)](_0x21bb78=>({'userId':_0x21bb78[_0x1a5653(0x17c)],'type':_0x21bb78[_0x1a5653(0x1a1)]}))});const _0x52e484=Array['from'](this[_0x1a5653(0x5e3)])[_0x1a5653(0x672)](_0x24945e=>_0x24945e[_0x1a5653(0x17c)]);this[_0x1a5653(0x1ea)]=_0x4c01cd,this['systemTopic'][_0x1a5653(0x3c2)]({'sourceId':_0x51143e,'destinationIds':_0x52e484,'messageType':_0x120441[_0x1a5653(0x5b7)],'content':{'type':_0x5f1217[_0x1a5653(0x11f)],'label':_0x1abeb5,'ownerId':_0x5c5deb,'trackKinds':_0x47093a,'params':_0x4c01cd}}),_0x2858e9['log'](_0x5abff4['Subscription'],'Send\x20request',_0x51143e,_0x52e484);}['handleSubscriptionSystemEvents'](_0x122286,_0x465ac4){const _0x5dde99=_0x22e38d;switch(_0x465ac4[_0x5dde99(0x1a1)]){case _0x5f1217[_0x5dde99(0x194)]:{const _0x354644=this[_0x5dde99(0x640)]>=_0x465ac4[_0x5dde99(0x2f1)]&&_0x465ac4['distance']<=this[_0x5dde99(0x27d)],_0x4f678f=Array[_0x5dde99(0x5e6)](this[_0x5dde99(0x5e3)])[_0x5dde99(0x5de)](_0x1d4e68=>_0x1d4e68[_0x5dde99(0x17c)]===_0x122286);_0x4f678f[_0x5dde99(0x1a1)]=_0x354644?_0x4bc9f9['Accepted']:_0x4bc9f9[_0x5dde99(0x445)],_0x4f678f[_0x5dde99(0x114)]=_0x465ac4['cost'],_0x4f678f[_0x5dde99(0x2f1)]=_0x465ac4[_0x5dde99(0x2f1)],_0x4f678f[_0x5dde99(0x2af)]=_0x465ac4[_0x5dde99(0x2af)],_0x4f678f[_0x5dde99(0x32c)]=Date[_0x5dde99(0x5c7)]()-this[_0x5dde99(0x602)],_0x4f678f[_0x5dde99(0x1ea)]=this[_0x5dde99(0x1ea)],_0x4f678f[_0x5dde99(0x113)]=_0x465ac4['ownerId'],_0x4f678f[_0x5dde99(0x5dc)]=_0x465ac4[_0x5dde99(0x5dc)],_0x4f678f[_0x5dde99(0x492)]=_0x465ac4[_0x5dde99(0x2a8)],_0x2858e9[_0x5dde99(0x3a0)](_0x5abff4[_0x5dde99(0x5b7)],(_0x354644?'Accepted':_0x5dde99(0x445))+'\x20answer',_0x4f678f);break;}case _0x5f1217[_0x5dde99(0x63e)]:{const _0x3e95b0=Array[_0x5dde99(0x5e6)](this[_0x5dde99(0x5e3)])[_0x5dde99(0x5de)](_0x565c91=>_0x565c91[_0x5dde99(0x17c)]===_0x122286);_0x3e95b0[_0x5dde99(0x1a1)]=_0x4bc9f9[_0x5dde99(0x445)],_0x2858e9['log'](_0x5abff4['Subscription'],_0x5dde99(0x605),_0x3e95b0);break;}}if(this['canChooseAnswer']())return this[_0x5dde99(0x2cd)]();}[_0x22e38d(0x2cd)](){const _0x170b21=_0x22e38d,_0x15f83b=Array['from'](this[_0x170b21(0x5e3)])[_0x170b21(0x57f)](_0x3bb285=>_0x3bb285[_0x170b21(0x1a1)]===_0x4bc9f9['Accepted'])['sort']((_0x572261,_0x4467c0)=>_0x572261['cost']===_0x4467c0[_0x170b21(0x114)]?_0x572261['roundTripTime']-_0x4467c0[_0x170b21(0x32c)]:_0x572261[_0x170b21(0x114)]-_0x4467c0[_0x170b21(0x114)]);if(0x0===_0x15f83b['length'])throw new _0x461f79(_0x461f79[_0x170b21(0x34a)][_0x170b21(0x6a7)],{'answers':Array['from'](this[_0x170b21(0x5e3)])[_0x170b21(0x672)](_0x109140=>({'userId':_0x109140[_0x170b21(0x17c)],'type':_0x109140['type']}))});return _0x2858e9[_0x170b21(0x3a0)](_0x5abff4[_0x170b21(0x5b7)],_0x170b21(0x4e9),_0x15f83b[0x0],this[_0x170b21(0x5e3)]),_0x15f83b[0x0];}[_0x22e38d(0x2cc)](){const _0x1e0f96=_0x22e38d;for(const _0xd86b9d of this[_0x1e0f96(0x5e3)])if(_0xd86b9d['type']===_0x4bc9f9['Waiting'])return!0x1;return!0x0;}}class _0x230e28{[_0x22e38d(0x2a8)];[_0x22e38d(0x318)];[_0x22e38d(0x17d)]=_0x50f1e0();constructor(_0x59e6fa,_0x2c77d6){const _0xc3fa81=_0x22e38d;this['label']=_0x59e6fa,this[_0xc3fa81(0x318)]=_0x2c77d6;}[_0x22e38d(0x5c4)](){const _0x296f41=_0x22e38d;return this[_0x296f41(0x2a8)];}[_0x22e38d(0x428)](){const _0xcc0684=_0x22e38d;return this[_0xcc0684(0x318)];}[_0x22e38d(0x339)](_0x47b467){const _0x16d5c3=_0x22e38d;_0x47b467[_0x16d5c3(0x173)](this);}['registerDestination'](_0x1b9cd9){const _0x5819b1=_0x22e38d;_0x1b9cd9[_0x5819b1(0x414)](this);}[_0x22e38d(0x3c2)](_0x330a09){const _0x305ce2=_0x22e38d;this[_0x305ce2(0x17d)][_0x305ce2(0x3c2)]({'topicLabel':this[_0x305ce2(0x2a8)],'contentType':this[_0x305ce2(0x318)],'uuid':(0x0,_0x29559c['v4'])(),'recipients':[],..._0x330a09});}[_0x22e38d(0x51e)](_0x5ead60){const _0x57b25d=_0x22e38d;return this[_0x57b25d(0x17d)][_0x57b25d(0x51e)](_0x5ead60);}[_0x22e38d(0x65e)](_0x4f14f3){const _0x5a1eb1=_0x22e38d;_0x4f14f3[_0x5a1eb1(0x2b8)](this);}[_0x22e38d(0x426)](_0xc5c873){const _0x4bace4=_0x22e38d;_0xc5c873[_0x4bace4(0x272)](this);}}class _0x245dfc{[_0x22e38d(0x172)]={'topics':new Map(),'subscriptions':new Map()};[_0x22e38d(0x26a)];constructor(_0x1204e9){const _0x48bb0a=_0x22e38d;this[_0x48bb0a(0x26a)]=_0x1204e9;}get[_0x22e38d(0x1cb)](){const _0x1d60f4=_0x22e38d;return this['maps'][_0x1d60f4(0x1cb)];}get[_0x22e38d(0x111)](){const _0x5e0728=_0x22e38d;return this[_0x5e0728(0x172)][_0x5e0728(0x111)];}[_0x22e38d(0x519)](_0x4a9589,_0x5e85d5){const _0x2d3a59=_0x22e38d,_0x5677bc=this[_0x2d3a59(0x26a)](_0x5e85d5),_0x346ac0=_0xded7af(_0x4a9589);if(!_0x5677bc[_0x2d3a59(0x118)])throw new _0x461f79(_0x461f79['codes'][_0x2d3a59(0x4ae)],{'message':_0x346ac0+':\x20'+_0x5677bc[_0x2d3a59(0x2b0)]+_0x2d3a59(0x696)+_0x5677bc['contentType'],'subscriptionType':_0x4a9589,'subscription':_0x5e85d5,'subscriptonParts':_0x5677bc});const _0x2cce26=_0x4bcec9(_0x4a9589,_0x5677bc);if(this['maps'][_0x2d3a59(0x1cb)][_0x2d3a59(0x32d)](_0x2cce26))throw new _0x461f79(_0x461f79['codes'][_0x2d3a59(0x4ae)],{'message':_0x346ac0+':\x20'+_0x2cce26+_0x2d3a59(0x5e4),'subscriptionType':_0x4a9589,'subscription':_0x5e85d5,'subscriptonParts':_0x5677bc});this['maps'][_0x2d3a59(0x1cb)][_0x2d3a59(0x3dc)](_0x2cce26,_0x5e85d5),this[_0x2d3a59(0x698)](_0x5677bc,_0x5e85d5);}['removeSubscription'](_0x24f0ad,_0x5961b8){const _0x3a3eb6=_0x22e38d,_0x108e20=_0x4bcec9(_0x5961b8,_0x24f0ad),_0xc3f93c=this[_0x3a3eb6(0x172)][_0x3a3eb6(0x1cb)][_0x3a3eb6(0x61c)](_0x108e20);if(!_0xc3f93c)throw new _0x461f79(_0x461f79[_0x3a3eb6(0x34a)]['InvalidSubscription'],{'message':_0xded7af(_0x5961b8)+':\x20'+_0x108e20+_0x3a3eb6(0x4c3),'subscriptionType':_0x5961b8,'subscription':_0xc3f93c,'subscriptonParts':_0x24f0ad});this[_0x3a3eb6(0x6b9)](_0xc3f93c,_0x108e20,_0x24f0ad);}['closeSubscription'](_0x191523,_0x415379,_0x14d554){const _0x250f59=_0x22e38d;_0x14d554=_0x14d554||this[_0x250f59(0x26a)](_0x191523),this[_0x250f59(0x172)][_0x250f59(0x1cb)][_0x250f59(0x421)](_0x415379),this[_0x250f59(0x342)](_0x14d554,_0x191523);}[_0x22e38d(0x698)](_0x1309f6,{source:_0x1ad4ca,destination:_0x5a567d}){const _0x5474b1=_0x22e38d,{contentType:_0x729253,label:_0x5304e2,remoteId:_0x151582}=_0x1309f6,_0x4aa304=_0x53c504(_0x729253,_0x5304e2,_0x151582),_0x341a1a=new _0x230e28(_0x4aa304,_0x729253);_0x341a1a[_0x5474b1(0x339)](_0x1ad4ca),_0x341a1a['registerDestination'](_0x5a567d),this[_0x5474b1(0x172)][_0x5474b1(0x111)][_0x5474b1(0x3dc)](_0x341a1a[_0x5474b1(0x5c4)](),_0x341a1a);}[_0x22e38d(0x342)](_0x244805,_0x461122){const _0x3913b4=_0x22e38d,{contentType:_0x91a2b,label:_0x46b281,remoteId:_0x2a6b5e}=_0x244805,_0x150b6e=_0x53c504(_0x91a2b,_0x46b281,_0x2a6b5e),_0x28511f=this[_0x3913b4(0x172)][_0x3913b4(0x111)][_0x3913b4(0x61c)](_0x150b6e);_0x28511f&&(this['closeTopic'](_0x28511f,_0x461122),this['maps'][_0x3913b4(0x111)]['delete'](_0x150b6e));}[_0x22e38d(0x5b9)](_0x785210,{source:_0x13cb11,destination:_0x3104e8}){const _0x598426=_0x22e38d;_0x785210[_0x598426(0x65e)](_0x13cb11),_0x785210[_0x598426(0x426)](_0x3104e8);}['removeSubscriptionsForUser'](_0x537a95){const _0x573cbb=_0x22e38d;this['maps'][_0x573cbb(0x1cb)][_0x573cbb(0x237)]((_0x21a266,_0x14b919)=>{const _0x336af5=_0x573cbb;_0x14b919[_0x336af5(0x42b)](_0x537a95)&&this['closeSubscription'](_0x21a266,_0x14b919);});}}class _0x5e4cba{[_0x22e38d(0x42c)];[_0x22e38d(0x27d)];[_0x22e38d(0x3b1)]=new Map();[_0x22e38d(0x3c8)]=_0x2a75da(new _0x4f31e0(this[_0x22e38d(0x228)][_0x22e38d(0x1af)](this),()=>_0x30870d[_0x22e38d(0x391)](0x64)),!0x0);[_0x22e38d(0x5ac)]=new Map();['maps'];['chosenAnswers']=new Map();constructor(_0x33b373,_0x2155e8){const _0xe4daf6=_0x22e38d;this[_0xe4daf6(0x42c)]=_0x33b373,this[_0xe4daf6(0x27d)]=_0x2155e8,this[_0xe4daf6(0x172)]=new _0x245dfc(({source:_0xecf591,destination:_0x5439ef})=>_0x3de2e5(_0x5439ef,_0xecf591));}[_0x22e38d(0x519)](_0x1162a6,_0x50a165){const _0x4f6044=_0x22e38d,_0x402b69=this[_0x4f6044(0x61a)](_0x1162a6)&&this[_0x4f6044(0x508)](_0x50a165)?new _0x2f45f4(_0x1162a6,_0x50a165):new _0x1e3f8b(_0x1162a6,_0x50a165);this[_0x4f6044(0x172)]['createSubscription'](_0x11fb5a['Incoming'],_0x402b69),this[_0x4f6044(0x42c)]['mediator'][_0x4f6044(0x341)](_0x402b69);}[_0x22e38d(0x581)](_0x34bbd2,_0x27ccea,_0x1953ce=''){const _0x16ec8b=_0x22e38d,_0x14fb38={'contentType':_0x27ccea,'label':_0x34bbd2,'remoteId':_0x1953ce},_0x226e25=_0x4bcec9(_0x11fb5a['Incoming'],_0x14fb38),_0x186bf2=this['maps'][_0x16ec8b(0x1cb)][_0x16ec8b(0x61c)](_0x226e25);_0x186bf2&&this[_0x16ec8b(0x6b9)](_0x186bf2,_0x226e25);}[_0x22e38d(0x617)](_0x41269a){const _0x1a7cba=_0x22e38d;this[_0x1a7cba(0x1f7)](_0x41269a);}['handleContentSubscribeMediaStream']({label:_0x892d7b,ownerId:_0xaf24d8,trackKinds:_0x58740c,params:_0x1b5fb3}){this['requestSubscription'](_0x892d7b,_0xaf24d8,_0x58740c,_0x1b5fb3);}['handleContentUpdateMediaStream']({ownerId:_0x4f6fa7,label:_0x1602f5,params:_0x237c23}){const _0x589ec9=_0x22e38d,{subscriptionLabel:_0x1ce2ea}=this[_0x589ec9(0x439)](_0x1602f5,_0x4f6fa7),_0x1cf18c=this[_0x589ec9(0x10a)](_0x1ce2ea);_0x1cf18c&&_0x1cf18c[_0x589ec9(0x5c1)](_0x4f6fa7,_0x237c23);}['handleContentUnsubscribeMediaStream']({ownerId:_0xe225e,label:_0x31e097,trackKinds:_0x38f32b,remainingTracks:_0x22c1b9}){const _0x312644=_0x22e38d,_0x5e0ad7=_0x4bcec9(_0x11fb5a[_0x312644(0x4b5)],{'contentType':_0x35274c['Media'],'label':_0x31e097,'remoteId':_0xe225e});this[_0x312644(0x1ff)](_0x5e0ad7);const _0xfed06b=this[_0x312644(0x3b1)][_0x312644(0x61c)](_0x5e0ad7);_0xfed06b&&(this[_0x312644(0x42c)][_0x312644(0x49b)][_0x312644(0x407)](_0xfed06b),this[_0x312644(0x3b1)]['delete'](_0x5e0ad7));const {parts:_0x2eca68,subscriptionLabel:_0x56f087}=this['getSubscriptionLabel'](_0x31e097,_0xe225e),_0x14b014=this[_0x312644(0x10a)](_0x56f087);_0x14b014&&(_0x14b014[_0x312644(0x64a)](_0xe225e,_0x22c1b9,_0x38f32b),0x0===_0x22c1b9&&this[_0x312644(0x581)](_0x2eca68['label'],_0x2eca68['contentType'],_0x2eca68['remoteId']));}[_0x22e38d(0x579)](_0x4903a5,{label:_0x560256,ownerId:_0x4c3ccc,trackKinds:_0x419503,streamId:_0x1ed4bc,params:_0xc0b9ef}){const _0x43f06f=_0x22e38d,_0x253b61=_0x4bcec9(_0x11fb5a['Incoming'],{'contentType':_0x35274c[_0x43f06f(0x6c4)],'label':_0x1ed4bc,'remoteId':_0x4903a5}),_0x4650c1=this[_0x43f06f(0x172)][_0x43f06f(0x1cb)]['get'](_0x253b61);if(!(_0x4650c1&&_0x4650c1 instanceof _0x2f45f4))throw new _0x461f79(_0x461f79[_0x43f06f(0x34a)]['SubscriptionRequestDoesNotExist'],{'label':_0x253b61,'ownerId':_0x4c3ccc});this[_0x43f06f(0x6b9)](_0x4650c1,_0x253b61),this['requestSubscription'](_0x560256,_0x4c3ccc,_0x419503,_0xc0b9ef);}[_0x22e38d(0x51c)](_0x3d421f,_0x2d5906){const _0x466898=_0x22e38d,{label:_0x3724b9,ownerId:_0x1b410e,trackKinds:_0x1885e6,params:_0x2e2577}=_0x2d5906,_0x91ea11=_0x4bcec9(_0x11fb5a[_0x466898(0x4b5)],{'contentType':_0x35274c['Media'],'label':_0x3724b9,'remoteId':_0x1b410e});if(!this[_0x466898(0x3b1)][_0x466898(0x32d)](_0x91ea11))throw new _0x461f79(_0x461f79[_0x466898(0x34a)][_0x466898(0x6b2)],{'label':_0x91ea11,'ownerId':_0x1b410e,'streamId':_0x2d5906[_0x466898(0x2af)],'requests':this[_0x466898(0x3b1)]});const _0x21f912=this[_0x466898(0x3b1)][_0x466898(0x61c)](_0x91ea11);if(_0x1885e6[_0x466898(0x1e7)]===_0x21f912[_0x466898(0x58a)]()[_0x466898(0x1e7)]&&_0x1885e6[_0x466898(0x317)](_0x242a78=>_0x21f912[_0x466898(0x58a)]()[_0x466898(0x4c9)](_0x242a78)))try{const _0x494993=_0x21f912[_0x466898(0x25a)](_0x3d421f,_0x2d5906);if(!_0x494993)return;this[_0x466898(0x51e)](_0x494993,_0x1b410e,_0x3724b9,_0x91ea11,_0x1885e6);}catch(_0x15fede){return void this[_0x466898(0x30e)](_0x3724b9,_0x1b410e,_0x1885e6,_0x2e2577);}}[_0x22e38d(0x11c)](_0x4767fa,{label:_0x14b770,ownerId:_0x4f7d37,trackKinds:_0x1857b4}){const _0x897cf1=_0x22e38d,_0x3b7926=this[_0x897cf1(0x42c)][_0x897cf1(0x49b)][_0x897cf1(0x5a8)](_0x4f7d37,_0x14b770);if(!_0x3b7926)return;const _0x5a2085=_0x3b7926['getInternalStreamId'](),_0x4aece5=_0x3b7926[_0x897cf1(0x398)]();_0x4aece5[_0x897cf1(0x201)](_0x1dc6fd=>_0x1857b4[_0x897cf1(0x4c9)](_0x1dc6fd))&&this['findNewMediaSubscription'](_0x4767fa,_0x14b770,_0x5a2085,_0x4f7d37,_0x4aece5);}[_0x22e38d(0x610)]({label:_0x3cf59e,providerId:_0x3cbfea,ownerId:_0x286297,streamId:_0x7cc687,trackKinds:_0x136546}){const _0x178b4f=_0x22e38d;this[_0x178b4f(0x38f)](_0x3cbfea,_0x3cf59e,_0x7cc687,_0x286297,_0x136546);}[_0x22e38d(0x5ae)](_0x4e5a5a){const _0x2446a1=_0x22e38d;for(const _0xe26e09 of this[_0x2446a1(0x33c)][_0x2446a1(0x1f4)]()){const {streamLabel:_0x39aa9e,ownerId:_0x232650,trackKinds:_0xa4311e,params:_0x39b7df}=_0xe26e09;if(!_0x232650||!_0xa4311e||!_0x39aa9e)return;this['subscriptionRequestsQueue'][_0x2446a1(0x386)]({'label':_0x39aa9e,'ownerId':_0x232650,'trackKinds':_0xa4311e,'params':_0x39b7df,'remoteId':_0x4e5a5a});}}['removeSubscriptionsForUser'](_0x31d006){const _0x54eabf=_0x22e38d;this[_0x54eabf(0x172)]['subscriptions']['forEach']((_0x4adf56,_0x2c0ed3)=>{const _0xe55b7c=_0x54eabf;if(_0x2c0ed3[_0xe55b7c(0x42b)](_0x31d006)){if(_0x4adf56[_0xe55b7c(0x558)]['getContentType']()===_0x35274c[_0xe55b7c(0x6c4)]){const _0x27599e=_0x4adf56['destination'];if(_0x27599e[_0xe55b7c(0x398)]()['length']>0x0){const _0x1fdf65={'type':_0x5f1217['MediaStreamUnavailable'],'label':_0x27599e[_0xe55b7c(0x5c4)](),'ownerId':_0x27599e[_0xe55b7c(0x5a5)](),'trackKinds':_0x27599e[_0xe55b7c(0x398)]()};return void this[_0xe55b7c(0x11c)](_0x31d006,_0x1fdf65);}}this[_0xe55b7c(0x6b9)](_0x4adf56,_0x2c0ed3);}});}[_0x22e38d(0x13a)](){const _0x3234ae=_0x22e38d;this['maps'][_0x3234ae(0x1cb)][_0x3234ae(0x237)](this['closeSubscription'][_0x3234ae(0x1af)](this));}[_0x22e38d(0x51e)](_0x275c4f,_0x26b9a0,_0x3e3710,_0x49c42a,_0x307385){const _0x36bac6=_0x22e38d,_0x5df922=this[_0x36bac6(0x42c)][_0x36bac6(0x49b)][_0x36bac6(0x6b0)](_0x275c4f[_0x36bac6(0x17c)]),_0x4eca18=this[_0x36bac6(0x42c)][_0x36bac6(0x49b)][_0x36bac6(0x5a8)](_0x26b9a0,_0x3e3710);this[_0x36bac6(0x1ff)](_0x49c42a),this[_0x36bac6(0x3b1)][_0x36bac6(0x32d)](_0x49c42a)&&(this[_0x36bac6(0x42c)][_0x36bac6(0x49b)][_0x36bac6(0x407)](this[_0x36bac6(0x3b1)][_0x36bac6(0x61c)](_0x49c42a)),this['subscriptionRequests'][_0x36bac6(0x421)](_0x49c42a)),this[_0x36bac6(0x110)](_0x275c4f,_0x26b9a0,_0x3e3710,_0x4eca18),_0x4eca18['setInternalId'](_0x275c4f[_0x36bac6(0x2af)]),_0x4eca18[_0x36bac6(0x2d9)](_0x275c4f[_0x36bac6(0x17c)]);const _0x5ad2af=_0x3de2e5(_0x4eca18,_0x5df922),_0x414b64=_0x4bcec9(_0x11fb5a[_0x36bac6(0x4b5)],_0x5ad2af);this[_0x36bac6(0x172)][_0x36bac6(0x1cb)][_0x36bac6(0x32d)](_0x414b64)||this[_0x36bac6(0x519)](_0x5df922,_0x4eca18);const _0x53277b=this[_0x36bac6(0x172)]['subscriptions'][_0x36bac6(0x61c)](_0x414b64);if(!(_0x53277b&&_0x53277b instanceof _0x2f45f4))throw new _0x461f79(_0x461f79[_0x36bac6(0x34a)][_0x36bac6(0x6b2)],{'label':_0x49c42a,'ownerId':_0x26b9a0});_0x2858e9[_0x36bac6(0x4cc)]('subscription',{'clusterId':this[_0x36bac6(0x42c)][_0x36bac6(0x262)],'userId':this[_0x36bac6(0x42c)][_0x36bac6(0x33d)],'data':{'subscriptionLabel':_0x414b64,'chosenAnswer':_0x275c4f}}),this[_0x36bac6(0x33c)][_0x36bac6(0x3dc)](_0x414b64,_0x275c4f),_0x53277b[_0x36bac6(0x51e)](_0x26b9a0,_0x307385,_0x275c4f[_0x36bac6(0x1ea)]);}[_0x22e38d(0x1f7)]({ownerId:_0x2bc3bc,label:_0x464078}){const _0xfaca5a=_0x22e38d,_0x2569ed=this[_0xfaca5a(0x42c)][_0xfaca5a(0x49b)]['getRemoteMediaStream'](_0x2bc3bc,_0x464078),[_0x26c8eb,_0x16165d]=Array['from'](this[_0xfaca5a(0x172)]['subscriptions'][_0xfaca5a(0x578)]())[_0xfaca5a(0x5de)](([_0x31b296,_0x2c1f9e])=>-0x1!==_0x31b296[_0xfaca5a(0x252)](_0x2569ed[_0xfaca5a(0x3a5)]()));return this[_0xfaca5a(0x6b9)](_0x16165d,_0x26c8eb);}['closeSubscription'](_0x44625f,_0x26aadf){const _0x5bf5ff=_0x22e38d;this[_0x5bf5ff(0x42c)][_0x5bf5ff(0x49b)][_0x5bf5ff(0x407)](_0x44625f),this['maps'][_0x5bf5ff(0x6b9)](_0x44625f,_0x26aadf);}[_0x22e38d(0x61a)](_0x3d6059){const _0x441b4f=_0x22e38d;return _0x3d6059[_0x441b4f(0x661)]()[_0x441b4f(0x4c9)](_0x35274c['Media']);}['isMediaDestination'](_0x2eff8b){const _0x159b8d=_0x22e38d;return _0x2eff8b[_0x159b8d(0x428)]()===_0x35274c['Media'];}async[_0x22e38d(0x30e)](_0x23aab0,_0x308f49,_0x123812,_0x3251b6){const _0x2f4b1b=_0x22e38d;await _0x30870d[_0x2f4b1b(0x391)](0x3e8);const _0x19746e=_0x4bcec9(_0x11fb5a[_0x2f4b1b(0x4b5)],{'contentType':_0x35274c[_0x2f4b1b(0x6c4)],'label':_0x23aab0,'remoteId':_0x308f49});this['clearSubscriptionRequestTimeout'](_0x19746e);const _0x51f295=this[_0x2f4b1b(0x3b1)][_0x2f4b1b(0x61c)](_0x19746e);if(!_0x51f295)throw new _0x461f79(_0x461f79[_0x2f4b1b(0x34a)][_0x2f4b1b(0x6b2)],{'label':_0x19746e,'ownerId':_0x308f49});const _0xa98c2a=this[_0x2f4b1b(0x42c)][_0x2f4b1b(0x49b)]['getConnections'](_0x132980=>_0x132980['isConnected']()),_0x41bbb3=this[_0x2f4b1b(0x42c)][_0x2f4b1b(0x49b)][_0x2f4b1b(0x363)](this[_0x2f4b1b(0x42c)]['localId'],_0x308f49);_0x51f295[_0x2f4b1b(0x346)](_0xa98c2a['map'](_0x14c6a7=>_0x14c6a7[_0x2f4b1b(0x57d)]()),_0x41bbb3);try{_0x51f295[_0x2f4b1b(0x5ff)](this[_0x2f4b1b(0x42c)][_0x2f4b1b(0x33d)],_0x308f49,_0x23aab0,_0x123812,_0x3251b6),this[_0x2f4b1b(0x294)](_0x23aab0,_0x308f49,_0x123812,_0x3251b6,_0x19746e,_0x51f295);}catch(_0x418ffb){this[_0x2f4b1b(0x3c8)][_0x2f4b1b(0x386)]({'label':_0x23aab0,'ownerId':_0x308f49,'trackKinds':_0x123812,'params':_0x3251b6});}}[_0x22e38d(0x2f5)](_0x442d49,_0x29c2e6,_0x3ea3cb,_0x155447){const _0x4e65d1=_0x22e38d;this[_0x4e65d1(0x3c8)][_0x4e65d1(0x386)]({'label':_0x442d49,'ownerId':_0x29c2e6,'trackKinds':_0x3ea3cb,'params':_0x155447});}[_0x22e38d(0x228)]({label:_0x168d66,ownerId:_0x6ff92d,trackKinds:_0x538561,params:_0x394704,remoteId:_0x5d47f0}){const _0x237e67=_0x22e38d;if(!this[_0x237e67(0x42c)][_0x237e67(0x49b)][_0x237e67(0x5a8)](_0x6ff92d,_0x168d66))return;if(!this[_0x237e67(0x42c)]['mediator'][_0x237e67(0x200)]()['getRank']())throw new Error('Local\x20user\x20rank\x20is\x20not\x20set');if(_0x5d47f0){const _0x5c8087=this[_0x237e67(0x42c)][_0x237e67(0x49b)][_0x237e67(0x3fe)]()[_0x237e67(0x5de)](_0x535620=>_0x535620[_0x237e67(0x1be)]()===_0x5d47f0),_0x123a91=_0x5c8087?.['getRank']();if(!_0x5c8087||!_0x123a91)throw new Error(_0x237e67(0x424));const _0x26fe17=this[_0x237e67(0x42c)][_0x237e67(0x49b)]['getRemoteUsers']()[_0x237e67(0x5de)](_0x52f9e3=>_0x52f9e3[_0x237e67(0x1be)]()===_0x6ff92d),_0x302681=_0x26fe17?.[_0x237e67(0x265)]();if(!_0x26fe17||!_0x302681)throw new Error(_0x237e67(0x65b));const _0x4c7694=this[_0x237e67(0x33c)][_0x237e67(0x61c)](_0x168d66);if(_0x4c7694){const _0x852e9e=this['configs'][_0x237e67(0x49b)][_0x237e67(0x3fe)]()[_0x237e67(0x5de)](_0x219695=>_0x219695[_0x237e67(0x1be)]()===_0x4c7694[_0x237e67(0x17c)]),_0x23a286=_0x852e9e?.[_0x237e67(0x265)]();if(!_0x852e9e||!_0x23a286)throw new Error(_0x237e67(0x1b7));if(Math[_0x237e67(0x4ca)](_0x23a286-_0x302681)<Math[_0x237e67(0x4ca)](_0x123a91-_0x302681))return;}}const _0x33f976=this[_0x237e67(0x42c)][_0x237e67(0x49b)][_0x237e67(0x389)](_0x1b9947=>_0x1b9947[_0x237e67(0x297)]()&&(!_0x5d47f0||_0x1b9947[_0x237e67(0x57d)]()===_0x5d47f0));if(!_0x33f976[_0x237e67(0x1e7)]||0x0===_0x33f976[_0x237e67(0x1e7)])throw new Error(_0x237e67(0x615));const _0xcfd581=this[_0x237e67(0x42c)]['mediator'][_0x237e67(0x363)](this[_0x237e67(0x42c)][_0x237e67(0x33d)],_0x6ff92d),_0x44453e=_0x4bcec9(_0x11fb5a[_0x237e67(0x4b5)],{'contentType':_0x35274c['Media'],'label':_0x168d66,'remoteId':_0x6ff92d});if(this[_0x237e67(0x3b1)][_0x237e67(0x32d)](_0x44453e)){if(_0x5d47f0)throw new Error(_0x237e67(0x623));const _0x184f3a=this[_0x237e67(0x3b1)][_0x237e67(0x61c)](_0x44453e)[_0x237e67(0x58a)]();if(_0x184f3a['length']===_0x538561['length']&&_0x184f3a[_0x237e67(0x317)](_0x8fc1ae=>_0x538561[_0x237e67(0x4c9)](_0x8fc1ae)))return;this[_0x237e67(0x42c)][_0x237e67(0x49b)]['unregisterSystemSource'](this['subscriptionRequests'][_0x237e67(0x61c)](_0x44453e)),this[_0x237e67(0x3b1)][_0x237e67(0x421)](_0x44453e),_0x538561=Array[_0x237e67(0x5e6)](new Set(_0x538561['concat'](_0x184f3a))),this[_0x237e67(0x1ff)](_0x44453e);}const _0x2d5d3a=new _0x9b3c8(_0x33f976[_0x237e67(0x672)](_0x367eb6=>_0x367eb6[_0x237e67(0x57d)]()),_0xcfd581,this[_0x237e67(0x27d)],_0x538561);this[_0x237e67(0x42c)][_0x237e67(0x49b)][_0x237e67(0x341)](_0x2d5d3a),this[_0x237e67(0x3b1)][_0x237e67(0x3dc)](_0x44453e,_0x2d5d3a),_0x2d5d3a[_0x237e67(0x5ff)](this[_0x237e67(0x42c)][_0x237e67(0x33d)],_0x6ff92d,_0x168d66,_0x538561,_0x394704),this[_0x237e67(0x294)](_0x168d66,_0x6ff92d,_0x538561,_0x394704,_0x44453e,_0x2d5d3a);}[_0x22e38d(0x1ff)](_0x467dc4){const _0x412d89=_0x22e38d;this['subscriptionRequestTimeouts'][_0x412d89(0x32d)](_0x467dc4)&&(clearTimeout(this[_0x412d89(0x5ac)][_0x412d89(0x61c)](_0x467dc4)),this[_0x412d89(0x5ac)][_0x412d89(0x421)](_0x467dc4));}[_0x22e38d(0x294)](_0x1ec3e4,_0x36e9fc,_0x40c81a,_0x1e3fbe,_0xb8fc0b,_0x591c59){const _0xf05563=_0x22e38d;this[_0xf05563(0x1ff)](_0xb8fc0b),this[_0xf05563(0x5ac)][_0xf05563(0x3dc)](_0xb8fc0b,setTimeout(()=>{const _0x4d42ac=_0xf05563;this['subscriptionRequestTimeouts'][_0x4d42ac(0x421)](_0xb8fc0b);try{const _0x4f3872=_0x591c59[_0x4d42ac(0x2cd)]();this[_0x4d42ac(0x51e)](_0x4f3872,_0x36e9fc,_0x1ec3e4,_0xb8fc0b,_0x40c81a);}catch(_0x2320a7){this['handleNoAnswer'](_0x1ec3e4,_0x36e9fc,_0x40c81a,_0x1e3fbe);}},0x7d0));}[_0x22e38d(0x38f)](_0x2756fd,_0xe45fee,_0x313250,_0x6413a2,_0x4db8cb){const _0x5acb41=_0x22e38d,{subscriptionLabel:_0x3357b5}=this[_0x5acb41(0x439)](_0xe45fee,_0x6413a2),_0x2f5395=this[_0x5acb41(0x10a)](_0x3357b5),_0x36efe4=_0x2f5395?.[_0x5acb41(0x1ea)];_0x2f5395&&(_0x2f5395['unsubscribe'](_0x6413a2,0x0),this[_0x5acb41(0x581)](_0x313250,_0x35274c[_0x5acb41(0x6c4)],_0x2756fd)),this[_0x5acb41(0x2f5)](_0xe45fee,_0x6413a2,_0x4db8cb,_0x36efe4);}[_0x22e38d(0x10a)](_0x36a6fb){const _0x47d902=_0x22e38d,_0x5ac10b=this[_0x47d902(0x172)][_0x47d902(0x1cb)][_0x47d902(0x61c)](_0x36a6fb);if(_0x5ac10b){if(!(_0x5ac10b instanceof _0x2f45f4))throw new _0x461f79(_0x461f79[_0x47d902(0x34a)][_0x47d902(0x4ae)],{'label':_0x36a6fb,'subscription':_0x5ac10b});return _0x5ac10b;}}[_0x22e38d(0x439)](_0x3233d5,_0x33c986){const _0xed0452=_0x22e38d,_0x4bbcd3=this[_0xed0452(0x511)](_0x3233d5,_0x33c986);return{'parts':_0x4bbcd3,'subscriptionLabel':_0x4bcec9(_0x11fb5a[_0xed0452(0x4b5)],_0x4bbcd3)};}[_0x22e38d(0x511)](_0x54fbe9,_0x494a69){const _0xbbc1bf=_0x22e38d,_0x1a1a9a=this[_0xbbc1bf(0x42c)]['mediator'][_0xbbc1bf(0x5a8)](_0x494a69,_0x54fbe9),_0x550c23=_0x1a1a9a['getProviderId']();if(!_0x550c23)throw new _0x461f79(_0x461f79[_0xbbc1bf(0x34a)][_0xbbc1bf(0x457)],{'label':_0x54fbe9,'streamId':_0x1a1a9a['getInternalStreamId'](),'ownerId':_0x494a69,'localId':this[_0xbbc1bf(0x42c)]['localId']});return{'contentType':_0x35274c[_0xbbc1bf(0x6c4)],'label':_0x1a1a9a[_0xbbc1bf(0x3a5)](),'remoteId':_0x550c23};}[_0x22e38d(0x110)](_0x1554ef,_0x350d78,_0x14972c,_0x1d7697){const _0x4f2529=_0x22e38d,_0x576720=_0x1d7697['getProviderId']();if(_0x576720&&_0x576720!==_0x1554ef[_0x4f2529(0x17c)]){const {parts:_0x379031,subscriptionLabel:_0x3bfa73}=this['getSubscriptionLabel'](_0x14972c,_0x350d78),_0xada449=this[_0x4f2529(0x10a)](_0x3bfa73);_0xada449&&(_0xada449[_0x4f2529(0x64a)](_0x350d78,0x0),this['removeSubscription'](_0x379031[_0x4f2529(0x2a8)],_0x379031[_0x4f2529(0x318)],_0x379031[_0x4f2529(0x2b0)]));}}}class _0x1a7fc7{[_0x22e38d(0x42c)];[_0x22e38d(0x4a4)];[_0x22e38d(0x172)];constructor(_0x21479a,_0x4668e9){const _0x15da23=_0x22e38d;this[_0x15da23(0x42c)]=_0x21479a,this[_0x15da23(0x4a4)]=_0x4668e9,this[_0x15da23(0x172)]=new _0x245dfc(({source:_0x2ba673,destination:_0x5f3952})=>_0x3de2e5(_0x2ba673,_0x5f3952));}[_0x22e38d(0x519)](_0x268616,_0x5cd8f3){const _0x3d2bc8=_0x22e38d,_0x441d5c={'source':_0x268616,'destination':_0x5cd8f3};this[_0x3d2bc8(0x172)][_0x3d2bc8(0x519)](_0x11fb5a[_0x3d2bc8(0x19f)],_0x441d5c);}['removeSubscription'](_0x27dc13,_0x4388ab,_0x5b5efa=''){const _0x51d3ae=_0x22e38d,_0x4fa596={'contentType':_0x4388ab,'label':_0x27dc13,'remoteId':_0x5b5efa};this[_0x51d3ae(0x172)][_0x51d3ae(0x581)](_0x4fa596,_0x11fb5a[_0x51d3ae(0x19f)]);}[_0x22e38d(0x3ef)](_0x5aefd8,_0x5816f2){const _0x43b909=_0x22e38d;let _0xc8d394;_0xc8d394=_0x5816f2[_0x43b909(0x113)]!==this[_0x43b909(0x42c)][_0x43b909(0x33d)]?this['configs'][_0x43b909(0x49b)][_0x43b909(0x5a8)](_0x5816f2['ownerId'],_0x5816f2[_0x43b909(0x2a8)]):this[_0x43b909(0x42c)][_0x43b909(0x49b)][_0x43b909(0x606)](_0x5816f2[_0x43b909(0x2a8)]);const _0x43dad6=_0x4bcec9(_0x11fb5a[_0x43b909(0x19f)],{'contentType':_0x35274c['Media'],'label':_0xc8d394['getShareableStreamId'](),'remoteId':_0x5aefd8}),_0x1129e2=this['getNumberOutgoingSubscriptions']();if(!this[_0x43b909(0x172)][_0x43b909(0x1cb)]['has'](_0x43dad6)&&_0x1129e2>=this[_0x43b909(0x4a4)])return{'type':_0x5f1217[_0x43b909(0x4e1)],'ownerId':_0x5816f2[_0x43b909(0x113)],'label':_0x5816f2[_0x43b909(0x2a8)],'streamId':_0xc8d394[_0x43b909(0x629)](),'trackKinds':_0x5816f2[_0x43b909(0x5dc)],'params':_0x5816f2[_0x43b909(0x1ea)]};_0xc8d394 instanceof _0x15b27c&&!_0xc8d394[_0x43b909(0x662)](_0x5816f2[_0x43b909(0x5dc)])&&_0xc8d394[_0x43b909(0x51e)](_0x5816f2['params']),this[_0x43b909(0x172)][_0x43b909(0x1cb)][_0x43b909(0x32d)](_0x43dad6)||this[_0x43b909(0x519)](_0xc8d394['getShareableStream'](_0x5aefd8),this['configs'][_0x43b909(0x49b)][_0x43b909(0x6b0)](_0x5aefd8));}[_0x22e38d(0x6a2)](_0x314b23,{label:_0x386970,ownerId:_0x2cd3c8,remainingTracks:_0x313e9e}){const _0x491b0d=_0x22e38d;if(_0x313e9e>0x0)return;let _0x107230;_0x107230=_0x2cd3c8!==this['configs'][_0x491b0d(0x33d)]?this[_0x491b0d(0x42c)][_0x491b0d(0x49b)]['getRemoteMediaStream'](_0x2cd3c8,_0x386970):this[_0x491b0d(0x42c)][_0x491b0d(0x49b)][_0x491b0d(0x606)](_0x386970);const _0x2cc28b=_0x107230[_0x491b0d(0x629)](),_0x1f4933=_0x35274c[_0x491b0d(0x6c4)];this[_0x491b0d(0x581)](_0x2cc28b,_0x1f4933,_0x314b23);}[_0x22e38d(0x5d5)](_0x1d0506,{label:_0x44b17d,ownerId:_0x541fa5,trackKinds:_0x2b10e7}){const _0x1bb73e=_0x22e38d;if(_0x1d0506!==_0x58c96e)return[];let _0x1c5668=[];for(const _0x2d3c94 of this[_0x1bb73e(0x172)][_0x1bb73e(0x1cb)]){const {source:_0x48e5bd,destination:_0x2b2cec}=_0x2d3c94[0x1];_0x48e5bd[_0x1bb73e(0x5c4)]()===_0x44b17d&&_0x48e5bd[_0x1bb73e(0x5a5)]()===_0x541fa5&&_0x1c5668['push']({'sourceId':this['configs']['localId'],'destinationIds':[_0x2b2cec[_0x1bb73e(0x57d)]()],'messageType':_0x120441[_0x1bb73e(0x5b7)],'content':{'type':_0x5f1217[_0x1bb73e(0x12a)],'label':_0x44b17d,'ownerId':_0x541fa5,'trackKinds':_0x2b10e7}});}return _0x1c5668;}[_0x22e38d(0x3d5)](_0x55fc4a,_0x466205){const _0x4ac49c=_0x22e38d,{label:_0x52ae02,ownerId:_0x28f79c,trackKinds:_0x5acc53,params:_0x1b86c4}=_0x466205,{hasTracks:_0x3cb29c,streamId:_0x2a3a48,hasResolution:_0xe5ffc0,distance:_0x2cb326,subscriptionLabel:_0x6844e6}=this[_0x4ac49c(0x36e)](_0x55fc4a,_0x466205);let _0xd8f1bd=this[_0x4ac49c(0x549)]()<this[_0x4ac49c(0x4a4)]&&(_0x3cb29c||_0x2cb326>-0x1)?_0x5f1217[_0x4ac49c(0x194)]:_0x5f1217['CannotProvideMediaStream'];const _0x4d0814=_0x2cb326<0x0?0xa:_0x2cb326;let _0x351426=_0x3cb29c?_0xe5ffc0?_0x4d0814:_0x4d0814+0x0:_0x4d0814+0xa;return _0x6844e6&&this[_0x4ac49c(0x172)][_0x4ac49c(0x1cb)][_0x4ac49c(0x32d)](_0x6844e6)&&(_0x3cb29c&&(_0x351426=0x0),_0xd8f1bd=_0x5f1217[_0x4ac49c(0x194)]),{'type':_0xd8f1bd,'cost':_0x351426,'distance':_0x2cb326,'label':_0x52ae02,'ownerId':_0x28f79c,'streamId':_0x2a3a48,'trackKinds':_0x5acc53,'params':_0x1b86c4};}[_0x22e38d(0x617)](_0x56bdd2){const _0x3e49a2=_0x22e38d,{label:_0x5e190a,ownerId:_0x2a6f30}=_0x56bdd2,_0x334625=this[_0x3e49a2(0x42c)]['mediator'][_0x3e49a2(0x5a8)](_0x2a6f30,_0x5e190a);this[_0x3e49a2(0x172)][_0x3e49a2(0x1cb)][_0x3e49a2(0x237)](_0x430a86=>{const _0x8f17bd=_0x3e49a2;if(_0x430a86[_0x8f17bd(0x50e)]['getInternalStreamId']()===_0x334625['getShareableStreamId']()){const _0x317fa1=_0x430a86['destination'];this[_0x8f17bd(0x581)](_0x334625[_0x8f17bd(0x629)](),_0x35274c[_0x8f17bd(0x6c4)],_0x317fa1[_0x8f17bd(0x57d)]());}});}[_0x22e38d(0x35d)]({label:_0x117204}){const _0x3f0749=_0x22e38d,_0x53c4d1=this['configs'][_0x3f0749(0x49b)][_0x3f0749(0x606)](_0x117204);this[_0x3f0749(0x172)][_0x3f0749(0x1cb)][_0x3f0749(0x237)](_0x2c7fb6=>{const _0x181800=_0x3f0749;if(_0x2c7fb6[_0x181800(0x50e)][_0x181800(0x3a5)]()===_0x53c4d1[_0x181800(0x629)]()){const _0x2d2b21=_0x2c7fb6[_0x181800(0x558)];this[_0x181800(0x581)](_0x53c4d1['getShareableStreamId'](),_0x35274c[_0x181800(0x6c4)],_0x2d2b21[_0x181800(0x57d)]());}});}[_0x22e38d(0x4d5)](_0x31a65b){const _0xcf23ef=_0x22e38d;this['maps'][_0xcf23ef(0x4d5)](_0x31a65b);}[_0x22e38d(0x13a)](){const _0x26ff1e=_0x22e38d;this['maps']['subscriptions'][_0x26ff1e(0x237)](this[_0x26ff1e(0x6b9)]['bind'](this));}[_0x22e38d(0x6b9)](_0x2cf978,_0x51f60e){this['maps']['closeSubscription'](_0x2cf978,_0x51f60e);}['getSubscriptionInfo'](_0x274061,{label:_0x2031f5,ownerId:_0x11e8ad,trackKinds:_0x436ec1,params:_0x21769a}){const _0x55ac9e=_0x22e38d;if(_0x11e8ad!==this['configs'][_0x55ac9e(0x33d)]){const _0x120f60=this[_0x55ac9e(0x42c)][_0x55ac9e(0x49b)][_0x55ac9e(0x5a8)](_0x11e8ad,_0x2031f5);return _0x120f60&&_0x120f60[_0x55ac9e(0x387)]()!==_0x274061?{'hasTracks':_0x120f60[_0x55ac9e(0x3e1)](_0x436ec1),'hasResolution':this[_0x55ac9e(0x5dd)](_0x120f60[_0x55ac9e(0x648)](),_0x21769a),'streamId':_0x120f60[_0x55ac9e(0x629)](),'distance':this['configs'][_0x55ac9e(0x49b)][_0x55ac9e(0x363)](_0x274061,_0x11e8ad),'subscriptionLabel':_0x4bcec9(_0x11fb5a[_0x55ac9e(0x19f)],{'contentType':_0x35274c[_0x55ac9e(0x6c4)],'label':_0x120f60[_0x55ac9e(0x629)](),'remoteId':_0x274061})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x1246a5=this[_0x55ac9e(0x42c)][_0x55ac9e(0x49b)][_0x55ac9e(0x606)](_0x2031f5);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x1246a5[_0x55ac9e(0x629)](),'distance':0x0,'subscriptionLabel':_0x4bcec9(_0x11fb5a[_0x55ac9e(0x19f)],{'contentType':_0x35274c['Media'],'label':_0x1246a5[_0x55ac9e(0x629)](),'remoteId':_0x274061})};}[_0x22e38d(0x549)](){const _0x3c7ea3=_0x22e38d;return Array[_0x3c7ea3(0x5e6)](this['maps'][_0x3c7ea3(0x1cb)]['entries']())[_0x3c7ea3(0x57f)](([_0x2d1214,{source:_0x497142}])=>_0x2d1214[_0x3c7ea3(0x642)](_0x11fb5a[_0x3c7ea3(0x19f)])&&_0x497142['getContentType']()===_0x35274c[_0x3c7ea3(0x6c4)])['length'];}[_0x22e38d(0x5dd)](_0x539ada,_0x5a800a){const _0x3a0180=_0x22e38d;if(!_0x5a800a||!_0x5a800a[_0x3a0180(0x4eb)]||_0x3a0180(0x658)==typeof _0x5a800a['video']||!_0x5a800a[_0x3a0180(0x4eb)][_0x3a0180(0x6aa)])return!0x0;const {width:_0x328834,height:_0x1eda9d}=_0x5a800a[_0x3a0180(0x4eb)][_0x3a0180(0x6aa)];return _0x539ada['width']>=_0x328834&&_0x539ada['height']>=_0x1eda9d;}}class _0x4b3591{[_0x22e38d(0x42c)];[_0x22e38d(0x4a4)];[_0x22e38d(0x27d)];[_0x22e38d(0x358)];[_0x22e38d(0x150)];['outgoingManager'];constructor(_0x18766c,_0xb94e83,_0xc9289c){const _0x5aaf67=_0x22e38d;this['configs']=_0x18766c,this[_0x5aaf67(0x4a4)]=_0xb94e83,this[_0x5aaf67(0x27d)]=_0xc9289c,this[_0x5aaf67(0x42c)][_0x5aaf67(0x49b)][_0x5aaf67(0x341)](this),this['incomingManager']=new _0x5e4cba(this['configs'],this[_0x5aaf67(0x27d)]),this['outgoingManager']=new _0x1a7fc7(this['configs'],this['maxOutgoingSubscriptions']);}[_0x22e38d(0x45c)](_0x3ae0c3){const _0x4de0f0=_0x22e38d;this[_0x4de0f0(0x358)]=_0x3ae0c3;}[_0x22e38d(0x43f)](){const _0x292d22=_0x22e38d;delete this[_0x292d22(0x358)];}[_0x22e38d(0x13a)](){const _0x26b89d=_0x22e38d;this[_0x26b89d(0x150)][_0x26b89d(0x13a)](),this['outgoingManager'][_0x26b89d(0x13a)](),this[_0x26b89d(0x42c)]['mediator']['unregisterSystemSource'](this);}[_0x22e38d(0x1aa)](_0x1fe25b,_0x349d9f){const _0x7f399d=_0x22e38d;this[_0x7f399d(0x150)][_0x7f399d(0x519)](_0x1fe25b,_0x349d9f);}['createOutgoingSubscription'](_0x1db9dd,_0x2ffd1b){const _0x79467=_0x22e38d;this[_0x79467(0x384)][_0x79467(0x519)](_0x1db9dd,_0x2ffd1b);}[_0x22e38d(0x438)](_0x45bc2a,_0x597b7d,_0x1c3bbf=''){const _0x4e9cac=_0x22e38d;this[_0x4e9cac(0x150)][_0x4e9cac(0x581)](_0x45bc2a,_0x597b7d,_0x1c3bbf);}[_0x22e38d(0x649)](_0x147f64,_0x3a3676,_0x205350=''){const _0x549dbc=_0x22e38d;try{this['outgoingManager'][_0x549dbc(0x581)](_0x147f64,_0x3a3676,_0x205350);}catch(_0x5c8f20){if(_0x5c8f20 instanceof _0x461f79&&_0x5c8f20[_0x549dbc(0x2d8)]===_0x461f79['codes'][_0x549dbc(0x4ae)])return;}}[_0x22e38d(0x25a)](_0x5e1164){const _0x5e6ac0=_0x22e38d;switch(_0x5e1164[_0x5e6ac0(0x127)][_0x5e6ac0(0x1a1)]){case _0x5f1217[_0x5e6ac0(0x680)]:this['handleSubscriptionSubscribeMediaStream'](_0x5e1164[_0x5e6ac0(0x3c7)],_0x5e1164[_0x5e6ac0(0x127)]);break;case _0x5f1217['UnsubscribeMediaStream']:this[_0x5e6ac0(0x384)][_0x5e6ac0(0x6a2)](_0x5e1164['sourceId'],_0x5e1164[_0x5e6ac0(0x127)]);break;case _0x5f1217[_0x5e6ac0(0x11f)]:this['handleSubscriptionNeedMediaStream'](_0x5e1164['sourceId'],_0x5e1164[_0x5e6ac0(0x127)]);break;case _0x5f1217[_0x5e6ac0(0x4e1)]:this[_0x5e6ac0(0x150)]['handleSubscriptionRestartNeedMediaStream'](_0x5e1164[_0x5e6ac0(0x3c7)],_0x5e1164[_0x5e6ac0(0x127)]);break;case _0x5f1217[_0x5e6ac0(0x194)]:case _0x5f1217['CannotProvideMediaStream']:this[_0x5e6ac0(0x150)][_0x5e6ac0(0x51c)](_0x5e1164[_0x5e6ac0(0x3c7)],_0x5e1164[_0x5e6ac0(0x127)]);break;case _0x5f1217[_0x5e6ac0(0x12a)]:this[_0x5e6ac0(0x150)][_0x5e6ac0(0x11c)](_0x5e1164['sourceId'],_0x5e1164['content']);}}[_0x22e38d(0x6c7)](_0x17bfdb){const _0x50ee0c=_0x22e38d;switch(_0x17bfdb[_0x50ee0c(0x127)]['type']){case _0x10a2a5[_0x50ee0c(0x618)]:this[_0x50ee0c(0x150)][_0x50ee0c(0x617)](_0x17bfdb[_0x50ee0c(0x127)]),this[_0x50ee0c(0x384)]['handleContentUnpublishMediaStream'](_0x17bfdb[_0x50ee0c(0x127)]);break;case _0x10a2a5[_0x50ee0c(0x680)]:this[_0x50ee0c(0x150)]['handleContentSubscribeMediaStream'](_0x17bfdb[_0x50ee0c(0x127)]);break;case _0x10a2a5[_0x50ee0c(0x68e)]:this[_0x50ee0c(0x150)][_0x50ee0c(0x3df)](_0x17bfdb[_0x50ee0c(0x127)]);break;case _0x10a2a5[_0x50ee0c(0x351)]:this[_0x50ee0c(0x5d5)](_0x17bfdb[_0x50ee0c(0x3c7)],_0x17bfdb['content']);break;case _0x10a2a5[_0x50ee0c(0x2b2)]:this[_0x50ee0c(0x384)][_0x50ee0c(0x35d)](_0x17bfdb[_0x50ee0c(0x127)]);break;case _0x10a2a5['ClosePubSubTopic']:this[_0x50ee0c(0x3f8)](_0x17bfdb['content']);break;case _0x10a2a5[_0x50ee0c(0x43b)]:this['handleContentCloseObjectStore'](_0x17bfdb[_0x50ee0c(0x127)]);break;case _0x10a2a5[_0x50ee0c(0x62c)]:this['handleContentCloseKeyValueDatabase'](_0x17bfdb[_0x50ee0c(0x127)]);break;case _0x10a2a5[_0x50ee0c(0x212)]:this['incomingManager'][_0x50ee0c(0x610)](_0x17bfdb[_0x50ee0c(0x127)]);}}[_0x22e38d(0x191)]({content:_0x36b49a}){const _0x4fcefe=_0x22e38d;_0x36b49a[_0x4fcefe(0x1a1)]===_0x1ebed6['UserLeave']&&this['removeSubscriptionsForUser'](_0x36b49a);}['handlePeerConnectionSystemEvents'](_0xc7bae9){const _0x33533b=_0x22e38d;_0xc7bae9['content'][_0x33533b(0x1a1)]===_0x3e3725[_0x33533b(0x385)]&&this['incomingManager'][_0x33533b(0x5ae)](_0xc7bae9[_0x33533b(0x3c7)]);}[_0x22e38d(0x5d5)](_0x2311a9,_0x5b1bc1){const _0x10e43a=_0x22e38d;this['incomingManager']['handleContentUnsubscribeMediaStream'](_0x5b1bc1),this[_0x10e43a(0x384)][_0x10e43a(0x5d5)](_0x2311a9,_0x5b1bc1)[_0x10e43a(0x237)](_0x51a35d=>this[_0x10e43a(0x358)][_0x10e43a(0x3c2)](_0x51a35d));}['handleSubscriptionSubscribeMediaStream'](_0x8fd741,_0x228ced){const _0x40b02d=_0x22e38d,_0x10794f=this[_0x40b02d(0x384)][_0x40b02d(0x3ef)](_0x8fd741,_0x228ced);if(_0x10794f&&(this[_0x40b02d(0x358)][_0x40b02d(0x3c2)]({'sourceId':this['configs'][_0x40b02d(0x33d)],'destinationIds':[_0x8fd741],'messageType':_0x120441['Subscription'],'content':_0x10794f}),_0x10794f[_0x40b02d(0x1a1)]===_0x5f1217[_0x40b02d(0x4e1)]))throw new _0xc2e00f(_0x40b02d(0x35e));}['handleSubscriptionNeedMediaStream'](_0x2262dd,_0xc3435a){const _0x11a177=_0x22e38d,_0x2e6528=this[_0x11a177(0x384)]['handleSubscriptionNeedMediaStream'](_0x2262dd,_0xc3435a);this[_0x11a177(0x358)][_0x11a177(0x3c2)]({'sourceId':this[_0x11a177(0x42c)][_0x11a177(0x33d)],'destinationIds':[_0x2262dd],'messageType':_0x120441[_0x11a177(0x5b7)],'content':_0x2e6528});}[_0x22e38d(0x54f)]({label:_0x3b8555}){const _0x3b2fdb=_0x22e38d;this[_0x3b2fdb(0x438)](_0x3b8555,_0x35274c[_0x3b2fdb(0x157)]),this[_0x3b2fdb(0x649)](_0x3b8555,_0x35274c[_0x3b2fdb(0x157)]);}['handleContentCloseKeyValueDatabase']({label:_0x4247e2}){const _0x3c2b99=_0x22e38d;this[_0x3c2b99(0x438)](_0x4247e2,_0x35274c[_0x3c2b99(0x5a2)]),this['removeOutgoingSubscription'](_0x4247e2,_0x35274c['KeyValueDatabase']);}[_0x22e38d(0x3f8)]({label:_0x44c978}){const _0x3b8525=_0x22e38d;this[_0x3b8525(0x438)](_0x44c978,_0x35274c[_0x3b8525(0x53f)]),this['removeOutgoingSubscription'](_0x44c978,_0x35274c[_0x3b8525(0x53f)]);}[_0x22e38d(0x4d5)]({id:_0x2f5ca8}){const _0xbd70e2=_0x22e38d;this[_0xbd70e2(0x150)]['removeSubscriptionsForUser'](_0x2f5ca8),this[_0xbd70e2(0x384)][_0xbd70e2(0x4d5)](_0x2f5ca8);}}class _0x5603cf{[_0x22e38d(0x2a8)];[_0x22e38d(0x17d)]=_0x50f1e0();constructor(){const _0x5c8a79=_0x22e38d;this[_0x5c8a79(0x2a8)]=0x0;}[_0x22e38d(0x5c4)](){const _0x1513b5=_0x22e38d;return this[_0x1513b5(0x2a8)];}[_0x22e38d(0x428)](){const _0x3253be=_0x22e38d;return _0x35274c[_0x3253be(0x47f)];}[_0x22e38d(0x339)](_0x2485a4){_0x2485a4['registerSystemPublisher'](this);}['unregisterSource'](_0x6cbc5a){const _0x37476f=_0x22e38d;_0x6cbc5a[_0x37476f(0x43f)]();}[_0x22e38d(0x3c2)](_0x4eb439){const _0x18f0a=_0x22e38d;_0x2858e9['log'](_0x5abff4[_0x18f0a(0x3bb)],_0x18f0a(0x4d4),_0x4eb439[_0x18f0a(0x3c7)],_0x4eb439),this['listener']['publish']({'topicLabel':this[_0x18f0a(0x2a8)],'contentType':_0x35274c[_0x18f0a(0x47f)],'uuid':_0x4eb439[_0x18f0a(0x2d0)]??(0x0,_0x29559c['v4'])(),'recipients':_0x4eb439[_0x18f0a(0x53a)]??[],..._0x4eb439});}['subscribe'](_0x2eba92){const _0x2ef7d8=_0x22e38d;return this[_0x2ef7d8(0x17d)][_0x2ef7d8(0x51e)](_0x2eba92);}}class _0x5b4cea{[_0x22e38d(0x292)];['maxConnections'];['maxDistance'];[_0x22e38d(0x1a9)]=[];[_0x22e38d(0x3d6)];['remoteUsers']=new Map();constructor(_0x8c8d91,_0x4e5b9e,_0x57d075){const _0x426841=_0x22e38d;this[_0x426841(0x292)]=_0x8c8d91,this['maxConnections']=_0x4e5b9e,this['maxDistance']=_0x57d075,this[_0x426841(0x3d6)]=(this[_0x426841(0x43d)]-0x2*this[_0x426841(0x292)])/0x2,this[_0x426841(0x1a9)]['push']({'start':0x1,'end':this[_0x426841(0x2dd)](0x1,0x1)-0x1});for(let _0x2b5222=0x0;_0x2b5222<this[_0x426841(0x3d6)];++_0x2b5222)this[_0x426841(0x1a9)][_0x426841(0x386)]({'start':this[_0x426841(0x2dd)](0x1,_0x2b5222+0x1),'end':this['getNextTargetRank'](0x1,_0x2b5222+0x2)-0x1});}[_0x22e38d(0x2dd)](_0x5d5fd3,_0x11a481=0x1){const _0x351abc=_0x22e38d;let _0x2813f0=this['maxDistance']-this['minConnections'],_0x18987c=0x1;for(let _0x50935b=0x1;_0x50935b<_0x11a481;++_0x50935b)_0x2813f0*=this[_0x351abc(0x27d)]-this[_0x351abc(0x292)]-_0x50935b,_0x18987c*=this[_0x351abc(0x27d)]-this[_0x351abc(0x292)]-_0x50935b+0x1;return _0x2813f0*this['minConnections']+_0x5d5fd3-_0x18987c;}[_0x22e38d(0x6b8)](_0x86d044){const _0xaabc91=_0x22e38d;let _0x390860=0x0;for(;this['ranges'][_0x390860][_0xaabc91(0x584)]<_0x86d044;)_0x390860+=0x1;return _0x390860;}[_0x22e38d(0x2cb)](){const _0x316c68=_0x22e38d;return this[_0x316c68(0x292)];}[_0x22e38d(0x2cf)](){const _0x5f4e67=_0x22e38d;return this[_0x5f4e67(0x43d)];}[_0x22e38d(0x1ef)](){const _0x1a56af=_0x22e38d;return this[_0x1a56af(0x27d)];}[_0x22e38d(0x3fe)](){const _0x182f48=_0x22e38d;return this[_0x182f48(0x33f)];}[_0x22e38d(0x656)](_0x4c79f8,_0x265871){const _0x5b677f=_0x22e38d;this['remoteUsers'][_0x5b677f(0x3dc)](_0x4c79f8,_0x265871);}[_0x22e38d(0x65c)](_0x20ee66){const _0x5d03b7=_0x22e38d;return this[_0x5d03b7(0x33f)][_0x5d03b7(0x32d)](_0x20ee66);}['getRemoteUser'](_0x4e44a2){const _0x1e79a0=_0x22e38d;return this[_0x1e79a0(0x33f)][_0x1e79a0(0x61c)](_0x4e44a2);}['deleteRemoteUser'](_0x1b474e){const _0x8eeaaf=_0x22e38d;this['remoteUsers'][_0x8eeaaf(0x421)](_0x1b474e);}[_0x22e38d(0x456)](_0x405fe7,_0x255f85){const _0x279f62=_0x22e38d,_0x343314=this[_0x279f62(0x1a0)](_0x255f85)?.['getRank']()??0x0;return _0x405fe7[_0x279f62(0x672)](_0x5448d=>this[_0x279f62(0x1a0)](_0x5448d))['filter'](_0x1410f8=>void 0x0!==_0x1410f8)[_0x279f62(0x691)]((_0x5c2f9f,_0x359b70)=>Math[_0x279f62(0x4ca)](_0x343314-(_0x5c2f9f&&_0x5c2f9f[_0x279f62(0x265)]()||0x1/0x0))-Math[_0x279f62(0x4ca)](_0x343314-(_0x359b70&&_0x359b70[_0x279f62(0x265)]()||0x1/0x0)))[_0x279f62(0x672)](_0x808091=>_0x808091['getId']());}}class _0x3518f5{[_0x22e38d(0x327)];['clusterId'];[_0x22e38d(0x3fc)];[_0x22e38d(0x3ec)];['configs'];['clusterEventEmitter'];[_0x22e38d(0x14e)];[_0x22e38d(0x123)];[_0x22e38d(0x28a)];[_0x22e38d(0x1c7)];[_0x22e38d(0x3af)];[_0x22e38d(0x392)];[_0x22e38d(0x5f0)];['graphService'];[_0x22e38d(0x358)]=new _0x5603cf();[_0x22e38d(0x2de)];[_0x22e38d(0x236)];constructor(_0x4a1234,_0x1ed7c5,_0x5bf48d,_0x540d7c,_0x3ab806,_0x2e88e3,_0x5f278e){const _0x4c2371=_0x22e38d;this['vendorId']=_0x4a1234,this[_0x4c2371(0x262)]=_0x1ed7c5,this['authService']=_0x540d7c,this[_0x4c2371(0x3ec)]=_0x3ab806,this[_0x4c2371(0x42c)]=_0x2e88e3,this[_0x4c2371(0x689)]=_0x5f278e,this['localUser']=new _0xb76afc(_0x5bf48d['getId'](),_0x5bf48d['getDisplayName'](),_0x5bf48d[_0x4c2371(0x6bf)]());const _0xe2571d=this['getConfigs']();this[_0x4c2371(0x5b0)]=new _0x5b4cea(this['options'][_0x4c2371(0x292)],this[_0x4c2371(0x3ec)][_0x4c2371(0x43d)],this[_0x4c2371(0x3ec)][_0x4c2371(0x27d)]),this['contentManager']=new _0x5912c9(_0xe2571d,this[_0x4c2371(0x3ec)][_0x4c2371(0x115)],this[_0x4c2371(0x3ec)][_0x4c2371(0x1ba)]),this[_0x4c2371(0x123)]=new _0x1c07d2(_0xe2571d,this[_0x4c2371(0x3fc)],this[_0x4c2371(0x42c)][_0x4c2371(0x490)],this[_0x4c2371(0x3ec)][_0x4c2371(0x115)],this['options'][_0x4c2371(0x59a)],this[_0x4c2371(0x5b0)],this[_0x4c2371(0x3ec)][_0x4c2371(0x47d)]),this[_0x4c2371(0x28a)]=new _0x4b3591(_0xe2571d,this[_0x4c2371(0x3ec)][_0x4c2371(0x4a4)],this[_0x4c2371(0x5b0)][_0x4c2371(0x1ef)]()),this['statsManager']=new _0x49fba7(_0xe2571d),this[_0x4c2371(0x3af)]=new _0x1d93ec(_0xe2571d),this[_0x4c2371(0x392)]=new _0x37197d(_0xe2571d),this['nodeManager']=new _0x15d366(_0xe2571d,this[_0x4c2371(0x5b0)],this['localUser']),this[_0x4c2371(0x2de)]=this[_0x4c2371(0x50b)]();}['open'](){const _0x4dd179=_0x22e38d,_0x434cfb=this[_0x4dd179(0x45d)]();this[_0x4dd179(0x123)]=new _0x1c07d2(_0x434cfb,this[_0x4dd179(0x3fc)],this['configs'][_0x4dd179(0x490)],this[_0x4dd179(0x3ec)][_0x4dd179(0x115)],this['options'][_0x4dd179(0x59a)],this[_0x4dd179(0x5b0)],this[_0x4dd179(0x3ec)]['peerConnectionConnector']),this[_0x4dd179(0x28a)]=new _0x4b3591(_0x434cfb,this['options'][_0x4dd179(0x4a4)],this[_0x4dd179(0x5b0)][_0x4dd179(0x1ef)]()),this[_0x4dd179(0x1c7)]=new _0x49fba7(_0x434cfb),this[_0x4dd179(0x3af)]=new _0x1d93ec(_0x434cfb),this[_0x4dd179(0x392)]=new _0x37197d(_0x434cfb),this[_0x4dd179(0x5f0)]=new _0x15d366(_0x434cfb,this[_0x4dd179(0x5b0)],this[_0x4dd179(0x236)]);const _0x3e35f3=this['connectionManager'][_0x4dd179(0x646)]();this[_0x4dd179(0x14e)][_0x4dd179(0x3fa)]()['forEach'](_0x2e4292=>{const _0x479fd3=_0x4dd179;this[_0x479fd3(0x28a)][_0x479fd3(0x64b)](_0x2e4292,_0x3e35f3),this['subscriptionManager'][_0x479fd3(0x1aa)](_0x3e35f3,_0x2e4292);}),this['contentManager'][_0x4dd179(0x5d1)]()[_0x4dd179(0x237)](_0x3d6549=>{const _0x60c3e=_0x4dd179;this[_0x60c3e(0x28a)]['createOutgoingSubscription'](_0x3d6549,_0x3e35f3),this['subscriptionManager'][_0x60c3e(0x1aa)](_0x3e35f3,_0x3d6549);}),this[_0x4dd179(0x14e)][_0x4dd179(0x4bc)]()[_0x4dd179(0x237)](_0x17a84c=>{const _0x1ce2cd=_0x4dd179;this[_0x1ce2cd(0x28a)][_0x1ce2cd(0x64b)](_0x17a84c,_0x3e35f3),this[_0x1ce2cd(0x28a)][_0x1ce2cd(0x1aa)](_0x3e35f3,_0x17a84c);}),this[_0x4dd179(0x2de)]=this[_0x4dd179(0x50b)]();}[_0x22e38d(0x341)](_0x224d6f){const _0xd2feb3=_0x22e38d;try{this['systemTopic'][_0xd2feb3(0x339)](_0x224d6f);}catch(_0x2a8fc5){this[_0xd2feb3(0x4aa)](_0x2a8fc5,{});}}['unregisterSystemSource'](_0x5c3b61){const _0x80a2fa=_0x22e38d;try{this[_0x80a2fa(0x358)][_0x80a2fa(0x65e)](_0x5c3b61);}catch(_0xe20504){this[_0x80a2fa(0x4aa)](_0xe20504,{});}}[_0x22e38d(0x4cd)](_0x49cea0,_0x26ecb4){const _0x1cb965=_0x22e38d;return this[_0x1cb965(0x123)][_0x1cb965(0x4cd)](_0x49cea0,_0x26ecb4);}[_0x22e38d(0x6b0)](_0x44ffa0){const _0x46079c=_0x22e38d;try{return this['connectionManager'][_0x46079c(0x6b0)](_0x44ffa0);}catch(_0x59b1ee){throw this[_0x46079c(0x4aa)](_0x59b1ee,{});}}[_0x22e38d(0x389)](_0x221cf9){const _0x282aff=_0x22e38d;try{return this[_0x282aff(0x123)][_0x282aff(0x389)](_0x221cf9);}catch(_0x459661){throw this[_0x282aff(0x4aa)](_0x459661,{});}}[_0x22e38d(0x5a8)](_0x4a5e1c,_0xe42f78){const _0x583b1e=_0x22e38d;try{return this[_0x583b1e(0x14e)]['getRemoteMediaStreams'](_0x2bcc72=>_0x2bcc72['getOwnerId']()===_0x4a5e1c&&_0x2bcc72[_0x583b1e(0x5c4)]()===_0xe42f78)[0x0];}catch(_0x2c1cb9){throw this['handleError'](_0x2c1cb9,{});}}[_0x22e38d(0x606)](_0x259b2a){const _0x5e42d5=_0x22e38d;try{return this[_0x5e42d5(0x14e)]['getLocalMediaStreams'](_0x2c9c49=>_0x2c9c49['getLabel']()===_0x259b2a)[0x0];}catch(_0x182a62){throw this[_0x5e42d5(0x4aa)](_0x182a62,{});}}['notifyCluster']=(..._0x482f19)=>{const _0x2c3c54=_0x22e38d;try{return this[_0x2c3c54(0x689)][_0x2c3c54(0x26b)](..._0x482f19);}catch(_0x4ad7ab){throw this[_0x2c3c54(0x4aa)](_0x4ad7ab,{});}};['registerRemoteUser'](_0x3fcb1a){const _0x3c16d4=_0x22e38d;try{this[_0x3c16d4(0x1c7)]['addRemoteUser'](_0x3fcb1a);}catch(_0x39f0b6){throw this[_0x3c16d4(0x4aa)](_0x39f0b6,{});}}[_0x22e38d(0x612)](_0xfe57eb){const _0x5ae287=_0x22e38d;try{this['statsManager'][_0x5ae287(0x1ca)](_0xfe57eb);}catch(_0x2bd46b){throw this[_0x5ae287(0x4aa)](_0x2bd46b,{});}}[_0x22e38d(0x4cf)](_0x33712d){const _0x5c91a4=_0x22e38d;return this[_0x5c91a4(0x123)]['collectStats'](_0x33712d);}async['initialize'](){const _0x248be0=_0x22e38d;try{await this['connectionManager'][_0x248be0(0x1e2)]();const _0xd3d8c5=await this['nodeManager'][_0x248be0(0x399)]();for(const _0x1907c4 of _0xd3d8c5)this[_0x248be0(0x123)][_0x248be0(0x4cd)](_0x1907c4);}catch(_0x3d9d3a){throw this[_0x248be0(0x4aa)](_0x3d9d3a,{});}}['updateUser'](_0xa1ccb7){const _0x97a01=_0x22e38d;this[_0x97a01(0x236)]['setEmail'](_0xa1ccb7['getEmail']()),this['localUser'][_0x97a01(0x17b)](_0xa1ccb7[_0x97a01(0x349)]());}[_0x22e38d(0x13a)](_0x3c898e=!0x1){const _0x3d55e2=_0x22e38d;this[_0x3d55e2(0x2de)](),this[_0x3d55e2(0x392)][_0x3d55e2(0x13a)](),this['detectionManager'][_0x3d55e2(0x13a)](),this[_0x3d55e2(0x1c7)]['close'](),this[_0x3d55e2(0x28a)][_0x3d55e2(0x13a)](),this[_0x3d55e2(0x123)][_0x3d55e2(0x13a)](),this['contentManager']['close'](_0x3c898e),this[_0x3d55e2(0x5f0)]['close']();}[_0x22e38d(0x283)](_0x33a42e){const _0x36db9a=_0x22e38d;try{const _0x1a0c1c=this[_0x36db9a(0x14e)][_0x36db9a(0x478)](_0x33a42e),_0x3f9a07=this[_0x36db9a(0x123)][_0x36db9a(0x646)]();return this[_0x36db9a(0x28a)]['createOutgoingSubscription'](_0x1a0c1c,_0x3f9a07),this[_0x36db9a(0x28a)][_0x36db9a(0x1aa)](_0x3f9a07,_0x1a0c1c),_0x1a0c1c;}catch(_0xecb96a){throw this[_0x36db9a(0x4aa)](_0xecb96a,{});}}async[_0x22e38d(0x3b8)](_0xe41601){const _0xc6838c=_0x22e38d;try{const _0x2ee336=this[_0xc6838c(0x14e)][_0xc6838c(0x47a)](_0xe41601,this[_0xc6838c(0x3ec)][_0xc6838c(0x2dc)]),_0x345887=this['connectionManager'][_0xc6838c(0x646)]();return this[_0xc6838c(0x28a)][_0xc6838c(0x64b)](_0x2ee336,_0x345887),this[_0xc6838c(0x28a)][_0xc6838c(0x1aa)](_0x345887,_0x2ee336),await _0x2ee336[_0xc6838c(0x3f3)](),_0x2ee336;}catch(_0x1cd7b2){throw this[_0xc6838c(0x4aa)](_0x1cd7b2,{});}}async['openKeyValueDatabase'](_0x504c6a,_0x1bd482){const _0x1ecb9c=_0x22e38d;try{const _0x31160b=await this['contentManager']['createKeyValueDatabase'](_0x504c6a,_0x1bd482,this[_0x1ecb9c(0x3ec)][_0x1ecb9c(0x2b6)]),_0x4de144=this[_0x1ecb9c(0x123)]['getConnectionGroup']();return this[_0x1ecb9c(0x28a)][_0x1ecb9c(0x64b)](_0x31160b,_0x4de144),this[_0x1ecb9c(0x28a)]['createIncomingSubscription'](_0x4de144,_0x31160b),await _0x31160b[_0x1ecb9c(0x36d)](),this[_0x1ecb9c(0x28d)](_0x31160b),_0x31160b;}catch(_0x2fbd26){throw this[_0x1ecb9c(0x4aa)](_0x2fbd26,{});}}[_0x22e38d(0x3fa)](_0x44ee7d){const _0x4718c9=_0x22e38d;try{return this['contentManager']['getPubSubTopics'](_0x44ee7d);}catch(_0x1c4c51){throw this[_0x4718c9(0x4aa)](_0x1c4c51,{});}}[_0x22e38d(0x5d1)](_0x280fba){const _0xfb3cc8=_0x22e38d;try{return this['contentManager'][_0xfb3cc8(0x5d1)](_0x280fba);}catch(_0x84e090){throw this[_0xfb3cc8(0x4aa)](_0x84e090,{});}}['getKeyValueDatabases'](_0x964a99){const _0x3e6387=_0x22e38d;try{return this[_0x3e6387(0x14e)]['getKeyValueDatabases'](_0x964a99);}catch(_0x4e21d3){throw this[_0x3e6387(0x4aa)](_0x4e21d3,{});}}['createLocalMediaStream'](_0x266c5e,_0x16680e){const _0x301d8b=_0x22e38d;if(!this[_0x301d8b(0x42c)][_0x301d8b(0x3e7)][_0x301d8b(0x4c9)](_0x3fcc69[_0x301d8b(0x4b6)]))throw new _0x36acfc(_0xf36e85[_0x301d8b(0x576)],_0x301d8b(0x2fe));try{return this[_0x301d8b(0x14e)][_0x301d8b(0x564)](_0x266c5e,_0x16680e);}catch(_0x3c5fe5){throw this[_0x301d8b(0x4aa)](_0x3c5fe5,{});}}[_0x22e38d(0x59e)](_0x4f6722,_0x285e1a){const _0x397704=_0x22e38d;if(!this['configs'][_0x397704(0x3e7)][_0x397704(0x4c9)](_0x3fcc69[_0x397704(0x4b6)]))throw new _0x36acfc(_0xf36e85[_0x397704(0x576)],_0x397704(0x2fe));try{return this['contentManager']['createLocalDynamicMediaStream'](_0x4f6722,_0x285e1a);}catch(_0x5a262a){throw this['handleError'](_0x5a262a,{});}}['getLocalMediaStreams'](_0x1be6d3){const _0x381ada=_0x22e38d;if(!this[_0x381ada(0x42c)]['features'][_0x381ada(0x4c9)](_0x3fcc69[_0x381ada(0x4b6)]))throw new _0x36acfc(_0xf36e85[_0x381ada(0x576)],_0x381ada(0x2fe));try{return this[_0x381ada(0x14e)][_0x381ada(0x22b)](_0x1be6d3);}catch(_0x16c95d){throw this[_0x381ada(0x4aa)](_0x16c95d,{});}}[_0x22e38d(0x1bb)](_0x1b50be){const _0x4b1f89=_0x22e38d;if(!this[_0x4b1f89(0x42c)]['features'][_0x4b1f89(0x4c9)](_0x3fcc69[_0x4b1f89(0x4b6)]))throw new _0x36acfc(_0xf36e85['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x4b1f89(0x14e)][_0x4b1f89(0x1bb)](_0x1b50be);}catch(_0x125920){throw this[_0x4b1f89(0x4aa)](_0x125920,{});}}[_0x22e38d(0x363)](_0x3e7348,_0x24c2e0){const _0x579e16=_0x22e38d;return this['nodeManager'][_0x579e16(0x363)](_0x3e7348,_0x24c2e0);}[_0x22e38d(0x6c1)](){const _0x12412e=_0x22e38d;return this[_0x12412e(0x3ec)][_0x12412e(0x1ba)];}['getLocalUser'](){const _0x526cb2=_0x22e38d;return this[_0x526cb2(0x5f0)][_0x526cb2(0x200)]();}[_0x22e38d(0x3fe)](_0x29a9ed){const _0x104067=_0x22e38d;try{return this[_0x104067(0x5f0)][_0x104067(0x3fe)](_0x29a9ed);}catch(_0x1acb3d){throw this[_0x104067(0x4aa)](_0x1acb3d,{});}}async[_0x22e38d(0x15b)](_0x106a1f){const _0x4c8015=_0x22e38d;try{if(_0x2858e9[_0x4c8015(0x3a0)](_0x5abff4['Events'],_0x4c8015(0x627),this[_0x4c8015(0x5f0)][_0x4c8015(0x49e)](),_0x106a1f),_0xb6c235(_0x106a1f,this['nodeManager'][_0x4c8015(0x49e)]()))return void this[_0x4c8015(0x123)]['handleOutgoingSystemEvents'](_0x106a1f);switch(_0x106a1f['messageType']){case _0x120441['Content']:this['statsManager']['handleContentSystemEvents'](_0x106a1f),this['subscriptionManager'][_0x4c8015(0x6c7)](_0x106a1f),this[_0x4c8015(0x14e)][_0x4c8015(0x6c7)](_0x106a1f);break;case _0x120441[_0x4c8015(0x6a9)]:this[_0x4c8015(0x28a)]['handleNodeSystemEvents'](_0x106a1f),this['connectionManager'][_0x4c8015(0x191)](_0x106a1f),this['contentManager'][_0x4c8015(0x191)](_0x106a1f),this['nodeManager'][_0x4c8015(0x191)](_0x106a1f);break;case _0x120441['Detection']:this['remediationManager']['handleDetectionSystemEvents'](_0x106a1f);break;case _0x120441['Remediation']:this[_0x4c8015(0x392)][_0x4c8015(0x5ab)](_0x106a1f);break;case _0x120441['Stats']:this[_0x4c8015(0x3af)][_0x4c8015(0x248)](_0x106a1f);break;case _0x120441[_0x4c8015(0x5b7)]:_0x106a1f[_0x4c8015(0x127)][_0x4c8015(0x1a1)]!==_0x5f1217[_0x4c8015(0x351)]?(this[_0x4c8015(0x28a)][_0x4c8015(0x25a)](_0x106a1f),this[_0x4c8015(0x14e)][_0x4c8015(0x25a)](_0x106a1f)):(this['contentManager'][_0x4c8015(0x25a)](_0x106a1f),this['subscriptionManager']['handleSubscriptionSystemEvents'](_0x106a1f));break;case _0x120441['PeerConnection']:await this[_0x4c8015(0x123)]['handlePeerConnectionSystemEvents'](_0x106a1f),this[_0x4c8015(0x1c7)][_0x4c8015(0x3a6)](_0x106a1f),this[_0x4c8015(0x5f0)][_0x4c8015(0x3a6)](_0x106a1f),this[_0x4c8015(0x28a)][_0x4c8015(0x3a6)](_0x106a1f);}}catch(_0x38ddf5){throw this['handleError'](_0x38ddf5,{});}}[_0x22e38d(0x4aa)](_0xd1c78d,_0x174c8e){const _0xf1ebc7=_0x22e38d;if(!(_0xd1c78d instanceof _0xc2e00f)){if(_0xd1c78d instanceof _0x36acfc)throw _0xd1c78d;if(!(_0xd1c78d instanceof Error))throw new _0x36acfc(_0xf36e85[_0xf1ebc7(0x607)],'Internal\x20unknown\x20error:\x20'+_0xd1c78d);if(!(_0xd1c78d instanceof _0x461f79))throw new _0x36acfc(_0xf36e85['InternalSDKError'],_0xf1ebc7(0x69b)+_0xd1c78d[_0xf1ebc7(0x62d)]);switch(_0xd1c78d['code']){case _0x461f79[_0xf1ebc7(0x34a)][_0xf1ebc7(0x678)]:case _0x461f79['codes'][_0xf1ebc7(0x18b)]:case _0x461f79[_0xf1ebc7(0x34a)][_0xf1ebc7(0x3ad)]:case _0x461f79[_0xf1ebc7(0x34a)][_0xf1ebc7(0x3a4)]:case _0x461f79[_0xf1ebc7(0x34a)][_0xf1ebc7(0x38c)]:case _0x461f79[_0xf1ebc7(0x34a)][_0xf1ebc7(0x29b)]:case _0x461f79[_0xf1ebc7(0x34a)]['InvalidPublisher']:case _0x461f79[_0xf1ebc7(0x34a)][_0xf1ebc7(0x59d)]:case _0x461f79[_0xf1ebc7(0x34a)][_0xf1ebc7(0x6b2)]:case _0x461f79[_0xf1ebc7(0x34a)][_0xf1ebc7(0x3b7)]:case _0x461f79[_0xf1ebc7(0x34a)][_0xf1ebc7(0x6a7)]:case _0x461f79['codes'][_0xf1ebc7(0x4ae)]:}throw _0x2858e9[_0xf1ebc7(0x18d)](_0xf1ebc7(0x572)+_0xd1c78d[_0xf1ebc7(0x62d)],{'clusterId':this[_0xf1ebc7(0x262)],'userId':this['localUser'][_0xf1ebc7(0x1be)]()},_0xd1c78d),new _0x36acfc(_0xf36e85[_0xf1ebc7(0x607)],_0xf1ebc7(0x3ce)+_0xd1c78d[_0xf1ebc7(0x62d)]);}}[_0x22e38d(0x45d)](){const _0x59a9ac=_0x22e38d;return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this[_0x59a9ac(0x262)],'localId':this['localUser'][_0x59a9ac(0x1be)]()};}[_0x22e38d(0x50b)](){const _0x3d66f0=_0x22e38d;return this[_0x3d66f0(0x358)][_0x3d66f0(0x51e)](_0x290526=>{const _0xfeb24c=_0x3d66f0,_0x528045=_0x439bf2(_0x290526,this[_0xfeb24c(0x236)][_0xfeb24c(0x1be)]()),_0x43c313=_0x290526[_0xfeb24c(0x461)]===_0x120441[_0xfeb24c(0x603)]||_0x290526[_0xfeb24c(0x461)]===_0x120441[_0xfeb24c(0x12e)]&&_0x290526[_0xfeb24c(0x127)]['type']===_0x3e3725[_0xfeb24c(0x603)]?_0x5abff4['SystemStats']:_0x5abff4[_0xfeb24c(0x3b9)];_0x2858e9[_0xfeb24c(0x117)](_0x43c313,_0x290526[_0xfeb24c(0x2d0)]+'\x20-\x20'+_0x528045,_0x290526),this[_0xfeb24c(0x15b)](_0x290526)[_0xfeb24c(0x6c3)](_0x19f6b4=>{const _0x4f7b2f=_0xfeb24c;console[_0x4f7b2f(0x18d)](_0x19f6b4);});});}async[_0x22e38d(0x28d)](_0x5da0b7,_0x356392){const _0x5d41ef=_0x22e38d;_0x356392=this[_0x5d41ef(0x6ad)](_0x356392),await _0x5da0b7['sync'](_0x356392,()=>this[_0x5d41ef(0x28d)](_0x5da0b7,_0x356392));}[_0x22e38d(0x6ad)](_0x6ec1a8){const _0x5de4ec=_0x22e38d,_0x4a6b74=this[_0x5de4ec(0x5f0)][_0x5de4ec(0x161)]();if(!_0x6ec1a8)return _0x4a6b74[0x0];const _0x55cded=_0x4a6b74[_0x5de4ec(0x4a8)](_0x100b65=>_0x6ec1a8===_0x100b65),_0x5e493e=_0x4a6b74[_0x55cded+0x1];return _0x4a6b74[_0x5de4ec(0x1e7)]>0x0&&!_0x5e493e?_0x6ec1a8[0x0]:_0x5e493e;}}class _0x1e37ea{[_0x22e38d(0x327)];[_0x22e38d(0x262)];[_0x22e38d(0x1e8)];[_0x22e38d(0x539)];[_0x22e38d(0x245)];constructor(_0x10a724,_0x273d57,_0x47a86c,_0x24954b,_0x4dde1b,_0x3a35d0,_0x3bd246=new _0x4d9fc9()){const _0x4bbd3b=_0x22e38d;this[_0x4bbd3b(0x327)]=_0x10a724,this['clusterId']=_0x273d57,this[_0x4bbd3b(0x1e8)]=_0x47a86c,this[_0x4bbd3b(0x539)]=_0x3bd246,this[_0x4bbd3b(0x245)]=new _0x3518f5(this[_0x4bbd3b(0x327)],this[_0x4bbd3b(0x262)],_0x47a86c,_0x24954b,_0x4dde1b,_0x3a35d0,this);}async['join'](){const _0x438fab=_0x22e38d;await this[_0x438fab(0x245)][_0x438fab(0x1e2)](),this[_0x438fab(0x1e8)][_0x438fab(0x66c)](this[_0x438fab(0x262)],_0x2f0169=>{const _0x9c227d=_0x438fab;this[_0x9c227d(0x245)][_0x9c227d(0x4d6)](_0x2f0169);});}['getUser'](){const _0x1026af=_0x22e38d,_0x114ff0=this[_0x1026af(0x245)][_0x1026af(0x200)]();return{'getId':_0x114ff0[_0x1026af(0x1be)][_0x1026af(0x1af)](_0x114ff0),'getDisplayName':_0x114ff0['getDisplayName']['bind'](_0x114ff0),'getEmail':_0x114ff0['getEmail']['bind'](_0x114ff0),'getRemoteConnections':_0x114ff0[_0x1026af(0x2b9)]['bind'](_0x114ff0),'setDisplayName':_0x114ff0['setDisplayName']['bind'](_0x114ff0),'setEmail':_0x114ff0[_0x1026af(0x6c6)][_0x1026af(0x1af)](_0x114ff0)};}[_0x22e38d(0x52b)](){const _0x1ec926=_0x22e38d;this[_0x1ec926(0x245)]['close'](),this[_0x1ec926(0x1e8)][_0x1ec926(0x4a7)](this['clusterId']);}[_0x22e38d(0x283)](_0x2ad66f){const _0x2d822b=_0x22e38d,_0xe82b46=this[_0x2d822b(0x245)][_0x2d822b(0x283)](_0x2ad66f);return{'getName':_0xe82b46[_0x2d822b(0x205)][_0x2d822b(0x1af)](_0xe82b46),'getOwnerId':_0xe82b46[_0x2d822b(0x5a5)][_0x2d822b(0x1af)](_0xe82b46),'getContentType':_0xe82b46[_0x2d822b(0x428)][_0x2d822b(0x1af)](_0xe82b46),'publish':_0xe82b46['publish'][_0x2d822b(0x1af)](_0xe82b46),'subscribe':_0xe82b46[_0x2d822b(0x51e)][_0x2d822b(0x1af)](_0xe82b46),'unsubscribe':_0xe82b46[_0x2d822b(0x64a)]['bind'](_0xe82b46),'close':_0xe82b46['close'][_0x2d822b(0x1af)](_0xe82b46)};}async[_0x22e38d(0x3b8)](_0x1ff231){const _0x3dad86=_0x22e38d,_0x9100ec=await this[_0x3dad86(0x245)]['openObjectStoreBucket'](_0x1ff231);return{'getName':_0x9100ec[_0x3dad86(0x205)][_0x3dad86(0x1af)](_0x9100ec),'getOwnerId':_0x9100ec[_0x3dad86(0x5a5)]['bind'](_0x9100ec),'getContentType':_0x9100ec[_0x3dad86(0x428)][_0x3dad86(0x1af)](_0x9100ec),'publish':_0x9100ec[_0x3dad86(0x3c2)]['bind'](_0x9100ec),'unpublish':_0x9100ec[_0x3dad86(0x393)]['bind'](_0x9100ec),'get':_0x9100ec[_0x3dad86(0x61c)][_0x3dad86(0x1af)](_0x9100ec),'list':_0x9100ec[_0x3dad86(0x18e)]['bind'](_0x9100ec),'subscribe':_0x9100ec[_0x3dad86(0x51e)]['bind'](_0x9100ec),'unsubscribe':_0x9100ec['unsubscribe'][_0x3dad86(0x1af)](_0x9100ec),'close':_0x9100ec['close'][_0x3dad86(0x1af)](_0x9100ec)};}async['openKeyValueDatabase'](_0x2a5ca3,_0x1e67d4){const _0x191b81=_0x22e38d,_0x56a21f=await this[_0x191b81(0x245)][_0x191b81(0x380)](_0x2a5ca3,_0x1e67d4);return{'getName':_0x56a21f[_0x191b81(0x205)]['bind'](_0x56a21f),'getOwnerId':_0x56a21f[_0x191b81(0x5a5)][_0x191b81(0x1af)](_0x56a21f),'getContentType':_0x56a21f[_0x191b81(0x428)][_0x191b81(0x1af)](_0x56a21f),'getTable':_0x56a21f[_0x191b81(0x5ee)][_0x191b81(0x1af)](_0x56a21f),'subscribe':_0x56a21f[_0x191b81(0x51e)][_0x191b81(0x1af)](_0x56a21f),'unsubscribe':_0x56a21f[_0x191b81(0x64a)][_0x191b81(0x1af)](_0x56a21f),'close':_0x56a21f[_0x191b81(0x13a)][_0x191b81(0x1af)](_0x56a21f)};}['getPubSubTopics'](_0x50a28e){const _0x456279=_0x22e38d;return this[_0x456279(0x245)][_0x456279(0x3fa)](_0x50a28e)[_0x456279(0x672)](_0x247399=>({'getName':_0x247399['getName'][_0x456279(0x1af)](_0x247399),'getOwnerId':_0x247399['getOwnerId'][_0x456279(0x1af)](_0x247399),'getContentType':_0x247399['getContentType'][_0x456279(0x1af)](_0x247399),'publish':_0x247399[_0x456279(0x3c2)][_0x456279(0x1af)](_0x247399),'subscribe':_0x247399['subscribe'][_0x456279(0x1af)](_0x247399),'unsubscribe':_0x247399[_0x456279(0x64a)]['bind'](_0x247399),'close':_0x247399[_0x456279(0x13a)][_0x456279(0x1af)](_0x247399)}));}[_0x22e38d(0x5d1)](_0x134c6d){const _0x499086=_0x22e38d;return this[_0x499086(0x245)][_0x499086(0x5d1)](_0x134c6d)[_0x499086(0x672)](_0x4d0cce=>({'getName':_0x4d0cce[_0x499086(0x205)][_0x499086(0x1af)](_0x4d0cce),'getOwnerId':_0x4d0cce[_0x499086(0x5a5)][_0x499086(0x1af)](_0x4d0cce),'getContentType':_0x4d0cce[_0x499086(0x428)][_0x499086(0x1af)](_0x4d0cce),'publish':_0x4d0cce[_0x499086(0x3c2)]['bind'](_0x4d0cce),'unpublish':_0x4d0cce['unpublish'][_0x499086(0x1af)](_0x4d0cce),'get':_0x4d0cce['get'][_0x499086(0x1af)](_0x4d0cce),'list':_0x4d0cce[_0x499086(0x18e)][_0x499086(0x1af)](_0x4d0cce),'subscribe':_0x4d0cce[_0x499086(0x51e)][_0x499086(0x1af)](_0x4d0cce),'unsubscribe':_0x4d0cce[_0x499086(0x64a)][_0x499086(0x1af)](_0x4d0cce),'close':_0x4d0cce[_0x499086(0x13a)]['bind'](_0x4d0cce)}));}['getKeyValueDatabases'](_0x393d00){const _0x2b4cdf=_0x22e38d;return this[_0x2b4cdf(0x245)]['getKeyValueDatabases'](_0x393d00)[_0x2b4cdf(0x672)](_0x3fae05=>({'getName':_0x3fae05['getName'][_0x2b4cdf(0x1af)](_0x3fae05),'getOwnerId':_0x3fae05[_0x2b4cdf(0x5a5)][_0x2b4cdf(0x1af)](_0x3fae05),'getContentType':_0x3fae05[_0x2b4cdf(0x428)][_0x2b4cdf(0x1af)](_0x3fae05),'getTable':_0x3fae05[_0x2b4cdf(0x5ee)]['bind'](_0x3fae05),'subscribe':_0x3fae05[_0x2b4cdf(0x51e)][_0x2b4cdf(0x1af)](_0x3fae05),'unsubscribe':_0x3fae05[_0x2b4cdf(0x64a)][_0x2b4cdf(0x1af)](_0x3fae05),'close':_0x3fae05[_0x2b4cdf(0x13a)]['bind'](_0x3fae05)}));}[_0x22e38d(0x28c)](_0x967b7e,_0x35f8f3){const _0x3406ee=_0x22e38d,_0x332e2b=this[_0x3406ee(0x245)][_0x3406ee(0x564)](_0x967b7e,_0x35f8f3);return{'getLabel':_0x332e2b[_0x3406ee(0x5c4)][_0x3406ee(0x1af)](_0x332e2b),'getOwnerId':_0x332e2b[_0x3406ee(0x5a5)][_0x3406ee(0x1af)](_0x332e2b),'getContentType':_0x332e2b['getContentType'][_0x3406ee(0x1af)](_0x332e2b),'getMediaStream':_0x332e2b[_0x3406ee(0x28b)][_0x3406ee(0x1af)](_0x332e2b),'setPriority':_0x332e2b['setPriority'][_0x3406ee(0x1af)](_0x332e2b),'unpublish':_0x332e2b[_0x3406ee(0x393)][_0x3406ee(0x1af)](_0x332e2b)};}[_0x22e38d(0x357)](_0xc9c064,_0x18f985){const _0x431009=_0x22e38d,_0x5efc89=this[_0x431009(0x245)][_0x431009(0x59e)](_0xc9c064,_0x18f985);return{'getLabel':_0x5efc89[_0x431009(0x5c4)][_0x431009(0x1af)](_0x5efc89),'getOwnerId':_0x5efc89[_0x431009(0x5a5)][_0x431009(0x1af)](_0x5efc89),'getContentType':_0x5efc89[_0x431009(0x428)][_0x431009(0x1af)](_0x5efc89),'setPriority':_0x5efc89[_0x431009(0x25d)][_0x431009(0x1af)](_0x5efc89),'unpublish':_0x5efc89[_0x431009(0x393)][_0x431009(0x1af)](_0x5efc89),'getMediaStream':_0x5efc89['getMediaStream']['bind'](_0x5efc89),'addTrack':_0x5efc89[_0x431009(0x25c)][_0x431009(0x1af)](_0x5efc89),'removeTrack':_0x5efc89[_0x431009(0x45a)][_0x431009(0x1af)](_0x5efc89),'replaceTrack':_0x5efc89['replaceTrack']['bind'](_0x5efc89),'setTransformations':_0x5efc89['setTransformations'][_0x431009(0x1af)](_0x5efc89)};}['getLocalMediaStreams'](_0x1f9f6f){const _0x470408=_0x22e38d;return this[_0x470408(0x245)][_0x470408(0x22b)](_0x1f9f6f)['map'](_0x2a2f9d=>({'getLabel':_0x2a2f9d[_0x470408(0x5c4)]['bind'](_0x2a2f9d),'getOwnerId':_0x2a2f9d[_0x470408(0x5a5)]['bind'](_0x2a2f9d),'getContentType':_0x2a2f9d['getContentType'][_0x470408(0x1af)](_0x2a2f9d),'getMediaStream':_0x2a2f9d[_0x470408(0x28b)][_0x470408(0x1af)](_0x2a2f9d),'setPriority':_0x2a2f9d[_0x470408(0x25d)][_0x470408(0x1af)](_0x2a2f9d),'unpublish':_0x2a2f9d['unpublish'][_0x470408(0x1af)](_0x2a2f9d)}));}[_0x22e38d(0x1bb)](_0x4b9fc7){const _0x356af0=_0x22e38d;return this[_0x356af0(0x245)][_0x356af0(0x1bb)](_0x4b9fc7)[_0x356af0(0x672)](_0x44ead9=>({'getLabel':_0x44ead9[_0x356af0(0x5c4)][_0x356af0(0x1af)](_0x44ead9),'getOwnerId':_0x44ead9[_0x356af0(0x5a5)][_0x356af0(0x1af)](_0x44ead9),'getContentType':_0x44ead9[_0x356af0(0x428)][_0x356af0(0x1af)](_0x44ead9),'getMediaStream':_0x44ead9[_0x356af0(0x28b)][_0x356af0(0x1af)](_0x44ead9),'subscribe':_0x44ead9[_0x356af0(0x51e)][_0x356af0(0x1af)](_0x44ead9),'unsubscribe':_0x44ead9[_0x356af0(0x64a)]['bind'](_0x44ead9),'getAvailableTrackKinds':_0x44ead9[_0x356af0(0x15c)]['bind'](_0x44ead9),'update':_0x44ead9[_0x356af0(0x5c1)][_0x356af0(0x1af)](_0x44ead9),'onProviderChanged':_0x44ead9[_0x356af0(0x413)][_0x356af0(0x1af)](_0x44ead9)}));}[_0x22e38d(0x3fe)](_0x1aa43a){const _0x52d1d1=_0x22e38d;return this[_0x52d1d1(0x245)][_0x52d1d1(0x3fe)](_0x1aa43a)['map'](_0xaeaef7=>({'getId':_0xaeaef7[_0x52d1d1(0x1be)][_0x52d1d1(0x1af)](_0xaeaef7),'getDisplayName':_0xaeaef7[_0x52d1d1(0x349)][_0x52d1d1(0x1af)](_0xaeaef7),'getEmail':_0xaeaef7[_0x52d1d1(0x6bf)][_0x52d1d1(0x1af)](_0xaeaef7),'getRemoteConnections':_0xaeaef7['getRemoteConnections'][_0x52d1d1(0x1af)](_0xaeaef7)}));}['on']=(..._0x139a53)=>{const _0xf0ba80=_0x22e38d;this[_0xf0ba80(0x539)]['on'](..._0x139a53);};['emit']=(..._0x5a5edb)=>this[_0x22e38d(0x539)][_0x22e38d(0x26b)](..._0x5a5edb);[_0x22e38d(0x40d)](..._0xc8e250){const _0x16122b=_0x22e38d;this[_0x16122b(0x539)][_0x16122b(0x40d)](..._0xc8e250);}}class _0x7c109d{['id'];[_0x22e38d(0x543)];[_0x22e38d(0x674)];[_0x22e38d(0x1f1)]=new Map();[_0x22e38d(0x5bf)]=_0x50f1e0();constructor(_0x744869,_0x466328,_0x26df5d){const _0xc02d7b=_0x22e38d;this['id']=_0x744869,this[_0xc02d7b(0x543)]=_0x466328,this['email']=_0x26df5d;}[_0x22e38d(0x1be)](){return this['id'];}[_0x22e38d(0x349)](){const _0x162050=_0x22e38d;return this[_0x162050(0x543)];}['getEmail'](){const _0x445898=_0x22e38d;return this[_0x445898(0x674)];}['setDisplayName'](_0x1b4211){const _0x55c423=_0x22e38d;this['displayName']!==_0x1b4211&&(this[_0x55c423(0x543)]=_0x1b4211,this[_0x55c423(0x5bf)][_0x55c423(0x3c2)](this));}[_0x22e38d(0x6c6)](_0x48cd19){const _0x53513d=_0x22e38d;this[_0x53513d(0x674)]!==_0x48cd19&&(this[_0x53513d(0x674)]=_0x48cd19,this[_0x53513d(0x5bf)][_0x53513d(0x3c2)](this));}[_0x22e38d(0x66c)](_0xea2b83,_0x49c971){const _0x4a188e=_0x22e38d;if(this[_0x4a188e(0x1f1)]['has'](_0xea2b83))return;const _0x3921e2=this[_0x4a188e(0x5bf)][_0x4a188e(0x51e)](_0x49c971);this[_0x4a188e(0x1f1)][_0x4a188e(0x3dc)](_0xea2b83,_0x3921e2);}[_0x22e38d(0x4a7)](_0x3575a8){const _0x5943fb=_0x22e38d;if(!this[_0x5943fb(0x1f1)]['has'](_0x3575a8))return;const _0x3bf428=this[_0x5943fb(0x1f1)][_0x5943fb(0x61c)](_0x3575a8);_0x3bf428&&_0x3bf428(),this[_0x5943fb(0x1f1)]['delete'](_0x3575a8);}}class _0x266055{[_0x22e38d(0x327)];[_0x22e38d(0x3fb)];constructor(_0x3df68c){this['vendorId']=_0x3df68c;}async['signInWithCredential'](_0x3aa44c){const _0x47a538=_0x22e38d,_0x5cd31d=await(0x0,_0x309028[_0x47a538(0x4fa)])(_0x171347[_0x47a538(0x412)](),_0x47a538(0x595))({'uid':_0x47a538(0x23a)+this[_0x47a538(0x327)]+_0x47a538(0x23a)+_0x3aa44c['id']}),_0x13c7bf=await(0x0,_0x4822b3[_0x47a538(0x631)])(_0x171347['getAuth'](),_0x5cd31d['data'][_0x47a538(0x344)]);this[_0x47a538(0x3fb)]=_0x13c7bf[_0x47a538(0x3fb)];}[_0x22e38d(0x5db)](){const _0x39bdd8=_0x22e38d;return this['user']?.['getIdToken']()??Promise['reject'](_0x39bdd8(0x4b7));}}const _0x2ff4ab=require('webrtc-adapter');var _0x1c1d0d,_0x30728d=_0x2c4711['n'](_0x2ff4ab);!function(_0x2e96a3){const _0x1bdd64=_0x22e38d;_0x2e96a3[_0x1bdd64(0x52f)]=_0x1bdd64(0x52f),_0x2e96a3[_0x1bdd64(0x4b6)]=_0x1bdd64(0x4b6),_0x2e96a3[_0x1bdd64(0x246)]='ScreenSharing',_0x2e96a3[_0x1bdd64(0x454)]=_0x1bdd64(0x454),_0x2e96a3[_0x1bdd64(0x1dc)]=_0x1bdd64(0x1dc),_0x2e96a3[_0x1bdd64(0x450)]='AudioOutput',_0x2e96a3[_0x1bdd64(0x409)]='Recording',_0x2e96a3[_0x1bdd64(0x66a)]=_0x1bdd64(0x66a),_0x2e96a3[_0x1bdd64(0x48b)]=_0x1bdd64(0x48b);}(_0x1c1d0d||(_0x1c1d0d={}));class _0x54c41b{static [_0x22e38d(0x688)];['browser'];[_0x22e38d(0x694)];[_0x22e38d(0x4d7)]=[];constructor(){const _0x30abab=_0x22e38d;this['browser']=_0x30728d()[_0x30abab(0x22a)][_0x30abab(0x1bf)],this['browserVersion']=_0x30728d()[_0x30abab(0x22a)]['version'];}static[_0x22e38d(0x600)](){const _0x403ebf=_0x22e38d;return _0x54c41b[_0x403ebf(0x688)]||(_0x54c41b[_0x403ebf(0x688)]=new _0x54c41b()),_0x54c41b[_0x403ebf(0x688)];}[_0x22e38d(0x1e2)](){const _0x854c9b=_0x22e38d;this[_0x854c9b(0x3e3)](),this[_0x854c9b(0x525)](),this['checkScreenSharing'](),this[_0x854c9b(0x51a)](),this['checkDeviceConfig'](),this['checkAudioOutput'](),this[_0x854c9b(0x319)](),this['checkBackgrounds'](),this[_0x854c9b(0x2e7)](),_0x2858e9[_0x854c9b(0x3a0)](_0x5abff4[_0x854c9b(0x171)],_0x854c9b(0x418),{'browser':this[_0x854c9b(0x1bf)],'browserVersion':this[_0x854c9b(0x694)],'featureSupport':this[_0x854c9b(0x4d7)]});}['isFeatureSupported'](_0xab4887){const _0x4245a2=_0x22e38d,_0x9abcf1=this[_0x4245a2(0x4d7)]['find'](_0x1bd2c9=>_0x1bd2c9['name']===_0xab4887);return!!_0x9abcf1&&_0x9abcf1[_0x4245a2(0x2a3)];}['logSupport'](_0x12ed3b){const _0x525aec=_0x22e38d;_0x2858e9[_0x525aec(0x4cc)](_0x525aec(0x4ac),{'userId':_0x12ed3b,'data':{'browser':this[_0x525aec(0x1bf)],'browserVersion':this[_0x525aec(0x694)],'featureSupport':this['featureSupport']}});}[_0x22e38d(0x3e3)](){const _0xfe792f=_0x22e38d,_0x2cfe43=_0x1c1d0d[_0xfe792f(0x52f)];let _0x266688=!0x1;'function'==typeof RTCPeerConnection&&_0xfe792f(0x446)==typeof RTCIceCandidate&&_0xfe792f(0x446)==typeof RTCSessionDescription?_0x266688=!0x0:_0x2858e9[_0xfe792f(0x3a0)](_0x5abff4['Support'],_0xfe792f(0x146)+_0x2cfe43+_0xfe792f(0x1fc)),window[_0xfe792f(0x223)][_0xfe792f(0x4d0)]&&/(Version\/\d+.*\/\d+.0.0.0 Mobile|; ?wv)/i['test'](window[_0xfe792f(0x223)][_0xfe792f(0x4d0)])&&(_0x266688=!0x1,_0x2858e9['log'](_0x5abff4[_0xfe792f(0x171)],_0xfe792f(0x146)+_0x2cfe43+_0xfe792f(0x1fc))),_0xfe792f(0x2fd)===this['browser']&&this['browserVersion']&&this['browserVersion']<0x68&&(_0x266688=!0x1,_0x2858e9[_0xfe792f(0x3a0)](_0x5abff4[_0xfe792f(0x171)],_0xfe792f(0x146)+_0x2cfe43+_0xfe792f(0x3bd))),_0xfe792f(0x2e8)===this[_0xfe792f(0x1bf)]&&this[_0xfe792f(0x694)]&&this[_0xfe792f(0x694)]<0x68&&(_0x266688=!0x1,_0x2858e9[_0xfe792f(0x3a0)](_0x5abff4[_0xfe792f(0x171)],_0xfe792f(0x146)+_0x2cfe43+_0xfe792f(0x2b1)));try{_0xfe792f(0x1d0)===this[_0xfe792f(0x1bf)]&&(this[_0xfe792f(0x694)]&&this[_0xfe792f(0x694)]<0xf||!window['navigator'][_0xfe792f(0x4d0)]||window[_0xfe792f(0x223)]&&window[_0xfe792f(0x223)]['userAgent']&&_0xfe792f(0x20b)==typeof window['navigator'][_0xfe792f(0x4d0)]&&parseInt(window['navigator'][_0xfe792f(0x4d0)][_0xfe792f(0x2fb)](/Version\/([^\.]+)/i)?.[0x1]||'0',0xa)<0xf)&&(_0x266688=!0x1,_0x2858e9[_0xfe792f(0x3a0)](_0x5abff4[_0xfe792f(0x171)],_0xfe792f(0x146)+_0x2cfe43+'\x20not\x20supported\x20-\x20old\x20Safari'));}catch(_0x189dd2){_0x2858e9[_0xfe792f(0x3a0)](_0x5abff4[_0xfe792f(0x171)],'Support:\x20unrecognized\x20Safari\x20user\x20agent',window[_0xfe792f(0x223)]['userAgent']);}_0xfe792f(0x3ff)===this[_0xfe792f(0x1bf)]&&this[_0xfe792f(0x694)]&&this['browserVersion']<0x68&&(_0x266688=!0x1,_0x2858e9[_0xfe792f(0x3a0)](_0x5abff4['Support'],_0xfe792f(0x146)+_0x2cfe43+'\x20not\x20supported\x20-\x20old\x20Edge')),_0xfe792f(0x4c0)===this[_0xfe792f(0x1bf)]&&this[_0xfe792f(0x694)]&&this[_0xfe792f(0x694)]<0x5a&&(_0x266688=!0x1,_0x2858e9['log'](_0x5abff4[_0xfe792f(0x171)],_0xfe792f(0x146)+_0x2cfe43+'\x20not\x20supported\x20-\x20old\x20Opera')),this['featureSupport'][_0xfe792f(0x386)]({'name':_0x2cfe43,'supported':_0x266688});}[_0x22e38d(0x525)](){const _0x2b9b1b=_0x22e38d,_0x58a7eb=_0x1c1d0d[_0x2b9b1b(0x4b6)];let _0x2a12ae=!0x1;_0x2b9b1b(0x446)==typeof MediaStream&&_0x2b9b1b(0x446)==typeof MediaStreamTrack&&_0x2b9b1b(0x43c)==typeof navigator&&_0x2b9b1b(0x43c)==typeof navigator[_0x2b9b1b(0x550)]&&'function'==typeof navigator[_0x2b9b1b(0x550)][_0x2b9b1b(0x521)]?_0x2a12ae=!0x0:_0x2858e9[_0x2b9b1b(0x3a0)](_0x5abff4[_0x2b9b1b(0x171)],'Support:\x20'+_0x58a7eb+_0x2b9b1b(0x1fc)),this[_0x2b9b1b(0x4d7)][_0x2b9b1b(0x386)]({'name':_0x58a7eb,'supported':_0x2a12ae});}[_0x22e38d(0x679)](){const _0x152eb0=_0x22e38d,_0x15c7c4=_0x1c1d0d[_0x152eb0(0x246)];let _0x2d713d=!0x1;_0x152eb0(0x43c)==typeof navigator&&_0x152eb0(0x43c)==typeof navigator[_0x152eb0(0x550)]&&_0x152eb0(0x446)==typeof navigator[_0x152eb0(0x550)]['getDisplayMedia']?_0x2d713d=!0x0:_0x2858e9['log'](_0x5abff4['Support'],'Support:\x20'+_0x15c7c4+'\x20not\x20supported'),this[_0x152eb0(0x4d7)][_0x152eb0(0x386)]({'name':_0x15c7c4,'supported':_0x2d713d});}[_0x22e38d(0x51a)](){const _0x40cacb=_0x22e38d,_0xe0421a=_0x1c1d0d[_0x40cacb(0x454)];let _0xc99e37=!0x1;_0x40cacb(0x446)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0x40cacb(0x446)!=typeof AudioWorkletNode||_0x40cacb(0x446)!=typeof MediaStreamAudioSourceNode?_0x2858e9[_0x40cacb(0x3a0)](_0x5abff4[_0x40cacb(0x171)],_0x40cacb(0x146)+_0xe0421a+'\x20not\x20supported'):_0xc99e37=!0x0,this['featureSupport'][_0x40cacb(0x386)]({'name':_0xe0421a,'supported':_0xc99e37});}[_0x22e38d(0x4ab)](){const _0x254b1c=_0x22e38d,_0x5f3b70=_0x1c1d0d[_0x254b1c(0x1dc)];let _0x235357=!0x1;_0x254b1c(0x43c)==typeof navigator&&_0x254b1c(0x43c)==typeof navigator[_0x254b1c(0x550)]&&_0x254b1c(0x446)==typeof navigator['mediaDevices'][_0x254b1c(0x302)]&&_0x254b1c(0x446)==typeof MediaDeviceInfo?_0x235357=!0x0:_0x2858e9[_0x254b1c(0x3a0)](_0x5abff4[_0x254b1c(0x171)],_0x254b1c(0x146)+_0x5f3b70+_0x254b1c(0x1fc)),this[_0x254b1c(0x4d7)][_0x254b1c(0x386)]({'name':_0x5f3b70,'supported':_0x235357});}[_0x22e38d(0x44d)](){const _0x42d24c=_0x22e38d,_0x54aa7e=_0x1c1d0d['AudioOutput'];let _0x491b2f=!0x1;'function'==typeof document[_0x42d24c(0x23d)]('video')[_0x42d24c(0x1fa)]?_0x491b2f=!0x0:_0x2858e9[_0x42d24c(0x3a0)](_0x5abff4[_0x42d24c(0x171)],_0x42d24c(0x146)+_0x54aa7e+_0x42d24c(0x1fc)),this[_0x42d24c(0x4d7)][_0x42d24c(0x386)]({'name':_0x54aa7e,'supported':_0x491b2f});}async[_0x22e38d(0x319)](){const _0x5aea17=_0x22e38d,_0x43b592=_0x1c1d0d['Recording'];let _0x13d96c=!0x1;try{const _0x5897b0=document[_0x5aea17(0x23d)](_0x5aea17(0x403));if(window[_0x5aea17(0x43e)]&&window[_0x5aea17(0x21c)]&&_0x5897b0[_0x5aea17(0x3f1)]){const _0x55f4c1=_0x5897b0['captureStream'](),_0x4ef3c0=new MediaRecorder(_0x55f4c1);_0x4ef3c0[_0x5aea17(0x16e)](),await new Promise(_0x36dd0d=>setTimeout(_0x36dd0d,0x7d0)),_0x4ef3c0['stop'](),_0x13d96c='inactive'===_0x4ef3c0['state'];}}catch(_0x32e2ce){_0x2858e9[_0x5aea17(0x3a0)](_0x5abff4[_0x5aea17(0x171)],'Support:\x20'+_0x43b592+_0x5aea17(0x5fd),_0x32e2ce);}this['featureSupport'][_0x5aea17(0x386)]({'name':_0x43b592,'supported':_0x13d96c}),_0x13d96c||_0x2858e9[_0x5aea17(0x3a0)](_0x5abff4[_0x5aea17(0x171)],'Support:\x20'+_0x43b592+_0x5aea17(0x1fc));}[_0x22e38d(0x4ed)](){const _0x512d21=_0x22e38d,_0x23e128=_0x1c1d0d[_0x512d21(0x66a)];let _0x4c3ce2=!0x1;try{document[_0x512d21(0x23d)](_0x512d21(0x403))[_0x512d21(0x3f1)]&&(_0x4c3ce2=!0x0);}catch(_0x2ab5a1){_0x2858e9['log'](_0x5abff4[_0x512d21(0x171)],_0x512d21(0x146)+_0x23e128+_0x512d21(0x5fd),_0x2ab5a1);}this[_0x512d21(0x4d7)]['push']({'name':_0x23e128,'supported':_0x4c3ce2}),_0x4c3ce2||_0x2858e9[_0x512d21(0x3a0)](_0x5abff4[_0x512d21(0x171)],_0x512d21(0x146)+_0x23e128+_0x512d21(0x1fc));}[_0x22e38d(0x2e7)](){const _0x25576c=_0x22e38d,_0x310109=_0x1c1d0d['WebGL'];let _0x378269=!0x1;try{const _0x35e1aa=document[_0x25576c(0x23d)](_0x25576c(0x403));window[_0x25576c(0x379)]&&_0x35e1aa[_0x25576c(0x1eb)](_0x25576c(0x3f2))&&(_0x378269=!0x0);}catch(_0xb6eee){_0x2858e9[_0x25576c(0x3a0)](_0x5abff4[_0x25576c(0x171)],_0x25576c(0x146)+_0x310109+'\x20check\x20failed',_0xb6eee);}this[_0x25576c(0x4d7)][_0x25576c(0x386)]({'name':_0x310109,'supported':_0x378269}),_0x378269||_0x2858e9[_0x25576c(0x3a0)](_0x5abff4['Support'],'Support:\x20'+_0x310109+_0x25576c(0x1fc));}}const _0x118f7d=_0x54c41b[_0x22e38d(0x600)]();class _0x21ccfd{[_0x22e38d(0x4c8)];constructor(_0x279d7e){const _0x4ddad5=_0x22e38d,_0x268d26={'iceServers':_0x279d7e[_0x4ddad5(0x19d)]};this[_0x4ddad5(0x4c8)]=new RTCPeerConnection(_0x268d26);}get[_0x22e38d(0x189)](){const _0x597a4b=_0x22e38d;return null!==this[_0x597a4b(0x4c8)][_0x597a4b(0x666)];}get[_0x22e38d(0x3e5)](){const _0x3dd02b=_0x22e38d;return void 0x0!==this[_0x3dd02b(0x4c8)]['restartIce'];}get['connectionState'](){const _0xeec612=_0x22e38d;return this['connection'][_0xeec612(0x131)];}get[_0x22e38d(0x45e)](){const _0x21bfd5=_0x22e38d;return this[_0x21bfd5(0x4c8)][_0x21bfd5(0x64c)];}get[_0x22e38d(0x298)](){const _0x3bfb17=_0x22e38d;return this[_0x3bfb17(0x4c8)][_0x3bfb17(0x5a0)];}get[_0x22e38d(0x60f)](){const _0x57d4b9=_0x22e38d;return this[_0x57d4b9(0x4c8)][_0x57d4b9(0x60f)];}set['onCandidate'](_0x45d9be){const _0x53807a=_0x22e38d;this[_0x53807a(0x4c8)][_0x53807a(0x5d4)]=_0x45d9be;}set[_0x22e38d(0x60e)](_0x51554f){const _0x4fddce=_0x22e38d;this[_0x4fddce(0x4c8)][_0x4fddce(0x443)]=_0x51554f;}set[_0x22e38d(0x41b)](_0x160213){const _0x4c77e7=_0x22e38d;this[_0x4c77e7(0x4c8)][_0x4c77e7(0x2f4)]=null!==_0x160213?_0x4f2e40=>{const _0x4a81b8=_0x4c77e7;_0x160213({'channel':_0x2abff3(_0x4f2e40[_0x4a81b8(0x188)])});}:_0x160213;}set['onGatheringStateChange'](_0x57024d){const _0xbb0fe1=_0x22e38d;this[_0xbb0fe1(0x4c8)][_0xbb0fe1(0x44e)]=_0x57024d;}set[_0x22e38d(0x22c)](_0x2cfd39){const _0x34bf65=_0x22e38d;this[_0x34bf65(0x4c8)][_0x34bf65(0x582)]=_0x2cfd39;}set[_0x22e38d(0x148)](_0x37478f){const _0x31553e=_0x22e38d;this[_0x31553e(0x4c8)][_0x31553e(0x36f)]=_0x37478f;}['addCandidate'](_0x17304e){const _0x1d5e48=_0x22e38d;return this[_0x1d5e48(0x4c8)][_0x1d5e48(0x2e0)](_0x17304e);}[_0x22e38d(0x25c)](_0x2cd2f8,_0x122f83){const _0x2a9600=_0x22e38d;return this[_0x2a9600(0x4c8)][_0x2a9600(0x25c)](_0x2cd2f8,_0x122f83);}[_0x22e38d(0x13a)](){const _0x436afe=_0x22e38d;this['connection'][_0x436afe(0x13a)]();}async['collectReceiversStats'](_0x1a30d0,_0x32b35a){const _0x46083f=_0x22e38d;for(const [_0x4ad355,_0x59c7ff]of _0x1a30d0){const _0x411fac=[];for(const _0x56bf46 of _0x59c7ff){const _0x25964f=await this[_0x46083f(0x4c8)][_0x46083f(0x1d1)](_0x56bf46);_0x25964f&&_0x411fac[_0x46083f(0x386)](_0x374f87(_0x25964f));}0x0!==_0x411fac[_0x46083f(0x1e7)]&&_0x32b35a(_0x411fac,_0x4ad355);}}async[_0x22e38d(0x34f)](_0x4aabf5,_0x3f94c0){const _0x2ae5d4=_0x22e38d;for(const [_0x26a1c7,_0x3a3a03]of _0x4aabf5){const _0x5d3ef0=[];if(_0x3a3a03[_0x2ae5d4(0x3ea)][_0x2ae5d4(0x4eb)]?.[_0x2ae5d4(0x562)]&&_0x3a3a03[_0x2ae5d4(0x3ea)][_0x2ae5d4(0x4eb)]?.[_0x2ae5d4(0x3f5)]){const _0x2568dc=await this[_0x2ae5d4(0x4c8)][_0x2ae5d4(0x1d1)](_0x3a3a03[_0x2ae5d4(0x3ea)][_0x2ae5d4(0x4eb)][_0x2ae5d4(0x562)]);_0x2568dc&&_0x5d3ef0[_0x2ae5d4(0x386)](_0x374f87(_0x2568dc));}if(_0x3a3a03[_0x2ae5d4(0x3ea)]['audio']?.[_0x2ae5d4(0x562)]&&_0x3a3a03[_0x2ae5d4(0x3ea)][_0x2ae5d4(0x19e)]?.['sender']){const _0x535844=await this['connection'][_0x2ae5d4(0x1d1)](_0x3a3a03['tracks'][_0x2ae5d4(0x19e)]['track']);_0x535844&&_0x5d3ef0[_0x2ae5d4(0x386)](_0x374f87(_0x535844));}0x0!==_0x5d3ef0[_0x2ae5d4(0x1e7)]&&_0x3f94c0(_0x5d3ef0,_0x26a1c7);}}async[_0x22e38d(0x30b)](_0x415dc2){const _0x156795=_0x22e38d;await this[_0x156795(0x4c8)][_0x156795(0x5ba)](_0x415dc2);const _0x193a09=await this['connection'][_0x156795(0x30b)]();return await this['connection'][_0x156795(0x2ec)](_0x193a09),_0x193a09;}[_0x22e38d(0x381)](_0x4ece1e){const _0x90ebb9=_0x22e38d;return _0x2abff3(this[_0x90ebb9(0x4c8)][_0x90ebb9(0x381)](_0x4ece1e));}async[_0x22e38d(0x526)](_0x356359){const _0x4c6796=_0x22e38d,_0x45969c={};_0x356359?.[_0x4c6796(0x68d)]&&(_0x45969c['iceRestart']=!0x0);const _0x5c13bf=await this[_0x4c6796(0x4c8)][_0x4c6796(0x526)](_0x45969c);return await this[_0x4c6796(0x4c8)][_0x4c6796(0x2ec)](_0x5c13bf),_0x5c13bf;}async[_0x22e38d(0x125)](_0x58fb81,_0x233f52){const _0x2c8564=_0x22e38d;await this[_0x2c8564(0x4c8)][_0x2c8564(0x5ba)](_0x58fb81),this[_0x2c8564(0x4c8)][_0x2c8564(0x4ba)]||(this[_0x2c8564(0x4c8)][_0x2c8564(0x4ba)]=_0x233f52);}[_0x22e38d(0x45a)](_0x26dc99){const _0x12f6d6=_0x22e38d;this[_0x12f6d6(0x4c8)]['removeTrack'](_0x26dc99);}async[_0x22e38d(0x5bc)](_0x1ab739,_0x4c4085){const _0x295675=_0x22e38d,_0x3a02e4=_0x4c4085;await _0x3a02e4['replaceTrack'](_0x1ab739),this[_0x295675(0x4c8)][_0x295675(0x3dd)]()[_0x295675(0x237)](_0x51b9e4=>{const _0x325df2=_0x295675;_0x51b9e4['sender']===_0x3a02e4&&(_0x51b9e4[_0x325df2(0x50c)]=_0x325df2(0x5ec));});}[_0x22e38d(0x263)](){const _0x3aa92a=_0x22e38d;this[_0x3aa92a(0x4c8)][_0x3aa92a(0x373)]();}[_0x22e38d(0x20a)](_0x28a087,_0x530510,_0x229897,_0x22aa2d,_0x309e8b){const _0x22ca3a=_0x22e38d,_0x20ac6e=_0x28a087,_0x3a29ff=_0x20ac6e['getParameters']();_0x3a29ff&&(_0x3a29ff[_0x22ca3a(0x1ad)][_0x22ca3a(0x237)](_0x1e8d84=>{const _0xf943d1=_0x22ca3a;_0x1e8d84[_0xf943d1(0x42d)]=_0x530510,_0x1e8d84[_0xf943d1(0x3e6)]=_0x229897,_0x1e8d84[_0xf943d1(0x323)]=_0x22aa2d,_0x1e8d84['priority']=function(_0x21c063){const _0x4273bd=_0xf943d1;switch(_0x21c063){case _0xa67d19['Low']:return _0x4273bd(0x39d);case _0xa67d19[_0x4273bd(0x654)]:return _0x4273bd(0x4bb);default:return _0x4273bd(0x3c4);}}(_0x309e8b);}),_0x20ac6e[_0x22ca3a(0x4ef)](_0x3a29ff)['catch'](()=>{}));}}function _0x2abff3(_0x5b5168){return{get 'bufferedAmount'(){const _0x3a1b27=a0_0x104e;return _0x5b5168[_0x3a1b27(0x2c0)];},get 'bufferedAmountLowThreshold'(){const _0x35121a=a0_0x104e;return _0x5b5168[_0x35121a(0x5f6)];},get 'state'(){const _0x10d09e=a0_0x104e;return _0x5b5168[_0x10d09e(0x5bd)];},set 'bufferedAmountLowThreshold'(_0x457814){const _0x57747a=a0_0x104e;_0x5b5168[_0x57747a(0x5f6)]=_0x457814;},set 'onBufferedAmountLow'(_0x3d2b5f){const _0x3df874=a0_0x104e;_0x5b5168[_0x3df874(0x23f)]=_0x3d2b5f;},set 'onClose'(_0x33192b){_0x5b5168['onclose']=_0x33192b;},set 'onMessage'(_0x3af52a){_0x5b5168['onmessage']=_0x3af52a;},'close'(){const _0x316f81=a0_0x104e;_0x5b5168[_0x316f81(0x13a)]();},'send'(_0x2148b9){const _0x1e49e1=a0_0x104e;ArrayBuffer,_0x5b5168[_0x1e49e1(0x4f9)](_0x2148b9);}};}function _0x374f87(_0x17cbef){const _0x34060f=[];return _0x17cbef['forEach'](_0x2f4f89=>{const _0x1a8252=a0_0x104e;_0x34060f[_0x1a8252(0x386)](_0x2f4f89);}),_0x34060f;}class _0x58f07f{static [_0x22e38d(0x688)];[_0x22e38d(0x3fc)];[_0x22e38d(0x327)];[_0x22e38d(0x3ec)];['configs'];[_0x22e38d(0x3f0)];constructor(_0xbf987,_0x5c3521,_0x4f1969){const _0x3d89d3=_0x22e38d;this[_0x3d89d3(0x327)]=_0xbf987,this[_0x3d89d3(0x42c)]=_0x5c3521,this[_0x3d89d3(0x3fc)]=new _0x266055(this['vendorId']),this[_0x3d89d3(0x3ec)]={'audioContext':_0x4f1969?.[_0x3d89d3(0x1ba)]??new AudioContext(),'maxOutgoingSubscriptions':_0x4f1969?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x4f1969?.[_0x3d89d3(0x292)]??0x3,'maxConnections':_0x4f1969?.[_0x3d89d3(0x43d)]??(_0x4f1969?.[_0x3d89d3(0x292)]&&0x4*_0x4f1969[_0x3d89d3(0x292)])??0xc,'maxDistance':_0x4f1969?.[_0x3d89d3(0x27d)]??0xa,'maxFps':_0x4f1969?.[_0x3d89d3(0x115)]??0x18,'maxBpp':_0x4f1969?.[_0x3d89d3(0x59a)]??0.12,'objectStoreConnector':_0x4f1969?.[_0x3d89d3(0x2dc)]??_0x891828[_0x3d89d3(0x432)],'keyValueDatabaseConnector':_0x4f1969?.['keyValueDatabaseConnector']??_0x4b6370[_0x3d89d3(0x620)],'peerConnectionConnector':_0x4f1969?.[_0x3d89d3(0x47d)]??_0x21ccfd},_0x4f1969?.[_0x3d89d3(0x46a)]&&_0x30870d[_0x3d89d3(0x4f2)](this['options'][_0x3d89d3(0x1ba)]),_0x2858e9[_0x3d89d3(0x1c0)](this[_0x3d89d3(0x327)]),_0x4f1969?.[_0x3d89d3(0x57a)]&&_0x2858e9[_0x3d89d3(0x33e)](_0x4f1969[_0x3d89d3(0x57a)]),_0x118f7d['initialize']();}static async[_0x22e38d(0x600)](_0x1b8456,_0x1d1422,_0x475302){const _0x4627ae=_0x22e38d,_0x3cbc82=await this[_0x4627ae(0x66d)](_0x1b8456,_0x1d1422);return _0x58f07f[_0x4627ae(0x688)]||(_0x58f07f['instance']=new _0x58f07f(_0x1b8456,_0x3cbc82,_0x475302)),{'authenticateUser':_0x58f07f[_0x4627ae(0x688)][_0x4627ae(0x39e)][_0x4627ae(0x1af)](_0x58f07f[_0x4627ae(0x688)]),'joinCluster':_0x58f07f['instance']['joinCluster']['bind'](_0x58f07f[_0x4627ae(0x688)])};}static async[_0x22e38d(0x372)](){const _0x28e5f4=_0x22e38d;return _0x171347[_0x28e5f4(0x308)]();}static async[_0x22e38d(0x66d)](_0x36723a,_0x44f3d0){const _0x3297dc=_0x22e38d,_0x240688=(await(0x0,_0x309028[_0x3297dc(0x4fa)])(_0x171347['getFunctions'](),_0x3297dc(0x1a2))({'vendorId':_0x36723a,'accessToken':_0x44f3d0}))['data'];return _0x240688[_0x3297dc(0x3e7)]||(_0x240688['features']=[]),_0x240688;}async[_0x22e38d(0x39e)](_0x2b381c){const _0x27b0ab=_0x22e38d;await this[_0x27b0ab(0x3fc)][_0x27b0ab(0x23b)](_0x2b381c);const _0x656b2b=new _0x7c109d(_0x2b381c['id'],_0x2b381c[_0x27b0ab(0x543)],_0x2b381c[_0x27b0ab(0x674)]);return this[_0x27b0ab(0x3f0)]={'user':_0x656b2b},_0x118f7d[_0x27b0ab(0x440)](_0x656b2b['getId']()),{'getId':_0x656b2b[_0x27b0ab(0x1be)][_0x27b0ab(0x1af)](_0x656b2b),'getDisplayName':_0x656b2b[_0x27b0ab(0x349)][_0x27b0ab(0x1af)](_0x656b2b),'getEmail':_0x656b2b[_0x27b0ab(0x6bf)][_0x27b0ab(0x1af)](_0x656b2b),'setDisplayName':_0x656b2b[_0x27b0ab(0x17b)][_0x27b0ab(0x1af)](_0x656b2b),'setEmail':_0x656b2b[_0x27b0ab(0x6c6)]['bind'](_0x656b2b)};}async['joinCluster'](_0x684781){const _0x4e8fff=_0x22e38d;if(!this[_0x4e8fff(0x3f0)])throw new _0x36acfc(_0xf36e85[_0x4e8fff(0x6bd)],_0x4e8fff(0x614));const _0x5537c2=new _0x1e37ea(this['vendorId'],_0x684781,this[_0x4e8fff(0x3f0)][_0x4e8fff(0x3fb)],this[_0x4e8fff(0x3fc)],this[_0x4e8fff(0x3ec)],this[_0x4e8fff(0x42c)]);return await _0x5537c2['join'](),_0x2858e9[_0x4e8fff(0x4cc)]('join-cluster',{'clusterId':_0x684781,'userId':this[_0x4e8fff(0x3f0)]['user'][_0x4e8fff(0x1be)]()}),{'leave':_0x5537c2[_0x4e8fff(0x52b)][_0x4e8fff(0x1af)](_0x5537c2),'getUser':_0x5537c2['getUser'][_0x4e8fff(0x1af)](_0x5537c2),'openPubSubTopic':_0x5537c2[_0x4e8fff(0x283)]['bind'](_0x5537c2),'openObjectStoreBucket':_0x5537c2[_0x4e8fff(0x3b8)][_0x4e8fff(0x1af)](_0x5537c2),'openKeyValueDatabase':_0x5537c2[_0x4e8fff(0x380)][_0x4e8fff(0x1af)](_0x5537c2),'publishLocalMediaStream':_0x5537c2[_0x4e8fff(0x28c)]['bind'](_0x5537c2),'publishLocalDynamicMediaStream':_0x5537c2[_0x4e8fff(0x357)][_0x4e8fff(0x1af)](_0x5537c2),'getPubSubTopics':_0x5537c2['getPubSubTopics']['bind'](_0x5537c2),'getObjectStoreBuckets':_0x5537c2['getObjectStoreBuckets'][_0x4e8fff(0x1af)](_0x5537c2),'getKeyValueDatabases':_0x5537c2[_0x4e8fff(0x4bc)][_0x4e8fff(0x1af)](_0x5537c2),'getLocalMediaStreams':_0x5537c2[_0x4e8fff(0x22b)][_0x4e8fff(0x1af)](_0x5537c2),'getRemoteMediaStreams':_0x5537c2[_0x4e8fff(0x1bb)][_0x4e8fff(0x1af)](_0x5537c2),'getRemoteUsers':_0x5537c2['getRemoteUsers'][_0x4e8fff(0x1af)](_0x5537c2),'on':_0x5537c2['on']['bind'](_0x5537c2),'off':_0x5537c2['off'][_0x4e8fff(0x1af)](_0x5537c2)};}}})()),_0x20a7e2;})())));