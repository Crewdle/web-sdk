function a0_0x4258(_0x19c00d,_0x4171c9){const _0xdc08d3=a0_0xdc08();return a0_0x4258=function(_0x42589d,_0x31e3c9){_0x42589d=_0x42589d-0x160;let _0x43c50e=_0xdc08d3[_0x42589d];return _0x43c50e;},a0_0x4258(_0x19c00d,_0x4171c9);}function a0_0xdc08(){const _0x25e801=['index','ObjectStoreNameNotString','outgoingStreams','.info/serverTimeOffset','sendBid','isNeedRestart','Update','searchOnGoogle','logServiceEvent','logBatch','inactive','getPubSubTopics','Cannot\x20publish\x20file:\x20','GenerativeAILabelConflict','.hbs','startBidResponseHandling','receiverCurrentBytes','Pool','Request','setEmail','local-media-stream-no-audio-context','commitBatch','\x20-\x20','detectionManager','externalStorageConnectionIds','accessToken','upgradeTimeout','threadId','text/','\x20deleted.','checkExistingPendingFileContent','setupRenderElement','us-east-1','debug','RemoteRemediation','KeyValueDatabase','Receiving\x20\x27','clearConnectionTimeout','authenticateAgent','handleChunkMessage','reject','key-value-database-transaction-value-not-set','trace','stun:','checkWebGL','getContext','firebase-disconnect','isArray','object-store-name-not-string','handleConnectionSuccess','ceil','replaceTrack','sourceUrl','openGenerativeAIWorker','failJob','connections','ObjectStoreStats','Node\x20already\x20exists.','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','.vue','node-does-not-exist','deleteFileChunks','modelStore',',\x20Transactions:\x20','getRank','includes','getQuery','from','VectorDatabaseDoesNotExist','Graph\x20database\x20creation\x20failed.','external-storage-connection-does-not-exist','RetrieveTrace','incomingTopic','syncTimeout','remote-stream-does-not-exist','addCluster','restartTimeout','supported','clusterEventEmitter','Opened\x20key\x20value\x20database','registerDestination','externalStores','web-scraper-raw','logWaitTime','User','receiverConnection','generativeAIWorkerConnectors','connection-not-connected','UnsubscribeMediaStreamdiaStream','byteLength','GraphDatabase\x20not\x20found','waitSuccess','clientStream','addDoc','getVectorDatabases','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','Result','unsubscribeListener','missing-datachannel','Mistlet\x20capacity\x20report\x20not\x20set.','Boolean','createBatch','batchQueue','collectStats','getTrack','publishNodeJoin','jobQueue','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','deletePendingFile','/capacities','CloseKeyValueDatabase','/nodes','removeListener','4814384CdzvWx','videoWidth','remoteMediaStreams','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','\x20must\x20be\x20a\x20string','getGenerativeAIWorkers','handshakeCandidates','getConfigs','RemoteMediaStreamAlreadyExists','parse','right','isNodeReady','title','handleSubscriptionSystemEvents','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','Problem','.mustache','clusters','folder-create','PromptFunctionParamsType','file-write','externalStorageConnectors','GraphSearch','signalingServer','operations','waitSendBuffer','\x27\x20payload:','pendingHandshakeCandidates','SenderPeerConnection.send','MediaStreamUnavailable','instantiateTransactionTable','Remediation','getContent','getIsLoaded','notifyObjectStoreOfNodeJoin','GenerativeAIContextStats','handleObjectDelete','OutgoingMediaStreamNoTopic','Reranker','getKeyValueDatabase','stringify','SubscribeMediaStream','/nodes/','internalProcessJobStream','handleHandshake','Disconnect','value','padStart','resume','KeyValueDatabaseTableDoesNotExist','Setting\x20context\x20for\x20agent\x20skill\x20block',':\x0a\x0a','layout','Failed\x20to\x20commit\x20batch\x20after\x20retries:','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','No\x20async\x20endpoint\x20URL','PubSubTopic\x20not\x20found','Database\x20already\x20exists','getRemoteMediaStream','blocks','.conf','streams','keyValueDatabases','maxTokens','NodeManager\x20-\x20NodeLeave','minThreshold','modelId','sendIceCandidates','sourceId','match','GenerativeAIContextJobTimeout','__esModule','collectSendersStats','getPartsFromSubscription','generateClient','Transaction','Optimization','Database\x20does\x20not\x20exist','createConnection','debounceReadyTimeout','cores','object-store-invalid-payload','Text','Completed','has','\x27\x20from\x20','lastUpdated','owner','nodeUpdate','between','messageCallback','JobDispatcher:\x20Received\x20job','cost','\x27\x20reserved','createDataChannel','\x20attempts:','ExternalStorageConnectionAlreadyExists','generative-ai-worker-creation-failed','DataStream\x20send','Cannot\x20get\x20size\x20of\x20path:\x20','rating','checkAudioContext','totalNodes','.yml','Model\x20store\x20not\x20initialized','mmr','web-scraper','chosenAnswers','listChanges','registerCluster','bytesReceived','connection','remediationManager','sort','bid','\x27\x20to\x20','endpoint','logPropagateSystemEvent','undefined','keys','graphService','instructions','GenerativeAIWorkerMissingConnector','direction','localNode','MissingSystemTopic','Accepted','setDoc','getEstimatedTimestamp','hasBufferedData','fromEntries','lastCapacityReport','answerContentAvailable','URL\x20is\x20required','rate','CrewdleConnectionGroup','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','394xAXncc','content','setTimestamp','Invalid\x20value.\x20Property\x20\x27','removeJobDispatcher','openVectorDatabase','getAncestors','JobDispatcherObserverNotFound','handleSystemEvents','InvalidSubscriber','time_per_frame','createJob','JobWorkerInvalidType','invalid-subscription','readyPromises','logDataSent','trackChanges','pub-sub-topic-already-subscribed','trackEndedListeners','closeTrace','\x20for\x20','default','bufferedChunks','shouldContinuePropagation','loadFromDisk','logs','WorkflowInvalidBlockType','JobDispatcherDoesNotExist','answer','sendTransactionsValue\x20-\x20value\x20not\x20found','\x20writes\x20from\x20','heartbeatUnsubscriber','handleDisconnect','processList','output','trackCallback','currentFrames','responseTimeout','ExternalStorageConnection\x20not\x20found','.twig','handleSubscriptionProvideMediaStream','optimizationLayers','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','queryOrPrompt','\x20finalized.','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','joinCluster','timeReceiving','getOrResetPendingFileTimeout','audio','NodeType','values','.djt','KeyValueDatabaseCreationFailed','removeRemoteConnection','4642172dCwpRm','JobDispatcherJobNotFound','expectedTransactions','removeRemoteNode','isSyncing','Cannot\x20publish\x20payload:\x20','join-cluster','setSenderTimestamp','receiverPreviousTimestamp','PubSubTopicDoesNotExist','debounceAppendLog','addRemoteNode','handleNodeJoinNeedPublishedStream','manageBufferedChunks','min','Object\x20store\x20not\x20synced.','addEdge','SubscriptionRequestNoAnswer','Local\x20MediaStream\x20already\x20exists','Knowledge','getStatus','Additional\x20context:\x0a','storage','statsReport','Bitrate','pub-sub-topic-already-exists','asyncEndpointUrl','sdkCreateToken','messageUnsubscriber','contentMediator','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','Signaling','processTransactionsToComputeMMR','engineType','isOffer','.gguf','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','\x20created\x20and\x20dispatched.','setDisplayName','externalStorageConnections','ranges','High','addVideoTrack','DEBUG\x20-\x20','Subject','handshakeDebounce','contextOutputVariable','Consuming\x20buffered\x20event','createTopic','shift','name','mode','GenerativeAIContextJobAlreadyConsumed','WorkflowTrace','Subscription\x20request\x20failed.','auth','Handshake','transactionIds','GenerativeAIContext','.pdf','systemTopic','Sending\x20\x27','getMaxConnections','getLocalId','checkWebRTC','.handlebars','Error\x20fetching\x20URL','Sender','availableTrackKinds','CloseVectorDatabase','mergeParts','DataChannel\x20buffer\x20is\x20full.','targetId','appsync-close','Could\x20not\x20open\x20trace','url','CloseMediaStream','senderTotalMessages','getPeakNode','IncomingSubscription','Node','.exs','SystemStats','Data','wait','minRelevance','Partial','catch','codes','syncResolve','Online','ExternalStorageInvalidPath','handleOptimizationConnectionSuccess','KeyValueDatabaseContentAvailable','JobStream','forEach','taskType','KeyValueDatabaseInvalidValue','timePerFrame','queueLength','Info','currentTimestamp','missing-system-topic','syncedFileExists','enabledChannels','currentVersion','objectToArrayBuffer','getVideoTracks','external-storage-connectors-missing','.cs','user-join','connectionManager','Pending','VectorDatabaseCreationFailed','sendFileRequestPayload','getSubscriptionInfo','Job\x20with\x20id\x20','all','json','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','contentQueue','hasRemoteNode','map','commitType','prompts','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','/resources/generative-ai-workflow/items/','clientWidth','problemType','handleSubscriptionNeedMediaStream','getRemoteNodes','Error\x20processing\x20content\x20queue','ObjectStore','RequestFileWrite','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','getGrammars','unsubscribeTrackEndedListener','scheduleTime','getTransactionFromTableWriteEvent','processBatch','calculateArrayBufferSize','jobObservers','.swift','clear','unregisterPublisher','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','218394OHNKqz','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','priority','packetsReceived','external-storage-connection-already-subscribed','publishNodeLeave','Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.','connectionGroup','getId','KeyValueDatabaseStats','.vb','UpdateMediaStream','key-value-database-not-open','GenerativeAIWorker:\x20Models','isResultResponse','remove','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','InternalSDKError','mediaUnsubscribers','onDisconnect','Remote\x20MediaStream\x20already\x20exists','fileChunks','ExecuteCode','candidate','\x0a\x20\x20===\x20Total\x20Nodes:\x20','Chosen\x20answer','absolutePathName','objectStores','streamId','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','updateDebounce','.ipynb','agent','.sql','.erb','NeedRestart','reduce','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','NodeTypeNotSupported','mediaDevices','handleSubscriptionSubscribeMediaStream','endsWith','logMMRRebuild','ReceiverPeerConnection.onMessage','loggingDb','handleSubscribeMediaStream','.scala','CloseObjectStoreBucket','tracks','minConnections','timesCalled','VectorDatabase\x20not\x20found','logger','Cannot\x20unpublish\x20object\x20at\x20','validateQuery','object-storage','removeGraphDatabase','ingestBlocks','client','head','processContentQueue','processOutboundReports','senderCurrentTimestamp','Delete','NeedMediaStream','RelationExtractor','subscriptionRequestTimeouts','createJobDispatcher','key-value-database-index-not-found','createRemoteNode','handleSubscriptionRestartNeedMediaStream','status','outputTokens','created','setOnTableWriteHandler','Node\x20is\x20not\x20an\x20agent','roundTripTime','searchConnector','json_arr','objectStorageBuckets','LoadKnowledgeFunction','.cfg','logConnectionState','objectStoreConnector','pendingFilesSyncing','ownerId','maxFramerate','Connected','currentBytes','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','handleLocalTrackFailure','framerate','LocalMediaStreamAlreadyExists','Downgrade','waitForArrayBufferSize','currentBatch','transactionsToSync','SHA-256','createRemoteMediaStream','getTotalBytes','resolutionScale','removeLocalMediaStream','publishUserUpdate','More\x20content\x20available\x20on\x20page\x20','entities','key-value-database-already-exists','remoteNodes','PubSubTopicAlreadyExists','CloseExternalStorageConnection','tail','handleRemoteTrackFailure','validateValue','generative-ai-context-does-not-exist','startTracing','FileDelete','onConfigurationChange','knowledge','getReceiverBitrate','manageOptimization','receiverStreams','{\x20\x22status\x22:\x20\x22success\x22\x20}','handleSubscriptionUnsubscribeMediaStream','workflow-invalid-block-type','AudioVolume','messagesReceived','ExternalStorageUpload','oncloseTimeout','callback','local-media-stream-track-fail','EntityExtractor','applyRemediation','authNode','KeyValueDatabaseInvalidQuery','Error\x20executing\x20code','splice','getMediaStream','dataStores','addEventListener','bind','registerPublisher','cachedRoot','createGenerativeAIWorker','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','Remote\x20stream\x20does\x20not\x20exist.','generative-ai-label-conflict','InvalidPublisher','handleSubscriptionMediaStreamUnavailable','loadLocalContent','jobId','iceServers','isJobAttribution','application/octet-stream','content-unpublish-media','writeFile','isConnected','Cannot\x20find\x20External\x20Storage\x20connection:\x20','rejectReady','node','Setting\x20context\x20for\x20agent\x20block','processInboundReports','discoveryService','google','maxLayer','isSync','statusText','subject','Ingest','vectors','.go','IntermediateOutput','connectAgent','setPendingFileSyncingPayload','Missing\x20remote\x20node\x20or\x20rank','InvalidDataChannel','Internal\x20unknown\x20error:\x20','GenerativeAIWorker:\x20Opened','Generative\x20AI\x20context\x20job\x20timeout.','connectionConstructor','getAvailableTrackKinds','RemoteMediaStreamTrackFail','maxBitrate','::￿','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','context','outgoing-stream-no-topic','.rb','open','AI\x20Worker\x20already\x20exists','limit','logSupport','Subscription\x20request\x20has\x20not\x20been\x20answered.','authenticateUser','some','connectionPool','errorDetails','statsManager','split','ObjectStoreAlreadyExists','graph-database-name-not-string','getShareableStreamId','getResolutionScale','not-resolved','pendingFilesRename','srcObject','toLowerCase','addNode','jobBids','Stream\x20already\x20exists','retryQueues','number','removeTrackListeners','processReceivedTransactions','LocalMediaStreamDoesNotExist','getDistance','gatheringState','Attribution','setParams','eventEmitter','clusters/','defineProperty','logDataReceived','PubSub','width','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','deployedVersion','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','getMaxDistance','region','Missing\x20answerer\x20id\x20on\x20request\x20answer','Error\x20resolving\x20readyPromises:','.tcl','Context','loadExternalContent','handleDetectionSystemEvents','\x0a\x20===\x20Wait\x20Time:\x20','isMediaSource','getCoresFromCapacityReport','Received\x20event\x20on\x20cluster','setRank','deleteRemoteNode','KeyValueDatabaseIndexNotFound','deleteObject','addPendingHandshakeCandidate','join','asyncEndpointMethod','Internal\x20SDK\x20error:\x20','lastTransactionId','GenerativeAIRatingStatus','verb','queues','object-store-cannot-write-transaction','Memory\x20Usage\x20at\x20','Restart\x20NeedMediaStream','\x20failed.\x20Retrying...','database','/resources/generative-ai-collection/items','temperature','Agent\x20group\x20not\x20found','UnsubscribeMediaStream','forceLog','getTable','removeJobWorker','GraphDatabaseNameNotString','connectionTimeout','clusterKey','KeyValueDatabaseNotOpen','performCalculation','processRemoteInboundReport','\x27\x20is\x20not\x20ready','eventListener','contentManager','timeSending','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','GraphDatabaseStats','contentRequestSent','Cluster','then','getAuth','senderPreviousTimestamp','removeObjectStore','.tsx','transactionHashMap','getProviderId','lastExecuted','discoveryUnsubscriber','height','.pl','isValidMediaSubscriptionParams','Workflow','Support:\x20','transaction','getIdToken','GenerativeAIContextInvalidPartialResult','Entity','File','Model\x20not\x20found:\x20','Received\x20track','saveToDisk','closeTopic','decode','maxFps','receiverCurrentTimestamp','addIssue','joinedClusters','PublishMediaStream','KeyValueDatabase\x20-\x20Sync\x20completed','publishFile','utf8','readyDebounce','CannotProvideMediaStream','bandwidth.bitrate','local-media-stream-already-exists','every','addMessage','/transactions/','handleContentUnpublishMediaStream','syncPendingFiles','bytesSent','drawImage','debounceReady','createObjectStoreBucket','An\x20error\x20occurred','arrayBufferToObject','getUserMedia','accumulated','decodeJWT','getDoc','send\x20error\x20on\x20','true','sampleRate','asyncHeaders','UnpublishMediaStream','Error','parseWorkflowDocument','statsReporting','Job\x20service\x20observer\x20not\x20found.','Processing\x20agent\x20block:\x20','success','.ts','vector-database-missing-connector','senderBitrate','getDataCollections','subscription','graphDatabases','GetDate','processServiceReport','path','SyncComplete','Data\x20Received','CPUCycle','Invalid\x20where\x20clause','systemMessages','pubsub','Rating','GetContextQuery','snippet','rank','stats','tableUnsubscriber','api','attributes','updateLastUpdated','addConnection','getChannelData','transactionQueue','currentDistance','peer-connection-invalid-destination','KeyValueDatabaseTransactionTableNotInitialized','checkMediaRecording','crewdle-sdk.firebaseapp.com','processDataChannelReport','.crewdle-last-transaction','SearchGoogle','missing-incoming-connection','dbKey','Rejected','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','object-store-invalid-state','Support','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Error\x20loading\x20existing\x20content','completed','totalDecodeTime','external-storage-invalid-path','Move','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','answers','modelName','job-dispatcher-does-not-exist','delete','GenerativeAIContextAlreadyExists','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','vectorDatabaseConnector','retryQueue','listenerUnsubscribers','groupId','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','complete','System','job-dispatcher-already-exists','openJobDispatcher','GenerativeAIWorkerModelSyncError','evaluateProccessedJob','_ready','getWorkflowModels','ObjectStoreDoesNotExist','Parameter\x20','getBitrate','notifyCluster','handleProblem','No\x20connector\x20found\x20for\x20model','Debug','rootComputationPromise','handleNodeDisconnect','addReservedTables','mediator','ExecuteAgent','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','onConnectionStateChange','evaluateBids','isWhereBetween','displayName','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','handleAnswer','version','appendTransactionAndUpdateHashMap','subscriptionRequestsQueue','Processing','ObjectStoreInvalidPath','parameters','toString','cancel','openTrace','maxDepth','createElement','key-value-database-invalid-layout','setInternalId','\x20MB','appendTransaction','executeJavascriptCodeSnippet','sync','FinalOutput','job-dispatcher-job-not-found','ref','noun','providerListener','getSupportedContentTypes','validateAccess','getJobWorkers','CONNECTION_STATE_CHANGE','getPeaks','durationTime','Invalid\x20query','NodeLeave','compareTransactions','text/plain','Error\x20searching','publishSyncCompleted','tables','Cannot\x20list\x20directory:\x20','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','payload','getAgents','PayloadAction','lastProcessRank','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','Job\x20service\x20creation\x20failed.','remediations','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','debounceStats','handleNodeSystemEvents','emit','setProviderId','SubscriptionRequestFailed','threshold','transformations','Hash\x20computation\x20failed,\x20retrying...','removeKeyValueDatabase','senderStreams','KeyValueDatabaseAlreadyExists','remoteConnections','messageBuffer','ner','ratePrompt','crewdle-sdk.appspot.com','getFunctions','AgentSkill','processAddContent','desc','key-value-database-peak-not-found','Count','List','waitConnected','timestamp','crewdleSDKDisableLogging','traceLevel','jobs','FPS','setupConnectionEvents','localMediaStreams','ccc','KeyValueDatabaseInvalidLayout','setOnDisconnectHandler','observer','GenerativeAIContextJobFailed','getDisplayName','getShareableStream','shouldProcessTransaction','filteredDestinationIds','Warning','splitParts','openKeyValueDatabase','findNextNodeId','.sh','transactionsToAppend','updatePropagationProperties','Jitter','logEvent','isProduction','.ppt','subscribeToExternalContent','getResolution','removePubSubTopic','Upgrade','Generative\x20AI\x20context\x20job\x20failed.','downloadDocument','setupResizeHandler','message','logRaw','setLocalRank','createReceiverConnection','260qdAncj','capacityReporter','.dart','text','syncTransactions','slice','audioSource','\x20after\x20','key-value-database-does-not-exist','SubscriptionRequestDoesNotExist','removeContent','sendRequest','Connection\x20already\x20exists','logInitialMMR','.lua','initializeSystemTopic','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','setScheduleTime','closeSubscription','chunk','previousTimestamp','Invalid\x20subscription.','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','getReport','Send\x20request','loggingCycle','queries','entries','indexes','documentParserConnector','getConnection','JobWorker:\x20Received\x20job','Job\x20Worker\x20does\x20not\x20exist','features','Detection','send','canProvideResolution','uid','cpu.fps','checkAudioOutput','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','publish','ExternalStorageConnectionDoesNotExist','issue','cluster-already-joined','handleObjectMove','writes','vectorDatabases','Logging\x20database\x20not\x20initialized','.bat','outgoingTopic','connecting','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','Failed\x20to\x20get\x20file','NodeManager\x20-\x20NodeUpdate','disableIntervalHack','restartHandshake','systemTopicUnsubscribe','isWhereValues','\x20ms\x0a','hasMessage','concat','notifyJoin','getVectorDatabase','removeRemoteMediaStream','getSenderBitrate','PubSubTopicStats','Connection','KeyValueDatabaseRequestTransactionsValue','replace','Error\x20opening\x20trace','processReceiverReport','GraphDatabaseDoesNotExist','captureStream','checkSyncComplete','SubscriptionRequestInProgress','JobWorkerCreationFailed','Stats','getPubSubTopic','subscribedTracks','Missing\x20external\x20storage\x20connector','.liquid','isLoaded','ScreenSharing','JobType','jitter','NodeJoin','unshift','getInternalTrackParams','batchTimeout','getJob','stop','.kt','request-file-write','openPubSubTopic','createFolder','PromptRating','onBufferedAmountLow','pub-sub-topic-name-not-string','objectStoreId','\x20does\x20not\x20exists','crewdleSDKEnableLogging','notifyObjectStoreOfNodeLeave','cleanOldSubscription','debounceRebuildMMRWithTransaction','ObjectKind','handleFolderCreate','supportsContentType','ConnectionState','Job\x20Dispatcher\x20already\x20exists','ClosePubSubTopic','DataStream\x20onMessage','\x0a\x0a`Getting\x20current\x20date\x20and\x20time`\x0a\x0a','getTracks','11042395XgYZdU','setIsLoaded','logging-db-','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','accumulateResult','canAddCandidates','removeVectorDatabase','job-worker-already-exists','support','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','stopConnection','sendTransactionsValue','hashNodes','job-dispatcher-job-exists','findNewMediaSubscription','Operations:','registerSource','setupListeners','key-value-database','job-worker-creation-failed','subscribeToJobs','externalStorages','createExternalStorageConnection','count','storageType','CrewdleSenderConnection\x20createOffer','orderBy','Orchestrator\x20handleSystemEvents','createBatchOperation','-leave','getDataBucketIds','agent-config-changed','addContent','setPriority','debounceProcessRank','object','filesSynced','Data\x20Sent','debugEnabled','agent-join','getExternalStorageConnections','Answer','retrieveBlocks','\x20completed.','loggingDatabaseConnector','audioContext','topK','addAudioTrack','createLocalMediaStream','moveObject','processLocalReport','remote-connection-exists','JobContext','nodesConnected','getAudioVideoDelay','load','object-store-invalid-path','payloadType','configs','setupStatsCollection','.jl','Resolution','generative-ai-context-creation-failed','sender-send-message','globalObject','.crewdle-layout','keyValueDatabaseConnector','Received\x20ContentSynchronized\x20from\x20','endpointMethod','contentSize','exists','objectRequests','ExternalStorageConnectionAlreadySubscribed','stream','models','Object\x20store\x20is\x20not\x20in\x20sync','relations','getCurrentVersion','unsubscribeHandler','GenerativeAIModelInputType','toStringTag','RemoteAdd','FolderCreate','KeyValueDatabasePeakNotFound','ready','offset','dataTopics','waitAsync','openGenerativeAIContext','statsCollection','topicLabel','getSubscribedTracks','origin','IDBDatabaseConnector','clearWaitSuccess','sendAction','checksum','createBuffer','reads','job-dispatcher-invalid-payload','event','getSimilarity','play','maxDistance','getBid','agentConfig','KeyValueDatabaseRequestPeakTransactions','Error\x20initializing\x20logging\x20database\x20with\x20\x27','OutgoingSubscription','createGraphDatabase','FeatureNotEnabled','resolveReady','handleUnpublishMediaStream','1714grFkJL','.yaml','ObjectStorageBucket','Time','Agent','STVolatility','connectionStateListener','contentRect','handleContentUnsubscribeMediaStream','Failed\x20to\x20send\x20job\x20','VectorDatabaseMissingConnector','tableLayout','FileStatus','Code','webgl','collectTransactionsFromNode','Error\x20processing\x20retrieve','receivers','end','getJobs','removeNode','AI\x20worker\x20creation\x20failed.','getEnabledChannels','changesUnsubscriber','CustomSkill','setConnectionType','Medium','node-type-required','syncContent','jobPhase','isBidResponse','/objectstores/','cpu.time_per_frame','loadEnabledChannels','receiverTotalMessages','clockSkew','ConnectionNotConnected','dispatchEvent','state','I\x20am\x20done','AppSync\x20connection\x20not\x20ready','Skill','clearRestartTimeout','RemoteMediaStreamDoesNotExist','token','getGenerativeAIContexts','getLocalNode','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','disconnectCallback','getWorkflow','createPubSubTopic','relation','GenerativeAIWorkerAlreadyExists','\x27\x20in\x20table\x20\x27','Restart','senders','Initial\x20MMR\x20built\x20with','boolean','destination','word-splitter','.clj','Opened\x20graph\x20database','getLabel','canRestartHandshake','Setting\x20context\x20for\x20custom\x20skill\x20block','Folder','isAvailable','setCurrentVersion','generative-ai-worker-model-sync-error','handleNodeUpdate','vector-database-does-not-exist','SentenceSplitter','setReceiverBytes','onHandshakeStateChange','Wait','where','createLocalDynamicMediaStream','task','NodeTypeRequired','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','.txt','string','getMilliseconds','handleFileWrite','openJobWorker','ConnectionNoRetryQueue','headers','ExternalStorageStats','Vector','bitrate','reportMetric','receiver','onUnregisterPublisher','dataChannel','Media','topics','getName','memoryUsage','vector','sendChunked','ExternalStorage','syncTransactionsWritten','getGraphDatabases','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','/stats','RequestAccepted','listenerUnsubscriber','insert','logLevel','.hs','handleContentCloseMediaStream','component','publishLocalDynamicMediaStream','Invalid\x20object\x20store\x20state.','setTimeout','leave','Start\x20Ingestion','chunksReceived','\x0a\x20===\x20Current\x20MMR\x20Root','Retrieve','getRemoteId','addCandidate','publishSystemMessage','Database\x20Opened','unsubscribe','\x27:\x20missing\x20or\x20invalid\x20keyPath','KeyValueDatabaseSendTransactions','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','getAudioTracks','ObjectStoreInvalidPayload','listener','clearSubscriptionRequestTimeout','createSenderConnection','counter','call','handleError','getEntities','\x0a\x20===\x20Synchronization\x20Time:\x20','/resources/generative-ai-model/items','Opened\x20vector\x20database','NodeNotAuthenticated','4885ZINosc','handleUnsubscribeMediaStream','parseWorkflowBlocks','return\x20this',',\x20Total\x20Nodes:','JobWorkerAlreadyExists','Amplify','resizeHandler','listenUnsubscriber','getNextTargetRank','key-value-database-transaction-table-not-initialized','handleTransactionPayload','next','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','overlap','channel','exports','subscription-request-does-not-exist','Code\x20is\x20required','RequestFile','CanProvideMediaStream','warning','Invalid\x20publisher.','ExecuteCustomSkill','keyPath','renderElement','start','createBufferSource','request-file-sync','contentType','handleRemediationSystemEvents','KeyValueDatabaseTransactionValueNotSet','Unexpected\x20output\x20type','getDatabase','firstValueFrom','.pug','hashTransaction','table','peerConnectionConnector','frameHeight','internal','Emitting\x20event\x20on\x20local\x20cluster','nodes','Invalid\x20key\x20\x27','observe','Waiting','fps','LocalMediaStreamNoAudioContext','Invalid\x20credentials','addProblem','setReportCapacity','setStatus','feature-not-enabled','query','log','checkScreenSharing','createIncomingSubscription','left','getClosestNodes','JobWorker:\x20Sending\x20job\x20bid','unregisterSource','getApp','urls','successNotified','sourceVideo','.js','senderPreviousBytes','app','handleCloseContent','onremovetrack','receiverUnsubscribers','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','cluster-leave','retryCount','getJobObservable','WorkflowDoesNotExist','data','getKeyValueDatabases','transactionTable','lastClockUpdate','hasOwnProperty','SenderPeerConnection\x20send','requestSubscriptionAction','bodyParameters','maxThreshold','push','Generative\x20AI\x20context\x20job\x20already\x20consumed.','processReports','\x20not\x20supported','Logging\x20not\x20enabled\x20for\x20channel\x20','ExternalStorageConnectorsMissing','publishSyncCompletedAfterWrites\x20-\x20','key-value-database-invalid-value','subscribe','connect','getEmail','eventTarget','writeBatch','startIndex','trackKinds','serverTimestamp','Problem\x20detected:\x20','northamerica-northeast1','sendWithRetry','GenerativeAIEngineType','getFirestore','commitTrace','unregisterSubscriber','retryCallback','setReceiverTimestamp','Error\x20encountered\x20while\x20opening\x20database','sendReject','2-digit','Failed','DatabaseEvent','processOutboundReport','startAt','Disconnected','\x20to\x20generate\x20a\x20response.','LocalMediaStreamTrackFail','Job\x20worker\x20creation\x20failed.','createVectorDatabase','subscriptions','RemoteRemove','mmrRoot','queryParameters','user','ObjectStoreCannotWriteTransaction','JobWorker:\x20Sending\x20job\x20partial\x20result','CloseJobDispatcher','deleteJob','max','handleContentSystemEvents','Early\x20return:\x20','detectVideoIssues','GraphDatabase','isComputingMMR','generative-ai-context-job-timeout','timeoutValue','toFixed','endpointUrl','pipe','email','Add','\x0aAdditional\x20data:\x20','request','CrewdleConnection\x20handlePeerConnectionSystemEvents','onRemoveTrack','get','setupTrackEndedListeners','result','setInterval','estimatedPlayoutTimestamp','getReceiverTotalBytes','downgrade','parentId','Syncing','object-store-invalid-sync-message','syncFolder','ObjectStoreInvalidState','JobStatus','key-value-database-invalid-query','setItem','job-dispatcher-creation-failed','Opened\x20logging\x20database','onDisconnectHandler','isReady','.jinja','dt_volatility','/developers/','closed','content-publish-media','processJobStream','internalContext','rtt','senderConnection','NodeAlreadyExist','sender','senderCurrentBytes','createWritableStream','AudioVideoDelay','generativeAIWorkers','collection','warn','mediaTopics','GetContextResult','removeConnection','skipEncryption','modelsBucketId','job-dispatcher-invalid-job-type','dataBucketIds','getRoot','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','PartialResult','Logger.getInstance','waitAnswer','getLayout','detectAudioIssues','getSenderTotalBytes','video','SHA-1','remote-media-stream-invalid-subscription-params','close','_isReady','ModelText','ConnectionInvalidDataEvent','clearUpgradeTimeout','handlePeerConnectionSystemEvents','getInstance','.rkt','notifyClusterNodeJoin','Invalid\x20layout:\x20','Jobs','system','frameWidth','Local\x20node\x20rank\x20is\x20not\x20set','getGraphDatabase','getCurrentMaxLayer','FileWrite','setOnMessageHandler','jobType','Method\x20not\x20supported','Subscription','onSnapshot','remediation','handleRequestPayload','FolderDelete','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','amd','crewdle-sdk-stg','off','authService','addRemoteConnection','ENOENT','Issue\x20detected:\x20','Opened\x20pubsub\x20topic','Agent\x20output\x20is\x20not\x20a\x20string','Local\x20stream\x20does\x20not\x20exist.','lastRemediations','remoteUnsubscriber','Synced','handlePublishMediaStream','JobDispatcherJobExists','Remote\x20connection\x20already\x20exists.','isIceCandidate','Search\x20connector\x20not\x20set','AppSync\x20subscribe','Queued','processSenderReport','Prompt','onClose','VectorDatabase','isInternalSDKConfigs','Error\x20closing\x20writable\x20stream','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','getBufferedAmount','transactionService','length','collectReceiversStats','syncKeyValueDatabase','Attempt\x20','Offer','\x20already\x20exists.','getMinConnections','ModelVector','unregisterRemoteNode','contentQueueRunning','.java','isPartialResultResponse','orchestrator-close','handleMissingSenders','setEncodingParameters','destroy','computeHash','av_delay','MediaStream','Workflow\x20not\x20initialized','graph-database','chunks','isReconnecting','request-accepted','vector-database-creation-failed','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','vector-database-already-exists','documentPath','removeTrack','removeSubscription','connectionState','update','MediaStream\x20feature\x20not\x20enabled','lastHeartbeat','handleNoAnswer','maxOutgoingSubscriptions','answerJoin','nodeManager','Internal\x20SDK\x20Error:\x20','InvalidSubscription','buildInitialMMR','cpu.cycle','publishLocalMediaStream','canvas','tableObserver','maxConnections','KeyValueDatabaseTableNameReserved','inputType','CrewdleReceiverConnection\x20ontrack','createKeyValueDatabase','ObjectStorage','ObjectStoreAlreadySubscribed','entity','TimePerFrame','resolution','floor','3697410VUButg','Error\x20loading\x20external\x20content','firebaseConfig','pop','No\x20parameters\x20provided','sendStats','bucketId','getBuffer','publishFolder','startTime','agent-update','substring','onDataChannel','Connection\x20not\x20connected.','handleStatsSystemEvents','bandwidth.jitter','connection-not-initialized','reset','Opened\x20model\x20store\x20bucket','checkAudioVolume','handleOffer','asObservable','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','pow','size','All\x20recipients\x20already\x20received','handleContentUpdateMediaStream','trim','calculateSize','ObjectStorageUpload','Image','requestSubscription','DataStream','createOffer','startNoThrottlingHack','buildQuery','connected','notifyClusterNodeUpdate','Base\x20Peer\x20Connection','Received\x20','not-in','VectorDatabaseStats','streamLabel','.md','.erl','JobDispatcherInvalidPayload','startsWith','Reranker\x20block\x20is\x20missing\x20required\x20data','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','.ini','getModel','Events','Model','peaks','New\x20MMR\x20Root:\x20','registerSystemPublisher','function','bufferedAmount','orchestrator','getAncestorIds','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','appsync-disconnect','media-stream','instance','systemMessagesReceived','createMediaStreamSource','setVendorId','messagesSent','receiverPreviousBytes','results','agentId','/resources/generative-ai-skill/items','loggingConnectors','handleContentSubscribeMediaStream','frames','clearOncloseTimeout','GenerativeAIContext\x20stream\x20error','getTableConnector','audioDestination','disconnect','.xml','MissingRemoteConnection','JobWorker:\x20Received\x20job\x20request','getWorkflowExternalStorageConnections','checkDeviceConfig','aws','Invalid\x20index\x20in\x20table\x20\x27','label','source','GenerativeAIWorkerCreationFailed','asc','code','move','arrayBuffer','getNumberOutgoingSubscriptions','fetchUrl','getLocalMediaStreams','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','graph-database-already-exists','bufferEvent','reportCapacity','.ex','processContentAvailable\x20-\x20Peak\x20comparison:','1.0.12','createNewBatch','vector-database','prompt','processReport','openObjectStoreBucket','answererId','\x20received\x20responses:','updateDebounceTimeout','isFailedResponse','removeExternalStorageConnection','Apply\x20remediation','secheduleTime','processPendingHandshakeCandidates','Stream\x20does\x20not\x20exist','createSubscription','childRemovedUnsubscriber','Unsupported\x20job\x20type','getSTVolatility','mute','remote-media-stream-already-exists','generative-ai-context-job-already-consumed','unregisterPublisherListener','remote-stream-missing-provider-id','StorageEventType','VectorDatabaseAlreadyExists','@context.','clearSyncTimeout','loop','String','updateUser','ChunkSplitter','maxResolution','localId','Audio','options','Core','signInWithCustomToken','getTransactionByHash','invalid-access','set','subscriptionRequests','Node\x20type\x20is\x20invalid','JobWorker:\x20Handling\x20job\x20attribution','LoadSkillFunction','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','receiverTimeProcessing','receiverBitrate','previousBytes','isChannelEnabled','Setting\x20context\x20for\x20answer\x20block','onValue','hash','detection','GraphDatabaseMissingConnector','Error\x20committing\x20batch:','Missing\x20graph\x20database\x20connector','orderByKey','getSubscriptionLabel','indexOf','thread-','ConnectionNotinitialized','available','onMessage','job-','propagate','removeTrackCallback','\x20attributed\x20to\x20','Outgoing','Get','StreamReport','GenerativeAIWorker:\x20Opening','Relation','WebScraperRaw','OptimizationConnectionSuccess','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','signalingState','connection-state','Buffered\x20chunks\x20are\x20too\x20large','versions','getObjectStoreBuckets','functionsRegion','parseDataCollectionBlocks','processTransactionPayload','Agent\x20block\x20is\x20missing\x20required\x20data','list','Recording','Bid','minResolutionScale','removeRemoteStreamSubscription','NodeDoesNotExist','recipients','Number','retryDelay','LoggingService:\x20logging\x20enabled\x20for','nextNodeId','removeItem','debounceRebuildMMR','DataCollection','setSubscriptionRequestTimeout','getMediaSubscription','nodeId','From\x20','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','pubsubTopics','WordSplitter','getOwnerId','createPendingFileWrite','NodeManager\x20-\x20ConnectionSuccess','deleteTransactionsForTable','previousFrames','addTrack','DeviceConfig','AI\x20Service\x20already\x20exists','generative-ai-worker-already-exists','test-page','tableName','reranker','getOutgoingOptimizationConnections','.json','abs','fileSendingMap','key-value-database-creation-failed','Stats:\x20report','getConnections','ObjectStoreInvalidSyncMessage','subscriptionManager','developers/','hashPeakHashes','getRoundTripTime','Success','maps','No\x20global\x20object\x20found','getConnectionGroup','object-store-already-exists','chooseAnswer','Prompt\x20is\x20required','failed','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','KeyValueDatabaseDoesNotExist','QueryBuilderInvalidArgument','messageType','workflow','getLocalMediaStream','addBatchOperation','NodeUpdate','dataUnsubscribers','JobQueueService:\x20Running\x20job','connection-buffer-not-empty','createOutgoingSubscription','getTime','Error\x20closing\x20trace','`\x0a\x0a','Node\x20not\x20authenticated','crewdle-sdk-logging-','internalDownloadDocument','removeEventListener','Incoming','createAIJob','.doc','incomingManager','AppSync\x20client\x20not\x20ready','invalid-data-chanel','\x20check\x20failed','framesEncoded','getTrackFromParam','pool','JobDispatcherCreationFailed','page','Invalid\x20data\x20channel.','totalEncodeTime','getRemoteMediaStreams','\x0a\x20===\x20Total\x20Data\x20Received:\x20','OfficeParser','Model\x20not\x20found','AudioOutput','NodeConnectionsUpdate','evaluateBidsAndAttributeJob','compileStats','subtle','manageAncestor','setRemoteNode','jobDispatchers','DocumentParser','suspended','isRunning','/resources/agent/items/','discover','SystemTopic\x20publish','Writable\x20stream\x20is\x20missing','KeyValueDatabaseNameNotString','buffer','pubSubTopics','getWorkflowObjectStorageBuckets','external-storage','httpsCallable','PubSubTopicAlreadySubscribed','\x0a\x20===\x20Total\x20Time:\x20','Job\x20','removeSubscriptionsForNode','.rs','connection-invalid-data-event','Remove','addBidResponse','element','storeId','InvalidAccess','Received\x20content\x20available\x20from\x20node','joinedAt','contextInputVariable','\x20answer','.py','unpublish','AudioContext','stopNoThrottlingHack','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','vector-database-name-not-string','Error\x20stringifying\x20object','user-update','Low','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','cpu.av_delay','getPartsForSubscriptionLabel','enabled','unregisterSystemSource','inputTokens','handleOutgoingSystemEvents','retry','time','publishTransaction','processContentSynchronized','handleSuccess','Subscribing\x20to\x20an\x20event:\x20on','docs','rebuildMMR','\x27\x20dabatase\x20id.','onCandidate','getPriority','Backgrounds','doc','Node\x20type\x20is\x20required','openExternalStorageConnection','Llamacpp','Module','Job','JobWorker:\x20Sending\x20job\x20result','filter','readyResolve','PubSubTopicNameNotString','Invalid\x20job\x20worker\x20type.','blockId','RestartNeedMediaStream','KeyValueDatabaseContentSynchronized','isFeatureSupported','publishSyncCompletedAfterWrites','ContentType','openGraphDatabase','search','node-already-exist','crewdle-sdk-stg.appspot.com','findIndex','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','handleNodeJoin','CloseGraphDatabase','runJobQueue','logStorage','nodeKey','registeredListeners','SenderSendMessage','ObjectStoreNotInSync','functions','logSyncMetrics','handleOnMessage','cluster','recomputeRoot','graphql','getEngineType','getDisplayMedia','Unknown\x20skill\x20type','detectLocalIssues','grammar','handleFileSync','getHash','handleIceCandidates','\x20were\x20ready\x20in','removeTopic','sequence','onNodeUpdate','history','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','Opened\x20object\x20store\x20bucket','key-value-database-table-name-reserved','canChooseAnswer','GraphDatabaseAlreadyExists','setDurationTime','comparePeaks','handshakeState','JobWorker:\x20Error\x20processing\x20job','featureSupport','handleUpdateMediaStream','job-dispatcher-observer-not-found','RemoteMediaStreamInvalidSubscriptionParams','AITrace','frameTime','Joined\x20cluster','sdkValidateAccess','getSkills','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','providerId','resetConnection','getDocs','isOpened','timeoutCallback','removeOutgoingSubscription','Key-Value\x20Database\x20-\x20Sync\x20Completed','NodeInvalidType','isEqual','resolve','handleContentRemoteMediaStreamTrackFail','gain','getDTVolatility','encode','gpu','handleNeedRestart','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','pendingFilesTransactions','ancestors','createAnswer','getConnectionType','unregisterSystemPublisher','Key-value\x20database\x20peak\x20not\x20found.','sentence-splitter','updated','request-file','appsync-connect','tokens','KeyValueDatabaseTableNotFound','closeConnection','420235181083','subscribeToLocalContent','GenerativeAIModelOutputType','PubSubTopic\x20publish','sendPeakTransactions','firebase-connect','TestPage','entity-extractor','find','bufferedEvents','registerSystemSource','getContentType','Invalid\x20subscriber.','type','peer-connection','All','FileMove','cluster-disconnect','trackListeners','get-content','standalone','clearHeartbeat','getSize','setRemoteConnections','getInternalStreamId','updateLastTransactionId','jobWorkers','clearWaitAnswer','action','relevance','RemoteMediaStreamMissingProviderId','Content','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','\x20already\x20exists','node-type-not-supported','packetsLost','processContentAvailable','inbound-rtp','Execute\x20the\x20agent\x20','GraphDatabaseCreationFailed','0\x20B','transactions','image','connectorConstructor','Logging\x20trace','total','pendingSyncTransactions','startHeartbeat','generative-ai-context-job-failed','7710lZhkcb','Cannot\x20publish\x20move\x20operation:\x20','digest','processJob','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','\x20does\x20not\x20support\x20content\x20type\x20','getTotalNodes','registerSubscriber','ClusterAlreadyJoined','setupStatsReporting','signOut','WebGL','onChildRemoved','problem','getCapacityReport','Invalid\x20workflow\x20block\x20type.','getSentences','/resources/external-storage/items/','getRemoteConnections','Channel\x20\x27','PeerConnectionInvalidDestination','LocalReport','getObjectStoreBucket','getLastUpdated','IngestTrace','firebaseUnsubscriber','MediaStreamPriority','Index','clusterId','\x0a\x0a`Executing\x20agent\x20','val','searchApiKey','outputType','Database\x20not\x20open','Cannot\x20get\x20file:\x20','getRemoteNode','Given\x20','processRank','operator','Generative\x20AI\x20context\x20creation\x20failed.','error','object-store-not-synced','now','ConnectionBufferNotEmpty','write','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','commitLevel','RoundTripTime','GenerativeAIContextCreationFailed','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','isMediaDestination','\x20not\x20found.','JobWorkerDoesNotExist','1:420235181083:web:4eff6062bd845cb0748cbe','issues','Default','once','handleFileRequestAnswer','key','messageListeners','Cannot\x20unpublish\x20object:\x20','params','Receiver','MistletCapacityReportNotSet','InitialPrompt','ExternalStorageNameNotString','writeTransaction','generativeAIContexts','newPath','getConnectionDestinations','senderTimeProcessing','packets','Error\x20reading\x20file\x20chunk\x20after\x20','stopTracing','mediaStream','createGenerativeAIContext','distance','remote-inbound-rtp','WebRTCBrowserPeerConnectionConnector','completeSync','toLocaleString','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Support:\x20current\x20config','agent-skill','internalId','PeerConnection','.groovy','vendorId','VectorSearch','hasTracks','DataChannel\x20is\x20not\x20open.','publishMove','getTransactions','Given\x20search\x20results\x20for\x20','Cannot\x20publish\x20folder:\x20','setUpgradeTimeout','isSubscribed','Offline','Sender\x20connection\x20is\x20not\x20initialized.','registerRemoteNode','maxBpp','VectorDatabaseNameNotString','connectionType','checkBackgrounds','setBytes','ObjectStoreNotSynced','previous','getModels','DTVolatility','authContext','Search','detectStreamIssues','Publish\x20the\x20transaction','GenerativeAIWorkerStats','unregisterDestination','Key-value\x20database\x20table\x20does\x20not\x20exist.','isPromiseResolved','validateLayout','connection-no-retry-queue','extendedRecipients','WebScraper','signInWithCredential','.Total\x20pages\x20available:\x20','getPacketsLostPerc','random','generative-ai','\x20with\x20response:','ended','consumeBufferedEvents','incrementVersion','remoteId','initialize','getExternalStorageConnection','initializeLoggingDatabase','.ps1','openedTraces','Subscription\x20request\x20does\x20not\x20exist.','description','onNodeDisconnect','pathName','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','onTrack','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','links','outgoingManager','File\x20sending\x20interrupted','external-storage-upload','connector','file','KeyValueDatabaseSyncRequired','topic','RemoteConnectionExists','data-stream','bufferedAmountLowThreshold','Valid\x20layout','track','destinationIds','unregisterCluster','interval','nlpLibraryConnector','firestore','add','processInboundReport','packetsSent','Query\x20is\x20required','FetchUrl','SyncKeyValueDatabase\x20-\x20Ancestors\x20','Loaded\x20from\x20disk','batch','assign','startLoggingCycle','\x20seconds','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','uuid','FramePerSecond','getItem','kind','\x20transactions\x20from\x20node\x20','writeTransaction\x20-\x20transaction\x20already\x20exists','createConstantSource','Execute\x20skill\x20','handleNodeLeave','local-stream-does-not-exist','CloseJobWorker','setTransformations','.ejs','debounceLogTimeout','RequestFileSync','FolderMove','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'];a0_0xdc08=function(){return _0x25e801;};return a0_0xdc08();}(function(_0xb1bc62,_0x36d7a3){const _0x524f7f=a0_0x4258,_0x27b730=_0xb1bc62();while(!![]){try{const _0x54e2b1=parseInt(_0x524f7f(0x599))/0x1*(parseInt(_0x524f7f(0x1d9))/0x2)+-parseInt(_0x524f7f(0x75f))/0x3+-parseInt(_0x524f7f(0x210))/0x4+-parseInt(_0x524f7f(0x626))/0x5*(-parseInt(_0x524f7f(0x94a))/0x6)+parseInt(_0x524f7f(0x528))/0x7+-parseInt(_0x524f7f(0xa79))/0x8+-parseInt(_0x524f7f(0x2a3))/0x9*(-parseInt(_0x524f7f(0x4b6))/0xa);if(_0x54e2b1===_0x36d7a3)break;else _0x27b730['push'](_0x27b730['shift']());}catch(_0x30ccf5){_0x27b730['push'](_0x27b730['shift']());}}}(a0_0xdc08,0xc4f25),!function(_0x27bb91,_0x29025c){const _0x4b332a=a0_0x4258;if(_0x4b332a(0x54b)==typeof exports&&_0x4b332a(0x54b)==typeof module)module[_0x4b332a(0x636)]=_0x29025c();else{if(_0x4b332a(0x797)==typeof define&&define[_0x4b332a(0x70a)])define([],_0x29025c);else{var _0x2243ea=_0x29025c();for(var _0x28d535 in _0x2243ea)(_0x4b332a(0x54b)==typeof exports?exports:_0x27bb91)[_0x28d535]=_0x2243ea[_0x28d535];}}}(this,()=>((()=>{'use strict';const _0x2e7de5=a0_0x4258;var _0x28c9c5={0x14d:(_0x2eb25a,_0x37e0a7,_0x429c13)=>{const _0x2c6671=a0_0x4258;_0x429c13['d'](_0x37e0a7,{'O':()=>_0x1d79f2});const _0x1d79f2={'version':'1.0.12.0','isProduction':!0x1,'firebaseConfig':{'apiKey':_0x2c6671(0xa73),'authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':_0x2c6671(0x70b),'storageBucket':_0x2c6671(0x8ca),'appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':_0x2c6671(0x68c)},'google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x2c6671(0xa28)}};},0x33b:(_0x446b4e,_0x2b003f,_0x505e9b)=>{_0x505e9b['d'](_0x2b003f,{'O':()=>_0x2a7c21});const _0x2a7c21={};},0x3e6:(_0x87018,_0x2067a9,_0x51262a)=>{const _0x50b197=a0_0x4258;_0x51262a['d'](_0x2067a9,{'O':()=>_0x183cd3});const _0x183cd3={'version':_0x50b197(0x7c6),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x50b197(0x618),'authDomain':_0x50b197(0x414),'databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':'crewdle-sdk','storageBucket':_0x50b197(0x487),'messagingSenderId':_0x50b197(0x919),'appId':_0x50b197(0x97f),'measurementId':'G-F7W8KXRKQB'},'aws':{'endpoint':_0x50b197(0x28e),'region':'us-east-1'}};},0x20:(_0x2f9d4c,_0x423548,_0xb56d08)=>{_0xb56d08['d'](_0x423548,{'O':()=>_0x2197b1});const _0x2197b1={};}},_0x4031fe={};function _0x1f63f6(_0x2e0846){const _0x2e2f14=a0_0x4258;var _0x21be35=_0x4031fe[_0x2e0846];if(void 0x0!==_0x21be35)return _0x21be35[_0x2e2f14(0x636)];var _0x560863=_0x4031fe[_0x2e0846]={'exports':{}};return _0x28c9c5[_0x2e0846](_0x560863,_0x560863[_0x2e2f14(0x636)],_0x1f63f6),_0x560863['exports'];}_0x1f63f6['d']=(_0x4ee5c4,_0x2fbc93)=>{for(var _0x56189d in _0x2fbc93)_0x1f63f6['o'](_0x2fbc93,_0x56189d)&&!_0x1f63f6['o'](_0x4ee5c4,_0x56189d)&&Object['defineProperty'](_0x4ee5c4,_0x56189d,{'enumerable':!0x0,'get':_0x2fbc93[_0x56189d]});},_0x1f63f6['g']=(function(){const _0x588b04=a0_0x4258;if('object'==typeof globalThis)return globalThis;try{return this||new Function(_0x588b04(0x629))();}catch(_0x38c394){if(_0x588b04(0x54b)==typeof window)return window;}}()),_0x1f63f6['o']=(_0x443716,_0x10024f)=>Object['prototype'][_0x2e7de5(0x676)][_0x2e7de5(0x61f)](_0x443716,_0x10024f),_0x1f63f6['r']=_0x2e57cd=>{const _0x3924fa=_0x2e7de5;_0x3924fa(0x1c6)!=typeof Symbol&&Symbol['toStringTag']&&Object['defineProperty'](_0x2e57cd,Symbol[_0x3924fa(0x578)],{'value':_0x3924fa(0x8ba)}),Object[_0x3924fa(0x37e)](_0x2e57cd,_0x3924fa(0x197),{'value':!0x0});};var _0xa32e41,_0x45bb51,_0x2387f2,_0xa0f2af={};_0x1f63f6['r'](_0xa0f2af),_0x1f63f6['d'](_0xa0f2af,{'KeyValueDatabase':()=>_0x2f6434,'LayoutBuilder':()=>_0x67f956,'LoggingChannels':()=>_0x2387f2,'QueryBuilder':()=>_0x2b1803,'SDK':()=>_0x1ecb3b,'SDKClientErrorCodes':()=>_0xa32e41,'TableBuilder':()=>_0x1e05a0,'logger':()=>_0x31c6d3}),function(_0x92b211){const _0x2e4a33=_0x2e7de5;_0x92b211[_0x2e4a33(0x975)]=_0x2e4a33(0x85a),_0x92b211[_0x2e4a33(0x952)]=_0x2e4a33(0x4e2),_0x92b211[_0x2e4a33(0x1b0)]='external-storage-connection-already-exists',_0x92b211[_0x2e4a33(0x570)]=_0x2e4a33(0x2a7),_0x92b211['ExternalStorageConnectionDoesNotExist']=_0x2e4a33(0xa4e),_0x92b211[_0x2e4a33(0x680)]=_0x2e4a33(0x27d),_0x92b211['ExternalStorageInvalidPath']=_0x2e4a33(0x422),_0x92b211[_0x2e4a33(0x98b)]='external-storage-name-not-string',_0x92b211[_0x2e4a33(0x596)]=_0x2e4a33(0x65a),_0x92b211['GenerativeAIContextAlreadyExists']='generative-ai-context-already-exists',_0x92b211['GenerativeAIContextDoesNotExist']=_0x2e4a33(0x313),_0x92b211['GenerativeAIContextJobMissingThreadId']='generative-ai-context-job-missing-thread-id',_0x92b211[_0x2e4a33(0xa15)]=_0x2e4a33(0x333),_0x92b211['GenerativeAIWorkerAlreadyExists']=_0x2e4a33(0x838),_0x92b211['GenerativeAIWorkerMissingConnector']='generative-ai-worker-missing-connector',_0x92b211[_0x2e4a33(0x434)]=_0x2e4a33(0x5dd),_0x92b211[_0x2e4a33(0x8ec)]=_0x2e4a33(0x7c1),_0x92b211[_0x2e4a33(0x4fe)]='graph-database-does-not-exist',_0x92b211['GraphDatabaseMissingConnector']='graph-database-missing-connector',_0x92b211[_0x2e4a33(0x3a9)]=_0x2e4a33(0x369),_0x92b211['JobDispatcherAlreadyExists']=_0x2e4a33(0x432),_0x92b211['JobDispatcherDoesNotExist']=_0x2e4a33(0x427),_0x92b211[_0x2e4a33(0x718)]=_0x2e4a33(0x535),_0x92b211[_0x2e4a33(0x211)]='job-dispatcher-job-not-found',_0x92b211['JobDispatcherInvalidJobType']=_0x2e4a33(0x6e3),_0x92b211[_0x2e4a33(0x62b)]=_0x2e4a33(0x52f),_0x92b211[_0x2e4a33(0x97e)]='job-worker-does-not-exist',_0x92b211[_0x2e4a33(0x368)]=_0x2e4a33(0x84c),_0x92b211[_0x2e4a33(0x75a)]='object-store-already-subscribed',_0x92b211[_0x2e4a33(0x438)]='object-store-stream-does-not-exist',_0x92b211[_0x2e4a33(0xa09)]=_0x2e4a33(0xa38),_0x92b211['ObjectStoreInvalidPayload']=_0x2e4a33(0x1a1),_0x92b211[_0x2e4a33(0x44f)]=_0x2e4a33(0x560),_0x92b211['ObjectStoreNotInSync']='object-store-not-in-sync',_0x92b211['InternalSDKError']='internal-sdk-error',_0x92b211[_0x2e4a33(0x894)]=_0x2e4a33(0x7ed),_0x92b211['KeyValueDatabaseAlreadyExists']=_0x2e4a33(0x30c),_0x92b211['KeyValueDatabaseDoesNotExist']=_0x2e4a33(0x4be),_0x92b211[_0x2e4a33(0x393)]=_0x2e4a33(0x2e7),_0x92b211[_0x2e4a33(0x327)]=_0x2e4a33(0x6c7),_0x92b211[_0x2e4a33(0x272)]=_0x2e4a33(0x682),_0x92b211[_0x2e4a33(0x884)]='key-value-database-name-not-string',_0x92b211['KeyValueDatabaseNotOpen']=_0x2e4a33(0x2af),_0x92b211[_0x2e4a33(0x755)]=_0x2e4a33(0x8ea),_0x92b211[_0x2e4a33(0x917)]='key-value-database-table-not-found',_0x92b211[_0x2e4a33(0x498)]=_0x2e4a33(0x456),_0x92b211[_0x2e4a33(0x2ff)]=_0x2e4a33(0x3da),_0x92b211[_0x2e4a33(0x655)]=_0x2e4a33(0xa1c),_0x92b211[_0x2e4a33(0x30e)]=_0x2e4a33(0x229),_0x92b211[_0x2e4a33(0x219)]='pub-sub-topic-does-not-exist',_0x92b211[_0x2e4a33(0x8bf)]=_0x2e4a33(0x518),_0x92b211[_0x2e4a33(0x88a)]=_0x2e4a33(0x1ea),_0x92b211['QueryBuilderInvalidArgument']='query-helper-invalid-argument',_0x92b211[_0x2e4a33(0xa81)]=_0x2e4a33(0x7da),_0x92b211[_0x2e4a33(0x8f4)]=_0x2e4a33(0x6ef),_0x92b211[_0x2e4a33(0x501)]='subscription-request-in-progress',_0x92b211[_0x2e4a33(0x625)]='node-not-authenticated',_0x92b211['NodeInvalidType']='node-invalid-type',_0x92b211[_0x2e4a33(0x2c9)]=_0x2e4a33(0x93b),_0x92b211[_0x2e4a33(0x5e7)]=_0x2e4a33(0x5b4),_0x92b211[_0x2e4a33(0x7df)]=_0x2e4a33(0x741),_0x92b211[_0x2e4a33(0xa4c)]=_0x2e4a33(0x5df),_0x92b211[_0x2e4a33(0x5a3)]=_0x2e4a33(0x3f6),_0x92b211[_0x2e4a33(0x9af)]=_0x2e4a33(0x89f);}(_0xa32e41||(_0xa32e41={}));class _0x412649 extends Error{[_0x2e7de5(0x7ba)];constructor(_0x4fffc7,_0x3a87e4){const _0x32406b=_0x2e7de5;super(_0x3a87e4),this[_0x32406b(0x7ba)]=_0x4fffc7;}}!function(_0x101bb7){const _0x5657b2=_0x2e7de5;_0x101bb7['PubSub']=_0x5657b2(0x403),_0x101bb7[_0x5657b2(0x759)]=_0x5657b2(0x2da),_0x101bb7['KeyValueDatabase']=_0x5657b2(0x53a),_0x101bb7[_0x5657b2(0x721)]=_0x5657b2(0x7c8),_0x101bb7[_0x5657b2(0x6ad)]='graph-database',_0x101bb7[_0x5657b2(0x5fd)]=_0x5657b2(0x888),_0x101bb7['MediaStream']=_0x5657b2(0x79d),_0x101bb7[_0x5657b2(0x24b)]=_0x5657b2(0x9c7);}(_0x45bb51||(_0x45bb51={})),function(_0x9bb53e){const _0x5673c7=_0x2e7de5;_0x9bb53e[_0x5673c7(0x928)]='all',_0x9bb53e['Default']='default',_0x9bb53e['Connection']=_0x5673c7(0x1bf),_0x9bb53e[_0x5673c7(0x522)]=_0x5673c7(0x813),_0x9bb53e[_0x5673c7(0x3b6)]=_0x5673c7(0x8d8),_0x9bb53e['Content']=_0x5673c7(0x1da),_0x9bb53e[_0x5673c7(0x77f)]=_0x5673c7(0x9e2),_0x9bb53e[_0x5673c7(0x4d8)]=_0x5673c7(0x7fb),_0x9bb53e[_0x5673c7(0x792)]='events',_0x9bb53e['Error']=_0x5673c7(0x972),_0x9bb53e[_0x5673c7(0x6fa)]=_0x5673c7(0x493),_0x9bb53e['KeyValueDatabase']=_0x5673c7(0x53a),_0x9bb53e[_0x5673c7(0x261)]=_0x5673c7(0x340),_0x9bb53e[_0x5673c7(0xa19)]=_0x5673c7(0x86c),_0x9bb53e[_0x5673c7(0x380)]=_0x5673c7(0x403),_0x9bb53e['ReceiverOnMessage']='receiver-on-message',_0x9bb53e[_0x5673c7(0x16f)]='remediation',_0x9bb53e[_0x5673c7(0x8d3)]=_0x5673c7(0x567),_0x9bb53e[_0x5673c7(0x230)]='signaling',_0x9bb53e[_0x5673c7(0x503)]=_0x5673c7(0x408),_0x9bb53e[_0x5673c7(0x704)]='subscription',_0x9bb53e['Support']=_0x5673c7(0x530),_0x9bb53e[_0x5673c7(0x431)]=_0x5673c7(0x6fb),_0x9bb53e[_0x5673c7(0x263)]='system-stats',_0x9bb53e[_0x5673c7(0x91f)]=_0x5673c7(0x839),_0x9bb53e[_0x5673c7(0x99f)]=_0x5673c7(0x927);}(_0x2387f2||(_0x2387f2={}));const _0x564b37=require('@crewdle/web-sdk-types');class _0x2b1803{[_0x2e7de5(0x65b)];constructor(_0x56c435){const _0x4bfa13=_0x2e7de5;this[_0x4bfa13(0x65b)]={'orderBy':{'key':_0x56c435,'direction':_0x4bfa13(0x7b9)}};}static['index'](_0x53120a){const _0x549c57=_0x2e7de5;if(_0x549c57(0x5ea)!=typeof _0x53120a||0x0===_0x53120a['length'])throw new _0x412649(_0xa32e41[_0x549c57(0x852)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x2b1803(_0x53120a);}static[_0x2e7de5(0x2d9)](_0x1ad3c5){const _0x41039c=_0x2e7de5;try{return _0x2b1803[_0x41039c(0x782)](_0x1ad3c5),!0x0;}catch(_0x3273e9){return!0x1;}}static[_0x2e7de5(0x782)](_0x5924e6){const _0x7288b2=_0x2e7de5,_0x34a999=_0x2b1803[_0x7288b2(0xa08)](_0x5924e6['orderBy']?.[_0x7288b2(0x984)]??_0x5924e6[_0x7288b2(0x5e4)]?.[_0x7288b2(0x984)]??'');if(_0x5924e6[_0x7288b2(0x5e4)]){const _0x105fb6=_0x5924e6[_0x7288b2(0x5e4)];if((_0x2b1803['isWhereValue'](_0x105fb6)||_0x2b1803[_0x7288b2(0x4f0)](_0x105fb6)||_0x2b1803['isWhereBetween'](_0x105fb6))&&_0x34a999[_0x7288b2(0x5e4)](_0x105fb6[_0x7288b2(0x970)],_0x105fb6[_0x7288b2(0x17e)]),_0x5924e6[_0x7288b2(0x542)]?.[_0x7288b2(0x984)]&&_0x5924e6['orderBy']?.[_0x7288b2(0x984)]!==_0x5924e6['where'][_0x7288b2(0x984)])throw new _0x412649(_0xa32e41['QueryBuilderInvalidArgument'],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x5924e6[_0x7288b2(0x542)]&&_0x34a999[_0x7288b2(0x542)](_0x5924e6[_0x7288b2(0x542)]['direction']),_0x5924e6[_0x7288b2(0x35f)]&&_0x34a999[_0x7288b2(0x35f)](_0x5924e6[_0x7288b2(0x35f)]),_0x5924e6[_0x7288b2(0x57d)]&&_0x34a999['offset'](_0x5924e6[_0x7288b2(0x57d)]),_0x34a999;}[_0x2e7de5(0xa4a)](){const _0x5417aa=_0x2e7de5;return{...this[_0x5417aa(0x65b)]};}[_0x2e7de5(0x5e4)](_0x27681b,_0x81582f){const _0x488ae2=_0x2e7de5,_0x423dc0={'key':this['query'][_0x488ae2(0x542)][_0x488ae2(0x984)],'operator':_0x27681b,'value':_0x81582f};if(!_0x2b1803['isWhereValue'](_0x423dc0)&&!_0x2b1803['isWhereValues'](_0x423dc0)&&!_0x2b1803[_0x488ae2(0x447)](_0x423dc0))throw new _0x412649(_0xa32e41[_0x488ae2(0x852)],_0x488ae2(0x401));return this['query'][_0x488ae2(0x5e4)]=_0x423dc0,this;}[_0x2e7de5(0x542)](_0x410e93){const _0xe199f7=_0x2e7de5;if(_0xe199f7(0x7b9)!==_0x410e93&&_0xe199f7(0x48b)!==_0x410e93)throw new _0x412649(_0xa32e41[_0xe199f7(0x852)],_0xe199f7(0x79b));return this[_0xe199f7(0x65b)][_0xe199f7(0x542)][_0xe199f7(0x1cb)]=_0x410e93,this;}[_0x2e7de5(0x35f)](_0xd6858d){const _0x1cb524=_0x2e7de5;if(_0x1cb524(0x374)!=typeof _0xd6858d||_0xd6858d<0x0)throw new _0x412649(_0xa32e41[_0x1cb524(0x852)],_0x1cb524(0xa87));return this[_0x1cb524(0x65b)][_0x1cb524(0x35f)]=_0xd6858d,this;}[_0x2e7de5(0x57d)](_0x261be3){const _0x13ff83=_0x2e7de5;if(_0x13ff83(0x374)!=typeof _0x261be3||_0x261be3<0x0)throw new _0x412649(_0xa32e41[_0x13ff83(0x852)],_0x13ff83(0x2c8));return this[_0x13ff83(0x65b)]['offset']=_0x261be3,this;}static['isWhereValue'](_0x9e40e1){const _0x34a2d6=_0x2e7de5;if(!(_0x9e40e1&&_0x34a2d6(0x54b)==typeof _0x9e40e1&&_0x34a2d6(0x970)in _0x9e40e1&&_0x34a2d6(0x17e)in _0x9e40e1))return!0x1;const {operator:_0xcd839a,value:_0x328b8c}=_0x9e40e1;return!(!['==','!=','>','<','<=','>=']['includes'](_0xcd839a)||Array[_0x34a2d6(0xa37)](_0x328b8c));}static[_0x2e7de5(0x4f0)](_0x5329ec){const _0x534290=_0x2e7de5;if(!(_0x5329ec&&_0x534290(0x54b)==typeof _0x5329ec&&_0x534290(0x970)in _0x5329ec&&_0x534290(0x17e)in _0x5329ec))return!0x1;const {operator:_0x4348bb,value:_0x26f1e1}=_0x5329ec;return!(!['in',_0x534290(0x787)][_0x534290(0xa49)](_0x4348bb)||!Array[_0x534290(0xa37)](_0x26f1e1));}static[_0x2e7de5(0x447)](_0x514742){const _0x1fd79e=_0x2e7de5;if(!(_0x514742&&_0x1fd79e(0x54b)==typeof _0x514742&&_0x1fd79e(0x970)in _0x514742&&_0x1fd79e(0x17e)in _0x514742))return!0x1;const {operator:_0x36ddb6,value:_0x1a5fb6}=_0x514742;return!(_0x1fd79e(0x1a9)!==_0x36ddb6||!Array['isArray'](_0x1a5fb6)||0x2!==_0x1a5fb6[_0x1fd79e(0x727)]);}}class _0x67f956{[_0x2e7de5(0x184)];constructor(_0x243197){const _0x52c02a=_0x2e7de5;this[_0x52c02a(0x184)]={'tables':{},'version':_0x243197};}static['validateLayout'](_0x2450e6){const _0x52c7b4=_0x2e7de5;for(const _0x28b0fb in _0x2450e6){if(_0x52c7b4(0x44b)!==_0x28b0fb&&'tables'!==_0x28b0fb)return[!0x1,'Invalid\x20key\x20\x27'+_0x28b0fb+'\x27\x20in\x20layout'];if(_0x52c7b4(0x46d)===_0x28b0fb)for(const _0x485dd9 in _0x2450e6['tables']){if(_0x52c7b4(0x5ea)!=typeof _0x485dd9)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x485dd9+'\x27'];for(const _0x4e4de6 in _0x2450e6[_0x52c7b4(0x46d)][_0x485dd9]){if(_0x52c7b4(0x4d2)!==_0x4e4de6)return[!0x1,_0x52c7b4(0x651)+_0x4e4de6+_0x52c7b4(0x5ce)+_0x485dd9+'\x27'];const _0x1ad334=_0x2450e6['tables'][_0x485dd9][_0x4e4de6]??[];for(const _0x470d01 of _0x1ad334)if(void 0x0===_0x470d01[_0x52c7b4(0x63e)]||_0x52c7b4(0x5ea)!=typeof _0x470d01['keyPath'])return[!0x1,_0x52c7b4(0x7b5)+_0x485dd9+_0x52c7b4(0x616)];}}else{if(_0x52c7b4(0x44b)===_0x28b0fb&&_0x52c7b4(0x374)!=typeof _0x2450e6[_0x28b0fb])return[!0x1,'Invalid\x20version\x20\x27'+_0x2450e6[_0x28b0fb]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x52c7b4(0x9e4)];}static[_0x2e7de5(0x184)](_0x2fe4bd){const _0xa84878=_0x2e7de5,_0x26c352=new _0x67f956(_0x2fe4bd);return _0x26c352[_0xa84878(0x184)]['version']=_0x2fe4bd,_0x26c352;}[_0x2e7de5(0x64b)](_0x34b93e){const _0x247b09=_0x2e7de5;return this[_0x247b09(0x184)]['tables'][_0x34b93e]={},new _0x1e05a0(this[_0x247b09(0x184)]['tables'][_0x34b93e]);}[_0x2e7de5(0x6ea)](){return this['layout'];}}class _0x1e05a0{[_0x2e7de5(0x5a4)];constructor(_0xee698b){const _0x3cbb2a=_0x2e7de5;this[_0x3cbb2a(0x5a4)]=_0xee698b;}[_0x2e7de5(0xa08)](_0x25b317){const _0x59e8ae=_0x2e7de5;return this[_0x59e8ae(0x5a4)][_0x59e8ae(0x4d2)]=this[_0x59e8ae(0x5a4)][_0x59e8ae(0x4d2)]??[],this[_0x59e8ae(0x5a4)][_0x59e8ae(0x4d2)]['push']({'keyPath':_0x25b317}),this;}}const _0x334ee4=0x40000,_0x38b122=0x3f800,_0x91f37e=0x1388,_0x132daf=_0x2e7de5(0x416),_0x5d4840='.crewdle-pending',_0x46b840='.crewdle-transactions',_0x106878=_0x2e7de5(0x569),_0x498f8b=0xdbba0,_0x5d0df4=_0x2e7de5(0x234),_0x239b58=0x61a8,_0x4d74ea=0x7530,_0x2d2899=_0x2e7de5(0x64e);var _0x25613f;!function(_0x4a0e78){const _0x8d21ec=_0x2e7de5;_0x4a0e78[_0x8d21ec(0x803)]=_0x8d21ec(0x76f),_0x4a0e78[_0x8d21ec(0x5bd)]=_0x8d21ec(0xa5f),_0x4a0e78[_0x8d21ec(0x5ee)]=_0x8d21ec(0x9c0),_0x4a0e78['ConnectionInvalidDataEvent']=_0x8d21ec(0x88f),_0x4a0e78['GenerativeAIContextCreationFailed']=_0x8d21ec(0x566),_0x4a0e78[_0x8d21ec(0x3c7)]='generative-ai-context-invalid-partial-result',_0x4a0e78[_0x8d21ec(0x245)]=_0x8d21ec(0x7db),_0x4a0e78['GenerativeAIContextJobFailed']=_0x8d21ec(0x949),_0x4a0e78[_0x8d21ec(0x196)]=_0x8d21ec(0x6af),_0x4a0e78['GenerativeAIWorkerCreationFailed']=_0x8d21ec(0x1b1),_0x4a0e78[_0x8d21ec(0x940)]='graph-database-creation-failed',_0x4a0e78[_0x8d21ec(0x350)]=_0x8d21ec(0x868),_0x4a0e78['InvalidPublisher']='invalid-publisher',_0x4a0e78[_0x8d21ec(0x1e2)]='invalid-subscriber',_0x4a0e78[_0x8d21ec(0x74e)]=_0x8d21ec(0x1e6),_0x4a0e78[_0x8d21ec(0x86d)]=_0x8d21ec(0x6c9),_0x4a0e78['JobDispatcherInvalidPayload']=_0x8d21ec(0x58b),_0x4a0e78[_0x8d21ec(0x211)]=_0x8d21ec(0x45d),_0x4a0e78[_0x8d21ec(0x1e0)]=_0x8d21ec(0x8f3),_0x4a0e78[_0x8d21ec(0x502)]=_0x8d21ec(0x53b),_0x4a0e78[_0x8d21ec(0x1e5)]='job-worker-invalid-type',_0x4a0e78[_0x8d21ec(0x20e)]=_0x8d21ec(0x840),_0x4a0e78[_0x8d21ec(0x57b)]=_0x8d21ec(0x48c),_0x4a0e78[_0x8d21ec(0x181)]='key-value-database-table-does-not-exist',_0x4a0e78[_0x8d21ec(0x412)]=_0x8d21ec(0x630),_0x4a0e78[_0x8d21ec(0x645)]=_0x8d21ec(0xa31),_0x4a0e78[_0x8d21ec(0x377)]=_0x8d21ec(0xa00),_0x4a0e78['MissingRemoteConnection']=_0x8d21ec(0x418),_0x4a0e78['MissingSystemTopic']=_0x8d21ec(0x277),_0x4a0e78['MistletCapacityReportNotSet']='mistlet-capacity-report-not-set',_0x4a0e78[_0x8d21ec(0x6a5)]=_0x8d21ec(0x39d),_0x4a0e78[_0x8d21ec(0x6c5)]=_0x8d21ec(0x41c),_0x4a0e78[_0x8d21ec(0x843)]=_0x8d21ec(0x6c3),_0x4a0e78[_0x8d21ec(0x9b3)]=_0x8d21ec(0x973),_0x4a0e78['OutgoingMediaStreamNoTopic']=_0x8d21ec(0x35b),_0x4a0e78[_0x8d21ec(0x5c4)]=_0x8d21ec(0xa52),_0x4a0e78[_0x8d21ec(0x937)]=_0x8d21ec(0x7dd),_0x4a0e78[_0x8d21ec(0x9e1)]=_0x8d21ec(0x55b),_0x4a0e78['SubscriptionRequestDoesNotExist']=_0x8d21ec(0x637),_0x4a0e78['SubscriptionRequestFailed']='subscription-request-failed',_0x4a0e78[_0x8d21ec(0x221)]='subscription-request-no-answer',_0x4a0e78[_0x8d21ec(0x820)]=_0x8d21ec(0xa44),_0x4a0e78['NodeAlreadyExist']=_0x8d21ec(0x8c9),_0x4a0e78[_0x8d21ec(0x95e)]=_0x8d21ec(0x411),_0x4a0e78['VectorDatabaseCreationFailed']=_0x8d21ec(0x73f),_0x4a0e78['WorkflowDoesNotExist']='workflow-does-not-exist',_0x4a0e78[_0x8d21ec(0x1f3)]=_0x8d21ec(0x31d);}(_0x25613f||(_0x25613f={}));const _0x2b3eae=new Map([[_0x25613f[_0x2e7de5(0x803)],'Connection\x20not\x20initialized.'],[_0x25613f['ConnectionNotConnected'],_0x2e7de5(0x76c)],[_0x25613f['ConnectionNoRetryQueue'],_0x2e7de5(0x600)],[_0x25613f[_0x2e7de5(0x6f3)],'Invalid\x20data\x20event.'],[_0x25613f[_0x2e7de5(0x97a)],_0x2e7de5(0x971)],[_0x25613f['GenerativeAIContextInvalidPartialResult'],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x25613f[_0x2e7de5(0x245)],_0x2e7de5(0x67c)],[_0x25613f[_0x2e7de5(0x49b)],_0x2e7de5(0x4af)],[_0x25613f['GenerativeAIContextJobTimeout'],_0x2e7de5(0x353)],[_0x25613f[_0x2e7de5(0x7b8)],_0x2e7de5(0x5ae)],[_0x25613f[_0x2e7de5(0x940)],_0x2e7de5(0xa4d)],[_0x25613f[_0x2e7de5(0x350)],_0x2e7de5(0x86f)],[_0x25613f[_0x2e7de5(0x334)],_0x2e7de5(0x63c)],[_0x25613f[_0x2e7de5(0x1e2)],_0x2e7de5(0x925)],[_0x25613f[_0x2e7de5(0x74e)],_0x2e7de5(0x4cb)],[_0x25613f[_0x2e7de5(0x86d)],_0x2e7de5(0x475)],[_0x25613f['JobDispatcherInvalidPayload'],'Invalid\x20job\x20service\x20payload.'],[_0x25613f[_0x2e7de5(0x211)],'Job\x20service\x20job\x20not\x20found.'],[_0x25613f[_0x2e7de5(0x1e0)],_0x2e7de5(0x3f2)],[_0x25613f[_0x2e7de5(0x502)],_0x2e7de5(0x69e)],[_0x25613f['JobWorkerInvalidType'],_0x2e7de5(0x8c0)],[_0x25613f[_0x2e7de5(0x20e)],'Key-value\x20database\x20creation\x20failed.'],[_0x25613f['KeyValueDatabasePeakNotFound'],_0x2e7de5(0x911)],[_0x25613f[_0x2e7de5(0x181)],_0x2e7de5(0x9bd)],[_0x25613f[_0x2e7de5(0x412)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x25613f[_0x2e7de5(0x645)],'Key-value\x20database\x20transaction\x20value\x20not\x20set.'],[_0x25613f[_0x2e7de5(0x377)],_0x2e7de5(0x713)],[_0x25613f[_0x2e7de5(0x7b0)],'Connection\x20does\x20not\x20exist.'],[_0x25613f[_0x2e7de5(0x1cd)],_0x2e7de5(0x531)],[_0x25613f[_0x2e7de5(0x989)],_0x2e7de5(0xa6b)],[_0x25613f[_0x2e7de5(0x6a5)],'Cannot\x20write\x20transaction.'],[_0x25613f[_0x2e7de5(0x843)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x25613f[_0x2e7de5(0x6c5)],_0x2e7de5(0x60a)],[_0x25613f[_0x2e7de5(0x9b3)],_0x2e7de5(0x21f)],[_0x25613f[_0x2e7de5(0x175)],_0x2e7de5(0x4de)],[_0x25613f['RemoteMediaStreamDoesNotExist'],_0x2e7de5(0x332)],[_0x25613f[_0x2e7de5(0x937)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x25613f[_0x2e7de5(0x9e1)],_0x2e7de5(0x719)],[_0x25613f[_0x2e7de5(0x4bf)],_0x2e7de5(0x9d2)],[_0x25613f[_0x2e7de5(0x47c)],_0x2e7de5(0x247)],[_0x25613f['SubscriptionRequestNoAnswer'],_0x2e7de5(0x361)],[_0x25613f['NodeDoesNotExist'],'Node\x20does\x20not\x20exist.'],[_0x25613f[_0x2e7de5(0x6d6)],_0x2e7de5(0xa41)],[_0x25613f[_0x2e7de5(0x95e)],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x25613f[_0x2e7de5(0x282)],'Vector\x20database\x20creation\x20failed.'],[_0x25613f['WorkflowDoesNotExist'],'Workflow\x20does\x20not\x20exist.'],[_0x25613f['WorkflowInvalidBlockType'],_0x2e7de5(0x959)]]);class _0x26bf2d extends Error{[_0x2e7de5(0x7ba)];static ['codes']=_0x25613f;[_0x2e7de5(0x672)];constructor(_0x19fe86,_0x20a6bb){const _0x3b0f7b=_0x2e7de5;super(_0x3b0f7b(0x74d)+_0x19fe86+':\x20'+_0x2b3eae[_0x3b0f7b(0x6ba)](_0x19fe86)+_0x3b0f7b(0x6b6)+JSON[_0x3b0f7b(0x178)](_0x20a6bb)),this[_0x3b0f7b(0x7ba)]=_0x19fe86,this[_0x3b0f7b(0x672)]=_0x20a6bb||{};}}var _0x5ba456,_0xa33b6e,_0x40890f,_0x1f6888,_0x2d26a4,_0x2842c8,_0x31418b;!function(_0x1a1e1a){const _0x135373=_0x2e7de5;_0x1a1e1a[_0x1a1e1a[_0x135373(0x8ce)]=0x0]=_0x135373(0x8ce),_0x1a1e1a[_0x1a1e1a['CloseJobDispatcher']=0x1]=_0x135373(0x6a7),_0x1a1e1a[_0x1a1e1a['CloseJobWorker']=0x2]=_0x135373(0xa01),_0x1a1e1a[_0x1a1e1a[_0x135373(0x30f)]=0x3]=_0x135373(0x30f),_0x1a1e1a[_0x1a1e1a['CloseKeyValueDatabase']=0x4]=_0x135373(0xa76),_0x1a1e1a[_0x1a1e1a[_0x135373(0x25d)]=0x5]='CloseMediaStream',_0x1a1e1a[_0x1a1e1a['CloseObjectStoreBucket']=0x6]=_0x135373(0x2d2),_0x1a1e1a[_0x1a1e1a['ClosePubSubTopic']=0x7]=_0x135373(0x524),_0x1a1e1a[_0x1a1e1a[_0x135373(0x256)]=0x8]=_0x135373(0x256),_0x1a1e1a[_0x1a1e1a['ExternalStorageStats']=0x9]=_0x135373(0x5f0),_0x1a1e1a[_0x1a1e1a[_0x135373(0x173)]=0xa]=_0x135373(0x173),_0x1a1e1a[_0x1a1e1a[_0x135373(0x9bb)]=0xb]=_0x135373(0x9bb),_0x1a1e1a[_0x1a1e1a['GraphDatabaseStats']=0xc]=_0x135373(0x3b4),_0x1a1e1a[_0x1a1e1a['KeyValueDatabaseContentAvailable']=0xd]=_0x135373(0x26e),_0x1a1e1a[_0x1a1e1a[_0x135373(0x8c3)]=0xe]='KeyValueDatabaseContentSynchronized',_0x1a1e1a[_0x1a1e1a['KeyValueDatabaseRequestPeakTransactions']=0xf]=_0x135373(0x592),_0x1a1e1a[_0x1a1e1a['KeyValueDatabaseRequestTransactionsValue']=0x10]=_0x135373(0x4fa),_0x1a1e1a[_0x1a1e1a[_0x135373(0x617)]=0x11]=_0x135373(0x617),_0x1a1e1a[_0x1a1e1a[_0x135373(0x2ac)]=0x12]=_0x135373(0x2ac),_0x1a1e1a[_0x1a1e1a[_0x135373(0x9df)]=0x13]=_0x135373(0x9df),_0x1a1e1a[_0x1a1e1a['LocalMediaStreamTrackFail']=0x14]=_0x135373(0x69d),_0x1a1e1a[_0x1a1e1a[_0x135373(0xa40)]=0x15]=_0x135373(0xa40),_0x1a1e1a[_0x1a1e1a[_0x135373(0x4f8)]=0x16]=_0x135373(0x4f8),_0x1a1e1a[_0x1a1e1a[_0x135373(0x3d3)]=0x17]=_0x135373(0x3d3),_0x1a1e1a[_0x1a1e1a[_0x135373(0x356)]=0x18]=_0x135373(0x356),_0x1a1e1a[_0x1a1e1a[_0x135373(0x179)]=0x19]=_0x135373(0x179),_0x1a1e1a[_0x1a1e1a[_0x135373(0x3ee)]=0x1a]=_0x135373(0x3ee),_0x1a1e1a[_0x1a1e1a[_0x135373(0x3a5)]=0x1b]=_0x135373(0x3a5),_0x1a1e1a[_0x1a1e1a[_0x135373(0x2ae)]=0x1c]=_0x135373(0x2ae),_0x1a1e1a[_0x1a1e1a[_0x135373(0x788)]=0x1d]=_0x135373(0x788);}(_0x5ba456||(_0x5ba456={})),function(_0x36b358){const _0x42ae8d=_0x2e7de5;_0x36b358[_0x42ae8d(0x700)]=_0x42ae8d(0x164),_0x36b358[_0x42ae8d(0x57a)]=_0x42ae8d(0x162),_0x36b358[_0x42ae8d(0x2e2)]=_0x42ae8d(0x428),_0x36b358[_0x42ae8d(0x423)]=_0x42ae8d(0x7bb),_0x36b358['RequestFile']=_0x42ae8d(0x914),_0x36b358[_0x42ae8d(0x602)]=_0x42ae8d(0x73e),_0x36b358[_0x42ae8d(0xa05)]=_0x42ae8d(0x642),_0x36b358['RequestFileWrite']=_0x42ae8d(0x513);}(_0xa33b6e||(_0xa33b6e={})),function(_0xf75362){const _0x2dce1f=_0x2e7de5;_0xf75362[_0x2dce1f(0xa1a)]=_0x2dce1f(0x6b7),_0xf75362['Transaction']=_0x2dce1f(0x3c5);}(_0x40890f||(_0x40890f={})),function(_0x2234cc){const _0xc0b851=_0x2e7de5;_0x2234cc[_0xc0b851(0x6b5)]=_0xc0b851(0x9eb),_0x2234cc['Update']='update',_0x2234cc[_0xc0b851(0x2e2)]='delete';}(_0x1f6888||(_0x1f6888={})),function(_0x44ee22){const _0xdc234c=_0x2e7de5;_0x44ee22[_0xdc234c(0x80b)]=_0xdc234c(0x6ba),_0x44ee22[_0xdc234c(0x48e)]=_0xdc234c(0x81b),_0x44ee22[_0xdc234c(0x48d)]=_0xdc234c(0x53f);}(_0x2d26a4||(_0x2d26a4={})),function(_0x4dca89){const _0x27a3a8=_0x2e7de5;_0x4dca89[_0x4dca89[_0x27a3a8(0xa1a)]=0x0]=_0x27a3a8(0xa1a),_0x4dca89[_0x4dca89['Bid']=0x1]=_0x27a3a8(0x81d),_0x4dca89[_0x4dca89[_0x27a3a8(0x37a)]=0x2]=_0x27a3a8(0x37a),_0x4dca89[_0x4dca89[_0x27a3a8(0x6e7)]=0x3]=_0x27a3a8(0x6e7),_0x4dca89[_0x4dca89[_0x27a3a8(0xa68)]=0x4]='Result',_0x4dca89[_0x4dca89[_0x27a3a8(0x697)]=0x5]=_0x27a3a8(0x697);}(_0x2842c8||(_0x2842c8={})),function(_0x2e7f32){const _0x3f9e6a=_0x2e7de5;_0x2e7f32[_0x2e7f32[_0x3f9e6a(0x99f)]=0x0]=_0x3f9e6a(0x99f),_0x2e7f32[_0x2e7f32['Node']=0x1]=_0x3f9e6a(0x261),_0x2e7f32[_0x2e7f32[_0x3f9e6a(0x938)]=0x2]='Content',_0x2e7f32[_0x2e7f32[_0x3f9e6a(0x704)]=0x3]=_0x3f9e6a(0x704),_0x2e7f32[_0x2e7f32[_0x3f9e6a(0x503)]=0x4]='Stats',_0x2e7f32[_0x2e7f32[_0x3f9e6a(0x4d8)]=0x5]=_0x3f9e6a(0x4d8),_0x2e7f32[_0x2e7f32[_0x3f9e6a(0x16f)]=0x6]=_0x3f9e6a(0x16f);}(_0x31418b||(_0x31418b={}));class _0x5289ef{['owner'];[_0x2e7de5(0x7b6)];[_0x2e7de5(0x24d)];constructor(_0x5c0fbc,_0x4bbbb4){const _0x55f16d=_0x2e7de5;this[_0x55f16d(0x1a7)]=_0x5c0fbc,this['label']=_0x4bbbb4;}['getLabel'](){const _0x87123d=_0x2e7de5;return this[_0x87123d(0x7b6)];}['getOwnerId'](){const _0x38b3f6=_0x2e7de5;return this['owner'][_0x38b3f6(0x2ab)]();}[_0x2e7de5(0x736)](){}['registerSystemPublisher'](_0x317b1d){const _0x48cec9=_0x2e7de5;this[_0x48cec9(0x24d)]=_0x317b1d;}[_0x2e7de5(0x910)](){const _0x3e64ed=_0x2e7de5;delete this[_0x3e64ed(0x24d)];}}const _0x576ce3=require('firebase/firestore');let _0x40ccfe=_0x1f63f6(0x14d)['O'];function _0x34efb1(_0x156670){const _0x1b9b61=_0x2e7de5;return!(!_0x156670||_0x1b9b61(0x54b)!=typeof _0x156670||Array['isArray'](_0x156670));}_0x40ccfe=function _0x225a66(_0x56212b,..._0x26446d){const _0x5ac66b=_0x2e7de5;if(!Array[_0x5ac66b(0xa37)](_0x26446d)||0x0===_0x26446d[_0x5ac66b(0x727)])return _0x56212b;const _0x3dbfe0=_0x26446d[_0x5ac66b(0x242)]();if(_0x34efb1(_0x56212b)&&_0x34efb1(_0x3dbfe0)){for(const _0x2eb345 in _0x3dbfe0)_0x34efb1(_0x3dbfe0[_0x2eb345])?(_0x56212b[_0x2eb345]||Object[_0x5ac66b(0x9f3)](_0x56212b,{[_0x2eb345]:{}}),_0x225a66(_0x56212b[_0x2eb345],_0x3dbfe0[_0x2eb345])):Object[_0x5ac66b(0x9f3)](_0x56212b,{[_0x2eb345]:_0x3dbfe0[_0x2eb345]});}return _0x225a66(_0x56212b,..._0x26446d);}(_0x40ccfe,_0x1f63f6(0x3e6)['O']);const _0x2a0c43=_0x40ccfe,_0x5ef88b=require('firebase/app'),_0x11adbd=require('firebase/auth'),_0x33249a=require('firebase/database'),_0x260296=require('firebase/functions'),_0x328cbd=require('uuid'),_0x2def5a='CREWDLE_WEB_SDK';class _0x351e3b{static ['instance'];[_0x2e7de5(0x669)];['auth'];[_0x2e7de5(0x8d5)];[_0x2e7de5(0x3a1)];[_0x2e7de5(0x9ea)];['clockSkew'];[_0x2e7de5(0x675)];constructor(){const _0x2e6e3a=_0x2e7de5;this[_0x2e6e3a(0x663)]();}static['getInstance'](){const _0x59783d=_0x2e7de5;return _0x351e3b[_0x59783d(0x79e)]||(_0x351e3b['instance']=new _0x351e3b()),_0x351e3b[_0x59783d(0x79e)];}[_0x2e7de5(0x663)](){const _0x50e22a=_0x2e7de5;if(!this[_0x50e22a(0x669)]){let _0x31ec14=_0x2def5a;_0x50e22a(0x1c6)!=typeof window&&(_0x31ec14=_0x2def5a+'-'+(0x0,_0x328cbd['v4'])()),this['app']=(0x0,_0x5ef88b['initializeApp'])(_0x2a0c43[_0x50e22a(0x761)],''+_0x31ec14);}return this['app'];}['getAuth'](){const _0x10bbd1=_0x2e7de5;return this[_0x10bbd1(0x248)]||(this[_0x10bbd1(0x248)]=(0x0,_0x11adbd[_0x10bbd1(0x3b8)])(this['getApp']())),this[_0x10bbd1(0x248)];}[_0x2e7de5(0x488)](){const _0x238064=_0x2e7de5;return this[_0x238064(0x8d5)]||(this[_0x238064(0x8d5)]=(0x0,_0x260296[_0x238064(0x488)])(this[_0x238064(0x663)](),_0x2a0c43['firebaseConfig'][_0x238064(0x817)])),this[_0x238064(0x8d5)];}[_0x2e7de5(0x647)](){const _0x25e954=_0x2e7de5;return this[_0x25e954(0x3a1)]||(this[_0x25e954(0x3a1)]=(0x0,_0x33249a[_0x25e954(0x647)])(this[_0x25e954(0x663)]())),this[_0x25e954(0x3a1)];}[_0x2e7de5(0x68f)](){const _0x36deb4=_0x2e7de5;return this['firestore']||(this['firestore']=(0x0,_0x576ce3[_0x36deb4(0x68f)])(this[_0x36deb4(0x663)]())),this[_0x36deb4(0x9ea)];}async[_0x2e7de5(0x1d0)](){const _0x3814d5=_0x2e7de5;if(this[_0x3814d5(0x5bc)]&&this['lastClockUpdate']&&Date[_0x3814d5(0x974)]()-this[_0x3814d5(0x675)]<0x493e0)return Date[_0x3814d5(0x974)]()+this[_0x3814d5(0x5bc)];const _0x145701=this[_0x3814d5(0x647)](),_0x35de74=(0x0,_0x33249a['ref'])(_0x145701,_0x3814d5(0xa0b));return new Promise(_0x21bfca=>{const _0x4f31ac=_0x3814d5;(0x0,_0x33249a[_0x4f31ac(0x7f9)])(_0x35de74,_0xf89713=>{const _0x39ecef=_0x4f31ac;(0x0,_0x33249a[_0x39ecef(0x70c)])(_0x35de74),this[_0x39ecef(0x5bc)]=_0xf89713[_0x39ecef(0x968)](),this[_0x39ecef(0x675)]=Date[_0x39ecef(0x974)](),_0x21bfca(Date[_0x39ecef(0x974)]()+(this['clockSkew']??0x0));});});}}const _0x498ce8=_0x351e3b[_0x2e7de5(0x6f6)]();class _0x2cb1b5{static ['instance'];[_0x2e7de5(0x279)]=[_0x2387f2[_0x2e7de5(0x981)]];['debugEnabled']=!0x1;[_0x2e7de5(0x7a7)];[_0x2e7de5(0x9a1)]='';['globalObject'];['batchQueue']=[];[_0x2e7de5(0x302)];[_0x2e7de5(0x50f)];['retryLimit']=0xa;[_0x2e7de5(0x823)]=0x1f4;['batchSize']=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0xb0cd85=_0x2e7de5;if('undefined'!=typeof window)this[_0xb0cd85(0x568)]=window;else{if(void 0x0===_0x1f63f6['g'])throw new Error(_0xb0cd85(0x84a));this[_0xb0cd85(0x568)]=_0x1f63f6['g'];}this[_0xb0cd85(0x5ba)](),this['globalObject'][_0xb0cd85(0x51b)]=_0x10bb31=>{const _0x4ad266=_0xb0cd85;if(_0x10bb31===_0x2387f2[_0x4ad266(0x928)])return this[_0x4ad266(0x279)]=Object[_0x4ad266(0x1c7)](_0x2387f2)[_0x4ad266(0x28b)](_0x3f3362=>_0x2387f2[_0x3f3362]),void Object[_0x4ad266(0x1c7)](_0x2387f2)['forEach'](_0x5bf0f9=>{const _0x3025ab=_0x4ad266,_0x176af0=_0x5bf0f9;localStorage[_0x3025ab(0x6c8)](_0x3025ab(0x860)+_0x2387f2[_0x176af0],_0x3025ab(0x3eb));});this[_0x4ad266(0x279)][_0x4ad266(0xa49)](_0x10bb31)||(this[_0x4ad266(0x279)]['push'](_0x10bb31),localStorage[_0x4ad266(0x6c8)](_0x4ad266(0x860)+_0x10bb31,'true'));},this[_0xb0cd85(0x568)][_0xb0cd85(0x491)]=_0x3f6583=>{const _0x50007b=_0xb0cd85;if(!_0x3f6583||_0x3f6583===_0x2387f2[_0x50007b(0x928)])return this[_0x50007b(0x279)]=[],void Object[_0x50007b(0x1c7)](_0x2387f2)[_0x50007b(0x270)](_0x4768e6=>{const _0xdc2e91=_0x50007b,_0x46eba5=_0x4768e6;localStorage[_0xdc2e91(0x826)](_0xdc2e91(0x860)+_0x2387f2[_0x46eba5]);});this['enabledChannels'][_0x50007b(0xa49)](_0x3f6583)&&(this[_0x50007b(0x279)]=this[_0x50007b(0x279)][_0x50007b(0x8bd)](_0x4d0739=>_0x4d0739!==_0x3f6583),localStorage[_0x50007b(0x826)]('crewdle-sdk-logging-'+_0x3f6583));},this[_0xb0cd85(0x568)]['crewdleSDKLoggingChannels']=_0x2387f2;}static[_0x2e7de5(0x6f6)](){const _0x3676d7=_0x2e7de5;try{return _0x2cb1b5[_0x3676d7(0x79e)]||(_0x2cb1b5[_0x3676d7(0x79e)]=new _0x2cb1b5()),_0x2cb1b5[_0x3676d7(0x79e)];}catch(_0x56b977){return console[_0x3676d7(0x972)](_0x3676d7(0x6e8),_0x56b977),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x2e7de5(0x7a1)](_0x23bfad){const _0x45532f=_0x2e7de5;this[_0x45532f(0x9a1)]=_0x23bfad,this[_0x45532f(0xa6e)]=[],this[_0x45532f(0x302)]=this[_0x45532f(0x7c7)](),this[_0x45532f(0x50f)]&&(clearTimeout(this[_0x45532f(0x50f)]),this[_0x45532f(0x50f)]=void 0x0);}['setLoggingConnectors'](_0x41b24d){const _0x4e8ad8=_0x2e7de5;this[_0x4e8ad8(0x7a7)]=_0x41b24d;}['debug'](_0x2584ee,..._0x1c951a){const _0x5d153c=_0x2e7de5;this[_0x5d153c(0x54e)]&&this['log'](_0x2387f2[_0x5d153c(0x981)],_0x5d153c(0x23c)+_0x2584ee,..._0x1c951a);}[_0x2e7de5(0x3a6)](_0x288efa,..._0x16aeb4){const _0x1cacbe=_0x2e7de5;console['log'](_0x288efa,..._0x16aeb4),this[_0x1cacbe(0x7a7)]&&this[_0x1cacbe(0x7a7)][_0x1cacbe(0x270)](_0x975d4=>{const _0x5ed40b=_0x1cacbe;_0x975d4[_0x5ed40b(0x65c)](_0x288efa,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{..._0x16aeb4}});});}[_0x2e7de5(0x65c)](_0x23ee94,_0x5e1576,..._0x52267a){const _0x2fdd94=_0x2e7de5;_0x2a0c43['isProduction']||(this[_0x2fdd94(0x279)][_0x2fdd94(0xa49)](_0x23ee94)&&console[_0x2fdd94(0x65c)](_0x2fdd94(0x95d)+_0x23ee94+'\x27\x0a',new Date()+'\x0a',_0x5e1576,..._0x52267a),this['loggingConnectors']&&this[_0x2fdd94(0x7a7)][_0x2fdd94(0x270)](_0x387783=>{const _0x1a5ede=_0x2fdd94;this['isInternalLoggingConnector'](_0x387783)&&_0x387783[_0x1a5ede(0x5af)]()[_0x1a5ede(0xa49)](_0x23ee94)&&_0x387783['log'](_0x5e1576,{'vendorId':this[_0x1a5ede(0x9a1)],'nodeId':'','nodeType':'','data':{'channel':_0x23ee94,..._0x52267a}});}));}[_0x2e7de5(0x4b3)](_0x3db2ca,_0x4f92da,..._0x2355ed){const _0x2b708e=_0x2e7de5;_0x2a0c43[_0x2b708e(0x4a9)]||(this[_0x2b708e(0x279)]['includes'](_0x3db2ca)&&console[_0x2b708e(0x65c)](_0x4f92da,..._0x2355ed),this[_0x2b708e(0x7a7)]&&this['loggingConnectors'][_0x2b708e(0x270)](_0x4a8f92=>{const _0x47fc85=_0x2b708e;this['isInternalLoggingConnector'](_0x4a8f92)&&_0x4a8f92['getEnabledChannels']()['includes'](_0x3db2ca)&&_0x4a8f92[_0x47fc85(0x65c)](_0x4f92da,{'vendorId':this[_0x47fc85(0x9a1)],'nodeId':'','nodeType':'','data':{'channel':_0x3db2ca,..._0x2355ed}});}));}[_0x2e7de5(0x4a8)](_0x3efd96,_0x318592){const _0x456ec1=_0x2e7de5;if(!this[_0x456ec1(0x7a7)])return;const _0x14532d={'vendorId':this['vendorId'],..._0x318592};this[_0x456ec1(0x7a7)][_0x456ec1(0x270)](_0x4567ea=>{const _0x34f06e=_0x456ec1;_0x4567ea[_0x34f06e(0x65c)](_0x3efd96,_0x14532d);});}[_0x2e7de5(0xa10)](_0x35487f,_0x2dcff9){const _0x1b6dee=_0x2e7de5;this[_0x1b6dee(0x544)](_0x35487f,_0x2dcff9),this[_0x1b6dee(0xa11)]();}[_0x2e7de5(0x8d0)](_0x4f1bbd,_0x272dca,_0x2d8a08){const _0x47962c=_0x2e7de5;(0x0,_0x576ce3[_0x47962c(0x1cf)])((0x0,_0x576ce3[_0x47962c(0x8b6)])(_0x498ce8[_0x47962c(0x68f)](),_0x47962c(0x845)+this[_0x47962c(0x9a1)]+'/'+_0x4f1bbd+'/'+_0x272dca),{'storage':_0x2d8a08,'timestamp':(0x0,_0x576ce3[_0x47962c(0x68a)])()});}[_0x2e7de5(0xa11)](){const _0x5da0a9=_0x2e7de5;this[_0x5da0a9(0x302)]&&(this[_0x5da0a9(0x302)]['counter']+=0x1,this['currentBatch']['counter']===this['batchSize']?this['processBatch']():this['batchTimeout']||(this[_0x5da0a9(0x50f)]=this['globalObject'][_0x5da0a9(0x60b)](()=>this['processBatch'](),this[_0x5da0a9(0x6b0)])));}async[_0x2e7de5(0x29c)](){const _0x25aad2=_0x2e7de5;if(this[_0x25aad2(0x302)]){for(this['batchQueue'][_0x25aad2(0x67b)](this[_0x25aad2(0x302)]),this[_0x25aad2(0x302)]=this['createNewBatch']();this['batchQueue']['length']>0x0;){const _0x227e42=this[_0x25aad2(0xa6e)]['shift']();if(!await this['commitBatch'](_0x227e42))break;}clearTimeout(this[_0x25aad2(0x50f)]),this[_0x25aad2(0x50f)]=void 0x0;}}[_0x2e7de5(0x972)](_0x582cc4,_0x366e94,..._0x2cd765){const _0x2b4b6f=_0x2e7de5;if(console[_0x2b4b6f(0x972)](new Date(),_0x582cc4,_0x366e94,..._0x2cd765),this['loggingConnectors']){const _0x3f16d2={'vendorId':this[_0x2b4b6f(0x9a1)],..._0x366e94};this[_0x2b4b6f(0x7a7)][_0x2b4b6f(0x270)](_0x542e6a=>{const _0x53c00a=_0x2b4b6f;_0x542e6a[_0x53c00a(0x972)](_0x582cc4,_0x3f16d2);});}}['warning'](_0x4f1922,_0x3c1203,..._0x539937){const _0xa7642f=_0x2e7de5;if(console[_0xa7642f(0x6dd)](new Date(),_0x4f1922,_0x3c1203,_0x539937),this[_0xa7642f(0x7a7)]){const _0x5c0518={'vendorId':this['vendorId'],..._0x3c1203};this['loggingConnectors']['forEach'](_0x46e486=>{const _0x302a67=_0xa7642f;_0x46e486[_0x302a67(0x6dd)](_0x4f1922,_0x5c0518);});}}[_0x2e7de5(0x7f7)](_0x533e5c){const _0x54f82a=_0x2e7de5;return this[_0x54f82a(0x279)][_0x54f82a(0xa49)](_0x533e5c);}async['commitBatch'](_0x36d02e,_0x4332ec=0x0){const _0x3a3fab=_0x2e7de5;if(_0x36d02e[_0x3a3fab(0x61e)]>0x0)try{return await _0x36d02e['batch']['commit'](),!0x0;}catch(_0x35f41b){if(console[_0x3a3fab(0x972)](_0x3a3fab(0x7fd),_0x35f41b,_0x3a3fab(0x537),_0x36d02e['operations']),!(_0x4332ec<this['retryLimit'])){const {nodeId:_0x3d1884='',nodeType:_0x30463e='',clusterId:_0x65f208=''}=_0x36d02e['operations'][0x0][_0x3a3fab(0x672)],_0x38ac52={'nodeId':_0x3d1884,'nodeType':_0x30463e,'clusterId':_0x65f208,'data':{'operations':_0x36d02e[_0x3a3fab(0x168)],'error':_0x35f41b}};return this[_0x3a3fab(0x972)](_0x3a3fab(0x185),_0x38ac52),!0x1;}{const _0x2e9e1e=this[_0x3a3fab(0xa6d)](_0x36d02e['operations']);setTimeout(()=>this[_0x3a3fab(0xa1d)](_0x2e9e1e,_0x4332ec+0x1),this['retryDelay']*Math['pow'](0x2,_0x4332ec));}}}['loadEnabledChannels'](){const _0x4bbf4f=_0x2e7de5;try{Object[_0x4bbf4f(0x1c7)](_0x2387f2)[_0x4bbf4f(0x270)](_0x23fc43=>{const _0x41bcee=_0x4bbf4f,_0x9ab0ef=_0x23fc43;localStorage[_0x41bcee(0x9f9)](_0x41bcee(0x860)+_0x2387f2[_0x9ab0ef])&&(console[_0x41bcee(0x65c)](_0x41bcee(0x824),_0x2387f2[_0x9ab0ef]),this[_0x41bcee(0x279)][_0x41bcee(0x67b)](_0x2387f2[_0x9ab0ef]));});}catch(_0x584426){}}['isInternalLoggingConnector'](_0x4ff700){return void 0x0!==_0x4ff700['getEnabledChannels'];}[_0x2e7de5(0x7c7)](){const _0x3b7198=_0x2e7de5;return{'batch':(0x0,_0x576ce3['writeBatch'])(_0x498ce8[_0x3b7198(0x68f)]()),'operations':[],'counter':0x0};}[_0x2e7de5(0xa6d)](_0x3cd3b2){const _0x5485e3=_0x2e7de5,_0x2925ee=(0x0,_0x576ce3[_0x5485e3(0x687)])(_0x498ce8[_0x5485e3(0x68f)]());return _0x3cd3b2['forEach'](_0x417d85=>this[_0x5485e3(0x856)](_0x2925ee,_0x417d85)),{'batch':_0x2925ee,'operations':_0x3cd3b2,'counter':_0x3cd3b2['length']};}['addBatchOperation'](_0xc857e4,_0x86da84){const _0x557ab9=_0x2e7de5;switch(_0x86da84[_0x557ab9(0x926)]){case _0x557ab9(0x7ee):_0xc857e4['set'](_0x86da84[_0x557ab9(0x45e)],_0x86da84[_0x557ab9(0x672)]);break;case _0x557ab9(0x746):_0xc857e4['update'](_0x86da84[_0x557ab9(0x45e)],_0x86da84[_0x557ab9(0x672)]);break;case _0x557ab9(0x428):_0xc857e4[_0x557ab9(0x428)](_0x86da84[_0x557ab9(0x45e)]);}}[_0x2e7de5(0x544)](_0x41e531,_0x3d2842){const _0x31506e=_0x2e7de5;this[_0x31506e(0x302)]||(this[_0x31506e(0x302)]=this[_0x31506e(0x7c7)]());const _0x437a82=(0x0,_0x576ce3['doc'])((0x0,_0x576ce3[_0x31506e(0x6dc)])(_0x498ce8['getFirestore'](),_0x31506e(0x845)+this[_0x31506e(0x9a1)]+'/logs')),_0x5d6796={..._0x3d2842,'service':_0x41e531,'timestamp':(0x0,_0x576ce3[_0x31506e(0x68a)])()},_0x5dc1c4={'type':_0x31506e(0x7ee),'path':_0x437a82[_0x31506e(0x3fd)],'ref':_0x437a82,'data':_0x5d6796};return this['currentBatch']['operations'][_0x31506e(0x67b)](_0x5dc1c4),this['addBatchOperation'](this[_0x31506e(0x302)][_0x31506e(0x9f2)],_0x5dc1c4),_0x437a82;}}const _0x31c6d3=_0x2cb1b5[_0x2e7de5(0x6f6)]();function _0x4c288f(_0xb14085,_0x338979){return'/'===_0xb14085?_0xb14085+_0x338979:_0xb14085+'/'+_0x338979;}function _0x2ca88b(_0x5565f0){const _0x405f18=_0x2e7de5,_0x3bee8a=function(_0x1bea5e){const _0x29d7c5=a0_0x4258;return _0x1bea5e[_0x29d7c5(0x367)]('/')[_0x29d7c5(0x8bd)](_0x220b16=>_0x220b16[_0x29d7c5(0x727)]>0x0);}(_0x5565f0),_0x47d506=_0x3bee8a['pop']()||'',_0x192e8a=_0x3bee8a['join']('/');return[0x0===_0x192e8a[_0x405f18(0x727)]?'/':_0x192e8a,_0x47d506];}async function _0x43bcb8(_0x4190f5){const _0x7b6004=_0x2e7de5;let _0x111973;const _0x2d7514=_0x4190f5[_0x7b6004(0x777)]/0x100000;_0x111973=_0x2d7514<=0xa?0x1:_0x2d7514<=0x64?0.5:_0x2d7514<=0x1f4?0.1:0.05;const _0x23aaae=Math['ceil'](_0x4190f5['size']/_0x334ee4),_0x56c0f8=Math[_0x7b6004(0xa3a)](_0x23aaae*_0x111973);let _0x893ae9=new Uint8Array();for(let _0x4bc924=0x0;_0x4bc924<_0x56c0f8;_0x4bc924++){const _0x373ce2=Math[_0x7b6004(0x75e)](_0x4bc924/_0x56c0f8*_0x4190f5[_0x7b6004(0x777)]);let _0x246765=_0x373ce2+_0x334ee4;_0x246765>_0x4190f5[_0x7b6004(0x777)]&&(_0x246765=_0x4190f5['size']);const _0x68ea8d=_0x4190f5[_0x7b6004(0x4bb)](_0x373ce2,_0x246765),_0x51026b=await _0x68ea8d[_0x7b6004(0x7bc)](),_0x57a0d3=new Uint8Array([..._0x893ae9,...new Uint8Array(_0x51026b)]);_0x893ae9=new Uint8Array(await crypto[_0x7b6004(0x879)][_0x7b6004(0x94c)](_0x7b6004(0x304),_0x57a0d3));}return Array[_0x7b6004(0xa4b)](new Uint8Array(_0x893ae9))[_0x7b6004(0x28b)](_0x55e236=>_0x55e236[_0x7b6004(0x451)](0x10)['padStart'](0x2,'0'))[_0x7b6004(0x396)]('');}async function*_0x4fb7f4(_0xf3d730,_0xc20f26=0x0,_0x9b290f){const _0x3a6c56=_0x2e7de5;let _0x5b2513=_0xc20f26*_0x38b122,_0x5b838b=_0xf3d730;for(;_0x5b2513<_0x5b838b[_0x3a6c56(0x777)];){let _0x1e8576=_0x5b2513+_0x38b122;_0x1e8576>_0x5b838b[_0x3a6c56(0x777)]&&(_0x1e8576=_0x5b838b[_0x3a6c56(0x777)]);let _0x471ff2=0x0;for(;_0x471ff2<0x14;)try{await _0x9b290f?.();const _0x3364ce=_0x5b838b[_0x3a6c56(0x4bb)](_0x5b2513,_0x1e8576,_0x3a6c56(0x33a)),_0x59ea84=await _0x3364ce[_0x3a6c56(0x7bc)]();yield _0x59ea84,_0x5b2513=_0x1e8576,await new Promise(_0x48bbe9=>setTimeout(_0x48bbe9,0x0));break;}catch(_0x46a49e){if(console[_0x3a6c56(0x972)](_0x3a6c56(0x992)+(_0x471ff2+0x1)+_0x3a6c56(0x1af),_0x46a49e),_0x471ff2++,_0x471ff2>0x14)throw _0x46a49e;let _0x8aa5f5=0x3e8*Math[_0x3a6c56(0x776)](0x2,_0x471ff2);_0x8aa5f5>0x7530&&(_0x8aa5f5=0x7530),await new Promise(_0x257266=>setTimeout(_0x257266,_0x8aa5f5));}}}class _0x231971 extends _0x5289ef{['outgoingTopic'];[_0x2e7de5(0xa50)];[_0x2e7de5(0x2b8)]=new Map();[_0x2e7de5(0x7a2)]=0x0;['messagesReceived']=0x0;['bytesSent']=0x0;['bytesReceived']=0x0;constructor(_0x297361,_0xf1b53a){super(_0x297361,_0xf1b53a);}[_0x2e7de5(0x5d7)](){const _0x436edd=_0x2e7de5;return this[_0x436edd(0x7b6)];}[_0x2e7de5(0x5f9)](){const _0x13b023=_0x2e7de5;return this[_0x13b023(0x7b6)];}[_0x2e7de5(0x924)](){const _0x3a2cbe=_0x2e7de5;return _0x564b37[_0x3a2cbe(0x8c6)][_0x3a2cbe(0x264)];}[_0x2e7de5(0x931)](){const _0x32c1f9=_0x2e7de5;return this[_0x32c1f9(0x7b6)];}[_0x2e7de5(0x32e)](_0x30f1af){const _0x348e76=_0x2e7de5;if(this[_0x348e76(0x4e8)])throw new _0x26bf2d(_0x26bf2d[_0x348e76(0x269)][_0x348e76(0x334)],{'message':_0x348e76(0x740)+this[_0x348e76(0x1a7)][_0x348e76(0x2ab)]()+_0x348e76(0xa1e)+this[_0x348e76(0x7b6)],'topic':this[_0x348e76(0x4e8)]});this[_0x348e76(0x4e8)]=_0x30f1af;}[_0x2e7de5(0x951)](_0x3f0d25){const _0x21a337=_0x2e7de5;if(this[_0x21a337(0xa50)])throw new _0x26bf2d(_0x26bf2d[_0x21a337(0x269)][_0x21a337(0x1e2)],{'message':_0x21a337(0x7f3)+this['owner'][_0x21a337(0x2ab)]()+_0x21a337(0xa1e)+this[_0x21a337(0x7b6)],'topic':this[_0x21a337(0xa50)]});this[_0x21a337(0xa50)]=_0x3f0d25;}['unregisterPublisher'](){const _0x31e1dc=_0x2e7de5;delete this[_0x31e1dc(0x4e8)];}['unregisterSubscriber'](){const _0x457f0b=_0x2e7de5;delete this[_0x457f0b(0xa50)];}async[_0x2e7de5(0x4d9)](_0x101664,_0x2f62dc){const _0x479dfe=_0x2e7de5;if(_0x31c6d3[_0x479dfe(0x65c)](_0x2387f2[_0x479dfe(0x77f)],_0x479dfe(0x1b2),this[_0x479dfe(0x1a7)][_0x479dfe(0x2ab)](),_0x101664,_0x2f62dc),this[_0x479dfe(0x7a2)]+=0x1,_0x101664 instanceof File){const _0x5580ba=await async function(_0x49258c){const _0xe08a=_0x479dfe,_0x21658e=[];for await(const _0x43387a of _0x4fb7f4(_0x49258c))_0x21658e[_0xe08a(0x67b)](_0x43387a);return _0x21658e;}(_0x101664);return this[_0x479dfe(0x3e0)]+=_0x5580ba['reduce']((_0xcb584a,_0x451afa)=>_0xcb584a+_0x451afa[_0x479dfe(0xa61)],0x0),void _0x5580ba[_0x479dfe(0x270)]((_0x174a65,_0x491e2d)=>{const _0x3c0340=_0x479dfe;this['outgoingTopic'][_0x3c0340(0x4df)]({'sourceId':this[_0x3c0340(0x1a7)]['getId'](),'destinationIds':_0x2f62dc,'propagate':!0x0,'contentType':_0x564b37['ContentType'][_0x3c0340(0x3c9)],'content':{'name':_0x101664[_0x3c0340(0x243)],'type':_0x101664['type'],'data':_0x174a65,'index':_0x491e2d,'total':_0x5580ba['length']}});});}this[_0x479dfe(0x3e0)]+=JSON[_0x479dfe(0x178)](_0x101664)['length'],this[_0x479dfe(0x4e8)][_0x479dfe(0x4df)]({'sourceId':this[_0x479dfe(0x1a7)][_0x479dfe(0x2ab)](),'destinationIds':_0x2f62dc,'propagate':!0x0,'contentType':_0x564b37[_0x479dfe(0x8c6)][_0x479dfe(0x264)],'content':_0x101664});}[_0x2e7de5(0x805)](_0x58d0be){const _0x2d2510=_0x2e7de5;return this[_0x2d2510(0xa50)][_0x2d2510(0x683)](_0x278566=>{const _0x62faf5=_0x2d2510;switch(_0x31c6d3['log'](_0x2387f2['DataStream'],_0x62faf5(0x525),this[_0x62faf5(0x1a7)][_0x62faf5(0x2ab)](),_0x278566),_0x278566[_0x62faf5(0x643)]){case _0x564b37['ContentType'][_0x62faf5(0x264)]:this[_0x62faf5(0x31f)]+=0x1,this[_0x62faf5(0x1be)]+=JSON[_0x62faf5(0x178)](_0x278566[_0x62faf5(0x1da)])[_0x62faf5(0x727)],_0x58d0be(_0x278566[_0x62faf5(0x194)],_0x278566[_0x62faf5(0x1da)]);break;case _0x564b37['ContentType'][_0x62faf5(0x3c9)]:this[_0x62faf5(0x2b8)][_0x62faf5(0x1a4)](_0x278566[_0x62faf5(0x1da)][_0x62faf5(0x243)])||this[_0x62faf5(0x2b8)][_0x62faf5(0x7ee)](_0x278566[_0x62faf5(0x1da)]['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x5d4575=this[_0x62faf5(0x2b8)]['get'](_0x278566[_0x62faf5(0x1da)][_0x62faf5(0x243)]);if(_0x5d4575['chunksReceived']+=0x1,_0x5d4575[_0x62faf5(0x1be)]+=_0x278566[_0x62faf5(0x1da)][_0x62faf5(0x672)][_0x62faf5(0xa61)],_0x5d4575['content']&&(_0x5d4575['content'][_0x278566[_0x62faf5(0x1da)][_0x62faf5(0xa08)]]=_0x278566[_0x62faf5(0x1da)][_0x62faf5(0x672)]),this[_0x62faf5(0x2b8)][_0x62faf5(0x7ee)](_0x278566[_0x62faf5(0x1da)]['name'],_0x5d4575),_0x5d4575[_0x62faf5(0x60e)]+0x1<_0x278566['content'][_0x62faf5(0x946)])return;this[_0x62faf5(0x31f)]+=0x1,this[_0x62faf5(0x1be)]+=_0x5d4575['bytesReceived'],_0x5d4575['content']&&_0x58d0be(_0x278566[_0x62faf5(0x194)],(_0x5a2813=_0x5d4575[_0x62faf5(0x1da)],_0x3e8adf=_0x278566[_0x62faf5(0x1da)]['name'],_0x4c05af=_0x278566[_0x62faf5(0x1da)][_0x62faf5(0x926)],new File(_0x5a2813,_0x3e8adf,{'type':_0x4c05af}))),this[_0x62faf5(0x2b8)]['delete'](_0x278566['content'][_0x62faf5(0x243)]);}var _0x5a2813,_0x3e8adf,_0x4c05af;});}}function _0x37766(){const _0x46dedc=_0x2e7de5;let _0x361433=[];return{'subscribe':_0x2ed173=>(_0x361433[_0x46dedc(0x67b)](_0x2ed173),()=>{_0x361433=_0x361433['filter'](_0x3033f8=>_0x3033f8!==_0x2ed173);}),'publish':_0x55a2db=>{const _0x411f83=_0x46dedc;_0x361433[_0x411f83(0x270)](_0x277dd8=>_0x277dd8(_0x55a2db));}};}function _0x41b504(){let _0x2901ad;return{'subscribe':_0x51f84c=>(_0x2901ad=_0x51f84c,()=>{_0x2901ad=void 0x0;}),'publish':_0x55e4cd=>{_0x2901ad&&_0x2901ad(_0x55e4cd);}};}class _0x3c069f{[_0x2e7de5(0x9dd)];[_0x2e7de5(0x83a)];[_0x2e7de5(0x753)];['eventListener']=_0x41b504();[_0x2e7de5(0x603)];constructor(_0xdd8919,_0x39588b,_0x57f110){const _0x18fc42=_0x2e7de5;this[_0x18fc42(0x9dd)]=_0xdd8919,this[_0x18fc42(0x83a)]=_0x39588b,this[_0x18fc42(0x753)]=_0x57f110;}[_0x2e7de5(0x736)](){const _0x4003e7=_0x2e7de5;this[_0x4003e7(0x603)]?.();}async[_0x2e7de5(0x6ba)](_0x4cb61e){const _0x38cfa5=_0x2e7de5,_0x2ee348={'key':_0x4cb61e,'tableName':this[_0x38cfa5(0x83a)],'action':_0x2d26a4[_0x38cfa5(0x80b)]};return this['tableObserver'][_0x38cfa5(0x4df)](_0x2ee348),this[_0x38cfa5(0x9dd)][_0x38cfa5(0x6ba)](_0x4cb61e);}async[_0x2e7de5(0x7ee)](_0x178fe5,_0x5366af,_0x5eac96=!0x0){const _0x2389c6=_0x2e7de5;this['validateValue'](_0x5366af);const _0x277050=await this[_0x2389c6(0x9dd)][_0x2389c6(0x6ba)](_0x178fe5),_0x1f1d7b=await this[_0x2389c6(0x9dd)][_0x2389c6(0x7ee)](_0x178fe5,_0x5366af),_0x47e153=_0x277050?_0x1f6888[_0x2389c6(0xa0e)]:_0x1f6888[_0x2389c6(0x6b5)];if(this['publish'](_0x47e153,_0x1f1d7b),!_0x5eac96)return _0x1f1d7b;const _0x4cfae3={'key':_0x178fe5,'tableName':this[_0x2389c6(0x83a)],'action':_0x47e153,'value':_0x1f1d7b};return this[_0x2389c6(0x753)][_0x2389c6(0x4df)](_0x4cfae3),_0x1f1d7b;}async[_0x2e7de5(0x9eb)](_0x463393){const _0x5ddd22=_0x2e7de5;this[_0x5ddd22(0x312)](_0x463393);const _0x636a00=await this[_0x5ddd22(0x9dd)][_0x5ddd22(0x9eb)](_0x463393),_0x1bf2a3={'key':_0x636a00['id'],'tableName':this['tableName'],'action':_0x1f6888[_0x5ddd22(0x6b5)],'value':_0x636a00};return this[_0x5ddd22(0x753)]['publish'](_0x1bf2a3),this[_0x5ddd22(0x4df)](_0x1bf2a3[_0x5ddd22(0x935)],_0x636a00),_0x636a00;}async[_0x2e7de5(0x428)](_0x25366e,_0x66ccd=!0x0){const _0x204b31=_0x2e7de5,_0xa0f4c6=await this[_0x204b31(0x9dd)][_0x204b31(0x6ba)](_0x25366e);if(!_0xa0f4c6)return;await this[_0x204b31(0x9dd)][_0x204b31(0x428)](_0x25366e);const _0x4c38bf=_0x1f6888[_0x204b31(0x2e2)];if(this['publish'](_0x4c38bf,_0xa0f4c6),!_0x66ccd)return;const _0x5ba2ea={'key':_0x25366e,'tableName':this['tableName'],'action':_0x4c38bf,'value':_0xa0f4c6};this[_0x204b31(0x753)]['publish'](_0x5ba2ea);}async['clear'](){const _0x3f9b05=_0x2e7de5,_0xf6e338=await this['list']();for(const _0x3f91f4 of _0xf6e338){const _0x2c4468=_0x1f6888['Delete'];this[_0x3f9b05(0x4df)](_0x2c4468,_0x3f91f4);const _0x2d702b={'key':_0x3f91f4['id'],'tableName':this['tableName'],'action':_0x2c4468,'value':_0x3f91f4};this[_0x3f9b05(0x753)]['publish'](_0x2d702b);}return this[_0x3f9b05(0x9dd)]['clear']();}async[_0x2e7de5(0x81b)](_0x215b74){const _0x14e0a0=_0x2e7de5,_0x488831={'key':'','tableName':this[_0x14e0a0(0x83a)],'action':_0x2d26a4[_0x14e0a0(0x48e)]};this[_0x14e0a0(0x753)][_0x14e0a0(0x4df)](_0x488831);try{_0x215b74&&(_0x215b74=_0x215b74 instanceof _0x2b1803?_0x215b74[_0x14e0a0(0xa4a)]():_0x2b1803[_0x14e0a0(0x782)](_0x215b74)[_0x14e0a0(0xa4a)]());}catch(_0x10069d){throw new _0x412649(_0xa32e41['KeyValueDatabaseInvalidQuery'],_0x14e0a0(0x467));}try{return await this[_0x14e0a0(0x9dd)][_0x14e0a0(0x81b)](_0x215b74);}catch(_0x2eb09d){let _0x545dcd='Invalid\x20query';throw _0x2eb09d instanceof Error&&(_0x545dcd=_0x2eb09d[_0x14e0a0(0x4b2)]),new _0x412649(_0xa32e41[_0x14e0a0(0x327)],_0x545dcd);}}async[_0x2e7de5(0x53f)](_0x47232a){const _0x4c88c1=_0x2e7de5,_0x3fb74a={'key':'','tableName':this[_0x4c88c1(0x83a)],'action':_0x2d26a4[_0x4c88c1(0x48d)]};this[_0x4c88c1(0x753)][_0x4c88c1(0x4df)](_0x3fb74a);try{_0x47232a&&(_0x47232a=_0x47232a instanceof _0x2b1803?_0x47232a[_0x4c88c1(0xa4a)]():_0x2b1803[_0x4c88c1(0x782)](_0x47232a)[_0x4c88c1(0xa4a)]());}catch(_0x3cf50b){throw new _0x412649(_0xa32e41[_0x4c88c1(0x327)],_0x4c88c1(0x467));}try{return await this[_0x4c88c1(0x9dd)][_0x4c88c1(0x53f)](_0x47232a);}catch(_0x2591f5){let _0x4d1868='Invalid\x20query';throw _0x2591f5 instanceof Error&&(_0x4d1868=_0x2591f5['message']),new _0x412649(_0xa32e41[_0x4c88c1(0x327)],_0x4d1868);}}[_0x2e7de5(0x77b)](){const _0x592e11=_0x2e7de5;return this['connector'][_0x592e11(0x77b)]();}[_0x2e7de5(0x683)](_0x4be0cd){const _0x3b342a=_0x2e7de5;this['listenerUnsubscriber']=this[_0x3b342a(0x3b0)][_0x3b342a(0x683)](_0x4be0cd);}[_0x2e7de5(0x615)](){const _0x3daa6a=_0x2e7de5;this[_0x3daa6a(0x603)]?.();}[_0x2e7de5(0x4df)](_0x597575,_0x59b605){const _0x8874db=_0x2e7de5,_0x5552f2=this['buildTableEvent'](_0x597575,_0x59b605);this[_0x8874db(0x3b0)][_0x8874db(0x4df)](_0x5552f2);}['buildTableEvent'](_0x147a9f,_0x1a735f){const _0x42d2bf=_0x2e7de5;let _0x47071e;switch(_0x147a9f){case _0x1f6888[_0x42d2bf(0x6b5)]:_0x47071e=_0x42d2bf(0x9eb);break;case _0x1f6888[_0x42d2bf(0xa0e)]:_0x47071e=_0x42d2bf(0x746);break;case _0x1f6888['Delete']:_0x47071e=_0x42d2bf(0x428);}return{'action':_0x47071e,'value':_0x1a735f};}[_0x2e7de5(0x312)](_0x5d1656){const _0x21e0e9=_0x2e7de5;if(_0x21e0e9(0x54b)!=typeof _0x5d1656||null===_0x5d1656)throw new _0x412649(_0xa32e41[_0x21e0e9(0x272)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x5ae060 in _0x5d1656){const _0x206b6c=_0x5d1656[_0x5ae060];if(_0x21e0e9(0x54b)!=typeof _0x206b6c||_0x206b6c instanceof Date){if(![_0x21e0e9(0x5ea),_0x21e0e9(0x374),'boolean'][_0x21e0e9(0xa49)](typeof _0x206b6c))throw new _0x412649(_0xa32e41[_0x21e0e9(0x272)],_0x21e0e9(0x1dc)+_0x5ae060+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x21e0e9(0x312)](_0x206b6c);}}}class _0x20f111{['peaks']=[];[_0x2e7de5(0x1b6)]=0x0;['transactionQueue']=[];[_0x2e7de5(0x6ae)]=!0x1;[_0x2e7de5(0x32f)]=null;[_0x2e7de5(0x43f)]=null;[_0x2e7de5(0xa04)];[_0x2e7de5(0x8be)]=null;[_0x2e7de5(0x1e7)]=[];[_0x2e7de5(0x19f)];[_0x2e7de5(0x436)]=Promise[_0x2e7de5(0x904)]();['expectedTransactions']=0x0;constructor(){}get[_0x2e7de5(0x57c)](){return this['_ready'];}async[_0x2e7de5(0x459)](_0xcf483e,_0x2e592b=0x0){const _0x28b83b=_0x2e7de5;this[_0x28b83b(0x8be)]||(this[_0x28b83b(0x436)]=new Promise(_0x4fe5d0=>{const _0x6ebeaa=_0x28b83b;this[_0x6ebeaa(0x8be)]=_0x4fe5d0;}),this[_0x28b83b(0x212)]=_0x2e592b);const _0x40f096=Date[_0x28b83b(0x974)]();if(this[_0x28b83b(0x6ae)])return void this[_0x28b83b(0x40f)][_0x28b83b(0x67b)](_0xcf483e);this['isComputingMMR']=!0x0;let _0xecf23b={'hash':await this['hashTransaction'](_0xcf483e),'height':0x0};const _0x434a2f=this['combinePeaks'](_0xecf23b);this[_0x28b83b(0x1e7)][_0x28b83b(0x67b)](_0x434a2f),await _0x434a2f,this[_0x28b83b(0x1b6)]+=0x1;const _0x26fbd5=this[_0x28b83b(0x40f)]['length'];for(;this[_0x28b83b(0x40f)][_0x28b83b(0x727)]>0x0;){const _0x57a221=this[_0x28b83b(0x40f)][_0x28b83b(0x242)]();await this[_0x28b83b(0x459)](_0x57a221);}this[_0x28b83b(0x3e2)](),await this[_0x28b83b(0x57c)],this[_0x28b83b(0x21a)](_0x40f096,_0x26fbd5);}async[_0x2e7de5(0x6e5)](){const _0x88d8dd=_0x2e7de5;return await this['_ready'],this['isComputingMMR']?(this[_0x88d8dd(0x43f)]||(this[_0x88d8dd(0x43f)]=this[_0x88d8dd(0x8d9)]()),await this[_0x88d8dd(0x43f)]):this['cachedRoot'];}[_0x2e7de5(0x465)](){const _0x71ee9d=_0x2e7de5;return this[_0x71ee9d(0x794)][_0x71ee9d(0x28b)](({hash:_0x21371f,height:_0x42c5f2})=>({'hash':_0x21371f,'height':_0x42c5f2}));}['getTotalNodes'](){const _0x12db57=_0x2e7de5;return this[_0x12db57(0x1b6)];}['getPeakNode'](_0x4c70f6){const _0x421675=_0x2e7de5;return this[_0x421675(0x794)][_0x421675(0x921)](_0x2a135e=>_0x2a135e[_0x421675(0x3c0)]===_0x4c70f6);}async[_0x2e7de5(0x534)](_0x4b2476,_0x20f0ae){const _0x4efb05=_0x2e7de5;return await this[_0x4efb05(0x737)](_0x4b2476+_0x20f0ae);}async[_0x2e7de5(0x64a)](_0x362c30){const _0x29a175=_0x2e7de5;return await this[_0x29a175(0x737)](JSON['stringify'](_0x362c30));}[_0x2e7de5(0x8ee)](_0x5ef9aa){const _0x5ea350=_0x2e7de5,_0x127644=this[_0x5ea350(0x465)](),_0x283e0b=[],_0x1f94a7=[],_0x4a6b1a=[];for(const _0x538c92 of _0x127644){const _0x5e1a07=_0x5ef9aa[_0x5ea350(0x921)](_0x10b786=>_0x10b786['height']===_0x538c92[_0x5ea350(0x3c0)]);_0x5e1a07?_0x538c92[_0x5ea350(0x7fa)]!==_0x5e1a07[_0x5ea350(0x7fa)]&&_0x283e0b['push']({'height':_0x538c92['height'],'localPeak':_0x538c92,'remotePeak':_0x5e1a07}):_0x1f94a7['push'](_0x538c92);}for(const _0x2a2fbb of _0x5ef9aa)_0x127644['find'](_0x368c9c=>_0x368c9c[_0x5ea350(0x3c0)]===_0x2a2fbb[_0x5ea350(0x3c0)])||_0x4a6b1a[_0x5ea350(0x67b)](_0x2a2fbb);return{'differingPeaks':_0x283e0b,'peaksMissingInRemote':_0x1f94a7,'peaksMissingInLocal':_0x4a6b1a};}async[_0x2e7de5(0x8d9)](){const _0x59e789=_0x2e7de5;this[_0x59e789(0x6ae)]=!0x0;const _0xfe047c=this['peaks'][_0x59e789(0x28b)](_0x33c23b=>_0x33c23b[_0x59e789(0x7fa)]);return this['cachedRoot']=await this['hashPeakHashes'](_0xfe047c),this['isComputingMMR']=!0x1,this['rootComputationPromise']=null,this[_0x59e789(0x3e2)](),this[_0x59e789(0x32f)];}async[_0x2e7de5(0x737)](_0x316efb){const _0x5d067f=_0x2e7de5;try{const _0x30241d=new TextEncoder()[_0x5d067f(0x908)](_0x316efb),_0x34a18c=await crypto[_0x5d067f(0x879)]['digest'](_0x5d067f(0x304),_0x30241d);return Array[_0x5d067f(0xa4b)](new Uint8Array(_0x34a18c))[_0x5d067f(0x28b)](_0x784a6e=>_0x784a6e['toString'](0x10)[_0x5d067f(0x17f)](0x2,'0'))[_0x5d067f(0x396)]('');}catch(_0x99f68f){return console[_0x5d067f(0x972)](_0x5d067f(0x47f),_0x99f68f),this[_0x5d067f(0x737)](_0x316efb);}}async[_0x2e7de5(0x846)](_0xdaf15e){const _0x37d271=_0x2e7de5;return await this[_0x37d271(0x737)](_0xdaf15e[_0x37d271(0x396)](''));}async['combinePeaks'](_0x576867){const _0xa1a96=_0x2e7de5;for(;this['peaks'][_0xa1a96(0x727)]>0x0&&this['peaks'][this['peaks'][_0xa1a96(0x727)]-0x1]['height']===_0x576867[_0xa1a96(0x3c0)];){const _0x876f20=this[_0xa1a96(0x794)]['pop']();_0x576867={'hash':await this[_0xa1a96(0x534)](_0x876f20[_0xa1a96(0x7fa)],_0x576867[_0xa1a96(0x7fa)]),'left':_0x876f20,'right':_0x576867,'height':_0x576867[_0xa1a96(0x3c0)]+0x1};}this['peaks'][_0xa1a96(0x67b)](_0x576867),await this[_0xa1a96(0x8d9)]();}[_0x2e7de5(0x21a)](_0x265b89,_0x3713cf){const _0x552604=_0x2e7de5;if(!_0x31c6d3[_0x552604(0x7f7)](_0x2387f2[_0x552604(0xa2b)]))return;this[_0x552604(0xa04)]&&clearTimeout(this['debounceLogTimeout']);const _0x1c5f68=Date[_0x552604(0x974)]();this[_0x552604(0xa04)]=setTimeout(()=>_0x31c6d3[_0x552604(0x65c)](_0x2387f2[_0x552604(0xa2b)],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this[_0x552604(0x32f)],_0x552604(0x650),this[_0x552604(0x950)](),'queueLength',_0x3713cf,_0x552604(0x8ab),_0x1c5f68-_0x265b89),0x7d0);}[_0x2e7de5(0x3e2)](){const _0x146dc8=_0x2e7de5;this[_0x146dc8(0x19f)]&&clearTimeout(this['debounceReadyTimeout']),this[_0x146dc8(0x19f)]=setTimeout(async()=>{const _0x48a2c7=_0x146dc8;try{const _0x43022b=this['readyPromises'];if(this['readyPromises']=[],await Promise['all'](_0x43022b),this[_0x48a2c7(0x212)]-=_0x43022b[_0x48a2c7(0x727)],this[_0x48a2c7(0x1e7)]['length']>0x0||this[_0x48a2c7(0x212)]>0x0)return this['debounceReady']();this[_0x48a2c7(0x8be)]&&(this[_0x48a2c7(0x8be)](),this['readyResolve']=null),this[_0x48a2c7(0x436)]=Promise[_0x48a2c7(0x904)](),this[_0x48a2c7(0x6ae)]=!0x1;}catch(_0x383f5d){console[_0x48a2c7(0x972)](_0x48a2c7(0x388),_0x383f5d);}},0xa);}}const _0x5b7af9=[_0x2e7de5(0x99f),_0x2e7de5(0x261),'Content',_0x2e7de5(0x704),_0x2e7de5(0x503),_0x2e7de5(0x4d8),_0x2e7de5(0x16f)],_0x1feada=[[_0x2e7de5(0x72b),_0x2e7de5(0x551),_0x2e7de5(0x249),_0x2e7de5(0x848),_0x2e7de5(0x2c6),'Restart','Disconnect',_0x2e7de5(0x503),'OptimizationConnectionSuccess'],['NodeJoin',_0x2e7de5(0x857),_0x2e7de5(0x876),_0x2e7de5(0x468)],[_0x2e7de5(0x8ce),_0x2e7de5(0x6a7),_0x2e7de5(0xa01),_0x2e7de5(0x30f),'CloseKeyValueDatabase',_0x2e7de5(0x25d),'CloseObjectStoreBucket',_0x2e7de5(0x524),_0x2e7de5(0x256),_0x2e7de5(0x5f0),_0x2e7de5(0x173),_0x2e7de5(0x9bb),'GraphDatabaseStats','KeyValueDatabaseContentAvailable','KeyValueDatabaseContentSynchronized',_0x2e7de5(0x592),'KeyValueDatabaseRequestTransactionsValue',_0x2e7de5(0x617),'KeyValueDatabaseStats','KeyValueDatabaseSyncRequired','LocalMediaStreamTrackFail','ObjectStoreStats',_0x2e7de5(0x4f8),_0x2e7de5(0x3d3),_0x2e7de5(0x356),'SubscribeMediaStream','UnpublishMediaStream','UnsubscribeMediaStream',_0x2e7de5(0x2ae),_0x2e7de5(0x788)],['SubscribeMediaStream',_0x2e7de5(0x2ae),_0x2e7de5(0xa60),_0x2e7de5(0x63a),'CannotProvideMediaStream','MediaStreamUnavailable'],[_0x2e7de5(0x80c),_0x2e7de5(0x95f)],['Problem'],[_0x2e7de5(0x16f),_0x2e7de5(0xa2a)]];function _0x26fd3f(_0x75aac6){return{..._0x75aac6,'systemMessageType':_0x5b7af9[_0x75aac6['messageType']],'systemContentMessageType':_0x1feada[_0x75aac6['messageType']][_0x75aac6['content']['type']]};}const _0x27d30e={'hour':'2-digit','minute':_0x2e7de5(0x696),'second':_0x2e7de5(0x696)};function _0x4b5277(_0x103c88,_0x27b195){const _0x563ec4=_0x2e7de5,_0x17ad7b=(function(){const _0x2e1b10=a0_0x4258,_0x5a83dc=new Date(),_0x34d12c=_0x5a83dc[_0x2e1b10(0x5eb)](),_0xaead00=_0x5a83dc['toLocaleDateString']('en-US',_0x27d30e)[_0x2e1b10(0x195)](/\d\d:\d\d:\d\d/)?.[0x0];return _0xaead00+'.'+(_0x34d12c>0x64?''+_0x34d12c:_0x34d12c>0xa?'0'+_0x34d12c:'00'+_0x34d12c);}()),{sourceId:_0x589bdd,destinationIds:_0x3ae8f0,systemMessageType:_0x4586fd,systemContentMessageType:_0x21fdc8}=_0x26fd3f(_0x103c88);return _0x17ad7b+_0x563ec4(0xa1e)+_0x27b195+_0x563ec4(0xa1e)+(_0x589bdd===_0x27b195?_0x563ec4(0x24e)+_0x4586fd+_0x563ec4(0x1c3)+(_0x3ae8f0?''+_0x3ae8f0:'everyone'):_0x103c88[_0x563ec4(0x194)]===_0x2d2899?'Internal\x20event\x20\x27'+_0x4586fd+'\x27':(_0x3ae8f0?'':'Everyone\x20')+_0x563ec4(0xa2c)+_0x4586fd+_0x563ec4(0x1a5)+_0x589bdd)+'\x20with\x20\x27'+_0x21fdc8+_0x563ec4(0x16a);}function _0x2c1f62(_0xef6850,_0x22b4a1){const _0x770a7c=_0x2e7de5;if(!_0x31c6d3['isChannelEnabled'](_0xef6850))return;if(_0x2a0c43[_0x770a7c(0x4a9)])return;if(_0x770a7c(0x1c6)==typeof process)return;const _0x1ba42e=process[_0x770a7c(0x5fa)]();console[_0x770a7c(0x65c)](_0x770a7c(0x39e)+_0x22b4a1+':');for(const _0x121922 in _0x1ba42e)console[_0x770a7c(0x65c)]('\x20\x20'+_0x121922+':\x20'+(_0x1ba42e[_0x121922]/0x400/0x400)[_0x770a7c(0x6b1)](0x2)+_0x770a7c(0x458));}function _0x1c144a(_0x3f2597,_0x216fce){const _0xeef3dc=_0x2e7de5;if(!_0x31c6d3[_0xeef3dc(0x7f7)](_0x216fce))return _0x31c6d3[_0xeef3dc(0xa29)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x216fce),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x1f2cf4,_0x37edb8)=>_0x37edb8}};let _0xc6d1a3=0x0;return{'timingLogger':((()=>{const _0x3d9381=_0xeef3dc;let _0x30eef3=Date[_0x3d9381(0x974)]();return{'start':()=>{const _0x3e804a=_0x3d9381;_0x30eef3=Date[_0x3e804a(0x974)]();},'now':()=>Date[_0x3d9381(0x974)](),'logWaitTime':_0x3dde5d=>{const _0x59a2a1=_0x3d9381;_0xc6d1a3+=Date[_0x59a2a1(0x974)]()-_0x30eef3,_0x31c6d3[_0x59a2a1(0x65c)](_0x216fce,_0x3dde5d,_0xc6d1a3+'ms',_0x3f2597);}};})()),'logger':{'log':(_0x42062f,_0xb00f86=()=>{})=>{const _0x4782d3=_0xeef3dc,_0x41422a=_0xb00f86();_0x41422a?_0x31c6d3['log'](_0x216fce,_0x42062f,_0x41422a,_0x3f2597):_0x31c6d3[_0x4782d3(0x65c)](_0x216fce,_0x42062f,_0x3f2597);},'performCalculation':(_0x3fb7ce,_0x1d7b69)=>_0x3fb7ce()}};}function _0x504829(_0x1c0b6a){const _0x25335c=_0x2e7de5;return _0x25335c(0x1c6)==typeof Buffer?0x0:Buffer[_0x25335c(0xa61)](JSON[_0x25335c(0x178)](_0x1c0b6a),_0x25335c(0x3d6));}function _0x132aea(_0x4dc80){const _0xf71493=_0x2e7de5;if(0x0===_0x4dc80)return _0xf71493(0x941);const _0x763e47=Math[_0xf71493(0x75e)](Math[_0xf71493(0x65c)](_0x4dc80)/Math[_0xf71493(0x65c)](0x400));return parseFloat((_0x4dc80/Math[_0xf71493(0x776)](0x400,_0x763e47))[_0xf71493(0x6b1)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x763e47];}class _0x2f6434 extends _0x231971{[_0x2e7de5(0x1cc)];['clusterId'];[_0x2e7de5(0x9a1)];[_0x2e7de5(0xa84)];['db'];[_0x2e7de5(0x419)];[_0x2e7de5(0x46d)]=new Map();[_0x2e7de5(0x753)];[_0x2e7de5(0x674)];[_0x2e7de5(0x409)];[_0x2e7de5(0x346)];[_0x2e7de5(0x26a)];[_0x2e7de5(0x303)]=[];[_0x2e7de5(0x8ff)]=()=>{};['syncTimeout'];[_0x2e7de5(0x3b0)]=_0x41b504();[_0x2e7de5(0x603)];[_0x2e7de5(0x5fe)]=[];['layout'];[_0x2e7de5(0x478)];[_0x2e7de5(0x4e4)]=0x0;[_0x2e7de5(0x58a)]=0x0;[_0x2e7de5(0x3b5)]=!0x1;[_0x2e7de5(0x1b9)]=new _0x20f111();['transactionHashMap']=new Map();[_0x2e7de5(0x942)]=[];[_0x2e7de5(0x827)];[_0x2e7de5(0x4a5)]=[];[_0x2e7de5(0x4cf)];constructor(_0x599375,_0x561ce4,_0x44862f,_0x5a82de,_0x3fe5d6,_0xbe2515,_0x564ae6){const _0x552957=_0x2e7de5;if(_0x552957(0x5ea)!=typeof _0x561ce4)throw new _0x412649(_0xa32e41[_0x552957(0x884)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x599375,_0x561ce4),this[_0x552957(0x1cc)]=_0x599375,this[_0x552957(0x966)]=_0x44862f,this['vendorId']=_0x5a82de,this[_0x552957(0xa84)]=_0x564ae6,this[_0x552957(0x419)]=_0x552957(0x497)+this[_0x552957(0x9a1)]+_0x552957(0x497)+this[_0x552957(0x966)]+_0x552957(0x497)+this[_0x552957(0x7b6)],this[_0x552957(0x753)]=_0x41b504(),this[_0x552957(0x4cf)]=function(_0x21548f,_0x223bf8){const _0x14071d=_0x552957;if(!_0x31c6d3[_0x14071d(0x7f7)](_0x223bf8))return _0x31c6d3['debug'](_0x14071d(0x67f)+_0x223bf8),{..._0x1c144a(_0x21548f,_0x223bf8),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x14071d(0x941),'dataReceived':_0x14071d(0x941)})};const {timingLogger:_0x43fb78,logger:_0x1ae4ed}=_0x1c144a(_0x21548f,_0x223bf8);let _0x2741b8=0x0,_0x59567a=0x0;return{'timingLogger':_0x43fb78,'logger':_0x1ae4ed,'logDataSent':(_0x209963,_0x38071b=!0x1)=>{const _0xc82ab5=_0x14071d,_0x4c9260=_0x504829(_0x209963);return _0x38071b&&_0x31c6d3[_0xc82ab5(0x65c)](_0x223bf8,_0xc82ab5(0x54d),_0x21548f,_0x4c9260),_0x2741b8+=_0x4c9260,_0x4c9260;},'logDataReceived':(_0x47a555,_0x3ddff8=!0x1)=>{const _0x6f5f03=_0x14071d,_0x1b22c6=_0x504829(_0x47a555);return _0x3ddff8&&_0x31c6d3[_0x6f5f03(0x65c)](_0x223bf8,_0x6f5f03(0x3ff),_0x21548f,_0x1b22c6),_0x59567a+=_0x1b22c6,_0x1b22c6;},'getDataLogged':()=>({'dataSent':_0x132aea(_0x2741b8),'dataReceived':_0x132aea(_0x59567a)})};}(this['label'],_0x2387f2['KeyValueDatabase']),this[_0x552957(0x346)]=new Promise(_0x50af85=>{this['syncResolve']=_0x50af85;}),_0x3fe5d6 instanceof _0x67f956)this[_0x552957(0x184)]=_0x3fe5d6[_0x552957(0x6ea)]();else{const [_0x59552a,_0x5121a5]=_0x67f956[_0x552957(0x9bf)](_0x3fe5d6);if(!_0x59552a)throw new _0x412649(_0xa32e41[_0x552957(0x498)],_0x552957(0x6f9)+_0x5121a5);this[_0x552957(0x184)]=structuredClone(_0x3fe5d6);}this[_0x552957(0x441)](this['layout']),this['db']=new _0xbe2515(this[_0x552957(0x419)],this[_0x552957(0x184)]),this['sendStats']();}async[_0x2e7de5(0x1d4)](_0x337072,_0x265565){const _0x438fe6=_0x2e7de5;if(_0x31c6d3[_0x438fe6(0x65c)](_0x2387f2[_0x438fe6(0xa2b)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x438fe6(0x7b6)]),!this[_0x438fe6(0x674)])throw new _0x26bf2d(_0x26bf2d[_0x438fe6(0x269)][_0x438fe6(0x412)]);if(await this[_0x438fe6(0x346)],await this['isNodeReady'](_0x337072),await this['mmr']['getRoot']()===_0x265565){const _0x16e8a4={'sourceId':this[_0x438fe6(0x1cc)][_0x438fe6(0x2ab)](),'destinationIds':[_0x337072],'propagate':!0x0,'messageType':_0x31418b[_0x438fe6(0x938)],'content':{'type':_0x5ba456[_0x438fe6(0x8c3)],'label':this[_0x438fe6(0x7b6)],'mmrRoot':_0x265565}};return this[_0x438fe6(0x4cf)][_0x438fe6(0x1e8)](_0x16e8a4),void this[_0x438fe6(0x24d)][_0x438fe6(0x4df)](_0x16e8a4);}const _0x108588=this[_0x438fe6(0x1b9)]['getPeaks'](),_0x352f88={'sourceId':this[_0x438fe6(0x1cc)][_0x438fe6(0x2ab)](),'destinationIds':[_0x337072],'propagate':!0x0,'messageType':_0x31418b[_0x438fe6(0x938)],'content':{'type':_0x5ba456['KeyValueDatabaseContentAvailable'],'label':this[_0x438fe6(0x7b6)],'peaks':_0x108588}};this['loggingCycle'][_0x438fe6(0x1e8)](_0x352f88),this[_0x438fe6(0x24d)][_0x438fe6(0x4df)](_0x352f88);}async['processContentSynchronized'](_0x32ed07,_0x25b3b1){const _0x146957=_0x2e7de5,_0x542d8e=await this[_0x146957(0x1b9)]['getRoot'](),_0x4b059f=_0x542d8e===_0x25b3b1;if(_0x31c6d3['log'](_0x2387f2[_0x146957(0xa2b)],_0x146957(0x56b)+_0x32ed07+'.\x20Confirmation?\x20'+_0x4b059f,this[_0x146957(0x7b6)]),_0x4b059f)return this['clearSyncTimeout'](),void this['publishSyncCompleted']();_0x31c6d3[_0x146957(0x65c)](_0x2387f2[_0x146957(0xa2b)],_0x146957(0x8e8),_0x542d8e,_0x25b3b1),_0x31c6d3[_0x146957(0x63b)](_0x146957(0x8e8),{'nodeId':this[_0x146957(0x1cc)][_0x146957(0x2ab)](),'nodeType':this[_0x146957(0x1cc)][_0x146957(0x926)],'remoteId':_0x32ed07,'data':{'localMMRRoot':_0x542d8e,'remoteMMRRoot':_0x25b3b1}});const _0x386962={'sourceId':this[_0x146957(0x1cc)][_0x146957(0x2ab)](),'messageType':_0x31418b[_0x146957(0x938)],'propagate':!0x0,'content':{'type':_0x5ba456[_0x146957(0x9df)],'label':this['label'],'mmrRoot':_0x542d8e}};this[_0x146957(0x24d)][_0x146957(0x4df)](_0x386962);}async[_0x2e7de5(0x93d)](_0x13f10f,_0x55eeb3){const _0x2b2451=_0x2e7de5;if(_0x31c6d3[_0x2b2451(0x65c)](_0x2387f2[_0x2b2451(0xa2b)],_0x2b2451(0x895),_0x13f10f,_0x2b2451(0x7b6),this['label'],_0x2b2451(0x794),_0x55eeb3),this[_0x2b2451(0x3b5)])return;this[_0x2b2451(0x3b5)]=!0x0,this[_0x2b2451(0x7e1)]();const {differingPeaks:_0x42134f,peaksMissingInLocal:_0x377b38,peaksMissingInRemote:_0x72eb3d}=this[_0x2b2451(0x1b9)][_0x2b2451(0x8ee)](_0x55eeb3);_0x31c6d3[_0x2b2451(0x65c)](_0x2387f2[_0x2b2451(0xa2b)],_0x2b2451(0x7c5),{'differingPeaks':_0x42134f,'peaksMissingInLocal':_0x377b38,'peaksMissingInRemote':_0x72eb3d});const _0x46c48f={'sourceId':this[_0x2b2451(0x1cc)][_0x2b2451(0x2ab)](),'destinationIds':[_0x13f10f],'propagate':!0x0,'messageType':_0x31418b['Content'],'content':{'type':_0x5ba456[_0x2b2451(0x592)],'label':this[_0x2b2451(0x7b6)],'peakHeights':_0x377b38[_0x2b2451(0x28b)](_0xc3b320=>_0xc3b320[_0x2b2451(0x3c0)])['concat'](_0x42134f[_0x2b2451(0x28b)](_0x5457bc=>_0x5457bc['height']))}};if(this[_0x2b2451(0x24d)]['publish'](_0x46c48f),_0x42134f[_0x2b2451(0x727)]>0x0||_0x72eb3d[_0x2b2451(0x727)]>0x0){const _0x1383c7=_0x72eb3d[_0x2b2451(0x28b)](_0x286bcd=>_0x286bcd[_0x2b2451(0x3c0)])['concat'](_0x42134f['map'](_0x1c6af1=>_0x1c6af1[_0x2b2451(0x3c0)]));await this['sendPeakTransactions'](_0x13f10f,_0x1383c7,!0x0);}}async[_0x2e7de5(0x91d)](_0xdee3d5,_0x5358d0,_0x216443=!0x1){const _0x12fe9=_0x2e7de5;_0x31c6d3[_0x12fe9(0x65c)](_0x2387f2[_0x12fe9(0xa2b)],_0x12fe9(0x22f),this[_0x12fe9(0x7b6)]);const _0x369bb2=_0x5358d0[_0x12fe9(0x28b)](_0x4976e0=>this['mmr'][_0x12fe9(0x25f)](_0x4976e0))[_0x12fe9(0x8bd)](Boolean);if(!_0x369bb2[_0x12fe9(0x727)]||_0x5358d0['length']!==_0x369bb2['length'])throw new _0x26bf2d(_0x26bf2d[_0x12fe9(0x269)]['KeyValueDatabasePeakNotFound'],{'message':_0x12fe9(0xa7c),'peakHeights':_0x5358d0,'peaks':_0x369bb2[_0x12fe9(0x28b)](_0x3e06f4=>_0x3e06f4[_0x12fe9(0x3c0)]),'nodeId':_0xdee3d5});const _0x43b704=[];for(const _0x415b33 of _0x369bb2)this[_0x12fe9(0x5a8)](_0x415b33,_0x43b704);const _0xa56874=_0x216443?void 0x0:[_0xdee3d5],_0xd95f8b={'sourceId':this[_0x12fe9(0x1cc)][_0x12fe9(0x2ab)](),'destinationIds':_0xa56874,'messageType':_0x31418b['Content'],'propagate':!0x0,'content':{'type':_0x5ba456[_0x12fe9(0x617)],'label':this[_0x12fe9(0x7b6)],'transactions':_0x43b704}};this['loggingCycle'][_0x12fe9(0x1e8)](_0xd95f8b),this[_0x12fe9(0x24d)][_0x12fe9(0x4df)](_0xd95f8b);}async[_0x2e7de5(0x376)](_0x525140,_0x4585df){const _0x31a7c7=_0x2e7de5;_0x31c6d3[_0x31a7c7(0x65c)](_0x2387f2[_0x31a7c7(0xa2b)],_0x31a7c7(0x786)+_0x4585df['length']+_0x31a7c7(0x9fb)+_0x525140+'\x20-\x20'+this['label']);for(const _0x190c7f of _0x4585df){const _0x164a5b=await this['transactionTable'][_0x31a7c7(0x6ba)](_0x190c7f['id']);if(!(_0x164a5b&&this[_0x31a7c7(0x469)](_0x164a5b,_0x190c7f)>=0x0)){if(_0x190c7f[_0x31a7c7(0x935)]===_0x1f6888[_0x31a7c7(0x2e2)]){const [_0x56b560,_0x4c9252]=_0x190c7f['id'][_0x31a7c7(0x367)]('::'),_0x365588=this[_0x31a7c7(0x3a7)](_0x56b560);await _0x365588[_0x31a7c7(0x428)](_0x4c9252);}else this['transactionsToSync'][_0x31a7c7(0x67b)](_0x190c7f['id']);}}if(_0x31c6d3['log'](_0x2387f2['KeyValueDatabase'],'Found\x20'+this['transactionsToSync'][_0x31a7c7(0x727)]+'\x20new\x20transactions',this[_0x31a7c7(0x7b6)]),this[_0x31a7c7(0x303)]['length']>0x0){const _0x15a741={'sourceId':this[_0x31a7c7(0x1cc)][_0x31a7c7(0x2ab)](),'destinationIds':[_0x525140],'messageType':_0x31418b['Content'],'propagate':!0x0,'content':{'type':_0x5ba456[_0x31a7c7(0x4fa)],'label':this[_0x31a7c7(0x7b6)],'transactionIds':this[_0x31a7c7(0x303)]}};this[_0x31a7c7(0x4cf)][_0x31a7c7(0x1e8)](_0x15a741),this['systemTopic'][_0x31a7c7(0x4df)](_0x15a741);}}['reset'](){this['sendStats']();}['getContentType'](){const _0x3bdadd=_0x2e7de5;return _0x564b37[_0x3bdadd(0x8c6)][_0x3bdadd(0xa2b)];}[_0x2e7de5(0x736)](){const _0x5213bd=_0x2e7de5;this['db'][_0x5213bd(0x6f0)](),this['tableUnsubscriber']?.(),clearTimeout(this['debounceStats']),delete this[_0x5213bd(0x478)],super[_0x5213bd(0x736)]();}[_0x2e7de5(0x6f0)](){const _0x56f768=_0x2e7de5;this[_0x56f768(0x7e1)](),this['systemTopic']['publish']({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x56f768(0x938)],'content':{'type':_0x5ba456[_0x56f768(0xa76)],'label':this['label']}});}[_0x2e7de5(0x3a7)](_0x269520){const _0x1ba692=_0x2e7de5,_0x52a77d=this[_0x1ba692(0x46d)][_0x1ba692(0x6ba)](_0x269520);if(_0x52a77d)return _0x52a77d;try{if(!this['db']['hasTable'](_0x269520))throw new _0x412649(_0xa32e41[_0x1ba692(0x917)],'Table\x20not\x20found');const _0x258a96=new _0x3c069f(this['db'][_0x1ba692(0x7ac)](_0x269520),_0x269520,this[_0x1ba692(0x753)]);return this['tables'][_0x1ba692(0x7ee)](_0x269520,_0x258a96),{'get':_0x258a96[_0x1ba692(0x6ba)][_0x1ba692(0x32d)](_0x258a96),'set':_0x258a96[_0x1ba692(0x7ee)][_0x1ba692(0x32d)](_0x258a96),'add':_0x258a96[_0x1ba692(0x9eb)][_0x1ba692(0x32d)](_0x258a96),'delete':_0x258a96[_0x1ba692(0x428)][_0x1ba692(0x32d)](_0x258a96),'clear':_0x258a96[_0x1ba692(0x2a0)][_0x1ba692(0x32d)](_0x258a96),'list':_0x258a96['list'][_0x1ba692(0x32d)](_0x258a96),'count':_0x258a96[_0x1ba692(0x53f)][_0x1ba692(0x32d)](_0x258a96),'subscribe':_0x258a96[_0x1ba692(0x683)][_0x1ba692(0x32d)](_0x258a96),'unsubscribe':_0x258a96['unsubscribe'][_0x1ba692(0x32d)](_0x258a96)};}catch(_0x32e542){if(_0x32e542 instanceof _0x412649)throw _0x32e542;throw new _0x412649(_0xa32e41[_0x1ba692(0x3ac)],_0x1ba692(0x96b));}}[_0x2e7de5(0x683)](_0x204f33){const _0x1c02da=_0x2e7de5;this[_0x1c02da(0x603)]=this['eventListener'][_0x1c02da(0x683)](_0x204f33),this[_0x1c02da(0x9be)](this[_0x1c02da(0x346)])[_0x1c02da(0x3b7)](_0x3bb049=>{const _0x29c54f=_0x1c02da;_0x3bb049&&this[_0x29c54f(0x3b0)][_0x29c54f(0x4df)]({'event':_0x564b37['DatabaseEvent']['SyncComplete']});});}[_0x2e7de5(0x615)](){const _0x23abfe=_0x2e7de5;this[_0x23abfe(0x603)]?.(),this[_0x23abfe(0x603)]=void 0x0;}async[_0x2e7de5(0x35d)](){const _0x2e6795=_0x2e7de5;_0x2c1f62(_0x2387f2[_0x2e6795(0xa2b)],_0x2e6795(0x614));const _0x50e1b3=[_0x46b840,_0x106878],_0xa68531=[];try{await this['db'][_0x2e6795(0x35d)]();const _0x49e3cd=this['db'][_0x2e6795(0x7ac)](_0x106878),_0x13ae5c=await _0x49e3cd[_0x2e6795(0x81b)](),{id:_0x2b13f2,layout:_0x20588d}=_0x13ae5c[0x0]??{};if(_0x20588d){for(const _0x1ee22e in _0x20588d)_0x50e1b3['includes'](_0x1ee22e)||this['db']['hasTable'](_0x1ee22e)||_0xa68531[_0x2e6795(0x67b)](_0x1ee22e);await _0x49e3cd[_0x2e6795(0x7ee)](_0x2b13f2,{'layout':this['layout']});}else await _0x49e3cd[_0x2e6795(0x9eb)]({'layout':this[_0x2e6795(0x184)]});}catch(_0x54e822){throw new _0x412649(_0xa32e41[_0x2e6795(0x3ac)],_0x54e822[_0x2e6795(0x4b2)]||_0x2e6795(0x694));}this['instantiateTransactionTable'](),await this[_0x2e6795(0x74f)](),this['setOnMessageHandler'](),this[_0x2e6795(0x2ed)](),_0xa68531[_0x2e6795(0x270)](_0x3ce631=>this[_0x2e6795(0x833)](_0x3ce631));}async[_0x2e7de5(0x45b)](_0x22f769,_0xecba1e=()=>{},_0x2e3231=!0x1){const _0xce46f=_0x2e7de5;if(!_0x22f769)return setTimeout(()=>{const _0x929e66=a0_0x4258;this[_0x929e66(0x7e1)](),this[_0x929e66(0x46c)]();},0x0),!0x0;if(this[_0xce46f(0x3b5)]=!0x1,this[_0xce46f(0x8ff)]=_0xecba1e,this[_0xce46f(0xa51)]=setTimeout(_0xecba1e,0x7d0),!this['systemTopic'])throw new _0x26bf2d(_0x26bf2d['codes']['MissingSystemTopic']);const _0x14beb0=await this[_0xce46f(0x1b9)][_0xce46f(0x6e5)](),_0x57f3d1={'sourceId':this[_0xce46f(0x1cc)][_0xce46f(0x2ab)](),'messageType':_0x31418b[_0xce46f(0x938)],'propagate':_0x2e3231,'content':{'type':_0x5ba456[_0xce46f(0x9df)],'label':this[_0xce46f(0x7b6)],'mmrRoot':_0x14beb0}};return this['loggingCycle'][_0xce46f(0x1e8)](_0x57f3d1),this[_0xce46f(0x24d)][_0xce46f(0x4df)](_0x57f3d1),this[_0xce46f(0x346)];}async[_0x2e7de5(0x533)](_0x2b8f1c,_0x23a3bb){const _0x4864b6=_0x2e7de5;if(_0x31c6d3[_0x4864b6(0x65c)](_0x2387f2['KeyValueDatabase'],_0x4864b6(0x811)+_0x23a3bb[_0x4864b6(0x727)],this[_0x4864b6(0x7b6)]),!this[_0x4864b6(0x674)])throw new _0x26bf2d(_0x26bf2d[_0x4864b6(0x269)][_0x4864b6(0x412)]);for(const _0x56df5d of _0x23a3bb){const _0x3bd1f5=await this[_0x4864b6(0x674)]['get'](_0x56df5d);if(!_0x3bd1f5)continue;const [_0x4767cc,_0x95629f]=_0x56df5d[_0x4864b6(0x367)]('::'),_0xd7049c=this[_0x4864b6(0x3a7)](_0x4767cc),_0x41b749=await _0xd7049c[_0x4864b6(0x6ba)](_0x95629f);_0x41b749?(_0x3bd1f5[_0x4864b6(0x17e)]=_0x41b749,this[_0x4864b6(0x4d9)](_0x3bd1f5,[_0x2b8f1c])):_0x31c6d3['warning'](_0x4864b6(0x1f6),{'nodeId':this[_0x4864b6(0x1cc)][_0x4864b6(0x2ab)](),'nodeType':this['localNode'][_0x4864b6(0x926)],'remoteId':_0x2b8f1c,'data':{'tableKeys':Object[_0x4864b6(0x1c7)](this[_0x4864b6(0x46d)]),'transactionId':_0x56df5d,'transactions':this[_0x4864b6(0x303)],'tableName':_0x4767cc,'key':_0x95629f}});}}async[_0x2e7de5(0x98c)](_0x1544f1){const _0x1cffba=_0x2e7de5;if(!this[_0x1cffba(0x674)])throw new _0x26bf2d(_0x26bf2d['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x5e911a=await this['mmr']['hashTransaction'](_0x1544f1),_0x36120d=this[_0x1cffba(0x3bc)]['get'](_0x5e911a);if(_0x36120d&&this[_0x1cffba(0x469)](_0x1544f1,_0x36120d)<=0x0)return void _0x31c6d3[_0x1cffba(0x65c)](_0x2387f2['KeyValueDatabase'],_0x1cffba(0x9fc),_0x1544f1);const _0x5e5eb1={..._0x1544f1};return delete _0x5e5eb1[_0x1cffba(0x17e)],this[_0x1cffba(0x51e)](_0x5e5eb1),await this[_0x1cffba(0x674)][_0x1cffba(0x7ee)](_0x1544f1['id'],_0x5e5eb1),_0x1544f1;}[_0x2e7de5(0x469)](_0x374354,_0x54fdf8){const _0x37d04a=_0x2e7de5;return _0x374354[_0x37d04a(0x490)]!==_0x54fdf8[_0x37d04a(0x490)]?_0x374354[_0x37d04a(0x490)]-_0x54fdf8[_0x37d04a(0x490)]:_0x374354[_0x37d04a(0x2a5)]-_0x54fdf8[_0x37d04a(0x2a5)];}async[_0x2e7de5(0x29b)](_0x3c1fa8){const _0x47df70=_0x2e7de5;if(!this[_0x47df70(0x674)])throw new _0x26bf2d(_0x26bf2d[_0x47df70(0x269)][_0x47df70(0x412)]);const _0x161b47=_0x3c1fa8[_0x47df70(0x83a)]+'::'+_0x3c1fa8[_0x47df70(0x984)],_0x2d4cd4=await _0x498ce8['getEstimatedTimestamp'](),_0x241cfc={'id':_0x161b47,'priority':Math[_0x47df70(0x9c6)](),'timestamp':_0x2d4cd4,'action':_0x3c1fa8[_0x47df70(0x935)]};if(await this['writeTransaction'](_0x241cfc))return _0x241cfc;}async[_0x2e7de5(0x833)](_0x519fc2){const _0x22dd99=_0x2e7de5;if(!this[_0x22dd99(0x674)])throw new _0x26bf2d(_0x26bf2d[_0x22dd99(0x269)][_0x22dd99(0x412)]);const _0x132e1b=_0x2b1803['index']('id')[_0x22dd99(0x5e4)](_0x22dd99(0x1a9),[_0x519fc2+'::',_0x519fc2+_0x22dd99(0x358)]),_0x83639a=await this[_0x22dd99(0x674)]['list'](_0x132e1b[_0x22dd99(0xa4a)]());for(const _0x43d7c7 of _0x83639a)await this[_0x22dd99(0x674)][_0x22dd99(0x428)](_0x43d7c7['id']);}[_0x2e7de5(0x701)](){const _0x19453d=_0x2e7de5;this[_0x19453d(0x805)](async(_0x57d00d,_0x4b19cf)=>{const _0x4edd97=_0x19453d;if(_0x4b19cf instanceof File)return;if(this['loggingCycle'][_0x4edd97(0x37f)](_0x4b19cf),!await this['writeTransaction'](_0x4b19cf))return void this['checkSyncComplete'](_0x57d00d,_0x4b19cf);if(!_0x4b19cf[_0x4edd97(0x17e)])throw new _0x26bf2d(_0x26bf2d[_0x4edd97(0x269)][_0x4edd97(0x645)]);const [_0x395faf,_0x333ead]=_0x4b19cf['id'][_0x4edd97(0x367)]('::'),_0x531609=this['getTable'](_0x395faf);if(!_0x531609)throw new _0x26bf2d(_0x26bf2d[_0x4edd97(0x269)][_0x4edd97(0x181)],{'table':_0x531609});let _0xc1b09a=0x0;switch(_0x4b19cf[_0x4edd97(0x935)]){case _0x1f6888['Add']:case _0x1f6888[_0x4edd97(0xa0e)]:{const _0x26b1cc=_0x531609['set'](_0x333ead,_0x4b19cf[_0x4edd97(0x17e)],!0x1);_0xc1b09a=JSON[_0x4edd97(0x178)](_0x4b19cf[_0x4edd97(0x17e)])[_0x4edd97(0x727)],this[_0x4edd97(0x303)][_0x4edd97(0xa49)](_0x4b19cf['id'])&&this[_0x4edd97(0x5fe)][_0x4edd97(0x67b)](_0x26b1cc);break;}case _0x1f6888[_0x4edd97(0x2e2)]:{const _0x101f14=_0x531609[_0x4edd97(0x428)](_0x333ead,!0x1);this[_0x4edd97(0x303)]['includes'](_0x4b19cf['id'])&&this[_0x4edd97(0x5fe)][_0x4edd97(0x67b)](_0x101f14);break;}}_0x31c6d3[_0x4edd97(0xa10)](_0x45bb51['KeyValueDatabase'],{'type':_0x4edd97(0x45b),'label':this[_0x4edd97(0x7b6)],'nodeId':this[_0x4edd97(0x1cc)][_0x4edd97(0x2ab)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x4edd97(0x966)],'tableName':_0x395faf,'key':_0x333ead,'size':_0xc1b09a}),this[_0x4edd97(0x500)](_0x57d00d,_0x4b19cf);});}['setOnTableWriteHandler'](){const _0x5af1bd=_0x2e7de5;this['tableUnsubscriber']=this[_0x5af1bd(0x753)][_0x5af1bd(0x683)](async _0x5a1cf1=>{const _0x276273=_0x5af1bd;let _0xcd5ba2=0x0;switch(_0x5a1cf1[_0x276273(0x935)]){case _0x1f6888[_0x276273(0x6b5)]:case _0x1f6888[_0x276273(0xa0e)]:case _0x1f6888[_0x276273(0x2e2)]:{const _0x1081bf=await this[_0x276273(0x29b)](_0x5a1cf1);if(!_0x1081bf)return;_0x1081bf['value']=_0x5a1cf1[_0x276273(0x17e)],this[_0x276273(0x4d9)](_0x1081bf),_0xcd5ba2=JSON[_0x276273(0x178)](_0x5a1cf1[_0x276273(0x17e)])[_0x276273(0x727)],this['writes']+=0x1;break;}case _0x2d26a4[_0x276273(0x80b)]:case _0x2d26a4[_0x276273(0x48e)]:case _0x2d26a4[_0x276273(0x48d)]:this[_0x276273(0x58a)]+=0x1;}_0x31c6d3[_0x276273(0xa10)](_0x45bb51['KeyValueDatabase'],{'type':_0x5a1cf1['action'],'label':this['label'],'nodeId':this[_0x276273(0x1cc)][_0x276273(0x2ab)](),'nodeType':this[_0x276273(0x1cc)][_0x276273(0x926)],'clusterId':this[_0x276273(0x966)],'tableName':_0x5a1cf1[_0x276273(0x83a)],'key':_0x5a1cf1[_0x276273(0x984)],'size':_0xcd5ba2}),this[_0x276273(0x764)]();});}[_0x2e7de5(0x16e)](){const _0x2289c3=_0x2e7de5;this['db']&&(this[_0x2289c3(0x674)]||(this[_0x2289c3(0x674)]=this['db'][_0x2289c3(0x7ac)](_0x46b840)));}[_0x2e7de5(0x7e1)](){const _0x122fb2=_0x2e7de5;this[_0x122fb2(0xa51)]&&(clearTimeout(this[_0x122fb2(0xa51)]),delete this['syncTimeout']);}async[_0x2e7de5(0x46c)](){const _0x40b154=_0x2e7de5;await this[_0x40b154(0x1b9)]['ready'],this[_0x40b154(0x8d6)](),this[_0x40b154(0x3b0)]['publish']({'event':_0x564b37[_0x40b154(0x698)]['SyncComplete']}),this[_0x40b154(0x26a)]?.(!0x0),delete this[_0x40b154(0x26a)],this[_0x40b154(0x764)](),_0x31c6d3[_0x40b154(0x65c)](_0x2387f2['KeyValueDatabase'],'Sync\x20completed',this[_0x40b154(0x7b6)]);}async[_0x2e7de5(0x8c5)](_0x30cb33){const _0x21f2c1=_0x2e7de5;await Promise[_0x21f2c1(0x286)](this[_0x21f2c1(0x5fe)]),_0x31c6d3['log'](_0x2387f2['KeyValueDatabase'],_0x21f2c1(0x681)+this[_0x21f2c1(0x5fe)][_0x21f2c1(0x727)]+_0x21f2c1(0x1f7)+_0x30cb33+_0x21f2c1(0x553),this[_0x21f2c1(0x7b6)]),await this[_0x21f2c1(0x1b9)][_0x21f2c1(0x57c)],await this['confirmSynchronization'](_0x30cb33),await this[_0x21f2c1(0x46c)]();}[_0x2e7de5(0x500)](_0x10b9f3,_0x44f457){const _0x13e320=_0x2e7de5;this[_0x13e320(0x303)]['includes'](_0x44f457['id'])&&(this[_0x13e320(0x7e1)](),this[_0x13e320(0x303)]=this['transactionsToSync'][_0x13e320(0x8bd)](_0x312be7=>_0x312be7!==_0x44f457['id']),0x0!==this[_0x13e320(0x303)][_0x13e320(0x727)]?this[_0x13e320(0xa51)]=setTimeout(this[_0x13e320(0x8ff)],0x7d0):this[_0x13e320(0x8c5)](_0x10b9f3));}['sendStats'](){const _0x4494b7=_0x2e7de5;this['debounceStats']&&clearTimeout(this[_0x4494b7(0x478)]),this[_0x4494b7(0x478)]=setTimeout(async()=>{const _0xcb2ab0=_0x4494b7;delete this['debounceStats'];let _0xcec982=0x0;for(const _0x1bcae7 of this[_0xcb2ab0(0x46d)][_0xcb2ab0(0x20c)]())_0xcec982+=await _0x1bcae7[_0xcb2ab0(0x77b)]();this[_0xcb2ab0(0x24d)][_0xcb2ab0(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b['Content'],'content':{'type':_0x5ba456['KeyValueDatabaseStats'],'label':this[_0xcb2ab0(0x7b6)],'stats':{'timestamp':Date[_0xcb2ab0(0x974)](),'storage':_0xcec982,'messagesSent':this['messagesSent'],'messagesReceived':this[_0xcb2ab0(0x31f)],'bytesSent':this[_0xcb2ab0(0x3e0)],'bytesReceived':this['bytesReceived'],'writes':this[_0xcb2ab0(0x4e4)],'reads':this[_0xcb2ab0(0x58a)],'prompts':0x0,'tokens':0x0}}}),_0x31c6d3[_0xcb2ab0(0x8d0)](_0x45bb51['KeyValueDatabase'],'ccc'+this['clusterId']+'ccc'+this[_0xcb2ab0(0x7b6)],_0xcec982);},_0x91f37e);}[_0x2e7de5(0x441)](_0x47571b){const _0x56c972=_0x2e7de5;if(_0x47571b[_0x56c972(0x46d)][_0x46b840])throw new _0x412649(_0xa32e41[_0x56c972(0x755)],_0x56c972(0x4cc)+_0x46b840+'\x27\x20reserved');if(_0x47571b[_0x56c972(0x46d)][_0x106878])throw new _0x412649(_0xa32e41['KeyValueDatabaseTableNameReserved'],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x106878+_0x56c972(0x1ad));_0x47571b[_0x56c972(0x46d)][_0x46b840]={'indexes':[]},_0x47571b[_0x56c972(0x46d)][_0x106878]={'indexes':[]};}async[_0x2e7de5(0x9be)](_0x40fdfe){const _0x1bfd2b=_0x2e7de5;return Promise['race']([_0x40fdfe,Promise[_0x1bfd2b(0x904)]('not-resolved')])['then'](_0x4e0d43=>_0x1bfd2b(0x36c)!==_0x4e0d43);}async['confirmSynchronization'](_0x262e07){const _0x3ba535=_0x2e7de5;await this[_0x3ba535(0x231)]();const _0x251749=await this['mmr'][_0x3ba535(0x6e5)](),_0x554bf6={'sourceId':this['localNode'][_0x3ba535(0x2ab)](),'destinationIds':[_0x262e07],'propagate':!0x0,'messageType':_0x31418b[_0x3ba535(0x938)],'content':{'type':_0x5ba456[_0x3ba535(0x8c3)],'label':this['label'],'mmrRoot':_0x251749}};this['systemTopic'][_0x3ba535(0x4df)](_0x554bf6);}async[_0x2e7de5(0x74f)](){const _0x5db484=_0x2e7de5;if(!this[_0x5db484(0x674)])throw new _0x26bf2d(_0x26bf2d[_0x5db484(0x269)]['KeyValueDatabaseTransactionTableNotInitialized']);this[_0x5db484(0x942)]=await this['transactionTable']['list'](),this[_0x5db484(0x942)]['sort'](this[_0x5db484(0x469)]),this[_0x5db484(0x1b9)]=new _0x20f111(),this[_0x5db484(0x3bc)]=new Map();for(const _0x2ccb7c of this['transactions'])this['appendTransactionAndUpdateHashMap'](_0x2ccb7c,this[_0x5db484(0x942)]['length']);this[_0x5db484(0x4c3)]();}async[_0x2e7de5(0x44c)](_0xfe464f,_0x206bf1){const _0x1a5e3a=_0x2e7de5,_0x16970b={..._0xfe464f};delete _0x16970b['value'],await this[_0x1a5e3a(0x1b9)][_0x1a5e3a(0x459)](_0x16970b,_0x206bf1);const _0x4a1a93=await this['mmr'][_0x1a5e3a(0x64a)](_0x16970b);this[_0x1a5e3a(0x3bc)][_0x1a5e3a(0x7ee)](_0x4a1a93,_0xfe464f);}[_0x2e7de5(0x7ec)](_0x33a54f){const _0x5c0559=_0x2e7de5;return this['transactionHashMap'][_0x5c0559(0x6ba)](_0x33a54f);}[_0x2e7de5(0x5a8)](_0x5d1ab3,_0xe6c355){const _0x486e21=_0x2e7de5;if(0x0!==_0x5d1ab3[_0x486e21(0x3c0)])_0x5d1ab3[_0x486e21(0x65f)]&&this[_0x486e21(0x5a8)](_0x5d1ab3['left'],_0xe6c355),_0x5d1ab3[_0x486e21(0xa83)]&&this['collectTransactionsFromNode'](_0x5d1ab3[_0x486e21(0xa83)],_0xe6c355);else{const _0x505594=this[_0x486e21(0x7ec)](_0x5d1ab3[_0x486e21(0x7fa)]);_0x505594&&_0xe6c355['push'](_0x505594);}}async[_0x2e7de5(0x8b1)](){const _0x2f4001=_0x2e7de5;this['debounceRebuildMMR']&&(clearTimeout(this[_0x2f4001(0x827)]),delete this['debounceRebuildMMR'],this[_0x2f4001(0x4a5)][_0x2f4001(0x727)]>0x0&&(this[_0x2f4001(0x942)]['push'](...this[_0x2f4001(0x4a5)][_0x2f4001(0x1c1)](this[_0x2f4001(0x469)])),this[_0x2f4001(0x4a5)]=[]));const _0x4c72f7=this[_0x2f4001(0x9f4)]();this[_0x2f4001(0x1b9)]=new _0x20f111(),this[_0x2f4001(0x3bc)][_0x2f4001(0x2a0)](),this[_0x2f4001(0x942)][_0x2f4001(0x1c1)](this[_0x2f4001(0x469)]);for(const _0x3c3b69 of this[_0x2f4001(0x942)])this['appendTransactionAndUpdateHashMap'](_0x3c3b69,this[_0x2f4001(0x942)]['length']);await this[_0x2f4001(0x1b9)]['ready'],this[_0x2f4001(0x2cd)](_0x4c72f7);}[_0x2e7de5(0x9f4)](){const _0x323724=_0x2e7de5;return this[_0x323724(0x4cf)][_0x323724(0x2d7)][_0x323724(0x3ad)](async()=>{const _0x4c64be=_0x323724,_0x1b7347=await this[_0x4c64be(0x1b9)][_0x4c64be(0x6e5)]();return{'startTime':Date[_0x4c64be(0x974)](),'initialRoot':_0x1b7347};},Promise[_0x323724(0x904)]({'startTime':0x0,'initialRoot':''}));}async[_0x2e7de5(0x2cd)](_0x3ec6){const _0x4ed488=_0x2e7de5;try{const {startTime:_0x1c8ed5,initialRoot:_0x3be52a}=await _0x3ec6,_0x44a2c5=await this[_0x4ed488(0x1b9)]['getRoot'](),_0x302138=[_0x4ed488(0x850)+(_0x3be52a!==_0x44a2c5),_0x4ed488(0x4ea)+_0x3be52a,_0x4ed488(0x709)+_0x44a2c5,_0x4ed488(0x2bb)+this[_0x4ed488(0x1b9)][_0x4ed488(0x950)](),'\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20'+(Date[_0x4ed488(0x974)]()-_0x1c8ed5)+_0x4ed488(0x4f1)][_0x4ed488(0x396)]('\x20');this[_0x4ed488(0x4cf)][_0x4ed488(0x2d7)]['log']('',()=>_0x302138);}catch(_0x275d9d){console[_0x4ed488(0x972)]('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x275d9d);}}[_0x2e7de5(0x51e)](_0x59974d){const _0x58a3a1=_0x2e7de5;this['transactionsToAppend'][_0x58a3a1(0x67b)](_0x59974d),this['debounceRebuildMMR']&&(clearTimeout(this[_0x58a3a1(0x827)]),delete this[_0x58a3a1(0x827)]),this['debounceRebuildMMR']=setTimeout(()=>{const _0x4ecf3b=_0x58a3a1;this[_0x4ecf3b(0x231)]();},0x3e8);}async[_0x2e7de5(0x231)](){const _0x96fe7e=_0x2e7de5;if(this[_0x96fe7e(0x827)]&&(clearTimeout(this[_0x96fe7e(0x827)]),delete this['debounceRebuildMMR']),0x0!==this[_0x96fe7e(0x4a5)][_0x96fe7e(0x727)]){if(0x0===this[_0x96fe7e(0x942)][_0x96fe7e(0x727)])return this[_0x96fe7e(0x942)]=this['transactionsToAppend'],this['transactionsToAppend']=[],await this[_0x96fe7e(0x8b1)]();if(this['transactionsToAppend'][_0x96fe7e(0x1c1)](this[_0x96fe7e(0x469)]),this[_0x96fe7e(0x469)](this[_0x96fe7e(0x4a5)][0x0],this[_0x96fe7e(0x942)][this[_0x96fe7e(0x942)]['length']-0x1])>0x0){this[_0x96fe7e(0x4cf)]['logger'][_0x96fe7e(0x65c)](_0x96fe7e(0x977)+this['transactionsToAppend'][_0x96fe7e(0x727)]+_0x96fe7e(0xa47)+this['transactions'][_0x96fe7e(0x727)]);for(const _0x36ab18 of this[_0x96fe7e(0x4a5)])this[_0x96fe7e(0x942)]['push'](_0x36ab18),this[_0x96fe7e(0x44c)](_0x36ab18,this[_0x96fe7e(0x4a5)][_0x96fe7e(0x727)]);return this[_0x96fe7e(0x4a5)]=[],void this['loggingCycle'][_0x96fe7e(0x2d7)][_0x96fe7e(0x65c)](_0x96fe7e(0x42a),async()=>_0x96fe7e(0x795)+await this[_0x96fe7e(0x1b9)]['getRoot']()+_0x96fe7e(0x62a)+this[_0x96fe7e(0x1b9)]['getTotalNodes']());}this[_0x96fe7e(0x4cf)][_0x96fe7e(0x2d7)]['log'](_0x96fe7e(0x2b3)+this[_0x96fe7e(0x4a5)][_0x96fe7e(0x727)]+_0x96fe7e(0xa47)+this[_0x96fe7e(0x942)][_0x96fe7e(0x727)]),this[_0x96fe7e(0x942)][_0x96fe7e(0x67b)](...this[_0x96fe7e(0x4a5)]),this['transactionsToAppend']=[],this[_0x96fe7e(0x8b1)]();}}async[_0x2e7de5(0x8d6)](){const _0x46f198=_0x2e7de5;if(!_0x31c6d3[_0x46f198(0x7f7)](_0x2387f2[_0x46f198(0xa2b)]))return;await this[_0x46f198(0x1b9)][_0x46f198(0x57c)];const {dataSent:_0x2a2352,dataReceived:_0x1796d1}=this['loggingCycle']['getDataLogged']();_0x31c6d3[_0x46f198(0x65c)](_0x2387f2[_0x46f198(0xa2b)],_0x46f198(0x901),this[_0x46f198(0x7b6)],_0x46f198(0x775)+_0x2a2352,_0x46f198(0x872)+_0x1796d1,_0x46f198(0x60f),await this[_0x46f198(0x1b9)][_0x46f198(0x6e5)](),'\x0a\x20===\x20Total\x20Nodes:',this[_0x46f198(0x1b9)][_0x46f198(0x950)]());}async[_0x2e7de5(0x4c3)](){const _0xcc8be2=_0x2e7de5;if(!_0x31c6d3[_0xcc8be2(0x7f7)](_0x2387f2['KeyValueDatabase']))return;const _0x4b0128=this[_0xcc8be2(0x1b9)][_0xcc8be2(0x465)](),_0x8800ee=_0x4b0128[_0xcc8be2(0x28b)](_0x55107e=>_0x55107e[_0xcc8be2(0x3c0)]),_0x53b7fe=await this[_0xcc8be2(0x1b9)][_0xcc8be2(0x6e5)]();_0x31c6d3[_0xcc8be2(0x65c)](_0x2387f2[_0xcc8be2(0xa2b)],_0xcc8be2(0x5d1),this[_0xcc8be2(0x942)]['length'],_0xcc8be2(0x942),this[_0xcc8be2(0x1b9)][_0xcc8be2(0x950)](),_0xcc8be2(0x1b6),_0x4b0128['length'],_0xcc8be2(0x794),_0x8800ee,'root\x20hash:\x20',_0x53b7fe);}}const _0x1956e9=require('@crewdle/mist-connector-opfs'),_0x4578c7=require('@crewdle/mist-connector-indexed-db'),_0x16e0b7=require('@crewdle/mist-connector-webrtc-browser'),_0x5cfddd=0x1fc00000;var _0x7734ed,_0x168d97,_0x30b2f6,_0xed553,_0x29441a,_0x50d88b,_0x2f76eb,_0x4246ab,_0x4a0fa6;!function(_0x58b1e5){const _0x28b7e4=_0x2e7de5;_0x58b1e5[_0x28b7e4(0x89b)]='AudioContext',_0x58b1e5[_0x28b7e4(0x875)]='AudioOutput',_0x58b1e5[_0x28b7e4(0x31e)]=_0x28b7e4(0x31e),_0x58b1e5['Backgrounds']=_0x28b7e4(0x8b5),_0x58b1e5['DeviceConfig']=_0x28b7e4(0x836),_0x58b1e5['MediaStream']=_0x28b7e4(0x739),_0x58b1e5[_0x28b7e4(0x81c)]=_0x28b7e4(0x81c),_0x58b1e5[_0x28b7e4(0x509)]=_0x28b7e4(0x509),_0x58b1e5[_0x28b7e4(0x955)]=_0x28b7e4(0x955),_0x58b1e5['WebRTC']='WebRTC';}(_0x7734ed||(_0x7734ed={}));class _0x531802{[_0x2e7de5(0x8d2)];[_0x2e7de5(0x922)];[_0x2e7de5(0x686)];constructor(_0x31f942=new Map(),_0x421097=new Map(),_0x1593c5=new EventTarget()){const _0x2999e6=_0x2e7de5;this['registeredListeners']=_0x31f942,this['bufferedEvents']=_0x421097,this[_0x2999e6(0x686)]=_0x1593c5;}[_0x2e7de5(0x47a)]=(_0x1b48d5,_0x4f52d4)=>this[_0x2e7de5(0x8d2)][_0x2e7de5(0x1a4)](_0x1b48d5)?(_0x31c6d3[_0x2e7de5(0x65c)](_0x2387f2['Events'],_0x2e7de5(0x64f),{'event':_0x1b48d5,'data':_0x4f52d4}),this[_0x2e7de5(0x686)][_0x2e7de5(0x5be)](new CustomEvent(_0x1b48d5,{'detail':_0x4f52d4})),!0x0):(this[_0x2e7de5(0x7c2)](_0x1b48d5,_0x4f52d4),!0x1);['on']=(_0x448350,_0x225510)=>{const _0x386b44=_0x2e7de5,_0x3c75d6=_0x3e6bb8=>{const _0x54b145=a0_0x4258;_0x31c6d3[_0x54b145(0x65c)](_0x2387f2[_0x54b145(0x792)],_0x54b145(0x390),_0x3e6bb8[_0x54b145(0x926)],_0x3e6bb8['detail']),_0x225510(_0x3e6bb8['detail']);};return this[_0x386b44(0x8d2)][_0x386b44(0x7ee)](_0x448350,_0x3c75d6),this[_0x386b44(0x686)][_0x386b44(0x32c)](_0x448350,_0x3c75d6),_0x31c6d3[_0x386b44(0x65c)](_0x2387f2['Cluster'],_0x386b44(0x8af),_0x448350,_0x225510),this['consumeBufferedEvents'](_0x448350),this;};[_0x2e7de5(0x70c)](_0x3af5dc){const _0x2cfd06=_0x2e7de5;if(!_0x3af5dc)return this[_0x2cfd06(0x8d2)]['forEach']((_0x29cfb0,_0x9f5655)=>{this['eventTarget']['removeEventListener'](_0x9f5655,_0x29cfb0);}),void this['registeredListeners'][_0x2cfd06(0x2a0)]();'string'==typeof _0x3af5dc&&this[_0x2cfd06(0xa78)](_0x3af5dc),Array[_0x2cfd06(0xa37)](_0x3af5dc)&&_0x3af5dc[_0x2cfd06(0x270)](_0x15c50f=>{const _0x2addb6=_0x2cfd06;this[_0x2addb6(0xa78)](_0x15c50f);});}[_0x2e7de5(0xa78)](_0x39273f){const _0x116cd6=_0x2e7de5,_0x56be26=this[_0x116cd6(0x8d2)][_0x116cd6(0x6ba)](_0x39273f);_0x56be26&&(this['eventTarget'][_0x116cd6(0x862)](_0x39273f,_0x56be26),this[_0x116cd6(0x8d2)][_0x116cd6(0x428)](_0x39273f));}[_0x2e7de5(0x7c2)](_0x2b704f,_0x350ed9){const _0x313d22=_0x2e7de5;_0x31c6d3[_0x313d22(0x65c)](_0x2387f2[_0x313d22(0x792)],'Buffering\x20event',{'event':_0x2b704f,'data':_0x350ed9});const _0xe6640a=this[_0x313d22(0x922)][_0x313d22(0x6ba)](_0x2b704f)||[];this[_0x313d22(0x922)][_0x313d22(0x7ee)](_0x2b704f,[..._0xe6640a,_0x350ed9]);}[_0x2e7de5(0x9ca)](_0x16feb1){const _0x11cf89=_0x2e7de5,_0x543cf8=this[_0x11cf89(0x922)][_0x11cf89(0x6ba)](_0x16feb1);_0x543cf8&&(_0x543cf8[_0x11cf89(0x270)](_0x32f017=>{const _0x2c626e=_0x11cf89;_0x31c6d3[_0x2c626e(0x65c)](_0x2387f2[_0x2c626e(0x792)],_0x2c626e(0x240),{'event':_0x16feb1,'data':_0x32f017}),this[_0x2c626e(0x686)][_0x2c626e(0x5be)](new CustomEvent(_0x16feb1,{'detail':_0x32f017}));}),this[_0x11cf89(0x922)][_0x11cf89(0x428)](_0x16feb1));}}class _0x4d789b extends Error{constructor(_0x5af3b9){const _0x3a4d9d=_0x2e7de5;super(_0x3a4d9d(0x6ab)+_0x5af3b9);}}!function(_0x14aca2){const _0x21f306=_0x2e7de5;_0x14aca2[_0x14aca2[_0x21f306(0x7ea)]=0x0]=_0x21f306(0x7ea),_0x14aca2[_0x14aca2[_0x21f306(0x19c)]=0x1]=_0x21f306(0x19c);}(_0x168d97||(_0x168d97={})),function(_0x520ba1){const _0x43c99c=_0x2e7de5;_0x520ba1[_0x520ba1[_0x43c99c(0x72b)]=0x0]='Offer',_0x520ba1[_0x520ba1[_0x43c99c(0x551)]=0x1]=_0x43c99c(0x551),_0x520ba1[_0x520ba1['Handshake']=0x2]='Handshake',_0x520ba1[_0x520ba1[_0x43c99c(0x848)]=0x3]=_0x43c99c(0x848),_0x520ba1[_0x520ba1[_0x43c99c(0x2c6)]=0x4]=_0x43c99c(0x2c6),_0x520ba1[_0x520ba1[_0x43c99c(0x5cf)]=0x5]=_0x43c99c(0x5cf),_0x520ba1[_0x520ba1[_0x43c99c(0x17d)]=0x6]='Disconnect',_0x520ba1[_0x520ba1[_0x43c99c(0x503)]=0x7]='Stats',_0x520ba1[_0x520ba1[_0x43c99c(0x810)]=0x8]=_0x43c99c(0x810);}(_0x30b2f6||(_0x30b2f6={})),function(_0x2430d3){const _0x153937=_0x2e7de5;_0x2430d3[_0x2430d3['Sender']=0x0]='Sender',_0x2430d3[_0x2430d3[_0x153937(0x988)]=0x1]=_0x153937(0x988);}(_0xed553||(_0xed553={})),function(_0x5cf358){const _0x1d581d=_0x2e7de5;_0x5cf358[_0x1d581d(0x739)]=_0x1d581d(0x79d);}(_0x29441a||(_0x29441a={})),function(_0x4d43b7){const _0x13886c=_0x2e7de5;_0x4d43b7[_0x4d43b7['NodeJoin']=0x0]=_0x13886c(0x50c),_0x4d43b7[_0x4d43b7[_0x13886c(0x857)]=0x1]=_0x13886c(0x857),_0x4d43b7[_0x4d43b7[_0x13886c(0x876)]=0x2]=_0x13886c(0x876),_0x4d43b7[_0x4d43b7['NodeLeave']=0x3]=_0x13886c(0x468);}(_0x50d88b||(_0x50d88b={})),function(_0x4e88e9){const _0x105c86=_0x2e7de5;_0x4e88e9[_0x4e88e9[_0x105c86(0x16f)]=0x0]='Remediation',_0x4e88e9[_0x4e88e9[_0x105c86(0xa2a)]=0x1]=_0x105c86(0xa2a);}(_0x2f76eb||(_0x2f76eb={})),function(_0x3615eb){const _0x1a7920=_0x2e7de5;_0x3615eb[_0x1a7920(0x4ae)]='upgrade',_0x3615eb['Downgrade']=_0x1a7920(0x6c0);}(_0x4246ab||(_0x4246ab={})),function(_0x56240b){const _0x1a82da=_0x2e7de5;_0x56240b[_0x1a82da(0x565)]=_0x1a82da(0x75d),_0x56240b['Bitrate']=_0x1a82da(0x5f2);}(_0x4a0fa6||(_0x4a0fa6={}));const _0xfe99fa=require('aws-amplify'),_0x19b77a=require('aws-amplify/utils'),_0x580a44=require('@aws-amplify/api'),_0x33ac57=require('@aws-amplify/core');class _0x257212{[_0x2e7de5(0x966)];[_0x2e7de5(0x1cc)];['remoteId'];constructor(_0xd656cd,_0x20282b,_0x1fece5){const _0x8651d7=_0x2e7de5;this['clusterId']=_0xd656cd,this['localNode']=_0x20282b,this[_0x8651d7(0x9cc)]=_0x1fece5;}[_0x2e7de5(0x250)](){const _0x133ab1=_0x2e7de5;return this[_0x133ab1(0x1cc)][_0x133ab1(0x2ab)]();}[_0x2e7de5(0x611)](){const _0x1ca401=_0x2e7de5;return this[_0x1ca401(0x9cc)];}}var _0x33d38e,_0x389dbe,_0xa17486;function _0x16cbf2(_0x2569da,_0x26fd4e){const _0x313398=_0x2e7de5;return _0x2569da[_0x313398(0x194)]===_0x26fd4e;}function _0x47d85d(_0x1afaac,_0x3c1ce0){const _0x526ff3=_0x2e7de5;return _0x1afaac[_0x526ff3(0x9e6)]?.[_0x526ff3(0xa49)](_0x3c1ce0)??function(_0x515de5){return void 0x0===_0x515de5['destinationIds'];}(_0x1afaac);}function _0x4248e0(_0x268b65,{contentType:_0xf852e9,label:_0x4d08f1,remoteId:_0x1b7e87}){return _0x268b65+'-'+_0xf852e9+'-'+_0x4d08f1+'-'+_0x1b7e87;}function _0x16ab71(_0x4641b6,_0x389bac,_0x51c903){return''+_0x4641b6+_0x389bac+_0x51c903;}function _0x1235fe(_0x2aa477){const _0x3e123b=_0x2e7de5;return _0x2aa477===_0x389dbe[_0x3e123b(0x863)]?_0x3e123b(0x260):_0x3e123b(0x594);}function _0x5c6bb7(_0x343507,_0x49c6bf){const _0x5952a6=_0x2e7de5;return{'label':_0x343507['getInternalStreamId'](),'contentType':_0x343507['getContentType'](),'remoteId':_0x49c6bf[_0x5952a6(0x611)](),'supportsContentType':_0x49c6bf[_0x5952a6(0x461)]()[_0x5952a6(0xa49)](_0x343507[_0x5952a6(0x924)]())};}!function(_0x26cb32){const _0x5b9146=_0x2e7de5;_0x26cb32[_0x26cb32['Waiting']=0x0]=_0x5b9146(0x653),_0x26cb32[_0x26cb32[_0x5b9146(0x1ce)]=0x1]=_0x5b9146(0x1ce),_0x26cb32[_0x26cb32['Rejected']=0x2]=_0x5b9146(0x41a);}(_0x33d38e||(_0x33d38e={})),function(_0x201694){const _0x64db8a=_0x2e7de5;_0x201694[_0x64db8a(0x863)]='in',_0x201694[_0x64db8a(0x80a)]='out';}(_0x389dbe||(_0x389dbe={}));class _0x1424b5{[_0x2e7de5(0x322)];['retryCallback'];constructor(_0x12d9b4,_0x4067e2){this['callback']=_0x12d9b4,this['retryCallback']=_0x4067e2;}[_0x2e7de5(0x61f)](_0x3fc0af){const _0x4510f0=_0x2e7de5;this[_0x4510f0(0x322)](_0x3fc0af);}async[_0x2e7de5(0x265)](){const _0x3b4b1b=_0x2e7de5;await this[_0x3b4b1b(0x692)]();}}class _0x12bb97{[_0x2e7de5(0x322)];[_0x2e7de5(0x692)];constructor(_0x19e593,_0x97d78){const _0x17cfd9=_0x2e7de5;this['callback']=_0x19e593,this[_0x17cfd9(0x692)]=_0x97d78;}async[_0x2e7de5(0x61f)](_0x16570f){const _0x54192f=_0x2e7de5;await this[_0x54192f(0x322)](_0x16570f);}async[_0x2e7de5(0x265)](){const _0x3cc4f2=_0x2e7de5;await this[_0x3cc4f2(0x692)]();}}function _0x9eaff5(_0x2fb483=()=>{},_0x714114=()=>!0x1,_0x41d75e=()=>{}){let _0x294e87,_0x3757e4,_0x56b74a=0x0;return{get 'size'(){return _0x56b74a;},get 'head'(){return _0x294e87;},get 'tail'(){return _0x3757e4;},set 'head'(_0xeac75f){_0x294e87=_0xeac75f;},set 'tail'(_0x3a74ca){_0x3757e4=_0x3a74ca;},'push'(_0x4e2106,_0x290eca=!0x0){const _0x4057e0=a0_0x4258,_0xca3ea2={'value':_0x4e2106};_0x290eca&&_0x714114(_0xca3ea2)?_0x2fb483():(_0x3757e4&&(_0xca3ea2[_0x4057e0(0x9b4)]=_0x3757e4,_0x3757e4['next']=_0xca3ea2),_0x3757e4=_0xca3ea2,_0x294e87||(_0x294e87=_0xca3ea2),_0x56b74a+=0x1,_0x290eca&&_0x2fb483());},'pop'(){const _0x3bdda6=a0_0x4258;if(!_0x3757e4)return;const _0x4039bb=_0x3757e4[_0x3bdda6(0x17e)];return _0x3757e4=_0x3757e4['previous'],_0x3757e4&&delete _0x3757e4[_0x3bdda6(0x632)],_0x3757e4||(_0x294e87=void 0x0),_0x56b74a-=0x1,_0x4039bb;},'unshift'(_0x1475f6,_0x5a9d5b=!0x0){const _0x5e180a=a0_0x4258,_0x3f3717={'value':_0x1475f6};_0x5a9d5b&&_0x714114(_0x3f3717)?_0x2fb483():(_0x294e87&&(_0x294e87[_0x5e180a(0x9b4)]=_0x3f3717,_0x3f3717['next']=_0x294e87),_0x294e87=_0x3f3717,_0x3757e4||(_0x3757e4=_0x3f3717),_0x56b74a+=0x1,_0x5a9d5b&&_0x2fb483());},'shift'(){const _0x12bef9=a0_0x4258;if(!_0x294e87)return;const _0x2a4e7d=_0x294e87['value'];return _0x294e87=_0x294e87[_0x12bef9(0x632)],_0x294e87&&delete _0x294e87[_0x12bef9(0x9b4)],_0x294e87||(_0x3757e4=void 0x0),_0x56b74a-=0x1,_0x2a4e7d;},'clear'(){_0x41d75e(),_0x294e87=void 0x0,_0x3757e4=void 0x0,_0x56b74a=0x0;}};}function _0x47e44e(_0x4448c4,_0x50e717=!0x1,_0x19b41c=()=>{},_0x4195e3=()=>!0x1,_0x313e57=()=>{}){let _0x1bc69f=!0x1;const _0x1ec63a=_0x9eaff5(async function(){const _0xbdf43e=a0_0x4258;if(!_0x1bc69f){for(_0x1bc69f=!0x0;_0x1ec63a[_0xbdf43e(0x2de)];){const _0x2f069d=_0x1ec63a[_0xbdf43e(0x242)]();if(_0x2f069d)try{_0x4448c4 instanceof _0x1424b5&&_0x4448c4[_0xbdf43e(0x61f)](_0x2f069d),_0x4448c4 instanceof _0x12bb97&&await _0x4448c4['call'](_0x2f069d),_0x19b41c(_0x2f069d);}catch(_0x3e2056){_0x50e717?_0x1ec63a[_0xbdf43e(0x67b)](_0x2f069d,!0x1):_0x1ec63a[_0xbdf43e(0x50d)](_0x2f069d,!0x1),await _0x4448c4[_0xbdf43e(0x265)]();}}_0x1bc69f=!0x1;}},_0x4195e3,_0x313e57);return _0x1ec63a;}class _0x20f57d extends _0x257212{[_0x2e7de5(0x9a1)];[_0x2e7de5(0x70d)];[_0x2e7de5(0x745)]=_0x580a44[_0x2e7de5(0x522)]['Disconnected'];['connectionStateListener']=_0x41b504();[_0x2e7de5(0x985)]=_0x37766();[_0x2e7de5(0x3f9)];[_0x2e7de5(0x62e)];[_0x2e7de5(0x42c)]=_0x47e44e(new _0x12bb97(this[_0x2e7de5(0x587)][_0x2e7de5(0x32d)](this),this[_0x2e7de5(0x48f)]['bind'](this)));[_0x2e7de5(0x2dd)];constructor(_0x4c3186,_0x1d8865,_0x10296c,_0x5d8b80,_0x1a4eb4){const _0x1ed9d4=_0x2e7de5;super(_0x1d8865,_0x10296c,_0x5d8b80),this[_0x1ed9d4(0x9a1)]=_0x4c3186,this[_0x1ed9d4(0x70d)]=_0x1a4eb4;}async[_0x2e7de5(0x684)](){const _0x3486ff=_0x2e7de5;try{const _0xd0dc20={'getTokens':async()=>{const _0x22c330=a0_0x4258,_0x3ada55=await this[_0x22c330(0x70d)][_0x22c330(0x3c6)]();return{'accessToken':(0x0,_0x33ac57['decodeJWT'])(_0x3ada55),'idToken':(0x0,_0x33ac57[_0x22c330(0x3e8)])(_0x3ada55)};}};_0xfe99fa[_0x3486ff(0x62c)]['configure']({'API':{'GraphQL':{'endpoint':_0x2a0c43['aws'][_0x3486ff(0x1c4)],'region':_0x2a0c43[_0x3486ff(0x7b4)][_0x3486ff(0x386)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0xd0dc20}});const _0x49fe53=(0x0,_0x580a44[_0x3486ff(0x19a)])();this[_0x3486ff(0x2dd)]=_0x49fe53,await this[_0x3486ff(0x683)](),this[_0x3486ff(0x62e)]=_0x19b77a['Hub']['listen'](_0x3486ff(0x40a),async({payload:_0x3820e8})=>{const _0x52fa51=_0x3486ff;if(_0x3820e8[_0x52fa51(0x58c)]===_0x580a44[_0x52fa51(0x464)]){const _0x23fe51=_0x3820e8[_0x52fa51(0x672)];this[_0x52fa51(0x745)]=_0x23fe51['connectionState'],this['connectionStateListener']['publish'](_0x23fe51[_0x52fa51(0x745)]),this[_0x52fa51(0x745)]===_0x580a44['ConnectionState'][_0x52fa51(0x69b)]?(_0x31c6d3[_0x52fa51(0x972)](_0x52fa51(0x79c),{'clusterId':this[_0x52fa51(0x966)],'nodeId':this[_0x52fa51(0x250)](),'nodeType':this[_0x52fa51(0x1cc)]['type']}),this['close'](),this[_0x52fa51(0x684)]()):this[_0x52fa51(0x745)]===_0x580a44[_0x52fa51(0x522)][_0x52fa51(0x2fa)]?_0x31c6d3[_0x52fa51(0x63b)](_0x52fa51(0x915),{'clusterId':this[_0x52fa51(0x966)],'nodeId':this[_0x52fa51(0x250)](),'nodeType':this[_0x52fa51(0x1cc)][_0x52fa51(0x926)]}):_0x31c6d3[_0x52fa51(0x63b)]('appsync-statechange',{'clusterId':this[_0x52fa51(0x966)],'nodeId':this[_0x52fa51(0x250)](),'nodeType':this[_0x52fa51(0x1cc)][_0x52fa51(0x926)],'data':{'state':_0x23fe51['connectionState']}});}});}catch(_0x36dae6){_0x31c6d3['error']('appsync-connect-fail',{'clusterId':this[_0x3486ff(0x966)],'nodeId':this[_0x3486ff(0x250)](),'nodeType':this[_0x3486ff(0x1cc)]['type']});}}[_0x2e7de5(0x6f0)](){const _0x4beeec=_0x2e7de5;_0x31c6d3[_0x4beeec(0x63b)](_0x4beeec(0x25a),{'clusterId':this[_0x4beeec(0x966)],'nodeId':this['getLocalId'](),'nodeType':this[_0x4beeec(0x1cc)][_0x4beeec(0x926)]}),this[_0x4beeec(0x42c)]['clear'](),this['listenUnsubscriber']?.(),this[_0x4beeec(0x3f9)]?.[_0x4beeec(0x615)](),delete this['subscription'];}[_0x2e7de5(0x33d)](){const _0x2ca6f3=_0x2e7de5;return this[_0x2ca6f3(0x745)]===_0x580a44['ConnectionState'][_0x2ca6f3(0x2fa)];}[_0x2e7de5(0x4d9)](_0x3410c4){const _0x2bdca1=_0x2e7de5;this['retryQueue'][_0x2bdca1(0x67b)](_0x3410c4);}[_0x2e7de5(0x805)](_0x472910){const _0x33727d=_0x2e7de5;return this[_0x33727d(0x985)][_0x33727d(0x683)](_0x472910);}[_0x2e7de5(0x461)](){const _0x1034ca=_0x2e7de5;return[_0x564b37[_0x1034ca(0x8c6)][_0x1034ca(0x264)]];}async[_0x2e7de5(0x48f)](){const _0x4a955a=_0x2e7de5;if(!this[_0x4a955a(0x33d)]())return new Promise(_0x2e83aa=>{const _0x3d7145=_0x4a955a,_0x1d84e6=this[_0x3d7145(0x59f)][_0x3d7145(0x683)](_0x45d66c=>{const _0x450dcf=_0x3d7145;_0x45d66c===_0x580a44[_0x450dcf(0x522)][_0x450dcf(0x2fa)]&&(_0x1d84e6(),_0x2e83aa());});});}async[_0x2e7de5(0x587)](_0x13d2c5){const _0x4297b8=_0x2e7de5;if(this[_0x4297b8(0x745)]!==_0x580a44[_0x4297b8(0x522)][_0x4297b8(0x2fa)])throw new Error(_0x4297b8(0x5c1));_0x13d2c5[_0x4297b8(0x9e6)]&&0x1===_0x13d2c5[_0x4297b8(0x9e6)][_0x4297b8(0x727)]?await this[_0x4297b8(0x4df)](_0x13d2c5['destinationIds'][0x0],JSON['stringify'](_0x13d2c5)):_0x31c6d3['error']('appsync-no-destination',{'clusterId':this[_0x4297b8(0x966)],'nodeId':this[_0x4297b8(0x250)](),'nodeType':this['localNode']['type']});}async[_0x2e7de5(0x4df)](_0x691328,_0x1cff33){const _0x1090ae=_0x2e7de5;if(!this[_0x1090ae(0x2dd)])throw new Error(_0x1090ae(0x867));_0x31c6d3['log'](_0x2387f2[_0x1090ae(0x230)],'AppSync\x20publish',this[_0x1090ae(0x250)](),_0x1cff33),await this[_0x1090ae(0x2dd)]['graphql']({'query':_0x1090ae(0x939),'variables':{'name':await this[_0x1090ae(0x8e1)](_0x691328),'data':_0x1cff33}});}async[_0x2e7de5(0x683)](){const _0x1f13b6=_0x2e7de5;if(this[_0x1f13b6(0x3f9)])return;if(!this['client'])throw new Error(_0x1f13b6(0x867));_0x31c6d3[_0x1f13b6(0x65c)](_0x2387f2[_0x1f13b6(0x230)],_0x1f13b6(0x71c),this['getLocalId']());const _0x63d384=await this['client'][_0x1f13b6(0x8da)]({'query':_0x1f13b6(0x41e),'variables':{'name':await this[_0x1f13b6(0x8e1)]()},'authToken':await this[_0x1f13b6(0x70d)][_0x1f13b6(0x3c6)]()},{'Authorization':await this['authService'][_0x1f13b6(0x3c6)]()});this[_0x1f13b6(0x3f9)]=_0x63d384[_0x1f13b6(0x683)]({'next':({data:_0x4f28a5})=>{const _0x2b04a2=_0x1f13b6,_0x59910f=JSON[_0x2b04a2(0xa82)](_0x4f28a5[_0x2b04a2(0x683)][_0x2b04a2(0x672)]);!_0x16cbf2(_0x59910f,this[_0x2b04a2(0x250)]())&&_0x47d85d(_0x59910f,this['getLocalId']())&&this[_0x2b04a2(0x985)][_0x2b04a2(0x4df)](_0x59910f);},'error':console[_0x1f13b6(0x65c)]});}async[_0x2e7de5(0x8e1)](_0x28ce59){const _0x527c26=_0x2e7de5,_0x233ff4=await crypto[_0x527c26(0x879)]['digest'](_0x527c26(0x6ee),new TextEncoder()[_0x527c26(0x908)](this[_0x527c26(0x9a1)]+'-'+this['clusterId']+'-'+(_0x28ce59??this['getLocalId']())));return Array[_0x527c26(0xa4b)](new Uint8Array(_0x233ff4))[_0x527c26(0x28b)](_0x41e725=>_0x41e725['toString'](0x10)[_0x527c26(0x17f)](0x2,'0'))[_0x527c26(0x396)]('');}}!function(_0xa23c6){const _0x3800af=_0x2e7de5;_0xa23c6[_0xa23c6[_0x3800af(0x6b5)]=0x0]=_0x3800af(0x6b5),_0xa23c6[_0xa23c6[_0x3800af(0x890)]=0x1]='Remove',_0xa23c6[_0xa23c6[_0x3800af(0xa0e)]=0x2]=_0x3800af(0xa0e),_0xa23c6[_0xa23c6[_0x3800af(0x579)]=0x3]='RemoteAdd',_0xa23c6[_0xa23c6[_0x3800af(0x6a1)]=0x4]=_0x3800af(0x6a1);}(_0xa17486||(_0xa17486={}));const _0x3a95e6='0',_0x1bf82f=_0x2e7de5(0x4c9),_0x1de6de=_0x38b122,_0x4d190c=0xbe800;class _0x49aad9{['clusterId'];['localNode'];[_0x2e7de5(0x9cc)];['iceServers'];[_0x2e7de5(0x9b0)];[_0x2e7de5(0x354)];[_0x2e7de5(0x1bf)];[_0x2e7de5(0x5f6)];[_0x2e7de5(0x27a)]=0x1;[_0x2e7de5(0x24d)];[_0x2e7de5(0xa7f)]=[];[_0x2e7de5(0x16b)]=[];[_0x2e7de5(0x23e)];constructor(_0x3ce835,_0x16e12f,_0xc0c4a6,_0x63f31e,_0x33aa77,_0x336a6c){const _0x3186fb=_0x2e7de5;this['clusterId']=_0x3ce835,this['localNode']=_0x16e12f,this[_0x3186fb(0x9cc)]=_0xc0c4a6,this[_0x3186fb(0x338)]=_0x63f31e,this[_0x3186fb(0x9b0)]=_0x33aa77,this['connectionConstructor']=_0x336a6c,this[_0x3186fb(0x1bf)]=new this[(_0x3186fb(0x354))]({'handshakeServers':this[_0x3186fb(0x338)]}),this['setupConnectionEvents']();}[_0x2e7de5(0x6f0)](){const _0xfdfcaf=_0x2e7de5;this[_0xfdfcaf(0x532)]();}[_0x2e7de5(0x5b2)](_0x3667bc){const _0x461f53=_0x2e7de5;this[_0x461f53(0x9b0)]=_0x3667bc;}async[_0x2e7de5(0x17c)](_0x244e65,_0x41047c){const _0x50a294=_0x2e7de5;if(_0x41047c===this[_0x50a294(0x27a)])for(const _0xfcaa92 of _0x244e65){if(!this['connection'][_0x50a294(0x52d)])return this[_0x50a294(0x395)](_0xfcaa92);try{await this['connection'][_0x50a294(0x612)](_0xfcaa92);}catch(_0x4859f5){this[_0x50a294(0x395)](_0xfcaa92);}}}['isConnected'](){const _0x417913=_0x2e7de5;return this[_0x417913(0x2f5)](),_0x417913(0x783)===this[_0x417913(0x1bf)][_0x417913(0x745)]&&['connected',_0x417913(0x420)][_0x417913(0xa49)](this['connection'][_0x417913(0x8ef)])&&_0x417913(0x6d0)!==this['connection']['signalingState']&&_0x417913(0x35d)===this[_0x417913(0x5f6)]?.[_0x417913(0x5bf)];}['registerSystemPublisher'](_0xbd51da){this['systemTopic']=_0xbd51da;}['unregisterSystemPublisher'](){const _0x4aee1f=_0x2e7de5;delete this[_0x4aee1f(0x24d)];}[_0x2e7de5(0x8fc)](_0x1c9ef0){const _0x13b9c8=_0x2e7de5;this['stopConnection'](),this['connection']=new this[(_0x13b9c8(0x354))]({'handshakeServers':this[_0x13b9c8(0x338)]}),_0x1c9ef0?this[_0x13b9c8(0x27a)]=_0x1c9ef0:this[_0x13b9c8(0x27a)]+=0x1,this[_0x13b9c8(0x495)]();}['processPendingHandshakeCandidates'](){this['pendingHandshakeCandidates']['forEach'](_0x3014ac=>{const _0x48db9e=a0_0x4258;try{this[_0x48db9e(0x1bf)]['addCandidate'](_0x3014ac);}catch(_0xef0060){}}),this['pendingHandshakeCandidates']=[];}[_0x2e7de5(0x613)](_0x1992de,_0x4f9df7){const _0x16bf87=_0x2e7de5;if(!this[_0x16bf87(0x24d)])throw new _0x26bf2d(_0x26bf2d[_0x16bf87(0x269)]['MissingSystemTopic'],{'content':_0x1992de});const _0x5cffd7={'sourceId':this[_0x16bf87(0x1cc)]['getId'](),'destinationIds':[this[_0x16bf87(0x9cc)]],'propagate':this[_0x16bf87(0x9b0)]!==_0x168d97['Core'],'retry':this['connectionType']!==_0x168d97['Core'],'messageType':_0x31418b[_0x16bf87(0x99f)],'content':_0x1992de};_0x4f9df7&&(_0x5cffd7[_0x16bf87(0x9f7)]=_0x4f9df7),this[_0x16bf87(0x24d)][_0x16bf87(0x4df)](_0x5cffd7);}[_0x2e7de5(0x495)](){const _0x18269f=_0x2e7de5;this[_0x18269f(0x1bf)]['onGatheringStateChange']=()=>{const _0x2ffcb5=_0x18269f;'complete'===this[_0x2ffcb5(0x1bf)][_0x2ffcb5(0x379)]&&this['handshakeCandidates'][_0x2ffcb5(0x727)]>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x2ffcb5(0x23e)]),this[_0x2ffcb5(0x23e)]=setTimeout(()=>{const _0x979948=_0x2ffcb5;delete this[_0x979948(0x23e)],this[_0x979948(0x193)](),this[_0x979948(0xa7f)]=[];},0x1f4));},this[_0x18269f(0x1bf)]['onCandidate']=_0x2d72bd=>{const _0x189834=_0x18269f;_0x2d72bd[_0x189834(0x2ba)]&&this[_0x189834(0xa7f)][_0x189834(0x67b)](_0x2d72bd[_0x189834(0x2ba)]);};}[_0x2e7de5(0x532)](){const _0x4ffb9b=_0x2e7de5;clearTimeout(this[_0x4ffb9b(0x23e)]),delete this[_0x4ffb9b(0x23e)],this[_0x4ffb9b(0xa7f)]=[],this[_0x4ffb9b(0x16b)]=[],this[_0x4ffb9b(0x5f6)]&&(this[_0x4ffb9b(0x5f6)][_0x4ffb9b(0x805)]=null,this[_0x4ffb9b(0x5f6)][_0x4ffb9b(0x720)]=null,this['dataChannel'][_0x4ffb9b(0x6f0)](),delete this[_0x4ffb9b(0x5f6)]),this[_0x4ffb9b(0x1bf)]['onGatheringStateChange']=null,this[_0x4ffb9b(0x1bf)][_0x4ffb9b(0x8b3)]=null,this[_0x4ffb9b(0x1bf)][_0x4ffb9b(0x5e2)]=null,this[_0x4ffb9b(0x1bf)][_0x4ffb9b(0x445)]=null,this['connection'][_0x4ffb9b(0x9d7)]=null,this[_0x4ffb9b(0x1bf)]['onDataChannel']=null,this[_0x4ffb9b(0x1bf)][_0x4ffb9b(0x6f0)]();}[_0x2e7de5(0x395)](_0x1a64fd){const _0xf0050f=_0x2e7de5;this[_0xf0050f(0x16b)][_0xf0050f(0x67b)](_0x1a64fd);}[_0x2e7de5(0x2f5)](){const _0x833819=_0x2e7de5;_0x31c6d3['log'](_0x2387f2[_0x833819(0x522)],_0x833819(0x785),{'localId':this[_0x833819(0x1cc)]['getId'](),'remoteId':this[_0x833819(0x9cc)],'connectionState':this[_0x833819(0x1bf)][_0x833819(0x745)],'handshakeState':this[_0x833819(0x1bf)][_0x833819(0x8ef)],'signalingState':this[_0x833819(0x1bf)][_0x833819(0x812)],'dataChannelState':this['dataChannel']?.[_0x833819(0x5bf)]});}}function _0x315151(_0x550e31,_0x9cfb5b){const _0x240e01=_0x2e7de5;_0x9cfb5b[_0x240e01(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x240e01(0x99f)],'content':_0x550e31});}class _0x4d8b8a{static [_0x2e7de5(0x79e)];[_0x2e7de5(0x450)]=[];[_0x2e7de5(0x7b7)];constructor(){setInterval(()=>{this['parameters']['forEach'](_0x900d89=>{const _0x29af1f=a0_0x4258;if(Date[_0x29af1f(0x974)]()-_0x900d89[_0x29af1f(0x3be)]>_0x900d89['interval']){try{_0x900d89[_0x29af1f(0x322)]();}catch(_0x49d1fa){}_0x900d89[_0x29af1f(0x3be)]=Date[_0x29af1f(0x974)]();}});},0x64);}static[_0x2e7de5(0x6f6)](){const _0x369d4a=_0x2e7de5;return _0x4d8b8a[_0x369d4a(0x79e)]||(_0x4d8b8a[_0x369d4a(0x79e)]=new _0x4d8b8a()),_0x4d8b8a[_0x369d4a(0x79e)];}[_0x2e7de5(0x781)](_0x102706){const _0x30aa00=_0x2e7de5,_0x20298f=this[_0x30aa00(0x9fd)](_0x102706),_0x3a69d5=_0x102706['createGain']();_0x3a69d5&&_0x20298f&&(_0x3a69d5[_0x30aa00(0x906)][_0x30aa00(0x17e)]=0.001,_0x20298f[_0x30aa00(0x684)](_0x3a69d5),_0x3a69d5[_0x30aa00(0x684)](_0x102706[_0x30aa00(0x5d3)]),_0x20298f[_0x30aa00(0x640)]());}[_0x2e7de5(0x89c)](){const _0x402c3b=_0x2e7de5;this[_0x402c3b(0x7b7)]&&(this['source'][_0x402c3b(0x511)](),this[_0x402c3b(0x7b7)]['disconnect'](),this[_0x402c3b(0x7b7)]=void 0x0);}[_0x2e7de5(0x265)](_0x40625f){return new Promise(_0x558e5a=>{setTimeout(_0x558e5a,_0x40625f);});}[_0x2e7de5(0x6bd)](_0x12ac6f,_0x24907f){const _0x11e0d2=_0x2e7de5;return this[_0x11e0d2(0x450)]['push']({'callback':_0x12ac6f,'interval':_0x24907f,'lastExecuted':Date[_0x11e0d2(0x974)]()}),()=>{this['parameters']=this['parameters']['filter'](_0x4c6f25=>_0x4c6f25['callback']!==_0x12ac6f);};}[_0x2e7de5(0x9fd)](_0x37b2d6){const _0x52d5a2=_0x2e7de5;if(_0x37b2d6[_0x52d5a2(0x9fd)])return _0x37b2d6[_0x52d5a2(0x9fd)]();const _0x3fdaa7=_0x37b2d6[_0x52d5a2(0x641)](),_0x44660d=_0x37b2d6[_0x52d5a2(0x589)](0x1,0x1,_0x37b2d6[_0x52d5a2(0x3ec)]);return _0x44660d[_0x52d5a2(0x40e)](0x0)[0x0]=0xa,_0x3fdaa7[_0x52d5a2(0x885)]=_0x44660d,_0x3fdaa7[_0x52d5a2(0x7e2)]=!0x0,_0x3fdaa7;}}const _0x31d9e2=_0x4d8b8a[_0x2e7de5(0x6f6)]();class _0x187ff2 extends _0x49aad9{[_0x2e7de5(0x1aa)]=_0x41b504();[_0x2e7de5(0x1fc)]=_0x41b504();[_0x2e7de5(0x808)]=_0x41b504();[_0x2e7de5(0x5aa)]=new Map();[_0x2e7de5(0x73c)]=new Map();[_0x2e7de5(0xa63)];[_0x2e7de5(0x31f)]=0x0;[_0x2e7de5(0x79f)]={'messages':{'total':0x0}};[_0x2e7de5(0x1be)]=0x0;[_0x2e7de5(0x208)]=0x0;[_0x2e7de5(0x4cf)]=_0x1c144a(_0x2e7de5(0x2ce),_0x2387f2['ReceiverOnMessage']);[_0x2e7de5(0x6f0)](){const _0x3a0ca1=_0x2e7de5;this[_0x3a0ca1(0x586)](),this[_0x3a0ca1(0x5aa)][_0x3a0ca1(0x2a0)](),super['close']();}async[_0x2e7de5(0x773)](_0x1700eb,_0x4c5a55){const _0x3bc5b6=_0x2e7de5;this[_0x3bc5b6(0x27a)]=_0x4c5a55,this['clearWaitSuccess']();const _0x240c00=await this[_0x3bc5b6(0x1bf)][_0x3bc5b6(0x90e)](_0x1700eb);this[_0x3bc5b6(0x7d3)]();const _0x3b53af=(0x0,_0x328cbd['v4'])();this[_0x3bc5b6(0x613)]({'type':_0x30b2f6[_0x3bc5b6(0x551)],'answer':_0x240c00,'version':_0x4c5a55,'connectionType':this[_0x3bc5b6(0x9b0)]},_0x3b53af),this[_0x3bc5b6(0x9b0)]===_0x168d97[_0x3bc5b6(0x7ea)]&&(this['waitSuccess']=_0x31d9e2[_0x3bc5b6(0x6bd)](()=>{const _0x3d49f1=_0x3bc5b6;this[_0x3d49f1(0x613)]({'type':_0x30b2f6[_0x3d49f1(0x551)],'answer':_0x240c00,'version':_0x4c5a55,'connectionType':this[_0x3d49f1(0x9b0)]},_0x3b53af);},0x1388));}[_0x2e7de5(0x8ae)](){const _0x1535cd=_0x2e7de5;this[_0x1535cd(0x586)]();}[_0x2e7de5(0x90a)](_0x2267aa){const _0x35275d=_0x2e7de5;this['resetConnection'](_0x2267aa),this[_0x35275d(0x613)]({'type':_0x30b2f6[_0x35275d(0x5cf)]});}async[_0x2e7de5(0xa6f)](){const _0x4cee57=_0x2e7de5;this[_0x4cee57(0x24d)]&&(await this[_0x4cee57(0x1bf)][_0x4cee57(0x728)](this[_0x4cee57(0x5aa)],(_0x5c8227,_0x25f5d1)=>{const _0x34f748=_0x4cee57;_0x315151({'type':_0x30b2f6[_0x34f748(0x503)],'streamId':_0x25f5d1,'nodeId':this[_0x34f748(0x9cc)],'stats':_0x5c8227},this['systemTopic']);}),this[_0x4cee57(0x24d)][_0x4cee57(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x4cee57(0x99f)],'content':{'type':_0x30b2f6[_0x4cee57(0x503)],'nodeId':this[_0x4cee57(0x9cc)],'stats':{'origin':_0xed553[_0x4cee57(0x988)],'timestamp':Date['now'](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x4cee57(0x1be)],'timeReceiving':this[_0x4cee57(0x208)],'systemMessages':this['systemMessagesReceived']}}}));}[_0x2e7de5(0x805)](_0x2e54a9){const _0x47cc99=_0x2e7de5;return _0x2a0c43[_0x47cc99(0x4a9)]?this[_0x47cc99(0x1aa)][_0x47cc99(0x683)](_0x2e54a9):this[_0x47cc99(0x1aa)]['subscribe'](_0x42848d=>{const _0x3f70f7=_0x47cc99;0x0===_0x42848d[_0x3f70f7(0x582)]&&_0x42848d[_0x3f70f7(0x853)]===_0x31418b[_0x3f70f7(0x938)]&&this[_0x3f70f7(0x4cf)][_0x3f70f7(0x2d7)][_0x3f70f7(0x65c)]('ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20'+this[_0x3f70f7(0x9cc)],()=>_0x26fd3f(_0x42848d)),_0x2e54a9(_0x42848d);});}[_0x2e7de5(0x9d7)](_0x59e0d8){const _0x19765b=_0x2e7de5;return this[_0x19765b(0x1fc)]['subscribe'](({track:_0x3c3522,stream:_0x534451})=>_0x59e0d8(_0x3c3522,_0x534451));}[_0x2e7de5(0x6b9)](_0x34aa5d){const _0x26db26=_0x2e7de5;return this[_0x26db26(0x808)][_0x26db26(0x683)](({track:_0x13bcbf,stream:_0x2cfb97})=>_0x34aa5d(_0x13bcbf,_0x2cfb97));}[_0x2e7de5(0x8fc)](_0x5e32e7){const _0x4b1d2c=_0x2e7de5;this[_0x4b1d2c(0x586)](),this[_0x4b1d2c(0x5aa)]['forEach'](_0x1499cf=>{const _0x3f4ceb=_0x4b1d2c;_0x1499cf[_0x3f4ceb(0x2a0)]();}),super[_0x4b1d2c(0x8fc)](_0x5e32e7);}[_0x2e7de5(0x193)](){const _0x3255d9=_0x2e7de5;this[_0x3255d9(0x613)]({'type':_0x30b2f6[_0x3255d9(0x249)],'candidates':this['handshakeCandidates'],'origin':_0xed553['Receiver'],'version':this[_0x3255d9(0x27a)],'connectionType':this['connectionType']});}[_0x2e7de5(0x495)](){const _0x280a84=_0x2e7de5;super[_0x280a84(0x495)](),this[_0x280a84(0x1bf)][_0x280a84(0x9d7)]=_0x1280d3=>{const _0x36d8b6=_0x280a84;_0x31c6d3[_0x36d8b6(0x65c)](_0x2387f2[_0x36d8b6(0x4f9)],_0x36d8b6(0x757),this[_0x36d8b6(0x1cc)][_0x36d8b6(0x2ab)](),_0x1280d3),_0x1280d3['streams'][0x0][_0x36d8b6(0x66b)]=_0x4e83f4=>{const _0x3fe819=_0x36d8b6;this[_0x3fe819(0x5aa)]['get'](_0x1280d3[_0x3fe819(0x18d)][0x0]['id'])?.[_0x3fe819(0x428)](_0x4e83f4[_0x3fe819(0x9e5)]),0x0===this[_0x3fe819(0x5aa)][_0x3fe819(0x6ba)](_0x1280d3[_0x3fe819(0x18d)][0x0]['id'])?.[_0x3fe819(0x777)]&&this[_0x3fe819(0x5aa)][_0x3fe819(0x428)](_0x1280d3[_0x3fe819(0x18d)][0x0]['id']),this[_0x3fe819(0x808)][_0x3fe819(0x4df)]({'track':_0x4e83f4[_0x3fe819(0x9e5)],'stream':_0x1280d3['streams'][0x0]});},this[_0x36d8b6(0x5aa)][_0x36d8b6(0x1a4)](_0x1280d3[_0x36d8b6(0x18d)][0x0]['id'])||this[_0x36d8b6(0x5aa)][_0x36d8b6(0x7ee)](_0x1280d3['streams'][0x0]['id'],new Set()),this[_0x36d8b6(0x5aa)][_0x36d8b6(0x6ba)](_0x1280d3[_0x36d8b6(0x18d)][0x0]['id'])['add'](_0x1280d3[_0x36d8b6(0x9e5)]),this['trackCallback'][_0x36d8b6(0x4df)]({'track':_0x1280d3[_0x36d8b6(0x9e5)],'stream':_0x1280d3['streams'][0x0]});},this[_0x280a84(0x1bf)][_0x280a84(0x76b)]=_0x270924=>{const _0x27bd52=_0x280a84;this['dataChannel']=_0x270924[_0x27bd52(0x635)],this[_0x27bd52(0x5f6)]['onMessage']=_0x542bea=>{const _0x1022f2=_0x27bd52;if(_0x542bea[_0x1022f2(0x672)]!==_0x3a95e6)this[_0x1022f2(0x8d7)](_0x542bea[_0x1022f2(0x672)]);else{if(!this[_0x1022f2(0x5f6)])return void _0x31c6d3[_0x1022f2(0x972)](_0x1022f2(0xa6a),{'clusterId':this[_0x1022f2(0x966)],'nodeId':this[_0x1022f2(0x1cc)][_0x1022f2(0x2ab)](),'nodeType':this[_0x1022f2(0x1cc)][_0x1022f2(0x926)],'remoteId':this[_0x1022f2(0x9cc)],'data':{'connection':_0x1022f2(0x5f4)}});if(_0x1022f2(0x35d)!==this[_0x1022f2(0x5f6)][_0x1022f2(0x5bf)])return;this[_0x1022f2(0x5f6)]['send']('1');}};};}['handleOnMessage'](_0x10baac){const _0x3e6a87=_0x2e7de5;if(_0x3e6a87(0x5ea)==typeof _0x10baac&&_0x10baac[_0x3e6a87(0x78d)](_0x1bf82f))return this['messagesReceived']+=0x1,this[_0x3e6a87(0x1be)]+=_0x10baac['length'],this[_0x3e6a87(0xa2f)](_0x10baac);setTimeout(()=>{const _0x42aa11=_0x3e6a87,_0x162558=Date['now']();let _0x388f5d;if((_0x10baac instanceof ArrayBuffer||_0x10baac[_0x42aa11(0x727)]<=_0x1de6de)&&(this[_0x42aa11(0x31f)]+=0x1,this[_0x42aa11(0x1be)]+=_0x10baac instanceof ArrayBuffer?_0x10baac[_0x42aa11(0xa61)]:_0x10baac[_0x42aa11(0x727)]),_0x10baac instanceof ArrayBuffer){const [_0x4533f9,_0x42d077]=this[_0x42aa11(0x4a1)](_0x10baac);_0x388f5d=_0x4533f9,_0x388f5d['content']['data']=_0x42d077;}else _0x388f5d=JSON[_0x42aa11(0xa82)](_0x10baac);if(0x0===_0x388f5d['topicLabel']){this[_0x42aa11(0x79f)]['messages']['total']+=0x1;const {systemMessageType:_0x2fe570,systemContentMessageType:_0x195188}=_0x26fd3f(_0x388f5d);this['systemMessagesReceived'][_0x2fe570]||(this[_0x42aa11(0x79f)][_0x2fe570]={[_0x195188]:0x0}),this[_0x42aa11(0x79f)][_0x2fe570][_0x195188]||(this[_0x42aa11(0x79f)][_0x2fe570][_0x195188]=0x0),this[_0x42aa11(0x79f)][_0x2fe570]['total']||(this[_0x42aa11(0x79f)][_0x2fe570]['total']=0x0),this[_0x42aa11(0x79f)][_0x2fe570][_0x195188]+=0x1,this['systemMessagesReceived'][_0x2fe570][_0x42aa11(0x946)]+=0x1;}this['messageCallback'][_0x42aa11(0x4df)](_0x388f5d),this['timeReceiving']+=Date[_0x42aa11(0x974)]()-_0x162558;},0x0);}['handleChunkMessage'](_0x1d88c3){const _0x2bde01=_0x2e7de5,_0x5b7987=_0x1d88c3[_0x2bde01(0x367)](';'),_0x3ab000=_0x5b7987[0x1],_0x5b3c15=parseInt(_0x5b7987[0x2],0xa),_0x7d3c5e=parseInt(_0x5b7987[0x3],0xa),_0x2111d0=_0x1d88c3['replace'](_0x1bf82f+';'+_0x3ab000+';'+_0x5b3c15+';'+_0x7d3c5e+';','');this['chunks'][_0x2bde01(0x1a4)](_0x3ab000)||this[_0x2bde01(0x73c)][_0x2bde01(0x7ee)](_0x3ab000,[]);const _0x179ce7=this[_0x2bde01(0x73c)][_0x2bde01(0x6ba)](_0x3ab000);_0x179ce7[_0x5b3c15]=_0x2111d0,_0x179ce7['length']===_0x7d3c5e&&(this[_0x2bde01(0x8d7)](_0x179ce7[_0x2bde01(0x396)]('')),this[_0x2bde01(0x73c)]['delete'](_0x3ab000));}[_0x2e7de5(0x586)](){const _0x4cab70=_0x2e7de5;this[_0x4cab70(0xa63)]?.(),delete this[_0x4cab70(0xa63)];}[_0x2e7de5(0x3e5)](_0x1a8d5d){const _0x4e9f8f=_0x2e7de5,_0x385a91=new TextDecoder()[_0x4e9f8f(0x3ce)](_0x1a8d5d);return JSON[_0x4e9f8f(0xa82)](_0x385a91);}['splitParts'](_0x4686fb){const _0x4df503=_0x2e7de5,_0x2c3893=new Uint8Array(_0x4686fb['slice'](0x0,0x4)),_0x2617d4=new Uint32Array(_0x2c3893[_0x4df503(0x885)])[0x0],_0x3992f1=new Uint8Array(_0x4686fb[_0x4df503(0x4bb)](0x4,0x4+_0x2617d4)),_0x5345a0=new Uint8Array(_0x4686fb[_0x4df503(0x4bb)](0x4+_0x2617d4));return[this[_0x4df503(0x3e5)](_0x3992f1['buffer']),_0x5345a0[_0x4df503(0x885)]];}}const _0x4e2425=0xc350;var _0x22085f,_0x27cc25;!function(_0x110d1c){const _0x5d55ca=_0x2e7de5;_0x110d1c[_0x110d1c[_0x5d55ca(0x23a)]=0x0]='High',_0x110d1c[_0x110d1c['Medium']=0x1]=_0x5d55ca(0x5b3),_0x110d1c[_0x110d1c['Low']=0x2]=_0x5d55ca(0x8a2);}(_0x22085f||(_0x22085f={}));class _0x2ec8ea extends _0x49aad9{[_0x2e7de5(0x3cf)];[_0x2e7de5(0x9ae)];[_0x2e7de5(0x5d0)]=new Map();[_0x2e7de5(0x1f8)];[_0x2e7de5(0x6e9)];['lastHeartbeat'];[_0x2e7de5(0x73d)]=!0x1;[_0x2e7de5(0x3aa)];[_0x2e7de5(0xa54)];[_0x2e7de5(0xa22)];[_0x2e7de5(0x42c)]=function(e,t=_0x22085f,s=!0x1){const _0x15f8dc=_0x2e7de5;let n=!0x1;const i=[];async function o(){const _0x4878b2=a0_0x4258;if(!n){for(n=!0x0;i['some'](e=>e[_0x4878b2(0x2de)]);){let t,n=0x0;for(const [e,s]of i['entries']())if(t=s[_0x4878b2(0x242)](),n=e,t)break;if(t)try{if(e instanceof _0x1424b5&&e[_0x4878b2(0x61f)](t),e instanceof _0x12bb97&&await e['call'](t),i[_0x4878b2(0x4bb)](-0x1)[_0x4878b2(0x363)](e=>e[_0x4878b2(0x2de)]))continue;const s=i[_0x4878b2(0x727)]-0x1;n===s&&i[s]['head']&&await _0x31d9e2[_0x4878b2(0x265)](0x0);}catch(o){s?i[n][_0x4878b2(0x67b)](t,!0x1):i[n][_0x4878b2(0x50d)](t,!0x1),await e[_0x4878b2(0x265)]();}}n=!0x1;}}return Object['values'](t)[_0x15f8dc(0x270)](e=>{const _0x4951e1=_0x15f8dc;_0x4951e1(0x5ea)!=typeof e&&(i[e]=_0x9eaff5(o));}),{'queues':i};}(new _0x1424b5(this[_0x2e7de5(0x587)][_0x2e7de5(0x32d)](this),this[_0x2e7de5(0x169)][_0x2e7de5(0x32d)](this)));['messagesSent']=0x0;[_0x2e7de5(0x3e0)]=0x0;[_0x2e7de5(0x3b2)]=0x0;[_0x2e7de5(0x2ef)]=0x0;['oncloseTimeout'];['loggingCycle']=_0x1c144a(_0x2e7de5(0x16c),_0x2387f2[_0x2e7de5(0x8d3)]);constructor(_0x3f15df,_0x3308d8,_0x3b2e89,_0x388d28,_0x491667,_0x447d5c,_0x528f63,_0x45123b){const _0x3c847b=_0x2e7de5;super(_0x3f15df,_0x3308d8,_0x3b2e89,_0x388d28,_0x491667,_0x45123b),this[_0x3c847b(0x3cf)]=_0x447d5c,this[_0x3c847b(0x9ae)]=_0x528f63;}['close'](){const _0x4d95bc=_0x2e7de5;this[_0x4d95bc(0x6f4)](),this['clearHeartbeat'](),delete this[_0x4d95bc(0x748)],this['clearRestartTimeout'](),this[_0x4d95bc(0xa2d)](),this[_0x4d95bc(0x934)](),this[_0x4d95bc(0x5d0)]['clear'](),this['isReconnecting']=!0x1,this[_0x4d95bc(0x42c)][_0x4d95bc(0x39c)][_0x4d95bc(0x270)](_0x54f264=>_0x54f264[_0x4d95bc(0x2a0)]()),this['clearOncloseTimeout'](),super[_0x4d95bc(0x6f0)]();}[_0x2e7de5(0x33d)](){const _0x5da3f3=_0x2e7de5;return!!this[_0x5da3f3(0x748)]&&super[_0x5da3f3(0x33d)]()&&Date[_0x5da3f3(0x974)]()-this['lastHeartbeat']<0x3a98;}async['collectStats'](){const _0x42bad4=_0x2e7de5;this[_0x42bad4(0x24d)]&&(await this[_0x42bad4(0x1bf)][_0x42bad4(0x198)](this[_0x42bad4(0x5d0)],(_0xc82820,_0x2b5073)=>{const _0xa4f1c3=_0x42bad4;_0x315151({'type':_0x30b2f6['Stats'],'streamId':_0x2b5073,'nodeId':this[_0xa4f1c3(0x9cc)],'stats':_0xc82820},this['systemTopic']);}),this['systemTopic'][_0x42bad4(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x42bad4(0x99f)],'content':{'type':_0x30b2f6[_0x42bad4(0x503)],'nodeId':this[_0x42bad4(0x9cc)],'stats':{'origin':_0xed553[_0x42bad4(0x254)],'timestamp':Date[_0x42bad4(0x974)](),'messagesSent':this[_0x42bad4(0x7a2)],'bytesSent':this['bytesSent'],'timeSending':this[_0x42bad4(0x3b2)],'roundTripTime':this[_0x42bad4(0x2ef)]}}}));}async[_0x2e7de5(0x780)](_0x17c641){const _0x4d612b=_0x2e7de5;_0x31c6d3[_0x4d612b(0x65c)](_0x2387f2[_0x4d612b(0x4f9)],_0x4d612b(0x541),this[_0x4d612b(0x1cc)][_0x4d612b(0x2ab)](),this['remoteId']),this['clearRestartTimeout'](),this[_0x4d612b(0xa2d)](),this[_0x4d612b(0x934)](),this[_0x4d612b(0x3aa)]=setTimeout(()=>{const _0x3f71cd=_0x4d612b;this[_0x3f71cd(0x1f9)]();},0x7530),this[_0x4d612b(0x5f6)]||(this[_0x4d612b(0x5f6)]=this['connection'][_0x4d612b(0x1ae)](_0x4d612b(0x672)),this['dataChannel'][_0x4d612b(0x9e3)]=_0x4d190c,this[_0x4d612b(0x5f6)][_0x4d612b(0x720)]=()=>{const _0x144d67=_0x4d612b;this[_0x144d67(0x321)]=setTimeout(()=>{const _0x52e178=_0x144d67;delete this['oncloseTimeout'],[_0x52e178(0x4e9),_0x52e178(0x35d)][_0x52e178(0xa49)](this['dataChannel']?.[_0x52e178(0x5bf)]??'')||this[_0x52e178(0x1f9)]();},0xfa);});const _0x4dcc35=await this[_0x4d612b(0x1bf)]['createOffer'](_0x17c641);this[_0x4d612b(0x748)]||(this[_0x4d612b(0x748)]=Date[_0x4d612b(0x974)]());const _0x525bdb=(0x0,_0x328cbd['v4'])();this[_0x4d612b(0x613)]({'type':_0x30b2f6[_0x4d612b(0x72b)],'offer':_0x4dcc35,'version':this[_0x4d612b(0x27a)],'connectionType':this['connectionType']},_0x525bdb),this[_0x4d612b(0x9b0)]===_0x168d97['Core']&&(this[_0x4d612b(0x6e9)]=_0x31d9e2[_0x4d612b(0x6bd)](()=>{const _0x5a0664=_0x4d612b;this['publishSystemMessage']({'type':_0x30b2f6[_0x5a0664(0x72b)],'offer':_0x4dcc35,'version':this[_0x5a0664(0x27a)],'connectionType':this[_0x5a0664(0x9b0)]},_0x525bdb);},0x1388));}async['handleAnswer'](_0x2eb407,_0x3ac880){const _0x46df20=_0x2e7de5;if(_0x3ac880===this[_0x46df20(0x27a)]){this[_0x46df20(0x934)]();try{await this['connection'][_0x46df20(0x44a)](_0x2eb407,this[_0x46df20(0x780)][_0x46df20(0x32d)](this)),this['processPendingHandshakeCandidates'](),this[_0x46df20(0xa2d)](),this['startHeartbeat']();}catch(_0x46e75b){this[_0x46df20(0x1f9)]();}}}[_0x2e7de5(0x4d9)](_0x380aff){const _0x453b63=_0x2e7de5;if(!this['dataChannel'])throw new _0x26bf2d(_0x26bf2d[_0x453b63(0x269)][_0x453b63(0x350)],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this['localNode'][_0x453b63(0x2ab)](),'remoteId':this['remoteId'],'eventMessage':_0x380aff});if(_0x453b63(0x35d)!==this[_0x453b63(0x5f6)][_0x453b63(0x5bf)])throw new _0x26bf2d(_0x26bf2d[_0x453b63(0x269)][_0x453b63(0x350)],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this['localNode'][_0x453b63(0x2ab)](),'remoteId':this[_0x453b63(0x9cc)],'eventMessage':_0x380aff});let _0x201539;if(_0x380aff[_0x453b63(0x1da)]['data']instanceof ArrayBuffer){const _0x298c34=_0x380aff[_0x453b63(0x1da)][_0x453b63(0x672)];_0x380aff={..._0x380aff,'content':{..._0x380aff['content'],'data':void 0x0}},_0x201539=this['mergeParts'](_0x380aff,_0x298c34);}else _0x201539=JSON[_0x453b63(0x178)](_0x380aff);if(_0x453b63(0x5ea)==typeof _0x201539&&_0x201539['length']>_0x1de6de)return this[_0x453b63(0x5fc)](_0x380aff,_0x201539);0x0===_0x380aff[_0x453b63(0x582)]&&_0x380aff['messageType']===_0x31418b[_0x453b63(0x938)]&&this['loggingCycle'][_0x453b63(0x2d7)][_0x453b63(0x3ad)](()=>_0x31c6d3[_0x453b63(0x65c)](_0x2387f2[_0x453b63(0x8d3)],_0x453b63(0x677),this[_0x453b63(0x9cc)],_0x26fd3f(_0x380aff)),void 0x0);const _0x15f485=0x0===_0x380aff['topicLabel']&&[_0x31418b[_0x453b63(0x704)],_0x31418b['PeerConnection']][_0x453b63(0xa49)](_0x380aff[_0x453b63(0x853)])?_0x22085f[_0x453b63(0x23a)]:_0x380aff instanceof ArrayBuffer?_0x22085f['Low']:_0x22085f[_0x453b63(0x5b3)];this['sendWithRetry'](_0x201539,_0x15f485);}['addTrack'](_0x4d8ecd,_0x28cea0,_0x4897f6,_0x1a2488){const _0x287206=_0x2e7de5,_0x197037=(_0x41ed75=this[_0x287206(0x3cf)],_0xada4b7=this[_0x287206(0x9ae)],Math['floor'](0xe1000*_0x41ed75*_0xada4b7));var _0x41ed75,_0xada4b7;const _0x980fb2=this[_0x287206(0x5d0)][_0x287206(0x6ba)](_0x28cea0['id'])||{'stream':_0x28cea0,'priority':_0x4897f6,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x197037,'maxBitrate':_0x197037,'framerate':this[_0x287206(0x3cf)],'maxFramerate':this[_0x287206(0x3cf)],'tracks':{},'params':_0x1a2488},_0x452b7d=_0x980fb2[_0x287206(0x2d3)][_0x4d8ecd[_0x287206(0x9fa)]]||{'track':_0x4d8ecd};if(_0x452b7d['sender']?(_0x452b7d[_0x287206(0x9e5)]=_0x4d8ecd,this[_0x287206(0x1bf)]['replaceTrack'](_0x4d8ecd,_0x452b7d[_0x287206(0x6d7)])):_0x452b7d[_0x287206(0x6d7)]=this[_0x287206(0x1bf)]['addTrack'](_0x4d8ecd,_0x28cea0),_0x980fb2[_0x287206(0x2d3)][_0x4d8ecd[_0x287206(0x9fa)]]=_0x452b7d,_0x1a2488&&(_0x980fb2[_0x287206(0x987)]=_0x1a2488),_0x1a2488&&_0x287206(0x6ed)===_0x1a2488[_0x287206(0x9fa)]&&_0x1a2488['resolution']&&_0x1a2488[_0x287206(0x7e6)]&&(_0x980fb2[_0x287206(0x307)]=this[_0x287206(0x36b)](_0x1a2488[_0x287206(0x75d)],_0x1a2488['maxResolution']),_0x980fb2[_0x287206(0x81e)]=_0x980fb2['resolutionScale'],_0x980fb2['tracks'][_0x287206(0x6ed)]&&_0x980fb2[_0x287206(0x2d3)]['video'][_0x287206(0x6d7)])){const _0x19ed40=_0x980fb2['tracks'][_0x287206(0x6ed)][_0x287206(0x6d7)];this[_0x287206(0x1bf)][_0x287206(0x735)](_0x19ed40,Math[_0x287206(0x75e)](0xa*_0x980fb2['resolutionScale'])/0xa,_0x980fb2[_0x287206(0x2fe)],_0x980fb2[_0x287206(0x5f2)],_0x980fb2[_0x287206(0x2a5)]);}this[_0x287206(0x5d0)][_0x287206(0x7ee)](_0x28cea0['id'],_0x980fb2);}[_0x2e7de5(0x549)](_0x4cacb3,_0x1e4c6f){const _0x2d3eff=_0x2e7de5,_0x5860f5=this[_0x2d3eff(0x5d0)][_0x2d3eff(0x6ba)](_0x4cacb3['id']);if(_0x5860f5&&_0x5860f5[_0x2d3eff(0x2a5)]!==_0x1e4c6f&&(_0x5860f5['priority']=_0x1e4c6f,_0x5860f5[_0x2d3eff(0x2d3)][_0x2d3eff(0x6ed)]&&_0x5860f5['tracks']['video'][_0x2d3eff(0x6d7)])){const _0x11253c=_0x5860f5[_0x2d3eff(0x2d3)]['video'][_0x2d3eff(0x6d7)];this[_0x2d3eff(0x1bf)][_0x2d3eff(0x735)](_0x11253c,Math[_0x2d3eff(0x75e)](0xa*_0x5860f5[_0x2d3eff(0x307)])/0xa,_0x5860f5['framerate'],_0x5860f5['bitrate'],_0x5860f5[_0x2d3eff(0x2a5)]);}}[_0x2e7de5(0x37b)](_0x46d154,_0x52115a){const _0x2e82f0=_0x2e7de5,_0x41e367=this[_0x2e82f0(0x5d0)]['get'](_0x46d154['id']);if(_0x41e367){if(_0x41e367['params']=_0x52115a,_0x52115a&&_0x2e82f0(0x6ed)===_0x52115a[_0x2e82f0(0x9fa)]&&_0x52115a[_0x2e82f0(0x75d)]&&_0x52115a[_0x2e82f0(0x7e6)]){if(_0x41e367[_0x2e82f0(0x81e)]=this[_0x2e82f0(0x36b)](_0x52115a[_0x2e82f0(0x75d)],_0x52115a[_0x2e82f0(0x7e6)]),_0x41e367[_0x2e82f0(0x307)]<_0x41e367['minResolutionScale']&&(_0x41e367['resolutionScale']=_0x41e367[_0x2e82f0(0x81e)]),_0x41e367[_0x2e82f0(0x2d3)]['video']&&_0x41e367[_0x2e82f0(0x2d3)][_0x2e82f0(0x6ed)][_0x2e82f0(0x6d7)]){const _0x922482=_0x41e367[_0x2e82f0(0x2d3)][_0x2e82f0(0x6ed)][_0x2e82f0(0x6d7)];this[_0x2e82f0(0x1bf)][_0x2e82f0(0x735)](_0x922482,Math['floor'](0xa*_0x41e367[_0x2e82f0(0x307)])/0xa,_0x41e367[_0x2e82f0(0x2fe)],_0x41e367[_0x2e82f0(0x5f2)],_0x41e367[_0x2e82f0(0x2a5)]);}this[_0x2e82f0(0x6f4)](),this['setUpgradeTimeout']();}this[_0x2e82f0(0x5d0)][_0x2e82f0(0x7ee)](_0x46d154['id'],_0x41e367);}}[_0x2e7de5(0x743)](_0x495c9f,_0x46436c){const _0x185be6=_0x2e7de5,_0x43f3d4=this[_0x185be6(0x5d0)]['get'](_0x46436c['id']);if(_0x43f3d4){const _0x37d525=_0x43f3d4[_0x185be6(0x2d3)][_0x495c9f[_0x185be6(0x9fa)]];_0x37d525&&(_0x37d525[_0x185be6(0x6d7)]&&this[_0x185be6(0x1bf)][_0x185be6(0x743)](_0x37d525['sender']),_0x37d525[_0x185be6(0x9e5)]=void 0x0);}}['applyRemediation'](_0x327b2e){const _0xbf1e0e=_0x2e7de5;this[_0xbf1e0e(0x6f4)]();const _0x249375=function(_0x12ce56,_0x599152){const _0x587d1a=_0xbf1e0e;return _0x12ce56[_0x587d1a(0x1c1)]((_0x268182,_0x13c155)=>_0x599152[_0x587d1a(0x935)]===_0x4246ab[_0x587d1a(0x300)]?_0x13c155['priority']-_0x268182[_0x587d1a(0x2a5)]:_0x268182[_0x587d1a(0x2a5)]-_0x13c155[_0x587d1a(0x2a5)])[_0x587d1a(0x921)](_0x4d179c=>function(_0xa96fcf,_0xa57e89){const _0x216c97=_0x587d1a;if(_0xa57e89[_0x216c97(0x935)]===_0x4246ab[_0x216c97(0x300)]){if(_0xa57e89[_0x216c97(0x608)]===_0x4a0fa6['Resolution'])return _0xa96fcf[_0x216c97(0x307)]<0x4||_0xa96fcf['maxFramerate']>0xf;if(_0xa57e89[_0x216c97(0x608)]===_0x4a0fa6[_0x216c97(0x228)])return _0xa96fcf[_0x216c97(0x357)]>_0x4e2425;}return _0xa96fcf[_0x216c97(0x307)]>_0xa96fcf[_0x216c97(0x81e)]||_0xa96fcf[_0x216c97(0x2fe)]<_0xa96fcf[_0x216c97(0x2f9)]||_0xa96fcf[_0x216c97(0x5f2)]<_0xa96fcf[_0x216c97(0x357)];}(_0x4d179c,_0x599152));}(Array[_0xbf1e0e(0xa4b)](this['senders'][_0xbf1e0e(0x20c)]()),_0x327b2e);if(_0x249375&&(function(_0x346730,_0x54be27){const _0x54880c=_0xbf1e0e;_0x346730[_0x54880c(0x2d3)][_0x54880c(0x6ed)]&&_0x346730[_0x54880c(0x2d3)][_0x54880c(0x6ed)][_0x54880c(0x6d7)]&&(_0x346730[_0x54880c(0x307)]=function(_0x1eb763,_0x5045c5,_0x2c0e6b){const _0x2e9eec=_0x54880c;switch(_0x2c0e6b[_0x2e9eec(0x935)]){case _0x4246ab['Downgrade']:_0x2c0e6b[_0x2e9eec(0x608)]===_0x4a0fa6['Resolution']&&(_0x1eb763+=0.5)>0x4&&(_0x1eb763=0x4);break;case _0x4246ab['Upgrade']:(_0x1eb763-=0.5)<_0x5045c5&&(_0x1eb763=_0x5045c5);}return _0x1eb763;}(_0x346730[_0x54880c(0x307)],_0x346730[_0x54880c(0x81e)],_0x54be27),_0x346730['framerate']=function(_0x168a2a,_0x354be5,_0x5369ca){const _0x5ec04d=_0x54880c;switch(_0x5369ca[_0x5ec04d(0x935)]){case _0x4246ab[_0x5ec04d(0x300)]:_0x5369ca[_0x5ec04d(0x608)]===_0x4a0fa6[_0x5ec04d(0x565)]&&(_0x168a2a-=0x3)<0xf&&(_0x168a2a=0xf);break;case _0x4246ab[_0x5ec04d(0x4ae)]:(_0x168a2a+=0x3)>_0x354be5&&(_0x168a2a=_0x354be5);}return _0x168a2a;}(_0x346730[_0x54880c(0x2fe)],_0x346730['maxFramerate'],_0x54be27),_0x346730[_0x54880c(0x5f2)]=function(_0x5b11c6,_0x24ce51,_0x7575df){const _0x2e6503=_0x54880c;switch(_0x7575df['action']){case _0x4246ab[_0x2e6503(0x300)]:_0x7575df[_0x2e6503(0x608)]===_0x4a0fa6[_0x2e6503(0x228)]&&(_0x5b11c6*=0.75)<_0x4e2425&&(_0x5b11c6=_0x4e2425);break;case _0x4246ab['Upgrade']:(_0x5b11c6*=1.25)>_0x24ce51&&(_0x5b11c6=_0x24ce51);}return _0x5b11c6;}(_0x346730[_0x54880c(0x5f2)],_0x346730[_0x54880c(0x357)],_0x54be27));}(_0x249375,_0x327b2e),_0x249375['tracks'][_0xbf1e0e(0x6ed)]&&_0x249375[_0xbf1e0e(0x2d3)][_0xbf1e0e(0x6ed)]['sender'])){const _0x233ad4=_0x249375[_0xbf1e0e(0x2d3)][_0xbf1e0e(0x6ed)]['sender'];this[_0xbf1e0e(0x1bf)][_0xbf1e0e(0x735)](_0x233ad4,Math[_0xbf1e0e(0x75e)](0xa*_0x249375['resolutionScale'])/0xa,_0x249375[_0xbf1e0e(0x2fe)],_0x249375['bitrate'],_0x249375[_0xbf1e0e(0x2a5)]);}(_0x249375||_0x327b2e[_0xbf1e0e(0x935)]===_0x4246ab['Downgrade'])&&this[_0xbf1e0e(0x9a9)]();}[_0x2e7de5(0x29d)](){const _0x29a2d9=_0x2e7de5;return this[_0x29a2d9(0x42c)][_0x29a2d9(0x39c)][_0x29a2d9(0x2c7)]((_0x4c255f,_0x241302)=>_0x4c255f+_0x241302['size'],0x0)*_0x38b122;}[_0x2e7de5(0x725)](){const _0x16de03=_0x2e7de5;return this['dataChannel']?.[_0x16de03(0x798)]??0x0;}[_0x2e7de5(0x8fc)](){const _0x323c88=_0x2e7de5;super[_0x323c88(0x8fc)](),this[_0x323c88(0x7aa)](),this[_0x323c88(0x934)](),this[_0x323c88(0x5d0)][_0x323c88(0x270)](_0x4a6558=>{const _0x197fc2=_0x323c88;_0x4a6558[_0x197fc2(0x2d3)][_0x197fc2(0x6ed)]&&(_0x4a6558[_0x197fc2(0x2d3)][_0x197fc2(0x6ed)][_0x197fc2(0x6d7)]=void 0x0),_0x4a6558[_0x197fc2(0x2d3)][_0x197fc2(0x20a)]&&(_0x4a6558[_0x197fc2(0x2d3)][_0x197fc2(0x20a)][_0x197fc2(0x6d7)]=void 0x0);}),this[_0x323c88(0x73d)]=!0x0;}async[_0x2e7de5(0x169)](){return new Promise(async _0x3ed40b=>{const _0x3efa2a=a0_0x4258;if(!this[_0x3efa2a(0x5f6)]||'open'!==this[_0x3efa2a(0x5f6)][_0x3efa2a(0x5bf)])return await _0x31d9e2[_0x3efa2a(0x265)](0x64),void _0x3ed40b();this['dataChannel'][_0x3efa2a(0x798)]<_0x4d190c?_0x3ed40b():this[_0x3efa2a(0x5f6)][_0x3efa2a(0x517)]=()=>{const _0xc30e73=_0x3efa2a;this[_0xc30e73(0x5f6)]&&(this[_0xc30e73(0x5f6)][_0xc30e73(0x517)]=null),_0x3ed40b();};});}[_0x2e7de5(0x5fc)](_0x1d051b,_0x170a48){const _0x40910f=_0x2e7de5,_0x153dd6=[];for(let _0x35d81a=0x0;_0x35d81a<_0x170a48[_0x40910f(0x727)];_0x35d81a+=_0x1de6de)_0x153dd6['push'](_0x170a48[_0x40910f(0x4bb)](_0x35d81a,_0x35d81a+_0x1de6de));for(const _0x735a5d of _0x153dd6)this[_0x40910f(0x68d)](_0x1bf82f+';'+_0x1d051b[_0x40910f(0x9f7)]+';'+_0x153dd6[_0x40910f(0x801)](_0x735a5d)+';'+_0x153dd6[_0x40910f(0x727)]+';'+_0x735a5d,_0x22085f[_0x40910f(0x8a2)]);}async[_0x2e7de5(0x68d)](_0xb8da4f,_0x3f2a3b){const _0x3ee1a3=_0x2e7de5;_0xb8da4f===_0x3a95e6?this[_0x3ee1a3(0x42c)][_0x3ee1a3(0x39c)][_0x3f2a3b][_0x3ee1a3(0x2de)]?.[_0x3ee1a3(0x17e)]!==_0x3a95e6&&this[_0x3ee1a3(0x42c)]['queues'][_0x3f2a3b][_0x3ee1a3(0x50d)](_0xb8da4f):this[_0x3ee1a3(0x42c)][_0x3ee1a3(0x39c)][_0x3f2a3b][_0x3ee1a3(0x67b)](_0xb8da4f);}[_0x2e7de5(0x587)](_0x5bfa05){const _0x4c9fa9=_0x2e7de5;if(!this[_0x4c9fa9(0x5f6)]||'open'!==this[_0x4c9fa9(0x5f6)][_0x4c9fa9(0x5bf)])throw new Error(_0x4c9fa9(0x9a4));if(this[_0x4c9fa9(0x5f6)][_0x4c9fa9(0x798)]>=0xbe8000)throw new Error(_0x4c9fa9(0x258));const _0x12e9aa=Date[_0x4c9fa9(0x974)]();_0x5bfa05!==_0x3a95e6&&(this[_0x4c9fa9(0x7a2)]+=0x1,this[_0x4c9fa9(0x3e0)]+=_0x5bfa05 instanceof ArrayBuffer?_0x5bfa05['byteLength']:_0x5bfa05[_0x4c9fa9(0x727)]),ArrayBuffer,this[_0x4c9fa9(0x5f6)]['send'](_0x5bfa05),this[_0x4c9fa9(0x3b2)]+=Date[_0x4c9fa9(0x974)]()-_0x12e9aa;}[_0x2e7de5(0x948)](){const _0x2cdd90=_0x2e7de5;this[_0x2cdd90(0x1f8)]&&this[_0x2cdd90(0x92e)]();let _0x501569=!0x0,_0x152136=Date[_0x2cdd90(0x974)]();this[_0x2cdd90(0x748)]=Date['now'](),this['dataChannel'][_0x2cdd90(0x805)]=_0x4bae6a=>{const _0x47acb1=_0x2cdd90;'1'===_0x4bae6a[_0x47acb1(0x672)]&&(this[_0x47acb1(0x2ef)]=Date[_0x47acb1(0x974)]()-_0x152136,_0x501569&&this[_0x47acb1(0x613)]({'type':_0x30b2f6[_0x47acb1(0x848)]}),_0x501569=!0x1,this[_0x47acb1(0x748)]=Date[_0x47acb1(0x974)](),this[_0x47acb1(0x73d)]&&(this[_0x47acb1(0x73d)]=!0x1,this[_0x47acb1(0x734)]()));},this[_0x2cdd90(0x1f8)]=_0x31d9e2[_0x2cdd90(0x6bd)](()=>{const _0xf2c751=_0x2cdd90;_0x152136=Date[_0xf2c751(0x974)](),this['sendWithRetry'](_0x3a95e6,_0x22085f[_0xf2c751(0x23a)]),Date['now']()-this[_0xf2c751(0x748)]>(_0x501569?0x15f90:0x3a98)&&this[_0xf2c751(0x1f9)]();},0xbb8);}['handleMissingSenders'](){const _0x419a90=_0x2e7de5;this[_0x419a90(0x5d0)][_0x419a90(0x270)](_0x310bac=>{const _0x41d55a=_0x419a90;_0x310bac[_0x41d55a(0x2d3)][_0x41d55a(0x6ed)]&&_0x310bac['tracks'][_0x41d55a(0x6ed)]['track']&&!_0x310bac[_0x41d55a(0x2d3)][_0x41d55a(0x6ed)]['sender']&&(_0x310bac[_0x41d55a(0x2d3)][_0x41d55a(0x6ed)][_0x41d55a(0x6d7)]=this[_0x41d55a(0x1bf)][_0x41d55a(0x835)](_0x310bac[_0x41d55a(0x2d3)]['video']['track'],_0x310bac[_0x41d55a(0x571)])),_0x310bac[_0x41d55a(0x2d3)][_0x41d55a(0x20a)]&&_0x310bac[_0x41d55a(0x2d3)][_0x41d55a(0x20a)][_0x41d55a(0x9e5)]&&!_0x310bac['tracks'][_0x41d55a(0x20a)][_0x41d55a(0x6d7)]&&(_0x310bac[_0x41d55a(0x2d3)][_0x41d55a(0x20a)][_0x41d55a(0x6d7)]=this[_0x41d55a(0x1bf)][_0x41d55a(0x835)](_0x310bac['tracks'][_0x41d55a(0x20a)][_0x41d55a(0x9e5)],_0x310bac[_0x41d55a(0x571)]));});}['sendIceCandidates'](){const _0x464746=_0x2e7de5;this[_0x464746(0x613)]({'type':_0x30b2f6['Handshake'],'candidates':this[_0x464746(0xa7f)],'origin':_0xed553['Sender'],'version':this[_0x464746(0x27a)],'connectionType':this['connectionType']});}[_0x2e7de5(0x495)](){const _0x1af5f3=_0x2e7de5;super[_0x1af5f3(0x495)](),this[_0x1af5f3(0x1bf)][_0x1af5f3(0x5e2)]=()=>{const _0x366350=_0x1af5f3;if(_0x366350(0x84f)===this['connection'][_0x366350(0x8ef)]){_0x31c6d3[_0x366350(0x65c)](_0x2387f2[_0x366350(0x522)],'iceConnectionState\x20failed',this[_0x366350(0x1cc)]['getId'](),this[_0x366350(0x9cc)]);try{if(this[_0x366350(0x1bf)][_0x366350(0x5d8)])return void this[_0x366350(0x1bf)][_0x366350(0x4ee)]();}catch(_0x220f63){}this[_0x366350(0x780)]({'handshakeRestart':!0x0});}},this[_0x1af5f3(0x1bf)]['onConnectionStateChange']=()=>{const _0x591cae=_0x1af5f3;'disconnected'!==this[_0x591cae(0x1bf)][_0x591cae(0x745)]&&_0x591cae(0x84f)!==this['connection']['connectionState']||this[_0x591cae(0x1f9)]();};}['handleDisconnect'](){const _0x5a9825=_0x2e7de5;this[_0x5a9825(0x92e)](),this[_0x5a9825(0x5c3)](),this[_0x5a9825(0xa2d)](),_0x31c6d3[_0x5a9825(0x63b)]('disconnect',{'clusterId':this[_0x5a9825(0x966)],'nodeId':this[_0x5a9825(0x1cc)][_0x5a9825(0x2ab)](),'nodeType':this['localNode']['type'],'remoteId':this[_0x5a9825(0x9cc)],'data':{'connectionType':this[_0x5a9825(0x9b0)],'connectionState':this[_0x5a9825(0x1bf)][_0x5a9825(0x745)],'iceConnectionState':this[_0x5a9825(0x1bf)][_0x5a9825(0x8ef)],'signalingState':this[_0x5a9825(0x1bf)][_0x5a9825(0x812)],'readyState':this[_0x5a9825(0x5f6)]?.[_0x5a9825(0x5bf)]||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x5a9825(0x974)]()-this['lastHeartbeat']:'','retryQueue':this[_0x5a9825(0x42c)]}}),(this[_0x5a9825(0x748)]&&Date[_0x5a9825(0x974)]()-this[_0x5a9825(0x748)]>0xea60)??0x1?this[_0x5a9825(0x24d)][_0x5a9825(0x4df)]({'sourceId':this['remoteId'],'destinationIds':[this['localNode']['getId']()],'messageType':_0x31418b[_0x5a9825(0x99f)],'content':{'type':_0x30b2f6[_0x5a9825(0x17d)]}}):(this[_0x5a9825(0x8fc)](),this[_0x5a9825(0x613)]({'type':_0x30b2f6[_0x5a9825(0x2c6)],'version':this[_0x5a9825(0x27a)],'connectionType':this[_0x5a9825(0x9b0)]}),this[_0x5a9825(0xa54)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0x2e7de5(0x92e)](){this['heartbeatUnsubscriber']?.(),delete this['heartbeatUnsubscriber'];}[_0x2e7de5(0xa2d)](){const _0xd4a5a9=_0x2e7de5;this['connectionTimeout']&&(clearTimeout(this[_0xd4a5a9(0x3aa)]),delete this[_0xd4a5a9(0x3aa)]);}[_0x2e7de5(0x5c3)](){const _0x539111=_0x2e7de5;this['restartTimeout']&&(clearTimeout(this[_0x539111(0xa54)]),delete this[_0x539111(0xa54)]);}[_0x2e7de5(0x6f4)](){const _0x3759ac=_0x2e7de5;this[_0x3759ac(0xa22)]&&(clearTimeout(this[_0x3759ac(0xa22)]),delete this[_0x3759ac(0xa22)]);}[_0x2e7de5(0x9a9)](){this['upgradeTimeout']=setTimeout(()=>{const _0x908c07=a0_0x4258;this[_0x908c07(0x325)]({'type':_0x2f76eb[_0x908c07(0x16f)],'action':_0x4246ab[_0x908c07(0x4ae)]});},0x3a98);}[_0x2e7de5(0x36b)](_0x140e2a,_0x50c7e7){const _0xa15d26=_0x2e7de5,_0x30647f=Math[_0xa15d26(0x6a9)](_0x140e2a[_0xa15d26(0x381)]/_0x50c7e7[_0xa15d26(0x381)],_0x140e2a[_0xa15d26(0x3c0)]/_0x50c7e7[_0xa15d26(0x3c0)]);return Math[_0xa15d26(0x21e)](Math[_0xa15d26(0x6a9)](_0x30647f,0x1),0x4);}['clearWaitAnswer'](){const _0x1a38ad=_0x2e7de5;this[_0x1a38ad(0x6e9)]?.(),delete this['waitAnswer'];}[_0x2e7de5(0x7aa)](){const _0x2ac75b=_0x2e7de5;this[_0x2ac75b(0x321)]&&(clearTimeout(this['oncloseTimeout']),delete this[_0x2ac75b(0x321)]);}[_0x2e7de5(0x27b)](_0x17c3db){const _0xd3bc52=_0x2e7de5,_0x2452c6=JSON[_0xd3bc52(0x178)](_0x17c3db);return new TextEncoder()[_0xd3bc52(0x908)](_0x2452c6)['buffer'];}[_0x2e7de5(0x257)](_0xffc8a0,_0x4572c3){const _0x2bbfc8=_0x2e7de5,_0x49363d=this['objectToArrayBuffer'](_0xffc8a0),_0x4f2565=new Uint8Array(0x4),_0x1d08c8=new Uint8Array(_0x49363d),_0x3ea134=new Uint8Array(_0x4572c3);_0x4f2565[_0x2bbfc8(0x7ee)](new Uint8Array(new Uint32Array([_0x1d08c8[_0x2bbfc8(0x727)]])[_0x2bbfc8(0x885)]));const _0x15f8be=new Uint8Array(0x4+_0x1d08c8[_0x2bbfc8(0x727)]+_0x3ea134[_0x2bbfc8(0x727)]);return _0x15f8be[_0x2bbfc8(0x7ee)](_0x4f2565),_0x15f8be[_0x2bbfc8(0x7ee)](_0x1d08c8,0x4),_0x15f8be[_0x2bbfc8(0x7ee)](_0x3ea134,0x4+_0x1d08c8['length']),_0x15f8be['buffer'];}}class _0x18018a extends _0x257212{[_0x2e7de5(0x338)];[_0x2e7de5(0x9b0)];[_0x2e7de5(0x3cf)];[_0x2e7de5(0x9ae)];[_0x2e7de5(0x354)];['senderConnection'];['receiverConnection'];[_0x2e7de5(0x66c)]=[];[_0x2e7de5(0x985)]=_0x37766();[_0x2e7de5(0x92b)]=_0x37766();[_0x2e7de5(0x375)]=_0x37766();[_0x2e7de5(0x42d)]=[];[_0x2e7de5(0x24d)];['dataTopics']=new Map();['dataUnsubscribers']=new Map();['mediaTopics']=new Map();['mediaUnsubscribers']=new Map();[_0x2e7de5(0x665)]=!0x1;constructor(_0x101a08,_0x627351,_0xf59b,_0x3aa3ab,_0x5ab1ed,_0x1de688,_0x1bc8db,_0x38205c){const _0x4cb3bd=_0x2e7de5;super(_0x101a08,_0x627351,_0xf59b),this[_0x4cb3bd(0x338)]=_0x3aa3ab,this[_0x4cb3bd(0x9b0)]=_0x5ab1ed,this[_0x4cb3bd(0x3cf)]=_0x1de688,this[_0x4cb3bd(0x9ae)]=_0x1bc8db,this[_0x4cb3bd(0x354)]=_0x38205c;}[_0x2e7de5(0x32e)](_0x4a7179){const _0x4867c4=_0x2e7de5;switch(_0x4a7179[_0x4867c4(0x924)]()){case _0x564b37[_0x4867c4(0x8c6)][_0x4867c4(0x264)]:case _0x564b37[_0x4867c4(0x8c6)][_0x4867c4(0x380)]:case _0x564b37[_0x4867c4(0x8c6)][_0x4867c4(0x295)]:case _0x564b37[_0x4867c4(0x8c6)][_0x4867c4(0xa2b)]:case _0x564b37['ContentType']['Job']:case _0x564b37['ContentType'][_0x4867c4(0x721)]:case _0x564b37[_0x4867c4(0x8c6)][_0x4867c4(0x6ad)]:case _0x564b37[_0x4867c4(0x8c6)][_0x4867c4(0x5fd)]:this['dataTopics']['set'](_0x4a7179[_0x4867c4(0x5d7)](),_0x4a7179);break;case _0x564b37[_0x4867c4(0x8c6)][_0x4867c4(0x5f7)]:this[_0x4867c4(0x6de)][_0x4867c4(0x7ee)](_0x4a7179[_0x4867c4(0x5d7)](),_0x4a7179);}}[_0x2e7de5(0x2a1)](_0x4fbf0e){const _0x464d06=_0x2e7de5;switch(_0x4fbf0e[_0x464d06(0x924)]()){case _0x564b37[_0x464d06(0x8c6)][_0x464d06(0x264)]:case _0x564b37[_0x464d06(0x8c6)][_0x464d06(0x380)]:case _0x564b37[_0x464d06(0x8c6)]['ObjectStore']:case _0x564b37['ContentType'][_0x464d06(0xa2b)]:case _0x564b37[_0x464d06(0x8c6)]['Job']:case _0x564b37[_0x464d06(0x8c6)][_0x464d06(0x721)]:case _0x564b37[_0x464d06(0x8c6)][_0x464d06(0x6ad)]:case _0x564b37[_0x464d06(0x8c6)]['ExternalStorage']:this['dataTopics']['delete'](_0x4fbf0e[_0x464d06(0x5d7)]());break;case _0x564b37[_0x464d06(0x8c6)]['Media']:this['mediaTopics'][_0x464d06(0x428)](_0x4fbf0e[_0x464d06(0x5d7)]());}}[_0x2e7de5(0x951)](_0x49577a){const _0x323fe8=_0x2e7de5;switch(_0x49577a[_0x323fe8(0x924)]()){case _0x564b37[_0x323fe8(0x8c6)][_0x323fe8(0x264)]:case _0x564b37[_0x323fe8(0x8c6)]['PubSub']:case _0x564b37['ContentType']['ObjectStore']:case _0x564b37[_0x323fe8(0x8c6)][_0x323fe8(0xa2b)]:case _0x564b37['ContentType']['Job']:case _0x564b37[_0x323fe8(0x8c6)][_0x323fe8(0x721)]:case _0x564b37[_0x323fe8(0x8c6)]['GraphDatabase']:case _0x564b37[_0x323fe8(0x8c6)]['ExternalStorage']:{const _0x5a32e9=_0x49577a[_0x323fe8(0x683)](_0x1fa8a5=>{const _0x349183=_0x323fe8;_0x16cbf2(_0x1fa8a5,this[_0x349183(0x250)]())&&_0x47d85d(_0x1fa8a5,this[_0x349183(0x9cc)])&&this[_0x349183(0x4d9)](_0x1fa8a5);});this['dataUnsubscribers'][_0x323fe8(0x7ee)](_0x49577a[_0x323fe8(0x5d7)](),_0x5a32e9);break;}case _0x564b37[_0x323fe8(0x8c6)]['Media']:{const _0x3d0565=_0x49577a[_0x323fe8(0x683)](({content:_0x1c4838})=>{const _0x1bd742=_0x323fe8;switch(_0x1c4838[_0x1bd742(0x935)]){case _0xa17486[_0x1bd742(0x6b5)]:this['addTrack'](_0x1c4838[_0x1bd742(0x9e5)],_0x1c4838[_0x1bd742(0x571)],_0x1c4838['priority'],_0x1c4838[_0x1bd742(0x987)]);break;case _0xa17486[_0x1bd742(0x890)]:this[_0x1bd742(0x743)](_0x1c4838[_0x1bd742(0x9e5)],_0x1c4838[_0x1bd742(0x571)]);break;case _0xa17486[_0x1bd742(0xa0e)]:_0x1c4838[_0x1bd742(0x2a5)]&&this[_0x1bd742(0x549)](_0x1c4838[_0x1bd742(0x571)],_0x1c4838['priority']),_0x1c4838[_0x1bd742(0x987)]&&this['setParams'](_0x1c4838[_0x1bd742(0x571)],_0x1c4838['params']);}});this[_0x323fe8(0x2b5)][_0x323fe8(0x7ee)](_0x49577a[_0x323fe8(0x5d7)](),_0x3d0565);break;}}}[_0x2e7de5(0x691)](_0x22c069){const _0xf9aca7=_0x2e7de5;switch(_0x22c069[_0xf9aca7(0x924)]()){case _0x564b37['ContentType'][_0xf9aca7(0x264)]:case _0x564b37['ContentType'][_0xf9aca7(0x380)]:case _0x564b37['ContentType'][_0xf9aca7(0x295)]:case _0x564b37['ContentType'][_0xf9aca7(0xa2b)]:case _0x564b37[_0xf9aca7(0x8c6)]['Job']:case _0x564b37['ContentType'][_0xf9aca7(0x721)]:case _0x564b37[_0xf9aca7(0x8c6)][_0xf9aca7(0x6ad)]:case _0x564b37[_0xf9aca7(0x8c6)][_0xf9aca7(0x5fd)]:this[_0xf9aca7(0x858)][_0xf9aca7(0x6ba)](_0x22c069[_0xf9aca7(0x5d7)]())?.(),this['dataUnsubscribers']['delete'](_0x22c069[_0xf9aca7(0x5d7)]());break;case _0x564b37['ContentType'][_0xf9aca7(0x5f7)]:this[_0xf9aca7(0x2b5)]['get'](_0x22c069['getLabel']())?.(),this[_0xf9aca7(0x2b5)][_0xf9aca7(0x428)](_0x22c069['getLabel']());}}['getSupportedContentTypes'](){const _0x790706=_0x2e7de5;return[_0x564b37['ContentType']['Data'],_0x564b37['ContentType'][_0x790706(0x5f7)],_0x564b37[_0x790706(0x8c6)][_0x790706(0x380)],_0x564b37[_0x790706(0x8c6)][_0x790706(0x295)],_0x564b37[_0x790706(0x8c6)]['KeyValueDatabase'],_0x564b37[_0x790706(0x8c6)][_0x790706(0x8bb)],_0x564b37[_0x790706(0x8c6)][_0x790706(0x721)],_0x564b37['ContentType'][_0x790706(0x6ad)],_0x564b37['ContentType']['ExternalStorage']];}['registerSystemPublisher'](_0x3f3dd9){const _0x402b4e=_0x2e7de5;this[_0x402b4e(0x24d)]=_0x3f3dd9;}['unregisterSystemPublisher'](){delete this['systemTopic'];}async[_0x2e7de5(0x684)](){const _0x348724=_0x2e7de5;this['setupListeners'](),await this[_0x348724(0x780)]();}[_0x2e7de5(0x6f0)](){const _0x13dd91=_0x2e7de5;this[_0x13dd91(0x42d)][_0x13dd91(0x270)](_0x5e606a=>_0x5e606a()),this['listenerUnsubscribers']=[],this['senderConnection']?.[_0x13dd91(0x910)](),this[_0x13dd91(0x6d5)]?.[_0x13dd91(0x6f0)](),delete this[_0x13dd91(0x6d5)],this[_0x13dd91(0x66c)][_0x13dd91(0x270)](_0x36700f=>_0x36700f()),this[_0x13dd91(0x66c)]=[],this['receiverConnection']?.[_0x13dd91(0x910)](),this[_0x13dd91(0xa5d)]?.[_0x13dd91(0x6f0)](),delete this['receiverConnection'];}[_0x2e7de5(0x33d)](){const _0x4fe8fd=_0x2e7de5;return this[_0x4fe8fd(0x6d5)]?.['isConnected']()&&this[_0x4fe8fd(0xa5d)]?.['isConnected']()||!0x1;}[_0x2e7de5(0x4d9)](_0x55ece4){const _0x4da9b2=_0x2e7de5;if(!this[_0x4da9b2(0x6d5)]||!this[_0x4da9b2(0x33d)]())throw new _0x26bf2d(_0x26bf2d['codes'][_0x4da9b2(0x803)],{'message':_0x4da9b2(0x66d),'senderConnected':this[_0x4da9b2(0x6d5)]?.[_0x4da9b2(0x33d)](),'receiverConnected':this[_0x4da9b2(0xa5d)]?.[_0x4da9b2(0x33d)](),'localId':this['getLocalId'](),'remoteId':this[_0x4da9b2(0x9cc)],'data':_0x55ece4});this['senderConnection'][_0x4da9b2(0x4d9)](_0x55ece4);}[_0x2e7de5(0x805)](_0x2d2f99){const _0x5ab4d3=_0x2e7de5;return this[_0x5ab4d3(0x985)][_0x5ab4d3(0x683)](_0x2d2f99);}[_0x2e7de5(0x9d7)](_0x1f4799){return this['trackListeners']['subscribe'](({track:_0x4e3980,stream:_0x403c6a})=>_0x1f4799(_0x4e3980,_0x403c6a));}[_0x2e7de5(0x6b9)](_0x39339a){const _0x5e9e23=_0x2e7de5;return this['removeTrackListeners'][_0x5e9e23(0x683)](({track:_0x4b2194,stream:_0x1aa2bd})=>_0x39339a(_0x4b2194,_0x1aa2bd));}['addTrack'](_0x515951,_0x27bcfa,_0x53308c,_0x82afe1){const _0x17598d=_0x2e7de5;this[_0x17598d(0x6d5)]?.['addTrack'](_0x515951,_0x27bcfa,_0x53308c,_0x82afe1);}['setPriority'](_0x3ecfe2,_0x2a4516){const _0x4a3be6=_0x2e7de5;this[_0x4a3be6(0x6d5)]?.[_0x4a3be6(0x549)](_0x3ecfe2,_0x2a4516);}[_0x2e7de5(0x37b)](_0x3398b1,_0x80a614){const _0x2ee70b=_0x2e7de5;this[_0x2ee70b(0x6d5)]?.[_0x2ee70b(0x37b)](_0x3398b1,_0x80a614);}[_0x2e7de5(0x743)](_0x5adb54,_0x33c339){const _0x11fcb5=_0x2e7de5;this[_0x11fcb5(0x6d5)]?.[_0x11fcb5(0x743)](_0x5adb54,_0x33c339);}async[_0x2e7de5(0x6f5)](_0x3d1d92){const _0x32f37b=_0x2e7de5;_0x31c6d3[_0x32f37b(0x65c)](_0x2387f2[_0x32f37b(0x4f9)],_0x32f37b(0x6b8),this[_0x32f37b(0x250)](),_0x3d1d92);const {content:_0x1ea1fb}=_0x3d1d92;switch(_0x1ea1fb[_0x32f37b(0x926)]){case _0x30b2f6[_0x32f37b(0x72b)]:await this['handleOffer'](_0x1ea1fb);break;case _0x30b2f6[_0x32f37b(0x551)]:await this['handleAnswer'](_0x1ea1fb);break;case _0x30b2f6[_0x32f37b(0x848)]:this[_0x32f37b(0x8ae)]();break;case _0x30b2f6[_0x32f37b(0x249)]:await this[_0x32f37b(0x8e2)](_0x1ea1fb);break;case _0x30b2f6[_0x32f37b(0x2c6)]:this['handleNeedRestart'](_0x1ea1fb);break;case _0x30b2f6[_0x32f37b(0x5cf)]:await this[_0x32f37b(0x780)]();}}[_0x2e7de5(0x644)](_0x5e5c1c){const _0x385a8c=_0x2e7de5;this[_0x385a8c(0x6d5)]?.[_0x385a8c(0x325)](_0x5e5c1c[_0x385a8c(0x1da)][_0x385a8c(0x672)]);}[_0x2e7de5(0x90f)](){const _0x233aca=_0x2e7de5;return this[_0x233aca(0x9b0)];}[_0x2e7de5(0x5b2)](_0x331c0d){const _0x285f61=_0x2e7de5;this[_0x285f61(0x9b0)]=_0x331c0d,this[_0x285f61(0x6d5)]?.[_0x285f61(0x5b2)](_0x331c0d),this[_0x285f61(0xa5d)]?.[_0x285f61(0x5b2)](_0x331c0d);}async[_0x2e7de5(0xa6f)](){const _0x4f61fe=_0x2e7de5;await this[_0x4f61fe(0x6d5)]?.['collectStats'](),await this[_0x4f61fe(0xa5d)]?.['collectStats']();}[_0x2e7de5(0x29d)](){const _0x11022d=_0x2e7de5;return this[_0x11022d(0x6d5)]?.[_0x11022d(0x29d)]()??0x0;}[_0x2e7de5(0x725)](){const _0x4f0be5=_0x2e7de5;return this[_0x4f0be5(0x6d5)]?.[_0x4f0be5(0x725)]()??0x0;}[_0x2e7de5(0x539)](){const _0x5d9bd9=_0x2e7de5;this['listenerUnsubscribers'][_0x5d9bd9(0x67b)](this[_0x5d9bd9(0x805)](_0x581efa=>{const _0x2743ba=_0x5d9bd9;_0x47d85d(_0x581efa,this[_0x2743ba(0x250)]())&&0x0!==_0x581efa[_0x2743ba(0x582)]&&this['dataTopics']['get'](_0x581efa[_0x2743ba(0x582)])?.['publish'](_0x581efa);})),this['listenerUnsubscribers'][_0x5d9bd9(0x67b)](this[_0x5d9bd9(0x9d7)]((_0x451ddc,_0x258979)=>{const _0x14df86=_0x5d9bd9,_0x5a30d3=_0x16ab71(_0x564b37[_0x14df86(0x8c6)][_0x14df86(0x5f7)],_0x258979['id'],this[_0x14df86(0x9cc)]);this['mediaTopics'][_0x14df86(0x6ba)](_0x5a30d3)?.[_0x14df86(0x4df)]({'topicLabel':_0x5a30d3,'sourceId':this[_0x14df86(0x9cc)],'contentType':_0x564b37[_0x14df86(0x8c6)][_0x14df86(0x5f7)],'content':{'action':_0xa17486[_0x14df86(0x579)],'track':_0x451ddc,'stream':_0x258979,'providerId':this[_0x14df86(0x9cc)]}});})),this[_0x5d9bd9(0x42d)]['push'](this[_0x5d9bd9(0x6b9)]((_0x355924,_0x5b897a)=>{const _0x5d7780=_0x5d9bd9,_0x1e68fe=_0x16ab71(_0x564b37[_0x5d7780(0x8c6)]['Media'],_0x5b897a['id'],this[_0x5d7780(0x9cc)]);this[_0x5d7780(0x6de)][_0x5d7780(0x6ba)](_0x1e68fe)?.[_0x5d7780(0x4df)]({'topicLabel':_0x1e68fe,'sourceId':this[_0x5d7780(0x9cc)],'contentType':_0x564b37[_0x5d7780(0x8c6)][_0x5d7780(0x5f7)],'content':{'action':_0xa17486[_0x5d7780(0x6a1)],'track':_0x355924,'stream':_0x5b897a,'providerId':this[_0x5d7780(0x9cc)]}});}));}[_0x2e7de5(0x8e2)]({candidates:_0x6c1b2c,origin:_0x44092c,version:_0x21aebe}){const _0x592b3d=_0x2e7de5;return _0x44092c===_0xed553['Sender']?(this[_0x592b3d(0xa5d)]||this[_0x592b3d(0x4b5)](),this[_0x592b3d(0xa5d)][_0x592b3d(0x17c)](_0x6c1b2c,_0x21aebe)):this[_0x592b3d(0x6d5)][_0x592b3d(0x17c)](_0x6c1b2c,_0x21aebe);}async[_0x2e7de5(0x780)](){const _0x522460=_0x2e7de5;this[_0x522460(0x6d5)]||this[_0x522460(0x61d)](),await this[_0x522460(0x6d5)][_0x522460(0x780)]();}async[_0x2e7de5(0x773)]({offer:_0x2eb42a,version:_0x341de6}){const _0x723f9c=_0x2e7de5;this[_0x723f9c(0xa5d)]||this['createReceiverConnection'](),await this[_0x723f9c(0xa5d)][_0x723f9c(0x773)](_0x2eb42a,_0x341de6);}async[_0x2e7de5(0x44a)]({answer:_0x3225d7,version:_0x3e7ca5}){const _0x5e985c=_0x2e7de5;if(!this['senderConnection'])throw new _0x26bf2d(_0x26bf2d[_0x5e985c(0x269)][_0x5e985c(0x803)],{'message':_0x5e985c(0x9ac),'localId':this[_0x5e985c(0x250)](),'remoteId':this['remoteId'],'answer':_0x3225d7});await this[_0x5e985c(0x6d5)][_0x5e985c(0x44a)](_0x3225d7,_0x3e7ca5);}[_0x2e7de5(0x8ae)](){const _0x3e051e=_0x2e7de5;if(!this[_0x3e051e(0xa5d)])throw new _0x26bf2d(_0x26bf2d[_0x3e051e(0x269)]['ConnectionNotinitialized'],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x3e051e(0x250)](),'remoteId':this[_0x3e051e(0x9cc)]});this[_0x3e051e(0xa5d)][_0x3e051e(0x8ae)](),this[_0x3e051e(0x665)]||this[_0x3e051e(0x9b0)]!==_0x168d97['Optimization']||(this['successNotified']=!0x0,this[_0x3e051e(0x24d)]?.[_0x3e051e(0x4df)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x3e051e(0x250)]()],'messageType':_0x31418b['PeerConnection'],'content':{'type':_0x30b2f6[_0x3e051e(0x810)]}}));}[_0x2e7de5(0x90a)](_0x1cf210){const _0x379e5a=_0x2e7de5;this[_0x379e5a(0xa5d)]||this[_0x379e5a(0x4b5)](),this[_0x379e5a(0xa5d)]['handleNeedRestart'](_0x1cf210[_0x379e5a(0x44b)]);}['createSenderConnection'](){const _0xabd824=_0x2e7de5;this['senderConnection']=new _0x2ec8ea(this['clusterId'],this[_0xabd824(0x1cc)],this[_0xabd824(0x9cc)],this['iceServers'],this[_0xabd824(0x9b0)],this['maxFps'],this[_0xabd824(0x9ae)],this[_0xabd824(0x354)]),this[_0xabd824(0x6d5)][_0xabd824(0x796)](this['systemTopic']);}[_0x2e7de5(0x4b5)](){const _0x2c1a14=_0x2e7de5;this[_0x2c1a14(0xa5d)]=new _0x187ff2(this[_0x2c1a14(0x966)],this['localNode'],this['remoteId'],this[_0x2c1a14(0x338)],this[_0x2c1a14(0x9b0)],this[_0x2c1a14(0x354)]),this['receiverConnection'][_0x2c1a14(0x796)](this[_0x2c1a14(0x24d)]),this['receiverUnsubscribers'][_0x2c1a14(0x67b)](this[_0x2c1a14(0xa5d)][_0x2c1a14(0x805)](_0x4cd5f3=>this[_0x2c1a14(0x985)]['publish'](_0x4cd5f3))),this[_0x2c1a14(0x66c)][_0x2c1a14(0x67b)](this[_0x2c1a14(0xa5d)][_0x2c1a14(0x9d7)]((_0x1cb37b,_0x2c8498)=>this['trackListeners'][_0x2c1a14(0x4df)]({'track':_0x1cb37b,'stream':_0x2c8498}))),this[_0x2c1a14(0x66c)][_0x2c1a14(0x67b)](this[_0x2c1a14(0xa5d)][_0x2c1a14(0x6b9)]((_0x521fd0,_0x1fec2a)=>this[_0x2c1a14(0x375)][_0x2c1a14(0x4df)]({'track':_0x521fd0,'stream':_0x1fec2a})));}}class _0x5671e4{[_0x2e7de5(0x7e7)];[_0x2e7de5(0x484)];['graphService'];[_0x2e7de5(0xa3f)]=new Map();[_0x2e7de5(0x985)]=_0x37766();[_0x2e7de5(0x22c)];[_0x2e7de5(0x57e)]=new Map();['dataUnsubscribers']=new Map();[_0x2e7de5(0x373)]=new Map();constructor(_0x3f6f20,_0x591f89,_0x56efd1){const _0x1807e5=_0x2e7de5;this[_0x1807e5(0x7e7)]=_0x3f6f20,this[_0x1807e5(0x484)]=_0x591f89,this[_0x1807e5(0x1c8)]=_0x56efd1,this[_0x1807e5(0x22c)]=this[_0x1807e5(0x805)](_0x49bcad=>{const _0x45b3d8=_0x1807e5;this[_0x45b3d8(0x484)]['hasMessage'](_0x49bcad[_0x45b3d8(0x9f7)])||(_0x47d85d(_0x49bcad,this[_0x45b3d8(0x7e7)])&&0x0!==_0x49bcad[_0x45b3d8(0x582)]&&(this[_0x45b3d8(0x484)][_0x45b3d8(0x3dc)](_0x49bcad[_0x45b3d8(0x9f7)]),this[_0x45b3d8(0x57e)][_0x45b3d8(0x6ba)](_0x49bcad[_0x45b3d8(0x582)])?.[_0x45b3d8(0x4df)](_0x49bcad)),_0x49bcad[_0x45b3d8(0x807)]&&this['send'](_0x49bcad));});}['close'](){const _0x2c25ae=_0x2e7de5;this[_0x2c25ae(0x22c)]?.();}[_0x2e7de5(0x40d)](_0x5587ea){const _0x194eb8=_0x2e7de5,_0x568d48=_0x5587ea[_0x194eb8(0x805)](_0x31d225=>{const _0x2dba6f=_0x194eb8;this[_0x2dba6f(0x985)][_0x2dba6f(0x4df)](_0x31d225);});this[_0x194eb8(0xa3f)]['set'](_0x5587ea,_0x568d48),this[_0x194eb8(0x373)]['set'](_0x5587ea[_0x194eb8(0x611)](),function(_0x2bd837,_0xccdeb2=!0x1){let _0x4208f2=new Map();const _0x434fd4=_0x47e44e(_0x2bd837,_0xccdeb2,function(_0x34b173){const _0x3ebcdb=a0_0x4258;_0x1073e9(_0x34b173)&&_0x4208f2['delete'](_0x34b173[_0x3ebcdb(0x194)]+'-'+(_0x34b173[_0x3ebcdb(0x9e6)]??[])+'-'+_0x34b173[_0x3ebcdb(0x853)]+'-'+_0x34b173[_0x3ebcdb(0x1da)][_0x3ebcdb(0x926)]);},function(_0x1cdc92){return!!function(_0x49b134){const _0x2741ab=a0_0x4258,_0x510102=_0x49b134[_0x2741ab(0x17e)];if(!_0x1073e9(_0x510102))return!0x1;const _0x37eab2=_0x510102['sourceId']+'-'+(_0x510102[_0x2741ab(0x9e6)]??[])+'-'+_0x510102[_0x2741ab(0x853)]+'-'+_0x510102[_0x2741ab(0x1da)]['type'],_0x767bdd={'version':_0x510102[_0x2741ab(0x1da)][_0x2741ab(0x44b)],'element':_0x49b134},_0x363b9f=_0x4208f2[_0x2741ab(0x6ba)](_0x37eab2);return _0x363b9f?(_0x363b9f[_0x2741ab(0x44b)]>=_0x510102[_0x2741ab(0x1da)][_0x2741ab(0x44b)]||(_0x363b9f[_0x2741ab(0x892)][_0x2741ab(0x9b4)]&&(_0x363b9f[_0x2741ab(0x892)]['previous'][_0x2741ab(0x632)]=_0x49b134,_0x49b134[_0x2741ab(0x9b4)]=_0x363b9f[_0x2741ab(0x892)]['previous']),_0x363b9f[_0x2741ab(0x892)][_0x2741ab(0x632)]&&(_0x363b9f['element'][_0x2741ab(0x632)][_0x2741ab(0x9b4)]=_0x49b134,_0x49b134[_0x2741ab(0x632)]=_0x363b9f[_0x2741ab(0x892)][_0x2741ab(0x632)]),_0x363b9f[_0x2741ab(0x892)]===_0x434fd4['head']&&(_0x434fd4[_0x2741ab(0x2de)]=_0x49b134),_0x363b9f[_0x2741ab(0x892)]===_0x434fd4[_0x2741ab(0x310)]&&(_0x434fd4['tail']=_0x49b134),_0x4208f2['set'](_0x37eab2,_0x767bdd)),!0x0):(_0x4208f2[_0x2741ab(0x7ee)](_0x37eab2,_0x767bdd),!0x1);}(_0x1cdc92);},function(){_0x4208f2['clear']();});function _0x1073e9(_0x203c3f){const _0x1a35d9=a0_0x4258;if(_0x203c3f&&_0x1a35d9(0x54b)==typeof _0x203c3f&&_0x203c3f['hasOwnProperty'](_0x1a35d9(0x1da))&&_0x203c3f[_0x1a35d9(0x676)](_0x1a35d9(0x853))&&_0x203c3f[_0x1a35d9(0x676)]('sourceId')){const _0x51efe9=_0x203c3f;if(_0x51efe9[_0x1a35d9(0x1da)]&&'object'==typeof _0x51efe9[_0x1a35d9(0x1da)]&&_0x51efe9[_0x1a35d9(0x1da)][_0x1a35d9(0x676)]('version')&&_0x51efe9[_0x1a35d9(0x1da)][_0x1a35d9(0x676)](_0x1a35d9(0x926)))return!0x0;}return!0x1;}return _0x434fd4;}(new _0x1424b5(_0x364ffa=>_0x5587ea[_0x194eb8(0x4d9)](_0x364ffa),()=>_0x31d9e2[_0x194eb8(0x265)](0x64))));}[_0x2e7de5(0x6e0)](_0x45248c){const _0x4b60c8=_0x2e7de5;this[_0x4b60c8(0xa3f)][_0x4b60c8(0x6ba)](_0x45248c)?.(),this[_0x4b60c8(0xa3f)]['delete'](_0x45248c),this[_0x4b60c8(0x373)]['get'](_0x45248c[_0x4b60c8(0x611)]())?.[_0x4b60c8(0x2a0)](),this['retryQueues']['delete'](_0x45248c[_0x4b60c8(0x611)]());}['isConnected'](_0x56d032){const _0x549dc2=_0x2e7de5;return _0x31c6d3[_0x549dc2(0x65c)](_0x2387f2[_0x549dc2(0x522)],'ConnectionGroup',this[_0x549dc2(0x7e7)],this['connections'][_0x549dc2(0x1c7)]()),0x0!==this[_0x549dc2(0xa3f)][_0x549dc2(0x777)]&&(Array[_0x549dc2(0xa4b)](this[_0x549dc2(0xa3f)][_0x549dc2(0x1c7)]())['find'](_0x389215=>_0x389215['getRemoteId']()===_0x56d032)?.['isConnected']()??!0x1);}['registerPublisher'](_0x35d05e){const _0x333033=_0x2e7de5;this[_0x333033(0x57e)][_0x333033(0x7ee)](_0x35d05e[_0x333033(0x5d7)](),_0x35d05e);}[_0x2e7de5(0x2a1)](_0x198a8b){const _0x3e81c9=_0x2e7de5;this[_0x3e81c9(0x57e)][_0x3e81c9(0x428)](_0x198a8b[_0x3e81c9(0x5d7)]());}[_0x2e7de5(0x951)](_0x4243ce){const _0x3d2947=_0x2e7de5,_0x570d03=_0x4243ce[_0x3d2947(0x683)](this[_0x3d2947(0x4d9)]['bind'](this));this[_0x3d2947(0x858)][_0x3d2947(0x7ee)](_0x4243ce[_0x3d2947(0x5d7)](),_0x570d03);}[_0x2e7de5(0x691)](_0x4e9724){const _0x4ccb9c=_0x2e7de5;this[_0x4ccb9c(0x858)][_0x4ccb9c(0x6ba)](_0x4e9724[_0x4ccb9c(0x5d7)]())?.(),this['dataUnsubscribers'][_0x4ccb9c(0x428)](_0x4e9724[_0x4ccb9c(0x5d7)]());}['getSupportedContentTypes'](){const _0x11f506=_0x2e7de5;return[_0x564b37[_0x11f506(0x8c6)][_0x11f506(0x264)],_0x564b37[_0x11f506(0x8c6)][_0x11f506(0x380)],_0x564b37['ContentType'][_0x11f506(0x295)],_0x564b37['ContentType'][_0x11f506(0xa2b)],_0x564b37[_0x11f506(0x8c6)][_0x11f506(0x8bb)],_0x564b37['ContentType'][_0x11f506(0x721)],_0x564b37[_0x11f506(0x8c6)]['GraphDatabase'],_0x564b37[_0x11f506(0x8c6)][_0x11f506(0x5fd)]];}[_0x2e7de5(0x4d9)](_0x466a64){const _0x502d4a=_0x2e7de5;if(!0x1===_0x466a64[_0x502d4a(0x8aa)]){if(_0x466a64[_0x502d4a(0x807)]||!_0x466a64[_0x502d4a(0x9e6)]||0x1!==_0x466a64[_0x502d4a(0x9e6)]['length'])throw new _0x26bf2d(_0x26bf2d['codes'][_0x502d4a(0x6f3)],{'message':_0x502d4a(0x5e8),'localId':this[_0x502d4a(0x7e7)]});if(!this[_0x502d4a(0x33d)](_0x466a64[_0x502d4a(0x9e6)][0x0]))throw new _0x4d789b('Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false');}const _0xb2eaf9=_0x466a64[_0x502d4a(0x821)]??[];try{const {filteredDestinationIds:_0x20604e,extendedRecipients:_0xa7062c}=this['updatePropagationProperties'](_0x466a64,_0xb2eaf9);_0x466a64['destinationIds']=_0x20604e,_0x466a64[_0x502d4a(0x821)]=_0xa7062c;}catch(_0x56cc40){if(_0x56cc40 instanceof _0x4d789b)return void _0x31c6d3[_0x502d4a(0x65c)](_0x2387f2[_0x502d4a(0x4f9)],_0x502d4a(0x1d7),'Early\x20return',_0x466a64,_0x56cc40[_0x502d4a(0x4b2)]);}const _0x4facc9=this[_0x502d4a(0x1f0)](_0x466a64);this[_0x502d4a(0x1c5)](_0x466a64,_0x4facc9),_0x466a64[_0x502d4a(0x807)]=_0x4facc9;const _0x576249=this[_0x502d4a(0x98f)](_0x466a64,_0xb2eaf9);for(const _0xd8ba66 of _0x576249){const _0x4f38b4=this['retryQueues'][_0x502d4a(0x6ba)](_0xd8ba66[_0x502d4a(0x611)]());if(!_0x4f38b4)throw new _0x26bf2d(_0x26bf2d[_0x502d4a(0x269)]['ConnectionNoRetryQueue'],{'message':_0x502d4a(0x9f6),'localId':this[_0x502d4a(0x7e7)],'remoteId':_0xd8ba66[_0x502d4a(0x611)](),'data':_0x466a64});_0x4f38b4[_0x502d4a(0x67b)](_0x466a64);}}[_0x2e7de5(0x611)](){return'';}['getLocalId'](){return this['localId'];}['onMessage'](_0x13894e){return this['messageListeners']['subscribe'](_0x13894e);}[_0x2e7de5(0x4a6)](_0x3f8bf9,_0x47feb2){const _0x8b8faa=_0x2e7de5,_0x1ef61b={'filteredDestinationIds':_0x3f8bf9['destinationIds'],'extendedRecipients':_0x3f8bf9[_0x8b8faa(0x821)]};if(!_0x3f8bf9[_0x8b8faa(0x807)])return _0x1ef61b;const _0x436156=Array[_0x8b8faa(0xa4b)](this[_0x8b8faa(0xa3f)][_0x8b8faa(0x1c7)]())[_0x8b8faa(0x8bd)](_0x4607b2=>_0x4607b2[_0x8b8faa(0x90f)]()===_0x168d97[_0x8b8faa(0x7ea)]||_0x4607b2[_0x8b8faa(0x33d)]())[_0x8b8faa(0x28b)](_0xeaa212=>_0xeaa212[_0x8b8faa(0x611)]());if(_0x436156[_0x8b8faa(0x2c7)]((_0x313360,_0x10af80)=>_0x313360&&_0x3f8bf9[_0x8b8faa(0x821)][_0x8b8faa(0xa49)](_0x10af80),!0x0))throw new _0x4d789b(_0x8b8faa(0x778));if(_0x3f8bf9['destinationIds']){const _0x3c2537=_0x3f8bf9[_0x8b8faa(0x9e6)][_0x8b8faa(0x8bd)](_0x293d3c=>_0x293d3c!==this[_0x8b8faa(0x7e7)]&&!_0x3f8bf9['recipients']['includes'](_0x293d3c));if(0x0===_0x3c2537[_0x8b8faa(0x727)])throw new _0x4d789b('No\x20destinationIds\x20left');_0x1ef61b[_0x8b8faa(0x49f)]=_0x3c2537;}return _0x1ef61b[_0x8b8faa(0x9c1)]=[...new Set([..._0x47feb2,..._0x436156,this[_0x8b8faa(0x7e7)]])],_0x1ef61b;}[_0x2e7de5(0x1c5)](_0x2e5fa7,_0x5afa92=!0x1){const _0x277943=_0x2e7de5;if(0x0===_0x2e5fa7[_0x277943(0x582)]&&!_0x16cbf2(_0x2e5fa7,this[_0x277943(0x7e7)])&&_0x2e5fa7[_0x277943(0x807)]){const _0x2312fd=_0x4b5277(_0x2e5fa7,this[_0x277943(0x7e7)]);_0x31c6d3['logRaw'](_0x2387f2[_0x277943(0x431)],_0x2e5fa7[_0x277943(0x9f7)]+'\x20-\x20Sending\x20propagation\x20('+_0x5afa92+')\x20'+_0x2312fd,_0x2e5fa7,_0x5afa92);}}[_0x2e7de5(0x1f0)](_0xc409f0){const _0x5494cb=_0x2e7de5;if(_0xc409f0[_0x5494cb(0x9e6)]&&_0xc409f0[_0x5494cb(0x807)]){const _0x165e99=Array[_0x5494cb(0xa4b)](this[_0x5494cb(0xa3f)][_0x5494cb(0x1c7)]())[_0x5494cb(0x8bd)](_0xb01bc5=>_0xb01bc5[_0x5494cb(0x90f)]()===_0x168d97['Core']||_0xb01bc5[_0x5494cb(0x33d)]())['map'](_0x1ab1eb=>_0x1ab1eb[_0x5494cb(0x611)]());return!_0xc409f0[_0x5494cb(0x9e6)][_0x5494cb(0x2c7)]((_0x116760,_0x5973f8)=>_0x116760&&_0x165e99[_0x5494cb(0xa49)](_0x5973f8),!0x0);}return _0xc409f0['propagate']??!0x1;}[_0x2e7de5(0x98f)](_0x30f864,_0x25e750){const _0x212f19=_0x2e7de5;if(_0x30f864[_0x212f19(0x807)]&&_0x30f864[_0x212f19(0x9e6)]){const _0x415c03=Array[_0x212f19(0xa4b)](this[_0x212f19(0xa3f)]['keys']())[_0x212f19(0x8bd)](_0x3f89e0=>_0x3f89e0['getConnectionType']()===_0x168d97['Core']||_0x3f89e0['isConnected']())['map'](_0x57d97a=>_0x57d97a[_0x212f19(0x611)]()),_0x2df1be=new Set(),_0x556a9f=_0x30f864[_0x212f19(0x194)]===this[_0x212f19(0x7e7)]?0x3:0x1;return _0x30f864['destinationIds'][_0x212f19(0x270)](_0x4e3c7a=>{const _0x376900=_0x212f19,_0x18a311=this[_0x376900(0x1c8)][_0x376900(0x660)](_0x415c03,_0x4e3c7a);let _0xe68203=0x0,_0x156d59=0x0;_0x18a311[_0x376900(0x270)](_0x5c3794=>{const _0x161939=_0x376900;if(_0xe68203>=_0x556a9f)return;const _0x1af6fa=Array[_0x161939(0xa4b)](this[_0x161939(0xa3f)][_0x161939(0x1c7)]())[_0x161939(0x921)](_0x15f37e=>_0x15f37e['getRemoteId']()===_0x5c3794);if(_0x1af6fa){if(_0x1af6fa[_0x161939(0x90f)]()===_0x168d97['Core']&&_0x156d59>0x0)return void(_0x156d59-=0x1);_0x2df1be[_0x161939(0x9eb)](_0x1af6fa),_0x1af6fa['getConnectionType']()===_0x168d97[_0x161939(0x19c)]&&(_0x156d59+=0x1),_0xe68203+=0x1;}});}),Array[_0x212f19(0xa4b)](_0x2df1be);}return Array[_0x212f19(0xa4b)](this[_0x212f19(0xa3f)][_0x212f19(0x1c7)]())[_0x212f19(0x8bd)](_0x406ebe=>{const _0xc15f62=_0x212f19;return _0x2d438a=_0x406ebe[_0xc15f62(0x611)](),!_0x25e750[_0xc15f62(0xa49)](_0x2d438a)&&(_0x47d85d(_0x30f864,_0x2d438a)||_0x30f864[_0xc15f62(0x807)])&&(!_0x30f864[_0xc15f62(0x807)]||_0x406ebe[_0xc15f62(0x33d)]()||_0x406ebe[_0xc15f62(0x90f)]()===_0x168d97[_0xc15f62(0x7ea)]);var _0x2d438a;});}}class _0x22303b{[_0x2e7de5(0x7e7)];[_0x2e7de5(0x484)];[_0x2e7de5(0xa3f)]=new Map();[_0x2e7de5(0x24d)];constructor(_0x1218b6,_0x3b15a9){const _0x351031=_0x2e7de5;this[_0x351031(0x7e7)]=_0x1218b6,this[_0x351031(0x484)]=_0x3b15a9;}[_0x2e7de5(0x6f0)](){}[_0x2e7de5(0x4d9)](_0x44b69c){const _0x2f6591=_0x2e7de5;for(const _0x3ebb56 of this[_0x2f6591(0xa3f)][_0x2f6591(0x1c7)]())try{return void _0x3ebb56[_0x2f6591(0x4d9)]({'retry':!0x1,..._0x44b69c});}catch(_0x30bd32){_0x30bd32 instanceof _0x4d789b||_0x31c6d3[_0x2f6591(0x65c)](_0x2387f2[_0x2f6591(0xa19)],_0x2f6591(0x3ea)+_0x3ebb56,_0x30bd32,_0x44b69c);}_0x31c6d3['log'](_0x2387f2['Pool'],'No\x20connections\x20available\x20to\x20send\x20message');}['addConnection'](_0x18b3e6){const _0x5b067f=_0x2e7de5,_0x2c7f67=_0x18b3e6[_0x5b067f(0x805)](_0x43a2b8=>{const _0x33ae29=_0x5b067f;this[_0x33ae29(0x484)][_0x33ae29(0x4f2)](_0x43a2b8[_0x33ae29(0x9f7)])||0x0===_0x43a2b8['topicLabel']&&(this[_0x33ae29(0x484)][_0x33ae29(0x3dc)](_0x43a2b8[_0x33ae29(0x9f7)]),_0x47d85d(_0x43a2b8,this[_0x33ae29(0x7e7)])&&this[_0x33ae29(0x24d)]?.[_0x33ae29(0x4df)](_0x43a2b8));});this['connections'][_0x5b067f(0x7ee)](_0x18b3e6,_0x2c7f67);}[_0x2e7de5(0x6e0)](_0x1f973b){const _0xe1eb31=_0x2e7de5;this[_0xe1eb31(0xa3f)]['get'](_0x1f973b)?.(),this[_0xe1eb31(0xa3f)]['delete'](_0x1f973b);}['getLocalId'](){const _0x194e20=_0x2e7de5;return this[_0x194e20(0x7e7)];}[_0x2e7de5(0x611)](){return'';}[_0x2e7de5(0x461)](){const _0x81c490=_0x2e7de5;return[_0x564b37[_0x81c490(0x8c6)][_0x81c490(0x264)]];}['isConnected'](){throw new Error('Method\x20not\x20implemented.');}[_0x2e7de5(0x796)](_0x3b18de){const _0x773cb=_0x2e7de5;this[_0x773cb(0x24d)]=_0x3b18de;}[_0x2e7de5(0x910)](){delete this['systemTopic'];}}class _0x5525ea{[_0x2e7de5(0x885)]=new Map();[_0x2e7de5(0x576)];constructor(){const _0x5766e7=_0x2e7de5;this[_0x5766e7(0x576)]=_0x31d9e2['setInterval'](()=>{const _0x29d331=_0x5766e7;for(const [_0x3f7945,_0x2d9d4f]of this[_0x29d331(0x885)][_0x29d331(0x4d1)]())Date['now']()-_0x2d9d4f>0x124f80&&this[_0x29d331(0x885)][_0x29d331(0x428)](_0x3f7945);},0x1d4c0);}[_0x2e7de5(0x6f0)](){const _0x341778=_0x2e7de5;this[_0x341778(0x576)]();}[_0x2e7de5(0x3dc)](_0x106fd6){const _0xa83189=_0x2e7de5;this['buffer'][_0xa83189(0x7ee)](_0x106fd6,Date[_0xa83189(0x974)]());}[_0x2e7de5(0x4f2)](_0x1c67ed){const _0x26cf6d=_0x2e7de5;return this[_0x26cf6d(0x885)][_0x26cf6d(0x1a4)](_0x1c67ed);}}class _0x26e47f{[_0x2e7de5(0x562)];['authService'];['iceServers'];[_0x2e7de5(0x7e9)];['connections']=new Map();[_0x2e7de5(0x364)];[_0x2e7de5(0x2aa)];['signalingServer'];[_0x2e7de5(0x484)];constructor(_0x3d4165,_0x185432,_0x44ed06,_0x9e6503,_0x4867a7){const _0x44888b=_0x2e7de5;this[_0x44888b(0x562)]=_0x3d4165,this[_0x44888b(0x70d)]=_0x185432,this[_0x44888b(0x338)]=_0x9e6503,this['options']=_0x4867a7,this[_0x44888b(0x484)]=new _0x5525ea(),this['connectionGroup']=new _0x5671e4(this[_0x44888b(0x562)][_0x44888b(0x1cc)][_0x44888b(0x2ab)](),this[_0x44888b(0x484)],_0x44ed06),this[_0x44888b(0x167)]=new _0x20f57d(this['configs'][_0x44888b(0x9a1)],this['configs']['clusterId'],this[_0x44888b(0x562)]['localNode'],'server',this[_0x44888b(0x70d)]),this[_0x44888b(0x364)]=new _0x22303b(this[_0x44888b(0x562)]['localNode']['getId'](),this[_0x44888b(0x484)]),this[_0x44888b(0x364)]['addConnection'](this[_0x44888b(0x2aa)]),this[_0x44888b(0x364)][_0x44888b(0x40d)](this[_0x44888b(0x167)]),this[_0x44888b(0x562)][_0x44888b(0x442)]['registerSystemSource'](this[_0x44888b(0x364)]);}['close'](){const _0x53808b=_0x2e7de5;this[_0x53808b(0x484)][_0x53808b(0x6f0)](),this[_0x53808b(0xa3f)]['forEach']((_0xc45f5c,_0x212aa4)=>this[_0x53808b(0x918)](_0x212aa4)),this['configs'][_0x53808b(0x442)]['unregisterSystemSource'](this[_0x53808b(0x364)]),this[_0x53808b(0x364)][_0x53808b(0x6e0)](this['signalingServer']),this['connectionPool'][_0x53808b(0x6e0)](this[_0x53808b(0x2aa)]),this[_0x53808b(0x364)][_0x53808b(0x6f0)](),this[_0x53808b(0x167)][_0x53808b(0x6f0)](),this[_0x53808b(0x2aa)][_0x53808b(0x6f0)]();}async[_0x2e7de5(0x9cd)](){const _0x24823b=_0x2e7de5;await this['signalingServer'][_0x24823b(0x684)]();}async[_0x2e7de5(0x19e)](_0x359228,_0x4f6ae8=_0x168d97[_0x2e7de5(0x7ea)]){const _0x25342f=_0x2e7de5;if(this[_0x25342f(0xa3f)][_0x25342f(0x1a4)](_0x359228)){if(this[_0x25342f(0xa3f)]['get'](_0x359228)?.[_0x25342f(0x90f)]()===_0x168d97[_0x25342f(0x19c)]&&_0x4f6ae8===_0x168d97[_0x25342f(0x7ea)])return void this[_0x25342f(0xa3f)]['get'](_0x359228)?.[_0x25342f(0x5b2)](_0x168d97[_0x25342f(0x7ea)]);throw new _0x26bf2d(_0x26bf2d[_0x25342f(0x269)][_0x25342f(0x9e1)],{'localId':this[_0x25342f(0x562)][_0x25342f(0x1cc)][_0x25342f(0x2ab)](),'remoteId':_0x359228});}const _0x5e2e12=new _0x18018a(this[_0x25342f(0x562)][_0x25342f(0x966)],this[_0x25342f(0x562)][_0x25342f(0x1cc)],_0x359228,this[_0x25342f(0x338)],_0x4f6ae8,this[_0x25342f(0x7e9)][_0x25342f(0x3cf)],this[_0x25342f(0x7e9)]['maxBpp'],this[_0x25342f(0x7e9)][_0x25342f(0x64c)]);this[_0x25342f(0xa3f)][_0x25342f(0x7ee)](_0x359228,_0x5e2e12),this[_0x25342f(0x2aa)]['addConnection'](_0x5e2e12),this[_0x25342f(0x562)][_0x25342f(0x442)]['registerSystemSource'](_0x5e2e12),this[_0x25342f(0x562)][_0x25342f(0x442)][_0x25342f(0x9ad)](_0x359228),await _0x5e2e12[_0x25342f(0x684)]();}[_0x2e7de5(0x84b)](){const _0x29e516=_0x2e7de5;return this[_0x29e516(0x2aa)];}[_0x2e7de5(0x4d4)](_0x2aadf5){const _0x2f8d90=_0x2e7de5;if(!this[_0x2f8d90(0xa3f)][_0x2f8d90(0x1a4)](_0x2aadf5))throw new _0x26bf2d(_0x26bf2d[_0x2f8d90(0x269)][_0x2f8d90(0x7b0)],{'localId':this['configs']['localNode'][_0x2f8d90(0x2ab)](),'remoteId':_0x2aadf5});return this[_0x2f8d90(0xa3f)][_0x2f8d90(0x6ba)](_0x2aadf5);}[_0x2e7de5(0x842)](_0x3c4776){const _0x452d00=_0x2e7de5,_0x50cce3=Array[_0x452d00(0xa4b)](this[_0x452d00(0xa3f)][_0x452d00(0x20c)]());return _0x3c4776?_0x50cce3[_0x452d00(0x8bd)](_0x3c4776):_0x50cce3;}async[_0x2e7de5(0xa6f)](_0x588004){const _0x477647=_0x2e7de5,_0x2f4283=this[_0x477647(0xa3f)][_0x477647(0x6ba)](_0x588004);_0x2f4283&&_0x2f4283['isConnected']()&&await _0x2f4283[_0x477647(0xa6f)]();}[_0x2e7de5(0x8a9)](_0x259be2){const _0x5df5ab=_0x2e7de5;if(_0x259be2[_0x5df5ab(0x853)]!==_0x31418b[_0x5df5ab(0x99f)]||_0x259be2[_0x5df5ab(0x807)])try{this[_0x5df5ab(0x2aa)][_0x5df5ab(0x4d9)](_0x259be2);}catch(_0x471d19){if(_0x471d19 instanceof _0x4d789b)return;throw _0x471d19;}else this[_0x5df5ab(0x364)][_0x5df5ab(0x4d9)](_0x259be2);}async[_0x2e7de5(0x6f5)](_0x57fab3){const _0xc2025f=_0x2e7de5;switch(_0x57fab3[_0xc2025f(0x1da)][_0xc2025f(0x926)]){case _0x30b2f6[_0xc2025f(0x17d)]:case _0x30b2f6[_0xc2025f(0x503)]:case _0x30b2f6[_0xc2025f(0x810)]:return;}if(!_0x57fab3['destinationIds']||0x1!==_0x57fab3['destinationIds'][_0xc2025f(0x727)])throw new _0x26bf2d(_0x26bf2d[_0xc2025f(0x269)][_0xc2025f(0x95e)],{'message':_0xc2025f(0x2fc),'event':_0x57fab3});if(_0x57fab3[_0xc2025f(0x9e6)][0x0]!==this[_0xc2025f(0x562)][_0xc2025f(0x1cc)][_0xc2025f(0x2ab)]())throw new _0x26bf2d(_0x26bf2d[_0xc2025f(0x269)][_0xc2025f(0x95e)],{'message':_0xc2025f(0x2c0),'event':_0x57fab3});if(!this[_0xc2025f(0xa3f)][_0xc2025f(0x1a4)](_0x57fab3[_0xc2025f(0x194)])){let _0x330bb1=_0x168d97[_0xc2025f(0x7ea)];if(!(this[_0xc2025f(0x233)](_0x57fab3[_0xc2025f(0x1da)])||this[_0xc2025f(0x71a)](_0x57fab3['content'])||this['isNeedRestart'](_0x57fab3[_0xc2025f(0x1da)])))return;_0x330bb1=_0x57fab3[_0xc2025f(0x1da)][_0xc2025f(0x9b0)],await this[_0xc2025f(0x19e)](_0x57fab3['sourceId'],_0x330bb1);}const _0x3dd799=this[_0xc2025f(0xa3f)]['get'](_0x57fab3[_0xc2025f(0x194)]);await _0x3dd799[_0xc2025f(0x6f5)](_0x57fab3);}[_0x2e7de5(0x644)](_0x3fd1d8){const _0x2f2700=_0x2e7de5;if(_0x3fd1d8[_0x2f2700(0x1da)][_0x2f2700(0x926)]===_0x2f76eb['Remediation']){if(_0x3fd1d8['content'][_0x2f2700(0x259)]===this[_0x2f2700(0x562)]['localNode'][_0x2f2700(0x2ab)]())return void this[_0x2f2700(0xa3f)][_0x2f2700(0x270)](_0x1e41f3=>_0x1e41f3[_0x2f2700(0x644)](_0x3fd1d8));this[_0x2f2700(0xa3f)]['get'](_0x3fd1d8[_0x2f2700(0x1da)][_0x2f2700(0x259)])?.[_0x2f2700(0x644)](_0x3fd1d8);}}[_0x2e7de5(0x479)]({content:_0x194854}){const _0x45e71b=_0x2e7de5;_0x194854[_0x45e71b(0x926)]===_0x50d88b[_0x45e71b(0x468)]&&this[_0x45e71b(0x918)](_0x194854['id']);}[_0x2e7de5(0x301)](){const _0x53c5b4=_0x2e7de5,_0x10cd71=Array[_0x53c5b4(0xa4b)](this[_0x53c5b4(0xa3f)][_0x53c5b4(0x20c)]())[_0x53c5b4(0x2c7)]((_0x69e44,_0x73f7ff)=>_0x69e44+_0x73f7ff['calculateArrayBufferSize'](),0x0);return _0x10cd71<_0x5cfddd?Promise['resolve'](_0x10cd71):new Promise(_0x43fabf=>{const _0x4a150c=setInterval(()=>{const _0x3fb75f=a0_0x4258,_0x4d6dd0=Array[_0x3fb75f(0xa4b)](this[_0x3fb75f(0xa3f)][_0x3fb75f(0x20c)]())['reduce']((_0x3bea71,_0x34eb9c)=>_0x3bea71+_0x34eb9c[_0x3fb75f(0x29d)](),0x0);_0x4d6dd0<_0x5cfddd&&(clearInterval(_0x4a150c),_0x43fabf(_0x4d6dd0));},0x3e8);});}[_0x2e7de5(0x1d1)](){const _0x5e9316=_0x2e7de5;for(const _0x3ba250 of this[_0x5e9316(0xa3f)][_0x5e9316(0x20c)]())if(_0x3ba250[_0x5e9316(0x725)]()>0x0||_0x3ba250[_0x5e9316(0x29d)]()>0x0)return!0x0;return!0x1;}[_0x2e7de5(0x918)](_0x1267a5){const _0x159466=_0x2e7de5,_0x3ec2f7=this['connections']['get'](_0x1267a5);_0x3ec2f7&&(this[_0x159466(0x562)][_0x159466(0x442)][_0x159466(0x72f)](_0x1267a5),this[_0x159466(0x562)][_0x159466(0x442)][_0x159466(0x8a7)](_0x3ec2f7),_0x3ec2f7 instanceof _0x18018a&&this[_0x159466(0x2aa)]['removeConnection'](_0x3ec2f7),_0x3ec2f7[_0x159466(0x6f0)](),this[_0x159466(0xa3f)][_0x159466(0x428)](_0x1267a5));}[_0x2e7de5(0x233)](_0x1770eb){const _0xbc898b=_0x2e7de5;return _0x1770eb['type']===_0x30b2f6[_0xbc898b(0x72b)];}[_0x2e7de5(0xa0d)](_0x31d5e5){const _0x27c4ac=_0x2e7de5;return _0x31d5e5['type']===_0x30b2f6[_0x27c4ac(0x2c6)];}[_0x2e7de5(0x71a)](_0x263db1){const _0x5a6ab8=_0x2e7de5;return _0x263db1[_0x5a6ab8(0x926)]===_0x30b2f6[_0x5a6ab8(0x249)];}}!function(_0xfdbd28){const _0x287565=_0x2e7de5;_0xfdbd28[_0xfdbd28['SubscribeMediaStream']=0x0]='SubscribeMediaStream',_0xfdbd28[_0xfdbd28[_0x287565(0x2ae)]=0x1]=_0x287565(0x2ae),_0xfdbd28[_0xfdbd28[_0x287565(0x3a5)]=0x2]=_0x287565(0x3a5),_0xfdbd28[_0xfdbd28[_0x287565(0x2e3)]=0x3]=_0x287565(0x2e3),_0xfdbd28[_0xfdbd28['RestartNeedMediaStream']=0x4]=_0x287565(0x8c2),_0xfdbd28[_0xfdbd28[_0x287565(0x63a)]=0x5]=_0x287565(0x63a),_0xfdbd28[_0xfdbd28[_0x287565(0x3d8)]=0x6]=_0x287565(0x3d8),_0xfdbd28[_0xfdbd28[_0x287565(0x16d)]=0x7]=_0x287565(0x16d);}(_0x27cc25||(_0x27cc25={}));class _0x15b270 extends _0x231971{[_0x2e7de5(0x1cc)];[_0x2e7de5(0x966)];[_0x2e7de5(0x9a1)];['connectorConstructor'];[_0x2e7de5(0x478)];[_0x2e7de5(0x58a)]=0x0;[_0x2e7de5(0x9dd)];[_0x2e7de5(0x3b0)]=_0x37766();[_0x2e7de5(0x42d)]=new Map();[_0x2e7de5(0x5b0)];constructor(_0x2b5108,_0x195d2d,_0x47a78b,_0x2959cc,_0x5c01cc){const _0x120112=_0x2e7de5;if(_0x120112(0x5ea)!=typeof _0x195d2d)throw new _0x412649(_0xa32e41['ExternalStorageNameNotString'],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x2b5108,_0x195d2d),this[_0x120112(0x1cc)]=_0x2b5108,this[_0x120112(0x966)]=_0x47a78b,this[_0x120112(0x9a1)]=_0x2959cc,this[_0x120112(0x944)]=_0x5c01cc,this[_0x120112(0x764)]();}[_0x2e7de5(0x736)](){const _0x47c0f4=_0x2e7de5;this[_0x47c0f4(0x5b0)]?.(),this[_0x47c0f4(0x42d)][_0x47c0f4(0x270)](_0x48ab68=>_0x48ab68()),clearTimeout(this[_0x47c0f4(0x478)]),delete this[_0x47c0f4(0x478)],super[_0x47c0f4(0x736)]();}[_0x2e7de5(0x770)](){const _0x2788da=_0x2e7de5;this[_0x2788da(0x764)]();}[_0x2e7de5(0x6f0)](){const _0x3e7afc=_0x2e7de5;this[_0x3e7afc(0x24d)][_0x3e7afc(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x3e7afc(0x938)],'content':{'type':_0x5ba456[_0x3e7afc(0x30f)],'label':this['label']}});}[_0x2e7de5(0x924)](){const _0x1d0524=_0x2e7de5;return _0x564b37[_0x1d0524(0x8c6)][_0x1d0524(0x5fd)];}async[_0x2e7de5(0x6ba)](_0x3291e8){const _0x1f34cc=_0x2e7de5;if(!this[_0x1f34cc(0x9dd)])throw new _0x412649(_0xa32e41[_0x1f34cc(0x680)],_0x1f34cc(0x97b));_0x31c6d3['logServiceEvent'](_0x45bb51[_0x1f34cc(0x5fd)],{'type':_0x1f34cc(0x6ba),'label':this[_0x1f34cc(0x7b6)],'nodeId':this[_0x1f34cc(0x1cc)][_0x1f34cc(0x2ab)](),'nodeType':this[_0x1f34cc(0x1cc)][_0x1f34cc(0x926)],'clusterId':this['clusterId'],'path':_0x3291e8}),this[_0x1f34cc(0x58a)]+=0x1,this[_0x1f34cc(0x764)]();try{return await this[_0x1f34cc(0x9dd)][_0x1f34cc(0x6ba)](_0x3291e8);}catch(_0x28b2b2){throw new _0x412649(_0xa32e41[_0x1f34cc(0x26c)],_0x1f34cc(0x96c)+_0x3291e8);}}async[_0x2e7de5(0x81b)](_0xe71f13,_0x115b54){const _0x1f537d=_0x2e7de5;if(!this['connector'])throw new _0x412649(_0xa32e41[_0x1f537d(0x680)],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x1d0f67=!0x1}=_0x115b54??{};_0x31c6d3[_0x1f537d(0xa10)](_0x45bb51[_0x1f537d(0x5fd)],{'type':_0x1f537d(0x81b),'label':this[_0x1f537d(0x7b6)],'nodeId':this[_0x1f537d(0x1cc)]['getId'](),'nodeType':this[_0x1f537d(0x1cc)]['type'],'clusterId':this['clusterId'],'path':_0xe71f13}),this['reads']+=0x1,this[_0x1f537d(0x764)]();try{return await this[_0x1f537d(0x9dd)]['list'](_0xe71f13,_0x1d0f67);}catch(_0x35492c){throw new _0x412649(_0xa32e41[_0x1f537d(0x26c)],'Cannot\x20list\x20directory:\x20'+_0xe71f13);}}[_0x2e7de5(0x683)](_0x1e1fa6,_0x3c3c13){const _0x2086bd=_0x2e7de5;if(this[_0x2086bd(0x42d)][_0x2086bd(0x1a4)](_0x1e1fa6))throw new _0x412649(_0xa32e41[_0x2086bd(0x570)],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x2086bd(0x42d)]['set'](_0x1e1fa6,this[_0x2086bd(0x3b0)][_0x2086bd(0x683)](_0x3c3c13));}[_0x2e7de5(0x615)](_0x32b0ea){const _0x226bf1=_0x2e7de5;this[_0x226bf1(0x42d)][_0x226bf1(0x6ba)](_0x32b0ea)?.(),this[_0x226bf1(0x42d)][_0x226bf1(0x428)](_0x32b0ea);}async[_0x2e7de5(0x35d)](){const _0x76d7fd=_0x2e7de5,_0x204f22=(await(0x0,_0x576ce3[_0x76d7fd(0x3e9)])((0x0,_0x576ce3[_0x76d7fd(0x8b6)])(_0x498ce8['getFirestore'](),'/developers/'+this[_0x76d7fd(0x9a1)]+_0x76d7fd(0x95b)+this[_0x76d7fd(0x7b6)])))[_0x76d7fd(0x672)]();if(!_0x204f22)throw new _0x412649(_0xa32e41['ExternalStorageConnectionDoesNotExist'],_0x76d7fd(0x33e)+this[_0x76d7fd(0x7b6)]);const {site:_0x23b7f3,drive:_0x36cf03}=_0x204f22,_0x40ca01=(await(0x0,_0x260296[_0x76d7fd(0x889)])(_0x498ce8[_0x76d7fd(0x488)](),'msalGetAccessToken')({'storageId':this[_0x76d7fd(0x7b6)]}))[_0x76d7fd(0x672)]['accessToken'];this[_0x76d7fd(0x9dd)]=new this['connectorConstructor'](_0x23b7f3['id'],_0x36cf03['id'],_0x40ca01,async()=>(await(0x0,_0x260296['httpsCallable'])(_0x498ce8[_0x76d7fd(0x488)](),'msalRefreshToken')({'storageId':this[_0x76d7fd(0x7b6)]}))[_0x76d7fd(0x672)][_0x76d7fd(0xa21)]),this[_0x76d7fd(0x1e9)]();}[_0x2e7de5(0x764)](){const _0x3a00d6=_0x2e7de5;this[_0x3a00d6(0x478)]&&clearTimeout(this['debounceStats']),this[_0x3a00d6(0x478)]=setTimeout(async()=>{const _0x1cfb08=_0x3a00d6;delete this[_0x1cfb08(0x478)],this['systemTopic']['publish']({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x1cfb08(0x938)],'content':{'type':_0x5ba456[_0x1cfb08(0x5f0)],'label':this[_0x1cfb08(0x7b6)],'stats':{'timestamp':Date[_0x1cfb08(0x974)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x1cfb08(0x58a)],'prompts':0x0,'tokens':0x0}}});},_0x91f37e);}async[_0x2e7de5(0x1e9)](){const _0x40fd9b=_0x2e7de5;await this[_0x40fd9b(0x9dd)]?.[_0x40fd9b(0x1bc)](),this[_0x40fd9b(0x5b0)]=_0x31d9e2[_0x40fd9b(0x6bd)](async()=>{const _0x3b4198=_0x40fd9b;try{if(!this['connector'])return;const _0x1947cd=await this[_0x3b4198(0x9dd)][_0x3b4198(0x1bc)]();for(const _0x21d8ce of _0x1947cd)this[_0x3b4198(0x3b0)][_0x3b4198(0x4df)](_0x21d8ce);}catch(_0xc46e7a){}},0x493e0);}}const _0xc21139=require('rxjs');class _0x47814b extends _0x231971{['graphService'];['jobs']=new Map();[_0x2e7de5(0x29e)]=new Map();[_0x2e7de5(0x371)]=new Map();[_0x2e7de5(0x576)];constructor(_0x53450a,_0x7a660c,_0x4e23d4){super(_0x53450a,_0x7a660c),this['graphService']=_0x4e23d4;}[_0x2e7de5(0x924)](){const _0x3b24fd=_0x2e7de5;return _0x564b37[_0x3b24fd(0x8c6)]['Job'];}[_0x2e7de5(0x35d)](){const _0x2ee99f=_0x2e7de5;this['unsubscribeHandler']=this[_0x2ee99f(0x805)]((_0x4b2b41,_0xf970a2)=>{const _0x4b6bd6=_0x2ee99f;if(_0x31c6d3['log'](_0x2387f2[_0x4b6bd6(0x6fa)],_0x4b6bd6(0x1ab),_0x4b2b41,_0xf970a2,this[_0x4b6bd6(0x1c8)][_0x4b6bd6(0x293)]()),!(_0xf970a2 instanceof File)){if(!_0xf970a2)throw new _0x26bf2d(_0x26bf2d[_0x4b6bd6(0x269)][_0x4b6bd6(0x78c)]);return this[_0x4b6bd6(0x5b7)](_0xf970a2)?this[_0x4b6bd6(0x891)](_0x4b2b41,_0xf970a2['id'],_0xf970a2):this[_0x4b6bd6(0x732)](_0xf970a2)?(_0x31c6d3[_0x4b6bd6(0x65c)](_0x2387f2[_0x4b6bd6(0x6fa)],_0x4b6bd6(0x88c)+_0xf970a2['id']+'\x20received\x20partial\x20result:',_0xf970a2['result']),void this['evaluatePartialJob'](_0xf970a2['id'],_0xf970a2)):this['isResultResponse'](_0xf970a2)?(_0x31c6d3[_0x4b6bd6(0x65c)](_0x2387f2[_0x4b6bd6(0x6fa)],_0x4b6bd6(0x88c)+_0xf970a2['id']+'\x20received\x20result:',_0xf970a2['result']),void this[_0x4b6bd6(0x435)](_0xf970a2['id'],_0xf970a2)):void(this['isFailedResponse'](_0xf970a2)&&this[_0x4b6bd6(0xa3e)](_0xf970a2['id'],_0xf970a2[_0x4b6bd6(0x4b2)]));}});}[_0x2e7de5(0x770)](){const _0x19460c=_0x2e7de5;this[_0x19460c(0x2a0)](),this[_0x19460c(0x35d)]();}['destroy'](){const _0x2d4bd2=_0x2e7de5;this[_0x2d4bd2(0x2a0)](),super['destroy']();}[_0x2e7de5(0x2a0)](){const _0x5a82b6=_0x2e7de5;this[_0x5a82b6(0x493)][_0x5a82b6(0x2a0)](),this[_0x5a82b6(0x576)]&&this[_0x5a82b6(0x576)]();}[_0x2e7de5(0x6f0)](){const _0x3d9306=_0x2e7de5;this[_0x3d9306(0x24d)]?.[_0x3d9306(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x3d9306(0x938)],'content':{'type':_0x5ba456[_0x3d9306(0x6a7)],'label':this[_0x3d9306(0x7b6)]}});}async[_0x2e7de5(0x1e4)](_0x41fc0d){const _0xd2adb3=_0x2e7de5,{id:_0x1400c8,parameters:_0x5d3518,jobType:_0x229325}=_0x41fc0d,_0x36977b={'id':_0x1400c8,'jobType':_0x229325,'parameters':_0x5d3518,'status':_0x564b37['JobStatus'][_0xd2adb3(0x281)],'created':new Date(),'updated':new Date()};if(this['jobs'][_0xd2adb3(0x1a4)](_0x36977b['id']))throw new _0x412649(_0xa32e41[_0xd2adb3(0x718)],_0xd2adb3(0x285)+_0x36977b['id']+_0xd2adb3(0x72c));_0x36977b[_0xd2adb3(0x2ec)]=new Date(),_0x36977b[_0xd2adb3(0x913)]=new Date();const _0x2c489e=new _0xc21139[(_0xd2adb3(0x23d))]();this['jobs'][_0xd2adb3(0x7ee)](_0x36977b['id'],_0x36977b),this[_0xd2adb3(0x29e)]['set'](_0x36977b['id'],_0x2c489e);try{const _0x5da7f8={'id':_0x36977b['id'],'jobPhase':_0x2842c8[_0xd2adb3(0xa1a)],'jobType':_0x36977b['jobType']},_0x3d8d66=0x3;let _0x500b79=0x0;const _0x408978=async()=>{const _0x4e6121=_0xd2adb3;_0x500b79+=0x1;try{_0x31c6d3['log'](_0x2387f2[_0x4e6121(0x6fa)],_0x4e6121(0x88c)+_0x36977b['id']+'\x20sending\x20attempt\x20'+_0x500b79+'.',this[_0x4e6121(0x1c8)][_0x4e6121(0x293)]()),await this[_0x4e6121(0x4d9)](_0x5da7f8),_0x36977b[_0x4e6121(0x913)]=new Date(),this[_0x4e6121(0x493)][_0x4e6121(0x7ee)](_0x36977b['id'],_0x36977b),this[_0x4e6121(0xa17)](_0x36977b['id']);}catch(_0x3f02ad){_0x500b79<_0x3d8d66?(_0x31c6d3[_0x4e6121(0x63b)](_0x4e6121(0x72a)+_0x500b79+'\x20to\x20send\x20dispatcherJob\x20'+_0x36977b['id']+_0x4e6121(0x3a0),{'nodeId':this['owner'][_0x4e6121(0x2ab)](),'nodeType':this[_0x4e6121(0x1a7)][_0x4e6121(0x926)],'data':{'job':_0x36977b,'attempts':_0x500b79,'maxRetries':_0x3d8d66}}),setTimeout(_0x408978,0x3e8)):(_0x36977b['status']=_0x564b37[_0x4e6121(0x6c6)][_0x4e6121(0x697)],_0x36977b['updated']=new Date(),this[_0x4e6121(0x493)]['set'](_0x36977b['id'],_0x36977b),_0x31c6d3[_0x4e6121(0x972)](_0x4e6121(0x5a2)+_0x36977b['id']+_0x4e6121(0x4bd)+_0x3d8d66+_0x4e6121(0x1af),{'nodeId':this[_0x4e6121(0x1a7)]['getId'](),'nodeType':this['owner'][_0x4e6121(0x926)],'data':{'job':_0x36977b,'attempts':_0x500b79,'maxRetries':_0x3d8d66,'error':_0x3f02ad}}));}};_0x408978();const {id:_0x128831}=_0x36977b;this[_0xd2adb3(0x4a8)]('Job\x20'+_0x36977b['id']+_0xd2adb3(0x236),{'jobId':_0x128831}),_0x36977b[_0xd2adb3(0x913)]=new Date();}catch(_0x2183c2){_0x36977b['status']=_0x564b37['JobStatus'][_0xd2adb3(0x697)],_0x31c6d3[_0xd2adb3(0x972)]('Failed\x20to\x20send\x20job\x20'+_0x36977b['id']+':',{'nodeId':this['owner']['getId'](),'nodeType':this['owner'][_0xd2adb3(0x926)],'data':{'job':_0x36977b,'error':_0x2183c2}});}return _0x2c489e[_0xd2adb3(0x774)]();}['getJob'](_0x5de241){const _0x113267=_0x2e7de5,_0x4bf5dd=this[_0x113267(0x493)][_0x113267(0x6ba)](_0x5de241);if(!_0x4bf5dd)throw new _0x412649(_0xa32e41[_0x113267(0x211)],_0x113267(0x285)+_0x5de241+_0x113267(0x97d));return{'id':_0x4bf5dd['id'],'jobType':_0x4bf5dd['jobType'],'status':_0x4bf5dd[_0x113267(0x2ea)],'parameters':_0x4bf5dd[_0x113267(0x450)]};}[_0x2e7de5(0x5ac)](){const _0xf6c474=_0x2e7de5;return Array[_0xf6c474(0xa4b)](this['jobs']['values']())[_0xf6c474(0x28b)](_0xb9bbfe=>this[_0xf6c474(0x510)](_0xb9bbfe['id']));}async['updateJob'](_0x3fa193,_0x3fbffc){const _0x35c115=_0x2e7de5,_0x8ba327=this['jobs'][_0x35c115(0x6ba)](_0x3fa193);if(!_0x8ba327)throw new _0x412649(_0xa32e41[_0x35c115(0x211)],_0x35c115(0x285)+_0x3fa193+_0x35c115(0x97d));_0x8ba327[_0x35c115(0x450)]=_0x3fbffc,_0x8ba327[_0x35c115(0x913)]=new Date(),this[_0x35c115(0x493)][_0x35c115(0x7ee)](_0x3fa193,_0x8ba327);}async[_0x2e7de5(0x6a8)](_0x3ee6a0){const _0x3fd57c=_0x2e7de5;if(!this[_0x3fd57c(0x493)][_0x3fd57c(0x428)](_0x3ee6a0))throw new _0x412649(_0xa32e41[_0x3fd57c(0x211)],_0x3fd57c(0x285)+_0x3ee6a0+_0x3fd57c(0x97d));const _0x715b5b=this[_0x3fd57c(0x29e)][_0x3fd57c(0x6ba)](_0x3ee6a0);if(!_0x715b5b)throw new _0x26bf2d(_0x26bf2d[_0x3fd57c(0x269)][_0x3fd57c(0x1e0)]);_0x715b5b[_0x3fd57c(0x430)](),this[_0x3fd57c(0x29e)]['delete'](_0x3ee6a0),_0x31c6d3[_0x3fd57c(0x65c)](_0x2387f2['Jobs'],_0x3fd57c(0x88c)+_0x3ee6a0+_0x3fd57c(0xa25));}[_0x2e7de5(0x891)](_0x64719d,_0x4bc6fb,_0x589877){const _0x414d61=_0x2e7de5,_0x573562=this[_0x414d61(0x371)][_0x414d61(0x6ba)](_0x4bc6fb)??new Map();_0x573562[_0x414d61(0x7ee)](_0x64719d,[_0x589877,Date[_0x414d61(0x974)]()]),this[_0x414d61(0x371)][_0x414d61(0x7ee)](_0x4bc6fb,_0x573562),this[_0x414d61(0x877)](_0x4bc6fb);}['startBidResponseHandling'](_0x302e43){const _0x3d8be7=_0x2e7de5,_0x44d6c1=this[_0x3d8be7(0x493)][_0x3d8be7(0x6ba)](_0x302e43);if(!_0x44d6c1)throw new _0x26bf2d(_0x26bf2d['codes'][_0x3d8be7(0x211)]);const _0x1f7287=setTimeout(()=>this[_0x3d8be7(0x877)](_0x302e43,!0x0),0xbb8);_0x44d6c1[_0x3d8be7(0x1fe)]=_0x1f7287,this[_0x3d8be7(0x493)][_0x3d8be7(0x7ee)](_0x44d6c1['id'],_0x44d6c1);}['evaluateBidsAndAttributeJob'](_0xadaf00,_0x4e40f1=!0x1){const _0x2d58b2=_0x2e7de5,_0x5e7e8d=this[_0x2d58b2(0x1c8)][_0x2d58b2(0x293)](),_0x292520=Array[_0x2d58b2(0xa4b)](_0x5e7e8d[_0x2d58b2(0x20c)]())[_0x2d58b2(0x8bd)](_0x36b6c6=>_0x36b6c6[_0x2d58b2(0x926)]===_0x564b37[_0x2d58b2(0x20b)][_0x2d58b2(0x59d)]),_0x22e5b2=this[_0x2d58b2(0x371)]['get'](_0xadaf00)??new Map();if(!_0x4e40f1&&(!_0x22e5b2||_0x22e5b2[_0x2d58b2(0x777)]<_0x292520[_0x2d58b2(0x727)]))return;const _0x4632b1=this['jobs'][_0x2d58b2(0x6ba)](_0xadaf00);if(!_0x4632b1)throw new _0x26bf2d(_0x26bf2d[_0x2d58b2(0x269)]['JobDispatcherJobNotFound']);if(clearTimeout(_0x4632b1[_0x2d58b2(0x1fe)]),_0x31c6d3[_0x2d58b2(0x65c)](_0x2387f2[_0x2d58b2(0x6fa)],_0x2d58b2(0x88c)+_0x4632b1['id']+_0x2d58b2(0x7cd),_0x22e5b2,this[_0x2d58b2(0x371)]),!_0x22e5b2||0x0===_0x22e5b2[_0x2d58b2(0x777)]){_0x4632b1[_0x2d58b2(0x2ea)]=_0x564b37[_0x2d58b2(0x6c6)][_0x2d58b2(0x697)],_0x4632b1[_0x2d58b2(0x913)]=new Date(),_0x31c6d3[_0x2d58b2(0x972)]('Job\x20'+_0x4632b1['id']+_0x2d58b2(0xa67),{'nodeId':this[_0x2d58b2(0x1a7)][_0x2d58b2(0x2ab)](),'nodeType':this['owner'][_0x2d58b2(0x926)],'data':{'job':_0x4632b1,'responses':_0x22e5b2}});const _0x120782=this[_0x2d58b2(0x29e)][_0x2d58b2(0x6ba)](_0xadaf00);if(!_0x120782)throw new _0x26bf2d(_0x26bf2d[_0x2d58b2(0x269)]['JobDispatcherObserverNotFound']);const _0x169104=_0x2d58b2(0x90b),_0xecb06b={'id':_0x4632b1['id'],'status':_0x4632b1[_0x2d58b2(0x2ea)],'message':_0x169104};return _0x120782['next'](_0xecb06b),_0x120782[_0x2d58b2(0x430)](),this['jobs'][_0x2d58b2(0x7ee)](_0x4632b1['id'],_0x4632b1),void this['jobBids']['delete'](_0xadaf00);}const {nodeId:_0x2447db,response:_0x825624}=this[_0x2d58b2(0x446)](_0x4632b1['id'],_0x22e5b2);_0x4632b1[_0x2d58b2(0x2ea)]=_0x564b37[_0x2d58b2(0x6c6)][_0x2d58b2(0x44e)],_0x4632b1[_0x2d58b2(0x913)]=new Date(),_0x31c6d3[_0x2d58b2(0x65c)](_0x2387f2[_0x2d58b2(0x6fa)],_0x2d58b2(0x88c)+_0x4632b1['id']+_0x2d58b2(0x809)+_0x2447db+_0x2d58b2(0x9c8),_0x825624);const _0x5ad642={'id':_0x4632b1['id'],'jobType':_0x4632b1['jobType'],'jobPhase':_0x2842c8[_0x2d58b2(0x37a)],'parameters':_0x4632b1[_0x2d58b2(0x450)]};this['send'](_0x5ad642,[_0x2447db]),this[_0x2d58b2(0x493)][_0x2d58b2(0x7ee)](_0x4632b1['id'],_0x4632b1),this[_0x2d58b2(0x371)][_0x2d58b2(0x428)](_0xadaf00);}['evaluateBids'](_0x2594d8,_0x5ed899){const _0x38f18c=_0x2e7de5;let _0x42b084;const _0xe2443b=Array[_0x38f18c(0xa4b)](_0x5ed899['entries']())[_0x38f18c(0x8bd)](([,[_0x1bda7d]])=>_0x1bda7d[_0x38f18c(0x804)]);if(_0x42b084=_0xe2443b[_0x38f18c(0x727)]>0x0?Array[_0x38f18c(0xa4b)](_0x5ed899[_0x38f18c(0x4d1)]())[_0x38f18c(0x1c1)]((_0xaac6cf,_0x5604b2)=>_0x5604b2[0x1][0x0][_0x38f18c(0x1c2)]-_0xaac6cf[0x1][0x0][_0x38f18c(0x1c2)]):Array[_0x38f18c(0xa4b)](_0x5ed899[_0x38f18c(0x4d1)]())['sort']((_0x1a58b8,_0x56df4f)=>_0x1a58b8[0x1][0x0][_0x38f18c(0x274)]-_0x56df4f[0x1][0x0][_0x38f18c(0x274)]),0x1===_0x42b084[_0x38f18c(0x727)])return{'nodeId':_0x42b084[0x0][0x0],'response':_0x42b084[0x0][0x1][0x0]};let _0x768453;if(_0x768453=_0xe2443b[_0x38f18c(0x727)]>0x0?(_0x34a2cb=>{const _0x19c2f5=_0x38f18c,_0x5efb93=_0x34a2cb[0x0][0x1][0x0]['bid'];return _0x34a2cb[_0x19c2f5(0x8bd)](([,[_0xcc764b]])=>_0xcc764b[_0x19c2f5(0x1c2)]===_0x5efb93);})(_0x42b084):(_0x11e916=>{const _0x427423=_0x38f18c,_0x4a0b5e=_0x11e916[0x0][0x1][0x0][_0x427423(0x274)];return _0x11e916[_0x427423(0x8bd)](([,[_0x47880c]])=>_0x47880c['queueLength']===_0x4a0b5e);})(_0x42b084),0x1===_0x768453[_0x38f18c(0x727)])return{'nodeId':_0x768453[0x0][0x0],'response':_0x768453[0x0][0x1][0x0]};const _0x32fad4=this[_0x38f18c(0x493)][_0x38f18c(0x6ba)](_0x2594d8);if(!_0x32fad4)throw new _0x26bf2d(_0x26bf2d[_0x38f18c(0x269)]['JobDispatcherJobNotFound']);const _0x24b5ce=_0x32fad4[_0x38f18c(0x2ec)][_0x38f18c(0x85c)](),_0x1452b0=_0x768453[_0x38f18c(0x28b)](([_0x4d4cc9,[,_0xbc87ed]])=>({'nodeId':_0x4d4cc9,'rtt':_0xbc87ed-_0x24b5ce})),_0xe7e944=Math[_0x38f18c(0x21e)](..._0x1452b0['map'](({rtt:_0x4a5ed8})=>_0x4a5ed8)),_0x9d111a=_0x1452b0[_0x38f18c(0x921)](({rtt:_0x4bb913})=>_0x4bb913===_0xe7e944),[,[_0x3d93bd]]=_0x768453[_0x38f18c(0x921)](([_0x22231f])=>_0x22231f===_0x9d111a[_0x38f18c(0x82b)]);return{'nodeId':_0x9d111a[_0x38f18c(0x82b)],'response':_0x3d93bd};}['evaluatePartialJob'](_0x442a78,_0x152fa4){const _0x34eca1=_0x2e7de5,_0x5610c8=this[_0x34eca1(0x493)][_0x34eca1(0x6ba)](_0x442a78);if(!_0x5610c8)throw new _0x26bf2d(_0x26bf2d[_0x34eca1(0x269)][_0x34eca1(0x211)]);const _0x9ba154=this[_0x34eca1(0x29e)]['get'](_0x442a78);if(!_0x9ba154)throw new _0x26bf2d(_0x26bf2d[_0x34eca1(0x269)]['JobDispatcherObserverNotFound']);const _0x5de4e0={'id':_0x5610c8['id'],'status':_0x564b37[_0x34eca1(0x6c6)][_0x34eca1(0x267)],'result':_0x152fa4[_0x34eca1(0x6bc)]};_0x9ba154[_0x34eca1(0x632)](_0x5de4e0);}[_0x2e7de5(0x435)](_0x4405c7,_0x3f4dcd){const _0x6e0859=_0x2e7de5,_0x5e3739=this[_0x6e0859(0x493)]['get'](_0x4405c7);if(!_0x5e3739)throw new _0x26bf2d(_0x26bf2d[_0x6e0859(0x269)][_0x6e0859(0x211)]);const _0x345a48=this[_0x6e0859(0x29e)][_0x6e0859(0x6ba)](_0x4405c7);if(!_0x345a48)throw new _0x26bf2d(_0x26bf2d[_0x6e0859(0x269)][_0x6e0859(0x1e0)]);_0x5e3739[_0x6e0859(0x2ea)]=_0x564b37[_0x6e0859(0x6c6)]['Completed'];const _0x130d24={'id':_0x5e3739['id'],'status':_0x5e3739[_0x6e0859(0x2ea)],'result':_0x3f4dcd[_0x6e0859(0x6bc)]};_0x345a48[_0x6e0859(0x632)](_0x130d24),_0x345a48[_0x6e0859(0x430)](),this[_0x6e0859(0x29e)]['delete'](_0x4405c7),this[_0x6e0859(0x4a8)]('Job\x20'+_0x4405c7+_0x6e0859(0x205),{'jobId':_0x4405c7});}['failJob'](_0x37e87e,_0x4e342c){const _0x606f8c=_0x2e7de5,_0x42be15=this[_0x606f8c(0x493)]['get'](_0x37e87e);if(!_0x42be15)throw new _0x26bf2d(_0x26bf2d[_0x606f8c(0x269)][_0x606f8c(0x211)]);const _0x8b4a1=this[_0x606f8c(0x29e)][_0x606f8c(0x6ba)](_0x37e87e);if(!_0x8b4a1)throw new _0x26bf2d(_0x26bf2d['codes'][_0x606f8c(0x1e0)]);_0x42be15[_0x606f8c(0x2ea)]=_0x564b37[_0x606f8c(0x6c6)][_0x606f8c(0x697)];const _0x2fe5d3={'id':_0x42be15['id'],'status':_0x42be15[_0x606f8c(0x2ea)],'message':_0x4e342c};_0x8b4a1[_0x606f8c(0x632)](_0x2fe5d3),_0x8b4a1['complete'](),this[_0x606f8c(0x29e)]['delete'](_0x37e87e),this[_0x606f8c(0x4a8)](_0x606f8c(0x88c)+_0x37e87e+'\x20failed.',{'jobId':_0x37e87e});}['logEvent'](_0x1a53fc,{jobId:_0x60c4b0}){const _0x4d3a45=_0x2e7de5,_0x46b0c0={'jobId':_0x60c4b0,'mistletIds':Array[_0x4d3a45(0xa4b)](this[_0x4d3a45(0x1c8)][_0x4d3a45(0x293)]()[_0x4d3a45(0x20c)]())['filter'](_0x405ff5=>_0x405ff5[_0x4d3a45(0x926)]===_0x564b37[_0x4d3a45(0x20b)][_0x4d3a45(0x59d)])[_0x4d3a45(0x28b)](_0x563adc=>_0x563adc[_0x4d3a45(0x2ab)]())};_0x31c6d3['logEvent'](_0x1a53fc,{'nodeId':this[_0x4d3a45(0x830)](),'nodeType':this[_0x4d3a45(0x1a7)][_0x4d3a45(0x926)],'data':_0x46b0c0}),_0x31c6d3[_0x4d3a45(0x65c)](_0x2387f2[_0x4d3a45(0x6fa)],_0x1a53fc,_0x46b0c0);}[_0x2e7de5(0x5b7)](_0xa0fd4a){const {jobPhase:_0x1ce359,available:_0xbedb12,bid:_0x7de04a}=_0xa0fd4a;return _0x1ce359===_0x2842c8['Bid']&&void 0x0!==_0xbedb12&&void 0x0!==_0x7de04a;}[_0x2e7de5(0x732)](_0x14ec99){const {jobPhase:_0x3f068e,result:_0x49e58e}=_0x14ec99;return _0x3f068e===_0x2842c8['PartialResult']&&void 0x0!==_0x49e58e;}[_0x2e7de5(0x2b1)](_0x3d73c3){const _0x1f73eb=_0x2e7de5,{jobPhase:_0x28b313,result:_0x28d09c}=_0x3d73c3;return _0x28b313===_0x2842c8[_0x1f73eb(0xa68)]&&void 0x0!==_0x28d09c;}[_0x2e7de5(0x7cf)](_0x4e9bd7){const _0x4d148e=_0x2e7de5,{jobPhase:_0x44bbf3,message:_0x298b67}=_0x4e9bd7;return _0x44bbf3===_0x2842c8[_0x4d148e(0x697)]&&void 0x0!==_0x298b67&&_0x4d148e(0x5ea)==typeof _0x298b67;}}var _0x5a6a15,_0x1f83fd,_0x28bd1b,_0x23f2a5;!function(_0x2d8318){const _0x526d1a=_0x2e7de5;_0x2d8318['ObjectStorage']=_0x526d1a(0x2da),_0x2d8318['ExternalStorage']=_0x526d1a(0x888);}(_0x5a6a15||(_0x5a6a15={})),function(_0x126803){const _0x3e6ca2=_0x2e7de5;_0x126803[_0x3e6ca2(0x59d)]=_0x3e6ca2(0x2c3),_0x126803[_0x3e6ca2(0x489)]=_0x3e6ca2(0x99d),_0x126803[_0x3e6ca2(0x5b1)]='custom-skill',_0x126803[_0x3e6ca2(0x828)]='data-collection',_0x126803[_0x3e6ca2(0x223)]=_0x3e6ca2(0x317),_0x126803[_0x3e6ca2(0x71f)]=_0x3e6ca2(0x7c9),_0x126803[_0x3e6ca2(0x551)]='answer',_0x126803[_0x3e6ca2(0x59c)]=_0x3e6ca2(0x8ab),_0x126803['Code']=_0x3e6ca2(0x7ba),_0x126803[_0x3e6ca2(0x9b8)]=_0x3e6ca2(0x8c8),_0x126803[_0x3e6ca2(0x9c2)]=_0x3e6ca2(0x1ba),_0x126803[_0x3e6ca2(0x80f)]=_0x3e6ca2(0xa5a),_0x126803['ChunkSplitter']='chunk-splitter',_0x126803[_0x3e6ca2(0x5e0)]='sentence-splitter',_0x126803[_0x3e6ca2(0x82f)]='word-splitter';}(_0x1f83fd||(_0x1f83fd={})),function(_0xbdcd12){const _0x38f62b=_0x2e7de5;_0xbdcd12['ObjectStorageUpload']='object-storage-upload',_0xbdcd12['ExternalStorageUpload']=_0x38f62b(0x9dc),_0xbdcd12[_0x38f62b(0x87d)]='document-parser',_0xbdcd12[_0x38f62b(0x7e5)]='chunk-splitter',_0xbdcd12['WordSplitter']=_0x38f62b(0x5d4),_0xbdcd12['SentenceSplitter']=_0x38f62b(0x912),_0xbdcd12[_0x38f62b(0x2e4)]='relation-extractor',_0xbdcd12['EntityExtractor']=_0x38f62b(0x920),_0xbdcd12[_0x38f62b(0x176)]=_0x38f62b(0x83b),_0xbdcd12[_0x38f62b(0x793)]='model',_0xbdcd12[_0x38f62b(0x59d)]=_0x38f62b(0x2c3),_0xbdcd12[_0x38f62b(0x59b)]=_0x38f62b(0x2da),_0xbdcd12[_0x38f62b(0xa2b)]=_0x38f62b(0x53a),_0xbdcd12[_0x38f62b(0x721)]='vector-database',_0xbdcd12[_0x38f62b(0x6ad)]=_0x38f62b(0x73b),_0xbdcd12[_0x38f62b(0x71f)]=_0x38f62b(0x7c9),_0xbdcd12['Context']=_0x38f62b(0x35a);}(_0x28bd1b||(_0x28bd1b={})),function(_0x1589f6){const _0x2eefe5=_0x2e7de5;_0x1589f6[_0x2eefe5(0x3c9)]=_0x2eefe5(0x9de),_0x1589f6['Text']='text',_0x1589f6[_0x2eefe5(0x77d)]=_0x2eefe5(0x943),_0x1589f6[_0x2eefe5(0x7e8)]=_0x2eefe5(0x20a),_0x1589f6[_0x2eefe5(0x264)]=_0x2eefe5(0x672),_0x1589f6[_0x2eefe5(0x5f1)]=_0x2eefe5(0x5fb),_0x1589f6[_0x2eefe5(0x3c8)]=_0x2eefe5(0x75b),_0x1589f6[_0x2eefe5(0x80e)]=_0x2eefe5(0x5cc),_0x1589f6[_0x2eefe5(0x9b8)]=_0x2eefe5(0x8c8),_0x1589f6['Index']='index',_0x1589f6[_0x2eefe5(0x223)]=_0x2eefe5(0x317),_0x1589f6[_0x2eefe5(0x5c2)]='skill',_0x1589f6[_0x2eefe5(0x38a)]=_0x2eefe5(0x35a),_0x1589f6[_0x2eefe5(0x5e3)]=_0x2eefe5(0x265);}(_0x23f2a5||(_0x23f2a5={}));class _0x4aa273{static [_0x2e7de5(0x79e)];constructor(){}static['getInstance'](){const _0x35e382=_0x2e7de5;return _0x4aa273[_0x35e382(0x79e)]||(_0x4aa273['instance']=new _0x4aa273()),_0x4aa273['instance'];}async[_0x2e7de5(0x5ca)](_0x27250d,_0x2b1ad0){const _0x352ea8=_0x2e7de5,_0x409dc7=await(0x0,_0x576ce3[_0x352ea8(0x3e9)])((0x0,_0x576ce3[_0x352ea8(0x8b6)])(_0x498ce8[_0x352ea8(0x68f)](),'/developers/'+_0x27250d+_0x352ea8(0x28f)+_0x2b1ad0)),_0x4d8bc3=await this['getAgents'](_0x27250d),_0x2ebe2b=await this[_0x352ea8(0x3f8)](_0x27250d),_0x3f76dd=await this[_0x352ea8(0x8f9)](_0x27250d),_0xe5afd8=await this['getModels'](_0x27250d),_0x4e124e=await this[_0x352ea8(0x298)](_0x27250d);if(!_0x409dc7[_0x352ea8(0x56e)]())throw new _0x26bf2d(_0x26bf2d[_0x352ea8(0x269)][_0x352ea8(0x671)]);return this[_0x352ea8(0x3f0)](_0x409dc7,_0x4d8bc3,_0x2ebe2b,_0x3f76dd,_0xe5afd8,_0x4e124e);}[_0x2e7de5(0x3f0)](_0x300fb9,_0x161809,_0x30f935,_0x337632,_0x5cc1b1,_0x4e39f8){const _0x3b66f2=_0x2e7de5,_0x2b86b7=_0x300fb9[_0x3b66f2(0x672)]();if(!_0x2b86b7)throw new _0x26bf2d(_0x26bf2d['codes']['WorkflowDoesNotExist']);const _0x3e4e34=_0x2b86b7[_0x3b66f2(0x383)]&&_0x2b86b7[_0x3b66f2(0x815)]?_0x2b86b7[_0x3b66f2(0x815)][_0x2b86b7[_0x3b66f2(0x383)]-0x1]:_0x2b86b7,_0x157de1=this[_0x3b66f2(0x628)](_0x3e4e34[_0x3b66f2(0x18b)],_0x161809,_0x30f935,_0x337632,_0x4e39f8);return{'id':_0x300fb9['id'],'modelsBucketId':_0x2b86b7[_0x3b66f2(0x765)],'blocks':_0x157de1,'models':this[_0x3b66f2(0x437)](_0x157de1,_0x5cc1b1),'dataBucketIds':this['getWorkflowObjectStorageBuckets'](_0x157de1),'externalStorageConnectionIds':this[_0x3b66f2(0x7b2)](_0x157de1)};}['getWorkflowModels'](_0x58d07d,_0x56de20){const _0x580c36=_0x2e7de5,_0x506957=new Set();for(const _0x2a9da7 of _0x58d07d)if(_0x2a9da7['type']!==_0x1f83fd['Agent']&&_0x2a9da7[_0x580c36(0x926)]!==_0x1f83fd[_0x580c36(0x489)]||_0x506957[_0x580c36(0x9eb)](_0x2a9da7[_0x580c36(0x192)]),_0x2a9da7[_0x580c36(0x926)]===_0x1f83fd['Knowledge']||_0x2a9da7[_0x580c36(0x926)]===_0x1f83fd[_0x580c36(0x828)]){for(const _0x31323d of[..._0x2a9da7[_0x580c36(0x2dc)],..._0x2a9da7[_0x580c36(0x552)]])_0x31323d[_0x580c36(0x926)]===_0x28bd1b[_0x580c36(0x793)]&&_0x506957[_0x580c36(0x9eb)](_0x31323d['id']),_0x31323d['type']===_0x28bd1b[_0x580c36(0x59d)]&&_0x506957[_0x580c36(0x9eb)](_0x31323d[_0x580c36(0x192)]);}return Array[_0x580c36(0xa4b)](_0x506957)['map'](_0x47d842=>{const _0x394272=_0x580c36,{id:_0x57334c,engineType:_0x299dbd,taskType:_0x50cb37,inputType:_0x50daea,outputType:_0x324345,sourceUrl:_0x43ef80}=_0x56de20[_0x394272(0x921)](_0x54d522=>_0x54d522['id']===_0x47d842);return{'id':_0x57334c,'engineType':_0x299dbd,'taskType':_0x50cb37,'inputType':_0x50daea,'outputType':_0x324345,'sourceUrl':_0x43ef80};});}[_0x2e7de5(0x887)](_0x3b9cdc){const _0x9c87b3=_0x2e7de5,_0x1a7138=new Set();for(const _0x618a26 of _0x3b9cdc)switch(_0x618a26[_0x9c87b3(0x926)]){case _0x1f83fd[_0x9c87b3(0x223)]:case _0x1f83fd[_0x9c87b3(0x828)]:for(const _0x4c41f1 of[..._0x618a26[_0x9c87b3(0x2dc)],..._0x618a26[_0x9c87b3(0x552)]])_0x4c41f1['type']===_0x28bd1b[_0x9c87b3(0x77c)]&&_0x1a7138[_0x9c87b3(0x9eb)](_0x4c41f1['id']);}return Array['from'](_0x1a7138);}[_0x2e7de5(0x7b2)](_0x2393cd){const _0x1e5877=_0x2e7de5,_0x18ee5=new Set();for(const _0x421f00 of _0x2393cd)switch(_0x421f00[_0x1e5877(0x926)]){case _0x1f83fd[_0x1e5877(0x223)]:case _0x1f83fd[_0x1e5877(0x828)]:for(const _0x30fefd of[..._0x421f00[_0x1e5877(0x2dc)],..._0x421f00[_0x1e5877(0x552)]])_0x30fefd[_0x1e5877(0x926)]===_0x28bd1b['ExternalStorageUpload']&&_0x18ee5[_0x1e5877(0x9eb)](_0x30fefd['id']);}return Array[_0x1e5877(0xa4b)](_0x18ee5);}[_0x2e7de5(0x628)](_0x4dae33,_0x487b5c,_0x2a604e,_0x21da9d,_0x150d32){return _0x4dae33['map'](_0xbcac64=>{const _0x303491=a0_0x4258;switch(_0xbcac64[_0x303491(0x926)]){case _0x1f83fd[_0x303491(0x59d)]:case _0x1f83fd[_0x303491(0x489)]:const _0x2e203b=_0x487b5c[_0x303491(0x921)](_0x364117=>_0x364117['id']===_0xbcac64['id']);if(!_0x2e203b)throw new _0x26bf2d(_0x26bf2d[_0x303491(0x269)][_0x303491(0x1f3)],{'block':_0xbcac64});const _0x53c7bd=_0xbcac64['version']&&_0x2e203b[_0x303491(0x815)]?_0x2e203b[_0x303491(0x815)][_0xbcac64['version']-0x1]:_0x2e203b;return{'type':_0x2e203b[_0x303491(0x926)],'id':_0x2e203b['id'],'uid':_0xbcac64[_0x303491(0x4db)],'name':_0x53c7bd[_0x303491(0x243)],'description':_0x53c7bd[_0x303491(0x9d3)],'instructions':_0x53c7bd[_0x303491(0x1c9)],'contextOutputVariable':_0x53c7bd[_0x303491(0x23f)],'contextInputVariable':_0x53c7bd[_0x303491(0x897)],'grammar':[_0x303491(0x1ee),_0x303491(0x287),_0x303491(0x2f1)][_0x303491(0xa49)](_0x53c7bd[_0x303491(0x8df)])?_0x53c7bd[_0x303491(0x8df)]:_0x150d32[_0x303491(0x921)](_0x19224e=>_0x19224e['id']===_0x53c7bd[_0x303491(0x8df)])[_0x303491(0x1da)],'temperature':_0x53c7bd[_0x303491(0x3a3)],'maxTokens':_0x53c7bd[_0x303491(0x18f)],'modelId':_0x53c7bd['modelId'],'links':_0xbcac64[_0x303491(0x9d9)],'version':_0xbcac64[_0x303491(0x44b)]};case _0x1f83fd[_0x303491(0x223)]:case _0x1f83fd[_0x303491(0x828)]:const _0x242ade=_0x2a604e[_0x303491(0x921)](_0x3cbcf0=>_0x3cbcf0['id']===_0xbcac64['id']);if(!_0x242ade)throw new _0x26bf2d(_0x26bf2d[_0x303491(0x269)][_0x303491(0x1f3)],{'block':_0xbcac64});const _0x1dce14=_0xbcac64[_0x303491(0x44b)]&&_0x242ade[_0x303491(0x815)]?_0x242ade[_0x303491(0x815)][_0xbcac64[_0x303491(0x44b)]-0x1]:_0x242ade;return{'type':_0xbcac64[_0x303491(0x926)],'id':_0x242ade['id'],'uid':_0xbcac64['uid'],'name':_0x1dce14[_0x303491(0x243)],'description':_0x1dce14[_0x303491(0x9d3)],'ingestBlocks':this['parseDataCollectionBlocks'](_0x1dce14[_0x303491(0x2dc)],_0x487b5c),'retrieveBlocks':this['parseDataCollectionBlocks'](_0x1dce14[_0x303491(0x552)],_0x487b5c),'links':_0xbcac64[_0x303491(0x9d9)],'version':_0xbcac64[_0x303491(0x44b)]};case _0x1f83fd[_0x303491(0x5b1)]:const _0x440a4c=_0x21da9d[_0x303491(0x921)](_0x208b42=>_0x208b42['id']===_0xbcac64['id']);if(!_0x440a4c)throw new _0x26bf2d(_0x26bf2d[_0x303491(0x269)]['WorkflowInvalidBlockType'],{'block':_0xbcac64});return{'type':_0xbcac64[_0x303491(0x926)],'id':_0x440a4c['id'],'uid':_0xbcac64[_0x303491(0x4db)],'name':_0x440a4c['name'],'description':_0x440a4c[_0x303491(0x9d3)],'parameters':_0x440a4c[_0x303491(0x450)],'endpointUrl':_0x440a4c['endpointUrl'],'endpointMethod':_0x440a4c[_0x303491(0x56c)],'headers':_0x440a4c[_0x303491(0x5ef)],'queryParameters':_0x440a4c[_0x303491(0x6a3)],'bodyParameters':_0x440a4c['bodyParameters'],'contextOutputVariable':_0x440a4c[_0x303491(0x23f)],'waitAsync':_0x440a4c[_0x303491(0x57f)],'asyncEndpointUrl':_0x440a4c[_0x303491(0x22a)],'asyncEndpointMethod':_0x440a4c[_0x303491(0x397)],'asyncHeaders':_0x440a4c[_0x303491(0x3ed)],'links':_0xbcac64['links']};case _0x1f83fd[_0x303491(0x71f)]:case _0x1f83fd[_0x303491(0x551)]:case _0x1f83fd[_0x303491(0x59c)]:case _0x1f83fd[_0x303491(0x5a6)]:case _0x1f83fd[_0x303491(0x9b8)]:case _0x1f83fd[_0x303491(0x9c2)]:case _0x1f83fd[_0x303491(0x80f)]:case _0x1f83fd[_0x303491(0x5e0)]:return{'type':_0xbcac64[_0x303491(0x926)],'id':_0xbcac64['id'],'uid':_0xbcac64[_0x303491(0x4db)],'links':_0xbcac64[_0x303491(0x9d9)]};case _0x1f83fd['ChunkSplitter']:case _0x1f83fd[_0x303491(0x82f)]:return{'type':_0xbcac64['type'],'id':_0xbcac64['id'],'uid':_0xbcac64[_0x303491(0x4db)],'links':_0xbcac64[_0x303491(0x9d9)],'attributes':_0xbcac64[_0x303491(0x40b)]};default:throw new _0x26bf2d(_0x26bf2d[_0x303491(0x269)]['WorkflowInvalidBlockType'],{'block':_0xbcac64});}});}[_0x2e7de5(0x818)](_0x338504,_0x4343f9){const _0x9cee15=_0x2e7de5;return _0x338504[_0x9cee15(0x28b)](_0x5a0bd8=>{const _0x4eb91a=_0x9cee15;switch(_0x5a0bd8['type']){case _0x28bd1b[_0x4eb91a(0x59d)]:const _0xa7d12e=_0x4343f9[_0x4eb91a(0x921)](_0x3d6ecd=>_0x3d6ecd['id']===_0x5a0bd8['id']);if(!_0xa7d12e)throw new _0x26bf2d(_0x26bf2d[_0x4eb91a(0x269)][_0x4eb91a(0x1f3)],{'block':_0x5a0bd8});const _0x7accf1=_0x5a0bd8[_0x4eb91a(0x44b)]&&_0xa7d12e[_0x4eb91a(0x815)]?_0xa7d12e[_0x4eb91a(0x815)][_0x5a0bd8['version']-0x1]:_0xa7d12e;return{'type':_0x5a0bd8['type'],'id':_0x5a0bd8['id'],'uid':_0x5a0bd8[_0x4eb91a(0x4db)],'description':_0x7accf1[_0x4eb91a(0x9d3)],'instructions':_0x7accf1[_0x4eb91a(0x1c9)],'grammar':_0x7accf1[_0x4eb91a(0x8df)],'temperature':_0x7accf1[_0x4eb91a(0x3a3)],'maxTokens':_0x7accf1[_0x4eb91a(0x18f)],'modelId':_0x7accf1[_0x4eb91a(0x192)],'links':_0x5a0bd8[_0x4eb91a(0x9d9)],'version':_0x5a0bd8['version']};case _0x28bd1b['GraphDatabase']:case _0x28bd1b[_0x4eb91a(0x721)]:case _0x28bd1b['WordSplitter']:case _0x28bd1b[_0x4eb91a(0x7e5)]:case _0x28bd1b[_0x4eb91a(0x324)]:case _0x28bd1b[_0x4eb91a(0x176)]:return{'type':_0x5a0bd8['type'],'id':_0x5a0bd8['id'],'uid':_0x5a0bd8['uid'],'links':_0x5a0bd8['links'],'attributes':_0x5a0bd8[_0x4eb91a(0x40b)]};case _0x28bd1b[_0x4eb91a(0x793)]:case _0x28bd1b[_0x4eb91a(0x59b)]:case _0x28bd1b['KeyValueDatabase']:case _0x28bd1b[_0x4eb91a(0x2e4)]:case _0x28bd1b[_0x4eb91a(0x87d)]:case _0x28bd1b['SentenceSplitter']:case _0x28bd1b[_0x4eb91a(0x77c)]:case _0x28bd1b[_0x4eb91a(0x320)]:case _0x28bd1b[_0x4eb91a(0x38a)]:case _0x28bd1b[_0x4eb91a(0x71f)]:return{'type':_0x5a0bd8[_0x4eb91a(0x926)],'id':_0x5a0bd8['id'],'uid':_0x5a0bd8[_0x4eb91a(0x4db)],'links':_0x5a0bd8[_0x4eb91a(0x9d9)]};default:throw new _0x26bf2d(_0x26bf2d[_0x4eb91a(0x269)][_0x4eb91a(0x1f3)],{'block':_0x5a0bd8});}});}async[_0x2e7de5(0x471)](_0x5218c1){const _0x5db2a9=_0x2e7de5;return(await(0x0,_0x576ce3[_0x5db2a9(0x8fd)])((0x0,_0x576ce3[_0x5db2a9(0x6dc)])(_0x498ce8[_0x5db2a9(0x68f)](),'/developers/'+_0x5218c1+'/resources/generative-ai-agent/items')))[_0x5db2a9(0x8b0)][_0x5db2a9(0x28b)](_0x3ac06f=>{const _0x39e80e=_0x5db2a9,_0x3c9d75=_0x3ac06f[_0x39e80e(0x672)]();return{'type':_0x1f83fd[_0x39e80e(0x59d)],'id':_0x3ac06f['id'],'name':_0x3c9d75[_0x39e80e(0x243)],'description':_0x3c9d75[_0x39e80e(0x9d3)],'instructions':_0x3c9d75['instructions'],'contextOutputVariable':_0x3c9d75['contextOutputVariable'],'contextInputVariable':_0x3c9d75[_0x39e80e(0x897)],'grammar':_0x3c9d75['grammar']??'default','temperature':_0x3c9d75[_0x39e80e(0x3a3)],'maxTokens':_0x3c9d75[_0x39e80e(0x18f)],'modelId':_0x3c9d75[_0x39e80e(0x192)],'versions':_0x3c9d75['versions']};});}async[_0x2e7de5(0x3f8)](_0x364d78){const _0x400e77=_0x2e7de5;return(await(0x0,_0x576ce3['getDocs'])((0x0,_0x576ce3[_0x400e77(0x6dc)])(_0x498ce8[_0x400e77(0x68f)](),_0x400e77(0x6cf)+_0x364d78+_0x400e77(0x3a2))))[_0x400e77(0x8b0)][_0x400e77(0x28b)](_0x47c9c3=>{const _0x5477d7=_0x400e77,_0x12ca3c=_0x47c9c3[_0x5477d7(0x672)]();return{'type':_0x1f83fd[_0x5477d7(0x828)],'id':_0x47c9c3['id'],'name':_0x12ca3c[_0x5477d7(0x243)],'description':_0x12ca3c['description'],'ingestBlocks':_0x12ca3c['ingestBlocks'],'retrieveBlocks':_0x12ca3c[_0x5477d7(0x552)],'versions':_0x12ca3c[_0x5477d7(0x815)]};});}async[_0x2e7de5(0x8f9)](_0x563ff0){const _0x51d39b=_0x2e7de5;return(await(0x0,_0x576ce3[_0x51d39b(0x8fd)])((0x0,_0x576ce3[_0x51d39b(0x6dc)])(_0x498ce8[_0x51d39b(0x68f)](),'/developers/'+_0x563ff0+_0x51d39b(0x7a6))))[_0x51d39b(0x8b0)]['map'](_0x593feb=>{const _0x27bb7a=_0x51d39b,_0x102e9f=_0x593feb['data']();return{'type':_0x1f83fd[_0x27bb7a(0x5b1)],'id':_0x593feb['id'],'name':_0x102e9f[_0x27bb7a(0x243)],'description':_0x102e9f['description'],'parameters':_0x102e9f[_0x27bb7a(0x450)],'endpointUrl':_0x102e9f[_0x27bb7a(0x6b2)],'endpointMethod':_0x102e9f[_0x27bb7a(0x56c)],'headers':_0x102e9f[_0x27bb7a(0x5ef)],'queryParameters':_0x102e9f[_0x27bb7a(0x6a3)],'bodyParameters':_0x102e9f[_0x27bb7a(0x679)],'contextOutputVariable':_0x102e9f[_0x27bb7a(0x23f)],'waitAsync':_0x102e9f[_0x27bb7a(0x57f)]??!0x1,'asyncEndpointUrl':_0x102e9f[_0x27bb7a(0x22a)],'asyncEndpointMethod':_0x102e9f[_0x27bb7a(0x397)],'asyncHeaders':_0x102e9f[_0x27bb7a(0x3ed)]};});}async[_0x2e7de5(0x298)](_0x2366ca){const _0x4b3997=_0x2e7de5;return(await(0x0,_0x576ce3['getDocs'])((0x0,_0x576ce3[_0x4b3997(0x6dc)])(_0x498ce8[_0x4b3997(0x68f)](),_0x4b3997(0x6cf)+_0x2366ca+'/resources/generative-ai-grammar/items')))[_0x4b3997(0x8b0)][_0x4b3997(0x28b)](_0x48a6d9=>{const _0x30fd79=_0x4b3997,_0x31cbea=_0x48a6d9[_0x30fd79(0x672)]();return{'id':_0x48a6d9['id'],'name':_0x31cbea[_0x30fd79(0x243)],'description':_0x31cbea[_0x30fd79(0x9d3)],'content':_0x31cbea[_0x30fd79(0x1da)]};});}async[_0x2e7de5(0x9b5)](_0x39a9ad){const _0x3f0a3d=_0x2e7de5;return(await(0x0,_0x576ce3['getDocs'])((0x0,_0x576ce3[_0x3f0a3d(0x6dc)])(_0x498ce8[_0x3f0a3d(0x68f)](),'/developers/'+_0x39a9ad+_0x3f0a3d(0x623))))['docs'][_0x3f0a3d(0x28b)](_0x724b3f=>{const _0xb393e6=_0x3f0a3d,_0x498d0b=_0x724b3f[_0xb393e6(0x672)]();return{'id':_0x724b3f['id'],'modelName':_0x498d0b[_0xb393e6(0x426)],'engineType':_0x498d0b['engine'],'taskType':_0x498d0b[_0xb393e6(0x5e6)],'inputType':_0x498d0b[_0xb393e6(0x756)]??_0x564b37[_0xb393e6(0x577)][_0xb393e6(0x1a2)],'outputType':_0x498d0b[_0xb393e6(0x96a)]??_0x564b37['GenerativeAIModelOutputType']['Text'],'sourceUrl':_0x498d0b[_0xb393e6(0x25c)]};});}}const _0x109fe8=_0x4aa273['getInstance']();class _0x4ff17d extends _0x47814b{[_0x2e7de5(0x1cc)];['vendorId'];[_0x2e7de5(0x28d)]=0x0;[_0x2e7de5(0x916)]=0x0;[_0x2e7de5(0x478)];constructor(_0x3c4c2c,_0x2ace80,_0x24b934,_0x2a9270){const _0x6a1a9d=_0x2e7de5;super(_0x3c4c2c,_0x2ace80,_0x2a9270),this[_0x6a1a9d(0x1cc)]=_0x3c4c2c,this['vendorId']=_0x24b934,this[_0x6a1a9d(0x764)]();}['destroy'](){const _0x46e6df=_0x2e7de5;this[_0x46e6df(0x478)]&&(clearTimeout(this[_0x46e6df(0x478)]),delete this['debounceStats']),super[_0x46e6df(0x736)]();}[_0x2e7de5(0x770)](){const _0x10301c=_0x2e7de5;this[_0x10301c(0x28d)]=0x0,this['tokens']=0x0,this[_0x10301c(0x764)](),super['reset']();}[_0x2e7de5(0x864)](_0xf97b43){const _0x4a9052=_0x2e7de5,_0x15e274=_0x4a9052(0x806)+(0x0,_0x328cbd['v4'])();switch(_0xf97b43[_0x4a9052(0x926)]){case _0x4a9052(0x7c9):let _0x5bef3d=!0x1;const _0x30dd4b=()=>{if(_0x5bef3d)throw new _0x26bf2d(_0x26bf2d['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x5bef3d=!0x0;},_0x58311b=()=>(_0x30dd4b(),this['prompt'](_0x15e274,_0xf97b43[_0x4a9052(0x7c9)],_0xf97b43[_0x4a9052(0x7e9)])),_0x535873=()=>(_0x30dd4b(),this[_0x4a9052(0x571)](_0x15e274,_0xf97b43[_0x4a9052(0x7c9)],_0xf97b43[_0x4a9052(0x7e9)]));return{'id':_0x15e274,'prompt':_0xf97b43[_0x4a9052(0x7c9)],'options':_0xf97b43[_0x4a9052(0x7e9)]??{'threadId':_0x4a9052(0x802)+(0x0,_0x328cbd['v4'])()},'run':_0x58311b,'stream':_0x535873};case'rate':let _0x1913c6=!0x1;const _0x2188ef=()=>{const _0x4e9d3b=_0x4a9052;if(_0x1913c6)throw new _0x26bf2d(_0x26bf2d[_0x4e9d3b(0x269)][_0x4e9d3b(0x245)]);_0x1913c6=!0x0;},_0x29c191=()=>(_0x2188ef(),this['internalRatePrompt'](_0x15e274,_0xf97b43[_0x4a9052(0x1b4)],_0xf97b43[_0x4a9052(0x337)],_0xf97b43['options']));if(!_0xf97b43[_0x4a9052(0x7e9)]?.[_0x4a9052(0xa23)])throw new _0x412649(_0xa32e41['GenerativeAIContextJobMissingThreadId'],_0x4a9052(0x288));return{'id':_0x15e274,'rating':_0xf97b43[_0x4a9052(0x1b4)],'options':_0xf97b43[_0x4a9052(0x7e9)]??{'threadId':'thread-'+(0x0,_0x328cbd['v4'])()},'rate':_0x29c191};case _0x4a9052(0x4b0):let _0x57102f=!0x1;const _0x47a81b=()=>{const _0x28530e=_0x4a9052;if(_0x57102f)throw new _0x26bf2d(_0x26bf2d[_0x28530e(0x269)][_0x28530e(0x245)]);_0x57102f=!0x0;};return{'id':_0x15e274,'objectStoreId':'','documentPath':_0xf97b43[_0x4a9052(0x742)],'download':()=>(_0x47a81b(),this[_0x4a9052(0x861)](_0x15e274,_0xf97b43[_0x4a9052(0x519)],_0xf97b43['documentPath']))};}}async[_0x2e7de5(0x486)](_0x1a9515){const _0x245f0c=_0x2e7de5;return this[_0x245f0c(0x864)](_0x1a9515)[_0x245f0c(0x1d6)]();}async[_0x2e7de5(0x4b0)](_0x1e4205){const _0x1f157e=_0x2e7de5,_0x54bbc3={'type':_0x1f157e(0x4b0),'objectStoreId':'','documentPath':_0x1e4205};return this['createAIJob'](_0x54bbc3)['download']();}async['internalRatePrompt'](_0x244037,_0x343e1b,_0x13d631,{threadId:_0x331a98,feedback:_0x467517=''}){const _0x21a4a1=_0x2e7de5,_0x3c5b10={'type':'rate','jobId':_0x13d631,'threadId':_0x331a98,'rating':_0x343e1b,'feedback':_0x467517},_0x1bf750=await this[_0x21a4a1(0x670)](_0x244037,_0x564b37[_0x21a4a1(0x50a)]['Job'],_0x3c5b10,{'threadId':_0x331a98,'feedback':_0x467517});return new Promise((_0x1ad004,_0x111014)=>{let _0x50de4e;const _0x36475e=_0x1bf750['subscribe']({'next':_0x170f81=>{const _0x3abbfa=a0_0x4258;switch(_0x170f81[_0x3abbfa(0x2ea)]){case _0x564b37[_0x3abbfa(0x6c6)][_0x3abbfa(0x1a3)]:clearTimeout(_0x50de4e),_0x1ad004(_0x170f81[_0x3abbfa(0x6bc)]),_0x36475e[_0x3abbfa(0x615)]();break;case _0x564b37[_0x3abbfa(0x6c6)][_0x3abbfa(0x697)]:clearTimeout(_0x50de4e),_0x111014(new _0x26bf2d(_0x26bf2d[_0x3abbfa(0x269)][_0x3abbfa(0x49b)],{'updatedJob':_0x170f81})),_0x36475e['unsubscribe']();}},'error':_0x3b2bd0=>{const _0x107363=a0_0x4258;clearTimeout(_0x50de4e),_0x111014(new _0x26bf2d(_0x26bf2d['codes'][_0x107363(0x49b)],{'err':_0x3b2bd0})),_0x36475e['unsubscribe']();}});_0x50de4e=setTimeout(()=>{const _0x28c827=a0_0x4258;_0x111014(new _0x26bf2d(_0x26bf2d[_0x28c827(0x269)]['GenerativeAIContextJobTimeout'])),_0x36475e[_0x28c827(0x615)]();},_0x498f8b);});}async[_0x2e7de5(0x861)](_0x2d26ce,_0x1a226e,_0x484201){const _0x441f77=_0x2e7de5,_0x3c4eff={'type':'downloadDocument','objectStoreId':_0x1a226e,'documentPath':_0x484201,'threadId':_0x441f77(0x802)+(0x0,_0x328cbd['v4'])()},_0x57168b=await this[_0x441f77(0x670)](_0x2d26ce,_0x564b37['JobType'][_0x441f77(0x8bb)],_0x3c4eff);return new Promise((_0x19053b,_0x249f5b)=>{const _0x2ba3e9=_0x441f77;let _0x15517f;const _0xc82d65=_0x57168b[_0x2ba3e9(0x683)]({'next':_0x582c38=>{const _0x382b02=_0x2ba3e9;switch(_0x582c38[_0x382b02(0x2ea)]){case _0x564b37[_0x382b02(0x6c6)][_0x382b02(0x1a3)]:clearTimeout(_0x15517f),_0x19053b(_0x582c38[_0x382b02(0x6bc)]),_0xc82d65[_0x382b02(0x615)]();break;case _0x564b37[_0x382b02(0x6c6)][_0x382b02(0x697)]:clearTimeout(_0x15517f),_0x249f5b(new _0x26bf2d(_0x26bf2d[_0x382b02(0x269)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x582c38})),_0xc82d65[_0x382b02(0x615)]();}},'error':_0x3bbbb2=>{const _0x276bcf=_0x2ba3e9;clearTimeout(_0x15517f),_0x249f5b(new _0x26bf2d(_0x26bf2d['codes'][_0x276bcf(0x49b)],{'err':_0x3bbbb2})),_0xc82d65[_0x276bcf(0x615)]();}});_0x15517f=setTimeout(()=>{const _0x35c964=_0x2ba3e9;_0x249f5b(new _0x26bf2d(_0x26bf2d[_0x35c964(0x269)][_0x35c964(0x196)])),_0xc82d65[_0x35c964(0x615)]();},_0x498f8b);});}async[_0x2e7de5(0x7c9)](_0x35a7b2,_0x1e15cc,_0x441183){const _0xe301c9=_0x2e7de5,_0x4d31b2={'type':'prompt','prompt':_0x1e15cc,'threadId':_0x441183?.[_0xe301c9(0xa23)]??_0xe301c9(0x802)+(0x0,_0x328cbd['v4'])()},_0x2d8c31=await this[_0xe301c9(0x670)](_0x35a7b2,_0x564b37[_0xe301c9(0x50a)][_0xe301c9(0x8bb)],_0x4d31b2,_0x441183);return new Promise((_0x3917bf,_0x1f5052)=>{let _0x31ccf5;const _0x4ad404=_0x2d8c31['subscribe']({'next':_0x42aa07=>{const _0x400dc4=a0_0x4258;switch(_0x42aa07['status']){case _0x564b37['JobStatus'][_0x400dc4(0x1a3)]:if(_0x400dc4(0x7c9)!==_0x42aa07[_0x400dc4(0x6bc)][_0x400dc4(0x926)])return;const _0x2b5ffd=_0x42aa07[_0x400dc4(0x6bc)][_0x400dc4(0x8a8)]??0x0;this['logServiceEvent'](_0x1e15cc,_0x2b5ffd),clearTimeout(_0x31ccf5),_0x3917bf(_0x42aa07[_0x400dc4(0x6bc)]),_0x4ad404[_0x400dc4(0x615)](),this['prompts']+=0x1,this[_0x400dc4(0x916)]+=_0x2b5ffd,this['sendStats']();break;case _0x564b37[_0x400dc4(0x6c6)]['Failed']:clearTimeout(_0x31ccf5),_0x1f5052(new _0x26bf2d(_0x26bf2d[_0x400dc4(0x269)][_0x400dc4(0x49b)],{'updatedJob':_0x42aa07})),_0x4ad404['unsubscribe'](),this[_0x400dc4(0x764)]();}},'error':_0x3c1e8b=>{const _0x5e50e3=a0_0x4258;clearTimeout(_0x31ccf5),_0x1f5052(new _0x26bf2d(_0x26bf2d[_0x5e50e3(0x269)][_0x5e50e3(0x49b)],{'err':_0x3c1e8b})),_0x4ad404[_0x5e50e3(0x615)]();}});_0x31ccf5=setTimeout(()=>{const _0x23f4cf=a0_0x4258;_0x1f5052(new _0x26bf2d(_0x26bf2d[_0x23f4cf(0x269)][_0x23f4cf(0x196)])),_0x4ad404[_0x23f4cf(0x615)]();},_0x498f8b);});}async*[_0x2e7de5(0x571)](_0x30e8b5,_0x3f8d2b,_0x3dadb8){const _0x353e01=_0x2e7de5,_0x4fa6ea={'type':_0x353e01(0x7c9),'prompt':_0x3f8d2b,'threadId':_0x3dadb8?.[_0x353e01(0xa23)]??_0x353e01(0x802)+(0x0,_0x328cbd['v4'])()},_0x249a53=await this['getJobObservable'](_0x30e8b5,_0x564b37[_0x353e01(0x50a)][_0x353e01(0x26f)],_0x4fa6ea,_0x3dadb8);let _0x557d2a,_0x349cdf,_0x21db1a=!0x1,_0x238221=0x0;const _0x5a7576=[],_0x562720=new Map();let _0x44408d=null;const _0x5e22fb=()=>{_0x44408d&&(_0x44408d(),_0x44408d=null);},_0x2c56be=_0x5d0ab5=>{_0x21db1a=!0x0,_0x5e22fb(),_0x39a039['unsubscribe'](),_0x349cdf=_0x5d0ab5;},_0x39a039=_0x249a53[_0x353e01(0x683)]({'next':_0x317f28=>{const _0x56d4b5=_0x353e01;switch(_0x317f28[_0x56d4b5(0x2ea)]){case _0x564b37[_0x56d4b5(0x6c6)][_0x56d4b5(0x267)]:if(_0x56d4b5(0x7c9)!==_0x317f28[_0x56d4b5(0x6bc)][_0x56d4b5(0x926)])return;if(_0x317f28[_0x56d4b5(0x6bc)]&&void 0x0!==_0x317f28[_0x56d4b5(0x6bc)][_0x56d4b5(0x1fb)]){if(void 0x0===_0x317f28[_0x56d4b5(0x6bc)]['index'])return void _0x2c56be(_0x26bf2d[_0x56d4b5(0x269)][_0x56d4b5(0x3c7)]);_0x238221===_0x317f28[_0x56d4b5(0x6bc)][_0x56d4b5(0xa08)]?(_0x5a7576[_0x56d4b5(0x67b)](_0x317f28[_0x56d4b5(0x6bc)]),_0x238221++,((()=>{const _0x363958=_0x56d4b5;for(;_0x562720[_0x363958(0x1a4)](_0x238221);)_0x5a7576[_0x363958(0x67b)](_0x562720[_0x363958(0x6ba)](_0x5a7576[_0x363958(0x727)])),_0x562720[_0x363958(0x428)](_0x5a7576[_0x363958(0x727)]),_0x238221++;})()),_0x5e22fb(),_0x38bc13()):_0x562720[_0x56d4b5(0x7ee)](_0x317f28[_0x56d4b5(0x6bc)][_0x56d4b5(0xa08)],_0x317f28['result']);}break;case _0x564b37['JobStatus'][_0x56d4b5(0x1a3)]:if('prompt'!==_0x317f28['result'][_0x56d4b5(0x926)])return;const _0x51f17a=_0x317f28[_0x56d4b5(0x6bc)][_0x56d4b5(0x8a8)]??0x0;this[_0x56d4b5(0xa10)](_0x3f8d2b,_0x51f17a),clearTimeout(_0x557d2a),_0x2c56be(),this[_0x56d4b5(0x28d)]+=0x1,this['tokens']+=_0x51f17a,this[_0x56d4b5(0x764)]();break;case _0x564b37[_0x56d4b5(0x6c6)][_0x56d4b5(0x697)]:clearTimeout(_0x557d2a),_0x2c56be(_0x26bf2d['codes']['GenerativeAIContextJobFailed']),this['sendStats']();}},'error':_0x2f6e47=>{const _0x32268b=_0x353e01;clearTimeout(_0x557d2a),_0x2c56be(_0x26bf2d['codes'][_0x32268b(0x49b)]);}}),_0x469d12=()=>{const _0x2a6725=_0x353e01;_0x2c56be(_0x26bf2d['codes'][_0x2a6725(0x196)]);},_0x38bc13=()=>{clearTimeout(_0x557d2a),_0x557d2a=setTimeout(_0x469d12,_0x498f8b);};for(_0x557d2a=setTimeout(_0x469d12,_0x498f8b);!_0x21db1a||_0x5a7576[_0x353e01(0x727)]>0x0;)_0x5a7576[_0x353e01(0x727)]>0x0?yield _0x5a7576[_0x353e01(0x242)]():await new Promise(_0x2c57b7=>_0x44408d=_0x2c57b7);if(_0x349cdf)throw _0x31c6d3[_0x353e01(0x972)](_0x353e01(0x7ab),{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x353e01(0x1cc)][_0x353e01(0x926)]}),new _0x26bf2d(_0x349cdf);}async[_0x2e7de5(0x546)](){const _0x20c251=_0x2e7de5;return(await _0x109fe8['getWorkflow'](this[_0x20c251(0x9a1)],this[_0x20c251(0x7b6)]))[_0x20c251(0x6e4)];}[_0x2e7de5(0xa10)](_0x5bb264,_0x2be927){const _0x306b25=_0x2e7de5,_0x2f8199=this[_0x306b25(0x7b6)],_0x1bcdff=this['getOwnerId']();_0x31c6d3[_0x306b25(0xa10)](_0x45bb51[_0x306b25(0x24b)],{'topic':_0x2f8199,'prompt':_0x5bb264,'type':_0x306b25(0x7c9),'nodeId':_0x1bcdff,'tokenCount':_0x2be927});}async[_0x2e7de5(0x670)](_0x42c9c7,_0x47ffbe,_0x2591d2,_0x202340={}){const _0x3952dd=_0x2e7de5;let _0x35fabe;switch(_0x2591d2[_0x3952dd(0x926)]){case'prompt':{const {threadId:_0x23b4dc}=_0x202340;_0x35fabe={'id':_0x42c9c7,'jobType':_0x47ffbe,'parameters':{..._0x202340,'type':_0x3952dd(0x7c9),'prompt':_0x2591d2['prompt'],'threadId':_0x23b4dc},'status':_0x564b37[_0x3952dd(0x6c6)][_0x3952dd(0x281)]};break;}case'rate':{const {threadId:_0x14c74e}=_0x202340;_0x35fabe={'id':_0x42c9c7,'jobType':_0x47ffbe,'parameters':{..._0x202340,'type':_0x3952dd(0x1d6),'jobId':_0x2591d2[_0x3952dd(0x337)],'rating':_0x2591d2[_0x3952dd(0x1b4)],'feedback':_0x2591d2['feedback']??'','threadId':_0x14c74e},'status':_0x564b37['JobStatus'][_0x3952dd(0x281)]};break;}case _0x3952dd(0x4b0):_0x35fabe={'id':_0x42c9c7,'jobType':_0x47ffbe,'parameters':{..._0x202340,'type':_0x3952dd(0x4b0),'objectStoreId':_0x2591d2[_0x3952dd(0x519)],'documentPath':_0x2591d2[_0x3952dd(0x742)]},'status':_0x564b37[_0x3952dd(0x6c6)]['Pending']};}return await this['createJob'](_0x35fabe);}['sendStats'](){const _0x4138af=_0x2e7de5;this[_0x4138af(0x478)]&&clearTimeout(this[_0x4138af(0x478)]),this[_0x4138af(0x478)]=setTimeout(async()=>{const _0x25b570=_0x4138af;delete this['debounceStats'],this[_0x25b570(0x24d)][_0x25b570(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x25b570(0x938)],'content':{'type':_0x5ba456[_0x25b570(0x173)],'label':this['label'],'stats':{'timestamp':Date[_0x25b570(0x974)](),'storage':0x0,'messagesSent':this[_0x25b570(0x7a2)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x25b570(0x3e0)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this['tokens']}}});},_0x91f37e);}}var _0x451c74,_0x1252ca,_0x55bac5,_0x41b944,_0x52139a,_0x34f68e,_0x3c71ed,_0x2dd95f,_0x7c398f,_0x31800c,_0x4b3773;!function(_0x4dc904){const _0x2ce055=_0x2e7de5;_0x4dc904[_0x2ce055(0x8f5)]=_0x2ce055(0x8f5),_0x4dc904['IngestTrace']=_0x2ce055(0x962),_0x4dc904[_0x2ce055(0xa4f)]=_0x2ce055(0xa4f),_0x4dc904[_0x2ce055(0x246)]=_0x2ce055(0x246);}(_0x451c74||(_0x451c74={})),function(_0x2fb0c5){const _0x2e0123=_0x2e7de5;_0x2fb0c5[_0x2e0123(0x6f2)]=_0x2e0123(0x6f2),_0x2fb0c5[_0x2e0123(0x72e)]=_0x2e0123(0x72e),_0x2fb0c5[_0x2e0123(0x9a2)]=_0x2e0123(0x9a2),_0x2fb0c5[_0x2e0123(0x324)]=_0x2e0123(0x324),_0x2fb0c5[_0x2e0123(0x166)]=_0x2e0123(0x166),_0x2fb0c5[_0x2e0123(0x176)]=_0x2e0123(0x176);}(_0x1252ca||(_0x1252ca={})),function(_0x117d81){const _0x2f0802=_0x2e7de5;_0x117d81[_0x117d81[_0x2f0802(0x43e)]=0x0]='Debug',_0x117d81[_0x117d81[_0x2f0802(0x275)]=0x5]=_0x2f0802(0x275),_0x117d81[_0x117d81[_0x2f0802(0x4a0)]=0xa]=_0x2f0802(0x4a0),_0x117d81[_0x117d81[_0x2f0802(0x3ef)]=0xf]=_0x2f0802(0x3ef);}(_0x55bac5||(_0x55bac5={})),function(_0xc04a3d){const _0x1eb609=_0x2e7de5;_0xc04a3d[_0x1eb609(0x610)]=_0x1eb609(0x610),_0xc04a3d[_0x1eb609(0x349)]=_0x1eb609(0x349),_0xc04a3d['Knowledge']=_0x1eb609(0x223),_0xc04a3d[_0x1eb609(0x5c2)]=_0x1eb609(0x5c2),_0xc04a3d[_0x1eb609(0x3c3)]='Workflow',_0xc04a3d[_0x1eb609(0x8bb)]=_0x1eb609(0x8bb),_0xc04a3d['JobContext']=_0x1eb609(0x55c),_0xc04a3d[_0x1eb609(0x404)]=_0x1eb609(0x404);}(_0x41b944||(_0x41b944={})),function(_0x20779a){const _0x20f428=_0x2e7de5;_0x20779a[_0x20f428(0x71d)]='Queued',_0x20779a['Completed']='Completed';}(_0x52139a||(_0x52139a={})),function(_0x38a957){const _0x68c140=_0x2e7de5;_0x38a957[_0x68c140(0x98a)]=_0x68c140(0x98a),_0x38a957[_0x68c140(0x34c)]='IntermediateOutput',_0x38a957['DataCollection']='DataCollection',_0x38a957['FinalOutput']=_0x68c140(0x45c);}(_0x34f68e||(_0x34f68e={})),function(_0x198c7a){const _0x4a6467=_0x2e7de5;_0x198c7a[_0x4a6467(0x7e5)]=_0x4a6467(0x7e5),_0x198c7a[_0x4a6467(0x87d)]=_0x4a6467(0x87d),_0x198c7a[_0x4a6467(0x324)]=_0x4a6467(0x324),_0x198c7a[_0x4a6467(0x6ad)]=_0x4a6467(0x6ad),_0x198c7a[_0x4a6467(0x59d)]=_0x4a6467(0x59d),_0x198c7a[_0x4a6467(0x6f2)]='ModelText',_0x198c7a['ModelVector']=_0x4a6467(0x72e),_0x198c7a['RelationExtractor']=_0x4a6467(0x2e4),_0x198c7a[_0x4a6467(0x5e0)]=_0x4a6467(0x5e0),_0x198c7a[_0x4a6467(0x721)]=_0x4a6467(0x721),_0x198c7a['WordSplitter']=_0x4a6467(0x82f);}(_0x3c71ed||(_0x3c71ed={})),function(_0x16dcfd){const _0x5d7095=_0x2e7de5;_0x16dcfd[_0x5d7095(0x405)]='GetContextQuery',_0x16dcfd[_0x5d7095(0x6df)]='GetContextResult';}(_0x2dd95f||(_0x2dd95f={})),function(_0x51cab9){const _0x4864aa=_0x2e7de5;_0x51cab9[_0x4864aa(0x2b9)]=_0x4864aa(0x2b9),_0x51cab9[_0x4864aa(0x3fb)]=_0x4864aa(0x3fb),_0x51cab9['FetchUrl']='FetchUrl',_0x51cab9[_0x4864aa(0x417)]=_0x4864aa(0x417),_0x51cab9[_0x4864aa(0x443)]=_0x4864aa(0x443),_0x51cab9[_0x4864aa(0x63d)]='ExecuteCustomSkill';}(_0x7c398f||(_0x7c398f={})),function(_0x46c8a4){const _0x2bcafa=_0x2e7de5;_0x46c8a4[_0x2bcafa(0x2f3)]=_0x2bcafa(0x2f3),_0x46c8a4[_0x2bcafa(0x7f2)]='LoadSkillFunction';}(_0x31800c||(_0x31800c={})),function(_0x2f1de0){const _0x1a5669=_0x2e7de5;_0x2f1de0[_0x1a5669(0x516)]=_0x1a5669(0x516);}(_0x4b3773||(_0x4b3773={}));class _0x22b676{static [_0x2e7de5(0x79e)];['jobQueue']=[];['isRunning']=!0x1;constructor(){}static[_0x2e7de5(0x6f6)](){const _0x1f8163=_0x2e7de5;return _0x22b676[_0x1f8163(0x79e)]||(_0x22b676[_0x1f8163(0x79e)]=new _0x22b676()),_0x22b676[_0x1f8163(0x79e)];}get['length'](){const _0x1f9d42=_0x2e7de5;return this[_0x1f9d42(0xa72)]['length'];}[_0x2e7de5(0x5db)](){const _0x3d8477=_0x2e7de5;return!this[_0x3d8477(0x87f)];}[_0x2e7de5(0x2a0)](_0x144ce6){const _0x2428a6=_0x2e7de5;_0x144ce6?this[_0x2428a6(0xa72)]=this[_0x2428a6(0xa72)]['filter'](_0x119d74=>_0x119d74['ownerId']!==_0x144ce6):(this[_0x2428a6(0xa72)]=[],this[_0x2428a6(0x87f)]=!0x1);}['add'](_0x4424cb,_0x143c49){const _0x57136f=_0x2e7de5;this['jobQueue'][_0x57136f(0x67b)]({'callback':_0x143c49,'ownerId':_0x4424cb}),this[_0x57136f(0x8cf)]();}async[_0x2e7de5(0x8cf)](){const _0x2b079d=_0x2e7de5;if(!this[_0x2b079d(0x87f)]){for(this[_0x2b079d(0x87f)]=!0x0;this[_0x2b079d(0xa72)]['length']>0x0;){const _0x3e2630=this[_0x2b079d(0xa72)]['shift']();if(_0x3e2630)try{console[_0x2b079d(0x6dd)](_0x2b079d(0x859)),await _0x3e2630['callback']();}catch(_0x2e2c57){console['error']('JobQueueService:\x20Error\x20running\x20job',_0x2e2c57);}}this[_0x2b079d(0x87f)]=!0x1;}}}const _0x1237dc=_0x22b676[_0x2e7de5(0x6f6)]();class _0x5cd2a extends _0x231971{[_0x2e7de5(0x4b7)];[_0x2e7de5(0xa69)];constructor(_0x4bda37,_0x307f65,_0x3239b2){const _0x3899b0=_0x2e7de5;super(_0x4bda37,_0x307f65),this[_0x3899b0(0x4b7)]=_0x3239b2;}[_0x2e7de5(0x924)](){const _0xe862fb=_0x2e7de5;return _0x564b37[_0xe862fb(0x8c6)][_0xe862fb(0x8bb)];}['open'](){const _0x3f2870=_0x2e7de5;this[_0x3f2870(0x53c)]();}['close'](){const _0x484712=_0x2e7de5;this['systemTopic']?.[_0x484712(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x484712(0x938)],'content':{'type':_0x5ba456[_0x484712(0xa01)],'label':this['label']}});}[_0x2e7de5(0x770)](){const _0x1ec515=_0x2e7de5;this[_0x1ec515(0xa69)]?.(),delete this[_0x1ec515(0xa69)],this[_0x1ec515(0x35d)]();}['destroy'](){const _0xb3e612=_0x2e7de5;_0x1237dc[_0xb3e612(0x2a0)](this['label']),this[_0xb3e612(0xa69)]?.(),delete this[_0xb3e612(0xa69)],super['destroy']();}[_0x2e7de5(0x5db)](){const _0x254d01=_0x2e7de5;return _0x1237dc[_0x254d01(0x5db)]();}[_0x2e7de5(0x590)](){return 0x1;}[_0x2e7de5(0x878)](_0x593c8d,_0x5cffff,_0xf8acd5){}[_0x2e7de5(0x52c)](_0x5e4d44,_0x3f0f41){return _0x5e4d44;}[_0x2e7de5(0x314)](_0x41e68d,_0x3b8c3a){const _0x334fc1=_0x2e7de5;console[_0x334fc1(0x6dd)]('JobWorker:\x20Tracing\x20not\x20implemented');}['stopTracing'](_0xce6c89,_0x39d793){console['warn']('JobWorker:\x20Tracing\x20not\x20implemented');}['subscribeToJobs'](){const _0x2ae00d=_0x2e7de5;this[_0x2ae00d(0xa69)]||(this[_0x2ae00d(0xa69)]=this[_0x2ae00d(0x805)]((_0x524559,_0x2069df)=>{const _0x41cca2=_0x2ae00d;if(_0x31c6d3[_0x41cca2(0x65c)](_0x2387f2[_0x41cca2(0x6fa)],_0x41cca2(0x4d5),_0x2069df),!(_0x2069df instanceof File)){if(this['isJobRequest'](_0x2069df))_0x31c6d3[_0x41cca2(0x65c)](_0x2387f2[_0x41cca2(0x6fa)],_0x41cca2(0x7b1),_0x2069df),this[_0x41cca2(0x5db)]()?this[_0x41cca2(0xa0c)](_0x2069df['id'],_0x2069df['jobType'],_0x524559):this[_0x41cca2(0x695)](_0x2069df['id'],_0x2069df[_0x41cca2(0x702)],_0x524559);else{if(this[_0x41cca2(0x339)](_0x2069df)){_0x31c6d3['log'](_0x2387f2['Jobs'],'JobWorker:\x20Received\x20job\x20attribution',_0x2069df);const {id:_0x311e10,parameters:_0x55591b}=_0x2069df;this['startTracing'](_0x311e10,_0x55591b),_0x1237dc[_0x41cca2(0x9eb)](this['label'],()=>this['handleJobAttribution'](_0x2069df['id'],_0x2069df,_0x524559));}}}}));}['sendBid'](_0x131e35,_0x3bd6ac,_0x374d5f){const _0x3ea47d=_0x2e7de5,_0x1957c8={'id':_0x131e35,'jobType':_0x3bd6ac,'jobPhase':_0x2842c8[_0x3ea47d(0x81d)],'available':!0x0,'queueLength':_0x1237dc['length'],'bid':this[_0x3ea47d(0x590)]()};_0x31c6d3[_0x3ea47d(0x65c)](_0x2387f2[_0x3ea47d(0x6fa)],_0x3ea47d(0x661),_0x1957c8),this['send'](_0x1957c8,[_0x374d5f]);}[_0x2e7de5(0x695)](_0x220944,_0x4c5a01,_0x22dbeb){const _0x41e536=_0x2e7de5,_0x11f72b={'id':_0x220944,'jobType':_0x4c5a01,'jobPhase':_0x2842c8['Bid'],'available':!0x1,'queueLength':_0x1237dc[_0x41e536(0x727)],'bid':0x0};_0x31c6d3[_0x41e536(0x65c)](_0x2387f2[_0x41e536(0x6fa)],'JobWorker:\x20Sending\x20job\x20reject',_0x11f72b),this[_0x41e536(0x4d9)](_0x11f72b,[_0x22dbeb]);}async['handleJobAttribution'](_0x39dc4e,_0x2220c4,_0x13d57c){const _0x48e410=_0x2e7de5;_0x31c6d3[_0x48e410(0x65c)](_0x2387f2[_0x48e410(0x6fa)],_0x48e410(0x7f1),_0x2220c4);const _0x1727f8={'id':_0x39dc4e,'jobType':_0x2220c4[_0x48e410(0x702)],'parameters':_0x2220c4['parameters']};try{switch(_0x2220c4[_0x48e410(0x702)]){case _0x564b37['JobType'][_0x48e410(0x8bb)]:await this[_0x48e410(0x94d)](_0x39dc4e,_0x2220c4,_0x1727f8,_0x13d57c);break;case _0x564b37[_0x48e410(0x50a)][_0x48e410(0x26f)]:await this['processJobStream'](_0x39dc4e,_0x2220c4,_0x1727f8,_0x13d57c);break;default:throw new Error(_0x48e410(0x7d7));}}catch(_0x2e6407){_0x31c6d3[_0x48e410(0x972)](_0x48e410(0x8f0),{'nodeId':this[_0x48e410(0x1a7)][_0x48e410(0x2ab)](),'nodeType':this[_0x48e410(0x1a7)][_0x48e410(0x926)],'data':{'job':_0x1727f8}},_0x2e6407);const _0x3eda33=_0x2e6407 instanceof Error?_0x2e6407['message']:_0x48e410(0x3e4),_0x23283d={'id':_0x39dc4e,'jobType':_0x2220c4[_0x48e410(0x702)],'jobPhase':_0x2842c8[_0x48e410(0x697)],'message':_0x3eda33};await this[_0x48e410(0x4d9)](_0x23283d,[_0x13d57c]);}}async[_0x2e7de5(0x94d)](_0x828a30,_0x6bd012,_0x181bfd,_0x4ba52d){const _0x1da252=_0x2e7de5,_0x105b0a=Date[_0x1da252(0x974)](),_0x6578ed=await this['internalProcessJob'](_0x828a30,_0x181bfd[_0x1da252(0x450)]);this[_0x1da252(0x878)](_0x6578ed,_0x105b0a,Date[_0x1da252(0x974)]());const _0x40d3ae={'id':_0x828a30,'jobType':_0x6bd012[_0x1da252(0x702)],'jobPhase':_0x2842c8[_0x1da252(0xa68)],'result':_0x6578ed};_0x31c6d3[_0x1da252(0x65c)](_0x2387f2[_0x1da252(0x6fa)],_0x1da252(0x8bc),_0x40d3ae),await this[_0x1da252(0x4d9)](_0x40d3ae,[_0x4ba52d]),this[_0x1da252(0x993)](_0x828a30,_0x181bfd[_0x1da252(0x450)]);}async['processJobStream'](_0x5f104b,_0x360018,_0x5ec4d5,_0x543a55){const _0x338007=_0x2e7de5,_0x54ef0f=Date[_0x338007(0x974)]();let _0x1e812f=0x0,_0x553491={};for await(const _0x54a607 of this[_0x338007(0x17b)](_0x5ec4d5['id'],_0x5ec4d5['parameters'])){const _0x45d7be={'id':_0x5f104b,'jobType':_0x360018[_0x338007(0x702)],'jobPhase':_0x2842c8['PartialResult'],'result':{..._0x54a607,'index':_0x1e812f}};_0x31c6d3[_0x338007(0x65c)](_0x2387f2[_0x338007(0x6fa)],_0x338007(0x6a6),_0x45d7be),this['send'](_0x45d7be,[_0x543a55]),_0x553491=this[_0x338007(0x52c)](_0x553491,_0x54a607),_0x1e812f++;}this['compileStats'](_0x553491,_0x54ef0f,Date[_0x338007(0x974)]());const _0x1907d4={'id':_0x5f104b,'jobType':_0x360018[_0x338007(0x702)],'jobPhase':_0x2842c8[_0x338007(0xa68)],'result':_0x553491};_0x31c6d3[_0x338007(0x65c)](_0x2387f2[_0x338007(0x6fa)],'JobWorker:\x20Sending\x20job\x20result',_0x1907d4),await this[_0x338007(0x4d9)](_0x1907d4,[_0x543a55]),this['stopTracing'](_0x5f104b,_0x5ec4d5[_0x338007(0x450)]);}['isJobRequest'](_0x493de8){const _0x4aac31=_0x2e7de5;return _0x493de8[_0x4aac31(0x5b6)]===_0x2842c8[_0x4aac31(0xa1a)];}[_0x2e7de5(0x339)](_0x505fa7){const _0x47e330=_0x2e7de5;return _0x505fa7[_0x47e330(0x5b6)]===_0x2842c8[_0x47e330(0x37a)];}}function _0x4126d8(_0x1e5563,_0x55bee0){const _0x138880=_0x2e7de5;return _0x138880(0x52a)+_0x1e5563+'-'+_0x55bee0;}function _0x3c414a(){const _0x4934d5=_0x2e7de5,_0x370de4=_0x67f956[_0x4934d5(0x184)](0x1);return _0x370de4[_0x4934d5(0x64b)](_0x4934d5(0x1f2))[_0x4934d5(0xa08)]('id')[_0x4934d5(0xa08)](_0x4934d5(0x337))['index'](_0x4934d5(0x7a5))[_0x4934d5(0xa08)]('threadId')[_0x4934d5(0xa08)]('timestamp')[_0x4934d5(0xa08)]('sequence'),_0x370de4;}function _0x4b29b5(_0x2deb10){const _0x607c2d=_0x2e7de5;try{return JSON[_0x607c2d(0x178)](_0x2deb10);}catch(_0x41447b){return _0x2deb10 instanceof Error?_0x2deb10[_0x607c2d(0x451)]():JSON[_0x607c2d(0x178)](_0x607c2d(0x8a0));}}class _0x35b222{static [_0x2e7de5(0x79e)];[_0x2e7de5(0x605)]=_0x55bac5[_0x2e7de5(0x3ef)];[_0x2e7de5(0x978)]=_0x55bac5[_0x2e7de5(0x275)];[_0x2e7de5(0x28c)]=_0x41b944[_0x2e7de5(0x610)];[_0x2e7de5(0x9d1)]={};static [_0x2e7de5(0x6f6)]=()=>(_0x35b222[_0x2e7de5(0x79e)]||(_0x35b222[_0x2e7de5(0x79e)]=new _0x35b222()),_0x35b222[_0x2e7de5(0x79e)]);[_0x2e7de5(0x453)](_0x5e0e53,_0xfda331,_0x5c4fae=!0x0){const _0x2699f0=_0x2e7de5;try{if(this[_0x2699f0(0x9d1)][_0xfda331])throw new Error(_0x2699f0(0x5c8));const _0x1b8d95={'sequence':0x0};if(this[_0x2699f0(0x9d1)][_0xfda331]=_0x1b8d95,!_0x5e0e53)return!0x0;const _0x16f6dc=function(_0x3baeae){const _0x2705b8=_0x2699f0;return _0x3baeae[_0x2705b8(0x3a7)]('logs');}(_0x5e0e53);return _0x1b8d95[_0x2699f0(0x3a1)]=_0x5e0e53,_0x1b8d95[_0x2699f0(0x64b)]=_0x16f6dc,!0x0;}catch(_0x4312d5){return console[_0x2699f0(0x972)](_0x2699f0(0x203)+_0x5c4fae,_0x4312d5),!!_0x5c4fae&&(this[_0x2699f0(0x1ec)](_0xfda331),this['openTrace'](_0x5e0e53,_0xfda331,!0x1));}}[_0x2e7de5(0xa32)](_0xb09e70){const _0x1df274=_0x2e7de5;try{const _0x44ff80=this[_0x1df274(0x9d1)][_0xb09e70[_0x1df274(0x337)]];if(!_0x44ff80)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0xb09e70[_0x1df274(0x8e5)]=_0x44ff80['sequence']++,_0xb09e70['traceLevel']>=this[_0x1df274(0x605)]&&console[_0x1df274(0x65c)](JSON[_0x1df274(0x178)](_0xb09e70,null,0x2)),this[_0x1df274(0x690)](_0xb09e70);}catch(_0x2132be){console[_0x1df274(0x972)](_0x1df274(0x633),_0x2132be);}}[_0x2e7de5(0x1ec)](_0x8bba5c){const _0x1d673d=_0x2e7de5;if(!_0x35b222[_0x1d673d(0x79e)])throw new Error(_0x1d673d(0x9d8));if(!this[_0x1d673d(0x9d1)][_0x8bba5c])throw new Error(_0x1d673d(0x331));delete this[_0x1d673d(0x9d1)][_0x8bba5c];}[_0x2e7de5(0x690)](_0xf0c11a){const _0x5d52fd=_0x2e7de5;if(_0xf0c11a[_0x5d52fd(0x492)]<this[_0x5d52fd(0x978)]&&_0xf0c11a[_0x5d52fd(0x702)]!==this[_0x5d52fd(0x28c)])return;if(!this[_0x5d52fd(0x9d1)][_0xf0c11a[_0x5d52fd(0x337)]])throw new Error(_0x5d52fd(0x46f));const _0x1f3011=this[_0x5d52fd(0x9d1)][_0xf0c11a['jobId']];if(!_0x1f3011[_0x5d52fd(0x3a1)])throw new Error(_0x5d52fd(0x235));if(!_0x1f3011[_0x5d52fd(0x64b)])throw new Error(_0x5d52fd(0x8cc));try{const _0x18cfb9=function(_0x6b149a){const _0xf3394d=_0x5d52fd,_0x194985=[_0xf3394d(0x768),'timestamp',_0xf3394d(0x702),_0xf3394d(0x926),_0xf3394d(0x337),_0xf3394d(0x492),'blockId',_0xf3394d(0x2ea),'sequence',_0xf3394d(0x365)],_0x35be72={..._0x6b149a};for(const _0x3062b4 of _0x194985)delete _0x35be72[_0x3062b4];return{'timestamp':_0x6b149a['timestamp'],'jobType':_0x6b149a['jobType'],'type':_0x6b149a['type'],'jobId':_0x6b149a[_0xf3394d(0x337)],'agentId':_0x6b149a[_0xf3394d(0x7a5)]??'','traceLevel':_0x6b149a[_0xf3394d(0x492)],'blockId':_0x6b149a[_0xf3394d(0x8c1)]??'','startTime':_0x6b149a[_0xf3394d(0x768)],'status':_0x6b149a[_0xf3394d(0x2ea)],'sequence':_0x6b149a[_0xf3394d(0x8e5)]??0x0,'errorDetails':_0x6b149a[_0xf3394d(0x365)]??'','metadata':_0x4b29b5(_0x35be72)};}(_0xf0c11a),_0x30ba23=(0x0,_0x328cbd['v4'])();console['log'](_0x5d52fd(0x945),_0x18cfb9[_0x5d52fd(0x926)]),_0x1f3011['table'][_0x5d52fd(0x7ee)](_0x30ba23,_0x18cfb9);}catch(_0x53fc7d){console[_0x5d52fd(0x972)](_0x5d52fd(0x2a2),_0x53fc7d);}}}const _0x24872b=_0x35b222[_0x2e7de5(0x6f6)]();async function _0x241749(_0x24ef76,_0x22e057,_0x153b5f,_0x7b0c54,_0x3d1fe3){const _0x1b0303=_0x2e7de5,_0x1bb9e6=Date[_0x1b0303(0x974)](),_0x9ad1b7=_0x3d1fe3['models']['find'](_0x387ab4=>_0x387ab4['id']===_0x153b5f[_0x1b0303(0x192)]);if(!_0x9ad1b7)throw new Error(_0x1b0303(0x874));const _0x2a0355=_0x3d1fe3[_0x1b0303(0xa5e)][_0x1b0303(0x921)](_0x44c35c=>_0x44c35c[_0x1b0303(0x8db)]()===_0x9ad1b7[_0x1b0303(0x232)]);if(!_0x2a0355)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x48eb8d=[],_0x703733=(0x0,_0x328cbd['v4'])(),_0x27efd6=await _0x2a0355[_0x1b0303(0x94d)]({'type':_0x1b0303(0x7c9),'prompt':_0x22e057,'instructions':_0x153b5f['instructions'],'grammar':_0x153b5f['grammar'],'temperature':_0x153b5f['temperature'],'maxTokens':_0x153b5f['maxTokens'],'threadId':_0x703733},{'model':_0x9ad1b7});if(_0x1b0303(0x5ea)!=typeof _0x27efd6[_0x1b0303(0x1fb)])throw new Error(_0x1b0303(0x712));if(_0x24872b[_0x1b0303(0xa32)]({'jobType':_0x41b944[_0x1b0303(0x349)],'type':_0x3c71ed[_0x1b0303(0x59d)],'jobId':_0x24ef76,'blockId':_0x153b5f['id'],'traceLevel':_0x55bac5[_0x1b0303(0x43e)],'timestamp':Date[_0x1b0303(0x974)](),'startTime':_0x1bb9e6,'status':'success','agentId':_0x703733,'content':_0x22e057,'instructions':_0x153b5f[_0x1b0303(0x1c9)],'result':_0x27efd6[_0x1b0303(0x1fb)]}),_0x153b5f[_0x1b0303(0x9d9)]?.[_0x1b0303(0x363)](_0x13b0a7=>_0x13b0a7[_0x1b0303(0x926)]===_0x23f2a5[_0x1b0303(0x1a2)]))return _0x48eb8d[_0x1b0303(0x67b)]({'content':_0x27efd6[_0x1b0303(0x1fb)],'start':0x0,'length':_0x27efd6[_0x1b0303(0x1fb)][_0x1b0303(0x727)]}),await _0xd5c6ed(_0x24ef76,_0x48eb8d,_0x153b5f,_0x7b0c54,_0x3d1fe3),void await _0xd5c6ed(_0x24ef76,_0x27efd6[_0x1b0303(0x1fb)],_0x153b5f,_0x7b0c54,_0x3d1fe3);_0x48eb8d[_0x1b0303(0x67b)]({'content':_0x27efd6[_0x1b0303(0x1fb)],'start':0x0,'length':_0x22e057[_0x1b0303(0x727)]}),await _0xd5c6ed(_0x24ef76,_0x48eb8d,_0x153b5f,_0x7b0c54,_0x3d1fe3);}async function _0x3c9d18(_0x3293c9,_0x231222,_0x1d7ef2,_0x210087,_0x149529){const _0x5a59ce=_0x2e7de5,_0x4cd3a5=Date['now']();let _0x1af049=[];if(_0x231222 instanceof Array){for(const _0x4b16f6 of _0x231222)_0x1af049=_0x1af049[_0x5a59ce(0x4f3)](_0x5c31f8(_0x4b16f6['content'],_0x1d7ef2,_0x4b16f6[_0x5a59ce(0x640)],_0x4b16f6['length']));}else _0x1af049=_0x5c31f8(_0x231222,_0x1d7ef2);_0x24872b[_0x5a59ce(0xa32)]({'jobType':_0x41b944[_0x5a59ce(0x349)],'type':_0x3c71ed[_0x5a59ce(0x7e5)],'traceLevel':_0x55bac5[_0x5a59ce(0x43e)],'jobId':_0x3293c9,'blockId':_0x1d7ef2['id'],'startTime':_0x4cd3a5,'timestamp':Date[_0x5a59ce(0x974)](),'status':_0x5a59ce(0x3f4),'totalChunks':_0x1af049[_0x5a59ce(0x727)],'chunkSize':_0x1d7ef2[_0x5a59ce(0x40b)][_0x5a59ce(0x777)]}),await _0xd5c6ed(_0x3293c9,_0x1af049,_0x1d7ef2,_0x210087,_0x149529);}function _0x5c31f8(_0x18c1d0,_0x49cc5c,_0x54ebe8,_0x2b10a6){const _0x137df2=_0x2e7de5,_0x218042=[];let _0x134d3f=0x0;for(let _0x28b95e=0x0;_0x28b95e<_0x18c1d0['length'];_0x28b95e+=_0x49cc5c[_0x137df2(0x40b)][_0x137df2(0x777)]){let _0x152a1a=_0x28b95e-_0x49cc5c[_0x137df2(0x40b)][_0x137df2(0x634)];_0x152a1a<0x0&&(_0x152a1a=0x0);let _0x37c8b9=_0x28b95e+_0x49cc5c[_0x137df2(0x40b)][_0x137df2(0x777)]+_0x49cc5c['attributes']['overlap'];_0x37c8b9>_0x18c1d0[_0x137df2(0x727)]&&(_0x37c8b9=_0x18c1d0[_0x137df2(0x727)]);const _0x7a7037=_0x18c1d0[_0x137df2(0x76a)](_0x152a1a,_0x37c8b9);_0x218042[_0x137df2(0x67b)]({'content':_0x7a7037,'start':_0x54ebe8??_0x134d3f,'length':_0x2b10a6??_0x7a7037[_0x137df2(0x727)]}),_0x134d3f+=_0x7a7037[_0x137df2(0x727)];}return _0x218042;}async function _0x55bcdf(_0x4563bb,_0x194689,_0x2f7360,_0x46ea08,_0x23e79c){const _0x18f4a7=_0x2e7de5,_0x57ede5=Date[_0x18f4a7(0x974)]();let _0x449419;if(_0x194689[_0x18f4a7(0x9de)][_0x18f4a7(0x926)]['startsWith'](_0x18f4a7(0xa24))||(_0x41a714=_0x194689[_0x18f4a7(0x9de)][_0x18f4a7(0x243)],_0xb29462[_0x18f4a7(0xa49)]('.'+(_0x41a714[_0x18f4a7(0x367)]('.')[_0x18f4a7(0x762)]()?.[_0x18f4a7(0x36f)]()||''))))_0x449419=await _0x194689['file']['text']();else{if(!_0x23e79c['documentParserConnector']['supports'](_0x194689[_0x18f4a7(0x9de)]))throw new Error(_0x18f4a7(0x2a4)+_0x194689['file'][_0x18f4a7(0x926)]+'\x20-\x20'+_0x194689[_0x18f4a7(0x9de)][_0x18f4a7(0x243)]);_0x449419=await _0x23e79c['documentParserConnector'][_0x18f4a7(0xa82)](_0x194689[_0x18f4a7(0x9de)]);}var _0x41a714;_0x24872b[_0x18f4a7(0xa32)]({'jobType':_0x41b944[_0x18f4a7(0x349)],'type':_0x3c71ed[_0x18f4a7(0x87d)],'traceLevel':_0x55bac5['Debug'],'blockId':_0x2f7360['id'],'jobId':_0x4563bb,'startTime':_0x57ede5,'timestamp':Date['now'](),'status':_0x18f4a7(0x3f4),'documentType':_0x194689[_0x18f4a7(0x9de)][_0x18f4a7(0x926)],'documentName':_0x194689[_0x18f4a7(0x9de)][_0x18f4a7(0x243)],'extractionMethod':_0x18f4a7(0x873)}),await _0xd5c6ed(_0x4563bb,_0x449419,_0x2f7360,_0x46ea08,_0x23e79c);}const _0xb29462=[_0x2e7de5(0x667),_0x2e7de5(0x3f5),_0x2e7de5(0x899),_0x2e7de5(0x83d),_0x2e7de5(0x5e9),'.html','.css',_0x2e7de5(0x7af),_0x2e7de5(0x78a),_0x2e7de5(0x1b7),_0x2e7de5(0x59a),_0x2e7de5(0x4a4),_0x2e7de5(0x4e7),_0x2e7de5(0x790),_0x2e7de5(0x2f4),_0x2e7de5(0x18c),_0x2e7de5(0x2c4),_0x2e7de5(0x35c),'.php',_0x2e7de5(0x731),'.c','.cpp',_0x2e7de5(0x27e),'.r',_0x2e7de5(0x34b),_0x2e7de5(0x29f),_0x2e7de5(0x2d1),_0x2e7de5(0x512),_0x2e7de5(0x88e),_0x2e7de5(0x4b8),_0x2e7de5(0x3c1),_0x2e7de5(0x4c4),_0x2e7de5(0x606),_0x2e7de5(0x5d5),_0x2e7de5(0x9a0),_0x2e7de5(0x78b),_0x2e7de5(0x7c4),_0x2e7de5(0x262),_0x2e7de5(0x2ad),_0x2e7de5(0x9d0),_0x2e7de5(0x389),'.m','.vbs','.awk',_0x2e7de5(0x6f7),_0x2e7de5(0x564),_0x2e7de5(0x2c2),'.jsx',_0x2e7de5(0x3bb),_0x2e7de5(0xa43),_0x2e7de5(0x2c5),_0x2e7de5(0x6cd),'.jinja2',_0x2e7de5(0xa16),_0x2e7de5(0x252),_0x2e7de5(0xa03),_0x2e7de5(0x649),_0x2e7de5(0x507),_0x2e7de5(0x160),'.tpl',_0x2e7de5(0x200),'.j2',_0x2e7de5(0x20d)];async function _0x56d8c1(_0x3836a9,_0x2f2fe8,_0x2a58de,_0xdad740,_0x344f88){const _0x21cbe1=_0x2e7de5,_0x1883fb=Date[_0x21cbe1(0x974)](),_0x38cba0=new Set();let _0x3713e8=0x0;for(const _0x1fa8b5 of _0x2f2fe8)_0x3713e8+=_0x1fa8b5[_0x21cbe1(0x1da)][_0x21cbe1(0x727)],await _0x122500(_0x1fa8b5['content'],_0x38cba0,_0x2a58de,_0x344f88[_0x21cbe1(0x9e9)]);_0x24872b[_0x21cbe1(0xa32)]({'jobType':_0x41b944[_0x21cbe1(0x349)],'type':_0x3c71ed[_0x21cbe1(0x324)],'jobId':_0x3836a9,'blockId':_0x2a58de['id'],'traceLevel':_0x55bac5['Debug'],'startTime':_0x1883fb,'timestamp':Date[_0x21cbe1(0x974)](),'status':_0x21cbe1(0x3f4),'contentLength':_0x3713e8,'totalChunks':_0x2f2fe8 instanceof Array?_0x2f2fe8[_0x21cbe1(0x727)]:0x1,'entitiesExtracted':_0x38cba0,'totalEntities':_0x38cba0['size']}),await _0xd5c6ed(_0x3836a9,_0x38cba0,_0x2a58de,_0xdad740,_0x344f88);}async function _0x122500(_0x40c9da,_0x12de4a,_0x206c3c,_0xb33e64){const _0x1f42b6=_0x2e7de5,_0x4ce008=await _0xb33e64['getEntities'](_0x40c9da,{'ner':_0x206c3c[_0x1f42b6(0x40b)][_0x1f42b6(0x485)],'noun':_0x206c3c['attributes'][_0x1f42b6(0x45f)],'propn':_0x206c3c['attributes']['propn'],'verb':_0x206c3c[_0x1f42b6(0x40b)][_0x1f42b6(0x39b)]});for(const _0x2bbfc7 of _0x4ce008)_0x12de4a[_0x1f42b6(0x9eb)](_0x2bbfc7);}function _0x2ed28a(_0x35458d,_0x14f230,_0x147816,_0x534298,_0x45a48f){const _0x2cf28f=_0x2e7de5,_0x47a0e2=Date[_0x2cf28f(0x974)]();if(_0x147816[_0x2cf28f(0x3e7)]||(_0x147816[_0x2cf28f(0x3e7)]={}),_0x2cf28f(0x5ea)==typeof _0x14f230?_0x147816[_0x2cf28f(0x3e7)]['content']=_0x14f230:_0x14f230 instanceof Set?_0x147816[_0x2cf28f(0x3e7)][_0x2cf28f(0x30b)]=_0x14f230:_0x14f230 instanceof Map?_0x147816['accumulated'][_0x2cf28f(0x574)]=_0x14f230:_0x14f230 instanceof Array?_0x147816[_0x2cf28f(0x3e7)][_0x2cf28f(0xa08)]=_0x14f230:_0x147816['accumulated'][_0x2cf28f(0x9de)]=_0x14f230,_0x147816[_0x2cf28f(0x2d5)]=_0x147816[_0x2cf28f(0x2d5)]?_0x147816['timesCalled']+0x1:0x1,_0x4e6c03(_0x147816,_0x534298)>_0x147816[_0x2cf28f(0x2d5)])return;if(!(_0x147816[_0x2cf28f(0x3e7)]['entities']&&_0x147816[_0x2cf28f(0x3e7)][_0x2cf28f(0x9de)]&&_0x147816['accumulated'][_0x2cf28f(0x1da)]&&_0x147816[_0x2cf28f(0x3e7)][_0x2cf28f(0xa08)]))throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');let _0x542a30=0x0;const _0x5ed6c7=_0x45a48f[_0x2cf28f(0x22d)][_0x2cf28f(0x6fe)](_0x147816['id']);for(const _0x316447 of _0x147816[_0x2cf28f(0x3e7)][_0x2cf28f(0x30b)]){let _0x382893=[];_0x382893=_0x147816[_0x2cf28f(0x3e7)][_0x2cf28f(0xa08)][_0x2cf28f(0x8bd)](_0x3e851b=>_0x3e851b[_0x2cf28f(0x1da)][_0x2cf28f(0xa49)](_0x316447));try{_0x5ed6c7[_0x2cf28f(0x370)](_0x147816[_0x2cf28f(0x3e7)][_0x2cf28f(0x9de)][_0x2cf28f(0x9d5)],_0x147816[_0x2cf28f(0x3e7)][_0x2cf28f(0x1da)],_0x382893,_0x316447),_0x542a30+=0x1;}catch(_0x4dc981){}}if(_0x147816['accumulated'][_0x2cf28f(0x574)]){for(const [_0x1aefd6,_0x1cb85b]of _0x147816[_0x2cf28f(0x3e7)][_0x2cf28f(0x574)])for(const _0x3f68e5 of _0x1cb85b)try{_0x5ed6c7[_0x2cf28f(0x220)](_0x1aefd6,_0x3f68e5);}catch(_0x4b967c){}if(_0x5ed6c7[_0x2cf28f(0x171)]()){let _0x43c0ee=''+(_0x45a48f[_0x2cf28f(0x44b)]??0x1);for(const _0x1f8a14 of _0x534298)if(_0x1f8a14['type']===_0x28bd1b[_0x2cf28f(0x59d)]){_0x43c0ee=_0x43c0ee+'-'+(_0x1f8a14[_0x2cf28f(0x44b)]??0x1);break;}_0x5ed6c7[_0x2cf28f(0x3cc)](_0x43c0ee);}_0x24872b['trace']({'jobType':_0x41b944['Ingest'],'type':_0x3c71ed[_0x2cf28f(0x6ad)],'jobId':_0x35458d,'blockId':_0x147816['id'],'status':_0x2cf28f(0x3f4),'startTime':_0x47a0e2,'timestamp':Date[_0x2cf28f(0x974)](),'traceLevel':_0x55bac5[_0x2cf28f(0x43e)],'nodesAdded':_0x542a30,'entities':_0x147816[_0x2cf28f(0x3e7)]['entities'],'relations':_0x147816[_0x2cf28f(0x3e7)][_0x2cf28f(0x574)]});}}async function _0x1a025a(_0x482f26,_0x2a3610,_0x4fbc44,_0xf39e61,_0x49a938){const _0x321b42=_0x2e7de5,_0x131989=_0x49a938[_0x321b42(0x572)][_0x321b42(0x921)](_0x25759f=>_0x25759f['id']===_0x4fbc44['id']);if(!_0x131989)throw new Error(_0x321b42(0x874));switch(_0x131989['outputType']){case _0x564b37[_0x321b42(0x91b)][_0x321b42(0x1a2)]:if(_0x321b42(0x5ea)!=typeof _0x2a3610)throw new Error(_0x321b42(0x82d));await async function(_0x333eb8,_0x20885d,_0x35992a,_0x16530d,_0x59fcbe,_0x4dc221){const _0x1f0f19=_0x321b42,_0x462bdf=Date[_0x1f0f19(0x974)]();let _0x14e719;const _0x21943d=_0x4dc221[_0x1f0f19(0xa5e)][_0x1f0f19(0x921)](_0x26824f=>_0x26824f[_0x1f0f19(0x8db)]()===_0x35992a[_0x1f0f19(0x232)]);if(!_0x21943d)throw new Error('No\x20connector\x20found\x20for\x20model');_0x14e719=await async function(_0x3e25ae,_0x12cd2b,_0xaf79a6){const _0x584cca=_0x1f0f19,_0x2586f8=await _0x12cd2b[_0x584cca(0x94d)]({'type':_0x584cca(0x7c9),'prompt':_0x3e25ae,'threadId':''},{'model':_0xaf79a6});if(_0x2586f8[_0x584cca(0x1fb)]instanceof Array)throw new Error(_0x584cca(0x22e));return _0x2586f8[_0x584cca(0x1fb)];}(_0x20885d,_0x21943d,_0x35992a),_0x24872b['trace']({'jobType':_0x41b944['Ingest'],'type':_0x3c71ed['ModelText'],'jobId':_0x333eb8,'blockId':_0x16530d['id'],'traceLevel':_0x55bac5[_0x1f0f19(0x43e)],'timestamp':Date['now'](),'startTime':_0x462bdf,'status':'success','modelName':_0x35992a['id'],'inputType':_0x35992a['inputType'],'outputType':_0x35992a[_0x1f0f19(0x96a)],'content':_0x20885d,'results':_0x14e719}),await _0xd5c6ed(_0x333eb8,_0x14e719,_0x16530d,_0x59fcbe,_0x4dc221);}(_0x482f26,_0x2a3610,_0x131989,_0x4fbc44,_0xf39e61,_0x49a938);break;case _0x564b37[_0x321b42(0x91b)][_0x321b42(0x5f1)]:if(!(_0x2a3610 instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x25d4f2,_0x3e9ed8,_0x4e786e,_0x47ab6c,_0x46cdce,_0x828eeb){const _0x3518ea=_0x321b42,_0x1dfd2c=Date[_0x3518ea(0x974)](),_0x38a24d=[],_0x491107=_0x828eeb[_0x3518ea(0xa5e)][_0x3518ea(0x921)](_0x4753c5=>_0x4753c5[_0x3518ea(0x8db)]()===_0x4e786e[_0x3518ea(0x232)]);if(!_0x491107)throw new Error(_0x3518ea(0x43d));for(const _0x198bef of _0x3e9ed8)_0x38a24d['push'](await _0x2c5ebe(_0x198bef,_0x491107,_0x4e786e));_0x24872b[_0x3518ea(0xa32)]({'jobType':_0x41b944[_0x3518ea(0x349)],'type':_0x3c71ed[_0x3518ea(0x72e)],'jobId':_0x25d4f2,'blockId':_0x47ab6c['id'],'traceLevel':_0x55bac5[_0x3518ea(0x43e)],'timestamp':Date[_0x3518ea(0x974)](),'startTime':_0x1dfd2c,'status':'success','modelName':_0x4e786e['id'],'inputType':_0x4e786e[_0x3518ea(0x756)],'outputType':_0x4e786e[_0x3518ea(0x96a)],'totalVectors':_0x38a24d[_0x3518ea(0x727)]}),await _0xd5c6ed(_0x25d4f2,_0x38a24d,_0x47ab6c,_0x46cdce,_0x828eeb);}(_0x482f26,_0x2a3610,_0x131989,_0x4fbc44,_0xf39e61,_0x49a938);}}async function _0x2c5ebe(_0x3af522,_0x5e5010,_0x2c9bae){const _0x43e64c=_0x2e7de5;return(await _0x5e5010[_0x43e64c(0x94d)]({'type':'prompt','prompt':_0x3af522[_0x43e64c(0x1da)],'threadId':''},{'model':_0x2c9bae}))[_0x43e64c(0x1fb)];}async function _0x3571be(_0x482fc0,_0x4f7f01,_0xa32208,_0x67e9f2,_0x1c9d4b){const _0x19c7ca=_0x2e7de5,_0x4e17a6=Date[_0x19c7ca(0x974)]();if(_0xa32208[_0x19c7ca(0x3e7)]||(_0xa32208[_0x19c7ca(0x3e7)]={}),_0x4f7f01 instanceof Array?_0xa32208[_0x19c7ca(0x3e7)][_0x19c7ca(0xa08)]=_0x4f7f01:_0xa32208[_0x19c7ca(0x3e7)][_0x19c7ca(0x30b)]=_0x4f7f01,_0xa32208['timesCalled']=_0xa32208['timesCalled']?_0xa32208[_0x19c7ca(0x2d5)]+0x1:0x1,_0x4e6c03(_0xa32208,_0x67e9f2)>_0xa32208[_0x19c7ca(0x2d5)])return;if(!_0xa32208[_0x19c7ca(0x3e7)][_0x19c7ca(0xa08)]||!_0xa32208[_0x19c7ca(0x3e7)]['entities'])throw new Error(_0x19c7ca(0x424));const _0xdf9e7c=new Map();for(const _0x2f0aa8 of _0xa32208[_0x19c7ca(0x3e7)][_0x19c7ca(0xa08)])_0x5d9d33(_0x2f0aa8[_0x19c7ca(0x1da)],_0xa32208[_0x19c7ca(0x3e7)][_0x19c7ca(0x30b)],_0xdf9e7c);_0x24872b['trace']({'jobType':_0x41b944['Ingest'],'type':_0x3c71ed[_0x19c7ca(0x2e4)],'jobId':_0x482fc0,'blockId':_0xa32208['id'],'traceLevel':_0x55bac5[_0x19c7ca(0x43e)],'timestamp':Date[_0x19c7ca(0x974)](),'startTime':_0x4e17a6,'status':'success','entities':_0xa32208[_0x19c7ca(0x3e7)]['entities'],'relations':_0xdf9e7c,'totalRelationsExtracted':_0xdf9e7c[_0x19c7ca(0x777)]}),await _0xd5c6ed(_0x482fc0,_0xdf9e7c,_0xa32208,_0x67e9f2,_0x1c9d4b);}function _0x5d9d33(_0x355b0d,_0x3009e2,_0x47032c){const _0x15b929=_0x2e7de5;for(const _0x2a2a24 of _0x3009e2)for(const _0x55a95c of _0x3009e2){if(_0x2a2a24===_0x55a95c)continue;const _0x3cdc8f=_0x355b0d[_0x15b929(0x801)](_0x2a2a24),_0x183a83=_0x355b0d[_0x15b929(0x801)](_0x55a95c);-0x1!==_0x3cdc8f&&-0x1!==_0x183a83&&(_0x47032c[_0x15b929(0x1a4)](_0x2a2a24)||_0x47032c['set'](_0x2a2a24,new Set()),_0x47032c['get'](_0x2a2a24)['add'](_0x55a95c));}return _0x47032c;}async function _0x58ba3d(_0x43c198,_0x22c10c,_0x379f47,_0x599b25,_0x534bb3){const _0x24de66=_0x2e7de5,_0x267572=Date[_0x24de66(0x974)]();let _0x1b1a67=[];if(_0x22c10c instanceof Array)for(const _0x5cc6b7 of _0x22c10c){const _0x5c2c6d=await _0x534bb3[_0x24de66(0x9e9)][_0x24de66(0x95a)](_0x5cc6b7[_0x24de66(0x1da)]);_0x1b1a67=_0x1b1a67[_0x24de66(0x4f3)](_0x5c2c6d[_0x24de66(0x28b)](_0x42eb47=>({'content':_0x42eb47,'start':_0x5cc6b7[_0x24de66(0x640)],'length':_0x5cc6b7[_0x24de66(0x727)]})));}else _0x1b1a67=(await _0x534bb3[_0x24de66(0x9e9)][_0x24de66(0x95a)](_0x22c10c))[_0x24de66(0x28b)](_0x206909=>({'content':_0x206909,'start':_0x22c10c['indexOf'](_0x206909),'length':_0x206909[_0x24de66(0x727)]}));_0x24872b['trace']({'jobType':_0x41b944[_0x24de66(0x349)],'type':_0x3c71ed[_0x24de66(0x5e0)],'jobId':_0x43c198,'blockId':_0x379f47['id'],'traceLevel':_0x55bac5['Debug'],'startTime':_0x267572,'timestamp':Date[_0x24de66(0x974)](),'status':_0x24de66(0x3f4),'totalSentences':_0x1b1a67[_0x24de66(0x727)],'averageSentenceLength':_0x1b1a67[_0x24de66(0x2c7)]((_0x58a1a1,_0x132755)=>_0x58a1a1+_0x132755[_0x24de66(0x727)],0x0)/_0x1b1a67[_0x24de66(0x727)]}),await _0xd5c6ed(_0x43c198,_0x1b1a67,_0x379f47,_0x599b25,_0x534bb3);}function _0x3d9210(_0x5f49be,_0x4491df,_0x21ff7a,_0x111239,_0x4c34b4){const _0x145481=_0x2e7de5,_0x416321=Date[_0x145481(0x974)]();var _0x58ff68;if(_0x21ff7a[_0x145481(0x3e7)]||(_0x21ff7a[_0x145481(0x3e7)]={}),_0x4491df instanceof Array?(_0x58ff68=_0x4491df)[0x0]instanceof Array&&'number'==typeof _0x58ff68[0x0]?.[0x0]?_0x21ff7a[_0x145481(0x3e7)][_0x145481(0x34a)]=_0x4491df:_0x21ff7a['accumulated'][_0x145481(0xa08)]=_0x4491df:_0x145481(0x5ea)==typeof _0x4491df?_0x21ff7a['accumulated'][_0x145481(0x1da)]=_0x4491df:_0x21ff7a['accumulated'][_0x145481(0x9de)]=_0x4491df,_0x21ff7a[_0x145481(0x2d5)]=_0x21ff7a['timesCalled']?_0x21ff7a[_0x145481(0x2d5)]+0x1:0x1,_0x4e6c03(_0x21ff7a,_0x111239)>_0x21ff7a['timesCalled'])return;if(!(_0x21ff7a['accumulated'][_0x145481(0x1da)]&&_0x21ff7a['accumulated']['index']&&_0x21ff7a[_0x145481(0x3e7)][_0x145481(0x34a)]&&_0x21ff7a[_0x145481(0x3e7)][_0x145481(0x9de)]))throw new Error(_0x145481(0x449));const _0x57d0ba=_0x4c34b4[_0x145481(0x22d)]['getVectorDatabase'](_0x21ff7a['id']);if(_0x57d0ba[_0x145481(0x604)](_0x21ff7a['accumulated']['file'][_0x145481(0x9d5)],_0x21ff7a[_0x145481(0x3e7)][_0x145481(0x1da)],_0x21ff7a[_0x145481(0x3e7)][_0x145481(0xa08)],_0x21ff7a[_0x145481(0x3e7)][_0x145481(0x34a)]),_0x57d0ba[_0x145481(0x171)]()){let _0x4d88d1=''+(_0x4c34b4[_0x145481(0x44b)]??0x1);for(const _0x5d0772 of _0x111239)_0x5d0772[_0x145481(0x926)]===_0x28bd1b[_0x145481(0x59d)]&&(_0x4d88d1=_0x4d88d1+'-'+(_0x5d0772[_0x145481(0x44b)]??0x1));_0x57d0ba[_0x145481(0x3cc)](_0x4d88d1);}_0x24872b[_0x145481(0xa32)]({'jobType':_0x41b944[_0x145481(0x349)],'type':_0x3c71ed[_0x145481(0x721)],'jobId':_0x5f49be,'blockId':_0x21ff7a['id'],'traceLevel':_0x55bac5[_0x145481(0x43e)],'startTime':_0x416321,'timestamp':Date[_0x145481(0x974)](),'status':_0x145481(0x3f4),'databaseName':_0x57d0ba['getName'](),'vectorsAdded':_0x21ff7a['accumulated'][_0x145481(0x34a)][_0x145481(0x727)],'filePathName':_0x21ff7a[_0x145481(0x3e7)][_0x145481(0x9de)]['pathName']});}async function _0x2ceed5(_0x2b28d4,_0x286fb0,_0x403ef6,_0x26f6e3,_0x10ddaf){const _0x1287c3=_0x2e7de5,_0x165c95=Date[_0x1287c3(0x974)]();let _0x2a3a51=[];if(_0x286fb0 instanceof Array){for(const _0x3b156a of _0x286fb0)_0x2a3a51=_0x2a3a51['concat'](_0x126142(_0x3b156a['content'],_0x403ef6,_0x3b156a[_0x1287c3(0x640)],_0x3b156a[_0x1287c3(0x727)]));}else _0x2a3a51=_0x126142(_0x286fb0,_0x403ef6);_0x24872b['trace']({'jobType':_0x41b944['Ingest'],'type':_0x3c71ed[_0x1287c3(0x82f)],'jobId':_0x2b28d4,'traceLevel':_0x55bac5[_0x1287c3(0x43e)],'blockId':_0x403ef6['id'],'startTime':_0x165c95,'timestamp':Date[_0x1287c3(0x974)](),'status':_0x1287c3(0x3f4),'totalChunks':_0x2a3a51[_0x1287c3(0x727)],'averageChunkLength':_0x2a3a51['reduce']((_0x10ef2f,_0x3ffecf)=>_0x10ef2f+_0x3ffecf[_0x1287c3(0x727)],0x0)/_0x2a3a51[_0x1287c3(0x727)]}),await _0xd5c6ed(_0x2b28d4,_0x2a3a51,_0x403ef6,_0x26f6e3,_0x10ddaf);}function _0x126142(_0xa44fbd,_0x39acce,_0x1f7a44,_0x4dfd5b){const _0x18ab2a=_0x2e7de5,_0x19b6a4=[],_0x2053db=_0xa44fbd[_0x18ab2a(0x367)]('\x20');let _0x1d23a8='',_0x25efec=-0x1,_0x334dba=0x0,_0x410585=0x0;for(const _0x5ea83f of _0x2053db){if(_0x1d23a8[_0x18ab2a(0x727)]+_0x5ea83f[_0x18ab2a(0x727)]>_0x39acce['attributes']['size']){const _0x4946a2=_0x1d23a8['length'];let _0x52078a=_0x25efec,_0x3380dc='';for(;_0x52078a>=0x0&&_0x3380dc[_0x18ab2a(0x727)]+_0x2053db[_0x52078a][_0x18ab2a(0x727)]<_0x39acce['attributes'][_0x18ab2a(0x634)];)_0x3380dc=_0x2053db[_0x52078a]+'\x20'+_0x3380dc,_0x52078a--;let _0x467afb=_0x334dba,_0x85aa9='';for(;_0x467afb<_0x2053db[_0x18ab2a(0x727)]&&_0x85aa9['length']+_0x2053db[_0x467afb][_0x18ab2a(0x727)]<_0x39acce[_0x18ab2a(0x40b)][_0x18ab2a(0x634)];)_0x85aa9+=_0x2053db[_0x467afb]+'\x20',_0x467afb++;_0x1d23a8=_0x3380dc+_0x1d23a8+_0x85aa9,_0x19b6a4[_0x18ab2a(0x67b)]({'content':_0x1d23a8[_0x18ab2a(0x77a)](),'start':_0x1f7a44??_0x410585,'length':_0x4dfd5b??_0x1d23a8[_0x18ab2a(0x727)]}),_0x1d23a8='',_0x25efec=_0x334dba-0x1,_0x410585+=_0x4946a2;}_0x1d23a8+=_0x5ea83f+'\x20',_0x334dba++;}if(_0x1d23a8[_0x18ab2a(0x727)]>0x0){const _0x1e02e4=_0x1d23a8[_0x18ab2a(0x727)];let _0x4e88cd=_0x25efec,_0x2ca37f='';for(;_0x4e88cd>=0x0&&_0x2ca37f[_0x18ab2a(0x727)]+_0x2053db[_0x4e88cd][_0x18ab2a(0x727)]<_0x39acce['attributes']['overlap'];)_0x2ca37f=_0x2053db[_0x4e88cd]+'\x20'+_0x2ca37f,_0x4e88cd--;_0x1d23a8=_0x2ca37f+_0x1d23a8,_0x19b6a4[_0x18ab2a(0x67b)]({'content':_0x1d23a8['trim'](),'start':_0x1f7a44??_0x410585,'length':_0x4dfd5b??_0x1e02e4});}return _0x19b6a4;}async function _0xd5c6ed(_0x5d3df2,_0x12886f,_0x11224a,_0x1427cb,_0x517b5e){const _0x57b325=_0x2e7de5;for(const _0x3df2d5 of _0x11224a[_0x57b325(0x9d9)]||[]){const _0x25f4e6=_0x1427cb['find'](_0x18d758=>_0x18d758['uid']===_0x3df2d5[_0x57b325(0x4db)]);if(_0x25f4e6)switch(_0x25f4e6[_0x57b325(0x926)]){case _0x28bd1b[_0x57b325(0x59d)]:_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x1a2)]&&_0x57b325(0x5ea)==typeof _0x12886f&&await _0x241749(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e);break;case _0x28bd1b[_0x57b325(0x7e5)]:_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x1a2)]&&_0x57b325(0x5ea)==typeof _0x12886f&&await _0x3c9d18(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x965)]&&_0x12886f instanceof Array&&await _0x3c9d18(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e);break;case _0x28bd1b[_0x57b325(0x87d)]:_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x3c9)]&&await _0x55bcdf(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e);break;case _0x28bd1b[_0x57b325(0x324)]:_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x965)]&&_0x12886f instanceof Array&&await _0x56d8c1(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e);break;case _0x28bd1b[_0x57b325(0x6ad)]:_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x1a2)]&&_0x57b325(0x5ea)==typeof _0x12886f&&_0x2ed28a(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5['type']===_0x23f2a5[_0x57b325(0x965)]&&_0x12886f instanceof Array&&_0x2ed28a(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x3c8)]&&_0x12886f instanceof Set&&_0x2ed28a(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x80e)]&&_0x12886f instanceof Map&&_0x2ed28a(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5['type']===_0x23f2a5[_0x57b325(0x3c9)]&&_0x2ed28a(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e);break;case _0x28bd1b[_0x57b325(0x793)]:_0x3df2d5['type']===_0x23f2a5[_0x57b325(0x1a2)]&&_0x57b325(0x5ea)==typeof _0x12886f&&await _0x1a025a(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5['type']===_0x23f2a5[_0x57b325(0x965)]&&_0x12886f instanceof Array&&await _0x1a025a(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e);break;case _0x28bd1b['RelationExtractor']:_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x965)]&&_0x12886f instanceof Array&&await _0x3571be(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x3c8)]&&_0x12886f instanceof Set&&await _0x3571be(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e);break;case _0x28bd1b[_0x57b325(0x5e0)]:_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x1a2)]&&_0x57b325(0x5ea)==typeof _0x12886f&&await _0x58ba3d(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x965)]&&_0x12886f instanceof Array&&await _0x58ba3d(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e);break;case _0x28bd1b[_0x57b325(0x721)]:_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x1a2)]&&_0x57b325(0x5ea)==typeof _0x12886f&&_0x3d9210(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x965)]&&_0x12886f instanceof Array&&_0x3d9210(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x5f1)]&&_0x12886f instanceof Array&&_0x3d9210(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5['type']===_0x23f2a5['File']&&_0x3d9210(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e);break;case _0x28bd1b['WordSplitter']:_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5[_0x57b325(0x1a2)]&&_0x57b325(0x5ea)==typeof _0x12886f&&await _0x2ceed5(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e),_0x3df2d5[_0x57b325(0x926)]===_0x23f2a5['Index']&&_0x12886f instanceof Array&&await _0x2ceed5(_0x5d3df2,_0x12886f,_0x25f4e6,_0x1427cb,_0x517b5e);}}}function _0x4e6c03(_0x6c823a,_0x40ce9e){const _0x543dc1=_0x2e7de5;return _0x40ce9e['filter'](_0x1c0271=>_0x1c0271[_0x543dc1(0x9d9)]?.[_0x543dc1(0x363)](_0x9cb98d=>_0x9cb98d[_0x543dc1(0x4db)]===_0x6c823a['uid']))[_0x543dc1(0x727)];}async function _0x59c3dd(_0x22e1ed,_0x5b2233,_0x4ef672,_0x4cea1b,_0x3b5e3b){const _0x2caba=_0x2e7de5;try{let _0x1c8629;switch(_0x4ef672[_0x2caba(0x926)]){case _0x28bd1b[_0x2caba(0x77c)]:const _0x27dadb=_0x3b5e3b['contentMediator']['getObjectStoreBucket'](_0x4ef672['id']);_0x1c8629=await _0x27dadb[_0x2caba(0x6ba)](_0x5b2233);break;case _0x28bd1b['ExternalStorageUpload']:const _0x577c66=_0x3b5e3b[_0x2caba(0x22d)][_0x2caba(0x9ce)](_0x4ef672['id']);_0x1c8629=await _0x577c66[_0x2caba(0x6ba)](_0x5b2233);}if(!_0x1c8629)throw new Error(_0x2caba(0x4eb));await _0xd5c6ed(_0x22e1ed,{'file':_0x1c8629,'pathName':_0x5b2233},_0x4ef672,structuredClone(_0x4cea1b),_0x3b5e3b);}catch(_0xb8081b){console['error']('Error\x20processing\x20ingest',_0xb8081b);}}const _0x2ea20e=require('rxjs/operators');class _0x3257c1{[_0x2e7de5(0x348)];constructor(){const _0x350483=_0x2e7de5;this[_0x350483(0x348)]=new _0xc21139['Subject']();}[_0x2e7de5(0x47a)](_0x108701){const _0x54cad7=_0x2e7de5;this[_0x54cad7(0x348)]['next'](_0x108701);}async[_0x2e7de5(0x982)](){const _0xdb1bc9=_0x2e7de5;return(0x0,_0xc21139[_0xdb1bc9(0x648)])(this['subject'][_0xdb1bc9(0x6b3)]((0x0,_0x2ea20e['take'])(0x1)));}}async function _0x338de2(_0x2279b4,_0x27ffe6,_0x5f0a88,_0x44b548,_0x42f946,_0x1871ea,_0xc9b43e){const _0x37705c=_0x2e7de5,_0x3d24d1=Date[_0x37705c(0x974)](),_0x58cc4d=new Set();if(_0x5f0a88 instanceof Array){for(const _0x4cfeac of _0x5f0a88)await _0x17964d(_0x4cfeac[_0x37705c(0x1da)],_0x42f946,_0x58cc4d,_0xc9b43e[_0x37705c(0x9e9)]);}else await _0x17964d(_0x5f0a88,_0x42f946,_0x58cc4d,_0xc9b43e[_0x37705c(0x9e9)]);_0x24872b['trace']({'jobType':_0x41b944['Retrieve'],'type':_0x1252ca[_0x37705c(0x324)],'jobId':_0x2279b4,'threadId':_0x27ffe6,'blockId':_0x42f946['id'],'traceLevel':_0x55bac5[_0x37705c(0x43e)],'startTime':_0x3d24d1,'timestamp':Date[_0x37705c(0x974)](),'status':_0x37705c(0x3f4),'content':_0x5f0a88,'entitiesExtracted':Array[_0x37705c(0xa4b)](_0x58cc4d),'totalEntities':_0x58cc4d[_0x37705c(0x777)]}),await _0xeaa0cc(_0x2279b4,_0x27ffe6,_0x58cc4d,_0x44b548,_0x42f946,_0x1871ea,_0xc9b43e);}async function _0x17964d(_0x5a4b81,_0x5deeb2,_0x14a99d,_0x292050){const _0x40bd58=_0x2e7de5,_0x41d9fa=await _0x292050[_0x40bd58(0x621)](_0x5a4b81,{'ner':_0x5deeb2[_0x40bd58(0x40b)]['ner'],'noun':_0x5deeb2[_0x40bd58(0x40b)]['noun'],'propn':_0x5deeb2[_0x40bd58(0x40b)]['propn'],'verb':_0x5deeb2['attributes'][_0x40bd58(0x39b)]});for(const _0x28e3b5 of _0x41d9fa)_0x14a99d['add'](_0x28e3b5);}async function _0x2d277b(_0x1f008f,_0xe0adb2,_0x46ff1d,_0x68451b,_0x128453,_0x5bb795,_0x203d24){const _0x1c777a=_0x2e7de5,_0x523569=Date['now']();if(_0x128453['accumulated']||(_0x128453['accumulated']={}),_0x46ff1d instanceof Array?(_0x128453['accumulated'][_0x1c777a(0x7a4)]||(_0x128453['accumulated'][_0x1c777a(0x7a4)]=[]),_0x128453['accumulated'][_0x1c777a(0x7a4)][_0x1c777a(0x67b)](..._0x46ff1d)):_0x46ff1d instanceof Set?_0x128453[_0x1c777a(0x3e7)][_0x1c777a(0x30b)]=_0x46ff1d:_0x128453[_0x1c777a(0x3e7)][_0x1c777a(0x7c9)]=_0x46ff1d,_0x128453[_0x1c777a(0x2d5)]=_0x128453['timesCalled']?_0x128453[_0x1c777a(0x2d5)]+0x1:0x1,_0x54599e(_0x128453,_0x5bb795)>_0x128453[_0x1c777a(0x2d5)])return;if(!_0x128453[_0x1c777a(0x3e7)]['prompt']&&!_0x128453[_0x1c777a(0x3e7)][_0x1c777a(0x7a4)]||!_0x128453['accumulated'][_0x1c777a(0x30b)])throw new Error(_0x1c777a(0x89d));const _0x4795ee=_0x203d24[_0x1c777a(0x22d)][_0x1c777a(0x6fe)](_0x128453['id'])[_0x1c777a(0x170)](Array[_0x1c777a(0xa4b)](_0x128453['accumulated'][_0x1c777a(0x30b)]),_0x128453[_0x1c777a(0x40b)][_0x1c777a(0x454)],_0x128453['attributes'][_0x1c777a(0x56d)]);let _0x4773b7=[];for(const _0x2ccdd0 in _0x4795ee){const _0x911e3e=_0x4795ee[_0x2ccdd0];for(const _0x1531fe of _0x911e3e){let _0x16ff1a=0x0;if(_0x128453[_0x1c777a(0x3e7)][_0x1c777a(0x7c9)]&&(_0x16ff1a=await _0x203d24[_0x1c777a(0x9e9)][_0x1c777a(0x58d)](_0x128453[_0x1c777a(0x3e7)]['prompt'],_0x1531fe)),_0x128453['accumulated'][_0x1c777a(0x7a4)]){for(const _0x27ae76 of _0x128453[_0x1c777a(0x3e7)]['results'])_0x16ff1a=Math[_0x1c777a(0x6a9)](_0x16ff1a,await _0x203d24[_0x1c777a(0x9e9)][_0x1c777a(0x58d)](_0x27ae76[_0x1c777a(0x1da)],_0x1531fe));}_0x16ff1a<_0x128453['attributes']['minRelevance']||_0x4773b7[_0x1c777a(0x67b)]({'content':_0x1531fe,'relevance':_0x16ff1a,'pathName':_0x2ccdd0});}}_0x4773b7=_0x4773b7[_0x1c777a(0x1c1)]((_0x13017b,_0x21af43)=>_0x21af43[_0x1c777a(0x936)]-_0x13017b[_0x1c777a(0x936)])['slice'](0x0,_0x128453[_0x1c777a(0x40b)]['topK']),_0x24872b[_0x1c777a(0xa32)]({'jobType':_0x41b944[_0x1c777a(0x610)],'type':_0x1252ca[_0x1c777a(0x166)],'jobId':_0x1f008f,'threadId':_0xe0adb2,'blockId':_0x128453['id'],'traceLevel':_0x55bac5[_0x1c777a(0x43e)],'timestamp':Date['now'](),'startTime':_0x523569,'status':'success','content':_0x46ff1d,'topResults':_0x4773b7,'numResults':_0x4773b7[_0x1c777a(0x727)]}),await _0xeaa0cc(_0x1f008f,_0xe0adb2,_0x4773b7,_0x68451b,_0x128453,_0x5bb795,_0x203d24);}async function _0x453064(_0x592501,_0x52c8a0,_0x42d4fa,_0x211094,_0x40acfa,_0xae8a4a,_0x7e51fe){const _0x295e34=_0x2e7de5,_0x5e8d03=_0x7e51fe[_0x295e34(0x572)][_0x295e34(0x921)](_0x578c7c=>_0x578c7c['id']===_0x40acfa['id']);if(!_0x5e8d03)throw new Error('Model\x20not\x20found');let _0xeb2bfb='';switch(_0xeb2bfb=_0x42d4fa instanceof Array?_0x42d4fa[_0x295e34(0x28b)](_0x24cb2c=>_0x24cb2c[_0x295e34(0x1da)])[_0x295e34(0x396)](',\x20'):_0x42d4fa,_0x5e8d03[_0x295e34(0x96a)]){case _0x564b37[_0x295e34(0x91b)][_0x295e34(0x1a2)]:await async function(_0x6201d7,_0x319f97,_0x239628,_0xef389c,_0x4e4d09,_0xd8b774,_0x1f73f2,_0x2e79e9){const _0x20de70=_0x295e34,_0x3f2c88=Date[_0x20de70(0x974)](),_0x206888=_0x2e79e9[_0x20de70(0xa5e)][_0x20de70(0x921)](_0x4951f=>_0x4951f[_0x20de70(0x8db)]()===_0x4e4d09[_0x20de70(0x232)]);if(!_0x206888)throw new Error(_0x20de70(0x43d));const _0x1b7218=await async function(_0x4f4f78,_0x314eda,_0xca53b9,_0xf1d31a,_0x1eac18){const _0x16a0ee=_0x20de70,_0x5f08d7={'type':_0x16a0ee(0x7c9),'prompt':_0x314eda,'threadId':_0x4f4f78};_0xca53b9[_0x16a0ee(0x35a)][_0x16a0ee(0x727)]>0x0&&(_0x5f08d7[_0x16a0ee(0x1c9)]=_0x16a0ee(0x225)+_0xca53b9[_0x16a0ee(0x35a)][_0x16a0ee(0x28b)](_0x30daf4=>'From\x20'+_0x30daf4[_0x16a0ee(0x9d5)]+':\x20'+_0x30daf4[_0x16a0ee(0x1da)])[_0x16a0ee(0x396)]('\x0a'));const _0x3de457=await _0xf1d31a[_0x16a0ee(0x94d)](_0x5f08d7,{'model':_0x1eac18});if(_0x3de457[_0x16a0ee(0x1fb)]instanceof Array)throw new Error(_0x16a0ee(0x646));return _0xca53b9['inputTokens']+=_0x3de457[_0x16a0ee(0x8a8)]??0x0,_0xca53b9['outputTokens']+=_0x3de457[_0x16a0ee(0x2eb)]??0x0,_0x3de457['output'];}(_0x319f97,_0x239628,_0xef389c,_0x206888,_0x4e4d09);_0x24872b[_0x20de70(0xa32)]({'jobType':_0x41b944[_0x20de70(0x610)],'type':_0x1252ca[_0x20de70(0x6f2)],'jobId':_0x6201d7,'threadId':_0x319f97,'blockId':_0xd8b774['id'],'traceLevel':_0x55bac5[_0x20de70(0x43e)],'startTime':_0x3f2c88,'timestamp':Date[_0x20de70(0x974)](),'status':'success','modelName':_0x4e4d09['id'],'content':_0x239628,'newPrompt':_0x1b7218,'inputType':_0x4e4d09['inputType'],'outputType':_0x4e4d09[_0x20de70(0x96a)]}),await _0xeaa0cc(_0x6201d7,_0x319f97,_0x1b7218,_0xef389c,_0xd8b774,_0x1f73f2,_0x2e79e9);}(_0x592501,_0x52c8a0,_0xeb2bfb,_0x211094,_0x5e8d03,_0x40acfa,_0xae8a4a,_0x7e51fe);break;case _0x564b37[_0x295e34(0x91b)][_0x295e34(0x5f1)]:await async function(_0x348a3b,_0x521c8a,_0x4bcc85,_0x1546ba,_0x29e8a2,_0x308a64,_0x119d07,_0x10749a){const _0x2e274d=_0x295e34,_0x37b7d3=Date[_0x2e274d(0x974)](),_0x412eec=_0x10749a[_0x2e274d(0xa5e)][_0x2e274d(0x921)](_0x1b7c09=>_0x1b7c09[_0x2e274d(0x8db)]()===_0x29e8a2[_0x2e274d(0x232)]);if(!_0x412eec)throw new Error(_0x2e274d(0x43d));const _0x4e490c=await async function(_0x7f74f1,_0x36340c,_0x45436a,_0x5dc4c0){const _0x19af13=_0x2e274d;return(await _0x45436a[_0x19af13(0x94d)]({'type':_0x19af13(0x7c9),'prompt':_0x36340c,'threadId':_0x7f74f1},{'model':_0x5dc4c0}))['output'];}(_0x521c8a,_0x4bcc85,_0x412eec,_0x29e8a2);_0x24872b['trace']({'jobType':_0x41b944['Retrieve'],'type':_0x1252ca[_0x2e274d(0x72e)],'jobId':_0x348a3b,'threadId':_0x521c8a,'blockId':_0x308a64['id'],'traceLevel':_0x55bac5[_0x2e274d(0x43e)],'startTime':_0x37b7d3,'timestamp':Date[_0x2e274d(0x974)](),'status':_0x2e274d(0x3f4),'modelName':_0x29e8a2['id'],'content':_0x4bcc85,'totalVectors':_0x4e490c[_0x2e274d(0x727)]}),await _0xeaa0cc(_0x348a3b,_0x521c8a,_0x4e490c,_0x1546ba,_0x308a64,_0x119d07,_0x10749a);}(_0x592501,_0x52c8a0,_0xeb2bfb,_0x211094,_0x5e8d03,_0x40acfa,_0xae8a4a,_0x7e51fe);}}async function _0x294589(_0x4864d6,_0x3d8ea3,_0x135290,_0x2f4ad3,_0x5ef353,_0x4ed57f,_0x15fb10){const _0x273000=_0x2e7de5,_0x51e9dc=Date[_0x273000(0x974)](),_0x45bd97=_0x15fb10[_0x273000(0x22d)][_0x273000(0x4f5)](_0x5ef353['id'])[_0x273000(0x8c8)](_0x135290,_0x5ef353[_0x273000(0x40b)][_0x273000(0x556)],_0x5ef353[_0x273000(0x40b)][_0x273000(0x266)],_0x5ef353['attributes']['contentSize']);_0x24872b['trace']({'jobType':_0x41b944[_0x273000(0x610)],'type':_0x1252ca[_0x273000(0x9a2)],'jobId':_0x4864d6,'threadId':_0x3d8ea3,'blockId':_0x5ef353['id'],'traceLevel':_0x55bac5[_0x273000(0x43e)],'startTime':_0x51e9dc,'timestamp':Date['now'](),'status':_0x273000(0x3f4),'topResults':_0x45bd97,'numResults':_0x45bd97[_0x273000(0x727)]}),await _0xeaa0cc(_0x4864d6,_0x3d8ea3,_0x45bd97,_0x2f4ad3,_0x5ef353,_0x4ed57f,_0x15fb10);}async function _0xff79c6(_0x47ee55,_0x55a931,_0x55aa9a,_0x2e7fde,_0xce8e4a,_0x146640,_0xbbc043){const _0x3b546a=_0x2e7de5,_0x278c32=Date[_0x3b546a(0x974)]();if(_0xce8e4a[_0x3b546a(0x3e7)]||(_0xce8e4a['accumulated']={}),_0x55aa9a instanceof Array?(_0xce8e4a[_0x3b546a(0x3e7)][_0x3b546a(0x7a4)]||(_0xce8e4a[_0x3b546a(0x3e7)][_0x3b546a(0x7a4)]=[]),_0xce8e4a[_0x3b546a(0x3e7)][_0x3b546a(0x7a4)][_0x3b546a(0x67b)](..._0x55aa9a)):_0xce8e4a[_0x3b546a(0x3e7)][_0x3b546a(0x7c9)]=_0x55aa9a,_0xce8e4a[_0x3b546a(0x2d5)]=_0xce8e4a['timesCalled']?_0xce8e4a[_0x3b546a(0x2d5)]+0x1:0x1,_0x54599e(_0xce8e4a,_0x146640)>_0xce8e4a[_0x3b546a(0x2d5)])return;if(!_0xce8e4a[_0x3b546a(0x3e7)][_0x3b546a(0x7c9)]||!_0xce8e4a[_0x3b546a(0x3e7)][_0x3b546a(0x7a4)])throw new Error(_0x3b546a(0x78e));for(const _0x35f9bb of _0xce8e4a[_0x3b546a(0x3e7)]['results'])_0x35f9bb[_0x3b546a(0x936)]=await _0xbbc043[_0x3b546a(0x9e9)]['getSimilarity'](_0xce8e4a['accumulated'][_0x3b546a(0x7c9)],_0x35f9bb[_0x3b546a(0x1da)]);const _0x9e95ca=_0xce8e4a['accumulated'][_0x3b546a(0x7a4)]['filter'](_0x3a7dbe=>_0x3a7dbe[_0x3b546a(0x936)]>_0xce8e4a[_0x3b546a(0x40b)][_0x3b546a(0x266)])[_0x3b546a(0x1c1)]((_0xddbb30,_0x526d91)=>_0x526d91['relevance']-_0xddbb30['relevance'])['slice'](0x0,_0xce8e4a[_0x3b546a(0x40b)][_0x3b546a(0x556)]);_0x24872b[_0x3b546a(0xa32)]({'jobType':_0x41b944['Retrieve'],'type':_0x1252ca[_0x3b546a(0x176)],'jobId':_0x47ee55,'threadId':_0x55a931,'blockId':_0xce8e4a['id'],'traceLevel':_0x55bac5['Debug'],'startTime':_0x278c32,'timestamp':Date[_0x3b546a(0x974)](),'status':'success','inputResults':_0xce8e4a[_0x3b546a(0x3e7)][_0x3b546a(0x7a4)],'rerankedResults':_0x9e95ca}),await _0xeaa0cc(_0x47ee55,_0x55a931,_0x9e95ca,_0x2e7fde,_0xce8e4a,_0x146640,_0xbbc043);}async function _0xeaa0cc(_0x1de1cb,_0x25909b,_0x19ffed,_0xe29669,_0xf7c8f3,_0x3f8b65,_0x44633f){const _0x2f51fa=_0x2e7de5;for(const _0x3df482 of _0xf7c8f3[_0x2f51fa(0x9d9)]||[]){const _0x3c2941=_0x3f8b65['find'](_0x182c1b=>_0x182c1b[_0x2f51fa(0x4db)]===_0x3df482['uid']);if(_0x3c2941)switch(_0x3c2941[_0x2f51fa(0x926)]){case _0x28bd1b[_0x2f51fa(0x38a)]:_0xe29669['context'][_0x2f51fa(0x67b)](..._0x19ffed);break;case _0x28bd1b[_0x2f51fa(0x324)]:await _0x338de2(_0x1de1cb,_0x25909b,_0x19ffed,_0xe29669,_0x3c2941,_0x3f8b65,_0x44633f);break;case _0x28bd1b[_0x2f51fa(0x6ad)]:await _0x2d277b(_0x1de1cb,_0x25909b,_0x19ffed,_0xe29669,_0x3c2941,_0x3f8b65,_0x44633f);break;case _0x28bd1b[_0x2f51fa(0x793)]:await _0x453064(_0x1de1cb,_0x25909b,_0x19ffed,_0xe29669,_0x3c2941,_0x3f8b65,_0x44633f);break;case _0x28bd1b[_0x2f51fa(0x176)]:await _0xff79c6(_0x1de1cb,_0x25909b,_0x19ffed,_0xe29669,_0x3c2941,_0x3f8b65,_0x44633f);break;case _0x28bd1b['VectorDatabase']:await _0x294589(_0x1de1cb,_0x25909b,_0x19ffed,_0xe29669,_0x3c2941,_0x3f8b65,_0x44633f);}}}function _0x54599e(_0x18b388,_0x1a1faa){const _0x154b42=_0x2e7de5;return _0x1a1faa[_0x154b42(0x8bd)](_0x4ddbbc=>_0x4ddbbc[_0x154b42(0x9d9)]?.[_0x154b42(0x363)](_0x290848=>_0x290848[_0x154b42(0x4db)]===_0x18b388['uid']))[_0x154b42(0x727)];}async function _0x137d1e(_0xcd1160,_0x53355c,_0x2448aa,_0xfec4c4,_0x33ffea,_0x293d02){const _0x4a00fb=_0x2e7de5,_0x4547e6={'type':_0x4a00fb(0x7c9),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0xeaa0cc(_0xcd1160,_0x53355c,_0x2448aa,_0x4547e6,_0xfec4c4,structuredClone(_0x33ffea),_0x293d02),_0x4547e6['output']=_0x4a00fb(0x225)+_0x4547e6[_0x4a00fb(0x35a)][_0x4a00fb(0x28b)](_0x243ab0=>_0x4a00fb(0x82c)+_0x243ab0[_0x4a00fb(0x9d5)]+':\x20'+_0x243ab0[_0x4a00fb(0x1da)])['join']('\x0a');}catch(_0x519273){console['error'](_0x4a00fb(0x5a9),_0x519273);}return _0x4547e6;}function _0x520a9b(_0x4dfb76,_0x26b491,_0xc9c858,_0x396f84,_0x30136c,_0xc2f0ed,_0x596e1c,_0x543062){const _0x32dfc7=_0x2e7de5,_0x58e809=new Map(),_0x21d397=_0xc2f0ed['filter'](_0x48aabe=>_0x48aabe[_0x32dfc7(0x9d9)]?.[_0x32dfc7(0x921)](_0x35cee6=>_0x35cee6[_0x32dfc7(0x4db)]===_0x30136c['uid']&&(_0x35cee6[_0x32dfc7(0x926)]===_0x23f2a5[_0x32dfc7(0x223)]||_0x35cee6[_0x32dfc7(0x926)]===_0x23f2a5[_0x32dfc7(0x5c2)])));for(const _0x58e54d of _0x21d397)_0x58e54d[_0x32dfc7(0x926)]===_0x1f83fd[_0x32dfc7(0x223)]||_0x58e54d[_0x32dfc7(0x926)]===_0x1f83fd[_0x32dfc7(0x828)]?_0x58e809[_0x32dfc7(0x7ee)]('searchInDataCollection'+_0x58e54d['name']['replace'](/[^a-zA-Z]/g,''),_0x372ec9(_0x4dfb76,_0x26b491,_0xc9c858,_0x396f84,_0x58e54d,_0x596e1c,_0x543062)):_0x58e54d['type']===_0x1f83fd[_0x32dfc7(0x489)]||_0x58e54d[_0x32dfc7(0x926)]===_0x1f83fd[_0x32dfc7(0x59d)]?_0x58e809[_0x32dfc7(0x7ee)]('executeAgent'+_0x58e54d['name'][_0x32dfc7(0x4fb)](/[^a-zA-Z]/g,''),_0x4eacc1(_0x4dfb76,_0x26b491,_0xc9c858,_0x396f84,_0x58e54d,_0xc2f0ed,_0x596e1c,_0x543062)):_0x58e54d['type']===_0x1f83fd['CustomSkill']?_0x58e809[_0x32dfc7(0x7ee)](_0x58e54d['name'][_0x32dfc7(0x4fb)](/[^a-zA-Z]/g,''),_0x34dd56(_0x4dfb76,_0x26b491,_0xc9c858,_0x58e54d,_0xc2f0ed,_0x543062)):_0x58e809['set'](_0x563b3d(_0x58e54d),_0x745d5d(_0x4dfb76,_0x26b491,_0xc9c858,_0x58e54d,_0x596e1c,_0x543062));return _0x58e809;}function _0x4eacc1(_0x3c394a,_0x3194c4,_0xb5dac4,_0x4861e4,_0x386b52,_0x5abe02,_0xd732b4,_0x3dfd7f){const _0x556604=_0x2e7de5,_0x5ad107=_0x556604(0x93f)+_0x386b52[_0x556604(0x9d3)]+_0x556604(0x69c),_0x5c25ec={'prompt':{'type':_0x564b37['PromptFunctionParamsType'][_0x556604(0x7e3)]}};return _0x24872b['trace']({'jobType':_0x41b944[_0x556604(0x55c)],'type':_0x31800c[_0x556604(0x7f2)],'jobId':_0x3c394a,'agentId':_0x3194c4,'threadId':_0xb5dac4,'traceLevel':_0x55bac5[_0x556604(0x275)],'startTime':Date[_0x556604(0x974)](),'timestamp':Date[_0x556604(0x974)](),'status':_0x556604(0x3f4),'function':_0x7c398f['ExecuteAgent'],'params':_0x5c25ec,'functionDescription':_0x5ad107}),{'description':_0x5ad107,'params':_0x5c25ec,'callback':async _0x4933e4=>{const _0x392d19=_0x556604,_0x562477=Date[_0x392d19(0x974)]();try{if(_0x3dfd7f&&(await _0x31d9e2[_0x392d19(0x265)](0x1),_0x3dfd7f[_0x392d19(0x47a)]({'output':_0x392d19(0x967)+_0x386b52['name']+_0x392d19(0x85e),'type':_0x392d19(0x7c9)})),_0x392d19(0x5ea)!=typeof _0x4933e4?.['prompt'])throw new Error(_0x392d19(0x84e));let _0x40802c=_0x4933e4[_0x392d19(0x7c9)];if(_0x386b52['accumulated']?.[_0x392d19(0x35a)])for(const _0x1a199e of Object['keys'](_0x386b52['accumulated']['context'])){const _0x1ef1eb=_0x386b52[_0x392d19(0x3e7)][_0x392d19(0x35a)][_0x1a199e];_0x40802c=_0x1ef1eb instanceof Array?_0x392d19(0x9a7)+_0x1a199e+_0x392d19(0x183)+_0x1ef1eb[_0x392d19(0x28b)](_0x15d584=>_0x392d19(0x82c)+_0x15d584[_0x392d19(0x9d5)]+':\x20'+_0x15d584[_0x392d19(0x1da)])[_0x392d19(0x396)]('\x0a\x0a')+'\x0a\x0a'+_0x40802c:_0x392d19(0x96e)+_0x1a199e+':\x20'+_0x1ef1eb+'\x0a\x0a'+_0x40802c;}const _0x4c998e=_0xd732b4[_0x392d19(0x572)][_0x392d19(0x921)](_0x2dd244=>_0x2dd244['id']===_0x386b52[_0x392d19(0x192)]);if(!_0x4c998e)throw new Error(_0x392d19(0x874));const _0x3afcc0=_0xd732b4[_0x392d19(0xa5e)][_0x392d19(0x921)](_0x270117=>_0x270117['getEngineType']()===_0x4c998e['engineType']);if(!_0x3afcc0)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x1699ed=_0x386b52['links']?.['some'](_0x5f3951=>{const _0x2bda46=_0x392d19,_0x23e956=_0x5abe02['find'](_0x4b4d06=>_0x4b4d06[_0x2bda46(0x4db)]===_0x5f3951[_0x2bda46(0x4db)]);return!!_0x23e956&&_0x5f3951['type']===_0x23f2a5[_0x2bda46(0x1a2)]&&_0x23e956[_0x2bda46(0x926)]===_0x1f83fd[_0x2bda46(0x551)];})??!0x1;let _0x5bbe13;if(_0x3dfd7f&&_0x1699ed?(await _0x31d9e2[_0x392d19(0x265)](0x1),_0x3dfd7f[_0x392d19(0x47a)]({'output':'\x0a\x0a','type':'prompt'}),_0x5bbe13=await async function(_0x14b087,_0x711206,_0x144a87,_0x470a68,_0x130364,_0x6353b3,_0x817f3f,_0x196ed7,_0x4aaee7){const _0x4ad260=_0x392d19;let _0x544292='';const _0x4c3e7e=_0x4aaee7['models'][_0x4ad260(0x921)](_0x46136d=>_0x46136d['id']===_0x6353b3[_0x4ad260(0x192)]);if(!_0x4c3e7e)throw new Error(_0x4ad260(0x874));const _0x20423d=_0x4aaee7[_0x4ad260(0xa5e)][_0x4ad260(0x921)](_0x591b93=>_0x591b93[_0x4ad260(0x8db)]()===_0x4c3e7e[_0x4ad260(0x232)]);if(!_0x20423d)throw new Error('No\x20connector\x20found\x20for\x20model');for await(const _0x55cc42 of _0x20423d[_0x4ad260(0x6d2)]({'type':_0x4ad260(0x7c9),'prompt':_0x470a68,'instructions':_0x6353b3[_0x4ad260(0x1c9)],'grammar':_0x6353b3[_0x4ad260(0x8df)],'temperature':_0x6353b3[_0x4ad260(0x3a3)],'maxTokens':_0x6353b3[_0x4ad260(0x18f)],'functions':_0x520a9b(_0x14b087,_0x711206,_0x144a87,_0x130364,_0x6353b3,_0x817f3f,_0x4aaee7,_0x196ed7),'threadId':_0x144a87},{'model':_0x4c3e7e,'sequences':0x2}))_0x196ed7[_0x4ad260(0x47a)](_0x55cc42),_0x544292+=_0x55cc42['output'];return{'type':_0x4ad260(0x7c9),'output':_0x544292};}(_0x3c394a,_0x3194c4,_0xb5dac4,_0x40802c,_0x4861e4,_0x386b52,_0x5abe02,_0x3dfd7f,_0xd732b4),await _0x31d9e2[_0x392d19(0x265)](0x1),_0x3dfd7f[_0x392d19(0x47a)]({'output':'\x0a\x0a','type':_0x392d19(0x7c9)})):_0x5bbe13=await _0x3afcc0[_0x392d19(0x94d)]({'type':_0x392d19(0x7c9),'prompt':_0x40802c,'instructions':_0x386b52[_0x392d19(0x1c9)],'grammar':_0x386b52[_0x392d19(0x8df)],'temperature':_0x386b52['temperature'],'maxTokens':_0x386b52['maxTokens'],'functions':_0x520a9b(_0x3c394a,_0x3194c4,_0xb5dac4,_0x4861e4,_0x386b52,_0x5abe02,_0xd732b4,_0x3dfd7f),'threadId':_0xb5dac4},{'model':_0x4c998e,'sequences':0x2}),_0x392d19(0x5ea)!=typeof _0x5bbe13[_0x392d19(0x1fb)])throw new Error(_0x392d19(0x712));return _0x24872b[_0x392d19(0xa32)]({'jobType':_0x41b944[_0x392d19(0x5c2)],'type':_0x7c398f[_0x392d19(0x443)],'jobId':_0x3c394a,'blockId':_0x386b52['id'],'agentId':_0x3194c4,'threadId':_0xb5dac4,'traceLevel':_0x55bac5[_0x392d19(0x275)],'startTime':_0x562477,'timestamp':Date[_0x392d19(0x974)](),'status':_0x392d19(0x3f4),'agentName':_0x386b52[_0x392d19(0x243)],'prompt':_0x40802c,'instructions':_0x386b52[_0x392d19(0x1c9)],'result':_0x5bbe13[_0x392d19(0x1fb)],'inputTokens':0x0,'outputTokens':0x0}),_0x386b52[_0x392d19(0x9d9)]?.['some'](_0x5a6808=>_0x5a6808['type']===_0x23f2a5[_0x392d19(0x38a)])?(_0x3814ae(_0x5bbe13[_0x392d19(0x1fb)],_0x386b52,_0x5abe02),_0x392d19(0x5c0)):_0x5bbe13[_0x392d19(0x1fb)];}catch(_0x1218ff){return console[_0x392d19(0x972)](_0x1218ff),_0x24872b[_0x392d19(0xa32)]({'jobType':_0x41b944[_0x392d19(0x5c2)],'type':_0x7c398f[_0x392d19(0x443)],'jobId':_0x3c394a,'blockId':_0x386b52['id'],'agentId':_0x3194c4,'threadId':_0xb5dac4,'traceLevel':_0x55bac5[_0x392d19(0x275)],'startTime':_0x562477,'timestamp':Date[_0x392d19(0x974)](),'status':_0x392d19(0x972),'errorDetails':_0x1ce54e(_0x1218ff),'agentName':_0x386b52[_0x392d19(0x243)],'prompt':'','instructions':_0x386b52[_0x392d19(0x1c9)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x1218ff instanceof Error?_0x1218ff[_0x392d19(0x4b2)]:'Error\x20executing\x20agent';}}};}function _0x372ec9(_0x1cbf78,_0x40f9eb,_0x6b7a9e,_0x17c997,_0x8f1d1d,_0x48f1ec,_0x102f15){const _0x4c88f6=_0x2e7de5,_0x26b082='Search\x20in\x20data\x20collection\x20'+_0x8f1d1d[_0x4c88f6(0x9d3)]+_0x4c88f6(0x8fa),_0x36a05c={'queryOrPrompt':{'type':_0x564b37[_0x4c88f6(0x163)][_0x4c88f6(0x7e3)]}};return _0x24872b[_0x4c88f6(0xa32)]({'jobType':_0x41b944['JobContext'],'type':_0x31800c[_0x4c88f6(0x2f3)],'jobId':_0x1cbf78,'agentId':_0x40f9eb,'threadId':_0x6b7a9e,'blockId':_0x8f1d1d['id'],'traceLevel':_0x55bac5['Info'],'startTime':Date[_0x4c88f6(0x974)](),'timestamp':Date['now'](),'status':'success','function':_0x2dd95f[_0x4c88f6(0x405)],'params':_0x36a05c,'functionDescription':_0x26b082}),{'description':_0x26b082,'params':_0x36a05c,'callback':async _0x26e7cf=>{const _0x2a906d=_0x4c88f6,_0x4963cd=Date[_0x2a906d(0x974)]();try{if(_0x102f15&&(await _0x31d9e2['wait'](0x1),_0x102f15[_0x2a906d(0x47a)]({'output':_0x2a906d(0xa42)+_0x8f1d1d[_0x2a906d(0x243)]+_0x2a906d(0x1ed)+_0x26e7cf?.[_0x2a906d(0x204)]+'`\x0a\x0a','type':'prompt'})),_0x2a906d(0x5ea)!=typeof _0x26e7cf?.[_0x2a906d(0x204)])throw new Error(_0x2a906d(0x9ee));const _0x2d80ff=_0x8f1d1d[_0x2a906d(0x552)][_0x2a906d(0x921)](_0x3619e3=>_0x3619e3[_0x2a906d(0x926)]===_0x28bd1b[_0x2a906d(0x71f)]),_0xdf638e=await _0x137d1e(_0x1cbf78,_0x6b7a9e,_0x26e7cf[_0x2a906d(0x204)],_0x2d80ff,_0x8f1d1d['retrieveBlocks'],_0x48f1ec);return _0x17c997['context']=Array[_0x2a906d(0xa4b)](new Set([..._0x17c997[_0x2a906d(0x35a)],..._0xdf638e[_0x2a906d(0x35a)]])),_0x24872b['trace']({'jobType':_0x41b944[_0x2a906d(0x223)],'type':_0x2dd95f[_0x2a906d(0x6df)],'jobId':_0x1cbf78,'blockId':_0x8f1d1d['id'],'agentId':_0x40f9eb,'threadId':_0x6b7a9e,'traceLevel':_0x55bac5[_0x2a906d(0x275)],'startTime':_0x4963cd,'timestamp':Date[_0x2a906d(0x974)](),'status':'success','query':_0x26e7cf[_0x2a906d(0x204)],'context':_0xdf638e[_0x2a906d(0x35a)]??[],'inputTokens':_0xdf638e['inputTokens']??0x0,'outputTokens':_0xdf638e['outputTokens']??0x0}),_0xdf638e[_0x2a906d(0x1fb)];}catch(_0x277445){return console[_0x2a906d(0x972)](_0x277445),_0x24872b[_0x2a906d(0xa32)]({'jobType':_0x41b944[_0x2a906d(0x223)],'type':_0x2dd95f[_0x2a906d(0x6df)],'jobId':_0x1cbf78,'blockId':_0x8f1d1d['id'],'agentId':_0x40f9eb,'threadId':_0x6b7a9e,'traceLevel':_0x55bac5[_0x2a906d(0x275)],'startTime':_0x4963cd,'timestamp':Date[_0x2a906d(0x974)](),'status':_0x2a906d(0x972),'errorDetails':_0x1ce54e(_0x277445),'query':_0x26e7cf?.['queryOrPrompt']??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x277445 instanceof Error?_0x277445[_0x2a906d(0x4b2)]:'Error\x20retrieving\x20context';}}};}function _0x563b3d(_0x881a30){const _0x226d64=_0x2e7de5;switch(_0x881a30['type']){case _0x1f83fd[_0x226d64(0x59c)]:return'getCurrentDate';case _0x1f83fd[_0x226d64(0x5a6)]:return _0x226d64(0x45a);case _0x1f83fd[_0x226d64(0x9b8)]:return _0x226d64(0xa0f);case _0x1f83fd[_0x226d64(0x9c2)]:case _0x1f83fd[_0x226d64(0x80f)]:return'fetchContentFromUrl';}throw new Error(_0x226d64(0x8dd));}function _0x745d5d(_0x31beaf,_0x14b73a,_0xe90fa2,_0x89978e,_0x4432d7,_0x29fb86){const _0x2478be=_0x2e7de5;switch(_0x89978e[_0x2478be(0x926)]){case _0x1f83fd[_0x2478be(0x59c)]:return function(_0x37a50b,_0x3e295,_0x39ddc8,_0x5bb20b,_0x567f1d){const _0xe86107=_0x2478be,_0x5f100c=_0xe86107(0x2a9);return _0x24872b['trace']({'jobType':_0x41b944[_0xe86107(0x55c)],'type':_0x31800c[_0xe86107(0x7f2)],'jobId':_0x37a50b,'agentId':_0x3e295,'threadId':_0x39ddc8,'traceLevel':_0x55bac5['Info'],'startTime':Date[_0xe86107(0x974)](),'timestamp':Date[_0xe86107(0x974)](),'status':_0xe86107(0x3f4),'function':_0x7c398f[_0xe86107(0x3fb)],'params':{},'functionDescription':_0x5f100c}),{'description':_0x5f100c,'callback':()=>{const _0x22b3bf=_0xe86107,_0x988844=Date[_0x22b3bf(0x974)]();_0x567f1d&&_0x567f1d[_0x22b3bf(0x47a)]({'output':_0x22b3bf(0x526),'type':_0x22b3bf(0x7c9)});const _0x41f464=new Date()[_0x22b3bf(0x99a)]();return _0x24872b[_0x22b3bf(0xa32)]({'jobType':_0x41b944[_0x22b3bf(0x5c2)],'type':_0x7c398f[_0x22b3bf(0x3fb)],'jobId':_0x37a50b,'agentId':_0x3e295,'threadId':_0x39ddc8,'blockId':_0x5bb20b,'traceLevel':_0x55bac5[_0x22b3bf(0x275)],'startTime':_0x988844,'timestamp':Date[_0x22b3bf(0x974)](),'status':_0x22b3bf(0x3f4),'date':_0x41f464}),_0x41f464;}};}(_0x31beaf,_0x14b73a,_0xe90fa2,_0x89978e['id'],_0x29fb86);case _0x1f83fd[_0x2478be(0x5a6)]:return function(_0x470979,_0x1ef395,_0x31e95a,_0x2ebfc6,_0x416128){const _0x419e72=_0x2478be,_0x3599d6=_0x419e72(0x94e),_0x274b14={'code':{'type':_0x564b37[_0x419e72(0x163)][_0x419e72(0x7e3)]}};return _0x24872b[_0x419e72(0xa32)]({'jobType':_0x41b944[_0x419e72(0x55c)],'type':_0x31800c[_0x419e72(0x7f2)],'jobId':_0x470979,'agentId':_0x1ef395,'threadId':_0x31e95a,'traceLevel':_0x55bac5[_0x419e72(0x275)],'startTime':Date['now'](),'timestamp':Date[_0x419e72(0x974)](),'status':_0x419e72(0x3f4),'function':_0x7c398f[_0x419e72(0x2b9)],'params':_0x274b14,'functionDescription':_0x3599d6}),{'description':_0x3599d6,'params':_0x274b14,'callback':_0x2fc284=>{const _0x555c5f=_0x419e72,_0x45a2a1=Date[_0x555c5f(0x974)]();try{if(_0x416128&&_0x416128['emit']({'output':'\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','type':'prompt'}),_0x555c5f(0x5ea)!=typeof _0x2fc284?.[_0x555c5f(0x7ba)])throw new Error(_0x555c5f(0x638));const _0xaa023f=Function(''+_0x2fc284?.['code'])();let _0x4acabe='';try{_0x4acabe=JSON[_0x555c5f(0x178)](_0xaa023f);}catch{_0x4acabe=_0xaa023f[_0x555c5f(0x451)]();}return _0x24872b[_0x555c5f(0xa32)]({'jobType':_0x41b944[_0x555c5f(0x5c2)],'type':_0x7c398f['ExecuteCode'],'agentId':_0x1ef395,'threadId':_0x31e95a,'jobId':_0x470979,'blockId':_0x2ebfc6,'traceLevel':_0x55bac5[_0x555c5f(0x275)],'startTime':_0x45a2a1,'timestamp':Date[_0x555c5f(0x974)](),'status':'success','code':_0x2fc284['code'],'result':_0x4acabe}),_0xaa023f;}catch(_0x56909e){return console[_0x555c5f(0x972)](_0x56909e),_0x24872b['trace']({'jobType':_0x41b944['Skill'],'type':_0x7c398f[_0x555c5f(0x2b9)],'jobId':_0x470979,'blockId':_0x2ebfc6,'traceLevel':_0x55bac5[_0x555c5f(0x275)],'startTime':_0x45a2a1,'timestamp':Date[_0x555c5f(0x974)](),'status':_0x555c5f(0x972),'errorDetails':_0x1ce54e(_0x56909e),'agentId':_0x1ef395,'threadId':_0x31e95a,'code':_0x2fc284?.[_0x555c5f(0x7ba)]??'','result':_0x555c5f(0x328)}),_0x56909e instanceof Error?_0x56909e['message']:_0x555c5f(0x328);}}};}(_0x31beaf,_0x14b73a,_0xe90fa2,_0x89978e['id'],_0x29fb86);case _0x1f83fd[_0x2478be(0x9b8)]:return function(_0x372f41,_0x2fd36b,_0xb55912,_0x3c49ef,_0x79d829,_0x2bb63f,_0x229e43){const _0x2a59d6=_0x2478be,_0x1f2d22=_0x2a59d6(0x7c0),_0x1f7d9c={'query':{'type':_0x564b37[_0x2a59d6(0x163)][_0x2a59d6(0x7e3)]}};return _0x24872b[_0x2a59d6(0xa32)]({'jobType':_0x41b944[_0x2a59d6(0x55c)],'type':_0x31800c[_0x2a59d6(0x7f2)],'jobId':_0x372f41,'agentId':_0x2fd36b,'threadId':_0xb55912,'traceLevel':_0x55bac5[_0x2a59d6(0x275)],'startTime':Date['now'](),'timestamp':Date[_0x2a59d6(0x974)](),'status':_0x2a59d6(0x3f4),'function':_0x7c398f[_0x2a59d6(0x417)],'params':_0x1f7d9c,'functionDescription':_0x1f2d22}),{'description':_0x1f2d22,'params':_0x1f7d9c,'callback':async _0x470a52=>{const _0x373487=_0x2a59d6,_0x382e74=Date['now']();try{if(_0x229e43&&(await _0x31d9e2[_0x373487(0x265)](0x1),_0x229e43[_0x373487(0x47a)]({'output':'\x0a\x0a`Searching\x20on\x20Google\x20for\x20'+_0x470a52?.['query']+'`\x0a\x0a','type':_0x373487(0x7c9)})),!_0x2bb63f[_0x373487(0x2f0)])throw new Error(_0x373487(0x71b));if('string'!=typeof _0x470a52?.[_0x373487(0x65b)])throw new Error(_0x373487(0x9ee));const _0x168146=await _0x2bb63f['searchConnector']['search'](_0x470a52[_0x373487(0x65b)],_0x79d829,_0x2a0c43[_0x373487(0x344)]['searchEngineId']);let _0xb460e5='';for(const _0x407911 of _0x168146)_0xb460e5+=_0x407911[_0x373487(0xa85)]+'\x20-\x20'+_0x407911['url']+'\x0a'+_0x407911[_0x373487(0x406)]+'\x0a\x0a';return _0x24872b[_0x373487(0xa32)]({'jobType':_0x41b944[_0x373487(0x5c2)],'type':_0x7c398f[_0x373487(0x417)],'jobId':_0x372f41,'agentId':_0x2fd36b,'threadId':_0xb55912,'blockId':_0x3c49ef,'traceLevel':_0x55bac5[_0x373487(0x275)],'startTime':_0x382e74,'timestamp':Date['now'](),'status':_0x373487(0x3f4),'query':_0x470a52[_0x373487(0x65b)],'results':_0xb460e5}),_0xb460e5;}catch(_0x1e7518){return console[_0x373487(0x972)](_0x1e7518),_0x24872b['trace']({'jobType':_0x41b944[_0x373487(0x5c2)],'type':_0x7c398f[_0x373487(0x417)],'jobId':_0x372f41,'blockId':_0x3c49ef,'traceLevel':_0x55bac5[_0x373487(0x275)],'startTime':_0x382e74,'timestamp':Date[_0x373487(0x974)](),'status':_0x373487(0x972),'errorDetails':_0x1ce54e(_0x1e7518),'agentId':_0x2fd36b,'threadId':_0xb55912,'query':_0x470a52?.['query']??'','results':_0x373487(0x46b)}),_0x1e7518 instanceof Error?_0x1e7518[_0x373487(0x4b2)]:_0x373487(0x46b);}}};}(_0x31beaf,_0x14b73a,_0xe90fa2,_0x89978e['id'],_0x4432d7[_0x2478be(0x969)],_0x4432d7,_0x29fb86);case _0x1f83fd['WebScraper']:return _0x328713(_0x31beaf,_0x14b73a,_0xe90fa2,_0x89978e['id'],_0x29fb86);case _0x1f83fd[_0x2478be(0x80f)]:return _0x328713(_0x31beaf,_0x14b73a,_0xe90fa2,_0x89978e['id'],_0x29fb86,!0x1);}throw new Error('Unknown\x20skill\x20type');}function _0x328713(_0x3d1a31,_0x2f8295,_0x533b52,_0x1f5a5f,_0x25ed5c,_0x26cad9=!0x0){const _0x23eea9=_0x2e7de5,_0x501baf=_0x23eea9(0x724),_0x1c8002={'url':{'type':_0x564b37[_0x23eea9(0x163)][_0x23eea9(0x7e3)]},'page':{'type':_0x564b37[_0x23eea9(0x163)][_0x23eea9(0x822)]}};return _0x24872b[_0x23eea9(0xa32)]({'jobType':_0x41b944[_0x23eea9(0x55c)],'type':_0x31800c[_0x23eea9(0x7f2)],'jobId':_0x3d1a31,'agentId':_0x2f8295,'threadId':_0x533b52,'traceLevel':_0x55bac5[_0x23eea9(0x275)],'startTime':Date[_0x23eea9(0x974)](),'timestamp':Date[_0x23eea9(0x974)](),'status':'success','function':_0x7c398f[_0x23eea9(0x9ef)],'params':_0x1c8002,'functionDescription':_0x501baf}),{'description':_0x501baf,'params':_0x1c8002,'callback':async _0x252504=>{const _0x45ff0b=_0x23eea9,_0x5b0300=Date[_0x45ff0b(0x974)]();try{if(_0x25ed5c&&(await _0x31d9e2[_0x45ff0b(0x265)](0x1),_0x25ed5c[_0x45ff0b(0x47a)]({'output':_0x45ff0b(0x206)+_0x252504?.[_0x45ff0b(0x25c)]+_0x45ff0b(0x85e),'type':_0x45ff0b(0x7c9)})),_0x45ff0b(0x5ea)!=typeof _0x252504?.[_0x45ff0b(0x25c)])throw new Error(_0x45ff0b(0x1d5));const _0x42ea08=_0x252504[_0x45ff0b(0x25c)];if([_0x45ff0b(0x24c),_0x45ff0b(0x865),'.docx',_0x45ff0b(0x4aa),'.pptx','.xls','.xlsx'][_0x45ff0b(0x363)](_0x529335=>_0x42ea08['endsWith'](_0x529335)))throw new Error('Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file');const _0x4438a4=await fetch(_0x42ea08),_0x10fe99=await _0x4438a4[_0x45ff0b(0x4b9)]();let _0x5f333c=_0x10fe99;if(_0x26cad9){const _0x514e17=_0x10fe99[_0x45ff0b(0x195)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0xf185ee=_0x514e17?_0x514e17[0x1]:_0x10fe99,_0x1439ac=_0xf185ee['replace'](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x45ff0b(0x4fb)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')['replace'](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0x5f333c=_0x1439ac[_0x45ff0b(0x4fb)](/<\/?[^>]+(>|$)/g,'')[_0x45ff0b(0x4fb)](/\s\s+/g,'\x20')['trim']();}const _0x4ae063=_0x45ff0b(0x374)==typeof _0x252504[_0x45ff0b(0x86e)]?_0x252504[_0x45ff0b(0x86e)]:0x1,_0x151944=Math[_0x45ff0b(0xa3a)](_0x5f333c['length']/_0x239b58);return _0x5f333c[_0x45ff0b(0x727)]>_0x239b58&&(_0x5f333c=_0x5f333c[_0x45ff0b(0x76a)]((_0x4ae063-0x1)*_0x239b58,(_0x4ae063-0x1)*_0x239b58+_0x239b58)+_0x45ff0b(0x30a)+(_0x4ae063+0x1)+_0x45ff0b(0x9c4)+_0x151944+'.'),_0x24872b[_0x45ff0b(0xa32)]({'jobType':_0x41b944[_0x45ff0b(0x5c2)],'type':_0x7c398f[_0x45ff0b(0x9ef)],'jobId':_0x3d1a31,'agentId':_0x2f8295,'threadId':_0x533b52,'blockId':_0x1f5a5f,'traceLevel':_0x55bac5[_0x45ff0b(0x275)],'startTime':_0x5b0300,'timestamp':Date[_0x45ff0b(0x974)](),'status':_0x4438a4['ok']?_0x45ff0b(0x3f4):_0x45ff0b(0x972),'url':_0x252504[_0x45ff0b(0x25c)],'page':_0x4ae063,'totalPages':_0x151944,'response':_0x5f333c}),_0x5f333c;}catch(_0x84dbca){console[_0x45ff0b(0x972)](_0x84dbca);const _0x462357=_0x84dbca instanceof Error?_0x84dbca['message']:_0x45ff0b(0x253);return _0x24872b[_0x45ff0b(0xa32)]({'jobType':_0x41b944[_0x45ff0b(0x5c2)],'type':_0x7c398f[_0x45ff0b(0x9ef)],'jobId':_0x3d1a31,'blockId':_0x1f5a5f,'threadId':_0x533b52,'traceLevel':_0x55bac5[_0x45ff0b(0x275)],'startTime':_0x5b0300,'timestamp':Date['now'](),'agentId':_0x2f8295,'status':_0x45ff0b(0x972),'errorDetails':_0x1ce54e(_0x84dbca),'url':_0x252504?.[_0x45ff0b(0x25c)]??'','page':0x0,'totalPages':0x0,'response':_0x462357}),_0x462357;}}};}function _0x34dd56(_0x5972be,_0xbf7e39,_0x37c8e5,_0xd4754,_0x38f56e,_0x5291c6){const _0x741d69=_0x2e7de5,_0x410e24={};for(const _0x1dabbd of _0xd4754[_0x741d69(0x450)])switch(_0x1dabbd[_0x741d69(0x926)]){case _0x741d69(0x5ea):case _0x741d69(0x287):_0x410e24[_0x1dabbd['name']]={'type':_0x564b37[_0x741d69(0x163)]['String']};break;case _0x741d69(0x374):_0x410e24[_0x1dabbd[_0x741d69(0x243)]]={'type':_0x564b37[_0x741d69(0x163)][_0x741d69(0x822)]};break;case _0x741d69(0x5d2):_0x410e24[_0x1dabbd[_0x741d69(0x243)]]={'type':_0x564b37[_0x741d69(0x163)][_0x741d69(0xa6c)]};}return _0x24872b['trace']({'jobType':_0x41b944[_0x741d69(0x55c)],'type':_0x31800c[_0x741d69(0x7f2)],'jobId':_0x5972be,'agentId':_0xbf7e39,'threadId':_0x37c8e5,'traceLevel':_0x55bac5['Info'],'startTime':Date[_0x741d69(0x974)](),'timestamp':Date['now'](),'status':'success','function':_0x7c398f[_0x741d69(0x63d)],'params':_0x410e24,'functionDescription':_0xd4754[_0x741d69(0x9d3)]}),{'description':_0x741d69(0x9fe)+_0xd4754[_0x741d69(0x9d3)],'params':_0x410e24,'callback':async _0x16a477=>{const _0x58bbfb=_0x741d69,_0x3a6ca0=Date['now']();try{if(_0x5291c6&&(await _0x31d9e2[_0x58bbfb(0x265)](0x1),_0x5291c6['emit']({'output':'\x0a\x0a`Executing\x20custom\x20skill\x20'+_0xd4754[_0x58bbfb(0x243)]+_0x58bbfb(0x85e),'type':_0x58bbfb(0x7c9)})),!_0x16a477)throw new Error(_0x58bbfb(0x763));for(const _0xc3ae34 of _0xd4754[_0x58bbfb(0x450)]){if(void 0x0===_0x16a477[_0xc3ae34['name']])throw new Error(_0x58bbfb(0x439)+_0xc3ae34['name']+'\x20is\x20required');if(_0x58bbfb(0x5ea)===_0xc3ae34[_0x58bbfb(0x926)]&&_0x58bbfb(0x5ea)!=typeof _0x16a477[_0xc3ae34[_0x58bbfb(0x243)]])throw new Error('Parameter\x20'+_0xc3ae34[_0x58bbfb(0x243)]+_0x58bbfb(0xa7d));if(_0x58bbfb(0x374)===_0xc3ae34['type']&&_0x58bbfb(0x374)!=typeof _0x16a477[_0xc3ae34[_0x58bbfb(0x243)]])throw new Error(_0x58bbfb(0x439)+_0xc3ae34['name']+'\x20must\x20be\x20a\x20number');if(_0x58bbfb(0x5d2)===_0xc3ae34['type']&&_0x58bbfb(0x5d2)!=typeof _0x16a477[_0xc3ae34['name']])throw new Error('Parameter\x20'+_0xc3ae34[_0x58bbfb(0x243)]+'\x20must\x20be\x20a\x20boolean');if(_0x58bbfb(0x287)===_0xc3ae34['type']&&_0x58bbfb(0x5ea)!=typeof _0x16a477[_0xc3ae34[_0x58bbfb(0x243)]])throw new Error(_0x58bbfb(0x439)+_0xc3ae34[_0x58bbfb(0x243)]+'\x20must\x20be\x20a\x20string');if('json'===_0xc3ae34['type'])try{_0x16a477[_0xc3ae34[_0x58bbfb(0x243)]]=JSON['parse'](_0x16a477[_0xc3ae34[_0x58bbfb(0x243)]]);}catch{throw new Error(_0x58bbfb(0x439)+_0xc3ae34[_0x58bbfb(0x243)]+'\x20must\x20be\x20a\x20valid\x20JSON\x20string');}}const _0x60d884={};for(const _0x3349f0 of _0xd4754[_0x58bbfb(0x5ef)]){let _0x4c496e=_0x3349f0[_0x58bbfb(0x17e)];_0x4c496e[_0x58bbfb(0x195)](/\$[a-zA-Z0-9]+/)&&(_0x4c496e=_0x4c496e[_0x58bbfb(0x4fb)](/\$[a-zA-Z0-9]+/g,_0x1f2220=>{const _0x682567=_0x1f2220['slice'](0x1);return _0x16a477[_0x682567];})),_0x60d884[_0x3349f0[_0x58bbfb(0x243)]]=_0x4c496e;}const _0x36e145=new URLSearchParams();for(const _0x14264d of _0xd4754[_0x58bbfb(0x6a3)]){let _0x4d80ac=_0x14264d[_0x58bbfb(0x17e)];if(_0x58bbfb(0x5ea)==typeof _0x4d80ac&&_0x4d80ac['startsWith']('$')){const _0x1417cc=_0x4d80ac[_0x58bbfb(0x4bb)](0x1);_0x4d80ac=_0x16a477[_0x1417cc];}if(_0x58bbfb(0x5ea)==typeof _0x4d80ac&&_0x4d80ac[_0x58bbfb(0x78d)](_0x58bbfb(0x7e0))){const _0x2d4649=_0x4d80ac['replace'](_0x58bbfb(0x7e0),'');if(_0xd4754[_0x58bbfb(0x3e7)],_0x4d80ac=_0xd4754[_0x58bbfb(0x3e7)]?.[_0x58bbfb(0x35a)]?.[_0x2d4649],_0x58bbfb(0x5ea)==typeof _0x4d80ac&&_0x4d80ac[_0x58bbfb(0x78d)]('{')&&_0x4d80ac[_0x58bbfb(0x2cc)]('}'))try{_0x4d80ac=JSON['parse'](_0x4d80ac);}catch{}}_0x58bbfb(0x5ea)==typeof _0x4d80ac&&_0x4d80ac[_0x58bbfb(0x78d)]('[')&&_0x4d80ac[_0x58bbfb(0x2cc)](']')&&(_0x4d80ac=_0x4d80ac[_0x58bbfb(0x4bb)](0x1,-0x1)[_0x58bbfb(0x367)](',')),_0x36e145['append'](_0x14264d[_0x58bbfb(0x243)],_0x4d80ac);}let _0x19b7b3=_0xd4754[_0x58bbfb(0x6b2)];_0x36e145['size']>0x0&&(_0x19b7b3+='?'+_0x36e145['toString']());let _0x3a1961={};for(const _0x5ac43a of _0xd4754['bodyParameters']){let _0x1e0db2=_0x5ac43a[_0x58bbfb(0x17e)];if(_0x58bbfb(0x5ea)==typeof _0x1e0db2&&_0x1e0db2[_0x58bbfb(0x78d)]('$')){const _0x5ad55d=_0x1e0db2[_0x58bbfb(0x4bb)](0x1);_0x1e0db2=_0x16a477[_0x5ad55d];}if(_0x58bbfb(0x5ea)==typeof _0x1e0db2&&_0x1e0db2[_0x58bbfb(0x78d)](_0x58bbfb(0x7e0))){const _0x48ec79=_0x1e0db2['replace']('@context.','');if(_0x1e0db2=_0xd4754['accumulated']?.[_0x58bbfb(0x35a)]?.[_0x48ec79],_0x58bbfb(0x5ea)==typeof _0x1e0db2&&_0x1e0db2[_0x58bbfb(0x78d)]('{')&&_0x1e0db2['endsWith']('}'))try{_0x1e0db2=JSON['parse'](_0x1e0db2);}catch{}}if(_0x58bbfb(0x5ea)==typeof _0x1e0db2&&_0x1e0db2[_0x58bbfb(0x78d)]('[')&&_0x1e0db2['endsWith'](']')&&(_0x1e0db2=_0x1e0db2['slice'](0x1,-0x1)['split'](',')),'@root'===_0x5ac43a[_0x58bbfb(0x243)]){const _0x9ebbe1=_0x1e0db2[_0x58bbfb(0x195)](/```html(.*)```/s);_0x9ebbe1&&(_0x1e0db2=_0x9ebbe1[0x1]),_0x1e0db2=_0x1e0db2[_0x58bbfb(0x4fb)](/\n/g,''),_0x1e0db2=_0x1e0db2[_0x58bbfb(0x4fb)](/'/g,'\x22'),_0x3a1961=_0x1e0db2;break;}if(-0x1===_0x5ac43a[_0x58bbfb(0x243)]['indexOf']('.'))_0x3a1961[_0x5ac43a[_0x58bbfb(0x243)]]=_0x1e0db2;else{const [_0x326965,_0x35de41]=_0x5ac43a[_0x58bbfb(0x243)]['split']('.');_0x3a1961[_0x326965]||(_0x3a1961[_0x326965]={}),_0x3a1961[_0x326965][_0x35de41]=_0x1e0db2;}}const _0x3a6dc7=await fetch(_0x19b7b3,{'method':_0xd4754['endpointMethod'],'headers':_0x60d884,'body':'string'==typeof _0x3a1961?_0x3a1961:JSON[_0x58bbfb(0x178)](_0x3a1961)});if(_0x3a6dc7['ok']){let _0x2e7602=await _0x3a6dc7['json']();return _0xd4754[_0x58bbfb(0x57f)]&&(_0x2e7602=await function(_0x24137f,_0x4de877){return new Promise((_0x44691f,_0xb5240d)=>{const _0x3437e4=a0_0x4258,_0x2884ee=_0x31d9e2[_0x3437e4(0x6bd)](async()=>{const _0x5f63d=_0x3437e4;try{if(!_0x24137f[_0x5f63d(0x22a)]||!_0x24137f['asyncEndpointMethod'])throw new Error(_0x5f63d(0x187));const _0x523472={};if(_0x24137f[_0x5f63d(0x3ed)]){for(const _0x1203f1 of _0x24137f['asyncHeaders'])_0x523472[_0x1203f1['name']]=_0x1203f1[_0x5f63d(0x17e)];}const _0x3e9e7a=_0x24137f[_0x5f63d(0x22a)][_0x5f63d(0x4fb)]('@id',_0x4de877),_0x19489d=await fetch(_0x3e9e7a,{'method':_0x24137f[_0x5f63d(0x397)],'headers':_0x523472});if(0xc8===_0x19489d[_0x5f63d(0x2ea)]){const _0x261d82=await _0x19489d[_0x5f63d(0x287)]();_0x2884ee(),_0x44691f(_0x261d82);}_0x19489d['status']>=0x190&&(console[_0x5f63d(0x972)](_0x19489d[_0x5f63d(0x347)]),_0x2884ee(),_0xb5240d(new Error(_0x19489d[_0x5f63d(0x347)])));}catch(_0x116415){console[_0x5f63d(0x972)](_0x116415),_0x2884ee(),_0xb5240d(_0x116415);}},_0x4d74ea);});}(_0xd4754,_0x2e7602['id'])),_0x58bbfb(0x5ea)!=typeof _0x2e7602&&(_0x2e7602=JSON[_0x58bbfb(0x178)](_0x2e7602)),_0x24872b['trace']({'jobType':_0x41b944[_0x58bbfb(0x5c2)],'type':_0x7c398f[_0x58bbfb(0x63d)],'jobId':_0x5972be,'agentId':_0xbf7e39,'threadId':_0x37c8e5,'blockId':_0xd4754['id'],'traceLevel':_0x55bac5['Info'],'startTime':_0x3a6ca0,'timestamp':Date['now'](),'status':'success','skillName':_0xd4754['name'],'params':_0x16a477,'result':_0x2e7602}),_0xd4754['links']?.[_0x58bbfb(0x363)](_0x378039=>_0x378039['type']===_0x23f2a5[_0x58bbfb(0x38a)])?(_0x3814ae(_0x2e7602,_0xd4754,_0x38f56e),_0x58bbfb(0x31b)):_0x2e7602;}throw new Error(_0x3a6dc7[_0x58bbfb(0x347)]);}catch(_0x4013de){console[_0x58bbfb(0x972)](_0x4013de);const _0x12e2f0=_0x4013de instanceof Error?_0x4013de[_0x58bbfb(0x4b2)]:_0x58bbfb(0x253);return _0x24872b[_0x58bbfb(0xa32)]({'jobType':_0x41b944[_0x58bbfb(0x5c2)],'type':_0x7c398f['ExecuteCustomSkill'],'jobId':_0x5972be,'blockId':_0xd4754['id'],'threadId':_0x37c8e5,'traceLevel':_0x55bac5[_0x58bbfb(0x275)],'startTime':_0x3a6ca0,'timestamp':Date[_0x58bbfb(0x974)](),'agentId':_0xbf7e39,'status':'error','skillName':_0xd4754['name'],'params':_0x16a477??{},'result':_0x12e2f0}),_0x12e2f0;}}};}function _0x1ce54e(_0x3a58cc){const _0x50f43c=_0x2e7de5;try{return JSON[_0x50f43c(0x178)](_0x3a58cc);}catch(_0x185680){return _0x3a58cc instanceof Error?_0x3a58cc['toString']():'Error\x20fetching\x20context';}}async function _0x2cdc8e(_0x1e78ef,_0x4a1a42,_0x16b0f5,_0x269d0e,_0x5ec680,_0x536bd5,_0x19a527,_0x2ed4d0,_0x5ddfd2){const _0x179516=_0x2e7de5;if(_0x536bd5[_0x179516(0x3e7)]||(_0x536bd5[_0x179516(0x3e7)]={}),_0x4a1a42===_0x23f2a5[_0x179516(0x1a2)]&&'string'==typeof _0x16b0f5&&(_0x536bd5[_0x179516(0x3e7)]['prompt']=_0x16b0f5),_0x536bd5[_0x179516(0x2d5)]=_0x536bd5[_0x179516(0x2d5)]?_0x536bd5['timesCalled']+0x1:0x1,_0x28c92b(_0x536bd5,_0x19a527)>_0x536bd5['timesCalled'])return;if(_0x31c6d3[_0x179516(0x3a6)](_0x179516(0x3f3)+_0x536bd5['name'],_0x536bd5[_0x179516(0x2d5)]),!_0x536bd5[_0x179516(0x3e7)][_0x179516(0x7c9)])throw new Error(_0x179516(0x1d8)+_0x536bd5[_0x179516(0x243)]);const _0x2b6116=_0x2ed4d0[_0x179516(0x572)][_0x179516(0x921)](_0x27d4ab=>_0x27d4ab['id']===_0x536bd5['modelId']);if(!_0x2b6116)throw new Error(_0x179516(0x874));if(!_0x2ed4d0[_0x179516(0xa5e)][_0x179516(0x921)](_0x608282=>_0x608282[_0x179516(0x8db)]()===_0x2b6116[_0x179516(0x232)]))throw new Error(_0x179516(0x43d));_0x5ddfd2&&_0x5ddfd2['emit']({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x536bd5[_0x179516(0x243)]+_0x179516(0x85e),'type':_0x179516(0x7c9)});const _0xbbb56e=Date[_0x179516(0x974)](),_0x3dc834=(0x0,_0x328cbd['v4'])(),_0x1fdc6f=_0x5ddfd2?await async function(_0x12e3b0,_0x45ca61,_0x399ac5,_0x47a3a5,_0xd7ad10,_0x2bfe0c,_0x4357b,_0x564bfe){const _0x3cb7b7=_0x179516,_0x35b68e=_0x564bfe[_0x3cb7b7(0x572)][_0x3cb7b7(0x921)](_0x45f58a=>_0x45f58a['id']===_0xd7ad10[_0x3cb7b7(0x192)]);if(!_0x35b68e)throw new Error(_0x3cb7b7(0x874));const _0x304af8=_0x564bfe[_0x3cb7b7(0xa5e)][_0x3cb7b7(0x921)](_0x3c4eb2=>_0x3c4eb2['getEngineType']()===_0x35b68e[_0x3cb7b7(0x232)]);if(!_0x304af8)throw new Error(_0x3cb7b7(0x43d));if(!_0xd7ad10['accumulated']||!_0xd7ad10[_0x3cb7b7(0x3e7)][_0x3cb7b7(0x7c9)])throw new Error(_0x3cb7b7(0x81a));let _0x52f4e2=_0xd7ad10[_0x3cb7b7(0x3e7)][_0x3cb7b7(0x7c9)];if(_0xd7ad10[_0x3cb7b7(0x3e7)][_0x3cb7b7(0x35a)])for(const _0x335846 of Object[_0x3cb7b7(0x1c7)](_0xd7ad10[_0x3cb7b7(0x3e7)][_0x3cb7b7(0x35a)])){const _0x518940=_0xd7ad10[_0x3cb7b7(0x3e7)][_0x3cb7b7(0x35a)][_0x335846];_0x52f4e2=_0x518940 instanceof Array?'Given\x20search\x20results\x20for\x20'+_0x335846+_0x3cb7b7(0x183)+_0x518940['map'](_0x75c91=>_0x3cb7b7(0x82c)+_0x75c91[_0x3cb7b7(0x9d5)]+':\x20'+_0x75c91[_0x3cb7b7(0x1da)])[_0x3cb7b7(0x396)]('\x0a\x0a')+'\x0a\x0a'+_0x52f4e2:'Given\x20'+_0x335846+':\x20'+_0x518940+'\x0a\x0a'+_0x52f4e2;}const _0x4f9d15={'type':_0x3cb7b7(0x7c9),'output':''};for await(const _0x487ff4 of _0x304af8[_0x3cb7b7(0x6d2)]({'type':_0x399ac5[_0x3cb7b7(0x926)],'prompt':_0x52f4e2,'instructions':''+_0xd7ad10['instructions']+(_0x399ac5[_0x3cb7b7(0x1c9)]??''),'grammar':_0xd7ad10['grammar'],'temperature':_0xd7ad10[_0x3cb7b7(0x3a3)],'maxTokens':_0xd7ad10['maxTokens'],'history':_0x399ac5[_0x3cb7b7(0x8e7)],'functions':_0x520a9b(_0x12e3b0,_0x45ca61,_0x399ac5['threadId'],_0x47a3a5,_0xd7ad10,_0x2bfe0c,_0x564bfe,_0x4357b),'threadId':_0x399ac5[_0x3cb7b7(0xa23)]},{'model':_0x35b68e,'sequences':0x2}))_0xd7ad10[_0x3cb7b7(0x9d9)]&&_0xd7ad10['links'][_0x3cb7b7(0x363)](_0x99faf9=>{const _0x513306=_0x3cb7b7,_0x19f091=_0x2bfe0c[_0x513306(0x921)](_0x460ade=>_0x460ade[_0x513306(0x4db)]===_0x99faf9[_0x513306(0x4db)]);return!!_0x19f091&&_0x99faf9[_0x513306(0x926)]===_0x23f2a5[_0x513306(0x1a2)]&&_0x19f091['type']===_0x1f83fd['Answer'];})&&_0x4357b[_0x3cb7b7(0x47a)](_0x487ff4),_0x3cb7b7(0x5ea)==typeof _0x4f9d15[_0x3cb7b7(0x1fb)]&&'string'==typeof _0x487ff4[_0x3cb7b7(0x1fb)]&&(_0x4f9d15[_0x3cb7b7(0x1fb)]+=_0x487ff4['output']),_0x4f9d15[_0x3cb7b7(0x8a8)]=_0x487ff4[_0x3cb7b7(0x8a8)],_0x4f9d15[_0x3cb7b7(0x2eb)]=_0x487ff4[_0x3cb7b7(0x2eb)];return _0x4f9d15;}(_0x1e78ef,_0x3dc834,_0x269d0e,_0x5ec680,_0x536bd5,_0x19a527,_0x5ddfd2,_0x2ed4d0):await async function(_0x180bbe,_0x439050,_0x558cf0,_0x16e895,_0xad33f,_0x5b7733,_0x40b54b){const _0x47dd05=_0x179516,_0x3908d2=_0x40b54b[_0x47dd05(0x572)][_0x47dd05(0x921)](_0x44654c=>_0x44654c['id']===_0xad33f['modelId']);if(!_0x3908d2)throw new Error(_0x47dd05(0x874));const _0x8de35b=_0x40b54b[_0x47dd05(0xa5e)][_0x47dd05(0x921)](_0x3649d7=>_0x3649d7[_0x47dd05(0x8db)]()===_0x3908d2[_0x47dd05(0x232)]);if(!_0x8de35b)throw new Error(_0x47dd05(0x43d));if(!_0xad33f[_0x47dd05(0x3e7)]||!_0xad33f[_0x47dd05(0x3e7)][_0x47dd05(0x7c9)])throw new Error(_0x47dd05(0x81a));let _0x35168c=_0xad33f[_0x47dd05(0x3e7)][_0x47dd05(0x7c9)];if(_0xad33f['accumulated']['context'])for(const _0x534954 of Object[_0x47dd05(0x1c7)](_0xad33f['accumulated']['context'])){const _0x3fc13a=_0xad33f[_0x47dd05(0x3e7)]['context'][_0x534954];_0x35168c=_0x3fc13a instanceof Array?'Given\x20search\x20results\x20for\x20'+_0x534954+_0x47dd05(0x183)+_0x3fc13a[_0x47dd05(0x28b)](_0x557e4f=>_0x47dd05(0x82c)+_0x557e4f[_0x47dd05(0x9d5)]+':\x20'+_0x557e4f[_0x47dd05(0x1da)])[_0x47dd05(0x396)]('\x0a\x0a')+'\x0a\x0a'+_0x35168c:_0x47dd05(0x96e)+_0x534954+':\x20'+_0x3fc13a+'\x0a\x0a'+_0x35168c;}return _0x8de35b[_0x47dd05(0x94d)]({'type':_0x47dd05(0x7c9),'prompt':_0xad33f[_0x47dd05(0x3e7)]['prompt'],'instructions':''+_0xad33f[_0x47dd05(0x1c9)]+(_0x558cf0[_0x47dd05(0x1c9)]??''),'grammar':_0xad33f[_0x47dd05(0x8df)],'temperature':_0xad33f[_0x47dd05(0x3a3)],'maxTokens':_0xad33f[_0x47dd05(0x18f)],'history':_0x558cf0[_0x47dd05(0x8e7)],'functions':_0x520a9b(_0x180bbe,_0x439050,_0x558cf0[_0x47dd05(0xa23)],_0x16e895,_0xad33f,_0x5b7733,_0x40b54b),'threadId':_0x558cf0[_0x47dd05(0xa23)]},{'model':_0x3908d2,'sequences':0x2});}(_0x1e78ef,_0x3dc834,_0x269d0e,_0x5ec680,_0x536bd5,_0x19a527,_0x2ed4d0);if(_0x179516(0x5ea)!=typeof _0x1fdc6f[_0x179516(0x1fb)])throw new Error(_0x179516(0x712));_0x5ec680['inputTokens']+=_0x1fdc6f[_0x179516(0x8a8)]??0x0,_0x5ec680[_0x179516(0x2eb)]+=_0x1fdc6f[_0x179516(0x2eb)]??0x0,_0x24872b[_0x179516(0xa32)]({'jobType':_0x41b944[_0x179516(0x3c3)],'type':_0x34f68e['IntermediateOutput'],'jobId':_0x1e78ef,'agentId':_0x3dc834,'threadId':_0x269d0e['threadId'],'traceLevel':_0x55bac5[_0x179516(0x275)],'startTime':_0xbbb56e,'timestamp':Date['now'](),'blockId':_0x536bd5['id'],'status':_0x179516(0x3f4),'output':_0x1fdc6f[_0x179516(0x1fb)],'prompt':_0x536bd5[_0x179516(0x3e7)]['prompt'],'agentName':_0x536bd5[_0x179516(0x243)],'history':[],'instructions':''+_0x536bd5[_0x179516(0x1c9)]+(_0x269d0e[_0x179516(0x1c9)]??''),'ragContext':_0x1fdc6f['context']??[],'inputTokens':_0x1fdc6f[_0x179516(0x8a8)]??0x0,'outputTokens':_0x1fdc6f['outputTokens']??0x0}),_0x3814ae(_0x1fdc6f['output'],_0x536bd5,_0x19a527),await _0x5b5950(_0x1e78ef,_0x1fdc6f[_0x179516(0x1fb)],_0x269d0e,_0x5ec680,_0x536bd5,_0x19a527,_0x2ed4d0,_0x5ddfd2);}function _0xafaa6e(_0x21e824,_0x110125,_0x2f51a5){const _0x4bfb59=_0x2e7de5;_0x2f51a5[_0x4bfb59(0x3e7)]||(_0x2f51a5[_0x4bfb59(0x3e7)]={}),_0x2f51a5[_0x4bfb59(0x3e7)][_0x4bfb59(0x35a)]||(_0x2f51a5[_0x4bfb59(0x3e7)][_0x4bfb59(0x35a)]={});const _0x4742f8=_0x2f51a5[_0x4bfb59(0x897)]?.[_0x4bfb59(0x367)](',');_0x4742f8&&_0x4742f8[_0x4bfb59(0xa49)](_0x21e824)&&(_0x2f51a5[_0x4bfb59(0x3e7)][_0x4bfb59(0x35a)][_0x21e824]=_0x110125);}function _0x5216ad(_0x86e949,_0x31556b,_0x29953c,_0x594f0f){const _0x52f58b=_0x2e7de5;_0x86e949===_0x23f2a5[_0x52f58b(0x38a)]&&(_0x594f0f[_0x52f58b(0x3e7)]||(_0x594f0f[_0x52f58b(0x3e7)]={}),_0x594f0f[_0x52f58b(0x3e7)]['context']||(_0x594f0f[_0x52f58b(0x3e7)][_0x52f58b(0x35a)]={}),_0x594f0f[_0x52f58b(0x3e7)][_0x52f58b(0x35a)][_0x31556b]=_0x29953c);}async function _0x1c5c4b(_0x517dbf,_0x1abdbd,_0x2228d7,_0x5368ca,_0x3ea177,_0x459393,_0x41c027,_0x3bd374){const _0x389bf2=function(_0x5e482a,_0x42380c){const _0x258594=a0_0x4258,_0x5bfcb8=[];for(let _0x569b5e=0x0;_0x569b5e<_0x5e482a[_0x258594(0x727)];_0x569b5e+=_0x42380c[_0x258594(0x40b)]['size']){let _0x225ee4=_0x569b5e-_0x42380c['attributes']['overlap'];_0x225ee4<0x0&&(_0x225ee4=0x0);let _0x356c60=_0x569b5e+_0x42380c[_0x258594(0x40b)][_0x258594(0x777)]+_0x42380c['attributes']['overlap'];_0x356c60>_0x5e482a[_0x258594(0x727)]&&(_0x356c60=_0x5e482a[_0x258594(0x727)]),length||(length=_0x569b5e+_0x42380c[_0x258594(0x40b)][_0x258594(0x777)],length>_0x5e482a['length']&&(length=_0x5e482a[_0x258594(0x727)])),_0x5bfcb8[_0x258594(0x67b)](_0x5e482a[_0x258594(0x76a)](_0x225ee4,_0x356c60));}return _0x5bfcb8;}(_0x1abdbd,_0x3ea177);await _0x5b5950(_0x517dbf,_0x389bf2,_0x2228d7,_0x5368ca,_0x3ea177,_0x459393,_0x41c027,_0x3bd374);}function _0x2c930f(_0x334f6b,_0x475048,_0x599807){const _0x596fd7=_0x2e7de5;_0x599807['accumulated']||(_0x599807[_0x596fd7(0x3e7)]={}),_0x599807[_0x596fd7(0x3e7)][_0x596fd7(0x35a)]||(_0x599807[_0x596fd7(0x3e7)][_0x596fd7(0x35a)]={}),_0x599807[_0x596fd7(0x3e7)]['context'][_0x334f6b]=_0x475048;}async function _0x12312f(_0x3f8094,_0x5e6912,_0x2187bd,_0x2fe73e,_0x54361d,_0x31296b,_0x31e4ab,_0x40b58e){const _0x2aedaa=_0x2e7de5;if(_0x54361d[_0x2aedaa(0x3e7)]||(_0x54361d[_0x2aedaa(0x3e7)]={}),_0x54361d[_0x2aedaa(0x3e7)]['queries']||(_0x54361d[_0x2aedaa(0x3e7)]['queries']=[]),_0x5e6912 instanceof Array?_0x54361d[_0x2aedaa(0x3e7)][_0x2aedaa(0x4d0)][_0x2aedaa(0x67b)](..._0x5e6912):_0x54361d[_0x2aedaa(0x3e7)][_0x2aedaa(0x4d0)][_0x2aedaa(0x67b)](_0x5e6912),_0x54361d[_0x2aedaa(0x2d5)]=_0x54361d[_0x2aedaa(0x2d5)]?_0x54361d['timesCalled']+0x1:0x1,_0x28c92b(_0x54361d,_0x31296b)>_0x54361d[_0x2aedaa(0x2d5)])return;if(0x0===_0x54361d[_0x2aedaa(0x3e7)][_0x2aedaa(0x4d0)][_0x2aedaa(0x727)])throw new Error('Data\x20collection\x20block\x20is\x20missing\x20required\x20data');let _0x5ae4ae=[];const _0x17f232=Date[_0x2aedaa(0x974)]();try{let _0x5ef818=0x0,_0x447803=0x0;for(const _0x32b67a of _0x54361d['accumulated'][_0x2aedaa(0x4d0)]){const _0x41e38a=_0x54361d['retrieveBlocks'][_0x2aedaa(0x921)](_0x54a521=>_0x54a521[_0x2aedaa(0x926)]===_0x28bd1b['Prompt']),_0x398069=await _0x137d1e(_0x3f8094,_0x2187bd['threadId'],_0x32b67a,_0x41e38a,_0x54361d[_0x2aedaa(0x552)],_0x31e4ab);_0x5ae4ae=Array[_0x2aedaa(0xa4b)](new Set([..._0x5ae4ae,..._0x398069[_0x2aedaa(0x35a)]])),_0x5ef818+=_0x398069['inputTokens']??0x0,_0x447803+=_0x398069[_0x2aedaa(0x2eb)]??0x0;}_0x2fe73e[_0x2aedaa(0x8a8)]+=_0x5ef818,_0x2fe73e[_0x2aedaa(0x2eb)]+=_0x447803,_0x2fe73e[_0x2aedaa(0x35a)]=Array[_0x2aedaa(0xa4b)](new Set([..._0x2fe73e[_0x2aedaa(0x35a)],..._0x5ae4ae])),_0x24872b[_0x2aedaa(0xa32)]({'jobType':_0x41b944['Workflow'],'type':_0x34f68e[_0x2aedaa(0x828)],'jobId':_0x3f8094,'threadId':_0x2187bd[_0x2aedaa(0xa23)],'traceLevel':_0x55bac5[_0x2aedaa(0x275)],'startTime':_0x17f232,'timestamp':Date[_0x2aedaa(0x974)](),'blockId':_0x54361d['id'],'status':'success','queries':_0x54361d[_0x2aedaa(0x3e7)]['queries'],'context':_0x5ae4ae,'inputTokens':_0x5ef818,'outputTokens':_0x447803});}catch(_0x5a804c){console[_0x2aedaa(0x972)](_0x5a804c),_0x24872b[_0x2aedaa(0xa32)]({'jobType':_0x41b944[_0x2aedaa(0x3c3)],'type':_0x34f68e[_0x2aedaa(0x828)],'jobId':_0x3f8094,'threadId':_0x2187bd[_0x2aedaa(0xa23)],'traceLevel':_0x55bac5['Info'],'startTime':_0x17f232,'timestamp':Date[_0x2aedaa(0x974)](),'blockId':_0x54361d['id'],'status':'error','queries':_0x54361d[_0x2aedaa(0x3e7)]['queries'],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x3814ae(_0x5ae4ae,_0x54361d,_0x31296b),await _0x5b5950(_0x3f8094,_0x5ae4ae,_0x2187bd,_0x2fe73e,_0x54361d,_0x31296b,_0x31e4ab,_0x40b58e);}async function _0x55117e(_0x49c1d1,_0x5eea2b,_0x5c4ab6,_0x698381,_0x72682b,_0x35fca8,_0x38d40a,_0x360d66){const _0xdb394=_0x2e7de5,_0x134390=await _0x38d40a[_0xdb394(0x9e9)]['getSentences'](_0x5eea2b);await _0x5b5950(_0x49c1d1,_0x134390,_0x5c4ab6,_0x698381,_0x72682b,_0x35fca8,_0x38d40a,_0x360d66);}async function _0x55a443(_0xcf7fae,_0x488de8,_0x5e6594,_0x403938,_0x443f81,_0x370142,_0x2f0626,_0x453e6c){const _0x1a80f1=function(_0x1f84b1,_0x46f145){const _0x25cd83=a0_0x4258,_0x3d28f9=[],_0x2478c6=_0x1f84b1[_0x25cd83(0x367)]('\x20');let _0x416f16='',_0x591e16=0x0,_0x2348b2=0x0,_0x27478f=0x0;for(const _0x46a2df of _0x2478c6){if(_0x416f16[_0x25cd83(0x727)]+_0x46a2df[_0x25cd83(0x727)]>_0x46f145[_0x25cd83(0x40b)][_0x25cd83(0x777)]){let _0x25907f=_0x591e16,_0x84a3bf='';for(;_0x25907f>=0x0&&_0x84a3bf[_0x25cd83(0x727)]+_0x2478c6[_0x25907f][_0x25cd83(0x727)]<_0x46f145[_0x25cd83(0x40b)][_0x25cd83(0x634)];)_0x84a3bf=_0x2478c6[_0x25907f]+'\x20'+_0x84a3bf,_0x25907f--;let _0x80873=_0x2348b2,_0x46b875='';for(;_0x80873<_0x2478c6['length']&&_0x46b875[_0x25cd83(0x727)]+_0x2478c6[_0x80873][_0x25cd83(0x727)]<_0x46f145[_0x25cd83(0x40b)][_0x25cd83(0x634)];)_0x46b875+=_0x2478c6[_0x80873]+'\x20',_0x80873++;_0x416f16=_0x84a3bf+_0x416f16+_0x46b875,_0x3d28f9[_0x25cd83(0x67b)](_0x416f16[_0x25cd83(0x77a)]()),_0x416f16='',_0x591e16=_0x2348b2;}_0x416f16+=_0x46a2df+'\x20',_0x2348b2++,_0x27478f+=_0x46a2df[_0x25cd83(0x727)]+0x1;}if(_0x416f16[_0x25cd83(0x727)]>0x0){let _0x2a1402=_0x591e16,_0xae9971='';for(;_0x2a1402>=0x0&&_0xae9971['length']+_0x2478c6[_0x2a1402]['length']<_0x46f145[_0x25cd83(0x40b)][_0x25cd83(0x634)];)_0xae9971=_0x2478c6[_0x2a1402]+'\x20'+_0xae9971,_0x2a1402--;_0x416f16=_0xae9971+_0x416f16,_0x3d28f9[_0x25cd83(0x67b)](_0x416f16[_0x25cd83(0x77a)]());}return _0x3d28f9;}(_0x488de8,_0x443f81);await _0x5b5950(_0xcf7fae,_0x1a80f1,_0x5e6594,_0x403938,_0x443f81,_0x370142,_0x2f0626,_0x453e6c);}function _0x3814ae(_0x4bf37b,_0x2e16d5,_0x897a23,_0x1ca021){const _0x120d09=_0x2e7de5;if(_0x2e16d5[_0x120d09(0x9d9)])for(const _0x3945bf of _0x2e16d5[_0x120d09(0x9d9)]){if(_0x3945bf[_0x120d09(0x926)]!==_0x23f2a5[_0x120d09(0x38a)])continue;const _0x5d2f2c=_0x897a23['find'](_0x145fbe=>_0x145fbe[_0x120d09(0x4db)]===_0x3945bf[_0x120d09(0x4db)]);if(!_0x5d2f2c)continue;let _0x134982=_0x2e16d5['id'];switch(_0x1ca021?_0x134982=_0x1ca021:(_0x2e16d5[_0x120d09(0x926)]===_0x1f83fd[_0x120d09(0x828)]&&(_0x134982=_0x2e16d5[_0x120d09(0x243)]),_0x2e16d5[_0x120d09(0x926)]!==_0x1f83fd['Agent']&&_0x2e16d5['type']!==_0x1f83fd[_0x120d09(0x489)]&&_0x2e16d5[_0x120d09(0x926)]!==_0x1f83fd[_0x120d09(0x5b1)]||(_0x134982=_0x2e16d5[_0x120d09(0x23f)]??_0x2e16d5['name'])),_0x5d2f2c[_0x120d09(0x926)]){case _0x1f83fd[_0x120d09(0x59d)]:_0x31c6d3['forceLog'](_0x120d09(0x341),_0x5d2f2c[_0x120d09(0x243)],_0x134982),_0x5d2f2c[_0x120d09(0x3e7)]||(_0x5d2f2c[_0x120d09(0x3e7)]={}),_0x5d2f2c[_0x120d09(0x3e7)][_0x120d09(0x35a)]||(_0x5d2f2c[_0x120d09(0x3e7)][_0x120d09(0x35a)]={});const _0x1beeb8=_0x5d2f2c[_0x120d09(0x897)]?.['split'](',');if(!_0x1beeb8||!_0x1beeb8[_0x120d09(0xa49)](_0x134982))return;_0x5d2f2c[_0x120d09(0x3e7)][_0x120d09(0x35a)][_0x134982]=_0x4bf37b;break;case _0x1f83fd[_0x120d09(0x489)]:_0x31c6d3['forceLog'](_0x120d09(0x182),_0x5d2f2c[_0x120d09(0x243)],_0x134982),_0xafaa6e(_0x134982,_0x4bf37b,_0x5d2f2c);break;case _0x1f83fd['Answer']:_0x31c6d3[_0x120d09(0x3a6)](_0x120d09(0x7f8),_0x134982),_0x5216ad(_0x3945bf['type'],_0x134982,_0x4bf37b,_0x5d2f2c);break;case _0x1f83fd[_0x120d09(0x5b1)]:_0x31c6d3[_0x120d09(0x3a6)](_0x120d09(0x5d9),_0x5d2f2c[_0x120d09(0x243)],_0x134982),_0x2c930f(_0x134982,_0x4bf37b,_0x5d2f2c);}}}async function _0x5b5950(_0x4e9c51,_0x127387,_0x2c434f,_0x346792,_0x17341b,_0x56bb22,_0x1e0231,_0x1f75d8){const _0x105a1f=_0x2e7de5;if(await _0x31d9e2[_0x105a1f(0x265)](0x1),_0x17341b['links']){for(const _0x201f25 of _0x17341b[_0x105a1f(0x9d9)]){if(_0x201f25[_0x105a1f(0x926)]===_0x23f2a5[_0x105a1f(0x38a)])continue;const _0x37fff0=_0x56bb22['find'](_0x27cfd7=>_0x27cfd7['uid']===_0x201f25[_0x105a1f(0x4db)]);if(_0x37fff0)switch(_0x37fff0[_0x105a1f(0x926)]){case _0x1f83fd[_0x105a1f(0x59d)]:await _0x2cdc8e(_0x4e9c51,_0x201f25['type'],_0x127387,_0x2c434f,_0x346792,_0x37fff0,_0x56bb22,_0x1e0231,_0x1f75d8);break;case _0x1f83fd[_0x105a1f(0x7e5)]:await _0x1c5c4b(_0x4e9c51,_0x127387,_0x2c434f,_0x346792,_0x37fff0,_0x56bb22,_0x1e0231,_0x1f75d8);break;case _0x1f83fd[_0x105a1f(0x828)]:await _0x12312f(_0x4e9c51,_0x127387,_0x2c434f,_0x346792,_0x37fff0,_0x56bb22,_0x1e0231,_0x1f75d8);break;case _0x1f83fd[_0x105a1f(0x5e0)]:await _0x55117e(_0x4e9c51,_0x127387,_0x2c434f,_0x346792,_0x37fff0,_0x56bb22,_0x1e0231,_0x1f75d8);break;case _0x1f83fd['WordSplitter']:await _0x55a443(_0x4e9c51,_0x127387,_0x2c434f,_0x346792,_0x37fff0,_0x56bb22,_0x1e0231,_0x1f75d8);}}_0x17341b[_0x105a1f(0x926)]===_0x1f83fd[_0x105a1f(0x71f)]&&_0x1f75d8&&_0x1f75d8['emit'](void 0x0);}else _0x17341b[_0x105a1f(0x926)]===_0x1f83fd[_0x105a1f(0x71f)]&&_0x1f75d8&&_0x1f75d8['emit'](void 0x0);}function _0x28c92b(_0x54f782,_0x1dd19a){const _0x460b59=_0x2e7de5;let _0x493242=0x0;for(const _0x3a9d58 of _0x1dd19a)for(const _0x47f007 of _0x3a9d58[_0x460b59(0x9d9)]??[])_0x47f007[_0x460b59(0x926)]!==_0x23f2a5['Context']&&_0x47f007['type']!==_0x23f2a5[_0x460b59(0x223)]&&_0x47f007[_0x460b59(0x926)]!==_0x23f2a5[_0x460b59(0x5c2)]&&_0x47f007[_0x460b59(0x4db)]===_0x54f782[_0x460b59(0x4db)]&&_0x493242++;return _0x493242;}class _0x3e1286 extends _0x5cd2a{[_0x2e7de5(0x1cc)];[_0x2e7de5(0x9a1)];['contentMediator'];['generativeAIWorkerConnectors'];[_0x2e7de5(0x4d3)];[_0x2e7de5(0x9e9)];['searchApiKey'];[_0x2e7de5(0x2f0)];[_0x2e7de5(0x854)];[_0x2e7de5(0xa46)];[_0x2e7de5(0x32b)]=new Map();[_0x2e7de5(0xa59)]=new Map();[_0x2e7de5(0x2cf)];[_0x2e7de5(0x572)]=new Map();[_0x2e7de5(0x478)];[_0x2e7de5(0x28d)]=0x0;[_0x2e7de5(0x916)]=0x0;[_0x2e7de5(0x8fe)]=!0x1;[_0x2e7de5(0x289)]=[];['contentQueueRunning']=!0x1;constructor(_0x152b05,_0x3d27f4,_0x5eac92,_0x5f7395,_0xf63059,_0xf31cf3,_0x3a0b7a,_0x4a748f,_0x5ebdf9,_0xb0cb43){const _0x35a486=_0x2e7de5;super(_0x152b05,_0x3d27f4,_0x5f7395),this[_0x35a486(0x1cc)]=_0x152b05,this[_0x35a486(0x9a1)]=_0x5eac92,this[_0x35a486(0x22d)]=_0xf63059,this['generativeAIWorkerConnectors']=_0xf31cf3,this[_0x35a486(0x4d3)]=_0x3a0b7a,this['nlpLibraryConnector']=_0x4a748f,this[_0x35a486(0x969)]=_0x5ebdf9,this[_0x35a486(0x2f0)]=_0xb0cb43;}async[_0x2e7de5(0x736)](){const _0x30b013=_0x2e7de5;for(const _0x183564 of this['generativeAIWorkerConnectors'])await _0x183564[_0x30b013(0x6f0)]();this['modelStore']?.['unsubscribe'](this[_0x30b013(0x7b6)]),this[_0x30b013(0x32b)][_0x30b013(0x270)](_0x2f065b=>_0x2f065b[_0x30b013(0x615)](this[_0x30b013(0x7b6)])),this[_0x30b013(0x478)]&&(clearTimeout(this['debounceStats']),delete this[_0x30b013(0x478)]),super[_0x30b013(0x736)]();}async[_0x2e7de5(0x35d)](_0x65ae90=!0x1){const _0x4d2290=_0x2e7de5;if(this[_0x4d2290(0x8fe)])super[_0x4d2290(0x35d)]();else{if(_0x31c6d3[_0x4d2290(0x3a6)](_0x4d2290(0x80d),this[_0x4d2290(0x7b6)]),this['workflow']=await _0x109fe8[_0x4d2290(0x5ca)](this['vendorId'],this['label']),this['modelStore']=this[_0x4d2290(0x22d)]['getObjectStoreBucket'](this['workflow'][_0x4d2290(0x6e2)]),!this['modelStore'])throw new Error(_0x4d2290(0x1b8));this[_0x4d2290(0x9cf)](),_0x31c6d3['forceLog'](_0x4d2290(0x2b0),this[_0x4d2290(0x854)][_0x4d2290(0x572)]);for(const _0x58e447 of this[_0x4d2290(0x854)]['models'])try{let _0x469e45;_0x58e447[_0x4d2290(0x232)]===_0x564b37[_0x4d2290(0x68e)][_0x4d2290(0x8b9)]&&(_0x469e45=await this[_0x4d2290(0x791)]('/'+_0x58e447['id']+_0x5d0df4)),this[_0x4d2290(0x572)][_0x4d2290(0x7ee)](_0x58e447['id'],{'id':_0x58e447['id'],'engineType':_0x58e447['engineType'],'taskType':_0x58e447['taskType'],'inputType':_0x58e447[_0x4d2290(0x756)],'outputType':_0x58e447['outputType'],'sourceUrl':_0x58e447[_0x4d2290(0xa3c)],'pathName':_0x469e45});}catch(_0x5cf488){await this['modelStore'][_0x4d2290(0x4df)]({'action':_0x564b37['PayloadAction'][_0x4d2290(0x3c9)],'file':new File([''],''+_0x58e447['id']+_0x5d0df4),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x58e447[_0x4d2290(0xa3c)]}}),this['models']['set'](_0x58e447['id'],{'id':_0x58e447['id'],'engineType':_0x58e447[_0x4d2290(0x232)],'taskType':_0x58e447[_0x4d2290(0x271)],'inputType':_0x58e447[_0x4d2290(0x756)],'outputType':_0x58e447['outputType'],'sourceUrl':_0x58e447[_0x4d2290(0xa3c)],'pathName':await this[_0x4d2290(0x791)]('/'+_0x58e447['id']+_0x5d0df4)});}try{for(const _0x2b192b of this['generativeAIWorkerConnectors'])await _0x2b192b[_0x4d2290(0x9cd)](this[_0x4d2290(0x7b6)],this['models']);}catch(_0x5902c1){return this[_0x4d2290(0x35d)](_0x65ae90);}for(const _0x551097 of this[_0x4d2290(0x854)]['dataBucketIds'])this[_0x4d2290(0x32b)][_0x4d2290(0x7ee)](_0x551097,this[_0x4d2290(0x22d)]['getObjectStoreBucket'](_0x551097));await this[_0x4d2290(0x336)](),this[_0x4d2290(0x91a)]();for(const _0x84d820 of this[_0x4d2290(0x854)][_0x4d2290(0xa20)])this[_0x4d2290(0xa59)][_0x4d2290(0x7ee)](_0x84d820,this[_0x4d2290(0x22d)][_0x4d2290(0x9ce)](_0x84d820));await this[_0x4d2290(0x38b)](),this[_0x4d2290(0x4ab)](),this[_0x4d2290(0x8fe)]=!0x0,this[_0x4d2290(0x764)](),super[_0x4d2290(0x35d)](),_0x31c6d3['forceLog'](_0x4d2290(0x352),this[_0x4d2290(0x7b6)]);}}['reset'](){const _0xcaf96a=_0x2e7de5;this[_0xcaf96a(0x28d)]=0x0,this[_0xcaf96a(0x916)]=0x0,this[_0xcaf96a(0x764)](),super[_0xcaf96a(0x770)]();}[_0x2e7de5(0x590)](){const _0x281a70=_0x2e7de5;return this[_0x281a70(0x764)](),this[_0x281a70(0x38f)]();}[_0x2e7de5(0x878)](_0x1616fa,_0x213cd6,_0x3a3371){const _0x49f01e=_0x2e7de5,{outputTokens:_0x232cc1=0x0,output:_0x381227=''}=_0x1616fa,_0x47fc0e=_0x232cc1/((_0x3a3371-_0x213cd6)/0x3e8);this[_0x49f01e(0x28d)]+=0x1,this[_0x49f01e(0x916)]+=_0x232cc1,this['logServiceEvent'](_0x47fc0e,_0x232cc1),this[_0x49f01e(0x764)]();}[_0x2e7de5(0x52c)](_0x46c17b,_0x454372){const _0xcd1635=_0x2e7de5;return _0x46c17b[_0xcd1635(0x1fb)]=_0x46c17b['output']??'',{'type':_0xcd1635(0x7c9),'output':_0xcd1635(0x5ea)==typeof _0x46c17b[_0xcd1635(0x1fb)]&&_0xcd1635(0x5ea)==typeof _0x454372[_0xcd1635(0x1fb)]?_0x46c17b['output']+_0x454372[_0xcd1635(0x1fb)]:_0x454372[_0xcd1635(0x1fb)],'outputTokens':_0x454372[_0xcd1635(0x2eb)]??_0x46c17b['outputTokens'],'inputTokens':_0x454372[_0xcd1635(0x8a8)]??_0x46c17b[_0xcd1635(0x8a8)]};}async['internalProcessJob'](_0x40d0c4,_0x167096){const _0x531d7a=_0x2e7de5;if(this[_0x531d7a(0x854)]=await _0x109fe8[_0x531d7a(0x5ca)](this[_0x531d7a(0x9a1)],this[_0x531d7a(0x7b6)]),_0x531d7a(0x7c9)===_0x167096[_0x531d7a(0x926)]){const _0x47f865=this[_0x531d7a(0x854)][_0x531d7a(0x18b)][_0x531d7a(0x921)](_0x460495=>_0x460495[_0x531d7a(0x926)]===_0x1f83fd[_0x531d7a(0x71f)]),_0xb96bc7=await async function(_0x5bb4b7,_0x337b18,_0x597f63,_0x510a25,_0x595bcb){const _0x2d1a19=_0x531d7a,_0x46bc6c=(0x0,_0x328cbd['v4'])(),_0x535846=Date['now']();if(_0x24872b[_0x2d1a19(0xa32)]({'jobType':_0x41b944[_0x2d1a19(0x3c3)],'type':_0x34f68e[_0x2d1a19(0x98a)],'jobId':_0x5bb4b7,'blockId':_0x597f63['id'],'agentId':_0x46bc6c,'threadId':_0x337b18[_0x2d1a19(0xa23)],'traceLevel':_0x55bac5[_0x2d1a19(0x275)],'startTime':Date[_0x2d1a19(0x974)](),'timestamp':Date[_0x2d1a19(0x974)](),'status':'success','initialPrompt':_0x337b18[_0x2d1a19(0x7c9)]}),_0x337b18[_0x2d1a19(0x6d3)]){for(const _0x36d776 in _0x337b18[_0x2d1a19(0x6d3)])_0x3814ae(_0x337b18[_0x2d1a19(0x6d3)][_0x36d776],_0x597f63,_0x510a25,_0x36d776);}const _0x1e83ae={'type':_0x337b18['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x5b5950(_0x5bb4b7,''+_0x337b18[_0x2d1a19(0x7c9)],_0x337b18,_0x1e83ae,_0x597f63,_0x510a25,_0x595bcb);const {inputTokens:_0x20da16=0x0,outputTokens:_0x3fbfd7=0x0,context:_0xf3b0a3=[]}=_0x1e83ae;return _0x24872b['trace']({'jobType':_0x41b944[_0x2d1a19(0x3c3)],'type':_0x34f68e[_0x2d1a19(0x45c)],'jobId':_0x5bb4b7,'agentId':_0x46bc6c,'threadId':_0x337b18[_0x2d1a19(0xa23)],'traceLevel':_0x55bac5[_0x2d1a19(0x275)],'startTime':_0x535846,'timestamp':Date[_0x2d1a19(0x974)](),'blockId':_0x597f63['id'],'status':_0x2d1a19(0x3f4),'output':_0x1e83ae['output']?.['toString']()??'','prompt':_0x337b18['prompt'],'agentName':'','history':_0x337b18['history']??[],'instructions':''+(_0x337b18[_0x2d1a19(0x1c9)]??''),'ragContext':_0xf3b0a3,'inputTokens':_0x20da16,'outputTokens':_0x3fbfd7}),{'type':_0x337b18['type'],'output':_0x1e83ae[_0x2d1a19(0x1fb)],'context':_0x1e83ae[_0x2d1a19(0x35a)],'internalContext':_0x510a25['find'](_0x59a5ce=>_0x59a5ce[_0x2d1a19(0x926)]===_0x1f83fd['Answer'])?.['accumulated']?.[_0x2d1a19(0x35a)]??{},'inputTokens':_0x1e83ae[_0x2d1a19(0x8a8)]??0x0,'outputTokens':_0x1e83ae[_0x2d1a19(0x2eb)]??0x0};}(_0x40d0c4,_0x167096,_0x47f865,this[_0x531d7a(0x854)][_0x531d7a(0x18b)],{'documentParserConnector':this[_0x531d7a(0x4d3)],'nlpLibraryConnector':this[_0x531d7a(0x9e9)],'generativeAIWorkerConnectors':this[_0x531d7a(0xa5e)],'models':this[_0x531d7a(0x854)][_0x531d7a(0x572)],'contentMediator':this[_0x531d7a(0x22d)],'searchApiKey':this[_0x531d7a(0x969)],'searchConnector':this[_0x531d7a(0x2f0)]});return _0xb96bc7;}if(_0x531d7a(0x1d6)===_0x167096[_0x531d7a(0x926)])return _0x24872b[_0x531d7a(0xa32)]({'jobType':_0x41b944[_0x531d7a(0x404)],'type':_0x4b3773[_0x531d7a(0x516)],'jobId':_0x167096[_0x531d7a(0x337)],'threadId':_0x167096[_0x531d7a(0xa23)],'traceLevel':_0x55bac5[_0x531d7a(0x275)],'startTime':Date[_0x531d7a(0x974)](),'timestamp':Date[_0x531d7a(0x974)](),'status':_0x531d7a(0x3f4),'rating':_0x167096[_0x531d7a(0x1b4)],'feedback':_0x167096['feedback']}),{'type':_0x531d7a(0x1d6),'status':_0x564b37[_0x531d7a(0x39a)][_0x531d7a(0x848)]};if(_0x531d7a(0x4b0)===_0x167096[_0x531d7a(0x926)]){let _0x2ef7ec;const _0x30f299=this[_0x531d7a(0x32b)]['keys']();for(;!_0x2ef7ec;){const _0x2a6e3e=_0x30f299[_0x531d7a(0x632)]()[_0x531d7a(0x17e)];if(!_0x2a6e3e)throw new Error(_0x531d7a(0x382));_0x2ef7ec=this[_0x531d7a(0x32b)][_0x531d7a(0x6ba)](_0x2a6e3e);try{const _0xe724e0=await _0x2ef7ec[_0x531d7a(0x6ba)](_0x167096[_0x531d7a(0x742)]);return{'type':_0x531d7a(0x4b0),'fileName':_0xe724e0[_0x531d7a(0x243)],'mimeType':_0xe724e0[_0x531d7a(0x926)],'document':await _0xe724e0['arrayBuffer']()};}catch(_0x4f4874){continue;}}throw new Error(_0x531d7a(0x382));}throw new Error(_0x531d7a(0x7d7));}async*[_0x2e7de5(0x17b)](_0x582180,_0x10b98e){const _0x33643d=_0x2e7de5;this[_0x33643d(0x854)]=await _0x109fe8[_0x33643d(0x5ca)](this[_0x33643d(0x9a1)],this[_0x33643d(0x7b6)]);const _0x8d2ed7=this[_0x33643d(0x854)]['blocks'][_0x33643d(0x921)](_0x3c9605=>_0x3c9605[_0x33643d(0x926)]===_0x1f83fd[_0x33643d(0x71f)]);for await(const _0x326e00 of async function*(_0x31787a,_0x3156fa,_0xf0fed6,_0x577ca7,_0xd9fad2){const _0x368380=_0x33643d,_0x171e6c=(0x0,_0x328cbd['v4'])(),_0x26f871=Date['now']();if(_0x24872b[_0x368380(0xa32)]({'jobType':_0x41b944[_0x368380(0x3c3)],'type':_0x34f68e[_0x368380(0x98a)],'jobId':_0x31787a,'agentId':_0x171e6c,'threadId':_0x3156fa[_0x368380(0xa23)],'traceLevel':_0x55bac5[_0x368380(0x275)],'startTime':Date[_0x368380(0x974)](),'timestamp':Date['now'](),'blockId':_0xf0fed6['id'],'status':_0x368380(0x3f4),'initialPrompt':_0x3156fa[_0x368380(0x7c9)]}),_0x3156fa['internalContext']){for(const _0x5ab076 in _0x3156fa[_0x368380(0x6d3)])_0x3814ae(_0x3156fa['internalContext'][_0x5ab076],_0xf0fed6,_0x577ca7,_0x5ab076);}const _0x40c484={'type':_0x3156fa[_0x368380(0x926)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x4f6745=new _0x3257c1();_0x5b5950(_0x31787a,''+_0x3156fa[_0x368380(0x7c9)],_0x3156fa,_0x40c484,_0xf0fed6,_0x577ca7,_0xd9fad2,_0x4f6745);let _0x2c15d5='',_0x11e81b={'type':_0x3156fa[_0x368380(0x926)]};for(;;){const _0x3b72d5=await _0x4f6745['once']();if(!_0x3b72d5)break;_0x2c15d5+=_0x3b72d5[_0x368380(0x1fb)],_0x11e81b={'type':_0x3156fa[_0x368380(0x926)],'output':_0x3b72d5[_0x368380(0x1fb)],'context':_0x40c484['context'],'internalContext':{},'inputTokens':(_0x40c484[_0x368380(0x8a8)]??0x0)+(_0x3b72d5[_0x368380(0x8a8)]??0x0),'outputTokens':(_0x40c484['outputTokens']??0x0)+(_0x3b72d5[_0x368380(0x2eb)]??0x0)},yield _0x11e81b;}yield{..._0x11e81b,'output':'','internalContext':_0x577ca7[_0x368380(0x921)](_0x4ce296=>_0x4ce296[_0x368380(0x926)]===_0x1f83fd[_0x368380(0x551)])?.['accumulated']?.[_0x368380(0x35a)]??{}};const {inputTokens:_0x5c3764=0x0,outputTokens:_0x40a8bd=0x0,context:_0x505760=[]}=_0x11e81b;_0x24872b[_0x368380(0xa32)]({'jobType':_0x41b944[_0x368380(0x3c3)],'type':_0x34f68e['FinalOutput'],'jobId':_0x31787a,'agentId':_0x171e6c,'threadId':_0x3156fa[_0x368380(0xa23)],'traceLevel':_0x55bac5[_0x368380(0x275)],'startTime':_0x26f871,'timestamp':Date[_0x368380(0x974)](),'blockId':_0xf0fed6['id'],'status':_0x368380(0x3f4),'output':_0x2c15d5,'prompt':_0x3156fa['prompt'],'agentName':'','history':_0x3156fa[_0x368380(0x8e7)]??[],'instructions':''+(_0x3156fa['instructions']??''),'ragContext':_0x505760,'inputTokens':_0x5c3764,'outputTokens':_0x40a8bd});}(_0x582180,_0x10b98e,_0x8d2ed7,this[_0x33643d(0x854)]['blocks'],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x33643d(0x9e9)],'generativeAIWorkerConnectors':this[_0x33643d(0xa5e)],'models':this['workflow'][_0x33643d(0x572)],'contentMediator':this[_0x33643d(0x22d)],'searchApiKey':this['searchApiKey'],'searchConnector':this[_0x33643d(0x2f0)]}))yield _0x326e00;}[_0x2e7de5(0x314)](_0x2a1957,_0x2a1dcc){const _0x5b753c=_0x2e7de5;if(_0x5b753c(0x1d6)===_0x2a1dcc[_0x5b753c(0x926)])return _0x2a1957=_0x2a1dcc[_0x5b753c(0x337)],void this[_0x5b753c(0x453)](_0x2a1957);this[_0x5b753c(0x453)](_0x2a1957),_0x24872b['trace']({'jobType':_0x41b944['Job'],'type':_0x52139a[_0x5b753c(0x71d)],'traceLevel':_0x55bac5[_0x5b753c(0x275)],'jobId':_0x2a1957,'threadId':_0x2a1dcc['threadId'],'startTime':Date[_0x5b753c(0x974)](),'timestamp':Date[_0x5b753c(0x974)](),'status':_0x5b753c(0x3f4)});}[_0x2e7de5(0x993)](_0x55528a,_0x85286a){const _0x1a1953=_0x2e7de5;if(_0x1a1953(0x1d6)===_0x85286a[_0x1a1953(0x926)])return _0x55528a=_0x85286a[_0x1a1953(0x337)],void this[_0x1a1953(0x1ec)](_0x55528a);_0x24872b[_0x1a1953(0xa32)]({'jobType':_0x41b944[_0x1a1953(0x8bb)],'type':_0x52139a[_0x1a1953(0x1a3)],'traceLevel':_0x55bac5[_0x1a1953(0x275)],'jobId':_0x55528a,'threadId':_0x85286a['threadId'],'startTime':Date['now'](),'timestamp':Date[_0x1a1953(0x974)](),'status':'success'}),this['closeTrace'](_0x55528a);}async['getModel'](_0x793f05){const _0xacd238=_0x2e7de5;if(!this[_0xacd238(0xa46)])throw new Error(_0xacd238(0x1b8));const _0x44e77b=await this[_0xacd238(0xa46)][_0xacd238(0x81b)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x4b8997 of _0x44e77b)if(_0x4b8997[_0xacd238(0x9fa)]===_0x564b37[_0xacd238(0x51f)][_0xacd238(0x3c9)]&&_0x4b8997[_0xacd238(0x9d5)]===_0x793f05)return _0x4b8997[_0xacd238(0x2bd)]??_0x4b8997[_0xacd238(0x9d5)];throw new Error(_0xacd238(0x3ca)+_0x793f05);}async[_0x2e7de5(0x336)](){const _0x499cd6=_0x2e7de5;if(!this[_0x499cd6(0x854)])throw new Error(_0x499cd6(0x73a));for(const _0xc2b284 of this[_0x499cd6(0x32b)][_0x499cd6(0x20c)]())try{const _0x1610a2=this[_0x499cd6(0x854)][_0x499cd6(0x18b)][_0x499cd6(0x8bd)](_0x38d804=>(_0x38d804['type']===_0x1f83fd['DataCollection']||_0x38d804[_0x499cd6(0x926)]===_0x1f83fd[_0x499cd6(0x223)])&&_0x38d804[_0x499cd6(0x2dc)]?.['some'](_0x56c0a7=>_0x56c0a7['id']===_0xc2b284[_0x499cd6(0x5d7)]()));for(let _0x12628b=_0x1610a2['length']-0x1;_0x12628b>=0x0;_0x12628b--)for(const _0x3099f6 of _0x1610a2[_0x12628b][_0x499cd6(0x2dc)]??[])_0x3099f6[_0x499cd6(0x926)]===_0x28bd1b[_0x499cd6(0x721)]&&this['contentMediator']['getVectorDatabase'](_0x3099f6['id'])[_0x499cd6(0x171)]()&&_0x1610a2[_0x499cd6(0x329)](_0x12628b,0x1),_0x3099f6[_0x499cd6(0x926)]===_0x28bd1b[_0x499cd6(0x6ad)]&&this[_0x499cd6(0x22d)][_0x499cd6(0x6fe)](_0x3099f6['id'])[_0x499cd6(0x171)]()&&_0x1610a2[_0x499cd6(0x329)](_0x12628b,0x1);const _0x5434bb=new Map();let _0x46be33=!0x1;for(const _0x3784c7 of _0x1610a2){let _0x35648c=''+(_0x3784c7[_0x499cd6(0x44b)]??0x1);for(const _0x3dbaee of _0x3784c7[_0x499cd6(0x2dc)]??[])_0x3dbaee[_0x499cd6(0x926)]===_0x28bd1b[_0x499cd6(0x59d)]&&(_0x35648c=_0x35648c+'-'+(_0x3dbaee[_0x499cd6(0x44b)]??0x1));for(const _0x118e3f of _0x3784c7[_0x499cd6(0x2dc)]??[])_0x118e3f[_0x499cd6(0x926)]===_0x28bd1b[_0x499cd6(0x721)]&&_0x5434bb['set'](_0x118e3f['id'],{'version':_0x35648c,'getDatabase':this[_0x499cd6(0x22d)][_0x499cd6(0x4f5)][_0x499cd6(0x32d)](this[_0x499cd6(0x22d)]),'block':_0x118e3f}),_0x118e3f[_0x499cd6(0x926)]===_0x28bd1b['GraphDatabase']&&_0x5434bb[_0x499cd6(0x7ee)](_0x118e3f['id'],{'version':_0x35648c,'getDatabase':this['contentMediator'][_0x499cd6(0x6fe)][_0x499cd6(0x32d)](this[_0x499cd6(0x22d)]),'block':_0x118e3f});}for(const {getDatabase:_0x2e6b01,block:_0x4f28a1,version:_0x26a99c}of _0x5434bb[_0x499cd6(0x20c)]())try{const _0x9cc288=_0x2e6b01(_0x4f28a1['id']);_0x9cc288[_0x499cd6(0x1f1)](_0x26a99c),_0x9cc288[_0x499cd6(0x529)](!0x0),_0x46be33=!0x0;}catch(_0x2248e7){_0x46be33=!0x1;break;}if(_0x31c6d3[_0x499cd6(0x3a6)](_0x499cd6(0x9f1)),_0x46be33)continue;_0x31c6d3[_0x499cd6(0x3a6)](_0x499cd6(0x60d));const _0x3ab9e6=await _0xc2b284[_0x499cd6(0x81b)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x499cd6(0x6c4)](_0x5a6a15['ObjectStorage'],_0xc2b284['getName'](),_0x3ab9e6);for(const {getDatabase:_0x163100,block:_0x3f78c2,version:_0x30d07a}of _0x5434bb[_0x499cd6(0x20c)]()){const _0x45522b=_0x163100(_0x3f78c2['id']);_0x45522b[_0x499cd6(0x3cc)](_0x30d07a),_0x45522b['setIsLoaded'](!0x0);}}catch(_0x233fa1){_0x31c6d3[_0x499cd6(0x972)](_0x499cd6(0x41f),{'nodeId':this[_0x499cd6(0x1cc)][_0x499cd6(0x2ab)](),'nodeType':this[_0x499cd6(0x1cc)]['type']});}}async[_0x2e7de5(0x38b)](){const _0x8d6c83=_0x2e7de5;for(const _0x593876 of this[_0x8d6c83(0xa59)][_0x8d6c83(0x20c)]())try{const _0xe5b620=await _0x593876[_0x8d6c83(0x81b)]('/',{'recursive':!0x0});await this['syncFolder'](_0x5a6a15['ExternalStorage'],_0x593876[_0x8d6c83(0x5f9)](),_0xe5b620);}catch(_0x6c86c3){_0x31c6d3[_0x8d6c83(0x972)](_0x8d6c83(0x760),{'nodeId':this[_0x8d6c83(0x1cc)][_0x8d6c83(0x2ab)](),'nodeType':this[_0x8d6c83(0x1cc)][_0x8d6c83(0x926)]});}}async[_0x2e7de5(0x6c4)](_0x2d0ff6,_0x3e2d9a,_0x17b18d){const _0x25ad9e=_0x2e7de5;for(const _0x40df0a of _0x17b18d){if(_0x40df0a[_0x25ad9e(0x9fa)]===_0x564b37[_0x25ad9e(0x51f)][_0x25ad9e(0x5da)]){if(!_0x40df0a['entries']||0x0===_0x40df0a[_0x25ad9e(0x4d1)][_0x25ad9e(0x727)])continue;await this[_0x25ad9e(0x6c4)](_0x2d0ff6,_0x3e2d9a,_0x40df0a[_0x25ad9e(0x4d1)]);}_0x40df0a[_0x25ad9e(0x9fa)]===_0x564b37[_0x25ad9e(0x51f)][_0x25ad9e(0x3c9)]&&this['addContent'](_0x2d0ff6,_0x3e2d9a,_0x40df0a['pathName']);}return new Promise(_0x25e902=>{const _0x265a35=_0x25ad9e,_0x5248ff=_0x31d9e2[_0x265a35(0x6bd)](()=>{const _0x243763=_0x265a35;0x0===this[_0x243763(0x289)][_0x243763(0x727)]&&(_0x5248ff(),_0x25e902());},0x1388);});}['subscribeToLocalContent'](){const _0x2563f4=_0x2e7de5;for(const _0x245476 of this[_0x2563f4(0x32b)][_0x2563f4(0x20c)]())_0x245476[_0x2563f4(0x683)](this[_0x2563f4(0x7b6)],async _0x4d60c9=>{const _0x34fc06=_0x2563f4;switch(_0x4d60c9[_0x34fc06(0x58c)]){case _0x564b37[_0x34fc06(0x7de)][_0x34fc06(0x700)]:this[_0x34fc06(0x4c0)](_0x5a6a15['ObjectStorage'],_0x245476[_0x34fc06(0x5f9)](),_0x4d60c9['payload']['file']['pathName']),this['addContent'](_0x5a6a15['ObjectStorage'],_0x245476[_0x34fc06(0x5f9)](),_0x4d60c9['payload'][_0x34fc06(0x9de)][_0x34fc06(0x9d5)]);break;case _0x564b37[_0x34fc06(0x7de)][_0x34fc06(0x315)]:this[_0x34fc06(0x4c0)](_0x5a6a15[_0x34fc06(0x759)],_0x245476[_0x34fc06(0x5f9)](),_0x4d60c9[_0x34fc06(0x470)][_0x34fc06(0x9d5)]);}});}['subscribeToExternalContent'](){const _0x527be4=_0x2e7de5;for(const _0x4fcf58 of this[_0x527be4(0xa59)][_0x527be4(0x20c)]())_0x4fcf58[_0x527be4(0x683)](this[_0x527be4(0x7b6)],async _0x5cacf4=>{const _0x3e1a30=_0x527be4;switch(_0x5cacf4[_0x3e1a30(0x58c)]){case _0x564b37[_0x3e1a30(0x7de)][_0x3e1a30(0x700)]:this[_0x3e1a30(0x4c0)](_0x5a6a15[_0x3e1a30(0x5fd)],_0x4fcf58['getName'](),_0x5cacf4['payload'][_0x3e1a30(0x9de)][_0x3e1a30(0x9d5)]),this['addContent'](_0x5a6a15['ExternalStorage'],_0x4fcf58[_0x3e1a30(0x5f9)](),_0x5cacf4[_0x3e1a30(0x470)][_0x3e1a30(0x9de)]['pathName']);break;case _0x564b37[_0x3e1a30(0x7de)][_0x3e1a30(0x315)]:this[_0x3e1a30(0x4c0)](_0x5a6a15[_0x3e1a30(0x5fd)],_0x4fcf58['getName'](),_0x5cacf4[_0x3e1a30(0x470)][_0x3e1a30(0x9d5)]);}});}[_0x2e7de5(0x548)](_0x2218ee,_0xe287fe,_0x1467a9){const _0x145a57=_0x2e7de5;this['contentQueue'][_0x145a57(0x67b)]({'type':'add','storageType':_0x2218ee,'storeId':_0xe287fe,'pathName':_0x1467a9}),this['processContentQueue']();}[_0x2e7de5(0x4c0)](_0x313ad1,_0x315c8d,_0x359052){const _0x57db20=_0x2e7de5;this[_0x57db20(0x289)][_0x57db20(0x67b)]({'type':_0x57db20(0x2b2),'storageType':_0x313ad1,'storeId':_0x315c8d,'pathName':_0x359052}),this[_0x57db20(0x2df)]();}async[_0x2e7de5(0x2df)](){const _0x420355=_0x2e7de5;if(!this[_0x420355(0x730)]){try{this[_0x420355(0x730)]=!0x0;const _0x3dcdce=this[_0x420355(0x289)][_0x420355(0x242)]();if(!_0x3dcdce)return;'add'===_0x3dcdce['type']?await this[_0x420355(0x48a)](_0x3dcdce[_0x420355(0x540)],_0x3dcdce[_0x420355(0x893)],_0x3dcdce[_0x420355(0x9d5)]):this['processRemoveContent'](_0x3dcdce[_0x420355(0x540)],_0x3dcdce[_0x420355(0x893)],_0x3dcdce['pathName']);}catch(_0x1e1061){_0x31c6d3[_0x420355(0x972)](_0x420355(0x294),{'nodeId':this[_0x420355(0x1cc)]['getId'](),'nodeType':this['localNode']['type']});}this[_0x420355(0x730)]=!0x1,this['contentQueue'][_0x420355(0x727)]>0x0&&this[_0x420355(0x2df)]();}}async['processAddContent'](_0x5a2c40,_0x8c65,_0x2f2506){const _0x46a801=_0x2e7de5;if(_0x31c6d3[_0x46a801(0x3a6)](_0x46a801(0x548),_0x5a2c40,_0x8c65,_0x2f2506),!this[_0x46a801(0x854)])throw new Error(_0x46a801(0x73a));let _0x316dca;switch(_0x5a2c40){case _0x5a6a15[_0x46a801(0x759)]:_0x316dca=_0x28bd1b['ObjectStorageUpload'];break;case _0x5a6a15[_0x46a801(0x5fd)]:_0x316dca=_0x28bd1b[_0x46a801(0x320)];}if(!_0x316dca)return;const _0x5e91de=this[_0x46a801(0x854)]['blocks'][_0x46a801(0x8bd)](_0x10fab7=>_0x10fab7['type']===_0x1f83fd[_0x46a801(0x223)]||_0x10fab7[_0x46a801(0x926)]===_0x1f83fd['DataCollection']),_0x41a04e=new Set(_0x5e91de[_0x46a801(0x28b)](_0xf005bf=>_0xf005bf['id'])),_0x4a8955=_0x5e91de[_0x46a801(0x8bd)](_0x1c9897=>_0x1c9897['ingestBlocks']?.[_0x46a801(0x363)](_0x5d51e7=>_0x5d51e7[_0x46a801(0x926)]===_0x316dca&&_0x5d51e7['id']===_0x8c65));for(const _0x597fb2 of _0x4a8955){if(!_0x41a04e[_0x46a801(0x1a4)](_0x597fb2['id']))continue;_0x41a04e['delete'](_0x597fb2['id']);const _0x5a5989=_0x597fb2[_0x46a801(0x2dc)]?.[_0x46a801(0x921)](_0x31731b=>_0x31731b[_0x46a801(0x926)]===_0x316dca&&_0x31731b['id']===_0x8c65);_0x5a5989&&_0x1237dc['add'](this[_0x46a801(0x7b6)],async()=>{const _0x23d86c=_0x46a801,_0x39edaa=(0x0,_0x328cbd['v4'])();_0x24872b[_0x23d86c(0x453)](null,_0x39edaa),await _0x59c3dd(_0x39edaa,_0x2f2506,_0x5a5989,_0x597fb2[_0x23d86c(0x2dc)],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x23d86c(0x9e9)],'generativeAIWorkerConnectors':this[_0x23d86c(0xa5e)],'models':this['workflow'][_0x23d86c(0x572)],'contentMediator':this['contentMediator'],'searchApiKey':this['searchApiKey'],'version':_0x597fb2[_0x23d86c(0x44b)]??0x1}),_0x24872b['closeTrace'](_0x39edaa);});}this[_0x46a801(0x764)]();}['processRemoveContent'](_0x4d7085,_0x528ea4,_0x3aad67){const _0x127f5a=_0x2e7de5;if(_0x31c6d3['forceLog']('removeContent',_0x4d7085,_0x528ea4,_0x3aad67),!this[_0x127f5a(0x854)])throw new Error(_0x127f5a(0x73a));let _0xb6975;switch(_0x4d7085){case _0x5a6a15['ObjectStorage']:_0xb6975=_0x28bd1b[_0x127f5a(0x77c)];break;case _0x5a6a15[_0x127f5a(0x5fd)]:_0xb6975=_0x28bd1b[_0x127f5a(0x320)];}if(!_0xb6975)return;const _0x53559f=this['workflow'][_0x127f5a(0x18b)][_0x127f5a(0x8bd)](_0x5cc596=>_0x5cc596[_0x127f5a(0x926)]===_0x1f83fd[_0x127f5a(0x223)]||_0x5cc596['type']===_0x1f83fd['DataCollection']),_0x4d2d46=new Set(_0x53559f[_0x127f5a(0x28b)](_0x2588f2=>_0x2588f2['id'])),_0xa75ab8=_0x53559f['filter'](_0x33997f=>_0x33997f[_0x127f5a(0x2dc)]?.[_0x127f5a(0x363)](_0x1dbf5d=>_0x1dbf5d['type']===_0xb6975&&_0x1dbf5d['id']===_0x528ea4));for(const _0x5346f4 of _0xa75ab8){if(!_0x4d2d46['has'](_0x5346f4['id']))continue;_0x4d2d46[_0x127f5a(0x428)](_0x5346f4['id']);let _0x1255c5=''+(_0x5346f4['version']??0x1);for(const _0x1ea467 of _0x5346f4[_0x127f5a(0x2dc)]??[])_0x1ea467[_0x127f5a(0x926)]===_0x28bd1b[_0x127f5a(0x59d)]&&(_0x1255c5=_0x1255c5+'-'+(_0x1ea467[_0x127f5a(0x44b)]??0x1));for(const _0x28709e of _0x5346f4[_0x127f5a(0x2dc)]??[]){if(_0x28709e[_0x127f5a(0x926)]===_0x28bd1b['VectorDatabase']){const _0x1dee0d=this['contentMediator'][_0x127f5a(0x4f5)](_0x28709e['id']);_0x1dee0d['remove'](_0x3aad67),_0x1dee0d[_0x127f5a(0x171)]()&&_0x1dee0d[_0x127f5a(0x3cc)](_0x1255c5);}if(_0x28709e['type']===_0x28bd1b[_0x127f5a(0x6ad)]){const _0x154047=this['contentMediator'][_0x127f5a(0x6fe)](_0x28709e['id']);_0x154047[_0x127f5a(0x2b2)](_0x3aad67),_0x154047[_0x127f5a(0x171)]()&&_0x154047[_0x127f5a(0x3cc)](_0x1255c5);}}}this['sendStats']();}[_0x2e7de5(0x38f)](){const _0x28316e=_0x2e7de5;try{return this[_0x28316e(0x4b7)][_0x28316e(0x958)]()[_0x28316e(0x909)][_0x28316e(0x1a0)]*(0x1-this[_0x28316e(0x4b7)][_0x28316e(0x958)]()[_0x28316e(0x909)][_0x28316e(0x55f)]);}catch(_0x68ebdb){return _0x31c6d3[_0x28316e(0x65c)](_0x2387f2[_0x28316e(0x6fa)],_0x28316e(0x3b3),_0x68ebdb),0x0;}}['sendStats'](){const _0x201f23=_0x2e7de5;this[_0x201f23(0x8fe)]&&(this['debounceStats']&&clearTimeout(this[_0x201f23(0x478)]),this[_0x201f23(0x478)]=setTimeout(async()=>{const _0x192523=_0x201f23;if(delete this[_0x192523(0x478)],!this['modelStore'])return;let _0x2e40e2=await this[_0x192523(0xa46)][_0x192523(0x92f)]();for(const _0x324533 of this['dataStores'][_0x192523(0x20c)]())_0x2e40e2+=await _0x324533['getSize']();this[_0x192523(0x24d)][_0x192523(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b['Content'],'content':{'type':_0x5ba456[_0x192523(0x9bb)],'label':this['label'],'stats':{'timestamp':Date[_0x192523(0x974)](),'storage':_0x2e40e2,'messagesSent':this[_0x192523(0x7a2)],'messagesReceived':this[_0x192523(0x31f)],'bytesSent':this[_0x192523(0x3e0)],'bytesReceived':this[_0x192523(0x1be)],'writes':0x0,'reads':0x0,'prompts':this[_0x192523(0x28d)],'tokens':this['tokens']}}});},_0x91f37e));}[_0x2e7de5(0xa10)](_0x11f9a6,_0x2efad1){const _0x190725=_0x2e7de5,_0x9f4303=this[_0x190725(0x7b6)],_0x4a342c=this[_0x190725(0x830)]();_0x31c6d3[_0x190725(0xa10)](_0x45bb51[_0x190725(0x24b)],{'topic':_0x9f4303,'type':_0x190725(0x1f5),'nodeId':_0x4a342c,'tokenCount':_0x2efad1,'tokensPerSecond':_0x11f9a6});}[_0x2e7de5(0x453)](_0x5f281a){const _0x52e0bd=_0x2e7de5;try{if(!this['workflow'])throw new Error(_0x52e0bd(0x73a));if(!this[_0x52e0bd(0x2cf)])throw new Error(_0x52e0bd(0x4e6));if(!_0x24872b[_0x52e0bd(0x453)](this[_0x52e0bd(0x2cf)],_0x5f281a))throw new Error(_0x52e0bd(0x4fc));return _0x5f281a;}catch(_0x5877c9){return console[_0x52e0bd(0x972)](_0x52e0bd(0x4fc),_0x5877c9),_0x52e0bd(0x25b);}}[_0x2e7de5(0x1ec)](_0x92cfe5){const _0x5e5329=_0x2e7de5;try{_0x24872b[_0x5e5329(0x1ec)](_0x92cfe5);}catch(_0x1b8e29){console[_0x5e5329(0x972)](_0x5e5329(0x85d),{'jobId':_0x92cfe5,'error':_0x1b8e29});}}async[_0x2e7de5(0x9cf)](){return new Promise(_0x54e1d4=>{const _0xdfa3de=a0_0x4258;try{const _0x3e3fd2=_0x4126d8(this[_0xdfa3de(0x9a1)],this[_0xdfa3de(0x7b6)]);this[_0xdfa3de(0x2cf)]=this[_0xdfa3de(0x22d)][_0xdfa3de(0x177)](_0x3e3fd2),this[_0xdfa3de(0x2cf)][_0xdfa3de(0x683)](({event:_0x426147})=>{const _0x8045bb=_0xdfa3de;_0x426147===_0x564b37[_0x8045bb(0x698)][_0x8045bb(0x3fe)]&&(this['loggingDb'][_0x8045bb(0x615)](),_0x54e1d4());});}catch(_0x36c8ef){console[_0xdfa3de(0x972)](_0xdfa3de(0x593)+_0x4126d8(this[_0xdfa3de(0x9a1)],this['label'])+_0xdfa3de(0x8b2),_0x36c8ef),_0x54e1d4();}});}}class _0x264f9b extends _0x231971{['localNode'];['clusterId'];['vendorId'];['db'];[_0x2e7de5(0x478)];[_0x2e7de5(0x4e4)]=0x0;[_0x2e7de5(0x58a)]=0x0;[_0x2e7de5(0x508)]=!0x1;constructor(_0x53ca41,_0x1f3d5d,_0x2c9e33,_0x9c4a5e,_0x2eec29){const _0x761e39=_0x2e7de5;if(_0x761e39(0x5ea)!=typeof _0x1f3d5d)throw new _0x412649(_0xa32e41[_0x761e39(0x3a9)],_0x761e39(0x186));super(_0x53ca41,_0x1f3d5d),this[_0x761e39(0x1cc)]=_0x53ca41,this[_0x761e39(0x966)]=_0x2c9e33,this[_0x761e39(0x9a1)]=_0x9c4a5e;const _0x313091=_0x761e39(0x497)+this[_0x761e39(0x9a1)]+'ccc'+this[_0x761e39(0x966)]+'ccc'+this[_0x761e39(0x7b6)];this['db']=new _0x2eec29(_0x313091),this[_0x761e39(0x764)]();}[_0x2e7de5(0x171)](){const _0x1e28d9=_0x2e7de5;return this[_0x1e28d9(0x508)];}[_0x2e7de5(0x529)](_0x36440b){const _0x331efb=_0x2e7de5;this[_0x331efb(0x508)]=_0x36440b;}[_0x2e7de5(0x736)](){const _0x2f3da4=_0x2e7de5;clearTimeout(this[_0x2f3da4(0x478)]),delete this[_0x2f3da4(0x478)],super[_0x2f3da4(0x736)]();}[_0x2e7de5(0x6f0)](){const _0x532d72=_0x2e7de5;this[_0x532d72(0x24d)]['publish']({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x532d72(0x938)],'content':{'type':_0x5ba456[_0x532d72(0x8ce)],'label':this[_0x532d72(0x7b6)]}});}['getContentType'](){const _0x30ce28=_0x2e7de5;return _0x564b37[_0x30ce28(0x8c6)][_0x30ce28(0x6ad)];}[_0x2e7de5(0x770)](){this['sendStats']();}[_0x2e7de5(0x370)](_0x14a055,_0x3ea719,_0x1cbf46,_0x1167e2){const _0x3790c7=_0x2e7de5;this['db'][_0x3790c7(0x370)](_0x14a055,_0x3ea719,_0x1cbf46,_0x1167e2),this[_0x3790c7(0x4e4)]+=0x1,this[_0x3790c7(0x764)]();}[_0x2e7de5(0x220)](_0x157953,_0x141c3c){const _0x3e074e=_0x2e7de5;this['db']['addEdge'](_0x157953,_0x141c3c),this[_0x3e074e(0x4e4)]+=0x1,this[_0x3e074e(0x764)]();}[_0x2e7de5(0x170)](_0x445522,_0x3718a4,_0x4ba05f){const _0x31e425=_0x2e7de5,_0x38fa70=this['db']['getContent'](_0x445522,_0x3718a4,_0x4ba05f);return this[_0x31e425(0x58a)]+=0x1,_0x31c6d3[_0x31e425(0xa10)](_0x45bb51[_0x31e425(0x6ad)],{'type':_0x31e425(0x92c),'label':this[_0x31e425(0x7b6)],'nodeId':this[_0x31e425(0x1cc)][_0x31e425(0x2ab)](),'nodeType':this['localNode'][_0x31e425(0x926)],'clusterId':this[_0x31e425(0x966)],'size':0x0}),this[_0x31e425(0x764)](),_0x38fa70;}[_0x2e7de5(0x2b2)](_0x39ac15){const _0x2c1f7e=_0x2e7de5;this['db']['remove'](_0x39ac15),this[_0x2c1f7e(0x4e4)]+=0x1,this[_0x2c1f7e(0x764)]();}[_0x2e7de5(0x3cc)](_0x4ad617){const _0x53c742=_0x2e7de5;this['db'][_0x53c742(0x3cc)](_0x4ad617);}[_0x2e7de5(0x1f1)](_0x5522c9){const _0x115194=_0x2e7de5;this['db'][_0x115194(0x1f1)](_0x5522c9);}[_0x2e7de5(0x764)](){const _0x5e22d8=_0x2e7de5;this[_0x5e22d8(0x478)]&&clearTimeout(this[_0x5e22d8(0x478)]),this[_0x5e22d8(0x478)]=setTimeout(async()=>{const _0x1796e6=_0x5e22d8;delete this[_0x1796e6(0x478)];const _0x579dac=this['db'][_0x1796e6(0x92f)]();this['systemTopic'][_0x1796e6(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x1796e6(0x938)],'content':{'type':_0x5ba456[_0x1796e6(0x3b4)],'label':this[_0x1796e6(0x7b6)],'stats':{'timestamp':Date[_0x1796e6(0x974)](),'storage':_0x579dac,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x1796e6(0x31f)],'bytesSent':this[_0x1796e6(0x3e0)],'bytesReceived':this[_0x1796e6(0x1be)],'writes':this[_0x1796e6(0x4e4)],'reads':this[_0x1796e6(0x58a)],'prompts':0x0,'tokens':0x0}}}),_0x31c6d3[_0x1796e6(0x8d0)](_0x45bb51[_0x1796e6(0x6ad)],_0x1796e6(0x497)+this[_0x1796e6(0x966)]+_0x1796e6(0x497)+this[_0x1796e6(0x7b6)],_0x579dac);},_0x91f37e);}}class _0x3b8b6e extends _0x5289ef{['mediaStream'];constructor(_0x8d79d4,_0x24c2ad,_0x570f09){super(_0x8d79d4,_0x24c2ad),this['mediaStream']=_0x570f09;}['getContentType'](){const _0x2e42a7=_0x2e7de5;return _0x564b37[_0x2e42a7(0x8c6)][_0x2e42a7(0x5f7)];}[_0x2e7de5(0x32a)](){return this['mediaStream'];}[_0x2e7de5(0x931)](){const _0x3e6cc8=_0x2e7de5;return this[_0x3e6cc8(0x994)]['id'];}}class _0xab208d extends _0x3b8b6e{[_0x2e7de5(0x9cc)];['params'];[_0x2e7de5(0x9e0)];[_0x2e7de5(0x7dc)]=_0x41b504();constructor(_0x5f55e1,_0x21a962,_0x5724b9,_0x59f4ce,_0x12e8b7){const _0x50470a=_0x2e7de5;super(_0x5f55e1,_0x21a962,_0x5724b9),this[_0x50470a(0x9cc)]=_0x59f4ce,this[_0x50470a(0x987)]=_0x12e8b7;}[_0x2e7de5(0x736)](){const _0xa25205=_0x2e7de5;this[_0xa25205(0x743)](_0xa25205(0x20a)),this[_0xa25205(0x743)]('video'),super[_0xa25205(0x736)]();}[_0x2e7de5(0x835)](_0x158077){const _0x28a522=_0x2e7de5;if(!this[_0x28a522(0x9e0)])throw new _0x26bf2d(_0x26bf2d['codes'][_0x28a522(0x175)],{'label':this[_0x28a522(0x7b6)],'ownerId':this[_0x28a522(0x1a7)]['getId'](),'remoteId':this[_0x28a522(0x9cc)]});this['topic'][_0x28a522(0x4df)]({'sourceId':this['owner'][_0x28a522(0x2ab)](),'content':{'action':_0xa17486[_0x28a522(0x6b5)],'track':_0x158077,'stream':this['mediaStream'],'priority':_0x564b37[_0x28a522(0x964)][_0x28a522(0x981)],'params':this[_0x28a522(0x50e)](_0x158077[_0x28a522(0x9fa)],this[_0x28a522(0x987)])}});}['removeTrack'](_0x3ae853){const _0x783d26=_0x2e7de5,_0x1c4a05=this[_0x783d26(0xa70)](_0x3ae853);if(_0x1c4a05){if(!this[_0x783d26(0x9e0)])return null;this[_0x783d26(0x9e0)]['publish']({'sourceId':this[_0x783d26(0x1a7)]['getId'](),'content':{'action':_0xa17486['Remove'],'track':_0x1c4a05,'stream':this[_0x783d26(0x994)]}});}return _0x1c4a05;}[_0x2e7de5(0x549)](_0x729103){const _0x155d36=_0x2e7de5;if(!this[_0x155d36(0x9e0)])throw new _0x26bf2d(_0x26bf2d[_0x155d36(0x269)][_0x155d36(0x175)],{'label':this[_0x155d36(0x7b6)],'ownerId':this[_0x155d36(0x1a7)][_0x155d36(0x2ab)](),'remoteId':this[_0x155d36(0x9cc)]});this[_0x155d36(0x9e0)][_0x155d36(0x4df)]({'sourceId':this[_0x155d36(0x1a7)]['getId'](),'content':{'action':_0xa17486['Update'],'priority':_0x729103,'stream':this[_0x155d36(0x994)]}});}['subscribe']({trackKinds:_0x1f852c,params:_0x2b6be0},_0x5d3aa4){const _0x1bfa98=_0x2e7de5;if(!this[_0x1bfa98(0x9e0)])throw new _0x26bf2d(_0x26bf2d[_0x1bfa98(0x269)][_0x1bfa98(0x175)],{'label':this[_0x1bfa98(0x7b6)],'ownerId':this['owner'][_0x1bfa98(0x2ab)](),'remoteId':this['remoteId']});for(const _0x1f636b of this['mediaStream']['getTracks']())_0x1f852c[_0x1bfa98(0xa49)](_0x1f636b['kind'])&&this[_0x1bfa98(0x9e0)][_0x1bfa98(0x4df)]({'sourceId':this[_0x1bfa98(0x1a7)][_0x1bfa98(0x2ab)](),'content':{'action':_0xa17486['Add'],'track':_0x1f636b,'stream':this[_0x1bfa98(0x994)],'priority':_0x5d3aa4,'params':this[_0x1bfa98(0x50e)](_0x1f636b['kind'],_0x2b6be0)}});}[_0x2e7de5(0x746)]({params:_0x56f957}){const _0x5b3f93=_0x2e7de5;if(!this['topic'])throw new _0x26bf2d(_0x26bf2d[_0x5b3f93(0x269)][_0x5b3f93(0x175)],{'label':this[_0x5b3f93(0x7b6)],'ownerId':this[_0x5b3f93(0x1a7)][_0x5b3f93(0x2ab)](),'remoteId':this['remoteId']});for(const _0x54743a of this[_0x5b3f93(0x994)][_0x5b3f93(0x527)]())this[_0x5b3f93(0x9e0)]['publish']({'sourceId':this['owner']['getId'](),'content':{'action':_0xa17486[_0x5b3f93(0xa0e)],'stream':this[_0x5b3f93(0x994)],'params':this[_0x5b3f93(0x50e)](_0x54743a[_0x5b3f93(0x9fa)],_0x56f957)}});}['unsubscribe']({trackKinds:_0x287eb4}){const _0x42e432=_0x2e7de5;if(this[_0x42e432(0x9e0)]){for(const _0x2b44d1 of this['mediaStream'][_0x42e432(0x527)]())_0x287eb4['includes'](_0x2b44d1[_0x42e432(0x9fa)])&&this[_0x42e432(0x9e0)][_0x42e432(0x4df)]({'sourceId':this['owner']['getId'](),'content':{'action':_0xa17486[_0x42e432(0x890)],'stream':this[_0x42e432(0x994)],'track':_0x2b44d1}});}}[_0x2e7de5(0x32e)](_0x19e9c0){const _0x1d144d=_0x2e7de5;this[_0x1d144d(0x9e0)]=_0x19e9c0;}['unregisterPublisher'](_0xd9fdbd){const _0x2079f2=_0x2e7de5;_0xd9fdbd===this['topic']&&(delete this[_0x2079f2(0x9e0)],this[_0x2079f2(0x7dc)][_0x2079f2(0x4df)]());}['onUnregisterPublisher'](_0x54b250){const _0x29a05f=_0x2e7de5;return this[_0x29a05f(0x7dc)][_0x29a05f(0x683)](_0x54b250);}['getTrack'](_0x352f9c){const _0x4056d3=_0x2e7de5;return this['mediaStream'][_0x4056d3(0x527)]()[_0x4056d3(0x921)](_0x525b8c=>_0x525b8c[_0x4056d3(0x9fa)]===_0x352f9c)||null;}['getInternalTrackParams'](_0x5f30f0,_0x297e9e){const _0x246474=_0x2e7de5;let _0x3b0a75;return'video'===_0x5f30f0&&_0x297e9e?.['video']&&_0x246474(0x5d2)!=typeof _0x297e9e[_0x246474(0x6ed)]&&(_0x3b0a75={'kind':_0x246474(0x6ed),..._0x297e9e[_0x246474(0x6ed)]},_0x3b0a75[_0x246474(0x75d)]=this[_0x246474(0x4ac)]()),'audio'===_0x5f30f0&&_0x297e9e?.['audio']&&_0x246474(0x5d2)!=typeof _0x297e9e[_0x246474(0x20a)]&&(_0x3b0a75={'kind':_0x246474(0x20a),..._0x297e9e[_0x246474(0x20a)]}),_0x3b0a75;}[_0x2e7de5(0x4ac)](){const _0x449f41=_0x2e7de5;let _0x2ec349={'width':0x0,'height':0x0};const _0x4a759a=this[_0x449f41(0x994)][_0x449f41(0x27c)]();if(_0x4a759a[_0x449f41(0x727)]>0x0){const _0x398463=_0x4a759a[0x0]['getSettings']();_0x398463['width']&&_0x398463[_0x449f41(0x3c0)]&&(_0x2ec349={'width':_0x398463[_0x449f41(0x381)],'height':_0x398463[_0x449f41(0x3c0)]});}return _0x2ec349;}}class _0x215f88 extends _0x3b8b6e{[_0x2e7de5(0x966)];[_0x2e7de5(0x2a5)]=_0x564b37[_0x2e7de5(0x964)][_0x2e7de5(0x981)];[_0x2e7de5(0x1eb)]=new Map();[_0x2e7de5(0xa0a)]=new Map();constructor(_0x1ff3ce,_0x484adf,_0x81e745,_0x3ac935){const _0x41e374=_0x2e7de5;super(_0x1ff3ce,_0x484adf,_0x81e745 instanceof MediaStream?_0x81e745:_0x81e745[_0x41e374(0x36e)]?_0x81e745[_0x41e374(0x36e)]:_0x81e745['captureStream']()),this['clusterId']=_0x3ac935,this[_0x41e374(0x994)]['getTracks']()[_0x41e374(0x270)](_0x7ca506=>this[_0x41e374(0x6bb)](_0x7ca506)),_0x31c6d3['logServiceEvent'](_0x45bb51[_0x41e374(0x739)],{'type':_0x41e374(0x4df),'label':this[_0x41e374(0x7b6)],'nodeId':this['owner']['getId'](),'nodeType':this[_0x41e374(0x1a7)]['type'],'clusterId':this['clusterId'],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x41e374(0x994)]['getTracks']()['map'](_0x830456=>_0x830456[_0x41e374(0x9fa)])});}[_0x2e7de5(0x736)](){const _0x1a20a5=_0x2e7de5;this[_0x1a20a5(0xa0a)][_0x1a20a5(0x777)]>0x0&&(this[_0x1a20a5(0xa0a)][_0x1a20a5(0x270)](_0x5c6b10=>{const _0x3ed467=_0x1a20a5;_0x5c6b10[_0x3ed467(0x910)](),_0x5c6b10[_0x3ed467(0x736)]();}),this[_0x1a20a5(0xa0a)][_0x1a20a5(0x2a0)]()),this[_0x1a20a5(0x1eb)][_0x1a20a5(0x270)](_0x1592c3=>_0x1592c3()),super[_0x1a20a5(0x736)]();}[_0x2e7de5(0x4df)](_0x1ba922){const _0x28c455=_0x2e7de5;this[_0x28c455(0x24d)][_0x28c455(0x4df)]({'sourceId':this[_0x28c455(0x1a7)][_0x28c455(0x2ab)](),'destinationIds':_0x1ba922?[_0x1ba922]:void 0x0,'propagate':!0x0,'messageType':_0x31418b[_0x28c455(0x938)],'content':{'type':_0x5ba456[_0x28c455(0x3d3)],'ownerId':this[_0x28c455(0x1a7)][_0x28c455(0x2ab)](),'label':this[_0x28c455(0x7b6)],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this[_0x28c455(0x994)][_0x28c455(0x527)]()['map'](_0x487ddb=>_0x487ddb[_0x28c455(0x9fa)])}}});}['unpublish'](){const _0x33ddbd=_0x2e7de5;this[_0x33ddbd(0x24d)][_0x33ddbd(0x4df)]({'sourceId':this[_0x33ddbd(0x1a7)][_0x33ddbd(0x2ab)](),'propagate':!0x0,'messageType':_0x31418b['Content'],'content':{'type':_0x5ba456[_0x33ddbd(0x3ee)],'ownerId':this['owner'][_0x33ddbd(0x2ab)](),'label':this[_0x33ddbd(0x7b6)]}}),this[_0x33ddbd(0x24d)][_0x33ddbd(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x33ddbd(0x938)],'content':{'type':_0x5ba456[_0x33ddbd(0x25d)],'label':this['label']}}),_0x31c6d3[_0x33ddbd(0xa10)](_0x45bb51[_0x33ddbd(0x739)],{'type':_0x33ddbd(0x89a),'label':this[_0x33ddbd(0x7b6)],'nodeId':this[_0x33ddbd(0x1a7)][_0x33ddbd(0x2ab)](),'nodeType':this[_0x33ddbd(0x1a7)][_0x33ddbd(0x926)],'clusterId':this[_0x33ddbd(0x966)],'streamId':this['getInternalStreamId']()});}[_0x2e7de5(0x8b4)](){const _0x13c636=_0x2e7de5;return this[_0x13c636(0x2a5)];}[_0x2e7de5(0x549)](_0x719864){const _0x188bd9=_0x2e7de5;this[_0x188bd9(0x2a5)]=_0x719864,this[_0x188bd9(0xa0a)][_0x188bd9(0x270)](_0x4183e0=>_0x4183e0['setPriority'](_0x719864));}[_0x2e7de5(0x49d)](_0x5cb18f,_0x10cf77){const _0x536183=_0x2e7de5;if(!this[_0x536183(0xa0a)][_0x536183(0x1a4)](_0x5cb18f)){const _0xde1a93=new _0xab208d(this[_0x536183(0x1a7)],this['label'],this['mediaStream'],_0x5cb18f,_0x10cf77),_0x314ff1=_0xde1a93[_0x536183(0x5f5)](()=>{const _0x23bd64=_0x536183;_0x314ff1(),this['outgoingStreams'][_0x23bd64(0x6ba)](_0x5cb18f)?.[_0x23bd64(0x736)](),this[_0x23bd64(0xa0a)][_0x23bd64(0x428)](_0x5cb18f);});this[_0x536183(0xa0a)][_0x536183(0x7ee)](_0x5cb18f,_0xde1a93),_0xde1a93[_0x536183(0x796)](this[_0x536183(0x24d)]);}return this['outgoingStreams'][_0x536183(0x6ba)](_0x5cb18f);}[_0x2e7de5(0x36a)](){const _0x358744=_0x2e7de5;return this[_0x358744(0x994)]['id'];}[_0x2e7de5(0x2fd)](_0xf24b43){const _0x2e2fd3=_0x2e7de5;this[_0x2e2fd3(0x24d)]['publish']({'sourceId':_0x2d2899,'messageType':_0x31418b['Content'],'content':{'type':_0x5ba456['LocalMediaStreamTrackFail'],'label':this[_0x2e2fd3(0x7b6)],'trackKinds':[_0xf24b43[_0x2e2fd3(0x9fa)]]}});}[_0x2e7de5(0x6bb)](_0x484ee4){const _0x5ef652=_0x2e7de5,_0xc4a30f=()=>this[_0x5ef652(0x2fd)](_0x484ee4);_0x484ee4[_0x5ef652(0x32c)](_0x5ef652(0x9c9),_0xc4a30f),_0x484ee4['addEventListener'](_0x5ef652(0x7d9),_0xc4a30f),this[_0x5ef652(0x1eb)][_0x5ef652(0x7ee)](_0x484ee4['kind'],()=>{const _0x539237=_0x5ef652;_0x484ee4['removeEventListener'](_0x539237(0x9c9),_0xc4a30f),_0x484ee4[_0x539237(0x862)](_0x539237(0x7d9),_0xc4a30f),this[_0x539237(0x1eb)]['delete'](_0x484ee4[_0x539237(0x9fa)]);});}}class _0x379ec5 extends _0x215f88{['audioContext'];[_0x2e7de5(0x47e)]=[];[_0x2e7de5(0xa64)];[_0x2e7de5(0x4bc)];[_0x2e7de5(0x7ad)];[_0x2e7de5(0x666)];[_0x2e7de5(0x752)];[_0x2e7de5(0x35a)];[_0x2e7de5(0x9e8)];constructor(_0x1e558e,_0x1a48ff,_0x3944db,_0x2b23ff,_0x3b5bd6,_0x56783e){const _0x12c98f=_0x2e7de5;if(super(_0x1e558e,_0x1a48ff,_0x3944db,_0x56783e),this[_0x12c98f(0x555)]=_0x3b5bd6,this[_0x12c98f(0xa64)]=this[_0x12c98f(0x994)],this[_0x12c98f(0x666)]=document[_0x12c98f(0x455)](_0x12c98f(0x6ed)),this['sourceVideo']['autoplay']=!0x0,this['sourceVideo']['muted']=!0x0,this[_0x12c98f(0x666)][_0x12c98f(0x36e)]=this[_0x12c98f(0xa64)],this['sourceVideo'][_0x12c98f(0x55f)](),this[_0x12c98f(0x666)]['onloadeddata']=()=>{const _0x3fb66d=_0x12c98f;this[_0x3fb66d(0x666)]['play']();},this[_0x12c98f(0x752)]=document[_0x12c98f(0x455)](_0x12c98f(0x752)),this[_0x12c98f(0x35a)]=this[_0x12c98f(0x752)]['getContext']('2d'),this[_0x12c98f(0x994)]=this[_0x12c98f(0x752)][_0x12c98f(0x4ff)](_0x2b23ff),this[_0x12c98f(0x7ad)]=this[_0x12c98f(0x555)]['createMediaStreamDestination'](),this[_0x12c98f(0xa64)][_0x12c98f(0x619)]()[_0x12c98f(0x727)]>0x0){const _0x244fa5=this[_0x12c98f(0xa64)][_0x12c98f(0x619)]()[0x0];this[_0x12c98f(0x4bc)]=this['audioContext'][_0x12c98f(0x7a0)](new MediaStream([_0x244fa5])),this[_0x12c98f(0x4bc)]['connect'](this['audioDestination']);}const _0x5929ba=this[_0x12c98f(0x7ad)]['stream']['getTracks']()[0x0];this[_0x12c98f(0x994)]['addTrack'](_0x5929ba),this[_0x12c98f(0x9e8)]=setInterval(()=>{const _0x95f570=_0x12c98f;this['canvas'][_0x95f570(0x381)]=this[_0x95f570(0x666)][_0x95f570(0xa7a)],this['canvas'][_0x95f570(0x3c0)]=this['sourceVideo']['videoHeight'],this[_0x95f570(0x666)][_0x95f570(0xa7a)]?(0x0!==this[_0x95f570(0xa64)][_0x95f570(0x27c)]()[_0x95f570(0x727)]&&this[_0x95f570(0xa64)][_0x95f570(0x27c)]()[0x0]['enabled']?this['mediaStream'][_0x95f570(0x27c)]()[0x0]['enabled']=!0x0:this[_0x95f570(0x994)][_0x95f570(0x27c)]()[0x0][_0x95f570(0x8a6)]=!0x1,0x0!==this['clientStream'][_0x95f570(0x619)]()['length']&&this[_0x95f570(0xa64)][_0x95f570(0x619)]()[0x0][_0x95f570(0x8a6)]?this['mediaStream'][_0x95f570(0x619)]()[0x0][_0x95f570(0x8a6)]=!0x0:this[_0x95f570(0x994)][_0x95f570(0x619)]()[0x0]['enabled']=!0x1,this[_0x95f570(0x35a)][_0x95f570(0x3e1)](this[_0x95f570(0x666)],0x0,0x0)):this[_0x95f570(0x35a)]['clearRect'](0x0,0x0,this['canvas'][_0x95f570(0x381)],this[_0x95f570(0x752)]['height']);},0x3e8/_0x2b23ff);}[_0x2e7de5(0x736)](){const _0x52691d=_0x2e7de5;clearInterval(this[_0x52691d(0x9e8)]),this[_0x52691d(0x666)]['remove'](),this['canvas'][_0x52691d(0x2b2)](),this[_0x52691d(0x4bc)]?.['disconnect'](),this[_0x52691d(0x7ad)]['disconnect'](),this[_0x52691d(0x994)][_0x52691d(0x527)]()[_0x52691d(0x270)](_0x5cb36f=>{const _0x5b7b10=_0x52691d;_0x5cb36f[_0x5b7b10(0x511)](),this['mediaStream']['removeTrack'](_0x5cb36f);}),super[_0x52691d(0x736)]();}[_0x2e7de5(0x835)](_0x5ad8f1){const _0x21468b=_0x2e7de5,_0x30b95a=this[_0x21468b(0xa70)](_0x5ad8f1[_0x21468b(0x9fa)]);_0x30b95a&&this[_0x21468b(0x743)](_0x30b95a),_0x21468b(0x20a)!==_0x5ad8f1[_0x21468b(0x9fa)]?(_0x21468b(0x6ed)===_0x5ad8f1['kind']&&this[_0x21468b(0x23b)](_0x5ad8f1),this[_0x21468b(0x6bb)](_0x5ad8f1)):this[_0x21468b(0x557)](_0x5ad8f1);}[_0x2e7de5(0x743)](_0x1c4b80){const _0x68af27=_0x2e7de5,_0x794e6e=this[_0x68af27(0x86b)](_0x1c4b80);return _0x794e6e&&(_0x68af27(0x20a)===_0x794e6e[_0x68af27(0x9fa)]&&(this[_0x68af27(0x4bc)]?.[_0x68af27(0x7ae)](),this[_0x68af27(0x4bc)]=void 0x0),this[_0x68af27(0x1eb)][_0x68af27(0x6ba)](_0x794e6e[_0x68af27(0x9fa)])?.(),this[_0x68af27(0xa64)][_0x68af27(0x743)](_0x794e6e)),_0x794e6e;}[_0x2e7de5(0xa3b)](_0x126a74){const _0x3070e9=_0x2e7de5;this[_0x3070e9(0x743)](_0x126a74[_0x3070e9(0x9fa)]),this[_0x3070e9(0x835)](_0x126a74);}[_0x2e7de5(0xa02)](_0xb651fd){const _0x3f8455=_0x2e7de5;this[_0x3f8455(0x47e)]=_0xb651fd;}[_0x2e7de5(0xa70)](_0x2e6464){const _0x1b69c8=_0x2e7de5;return this['clientStream'][_0x1b69c8(0x527)]()[_0x1b69c8(0x921)](_0x538cad=>_0x538cad['kind']===_0x2e6464)||null;}['getTrackFromParam'](_0x15f106){const _0x5d6233=_0x2e7de5;return _0x5d6233(0x5ea)==typeof _0x15f106?this[_0x5d6233(0xa70)](_0x15f106):_0x15f106;}['addAudioTrack'](_0x40f4e3){const _0x59d133=_0x2e7de5;_0x59d133(0x87e)===this[_0x59d133(0x555)][_0x59d133(0x5bf)]&&this[_0x59d133(0x555)][_0x59d133(0x180)](),this['clientStream'][_0x59d133(0x835)](_0x40f4e3),this[_0x59d133(0x4bc)]=this[_0x59d133(0x555)][_0x59d133(0x7a0)](this[_0x59d133(0xa64)]),this['audioSource'][_0x59d133(0x684)](this[_0x59d133(0x7ad)]);}[_0x2e7de5(0x23b)](_0x5b33ad){const _0x4af0ba=_0x2e7de5;this[_0x4af0ba(0xa64)]['addTrack'](_0x5b33ad),this[_0x4af0ba(0x666)][_0x4af0ba(0x55f)]();}}class _0x1a437e extends _0x215f88{}class _0x1a7bf4 extends _0x231971{['localNode'];[_0x2e7de5(0x966)];[_0x2e7de5(0x9a1)];[_0x2e7de5(0x726)];[_0x2e7de5(0x301)];['options'];[_0x2e7de5(0x576)];[_0x2e7de5(0x399)];['pendingSyncTransactions']=new Map();[_0x2e7de5(0x56f)]=new Map();[_0x2e7de5(0x2f7)]=new Map();['pendingFilesTransactions']=new Map();[_0x2e7de5(0x36d)]=new Map();['fileSendingMap']=new Map();[_0x2e7de5(0x2f6)];[_0x2e7de5(0x3b0)]=_0x37766();[_0x2e7de5(0x42d)]=new Map();[_0x2e7de5(0x478)];[_0x2e7de5(0x4e4)]=0x0;[_0x2e7de5(0x58a)]=0x0;[_0x2e7de5(0x5b5)]=!0x0;[_0x2e7de5(0x214)]=!0x0;[_0x2e7de5(0x54c)]=0x0;[_0x2e7de5(0x55d)]=0x0;constructor(_0x16e95c,_0x158721,_0x582c2b,_0x457b87,_0xcfd103,_0x4909af,_0x451051,_0x53020a){const _0x1f8b14=_0x2e7de5;if(_0x1f8b14(0x5ea)!=typeof _0x158721)throw new _0x412649(_0xa32e41[_0x1f8b14(0xa09)],_0x1f8b14(0x9d6));super(_0x16e95c,_0x158721),this[_0x1f8b14(0x1cc)]=_0x16e95c,this[_0x1f8b14(0x966)]=_0x582c2b,this[_0x1f8b14(0x9a1)]=_0x457b87,this[_0x1f8b14(0x726)]=_0xcfd103,this[_0x1f8b14(0x301)]=_0x451051,this['options']=_0x53020a;const _0x2fd877='ccc'+this[_0x1f8b14(0x9a1)]+_0x1f8b14(0x497)+this[_0x1f8b14(0x966)]+_0x1f8b14(0x497)+_0x158721;this[_0x1f8b14(0x2f6)]=new _0x4909af(_0x2fd877),this[_0x1f8b14(0x5b5)]=this[_0x1f8b14(0x7e9)]?.['syncContent']??!0x0,this[_0x1f8b14(0x7e9)]?.[_0x1f8b14(0x92d)]&&(this['syncContent']=!0x1),this[_0x1f8b14(0x764)]();}['reset'](){const _0x3d5da7=_0x2e7de5;this[_0x3d5da7(0x764)]();}[_0x2e7de5(0x924)](){const _0x8a7d6b=_0x2e7de5;return _0x564b37['ContentType'][_0x8a7d6b(0x295)];}async['sync'](){const _0x324e63=_0x2e7de5;this[_0x324e63(0x214)]=!0x0;try{const _0x16ab5f=await this[_0x324e63(0x2f6)][_0x324e63(0x6ba)](_0x132daf),_0xc0ec13=await _0x16ab5f['text']();this[_0x324e63(0x399)]=_0xc0ec13;}catch(_0x50b218){}this['unsubscribeHandler']=this[_0x324e63(0x805)](async(_0x2efd51,_0x34e99d)=>{const _0x3eb94b=_0x324e63;if(!(_0x34e99d instanceof File))try{if(_0x34e99d[_0x3eb94b(0x561)]===_0x40890f[_0x3eb94b(0xa1a)])return void this[_0x3eb94b(0x707)](_0x34e99d);this[_0x3eb94b(0x631)](_0x34e99d);}catch(_0x1d74c8){if(_0x1d74c8 instanceof _0x26bf2d)throw _0x1d74c8;throw new _0x26bf2d(_0x26bf2d[_0x3eb94b(0x269)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x34e99d});}}),await this[_0x324e63(0x4ba)](),this['syncContent']?await this[_0x324e63(0x3df)]():this[_0x324e63(0x999)](),this[_0x324e63(0x764)]();}['destroy'](){const _0x419cf6=_0x2e7de5;this['unsubscribeHandler']?.(),this['listenerUnsubscribers'][_0x419cf6(0x270)](_0x369af7=>_0x369af7()),this[_0x419cf6(0x42d)][_0x419cf6(0x2a0)](),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x419cf6(0x736)]();}[_0x2e7de5(0x6f0)](){const _0x2fa9dc=_0x2e7de5;this['systemTopic']?.[_0x2fa9dc(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x2fa9dc(0x938)],'content':{'type':_0x5ba456['CloseObjectStoreBucket'],'label':this[_0x2fa9dc(0x7b6)]}});}[_0x2e7de5(0x683)](_0x591cf4,_0x249595){const _0x570422=_0x2e7de5;if(this[_0x570422(0x42d)][_0x570422(0x1a4)](_0x591cf4))throw new _0x412649(_0xa32e41[_0x570422(0x75a)],_0x570422(0x41b));this['listenerUnsubscribers'][_0x570422(0x7ee)](_0x591cf4,this[_0x570422(0x3b0)][_0x570422(0x683)](_0x249595)),this[_0x570422(0x214)]||this['eventListener'][_0x570422(0x4df)]({'event':_0x564b37['StorageEventType'][_0x570422(0x3fe)],'payload':{'filesSynced':this[_0x570422(0x54c)]}});}[_0x2e7de5(0x615)](_0x5dac0d){const _0x44068c=_0x2e7de5;this[_0x44068c(0x42d)]['get'](_0x5dac0d)?.(),this[_0x44068c(0x42d)][_0x44068c(0x428)](_0x5dac0d);}[_0x2e7de5(0x4df)](_0x996189){const _0x294003=_0x2e7de5;switch(_0x996189[_0x294003(0x935)]){case _0x564b37['PayloadAction'][_0x294003(0x3c9)]:return this[_0x294003(0x3d5)](_0x996189[_0x294003(0x9de)],_0x996189[_0x294003(0x3fd)],_0x996189[_0x294003(0x7e9)]);case _0x564b37[_0x294003(0x472)][_0x294003(0x5da)]:return this[_0x294003(0x767)](_0x996189['path']);case _0x564b37[_0x294003(0x472)][_0x294003(0x423)]:return this[_0x294003(0x9a5)](_0x996189[_0x294003(0x3fd)],_0x996189['newPath']);default:throw new _0x412649(_0xa32e41[_0x294003(0x61a)],_0x294003(0x215)+_0x996189);}}async['unpublish'](_0x70b810){const _0x26f811=_0x2e7de5;try{const _0x14a4ec=(0x0,_0x328cbd['v4'])(),_0x57f725=this[_0x26f811(0x399)],_0x20eac0={'payloadType':_0x40890f['Transaction'],'action':_0xa33b6e[_0x26f811(0x2e2)],'id':_0x14a4ec,'parentId':_0x57f725,'path':_0x70b810};await this[_0x26f811(0x8ac)](_0x20eac0);const _0x4f379b=await this[_0x26f811(0x394)](_0x70b810);!0x0!==this[_0x26f811(0x7e9)]?.[_0x26f811(0x92d)]&&await this[_0x26f811(0x4d9)](_0x20eac0),_0x31c6d3['logServiceEvent'](_0x45bb51[_0x26f811(0x759)],{'type':_0x26f811(0x89a),'label':this[_0x26f811(0x7b6)],'nodeId':this[_0x26f811(0x1cc)][_0x26f811(0x2ab)](),'nodeType':this[_0x26f811(0x1cc)][_0x26f811(0x926)],'clusterId':this[_0x26f811(0x966)],'kind':_0x4f379b,'path':_0x70b810}),this[_0x26f811(0x4e4)]+=0x1,this[_0x26f811(0x764)]();}catch(_0x17f58d){if(_0x17f58d instanceof _0x26bf2d)throw new _0x412649(_0xa32e41[_0x26f811(0x8d4)],_0x26f811(0x2d8)+_0x70b810+':\x20Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x412649(_0xa32e41['ObjectStoreInvalidPath'],_0x26f811(0x986)+_0x70b810);}}async[_0x2e7de5(0x6ba)](_0x3b07cf,_0x52b298){const _0x4c754f=_0x2e7de5;_0x31c6d3[_0x4c754f(0xa10)](_0x45bb51[_0x4c754f(0x759)],{'type':_0x4c754f(0x6ba),'label':this[_0x4c754f(0x7b6)],'nodeId':this[_0x4c754f(0x1cc)][_0x4c754f(0x2ab)](),'nodeType':this[_0x4c754f(0x1cc)][_0x4c754f(0x926)],'clusterId':this['clusterId'],'path':_0x3b07cf}),this['reads']+=0x1,this['sendStats']();try{return await this[_0x4c754f(0x2f6)]['get'](_0x3b07cf,_0x52b298);}catch(_0x30d535){try{await this[_0x4c754f(0x2f6)][_0x4c754f(0x6ba)](_0x3b07cf+_0x5d4840);}catch(_0x4f7f70){throw new _0x412649(_0xa32e41['ObjectStoreInvalidPath'],_0x4c754f(0x96c)+_0x3b07cf);}throw new _0x412649(_0xa32e41[_0x4c754f(0x8d4)],'Object\x20store\x20is\x20not\x20in\x20sync');}}async['list'](_0x11f5a7,_0x5c2567){const _0x5d2d46=_0x2e7de5,{recursive:_0x3d83bf=!0x1,includeSyncingFiles:_0x27e51f=!0x1}=_0x5c2567??{};_0x31c6d3[_0x5d2d46(0xa10)](_0x45bb51[_0x5d2d46(0x759)],{'type':_0x5d2d46(0x81b),'label':this[_0x5d2d46(0x7b6)],'nodeId':this[_0x5d2d46(0x1cc)][_0x5d2d46(0x2ab)](),'nodeType':this['localNode'][_0x5d2d46(0x926)],'clusterId':this[_0x5d2d46(0x966)],'path':_0x11f5a7}),this['reads']+=0x1,this['sendStats']();try{const _0xd2db99=await this[_0x5d2d46(0x2f6)]['list'](_0x11f5a7,_0x3d83bf);return this[_0x5d2d46(0x1fa)](_0xd2db99,{'recursive':_0x3d83bf,'includeSyncingFiles':_0x27e51f});}catch(_0x1947ee){throw new _0x412649(_0xa32e41[_0x5d2d46(0x44f)],_0x5d2d46(0x46e)+_0x11f5a7);}}['handleNodeJoin'](_0x1adaec){const _0x4198e6=_0x2e7de5;this[_0x4198e6(0x55d)]+=0x1;for(const _0x365d07 of this['objectRequests']['values']())this['send'](_0x365d07,[_0x1adaec]);}['handleNodeLeave'](_0x75a797){const _0x160606=_0x2e7de5;this[_0x160606(0x55d)]-=0x1;const _0x53947b=this[_0x160606(0x2f7)][_0x160606(0x6ba)](_0x75a797);if(_0x53947b){for(const [_0x3bc9e3,_0x2bb9e]of _0x53947b[_0x160606(0x20c)]())this['sendFileRequestPayload'](_0x3bc9e3,_0x2bb9e);this[_0x160606(0x2f7)][_0x160606(0x428)](_0x75a797);}}async[_0x2e7de5(0x92f)](_0x6affe6='/'){const _0x2e4fa9=_0x2e7de5;try{return await this[_0x2e4fa9(0x2f6)][_0x2e4fa9(0x77b)](_0x6affe6);}catch(_0x5240be){if(_0x5240be instanceof Error&&_0x5240be[_0x2e4fa9(0x4b2)][_0x2e4fa9(0xa49)](_0x2e4fa9(0x70f)))return 0x0;throw new _0x412649(_0xa32e41[_0x2e4fa9(0x44f)],_0x2e4fa9(0x1b3)+_0x6affe6);}}[_0x2e7de5(0x999)](){const _0xd5fde8=_0x2e7de5;this['isSyncing']&&(this[_0xd5fde8(0x214)]=!0x1,this[_0xd5fde8(0x3b0)][_0xd5fde8(0x4df)]({'event':_0x564b37[_0xd5fde8(0x7de)][_0xd5fde8(0x3fe)],'payload':{'filesSynced':this['filesSynced']}}));}async[_0x2e7de5(0x1fa)](_0xbec71d,{includeSyncingFiles:_0x7f07e2=!0x1}){const _0x39f2dd=_0x2e7de5,_0x3cf026=[];for(const _0x9a76aa of _0xbec71d)if(_0x9a76aa[_0x39f2dd(0x9fa)]!==_0x564b37[_0x39f2dd(0x51f)]['Folder']){if(_0x9a76aa[_0x39f2dd(0x243)]!==_0x132daf){if(_0x9a76aa['name'][_0x39f2dd(0x2cc)](_0x5d4840)){if(!_0x7f07e2)continue;const _0x3df315=_0x9a76aa;if(_0x3df315['name']=_0x3df315[_0x39f2dd(0x243)][_0x39f2dd(0x4fb)](_0x5d4840,''),_0x3df315[_0x39f2dd(0x9d5)]=_0x3df315['pathName']['replace'](_0x5d4840,''),await this[_0x39f2dd(0x278)](_0x3df315['pathName'])){_0xbec71d[_0x39f2dd(0x921)](_0x193fdb=>_0x193fdb[_0x39f2dd(0x9d5)]===_0x3df315[_0x39f2dd(0x9d5)])[_0x39f2dd(0x2ea)]=_0x564b37['FileStatus'][_0x39f2dd(0x6c2)];continue;}_0x3df315['status']=_0x564b37[_0x39f2dd(0x5a5)][_0x39f2dd(0x281)];}_0x3cf026['push'](_0x9a76aa);}}else _0x9a76aa[_0x39f2dd(0x4d1)]=await this[_0x39f2dd(0x1fa)](_0x9a76aa[_0x39f2dd(0x4d1)]??[],{'includeSyncingFiles':_0x7f07e2}),_0x3cf026[_0x39f2dd(0x67b)](_0x9a76aa);return _0x3cf026;}async[_0x2e7de5(0x3d5)](_0x31b733,_0x20bab1,_0x1a5d7d){const _0x567478=_0x2e7de5;try{const _0x3450d8=(0x0,_0x328cbd['v4'])(),_0x4a1853=await _0x43bcb8(_0x31b733),_0x360d76=_0x4c288f(_0x20bab1??'/',_0x31b733['name']);let _0x17dafa=!0x0;const _0x177942={'payloadType':_0x40890f[_0x567478(0x19b)],'action':_0xa33b6e[_0x567478(0x700)],'id':_0x3450d8,'parentId':this['lastTransactionId'],'answererId':this[_0x567478(0x1cc)][_0x567478(0x2ab)](),'name':_0x31b733[_0x567478(0x243)],'type':_0x31b733[_0x567478(0x926)],'path':_0x20bab1??'/','skipEncryption':_0x1a5d7d?.[_0x567478(0x6e1)]??!0x1,'checksum':_0x4a1853};try{if(!_0x1a5d7d?.[_0x567478(0x7be)])throw new Error(_0x567478(0x9ba));const _0x6d0723=_0x360d76+_0x5d4840;await this[_0x567478(0x2f6)]['get'](_0x6d0723),_0x17dafa=!0x1,await this[_0x567478(0x2f6)][_0x567478(0x394)](_0x6d0723),this[_0x567478(0x56f)][_0x567478(0x428)](_0x360d76);}catch(_0x3be34a){await this[_0x567478(0x8ac)](_0x177942);}if(this[_0x567478(0x5b5)]||this['options']?.[_0x567478(0x92d)]?await this[_0x567478(0x33c)](_0x31b733,_0x20bab1,_0x1a5d7d):await this[_0x567478(0x831)](_0x31b733['name'],_0x20bab1??'/',{'checksum':_0x4a1853,'skipEncryption':_0x1a5d7d?.[_0x567478(0x6e1)]??!0x1}),this[_0x567478(0x83f)][_0x567478(0x1a4)](_0x360d76)){const [_0x3ded2c,_0xc35fc]=this['fileSendingMap'][_0x567478(0x6ba)](_0x360d76);this[_0x567478(0x83f)][_0x567478(0x7ee)](_0x360d76,[!0x0,_0xc35fc]);try{await _0xc35fc;}catch(_0x2fb834){}this[_0x567478(0x83f)][_0x567478(0x428)](_0x360d76);}_0x17dafa&&this[_0x567478(0x55d)]>0x0&&!0x0!==this[_0x567478(0x7e9)]?.['standalone']&&await this['sendFile'](_0x31b733,_0x177942),_0x31c6d3[_0x567478(0xa10)](_0x45bb51['ObjectStorage'],{'type':'publish','label':this[_0x567478(0x7b6)],'nodeId':this[_0x567478(0x1cc)][_0x567478(0x2ab)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x567478(0x966)],'kind':_0x564b37['ObjectKind'][_0x567478(0x3c9)],'path':_0x20bab1,'fileName':_0x31b733['name'],'fileType':_0x31b733[_0x567478(0x926)],'size':_0x31b733[_0x567478(0x777)]}),this[_0x567478(0x4e4)]+=0x1,this[_0x567478(0x764)]();}catch(_0x5bd22a){if(_0x5bd22a instanceof _0x26bf2d)throw new _0x412649(_0xa32e41[_0x567478(0x8d4)],_0x567478(0x573));throw new _0x412649(_0xa32e41[_0x567478(0x44f)],_0x567478(0xa14)+_0x20bab1+(_0x20bab1?.['endsWith']('/')?'':'/')+_0x31b733[_0x567478(0x243)]);}}async[_0x2e7de5(0x767)](_0x1cb299){const _0x40efe8=_0x2e7de5;try{const _0xf36865=(0x0,_0x328cbd['v4'])(),_0x31b11f=this[_0x40efe8(0x399)],_0x219a37={'payloadType':_0x40890f['Transaction'],'action':_0xa33b6e['FolderCreate'],'id':_0xf36865,'parentId':_0x31b11f,'path':_0x1cb299};await this[_0x40efe8(0x8ac)](_0x219a37),await this[_0x40efe8(0x2f6)][_0x40efe8(0x515)](_0x1cb299),!0x0!==this['options']?.[_0x40efe8(0x92d)]&&await this[_0x40efe8(0x4d9)](_0x219a37),_0x31c6d3[_0x40efe8(0xa10)](_0x45bb51[_0x40efe8(0x759)],{'type':_0x40efe8(0x4df),'label':this[_0x40efe8(0x7b6)],'nodeId':this[_0x40efe8(0x1cc)]['getId'](),'nodeType':this[_0x40efe8(0x1cc)]['type'],'clusterId':this[_0x40efe8(0x966)],'kind':_0x564b37[_0x40efe8(0x51f)][_0x40efe8(0x5da)],'path':_0x1cb299}),this[_0x40efe8(0x4e4)]+=0x1,this[_0x40efe8(0x764)]();}catch(_0x56d60d){if(_0x56d60d instanceof _0x26bf2d)throw new _0x412649(_0xa32e41['ObjectStoreNotInSync'],_0x40efe8(0x573));throw new _0x412649(_0xa32e41[_0x40efe8(0x44f)],_0x40efe8(0x9a8)+_0x1cb299);}}async['publishMove'](_0x5a5434,_0x3bafd4){const _0x2b8aa2=_0x2e7de5;try{const _0x14be12=(0x0,_0x328cbd['v4'])(),_0x12af1e=this[_0x2b8aa2(0x399)],_0xdb9af1={'payloadType':_0x40890f[_0x2b8aa2(0x19b)],'action':_0xa33b6e[_0x2b8aa2(0x423)],'id':_0x14be12,'parentId':_0x12af1e,'path':_0x5a5434,'newPath':_0x3bafd4};await this[_0x2b8aa2(0x8ac)](_0xdb9af1);const _0x4e24f5=await this[_0x2b8aa2(0x559)](_0x5a5434,_0x3bafd4);!0x0!==this[_0x2b8aa2(0x7e9)]?.[_0x2b8aa2(0x92d)]&&await this[_0x2b8aa2(0x4d9)](_0xdb9af1),_0x31c6d3['logServiceEvent'](_0x45bb51['ObjectStorage'],{'type':'move','label':this[_0x2b8aa2(0x7b6)],'nodeId':this[_0x2b8aa2(0x1cc)]['getId'](),'nodeType':this[_0x2b8aa2(0x1cc)]['type'],'clusterId':this[_0x2b8aa2(0x966)],'kind':_0x4e24f5,'path':_0x5a5434,'newPath':_0x3bafd4}),this[_0x2b8aa2(0x4e4)]+=0x1,this['sendStats']();}catch(_0x291aae){if(_0x291aae instanceof _0x26bf2d)throw new _0x412649(_0xa32e41[_0x2b8aa2(0x8d4)],_0x2b8aa2(0x573));throw new _0x412649(_0xa32e41[_0x2b8aa2(0x44f)],_0x2b8aa2(0x94b)+_0x5a5434);}}async[_0x2e7de5(0x631)](_0x4b4e60,_0x2ab600=!0x1){const _0x4cae11=_0x2e7de5;if(this[_0x4cae11(0x399)]&&_0x4b4e60[_0x4cae11(0x6c1)]!==this[_0x4cae11(0x399)]&&_0x4b4e60['id']!==this[_0x4cae11(0x399)]){if(!_0x4b4e60[_0x4cae11(0x6c1)])throw new _0x26bf2d(_0x26bf2d['codes'][_0x4cae11(0x843)]);this[_0x4cae11(0x947)][_0x4cae11(0x7ee)](_0x4b4e60[_0x4cae11(0x6c1)],_0x4b4e60);}else{try{await this[_0x4cae11(0x819)](_0x4b4e60,_0x2ab600);}catch(_0x352e3c){}await this['updateLastTransactionId'](_0x4b4e60['id']),await this['processPendingSyncTransactions'](_0x4b4e60['id'],_0x2ab600);}}async['processTransactionPayload'](_0xbf5b59,_0x5a8d37=!0x1){const _0x2e802a=_0x2e7de5;switch(_0xbf5b59[_0x2e802a(0x935)]){case _0xa33b6e[_0x2e802a(0x700)]:await this[_0x2e802a(0x5ec)](_0xbf5b59);break;case _0xa33b6e['FolderCreate']:await this[_0x2e802a(0x520)](_0xbf5b59);break;case _0xa33b6e['Move']:await this[_0x2e802a(0x4e3)](_0xbf5b59,_0x5a8d37);break;case _0xa33b6e[_0x2e802a(0x2e2)]:await this[_0x2e802a(0x174)](_0xbf5b59,_0x5a8d37);break;default:throw new _0x26bf2d(_0x26bf2d['codes'][_0x2e802a(0x843)],{'payload':_0xbf5b59});}}async['processPendingSyncTransactions'](_0x264f96,_0x64ff90=!0x1){const _0x2785c8=_0x2e7de5;if(this['pendingSyncTransactions'][_0x2785c8(0x1a4)](_0x264f96)){const _0x1f8a88=this[_0x2785c8(0x947)][_0x2785c8(0x6ba)](_0x264f96);this['pendingSyncTransactions'][_0x2785c8(0x428)](_0x264f96),await this[_0x2785c8(0x631)](_0x1f8a88,_0x64ff90);}}async[_0x2e7de5(0x707)](_0x3d97a3){const _0x96b420=_0x2e7de5;switch(_0x3d97a3['action']){case _0xa33b6e['RequestFile']:return this['handleFileRequest'](_0x3d97a3);case _0xa33b6e['RequestAccepted']:return this[_0x96b420(0x983)](_0x3d97a3);case _0xa33b6e['RequestFileSync']:return this[_0x96b420(0x8e0)](_0x3d97a3);case _0xa33b6e[_0x96b420(0x296)]:return this[_0x96b420(0x5ec)](_0x3d97a3);default:throw new _0x26bf2d(_0x26bf2d[_0x96b420(0x269)][_0x96b420(0x843)],{'payload':_0x3d97a3});}}async[_0x2e7de5(0x5ec)](_0x5d5191,_0x1fcec0=0x0){const _0x4ea75d=_0x2e7de5,_0x23d396=_0x4c288f(_0x5d5191[_0x4ea75d(0x3fd)],_0x5d5191[_0x4ea75d(0x243)]);if(!_0x5d5191[_0x4ea75d(0x672)]||void 0x0===_0x5d5191[_0x4ea75d(0xa08)]||!_0x5d5191['total'])return this[_0x4ea75d(0x2b8)][_0x4ea75d(0x428)](_0x23d396),void await this[_0x4ea75d(0x831)](_0x5d5191[_0x4ea75d(0x243)],_0x5d5191[_0x4ea75d(0x3fd)],{'checksum':_0x5d5191[_0x4ea75d(0x588)],'skipEncryption':_0x5d5191[_0x4ea75d(0x6e1)]});if(this[_0x4ea75d(0x2b8)][_0x4ea75d(0x1a4)](_0x23d396)){const _0x4c68e6=this[_0x4ea75d(0x2b8)][_0x4ea75d(0x6ba)](_0x23d396);_0x4c68e6[_0x4ea75d(0x588)]!==_0x5d5191[_0x4ea75d(0x588)]&&(_0x4c68e6[_0x4ea75d(0x571)]?.['close'](),this['fileChunks'][_0x4ea75d(0x428)](_0x23d396));}if(!this[_0x4ea75d(0x2b8)]['has'](_0x23d396)){try{await this[_0x4ea75d(0x2f6)]['deleteObject'](_0x23d396);}catch(_0xbbc50e){}try{const _0x399ad9=this['syncContent']?await this[_0x4ea75d(0x2f6)][_0x4ea75d(0x6d9)](_0x23d396,{'skipEncryption':_0x5d5191[_0x4ea75d(0x6e1)]}):void 0x0,_0x3e07b1={'chunksReceived':_0x5d5191[_0x4ea75d(0x688)]??0x0,'bytesReceived':0x0,'stream':_0x399ad9,'checksum':_0x5d5191[_0x4ea75d(0x588)]};this[_0x4ea75d(0x2b8)][_0x4ea75d(0x7ee)](_0x23d396,_0x3e07b1),await this['createPendingFileWrite'](_0x5d5191[_0x4ea75d(0x243)],_0x5d5191[_0x4ea75d(0x3fd)],{'checksum':_0x5d5191[_0x4ea75d(0x588)],'skipEncryption':_0x5d5191[_0x4ea75d(0x6e1)]});}catch(_0x3eb059){}}const _0x4bce0d=this[_0x4ea75d(0x2b8)][_0x4ea75d(0x6ba)](_0x23d396);if(_0x5d5191[_0x4ea75d(0x588)]!==_0x4bce0d[_0x4ea75d(0x588)])return;if(this['setPendingFileSyncingPayload'](_0x5d5191,_0x23d396),this['syncContent']){if(!_0x4bce0d['stream'])throw new _0x26bf2d(_0x26bf2d[_0x4ea75d(0x269)]['ObjectStoreInvalidSyncMessage'],{'message':_0x4ea75d(0x883)});let _0x5f6dd5=_0x4bce0d['chunksReceived'];if(_0x5d5191[_0x4ea75d(0xa08)]!==_0x5f6dd5){if(_0x5f6dd5>_0x5d5191['index'])return;const _0x589ad0=2064.1259842519685;if(_0x5d5191['index']>_0x5f6dd5+_0x589ad0)return;if(_0x4bce0d[_0x4ea75d(0x1ef)]||(_0x4bce0d[_0x4ea75d(0x1ef)]=[]),_0x4bce0d[_0x4ea75d(0x1ef)]['length']>8256.503937007874)throw this[_0x4ea75d(0x2b8)][_0x4ea75d(0x428)](_0x23d396),new _0x26bf2d(_0x26bf2d[_0x4ea75d(0x269)][_0x4ea75d(0x843)],{'message':_0x4ea75d(0x814)});return void _0x4bce0d[_0x4ea75d(0x1ef)][_0x4ea75d(0x67b)](_0x5d5191);}try{_0x4bce0d[_0x4ea75d(0x60e)]+=0x1,_0x4bce0d['bytesReceived']+=_0x5d5191[_0x4ea75d(0x672)][_0x4ea75d(0xa61)],await _0x4bce0d[_0x4ea75d(0x571)][_0x4ea75d(0x976)](_0x5d5191['data']);}catch(_0x438bb9){if(console[_0x4ea75d(0x972)]('Error\x20writing\x20chunk\x20to\x20stream',_0x438bb9),_0x1fcec0>0x3)throw this[_0x4ea75d(0x2b8)]['delete'](_0x23d396),console[_0x4ea75d(0x972)](_0x4ea75d(0x474),_0x438bb9),new _0x26bf2d(_0x26bf2d['codes'][_0x4ea75d(0x843)],{'message':_0x4ea75d(0x474)});return this['handleFileWrite'](_0x5d5191,_0x1fcec0+0x1);}}try{await this[_0x4ea75d(0x21d)](_0x4bce0d,_0x5d5191[_0x4ea75d(0xa08)]+0x1);}catch(_0x4df386){throw this[_0x4ea75d(0x2b8)]['delete'](_0x23d396),_0x4df386;}if(this[_0x4ea75d(0x2b8)][_0x4ea75d(0x7ee)](_0x23d396,_0x4bce0d),_0x4bce0d[_0x4ea75d(0x60e)]<_0x5d5191['total'])return;await this[_0x4ea75d(0xa45)](_0x23d396),this[_0x4ea75d(0x5b5)]&&(await this[_0x4ea75d(0xa74)](_0x5d5191),_0x31c6d3[_0x4ea75d(0xa10)](_0x45bb51[_0x4ea75d(0x759)],{'type':_0x4ea75d(0x45b),'label':this[_0x4ea75d(0x7b6)],'nodeId':this[_0x4ea75d(0x1cc)]['getId'](),'nodeType':this[_0x4ea75d(0x1cc)][_0x4ea75d(0x926)],'clusterId':this[_0x4ea75d(0x966)],'kind':_0x564b37[_0x4ea75d(0x51f)][_0x4ea75d(0x3c9)],'path':_0x5d5191[_0x4ea75d(0x3fd)],'fileName':_0x5d5191[_0x4ea75d(0x243)],'fileType':_0x5d5191[_0x4ea75d(0x926)],'size':_0x4bce0d[_0x4ea75d(0x1be)]}));const _0x33804d=this[_0x4ea75d(0x90c)]['get'](_0x5d5191[_0x4ea75d(0x3fd)])??[];for(const _0x41da43 of _0x33804d)await this[_0x4ea75d(0x819)](_0x41da43);this[_0x4ea75d(0x90c)][_0x4ea75d(0x428)](_0x5d5191[_0x4ea75d(0x3fd)]),this[_0x4ea75d(0x3b0)][_0x4ea75d(0x4df)]({'event':_0x564b37[_0x4ea75d(0x7de)][_0x4ea75d(0x700)],'payload':{'file':{'kind':_0x564b37[_0x4ea75d(0x51f)][_0x4ea75d(0x3c9)],'path':_0x5d5191[_0x4ea75d(0x3fd)],'type':_0x5d5191[_0x4ea75d(0x926)],'size':_0x4bce0d[_0x4ea75d(0x1be)],'name':_0x5d5191[_0x4ea75d(0x243)],'pathName':_0x23d396,'status':this[_0x4ea75d(0x5b5)]?_0x564b37[_0x4ea75d(0x5a5)][_0x4ea75d(0x716)]:_0x564b37[_0x4ea75d(0x5a5)][_0x4ea75d(0x281)]}}}),this[_0x4ea75d(0x764)]();}async[_0x2e7de5(0x21d)](_0x343d87,_0x3d70bb){const _0x56c0e5=_0x2e7de5,_0x5bd2a8=_0x343d87[_0x56c0e5(0x571)];let _0x207338=0x0;for(;_0x343d87[_0x56c0e5(0x1ef)]&&_0x343d87[_0x56c0e5(0x1ef)][_0x56c0e5(0x727)]>0x0;){const _0x42d802=_0x343d87['bufferedChunks']['find'](_0x5319c2=>_0x5319c2[_0x56c0e5(0xa08)]===_0x3d70bb+0x1);if(!_0x42d802)break;_0x343d87[_0x56c0e5(0x1ef)]=_0x343d87[_0x56c0e5(0x1ef)]['filter'](_0xd06d9e=>_0xd06d9e['index']!==_0x3d70bb+0x1);try{await _0x5bd2a8[_0x56c0e5(0x976)](_0x42d802['data']),_0x3d70bb++;}catch(_0x1c52f0){if(console['error'](_0x56c0e5(0x52b),_0x1c52f0),_0x207338>0x3)throw console['error'](_0x56c0e5(0x78f),_0x1c52f0),new _0x26bf2d(_0x26bf2d['codes'][_0x56c0e5(0x843)],{'message':_0x56c0e5(0x78f)});_0x207338++;continue;}_0x343d87[_0x56c0e5(0x60e)]+=0x1,_0x343d87[_0x56c0e5(0x1be)]+=_0x42d802[_0x56c0e5(0x672)]['byteLength'];}}async[_0x2e7de5(0x520)](_0x43b651){const _0x12ed32=_0x2e7de5;await this['objectStoreConnector']['createFolder'](_0x43b651[_0x12ed32(0x3fd)]);const [_0x294575,_0x353543]=_0x2ca88b(_0x43b651[_0x12ed32(0x3fd)]);this[_0x12ed32(0x3b0)][_0x12ed32(0x4df)]({'event':_0x564b37[_0x12ed32(0x7de)][_0x12ed32(0x57a)],'payload':{'folder':{'kind':_0x564b37[_0x12ed32(0x51f)][_0x12ed32(0x5da)],'name':_0x353543,'path':_0x294575,'pathName':_0x43b651[_0x12ed32(0x3fd)]}}});}async[_0x2e7de5(0x174)](_0x5f4993,_0x589be8=!0x1){const _0x58ff39=_0x2e7de5;if(!_0x589be8&&!this[_0x58ff39(0x49e)](_0x5f4993))return;const _0x42b9de=await this[_0x58ff39(0x394)](_0x5f4993[_0x58ff39(0x3fd)]),[_0x4dbc44,_0x39d5b4]=_0x2ca88b(_0x5f4993[_0x58ff39(0x3fd)]);this['eventListener']['publish']({'event':_0x42b9de===_0x564b37[_0x58ff39(0x51f)][_0x58ff39(0x5da)]?_0x564b37['StorageEventType'][_0x58ff39(0x708)]:_0x564b37['StorageEventType'][_0x58ff39(0x315)],'payload':{'name':_0x39d5b4,'path':_0x4dbc44,'pathName':_0x5f4993['path']}}),this[_0x58ff39(0x764)]();}async[_0x2e7de5(0x4e3)](_0x4da625,_0x15b885=!0x1){const _0x5b7e9b=_0x2e7de5;if(!_0x15b885&&!this[_0x5b7e9b(0x49e)](_0x4da625))return this[_0x5b7e9b(0x36d)][_0x5b7e9b(0x7ee)](_0x4da625['newPath'],this[_0x5b7e9b(0x36d)][_0x5b7e9b(0x6ba)](_0x4da625[_0x5b7e9b(0x3fd)])??_0x4da625[_0x5b7e9b(0x3fd)]),void this[_0x5b7e9b(0x36d)][_0x5b7e9b(0x428)](_0x4da625[_0x5b7e9b(0x3fd)]);this[_0x5b7e9b(0x36d)][_0x5b7e9b(0x428)](_0x4da625[_0x5b7e9b(0x3fd)]);const _0x1d1f20=await this['objectStoreConnector'][_0x5b7e9b(0x559)](_0x4da625[_0x5b7e9b(0x3fd)],_0x4da625[_0x5b7e9b(0x98e)]),[_0x57de5d,_0x5dfc0e]=_0x2ca88b(_0x4da625['path']),[_0x2310ce,_0x39633a]=_0x2ca88b(_0x4da625[_0x5b7e9b(0x98e)]);this[_0x5b7e9b(0x3b0)][_0x5b7e9b(0x4df)]({'event':_0x1d1f20===_0x564b37[_0x5b7e9b(0x51f)]['Folder']?_0x564b37['StorageEventType'][_0x5b7e9b(0xa06)]:_0x564b37[_0x5b7e9b(0x7de)][_0x5b7e9b(0x929)],'payload':{'name':_0x39633a,'path':_0x2310ce,'pathName':_0x4da625['newPath'],'oldName':_0x5dfc0e,'oldPath':_0x57de5d,'oldPathName':_0x4da625[_0x5b7e9b(0x3fd)]}}),this['sendStats']();}[_0x2e7de5(0x49e)](_0x25b3c8){const _0x4d4b1a=_0x2e7de5,_0x16c1b8=this[_0x4d4b1a(0x36d)][_0x4d4b1a(0x6ba)](_0x25b3c8['path'])??_0x25b3c8['path'];let _0x5de1d8=!0x1;for(const _0x57ca2b of this[_0x4d4b1a(0x2b8)][_0x4d4b1a(0x1c7)]())if(_0x57ca2b[_0x4d4b1a(0x78d)](_0x16c1b8)){const _0x37a4a4=this['pendingFilesTransactions'][_0x4d4b1a(0x6ba)](_0x57ca2b)??[];_0x37a4a4[_0x4d4b1a(0x67b)](_0x25b3c8),this[_0x4d4b1a(0x90c)][_0x4d4b1a(0x7ee)](_0x57ca2b,_0x37a4a4),_0x5de1d8=!0x0;}return!_0x5de1d8;}async[_0x2e7de5(0x8ac)](_0x835edf){const _0x16f58b=_0x2e7de5;if(!this[_0x16f58b(0x7e9)]?.['standalone']){if(!_0x835edf['id'])throw new _0x26bf2d(_0x26bf2d[_0x16f58b(0x269)][_0x16f58b(0x843)],{'message':'Missing\x20transaction\x20id'});if(_0x835edf[_0x16f58b(0x6c1)]!==this[_0x16f58b(0x399)])throw new _0x26bf2d(_0x26bf2d['codes'][_0x16f58b(0x9b3)]);await this['transactionService']['writeTransaction'](_0x835edf,this['label']),await this[_0x16f58b(0x932)](_0x835edf['id']);}}async['updateLastTransactionId'](_0x451f02){const _0x17b80e=_0x2e7de5;this[_0x17b80e(0x399)]=_0x451f02;const _0x17e779=new File([new Blob([this[_0x17b80e(0x399)]])],_0x132daf,{'type':'text/plain'});await this[_0x17b80e(0x33c)](_0x17e779,'/');}async['handleFileRequest'](_0x44185b){const _0x4fc54e=_0x2e7de5;try{const _0x527d39=await this[_0x4fc54e(0x6ba)](_0x44185b[_0x4fc54e(0x3fd)]+'/'+_0x44185b['name'],{'skipEncryption':_0x44185b[_0x4fc54e(0x6e1)]}),_0x23f43e=await _0x43bcb8(_0x527d39);if(''!==_0x44185b[_0x4fc54e(0x588)]&&_0x23f43e!==_0x44185b[_0x4fc54e(0x588)])return;_0x44185b[_0x4fc54e(0x7cc)]=this['localNode'][_0x4fc54e(0x2ab)](),_0x44185b[_0x4fc54e(0x935)]=_0xa33b6e['RequestAccepted'],await this[_0x4fc54e(0x4d9)](_0x44185b,[_0x44185b[_0x4fc54e(0x194)]]);}catch(_0x488d32){}}async[_0x2e7de5(0x983)](_0x380229){const _0x1b40d9=_0x2e7de5,_0x95cd98=_0x4c288f(_0x380229[_0x1b40d9(0x3fd)],_0x380229[_0x1b40d9(0x243)]);if(!this[_0x1b40d9(0x56f)][_0x1b40d9(0x1a4)](_0x95cd98))return;const _0x4b3c39=this[_0x1b40d9(0x56f)][_0x1b40d9(0x6ba)](_0x95cd98);_0x4b3c39[_0x1b40d9(0x935)]=_0xa33b6e['RequestFileSync'];const _0x1b78cc=_0x380229[_0x1b40d9(0x7cc)];if(!_0x1b78cc)throw new _0x26bf2d(_0x26bf2d[_0x1b40d9(0x269)]['ObjectStoreInvalidSyncMessage'],{'message':_0x1b40d9(0x387)});if(this[_0x1b40d9(0x56f)][_0x1b40d9(0x428)](_0x95cd98),this[_0x1b40d9(0x2f7)][_0x1b40d9(0x1a4)](_0x1b78cc)||this['pendingFilesSyncing']['set'](_0x1b78cc,new Map()),this[_0x1b40d9(0x2f7)][_0x1b40d9(0x6ba)](_0x1b78cc)[_0x1b40d9(0x7ee)](_0x95cd98,[_0x4b3c39,this['getOrResetPendingFileTimeout'](_0x1b78cc,_0x95cd98)]),_0x4b3c39['answererId']=_0x1b78cc,_0x4b3c39['startIndex']=this['fileChunks'][_0x1b40d9(0x6ba)](_0x95cd98)?.['chunksReceived']??0x0,0x0===_0x4b3c39[_0x1b40d9(0x688)])try{const [_0x3c04cd,_0x5f3398]=await this[_0x1b40d9(0xa26)](_0x380229['name'],_0x380229[_0x1b40d9(0x3fd)],_0x380229[_0x1b40d9(0x588)]);_0x3c04cd&&(_0x4b3c39[_0x1b40d9(0x688)]=_0x5f3398);}catch(_0x321cb0){}this['send'](_0x4b3c39,[_0x1b78cc]);}async[_0x2e7de5(0x8e0)](_0x59cd66){const _0x5f06d9=_0x2e7de5,_0x2d375c=_0x4c288f(_0x59cd66[_0x5f06d9(0x3fd)],_0x59cd66['name']),_0x4dd2b5=await this[_0x5f06d9(0x6ba)](_0x2d375c,{'skipEncryption':_0x59cd66[_0x5f06d9(0x6e1)]}),_0x5671c6={..._0x59cd66,'answererId':this[_0x5f06d9(0x1cc)][_0x5f06d9(0x2ab)](),'action':_0xa33b6e[_0x5f06d9(0x296)],'startIndex':_0x59cd66[_0x5f06d9(0x688)]??0x0};await this['sendFile'](_0x4dd2b5,_0x5671c6,[_0x59cd66['sourceId']]);}async['sendFile'](_0x2c55e9,_0x54a77e,_0x59880a){let _0x1621c7,_0x5b076c;const _0x3eaf6f=new Promise(async(_0x2acdaf,_0x109df)=>{_0x1621c7=_0x2acdaf,_0x5b076c=_0x109df;});return((async()=>{const _0x12b4c2=a0_0x4258,_0x23bfbd=Math['ceil'](_0x2c55e9[_0x12b4c2(0x777)]/_0x38b122);let _0x56d029=_0x54a77e[_0x12b4c2(0x688)]??0x0;const _0x28a978=_0x4c288f(_0x54a77e[_0x12b4c2(0x3fd)],_0x54a77e[_0x12b4c2(0x243)]);this['fileSendingMap']['set'](_0x28a978,[!0x1,_0x3eaf6f]);for await(const _0x391254 of async function*(_0x2fb710,_0x2216d4=0x0,_0x557b3d){for await(const _0x12902c of _0x4fb7f4(_0x2fb710,_0x2216d4,_0x557b3d))yield _0x12902c;}(_0x2c55e9,_0x56d029,this[_0x12b4c2(0x301)])){const [_0x2a8b5d]=this[_0x12b4c2(0x83f)]['get'](_0x28a978)??[];if(_0x2a8b5d)return this['fileSendingMap']['delete'](_0x28a978),void _0x5b076c(new Error(_0x12b4c2(0x9db)));if(this['pendingFilesTransactions'][_0x12b4c2(0x1a4)](_0x28a978)){const _0x330ed0=this['pendingFilesTransactions'][_0x12b4c2(0x6ba)](_0x28a978);for(const _0x48f729 of _0x330ed0)if(_0x48f729[_0x12b4c2(0x935)]===_0xa33b6e['FileWrite']||_0x48f729[_0x12b4c2(0x935)]===_0xa33b6e[_0x12b4c2(0x2e2)])return;}const _0x586c9f={..._0x54a77e,'type':_0x2c55e9[_0x12b4c2(0x926)],'data':_0x391254,'index':_0x56d029,'total':_0x23bfbd};this[_0x12b4c2(0x4d9)](_0x586c9f,_0x59880a),_0x56d029++;}const _0x529af5=setInterval(async()=>{const _0xf55c28=_0x12b4c2;await this[_0xf55c28(0x301)]()>0x0||(clearInterval(_0x529af5),_0x1621c7());});this[_0x12b4c2(0x83f)][_0x12b4c2(0x428)](_0x28a978);})()),_0x3eaf6f;}async[_0x2e7de5(0xa74)](_0x22ffb7){const _0x1eb4c8=_0x2e7de5;try{const _0x384227=_0x4c288f(_0x22ffb7[_0x1eb4c8(0x3fd)],_0x22ffb7[_0x1eb4c8(0x243)]),_0x5cae43=_0x384227+_0x5d4840;await this[_0x1eb4c8(0x394)](_0x5cae43);const [,_0x5246f2]=this[_0x1eb4c8(0x2f7)][_0x1eb4c8(0x6ba)](_0x22ffb7[_0x1eb4c8(0x7cc)])?.[_0x1eb4c8(0x6ba)](_0x384227)??[];_0x5246f2&&(clearTimeout(_0x5246f2),this[_0x1eb4c8(0x2f7)][_0x1eb4c8(0x6ba)](_0x22ffb7[_0x1eb4c8(0x7cc)])['delete'](_0x384227));}catch(_0x490fa2){}0x0===this['pendingFilesSyncing']['get'](_0x22ffb7['answererId'])?.[_0x1eb4c8(0x777)]&&this[_0x1eb4c8(0x2f7)]['delete'](_0x22ffb7['answererId']),0x0===this['pendingFilesSyncing'][_0x1eb4c8(0x777)]&&0x0===this[_0x1eb4c8(0x56f)]['size']&&this[_0x1eb4c8(0x999)]();}async[_0x2e7de5(0x4ba)](){const _0x45d217=_0x2e7de5;try{const _0x414985=await this[_0x45d217(0x726)]['getTransactions'](this[_0x45d217(0x7b6)],this[_0x45d217(0x399)]);for(const _0x27a0a0 of _0x414985)await this[_0x45d217(0x631)](_0x27a0a0,!0x0);}catch(_0x21db33){if(_0x21db33 instanceof _0x26bf2d&&_0x21db33['code']===_0x26bf2d[_0x45d217(0x269)][_0x45d217(0x6c5)]){await this[_0x45d217(0x2f6)]['deleteObject'](_0x132daf),delete this[_0x45d217(0x399)];try{const _0x55a249=await this[_0x45d217(0x2f6)][_0x45d217(0x81b)]('/',!0x1);for(const _0xed4f61 of _0x55a249)await this[_0x45d217(0x2f6)][_0x45d217(0x394)](_0xed4f61[_0x45d217(0x9d5)]);}catch(_0x55c724){}return await this['syncTransactions']();}throw _0x21db33;}}async['syncPendingFiles'](){const _0x1aac55=_0x2e7de5,_0x1ce1c0=await this[_0x1aac55(0x81b)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x35179f=async _0xebe00b=>{const _0x42aeaa=_0x1aac55;for(const _0x1c09cf of _0xebe00b){if(_0x1c09cf[_0x42aeaa(0x9fa)]===_0x564b37['ObjectKind'][_0x42aeaa(0x5da)]){_0x1c09cf[_0x42aeaa(0x4d1)]&&_0x1c09cf['entries'][_0x42aeaa(0x727)]>0x0&&await _0x35179f(_0x1c09cf[_0x42aeaa(0x4d1)]);continue;}if(_0x1c09cf[_0x42aeaa(0x2ea)]!==_0x564b37[_0x42aeaa(0x5a5)]['Pending'])continue;const _0x3ec08f=await this['get'](_0x1c09cf[_0x42aeaa(0x9d5)]+_0x5d4840),_0x2ca555=JSON['parse'](await _0x3ec08f[_0x42aeaa(0x4b9)]()),_0x5c7a49=_0x1c09cf[_0x42aeaa(0x243)][_0x42aeaa(0x4fb)](_0x5d4840,''),_0x3e1a15={'payloadType':_0x40890f[_0x42aeaa(0xa1a)],'action':_0xa33b6e[_0x42aeaa(0x639)],'sourceId':this['localNode'][_0x42aeaa(0x2ab)](),'type':'','path':_0x1c09cf['path'],'name':_0x5c7a49,'checksum':_0x2ca555[_0x42aeaa(0x588)],'skipEncryption':_0x2ca555[_0x42aeaa(0x6e1)]},_0x14c4e5=_0x4c288f(_0x1c09cf['path'],_0x5c7a49);this['objectRequests']['set'](_0x14c4e5,_0x3e1a15);}};await _0x35179f(_0x1ce1c0),0x0===this[_0x1aac55(0x56f)][_0x1aac55(0x777)]&&0x0===this[_0x1aac55(0x2f7)][_0x1aac55(0x777)]&&this['completeSync']();}async[_0x2e7de5(0x831)](_0x334492,_0x4c6fb4,_0x3d33b1){const _0x4d587d=_0x2e7de5,_0x2414e2=new File([new Blob([JSON[_0x4d587d(0x178)](_0x3d33b1)])],''+_0x334492+_0x5d4840,{'type':_0x4d587d(0x46a)});await this[_0x4d587d(0x33c)](_0x2414e2,_0x4c6fb4);}async['checkExistingPendingFileContent'](_0x113433,_0x120338,_0x4b9921){const _0x2fd535=_0x2e7de5;try{const _0x53dbde=_0x4c288f(_0x120338,_0x113433),_0x463264=_0x53dbde+_0x5d4840,_0x55cfac=await this[_0x2fd535(0x2f6)][_0x2fd535(0x6ba)](_0x463264),{checksum:_0x5951f7,skipEncryption:_0x2a227b}=JSON[_0x2fd535(0xa82)](await _0x55cfac[_0x2fd535(0x4b9)]()),_0x4ed238=(await this['objectStoreConnector']['get'](_0x53dbde,{'skipEncryption':_0x2a227b}))[_0x2fd535(0x777)];return _0x5951f7===_0x4b9921&&_0x4ed238%_0x38b122==0x0?[!0x0,Math['round'](_0x4ed238/_0x38b122)]:(await this[_0x2fd535(0x2f6)]['deleteObject'](_0x53dbde),[!0x1,0x0]);}catch(_0x576c6c){return[!0x1,0x0];}}[_0x2e7de5(0x209)](_0xdcdd03,_0x385a68){const _0x3cab69=_0x2e7de5,[_0x4a26d3,_0x126e7c]=this['pendingFilesSyncing']['get'](_0xdcdd03)?.[_0x3cab69(0x6ba)](_0x385a68)??[];return _0x126e7c&&clearTimeout(_0x126e7c),setTimeout(()=>{const _0x3705d0=_0x3cab69,[_0x168cc9,_0x39930b]=this['pendingFilesSyncing'][_0x3705d0(0x6ba)](_0xdcdd03)[_0x3705d0(0x6ba)](_0x385a68);this['sendFileRequestPayload'](_0x168cc9,_0x39930b);},0x927c0);}async[_0x2e7de5(0x283)](_0x594e69,_0x7729c2){const _0x5274f9=_0x2e7de5;clearTimeout(_0x7729c2),_0x594e69[_0x5274f9(0x935)]=_0xa33b6e[_0x5274f9(0x639)],this['objectRequests'][_0x5274f9(0x7ee)](_0x4c288f(_0x594e69[_0x5274f9(0x3fd)],_0x594e69[_0x5274f9(0x243)]),_0x594e69),this['send'](_0x594e69);}[_0x2e7de5(0x34e)](_0x4d158e,_0x4dfa31){const _0x2d1783=_0x2e7de5;if(!this[_0x2d1783(0x5b5)])return;this['pendingFilesSyncing'][_0x2d1783(0x1a4)](_0x4d158e['answererId'])||this[_0x2d1783(0x2f7)][_0x2d1783(0x7ee)](_0x4d158e[_0x2d1783(0x7cc)],new Map());const [_0x52cdf0]=this[_0x2d1783(0x2f7)][_0x2d1783(0x6ba)](_0x4d158e[_0x2d1783(0x7cc)])[_0x2d1783(0x6ba)](_0x4dfa31)??[{'payloadType':_0x40890f[_0x2d1783(0xa1a)],'action':_0xa33b6e[_0x2d1783(0x639)],'sourceId':this['localNode'][_0x2d1783(0x2ab)](),'type':_0x4d158e[_0x2d1783(0x926)],'name':_0x4d158e[_0x2d1783(0x243)],'path':_0x4d158e[_0x2d1783(0x3fd)],'skipEncryption':_0x4d158e[_0x2d1783(0x6e1)],'checksum':_0x4d158e[_0x2d1783(0x588)],'answererId':_0x4d158e[_0x2d1783(0x7cc)]}];this['pendingFilesSyncing']['get'](_0x4d158e['answererId'])['set'](_0x4dfa31,[_0x52cdf0,this[_0x2d1783(0x209)](_0x4d158e[_0x2d1783(0x7cc)],_0x4dfa31)]);}async['writeFile'](_0x12beaa,_0x315b43,_0x5c3321){const _0x384bf1=_0x2e7de5;this[_0x384bf1(0x214)]&&(this[_0x384bf1(0x54c)]+=0x1),await this['objectStoreConnector'][_0x384bf1(0x33c)](_0x12beaa,_0x315b43,_0x5c3321);}async[_0x2e7de5(0x394)](_0x4d25df){const _0x31b8ee=_0x2e7de5;try{const _0x5e7fe8=await this['objectStoreConnector'][_0x31b8ee(0x394)](_0x4d25df);if(!_0x4d25df[_0x31b8ee(0x2cc)](_0x5d4840))try{await this[_0x31b8ee(0x2f6)]['deleteObject'](_0x4d25df+_0x5d4840);}catch(_0x17bac0){}return this[_0x31b8ee(0x214)]&&_0x5e7fe8===_0x564b37[_0x31b8ee(0x51f)][_0x31b8ee(0x3c9)]&&(this[_0x31b8ee(0x54c)]+=0x1),_0x5e7fe8;}catch(_0x467126){return await this[_0x31b8ee(0x2f6)][_0x31b8ee(0x394)](_0x4d25df+_0x5d4840);}}async[_0x2e7de5(0x559)](_0x51769f,_0x1b4d34){const _0x8ed1e9=_0x2e7de5;try{const _0x5ac726=await this[_0x8ed1e9(0x2f6)][_0x8ed1e9(0x559)](_0x51769f,_0x1b4d34);if(!_0x51769f[_0x8ed1e9(0x2cc)](_0x5d4840))try{await this['objectStoreConnector'][_0x8ed1e9(0x559)](_0x51769f+_0x5d4840,_0x1b4d34+_0x5d4840);}catch(_0x1bb7cc){}return _0x5ac726;}catch(_0x366b25){return await this[_0x8ed1e9(0x2f6)][_0x8ed1e9(0x559)](_0x51769f+_0x5d4840,_0x1b4d34+_0x5d4840);}}[_0x2e7de5(0x764)](){const _0x5b0f41=_0x2e7de5;this[_0x5b0f41(0x478)]&&clearTimeout(this[_0x5b0f41(0x478)]),this['debounceStats']=setTimeout(async()=>{const _0x23048a=_0x5b0f41;delete this[_0x23048a(0x478)];const _0x25ff2a=await this['objectStoreConnector']['calculateSize']('/');this[_0x23048a(0x24d)]?.[_0x23048a(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x23048a(0x938)],'content':{'type':_0x5ba456[_0x23048a(0xa40)],'label':this[_0x23048a(0x7b6)],'stats':{'timestamp':Date[_0x23048a(0x974)](),'storage':_0x25ff2a,'messagesSent':this[_0x23048a(0x7a2)],'messagesReceived':this[_0x23048a(0x31f)],'bytesSent':this[_0x23048a(0x3e0)],'bytesReceived':this[_0x23048a(0x1be)],'writes':this[_0x23048a(0x4e4)],'reads':this[_0x23048a(0x58a)],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x31c6d3['logStorage'](_0x45bb51[_0x23048a(0x759)],_0x23048a(0x497)+this['clusterId']+'ccc'+this[_0x23048a(0x7b6)],_0x25ff2a);},_0x91f37e);}async[_0x2e7de5(0x278)](_0x33173c){const _0x3b2d49=_0x2e7de5;try{return await this[_0x3b2d49(0x6ba)](_0x33173c),!0x0;}catch(_0x56a7ec){return!0x1;}}async['deleteFileChunks'](_0x123a32){const _0x102b53=_0x2e7de5;if(!this[_0x102b53(0x2b8)][_0x102b53(0x1a4)](_0x123a32))return;const _0x5e0626=this[_0x102b53(0x2b8)][_0x102b53(0x6ba)](_0x123a32);if(_0x5e0626[_0x102b53(0x571)])try{await _0x5e0626[_0x102b53(0x571)][_0x102b53(0x6f0)]();}catch(_0x369a7b){console['error'](_0x102b53(0x723),_0x369a7b);}this[_0x102b53(0x2b8)][_0x102b53(0x428)](_0x123a32);}}class _0x1506a9 extends _0x231971{[_0x2e7de5(0x1cc)];['clusterId'];[_0x2e7de5(0x576)]=new Map();[_0x2e7de5(0x478)];constructor(_0x10bef4,_0x2526da,_0x23c25c){const _0x2b1c1a=_0x2e7de5;if(_0x2b1c1a(0x5ea)!=typeof _0x2526da)throw new _0x412649(_0xa32e41[_0x2b1c1a(0x8bf)],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x10bef4,_0x2526da),this[_0x2b1c1a(0x1cc)]=_0x10bef4,this[_0x2b1c1a(0x966)]=_0x23c25c,this[_0x2b1c1a(0x764)]();}['reset'](){this['sendStats']();}[_0x2e7de5(0x924)](){const _0x3fbfac=_0x2e7de5;return _0x564b37['ContentType'][_0x3fbfac(0x380)];}[_0x2e7de5(0x4df)](_0x45a1e6,_0xc06181){const _0xa0a7b3=_0x2e7de5;_0x31c6d3['log'](_0x2387f2['PubSub'],_0xa0a7b3(0x91c),this[_0xa0a7b3(0x1cc)][_0xa0a7b3(0x2ab)](),_0x45a1e6,_0xc06181),_0x31c6d3[_0xa0a7b3(0xa10)](_0x45bb51[_0xa0a7b3(0x380)],{'type':_0xa0a7b3(0x4df),'label':this[_0xa0a7b3(0x7b6)],'nodeId':this[_0xa0a7b3(0x1cc)][_0xa0a7b3(0x2ab)](),'nodeType':this[_0xa0a7b3(0x1cc)][_0xa0a7b3(0x926)],'clusterId':this[_0xa0a7b3(0x966)],'remoteIds':_0xc06181??[],'contentType':_0x45a1e6 instanceof File?_0x564b37['ContentType'][_0xa0a7b3(0x3c9)]:_0x564b37['ContentType']['Data'],'size':_0x45a1e6 instanceof File?_0x45a1e6[_0xa0a7b3(0x777)]:JSON[_0xa0a7b3(0x178)](_0x45a1e6)[_0xa0a7b3(0x727)]}),this[_0xa0a7b3(0x764)](),this[_0xa0a7b3(0x4d9)](_0x45a1e6,_0xc06181);}['subscribe'](_0x541609,_0x49b52c){const _0x186ca5=_0x2e7de5;if(this[_0x186ca5(0x576)]['has'](_0x541609))throw new _0x412649(_0xa32e41[_0x186ca5(0x88a)],_0x186ca5(0x6e6));this[_0x186ca5(0x576)]['set'](_0x541609,this[_0x186ca5(0x805)]((_0x11b536,_0x98f993)=>{const _0x328a41=_0x186ca5;_0x328a41(0x672)===_0x541609&&_0x98f993 instanceof File||!('file'!==_0x541609||_0x98f993 instanceof File)||(_0x31c6d3[_0x328a41(0x65c)](_0x2387f2[_0x328a41(0x380)],'PubSubTopic\x20onMessage',this['localNode'][_0x328a41(0x2ab)](),_0x11b536,_0x98f993),_0x31c6d3[_0x328a41(0xa10)](_0x45bb51['PubSub'],{'type':_0x328a41(0x683),'label':this[_0x328a41(0x7b6)],'nodeId':this[_0x328a41(0x1cc)][_0x328a41(0x2ab)](),'nodeType':this[_0x328a41(0x1cc)][_0x328a41(0x926)],'clusterId':this[_0x328a41(0x966)],'remoteId':_0x11b536,'contentType':_0x541609,'size':_0x98f993 instanceof File?_0x98f993[_0x328a41(0x777)]:JSON[_0x328a41(0x178)](_0x98f993)[_0x328a41(0x727)]}),this[_0x328a41(0x764)](),_0x49b52c(_0x11b536,_0x98f993));}));}[_0x2e7de5(0x615)](_0x256d2b){const _0x1af29f=_0x2e7de5;this[_0x1af29f(0x576)][_0x1af29f(0x6ba)](_0x256d2b)?.(),this[_0x1af29f(0x576)][_0x1af29f(0x428)](_0x256d2b);}[_0x2e7de5(0x736)](){const _0x5df75f=_0x2e7de5;this[_0x5df75f(0x576)][_0x5df75f(0x270)](_0x3dc14b=>_0x3dc14b()),clearTimeout(this[_0x5df75f(0x478)]),delete this['debounceStats'],super[_0x5df75f(0x736)]();}[_0x2e7de5(0x6f0)](){const _0x143291=_0x2e7de5;this[_0x143291(0x24d)]?.[_0x143291(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x143291(0x938)],'content':{'type':_0x5ba456[_0x143291(0x524)],'label':this[_0x143291(0x7b6)]}});}[_0x2e7de5(0x764)](){const _0x3007ff=_0x2e7de5;this[_0x3007ff(0x478)]&&clearTimeout(this[_0x3007ff(0x478)]),this['debounceStats']=setTimeout(()=>{const _0x55c911=_0x3007ff;this[_0x55c911(0x24d)]?.[_0x55c911(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x55c911(0x938)],'content':{'type':_0x5ba456[_0x55c911(0x4f8)],'label':this[_0x55c911(0x7b6)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x55c911(0x7a2)],'messagesReceived':this[_0x55c911(0x31f)],'bytesSent':this[_0x55c911(0x3e0)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x91f37e);}}class _0x439073 extends _0x3b8b6e{[_0x2e7de5(0x1cc)];[_0x2e7de5(0x99e)];['availableTrackKinds'];['clusterId'];[_0x2e7de5(0x576)];[_0x2e7de5(0x62d)];[_0x2e7de5(0x2c1)];[_0x2e7de5(0xa0a)]=new Map();[_0x2e7de5(0x63f)];[_0x2e7de5(0x505)]=new Set();[_0x2e7de5(0x8fb)];[_0x2e7de5(0x460)]=_0x37766();[_0x2e7de5(0x1eb)]=new Map();constructor(_0x317904,_0x405dc9,_0x7c837f,_0x4431a6,_0x5abfcb,_0x280f11){const _0x571c2b=_0x2e7de5;super(_0x405dc9,_0x7c837f,new MediaStream()),this[_0x571c2b(0x1cc)]=_0x317904,this[_0x571c2b(0x99e)]=_0x4431a6,this[_0x571c2b(0x255)]=_0x5abfcb,this[_0x571c2b(0x966)]=_0x280f11,this[_0x571c2b(0x994)][_0x571c2b(0x527)]()[_0x571c2b(0x270)](_0x26124b=>this[_0x571c2b(0x6bb)](_0x26124b));}['destroy'](){const _0x3fce83=_0x2e7de5;this['outgoingStreams'][_0x3fce83(0x777)]>0x0&&(this[_0x3fce83(0xa0a)][_0x3fce83(0x270)](_0x1fd2ba=>{const _0x441937=_0x3fce83;_0x1fd2ba[_0x441937(0x910)](),_0x1fd2ba[_0x441937(0x736)]();}),this[_0x3fce83(0xa0a)]['clear']()),this[_0x3fce83(0x1eb)]['forEach'](_0x36b70b=>_0x36b70b()),this[_0x3fce83(0x994)][_0x3fce83(0x527)]()['forEach'](_0x35e247=>this['mediaStream'][_0x3fce83(0x743)](_0x35e247)),this[_0x3fce83(0x2c1)]&&(clearTimeout(this[_0x3fce83(0x2c1)]),delete this[_0x3fce83(0x2c1)]),this['resizeHandler']?.(),super[_0x3fce83(0x736)]();}[_0x2e7de5(0x951)](_0x39b80b){const _0x476afe=_0x2e7de5;this['unsubscribeHandler']=_0x39b80b[_0x476afe(0x683)](({content:_0xb9ddd7})=>{const _0xf51934=_0x476afe;switch(_0xb9ddd7[_0xf51934(0x935)]){case _0xa17486[_0xf51934(0x579)]:if(_0x31c6d3[_0xf51934(0x65c)](_0x2387f2[_0xf51934(0x704)],_0xf51934(0x3cb),this[_0xf51934(0x1cc)][_0xf51934(0x2ab)](),this['providerId']),_0xb9ddd7[_0xf51934(0x571)]['id']!==this[_0xf51934(0x99e)]||_0xb9ddd7[_0xf51934(0x8fb)]!==this['providerId'])return;this[_0xf51934(0x743)](_0xb9ddd7['track']['kind']),this['mediaStream']['addTrack'](_0xb9ddd7[_0xf51934(0x9e5)]);for(const [_0x6da703,_0x17f544]of this[_0xf51934(0xa0a)][_0xf51934(0x4d1)]())try{_0x17f544[_0xf51934(0x835)](_0xb9ddd7['track']);}catch(_0xe2ec00){_0x17f544[_0xf51934(0x736)](),this['outgoingStreams']['delete'](_0x6da703);}this[_0xf51934(0x6bb)](_0xb9ddd7['track']),this[_0xf51934(0xa27)](),_0xf51934(0x6ed)===_0xb9ddd7[_0xf51934(0x9e5)][_0xf51934(0x9fa)]&&this[_0xf51934(0x63f)]&&(this['mediaStream']['active']?setTimeout(()=>this[_0xf51934(0x63f)]?.[_0xf51934(0x58e)](),0x0):setTimeout(()=>this[_0xf51934(0x63f)]?.['load'](),0x0),this[_0xf51934(0x4b1)]());break;case _0xa17486[_0xf51934(0x6a1)]:if(_0xb9ddd7['stream']['id']!==this[_0xf51934(0x99e)]||_0xb9ddd7[_0xf51934(0x8fb)]!==this[_0xf51934(0x8fb)])return;this[_0xf51934(0x743)](_0xb9ddd7['track'][_0xf51934(0x9fa)]),this[_0xf51934(0x63f)]&&_0xf51934(0x6ed)===_0xb9ddd7[_0xf51934(0x9e5)][_0xf51934(0x9fa)]&&(this[_0xf51934(0x62d)]?.(),this[_0xf51934(0x994)][_0xf51934(0x527)]()['length']>0x0?this['renderElement'][_0xf51934(0x55f)]():this[_0xf51934(0x63f)][_0xf51934(0x36e)]=null);}});}[_0x2e7de5(0x691)](){const _0x3cdd58=_0x2e7de5;this['unsubscribeHandler']?.(),this['trackEndedListeners'][_0x3cdd58(0x270)](_0x2b1282=>_0x2b1282()),delete this[_0x3cdd58(0x576)];}[_0x2e7de5(0x931)](){return this['internalId'];}[_0x2e7de5(0x457)](_0x11307b){const _0xf3257e=_0x2e7de5;this[_0xf3257e(0x99e)]=_0x11307b;}[_0x2e7de5(0x355)](){const _0x25ee31=_0x2e7de5;return this[_0x25ee31(0x255)];}[_0x2e7de5(0x9a3)](_0x29fea4){const _0x37f6e7=_0x2e7de5;for(const _0x21e224 of _0x29fea4||this[_0x37f6e7(0x255)])if(!this[_0x37f6e7(0x994)][_0x37f6e7(0x527)]()[_0x37f6e7(0x921)](_0x3a357e=>_0x3a357e[_0x37f6e7(0x9fa)]===_0x21e224))return!0x1;return!0x0;}[_0x2e7de5(0x4ac)](){const _0x57b342=_0x2e7de5;let _0x5a7826={'width':0x0,'height':0x0};const _0x477202=this['mediaStream'][_0x57b342(0x27c)]();if(_0x477202[_0x57b342(0x727)]>0x0){const _0x2dc02c=_0x477202[0x0]['getSettings']();_0x2dc02c[_0x57b342(0x381)]&&_0x2dc02c[_0x57b342(0x3c0)]&&(_0x5a7826={'width':_0x2dc02c[_0x57b342(0x381)],'height':_0x2dc02c[_0x57b342(0x3c0)]});}return _0x5a7826;}['isSubscribed'](_0x166c8b){const _0xfba7f1=_0x2e7de5;for(const _0x11558c of _0x166c8b)if(!this[_0xfba7f1(0x505)][_0xfba7f1(0x1a4)](_0x11558c))return!0x1;return!0x0;}[_0x2e7de5(0x49d)](_0x51b70a,_0x36ea71){const _0x19f9c6=_0x2e7de5;if(!this[_0x19f9c6(0xa0a)][_0x19f9c6(0x1a4)](_0x51b70a)){const _0x47243e=new _0xab208d(this[_0x19f9c6(0x1a7)],this[_0x19f9c6(0x7b6)],this[_0x19f9c6(0x994)],_0x51b70a,_0x36ea71),_0x5a73f8=_0x47243e[_0x19f9c6(0x5f5)](()=>{const _0x235c12=_0x19f9c6;_0x5a73f8(),this[_0x235c12(0xa0a)][_0x235c12(0x6ba)](_0x51b70a)?.[_0x235c12(0x736)](),this[_0x235c12(0xa0a)][_0x235c12(0x428)](_0x51b70a);});this[_0x19f9c6(0xa0a)][_0x19f9c6(0x7ee)](_0x51b70a,_0x47243e),_0x47243e[_0x19f9c6(0x796)](this[_0x19f9c6(0x24d)]);}return this[_0x19f9c6(0xa0a)][_0x19f9c6(0x6ba)](_0x51b70a);}[_0x2e7de5(0x36a)](){const _0x3e9cf3=_0x2e7de5;return this[_0x3e9cf3(0x994)]['id'];}[_0x2e7de5(0x8b4)](){const _0xdb7116=_0x2e7de5;return _0x564b37[_0xdb7116(0x964)]['Default'];}['getSubscribedTracks'](){const _0xeb2b79=_0x2e7de5;return Array[_0xeb2b79(0xa4b)](this[_0xeb2b79(0x505)]);}[_0x2e7de5(0x683)](_0x58ab95){const _0x44f12a=_0x2e7de5;let _0x1b8851=[];if(_0x58ab95){_0x44f12a(0x54b)!=typeof _0x58ab95[_0x44f12a(0x6ed)]||_0x58ab95['video'][_0x44f12a(0x63f)]instanceof HTMLVideoElement||!this[_0x44f12a(0x63f)]||(_0x58ab95[_0x44f12a(0x6ed)]={'renderElement':this[_0x44f12a(0x63f)]});try{(0x0,_0x564b37['isValidMediaSubscriptionParams'])(_0x58ab95);}catch(_0x3e6c58){throw new _0x412649(_0xa32e41[_0x44f12a(0x8f4)],'Invalid\x20params');}_0x58ab95[_0x44f12a(0x6ed)]&&(_0x1b8851[_0x44f12a(0x67b)](_0x44f12a(0x6ed)),'boolean'!=typeof _0x58ab95[_0x44f12a(0x6ed)]&&_0x58ab95[_0x44f12a(0x6ed)][_0x44f12a(0x63f)]&&(this['renderElement']=_0x58ab95[_0x44f12a(0x6ed)]['renderElement'],_0x58ab95[_0x44f12a(0x6ed)][_0x44f12a(0x7e6)]||(_0x58ab95[_0x44f12a(0x6ed)][_0x44f12a(0x7e6)]={'width':this[_0x44f12a(0x63f)][_0x44f12a(0x290)],'height':this[_0x44f12a(0x63f)]['clientHeight']}),delete _0x58ab95['video']['renderElement'])),_0x58ab95[_0x44f12a(0x20a)]&&_0x1b8851[_0x44f12a(0x67b)](_0x44f12a(0x20a));}else _0x1b8851=this['getAvailableTrackKinds']();this['isSubscribed'](_0x1b8851)||(_0x1b8851['forEach'](_0x5f4102=>this[_0x44f12a(0x505)][_0x44f12a(0x9eb)](_0x5f4102)),this['systemTopic']['publish']({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x44f12a(0x938)],'content':{'type':_0x5ba456[_0x44f12a(0x179)],'label':this[_0x44f12a(0x7b6)],'ownerId':this[_0x44f12a(0x1a7)][_0x44f12a(0x2ab)](),'trackKinds':_0x1b8851,'params':_0x58ab95}}),_0x31c6d3[_0x44f12a(0xa10)](_0x45bb51[_0x44f12a(0x739)],{'type':_0x44f12a(0x683),'label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x44f12a(0x1cc)][_0x44f12a(0x926)],'clusterId':this[_0x44f12a(0x966)],'sourceId':this['owner'][_0x44f12a(0x2ab)](),'streamId':this[_0x44f12a(0x99e)],'trackKinds':_0x1b8851}));}['update'](_0x452e97){const _0x1206ef=_0x2e7de5;try{(0x0,_0x564b37[_0x1206ef(0x3c2)])(_0x452e97);}catch(_0x17c499){throw new _0x412649(_0xa32e41['RemoteMediaStreamInvalidSubscriptionParams'],'Invalid\x20params');}this['updateDebounce']&&clearTimeout(this[_0x1206ef(0x2c1)]),this['updateDebounce']=setTimeout(()=>{const _0x2d4494=_0x1206ef;delete this[_0x2d4494(0x2c1)],this[_0x2d4494(0x24d)][_0x2d4494(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x2d4494(0x938)],'content':{'type':_0x5ba456[_0x2d4494(0x2ae)],'label':this[_0x2d4494(0x7b6)],'ownerId':this[_0x2d4494(0x1a7)][_0x2d4494(0x2ab)](),'params':_0x452e97}});},0x1f4);}[_0x2e7de5(0x615)](_0x50908e){const _0x1b4b35=_0x2e7de5;_0x50908e||(_0x50908e=this[_0x1b4b35(0x355)]()),(_0x50908e=Array[_0x1b4b35(0xa37)](_0x50908e)?_0x50908e:[_0x50908e])[_0x1b4b35(0x270)](_0xa55d8c=>this['subscribedTracks'][_0x1b4b35(0x428)](_0xa55d8c)),this[_0x1b4b35(0x24d)][_0x1b4b35(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b['Content'],'content':{'type':_0x5ba456[_0x1b4b35(0x3a5)],'label':this[_0x1b4b35(0x7b6)],'ownerId':this['owner'][_0x1b4b35(0x2ab)](),'trackKinds':_0x50908e,'remainingTracks':this[_0x1b4b35(0x505)][_0x1b4b35(0x777)]}});}['onProviderChange'](_0x468a10){const _0x10499e=_0x2e7de5;return this[_0x10499e(0x460)][_0x10499e(0x683)](_0x468a10);}[_0x2e7de5(0x3bd)](){const _0x1ac7e7=_0x2e7de5;return this[_0x1ac7e7(0x8fb)];}['setProviderId'](_0x281b40){const _0x59e46e=_0x2e7de5;this[_0x59e46e(0x8fb)]!==_0x281b40&&(this[_0x59e46e(0x8fb)]=_0x281b40,this[_0x59e46e(0x460)][_0x59e46e(0x4df)](_0x281b40));}[_0x2e7de5(0x299)](_0x506fa0){const _0x5e0e62=_0x2e7de5;this[_0x5e0e62(0x1eb)][_0x5e0e62(0x6ba)](_0x506fa0)?.(),this[_0x5e0e62(0x1eb)][_0x5e0e62(0x428)](_0x506fa0);}[_0x2e7de5(0x743)](_0xce2b9f){const _0x101e59=_0x2e7de5,_0x81b7e4=this['mediaStream'][_0x101e59(0x527)]()[_0x101e59(0x921)](_0x5c2648=>_0x5c2648['kind']===_0xce2b9f);_0x81b7e4&&(this['mediaStream']['removeTrack'](_0x81b7e4),this['outgoingStreams'][_0x101e59(0x270)](_0x590f0d=>_0x590f0d['removeTrack'](_0xce2b9f)),this[_0x101e59(0x1eb)][_0x101e59(0x6ba)](_0xce2b9f)?.());}[_0x2e7de5(0xa27)](){const _0x399012=_0x2e7de5;this[_0x399012(0x63f)]&&(this['renderElement'][_0x399012(0x36e)]&&this[_0x399012(0x63f)][_0x399012(0x36e)]===this[_0x399012(0x994)]||(this[_0x399012(0x63f)][_0x399012(0x36e)]=this[_0x399012(0x994)]));}[_0x2e7de5(0x4b1)](){const _0x52c1b5=_0x2e7de5;if(this[_0x52c1b5(0x63f)]&&!this[_0x52c1b5(0x62d)]&&'undefined'!=typeof ResizeObserver){let _0x559045=this[_0x52c1b5(0x63f)][_0x52c1b5(0x290)],_0x296036=this['renderElement']['clientHeight'];const _0x4ef018=new ResizeObserver(_0x138f12=>{const _0x19cc97=_0x52c1b5,{width:_0x54edb8,height:_0x2a1a23}=_0x138f12[0x0][_0x19cc97(0x5a0)];_0x559045===_0x54edb8&&_0x296036===_0x2a1a23||(_0x559045=Math[_0x19cc97(0x75e)](_0x54edb8),_0x296036=Math[_0x19cc97(0x75e)](_0x2a1a23),this[_0x19cc97(0x746)]({'video':{'maxResolution':{'width':_0x54edb8,'height':_0x2a1a23}}}));});_0x4ef018[_0x52c1b5(0x652)](this[_0x52c1b5(0x63f)]),this[_0x52c1b5(0x62d)]=()=>_0x4ef018[_0x52c1b5(0x7ae)]();}}[_0x2e7de5(0x311)](_0x1e6894){const _0x5bf5f7=_0x2e7de5,_0x12384f=[];for(const _0x585450 of this['subscribedTracks'])this[_0x5bf5f7(0x743)](_0x585450),_0x12384f[_0x5bf5f7(0x67b)](_0x585450);this[_0x5bf5f7(0x8fb)]&&this[_0x5bf5f7(0x24d)][_0x5bf5f7(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x5bf5f7(0x938)],'content':{'type':_0x5ba456[_0x5bf5f7(0x356)],'label':this['label'],'streamId':this['internalId'],'ownerId':this[_0x5bf5f7(0x1a7)]['getId'](),'providerId':this[_0x5bf5f7(0x8fb)],'trackKinds':_0x12384f}});}[_0x2e7de5(0x6bb)](_0x53ced3){const _0x5c5c17=_0x2e7de5,_0x2893cb=()=>this[_0x5c5c17(0x311)](_0x53ced3);_0x53ced3[_0x5c5c17(0x32c)](_0x5c5c17(0x9c9),_0x2893cb),_0x53ced3[_0x5c5c17(0x32c)](_0x5c5c17(0x7d9),_0x2893cb),this[_0x5c5c17(0x1eb)][_0x5c5c17(0x7ee)](_0x53ced3[_0x5c5c17(0x9fa)],()=>{const _0x35c256=_0x5c5c17;_0x53ced3[_0x35c256(0x862)](_0x35c256(0x9c9),_0x2893cb),_0x53ced3['removeEventListener'](_0x35c256(0x7d9),_0x2893cb),this[_0x35c256(0x1eb)][_0x35c256(0x428)](_0x53ced3[_0x35c256(0x9fa)]);});}}class _0x184a72 extends _0x231971{[_0x2e7de5(0x1cc)];['clusterId'];['vendorId'];['db'];['debounceStats'];[_0x2e7de5(0x4e4)]=0x0;[_0x2e7de5(0x58a)]=0x0;[_0x2e7de5(0x508)]=!0x1;constructor(_0x5291ee,_0x4b5d84,_0x41af15,_0x5b5273,_0x1afb23){const _0x580e4a=_0x2e7de5;if('string'!=typeof _0x4b5d84)throw new _0x412649(_0xa32e41['VectorDatabaseNameNotString'],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x5291ee,_0x4b5d84),this[_0x580e4a(0x1cc)]=_0x5291ee,this[_0x580e4a(0x966)]=_0x41af15,this['vendorId']=_0x5b5273;const _0x47c216=_0x580e4a(0x497)+this[_0x580e4a(0x9a1)]+_0x580e4a(0x497)+this[_0x580e4a(0x966)]+_0x580e4a(0x497)+this[_0x580e4a(0x7b6)];this['db']=new _0x1afb23(_0x47c216),this[_0x580e4a(0x764)]();}[_0x2e7de5(0x171)](){const _0xdc68fc=_0x2e7de5;return this[_0xdc68fc(0x508)];}['setIsLoaded'](_0x1a4035){const _0x4b0547=_0x2e7de5;this[_0x4b0547(0x508)]=_0x1a4035;}['destroy'](){const _0x5461fd=_0x2e7de5;clearTimeout(this['debounceStats']),delete this[_0x5461fd(0x478)],super[_0x5461fd(0x736)]();}[_0x2e7de5(0x6f0)](){const _0x473d7e=_0x2e7de5;this[_0x473d7e(0x24d)][_0x473d7e(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x473d7e(0x938)],'content':{'type':_0x5ba456[_0x473d7e(0x256)],'label':this[_0x473d7e(0x7b6)]}});}['reset'](){this['sendStats']();}[_0x2e7de5(0x924)](){const _0x27388c=_0x2e7de5;return _0x564b37[_0x27388c(0x8c6)][_0x27388c(0x721)];}[_0x2e7de5(0x8c8)](_0x940700,_0x35e7e1,_0x2b6a82,_0x3c7dff){const _0x10068f=_0x2e7de5,_0x5ef0ee=this['db'][_0x10068f(0x8c8)](_0x940700,_0x35e7e1,_0x2b6a82,_0x3c7dff);return this[_0x10068f(0x58a)]+=0x1,_0x31c6d3[_0x10068f(0xa10)](_0x45bb51[_0x10068f(0x721)],{'type':_0x10068f(0x8c8),'label':this[_0x10068f(0x7b6)],'nodeId':this['localNode'][_0x10068f(0x2ab)](),'nodeType':this[_0x10068f(0x1cc)]['type'],'clusterId':this['clusterId'],'size':0x0}),this[_0x10068f(0x764)](),_0x5ef0ee;}['insert'](_0x211b99,_0x3b744e,_0x3546ff,_0x41ba8b){const _0x4961b3=_0x2e7de5;this['db']['insert'](_0x211b99,_0x3b744e,_0x3546ff,_0x41ba8b),this[_0x4961b3(0x4e4)]+=0x1,_0x31c6d3['logServiceEvent'](_0x45bb51[_0x4961b3(0x721)],{'type':'insert','label':this[_0x4961b3(0x7b6)],'nodeId':this[_0x4961b3(0x1cc)][_0x4961b3(0x2ab)](),'nodeType':this[_0x4961b3(0x1cc)][_0x4961b3(0x926)],'clusterId':this['clusterId'],'size':_0x41ba8b[_0x4961b3(0x2c7)]((_0x25caae,_0x15d840)=>_0x25caae+_0x15d840[_0x4961b3(0x727)],0x0)}),this[_0x4961b3(0x764)]();}[_0x2e7de5(0x2b2)](_0x2ae3c7){const _0x15359c=_0x2e7de5;this['db']['remove'](_0x2ae3c7),this['writes']+=0x1,_0x31c6d3[_0x15359c(0xa10)](_0x45bb51[_0x15359c(0x721)],{'type':'remove','label':this[_0x15359c(0x7b6)],'nodeId':this[_0x15359c(0x1cc)][_0x15359c(0x2ab)](),'nodeType':this[_0x15359c(0x1cc)][_0x15359c(0x926)],'clusterId':this[_0x15359c(0x966)],'size':0x0}),this['sendStats']();}[_0x2e7de5(0x3cc)](_0x1a8434){const _0x672bd6=_0x2e7de5;this['db'][_0x672bd6(0x3cc)](_0x1a8434);}[_0x2e7de5(0x1f1)](_0x2b32aa){this['db']['loadFromDisk'](_0x2b32aa);}['sendStats'](){this['debounceStats']&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x560cbe=a0_0x4258;delete this[_0x560cbe(0x478)];const _0x3772d1=this['db'][_0x560cbe(0x766)]()[_0x560cbe(0xa61)];this[_0x560cbe(0x24d)][_0x560cbe(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x560cbe(0x938)],'content':{'type':_0x5ba456[_0x560cbe(0x788)],'label':this[_0x560cbe(0x7b6)],'stats':{'timestamp':Date['now'](),'storage':_0x3772d1,'messagesSent':this[_0x560cbe(0x7a2)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x560cbe(0x3e0)],'bytesReceived':this[_0x560cbe(0x1be)],'writes':this[_0x560cbe(0x4e4)],'reads':this[_0x560cbe(0x58a)],'prompts':0x0,'tokens':0x0}}}),_0x31c6d3['logStorage'](_0x45bb51['VectorDatabase'],'ccc'+this[_0x560cbe(0x966)]+_0x560cbe(0x497)+this[_0x560cbe(0x7b6)],_0x3772d1);},_0x91f37e);}}class _0x58e6ce{['id'];[_0x2e7de5(0x483)];['rank'];constructor(_0xbe7a3f,_0x3d0b83=new Set(),_0xd416ec){const _0x5568b5=_0x2e7de5;this['id']=_0xbe7a3f,this[_0x5568b5(0x483)]=_0x3d0b83,this[_0x5568b5(0x407)]=_0xd416ec;}[_0x2e7de5(0x6f0)](){const _0x23b217=_0x2e7de5;this[_0x23b217(0x407)]=void 0x0,this['remoteConnections'][_0x23b217(0x2a0)]();}[_0x2e7de5(0x2ab)](){return this['id'];}[_0x2e7de5(0xa48)](){const _0x36c035=_0x2e7de5;return this[_0x36c035(0x407)];}[_0x2e7de5(0x95c)](){const _0x3a2308=_0x2e7de5;return this[_0x3a2308(0x483)];}}class _0x58a063 extends _0x58e6ce{['id'];[_0x2e7de5(0x448)];[_0x2e7de5(0x6b4)];['remoteConnections'];[_0x2e7de5(0x407)];['type']=_0x564b37[_0x2e7de5(0x20b)]['User'];constructor(_0x1e0ca2,_0x4d6469,_0x3e32b2,_0x146be5=new Set(),_0x1f2a10){const _0x582db4=_0x2e7de5;super(_0x1e0ca2,_0x146be5,_0x1f2a10),this['id']=_0x1e0ca2,this[_0x582db4(0x448)]=_0x4d6469,this[_0x582db4(0x6b4)]=_0x3e32b2,this['remoteConnections']=_0x146be5,this[_0x582db4(0x407)]=_0x1f2a10;}['getDisplayName'](){return this['displayName'];}[_0x2e7de5(0x685)](){const _0x12224c=_0x2e7de5;return this[_0x12224c(0x6b4)];}}class _0xd32d9a{[_0x2e7de5(0x9a1)];[_0x2e7de5(0x966)];[_0x2e7de5(0x3ab)];constructor(_0x43b029,_0x34e1d5){const _0x57cb35=_0x2e7de5;this[_0x57cb35(0x9a1)]=_0x43b029,this[_0x57cb35(0x966)]=_0x34e1d5,this[_0x57cb35(0x3ab)]=_0x57cb35(0x497)+this[_0x57cb35(0x9a1)]+_0x57cb35(0x497)+this[_0x57cb35(0x966)];}async['writeTransaction'](_0x42df7c,_0x2ef1b8){const _0x5e196c=_0x2e7de5,_0x4bc77d=(0x0,_0x33249a[_0x5e196c(0x45e)])(_0x498ce8['getDatabase'](),_0x5e196c(0x37d)+this['clusterKey']+_0x5e196c(0x5b8)+_0x2ef1b8+_0x5e196c(0x3dd)+_0x42df7c['id']),_0x50d699=(0x0,_0x33249a[_0x5e196c(0x2b6)])(_0x4bc77d);_0x50d699['remove'](),_0x42df7c['parentId']||delete _0x42df7c['parentId'];try{await(0x0,_0x33249a[_0x5e196c(0x7ee)])(_0x4bc77d,_0x42df7c);}catch(_0x457c6b){throw await _0x50d699[_0x5e196c(0x452)](),new _0x26bf2d(_0x26bf2d[_0x5e196c(0x269)][_0x5e196c(0x6a5)]);}if(!0x1===(await(0x0,_0x33249a['runTransaction'])((0x0,_0x33249a[_0x5e196c(0x45e)])(_0x498ce8[_0x5e196c(0x647)](),_0x5e196c(0x37d)+this[_0x5e196c(0x3ab)]+_0x5e196c(0x5b8)+_0x2ef1b8+'/transactions/lastTransaction'),_0x273c13=>_0x273c13?_0x273c13===_0x42df7c[_0x5e196c(0x6c1)]?_0x42df7c['id']:void 0x0:_0x42df7c[_0x5e196c(0x6c1)]?_0x42df7c[_0x5e196c(0x6c1)]:_0x42df7c['id']))['committed'])throw await(0x0,_0x33249a[_0x5e196c(0x2b2)])(_0x4bc77d),await _0x50d699[_0x5e196c(0x452)](),new _0x26bf2d(_0x26bf2d[_0x5e196c(0x269)]['ObjectStoreNotSynced']);await _0x50d699[_0x5e196c(0x452)]();}async[_0x2e7de5(0x9a6)](_0x31fafe,_0x226996){const _0xafcfaf=_0x2e7de5;let _0x55e475=[];const _0x147cb7=(0x0,_0x33249a[_0xafcfaf(0x45e)])(_0x498ce8['getDatabase'](),_0xafcfaf(0x37d)+this['clusterKey']+_0xafcfaf(0x5b8)+_0x31fafe+'/transactions');let _0x5d9b5d=await(0x0,_0x33249a['get'])((0x0,_0x33249a[_0xafcfaf(0x65b)])(_0x147cb7,(0x0,_0x33249a['limitToFirst'])(0x65),(0x0,_0x33249a[_0xafcfaf(0x7ff)])()));if(!_0x5d9b5d[_0xafcfaf(0x56e)]()){if(void 0x0!==_0x226996)throw new _0x26bf2d(_0x26bf2d['codes']['ObjectStoreInvalidState']);return _0x55e475;}const _0x4508b6=_0x5d9b5d[_0xafcfaf(0x968)]();for(;Object['keys'](_0x5d9b5d['val']())['length']>0x64;){const _0x25dd6b=Object['keys'](_0x5d9b5d['val']()),_0x28390b=_0x25dd6b[_0x25dd6b[_0xafcfaf(0x727)]-0x1];_0x5d9b5d=await(0x0,_0x33249a[_0xafcfaf(0x6ba)])((0x0,_0x33249a['query'])(_0x147cb7,(0x0,_0x33249a['limitToFirst'])(0x65),(0x0,_0x33249a[_0xafcfaf(0x69a)])(_0x28390b),(0x0,_0x33249a[_0xafcfaf(0x7ff)])())),Object[_0xafcfaf(0x9f3)](_0x4508b6,_0x5d9b5d[_0xafcfaf(0x968)]());}if(_0x55e475=Object[_0xafcfaf(0x20c)](_0x4508b6)[_0xafcfaf(0x8bd)](_0x29d895=>'string'!=typeof _0x29d895),0x0===_0x55e475[_0xafcfaf(0x727)]&&void 0x0!==_0x226996)throw new _0x26bf2d(_0x26bf2d[_0xafcfaf(0x269)]['ObjectStoreInvalidState']);if(_0x55e475['length']>0x0&&void 0x0!==_0x226996&&!_0x55e475[_0xafcfaf(0x921)](_0x5045f5=>_0x5045f5['id']===_0x226996))throw new _0x26bf2d(_0x26bf2d[_0xafcfaf(0x269)]['ObjectStoreInvalidState']);const _0x20d86e=[];let _0x57333d=_0x55e475[_0xafcfaf(0x921)](_0x2024d1=>_0x2024d1[_0xafcfaf(0x6c1)]===_0x226996);for(;_0x57333d;)_0x20d86e[_0xafcfaf(0x67b)](_0x57333d),_0x57333d=_0x55e475['find'](_0x366d02=>_0x366d02[_0xafcfaf(0x6c1)]===_0x57333d['id']);return _0x20d86e;}}class _0x5154a6{[_0x2e7de5(0x562)];[_0x2e7de5(0x7e9)];['searchApiKey'];[_0x2e7de5(0x496)]=new Map();['remoteMediaStreams']=new Map();['pubSubTopics']=new Map();['objectStores']=new Map();[_0x2e7de5(0x238)]=new Map();[_0x2e7de5(0x18e)]=new Map();['vectorDatabases']=new Map();['graphDatabases']=new Map();[_0x2e7de5(0x87c)]=new Map();['jobWorkers']=new Map();[_0x2e7de5(0x726)];constructor(_0x1ce3a0,_0x4293f8,_0x331fb4){const _0x2d174f=_0x2e7de5;this[_0x2d174f(0x562)]=_0x1ce3a0,this[_0x2d174f(0x7e9)]=_0x4293f8,this[_0x2d174f(0x969)]=_0x331fb4,this[_0x2d174f(0x726)]=new _0xd32d9a(this[_0x2d174f(0x562)][_0x2d174f(0x9a1)],this[_0x2d174f(0x562)][_0x2d174f(0x966)]);}[_0x2e7de5(0x6f0)](_0x466b88=!0x1){const _0x264d05=_0x2e7de5;this[_0x264d05(0xa7b)][_0x264d05(0x270)]((_0x5eeb21,_0x493279)=>{_0x5eeb21['forEach']((_0x2db851,_0x12cb36)=>{const _0x4099ba=a0_0x4258;this[_0x4099ba(0x4f6)](_0x493279,_0x12cb36);});}),_0x466b88||(_0x1237dc[_0x264d05(0x2a0)](),this[_0x264d05(0x496)][_0x264d05(0x270)]((_0x34d559,_0x3382f8)=>{this['removeLocalMediaStream'](_0x3382f8);}),this['pubSubTopics']['forEach']((_0x1d0ede,_0x244f80)=>{const _0x3843f0=_0x264d05;this[_0x3843f0(0x4ad)](_0x244f80);}),this[_0x264d05(0x2be)][_0x264d05(0x270)]((_0x129a1b,_0x4583e2)=>{const _0x2ec800=_0x264d05;this[_0x2ec800(0x3ba)](_0x4583e2);}),this[_0x264d05(0x238)]['forEach']((_0x28a9e0,_0x20b90d)=>{const _0x2966f6=_0x264d05;this[_0x2966f6(0x7d0)](_0x20b90d);}),this[_0x264d05(0x18e)][_0x264d05(0x270)]((_0x61f042,_0x336d77)=>{const _0x5da592=_0x264d05;this[_0x5da592(0x480)](_0x336d77);}),this['jobDispatchers'][_0x264d05(0x270)]((_0x51d5d8,_0x441cd0)=>{const _0x3eb809=_0x264d05;this[_0x3eb809(0x1dd)](_0x441cd0);}),this[_0x264d05(0x933)]['forEach']((_0x45ed29,_0x1922f9)=>{const _0x28b1c8=_0x264d05;this[_0x28b1c8(0x3a8)](_0x1922f9);}),this[_0x264d05(0x4e5)][_0x264d05(0x270)]((_0x92d00d,_0x2179d2)=>{const _0x1189b0=_0x264d05;this[_0x1189b0(0x52e)](_0x2179d2);}),this['graphDatabases'][_0x264d05(0x270)]((_0x435e9d,_0x33f8b3)=>{const _0x1c9dd4=_0x264d05;this[_0x1c9dd4(0x2db)](_0x33f8b3);}));}['createObjectStoreBucket'](_0x55e019,_0x38f72b,_0x5a2c1a){const _0x2becbb=_0x2e7de5;if(this['objectStores'][_0x2becbb(0x1a4)](_0x55e019))throw new _0x412649(_0xa32e41['ObjectStoreAlreadyExists'],'Store\x20already\x20exists');const _0x162eb9=new _0x1a7bf4(this[_0x2becbb(0x562)][_0x2becbb(0x1cc)],_0x55e019,this[_0x2becbb(0x562)][_0x2becbb(0x966)],this[_0x2becbb(0x562)][_0x2becbb(0x9a1)],this['transactionService'],_0x38f72b,()=>this[_0x2becbb(0x562)][_0x2becbb(0x442)]['waitForArrayBufferSize'](),_0x5a2c1a);return this[_0x2becbb(0x2be)][_0x2becbb(0x7ee)](_0x55e019,_0x162eb9),this['configs'][_0x2becbb(0x442)][_0x2becbb(0x923)](_0x162eb9),_0x162eb9;}[_0x2e7de5(0x53e)](_0x3a6348,_0x157554){const _0x94e2bb=_0x2e7de5;if(this[_0x94e2bb(0x2be)][_0x94e2bb(0x1a4)](_0x3a6348))throw new _0x412649(_0xa32e41['ExternalStorageConnectionAlreadyExists'],_0x94e2bb(0x4c2));const _0x26b1c1=new _0x15b270(this[_0x94e2bb(0x562)][_0x94e2bb(0x1cc)],_0x3a6348,this[_0x94e2bb(0x562)]['clusterId'],this['configs'][_0x94e2bb(0x9a1)],_0x157554);return this[_0x94e2bb(0x238)]['set'](_0x3a6348,_0x26b1c1),this[_0x94e2bb(0x562)][_0x94e2bb(0x442)][_0x94e2bb(0x923)](_0x26b1c1),_0x26b1c1;}async[_0x2e7de5(0x758)](_0x1f858b,_0x187a40,_0x197e92){const _0x27be9a=_0x2e7de5;if(this['keyValueDatabases']['has'](_0x1f858b))throw new _0x412649(_0xa32e41[_0x27be9a(0x482)],'Database\x20already\x20exists');try{const _0x14b366=this[_0x27be9a(0x562)][_0x27be9a(0x442)][_0x27be9a(0xa84)][_0x27be9a(0x32d)](this['configs'][_0x27be9a(0x442)]),_0x17c427=new _0x2f6434(this['configs'][_0x27be9a(0x1cc)],_0x1f858b,this[_0x27be9a(0x562)][_0x27be9a(0x966)],this['configs'][_0x27be9a(0x9a1)],_0x187a40,_0x197e92,_0x14b366);return this['keyValueDatabases'][_0x27be9a(0x7ee)](_0x1f858b,_0x17c427),this[_0x27be9a(0x562)][_0x27be9a(0x442)][_0x27be9a(0x923)](_0x17c427),_0x17c427;}catch(_0x9f5dd5){if(_0x9f5dd5 instanceof _0x412649)throw _0x9f5dd5;throw new _0x26bf2d(_0x26bf2d['codes'][_0x27be9a(0x20e)],{'label':_0x1f858b,'clusterId':this[_0x27be9a(0x562)][_0x27be9a(0x966)],'vendorId':this[_0x27be9a(0x562)][_0x27be9a(0x9a1)]});}}async[_0x2e7de5(0x2e6)](_0x39c7b5,_0x22a960){const _0x5493e7=_0x2e7de5;if(this[_0x5493e7(0x87c)][_0x5493e7(0x1a4)](_0x39c7b5))throw new _0x412649(_0xa32e41['JobDispatcherAlreadyExists'],_0x5493e7(0x523));try{const _0x125a8=new _0x47814b(this[_0x5493e7(0x562)][_0x5493e7(0x1cc)],_0x39c7b5,_0x22a960);return this[_0x5493e7(0x87c)]['set'](_0x39c7b5,_0x125a8),this[_0x5493e7(0x562)][_0x5493e7(0x442)][_0x5493e7(0x923)](_0x125a8),_0x125a8;}catch(_0x1d4ad8){if(_0x1d4ad8 instanceof _0x412649)throw _0x1d4ad8;throw new _0x26bf2d(_0x26bf2d[_0x5493e7(0x269)][_0x5493e7(0x86d)],{'label':_0x39c7b5,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x5493e7(0x562)][_0x5493e7(0x9a1)]});}}async[_0x2e7de5(0x995)](_0x3f3d96,_0x3155b5){const _0x4486f2=_0x2e7de5;if(this[_0x4486f2(0x87c)][_0x4486f2(0x1a4)](_0x3f3d96))throw new _0x412649(_0xa32e41[_0x4486f2(0x429)],_0x4486f2(0x837));if(this['jobWorkers'][_0x4486f2(0x1a4)](_0x3f3d96))throw new _0x412649(_0xa32e41[_0x4486f2(0xa15)],_0x4486f2(0x444));try{const _0x15c19e=new _0x4ff17d(this[_0x4486f2(0x562)][_0x4486f2(0x1cc)],_0x3f3d96,this['configs'][_0x4486f2(0x9a1)],_0x3155b5);return this[_0x4486f2(0x87c)][_0x4486f2(0x7ee)](_0x3f3d96,_0x15c19e),this[_0x4486f2(0x562)][_0x4486f2(0x442)][_0x4486f2(0x923)](_0x15c19e),_0x15c19e;}catch(_0x45f454){if(_0x45f454 instanceof _0x412649)throw _0x45f454;throw new _0x26bf2d(_0x26bf2d[_0x4486f2(0x269)][_0x4486f2(0x97a)],{'label':_0x3f3d96,'clusterId':this[_0x4486f2(0x562)][_0x4486f2(0x966)],'vendorId':this[_0x4486f2(0x562)]['vendorId']});}}async['createGenerativeAIWorker'](_0x12665d,_0x77ffa7,_0x46e351,_0x1db108,_0x1e0f0e,_0x5373fc){const _0x1b76f7=_0x2e7de5;if(this['jobWorkers'][_0x1b76f7(0x1a4)](_0x12665d))throw new _0x412649(_0xa32e41[_0x1b76f7(0x5cd)],_0x1b76f7(0x35e));if(this[_0x1b76f7(0x87c)]['has'](_0x12665d))throw new _0x412649(_0xa32e41['GenerativeAILabelConflict'],_0x1b76f7(0x444));try{const _0x5a267c=new _0x3e1286(this['configs']['localNode'],_0x12665d,this[_0x1b76f7(0x562)][_0x1b76f7(0x9a1)],_0x77ffa7,this,_0x46e351,_0x1db108,_0x1e0f0e,this['searchApiKey'],_0x5373fc);return this[_0x1b76f7(0x933)][_0x1b76f7(0x7ee)](_0x12665d,_0x5a267c),this['configs'][_0x1b76f7(0x442)][_0x1b76f7(0x923)](_0x5a267c),_0x5a267c;}catch(_0xa06291){if(_0xa06291 instanceof _0x412649)throw _0xa06291;throw new _0x26bf2d(_0x26bf2d[_0x1b76f7(0x269)]['GenerativeAIWorkerCreationFailed'],{'label':_0x12665d,'clusterId':this[_0x1b76f7(0x562)][_0x1b76f7(0x966)],'vendorId':this[_0x1b76f7(0x562)][_0x1b76f7(0x9a1)]});}}[_0x2e7de5(0x595)](_0xaabec1,_0x4a3626){const _0x5acbd2=_0x2e7de5;if(this[_0x5acbd2(0x3fa)][_0x5acbd2(0x1a4)](_0xaabec1))throw new _0x412649(_0xa32e41[_0x5acbd2(0x8ec)],_0x5acbd2(0x189));try{const _0x293ae5=new _0x264f9b(this[_0x5acbd2(0x562)][_0x5acbd2(0x1cc)],_0xaabec1,this[_0x5acbd2(0x562)][_0x5acbd2(0x966)],this['configs'][_0x5acbd2(0x9a1)],_0x4a3626);return this[_0x5acbd2(0x3fa)]['set'](_0xaabec1,_0x293ae5),this['configs']['mediator'][_0x5acbd2(0x923)](_0x293ae5),_0x293ae5;}catch(_0x594437){if(_0x594437 instanceof _0x412649)throw _0x594437;throw new _0x26bf2d(_0x26bf2d[_0x5acbd2(0x269)][_0x5acbd2(0x940)],{'label':_0xaabec1,'clusterId':this[_0x5acbd2(0x562)][_0x5acbd2(0x966)],'vendorId':this[_0x5acbd2(0x562)][_0x5acbd2(0x9a1)]});}}[_0x2e7de5(0x5e5)](_0x482443,_0x24cc25){const _0x25cc0c=_0x2e7de5;if(this[_0x25cc0c(0x496)][_0x25cc0c(0x1a4)](_0x482443))throw new _0x412649(_0xa32e41[_0x25cc0c(0x2ff)],_0x25cc0c(0x222));if(!this[_0x25cc0c(0x7e9)][_0x25cc0c(0x555)])throw new _0x412649(_0xa32e41[_0x25cc0c(0x655)],'AudioContext\x20is\x20not\x20available');const _0x3fdd95=new _0x379ec5(this['configs'][_0x25cc0c(0x1cc)],_0x482443,_0x24cc25,this[_0x25cc0c(0x7e9)]['maxFps'],this[_0x25cc0c(0x7e9)][_0x25cc0c(0x555)],this['configs'][_0x25cc0c(0x966)]);return this[_0x25cc0c(0x496)]['set'](_0x482443,_0x3fdd95),this[_0x25cc0c(0x562)][_0x25cc0c(0x442)][_0x25cc0c(0x923)](_0x3fdd95),_0x3fdd95[_0x25cc0c(0x4df)](),_0x3fdd95;}['createLocalMediaStream'](_0x2385c9,_0x3f3a67){const _0x3a4c78=_0x2e7de5;if(this[_0x3a4c78(0x496)][_0x3a4c78(0x1a4)](_0x2385c9))throw new _0x412649(_0xa32e41['LocalMediaStreamAlreadyExists'],_0x3a4c78(0x372));const _0x42b3ef=new _0x1a437e(this[_0x3a4c78(0x562)][_0x3a4c78(0x1cc)],_0x2385c9,_0x3f3a67,this[_0x3a4c78(0x562)]['clusterId']);return this[_0x3a4c78(0x496)][_0x3a4c78(0x7ee)](_0x2385c9,_0x42b3ef),this[_0x3a4c78(0x562)][_0x3a4c78(0x442)][_0x3a4c78(0x923)](_0x42b3ef),_0x42b3ef[_0x3a4c78(0x4df)](),_0x42b3ef;}[_0x2e7de5(0x5cb)](_0x517db5){const _0x5d7086=_0x2e7de5;if(this[_0x5d7086(0x886)][_0x5d7086(0x1a4)](_0x517db5))throw new _0x412649(_0xa32e41[_0x5d7086(0x30e)],'PubSub\x20already\x20exists');const _0x2ce184=new _0x1506a9(this[_0x5d7086(0x562)][_0x5d7086(0x1cc)],_0x517db5,this['configs']['clusterId']);return this[_0x5d7086(0x886)][_0x5d7086(0x7ee)](_0x517db5,_0x2ce184),this[_0x5d7086(0x562)]['mediator'][_0x5d7086(0x923)](_0x2ce184),_0x2ce184;}[_0x2e7de5(0x305)](_0x20fd53,_0x46585c,_0x55a0c4,_0x26412f){const _0xe213d0=_0x2e7de5;this[_0xe213d0(0xa7b)][_0xe213d0(0x1a4)](_0x20fd53)||this[_0xe213d0(0xa7b)]['set'](_0x20fd53,new Map());const _0x164874=this[_0xe213d0(0xa7b)]['get'](_0x20fd53);if(_0x164874['has'](_0x46585c))throw new _0x412649(_0xa32e41['RemoteMediaStreamAlreadyExists'],_0xe213d0(0x2b7));const _0x57b300=new _0x58a063(_0x20fd53,'',''),_0x3c41b1=new _0x439073(this[_0xe213d0(0x562)]['localNode'],_0x57b300,_0x46585c,_0x55a0c4,_0x26412f,this[_0xe213d0(0x562)]['clusterId']);return _0x164874[_0xe213d0(0x7ee)](_0x46585c,_0x3c41b1),this[_0xe213d0(0x562)][_0xe213d0(0x442)][_0xe213d0(0x923)](_0x3c41b1),_0x3c41b1;}[_0x2e7de5(0x69f)](_0x36517a,_0x2b134c){const _0xf259c4=_0x2e7de5;if(this['vectorDatabases'][_0xf259c4(0x1a4)](_0x36517a))throw new _0x412649(_0xa32e41[_0xf259c4(0x7df)],_0xf259c4(0x189));try{const _0x4ea5de=new _0x184a72(this[_0xf259c4(0x562)][_0xf259c4(0x1cc)],_0x36517a,this[_0xf259c4(0x562)][_0xf259c4(0x966)],this['configs'][_0xf259c4(0x9a1)],_0x2b134c);return this['vectorDatabases'][_0xf259c4(0x7ee)](_0x36517a,_0x4ea5de),this[_0xf259c4(0x562)][_0xf259c4(0x442)]['registerSystemSource'](_0x4ea5de),_0x4ea5de;}catch(_0xcf726d){if(_0xcf726d instanceof _0x412649)throw _0xcf726d;throw new _0x26bf2d(_0x26bf2d['codes']['VectorDatabaseCreationFailed'],{'label':_0x36517a,'clusterId':this[_0xf259c4(0x562)][_0xf259c4(0x966)],'vendorId':this[_0xf259c4(0x562)][_0xf259c4(0x9a1)]});}}[_0x2e7de5(0x816)](_0x5b065c){const _0x426f53=_0x2e7de5,_0x19dc05=Array[_0x426f53(0xa4b)](this[_0x426f53(0x2be)]['values']());return _0x5b065c?_0x19dc05[_0x426f53(0x8bd)](_0x5b065c):_0x19dc05;}['getExternalStorageConnections'](_0x209de8){const _0x5c5d84=_0x2e7de5,_0x5d9ce6=Array[_0x5c5d84(0xa4b)](this[_0x5c5d84(0x238)][_0x5c5d84(0x20c)]());return _0x209de8?_0x5d9ce6[_0x5c5d84(0x8bd)](_0x209de8):_0x5d9ce6;}[_0x2e7de5(0x673)](_0x4bc69c){const _0x55553c=_0x2e7de5,_0x3b75e8=Array[_0x55553c(0xa4b)](this[_0x55553c(0x18e)]['values']());return _0x4bc69c?_0x3b75e8[_0x55553c(0x8bd)](_0x4bc69c):_0x3b75e8;}['getJobDispatchers'](_0x3ad12b){const _0x27a700=_0x2e7de5,_0x18207b=Array[_0x27a700(0xa4b)](this[_0x27a700(0x87c)]['values']());return _0x3ad12b?_0x18207b[_0x27a700(0x8bd)](_0x3ad12b):_0x18207b;}[_0x2e7de5(0x463)](_0xed84c3){const _0x2957d1=_0x2e7de5,_0x27ebf1=Array[_0x2957d1(0xa4b)](this[_0x2957d1(0x933)][_0x2957d1(0x20c)]());return _0xed84c3?_0x27ebf1[_0x2957d1(0x8bd)](_0xed84c3):_0x27ebf1;}[_0x2e7de5(0x5c6)](_0x51b992){const _0x462056=_0x2e7de5,_0x52f58c=Array[_0x462056(0xa4b)](this[_0x462056(0x87c)][_0x462056(0x20c)]())[_0x462056(0x8bd)](_0x2f7b1e=>_0x2f7b1e instanceof _0x4ff17d);return _0x51b992?_0x52f58c[_0x462056(0x8bd)](_0x51b992):_0x52f58c;}[_0x2e7de5(0xa7e)](_0x52eb9d){const _0xa07412=_0x2e7de5,_0x238716=Array[_0xa07412(0xa4b)](this[_0xa07412(0x933)][_0xa07412(0x20c)]())[_0xa07412(0x8bd)](_0x29a9b7=>_0x29a9b7 instanceof _0x3e1286);return _0x52eb9d?_0x238716[_0xa07412(0x8bd)](_0x52eb9d):_0x238716;}['getGraphDatabases'](_0x2eba95){const _0x3c475b=_0x2e7de5,_0xfb001a=Array[_0x3c475b(0xa4b)](this['graphDatabases'][_0x3c475b(0x20c)]());return _0x2eba95?_0xfb001a[_0x3c475b(0x8bd)](_0x2eba95):_0xfb001a;}[_0x2e7de5(0x7bf)](_0x23b850){const _0x361521=_0x2e7de5,_0x23123f=Array['from'](this[_0x361521(0x496)][_0x361521(0x20c)]());return _0x23b850?_0x23123f[_0x361521(0x8bd)](_0x23b850):_0x23123f;}[_0x2e7de5(0xa13)](_0x28eeee){const _0xf0ba2c=_0x2e7de5,_0x9f2f24=Array['from'](this[_0xf0ba2c(0x886)][_0xf0ba2c(0x20c)]());return _0x28eeee?_0x9f2f24[_0xf0ba2c(0x8bd)](_0x28eeee):_0x9f2f24;}[_0x2e7de5(0x871)](_0x5bf556){const _0x353416=_0x2e7de5,_0x1a5d1e=Array['from'](this['remoteMediaStreams'][_0x353416(0x20c)]())[_0x353416(0x2c7)]((_0x3c20b0,_0x43ba0b)=>[..._0x3c20b0,...Array[_0x353416(0xa4b)](_0x43ba0b[_0x353416(0x20c)]())],[]);return _0x5bf556?_0x1a5d1e[_0x353416(0x8bd)](_0x5bf556):_0x1a5d1e;}['getVectorDatabases'](_0x4e8fb0){const _0x4a58ff=_0x2e7de5,_0x3a2e17=Array[_0x4a58ff(0xa4b)](this[_0x4a58ff(0x4e5)][_0x4a58ff(0x20c)]());return _0x4e8fb0?_0x3a2e17[_0x4a58ff(0x8bd)](_0x4e8fb0):_0x3a2e17;}[_0x2e7de5(0x960)](_0x52d09c){const _0x461ae4=_0x2e7de5,_0x2df01c=this[_0x461ae4(0x2be)][_0x461ae4(0x6ba)](_0x52d09c);if(!_0x2df01c)throw new _0x412649(_0xa32e41[_0x461ae4(0x438)],'ObjectStore\x20not\x20found');return _0x2df01c;}['getExternalStorageConnection'](_0x17b043){const _0x2147ee=_0x2e7de5,_0x56d23b=_0x17b043['split']('-'),_0x473d85=this['externalStorageConnections'][_0x2147ee(0x6ba)](_0x56d23b[0x1]);if(!_0x473d85)throw new _0x412649(_0xa32e41[_0x2147ee(0x4e0)],_0x2147ee(0x1ff));return _0x473d85;}['getGraphDatabase'](_0x4c75b2){const _0x582897=_0x2e7de5,_0x4bb7d2=this[_0x582897(0x3fa)][_0x582897(0x6ba)](_0x4c75b2);if(!_0x4bb7d2)throw new _0x412649(_0xa32e41[_0x582897(0x4fe)],_0x582897(0xa62));return _0x4bb7d2;}[_0x2e7de5(0x177)](_0x44d200){const _0x49cd89=_0x2e7de5,_0x423ffb=this[_0x49cd89(0x18e)]['get'](_0x44d200);if(!_0x423ffb)throw new _0x412649(_0xa32e41[_0x49cd89(0x851)],'KeyValueDatabase\x20not\x20found');return _0x423ffb;}[_0x2e7de5(0x504)](_0x370712){const _0x4451db=_0x2e7de5,_0x3a18fb=this[_0x4451db(0x886)][_0x4451db(0x6ba)](_0x370712);if(!_0x3a18fb)throw new _0x412649(_0xa32e41[_0x4451db(0x219)],_0x4451db(0x188));return _0x3a18fb;}[_0x2e7de5(0x4f5)](_0x1d2058){const _0x13bba0=_0x2e7de5,_0x4a26c9=this[_0x13bba0(0x4e5)][_0x13bba0(0x6ba)](_0x1d2058);if(!_0x4a26c9)throw new _0x412649(_0xa32e41['VectorDatabaseDoesNotExist'],_0x13bba0(0x2d6));return _0x4a26c9;}[_0x2e7de5(0x6aa)](_0x2d41db){const _0x5c9591=_0x2e7de5;switch(_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x926)]){case _0x5ba456[_0x5c9591(0x3d3)]:this[_0x5c9591(0x717)](_0x2d41db['content']);break;case _0x5ba456[_0x5c9591(0x3ee)]:this[_0x5c9591(0x598)](_0x2d41db[_0x5c9591(0x1da)]);break;case _0x5ba456[_0x5c9591(0x6a7)]:this[_0x5c9591(0x1dd)](_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x7b6)]);break;case _0x5ba456['CloseJobWorker']:this[_0x5c9591(0x3a8)](_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x7b6)]);break;case _0x5ba456['CloseMediaStream']:this[_0x5c9591(0x308)](_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x7b6)]);break;case _0x5ba456['ClosePubSubTopic']:this[_0x5c9591(0x4ad)](_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x7b6)]);break;case _0x5ba456['CloseObjectStoreBucket']:this[_0x5c9591(0x3ba)](_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x7b6)]);break;case _0x5ba456[_0x5c9591(0x30f)]:this['removeExternalStorageConnection'](_0x2d41db['content'][_0x5c9591(0x7b6)]);break;case _0x5ba456[_0x5c9591(0xa76)]:this[_0x5c9591(0x480)](_0x2d41db[_0x5c9591(0x1da)]['label']);break;case _0x5ba456[_0x5c9591(0x256)]:this['removeVectorDatabase'](_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x7b6)]);break;case _0x5ba456[_0x5c9591(0x8ce)]:this[_0x5c9591(0x2db)](_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x7b6)]);break;case _0x5ba456[_0x5c9591(0x3a5)]:this['handleContentUnsubscribeMediaStream'](_0x2d41db[_0x5c9591(0x1da)]);break;case _0x5ba456[_0x5c9591(0x9df)]:this[_0x5c9591(0x18e)][_0x5c9591(0x6ba)](_0x2d41db[_0x5c9591(0x1da)]['label'])?.[_0x5c9591(0x1d4)](_0x2d41db[_0x5c9591(0x194)],_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x6a2)]);break;case _0x5ba456[_0x5c9591(0x8c3)]:this[_0x5c9591(0x18e)][_0x5c9591(0x6ba)](_0x2d41db['content'][_0x5c9591(0x7b6)])?.[_0x5c9591(0x8ad)](_0x2d41db[_0x5c9591(0x194)],_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x6a2)]);break;case _0x5ba456[_0x5c9591(0x26e)]:this['keyValueDatabases'][_0x5c9591(0x6ba)](_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x7b6)])?.[_0x5c9591(0x93d)](_0x2d41db[_0x5c9591(0x194)],_0x2d41db['content']['peaks']);break;case _0x5ba456[_0x5c9591(0x592)]:this[_0x5c9591(0x18e)][_0x5c9591(0x6ba)](_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x7b6)])?.[_0x5c9591(0x91d)](_0x2d41db[_0x5c9591(0x194)],_0x2d41db['content']['peakHeights']);break;case _0x5ba456[_0x5c9591(0x4fa)]:this[_0x5c9591(0x18e)]['get'](_0x2d41db['content'][_0x5c9591(0x7b6)])?.[_0x5c9591(0x533)](_0x2d41db[_0x5c9591(0x194)],_0x2d41db['content'][_0x5c9591(0x24a)]);break;case _0x5ba456[_0x5c9591(0x617)]:this['keyValueDatabases'][_0x5c9591(0x6ba)](_0x2d41db['content'][_0x5c9591(0x7b6)])?.[_0x5c9591(0x376)](_0x2d41db[_0x5c9591(0x194)],_0x2d41db['content'][_0x5c9591(0x942)]);break;case _0x5ba456[_0x5c9591(0x69d)]:this['configs']['mediator'][_0x5c9591(0x43b)](_0x5c9591(0x323),{'label':_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x7b6)],'trackKinds':_0x2d41db[_0x5c9591(0x1da)][_0x5c9591(0x689)]});}}[_0x2e7de5(0x479)]({content:_0x1eec43}){const _0x508c30=_0x2e7de5;switch(_0x1eec43[_0x508c30(0x926)]){case _0x50d88b['NodeJoin']:this[_0x508c30(0x21c)](_0x1eec43),this[_0x508c30(0x172)](_0x1eec43);break;case _0x50d88b[_0x508c30(0x468)]:this[_0x508c30(0x9ff)](_0x1eec43),this[_0x508c30(0x51c)](_0x1eec43);}}[_0x2e7de5(0xa86)](_0x19dd36){const _0x4a9c60=_0x2e7de5;switch(_0x19dd36[_0x4a9c60(0x1da)][_0x4a9c60(0x926)]){case _0x27cc25[_0x4a9c60(0x179)]:this['handleSubscribeMediaStream'](_0x19dd36[_0x4a9c60(0x194)],_0x19dd36[_0x4a9c60(0x1da)]);break;case _0x27cc25['UpdateMediaStream']:this['handleUpdateMediaStream'](_0x19dd36[_0x4a9c60(0x194)],_0x19dd36[_0x4a9c60(0x1da)]);break;case _0x27cc25[_0x4a9c60(0x3a5)]:this['handleUnsubscribeMediaStream'](_0x19dd36['sourceId'],_0x19dd36[_0x4a9c60(0x1da)]);}}['handleContentUnsubscribeMediaStream'](_0x123a0a){const _0x15db51=_0x2e7de5;if(0x0===_0x123a0a['remainingTracks'])this[_0x15db51(0xa7b)][_0x15db51(0x6ba)](_0x123a0a['ownerId'])?.[_0x15db51(0x6ba)](_0x123a0a[_0x15db51(0x7b6)])?.[_0x15db51(0x736)]();else{const _0x1172a4=this[_0x15db51(0xa7b)]['get'](_0x123a0a[_0x15db51(0x2f8)])?.[_0x15db51(0x6ba)](_0x123a0a[_0x15db51(0x7b6)]);if(!_0x1172a4)return;_0x123a0a[_0x15db51(0x689)][_0x15db51(0x270)](_0x49d775=>_0x1172a4['unsubscribeTrackEndedListener'](_0x49d775));}}[_0x2e7de5(0x717)](_0xa97d67){const _0x210bc6=_0x2e7de5,{label:_0xe566e8,ownerId:_0x531043,stream:{streamId:_0x2d87e7,availableTrackKinds:_0x5b5993}}=_0xa97d67;if(this['remoteMediaStreams'][_0x210bc6(0x6ba)](_0x531043)?.[_0x210bc6(0x1a4)](_0xe566e8))return void _0x31c6d3['log'](_0x2387f2[_0x210bc6(0x938)],_0x210bc6(0x372),_0x2d87e7);const _0x209730=this['createRemoteMediaStream'](_0x531043,_0xe566e8,_0x2d87e7,_0x5b5993);this[_0x210bc6(0x562)][_0x210bc6(0x442)][_0x210bc6(0x43b)](_0x210bc6(0x6d1),{'ownerId':_0x531043,'stream':_0x209730});}['handleUnpublishMediaStream']({ownerId:_0x583295,label:_0x2ad86a}){const _0x3665d2=_0x2e7de5;this[_0x3665d2(0x4f6)](_0x583295,_0x2ad86a),this[_0x3665d2(0x562)][_0x3665d2(0x442)][_0x3665d2(0x43b)](_0x3665d2(0x33b),{'ownerId':_0x583295,'label':_0x2ad86a});}[_0x2e7de5(0x2d0)](_0x5df29c,_0x45c996){const _0x3a26e3=_0x2e7de5,{ownerId:_0x2217b4,label:_0x1a574b}=_0x45c996;let _0x3e59c8;_0x3e59c8=_0x2217b4!==this[_0x3a26e3(0x562)][_0x3a26e3(0x1cc)]['getId']()?this[_0x3a26e3(0xa7b)][_0x3a26e3(0x6ba)](_0x2217b4)[_0x3a26e3(0x6ba)](_0x1a574b):this[_0x3a26e3(0x496)][_0x3a26e3(0x6ba)](_0x1a574b),_0x3e59c8[_0x3a26e3(0x49d)](_0x5df29c,_0x45c996[_0x3a26e3(0x987)])[_0x3a26e3(0x683)](_0x45c996,_0x3e59c8[_0x3a26e3(0x8b4)]());}[_0x2e7de5(0x8f2)](_0x3e9c5a,_0xf698ec){const _0x4ecfcb=_0x2e7de5,{ownerId:_0x26a39f,label:_0x1ed00d}=_0xf698ec;let _0x20574c;_0x20574c=_0x26a39f!==this[_0x4ecfcb(0x562)][_0x4ecfcb(0x1cc)]['getId']()?this['remoteMediaStreams'][_0x4ecfcb(0x6ba)](_0x26a39f)[_0x4ecfcb(0x6ba)](_0x1ed00d):this[_0x4ecfcb(0x496)][_0x4ecfcb(0x6ba)](_0x1ed00d),_0x20574c[_0x4ecfcb(0x49d)](_0x3e9c5a,_0xf698ec['params'])[_0x4ecfcb(0x746)](_0xf698ec);}[_0x2e7de5(0x627)](_0xbb4d1d,_0x16b188){const _0x2c6124=_0x2e7de5,{ownerId:_0x4695ee,label:_0x1e48c2}=_0x16b188;let _0x40210c;_0x40210c=_0x4695ee!==this[_0x2c6124(0x562)][_0x2c6124(0x1cc)]['getId']()?this['remoteMediaStreams']['get'](_0x4695ee)[_0x2c6124(0x6ba)](_0x1e48c2):this[_0x2c6124(0x496)][_0x2c6124(0x6ba)](_0x1e48c2),_0x40210c[_0x2c6124(0x49d)](_0xbb4d1d)[_0x2c6124(0x615)](_0x16b188);}['handleNodeJoinNeedPublishedStream']({id:_0x50dd84}){const _0x5b896b=_0x2e7de5;this[_0x5b896b(0x7bf)]()[_0x5b896b(0x270)](_0x27a595=>{const _0x58dd9b=_0x5b896b;_0x27a595[_0x58dd9b(0x4df)](_0x50dd84);});}['handleNodeLeave']({id:_0x2f6ede}){const _0x1e3258=_0x2e7de5;this['getRemoteMediaStreams'](_0x325ab0=>_0x325ab0[_0x1e3258(0x830)]()===_0x2f6ede)[_0x1e3258(0x270)](_0x34bcf7=>{const _0x4741eb=_0x1e3258;this['removeRemoteMediaStream'](_0x34bcf7[_0x4741eb(0x830)](),_0x34bcf7[_0x4741eb(0x5d7)]());});}[_0x2e7de5(0x172)]({id:_0x2bf530}){const _0x475805=_0x2e7de5;this[_0x475805(0x2be)]['forEach'](_0x20bc61=>_0x20bc61[_0x475805(0x8cd)](_0x2bf530));}[_0x2e7de5(0x51c)]({id:_0x44bc29}){const _0x3543dd=_0x2e7de5;this[_0x3543dd(0x2be)][_0x3543dd(0x270)](_0x28c68d=>_0x28c68d[_0x3543dd(0x9ff)](_0x44bc29));}['removeJobDispatcher'](_0x43358d){const _0x44069b=_0x2e7de5;if(!this[_0x44069b(0x87c)][_0x44069b(0x1a4)](_0x43358d))throw new _0x412649(_0xa32e41[_0x44069b(0x1f4)],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0x451c01=this['jobDispatchers'][_0x44069b(0x6ba)](_0x43358d);this[_0x44069b(0x87c)]['delete'](_0x43358d),_0x451c01[_0x44069b(0x736)](),this['configs'][_0x44069b(0x442)]['unregisterSystemSource'](_0x451c01);}[_0x2e7de5(0x3a8)](_0x34987b){const _0x5f4eac=_0x2e7de5;if(!this[_0x5f4eac(0x933)][_0x5f4eac(0x1a4)](_0x34987b))throw new _0x412649(_0xa32e41[_0x5f4eac(0x97e)],_0x5f4eac(0x4d6));const _0x291489=this[_0x5f4eac(0x933)]['get'](_0x34987b);this[_0x5f4eac(0x933)][_0x5f4eac(0x428)](_0x34987b),_0x291489[_0x5f4eac(0x736)](),this['configs'][_0x5f4eac(0x442)][_0x5f4eac(0x8a7)](_0x291489);}[_0x2e7de5(0x3ba)](_0x5aae3a){const _0x48358e=_0x2e7de5;if(!this[_0x48358e(0x2be)][_0x48358e(0x1a4)](_0x5aae3a))throw new _0x412649(_0xa32e41[_0x48358e(0x438)],_0x48358e(0x7d4));const _0x4dcd3f=this[_0x48358e(0x2be)][_0x48358e(0x6ba)](_0x5aae3a);this[_0x48358e(0x2be)][_0x48358e(0x428)](_0x5aae3a),_0x4dcd3f[_0x48358e(0x736)](),this[_0x48358e(0x562)][_0x48358e(0x442)]['unregisterSystemSource'](_0x4dcd3f);}['removeExternalStorageConnection'](_0x2e809e){const _0x267311=_0x2e7de5;if(!this['externalStorageConnections']['has'](_0x2e809e))throw new _0x412649(_0xa32e41[_0x267311(0x4e0)],'Connection\x20does\x20not\x20exist');const _0x19facc=this[_0x267311(0x238)][_0x267311(0x6ba)](_0x2e809e);this['externalStorageConnections']['delete'](_0x2e809e),_0x19facc[_0x267311(0x736)](),this['configs'][_0x267311(0x442)][_0x267311(0x8a7)](_0x19facc);}[_0x2e7de5(0x4ad)](_0x1b4afc){const _0x3bad16=_0x2e7de5;if(!this['pubSubTopics'][_0x3bad16(0x1a4)](_0x1b4afc))throw new _0x412649(_0xa32e41['PubSubTopicDoesNotExist'],_0x3bad16(0x7d4));const _0x3ab1f2=this[_0x3bad16(0x886)][_0x3bad16(0x6ba)](_0x1b4afc);this[_0x3bad16(0x886)]['delete'](_0x1b4afc),_0x3ab1f2[_0x3bad16(0x736)](),this[_0x3bad16(0x562)][_0x3bad16(0x442)]['unregisterSystemSource'](_0x3ab1f2);}[_0x2e7de5(0x480)](_0x3ad205){const _0x388afc=_0x2e7de5;if(!this[_0x388afc(0x18e)][_0x388afc(0x1a4)](_0x3ad205))throw new _0x412649(_0xa32e41[_0x388afc(0x851)],'Database\x20does\x20not\x20exist');const _0x330710=this[_0x388afc(0x18e)]['get'](_0x3ad205);this['keyValueDatabases']['delete'](_0x3ad205),_0x330710[_0x388afc(0x736)](),this['configs'][_0x388afc(0x442)]['unregisterSystemSource'](_0x330710);}[_0x2e7de5(0x52e)](_0x12b6e3){const _0x236a72=_0x2e7de5;if(!this[_0x236a72(0x4e5)]['has'](_0x12b6e3))throw new _0x412649(_0xa32e41[_0x236a72(0xa4c)],_0x236a72(0x19d));const _0x5753cf=this[_0x236a72(0x4e5)][_0x236a72(0x6ba)](_0x12b6e3);this[_0x236a72(0x4e5)][_0x236a72(0x428)](_0x12b6e3),_0x5753cf[_0x236a72(0x736)](),this[_0x236a72(0x562)][_0x236a72(0x442)]['unregisterSystemSource'](_0x5753cf);}[_0x2e7de5(0x2db)](_0x1dc30e){const _0xb230c4=_0x2e7de5;if(!this[_0xb230c4(0x3fa)][_0xb230c4(0x1a4)](_0x1dc30e))throw new _0x412649(_0xa32e41['GraphDatabaseDoesNotExist'],'Database\x20does\x20not\x20exist');const _0x39e9a6=this[_0xb230c4(0x3fa)][_0xb230c4(0x6ba)](_0x1dc30e);this['graphDatabases'][_0xb230c4(0x428)](_0x1dc30e),_0x39e9a6[_0xb230c4(0x736)](),this['configs'][_0xb230c4(0x442)][_0xb230c4(0x8a7)](_0x39e9a6);}[_0x2e7de5(0x308)](_0x2fd776){const _0x34ee7e=_0x2e7de5;if(!this[_0x34ee7e(0x496)][_0x34ee7e(0x1a4)](_0x2fd776))throw new _0x26bf2d(_0x26bf2d['codes'][_0x34ee7e(0x377)],{'label':_0x2fd776,'localId':this[_0x34ee7e(0x562)][_0x34ee7e(0x1cc)]['getId']()});const _0x4a643a=this[_0x34ee7e(0x496)][_0x34ee7e(0x6ba)](_0x2fd776);this[_0x34ee7e(0x562)][_0x34ee7e(0x442)][_0x34ee7e(0x8a7)](_0x4a643a),_0x4a643a[_0x34ee7e(0x736)](),this['localMediaStreams'][_0x34ee7e(0x428)](_0x2fd776);}['removeRemoteMediaStream'](_0x4a9294,_0x2cd38c){const _0x222a0d=_0x2e7de5;if(!this[_0x222a0d(0xa7b)][_0x222a0d(0x1a4)](_0x4a9294))throw new _0x26bf2d(_0x26bf2d[_0x222a0d(0x269)][_0x222a0d(0x820)],{'nodeId':_0x4a9294,'localId':this[_0x222a0d(0x562)][_0x222a0d(0x1cc)][_0x222a0d(0x2ab)]()});const _0x45fc22=this[_0x222a0d(0xa7b)][_0x222a0d(0x6ba)](_0x4a9294);if(!_0x45fc22['has'](_0x2cd38c))throw new _0x26bf2d(_0x26bf2d[_0x222a0d(0x269)]['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x4a9294,'label':_0x2cd38c,'localId':this[_0x222a0d(0x562)][_0x222a0d(0x1cc)][_0x222a0d(0x2ab)]()});const _0x2c2f2b=_0x45fc22['get'](_0x2cd38c);this['configs'][_0x222a0d(0x442)][_0x222a0d(0x8a7)](_0x2c2f2b),_0x2c2f2b[_0x222a0d(0x736)](),_0x45fc22['delete'](_0x2cd38c);}}var _0x442e50,_0x23e595,_0x4ee06c;!function(_0x367e1e){const _0x56a2ad=_0x2e7de5;_0x367e1e['STVolatility']='st_volatility',_0x367e1e[_0x56a2ad(0x9b6)]=_0x56a2ad(0x6ce),_0x367e1e[_0x56a2ad(0x75c)]=_0x56a2ad(0x1e3),_0x367e1e[_0x56a2ad(0x228)]=_0x56a2ad(0x5f2),_0x367e1e[_0x56a2ad(0x4a7)]=_0x56a2ad(0x50b),_0x367e1e['FramePerSecond']=_0x56a2ad(0x654),_0x367e1e['RoundTripTime']=_0x56a2ad(0x6d4),_0x367e1e[_0x56a2ad(0x6da)]=_0x56a2ad(0x738);}(_0x442e50||(_0x442e50={})),function(_0x501fb9){const _0x223a33=_0x2e7de5;_0x501fb9[_0x223a33(0x400)]=_0x223a33(0x750),_0x501fb9['TimePerFrame']=_0x223a33(0x5b9),_0x501fb9[_0x223a33(0x6da)]=_0x223a33(0x8a4),_0x501fb9['FramePerSecond']=_0x223a33(0x4dc),_0x501fb9['Bitrate']=_0x223a33(0x3d9),_0x501fb9[_0x223a33(0x4a7)]=_0x223a33(0x76e),_0x501fb9[_0x223a33(0x979)]='bandwidth.rtt';}(_0x23e595||(_0x23e595={})),function(_0x11f5ab){const _0x5c2cb0=_0x2e7de5;_0x11f5ab[_0x11f5ab[_0x5c2cb0(0xa88)]=0x0]='Problem';}(_0x4ee06c||(_0x4ee06c={}));const _0x2356af=[{'type':_0x442e50[_0x2e7de5(0x59e)],'reportMetric':_0x5d1976=>_0x5d1976['STVolatility'],'maxThreshold':2.5},{'type':_0x442e50[_0x2e7de5(0x9b6)],'reportMetric':_0x54c6c5=>_0x54c6c5[_0x2e7de5(0x9b6)],'maxThreshold':0.5}],_0x3e074a=[{'type':_0x442e50['TimePerFrame'],'reportMetric':_0x1e5186=>{const _0x4f5c26=_0x2e7de5,_0x53a5ec=0x3e8/_0x1e5186[_0x4f5c26(0x494)];return _0x1e5186['timePerFrame']/_0x53a5ec;},'maxThreshold':0.75},{'type':_0x442e50[_0x2e7de5(0x228)],'reportMetric':_0x570105=>{const _0xbf910b=_0x2e7de5,_0x2e82c9=_0x570105['FPS']*_0x570105[_0xbf910b(0x6fc)]*_0x570105[_0xbf910b(0x64d)]*0.12;return _0x570105[_0xbf910b(0x5f2)]/_0x2e82c9;},'minThreshold':0.25},{'type':_0x442e50[_0x2e7de5(0x4a7)],'reportMetric':_0x2f6d86=>_0x2f6d86[_0x2e7de5(0x50b)],'maxThreshold':0.6},{'type':_0x442e50[_0x2e7de5(0x9f8)],'reportMetric':_0x1f85c8=>_0x1f85c8[_0x2e7de5(0x494)],'minThreshold':0xa}],_0x214437=[{'type':_0x442e50[_0x2e7de5(0x4a7)],'reportMetric':_0x40f4e4=>_0x40f4e4[_0x2e7de5(0x50b)],'maxThreshold':0.6}],_0x192581=[{'type':_0x442e50['RoundTripTime'],'reportMetric':_0x52b62c=>_0x52b62c['roundTripTime'],'maxThreshold':0x1/0x0}],_0x2a163a=[{'type':_0x442e50['AudioVideoDelay'],'reportMetric':_0x197e18=>_0x197e18[_0x2e7de5(0x6da)],'maxThreshold':0x12c}],_0x2f2c2c=[{'type':_0x23e595[_0x2e7de5(0x400)],'issues':[{'type':_0x442e50[_0x2e7de5(0x59e)],'threshold':0x5},{'type':_0x442e50[_0x2e7de5(0x9b6)],'threshold':0x5}]},{'type':_0x23e595[_0x2e7de5(0x75c)],'issues':[{'type':_0x442e50[_0x2e7de5(0x75c)],'threshold':0x3}]},{'type':_0x23e595[_0x2e7de5(0x6da)],'issues':[{'type':_0x442e50[_0x2e7de5(0x6da)],'threshold':0x2}]},{'type':_0x23e595['FramePerSecond'],'issues':[{'type':_0x442e50[_0x2e7de5(0x9f8)],'threshold':0x3}]},{'type':_0x23e595['Bitrate'],'issues':[{'type':_0x442e50['Bitrate'],'threshold':0x3}]},{'type':_0x23e595[_0x2e7de5(0x4a7)],'issues':[{'type':_0x442e50['Jitter'],'threshold':0x3}]},{'type':_0x23e595[_0x2e7de5(0x979)],'issues':[{'type':_0x442e50[_0x2e7de5(0x979)],'threshold':0x3}]}];var _0x3d0f30,_0x54ae78;!function(_0x227129){const _0x1be6c4=_0x2e7de5;_0x227129[_0x227129[_0x1be6c4(0x80c)]=0x0]=_0x1be6c4(0x80c),_0x227129[_0x227129[_0x1be6c4(0x95f)]=0x1]='LocalReport';}(_0x3d0f30||(_0x3d0f30={}));class _0x57f518{['configs'];[_0x2e7de5(0x980)]=[];[_0x2e7de5(0x24d)];constructor(_0x4b15dc){const _0x2ae3ac=_0x2e7de5;this[_0x2ae3ac(0x562)]=_0x4b15dc,this[_0x2ae3ac(0x562)]['mediator']['registerSystemSource'](this);}[_0x2e7de5(0x796)](_0x224b64){const _0x2be971=_0x2e7de5;this[_0x2be971(0x24d)]=_0x224b64;}[_0x2e7de5(0x910)](){const _0x127158=_0x2e7de5;this[_0x127158(0x24d)]=void 0x0;}['close'](){const _0xdd09bb=_0x2e7de5;this['configs']['mediator'][_0xdd09bb(0x8a7)](this),this[_0xdd09bb(0x980)]=[];}[_0x2e7de5(0x76d)](_0x4333f5){const _0x24573e=_0x2e7de5;switch(_0x4333f5[_0x24573e(0x1da)][_0x24573e(0x926)]){case _0x3d0f30['LocalReport']:this[_0x24573e(0x8de)](_0x4333f5['content'][_0x24573e(0x672)]);break;case _0x3d0f30[_0x24573e(0x80c)]:this[_0x24573e(0x9b9)](_0x4333f5[_0x24573e(0x1da)][_0x24573e(0x672)]);}}['detectProblems'](_0x193eea,_0x3217b1,_0x4d570a,_0x4eeb21){const _0x180044=_0x2e7de5,_0x359463=_0x2f2c2c[_0x180044(0x921)](_0x711182=>_0x711182[_0x180044(0x980)]['some'](_0x1e4298=>_0x1e4298[_0x180044(0x926)]===_0x193eea));_0x4eeb21>=_0x359463[_0x180044(0x980)][_0x180044(0x921)](_0x37d0a5=>_0x37d0a5['type']===_0x193eea)[_0x180044(0x47d)]&&(this[_0x180044(0x657)](_0x359463[_0x180044(0x926)],_0x3217b1,_0x4d570a),this['issues']=this[_0x180044(0x980)]['filter'](_0x78cada=>!(_0x78cada['type']===_0x193eea&&_0x78cada[_0x180044(0x82b)]===_0x3217b1&&_0x78cada[_0x180044(0x584)]===_0x4d570a)));}[_0x2e7de5(0x8de)](_0x482a97){_0x2356af['forEach'](_0x3b83bb=>{const _0x2f8fea=a0_0x4258,_0x4ded2f=_0x3b83bb[_0x2f8fea(0x5f3)](_0x482a97);_0x3b83bb[_0x2f8fea(0x67a)]&&_0x4ded2f>_0x3b83bb[_0x2f8fea(0x67a)]&&this[_0x2f8fea(0x3d1)](_0x3b83bb[_0x2f8fea(0x926)],this[_0x2f8fea(0x562)][_0x2f8fea(0x1cc)][_0x2f8fea(0x2ab)](),_0xed553['Sender'],_0x4ded2f),_0x3b83bb[_0x2f8fea(0x191)]&&_0x4ded2f<_0x3b83bb[_0x2f8fea(0x191)]&&this['addIssue'](_0x3b83bb[_0x2f8fea(0x926)],this[_0x2f8fea(0x562)][_0x2f8fea(0x1cc)][_0x2f8fea(0x2ab)](),_0xed553[_0x2f8fea(0x254)],_0x4ded2f);});}[_0x2e7de5(0x9b9)](_0x27140c){const _0x4a4643=_0x2e7de5;let _0x520325=[];switch(_0x27140c['origin']){case _0xed553['Sender']:_0x520325=_0x192581;break;case _0xed553[_0x4a4643(0x988)]:_0x520325=_0x2a163a;}_0x27140c[_0x4a4643(0x6ed)]&&this[_0x4a4643(0x6ac)](_0x27140c[_0x4a4643(0x82b)],_0xed553[_0x4a4643(0x254)],_0x27140c[_0x4a4643(0x6ed)]),_0x27140c[_0x4a4643(0x20a)]&&this[_0x4a4643(0x6eb)](_0x27140c[_0x4a4643(0x82b)],_0xed553['Sender'],_0x27140c[_0x4a4643(0x20a)]),_0x520325[_0x4a4643(0x270)](_0x5b0ca2=>{const _0x5133ff=_0x4a4643,_0x1150bf=_0x5b0ca2[_0x5133ff(0x5f3)](_0x27140c);_0x5b0ca2[_0x5133ff(0x67a)]&&_0x1150bf>_0x5b0ca2['maxThreshold']&&this[_0x5133ff(0x3d1)](_0x5b0ca2[_0x5133ff(0x926)],_0x27140c[_0x5133ff(0x82b)],_0xed553[_0x5133ff(0x254)],_0x1150bf),_0x5b0ca2[_0x5133ff(0x191)]&&_0x1150bf<_0x5b0ca2[_0x5133ff(0x191)]&&this['addIssue'](_0x5b0ca2[_0x5133ff(0x926)],_0x27140c[_0x5133ff(0x82b)],_0xed553[_0x5133ff(0x254)],_0x1150bf);});}['detectVideoIssues'](_0x4266a5,_0x4e3a17,_0x5227d0){const _0x530f39=_0x2e7de5;0x0!==_0x5227d0[_0x530f39(0x5f2)]&&_0x3e074a['forEach'](_0x4e1102=>{const _0x5dd0f8=_0x530f39,_0x501983=_0x4e1102[_0x5dd0f8(0x5f3)](_0x5227d0);_0x4e1102[_0x5dd0f8(0x67a)]&&_0x501983>_0x4e1102[_0x5dd0f8(0x67a)]&&this[_0x5dd0f8(0x3d1)](_0x4e1102[_0x5dd0f8(0x926)],_0x4266a5,_0x4e3a17,_0x501983,_0x5dd0f8(0x6ed)),_0x4e1102[_0x5dd0f8(0x191)]&&_0x501983<_0x4e1102[_0x5dd0f8(0x191)]&&this[_0x5dd0f8(0x3d1)](_0x4e1102['type'],_0x4266a5,_0x4e3a17,_0x501983,_0x5dd0f8(0x6ed));});}[_0x2e7de5(0x6eb)](_0x414fab,_0x52c3e3,_0x3900a0){const _0x5c2bef=_0x2e7de5;0x0!==_0x3900a0[_0x5c2bef(0x5f2)]&&_0x214437[_0x5c2bef(0x270)](_0x4ee3da=>{const _0x51249c=_0x5c2bef,_0x923b1=_0x4ee3da[_0x51249c(0x5f3)](_0x3900a0);_0x4ee3da['maxThreshold']&&_0x923b1>_0x4ee3da['maxThreshold']&&this[_0x51249c(0x3d1)](_0x4ee3da[_0x51249c(0x926)],_0x414fab,_0x52c3e3,_0x923b1,_0x51249c(0x20a)),_0x4ee3da['minThreshold']&&_0x923b1<_0x4ee3da[_0x51249c(0x191)]&&this[_0x51249c(0x3d1)](_0x4ee3da[_0x51249c(0x926)],_0x414fab,_0x52c3e3,_0x923b1,_0x51249c(0x20a));});}['addIssue'](_0x240689,_0x1b4b66,_0x2ac19f,_0x22f6ef,_0x377ca2){const _0x2392ed=_0x2e7de5;_0x31c6d3['log'](_0x2387f2['Detection'],_0x2392ed(0x710)+_0x240689,_0x240689,_0x22f6ef),_0x31c6d3[_0x2392ed(0x4a8)](_0x2392ed(0x4e1),{'clusterId':this['configs'][_0x2392ed(0x966)],'nodeId':this['configs'][_0x2392ed(0x1cc)][_0x2392ed(0x2ab)](),'nodeType':this[_0x2392ed(0x562)][_0x2392ed(0x1cc)][_0x2392ed(0x926)],'remoteId':_0x1b4b66,'data':{'type':_0x240689,'value':_0x22f6ef,'kind':_0x377ca2}}),this[_0x2392ed(0x980)]=this['issues'][_0x2392ed(0x8bd)](_0x185e4c=>Date['now']()-_0x185e4c[_0x2392ed(0x490)]<0x7530),this[_0x2392ed(0x980)][_0x2392ed(0x67b)]({'timestamp':Date['now'](),'type':_0x240689,'nodeId':_0x1b4b66,'origin':_0x2ac19f,'value':_0x22f6ef,'kind':_0x377ca2});const _0x4be61e=this[_0x2392ed(0x980)][_0x2392ed(0x8bd)](_0x56c804=>_0x56c804[_0x2392ed(0x926)]===_0x240689&&_0x56c804[_0x2392ed(0x82b)]===_0x1b4b66&&_0x56c804[_0x2392ed(0x584)]===_0x2ac19f)[_0x2392ed(0x727)];this['detectProblems'](_0x240689,_0x1b4b66,_0x2ac19f,_0x4be61e);}[_0x2e7de5(0x657)](_0x372aac,_0x328313,_0xcf04dd){const _0x149b86=_0x2e7de5;_0x31c6d3['log'](_0x2387f2[_0x149b86(0x4d8)],_0x149b86(0x68b)+_0x372aac),_0x31c6d3[_0x149b86(0x4a8)](_0x149b86(0x957),{'clusterId':this[_0x149b86(0x562)]['clusterId'],'nodeId':this[_0x149b86(0x562)][_0x149b86(0x1cc)][_0x149b86(0x2ab)](),'nodeType':this[_0x149b86(0x562)][_0x149b86(0x1cc)][_0x149b86(0x926)],'remoteId':_0x328313,'data':{'type':_0x372aac}}),this[_0x149b86(0x24d)]?.[_0x149b86(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x149b86(0x4d8)],'content':{'type':_0x4ee06c[_0x149b86(0xa88)],'data':{'timestamp':Date['now'](),'nodeId':_0x328313,'origin':_0xed553[_0x149b86(0x254)],'type':_0x372aac}}});}}class _0x24a649 extends _0x58e6ce{[_0x2e7de5(0x926)]=_0x564b37[_0x2e7de5(0x20b)][_0x2e7de5(0x59d)];}class _0xce5266 extends _0x24a649{[_0x2e7de5(0x24d)];['currentVersion']=Date[_0x2e7de5(0x974)]();[_0x2e7de5(0x7ce)];[_0x2e7de5(0x1a6)];[_0x2e7de5(0x6f0)](){const _0x38cb29=_0x2e7de5;this[_0x38cb29(0x7ce)]&&(clearTimeout(this[_0x38cb29(0x7ce)]),delete this['updateDebounceTimeout']),delete this['lastUpdated'],this[_0x38cb29(0x27a)]=Date[_0x38cb29(0x974)](),super[_0x38cb29(0x6f0)]();}[_0x2e7de5(0x796)](_0x3aa083){const _0x575b19=_0x2e7de5;this[_0x575b19(0x24d)]=_0x3aa083;}['unregisterSystemPublisher'](){const _0x1e672d=_0x2e7de5;delete this[_0x1e672d(0x24d)];}[_0x2e7de5(0x74b)](_0x274251){const _0x13d9ae=_0x2e7de5;!this['updateDebounceTimeout']&&this[_0x13d9ae(0x407)]&&this['systemTopic'][_0x13d9ae(0x4df)]({'sourceId':this['id'],'destinationIds':[_0x274251],'propagate':!0x0,'messageType':_0x31418b[_0x13d9ae(0x261)],'content':{'type':_0x50d88b[_0x13d9ae(0x857)],'id':this['id'],'metaData':{'type':this[_0x13d9ae(0x926)]},'rank':this[_0x13d9ae(0xa48)](),'remoteConnections':Array['from'](this[_0x13d9ae(0x483)]),'version':this[_0x13d9ae(0x27a)]}});}[_0x2e7de5(0x70e)](_0x4fda3b){const _0x2df5c8=_0x2e7de5;this['remoteConnections']['has'](_0x4fda3b)||(this[_0x2df5c8(0x483)][_0x2df5c8(0x9eb)](_0x4fda3b),this[_0x2df5c8(0x9cb)](),this['publishUserUpdate'](!0x0));}['removeRemoteConnection'](_0x3a84d7){const _0x3b33dd=_0x2e7de5;this[_0x3b33dd(0x483)][_0x3b33dd(0x1a4)](_0x3a84d7)&&(this[_0x3b33dd(0x483)][_0x3b33dd(0x428)](_0x3a84d7),this[_0x3b33dd(0x9cb)](),this[_0x3b33dd(0x309)](!0x0));}[_0x2e7de5(0x575)](){const _0x370f8d=_0x2e7de5;return this[_0x370f8d(0x27a)];}['setRank'](_0x47f696,_0x245771=!0x0){const _0xe0e924=_0x2e7de5;this[_0xe0e924(0x407)]!==_0x47f696&&(this[_0xe0e924(0x407)]=_0x47f696,_0x245771&&(this['incrementVersion'](),this[_0xe0e924(0x309)]()));}[_0x2e7de5(0x9cb)](){this['currentVersion']=Date['now']();}[_0x2e7de5(0x309)](_0x14ae7f=!0x1){const _0x5c5b83=_0x2e7de5;if(this[_0x5c5b83(0x407)]){if(this[_0x5c5b83(0x1a6)]||(this[_0x5c5b83(0x1a6)]=Date['now']()),this[_0x5c5b83(0x7ce)]){if(Date[_0x5c5b83(0x974)]()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x5c5b83(0x7ce)]);}this[_0x5c5b83(0x7ce)]=setTimeout(()=>{const _0x16f9fb=_0x5c5b83;delete this[_0x16f9fb(0x1a6)],delete this[_0x16f9fb(0x7ce)],this[_0x16f9fb(0x24d)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x31418b['Node'],'content':{'type':_0x14ae7f?_0x50d88b['NodeConnectionsUpdate']:_0x50d88b[_0x16f9fb(0x857)],'id':this['id'],'metaData':{'type':this[_0x16f9fb(0x926)]},'rank':this[_0x16f9fb(0xa48)](),'remoteConnections':Array[_0x16f9fb(0xa4b)](this['remoteConnections']),'version':this[_0x16f9fb(0x27a)]}});},0x3e8);}}}class _0xc5f936 extends _0x58a063{[_0x2e7de5(0x24d)];['currentVersion']=Date['now']();['updateDebounceTimeout'];[_0x2e7de5(0x1a6)];[_0x2e7de5(0x6f0)](){const _0x416edd=_0x2e7de5;this[_0x416edd(0x7ce)]&&(clearTimeout(this[_0x416edd(0x7ce)]),delete this[_0x416edd(0x7ce)]),delete this[_0x416edd(0x1a6)],this[_0x416edd(0x27a)]=Date[_0x416edd(0x974)](),super[_0x416edd(0x6f0)]();}['registerSystemPublisher'](_0x35869d){this['systemTopic']=_0x35869d;}[_0x2e7de5(0x910)](){const _0x581134=_0x2e7de5;delete this[_0x581134(0x24d)];}[_0x2e7de5(0x74b)](_0x27b88d){const _0x4c71db=_0x2e7de5;!this[_0x4c71db(0x7ce)]&&this[_0x4c71db(0x407)]&&this[_0x4c71db(0x24d)][_0x4c71db(0x4df)]({'sourceId':this['id'],'destinationIds':[_0x27b88d],'propagate':!0x0,'messageType':_0x31418b[_0x4c71db(0x261)],'content':{'type':_0x50d88b['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x4c71db(0x926)],'displayName':this[_0x4c71db(0x49c)](),'email':this['getEmail']()},'rank':this[_0x4c71db(0xa48)](),'remoteConnections':Array[_0x4c71db(0xa4b)](this[_0x4c71db(0x483)]),'version':this['currentVersion']}});}[_0x2e7de5(0x70e)](_0x225087){const _0x35ada8=_0x2e7de5;this[_0x35ada8(0x483)][_0x35ada8(0x1a4)](_0x225087)||(this['remoteConnections'][_0x35ada8(0x9eb)](_0x225087),this[_0x35ada8(0x9cb)](),this['publishUserUpdate'](!0x0));}[_0x2e7de5(0x20f)](_0x51a6e5){const _0x15ed1c=_0x2e7de5;this['remoteConnections'][_0x15ed1c(0x1a4)](_0x51a6e5)&&(this['remoteConnections'][_0x15ed1c(0x428)](_0x51a6e5),this[_0x15ed1c(0x9cb)](),this[_0x15ed1c(0x309)](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}[_0x2e7de5(0x237)](_0x145be5){const _0x1f9c21=_0x2e7de5;this[_0x1f9c21(0x448)]!==_0x145be5&&(this[_0x1f9c21(0x448)]=_0x145be5,this['incrementVersion'](),this['publishUserUpdate']());}[_0x2e7de5(0xa1b)](_0x327f3b){const _0x57f067=_0x2e7de5;this[_0x57f067(0x6b4)]!==_0x327f3b&&(this['email']=_0x327f3b,this[_0x57f067(0x9cb)](),this['publishUserUpdate']());}[_0x2e7de5(0x391)](_0x2ee989,_0x55b602=!0x0){const _0x16153a=_0x2e7de5;this[_0x16153a(0x407)]!==_0x2ee989&&(this[_0x16153a(0x407)]=_0x2ee989,_0x55b602&&(this['incrementVersion'](),this[_0x16153a(0x309)]()));}[_0x2e7de5(0x9cb)](){const _0x29bcaa=_0x2e7de5;this[_0x29bcaa(0x27a)]=Date[_0x29bcaa(0x974)]();}[_0x2e7de5(0x309)](_0xde6b2e=!0x1){const _0x4e2c3c=_0x2e7de5;if(this['rank']){if(this[_0x4e2c3c(0x1a6)]||(this[_0x4e2c3c(0x1a6)]=Date['now']()),this[_0x4e2c3c(0x7ce)]){if(Date[_0x4e2c3c(0x974)]()-this[_0x4e2c3c(0x1a6)]>0x2328)return;clearTimeout(this[_0x4e2c3c(0x7ce)]);}this[_0x4e2c3c(0x7ce)]=setTimeout(()=>{const _0x347590=_0x4e2c3c;delete this['lastUpdated'],delete this[_0x347590(0x7ce)],this[_0x347590(0x24d)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x31418b[_0x347590(0x261)],'content':{'type':_0xde6b2e?_0x50d88b[_0x347590(0x876)]:_0x50d88b[_0x347590(0x857)],'id':this['id'],'metaData':{'type':this[_0x347590(0x926)],'displayName':this[_0x347590(0x49c)](),'email':this[_0x347590(0x685)]()},'rank':this['getRank'](),'remoteConnections':Array['from'](this[_0x347590(0x483)]),'version':this[_0x347590(0x27a)]}});},0x3e8);}}}class _0x31f903{['id'];[_0x2e7de5(0x42e)];[_0x2e7de5(0x9a1)];['agentConfig'];[_0x2e7de5(0x926)]=_0x564b37['NodeType'][_0x2e7de5(0x59d)];[_0x2e7de5(0x1d3)];constructor(_0x237ec1,_0x11b533,_0x3746db,_0x3f8687){const _0x218727=_0x2e7de5;this['id']=_0x237ec1,this[_0x218727(0x42e)]=_0x11b533,this[_0x218727(0x9a1)]=_0x3746db,this['agentConfig']=_0x3f8687;}[_0x2e7de5(0x2ab)](){return this['id'];}[_0x2e7de5(0x316)](_0x11d369){const _0x503da3=_0x2e7de5,_0x27fc39=(0x0,_0x576ce3[_0x503da3(0x705)])((0x0,_0x576ce3['doc'])(_0x498ce8[_0x503da3(0x68f)](),_0x503da3(0x845)+this['vendorId']+_0x503da3(0x880)+this[_0x503da3(0x42e)]),_0x45fc69=>{const _0x55aab4=_0x503da3;if(_0x45fc69[_0x55aab4(0x56e)]()){const _0x5a0d35=_0x45fc69[_0x55aab4(0x672)]();if(this['agentConfig']['timestamp'][_0x55aab4(0x903)](_0x5a0d35[_0x55aab4(0x490)]))return;_0x31c6d3[_0x55aab4(0x65c)](_0x2387f2[_0x55aab4(0x261)],_0x55aab4(0x547),{'agentId':this['id'],'groupId':this[_0x55aab4(0x42e)],'oldConfig':this[_0x55aab4(0x591)],'newConfig':_0x5a0d35}),this['agentConfig']=_0x5a0d35,_0x11d369();}});return()=>_0x27fc39();}[_0x2e7de5(0x658)](_0x42fd94){const _0x9d1afd=_0x2e7de5;return this[_0x9d1afd(0x7c3)](this['groupId'],_0x42fd94),_0x31d9e2[_0x9d1afd(0x6bd)](()=>this['reportCapacity'](this[_0x9d1afd(0x42e)],_0x42fd94),0x7530);}['getCapacityReport'](){const _0x3fdccd=_0x2e7de5;if(!this['lastCapacityReport'])throw new _0x26bf2d(_0x26bf2d['codes']['MistletCapacityReportNotSet']);return this[_0x3fdccd(0x1d3)];}async[_0x2e7de5(0x7c3)](_0x2b7ca0,_0xf92585){const _0x205c0f=_0x2e7de5,_0x432c27=await _0xf92585();this[_0x205c0f(0x1d3)]=_0x432c27,await(0x0,_0x576ce3[_0x205c0f(0xa65)])((0x0,_0x576ce3['collection'])(_0x498ce8[_0x205c0f(0x68f)](),'developers/'+this[_0x205c0f(0x9a1)]+_0x205c0f(0xa75)),{'agentId':this['id'],'groupId':_0x2b7ca0,'timestamp':(0x0,_0x576ce3[_0x205c0f(0x68a)])(),'capacity':_0x432c27});}}!function(_0x5dd785){const _0x13b879=_0x2e7de5;_0x5dd785[_0x5dd785[_0x13b879(0x26b)]=0x0]=_0x13b879(0x26b),_0x5dd785[_0x5dd785[_0x13b879(0x9ab)]=0x1]=_0x13b879(0x9ab);}(_0x54ae78||(_0x54ae78={}));class _0x4e697c extends _0x24a649{[_0x2e7de5(0x27a)];[_0x2e7de5(0x2ea)]=_0x54ae78['Online'];[_0x2e7de5(0x1a6)]=Date['now']();constructor(_0xc28c53,_0x1ecce6=new Set(),_0x430582,_0x21fbc5){const _0x87fad8=_0x2e7de5;super(_0xc28c53,_0x1ecce6,_0x21fbc5),this[_0x87fad8(0x27a)]=_0x430582;}['getCurrentVersion'](){const _0x113e83=_0x2e7de5;return this[_0x113e83(0x27a)];}['getStatus'](){return this['status'];}[_0x2e7de5(0x961)](){return this['lastUpdated'];}[_0x2e7de5(0x391)](_0x1a9962){const _0x2e21f9=_0x2e7de5;this['rank']!==_0x1a9962&&(this[_0x2e21f9(0x407)]=_0x1a9962,this[_0x2e21f9(0x40c)]());}[_0x2e7de5(0x930)](_0x2c150f){const _0x274a31=_0x2e7de5;let _0x2af1c3=!0x1;for(const _0xdaefb1 of this[_0x274a31(0x483)])_0x2c150f[_0x274a31(0xa49)](_0xdaefb1)||(_0x2af1c3=!0x0,this[_0x274a31(0x483)][_0x274a31(0x428)](_0xdaefb1));for(const _0x327528 of _0x2c150f)this[_0x274a31(0x483)][_0x274a31(0x1a4)](_0x327528)||(_0x2af1c3=!0x0,this[_0x274a31(0x483)]['add'](_0x327528));_0x2af1c3&&this[_0x274a31(0x40c)]();}['setCurrentVersion'](_0x3821b3){const _0xc3e7ad=_0x2e7de5;this[_0xc3e7ad(0x27a)]!==_0x3821b3&&(this[_0xc3e7ad(0x27a)]=_0x3821b3,this[_0xc3e7ad(0x40c)]());}['setStatus'](_0x530258){const _0x495442=_0x2e7de5;this[_0x495442(0x2ea)]!==_0x530258&&(this[_0x495442(0x2ea)]=_0x530258,this[_0x495442(0x40c)](),_0x530258===_0x54ae78[_0x495442(0x9ab)]&&this[_0x495442(0x6f0)]());}['updateLastUpdated'](){const _0x19b00d=_0x2e7de5;this[_0x19b00d(0x1a6)]=Date[_0x19b00d(0x974)]();}}class _0x203f34 extends _0x58a063{[_0x2e7de5(0x27a)];[_0x2e7de5(0x2ea)]=_0x54ae78['Online'];[_0x2e7de5(0x1a6)]=Date['now']();constructor(_0x41f49c,_0x2a7399,_0xb8d1f3,_0x12b255=new Set(),_0x4ea73e,_0x497e9c){const _0x823c8b=_0x2e7de5;super(_0x41f49c,_0x2a7399,_0xb8d1f3,_0x12b255,_0x497e9c),this[_0x823c8b(0x27a)]=_0x4ea73e;}[_0x2e7de5(0x575)](){const _0x5e3443=_0x2e7de5;return this[_0x5e3443(0x27a)];}[_0x2e7de5(0x224)](){return this['status'];}[_0x2e7de5(0x961)](){const _0x2e3857=_0x2e7de5;return this[_0x2e3857(0x1a6)];}['setDisplayName'](_0x14b6ed){const _0x132cb0=_0x2e7de5;this[_0x132cb0(0x448)]!==_0x14b6ed&&(this[_0x132cb0(0x448)]=_0x14b6ed,this['updateLastUpdated']());}[_0x2e7de5(0xa1b)](_0x315c49){const _0x48d964=_0x2e7de5;this[_0x48d964(0x6b4)]!==_0x315c49&&(this['email']=_0x315c49,this[_0x48d964(0x40c)]());}['setRank'](_0x5e29ca){const _0x3da601=_0x2e7de5;this[_0x3da601(0x407)]!==_0x5e29ca&&(this[_0x3da601(0x407)]=_0x5e29ca,this[_0x3da601(0x40c)]());}[_0x2e7de5(0x930)](_0x50c44e){const _0x120d0c=_0x2e7de5;let _0x1ac964=!0x1;for(const _0x242b76 of this[_0x120d0c(0x483)])_0x50c44e[_0x120d0c(0xa49)](_0x242b76)||(_0x1ac964=!0x0,this[_0x120d0c(0x483)]['delete'](_0x242b76));for(const _0x5c030e of _0x50c44e)this[_0x120d0c(0x483)]['has'](_0x5c030e)||(_0x1ac964=!0x0,this[_0x120d0c(0x483)][_0x120d0c(0x9eb)](_0x5c030e));_0x1ac964&&this['updateLastUpdated']();}[_0x2e7de5(0x5dc)](_0x20bb48){const _0x4a4f6b=_0x2e7de5;this[_0x4a4f6b(0x27a)]!==_0x20bb48&&(this['currentVersion']=_0x20bb48,this[_0x4a4f6b(0x40c)]());}[_0x2e7de5(0x659)](_0x462aa6){const _0x579b97=_0x2e7de5;this[_0x579b97(0x2ea)]!==_0x462aa6&&(this[_0x579b97(0x2ea)]=_0x462aa6,this[_0x579b97(0x40c)](),_0x462aa6===_0x54ae78[_0x579b97(0x9ab)]&&this[_0x579b97(0x6f0)]());}['updateLastUpdated'](){const _0x54549d=_0x2e7de5;this[_0x54549d(0x1a6)]=Date[_0x54549d(0x974)]();}}class _0x2721a7{['vendorId'];[_0x2e7de5(0x966)];[_0x2e7de5(0x1cc)];[_0x2e7de5(0x2d4)];[_0x2e7de5(0x5c9)]=_0x41b504();[_0x2e7de5(0x963)];[_0x2e7de5(0x7d6)];[_0x2e7de5(0x6cb)];[_0x2e7de5(0x783)]=!0x1;[_0x2e7de5(0x3ab)];[_0x2e7de5(0x8d1)];constructor(_0x280391,_0x113759,_0x2d9887,_0x3b9766){const _0x4e49a4=_0x2e7de5;this[_0x4e49a4(0x9a1)]=_0x280391,this['clusterId']=_0x113759,this[_0x4e49a4(0x1cc)]=_0x2d9887,this[_0x4e49a4(0x2d4)]=_0x3b9766,this['clusterKey']=_0x4e49a4(0x497)+this['vendorId']+_0x4e49a4(0x497)+this[_0x4e49a4(0x966)],this['nodeKey']=_0x4e49a4(0x497)+this[_0x4e49a4(0x9a1)]+_0x4e49a4(0x497)+this[_0x4e49a4(0x1cc)]['getId'](),this[_0x4e49a4(0x963)]=(0x0,_0x33249a[_0x4e49a4(0x7f9)])((0x0,_0x33249a[_0x4e49a4(0x45e)])(_0x498ce8['getDatabase'](),'.info/connected'),_0x391dab=>{const _0x42e840=_0x4e49a4;!0x0!==_0x391dab[_0x42e840(0x968)]()?this[_0x42e840(0x783)]&&_0x31c6d3[_0x42e840(0x972)](_0x42e840(0xa36),{'clusterId':this[_0x42e840(0x966)],'nodeId':this[_0x42e840(0x1cc)][_0x42e840(0x2ab)](),'nodeType':this[_0x42e840(0x1cc)][_0x42e840(0x926)]}):(this[_0x42e840(0x783)]=!0x0,this[_0x42e840(0x499)](),_0x31c6d3[_0x42e840(0x63b)](_0x42e840(0x91e),{'clusterId':this[_0x42e840(0x966)],'nodeId':this[_0x42e840(0x1cc)]['getId'](),'nodeType':this[_0x42e840(0x1cc)]['type']}));});}async[_0x2e7de5(0x396)](){const _0x5d3be2=_0x2e7de5;await this['joinCluster']();const _0x3adf4c=await this[_0x5d3be2(0x1df)]();return this[_0x5d3be2(0x7d6)]=(0x0,_0x33249a[_0x5d3be2(0x956)])((0x0,_0x33249a['ref'])(_0x498ce8[_0x5d3be2(0x647)](),'clusters/'+this['clusterKey']+_0x5d3be2(0xa77)),_0x573b4d=>{const _0x384a16=_0x5d3be2,_0x4d5d7f=_0x573b4d[_0x384a16(0x984)];if(!_0x4d5d7f)return;const _0x2748b3=_0x4d5d7f['replace']('ccc'+this[_0x384a16(0x9a1)]+_0x384a16(0x497),'');this[_0x384a16(0x5c9)][_0x384a16(0x4df)](_0x2748b3);}),_0x3adf4c;}async[_0x2e7de5(0x6f0)](){const _0x2d6be6=_0x2e7de5;this[_0x2d6be6(0x7d6)]?.(),delete this[_0x2d6be6(0x7d6)],this['onDisconnectHandler']?.[_0x2d6be6(0x452)](),delete this[_0x2d6be6(0x6cb)],this[_0x2d6be6(0x963)]?.(),delete this[_0x2d6be6(0x963)],await(0x0,_0x33249a[_0x2d6be6(0x2b2)])((0x0,_0x33249a[_0x2d6be6(0x45e)])(_0x498ce8['getDatabase'](),_0x2d6be6(0x37d)+this[_0x2d6be6(0x3ab)]+_0x2d6be6(0x17a)+this[_0x2d6be6(0x8d1)]));}[_0x2e7de5(0x9d4)](_0x169523){const _0x3e5c34=_0x2e7de5;return this[_0x3e5c34(0x5c9)][_0x3e5c34(0x683)](_0x169523);}async['getAncestors'](){const _0x36d90e=_0x2e7de5,_0x133597=[],_0x3b743e=await(0x0,_0x33249a['get'])((0x0,_0x33249a[_0x36d90e(0x45e)])(_0x498ce8[_0x36d90e(0x647)](),_0x36d90e(0x37d)+this['clusterKey']+_0x36d90e(0xa77))),_0x1a6576=[];return _0x3b743e[_0x36d90e(0x270)](_0x305336=>{const _0x52275c=_0x36d90e,_0x4c5c32=_0x305336[_0x52275c(0x984)]?.[_0x52275c(0x4fb)](_0x52275c(0x497)+this[_0x52275c(0x9a1)]+_0x52275c(0x497),'');_0x1a6576[_0x52275c(0x67b)]({'id':_0x4c5c32,'joinedAt':_0x305336[_0x52275c(0x968)]()['joinedAt'],'priority':_0x305336[_0x52275c(0x968)]()[_0x52275c(0x2a5)]});}),_0x1a6576[_0x36d90e(0x1c1)]((_0x9975f1,_0x5b060f)=>_0x9975f1['joinedAt']===_0x5b060f['joinedAt']?_0x9975f1[_0x36d90e(0x2a5)]-_0x5b060f[_0x36d90e(0x2a5)]:_0x9975f1['joinedAt']-_0x5b060f[_0x36d90e(0x896)])[_0x36d90e(0x329)](_0x1a6576[_0x36d90e(0x8cb)](_0x5993ca=>_0x5993ca['id']===this[_0x36d90e(0x1cc)][_0x36d90e(0x2ab)]())),_0x1a6576[_0x36d90e(0x1c1)]((_0xc6166d,_0x2d5eee)=>_0x2d5eee[_0x36d90e(0x896)]===_0xc6166d[_0x36d90e(0x896)]?_0x2d5eee[_0x36d90e(0x2a5)]-_0xc6166d[_0x36d90e(0x2a5)]:_0x2d5eee['joinedAt']-_0xc6166d[_0x36d90e(0x896)])['forEach'](_0x513804=>{const _0x4acbb5=_0x36d90e;_0x133597['length']>=this[_0x4acbb5(0x2d4)]||_0x133597[_0x4acbb5(0x67b)](_0x513804['id']);}),_0x31c6d3['logEvent']('discover',{'clusterId':this[_0x36d90e(0x966)],'nodeId':this['localNode'][_0x36d90e(0x2ab)](),'nodeType':this['localNode'][_0x36d90e(0x926)],'data':{'ancestorIds':_0x133597,'allNodes':_0x1a6576}}),_0x133597;}async['joinCluster'](){const _0x4155f5=_0x2e7de5;await(0x0,_0x33249a['set'])((0x0,_0x33249a['ref'])(_0x498ce8['getDatabase'](),'clusters/'+this[_0x4155f5(0x3ab)]+_0x4155f5(0x17a)+this[_0x4155f5(0x8d1)]),{'joinedAt':(0x0,_0x33249a[_0x4155f5(0x68a)])(),'priority':Math['random']()});}[_0x2e7de5(0x499)](){const _0x4fecc3=_0x2e7de5;this[_0x4fecc3(0x6cb)]&&this[_0x4fecc3(0x6cb)]['cancel'](),this['onDisconnectHandler']=(0x0,_0x33249a['onDisconnect'])((0x0,_0x33249a[_0x4fecc3(0x45e)])(_0x498ce8[_0x4fecc3(0x647)](),_0x4fecc3(0x37d)+this[_0x4fecc3(0x3ab)]+_0x4fecc3(0x17a)+this[_0x4fecc3(0x8d1)])),this[_0x4fecc3(0x6cb)][_0x4fecc3(0x2b2)]();}}class _0x509ce9{['configs'];['graphService'];[_0x2e7de5(0x715)];['discoveryService'];[_0x2e7de5(0x3bf)];['ancestors']=[];[_0x2e7de5(0x24d)];[_0x2e7de5(0x202)]=new Map();[_0x2e7de5(0x54a)];[_0x2e7de5(0x473)];[_0x2e7de5(0x6f1)];['resolveReady'];[_0x2e7de5(0x33f)];[_0x2e7de5(0x3d7)];constructor(_0x4dd369,_0xb9a868){const _0x45314a=_0x2e7de5;this[_0x45314a(0x562)]=_0x4dd369,this[_0x45314a(0x1c8)]=_0xb9a868,this['_isReady']=new Promise((_0x24171f,_0x16b937)=>{const _0x498d6f=_0x45314a;this['resolveReady']=_0x24171f,this[_0x498d6f(0x33f)]=_0x16b937;}),this['discoveryService']=new _0x2721a7(this[_0x45314a(0x562)][_0x45314a(0x9a1)],this[_0x45314a(0x562)]['clusterId'],this[_0x45314a(0x562)][_0x45314a(0x1cc)],this[_0x45314a(0x1c8)]['getMinConnections']()),this[_0x45314a(0x3bf)]=this[_0x45314a(0x343)][_0x45314a(0x9d4)](this[_0x45314a(0x440)][_0x45314a(0x32d)](this)),this['configs']['mediator'][_0x45314a(0x923)](this['configs'][_0x45314a(0x1cc)]),this['configs'][_0x45314a(0x442)]['registerSystemSource'](this),this[_0x45314a(0x715)]=_0x31d9e2[_0x45314a(0x6bd)](()=>{const _0x28d640=_0x45314a,_0x5011d1=Date['now']();this[_0x28d640(0x1c8)][_0x28d640(0x293)]()[_0x28d640(0x270)](_0x551596=>{const _0x4d03da=_0x28d640;_0x551596[_0x4d03da(0x224)]()===_0x54ae78[_0x4d03da(0x9ab)]&&_0x551596['getLastUpdated']()<_0x5011d1-0x493e0&&this[_0x4d03da(0x1c8)]['deleteRemoteNode'](_0x551596[_0x4d03da(0x2ab)]());});},0xea60);}async[_0x2e7de5(0x6cc)](){const _0x4a7378=_0x2e7de5;return this[_0x4a7378(0x6f1)];}async[_0x2e7de5(0xa84)](_0x28b52d){return new Promise((_0x4c223d,_0x3bc0e9)=>{const _0x56dab5=a0_0x4258;let _0x457256;const _0x4dd135=setTimeout(()=>{const _0x21a64f=a0_0x4258;_0x457256?.(),_0x3bc0e9(new Error('Node\x20\x27'+_0x28b52d+_0x21a64f(0x3af)));},0x2710);if(this[_0x56dab5(0x1c8)][_0x56dab5(0x28a)](_0x28b52d))return clearTimeout(_0x4dd135),void _0x4c223d(!0x0);_0x457256=this['graphService'][_0x56dab5(0x8e6)](()=>{const _0x4dcacd=_0x56dab5;this[_0x4dcacd(0x1c8)][_0x4dcacd(0x28a)](_0x28b52d)&&(clearTimeout(_0x4dd135),_0x4c223d(!0x0),_0x457256?.());});});}[_0x2e7de5(0x796)](_0x5e4ddc){const _0x33b9db=_0x2e7de5;this[_0x33b9db(0x24d)]=_0x5e4ddc;}[_0x2e7de5(0x910)](){const _0x230913=_0x2e7de5;delete this[_0x230913(0x24d)];}[_0x2e7de5(0x6f0)](){const _0x4f9917=_0x2e7de5;this[_0x4f9917(0x54a)]&&(clearTimeout(this[_0x4f9917(0x54a)]),delete this['debounceProcessRank']),delete this[_0x4f9917(0x473)],this[_0x4f9917(0x562)][_0x4f9917(0x1cc)][_0x4f9917(0x6f0)](),this['remoteUnsubscriber'](),this[_0x4f9917(0x3bf)](),this[_0x4f9917(0x562)]['mediator'][_0x4f9917(0x8a7)](this['configs'][_0x4f9917(0x1cc)]),this[_0x4f9917(0x562)][_0x4f9917(0x442)]['unregisterSystemSource'](this),this['discoveryService'][_0x4f9917(0x6f0)]();}['getAncestorIds'](){const _0x3aa87e=_0x2e7de5;return this[_0x3aa87e(0x90d)];}[_0x2e7de5(0x250)](){const _0xad73a7=_0x2e7de5;return this[_0xad73a7(0x562)]['localNode']['getId']();}[_0x2e7de5(0x5c7)](){const _0x55d11e=_0x2e7de5;return this['configs'][_0x55d11e(0x1cc)];}[_0x2e7de5(0x293)](_0x3d125a){const _0x2e2574=_0x2e7de5,_0x2d54ab=Array[_0x2e2574(0xa4b)](this[_0x2e2574(0x1c8)][_0x2e2574(0x293)]()[_0x2e2574(0x20c)]())[_0x2e2574(0x8bd)](_0x31070d=>_0x31070d[_0x2e2574(0x224)]()===_0x54ae78[_0x2e2574(0x26b)]);return _0x3d125a?_0x2d54ab[_0x2e2574(0x8bd)](_0x3d125a):_0x2d54ab;}async[_0x2e7de5(0x881)](){const _0x452109=_0x2e7de5;return this[_0x452109(0x90d)]=await this[_0x452109(0x343)][_0x452109(0x396)](),this[_0x452109(0x90d)][_0x452109(0x727)]<this[_0x452109(0x1c8)]['getMinConnections']()&&(this[_0x452109(0x562)][_0x452109(0x1cc)][_0x452109(0x391)](this[_0x452109(0x90d)][_0x452109(0x727)]+0x1),this['processRank']()),this[_0x452109(0x90d)];}[_0x2e7de5(0x378)](_0x3f10ad,_0x301488){const _0xb6ee84=_0x2e7de5,_0x952da4=this[_0xb6ee84(0x562)][_0xb6ee84(0x1cc)][_0xb6ee84(0x95c)](),_0x107548=new Set(_0x952da4),_0x1e5dd0=Array['from'](_0x952da4)[_0xb6ee84(0x8bd)](_0x57c537=>_0x57c537!==_0x3f10ad)['map'](_0x440c6e=>({'id':_0x440c6e,'distance':0x1}));for(;_0x1e5dd0[_0xb6ee84(0x727)]>0x0;){const _0x47ec0f=_0x1e5dd0[_0xb6ee84(0x242)]();if(!_0x47ec0f)continue;if(_0x47ec0f['id']===_0x301488)return _0x47ec0f[_0xb6ee84(0x996)];const _0x3a9544=this[_0xb6ee84(0x1c8)][_0xb6ee84(0x96d)](_0x47ec0f['id']);_0x3a9544&&_0x3a9544[_0xb6ee84(0x224)]()!==_0x54ae78['Offline']&&_0x3a9544[_0xb6ee84(0x95c)]()[_0xb6ee84(0x270)](_0x496ea6=>{const _0x1533bb=_0xb6ee84;_0x107548[_0x1533bb(0x1a4)](_0x496ea6)||(_0x107548[_0x1533bb(0x9eb)](_0x496ea6),_0x1e5dd0[_0x1533bb(0x67b)]({'id':_0x496ea6,'distance':_0x47ec0f[_0x1533bb(0x996)]+0x1}));});}return-0x1;}[_0x2e7de5(0x479)](_0x1ce135){const _0x32198c=_0x2e7de5;try{switch(_0x1ce135[_0x32198c(0x1da)][_0x32198c(0x926)]){case _0x50d88b[_0x32198c(0x857)]:case _0x50d88b[_0x32198c(0x876)]:this[_0x32198c(0x5de)](_0x1ce135[_0x32198c(0x1da)]),_0x31c6d3[_0x32198c(0x65c)](_0x2387f2[_0x32198c(0x261)],_0x32198c(0x4ec),'\x27'+this[_0x32198c(0x562)]['localNode'][_0x32198c(0x2ab)]()+',\x20'+_0x1ce135[_0x32198c(0x194)]+'\x27',_0x1ce135,_0x1ce135[_0x32198c(0x1da)]);break;case _0x50d88b[_0x32198c(0x468)]:this[_0x32198c(0x5ad)](_0x1ce135[_0x32198c(0x1da)]['id']),_0x31c6d3[_0x32198c(0x65c)](_0x2387f2[_0x32198c(0x261)],_0x32198c(0x190),'\x27'+this['configs'][_0x32198c(0x1cc)]['getId']()+',\x20'+_0x1ce135['sourceId']+'\x27',_0x1ce135,_0x1ce135[_0x32198c(0x1da)]);}}catch(_0x4f6d82){if(_0x4f6d82 instanceof _0x4d789b)return void _0x31c6d3[_0x32198c(0x65c)](_0x2387f2['Node'],_0x4f6d82['message']);throw _0x4f6d82;}}[_0x2e7de5(0x6f5)](_0x5941bc){const _0x55949d=_0x2e7de5;switch(_0x5941bc[_0x55949d(0x1da)][_0x55949d(0x926)]){case _0x30b2f6[_0x55949d(0x848)]:this[_0x55949d(0xa39)](_0x5941bc[_0x55949d(0x194)]),_0x31c6d3['log'](_0x2387f2[_0x55949d(0x261)],_0x55949d(0x832),'\x27'+this['configs'][_0x55949d(0x1cc)][_0x55949d(0x2ab)]()+',\x20'+_0x5941bc[_0x55949d(0x194)]+'\x27',_0x5941bc,_0x5941bc[_0x55949d(0x1da)]);break;case _0x30b2f6[_0x55949d(0x17d)]:this[_0x55949d(0x2a8)](_0x5941bc['sourceId']),_0x31c6d3[_0x55949d(0x65c)](_0x2387f2[_0x55949d(0x261)],'NodeManager\x20-\x20PublishNodeLeave',this[_0x55949d(0x562)][_0x55949d(0x1cc)][_0x55949d(0x2ab)](),_0x5941bc,_0x5941bc[_0x55949d(0x1da)]);}}[_0x2e7de5(0x8cd)](_0x1978ea){const _0x56aaa4=_0x2e7de5;this['createRemoteNode'](_0x1978ea),this[_0x56aaa4(0x4f4)](_0x1978ea);}['notifyJoin'](_0x59ab40){const _0x324542=_0x2e7de5;this[_0x324542(0x562)][_0x324542(0x1cc)]['answerJoin'](_0x59ab40['id']),this[_0x324542(0xa71)](_0x59ab40['id']),this[_0x324542(0x6f8)](_0x59ab40);}[_0x2e7de5(0x5de)](_0x55298b){const _0x163811=_0x2e7de5,{id:_0x1867d6,metaData:_0x534c83,rank:_0x238754,remoteConnections:_0x4940bf,version:_0x342bc1}=_0x55298b,_0x2f9e88=this[_0x163811(0x1c8)][_0x163811(0x96d)](_0x1867d6);if(_0x2f9e88){if(!(_0x342bc1<=_0x2f9e88[_0x163811(0x575)]())){if(_0x2f9e88['setRemoteConnections'](_0x4940bf),_0x2f9e88['setCurrentVersion'](_0x342bc1),_0x2f9e88[_0x163811(0x926)]===_0x564b37[_0x163811(0x20b)]['User']&&_0x534c83[_0x163811(0x926)]===_0x564b37['NodeType']['User']&&(_0x2f9e88[_0x163811(0x237)](_0x534c83[_0x163811(0x448)]),_0x2f9e88[_0x163811(0xa1b)](_0x534c83[_0x163811(0x6b4)])),_0x238754&&_0x2f9e88['setRank'](_0x238754),this[_0x163811(0x4b4)](_0x1867d6,_0x238754),_0x2f9e88['getStatus']()===_0x54ae78[_0x163811(0x9ab)])return _0x2f9e88[_0x163811(0x659)](_0x54ae78[_0x163811(0x26b)]),this[_0x163811(0x96f)](),void this[_0x163811(0x4f4)](_0x55298b);this[_0x163811(0x96f)](),this[_0x163811(0x784)]({'id':_0x1867d6,'metaData':_0x534c83,'remoteConnections':_0x4940bf,'version':_0x342bc1});}}else this['handleNodeJoin'](_0x55298b);}['setLocalRank'](_0x5b6b6e,_0xf26777){const _0x29ffc5=_0x2e7de5;_0xf26777&&this['ancestors'][_0x29ffc5(0xa49)](_0x5b6b6e)&&this['configs'][_0x29ffc5(0x1cc)]['setRank'](_0xf26777+this[_0x29ffc5(0x90d)][_0x29ffc5(0x801)](_0x5b6b6e)+0x1);}[_0x2e7de5(0xa39)](_0xc97b39){const _0x2bb58f=_0x2e7de5;this[_0x2bb58f(0x562)][_0x2bb58f(0x1cc)][_0x2bb58f(0x70e)](_0xc97b39);}[_0x2e7de5(0x2e8)]({id:_0xe6520,metaData:_0x3ce3a4,rank:_0x2e0aac,remoteConnections:_0x3ce726,version:_0x34e9f0}){const _0x2617c7=_0x2e7de5;if(this[_0x2617c7(0x1c8)][_0x2617c7(0x28a)](_0xe6520))throw new _0x4d789b(_0x2617c7(0xa07)+_0xe6520);switch(_0x3ce3a4[_0x2617c7(0x926)]){case _0x564b37[_0x2617c7(0x20b)]['User']:const {displayName:_0x232ad7,email:_0x4dd208}=_0x3ce3a4;this[_0x2617c7(0x1c8)][_0x2617c7(0x87b)](_0xe6520,new _0x203f34(_0xe6520,_0x232ad7,_0x4dd208,new Set(_0x3ce726),_0x34e9f0,_0x2e0aac));break;case _0x564b37[_0x2617c7(0x20b)]['Agent']:this['graphService'][_0x2617c7(0x87b)](_0xe6520,new _0x4e697c(_0xe6520,new Set(_0x3ce726),_0x34e9f0,_0x2e0aac));}const _0x4b6425=this[_0x2617c7(0x293)](),_0x10c61d=new Set(this['ancestors']);_0x4b6425['forEach'](_0x2dc876=>{const _0x4bc561=_0x2617c7;_0x10c61d[_0x4bc561(0x1a4)](_0x2dc876[_0x4bc561(0x2ab)]())&&_0x10c61d[_0x4bc561(0x428)](_0x2dc876[_0x4bc561(0x2ab)]());}),0x0===_0x10c61d[_0x2617c7(0x777)]&&this['resolveReady']&&(this[_0x2617c7(0x3d7)]&&clearTimeout(this[_0x2617c7(0x3d7)]),this[_0x2617c7(0x3d7)]=setTimeout(()=>{const _0x1972e6=_0x2617c7;this[_0x1972e6(0x597)]?.(!0x0),delete this['resolveReady'],delete this[_0x1972e6(0x33f)];},0x7d0)),this[_0x2617c7(0x4b4)](_0xe6520,_0x2e0aac),this['processRank']();}[_0x2e7de5(0xa71)](_0x51a22f){const _0x33fc8a=_0x2e7de5;this[_0x33fc8a(0x24d)]['publish']({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x33fc8a(0x261)],'content':{'type':_0x50d88b[_0x33fc8a(0x50c)],'id':_0x51a22f}});}[_0x2e7de5(0x2a8)](_0x26ee8a){const _0x442fc1=_0x2e7de5;this['systemTopic']?.[_0x442fc1(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x442fc1(0x261)],'content':{'type':_0x50d88b['NodeLeave'],'id':_0x26ee8a}});}[_0x2e7de5(0x440)](_0x5d7b19){const _0x43913e=_0x2e7de5;if(_0x5d7b19===this[_0x43913e(0x562)]['localNode']['getId']())return this['configs']['mediator'][_0x43913e(0x43b)](_0x43913e(0x92a),{'id':_0x5d7b19}),this[_0x43913e(0x562)][_0x43913e(0x442)][_0x43913e(0x6f0)]({'force':!0x0},!0x0),this[_0x43913e(0x562)][_0x43913e(0x442)][_0x43913e(0x35d)](),void this[_0x43913e(0x562)][_0x43913e(0x442)][_0x43913e(0x9cd)]();this[_0x43913e(0x2a8)](_0x5d7b19);}[_0x2e7de5(0x5ad)](_0x5d3c3f){const _0x8d261=_0x2e7de5;this['ancestors'][_0x8d261(0xa49)](_0x5d3c3f)?this[_0x8d261(0x87a)](_0x5d3c3f):this[_0x8d261(0x562)][_0x8d261(0x1cc)][_0x8d261(0x95c)]()[_0x8d261(0x1a4)](_0x5d3c3f)&&this[_0x8d261(0x319)](_0x5d3c3f),this[_0x8d261(0x562)][_0x8d261(0x1cc)][_0x8d261(0x20f)](_0x5d3c3f);const _0x585ebf=Array['from'](this[_0x8d261(0x202)][_0x8d261(0x4d1)]())[_0x8d261(0x921)](([,_0x19049d])=>_0x19049d==_0x19049d);_0x585ebf&&this[_0x8d261(0x202)][_0x8d261(0x428)](_0x585ebf[0x0]);const _0x3636c5=this[_0x8d261(0x1c8)][_0x8d261(0x96d)](_0x5d3c3f);if(!_0x3636c5)return;const _0x1b355c=_0x3636c5[_0x8d261(0xa48)](),_0x21c737=this['configs'][_0x8d261(0x1cc)][_0x8d261(0xa48)]();_0x21c737&&_0x1b355c&&_0x1b355c<_0x21c737&&this[_0x8d261(0x562)][_0x8d261(0x1cc)][_0x8d261(0x391)](_0x21c737-0x1,!0x1),Array[_0x8d261(0xa4b)](this[_0x8d261(0x1c8)][_0x8d261(0x293)]()[_0x8d261(0x20c)]())[_0x8d261(0x270)](_0x65ba4e=>{const _0x5065d1=_0x8d261,_0x2d49a2=_0x65ba4e[_0x5065d1(0xa48)]();_0x2d49a2&&_0x1b355c&&_0x1b355c<_0x2d49a2&&_0x65ba4e[_0x5065d1(0x391)](_0x2d49a2-0x1);}),_0x3636c5['setStatus'](_0x54ae78[_0x8d261(0x9ab)]),this[_0x8d261(0x562)][_0x8d261(0x442)]['notifyCluster'](_0x3636c5[_0x8d261(0x926)]+_0x8d261(0x545),{'id':_0x5d3c3f});}[_0x2e7de5(0x6f8)]({id:_0x3ea896,metaData:_0x4002fc,remoteConnections:_0x1d5503}){const _0x34739d=_0x2e7de5;switch(_0x4002fc[_0x34739d(0x926)]){case _0x564b37['NodeType']['User']:this['configs'][_0x34739d(0x442)][_0x34739d(0x43b)](_0x34739d(0x27f),{'id':_0x3ea896,'metaData':_0x4002fc,'remoteConnections':_0x1d5503});break;case _0x564b37['NodeType']['Agent']:this['configs'][_0x34739d(0x442)][_0x34739d(0x43b)](_0x34739d(0x54f),{'id':_0x3ea896,'metaData':_0x4002fc,'remoteConnections':_0x1d5503});}}['notifyClusterNodeUpdate']({id:_0xed86bd,metaData:_0x285f5b,remoteConnections:_0xb572c3}){const _0x57b676=_0x2e7de5;switch(_0x285f5b[_0x57b676(0x926)]){case _0x564b37[_0x57b676(0x20b)][_0x57b676(0xa5c)]:this[_0x57b676(0x562)][_0x57b676(0x442)][_0x57b676(0x43b)](_0x57b676(0x8a1),{'id':_0xed86bd,'metaData':_0x285f5b,'remoteConnections':_0xb572c3});break;case _0x564b37[_0x57b676(0x20b)][_0x57b676(0x59d)]:this['configs']['mediator'][_0x57b676(0x43b)](_0x57b676(0x769),{'id':_0xed86bd,'metaData':_0x285f5b,'remoteConnections':_0xb572c3});}}[_0x2e7de5(0x96f)](){const _0xd1fdf0=_0x2e7de5;if(this[_0xd1fdf0(0x473)]||(this[_0xd1fdf0(0x473)]=Date[_0xd1fdf0(0x974)]()),this[_0xd1fdf0(0x54a)]){if(Date[_0xd1fdf0(0x974)]()-this[_0xd1fdf0(0x473)]>0x2328)return;clearTimeout(this[_0xd1fdf0(0x54a)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x2c4732=_0xd1fdf0;delete this[_0x2c4732(0x473)],delete this['debounceProcessRank'];const _0xc61236=this['configs'][_0x2c4732(0x1cc)]['getRank']();if(!_0xc61236)return;const _0x2ef760=this[_0x2c4732(0x1c8)][_0x2c4732(0x6ff)](this[_0x2c4732(0x1c8)][_0x2c4732(0x293)]()[_0x2c4732(0x777)]);if(this[_0x2c4732(0x202)][_0x2c4732(0x777)]>=_0x2ef760)return;let _0xc69bde=0x1;for(;this[_0x2c4732(0x562)][_0x2c4732(0x442)][_0x2c4732(0x842)]()['length']<this[_0x2c4732(0x1c8)]['getMaxConnections']()&&_0xc69bde<=_0x2ef760;){if(this[_0x2c4732(0x202)]['has'](_0xc69bde)){_0xc69bde+=0x1;continue;}const _0x269436=this['graphService'][_0x2c4732(0x62f)](_0xc61236,_0xc69bde),_0x3d8c84=Array['from'](this[_0x2c4732(0x1c8)][_0x2c4732(0x293)]()[_0x2c4732(0x20c)]())['find'](_0x36ed0c=>_0x36ed0c[_0x2c4732(0xa48)]()===_0x269436&&_0x36ed0c[_0x2c4732(0x224)]()===_0x54ae78['Online']);if(_0x3d8c84){try{await this[_0x2c4732(0x562)][_0x2c4732(0x442)][_0x2c4732(0x19e)](_0x3d8c84[_0x2c4732(0x2ab)](),_0x168d97[_0x2c4732(0x19c)]),this[_0x2c4732(0x202)]['set'](_0xc69bde,_0x3d8c84[_0x2c4732(0x2ab)]());}catch(_0x4a806c){if(!(_0x4a806c instanceof _0x26bf2d&&_0x4a806c[_0x2c4732(0x7ba)]===_0x26bf2d['codes'][_0x2c4732(0x9e1)]))throw _0x4a806c;_0x31c6d3[_0x2c4732(0x65c)](_0x2387f2[_0x2c4732(0x261)],this[_0x2c4732(0x562)][_0x2c4732(0x1cc)][_0x2c4732(0x2ab)](),_0x3d8c84[_0x2c4732(0x2ab)](),_0x4a806c[_0x2c4732(0x4b2)]);}_0xc69bde+=0x1;}else _0xc69bde+=0x1;}},0x3e8);}async[_0x2e7de5(0x87a)](_0x15264d){const _0x5b2f50=_0x2e7de5;this[_0x5b2f50(0x90d)][_0x5b2f50(0x329)](this['ancestors'][_0x5b2f50(0x801)](_0x15264d),0x1);const _0x551d07=await this['discoveryService'][_0x5b2f50(0x1df)]();for(const _0x8f8483 of _0x551d07)if(!this[_0x5b2f50(0x90d)]['includes'](_0x8f8483)){const _0x561d9c=Array[_0x5b2f50(0xa4b)](this['optimizationLayers'][_0x5b2f50(0x4d1)]())[_0x5b2f50(0x921)](([,_0x52cd5d])=>_0x52cd5d===_0x8f8483);_0x561d9c&&this['optimizationLayers']['delete'](_0x561d9c[0x0]),this[_0x5b2f50(0x562)]['mediator'][_0x5b2f50(0x19e)](_0x8f8483,_0x168d97[_0x5b2f50(0x7ea)]);}0x0===_0x551d07[_0x5b2f50(0x727)]&&this[_0x5b2f50(0x562)][_0x5b2f50(0x1cc)]['setRank'](0x1),this[_0x5b2f50(0x90d)]=_0x551d07;}async[_0x2e7de5(0x319)](_0x2bb8b6){const _0x995eb2=_0x2e7de5,_0x479c0c=this['configs'][_0x995eb2(0x1cc)][_0x995eb2(0xa48)]();if(!_0x479c0c)return;const _0x49f6a0=this['graphService'][_0x995eb2(0x96d)](_0x2bb8b6);if(!_0x49f6a0||_0x49f6a0[_0x995eb2(0x224)]()===_0x54ae78[_0x995eb2(0x9ab)])return;const _0xe41273=_0x49f6a0[_0x995eb2(0xa48)]();if(!_0xe41273||_0xe41273<_0x479c0c)return;const _0x278f03=this[_0x995eb2(0x83c)](this[_0x995eb2(0x562)][_0x995eb2(0x1cc)][_0x995eb2(0x95c)](),_0x479c0c),_0x4e70a0=this['getOutgoingOptimizationConnections'](_0x49f6a0[_0x995eb2(0x95c)](),_0xe41273)[_0x278f03['findIndex'](([_0x1107ab])=>_0x1107ab===_0x2bb8b6)];if(!_0x4e70a0||this['configs'][_0x995eb2(0x1cc)]['getRemoteConnections']()[_0x995eb2(0x1a4)](_0x4e70a0[0x0]))return;const _0x1b79c3=this[_0x995eb2(0x1c8)]['getRemoteNode'](_0x4e70a0[0x0]);if(_0x1b79c3&&_0x1b79c3[_0x995eb2(0x224)]()!==_0x54ae78[_0x995eb2(0x9ab)])try{await this[_0x995eb2(0x562)][_0x995eb2(0x442)][_0x995eb2(0x19e)](_0x4e70a0[0x0],_0x168d97[_0x995eb2(0x19c)]);const _0x27b22c=Array[_0x995eb2(0xa4b)](this[_0x995eb2(0x202)]['entries']())[_0x995eb2(0x921)](([,_0xd31951])=>_0xd31951===_0x2bb8b6);_0x27b22c&&this['optimizationLayers'][_0x995eb2(0x7ee)](_0x27b22c[0x0],_0x4e70a0[0x0]);}catch(_0x128459){if(!(_0x128459 instanceof _0x26bf2d&&_0x128459['code']===_0x26bf2d[_0x995eb2(0x269)]['RemoteConnectionExists']))throw _0x128459;_0x31c6d3[_0x995eb2(0x65c)](_0x2387f2[_0x995eb2(0x261)],this[_0x995eb2(0x562)][_0x995eb2(0x1cc)][_0x995eb2(0x2ab)](),_0x4e70a0[0x0],_0x128459[_0x995eb2(0x4b2)]);}}[_0x2e7de5(0x83c)](_0x39c9a6,_0x11dbff){const _0x40ef18=_0x2e7de5;return Array['from'](_0x39c9a6)[_0x40ef18(0x2c7)]((_0x5dfd76,_0x5224dd)=>{const _0x1906c9=_0x40ef18,_0x7e7430=this[_0x1906c9(0x1c8)][_0x1906c9(0x96d)](_0x5224dd);if(!_0x7e7430||_0x7e7430[_0x1906c9(0x224)]()===_0x54ae78[_0x1906c9(0x9ab)])return _0x5dfd76;const _0x232a29=_0x7e7430[_0x1906c9(0xa48)]();if(!_0x232a29)return _0x5dfd76;const _0x2faf52=_0x232a29-_0x11dbff;return _0x2faf52<=this['graphService'][_0x1906c9(0x72d)]()||_0x5dfd76[_0x1906c9(0x67b)]([_0x5224dd,_0x2faf52]),_0x5dfd76;},[])[_0x40ef18(0x1c1)](([,_0x3c1310],[,_0x125fb2])=>_0x3c1310-_0x125fb2);}}const _0x5b2389=[{'problemType':_0x23e595[_0x2e7de5(0x400)],'remediations':[{'type':_0x2f76eb[_0x2e7de5(0x16f)],'component':_0x4a0fa6[_0x2e7de5(0x565)],'action':_0x4246ab['Downgrade']},{'type':_0x2f76eb['RemoteRemediation'],'component':_0x4a0fa6[_0x2e7de5(0x565)],'action':_0x4246ab[_0x2e7de5(0x300)]}]},{'problemType':_0x23e595[_0x2e7de5(0x75c)],'remediations':[{'type':_0x2f76eb[_0x2e7de5(0x16f)],'component':_0x4a0fa6[_0x2e7de5(0x565)],'action':_0x4246ab[_0x2e7de5(0x300)]}]},{'problemType':_0x23e595[_0x2e7de5(0x6da)],'remediations':[{'type':_0x2f76eb['Remediation'],'component':_0x4a0fa6[_0x2e7de5(0x565)],'action':_0x4246ab[_0x2e7de5(0x300)]}]},{'problemType':_0x23e595['FramePerSecond'],'remediations':[{'type':_0x2f76eb[_0x2e7de5(0x16f)],'component':_0x4a0fa6[_0x2e7de5(0x565)],'action':_0x4246ab[_0x2e7de5(0x300)]}]},{'problemType':_0x23e595['Bitrate'],'remediations':[{'type':_0x2f76eb[_0x2e7de5(0x16f)],'component':_0x4a0fa6[_0x2e7de5(0x228)],'action':_0x4246ab[_0x2e7de5(0x300)]}]},{'problemType':_0x23e595[_0x2e7de5(0x4a7)],'remediations':[{'type':_0x2f76eb[_0x2e7de5(0x16f)],'component':_0x4a0fa6[_0x2e7de5(0x228)],'action':_0x4246ab['Downgrade']}]},{'problemType':_0x23e595[_0x2e7de5(0x979)],'remediations':[{'type':_0x2f76eb['Remediation'],'component':_0x4a0fa6[_0x2e7de5(0x228)],'action':_0x4246ab[_0x2e7de5(0x300)]}]}];class _0x1a0ad9{['configs'];[_0x2e7de5(0x24d)];[_0x2e7de5(0x714)]=new Map();constructor(_0x138274){const _0x4259c8=_0x2e7de5;this[_0x4259c8(0x562)]=_0x138274,this[_0x4259c8(0x562)][_0x4259c8(0x442)][_0x4259c8(0x923)](this);}[_0x2e7de5(0x6f0)](){const _0x44e345=_0x2e7de5;this['configs'][_0x44e345(0x442)]['unregisterSystemSource'](this);}[_0x2e7de5(0x796)](_0x3c74e4){this['systemTopic']=_0x3c74e4;}['unregisterSystemPublisher'](){const _0xe38dfb=_0x2e7de5;delete this[_0xe38dfb(0x24d)];}[_0x2e7de5(0x38c)](_0x170d5e){const _0x36e322=_0x2e7de5;_0x170d5e[_0x36e322(0x1da)][_0x36e322(0x926)]===_0x4ee06c['Problem']&&this['handleProblem'](_0x170d5e['content'][_0x36e322(0x672)]);}[_0x2e7de5(0x644)](_0xbd0270){const _0x4341c1=_0x2e7de5;_0xbd0270['content'][_0x4341c1(0x926)]===_0x2f76eb[_0x4341c1(0xa2a)]&&this[_0x4341c1(0x325)](_0xbd0270[_0x4341c1(0x194)],{'type':_0x2f76eb[_0x4341c1(0x16f)],'component':_0xbd0270[_0x4341c1(0x1da)][_0x4341c1(0x672)][_0x4341c1(0x608)],'action':_0xbd0270['content']['data'][_0x4341c1(0x935)]});}[_0x2e7de5(0x43c)](_0x2ec7d9){const _0x56534a=_0x2e7de5,_0x5f53e0=_0x5b2389[_0x56534a(0x921)](_0x2fba4d=>_0x2fba4d[_0x56534a(0x291)]===_0x2ec7d9[_0x56534a(0x926)]);_0x5f53e0[_0x56534a(0x476)]?.[_0x56534a(0x270)](_0x1828b2=>{const _0x50535c=_0x56534a;this[_0x50535c(0x325)](_0x2ec7d9[_0x50535c(0x82b)],{'type':_0x2ec7d9[_0x50535c(0x584)]===_0xed553[_0x50535c(0x254)]?_0x2f76eb['Remediation']:_0x2f76eb[_0x50535c(0xa2a)],'component':_0x1828b2[_0x50535c(0x608)],'action':_0x1828b2['action']});});}[_0x2e7de5(0x325)](_0xaab435,_0x520f7d){const _0x45326c=_0x2e7de5;if(_0x520f7d[_0x45326c(0x926)]===_0x2f76eb[_0x45326c(0x16f)]){const _0x3ddd7a=Date[_0x45326c(0x974)](),_0x5cce07=this['lastRemediations'][_0x45326c(0x6ba)](_0xaab435);if(_0x5cce07&&_0x3ddd7a-_0x5cce07<0x1388)return;this['lastRemediations']['set'](_0xaab435,_0x3ddd7a);}_0x31c6d3[_0x45326c(0x65c)](_0x2387f2[_0x45326c(0x16f)],_0x45326c(0x7d1),_0x520f7d),_0x31c6d3['logEvent'](_0x45326c(0x706),{'clusterId':this['configs'][_0x45326c(0x966)],'nodeId':this[_0x45326c(0x562)][_0x45326c(0x1cc)]['getId'](),'nodeType':this['configs'][_0x45326c(0x1cc)][_0x45326c(0x926)],'remoteId':_0xaab435,'data':{'type':_0x520f7d[_0x45326c(0x926)],'component':_0x520f7d[_0x45326c(0x608)],'action':_0x520f7d['action']}});let _0x2ec551,_0xce5f45=_0x2d2899;_0x520f7d[_0x45326c(0x926)]===_0x2f76eb['RemoteRemediation']&&(_0xce5f45=this[_0x45326c(0x562)][_0x45326c(0x1cc)][_0x45326c(0x2ab)](),_0x2ec551=[_0xaab435]),this[_0x45326c(0x24d)][_0x45326c(0x4df)]({'sourceId':_0xce5f45,'destinationIds':_0x2ec551,'messageType':_0x31418b[_0x45326c(0x16f)],'content':{'type':_0x520f7d[_0x45326c(0x926)],'targetId':_0xaab435,'data':_0x520f7d}});}}const _0x3f2bf9=0x3e8,_0x164132=0x7530,_0xcf6cff='outbound-rtp',_0xd71fae=_0x2e7de5(0x997),_0x48c8f5=_0x2e7de5(0x93e),_0x29fc20=[_0xcf6cff,_0xd71fae],_0x3da0fa=[_0x48c8f5];class _0x1bf44c{[_0x2e7de5(0x2ef)]=0x0;[_0x2e7de5(0x6be)]=0x0;[_0x2e7de5(0x50b)]=0x0;['packetsLost']=0x0;[_0x2e7de5(0x991)]=0x0;[_0x2e7de5(0x276)]=0x0;['previousTimestamp']=0x0;[_0x2e7de5(0x2fb)]=0x0;['previousBytes']=0x0;get[_0x2e7de5(0x5f2)](){const _0x41ecd8=_0x2e7de5;return this[_0x41ecd8(0x276)]>0x0&&this[_0x41ecd8(0x4ca)]>0x0&&Date[_0x41ecd8(0x974)]()-this[_0x41ecd8(0x276)]<_0x164132?(this[_0x41ecd8(0x2fb)]-this[_0x41ecd8(0x7f6)])/(this['currentTimestamp']-this[_0x41ecd8(0x4ca)])*0x8*0x3e8:0x0;}[_0x2e7de5(0x7ca)](_0x5c69cf){const _0x5c771f=_0x2e7de5;switch(_0x5c69cf[_0x5c771f(0x926)]){case _0x48c8f5:this[_0x5c771f(0x9ec)](_0x5c69cf);break;case _0xcf6cff:this['processOutboundReport'](_0x5c69cf);break;case _0xd71fae:this['processRemoteInboundReport'](_0x5c69cf);}}[_0x2e7de5(0x4cd)](){const _0x49eed8=_0x2e7de5;return{'bitrate':this[_0x49eed8(0x5f2)],'packetsLostPerc':this['getPacketsLostPerc'](),'roundTripTime':this[_0x49eed8(0x2ef)],'jitter':this[_0x49eed8(0x50b)]};}['processInboundReport'](_0x59a6ad){const _0x30491a=_0x2e7de5;this['setBytes'](_0x59a6ad[_0x30491a(0x1be)]),this[_0x30491a(0x1db)](_0x59a6ad[_0x30491a(0x490)]),this[_0x30491a(0x991)]=_0x59a6ad[_0x30491a(0x2a6)],this[_0x30491a(0x93c)]=_0x59a6ad[_0x30491a(0x93c)],void 0x0!==_0x59a6ad[_0x30491a(0x50b)]?this['jitter']=_0x59a6ad[_0x30491a(0x50b)]:this[_0x30491a(0x50b)]=0x0,void 0x0!==_0x59a6ad['estimatedPlayoutTimestamp']?this['estimatedPlayoutTimestamp']=_0x59a6ad['estimatedPlayoutTimestamp']:this[_0x30491a(0x6be)]=0x0;}['processOutboundReport'](_0x5f4c9c){const _0x3695e4=_0x2e7de5;this[_0x3695e4(0x9b2)](_0x5f4c9c[_0x3695e4(0x3e0)]),this['setTimestamp'](_0x5f4c9c[_0x3695e4(0x490)]),this['packets']=_0x5f4c9c[_0x3695e4(0x9ed)];}[_0x2e7de5(0x3ae)](_0x223e3f){const _0x484933=_0x2e7de5;this[_0x484933(0x2ef)]=0x3e8*_0x223e3f[_0x484933(0x2ef)],void 0x0!==_0x223e3f[_0x484933(0x50b)]?this['jitter']=_0x223e3f['jitter']:this[_0x484933(0x50b)]=0x0;}[_0x2e7de5(0x9c5)](){const _0x24ea1a=_0x2e7de5;return this[_0x24ea1a(0x991)]>0x0?this[_0x24ea1a(0x93c)]/this[_0x24ea1a(0x991)]:0x0;}[_0x2e7de5(0x1db)](_0x40f9fc){const _0x2a609a=_0x2e7de5;_0x40f9fc>this[_0x2a609a(0x276)]&&(this[_0x2a609a(0x4ca)]=this[_0x2a609a(0x276)],this[_0x2a609a(0x276)]=_0x40f9fc);}[_0x2e7de5(0x9b2)](_0x152fbd){const _0x168f6a=_0x2e7de5;this[_0x168f6a(0x7f6)]=this[_0x168f6a(0x2fb)],this['currentBytes']=_0x152fbd;}}class _0x3bc9ce extends _0x1bf44c{}class _0x309016 extends _0x1bf44c{[_0x2e7de5(0x8f6)]=0x0;[_0x2e7de5(0x6fc)]=0x0;['frameHeight']=0x0;[_0x2e7de5(0x1fd)]=0x0;[_0x2e7de5(0x834)]=0x0;get[_0x2e7de5(0x654)](){const _0x2f3029=_0x2e7de5;return this[_0x2f3029(0x276)]>0x0&&this[_0x2f3029(0x4ca)]>0x0&&Date[_0x2f3029(0x974)]()-this[_0x2f3029(0x276)]<_0x164132?(this[_0x2f3029(0x1fd)]-this['previousFrames'])/(this['currentTimestamp']-this[_0x2f3029(0x4ca)])*0x3e8:0x0;}get['timePerFrame'](){const _0x1c51f0=_0x2e7de5;return this[_0x1c51f0(0x8f6)]&&this['currentFrames']&&this['currentFrames']>0x0?this[_0x1c51f0(0x8f6)]/this['currentFrames']:0x0;}set[_0x2e7de5(0x7a9)](_0x5cd8bf){const _0x572b3e=_0x2e7de5;this['previousFrames']=this['currentFrames'],this[_0x572b3e(0x1fd)]=_0x5cd8bf;}[_0x2e7de5(0x4cd)](){const _0x415ecc=_0x2e7de5;return{...super[_0x415ecc(0x4cd)](),'FPS':this[_0x415ecc(0x654)],'timePerFrame':this[_0x415ecc(0x273)],'frameWidth':this[_0x415ecc(0x6fc)],'frameHeight':this[_0x415ecc(0x64d)]};}[_0x2e7de5(0x9ec)](_0x5149b9){const _0x20f354=_0x2e7de5;super['processInboundReport'](_0x5149b9),this[_0x20f354(0x8f6)]=_0x5149b9[_0x20f354(0x421)],this[_0x20f354(0x7a9)]=_0x5149b9['framesDecoded'],this[_0x20f354(0x6fc)]=_0x5149b9[_0x20f354(0x6fc)],this[_0x20f354(0x64d)]=_0x5149b9['frameHeight'];}[_0x2e7de5(0x699)](_0x3c6713){const _0x56b058=_0x2e7de5;super[_0x56b058(0x699)](_0x3c6713),this['frameTime']=_0x3c6713[_0x56b058(0x870)],this[_0x56b058(0x7a9)]=_0x3c6713[_0x56b058(0x86a)],this[_0x56b058(0x6fc)]=_0x3c6713[_0x56b058(0x6fc)],this[_0x56b058(0x64d)]=_0x3c6713[_0x56b058(0x64d)];}}class _0x47fc8b{[_0x2e7de5(0x20a)]=new _0x3bc9ce();[_0x2e7de5(0x6ed)]=new _0x309016();get[_0x2e7de5(0x5f2)](){const _0x2d2362=_0x2e7de5;return this[_0x2d2362(0x20a)][_0x2d2362(0x5f2)]+this['video'][_0x2d2362(0x5f2)];}[_0x2e7de5(0x67d)](_0x2949c3){const _0x41bd70=_0x2e7de5;return _0x2949c3['forEach'](_0x18ddcb=>{const _0x58b7c2=a0_0x4258;switch(_0x18ddcb['kind']){case _0x58b7c2(0x20a):this[_0x58b7c2(0x20a)]['processReport'](_0x18ddcb);break;case _0x58b7c2(0x6ed):this['video'][_0x58b7c2(0x7ca)](_0x18ddcb);}}),this[_0x41bd70(0x4cd)]();}[_0x2e7de5(0x4cd)](){const _0x1d2501=_0x2e7de5;return{'audio':this['audio'][_0x1d2501(0x4cd)](),'video':this[_0x1d2501(0x6ed)][_0x1d2501(0x4cd)](),'roundTripTime':this[_0x1d2501(0x847)](),'AudioVideoDelay':this[_0x1d2501(0x55e)](),'bitrate':this['bitrate']};}[_0x2e7de5(0x847)](){const _0x56062b=_0x2e7de5;return Math[_0x56062b(0x75e)]((this[_0x56062b(0x20a)]['roundTripTime']+this['video']['roundTripTime'])/0x2);}['getAudioVideoDelay'](){const _0x42e867=_0x2e7de5;return this[_0x42e867(0x20a)][_0x42e867(0x6be)]-this[_0x42e867(0x6ed)][_0x42e867(0x6be)];}}class _0x4cee98{[_0x2e7de5(0x2e1)]=0x0;[_0x2e7de5(0x3b9)]=0x0;[_0x2e7de5(0x3d0)]=0x0;[_0x2e7de5(0x218)]=0x0;[_0x2e7de5(0x6d8)]=0x0;[_0x2e7de5(0x668)]=0x0;[_0x2e7de5(0xa18)]=0x0;[_0x2e7de5(0x7a3)]=0x0;[_0x2e7de5(0x25e)]=0x0;['receiverTotalMessages']=0x0;[_0x2e7de5(0x990)]=0x0;[_0x2e7de5(0x7f4)]=0x0;['roundTripTime']=0x0;get[_0x2e7de5(0x5f2)](){const _0x495a5b=_0x2e7de5;return this['senderBitrate']+this[_0x495a5b(0x7f5)];}get[_0x2e7de5(0x3f7)](){const _0x2af1de=_0x2e7de5;return this['senderCurrentTimestamp']>0x0&&this[_0x2af1de(0x3b9)]>0x0&&Date[_0x2af1de(0x974)]()-this[_0x2af1de(0x2e1)]<_0x164132?(this[_0x2af1de(0x6d8)]-this[_0x2af1de(0x668)])/(this['senderCurrentTimestamp']-this[_0x2af1de(0x3b9)])*0x8*0x3e8:0x0;}get[_0x2e7de5(0x7f5)](){const _0x77ee83=_0x2e7de5;return this[_0x77ee83(0x3d0)]>0x0&&this[_0x77ee83(0x218)]>0x0&&Date[_0x77ee83(0x974)]()-this['receiverCurrentTimestamp']<_0x164132?(this['receiverCurrentBytes']-this[_0x77ee83(0x7a3)])/(this['receiverCurrentTimestamp']-this[_0x77ee83(0x218)])*0x8*0x3e8:0x0;}[_0x2e7de5(0x7ca)](_0x3b3a80){const _0x81981d=_0x2e7de5;switch(_0x3b3a80['origin']){case _0xed553['Sender']:this[_0x81981d(0x71e)](_0x3b3a80);break;case _0xed553[_0x81981d(0x988)]:this['processReceiverReport'](_0x3b3a80);}}[_0x2e7de5(0x4cd)](){const _0x362472=_0x2e7de5;return{'bitrate':this[_0x362472(0x5f2)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x362472(0x306)](),'senderTotalBytes':this[_0x362472(0x6ec)](),'receiverTotalBytes':this[_0x362472(0x6bf)](),'totalMessages':this['senderTotalMessages']+this[_0x362472(0x5bb)],'senderTotalMessages':this[_0x362472(0x25e)],'receiverTotalMessages':this[_0x362472(0x5bb)],'timeProcessing':this[_0x362472(0x990)]+this[_0x362472(0x7f4)],'senderTimeProcessing':this[_0x362472(0x990)],'receiverTimeProcessing':this[_0x362472(0x7f4)],'roundTripTime':this[_0x362472(0x2ef)]};}['getTotalBytes'](){const _0x26f845=_0x2e7de5;return this['senderCurrentBytes']+this[_0x26f845(0xa18)];}[_0x2e7de5(0x6ec)](){return this['senderCurrentBytes'];}[_0x2e7de5(0x6bf)](){return this['receiverCurrentBytes'];}['processSenderReport'](_0x85ca98){const _0x32529f=_0x2e7de5;this[_0x32529f(0x217)](_0x85ca98[_0x32529f(0x490)]),this['setBytes'](_0x85ca98[_0x32529f(0x3e0)]),this[_0x32529f(0x25e)]=_0x85ca98[_0x32529f(0x7a2)],this['senderTimeProcessing']=_0x85ca98[_0x32529f(0x3b2)],this[_0x32529f(0x2ef)]=_0x85ca98[_0x32529f(0x2ef)];}[_0x2e7de5(0x4fd)](_0x2f1018){const _0x330c79=_0x2e7de5;this[_0x330c79(0x693)](_0x2f1018[_0x330c79(0x490)]),this['setReceiverBytes'](_0x2f1018[_0x330c79(0x1be)]),this['receiverTotalMessages']=_0x2f1018[_0x330c79(0x31f)],this[_0x330c79(0x7f4)]=_0x2f1018[_0x330c79(0x208)];}[_0x2e7de5(0x217)](_0x108d12){const _0x4780c6=_0x2e7de5;_0x108d12>this[_0x4780c6(0x2e1)]&&(this['senderPreviousTimestamp']=this[_0x4780c6(0x2e1)],this[_0x4780c6(0x2e1)]=_0x108d12);}[_0x2e7de5(0x693)](_0x24c7f7){const _0x2eb082=_0x2e7de5;_0x24c7f7>this[_0x2eb082(0x3d0)]&&(this[_0x2eb082(0x218)]=this['receiverCurrentTimestamp'],this[_0x2eb082(0x3d0)]=_0x24c7f7);}[_0x2e7de5(0x9b2)](_0x478131){const _0x4ee6f9=_0x2e7de5;this['senderPreviousBytes']=this['senderCurrentBytes'],this[_0x4ee6f9(0x6d8)]=_0x478131;}[_0x2e7de5(0x5e1)](_0x815801){const _0x1d2e84=_0x2e7de5;this[_0x1d2e84(0x7a3)]=this['receiverCurrentBytes'],this[_0x1d2e84(0xa18)]=_0x815801;}}class _0x3d451e{[_0x2e7de5(0x481)]=new Map();[_0x2e7de5(0x31a)]=new Map();[_0x2e7de5(0x5f6)]=new _0x4cee98();get[_0x2e7de5(0x3f7)](){const _0x104bdf=_0x2e7de5;let _0x4cae63=0x0;return this[_0x104bdf(0x481)][_0x104bdf(0x270)](_0x332c7e=>{const _0x120a5f=_0x104bdf;_0x4cae63+=_0x332c7e[_0x120a5f(0x5f2)];}),_0x4cae63+=this[_0x104bdf(0x5f6)][_0x104bdf(0x3f7)],_0x4cae63;}get[_0x2e7de5(0x7f5)](){const _0x40c382=_0x2e7de5;let _0x16d73c=0x0;return this[_0x40c382(0x31a)][_0x40c382(0x270)](_0xe5f096=>{const _0x52ab20=_0x40c382;_0x16d73c+=_0xe5f096[_0x52ab20(0x5f2)];}),_0x16d73c+=this[_0x40c382(0x5f6)][_0x40c382(0x7f5)],_0x16d73c;}get[_0x2e7de5(0x5f2)](){const _0x27253e=_0x2e7de5;return this[_0x27253e(0x3f7)]+this['receiverBitrate'];}[_0x2e7de5(0x67d)](_0x70560d,_0x1be7f0){const _0x4b7736=_0x2e7de5,_0x3b4e60=[],_0x53efe4=[];return _0x70560d instanceof Array?_0x70560d[_0x4b7736(0x270)](_0x111d61=>{_0x111d61['forEach'](_0x429f35=>{const _0x84cea=a0_0x4258;_0x3da0fa['includes'](_0x429f35['type'])&&_0x3b4e60[_0x84cea(0x67b)](_0x429f35),_0x29fc20[_0x84cea(0xa49)](_0x429f35[_0x84cea(0x926)])&&_0x53efe4[_0x84cea(0x67b)](_0x429f35);});}):this[_0x4b7736(0x5f6)]['processReport'](_0x70560d),_0x3b4e60[_0x4b7736(0x727)]>0x0&&_0x1be7f0?{...this[_0x4b7736(0x342)](_0x1be7f0,_0x3b4e60),'origin':_0xed553['Receiver'],'streamId':_0x1be7f0}:_0x53efe4[_0x4b7736(0x727)]>0x0&&_0x1be7f0?{...this[_0x4b7736(0x2e0)](_0x1be7f0,_0x53efe4),'origin':_0xed553[_0x4b7736(0x254)],'streamId':_0x1be7f0}:void 0x0;}['getReport'](){const _0x6a0cbc=_0x2e7de5,_0x5d7467={};this[_0x6a0cbc(0x481)][_0x6a0cbc(0x270)]((_0x38c7e8,_0x40e2f3)=>{_0x5d7467[_0x40e2f3]=_0x38c7e8['getReport']();});const _0x5dd24f={};return this[_0x6a0cbc(0x31a)][_0x6a0cbc(0x270)]((_0x5496b4,_0x3f42f0)=>{const _0x2a91e8=_0x6a0cbc;_0x5dd24f[_0x3f42f0]=_0x5496b4[_0x2a91e8(0x4cd)]();}),{'bitrate':this[_0x6a0cbc(0x5f2)],'senderBitrate':this[_0x6a0cbc(0x3f7)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x5d7467,'receiverStreams':_0x5dd24f,'dataChannel':this[_0x6a0cbc(0x5f6)][_0x6a0cbc(0x4cd)]()};}['processInboundReports'](_0x125596,_0x2b8c99){const _0x4ff8cd=_0x2e7de5;return this[_0x4ff8cd(0x31a)]['has'](_0x125596)||this['receiverStreams'][_0x4ff8cd(0x7ee)](_0x125596,new _0x47fc8b()),this[_0x4ff8cd(0x31a)]['get'](_0x125596)[_0x4ff8cd(0x67d)](_0x2b8c99);}[_0x2e7de5(0x2e0)](_0x5dc9cc,_0x55ff5f){const _0x24b37f=_0x2e7de5;return this[_0x24b37f(0x481)]['has'](_0x5dc9cc)||this[_0x24b37f(0x481)][_0x24b37f(0x7ee)](_0x5dc9cc,new _0x47fc8b()),this[_0x24b37f(0x481)][_0x24b37f(0x6ba)](_0x5dc9cc)['processReports'](_0x55ff5f);}}class _0x23b77e{['nodes']=new Map();['scheduleTime']=0x0;['durationTime']=0x0;[_0x2e7de5(0x82e)]=new Map();[_0x2e7de5(0x2be)]=new Map();[_0x2e7de5(0x18e)]=new Map();[_0x2e7de5(0x98d)]=new Map();[_0x2e7de5(0x6db)]=new Map();[_0x2e7de5(0x4e5)]=new Map();[_0x2e7de5(0x3fa)]=new Map();['externalStorages']=new Map();[_0x2e7de5(0x25e)]=new Map();[_0x2e7de5(0x5bb)]=new Map();['senderTimeProcessing']=new Map();[_0x2e7de5(0x7f4)]=new Map();[_0x2e7de5(0x402)]=new Map();[_0x2e7de5(0x24d)];['getReport'](){const _0x2cd87e=_0x2e7de5,_0x462c1c={};this['nodes'][_0x2cd87e(0x270)]((_0xa97708,_0x54aefa)=>{_0x462c1c[_0x54aefa]=_0xa97708['getReport']();});let _0x4b3c2e=0x0;this['senderTimeProcessing']['forEach'](_0x133bb2=>{_0x4b3c2e+=_0x133bb2;});let _0x17566a=0x0;this['receiverTimeProcessing'][_0x2cd87e(0x270)](_0x465d43=>{_0x17566a+=_0x465d43;});const _0x5eeee4=_0x4b3c2e+_0x17566a;let _0x56f61b={'messages':{'total':0x0}};this[_0x2cd87e(0x402)][_0x2cd87e(0x270)](_0x22f1f1=>{const _0x5c1d93=_0x2cd87e;Object[_0x5c1d93(0x1c7)](_0x22f1f1)[_0x5c1d93(0x270)](_0x2189b6=>{const _0x5df740=_0x5c1d93;_0x56f61b[_0x2189b6]||(_0x56f61b[_0x2189b6]={}),Object['keys'](_0x22f1f1[_0x2189b6])[_0x5df740(0x270)](_0x1dd720=>{_0x56f61b[_0x2189b6][_0x1dd720]||(_0x56f61b[_0x2189b6][_0x1dd720]=0x0),_0x56f61b[_0x2189b6][_0x1dd720]+=_0x22f1f1[_0x2189b6][_0x1dd720];});});});let _0x319231=0x0,_0x27a4e1=0x0,_0x153f65=0x0,_0x518acd=0x0,_0x1f6230=0x0;return this[_0x2cd87e(0x82e)][_0x2cd87e(0x270)](_0x1b26d8=>{const _0x515491=_0x2cd87e;_0x27a4e1+=_0x1b26d8[_0x515491(0x7a2)],_0x153f65+=_0x1b26d8[_0x515491(0x31f)],_0x518acd+=_0x1b26d8[_0x515491(0x3e0)],_0x1f6230+=_0x1b26d8[_0x515491(0x1be)];}),this['objectStores'][_0x2cd87e(0x270)](_0x2a59f4=>{const _0x5d960d=_0x2cd87e;_0x319231+=_0x2a59f4[_0x5d960d(0x226)],_0x27a4e1+=_0x2a59f4[_0x5d960d(0x7a2)],_0x153f65+=_0x2a59f4[_0x5d960d(0x31f)],_0x518acd+=_0x2a59f4[_0x5d960d(0x3e0)],_0x1f6230+=_0x2a59f4[_0x5d960d(0x1be)];}),this[_0x2cd87e(0x18e)]['forEach'](_0x190bde=>{const _0x1bc47b=_0x2cd87e;_0x319231+=_0x190bde[_0x1bc47b(0x226)],_0x27a4e1+=_0x190bde[_0x1bc47b(0x7a2)],_0x153f65+=_0x190bde[_0x1bc47b(0x31f)],_0x518acd+=_0x190bde[_0x1bc47b(0x3e0)],_0x1f6230+=_0x190bde[_0x1bc47b(0x1be)];}),this[_0x2cd87e(0x98d)][_0x2cd87e(0x270)](_0x58ea8b=>{const _0x1d521f=_0x2cd87e;_0x319231+=_0x58ea8b[_0x1d521f(0x226)],_0x27a4e1+=_0x58ea8b[_0x1d521f(0x7a2)],_0x153f65+=_0x58ea8b['messagesReceived'],_0x518acd+=_0x58ea8b['bytesSent'],_0x1f6230+=_0x58ea8b[_0x1d521f(0x1be)];}),this['generativeAIWorkers']['forEach'](_0x4a16d9=>{const _0x4112ad=_0x2cd87e;_0x319231+=_0x4a16d9[_0x4112ad(0x226)],_0x27a4e1+=_0x4a16d9[_0x4112ad(0x7a2)],_0x153f65+=_0x4a16d9[_0x4112ad(0x31f)],_0x518acd+=_0x4a16d9[_0x4112ad(0x3e0)],_0x1f6230+=_0x4a16d9[_0x4112ad(0x1be)];}),this[_0x2cd87e(0x4e5)][_0x2cd87e(0x270)](_0x4f92a7=>{const _0x22700e=_0x2cd87e;_0x319231+=_0x4f92a7[_0x22700e(0x226)],_0x27a4e1+=_0x4f92a7['messagesSent'],_0x153f65+=_0x4f92a7[_0x22700e(0x31f)],_0x518acd+=_0x4f92a7[_0x22700e(0x3e0)],_0x1f6230+=_0x4f92a7[_0x22700e(0x1be)];}),this[_0x2cd87e(0x3fa)]['forEach'](_0x1a9d73=>{const _0x2b888d=_0x2cd87e;_0x319231+=_0x1a9d73[_0x2b888d(0x226)],_0x27a4e1+=_0x1a9d73[_0x2b888d(0x7a2)],_0x153f65+=_0x1a9d73[_0x2b888d(0x31f)],_0x518acd+=_0x1a9d73['bytesSent'],_0x1f6230+=_0x1a9d73[_0x2b888d(0x1be)];}),{'STVolatility':this[_0x2cd87e(0x7d8)](),'DTVolatility':this['getDTVolatility'](),'bitrate':this[_0x2cd87e(0x43a)](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x319231,'totalMessages':_0x27a4e1+_0x153f65,'totalMessagesSent':_0x27a4e1,'totalMessagesReceived':_0x153f65,'totalBytes':_0x518acd+_0x1f6230,'totalBytesSent':_0x518acd,'totalBytesReceived':_0x1f6230,'systemMessages':_0x56f61b,'timeProcessing':_0x5eeee4,'nodes':_0x462c1c,'pubsubTopics':Object['fromEntries'](this[_0x2cd87e(0x82e)]),'objectStores':Object[_0x2cd87e(0x1d2)](this[_0x2cd87e(0x2be)]),'keyValueDatabases':Object['fromEntries'](this['keyValueDatabases']),'generativeAIContexts':Object[_0x2cd87e(0x1d2)](this[_0x2cd87e(0x98d)]),'generativeAIWorkers':Object[_0x2cd87e(0x1d2)](this[_0x2cd87e(0x6db)]),'vectorDatabases':Object['fromEntries'](this[_0x2cd87e(0x4e5)]),'graphDatabases':Object[_0x2cd87e(0x1d2)](this[_0x2cd87e(0x3fa)]),'externalStorages':Object['fromEntries'](this[_0x2cd87e(0x53d)])};}['addRemoteNode'](_0x28a2bf){const _0x1d8c9c=_0x2e7de5;this['nodes'][_0x1d8c9c(0x7ee)](_0x28a2bf,new _0x3d451e());}[_0x2e7de5(0x213)](_0x345697){const _0x541cf0=_0x2e7de5;this[_0x541cf0(0x650)][_0x541cf0(0x428)](_0x345697);}['processReports'](_0x3b91e9,_0x1c997f,_0xbefd8a){const _0xca1ba5=_0x2e7de5;_0x1c997f instanceof Array||this[_0xca1ba5(0x415)](_0x3b91e9,_0x1c997f);const _0x5787f9=this[_0xca1ba5(0x650)][_0xca1ba5(0x6ba)](_0x3b91e9)?.['processReports'](_0x1c997f,_0xbefd8a);_0x5787f9&&this[_0xca1ba5(0x24d)][_0xca1ba5(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0xca1ba5(0x503)],'content':{'type':_0x3d0f30[_0xca1ba5(0x80c)],'data':{..._0x5787f9,'nodeId':_0x3b91e9}}});}[_0x2e7de5(0x55a)](_0x1b6c88){const _0x385749=_0x2e7de5;this['setScheduleTime'](_0x1b6c88[_0x385749(0x7d2)]),this[_0x385749(0x8ed)](_0x1b6c88[_0x385749(0x466)]),this[_0x385749(0x24d)][_0x385749(0x4df)]({'sourceId':_0x2d2899,'messageType':_0x31418b[_0x385749(0x503)],'content':{'type':_0x3d0f30['LocalReport'],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x385749(0x907)]()}}});}[_0x2e7de5(0x3fc)](_0x1cd96a,_0x65da6e,_0x5e5783){const _0x505635=_0x2e7de5;switch(_0x65da6e){case _0x5ba456[_0x505635(0x4f8)]:this['pubsubTopics'][_0x505635(0x7ee)](_0x1cd96a,_0x5e5783);break;case _0x5ba456['ObjectStoreStats']:this[_0x505635(0x2be)][_0x505635(0x7ee)](_0x1cd96a,_0x5e5783);break;case _0x5ba456[_0x505635(0x2ac)]:this['keyValueDatabases']['set'](_0x1cd96a,_0x5e5783);break;case _0x5ba456['GenerativeAIContextStats']:this[_0x505635(0x98d)][_0x505635(0x7ee)](_0x1cd96a,_0x5e5783);break;case _0x5ba456[_0x505635(0x9bb)]:this[_0x505635(0x6db)][_0x505635(0x7ee)](_0x1cd96a,_0x5e5783);break;case _0x5ba456[_0x505635(0x788)]:this[_0x505635(0x4e5)][_0x505635(0x7ee)](_0x1cd96a,_0x5e5783);break;case _0x5ba456[_0x505635(0x3b4)]:this[_0x505635(0x3fa)][_0x505635(0x7ee)](_0x1cd96a,_0x5e5783);break;case _0x5ba456[_0x505635(0x5f0)]:this[_0x505635(0x53d)][_0x505635(0x7ee)](_0x1cd96a,_0x5e5783);}}[_0x2e7de5(0x796)](_0x4349f3){const _0x17693a=_0x2e7de5;this[_0x17693a(0x24d)]=_0x4349f3;}[_0x2e7de5(0x910)](){const _0xc086c1=_0x2e7de5;delete this[_0xc086c1(0x24d)];}[_0x2e7de5(0x7d8)](){const _0x476d06=_0x2e7de5;return this['scheduleTime']>0x0&&this[_0x476d06(0x29a)]-_0x3f2bf9>0x0?(this[_0x476d06(0x29a)]-_0x3f2bf9)/_0x3f2bf9:0x0;}['getDTVolatility'](){const _0x1e3eb2=_0x2e7de5;return this[_0x1e3eb2(0x466)]>0x0&&this[_0x1e3eb2(0x466)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x2e7de5(0x4f7)](){const _0x2adc93=_0x2e7de5;let _0x18a688=0x0;return this[_0x2adc93(0x650)][_0x2adc93(0x270)](_0x32e3d9=>{const _0x2942b8=_0x2adc93;_0x18a688+=_0x32e3d9[_0x2942b8(0x3f7)];}),_0x18a688;}[_0x2e7de5(0x318)](){let _0x35d403=0x0;return this['nodes']['forEach'](_0x3f4fc4=>{const _0x161e96=a0_0x4258;_0x35d403+=_0x3f4fc4[_0x161e96(0x7f5)];}),_0x35d403;}[_0x2e7de5(0x43a)](){const _0x2df533=_0x2e7de5;let _0x5252f0=0x0;return this[_0x2df533(0x650)][_0x2df533(0x270)](_0x4e8e84=>{const _0x3461c5=_0x2df533;_0x5252f0+=_0x4e8e84[_0x3461c5(0x5f2)];}),_0x5252f0;}[_0x2e7de5(0x4c7)](_0x3a170f){const _0x1d4248=_0x2e7de5;this[_0x1d4248(0x29a)]=_0x3a170f;}[_0x2e7de5(0x8ed)](_0x4a9893){this['durationTime']=_0x4a9893;}[_0x2e7de5(0x415)](_0x34182e,_0x3c0b0d){const _0x3a5d8c=_0x2e7de5;switch(_0x3c0b0d[_0x3a5d8c(0x584)]){case _0xed553['Sender']:this[_0x3a5d8c(0x71e)](_0x34182e,_0x3c0b0d);break;case _0xed553['Receiver']:this[_0x3a5d8c(0x4fd)](_0x34182e,_0x3c0b0d);}}['processSenderReport'](_0x3fb73a,_0x359b74){const _0x45dd5a=_0x2e7de5;this[_0x45dd5a(0x25e)][_0x45dd5a(0x7ee)](_0x3fb73a,_0x359b74['messagesSent']),this[_0x45dd5a(0x990)][_0x45dd5a(0x7ee)](_0x3fb73a,_0x359b74[_0x45dd5a(0x3b2)]);}['processReceiverReport'](_0x268e6c,_0xb8df48){const _0x2b7368=_0x2e7de5;this[_0x2b7368(0x5bb)][_0x2b7368(0x7ee)](_0x268e6c,_0xb8df48[_0x2b7368(0x31f)]),this[_0x2b7368(0x7f4)][_0x2b7368(0x7ee)](_0x268e6c,_0xb8df48['timeReceiving']),this[_0x2b7368(0x402)]['set'](_0x268e6c,_0xb8df48['systemMessages']);}}class _0x3800c6{[_0x2e7de5(0x562)];[_0x2e7de5(0x30d)]=new Set();['nextNodeId'];[_0x2e7de5(0x581)];['statsReporting'];['statsReport']=new _0x23b77e();constructor(_0x5618ba){const _0x13335f=_0x2e7de5;this[_0x13335f(0x562)]=_0x5618ba,this[_0x13335f(0x562)][_0x13335f(0x442)][_0x13335f(0x923)](this[_0x13335f(0x227)]),this[_0x13335f(0x581)]=this[_0x13335f(0x563)](),this[_0x13335f(0x3f1)]=this[_0x13335f(0x953)]();}[_0x2e7de5(0x6f0)](){const _0x593eb4=_0x2e7de5;this[_0x593eb4(0x562)][_0x593eb4(0x442)][_0x593eb4(0x8a7)](this[_0x593eb4(0x227)]),this['statsReporting'](),this[_0x593eb4(0x581)]();}[_0x2e7de5(0x21b)](_0x54e76a){const _0x389601=_0x2e7de5;this['remoteNodes'][_0x389601(0x9eb)](_0x54e76a),this['statsReport'][_0x389601(0x21b)](_0x54e76a);}['removeRemoteNode'](_0x104422){const _0x3f58ea=_0x2e7de5;this[_0x3f58ea(0x30d)]['delete'](_0x104422),this[_0x3f58ea(0x227)][_0x3f58ea(0x213)](_0x104422);}[_0x2e7de5(0x6f5)](_0x44e75d){const _0x2aed40=_0x2e7de5;if(_0x44e75d['content'][_0x2aed40(0x926)]===_0x30b2f6[_0x2aed40(0x503)]){const {nodeId:_0x353800,streamId:_0x475baf,stats:_0x2a28d7}=_0x44e75d[_0x2aed40(0x1da)];this[_0x2aed40(0x227)][_0x2aed40(0x67d)](_0x353800,_0x2a28d7,_0x475baf);}}[_0x2e7de5(0x6aa)](_0x2c57e5){const _0x13b145=_0x2e7de5;switch(_0x2c57e5[_0x13b145(0x1da)]['type']){case _0x5ba456[_0x13b145(0xa40)]:case _0x5ba456[_0x13b145(0x2ac)]:case _0x5ba456[_0x13b145(0x4f8)]:case _0x5ba456[_0x13b145(0x173)]:case _0x5ba456[_0x13b145(0x9bb)]:case _0x5ba456['VectorDatabaseStats']:case _0x5ba456['GraphDatabaseStats']:case _0x5ba456[_0x13b145(0x5f0)]:this['statsReport'][_0x13b145(0x3fc)](_0x2c57e5[_0x13b145(0x1da)][_0x13b145(0x7b6)],_0x2c57e5[_0x13b145(0x1da)][_0x13b145(0x926)],_0x2c57e5[_0x13b145(0x1da)][_0x13b145(0x408)]);}}[_0x2e7de5(0x953)](){return _0x31d9e2['setInterval'](()=>{const _0x4256c2=a0_0x4258,_0x2f7e0a=this[_0x4256c2(0x227)]['getReport']();_0x31c6d3[_0x4256c2(0x65c)](_0x2387f2[_0x4256c2(0x503)],_0x4256c2(0x841),_0x2f7e0a),(0x0,_0x576ce3[_0x4256c2(0xa65)])((0x0,_0x576ce3['collection'])(_0x498ce8['getFirestore'](),_0x4256c2(0x845)+this[_0x4256c2(0x562)]['vendorId']+_0x4256c2(0x601)),{'clusterId':this[_0x4256c2(0x562)][_0x4256c2(0x966)],'nodeId':this[_0x4256c2(0x562)][_0x4256c2(0x1cc)][_0x4256c2(0x2ab)](),'nodeType':this['configs'][_0x4256c2(0x1cc)][_0x4256c2(0x926)],'timestamp':(0x0,_0x576ce3[_0x4256c2(0x68a)])(),'report':_0x2f7e0a}),_0x31c6d3[_0x4256c2(0x4a8)](_0x4256c2(0x408),{'clusterId':this[_0x4256c2(0x562)]['clusterId'],'nodeId':this['configs']['localNode'][_0x4256c2(0x2ab)](),'nodeType':this[_0x4256c2(0x562)][_0x4256c2(0x1cc)][_0x4256c2(0x926)],'data':{'report':_0x2f7e0a}});},_0x164132);}[_0x2e7de5(0x563)](){const _0x4df7eb=_0x2e7de5;let _0x4a86e5=!0x1,_0x3d3638=Date[_0x4df7eb(0x974)]();return _0x31d9e2['setInterval'](async()=>{const _0x4b0a40=_0x4df7eb;if(_0x4a86e5)return;if(_0x4a86e5=!0x0,0x0===this['remoteNodes'][_0x4b0a40(0x777)])return delete this[_0x4b0a40(0x825)],void(_0x4a86e5=!0x1);const _0x4c0af9=Date['now']();this[_0x4b0a40(0x4a3)]();try{await this[_0x4b0a40(0x562)][_0x4b0a40(0x442)]['collectStats'](this[_0x4b0a40(0x825)]);}catch(_0xfc3199){}this[_0x4b0a40(0x227)][_0x4b0a40(0x55a)]({'secheduleTime':_0x4c0af9-_0x3d3638,'durationTime':Date[_0x4b0a40(0x974)]()-_0x4c0af9}),_0x3d3638=_0x4c0af9,_0x4a86e5=!0x1;},_0x3f2bf9);}[_0x2e7de5(0x4a3)](){const _0x33ae9a=_0x2e7de5;let _0x558d9b,_0x5ee253=!0x1;this[_0x33ae9a(0x825)]&&(this[_0x33ae9a(0x30d)][_0x33ae9a(0x1a4)](this['nextNodeId'])||delete this[_0x33ae9a(0x825)]);for(const _0x2e4a38 of this[_0x33ae9a(0x30d)])if(_0x558d9b||(_0x558d9b=_0x2e4a38),this[_0x33ae9a(0x825)]!==_0x2e4a38){if(_0x5ee253)return void(this[_0x33ae9a(0x825)]=_0x2e4a38);}else _0x5ee253=!0x0,delete this[_0x33ae9a(0x825)];this[_0x33ae9a(0x825)]||(this[_0x33ae9a(0x825)]=_0x558d9b);}}class _0x38839b{[_0x2e7de5(0x7b7)];[_0x2e7de5(0x5d3)];['systemTopic'];constructor(_0x46677d,_0x18bfca){const _0x1e2a29=_0x2e7de5;this[_0x1e2a29(0x7b7)]=_0x46677d,this['destination']=_0x18bfca;}[_0x2e7de5(0x796)](_0x22a62d){const _0x19dc61=_0x2e7de5;this[_0x19dc61(0x24d)]=_0x22a62d;}[_0x2e7de5(0x910)](){const _0x4abc5e=_0x2e7de5;delete this[_0x4abc5e(0x24d)];}}class _0x3850c3 extends _0x38839b{[_0x2e7de5(0x7b7)];[_0x2e7de5(0x5d3)];['params'];constructor(_0x278b23,_0x3e8f6f,_0x1edf0f){const _0x54d161=_0x2e7de5;super(_0x278b23,_0x3e8f6f),this[_0x54d161(0x7b7)]=_0x278b23,this[_0x54d161(0x5d3)]=_0x3e8f6f,this['params']=_0x1edf0f;}['subscribe'](_0x3f7950,_0x3d239d,_0x2e598b){const _0x474b7c=_0x2e7de5;if(this[_0x474b7c(0x5d3)][_0x474b7c(0x924)]()===_0x564b37[_0x474b7c(0x8c6)][_0x474b7c(0x5f7)]){const _0x436171={'type':_0x27cc25[_0x474b7c(0x179)],'label':this[_0x474b7c(0x5d3)]['getLabel'](),'ownerId':_0x3f7950,'trackKinds':_0x3d239d??this[_0x474b7c(0x5d3)][_0x474b7c(0x355)](),'params':_0x2e598b};this[_0x474b7c(0x24d)][_0x474b7c(0x4df)]({'sourceId':this['source'][_0x474b7c(0x250)](),'destinationIds':[this[_0x474b7c(0x7b7)]['getRemoteId']()],'messageType':_0x31418b[_0x474b7c(0x704)],'content':_0x436171}),this[_0x474b7c(0x987)]=_0x2e598b;}}['update'](_0x40c20c,_0x242d8e){const _0x5a7710=_0x2e7de5;if(this[_0x5a7710(0x5d3)][_0x5a7710(0x924)]()===_0x564b37[_0x5a7710(0x8c6)][_0x5a7710(0x5f7)]){const _0x49355d={'type':_0x27cc25['UpdateMediaStream'],'label':this['destination']['getLabel'](),'ownerId':_0x40c20c,'params':_0x242d8e};this['systemTopic'][_0x5a7710(0x4df)]({'sourceId':this[_0x5a7710(0x7b7)][_0x5a7710(0x250)](),'destinationIds':[this[_0x5a7710(0x7b7)][_0x5a7710(0x611)]()],'messageType':_0x31418b['Subscription'],'content':_0x49355d}),this[_0x5a7710(0x987)]=_0x242d8e;}}[_0x2e7de5(0x615)](_0x7748c5,_0x1c8fce,_0x5d973f){const _0x6f40c6=_0x2e7de5;if(this['destination'][_0x6f40c6(0x924)]()===_0x564b37[_0x6f40c6(0x8c6)][_0x6f40c6(0x5f7)]){const _0x14a448={'type':_0x27cc25[_0x6f40c6(0x3a5)],'label':this[_0x6f40c6(0x5d3)][_0x6f40c6(0x5d7)](),'ownerId':_0x7748c5,'trackKinds':_0x5d973f??this[_0x6f40c6(0x5d3)]['getAvailableTrackKinds'](),'remainingTracks':_0x1c8fce};this[_0x6f40c6(0x24d)][_0x6f40c6(0x4df)]({'sourceId':this[_0x6f40c6(0x7b7)]['getLocalId'](),'destinationIds':[this[_0x6f40c6(0x7b7)][_0x6f40c6(0x611)]()],'messageType':_0x31418b[_0x6f40c6(0x704)],'content':_0x14a448});}}}class _0x23ad20{[_0x2e7de5(0x410)];[_0x2e7de5(0x58f)];['tracks'];[_0x2e7de5(0x24d)];[_0x2e7de5(0x425)]=new Set();[_0x2e7de5(0x768)]=Date[_0x2e7de5(0x974)]();[_0x2e7de5(0x987)];[_0x2e7de5(0x66f)]=0x0;constructor(_0x19c3ca,_0x3e7d8b,_0x204a2b,_0x2ae940){const _0x5c21b1=_0x2e7de5;this['currentDistance']=_0x3e7d8b,this[_0x5c21b1(0x58f)]=_0x204a2b,this[_0x5c21b1(0x2d3)]=_0x2ae940,_0x19c3ca[_0x5c21b1(0x270)](_0x40e964=>{const _0x566d22=_0x5c21b1;this[_0x566d22(0x425)]['add']({'nodeId':_0x40e964,'type':_0x33d38e[_0x566d22(0x653)]});});}[_0x2e7de5(0x527)](){const _0x204b68=_0x2e7de5;return this[_0x204b68(0x2d3)];}['registerSystemPublisher'](_0x1928ce){const _0x41dafb=_0x2e7de5;this[_0x41dafb(0x24d)]=_0x1928ce;}[_0x2e7de5(0x910)](){const _0x45e722=_0x2e7de5;delete this[_0x45e722(0x24d)];}[_0x2e7de5(0x770)](_0x4cd82d,_0x4df9f1){const _0x1bf5f3=_0x2e7de5;this[_0x1bf5f3(0x768)]=Date[_0x1bf5f3(0x974)](),this[_0x1bf5f3(0x425)][_0x1bf5f3(0x2a0)](),_0x4cd82d[_0x1bf5f3(0x270)](_0x3c4aa8=>{const _0x45fcc4=_0x1bf5f3;this['answers'][_0x45fcc4(0x9eb)]({'nodeId':_0x3c4aa8,'type':_0x33d38e[_0x45fcc4(0x653)]});}),this[_0x1bf5f3(0x66f)]+=0x1,this[_0x1bf5f3(0x410)]=_0x4df9f1;}[_0x2e7de5(0x4c1)](_0x2e7aef,_0x20d2c8,_0x43c1e5,_0x5ebbbe,_0x5a58b8){const _0x245ac4=_0x2e7de5;if(this[_0x245ac4(0x66f)]>0xa)throw new _0x26bf2d(_0x26bf2d[_0x245ac4(0x269)][_0x245ac4(0x221)],{'answers':Array[_0x245ac4(0xa4b)](this['answers'])[_0x245ac4(0x28b)](_0x1d8f3f=>({'nodeId':_0x1d8f3f[_0x245ac4(0x82b)],'type':_0x1d8f3f[_0x245ac4(0x926)]}))});const _0x1284c=Array['from'](this[_0x245ac4(0x425)])[_0x245ac4(0x28b)](_0x9b01f6=>_0x9b01f6['nodeId']);this[_0x245ac4(0x987)]=_0x5a58b8,this['systemTopic'][_0x245ac4(0x4df)]({'sourceId':_0x2e7aef,'destinationIds':_0x1284c,'messageType':_0x31418b[_0x245ac4(0x704)],'content':{'type':_0x27cc25[_0x245ac4(0x2e3)],'label':_0x43c1e5,'ownerId':_0x20d2c8,'trackKinds':_0x5ebbbe,'params':_0x5a58b8}}),_0x31c6d3[_0x245ac4(0x65c)](_0x2387f2[_0x245ac4(0x704)],_0x245ac4(0x4ce),_0x2e7aef,_0x1284c);}[_0x2e7de5(0xa86)](_0x2929c4,_0x14e7c7){const _0x145a7e=_0x2e7de5;switch(_0x14e7c7[_0x145a7e(0x926)]){case _0x27cc25[_0x145a7e(0x63a)]:{const _0x58db00=this['currentDistance']>=_0x14e7c7[_0x145a7e(0x996)]&&_0x14e7c7[_0x145a7e(0x996)]<=this['maxDistance'],_0x5c256e=Array[_0x145a7e(0xa4b)](this[_0x145a7e(0x425)])['find'](_0x26f744=>_0x26f744[_0x145a7e(0x82b)]===_0x2929c4);_0x5c256e['type']=_0x58db00?_0x33d38e[_0x145a7e(0x1ce)]:_0x33d38e['Rejected'],_0x5c256e[_0x145a7e(0x1ac)]=_0x14e7c7[_0x145a7e(0x1ac)],_0x5c256e[_0x145a7e(0x996)]=_0x14e7c7[_0x145a7e(0x996)],_0x5c256e[_0x145a7e(0x2bf)]=_0x14e7c7[_0x145a7e(0x2bf)],_0x5c256e[_0x145a7e(0x2ef)]=Date[_0x145a7e(0x974)]()-this[_0x145a7e(0x768)],_0x5c256e['params']=this['params'],_0x5c256e[_0x145a7e(0x2f8)]=_0x14e7c7[_0x145a7e(0x2f8)],_0x5c256e[_0x145a7e(0x689)]=_0x14e7c7[_0x145a7e(0x689)],_0x5c256e[_0x145a7e(0x789)]=_0x14e7c7['label'],_0x31c6d3[_0x145a7e(0x65c)](_0x2387f2[_0x145a7e(0x704)],(_0x58db00?_0x145a7e(0x1ce):_0x145a7e(0x41a))+_0x145a7e(0x898),_0x5c256e);break;}case _0x27cc25['CannotProvideMediaStream']:{const _0x4d4a4a=Array[_0x145a7e(0xa4b)](this['answers'])[_0x145a7e(0x921)](_0x55684a=>_0x55684a['nodeId']===_0x2929c4);_0x4d4a4a['type']=_0x33d38e[_0x145a7e(0x41a)],_0x31c6d3[_0x145a7e(0x65c)](_0x2387f2['Subscription'],'Rejected\x20answer',_0x4d4a4a);break;}}if(this[_0x145a7e(0x8eb)]())return this['chooseAnswer']();}['chooseAnswer'](){const _0x2a363b=_0x2e7de5,_0x175e8b=Array[_0x2a363b(0xa4b)](this['answers'])[_0x2a363b(0x8bd)](_0x4a0371=>_0x4a0371[_0x2a363b(0x926)]===_0x33d38e[_0x2a363b(0x1ce)])[_0x2a363b(0x1c1)]((_0x5e3a64,_0x5b6e5b)=>_0x5e3a64[_0x2a363b(0x1ac)]===_0x5b6e5b[_0x2a363b(0x1ac)]?_0x5e3a64[_0x2a363b(0x2ef)]-_0x5b6e5b[_0x2a363b(0x2ef)]:_0x5e3a64['cost']-_0x5b6e5b[_0x2a363b(0x1ac)]);if(0x0===_0x175e8b[_0x2a363b(0x727)])throw new _0x26bf2d(_0x26bf2d[_0x2a363b(0x269)][_0x2a363b(0x221)],{'answers':Array['from'](this[_0x2a363b(0x425)])[_0x2a363b(0x28b)](_0x5a9ee9=>({'nodeId':_0x5a9ee9[_0x2a363b(0x82b)],'type':_0x5a9ee9[_0x2a363b(0x926)]}))});return _0x31c6d3[_0x2a363b(0x65c)](_0x2387f2[_0x2a363b(0x704)],_0x2a363b(0x2bc),_0x175e8b[0x0],this['answers']),_0x175e8b[0x0];}['canChooseAnswer'](){const _0x353d8e=_0x2e7de5;for(const _0x19c359 of this[_0x353d8e(0x425)])if(_0x19c359[_0x353d8e(0x926)]===_0x33d38e['Waiting'])return!0x1;return!0x0;}}class _0x2fd958{[_0x2e7de5(0x7b6)];[_0x2e7de5(0x643)];['listener']=_0x37766();constructor(_0x4edb83,_0x3e9e96){const _0x2722e5=_0x2e7de5;this['label']=_0x4edb83,this[_0x2722e5(0x643)]=_0x3e9e96;}['getLabel'](){const _0x32af75=_0x2e7de5;return this[_0x32af75(0x7b6)];}[_0x2e7de5(0x924)](){const _0x1a9c36=_0x2e7de5;return this[_0x1a9c36(0x643)];}[_0x2e7de5(0x538)](_0x851eac){const _0x476afc=_0x2e7de5;_0x851eac[_0x476afc(0x32e)](this);}[_0x2e7de5(0xa58)](_0x5d0e33){const _0x1d3fae=_0x2e7de5;_0x5d0e33[_0x1d3fae(0x951)](this);}['publish'](_0x329c8e){const _0x417d2b=_0x2e7de5;this[_0x417d2b(0x61b)][_0x417d2b(0x4df)]({'topicLabel':this['label'],'contentType':this[_0x417d2b(0x643)],'uuid':(0x0,_0x328cbd['v4'])(),'recipients':[],..._0x329c8e});}[_0x2e7de5(0x683)](_0x146c67){const _0x4f3478=_0x2e7de5;return this[_0x4f3478(0x61b)][_0x4f3478(0x683)](_0x146c67);}[_0x2e7de5(0x662)](_0x3f3001){_0x3f3001['unregisterPublisher'](this);}[_0x2e7de5(0x9bc)](_0xc0853d){const _0x4e3c0a=_0x2e7de5;_0xc0853d[_0x4e3c0a(0x691)](this);}}class _0x1d8605{[_0x2e7de5(0x849)]={'topics':new Map(),'subscriptions':new Map()};[_0x2e7de5(0x199)];constructor(_0x3e5f77){const _0x5ae0f4=_0x2e7de5;this[_0x5ae0f4(0x199)]=_0x3e5f77;}get[_0x2e7de5(0x6a0)](){const _0x35915f=_0x2e7de5;return this[_0x35915f(0x849)][_0x35915f(0x6a0)];}get[_0x2e7de5(0x5f8)](){const _0x10cd1d=_0x2e7de5;return this['maps'][_0x10cd1d(0x5f8)];}[_0x2e7de5(0x7d5)](_0x36558c,_0x40203b){const _0x267fc8=_0x2e7de5,_0x5c172e=this[_0x267fc8(0x199)](_0x40203b),_0x5e6557=_0x1235fe(_0x36558c);if(!_0x5c172e[_0x267fc8(0x521)])throw new _0x26bf2d(_0x26bf2d[_0x267fc8(0x269)]['InvalidSubscription'],{'message':_0x5e6557+':\x20'+_0x5c172e['remoteId']+_0x267fc8(0x94f)+_0x5c172e[_0x267fc8(0x643)],'subscriptionType':_0x36558c,'subscription':_0x40203b,'subscriptonParts':_0x5c172e});const _0x14cbd3=_0x4248e0(_0x36558c,_0x5c172e);if(this[_0x267fc8(0x849)][_0x267fc8(0x6a0)][_0x267fc8(0x1a4)](_0x14cbd3))throw new _0x26bf2d(_0x26bf2d['codes'][_0x267fc8(0x74e)],{'message':_0x5e6557+':\x20'+_0x14cbd3+_0x267fc8(0x93a),'subscriptionType':_0x36558c,'subscription':_0x40203b,'subscriptonParts':_0x5c172e});this['maps'][_0x267fc8(0x6a0)][_0x267fc8(0x7ee)](_0x14cbd3,_0x40203b),this['createTopic'](_0x5c172e,_0x40203b);}[_0x2e7de5(0x744)](_0x11a0a1,_0x354fad){const _0x46e2db=_0x2e7de5,_0x57dc28=_0x4248e0(_0x354fad,_0x11a0a1),_0x30127e=this[_0x46e2db(0x849)][_0x46e2db(0x6a0)][_0x46e2db(0x6ba)](_0x57dc28);if(!_0x30127e)throw new _0x26bf2d(_0x26bf2d[_0x46e2db(0x269)][_0x46e2db(0x74e)],{'message':_0x1235fe(_0x354fad)+':\x20'+_0x57dc28+_0x46e2db(0x51a),'subscriptionType':_0x354fad,'subscription':_0x30127e,'subscriptonParts':_0x11a0a1});this[_0x46e2db(0x4c8)](_0x30127e,_0x57dc28,_0x11a0a1);}['closeSubscription'](_0xae89f,_0x156312,_0xa42f2a){const _0x53e73a=_0x2e7de5;_0xa42f2a=_0xa42f2a||this['getPartsFromSubscription'](_0xae89f),this[_0x53e73a(0x849)][_0x53e73a(0x6a0)][_0x53e73a(0x428)](_0x156312),this[_0x53e73a(0x8e4)](_0xa42f2a,_0xae89f);}[_0x2e7de5(0x241)](_0x37d713,{source:_0x507b4f,destination:_0x31e167}){const _0x148982=_0x2e7de5,{contentType:_0x52cc26,label:_0x5f1fe1,remoteId:_0x7f6b48}=_0x37d713,_0x4f602e=_0x16ab71(_0x52cc26,_0x5f1fe1,_0x7f6b48),_0x59a7ba=new _0x2fd958(_0x4f602e,_0x52cc26);_0x59a7ba[_0x148982(0x538)](_0x507b4f),_0x59a7ba[_0x148982(0xa58)](_0x31e167),this[_0x148982(0x849)][_0x148982(0x5f8)][_0x148982(0x7ee)](_0x59a7ba[_0x148982(0x5d7)](),_0x59a7ba);}[_0x2e7de5(0x8e4)](_0x1bb546,_0x8a0fb2){const _0x4f59a9=_0x2e7de5,{contentType:_0x463f96,label:_0x3dbfa5,remoteId:_0x44fcbd}=_0x1bb546,_0x12c4d3=_0x16ab71(_0x463f96,_0x3dbfa5,_0x44fcbd),_0xaee354=this[_0x4f59a9(0x849)][_0x4f59a9(0x5f8)][_0x4f59a9(0x6ba)](_0x12c4d3);_0xaee354&&(this['closeTopic'](_0xaee354,_0x8a0fb2),this[_0x4f59a9(0x849)][_0x4f59a9(0x5f8)][_0x4f59a9(0x428)](_0x12c4d3));}[_0x2e7de5(0x3cd)](_0x1fb0c2,{source:_0xc7f78e,destination:_0x24d012}){const _0x3dc3b3=_0x2e7de5;_0x1fb0c2[_0x3dc3b3(0x662)](_0xc7f78e),_0x1fb0c2['unregisterDestination'](_0x24d012);}['removeSubscriptionsForNode'](_0x37db64){const _0x171570=_0x2e7de5;this[_0x171570(0x849)]['subscriptions'][_0x171570(0x270)]((_0x47e1a1,_0x1513c3)=>{const _0xaf1660=_0x171570;_0x1513c3['endsWith'](_0x37db64)&&this[_0xaf1660(0x4c8)](_0x47e1a1,_0x1513c3);});}}class _0x292615{['configs'];[_0x2e7de5(0x58f)];[_0x2e7de5(0x7ef)]=new Map();[_0x2e7de5(0x44d)]=_0x47e44e(new _0x1424b5(this[_0x2e7de5(0x678)][_0x2e7de5(0x32d)](this),()=>_0x31d9e2[_0x2e7de5(0x265)](0x64)),!0x0);[_0x2e7de5(0x2e5)]=new Map();[_0x2e7de5(0x849)];[_0x2e7de5(0x1bb)]=new Map();constructor(_0x2d40f7,_0xd93462){const _0x5118e4=_0x2e7de5;this['configs']=_0x2d40f7,this[_0x5118e4(0x58f)]=_0xd93462,this[_0x5118e4(0x849)]=new _0x1d8605(({source:_0x24665a,destination:_0x5518d9})=>_0x5c6bb7(_0x5518d9,_0x24665a));}[_0x2e7de5(0x7d5)](_0x34b346,_0x308e7d){const _0x4496b9=_0x2e7de5,_0x354998=this[_0x4496b9(0x38e)](_0x34b346)&&this[_0x4496b9(0x97c)](_0x308e7d)?new _0x3850c3(_0x34b346,_0x308e7d):new _0x38839b(_0x34b346,_0x308e7d);this[_0x4496b9(0x849)]['createSubscription'](_0x389dbe[_0x4496b9(0x863)],_0x354998),this[_0x4496b9(0x562)][_0x4496b9(0x442)][_0x4496b9(0x923)](_0x354998);}[_0x2e7de5(0x744)](_0x3a8f4f,_0x29ea11,_0x6b82be=''){const _0x5adb69=_0x2e7de5,_0xd66bed={'contentType':_0x29ea11,'label':_0x3a8f4f,'remoteId':_0x6b82be},_0x2815a1=_0x4248e0(_0x389dbe[_0x5adb69(0x863)],_0xd66bed),_0x14fe2c=this[_0x5adb69(0x849)]['subscriptions'][_0x5adb69(0x6ba)](_0x2815a1);_0x14fe2c&&this[_0x5adb69(0x4c8)](_0x14fe2c,_0x2815a1);}['handleContentUnpublishMediaStream'](_0x5d3f1b){const _0x420bc7=_0x2e7de5;this[_0x420bc7(0x81f)](_0x5d3f1b);}[_0x2e7de5(0x7a8)]({label:_0x14f715,ownerId:_0x3586aa,trackKinds:_0x47701b,params:_0x1eff54}){const _0x2fb994=_0x2e7de5;this[_0x2fb994(0x77e)](_0x14f715,_0x3586aa,_0x47701b,_0x1eff54);}[_0x2e7de5(0x779)]({ownerId:_0x179a99,label:_0x20142c,params:_0x27a599}){const _0x2d2cf9=_0x2e7de5,{subscriptionLabel:_0x39c86d}=this[_0x2d2cf9(0x800)](_0x20142c,_0x179a99),_0x52eceb=this[_0x2d2cf9(0x82a)](_0x39c86d);_0x52eceb&&_0x52eceb['update'](_0x179a99,_0x27a599);}['handleContentUnsubscribeMediaStream']({ownerId:_0x5ce52a,label:_0x4b46e2,trackKinds:_0x35f0b3,remainingTracks:_0x115680}){const _0x4c342b=_0x2e7de5,_0x95ef29=_0x4248e0(_0x389dbe['Incoming'],{'contentType':_0x564b37[_0x4c342b(0x8c6)][_0x4c342b(0x5f7)],'label':_0x4b46e2,'remoteId':_0x5ce52a});this[_0x4c342b(0x61c)](_0x95ef29);const _0x508f99=this[_0x4c342b(0x7ef)]['get'](_0x95ef29);_0x508f99&&(this[_0x4c342b(0x562)][_0x4c342b(0x442)]['unregisterSystemSource'](_0x508f99),this[_0x4c342b(0x7ef)][_0x4c342b(0x428)](_0x95ef29));const {parts:_0x378bfd,subscriptionLabel:_0x26cbd8}=this[_0x4c342b(0x800)](_0x4b46e2,_0x5ce52a),_0x280786=this[_0x4c342b(0x82a)](_0x26cbd8);_0x280786&&(_0x280786[_0x4c342b(0x615)](_0x5ce52a,_0x115680,_0x35f0b3),0x0===_0x115680&&this[_0x4c342b(0x744)](_0x378bfd[_0x4c342b(0x7b6)],_0x378bfd[_0x4c342b(0x643)],_0x378bfd[_0x4c342b(0x9cc)]));}[_0x2e7de5(0x2e9)](_0x4a8f4e,{label:_0x4c7c81,ownerId:_0x2d0f2e,trackKinds:_0x45c77c,streamId:_0x3f83f3,params:_0x3998fd}){const _0x39ef11=_0x2e7de5,_0x33246b=_0x4248e0(_0x389dbe['Incoming'],{'contentType':_0x564b37[_0x39ef11(0x8c6)][_0x39ef11(0x5f7)],'label':_0x3f83f3,'remoteId':_0x4a8f4e}),_0x3b5a7e=this[_0x39ef11(0x849)][_0x39ef11(0x6a0)]['get'](_0x33246b);if(!(_0x3b5a7e&&_0x3b5a7e instanceof _0x3850c3))throw new _0x26bf2d(_0x26bf2d['codes'][_0x39ef11(0x4bf)],{'label':_0x33246b,'ownerId':_0x2d0f2e});this['closeSubscription'](_0x3b5a7e,_0x33246b),this[_0x39ef11(0x77e)](_0x4c7c81,_0x2d0f2e,_0x45c77c,_0x3998fd);}[_0x2e7de5(0x201)](_0x822337,_0x4adba7){const _0x1d875f=_0x2e7de5,{label:_0x202202,ownerId:_0x253fe8,trackKinds:_0x54b07c,params:_0xbe5894}=_0x4adba7,_0x42d6fe=_0x4248e0(_0x389dbe[_0x1d875f(0x863)],{'contentType':_0x564b37[_0x1d875f(0x8c6)][_0x1d875f(0x5f7)],'label':_0x202202,'remoteId':_0x253fe8});if(!this[_0x1d875f(0x7ef)][_0x1d875f(0x1a4)](_0x42d6fe))throw new _0x26bf2d(_0x26bf2d[_0x1d875f(0x269)]['SubscriptionRequestDoesNotExist'],{'label':_0x42d6fe,'ownerId':_0x253fe8,'streamId':_0x4adba7['streamId'],'requests':this[_0x1d875f(0x7ef)]});const _0x1f4754=this[_0x1d875f(0x7ef)]['get'](_0x42d6fe);if(_0x54b07c[_0x1d875f(0x727)]===_0x1f4754[_0x1d875f(0x527)]()['length']&&_0x54b07c['every'](_0x718bc3=>_0x1f4754['getTracks']()['includes'](_0x718bc3)))try{const _0x5386f9=_0x1f4754[_0x1d875f(0xa86)](_0x822337,_0x4adba7);if(!_0x5386f9)return;this[_0x1d875f(0x683)](_0x5386f9,_0x253fe8,_0x202202,_0x42d6fe,_0x54b07c);}catch(_0xcf18e2){return void this[_0x1d875f(0x749)](_0x202202,_0x253fe8,_0x54b07c,_0xbe5894);}}[_0x2e7de5(0x335)](_0x3313ff,{label:_0x5c1b4b,ownerId:_0x5208e6,trackKinds:_0x1996b7}){const _0x20ff47=_0x2e7de5,_0x36d5ed=this['configs'][_0x20ff47(0x442)][_0x20ff47(0x18a)](_0x5208e6,_0x5c1b4b);if(!_0x36d5ed)return;const _0x5d2e79=_0x36d5ed[_0x20ff47(0x931)](),_0x5bc335=_0x36d5ed[_0x20ff47(0x583)]();_0x5bc335['some'](_0x50223a=>_0x1996b7[_0x20ff47(0xa49)](_0x50223a))&&this[_0x20ff47(0x536)](_0x3313ff,_0x5c1b4b,_0x5d2e79,_0x5208e6,_0x5bc335);}[_0x2e7de5(0x905)]({label:_0x9384e4,providerId:_0x14bc24,ownerId:_0x53265c,streamId:_0xfa9c24,trackKinds:_0x2a4ffb}){const _0x1ce1eb=_0x2e7de5;this[_0x1ce1eb(0x536)](_0x14bc24,_0x9384e4,_0xfa9c24,_0x53265c,_0x2a4ffb);}[_0x2e7de5(0x26d)](_0x4db28d){const _0x340433=_0x2e7de5;for(const _0x449818 of this['chosenAnswers'][_0x340433(0x20c)]()){const {streamLabel:_0x2df4,ownerId:_0x261f7e,trackKinds:_0xe64eb,params:_0x4d752f}=_0x449818;if(!_0x261f7e||!_0xe64eb||!_0x2df4)return;this[_0x340433(0x44d)][_0x340433(0x67b)]({'label':_0x2df4,'ownerId':_0x261f7e,'trackKinds':_0xe64eb,'params':_0x4d752f,'remoteId':_0x4db28d});}}['removeSubscriptionsForNode'](_0x422cc9){const _0x1eecf3=_0x2e7de5;this[_0x1eecf3(0x849)]['subscriptions'][_0x1eecf3(0x270)]((_0x50b76b,_0x1c395a)=>{const _0x2622f6=_0x1eecf3;if(_0x1c395a[_0x2622f6(0x2cc)](_0x422cc9)){if(_0x50b76b[_0x2622f6(0x5d3)][_0x2622f6(0x924)]()===_0x564b37[_0x2622f6(0x8c6)][_0x2622f6(0x5f7)]){const _0x24b045=_0x50b76b['destination'];if(_0x24b045[_0x2622f6(0x583)]()['length']>0x0){const _0x2d136c={'type':_0x27cc25[_0x2622f6(0x16d)],'label':_0x24b045[_0x2622f6(0x5d7)](),'ownerId':_0x24b045[_0x2622f6(0x830)](),'trackKinds':_0x24b045[_0x2622f6(0x583)]()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x422cc9,_0x2d136c);}}this[_0x2622f6(0x4c8)](_0x50b76b,_0x1c395a);}});}[_0x2e7de5(0x6f0)](){const _0x21b533=_0x2e7de5;this[_0x21b533(0x849)][_0x21b533(0x6a0)][_0x21b533(0x270)](this[_0x21b533(0x4c8)][_0x21b533(0x32d)](this));}[_0x2e7de5(0x683)](_0x409e76,_0x1eb4ff,_0x4c132c,_0x50cae7,_0x59057a){const _0x194aac=_0x2e7de5,_0x3943b1=this['configs'][_0x194aac(0x442)][_0x194aac(0x4d4)](_0x409e76[_0x194aac(0x82b)]),_0x23af03=this[_0x194aac(0x562)][_0x194aac(0x442)][_0x194aac(0x18a)](_0x1eb4ff,_0x4c132c);this['clearSubscriptionRequestTimeout'](_0x50cae7),this[_0x194aac(0x7ef)]['has'](_0x50cae7)&&(this[_0x194aac(0x562)][_0x194aac(0x442)]['unregisterSystemSource'](this['subscriptionRequests'][_0x194aac(0x6ba)](_0x50cae7)),this[_0x194aac(0x7ef)][_0x194aac(0x428)](_0x50cae7)),this[_0x194aac(0x51d)](_0x409e76,_0x1eb4ff,_0x4c132c,_0x23af03),_0x23af03['setInternalId'](_0x409e76[_0x194aac(0x2bf)]),_0x23af03[_0x194aac(0x47b)](_0x409e76[_0x194aac(0x82b)]);const _0x353ff8=_0x5c6bb7(_0x23af03,_0x3943b1),_0x56fc0c=_0x4248e0(_0x389dbe[_0x194aac(0x863)],_0x353ff8);this[_0x194aac(0x849)]['subscriptions'][_0x194aac(0x1a4)](_0x56fc0c)||this['createSubscription'](_0x3943b1,_0x23af03);const _0x54b421=this['maps']['subscriptions']['get'](_0x56fc0c);if(!(_0x54b421&&_0x54b421 instanceof _0x3850c3))throw new _0x26bf2d(_0x26bf2d[_0x194aac(0x269)][_0x194aac(0x4bf)],{'label':_0x50cae7,'ownerId':_0x1eb4ff});_0x31c6d3['logEvent'](_0x194aac(0x3f9),{'clusterId':this[_0x194aac(0x562)][_0x194aac(0x966)],'nodeId':this['configs'][_0x194aac(0x1cc)]['getId'](),'nodeType':this['configs']['localNode']['type'],'data':{'subscriptionLabel':_0x56fc0c,'chosenAnswer':_0x409e76}}),this[_0x194aac(0x1bb)][_0x194aac(0x7ee)](_0x56fc0c,_0x409e76),_0x54b421[_0x194aac(0x683)](_0x1eb4ff,_0x59057a,_0x409e76['params']);}['removeRemoteStreamSubscription']({ownerId:_0x3c0705,label:_0x537647}){const _0x2def78=_0x2e7de5,_0x2bbd56=this[_0x2def78(0x562)][_0x2def78(0x442)][_0x2def78(0x18a)](_0x3c0705,_0x537647),[_0x3aa44f,_0x13d16d]=Array[_0x2def78(0xa4b)](this[_0x2def78(0x849)][_0x2def78(0x6a0)][_0x2def78(0x4d1)]())[_0x2def78(0x921)](([_0x3e3635,_0xc51af4])=>-0x1!==_0x3e3635[_0x2def78(0x801)](_0x2bbd56[_0x2def78(0x931)]()));return this[_0x2def78(0x4c8)](_0x13d16d,_0x3aa44f);}['closeSubscription'](_0x466b07,_0x29ac47){const _0x7d0d89=_0x2e7de5;this[_0x7d0d89(0x562)][_0x7d0d89(0x442)][_0x7d0d89(0x8a7)](_0x466b07),this[_0x7d0d89(0x849)][_0x7d0d89(0x4c8)](_0x466b07,_0x29ac47);}[_0x2e7de5(0x38e)](_0x77e9f3){const _0x5f0c0d=_0x2e7de5;return _0x77e9f3[_0x5f0c0d(0x461)]()[_0x5f0c0d(0xa49)](_0x564b37[_0x5f0c0d(0x8c6)][_0x5f0c0d(0x5f7)]);}[_0x2e7de5(0x97c)](_0x4f1a6c){const _0x446a2c=_0x2e7de5;return _0x4f1a6c[_0x446a2c(0x924)]()===_0x564b37[_0x446a2c(0x8c6)][_0x446a2c(0x5f7)];}async[_0x2e7de5(0x749)](_0x33a07f,_0x5a8192,_0x515c71,_0x40aa07){const _0x12dfba=_0x2e7de5;await _0x31d9e2[_0x12dfba(0x265)](0x3e8);const _0x1a698e=_0x4248e0(_0x389dbe[_0x12dfba(0x863)],{'contentType':_0x564b37[_0x12dfba(0x8c6)][_0x12dfba(0x5f7)],'label':_0x33a07f,'remoteId':_0x5a8192});this[_0x12dfba(0x61c)](_0x1a698e);const _0xb11b58=this[_0x12dfba(0x7ef)][_0x12dfba(0x6ba)](_0x1a698e);if(!_0xb11b58)throw new _0x26bf2d(_0x26bf2d[_0x12dfba(0x269)][_0x12dfba(0x4bf)],{'label':_0x1a698e,'ownerId':_0x5a8192});const _0x30bae3=this[_0x12dfba(0x562)][_0x12dfba(0x442)][_0x12dfba(0x842)](_0x24df82=>_0x24df82['isConnected']()),_0x1533f8=this[_0x12dfba(0x562)][_0x12dfba(0x442)][_0x12dfba(0x378)](this[_0x12dfba(0x562)][_0x12dfba(0x1cc)]['getId'](),_0x5a8192);_0xb11b58['reset'](_0x30bae3[_0x12dfba(0x28b)](_0x5e7632=>_0x5e7632[_0x12dfba(0x611)]()),_0x1533f8);try{_0xb11b58[_0x12dfba(0x4c1)](this['configs']['localNode'][_0x12dfba(0x2ab)](),_0x5a8192,_0x33a07f,_0x515c71,_0x40aa07),this['setSubscriptionRequestTimeout'](_0x33a07f,_0x5a8192,_0x515c71,_0x40aa07,_0x1a698e,_0xb11b58);}catch(_0x7e6224){this['subscriptionRequestsQueue'][_0x12dfba(0x67b)]({'label':_0x33a07f,'ownerId':_0x5a8192,'trackKinds':_0x515c71,'params':_0x40aa07});}}[_0x2e7de5(0x77e)](_0x2ed456,_0x50a8c1,_0x1b94a9,_0x2ba7fe){const _0x24a4e2=_0x2e7de5;this[_0x24a4e2(0x44d)]['push']({'label':_0x2ed456,'ownerId':_0x50a8c1,'trackKinds':_0x1b94a9,'params':_0x2ba7fe});}[_0x2e7de5(0x678)]({label:_0x421754,ownerId:_0x33ed8b,trackKinds:_0x12cefc,params:_0x8981b3,remoteId:_0x577c2f}){const _0x5b2d6b=_0x2e7de5;if(!this[_0x5b2d6b(0x562)][_0x5b2d6b(0x442)][_0x5b2d6b(0x18a)](_0x33ed8b,_0x421754))return;if(!this['configs'][_0x5b2d6b(0x442)][_0x5b2d6b(0x5c7)]()[_0x5b2d6b(0xa48)]())throw new Error(_0x5b2d6b(0x6fd));if(_0x577c2f){const _0x293060=this[_0x5b2d6b(0x562)][_0x5b2d6b(0x442)]['getRemoteNodes']()['find'](_0x19d505=>_0x19d505[_0x5b2d6b(0x2ab)]()===_0x577c2f),_0x5014c2=_0x293060?.['getRank']();if(!_0x293060||!_0x5014c2)throw new Error(_0x5b2d6b(0x34f));const _0x70fb44=this[_0x5b2d6b(0x562)][_0x5b2d6b(0x442)][_0x5b2d6b(0x293)]()[_0x5b2d6b(0x921)](_0x24156b=>_0x24156b[_0x5b2d6b(0x2ab)]()===_0x33ed8b),_0x4be6fe=_0x70fb44?.[_0x5b2d6b(0xa48)]();if(!_0x70fb44||!_0x4be6fe)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x1415a8=this['chosenAnswers'][_0x5b2d6b(0x6ba)](_0x421754);if(_0x1415a8){const _0x3ef9e8=this['configs']['mediator'][_0x5b2d6b(0x293)]()[_0x5b2d6b(0x921)](_0x7c62dc=>_0x7c62dc[_0x5b2d6b(0x2ab)]()===_0x1415a8['nodeId']),_0x6588f9=_0x3ef9e8?.[_0x5b2d6b(0xa48)]();if(!_0x3ef9e8||!_0x6588f9)throw new Error(_0x5b2d6b(0x42f));if(Math[_0x5b2d6b(0x83e)](_0x6588f9-_0x4be6fe)<Math['abs'](_0x5014c2-_0x4be6fe))return;}}const _0x10caf7=this['configs']['mediator']['getConnections'](_0x4e7aea=>_0x4e7aea[_0x5b2d6b(0x33d)]()&&(!_0x577c2f||_0x4e7aea[_0x5b2d6b(0x611)]()===_0x577c2f));if(!_0x10caf7['length']||0x0===_0x10caf7[_0x5b2d6b(0x727)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x3a282c=this[_0x5b2d6b(0x562)][_0x5b2d6b(0x442)][_0x5b2d6b(0x378)](this['configs'][_0x5b2d6b(0x1cc)][_0x5b2d6b(0x2ab)](),_0x33ed8b),_0xfa2ca1=_0x4248e0(_0x389dbe['Incoming'],{'contentType':_0x564b37[_0x5b2d6b(0x8c6)][_0x5b2d6b(0x5f7)],'label':_0x421754,'remoteId':_0x33ed8b});if(this[_0x5b2d6b(0x7ef)][_0x5b2d6b(0x1a4)](_0xfa2ca1)){if(_0x577c2f)throw new Error(_0x5b2d6b(0x99b));const _0x3e9a50=this[_0x5b2d6b(0x7ef)][_0x5b2d6b(0x6ba)](_0xfa2ca1)['getTracks']();if(_0x3e9a50[_0x5b2d6b(0x727)]===_0x12cefc[_0x5b2d6b(0x727)]&&_0x3e9a50[_0x5b2d6b(0x3db)](_0x354c82=>_0x12cefc['includes'](_0x354c82)))return;this[_0x5b2d6b(0x562)][_0x5b2d6b(0x442)][_0x5b2d6b(0x8a7)](this[_0x5b2d6b(0x7ef)][_0x5b2d6b(0x6ba)](_0xfa2ca1)),this[_0x5b2d6b(0x7ef)][_0x5b2d6b(0x428)](_0xfa2ca1),_0x12cefc=Array['from'](new Set(_0x12cefc['concat'](_0x3e9a50))),this[_0x5b2d6b(0x61c)](_0xfa2ca1);}const _0x1ce034=new _0x23ad20(_0x10caf7[_0x5b2d6b(0x28b)](_0x50e0d3=>_0x50e0d3[_0x5b2d6b(0x611)]()),_0x3a282c,this['maxDistance'],_0x12cefc);this[_0x5b2d6b(0x562)][_0x5b2d6b(0x442)]['registerSystemSource'](_0x1ce034),this['subscriptionRequests'][_0x5b2d6b(0x7ee)](_0xfa2ca1,_0x1ce034),_0x1ce034[_0x5b2d6b(0x4c1)](this[_0x5b2d6b(0x562)][_0x5b2d6b(0x1cc)][_0x5b2d6b(0x2ab)](),_0x33ed8b,_0x421754,_0x12cefc,_0x8981b3),this[_0x5b2d6b(0x829)](_0x421754,_0x33ed8b,_0x12cefc,_0x8981b3,_0xfa2ca1,_0x1ce034);}[_0x2e7de5(0x61c)](_0x275cb3){const _0x3dfec4=_0x2e7de5;this['subscriptionRequestTimeouts']['has'](_0x275cb3)&&(clearTimeout(this[_0x3dfec4(0x2e5)][_0x3dfec4(0x6ba)](_0x275cb3)),this[_0x3dfec4(0x2e5)][_0x3dfec4(0x428)](_0x275cb3));}[_0x2e7de5(0x829)](_0x8cf6ba,_0x81f991,_0x37871d,_0xa2cff8,_0x114d01,_0x17c1d8){const _0x59d122=_0x2e7de5;this[_0x59d122(0x61c)](_0x114d01),this[_0x59d122(0x2e5)][_0x59d122(0x7ee)](_0x114d01,setTimeout(()=>{const _0x26ab53=_0x59d122;this[_0x26ab53(0x2e5)][_0x26ab53(0x428)](_0x114d01);try{const _0x5d02ea=_0x17c1d8[_0x26ab53(0x84d)]();this[_0x26ab53(0x683)](_0x5d02ea,_0x81f991,_0x8cf6ba,_0x114d01,_0x37871d);}catch(_0x581949){this[_0x26ab53(0x749)](_0x8cf6ba,_0x81f991,_0x37871d,_0xa2cff8);}},0x7d0));}[_0x2e7de5(0x536)](_0xc5d8,_0xc7c8c,_0x174023,_0x350f15,_0x60843b){const _0x4682a1=_0x2e7de5,{subscriptionLabel:_0xaf3974}=this[_0x4682a1(0x800)](_0xc7c8c,_0x350f15),_0x8aa54c=this[_0x4682a1(0x82a)](_0xaf3974),_0x2bd86b=_0x8aa54c?.[_0x4682a1(0x987)];_0x8aa54c&&(_0x8aa54c[_0x4682a1(0x615)](_0x350f15,0x0),this[_0x4682a1(0x744)](_0x174023,_0x564b37[_0x4682a1(0x8c6)][_0x4682a1(0x5f7)],_0xc5d8)),this['requestSubscription'](_0xc7c8c,_0x350f15,_0x60843b,_0x2bd86b);}[_0x2e7de5(0x82a)](_0x465e4c){const _0x205cec=_0x2e7de5,_0x38604d=this[_0x205cec(0x849)][_0x205cec(0x6a0)][_0x205cec(0x6ba)](_0x465e4c);if(_0x38604d){if(!(_0x38604d instanceof _0x3850c3))throw new _0x26bf2d(_0x26bf2d[_0x205cec(0x269)]['InvalidSubscription'],{'label':_0x465e4c,'subscription':_0x38604d});return _0x38604d;}}[_0x2e7de5(0x800)](_0x8d754e,_0x34e420){const _0x511cd8=_0x2e7de5,_0x55767b=this[_0x511cd8(0x8a5)](_0x8d754e,_0x34e420);return{'parts':_0x55767b,'subscriptionLabel':_0x4248e0(_0x389dbe['Incoming'],_0x55767b)};}[_0x2e7de5(0x8a5)](_0x2b6f8c,_0x2b7943){const _0x52af3e=_0x2e7de5,_0x1533bf=this['configs'][_0x52af3e(0x442)]['getRemoteMediaStream'](_0x2b7943,_0x2b6f8c),_0x1de0a3=_0x1533bf[_0x52af3e(0x3bd)]();if(!_0x1de0a3)throw new _0x26bf2d(_0x26bf2d[_0x52af3e(0x269)][_0x52af3e(0x937)],{'label':_0x2b6f8c,'streamId':_0x1533bf[_0x52af3e(0x931)](),'ownerId':_0x2b7943,'localId':this[_0x52af3e(0x562)][_0x52af3e(0x1cc)][_0x52af3e(0x2ab)]()});return{'contentType':_0x564b37[_0x52af3e(0x8c6)]['Media'],'label':_0x1533bf[_0x52af3e(0x931)](),'remoteId':_0x1de0a3};}['cleanOldSubscription'](_0x38326b,_0x1d3241,_0x337a5e,_0x2804f1){const _0x242a1b=_0x2e7de5,_0x265aae=_0x2804f1[_0x242a1b(0x3bd)]();if(_0x265aae&&_0x265aae!==_0x38326b[_0x242a1b(0x82b)]){const {parts:_0x4f38f3,subscriptionLabel:_0x4f3e5a}=this[_0x242a1b(0x800)](_0x337a5e,_0x1d3241),_0x4c5239=this[_0x242a1b(0x82a)](_0x4f3e5a);_0x4c5239&&(_0x4c5239[_0x242a1b(0x615)](_0x1d3241,0x0),this['removeSubscription'](_0x4f38f3['label'],_0x4f38f3[_0x242a1b(0x643)],_0x4f38f3[_0x242a1b(0x9cc)]));}}}class _0x2d1b7b{[_0x2e7de5(0x562)];[_0x2e7de5(0x74a)];[_0x2e7de5(0x849)];constructor(_0x95e107,_0x4a3f68){const _0x16020e=_0x2e7de5;this['configs']=_0x95e107,this[_0x16020e(0x74a)]=_0x4a3f68,this['maps']=new _0x1d8605(({source:_0x1db5d1,destination:_0x51e795})=>_0x5c6bb7(_0x1db5d1,_0x51e795));}[_0x2e7de5(0x7d5)](_0x48991d,_0x5c7cd3){const _0x5acb2a=_0x2e7de5,_0x1da6fd={'source':_0x48991d,'destination':_0x5c7cd3};this[_0x5acb2a(0x849)][_0x5acb2a(0x7d5)](_0x389dbe[_0x5acb2a(0x80a)],_0x1da6fd);}['removeSubscription'](_0x57a6a5,_0x5bb95d,_0x415ac7=''){const _0x51cbd3=_0x2e7de5,_0xfde821={'contentType':_0x5bb95d,'label':_0x57a6a5,'remoteId':_0x415ac7};this[_0x51cbd3(0x849)][_0x51cbd3(0x744)](_0xfde821,_0x389dbe[_0x51cbd3(0x80a)]);}[_0x2e7de5(0x2cb)](_0x2b2722,_0x5cc05f){const _0x3fa062=_0x2e7de5;let _0x3f56af;_0x3f56af=_0x5cc05f['ownerId']!==this['configs'][_0x3fa062(0x1cc)][_0x3fa062(0x2ab)]()?this[_0x3fa062(0x562)][_0x3fa062(0x442)][_0x3fa062(0x18a)](_0x5cc05f['ownerId'],_0x5cc05f[_0x3fa062(0x7b6)]):this[_0x3fa062(0x562)]['mediator']['getLocalMediaStream'](_0x5cc05f['label']);const _0x1e4a0b=_0x4248e0(_0x389dbe[_0x3fa062(0x80a)],{'contentType':_0x564b37[_0x3fa062(0x8c6)][_0x3fa062(0x5f7)],'label':_0x3f56af['getShareableStreamId'](),'remoteId':_0x2b2722}),_0x18ec04=this[_0x3fa062(0x7bd)]();if(!this[_0x3fa062(0x849)]['subscriptions'][_0x3fa062(0x1a4)](_0x1e4a0b)&&_0x18ec04>=this[_0x3fa062(0x74a)])return{'type':_0x27cc25[_0x3fa062(0x8c2)],'ownerId':_0x5cc05f[_0x3fa062(0x2f8)],'label':_0x5cc05f[_0x3fa062(0x7b6)],'streamId':_0x3f56af['getShareableStreamId'](),'trackKinds':_0x5cc05f[_0x3fa062(0x689)],'params':_0x5cc05f[_0x3fa062(0x987)]};_0x3f56af instanceof _0x439073&&!_0x3f56af[_0x3fa062(0x9aa)](_0x5cc05f[_0x3fa062(0x689)])&&_0x3f56af[_0x3fa062(0x683)](_0x5cc05f['params']),this[_0x3fa062(0x849)]['subscriptions']['has'](_0x1e4a0b)||this['createSubscription'](_0x3f56af[_0x3fa062(0x49d)](_0x2b2722),this[_0x3fa062(0x562)]['mediator'][_0x3fa062(0x4d4)](_0x2b2722));}[_0x2e7de5(0x31c)](_0x571255,{label:_0x31d6fc,ownerId:_0x1c5d3a,remainingTracks:_0x57a7dc}){const _0x2da32a=_0x2e7de5;if(_0x57a7dc>0x0)return;let _0x1593c7;_0x1593c7=_0x1c5d3a!==this[_0x2da32a(0x562)][_0x2da32a(0x1cc)][_0x2da32a(0x2ab)]()?this[_0x2da32a(0x562)][_0x2da32a(0x442)][_0x2da32a(0x18a)](_0x1c5d3a,_0x31d6fc):this[_0x2da32a(0x562)][_0x2da32a(0x442)]['getLocalMediaStream'](_0x31d6fc);const _0x16f94d=_0x1593c7[_0x2da32a(0x36a)](),_0x35735b=_0x564b37[_0x2da32a(0x8c6)]['Media'];this[_0x2da32a(0x744)](_0x16f94d,_0x35735b,_0x571255);}['handleContentUnsubscribeMediaStream'](_0x2b98da,{label:_0x607086,ownerId:_0xf9d6fa,trackKinds:_0x3bf71f}){const _0x3b4dec=_0x2e7de5;if(_0x2b98da!==_0x2d2899)return[];let _0x120f5f=[];for(const _0x4173fb of this[_0x3b4dec(0x849)]['subscriptions']){const {source:_0x273f01,destination:_0x36b74f}=_0x4173fb[0x1];_0x273f01[_0x3b4dec(0x5d7)]()===_0x607086&&_0x273f01['getOwnerId']()===_0xf9d6fa&&_0x120f5f[_0x3b4dec(0x67b)]({'sourceId':this[_0x3b4dec(0x562)]['localNode'][_0x3b4dec(0x2ab)](),'destinationIds':[_0x36b74f[_0x3b4dec(0x611)]()],'messageType':_0x31418b[_0x3b4dec(0x704)],'content':{'type':_0x27cc25['MediaStreamUnavailable'],'label':_0x607086,'ownerId':_0xf9d6fa,'trackKinds':_0x3bf71f}});}return _0x120f5f;}['handleSubscriptionNeedMediaStream'](_0x3adb92,_0x3e294a){const _0x1b935c=_0x2e7de5,{label:_0x1c6a5d,ownerId:_0x4c39c8,trackKinds:_0x5d5485,params:_0x31daa3}=_0x3e294a,{hasTracks:_0x1568e9,streamId:_0xd456bf,hasResolution:_0x3c9917,distance:_0x5b55a6,subscriptionLabel:_0x561759}=this[_0x1b935c(0x284)](_0x3adb92,_0x3e294a);let _0x4e62aa=this[_0x1b935c(0x7bd)]()<this[_0x1b935c(0x74a)]&&(_0x1568e9||_0x5b55a6>-0x1)?_0x27cc25['CanProvideMediaStream']:_0x27cc25['CannotProvideMediaStream'];const _0x41e59e=_0x5b55a6<0x0?0xa:_0x5b55a6;let _0x93cc16=_0x1568e9?_0x3c9917?_0x41e59e:_0x41e59e+0x0:_0x41e59e+0xa;return _0x561759&&this[_0x1b935c(0x849)]['subscriptions'][_0x1b935c(0x1a4)](_0x561759)&&(_0x1568e9&&(_0x93cc16=0x0),_0x4e62aa=_0x27cc25[_0x1b935c(0x63a)]),{'type':_0x4e62aa,'cost':_0x93cc16,'distance':_0x5b55a6,'label':_0x1c6a5d,'ownerId':_0x4c39c8,'streamId':_0xd456bf,'trackKinds':_0x5d5485,'params':_0x31daa3};}[_0x2e7de5(0x3de)](_0x41638b){const _0x194672=_0x2e7de5,{label:_0x5e3342,ownerId:_0x3f218c}=_0x41638b,_0x2cbdbe=this[_0x194672(0x562)][_0x194672(0x442)][_0x194672(0x18a)](_0x3f218c,_0x5e3342);this[_0x194672(0x849)][_0x194672(0x6a0)][_0x194672(0x270)](_0x1ed2b2=>{const _0x40d3fe=_0x194672;if(_0x1ed2b2[_0x40d3fe(0x7b7)][_0x40d3fe(0x931)]()===_0x2cbdbe[_0x40d3fe(0x36a)]()){const _0x49da1a=_0x1ed2b2['destination'];this[_0x40d3fe(0x744)](_0x2cbdbe[_0x40d3fe(0x36a)](),_0x564b37[_0x40d3fe(0x8c6)]['Media'],_0x49da1a[_0x40d3fe(0x611)]());}});}[_0x2e7de5(0x607)]({label:_0x49b35f}){const _0x24a2af=_0x2e7de5,_0x596ce5=this[_0x24a2af(0x562)][_0x24a2af(0x442)][_0x24a2af(0x855)](_0x49b35f);this['maps'][_0x24a2af(0x6a0)][_0x24a2af(0x270)](_0x3b5f08=>{const _0x2129dc=_0x24a2af;if(_0x3b5f08['source'][_0x2129dc(0x931)]()===_0x596ce5['getShareableStreamId']()){const _0x1e889b=_0x3b5f08[_0x2129dc(0x5d3)];this[_0x2129dc(0x744)](_0x596ce5[_0x2129dc(0x36a)](),_0x564b37[_0x2129dc(0x8c6)][_0x2129dc(0x5f7)],_0x1e889b[_0x2129dc(0x611)]());}});}[_0x2e7de5(0x88d)](_0x5454c1){const _0x178be5=_0x2e7de5;this[_0x178be5(0x849)][_0x178be5(0x88d)](_0x5454c1);}['close'](){const _0xcdce10=_0x2e7de5;this[_0xcdce10(0x849)]['subscriptions'][_0xcdce10(0x270)](this[_0xcdce10(0x4c8)][_0xcdce10(0x32d)](this));}[_0x2e7de5(0x4c8)](_0x48dbf6,_0x3dd7a3){const _0x6c459c=_0x2e7de5;this[_0x6c459c(0x849)][_0x6c459c(0x4c8)](_0x48dbf6,_0x3dd7a3);}[_0x2e7de5(0x284)](_0x1e8057,{label:_0x168a37,ownerId:_0x39cc7e,trackKinds:_0xe50aa4,params:_0x5e37df}){const _0x312f5f=_0x2e7de5;if(_0x39cc7e!==this[_0x312f5f(0x562)][_0x312f5f(0x1cc)][_0x312f5f(0x2ab)]()){const _0x435a77=this[_0x312f5f(0x562)][_0x312f5f(0x442)][_0x312f5f(0x18a)](_0x39cc7e,_0x168a37);return _0x435a77&&_0x435a77['getProviderId']()!==_0x1e8057?{'hasTracks':_0x435a77[_0x312f5f(0x9a3)](_0xe50aa4),'hasResolution':this[_0x312f5f(0x4da)](_0x435a77[_0x312f5f(0x4ac)](),_0x5e37df),'streamId':_0x435a77['getShareableStreamId'](),'distance':this[_0x312f5f(0x562)]['mediator'][_0x312f5f(0x378)](_0x1e8057,_0x39cc7e),'subscriptionLabel':_0x4248e0(_0x389dbe[_0x312f5f(0x80a)],{'contentType':_0x564b37[_0x312f5f(0x8c6)][_0x312f5f(0x5f7)],'label':_0x435a77['getShareableStreamId'](),'remoteId':_0x1e8057})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x3945b9=this[_0x312f5f(0x562)][_0x312f5f(0x442)][_0x312f5f(0x855)](_0x168a37);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x3945b9[_0x312f5f(0x36a)](),'distance':0x0,'subscriptionLabel':_0x4248e0(_0x389dbe['Outgoing'],{'contentType':_0x564b37[_0x312f5f(0x8c6)][_0x312f5f(0x5f7)],'label':_0x3945b9['getShareableStreamId'](),'remoteId':_0x1e8057})};}[_0x2e7de5(0x7bd)](){const _0x325ea4=_0x2e7de5;return Array['from'](this[_0x325ea4(0x849)]['subscriptions'][_0x325ea4(0x4d1)]())[_0x325ea4(0x8bd)](([_0x47d830,{source:_0x45ff04}])=>_0x47d830[_0x325ea4(0x78d)](_0x389dbe[_0x325ea4(0x80a)])&&_0x45ff04[_0x325ea4(0x924)]()===_0x564b37[_0x325ea4(0x8c6)]['Media'])[_0x325ea4(0x727)];}[_0x2e7de5(0x4da)](_0x58c527,_0x265405){const _0x1e0d98=_0x2e7de5;if(!_0x265405||!_0x265405[_0x1e0d98(0x6ed)]||'boolean'==typeof _0x265405[_0x1e0d98(0x6ed)]||!_0x265405[_0x1e0d98(0x6ed)][_0x1e0d98(0x7e6)])return!0x0;const {width:_0x5f08a7,height:_0x27ee6c}=_0x265405[_0x1e0d98(0x6ed)]['maxResolution'];return _0x58c527[_0x1e0d98(0x381)]>=_0x5f08a7&&_0x58c527[_0x1e0d98(0x3c0)]>=_0x27ee6c;}}class _0x1de979{[_0x2e7de5(0x562)];[_0x2e7de5(0x74a)];['maxDistance'];[_0x2e7de5(0x24d)];[_0x2e7de5(0x866)];[_0x2e7de5(0x9da)];constructor(_0x3b5bc0,_0x5755cb,_0x2e1949){const _0x2f4066=_0x2e7de5;this[_0x2f4066(0x562)]=_0x3b5bc0,this['maxOutgoingSubscriptions']=_0x5755cb,this[_0x2f4066(0x58f)]=_0x2e1949,this[_0x2f4066(0x562)][_0x2f4066(0x442)][_0x2f4066(0x923)](this),this[_0x2f4066(0x866)]=new _0x292615(this[_0x2f4066(0x562)],this['maxDistance']),this[_0x2f4066(0x9da)]=new _0x2d1b7b(this[_0x2f4066(0x562)],this['maxOutgoingSubscriptions']);}['registerSystemPublisher'](_0x42eb0f){this['systemTopic']=_0x42eb0f;}[_0x2e7de5(0x910)](){const _0x117f61=_0x2e7de5;delete this[_0x117f61(0x24d)];}[_0x2e7de5(0x6f0)](){const _0x581181=_0x2e7de5;this[_0x581181(0x866)][_0x581181(0x6f0)](),this['outgoingManager'][_0x581181(0x6f0)](),this[_0x581181(0x562)][_0x581181(0x442)][_0x581181(0x8a7)](this);}['createIncomingSubscription'](_0x247448,_0x5f3153){const _0x27f973=_0x2e7de5;this[_0x27f973(0x866)][_0x27f973(0x7d5)](_0x247448,_0x5f3153);}['createOutgoingSubscription'](_0x25e426,_0x399c03){const _0x454169=_0x2e7de5;this['outgoingManager'][_0x454169(0x7d5)](_0x25e426,_0x399c03);}['removeIncomingSubscription'](_0x4ea805,_0x6eea1c,_0x53cbd6=''){const _0x2aac02=_0x2e7de5;this[_0x2aac02(0x866)][_0x2aac02(0x744)](_0x4ea805,_0x6eea1c,_0x53cbd6);}[_0x2e7de5(0x900)](_0xdc9a0c,_0x4bc839,_0x2e9d23=''){const _0x4e7163=_0x2e7de5;try{this[_0x4e7163(0x9da)][_0x4e7163(0x744)](_0xdc9a0c,_0x4bc839,_0x2e9d23);}catch(_0x34d4a2){if(_0x34d4a2 instanceof _0x26bf2d&&_0x34d4a2[_0x4e7163(0x7ba)]===_0x26bf2d['codes'][_0x4e7163(0x74e)])return;}}[_0x2e7de5(0xa86)](_0x3e315c){const _0x424330=_0x2e7de5;switch(_0x3e315c[_0x424330(0x1da)][_0x424330(0x926)]){case _0x27cc25[_0x424330(0x179)]:this[_0x424330(0x2cb)](_0x3e315c[_0x424330(0x194)],_0x3e315c[_0x424330(0x1da)]);break;case _0x27cc25['UnsubscribeMediaStream']:this[_0x424330(0x9da)][_0x424330(0x31c)](_0x3e315c['sourceId'],_0x3e315c[_0x424330(0x1da)]);break;case _0x27cc25[_0x424330(0x2e3)]:this[_0x424330(0x292)](_0x3e315c[_0x424330(0x194)],_0x3e315c[_0x424330(0x1da)]);break;case _0x27cc25['RestartNeedMediaStream']:this[_0x424330(0x866)][_0x424330(0x2e9)](_0x3e315c['sourceId'],_0x3e315c[_0x424330(0x1da)]);break;case _0x27cc25[_0x424330(0x63a)]:case _0x27cc25[_0x424330(0x3d8)]:this[_0x424330(0x866)][_0x424330(0x201)](_0x3e315c[_0x424330(0x194)],_0x3e315c[_0x424330(0x1da)]);break;case _0x27cc25[_0x424330(0x16d)]:this[_0x424330(0x866)][_0x424330(0x335)](_0x3e315c[_0x424330(0x194)],_0x3e315c[_0x424330(0x1da)]);}}[_0x2e7de5(0x6aa)](_0x173cac){const _0x556f0b=_0x2e7de5;switch(_0x173cac[_0x556f0b(0x1da)]['type']){case _0x5ba456[_0x556f0b(0x3ee)]:this[_0x556f0b(0x866)][_0x556f0b(0x3de)](_0x173cac[_0x556f0b(0x1da)]),this['outgoingManager'][_0x556f0b(0x3de)](_0x173cac['content']);break;case _0x5ba456[_0x556f0b(0x179)]:this['incomingManager']['handleContentSubscribeMediaStream'](_0x173cac[_0x556f0b(0x1da)]);break;case _0x5ba456['UpdateMediaStream']:this[_0x556f0b(0x866)][_0x556f0b(0x779)](_0x173cac[_0x556f0b(0x1da)]);break;case _0x5ba456[_0x556f0b(0x3a5)]:this[_0x556f0b(0x5a1)](_0x173cac['sourceId'],_0x173cac[_0x556f0b(0x1da)]);break;case _0x5ba456[_0x556f0b(0x25d)]:this['outgoingManager'][_0x556f0b(0x607)](_0x173cac['content']);break;case _0x5ba456[_0x556f0b(0x524)]:this[_0x556f0b(0x66a)](_0x173cac[_0x556f0b(0x1da)]['label'],_0x564b37[_0x556f0b(0x8c6)][_0x556f0b(0x380)]);break;case _0x5ba456['CloseObjectStoreBucket']:this['handleCloseContent'](_0x173cac[_0x556f0b(0x1da)][_0x556f0b(0x7b6)],_0x564b37[_0x556f0b(0x8c6)][_0x556f0b(0x295)]);break;case _0x5ba456[_0x556f0b(0x30f)]:this['handleCloseContent'](_0x173cac[_0x556f0b(0x1da)][_0x556f0b(0x7b6)],_0x564b37[_0x556f0b(0x8c6)][_0x556f0b(0x5fd)]);break;case _0x5ba456[_0x556f0b(0xa76)]:this['handleCloseContent'](_0x173cac[_0x556f0b(0x1da)][_0x556f0b(0x7b6)],_0x564b37['ContentType'][_0x556f0b(0xa2b)]);break;case _0x5ba456['CloseVectorDatabase']:this[_0x556f0b(0x66a)](_0x173cac['content'][_0x556f0b(0x7b6)],_0x564b37[_0x556f0b(0x8c6)]['VectorDatabase']);break;case _0x5ba456[_0x556f0b(0x8ce)]:this[_0x556f0b(0x66a)](_0x173cac['content'][_0x556f0b(0x7b6)],_0x564b37['ContentType'][_0x556f0b(0x6ad)]);break;case _0x5ba456[_0x556f0b(0x6a7)]:case _0x5ba456['CloseJobWorker']:this[_0x556f0b(0x66a)](_0x173cac['content'][_0x556f0b(0x7b6)],_0x564b37['ContentType']['Job']);break;case _0x5ba456[_0x556f0b(0x356)]:this[_0x556f0b(0x866)]['handleContentRemoteMediaStreamTrackFail'](_0x173cac[_0x556f0b(0x1da)]);}}[_0x2e7de5(0x479)]({content:_0x4cb5aa}){const _0x1c7a40=_0x2e7de5;_0x4cb5aa['type']===_0x50d88b[_0x1c7a40(0x468)]&&this[_0x1c7a40(0x88d)](_0x4cb5aa);}['handlePeerConnectionSystemEvents'](_0x2a8ad0){const _0x2e129b=_0x2e7de5;_0x2a8ad0[_0x2e129b(0x1da)][_0x2e129b(0x926)]===_0x30b2f6[_0x2e129b(0x810)]&&this[_0x2e129b(0x866)]['handleOptimizationConnectionSuccess'](_0x2a8ad0[_0x2e129b(0x194)]);}[_0x2e7de5(0x5a1)](_0x297221,_0x1b5ab0){const _0x5cea5d=_0x2e7de5;this[_0x5cea5d(0x866)][_0x5cea5d(0x5a1)](_0x1b5ab0),this[_0x5cea5d(0x9da)][_0x5cea5d(0x5a1)](_0x297221,_0x1b5ab0)[_0x5cea5d(0x270)](_0x5e80f7=>this['systemTopic'][_0x5cea5d(0x4df)](_0x5e80f7));}[_0x2e7de5(0x2cb)](_0x18151d,_0x21f982){const _0x3e8ae0=_0x2e7de5,_0x530f01=this[_0x3e8ae0(0x9da)][_0x3e8ae0(0x2cb)](_0x18151d,_0x21f982);if(_0x530f01&&(this[_0x3e8ae0(0x24d)][_0x3e8ae0(0x4df)]({'sourceId':this[_0x3e8ae0(0x562)]['localNode'][_0x3e8ae0(0x2ab)](),'destinationIds':[_0x18151d],'messageType':_0x31418b[_0x3e8ae0(0x704)],'content':_0x530f01}),_0x530f01[_0x3e8ae0(0x926)]===_0x27cc25[_0x3e8ae0(0x8c2)]))throw new _0x4d789b(_0x3e8ae0(0x39f));}['handleSubscriptionNeedMediaStream'](_0x49aeb4,_0x120f20){const _0xa96395=_0x2e7de5,_0x368af6=this[_0xa96395(0x9da)][_0xa96395(0x292)](_0x49aeb4,_0x120f20);this['systemTopic']['publish']({'sourceId':this[_0xa96395(0x562)][_0xa96395(0x1cc)][_0xa96395(0x2ab)](),'destinationIds':[_0x49aeb4],'messageType':_0x31418b['Subscription'],'content':_0x368af6});}[_0x2e7de5(0x66a)](_0x1a798c,_0xade352){const _0xf03456=_0x2e7de5;this['removeIncomingSubscription'](_0x1a798c,_0xade352),this[_0xf03456(0x900)](_0x1a798c,_0xade352);}['removeSubscriptionsForNode']({id:_0x156502}){const _0x4f90bb=_0x2e7de5;this[_0x4f90bb(0x866)][_0x4f90bb(0x88d)](_0x156502),this[_0x4f90bb(0x9da)][_0x4f90bb(0x88d)](_0x156502);}}class _0x2fed90{[_0x2e7de5(0x7b6)];[_0x2e7de5(0x61b)]=_0x37766();constructor(){const _0x25c309=_0x2e7de5;this[_0x25c309(0x7b6)]=0x0;}['getLabel'](){const _0x36b8e3=_0x2e7de5;return this[_0x36b8e3(0x7b6)];}[_0x2e7de5(0x924)](){const _0x2a01f3=_0x2e7de5;return _0x564b37[_0x2a01f3(0x8c6)]['Data'];}[_0x2e7de5(0x538)](_0x31cf5b){_0x31cf5b['registerSystemPublisher'](this);}[_0x2e7de5(0x662)](_0x18f295){const _0xef364c=_0x2e7de5;_0x18f295[_0xef364c(0x910)]();}['publish'](_0x10c05f){const _0x53e243=_0x2e7de5;_0x31c6d3[_0x53e243(0x65c)](_0x2387f2[_0x53e243(0x792)],_0x53e243(0x882),_0x10c05f['sourceId'],_0x10c05f),this[_0x53e243(0x61b)][_0x53e243(0x4df)]({'topicLabel':this['label'],'contentType':_0x564b37[_0x53e243(0x8c6)][_0x53e243(0x264)],'uuid':_0x10c05f[_0x53e243(0x9f7)]??(0x0,_0x328cbd['v4'])(),'recipients':_0x10c05f[_0x53e243(0x821)]??[],..._0x10c05f});}[_0x2e7de5(0x683)](_0x1ea7dd){const _0x1b9dc9=_0x2e7de5;return this[_0x1b9dc9(0x61b)]['subscribe'](_0x1ea7dd);}}class _0x17880a{[_0x2e7de5(0x7e9)];[_0x2e7de5(0x239)]=[];[_0x2e7de5(0x345)];[_0x2e7de5(0x30d)]=new Map();[_0x2e7de5(0x1a8)]=_0x37766();constructor(_0x413d73){const _0x8816c8=_0x2e7de5;this[_0x8816c8(0x7e9)]=_0x413d73,this[_0x8816c8(0x345)]=(this[_0x8816c8(0x7e9)][_0x8816c8(0x754)]-0x2*this[_0x8816c8(0x7e9)][_0x8816c8(0x2d4)])/0x2,this[_0x8816c8(0x239)][_0x8816c8(0x67b)]({'start':0x1,'end':this[_0x8816c8(0x62f)](0x1,0x1)-0x1});for(let _0x35a890=0x0;_0x35a890<this[_0x8816c8(0x345)];++_0x35a890)this[_0x8816c8(0x239)][_0x8816c8(0x67b)]({'start':this[_0x8816c8(0x62f)](0x1,_0x35a890+0x1),'end':this[_0x8816c8(0x62f)](0x1,_0x35a890+0x2)-0x1});}['getNextTargetRank'](_0x103093,_0xfe7cf9=0x1){const _0x48b0fe=_0x2e7de5;let _0x10cd09=this[_0x48b0fe(0x7e9)][_0x48b0fe(0x58f)]-this['options'][_0x48b0fe(0x2d4)],_0x12d10c=0x1;for(let _0x42c4e2=0x1;_0x42c4e2<_0xfe7cf9;++_0x42c4e2)_0x10cd09*=this[_0x48b0fe(0x7e9)][_0x48b0fe(0x58f)]-this['options'][_0x48b0fe(0x2d4)]-_0x42c4e2,_0x12d10c*=this[_0x48b0fe(0x7e9)]['maxDistance']-this[_0x48b0fe(0x7e9)]['minConnections']-_0x42c4e2+0x1;return _0x10cd09*this[_0x48b0fe(0x7e9)][_0x48b0fe(0x2d4)]+_0x103093-_0x12d10c;}[_0x2e7de5(0x6ff)](_0x1a0a5b){const _0x4efee8=_0x2e7de5;let _0x2d5ef0=0x0;for(;this['ranges'][_0x2d5ef0][_0x4efee8(0x5ab)]<_0x1a0a5b;)_0x2d5ef0+=0x1;return _0x2d5ef0;}[_0x2e7de5(0x72d)](){const _0x297ade=_0x2e7de5;return this[_0x297ade(0x7e9)][_0x297ade(0x2d4)];}[_0x2e7de5(0x24f)](){const _0x3d0014=_0x2e7de5;return this[_0x3d0014(0x7e9)][_0x3d0014(0x754)];}[_0x2e7de5(0x385)](){const _0x547a10=_0x2e7de5;return this['options'][_0x547a10(0x58f)];}[_0x2e7de5(0x293)](){const _0x2ad5bd=_0x2e7de5;return this[_0x2ad5bd(0x30d)];}['setRemoteNode'](_0xbf684e,_0x275a2f){const _0x29b03d=_0x2e7de5;this[_0x29b03d(0x30d)][_0x29b03d(0x7ee)](_0xbf684e,_0x275a2f),this[_0x29b03d(0x1a8)][_0x29b03d(0x4df)]();}[_0x2e7de5(0x392)](_0x738e3){const _0x22731b=_0x2e7de5;this[_0x22731b(0x30d)][_0x22731b(0x428)](_0x738e3),this['nodeUpdate'][_0x22731b(0x4df)]();}['hasRemoteNode'](_0x1645f0){const _0x4a6462=_0x2e7de5;return this[_0x4a6462(0x30d)][_0x4a6462(0x1a4)](_0x1645f0);}[_0x2e7de5(0x96d)](_0x150abe){const _0x569166=_0x2e7de5;return this['remoteNodes'][_0x569166(0x6ba)](_0x150abe);}['getClosestNodes'](_0x154c85,_0x28be9f){const _0x4a4e80=_0x2e7de5,_0x560f27=this['getRemoteNode'](_0x28be9f)?.[_0x4a4e80(0xa48)]()??0x0;return _0x154c85[_0x4a4e80(0x28b)](_0x3d0252=>this['getRemoteNode'](_0x3d0252))[_0x4a4e80(0x8bd)](_0x3d4144=>void 0x0!==_0x3d4144)['sort']((_0x607524,_0x18c7bc)=>Math[_0x4a4e80(0x83e)](_0x560f27-(_0x607524&&_0x607524['getRank']()||0x1/0x0))-Math[_0x4a4e80(0x83e)](_0x560f27-(_0x18c7bc&&_0x18c7bc[_0x4a4e80(0xa48)]()||0x1/0x0)))[_0x4a4e80(0x28b)](_0x30f462=>_0x30f462['getId']());}[_0x2e7de5(0x8e6)](_0x2bc6e2){const _0xdc8c70=_0x2e7de5;return this[_0xdc8c70(0x1a8)][_0xdc8c70(0x683)](_0x2bc6e2);}}class _0x2d4ffb{[_0x2e7de5(0x9a1)];['clusterId'];['authNode'];[_0x2e7de5(0x70d)];[_0x2e7de5(0x7e9)];[_0x2e7de5(0x562)];[_0x2e7de5(0xa56)];['contentManager'];['connectionManager'];[_0x2e7de5(0x844)];[_0x2e7de5(0x366)];[_0x2e7de5(0xa1f)];[_0x2e7de5(0x1c0)];['nodeManager'];['graphService'];[_0x2e7de5(0x24d)]=new _0x2fed90();[_0x2e7de5(0x4ef)];[_0x2e7de5(0x1cc)];constructor(_0x465afb,_0x4f3949,_0x1faf2e,_0xfb8133,_0x303efb,_0x1f0465,_0x243fb5){const _0x1e16b1=_0x2e7de5;switch(this[_0x1e16b1(0x9a1)]=_0x465afb,this['clusterId']=_0x4f3949,this[_0x1e16b1(0x326)]=_0x1faf2e,this[_0x1e16b1(0x70d)]=_0xfb8133,this[_0x1e16b1(0x7e9)]=_0x303efb,this[_0x1e16b1(0x562)]=_0x1f0465,this[_0x1e16b1(0xa56)]=_0x243fb5,_0x1faf2e[_0x1e16b1(0x926)]){case _0x564b37[_0x1e16b1(0x20b)]['User']:this[_0x1e16b1(0x1cc)]=new _0xc5f936(_0x1faf2e[_0x1e16b1(0x2ab)](),_0x1faf2e[_0x1e16b1(0x49c)](),_0x1faf2e[_0x1e16b1(0x685)]());break;case _0x564b37[_0x1e16b1(0x20b)][_0x1e16b1(0x59d)]:default:this['localNode']=new _0xce5266(_0x1faf2e[_0x1e16b1(0x2ab)]());}const _0x55b61e=this[_0x1e16b1(0xa80)]();this[_0x1e16b1(0x1c8)]=new _0x17880a(this['options']),this['contentManager']=new _0x5154a6(_0x55b61e,this['options'],this[_0x1e16b1(0x562)][_0x1e16b1(0x969)]),this[_0x1e16b1(0x280)]=new _0x26e47f(_0x55b61e,this[_0x1e16b1(0x70d)],this[_0x1e16b1(0x1c8)],this[_0x1e16b1(0x562)]['iceServers'],this[_0x1e16b1(0x7e9)]),this[_0x1e16b1(0x844)]=new _0x1de979(_0x55b61e,this[_0x1e16b1(0x7e9)]['maxOutgoingSubscriptions'],this[_0x1e16b1(0x1c8)][_0x1e16b1(0x385)]()),this[_0x1e16b1(0x366)]=new _0x3800c6(_0x55b61e),this['detectionManager']=new _0x57f518(_0x55b61e),this['remediationManager']=new _0x1a0ad9(_0x55b61e),this['nodeManager']=new _0x509ce9(_0x55b61e,this['graphService']),this['systemTopicUnsubscribe']=this[_0x1e16b1(0x4c5)]();}[_0x2e7de5(0x35d)](){const _0x23c46c=_0x2e7de5,_0x26d2da=this[_0x23c46c(0xa80)]();this['connectionManager']=new _0x26e47f(_0x26d2da,this['authService'],this[_0x23c46c(0x1c8)],this[_0x23c46c(0x562)][_0x23c46c(0x338)],this[_0x23c46c(0x7e9)]),this[_0x23c46c(0x844)]=new _0x1de979(_0x26d2da,this[_0x23c46c(0x7e9)]['maxOutgoingSubscriptions'],this[_0x23c46c(0x1c8)]['getMaxDistance']()),this[_0x23c46c(0x366)]=new _0x3800c6(_0x26d2da),this['detectionManager']=new _0x57f518(_0x26d2da),this['remediationManager']=new _0x1a0ad9(_0x26d2da),this['nodeManager']=new _0x509ce9(_0x26d2da,this[_0x23c46c(0x1c8)]);const _0x5a3c47=this[_0x23c46c(0x280)]['getConnectionGroup']();this[_0x23c46c(0x3b1)][_0x23c46c(0xa13)]()[_0x23c46c(0x270)](_0x582310=>{const _0x2d9779=_0x23c46c;this[_0x2d9779(0x844)][_0x2d9779(0x85b)](_0x582310,_0x5a3c47),this[_0x2d9779(0x844)][_0x2d9779(0x65e)](_0x5a3c47,_0x582310),_0x582310[_0x2d9779(0x770)]();}),this[_0x23c46c(0x3b1)][_0x23c46c(0x816)]()[_0x23c46c(0x270)](_0x467994=>{const _0x1eae50=_0x23c46c;this[_0x1eae50(0x844)][_0x1eae50(0x85b)](_0x467994,_0x5a3c47),this[_0x1eae50(0x844)][_0x1eae50(0x65e)](_0x5a3c47,_0x467994),_0x467994[_0x1eae50(0x770)](),_0x467994[_0x1eae50(0x45b)]();}),this[_0x23c46c(0x3b1)][_0x23c46c(0x673)]()['forEach'](_0x21365e=>{const _0x2c8786=_0x23c46c;this['subscriptionManager'][_0x2c8786(0x85b)](_0x21365e,_0x5a3c47),this[_0x2c8786(0x844)][_0x2c8786(0x65e)](_0x5a3c47,_0x21365e),_0x21365e[_0x2c8786(0x770)](),this[_0x2c8786(0x729)](_0x21365e);}),this[_0x23c46c(0x3b1)]['getJobDispatchers']()[_0x23c46c(0x270)](_0x5c66e5=>{const _0x3a7797=_0x23c46c;this[_0x3a7797(0x844)]['createOutgoingSubscription'](_0x5c66e5,_0x5a3c47),this[_0x3a7797(0x844)][_0x3a7797(0x65e)](_0x5a3c47,_0x5c66e5),_0x5c66e5[_0x3a7797(0x770)]();}),this[_0x23c46c(0x3b1)][_0x23c46c(0x463)]()[_0x23c46c(0x270)](_0xe27ac=>{const _0x3c2925=_0x23c46c;this['subscriptionManager']['createOutgoingSubscription'](_0xe27ac,_0x5a3c47),this[_0x3c2925(0x844)][_0x3c2925(0x65e)](_0x5a3c47,_0xe27ac),_0xe27ac[_0x3c2925(0x770)]();}),this[_0x23c46c(0x3b1)][_0x23c46c(0xa66)]()['forEach'](_0x199bab=>{const _0x36b5ed=_0x23c46c;this[_0x36b5ed(0x844)][_0x36b5ed(0x85b)](_0x199bab,_0x5a3c47),this['subscriptionManager'][_0x36b5ed(0x65e)](_0x5a3c47,_0x199bab),_0x199bab['reset']();}),this['contentManager']['getGraphDatabases']()[_0x23c46c(0x270)](_0x428c0f=>{const _0x4bb8f7=_0x23c46c;this[_0x4bb8f7(0x844)][_0x4bb8f7(0x85b)](_0x428c0f,_0x5a3c47),this[_0x4bb8f7(0x844)][_0x4bb8f7(0x65e)](_0x5a3c47,_0x428c0f),_0x428c0f[_0x4bb8f7(0x770)]();}),this['systemTopicUnsubscribe']=this[_0x23c46c(0x4c5)]();}[_0x2e7de5(0x923)](_0x217a1a){const _0x40a355=_0x2e7de5;try{this[_0x40a355(0x24d)]['registerSource'](_0x217a1a);}catch(_0x452fe9){this[_0x40a355(0x620)](_0x452fe9,{});}}[_0x2e7de5(0x8a7)](_0x10414e){const _0x550041=_0x2e7de5;try{this[_0x550041(0x24d)]['unregisterSource'](_0x10414e);}catch(_0x408c27){this[_0x550041(0x620)](_0x408c27,{});}}[_0x2e7de5(0x19e)](_0xc14d97,_0x2d489b){const _0x54847c=_0x2e7de5;return this['connectionManager'][_0x54847c(0x19e)](_0xc14d97,_0x2d489b);}[_0x2e7de5(0x4d4)](_0x30d6cf){const _0x314178=_0x2e7de5;try{return this[_0x314178(0x280)][_0x314178(0x4d4)](_0x30d6cf);}catch(_0x18f06c){throw this[_0x314178(0x620)](_0x18f06c,{});}}[_0x2e7de5(0x842)](_0xf23aa7){const _0x46ebf8=_0x2e7de5;try{return this['connectionManager'][_0x46ebf8(0x842)](_0xf23aa7);}catch(_0xa7d3ad){throw this[_0x46ebf8(0x620)](_0xa7d3ad,{});}}['getRemoteMediaStream'](_0x2c33db,_0x5ba563){const _0x592e31=_0x2e7de5;try{return this[_0x592e31(0x3b1)][_0x592e31(0x871)](_0x2f10d9=>_0x2f10d9[_0x592e31(0x830)]()===_0x2c33db&&_0x2f10d9['getLabel']()===_0x5ba563)[0x0];}catch(_0x35f7a7){throw this['handleError'](_0x35f7a7,{});}}['getLocalMediaStream'](_0x1f2e5d){const _0x16600f=_0x2e7de5;try{return this[_0x16600f(0x3b1)][_0x16600f(0x7bf)](_0x309c0d=>_0x309c0d['getLabel']()===_0x1f2e5d)[0x0];}catch(_0x10db69){throw this['handleError'](_0x10db69,{});}}[_0x2e7de5(0x43b)]=(..._0x55ee31)=>{const _0x162cdd=_0x2e7de5;try{return this['clusterEventEmitter'][_0x162cdd(0x47a)](..._0x55ee31);}catch(_0x54af73){throw this[_0x162cdd(0x620)](_0x54af73,{});}};[_0x2e7de5(0x9ad)](_0x146455){const _0x16c75f=_0x2e7de5;try{this[_0x16c75f(0x366)][_0x16c75f(0x21b)](_0x146455);}catch(_0x359ca0){throw this[_0x16c75f(0x620)](_0x359ca0,{});}}[_0x2e7de5(0x72f)](_0x1b486d){const _0x1841a5=_0x2e7de5;try{this[_0x1841a5(0x366)][_0x1841a5(0x213)](_0x1b486d);}catch(_0x1a54a0){throw this['handleError'](_0x1a54a0,{});}}[_0x2e7de5(0xa6f)](_0x3562af){const _0x3a545d=_0x2e7de5;return this[_0x3a545d(0x280)][_0x3a545d(0xa6f)](_0x3562af);}async['initialize'](){const _0x41a844=_0x2e7de5;try{await this[_0x41a844(0x280)][_0x41a844(0x9cd)]();const _0x54d93c=await this[_0x41a844(0x74c)][_0x41a844(0x881)]();for(const _0x5f5d65 of _0x54d93c)this[_0x41a844(0x280)][_0x41a844(0x19e)](_0x5f5d65);}catch(_0x20906f){throw this[_0x41a844(0x620)](_0x20906f,{});}}[_0x2e7de5(0x7e4)](_0x29af9d){const _0x1ea7ca=_0x2e7de5;this['localNode'][_0x1ea7ca(0x926)]===_0x564b37[_0x1ea7ca(0x20b)][_0x1ea7ca(0xa5c)]&&(this[_0x1ea7ca(0x1cc)]['setEmail'](_0x29af9d[_0x1ea7ca(0x685)]()),this[_0x1ea7ca(0x1cc)][_0x1ea7ca(0x237)](_0x29af9d['getDisplayName']()));}[_0x2e7de5(0x6f0)]({force:_0x21e09c=!0x1},_0x592659=!0x1){const _0x4017c0=_0x2e7de5;if(_0x31c6d3[_0x4017c0(0x63b)](_0x4017c0(0x733),{'clusterId':this[_0x4017c0(0x966)],'nodeId':this[_0x4017c0(0x1cc)][_0x4017c0(0x2ab)](),'nodeType':this[_0x4017c0(0x1cc)][_0x4017c0(0x926)]}),!_0x21e09c&&this['connectionManager'][_0x4017c0(0x1d1)]())throw new _0x412649(_0xa32e41['ConnectionBufferNotEmpty'],_0x4017c0(0x8a3));_0x31c6d3['processBatch'](),this[_0x4017c0(0x4ef)](),this[_0x4017c0(0x1c0)][_0x4017c0(0x6f0)](),this['detectionManager']['close'](),this[_0x4017c0(0x366)]['close'](),this[_0x4017c0(0x844)][_0x4017c0(0x6f0)](),this[_0x4017c0(0x280)]['close'](),this[_0x4017c0(0x3b1)][_0x4017c0(0x6f0)](_0x592659),this['nodeManager'][_0x4017c0(0x6f0)]();}[_0x2e7de5(0x514)](_0x39ed66){const _0x3c15fa=_0x2e7de5;try{const _0x37c5cf=this['contentManager'][_0x3c15fa(0x5cb)](_0x39ed66),_0x109d17=this[_0x3c15fa(0x280)]['getConnectionGroup']();return this[_0x3c15fa(0x844)][_0x3c15fa(0x85b)](_0x37c5cf,_0x109d17),this[_0x3c15fa(0x844)]['createIncomingSubscription'](_0x109d17,_0x37c5cf),_0x37c5cf;}catch(_0x33d886){throw this[_0x3c15fa(0x620)](_0x33d886,{});}}async[_0x2e7de5(0x7cb)](_0x26e773,_0xe873d2){const _0x4ac3b0=_0x2e7de5;try{const _0xe80250=this['contentManager'][_0x4ac3b0(0x3e3)](_0x26e773,this[_0x4ac3b0(0x7e9)][_0x4ac3b0(0x2f6)],_0xe873d2),_0x5824ef=this['connectionManager'][_0x4ac3b0(0x84b)]();return this[_0x4ac3b0(0x844)][_0x4ac3b0(0x85b)](_0xe80250,_0x5824ef),this[_0x4ac3b0(0x844)][_0x4ac3b0(0x65e)](_0x5824ef,_0xe80250),await _0xe80250['sync'](),_0xe80250;}catch(_0x4a3a06){throw this[_0x4ac3b0(0x620)](_0x4a3a06,{});}}async['openExternalStorageConnection'](_0x278202,_0x755cc3){const _0x12fc8b=_0x2e7de5;try{if(!this[_0x12fc8b(0x7e9)]['externalStorageConnectors'])throw new _0x412649(_0xa32e41[_0x12fc8b(0x680)],_0x12fc8b(0x506));if(!(this['authNode']instanceof _0x31f903))throw new _0x412649(_0xa32e41[_0x12fc8b(0x902)],'Node\x20is\x20not\x20an\x20agent');const _0x10dfdd=this[_0x12fc8b(0x7e9)][_0x12fc8b(0x165)][_0x12fc8b(0x6ba)](_0x755cc3);if(!_0x10dfdd)throw new _0x412649(_0xa32e41['ExternalStorageConnectorsMissing'],_0x12fc8b(0x506));const _0xb19c79=this['contentManager'][_0x12fc8b(0x53e)](_0x278202,_0x10dfdd),_0x3c7586=this[_0x12fc8b(0x280)]['getConnectionGroup']();return this[_0x12fc8b(0x844)][_0x12fc8b(0x85b)](_0xb19c79,_0x3c7586),this['subscriptionManager']['createIncomingSubscription'](_0x3c7586,_0xb19c79),await _0xb19c79[_0x12fc8b(0x35d)](),_0xb19c79;}catch(_0x220932){throw this[_0x12fc8b(0x620)](_0x220932,{});}}async[_0x2e7de5(0x4a2)](_0x192763,_0x2c76a7,_0x8bf49b){const _0x26cc9f=_0x2e7de5;try{_0x8bf49b=_0x8bf49b||this['options'][_0x26cc9f(0x56a)];const _0x4df355=await this[_0x26cc9f(0x3b1)][_0x26cc9f(0x758)](_0x192763,_0x2c76a7,_0x8bf49b),_0x206987=this[_0x26cc9f(0x280)]['getConnectionGroup']();return this[_0x26cc9f(0x844)][_0x26cc9f(0x85b)](_0x4df355,_0x206987),this['subscriptionManager'][_0x26cc9f(0x65e)](_0x206987,_0x4df355),await _0x4df355[_0x26cc9f(0x35d)](),this[_0x26cc9f(0x729)](_0x4df355),_0x4df355;}catch(_0x17fb8c){throw this[_0x26cc9f(0x620)](_0x17fb8c,{});}}async[_0x2e7de5(0x433)](_0x52fa34){const _0xd636e8=_0x2e7de5;try{const _0x4daeee=await this[_0xd636e8(0x3b1)]['createJobDispatcher'](_0x52fa34,this[_0xd636e8(0x1c8)]),_0x4d0749=this['connectionManager']['getConnectionGroup']();return this[_0xd636e8(0x844)][_0xd636e8(0x85b)](_0x4daeee,_0x4d0749),this[_0xd636e8(0x844)][_0xd636e8(0x65e)](_0x4d0749,_0x4daeee),_0x4daeee[_0xd636e8(0x35d)](),_0x4daeee;}catch(_0x53663d){throw this['handleError'](_0x53663d,{});}}async[_0x2e7de5(0x5ed)](_0x53ae7c){const _0x20705e=_0x2e7de5;throw new Error(_0x20705e(0x703));}async[_0x2e7de5(0x580)](_0x16768d){const _0x255c19=_0x2e7de5;try{const _0x55e4a2=await this[_0x255c19(0x3b1)][_0x255c19(0x995)](_0x16768d,this[_0x255c19(0x1c8)]),_0x28d057=this[_0x255c19(0x280)][_0x255c19(0x84b)]();return this[_0x255c19(0x844)][_0x255c19(0x85b)](_0x55e4a2,_0x28d057),this[_0x255c19(0x844)][_0x255c19(0x65e)](_0x28d057,_0x55e4a2),_0x55e4a2['open'](),_0x55e4a2;}catch(_0x1a63fd){throw console[_0x255c19(0x972)](_0x1a63fd),this[_0x255c19(0x620)](_0x1a63fd,{});}}async[_0x2e7de5(0xa3d)](_0x9a99a9){const _0x28edaf=_0x2e7de5;try{if(!this[_0x28edaf(0x7e9)][_0x28edaf(0xa5e)]||!this[_0x28edaf(0x7e9)]['documentParserConnector']||!this[_0x28edaf(0x7e9)][_0x28edaf(0x9e9)])throw new _0x412649(_0xa32e41[_0x28edaf(0x1ca)],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x28edaf(0x326)]instanceof _0x31f903))throw new _0x412649(_0xa32e41['NodeInvalidType'],_0x28edaf(0x2ee));const _0x6e17b=[];for(const _0x4c8ec2 of this[_0x28edaf(0x7e9)]['generativeAIWorkerConnectors'])_0x6e17b[_0x28edaf(0x67b)](new _0x4c8ec2());const _0x2ab58b=new this[(_0x28edaf(0x7e9))]['documentParserConnector'](),_0x31bb1a=new this[(_0x28edaf(0x7e9))][(_0x28edaf(0x9e9))]();let _0x3e6425;this[_0x28edaf(0x7e9)]['searchConnector']&&(_0x3e6425=new this['options'][(_0x28edaf(0x2f0))]());const _0x24afd0=await this[_0x28edaf(0x3b1)][_0x28edaf(0x330)](_0x9a99a9,this[_0x28edaf(0x326)],_0x6e17b,_0x2ab58b,_0x31bb1a,_0x3e6425),_0x5954ed=this[_0x28edaf(0x280)][_0x28edaf(0x84b)]();this[_0x28edaf(0x844)][_0x28edaf(0x85b)](_0x24afd0,_0x5954ed),this['subscriptionManager'][_0x28edaf(0x65e)](_0x5954ed,_0x24afd0);const _0x1f55fb=this[_0x28edaf(0x74c)]['getAncestorIds']();return await _0x24afd0[_0x28edaf(0x35d)](0x0===_0x1f55fb[_0x28edaf(0x727)]||void 0x0),_0x24afd0;}catch(_0x112157){throw this[_0x28edaf(0x620)](_0x112157,{});}}[_0x2e7de5(0x8c7)](_0x269252){const _0x1e1f42=_0x2e7de5;try{if(!this[_0x1e1f42(0x7e9)]['graphDatabaseConnector'])throw new _0x412649(_0xa32e41[_0x1e1f42(0x7fc)],_0x1e1f42(0x7fe));if(!(this[_0x1e1f42(0x326)]instanceof _0x31f903))throw new _0x412649(_0xa32e41[_0x1e1f42(0x902)],_0x1e1f42(0x2ee));const _0x548dad=this['contentManager'][_0x1e1f42(0x595)](_0x269252,this[_0x1e1f42(0x7e9)]['graphDatabaseConnector']),_0x11e5f7=this[_0x1e1f42(0x280)][_0x1e1f42(0x84b)]();return this[_0x1e1f42(0x844)][_0x1e1f42(0x85b)](_0x548dad,_0x11e5f7),this['subscriptionManager'][_0x1e1f42(0x65e)](_0x11e5f7,_0x548dad),_0x548dad;}catch(_0x1a42d2){throw this[_0x1e1f42(0x620)](_0x1a42d2,{});}}[_0x2e7de5(0x1de)](_0x1c6c0e){const _0x40c7b6=_0x2e7de5;try{if(!this[_0x40c7b6(0x7e9)]['vectorDatabaseConnector'])throw new _0x412649(_0xa32e41['VectorDatabaseMissingConnector'],'Missing\x20vector\x20database\x20connector');if(!(this['authNode']instanceof _0x31f903))throw new _0x412649(_0xa32e41[_0x40c7b6(0x902)],_0x40c7b6(0x2ee));const _0x27b7b1=this[_0x40c7b6(0x3b1)][_0x40c7b6(0x69f)](_0x1c6c0e,this['options'][_0x40c7b6(0x42b)]),_0x3b9184=this['connectionManager'][_0x40c7b6(0x84b)]();return this['subscriptionManager'][_0x40c7b6(0x85b)](_0x27b7b1,_0x3b9184),this[_0x40c7b6(0x844)]['createIncomingSubscription'](_0x3b9184,_0x27b7b1),_0x27b7b1;}catch(_0x29c30e){throw this[_0x40c7b6(0x620)](_0x29c30e,{});}}[_0x2e7de5(0xa13)](_0x509c89){const _0xe27c33=_0x2e7de5;try{return this[_0xe27c33(0x3b1)]['getPubSubTopics'](_0x509c89);}catch(_0x38b6de){throw this[_0xe27c33(0x620)](_0x38b6de,{});}}[_0x2e7de5(0x816)](_0x3d1a59){const _0x50f485=_0x2e7de5;try{return this[_0x50f485(0x3b1)][_0x50f485(0x816)](_0x3d1a59);}catch(_0x449b97){throw this[_0x50f485(0x620)](_0x449b97,{});}}[_0x2e7de5(0x550)](_0x339359){const _0x54d4d2=_0x2e7de5;try{return this[_0x54d4d2(0x3b1)]['getExternalStorageConnections'](_0x339359);}catch(_0x37db6c){throw this['handleError'](_0x37db6c,{});}}[_0x2e7de5(0x673)](_0x316bce){const _0x321413=_0x2e7de5;try{return this[_0x321413(0x3b1)][_0x321413(0x673)](_0x316bce);}catch(_0x5cf255){throw this[_0x321413(0x620)](_0x5cf255,{});}}[_0x2e7de5(0x5c6)](_0x25199c){const _0x43ac40=_0x2e7de5;try{return this['contentManager'][_0x43ac40(0x5c6)](_0x25199c);}catch(_0xfd9d7b){throw this[_0x43ac40(0x620)](_0xfd9d7b,{});}}[_0x2e7de5(0xa7e)](_0x43ffac){const _0x5f0b82=_0x2e7de5;try{return this[_0x5f0b82(0x3b1)]['getGenerativeAIWorkers'](_0x43ffac);}catch(_0x1961db){throw this[_0x5f0b82(0x620)](_0x1961db,{});}}[_0x2e7de5(0x5ff)](_0x249ec4){const _0x1db47b=_0x2e7de5;try{return this[_0x1db47b(0x3b1)]['getGraphDatabases'](_0x249ec4);}catch(_0xab599b){throw this[_0x1db47b(0x620)](_0xab599b,{});}}[_0x2e7de5(0x558)](_0x2997ee,_0x196cdc){const _0x12ea4f=_0x2e7de5;if(!this[_0x12ea4f(0x562)]['features'][_0x12ea4f(0xa49)](_0x29441a[_0x12ea4f(0x739)]))throw new _0x412649(_0xa32e41[_0x12ea4f(0x596)],_0x12ea4f(0x747));try{return this['contentManager'][_0x12ea4f(0x558)](_0x2997ee,_0x196cdc);}catch(_0xf6d5f9){throw this[_0x12ea4f(0x620)](_0xf6d5f9,{});}}[_0x2e7de5(0x5e5)](_0x114cf6,_0x35a4c0){const _0x3d7912=_0x2e7de5;if(!this[_0x3d7912(0x562)][_0x3d7912(0x4d7)]['includes'](_0x29441a[_0x3d7912(0x739)]))throw new _0x412649(_0xa32e41[_0x3d7912(0x596)],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x3d7912(0x5e5)](_0x114cf6,_0x35a4c0);}catch(_0x4700a3){throw this[_0x3d7912(0x620)](_0x4700a3,{});}}[_0x2e7de5(0x7bf)](_0x5006c1){const _0x4b6044=_0x2e7de5;if(!this[_0x4b6044(0x562)][_0x4b6044(0x4d7)][_0x4b6044(0xa49)](_0x29441a[_0x4b6044(0x739)]))throw new _0x412649(_0xa32e41[_0x4b6044(0x596)],_0x4b6044(0x747));try{return this['contentManager'][_0x4b6044(0x7bf)](_0x5006c1);}catch(_0x5f356e){throw this[_0x4b6044(0x620)](_0x5f356e,{});}}[_0x2e7de5(0x871)](_0x1042bd){const _0x48e6ac=_0x2e7de5;if(!this['configs'][_0x48e6ac(0x4d7)]['includes'](_0x29441a[_0x48e6ac(0x739)]))throw new _0x412649(_0xa32e41[_0x48e6ac(0x596)],_0x48e6ac(0x747));try{return this['contentManager'][_0x48e6ac(0x871)](_0x1042bd);}catch(_0x5aefc7){throw this[_0x48e6ac(0x620)](_0x5aefc7,{});}}[_0x2e7de5(0xa66)](_0x1dab3a){const _0x346ee3=_0x2e7de5;try{return this[_0x346ee3(0x3b1)][_0x346ee3(0xa66)](_0x1dab3a);}catch(_0x448422){throw this[_0x346ee3(0x620)](_0x448422,{});}}[_0x2e7de5(0x378)](_0x4f5f0c,_0x1c0635){const _0x5eab3f=_0x2e7de5;return this[_0x5eab3f(0x74c)]['getDistance'](_0x4f5f0c,_0x1c0635);}[_0x2e7de5(0x5c7)](){const _0x245ec7=_0x2e7de5;return this[_0x245ec7(0x74c)][_0x245ec7(0x5c7)]();}[_0x2e7de5(0x293)](_0xf735bc){const _0xe67224=_0x2e7de5;try{return this[_0xe67224(0x74c)][_0xe67224(0x293)](_0xf735bc);}catch(_0x126c07){throw this[_0xe67224(0x620)](_0x126c07,{});}}[_0x2e7de5(0x301)](){const _0x320206=_0x2e7de5;return this[_0x320206(0x280)]['waitForArrayBufferSize']();}[_0x2e7de5(0xa84)](_0x82b711){const _0x314979=_0x2e7de5;return this[_0x314979(0x74c)][_0x314979(0xa84)](_0x82b711);}async['handleSystemEvents'](_0x37e0be){const _0x429473=_0x2e7de5;try{if(_0x31c6d3[_0x429473(0x65c)](_0x2387f2[_0x429473(0x792)],_0x429473(0x543),this[_0x429473(0x74c)][_0x429473(0x250)](),_0x37e0be),_0x16cbf2(_0x37e0be,this[_0x429473(0x74c)][_0x429473(0x250)]()))return void this[_0x429473(0x280)][_0x429473(0x8a9)](_0x37e0be);switch(_0x37e0be['messageType']){case _0x31418b['Content']:this[_0x429473(0x366)][_0x429473(0x6aa)](_0x37e0be),this[_0x429473(0x844)]['handleContentSystemEvents'](_0x37e0be),this[_0x429473(0x3b1)][_0x429473(0x6aa)](_0x37e0be);break;case _0x31418b['Node']:this[_0x429473(0x844)][_0x429473(0x479)](_0x37e0be),this[_0x429473(0x280)][_0x429473(0x479)](_0x37e0be),this[_0x429473(0x3b1)][_0x429473(0x479)](_0x37e0be),this['nodeManager']['handleNodeSystemEvents'](_0x37e0be);break;case _0x31418b[_0x429473(0x4d8)]:this[_0x429473(0x1c0)][_0x429473(0x38c)](_0x37e0be);break;case _0x31418b[_0x429473(0x16f)]:this['remediationManager'][_0x429473(0x644)](_0x37e0be);break;case _0x31418b[_0x429473(0x503)]:this[_0x429473(0xa1f)][_0x429473(0x76d)](_0x37e0be);break;case _0x31418b[_0x429473(0x704)]:_0x37e0be[_0x429473(0x1da)]['type']!==_0x27cc25[_0x429473(0x3a5)]?(this['subscriptionManager'][_0x429473(0xa86)](_0x37e0be),this[_0x429473(0x3b1)]['handleSubscriptionSystemEvents'](_0x37e0be)):(this[_0x429473(0x3b1)][_0x429473(0xa86)](_0x37e0be),this['subscriptionManager'][_0x429473(0xa86)](_0x37e0be));break;case _0x31418b[_0x429473(0x99f)]:await this[_0x429473(0x280)][_0x429473(0x6f5)](_0x37e0be),this[_0x429473(0x366)]['handlePeerConnectionSystemEvents'](_0x37e0be),this['nodeManager'][_0x429473(0x6f5)](_0x37e0be),this['subscriptionManager'][_0x429473(0x6f5)](_0x37e0be);}}catch(_0x4709b0){throw _0x31c6d3[_0x429473(0xa29)]('handleSystemEvents',_0x4709b0),this[_0x429473(0x620)](_0x4709b0,{});}}[_0x2e7de5(0x620)](_0x187da9,_0x139cf8){const _0x54b696=_0x2e7de5;if(!(_0x187da9 instanceof _0x4d789b)){if(_0x187da9 instanceof _0x412649)throw _0x187da9;if(!(_0x187da9 instanceof Error))throw new _0x412649(_0xa32e41['InternalSDKError'],_0x54b696(0x351)+_0x187da9);if(!(_0x187da9 instanceof _0x26bf2d))throw new _0x412649(_0xa32e41[_0x54b696(0x2b4)],'Internal\x20error:\x20'+_0x187da9[_0x54b696(0x4b2)]);switch(_0x187da9[_0x54b696(0x7ba)]){case _0x26bf2d['codes'][_0x54b696(0x1cd)]:case _0x26bf2d[_0x54b696(0x269)][_0x54b696(0x7b0)]:case _0x26bf2d['codes'][_0x54b696(0x95e)]:case _0x26bf2d[_0x54b696(0x269)][_0x54b696(0x803)]:case _0x26bf2d['codes'][_0x54b696(0x5bd)]:case _0x26bf2d['codes'][_0x54b696(0x350)]:case _0x26bf2d['codes'][_0x54b696(0x334)]:case _0x26bf2d[_0x54b696(0x269)][_0x54b696(0x1e2)]:case _0x26bf2d['codes'][_0x54b696(0x4bf)]:case _0x26bf2d['codes'][_0x54b696(0x47c)]:case _0x26bf2d['codes'][_0x54b696(0x221)]:case _0x26bf2d[_0x54b696(0x269)][_0x54b696(0x74e)]:}throw _0x31c6d3[_0x54b696(0x972)]('sdk-internal-error:\x20'+_0x187da9['message'],{'clusterId':this[_0x54b696(0x966)],'nodeId':this['localNode'][_0x54b696(0x2ab)](),'nodeType':this[_0x54b696(0x1cc)][_0x54b696(0x926)]},_0x187da9),new _0x412649(_0xa32e41['InternalSDKError'],_0x54b696(0x398)+_0x187da9[_0x54b696(0x4b2)]);}}[_0x2e7de5(0xa80)](){const _0x5e8376=_0x2e7de5;return{'mediator':this,'vendorId':this[_0x5e8376(0x9a1)],'clusterId':this[_0x5e8376(0x966)],'localNode':this[_0x5e8376(0x1cc)]};}['initializeSystemTopic'](){const _0x4dccca=_0x2e7de5;return this[_0x4dccca(0x24d)][_0x4dccca(0x683)](_0x1e5775=>{const _0x3d7a82=_0x4dccca,_0x1886e0=_0x4b5277(_0x1e5775,this[_0x3d7a82(0x1cc)][_0x3d7a82(0x2ab)]()),_0x5aa86b=_0x1e5775['messageType']===_0x31418b[_0x3d7a82(0x503)]||_0x1e5775[_0x3d7a82(0x853)]===_0x31418b[_0x3d7a82(0x99f)]&&_0x1e5775['content'][_0x3d7a82(0x926)]===_0x30b2f6[_0x3d7a82(0x503)]?_0x2387f2[_0x3d7a82(0x263)]:_0x2387f2[_0x3d7a82(0x431)];_0x31c6d3[_0x3d7a82(0x4b3)](_0x5aa86b,_0x1e5775['uuid']+_0x3d7a82(0xa1e)+_0x1886e0,_0x1e5775),this[_0x3d7a82(0x1e1)](_0x1e5775)[_0x3d7a82(0x268)](_0x1fef23=>{const _0xc7f9b=_0x3d7a82;console[_0xc7f9b(0x972)](_0x1fef23);});});}async['syncKeyValueDatabase'](_0x1e8a0d){const _0x3c71e9=_0x2e7de5,{timingLogger:_0x527523,logger:_0x1a2804,logBeforeSync:_0x8ae96f,logAfterSync:_0x25e7e8}=function(_0x43383a,_0x5876cf){const _0x231e5a=a0_0x4258;if(!_0x31c6d3[_0x231e5a(0x7f7)](_0x5876cf))return _0x31c6d3['debug']('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x5876cf),{..._0x1c144a(_0x43383a,_0x5876cf),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x1de966,logger:_0x3adc6c}=_0x1c144a(_0x43383a,_0x5876cf);let _0x329463=0x0;return _0x329463=Date[_0x231e5a(0x974)](),{'syncStartTime':_0x329463,'timingLogger':_0x1de966,'logger':_0x3adc6c,'logBeforeSync':()=>(_0x2c1f62(_0x5876cf,'Before\x20Synchronization'),_0x1de966['now']()),'logAfterSync':(_0x19984f,_0x21126b)=>{const _0x1aca47=_0x231e5a,_0xd925f3=Date[_0x1aca47(0x974)]();_0x2c1f62(_0x5876cf,_0x1aca47(0x4c6)+_0x21126b);const _0x2f7294=(_0xd925f3-_0x329463)/0x3e8,_0x815d45=(_0xd925f3-_0x19984f)/0x3e8;_0x31c6d3[_0x1aca47(0x65c)](_0x5876cf,_0x1aca47(0x3d4),_0x43383a,_0x1aca47(0x88b)+_0x2f7294[_0x1aca47(0x6b1)](0x2)+_0x1aca47(0x9f5),_0x1aca47(0x38d)+_0x815d45['toFixed'](0x3)+_0x1aca47(0x9f5),_0x1aca47(0x622)+((_0xd925f3-_0x329463)/0x3e8-_0x815d45)[_0x1aca47(0x6b1)](0x2)+_0x1aca47(0x9f5));}};}(_0x1e8a0d[_0x3c71e9(0x5d7)](),_0x2387f2[_0x3c71e9(0xa2b)]);_0x1a2804[_0x3c71e9(0x65c)](_0x3c71e9(0x297));const _0x5365d7=this[_0x3c71e9(0x74c)][_0x3c71e9(0x79a)]()['length']>0x0;if(_0x5365d7){_0x1a2804[_0x3c71e9(0x65c)](_0x3c71e9(0x477),()=>this[_0x3c71e9(0x74c)][_0x3c71e9(0x79a)]()),_0x527523['start'](),await Promise[_0x3c71e9(0x286)](this[_0x3c71e9(0x74c)]['getAncestorIds']()[_0x3c71e9(0x28b)](async _0x410cc7=>await this[_0x3c71e9(0x74c)][_0x3c71e9(0xa84)](_0x410cc7)))[_0x3c71e9(0x268)](_0x4971f2=>_0x31c6d3[_0x3c71e9(0x63b)](_0x3c71e9(0x384),{'nodeId':this[_0x3c71e9(0x1cc)][_0x3c71e9(0x2ab)](),'nodeType':this[_0x3c71e9(0x1cc)][_0x3c71e9(0x926)]}));const _0x1e443a=_0x1a2804[_0x3c71e9(0x3ad)](()=>this[_0x3c71e9(0x74c)][_0x3c71e9(0x79a)](),[]);_0x527523[_0x3c71e9(0xa5b)](_0x3c71e9(0x9f0)+_0x1e443a+_0x3c71e9(0x8e3));}_0x25e7e8(_0x8ae96f(),await _0x1e8a0d[_0x3c71e9(0x45b)](_0x5365d7,async()=>{const _0x8dc721=_0x3c71e9;_0x527523[_0x8dc721(0x640)](),await this[_0x8dc721(0x74c)][_0x8dc721(0x6cc)](),_0x527523[_0x8dc721(0xa5b)](_0x8dc721(0x359)),_0x1e8a0d[_0x8dc721(0x45b)](!0x0,()=>{const _0x417da9=_0x8dc721;_0x1a2804[_0x417da9(0x65c)]('KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.'),_0x1e8a0d[_0x417da9(0x45b)](!0x1);},!0x0);}));}}class _0x13c7c6{[_0x2e7de5(0x9a1)];['clusterId'];[_0x2e7de5(0x326)];['eventEmitter'];[_0x2e7de5(0x799)];constructor(_0x16c715,_0x2d291d,_0x52374e,_0x31ac87,_0x43920f,_0x2e590a,_0x5d7021=new _0x531802()){const _0x246a09=_0x2e7de5;this[_0x246a09(0x9a1)]=_0x16c715,this[_0x246a09(0x966)]=_0x2d291d,this['authNode']=_0x52374e,this[_0x246a09(0x37c)]=_0x5d7021,this[_0x246a09(0x799)]=new _0x2d4ffb(this[_0x246a09(0x9a1)],this['clusterId'],_0x52374e,_0x31ac87,_0x43920f,_0x2e590a,this);}async[_0x2e7de5(0x396)](){const _0x351282=_0x2e7de5;await this['orchestrator'][_0x351282(0x9cd)](),this[_0x351282(0x326)][_0x351282(0x926)]===_0x564b37['NodeType'][_0x351282(0xa5c)]&&this['authNode'][_0x351282(0x1bd)](this['clusterId'],_0x4d64ed=>{const _0x5bd38b=_0x351282;this[_0x5bd38b(0x799)][_0x5bd38b(0x7e4)](_0x4d64ed);});}[_0x2e7de5(0x60c)](_0x228451={}){const _0x5b65ba=_0x2e7de5;this[_0x5b65ba(0x799)][_0x5b65ba(0x6f0)](_0x228451),this[_0x5b65ba(0x326)][_0x5b65ba(0x926)]===_0x564b37[_0x5b65ba(0x20b)]['User']&&this[_0x5b65ba(0x326)][_0x5b65ba(0x9e7)](this[_0x5b65ba(0x966)]),this[_0x5b65ba(0x47a)](_0x5b65ba(0x66e),void 0x0);}[_0x2e7de5(0x514)](_0x3c2a94){const _0x589135=_0x2e7de5,_0xdddaa=this[_0x589135(0x799)][_0x589135(0x514)](_0x3c2a94);return{'getName':_0xdddaa[_0x589135(0x5f9)]['bind'](_0xdddaa),'getOwnerId':_0xdddaa[_0x589135(0x830)]['bind'](_0xdddaa),'getContentType':_0xdddaa[_0x589135(0x924)][_0x589135(0x32d)](_0xdddaa),'publish':_0xdddaa[_0x589135(0x4df)][_0x589135(0x32d)](_0xdddaa),'subscribe':_0xdddaa[_0x589135(0x683)]['bind'](_0xdddaa),'unsubscribe':_0xdddaa[_0x589135(0x615)][_0x589135(0x32d)](_0xdddaa),'close':_0xdddaa[_0x589135(0x6f0)][_0x589135(0x32d)](_0xdddaa)};}async['openObjectStoreBucket'](_0x43b386,_0xa2c3f3){const _0x3cac18=_0x2e7de5,_0x53dcbf=await this[_0x3cac18(0x799)][_0x3cac18(0x7cb)](_0x43b386,_0xa2c3f3);return{'getName':_0x53dcbf['getName'][_0x3cac18(0x32d)](_0x53dcbf),'getOwnerId':_0x53dcbf[_0x3cac18(0x830)][_0x3cac18(0x32d)](_0x53dcbf),'getContentType':_0x53dcbf[_0x3cac18(0x924)][_0x3cac18(0x32d)](_0x53dcbf),'publish':_0x53dcbf[_0x3cac18(0x4df)][_0x3cac18(0x32d)](_0x53dcbf),'unpublish':_0x53dcbf[_0x3cac18(0x89a)]['bind'](_0x53dcbf),'get':_0x53dcbf[_0x3cac18(0x6ba)][_0x3cac18(0x32d)](_0x53dcbf),'list':_0x53dcbf[_0x3cac18(0x81b)][_0x3cac18(0x32d)](_0x53dcbf),'getSize':_0x53dcbf['getSize']['bind'](_0x53dcbf),'subscribe':_0x53dcbf[_0x3cac18(0x683)][_0x3cac18(0x32d)](_0x53dcbf),'unsubscribe':_0x53dcbf[_0x3cac18(0x615)][_0x3cac18(0x32d)](_0x53dcbf),'close':_0x53dcbf['close'][_0x3cac18(0x32d)](_0x53dcbf)};}async[_0x2e7de5(0x8b8)](_0x4de45b,_0x1a8c05){const _0xaf6b65=_0x2e7de5,_0x391eb3=await this['orchestrator'][_0xaf6b65(0x8b8)](_0x4de45b,_0x1a8c05);return{'getName':_0x391eb3[_0xaf6b65(0x5f9)][_0xaf6b65(0x32d)](_0x391eb3),'getOwnerId':_0x391eb3[_0xaf6b65(0x830)][_0xaf6b65(0x32d)](_0x391eb3),'getContentType':_0x391eb3[_0xaf6b65(0x924)][_0xaf6b65(0x32d)](_0x391eb3),'close':_0x391eb3[_0xaf6b65(0x6f0)][_0xaf6b65(0x32d)](_0x391eb3),'get':_0x391eb3[_0xaf6b65(0x6ba)][_0xaf6b65(0x32d)](_0x391eb3),'list':_0x391eb3['list']['bind'](_0x391eb3),'subscribe':_0x391eb3['subscribe'][_0xaf6b65(0x32d)](_0x391eb3),'unsubscribe':_0x391eb3[_0xaf6b65(0x615)]['bind'](_0x391eb3)};}async[_0x2e7de5(0x4a2)](_0x32e498,_0x24261f,_0x5369a2){const _0x46e8c2=_0x2e7de5,_0x1b346e=await this[_0x46e8c2(0x799)][_0x46e8c2(0x4a2)](_0x32e498,_0x24261f,_0x5369a2);return{'getName':_0x1b346e['getName']['bind'](_0x1b346e),'getOwnerId':_0x1b346e[_0x46e8c2(0x830)][_0x46e8c2(0x32d)](_0x1b346e),'getContentType':_0x1b346e[_0x46e8c2(0x924)][_0x46e8c2(0x32d)](_0x1b346e),'getTable':_0x1b346e['getTable'][_0x46e8c2(0x32d)](_0x1b346e),'subscribe':_0x1b346e[_0x46e8c2(0x683)][_0x46e8c2(0x32d)](_0x1b346e),'unsubscribe':_0x1b346e[_0x46e8c2(0x615)][_0x46e8c2(0x32d)](_0x1b346e),'close':_0x1b346e[_0x46e8c2(0x6f0)]['bind'](_0x1b346e)};}async['openJobDispatcher'](_0x2edb96){const _0x24e937=_0x2e7de5,_0x126bd6=await this['orchestrator'][_0x24e937(0x433)](_0x2edb96);return{'getName':_0x126bd6[_0x24e937(0x5f9)][_0x24e937(0x32d)](_0x126bd6),'getOwnerId':_0x126bd6['getOwnerId'][_0x24e937(0x32d)](_0x126bd6),'getContentType':_0x126bd6[_0x24e937(0x924)][_0x24e937(0x32d)](_0x126bd6),'createJob':_0x126bd6[_0x24e937(0x1e4)][_0x24e937(0x32d)](_0x126bd6),'getJob':_0x126bd6['getJob'][_0x24e937(0x32d)](_0x126bd6),'getJobs':_0x126bd6[_0x24e937(0x5ac)][_0x24e937(0x32d)](_0x126bd6),'close':_0x126bd6[_0x24e937(0x6f0)]['bind'](_0x126bd6)};}async[_0x2e7de5(0x5ed)](_0x2244af){const _0x4b1165=await this['orchestrator']['openJobWorker'](_0x2244af);return{'close':_0x4b1165['close']['bind'](_0x4b1165)};}async[_0x2e7de5(0x580)](_0x5f2993){const _0x1edfbc=_0x2e7de5,_0x2c9078=await this[_0x1edfbc(0x799)][_0x1edfbc(0x580)](_0x5f2993);return{'createAIJob':_0x2c9078[_0x1edfbc(0x864)][_0x1edfbc(0x32d)](_0x2c9078),'ratePrompt':_0x2c9078['ratePrompt'][_0x1edfbc(0x32d)](_0x2c9078),'downloadDocument':_0x2c9078[_0x1edfbc(0x4b0)]['bind'](_0x2c9078),'getDataBucketIds':_0x2c9078[_0x1edfbc(0x546)][_0x1edfbc(0x32d)](_0x2c9078),'close':_0x2c9078['close'][_0x1edfbc(0x32d)](_0x2c9078)};}async[_0x2e7de5(0xa3d)](_0x367a05){const _0x26f4db=_0x2e7de5,_0x305592=await this[_0x26f4db(0x799)][_0x26f4db(0xa3d)](_0x367a05);return{'close':_0x305592[_0x26f4db(0x6f0)][_0x26f4db(0x32d)](_0x305592)};}['openGraphDatabase'](_0x57e725){const _0xeb701b=_0x2e7de5,_0x3cbd2b=this[_0xeb701b(0x799)][_0xeb701b(0x8c7)](_0x57e725);return{'getName':_0x3cbd2b[_0xeb701b(0x5f9)][_0xeb701b(0x32d)](_0x3cbd2b),'getOwnerId':_0x3cbd2b['getOwnerId'][_0xeb701b(0x32d)](_0x3cbd2b),'getContentType':_0x3cbd2b[_0xeb701b(0x924)][_0xeb701b(0x32d)](_0x3cbd2b),'addNode':_0x3cbd2b[_0xeb701b(0x370)]['bind'](_0x3cbd2b),'addEdge':_0x3cbd2b[_0xeb701b(0x220)][_0xeb701b(0x32d)](_0x3cbd2b),'getContent':_0x3cbd2b[_0xeb701b(0x170)][_0xeb701b(0x32d)](_0x3cbd2b),'remove':_0x3cbd2b[_0xeb701b(0x2b2)][_0xeb701b(0x32d)](_0x3cbd2b),'saveToDisk':_0x3cbd2b[_0xeb701b(0x3cc)][_0xeb701b(0x32d)](_0x3cbd2b),'loadFromDisk':_0x3cbd2b[_0xeb701b(0x1f1)][_0xeb701b(0x32d)](_0x3cbd2b),'close':_0x3cbd2b[_0xeb701b(0x6f0)][_0xeb701b(0x32d)](_0x3cbd2b)};}['openVectorDatabase'](_0x1b6814){const _0xf8478e=_0x2e7de5,_0x4b56f1=this['orchestrator'][_0xf8478e(0x1de)](_0x1b6814);return{'getName':_0x4b56f1[_0xf8478e(0x5f9)][_0xf8478e(0x32d)](_0x4b56f1),'getOwnerId':_0x4b56f1[_0xf8478e(0x830)][_0xf8478e(0x32d)](_0x4b56f1),'getContentType':_0x4b56f1['getContentType'][_0xf8478e(0x32d)](_0x4b56f1),'search':_0x4b56f1[_0xf8478e(0x8c8)]['bind'](_0x4b56f1),'insert':_0x4b56f1['insert'][_0xf8478e(0x32d)](_0x4b56f1),'remove':_0x4b56f1[_0xf8478e(0x2b2)][_0xf8478e(0x32d)](_0x4b56f1),'saveToDisk':_0x4b56f1['saveToDisk'][_0xf8478e(0x32d)](_0x4b56f1),'loadFromDisk':_0x4b56f1[_0xf8478e(0x1f1)][_0xf8478e(0x32d)](_0x4b56f1),'close':_0x4b56f1['close'][_0xf8478e(0x32d)](_0x4b56f1)};}['getPubSubTopics'](_0x47bb71){const _0xe0184d=_0x2e7de5;return this['orchestrator'][_0xe0184d(0xa13)](_0x47bb71)[_0xe0184d(0x28b)](_0x36d4a0=>({'getName':_0x36d4a0[_0xe0184d(0x5f9)][_0xe0184d(0x32d)](_0x36d4a0),'getOwnerId':_0x36d4a0[_0xe0184d(0x830)][_0xe0184d(0x32d)](_0x36d4a0),'getContentType':_0x36d4a0['getContentType'][_0xe0184d(0x32d)](_0x36d4a0),'publish':_0x36d4a0[_0xe0184d(0x4df)][_0xe0184d(0x32d)](_0x36d4a0),'subscribe':_0x36d4a0[_0xe0184d(0x683)]['bind'](_0x36d4a0),'unsubscribe':_0x36d4a0[_0xe0184d(0x615)][_0xe0184d(0x32d)](_0x36d4a0),'close':_0x36d4a0[_0xe0184d(0x6f0)][_0xe0184d(0x32d)](_0x36d4a0)}));}[_0x2e7de5(0x816)](_0x50f1cb){const _0x59abff=_0x2e7de5;return this[_0x59abff(0x799)]['getObjectStoreBuckets'](_0x50f1cb)[_0x59abff(0x28b)](_0x146b03=>({'getName':_0x146b03[_0x59abff(0x5f9)]['bind'](_0x146b03),'getOwnerId':_0x146b03[_0x59abff(0x830)][_0x59abff(0x32d)](_0x146b03),'getContentType':_0x146b03[_0x59abff(0x924)][_0x59abff(0x32d)](_0x146b03),'publish':_0x146b03[_0x59abff(0x4df)]['bind'](_0x146b03),'unpublish':_0x146b03[_0x59abff(0x89a)][_0x59abff(0x32d)](_0x146b03),'get':_0x146b03[_0x59abff(0x6ba)][_0x59abff(0x32d)](_0x146b03),'list':_0x146b03[_0x59abff(0x81b)][_0x59abff(0x32d)](_0x146b03),'getSize':_0x146b03[_0x59abff(0x92f)][_0x59abff(0x32d)](_0x146b03),'subscribe':_0x146b03[_0x59abff(0x683)][_0x59abff(0x32d)](_0x146b03),'unsubscribe':_0x146b03['unsubscribe'][_0x59abff(0x32d)](_0x146b03),'close':_0x146b03['close'][_0x59abff(0x32d)](_0x146b03)}));}[_0x2e7de5(0x550)](_0x2e1bba){const _0xf94c8d=_0x2e7de5;return this[_0xf94c8d(0x799)][_0xf94c8d(0x550)](_0x2e1bba)[_0xf94c8d(0x28b)](_0x2223d6=>({'getName':_0x2223d6[_0xf94c8d(0x5f9)][_0xf94c8d(0x32d)](_0x2223d6),'getOwnerId':_0x2223d6[_0xf94c8d(0x830)][_0xf94c8d(0x32d)](_0x2223d6),'getContentType':_0x2223d6[_0xf94c8d(0x924)][_0xf94c8d(0x32d)](_0x2223d6),'close':_0x2223d6[_0xf94c8d(0x6f0)][_0xf94c8d(0x32d)](_0x2223d6),'get':_0x2223d6['get'][_0xf94c8d(0x32d)](_0x2223d6),'list':_0x2223d6['list'][_0xf94c8d(0x32d)](_0x2223d6),'subscribe':_0x2223d6[_0xf94c8d(0x683)]['bind'](_0x2223d6),'unsubscribe':_0x2223d6[_0xf94c8d(0x615)]['bind'](_0x2223d6)}));}[_0x2e7de5(0x673)](_0x314bfa){const _0x700a2c=_0x2e7de5;return this[_0x700a2c(0x799)]['getKeyValueDatabases'](_0x314bfa)[_0x700a2c(0x28b)](_0x49bc3c=>({'getName':_0x49bc3c[_0x700a2c(0x5f9)][_0x700a2c(0x32d)](_0x49bc3c),'getOwnerId':_0x49bc3c['getOwnerId'][_0x700a2c(0x32d)](_0x49bc3c),'getContentType':_0x49bc3c[_0x700a2c(0x924)][_0x700a2c(0x32d)](_0x49bc3c),'getTable':_0x49bc3c[_0x700a2c(0x3a7)]['bind'](_0x49bc3c),'subscribe':_0x49bc3c[_0x700a2c(0x683)][_0x700a2c(0x32d)](_0x49bc3c),'unsubscribe':_0x49bc3c['unsubscribe'][_0x700a2c(0x32d)](_0x49bc3c),'close':_0x49bc3c[_0x700a2c(0x6f0)][_0x700a2c(0x32d)](_0x49bc3c)}));}['getGenerativeAIContexts'](_0x147c79){const _0x4fa3ff=_0x2e7de5;return this[_0x4fa3ff(0x799)][_0x4fa3ff(0x5c6)](_0x147c79)[_0x4fa3ff(0x28b)](_0x32a153=>({'createAIJob':_0x32a153['createAIJob']['bind'](_0x32a153),'ratePrompt':_0x32a153[_0x4fa3ff(0x486)][_0x4fa3ff(0x32d)](_0x32a153),'downloadDocument':_0x32a153[_0x4fa3ff(0x4b0)][_0x4fa3ff(0x32d)](_0x32a153),'getDataBucketIds':_0x32a153[_0x4fa3ff(0x546)][_0x4fa3ff(0x32d)](_0x32a153),'close':_0x32a153[_0x4fa3ff(0x6f0)]['bind'](_0x32a153)}));}[_0x2e7de5(0xa7e)](_0x17cb98){const _0x3309aa=_0x2e7de5;return this['orchestrator'][_0x3309aa(0xa7e)](_0x17cb98)['map'](_0x2cb8da=>({'close':_0x2cb8da[_0x3309aa(0x6f0)]['bind'](_0x2cb8da)}));}[_0x2e7de5(0x751)](_0xb8ee59,_0x28d270){const _0x3a4794=_0x2e7de5,_0x549f44=this['orchestrator'][_0x3a4794(0x558)](_0xb8ee59,_0x28d270);return{'getLabel':_0x549f44[_0x3a4794(0x5d7)][_0x3a4794(0x32d)](_0x549f44),'getOwnerId':_0x549f44[_0x3a4794(0x830)][_0x3a4794(0x32d)](_0x549f44),'getContentType':_0x549f44[_0x3a4794(0x924)]['bind'](_0x549f44),'getMediaStream':_0x549f44[_0x3a4794(0x32a)]['bind'](_0x549f44),'setPriority':_0x549f44['setPriority'][_0x3a4794(0x32d)](_0x549f44),'unpublish':_0x549f44['unpublish'][_0x3a4794(0x32d)](_0x549f44)};}[_0x2e7de5(0x609)](_0x105731,_0x5197ac){const _0x390039=_0x2e7de5,_0x1850b5=this[_0x390039(0x799)][_0x390039(0x5e5)](_0x105731,_0x5197ac);return{'getLabel':_0x1850b5[_0x390039(0x5d7)][_0x390039(0x32d)](_0x1850b5),'getOwnerId':_0x1850b5[_0x390039(0x830)][_0x390039(0x32d)](_0x1850b5),'getContentType':_0x1850b5[_0x390039(0x924)][_0x390039(0x32d)](_0x1850b5),'setPriority':_0x1850b5[_0x390039(0x549)][_0x390039(0x32d)](_0x1850b5),'unpublish':_0x1850b5[_0x390039(0x89a)][_0x390039(0x32d)](_0x1850b5),'getMediaStream':_0x1850b5[_0x390039(0x32a)][_0x390039(0x32d)](_0x1850b5),'addTrack':_0x1850b5[_0x390039(0x835)][_0x390039(0x32d)](_0x1850b5),'removeTrack':_0x1850b5[_0x390039(0x743)][_0x390039(0x32d)](_0x1850b5),'replaceTrack':_0x1850b5['replaceTrack']['bind'](_0x1850b5),'setTransformations':_0x1850b5[_0x390039(0xa02)][_0x390039(0x32d)](_0x1850b5)};}[_0x2e7de5(0x7bf)](_0x394fec){const _0x28fba8=_0x2e7de5;return this['orchestrator']['getLocalMediaStreams'](_0x394fec)[_0x28fba8(0x28b)](_0x5f3180=>({'getLabel':_0x5f3180[_0x28fba8(0x5d7)][_0x28fba8(0x32d)](_0x5f3180),'getOwnerId':_0x5f3180[_0x28fba8(0x830)][_0x28fba8(0x32d)](_0x5f3180),'getContentType':_0x5f3180[_0x28fba8(0x924)][_0x28fba8(0x32d)](_0x5f3180),'getMediaStream':_0x5f3180[_0x28fba8(0x32a)]['bind'](_0x5f3180),'setPriority':_0x5f3180[_0x28fba8(0x549)][_0x28fba8(0x32d)](_0x5f3180),'unpublish':_0x5f3180['unpublish'][_0x28fba8(0x32d)](_0x5f3180)}));}[_0x2e7de5(0x871)](_0x4b52e8){const _0x3973a9=_0x2e7de5;return this[_0x3973a9(0x799)][_0x3973a9(0x871)](_0x4b52e8)[_0x3973a9(0x28b)](_0x19a3d1=>({'getLabel':_0x19a3d1[_0x3973a9(0x5d7)][_0x3973a9(0x32d)](_0x19a3d1),'getOwnerId':_0x19a3d1[_0x3973a9(0x830)]['bind'](_0x19a3d1),'getContentType':_0x19a3d1['getContentType']['bind'](_0x19a3d1),'getMediaStream':_0x19a3d1[_0x3973a9(0x32a)][_0x3973a9(0x32d)](_0x19a3d1),'subscribe':_0x19a3d1[_0x3973a9(0x683)][_0x3973a9(0x32d)](_0x19a3d1),'unsubscribe':_0x19a3d1[_0x3973a9(0x615)]['bind'](_0x19a3d1),'getAvailableTrackKinds':_0x19a3d1[_0x3973a9(0x355)][_0x3973a9(0x32d)](_0x19a3d1),'update':_0x19a3d1[_0x3973a9(0x746)]['bind'](_0x19a3d1),'onProviderChange':_0x19a3d1['onProviderChange']['bind'](_0x19a3d1)}));}[_0x2e7de5(0x5ff)](_0x35dbf7){const _0x5a23d2=_0x2e7de5;return this[_0x5a23d2(0x799)][_0x5a23d2(0x5ff)](_0x35dbf7)[_0x5a23d2(0x28b)](_0x1c92a8=>({'getName':_0x1c92a8[_0x5a23d2(0x5f9)][_0x5a23d2(0x32d)](_0x1c92a8),'getOwnerId':_0x1c92a8['getOwnerId'][_0x5a23d2(0x32d)](_0x1c92a8),'getContentType':_0x1c92a8[_0x5a23d2(0x924)][_0x5a23d2(0x32d)](_0x1c92a8),'addNode':_0x1c92a8[_0x5a23d2(0x370)][_0x5a23d2(0x32d)](_0x1c92a8),'addEdge':_0x1c92a8[_0x5a23d2(0x220)][_0x5a23d2(0x32d)](_0x1c92a8),'getContent':_0x1c92a8[_0x5a23d2(0x170)][_0x5a23d2(0x32d)](_0x1c92a8),'remove':_0x1c92a8['remove'][_0x5a23d2(0x32d)](_0x1c92a8),'saveToDisk':_0x1c92a8['saveToDisk'][_0x5a23d2(0x32d)](_0x1c92a8),'loadFromDisk':_0x1c92a8[_0x5a23d2(0x1f1)][_0x5a23d2(0x32d)](_0x1c92a8),'close':_0x1c92a8[_0x5a23d2(0x6f0)]['bind'](_0x1c92a8)}));}[_0x2e7de5(0xa66)](_0x1f5ae9){const _0x4e4ddf=_0x2e7de5;return this['orchestrator'][_0x4e4ddf(0xa66)](_0x1f5ae9)[_0x4e4ddf(0x28b)](_0x584f84=>({'getName':_0x584f84[_0x4e4ddf(0x5f9)][_0x4e4ddf(0x32d)](_0x584f84),'getOwnerId':_0x584f84[_0x4e4ddf(0x830)]['bind'](_0x584f84),'getContentType':_0x584f84['getContentType']['bind'](_0x584f84),'search':_0x584f84[_0x4e4ddf(0x8c8)][_0x4e4ddf(0x32d)](_0x584f84),'insert':_0x584f84['insert']['bind'](_0x584f84),'remove':_0x584f84['remove']['bind'](_0x584f84),'saveToDisk':_0x584f84[_0x4e4ddf(0x3cc)][_0x4e4ddf(0x32d)](_0x584f84),'loadFromDisk':_0x584f84[_0x4e4ddf(0x1f1)][_0x4e4ddf(0x32d)](_0x584f84),'close':_0x584f84[_0x4e4ddf(0x6f0)][_0x4e4ddf(0x32d)](_0x584f84)}));}[_0x2e7de5(0x5c7)](){const _0x733192=_0x2e7de5,_0x4ac3a8=this['orchestrator']['getLocalNode']();switch(_0x4ac3a8[_0x733192(0x926)]){case _0x564b37['NodeType'][_0x733192(0xa5c)]:return{'type':_0x564b37[_0x733192(0x20b)][_0x733192(0xa5c)],'getId':_0x4ac3a8[_0x733192(0x2ab)][_0x733192(0x32d)](_0x4ac3a8),'getDisplayName':_0x4ac3a8['getDisplayName']['bind'](_0x4ac3a8),'getEmail':_0x4ac3a8[_0x733192(0x685)][_0x733192(0x32d)](_0x4ac3a8),'getRemoteConnections':_0x4ac3a8[_0x733192(0x95c)][_0x733192(0x32d)](_0x4ac3a8),'setDisplayName':_0x4ac3a8['setDisplayName']['bind'](_0x4ac3a8),'setEmail':_0x4ac3a8[_0x733192(0xa1b)]['bind'](_0x4ac3a8)};case _0x564b37[_0x733192(0x20b)]['Agent']:default:return{'type':_0x564b37[_0x733192(0x20b)][_0x733192(0x59d)],'getId':_0x4ac3a8[_0x733192(0x2ab)][_0x733192(0x32d)](_0x4ac3a8),'getRemoteConnections':_0x4ac3a8[_0x733192(0x95c)][_0x733192(0x32d)](_0x4ac3a8)};}}[_0x2e7de5(0x293)](_0x29a144){const _0x357245=_0x2e7de5;return this[_0x357245(0x799)][_0x357245(0x293)](_0x29a144)[_0x357245(0x28b)](_0x1ec523=>{const _0x28f788=_0x357245;switch(_0x1ec523[_0x28f788(0x926)]){case _0x564b37[_0x28f788(0x20b)]['User']:return{'type':_0x564b37['NodeType'][_0x28f788(0xa5c)],'getId':_0x1ec523['getId']['bind'](_0x1ec523),'getDisplayName':_0x1ec523[_0x28f788(0x49c)]['bind'](_0x1ec523),'getEmail':_0x1ec523['getEmail'][_0x28f788(0x32d)](_0x1ec523),'getRemoteConnections':_0x1ec523[_0x28f788(0x95c)][_0x28f788(0x32d)](_0x1ec523)};case _0x564b37[_0x28f788(0x20b)][_0x28f788(0x59d)]:return{'type':_0x564b37[_0x28f788(0x20b)][_0x28f788(0x59d)],'getId':_0x1ec523[_0x28f788(0x2ab)][_0x28f788(0x32d)](_0x1ec523),'getRemoteConnections':_0x1ec523[_0x28f788(0x95c)]['bind'](_0x1ec523)};default:throw new _0x412649(_0xa32e41['NodeInvalidType'],'Invalid\x20node\x20type');}});}['on']=(..._0x18470c)=>{const _0xe6151b=_0x2e7de5;this[_0xe6151b(0x37c)]['on'](..._0x18470c);};['emit']=(..._0x499cb0)=>this[_0x2e7de5(0x37c)][_0x2e7de5(0x47a)](..._0x499cb0);['off'](..._0x9224df){const _0x2cfeed=_0x2e7de5;this[_0x2cfeed(0x37c)][_0x2cfeed(0x70c)](..._0x9224df);}}class _0x266217{['id'];[_0x2e7de5(0x448)];[_0x2e7de5(0x6b4)];[_0x2e7de5(0x926)]=_0x564b37[_0x2e7de5(0x20b)]['User'];[_0x2e7de5(0x3d2)]=new Map();[_0x2e7de5(0x49a)]=_0x37766();constructor(_0x39a283,_0x2ea6c4,_0x6c857b){const _0xca6eb8=_0x2e7de5;this['id']=_0x39a283,this[_0xca6eb8(0x448)]=_0x2ea6c4,this[_0xca6eb8(0x6b4)]=_0x6c857b;}['getId'](){return this['id'];}[_0x2e7de5(0x49c)](){const _0x237dcf=_0x2e7de5;return this[_0x237dcf(0x448)];}['getEmail'](){const _0x14240e=_0x2e7de5;return this[_0x14240e(0x6b4)];}['setDisplayName'](_0x1a5ffe){const _0x39e3c4=_0x2e7de5;this['displayName']!==_0x1a5ffe&&(this[_0x39e3c4(0x448)]=_0x1a5ffe,this[_0x39e3c4(0x49a)][_0x39e3c4(0x4df)](this));}[_0x2e7de5(0xa1b)](_0x38a1b7){const _0x2ddd55=_0x2e7de5;this[_0x2ddd55(0x6b4)]!==_0x38a1b7&&(this[_0x2ddd55(0x6b4)]=_0x38a1b7,this['observer'][_0x2ddd55(0x4df)](this));}[_0x2e7de5(0x1bd)](_0x39b3e3,_0x52a8a1){const _0x354df=_0x2e7de5;if(this[_0x354df(0x3d2)]['has'](_0x39b3e3))return;const _0x1c2e9b=this[_0x354df(0x49a)][_0x354df(0x683)](_0x52a8a1);this['joinedClusters']['set'](_0x39b3e3,_0x1c2e9b);}['unregisterCluster'](_0x1e1858){const _0x3351ad=_0x2e7de5;if(!this[_0x3351ad(0x3d2)][_0x3351ad(0x1a4)](_0x1e1858))return;const _0x15a4e1=this[_0x3351ad(0x3d2)][_0x3351ad(0x6ba)](_0x1e1858);_0x15a4e1&&_0x15a4e1(),this['joinedClusters'][_0x3351ad(0x428)](_0x1e1858);}}class _0x290295{['vendorId'];[_0x2e7de5(0x6a4)];constructor(_0x2f9357){this['vendorId']=_0x2f9357;}async[_0x2e7de5(0x9c3)](_0x23ecc7){const _0x366022=_0x2e7de5,_0x36e506=await(0x0,_0x260296['httpsCallable'])(_0x498ce8[_0x366022(0x488)](),_0x366022(0x22b))({'uid':'ccc'+this[_0x366022(0x9a1)]+'ccc'+_0x23ecc7['id']}),_0x13491c=await(0x0,_0x11adbd[_0x366022(0x7eb)])(_0x498ce8[_0x366022(0x3b8)](),_0x36e506[_0x366022(0x672)][_0x366022(0x5c5)]);this['user']=_0x13491c[_0x366022(0x6a4)];}async[_0x2e7de5(0x954)](){const _0x4da3a1=_0x2e7de5;await(0x0,_0x11adbd[_0x4da3a1(0x954)])(_0x498ce8['getAuth']());}[_0x2e7de5(0x3c6)](){const _0x4ad5a2=_0x2e7de5;return this[_0x4ad5a2(0x6a4)]?.[_0x4ad5a2(0x3c6)]()??Promise[_0x4ad5a2(0xa30)]('User\x20not\x20signed\x20in');}}class _0x595d8b{static ['instance'];[_0x2e7de5(0x8f1)]=[];constructor(){}static[_0x2e7de5(0x6f6)](){const _0x12bd56=_0x2e7de5;return _0x595d8b[_0x12bd56(0x79e)]||(_0x595d8b[_0x12bd56(0x79e)]=new _0x595d8b()),_0x595d8b['instance'];}[_0x2e7de5(0x9cd)](){const _0x107114=_0x2e7de5;this[_0x107114(0x251)](),this['checkMediaStream'](),this[_0x107114(0x65d)](),this[_0x107114(0x772)](),this['checkDeviceConfig'](),this[_0x107114(0x4dd)](),this[_0x107114(0x413)](),this['checkBackgrounds'](),this[_0x107114(0xa34)](),this[_0x107114(0x1b5)](),_0x31c6d3[_0x107114(0x65c)](_0x2387f2['Support'],_0x107114(0x99c),{'featureSupport':this['featureSupport']});}['isFeatureSupported'](_0x47a83b){const _0x25e65a=_0x2e7de5,_0x284fbe=this[_0x25e65a(0x8f1)][_0x25e65a(0x921)](_0x240dbc=>_0x240dbc[_0x25e65a(0x243)]===_0x47a83b);return!!_0x284fbe&&_0x284fbe[_0x25e65a(0xa55)];}[_0x2e7de5(0x360)](_0xc8aa54){const _0x4ceb6d=_0x2e7de5;_0x31c6d3[_0x4ceb6d(0x4a8)](_0x4ceb6d(0x530),{'nodeId':_0xc8aa54[_0x4ceb6d(0x2ab)](),'nodeType':_0xc8aa54[_0x4ceb6d(0x926)],'data':{'featureSupport':this[_0x4ceb6d(0x8f1)]}});}[_0x2e7de5(0x251)](){const _0x1ea85d=_0x2e7de5,_0x4cc56b=_0x7734ed['WebRTC'];let _0x33a9f6=!0x1;_0x1ea85d(0x797)==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&_0x1ea85d(0x797)==typeof RTCSessionDescription?_0x33a9f6=!0x0:_0x31c6d3['log'](_0x2387f2[_0x1ea85d(0x41d)],_0x1ea85d(0x3c4)+_0x4cc56b+_0x1ea85d(0x67e)),this[_0x1ea85d(0x8f1)][_0x1ea85d(0x67b)]({'name':_0x4cc56b,'supported':_0x33a9f6});}['checkMediaStream'](){const _0x4a7bb9=_0x2e7de5,_0x27fb76=_0x7734ed['MediaStream'];let _0x5c4e0a=!0x1;'function'==typeof MediaStream&&_0x4a7bb9(0x797)==typeof MediaStreamTrack&&'object'==typeof navigator&&_0x4a7bb9(0x54b)==typeof navigator[_0x4a7bb9(0x2ca)]&&_0x4a7bb9(0x797)==typeof navigator['mediaDevices'][_0x4a7bb9(0x3e6)]?_0x5c4e0a=!0x0:_0x31c6d3[_0x4a7bb9(0x65c)](_0x2387f2['Support'],_0x4a7bb9(0x3c4)+_0x27fb76+_0x4a7bb9(0x67e)),this['featureSupport'][_0x4a7bb9(0x67b)]({'name':_0x27fb76,'supported':_0x5c4e0a});}[_0x2e7de5(0x65d)](){const _0x22ba6c=_0x2e7de5,_0x30c38f=_0x7734ed['ScreenSharing'];let _0x3410d5=!0x1;_0x22ba6c(0x54b)==typeof navigator&&_0x22ba6c(0x54b)==typeof navigator[_0x22ba6c(0x2ca)]&&_0x22ba6c(0x797)==typeof navigator[_0x22ba6c(0x2ca)][_0x22ba6c(0x8dc)]?_0x3410d5=!0x0:_0x31c6d3[_0x22ba6c(0x65c)](_0x2387f2[_0x22ba6c(0x41d)],_0x22ba6c(0x3c4)+_0x30c38f+'\x20not\x20supported'),this['featureSupport'][_0x22ba6c(0x67b)]({'name':_0x30c38f,'supported':_0x3410d5});}[_0x2e7de5(0x772)](){const _0x2f1faf=_0x2e7de5,_0x1c009e=_0x7734ed[_0x2f1faf(0x31e)];let _0x356b98=!0x1;'function'!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||_0x2f1faf(0x797)!=typeof MediaStreamAudioSourceNode?_0x31c6d3[_0x2f1faf(0x65c)](_0x2387f2[_0x2f1faf(0x41d)],_0x2f1faf(0x3c4)+_0x1c009e+'\x20not\x20supported'):_0x356b98=!0x0,this['featureSupport'][_0x2f1faf(0x67b)]({'name':_0x1c009e,'supported':_0x356b98});}[_0x2e7de5(0x7b3)](){const _0x3a306f=_0x2e7de5,_0x3c4a7b=_0x7734ed[_0x3a306f(0x836)];let _0x476dd5=!0x1;_0x3a306f(0x54b)==typeof navigator&&_0x3a306f(0x54b)==typeof navigator[_0x3a306f(0x2ca)]&&_0x3a306f(0x797)==typeof navigator[_0x3a306f(0x2ca)]['enumerateDevices']&&'function'==typeof MediaDeviceInfo?_0x476dd5=!0x0:_0x31c6d3[_0x3a306f(0x65c)](_0x2387f2[_0x3a306f(0x41d)],_0x3a306f(0x3c4)+_0x3c4a7b+_0x3a306f(0x67e)),this[_0x3a306f(0x8f1)]['push']({'name':_0x3c4a7b,'supported':_0x476dd5});}[_0x2e7de5(0x4dd)](){const _0x2bb27b=_0x2e7de5,_0x13c27a=_0x7734ed[_0x2bb27b(0x875)];let _0x284bfc=!0x1;_0x2bb27b(0x54b)==typeof document&&'function'==typeof document[_0x2bb27b(0x455)](_0x2bb27b(0x6ed))['setSinkId']?_0x284bfc=!0x0:_0x31c6d3[_0x2bb27b(0x65c)](_0x2387f2['Support'],'Support:\x20'+_0x13c27a+_0x2bb27b(0x67e)),this[_0x2bb27b(0x8f1)]['push']({'name':_0x13c27a,'supported':_0x284bfc});}async[_0x2e7de5(0x413)](){const _0x26d1e8=_0x2e7de5,_0x51404f=_0x7734ed[_0x26d1e8(0x81c)];let _0x5f57c4=!0x1;try{const _0x8380c4=document['createElement']('canvas');if(MediaRecorder&&MediaSource&&_0x8380c4[_0x26d1e8(0x4ff)]){const _0x3d5e7c=_0x8380c4[_0x26d1e8(0x4ff)](),_0x5b9e27=new MediaRecorder(_0x3d5e7c);_0x5b9e27[_0x26d1e8(0x640)](),await new Promise(_0x30949d=>setTimeout(_0x30949d,0x7d0)),_0x5b9e27[_0x26d1e8(0x511)](),_0x5f57c4=_0x26d1e8(0xa12)===_0x5b9e27[_0x26d1e8(0x5bf)];}}catch(_0x45d9ea){_0x31c6d3['log'](_0x2387f2['Support'],_0x26d1e8(0x3c4)+_0x51404f+'\x20check\x20failed',_0x45d9ea);}this[_0x26d1e8(0x8f1)][_0x26d1e8(0x67b)]({'name':_0x51404f,'supported':_0x5f57c4}),_0x5f57c4||_0x31c6d3[_0x26d1e8(0x65c)](_0x2387f2[_0x26d1e8(0x41d)],'Support:\x20'+_0x51404f+_0x26d1e8(0x67e));}[_0x2e7de5(0x9b1)](){const _0x2519db=_0x2e7de5,_0x2d0de7=_0x7734ed[_0x2519db(0x8b5)];let _0x5d2253=!0x1;try{document[_0x2519db(0x455)](_0x2519db(0x752))[_0x2519db(0x4ff)]&&(_0x5d2253=!0x0);}catch(_0x548d67){_0x31c6d3[_0x2519db(0x65c)](_0x2387f2['Support'],_0x2519db(0x3c4)+_0x2d0de7+_0x2519db(0x869),_0x548d67);}this['featureSupport']['push']({'name':_0x2d0de7,'supported':_0x5d2253}),_0x5d2253||_0x31c6d3[_0x2519db(0x65c)](_0x2387f2[_0x2519db(0x41d)],_0x2519db(0x3c4)+_0x2d0de7+_0x2519db(0x67e));}[_0x2e7de5(0xa34)](){const _0xbb60ca=_0x2e7de5,_0x448c08=_0x7734ed[_0xbb60ca(0x955)];let _0x115b7f=!0x1;try{const _0x17a7ac=document['createElement']('canvas');WebGLRenderingContext&&_0x17a7ac[_0xbb60ca(0xa35)](_0xbb60ca(0x5a7))&&(_0x115b7f=!0x0);}catch(_0x20e84f){_0x31c6d3[_0xbb60ca(0x65c)](_0x2387f2[_0xbb60ca(0x41d)],_0xbb60ca(0x3c4)+_0x448c08+_0xbb60ca(0x869),_0x20e84f);}this[_0xbb60ca(0x8f1)][_0xbb60ca(0x67b)]({'name':_0x448c08,'supported':_0x115b7f}),_0x115b7f||_0x31c6d3[_0xbb60ca(0x65c)](_0x2387f2['Support'],_0xbb60ca(0x3c4)+_0x448c08+_0xbb60ca(0x67e));}[_0x2e7de5(0x1b5)](){const _0x1cf926=_0x2e7de5,_0xd58929=_0x7734ed['AudioContext'];let _0xd373db=!0x1;_0x1cf926(0x797)==typeof AudioContext?_0xd373db=!0x0:_0x31c6d3[_0x1cf926(0x65c)](_0x2387f2[_0x1cf926(0x41d)],'Support:\x20'+_0xd58929+_0x1cf926(0x67e)),this[_0x1cf926(0x8f1)][_0x1cf926(0x67b)]({'name':_0xd58929,'supported':_0xd373db});}}const _0xf75d77=_0x595d8b[_0x2e7de5(0x6f6)]();class _0x1ecb3b{static [_0x2e7de5(0x79e)];static [_0x2e7de5(0x615)];static [_0x2e7de5(0x244)];[_0x2e7de5(0x70d)];[_0x2e7de5(0x9a1)];[_0x2e7de5(0x7e9)];['configs'];['clusters']=new Map();[_0x2e7de5(0x9b7)];constructor(_0xd6bf67,_0x5c26c3,_0x528449){const _0x41bf95=_0x2e7de5;this[_0x41bf95(0x9a1)]=_0xd6bf67,this[_0x41bf95(0x562)]=_0x5c26c3,this[_0x41bf95(0x70d)]=new _0x290295(this[_0x41bf95(0x9a1)]),_0xf75d77[_0x41bf95(0x9cd)](),this[_0x41bf95(0x7e9)]={'audioContext':_0x528449?.[_0x41bf95(0x555)]??(_0xf75d77[_0x41bf95(0x8c4)](_0x7734ed[_0x41bf95(0x89b)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x528449?.[_0x41bf95(0x74a)]??0x1,'minConnections':_0x528449?.[_0x41bf95(0x2d4)]??0x3,'maxConnections':_0x528449?.[_0x41bf95(0x754)]??(_0x528449?.[_0x41bf95(0x2d4)]&&0x4*_0x528449[_0x41bf95(0x2d4)])??0xc,'maxDistance':_0x528449?.[_0x41bf95(0x58f)]??0xa,'maxFps':_0x528449?.[_0x41bf95(0x3cf)]??0x18,'maxBpp':_0x528449?.[_0x41bf95(0x9ae)]??0.12,'objectStoreConnector':_0x528449?.[_0x41bf95(0x2f6)]??_0x1956e9['OPFSObjectStoreConnector'],'externalStorageConnectors':_0x528449?.[_0x41bf95(0x165)],'keyValueDatabaseConnector':_0x528449?.[_0x41bf95(0x56a)]??_0x4578c7[_0x41bf95(0x585)],'loggingDatabaseConnector':_0x528449?.[_0x41bf95(0x554)]??_0x4578c7[_0x41bf95(0x585)],'peerConnectionConnector':_0x528449?.[_0x41bf95(0x64c)]??_0x16e0b7[_0x41bf95(0x998)],'generativeAIWorkerConnectors':_0x528449?.[_0x41bf95(0xa5e)],'vectorDatabaseConnector':_0x528449?.[_0x41bf95(0x42b)],'graphDatabaseConnector':_0x528449?.['graphDatabaseConnector'],'documentParserConnector':_0x528449?.[_0x41bf95(0x4d3)],'nlpLibraryConnector':_0x528449?.[_0x41bf95(0x9e9)],'searchConnector':_0x528449?.[_0x41bf95(0x2f0)]},_0x528449?.[_0x41bf95(0x4ed)]&&this[_0x41bf95(0x7e9)][_0x41bf95(0x555)]&&_0x31d9e2['startNoThrottlingHack'](this[_0x41bf95(0x7e9)][_0x41bf95(0x555)]),_0x31c6d3['setVendorId'](this[_0x41bf95(0x9a1)]),_0x528449?.['loggingConnectors']&&_0x31c6d3['setLoggingConnectors'](_0x528449[_0x41bf95(0x7a7)]);}static async[_0x2e7de5(0x6f6)](_0x19cfda,_0x543d40,_0x2c0e89,_0x471ceb,_0x2135e5){const _0x5d0297=_0x2e7de5;this[_0x5d0297(0x244)]=_0x2c0e89;const _0x2ff6ae=await this[_0x5d0297(0x462)](_0x19cfda,_0x543d40,_0x2135e5);return _0x1ecb3b[_0x5d0297(0x79e)]||(_0x1ecb3b[_0x5d0297(0x79e)]=new _0x1ecb3b(_0x19cfda,_0x2ff6ae,_0x471ceb)),{'close':_0x1ecb3b['instance'][_0x5d0297(0x6f0)][_0x5d0297(0x32d)](_0x1ecb3b[_0x5d0297(0x79e)]),'authenticateUser':_0x1ecb3b[_0x5d0297(0x79e)][_0x5d0297(0x362)][_0x5d0297(0x32d)](_0x1ecb3b[_0x5d0297(0x79e)]),'authenticateAgent':_0x1ecb3b[_0x5d0297(0x79e)]['authenticateAgent'][_0x5d0297(0x32d)](_0x1ecb3b[_0x5d0297(0x79e)]),'joinCluster':_0x1ecb3b[_0x5d0297(0x79e)][_0x5d0297(0x207)]['bind'](_0x1ecb3b[_0x5d0297(0x79e)])};}static async[_0x2e7de5(0x490)](){const _0x198180=_0x2e7de5;return _0x498ce8[_0x198180(0x1d0)]();}static[_0x2e7de5(0x4a9)](){const _0x5e4ec7=_0x2e7de5;return _0x2a0c43[_0x5e4ec7(0x4a9)];}async['close'](_0x2145cf){const _0x507393=_0x2e7de5;this[_0x507393(0x161)][_0x507393(0x270)](_0x25f1c9=>{const _0x256dbe=_0x507393;_0x25f1c9[_0x256dbe(0x70c)](),_0x25f1c9[_0x256dbe(0x60c)](_0x2145cf);}),this[_0x507393(0x161)][_0x507393(0x2a0)](),this[_0x507393(0x7e9)][_0x507393(0x555)]&&_0x31d9e2[_0x507393(0x89c)](),_0x1ecb3b[_0x507393(0x615)]?.(),_0x1ecb3b['unsubscribe']=void 0x0,this[_0x507393(0x9b7)]=void 0x0,await this[_0x507393(0x70d)][_0x507393(0x954)](),_0x1ecb3b[_0x507393(0x79e)]=void 0x0;}static async['validateAccess'](_0x4805f7,_0x3aab76,_0x4c6821){const _0x3bd49e=_0x2e7de5;if(!this['mode'])throw new _0x412649(_0xa32e41['NodeTypeRequired'],_0x3bd49e(0x8b7));let _0x6f1c60;try{_0x6f1c60=await(0x0,_0x260296[_0x3bd49e(0x889)])(_0x498ce8[_0x3bd49e(0x488)](),_0x3bd49e(0x8f8))({'vendorId':_0x4805f7,'accessToken':_0x3aab76,'secretKey':_0x4c6821});}catch(_0x1f17f8){throw new _0x412649(_0xa32e41[_0x3bd49e(0x894)],_0x3bd49e(0x656));}if(!this[_0x3bd49e(0x722)](_0x6f1c60[_0x3bd49e(0x672)]))throw new _0x412649(_0xa32e41[_0x3bd49e(0x894)],'Invalid\x20credentials');const _0x24510e=_0x6f1c60['data'];return _0x24510e[_0x3bd49e(0x4d7)]||(_0x24510e['features']=[]),this[_0x3bd49e(0x615)]||(this[_0x3bd49e(0x615)]=_0x31d9e2[_0x3bd49e(0x6bd)](async()=>{const _0x1e146c=_0x3bd49e;try{const _0x3f30ee=await this[_0x1e146c(0x462)](_0x4805f7,_0x3aab76,_0x4c6821);this[_0x1e146c(0x244)]===_0x564b37['NodeType'][_0x1e146c(0x59d)]&&(_0x3f30ee['iceServers']=_0x3f30ee['iceServers'][_0x1e146c(0x8bd)](_0x2a2592=>_0x2a2592[_0x1e146c(0x664)][_0x1e146c(0x78d)](_0x1e146c(0xa33)))),_0x24510e[_0x1e146c(0x338)]=_0x3f30ee[_0x1e146c(0x338)];}catch(_0x359765){}},0x1b7740)),_0x24510e;}async[_0x2e7de5(0x362)](_0x875a20){const _0x5e652f=_0x2e7de5;if(_0x1ecb3b[_0x5e652f(0x244)]!==_0x564b37['NodeType'][_0x5e652f(0xa5c)])throw new _0x412649(_0xa32e41['NodeInvalidType'],'Node\x20type\x20is\x20invalid');await this[_0x5e652f(0x70d)]['signInWithCredential'](_0x875a20);const _0x54b42f=new _0x266217(_0x875a20['id'],_0x875a20['displayName'],_0x875a20[_0x5e652f(0x6b4)]);return this[_0x5e652f(0x9b7)]={'node':_0x54b42f},_0xf75d77[_0x5e652f(0x360)](_0x54b42f),{'type':_0x564b37['NodeType']['User'],'getId':_0x54b42f['getId']['bind'](_0x54b42f),'getDisplayName':_0x54b42f[_0x5e652f(0x49c)][_0x5e652f(0x32d)](_0x54b42f),'getEmail':_0x54b42f[_0x5e652f(0x685)][_0x5e652f(0x32d)](_0x54b42f),'setDisplayName':_0x54b42f['setDisplayName'][_0x5e652f(0x32d)](_0x54b42f),'setEmail':_0x54b42f['setEmail']['bind'](_0x54b42f)};}async[_0x2e7de5(0xa2e)](_0x7b1818){const _0x4b9af5=_0x2e7de5;if(_0x1ecb3b['mode']!==_0x564b37[_0x4b9af5(0x20b)][_0x4b9af5(0x59d)])throw new _0x412649(_0xa32e41[_0x4b9af5(0x902)],_0x4b9af5(0x7f0));const {id:_0x1624fa,groupId:_0x14a090}=_0x7b1818,_0x44026d=await(0x0,_0x576ce3[_0x4b9af5(0x3e9)])((0x0,_0x576ce3[_0x4b9af5(0x8b6)])(_0x498ce8[_0x4b9af5(0x68f)](),'developers/'+this[_0x4b9af5(0x9a1)]+_0x4b9af5(0x880)+_0x14a090));if(!_0x44026d['exists']())throw new _0x412649(_0xa32e41[_0x4b9af5(0x625)],_0x4b9af5(0x3a4));const _0x4fa623=_0x44026d[_0x4b9af5(0x672)]();await this[_0x4b9af5(0x70d)][_0x4b9af5(0x9c3)]({'id':_0x1624fa});const _0x406c8c=new _0x31f903(_0x1624fa,_0x14a090,this[_0x4b9af5(0x9a1)],_0x4fa623);return this['authContext']={'node':_0x406c8c},_0xf75d77['logSupport'](_0x406c8c),this['connectAgent'](_0x406c8c),{'type':_0x564b37[_0x4b9af5(0x20b)][_0x4b9af5(0x59d)],'getId':_0x406c8c['getId'][_0x4b9af5(0x32d)](_0x406c8c),'onConfigurationChange':_0x406c8c[_0x4b9af5(0x316)][_0x4b9af5(0x32d)](_0x406c8c),'setReportCapacity':_0x406c8c[_0x4b9af5(0x658)][_0x4b9af5(0x32d)](_0x406c8c)};}async[_0x2e7de5(0x207)](_0x2d390a){const _0x19247=_0x2e7de5;if(!this[_0x19247(0x9b7)])throw new _0x412649(_0xa32e41[_0x19247(0x625)],_0x19247(0x85f));if(this[_0x19247(0x9b7)][_0x19247(0x340)][_0x19247(0x926)]!==_0x564b37[_0x19247(0x20b)][_0x19247(0xa5c)])throw new _0x412649(_0xa32e41[_0x19247(0x2c9)],_0x19247(0x89e));if(this[_0x19247(0x161)]['has'](_0x2d390a))throw new _0x412649(_0xa32e41[_0x19247(0x952)],'Cluster\x20already\x20joined');const _0x1a3af7=new _0x13c7c6(this[_0x19247(0x9a1)],_0x2d390a,this['authContext']['node'],this[_0x19247(0x70d)],this['options'],this[_0x19247(0x562)]);return await _0x1a3af7[_0x19247(0x396)](),this[_0x19247(0xa53)](_0x2d390a,_0x1a3af7),_0x31c6d3['logEvent'](_0x19247(0x216),{'clusterId':_0x2d390a,'nodeId':this['authContext'][_0x19247(0x340)][_0x19247(0x2ab)](),'nodeType':this['authContext'][_0x19247(0x340)][_0x19247(0x926)]}),{'leave':_0x1a3af7[_0x19247(0x60c)][_0x19247(0x32d)](_0x1a3af7),'getLocalNode':_0x1a3af7[_0x19247(0x5c7)][_0x19247(0x32d)](_0x1a3af7),'openPubSubTopic':_0x1a3af7[_0x19247(0x514)][_0x19247(0x32d)](_0x1a3af7),'openObjectStoreBucket':_0x1a3af7[_0x19247(0x7cb)][_0x19247(0x32d)](_0x1a3af7),'openExternalStorageConnection':_0x1a3af7[_0x19247(0x8b8)]['bind'](_0x1a3af7),'openKeyValueDatabase':_0x1a3af7[_0x19247(0x4a2)]['bind'](_0x1a3af7),'openGenerativeAIContext':_0x1a3af7[_0x19247(0x580)][_0x19247(0x32d)](_0x1a3af7),'openGenerativeAIWorker':_0x1a3af7[_0x19247(0xa3d)][_0x19247(0x32d)](_0x1a3af7),'openGraphDatabase':_0x1a3af7[_0x19247(0x8c7)]['bind'](_0x1a3af7),'openVectorDatabase':_0x1a3af7['openVectorDatabase'][_0x19247(0x32d)](_0x1a3af7),'publishLocalMediaStream':_0x1a3af7[_0x19247(0x751)][_0x19247(0x32d)](_0x1a3af7),'publishLocalDynamicMediaStream':_0x1a3af7[_0x19247(0x609)][_0x19247(0x32d)](_0x1a3af7),'getPubSubTopics':_0x1a3af7['getPubSubTopics'][_0x19247(0x32d)](_0x1a3af7),'getObjectStoreBuckets':_0x1a3af7['getObjectStoreBuckets'][_0x19247(0x32d)](_0x1a3af7),'getExternalStorageConnections':_0x1a3af7['getExternalStorageConnections'][_0x19247(0x32d)](_0x1a3af7),'getKeyValueDatabases':_0x1a3af7[_0x19247(0x673)][_0x19247(0x32d)](_0x1a3af7),'getGenerativeAIContexts':_0x1a3af7[_0x19247(0x5c6)]['bind'](_0x1a3af7),'getGenerativeAIWorkers':_0x1a3af7[_0x19247(0xa7e)]['bind'](_0x1a3af7),'getGraphDatabases':_0x1a3af7[_0x19247(0x5ff)]['bind'](_0x1a3af7),'getVectorDatabases':_0x1a3af7[_0x19247(0xa66)][_0x19247(0x32d)](_0x1a3af7),'getLocalMediaStreams':_0x1a3af7['getLocalMediaStreams'][_0x19247(0x32d)](_0x1a3af7),'getRemoteMediaStreams':_0x1a3af7[_0x19247(0x871)][_0x19247(0x32d)](_0x1a3af7),'getRemoteNodes':_0x1a3af7[_0x19247(0x293)][_0x19247(0x32d)](_0x1a3af7),'on':_0x1a3af7['on'][_0x19247(0x32d)](_0x1a3af7),'off':_0x1a3af7[_0x19247(0x70c)]['bind'](_0x1a3af7)};}async[_0x2e7de5(0x34d)](_0x2562e4){const _0x5e2d62=_0x2e7de5;for(const _0x993113 of _0x2562e4[_0x5e2d62(0x591)][_0x5e2d62(0x161)]){const _0x13c65a=new _0x13c7c6(this['vendorId'],_0x993113['id'],_0x2562e4,this[_0x5e2d62(0x70d)],this[_0x5e2d62(0x7e9)],this[_0x5e2d62(0x562)]);await _0x13c65a['join'](),this[_0x5e2d62(0xa53)](_0x993113['id'],_0x13c65a),_0x31c6d3[_0x5e2d62(0x3a6)](_0x5e2d62(0x8f7),_0x993113['id']);for(const _0x426123 of _0x993113['pubSubTopics']??[])_0x13c65a[_0x5e2d62(0x514)](_0x426123),_0x31c6d3[_0x5e2d62(0x3a6)](_0x5e2d62(0x711),_0x426123);for(const _0x3be2ea of _0x993113[_0x5e2d62(0x2f2)]??[])await _0x13c65a['openObjectStoreBucket'](_0x3be2ea),_0x31c6d3['forceLog'](_0x5e2d62(0x8e9),_0x3be2ea);for(const _0xe13c7f of _0x993113['modelStorageBuckets']??[])await _0x13c65a['openObjectStoreBucket'](_0xe13c7f,{'standalone':!0x0}),_0x31c6d3[_0x5e2d62(0x3a6)](_0x5e2d62(0x771),_0xe13c7f);for(const _0x449e20 of _0x993113['externalStorageConnections']??[]){const _0x2b2421=_0x449e20[_0x5e2d62(0x367)]('-');await _0x13c65a[_0x5e2d62(0x8b8)](_0x2b2421[0x1],_0x2b2421[0x0]),_0x31c6d3['forceLog']('Opened\x20external\x20storage\x20connection',_0x449e20);}for(const _0x1e082b of _0x993113[_0x5e2d62(0x18e)]??[])await _0x13c65a['openKeyValueDatabase'](_0x1e082b,{'version':0x1,'tables':{}}),_0x31c6d3[_0x5e2d62(0x3a6)](_0x5e2d62(0xa57),_0x1e082b);for(const _0x143185 of _0x993113[_0x5e2d62(0x3fa)]??[])_0x13c65a[_0x5e2d62(0x8c7)](_0x143185),_0x31c6d3['forceLog'](_0x5e2d62(0x5d6),_0x143185);for(const _0x2ec0df of _0x993113[_0x5e2d62(0x4e5)]??[])_0x13c65a[_0x5e2d62(0x1de)](_0x2ec0df),_0x31c6d3[_0x5e2d62(0x3a6)](_0x5e2d62(0x624),_0x2ec0df);for(const _0x47ddfb of _0x993113[_0x5e2d62(0x98d)]??[]){const _0x395060=_0x4126d8(this['vendorId'],_0x47ddfb),_0x22771d=_0x3c414a(),_0x425353=this[_0x5e2d62(0x7e9)][_0x5e2d62(0x554)]??this[_0x5e2d62(0x7e9)]['keyValueDatabaseConnector'];await _0x13c65a[_0x5e2d62(0x4a2)](_0x395060,_0x22771d,_0x425353),_0x31c6d3['forceLog'](_0x5e2d62(0x6ca),_0x395060),await _0x13c65a['openGenerativeAIWorker'](_0x47ddfb),_0x31c6d3[_0x5e2d62(0x3a6)]('Opened\x20generative\x20AI\x20worker',_0x47ddfb);}}}[_0x2e7de5(0xa53)](_0x36151c,_0x16d92d){const _0x4e7cf1=_0x2e7de5;this[_0x4e7cf1(0x161)][_0x4e7cf1(0x7ee)](_0x36151c,_0x16d92d),_0x16d92d['on'](_0x4e7cf1(0x66e),()=>{const _0x389f28=_0x4e7cf1;_0x16d92d[_0x389f28(0x70c)](),this[_0x389f28(0x161)][_0x389f28(0x428)](_0x36151c);});}static['isInternalSDKConfigs'](_0x30e385){const _0x5f1789=_0x2e7de5;return void 0x0!==_0x30e385[_0x5f1789(0x338)];}}return _0xa0f2af;})())));