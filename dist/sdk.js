function a0_0x2367(_0x7c5782,_0x34883f){const _0x1cc418=a0_0x1cc4();return a0_0x2367=function(_0x2367bd,_0x62c8bd){_0x2367bd=_0x2367bd-0x1c4;let _0x73b8de=_0x1cc418[_0x2367bd];return _0x73b8de;},a0_0x2367(_0x7c5782,_0x34883f);}function a0_0x1cc4(){const _0x263b09=['set','Logging\x20trace','firebase-connect','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','enabledChannels','FeatureNotEnabled','attributes','isMediaDestination','updateDebounceTimeout','getConnections','objectToArrayBuffer','modelId','Connection\x20already\x20exists','GraphDatabaseAlreadyExists','httpsCallable','PublishMediaStream','logWaitTime','lastUpdated','debounceRebuildMMR','isArray','detectLocalIssues','video','between','asObservable','getAncestors','collectSendersStats','jobs','initialPrompt','entity','statsReport','getQuery','Add','RemoteAdd','unsubscribeHandler','Base\x20Peer\x20Connection','12455004lZCiGE','remove','ConnectionInvalidDataEvent','graph-database-already-exists','onBufferedAmountLow','connected','getTrack','/objectstores/','dataTopics','job-dispatcher-creation-failed','gpt-4o-mini','generativeAIWorkers','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','.swift','logDataSent','relations','handleUnsubscribeMediaStream','getSupportedContentTypes','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','An\x20error\x20occurred','workflow-does-not-exist','strategizing-agent','entries','subscribe','supported','Error\x20during\x20MMR\x20rebuild\x20logging:','packetsSent','Invalid\x20subscriber.','JobQueueService:\x20Error\x20running\x20job','Cluster\x20already\x20joined','status','Missing\x20answerer\x20id\x20on\x20request\x20answer','Node\x20\x27','sendReject','getDataCollections','problem','ObjectStoreNotInSync','audio','issue','hosting','getPartsFromSubscription','internal','statsCollection','PartialResult','.rb','ExternalStorageConnectionAlreadySubscribed','key-value-database-creation-failed','handleSubscriptionSystemEvents','discoveryUnsubscriber','propn','handleSubscriptionMediaStreamUnavailable','/resources/generative-ai-workflow/items/','\x20were\x20ready\x20in','getReceiverTotalBytes','\x27\x20payload:','concat','forceLog','\x20must\x20be\x20a\x20string','.jinja2','ceil','NodeTypeNotSupported','agentId','Sync\x20completed','logInitialMMR','standalone','handleDisconnect','Database\x20already\x20exists','updateLastUpdated','getBufferedAmount','write','.md','Cannot\x20unpublish\x20object:\x20','hasOwnProperty','saveToDisk','listenerUnsubscriber','timeReceiving','Invalid\x20content\x20type','unregisterSystemPublisher','av_delay','Skill','setupConnectionEvents','token','maxTokens','LocalReport','Additional\x20context:\x0a','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','detectStreamIssues','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','Support:\x20current\x20config','mediaDevices','connectionType','featureSupport','AudioVolume','kind','objectStoreConnector','getConnection','Incoming','processInboundReports','statsManager','NodeDoesNotExist','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','getSenderTotalBytes','functionsRegion','Cannot\x20find\x20External\x20Storage\x20connection:\x20','entity-extractor','addMessage','Error\x20parsing\x20JSON:','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','removeListener','transactionsToSync','every','ownerId','Emitting\x20event\x20on\x20local\x20cluster','timesCalled','ExternalStorageInvalidPath','getItem','\x0a\x20===\x20Total\x20Time:\x20','maxConnections','handleRemoteTrackFailure','iceServers','\x20to\x20send\x20dispatcherJob\x20','registerCluster','remote-media-stream-already-exists','Wait','messageListeners','rejectReady','root\x20hash:\x20','uuid','Parameter\x20','updated','cores','createWritableStream','ScreenSharing','processDataChannelReport','JobWorker:\x20Sending\x20job\x20bid','Waiting','knowledgeCutoffDate','processJobStream','action','localNode','Key-Value\x20Database\x20-\x20Sync\x20Completed','parseWorkflowBlocks','file-ingest','KeyValueDatabaseIndexNotFound','cluster-disconnect','GenerativeAIContextCreationFailed','hasMessage','Invalid\x20JSON:','listChanges','cpu.av_delay','setBytes','Error\x20searching','Missing\x20vector\x20database\x20connector','https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf','manageOptimization','external-storage-name-not-string','CloseMediaStream','string','User\x20not\x20signed\x20in','ObjectStore\x20not\x20found','handleOnMessage','removeJobDispatcher','errorDetails','storageType','Answer','setSubscriptionRequestTimeout','KeyValueDatabaseRequestPeakTransactions','Invalid\x20subscription.','handleContentRemoteMediaStreamTrackFail','rank','14860jopPLj','input-audio-stream','Synced','mergeParts','LoadKnowledgeFunction','.dart','vector','Failed\x20to\x20commit\x20batch\x20after\x20retries:','node-not-authenticated','trackKinds','sendTransactionsValue','handleJobAttribution','database','cancel','log','onProviderChange','reads','handleSubscriptionNeedMediaStream','update','.\x20Confirmation?\x20','unsubscribeTrackEndedListener','Stream\x20already\x20exists','deletePendingFile','publishNodeJoin','GenerativeAIContext\x20stream\x20error','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','transactionQueue','join','setReceiverTimestamp','senderBitrate','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','requestSubscriptionAction','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','createExternalStorageConnection','calculateSize','serverTimestamp','Attribution','setRemoteNode','maxResolution','joinedClusters','job-dispatcher-observer-not-found','Error\x20writing\x20chunk\x20to\x20stream','connectionPool','nodeUpdate','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','LocalMediaStreamTrackFail','enabled','VectorDatabaseAlreadyExists','Database\x20does\x20not\x20exist','handleStatsSystemEvents','peerConnectionConnector','\x20seconds','sendAction','IDBDatabaseConnector','retryQueue','deleteCollection','subscription-request-failed','previous','vector-database','isFeatureSupported','JobDispatcherJobNotFound','key-value-database-table-does-not-exist','isReady','Context','vector-database-does-not-exist','file-delete','incomingManager','Internal\x20SDK\x20error:\x20','job-worker-does-not-exist','streamLabel','closeConnection','getWorkflow','text/event-stream','handleContentUpdateMediaStream','openedTraces','previousFrames','IngestTrace','Upgrade','lastCapacityReport','setOnTableWriteHandler','.ts','hashPeakHashes','getTrackFromParam','Request','FileMove','removeIncomingSubscription','bandwidth.jitter','\x20with\x20\x27','job-dispatcher-job-exists','getResolution','FolderCreate','ConnectionNotConnected','setTransformations','getName','supportsContentType','Invalid\x20publisher.','Events','getCapacityReport','st_volatility','JobWorker:\x20Received\x20job\x20attribution','ObjectStoreInvalidSyncMessage','notifyObjectStoreOfNodeLeave','PubSubTopicNameNotString','embedding','\x20attributed\x20to\x20','Internal\x20unknown\x20error:\x20','getTracks','race','test-page','getExternalStorageConnections','endpoint','connector','graphDatabases','.yaml','cost','generative-ai-context-creation-failed','logSyncMetrics','No\x20connector\x20found\x20for\x20model','InvalidAccess','ExternalStorageUpload','Missing\x20graph\x20database\x20connector','summary-generator','nodesConnected','dispatchEvent','lastHeartbeat','isConnected','mode','Rejected','addRemoteConnection','3317048qVgdMz','handleUpdateMediaStream','KeyValueDatabasePeakNotFound','onRemoveTrack','indexes','frameWidth','getDataBucketIds','bufferedEvents','number','registerSystemPublisher','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','fileConnector','startTime','toString','maxFps','Entity','retryCount','onClose','getDoc','getTransactions','PubSubTopic\x20not\x20found','getToolDescription','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','Key-value\x20database\x20transaction\x20value\x20not\x20set.','peer-connection-invalid-destination','mediaUnsubscribers','getDataCollection','createTopic','peaks','getDisplayMedia','instance','21a9d78dee97f487b','appendTransaction','sendIceCandidates','subtle','validateAccess','fetch-url','Opened\x20generative\x20AI\x20worker','urls','isSync','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','GraphDatabaseNameNotString','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','KeyValueDatabaseTransactionValueNotSet','NodeManager\x20-\x20NodeUpdate','registeredListeners','removeVectorDatabase','getRoot','FPS','Resolution','Low','TestPage','onMessage','MediaStreamUnavailable','removeGraphDatabase','bandwidth.bitrate','internalId','WorkflowTrace','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','handleCloseContent','checkMediaRecording','createJobDispatcher','logSupport','FileStatus','getCurrentMaxLayer','registerSource','Early\x20return:\x20','notifyClusterNodeUpdate','destroy','ExecuteCustomSkill','aiSearchConnector','SystemTopic\x20publish','Image','PromptFunctionParamsType','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','InitialPrompt','checkAudioContext','DatabaseEvent','byteLength','VectorDatabaseNameNotString','RemoteMediaStreamInvalidSubscriptionParams','OfficeParser','Logging\x20not\x20enabled\x20for\x20channel\x20','getLocalMediaStream','currentFrames','NeedMediaStream','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','getJobDispatchers','rebuildMMR','NodeJoin','listener','isJobAttribution','\x20received\x20responses:','processContentSynchronized','handleContentCloseMediaStream','path','https://api.stg.crewdle.ai','clearRestartTimeout','WordSplitter','resolveReady','loadFromDisk','initializeApp','ancestors','previousBytes','Stats','minConnections','queryCollection','SubscriptionRequestDoesNotExist','openGraphDatabase','handleNodeLeave','debug','.html','send','InputAudioStream','/chat/completions','bufferedChunks','createRemoteNode','clearConnectionTimeout','findIndex','splitParts','VectorDatabaseCreationFailed','Syncing','logMMRRebuild','retryQueues','handleFileWrite','framerate','pipe','JobStream','GraphDatabaseStats','Write\x20text\x20data\x20to\x20a\x20file.','Invalid\x20object\x20store\x20state.','createBatch','limit','job-dispatcher-invalid-payload','getAvailableTrackKinds','dataStores','outputTokens','lastClockUpdate','KeyValueDatabaseRequestTransactionsValue','tables','everyone','parameters','checkAudioOutput','signInWithCredential','Backgrounds','onConnectionStateChange','isIceCandidate','object-storage-upload','SubscriptionRequestFailed','writeTransaction\x20-\x20transaction\x20already\x20exists','getLabel','gpu','/search','unregisterSubscriber','reportCapacity','JobWorker:\x20Sending\x20job\x20partial\x20result','ranges','Count','\x27\x20in\x20layout','not-in','SenderPeerConnection\x20send','defineProperty','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','transactionTable','getSTVolatility','GenerativeAIContextInvalidPartialResult','ModelVector','publishSyncCompletedAfterWrites','handleOffer','clearHeartbeat','processTransactionPayload','created','.ps1','memoryUsage','jobQueue','\x27\x20from\x20','clearUpgradeTimeout','_ready','NodeUpdate','2497IkkkfF','return\x20this','removeRemoteConnection','.sql','systemMessagesReceived','bodyParameters','endsWith','Local\x20MediaStream\x20already\x20exists','buildQuery','Retrieve','setScheduleTime','.kt','headers','setupListeners','getClosestNodes','Model','assign','FinalOutput','searchConnector','createNewBatch','jitter','.go','.js','receiverPreviousBytes','audioContext','setTimestamp','heartbeatUnsubscriber','getReceiverBitrate','setIsLoaded','clusterEventEmitter','SearchGoogle','contentType','unregisterSource','handleNodeDisconnect','contentSize','performCalculation','Node\x20is\x20not\x20an\x20agent','outgoingManager','arguments','Remote\x20stream\x20does\x20not\x20exist.','JobContext','getSimilarity','committed','receiverTotalMessages','newPath','renderElement','combinePeaks','stringify','setDoc','queryFile','startBidResponseHandling','text-embedding-3-large','WorkflowInvalidBlockType','addRemoteNode','Job\x20worker\x20creation\x20failed.','digest','off','key-value-database-not-open','getId','objectRequests','OutgoingMediaStreamNoTopic','debugEnabled','reasoning','code','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','getContext','read','getOutgoingOptimizationConnections','startsWith','ObjectKind','ObjectStoreCannotWriteTransaction','\x0a\x20===\x20Total\x20Data\x20Received:\x20','createSubscription','NodeTypeRequired','handleSubscriptionRestartNeedMediaStream','getAuth','nodeManager','receiverTimeProcessing','destinationIds','processPendingSyncTransactions','getWorkflowObjectStorageBuckets','canProvideResolution','deleteObject','ExternalStorageConnectorsMissing','key','transaction','description','processReport','LocalMediaStreamNoAudioContext','has','Warning','models','SubscriptionRequestNoAnswer','Received\x20','timeoutValue','canRestartHandshake','bandwidth.rtt','Error\x20fetching\x20context','Disconnected','generic-agent','isChannelEnabled','ExternalStorageNameNotString','unsubscribe','completion_tokens','component','contextOutputVariable','noun','Folder','state','syncTimeout','computeHash','event','firestore','Invalid\x20object\x20store\x20sync\x20message.','Connection\x20does\x20not\x20exist','isOffer','isSubscribed','fromEntries','workflowId','Subscription\x20request\x20failed.','getJobObservable','resolve','Model\x20ID\x20is\x20required','onGatheringStateChange','Relation','\x20finalized.','embed','ccc','setUpgradeTimeout','onremovetrack','available','JobType','.jl','localMediaStreams','handleProblem','.json','removeLocalMediaStream','ingestBlocks','Received\x20event\x20on\x20cluster','Move','Vector\x20database\x20creation\x20failed.','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','Job\x20with\x20id\x20','tableObserver','accessToken','AppSync\x20subscribe','transactionsToAppend','CloseJobDispatcher','arrayBuffer','rootComputationPromise','orchestrator','reranker','failed','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','GenerativeAIModelOutputType','vectorDatabaseConnector','setStatus','generative-ai-context-job-already-consumed','Job\x20Dispatcher\x20does\x20not\x20exist','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','Recording','MissingSystemTopic','vendorId','phi-4-14b','createIncomingSubscription','Tool','getTransactionFromTableWriteEvent','getIdToken','Key-value\x20database\x20peak\x20not\x20found.','ModelText','Writable\x20stream\x20is\x20missing','includes','PubSubTopicAlreadySubscribed','Invalid\x20layout:\x20','addVideoTrack','publishFolder','batchQueue','Generative\x20AI\x20context\x20job\x20failed.','bitrate','realtime-session-create','Issue\x20detected:\x20','InvalidPublisher','sdkValidateAccess','Missing\x20AI\x20search\x20API\x20key','internalJob','text-embedding-3-small','confirmSynchronization','KeyValueDatabaseTransactionTableNotInitialized','getDataLogged','unsubscribeListener','framesEncoded','Content','getCurrentVersion','248nkFleq','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','GenerativeAIInferenceToolType','Object\x20store\x20connector\x20is\x20not\x20available','apikeys/','collection-create','object','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','learn-agent','VectorDatabaseMissingConnector','Executing\x20custom\x20skill:\x20','api','removeKeyValueDatabase','pendingSyncTransactions','mediaTopics','\x0a\x20\x20===\x20Total\x20Nodes:\x20','getUserMedia','maxFramerate','validateKey','isInternalLoggingConnector','external-storage-upload','searchInDataCollection','onDisconnectHandler','handleSubscribeMediaStream','abs','stop','openGenerativeAIWorker','maxBpp','systemTopic','senderPreviousTimestamp','isWhereValues','topK','Update','missing-incoming-connection','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','getShareableStreamId','isNodeReady','updatePropagationProperties','getAudioVideoDelay','prompts','checkExistingPendingFileContent','getVideoTracks','file.type','handleNeedRestart','isComputingMMR','complete','Result','UnsubscribeMediaStream','.info/serverTimeOffset','getSettings','DataStream\x20onMessage','JobDispatcher:\x20Received\x20job','69033vJjnEy','key-value-database-transaction-value-not-set','messageCallback','handleChunkMessage','contentManager','/resources/generative-ai-collection/items/','choices','lastExecuted','score','sendFileRequestPayload','createSenderConnection','receiverCurrentTimestamp','RequestFileWrite','registerRemoteNode','processInboundReport','\x0a\x20===\x20Total\x20Nodes:','Connected','JobWorker:\x20Sending\x20job\x20result','eventListener','Remediation','body','eventTarget','remoteUnsubscriber','startHeartbeat','getToolParams','setDisplayName','setSinkId','Info','object-storage','totalDecodeTime','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','orderByKey','getGenerativeAIWorkers','KeyValueDatabase','assistant','VectorDatabaseDoesNotExist','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','inactive','Prompt','events','remote-connection-exists','.tpl','getEnabledChannels','/jobs','Router','generative-ai-context-job-timeout','PromptRating','Method\x20not\x20implemented.','estimatedPlayoutTimestamp','clusters/','notifyCluster','Channel\x20\x27','ReceiverOnMessage','Local\x20stream\x20does\x20not\x20exist.','subscriptionRequestsQueue','resolution','NodeManager\x20-\x20ConnectionSuccess','\x20MB','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','peer-connection','Job\x20Dispatcher\x20already\x20exists','WorkflowDoesNotExist','compareTransactions','reportMetric','/embeddings','tableName','listFiles','KeyValueDatabaseSyncRequired','processContentAvailable\x20-\x20Peak\x20comparison:','gatheringState','PayloadAction','url','onValue','image','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','Outgoing','\x27\x20reserved','getTransactionByHash','MediaStream','onUnregisterPublisher','SyncComplete','\x20not\x20found.','subject','ConnectionNotinitialized','startAt','verb','model','senderCurrentBytes','queues','UnsubscribeMediaStreamdiaStream','All\x20recipients\x20already\x20received','onCandidate','Workflow','destination','onHandshakeStateChange','waitSendBuffer','node-type-not-supported','2-digit','remainingTracks','getStatus','SyncKeyValueDatabase\x20-\x20Ancestors\x20','connect','removeTrackListeners','Cannot\x20list\x20directory:\x20','logStorage','setRemoteConnections','Jobs','receivers','setEncodingParameters','UpdateMediaStream','setEmail','getJobs','FROM\x20file','recipients','setConnectionType','addReservedTables','handshakeState','getObjectStoreBuckets','.txt','expectedTransactions','Transaction','changesUnsubscriber','contentRequestSent','/workflows/','lastTransactionId',':\x20Object\x20store\x20is\x20not\x20in\x20sync','blocks','handleConnectionSuccess','onNodeDisconnect','files','map','Cannot\x20publish\x20file:\x20','executeAgent','senderTotalMessages','audioDestination','removeRemoteNode','trace','remediationManager','result','DataChannel\x20buffer\x20is\x20full.','llama-3.1-8b','createKeyValueDatabase','handleMissingSenders','key-value-database-invalid-query','commitTrace','Human','authNode','Query\x20Generator','Support','isPartialResultResponse','Error\x20opening\x20trace','handleRemediationSystemEvents','remoteMediaStreams','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','agent','LocalMediaStreamAlreadyExists','handleNodeSystemEvents','StorageEventType','getKeyValueDatabases','deleteFile','addBatchOperation','getInternalStreamId','getDisplayName','Attempt\x20','1.0.29.0','PeerConnectionInvalidDestination','debounceReady','compileStats','setupRenderElement','isResultResponse','value','Pool','publishFile','overlap','limitToFirst','onTrack','EntityExtractor','removeSubscription','connection-no-retry-queue','ConnectionGroup','handleContentSubscribeMediaStream','rtt','RemoteMediaStreamMissingProviderId','GenerativeAIWorker:\x20CollectionDelete\x20failed','Subscription','statsReporting','NodeAlreadyExist','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','Node\x20already\x20exists.','setupStatsReporting','receiver-on-message','getPeakNode','Error\x20processing\x20retrieve','fetchUrl','ExternalStorageStats','job-worker-already-exists','unregisterSystemSource','DataStream\x20send','function','external-storage-invalid-path','search-agent','Could\x20not\x20open\x20trace','receiverUnsubscribers','getBitrate','once','sourceVideo','folder-create','configure','getHash','checkMediaStream','graphql','Cannot\x20publish\x20move\x20operation:\x20','getRemoteNode','.xlsx','audioSource','/developers/','start','custom-skill','warn','fetchContentFromUrl','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','replace','bufferedAmount','.java','currentBatch','FileWrite','Crewdle','JobDispatcherDoesNotExist','cpu.fps','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','Error\x20committing\x20batch:','setDurationTime','shared','crewdle-sdk','durationTime','getPeaks','AITrace','deleteTransactionsForTable','hasBufferedData','Missing\x20external\x20storage\x20connector','GenerativeAIEngineType','More\x20content\x20available\x20on\x20page\x20','Copywriter\x20Agent','https://crewdle-sdk-default-rtdb.firebaseio.com','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','OutgoingSubscription','getLocalMediaStreams','checkBackgrounds','setItem','getSubscribedTracks','Invalid\x20job\x20type','RemoteMediaStreamDoesNotExist','ragConnector','links','roundTripTime','Error\x20retrieving\x20context','Job\x20service\x20creation\x20failed.','chooseAnswer','CanProvideMediaStream','debounceLogTimeout','batchTimeout','file','node-does-not-exist','CrewdleConnectionGroup','condition_result','vector-database-missing-connector','Subscription\x20request\x20does\x20not\x20exist.','data-collection','hasRemoteNode','detail','GraphDatabaseDoesNotExist','topicLabel','successNotified','WriteFile','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','.ini','Cannot\x20get\x20size\x20of\x20path:\x20','numeric','.mustache','getSenderBitrate','Media','connection-not-connected','removeSubscriptionsForNode','SubscribeMediaStream','commitLevel','KeyValueDatabaseNameNotString','[DONE]','.cfg','Orchestrator\x20handleSystemEvents','title','contentMediator','removeExternalStorageConnection','remote-stream-does-not-exist','senderStreams','node-already-exist','subscriptions','text/plain','usage','list','OutputAudioStream','TextGeneration','desc','logConnectionState','loggingCycle','ready','handleContentUnsubscribeMediaStream','sendChunked','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','File\x20sending\x20interrupted','processReceivedTransactions','maxOutgoingSubscriptions','Knowledge','\x20received\x20result:','NodeNotAuthenticated','syncPendingFiles','tokens','isFailedResponse','autoplay','totalNodes','head','getIsLoaded','externalStorageConnections','joinCluster','appendTransactionAndUpdateHashMap','CloseKeyValueDatabase','removeObjectStore','filesSynced','if-else-router','prompt','catch','fileSendingMap','clientStream','key-value-database-transaction-table-not-initialized','external-storage-connection-already-subscribed','ObjectStoreInvalidState','processReports','currentBytes','docs','GraphDatabase','text/csv','publishNodeLeave','connectionConstructor','distance','generative-ai-worker-creation-failed','disconnected','unregisterPublisherListener','issues','Boolean','canvas','getRank','chunksReceived','handleFileSync','appsync-disconnect','remediations','forEach','pow','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','\x27:\x20missing\x20or\x20invalid\x20keyPath','\x20does\x20not\x20support\x20content\x20type\x20','clusterId','transactionIds','getResolutionScale','connectionTimeout','targetId','validateLayout','evaluateProccessedJob','Agent\x20output\x20is\x20not\x20a\x20string','iceConnectionState\x20failed','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','setSenderTimestamp','receiverStreams','channel','clearSubscriptionRequestTimeout','AI\x20Worker\x20already\x20exists','addNode','Missing\x20remote\x20node\x20or\x20rank','time_per_frame','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','AppSync\x20connection\x20not\x20ready','sourceId','unregisterPublisher','OpenAI','system','KeyValueDatabaseStats','getSize','AI\x20Search\x20connector\x20not\x20set','.crewdle-last-transaction','publishSyncCompleted','updateDebounce','o3-mini','Query\x20file\x20connector\x20not\x20set','collectionId','waitSuccess','Invalid\x20table\x20name\x20\x27','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','.ppt','writeFile','internalContext','getBuffer','childRemovedUnsubscriber','chunks','AudioContext','crewdle-sdk-stg.firebaseapp.com','InvalidSubscription','nlpLibraryConnector','senderCurrentTimestamp','checksum','getNumberOutgoingSubscriptions','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','Data\x20Sent','handleSubscriptionSubscribeMediaStream','createPendingFileWrite','VectorDatabaseStats','unregisterRemoteNode','getOrResetPendingFileTimeout','competitive-agent','GenerativeAIWorker:\x20Opening','WebRTCBrowserPeerConnectionConnector','Receiver\x20connection\x20is\x20not\x20initialized.','srcObject','amd','\x20with\x20','ObjectStoreDoesNotExist','logRaw','Missing\x20owner\x20node\x20or\x20rank','Subject','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','now','JobDispatcherCreationFailed','dbKey','bufferEvent','Invalid\x20value.\x20Property\x20\x27','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','handshakeCandidates','loggingConnectors','DataChannel\x20send\x20error','all-minilm-l12-v2','Embeddings','Object\x20store\x20is\x20not\x20in\x20sync','messagesReceived','removeRemoteMediaStream','history','QueryFile','VectorSearch','getDistance','internal-sdk-error','9erxzqJ','previousTimestamp','addTrack','key-value-database-invalid-value','.lua','createOffer','signaling','content','.tsx','Get','isAvailable','source','pubsubTopics','Debug','Invalid\x20credentials','connections','openExternalStorageConnection','call','job-dispatcher-job-not-found','version','Invalid\x20where\x20clause','waitForArrayBufferSize','Chosen\x20answer','Model\x20not\x20found','Search\x20in\x20data\x20collection\x20','RequestFileSync','collectReceiversStats','cluster-leave','getMaxDistance','getWorkflowExternalStorageConnections','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','13CEtLgu','jobObservers','tracks','\x20check\x20failed','operator','Job\x20service\x20job\x20not\x20found.','getSubscriptionInfo','SenderSendMessage','resetConnection','JobQueueService:\x20Running\x20job','\x20created\x20and\x20dispatched.','AudioOutput','CloseVectorDatabase','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','canChooseAnswer','addCluster','retryCallback','document-parser','error','externalStorageConnectors','file.content','request-file-write','NodeInvalidType','Missing\x20RAG\x20API\x20key','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','applyRemediation','createConstantSource','addEventListener','generative-ai-context-does-not-exist','file-list','Done','outgoingStreams','us-east-1','accumulateResult','KeyValueDatabaseContentSynchronized','ObjectStorage','publishUserUpdate','CustomSkill','getCoresFromCapacityReport','Data\x20Received','detectVideoIssues','getMediaSubscription','createOutgoingSubscription','JobWorker:\x20Received\x20job\x20request','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','GraphDatabaseCreationFailed','publish','getGenerativeAIContexts','thread-','trim','Invalid\x20data\x20event.','remoteNodes','checkSyncComplete','Hub','\x20answer','getPartsForSubscriptionLabel','ChunkSplitter','joinedAt','QueryBuilderInvalidArgument','out','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','connecting','add','extendedRecipients','Workflow\x20does\x20not\x20exist.','processContentAvailable','file-write','deleteRemoteNode','Detection','leave','recomputeRoot','KeyValueDatabaseTableDoesNotExist','System','delete','feedback-agent','trackListeners','runTransaction','json','/logs','minResolutionScale','transactionHashMap','Blank\x20Agent','RetrieveTrace','shouldProcessTransaction','getShareableStream','PubSubTopicStats','encode','graph-database-does-not-exist','object-store-invalid-path','agentConfig','collectStats','word-splitter','Receiver','Send\x20request','.crewdle-pending','Cluster','MediaStream\x20feature\x20not\x20enabled','Missing\x20index','addCandidate','Restart\x20NeedMediaStream','max','getVectorDatabases','generative-ai','2922Vxpoux','frameHeight','ExternalStorageConnectionDoesNotExist','isMediaSource','job-','output','take','setupTrackEndedListeners','traceLevel','frameTime','.xml','.hs','relation','setCurrentVersion','onChildRemoved','Remove','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','handleNodeJoin','agent-config-changed','startTracing','base64','CREWDLE_WEB_SDK','user-update','data-stream','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','Delete','.erb','Error\x20closing\x20writable\x20stream','\x20after\x20','LocalMediaStreamDoesNotExist','readyDebounce','openTrace','Number','processList','notifyObjectStoreOfNodeJoin','createGraphDatabase','December\x202023','Search','keyValueDatabases','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','handleOutgoingSystemEvents','responseTimeout','cluster','incomingTopic','senderPreviousBytes','onSnapshot','endpointUrl','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','node','authenticateUser','true','setOnDisconnectHandler','pool','JobWorker:\x20Handling\x20job\x20attribution','openJobWorker','toStringTag','invalid-data-chanel','receiverBitrate','getGraphDatabase','graph-database','random','ConnectionNoRetryQueue','local-media-stream-already-exists','getTotalNodes','systemMessages','SHA-256','PubSub\x20already\x20exists','graphService','hasTable','close','Index','MissingRemoteConnection','lastProcessRank','ObjectStoreNotSynced','\x0aAdditional\x20data:\x20','validateValue','signInWithCustomToken','handleObjectMove','Error\x20resolving\x20readyPromises:','notifyJoin','enumerateDevices','external-storage-connection-does-not-exist','orderBy','connectionState','JobWorker:\x20Tracing\x20not\x20implemented','chosenAnswers','logServiceEvent','getFirestore','ObjectStoreNameNotString','createRemoteMediaStream','RAG\x20connector\x20is\x20not\x20available','getDocs','.erl','request-file-sync','match','Cannot\x20publish\x20folder:\x20','query-file','keyValueDatabaseConnector','Unknown\x20skill\x20type','NodeManager\x20-\x20PublishNodeLeave','LoggingService:\x20logging\x20enabled\x20for','decodeJWT','InvalidDataChannel','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','pendingFilesSyncing','Signaling','getVectorDatabase','getInternalTrackParams','loadEnabledChannels','remediation','Execute\x20the\x20agent\x20','getJob','Ingest','ExternalStorage','hasTracks','setProviderId','nodes','ragConnectors','GenerativeAIWorkerAlreadyExists','pubSubTopics','supports','GetContextResult','Error\x20fetching\x20URL','removeTopic','where','not-resolved','trackEndedListeners','processSenderReport','en-US','processJob','syncedFileExists','PubSub','Node','job-worker-invalid-type','generative-ai-context-invalid-partial-result','bytesSent','.ipynb','getAncestorIds','GenerativeAIWorker:\x20FileDelete\x20failed','appsync-statechange','generative-ai-context-job-failed','No\x20parameters\x20provided','Online','agent-skill','RemoteMediaStreamAlreadyExists','logBatch','isLoaded','KeyValueDatabaseTableNameReserved','setOnMessageHandler','retrieveBlocks','Failed\x20to\x20get\x20file','Llamacpp','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','.pdf','getDatabase','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','AgentSkill','eventEmitter','createObjectStoreBucket','updateUser','sendStats','sequence','query-helper-invalid-argument','remoteId','upload','Core','pub-sub-topic-does-not-exist','evaluateBidsAndAttributeJob','createBatchOperation','JobDispatcherJobExists','split','external-storage','Missing\x20search\x20API\x20key','count','stun:','active','trackChanges','\x20sending\x20attempt\x20','getTable','resolutionScale','messagesSent','chunk','isSyncing','getLocalId','capacityReporter','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','RoundTripTime','moveObject','findNewMediaSubscription','time','mediator','processRank','generativeAIContexts','WebScraperRaw','GenerativeAIContextJobAlreadyConsumed','crewdle-sdk-stg.appspot.com','toFixed','ended','logPropagateSystemEvent','URL\x20is\x20required','frames','key-value-database-table-not-found','stopTracing','Rating','Internal\x20event\x20\x27','getConnectionDestinations','sendTransactionsValue\x20-\x20value\x20not\x20found','setRank','\x0a\x0adata:\x20','object-store-cannot-write-transaction','writeTransaction','notifyClusterNodeJoin','\x20ms\x0a','FS\x20connector\x20is\x20not\x20available','getProviderId','\x0a\x20===\x20Wait\x20Time:\x20','Support:\x20','text','setPendingFileSyncingPayload','CrewdleConnection\x20handlePeerConnectionSystemEvents','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','size','crewdleSDKLoggingChannels','endpointMethod','6495UUbBSC','crewdle-sdk.firebaseapp.com','connectorConstructor','owner','getConnectionGroup','pub-sub-topic-name-not-string','val','callback','all','getEngineType','invalid-publisher','NeedRestart','packetsLost','Cannot\x20write\x20transaction.','values','Query\x20is\x20required','openVectorDatabase','availableTrackKinds','next','.yml','Restart','stream','createConnection','listenUnsubscriber','nextNodeId','tableLayout','\x20to\x20generate\x20a\x20response.','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','videoHeight','MediaStreamPriority','Partial','tableUnsubscriber','subscribeToJobs','params','getJobWorkers','get','buildInitialMMR','KeyValueDatabaseTableNotFound','.bat','consumeBufferedEvents','generative-ai-worker-already-exists','clusters','snippet','indexOf','Offline','direction','firebaseConfig','logEvent','GenerativeAIContext','handleFolderCreate','shouldContinuePropagation','closed','setupStatsCollection','IncomingSubscription','msalRefreshToken','CloseJobWorker','object-store-already-subscribed','getRemoteMediaStream','SearchPerplexity','setInternalId','getFunctions',',\x20Transactions:\x20','long','context','GenerativeAIWorkerCreationFailed','RequestAccepted','Sender','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','insert','openKeyValueDatabase','search','calculateArrayBufferSize','Error\x20processing\x20ingest','WebRTC','AiSearch','.awk','JobDispatcherAlreadyExists','openJobDispatcher','boolean','writes','streamId','sendRequest','receiverPreviousTimestamp','RelationExtractor','getLayout','JobWorkerAlreadyExists','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','handleFileRequest','DataChannel\x20is\x20not\x20open.','captureStream','.crewdle-layout','push','pop','Query\x20must\x20refer\x20to\x20the\x20file\x20table','handleSubscriptionProvideMediaStream','\x20must\x20be\x20a\x20valid\x20JSON\x20string','file-download','retry','.ejs','addConnection','Execute\x20skill\x20','>\x0a\x0a','handleError','Conditional\x20Router','getRemoteId','stats','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','.conf','.ex','accumulated','AudioVideoDelay','tools','Data','removeConnection','completeSync','index','getPacketsLostPerc','JobWorker:\x20Sending\x20job\x20reject','addProblem','initializeSystemTopic','Stream\x20does\x20not\x20exist','parseWorkflowDocument','query-generator','Remote\x20connection\x20already\x20exists.','NodeLeave','getAgents','/nodes/','RemoteConnectionExists','collection-query','hash','unregisterDestination','detectionManager','ClosePubSubTopic','bind','DataCollectionDoesNotExist','openObjectStoreBucket','Learning\x20Agent','buffer','getReader','Invalid\x20version\x20\x27','/vector_stores/','Consuming\x20buffered\x20event','key-value-database-table-name-reserved','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','readyPromises','KeyValueDatabaseInvalidLayout','maps','WebScraper','addIssue','isValidMediaSubscriptionParams','Early\x20return','removeNode','Stats:\x20report','searchApiKey','Generative\x20AI\x20context\x20job\x20timeout.','getEstimatedTimestamp','.vbs','padStart','receiverCurrentBytes','Failed','commitBatch','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','batch','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','clearWaitSuccess','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','currentVersion','systemTopicUnsubscribe','decode','debounceReadyTimeout','Error\x20stringifying\x20object','.sh','answers','play','Success','Optimization','request-file','receiverConnection','type','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','receiver','syncResolve','GenerativeAIContextJobTimeout','handleRequestPayload','InvalidSubscriber','Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','removeTrackCallback','setLoggingConnectors','ExternalStorageConnectionAlreadyExists','key-value-database-index-not-found','jobType','openGenerativeAIContext','cpu.cycle','orchestrator-close','getContent','configs','job-dispatcher-does-not-exist','right','DataChannel\x20is\x20not\x20initialized.','localId','Jitter','write-file','handleFileRequestAnswer','ConnectionBufferNotEmpty','totalEncodeTime','videoWidth','getBid','Key-value\x20database\x20creation\x20failed.','restartHandshake','detectAudioIssues','_isReady','onloadeddata','getObjectStoreBucket','getMediaStream','registerSubscriber','resume','Disconnect','checkWebRTC','registerPublisher','crewdle-sdk-logging-','createFolder','label','getConfigs','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','open','RestartNeedMediaStream','results','documentPath','move','ingestFile','getToolName','topic','content-unpublish-media','inputType','groupId','June\x202024','answerContentAvailable','senders','user-join','GenerativeAILabelConflict','GenerativeAIWorkerStats','ExternalStorageConnection\x20not\x20found','AppSync\x20client\x20not\x20ready','queueLength','updateLastTransactionId','temperature','Bid','removeItem','handleContentSystemEvents','handleAnswer','getLastUpdated','createGain','Connection\x20does\x20not\x20exist.','grammar','feature-not-enabled','cachedRoot','generativeAIWorkerConnectors','maxThreshold','.handlebars','Account','syncTransactionsWritten','instantiateTransactionTable','connection-state','GraphDatabase\x20not\x20found','client','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','.vb','\x20is\x20required','GenerativeAIContextJobMissingThreadId','Joined\x20cluster','openPubSubTopic','uid','email','crewdle','topics','propagate','maxLayer','waitConnected','VectorDatabase','handleNoAnswer','aws','processTransactionsToComputeMMR','getInstance','getEntities','graphDatabaseConnector','getRoundTripTime','Error','getPriority','handleNodeUpdate','openAIKey','processReceiverReport','node-invalid-type','load','FolderDelete','Agent','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','ObjectStorageUpload','executeJavascriptCodeSnippet','Code\x20is\x20required','Connection\x20not\x20initialized.','1:519415702791:web:5dd39042f881cfde3251a2','KeyValueDatabaseDoesNotExist','authenticateAgent','internalProcessJobStream','.pptx','ObjectStoreAlreadySubscribed','handleDetectionSystemEvents','sendFile','StreamReport','connectionManager','DTVolatility','\x20failed.','connectionStateListener','globalObject','vectorDatabases','messageBuffer','workflow-invalid-block-type','dataBucketIds','jobPhase','removeTrack','ApiKeyMissing','KeyValueDatabaseSendTransactions','registerDestination','clearWaitAnswer','ragApiKey','getNextTargetRank','logLevel','getPubSubTopics','isPromiseResolved','Data\x20cluster\x20is\x20not\x20open.','IntermediateOutput','northamerica-northeast1','NodeManager\x20-\x20NodeLeave','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','.hbs','setPriority','content-publish-media','remote-inbound-rtp','observer','isJobRequest','connectAgent','manageAncestor','sync','Invalid\x20peer\x20connection\x20event\x20destination.','parse','data','Completed','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','RemoteMediaStreamTrackFail','width','\x27\x20to\x20','queries','local-media-stream-no-audio-context','Invalid\x20job\x20worker\x20type.','providerListener','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','clientWidth','registerSystemSource','maxDistance','providerId','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','minThreshold','cluster-already-joined','threadId','.crewdle-transactions','outgoing-stream-no-topic','Cannot\x20get\x20file:\x20','Invalid\x20data\x20channel.','nodeId','STVolatility','addBidResponse','addAudioTrack','\x20transactions\x20from\x20node\x20','handleSubscriptionUnsubscribeMediaStream','1.0.29','MistletCapacityReportNotSet','Connection','handshakeDebounce','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','optimizationLayers','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','setReceiverBytes','publishSyncCompletedAfterWrites\x20-\x20','Memory\x20Usage\x20at\x20','ContentType','ReadableStream\x20is\x20not\x20supported','clearRect','commitType','restartTimeout','data-collection-does-not-exist','engineType','Queued','No\x20destinationIds\x20left','getTotalBytes','webgl','layout','unshift','PeerConnection','handleContentUnpublishMediaStream','onDisconnect','jobId','setParams','auth','ObjectStoreInvalidPath','then','ObjectStore','handlePeerConnectionSystemEvents','KeyValueDatabaseInvalidQuery','publishLocalDynamicMediaStream','addDoc','writeBatch','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','gain','priority','2rzDqKT','Mistlet\x20capacity\x20report\x20not\x20set.','wait','candidate','Summary\x20Generator','handleHandshake','contextInputVariable','GraphDatabaseMissingConnector','missing-system-topic','.php','ExecuteCode','default','findNextNodeId','PubSubTopic\x20publish','isReconnecting','AudioContext\x20is\x20not\x20available','OptimizationConnectionSuccess','Job','documentParserConnector','clusterKey','No\x20RAG\x20connector\x20available','Receiving\x20\x27','\x27\x20in\x20table\x20\x27','answerJoin','canAddCandidates','getTime','Received\x20ContentSynchronized\x20from\x20','GenerativeAIRagType','AI\x20Service\x20already\x20exists','keys','resizeHandler','isRunning','\x20already\x20exists','PromptSource','jobBids','substring','bytesReceived','generative-ai-context-job-invalid-type','getTableConnector','createLocalDynamicMediaStream','.docx','reduce','List','apiUrl','answer','collection','JobWorkerInvalidType','jobDispatchers','filteredDestinationIds','upgrade','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','TimePerFrame','Reranker\x20block\x20is\x20missing\x20required\x20data','\x20-\x20','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','entities','evaluateBids','sonar','authService','features','authContext','blockId','support','DataCollection','NodeType','outgoingTopic','handleNodeJoinNeedPublishedStream','isWhereBetween','debounceStats','.pug','\x20not\x20supported','October\x202023','Failed\x20to\x20send\x20job\x20','setLocalRank','total','debounceProcessRank','Default','server','codes','web-scraper-raw','mmrRoot','WaitTrue','internalProcessJob','scheduleTime','CloseObjectStoreBucket','CannotProvideMediaStream','GraphSearch','trackCallback','oncloseTimeout','pub-sub-topic-already-subscribed','connection','UnpublishMediaStream','Problem\x20detected:\x20','pendingFilesTransactions','DeviceConfig','searchOnGoogle','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','.vue','appsync-connect','ai-search','createPubSubTopic','nodeKey','tool-call','Upload','setInterval','keyPath','createDataChannel','closeSubscription','rating','checkWebGL','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','messageUnsubscriber','Dedicated','timePerFrame','JobDispatcherInvalidJobType','wait-true','listenerUnsubscribers','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','Medium','POST','processServiceReport','mmr','problemType','outputType','senderConnection','queryParameters','warning','tool','msalGetAccessToken','senderTimeProcessing','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','openai','page','GenerativeAIModelInputType','Competitive\x20Analysis\x20Agent','getMinConnections','subscriptionManager','logDataReceived','parentId','relevance','inputTokens','GenerativeAIContextJobInvalidType','handleSuccess','CPUCycle','/resources/agent/items/','deleteFileChunks','Embed','Offer','Code','CloseGraphDatabase','Vector','JobDispatcherObserverNotFound','createJob','fps','/transactions/lastTransaction','developers/','KeyValueDatabaseContentAvailable','DocumentParser','media-stream','0\x20B','WebGL','From\x20','createLocalMediaStream','shift','reset','floor','Error\x20reading\x20file\x20chunk\x20after\x20','ObjectStoreInvalidPayload','sendBid','left','Shared','Pinecone','operations','getConnectionType','\x20completed.','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','closeTopic','Invalid\x20workflow\x20block\x20type.','query','getSubscriptionLabel','setVendorId','buildTableEvent','ExecuteAgent','handleUnpublishMediaStream','handleObjectDelete','collection-delete','some','failJob','suspended','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','subscriptionRequests','createBuffer','length','\x0a\x20===\x20Current\x20MMR\x20Root','waitAnswer','GenerativeAITaskType','\x20already\x20exists.','String','InternalSDKError','createElement','ObjectStorageBucket','handleSystemEvents','subscription-request-no-answer','subscription','text/','instructions','PubSubTopicDoesNotExist','Error\x20querying\x20file','-leave','timeoutCallback','discover','unpublish','handlePublishMediaStream','getMaxConnections','runJobQueue','options','key-value-database-invalid-layout','Invalid\x20query','pendingFilesRename','subscribedTracks','RequestFile','sort','externalStorages','key-value-database','handleTransactionPayload','element','Reranker','createMediaStreamSource','WaitFalse','ConnectionState','emit','getSentences','commit','application/json','Received\x20track','createAIJob','/stats','storage','timestamp','append','Error\x20executing\x20code','closeTrace','initialize','logger','getApp','origin','setReportCapacity','evaluatePartialJob','onDataChannel','Handshake','Pending','blank-agent','publishSystemMessage','.jinja','getOwnerId','SenderPeerConnection.send','object-store-invalid-state','/nodes','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','JobQueueService:\x20Job\x20completed','cleanOldSubscription','invalid-access','GetContextQuery','retryDelay','ner','user','run','queryOrPrompt','searchOnPerplexity','mediaStream','objectStores','Node\x20does\x20not\x20exist.','vectors','signOut','feedback','KeyValueDatabase\x20-\x20Sync\x20completed','getRemoteConnections','JobDispatcherInvalidPayload','SentenceSplitter','connectionGroup','getExternalStorageConnection','firebaseUnsubscriber','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','RemoteRemove','fileChunks','removePubSubTopic','searchEngineId','readyResolve','SystemStats','exports','application/octet-stream','\x20must\x20be\x20a\x20number','RemoteRemediation','createGenerativeAIWorker','.clj','processOutboundReport','ref','transactionService','.info/connected','\x20attempts:','parseDataCollectionBlocks','Audio','local-stream-does-not-exist','JobWorkerCreationFailed','VectorDatabase\x20not\x20found','sender','GenerativeAIContextAlreadyExists','@context.','.xls','jobWorkers','JobStatus','debounceAppendLog','LoadSkillFunction','checkDeviceConfig','object-store-name-not-string','getAudioTracks','skipEncryption','track','retryLimit','DataStream','clientHeight','openaiApiKey','AISearch','syncKeyValueDatabase','manageBufferedChunks','isProduction','rate','PubSubTopic\x20onMessage','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','vector-database-already-exists','messageType','removeEventListener','gpt-4o','inference','find','Archival\x20Search\x20Agent','incrementVersion','getEmail','copywriter-agent','disconnect','api-key-missing','startNoThrottlingHack','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','publishMove','ClusterAlreadyJoined','collectTransactionsFromNode','upgradeTimeout','startIndex','startLoggingCycle','discoveryService','maxBitrate','getRemoteNodes','peakHeights','queryFileConnector','min','prompt_tokens','splice','Unsupported\x20job\x20type','FolderMove','publishTransaction','CrewdleReceiverConnection\x20ontrack','getRemoteMediaStreams','slice','interval','dt_volatility','NodeConnectionsUpdate','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','prototype','counter','processPendingHandshakeCandidates','Job\x20','hashTransaction','1085141uUMLob','mute','PubSubTopicAlreadyExists','__esModule','Prompt\x20is\x20required','All','createVectorDatabase','message','Internal\x20error:\x20','dataUnsubscribers','FramePerSecond','loop','asc','functions','app','createAnswer','signalingServer','User','height','answererId','Accepted','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','currentDistance','processRemoteInboundReport','pendingHandshakeCandidates','createMediaStreamDestination','Key-value\x20database\x20table\x20does\x20not\x20exist.','doc','cpu.time_per_frame','processOutboundReports','KeyValueDatabaseCreationFailed','ObjectStoreAlreadyExists','bid','signalingState','No\x20global\x20object\x20found','\x20new\x20transactions','subscription-request-does-not-exist','getDTVolatility','get-content','lastRemediations','getGraphDatabases','/traces','isOpened','stopConnection','syncTransactions','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','generative-ai-worker-missing-connector','timeSending','createBufferSource','Generative\x20AI\x20context\x20creation\x20failed.','removeJobWorker','muted','GenerativeAIContextJobFailed','setupResizeHandler','packets','ObjectStoreStats','sendWithRetry','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','transformations','send\x20error\x20on\x20','isBidResponse','Internal\x20SDK\x20Error:\x20','exists','KeyValueDatabaseNotOpen','transactions','dataChannel','name','Downgrade','checkAudioVolume','KeyValueDatabaseInvalidValue','File','delta','getReport','disconnectCallback','Text','undefined','wait-false','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','Agent\x20group\x20not\x20found','/transactions','debounceRebuildMMRWithTransaction','handleLocalTrackFailure','addEdge','Bitrate','currentTimestamp','clear','success','offset','processBatch','requestSubscription','\x20deleted.','from','drawImage','Problem','subscriptionRequestTimeouts','getLocalNode','createReceiverConnection','hashNodes','getPubSubTopic','addPendingHandshakeCandidate','clearOncloseTimeout','.groovy','Invalid\x20node\x20type','High','observe','Invalid\x20params','Before\x20Synchronization','chunk-splitter','llama-3.2-3b','isNeedRestart','clockSkew','CloseExternalStorageConnection','pathName','getContentType','FetchUrl','clearSyncTimeout','filter','minRelevance','8059786JvUuqF','crewdleSDKEnableLogging','JobWorkerDoesNotExist','AI\x20worker\x20creation\x20failed.','sentence-splitter','streams','false','filename','remoteConnections','Node\x20type\x20is\x20invalid','Publish\x20the\x20transaction','GenerativeAIContextStats','if_else','replaceTrack','syncContent','Invalid\x20key\x20\x27','displayName','GenerativeAIWorkerModelSyncError','secheduleTime'];a0_0x1cc4=function(){return _0x263b09;};return a0_0x1cc4();}(function(_0x4cb5d4,_0x572d0b){const _0x1faa15=a0_0x2367,_0x143f31=_0x4cb5d4();while(!![]){try{const _0x45e14e=parseInt(_0x1faa15(0x970))/0x1*(parseInt(_0x1faa15(0x7fb))/0x2)+parseInt(_0x1faa15(0x339))/0x3*(parseInt(_0x1faa15(0x305))/0x4)+parseInt(_0x1faa15(0x65d))/0x5*(parseInt(_0x1faa15(0x57d))/0x6)+-parseInt(_0x1faa15(0x9e7))/0x7+-parseInt(_0x1faa15(0xb48))/0x8*(parseInt(_0x1faa15(0x4f7))/0x9)+parseInt(_0x1faa15(0xac7))/0xa*(parseInt(_0x1faa15(0x244))/0xb)+parseInt(_0x1faa15(0xa1d))/0xc*(-parseInt(_0x1faa15(0x516))/0xd);if(_0x45e14e===_0x572d0b)break;else _0x143f31['push'](_0x143f31['shift']());}catch(_0x245185){_0x143f31['push'](_0x143f31['shift']());}}}(a0_0x1cc4,0xd64f4),!function(_0x111005,_0x114809){const _0x25a40e=a0_0x2367;if(_0x25a40e(0x30b)==typeof exports&&'object'==typeof module)module[_0x25a40e(0x91d)]=_0x114809();else{if(_0x25a40e(0x3ff)==typeof define&&define[_0x25a40e(0x4dd)])define([],_0x114809);else{var _0x1b793b=_0x114809();for(var _0x1d0d50 in _0x1b793b)('object'==typeof exports?exports:_0x111005)[_0x1d0d50]=_0x1b793b[_0x1d0d50];}}}(this,()=>((()=>{'use strict';const _0x49e620=a0_0x2367;var _0x24eacd={0x14d:(_0x2036d,_0x404cc3,_0x3a664c)=>{const _0x199acb=a0_0x2367;_0x3a664c['d'](_0x404cc3,{'O':()=>_0x585a8a});const _0x585a8a={'version':_0x199acb(0x3dd),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x199acb(0xa81),'authDomain':_0x199acb(0x4cb),'databaseURL':_0x199acb(0x766),'projectId':'crewdle-sdk-stg','storageBucket':_0x199acb(0x640),'appId':_0x199acb(0x789),'functionsRegion':_0x199acb(0x7a8)},'apiUrl':_0x199acb(0x1f1),'google':{'searchEngineId':_0x199acb(0xb67)},'aws':{'endpoint':_0x199acb(0x6b3),'region':_0x199acb(0x536)}};},0x33b:(_0x53b7ea,_0x160676,_0x1616b0)=>{_0x1616b0['d'](_0x160676,{'O':()=>_0x41ae78});const _0x41ae78={};},0x3e6:(_0x53457f,_0x21bc33,_0x393fd4)=>{const _0x1c1b33=a0_0x2367;_0x393fd4['d'](_0x21bc33,{'O':()=>_0xcd1372});const _0xcd1372={'version':_0x1c1b33(0x7d3),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x1c1b33(0x415),'authDomain':_0x1c1b33(0x65e),'databaseURL':_0x1c1b33(0x42c),'projectId':_0x1c1b33(0x422),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':'420235181083','appId':'1:420235181083:web:4eff6062bd845cb0748cbe','measurementId':'G-F7W8KXRKQB'},'apiUrl':'https://api.crewdle.ai','aws':{'endpoint':_0x1c1b33(0xa74),'region':'us-east-1'}};},0x20:(_0x478bef,_0x5be867,_0x21f442)=>{_0x21f442['d'](_0x5be867,{'O':()=>_0x582277});const _0x582277={};}},_0x4bf2a0={};function _0x3753b6(_0x1dbad8){const _0x3a2fa8=a0_0x2367;var _0x233951=_0x4bf2a0[_0x1dbad8];if(void 0x0!==_0x233951)return _0x233951[_0x3a2fa8(0x91d)];var _0x37d7b8=_0x4bf2a0[_0x1dbad8]={'exports':{}};return _0x24eacd[_0x1dbad8](_0x37d7b8,_0x37d7b8[_0x3a2fa8(0x91d)],_0x3753b6),_0x37d7b8[_0x3a2fa8(0x91d)];}_0x3753b6['d']=(_0x571908,_0x182d52)=>{for(var _0x2c2f2b in _0x182d52)_0x3753b6['o'](_0x182d52,_0x2c2f2b)&&!_0x3753b6['o'](_0x571908,_0x2c2f2b)&&Object['defineProperty'](_0x571908,_0x2c2f2b,{'enumerable':!0x0,'get':_0x182d52[_0x2c2f2b]});},_0x3753b6['g']=(function(){const _0x444e51=a0_0x2367;if(_0x444e51(0x30b)==typeof globalThis)return globalThis;try{return this||new Function(_0x444e51(0x245))();}catch(_0x50b036){if(_0x444e51(0x30b)==typeof window)return window;}}()),_0x3753b6['o']=(_0x43c3cc,_0x1f7305)=>Object[_0x49e620(0x96b)]['hasOwnProperty'][_0x49e620(0x508)](_0x43c3cc,_0x1f7305),_0x3753b6['r']=_0x42e375=>{const _0x1a087c=_0x49e620;_0x1a087c(0x9bc)!=typeof Symbol&&Symbol[_0x1a087c(0x5b4)]&&Object['defineProperty'](_0x42e375,Symbol[_0x1a087c(0x5b4)],{'value':'Module'}),Object[_0x1a087c(0x232)](_0x42e375,_0x1a087c(0x973),{'value':!0x0});};var _0x3608be,_0x474c1d,_0xad09e4,_0x254e17={};_0x3753b6['r'](_0x254e17),_0x3753b6['d'](_0x254e17,{'KeyValueDatabase':()=>_0x3a199c,'LayoutBuilder':()=>_0x59ee41,'LoggingChannels':()=>_0xad09e4,'QueryBuilder':()=>_0x1d918f,'SDK':()=>_0x418fe9,'SDKClientErrorCodes':()=>_0x3608be,'TableBuilder':()=>_0x2b0676,'logger':()=>_0xb8b103}),function(_0x50feeb){const _0x2c3688=_0x49e620;_0x50feeb[_0x2c3688(0x79d)]=_0x2c3688(0x950),_0x50feeb['ConnectionBufferNotEmpty']='connection-buffer-not-empty',_0x50feeb[_0x2c3688(0x954)]=_0x2c3688(0x7c7),_0x50feeb[_0x2c3688(0x719)]='external-storage-connection-already-exists',_0x50feeb[_0x2c3688(0xa4a)]=_0x2c3688(0x486),_0x50feeb[_0x2c3688(0x57f)]=_0x2c3688(0x5ce),_0x50feeb[_0x2c3688(0x297)]='external-storage-connectors-missing',_0x50feeb[_0x2c3688(0xa8f)]=_0x2c3688(0x400),_0x50feeb[_0x2c3688(0x2a9)]=_0x2c3688(0xab8),_0x50feeb[_0x2c3688(0x9ff)]=_0x2c3688(0x75b),_0x50feeb[_0x2c3688(0x92e)]='generative-ai-context-already-exists',_0x50feeb['GenerativeAIContextDoesNotExist']=_0x2c3688(0x532),_0x50feeb[_0x2c3688(0x769)]='generative-ai-context-job-missing-thread-id',_0x50feeb[_0x2c3688(0x889)]=_0x2c3688(0x820),_0x50feeb[_0x2c3688(0x74c)]='generative-ai-label-conflict',_0x50feeb['GenerativeAIWorkerAlreadyExists']=_0x2c3688(0x685),_0x50feeb['GenerativeAIWorkerMissingConnector']=_0x2c3688(0x99f),_0x50feeb[_0x2c3688(0x9f8)]='generative-ai-worker-model-sync-error',_0x50feeb[_0x2c3688(0xa07)]=_0x2c3688(0xa20),_0x50feeb[_0x2c3688(0x447)]=_0x2c3688(0x56d),_0x50feeb['GraphDatabaseMissingConnector']='graph-database-missing-connector',_0x50feeb[_0x2c3688(0xb71)]='graph-database-name-not-string',_0x50feeb[_0x2c3688(0x6a9)]='job-dispatcher-already-exists',_0x50feeb[_0x2c3688(0x41c)]=_0x2c3688(0x721),_0x50feeb['JobDispatcherJobExists']=_0x2c3688(0xb1f),_0x50feeb[_0x2c3688(0xb03)]=_0x2c3688(0x509),_0x50feeb[_0x2c3688(0x86e)]='job-dispatcher-invalid-job-type',_0x50feeb[_0x2c3688(0x6b2)]=_0x2c3688(0x3fc),_0x50feeb[_0x2c3688(0x9e9)]=_0x2c3688(0xb0b),_0x50feeb[_0x2c3688(0x990)]='object-store-already-exists',_0x50feeb[_0x2c3688(0x78e)]=_0x2c3688(0x695),_0x50feeb[_0x2c3688(0x4df)]='object-store-stream-does-not-exist',_0x50feeb[_0x2c3688(0x5d5)]=_0x2c3688(0x936),_0x50feeb['ObjectStoreInvalidPayload']='object-store-invalid-payload',_0x50feeb[_0x2c3688(0x7f0)]=_0x2c3688(0x56e),_0x50feeb['ObjectStoreNotInSync']='object-store-not-in-sync',_0x50feeb[_0x2c3688(0x8c2)]=_0x2c3688(0x4f6),_0x50feeb[_0x2c3688(0xb3d)]=_0x2c3688(0x901),_0x50feeb['KeyValueDatabaseAlreadyExists']='key-value-database-already-exists',_0x50feeb[_0x2c3688(0x78a)]='key-value-database-does-not-exist',_0x50feeb[_0x2c3688(0xaac)]=_0x2c3688(0x71a),_0x50feeb['KeyValueDatabaseInvalidQuery']=_0x2c3688(0x3c8),_0x50feeb[_0x2c3688(0x9b6)]=_0x2c3688(0x4fa),_0x50feeb[_0x2c3688(0x456)]='key-value-database-name-not-string',_0x50feeb[_0x2c3688(0x9b0)]=_0x2c3688(0x27d),_0x50feeb[_0x2c3688(0x610)]=_0x2c3688(0x6eb),_0x50feeb['KeyValueDatabaseTableNotFound']=_0x2c3688(0x646),_0x50feeb[_0x2c3688(0x6ee)]=_0x2c3688(0x8d4),_0x50feeb['LocalMediaStreamAlreadyExists']=_0x2c3688(0x5bb),_0x50feeb['LocalMediaStreamNoAudioContext']=_0x2c3688(0x7bd),_0x50feeb['PubSubTopicAlreadyExists']='pub-sub-topic-already-exists',_0x50feeb[_0x2c3688(0x8ca)]=_0x2c3688(0x623),_0x50feeb[_0x2c3688(0xb2d)]=_0x2c3688(0x662),_0x50feeb[_0x2c3688(0x2f0)]=_0x2c3688(0x854),_0x50feeb[_0x2c3688(0x550)]=_0x2c3688(0x61f),_0x50feeb[_0x2c3688(0x60d)]=_0x2c3688(0xa97),_0x50feeb['RemoteMediaStreamInvalidSubscriptionParams']='remote-media-stream-invalid-subscription-params',_0x50feeb['SubscriptionRequestInProgress']='subscription-request-in-progress',_0x50feeb[_0x2c3688(0x472)]=_0x2c3688(0xacf),_0x50feeb[_0x2c3688(0x52c)]=_0x2c3688(0x780),_0x50feeb['NodeTypeNotSupported']=_0x2c3688(0x399),_0x50feeb[_0x2c3688(0x28d)]='node-type-required',_0x50feeb[_0x2c3688(0xaf6)]=_0x2c3688(0x945),_0x50feeb[_0x2c3688(0x35c)]=_0x2c3688(0xb07),_0x50feeb['VectorDatabaseMissingConnector']=_0x2c3688(0x442),_0x50feeb[_0x2c3688(0x1e0)]='vector-database-name-not-string';}(_0x3608be||(_0x3608be={}));class _0x2c2152 extends Error{[_0x49e620(0x283)];constructor(_0xd100c3,_0x2ad11e){const _0x42fed9=_0x49e620;super(_0x2ad11e),this[_0x42fed9(0x283)]=_0xd100c3;}}!function(_0x523f8b){const _0x1849bc=_0x49e620;_0x523f8b['PubSub']='pubsub',_0x523f8b[_0x1849bc(0x539)]=_0x1849bc(0x355),_0x523f8b[_0x1849bc(0x35a)]=_0x1849bc(0x8db),_0x523f8b[_0x1849bc(0x773)]=_0x1849bc(0xb01),_0x523f8b[_0x1849bc(0x48b)]=_0x1849bc(0x5b8),_0x523f8b['ExternalStorage']='external-storage',_0x523f8b[_0x1849bc(0x387)]=_0x1849bc(0x89a),_0x523f8b[_0x1849bc(0x68d)]=_0x1849bc(0x57c);}(_0x474c1d||(_0x474c1d={})),function(_0x4a0b75){const _0x3040b4=_0x49e620;_0x4a0b75[_0x3040b4(0x975)]=_0x3040b4(0x665),_0x4a0b75[_0x3040b4(0x847)]='default',_0x4a0b75[_0x3040b4(0x7d5)]=_0x3040b4(0x855),_0x4a0b75[_0x3040b4(0x8e1)]=_0x3040b4(0x763),_0x4a0b75[_0x3040b4(0x575)]=_0x3040b4(0x5a7),_0x4a0b75[_0x3040b4(0x303)]=_0x3040b4(0x4fe),_0x4a0b75['DataStream']=_0x3040b4(0x594),_0x4a0b75[_0x3040b4(0x55a)]='detection',_0x4a0b75[_0x3040b4(0xb27)]=_0x3040b4(0x360),_0x4a0b75[_0x3040b4(0x77b)]=_0x3040b4(0x528),_0x4a0b75['Jobs']=_0x3040b4(0xa14),_0x4a0b75[_0x3040b4(0x35a)]=_0x3040b4(0x8db),_0x4a0b75[_0x3040b4(0x601)]=_0x3040b4(0x5ad),_0x4a0b75[_0x3040b4(0x3e4)]=_0x3040b4(0x5b1),_0x4a0b75['PubSub']='pubsub',_0x4a0b75['ReceiverOnMessage']=_0x3040b4(0x3f7),_0x4a0b75[_0x3040b4(0x34c)]='remediation',_0x4a0b75['SenderSendMessage']='sender-send-message',_0x4a0b75['Signaling']=_0x3040b4(0x4fd),_0x4a0b75[_0x3040b4(0x1f9)]=_0x3040b4(0x6c6),_0x4a0b75[_0x3040b4(0x3f1)]='subscription',_0x4a0b75[_0x3040b4(0x3cd)]=_0x3040b4(0x839),_0x4a0b75[_0x3040b4(0x55e)]=_0x3040b4(0x4b7),_0x4a0b75[_0x3040b4(0x91c)]='system-stats',_0x4a0b75[_0x3040b4(0x1c4)]=_0x3040b4(0xb33),_0x4a0b75[_0x3040b4(0x7ea)]=_0x3040b4(0x374);}(_0xad09e4||(_0xad09e4={}));const _0x596e17=require('@crewdle/web-sdk-types');class _0x1d918f{[_0x49e620(0x8ae)];constructor(_0x450bfa){const _0xbe5750=_0x49e620;this[_0xbe5750(0x8ae)]={'orderBy':{'key':_0x450bfa,'direction':_0xbe5750(0x97c)}};}static[_0x49e620(0x6d0)](_0x5654c2){const _0x49804e=_0x49e620;if('string'!=typeof _0x5654c2||0x0===_0x5654c2['length'])throw new _0x2c2152(_0x3608be[_0x49804e(0x550)],_0x49804e(0x6fe));return new _0x1d918f(_0x5654c2);}static['validateQuery'](_0x40dee7){try{return _0x1d918f['buildQuery'](_0x40dee7),!0x0;}catch(_0x320760){return!0x1;}}static[_0x49e620(0x24c)](_0x538a26){const _0x509bde=_0x49e620,_0x2437e5=_0x1d918f[_0x509bde(0x6d0)](_0x538a26[_0x509bde(0x5cf)]?.['key']??_0x538a26['where']?.[_0x509bde(0x298)]??'');if(_0x538a26[_0x509bde(0x5f9)]){const _0x110845=_0x538a26[_0x509bde(0x5f9)];if((_0x1d918f['isWhereValue'](_0x110845)||_0x1d918f[_0x509bde(0x323)](_0x110845)||_0x1d918f[_0x509bde(0x83e)](_0x110845))&&_0x2437e5['where'](_0x110845['operator'],_0x110845['value']),_0x538a26[_0x509bde(0x5cf)]?.['key']&&_0x538a26[_0x509bde(0x5cf)]?.[_0x509bde(0x298)]!==_0x538a26[_0x509bde(0x5f9)][_0x509bde(0x298)])throw new _0x2c2152(_0x3608be[_0x509bde(0x550)],_0x509bde(0x2e3));}return _0x538a26[_0x509bde(0x5cf)]&&_0x2437e5['orderBy'](_0x538a26[_0x509bde(0x5cf)][_0x509bde(0x68a)]),_0x538a26[_0x509bde(0x215)]&&_0x2437e5['limit'](_0x538a26[_0x509bde(0x215)]),_0x538a26['offset']&&_0x2437e5[_0x509bde(0x9c8)](_0x538a26[_0x509bde(0x9c8)]),_0x2437e5;}[_0x49e620(0xa18)](){const _0x5f4499=_0x49e620;return{...this[_0x5f4499(0x8ae)]};}[_0x49e620(0x5f9)](_0x4224b0,_0x648d37){const _0x6e7c75=_0x49e620,_0x315afe={'key':this[_0x6e7c75(0x8ae)][_0x6e7c75(0x5cf)][_0x6e7c75(0x298)],'operator':_0x4224b0,'value':_0x648d37};if(!_0x1d918f['isWhereValue'](_0x315afe)&&!_0x1d918f[_0x6e7c75(0x323)](_0x315afe)&&!_0x1d918f[_0x6e7c75(0x83e)](_0x315afe))throw new _0x2c2152(_0x3608be[_0x6e7c75(0x550)],_0x6e7c75(0x50b));return this[_0x6e7c75(0x8ae)][_0x6e7c75(0x5f9)]=_0x315afe,this;}[_0x49e620(0x5cf)](_0x5039e4){const _0x247765=_0x49e620;if(_0x247765(0x97c)!==_0x5039e4&&_0x247765(0x466)!==_0x5039e4)throw new _0x2c2152(_0x3608be[_0x247765(0x550)],'Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc');return this[_0x247765(0x8ae)][_0x247765(0x5cf)]['direction']=_0x5039e4,this;}[_0x49e620(0x215)](_0x297617){const _0x58b4d0=_0x49e620;if(_0x58b4d0(0xb50)!=typeof _0x297617||_0x297617<0x0)throw new _0x2c2152(_0x3608be[_0x58b4d0(0x550)],_0x58b4d0(0x85b));return this[_0x58b4d0(0x8ae)][_0x58b4d0(0x215)]=_0x297617,this;}[_0x49e620(0x9c8)](_0x4d203d){const _0x2683b3=_0x49e620;if(_0x2683b3(0xb50)!=typeof _0x4d203d||_0x4d203d<0x0)throw new _0x2c2152(_0x3608be[_0x2683b3(0x550)],_0x2683b3(0x233));return this['query'][_0x2683b3(0x9c8)]=_0x4d203d,this;}static['isWhereValue'](_0x134ec6){const _0x8b4777=_0x49e620;if(!(_0x134ec6&&_0x8b4777(0x30b)==typeof _0x134ec6&&_0x8b4777(0x51a)in _0x134ec6&&'value'in _0x134ec6))return!0x1;const {operator:_0xac4fc1,value:_0x45d938}=_0x134ec6;return!(!['==','!=','>','<','<=','>='][_0x8b4777(0x2ef)](_0xac4fc1)||Array[_0x8b4777(0xa0d)](_0x45d938));}static[_0x49e620(0x323)](_0x5766a3){const _0x233ea5=_0x49e620;if(!(_0x5766a3&&_0x233ea5(0x30b)==typeof _0x5766a3&&_0x233ea5(0x51a)in _0x5766a3&&_0x233ea5(0x3e3)in _0x5766a3))return!0x1;const {operator:_0x2f76fd,value:_0x4901c5}=_0x5766a3;return!(!['in',_0x233ea5(0x230)]['includes'](_0x2f76fd)||!Array[_0x233ea5(0xa0d)](_0x4901c5));}static[_0x49e620(0x83e)](_0x2f8698){const _0x32e43d=_0x49e620;if(!(_0x2f8698&&_0x32e43d(0x30b)==typeof _0x2f8698&&_0x32e43d(0x51a)in _0x2f8698&&_0x32e43d(0x3e3)in _0x2f8698))return!0x1;const {operator:_0x253448,value:_0x51bb3d}=_0x2f8698;return!('between'!==_0x253448||!Array[_0x32e43d(0xa0d)](_0x51bb3d)||0x2!==_0x51bb3d[_0x32e43d(0x8bc)]);}}class _0x59ee41{[_0x49e620(0x7e8)];constructor(_0x745274){this['layout']={'tables':{},'version':_0x745274};}static[_0x49e620(0x4a5)](_0x4ca98c){const _0x241996=_0x49e620;for(const _0x25509e in _0x4ca98c){if(_0x241996(0x50a)!==_0x25509e&&_0x241996(0x21c)!==_0x25509e)return[!0x1,'Invalid\x20key\x20\x27'+_0x25509e+_0x241996(0x22f)];if(_0x241996(0x21c)===_0x25509e)for(const _0x23b2c4 in _0x4ca98c[_0x241996(0x21c)]){if('string'!=typeof _0x23b2c4)return[!0x1,_0x241996(0x4c2)+_0x23b2c4+'\x27'];for(const _0x39feae in _0x4ca98c[_0x241996(0x21c)][_0x23b2c4]){if(_0x241996(0xb4c)!==_0x39feae)return[!0x1,_0x241996(0x9f6)+_0x39feae+_0x241996(0x811)+_0x23b2c4+'\x27'];const _0x42c8fd=_0x4ca98c[_0x241996(0x21c)][_0x23b2c4][_0x39feae]??[];for(const _0x13d02f of _0x42c8fd)if(void 0x0===_0x13d02f[_0x241996(0x864)]||_0x241996(0xaba)!=typeof _0x13d02f[_0x241996(0x864)])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x23b2c4+_0x241996(0x49e)];}}else{if(_0x241996(0x50a)===_0x25509e&&_0x241996(0xb50)!=typeof _0x4ca98c[_0x25509e])return[!0x1,_0x241996(0x6e8)+_0x4ca98c[_0x25509e]+_0x241996(0xae5)];}}return[!0x0,'Valid\x20layout'];}static[_0x49e620(0x7e8)](_0x569c86){const _0x5d72a1=_0x49e620,_0x2e1243=new _0x59ee41(_0x569c86);return _0x2e1243[_0x5d72a1(0x7e8)][_0x5d72a1(0x50a)]=_0x569c86,_0x2e1243;}['table'](_0x115ed2){const _0x5ca97f=_0x49e620;return this['layout'][_0x5ca97f(0x21c)][_0x115ed2]={},new _0x2b0676(this[_0x5ca97f(0x7e8)][_0x5ca97f(0x21c)][_0x115ed2]);}['getLayout'](){const _0x300e5b=_0x49e620;return this[_0x300e5b(0x7e8)];}}class _0x2b0676{[_0x49e620(0x676)];constructor(_0x44eac3){const _0x2cf7fb=_0x49e620;this[_0x2cf7fb(0x676)]=_0x44eac3;}['index'](_0x54200d){const _0xe3896d=_0x49e620;return this['tableLayout'][_0xe3896d(0xb4c)]=this[_0xe3896d(0x676)][_0xe3896d(0xb4c)]??[],this[_0xe3896d(0x676)][_0xe3896d(0xb4c)]['push']({'keyPath':_0x54200d}),this;}}const _0x4041af=0x40000,_0x1e684a=0x20000,_0x4f3413=0x1388,_0x747f64=_0x49e620(0x4bb),_0x5343e9=_0x49e620(0x574),_0xca711=_0x49e620(0x7c9),_0x33093e=_0x49e620(0x6b7),_0x56a24b=0xdbba0,_0x2ae1d0=0x61a8,_0x11f0c5=_0x49e620(0xa46);var _0x138a5b;!function(_0x3dc1f3){const _0xa1e1ed=_0x49e620;_0x3dc1f3[_0xa1e1ed(0x38c)]='connection-not-initialized',_0x3dc1f3['ConnectionNotConnected']=_0xa1e1ed(0x452),_0x3dc1f3[_0xa1e1ed(0x5ba)]=_0xa1e1ed(0x3eb),_0x3dc1f3[_0xa1e1ed(0xa1f)]='connection-invalid-data-event',_0x3dc1f3[_0xa1e1ed(0x6e3)]=_0xa1e1ed(0x7e2),_0x3dc1f3[_0xa1e1ed(0xaae)]=_0xa1e1ed(0xb3a),_0x3dc1f3[_0xa1e1ed(0x236)]=_0xa1e1ed(0x603),_0x3dc1f3['GenerativeAIContextJobAlreadyConsumed']=_0xa1e1ed(0x2e1),_0x3dc1f3['GenerativeAIContextJobFailed']=_0xa1e1ed(0x609),_0x3dc1f3[_0xa1e1ed(0x713)]=_0xa1e1ed(0x366),_0x3dc1f3[_0xa1e1ed(0x69d)]=_0xa1e1ed(0x490),_0x3dc1f3['GraphDatabaseCreationFailed']='graph-database-creation-failed',_0x3dc1f3[_0xa1e1ed(0x5e3)]=_0xa1e1ed(0x5b5),_0x3dc1f3[_0xa1e1ed(0x2f9)]=_0xa1e1ed(0x667),_0x3dc1f3['InvalidSubscriber']='invalid-subscriber',_0x3dc1f3[_0xa1e1ed(0x4cc)]='invalid-subscription',_0x3dc1f3[_0xa1e1ed(0x4e5)]=_0xa1e1ed(0xa26),_0x3dc1f3[_0xa1e1ed(0x911)]=_0xa1e1ed(0x216),_0x3dc1f3[_0xa1e1ed(0xb03)]=_0xa1e1ed(0x509),_0x3dc1f3[_0xa1e1ed(0x893)]=_0xa1e1ed(0xaef),_0x3dc1f3[_0xa1e1ed(0x92b)]='job-worker-creation-failed',_0x3dc1f3[_0xa1e1ed(0x829)]=_0xa1e1ed(0x602),_0x3dc1f3[_0xa1e1ed(0x98f)]=_0xa1e1ed(0xa4b),_0x3dc1f3[_0xa1e1ed(0xb4a)]='key-value-database-peak-not-found',_0x3dc1f3[_0xa1e1ed(0x55d)]=_0xa1e1ed(0xb04),_0x3dc1f3[_0xa1e1ed(0x2ff)]=_0xa1e1ed(0x485),_0x3dc1f3[_0xa1e1ed(0xb73)]=_0xa1e1ed(0x33a),_0x3dc1f3[_0xa1e1ed(0x59a)]=_0xa1e1ed(0x92a),_0x3dc1f3['MissingRemoteConnection']=_0xa1e1ed(0x326),_0x3dc1f3[_0xa1e1ed(0x2e5)]=_0xa1e1ed(0x803),_0x3dc1f3[_0xa1e1ed(0x7d4)]='mistlet-capacity-report-not-set',_0x3dc1f3[_0xa1e1ed(0x28a)]=_0xa1e1ed(0x64e),_0x3dc1f3[_0xa1e1ed(0x487)]=_0xa1e1ed(0x8fc),_0x3dc1f3[_0xa1e1ed(0xb2b)]='object-store-invalid-sync-message',_0x3dc1f3[_0xa1e1ed(0x5c6)]='object-store-not-synced',_0x3dc1f3[_0xa1e1ed(0x280)]=_0xa1e1ed(0x7ca),_0x3dc1f3['RemoteMediaStreamDoesNotExist']=_0xa1e1ed(0x45d),_0x3dc1f3[_0xa1e1ed(0x3ef)]='remote-stream-missing-provider-id',_0x3dc1f3[_0xa1e1ed(0x6dc)]=_0xa1e1ed(0x361),_0x3dc1f3[_0xa1e1ed(0x1fc)]=_0xa1e1ed(0x995),_0x3dc1f3['SubscriptionRequestFailed']=_0xa1e1ed(0xaff),_0x3dc1f3['SubscriptionRequestNoAnswer']=_0xa1e1ed(0x8c6),_0x3dc1f3[_0xa1e1ed(0xa80)]=_0xa1e1ed(0x43f),_0x3dc1f3[_0xa1e1ed(0x3f3)]=_0xa1e1ed(0x45f),_0x3dc1f3[_0xa1e1ed(0x3de)]=_0xa1e1ed(0xb60),_0x3dc1f3[_0xa1e1ed(0x209)]='vector-database-creation-failed',_0x3dc1f3[_0xa1e1ed(0x376)]=_0xa1e1ed(0xa31),_0x3dc1f3['WorkflowInvalidBlockType']=_0xa1e1ed(0x799);}(_0x138a5b||(_0x138a5b={}));const _0x107c36=new Map([[_0x138a5b[_0x49e620(0x38c)],_0x49e620(0x788)],[_0x138a5b[_0x49e620(0xb22)],'Connection\x20not\x20connected.'],[_0x138a5b[_0x49e620(0x5ba)],_0x49e620(0x595)],[_0x138a5b['ConnectionInvalidDataEvent'],_0x49e620(0x548)],[_0x138a5b['DataCollectionDoesNotExist'],'Data\x20collection\x20does\x20not\x20exist.'],[_0x138a5b['GenerativeAIContextCreationFailed'],_0x49e620(0x9a2)],[_0x138a5b['GenerativeAIContextInvalidPartialResult'],_0x49e620(0x9aa)],[_0x138a5b[_0x49e620(0x63f)],'Generative\x20AI\x20context\x20job\x20already\x20consumed.'],[_0x138a5b[_0x49e620(0x9a5)],_0x49e620(0x2f5)],[_0x138a5b[_0x49e620(0x713)],_0x49e620(0x6f7)],[_0x138a5b['GenerativeAIWorkerCreationFailed'],_0x49e620(0x9ea)],[_0x138a5b[_0x49e620(0x543)],'Graph\x20database\x20creation\x20failed.'],[_0x138a5b[_0x49e620(0x5e3)],_0x49e620(0x7cc)],[_0x138a5b[_0x49e620(0x2f9)],_0x49e620(0xb26)],[_0x138a5b[_0x49e620(0x715)],_0x49e620(0xa38)],[_0x138a5b[_0x49e620(0x4cc)],_0x49e620(0xac4)],[_0x138a5b[_0x49e620(0x4e5)],_0x49e620(0x439)],[_0x138a5b[_0x49e620(0x911)],'Invalid\x20job\x20service\x20payload.'],[_0x138a5b['JobDispatcherJobNotFound'],_0x49e620(0x51b)],[_0x138a5b[_0x49e620(0x893)],'Job\x20service\x20observer\x20not\x20found.'],[_0x138a5b[_0x49e620(0x92b)],_0x49e620(0x27a)],[_0x138a5b[_0x49e620(0x829)],_0x49e620(0x7be)],[_0x138a5b[_0x49e620(0x98f)],_0x49e620(0x72c)],[_0x138a5b[_0x49e620(0xb4a)],_0x49e620(0x2ec)],[_0x138a5b['KeyValueDatabaseTableDoesNotExist'],_0x49e620(0x98b)],[_0x138a5b[_0x49e620(0x2ff)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x138a5b[_0x49e620(0xb73)],_0x49e620(0xb5f)],[_0x138a5b[_0x49e620(0x59a)],_0x49e620(0x36e)],[_0x138a5b[_0x49e620(0x5c4)],_0x49e620(0x759)],[_0x138a5b[_0x49e620(0x2e5)],_0x49e620(0x4e9)],[_0x138a5b[_0x49e620(0x7d4)],_0x49e620(0x7fc)],[_0x138a5b[_0x49e620(0x28a)],_0x49e620(0x66a)],[_0x138a5b[_0x49e620(0xb2b)],_0x49e620(0x2b5)],[_0x138a5b['ObjectStoreInvalidState'],_0x49e620(0x213)],[_0x138a5b[_0x49e620(0x5c6)],'Object\x20store\x20not\x20synced.'],[_0x138a5b[_0x49e620(0x280)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x138a5b[_0x49e620(0x434)],_0x49e620(0x26b)],[_0x138a5b['RemoteMediaStreamMissingProviderId'],_0x49e620(0x952)],[_0x138a5b[_0x49e620(0x6dc)],_0x49e620(0x6d8)],[_0x138a5b[_0x49e620(0x1fc)],_0x49e620(0x443)],[_0x138a5b[_0x49e620(0x225)],_0x49e620(0x2bb)],[_0x138a5b[_0x49e620(0x2a0)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x138a5b[_0x49e620(0xa80)],_0x49e620(0x90b)],[_0x138a5b[_0x49e620(0x3f3)],_0x49e620(0x3f5)],[_0x138a5b[_0x49e620(0x3de)],_0x49e620(0x7b4)],[_0x138a5b[_0x49e620(0x209)],_0x49e620(0x2d0)],[_0x138a5b[_0x49e620(0x376)],_0x49e620(0x556)],[_0x138a5b[_0x49e620(0x278)],_0x49e620(0x8ad)]]);class _0x44727e extends Error{['code'];static [_0x49e620(0x849)]=_0x138a5b;[_0x49e620(0x7b6)];constructor(_0x5abbe8,_0xbcd14c){const _0x110b5c=_0x49e620;super(_0x110b5c(0x9ae)+_0x5abbe8+':\x20'+_0x107c36[_0x110b5c(0x680)](_0x5abbe8)+_0x110b5c(0x5c7)+JSON[_0x110b5c(0x273)](_0xbcd14c)),this['code']=_0x5abbe8,this[_0x110b5c(0x7b6)]=_0xbcd14c||{};}}var _0xbc0bd6,_0x569d4f,_0x5c8aa6,_0x282aa0,_0x5436e1,_0x4170e5,_0x24f665;!function(_0x715693){const _0x128a91=_0x49e620;_0x715693[_0x715693[_0x128a91(0x891)]=0x0]=_0x128a91(0x891),_0x715693[_0x715693[_0x128a91(0x2d7)]=0x1]=_0x128a91(0x2d7),_0x715693[_0x715693['CloseJobWorker']=0x2]='CloseJobWorker',_0x715693[_0x715693[_0x128a91(0x9e0)]=0x3]=_0x128a91(0x9e0),_0x715693[_0x715693[_0x128a91(0x47d)]=0x4]=_0x128a91(0x47d),_0x715693[_0x715693[_0x128a91(0xab9)]=0x5]=_0x128a91(0xab9),_0x715693[_0x715693['CloseObjectStoreBucket']=0x6]=_0x128a91(0x84f),_0x715693[_0x715693[_0x128a91(0x6e1)]=0x7]=_0x128a91(0x6e1),_0x715693[_0x715693[_0x128a91(0x522)]=0x8]=_0x128a91(0x522),_0x715693[_0x715693[_0x128a91(0x3fb)]=0x9]=_0x128a91(0x3fb),_0x715693[_0x715693['GenerativeAIContextStats']=0xa]=_0x128a91(0x9f2),_0x715693[_0x715693[_0x128a91(0x74d)]=0xb]=_0x128a91(0x74d),_0x715693[_0x715693[_0x128a91(0x211)]=0xc]='GraphDatabaseStats',_0x715693[_0x715693[_0x128a91(0x898)]=0xd]=_0x128a91(0x898),_0x715693[_0x715693[_0x128a91(0x538)]=0xe]=_0x128a91(0x538),_0x715693[_0x715693[_0x128a91(0xac3)]=0xf]=_0x128a91(0xac3),_0x715693[_0x715693[_0x128a91(0x21b)]=0x10]=_0x128a91(0x21b),_0x715693[_0x715693[_0x128a91(0x79e)]=0x11]=_0x128a91(0x79e),_0x715693[_0x715693['KeyValueDatabaseStats']=0x12]='KeyValueDatabaseStats',_0x715693[_0x715693[_0x128a91(0x37c)]=0x13]=_0x128a91(0x37c),_0x715693[_0x715693[_0x128a91(0xaf4)]=0x14]=_0x128a91(0xaf4),_0x715693[_0x715693['ObjectStoreStats']=0x15]=_0x128a91(0x9a8),_0x715693[_0x715693['PubSubTopicStats']=0x16]='PubSubTopicStats',_0x715693[_0x715693['PublishMediaStream']=0x17]=_0x128a91(0xa09),_0x715693[_0x715693['RemoteMediaStreamTrackFail']=0x18]='RemoteMediaStreamTrackFail',_0x715693[_0x715693[_0x128a91(0x454)]=0x19]=_0x128a91(0x454),_0x715693[_0x715693[_0x128a91(0x856)]=0x1a]=_0x128a91(0x856),_0x715693[_0x715693[_0x128a91(0x334)]=0x1b]=_0x128a91(0x334),_0x715693[_0x715693[_0x128a91(0x3a6)]=0x1c]=_0x128a91(0x3a6),_0x715693[_0x715693[_0x128a91(0x4d5)]=0x1d]=_0x128a91(0x4d5);}(_0xbc0bd6||(_0xbc0bd6={})),function(_0x4caf20){const _0x5d1835=_0x49e620;_0x4caf20[_0x5d1835(0x41a)]=_0x5d1835(0x558),_0x4caf20[_0x5d1835(0xb21)]=_0x5d1835(0x407),_0x4caf20[_0x5d1835(0x596)]=_0x5d1835(0x55f),_0x4caf20[_0x5d1835(0x2cf)]=_0x5d1835(0x741),_0x4caf20[_0x5d1835(0x8d8)]=_0x5d1835(0x70d),_0x4caf20[_0x5d1835(0x69e)]='request-accepted',_0x4caf20[_0x5d1835(0x510)]=_0x5d1835(0x5da),_0x4caf20[_0x5d1835(0x345)]=_0x5d1835(0x52b);}(_0x569d4f||(_0x569d4f={})),function(_0x3d74f6){const _0x1315bf=_0x49e620;_0x3d74f6[_0x1315bf(0xb1a)]='request',_0x3d74f6[_0x1315bf(0x3b1)]=_0x1315bf(0x299);}(_0x5c8aa6||(_0x5c8aa6={})),function(_0x122960){const _0x12c3bc=_0x49e620;_0x122960['Add']=_0x12c3bc(0x554),_0x122960[_0x12c3bc(0x325)]='update',_0x122960['Delete']='delete';}(_0x282aa0||(_0x282aa0={})),function(_0x130647){const _0x394ad8=_0x49e620;_0x130647[_0x394ad8(0x500)]=_0x394ad8(0x680),_0x130647[_0x394ad8(0x825)]=_0x394ad8(0x463),_0x130647[_0x394ad8(0x22e)]=_0x394ad8(0x62a);}(_0x5436e1||(_0x5436e1={})),function(_0x577840){const _0x2458a6=_0x49e620;_0x577840[_0x577840['Request']=0x0]=_0x2458a6(0xb1a),_0x577840[_0x577840[_0x2458a6(0x753)]=0x1]='Bid',_0x577840[_0x577840[_0x2458a6(0xaeb)]=0x2]=_0x2458a6(0xaeb),_0x577840[_0x577840[_0x2458a6(0xa48)]=0x3]=_0x2458a6(0xa48),_0x577840[_0x577840[_0x2458a6(0x333)]=0x4]='Result',_0x577840[_0x577840[_0x2458a6(0x6fc)]=0x5]='Failed';}(_0x4170e5||(_0x4170e5={})),function(_0x24a952){const _0x36dbff=_0x49e620;_0x24a952[_0x24a952[_0x36dbff(0x7ea)]=0x0]=_0x36dbff(0x7ea),_0x24a952[_0x24a952['Node']=0x1]='Node',_0x24a952[_0x24a952[_0x36dbff(0x303)]=0x2]='Content',_0x24a952[_0x24a952['Subscription']=0x3]=_0x36dbff(0x3f1),_0x24a952[_0x24a952[_0x36dbff(0x1f9)]=0x4]=_0x36dbff(0x1f9),_0x24a952[_0x24a952[_0x36dbff(0x55a)]=0x5]=_0x36dbff(0x55a),_0x24a952[_0x24a952[_0x36dbff(0x34c)]=0x6]=_0x36dbff(0x34c);}(_0x24f665||(_0x24f665={}));class _0x199b36{[_0x49e620(0x660)];[_0x49e620(0x73a)];[_0x49e620(0x321)];constructor(_0x31d093,_0x3a3bd3){const _0xf6b1b=_0x49e620;this[_0xf6b1b(0x660)]=_0x31d093,this['label']=_0x3a3bd3;}[_0x49e620(0x227)](){const _0xe7baf8=_0x49e620;return this[_0xe7baf8(0x73a)];}[_0x49e620(0x8fa)](){const _0x726324=_0x49e620;return this[_0x726324(0x660)][_0x726324(0x27e)]();}['destroy'](){}[_0x49e620(0xb51)](_0x219db9){const _0x51ee46=_0x49e620;this[_0x51ee46(0x321)]=_0x219db9;}[_0x49e620(0xa6a)](){const _0x5e795d=_0x49e620;delete this[_0x5e795d(0x321)];}}const _0x3e7f37=require('firebase/firestore');let _0x424932=_0x3753b6(0x14d)['O'];function _0x589aaf(_0x5c90ab){const _0x56c2f9=_0x49e620;return!(!_0x5c90ab||_0x56c2f9(0x30b)!=typeof _0x5c90ab||Array[_0x56c2f9(0xa0d)](_0x5c90ab));}_0x424932=function _0xa39e03(_0x3ace34,..._0x30a0a6){const _0x110bc1=_0x49e620;if(!Array['isArray'](_0x30a0a6)||0x0===_0x30a0a6[_0x110bc1(0x8bc)])return _0x3ace34;const _0x288197=_0x30a0a6['shift']();if(_0x589aaf(_0x3ace34)&&_0x589aaf(_0x288197)){for(const _0x3d06e8 in _0x288197)_0x589aaf(_0x288197[_0x3d06e8])?(_0x3ace34[_0x3d06e8]||Object[_0x110bc1(0x254)](_0x3ace34,{[_0x3d06e8]:{}}),_0xa39e03(_0x3ace34[_0x3d06e8],_0x288197[_0x3d06e8])):Object[_0x110bc1(0x254)](_0x3ace34,{[_0x3d06e8]:_0x288197[_0x3d06e8]});}return _0xa39e03(_0x3ace34,..._0x30a0a6);}(_0x424932,_0x3753b6(0x3e6)['O']);const _0x42fdd0=_0x424932,_0x494d07=require('firebase/app'),_0x17bb03=require('firebase/auth'),_0x29614c=require('firebase/database'),_0x3b27d3=require('firebase/functions'),_0x3c37ba=require('uuid'),_0x2c78ba=_0x49e620(0x592);class _0x2172e2{static ['instance'];[_0x49e620(0x97e)];[_0x49e620(0x7ef)];[_0x49e620(0x97d)];[_0x49e620(0xad3)];[_0x49e620(0x2b4)];[_0x49e620(0x9df)];[_0x49e620(0x21a)];constructor(){const _0x2265e9=_0x49e620;this[_0x2265e9(0x8f0)]();}static[_0x49e620(0x777)](){const _0xd34adb=_0x49e620;return _0x2172e2[_0xd34adb(0xb66)]||(_0x2172e2['instance']=new _0x2172e2()),_0x2172e2[_0xd34adb(0xb66)];}['getApp'](){const _0x1193cf=_0x49e620;if(!this[_0x1193cf(0x97e)]){let _0x27d78b=_0x2c78ba;_0x1193cf(0x9bc)!=typeof window&&(_0x27d78b=_0x2c78ba+'-'+(0x0,_0x3c37ba['v4'])()),this[_0x1193cf(0x97e)]=(0x0,_0x494d07[_0x1193cf(0x1f6)])(_0x42fdd0[_0x1193cf(0x68b)],''+_0x27d78b);}return this[_0x1193cf(0x97e)];}['getAuth'](){const _0x3d761a=_0x49e620;return this[_0x3d761a(0x7ef)]||(this[_0x3d761a(0x7ef)]=(0x0,_0x17bb03[_0x3d761a(0x28f)])(this[_0x3d761a(0x8f0)]())),this[_0x3d761a(0x7ef)];}[_0x49e620(0x699)](){const _0x3108bc=_0x49e620;return this[_0x3108bc(0x97d)]||(this['functions']=(0x0,_0x3b27d3[_0x3108bc(0x699)])(this[_0x3108bc(0x8f0)](),_0x42fdd0[_0x3108bc(0x68b)][_0x3108bc(0xa83)])),this[_0x3108bc(0x97d)];}[_0x49e620(0x617)](){const _0xcca1f6=_0x49e620;return this[_0xcca1f6(0xad3)]||(this[_0xcca1f6(0xad3)]=(0x0,_0x29614c[_0xcca1f6(0x617)])(this[_0xcca1f6(0x8f0)]())),this[_0xcca1f6(0xad3)];}[_0x49e620(0x5d4)](){const _0x147a4e=_0x49e620;return this[_0x147a4e(0x2b4)]||(this[_0x147a4e(0x2b4)]=(0x0,_0x3e7f37['getFirestore'])(this[_0x147a4e(0x8f0)]())),this[_0x147a4e(0x2b4)];}async[_0x49e620(0x6f8)](){const _0xa7b7e1=_0x49e620;if(this[_0xa7b7e1(0x9df)]&&this[_0xa7b7e1(0x21a)]&&Date['now']()-this[_0xa7b7e1(0x21a)]<0x493e0)return Date['now']()+this['clockSkew'];const _0x396b93=this['getDatabase'](),_0xb1febe=(0x0,_0x29614c[_0xa7b7e1(0x924)])(_0x396b93,_0xa7b7e1(0x335));return new Promise(_0x29d51f=>{const _0x29692d=_0xa7b7e1;(0x0,_0x29614c[_0x29692d(0x381)])(_0xb1febe,_0x5a9d58=>{const _0x3d7247=_0x29692d;(0x0,_0x29614c[_0x3d7247(0x27c)])(_0xb1febe),this['clockSkew']=_0x5a9d58['val'](),this['lastClockUpdate']=Date['now'](),_0x29d51f(Date[_0x3d7247(0x4e4)]()+(this[_0x3d7247(0x9df)]??0x0));});});}}const _0xfa2cd=_0x2172e2[_0x49e620(0x777)]();class _0x1be23a{static ['instance'];[_0x49e620(0x9fe)]=[_0xad09e4[_0x49e620(0x847)]];[_0x49e620(0x281)]=!0x1;['loggingConnectors'];[_0x49e620(0x2e6)]='';[_0x49e620(0x796)];[_0x49e620(0x2f4)]=[];[_0x49e620(0x419)];[_0x49e620(0x43d)];['retryLimit']=0xa;[_0x49e620(0x903)]=0x1f4;['batchSize']=0x1c2;[_0x49e620(0x2a2)]=0x3e8;constructor(){const _0x544000=_0x49e620;if(_0x544000(0x9bc)!=typeof window)this[_0x544000(0x796)]=window;else{if(void 0x0===_0x3753b6['g'])throw new Error(_0x544000(0x993));this[_0x544000(0x796)]=_0x3753b6['g'];}this[_0x544000(0x5e9)](),this[_0x544000(0x796)][_0x544000(0x9e8)]=_0x501cd2=>{const _0x5afe3e=_0x544000;if(_0x501cd2===_0xad09e4[_0x5afe3e(0x975)])return this[_0x5afe3e(0x9fe)]=Object['keys'](_0xad09e4)['map'](_0x3e7bef=>_0xad09e4[_0x3e7bef]),void Object['keys'](_0xad09e4)['forEach'](_0x39defb=>{const _0x1ad5f9=_0x5afe3e,_0x2ad5de=_0x39defb;localStorage[_0x1ad5f9(0x431)](_0x1ad5f9(0x738)+_0xad09e4[_0x2ad5de],_0x1ad5f9(0x5af));});this[_0x5afe3e(0x9fe)][_0x5afe3e(0x2ef)](_0x501cd2)||(this[_0x5afe3e(0x9fe)][_0x5afe3e(0x6b8)](_0x501cd2),localStorage[_0x5afe3e(0x431)]('crewdle-sdk-logging-'+_0x501cd2,_0x5afe3e(0x5af)));},this[_0x544000(0x796)]['crewdleSDKDisableLogging']=_0x1fca79=>{const _0x1164f5=_0x544000;if(!_0x1fca79||_0x1fca79===_0xad09e4['All'])return this[_0x1164f5(0x9fe)]=[],void Object[_0x1164f5(0x818)](_0xad09e4)['forEach'](_0x1f57ce=>{const _0x4608d8=_0x1164f5,_0x514ad7=_0x1f57ce;localStorage[_0x4608d8(0x754)](_0x4608d8(0x738)+_0xad09e4[_0x514ad7]);});this[_0x1164f5(0x9fe)][_0x1164f5(0x2ef)](_0x1fca79)&&(this['enabledChannels']=this[_0x1164f5(0x9fe)][_0x1164f5(0x9e5)](_0x2e68c1=>_0x2e68c1!==_0x1fca79),localStorage[_0x1164f5(0x754)](_0x1164f5(0x738)+_0x1fca79));},this[_0x544000(0x796)][_0x544000(0x65b)]=_0xad09e4;}static[_0x49e620(0x777)](){const _0x1a84f3=_0x49e620;try{return _0x1be23a[_0x1a84f3(0xb66)]||(_0x1be23a['instance']=new _0x1be23a()),_0x1be23a[_0x1a84f3(0xb66)];}catch(_0x122e55){return console[_0x1a84f3(0x528)]('Logger.getInstance',_0x122e55),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x49e620(0x8b0)](_0x6c749d){const _0x443b02=_0x49e620;this[_0x443b02(0x2e6)]=_0x6c749d,this['batchQueue']=[],this['currentBatch']=this[_0x443b02(0x257)](),this[_0x443b02(0x43d)]&&(clearTimeout(this[_0x443b02(0x43d)]),this[_0x443b02(0x43d)]=void 0x0);}[_0x49e620(0x718)](_0x540bd6){const _0x264c0d=_0x49e620;this[_0x264c0d(0x4eb)]=_0x540bd6;}[_0x49e620(0x1ff)](_0x51db0a,..._0x1c91a2){const _0x531a7b=_0x49e620;this[_0x531a7b(0x281)]&&this[_0x531a7b(0xad5)](_0xad09e4['Default'],'DEBUG\x20-\x20'+_0x51db0a,..._0x1c91a2);}['forceLog'](_0x52b323,..._0x526b22){const _0x3742f7=_0x49e620;console[_0x3742f7(0xad5)](_0x52b323,..._0x526b22),this[_0x3742f7(0x4eb)]&&this[_0x3742f7(0x4eb)][_0x3742f7(0x49b)](_0x3b25aa=>{const _0x3c3605=_0x3742f7;_0x3b25aa['log'](_0x52b323,{'vendorId':this[_0x3c3605(0x2e6)],'nodeId':'','nodeType':'','data':{..._0x526b22}});});}[_0x49e620(0xad5)](_0x2a4900,_0x240c29,..._0x484fb3){const _0x28f4e7=_0x49e620;_0x42fdd0[_0x28f4e7(0x941)]||(this[_0x28f4e7(0x9fe)]['includes'](_0x2a4900)&&console[_0x28f4e7(0xad5)](_0x28f4e7(0x36c)+_0x2a4900+'\x27\x0a',new Date()+'\x0a',_0x240c29,..._0x484fb3),this[_0x28f4e7(0x4eb)]&&this[_0x28f4e7(0x4eb)]['forEach'](_0xcd3806=>{const _0x38a4fc=_0x28f4e7;this[_0x38a4fc(0x318)](_0xcd3806)&&_0xcd3806['getEnabledChannels']()[_0x38a4fc(0x2ef)](_0x2a4900)&&_0xcd3806[_0x38a4fc(0xad5)](_0x240c29,{'vendorId':this[_0x38a4fc(0x2e6)],'nodeId':'','nodeType':'','data':{'channel':_0x2a4900,..._0x484fb3}});}));}[_0x49e620(0x4e0)](_0x5d8a3c,_0x4aa62e,..._0x475dc7){const _0x884256=_0x49e620;_0x42fdd0[_0x884256(0x941)]||(this[_0x884256(0x9fe)][_0x884256(0x2ef)](_0x5d8a3c)&&console[_0x884256(0xad5)](_0x4aa62e,..._0x475dc7),this[_0x884256(0x4eb)]&&this['loggingConnectors'][_0x884256(0x49b)](_0x5ce6d6=>{const _0x11358e=_0x884256;this[_0x11358e(0x318)](_0x5ce6d6)&&_0x5ce6d6[_0x11358e(0x363)]()[_0x11358e(0x2ef)](_0x5d8a3c)&&_0x5ce6d6['log'](_0x4aa62e,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x5d8a3c,..._0x475dc7}});}));}[_0x49e620(0x68c)](_0x3b4085,_0x51f0ea){const _0x182f22=_0x49e620;if(!this[_0x182f22(0x4eb)])return;const _0x3dbad0={'vendorId':this[_0x182f22(0x2e6)],..._0x51f0ea};this[_0x182f22(0x4eb)][_0x182f22(0x49b)](_0x17d060=>{const _0x3cae41=_0x182f22;_0x17d060[_0x3cae41(0xad5)](_0x3b4085,_0x3dbad0);});}[_0x49e620(0x5d3)](_0xb75047,_0x188c67){const _0xfaebd7=_0x49e620;this['createBatchOperation'](_0xb75047,_0x188c67),this[_0xfaebd7(0x60e)]();}[_0x49e620(0x3a1)](_0x4c19b2,_0x58972e,_0x35bef5){const _0x3f4bf0=_0x49e620;(0x0,_0x3e7f37[_0x3f4bf0(0x274)])((0x0,_0x3e7f37[_0x3f4bf0(0x98c)])(_0xfa2cd[_0x3f4bf0(0x5d4)](),_0x3f4bf0(0x897)+this[_0x3f4bf0(0x2e6)]+'/'+_0x4c19b2+'/'+_0x58972e),{'storage':_0x35bef5,'timestamp':(0x0,_0x3e7f37['serverTimestamp'])()});}[_0x49e620(0x60e)](){const _0x4c8675=_0x49e620;this[_0x4c8675(0x419)]&&(this[_0x4c8675(0x419)]['counter']+=0x1,this[_0x4c8675(0x419)][_0x4c8675(0x96c)]===this['batchSize']?this[_0x4c8675(0x9c9)]():this[_0x4c8675(0x43d)]||(this['batchTimeout']=this[_0x4c8675(0x796)]['setTimeout'](()=>this[_0x4c8675(0x9c9)](),this[_0x4c8675(0x2a2)])));}async[_0x49e620(0x9c9)](){const _0x116043=_0x49e620;if(this[_0x116043(0x419)]){for(this['batchQueue'][_0x116043(0x6b8)](this[_0x116043(0x419)]),this['currentBatch']=this[_0x116043(0x257)]();this[_0x116043(0x2f4)][_0x116043(0x8bc)]>0x0;){const _0x192b54=this[_0x116043(0x2f4)][_0x116043(0x89f)]();if(!await this[_0x116043(0x6fd)](_0x192b54))break;}clearTimeout(this['batchTimeout']),this[_0x116043(0x43d)]=void 0x0;}}[_0x49e620(0x528)](_0x599137,_0x3b7e4d,..._0x57bc78){const _0x18445c=_0x49e620;if(console[_0x18445c(0x528)](new Date(),_0x599137,_0x3b7e4d,..._0x57bc78),this[_0x18445c(0x4eb)]){const _0x55fd03={'vendorId':this[_0x18445c(0x2e6)],..._0x3b7e4d};this[_0x18445c(0x4eb)][_0x18445c(0x49b)](_0x58a48e=>{const _0x5a6eac=_0x18445c;_0x58a48e[_0x5a6eac(0x528)](_0x599137,_0x55fd03);});}}[_0x49e620(0x87a)](_0x32784d,_0x285e54,..._0x54d122){const _0xb33c6a=_0x49e620;if(console[_0xb33c6a(0x413)](new Date(),_0x32784d,_0x285e54,_0x54d122),this[_0xb33c6a(0x4eb)]){const _0x5c5790={'vendorId':this['vendorId'],..._0x285e54};this[_0xb33c6a(0x4eb)][_0xb33c6a(0x49b)](_0x2fe08d=>{const _0x16fab1=_0xb33c6a;_0x2fe08d[_0x16fab1(0x413)](_0x32784d,_0x5c5790);});}}['isChannelEnabled'](_0x3b7cbd){const _0x1f87c8=_0x49e620;return this[_0x1f87c8(0x9fe)][_0x1f87c8(0x2ef)](_0x3b7cbd);}async[_0x49e620(0x6fd)](_0x437f07,_0x10d8d1=0x0){const _0x65855f=_0x49e620;if(_0x437f07['counter']>0x0)try{return await _0x437f07[_0x65855f(0x6ff)][_0x65855f(0x8e4)](),!0x0;}catch(_0x1d4995){if(console[_0x65855f(0x528)](_0x65855f(0x41f),_0x1d4995,'Operations:',_0x437f07[_0x65855f(0x8a8)]),!(_0x10d8d1<this[_0x65855f(0x93a)])){const {nodeId:_0x29ab56='',nodeType:_0x349bc4='',clusterId:_0x21cf8f=''}=_0x437f07[_0x65855f(0x8a8)][0x0]['data'],_0x44fe58={'nodeId':_0x29ab56,'nodeType':_0x349bc4,'clusterId':_0x21cf8f,'data':{'operations':_0x437f07[_0x65855f(0x8a8)],'error':_0x1d4995}};return this[_0x65855f(0x528)](_0x65855f(0xace),_0x44fe58),!0x1;}{const _0x55dda0=this['createBatch'](_0x437f07[_0x65855f(0x8a8)]);setTimeout(()=>this[_0x65855f(0x6fd)](_0x55dda0,_0x10d8d1+0x1),this[_0x65855f(0x903)]*Math['pow'](0x2,_0x10d8d1));}}}[_0x49e620(0x5e9)](){const _0xbee7e3=_0x49e620;try{Object[_0xbee7e3(0x818)](_0xad09e4)[_0xbee7e3(0x49b)](_0x325546=>{const _0x1544c1=_0xbee7e3,_0x5ce147=_0x325546;localStorage[_0x1544c1(0xa90)](_0x1544c1(0x738)+_0xad09e4[_0x5ce147])&&(console['log'](_0x1544c1(0x5e1),_0xad09e4[_0x5ce147]),this[_0x1544c1(0x9fe)]['push'](_0xad09e4[_0x5ce147]));});}catch(_0x1509c6){}}[_0x49e620(0x318)](_0x371406){const _0xdb7024=_0x49e620;return void 0x0!==_0x371406[_0xdb7024(0x363)];}['createNewBatch'](){return{'batch':(0x0,_0x3e7f37['writeBatch'])(_0xfa2cd['getFirestore']()),'operations':[],'counter':0x0};}[_0x49e620(0x214)](_0x19b97a){const _0x1a5a42=_0x49e620,_0x451a40=(0x0,_0x3e7f37[_0x1a5a42(0x7f7)])(_0xfa2cd[_0x1a5a42(0x5d4)]());return _0x19b97a['forEach'](_0x56ac80=>this[_0x1a5a42(0x3d9)](_0x451a40,_0x56ac80)),{'batch':_0x451a40,'operations':_0x19b97a,'counter':_0x19b97a[_0x1a5a42(0x8bc)]};}['addBatchOperation'](_0x5a1253,_0x5ad68e){const _0x62793a=_0x49e620;switch(_0x5ad68e[_0x62793a(0x70f)]){case _0x62793a(0x9fa):_0x5a1253[_0x62793a(0x9fa)](_0x5ad68e[_0x62793a(0x924)],_0x5ad68e[_0x62793a(0x7b6)]);break;case'update':_0x5a1253[_0x62793a(0xad9)](_0x5ad68e[_0x62793a(0x924)],_0x5ad68e['data']);break;case _0x62793a(0x55f):_0x5a1253[_0x62793a(0x55f)](_0x5ad68e['ref']);}}[_0x49e620(0x625)](_0x2ff3d2,_0x212e3c){const _0x424f6d=_0x49e620;this[_0x424f6d(0x419)]||(this['currentBatch']=this[_0x424f6d(0x257)]());const _0xc941c1=(0x0,_0x3e7f37['doc'])((0x0,_0x3e7f37[_0x424f6d(0x828)])(_0xfa2cd[_0x424f6d(0x5d4)](),_0x424f6d(0x897)+this['vendorId']+_0x424f6d(0x564))),_0x98b6bb={..._0x212e3c,'service':_0x2ff3d2,'timestamp':(0x0,_0x3e7f37[_0x424f6d(0xaea)])()},_0x22bddc={'type':_0x424f6d(0x9fa),'path':_0xc941c1[_0x424f6d(0x1f0)],'ref':_0xc941c1,'data':_0x98b6bb};return this[_0x424f6d(0x419)][_0x424f6d(0x8a8)]['push'](_0x22bddc),this[_0x424f6d(0x3d9)](this[_0x424f6d(0x419)][_0x424f6d(0x6ff)],_0x22bddc),_0xc941c1;}}const _0xb8b103=_0x1be23a[_0x49e620(0x777)]();function _0x295bf5(_0x265884,_0x4fd47c){return'/'===_0x265884?_0x265884+_0x4fd47c:_0x265884+'/'+_0x4fd47c;}function _0x2d2fae(_0x3986b2){const _0x1b6aae=_0x49e620,_0x6f0e26=function(_0x479f0d){const _0x3b649b=a0_0x2367;return _0x479f0d[_0x3b649b(0x627)]('/')[_0x3b649b(0x9e5)](_0x5c5d6d=>_0x5c5d6d[_0x3b649b(0x8bc)]>0x0);}(_0x3986b2),_0x436612=_0x6f0e26['pop']()||'',_0x1391dd=_0x6f0e26[_0x1b6aae(0xae2)]('/');return[0x0===_0x1391dd[_0x1b6aae(0x8bc)]?'/':_0x1391dd,_0x436612];}async function _0x1728fc(_0x3cdc4c){const _0x53cbe7=_0x49e620;let _0x59620c;const _0x466e3f=_0x3cdc4c[_0x53cbe7(0x65a)]/0x100000;_0x59620c=_0x466e3f<=0xa?0x1:_0x466e3f<=0x64?0.5:_0x466e3f<=0x1f4?0.1:0.05;const _0x549c08=Math['ceil'](_0x3cdc4c['size']/_0x4041af),_0xda4edf=Math['ceil'](_0x549c08*_0x59620c);let _0x3cdbc7=new Uint8Array();for(let _0x5ebca3=0x0;_0x5ebca3<_0xda4edf;_0x5ebca3++){const _0x52b541=Math['floor'](_0x5ebca3/_0xda4edf*_0x3cdc4c[_0x53cbe7(0x65a)]);let _0x261a6d=_0x52b541+_0x4041af;_0x261a6d>_0x3cdc4c[_0x53cbe7(0x65a)]&&(_0x261a6d=_0x3cdc4c[_0x53cbe7(0x65a)]);const _0x5ef425=_0x3cdc4c['slice'](_0x52b541,_0x261a6d),_0x584526=await _0x5ef425[_0x53cbe7(0x2d8)](),_0x521cf5=new Uint8Array([..._0x3cdbc7,...new Uint8Array(_0x584526)]);_0x3cdbc7=new Uint8Array(await crypto[_0x53cbe7(0xb6a)][_0x53cbe7(0x27b)](_0x53cbe7(0x5be),_0x521cf5));}return Array['from'](new Uint8Array(_0x3cdbc7))[_0x53cbe7(0x3bb)](_0x2d3c7a=>_0x2d3c7a[_0x53cbe7(0xb55)](0x10)['padStart'](0x2,'0'))[_0x53cbe7(0xae2)]('');}async function*_0x57268a(_0x2c2252,_0x4d01fb=0x0,_0x9f7c15){const _0x804bfa=_0x49e620;let _0x2386d2=_0x4d01fb*_0x1e684a,_0x5af024=_0x2c2252;for(;_0x2386d2<_0x5af024[_0x804bfa(0x65a)];){let _0xb3ee10=_0x2386d2+_0x1e684a;_0xb3ee10>_0x5af024[_0x804bfa(0x65a)]&&(_0xb3ee10=_0x5af024['size']);let _0x35ad40=0x0;for(;_0x35ad40<0x14;)try{await _0x9f7c15?.();const _0x4fd305=_0x5af024[_0x804bfa(0x966)](_0x2386d2,_0xb3ee10,_0x804bfa(0x91e)),_0x21df11=await _0x4fd305[_0x804bfa(0x2d8)]();yield _0x21df11,_0x2386d2=_0xb3ee10,await new Promise(_0x64a0a9=>setTimeout(_0x64a0a9,0x0));break;}catch(_0x2818b4){if(console[_0x804bfa(0x528)](_0x804bfa(0x8a2)+(_0x35ad40+0x1)+'\x20attempts:',_0x2818b4),_0x35ad40++,_0x35ad40>0x14)throw _0x2818b4;let _0x291ed0=0x3e8*Math[_0x804bfa(0x49c)](0x2,_0x35ad40);_0x291ed0>0x7530&&(_0x291ed0=0x7530),await new Promise(_0x25cd0f=>setTimeout(_0x25cd0f,_0x291ed0));}}}class _0x2cad14 extends _0x199b36{[_0x49e620(0x83c)];['incomingTopic'];[_0x49e620(0x918)]=new Map();[_0x49e620(0x631)]=0x0;['messagesReceived']=0x0;[_0x49e620(0x604)]=0x0;[_0x49e620(0x81f)]=0x0;constructor(_0x19f86e,_0x2d4a88){super(_0x19f86e,_0x2d4a88);}[_0x49e620(0x227)](){const _0x360b7d=_0x49e620;return this[_0x360b7d(0x73a)];}[_0x49e620(0xb24)](){const _0x3a082f=_0x49e620;return this[_0x3a082f(0x73a)];}[_0x49e620(0x9e2)](){const _0x44c10f=_0x49e620;return _0x596e17[_0x44c10f(0x7dd)][_0x44c10f(0x6cd)];}[_0x49e620(0x3da)](){const _0x5389a1=_0x49e620;return this[_0x5389a1(0x73a)];}[_0x49e620(0x737)](_0x26c0a7){const _0xb809f2=_0x49e620;if(this[_0xb809f2(0x83c)])throw new _0x44727e(_0x44727e['codes'][_0xb809f2(0x2f9)],{'message':_0xb809f2(0x7c5)+this[_0xb809f2(0x660)]['getId']()+_0xb809f2(0x830)+this['label'],'topic':this['outgoingTopic']});this['outgoingTopic']=_0x26c0a7;}[_0x49e620(0x733)](_0x4143ef){const _0x5d60e3=_0x49e620;if(this[_0x5d60e3(0x5a8)])throw new _0x44727e(_0x44727e['codes'][_0x5d60e3(0x715)],{'message':_0x5d60e3(0x6ec)+this['owner']['getId']()+_0x5d60e3(0x830)+this[_0x5d60e3(0x73a)],'topic':this['incomingTopic']});this['incomingTopic']=_0x4143ef;}['unregisterPublisher'](){const _0x2dd8bc=_0x49e620;delete this[_0x2dd8bc(0x83c)];}['unregisterSubscriber'](){const _0xf794c=_0x49e620;delete this[_0xf794c(0x5a8)];}async[_0x49e620(0x201)](_0x2ee6dd,_0x3c0bae){const _0x19f8ef=_0x49e620;if(_0xb8b103[_0x19f8ef(0xad5)](_0xad09e4[_0x19f8ef(0x93b)],_0x19f8ef(0x3fe),this[_0x19f8ef(0x660)][_0x19f8ef(0x27e)](),_0x2ee6dd,_0x3c0bae),this[_0x19f8ef(0x631)]+=0x1,_0x2ee6dd instanceof File){const _0x2f5725=await async function(_0x304d10){const _0x5b14c8=_0x19f8ef,_0x1fc4fd=[];for await(const _0x2cf109 of _0x57268a(_0x304d10))_0x1fc4fd[_0x5b14c8(0x6b8)](_0x2cf109);return _0x1fc4fd;}(_0x2ee6dd);return this[_0x19f8ef(0x604)]+=_0x2f5725[_0x19f8ef(0x824)]((_0x4fc48b,_0x950514)=>_0x4fc48b+_0x950514[_0x19f8ef(0x1df)],0x0),void _0x2f5725[_0x19f8ef(0x49b)]((_0x2313e2,_0xd13ab0)=>{const _0x5a9f4f=_0x19f8ef;this[_0x5a9f4f(0x83c)][_0x5a9f4f(0x544)]({'sourceId':this['owner'][_0x5a9f4f(0x27e)](),'destinationIds':_0x3c0bae,'propagate':!0x0,'contentType':_0x596e17[_0x5a9f4f(0x7dd)][_0x5a9f4f(0x9b7)],'content':{'name':_0x2ee6dd['name'],'type':_0x2ee6dd[_0x5a9f4f(0x70f)],'data':_0x2313e2,'index':_0xd13ab0,'total':_0x2f5725[_0x5a9f4f(0x8bc)]}});});}this[_0x19f8ef(0x604)]+=JSON[_0x19f8ef(0x273)](_0x2ee6dd)[_0x19f8ef(0x8bc)],this[_0x19f8ef(0x83c)][_0x19f8ef(0x544)]({'sourceId':this[_0x19f8ef(0x660)][_0x19f8ef(0x27e)](),'destinationIds':_0x3c0bae,'propagate':!0x0,'contentType':_0x596e17['ContentType']['Data'],'content':_0x2ee6dd});}['onMessage'](_0x330a12){const _0x2775f0=_0x49e620;return this[_0x2775f0(0x5a8)][_0x2775f0(0xa34)](_0x2372f9=>{const _0x17faf3=_0x2775f0;switch(_0xb8b103[_0x17faf3(0xad5)](_0xad09e4['DataStream'],_0x17faf3(0x337),this['owner'][_0x17faf3(0x27e)](),_0x2372f9),_0x2372f9[_0x17faf3(0x263)]){case _0x596e17[_0x17faf3(0x7dd)][_0x17faf3(0x6cd)]:this[_0x17faf3(0x4f0)]+=0x1,this[_0x17faf3(0x81f)]+=JSON[_0x17faf3(0x273)](_0x2372f9[_0x17faf3(0x4fe)])[_0x17faf3(0x8bc)],_0x330a12(_0x2372f9[_0x17faf3(0x4b4)],_0x2372f9[_0x17faf3(0x4fe)]);break;case _0x596e17[_0x17faf3(0x7dd)][_0x17faf3(0x9b7)]:this[_0x17faf3(0x918)][_0x17faf3(0x29d)](_0x2372f9['content']['name'])||this['fileChunks']['set'](_0x2372f9[_0x17faf3(0x4fe)][_0x17faf3(0x9b3)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x3d468d=this[_0x17faf3(0x918)][_0x17faf3(0x680)](_0x2372f9['content'][_0x17faf3(0x9b3)]);if(_0x3d468d[_0x17faf3(0x497)]+=0x1,_0x3d468d[_0x17faf3(0x81f)]+=_0x2372f9[_0x17faf3(0x4fe)][_0x17faf3(0x7b6)][_0x17faf3(0x1df)],_0x3d468d[_0x17faf3(0x4fe)]&&(_0x3d468d[_0x17faf3(0x4fe)][_0x2372f9[_0x17faf3(0x4fe)][_0x17faf3(0x6d0)]]=_0x2372f9[_0x17faf3(0x4fe)][_0x17faf3(0x7b6)]),this[_0x17faf3(0x918)][_0x17faf3(0x9fa)](_0x2372f9[_0x17faf3(0x4fe)][_0x17faf3(0x9b3)],_0x3d468d),_0x3d468d[_0x17faf3(0x497)]+0x1<_0x2372f9[_0x17faf3(0x4fe)][_0x17faf3(0x845)])return;this[_0x17faf3(0x4f0)]+=0x1,this[_0x17faf3(0x81f)]+=_0x3d468d['bytesReceived'],_0x3d468d[_0x17faf3(0x4fe)]&&_0x330a12(_0x2372f9[_0x17faf3(0x4b4)],(_0x5987ef=_0x3d468d[_0x17faf3(0x4fe)],_0x4bfe32=_0x2372f9[_0x17faf3(0x4fe)][_0x17faf3(0x9b3)],_0x6b1e66=_0x2372f9[_0x17faf3(0x4fe)]['type'],new File(_0x5987ef,_0x4bfe32,{'type':_0x6b1e66}))),this[_0x17faf3(0x918)]['delete'](_0x2372f9['content'][_0x17faf3(0x9b3)]);}var _0x5987ef,_0x4bfe32,_0x6b1e66;});}}function _0x544609(){let _0x574a23=[];return{'subscribe':_0x4af9fe=>(_0x574a23['push'](_0x4af9fe),()=>{const _0x5922c7=a0_0x2367;_0x574a23=_0x574a23[_0x5922c7(0x9e5)](_0x573107=>_0x573107!==_0x4af9fe);}),'publish':_0x52dfb0=>{const _0x39592e=a0_0x2367;_0x574a23[_0x39592e(0x49b)](_0x8a5a3e=>_0x8a5a3e(_0x52dfb0));}};}function _0x580ced(){let _0xb95220;return{'subscribe':_0x9d79ed=>(_0xb95220=_0x9d79ed,()=>{_0xb95220=void 0x0;}),'publish':_0x1a3c86=>{_0xb95220&&_0xb95220(_0x1a3c86);}};}class _0x29a3de{[_0x49e620(0xb36)];[_0x49e620(0x37a)];[_0x49e620(0x2d3)];[_0x49e620(0x34b)]=_0x580ced();[_0x49e620(0xa67)];constructor(_0x4e51d4,_0x48eb93,_0x1dc258){const _0x2609af=_0x49e620;this[_0x2609af(0xb36)]=_0x4e51d4,this[_0x2609af(0x37a)]=_0x48eb93,this[_0x2609af(0x2d3)]=_0x1dc258;}[_0x49e620(0x1d5)](){const _0x15a44c=_0x49e620;this[_0x15a44c(0xa67)]?.();}async[_0x49e620(0x680)](_0x5cd546){const _0x292b81=_0x49e620,_0x3ac401={'key':_0x5cd546,'tableName':this[_0x292b81(0x37a)],'action':_0x5436e1[_0x292b81(0x500)]};return this['tableObserver'][_0x292b81(0x544)](_0x3ac401),this[_0x292b81(0xb36)]['get'](_0x5cd546);}async[_0x49e620(0x9fa)](_0x476b64,_0x2bc5d8,_0x3d2e1f=!0x0){const _0x2a04e9=_0x49e620;this[_0x2a04e9(0x5c8)](_0x2bc5d8);const _0xf78f4a=await this[_0x2a04e9(0xb36)][_0x2a04e9(0x680)](_0x476b64),_0x507763=await this[_0x2a04e9(0xb36)][_0x2a04e9(0x9fa)](_0x476b64,_0x2bc5d8),_0x28105e=_0xf78f4a?_0x282aa0['Update']:_0x282aa0[_0x2a04e9(0xa19)];if(this[_0x2a04e9(0x544)](_0x28105e,_0x507763),!_0x3d2e1f)return _0x507763;const _0x2dcfb2={'key':_0x476b64,'tableName':this[_0x2a04e9(0x37a)],'action':_0x28105e,'value':_0x507763};return this[_0x2a04e9(0x2d3)]['publish'](_0x2dcfb2),_0x507763;}async[_0x49e620(0x554)](_0x36c298){const _0x5856ad=_0x49e620;this[_0x5856ad(0x5c8)](_0x36c298);const _0x51fef4=await this[_0x5856ad(0xb36)][_0x5856ad(0x554)](_0x36c298),_0x562b50={'key':_0x51fef4['id'],'tableName':this[_0x5856ad(0x37a)],'action':_0x282aa0[_0x5856ad(0xa19)],'value':_0x51fef4};return this[_0x5856ad(0x2d3)][_0x5856ad(0x544)](_0x562b50),this[_0x5856ad(0x544)](_0x562b50[_0x5856ad(0xaa7)],_0x51fef4),_0x51fef4;}async['delete'](_0x41f677,_0x3fd471=!0x0){const _0x1dd374=_0x49e620,_0x29160a=await this[_0x1dd374(0xb36)][_0x1dd374(0x680)](_0x41f677);if(!_0x29160a)return;await this[_0x1dd374(0xb36)][_0x1dd374(0x55f)](_0x41f677);const _0x179407=_0x282aa0['Delete'];if(this[_0x1dd374(0x544)](_0x179407,_0x29160a),!_0x3fd471)return;const _0x1a9698={'key':_0x41f677,'tableName':this['tableName'],'action':_0x179407,'value':_0x29160a};this[_0x1dd374(0x2d3)][_0x1dd374(0x544)](_0x1a9698);}async[_0x49e620(0x9c6)](){const _0x4a20f2=_0x49e620,_0xc6d69a=await this[_0x4a20f2(0x463)]();for(const _0x46e649 of _0xc6d69a){const _0x518d34=_0x282aa0[_0x4a20f2(0x596)];this[_0x4a20f2(0x544)](_0x518d34,_0x46e649);const _0x4ef3d0={'key':_0x46e649['id'],'tableName':this[_0x4a20f2(0x37a)],'action':_0x518d34,'value':_0x46e649};this[_0x4a20f2(0x2d3)][_0x4a20f2(0x544)](_0x4ef3d0);}return this[_0x4a20f2(0xb36)]['clear']();}async[_0x49e620(0x463)](_0x2c9c4e){const _0x6bd60=_0x49e620,_0x5f169b={'key':'','tableName':this[_0x6bd60(0x37a)],'action':_0x5436e1[_0x6bd60(0x825)]};this['tableObserver'][_0x6bd60(0x544)](_0x5f169b);try{_0x2c9c4e&&(_0x2c9c4e=_0x2c9c4e instanceof _0x1d918f?_0x2c9c4e[_0x6bd60(0xa18)]():_0x1d918f[_0x6bd60(0x24c)](_0x2c9c4e)['getQuery']());}catch(_0x5dbf81){throw new _0x2c2152(_0x3608be[_0x6bd60(0x7f4)],_0x6bd60(0x8d5));}try{return await this['connector'][_0x6bd60(0x463)](_0x2c9c4e);}catch(_0x11cc0d){let _0x56a5a4=_0x6bd60(0x8d5);throw _0x11cc0d instanceof Error&&(_0x56a5a4=_0x11cc0d[_0x6bd60(0x977)]),new _0x2c2152(_0x3608be[_0x6bd60(0x7f4)],_0x56a5a4);}}async[_0x49e620(0x62a)](_0x21cbb8){const _0x4600ae=_0x49e620,_0xde02f5={'key':'','tableName':this[_0x4600ae(0x37a)],'action':_0x5436e1[_0x4600ae(0x22e)]};this['tableObserver'][_0x4600ae(0x544)](_0xde02f5);try{_0x21cbb8&&(_0x21cbb8=_0x21cbb8 instanceof _0x1d918f?_0x21cbb8[_0x4600ae(0xa18)]():_0x1d918f[_0x4600ae(0x24c)](_0x21cbb8)[_0x4600ae(0xa18)]());}catch(_0x58fd25){throw new _0x2c2152(_0x3608be['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{return await this[_0x4600ae(0xb36)][_0x4600ae(0x62a)](_0x21cbb8);}catch(_0x563cb2){let _0x2b5522=_0x4600ae(0x8d5);throw _0x563cb2 instanceof Error&&(_0x2b5522=_0x563cb2[_0x4600ae(0x977)]),new _0x2c2152(_0x3608be[_0x4600ae(0x7f4)],_0x2b5522);}}[_0x49e620(0xae9)](){const _0xfd3cda=_0x49e620;return this[_0xfd3cda(0xb36)][_0xfd3cda(0xae9)]();}[_0x49e620(0xa34)](_0x35c825){const _0x717dde=_0x49e620;this['listenerUnsubscriber']=this[_0x717dde(0x34b)][_0x717dde(0xa34)](_0x35c825);}[_0x49e620(0x2aa)](){const _0x9aa588=_0x49e620;this[_0x9aa588(0xa67)]?.();}[_0x49e620(0x544)](_0x15ef6f,_0x4c9fa6){const _0x17084f=_0x49e620,_0x12525c=this[_0x17084f(0x8b1)](_0x15ef6f,_0x4c9fa6);this[_0x17084f(0x34b)][_0x17084f(0x544)](_0x12525c);}[_0x49e620(0x8b1)](_0x40012b,_0x3d5981){const _0x253419=_0x49e620;let _0x46bd44;switch(_0x40012b){case _0x282aa0['Add']:_0x46bd44='add';break;case _0x282aa0[_0x253419(0x325)]:_0x46bd44=_0x253419(0xad9);break;case _0x282aa0[_0x253419(0x596)]:_0x46bd44=_0x253419(0x55f);}return{'action':_0x46bd44,'value':_0x3d5981};}[_0x49e620(0x5c8)](_0x503164){const _0x5eaebe=_0x49e620;if(_0x5eaebe(0x30b)!=typeof _0x503164||null===_0x503164)throw new _0x2c2152(_0x3608be[_0x5eaebe(0x9b6)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x479b38 in _0x503164){const _0x3b6016=_0x503164[_0x479b38];if('object'!=typeof _0x3b6016||_0x3b6016 instanceof Date){if(![_0x5eaebe(0xaba),_0x5eaebe(0xb50),'boolean'][_0x5eaebe(0x2ef)](typeof _0x3b6016))throw new _0x2c2152(_0x3608be[_0x5eaebe(0x9b6)],_0x5eaebe(0x4e8)+_0x479b38+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x5eaebe(0x5c8)](_0x3b6016);}}}class _0xa36777{['peaks']=[];[_0x49e620(0x477)]=0x0;[_0x49e620(0xae1)]=[];[_0x49e620(0x331)]=!0x1;[_0x49e620(0x75c)]=null;['rootComputationPromise']=null;[_0x49e620(0x43c)];['readyResolve']=null;[_0x49e620(0x6ed)]=[];[_0x49e620(0x706)];[_0x49e620(0x242)]=Promise['resolve']();['expectedTransactions']=0x0;constructor(){}get['ready'](){const _0x2ba058=_0x49e620;return this[_0x2ba058(0x242)];}async[_0x49e620(0xb68)](_0x3b9443,_0x23d454=0x0){const _0x3422a7=_0x49e620;this[_0x3422a7(0x91b)]||(this['_ready']=new Promise(_0x681187=>{const _0x5b2faf=_0x3422a7;this[_0x5b2faf(0x91b)]=_0x681187;}),this[_0x3422a7(0x3b0)]=_0x23d454);const _0x5e4023=Date[_0x3422a7(0x4e4)]();if(this[_0x3422a7(0x331)])return void this['transactionQueue'][_0x3422a7(0x6b8)](_0x3b9443);this[_0x3422a7(0x331)]=!0x0;let _0x1ec5a8={'hash':await this[_0x3422a7(0x96f)](_0x3b9443),'height':0x0};const _0x579974=this[_0x3422a7(0x272)](_0x1ec5a8);this[_0x3422a7(0x6ed)][_0x3422a7(0x6b8)](_0x579974),await _0x579974,this['totalNodes']+=0x1;const _0x44ce14=this[_0x3422a7(0xae1)][_0x3422a7(0x8bc)];for(;this[_0x3422a7(0xae1)][_0x3422a7(0x8bc)]>0x0;){const _0x4ea4e8=this[_0x3422a7(0xae1)]['shift']();await this[_0x3422a7(0xb68)](_0x4ea4e8);}this[_0x3422a7(0x3df)](),await this['ready'],this[_0x3422a7(0x933)](_0x5e4023,_0x44ce14);}async[_0x49e620(0xb77)](){const _0x338197=_0x49e620;return await this[_0x338197(0x242)],this['isComputingMMR']?(this['rootComputationPromise']||(this[_0x338197(0x2d9)]=this[_0x338197(0x55c)]()),await this[_0x338197(0x2d9)]):this['cachedRoot'];}['getPeaks'](){const _0x5b8ba0=_0x49e620;return this[_0x5b8ba0(0xb64)][_0x5b8ba0(0x3bb)](({hash:_0x47784e,height:_0x2c9844})=>({'hash':_0x47784e,'height':_0x2c9844}));}['getTotalNodes'](){const _0x6244bb=_0x49e620;return this[_0x6244bb(0x477)];}[_0x49e620(0x3f8)](_0x4f588e){const _0x4d8cf8=_0x49e620;return this[_0x4d8cf8(0xb64)][_0x4d8cf8(0x94a)](_0x4594ae=>_0x4594ae[_0x4d8cf8(0x982)]===_0x4f588e);}async[_0x49e620(0x9d2)](_0x712e79,_0x52c4fe){const _0x478bc8=_0x49e620;return await this[_0x478bc8(0x2b2)](_0x712e79+_0x52c4fe);}async[_0x49e620(0x96f)](_0x491656){const _0x43c261=_0x49e620;return await this[_0x43c261(0x2b2)](JSON['stringify'](_0x491656));}['comparePeaks'](_0xea0b7a){const _0x1401d5=_0x49e620,_0x5b911d=this[_0x1401d5(0x424)](),_0xbbf642=[],_0x55e354=[],_0x810e4f=[];for(const _0x1aa2f0 of _0x5b911d){const _0x3f6c3f=_0xea0b7a[_0x1401d5(0x94a)](_0xf45746=>_0xf45746['height']===_0x1aa2f0[_0x1401d5(0x982)]);_0x3f6c3f?_0x1aa2f0[_0x1401d5(0x6de)]!==_0x3f6c3f[_0x1401d5(0x6de)]&&_0xbbf642[_0x1401d5(0x6b8)]({'height':_0x1aa2f0[_0x1401d5(0x982)],'localPeak':_0x1aa2f0,'remotePeak':_0x3f6c3f}):_0x55e354[_0x1401d5(0x6b8)](_0x1aa2f0);}for(const _0x52cea6 of _0xea0b7a)_0x5b911d[_0x1401d5(0x94a)](_0x59a185=>_0x59a185[_0x1401d5(0x982)]===_0x52cea6['height'])||_0x810e4f[_0x1401d5(0x6b8)](_0x52cea6);return{'differingPeaks':_0xbbf642,'peaksMissingInRemote':_0x55e354,'peaksMissingInLocal':_0x810e4f};}async['recomputeRoot'](){const _0x4ac592=_0x49e620;this[_0x4ac592(0x331)]=!0x0;const _0x216e8d=this[_0x4ac592(0xb64)]['map'](_0x5e6a73=>_0x5e6a73['hash']);return this[_0x4ac592(0x75c)]=await this[_0x4ac592(0xb18)](_0x216e8d),this['isComputingMMR']=!0x1,this[_0x4ac592(0x2d9)]=null,this['debounceReady'](),this[_0x4ac592(0x75c)];}async[_0x49e620(0x2b2)](_0x20be9e){const _0x153fb6=_0x49e620;try{const _0x4254d9=new TextEncoder()[_0x153fb6(0x56c)](_0x20be9e),_0x1116cd=await crypto[_0x153fb6(0xb6a)][_0x153fb6(0x27b)]('SHA-256',_0x4254d9);return Array[_0x153fb6(0x9cc)](new Uint8Array(_0x1116cd))['map'](_0x121c85=>_0x121c85[_0x153fb6(0xb55)](0x10)['padStart'](0x2,'0'))[_0x153fb6(0xae2)]('');}catch(_0x3b89dc){return console['error']('Hash\x20computation\x20failed,\x20retrying...',_0x3b89dc),this['computeHash'](_0x20be9e);}}async['hashPeakHashes'](_0x170f30){const _0x3ec336=_0x49e620;return await this[_0x3ec336(0x2b2)](_0x170f30['join'](''));}async[_0x49e620(0x272)](_0x344fc3){const _0x4d3ce0=_0x49e620;for(;this['peaks'][_0x4d3ce0(0x8bc)]>0x0&&this[_0x4d3ce0(0xb64)][this[_0x4d3ce0(0xb64)][_0x4d3ce0(0x8bc)]-0x1][_0x4d3ce0(0x982)]===_0x344fc3[_0x4d3ce0(0x982)];){const _0x2caacd=this[_0x4d3ce0(0xb64)][_0x4d3ce0(0x6b9)]();_0x344fc3={'hash':await this[_0x4d3ce0(0x9d2)](_0x2caacd[_0x4d3ce0(0x6de)],_0x344fc3['hash']),'left':_0x2caacd,'right':_0x344fc3,'height':_0x344fc3[_0x4d3ce0(0x982)]+0x1};}this[_0x4d3ce0(0xb64)][_0x4d3ce0(0x6b8)](_0x344fc3),await this[_0x4d3ce0(0x55c)]();}[_0x49e620(0x933)](_0x470f4e,_0x2a4ada){const _0x4412aa=_0x49e620;if(!_0xb8b103[_0x4412aa(0x2a8)](_0xad09e4[_0x4412aa(0x35a)]))return;this[_0x4412aa(0x43c)]&&clearTimeout(this[_0x4412aa(0x43c)]);const _0x186462=Date[_0x4412aa(0x4e4)]();this[_0x4412aa(0x43c)]=setTimeout(()=>_0xb8b103[_0x4412aa(0xad5)](_0xad09e4['KeyValueDatabase'],_0x4412aa(0x44b),this[_0x4412aa(0x75c)],_0x4412aa(0x5f1),this[_0x4412aa(0x5bc)](),'queueLength',_0x2a4ada,_0x4412aa(0x63a),_0x186462-_0x470f4e),0x7d0);}[_0x49e620(0x3df)](){const _0x523d27=_0x49e620;this['debounceReadyTimeout']&&clearTimeout(this[_0x523d27(0x706)]),this['debounceReadyTimeout']=setTimeout(async()=>{const _0x597bb3=_0x523d27;try{const _0x1d8fbb=this[_0x597bb3(0x6ed)];if(this[_0x597bb3(0x6ed)]=[],await Promise[_0x597bb3(0x665)](_0x1d8fbb),this[_0x597bb3(0x3b0)]-=_0x1d8fbb[_0x597bb3(0x8bc)],this['readyPromises'][_0x597bb3(0x8bc)]>0x0||this[_0x597bb3(0x3b0)]>0x0)return this[_0x597bb3(0x3df)]();this['readyResolve']&&(this[_0x597bb3(0x91b)](),this[_0x597bb3(0x91b)]=null),this['_ready']=Promise[_0x597bb3(0x2bd)](),this['isComputingMMR']=!0x1;}catch(_0x1cbc2d){console[_0x597bb3(0x528)](_0x597bb3(0x5cb),_0x1cbc2d);}},0xa);}}const _0x1190a2=[_0x49e620(0x7ea),_0x49e620(0x601),'Content','Subscription',_0x49e620(0x1f9),_0x49e620(0x55a),_0x49e620(0x34c)],_0x5b7c9e=[[_0x49e620(0x88f),_0x49e620(0xac1),_0x49e620(0x8f5),_0x49e620(0x70b),_0x49e620(0x668),_0x49e620(0x671),_0x49e620(0x735),_0x49e620(0x1f9),_0x49e620(0x80b)],[_0x49e620(0x1ea),_0x49e620(0x243),'NodeConnectionsUpdate',_0x49e620(0x6d9)],['CloseGraphDatabase','CloseJobDispatcher',_0x49e620(0x694),_0x49e620(0x9e0),_0x49e620(0x47d),'CloseMediaStream',_0x49e620(0x84f),'ClosePubSubTopic',_0x49e620(0x522),'ExternalStorageStats',_0x49e620(0x9f2),_0x49e620(0x74d),_0x49e620(0x211),'KeyValueDatabaseContentAvailable',_0x49e620(0x538),_0x49e620(0xac3),'KeyValueDatabaseRequestTransactionsValue',_0x49e620(0x79e),_0x49e620(0x4b8),_0x49e620(0x37c),'LocalMediaStreamTrackFail',_0x49e620(0x9a8),_0x49e620(0x56b),_0x49e620(0xa09),_0x49e620(0x7b9),'SubscribeMediaStream',_0x49e620(0x856),_0x49e620(0x334),'UpdateMediaStream',_0x49e620(0x4d5)],[_0x49e620(0x454),_0x49e620(0x3a6),_0x49e620(0x392),'CanProvideMediaStream',_0x49e620(0x850),_0x49e620(0x1c6)],['StreamReport',_0x49e620(0xa70)],[_0x49e620(0x9ce)],[_0x49e620(0x34c),_0x49e620(0x920)]];function _0x3bc1dc(_0x34fe71){const _0x37f236=_0x49e620;return{..._0x34fe71,'systemMessageType':_0x1190a2[_0x34fe71[_0x37f236(0x946)]],'systemContentMessageType':_0x5b7c9e[_0x34fe71[_0x37f236(0x946)]][_0x34fe71['content'][_0x37f236(0x70f)]]};}const _0x542735={'hour':_0x49e620(0x39a),'minute':_0x49e620(0x39a),'second':'2-digit'};function _0x39d429(_0x486053,_0x520a06){const _0xe6330b=_0x49e620,_0x1da4be=(function(){const _0x111ae2=a0_0x2367,_0x370ab3=new Date(),_0x36be31=_0x370ab3['getMilliseconds'](),_0x568639=_0x370ab3['toLocaleDateString'](_0x111ae2(0x5fd),_0x542735)[_0x111ae2(0x5db)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x568639+'.'+(_0x36be31>0x64?''+_0x36be31:_0x36be31>0xa?'0'+_0x36be31:'00'+_0x36be31);}()),{sourceId:_0x5a014f,destinationIds:_0x418169,systemMessageType:_0x3f4637,systemContentMessageType:_0x415321}=_0x3bc1dc(_0x486053);return _0x1da4be+'\x20-\x20'+_0x520a06+_0xe6330b(0x830)+(_0x5a014f===_0x520a06?'Sending\x20\x27'+_0x3f4637+_0xe6330b(0x7bb)+(_0x418169?''+_0x418169:_0xe6330b(0x21d)):_0x486053[_0xe6330b(0x4b4)]===_0x11f0c5?_0xe6330b(0x649)+_0x3f4637+'\x27':(_0x418169?'':'Everyone\x20')+_0xe6330b(0x810)+_0x3f4637+_0xe6330b(0x240)+_0x5a014f)+_0xe6330b(0xb1e)+_0x415321+_0xe6330b(0xa53);}function _0x4fe1a5(_0x5c0953,_0x3d889e){const _0x20d81b=_0x49e620;if(!_0xb8b103['isChannelEnabled'](_0x5c0953))return;if(_0x42fdd0[_0x20d81b(0x941)])return;if(_0x20d81b(0x9bc)==typeof process)return;const _0x18700b=process[_0x20d81b(0x23e)]();console[_0x20d81b(0xad5)](_0x20d81b(0x7dc)+_0x3d889e+':');for(const _0x3df5e0 in _0x18700b)console[_0x20d81b(0xad5)]('\x20\x20'+_0x3df5e0+':\x20'+(_0x18700b[_0x3df5e0]/0x400/0x400)[_0x20d81b(0x641)](0x2)+_0x20d81b(0x372));}function _0x3e7078(_0x402bb7,_0x41b8e5){const _0x554bb9=_0x49e620;if(!_0xb8b103[_0x554bb9(0x2a8)](_0x41b8e5))return _0xb8b103['debug'](_0x554bb9(0x1e3)+_0x41b8e5),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x406c5a,_0x4dbf44)=>_0x4dbf44}};let _0x11bc04=0x0;return{'timingLogger':((()=>{const _0x4341c5=_0x554bb9;let _0x387006=Date[_0x4341c5(0x4e4)]();return{'start':()=>{const _0x3404b5=_0x4341c5;_0x387006=Date[_0x3404b5(0x4e4)]();},'now':()=>Date[_0x4341c5(0x4e4)](),'logWaitTime':_0x10c4e4=>{const _0x541647=_0x4341c5;_0x11bc04+=Date[_0x541647(0x4e4)]()-_0x387006,_0xb8b103[_0x541647(0xad5)](_0x41b8e5,_0x10c4e4,_0x11bc04+'ms',_0x402bb7);}};})()),'logger':{'log':(_0x5ed8de,_0xc40220=()=>{})=>{const _0x5e9a72=_0x554bb9,_0x5745ad=_0xc40220();_0x5745ad?_0xb8b103[_0x5e9a72(0xad5)](_0x41b8e5,_0x5ed8de,_0x5745ad,_0x402bb7):_0xb8b103[_0x5e9a72(0xad5)](_0x41b8e5,_0x5ed8de,_0x402bb7);},'performCalculation':(_0x415878,_0xc79625)=>_0x415878()}};}function _0x2bf430(_0x1b97a5){const _0x3e2a1d=_0x49e620;return'undefined'==typeof Buffer?0x0:Buffer[_0x3e2a1d(0x1df)](JSON[_0x3e2a1d(0x273)](_0x1b97a5),'utf8');}function _0x2a1620(_0x1355cd){const _0x510ac4=_0x49e620;if(0x0===_0x1355cd)return _0x510ac4(0x89b);const _0x5982da=Math[_0x510ac4(0x8a1)](Math[_0x510ac4(0xad5)](_0x1355cd)/Math[_0x510ac4(0xad5)](0x400));return parseFloat((_0x1355cd/Math[_0x510ac4(0x49c)](0x400,_0x5982da))['toFixed'](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x5982da];}class _0x3a199c extends _0x2cad14{[_0x49e620(0xaa8)];[_0x49e620(0x4a0)];[_0x49e620(0x2e6)];[_0x49e620(0x329)];['db'];[_0x49e620(0x4e6)];[_0x49e620(0x21c)]=new Map();[_0x49e620(0x2d3)];[_0x49e620(0x234)];[_0x49e620(0x67c)];[_0x49e620(0xb6f)];['syncResolve'];[_0x49e620(0xa8a)]=[];[_0x49e620(0x8cd)]=()=>{};['syncTimeout'];['eventListener']=_0x580ced();[_0x49e620(0xa67)];['syncTransactionsWritten']=[];[_0x49e620(0x7e8)];[_0x49e620(0x83f)];[_0x49e620(0x6ac)]=0x0;[_0x49e620(0xad7)]=0x0;[_0x49e620(0x3b3)]=!0x1;[_0x49e620(0x875)]=new _0xa36777();['transactionHashMap']=new Map();[_0x49e620(0x9b1)]=[];['debounceRebuildMMR'];[_0x49e620(0x2d6)]=[];['loggingCycle'];constructor(_0xdf0c85,_0x386631,_0x58c383,_0x41166a,_0x1f67fe,_0x57b7ca,_0x57420c){const _0x23366d=_0x49e620;if(_0x23366d(0xaba)!=typeof _0x386631)throw new _0x2c2152(_0x3608be['KeyValueDatabaseNameNotString'],_0x23366d(0x4e3));if(super(_0xdf0c85,_0x386631),this[_0x23366d(0xaa8)]=_0xdf0c85,this[_0x23366d(0x4a0)]=_0x58c383,this[_0x23366d(0x2e6)]=_0x41166a,this[_0x23366d(0x329)]=_0x57420c,this[_0x23366d(0x4e6)]=_0x23366d(0x2c3)+this[_0x23366d(0x2e6)]+_0x23366d(0x2c3)+this[_0x23366d(0x4a0)]+'ccc'+this[_0x23366d(0x73a)],this[_0x23366d(0x2d3)]=_0x580ced(),this[_0x23366d(0x468)]=function(_0x500161,_0x3a6323){const _0x5d0776=_0x23366d;if(!_0xb8b103['isChannelEnabled'](_0x3a6323))return _0xb8b103[_0x5d0776(0x1ff)](_0x5d0776(0x1e3)+_0x3a6323),{..._0x3e7078(_0x500161,_0x3a6323),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x5d0776(0x89b),'dataReceived':'0\x20B'})};const {timingLogger:_0x37f365,logger:_0x4e3dee}=_0x3e7078(_0x500161,_0x3a6323);let _0x3e10c3=0x0,_0x26bd4b=0x0;return{'timingLogger':_0x37f365,'logger':_0x4e3dee,'logDataSent':(_0x474017,_0x4bc515=!0x1)=>{const _0xd7482c=_0x5d0776,_0x5e6b47=_0x2bf430(_0x474017);return _0x4bc515&&_0xb8b103[_0xd7482c(0xad5)](_0x3a6323,_0xd7482c(0x4d2),_0x500161,_0x5e6b47),_0x3e10c3+=_0x5e6b47,_0x5e6b47;},'logDataReceived':(_0x1062ee,_0x19eb00=!0x1)=>{const _0x2c79b7=_0x5d0776,_0x45825e=_0x2bf430(_0x1062ee);return _0x19eb00&&_0xb8b103['log'](_0x3a6323,_0x2c79b7(0x53d),_0x500161,_0x45825e),_0x26bd4b+=_0x45825e,_0x45825e;},'getDataLogged':()=>({'dataSent':_0x2a1620(_0x3e10c3),'dataReceived':_0x2a1620(_0x26bd4b)})};}(this[_0x23366d(0x73a)],_0xad09e4['KeyValueDatabase']),this['isSync']=new Promise(_0x302cfe=>{const _0x3cefd6=_0x23366d;this[_0x3cefd6(0x712)]=_0x302cfe;}),_0x1f67fe instanceof _0x59ee41)this[_0x23366d(0x7e8)]=_0x1f67fe[_0x23366d(0x6b1)]();else{const [_0x134903,_0x197147]=_0x59ee41['validateLayout'](_0x1f67fe);if(!_0x134903)throw new _0x2c2152(_0x3608be[_0x23366d(0x6ee)],_0x23366d(0x2f1)+_0x197147);this[_0x23366d(0x7e8)]=structuredClone(_0x1f67fe);}this[_0x23366d(0x3ac)](this[_0x23366d(0x7e8)]),this['db']=new _0x57b7ca(this[_0x23366d(0x4e6)],this[_0x23366d(0x7e8)]),this[_0x23366d(0x61d)]();}async[_0x49e620(0x749)](_0x553f1b,_0xb584f4){const _0x325fb5=_0x49e620;if(_0xb8b103['log'](_0xad09e4[_0x325fb5(0x35a)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x325fb5(0x73a)]),!this['transactionTable'])throw new _0x44727e(_0x44727e[_0x325fb5(0x849)]['KeyValueDatabaseTransactionTableNotInitialized']);if(await this[_0x325fb5(0xb6f)],await this[_0x325fb5(0x329)](_0x553f1b),await this[_0x325fb5(0x875)][_0x325fb5(0xb77)]()===_0xb584f4){const _0x222177={'sourceId':this[_0x325fb5(0xaa8)][_0x325fb5(0x27e)](),'destinationIds':[_0x553f1b],'propagate':!0x0,'messageType':_0x24f665[_0x325fb5(0x303)],'content':{'type':_0xbc0bd6['KeyValueDatabaseContentSynchronized'],'label':this['label'],'mmrRoot':_0xb584f4}};return this['loggingCycle'][_0x325fb5(0xa2b)](_0x222177),void this[_0x325fb5(0x321)][_0x325fb5(0x544)](_0x222177);}const _0x5a02d1=this[_0x325fb5(0x875)]['getPeaks'](),_0x45baf5={'sourceId':this[_0x325fb5(0xaa8)][_0x325fb5(0x27e)](),'destinationIds':[_0x553f1b],'propagate':!0x0,'messageType':_0x24f665[_0x325fb5(0x303)],'content':{'type':_0xbc0bd6[_0x325fb5(0x898)],'label':this[_0x325fb5(0x73a)],'peaks':_0x5a02d1}};this['loggingCycle'][_0x325fb5(0xa2b)](_0x45baf5),this[_0x325fb5(0x321)]['publish'](_0x45baf5);}async['processContentSynchronized'](_0x310f76,_0x35111d){const _0x193f5c=_0x49e620,_0x144b36=await this[_0x193f5c(0x875)][_0x193f5c(0xb77)](),_0x241b20=_0x144b36===_0x35111d;if(_0xb8b103[_0x193f5c(0xad5)](_0xad09e4['KeyValueDatabase'],_0x193f5c(0x815)+_0x310f76+_0x193f5c(0xada)+_0x241b20,this[_0x193f5c(0x73a)]),_0x241b20)return this[_0x193f5c(0x9e4)](),void this[_0x193f5c(0x4bc)]();_0xb8b103['log'](_0xad09e4[_0x193f5c(0x35a)],'ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',_0x144b36,_0x35111d),_0xb8b103['warning'](_0x193f5c(0x659),{'nodeId':this[_0x193f5c(0xaa8)][_0x193f5c(0x27e)](),'nodeType':this[_0x193f5c(0xaa8)][_0x193f5c(0x70f)],'remoteId':_0x310f76,'data':{'localMMRRoot':_0x144b36,'remoteMMRRoot':_0x35111d}});const _0x32c8de={'sourceId':this[_0x193f5c(0xaa8)][_0x193f5c(0x27e)](),'messageType':_0x24f665['Content'],'propagate':!0x0,'content':{'type':_0xbc0bd6['KeyValueDatabaseSyncRequired'],'label':this[_0x193f5c(0x73a)],'mmrRoot':_0x144b36}};this[_0x193f5c(0x321)][_0x193f5c(0x544)](_0x32c8de);}async[_0x49e620(0x557)](_0x2df7be,_0x47f1c1){const _0x4f0b15=_0x49e620;if(_0xb8b103['log'](_0xad09e4['KeyValueDatabase'],'Received\x20content\x20available\x20from\x20node',_0x2df7be,'label',this[_0x4f0b15(0x73a)],_0x4f0b15(0xb64),_0x47f1c1),this['contentRequestSent'])return;this['contentRequestSent']=!0x0,this[_0x4f0b15(0x9e4)]();const {differingPeaks:_0x161fc9,peaksMissingInLocal:_0x538849,peaksMissingInRemote:_0x598bf3}=this[_0x4f0b15(0x875)]['comparePeaks'](_0x47f1c1);_0xb8b103['log'](_0xad09e4[_0x4f0b15(0x35a)],_0x4f0b15(0x37d),{'differingPeaks':_0x161fc9,'peaksMissingInLocal':_0x538849,'peaksMissingInRemote':_0x598bf3});const _0x2a5e83={'sourceId':this[_0x4f0b15(0xaa8)][_0x4f0b15(0x27e)](),'destinationIds':[_0x2df7be],'propagate':!0x0,'messageType':_0x24f665[_0x4f0b15(0x303)],'content':{'type':_0xbc0bd6[_0x4f0b15(0xac3)],'label':this['label'],'peakHeights':_0x538849[_0x4f0b15(0x3bb)](_0x198137=>_0x198137[_0x4f0b15(0x982)])[_0x4f0b15(0xa54)](_0x161fc9['map'](_0xab7039=>_0xab7039['height']))}};if(this[_0x4f0b15(0x321)][_0x4f0b15(0x544)](_0x2a5e83),_0x161fc9[_0x4f0b15(0x8bc)]>0x0||_0x598bf3[_0x4f0b15(0x8bc)]>0x0){const _0x2cf917=_0x598bf3[_0x4f0b15(0x3bb)](_0x10bd45=>_0x10bd45['height'])[_0x4f0b15(0xa54)](_0x161fc9['map'](_0x2438c0=>_0x2438c0['height']));await this['sendPeakTransactions'](_0x2df7be,_0x2cf917,!0x0);}}async['sendPeakTransactions'](_0x1f3c84,_0x2ec898,_0x44bcd5=!0x1){const _0x5294b5=_0x49e620;_0xb8b103['log'](_0xad09e4[_0x5294b5(0x35a)],_0x5294b5(0x284),this['label']);const _0x1d3567=_0x2ec898['map'](_0x3861de=>this[_0x5294b5(0x875)][_0x5294b5(0x3f8)](_0x3861de))[_0x5294b5(0x9e5)](Boolean);if(!_0x1d3567[_0x5294b5(0x8bc)]||_0x2ec898[_0x5294b5(0x8bc)]!==_0x1d3567[_0x5294b5(0x8bc)])throw new _0x44727e(_0x44727e[_0x5294b5(0x849)][_0x5294b5(0xb4a)],{'message':_0x5294b5(0x710),'peakHeights':_0x2ec898,'peaks':_0x1d3567[_0x5294b5(0x3bb)](_0x1ea2f8=>_0x1ea2f8[_0x5294b5(0x982)]),'nodeId':_0x1f3c84});const _0x245430=[];for(const _0x6098c7 of _0x1d3567)this[_0x5294b5(0x955)](_0x6098c7,_0x245430);const _0x18fc60=_0x44bcd5?void 0x0:[_0x1f3c84],_0x3abc28={'sourceId':this[_0x5294b5(0xaa8)][_0x5294b5(0x27e)](),'destinationIds':_0x18fc60,'messageType':_0x24f665[_0x5294b5(0x303)],'propagate':!0x0,'content':{'type':_0xbc0bd6[_0x5294b5(0x79e)],'label':this['label'],'transactions':_0x245430}};this[_0x5294b5(0x468)][_0x5294b5(0xa2b)](_0x3abc28),this[_0x5294b5(0x321)][_0x5294b5(0x544)](_0x3abc28);}async[_0x49e620(0x46e)](_0x2d8159,_0x2d7b7e){const _0x234ef2=_0x49e620;_0xb8b103['log'](_0xad09e4[_0x234ef2(0x35a)],_0x234ef2(0x2a1)+_0x2d7b7e[_0x234ef2(0x8bc)]+_0x234ef2(0x7d1)+_0x2d8159+_0x234ef2(0x830)+this[_0x234ef2(0x73a)]);for(const _0xda6cfc of _0x2d7b7e){const _0x1e0788=await this[_0x234ef2(0x234)][_0x234ef2(0x680)](_0xda6cfc['id']);if(!(_0x1e0788&&this['compareTransactions'](_0x1e0788,_0xda6cfc)>=0x0)){if(_0xda6cfc[_0x234ef2(0xaa7)]===_0x282aa0[_0x234ef2(0x596)]){const [_0xb03e97,_0x48eb53]=_0xda6cfc['id'][_0x234ef2(0x627)]('::'),_0x4a7627=this[_0x234ef2(0x62f)](_0xb03e97);await _0x4a7627[_0x234ef2(0x55f)](_0x48eb53);}else this[_0x234ef2(0xa8a)][_0x234ef2(0x6b8)](_0xda6cfc['id']);}}if(_0xb8b103['log'](_0xad09e4[_0x234ef2(0x35a)],'Found\x20'+this[_0x234ef2(0xa8a)][_0x234ef2(0x8bc)]+_0x234ef2(0x994),this[_0x234ef2(0x73a)]),this[_0x234ef2(0xa8a)]['length']>0x0){const _0x51960e={'sourceId':this[_0x234ef2(0xaa8)][_0x234ef2(0x27e)](),'destinationIds':[_0x2d8159],'messageType':_0x24f665['Content'],'propagate':!0x0,'content':{'type':_0xbc0bd6['KeyValueDatabaseRequestTransactionsValue'],'label':this[_0x234ef2(0x73a)],'transactionIds':this['transactionsToSync']}};this[_0x234ef2(0x468)]['logDataSent'](_0x51960e),this['systemTopic']['publish'](_0x51960e);}}['reset'](){const _0x1c9871=_0x49e620;this[_0x1c9871(0x61d)]();}['getContentType'](){const _0x18a931=_0x49e620;return _0x596e17[_0x18a931(0x7dd)][_0x18a931(0x35a)];}[_0x49e620(0x1d5)](){const _0x2d67bd=_0x49e620;this['db'][_0x2d67bd(0x5c2)](),this['tableUnsubscriber']?.(),clearTimeout(this['debounceStats']),delete this[_0x2d67bd(0x83f)],super[_0x2d67bd(0x1d5)]();}[_0x49e620(0x5c2)](){const _0x1d55ac=_0x49e620;this[_0x1d55ac(0x9e4)](),this['systemTopic'][_0x1d55ac(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x1d55ac(0x303)],'content':{'type':_0xbc0bd6[_0x1d55ac(0x47d)],'label':this[_0x1d55ac(0x73a)]}});}[_0x49e620(0x62f)](_0x6952c0){const _0x2d6c82=_0x49e620,_0x37b606=this[_0x2d6c82(0x21c)]['get'](_0x6952c0);if(_0x37b606)return _0x37b606;try{if(!this['db'][_0x2d6c82(0x5c1)](_0x6952c0))throw new _0x2c2152(_0x3608be[_0x2d6c82(0x682)],'Table\x20not\x20found');const _0x3085a9=new _0x29a3de(this['db'][_0x2d6c82(0x821)](_0x6952c0),_0x6952c0,this[_0x2d6c82(0x2d3)]);return this['tables']['set'](_0x6952c0,_0x3085a9),{'get':_0x3085a9[_0x2d6c82(0x680)][_0x2d6c82(0x6e2)](_0x3085a9),'set':_0x3085a9[_0x2d6c82(0x9fa)][_0x2d6c82(0x6e2)](_0x3085a9),'add':_0x3085a9[_0x2d6c82(0x554)][_0x2d6c82(0x6e2)](_0x3085a9),'delete':_0x3085a9[_0x2d6c82(0x55f)]['bind'](_0x3085a9),'clear':_0x3085a9[_0x2d6c82(0x9c6)][_0x2d6c82(0x6e2)](_0x3085a9),'list':_0x3085a9[_0x2d6c82(0x463)]['bind'](_0x3085a9),'count':_0x3085a9[_0x2d6c82(0x62a)][_0x2d6c82(0x6e2)](_0x3085a9),'subscribe':_0x3085a9[_0x2d6c82(0xa34)][_0x2d6c82(0x6e2)](_0x3085a9),'unsubscribe':_0x3085a9[_0x2d6c82(0x2aa)]['bind'](_0x3085a9)};}catch(_0x2dfed5){if(_0x2dfed5 instanceof _0x2c2152)throw _0x2dfed5;throw new _0x2c2152(_0x3608be[_0x2d6c82(0x9b0)],'Database\x20not\x20open');}}['subscribe'](_0x26b603){const _0x3aff71=_0x49e620;this['listenerUnsubscriber']=this[_0x3aff71(0x34b)][_0x3aff71(0xa34)](_0x26b603),this[_0x3aff71(0x7a5)](this['isSync'])[_0x3aff71(0x7f1)](_0x18b991=>{const _0x3c6541=_0x3aff71;_0x18b991&&this[_0x3c6541(0x34b)][_0x3c6541(0x544)]({'event':_0x596e17[_0x3c6541(0x1de)][_0x3c6541(0x389)]});});}[_0x49e620(0x2aa)](){const _0x4bc11e=_0x49e620;this[_0x4bc11e(0xa67)]?.(),this[_0x4bc11e(0xa67)]=void 0x0;}async[_0x49e620(0x73d)](){const _0x2d20e0=_0x49e620;_0x4fe1a5(_0xad09e4[_0x2d20e0(0x35a)],'Database\x20Opened');const _0x3680f9=[_0xca711,_0x33093e],_0x36f163=[];try{await this['db']['open']();const _0x408345=this['db'][_0x2d20e0(0x821)](_0x33093e),_0x2cd781=await _0x408345[_0x2d20e0(0x463)](),{id:_0x41fd97,layout:_0xeb1cad}=_0x2cd781[0x0]??{};if(_0xeb1cad){for(const _0x15de9b in _0xeb1cad)_0x3680f9['includes'](_0x15de9b)||this['db'][_0x2d20e0(0x5c1)](_0x15de9b)||_0x36f163[_0x2d20e0(0x6b8)](_0x15de9b);await _0x408345[_0x2d20e0(0x9fa)](_0x41fd97,{'layout':this[_0x2d20e0(0x7e8)]});}else await _0x408345['add']({'layout':this[_0x2d20e0(0x7e8)]});}catch(_0x456ea2){throw new _0x2c2152(_0x3608be[_0x2d20e0(0x9b0)],_0x456ea2[_0x2d20e0(0x977)]||'Error\x20encountered\x20while\x20opening\x20database');}this[_0x2d20e0(0x762)](),await this[_0x2d20e0(0x681)](),this[_0x2d20e0(0x611)](),this[_0x2d20e0(0xb16)](),_0x36f163['forEach'](_0x346367=>this[_0x2d20e0(0x426)](_0x346367));}async[_0x49e620(0x7b3)](_0xf30ef0,_0x2d59d3=()=>{},_0x244898=!0x1){const _0x487105=_0x49e620;if(!_0xf30ef0)return setTimeout(()=>{const _0x5651af=a0_0x2367;this[_0x5651af(0x9e4)](),this[_0x5651af(0x4bc)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x487105(0x8cd)]=_0x2d59d3,this['syncTimeout']=setTimeout(_0x2d59d3,0x7d0),!this[_0x487105(0x321)])throw new _0x44727e(_0x44727e[_0x487105(0x849)][_0x487105(0x2e5)]);const _0xbb5a33=await this['mmr'][_0x487105(0xb77)](),_0x2f14a4={'sourceId':this[_0x487105(0xaa8)]['getId'](),'messageType':_0x24f665[_0x487105(0x303)],'propagate':_0x244898,'content':{'type':_0xbc0bd6['KeyValueDatabaseSyncRequired'],'label':this[_0x487105(0x73a)],'mmrRoot':_0xbb5a33}};return this['loggingCycle']['logDataSent'](_0x2f14a4),this[_0x487105(0x321)][_0x487105(0x544)](_0x2f14a4),this['isSync'];}async[_0x49e620(0xad1)](_0x12c27b,_0x4ae983){const _0x271db2=_0x49e620;if(_0xb8b103['log'](_0xad09e4[_0x271db2(0x35a)],_0x271db2(0x8fe)+_0x4ae983[_0x271db2(0x8bc)],this[_0x271db2(0x73a)]),!this[_0x271db2(0x234)])throw new _0x44727e(_0x44727e[_0x271db2(0x849)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x280263 of _0x4ae983){const _0x2b294c=await this['transactionTable']['get'](_0x280263);if(!_0x2b294c)continue;const [_0x4f1c75,_0x38bf93]=_0x280263[_0x271db2(0x627)]('::'),_0x241154=this['getTable'](_0x4f1c75),_0x56e393=await _0x241154[_0x271db2(0x680)](_0x38bf93);_0x56e393?(_0x2b294c['value']=_0x56e393,this[_0x271db2(0x201)](_0x2b294c,[_0x12c27b])):_0xb8b103[_0x271db2(0x87a)](_0x271db2(0x64b),{'nodeId':this[_0x271db2(0xaa8)][_0x271db2(0x27e)](),'nodeType':this[_0x271db2(0xaa8)][_0x271db2(0x70f)],'remoteId':_0x12c27b,'data':{'tableKeys':Object[_0x271db2(0x818)](this[_0x271db2(0x21c)]),'transactionId':_0x280263,'transactions':this[_0x271db2(0xa8a)],'tableName':_0x4f1c75,'key':_0x38bf93}});}}async[_0x49e620(0x64f)](_0x394405){const _0x51c452=_0x49e620;if(!this[_0x51c452(0x234)])throw new _0x44727e(_0x44727e[_0x51c452(0x849)][_0x51c452(0x2ff)]);const _0x3b030d=await this[_0x51c452(0x875)][_0x51c452(0x96f)](_0x394405),_0x40f7ee=this[_0x51c452(0x566)][_0x51c452(0x680)](_0x3b030d);if(_0x40f7ee&&this[_0x51c452(0x377)](_0x394405,_0x40f7ee)<=0x0)return void _0xb8b103[_0x51c452(0xad5)](_0xad09e4[_0x51c452(0x35a)],_0x51c452(0x226),_0x394405);const _0x42cd45={..._0x394405};return delete _0x42cd45[_0x51c452(0x3e3)],this[_0x51c452(0x9c1)](_0x42cd45),await this[_0x51c452(0x234)]['set'](_0x394405['id'],_0x42cd45),_0x394405;}[_0x49e620(0x377)](_0x2bf6c5,_0x57ecec){const _0x5d62cc=_0x49e620;return _0x2bf6c5[_0x5d62cc(0x8ea)]!==_0x57ecec[_0x5d62cc(0x8ea)]?_0x2bf6c5[_0x5d62cc(0x8ea)]-_0x57ecec[_0x5d62cc(0x8ea)]:_0x2bf6c5[_0x5d62cc(0x7fa)]-_0x57ecec[_0x5d62cc(0x7fa)];}async[_0x49e620(0x2ea)](_0x5a3214){const _0x5322c0=_0x49e620;if(!this[_0x5322c0(0x234)])throw new _0x44727e(_0x44727e[_0x5322c0(0x849)][_0x5322c0(0x2ff)]);const _0x31f13f=_0x5a3214['tableName']+'::'+_0x5a3214[_0x5322c0(0x298)],_0xff670e=await _0xfa2cd[_0x5322c0(0x6f8)](),_0x337940={'id':_0x31f13f,'priority':Math[_0x5322c0(0x5b9)](),'timestamp':_0xff670e,'action':_0x5a3214[_0x5322c0(0xaa7)]};if(await this[_0x5322c0(0x64f)](_0x337940))return _0x337940;}async['deleteTransactionsForTable'](_0x253215){const _0x4d1e5f=_0x49e620;if(!this[_0x4d1e5f(0x234)])throw new _0x44727e(_0x44727e['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x2a3f40=_0x1d918f[_0x4d1e5f(0x6d0)]('id')['where'](_0x4d1e5f(0xa10),[_0x253215+'::',_0x253215+'::￿']),_0x1d0803=await this[_0x4d1e5f(0x234)][_0x4d1e5f(0x463)](_0x2a3f40[_0x4d1e5f(0xa18)]());for(const _0x3099a0 of _0x1d0803)await this[_0x4d1e5f(0x234)][_0x4d1e5f(0x55f)](_0x3099a0['id']);}[_0x49e620(0x611)](){const _0x16331f=_0x49e620;this[_0x16331f(0x1c5)](async(_0x4dccb5,_0x48a220)=>{const _0x2d1af3=_0x16331f;if(_0x48a220 instanceof File)return;if(this[_0x2d1af3(0x468)][_0x2d1af3(0x885)](_0x48a220),!await this['writeTransaction'](_0x48a220))return void this['checkSyncComplete'](_0x4dccb5,_0x48a220);if(!_0x48a220[_0x2d1af3(0x3e3)])throw new _0x44727e(_0x44727e['codes'][_0x2d1af3(0xb73)]);const [_0x1e6bb1,_0x2850c4]=_0x48a220['id'][_0x2d1af3(0x627)]('::'),_0x581091=this['getTable'](_0x1e6bb1);if(!_0x581091)throw new _0x44727e(_0x44727e['codes']['KeyValueDatabaseTableDoesNotExist'],{'table':_0x581091});let _0x188cdd=0x0;switch(_0x48a220[_0x2d1af3(0xaa7)]){case _0x282aa0[_0x2d1af3(0xa19)]:case _0x282aa0[_0x2d1af3(0x325)]:{const _0x57511b=_0x581091[_0x2d1af3(0x9fa)](_0x2850c4,_0x48a220[_0x2d1af3(0x3e3)],!0x1);_0x188cdd=JSON[_0x2d1af3(0x273)](_0x48a220[_0x2d1af3(0x3e3)])[_0x2d1af3(0x8bc)],this[_0x2d1af3(0xa8a)]['includes'](_0x48a220['id'])&&this['syncTransactionsWritten'][_0x2d1af3(0x6b8)](_0x57511b);break;}case _0x282aa0['Delete']:{const _0x12dbfd=_0x581091[_0x2d1af3(0x55f)](_0x2850c4,!0x1);this['transactionsToSync']['includes'](_0x48a220['id'])&&this[_0x2d1af3(0x761)][_0x2d1af3(0x6b8)](_0x12dbfd);break;}}_0xb8b103[_0x2d1af3(0x5d3)](_0x474c1d[_0x2d1af3(0x35a)],{'type':'sync','label':this['label'],'nodeId':this[_0x2d1af3(0xaa8)][_0x2d1af3(0x27e)](),'nodeType':this[_0x2d1af3(0xaa8)][_0x2d1af3(0x70f)],'clusterId':this[_0x2d1af3(0x4a0)],'tableName':_0x1e6bb1,'key':_0x2850c4,'size':_0x188cdd}),this[_0x2d1af3(0x54a)](_0x4dccb5,_0x48a220);});}[_0x49e620(0xb16)](){const _0x3e262e=_0x49e620;this[_0x3e262e(0x67c)]=this['tableObserver'][_0x3e262e(0xa34)](async _0x5150dd=>{const _0x2b8917=_0x3e262e;let _0xb53c10=0x0;switch(_0x5150dd['action']){case _0x282aa0[_0x2b8917(0xa19)]:case _0x282aa0[_0x2b8917(0x325)]:case _0x282aa0[_0x2b8917(0x596)]:{const _0x4daba4=await this[_0x2b8917(0x2ea)](_0x5150dd);if(!_0x4daba4)return;_0x4daba4['value']=_0x5150dd[_0x2b8917(0x3e3)],this[_0x2b8917(0x201)](_0x4daba4),_0xb53c10=JSON[_0x2b8917(0x273)](_0x5150dd['value'])['length'],this[_0x2b8917(0x6ac)]+=0x1;break;}case _0x5436e1['Get']:case _0x5436e1[_0x2b8917(0x825)]:case _0x5436e1[_0x2b8917(0x22e)]:this['reads']+=0x1;}_0xb8b103[_0x2b8917(0x5d3)](_0x474c1d['KeyValueDatabase'],{'type':_0x5150dd[_0x2b8917(0xaa7)],'label':this[_0x2b8917(0x73a)],'nodeId':this[_0x2b8917(0xaa8)][_0x2b8917(0x27e)](),'nodeType':this['localNode'][_0x2b8917(0x70f)],'clusterId':this[_0x2b8917(0x4a0)],'tableName':_0x5150dd['tableName'],'key':_0x5150dd[_0x2b8917(0x298)],'size':_0xb53c10}),this[_0x2b8917(0x61d)]();});}[_0x49e620(0x762)](){const _0x3630df=_0x49e620;this['db']&&(this[_0x3630df(0x234)]||(this[_0x3630df(0x234)]=this['db'][_0x3630df(0x821)](_0xca711)));}[_0x49e620(0x9e4)](){const _0x8f7b81=_0x49e620;this[_0x8f7b81(0x2b1)]&&(clearTimeout(this[_0x8f7b81(0x2b1)]),delete this[_0x8f7b81(0x2b1)]);}async[_0x49e620(0x4bc)](){const _0x573c20=_0x49e620;await this[_0x573c20(0x875)]['ready'],this['logSyncMetrics'](),this[_0x573c20(0x34b)]['publish']({'event':_0x596e17[_0x573c20(0x1de)][_0x573c20(0x389)]}),this[_0x573c20(0x712)]?.(!0x0),delete this[_0x573c20(0x712)],this[_0x573c20(0x61d)](),_0xb8b103[_0x573c20(0xad5)](_0xad09e4[_0x573c20(0x35a)],_0x573c20(0xa5b),this[_0x573c20(0x73a)]);}async['publishSyncCompletedAfterWrites'](_0x4ad359){const _0x43d17b=_0x49e620;await Promise['all'](this[_0x43d17b(0x761)]),_0xb8b103[_0x43d17b(0xad5)](_0xad09e4[_0x43d17b(0x35a)],_0x43d17b(0x7db)+this['syncTransactionsWritten'][_0x43d17b(0x8bc)]+'\x20writes\x20from\x20'+_0x4ad359+_0x43d17b(0x8aa),this[_0x43d17b(0x73a)]),await this[_0x43d17b(0x875)]['ready'],await this[_0x43d17b(0x2fe)](_0x4ad359),await this[_0x43d17b(0x4bc)]();}[_0x49e620(0x54a)](_0x5c3f67,_0x3428a1){const _0x26cc30=_0x49e620;this[_0x26cc30(0xa8a)]['includes'](_0x3428a1['id'])&&(this[_0x26cc30(0x9e4)](),this[_0x26cc30(0xa8a)]=this['transactionsToSync'][_0x26cc30(0x9e5)](_0x3f7f1c=>_0x3f7f1c!==_0x3428a1['id']),0x0!==this['transactionsToSync'][_0x26cc30(0x8bc)]?this[_0x26cc30(0x2b1)]=setTimeout(this[_0x26cc30(0x8cd)],0x7d0):this[_0x26cc30(0x238)](_0x5c3f67));}['sendStats'](){const _0x566035=_0x49e620;this[_0x566035(0x83f)]&&clearTimeout(this[_0x566035(0x83f)]),this[_0x566035(0x83f)]=setTimeout(async()=>{const _0x4820df=_0x566035;delete this[_0x4820df(0x83f)];let _0x5c0ffa=0x0;for(const _0x350068 of this['tables'][_0x4820df(0x66b)]())_0x5c0ffa+=await _0x350068[_0x4820df(0xae9)]();this[_0x4820df(0x321)]['publish']({'sourceId':_0x11f0c5,'messageType':_0x24f665['Content'],'content':{'type':_0xbc0bd6[_0x4820df(0x4b8)],'label':this[_0x4820df(0x73a)],'stats':{'timestamp':Date[_0x4820df(0x4e4)](),'storage':_0x5c0ffa,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x4820df(0x4f0)],'bytesSent':this[_0x4820df(0x604)],'bytesReceived':this[_0x4820df(0x81f)],'writes':this[_0x4820df(0x6ac)],'reads':this[_0x4820df(0xad7)],'prompts':0x0,'tokens':0x0}}}),_0xb8b103[_0x4820df(0x3a1)](_0x474c1d[_0x4820df(0x35a)],'ccc'+this[_0x4820df(0x4a0)]+_0x4820df(0x2c3)+this[_0x4820df(0x73a)],_0x5c0ffa);},_0x4f3413);}['addReservedTables'](_0x2ee7eb){const _0x5061d6=_0x49e620;if(_0x2ee7eb[_0x5061d6(0x21c)][_0xca711])throw new _0x2c2152(_0x3608be[_0x5061d6(0x610)],_0x5061d6(0xb70)+_0xca711+'\x27\x20reserved');if(_0x2ee7eb['tables'][_0x33093e])throw new _0x2c2152(_0x3608be[_0x5061d6(0x610)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x33093e+_0x5061d6(0x385));_0x2ee7eb[_0x5061d6(0x21c)][_0xca711]={'indexes':[]},_0x2ee7eb[_0x5061d6(0x21c)][_0x33093e]={'indexes':[]};}async[_0x49e620(0x7a5)](_0x4f53cd){const _0x3658c2=_0x49e620;return Promise[_0x3658c2(0xb32)]([_0x4f53cd,Promise['resolve'](_0x3658c2(0x5fa))])['then'](_0x3c2317=>_0x3658c2(0x5fa)!==_0x3c2317);}async[_0x49e620(0x2fe)](_0x5edac3){const _0x233763=_0x49e620;await this[_0x233763(0x776)]();const _0x379d7b=await this[_0x233763(0x875)][_0x233763(0xb77)](),_0x482f3e={'sourceId':this[_0x233763(0xaa8)][_0x233763(0x27e)](),'destinationIds':[_0x5edac3],'propagate':!0x0,'messageType':_0x24f665[_0x233763(0x303)],'content':{'type':_0xbc0bd6['KeyValueDatabaseContentSynchronized'],'label':this['label'],'mmrRoot':_0x379d7b}};this[_0x233763(0x321)][_0x233763(0x544)](_0x482f3e);}async[_0x49e620(0x681)](){const _0x4b061f=_0x49e620;if(!this[_0x4b061f(0x234)])throw new _0x44727e(_0x44727e['codes']['KeyValueDatabaseTransactionTableNotInitialized']);this[_0x4b061f(0x9b1)]=await this[_0x4b061f(0x234)][_0x4b061f(0x463)](),this[_0x4b061f(0x9b1)][_0x4b061f(0x8d9)](this[_0x4b061f(0x377)]),this[_0x4b061f(0x875)]=new _0xa36777(),this[_0x4b061f(0x566)]=new Map();for(const _0xef7037 of this[_0x4b061f(0x9b1)])this['appendTransactionAndUpdateHashMap'](_0xef7037,this['transactions'][_0x4b061f(0x8bc)]);this[_0x4b061f(0xa5c)]();}async[_0x49e620(0x47c)](_0x1d443e,_0x36124a){const _0x4cd3ad=_0x49e620,_0x5070ce={..._0x1d443e};delete _0x5070ce[_0x4cd3ad(0x3e3)],await this[_0x4cd3ad(0x875)][_0x4cd3ad(0xb68)](_0x5070ce,_0x36124a);const _0x30fe67=await this[_0x4cd3ad(0x875)][_0x4cd3ad(0x96f)](_0x5070ce);this[_0x4cd3ad(0x566)][_0x4cd3ad(0x9fa)](_0x30fe67,_0x1d443e);}[_0x49e620(0x386)](_0x4582e6){const _0x153f17=_0x49e620;return this['transactionHashMap'][_0x153f17(0x680)](_0x4582e6);}['collectTransactionsFromNode'](_0x382254,_0x30939e){const _0x1ec385=_0x49e620;if(0x0!==_0x382254[_0x1ec385(0x982)])_0x382254['left']&&this[_0x1ec385(0x955)](_0x382254[_0x1ec385(0x8a5)],_0x30939e),_0x382254[_0x1ec385(0x722)]&&this['collectTransactionsFromNode'](_0x382254[_0x1ec385(0x722)],_0x30939e);else{const _0x1bcef7=this['getTransactionByHash'](_0x382254[_0x1ec385(0x6de)]);_0x1bcef7&&_0x30939e[_0x1ec385(0x6b8)](_0x1bcef7);}}async[_0x49e620(0x1e9)](){const _0x1ec47b=_0x49e620;this['debounceRebuildMMR']&&(clearTimeout(this[_0x1ec47b(0xa0c)]),delete this[_0x1ec47b(0xa0c)],this[_0x1ec47b(0x2d6)][_0x1ec47b(0x8bc)]>0x0&&(this[_0x1ec47b(0x9b1)][_0x1ec47b(0x6b8)](...this[_0x1ec47b(0x2d6)][_0x1ec47b(0x8d9)](this[_0x1ec47b(0x377)])),this[_0x1ec47b(0x2d6)]=[]));const _0x22e576=this[_0x1ec47b(0x958)]();this['mmr']=new _0xa36777(),this['transactionHashMap'][_0x1ec47b(0x9c6)](),this[_0x1ec47b(0x9b1)][_0x1ec47b(0x8d9)](this[_0x1ec47b(0x377)]);for(const _0x39cd2e of this[_0x1ec47b(0x9b1)])this[_0x1ec47b(0x47c)](_0x39cd2e,this[_0x1ec47b(0x9b1)][_0x1ec47b(0x8bc)]);await this['mmr'][_0x1ec47b(0x469)],this['logMMRRebuild'](_0x22e576);}['startLoggingCycle'](){const _0x5940d3=_0x49e620;return this[_0x5940d3(0x468)][_0x5940d3(0x8ef)][_0x5940d3(0x267)](async()=>{const _0x373d07=_0x5940d3,_0x338bab=await this[_0x373d07(0x875)][_0x373d07(0xb77)]();return{'startTime':Date['now'](),'initialRoot':_0x338bab};},Promise[_0x5940d3(0x2bd)]({'startTime':0x0,'initialRoot':''}));}async[_0x49e620(0x20b)](_0x210c2b){const _0x3118b3=_0x49e620;try{const {startTime:_0x1abe7a,initialRoot:_0x550a1e}=await _0x210c2b,_0x3de77b=await this[_0x3118b3(0x875)][_0x3118b3(0xb77)](),_0x2061f3=[_0x3118b3(0xb5e)+(_0x550a1e!==_0x3de77b),_0x3118b3(0x96a)+_0x550a1e,_0x3118b3(0x4a9)+_0x3de77b,_0x3118b3(0x314)+this[_0x3118b3(0x875)]['getTotalNodes'](),_0x3118b3(0x1cb)+(Date[_0x3118b3(0x4e4)]()-_0x1abe7a)+_0x3118b3(0x651)][_0x3118b3(0xae2)]('\x20');this[_0x3118b3(0x468)]['logger'][_0x3118b3(0xad5)]('',()=>_0x2061f3);}catch(_0x36baa6){console[_0x3118b3(0x528)](_0x3118b3(0xa36),_0x36baa6);}}[_0x49e620(0x9c1)](_0x194f96){const _0x11ba0a=_0x49e620;this[_0x11ba0a(0x2d6)][_0x11ba0a(0x6b8)](_0x194f96),this[_0x11ba0a(0xa0c)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x11ba0a(0xa0c)]),this[_0x11ba0a(0xa0c)]=setTimeout(()=>{const _0x51f9ae=_0x11ba0a;this[_0x51f9ae(0x776)]();},0x3e8);}async[_0x49e620(0x776)](){const _0x2f9722=_0x49e620;if(this['debounceRebuildMMR']&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x2f9722(0xa0c)]),0x0!==this[_0x2f9722(0x2d6)][_0x2f9722(0x8bc)]){if(0x0===this[_0x2f9722(0x9b1)][_0x2f9722(0x8bc)])return this[_0x2f9722(0x9b1)]=this[_0x2f9722(0x2d6)],this[_0x2f9722(0x2d6)]=[],await this[_0x2f9722(0x1e9)]();if(this[_0x2f9722(0x2d6)][_0x2f9722(0x8d9)](this['compareTransactions']),this[_0x2f9722(0x377)](this[_0x2f9722(0x2d6)][0x0],this[_0x2f9722(0x9b1)][this[_0x2f9722(0x9b1)]['length']-0x1])>0x0){this[_0x2f9722(0x468)]['logger']['log']('processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20'+this[_0x2f9722(0x2d6)][_0x2f9722(0x8bc)]+_0x2f9722(0x69a)+this[_0x2f9722(0x9b1)][_0x2f9722(0x8bc)]);for(const _0x3a563b of this['transactionsToAppend'])this['transactions'][_0x2f9722(0x6b8)](_0x3a563b),this[_0x2f9722(0x47c)](_0x3a563b,this[_0x2f9722(0x2d6)][_0x2f9722(0x8bc)]);return this[_0x2f9722(0x2d6)]=[],void this[_0x2f9722(0x468)][_0x2f9722(0x8ef)][_0x2f9722(0xad5)](_0x2f9722(0x46c),async()=>'New\x20MMR\x20Root:\x20'+await this[_0x2f9722(0x875)][_0x2f9722(0xb77)]()+',\x20Total\x20Nodes:'+this[_0x2f9722(0x875)][_0x2f9722(0x5bc)]());}this[_0x2f9722(0x468)][_0x2f9722(0x8ef)][_0x2f9722(0xad5)](_0x2f9722(0x58d)+this[_0x2f9722(0x2d6)][_0x2f9722(0x8bc)]+_0x2f9722(0x69a)+this[_0x2f9722(0x9b1)][_0x2f9722(0x8bc)]),this['transactions'][_0x2f9722(0x6b8)](...this[_0x2f9722(0x2d6)]),this['transactionsToAppend']=[],this[_0x2f9722(0x1e9)]();}}async[_0x49e620(0xb3b)](){const _0x5655fe=_0x49e620;if(!_0xb8b103[_0x5655fe(0x2a8)](_0xad09e4['KeyValueDatabase']))return;await this[_0x5655fe(0x875)][_0x5655fe(0x469)];const {dataSent:_0x56ca61,dataReceived:_0x4dbd95}=this[_0x5655fe(0x468)][_0x5655fe(0x300)]();_0xb8b103[_0x5655fe(0xad5)](_0xad09e4['KeyValueDatabase'],_0x5655fe(0xaa9),this['label'],_0x5655fe(0x8ab)+_0x56ca61,_0x5655fe(0x28b)+_0x4dbd95,_0x5655fe(0x8bd),await this['mmr']['getRoot'](),_0x5655fe(0x348),this[_0x5655fe(0x875)][_0x5655fe(0x5bc)]());}async[_0x49e620(0xa5c)](){const _0x1e5ca1=_0x49e620;if(!_0xb8b103[_0x1e5ca1(0x2a8)](_0xad09e4[_0x1e5ca1(0x35a)]))return;const _0x2fc9cc=this[_0x1e5ca1(0x875)]['getPeaks'](),_0x2fa374=_0x2fc9cc[_0x1e5ca1(0x3bb)](_0x845b63=>_0x845b63['height']),_0x6fd5e2=await this[_0x1e5ca1(0x875)][_0x1e5ca1(0xb77)]();_0xb8b103[_0x1e5ca1(0xad5)](_0xad09e4['KeyValueDatabase'],'Initial\x20MMR\x20built\x20with',this[_0x1e5ca1(0x9b1)][_0x1e5ca1(0x8bc)],_0x1e5ca1(0x9b1),this[_0x1e5ca1(0x875)][_0x1e5ca1(0x5bc)](),'totalNodes',_0x2fc9cc[_0x1e5ca1(0x8bc)],_0x1e5ca1(0xb64),_0x2fa374,_0x1e5ca1(0xa9b),_0x6fd5e2);}}const _0x12fb3d=require('@crewdle/mist-connector-opfs'),_0x230114=require('@crewdle/mist-connector-indexed-db'),_0x159d8e=require('@crewdle/mist-connector-webrtc-browser'),_0x56a821=0x10000000;var _0x3a8a1b,_0xcf68f1,_0x364a36,_0xa5a731,_0xa35e93,_0x33a688,_0x5f5d86,_0x18e796,_0xd1e9ce;!function(_0x1f4fc5){const _0x10923f=_0x49e620;_0x1f4fc5[_0x10923f(0x4ca)]=_0x10923f(0x4ca),_0x1f4fc5[_0x10923f(0x521)]=_0x10923f(0x521),_0x1f4fc5['AudioVolume']=_0x10923f(0xa79),_0x1f4fc5[_0x10923f(0x221)]=_0x10923f(0x221),_0x1f4fc5[_0x10923f(0x859)]=_0x10923f(0x859),_0x1f4fc5[_0x10923f(0x387)]=_0x10923f(0x387),_0x1f4fc5['Recording']=_0x10923f(0x2e4),_0x1f4fc5[_0x10923f(0xaa1)]=_0x10923f(0xaa1),_0x1f4fc5['WebGL']=_0x10923f(0x89c),_0x1f4fc5[_0x10923f(0x6a6)]='WebRTC';}(_0x3a8a1b||(_0x3a8a1b={}));class _0x1fda56{[_0x49e620(0xb75)];[_0x49e620(0xb4f)];['eventTarget'];constructor(_0x4fa54a=new Map(),_0x3550e3=new Map(),_0x4b82be=new EventTarget()){const _0x56d435=_0x49e620;this[_0x56d435(0xb75)]=_0x4fa54a,this[_0x56d435(0xb4f)]=_0x3550e3,this[_0x56d435(0x34e)]=_0x4b82be;}[_0x49e620(0x8e2)]=(_0x42027a,_0x2caa5b)=>this[_0x49e620(0xb75)][_0x49e620(0x29d)](_0x42027a)?(_0xb8b103[_0x49e620(0xad5)](_0xad09e4[_0x49e620(0xb27)],_0x49e620(0xa8d),{'event':_0x42027a,'data':_0x2caa5b}),this[_0x49e620(0x34e)][_0x49e620(0xb42)](new CustomEvent(_0x42027a,{'detail':_0x2caa5b})),!0x0):(this['bufferEvent'](_0x42027a,_0x2caa5b),!0x1);['on']=(_0x486eeb,_0x1c2681)=>{const _0x9d5bcd=_0x49e620,_0x31ff5e=_0x380e80=>{const _0x2fad8a=a0_0x2367;_0xb8b103['log'](_0xad09e4[_0x2fad8a(0xb27)],_0x2fad8a(0x2ce),_0x380e80['type'],_0x380e80[_0x2fad8a(0x446)]),_0x1c2681(_0x380e80[_0x2fad8a(0x446)]);};return this[_0x9d5bcd(0xb75)][_0x9d5bcd(0x9fa)](_0x486eeb,_0x31ff5e),this[_0x9d5bcd(0x34e)][_0x9d5bcd(0x531)](_0x486eeb,_0x31ff5e),_0xb8b103[_0x9d5bcd(0xad5)](_0xad09e4[_0x9d5bcd(0x575)],'Subscribing\x20to\x20an\x20event:\x20on',_0x486eeb,_0x1c2681),this['consumeBufferedEvents'](_0x486eeb),this;};[_0x49e620(0x27c)](_0x55182b){const _0x19b904=_0x49e620;if(!_0x55182b)return this[_0x19b904(0xb75)]['forEach']((_0x2e98fd,_0x4ce22e)=>{const _0x5e9ce5=_0x19b904;this['eventTarget'][_0x5e9ce5(0x947)](_0x4ce22e,_0x2e98fd);}),void this[_0x19b904(0xb75)]['clear']();_0x19b904(0xaba)==typeof _0x55182b&&this['removeListener'](_0x55182b),Array[_0x19b904(0xa0d)](_0x55182b)&&_0x55182b[_0x19b904(0x49b)](_0x3bae6e=>{const _0x5edad8=_0x19b904;this[_0x5edad8(0xa89)](_0x3bae6e);});}[_0x49e620(0xa89)](_0x1c924f){const _0x1884de=_0x49e620,_0x54e49b=this['registeredListeners']['get'](_0x1c924f);_0x54e49b&&(this['eventTarget'][_0x1884de(0x947)](_0x1c924f,_0x54e49b),this['registeredListeners']['delete'](_0x1c924f));}[_0x49e620(0x4e7)](_0x9dbcac,_0x401e06){const _0x5584d9=_0x49e620;_0xb8b103[_0x5584d9(0xad5)](_0xad09e4[_0x5584d9(0xb27)],'Buffering\x20event',{'event':_0x9dbcac,'data':_0x401e06});const _0x31ea31=this[_0x5584d9(0xb4f)][_0x5584d9(0x680)](_0x9dbcac)||[];this[_0x5584d9(0xb4f)][_0x5584d9(0x9fa)](_0x9dbcac,[..._0x31ea31,_0x401e06]);}[_0x49e620(0x684)](_0x4beca4){const _0x36c3fa=_0x49e620,_0x51a46f=this[_0x36c3fa(0xb4f)]['get'](_0x4beca4);_0x51a46f&&(_0x51a46f['forEach'](_0x14cff0=>{const _0xa33c1b=_0x36c3fa;_0xb8b103[_0xa33c1b(0xad5)](_0xad09e4['Events'],_0xa33c1b(0x6ea),{'event':_0x4beca4,'data':_0x14cff0}),this['eventTarget'][_0xa33c1b(0xb42)](new CustomEvent(_0x4beca4,{'detail':_0x14cff0}));}),this[_0x36c3fa(0xb4f)]['delete'](_0x4beca4));}}class _0x1a0753 extends Error{constructor(_0x1268b9){const _0x2fccd2=_0x49e620;super(_0x2fccd2(0x1d3)+_0x1268b9);}}!function(_0x55d676){const _0x5f11ea=_0x49e620;_0x55d676[_0x55d676[_0x5f11ea(0x622)]=0x0]=_0x5f11ea(0x622),_0x55d676[_0x55d676['Optimization']=0x1]=_0x5f11ea(0x70c);}(_0xcf68f1||(_0xcf68f1={})),function(_0x19282e){const _0x564baf=_0x49e620;_0x19282e[_0x19282e[_0x564baf(0x88f)]=0x0]=_0x564baf(0x88f),_0x19282e[_0x19282e[_0x564baf(0xac1)]=0x1]='Answer',_0x19282e[_0x19282e[_0x564baf(0x8f5)]=0x2]=_0x564baf(0x8f5),_0x19282e[_0x19282e['Success']=0x3]=_0x564baf(0x70b),_0x19282e[_0x19282e[_0x564baf(0x668)]=0x4]=_0x564baf(0x668),_0x19282e[_0x19282e[_0x564baf(0x671)]=0x5]='Restart',_0x19282e[_0x19282e[_0x564baf(0x735)]=0x6]='Disconnect',_0x19282e[_0x19282e[_0x564baf(0x1f9)]=0x7]=_0x564baf(0x1f9),_0x19282e[_0x19282e[_0x564baf(0x80b)]=0x8]=_0x564baf(0x80b);}(_0x364a36||(_0x364a36={})),function(_0x15173a){const _0x4aa609=_0x49e620;_0x15173a[_0x15173a[_0x4aa609(0x69f)]=0x0]=_0x4aa609(0x69f),_0x15173a[_0x15173a['Receiver']=0x1]='Receiver';}(_0xa5a731||(_0xa5a731={})),function(_0x1cce41){const _0x24622f=_0x49e620;_0x1cce41['MediaStream']=_0x24622f(0x89a);}(_0xa35e93||(_0xa35e93={})),function(_0x113262){const _0x1fe434=_0x49e620;_0x113262[_0x113262[_0x1fe434(0x1ea)]=0x0]=_0x1fe434(0x1ea),_0x113262[_0x113262[_0x1fe434(0x243)]=0x1]=_0x1fe434(0x243),_0x113262[_0x113262[_0x1fe434(0x969)]=0x2]=_0x1fe434(0x969),_0x113262[_0x113262[_0x1fe434(0x6d9)]=0x3]='NodeLeave';}(_0x33a688||(_0x33a688={})),function(_0x40ae57){const _0x4b3675=_0x49e620;_0x40ae57[_0x40ae57[_0x4b3675(0x34c)]=0x0]=_0x4b3675(0x34c),_0x40ae57[_0x40ae57[_0x4b3675(0x920)]=0x1]=_0x4b3675(0x920);}(_0x5f5d86||(_0x5f5d86={})),function(_0x3cd154){const _0x47efab=_0x49e620;_0x3cd154[_0x47efab(0xb14)]=_0x47efab(0x82c),_0x3cd154[_0x47efab(0x9b4)]='downgrade';}(_0x18e796||(_0x18e796={})),function(_0xab1c48){const _0x482078=_0x49e620;_0xab1c48[_0x482078(0xb79)]=_0x482078(0x370),_0xab1c48[_0x482078(0x9c4)]=_0x482078(0x2f6);}(_0xd1e9ce||(_0xd1e9ce={}));const _0x14f64c=require('aws-amplify'),_0x2be20b=require('aws-amplify/utils'),_0x1cde0f=require('@aws-amplify/api'),_0x58505f=require('@aws-amplify/core');class _0x4f6b74{[_0x49e620(0x4a0)];['localNode'];['remoteId'];constructor(_0x35753f,_0xc20858,_0x34eb81){const _0x4d8530=_0x49e620;this[_0x4d8530(0x4a0)]=_0x35753f,this[_0x4d8530(0xaa8)]=_0xc20858,this[_0x4d8530(0x620)]=_0x34eb81;}[_0x49e620(0x634)](){const _0x23d980=_0x49e620;return this['localNode'][_0x23d980(0x27e)]();}[_0x49e620(0x6c5)](){return this['remoteId'];}}var _0xff2f66,_0x572501,_0x294eae;function _0x1a4b8b(_0x5a2117,_0x573af7){const _0x19d288=_0x49e620;return _0x5a2117[_0x19d288(0x4b4)]===_0x573af7;}function _0x2e7ac5(_0x5a8b94,_0x5d6e79){const _0x5ac866=_0x49e620;return _0x5a8b94[_0x5ac866(0x292)]?.[_0x5ac866(0x2ef)](_0x5d6e79)??function(_0x24d393){return void 0x0===_0x24d393['destinationIds'];}(_0x5a8b94);}function _0x2990b6(_0x1931b9,{contentType:_0x27b475,label:_0x27a1d6,remoteId:_0x974951}){return _0x1931b9+'-'+_0x27b475+'-'+_0x27a1d6+'-'+_0x974951;}function _0x1fa60a(_0x2467ee,_0x5b80a2,_0x555c99){return''+_0x2467ee+_0x5b80a2+_0x555c99;}function _0x231cec(_0x4408b1){const _0xb6dacc=_0x49e620;return _0x4408b1===_0x572501[_0xb6dacc(0xa7d)]?_0xb6dacc(0x692):_0xb6dacc(0x42e);}function _0x580d2a(_0x3b6677,_0x5e6cb4){const _0x31ea8e=_0x49e620;return{'label':_0x3b6677['getInternalStreamId'](),'contentType':_0x3b6677['getContentType'](),'remoteId':_0x5e6cb4['getRemoteId'](),'supportsContentType':_0x5e6cb4[_0x31ea8e(0xa2e)]()['includes'](_0x3b6677[_0x31ea8e(0x9e2)]())};}!function(_0x39f581){const _0x165b94=_0x49e620;_0x39f581[_0x39f581[_0x165b94(0xaa4)]=0x0]=_0x165b94(0xaa4),_0x39f581[_0x39f581[_0x165b94(0x984)]=0x1]=_0x165b94(0x984),_0x39f581[_0x39f581[_0x165b94(0xb46)]=0x2]=_0x165b94(0xb46);}(_0xff2f66||(_0xff2f66={})),function(_0x665f4e){const _0x2ac397=_0x49e620;_0x665f4e[_0x2ac397(0xa7d)]='in',_0x665f4e['Outgoing']=_0x2ac397(0x551);}(_0x572501||(_0x572501={}));class _0x431ba9{[_0x49e620(0x664)];[_0x49e620(0x526)];constructor(_0x26959b,_0x541738){const _0x358252=_0x49e620;this[_0x358252(0x664)]=_0x26959b,this[_0x358252(0x526)]=_0x541738;}[_0x49e620(0x508)](_0x3763c7){const _0x326545=_0x49e620;this[_0x326545(0x664)](_0x3763c7);}async[_0x49e620(0x7fd)](){const _0x3c653f=_0x49e620;await this[_0x3c653f(0x526)]();}}class _0x55917d{[_0x49e620(0x664)];[_0x49e620(0x526)];constructor(_0x54c6b1,_0x2a0b02){const _0x4c8247=_0x49e620;this[_0x4c8247(0x664)]=_0x54c6b1,this['retryCallback']=_0x2a0b02;}async[_0x49e620(0x508)](_0x47b2a3){await this['callback'](_0x47b2a3);}async[_0x49e620(0x7fd)](){const _0x5981c9=_0x49e620;await this[_0x5981c9(0x526)]();}}function _0x37683e(_0x4ebd4d=()=>{},_0x468da6=()=>!0x1,_0x5ded10=()=>{}){let _0x238044,_0x21f2e5,_0x5eafa1=0x0;return{get 'size'(){return _0x5eafa1;},get 'head'(){return _0x238044;},get 'tail'(){return _0x21f2e5;},set 'head'(_0x1911b6){_0x238044=_0x1911b6;},set 'tail'(_0xfc8327){_0x21f2e5=_0xfc8327;},'push'(_0x5793d6,_0x3a5d35=!0x0){const _0x43abf2=a0_0x2367,_0x18756e={'value':_0x5793d6};_0x3a5d35&&_0x468da6(_0x18756e)?_0x4ebd4d():(_0x21f2e5&&(_0x18756e[_0x43abf2(0xb00)]=_0x21f2e5,_0x21f2e5[_0x43abf2(0x66f)]=_0x18756e),_0x21f2e5=_0x18756e,_0x238044||(_0x238044=_0x18756e),_0x5eafa1+=0x1,_0x3a5d35&&_0x4ebd4d());},'pop'(){const _0x7fbcb1=a0_0x2367;if(!_0x21f2e5)return;const _0x5eeee1=_0x21f2e5[_0x7fbcb1(0x3e3)];return _0x21f2e5=_0x21f2e5[_0x7fbcb1(0xb00)],_0x21f2e5&&delete _0x21f2e5[_0x7fbcb1(0x66f)],_0x21f2e5||(_0x238044=void 0x0),_0x5eafa1-=0x1,_0x5eeee1;},'unshift'(_0x541fff,_0x537824=!0x0){const _0x5e564b=a0_0x2367,_0x1f2249={'value':_0x541fff};_0x537824&&_0x468da6(_0x1f2249)?_0x4ebd4d():(_0x238044&&(_0x238044[_0x5e564b(0xb00)]=_0x1f2249,_0x1f2249[_0x5e564b(0x66f)]=_0x238044),_0x238044=_0x1f2249,_0x21f2e5||(_0x21f2e5=_0x1f2249),_0x5eafa1+=0x1,_0x537824&&_0x4ebd4d());},'shift'(){const _0x5957a0=a0_0x2367;if(!_0x238044)return;const _0x5d746b=_0x238044[_0x5957a0(0x3e3)];return _0x238044=_0x238044['next'],_0x238044&&delete _0x238044[_0x5957a0(0xb00)],_0x238044||(_0x21f2e5=void 0x0),_0x5eafa1-=0x1,_0x5d746b;},'clear'(){_0x5ded10(),_0x238044=void 0x0,_0x21f2e5=void 0x0,_0x5eafa1=0x0;}};}function _0x5c01e2(_0x5f0f70,_0x335805=!0x1,_0x358515=()=>{},_0x4a94ec=()=>!0x1,_0x51939e=()=>{}){let _0x2b7b41=!0x1;const _0x410b51=_0x37683e(async function(){const _0x3ccc17=a0_0x2367;if(!_0x2b7b41){for(_0x2b7b41=!0x0;_0x410b51[_0x3ccc17(0x478)];){const _0x52d332=_0x410b51['shift']();if(_0x52d332)try{_0x5f0f70 instanceof _0x431ba9&&_0x5f0f70['call'](_0x52d332),_0x5f0f70 instanceof _0x55917d&&await _0x5f0f70[_0x3ccc17(0x508)](_0x52d332),_0x358515(_0x52d332);}catch(_0x2ea094){_0x335805?_0x410b51[_0x3ccc17(0x6b8)](_0x52d332,!0x1):_0x410b51[_0x3ccc17(0x7e9)](_0x52d332,!0x1),await _0x5f0f70['wait']();}}_0x2b7b41=!0x1;}},_0x4a94ec,_0x51939e);return _0x410b51;}class _0x2866d2 extends _0x4f6b74{[_0x49e620(0x2e6)];[_0x49e620(0x835)];[_0x49e620(0x5d0)]=_0x1cde0f[_0x49e620(0x8e1)]['Disconnected'];[_0x49e620(0x795)]=_0x580ced();[_0x49e620(0xa99)]=_0x544609();[_0x49e620(0x8c7)];['listenUnsubscriber'];[_0x49e620(0xafd)]=_0x5c01e2(new _0x55917d(this[_0x49e620(0xafb)][_0x49e620(0x6e2)](this),this[_0x49e620(0x772)]['bind'](this)));[_0x49e620(0x765)];constructor(_0x423eb2,_0x18f2bd,_0x830a51,_0x5c777e,_0x5c54de){const _0x410a6e=_0x49e620;super(_0x18f2bd,_0x830a51,_0x5c777e),this['vendorId']=_0x423eb2,this[_0x410a6e(0x835)]=_0x5c54de;}async['connect'](){const _0x5f4e7d=_0x49e620;try{const _0x2703a9={'getTokens':async()=>{const _0x4073ea=a0_0x2367,_0x4da85b=await this[_0x4073ea(0x835)][_0x4073ea(0x2eb)]();return{'accessToken':(0x0,_0x58505f[_0x4073ea(0x5e2)])(_0x4da85b),'idToken':(0x0,_0x58505f['decodeJWT'])(_0x4da85b)};}};_0x14f64c['Amplify'][_0x5f4e7d(0x408)]({'API':{'GraphQL':{'endpoint':_0x42fdd0[_0x5f4e7d(0x775)][_0x5f4e7d(0xb35)],'region':_0x42fdd0[_0x5f4e7d(0x775)]['region'],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x2703a9}});const _0x439d81=(0x0,_0x1cde0f['generateClient'])();this[_0x5f4e7d(0x765)]=_0x439d81,await this[_0x5f4e7d(0xa34)](),this[_0x5f4e7d(0x674)]=_0x2be20b[_0x5f4e7d(0x54b)]['listen'](_0x5f4e7d(0x310),async({payload:_0x401bf4})=>{const _0x591d9e=_0x5f4e7d;if(_0x401bf4[_0x591d9e(0x2b3)]===_0x1cde0f['CONNECTION_STATE_CHANGE']){const _0x37627c=_0x401bf4[_0x591d9e(0x7b6)];this['connectionState']=_0x37627c[_0x591d9e(0x5d0)],this[_0x591d9e(0x795)][_0x591d9e(0x544)](_0x37627c[_0x591d9e(0x5d0)]),this[_0x591d9e(0x5d0)]===_0x1cde0f['ConnectionState'][_0x591d9e(0x2a6)]?(_0xb8b103['error'](_0x591d9e(0x499),{'clusterId':this[_0x591d9e(0x4a0)],'nodeId':this['getLocalId'](),'nodeType':this['localNode']['type']}),this[_0x591d9e(0x5c2)](),this['connect']()):this[_0x591d9e(0x5d0)]===_0x1cde0f['ConnectionState'][_0x591d9e(0x349)]?_0xb8b103['warning'](_0x591d9e(0x85d),{'clusterId':this[_0x591d9e(0x4a0)],'nodeId':this[_0x591d9e(0x634)](),'nodeType':this[_0x591d9e(0xaa8)][_0x591d9e(0x70f)]}):_0xb8b103[_0x591d9e(0x87a)](_0x591d9e(0x608),{'clusterId':this[_0x591d9e(0x4a0)],'nodeId':this[_0x591d9e(0x634)](),'nodeType':this[_0x591d9e(0xaa8)]['type'],'data':{'state':_0x37627c[_0x591d9e(0x5d0)]}});}});}catch(_0x34ada4){_0xb8b103[_0x5f4e7d(0x528)]('appsync-connect-fail',{'clusterId':this[_0x5f4e7d(0x4a0)],'nodeId':this[_0x5f4e7d(0x634)](),'nodeType':this['localNode']['type']});}}[_0x49e620(0x5c2)](){const _0x4c1ec0=_0x49e620;_0xb8b103[_0x4c1ec0(0x87a)]('appsync-close',{'clusterId':this[_0x4c1ec0(0x4a0)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x4c1ec0(0x70f)]}),this['retryQueue'][_0x4c1ec0(0x9c6)](),this[_0x4c1ec0(0x674)]?.(),this[_0x4c1ec0(0x8c7)]?.[_0x4c1ec0(0x2aa)](),delete this['subscription'];}['isConnected'](){const _0x2d88df=_0x49e620;return this['connectionState']===_0x1cde0f['ConnectionState'][_0x2d88df(0x349)];}[_0x49e620(0x201)](_0x1a5ebf){const _0x229cc6=_0x49e620;this[_0x229cc6(0xafd)][_0x229cc6(0x6b8)](_0x1a5ebf);}[_0x49e620(0x1c5)](_0x17d8d1){const _0x55e2e0=_0x49e620;return this[_0x55e2e0(0xa99)]['subscribe'](_0x17d8d1);}[_0x49e620(0xa2e)](){const _0x516464=_0x49e620;return[_0x596e17[_0x516464(0x7dd)][_0x516464(0x6cd)]];}async[_0x49e620(0x772)](){const _0x5c3d7b=_0x49e620;if(!this[_0x5c3d7b(0xb44)]())return new Promise(_0x4b1892=>{const _0x476f2a=_0x5c3d7b,_0x32f42e=this[_0x476f2a(0x795)][_0x476f2a(0xa34)](_0xbeeafe=>{const _0x1764bf=_0x476f2a;_0xbeeafe===_0x1cde0f[_0x1764bf(0x8e1)][_0x1764bf(0x349)]&&(_0x32f42e(),_0x4b1892());});});}async[_0x49e620(0xafb)](_0x3df50a){const _0x44ae79=_0x49e620;if(this['connectionState']!==_0x1cde0f[_0x44ae79(0x8e1)]['Connected'])throw new Error(_0x44ae79(0x4b3));_0x3df50a[_0x44ae79(0x292)]&&0x1===_0x3df50a[_0x44ae79(0x292)][_0x44ae79(0x8bc)]?await this[_0x44ae79(0x544)](_0x3df50a[_0x44ae79(0x292)][0x0],JSON['stringify'](_0x3df50a)):_0xb8b103[_0x44ae79(0x528)]('appsync-no-destination',{'clusterId':this[_0x44ae79(0x4a0)],'nodeId':this[_0x44ae79(0x634)](),'nodeType':this[_0x44ae79(0xaa8)][_0x44ae79(0x70f)]});}async['publish'](_0x636d8f,_0x4b2f56){const _0x25ec01=_0x49e620;if(!this[_0x25ec01(0x765)])throw new Error(_0x25ec01(0x74f));_0xb8b103[_0x25ec01(0xad5)](_0xad09e4[_0x25ec01(0x5e6)],'AppSync\x20publish',this[_0x25ec01(0x634)](),_0x4b2f56),await this[_0x25ec01(0x765)][_0x25ec01(0x40b)]({'query':_0x25ec01(0x7c0),'variables':{'name':await this[_0x25ec01(0x409)](_0x636d8f),'data':_0x4b2f56}});}async['subscribe'](){const _0x2bb883=_0x49e620;if(this['subscription'])return;if(!this[_0x2bb883(0x765)])throw new Error(_0x2bb883(0x74f));_0xb8b103['log'](_0xad09e4[_0x2bb883(0x5e6)],_0x2bb883(0x2d5),this['getLocalId']());const _0x521617=await this[_0x2bb883(0x765)][_0x2bb883(0x40b)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x2bb883(0x409)]()},'authToken':await this[_0x2bb883(0x835)][_0x2bb883(0x2eb)]()},{'Authorization':await this[_0x2bb883(0x835)][_0x2bb883(0x2eb)]()});this[_0x2bb883(0x8c7)]=_0x521617['subscribe']({'next':({data:_0x37ffa2})=>{const _0x11c5e7=_0x2bb883,_0x173659=JSON['parse'](_0x37ffa2[_0x11c5e7(0xa34)][_0x11c5e7(0x7b6)]);!_0x1a4b8b(_0x173659,this[_0x11c5e7(0x634)]())&&_0x2e7ac5(_0x173659,this[_0x11c5e7(0x634)]())&&this['messageListeners'][_0x11c5e7(0x544)](_0x173659);},'error':console[_0x2bb883(0xad5)]});}async[_0x49e620(0x409)](_0xa8f964){const _0x42ff37=_0x49e620,_0x1c7c88=await crypto[_0x42ff37(0xb6a)][_0x42ff37(0x27b)]('SHA-1',new TextEncoder()[_0x42ff37(0x56c)](this[_0x42ff37(0x2e6)]+'-'+this['clusterId']+'-'+(_0xa8f964??this[_0x42ff37(0x634)]())));return Array[_0x42ff37(0x9cc)](new Uint8Array(_0x1c7c88))[_0x42ff37(0x3bb)](_0x33750b=>_0x33750b[_0x42ff37(0xb55)](0x10)[_0x42ff37(0x6fa)](0x2,'0'))['join']('');}}!function(_0x1baf45){const _0x2689cc=_0x49e620;_0x1baf45[_0x1baf45[_0x2689cc(0xa19)]=0x0]=_0x2689cc(0xa19),_0x1baf45[_0x1baf45[_0x2689cc(0x58c)]=0x1]='Remove',_0x1baf45[_0x1baf45[_0x2689cc(0x325)]=0x2]=_0x2689cc(0x325),_0x1baf45[_0x1baf45[_0x2689cc(0xa1a)]=0x3]=_0x2689cc(0xa1a),_0x1baf45[_0x1baf45[_0x2689cc(0x917)]=0x4]=_0x2689cc(0x917);}(_0x294eae||(_0x294eae={}));const _0x26c70e='0',_0x1e3a03=_0x49e620(0x632),_0x355395=_0x1e684a,_0x36240d=0x60000;class _0x2eecf9{[_0x49e620(0x4a0)];[_0x49e620(0xaa8)];[_0x49e620(0x620)];['iceServers'];[_0x49e620(0xa77)];[_0x49e620(0x48e)];[_0x49e620(0x855)];[_0x49e620(0x9b2)];[_0x49e620(0x703)]=0x1;[_0x49e620(0x321)];['handshakeCandidates']=[];[_0x49e620(0x989)]=[];[_0x49e620(0x7d6)];constructor(_0x4e14fb,_0x1d71b1,_0x51120e,_0x5efab4,_0x4b6047,_0x45e7a8){const _0x1c0ecd=_0x49e620;this[_0x1c0ecd(0x4a0)]=_0x4e14fb,this[_0x1c0ecd(0xaa8)]=_0x1d71b1,this[_0x1c0ecd(0x620)]=_0x51120e,this[_0x1c0ecd(0xa94)]=_0x5efab4,this['connectionType']=_0x4b6047,this[_0x1c0ecd(0x48e)]=_0x45e7a8,this[_0x1c0ecd(0x855)]=new this[(_0x1c0ecd(0x48e))]({'handshakeServers':this[_0x1c0ecd(0xa94)]}),this[_0x1c0ecd(0xa6d)]();}['close'](){const _0x43ba96=_0x49e620;this[_0x43ba96(0x99c)]();}[_0x49e620(0x3ab)](_0x4e0fa5){const _0x1681f1=_0x49e620;this[_0x1681f1(0xa77)]=_0x4e0fa5;}async[_0x49e620(0x800)](_0x3aba52,_0x1e1210){const _0x112cc4=_0x49e620;if(_0x1e1210===this['currentVersion'])for(const _0x496e27 of _0x3aba52){if(!this['connection'][_0x112cc4(0x813)])return this[_0x112cc4(0x9d4)](_0x496e27);try{await this[_0x112cc4(0x855)][_0x112cc4(0x578)](_0x496e27);}catch(_0x181b9c){this[_0x112cc4(0x9d4)](_0x496e27);}}}[_0x49e620(0xb44)](){const _0x38b3fb=_0x49e620;return this[_0x38b3fb(0x467)](),_0x38b3fb(0xa22)===this['connection'][_0x38b3fb(0x5d0)]&&['connected','completed']['includes'](this['connection'][_0x38b3fb(0x3ad)])&&_0x38b3fb(0x690)!==this['connection'][_0x38b3fb(0x992)]&&_0x38b3fb(0x73d)===this[_0x38b3fb(0x9b2)]?.[_0x38b3fb(0x2b0)];}['registerSystemPublisher'](_0x5f57e7){this['systemTopic']=_0x5f57e7;}[_0x49e620(0xa6a)](){delete this['systemTopic'];}[_0x49e620(0x51e)](_0x31f7c6){const _0x52222d=_0x49e620;this[_0x52222d(0x99c)](),this[_0x52222d(0x855)]=new this['connectionConstructor']({'handshakeServers':this[_0x52222d(0xa94)]}),_0x31f7c6?this[_0x52222d(0x703)]=_0x31f7c6:this[_0x52222d(0x703)]+=0x1,this[_0x52222d(0xa6d)]();}['processPendingHandshakeCandidates'](){const _0x5a943b=_0x49e620;this[_0x5a943b(0x989)]['forEach'](_0x3bcd00=>{const _0x42e38b=_0x5a943b;try{this[_0x42e38b(0x855)]['addCandidate'](_0x3bcd00);}catch(_0x5e3312){}}),this[_0x5a943b(0x989)]=[];}[_0x49e620(0x8f8)](_0x1a9dbf,_0x4443f3){const _0x20d4d3=_0x49e620;if(!this[_0x20d4d3(0x321)])throw new _0x44727e(_0x44727e[_0x20d4d3(0x849)][_0x20d4d3(0x2e5)],{'content':_0x1a9dbf});const _0x1bed47={'sourceId':this[_0x20d4d3(0xaa8)][_0x20d4d3(0x27e)](),'destinationIds':[this[_0x20d4d3(0x620)]],'propagate':this[_0x20d4d3(0xa77)]!==_0xcf68f1[_0x20d4d3(0x622)],'retry':this[_0x20d4d3(0xa77)]!==_0xcf68f1[_0x20d4d3(0x622)],'messageType':_0x24f665[_0x20d4d3(0x7ea)],'content':_0x1a9dbf};_0x4443f3&&(_0x1bed47[_0x20d4d3(0xa9c)]=_0x4443f3),this[_0x20d4d3(0x321)][_0x20d4d3(0x544)](_0x1bed47);}[_0x49e620(0xa6d)](){const _0x2484ce=_0x49e620;this[_0x2484ce(0x855)]['onGatheringStateChange']=()=>{const _0x4cd601=_0x2484ce;_0x4cd601(0x332)===this['connection'][_0x4cd601(0x37e)]&&this['handshakeCandidates'][_0x4cd601(0x8bc)]>0x0&&(this[_0x4cd601(0x7d6)]&&clearTimeout(this['handshakeDebounce']),this[_0x4cd601(0x7d6)]=setTimeout(()=>{const _0x498e45=_0x4cd601;delete this[_0x498e45(0x7d6)],this[_0x498e45(0xb69)](),this['handshakeCandidates']=[];},0x1f4));},this[_0x2484ce(0x855)][_0x2484ce(0x394)]=_0x2a6a56=>{const _0x5a0957=_0x2484ce;_0x2a6a56[_0x5a0957(0x7fe)]&&this[_0x5a0957(0x4ea)]['push'](_0x2a6a56[_0x5a0957(0x7fe)]);};}['stopConnection'](){const _0x3f0b01=_0x49e620;clearTimeout(this['handshakeDebounce']),delete this[_0x3f0b01(0x7d6)],this[_0x3f0b01(0x4ea)]=[],this[_0x3f0b01(0x989)]=[],this[_0x3f0b01(0x9b2)]&&(this['dataChannel']['onMessage']=null,this[_0x3f0b01(0x9b2)]['onClose']=null,this[_0x3f0b01(0x9b2)]['close'](),delete this[_0x3f0b01(0x9b2)]),this[_0x3f0b01(0x855)][_0x3f0b01(0x2bf)]=null,this[_0x3f0b01(0x855)]['onCandidate']=null,this[_0x3f0b01(0x855)][_0x3f0b01(0x397)]=null,this[_0x3f0b01(0x855)][_0x3f0b01(0x222)]=null,this[_0x3f0b01(0x855)][_0x3f0b01(0x3e8)]=null,this[_0x3f0b01(0x855)][_0x3f0b01(0x8f4)]=null,this['connection'][_0x3f0b01(0x5c2)]();}[_0x49e620(0x9d4)](_0xdbba75){const _0x1683ee=_0x49e620;this['pendingHandshakeCandidates'][_0x1683ee(0x6b8)](_0xdbba75);}[_0x49e620(0x467)](){const _0x3a2b0c=_0x49e620;_0xb8b103[_0x3a2b0c(0xad5)](_0xad09e4[_0x3a2b0c(0x8e1)],_0x3a2b0c(0xa1c),{'localId':this[_0x3a2b0c(0xaa8)][_0x3a2b0c(0x27e)](),'remoteId':this[_0x3a2b0c(0x620)],'connectionState':this[_0x3a2b0c(0x855)]['connectionState'],'handshakeState':this[_0x3a2b0c(0x855)][_0x3a2b0c(0x3ad)],'signalingState':this[_0x3a2b0c(0x855)][_0x3a2b0c(0x992)],'dataChannelState':this[_0x3a2b0c(0x9b2)]?.['state']});}}function _0x7aa9d0(_0x2b8d94,_0x1a8b3e){_0x1a8b3e['publish']({'sourceId':_0x11f0c5,'messageType':_0x24f665['PeerConnection'],'content':_0x2b8d94});}class _0x44558b{static [_0x49e620(0xb66)];[_0x49e620(0x21e)]=[];[_0x49e620(0x502)];constructor(){setInterval(()=>{const _0x3cb422=a0_0x2367;this[_0x3cb422(0x21e)][_0x3cb422(0x49b)](_0x3371ca=>{const _0x7baa47=_0x3cb422;if(Date[_0x7baa47(0x4e4)]()-_0x3371ca[_0x7baa47(0x340)]>_0x3371ca[_0x7baa47(0x967)]){try{_0x3371ca['callback']();}catch(_0x2e5d26){}_0x3371ca[_0x7baa47(0x340)]=Date['now']();}});},0x64);}static['getInstance'](){const _0x579313=_0x49e620;return _0x44558b[_0x579313(0xb66)]||(_0x44558b[_0x579313(0xb66)]=new _0x44558b()),_0x44558b[_0x579313(0xb66)];}['startNoThrottlingHack'](_0x2a01e1){const _0x4b81d8=_0x49e620,_0x561450=this[_0x4b81d8(0x530)](_0x2a01e1),_0x848ba9=_0x2a01e1[_0x4b81d8(0x758)]();_0x848ba9&&_0x561450&&(_0x848ba9[_0x4b81d8(0x7f9)][_0x4b81d8(0x3e3)]=0.001,_0x561450['connect'](_0x848ba9),_0x848ba9['connect'](_0x2a01e1[_0x4b81d8(0x396)]),_0x561450[_0x4b81d8(0x411)]());}['stopNoThrottlingHack'](){const _0x2eb685=_0x49e620;this['source']&&(this[_0x2eb685(0x502)][_0x2eb685(0x31e)](),this[_0x2eb685(0x502)][_0x2eb685(0x94f)](),this['source']=void 0x0);}['wait'](_0x10b5a2){return new Promise(_0x1f98a2=>{setTimeout(_0x1f98a2,_0x10b5a2);});}[_0x49e620(0x863)](_0x3fe36a,_0x2fd565){const _0x4dd3e1=_0x49e620;return this[_0x4dd3e1(0x21e)][_0x4dd3e1(0x6b8)]({'callback':_0x3fe36a,'interval':_0x2fd565,'lastExecuted':Date[_0x4dd3e1(0x4e4)]()}),()=>{const _0x224f93=_0x4dd3e1;this[_0x224f93(0x21e)]=this[_0x224f93(0x21e)][_0x224f93(0x9e5)](_0x136536=>_0x136536[_0x224f93(0x664)]!==_0x3fe36a);};}['createConstantSource'](_0x147b65){const _0x1a2db6=_0x49e620;if(_0x147b65['createConstantSource'])return _0x147b65[_0x1a2db6(0x530)]();const _0x31162b=_0x147b65[_0x1a2db6(0x9a1)](),_0x54c160=_0x147b65[_0x1a2db6(0x8bb)](0x1,0x1,_0x147b65['sampleRate']);return _0x54c160['getChannelData'](0x0)[0x0]=0xa,_0x31162b[_0x1a2db6(0x6e6)]=_0x54c160,_0x31162b[_0x1a2db6(0x97b)]=!0x0,_0x31162b;}}const _0x285f59=_0x44558b['getInstance']();class _0x375ea2 extends _0x2eecf9{[_0x49e620(0x33b)]=_0x580ced();[_0x49e620(0x852)]=_0x580ced();[_0x49e620(0x717)]=_0x580ced();['receivers']=new Map();['chunks']=new Map();['waitSuccess'];[_0x49e620(0x4f0)]=0x0;[_0x49e620(0x248)]={'messages':{'total':0x0}};[_0x49e620(0x81f)]=0x0;['timeReceiving']=0x0;['loggingCycle']=_0x3e7078('ReceiverPeerConnection.onMessage',_0xad09e4[_0x49e620(0x36d)]);[_0x49e620(0x5c2)](){const _0x28f419=_0x49e620;this[_0x28f419(0x701)](),this['receivers'][_0x28f419(0x9c6)](),super['close']();}async['handleOffer'](_0x458371,_0x2c5dd2){const _0x11cb73=_0x49e620;this['currentVersion']=_0x2c5dd2,this[_0x11cb73(0x701)]();const _0x9c9251=await this[_0x11cb73(0x855)][_0x11cb73(0x97f)](_0x458371);this[_0x11cb73(0x96d)]();const _0x4b53ac=(0x0,_0x3c37ba['v4'])();this[_0x11cb73(0x8f8)]({'type':_0x364a36['Answer'],'answer':_0x9c9251,'version':_0x2c5dd2,'connectionType':this[_0x11cb73(0xa77)]},_0x4b53ac),this[_0x11cb73(0xa77)]===_0xcf68f1['Core']&&(this[_0x11cb73(0x4c1)]=_0x285f59[_0x11cb73(0x863)](()=>{const _0x2bf68b=_0x11cb73;this['publishSystemMessage']({'type':_0x364a36[_0x2bf68b(0xac1)],'answer':_0x9c9251,'version':_0x2c5dd2,'connectionType':this[_0x2bf68b(0xa77)]},_0x4b53ac);},0x1388));}[_0x49e620(0x88a)](){const _0x4bd2a7=_0x49e620;this[_0x4bd2a7(0x701)]();}[_0x49e620(0x330)](_0x36e308){const _0x164143=_0x49e620;this[_0x164143(0x51e)](_0x36e308),this[_0x164143(0x8f8)]({'type':_0x364a36[_0x164143(0x671)]});}async[_0x49e620(0x570)](){const _0x365f83=_0x49e620;this[_0x365f83(0x321)]&&(await this[_0x365f83(0x855)][_0x365f83(0x511)](this['receivers'],(_0x43550f,_0x3cd00d)=>{const _0x120e10=_0x365f83;_0x7aa9d0({'type':_0x364a36[_0x120e10(0x1f9)],'streamId':_0x3cd00d,'nodeId':this[_0x120e10(0x620)],'stats':_0x43550f},this['systemTopic']);}),this[_0x365f83(0x321)]['publish']({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x365f83(0x7ea)],'content':{'type':_0x364a36[_0x365f83(0x1f9)],'nodeId':this['remoteId'],'stats':{'origin':_0xa5a731[_0x365f83(0x572)],'timestamp':Date['now'](),'messagesReceived':this[_0x365f83(0x4f0)],'bytesReceived':this[_0x365f83(0x81f)],'timeReceiving':this[_0x365f83(0xa68)],'systemMessages':this[_0x365f83(0x248)]}}}));}[_0x49e620(0x1c5)](_0x5e69e1){const _0x1e5f69=_0x49e620;return _0x42fdd0[_0x1e5f69(0x941)]?this[_0x1e5f69(0x33b)][_0x1e5f69(0xa34)](_0x5e69e1):this[_0x1e5f69(0x33b)][_0x1e5f69(0xa34)](_0x124119=>{const _0x189ae6=_0x1e5f69;0x0===_0x124119[_0x189ae6(0x448)]&&_0x124119[_0x189ae6(0x946)]===_0x24f665['Content']&&this[_0x189ae6(0x468)]['logger'][_0x189ae6(0xad5)](_0x189ae6(0x6c7)+this[_0x189ae6(0x620)],()=>_0x3bc1dc(_0x124119)),_0x5e69e1(_0x124119);});}[_0x49e620(0x3e8)](_0x30c8a8){const _0x5ef324=_0x49e620;return this[_0x5ef324(0x852)][_0x5ef324(0xa34)](({track:_0x23ddd9,stream:_0x514f6b})=>_0x30c8a8(_0x23ddd9,_0x514f6b));}[_0x49e620(0xb4b)](_0x377c69){const _0x4b8db7=_0x49e620;return this[_0x4b8db7(0x717)][_0x4b8db7(0xa34)](({track:_0x5b1837,stream:_0x3c4dff})=>_0x377c69(_0x5b1837,_0x3c4dff));}[_0x49e620(0x51e)](_0x44772d){const _0x44a731=_0x49e620;this[_0x44a731(0x701)](),this[_0x44a731(0x3a4)][_0x44a731(0x49b)](_0x55d3f5=>{const _0x33c00f=_0x44a731;_0x55d3f5[_0x33c00f(0x9c6)]();}),super[_0x44a731(0x51e)](_0x44772d);}[_0x49e620(0xb69)](){const _0x1f7a81=_0x49e620;this[_0x1f7a81(0x8f8)]({'type':_0x364a36[_0x1f7a81(0x8f5)],'candidates':this[_0x1f7a81(0x4ea)],'origin':_0xa5a731[_0x1f7a81(0x572)],'version':this['currentVersion'],'connectionType':this['connectionType']});}[_0x49e620(0xa6d)](){const _0x448c4c=_0x49e620;super[_0x448c4c(0xa6d)](),this['connection'][_0x448c4c(0x3e8)]=_0x32f139=>{const _0x68ccd4=_0x448c4c;_0xb8b103[_0x68ccd4(0xad5)](_0xad09e4[_0x68ccd4(0x7d5)],_0x68ccd4(0x964),this[_0x68ccd4(0xaa8)][_0x68ccd4(0x27e)](),_0x32f139),_0x32f139[_0x68ccd4(0x9ec)][0x0][_0x68ccd4(0x2c5)]=_0x75f84d=>{const _0x50532a=_0x68ccd4;this[_0x50532a(0x3a4)][_0x50532a(0x680)](_0x32f139[_0x50532a(0x9ec)][0x0]['id'])?.['delete'](_0x75f84d[_0x50532a(0x939)]),0x0===this[_0x50532a(0x3a4)][_0x50532a(0x680)](_0x32f139['streams'][0x0]['id'])?.[_0x50532a(0x65a)]&&this[_0x50532a(0x3a4)][_0x50532a(0x55f)](_0x32f139[_0x50532a(0x9ec)][0x0]['id']),this['removeTrackCallback'][_0x50532a(0x544)]({'track':_0x75f84d['track'],'stream':_0x32f139[_0x50532a(0x9ec)][0x0]});},this[_0x68ccd4(0x3a4)][_0x68ccd4(0x29d)](_0x32f139[_0x68ccd4(0x9ec)][0x0]['id'])||this[_0x68ccd4(0x3a4)][_0x68ccd4(0x9fa)](_0x32f139['streams'][0x0]['id'],new Set()),this[_0x68ccd4(0x3a4)][_0x68ccd4(0x680)](_0x32f139[_0x68ccd4(0x9ec)][0x0]['id'])[_0x68ccd4(0x554)](_0x32f139[_0x68ccd4(0x939)]),this['trackCallback'][_0x68ccd4(0x544)]({'track':_0x32f139['track'],'stream':_0x32f139[_0x68ccd4(0x9ec)][0x0]});},this['connection'][_0x448c4c(0x8f4)]=_0x599b00=>{const _0x146085=_0x448c4c;this['dataChannel']=_0x599b00[_0x146085(0x4ac)],this['dataChannel'][_0x146085(0x1c5)]=_0x35e468=>{const _0x3d3bf1=_0x146085;if(_0x35e468[_0x3d3bf1(0x7b6)]!==_0x26c70e)this[_0x3d3bf1(0xabd)](_0x35e468[_0x3d3bf1(0x7b6)]);else{if(!this[_0x3d3bf1(0x9b2)])return void _0xb8b103[_0x3d3bf1(0x528)]('missing-datachannel',{'clusterId':this[_0x3d3bf1(0x4a0)],'nodeId':this[_0x3d3bf1(0xaa8)][_0x3d3bf1(0x27e)](),'nodeType':this[_0x3d3bf1(0xaa8)]['type'],'remoteId':this['remoteId'],'data':{'connection':_0x3d3bf1(0x711)}});if(_0x3d3bf1(0x73d)!==this[_0x3d3bf1(0x9b2)][_0x3d3bf1(0x2b0)])return;this[_0x3d3bf1(0x9b2)][_0x3d3bf1(0x201)]('1');}};};}[_0x49e620(0xabd)](_0x7925c1){const _0x19b6bc=_0x49e620;if(_0x19b6bc(0xaba)==typeof _0x7925c1&&_0x7925c1[_0x19b6bc(0x288)](_0x1e3a03))return this[_0x19b6bc(0x4f0)]+=0x1,this[_0x19b6bc(0x81f)]+=_0x7925c1[_0x19b6bc(0x8bc)],this[_0x19b6bc(0x33c)](_0x7925c1);setTimeout(()=>{const _0x5727e8=_0x19b6bc,_0x208037=Date[_0x5727e8(0x4e4)]();let _0x47decc;if((_0x7925c1 instanceof ArrayBuffer||_0x7925c1['length']<=_0x355395)&&(this['messagesReceived']+=0x1,this[_0x5727e8(0x81f)]+=_0x7925c1 instanceof ArrayBuffer?_0x7925c1[_0x5727e8(0x1df)]:_0x7925c1[_0x5727e8(0x8bc)]),_0x7925c1 instanceof ArrayBuffer){const [_0x77d53e,_0x52d0b4]=this[_0x5727e8(0x208)](_0x7925c1);_0x47decc=_0x77d53e,_0x47decc[_0x5727e8(0x4fe)][_0x5727e8(0x7b6)]=_0x52d0b4;}else _0x47decc=JSON[_0x5727e8(0x7b5)](_0x7925c1);if(0x0===_0x47decc[_0x5727e8(0x448)]){this['systemMessagesReceived']['messages'][_0x5727e8(0x845)]+=0x1;const {systemMessageType:_0x19e01f,systemContentMessageType:_0x3d397a}=_0x3bc1dc(_0x47decc);this[_0x5727e8(0x248)][_0x19e01f]||(this[_0x5727e8(0x248)][_0x19e01f]={[_0x3d397a]:0x0}),this[_0x5727e8(0x248)][_0x19e01f][_0x3d397a]||(this['systemMessagesReceived'][_0x19e01f][_0x3d397a]=0x0),this[_0x5727e8(0x248)][_0x19e01f]['total']||(this[_0x5727e8(0x248)][_0x19e01f][_0x5727e8(0x845)]=0x0),this[_0x5727e8(0x248)][_0x19e01f][_0x3d397a]+=0x1,this[_0x5727e8(0x248)][_0x19e01f][_0x5727e8(0x845)]+=0x1;}this[_0x5727e8(0x33b)][_0x5727e8(0x544)](_0x47decc),this[_0x5727e8(0xa68)]+=Date[_0x5727e8(0x4e4)]()-_0x208037;},0x0);}['handleChunkMessage'](_0x2aaa9c){const _0x38b42b=_0x49e620,_0x579c5e=_0x2aaa9c[_0x38b42b(0x627)](';'),_0x37baa3=_0x579c5e[0x1],_0x3c84b0=parseInt(_0x579c5e[0x2],0xa),_0x1af119=parseInt(_0x579c5e[0x3],0xa),_0x4bac4a=_0x2aaa9c[_0x38b42b(0x416)](_0x1e3a03+';'+_0x37baa3+';'+_0x3c84b0+';'+_0x1af119+';','');this['chunks'][_0x38b42b(0x29d)](_0x37baa3)||this[_0x38b42b(0x4c9)]['set'](_0x37baa3,[]);const _0x558919=this['chunks'][_0x38b42b(0x680)](_0x37baa3);_0x558919[_0x3c84b0]=_0x4bac4a,_0x558919[_0x38b42b(0x8bc)]===_0x1af119&&(this[_0x38b42b(0xabd)](_0x558919['join']('')),this['chunks'][_0x38b42b(0x55f)](_0x37baa3));}[_0x49e620(0x701)](){const _0x1ab091=_0x49e620;this['waitSuccess']?.(),delete this[_0x1ab091(0x4c1)];}['arrayBufferToObject'](_0x192691){const _0x59d93e=_0x49e620,_0x113a52=new TextDecoder()[_0x59d93e(0x705)](_0x192691);return JSON[_0x59d93e(0x7b5)](_0x113a52);}[_0x49e620(0x208)](_0x209027){const _0x19a2e0=_0x49e620,_0x427757=new Uint8Array(_0x209027['slice'](0x0,0x4)),_0x2eb9a8=new Uint32Array(_0x427757[_0x19a2e0(0x6e6)])[0x0],_0x4706f3=new Uint8Array(_0x209027['slice'](0x4,0x4+_0x2eb9a8)),_0x368967=new Uint8Array(_0x209027[_0x19a2e0(0x966)](0x4+_0x2eb9a8));return[this['arrayBufferToObject'](_0x4706f3[_0x19a2e0(0x6e6)]),_0x368967['buffer']];}}const _0x2b4d82=0xc350;var _0x329f16,_0x5afa9d;!function(_0x1b2d3a){const _0x4a78b6=_0x49e620;_0x1b2d3a[_0x1b2d3a[_0x4a78b6(0x9d8)]=0x0]='High',_0x1b2d3a[_0x1b2d3a[_0x4a78b6(0x872)]=0x1]='Medium',_0x1b2d3a[_0x1b2d3a[_0x4a78b6(0xb7a)]=0x2]=_0x4a78b6(0xb7a);}(_0x329f16||(_0x329f16={}));class _0x3073ab extends _0x2eecf9{[_0x49e620(0xb56)];[_0x49e620(0x320)];[_0x49e620(0x74a)]=new Map();['heartbeatUnsubscriber'];[_0x49e620(0x8be)];[_0x49e620(0xb43)];['isReconnecting']=!0x1;[_0x49e620(0x4a3)];[_0x49e620(0x7e1)];[_0x49e620(0x956)];[_0x49e620(0xafd)]=function(e,t=_0x329f16,s=!0x1){const _0x36ed55=_0x49e620;let n=!0x1;const i=[];async function o(){const _0x4e5702=a0_0x2367;if(!n){for(n=!0x0;i['some'](e=>e[_0x4e5702(0x478)]);){let t,n=0x0;for(const [e,s]of i[_0x4e5702(0xa33)]())if(t=s['shift'](),n=e,t)break;if(t)try{if(e instanceof _0x431ba9&&e[_0x4e5702(0x508)](t),e instanceof _0x55917d&&await e[_0x4e5702(0x508)](t),i[_0x4e5702(0x966)](-0x1)[_0x4e5702(0x8b6)](e=>e[_0x4e5702(0x478)]))continue;const s=i['length']-0x1;n===s&&i[s]['head']&&await _0x285f59[_0x4e5702(0x7fd)](0x0);}catch(o){s?i[n][_0x4e5702(0x6b8)](t,!0x1):i[n][_0x4e5702(0x7e9)](t,!0x1),await e[_0x4e5702(0x7fd)]();}}n=!0x1;}}return Object[_0x36ed55(0x66b)](t)[_0x36ed55(0x49b)](e=>{const _0x3df1ba=_0x36ed55;_0x3df1ba(0xaba)!=typeof e&&(i[e]=_0x37683e(o));}),{'queues':i};}(new _0x431ba9(this[_0x49e620(0xafb)][_0x49e620(0x6e2)](this),this[_0x49e620(0x398)]['bind'](this)));[_0x49e620(0x631)]=0x0;[_0x49e620(0x604)]=0x0;[_0x49e620(0x9a0)]=0x0;[_0x49e620(0x437)]=0x0;[_0x49e620(0x853)];[_0x49e620(0x468)]=_0x3e7078(_0x49e620(0x8fb),_0xad09e4['SenderSendMessage']);constructor(_0x1acf22,_0x901a9e,_0x2f2355,_0x4f61e6,_0x45f4c6,_0x1e1d68,_0x1fd496,_0x4578dd){const _0x54a0bf=_0x49e620;super(_0x1acf22,_0x901a9e,_0x2f2355,_0x4f61e6,_0x45f4c6,_0x4578dd),this[_0x54a0bf(0xb56)]=_0x1e1d68,this[_0x54a0bf(0x320)]=_0x1fd496;}['close'](){const _0x35421f=_0x49e620;this[_0x35421f(0x241)](),this['clearHeartbeat'](),delete this[_0x35421f(0xb43)],this['clearRestartTimeout'](),this[_0x35421f(0x206)](),this['clearWaitAnswer'](),this[_0x35421f(0x74a)]['clear'](),this[_0x35421f(0x809)]=!0x1,this[_0x35421f(0xafd)][_0x35421f(0x391)][_0x35421f(0x49b)](_0x55ff7f=>_0x55ff7f[_0x35421f(0x9c6)]()),this[_0x35421f(0x9d5)](),super[_0x35421f(0x5c2)]();}['isConnected'](){const _0x342a5b=_0x49e620;return!!this[_0x342a5b(0xb43)]&&super['isConnected']()&&Date['now']()-this[_0x342a5b(0xb43)]<0x3a98;}async['collectStats'](){const _0x3adc9b=_0x49e620;this[_0x3adc9b(0x321)]&&(await this[_0x3adc9b(0x855)][_0x3adc9b(0xa13)](this['senders'],(_0x1f5885,_0x76ebfc)=>{const _0x671df6=_0x3adc9b;_0x7aa9d0({'type':_0x364a36[_0x671df6(0x1f9)],'streamId':_0x76ebfc,'nodeId':this[_0x671df6(0x620)],'stats':_0x1f5885},this[_0x671df6(0x321)]);}),this[_0x3adc9b(0x321)][_0x3adc9b(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x3adc9b(0x7ea)],'content':{'type':_0x364a36[_0x3adc9b(0x1f9)],'nodeId':this[_0x3adc9b(0x620)],'stats':{'origin':_0xa5a731[_0x3adc9b(0x69f)],'timestamp':Date[_0x3adc9b(0x4e4)](),'messagesSent':this[_0x3adc9b(0x631)],'bytesSent':this['bytesSent'],'timeSending':this['timeSending'],'roundTripTime':this['roundTripTime']}}}));}async[_0x49e620(0x4fc)](_0x1c4118){const _0x1945b7=_0x49e620;_0xb8b103[_0x1945b7(0xad5)](_0xad09e4[_0x1945b7(0x7d5)],'CrewdleSenderConnection\x20createOffer',this[_0x1945b7(0xaa8)][_0x1945b7(0x27e)](),this[_0x1945b7(0x620)]),this['clearRestartTimeout'](),this[_0x1945b7(0x206)](),this['clearWaitAnswer'](),this[_0x1945b7(0x4a3)]=setTimeout(()=>{const _0x11290d=_0x1945b7;this[_0x11290d(0xa5e)]();},0x7530),this[_0x1945b7(0x9b2)]||(this[_0x1945b7(0x9b2)]=this[_0x1945b7(0x855)][_0x1945b7(0x865)]('data'),this['dataChannel']['bufferedAmountLowThreshold']=_0x36240d,this['dataChannel'][_0x1945b7(0xb59)]=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0xe8114a=a0_0x2367;delete this[_0xe8114a(0x853)],[_0xe8114a(0x553),_0xe8114a(0x73d)]['includes'](this[_0xe8114a(0x9b2)]?.[_0xe8114a(0x2b0)]??'')||this[_0xe8114a(0xa5e)]();},0xfa);});const _0x44208c=await this['connection'][_0x1945b7(0x4fc)](_0x1c4118);this[_0x1945b7(0xb43)]||(this[_0x1945b7(0xb43)]=Date[_0x1945b7(0x4e4)]());const _0x2939ec=(0x0,_0x3c37ba['v4'])();this[_0x1945b7(0x8f8)]({'type':_0x364a36[_0x1945b7(0x88f)],'offer':_0x44208c,'version':this[_0x1945b7(0x703)],'connectionType':this[_0x1945b7(0xa77)]},_0x2939ec),this[_0x1945b7(0xa77)]===_0xcf68f1[_0x1945b7(0x622)]&&(this[_0x1945b7(0x8be)]=_0x285f59[_0x1945b7(0x863)](()=>{const _0x56a82f=_0x1945b7;this[_0x56a82f(0x8f8)]({'type':_0x364a36['Offer'],'offer':_0x44208c,'version':this[_0x56a82f(0x703)],'connectionType':this[_0x56a82f(0xa77)]},_0x2939ec);},0x1388));}async[_0x49e620(0x756)](_0x2e6bcc,_0x2eca6c){const _0x557101=_0x49e620;if(_0x2eca6c===this[_0x557101(0x703)]){this[_0x557101(0x7a0)]();try{await this[_0x557101(0x855)]['handleAnswer'](_0x2e6bcc,this[_0x557101(0x4fc)][_0x557101(0x6e2)](this)),this[_0x557101(0x96d)](),this['clearConnectionTimeout'](),this[_0x557101(0x350)]();}catch(_0x50d7ec){this['handleDisconnect']();}}}[_0x49e620(0x201)](_0x40d5b1){const _0x5366c1=_0x49e620;if(!this['dataChannel'])throw new _0x44727e(_0x44727e[_0x5366c1(0x849)][_0x5366c1(0x5e3)],{'message':_0x5366c1(0x723),'localId':this[_0x5366c1(0xaa8)][_0x5366c1(0x27e)](),'remoteId':this[_0x5366c1(0x620)],'eventMessage':_0x40d5b1});if(_0x5366c1(0x73d)!==this[_0x5366c1(0x9b2)][_0x5366c1(0x2b0)])throw new _0x44727e(_0x44727e[_0x5366c1(0x849)][_0x5366c1(0x5e3)],{'message':_0x5366c1(0x7a6),'localId':this[_0x5366c1(0xaa8)][_0x5366c1(0x27e)](),'remoteId':this['remoteId'],'eventMessage':_0x40d5b1});let _0x834a96;if(_0x40d5b1[_0x5366c1(0x4fe)]['data']instanceof ArrayBuffer){const _0x2c1f66=_0x40d5b1['content'][_0x5366c1(0x7b6)];_0x40d5b1={..._0x40d5b1,'content':{..._0x40d5b1[_0x5366c1(0x4fe)],'data':void 0x0}},_0x834a96=this[_0x5366c1(0xaca)](_0x40d5b1,_0x2c1f66);}else _0x834a96=JSON[_0x5366c1(0x273)](_0x40d5b1);if(_0x5366c1(0xaba)==typeof _0x834a96&&_0x834a96['length']>_0x355395)return void this['sendChunked'](_0x40d5b1,_0x834a96);0x0===_0x40d5b1[_0x5366c1(0x448)]&&_0x40d5b1[_0x5366c1(0x946)]===_0x24f665[_0x5366c1(0x303)]&&this['loggingCycle'][_0x5366c1(0x8ef)][_0x5366c1(0x267)](()=>_0xb8b103[_0x5366c1(0xad5)](_0xad09e4[_0x5366c1(0x51d)],_0x5366c1(0x231),this['remoteId'],_0x3bc1dc(_0x40d5b1)),void 0x0);const _0x4f576f=0x0===_0x40d5b1['topicLabel']&&[_0x24f665['Subscription'],_0x24f665[_0x5366c1(0x7ea)]][_0x5366c1(0x2ef)](_0x40d5b1['messageType'])?_0x329f16['High']:_0x40d5b1 instanceof ArrayBuffer?_0x329f16[_0x5366c1(0xb7a)]:_0x329f16[_0x5366c1(0x872)];this[_0x5366c1(0x9a9)](_0x834a96,_0x4f576f);}[_0x49e620(0x4f9)](_0x525c68,_0x4dc95f,_0x20e845,_0x58f019){const _0x483f58=_0x49e620,_0x305819=(_0x4cd2d8=this['maxFps'],_0x20ca8f=this['maxBpp'],Math[_0x483f58(0x8a1)](0xe1000*_0x4cd2d8*_0x20ca8f));var _0x4cd2d8,_0x20ca8f;const _0x1a8b42=this[_0x483f58(0x74a)][_0x483f58(0x680)](_0x4dc95f['id'])||{'stream':_0x4dc95f,'priority':_0x20e845,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x305819,'maxBitrate':_0x305819,'framerate':this[_0x483f58(0xb56)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x58f019},_0x435812=_0x1a8b42['tracks'][_0x525c68[_0x483f58(0xa7a)]]||{'track':_0x525c68};if(_0x435812['sender']?(_0x435812['track']=_0x525c68,this['connection'][_0x483f58(0x9f4)](_0x525c68,_0x435812[_0x483f58(0x92d)])):_0x435812[_0x483f58(0x92d)]=this[_0x483f58(0x855)][_0x483f58(0x4f9)](_0x525c68,_0x4dc95f),_0x1a8b42[_0x483f58(0x518)][_0x525c68['kind']]=_0x435812,_0x58f019&&(_0x1a8b42[_0x483f58(0x67e)]=_0x58f019),_0x58f019&&_0x483f58(0xa0f)===_0x58f019[_0x483f58(0xa7a)]&&_0x58f019['resolution']&&_0x58f019[_0x483f58(0xaed)]&&(_0x1a8b42[_0x483f58(0x630)]=this[_0x483f58(0x4a2)](_0x58f019[_0x483f58(0x370)],_0x58f019[_0x483f58(0xaed)]),_0x1a8b42[_0x483f58(0x565)]=_0x1a8b42['resolutionScale'],_0x1a8b42[_0x483f58(0x518)]['video']&&_0x1a8b42['tracks'][_0x483f58(0xa0f)]['sender'])){const _0x2fc9d6=_0x1a8b42[_0x483f58(0x518)][_0x483f58(0xa0f)][_0x483f58(0x92d)];this[_0x483f58(0x855)][_0x483f58(0x3a5)](_0x2fc9d6,Math['floor'](0xa*_0x1a8b42[_0x483f58(0x630)])/0xa,_0x1a8b42['framerate'],_0x1a8b42['bitrate'],_0x1a8b42['priority']);}this[_0x483f58(0x74a)][_0x483f58(0x9fa)](_0x4dc95f['id'],_0x1a8b42);}['setPriority'](_0xdbdd42,_0x3d697a){const _0x1894c5=_0x49e620,_0x51cd5d=this['senders'][_0x1894c5(0x680)](_0xdbdd42['id']);if(_0x51cd5d&&_0x51cd5d[_0x1894c5(0x7fa)]!==_0x3d697a&&(_0x51cd5d[_0x1894c5(0x7fa)]=_0x3d697a,_0x51cd5d['tracks'][_0x1894c5(0xa0f)]&&_0x51cd5d['tracks'][_0x1894c5(0xa0f)][_0x1894c5(0x92d)])){const _0x5dd85a=_0x51cd5d[_0x1894c5(0x518)]['video'][_0x1894c5(0x92d)];this[_0x1894c5(0x855)][_0x1894c5(0x3a5)](_0x5dd85a,Math[_0x1894c5(0x8a1)](0xa*_0x51cd5d[_0x1894c5(0x630)])/0xa,_0x51cd5d[_0x1894c5(0x20e)],_0x51cd5d[_0x1894c5(0x2f6)],_0x51cd5d[_0x1894c5(0x7fa)]);}}[_0x49e620(0x7ee)](_0x197051,_0x3d6e3a){const _0x154dec=_0x49e620,_0x41f51b=this[_0x154dec(0x74a)][_0x154dec(0x680)](_0x197051['id']);if(_0x41f51b){if(_0x41f51b[_0x154dec(0x67e)]=_0x3d6e3a,_0x3d6e3a&&_0x154dec(0xa0f)===_0x3d6e3a['kind']&&_0x3d6e3a[_0x154dec(0x370)]&&_0x3d6e3a[_0x154dec(0xaed)]){if(_0x41f51b[_0x154dec(0x565)]=this[_0x154dec(0x4a2)](_0x3d6e3a[_0x154dec(0x370)],_0x3d6e3a[_0x154dec(0xaed)]),_0x41f51b[_0x154dec(0x630)]<_0x41f51b[_0x154dec(0x565)]&&(_0x41f51b[_0x154dec(0x630)]=_0x41f51b[_0x154dec(0x565)]),_0x41f51b[_0x154dec(0x518)]['video']&&_0x41f51b[_0x154dec(0x518)]['video'][_0x154dec(0x92d)]){const _0x3ec464=_0x41f51b[_0x154dec(0x518)][_0x154dec(0xa0f)][_0x154dec(0x92d)];this[_0x154dec(0x855)][_0x154dec(0x3a5)](_0x3ec464,Math[_0x154dec(0x8a1)](0xa*_0x41f51b[_0x154dec(0x630)])/0xa,_0x41f51b[_0x154dec(0x20e)],_0x41f51b['bitrate'],_0x41f51b[_0x154dec(0x7fa)]);}this[_0x154dec(0x241)](),this[_0x154dec(0x2c4)]();}this[_0x154dec(0x74a)][_0x154dec(0x9fa)](_0x197051['id'],_0x41f51b);}}['removeTrack'](_0x448b7a,_0x565a24){const _0xa34aae=_0x49e620,_0x4513c8=this['senders']['get'](_0x565a24['id']);if(_0x4513c8){const _0x1210d6=_0x4513c8[_0xa34aae(0x518)][_0x448b7a[_0xa34aae(0xa7a)]];_0x1210d6&&(_0x1210d6[_0xa34aae(0x92d)]&&this[_0xa34aae(0x855)]['removeTrack'](_0x1210d6[_0xa34aae(0x92d)]),_0x1210d6[_0xa34aae(0x939)]=void 0x0);}}['applyRemediation'](_0x43d5c9){const _0x269d68=_0x49e620;this[_0x269d68(0x241)]();const _0x29ecff=function(_0x239550,_0x43642d){const _0x3826c7=_0x269d68;return _0x239550['sort']((_0x82dbce,_0x57211d)=>_0x43642d['action']===_0x18e796[_0x3826c7(0x9b4)]?_0x57211d[_0x3826c7(0x7fa)]-_0x82dbce[_0x3826c7(0x7fa)]:_0x82dbce[_0x3826c7(0x7fa)]-_0x57211d[_0x3826c7(0x7fa)])[_0x3826c7(0x94a)](_0x22cd73=>function(_0x3c570d,_0x1c85ed){const _0x2029c3=_0x3826c7;if(_0x1c85ed[_0x2029c3(0xaa7)]===_0x18e796[_0x2029c3(0x9b4)]){if(_0x1c85ed['component']===_0xd1e9ce[_0x2029c3(0xb79)])return _0x3c570d[_0x2029c3(0x630)]<0x4||_0x3c570d[_0x2029c3(0x316)]>0xf;if(_0x1c85ed[_0x2029c3(0x2ac)]===_0xd1e9ce['Bitrate'])return _0x3c570d[_0x2029c3(0x95a)]>_0x2b4d82;}return _0x3c570d[_0x2029c3(0x630)]>_0x3c570d[_0x2029c3(0x565)]||_0x3c570d[_0x2029c3(0x20e)]<_0x3c570d['maxFramerate']||_0x3c570d['bitrate']<_0x3c570d[_0x2029c3(0x95a)];}(_0x22cd73,_0x43642d));}(Array[_0x269d68(0x9cc)](this['senders'][_0x269d68(0x66b)]()),_0x43d5c9);if(_0x29ecff&&(function(_0x5df9cb,_0x51084f){const _0x4cf718=_0x269d68;_0x5df9cb[_0x4cf718(0x518)][_0x4cf718(0xa0f)]&&_0x5df9cb[_0x4cf718(0x518)][_0x4cf718(0xa0f)][_0x4cf718(0x92d)]&&(_0x5df9cb['resolutionScale']=function(_0x62b6f1,_0x27513c,_0x375701){const _0x219a37=_0x4cf718;switch(_0x375701[_0x219a37(0xaa7)]){case _0x18e796[_0x219a37(0x9b4)]:_0x375701[_0x219a37(0x2ac)]===_0xd1e9ce['Resolution']&&(_0x62b6f1+=0.5)>0x4&&(_0x62b6f1=0x4);break;case _0x18e796[_0x219a37(0xb14)]:(_0x62b6f1-=0.5)<_0x27513c&&(_0x62b6f1=_0x27513c);}return _0x62b6f1;}(_0x5df9cb['resolutionScale'],_0x5df9cb[_0x4cf718(0x565)],_0x51084f),_0x5df9cb['framerate']=function(_0x34fdf8,_0x162268,_0x1bcba0){const _0x2f78dd=_0x4cf718;switch(_0x1bcba0[_0x2f78dd(0xaa7)]){case _0x18e796[_0x2f78dd(0x9b4)]:_0x1bcba0[_0x2f78dd(0x2ac)]===_0xd1e9ce[_0x2f78dd(0xb79)]&&(_0x34fdf8-=0x3)<0xf&&(_0x34fdf8=0xf);break;case _0x18e796[_0x2f78dd(0xb14)]:(_0x34fdf8+=0x3)>_0x162268&&(_0x34fdf8=_0x162268);}return _0x34fdf8;}(_0x5df9cb[_0x4cf718(0x20e)],_0x5df9cb[_0x4cf718(0x316)],_0x51084f),_0x5df9cb[_0x4cf718(0x2f6)]=function(_0x575aa1,_0x5c519f,_0x4095d7){const _0x3856ea=_0x4cf718;switch(_0x4095d7[_0x3856ea(0xaa7)]){case _0x18e796[_0x3856ea(0x9b4)]:_0x4095d7[_0x3856ea(0x2ac)]===_0xd1e9ce[_0x3856ea(0x9c4)]&&(_0x575aa1*=0.75)<_0x2b4d82&&(_0x575aa1=_0x2b4d82);break;case _0x18e796['Upgrade']:(_0x575aa1*=1.25)>_0x5c519f&&(_0x575aa1=_0x5c519f);}return _0x575aa1;}(_0x5df9cb[_0x4cf718(0x2f6)],_0x5df9cb[_0x4cf718(0x95a)],_0x51084f));}(_0x29ecff,_0x43d5c9),_0x29ecff[_0x269d68(0x518)]['video']&&_0x29ecff[_0x269d68(0x518)]['video'][_0x269d68(0x92d)])){const _0x273a1d=_0x29ecff[_0x269d68(0x518)][_0x269d68(0xa0f)][_0x269d68(0x92d)];this['connection'][_0x269d68(0x3a5)](_0x273a1d,Math[_0x269d68(0x8a1)](0xa*_0x29ecff[_0x269d68(0x630)])/0xa,_0x29ecff['framerate'],_0x29ecff[_0x269d68(0x2f6)],_0x29ecff[_0x269d68(0x7fa)]);}(_0x29ecff||_0x43d5c9['action']===_0x18e796[_0x269d68(0x9b4)])&&this[_0x269d68(0x2c4)]();}[_0x49e620(0x6a4)](){const _0x399402=_0x49e620;return this['retryQueue']['queues'][_0x399402(0x824)]((_0x372967,_0x32c664)=>_0x372967+_0x32c664['size'],0x0)*_0x1e684a;}[_0x49e620(0xa61)](){const _0x567272=_0x49e620;return this[_0x567272(0x9b2)]?.['bufferedAmount']??0x0;}[_0x49e620(0x51e)](){const _0xbd90f6=_0x49e620;super[_0xbd90f6(0x51e)](),this['clearOncloseTimeout'](),this['clearWaitAnswer'](),this[_0xbd90f6(0x74a)][_0xbd90f6(0x49b)](_0x5370a6=>{const _0x1ca95c=_0xbd90f6;_0x5370a6[_0x1ca95c(0x518)][_0x1ca95c(0xa0f)]&&(_0x5370a6[_0x1ca95c(0x518)][_0x1ca95c(0xa0f)][_0x1ca95c(0x92d)]=void 0x0),_0x5370a6[_0x1ca95c(0x518)]['audio']&&(_0x5370a6[_0x1ca95c(0x518)]['audio']['sender']=void 0x0);}),this[_0xbd90f6(0x809)]=!0x0;}async[_0x49e620(0x398)](){return new Promise(async _0x1ada9e=>{const _0x19fac3=a0_0x2367;if(!this[_0x19fac3(0x9b2)]||_0x19fac3(0x73d)!==this[_0x19fac3(0x9b2)][_0x19fac3(0x2b0)])return await _0x285f59[_0x19fac3(0x7fd)](0x64),void _0x1ada9e();this[_0x19fac3(0x9b2)]['bufferedAmount']<_0x36240d?_0x1ada9e():this[_0x19fac3(0x9b2)]['onBufferedAmountLow']=()=>{const _0xedff5b=_0x19fac3;this[_0xedff5b(0x9b2)]&&(this[_0xedff5b(0x9b2)][_0xedff5b(0xa21)]=null),_0x1ada9e();};});}async[_0x49e620(0x46b)](_0x299f89,_0x4e240b){const _0x1a6083=_0x49e620,_0x2f322b=[];for(let _0x58db07=0x0;_0x58db07<_0x4e240b[_0x1a6083(0x8bc)];_0x58db07+=_0x355395)_0x2f322b['push'](_0x4e240b[_0x1a6083(0x966)](_0x58db07,_0x58db07+_0x355395));for(const _0x51590a of _0x2f322b){for(;this[_0x1a6083(0xafd)][_0x1a6083(0x391)][_0x329f16[_0x1a6083(0xb7a)]][_0x1a6083(0x65a)]>0x1;)await _0x285f59[_0x1a6083(0x7fd)](0x64);this[_0x1a6083(0x9a9)](_0x1e3a03+';'+_0x299f89[_0x1a6083(0xa9c)]+';'+_0x2f322b[_0x1a6083(0x688)](_0x51590a)+';'+_0x2f322b[_0x1a6083(0x8bc)]+';'+_0x51590a,_0x329f16[_0x1a6083(0xb7a)]);}}async[_0x49e620(0x9a9)](_0xd9fb6f,_0x388593){const _0x380f27=_0x49e620;_0xd9fb6f===_0x26c70e?this[_0x380f27(0xafd)]['queues'][_0x388593]['head']?.[_0x380f27(0x3e3)]!==_0x26c70e&&this[_0x380f27(0xafd)][_0x380f27(0x391)][_0x388593][_0x380f27(0x7e9)](_0xd9fb6f):this[_0x380f27(0xafd)]['queues'][_0x388593][_0x380f27(0x6b8)](_0xd9fb6f);}[_0x49e620(0xafb)](_0x2b2584){const _0x57f3d4=_0x49e620;if(!this[_0x57f3d4(0x9b2)]||'open'!==this[_0x57f3d4(0x9b2)][_0x57f3d4(0x2b0)])throw new Error(_0x57f3d4(0x6b5));if(this[_0x57f3d4(0x9b2)][_0x57f3d4(0x417)]>=0x600000)throw new Error(_0x57f3d4(0x3c4));const _0x5968ba=Date[_0x57f3d4(0x4e4)]();_0x2b2584!==_0x26c70e&&(this[_0x57f3d4(0x631)]+=0x1,this['bytesSent']+=_0x2b2584 instanceof ArrayBuffer?_0x2b2584[_0x57f3d4(0x1df)]:_0x2b2584[_0x57f3d4(0x8bc)]);try{ArrayBuffer,this[_0x57f3d4(0x9b2)][_0x57f3d4(0x201)](_0x2b2584);}catch(_0x25e641){throw console[_0x57f3d4(0x528)](_0x57f3d4(0x4ec),_0x25e641),_0x25e641;}this[_0x57f3d4(0x9a0)]+=Date[_0x57f3d4(0x4e4)]()-_0x5968ba;}[_0x49e620(0x350)](){const _0x14b577=_0x49e620;this[_0x14b577(0x25e)]&&this[_0x14b577(0x23a)]();let _0x407d5b=!0x0,_0x3d5177=Date[_0x14b577(0x4e4)]();this[_0x14b577(0xb43)]=Date[_0x14b577(0x4e4)](),this[_0x14b577(0x9b2)][_0x14b577(0x1c5)]=_0x4934fb=>{const _0x3147cd=_0x14b577;'1'===_0x4934fb[_0x3147cd(0x7b6)]&&(this[_0x3147cd(0x437)]=Date['now']()-_0x3d5177,_0x407d5b&&this['publishSystemMessage']({'type':_0x364a36[_0x3147cd(0x70b)]}),_0x407d5b=!0x1,this[_0x3147cd(0xb43)]=Date[_0x3147cd(0x4e4)](),this[_0x3147cd(0x809)]&&(this[_0x3147cd(0x809)]=!0x1,this['handleMissingSenders']()));},this['heartbeatUnsubscriber']=_0x285f59[_0x14b577(0x863)](()=>{const _0x308cd7=_0x14b577;_0x3d5177=Date[_0x308cd7(0x4e4)](),this[_0x308cd7(0x9a9)](_0x26c70e,_0x329f16[_0x308cd7(0x9d8)]),Date[_0x308cd7(0x4e4)]()-this[_0x308cd7(0xb43)]>(_0x407d5b?0x15f90:0x3a98)&&this[_0x308cd7(0xa5e)]();},0xbb8);}[_0x49e620(0x3c7)](){const _0x232585=_0x49e620;this[_0x232585(0x74a)][_0x232585(0x49b)](_0x3bf42f=>{const _0x15c711=_0x232585;_0x3bf42f[_0x15c711(0x518)][_0x15c711(0xa0f)]&&_0x3bf42f[_0x15c711(0x518)][_0x15c711(0xa0f)][_0x15c711(0x939)]&&!_0x3bf42f[_0x15c711(0x518)][_0x15c711(0xa0f)]['sender']&&(_0x3bf42f[_0x15c711(0x518)][_0x15c711(0xa0f)][_0x15c711(0x92d)]=this['connection'][_0x15c711(0x4f9)](_0x3bf42f['tracks']['video'][_0x15c711(0x939)],_0x3bf42f[_0x15c711(0x672)])),_0x3bf42f[_0x15c711(0x518)][_0x15c711(0xa42)]&&_0x3bf42f['tracks'][_0x15c711(0xa42)][_0x15c711(0x939)]&&!_0x3bf42f[_0x15c711(0x518)][_0x15c711(0xa42)][_0x15c711(0x92d)]&&(_0x3bf42f[_0x15c711(0x518)]['audio'][_0x15c711(0x92d)]=this[_0x15c711(0x855)][_0x15c711(0x4f9)](_0x3bf42f[_0x15c711(0x518)][_0x15c711(0xa42)][_0x15c711(0x939)],_0x3bf42f['stream']));});}[_0x49e620(0xb69)](){const _0x43f27d=_0x49e620;this['publishSystemMessage']({'type':_0x364a36[_0x43f27d(0x8f5)],'candidates':this['handshakeCandidates'],'origin':_0xa5a731[_0x43f27d(0x69f)],'version':this['currentVersion'],'connectionType':this['connectionType']});}[_0x49e620(0xa6d)](){const _0x2cdf87=_0x49e620;super[_0x2cdf87(0xa6d)](),this[_0x2cdf87(0x855)][_0x2cdf87(0x397)]=()=>{const _0x28a316=_0x2cdf87;if(_0x28a316(0x2dc)===this[_0x28a316(0x855)]['handshakeState']){_0xb8b103['log'](_0xad09e4[_0x28a316(0x8e1)],_0x28a316(0x4a8),this['localNode']['getId'](),this[_0x28a316(0x620)]);try{if(this[_0x28a316(0x855)][_0x28a316(0x2a3)])return void this[_0x28a316(0x855)][_0x28a316(0x72d)]();}catch(_0x8864c){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x2cdf87(0x855)][_0x2cdf87(0x222)]=()=>{const _0x39a82c=_0x2cdf87;_0x39a82c(0x491)!==this[_0x39a82c(0x855)][_0x39a82c(0x5d0)]&&_0x39a82c(0x2dc)!==this[_0x39a82c(0x855)]['connectionState']||this[_0x39a82c(0xa5e)]();};}[_0x49e620(0xa5e)](){const _0x3e6312=_0x49e620;this[_0x3e6312(0x23a)](),this[_0x3e6312(0x1f2)](),this[_0x3e6312(0x206)](),_0xb8b103[_0x3e6312(0x87a)]('disconnect',{'clusterId':this['clusterId'],'nodeId':this[_0x3e6312(0xaa8)]['getId'](),'nodeType':this[_0x3e6312(0xaa8)][_0x3e6312(0x70f)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x3e6312(0xa77)],'connectionState':this[_0x3e6312(0x855)][_0x3e6312(0x5d0)],'iceConnectionState':this[_0x3e6312(0x855)][_0x3e6312(0x3ad)],'signalingState':this[_0x3e6312(0x855)]['signalingState'],'readyState':this[_0x3e6312(0x9b2)]?.['state']||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x3e6312(0x4e4)]()-this[_0x3e6312(0xb43)]:'','retryQueue':this[_0x3e6312(0xafd)]}}),(this['lastHeartbeat']&&Date[_0x3e6312(0x4e4)]()-this[_0x3e6312(0xb43)]>0xea60)??0x1?this['systemTopic'][_0x3e6312(0x544)]({'sourceId':this[_0x3e6312(0x620)],'destinationIds':[this[_0x3e6312(0xaa8)][_0x3e6312(0x27e)]()],'messageType':_0x24f665['PeerConnection'],'content':{'type':_0x364a36['Disconnect']}}):(this[_0x3e6312(0x51e)](),this[_0x3e6312(0x8f8)]({'type':_0x364a36[_0x3e6312(0x668)],'version':this[_0x3e6312(0x703)],'connectionType':this[_0x3e6312(0xa77)]}),this[_0x3e6312(0x7e1)]=setTimeout(()=>{const _0x2ab482=_0x3e6312;this[_0x2ab482(0xa5e)]();},0x7530));}[_0x49e620(0x23a)](){const _0x8d7010=_0x49e620;this[_0x8d7010(0x25e)]?.(),delete this[_0x8d7010(0x25e)];}[_0x49e620(0x206)](){const _0x2e8052=_0x49e620;this['connectionTimeout']&&(clearTimeout(this[_0x2e8052(0x4a3)]),delete this['connectionTimeout']);}[_0x49e620(0x1f2)](){const _0x470b85=_0x49e620;this['restartTimeout']&&(clearTimeout(this[_0x470b85(0x7e1)]),delete this['restartTimeout']);}[_0x49e620(0x241)](){const _0x1abd3b=_0x49e620;this[_0x1abd3b(0x956)]&&(clearTimeout(this[_0x1abd3b(0x956)]),delete this['upgradeTimeout']);}['setUpgradeTimeout'](){const _0x27fb39=_0x49e620;this[_0x27fb39(0x956)]=setTimeout(()=>{const _0x533d01=_0x27fb39;this[_0x533d01(0x52f)]({'type':_0x5f5d86[_0x533d01(0x34c)],'action':_0x18e796[_0x533d01(0xb14)]});},0x3a98);}[_0x49e620(0x4a2)](_0x30bd37,_0x281fd8){const _0x2199f0=_0x49e620,_0xebc171=Math[_0x2199f0(0x57a)](_0x30bd37[_0x2199f0(0x7ba)]/_0x281fd8[_0x2199f0(0x7ba)],_0x30bd37['height']/_0x281fd8[_0x2199f0(0x982)]);return Math[_0x2199f0(0x95e)](Math[_0x2199f0(0x57a)](_0xebc171,0x1),0x4);}['clearWaitAnswer'](){const _0x51bea5=_0x49e620;this['waitAnswer']?.(),delete this[_0x51bea5(0x8be)];}[_0x49e620(0x9d5)](){const _0x15ec66=_0x49e620;this['oncloseTimeout']&&(clearTimeout(this[_0x15ec66(0x853)]),delete this[_0x15ec66(0x853)]);}[_0x49e620(0xa04)](_0x181f23){const _0x26d445=_0x49e620,_0x59ed03=JSON[_0x26d445(0x273)](_0x181f23);return new TextEncoder()[_0x26d445(0x56c)](_0x59ed03)[_0x26d445(0x6e6)];}[_0x49e620(0xaca)](_0xf3d5a8,_0x472fd6){const _0x5e7782=_0x49e620,_0x5152b6=this[_0x5e7782(0xa04)](_0xf3d5a8),_0xd88be1=new Uint8Array(0x4),_0x2bf10c=new Uint8Array(_0x5152b6),_0x582acf=new Uint8Array(_0x472fd6);_0xd88be1[_0x5e7782(0x9fa)](new Uint8Array(new Uint32Array([_0x2bf10c[_0x5e7782(0x8bc)]])[_0x5e7782(0x6e6)]));const _0x12f746=new Uint8Array(0x4+_0x2bf10c[_0x5e7782(0x8bc)]+_0x582acf[_0x5e7782(0x8bc)]);return _0x12f746[_0x5e7782(0x9fa)](_0xd88be1),_0x12f746[_0x5e7782(0x9fa)](_0x2bf10c,0x4),_0x12f746['set'](_0x582acf,0x4+_0x2bf10c['length']),_0x12f746['buffer'];}}class _0x597a40 extends _0x4f6b74{[_0x49e620(0xa94)];[_0x49e620(0xa77)];[_0x49e620(0xb56)];[_0x49e620(0x320)];[_0x49e620(0x48e)];[_0x49e620(0x878)];[_0x49e620(0x70e)];[_0x49e620(0x403)]=[];['messageListeners']=_0x544609();[_0x49e620(0x561)]=_0x544609();['removeTrackListeners']=_0x544609();[_0x49e620(0x870)]=[];[_0x49e620(0x321)];['dataTopics']=new Map();['dataUnsubscribers']=new Map();[_0x49e620(0x313)]=new Map();[_0x49e620(0xb61)]=new Map();[_0x49e620(0x449)]=!0x1;constructor(_0xd1554,_0x36f747,_0x2ec96d,_0x2e4558,_0x46538d,_0x2ecbc8,_0x1b11c5,_0x3cb54f){const _0x3c2ebd=_0x49e620;super(_0xd1554,_0x36f747,_0x2ec96d),this[_0x3c2ebd(0xa94)]=_0x2e4558,this[_0x3c2ebd(0xa77)]=_0x46538d,this[_0x3c2ebd(0xb56)]=_0x2ecbc8,this[_0x3c2ebd(0x320)]=_0x1b11c5,this[_0x3c2ebd(0x48e)]=_0x3cb54f;}[_0x49e620(0x737)](_0x4d32c5){const _0x407d0c=_0x49e620;switch(_0x4d32c5[_0x407d0c(0x9e2)]()){case _0x596e17['ContentType'][_0x407d0c(0x6cd)]:case _0x596e17[_0x407d0c(0x7dd)][_0x407d0c(0x600)]:case _0x596e17[_0x407d0c(0x7dd)][_0x407d0c(0x7f2)]:case _0x596e17[_0x407d0c(0x7dd)]['KeyValueDatabase']:case _0x596e17[_0x407d0c(0x7dd)][_0x407d0c(0x80c)]:case _0x596e17[_0x407d0c(0x7dd)]['VectorDatabase']:case _0x596e17[_0x407d0c(0x7dd)][_0x407d0c(0x48b)]:case _0x596e17[_0x407d0c(0x7dd)]['ExternalStorage']:this[_0x407d0c(0xa25)]['set'](_0x4d32c5[_0x407d0c(0x227)](),_0x4d32c5);break;case _0x596e17[_0x407d0c(0x7dd)]['Media']:this['mediaTopics'][_0x407d0c(0x9fa)](_0x4d32c5['getLabel'](),_0x4d32c5);}}['unregisterPublisher'](_0x33be2d){const _0x1e02b2=_0x49e620;switch(_0x33be2d[_0x1e02b2(0x9e2)]()){case _0x596e17['ContentType'][_0x1e02b2(0x6cd)]:case _0x596e17[_0x1e02b2(0x7dd)][_0x1e02b2(0x600)]:case _0x596e17[_0x1e02b2(0x7dd)][_0x1e02b2(0x7f2)]:case _0x596e17[_0x1e02b2(0x7dd)][_0x1e02b2(0x35a)]:case _0x596e17[_0x1e02b2(0x7dd)]['Job']:case _0x596e17[_0x1e02b2(0x7dd)][_0x1e02b2(0x773)]:case _0x596e17[_0x1e02b2(0x7dd)][_0x1e02b2(0x48b)]:case _0x596e17[_0x1e02b2(0x7dd)][_0x1e02b2(0x5ee)]:this['dataTopics'][_0x1e02b2(0x55f)](_0x33be2d[_0x1e02b2(0x227)]());break;case _0x596e17[_0x1e02b2(0x7dd)][_0x1e02b2(0x451)]:this[_0x1e02b2(0x313)][_0x1e02b2(0x55f)](_0x33be2d[_0x1e02b2(0x227)]());}}['registerSubscriber'](_0x5b764c){const _0x266141=_0x49e620;switch(_0x5b764c[_0x266141(0x9e2)]()){case _0x596e17[_0x266141(0x7dd)][_0x266141(0x6cd)]:case _0x596e17[_0x266141(0x7dd)][_0x266141(0x600)]:case _0x596e17[_0x266141(0x7dd)][_0x266141(0x7f2)]:case _0x596e17[_0x266141(0x7dd)][_0x266141(0x35a)]:case _0x596e17[_0x266141(0x7dd)][_0x266141(0x80c)]:case _0x596e17[_0x266141(0x7dd)][_0x266141(0x773)]:case _0x596e17[_0x266141(0x7dd)][_0x266141(0x48b)]:case _0x596e17[_0x266141(0x7dd)]['ExternalStorage']:{const _0x32218b=_0x5b764c['subscribe'](_0x227ed0=>{const _0x271500=_0x266141;_0x1a4b8b(_0x227ed0,this[_0x271500(0x634)]())&&_0x2e7ac5(_0x227ed0,this[_0x271500(0x620)])&&this[_0x271500(0x201)](_0x227ed0);});this[_0x266141(0x979)][_0x266141(0x9fa)](_0x5b764c[_0x266141(0x227)](),_0x32218b);break;}case _0x596e17[_0x266141(0x7dd)][_0x266141(0x451)]:{const _0x174c9f=_0x5b764c[_0x266141(0xa34)](({content:_0x4a20a7})=>{const _0x1f9d0c=_0x266141;switch(_0x4a20a7[_0x1f9d0c(0xaa7)]){case _0x294eae[_0x1f9d0c(0xa19)]:this[_0x1f9d0c(0x4f9)](_0x4a20a7['track'],_0x4a20a7[_0x1f9d0c(0x672)],_0x4a20a7['priority'],_0x4a20a7[_0x1f9d0c(0x67e)]);break;case _0x294eae[_0x1f9d0c(0x58c)]:this[_0x1f9d0c(0x79c)](_0x4a20a7[_0x1f9d0c(0x939)],_0x4a20a7[_0x1f9d0c(0x672)]);break;case _0x294eae[_0x1f9d0c(0x325)]:_0x4a20a7['priority']&&this[_0x1f9d0c(0x7ac)](_0x4a20a7[_0x1f9d0c(0x672)],_0x4a20a7[_0x1f9d0c(0x7fa)]),_0x4a20a7['params']&&this['setParams'](_0x4a20a7[_0x1f9d0c(0x672)],_0x4a20a7[_0x1f9d0c(0x67e)]);}});this['mediaUnsubscribers'][_0x266141(0x9fa)](_0x5b764c[_0x266141(0x227)](),_0x174c9f);break;}}}['unregisterSubscriber'](_0x6dec55){const _0x5e01d8=_0x49e620;switch(_0x6dec55[_0x5e01d8(0x9e2)]()){case _0x596e17[_0x5e01d8(0x7dd)][_0x5e01d8(0x6cd)]:case _0x596e17[_0x5e01d8(0x7dd)]['PubSub']:case _0x596e17[_0x5e01d8(0x7dd)][_0x5e01d8(0x7f2)]:case _0x596e17['ContentType'][_0x5e01d8(0x35a)]:case _0x596e17['ContentType'][_0x5e01d8(0x80c)]:case _0x596e17['ContentType'][_0x5e01d8(0x773)]:case _0x596e17[_0x5e01d8(0x7dd)][_0x5e01d8(0x48b)]:case _0x596e17[_0x5e01d8(0x7dd)][_0x5e01d8(0x5ee)]:this[_0x5e01d8(0x979)][_0x5e01d8(0x680)](_0x6dec55[_0x5e01d8(0x227)]())?.(),this[_0x5e01d8(0x979)][_0x5e01d8(0x55f)](_0x6dec55[_0x5e01d8(0x227)]());break;case _0x596e17[_0x5e01d8(0x7dd)]['Media']:this['mediaUnsubscribers'][_0x5e01d8(0x680)](_0x6dec55['getLabel']())?.(),this[_0x5e01d8(0xb61)]['delete'](_0x6dec55['getLabel']());}}[_0x49e620(0xa2e)](){const _0x13fa01=_0x49e620;return[_0x596e17['ContentType'][_0x13fa01(0x6cd)],_0x596e17[_0x13fa01(0x7dd)]['Media'],_0x596e17[_0x13fa01(0x7dd)][_0x13fa01(0x600)],_0x596e17[_0x13fa01(0x7dd)][_0x13fa01(0x7f2)],_0x596e17[_0x13fa01(0x7dd)][_0x13fa01(0x35a)],_0x596e17[_0x13fa01(0x7dd)][_0x13fa01(0x80c)],_0x596e17[_0x13fa01(0x7dd)][_0x13fa01(0x773)],_0x596e17[_0x13fa01(0x7dd)][_0x13fa01(0x48b)],_0x596e17['ContentType'][_0x13fa01(0x5ee)]];}[_0x49e620(0xb51)](_0x4216f6){const _0x59308a=_0x49e620;this[_0x59308a(0x321)]=_0x4216f6;}['unregisterSystemPublisher'](){const _0x22251d=_0x49e620;delete this[_0x22251d(0x321)];}async['connect'](){const _0x12ad9a=_0x49e620;this['setupListeners'](),await this[_0x12ad9a(0x4fc)]();}[_0x49e620(0x5c2)](){const _0x4dda26=_0x49e620;this[_0x4dda26(0x870)]['forEach'](_0x45b88e=>_0x45b88e()),this['listenerUnsubscribers']=[],this[_0x4dda26(0x878)]?.[_0x4dda26(0xa6a)](),this[_0x4dda26(0x878)]?.['close'](),delete this['senderConnection'],this[_0x4dda26(0x403)][_0x4dda26(0x49b)](_0x5ab6ca=>_0x5ab6ca()),this[_0x4dda26(0x403)]=[],this[_0x4dda26(0x70e)]?.[_0x4dda26(0xa6a)](),this['receiverConnection']?.[_0x4dda26(0x5c2)](),delete this[_0x4dda26(0x70e)];}[_0x49e620(0xb44)](){const _0x9a1aad=_0x49e620;return this[_0x9a1aad(0x878)]?.[_0x9a1aad(0xb44)]()&&this[_0x9a1aad(0x70e)]?.[_0x9a1aad(0xb44)]()||!0x1;}['send'](_0x1dc4ae){const _0x374d76=_0x49e620;if(!this[_0x374d76(0x878)]||!this[_0x374d76(0xb44)]())throw new _0x44727e(_0x44727e[_0x374d76(0x849)][_0x374d76(0x38c)],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x374d76(0x878)]?.[_0x374d76(0xb44)](),'receiverConnected':this['receiverConnection']?.[_0x374d76(0xb44)](),'localId':this[_0x374d76(0x634)](),'remoteId':this[_0x374d76(0x620)],'data':_0x1dc4ae});this[_0x374d76(0x878)][_0x374d76(0x201)](_0x1dc4ae);}['onMessage'](_0x9a8f5d){const _0x5efe79=_0x49e620;return this['messageListeners'][_0x5efe79(0xa34)](_0x9a8f5d);}['onTrack'](_0x36a8e6){const _0x2ba55d=_0x49e620;return this[_0x2ba55d(0x561)][_0x2ba55d(0xa34)](({track:_0x42222f,stream:_0x30069b})=>_0x36a8e6(_0x42222f,_0x30069b));}[_0x49e620(0xb4b)](_0x218ae5){const _0x3923bf=_0x49e620;return this[_0x3923bf(0x39f)][_0x3923bf(0xa34)](({track:_0x44e712,stream:_0x1d7213})=>_0x218ae5(_0x44e712,_0x1d7213));}[_0x49e620(0x4f9)](_0x31f75c,_0x2733e8,_0x243bd5,_0x3610da){this['senderConnection']?.['addTrack'](_0x31f75c,_0x2733e8,_0x243bd5,_0x3610da);}[_0x49e620(0x7ac)](_0x5adc13,_0x215198){const _0x20b68c=_0x49e620;this[_0x20b68c(0x878)]?.[_0x20b68c(0x7ac)](_0x5adc13,_0x215198);}[_0x49e620(0x7ee)](_0x15808a,_0x187de3){const _0x31aa74=_0x49e620;this['senderConnection']?.[_0x31aa74(0x7ee)](_0x15808a,_0x187de3);}['removeTrack'](_0x3dc999,_0x4182f9){const _0x2c78e7=_0x49e620;this['senderConnection']?.[_0x2c78e7(0x79c)](_0x3dc999,_0x4182f9);}async[_0x49e620(0x7f3)](_0x2523dc){const _0x2a171c=_0x49e620;_0xb8b103[_0x2a171c(0xad5)](_0xad09e4[_0x2a171c(0x7d5)],_0x2a171c(0x658),this[_0x2a171c(0x634)](),_0x2523dc);const {content:_0x4a4b12}=_0x2523dc;switch(_0x4a4b12[_0x2a171c(0x70f)]){case _0x364a36[_0x2a171c(0x88f)]:await this['handleOffer'](_0x4a4b12);break;case _0x364a36[_0x2a171c(0xac1)]:await this['handleAnswer'](_0x4a4b12);break;case _0x364a36[_0x2a171c(0x70b)]:this[_0x2a171c(0x88a)]();break;case _0x364a36[_0x2a171c(0x8f5)]:await this['handleIceCandidates'](_0x4a4b12);break;case _0x364a36[_0x2a171c(0x668)]:this[_0x2a171c(0x330)](_0x4a4b12);break;case _0x364a36['Restart']:await this[_0x2a171c(0x4fc)]();}}[_0x49e620(0x3d0)](_0xc9f2b1){const _0x20e7a0=_0x49e620;this[_0x20e7a0(0x878)]?.[_0x20e7a0(0x52f)](_0xc9f2b1['content'][_0x20e7a0(0x7b6)]);}[_0x49e620(0x8a9)](){const _0x50b5f9=_0x49e620;return this[_0x50b5f9(0xa77)];}['setConnectionType'](_0x2cfd5e){const _0x12c4a=_0x49e620;this[_0x12c4a(0xa77)]=_0x2cfd5e,this[_0x12c4a(0x878)]?.[_0x12c4a(0x3ab)](_0x2cfd5e),this[_0x12c4a(0x70e)]?.[_0x12c4a(0x3ab)](_0x2cfd5e);}async[_0x49e620(0x570)](){const _0x1fa7b7=_0x49e620;await this[_0x1fa7b7(0x878)]?.['collectStats'](),await this['receiverConnection']?.[_0x1fa7b7(0x570)]();}[_0x49e620(0x6a4)](){const _0x574ccb=_0x49e620;return this['senderConnection']?.[_0x574ccb(0x6a4)]()??0x0;}[_0x49e620(0xa61)](){const _0x4ff859=_0x49e620;return this[_0x4ff859(0x878)]?.[_0x4ff859(0xa61)]()??0x0;}[_0x49e620(0x251)](){const _0x584e22=_0x49e620;this['listenerUnsubscribers'][_0x584e22(0x6b8)](this[_0x584e22(0x1c5)](_0x40a1c9=>{const _0x302b3d=_0x584e22;_0x2e7ac5(_0x40a1c9,this['getLocalId']())&&0x0!==_0x40a1c9[_0x302b3d(0x448)]&&this[_0x302b3d(0xa25)][_0x302b3d(0x680)](_0x40a1c9[_0x302b3d(0x448)])?.['publish'](_0x40a1c9);})),this[_0x584e22(0x870)][_0x584e22(0x6b8)](this[_0x584e22(0x3e8)]((_0x3f4364,_0x12d6d7)=>{const _0x512881=_0x584e22,_0x2ed44f=_0x1fa60a(_0x596e17['ContentType']['Media'],_0x12d6d7['id'],this['remoteId']);this[_0x512881(0x313)][_0x512881(0x680)](_0x2ed44f)?.['publish']({'topicLabel':_0x2ed44f,'sourceId':this[_0x512881(0x620)],'contentType':_0x596e17[_0x512881(0x7dd)]['Media'],'content':{'action':_0x294eae['RemoteAdd'],'track':_0x3f4364,'stream':_0x12d6d7,'providerId':this[_0x512881(0x620)]}});})),this['listenerUnsubscribers'][_0x584e22(0x6b8)](this[_0x584e22(0xb4b)]((_0x4f1d3b,_0x4ff431)=>{const _0x38e1df=_0x584e22,_0x33843b=_0x1fa60a(_0x596e17[_0x38e1df(0x7dd)][_0x38e1df(0x451)],_0x4ff431['id'],this['remoteId']);this[_0x38e1df(0x313)]['get'](_0x33843b)?.['publish']({'topicLabel':_0x33843b,'sourceId':this[_0x38e1df(0x620)],'contentType':_0x596e17[_0x38e1df(0x7dd)]['Media'],'content':{'action':_0x294eae[_0x38e1df(0x917)],'track':_0x4f1d3b,'stream':_0x4ff431,'providerId':this['remoteId']}});}));}['handleIceCandidates']({candidates:_0x2d89e0,origin:_0x49a00c,version:_0x23911b}){const _0x397e6d=_0x49e620;return _0x49a00c===_0xa5a731[_0x397e6d(0x69f)]?(this[_0x397e6d(0x70e)]||this[_0x397e6d(0x9d1)](),this['receiverConnection'][_0x397e6d(0x800)](_0x2d89e0,_0x23911b)):this[_0x397e6d(0x878)][_0x397e6d(0x800)](_0x2d89e0,_0x23911b);}async[_0x49e620(0x4fc)](){const _0x221148=_0x49e620;this[_0x221148(0x878)]||this[_0x221148(0x343)](),await this[_0x221148(0x878)][_0x221148(0x4fc)]();}async[_0x49e620(0x239)]({offer:_0x45def8,version:_0x2d3c7f}){const _0x126e7b=_0x49e620;this[_0x126e7b(0x70e)]||this['createReceiverConnection'](),await this[_0x126e7b(0x70e)][_0x126e7b(0x239)](_0x45def8,_0x2d3c7f);}async[_0x49e620(0x756)]({answer:_0x1aad36,version:_0x4f41e0}){const _0x76b59=_0x49e620;if(!this[_0x76b59(0x878)])throw new _0x44727e(_0x44727e[_0x76b59(0x849)][_0x76b59(0x38c)],{'message':'Sender\x20connection\x20is\x20not\x20initialized.','localId':this[_0x76b59(0x634)](),'remoteId':this['remoteId'],'answer':_0x1aad36});await this[_0x76b59(0x878)][_0x76b59(0x756)](_0x1aad36,_0x4f41e0);}['handleSuccess'](){const _0x1055ea=_0x49e620;if(!this[_0x1055ea(0x70e)])throw new _0x44727e(_0x44727e[_0x1055ea(0x849)][_0x1055ea(0x38c)],{'message':_0x1055ea(0x4db),'localId':this[_0x1055ea(0x634)](),'remoteId':this['remoteId']});this[_0x1055ea(0x70e)]['handleSuccess'](),this[_0x1055ea(0x449)]||this[_0x1055ea(0xa77)]!==_0xcf68f1[_0x1055ea(0x70c)]||(this['successNotified']=!0x0,this['systemTopic']?.[_0x1055ea(0x544)]({'sourceId':this[_0x1055ea(0x620)],'destinationIds':[this[_0x1055ea(0x634)]()],'messageType':_0x24f665[_0x1055ea(0x7ea)],'content':{'type':_0x364a36[_0x1055ea(0x80b)]}}));}[_0x49e620(0x330)](_0x507239){const _0x395f7c=_0x49e620;this['receiverConnection']||this[_0x395f7c(0x9d1)](),this[_0x395f7c(0x70e)][_0x395f7c(0x330)](_0x507239[_0x395f7c(0x50a)]);}[_0x49e620(0x343)](){const _0x18a8b4=_0x49e620;this['senderConnection']=new _0x3073ab(this['clusterId'],this[_0x18a8b4(0xaa8)],this[_0x18a8b4(0x620)],this['iceServers'],this[_0x18a8b4(0xa77)],this['maxFps'],this['maxBpp'],this['connectionConstructor']),this[_0x18a8b4(0x878)][_0x18a8b4(0xb51)](this[_0x18a8b4(0x321)]);}[_0x49e620(0x9d1)](){const _0x49a26f=_0x49e620;this[_0x49a26f(0x70e)]=new _0x375ea2(this['clusterId'],this['localNode'],this[_0x49a26f(0x620)],this[_0x49a26f(0xa94)],this['connectionType'],this[_0x49a26f(0x48e)]),this[_0x49a26f(0x70e)][_0x49a26f(0xb51)](this[_0x49a26f(0x321)]),this['receiverUnsubscribers'][_0x49a26f(0x6b8)](this[_0x49a26f(0x70e)][_0x49a26f(0x1c5)](_0x28cb21=>this[_0x49a26f(0xa99)][_0x49a26f(0x544)](_0x28cb21))),this[_0x49a26f(0x403)][_0x49a26f(0x6b8)](this[_0x49a26f(0x70e)][_0x49a26f(0x3e8)]((_0x1f1792,_0xe550bd)=>this[_0x49a26f(0x561)][_0x49a26f(0x544)]({'track':_0x1f1792,'stream':_0xe550bd}))),this[_0x49a26f(0x403)][_0x49a26f(0x6b8)](this[_0x49a26f(0x70e)]['onRemoveTrack']((_0x63d8c3,_0x5ce9ad)=>this['removeTrackListeners']['publish']({'track':_0x63d8c3,'stream':_0x5ce9ad})));}}class _0x8538e7{[_0x49e620(0x724)];[_0x49e620(0x798)];[_0x49e620(0x5c0)];['connections']=new Map();[_0x49e620(0xa99)]=_0x544609();['messageUnsubscriber'];[_0x49e620(0xa25)]=new Map();[_0x49e620(0x979)]=new Map();['retryQueues']=new Map();constructor(_0x258212,_0x4842f7,_0x574b13){const _0x11beca=_0x49e620;this[_0x11beca(0x724)]=_0x258212,this['messageBuffer']=_0x4842f7,this[_0x11beca(0x5c0)]=_0x574b13,this[_0x11beca(0x86b)]=this[_0x11beca(0x1c5)](_0x3a9ad0=>{const _0x2c5735=_0x11beca;this[_0x2c5735(0x798)][_0x2c5735(0xaaf)](_0x3a9ad0[_0x2c5735(0xa9c)])||(_0x2e7ac5(_0x3a9ad0,this['localId'])&&0x0!==_0x3a9ad0[_0x2c5735(0x448)]&&(this[_0x2c5735(0x798)][_0x2c5735(0xa86)](_0x3a9ad0[_0x2c5735(0xa9c)]),this[_0x2c5735(0xa25)]['get'](_0x3a9ad0['topicLabel'])?.[_0x2c5735(0x544)](_0x3a9ad0)),_0x3a9ad0[_0x2c5735(0x770)]&&this[_0x2c5735(0x201)](_0x3a9ad0));});}[_0x49e620(0x5c2)](){const _0x111e77=_0x49e620;this[_0x111e77(0x86b)]?.();}[_0x49e620(0x6c0)](_0x5a0461){const _0x578609=_0x49e620,_0x17117d=_0x5a0461[_0x578609(0x1c5)](_0xd0648c=>{const _0x19e847=_0x578609;this['messageListeners'][_0x19e847(0x544)](_0xd0648c);});this[_0x578609(0x506)][_0x578609(0x9fa)](_0x5a0461,_0x17117d),this[_0x578609(0x20c)][_0x578609(0x9fa)](_0x5a0461[_0x578609(0x6c5)](),function(_0x5245c0,_0x16dae8=!0x1){let _0x436443=new Map();const _0x41d4f2=_0x5c01e2(_0x5245c0,_0x16dae8,function(_0xfbeb71){const _0x27caf2=a0_0x2367;_0x4af6df(_0xfbeb71)&&_0x436443['delete'](_0xfbeb71[_0x27caf2(0x4b4)]+'-'+(_0xfbeb71[_0x27caf2(0x292)]??[])+'-'+_0xfbeb71[_0x27caf2(0x946)]+'-'+_0xfbeb71[_0x27caf2(0x4fe)]['type']);},function(_0x2728f6){return!!function(_0x1a87ee){const _0x184f9e=a0_0x2367,_0x20f5af=_0x1a87ee[_0x184f9e(0x3e3)];if(!_0x4af6df(_0x20f5af))return!0x1;const _0x49f52b=_0x20f5af['sourceId']+'-'+(_0x20f5af[_0x184f9e(0x292)]??[])+'-'+_0x20f5af[_0x184f9e(0x946)]+'-'+_0x20f5af[_0x184f9e(0x4fe)]['type'],_0x596831={'version':_0x20f5af['content'][_0x184f9e(0x50a)],'element':_0x1a87ee},_0x50103b=_0x436443[_0x184f9e(0x680)](_0x49f52b);return _0x50103b?(_0x50103b[_0x184f9e(0x50a)]>=_0x20f5af[_0x184f9e(0x4fe)][_0x184f9e(0x50a)]||(_0x50103b[_0x184f9e(0x8dd)][_0x184f9e(0xb00)]&&(_0x50103b[_0x184f9e(0x8dd)][_0x184f9e(0xb00)]['next']=_0x1a87ee,_0x1a87ee[_0x184f9e(0xb00)]=_0x50103b[_0x184f9e(0x8dd)][_0x184f9e(0xb00)]),_0x50103b[_0x184f9e(0x8dd)][_0x184f9e(0x66f)]&&(_0x50103b[_0x184f9e(0x8dd)][_0x184f9e(0x66f)]['previous']=_0x1a87ee,_0x1a87ee[_0x184f9e(0x66f)]=_0x50103b[_0x184f9e(0x8dd)][_0x184f9e(0x66f)]),_0x50103b['element']===_0x41d4f2[_0x184f9e(0x478)]&&(_0x41d4f2[_0x184f9e(0x478)]=_0x1a87ee),_0x50103b[_0x184f9e(0x8dd)]===_0x41d4f2['tail']&&(_0x41d4f2['tail']=_0x1a87ee),_0x436443[_0x184f9e(0x9fa)](_0x49f52b,_0x596831)),!0x0):(_0x436443[_0x184f9e(0x9fa)](_0x49f52b,_0x596831),!0x1);}(_0x2728f6);},function(){const _0x51cafa=a0_0x2367;_0x436443[_0x51cafa(0x9c6)]();});function _0x4af6df(_0x581f0d){const _0x16a428=a0_0x2367;if(_0x581f0d&&_0x16a428(0x30b)==typeof _0x581f0d&&_0x581f0d[_0x16a428(0xa65)]('content')&&_0x581f0d[_0x16a428(0xa65)](_0x16a428(0x946))&&_0x581f0d[_0x16a428(0xa65)](_0x16a428(0x4b4))){const _0x3aa501=_0x581f0d;if(_0x3aa501[_0x16a428(0x4fe)]&&_0x16a428(0x30b)==typeof _0x3aa501['content']&&_0x3aa501[_0x16a428(0x4fe)][_0x16a428(0xa65)]('version')&&_0x3aa501[_0x16a428(0x4fe)]['hasOwnProperty'](_0x16a428(0x70f)))return!0x0;}return!0x1;}return _0x41d4f2;}(new _0x431ba9(_0x57e82a=>_0x5a0461['send'](_0x57e82a),()=>_0x285f59['wait'](0x64))));}[_0x49e620(0x6ce)](_0x4c5bb5){const _0x221723=_0x49e620;this[_0x221723(0x506)][_0x221723(0x680)](_0x4c5bb5)?.(),this['connections'][_0x221723(0x55f)](_0x4c5bb5),this[_0x221723(0x20c)][_0x221723(0x680)](_0x4c5bb5['getRemoteId']())?.[_0x221723(0x9c6)](),this[_0x221723(0x20c)]['delete'](_0x4c5bb5[_0x221723(0x6c5)]());}[_0x49e620(0xb44)](_0x2577aa){const _0x5c852d=_0x49e620;return _0xb8b103[_0x5c852d(0xad5)](_0xad09e4[_0x5c852d(0x8e1)],_0x5c852d(0x3ec),this[_0x5c852d(0x724)],this['connections'][_0x5c852d(0x818)]()),0x0!==this['connections'][_0x5c852d(0x65a)]&&(Array[_0x5c852d(0x9cc)](this[_0x5c852d(0x506)][_0x5c852d(0x818)]())['find'](_0x4ebcab=>_0x4ebcab[_0x5c852d(0x6c5)]()===_0x2577aa)?.[_0x5c852d(0xb44)]()??!0x1);}['registerPublisher'](_0x2061a5){const _0x2dabc6=_0x49e620;this['dataTopics'][_0x2dabc6(0x9fa)](_0x2061a5[_0x2dabc6(0x227)](),_0x2061a5);}['unregisterPublisher'](_0x44b166){const _0x1d8cc7=_0x49e620;this[_0x1d8cc7(0xa25)][_0x1d8cc7(0x55f)](_0x44b166['getLabel']());}[_0x49e620(0x733)](_0x2cf13e){const _0x1ae1bc=_0x49e620,_0x3adf1b=_0x2cf13e[_0x1ae1bc(0xa34)](this[_0x1ae1bc(0x201)][_0x1ae1bc(0x6e2)](this));this[_0x1ae1bc(0x979)][_0x1ae1bc(0x9fa)](_0x2cf13e[_0x1ae1bc(0x227)](),_0x3adf1b);}[_0x49e620(0x22a)](_0x20a711){const _0x260f4b=_0x49e620;this[_0x260f4b(0x979)][_0x260f4b(0x680)](_0x20a711[_0x260f4b(0x227)]())?.(),this[_0x260f4b(0x979)][_0x260f4b(0x55f)](_0x20a711[_0x260f4b(0x227)]());}['getSupportedContentTypes'](){const _0x1520ca=_0x49e620;return[_0x596e17[_0x1520ca(0x7dd)][_0x1520ca(0x6cd)],_0x596e17[_0x1520ca(0x7dd)]['PubSub'],_0x596e17[_0x1520ca(0x7dd)][_0x1520ca(0x7f2)],_0x596e17[_0x1520ca(0x7dd)][_0x1520ca(0x35a)],_0x596e17['ContentType']['Job'],_0x596e17['ContentType'][_0x1520ca(0x773)],_0x596e17['ContentType']['GraphDatabase'],_0x596e17[_0x1520ca(0x7dd)][_0x1520ca(0x5ee)]];}['send'](_0x42cf41){const _0x431565=_0x49e620;if(!0x1===_0x42cf41[_0x431565(0x6be)]){if(_0x42cf41['propagate']||!_0x42cf41[_0x431565(0x292)]||0x1!==_0x42cf41[_0x431565(0x292)][_0x431565(0x8bc)])throw new _0x44727e(_0x44727e[_0x431565(0x849)]['ConnectionInvalidDataEvent'],{'message':_0x431565(0xb52),'localId':this[_0x431565(0x724)]});if(!this['isConnected'](_0x42cf41[_0x431565(0x292)][0x0]))throw new _0x1a0753(_0x431565(0x73c));}const _0x158d3f=_0x42cf41[_0x431565(0x3aa)]??[];try{const {filteredDestinationIds:_0x55edd3,extendedRecipients:_0x46efa9}=this[_0x431565(0x32a)](_0x42cf41,_0x158d3f);_0x42cf41[_0x431565(0x292)]=_0x55edd3,_0x42cf41[_0x431565(0x3aa)]=_0x46efa9;}catch(_0x50ace3){if(_0x50ace3 instanceof _0x1a0753)return void _0xb8b103[_0x431565(0xad5)](_0xad09e4['Connection'],_0x431565(0x440),_0x431565(0x6f3),_0x42cf41,_0x50ace3[_0x431565(0x977)]);}const _0x6fd4c9=this[_0x431565(0x68f)](_0x42cf41);this[_0x431565(0x643)](_0x42cf41,_0x6fd4c9),_0x42cf41[_0x431565(0x770)]=_0x6fd4c9;const _0x45ebf6=this[_0x431565(0x64a)](_0x42cf41,_0x158d3f);for(const _0x363827 of _0x45ebf6){const _0x577ecc=this[_0x431565(0x20c)][_0x431565(0x680)](_0x363827[_0x431565(0x6c5)]());if(!_0x577ecc)throw new _0x44727e(_0x44727e[_0x431565(0x849)][_0x431565(0x5ba)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0x431565(0x724)],'remoteId':_0x363827[_0x431565(0x6c5)](),'data':_0x42cf41});_0x577ecc[_0x431565(0x6b8)](_0x42cf41);}}[_0x49e620(0x6c5)](){return'';}['getLocalId'](){const _0x55f208=_0x49e620;return this[_0x55f208(0x724)];}['onMessage'](_0x312821){const _0x4ab4b9=_0x49e620;return this[_0x4ab4b9(0xa99)][_0x4ab4b9(0xa34)](_0x312821);}[_0x49e620(0x32a)](_0x4c2bfc,_0x103902){const _0x51fddf=_0x49e620,_0x4161eb={'filteredDestinationIds':_0x4c2bfc[_0x51fddf(0x292)],'extendedRecipients':_0x4c2bfc[_0x51fddf(0x3aa)]};if(!_0x4c2bfc[_0x51fddf(0x770)])return _0x4161eb;const _0x56c7eb=Array['from'](this[_0x51fddf(0x506)][_0x51fddf(0x818)]())[_0x51fddf(0x9e5)](_0xd3d85c=>_0xd3d85c['getConnectionType']()===_0xcf68f1[_0x51fddf(0x622)]||_0xd3d85c[_0x51fddf(0xb44)]())[_0x51fddf(0x3bb)](_0x540566=>_0x540566[_0x51fddf(0x6c5)]());if(_0x56c7eb['reduce']((_0x36c962,_0x4abda6)=>_0x36c962&&_0x4c2bfc[_0x51fddf(0x3aa)][_0x51fddf(0x2ef)](_0x4abda6),!0x0))throw new _0x1a0753(_0x51fddf(0x393));if(_0x4c2bfc[_0x51fddf(0x292)]){const _0x1bb343=_0x4c2bfc['destinationIds']['filter'](_0x10b331=>_0x10b331!==this[_0x51fddf(0x724)]&&!_0x4c2bfc[_0x51fddf(0x3aa)][_0x51fddf(0x2ef)](_0x10b331));if(0x0===_0x1bb343[_0x51fddf(0x8bc)])throw new _0x1a0753(_0x51fddf(0x7e5));_0x4161eb[_0x51fddf(0x82b)]=_0x1bb343;}return _0x4161eb[_0x51fddf(0x555)]=[...new Set([..._0x103902,..._0x56c7eb,this['localId']])],_0x4161eb;}[_0x49e620(0x643)](_0x4a30ee,_0x156a15=!0x1){const _0x96f34b=_0x49e620;if(0x0===_0x4a30ee[_0x96f34b(0x448)]&&!_0x1a4b8b(_0x4a30ee,this['localId'])&&_0x4a30ee[_0x96f34b(0x770)]){const _0x543001=_0x39d429(_0x4a30ee,this[_0x96f34b(0x724)]);_0xb8b103[_0x96f34b(0x4e0)](_0xad09e4['System'],_0x4a30ee[_0x96f34b(0xa9c)]+'\x20-\x20Sending\x20propagation\x20('+_0x156a15+')\x20'+_0x543001,_0x4a30ee,_0x156a15);}}[_0x49e620(0x68f)](_0x5caaff){const _0x557fa3=_0x49e620;if(_0x5caaff[_0x557fa3(0x292)]&&_0x5caaff[_0x557fa3(0x770)]){const _0x598ef7=Array[_0x557fa3(0x9cc)](this[_0x557fa3(0x506)][_0x557fa3(0x818)]())['filter'](_0x46a8f4=>_0x46a8f4['getConnectionType']()===_0xcf68f1[_0x557fa3(0x622)]||_0x46a8f4['isConnected']())[_0x557fa3(0x3bb)](_0xf136ca=>_0xf136ca[_0x557fa3(0x6c5)]());return!_0x5caaff[_0x557fa3(0x292)][_0x557fa3(0x824)]((_0x296f1d,_0x728bcc)=>_0x296f1d&&_0x598ef7['includes'](_0x728bcc),!0x0);}return _0x5caaff[_0x557fa3(0x770)]??!0x1;}['getConnectionDestinations'](_0xae2488,_0x6e046d){const _0x4982b8=_0x49e620;if(_0xae2488[_0x4982b8(0x770)]&&_0xae2488[_0x4982b8(0x292)]){const _0xa43b58=Array['from'](this[_0x4982b8(0x506)]['keys']())[_0x4982b8(0x9e5)](_0x65ab2e=>_0x65ab2e[_0x4982b8(0x8a9)]()===_0xcf68f1['Core']||_0x65ab2e[_0x4982b8(0xb44)]())['map'](_0x4d5722=>_0x4d5722['getRemoteId']()),_0x49b41d=new Set(),_0x266090=_0xae2488[_0x4982b8(0x4b4)]===this[_0x4982b8(0x724)]?0x3:0x1;return _0xae2488[_0x4982b8(0x292)][_0x4982b8(0x49b)](_0x592fc7=>{const _0x25df9f=_0x4982b8,_0x5dc9d5=this['graphService'][_0x25df9f(0x252)](_0xa43b58,_0x592fc7);let _0x128599=0x0,_0x209b55=0x0;_0x5dc9d5[_0x25df9f(0x49b)](_0x21dda2=>{const _0x4385ff=_0x25df9f;if(_0x128599>=_0x266090)return;const _0x4eb8b5=Array[_0x4385ff(0x9cc)](this[_0x4385ff(0x506)][_0x4385ff(0x818)]())[_0x4385ff(0x94a)](_0x565131=>_0x565131['getRemoteId']()===_0x21dda2);if(_0x4eb8b5){if(_0x4eb8b5[_0x4385ff(0x8a9)]()===_0xcf68f1[_0x4385ff(0x622)]&&_0x209b55>0x0)return void(_0x209b55-=0x1);_0x49b41d[_0x4385ff(0x554)](_0x4eb8b5),_0x4eb8b5[_0x4385ff(0x8a9)]()===_0xcf68f1[_0x4385ff(0x70c)]&&(_0x209b55+=0x1),_0x128599+=0x1;}});}),Array['from'](_0x49b41d);}return Array[_0x4982b8(0x9cc)](this[_0x4982b8(0x506)][_0x4982b8(0x818)]())['filter'](_0x28bf8a=>{const _0x193b60=_0x4982b8;return _0x18a428=_0x28bf8a[_0x193b60(0x6c5)](),!_0x6e046d[_0x193b60(0x2ef)](_0x18a428)&&(_0x2e7ac5(_0xae2488,_0x18a428)||_0xae2488[_0x193b60(0x770)])&&(!_0xae2488[_0x193b60(0x770)]||_0x28bf8a[_0x193b60(0xb44)]()||_0x28bf8a['getConnectionType']()===_0xcf68f1[_0x193b60(0x622)]);var _0x18a428;});}}class _0x4c17d6{[_0x49e620(0x724)];[_0x49e620(0x798)];[_0x49e620(0x506)]=new Map();['systemTopic'];constructor(_0x24f215,_0xe67615){const _0x15a835=_0x49e620;this[_0x15a835(0x724)]=_0x24f215,this[_0x15a835(0x798)]=_0xe67615;}['close'](){}[_0x49e620(0x201)](_0x3f2c7d){const _0x2c010e=_0x49e620;for(const _0x57b4e3 of this['connections'][_0x2c010e(0x818)]())try{return void _0x57b4e3[_0x2c010e(0x201)]({'retry':!0x1,..._0x3f2c7d});}catch(_0x1a7379){_0x1a7379 instanceof _0x1a0753||_0xb8b103[_0x2c010e(0xad5)](_0xad09e4['Pool'],_0x2c010e(0x9ac)+_0x57b4e3,_0x1a7379,_0x3f2c7d);}_0xb8b103[_0x2c010e(0xad5)](_0xad09e4[_0x2c010e(0x3e4)],'No\x20connections\x20available\x20to\x20send\x20message');}[_0x49e620(0x6c0)](_0xc6870d){const _0x16acb6=_0x49e620,_0x4347be=_0xc6870d['onMessage'](_0x59de36=>{const _0x50a799=a0_0x2367;this[_0x50a799(0x798)][_0x50a799(0xaaf)](_0x59de36['uuid'])||0x0===_0x59de36[_0x50a799(0x448)]&&(this['messageBuffer'][_0x50a799(0xa86)](_0x59de36[_0x50a799(0xa9c)]),_0x2e7ac5(_0x59de36,this['localId'])&&this['systemTopic']?.['publish'](_0x59de36));});this['connections'][_0x16acb6(0x9fa)](_0xc6870d,_0x4347be);}[_0x49e620(0x6ce)](_0x1b95d0){const _0x3dcae7=_0x49e620;this[_0x3dcae7(0x506)][_0x3dcae7(0x680)](_0x1b95d0)?.(),this['connections'][_0x3dcae7(0x55f)](_0x1b95d0);}['getLocalId'](){const _0xdb2c00=_0x49e620;return this[_0xdb2c00(0x724)];}[_0x49e620(0x6c5)](){return'';}[_0x49e620(0xa2e)](){const _0x3bbd8e=_0x49e620;return[_0x596e17[_0x3bbd8e(0x7dd)][_0x3bbd8e(0x6cd)]];}[_0x49e620(0xb44)](){const _0x1e1297=_0x49e620;throw new Error(_0x1e1297(0x368));}[_0x49e620(0xb51)](_0x45cd0c){const _0x5b6754=_0x49e620;this[_0x5b6754(0x321)]=_0x45cd0c;}[_0x49e620(0xa6a)](){delete this['systemTopic'];}}class _0x2af770{[_0x49e620(0x6e6)]=new Map();[_0x49e620(0xa1b)];constructor(){const _0x38f266=_0x49e620;this['unsubscribeHandler']=_0x285f59[_0x38f266(0x863)](()=>{const _0x2424ba=_0x38f266;for(const [_0x1d8919,_0x25a699]of this[_0x2424ba(0x6e6)][_0x2424ba(0xa33)]())Date['now']()-_0x25a699>0x124f80&&this[_0x2424ba(0x6e6)][_0x2424ba(0x55f)](_0x1d8919);},0x1d4c0);}[_0x49e620(0x5c2)](){const _0x1ff18a=_0x49e620;this[_0x1ff18a(0xa1b)]();}[_0x49e620(0xa86)](_0x5f21bd){const _0x57e608=_0x49e620;this[_0x57e608(0x6e6)]['set'](_0x5f21bd,Date[_0x57e608(0x4e4)]());}[_0x49e620(0xaaf)](_0x3cdcfc){const _0x1cbd71=_0x49e620;return this[_0x1cbd71(0x6e6)][_0x1cbd71(0x29d)](_0x3cdcfc);}}class _0x3cadb4{[_0x49e620(0x720)];[_0x49e620(0x835)];[_0x49e620(0xa94)];[_0x49e620(0x8d3)];['connections']=new Map();[_0x49e620(0xaf1)];[_0x49e620(0x913)];['signalingServer'];[_0x49e620(0x798)];constructor(_0x5ec5a8,_0x1a3107,_0x3e260f,_0x586df0,_0x554eda){const _0x342e6e=_0x49e620;this['configs']=_0x5ec5a8,this[_0x342e6e(0x835)]=_0x1a3107,this[_0x342e6e(0xa94)]=_0x586df0,this[_0x342e6e(0x8d3)]=_0x554eda,this[_0x342e6e(0x798)]=new _0x2af770(),this['connectionGroup']=new _0x8538e7(this[_0x342e6e(0x720)][_0x342e6e(0xaa8)]['getId'](),this[_0x342e6e(0x798)],_0x3e260f),this['signalingServer']=new _0x2866d2(this[_0x342e6e(0x720)][_0x342e6e(0x2e6)],this['configs'][_0x342e6e(0x4a0)],this[_0x342e6e(0x720)][_0x342e6e(0xaa8)],_0x342e6e(0x848),this[_0x342e6e(0x835)]),this[_0x342e6e(0xaf1)]=new _0x4c17d6(this[_0x342e6e(0x720)][_0x342e6e(0xaa8)]['getId'](),this[_0x342e6e(0x798)]),this[_0x342e6e(0xaf1)]['addConnection'](this['connectionGroup']),this[_0x342e6e(0xaf1)][_0x342e6e(0x6c0)](this[_0x342e6e(0x980)]),this['configs'][_0x342e6e(0x63b)][_0x342e6e(0x7c2)](this[_0x342e6e(0xaf1)]);}['close'](){const _0x91f522=_0x49e620;this['messageBuffer'][_0x91f522(0x5c2)](),this['connections']['forEach']((_0x145c2e,_0xb757c)=>this['closeConnection'](_0xb757c)),this[_0x91f522(0x720)]['mediator'][_0x91f522(0x3fd)](this[_0x91f522(0xaf1)]),this[_0x91f522(0xaf1)][_0x91f522(0x6ce)](this[_0x91f522(0x980)]),this['connectionPool'][_0x91f522(0x6ce)](this['connectionGroup']),this[_0x91f522(0xaf1)]['close'](),this[_0x91f522(0x980)][_0x91f522(0x5c2)](),this[_0x91f522(0x913)][_0x91f522(0x5c2)]();}async[_0x49e620(0x8ee)](){const _0x237c59=_0x49e620;await this[_0x237c59(0x980)][_0x237c59(0x39e)]();}async['createConnection'](_0x383ff9,_0x4cc51b=_0xcf68f1[_0x49e620(0x622)]){const _0x1628ca=_0x49e620;if(this['connections'][_0x1628ca(0x29d)](_0x383ff9)){if(this[_0x1628ca(0x506)][_0x1628ca(0x680)](_0x383ff9)?.['getConnectionType']()===_0xcf68f1[_0x1628ca(0x70c)]&&_0x4cc51b===_0xcf68f1['Core'])return void this[_0x1628ca(0x506)]['get'](_0x383ff9)?.['setConnectionType'](_0xcf68f1[_0x1628ca(0x622)]);throw new _0x44727e(_0x44727e[_0x1628ca(0x849)]['RemoteConnectionExists'],{'localId':this['configs'][_0x1628ca(0xaa8)]['getId'](),'remoteId':_0x383ff9});}const _0x2202ca=new _0x597a40(this[_0x1628ca(0x720)][_0x1628ca(0x4a0)],this['configs']['localNode'],_0x383ff9,this[_0x1628ca(0xa94)],_0x4cc51b,this[_0x1628ca(0x8d3)][_0x1628ca(0xb56)],this[_0x1628ca(0x8d3)]['maxBpp'],this[_0x1628ca(0x8d3)]['peerConnectionConnector']);this[_0x1628ca(0x506)][_0x1628ca(0x9fa)](_0x383ff9,_0x2202ca),this[_0x1628ca(0x913)][_0x1628ca(0x6c0)](_0x2202ca),this[_0x1628ca(0x720)]['mediator'][_0x1628ca(0x7c2)](_0x2202ca),this['configs']['mediator'][_0x1628ca(0x346)](_0x383ff9),await _0x2202ca[_0x1628ca(0x39e)]();}[_0x49e620(0x661)](){return this['connectionGroup'];}['getConnection'](_0x56d6d1){const _0x33cfb4=_0x49e620;if(!this[_0x33cfb4(0x506)][_0x33cfb4(0x29d)](_0x56d6d1))throw new _0x44727e(_0x44727e[_0x33cfb4(0x849)][_0x33cfb4(0x5c4)],{'localId':this[_0x33cfb4(0x720)][_0x33cfb4(0xaa8)]['getId'](),'remoteId':_0x56d6d1});return this[_0x33cfb4(0x506)][_0x33cfb4(0x680)](_0x56d6d1);}[_0x49e620(0xa03)](_0x3beaf8){const _0x20ee46=_0x49e620,_0x29fcfa=Array[_0x20ee46(0x9cc)](this[_0x20ee46(0x506)][_0x20ee46(0x66b)]());return _0x3beaf8?_0x29fcfa[_0x20ee46(0x9e5)](_0x3beaf8):_0x29fcfa;}async[_0x49e620(0x570)](_0x54ea15){const _0x212597=_0x49e620,_0x3fa71e=this[_0x212597(0x506)][_0x212597(0x680)](_0x54ea15);_0x3fa71e&&_0x3fa71e[_0x212597(0xb44)]()&&await _0x3fa71e[_0x212597(0x570)]();}[_0x49e620(0x5a5)](_0x505050){const _0x31b1b0=_0x49e620;if(_0x505050[_0x31b1b0(0x946)]!==_0x24f665[_0x31b1b0(0x7ea)]||_0x505050[_0x31b1b0(0x770)])try{this[_0x31b1b0(0x913)][_0x31b1b0(0x201)](_0x505050);}catch(_0x8d971a){if(_0x8d971a instanceof _0x1a0753)return;throw _0x8d971a;}else this[_0x31b1b0(0xaf1)][_0x31b1b0(0x201)](_0x505050);}async[_0x49e620(0x7f3)](_0x1eea89){const _0x44f98c=_0x49e620;switch(_0x1eea89[_0x44f98c(0x4fe)][_0x44f98c(0x70f)]){case _0x364a36['Disconnect']:case _0x364a36[_0x44f98c(0x1f9)]:case _0x364a36[_0x44f98c(0x80b)]:return;}if(!_0x1eea89[_0x44f98c(0x292)]||0x1!==_0x1eea89[_0x44f98c(0x292)][_0x44f98c(0x8bc)])throw new _0x44727e(_0x44727e['codes']['PeerConnectionInvalidDestination'],{'message':_0x44f98c(0x41e),'event':_0x1eea89});if(_0x1eea89['destinationIds'][0x0]!==this[_0x44f98c(0x720)][_0x44f98c(0xaa8)][_0x44f98c(0x27e)]())throw new _0x44727e(_0x44727e[_0x44f98c(0x849)]['PeerConnectionInvalidDestination'],{'message':_0x44f98c(0x35d),'event':_0x1eea89});if(!this[_0x44f98c(0x506)]['has'](_0x1eea89[_0x44f98c(0x4b4)])){let _0x599483=_0xcf68f1[_0x44f98c(0x622)];if(!(this[_0x44f98c(0x2b7)](_0x1eea89['content'])||this[_0x44f98c(0x223)](_0x1eea89[_0x44f98c(0x4fe)])||this[_0x44f98c(0x9de)](_0x1eea89[_0x44f98c(0x4fe)])))return;_0x599483=_0x1eea89[_0x44f98c(0x4fe)][_0x44f98c(0xa77)],await this['createConnection'](_0x1eea89[_0x44f98c(0x4b4)],_0x599483);}const _0x232c12=this[_0x44f98c(0x506)][_0x44f98c(0x680)](_0x1eea89[_0x44f98c(0x4b4)]);await _0x232c12['handlePeerConnectionSystemEvents'](_0x1eea89);}['handleRemediationSystemEvents'](_0x2de0f7){const _0x3b7519=_0x49e620;if(_0x2de0f7[_0x3b7519(0x4fe)]['type']===_0x5f5d86[_0x3b7519(0x34c)]){if(_0x2de0f7[_0x3b7519(0x4fe)][_0x3b7519(0x4a4)]===this[_0x3b7519(0x720)][_0x3b7519(0xaa8)]['getId']())return void this['connections'][_0x3b7519(0x49b)](_0x466488=>_0x466488[_0x3b7519(0x3d0)](_0x2de0f7));this[_0x3b7519(0x506)]['get'](_0x2de0f7[_0x3b7519(0x4fe)]['targetId'])?.['handleRemediationSystemEvents'](_0x2de0f7);}}[_0x49e620(0x3d5)]({content:_0x8ae46c}){const _0x1585e5=_0x49e620;_0x8ae46c['type']===_0x33a688['NodeLeave']&&this[_0x1585e5(0xb0d)](_0x8ae46c['id']);}[_0x49e620(0x50c)](){const _0x421cf5=_0x49e620,_0x4dc522=Array['from'](this['connections'][_0x421cf5(0x66b)]())[_0x421cf5(0x824)]((_0x20d8f0,_0x55cae0)=>_0x20d8f0+_0x55cae0[_0x421cf5(0x6a4)](),0x0);return _0x4dc522<_0x56a821?Promise['resolve'](_0x4dc522):new Promise(_0x149946=>{const _0x3880bb=setInterval(()=>{const _0x1ee0f5=a0_0x2367,_0x1b1913=Array['from'](this[_0x1ee0f5(0x506)][_0x1ee0f5(0x66b)]())[_0x1ee0f5(0x824)]((_0x21c25d,_0x126437)=>_0x21c25d+_0x126437['calculateArrayBufferSize'](),0x0);_0x1b1913<_0x56a821&&(clearInterval(_0x3880bb),_0x149946(_0x1b1913));},0x3e8);});}['hasBufferedData'](){const _0x20295b=_0x49e620;for(const _0x446b20 of this[_0x20295b(0x506)][_0x20295b(0x66b)]())if(_0x446b20[_0x20295b(0xa61)]()>0x0||_0x446b20[_0x20295b(0x6a4)]()>0x0)return!0x0;return!0x1;}['closeConnection'](_0x56942e){const _0x5ea151=_0x49e620,_0x560cbd=this[_0x5ea151(0x506)]['get'](_0x56942e);_0x560cbd&&(this[_0x5ea151(0x720)][_0x5ea151(0x63b)][_0x5ea151(0x4d6)](_0x56942e),this['configs'][_0x5ea151(0x63b)][_0x5ea151(0x3fd)](_0x560cbd),_0x560cbd instanceof _0x597a40&&this[_0x5ea151(0x913)][_0x5ea151(0x6ce)](_0x560cbd),_0x560cbd[_0x5ea151(0x5c2)](),this[_0x5ea151(0x506)]['delete'](_0x56942e));}[_0x49e620(0x2b7)](_0x315201){const _0x39abcb=_0x49e620;return _0x315201[_0x39abcb(0x70f)]===_0x364a36[_0x39abcb(0x88f)];}[_0x49e620(0x9de)](_0x391ece){const _0x45dc1b=_0x49e620;return _0x391ece[_0x45dc1b(0x70f)]===_0x364a36[_0x45dc1b(0x668)];}['isIceCandidate'](_0x2c2263){const _0x24eb7d=_0x49e620;return _0x2c2263[_0x24eb7d(0x70f)]===_0x364a36[_0x24eb7d(0x8f5)];}}!function(_0xaaa19b){const _0x2e6936=_0x49e620;_0xaaa19b[_0xaaa19b[_0x2e6936(0x454)]=0x0]=_0x2e6936(0x454),_0xaaa19b[_0xaaa19b['UpdateMediaStream']=0x1]=_0x2e6936(0x3a6),_0xaaa19b[_0xaaa19b['UnsubscribeMediaStream']=0x2]=_0x2e6936(0x334),_0xaaa19b[_0xaaa19b['NeedMediaStream']=0x3]=_0x2e6936(0x1e6),_0xaaa19b[_0xaaa19b[_0x2e6936(0x73e)]=0x4]=_0x2e6936(0x73e),_0xaaa19b[_0xaaa19b[_0x2e6936(0x43b)]=0x5]=_0x2e6936(0x43b),_0xaaa19b[_0xaaa19b[_0x2e6936(0x850)]=0x6]=_0x2e6936(0x850),_0xaaa19b[_0xaaa19b[_0x2e6936(0x1c6)]=0x7]=_0x2e6936(0x1c6);}(_0x5afa9d||(_0x5afa9d={}));class _0x50c1d4 extends _0x2cad14{[_0x49e620(0xaa8)];[_0x49e620(0x4a0)];[_0x49e620(0x2e6)];[_0x49e620(0x65f)];[_0x49e620(0x83f)];[_0x49e620(0xad7)]=0x0;['connector'];[_0x49e620(0x34b)]=_0x544609();[_0x49e620(0x870)]=new Map();[_0x49e620(0x3b2)];constructor(_0x2b8a1a,_0x339ebb,_0x480868,_0x265a0b,_0x5d9f81){const _0x21fe82=_0x49e620;if('string'!=typeof _0x339ebb)throw new _0x2c2152(_0x3608be[_0x21fe82(0x2a9)],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x2b8a1a,_0x339ebb),this[_0x21fe82(0xaa8)]=_0x2b8a1a,this['clusterId']=_0x480868,this['vendorId']=_0x265a0b,this[_0x21fe82(0x65f)]=_0x5d9f81,this['sendStats']();}['destroy'](){const _0x3407b2=_0x49e620;this[_0x3407b2(0x3b2)]?.(),this['listenerUnsubscribers'][_0x3407b2(0x49b)](_0x2aad12=>_0x2aad12()),clearTimeout(this[_0x3407b2(0x83f)]),delete this['debounceStats'],super[_0x3407b2(0x1d5)]();}[_0x49e620(0x8a0)](){const _0x1420c1=_0x49e620;this[_0x1420c1(0x61d)]();}[_0x49e620(0x5c2)](){const _0x56caa4=_0x49e620;this[_0x56caa4(0x321)][_0x56caa4(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x56caa4(0x303)],'content':{'type':_0xbc0bd6[_0x56caa4(0x9e0)],'label':this['label']}});}[_0x49e620(0x9e2)](){const _0x4241dc=_0x49e620;return _0x596e17[_0x4241dc(0x7dd)][_0x4241dc(0x5ee)];}async[_0x49e620(0x680)](_0xeeb619){const _0x13d440=_0x49e620;if(!this[_0x13d440(0xb36)])throw new _0x2c2152(_0x3608be[_0x13d440(0x297)],'Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected');_0xb8b103[_0x13d440(0x5d3)](_0x474c1d[_0x13d440(0x5ee)],{'type':_0x13d440(0x680),'label':this[_0x13d440(0x73a)],'nodeId':this[_0x13d440(0xaa8)][_0x13d440(0x27e)](),'nodeType':this['localNode'][_0x13d440(0x70f)],'clusterId':this[_0x13d440(0x4a0)],'path':_0xeeb619}),this['reads']+=0x1,this[_0x13d440(0x61d)]();try{return await this['connector'][_0x13d440(0x680)](_0xeeb619);}catch(_0x48b1dc){throw new _0x2c2152(_0x3608be[_0x13d440(0xa8f)],'Cannot\x20get\x20file:\x20'+_0xeeb619);}}async[_0x49e620(0x463)](_0x299f18,_0x5ade8b){const _0x6e65eb=_0x49e620;if(!this[_0x6e65eb(0xb36)])throw new _0x2c2152(_0x3608be[_0x6e65eb(0x297)],_0x6e65eb(0x871));const {recursive:_0x16d0e8=!0x1}=_0x5ade8b??{};_0xb8b103[_0x6e65eb(0x5d3)](_0x474c1d[_0x6e65eb(0x5ee)],{'type':_0x6e65eb(0x463),'label':this[_0x6e65eb(0x73a)],'nodeId':this[_0x6e65eb(0xaa8)][_0x6e65eb(0x27e)](),'nodeType':this['localNode'][_0x6e65eb(0x70f)],'clusterId':this[_0x6e65eb(0x4a0)],'path':_0x299f18}),this[_0x6e65eb(0xad7)]+=0x1,this[_0x6e65eb(0x61d)]();try{return await this[_0x6e65eb(0xb36)][_0x6e65eb(0x463)](_0x299f18,_0x16d0e8);}catch(_0x4b948d){throw new _0x2c2152(_0x3608be[_0x6e65eb(0xa8f)],_0x6e65eb(0x3a0)+_0x299f18);}}[_0x49e620(0xa34)](_0x4f28c2,_0x3ccfe3){const _0x177239=_0x49e620;if(this[_0x177239(0x870)]['has'](_0x4f28c2))throw new _0x2c2152(_0x3608be[_0x177239(0xa4a)],_0x177239(0x7f8));this[_0x177239(0x870)][_0x177239(0x9fa)](_0x4f28c2,this[_0x177239(0x34b)][_0x177239(0xa34)](_0x3ccfe3));}[_0x49e620(0x2aa)](_0x5f86a){const _0x28d9b2=_0x49e620;this[_0x28d9b2(0x870)][_0x28d9b2(0x680)](_0x5f86a)?.(),this['listenerUnsubscribers']['delete'](_0x5f86a);}async['open'](){const _0x16562d=_0x49e620,_0x4ccfd6=(await(0x0,_0x3e7f37[_0x16562d(0xb5a)])((0x0,_0x3e7f37[_0x16562d(0x98c)])(_0xfa2cd[_0x16562d(0x5d4)](),_0x16562d(0x410)+this['vendorId']+'/resources/external-storage/items/'+this[_0x16562d(0x73a)])))[_0x16562d(0x7b6)]();if(!_0x4ccfd6)throw new _0x2c2152(_0x3608be['ExternalStorageConnectionDoesNotExist'],_0x16562d(0xa84)+this['label']);const {site:_0xf4f4e4,drive:_0x4836a6}=_0x4ccfd6,_0x51d8a5=(await(0x0,_0x3b27d3['httpsCallable'])(_0xfa2cd[_0x16562d(0x699)](),_0x16562d(0x87c))({'storageId':this[_0x16562d(0x73a)]}))[_0x16562d(0x7b6)][_0x16562d(0x2d4)];this[_0x16562d(0xb36)]=new this['connectorConstructor'](_0xf4f4e4['id'],_0x4836a6['id'],_0x51d8a5,async()=>(await(0x0,_0x3b27d3[_0x16562d(0xa08)])(_0xfa2cd[_0x16562d(0x699)](),_0x16562d(0x693))({'storageId':this[_0x16562d(0x73a)]}))[_0x16562d(0x7b6)]['accessToken']),this['trackChanges']();}['sendStats'](){const _0x29de02=_0x49e620;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x29de02(0x83f)]=setTimeout(async()=>{const _0x45519c=_0x29de02;delete this[_0x45519c(0x83f)],this[_0x45519c(0x321)]['publish']({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x45519c(0x303)],'content':{'type':_0xbc0bd6[_0x45519c(0x3fb)],'label':this[_0x45519c(0x73a)],'stats':{'timestamp':Date[_0x45519c(0x4e4)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0x4f3413);}async[_0x49e620(0x62d)](){const _0x219759=_0x49e620;await this[_0x219759(0xb36)]?.['listChanges'](),this['changesUnsubscriber']=_0x285f59[_0x219759(0x863)](async()=>{const _0x21f5b8=_0x219759;try{if(!this['connector'])return;const _0x453a51=await this[_0x21f5b8(0xb36)][_0x21f5b8(0xab1)]();for(const _0x5eff8d of _0x453a51)this[_0x21f5b8(0x34b)][_0x21f5b8(0x544)](_0x5eff8d);}catch(_0x1f8483){}},0x493e0);}}const _0xce3ec1=require('rxjs');class _0x3c564f extends _0x2cad14{[_0x49e620(0x5c0)];[_0x49e620(0xa14)]=new Map();[_0x49e620(0x517)]=new Map();[_0x49e620(0x81d)]=new Map();['unsubscribeHandler'];constructor(_0x4cfede,_0x1bd2aa,_0x557bde){const _0x102a6c=_0x49e620;super(_0x4cfede,_0x1bd2aa),this[_0x102a6c(0x5c0)]=_0x557bde;}[_0x49e620(0x9e2)](){const _0x4a5234=_0x49e620;return _0x596e17[_0x4a5234(0x7dd)][_0x4a5234(0x80c)];}[_0x49e620(0x73d)](){const _0x1aaebc=_0x49e620;this['unsubscribeHandler']=this[_0x1aaebc(0x1c5)]((_0x410f10,_0xcf505b)=>{const _0xd2fe97=_0x1aaebc;if(_0xb8b103[_0xd2fe97(0xad5)](_0xad09e4[_0xd2fe97(0x3a3)],_0xd2fe97(0x338),_0x410f10,_0xcf505b,this['graphService'][_0xd2fe97(0x95b)]()),!(_0xcf505b instanceof File)){if(!_0xcf505b)throw new _0x44727e(_0x44727e[_0xd2fe97(0x849)][_0xd2fe97(0x911)]);return this[_0xd2fe97(0x9ad)](_0xcf505b)?this[_0xd2fe97(0x7cf)](_0x410f10,_0xcf505b['id'],_0xcf505b):this[_0xd2fe97(0x3ce)](_0xcf505b)?(_0xb8b103[_0xd2fe97(0xad5)](_0xad09e4[_0xd2fe97(0x3a3)],'Job\x20'+_0xcf505b['id']+'\x20received\x20partial\x20result:',_0xcf505b[_0xd2fe97(0x3c3)]),void this[_0xd2fe97(0x8f3)](_0xcf505b['id'],_0xcf505b)):this['isResultResponse'](_0xcf505b)?(_0xb8b103[_0xd2fe97(0xad5)](_0xad09e4[_0xd2fe97(0x3a3)],_0xd2fe97(0x96e)+_0xcf505b['id']+_0xd2fe97(0x471),_0xcf505b[_0xd2fe97(0x3c3)]),void this[_0xd2fe97(0x4a6)](_0xcf505b['id'],_0xcf505b)):void(this[_0xd2fe97(0x475)](_0xcf505b)&&this['failJob'](_0xcf505b['id'],_0xcf505b[_0xd2fe97(0x977)]));}});}[_0x49e620(0x8a0)](){const _0x34f876=_0x49e620;this[_0x34f876(0x9c6)](),this[_0x34f876(0x73d)]();}['destroy'](){const _0x42b798=_0x49e620;this[_0x42b798(0x9c6)](),super[_0x42b798(0x1d5)]();}[_0x49e620(0x9c6)](){const _0x2770dc=_0x49e620;this[_0x2770dc(0xa14)][_0x2770dc(0x9c6)](),this['unsubscribeHandler']&&this[_0x2770dc(0xa1b)]();}[_0x49e620(0x5c2)](){const _0x39c79b=_0x49e620;this[_0x39c79b(0x321)]?.[_0x39c79b(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x39c79b(0x303)],'content':{'type':_0xbc0bd6[_0x39c79b(0x2d7)],'label':this[_0x39c79b(0x73a)]}});}async[_0x49e620(0x894)](_0x59ad8f){const _0x5c2e82=_0x49e620,{id:_0x249548,parameters:_0x161cf0,jobType:_0x3ee88c}=_0x59ad8f,_0x5e1bce={'id':_0x249548,'jobType':_0x3ee88c,'parameters':_0x161cf0,'status':_0x596e17[_0x5c2e82(0x932)][_0x5c2e82(0x8f6)],'created':new Date(),'updated':new Date()};if(this['jobs'][_0x5c2e82(0x29d)](_0x5e1bce['id']))throw new _0x2c2152(_0x3608be[_0x5c2e82(0x626)],_0x5c2e82(0x2d2)+_0x5e1bce['id']+_0x5c2e82(0x8c0));_0x5e1bce[_0x5c2e82(0x23c)]=new Date(),_0x5e1bce[_0x5c2e82(0xa9e)]=new Date();const _0x2de537=new _0xce3ec1[(_0x5c2e82(0x4e2))]();this['jobs'][_0x5c2e82(0x9fa)](_0x5e1bce['id'],_0x5e1bce),this[_0x5c2e82(0x517)][_0x5c2e82(0x9fa)](_0x5e1bce['id'],_0x2de537);try{const _0x330319={'id':_0x5e1bce['id'],'jobPhase':_0x4170e5[_0x5c2e82(0xb1a)],'jobType':_0x5e1bce[_0x5c2e82(0x71b)]},_0x13e71f=0x3;let _0x17cc5d=0x0;const _0x3fdf8e=async()=>{const _0x5da52d=_0x5c2e82;_0x17cc5d+=0x1;try{_0xb8b103['log'](_0xad09e4[_0x5da52d(0x3a3)],'Job\x20'+_0x5e1bce['id']+_0x5da52d(0x62e)+_0x17cc5d+'.',this['graphService'][_0x5da52d(0x95b)]()),await this[_0x5da52d(0x201)](_0x330319),_0x5e1bce['updated']=new Date(),this[_0x5da52d(0xa14)][_0x5da52d(0x9fa)](_0x5e1bce['id'],_0x5e1bce),this[_0x5da52d(0x276)](_0x5e1bce['id']);}catch(_0x539210){_0x17cc5d<_0x13e71f?(_0xb8b103[_0x5da52d(0x87a)](_0x5da52d(0x3dc)+_0x17cc5d+_0x5da52d(0xa95)+_0x5e1bce['id']+'\x20failed.\x20Retrying...',{'nodeId':this['owner'][_0x5da52d(0x27e)](),'nodeType':this['owner'][_0x5da52d(0x70f)],'data':{'job':_0x5e1bce,'attempts':_0x17cc5d,'maxRetries':_0x13e71f}}),setTimeout(_0x3fdf8e,0x3e8)):(_0x5e1bce[_0x5da52d(0xa3b)]=_0x596e17[_0x5da52d(0x932)]['Failed'],_0x5e1bce[_0x5da52d(0xa9e)]=new Date(),this['jobs']['set'](_0x5e1bce['id'],_0x5e1bce),_0xb8b103[_0x5da52d(0x528)]('Failed\x20to\x20send\x20job\x20'+_0x5e1bce['id']+_0x5da52d(0x599)+_0x13e71f+_0x5da52d(0x927),{'nodeId':this['owner'][_0x5da52d(0x27e)](),'nodeType':this[_0x5da52d(0x660)][_0x5da52d(0x70f)],'data':{'job':_0x5e1bce,'attempts':_0x17cc5d,'maxRetries':_0x13e71f,'error':_0x539210}}));}};_0x3fdf8e();const {id:_0x58d32b}=_0x5e1bce;this[_0x5c2e82(0x68c)](_0x5c2e82(0x96e)+_0x5e1bce['id']+_0x5c2e82(0x520),{'jobId':_0x58d32b}),_0x5e1bce[_0x5c2e82(0xa9e)]=new Date();}catch(_0xcfe593){_0x5e1bce['status']=_0x596e17[_0x5c2e82(0x932)]['Failed'],_0xb8b103[_0x5c2e82(0x528)](_0x5c2e82(0x843)+_0x5e1bce['id']+':',{'nodeId':this['owner'][_0x5c2e82(0x27e)](),'nodeType':this[_0x5c2e82(0x660)]['type'],'data':{'job':_0x5e1bce,'error':_0xcfe593}});}return _0x2de537[_0x5c2e82(0xa11)]();}[_0x49e620(0x5ec)](_0x314a31){const _0x5c4c95=_0x49e620,_0x159cd2=this[_0x5c4c95(0xa14)]['get'](_0x314a31);if(!_0x159cd2)throw new _0x2c2152(_0x3608be[_0x5c4c95(0xb03)],_0x5c4c95(0x2d2)+_0x314a31+_0x5c4c95(0x38a));return{'id':_0x159cd2['id'],'jobType':_0x159cd2[_0x5c4c95(0x71b)],'status':_0x159cd2[_0x5c4c95(0xa3b)],'parameters':_0x159cd2['parameters']};}[_0x49e620(0x3a8)](){const _0x24003d=_0x49e620;return Array['from'](this[_0x24003d(0xa14)]['values']())[_0x24003d(0x3bb)](_0x8e9a1a=>this[_0x24003d(0x5ec)](_0x8e9a1a['id']));}async['updateJob'](_0x2d5c30,_0x4b27d5){const _0x4fedf5=_0x49e620,_0xb367ed=this[_0x4fedf5(0xa14)][_0x4fedf5(0x680)](_0x2d5c30);if(!_0xb367ed)throw new _0x2c2152(_0x3608be[_0x4fedf5(0xb03)],_0x4fedf5(0x2d2)+_0x2d5c30+'\x20not\x20found.');_0xb367ed[_0x4fedf5(0x21e)]=_0x4b27d5,_0xb367ed['updated']=new Date(),this['jobs']['set'](_0x2d5c30,_0xb367ed);}async['deleteJob'](_0x5b3e8f){const _0x2db8fc=_0x49e620;if(!this[_0x2db8fc(0xa14)][_0x2db8fc(0x55f)](_0x5b3e8f))throw new _0x2c2152(_0x3608be[_0x2db8fc(0xb03)],'Job\x20with\x20id\x20'+_0x5b3e8f+_0x2db8fc(0x38a));const _0x2372f6=this[_0x2db8fc(0x517)][_0x2db8fc(0x680)](_0x5b3e8f);if(!_0x2372f6)throw new _0x44727e(_0x44727e['codes']['JobDispatcherObserverNotFound']);_0x2372f6[_0x2db8fc(0x332)](),this[_0x2db8fc(0x517)][_0x2db8fc(0x55f)](_0x5b3e8f),_0xb8b103[_0x2db8fc(0xad5)](_0xad09e4[_0x2db8fc(0x3a3)],_0x2db8fc(0x96e)+_0x5b3e8f+_0x2db8fc(0x9cb));}['addBidResponse'](_0xceeae4,_0x4d166d,_0x38bc96){const _0x4e7b23=_0x49e620,_0x3e5191=this[_0x4e7b23(0x81d)]['get'](_0x4d166d)??new Map();_0x3e5191[_0x4e7b23(0x9fa)](_0xceeae4,[_0x38bc96,Date[_0x4e7b23(0x4e4)]()]),this[_0x4e7b23(0x81d)][_0x4e7b23(0x9fa)](_0x4d166d,_0x3e5191),this[_0x4e7b23(0x624)](_0x4d166d);}[_0x49e620(0x276)](_0x28b55b){const _0x3bd54a=_0x49e620,_0x49651d=this[_0x3bd54a(0xa14)][_0x3bd54a(0x680)](_0x28b55b);if(!_0x49651d)throw new _0x44727e(_0x44727e[_0x3bd54a(0x849)][_0x3bd54a(0xb03)]);const _0x31a714=setTimeout(()=>this[_0x3bd54a(0x624)](_0x28b55b,!0x0),0xbb8);_0x49651d[_0x3bd54a(0x5a6)]=_0x31a714,this[_0x3bd54a(0xa14)]['set'](_0x49651d['id'],_0x49651d);}['evaluateBidsAndAttributeJob'](_0x1599ca,_0x1aee68=!0x1){const _0x340a35=_0x49e620,_0x247293=this[_0x340a35(0x5c0)][_0x340a35(0x95b)](),_0x1009be=Array['from'](_0x247293[_0x340a35(0x66b)]())[_0x340a35(0x9e5)](_0x4dde1e=>_0x4dde1e['type']===_0x596e17[_0x340a35(0x83b)]['Agent']),_0x1652f9=this[_0x340a35(0x81d)][_0x340a35(0x680)](_0x1599ca)??new Map();if(!_0x1aee68&&(!_0x1652f9||_0x1652f9[_0x340a35(0x65a)]<_0x1009be[_0x340a35(0x8bc)]))return;const _0x156cca=this['jobs'][_0x340a35(0x680)](_0x1599ca);if(!_0x156cca)throw new _0x44727e(_0x44727e['codes']['JobDispatcherJobNotFound']);if(clearTimeout(_0x156cca[_0x340a35(0x5a6)]),_0xb8b103[_0x340a35(0xad5)](_0xad09e4[_0x340a35(0x3a3)],'Job\x20'+_0x156cca['id']+_0x340a35(0x1ed),_0x1652f9,this[_0x340a35(0x81d)]),!_0x1652f9||0x0===_0x1652f9[_0x340a35(0x65a)]){_0x156cca[_0x340a35(0xa3b)]=_0x596e17[_0x340a35(0x932)][_0x340a35(0x6fc)],_0x156cca[_0x340a35(0xa9e)]=new Date(),_0xb8b103[_0x340a35(0x528)](_0x340a35(0x96e)+_0x156cca['id']+_0x340a35(0x2d1),{'nodeId':this[_0x340a35(0x660)][_0x340a35(0x27e)](),'nodeType':this[_0x340a35(0x660)][_0x340a35(0x70f)],'data':{'job':_0x156cca,'responses':_0x1652f9}});const _0x398b59=this[_0x340a35(0x517)][_0x340a35(0x680)](_0x1599ca);if(!_0x398b59)throw new _0x44727e(_0x44727e['codes'][_0x340a35(0x893)]);const _0x229ef1=_0x340a35(0xa88),_0x29a76d={'id':_0x156cca['id'],'status':_0x156cca[_0x340a35(0xa3b)],'message':_0x229ef1};return _0x398b59[_0x340a35(0x66f)](_0x29a76d),_0x398b59[_0x340a35(0x332)](),this[_0x340a35(0xa14)][_0x340a35(0x9fa)](_0x156cca['id'],_0x156cca),void this['jobBids'][_0x340a35(0x55f)](_0x1599ca);}const {nodeId:_0x5b84ef,response:_0x530a6b}=this[_0x340a35(0x833)](_0x156cca['id'],_0x1652f9);_0x156cca[_0x340a35(0xa3b)]=_0x596e17[_0x340a35(0x932)]['Processing'],_0x156cca['updated']=new Date(),_0xb8b103[_0x340a35(0xad5)](_0xad09e4[_0x340a35(0x3a3)],_0x340a35(0x96e)+_0x156cca['id']+_0x340a35(0xb2f)+_0x5b84ef+'\x20with\x20response:',_0x530a6b);const _0x2269b8={'id':_0x156cca['id'],'jobType':_0x156cca[_0x340a35(0x71b)],'jobPhase':_0x4170e5[_0x340a35(0xaeb)],'parameters':_0x156cca[_0x340a35(0x21e)]};this[_0x340a35(0x201)](_0x2269b8,[_0x5b84ef]),this[_0x340a35(0xa14)][_0x340a35(0x9fa)](_0x156cca['id'],_0x156cca),this[_0x340a35(0x81d)][_0x340a35(0x55f)](_0x1599ca);}[_0x49e620(0x833)](_0x5c37d0,_0xe1fc66){const _0x4ee6dc=_0x49e620;let _0x45abe0;const _0x2821c1=Array[_0x4ee6dc(0x9cc)](_0xe1fc66[_0x4ee6dc(0xa33)]())[_0x4ee6dc(0x9e5)](([,[_0x269670]])=>_0x269670[_0x4ee6dc(0x2c6)]);if(_0x45abe0=_0x2821c1[_0x4ee6dc(0x8bc)]>0x0?Array['from'](_0xe1fc66[_0x4ee6dc(0xa33)]())[_0x4ee6dc(0x8d9)]((_0x101ac5,_0x590b56)=>_0x590b56[0x1][0x0][_0x4ee6dc(0x991)]-_0x101ac5[0x1][0x0][_0x4ee6dc(0x991)]):Array[_0x4ee6dc(0x9cc)](_0xe1fc66['entries']())[_0x4ee6dc(0x8d9)]((_0x588d51,_0x421be6)=>_0x588d51[0x1][0x0]['queueLength']-_0x421be6[0x1][0x0][_0x4ee6dc(0x750)]),0x1===_0x45abe0[_0x4ee6dc(0x8bc)])return{'nodeId':_0x45abe0[0x0][0x0],'response':_0x45abe0[0x0][0x1][0x0]};let _0x52c5b0;if(_0x52c5b0=_0x2821c1[_0x4ee6dc(0x8bc)]>0x0?(_0x5ead1a=>{const _0x337d71=_0x4ee6dc,_0x3ca0cb=_0x5ead1a[0x0][0x1][0x0][_0x337d71(0x991)];return _0x5ead1a['filter'](([,[_0x2a1ab7]])=>_0x2a1ab7[_0x337d71(0x991)]===_0x3ca0cb);})(_0x45abe0):(_0x31eb19=>{const _0x1376ef=_0x4ee6dc,_0x729a61=_0x31eb19[0x0][0x1][0x0][_0x1376ef(0x750)];return _0x31eb19[_0x1376ef(0x9e5)](([,[_0x87fbb3]])=>_0x87fbb3[_0x1376ef(0x750)]===_0x729a61);})(_0x45abe0),0x1===_0x52c5b0['length'])return{'nodeId':_0x52c5b0[0x0][0x0],'response':_0x52c5b0[0x0][0x1][0x0]};const _0x7efea=this['jobs'][_0x4ee6dc(0x680)](_0x5c37d0);if(!_0x7efea)throw new _0x44727e(_0x44727e['codes'][_0x4ee6dc(0xb03)]);const _0x4057da=_0x7efea[_0x4ee6dc(0x23c)][_0x4ee6dc(0x814)](),_0x510bab=_0x52c5b0[_0x4ee6dc(0x3bb)](([_0x1ffb47,[,_0x1c584f]])=>({'nodeId':_0x1ffb47,'rtt':_0x1c584f-_0x4057da})),_0x4f72ea=Math[_0x4ee6dc(0x95e)](..._0x510bab['map'](({rtt:_0x2a0250})=>_0x2a0250)),_0x191473=_0x510bab[_0x4ee6dc(0x94a)](({rtt:_0x139a6e})=>_0x139a6e===_0x4f72ea),[,[_0x4757ec]]=_0x52c5b0[_0x4ee6dc(0x94a)](([_0x48abb3])=>_0x48abb3===_0x191473[_0x4ee6dc(0x7cd)]);return{'nodeId':_0x191473['nodeId'],'response':_0x4757ec};}[_0x49e620(0x8f3)](_0x273387,_0x18fb87){const _0x5ad7bf=_0x49e620,_0x1983be=this[_0x5ad7bf(0xa14)][_0x5ad7bf(0x680)](_0x273387);if(!_0x1983be)throw new _0x44727e(_0x44727e[_0x5ad7bf(0x849)]['JobDispatcherJobNotFound']);const _0x2b5813=this[_0x5ad7bf(0x517)][_0x5ad7bf(0x680)](_0x273387);if(!_0x2b5813)throw new _0x44727e(_0x44727e[_0x5ad7bf(0x849)][_0x5ad7bf(0x893)]);const _0x4ad902={'id':_0x1983be['id'],'status':_0x596e17[_0x5ad7bf(0x932)][_0x5ad7bf(0x67b)],'result':_0x18fb87[_0x5ad7bf(0x3c3)]};_0x2b5813[_0x5ad7bf(0x66f)](_0x4ad902);}[_0x49e620(0x4a6)](_0x40dec0,_0x7161c0){const _0x149cca=_0x49e620,_0x4cf836=this[_0x149cca(0xa14)]['get'](_0x40dec0);if(!_0x4cf836)throw new _0x44727e(_0x44727e[_0x149cca(0x849)][_0x149cca(0xb03)]);const _0x50e26b=this[_0x149cca(0x517)]['get'](_0x40dec0);if(!_0x50e26b)throw new _0x44727e(_0x44727e[_0x149cca(0x849)][_0x149cca(0x893)]);_0x4cf836[_0x149cca(0xa3b)]=_0x596e17[_0x149cca(0x932)][_0x149cca(0x7b7)];const _0xa736b0={'id':_0x4cf836['id'],'status':_0x4cf836['status'],'result':_0x7161c0['result']};_0x50e26b['next'](_0xa736b0),_0x50e26b[_0x149cca(0x332)](),this['jobObservers'][_0x149cca(0x55f)](_0x40dec0),this[_0x149cca(0x68c)](_0x149cca(0x96e)+_0x40dec0+_0x149cca(0x2c1),{'jobId':_0x40dec0});}[_0x49e620(0x8b7)](_0x49d90f,_0x32a04a){const _0x274220=_0x49e620,_0xe4a8e6=this['jobs'][_0x274220(0x680)](_0x49d90f);if(!_0xe4a8e6)throw new _0x44727e(_0x44727e[_0x274220(0x849)][_0x274220(0xb03)]);const _0x4c5f65=this[_0x274220(0x517)][_0x274220(0x680)](_0x49d90f);if(!_0x4c5f65)throw new _0x44727e(_0x44727e[_0x274220(0x849)][_0x274220(0x893)]);_0xe4a8e6[_0x274220(0xa3b)]=_0x596e17[_0x274220(0x932)][_0x274220(0x6fc)];const _0x445115={'id':_0xe4a8e6['id'],'status':_0xe4a8e6['status'],'message':_0x32a04a};_0x4c5f65[_0x274220(0x66f)](_0x445115),_0x4c5f65[_0x274220(0x332)](),this[_0x274220(0x517)][_0x274220(0x55f)](_0x49d90f),this['logEvent'](_0x274220(0x96e)+_0x49d90f+_0x274220(0x794),{'jobId':_0x49d90f});}[_0x49e620(0x68c)](_0x1089e1,{jobId:_0x321c10}){const _0x2abdb7=_0x49e620,_0x2e5668={'jobId':_0x321c10,'mistletIds':Array[_0x2abdb7(0x9cc)](this[_0x2abdb7(0x5c0)][_0x2abdb7(0x95b)]()['values']())[_0x2abdb7(0x9e5)](_0x4d30aa=>_0x4d30aa[_0x2abdb7(0x70f)]===_0x596e17[_0x2abdb7(0x83b)][_0x2abdb7(0x783)])[_0x2abdb7(0x3bb)](_0x193b9b=>_0x193b9b['getId']())};_0xb8b103[_0x2abdb7(0x68c)](_0x1089e1,{'nodeId':this[_0x2abdb7(0x8fa)](),'nodeType':this[_0x2abdb7(0x660)][_0x2abdb7(0x70f)],'data':_0x2e5668}),_0xb8b103['log'](_0xad09e4[_0x2abdb7(0x3a3)],_0x1089e1,_0x2e5668);}[_0x49e620(0x9ad)](_0x1fb4bd){const {jobPhase:_0x321b6c,available:_0x35752d,bid:_0x660540}=_0x1fb4bd;return _0x321b6c===_0x4170e5['Bid']&&void 0x0!==_0x35752d&&void 0x0!==_0x660540;}[_0x49e620(0x3ce)](_0x251017){const _0x3bc3f9=_0x49e620,{jobPhase:_0xfb8549,result:_0x275ba6}=_0x251017;return _0xfb8549===_0x4170e5[_0x3bc3f9(0xa48)]&&void 0x0!==_0x275ba6;}[_0x49e620(0x3e2)](_0x328822){const {jobPhase:_0x2bd94d,result:_0x4babf5}=_0x328822;return _0x2bd94d===_0x4170e5['Result']&&void 0x0!==_0x4babf5;}['isFailedResponse'](_0x33c46d){const _0x180d58=_0x49e620,{jobPhase:_0x4df4d7,message:_0x4c101b}=_0x33c46d;return _0x4df4d7===_0x4170e5[_0x180d58(0x6fc)]&&void 0x0!==_0x4c101b&&_0x180d58(0xaba)==typeof _0x4c101b;}}var _0x597baa,_0x3792cf,_0x104f2b,_0x361464,_0x43aca3;!function(_0x54d594){const _0x24fe98=_0x49e620;_0x54d594['ObjectStorage']=_0x24fe98(0x355),_0x54d594[_0x24fe98(0x5ee)]=_0x24fe98(0x628);}(_0x597baa||(_0x597baa={})),function(_0x1c9d49){const _0xd24cc2=_0x49e620;_0x1c9d49[_0xd24cc2(0x783)]=_0xd24cc2(0x3d3),_0x1c9d49[_0xd24cc2(0x619)]=_0xd24cc2(0x60c),_0x1c9d49[_0xd24cc2(0x365)]='router',_0x1c9d49[_0xd24cc2(0x53b)]='custom-skill',_0x1c9d49[_0xd24cc2(0x83a)]=_0xd24cc2(0x444),_0x1c9d49[_0xd24cc2(0x470)]='knowledge',_0x1c9d49[_0xd24cc2(0x35f)]=_0xd24cc2(0x481),_0x1c9d49[_0xd24cc2(0xac1)]='answer',_0x1c9d49[_0xd24cc2(0x890)]=_0xd24cc2(0x283),_0x1c9d49[_0xd24cc2(0x5a2)]=_0xd24cc2(0x6a3),_0x1c9d49['AiSearch']=_0xd24cc2(0x85e),_0x1c9d49[_0xd24cc2(0x6f0)]='web-scraper',_0x1c9d49[_0xd24cc2(0x63e)]=_0xd24cc2(0x84a),_0x1c9d49[_0xd24cc2(0x4f3)]=_0xd24cc2(0x5dd),_0x1c9d49[_0xd24cc2(0x44a)]=_0xd24cc2(0x726),_0x1c9d49[_0xd24cc2(0x54e)]=_0xd24cc2(0x9dc),_0x1c9d49[_0xd24cc2(0x912)]=_0xd24cc2(0x9eb),_0x1c9d49[_0xd24cc2(0x1f3)]='word-splitter',_0x1c9d49[_0xd24cc2(0x899)]=_0xd24cc2(0x527),_0x1c9d49['InputAudioStream']=_0xd24cc2(0xac8),_0x1c9d49[_0xd24cc2(0x464)]='output-audio-stream';}(_0x3792cf||(_0x3792cf={})),function(_0x1fc9bc){const _0x512f24=_0x49e620;_0x1fc9bc['ObjectStorageUpload']=_0x512f24(0x224),_0x1fc9bc['ExternalStorageUpload']=_0x512f24(0x319),_0x1fc9bc[_0x512f24(0x899)]=_0x512f24(0x527),_0x1fc9bc[_0x512f24(0x54e)]=_0x512f24(0x9dc),_0x1fc9bc[_0x512f24(0x1f3)]=_0x512f24(0x571),_0x1fc9bc[_0x512f24(0x912)]=_0x512f24(0x9eb),_0x1fc9bc[_0x512f24(0x6b0)]='relation-extractor',_0x1fc9bc[_0x512f24(0x3e9)]=_0x512f24(0xa85),_0x1fc9bc[_0x512f24(0x8de)]=_0x512f24(0x2db),_0x1fc9bc['Model']='model',_0x1fc9bc[_0x512f24(0x783)]=_0x512f24(0x3d3),_0x1fc9bc['ObjectStorageBucket']=_0x512f24(0x355),_0x1fc9bc[_0x512f24(0x35a)]=_0x512f24(0x8db),_0x1fc9bc[_0x512f24(0x773)]=_0x512f24(0xb01),_0x1fc9bc[_0x512f24(0x48b)]=_0x512f24(0x5b8),_0x1fc9bc[_0x512f24(0x35f)]=_0x512f24(0x481),_0x1fc9bc['Context']=_0x512f24(0x69c),_0x1fc9bc['Upload']=_0x512f24(0x621),_0x1fc9bc[_0x512f24(0x88e)]='embed';}(_0x104f2b||(_0x104f2b={})),function(_0x26df3b){const _0x29879d=_0x49e620;_0x26df3b[_0x29879d(0x9b7)]=_0x29879d(0x43e),_0x26df3b['Text']=_0x29879d(0x656),_0x26df3b[_0x29879d(0x1d9)]=_0x29879d(0x382),_0x26df3b[_0x29879d(0x929)]=_0x29879d(0xa42),_0x26df3b['Data']=_0x29879d(0x7b6),_0x26df3b[_0x29879d(0x892)]='vector',_0x26df3b[_0x29879d(0xb57)]=_0x29879d(0xa16),_0x26df3b[_0x29879d(0x2c0)]=_0x29879d(0x589),_0x26df3b[_0x29879d(0x5a2)]='search',_0x26df3b[_0x29879d(0x5c3)]=_0x29879d(0x6d0),_0x26df3b[_0x29879d(0x2e9)]=_0x29879d(0x87b),_0x26df3b[_0x29879d(0xb06)]='context',_0x26df3b[_0x29879d(0xa98)]='wait',_0x26df3b[_0x29879d(0x84c)]=_0x29879d(0x86f),_0x26df3b[_0x29879d(0x8e0)]=_0x29879d(0x9bd);}(_0x361464||(_0x361464={})),function(_0x2c5799){const _0x2e4570=_0x49e620;_0x2c5799[_0x2e4570(0x8a6)]=_0x2e4570(0x421),_0x2c5799['Account']='account',_0x2c5799[_0x2e4570(0x86c)]='dedicated';}(_0x43aca3||(_0x43aca3={}));const _0x14e39b=[{'type':_0x3792cf[_0x49e620(0x365)],'id':_0x49e620(0x480),'name':_0x49e620(0x6c4),'description':_0x49e620(0x49d),'modelId':_0x49e620(0xa27),'instructions':'Returns\x20\x22true\x22\x20or\x20\x22false\x22\x20based\x20on\x20the\x20input\x20condition.','grammar':'if_else','temperature':0x0,'maxTokens':0x64}],_0x23dc17=[{'type':_0x3792cf[_0x49e620(0x783)],'id':_0x49e620(0x8f7),'name':_0x49e620(0x567),'description':'','modelId':_0x49e620(0xa27),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3792cf[_0x49e620(0x783)],'id':_0x49e620(0x2a7),'name':'Generic\x20AI\x20Agent','description':'A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','modelId':_0x49e620(0xa27),'instructions':'Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3792cf[_0x49e620(0x783)],'id':_0x49e620(0x401),'name':'Search\x20Agent','description':'Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','modelId':'gpt-4o-mini','instructions':_0x49e620(0x6a0),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3792cf['Agent'],'id':_0x49e620(0x560),'name':'Feedback\x20Agent','description':_0x49e620(0x552),'modelId':_0x49e620(0xa27),'instructions':_0x49e620(0x944),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3792cf[_0x49e620(0x783)],'id':_0x49e620(0x30d),'name':_0x49e620(0x6e5),'description':_0x49e620(0x615),'modelId':_0x49e620(0xa27),'instructions':_0x49e620(0x618),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3792cf[_0x49e620(0x783)],'id':_0x49e620(0x6d7),'name':_0x49e620(0x3cc),'description':'Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','modelId':_0x49e620(0xa27),'instructions':_0x49e620(0x5a4),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3792cf[_0x49e620(0x783)],'id':_0x49e620(0x4d8),'name':_0x49e620(0x882),'description':'Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','modelId':_0x49e620(0xa27),'instructions':_0x49e620(0xb72),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3792cf[_0x49e620(0x783)],'id':_0x49e620(0xa32),'name':'Strategizing\x20Agent','description':_0x49e620(0x542),'modelId':_0x49e620(0xa27),'instructions':_0x49e620(0x716),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3792cf['Agent'],'id':_0x49e620(0xb40),'name':_0x49e620(0x7ff),'description':_0x49e620(0x1e7),'modelId':_0x49e620(0xa27),'instructions':_0x49e620(0x30c),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3792cf[_0x49e620(0x783)],'id':'archival-search','name':_0x49e620(0x94b),'description':_0x49e620(0x82d),'modelId':_0x49e620(0xa27),'instructions':_0x49e620(0x357),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3792cf[_0x49e620(0x783)],'id':'trend-spotter','name':'Trend\x20Spotter','description':_0x49e620(0x87e),'modelId':_0x49e620(0xa27),'instructions':'Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3792cf[_0x49e620(0x783)],'id':_0x49e620(0x94e),'name':_0x49e620(0x42b),'description':_0x49e620(0x4d1),'modelId':_0x49e620(0xa27),'instructions':_0x49e620(0x7b8),'grammar':'','temperature':0.8,'maxTokens':0x3e8}];class _0x59a014{static [_0x49e620(0xb66)];constructor(){}static[_0x49e620(0x777)](){const _0x1ffb9a=_0x49e620;return _0x59a014[_0x1ffb9a(0xb66)]||(_0x59a014['instance']=new _0x59a014()),_0x59a014[_0x1ffb9a(0xb66)];}async[_0x49e620(0xb0e)](_0x327ad2,_0x3f8e02){const _0x508800=_0x49e620,_0x418eef=await(0x0,_0x3e7f37['getDoc'])((0x0,_0x3e7f37[_0x508800(0x98c)])(_0xfa2cd[_0x508800(0x5d4)](),_0x508800(0x410)+_0x327ad2+_0x508800(0xa50)+_0x3f8e02)),_0xbc03f7=await this[_0x508800(0x6da)](_0x327ad2),_0x34f102=await this[_0x508800(0xa3f)](_0x327ad2);if(!_0x418eef['exists']())throw new _0x44727e(_0x44727e[_0x508800(0x849)][_0x508800(0x376)]);return this['parseWorkflowDocument'](_0x418eef,_0xbc03f7,_0x34f102);}async[_0x49e620(0xa3f)](_0x158792){const _0x298d16=_0x49e620;return(await(0x0,_0x3e7f37[_0x298d16(0x5d8)])((0x0,_0x3e7f37[_0x298d16(0x828)])(_0xfa2cd['getFirestore'](),'/developers/'+_0x158792+'/resources/generative-ai-collection/items')))[_0x298d16(0x48a)][_0x298d16(0x3bb)](_0x4c837b=>{const _0xb7442f=_0x298d16,_0x169b89=_0x4c837b[_0xb7442f(0x7b6)]();return{'type':_0x3792cf[_0xb7442f(0x83a)],'id':_0x4c837b['id'],'name':_0x169b89[_0xb7442f(0x9b3)],'description':_0x169b89[_0xb7442f(0x29a)],'storageType':_0x169b89[_0xb7442f(0xac0)]??_0x596e17[_0xb7442f(0x816)][_0xb7442f(0x8a7)],'hosting':_0x169b89['hosting']??_0x43aca3[_0xb7442f(0x86c)],'modelId':_0x169b89['modelId']??_0xb7442f(0x2fd),'ingestBlocks':_0x169b89[_0xb7442f(0x2cd)],'retrieveBlocks':_0x169b89[_0xb7442f(0x612)]};});}async[_0x49e620(0xb62)](_0x397845,_0x2bd745){const _0x4a5a3c=_0x49e620,_0x123bf7=await(0x0,_0x3e7f37[_0x4a5a3c(0xb5a)])((0x0,_0x3e7f37[_0x4a5a3c(0x98c)])(_0xfa2cd[_0x4a5a3c(0x5d4)](),_0x4a5a3c(0x410)+_0x397845+_0x4a5a3c(0x33e)+_0x2bd745)),_0x50661f=await this[_0x4a5a3c(0x6da)](_0x397845),_0x2e69e4=_0x123bf7['data']();if(!_0x2e69e4)throw new _0x44727e(_0x44727e['codes']['DataCollectionDoesNotExist']);return{'type':_0x3792cf['DataCollection'],'id':_0x2bd745,'uid':_0x2bd745,'name':_0x2e69e4[_0x4a5a3c(0x9b3)],'description':_0x2e69e4['description'],'storageType':_0x2e69e4[_0x4a5a3c(0xac0)]??_0x596e17['GenerativeAIRagType']['Pinecone'],'hosting':_0x2e69e4['hosting']??_0x43aca3['Dedicated'],'modelId':_0x2e69e4['modelId']??'text-embedding-3-small','ingestBlocks':this['parseDataCollectionBlocks'](_0x2e69e4['ingestBlocks'],_0x50661f),'retrieveBlocks':this[_0x4a5a3c(0x928)](_0x2e69e4[_0x4a5a3c(0x612)],_0x50661f),'links':[]};}[_0x49e620(0x6d6)](_0x22e56c,_0x59ea83,_0x3501cb){const _0x5ef434=_0x49e620,_0x2bc554=_0x22e56c[_0x5ef434(0x7b6)]();if(!_0x2bc554)throw new _0x44727e(_0x44727e[_0x5ef434(0x849)][_0x5ef434(0x376)]);const _0x55f1b9=this[_0x5ef434(0xaaa)](_0x2bc554[_0x5ef434(0x3b7)],_0x59ea83,_0x3501cb);return{'id':_0x22e56c['id'],'blocks':_0x55f1b9,'dataBucketIds':this[_0x5ef434(0x294)](_0x55f1b9),'externalStorageConnectionIds':this[_0x5ef434(0x514)](_0x55f1b9),'initialPrompt':_0x2bc554[_0x5ef434(0xa15)]};}['getWorkflowObjectStorageBuckets'](_0x3c846f){const _0x10bd11=_0x49e620,_0x273e10=new Set();for(const _0x5a5e9d of _0x3c846f)switch(_0x5a5e9d[_0x10bd11(0x70f)]){case _0x3792cf['Knowledge']:case _0x3792cf['DataCollection']:for(const _0x498327 of[..._0x5a5e9d[_0x10bd11(0x2cd)],..._0x5a5e9d[_0x10bd11(0x612)]])_0x498327[_0x10bd11(0x70f)]===_0x104f2b[_0x10bd11(0x785)]&&_0x273e10[_0x10bd11(0x554)](_0x498327['id']);}return Array['from'](_0x273e10);}[_0x49e620(0x514)](_0x33f60b){const _0x41eb5f=_0x49e620,_0x4f31a2=new Set();for(const _0x4d42d5 of _0x33f60b)switch(_0x4d42d5[_0x41eb5f(0x70f)]){case _0x3792cf['Knowledge']:case _0x3792cf[_0x41eb5f(0x83a)]:for(const _0x19017c of[..._0x4d42d5['ingestBlocks'],..._0x4d42d5[_0x41eb5f(0x612)]])_0x19017c['type']===_0x104f2b['ExternalStorageUpload']&&_0x4f31a2[_0x41eb5f(0x554)](_0x19017c['id']);}return Array[_0x41eb5f(0x9cc)](_0x4f31a2);}[_0x49e620(0xaaa)](_0x29b74a,_0x19273b,_0x15adf5){const _0x2d0420=_0x49e620;return _0x29b74a[_0x2d0420(0x3bb)](_0x3481e3=>{const _0x40dd67=_0x2d0420;switch(_0x3481e3[_0x40dd67(0x70f)]){case _0x3792cf[_0x40dd67(0x783)]:case _0x3792cf[_0x40dd67(0x619)]:case _0x3792cf[_0x40dd67(0x365)]:const _0x5cc4a4=_0x19273b[_0x40dd67(0x94a)](_0xe955ac=>_0xe955ac['id']===_0x3481e3['id']);if(!_0x5cc4a4)throw new _0x44727e(_0x44727e[_0x40dd67(0x849)][_0x40dd67(0x278)],{'block':_0x3481e3});return{'type':_0x3792cf[_0x40dd67(0x783)],'id':_0x5cc4a4['id'],'uid':_0x3481e3['uid'],'name':_0x5cc4a4[_0x40dd67(0x9b3)],'description':_0x5cc4a4[_0x40dd67(0x29a)],'instructions':(_0x5cc4a4['instructions']+'\x0a\x0a'+(_0x3481e3[_0x40dd67(0x3d3)]?.['additionnalInstructions']??''))[_0x40dd67(0x547)](),'contextOutputVariable':_0x3481e3[_0x40dd67(0x3d3)]?.[_0x40dd67(0x2ad)],'contextInputVariable':_0x3481e3[_0x40dd67(0x3d3)]?.[_0x40dd67(0x801)],'reasoning':_0x3481e3[_0x40dd67(0x3d3)]?.[_0x40dd67(0x282)]??!0x1,'grammar':_0x3481e3[_0x40dd67(0x3d3)]?.[_0x40dd67(0x75a)]??_0x40dd67(0x806),'temperature':_0x3481e3['agent']?.[_0x40dd67(0x752)]??0.5,'maxTokens':_0x3481e3[_0x40dd67(0x3d3)]?.['maxTokens']??0x1f4,'modelId':_0x3481e3[_0x40dd67(0x3d3)]?.[_0x40dd67(0xa05)]??_0x40dd67(0xa27),'links':_0x3481e3['links']};case _0x3792cf[_0x40dd67(0x470)]:case _0x3792cf[_0x40dd67(0x83a)]:const _0x2c7c55=_0x15adf5[_0x40dd67(0x94a)](_0x35f6b8=>_0x35f6b8['id']===_0x3481e3['id']);if(!_0x2c7c55)throw new _0x44727e(_0x44727e[_0x40dd67(0x849)][_0x40dd67(0x278)],{'block':_0x3481e3});return{'type':_0x3481e3[_0x40dd67(0x70f)],'id':_0x2c7c55['id'],'uid':_0x3481e3['uid'],'name':_0x2c7c55[_0x40dd67(0x9b3)],'description':_0x2c7c55[_0x40dd67(0x29a)],'ingestBlocks':this[_0x40dd67(0x928)](_0x2c7c55[_0x40dd67(0x2cd)],_0x19273b),'retrieveBlocks':this[_0x40dd67(0x928)](_0x2c7c55['retrieveBlocks'],_0x19273b),'links':_0x3481e3[_0x40dd67(0x436)]};case _0x3792cf[_0x40dd67(0x53b)]:return{'type':_0x3481e3[_0x40dd67(0x70f)],'id':_0x3481e3['id'],'uid':_0x3481e3[_0x40dd67(0x76c)],'name':_0x3481e3[_0x40dd67(0x87b)][_0x40dd67(0x9b3)],'description':_0x3481e3[_0x40dd67(0x87b)]['description'],'parameters':_0x3481e3[_0x40dd67(0x87b)][_0x40dd67(0x21e)],'endpointUrl':_0x3481e3['tool'][_0x40dd67(0x5ab)],'endpointMethod':_0x3481e3['tool'][_0x40dd67(0x65c)],'headers':_0x3481e3[_0x40dd67(0x87b)][_0x40dd67(0x250)],'queryParameters':_0x3481e3[_0x40dd67(0x87b)]['queryParameters'],'bodyParameters':_0x3481e3['tool']['bodyParameters'],'contextOutputVariable':_0x3481e3[_0x40dd67(0x87b)][_0x40dd67(0x2ad)],'links':_0x3481e3[_0x40dd67(0x436)]};case _0x3792cf[_0x40dd67(0x6a7)]:return{'type':_0x3481e3[_0x40dd67(0x70f)],'id':_0x3481e3['id'],'uid':_0x3481e3['uid'],'modelId':_0x3481e3[_0x40dd67(0x87b)][_0x40dd67(0xa05)]??_0x40dd67(0x834),'links':_0x3481e3[_0x40dd67(0x436)]};case _0x3792cf[_0x40dd67(0x35f)]:case _0x3792cf[_0x40dd67(0x202)]:case _0x3792cf[_0x40dd67(0xac1)]:case _0x3792cf[_0x40dd67(0x464)]:case _0x3792cf[_0x40dd67(0x890)]:case _0x3792cf['Search']:case _0x3792cf['WebScraper']:case _0x3792cf['WebScraperRaw']:case _0x3792cf[_0x40dd67(0x4f3)]:case _0x3792cf['WriteFile']:case _0x3792cf[_0x40dd67(0x912)]:case _0x3792cf[_0x40dd67(0x899)]:return{'type':_0x3481e3['type'],'id':_0x3481e3['id'],'uid':_0x3481e3[_0x40dd67(0x76c)],'links':_0x3481e3[_0x40dd67(0x436)]};case _0x3792cf['ChunkSplitter']:case _0x3792cf[_0x40dd67(0x1f3)]:return{'type':_0x3481e3[_0x40dd67(0x70f)],'id':_0x3481e3['id'],'uid':_0x3481e3[_0x40dd67(0x76c)],'links':_0x3481e3[_0x40dd67(0x436)],'attributes':_0x3481e3['attributes']};default:throw new _0x44727e(_0x44727e['codes']['WorkflowInvalidBlockType'],{'block':_0x3481e3});}});}['parseDataCollectionBlocks'](_0x158043,_0x4c5b1c){const _0x495ef4=_0x49e620;return _0x158043?_0x158043[_0x495ef4(0x3bb)](_0x269210=>{const _0x33a853=_0x495ef4;switch(_0x269210[_0x33a853(0x70f)]){case _0x104f2b[_0x33a853(0x783)]:const _0x2afa4f=_0x4c5b1c['find'](_0x360d3c=>_0x360d3c['id']===_0x269210['id']);if(!_0x2afa4f)throw new _0x44727e(_0x44727e[_0x33a853(0x849)][_0x33a853(0x278)],{'block':_0x269210});return{'type':_0x269210['type'],'id':_0x269210['id'],'uid':_0x269210[_0x33a853(0x76c)],'description':_0x2afa4f['description'],'instructions':(_0x2afa4f[_0x33a853(0x8c9)]+'\x0a\x0a'+(_0x269210[_0x33a853(0x3d3)]?.['additionnalInstructions']??''))[_0x33a853(0x547)](),'contextOutputVariable':_0x269210[_0x33a853(0x3d3)]?.[_0x33a853(0x2ad)],'contextInputVariable':_0x269210[_0x33a853(0x3d3)]?.[_0x33a853(0x801)],'reasoning':_0x269210[_0x33a853(0x3d3)]?.[_0x33a853(0x282)]??!0x1,'grammar':_0x269210[_0x33a853(0x3d3)]?.['grammar']??_0x33a853(0x806),'temperature':_0x269210['agent']?.[_0x33a853(0x752)]??0.5,'maxTokens':_0x269210[_0x33a853(0x3d3)]?.[_0x33a853(0xa6f)]??0x1f4,'modelId':_0x269210[_0x33a853(0x3d3)]?.[_0x33a853(0xa05)]??'gpt-4o-mini','links':_0x269210[_0x33a853(0x436)]};case _0x104f2b['GraphDatabase']:case _0x104f2b[_0x33a853(0x773)]:case _0x104f2b['WordSplitter']:case _0x104f2b[_0x33a853(0x54e)]:case _0x104f2b[_0x33a853(0x3e9)]:case _0x104f2b[_0x33a853(0x8de)]:return{'type':_0x269210['type'],'id':_0x269210['id'],'uid':_0x269210[_0x33a853(0x76c)],'links':_0x269210[_0x33a853(0x436)],'attributes':_0x269210[_0x33a853(0xa00)]};case _0x104f2b[_0x33a853(0x253)]:case _0x104f2b[_0x33a853(0x8c4)]:case _0x104f2b[_0x33a853(0x35a)]:case _0x104f2b[_0x33a853(0x6b0)]:case _0x104f2b[_0x33a853(0x899)]:case _0x104f2b[_0x33a853(0x912)]:case _0x104f2b[_0x33a853(0x785)]:case _0x104f2b[_0x33a853(0xb3e)]:case _0x104f2b['Context']:case _0x104f2b[_0x33a853(0x35f)]:case _0x104f2b['Upload']:case _0x104f2b[_0x33a853(0x88e)]:return{'type':_0x269210[_0x33a853(0x70f)],'id':_0x269210['id'],'uid':_0x269210['uid'],'links':_0x269210['links']};default:throw new _0x44727e(_0x44727e[_0x33a853(0x849)][_0x33a853(0x278)],{'block':_0x269210});}}):[];}async[_0x49e620(0x6da)](_0x461e0f){const _0x107ecd=_0x49e620,_0x3fb440=(await(0x0,_0x3e7f37[_0x107ecd(0x5d8)])((0x0,_0x3e7f37[_0x107ecd(0x828)])(_0xfa2cd[_0x107ecd(0x5d4)](),'/developers/'+_0x461e0f+'/resources/generative-ai-agent/items')))['docs'][_0x107ecd(0x3bb)](_0x3bcdbd=>{const _0x330c60=_0x107ecd,_0x1dd87d=_0x3bcdbd[_0x330c60(0x7b6)]();return{'type':_0x3792cf[_0x330c60(0x783)],'id':_0x3bcdbd['id'],'name':_0x1dd87d[_0x330c60(0x9b3)],'description':_0x1dd87d[_0x330c60(0x29a)],'instructions':_0x1dd87d[_0x330c60(0x8c9)]};});return _0x3fb440[_0x107ecd(0x6b8)](..._0x14e39b),_0x3fb440[_0x107ecd(0x6b8)](..._0x23dc17),_0x3fb440;}}const _0x1aeff7=_0x59a014[_0x49e620(0x777)]();class _0x2e29a9 extends _0x3c564f{[_0x49e620(0xaa8)];[_0x49e620(0x2e6)];[_0x49e620(0x32c)]=0x0;[_0x49e620(0x474)]=0x0;[_0x49e620(0x83f)];constructor(_0x108cf1,_0xb41e14,_0x1e157c,_0x221e7e){const _0x16e522=_0x49e620;super(_0x108cf1,_0xb41e14,_0x221e7e),this[_0x16e522(0xaa8)]=_0x108cf1,this[_0x16e522(0x2e6)]=_0x1e157c,this[_0x16e522(0x61d)]();}['destroy'](){const _0x5a55fa=_0x49e620;this['debounceStats']&&(clearTimeout(this[_0x5a55fa(0x83f)]),delete this['debounceStats']),super[_0x5a55fa(0x1d5)]();}[_0x49e620(0x8a0)](){const _0x36410c=_0x49e620;this['prompts']=0x0,this[_0x36410c(0x474)]=0x0,this[_0x36410c(0x61d)](),super['reset']();}[_0x49e620(0x8e7)](_0x1a611e){const _0x55a6b8=_0x49e620,_0xf3af13=_0x55a6b8(0x581)+(0x0,_0x3c37ba['v4'])();switch(_0x1a611e[_0x55a6b8(0x70f)]){case _0x55a6b8(0x30a):{let _0x22bd9a=!0x1;const _0x143b06=()=>{const _0x29d764=_0x55a6b8;if(_0x22bd9a)throw new _0x44727e(_0x44727e[_0x29d764(0x849)][_0x29d764(0x63f)]);_0x22bd9a=!0x0;};return{'id':_0xf3af13,..._0x1a611e,'run':()=>(_0x143b06(),this[_0x55a6b8(0x2fc)](_0xf3af13,_0x1a611e))};}case _0x55a6b8(0x8b5):{let _0x481bbd=!0x1;const _0x5e3a8a=()=>{const _0x47f2ea=_0x55a6b8;if(_0x481bbd)throw new _0x44727e(_0x44727e['codes'][_0x47f2ea(0x63f)]);_0x481bbd=!0x0;};return{'id':_0xf3af13,..._0x1a611e,'run':()=>(_0x5e3a8a(),this[_0x55a6b8(0x2fc)](_0xf3af13,_0x1a611e))};}case'collection-query':{let _0x3324eb=!0x1;const _0x57bc6f=()=>{const _0x2a6b60=_0x55a6b8;if(_0x3324eb)throw new _0x44727e(_0x44727e['codes'][_0x2a6b60(0x63f)]);_0x3324eb=!0x0;};return{'id':_0xf3af13,..._0x1a611e,'run':()=>(_0x57bc6f(),this['internalJob'](_0xf3af13,_0x1a611e))};}case _0x55a6b8(0xb08):{let _0x348582=!0x1;const _0x4a1d97=()=>{if(_0x348582)throw new _0x44727e(_0x44727e['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x348582=!0x0;};return{'id':_0xf3af13,..._0x1a611e,'run':()=>(_0x4a1d97(),this[_0x55a6b8(0x2fc)](_0xf3af13,_0x1a611e))};}case'file-download':{let _0x150f3f=!0x1;const _0x4a62b6=()=>{const _0x5d0805=_0x55a6b8;if(_0x150f3f)throw new _0x44727e(_0x44727e[_0x5d0805(0x849)]['GenerativeAIContextJobAlreadyConsumed']);_0x150f3f=!0x0;};return{'id':_0xf3af13,..._0x1a611e,'run':()=>(_0x4a62b6(),this[_0x55a6b8(0x2fc)](_0xf3af13,_0x1a611e))};}case'file-ingest':{let _0x413f7a=!0x1;const _0x48a573=()=>{const _0x411b6a=_0x55a6b8;if(_0x413f7a)throw new _0x44727e(_0x44727e[_0x411b6a(0x849)]['GenerativeAIContextJobAlreadyConsumed']);_0x413f7a=!0x0;};return{'id':_0xf3af13,..._0x1a611e,'run':()=>(_0x48a573(),this['internalJob'](_0xf3af13,_0x1a611e))};}case'file-list':{let _0x240216=!0x1;const _0x29f06a=()=>{const _0x38c46d=_0x55a6b8;if(_0x240216)throw new _0x44727e(_0x44727e['codes'][_0x38c46d(0x63f)]);_0x240216=!0x0;};return{'id':_0xf3af13,..._0x1a611e,'run':()=>(_0x29f06a(),this[_0x55a6b8(0x2fc)](_0xf3af13,_0x1a611e))};}case'rate':{let _0x1b385c=!0x1;const _0x2501b8=()=>{const _0x4ede25=_0x55a6b8;if(_0x1b385c)throw new _0x44727e(_0x44727e[_0x4ede25(0x849)]['GenerativeAIContextJobAlreadyConsumed']);_0x1b385c=!0x0;};return{'id':_0xf3af13,..._0x1a611e,'run':()=>(_0x2501b8(),this[_0x55a6b8(0x2fc)](_0xf3af13,_0x1a611e))};}case _0x55a6b8(0x2f7):{let _0x302dd8=!0x1;const _0x2c87ea=()=>{const _0x5c70ee=_0x55a6b8;if(_0x302dd8)throw new _0x44727e(_0x44727e[_0x5c70ee(0x849)][_0x5c70ee(0x63f)]);_0x302dd8=!0x0;};return{'id':_0xf3af13,..._0x1a611e,'run':()=>(_0x2c87ea(),this[_0x55a6b8(0x2fc)](_0xf3af13,_0x1a611e))};}case _0x55a6b8(0x861):{let _0x24d6aa=!0x1;const _0x2642d4=()=>{const _0x2371a5=_0x55a6b8;if(_0x24d6aa)throw new _0x44727e(_0x44727e[_0x2371a5(0x849)][_0x2371a5(0x63f)]);_0x24d6aa=!0x0;};return{'id':_0xf3af13,..._0x1a611e,'run':()=>(_0x2642d4(),this[_0x55a6b8(0x2fc)](_0xf3af13,_0x1a611e))};}case _0x55a6b8(0x2c2):{let _0x2e53fd=!0x1;const _0x2bea4d=()=>{const _0x4c5884=_0x55a6b8;if(_0x2e53fd)throw new _0x44727e(_0x44727e['codes'][_0x4c5884(0x63f)]);_0x2e53fd=!0x0;};return{'id':_0xf3af13,..._0x1a611e,'run':()=>(_0x2bea4d(),this['internalJob'](_0xf3af13,_0x1a611e))};}case _0x55a6b8(0x949):case'prompt':let _0x240115=!0x1;const _0x50bc34=()=>{const _0x407db8=_0x55a6b8;if(_0x240115)throw new _0x44727e(_0x44727e[_0x407db8(0x849)][_0x407db8(0x63f)]);_0x240115=!0x0;},_0x180694=()=>(_0x50bc34(),this[_0x55a6b8(0x906)](_0xf3af13,_0x1a611e)),_0x1e10e8=()=>(_0x50bc34(),this['stream'](_0xf3af13,_0x1a611e));return{'id':_0xf3af13,'options':{'threadId':_0x55a6b8(0x546)+(0x0,_0x3c37ba['v4'])()},..._0x1a611e,'run':_0x180694,'stream':_0x1e10e8};default:throw new Error(_0x55a6b8(0x433));}}async[_0x49e620(0x2fc)](_0x5e7226,_0x40a6bc){const _0x2eb474=_0x49e620;if(_0x2eb474(0x949)===_0x40a6bc[_0x2eb474(0x70f)]||_0x2eb474(0x481)===_0x40a6bc[_0x2eb474(0x70f)])throw new _0x2c2152(_0x3608be[_0x2eb474(0x889)],_0x2eb474(0x433));const _0x449b55={'threadId':_0x2eb474(0x546)+(0x0,_0x3c37ba['v4'])(),..._0x40a6bc},_0x45d295=await this[_0x2eb474(0x2bc)](_0x5e7226,_0x596e17[_0x2eb474(0x2c7)][_0x2eb474(0x80c)],_0x449b55);return new Promise((_0x13b324,_0x36d871)=>{const _0x598a16=_0x2eb474;let _0x370978;const _0x56ee15=_0x45d295[_0x598a16(0xa34)]({'next':_0x26dba0=>{const _0x44f86b=_0x598a16;switch(_0x26dba0['status']){case _0x596e17['JobStatus'][_0x44f86b(0x7b7)]:clearTimeout(_0x370978),_0x13b324(_0x26dba0['result']),_0x56ee15[_0x44f86b(0x2aa)]();break;case _0x596e17[_0x44f86b(0x932)]['Failed']:clearTimeout(_0x370978),_0x36d871(new _0x44727e(_0x44727e[_0x44f86b(0x849)][_0x44f86b(0x9a5)],{'updatedJob':_0x26dba0})),_0x56ee15[_0x44f86b(0x2aa)]();}},'error':_0x2bac07=>{const _0x2647b2=_0x598a16;clearTimeout(_0x370978),_0x36d871(new _0x44727e(_0x44727e[_0x2647b2(0x849)]['GenerativeAIContextJobFailed'],{'err':_0x2bac07})),_0x56ee15['unsubscribe']();}});_0x370978=setTimeout(()=>{const _0x3e0cf6=_0x598a16;_0x36d871(new _0x44727e(_0x44727e['codes']['GenerativeAIContextJobTimeout'])),_0x56ee15[_0x3e0cf6(0x2aa)]();},_0x56a24b);});}async[_0x49e620(0x906)](_0x2e7fcd,_0x28539c){const _0x4b086c=_0x49e620,_0x5895b4=await this[_0x4b086c(0x2bc)](_0x2e7fcd,_0x596e17[_0x4b086c(0x2c7)][_0x4b086c(0x80c)],_0x28539c);return new Promise((_0x101cd9,_0x277bbb)=>{const _0x4fabe7=_0x4b086c;let _0x490a2b;const _0x4740bb=_0x5895b4[_0x4fabe7(0xa34)]({'next':_0x3dc299=>{const _0xdc0187=_0x4fabe7;switch(_0x3dc299['status']){case _0x596e17[_0xdc0187(0x932)]['Completed']:if(_0xdc0187(0x481)!==_0x3dc299[_0xdc0187(0x3c3)][_0xdc0187(0x70f)])return;const _0x4779c0=_0x3dc299['result'][_0xdc0187(0x888)]??0x0;this[_0xdc0187(0x5d3)](_0x28539c['prompt'],_0x4779c0),clearTimeout(_0x490a2b),_0x101cd9(_0x3dc299['result']),_0x4740bb[_0xdc0187(0x2aa)](),this[_0xdc0187(0x32c)]+=0x1,this[_0xdc0187(0x474)]+=_0x4779c0,this['sendStats']();break;case _0x596e17[_0xdc0187(0x932)][_0xdc0187(0x6fc)]:clearTimeout(_0x490a2b),_0x277bbb(new _0x44727e(_0x44727e[_0xdc0187(0x849)][_0xdc0187(0x9a5)],{'updatedJob':_0x3dc299})),_0x4740bb['unsubscribe'](),this[_0xdc0187(0x61d)]();}},'error':_0x470125=>{const _0x1cb3c5=_0x4fabe7;clearTimeout(_0x490a2b),_0x277bbb(new _0x44727e(_0x44727e[_0x1cb3c5(0x849)][_0x1cb3c5(0x9a5)],{'err':_0x470125})),_0x4740bb[_0x1cb3c5(0x2aa)]();}});_0x490a2b=setTimeout(()=>{const _0x1e6847=_0x4fabe7;_0x277bbb(new _0x44727e(_0x44727e[_0x1e6847(0x849)][_0x1e6847(0x713)])),_0x4740bb[_0x1e6847(0x2aa)]();},_0x56a24b);});}async*['stream'](_0x51e036,_0x46cd78){const _0x36a355=_0x49e620,_0x80a2ea=await this['getJobObservable'](_0x51e036,_0x596e17['JobType'][_0x36a355(0x210)],_0x46cd78);let _0x58036e,_0x34260e,_0x25bcf0=!0x1,_0x51ea60=0x0;const _0x36f842=[],_0x3b2170=new Map();let _0x6e95f9=null;const _0x4a63e6=()=>{_0x6e95f9&&(_0x6e95f9(),_0x6e95f9=null);},_0x7f04b5=_0x1cdf9e=>{const _0x3a1e2a=_0x36a355;_0x25bcf0=!0x0,_0x4a63e6(),_0x42a0e5[_0x3a1e2a(0x2aa)](),_0x34260e=_0x1cdf9e;},_0x42a0e5=_0x80a2ea[_0x36a355(0xa34)]({'next':async _0x2fbedc=>{const _0xdf81c4=_0x36a355;switch(_0x2fbedc[_0xdf81c4(0xa3b)]){case _0x596e17[_0xdf81c4(0x932)][_0xdf81c4(0x67b)]:if(_0xdf81c4(0x481)!==_0x2fbedc[_0xdf81c4(0x3c3)][_0xdf81c4(0x70f)])return;if(void 0x0!==_0x2fbedc[_0xdf81c4(0x3c3)][_0xdf81c4(0x582)]){if(void 0x0===_0x2fbedc[_0xdf81c4(0x3c3)][_0xdf81c4(0x6d0)])return void _0x7f04b5(_0x44727e[_0xdf81c4(0x849)][_0xdf81c4(0x236)]);_0x51ea60===_0x2fbedc[_0xdf81c4(0x3c3)]['index']?(_0x36f842[_0xdf81c4(0x6b8)](_0x2fbedc[_0xdf81c4(0x3c3)]),_0x51ea60++,((()=>{const _0x59cc91=_0xdf81c4;for(;_0x3b2170[_0x59cc91(0x29d)](_0x51ea60);)_0x36f842['push'](_0x3b2170[_0x59cc91(0x680)](_0x36f842[_0x59cc91(0x8bc)])),_0x3b2170[_0x59cc91(0x55f)](_0x36f842[_0x59cc91(0x8bc)]),_0x51ea60++;})()),_0x4a63e6(),_0x47a2c3()):_0x3b2170[_0xdf81c4(0x9fa)](_0x2fbedc[_0xdf81c4(0x3c3)][_0xdf81c4(0x6d0)],_0x2fbedc[_0xdf81c4(0x3c3)]);}break;case _0x596e17['JobStatus'][_0xdf81c4(0x7b7)]:if(_0xdf81c4(0x481)!==_0x2fbedc[_0xdf81c4(0x3c3)][_0xdf81c4(0x70f)])return;for(;_0x51ea60!==_0x2fbedc[_0xdf81c4(0x3c3)]['index'];)await _0x285f59[_0xdf81c4(0x7fd)](0x3e8);const _0x4b40ae=_0x2fbedc['result'][_0xdf81c4(0x888)]??0x0;this[_0xdf81c4(0x5d3)](_0x46cd78[_0xdf81c4(0x481)],_0x4b40ae),clearTimeout(_0x58036e),_0x7f04b5(),this[_0xdf81c4(0x32c)]+=0x1,this[_0xdf81c4(0x474)]+=_0x4b40ae,this[_0xdf81c4(0x61d)]();break;case _0x596e17[_0xdf81c4(0x932)][_0xdf81c4(0x6fc)]:clearTimeout(_0x58036e),_0x7f04b5(_0x44727e['codes'][_0xdf81c4(0x9a5)]),this['sendStats']();}},'error':_0x3d973c=>{const _0x5597c5=_0x36a355;clearTimeout(_0x58036e),_0x7f04b5(_0x44727e[_0x5597c5(0x849)][_0x5597c5(0x9a5)]);}}),_0x39ff86=()=>{const _0x281bf0=_0x36a355;_0x7f04b5(_0x44727e[_0x281bf0(0x849)][_0x281bf0(0x713)]);},_0x47a2c3=()=>{clearTimeout(_0x58036e),_0x58036e=setTimeout(_0x39ff86,_0x56a24b);};for(_0x58036e=setTimeout(_0x39ff86,_0x56a24b);!_0x25bcf0||_0x36f842['length']>0x0;)_0x36f842[_0x36a355(0x8bc)]>0x0?yield _0x36f842[_0x36a355(0x89f)]():await new Promise(_0x52c271=>_0x6e95f9=_0x52c271);if(_0x34260e)throw _0xb8b103['error'](_0x36a355(0xadf),{'nodeId':this[_0x36a355(0xaa8)][_0x36a355(0x27e)](),'nodeType':this['localNode'][_0x36a355(0x70f)]}),new _0x44727e(_0x34260e);}async[_0x49e620(0xb4e)](){const _0x134ed6=_0x49e620;return(await _0x1aeff7[_0x134ed6(0xb0e)](this[_0x134ed6(0x2e6)],this[_0x134ed6(0x73a)]))[_0x134ed6(0x79a)];}[_0x49e620(0x5d3)](_0xc8e91a,_0x16c1da){const _0xb6e069=_0x49e620,_0x2a491a=this[_0xb6e069(0x73a)],_0xac86e1=this[_0xb6e069(0x8fa)]();_0xb8b103[_0xb6e069(0x5d3)](_0x474c1d[_0xb6e069(0x68d)],{'topic':_0x2a491a,'prompt':_0xc8e91a,'type':_0xb6e069(0x481),'nodeId':_0xac86e1,'tokenCount':_0x16c1da});}async[_0x49e620(0x2bc)](_0x5c7e6b,_0x203ea5,_0xd2bc7d,_0x1351f6={}){const _0x1dfa01=_0x49e620;let _0x434739;switch(_0xd2bc7d[_0x1dfa01(0x70f)]){case _0x1dfa01(0x30a):case'collection-delete':case'collection-query':case'embed':case _0x1dfa01(0xb08):case'file-download':case'file-ingest':case _0x1dfa01(0x533):case _0x1dfa01(0x949):case _0x1dfa01(0x481):case'rate':case _0x1dfa01(0x2f7):case'tool-call':_0x434739={'id':_0x5c7e6b,'jobType':_0x203ea5,'parameters':{..._0x1351f6,..._0xd2bc7d},'status':_0x596e17[_0x1dfa01(0x932)][_0x1dfa01(0x8f6)]};break;default:throw new Error('Invalid\x20job\x20type');}return await this[_0x1dfa01(0x894)](_0x434739);}[_0x49e620(0x61d)](){const _0x223602=_0x49e620;this[_0x223602(0x83f)]&&clearTimeout(this[_0x223602(0x83f)]),this[_0x223602(0x83f)]=setTimeout(async()=>{const _0x1a16cd=_0x223602;delete this[_0x1a16cd(0x83f)],this['systemTopic'][_0x1a16cd(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665['Content'],'content':{'type':_0xbc0bd6['GenerativeAIContextStats'],'label':this[_0x1a16cd(0x73a)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x1a16cd(0x4f0)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x1a16cd(0x32c)],'tokens':this[_0x1a16cd(0x474)]}}});},_0x4f3413);}}var _0x2f6bf6,_0x2e8912,_0x4ad3a8,_0x10de74,_0x12bd90,_0x207860,_0x52fa6c,_0xeaa89,_0x2840e7,_0x20eae8,_0x4c274c;!function(_0x51ac4e){const _0x553bb6=_0x49e620;_0x51ac4e[_0x553bb6(0x425)]=_0x553bb6(0x425),_0x51ac4e[_0x553bb6(0xb13)]=_0x553bb6(0xb13),_0x51ac4e[_0x553bb6(0x568)]='RetrieveTrace',_0x51ac4e[_0x553bb6(0x1ca)]=_0x553bb6(0x1ca);}(_0x2f6bf6||(_0x2f6bf6={})),function(_0x24cae4){const _0x27f85e=_0x49e620;_0x24cae4['ModelText']=_0x27f85e(0x2ed),_0x24cae4[_0x27f85e(0x237)]=_0x27f85e(0x237),_0x24cae4[_0x27f85e(0x4f4)]='VectorSearch',_0x24cae4['EntityExtractor']=_0x27f85e(0x3e9),_0x24cae4[_0x27f85e(0x851)]=_0x27f85e(0x851),_0x24cae4[_0x27f85e(0x8de)]='Reranker';}(_0x2e8912||(_0x2e8912={})),function(_0x2f8d5a){const _0x4d443f=_0x49e620;_0x2f8d5a[_0x2f8d5a[_0x4d443f(0x504)]=0x0]='Debug',_0x2f8d5a[_0x2f8d5a[_0x4d443f(0x354)]=0x5]='Info',_0x2f8d5a[_0x2f8d5a['Warning']=0xa]=_0x4d443f(0x29e),_0x2f8d5a[_0x2f8d5a[_0x4d443f(0x77b)]=0xf]=_0x4d443f(0x77b);}(_0x4ad3a8||(_0x4ad3a8={})),function(_0x495375){const _0x1442e0=_0x49e620;_0x495375[_0x1442e0(0x24d)]=_0x1442e0(0x24d),_0x495375[_0x1442e0(0x5ed)]=_0x1442e0(0x5ed),_0x495375['Knowledge']=_0x1442e0(0x470),_0x495375[_0x1442e0(0xa6c)]=_0x1442e0(0xa6c),_0x495375[_0x1442e0(0x395)]=_0x1442e0(0x395),_0x495375[_0x1442e0(0x80c)]=_0x1442e0(0x80c),_0x495375[_0x1442e0(0x26c)]=_0x1442e0(0x26c),_0x495375[_0x1442e0(0x648)]=_0x1442e0(0x648);}(_0x10de74||(_0x10de74={})),function(_0x3d6ffa){const _0x25613b=_0x49e620;_0x3d6ffa[_0x25613b(0x7e4)]='Queued',_0x3d6ffa[_0x25613b(0x7b7)]=_0x25613b(0x7b7);}(_0x12bd90||(_0x12bd90={})),function(_0x18ec80){const _0x483a42=_0x49e620;_0x18ec80[_0x483a42(0x1dc)]='InitialPrompt',_0x18ec80['IntermediateOutput']=_0x483a42(0x7a7),_0x18ec80[_0x483a42(0x83a)]='DataCollection',_0x18ec80[_0x483a42(0x255)]=_0x483a42(0x255);}(_0x207860||(_0x207860={})),function(_0x145d90){const _0x199806=_0x49e620;_0x145d90[_0x199806(0x54e)]='ChunkSplitter',_0x145d90[_0x199806(0x899)]=_0x199806(0x899),_0x145d90[_0x199806(0x3e9)]='EntityExtractor',_0x145d90[_0x199806(0x48b)]=_0x199806(0x48b),_0x145d90['Agent']=_0x199806(0x783),_0x145d90[_0x199806(0x2ed)]=_0x199806(0x2ed),_0x145d90[_0x199806(0x237)]=_0x199806(0x237),_0x145d90['RelationExtractor']=_0x199806(0x6b0),_0x145d90[_0x199806(0x912)]=_0x199806(0x912),_0x145d90[_0x199806(0x773)]=_0x199806(0x773),_0x145d90[_0x199806(0x1f3)]=_0x199806(0x1f3);}(_0x52fa6c||(_0x52fa6c={})),function(_0x2d4e4b){const _0x475891=_0x49e620;_0x2d4e4b[_0x475891(0x902)]='GetContextQuery',_0x2d4e4b[_0x475891(0x5f6)]=_0x475891(0x5f6);}(_0xeaa89||(_0xeaa89={})),function(_0x58cc7b){const _0x3b3882=_0x49e620;_0x58cc7b[_0x3b3882(0x805)]=_0x3b3882(0x805),_0x58cc7b[_0x3b3882(0x9e3)]=_0x3b3882(0x9e3),_0x58cc7b['SearchGoogle']=_0x3b3882(0x262),_0x58cc7b['SearchPerplexity']='SearchPerplexity',_0x58cc7b[_0x3b3882(0x8b2)]=_0x3b3882(0x8b2),_0x58cc7b[_0x3b3882(0x1d6)]=_0x3b3882(0x1d6),_0x58cc7b[_0x3b3882(0x4f3)]=_0x3b3882(0x4f3),_0x58cc7b['WriteFile']=_0x3b3882(0x44a);}(_0x2840e7||(_0x2840e7={})),function(_0x5b722a){const _0x3596ea=_0x49e620;_0x5b722a[_0x3596ea(0xacb)]=_0x3596ea(0xacb),_0x5b722a[_0x3596ea(0x934)]='LoadSkillFunction';}(_0x20eae8||(_0x20eae8={})),function(_0x48202a){const _0x44ff25=_0x49e620;_0x48202a[_0x44ff25(0x367)]=_0x44ff25(0x367);}(_0x4c274c||(_0x4c274c={}));class _0x2081a3{static [_0x49e620(0xb66)]=new _0x2081a3();[_0x49e620(0x23f)]=[];[_0x49e620(0x81a)]=!0x1;constructor(){}static[_0x49e620(0x777)](){const _0x226bcd=_0x49e620;return _0x2081a3[_0x226bcd(0xb66)];}get[_0x49e620(0x8bc)](){const _0x49a6c4=_0x49e620;return this['jobQueue'][_0x49a6c4(0x8bc)];}[_0x49e620(0x501)](){const _0x5a61ea=_0x49e620;return!this[_0x5a61ea(0x81a)];}[_0x49e620(0x9c6)](_0x2a21b7){const _0x3badd6=_0x49e620;_0x2a21b7?this[_0x3badd6(0x23f)]=this[_0x3badd6(0x23f)][_0x3badd6(0x9e5)](_0x557bd6=>_0x557bd6['ownerId']!==_0x2a21b7):(this['jobQueue']=[],this[_0x3badd6(0x81a)]=!0x1);}[_0x49e620(0x554)](_0x475559,_0x5dd4e6){const _0x2d3c3f=_0x49e620;this[_0x2d3c3f(0x23f)]['push']({'callback':_0x5dd4e6,'ownerId':_0x475559}),this[_0x2d3c3f(0x8d2)]();}async[_0x49e620(0x8d2)](){const _0x4c4e4a=_0x49e620;if(!this[_0x4c4e4a(0x81a)]){for(this[_0x4c4e4a(0x81a)]=!0x0;this[_0x4c4e4a(0x23f)][_0x4c4e4a(0x8bc)]>0x0;){const _0x11ebf2=this['jobQueue'][_0x4c4e4a(0x89f)]();if(_0x11ebf2)try{console[_0x4c4e4a(0x413)](_0x4c4e4a(0x51f)),await _0x11ebf2['callback'](),console[_0x4c4e4a(0x413)](_0x4c4e4a(0x8ff));}catch(_0x5b3f6d){console['error'](_0x4c4e4a(0xa39),_0x5b3f6d);}}this['isRunning']=!0x1;}}}const _0x32b080=_0x2081a3['getInstance']();class _0x1e9356 extends _0x2cad14{[_0x49e620(0x635)];[_0x49e620(0x301)];constructor(_0x56a088,_0xb7e398,_0x21c038){const _0x429a56=_0x49e620;super(_0x56a088,_0xb7e398),this[_0x429a56(0x635)]=_0x21c038;}['getContentType'](){const _0x547664=_0x49e620;return _0x596e17[_0x547664(0x7dd)][_0x547664(0x80c)];}[_0x49e620(0x73d)](){const _0x244b81=_0x49e620;this[_0x244b81(0x67d)]();}[_0x49e620(0x5c2)](){const _0x24588d=_0x49e620;this[_0x24588d(0x321)]?.[_0x24588d(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x24588d(0x303)],'content':{'type':_0xbc0bd6[_0x24588d(0x694)],'label':this[_0x24588d(0x73a)]}});}[_0x49e620(0x8a0)](){const _0x51a025=_0x49e620;this[_0x51a025(0x301)]?.(),delete this[_0x51a025(0x301)],this['open']();}[_0x49e620(0x1d5)](){const _0x244934=_0x49e620;_0x32b080[_0x244934(0x9c6)](this['label']),this['unsubscribeListener']?.(),delete this[_0x244934(0x301)],super['destroy']();}['isAvailable'](){const _0x1e91e4=_0x49e620;return _0x32b080[_0x1e91e4(0x501)]();}['getBid'](){return 0x1;}['compileStats'](_0x13109a,_0x10e337,_0x3e76d8){}['accumulateResult'](_0x18a435,_0x44c98e){return _0x18a435;}async[_0x49e620(0x590)](_0xfa01ff,_0x42095f){const _0x44230d=_0x49e620;console[_0x44230d(0x413)](_0x44230d(0x5d1));}async[_0x49e620(0x647)](_0x4e73ff,_0x217826){const _0x2a935a=_0x49e620;console[_0x2a935a(0x413)]('JobWorker:\x20Tracing\x20not\x20implemented');}[_0x49e620(0x67d)](){const _0x23d154=_0x49e620;this[_0x23d154(0x301)]||(this[_0x23d154(0x301)]=this[_0x23d154(0x1c5)](async(_0x3f7629,_0x2c2c62)=>{const _0x31b7f6=_0x23d154;if(_0xb8b103[_0x31b7f6(0xad5)](_0xad09e4[_0x31b7f6(0x3a3)],'JobWorker:\x20Received\x20job',_0x2c2c62),!(_0x2c2c62 instanceof File)){if(this[_0x31b7f6(0x7b0)](_0x2c2c62))_0xb8b103[_0x31b7f6(0xad5)](_0xad09e4[_0x31b7f6(0x3a3)],_0x31b7f6(0x541),_0x2c2c62),this[_0x31b7f6(0x501)]()?this[_0x31b7f6(0x8a4)](_0x2c2c62['id'],_0x2c2c62[_0x31b7f6(0x71b)],_0x3f7629):this[_0x31b7f6(0xa3e)](_0x2c2c62['id'],_0x2c2c62[_0x31b7f6(0x71b)],_0x3f7629);else{if(this['isJobAttribution'](_0x2c2c62)){_0xb8b103['log'](_0xad09e4['Jobs'],_0x31b7f6(0xb2a),_0x2c2c62);const {id:_0x403411,parameters:_0x267838}=_0x2c2c62;await this['startTracing'](_0x403411,_0x267838),this[_0x31b7f6(0xad2)](_0x2c2c62['id'],_0x2c2c62,_0x3f7629);}}}}));}[_0x49e620(0x8a4)](_0x1e2038,_0x219d41,_0x385805){const _0x6e79b7=_0x49e620,_0xac8766={'id':_0x1e2038,'jobType':_0x219d41,'jobPhase':_0x4170e5[_0x6e79b7(0x753)],'available':!0x0,'queueLength':_0x32b080[_0x6e79b7(0x8bc)],'bid':this[_0x6e79b7(0x72b)]()};_0xb8b103[_0x6e79b7(0xad5)](_0xad09e4[_0x6e79b7(0x3a3)],_0x6e79b7(0xaa3),_0xac8766),this[_0x6e79b7(0x201)](_0xac8766,[_0x385805]);}[_0x49e620(0xa3e)](_0x1bb14b,_0xa33925,_0x328bd9){const _0x2c40f5=_0x49e620,_0x36548c={'id':_0x1bb14b,'jobType':_0xa33925,'jobPhase':_0x4170e5[_0x2c40f5(0x753)],'available':!0x1,'queueLength':_0x32b080[_0x2c40f5(0x8bc)],'bid':0x0};_0xb8b103['log'](_0xad09e4[_0x2c40f5(0x3a3)],_0x2c40f5(0x6d2),_0x36548c),this[_0x2c40f5(0x201)](_0x36548c,[_0x328bd9]);}async[_0x49e620(0xad2)](_0x49a54d,_0x1bc2d4,_0xc7f2e6){const _0x562ba1=_0x49e620;_0xb8b103[_0x562ba1(0xad5)](_0xad09e4[_0x562ba1(0x3a3)],_0x562ba1(0x5b2),_0x1bc2d4);const _0x5ab3e6={'id':_0x49a54d,'jobType':_0x1bc2d4[_0x562ba1(0x71b)],'parameters':_0x1bc2d4[_0x562ba1(0x21e)]};try{switch(_0x1bc2d4[_0x562ba1(0x71b)]){case _0x596e17['JobType'][_0x562ba1(0x80c)]:await this['processJob'](_0x49a54d,_0x1bc2d4,_0x5ab3e6,_0xc7f2e6);break;case _0x596e17[_0x562ba1(0x2c7)][_0x562ba1(0x210)]:await this['processJobStream'](_0x49a54d,_0x1bc2d4,_0x5ab3e6,_0xc7f2e6);break;default:throw new Error(_0x562ba1(0x961));}}catch(_0x57f54c){_0xb8b103[_0x562ba1(0x528)]('JobWorker:\x20Error\x20processing\x20job',{'nodeId':this[_0x562ba1(0x660)][_0x562ba1(0x27e)](),'nodeType':this['owner'][_0x562ba1(0x70f)],'data':{'job':_0x5ab3e6}},_0x57f54c);const _0x3d9617=_0x57f54c instanceof Error?_0x57f54c[_0x562ba1(0x977)]:_0x562ba1(0xa30),_0xf31ad8={'id':_0x49a54d,'jobType':_0x1bc2d4[_0x562ba1(0x71b)],'jobPhase':_0x4170e5[_0x562ba1(0x6fc)],'message':_0x3d9617};await this[_0x562ba1(0x201)](_0xf31ad8,[_0xc7f2e6]);}}async['processJob'](_0xfe657a,_0x5e85a8,_0x37b7b3,_0xab2109){const _0x467ced=_0x49e620,_0x3d65db=Date[_0x467ced(0x4e4)](),_0x3d0341=await this[_0x467ced(0x84d)](_0xfe657a,_0x37b7b3['parameters']);this[_0x467ced(0x3e0)](_0x3d0341,_0x3d65db,Date[_0x467ced(0x4e4)]());const _0x11a0cb={'id':_0xfe657a,'jobType':_0x5e85a8[_0x467ced(0x71b)],'jobPhase':_0x4170e5['Result'],'result':_0x3d0341};_0xb8b103[_0x467ced(0xad5)](_0xad09e4[_0x467ced(0x3a3)],_0x467ced(0x34a),_0x11a0cb),await this[_0x467ced(0x201)](_0x11a0cb,[_0xab2109]),await this['stopTracing'](_0xfe657a,_0x37b7b3[_0x467ced(0x21e)]);}async[_0x49e620(0xaa6)](_0x1517f2,_0x151f25,_0x1f9c10,_0x156a12){const _0x537b16=_0x49e620,_0x424c34=Date[_0x537b16(0x4e4)]();let _0x41a86d=0x0,_0x489e14={};for await(const _0x187c8a of this['internalProcessJobStream'](_0x1f9c10['id'],_0x1f9c10[_0x537b16(0x21e)])){const _0x2ab767={'id':_0x1517f2,'jobType':_0x151f25[_0x537b16(0x71b)],'jobPhase':_0x4170e5['PartialResult'],'result':{..._0x187c8a,'index':_0x41a86d}};_0xb8b103[_0x537b16(0xad5)](_0xad09e4[_0x537b16(0x3a3)],_0x537b16(0x22c),_0x2ab767),this['send'](_0x2ab767,[_0x156a12]),_0x489e14=this[_0x537b16(0x537)](_0x489e14,_0x187c8a),_0x41a86d++;}this[_0x537b16(0x3e0)](_0x489e14,_0x424c34,Date['now']());const _0x253e77={'id':_0x1517f2,'jobType':_0x151f25[_0x537b16(0x71b)],'jobPhase':_0x4170e5[_0x537b16(0x333)],'result':{..._0x489e14,'index':_0x41a86d}};_0xb8b103[_0x537b16(0xad5)](_0xad09e4[_0x537b16(0x3a3)],'JobWorker:\x20Sending\x20job\x20result',_0x253e77),await this['send'](_0x253e77,[_0x156a12]),await this[_0x537b16(0x647)](_0x1517f2,_0x1f9c10[_0x537b16(0x21e)]);}['isJobRequest'](_0x386541){const _0x4d07ef=_0x49e620;return _0x386541[_0x4d07ef(0x79b)]===_0x4170e5[_0x4d07ef(0xb1a)];}[_0x49e620(0x1ec)](_0x22b458){const _0xab25e1=_0x49e620;return _0x22b458[_0xab25e1(0x79b)]===_0x4170e5[_0xab25e1(0xaeb)];}}const _0x29125d=require('rxjs/operators');class _0x17891f{[_0x49e620(0x38b)];constructor(){const _0x5cd49b=_0x49e620;this[_0x5cd49b(0x38b)]=new _0xce3ec1[(_0x5cd49b(0x4e2))]();}[_0x49e620(0x8e2)](_0x5bf892){const _0x3fcf7b=_0x49e620;this[_0x3fcf7b(0x38b)][_0x3fcf7b(0x66f)](_0x5bf892);}async['once'](){const _0x265321=_0x49e620;return(0x0,_0xce3ec1['firstValueFrom'])(this[_0x265321(0x38b)][_0x265321(0x20f)]((0x0,_0x29125d[_0x265321(0x583)])(0x1)));}}function _0x44f69d(_0x437074){const _0x3a3f04=_0x49e620;try{return JSON[_0x3a3f04(0x273)](_0x437074);}catch(_0x1b9217){return _0x437074 instanceof Error?_0x437074[_0x3a3f04(0xb55)]():JSON[_0x3a3f04(0x273)](_0x3a3f04(0x707));}}class _0x3ed528{static [_0x49e620(0xb66)];[_0x49e620(0x7a3)]=_0x4ad3a8['Error'];[_0x49e620(0x455)]=_0x4ad3a8[_0x49e620(0x354)];[_0x49e620(0x7e0)]=_0x10de74[_0x49e620(0x24d)];[_0x49e620(0xb11)]={};static [_0x49e620(0x777)]=()=>(_0x3ed528[_0x49e620(0xb66)]||(_0x3ed528['instance']=new _0x3ed528()),_0x3ed528[_0x49e620(0xb66)]);async[_0x49e620(0x59c)](_0x1ab2ab,_0x561f3d,_0x436197,_0x4b92cb){const _0x68dc94=_0x49e620;try{if(this[_0x68dc94(0xb11)][_0x561f3d])throw new Error(_0x68dc94(0x5e4));const _0x5d6d9c={'vendorId':_0x1ab2ab,'workflowId':_0x436197,'sequence':0x0};return this[_0x68dc94(0xb11)][_0x561f3d]=_0x5d6d9c,!_0x4b92cb||!_0x436197||(await(0x0,_0x3e7f37[_0x68dc94(0x274)])((0x0,_0x3e7f37[_0x68dc94(0x98c)])(_0xfa2cd[_0x68dc94(0x5d4)](),_0x68dc94(0x897)+_0x1ab2ab+_0x68dc94(0x3b4)+_0x436197+_0x68dc94(0x364),_0x561f3d),{'threadId':_0x4b92cb,'startTime':(0x0,_0x3e7f37[_0x68dc94(0xaea)])()}),!0x0);}catch(_0x649ad2){return console['error']('GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.',_0x649ad2),!0x1;}}async['trace'](_0x527b2d){const _0x70ff96=_0x49e620;try{const _0xe5a3a1=this[_0x70ff96(0xb11)][_0x527b2d[_0x70ff96(0x7ed)]];if(!_0xe5a3a1)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0x527b2d[_0x70ff96(0x61e)]=_0xe5a3a1['sequence']++,_0x527b2d[_0x70ff96(0x585)]>=this['logLevel']&&console[_0x70ff96(0xad5)](JSON[_0x70ff96(0x273)](_0x527b2d,null,0x2)),await this[_0x70ff96(0x3c9)](_0x527b2d);}catch(_0x38f71d){console[_0x70ff96(0x528)](_0x70ff96(0x52e),_0x38f71d);}}async[_0x49e620(0x8ed)](_0xf2d8a5,_0x589c4){const _0x203960=_0x49e620;if(!_0x3ed528[_0x203960(0xb66)])throw new Error(_0x203960(0x383));if(!this[_0x203960(0xb11)][_0xf2d8a5])throw new Error(_0x203960(0x636));if(_0x589c4&&this['openedTraces'][_0xf2d8a5][_0x203960(0x2ba)])try{await(0x0,_0x3e7f37[_0x203960(0x274)])((0x0,_0x3e7f37[_0x203960(0x98c)])(_0xfa2cd['getFirestore'](),_0x203960(0x897)+this[_0x203960(0xb11)][_0xf2d8a5][_0x203960(0x2e6)]+'/workflows/'+this['openedTraces'][_0xf2d8a5]['workflowId']+_0x203960(0x364),_0xf2d8a5),{'endTime':(0x0,_0x3e7f37[_0x203960(0xaea)])()},{'merge':!0x0}),delete this[_0x203960(0xb11)][_0xf2d8a5];}catch(_0x3094f7){console['error']('GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace',_0x3094f7);}else delete this[_0x203960(0xb11)][_0xf2d8a5];}async[_0x49e620(0x3c9)](_0x5bd2bf){const _0x30b602=_0x49e620;if(_0x5bd2bf[_0x30b602(0x585)]<this['commitLevel']&&_0x5bd2bf[_0x30b602(0x71b)]!==this[_0x30b602(0x7e0)])return;if(!this[_0x30b602(0xb11)][_0x5bd2bf['jobId']])throw new Error(_0x30b602(0x3d2));const _0x43a551=this[_0x30b602(0xb11)][_0x5bd2bf['jobId']];try{const _0x42e125=function(_0x2320e4){const _0x1677ed=_0x30b602,_0x582c15=[_0x1677ed(0xb54),'timestamp','jobType',_0x1677ed(0x70f),_0x1677ed(0x7ed),_0x1677ed(0x585),'blockId',_0x1677ed(0xa3b),_0x1677ed(0x61e),_0x1677ed(0xabf)],_0x1dd057={..._0x2320e4};for(const _0x1b06d4 of _0x582c15)delete _0x1dd057[_0x1b06d4];return{'timestamp':_0x2320e4[_0x1677ed(0x8ea)],'jobType':_0x2320e4[_0x1677ed(0x71b)],'type':_0x2320e4[_0x1677ed(0x70f)],'jobId':_0x2320e4[_0x1677ed(0x7ed)],'agentId':_0x2320e4[_0x1677ed(0xa5a)]??'','traceLevel':_0x2320e4[_0x1677ed(0x585)],'blockId':_0x2320e4[_0x1677ed(0x838)]??'','startTime':_0x2320e4[_0x1677ed(0xb54)],'status':_0x2320e4['status'],'sequence':_0x2320e4[_0x1677ed(0x61e)]??0x0,'errorDetails':_0x2320e4[_0x1677ed(0xabf)]??'','metadata':_0x44f69d(_0x1dd057)};}(_0x5bd2bf),_0x4ea044=(0x0,_0x3c37ba['v4'])();console[_0x30b602(0xad5)](_0x30b602(0x9fb),_0x42e125['type']),await(0x0,_0x3e7f37['setDoc'])((0x0,_0x3e7f37[_0x30b602(0x98c)])(_0xfa2cd['getFirestore'](),'developers/'+_0x43a551[_0x30b602(0x2e6)]+_0x30b602(0x3b4)+_0x43a551[_0x30b602(0x2ba)]+'/jobs/'+_0x5bd2bf[_0x30b602(0x7ed)]+_0x30b602(0x99a),_0x4ea044),_0x42e125),_0x5bd2bf[_0x30b602(0x70f)]===_0x4c274c[_0x30b602(0x367)]&&await(0x0,_0x3e7f37['setDoc'])((0x0,_0x3e7f37[_0x30b602(0x98c)])(_0xfa2cd[_0x30b602(0x5d4)](),_0x30b602(0x897)+_0x43a551[_0x30b602(0x2e6)]+'/workflows/'+_0x43a551[_0x30b602(0x2ba)]+_0x30b602(0x364),_0x5bd2bf[_0x30b602(0x7ed)]),{'rating':_0x5bd2bf[_0x30b602(0x867)]},{'merge':!0x0});}catch(_0x52a82e){console[_0x30b602(0x528)](_0x30b602(0xaf3),_0x52a82e);}}}const _0x31c296=_0x3ed528[_0x49e620(0x777)]();async function _0x841d1e(_0x63ed29,_0x5e4507,_0x5ba9a2,_0x2470c3,_0x39b411,_0x589069){const _0x5633d0=_0x49e620,_0x47ea7f='Execute\x20the\x20agent\x20'+_0x2470c3[_0x5633d0(0x29a)]+_0x5633d0(0x677),_0x35a90a={'prompt':{'type':_0x596e17[_0x5633d0(0x1da)][_0x5633d0(0x8c1)]}};return await _0x31c296['trace']({'jobType':_0x10de74['JobContext'],'type':_0x20eae8[_0x5633d0(0x934)],'jobId':_0x63ed29,'agentId':_0x5e4507,'threadId':_0x5ba9a2[_0x5633d0(0x7c8)],'traceLevel':_0x4ad3a8[_0x5633d0(0x354)],'startTime':Date['now'](),'timestamp':Date[_0x5633d0(0x4e4)](),'status':_0x5633d0(0x9c7),'function':_0x2840e7[_0x5633d0(0x8b2)],'params':_0x35a90a,'functionDescription':_0x47ea7f}),{'description':_0x47ea7f,'params':_0x35a90a,'callback':async _0x5cbacc=>_0x473aa7(_0x5ba9a2[_0x5633d0(0x2e6)],_0x2470c3,_0x39b411,_0x5cbacc,_0x63ed29,_0x5e4507,_0x5ba9a2['threadId'],_0x589069)};}async function _0x473aa7(_0xe9901a,_0x14cd11,_0x3d04ad,_0x107923,_0x34279a,_0x411a83,_0x28b1dc,_0x129e47){const _0x235c4f=_0x49e620,_0x1dd3a4=Date[_0x235c4f(0x4e4)]();try{if(_0x235c4f(0xaba)!=typeof _0x107923?.[_0x235c4f(0x481)])throw new Error(_0x235c4f(0x974));if(!_0x3d04ad[_0x235c4f(0x29f)][_0x235c4f(0x94a)](_0x35dd1c=>_0x35dd1c['id']===_0x14cd11['modelId']))throw new Error('Model\x20not\x20found');let _0x27f547='',_0x29b069=[];if(_0x14cd11[_0x235c4f(0x8c9)]&&_0x29b069['push']({'role':_0x235c4f(0x4b7),'content':_0x14cd11['instructions']}),_0x29b069[_0x235c4f(0x6b8)]({'role':'user','content':_0x107923[_0x235c4f(0x481)]}),_0x129e47){const _0x5aca2e=await fetch(_0x42fdd0['apiUrl']+_0x235c4f(0x203),{'method':'POST','headers':{'Accept':_0x235c4f(0xb0f),'Content-Type':'application/json','x-vendor-id':_0xe9901a},'body':JSON[_0x235c4f(0x273)]({'model':_0x14cd11[_0x235c4f(0xa05)],'messages':_0x29b069,'max_completion_tokens':_0x14cd11[_0x235c4f(0xa6f)],'temperature':_0x14cd11[_0x235c4f(0x752)],'stream':!0x0})});if(!_0x5aca2e[_0x235c4f(0x34d)])throw new Error(_0x235c4f(0x7de));const _0x7b6e46=_0x5aca2e[_0x235c4f(0x34d)][_0x235c4f(0x6e7)](),_0x3e8731=new TextDecoder();for(;;){const {value:_0x58e275,done:_0x178e18}=await _0x7b6e46[_0x235c4f(0x286)]();if(_0x178e18)break;const _0x49b6d5=JSON[_0x235c4f(0x7b5)](_0x3e8731[_0x235c4f(0x705)](_0x58e275,{'stream':!0x0}));_0x129e47[_0x235c4f(0x8e2)]({'output':_0x49b6d5[_0x235c4f(0x33f)][0x0][_0x235c4f(0x9b8)][_0x235c4f(0x4fe)],'type':_0x235c4f(0x481)}),await _0x285f59[_0x235c4f(0x7fd)](0x1),_0x27f547=_0x49b6d5['choices'][0x0]['delta'][_0x235c4f(0x4fe)];}}else{const _0x83ecc4=await fetch(_0x42fdd0['apiUrl']+'/chat/completions',{'method':'POST','headers':{'Content-Type':_0x235c4f(0x8e5),'x-vendor-id':_0xe9901a},'body':JSON[_0x235c4f(0x273)]({'model':_0x14cd11[_0x235c4f(0xa05)],'messages':_0x29b069,'max_completion_tokens':_0x14cd11[_0x235c4f(0xa6f)],'temperature':_0x14cd11['temperature']})});_0x27f547=(await _0x83ecc4[_0x235c4f(0x563)]())[_0x235c4f(0x33f)][0x0][_0x235c4f(0x977)]['content'];}if(_0x235c4f(0xaba)!=typeof _0x27f547)throw new Error(_0x235c4f(0x4a7));return _0x34279a&&_0x411a83&&_0x28b1dc&&await _0x31c296[_0x235c4f(0x3c1)]({'jobType':_0x10de74[_0x235c4f(0xa6c)],'type':_0x2840e7['ExecuteAgent'],'jobId':_0x34279a,'blockId':'agent','agentId':_0x411a83,'threadId':_0x28b1dc,'traceLevel':_0x4ad3a8[_0x235c4f(0x354)],'startTime':_0x1dd3a4,'timestamp':Date[_0x235c4f(0x4e4)](),'status':_0x235c4f(0x9c7),'agentName':_0x14cd11[_0x235c4f(0x9b3)],'prompt':_0x107923[_0x235c4f(0x481)],'instructions':_0x14cd11['instructions']??'','result':_0x27f547,'inputTokens':0x0,'outputTokens':0x0}),_0x27f547;}catch(_0x483fa7){return console['error'](_0x483fa7),_0x34279a&&_0x411a83&&_0x28b1dc&&await _0x31c296['trace']({'jobType':_0x10de74['Skill'],'type':_0x2840e7[_0x235c4f(0x8b2)],'jobId':_0x34279a,'blockId':_0x235c4f(0x3d3),'agentId':_0x411a83,'threadId':_0x28b1dc,'traceLevel':_0x4ad3a8[_0x235c4f(0x354)],'startTime':_0x1dd3a4,'timestamp':Date[_0x235c4f(0x4e4)](),'status':_0x235c4f(0x528),'errorDetails':_0x40e6f1(_0x483fa7),'agentName':_0x14cd11['name'],'prompt':_0x107923?.[_0x235c4f(0x481)]??'','instructions':_0x14cd11['instructions']??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x483fa7 instanceof Error?_0x483fa7[_0x235c4f(0x977)]:'Error\x20executing\x20agent';}}async function _0x52464b(_0x4513ba,_0x55d4bb,_0x2f22e6,_0x3806a8,_0x4faab9,_0x13225b){const _0x559463=_0x49e620,_0x5b6fe8=Date['now']();try{if(!_0x55d4bb['aiSearchConnector'])throw new Error(_0x559463(0x4ba));if(!_0x4513ba[_0x559463(0xa05)])throw new Error(_0x559463(0x2be));if(_0x559463(0xaba)!=typeof _0x2f22e6?.[_0x559463(0x8ae)])throw new Error(_0x559463(0x66c));const _0x285fc4=await _0x55d4bb[_0x559463(0x1d7)][_0x559463(0x6a3)](_0x2f22e6[_0x559463(0x8ae)],_0x4513ba[_0x559463(0xa05)]);return _0x3806a8&&_0x4faab9&&_0x13225b&&await _0x31c296[_0x559463(0x3c1)]({'jobType':_0x10de74[_0x559463(0xa6c)],'type':_0x2840e7[_0x559463(0x697)],'jobId':_0x3806a8,'agentId':_0x4faab9,'threadId':_0x13225b,'blockId':_0x559463(0x85e),'traceLevel':_0x4ad3a8[_0x559463(0x354)],'startTime':_0x5b6fe8,'timestamp':Date[_0x559463(0x4e4)](),'status':_0x559463(0x9c7),'query':_0x2f22e6[_0x559463(0x8ae)],'results':_0x285fc4}),_0x285fc4;}catch(_0x5d1449){return console[_0x559463(0x528)](_0x5d1449),_0x3806a8&&_0x4faab9&&_0x13225b&&await _0x31c296[_0x559463(0x3c1)]({'jobType':_0x10de74['Skill'],'type':_0x2840e7[_0x559463(0x697)],'jobId':_0x3806a8,'blockId':'ai-search','traceLevel':_0x4ad3a8[_0x559463(0x354)],'startTime':_0x5b6fe8,'timestamp':Date[_0x559463(0x4e4)](),'status':_0x559463(0x528),'errorDetails':_0x40e6f1(_0x5d1449),'agentId':_0x4faab9,'threadId':_0x13225b,'query':_0x2f22e6?.['query']??'','results':_0x559463(0xab4)}),_0x5d1449 instanceof Error?_0x5d1449[_0x559463(0x977)]:_0x559463(0xab4);}}async function _0x5650d0(_0xa1a2e4,_0x574d90,_0x215c79,_0x39f800){const _0x276de4=_0x49e620,_0x4bdd8c=Date[_0x276de4(0x4e4)]();try{if(_0x276de4(0xaba)!=typeof _0xa1a2e4?.['code'])throw new Error(_0x276de4(0x787));const _0xd310aa=Function(''+_0xa1a2e4?.[_0x276de4(0x283)])();let _0x5af8da='';try{_0x5af8da=JSON[_0x276de4(0x273)](_0xd310aa);}catch{_0x5af8da=_0xd310aa[_0x276de4(0xb55)]();}return _0x574d90&&_0x215c79&&_0x39f800&&await _0x31c296[_0x276de4(0x3c1)]({'jobType':_0x10de74[_0x276de4(0xa6c)],'type':_0x2840e7[_0x276de4(0x805)],'agentId':_0x215c79,'threadId':_0x39f800,'jobId':_0x574d90,'blockId':'code','traceLevel':_0x4ad3a8[_0x276de4(0x354)],'startTime':_0x4bdd8c,'timestamp':Date[_0x276de4(0x4e4)](),'status':_0x276de4(0x9c7),'code':_0xa1a2e4['code'],'result':_0x5af8da}),_0xd310aa;}catch(_0x298bc2){return console[_0x276de4(0x528)](_0x298bc2),_0x574d90&&_0x215c79&&_0x39f800&&await _0x31c296[_0x276de4(0x3c1)]({'jobType':_0x10de74[_0x276de4(0xa6c)],'type':_0x2840e7[_0x276de4(0x805)],'jobId':_0x574d90,'blockId':'code','traceLevel':_0x4ad3a8['Info'],'startTime':_0x4bdd8c,'timestamp':Date['now'](),'status':_0x276de4(0x528),'errorDetails':_0x40e6f1(_0x298bc2),'agentId':_0x215c79,'threadId':_0x39f800,'code':_0xa1a2e4?.[_0x276de4(0x283)]??'','result':_0x276de4(0x8ec)}),_0x298bc2 instanceof Error?_0x298bc2['message']:'Error\x20executing\x20code';}}async function _0x516008(_0x20a49a,_0x33dae5,_0x1545df,_0x545eb1,_0x5b71e5){const _0x3a8a4c=_0x49e620,_0x30740b='Search\x20in\x20data\x20collection\x20'+_0x5b71e5['description']+_0x3a8a4c(0x1db),_0x4e6c51={'queryOrPrompt':{'type':_0x596e17['PromptFunctionParamsType']['String']}};return await _0x31c296[_0x3a8a4c(0x3c1)]({'jobType':_0x10de74[_0x3a8a4c(0x26c)],'type':_0x20eae8[_0x3a8a4c(0xacb)],'jobId':_0x20a49a,'agentId':_0x33dae5,'threadId':_0x1545df['threadId'],'blockId':'data-collection','traceLevel':_0x4ad3a8[_0x3a8a4c(0x354)],'startTime':Date[_0x3a8a4c(0x4e4)](),'timestamp':Date[_0x3a8a4c(0x4e4)](),'status':'success','function':_0xeaa89[_0x3a8a4c(0x902)],'params':_0x4e6c51,'functionDescription':_0x30740b}),{'description':_0x30740b,'params':_0x4e6c51,'callback':async _0x5093b2=>_0x40e5c0(_0x1545df[_0x3a8a4c(0x2e6)],_0x5b71e5,_0x5093b2,_0x20a49a,_0x33dae5,_0x1545df['threadId'],_0x545eb1)};}async function _0x40e5c0(_0x4e29c4,_0x4b3f61,_0xd8b885,_0x4786c0,_0x1a7249,_0xe7288c,_0x24339f){const _0x4cf3f4=_0x49e620,_0x3e82f6=Date[_0x4cf3f4(0x4e4)]();try{if('string'!=typeof _0xd8b885?.[_0x4cf3f4(0x907)])throw new Error(_0x4cf3f4(0x66c));const _0x316739=await fetch(_0x42fdd0[_0x4cf3f4(0x826)]+_0x4cf3f4(0x6e9)+_0x4b3f61[_0x4cf3f4(0x4c0)]+_0x4cf3f4(0x229),{'method':_0x4cf3f4(0x873),'headers':{'Content-Type':'application/json','x-vendor-id':_0x4e29c4},'body':JSON[_0x4cf3f4(0x273)]({'query':_0xd8b885['queryOrPrompt']})}),_0xc716b8=((await _0x316739[_0x4cf3f4(0x563)]())[_0x4cf3f4(0x7b6)]??[])[_0x4cf3f4(0x3bb)](_0x1e149a=>({'pathName':_0x1e149a[_0x4cf3f4(0x9ee)],'relevance':_0x1e149a[_0x4cf3f4(0x341)],'content':_0x1e149a['content'][_0x4cf3f4(0x656)]}));return _0x24339f&&(_0x24339f[_0x4cf3f4(0x69c)]=Array[_0x4cf3f4(0x9cc)](new Set([..._0x24339f['context']??[],..._0xc716b8]))),_0x4786c0&&_0x1a7249&&_0xe7288c&&await _0x31c296['trace']({'jobType':_0x10de74['Knowledge'],'type':_0xeaa89[_0x4cf3f4(0x5f6)],'jobId':_0x4786c0,'blockId':_0x4cf3f4(0x444),'agentId':_0x1a7249,'threadId':_0xe7288c,'traceLevel':_0x4ad3a8[_0x4cf3f4(0x354)],'startTime':_0x3e82f6,'timestamp':Date[_0x4cf3f4(0x4e4)](),'status':_0x4cf3f4(0x9c7),'query':_0xd8b885[_0x4cf3f4(0x907)],'context':_0xc716b8[_0x4cf3f4(0x69c)]??[],'inputTokens':_0xc716b8[_0x4cf3f4(0x888)]??0x0,'outputTokens':_0xc716b8[_0x4cf3f4(0x219)]??0x0}),_0xc716b8[_0x4cf3f4(0x824)]((_0x5db3d7,_0x1aeaa5)=>_0x5db3d7+'\x0a'+_0x1aeaa5[_0x4cf3f4(0x4fe)],'');}catch(_0x1ae266){return console[_0x4cf3f4(0x528)](_0x1ae266),_0x4786c0&&_0x1a7249&&_0xe7288c&&await _0x31c296['trace']({'jobType':_0x10de74['Knowledge'],'type':_0xeaa89['GetContextResult'],'jobId':_0x4786c0,'blockId':_0x4cf3f4(0x444),'agentId':_0x1a7249,'threadId':_0xe7288c,'traceLevel':_0x4ad3a8['Info'],'startTime':_0x3e82f6,'timestamp':Date[_0x4cf3f4(0x4e4)](),'status':_0x4cf3f4(0x528),'errorDetails':_0x40e6f1(_0x1ae266),'query':_0xd8b885?.[_0x4cf3f4(0x907)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x1ae266 instanceof Error?_0x1ae266[_0x4cf3f4(0x977)]:_0x4cf3f4(0x438);}}async function _0x51843a(_0x4637a2,_0x240f49,_0x27792b,_0x55b773,_0x20f7ea){const _0x397691=_0x49e620,_0x47ec67={};for(const _0x438c4c of _0x20f7ea['parameters']??[])switch(_0x438c4c[_0x397691(0x70f)]){case _0x397691(0xaba):case _0x397691(0x563):_0x47ec67[_0x438c4c['name']]={'type':_0x596e17['PromptFunctionParamsType'][_0x397691(0x8c1)]};break;case _0x397691(0xb50):_0x47ec67[_0x438c4c['name']]={'type':_0x596e17[_0x397691(0x1da)][_0x397691(0x59d)]};break;case _0x397691(0x6ab):_0x47ec67[_0x438c4c[_0x397691(0x9b3)]]={'type':_0x596e17[_0x397691(0x1da)][_0x397691(0x494)]};}return await _0x31c296[_0x397691(0x3c1)]({'jobType':_0x10de74[_0x397691(0x26c)],'type':_0x20eae8[_0x397691(0x934)],'jobId':_0x4637a2,'agentId':_0x240f49,'threadId':_0x27792b,'traceLevel':_0x4ad3a8[_0x397691(0x354)],'startTime':Date[_0x397691(0x4e4)](),'timestamp':Date[_0x397691(0x4e4)](),'status':_0x397691(0x9c7),'function':_0x2840e7[_0x397691(0x1d6)],'params':_0x47ec67,'functionDescription':_0x20f7ea[_0x397691(0x29a)]??''}),{'description':_0x397691(0x6c1)+_0x20f7ea[_0x397691(0x29a)],'params':_0x47ec67,'callback':async _0x1c11f5=>_0x2de012(_0x20f7ea,_0x1c11f5,_0x4637a2,_0x240f49,_0x27792b,_0x55b773)};}async function _0x2de012(_0x2f0d58,_0x5bdf08,_0x5acfc2,_0x52c983,_0xa3e67a,_0x165fa8){const _0x2b7c79=_0x49e620,_0x454507=Date['now']();try{if(!_0x5bdf08)throw new Error(_0x2b7c79(0x60a));for(const _0x15b9eb of _0x2f0d58['parameters']??[]){if(void 0x0===_0x5bdf08[_0x15b9eb['name']])throw new Error('Parameter\x20'+_0x15b9eb[_0x2b7c79(0x9b3)]+_0x2b7c79(0x768));if(_0x2b7c79(0xaba)===_0x15b9eb['type']&&_0x2b7c79(0xaba)!=typeof _0x5bdf08[_0x15b9eb[_0x2b7c79(0x9b3)]])throw new Error(_0x2b7c79(0xa9d)+_0x15b9eb[_0x2b7c79(0x9b3)]+_0x2b7c79(0xa56));if(_0x2b7c79(0xb50)===_0x15b9eb[_0x2b7c79(0x70f)]&&_0x2b7c79(0xb50)!=typeof _0x5bdf08[_0x15b9eb[_0x2b7c79(0x9b3)]])throw new Error('Parameter\x20'+_0x15b9eb[_0x2b7c79(0x9b3)]+_0x2b7c79(0x91f));if(_0x2b7c79(0x6ab)===_0x15b9eb[_0x2b7c79(0x70f)]&&_0x2b7c79(0x6ab)!=typeof _0x5bdf08[_0x15b9eb[_0x2b7c79(0x9b3)]])throw new Error(_0x2b7c79(0xa9d)+_0x15b9eb[_0x2b7c79(0x9b3)]+'\x20must\x20be\x20a\x20boolean');if('json'===_0x15b9eb[_0x2b7c79(0x70f)]&&'string'!=typeof _0x5bdf08[_0x15b9eb[_0x2b7c79(0x9b3)]])throw new Error('Parameter\x20'+_0x15b9eb[_0x2b7c79(0x9b3)]+_0x2b7c79(0xa56));if('json'===_0x15b9eb[_0x2b7c79(0x70f)])try{_0x5bdf08[_0x15b9eb['name']]=JSON[_0x2b7c79(0x7b5)](_0x5bdf08[_0x15b9eb['name']]);}catch{throw new Error(_0x2b7c79(0xa9d)+_0x15b9eb[_0x2b7c79(0x9b3)]+_0x2b7c79(0x6bc));}}const _0x1829a6={};for(const _0x5c7dd6 of _0x2f0d58[_0x2b7c79(0x250)]??[]){let _0x57f521=_0x5c7dd6[_0x2b7c79(0x3e3)];_0x57f521['match'](/\$[a-zA-Z0-9]+/)&&(_0x57f521=_0x57f521['replace'](/\$[a-zA-Z0-9]+/g,_0x108600=>{const _0x153f4b=_0x2b7c79,_0x50855c=_0x108600[_0x153f4b(0x966)](0x1);return _0x5bdf08[_0x50855c];})),_0x1829a6[_0x5c7dd6['name']]=_0x57f521;}const _0x17a2e3=new URLSearchParams();for(const _0x3d5cea of _0x2f0d58['queryParameters']??[]){let _0x4c27b0=_0x3d5cea[_0x2b7c79(0x3e3)];if(_0x2b7c79(0xaba)==typeof _0x4c27b0&&_0x4c27b0[_0x2b7c79(0x288)]('$')){const _0x3958ae=_0x4c27b0[_0x2b7c79(0x966)](0x1);_0x4c27b0=_0x5bdf08[_0x3958ae];}if('string'==typeof _0x4c27b0&&_0x4c27b0[_0x2b7c79(0x288)](_0x2b7c79(0x92f))){const _0x7e1076=_0x4c27b0[_0x2b7c79(0x416)](_0x2b7c79(0x92f),'');if(_0x4c27b0=_0x165fa8?.[_0x2b7c79(0x4c6)]?.[_0x7e1076],'string'==typeof _0x4c27b0&&_0x4c27b0[_0x2b7c79(0x288)]('{')&&_0x4c27b0[_0x2b7c79(0x24a)]('}'))try{_0x4c27b0=JSON[_0x2b7c79(0x7b5)](_0x4c27b0);}catch{}}'string'==typeof _0x4c27b0&&_0x4c27b0['startsWith']('[')&&_0x4c27b0[_0x2b7c79(0x24a)](']')&&(_0x4c27b0=JSON[_0x2b7c79(0x7b5)](_0x4c27b0)),_0x17a2e3[_0x2b7c79(0x8eb)](_0x3d5cea[_0x2b7c79(0x9b3)],_0x4c27b0);}let _0x54ae3a,_0x17d798=_0x2f0d58['endpointUrl']??'';_0x17a2e3[_0x2b7c79(0x65a)]>0x0&&(_0x17d798+='?'+_0x17a2e3[_0x2b7c79(0xb55)]());for(const _0x20e1a1 of _0x2f0d58[_0x2b7c79(0x249)]??[]){void 0x0===_0x54ae3a&&(_0x54ae3a={});let _0x29bd04=_0x20e1a1[_0x2b7c79(0x3e3)];if('string'==typeof _0x29bd04&&_0x29bd04['startsWith']('$')){const _0xc75842=_0x29bd04[_0x2b7c79(0x966)](0x1);_0x29bd04=_0x5bdf08[_0xc75842];}if('string'==typeof _0x29bd04&&_0x29bd04[_0x2b7c79(0x288)]('@context.')){const _0x4157f2=_0x29bd04[_0x2b7c79(0x416)](_0x2b7c79(0x92f),'');if(_0x29bd04=_0x165fa8?.['internalContext']?.[_0x4157f2],_0x2b7c79(0xaba)==typeof _0x29bd04&&_0x29bd04[_0x2b7c79(0x288)]('{')&&_0x29bd04[_0x2b7c79(0x24a)]('}'))try{_0x29bd04=JSON[_0x2b7c79(0x7b5)](_0x29bd04);}catch{}}if('string'==typeof _0x29bd04&&_0x29bd04[_0x2b7c79(0x288)]('[')&&_0x29bd04[_0x2b7c79(0x24a)](']')&&(_0x29bd04=JSON[_0x2b7c79(0x7b5)](_0x29bd04)),'@root'===_0x20e1a1[_0x2b7c79(0x9b3)]){const _0x4439e2=_0x29bd04['match'](/```html(.*)```/s);_0x4439e2&&(_0x29bd04=_0x4439e2[0x1]),_0x29bd04=_0x29bd04['replace'](/\n/g,''),_0x29bd04=_0x29bd04['replace'](/'/g,'\x22'),_0x54ae3a=_0x29bd04;break;}if(-0x1===_0x20e1a1['name'][_0x2b7c79(0x688)]('.'))_0x54ae3a[_0x20e1a1['name']]=_0x29bd04;else{const [_0x1f691c,_0x32d6f5]=_0x20e1a1[_0x2b7c79(0x9b3)][_0x2b7c79(0x627)]('.');_0x54ae3a[_0x1f691c]||(_0x54ae3a[_0x1f691c]={}),_0x54ae3a[_0x1f691c][_0x32d6f5]=_0x29bd04;}}console[_0x2b7c79(0xad5)](_0x2b7c79(0x30f)+_0x2f0d58['name']+_0x2b7c79(0x4de)+JSON['stringify'](_0x54ae3a));const _0x380d7d=await fetch(_0x17d798,{'method':_0x2f0d58[_0x2b7c79(0x65c)],'headers':_0x1829a6,'body':void 0x0===_0x54ae3a?void 0x0:_0x2b7c79(0xaba)==typeof _0x54ae3a?_0x54ae3a:JSON[_0x2b7c79(0x273)](_0x54ae3a)});if(_0x380d7d['ok']){let _0x3a07c7=await _0x380d7d[_0x2b7c79(0x563)]();return _0x2b7c79(0xaba)!=typeof _0x3a07c7&&(_0x3a07c7=JSON[_0x2b7c79(0x273)](_0x3a07c7)),_0x5acfc2&&_0x52c983&&_0xa3e67a&&await _0x31c296[_0x2b7c79(0x3c1)]({'jobType':_0x10de74[_0x2b7c79(0xa6c)],'type':_0x2840e7[_0x2b7c79(0x1d6)],'jobId':_0x5acfc2,'agentId':_0x52c983,'threadId':_0xa3e67a,'blockId':_0x2b7c79(0x412),'traceLevel':_0x4ad3a8[_0x2b7c79(0x354)],'startTime':_0x454507,'timestamp':Date[_0x2b7c79(0x4e4)](),'status':'success','skillName':_0x2f0d58[_0x2b7c79(0x9b3)],'params':_0x5bdf08,'result':_0x3a07c7}),_0x165fa8&&_0x2f0d58[_0x2b7c79(0x2ad)]&&''!==_0x2f0d58[_0x2b7c79(0x2ad)]&&(_0x165fa8['internalContext']||(_0x165fa8['internalContext']={}),_0x165fa8[_0x2b7c79(0x4c6)][_0x2f0d58[_0x2b7c79(0x2ad)]]=_0x3a07c7),_0x3a07c7;}throw new Error(_0x380d7d['statusText']);}catch(_0xfcb205){console[_0x2b7c79(0x528)](_0xfcb205);const _0x48c973=_0xfcb205 instanceof Error?_0xfcb205[_0x2b7c79(0x977)]:_0x2b7c79(0x5f7);return _0x5acfc2&&_0x52c983&&_0xa3e67a&&await _0x31c296[_0x2b7c79(0x3c1)]({'jobType':_0x10de74[_0x2b7c79(0xa6c)],'type':_0x2840e7[_0x2b7c79(0x1d6)],'jobId':_0x5acfc2,'blockId':'custom-skill','threadId':_0xa3e67a,'traceLevel':_0x4ad3a8['Info'],'startTime':_0x454507,'timestamp':Date[_0x2b7c79(0x4e4)](),'agentId':_0x52c983,'status':_0x2b7c79(0x528),'skillName':_0x2f0d58[_0x2b7c79(0x9b3)],'params':_0x5bdf08??{},'result':_0x48c973}),_0x48c973;}}async function _0x2b8258(_0x2e426e,_0x4e6bdb,_0x32e1dd,_0xc1c4e6=!0x0){const _0xd87ec5=_0x49e620,_0x3e28ac='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x3f8093={'url':{'type':_0x596e17[_0xd87ec5(0x1da)]['String']},'page':{'type':_0x596e17[_0xd87ec5(0x1da)]['Number']}};return await _0x31c296[_0xd87ec5(0x3c1)]({'jobType':_0x10de74[_0xd87ec5(0x26c)],'type':_0x20eae8[_0xd87ec5(0x934)],'jobId':_0x2e426e,'agentId':_0x4e6bdb,'threadId':_0x32e1dd,'traceLevel':_0x4ad3a8[_0xd87ec5(0x354)],'startTime':Date['now'](),'timestamp':Date[_0xd87ec5(0x4e4)](),'status':_0xd87ec5(0x9c7),'function':_0x2840e7['FetchUrl'],'params':_0x3f8093,'functionDescription':_0x3e28ac}),{'description':_0x3e28ac,'params':_0x3f8093,'callback':async _0x12aaaf=>_0x4ff7c4(_0x12aaaf,_0xc1c4e6,_0x2e426e,_0x4e6bdb,_0x32e1dd)};}async function _0x4ff7c4(_0x44c9bb,_0x5a912f=!0x0,_0x340e3c,_0xc65585,_0x54d4a6){const _0x2ad9c1=_0x49e620,_0x4932bd=Date[_0x2ad9c1(0x4e4)]();try{if(_0x2ad9c1(0xaba)!=typeof _0x44c9bb?.[_0x2ad9c1(0x380)])throw new Error(_0x2ad9c1(0x644));const _0x1e6755=_0x44c9bb[_0x2ad9c1(0x380)];if([_0x2ad9c1(0x616),'.doc',_0x2ad9c1(0x823),_0x2ad9c1(0x4c4),_0x2ad9c1(0x78d),_0x2ad9c1(0x930),_0x2ad9c1(0x40e)]['some'](_0x4425e8=>_0x1e6755['endsWith'](_0x4425e8)))throw new Error(_0x2ad9c1(0x3f4));const _0x38842c=await fetch(_0x1e6755),_0x5ec8e3=await _0x38842c[_0x2ad9c1(0x656)]();let _0x4d66ce=_0x5ec8e3;if(_0x5a912f){const _0x37a0b7=_0x5ec8e3[_0x2ad9c1(0x5db)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x3ed2d3=_0x37a0b7?_0x37a0b7[0x1]:_0x5ec8e3,_0x527037=_0x3ed2d3[_0x2ad9c1(0x416)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')['replace'](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x2ad9c1(0x416)](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0x4d66ce=_0x527037[_0x2ad9c1(0x416)](/<\/?[^>]+(>|$)/g,'')[_0x2ad9c1(0x416)](/\s\s+/g,'\x20')[_0x2ad9c1(0x547)]();}const _0x1cd2f8='number'==typeof _0x44c9bb[_0x2ad9c1(0x880)]?_0x44c9bb['page']:0x1,_0x5929dd=Math[_0x2ad9c1(0xa58)](_0x4d66ce[_0x2ad9c1(0x8bc)]/_0x2ae1d0);return _0x4d66ce[_0x2ad9c1(0x8bc)]>_0x2ae1d0&&(_0x4d66ce=_0x4d66ce['substring']((_0x1cd2f8-0x1)*_0x2ae1d0,(_0x1cd2f8-0x1)*_0x2ae1d0+_0x2ae1d0)+_0x2ad9c1(0x42a)+(_0x1cd2f8+0x1)+'.Total\x20pages\x20available:\x20'+_0x5929dd+'.'),_0x340e3c&&_0xc65585&&_0x54d4a6&&await _0x31c296[_0x2ad9c1(0x3c1)]({'jobType':_0x10de74[_0x2ad9c1(0xa6c)],'type':_0x2840e7['FetchUrl'],'jobId':_0x340e3c,'agentId':_0xc65585,'threadId':_0x54d4a6,'blockId':_0x2ad9c1(0xb6c),'traceLevel':_0x4ad3a8['Info'],'startTime':_0x4932bd,'timestamp':Date[_0x2ad9c1(0x4e4)](),'status':_0x38842c['ok']?_0x2ad9c1(0x9c7):_0x2ad9c1(0x528),'url':_0x44c9bb[_0x2ad9c1(0x380)],'page':_0x1cd2f8,'totalPages':_0x5929dd,'response':_0x4d66ce}),_0x4d66ce;}catch(_0x4690d7){console[_0x2ad9c1(0x528)](_0x4690d7);const _0x5a5492=_0x4690d7 instanceof Error?_0x4690d7['message']:_0x2ad9c1(0x5f7);return _0x340e3c&&_0xc65585&&_0x54d4a6&&await _0x31c296['trace']({'jobType':_0x10de74[_0x2ad9c1(0xa6c)],'type':_0x2840e7['FetchUrl'],'jobId':_0x340e3c,'blockId':'fetch-url','threadId':_0x54d4a6,'traceLevel':_0x4ad3a8['Info'],'startTime':_0x4932bd,'timestamp':Date[_0x2ad9c1(0x4e4)](),'agentId':_0xc65585,'status':'error','errorDetails':_0x40e6f1(_0x4690d7),'url':_0x44c9bb?.[_0x2ad9c1(0x380)]??'','page':0x0,'totalPages':0x0,'response':_0x5a5492}),_0x5a5492;}}async function _0x34ebb2(_0x46238e,_0x182499,_0x259222,_0x26a8c6,_0x10bb15){const _0x251550=_0x49e620,_0x4eb9af=Date[_0x251550(0x4e4)]();try{if(!_0x46238e['searchConnector'])throw new Error('Search\x20connector\x20not\x20set');if(_0x251550(0xaba)!=typeof _0x182499?.[_0x251550(0x8ae)])throw new Error('Query\x20is\x20required');const _0x21e6ee=await _0x46238e[_0x251550(0x256)][_0x251550(0x6a3)](_0x182499[_0x251550(0x8ae)],_0x42fdd0['google'][_0x251550(0x91a)]);let _0x1ba830='';for(const _0x3b340e of _0x21e6ee)_0x1ba830+=_0x3b340e[_0x251550(0x45a)]+_0x251550(0x830)+_0x3b340e[_0x251550(0x380)]+'\x0a'+_0x3b340e[_0x251550(0x687)]+'\x0a\x0a';return _0x259222&&_0x26a8c6&&_0x10bb15&&await _0x31c296[_0x251550(0x3c1)]({'jobType':_0x10de74[_0x251550(0xa6c)],'type':_0x2840e7[_0x251550(0x262)],'jobId':_0x259222,'agentId':_0x26a8c6,'threadId':_0x10bb15,'blockId':_0x251550(0x6a3),'traceLevel':_0x4ad3a8[_0x251550(0x354)],'startTime':_0x4eb9af,'timestamp':Date['now'](),'status':_0x251550(0x9c7),'query':_0x182499[_0x251550(0x8ae)],'results':_0x1ba830}),_0x1ba830;}catch(_0x42be1e){return console[_0x251550(0x528)](_0x42be1e),_0x259222&&_0x26a8c6&&_0x10bb15&&await _0x31c296['trace']({'jobType':_0x10de74['Skill'],'type':_0x2840e7[_0x251550(0x262)],'jobId':_0x259222,'blockId':_0x251550(0x6a3),'traceLevel':_0x4ad3a8[_0x251550(0x354)],'startTime':_0x4eb9af,'timestamp':Date['now'](),'status':_0x251550(0x528),'errorDetails':_0x40e6f1(_0x42be1e),'agentId':_0x26a8c6,'threadId':_0x10bb15,'query':_0x182499?.[_0x251550(0x8ae)]??'','results':'Error\x20searching'}),_0x42be1e instanceof Error?_0x42be1e[_0x251550(0x977)]:_0x251550(0xab4);}}async function _0x233bc4(_0x3f5f57,_0x2ee91a,_0x24493f,_0x360d6a,_0x412392,_0x4254b6,_0x2e1fb8){const _0x441b1a=_0x49e620,_0x39821e=new Map();for(const _0x13a23e of _0x412392)_0x13a23e[_0x441b1a(0x70f)]===_0x596e17['GenerativeAIInferenceToolType'][_0x441b1a(0x470)]||_0x13a23e[_0x441b1a(0x70f)]===_0x596e17[_0x441b1a(0x307)][_0x441b1a(0x83a)]?_0x39821e['set'](_0x441b1a(0x31a)+_0x13a23e[_0x441b1a(0x9b3)]['replace'](/[^a-zA-Z]/g,''),await _0x516008(_0x3f5f57,_0x2ee91a,_0x24493f,_0x360d6a,_0x13a23e)):_0x13a23e['type']===_0x596e17[_0x441b1a(0x307)][_0x441b1a(0x619)]||_0x13a23e[_0x441b1a(0x70f)]===_0x596e17[_0x441b1a(0x307)][_0x441b1a(0x783)]?_0x39821e[_0x441b1a(0x9fa)](_0x441b1a(0x3bd)+_0x13a23e[_0x441b1a(0x9b3)][_0x441b1a(0x416)](/[^a-zA-Z]/g,''),await _0x841d1e(_0x3f5f57,_0x2ee91a,_0x24493f,_0x13a23e,_0x4254b6,_0x2e1fb8)):_0x13a23e[_0x441b1a(0x70f)]===_0x596e17[_0x441b1a(0x307)]['CustomSkill']?_0x39821e[_0x441b1a(0x9fa)](_0x13a23e['name']['replace'](/[^a-zA-Z]/g,''),await _0x51843a(_0x3f5f57,_0x2ee91a,_0x24493f[_0x441b1a(0x7c8)],_0x360d6a,_0x13a23e)):_0x39821e[_0x441b1a(0x9fa)](_0x590b8c(_0x13a23e),await _0x45534a(_0x3f5f57,_0x2ee91a,_0x24493f[_0x441b1a(0x7c8)],_0x360d6a,_0x13a23e,_0x4254b6));return _0x39821e;}function _0x590b8c(_0x59613a){const _0x3ee249=_0x49e620;switch(_0x59613a['type']){case _0x596e17[_0x3ee249(0x307)]['AISearch']:return'searchOnPerplexity';case _0x596e17[_0x3ee249(0x307)][_0x3ee249(0x890)]:return'executeJavascriptCodeSnippet';case _0x596e17[_0x3ee249(0x307)][_0x3ee249(0x4f3)]:return _0x3ee249(0x275);case _0x596e17[_0x3ee249(0x307)][_0x3ee249(0x5a2)]:return _0x3ee249(0x85a);case _0x596e17[_0x3ee249(0x307)]['WebScraper']:case _0x596e17[_0x3ee249(0x307)][_0x3ee249(0x63e)]:return _0x3ee249(0x414);case _0x596e17['GenerativeAIInferenceToolType'][_0x3ee249(0x44a)]:return _0x3ee249(0x4c5);}throw new Error(_0x3ee249(0x5df));}async function _0x45534a(_0x271dcd,_0x1a248f,_0x5e778b,_0x2734d9,_0x38edfe,_0x515b1c){const _0x245bc2=_0x49e620;switch(_0x38edfe[_0x245bc2(0x70f)]){case _0x596e17['GenerativeAIInferenceToolType'][_0x245bc2(0x93e)]:return async function(_0x482ab9,_0x23c1d4,_0x100257,_0x5d5d45,_0x33d5f4){const _0x28dc07=_0x245bc2,_0x14fc16=_0x28dc07(0x678),_0x2f889f={'query':{'type':_0x596e17[_0x28dc07(0x1da)][_0x28dc07(0x8c1)]}};return await _0x31c296['trace']({'jobType':_0x10de74['JobContext'],'type':_0x20eae8[_0x28dc07(0x934)],'jobId':_0x482ab9,'agentId':_0x23c1d4,'threadId':_0x100257,'traceLevel':_0x4ad3a8['Info'],'startTime':Date['now'](),'timestamp':Date[_0x28dc07(0x4e4)](),'status':'success','function':_0x2840e7[_0x28dc07(0x697)],'params':_0x2f889f,'functionDescription':_0x14fc16}),{'description':_0x14fc16,'params':_0x2f889f,'callback':async _0x3cc253=>_0x52464b(_0x5d5d45,_0x33d5f4,_0x3cc253,_0x482ab9,_0x23c1d4,_0x100257)};}(_0x271dcd,_0x1a248f,_0x5e778b,_0x38edfe,_0x515b1c);case _0x596e17[_0x245bc2(0x307)]['Code']:return async function(_0x3e7def,_0x553001,_0x5c35b5){const _0x180b12=_0x245bc2,_0x953d22='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x429399={'code':{'type':_0x596e17[_0x180b12(0x1da)][_0x180b12(0x8c1)]}};return await _0x31c296[_0x180b12(0x3c1)]({'jobType':_0x10de74[_0x180b12(0x26c)],'type':_0x20eae8['LoadSkillFunction'],'jobId':_0x3e7def,'agentId':_0x553001,'threadId':_0x5c35b5,'traceLevel':_0x4ad3a8['Info'],'startTime':Date[_0x180b12(0x4e4)](),'timestamp':Date[_0x180b12(0x4e4)](),'status':_0x180b12(0x9c7),'function':_0x2840e7[_0x180b12(0x805)],'params':_0x429399,'functionDescription':_0x953d22}),{'description':_0x953d22,'params':_0x429399,'callback':async _0x3dc8f3=>_0x5650d0(_0x3dc8f3,_0x3e7def,_0x553001,_0x5c35b5)};}(_0x271dcd,_0x1a248f,_0x5e778b);case _0x596e17['GenerativeAIInferenceToolType'][_0x245bc2(0x4f3)]:return async function(_0x1dc474,_0x549734,_0x31b0c4,_0x3d31a4,_0x2a21f4){const _0x10643f=_0x245bc2,_0x4b64c5=[',',';','\x09','|',':'],_0x4d31a6=['\x22','\x27'];let _0x1f6d9f='';if(_0x10643f(0x48c)===_0x3d31a4[_0x10643f(0x4c6)]?.['file.type']&&_0x3d31a4['internalContext']?.[_0x10643f(0x52a)]&&(_0x1f6d9f=_0x3d31a4['internalContext']['file.content']),''===_0x1f6d9f)throw new Error('No\x20file\x20content\x20found');const _0x2727d1=_0x1f6d9f[_0x10643f(0x627)]('\x0a')[0x0];let _0x31e4da=null,_0x45c0f4=null,_0x1321b4=0x0;for(const _0x3f1fc0 of _0x4b64c5){const _0x53b150=(_0x2727d1[_0x10643f(0x5db)](new RegExp('\x5c'+_0x3f1fc0,'g'))||[])[_0x10643f(0x8bc)];_0x53b150>_0x1321b4&&(_0x1321b4=_0x53b150,_0x31e4da=_0x3f1fc0);}_0x31e4da||(_0x31e4da=','),_0x1321b4=0x0;for(const _0xf82f7 of _0x4d31a6){const _0x57ddec=(_0x2727d1['match'](new RegExp('\x5c'+_0xf82f7,'g'))||[])[_0x10643f(0x8bc)];_0x57ddec>_0x1321b4&&(_0x1321b4=_0x57ddec,_0x45c0f4=_0xf82f7);}_0x45c0f4||(_0x45c0f4='\x22');const _0x358a7c=_0x10643f(0x916)+_0x2727d1[_0x10643f(0x627)](_0x31e4da)[_0x10643f(0xae2)](',\x20'),_0x14dc76={'query':{'type':_0x596e17[_0x10643f(0x1da)]['String']}};return await _0x31c296[_0x10643f(0x3c1)]({'jobType':_0x10de74[_0x10643f(0x26c)],'type':_0x20eae8[_0x10643f(0x934)],'jobId':_0x1dc474,'agentId':_0x549734,'threadId':_0x31b0c4,'traceLevel':_0x4ad3a8['Info'],'startTime':Date[_0x10643f(0x4e4)](),'timestamp':Date[_0x10643f(0x4e4)](),'status':_0x10643f(0x9c7),'function':_0x2840e7[_0x10643f(0x4f3)],'params':_0x14dc76,'functionDescription':_0x358a7c}),{'description':_0x358a7c,'params':_0x14dc76,'callback':async _0x41427e=>{const _0xc92e1a=_0x10643f,_0xba57d=Date['now']();try{if(!_0x2a21f4[_0xc92e1a(0x95d)])throw new Error(_0xc92e1a(0x4bf));if(_0xc92e1a(0xaba)!=typeof _0x41427e?.['query'])throw new Error(_0xc92e1a(0x66c));if(!_0x41427e[_0xc92e1a(0x8ae)][_0xc92e1a(0x2ef)](_0xc92e1a(0x3a9)))throw new Error(_0xc92e1a(0x6ba));const _0x263262=await _0x2a21f4['queryFileConnector']['executeQuery'](_0x1f6d9f,_0x41427e[_0xc92e1a(0x8ae)],{'headers':!0x0,'quote':_0x45c0f4,'separator':_0x31e4da});await _0x31c296[_0xc92e1a(0x3c1)]({'jobType':_0x10de74[_0xc92e1a(0xa6c)],'type':_0x2840e7[_0xc92e1a(0x4f3)],'jobId':_0x1dc474,'agentId':_0x549734,'threadId':_0x31b0c4,'blockId':'query-file','traceLevel':_0x4ad3a8[_0xc92e1a(0x354)],'startTime':_0xba57d,'timestamp':Date[_0xc92e1a(0x4e4)](),'status':'success','query':_0x41427e[_0xc92e1a(0x8ae)],'results':_0x263262['substring'](0x0,0x3e8)});const _0x134cc=JSON['parse'](_0x263262);let _0x3c66fb='';if(_0x134cc[_0xc92e1a(0x8bc)]>0x0){const _0x3cc644=Object[_0xc92e1a(0x818)](_0x134cc[0x0]);_0x3c66fb=_0x3cc644[_0xc92e1a(0x3bb)](_0x5b85c4=>'\x22'+_0x5b85c4+'\x22')[_0xc92e1a(0xae2)](',')+'\x0a';for(const _0x527357 of _0x134cc)_0x3c66fb+=_0x3cc644['map'](_0x338ff7=>'\x22'+_0x527357[_0x338ff7]+'\x22')[_0xc92e1a(0xae2)](',')+'\x0a';}return _0x3d31a4['internalContext']||(_0x3d31a4['internalContext']={}),_0x3d31a4[_0xc92e1a(0x4c6)][_0xc92e1a(0x52a)]=_0x3c66fb,_0x3d31a4[_0xc92e1a(0x4c6)][_0xc92e1a(0x32f)]=_0xc92e1a(0x48c),_0x263262[_0xc92e1a(0x81e)](0x0,0x3e8);}catch(_0x190b12){return console[_0xc92e1a(0x528)](_0x190b12),await _0x31c296[_0xc92e1a(0x3c1)]({'jobType':_0x10de74[_0xc92e1a(0xa6c)],'type':_0x2840e7['QueryFile'],'jobId':_0x1dc474,'blockId':'query-file','traceLevel':_0x4ad3a8[_0xc92e1a(0x354)],'startTime':_0xba57d,'timestamp':Date['now'](),'status':_0xc92e1a(0x528),'errorDetails':_0x40e6f1(_0x190b12),'agentId':_0x549734,'threadId':_0x31b0c4,'query':_0x41427e?.[_0xc92e1a(0x8ae)]??'','results':_0xc92e1a(0xab4)}),_0x190b12 instanceof Error?_0x190b12[_0xc92e1a(0x977)]:_0xc92e1a(0x8cb);}}};}(_0x271dcd,_0x1a248f,_0x5e778b,_0x2734d9,_0x515b1c);case _0x596e17[_0x245bc2(0x307)][_0x245bc2(0x5a2)]:return async function(_0x36add4,_0x1f0bb6,_0x569a17,_0x50963a){const _0x5ed5b3=_0x245bc2,_0x2de490=_0x5ed5b3(0x7aa),_0x3ebb2a={'query':{'type':_0x596e17[_0x5ed5b3(0x1da)][_0x5ed5b3(0x8c1)]}};return await _0x31c296[_0x5ed5b3(0x3c1)]({'jobType':_0x10de74[_0x5ed5b3(0x26c)],'type':_0x20eae8[_0x5ed5b3(0x934)],'jobId':_0x36add4,'agentId':_0x1f0bb6,'threadId':_0x569a17,'traceLevel':_0x4ad3a8[_0x5ed5b3(0x354)],'startTime':Date[_0x5ed5b3(0x4e4)](),'timestamp':Date[_0x5ed5b3(0x4e4)](),'status':'success','function':_0x2840e7[_0x5ed5b3(0x262)],'params':_0x3ebb2a,'functionDescription':_0x2de490}),{'description':_0x2de490,'params':_0x3ebb2a,'callback':async _0x4faa00=>_0x34ebb2(_0x50963a,_0x4faa00,_0x36add4,_0x1f0bb6,_0x569a17)};}(_0x271dcd,_0x1a248f,_0x5e778b,_0x515b1c);case _0x596e17[_0x245bc2(0x307)]['WebScraper']:return _0x2b8258(_0x271dcd,_0x1a248f,_0x5e778b);case _0x596e17['GenerativeAIInferenceToolType']['WebScraperRaw']:return _0x2b8258(_0x271dcd,_0x1a248f,_0x5e778b,!0x1);case _0x596e17['GenerativeAIInferenceToolType'][_0x245bc2(0x44a)]:return async function(_0x550756,_0x148a1e,_0x243bbd,_0x562e4d){const _0x481cbd=_0x245bc2,_0x482eee=_0x481cbd(0x212),_0x45b6b0={'text':{'type':_0x596e17['PromptFunctionParamsType'][_0x481cbd(0x8c1)]}};return await _0x31c296[_0x481cbd(0x3c1)]({'jobType':_0x10de74[_0x481cbd(0x26c)],'type':_0x20eae8[_0x481cbd(0x934)],'jobId':_0x550756,'agentId':_0x148a1e,'threadId':_0x243bbd,'traceLevel':_0x4ad3a8[_0x481cbd(0x354)],'startTime':Date[_0x481cbd(0x4e4)](),'timestamp':Date[_0x481cbd(0x4e4)](),'status':_0x481cbd(0x9c7),'function':_0x2840e7['WriteFile'],'params':_0x45b6b0,'functionDescription':_0x482eee}),{'description':_0x482eee,'params':_0x45b6b0,'callback':async _0x106878=>{const _0x38a2c4=_0x481cbd,_0x3ea7fa=Date['now']();try{if(_0x38a2c4(0xaba)!=typeof _0x106878?.[_0x38a2c4(0x656)])throw new Error('Text\x20is\x20required');return await _0x31c296[_0x38a2c4(0x3c1)]({'jobType':_0x10de74[_0x38a2c4(0xa6c)],'type':_0x2840e7['WriteFile'],'jobId':_0x550756,'agentId':_0x148a1e,'threadId':_0x243bbd,'blockId':_0x38a2c4(0x726),'traceLevel':_0x4ad3a8[_0x38a2c4(0x354)],'startTime':_0x3ea7fa,'timestamp':Date[_0x38a2c4(0x4e4)](),'status':'success','content':_0x106878[_0x38a2c4(0x656)]}),_0x562e4d['internalContext']||(_0x562e4d['internalContext']={}),_0x562e4d[_0x38a2c4(0x4c6)][_0x38a2c4(0x52a)]=_0x106878['text'],_0x562e4d[_0x38a2c4(0x4c6)][_0x38a2c4(0x32f)]=_0x38a2c4(0x461),_0x38a2c4(0x534);}catch(_0x54dfe1){return console['error'](_0x54dfe1),await _0x31c296[_0x38a2c4(0x3c1)]({'jobType':_0x10de74[_0x38a2c4(0xa6c)],'type':_0x2840e7[_0x38a2c4(0x44a)],'jobId':_0x550756,'blockId':_0x38a2c4(0x726),'traceLevel':_0x4ad3a8[_0x38a2c4(0x354)],'startTime':_0x3ea7fa,'timestamp':Date[_0x38a2c4(0x4e4)](),'status':_0x38a2c4(0x528),'errorDetails':_0x40e6f1(_0x54dfe1),'agentId':_0x148a1e,'threadId':_0x243bbd,'content':_0x38a2c4(0xaba)==typeof _0x106878?.[_0x38a2c4(0x656)]?_0x106878['text']:''}),_0x54dfe1 instanceof Error?_0x54dfe1[_0x38a2c4(0x977)]:'Error\x20writing\x20file';}}};}(_0x271dcd,_0x1a248f,_0x5e778b,_0x2734d9);}throw new Error('Unknown\x20skill\x20type');}function _0x40e6f1(_0x2dc871){const _0x402a6f=_0x49e620;try{return JSON[_0x402a6f(0x273)](_0x2dc871);}catch(_0x3803b8){return _0x2dc871 instanceof Error?_0x2dc871[_0x402a6f(0xb55)]():_0x402a6f(0x2a5);}}async function _0x345afd(_0x550f0e,_0x4d1c7c,_0x1706ca,_0x56e70a,_0x1cf7d1,_0x1edf6a){const _0x554ad0=_0x49e620,_0x303e35=Date[_0x554ad0(0x4e4)]();if(!_0x1edf6a[_0x554ad0(0x29f)][_0x554ad0(0x94a)](_0x3bb4d0=>_0x3bb4d0['id']===_0x56e70a[_0x554ad0(0xa05)]))throw new Error(_0x554ad0(0x50e));const _0x1c6823=(0x0,_0x3c37ba['v4'])(),_0x145b54=[];_0x145b54[_0x554ad0(0x6b8)]({'role':'system','content':_0x56e70a[_0x554ad0(0x8c9)]}),_0x145b54[_0x554ad0(0x6b8)]({'role':_0x554ad0(0x905),'content':_0x1706ca});const _0x2a2cf3=await fetch(_0x42fdd0[_0x554ad0(0x826)]+_0x554ad0(0x203),{'method':_0x554ad0(0x873),'headers':{'Content-Type':_0x554ad0(0x8e5),'x-vendor-id':_0x550f0e},'body':JSON[_0x554ad0(0x273)]({'model':_0x56e70a['modelId'],'messages':_0x145b54,'max_completion_tokens':_0x56e70a['maxTokens'],'temperature':_0x56e70a['temperature'],'threadId':_0x1c6823})}),_0x40e407=(await _0x2a2cf3[_0x554ad0(0x563)]())['choices'][0x0][_0x554ad0(0x977)][_0x554ad0(0x4fe)];await _0x31c296[_0x554ad0(0x3c1)]({'jobType':_0x10de74['Ingest'],'type':_0x52fa6c[_0x554ad0(0x783)],'jobId':_0x4d1c7c,'blockId':_0x56e70a['id'],'traceLevel':_0x4ad3a8[_0x554ad0(0x504)],'timestamp':Date[_0x554ad0(0x4e4)](),'startTime':_0x303e35,'status':_0x554ad0(0x9c7),'agentId':_0x1c6823,'content':_0x1706ca,'instructions':_0x56e70a['instructions'],'result':_0x40e407});const _0x50953e=[];if(_0x56e70a[_0x554ad0(0x436)]?.[_0x554ad0(0x8b6)](_0x4440b6=>_0x4440b6[_0x554ad0(0x70f)]===_0x361464[_0x554ad0(0x9bb)]))return _0x50953e[_0x554ad0(0x6b8)]({'content':_0x40e407,'start':0x0,'length':_0x40e407[_0x554ad0(0x8bc)]}),await _0x1e42ff(_0x550f0e,_0x4d1c7c,_0x50953e,_0x56e70a,_0x1cf7d1,_0x1edf6a),void await _0x1e42ff(_0x550f0e,_0x4d1c7c,_0x40e407,_0x56e70a,_0x1cf7d1,_0x1edf6a);_0x50953e[_0x554ad0(0x6b8)]({'content':_0x40e407,'start':0x0,'length':_0x1706ca[_0x554ad0(0x8bc)]}),await _0x1e42ff(_0x550f0e,_0x4d1c7c,_0x50953e,_0x56e70a,_0x1cf7d1,_0x1edf6a);}async function _0x5c998f(_0x1f7199,_0x1b23e2,_0x40d3d6,_0x4adfe9,_0x1421e1,_0x285a94){const _0x469820=_0x49e620,_0x2925fe=Date[_0x469820(0x4e4)]();let _0x6639b9=[];if(_0x40d3d6 instanceof Array)for(const _0x24b552 of _0x40d3d6){if(_0x469820(0xaba)!=typeof _0x24b552[_0x469820(0x4fe)])throw new Error(_0x469820(0xa69));_0x6639b9=_0x6639b9[_0x469820(0xa54)](_0x508ffe(_0x24b552[_0x469820(0x4fe)],_0x4adfe9,_0x24b552[_0x469820(0x411)],_0x24b552['length']));}else _0x6639b9=_0x508ffe(_0x40d3d6,_0x4adfe9);await _0x31c296[_0x469820(0x3c1)]({'jobType':_0x10de74[_0x469820(0x5ed)],'type':_0x52fa6c['ChunkSplitter'],'traceLevel':_0x4ad3a8[_0x469820(0x504)],'jobId':_0x1b23e2,'blockId':_0x4adfe9['id'],'startTime':_0x2925fe,'timestamp':Date[_0x469820(0x4e4)](),'status':'success','totalChunks':_0x6639b9[_0x469820(0x8bc)],'chunkSize':_0x4adfe9['attributes']['size']}),await _0x1e42ff(_0x1f7199,_0x1b23e2,_0x6639b9,_0x4adfe9,_0x1421e1,_0x285a94);}function _0x508ffe(_0x4ceab2,_0x5da258,_0x323d4d,_0x48c72b){const _0x30f5ab=_0x49e620,_0x372328=[];for(let _0x3e56ae=0x0;_0x3e56ae<_0x4ceab2[_0x30f5ab(0x8bc)];_0x3e56ae+=_0x5da258[_0x30f5ab(0xa00)][_0x30f5ab(0x65a)]){let _0x430cbe=_0x3e56ae-_0x5da258[_0x30f5ab(0xa00)][_0x30f5ab(0x3e6)];_0x430cbe<0x0&&(_0x430cbe=0x0);let _0x5d932d=_0x3e56ae+_0x5da258[_0x30f5ab(0xa00)][_0x30f5ab(0x65a)]+_0x5da258[_0x30f5ab(0xa00)][_0x30f5ab(0x3e6)];_0x5d932d>_0x4ceab2[_0x30f5ab(0x8bc)]&&(_0x5d932d=_0x4ceab2['length']);const _0x26e26c=_0x4ceab2[_0x30f5ab(0x81e)](_0x430cbe,_0x5d932d);_0x372328[_0x30f5ab(0x6b8)]({'content':_0x26e26c,'start':_0x323d4d??_0x3e56ae,'length':_0x48c72b??(_0x3e56ae+_0x5da258[_0x30f5ab(0xa00)]['size']>_0x4ceab2[_0x30f5ab(0x8bc)]?_0x4ceab2['length']-_0x3e56ae:_0x5da258[_0x30f5ab(0xa00)][_0x30f5ab(0x65a)])});}return _0x372328;}async function _0x1c81cf(_0x12fb2a,_0xd8b862,_0x2940c1,_0x304d17,_0x2756e0,_0x3d5865){const _0x318553=_0x49e620,_0x16d743=Date[_0x318553(0x4e4)]();let _0x2db44a;if(_0x2940c1[_0x318553(0x43e)][_0x318553(0x70f)]['startsWith'](_0x318553(0x8c8))||_0x16292b(_0x2940c1[_0x318553(0x43e)][_0x318553(0x9b3)],_0x6a561c))_0x2db44a=await _0x2940c1[_0x318553(0x43e)][_0x318553(0x656)]();else{if(!_0x3d5865[_0x318553(0x80d)]['supports'](_0x2940c1[_0x318553(0x43e)]))throw new Error(_0x318553(0x42d)+_0x2940c1[_0x318553(0x43e)]['type']+'\x20-\x20'+_0x2940c1[_0x318553(0x43e)][_0x318553(0x9b3)]);_0x2db44a=await _0x3d5865['documentParserConnector']['parse'](_0x2940c1[_0x318553(0x43e)]);}await _0x31c296[_0x318553(0x3c1)]({'jobType':_0x10de74[_0x318553(0x5ed)],'type':_0x52fa6c['DocumentParser'],'traceLevel':_0x4ad3a8[_0x318553(0x504)],'blockId':_0x304d17['id'],'jobId':_0xd8b862,'startTime':_0x16d743,'timestamp':Date[_0x318553(0x4e4)](),'status':_0x318553(0x9c7),'documentType':_0x2940c1[_0x318553(0x43e)][_0x318553(0x70f)],'documentName':_0x2940c1['file'][_0x318553(0x9b3)],'extractionMethod':_0x318553(0x1e2)}),await _0x1e42ff(_0x12fb2a,_0xd8b862,_0x2db44a,_0x304d17,_0x2756e0,_0x3d5865);const _0x5dedcd=[{'content':_0x2db44a,'start':0x0,'length':_0x2db44a[_0x318553(0x8bc)]}];await _0x1e42ff(_0x12fb2a,_0xd8b862,_0x5dedcd,_0x304d17,_0x2756e0,_0x3d5865);}const _0x6a561c=[_0x49e620(0x25a),_0x49e620(0xb17),'.py',_0x49e620(0x2cb),_0x49e620(0x3af),_0x49e620(0x200),'.css',_0x49e620(0x587),_0x49e620(0xa63),_0x49e620(0x670),_0x49e620(0xb38),_0x49e620(0x708),_0x49e620(0x683),_0x49e620(0x44c),_0x49e620(0x458),_0x49e620(0x6c8),_0x49e620(0x247),_0x49e620(0xa49),_0x49e620(0x804),_0x49e620(0x418),'.c','.cpp','.cs','.r',_0x49e620(0x259),_0x49e620(0xa2a),'.scala',_0x49e620(0x24f),'.rs',_0x49e620(0xacc),'.pl',_0x49e620(0x4fb),_0x49e620(0x588),_0x49e620(0x922),_0x49e620(0x9d6),_0x49e620(0x5d9),_0x49e620(0x6c9),'.exs',_0x49e620(0x767),_0x49e620(0x23d),'.tcl','.m',_0x49e620(0x6f9),_0x49e620(0x6a8),'.rkt',_0x49e620(0x2c8),_0x49e620(0x605),'.jsx',_0x49e620(0x4ff),_0x49e620(0x85c),_0x49e620(0x597),_0x49e620(0x8f9),_0x49e620(0xa57),_0x49e620(0x7ab),_0x49e620(0x75f),_0x49e620(0x6bf),_0x49e620(0x840),'.liquid',_0x49e620(0x44f),_0x49e620(0x362),'.twig','.j2','.djt'];function _0x16292b(_0x3ae86c,_0x131919){const _0x26bf89=_0x49e620;return _0x131919[_0x26bf89(0x2ef)]('.'+(_0x3ae86c[_0x26bf89(0x627)]('.')[_0x26bf89(0x6b9)]()?.['toLowerCase']()||''));}async function _0x34864f(_0x369ed4,_0x57b9fa,_0x2933eb,_0x3d4b17,_0x334491,_0x2d9742){const _0x38b703=_0x49e620,_0x4fcfb6=Date['now'](),_0x3b4059=new Set();let _0xf2de6f=0x0;for(const _0x2c55d2 of _0x2933eb){if(_0x38b703(0xaba)!=typeof _0x2c55d2['content'])throw new Error('Invalid\x20content\x20type');_0xf2de6f+=_0x2c55d2[_0x38b703(0x4fe)]['length'],await _0x156b85(_0x2c55d2['content'],_0x3b4059,_0x3d4b17,_0x2d9742[_0x38b703(0x4cd)]);}await _0x31c296[_0x38b703(0x3c1)]({'jobType':_0x10de74['Ingest'],'type':_0x52fa6c[_0x38b703(0x3e9)],'jobId':_0x57b9fa,'blockId':_0x3d4b17['id'],'traceLevel':_0x4ad3a8[_0x38b703(0x504)],'startTime':_0x4fcfb6,'timestamp':Date[_0x38b703(0x4e4)](),'status':'success','contentLength':_0xf2de6f,'totalChunks':_0x2933eb instanceof Array?_0x2933eb[_0x38b703(0x8bc)]:0x1,'entitiesExtracted':_0x3b4059,'totalEntities':_0x3b4059['size']}),await _0x1e42ff(_0x369ed4,_0x57b9fa,_0x3b4059,_0x3d4b17,_0x334491,_0x2d9742);}async function _0x156b85(_0x37c63c,_0x29f6ad,_0x517e6b,_0x5cc1ae){const _0x1f203a=_0x49e620,_0x22b05b=await _0x5cc1ae[_0x1f203a(0x778)](_0x37c63c,{'ner':_0x517e6b[_0x1f203a(0xa00)][_0x1f203a(0x904)],'noun':_0x517e6b[_0x1f203a(0xa00)]['noun'],'propn':_0x517e6b[_0x1f203a(0xa00)][_0x1f203a(0xa4e)],'verb':_0x517e6b['attributes']['verb']});for(const _0x4c7d12 of _0x22b05b)_0x29f6ad[_0x1f203a(0x554)](_0x4c7d12);}async function _0x3d4a03(_0x5412ae,_0x2e6d52,_0x33c7e9,_0x483751,_0x1edead){const _0x11644f=_0x49e620,_0x53992b=Date[_0x11644f(0x4e4)]();if(_0x33c7e9[_0x11644f(0x6ca)]||(_0x33c7e9['accumulated']={}),_0x11644f(0xaba)==typeof _0x2e6d52?_0x33c7e9[_0x11644f(0x6ca)][_0x11644f(0x4fe)]=_0x2e6d52:_0x2e6d52 instanceof Set?_0x33c7e9['accumulated'][_0x11644f(0x832)]=_0x2e6d52:_0x2e6d52 instanceof Map?_0x33c7e9[_0x11644f(0x6ca)][_0x11644f(0xa2c)]=_0x2e6d52:_0x2e6d52 instanceof Array?_0x33c7e9['accumulated'][_0x11644f(0x6d0)]=_0x2e6d52:_0x33c7e9[_0x11644f(0x6ca)][_0x11644f(0x43e)]=_0x2e6d52,_0x33c7e9[_0x11644f(0xa8e)]=_0x33c7e9[_0x11644f(0xa8e)]?_0x33c7e9[_0x11644f(0xa8e)]+0x1:0x1,_0x3b61a0(_0x33c7e9,_0x483751['ingestBlocks'])>_0x33c7e9['timesCalled'])return;if(!(_0x33c7e9[_0x11644f(0x6ca)][_0x11644f(0x832)]&&_0x33c7e9['accumulated'][_0x11644f(0x43e)]&&_0x33c7e9[_0x11644f(0x6ca)][_0x11644f(0x4fe)]&&_0x33c7e9['accumulated'][_0x11644f(0x6d0)]))throw new Error(_0x11644f(0x4c3));let _0x1434ab=0x0;const _0x847ec9=_0x1edead[_0x11644f(0x45b)][_0x11644f(0x5b7)](_0x33c7e9['id']);for(const _0x571e29 of _0x33c7e9[_0x11644f(0x6ca)]['entities']){let _0x4f15c1=[];_0x4f15c1=_0x33c7e9[_0x11644f(0x6ca)][_0x11644f(0x6d0)][_0x11644f(0x9e5)](_0x29ad4b=>_0x11644f(0xaba)==typeof _0x29ad4b[_0x11644f(0x4fe)]&&_0x29ad4b[_0x11644f(0x4fe)]['includes'](_0x571e29));try{_0x847ec9[_0x11644f(0x4af)](_0x33c7e9['accumulated'][_0x11644f(0x43e)][_0x11644f(0x9e1)],_0x33c7e9[_0x11644f(0x6ca)][_0x11644f(0x4fe)],_0x4f15c1,_0x571e29),_0x1434ab+=0x1;}catch(_0x114aad){}}if(_0x33c7e9['accumulated'][_0x11644f(0xa2c)]){for(const [_0x4600bf,_0x2b2e9b]of _0x33c7e9['accumulated']['relations'])for(const _0x212e66 of _0x2b2e9b)try{_0x847ec9[_0x11644f(0x9c3)](_0x4600bf,_0x212e66);}catch(_0x35babf){}await _0x31c296[_0x11644f(0x3c1)]({'jobType':_0x10de74['Ingest'],'type':_0x52fa6c[_0x11644f(0x48b)],'jobId':_0x5412ae,'blockId':_0x33c7e9['id'],'status':'success','startTime':_0x53992b,'timestamp':Date[_0x11644f(0x4e4)](),'traceLevel':_0x4ad3a8['Debug'],'nodesAdded':_0x1434ab,'entities':_0x33c7e9[_0x11644f(0x6ca)][_0x11644f(0x832)],'relations':_0x33c7e9['accumulated'][_0x11644f(0xa2c)]});}}async function _0x523620(_0x2be8f8,_0x375851,_0x5438ea,_0x36b893,_0x4a32ce,_0x397e99){const _0x27536e=_0x49e620,_0x1bb508=_0x397e99['models'][_0x27536e(0x94a)](_0x5b18b5=>_0x5b18b5['id']===_0x36b893['id']);if(!_0x1bb508)throw new Error(_0x27536e(0x50e));switch(_0x1bb508[_0x27536e(0x877)]){case _0x596e17[_0x27536e(0x2de)][_0x27536e(0x9bb)]:if('string'!=typeof _0x5438ea)throw new Error(_0x27536e(0xae7));await async function(_0x1cb16e,_0x3914b9,_0x1a8eeb,_0x38bed9,_0x4aa86e,_0x248675,_0xe7e354){const _0x1232d6=_0x27536e,_0x14deea=Date[_0x1232d6(0x4e4)]();let _0x1f7bc4;const _0x5ba0ab=await fetch(_0x42fdd0[_0x1232d6(0x826)]+'/chat/completions',{'method':_0x1232d6(0x873),'headers':{'Content-Type':_0x1232d6(0x8e5),'x-vendor-id':_0x1cb16e},'body':JSON['stringify']({'messages':[{'role':_0x1232d6(0x905),'content':_0x1a8eeb}],'model':_0x38bed9['id']})});_0x1f7bc4=(await _0x5ba0ab[_0x1232d6(0x563)]())[_0x1232d6(0x33f)][0x0][_0x1232d6(0x977)]['content'],await _0x31c296[_0x1232d6(0x3c1)]({'jobType':_0x10de74[_0x1232d6(0x5ed)],'type':_0x52fa6c['ModelText'],'jobId':_0x3914b9,'blockId':_0x4aa86e['id'],'traceLevel':_0x4ad3a8['Debug'],'timestamp':Date[_0x1232d6(0x4e4)](),'startTime':_0x14deea,'status':'success','modelName':_0x38bed9['id'],'inputType':_0x38bed9[_0x1232d6(0x746)],'outputType':_0x38bed9[_0x1232d6(0x877)],'content':_0x1a8eeb,'results':_0x1f7bc4}),await _0x1e42ff(_0x1cb16e,_0x3914b9,_0x1f7bc4,_0x4aa86e,_0x248675,_0xe7e354);}(_0x2be8f8,_0x375851,_0x5438ea,_0x1bb508,_0x36b893,_0x4a32ce,_0x397e99);break;case _0x596e17[_0x27536e(0x2de)][_0x27536e(0x892)]:if(!(_0x5438ea instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x158492,_0x28128f,_0x129c18,_0x55143f,_0x3ac798,_0x199c11,_0x3bd83f){const _0x254c21=_0x27536e,_0x9bd847=Date[_0x254c21(0x4e4)](),_0x3ae6ac=await fetch(_0x42fdd0[_0x254c21(0x826)]+_0x254c21(0x379),{'method':_0x254c21(0x873),'headers':{'Content-Type':_0x254c21(0x8e5),'x-vendor-id':_0x158492},'body':JSON[_0x254c21(0x273)]({'input':_0x129c18[_0x254c21(0x3bb)](_0x3c015f=>_0x3c015f[_0x254c21(0x4fe)]),'model':_0x55143f['id']})}),_0x5a79f5=(await _0x3ae6ac[_0x254c21(0x563)]())['data'][_0x254c21(0x3bb)](_0x589137=>_0x589137['embedding']);await _0x31c296[_0x254c21(0x3c1)]({'jobType':_0x10de74['Ingest'],'type':_0x52fa6c[_0x254c21(0x237)],'jobId':_0x28128f,'blockId':_0x3ac798['id'],'traceLevel':_0x4ad3a8[_0x254c21(0x504)],'timestamp':Date['now'](),'startTime':_0x9bd847,'status':'success','modelName':_0x55143f['id'],'inputType':_0x55143f[_0x254c21(0x746)],'outputType':_0x55143f['outputType'],'totalVectors':_0x5a79f5['length']}),await _0x1e42ff(_0x158492,_0x28128f,_0x5a79f5,_0x3ac798,_0x199c11,_0x3bd83f);}(_0x2be8f8,_0x375851,_0x5438ea,_0x1bb508,_0x36b893,_0x4a32ce,_0x397e99);}}async function _0x57d761(_0x12f32f,_0x783393,_0x32d616,_0x55f2e5,_0x542627,_0x3757e4){const _0x331678=_0x49e620,_0x3b9eff=Date[_0x331678(0x4e4)]();if(_0x55f2e5['accumulated']||(_0x55f2e5[_0x331678(0x6ca)]={}),_0x32d616 instanceof Array?_0x55f2e5[_0x331678(0x6ca)]['index']=_0x32d616:_0x55f2e5[_0x331678(0x6ca)][_0x331678(0x832)]=_0x32d616,_0x55f2e5['timesCalled']=_0x55f2e5[_0x331678(0xa8e)]?_0x55f2e5['timesCalled']+0x1:0x1,_0x3b61a0(_0x55f2e5,_0x542627['ingestBlocks'])>_0x55f2e5[_0x331678(0xa8e)])return;if(!_0x55f2e5[_0x331678(0x6ca)]['index']||!_0x55f2e5['accumulated'][_0x331678(0x832)])throw new Error(_0x331678(0x515));const _0x42f710=new Map();for(const _0x156240 of _0x55f2e5[_0x331678(0x6ca)]['index']){if(_0x331678(0xaba)!=typeof _0x156240[_0x331678(0x4fe)])throw new Error(_0x331678(0xa69));_0x21c3a2(_0x156240[_0x331678(0x4fe)],_0x55f2e5['accumulated'][_0x331678(0x832)],_0x42f710);}await _0x31c296[_0x331678(0x3c1)]({'jobType':_0x10de74[_0x331678(0x5ed)],'type':_0x52fa6c[_0x331678(0x6b0)],'jobId':_0x783393,'blockId':_0x55f2e5['id'],'traceLevel':_0x4ad3a8['Debug'],'timestamp':Date['now'](),'startTime':_0x3b9eff,'status':_0x331678(0x9c7),'entities':_0x55f2e5[_0x331678(0x6ca)][_0x331678(0x832)],'relations':_0x42f710,'totalRelationsExtracted':_0x42f710[_0x331678(0x65a)]}),await _0x1e42ff(_0x12f32f,_0x783393,_0x42f710,_0x55f2e5,_0x542627,_0x3757e4);}function _0x21c3a2(_0x2b1081,_0x1ed814,_0x3d4404){const _0x59ab7d=_0x49e620;for(const _0x2ecf30 of _0x1ed814)for(const _0x151a7b of _0x1ed814){if(_0x2ecf30===_0x151a7b)continue;const _0x4a50fe=_0x2b1081[_0x59ab7d(0x688)](_0x2ecf30),_0x297254=_0x2b1081[_0x59ab7d(0x688)](_0x151a7b);-0x1!==_0x4a50fe&&-0x1!==_0x297254&&(_0x3d4404[_0x59ab7d(0x29d)](_0x2ecf30)||_0x3d4404['set'](_0x2ecf30,new Set()),_0x3d4404[_0x59ab7d(0x680)](_0x2ecf30)[_0x59ab7d(0x554)](_0x151a7b));}return _0x3d4404;}async function _0x2f85fd(_0x6065bc,_0x4207c4,_0x2c2483,_0x305103,_0x14309c,_0xe36c4d){const _0x5d6e01=_0x49e620,_0x3a78f4=Date['now']();let _0xbfa6a2=[];if(_0x2c2483 instanceof Array)for(const _0x5d87ff of _0x2c2483){if(_0x5d6e01(0xaba)!=typeof _0x5d87ff[_0x5d6e01(0x4fe)])throw new Error('Invalid\x20content\x20type');const _0x2ac6e4=await _0xe36c4d[_0x5d6e01(0x4cd)][_0x5d6e01(0x8e3)](_0x5d87ff[_0x5d6e01(0x4fe)]);_0xbfa6a2=_0xbfa6a2[_0x5d6e01(0xa54)](_0x2ac6e4[_0x5d6e01(0x3bb)](_0x4a1d34=>({'content':_0x4a1d34,'start':_0x5d87ff[_0x5d6e01(0x411)],'length':_0x5d87ff[_0x5d6e01(0x8bc)]})));}else _0xbfa6a2=(await _0xe36c4d['nlpLibraryConnector'][_0x5d6e01(0x8e3)](_0x2c2483))[_0x5d6e01(0x3bb)](_0x2489ef=>({'content':_0x2489ef,'start':_0x2c2483[_0x5d6e01(0x688)](_0x2489ef),'length':_0x2489ef[_0x5d6e01(0x8bc)]}));await _0x31c296[_0x5d6e01(0x3c1)]({'jobType':_0x10de74['Ingest'],'type':_0x52fa6c[_0x5d6e01(0x912)],'jobId':_0x4207c4,'blockId':_0x305103['id'],'traceLevel':_0x4ad3a8['Debug'],'startTime':_0x3a78f4,'timestamp':Date[_0x5d6e01(0x4e4)](),'status':_0x5d6e01(0x9c7),'totalSentences':_0xbfa6a2[_0x5d6e01(0x8bc)],'averageSentenceLength':_0xbfa6a2['reduce']((_0x187a4d,_0x8d636c)=>_0x187a4d+_0x8d636c[_0x5d6e01(0x8bc)],0x0)/_0xbfa6a2[_0x5d6e01(0x8bc)]}),await _0x1e42ff(_0x6065bc,_0x4207c4,_0xbfa6a2,_0x305103,_0x14309c,_0xe36c4d);}async function _0x37d3bb(_0x44d2bf,_0x2c46b3,_0x1aaca6){const _0x53b782=_0x49e620;if(0x0===_0x44d2bf[_0x53b782(0x8bc)])return;const _0x5601d5=_0x2c46b3[_0x53b782(0x4c6)]?.[_0x53b782(0x3ba)]?_0x2c46b3['internalContext'][_0x53b782(0x3ba)][_0x53b782(0x627)](','):[];for(const _0x1469da of _0x44d2bf){const _0x4c2016=await _0x1aaca6[_0x53b782(0xb53)][_0x53b782(0x4c5)](_0x1469da);_0x5601d5[_0x53b782(0x6b8)](_0x4c2016);}_0x2c46b3[_0x53b782(0x4c6)]||(_0x2c46b3[_0x53b782(0x4c6)]={}),_0x2c46b3[_0x53b782(0x4c6)][_0x53b782(0x3ba)]=_0x5601d5[_0x53b782(0xae2)](',');}async function _0x40ed77(_0xcebe9d,_0x1e5e41,_0x299fa1,_0x23a648,_0x30982d,_0x3e251d,_0x382ba6,_0x1b1c81,_0xa778cf){const _0xc85921=_0x49e620;if(_0x3e251d[_0xc85921(0x6ca)]||(_0x3e251d['accumulated']={}),_0x1e5e41===_0x361464[_0xc85921(0x9bb)]&&_0xc85921(0xaba)==typeof _0x299fa1&&(_0x3e251d[_0xc85921(0x6ca)][_0xc85921(0x481)]||(_0x3e251d['accumulated'][_0xc85921(0x481)]=[]),_0x3e251d[_0xc85921(0x6ca)][_0xc85921(0x481)][_0xc85921(0x6b8)](_0x299fa1)),_0x3e251d[_0xc85921(0xa8e)]=_0x3e251d['timesCalled']?_0x3e251d[_0xc85921(0xa8e)]+0x1:0x1,_0x132999(_0x3e251d,_0x382ba6)>_0x3e251d[_0xc85921(0xa8e)])return;if(_0xb8b103[_0xc85921(0xa55)]('Processing\x20agent\x20block:\x20'+_0x3e251d['name'],_0x3e251d['timesCalled']),!_0x3e251d[_0xc85921(0x6ca)][_0xc85921(0x481)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x3e251d[_0xc85921(0x9b3)]);const _0x4bf64c=_0x1b1c81['models'][_0xc85921(0x94a)](_0x2b96cf=>_0x2b96cf['id']===_0x3e251d['modelId']);if(!_0x4bf64c)throw new Error('Model\x20not\x20found\x20'+_0x3e251d[_0xc85921(0xa05)]);const _0xc6ee91=Date[_0xc85921(0x4e4)](),_0x58e647=(0x0,_0x3c37ba['v4'])();let _0x738921='',_0x4a8cac=0x0,_0x581f5f=0x0;const _0x5f1615=[],_0x1ad81c=function(_0x2c5da7,_0x371fb0,_0x13ac04){const _0x84c40b=_0xc85921;if(_0x13ac04[_0x84c40b(0x801)]){const _0x2f642a=_0x13ac04[_0x84c40b(0x801)][_0x84c40b(0x627)](',');for(const _0x40c8c2 of _0x2f642a)_0x84c40b(0x3ba)!==_0x40c8c2&&_0x371fb0['internalContext']?.[_0x40c8c2]&&(_0x2c5da7='<'+_0x40c8c2+'>'+_0x371fb0[_0x84c40b(0x4c6)][_0x40c8c2]+'</'+_0x40c8c2+_0x84c40b(0x6c2)+_0x2c5da7);}return _0x2c5da7;}(_0x3e251d[_0xc85921(0x6ca)][_0xc85921(0x481)][_0xc85921(0xae2)]('\x0a\x0a'),_0x30982d,_0x3e251d);let _0x2ad384=_0x1ad81c;const _0x3aa8ca=_0x3e251d['contextInputVariable']?.[_0xc85921(0x627)](',');if(_0x30982d[_0xc85921(0x4c6)]?.[_0xc85921(0x3ba)]&&_0x3aa8ca?.[_0xc85921(0x2ef)](_0xc85921(0x3ba))){const _0x134a96=_0x30982d[_0xc85921(0x4c6)][_0xc85921(0x3ba)][_0xc85921(0x627)](',');_0x2ad384=[];for(const _0x1a90b8 of _0x134a96)_0x2ad384[_0xc85921(0x6b8)]({'type':_0xc85921(0x43e),'file':{'file_id':_0x1a90b8}});_0x2ad384[_0xc85921(0x6b8)]({'type':_0xc85921(0x656),'text':_0x1ad81c});}if(_0x5f1615['push']({'role':'system','content':_0x62595e(_0x23a648['instructions']??'',_0x3e251d,_0x4bf64c)}),_0x5f1615['push'](..._0x23a648[_0xc85921(0x4f2)]?.['map'](_0x5e503f=>({'role':_0x5e503f[_0xc85921(0x502)]===_0x596e17[_0xc85921(0x81c)][_0xc85921(0x3ca)]?_0xc85921(0x905):_0xc85921(0x35b),'content':_0x5e503f[_0xc85921(0x977)]}))??[]),_0x5f1615[_0xc85921(0x6b8)]({'role':_0xc85921(0x905),'content':_0x2ad384}),_0xa778cf){const _0xd5792c=_0x3e251d[_0xc85921(0x436)]?.[_0xc85921(0x8b6)](_0x6d9a66=>{const _0x3a9c5c=_0xc85921,_0x39471e=_0x382ba6[_0x3a9c5c(0x94a)](_0x520d65=>_0x520d65[_0x3a9c5c(0x76c)]===_0x6d9a66[_0x3a9c5c(0x76c)]);return!!_0x39471e&&_0x6d9a66[_0x3a9c5c(0x70f)]===_0x361464[_0x3a9c5c(0x9bb)]&&_0x39471e[_0x3a9c5c(0x70f)]===_0x3792cf[_0x3a9c5c(0xac1)];})??!0x1,_0x25b566=_0x382ba6[_0xc85921(0x9e5)](_0x74dc76=>_0x74dc76[_0xc85921(0x436)]?.[_0xc85921(0x8b6)](_0x25fbcd=>_0x25fbcd[_0xc85921(0x76c)]===_0x3e251d[_0xc85921(0x76c)]&&_0x25fbcd[_0xc85921(0x70f)]===_0x361464['Tool'])),_0x5c1e3e=await fetch(_0x42fdd0[_0xc85921(0x826)]+_0xc85921(0x203),{'method':_0xc85921(0x873),'headers':{'Accept':_0xc85921(0xb0f),'Content-Type':_0xc85921(0x8e5),'x-vendor-id':_0x23a648[_0xc85921(0x2e6)]},'body':JSON[_0xc85921(0x273)]({'model':_0x3e251d['modelId'],'messages':_0x5f1615,'max_completion_tokens':_0x3e251d['maxTokens'],'temperature':_0x3e251d[_0xc85921(0x752)],'stream':!0x0,'stream_options':{'include_usage':!0x0},'context':_0x30982d[_0xc85921(0x4c6)]??{},'structured_output':_0x3e251d[_0xc85921(0x75a)],'tools':_0x25b566[_0xc85921(0x3bb)](_0x1cbf78=>({'type':_0x1cbf78[_0xc85921(0x70f)],'name':_0x1cbf78[_0xc85921(0x9b3)]??'','description':_0x1cbf78[_0xc85921(0x29a)]??'','parameters':_0x1cbf78[_0xc85921(0x21e)]??[],'headers':_0x1cbf78['headers']??[],'queryParameters':_0x1cbf78[_0xc85921(0x879)]??[],'bodyParameters':_0x1cbf78['bodyParameters']??[],'endpointUrl':_0x1cbf78[_0xc85921(0x5ab)]??'','endpointMethod':_0x1cbf78[_0xc85921(0x65c)]??'','contextOutputVariable':_0x1cbf78['contextOutputVariable']??'','modelId':_0x1cbf78[_0xc85921(0xa05)]??'','instructions':_0x1cbf78['instructions']??'','maxTokens':_0x1cbf78[_0xc85921(0xa6f)]??0x0,'temperature':_0x1cbf78[_0xc85921(0x752)]??0x0,'collectionId':_0x1cbf78[_0xc85921(0x70f)]===_0x3792cf[_0xc85921(0x83a)]||_0x1cbf78[_0xc85921(0x70f)]===_0x3792cf[_0xc85921(0x470)]?_0x1cbf78['id']:''}))})});if(!_0x5c1e3e['body'])throw new Error('ReadableStream\x20is\x20not\x20supported');const _0x540b71=_0x5c1e3e[_0xc85921(0x34d)][_0xc85921(0x6e7)](),_0x49ac21=new TextDecoder();for(;;){const {value:_0x505b71,done:_0x25e847}=await _0x540b71['read']();if(_0x25e847)break;const _0x15db79=_0x49ac21[_0xc85921(0x705)](_0x505b71,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x15db79)break;const _0x15ed70=_0x15db79[_0xc85921(0x627)](_0xc85921(0x64d))[_0xc85921(0x3bb)](_0x569b34=>_0x569b34[_0xc85921(0x416)]('data:\x20','')[_0xc85921(0x547)]())[_0xc85921(0x9e5)](_0x24c81d=>''!==_0x24c81d)[_0xc85921(0x3bb)](_0x3569fa=>{const _0x26311f=_0xc85921;if(_0x26311f(0x457)===_0x3569fa)return null;try{return JSON[_0x26311f(0x7b5)](_0x3569fa);}catch(_0x44f9a1){return console[_0x26311f(0x528)](_0x26311f(0xab0),_0x3569fa),null;}})[_0xc85921(0x9e5)](_0x1e3da1=>null!==_0x1e3da1);for(const _0x5ccf01 of _0x15ed70)_0x5ccf01['choices']&&_0x5ccf01[_0xc85921(0x33f)][0x0]&&(_0xd5792c&&''!==_0x5ccf01[_0xc85921(0x33f)][0x0][_0xc85921(0x9b8)][_0xc85921(0x4fe)]&&(_0xa778cf[_0xc85921(0x8e2)]({'output':_0x5ccf01[_0xc85921(0x33f)][0x0][_0xc85921(0x9b8)][_0xc85921(0x4fe)],'type':_0xc85921(0x481)}),await _0x285f59[_0xc85921(0x7fd)](0x1)),_0x738921+=_0x5ccf01[_0xc85921(0x33f)][0x0][_0xc85921(0x9b8)][_0xc85921(0x4fe)]??'',_0x4a8cac=_0x5ccf01[_0xc85921(0x462)]?.['prompt_tokens']??0x0,_0x581f5f=_0x5ccf01[_0xc85921(0x462)]?.['completion_tokens']??0x0);}_0xd5792c||_0xa778cf['emit']({'output':'','type':_0xc85921(0x481)});}else{const _0x2f52e4=await fetch(_0x42fdd0[_0xc85921(0x826)]+_0xc85921(0x203),{'method':_0xc85921(0x873),'headers':{'Content-Type':'application/json','x-vendor-id':_0x23a648[_0xc85921(0x2e6)]},'body':JSON[_0xc85921(0x273)]({'model':_0x3e251d[_0xc85921(0xa05)],'messages':_0x5f1615,'max_completion_tokens':_0x3e251d['maxTokens'],'temperature':_0x3e251d[_0xc85921(0x752)]})}),_0x310b36=await _0x2f52e4[_0xc85921(0x563)]();_0x738921=_0x310b36['choices'][0x0][_0xc85921(0x977)][_0xc85921(0x4fe)],_0x4a8cac=_0x310b36[_0xc85921(0x462)][_0xc85921(0x95f)],_0x30982d[_0xc85921(0x219)]=_0x310b36[_0xc85921(0x462)][_0xc85921(0x2ab)];}if(_0x3e251d[_0xc85921(0x2ad)]&&(_0x30982d[_0xc85921(0x4c6)]||(_0x30982d[_0xc85921(0x4c6)]={}),_0x30982d[_0xc85921(0x4c6)][_0x3e251d['contextOutputVariable']]=_0x738921),await _0x31c296['trace']({'jobType':_0x10de74[_0xc85921(0x395)],'type':_0x207860[_0xc85921(0x7a7)],'jobId':_0xcebe9d,'agentId':_0x58e647,'threadId':_0x23a648[_0xc85921(0x7c8)],'traceLevel':_0x4ad3a8[_0xc85921(0x354)],'startTime':_0xc6ee91,'timestamp':Date['now'](),'blockId':_0x3e251d['id'],'status':_0xc85921(0x9c7),'output':_0x738921,'prompt':_0x1ad81c,'agentName':_0x3e251d['name'],'history':[],'instructions':''+_0x3e251d[_0xc85921(0x8c9)]+(_0x23a648[_0xc85921(0x8c9)]??''),'ragContext':[],'inputTokens':_0x4a8cac??0x0,'outputTokens':_0x581f5f??0x0}),_0xc85921(0x9f3)===_0x3e251d[_0xc85921(0x75a)])try{_0x738921=JSON['parse'](_0x738921)[_0xc85921(0x441)]?_0xc85921(0x5af):'false';}catch(_0xf04fff){console[_0xc85921(0x528)](_0xc85921(0xa87),_0x738921),_0x738921=_0xc85921(0x9ed);}await _0x534d84(_0xcebe9d,_0x738921,_0x23a648,_0x30982d,_0x3e251d,_0x382ba6,_0x1b1c81,_0xa778cf);}function _0x62595e(_0x2e7cb5,_0x67c060,_0x1b827e){const _0x4ea681=_0x49e620;let _0x4782bb='';return _0x1b827e[_0x4ea681(0xaa5)]&&''!==_0x1b827e[_0x4ea681(0xaa5)]&&(_0x4782bb='Knowledge\x20Cutoff\x20Date:\x20'+_0x1b827e[_0x4ea681(0xaa5)]+'\x0a\x0a'),_0x4782bb=_0x4782bb+'Today\x20Date:\x20'+new Date()['toLocaleDateString'](void 0x0,{'weekday':'long','year':_0x4ea681(0x44e),'month':_0x4ea681(0x69b),'day':_0x4ea681(0x44e)})+'\x0a\x0a',''+_0x4782bb+_0x67c060[_0x4ea681(0x8c9)]+_0x2e7cb5;}async function _0x234b35(_0x2754b7,_0x213b00,_0x18fd21,_0x10ed04,_0x30bd64,_0x4a8e0e,_0x32587d,_0x2ea0a7){const _0x388b98=function(_0x43cdbb,_0x5d26d5){const _0x470c70=a0_0x2367,_0x435c18=[];for(let _0xd02447=0x0;_0xd02447<_0x43cdbb['length'];_0xd02447+=_0x5d26d5[_0x470c70(0xa00)][_0x470c70(0x65a)]){let _0x9c3f37=_0xd02447-_0x5d26d5[_0x470c70(0xa00)]['overlap'];_0x9c3f37<0x0&&(_0x9c3f37=0x0);let _0x3a5e2f=_0xd02447+_0x5d26d5[_0x470c70(0xa00)][_0x470c70(0x65a)]+_0x5d26d5['attributes'][_0x470c70(0x3e6)];_0x3a5e2f>_0x43cdbb['length']&&(_0x3a5e2f=_0x43cdbb['length']),length||(length=_0xd02447+_0x5d26d5[_0x470c70(0xa00)][_0x470c70(0x65a)],length>_0x43cdbb[_0x470c70(0x8bc)]&&(length=_0x43cdbb['length'])),_0x435c18[_0x470c70(0x6b8)](_0x43cdbb['substring'](_0x9c3f37,_0x3a5e2f));}return _0x435c18;}(_0x213b00,_0x30bd64);await _0x534d84(_0x2754b7,_0x388b98,_0x18fd21,_0x10ed04,_0x30bd64,_0x4a8e0e,_0x32587d,_0x2ea0a7);}async function _0xf892ac(_0x50d29e,_0x494f25,_0x131201,_0x4868cc,_0x2950f7,_0x26165b,_0x4522aa,_0x2ee64f){const _0x5077c4=_0x49e620;if(_0x2950f7['accumulated']||(_0x2950f7[_0x5077c4(0x6ca)]={}),_0x2950f7[_0x5077c4(0x6ca)][_0x5077c4(0x7bc)]||(_0x2950f7[_0x5077c4(0x6ca)][_0x5077c4(0x7bc)]=[]),_0x494f25 instanceof Array?_0x2950f7[_0x5077c4(0x6ca)][_0x5077c4(0x7bc)][_0x5077c4(0x6b8)](..._0x494f25):_0x2950f7[_0x5077c4(0x6ca)][_0x5077c4(0x7bc)][_0x5077c4(0x6b8)](_0x494f25),_0x2950f7[_0x5077c4(0xa8e)]=_0x2950f7[_0x5077c4(0xa8e)]?_0x2950f7[_0x5077c4(0xa8e)]+0x1:0x1,_0x132999(_0x2950f7,_0x26165b)>_0x2950f7['timesCalled'])return;if(0x0===_0x2950f7[_0x5077c4(0x6ca)][_0x5077c4(0x7bc)][_0x5077c4(0x8bc)])throw new Error(_0x5077c4(0x7d9));let _0x5204cb=[];const _0x3be5af=Date[_0x5077c4(0x4e4)]();try{let _0x99d764=0x0,_0x297ffe=0x0;for(const _0x5d6354 of _0x2950f7['accumulated'][_0x5077c4(0x7bc)]){const _0x3c4fd2=await fetch(_0x42fdd0[_0x5077c4(0x826)]+_0x5077c4(0x6e9)+_0x2950f7['id']+_0x5077c4(0x229),{'method':_0x5077c4(0x873),'headers':{'Content-Type':_0x5077c4(0x8e5),'x-vendor-id':_0x131201[_0x5077c4(0x2e6)]},'body':JSON[_0x5077c4(0x273)]({'query':_0x5d6354})}),_0x440710=((await _0x3c4fd2[_0x5077c4(0x563)]())[_0x5077c4(0x7b6)]??[])[_0x5077c4(0x3bb)](_0x4a425d=>({'pathName':_0x4a425d[_0x5077c4(0x9ee)],'relevance':_0x4a425d[_0x5077c4(0x341)],'content':_0x4a425d[_0x5077c4(0x4fe)]['text']}));_0x5204cb=Array[_0x5077c4(0x9cc)](new Set([..._0x5204cb,..._0x440710])),_0x99d764+=_0x440710[_0x5077c4(0x888)]??0x0,_0x297ffe+=_0x440710[_0x5077c4(0x219)]??0x0;}_0x4868cc[_0x5077c4(0x888)]+=_0x99d764,_0x4868cc['outputTokens']+=_0x297ffe,_0x4868cc[_0x5077c4(0x69c)]=Array[_0x5077c4(0x9cc)](new Set([..._0x4868cc[_0x5077c4(0x69c)],..._0x5204cb])),await _0x31c296['trace']({'jobType':_0x10de74[_0x5077c4(0x395)],'type':_0x207860[_0x5077c4(0x83a)],'jobId':_0x50d29e,'threadId':_0x131201[_0x5077c4(0x7c8)],'traceLevel':_0x4ad3a8[_0x5077c4(0x354)],'startTime':_0x3be5af,'timestamp':Date[_0x5077c4(0x4e4)](),'blockId':_0x2950f7['id'],'status':_0x5077c4(0x9c7),'queries':_0x2950f7['accumulated'][_0x5077c4(0x7bc)],'context':_0x5204cb,'inputTokens':_0x99d764,'outputTokens':_0x297ffe});}catch(_0x357fa6){console['error'](_0x357fa6),await _0x31c296[_0x5077c4(0x3c1)]({'jobType':_0x10de74['Workflow'],'type':_0x207860['DataCollection'],'jobId':_0x50d29e,'threadId':_0x131201[_0x5077c4(0x7c8)],'traceLevel':_0x4ad3a8[_0x5077c4(0x354)],'startTime':_0x3be5af,'timestamp':Date['now'](),'blockId':_0x2950f7['id'],'status':'error','queries':_0x2950f7[_0x5077c4(0x6ca)]['queries'],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x534d84(_0x50d29e,'',_0x131201,_0x4868cc,_0x2950f7,_0x26165b,_0x4522aa,_0x2ee64f);}async function _0x295204(_0x4e3011,_0x3b74bf,_0x5a0e61,_0x169f3d,_0x26bc45,_0x254804,_0x423f74,_0x180946){const _0x3d81dd=_0x49e620,_0xe92bb0=await _0x423f74[_0x3d81dd(0x4cd)][_0x3d81dd(0x8e3)](_0x3b74bf);await _0x534d84(_0x4e3011,_0xe92bb0,_0x5a0e61,_0x169f3d,_0x26bc45,_0x254804,_0x423f74,_0x180946);}async function _0x1fff80(_0x546bec,_0x108fb8,_0x13044d,_0x838ed9,_0x4072db,_0x547867,_0x298b20,_0x49f298){const _0x233c21=function(_0x45087c,_0x57910b){const _0x56ca3c=a0_0x2367,_0x4b5c81=[],_0x1c26c1=_0x45087c[_0x56ca3c(0x627)]('\x20');let _0x16bc10='',_0x10f07f=0x0,_0x3aa52d=0x0,_0x26b0f3=0x0;for(const _0x20301d of _0x1c26c1){if(_0x16bc10[_0x56ca3c(0x8bc)]+_0x20301d[_0x56ca3c(0x8bc)]>_0x57910b[_0x56ca3c(0xa00)][_0x56ca3c(0x65a)]){let _0x4cad11=_0x10f07f,_0x23aba4='';for(;_0x4cad11>=0x0&&_0x23aba4[_0x56ca3c(0x8bc)]+_0x1c26c1[_0x4cad11][_0x56ca3c(0x8bc)]<_0x57910b[_0x56ca3c(0xa00)]['overlap'];)_0x23aba4=_0x1c26c1[_0x4cad11]+'\x20'+_0x23aba4,_0x4cad11--;let _0x252c2d=_0x3aa52d,_0x5c4f3a='';for(;_0x252c2d<_0x1c26c1[_0x56ca3c(0x8bc)]&&_0x5c4f3a[_0x56ca3c(0x8bc)]+_0x1c26c1[_0x252c2d][_0x56ca3c(0x8bc)]<_0x57910b[_0x56ca3c(0xa00)][_0x56ca3c(0x3e6)];)_0x5c4f3a+=_0x1c26c1[_0x252c2d]+'\x20',_0x252c2d++;_0x16bc10=_0x23aba4+_0x16bc10+_0x5c4f3a,_0x4b5c81[_0x56ca3c(0x6b8)](_0x16bc10[_0x56ca3c(0x547)]()),_0x16bc10='',_0x10f07f=_0x3aa52d;}_0x16bc10+=_0x20301d+'\x20',_0x3aa52d++,_0x26b0f3+=_0x20301d[_0x56ca3c(0x8bc)]+0x1;}if(_0x16bc10['length']>0x0){let _0x5664e6=_0x10f07f,_0x2c8a48='';for(;_0x5664e6>=0x0&&_0x2c8a48[_0x56ca3c(0x8bc)]+_0x1c26c1[_0x5664e6]['length']<_0x57910b[_0x56ca3c(0xa00)][_0x56ca3c(0x3e6)];)_0x2c8a48=_0x1c26c1[_0x5664e6]+'\x20'+_0x2c8a48,_0x5664e6--;_0x16bc10=_0x2c8a48+_0x16bc10,_0x4b5c81[_0x56ca3c(0x6b8)](_0x16bc10[_0x56ca3c(0x547)]());}return _0x4b5c81;}(_0x108fb8,_0x4072db);await _0x534d84(_0x546bec,_0x233c21,_0x13044d,_0x838ed9,_0x4072db,_0x547867,_0x298b20,_0x49f298);}async function _0x534d84(_0x4eb71c,_0x36f441,_0x3e8379,_0x370417,_0x46f3b8,_0x7a2b95,_0x358b1f,_0x34212b){const _0x59158b=_0x49e620;if(await _0x285f59[_0x59158b(0x7fd)](0x1),_0x46f3b8[_0x59158b(0x436)]){for(const _0x16dd11 of _0x46f3b8[_0x59158b(0x436)]){if(_0x16dd11['type']===_0x361464[_0x59158b(0xb06)])continue;const _0x46ef5f=_0x7a2b95[_0x59158b(0x94a)](_0x486244=>_0x486244[_0x59158b(0x76c)]===_0x16dd11[_0x59158b(0x76c)]);if(_0x46ef5f)switch(_0x46ef5f[_0x59158b(0x70f)]){case _0x3792cf[_0x59158b(0x783)]:_0x16dd11['type']!==_0x361464[_0x59158b(0x9bb)]&&_0x16dd11[_0x59158b(0x70f)]!==_0x361464[_0x59158b(0xa98)]||_0x59158b(0xaba)!=typeof _0x36f441||await _0x40ed77(_0x4eb71c,_0x16dd11[_0x59158b(0x70f)],_0x36f441,_0x3e8379,_0x370417,_0x46ef5f,_0x7a2b95,_0x358b1f,_0x34212b),_0x16dd11[_0x59158b(0x70f)]===_0x361464[_0x59158b(0x84c)]&&_0x59158b(0x5af)===_0x36f441&&await _0x40ed77(_0x4eb71c,_0x16dd11['type'],_0x36f441,_0x3e8379,_0x370417,_0x46ef5f,_0x7a2b95,_0x358b1f,_0x34212b),_0x16dd11['type']===_0x361464['WaitFalse']&&_0x59158b(0x9ed)===_0x36f441&&await _0x40ed77(_0x4eb71c,_0x16dd11['type'],_0x36f441,_0x3e8379,_0x370417,_0x46ef5f,_0x7a2b95,_0x358b1f,_0x34212b);break;case _0x3792cf[_0x59158b(0x54e)]:_0x16dd11[_0x59158b(0x70f)]===_0x361464[_0x59158b(0x9bb)]&&'string'==typeof _0x36f441&&await _0x234b35(_0x4eb71c,_0x36f441,_0x3e8379,_0x370417,_0x46ef5f,_0x7a2b95,_0x358b1f,_0x34212b);break;case _0x3792cf['DataCollection']:_0x16dd11['type']===_0x361464['Text']&&_0x59158b(0xaba)==typeof _0x36f441&&await _0xf892ac(_0x4eb71c,_0x36f441,_0x3e8379,_0x370417,_0x46ef5f,_0x7a2b95,_0x358b1f,_0x34212b),_0x16dd11[_0x59158b(0x70f)]===_0x361464[_0x59158b(0x9bb)]&&_0x36f441 instanceof Array&&await _0xf892ac(_0x4eb71c,_0x36f441,_0x3e8379,_0x370417,_0x46ef5f,_0x7a2b95,_0x358b1f,_0x34212b);break;case _0x3792cf[_0x59158b(0x912)]:_0x16dd11[_0x59158b(0x70f)]===_0x361464[_0x59158b(0x9bb)]&&_0x59158b(0xaba)==typeof _0x36f441&&await _0x295204(_0x4eb71c,_0x36f441,_0x3e8379,_0x370417,_0x46ef5f,_0x7a2b95,_0x358b1f,_0x34212b);break;case _0x3792cf['WordSplitter']:_0x16dd11['type']===_0x361464[_0x59158b(0x9bb)]&&_0x59158b(0xaba)==typeof _0x36f441&&await _0x1fff80(_0x4eb71c,_0x36f441,_0x3e8379,_0x370417,_0x46ef5f,_0x7a2b95,_0x358b1f,_0x34212b);}}_0x46f3b8['type']===_0x3792cf[_0x59158b(0x35f)]&&_0x34212b&&_0x34212b[_0x59158b(0x8e2)](void 0x0);}else _0x46f3b8[_0x59158b(0x70f)]===_0x3792cf[_0x59158b(0x35f)]&&_0x34212b&&_0x34212b[_0x59158b(0x8e2)](void 0x0);}function _0x132999(_0x4c873f,_0x13b484){const _0x4992a6=_0x49e620;let _0x28a0d4=0x0;for(const _0x322a44 of _0x13b484)for(const _0xab3eaf of _0x322a44['links']??[])_0xab3eaf[_0x4992a6(0x70f)]!==_0x361464[_0x4992a6(0xb06)]&&_0xab3eaf['type']!==_0x361464['Tool']&&_0xab3eaf[_0x4992a6(0x76c)]===_0x4c873f['uid']&&_0x28a0d4++;return _0x28a0d4;}async function _0xfde2b5(_0x2d91c0,_0x311d1c,_0x1b3b68,_0x23c8b8,_0x24b93e){const _0x3c0659=_0x49e620;if(_0x2d91c0[_0x3c0659(0x3ba)]&&_0x1b3b68[_0x3c0659(0x436)]){const _0x46ab64=[];for(const _0x1836a4 of _0x2d91c0[_0x3c0659(0x3ba)])_0x46ab64[_0x3c0659(0x6b8)](_0xf2d371(_0x1836a4));for(const _0x38b9a6 of _0x1b3b68['links'])if('file'===_0x38b9a6[_0x3c0659(0x70f)]){const _0x14138c=_0x23c8b8[_0x3c0659(0x94a)](_0x5a6fca=>_0x5a6fca[_0x3c0659(0x76c)]===_0x38b9a6['uid']);if(!_0x14138c)continue;_0x14138c[_0x3c0659(0x70f)]===_0x3792cf[_0x3c0659(0x899)]&&await _0x37d3bb(_0x46ab64,_0x311d1c,_0x24b93e);}}}function _0xf2d371(_0x38438c){const _0x209b6f=_0x49e620,_0x2c4ce3=Uint8Array[_0x209b6f(0x9cc)](Buffer['from'](_0x38438c[_0x209b6f(0x4fe)],_0x209b6f(0x591))),_0x474747=new Blob([_0x2c4ce3],{'type':_0x38438c[_0x209b6f(0x70f)]});return new File([_0x474747],_0x38438c[_0x209b6f(0x9b3)],{'type':_0x38438c[_0x209b6f(0x70f)]});}function _0x46102a(_0x488dfc,_0x3785b4){const _0x4db313=_0x49e620;switch(_0x3785b4[_0x4db313(0xa44)]){case _0x43aca3[_0x4db313(0x8a6)]:return _0x4db313(0x76e);case _0x43aca3[_0x4db313(0x760)]:return _0x488dfc;case _0x43aca3['Dedicated']:default:return _0x3785b4['id'];}}async function _0x27b210(_0x542339,_0x1cc2cb,_0x5741dd,_0x157457,_0x2096a9,_0x378442){const _0x4cd02a=_0x49e620,_0x15c193=Date[_0x4cd02a(0x4e4)]();var _0x5c16b3;if(_0x157457[_0x4cd02a(0x6ca)]||(_0x157457[_0x4cd02a(0x6ca)]={}),_0x5741dd instanceof Array?(_0x5c16b3=_0x5741dd)[0x0]instanceof Array&&_0x4cd02a(0xb50)==typeof _0x5c16b3[0x0]?.[0x0]?_0x157457[_0x4cd02a(0x6ca)][_0x4cd02a(0x90c)]=_0x5741dd:_0x157457[_0x4cd02a(0x6ca)]['index']=_0x5741dd:_0x4cd02a(0xaba)==typeof _0x5741dd?_0x157457[_0x4cd02a(0x6ca)][_0x4cd02a(0x4fe)]=_0x5741dd:_0x157457[_0x4cd02a(0x6ca)][_0x4cd02a(0x43e)]=_0x5741dd,_0x157457[_0x4cd02a(0xa8e)]=_0x157457['timesCalled']?_0x157457[_0x4cd02a(0xa8e)]+0x1:0x1,!(_0x3b61a0(_0x157457,_0x2096a9[_0x4cd02a(0x2cd)])>_0x157457[_0x4cd02a(0xa8e)])){if(_0x4cd02a(0xb01)===_0x157457['id']){if(!_0x157457['accumulated'][_0x4cd02a(0x6d0)]||!_0x157457[_0x4cd02a(0x6ca)][_0x4cd02a(0x90c)]||!_0x157457[_0x4cd02a(0x6ca)][_0x4cd02a(0x43e)])throw new Error(_0x4cd02a(0x523));if(!_0x378442[_0x4cd02a(0x435)])throw new Error(_0x4cd02a(0x5d7));const _0x4cd233=[];for(let _0x1e69c6=0x0;_0x1e69c6<_0x157457[_0x4cd02a(0x6ca)][_0x4cd02a(0x6d0)][_0x4cd02a(0x8bc)];_0x1e69c6++){const _0x4abccd=_0x157457[_0x4cd02a(0x6ca)][_0x4cd02a(0x90c)][_0x1e69c6],_0x16771f=_0x157457['accumulated'][_0x4cd02a(0x6d0)][_0x1e69c6];_0x4cd233[_0x4cd02a(0x6b8)]({'content':_0x4abccd,'start':_0x16771f[_0x4cd02a(0x411)],'length':_0x16771f['length']});}const _0x467dfb=_0x46102a(_0x542339,_0x2096a9);await _0x378442[_0x4cd02a(0x435)][_0x4cd02a(0x742)](_0x467dfb,_0x2096a9['id'],_0x157457[_0x4cd02a(0x6ca)][_0x4cd02a(0x43e)][_0x4cd02a(0x9e1)],_0x4cd233);}else{if(!(_0x157457['accumulated'][_0x4cd02a(0x4fe)]&&_0x157457['accumulated'][_0x4cd02a(0x6d0)]&&_0x157457['accumulated']['vectors']&&_0x157457[_0x4cd02a(0x6ca)][_0x4cd02a(0x43e)]))throw new Error(_0x4cd02a(0x523));const _0x23c545=_0x378442['contentMediator']['getVectorDatabase'](_0x157457['id']);_0x23c545[_0x4cd02a(0x6a1)](_0x157457['accumulated'][_0x4cd02a(0x43e)][_0x4cd02a(0x9e1)],_0x157457[_0x4cd02a(0x6ca)]['content'],_0x157457[_0x4cd02a(0x6ca)][_0x4cd02a(0x6d0)],_0x157457[_0x4cd02a(0x6ca)][_0x4cd02a(0x90c)]),await _0x31c296[_0x4cd02a(0x3c1)]({'jobType':_0x10de74['Ingest'],'type':_0x52fa6c['VectorDatabase'],'jobId':_0x1cc2cb,'blockId':_0x157457['id'],'traceLevel':_0x4ad3a8[_0x4cd02a(0x504)],'startTime':_0x15c193,'timestamp':Date[_0x4cd02a(0x4e4)](),'status':_0x4cd02a(0x9c7),'databaseName':_0x23c545[_0x4cd02a(0xb24)](),'vectorsAdded':_0x157457['accumulated'][_0x4cd02a(0x90c)]['length'],'filePathName':_0x157457['accumulated'][_0x4cd02a(0x43e)][_0x4cd02a(0x9e1)]});}}}async function _0x714a1(_0x37d269,_0x3b0d15,_0x5d9cc2,_0x61acdb,_0x3c2dac,_0x521bab){const _0x5b30b0=_0x49e620,_0x3300d5=Date[_0x5b30b0(0x4e4)]();let _0x53fd70=[];if(_0x5d9cc2 instanceof Array)for(const _0xa33317 of _0x5d9cc2){if(_0x5b30b0(0xaba)!=typeof _0xa33317[_0x5b30b0(0x4fe)])throw new Error(_0x5b30b0(0xa69));_0x53fd70=_0x53fd70[_0x5b30b0(0xa54)](_0x3992eb(_0xa33317[_0x5b30b0(0x4fe)],_0x61acdb,_0xa33317[_0x5b30b0(0x411)],_0xa33317[_0x5b30b0(0x8bc)]));}else _0x53fd70=_0x3992eb(_0x5d9cc2,_0x61acdb);await _0x31c296[_0x5b30b0(0x3c1)]({'jobType':_0x10de74[_0x5b30b0(0x5ed)],'type':_0x52fa6c[_0x5b30b0(0x1f3)],'jobId':_0x3b0d15,'traceLevel':_0x4ad3a8['Debug'],'blockId':_0x61acdb['id'],'startTime':_0x3300d5,'timestamp':Date[_0x5b30b0(0x4e4)](),'status':_0x5b30b0(0x9c7),'totalChunks':_0x53fd70[_0x5b30b0(0x8bc)],'averageChunkLength':_0x53fd70['reduce']((_0x25e1e1,_0x1735d8)=>_0x25e1e1+_0x1735d8['length'],0x0)/_0x53fd70['length']}),await _0x1e42ff(_0x37d269,_0x3b0d15,_0x53fd70,_0x61acdb,_0x3c2dac,_0x521bab);}function _0x3992eb(_0x4d67a2,_0x2fdd35,_0x50e5f6,_0x46c8e6){const _0x1edbcb=_0x49e620,_0x224c58=[],_0x20141e=_0x4d67a2[_0x1edbcb(0x627)]('\x20');let _0x5269c8='',_0x36552a=-0x1,_0x452643=0x0,_0xe983db=0x0;for(const _0x1006e2 of _0x20141e){if(_0x5269c8[_0x1edbcb(0x8bc)]+_0x1006e2[_0x1edbcb(0x8bc)]>_0x2fdd35[_0x1edbcb(0xa00)][_0x1edbcb(0x65a)]){const _0x5dd8da=_0x5269c8[_0x1edbcb(0x8bc)];let _0x407b07=_0x36552a,_0x4a44fa='';for(;_0x407b07>=0x0&&_0x4a44fa[_0x1edbcb(0x8bc)]+_0x20141e[_0x407b07][_0x1edbcb(0x8bc)]<_0x2fdd35[_0x1edbcb(0xa00)][_0x1edbcb(0x3e6)];)_0x4a44fa=_0x20141e[_0x407b07]+'\x20'+_0x4a44fa,_0x407b07--;let _0x578542=_0x452643,_0x5bf5f5='';for(;_0x578542<_0x20141e[_0x1edbcb(0x8bc)]&&_0x5bf5f5[_0x1edbcb(0x8bc)]+_0x20141e[_0x578542][_0x1edbcb(0x8bc)]<_0x2fdd35[_0x1edbcb(0xa00)][_0x1edbcb(0x3e6)];)_0x5bf5f5+=_0x20141e[_0x578542]+'\x20',_0x578542++;_0x5269c8=_0x4a44fa+_0x5269c8+_0x5bf5f5,_0x224c58['push']({'content':_0x5269c8[_0x1edbcb(0x547)](),'start':_0x50e5f6??_0xe983db,'length':_0x46c8e6??_0x5dd8da}),_0x5269c8='',_0x36552a=_0x452643-0x1,_0xe983db+=_0x5dd8da;}_0x5269c8+=_0x1006e2+'\x20',_0x452643++;}if(_0x5269c8[_0x1edbcb(0x8bc)]>0x0){const _0x47265d=_0x5269c8[_0x1edbcb(0x8bc)];let _0x2bf140=_0x36552a,_0x141a5d='';for(;_0x2bf140>=0x0&&_0x141a5d[_0x1edbcb(0x8bc)]+_0x20141e[_0x2bf140][_0x1edbcb(0x8bc)]<_0x2fdd35[_0x1edbcb(0xa00)][_0x1edbcb(0x3e6)];)_0x141a5d=_0x20141e[_0x2bf140]+'\x20'+_0x141a5d,_0x2bf140--;_0x5269c8=_0x141a5d+_0x5269c8,_0x224c58['push']({'content':_0x5269c8[_0x1edbcb(0x547)](),'start':_0x50e5f6??_0xe983db,'length':_0x46c8e6??_0x47265d});}return _0x224c58;}async function _0x1e42ff(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x50c246,_0x39f4ef,_0x4ebbda){const _0x561a86=_0x49e620;for(const _0x4fd57d of _0x50c246[_0x561a86(0x436)]||[]){const _0x46e11d=_0x39f4ef['ingestBlocks'][_0x561a86(0x94a)](_0x4952f2=>_0x4952f2[_0x561a86(0x76c)]===_0x4fd57d[_0x561a86(0x76c)]);if(_0x46e11d)switch(_0x46e11d[_0x561a86(0x70f)]){case _0x104f2b[_0x561a86(0x783)]:_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x9bb)]&&'string'==typeof _0x40c0aa&&await _0x345afd(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda);break;case _0x104f2b[_0x561a86(0x54e)]:_0x4fd57d['type']===_0x361464['Text']&&_0x561a86(0xaba)==typeof _0x40c0aa&&await _0x5c998f(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x5c3)]&&_0x40c0aa instanceof Array&&await _0x5c998f(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda);break;case _0x104f2b[_0x561a86(0x899)]:_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x9b7)]&&await _0x1c81cf(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda);break;case _0x104f2b['Embed']:if(_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x5c3)]&&_0x40c0aa instanceof Array){if(!_0x39f4ef[_0x561a86(0xa05)])throw new Error(_0x561a86(0x7d7));const _0x4d704f={'type':_0x104f2b[_0x561a86(0x253)],'id':_0x39f4ef[_0x561a86(0xa05)],'uid':(0x0,_0x3c37ba['v4'])(),'links':_0x46e11d['links']};await _0x523620(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x4d704f,_0x39f4ef,_0x4ebbda);}break;case _0x104f2b[_0x561a86(0x3e9)]:_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x5c3)]&&_0x40c0aa instanceof Array&&await _0x34864f(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda);break;case _0x104f2b['GraphDatabase']:_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x9bb)]&&_0x561a86(0xaba)==typeof _0x40c0aa&&await _0x3d4a03(_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x5c3)]&&_0x40c0aa instanceof Array&&await _0x3d4a03(_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0xb57)]&&_0x40c0aa instanceof Set&&await _0x3d4a03(_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d['type']===_0x361464[_0x561a86(0x2c0)]&&_0x40c0aa instanceof Map&&await _0x3d4a03(_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d[_0x561a86(0x70f)]===_0x361464['File']&&await _0x3d4a03(_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda);break;case _0x104f2b[_0x561a86(0x253)]:_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x9bb)]&&_0x561a86(0xaba)==typeof _0x40c0aa&&await _0x523620(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x5c3)]&&_0x40c0aa instanceof Array&&await _0x523620(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda);break;case _0x104f2b[_0x561a86(0x6b0)]:_0x4fd57d[_0x561a86(0x70f)]===_0x361464['Index']&&_0x40c0aa instanceof Array&&await _0x57d761(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d[_0x561a86(0x70f)]===_0x361464['Entity']&&_0x40c0aa instanceof Set&&await _0x57d761(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda);break;case _0x104f2b[_0x561a86(0x912)]:_0x4fd57d['type']===_0x361464[_0x561a86(0x9bb)]&&'string'==typeof _0x40c0aa&&await _0x2f85fd(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x5c3)]&&_0x40c0aa instanceof Array&&await _0x2f85fd(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda);break;case _0x104f2b[_0x561a86(0x773)]:_0x4fd57d['type']===_0x361464[_0x561a86(0x9bb)]&&_0x561a86(0xaba)==typeof _0x40c0aa&&await _0x27b210(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d[_0x561a86(0x70f)]===_0x361464['Index']&&_0x40c0aa instanceof Array&&await _0x27b210(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x892)]&&_0x40c0aa instanceof Array&&await _0x27b210(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x9b7)]&&await _0x27b210(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda);break;case _0x104f2b[_0x561a86(0x1f3)]:_0x4fd57d[_0x561a86(0x70f)]===_0x361464['Text']&&_0x561a86(0xaba)==typeof _0x40c0aa&&await _0x714a1(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda),_0x4fd57d[_0x561a86(0x70f)]===_0x361464[_0x561a86(0x5c3)]&&_0x40c0aa instanceof Array&&await _0x714a1(_0x5e41e8,_0x4f703c,_0x40c0aa,_0x46e11d,_0x39f4ef,_0x4ebbda);}}}function _0x3b61a0(_0x5e4043,_0xaffdb2){const _0x5ebaef=_0x49e620;return _0xaffdb2[_0x5ebaef(0x9e5)](_0x27995a=>_0x27995a['links']?.[_0x5ebaef(0x8b6)](_0x243ea2=>_0x243ea2[_0x5ebaef(0x76c)]===_0x5e4043[_0x5ebaef(0x76c)]))[_0x5ebaef(0x8bc)];}async function _0x43abcf(_0x1033de,_0x4c43ac,_0x12562d,_0x23fca2,_0x8bb9b4,_0xbda210,_0x497970,_0x49f902){const _0x56200e=_0x49e620,_0x574be9=Date[_0x56200e(0x4e4)](),_0x354a6e=new Set();if(_0x23fca2 instanceof Array){for(const _0x50c5d3 of _0x23fca2)await _0x5508dc(_0x50c5d3[_0x56200e(0x4fe)],_0xbda210,_0x354a6e,_0x49f902['nlpLibraryConnector']);}else await _0x5508dc(_0x23fca2,_0xbda210,_0x354a6e,_0x49f902[_0x56200e(0x4cd)]);await _0x31c296[_0x56200e(0x3c1)]({'jobType':_0x10de74[_0x56200e(0x24d)],'type':_0x2e8912[_0x56200e(0x3e9)],'jobId':_0x4c43ac,'threadId':_0x12562d,'blockId':_0xbda210['id'],'traceLevel':_0x4ad3a8[_0x56200e(0x504)],'startTime':_0x574be9,'timestamp':Date[_0x56200e(0x4e4)](),'status':_0x56200e(0x9c7),'content':_0x23fca2,'entitiesExtracted':Array['from'](_0x354a6e),'totalEntities':_0x354a6e['size']}),await _0xdc089c(_0x1033de,_0x4c43ac,_0x12562d,_0x354a6e,_0x8bb9b4,_0xbda210,_0x497970,_0x49f902);}async function _0x5508dc(_0x584c6e,_0x3f1b5f,_0x286739,_0x4212e2){const _0x40480c=_0x49e620,_0x50e6d6=await _0x4212e2[_0x40480c(0x778)](_0x584c6e,{'ner':_0x3f1b5f[_0x40480c(0xa00)][_0x40480c(0x904)],'noun':_0x3f1b5f[_0x40480c(0xa00)][_0x40480c(0x2ae)],'propn':_0x3f1b5f['attributes'][_0x40480c(0xa4e)],'verb':_0x3f1b5f['attributes'][_0x40480c(0x38e)]});for(const _0x3ca2db of _0x50e6d6)_0x286739[_0x40480c(0x554)](_0x3ca2db);}async function _0x25be76(_0x56e196,_0x1157c7,_0x54359d,_0x3af30b,_0x517478,_0x3f158c,_0x1bb249,_0x732c4a){const _0x19bf27=_0x49e620,_0x13e32d=Date[_0x19bf27(0x4e4)]();if(_0x3f158c[_0x19bf27(0x6ca)]||(_0x3f158c['accumulated']={}),_0x3af30b instanceof Array?(_0x3f158c[_0x19bf27(0x6ca)][_0x19bf27(0x73f)]||(_0x3f158c[_0x19bf27(0x6ca)][_0x19bf27(0x73f)]=[]),_0x3f158c[_0x19bf27(0x6ca)][_0x19bf27(0x73f)][_0x19bf27(0x6b8)](..._0x3af30b)):_0x3af30b instanceof Set?_0x3f158c[_0x19bf27(0x6ca)]['entities']=_0x3af30b:_0x3f158c[_0x19bf27(0x6ca)][_0x19bf27(0x481)]=_0x3af30b,_0x3f158c[_0x19bf27(0xa8e)]=_0x3f158c['timesCalled']?_0x3f158c[_0x19bf27(0xa8e)]+0x1:0x1,_0x5476d4(_0x3f158c,_0x1bb249['retrieveBlocks'])>_0x3f158c[_0x19bf27(0xa8e)])return;if(!_0x3f158c[_0x19bf27(0x6ca)][_0x19bf27(0x481)]&&!_0x3f158c[_0x19bf27(0x6ca)][_0x19bf27(0x73f)]||!_0x3f158c['accumulated'][_0x19bf27(0x832)])throw new Error(_0x19bf27(0x4c3));const _0x4dece5=_0x732c4a['contentMediator'][_0x19bf27(0x5b7)](_0x3f158c['id'])[_0x19bf27(0x71f)](Array[_0x19bf27(0x9cc)](_0x3f158c[_0x19bf27(0x6ca)][_0x19bf27(0x832)]),_0x3f158c[_0x19bf27(0xa00)]['maxDepth'],_0x3f158c['attributes'][_0x19bf27(0x266)]);let _0x18ec48=[];for(const _0x241501 in _0x4dece5){const _0x3e8293=_0x4dece5[_0x241501];for(const _0x1caf04 of _0x3e8293){let _0x33d1c8=0x0;if(_0x3f158c[_0x19bf27(0x6ca)][_0x19bf27(0x481)]&&(_0x33d1c8=await _0x732c4a[_0x19bf27(0x4cd)][_0x19bf27(0x26d)](_0x3f158c[_0x19bf27(0x6ca)][_0x19bf27(0x481)],_0x1caf04)),_0x3f158c[_0x19bf27(0x6ca)][_0x19bf27(0x73f)]){for(const _0xf3250e of _0x3f158c[_0x19bf27(0x6ca)][_0x19bf27(0x73f)])_0x33d1c8=Math[_0x19bf27(0x57a)](_0x33d1c8,await _0x732c4a[_0x19bf27(0x4cd)][_0x19bf27(0x26d)](_0xf3250e[_0x19bf27(0x4fe)],_0x1caf04));}_0x33d1c8<_0x3f158c[_0x19bf27(0xa00)][_0x19bf27(0x9e6)]||_0x18ec48[_0x19bf27(0x6b8)]({'content':_0x1caf04,'relevance':_0x33d1c8,'pathName':_0x241501});}}_0x18ec48=_0x18ec48[_0x19bf27(0x8d9)]((_0x17cf1e,_0x61694e)=>_0x61694e[_0x19bf27(0x887)]-_0x17cf1e[_0x19bf27(0x887)])[_0x19bf27(0x966)](0x0,_0x3f158c['attributes'][_0x19bf27(0x324)]),await _0x31c296[_0x19bf27(0x3c1)]({'jobType':_0x10de74[_0x19bf27(0x24d)],'type':_0x2e8912['GraphSearch'],'jobId':_0x1157c7,'threadId':_0x54359d,'blockId':_0x3f158c['id'],'traceLevel':_0x4ad3a8[_0x19bf27(0x504)],'timestamp':Date[_0x19bf27(0x4e4)](),'startTime':_0x13e32d,'status':'success','content':_0x3af30b,'topResults':_0x18ec48,'numResults':_0x18ec48[_0x19bf27(0x8bc)]}),await _0xdc089c(_0x56e196,_0x1157c7,_0x54359d,_0x18ec48,_0x517478,_0x3f158c,_0x1bb249,_0x732c4a);}async function _0x2eeccc(_0x491ec6,_0x41d4a5,_0x4bd37e,_0x536472,_0xe562e4,_0x140d07,_0x10c1d8,_0x289974){const _0x16047d=_0x49e620,_0x516f3a=_0x289974['models'][_0x16047d(0x94a)](_0x15513b=>_0x15513b['id']===_0x140d07['id']);if(!_0x516f3a)throw new Error(_0x16047d(0x50e));let _0x387edd='';switch(_0x387edd=_0x536472 instanceof Array?_0x536472[_0x16047d(0x3bb)](_0x31e615=>_0x31e615[_0x16047d(0x4fe)])[_0x16047d(0xae2)](',\x20'):_0x536472,_0x516f3a[_0x16047d(0x877)]){case _0x596e17[_0x16047d(0x2de)][_0x16047d(0x9bb)]:await async function(_0xb9c393,_0x18764b,_0x10c83b,_0x536f04,_0x550426,_0x46baa8,_0x5b643d,_0x4ce849,_0x3bfab4){const _0x3763e3=_0x16047d,_0x555941=Date['now'](),_0x40253a=await fetch(_0x42fdd0[_0x3763e3(0x826)]+'/chat/completions',{'method':_0x3763e3(0x873),'headers':{'Content-Type':_0x3763e3(0x8e5),'x-vendor-id':_0xb9c393},'body':JSON[_0x3763e3(0x273)]({'messages':[{'role':_0x3763e3(0x905),'content':_0x536f04}],'model':_0x46baa8['id']})}),_0x41904d=(await _0x40253a[_0x3763e3(0x563)]())[_0x3763e3(0x33f)][0x0][_0x3763e3(0x977)][_0x3763e3(0x4fe)];await _0x31c296[_0x3763e3(0x3c1)]({'jobType':_0x10de74[_0x3763e3(0x24d)],'type':_0x2e8912[_0x3763e3(0x2ed)],'jobId':_0x18764b,'threadId':_0x10c83b,'blockId':_0x5b643d['id'],'traceLevel':_0x4ad3a8[_0x3763e3(0x504)],'startTime':_0x555941,'timestamp':Date[_0x3763e3(0x4e4)](),'status':_0x3763e3(0x9c7),'modelName':_0x46baa8['id'],'content':_0x536f04,'newPrompt':_0x41904d,'inputType':_0x46baa8[_0x3763e3(0x746)],'outputType':_0x46baa8[_0x3763e3(0x877)]}),await _0xdc089c(_0xb9c393,_0x18764b,_0x10c83b,_0x41904d,_0x550426,_0x5b643d,_0x4ce849,_0x3bfab4);}(_0x491ec6,_0x41d4a5,_0x4bd37e,_0x387edd,_0xe562e4,_0x516f3a,_0x140d07,_0x10c1d8,_0x289974);break;case _0x596e17[_0x16047d(0x2de)][_0x16047d(0x892)]:await async function(_0x8b51a,_0x1f3c85,_0x5cbeb4,_0x41a69e,_0x4ade12,_0x31f372,_0x1eb1a2,_0x5dfcd3,_0x3f00fa){const _0x430a93=_0x16047d,_0x29d240=Date['now'](),_0x3e097b=await fetch(_0x42fdd0[_0x430a93(0x826)]+'/embeddings',{'method':_0x430a93(0x873),'headers':{'Content-Type':_0x430a93(0x8e5),'x-vendor-id':_0x8b51a},'body':JSON[_0x430a93(0x273)]({'input':_0x41a69e,'model':_0x31f372['id']})}),_0x30aecf=(await _0x3e097b[_0x430a93(0x563)]())[_0x430a93(0x7b6)][0x0][_0x430a93(0xb2e)];await _0x31c296[_0x430a93(0x3c1)]({'jobType':_0x10de74[_0x430a93(0x24d)],'type':_0x2e8912[_0x430a93(0x237)],'jobId':_0x1f3c85,'threadId':_0x5cbeb4,'blockId':_0x1eb1a2['id'],'traceLevel':_0x4ad3a8[_0x430a93(0x504)],'startTime':_0x29d240,'timestamp':Date[_0x430a93(0x4e4)](),'status':_0x430a93(0x9c7),'modelName':_0x31f372['id'],'content':_0x41a69e,'totalVectors':_0x30aecf['length']}),await _0xdc089c(_0x8b51a,_0x1f3c85,_0x5cbeb4,_0x30aecf,_0x4ade12,_0x1eb1a2,_0x5dfcd3,_0x3f00fa);}(_0x491ec6,_0x41d4a5,_0x4bd37e,_0x387edd,_0xe562e4,_0x516f3a,_0x140d07,_0x10c1d8,_0x289974);}}async function _0x213778(_0xb86ff,_0x50c9f2,_0x284c92,_0x12df40,_0x2a1e35,_0x5d0619,_0x547ca6,_0x389cb0){const _0x424c6b=_0x49e620,_0x325d11=Date['now']();if(_0x5d0619[_0x424c6b(0x6ca)]||(_0x5d0619['accumulated']={}),_0x12df40 instanceof Array?(_0x5d0619[_0x424c6b(0x6ca)][_0x424c6b(0x73f)]||(_0x5d0619['accumulated'][_0x424c6b(0x73f)]=[]),_0x5d0619[_0x424c6b(0x6ca)]['results']['push'](..._0x12df40)):_0x5d0619['accumulated'][_0x424c6b(0x481)]=_0x12df40,_0x5d0619[_0x424c6b(0xa8e)]=_0x5d0619[_0x424c6b(0xa8e)]?_0x5d0619[_0x424c6b(0xa8e)]+0x1:0x1,_0x5476d4(_0x5d0619,_0x547ca6[_0x424c6b(0x612)])>_0x5d0619[_0x424c6b(0xa8e)])return;if(!_0x5d0619[_0x424c6b(0x6ca)][_0x424c6b(0x481)]||!_0x5d0619[_0x424c6b(0x6ca)]['results'])throw new Error(_0x424c6b(0x82f));for(const _0x2ac3f8 of _0x5d0619[_0x424c6b(0x6ca)][_0x424c6b(0x73f)])_0x2ac3f8[_0x424c6b(0x887)]=await _0x389cb0[_0x424c6b(0x4cd)]['getSimilarity'](_0x5d0619[_0x424c6b(0x6ca)][_0x424c6b(0x481)],_0x2ac3f8[_0x424c6b(0x4fe)]);const _0x5d0684=_0x5d0619[_0x424c6b(0x6ca)]['results'][_0x424c6b(0x9e5)](_0xa5df8f=>_0xa5df8f[_0x424c6b(0x887)]>_0x5d0619[_0x424c6b(0xa00)]['minRelevance'])[_0x424c6b(0x8d9)]((_0x2993f2,_0x3dc29e)=>_0x3dc29e[_0x424c6b(0x887)]-_0x2993f2[_0x424c6b(0x887)])['slice'](0x0,_0x5d0619['attributes']['topK']);await _0x31c296[_0x424c6b(0x3c1)]({'jobType':_0x10de74['Retrieve'],'type':_0x2e8912[_0x424c6b(0x8de)],'jobId':_0x50c9f2,'threadId':_0x284c92,'blockId':_0x5d0619['id'],'traceLevel':_0x4ad3a8[_0x424c6b(0x504)],'startTime':_0x325d11,'timestamp':Date[_0x424c6b(0x4e4)](),'status':'success','inputResults':_0x5d0619[_0x424c6b(0x6ca)][_0x424c6b(0x73f)],'rerankedResults':_0x5d0684}),await _0xdc089c(_0xb86ff,_0x50c9f2,_0x284c92,_0x5d0684,_0x2a1e35,_0x5d0619,_0x547ca6,_0x389cb0);}async function _0xbd688c(_0x8229f5,_0x1b0049,_0x593e3b,_0x292c01,_0x56d8a9,_0x3de670,_0x1de5e0,_0x3dcbf2){const _0x424c5f=_0x49e620,_0x2d1983=Date[_0x424c5f(0x4e4)]();if(_0x3de670[_0x424c5f(0x6ca)]||(_0x3de670[_0x424c5f(0x6ca)]={}),_0x292c01 instanceof Array?_0x3de670['accumulated'][_0x424c5f(0xacd)]=_0x292c01:_0x3de670[_0x424c5f(0x6ca)][_0x424c5f(0x4fe)]=_0x292c01,_0x3de670['timesCalled']=_0x3de670[_0x424c5f(0xa8e)]?_0x3de670[_0x424c5f(0xa8e)]+0x1:0x1,!(_0x5476d4(_0x3de670,_0x1de5e0['retrieveBlocks'])>_0x3de670['timesCalled'])){if(_0x424c5f(0xb01)===_0x3de670['id']){if(!_0x3de670['accumulated']['vector'])throw new Error(_0x424c5f(0x523));if(!_0x3dcbf2['ragConnector'])throw new Error(_0x424c5f(0x5d7));const _0x5a5a6e=_0x46102a(_0x8229f5,_0x1de5e0);let _0x593a57=await _0x3dcbf2[_0x424c5f(0x435)]?.['queryCollection'](_0x5a5a6e,_0x1de5e0['id'],_0x3de670[_0x424c5f(0x6ca)][_0x424c5f(0xacd)],_0x3de670[_0x424c5f(0xa00)][_0x424c5f(0x324)]);_0x593a57=_0x593a57['filter'](_0x4e997d=>_0x4e997d[_0x424c5f(0x887)]>_0x3de670[_0x424c5f(0xa00)][_0x424c5f(0x9e6)])||[];const _0xf201ca=[];for(const _0xbbbbd8 of _0x593a57){if(!_0x3dcbf2['objectStoreConnector'])throw new Error(_0x424c5f(0x308));if(void 0x0===_0xbbbbd8[_0x424c5f(0x411)]||void 0x0===_0xbbbbd8[_0x424c5f(0x8bc)])throw new Error(_0x424c5f(0x577));const _0x5eb8f2=await _0x3dcbf2['objectStoreConnector'][_0x424c5f(0x680)](_0xbbbbd8[_0x424c5f(0x9e1)]);let _0x5beb53='';if(_0x5eb8f2[_0x424c5f(0x70f)][_0x424c5f(0x288)](_0x424c5f(0x8c8))||_0x16292b(_0x5eb8f2[_0x424c5f(0x9b3)],_0x6a561c))_0x5beb53=await _0x5eb8f2[_0x424c5f(0x656)]();else{if(!_0x3dcbf2[_0x424c5f(0x80d)][_0x424c5f(0x5f5)](_0x5eb8f2))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x5eb8f2['type']+_0x424c5f(0x830)+_0x5eb8f2[_0x424c5f(0x9b3)]);_0x5beb53=await _0x3dcbf2[_0x424c5f(0x80d)]['parse'](_0x5eb8f2);}_0xf201ca[_0x424c5f(0x6b8)]({'pathName':_0xbbbbd8[_0x424c5f(0x9e1)],'content':_0x5beb53[_0x424c5f(0x81e)](_0xbbbbd8[_0x424c5f(0x411)],_0xbbbbd8[_0x424c5f(0x411)]+_0xbbbbd8[_0x424c5f(0x8bc)]),'relevance':_0xbbbbd8[_0x424c5f(0x887)]});}await _0xdc089c(_0x8229f5,_0x1b0049,_0x593e3b,_0xf201ca,_0x56d8a9,_0x3de670,_0x1de5e0,_0x3dcbf2);}else{if(!_0x3de670['accumulated'][_0x424c5f(0xacd)]||!_0x3de670[_0x424c5f(0x6ca)][_0x424c5f(0x4fe)])throw new Error(_0x424c5f(0x523));const _0x2c4b5b=await _0x3dcbf2[_0x424c5f(0x4cd)][_0x424c5f(0x778)](_0x3de670[_0x424c5f(0x6ca)][_0x424c5f(0x4fe)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x4c8ef5=_0x3dcbf2[_0x424c5f(0x45b)][_0x424c5f(0x5e7)](_0x3de670['id'])['search'](_0x2c4b5b,_0x3de670['accumulated'][_0x424c5f(0xacd)],_0x3de670[_0x424c5f(0xa00)][_0x424c5f(0x324)],_0x3de670[_0x424c5f(0xa00)][_0x424c5f(0x9e6)],_0x3de670[_0x424c5f(0xa00)][_0x424c5f(0x266)]);await _0x31c296[_0x424c5f(0x3c1)]({'jobType':_0x10de74[_0x424c5f(0x24d)],'type':_0x2e8912[_0x424c5f(0x4f4)],'jobId':_0x1b0049,'threadId':_0x593e3b,'blockId':_0x3de670['id'],'traceLevel':_0x4ad3a8[_0x424c5f(0x504)],'startTime':_0x2d1983,'timestamp':Date[_0x424c5f(0x4e4)](),'status':'success','topResults':_0x4c8ef5,'numResults':_0x4c8ef5['length']}),await _0xdc089c(_0x8229f5,_0x1b0049,_0x593e3b,_0x4c8ef5,_0x56d8a9,_0x3de670,_0x1de5e0,_0x3dcbf2);}}}async function _0xdc089c(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x3df483,_0x5cda4b,_0x32e526){const _0xa24eac=_0x49e620;for(const _0x45c69d of _0x3df483[_0xa24eac(0x436)]||[]){const _0x302533=_0x5cda4b[_0xa24eac(0x612)]['find'](_0x3af5d7=>_0x3af5d7[_0xa24eac(0x76c)]===_0x45c69d['uid']);if(_0x302533)switch(_0x302533['type']){case _0x104f2b[_0xa24eac(0xb06)]:_0x45c69d[_0xa24eac(0x70f)]===_0x361464[_0xa24eac(0x5a2)]&&_0x2910b0 instanceof Array&&_0x47f053[_0xa24eac(0x69c)][_0xa24eac(0x6b8)](..._0x2910b0);break;case _0x104f2b[_0xa24eac(0x88e)]:if(_0x45c69d[_0xa24eac(0x70f)]===_0x361464[_0xa24eac(0x9bb)]&&_0xa24eac(0xaba)==typeof _0x2910b0){if(!_0x5cda4b[_0xa24eac(0xa05)])throw new Error(_0xa24eac(0x7d7));const _0x2be552={'type':_0x104f2b[_0xa24eac(0x253)],'id':_0x5cda4b[_0xa24eac(0xa05)],'uid':(0x0,_0x3c37ba['v4'])(),'links':_0x302533[_0xa24eac(0x436)]};await _0x2eeccc(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x2be552,_0x5cda4b,_0x32e526);}break;case _0x104f2b['EntityExtractor']:_0x45c69d[_0xa24eac(0x70f)]===_0x361464['Text']&&_0xa24eac(0xaba)==typeof _0x2910b0&&await _0x43abcf(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x302533,_0x5cda4b,_0x32e526),_0x45c69d[_0xa24eac(0x70f)]===_0x361464[_0xa24eac(0x5a2)]&&_0x2910b0 instanceof Array&&await _0x43abcf(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x302533,_0x5cda4b,_0x32e526);break;case _0x104f2b[_0xa24eac(0x48b)]:_0x45c69d[_0xa24eac(0x70f)]===_0x361464['Text']&&_0xa24eac(0xaba)==typeof _0x2910b0&&await _0x25be76(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x302533,_0x5cda4b,_0x32e526),_0x45c69d[_0xa24eac(0x70f)]===_0x361464['Search']&&_0x2910b0 instanceof Array&&await _0x25be76(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x302533,_0x5cda4b,_0x32e526),_0x45c69d[_0xa24eac(0x70f)]===_0x361464[_0xa24eac(0xb57)]&&_0x2910b0 instanceof Set&&await _0x25be76(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x302533,_0x5cda4b,_0x32e526);break;case _0x104f2b['Model']:_0x45c69d[_0xa24eac(0x70f)]===_0x361464[_0xa24eac(0x9bb)]&&'string'==typeof _0x2910b0&&await _0x2eeccc(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x302533,_0x5cda4b,_0x32e526),_0x45c69d[_0xa24eac(0x70f)]===_0x361464[_0xa24eac(0x5a2)]&&_0x2910b0 instanceof Array&&await _0x2eeccc(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x302533,_0x5cda4b,_0x32e526);break;case _0x104f2b[_0xa24eac(0x8de)]:_0x45c69d[_0xa24eac(0x70f)]===_0x361464[_0xa24eac(0x9bb)]&&'string'==typeof _0x2910b0&&await _0x213778(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x302533,_0x5cda4b,_0x32e526),_0x45c69d['type']===_0x361464[_0xa24eac(0x5a2)]&&_0x2910b0 instanceof Array&&await _0x213778(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x302533,_0x5cda4b,_0x32e526);break;case _0x104f2b[_0xa24eac(0x773)]:_0x45c69d[_0xa24eac(0x70f)]===_0x361464[_0xa24eac(0x9bb)]&&'string'==typeof _0x2910b0&&await _0xbd688c(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x302533,_0x5cda4b,_0x32e526),_0x45c69d[_0xa24eac(0x70f)]===_0x361464[_0xa24eac(0x892)]&&_0x2910b0 instanceof Array&&await _0xbd688c(_0x351942,_0x592f00,_0x576a3c,_0x2910b0,_0x47f053,_0x302533,_0x5cda4b,_0x32e526);}}}function _0x5476d4(_0xd1ad5e,_0x24cb6e){const _0x1d21af=_0x49e620;return _0x24cb6e[_0x1d21af(0x9e5)](_0x155683=>_0x155683['links']?.[_0x1d21af(0x8b6)](_0x418e27=>_0x418e27[_0x1d21af(0x76c)]===_0xd1ad5e['uid']))[_0x1d21af(0x8bc)];}class _0x33b36e extends _0x1e9356{['contentMediator'];[_0x49e620(0x75d)];[_0x49e620(0xa7b)];[_0x49e620(0x80d)];['fileConnector'];['nlpLibraryConnector'];[_0x49e620(0x256)];[_0x49e620(0x1d7)];[_0x49e620(0x95d)];[_0x49e620(0x5f2)];[_0x49e620(0x77e)];[_0x49e620(0x218)]=new Map();[_0x49e620(0x29f)]=new Map();[_0x49e620(0x83f)];[_0x49e620(0x32c)]=0x0;[_0x49e620(0x474)]=0x0;[_0x49e620(0x99b)]=!0x1;constructor(_0x224ded,_0x2b876,_0x1c1375,_0x291a51,_0x3af534,_0x3706df,_0x3b1af4,_0x10097c,_0x51d490,_0x4c4a6d,_0x55ce5c,_0x437f30,_0xd34621,_0x5b6607){const _0x2979a7=_0x49e620;super(_0x224ded,_0x2b876,_0x1c1375),this[_0x2979a7(0x45b)]=_0x291a51,this[_0x2979a7(0x75d)]=_0x3af534,this[_0x2979a7(0xa7b)]=_0x3706df,this['documentParserConnector']=_0x3b1af4,this[_0x2979a7(0xb53)]=_0x10097c,this[_0x2979a7(0x4cd)]=_0x51d490,this[_0x2979a7(0x256)]=_0x4c4a6d,this['aiSearchConnector']=_0x55ce5c,this[_0x2979a7(0x95d)]=_0x437f30,this[_0x2979a7(0x5f2)]=_0xd34621,this[_0x2979a7(0x77e)]=_0x5b6607;}async['destroy'](){const _0x16a37d=_0x49e620;for(const _0x4f49df of this['generativeAIWorkerConnectors'])await _0x4f49df[_0x16a37d(0x5c2)]();this[_0x16a37d(0x218)]['forEach'](_0x1882f=>_0x1882f[_0x16a37d(0x2aa)](this[_0x16a37d(0x73a)])),this['debounceStats']&&(clearTimeout(this[_0x16a37d(0x83f)]),delete this[_0x16a37d(0x83f)]),super['destroy']();}async[_0x49e620(0x73d)](_0x5ce8b4=!0x1){const _0x3b4375=_0x49e620;if(this['isOpened'])super[_0x3b4375(0x73d)]();else{_0xb8b103[_0x3b4375(0xa55)](_0x3b4375(0x4d9),this[_0x3b4375(0x73a)]),this['models'][_0x3b4375(0x9fa)](_0x3b4375(0x4ed),{'id':_0x3b4375(0x4ed),'engineType':_0x596e17[_0x3b4375(0x429)]['Llamacpp'],'taskType':_0x596e17[_0x3b4375(0x8bf)][_0x3b4375(0x4ee)],'inputType':_0x596e17[_0x3b4375(0x881)][_0x3b4375(0x9bb)],'outputType':_0x596e17['GenerativeAIModelOutputType'][_0x3b4375(0x892)],'sourceUrl':_0x3b4375(0x985)}),this[_0x3b4375(0x29f)]['set'](_0x3b4375(0x2fd),{'id':_0x3b4375(0x2fd),'engineType':_0x596e17[_0x3b4375(0x429)][_0x3b4375(0x4b6)],'taskType':_0x596e17[_0x3b4375(0x8bf)][_0x3b4375(0x4ee)],'inputType':_0x596e17['GenerativeAIModelInputType']['Text'],'outputType':_0x596e17[_0x3b4375(0x2de)][_0x3b4375(0x892)],'sourceUrl':''}),this['models']['set']('text-embedding-3-large',{'id':_0x3b4375(0x277),'engineType':_0x596e17[_0x3b4375(0x429)][_0x3b4375(0x4b6)],'taskType':_0x596e17['GenerativeAITaskType'][_0x3b4375(0x4ee)],'inputType':_0x596e17['GenerativeAIModelInputType'][_0x3b4375(0x9bb)],'outputType':_0x596e17[_0x3b4375(0x2de)][_0x3b4375(0x892)],'sourceUrl':''}),this[_0x3b4375(0x29f)][_0x3b4375(0x9fa)](_0x3b4375(0x3c5),{'id':'llama-3.1-8b','engineType':_0x596e17[_0x3b4375(0x429)][_0x3b4375(0x614)],'taskType':_0x596e17[_0x3b4375(0x8bf)][_0x3b4375(0x465)],'inputType':_0x596e17['GenerativeAIModelInputType']['Text'],'outputType':_0x596e17['GenerativeAIModelOutputType'][_0x3b4375(0x9bb)],'knowledgeCutoffDate':_0x3b4375(0x5a1),'sourceUrl':'https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf'}),this[_0x3b4375(0x29f)][_0x3b4375(0x9fa)](_0x3b4375(0x9dd),{'id':_0x3b4375(0x9dd),'engineType':_0x596e17[_0x3b4375(0x429)][_0x3b4375(0x614)],'taskType':_0x596e17[_0x3b4375(0x8bf)][_0x3b4375(0x465)],'inputType':_0x596e17[_0x3b4375(0x881)][_0x3b4375(0x9bb)],'outputType':_0x596e17[_0x3b4375(0x2de)][_0x3b4375(0x9bb)],'knowledgeCutoffDate':_0x3b4375(0x5a1),'sourceUrl':_0x3b4375(0xab6)}),this[_0x3b4375(0x29f)][_0x3b4375(0x9fa)]('phi-4-14b',{'id':_0x3b4375(0x2e7),'engineType':_0x596e17[_0x3b4375(0x429)][_0x3b4375(0x614)],'taskType':_0x596e17[_0x3b4375(0x8bf)]['TextGeneration'],'inputType':_0x596e17[_0x3b4375(0x881)][_0x3b4375(0x9bb)],'outputType':_0x596e17['GenerativeAIModelOutputType']['Text'],'knowledgeCutoffDate':_0x3b4375(0x748),'sourceUrl':'https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf'}),this[_0x3b4375(0x29f)][_0x3b4375(0x9fa)](_0x3b4375(0x948),{'id':_0x3b4375(0x948),'engineType':_0x596e17[_0x3b4375(0x429)][_0x3b4375(0x4b6)],'taskType':_0x596e17[_0x3b4375(0x8bf)][_0x3b4375(0x465)],'inputType':_0x596e17[_0x3b4375(0x881)]['Text'],'outputType':_0x596e17[_0x3b4375(0x2de)][_0x3b4375(0x9bb)],'knowledgeCutoffDate':_0x3b4375(0x842),'sourceUrl':''}),this[_0x3b4375(0x29f)][_0x3b4375(0x9fa)](_0x3b4375(0xa27),{'id':_0x3b4375(0xa27),'engineType':_0x596e17[_0x3b4375(0x429)][_0x3b4375(0x4b6)],'taskType':_0x596e17[_0x3b4375(0x8bf)][_0x3b4375(0x465)],'inputType':_0x596e17['GenerativeAIModelInputType'][_0x3b4375(0x9bb)],'outputType':_0x596e17['GenerativeAIModelOutputType'][_0x3b4375(0x9bb)],'knowledgeCutoffDate':_0x3b4375(0x842),'sourceUrl':''}),this['models'][_0x3b4375(0x9fa)]('o1',{'id':'o1','engineType':_0x596e17[_0x3b4375(0x429)][_0x3b4375(0x4b6)],'taskType':_0x596e17[_0x3b4375(0x8bf)][_0x3b4375(0x465)],'inputType':_0x596e17[_0x3b4375(0x881)][_0x3b4375(0x9bb)],'outputType':_0x596e17[_0x3b4375(0x2de)][_0x3b4375(0x9bb)],'knowledgeCutoffDate':_0x3b4375(0x842),'sourceUrl':''}),this[_0x3b4375(0x29f)][_0x3b4375(0x9fa)](_0x3b4375(0x4be),{'id':'o3-mini','engineType':_0x596e17[_0x3b4375(0x429)][_0x3b4375(0x4b6)],'taskType':_0x596e17[_0x3b4375(0x8bf)][_0x3b4375(0x465)],'inputType':_0x596e17[_0x3b4375(0x881)][_0x3b4375(0x9bb)],'outputType':_0x596e17['GenerativeAIModelOutputType'][_0x3b4375(0x9bb)],'knowledgeCutoffDate':_0x3b4375(0x842),'sourceUrl':''});try{for(const _0x3a99e7 of this[_0x3b4375(0x75d)])await _0x3a99e7['initialize'](this[_0x3b4375(0x73a)],this[_0x3b4375(0x29f)]);}catch(_0x23cdb4){return this[_0x3b4375(0x73d)](_0x5ce8b4);}this[_0x3b4375(0x99b)]=!0x0,this[_0x3b4375(0x61d)](),super['open'](),_0xb8b103['forceLog']('GenerativeAIWorker:\x20Opened',this[_0x3b4375(0x73a)]);}}['reset'](){const _0x345740=_0x49e620;this[_0x345740(0x32c)]=0x0,this[_0x345740(0x474)]=0x0,this['sendStats'](),super[_0x345740(0x8a0)]();}[_0x49e620(0x72b)](){const _0x361d9d=_0x49e620;return this[_0x361d9d(0x61d)](),this[_0x361d9d(0x53c)]();}['compileStats'](_0x326039,_0x3a9057,_0x2a9b08){const _0x24b0cc=_0x49e620,{outputTokens:_0x9fd511=0x0,output:_0x1e8258=''}=_0x326039,_0x93654f=_0x9fd511/((_0x2a9b08-_0x3a9057)/0x3e8);this[_0x24b0cc(0x32c)]+=0x1,this[_0x24b0cc(0x474)]+=_0x9fd511,this['logServiceEvent'](_0x93654f,_0x9fd511),this[_0x24b0cc(0x61d)]();}[_0x49e620(0x537)](_0x48e0a9,_0x12efbb){const _0x17729e=_0x49e620;return _0x48e0a9[_0x17729e(0x582)]=_0x48e0a9[_0x17729e(0x582)]??'',{'type':'prompt','output':'string'==typeof _0x48e0a9[_0x17729e(0x582)]&&_0x17729e(0xaba)==typeof _0x12efbb[_0x17729e(0x582)]?_0x48e0a9[_0x17729e(0x582)]+_0x12efbb['output']:_0x12efbb[_0x17729e(0x582)],'outputTokens':_0x12efbb[_0x17729e(0x219)]??_0x48e0a9['outputTokens'],'inputTokens':_0x12efbb[_0x17729e(0x888)]??_0x48e0a9[_0x17729e(0x888)]};}async[_0x49e620(0x84d)](_0x286053,_0x311ce2){const _0x3b16f4=_0x49e620;if(_0x3b16f4(0x481)===_0x311ce2[_0x3b16f4(0x70f)]){const _0x378652=await _0x1aeff7[_0x3b16f4(0xb0e)](_0x311ce2[_0x3b16f4(0x2e6)],_0x311ce2[_0x3b16f4(0x2ba)]),_0x159a4b=_0x378652[_0x3b16f4(0x3b7)]['find'](_0x5338c5=>_0x5338c5[_0x3b16f4(0x70f)]===_0x3792cf[_0x3b16f4(0x35f)]),_0x21a7ae=await async function(_0x8f677f,_0x360d88,_0x44bd8f,_0xa980b8,_0x52e90e){const _0x4230d8=_0x3b16f4,_0x177a84=(0x0,_0x3c37ba['v4'])(),_0x2f7e19=Date[_0x4230d8(0x4e4)]();await _0x31c296[_0x4230d8(0x3c1)]({'jobType':_0x10de74[_0x4230d8(0x395)],'type':_0x207860['InitialPrompt'],'jobId':_0x8f677f,'blockId':_0x44bd8f['id'],'agentId':_0x177a84,'threadId':_0x360d88[_0x4230d8(0x7c8)],'traceLevel':_0x4ad3a8[_0x4230d8(0x354)],'startTime':Date[_0x4230d8(0x4e4)](),'timestamp':Date[_0x4230d8(0x4e4)](),'status':'success','initialPrompt':_0x360d88['prompt']});const _0x486916={'type':_0x4230d8(0x481),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x360d88['internalContext']&&(_0x486916[_0x4230d8(0x4c6)]=_0x360d88[_0x4230d8(0x4c6)]),await _0xfde2b5(_0x360d88,_0x486916,_0x44bd8f,_0xa980b8,_0x52e90e),await _0x534d84(_0x8f677f,''+_0x360d88[_0x4230d8(0x481)],_0x360d88,_0x486916,_0x44bd8f,_0xa980b8,_0x52e90e);const {inputTokens:_0x381ee8=0x0,outputTokens:_0x2665a2=0x0,context:_0x18c810=[]}=_0x486916;await _0x31c296[_0x4230d8(0x3c1)]({'jobType':_0x10de74[_0x4230d8(0x395)],'type':_0x207860[_0x4230d8(0x255)],'jobId':_0x8f677f,'agentId':_0x177a84,'threadId':_0x360d88['threadId'],'traceLevel':_0x4ad3a8[_0x4230d8(0x354)],'startTime':_0x2f7e19,'timestamp':Date[_0x4230d8(0x4e4)](),'blockId':_0x44bd8f['id'],'status':_0x4230d8(0x9c7),'output':_0x486916['output']?.['toString']()??'','prompt':_0x360d88[_0x4230d8(0x481)],'agentName':'','history':_0x360d88['history']??[],'instructions':''+(_0x360d88['instructions']??''),'ragContext':_0x18c810,'inputTokens':_0x381ee8,'outputTokens':_0x2665a2});const _0x1f33fa=_0xa980b8[_0x4230d8(0x94a)](_0x25b2f2=>_0x25b2f2['type']===_0x3792cf['Answer']);return{'type':_0x4230d8(0x481),'output':_0x486916[_0x4230d8(0x582)],'context':_0x486916[_0x4230d8(0x69c)],'internalContext':_0x486916[_0x4230d8(0x4c6)],'resultFile':await _0x1f33fa?.[_0x4230d8(0x6ca)]?.[_0x4230d8(0x43e)]?.[_0x4230d8(0x656)]()??void 0x0,'inputTokens':_0x486916[_0x4230d8(0x888)]??0x0,'outputTokens':_0x486916['outputTokens']??0x0};}(_0x286053,_0x311ce2,_0x159a4b,_0x378652[_0x3b16f4(0x3b7)],{'documentParserConnector':this[_0x3b16f4(0x80d)],'fileConnector':this[_0x3b16f4(0xb53)],'nlpLibraryConnector':this[_0x3b16f4(0x4cd)],'generativeAIWorkerConnectors':this[_0x3b16f4(0x75d)],'models':Array[_0x3b16f4(0x9cc)](this[_0x3b16f4(0x29f)][_0x3b16f4(0x66b)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x3b16f4(0x256)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x3b16f4(0x95d)]});return _0x21a7ae;}if(_0x3b16f4(0x2c2)===_0x311ce2[_0x3b16f4(0x70f)])return await async function(_0x27dfba,_0x4baa81){const _0x894fc4=_0x3b16f4,_0x1cf423=await async function(_0x2a8f82,_0x561d6c){const _0xd81c18=a0_0x2367,_0x50d448=_0x561d6c[_0xd81c18(0x29f)][_0xd81c18(0x94a)](_0x37f82b=>_0x37f82b['id']===_0x2a8f82['model']);if(!_0x50d448)throw new Error(_0xd81c18(0x50e));const _0xd05717=_0x561d6c['generativeAIWorkerConnectors'][_0xd81c18(0x94a)](_0x4d42de=>_0x4d42de['getEngineType']()===_0x50d448[_0xd81c18(0x7e3)]);if(!_0xd05717)throw new Error(_0xd81c18(0xb3c));return _0xd05717[_0xd81c18(0x5fe)]({'type':_0xd81c18(0x481),'prompt':_0x2a8f82[_0xd81c18(0x656)],'threadId':_0x2a8f82['threadId']},{'model':_0x50d448,'sequences':0x1});}(_0x27dfba,_0x4baa81);return{'type':'prompt','output':_0x1cf423[_0x894fc4(0x582)],'inputTokens':_0x1cf423[_0x894fc4(0x888)]??0x0,'outputTokens':_0x1cf423[_0x894fc4(0x219)]??0x0};}(_0x311ce2,{'documentParserConnector':this[_0x3b16f4(0x80d)],'fileConnector':this[_0x3b16f4(0xb53)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x3b16f4(0x75d)],'models':Array[_0x3b16f4(0x9cc)](this[_0x3b16f4(0x29f)][_0x3b16f4(0x66b)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x3b16f4(0x256)],'aiSearchConnector':this[_0x3b16f4(0x1d7)],'queryFileConnector':this[_0x3b16f4(0x95d)]});if(_0x3b16f4(0x949)===_0x311ce2[_0x3b16f4(0x70f)])return await async function(_0x4d1c7d,_0x2aa98e,_0xc20206){const _0xbc1e3=_0x3b16f4,_0x3b2057=(0x0,_0x3c37ba['v4'])(),_0x1e60ca={'type':_0xbc1e3(0x481),'context':[],'internalContext':_0x2aa98e[_0xbc1e3(0x4c6)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x3b3b72=await async function(_0x306688,_0xb8df7e,_0x49921b,_0xc01014,_0x279a38){const _0x2e5ae1=_0xbc1e3,_0x569745=_0x279a38['models'][_0x2e5ae1(0x94a)](_0x5a8885=>_0x5a8885['id']===_0x49921b[_0x2e5ae1(0x38f)]);if(!_0x569745)throw new Error(_0x2e5ae1(0x50e));const _0x5c0123=_0x279a38[_0x2e5ae1(0x75d)][_0x2e5ae1(0x94a)](_0xdae2f2=>_0xdae2f2['getEngineType']()===_0x569745[_0x2e5ae1(0x7e3)]);if(!_0x5c0123)throw new Error(_0x2e5ae1(0xb3c));const _0x50c85a=await _0x233bc4(_0x306688,_0xb8df7e,_0x49921b,_0xc01014,_0x49921b['tools']??[],_0x279a38);return _0x5c0123['processJob']({'type':_0x2e5ae1(0x481),'prompt':_0x49921b['prompt'],'instructions':_0x49921b['instructions'],'reasoning':_0x49921b[_0x2e5ae1(0x282)],'grammar':_0x49921b[_0x2e5ae1(0x75a)],'temperature':_0x49921b[_0x2e5ae1(0x752)],'maxTokens':_0x49921b[_0x2e5ae1(0xa6f)],'history':_0x49921b[_0x2e5ae1(0x4f2)],'functions':_0x50c85a,'threadId':_0x49921b[_0x2e5ae1(0x7c8)]},{'model':_0x569745,'sequences':Array[_0x2e5ae1(0x9cc)](_0x50c85a['keys']())['some'](_0x4aa836=>_0x4aa836[_0x2e5ae1(0x288)]('executeAgent'))?0x2:0x1});}(_0x4d1c7d,_0x3b2057,_0x2aa98e,_0x1e60ca,_0xc20206);return{'type':_0xbc1e3(0x481),'output':_0x3b3b72[_0xbc1e3(0x582)],'context':_0x1e60ca[_0xbc1e3(0x69c)],'internalContext':_0x1e60ca[_0xbc1e3(0x4c6)]??{},'inputTokens':_0x3b3b72[_0xbc1e3(0x888)]??0x0,'outputTokens':_0x3b3b72[_0xbc1e3(0x219)]??0x0};}(_0x286053,_0x311ce2,{'documentParserConnector':this[_0x3b16f4(0x80d)],'fileConnector':this[_0x3b16f4(0xb53)],'nlpLibraryConnector':this[_0x3b16f4(0x4cd)],'generativeAIWorkerConnectors':this[_0x3b16f4(0x75d)],'models':Array['from'](this['models'][_0x3b16f4(0x66b)]()),'contentMediator':this[_0x3b16f4(0x45b)],'searchConnector':this[_0x3b16f4(0x256)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x3b16f4(0x95d)]});if(_0x3b16f4(0x942)===_0x311ce2['type'])return await _0x31c296[_0x3b16f4(0x3c1)]({'jobType':_0x10de74['Rating'],'type':_0x4c274c[_0x3b16f4(0x367)],'jobId':_0x311ce2[_0x3b16f4(0x7ed)],'threadId':_0x311ce2['threadId'],'traceLevel':_0x4ad3a8['Info'],'startTime':Date[_0x3b16f4(0x4e4)](),'timestamp':Date[_0x3b16f4(0x4e4)](),'status':_0x3b16f4(0x9c7),'rating':_0x311ce2[_0x3b16f4(0x867)],'feedback':_0x311ce2[_0x3b16f4(0x90e)]}),{'type':_0x3b16f4(0x942),'status':_0x596e17['GenerativeAIRatingStatus'][_0x3b16f4(0x70b)]};if(_0x3b16f4(0x861)===_0x311ce2['type']){const _0x1f4667=await async function(_0x3df717,_0x3886e2){const _0x4e7bda=_0x3b16f4;let _0x42c2cd='';switch(_0x3df717[_0x4e7bda(0x87b)]['type']){case _0x596e17[_0x4e7bda(0x307)]['Agent']:case _0x596e17[_0x4e7bda(0x307)][_0x4e7bda(0x619)]:_0x42c2cd=await _0x473aa7(_0x3df717[_0x4e7bda(0x2e6)],_0x3df717[_0x4e7bda(0x87b)],_0x3886e2,_0x3df717[_0x4e7bda(0x26a)]);break;case _0x596e17['GenerativeAIInferenceToolType']['AISearch']:_0x42c2cd=await _0x52464b(_0x3df717[_0x4e7bda(0x87b)],_0x3886e2,_0x3df717['arguments']);break;case _0x596e17[_0x4e7bda(0x307)][_0x4e7bda(0x890)]:_0x42c2cd=await _0x5650d0(_0x3df717[_0x4e7bda(0x26a)]);break;case _0x596e17['GenerativeAIInferenceToolType']['DataCollection']:case _0x596e17[_0x4e7bda(0x307)]['Knowledge']:_0x42c2cd=await _0x40e5c0(_0x3df717[_0x4e7bda(0x2e6)],_0x3df717[_0x4e7bda(0x87b)],_0x3df717[_0x4e7bda(0x26a)]);break;case _0x596e17[_0x4e7bda(0x307)][_0x4e7bda(0x53b)]:_0x42c2cd=await _0x2de012(_0x3df717[_0x4e7bda(0x87b)],_0x3df717[_0x4e7bda(0x26a)]);break;case _0x596e17['GenerativeAIInferenceToolType'][_0x4e7bda(0x6f0)]:_0x42c2cd=await _0x4ff7c4(_0x3df717[_0x4e7bda(0x26a)]);break;case _0x596e17[_0x4e7bda(0x307)][_0x4e7bda(0x63e)]:_0x42c2cd=await _0x4ff7c4(_0x3df717[_0x4e7bda(0x26a)],!0x1);break;case _0x596e17[_0x4e7bda(0x307)][_0x4e7bda(0x5a2)]:_0x42c2cd=await _0x34ebb2(_0x3886e2,_0x3df717[_0x4e7bda(0x26a)]);}return{'type':'tool-call','output':_0x42c2cd};}(_0x311ce2,{'documentParserConnector':this[_0x3b16f4(0x80d)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x3b16f4(0x9cc)](this[_0x3b16f4(0x29f)]['values']()),'contentMediator':this[_0x3b16f4(0x45b)],'searchConnector':this[_0x3b16f4(0x256)],'aiSearchConnector':this[_0x3b16f4(0x1d7)],'queryFileConnector':this[_0x3b16f4(0x95d)]});return _0x1f4667;}if(_0x3b16f4(0x2f7)===_0x311ce2[_0x3b16f4(0x70f)]){const _0x2217f1=await _0x1aeff7[_0x3b16f4(0xb0e)](_0x311ce2[_0x3b16f4(0x2e6)],_0x311ce2[_0x3b16f4(0x2ba)]),_0xb20d40=_0x2217f1[_0x3b16f4(0x3b7)][_0x3b16f4(0x94a)](_0x313908=>_0x313908[_0x3b16f4(0x70f)]===_0x3792cf[_0x3b16f4(0x783)]),_0x3ad84e=_0x2217f1[_0x3b16f4(0x3b7)][_0x3b16f4(0x9e5)](_0x55c21d=>_0x55c21d[_0x3b16f4(0x436)]?.[_0x3b16f4(0x8b6)](_0x29c373=>_0x29c373['type']===_0x361464[_0x3b16f4(0x2e9)]&&_0x29c373[_0x3b16f4(0x76c)]===_0xb20d40[_0x3b16f4(0x76c)]));return{'type':_0x3b16f4(0x2f7),'apiKey':this[_0x3b16f4(0x77e)],'modelId':_0xb20d40[_0x3b16f4(0xa05)],'instructions':_0xb20d40[_0x3b16f4(0x8c9)],'temperature':_0xb20d40['temperature'],'maxTokens':_0xb20d40['maxTokens'],'initialPrompt':_0x2217f1[_0x3b16f4(0xa15)],'tools':_0x3ad84e[_0x3b16f4(0x3bb)](_0x51ac87=>({'type':_0x51ac87[_0x3b16f4(0x70f)],'name':this[_0x3b16f4(0x743)](_0x51ac87),'description':this['getToolDescription'](_0x51ac87),'parameters':this[_0x3b16f4(0x351)](_0x51ac87),'headers':_0x51ac87[_0x3b16f4(0x250)]??[],'queryParameters':_0x51ac87[_0x3b16f4(0x879)]??[],'bodyParameters':_0x51ac87['bodyParameters']??[],'endpointUrl':_0x51ac87[_0x3b16f4(0x5ab)]??'','endpointMethod':_0x51ac87[_0x3b16f4(0x65c)]??'','modelId':_0x51ac87[_0x3b16f4(0x38f)]??'','instructions':_0x51ac87[_0x3b16f4(0x8c9)]??'','maxTokens':_0x51ac87['maxTokens']??0x0,'temperature':_0x51ac87[_0x3b16f4(0x752)]??0x0,'collectionId':_0x51ac87['type']===_0x3792cf[_0x3b16f4(0x83a)]||_0x51ac87[_0x3b16f4(0x70f)]===_0x3792cf[_0x3b16f4(0x470)]?_0x51ac87['id']:''}))};}if(_0x3b16f4(0xb08)===_0x311ce2[_0x3b16f4(0x70f)]){const {vendorId:_0x58f34f,collectionId:_0x530eed,fileId:_0xa35c62}=_0x311ce2,_0x5a2d63=await _0x1aeff7[_0x3b16f4(0xb62)](_0x58f34f,_0x530eed),_0x4bc374=this[_0x3b16f4(0x5f2)]?.['get'](_0x5a2d63[_0x3b16f4(0xac0)]);if(!_0x4bc374)throw new Error(_0x3b16f4(0x80f));const _0x6541ad=_0x46102a(_0x58f34f,_0x5a2d63);if(_0x5a2d63[_0x3b16f4(0xac0)]===_0x596e17[_0x3b16f4(0x816)]['Crewdle'])try{await _0x4bc374['deleteFile'](_0x6541ad,_0x530eed,'/'+_0x58f34f+'/'+_0x530eed+'/'+_0xa35c62),await this['objectStoreConnector'][_0x3b16f4(0x296)]('/'+_0x58f34f+'/'+_0x530eed+'/'+_0xa35c62);}catch(_0x234042){_0xb8b103[_0x3b16f4(0x528)](_0x3b16f4(0x607),_0x234042);}else try{await _0x4bc374[_0x3b16f4(0x3d8)](_0x6541ad,_0x530eed,_0xa35c62);}catch(_0x134a8a){_0xb8b103[_0x3b16f4(0x528)](_0x3b16f4(0x607),_0x134a8a);}return{'type':_0x3b16f4(0xb08)};}if(_0x3b16f4(0x6bd)===_0x311ce2[_0x3b16f4(0x70f)]){let _0x51817b;const _0x3209e3=this[_0x3b16f4(0x218)][_0x3b16f4(0x818)]();for(;!_0x51817b;){const _0x4f0477=_0x3209e3[_0x3b16f4(0x66f)]()[_0x3b16f4(0x3e3)];if(!_0x4f0477)throw new Error(_0x3b16f4(0x784));_0x51817b=this[_0x3b16f4(0x218)][_0x3b16f4(0x680)](_0x4f0477);try{const _0x34a644=await _0x51817b[_0x3b16f4(0x680)](_0x311ce2[_0x3b16f4(0x740)]);return{'type':_0x3b16f4(0x6bd),'fileName':_0x34a644[_0x3b16f4(0x9b3)],'mimeType':_0x34a644['type'],'document':await _0x34a644[_0x3b16f4(0x2d8)]()};}catch(_0xccc813){continue;}}throw new Error(_0x3b16f4(0x784));}if('file-ingest'===_0x311ce2['type']){const {vendorId:_0x1f793d,collectionId:_0x910b45,fileName:_0x1f3397,content:_0x28c9bc}=_0x311ce2,_0x3c0014=await _0x1aeff7[_0x3b16f4(0xb62)](_0x1f793d,_0x910b45);if(_0x3c0014[_0x3b16f4(0xac0)]!==_0x596e17['GenerativeAIRagType']['Crewdle']){const _0x265077=this[_0x3b16f4(0x5f2)]?.[_0x3b16f4(0x680)](_0x3c0014[_0x3b16f4(0xac0)]);if(!_0x265077)throw new Error(_0x3b16f4(0x80f));const _0x2921e9=_0x46102a(_0x1f793d,_0x3c0014);return await _0x265077[_0x3b16f4(0x742)](_0x2921e9,_0x910b45,_0x1f3397,_0x28c9bc),{'type':'file-ingest'};}const _0x4897b8=_0x3c0014[_0x3b16f4(0x2cd)]?.[_0x3b16f4(0x94a)](_0xf2d1c=>_0xf2d1c[_0x3b16f4(0x70f)]===_0x104f2b[_0x3b16f4(0x862)]);if(!_0x4897b8)throw new Error('No\x20start\x20block\x20found');const _0x2714f9=(0x0,_0x3c37ba['v4'])();return _0x31c296[_0x3b16f4(0x59c)](_0x1f793d,_0x2714f9),await async function(_0x5974fe,_0x4c034a,_0x1e15ae,_0x3f6d91,_0x208985,_0x214073,_0x21cb89){const _0x4ff2b1=_0x3b16f4;try{let _0x560d50;switch(_0x208985[_0x4ff2b1(0x70f)]){case _0x104f2b[_0x4ff2b1(0x785)]:const _0x319b69=_0x21cb89['contentMediator'][_0x4ff2b1(0x731)](_0x208985['id']);_0x560d50=await _0x319b69['get'](_0x1e15ae);break;case _0x104f2b[_0x4ff2b1(0xb3e)]:const _0x55c417=_0x21cb89[_0x4ff2b1(0x45b)]['getExternalStorageConnection'](_0x208985['id']);_0x560d50=await _0x55c417[_0x4ff2b1(0x680)](_0x1e15ae);case _0x104f2b[_0x4ff2b1(0x862)]:const _0x24d00a=_0x1e15ae[_0x4ff2b1(0x627)]('/')['pop']();if(!_0x24d00a)throw new Error('Failed\x20to\x20get\x20filename');const _0x7f0764=_0x1e15ae[_0x4ff2b1(0x416)](_0x24d00a,''),_0x5a2a25=Buffer['from'](_0x3f6d91,_0x4ff2b1(0x591));if(_0x560d50=new File([_0x5a2a25],_0x24d00a),!_0x21cb89[_0x4ff2b1(0xa7b)])throw new Error(_0x4ff2b1(0x652));await _0x21cb89[_0x4ff2b1(0xa7b)][_0x4ff2b1(0x4c5)](_0x560d50,_0x7f0764);}if(!_0x560d50)throw new Error(_0x4ff2b1(0x613));await _0x1e42ff(_0x5974fe,_0x4c034a,{'file':_0x560d50,'pathName':_0x1e15ae},_0x208985,structuredClone(_0x214073),_0x21cb89);}catch(_0x401c7c){console[_0x4ff2b1(0x528)](_0x4ff2b1(0x6a5),_0x401c7c);}}(_0x311ce2[_0x3b16f4(0x2e6)],_0x2714f9,'/'+_0x1f793d+'/'+_0x910b45+'/'+_0x1f3397,_0x28c9bc,_0x4897b8,_0x3c0014,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this[_0x3b16f4(0x5f2)]?.['get'](_0x596e17[_0x3b16f4(0x816)][_0x3b16f4(0x41b)]),'documentParserConnector':this[_0x3b16f4(0x80d)],'fileConnector':this[_0x3b16f4(0xb53)],'nlpLibraryConnector':this[_0x3b16f4(0x4cd)],'generativeAIWorkerConnectors':this[_0x3b16f4(0x75d)],'models':Array[_0x3b16f4(0x9cc)](this[_0x3b16f4(0x29f)][_0x3b16f4(0x66b)]()),'contentMediator':this['contentMediator']}),_0x31c296[_0x3b16f4(0x8ed)](_0x2714f9),{'type':_0x3b16f4(0xaab)};}if(_0x3b16f4(0x533)===_0x311ce2[_0x3b16f4(0x70f)]){const {vendorId:_0x2cb2e6,collectionId:_0x355041}=_0x311ce2,_0x573b60=await _0x1aeff7[_0x3b16f4(0xb62)](_0x2cb2e6,_0x355041);if(_0x573b60[_0x3b16f4(0xac0)]!==_0x596e17[_0x3b16f4(0x816)][_0x3b16f4(0x41b)]){const _0x1d3b66=this[_0x3b16f4(0x5f2)]?.[_0x3b16f4(0x680)](_0x573b60[_0x3b16f4(0xac0)]);if(!_0x1d3b66)throw new Error('No\x20RAG\x20connector\x20available');const _0x34f8b9=_0x46102a(_0x2cb2e6,_0x573b60);return{'type':'file-list','files':await _0x1d3b66[_0x3b16f4(0x37b)](_0x34f8b9,_0x355041)};}try{return{'type':_0x3b16f4(0x533),'files':(await this[_0x3b16f4(0xa7b)][_0x3b16f4(0x463)]('/'+_0x2cb2e6+'/'+_0x355041,!0x1))[_0x3b16f4(0x3bb)](_0x3c4cdd=>({'name':_0x3c4cdd[_0x3b16f4(0x9b3)],'id':_0x3c4cdd[_0x3b16f4(0x9b3)],'status':'ready'}))};}catch(_0x50cb6a){return{'type':_0x3b16f4(0x533),'files':[]};}}if(_0x3b16f4(0x30a)===_0x311ce2[_0x3b16f4(0x70f)]){const {vendorId:_0x7eae04,collectionId:_0x472323}=_0x311ce2,_0x5cbf90=await _0x1aeff7['getDataCollection'](_0x7eae04,_0x472323),_0x298758=this[_0x3b16f4(0x5f2)]?.[_0x3b16f4(0x680)](_0x5cbf90[_0x3b16f4(0xac0)]);if(!_0x298758)return{'type':_0x3b16f4(0x30a)};const _0x4367ce=_0x46102a(_0x7eae04,_0x5cbf90);return await _0x298758['createCollection'](_0x4367ce,_0x472323),{'type':_0x3b16f4(0x30a)};}if(_0x3b16f4(0x8b5)===_0x311ce2['type']){const {vendorId:_0x392a23,collectionId:_0x3e6ca7}=_0x311ce2,_0x4f9819=await _0x1aeff7[_0x3b16f4(0xb62)](_0x392a23,_0x3e6ca7),_0xeff63d=this[_0x3b16f4(0x5f2)]?.['get'](_0x4f9819[_0x3b16f4(0xac0)]);if(!_0xeff63d)return{'type':_0x3b16f4(0x8b5)};const _0x52f8fd=_0x46102a(_0x392a23,_0x4f9819);let _0x1580a1=!0x1;if(_0x4f9819[_0x3b16f4(0xa44)]===_0x43aca3[_0x3b16f4(0x86c)]&&(_0x1580a1=!0x0),_0x4f9819['hosting']===_0x43aca3[_0x3b16f4(0x760)]){_0x1580a1=!0x0;const _0x19b570=await _0x1aeff7[_0x3b16f4(0xa3f)](_0x392a23);for(const _0x176b60 of _0x19b570)if(_0x176b60[_0x3b16f4(0xac0)]===_0x4f9819[_0x3b16f4(0xac0)]&&_0x176b60[_0x3b16f4(0xa44)]===_0x43aca3[_0x3b16f4(0x760)]&&_0x176b60['id']!==_0x4f9819['id']){_0x1580a1=!0x1;break;}}try{await _0xeff63d[_0x3b16f4(0xafe)](_0x52f8fd,_0x3e6ca7,_0x1580a1);}catch(_0x21ec7f){_0xb8b103[_0x3b16f4(0x528)](_0x3b16f4(0x3f0),_0x21ec7f);}return{'type':_0x3b16f4(0x8b5)};}if(_0x3b16f4(0x6dd)===_0x311ce2['type']){const {query:_0x57812a,vendorId:_0x5dcb50,collectionId:_0x38a8b1}=_0x311ce2,_0x1c6d82=await _0x1aeff7[_0x3b16f4(0xb62)](_0x5dcb50,_0x38a8b1);if(_0x1c6d82[_0x3b16f4(0xac0)]!==_0x596e17['GenerativeAIRagType'][_0x3b16f4(0x41b)]){const _0x1c6452=this['ragConnectors']?.[_0x3b16f4(0x680)](_0x1c6d82['storageType']);if(!_0x1c6452)throw new Error(_0x3b16f4(0x80f));const _0x13c4bd=_0x46102a(_0x5dcb50,_0x1c6d82);return{'type':_0x3b16f4(0x6dd),'results':await _0x1c6452[_0x3b16f4(0x1fb)](_0x13c4bd,_0x38a8b1,_0x57812a,0x1)};}const _0x11952a=_0x1c6d82['retrieveBlocks']?.[_0x3b16f4(0x94a)](_0x506fc7=>_0x506fc7[_0x3b16f4(0x70f)]===_0x104f2b[_0x3b16f4(0x35f)]),_0x5a2c0b=await async function(_0x8f3996,_0x4d0703,_0x17fab2,_0x270c0b,_0xbd65bf,_0x562f80,_0x5626a3){const _0x130c04=_0x3b16f4,_0x564edd={'type':'prompt','output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x4dc76c;await _0xdc089c(_0x8f3996,_0x4d0703,'',_0x270c0b,_0x564edd,_0xbd65bf,structuredClone(_0x562f80),_0x5626a3),_0x564edd[_0x130c04(0x69c)][_0x130c04(0x824)]((_0x4137f8,_0x16b592)=>_0x4137f8+_0x16b592['content']['length'],0x0)>_0x2ae1d0&&(_0x4dc76c=Math[_0x130c04(0x8a1)](_0x2ae1d0/_0x564edd[_0x130c04(0x69c)][_0x130c04(0x8bc)])),_0x564edd[_0x130c04(0x582)]=_0x130c04(0xa71)+_0x564edd['context'][_0x130c04(0x3bb)](_0x24e469=>_0x130c04(0x89d)+_0x24e469[_0x130c04(0x9e1)]+':\x20'+_0x24e469[_0x130c04(0x4fe)][_0x130c04(0x81e)](0x0,_0x4dc76c))[_0x130c04(0xae2)]('\x0a');}catch(_0x2c4796){console[_0x130c04(0x528)](_0x130c04(0x3f9),_0x2c4796);}return _0x564edd;}(_0x311ce2[_0x3b16f4(0x2e6)],_0x286053,0x0,_0x57812a,_0x11952a,_0x1c6d82,{'objectStoreConnector':this[_0x3b16f4(0xa7b)],'ragConnector':this[_0x3b16f4(0x5f2)]?.[_0x3b16f4(0x680)](_0x596e17[_0x3b16f4(0x816)][_0x3b16f4(0x41b)]),'documentParserConnector':this[_0x3b16f4(0x80d)],'fileConnector':this[_0x3b16f4(0xb53)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x3b16f4(0x75d)],'models':Array[_0x3b16f4(0x9cc)](this['models'][_0x3b16f4(0x66b)]()),'contentMediator':this[_0x3b16f4(0x45b)],'searchConnector':this[_0x3b16f4(0x256)],'aiSearchConnector':this[_0x3b16f4(0x1d7)],'queryFileConnector':this[_0x3b16f4(0x95d)]});return{'type':'collection-query','results':_0x5a2c0b[_0x3b16f4(0x69c)]??[]};}throw new Error('Unsupported\x20job\x20type');}async*[_0x49e620(0x78c)](_0x4590e2,_0x4cbbe5){const _0xc30574=_0x49e620;if('prompt'===_0x4cbbe5[_0xc30574(0x70f)]){const _0x307c74=await _0x1aeff7['getWorkflow'](_0x4cbbe5[_0xc30574(0x2e6)],_0x4cbbe5[_0xc30574(0x2ba)]),_0x37d618=_0x307c74[_0xc30574(0x3b7)][_0xc30574(0x94a)](_0x462314=>_0x462314[_0xc30574(0x70f)]===_0x3792cf[_0xc30574(0x35f)]);for await(const _0x55a4da of async function*(_0x27ae40,_0x12f035,_0x5101ba,_0x18fda3,_0x2ed014){const _0x3f86b1=_0xc30574,_0x3eae14=(0x0,_0x3c37ba['v4'])(),_0x5b24b5=Date[_0x3f86b1(0x4e4)]();await _0x31c296[_0x3f86b1(0x3c1)]({'jobType':_0x10de74[_0x3f86b1(0x395)],'type':_0x207860[_0x3f86b1(0x1dc)],'jobId':_0x27ae40,'agentId':_0x3eae14,'threadId':_0x12f035['threadId'],'traceLevel':_0x4ad3a8[_0x3f86b1(0x354)],'startTime':Date[_0x3f86b1(0x4e4)](),'timestamp':Date['now'](),'blockId':_0x5101ba['id'],'status':_0x3f86b1(0x9c7),'initialPrompt':_0x12f035[_0x3f86b1(0x481)]});const _0x55bcf1={'type':_0x3f86b1(0x481),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x12f035[_0x3f86b1(0x4c6)]&&(_0x55bcf1[_0x3f86b1(0x4c6)]=_0x12f035['internalContext']);const _0x3259ad=new _0x17891f();await _0xfde2b5(_0x12f035,_0x55bcf1,_0x5101ba,_0x18fda3,_0x2ed014),_0x534d84(_0x27ae40,''+_0x12f035[_0x3f86b1(0x481)],_0x12f035,_0x55bcf1,_0x5101ba,_0x18fda3,_0x2ed014,_0x3259ad);let _0x34ed66='',_0x2aa9aa={'type':'prompt'};for(;;){const _0x13dc0f=await _0x3259ad[_0x3f86b1(0x405)]();if(!_0x13dc0f)break;_0x34ed66+=_0x13dc0f['output'],_0x2aa9aa={'type':_0x3f86b1(0x481),'output':_0x13dc0f['output'],'context':_0x55bcf1[_0x3f86b1(0x69c)],'resultFile':void 0x0,'inputTokens':(_0x55bcf1['inputTokens']??0x0)+(_0x13dc0f[_0x3f86b1(0x888)]??0x0),'outputTokens':(_0x55bcf1[_0x3f86b1(0x219)]??0x0)+(_0x13dc0f[_0x3f86b1(0x219)]??0x0)},yield _0x2aa9aa;}const _0x1ee6d1=_0x18fda3[_0x3f86b1(0x94a)](_0x21c2f1=>_0x21c2f1[_0x3f86b1(0x70f)]===_0x3792cf[_0x3f86b1(0xac1)]);yield{..._0x2aa9aa,'output':'','internalContext':_0x55bcf1[_0x3f86b1(0x4c6)],'resultFile':await _0x1ee6d1?.['accumulated']?.[_0x3f86b1(0x43e)]?.[_0x3f86b1(0x656)]()??void 0x0};const {inputTokens:_0x318237=0x0,outputTokens:_0x13210e=0x0,context:_0x34d299=[]}=_0x2aa9aa;await _0x31c296[_0x3f86b1(0x3c1)]({'jobType':_0x10de74['Workflow'],'type':_0x207860['FinalOutput'],'jobId':_0x27ae40,'agentId':_0x3eae14,'threadId':_0x12f035['threadId'],'traceLevel':_0x4ad3a8[_0x3f86b1(0x354)],'startTime':_0x5b24b5,'timestamp':Date[_0x3f86b1(0x4e4)](),'blockId':_0x5101ba['id'],'status':_0x3f86b1(0x9c7),'output':_0x34ed66,'prompt':_0x12f035[_0x3f86b1(0x481)],'agentName':'','history':_0x12f035[_0x3f86b1(0x4f2)]??[],'instructions':''+(_0x12f035[_0x3f86b1(0x8c9)]??''),'ragContext':_0x34d299,'inputTokens':_0x318237,'outputTokens':_0x13210e});}(_0x4590e2,_0x4cbbe5,_0x37d618,_0x307c74[_0xc30574(0x3b7)],{'documentParserConnector':this[_0xc30574(0x80d)],'fileConnector':this[_0xc30574(0xb53)],'nlpLibraryConnector':this[_0xc30574(0x4cd)],'generativeAIWorkerConnectors':this[_0xc30574(0x75d)],'models':Array[_0xc30574(0x9cc)](this[_0xc30574(0x29f)][_0xc30574(0x66b)]()),'contentMediator':this[_0xc30574(0x45b)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0xc30574(0x1d7)],'queryFileConnector':this[_0xc30574(0x95d)]}))yield _0x55a4da;}if(_0xc30574(0x949)===_0x4cbbe5[_0xc30574(0x70f)]){for await(const _0x5a37b1 of async function*(_0x23919b,_0x5651b1,_0x100d0c){const _0x244e3b=_0xc30574,_0x4d6bd7=(0x0,_0x3c37ba['v4'])(),_0x4b869f={'type':'prompt','context':[],'internalContext':_0x5651b1[_0x244e3b(0x4c6)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x294d15=new _0x17891f();!async function(_0x32ab16,_0x319ab9,_0x1555d1,_0x4d909a,_0xc70317,_0x5c1877){const _0x1be87a=_0x244e3b,_0x27be4b=_0x5c1877[_0x1be87a(0x29f)][_0x1be87a(0x94a)](_0x37d115=>_0x37d115['id']===_0x1555d1[_0x1be87a(0x38f)]);if(!_0x27be4b)throw new Error(_0x1be87a(0x50e));const _0x51a348=_0x5c1877['generativeAIWorkerConnectors'][_0x1be87a(0x94a)](_0x179659=>_0x179659[_0x1be87a(0x666)]()===_0x27be4b['engineType']);if(!_0x51a348)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x4d80ba={'type':'prompt','output':''},_0x57dd3d=await _0x233bc4(_0x32ab16,_0x319ab9,_0x1555d1,_0x4d909a,_0x1555d1[_0x1be87a(0x6cc)]??[],_0x5c1877,_0xc70317);for await(const _0x9a9c51 of _0x51a348['processJobStream']({'type':_0x1be87a(0x481),'prompt':_0x1555d1[_0x1be87a(0x481)],'instructions':_0x1555d1[_0x1be87a(0x8c9)],'reasoning':_0x1555d1[_0x1be87a(0x282)],'grammar':_0x1555d1[_0x1be87a(0x75a)],'temperature':_0x1555d1['temperature'],'maxTokens':_0x1555d1[_0x1be87a(0xa6f)],'history':_0x1555d1[_0x1be87a(0x4f2)],'functions':_0x57dd3d,'threadId':_0x1555d1[_0x1be87a(0x7c8)]},{'model':_0x27be4b,'sequences':Array[_0x1be87a(0x9cc)](_0x57dd3d['keys']())['some'](_0x42e0ef=>_0x42e0ef[_0x1be87a(0x288)](_0x1be87a(0x3bd)))?0x2:0x1}))_0xc70317['emit'](_0x9a9c51),_0x1be87a(0xaba)==typeof _0x4d80ba[_0x1be87a(0x582)]&&'string'==typeof _0x9a9c51[_0x1be87a(0x582)]&&(_0x4d80ba[_0x1be87a(0x582)]+=_0x9a9c51[_0x1be87a(0x582)]),_0x4d80ba[_0x1be87a(0x888)]=_0x9a9c51[_0x1be87a(0x888)],_0x4d80ba[_0x1be87a(0x219)]=_0x9a9c51[_0x1be87a(0x219)];_0xc70317[_0x1be87a(0x8e2)](void 0x0);}(_0x23919b,_0x4d6bd7,_0x5651b1,_0x4b869f,_0x294d15,_0x100d0c);let _0x7bcae9='',_0x288ab0={'type':_0x244e3b(0x481)};for(;;){const _0x395c14=await _0x294d15[_0x244e3b(0x405)]();if(!_0x395c14)break;_0x7bcae9+=_0x395c14[_0x244e3b(0x582)],_0x288ab0={'type':'prompt','output':_0x395c14[_0x244e3b(0x582)],'context':_0x4b869f[_0x244e3b(0x69c)],'internalContext':{},'inputTokens':(_0x4b869f[_0x244e3b(0x888)]??0x0)+(_0x395c14[_0x244e3b(0x888)]??0x0),'outputTokens':(_0x4b869f[_0x244e3b(0x219)]??0x0)+(_0x395c14[_0x244e3b(0x219)]??0x0)},yield _0x288ab0;}yield{..._0x288ab0,'output':'','internalContext':_0x4b869f['internalContext']??{}};}(_0x4590e2,_0x4cbbe5,{'documentParserConnector':this[_0xc30574(0x80d)],'fileConnector':this[_0xc30574(0xb53)],'nlpLibraryConnector':this[_0xc30574(0x4cd)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0xc30574(0x9cc)](this['models'][_0xc30574(0x66b)]()),'contentMediator':this[_0xc30574(0x45b)],'searchConnector':this[_0xc30574(0x256)],'aiSearchConnector':this[_0xc30574(0x1d7)],'queryFileConnector':this[_0xc30574(0x95d)]}))yield _0x5a37b1;}}async[_0x49e620(0x590)](_0xc8bda9,_0x2113d7){const _0x25ae1e=_0x49e620;if(_0x25ae1e(0x942)===_0x2113d7['type'])return _0xc8bda9=_0x2113d7['jobId'],void await this['openTrace'](_0xc8bda9,_0x2113d7['vendorId'],_0x2113d7[_0x25ae1e(0x2ba)]);await this[_0x25ae1e(0x59c)](_0xc8bda9,_0x2113d7[_0x25ae1e(0x2e6)],_0x2113d7[_0x25ae1e(0x2ba)],_0x2113d7[_0x25ae1e(0x7c8)]),await _0x31c296[_0x25ae1e(0x3c1)]({'jobType':_0x10de74['Job'],'type':_0x12bd90[_0x25ae1e(0x7e4)],'traceLevel':_0x4ad3a8[_0x25ae1e(0x354)],'jobId':_0xc8bda9,'threadId':_0x2113d7[_0x25ae1e(0x7c8)],'startTime':Date[_0x25ae1e(0x4e4)](),'timestamp':Date[_0x25ae1e(0x4e4)](),'status':'success'});}async[_0x49e620(0x647)](_0x2f63ed,_0x3953a9){const _0x304e60=_0x49e620;if(_0x304e60(0x942)===_0x3953a9[_0x304e60(0x70f)])return _0x2f63ed=_0x3953a9[_0x304e60(0x7ed)],void await this[_0x304e60(0x8ed)](_0x2f63ed);await _0x31c296[_0x304e60(0x3c1)]({'jobType':_0x10de74['Job'],'type':_0x12bd90[_0x304e60(0x7b7)],'traceLevel':_0x4ad3a8[_0x304e60(0x354)],'jobId':_0x2f63ed,'threadId':_0x3953a9['threadId'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success'}),await this[_0x304e60(0x8ed)](_0x2f63ed,_0x3953a9[_0x304e60(0x7c8)]);}[_0x49e620(0x743)](_0x5b3518){const _0x4d6ac6=_0x49e620;switch(_0x5b3518[_0x4d6ac6(0x70f)]){case _0x3792cf[_0x4d6ac6(0x783)]:case _0x3792cf[_0x4d6ac6(0x619)]:return _0x4d6ac6(0x3bd)+_0x5b3518['name'][_0x4d6ac6(0x416)](/[^a-zA-Z]/g,'');case _0x3792cf[_0x4d6ac6(0x83a)]:case _0x3792cf['Knowledge']:return _0x4d6ac6(0x31a)+_0x5b3518[_0x4d6ac6(0x9b3)][_0x4d6ac6(0x416)](/[^a-zA-Z]/g,'');case _0x3792cf['CustomSkill']:return _0x5b3518[_0x4d6ac6(0x9b3)][_0x4d6ac6(0x416)](/[^a-zA-Z]/g,'');case _0x3792cf[_0x4d6ac6(0x6a7)]:return _0x4d6ac6(0x908);case _0x3792cf['Code']:return _0x4d6ac6(0x786);case _0x3792cf[_0x4d6ac6(0x5a2)]:return _0x4d6ac6(0x85a);case _0x3792cf[_0x4d6ac6(0x6f0)]:case _0x3792cf[_0x4d6ac6(0x63e)]:return _0x4d6ac6(0x414);default:return'';}}[_0x49e620(0xb5d)](_0x6d14ad){const _0x44f333=_0x49e620;switch(_0x6d14ad[_0x44f333(0x70f)]){case _0x3792cf[_0x44f333(0x783)]:case _0x3792cf[_0x44f333(0x619)]:return _0x44f333(0x5eb)+_0x6d14ad[_0x44f333(0x29a)]+_0x44f333(0x677);case _0x3792cf[_0x44f333(0x83a)]:case _0x3792cf[_0x44f333(0x470)]:return _0x44f333(0x50f)+_0x6d14ad[_0x44f333(0x29a)]+_0x44f333(0x1db);case _0x3792cf['CustomSkill']:return'Execute\x20skill\x20'+_0x6d14ad[_0x44f333(0x29a)];case _0x3792cf[_0x44f333(0x6a7)]:return _0x44f333(0x678);case _0x3792cf['Code']:return'Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.';case _0x3792cf['Search']:return _0x44f333(0x7aa);case _0x3792cf[_0x44f333(0x6f0)]:case _0x3792cf[_0x44f333(0x63e)]:return _0x44f333(0x99e);default:return'';}}[_0x49e620(0x351)](_0x93b491){const _0xa4caa=_0x49e620;switch(_0x93b491[_0xa4caa(0x70f)]){case _0x3792cf[_0xa4caa(0x783)]:case _0x3792cf[_0xa4caa(0x619)]:return[{'name':_0xa4caa(0x481),'type':'string'}];case _0x3792cf[_0xa4caa(0x83a)]:case _0x3792cf['Knowledge']:return[{'name':_0xa4caa(0x907),'type':_0xa4caa(0xaba)}];case _0x3792cf['CustomSkill']:return _0x93b491[_0xa4caa(0x21e)][_0xa4caa(0x3bb)](_0x4bea05=>({'name':_0x4bea05[_0xa4caa(0x9b3)],'type':_0x4bea05[_0xa4caa(0x70f)]??_0xa4caa(0xaba)}))??[];case _0x3792cf[_0xa4caa(0x6a7)]:return[{'name':_0xa4caa(0x8ae),'type':'string'}];case _0x3792cf['Code']:return[{'name':'code','type':_0xa4caa(0xaba)}];case _0x3792cf[_0xa4caa(0x5a2)]:return[{'name':_0xa4caa(0x8ae),'type':'string'}];case _0x3792cf[_0xa4caa(0x6f0)]:case _0x3792cf['WebScraperRaw']:return[{'name':_0xa4caa(0x380),'type':_0xa4caa(0xaba)},{'name':_0xa4caa(0x880),'type':_0xa4caa(0xb50)}];default:return[];}}[_0x49e620(0x53c)](){const _0x1585fe=_0x49e620;try{return this[_0x1585fe(0x635)][_0x1585fe(0xb28)]()[_0x1585fe(0x228)][_0x1585fe(0xa9f)]*(0x1-this[_0x1585fe(0x635)][_0x1585fe(0xb28)]()[_0x1585fe(0x228)][_0x1585fe(0x781)]);}catch(_0x3d45d4){return _0xb8b103[_0x1585fe(0xad5)](_0xad09e4[_0x1585fe(0x3a3)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x3d45d4),0x0;}}[_0x49e620(0x61d)](){const _0xae4a2d=_0x49e620;this[_0xae4a2d(0x99b)]&&(this[_0xae4a2d(0x83f)]&&clearTimeout(this[_0xae4a2d(0x83f)]),this[_0xae4a2d(0x83f)]=setTimeout(async()=>{const _0x573a90=_0xae4a2d;delete this['debounceStats'];let _0x52c910=0x0;for(const _0x4b509c of this[_0x573a90(0x218)][_0x573a90(0x66b)]())_0x52c910+=await _0x4b509c[_0x573a90(0x4b9)]();this[_0x573a90(0x321)]['publish']({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x573a90(0x303)],'content':{'type':_0xbc0bd6[_0x573a90(0x74d)],'label':this[_0x573a90(0x73a)],'stats':{'timestamp':Date[_0x573a90(0x4e4)](),'storage':_0x52c910,'messagesSent':this[_0x573a90(0x631)],'messagesReceived':this[_0x573a90(0x4f0)],'bytesSent':this[_0x573a90(0x604)],'bytesReceived':this[_0x573a90(0x81f)],'writes':0x0,'reads':0x0,'prompts':this[_0x573a90(0x32c)],'tokens':this[_0x573a90(0x474)]}}});},_0x4f3413));}['logServiceEvent'](_0x119c37,_0x59aa80){const _0x4ef80e=_0x49e620,_0x198895=this[_0x4ef80e(0x73a)],_0xb57ff=this['getOwnerId']();_0xb8b103['logServiceEvent'](_0x474c1d[_0x4ef80e(0x68d)],{'topic':_0x198895,'type':_0x4ef80e(0x827),'nodeId':_0xb57ff,'tokenCount':_0x59aa80,'tokensPerSecond':_0x119c37});}async['openTrace'](_0x1ff415,_0x3cdcae,_0x48a081,_0x2c2cca){const _0x55f16e=_0x49e620;try{if(!await _0x31c296['openTrace'](_0x3cdcae,_0x1ff415,_0x48a081,_0x2c2cca))throw new Error(_0x55f16e(0x3cf));return _0x1ff415;}catch(_0x3de6bb){return console[_0x55f16e(0x528)](_0x55f16e(0x3cf),_0x3de6bb),_0x55f16e(0x402);}}async[_0x49e620(0x8ed)](_0x323235,_0x442ac8){const _0x495e78=_0x49e620;try{await _0x31c296[_0x495e78(0x8ed)](_0x323235,_0x442ac8);}catch(_0x23af03){console[_0x495e78(0x528)]('Error\x20closing\x20trace',{'jobId':_0x323235,'error':_0x23af03});}}}class _0x4bfd22 extends _0x2cad14{[_0x49e620(0xaa8)];[_0x49e620(0x4a0)];[_0x49e620(0x2e6)];['db'];[_0x49e620(0x83f)];[_0x49e620(0x6ac)]=0x0;[_0x49e620(0xad7)]=0x0;[_0x49e620(0x60f)]=!0x1;constructor(_0x167937,_0x46932e,_0x5aae15,_0x43848a,_0x4059f1){const _0x10b741=_0x49e620;if('string'!=typeof _0x46932e)throw new _0x2c2152(_0x3608be[_0x10b741(0xb71)],_0x10b741(0x702));super(_0x167937,_0x46932e),this[_0x10b741(0xaa8)]=_0x167937,this[_0x10b741(0x4a0)]=_0x5aae15,this[_0x10b741(0x2e6)]=_0x43848a;const _0x3f0d3d=_0x10b741(0x2c3)+this[_0x10b741(0x2e6)]+_0x10b741(0x2c3)+this[_0x10b741(0x4a0)]+_0x10b741(0x2c3)+this[_0x10b741(0x73a)];this['db']=new _0x4059f1(_0x3f0d3d),this[_0x10b741(0x61d)]();}['getIsLoaded'](){const _0x1460d7=_0x49e620;return this[_0x1460d7(0x60f)];}[_0x49e620(0x260)](_0x2505d8){const _0x21c62c=_0x49e620;this[_0x21c62c(0x60f)]=_0x2505d8;}['destroy'](){clearTimeout(this['debounceStats']),delete this['debounceStats'],super['destroy']();}['close'](){const _0x26dd03=_0x49e620;this[_0x26dd03(0x321)][_0x26dd03(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665['Content'],'content':{'type':_0xbc0bd6[_0x26dd03(0x891)],'label':this[_0x26dd03(0x73a)]}});}['getContentType'](){const _0x5602de=_0x49e620;return _0x596e17[_0x5602de(0x7dd)][_0x5602de(0x48b)];}[_0x49e620(0x8a0)](){const _0x3948a4=_0x49e620;this[_0x3948a4(0x61d)]();}[_0x49e620(0x4af)](_0x2e65b6,_0x5a7605,_0x137524,_0x23d4b9){const _0x3378d7=_0x49e620;this['db'][_0x3378d7(0x4af)](_0x2e65b6,_0x5a7605,_0x137524,_0x23d4b9),this[_0x3378d7(0x6ac)]+=0x1,this[_0x3378d7(0x61d)]();}[_0x49e620(0x9c3)](_0x380e2c,_0x3128e7){const _0x22e558=_0x49e620;this['db']['addEdge'](_0x380e2c,_0x3128e7),this[_0x22e558(0x6ac)]+=0x1,this[_0x22e558(0x61d)]();}[_0x49e620(0x71f)](_0x35561f,_0xbc05b3,_0x4e68d1){const _0x4c40ea=_0x49e620,_0x737ff8=this['db'][_0x4c40ea(0x71f)](_0x35561f,_0xbc05b3,_0x4e68d1);return this['reads']+=0x1,_0xb8b103['logServiceEvent'](_0x474c1d['GraphDatabase'],{'type':_0x4c40ea(0x997),'label':this['label'],'nodeId':this[_0x4c40ea(0xaa8)]['getId'](),'nodeType':this['localNode'][_0x4c40ea(0x70f)],'clusterId':this[_0x4c40ea(0x4a0)],'size':0x0}),this[_0x4c40ea(0x61d)](),_0x737ff8;}[_0x49e620(0xa1e)](_0x5c9e87){const _0x497f07=_0x49e620;this['db']['remove'](_0x5c9e87),this[_0x497f07(0x6ac)]+=0x1,this[_0x497f07(0x61d)]();}[_0x49e620(0xa66)](_0x1a6d1f){const _0x2792de=_0x49e620;this['db'][_0x2792de(0xa66)](_0x1a6d1f);}[_0x49e620(0x1f5)](_0x17da6d){const _0x58605b=_0x49e620;this['db'][_0x58605b(0x1f5)](_0x17da6d);}['sendStats'](){const _0x17cbd2=_0x49e620;this[_0x17cbd2(0x83f)]&&clearTimeout(this[_0x17cbd2(0x83f)]),this[_0x17cbd2(0x83f)]=setTimeout(async()=>{const _0x1b3333=_0x17cbd2;delete this[_0x1b3333(0x83f)];const _0x514c2f=this['db']['getSize']();this[_0x1b3333(0x321)][_0x1b3333(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x1b3333(0x303)],'content':{'type':_0xbc0bd6[_0x1b3333(0x211)],'label':this[_0x1b3333(0x73a)],'stats':{'timestamp':Date[_0x1b3333(0x4e4)](),'storage':_0x514c2f,'messagesSent':this[_0x1b3333(0x631)],'messagesReceived':this[_0x1b3333(0x4f0)],'bytesSent':this[_0x1b3333(0x604)],'bytesReceived':this[_0x1b3333(0x81f)],'writes':this[_0x1b3333(0x6ac)],'reads':this[_0x1b3333(0xad7)],'prompts':0x0,'tokens':0x0}}}),_0xb8b103[_0x1b3333(0x3a1)](_0x474c1d[_0x1b3333(0x48b)],_0x1b3333(0x2c3)+this['clusterId']+_0x1b3333(0x2c3)+this['label'],_0x514c2f);},_0x4f3413);}}class _0x2f021f extends _0x199b36{['mediaStream'];constructor(_0x34250c,_0x29f464,_0x5e5be7){const _0x146c2c=_0x49e620;super(_0x34250c,_0x29f464),this[_0x146c2c(0x909)]=_0x5e5be7;}['getContentType'](){const _0x284876=_0x49e620;return _0x596e17['ContentType'][_0x284876(0x451)];}[_0x49e620(0x732)](){return this['mediaStream'];}[_0x49e620(0x3da)](){const _0x305ed4=_0x49e620;return this[_0x305ed4(0x909)]['id'];}}class _0x4d2ac5 extends _0x2f021f{[_0x49e620(0x620)];[_0x49e620(0x67e)];[_0x49e620(0x744)];['unregisterPublisherListener']=_0x580ced();constructor(_0x3278a8,_0x2ce697,_0x253367,_0x1437c4,_0x150109){const _0xa8a7e1=_0x49e620;super(_0x3278a8,_0x2ce697,_0x253367),this[_0xa8a7e1(0x620)]=_0x1437c4,this['params']=_0x150109;}[_0x49e620(0x1d5)](){const _0x5d7dfa=_0x49e620;this[_0x5d7dfa(0x79c)](_0x5d7dfa(0xa42)),this['removeTrack'](_0x5d7dfa(0xa0f)),super[_0x5d7dfa(0x1d5)]();}['addTrack'](_0x5e3ad0){const _0x458a64=_0x49e620;if(!this[_0x458a64(0x744)])throw new _0x44727e(_0x44727e[_0x458a64(0x849)][_0x458a64(0x280)],{'label':this[_0x458a64(0x73a)],'ownerId':this[_0x458a64(0x660)]['getId'](),'remoteId':this[_0x458a64(0x620)]});this[_0x458a64(0x744)][_0x458a64(0x544)]({'sourceId':this[_0x458a64(0x660)][_0x458a64(0x27e)](),'content':{'action':_0x294eae[_0x458a64(0xa19)],'track':_0x5e3ad0,'stream':this[_0x458a64(0x909)],'priority':_0x596e17[_0x458a64(0x67a)][_0x458a64(0x847)],'params':this[_0x458a64(0x5e8)](_0x5e3ad0['kind'],this['params'])}});}[_0x49e620(0x79c)](_0x1257fc){const _0x5217c2=_0x49e620,_0x7f22cc=this[_0x5217c2(0xa23)](_0x1257fc);if(_0x7f22cc){if(!this[_0x5217c2(0x744)])return null;this[_0x5217c2(0x744)][_0x5217c2(0x544)]({'sourceId':this['owner']['getId'](),'content':{'action':_0x294eae[_0x5217c2(0x58c)],'track':_0x7f22cc,'stream':this['mediaStream']}});}return _0x7f22cc;}['setPriority'](_0x443749){const _0x530705=_0x49e620;if(!this[_0x530705(0x744)])throw new _0x44727e(_0x44727e[_0x530705(0x849)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x530705(0x73a)],'ownerId':this[_0x530705(0x660)][_0x530705(0x27e)](),'remoteId':this['remoteId']});this[_0x530705(0x744)]['publish']({'sourceId':this[_0x530705(0x660)]['getId'](),'content':{'action':_0x294eae['Update'],'priority':_0x443749,'stream':this[_0x530705(0x909)]}});}[_0x49e620(0xa34)]({trackKinds:_0x24bcc7,params:_0x296807},_0x2a1b90){const _0x11d847=_0x49e620;if(!this['topic'])throw new _0x44727e(_0x44727e[_0x11d847(0x849)]['OutgoingMediaStreamNoTopic'],{'label':this['label'],'ownerId':this['owner']['getId'](),'remoteId':this[_0x11d847(0x620)]});for(const _0x3b9d60 of this[_0x11d847(0x909)][_0x11d847(0xb31)]())_0x24bcc7['includes'](_0x3b9d60['kind'])&&this[_0x11d847(0x744)][_0x11d847(0x544)]({'sourceId':this[_0x11d847(0x660)]['getId'](),'content':{'action':_0x294eae[_0x11d847(0xa19)],'track':_0x3b9d60,'stream':this[_0x11d847(0x909)],'priority':_0x2a1b90,'params':this[_0x11d847(0x5e8)](_0x3b9d60[_0x11d847(0xa7a)],_0x296807)}});}[_0x49e620(0xad9)]({params:_0x2febfc}){const _0x239143=_0x49e620;if(!this['topic'])throw new _0x44727e(_0x44727e[_0x239143(0x849)][_0x239143(0x280)],{'label':this['label'],'ownerId':this['owner']['getId'](),'remoteId':this[_0x239143(0x620)]});for(const _0x3768a1 of this['mediaStream'][_0x239143(0xb31)]())this[_0x239143(0x744)]['publish']({'sourceId':this[_0x239143(0x660)][_0x239143(0x27e)](),'content':{'action':_0x294eae[_0x239143(0x325)],'stream':this['mediaStream'],'params':this[_0x239143(0x5e8)](_0x3768a1['kind'],_0x2febfc)}});}[_0x49e620(0x2aa)]({trackKinds:_0x51b8d5}){const _0x199f8d=_0x49e620;if(this[_0x199f8d(0x744)]){for(const _0x51552e of this[_0x199f8d(0x909)][_0x199f8d(0xb31)]())_0x51b8d5['includes'](_0x51552e[_0x199f8d(0xa7a)])&&this['topic'][_0x199f8d(0x544)]({'sourceId':this[_0x199f8d(0x660)][_0x199f8d(0x27e)](),'content':{'action':_0x294eae[_0x199f8d(0x58c)],'stream':this[_0x199f8d(0x909)],'track':_0x51552e}});}}[_0x49e620(0x737)](_0x222f7f){const _0x8d9b36=_0x49e620;this[_0x8d9b36(0x744)]=_0x222f7f;}[_0x49e620(0x4b5)](_0x3ea8b7){const _0x1aa7ff=_0x49e620;_0x3ea8b7===this['topic']&&(delete this[_0x1aa7ff(0x744)],this[_0x1aa7ff(0x492)][_0x1aa7ff(0x544)]());}[_0x49e620(0x388)](_0x1688d8){const _0x4576f7=_0x49e620;return this['unregisterPublisherListener'][_0x4576f7(0xa34)](_0x1688d8);}[_0x49e620(0xa23)](_0x17a82a){const _0x4f8567=_0x49e620;return this['mediaStream'][_0x4f8567(0xb31)]()[_0x4f8567(0x94a)](_0x1cae5f=>_0x1cae5f[_0x4f8567(0xa7a)]===_0x17a82a)||null;}[_0x49e620(0x5e8)](_0x1ffce5,_0x704373){const _0x57e46c=_0x49e620;let _0x1548a1;return _0x57e46c(0xa0f)===_0x1ffce5&&_0x704373?.[_0x57e46c(0xa0f)]&&'boolean'!=typeof _0x704373['video']&&(_0x1548a1={'kind':_0x57e46c(0xa0f),..._0x704373[_0x57e46c(0xa0f)]},_0x1548a1[_0x57e46c(0x370)]=this[_0x57e46c(0xb20)]()),_0x57e46c(0xa42)===_0x1ffce5&&_0x704373?.[_0x57e46c(0xa42)]&&'boolean'!=typeof _0x704373[_0x57e46c(0xa42)]&&(_0x1548a1={'kind':_0x57e46c(0xa42),..._0x704373[_0x57e46c(0xa42)]}),_0x1548a1;}['getResolution'](){const _0x4b3bce=_0x49e620;let _0xbd5123={'width':0x0,'height':0x0};const _0x1a92b7=this[_0x4b3bce(0x909)]['getVideoTracks']();if(_0x1a92b7[_0x4b3bce(0x8bc)]>0x0){const _0x23e0ef=_0x1a92b7[0x0][_0x4b3bce(0x336)]();_0x23e0ef[_0x4b3bce(0x7ba)]&&_0x23e0ef[_0x4b3bce(0x982)]&&(_0xbd5123={'width':_0x23e0ef['width'],'height':_0x23e0ef['height']});}return _0xbd5123;}}class _0x537914 extends _0x2f021f{[_0x49e620(0x4a0)];[_0x49e620(0x7fa)]=_0x596e17[_0x49e620(0x67a)][_0x49e620(0x847)];['trackEndedListeners']=new Map();['outgoingStreams']=new Map();constructor(_0x56b21e,_0x3c6963,_0x4d13c8,_0x155afa){const _0xb56380=_0x49e620;super(_0x56b21e,_0x3c6963,_0x4d13c8 instanceof MediaStream?_0x4d13c8:_0x4d13c8['srcObject']?_0x4d13c8[_0xb56380(0x4dc)]:_0x4d13c8[_0xb56380(0x6b6)]()),this[_0xb56380(0x4a0)]=_0x155afa,this[_0xb56380(0x909)]['getTracks']()[_0xb56380(0x49b)](_0x4b166f=>this['setupTrackEndedListeners'](_0x4b166f)),_0xb8b103[_0xb56380(0x5d3)](_0x474c1d['MediaStream'],{'type':_0xb56380(0x544),'label':this[_0xb56380(0x73a)],'nodeId':this[_0xb56380(0x660)][_0xb56380(0x27e)](),'nodeType':this[_0xb56380(0x660)][_0xb56380(0x70f)],'clusterId':this[_0xb56380(0x4a0)],'streamId':this[_0xb56380(0x3da)](),'trackKinds':this['mediaStream'][_0xb56380(0xb31)]()[_0xb56380(0x3bb)](_0x2c0f1b=>_0x2c0f1b[_0xb56380(0xa7a)])});}['destroy'](){const _0x1683a1=_0x49e620;this[_0x1683a1(0x535)][_0x1683a1(0x65a)]>0x0&&(this[_0x1683a1(0x535)][_0x1683a1(0x49b)](_0x12a8ba=>{const _0x384149=_0x1683a1;_0x12a8ba[_0x384149(0xa6a)](),_0x12a8ba[_0x384149(0x1d5)]();}),this['outgoingStreams'][_0x1683a1(0x9c6)]()),this[_0x1683a1(0x5fb)]['forEach'](_0x3f77b0=>_0x3f77b0()),super[_0x1683a1(0x1d5)]();}['publish'](_0x27cd93){const _0x522c8f=_0x49e620;this[_0x522c8f(0x321)][_0x522c8f(0x544)]({'sourceId':this['owner'][_0x522c8f(0x27e)](),'destinationIds':_0x27cd93?[_0x27cd93]:void 0x0,'propagate':!0x0,'messageType':_0x24f665['Content'],'content':{'type':_0xbc0bd6[_0x522c8f(0xa09)],'ownerId':this[_0x522c8f(0x660)][_0x522c8f(0x27e)](),'label':this[_0x522c8f(0x73a)],'stream':{'streamId':this[_0x522c8f(0x3da)](),'availableTrackKinds':this['mediaStream'][_0x522c8f(0xb31)]()[_0x522c8f(0x3bb)](_0x53c8d6=>_0x53c8d6[_0x522c8f(0xa7a)])}}});}[_0x49e620(0x8cf)](){const _0x17d0f9=_0x49e620;this['systemTopic']['publish']({'sourceId':this[_0x17d0f9(0x660)][_0x17d0f9(0x27e)](),'propagate':!0x0,'messageType':_0x24f665[_0x17d0f9(0x303)],'content':{'type':_0xbc0bd6[_0x17d0f9(0x856)],'ownerId':this['owner'][_0x17d0f9(0x27e)](),'label':this['label']}}),this['systemTopic'][_0x17d0f9(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x17d0f9(0x303)],'content':{'type':_0xbc0bd6[_0x17d0f9(0xab9)],'label':this[_0x17d0f9(0x73a)]}}),_0xb8b103['logServiceEvent'](_0x474c1d[_0x17d0f9(0x387)],{'type':_0x17d0f9(0x8cf),'label':this[_0x17d0f9(0x73a)],'nodeId':this['owner'][_0x17d0f9(0x27e)](),'nodeType':this['owner'][_0x17d0f9(0x70f)],'clusterId':this[_0x17d0f9(0x4a0)],'streamId':this[_0x17d0f9(0x3da)]()});}[_0x49e620(0x77c)](){const _0x1dd170=_0x49e620;return this[_0x1dd170(0x7fa)];}[_0x49e620(0x7ac)](_0x4499cc){const _0x2418fb=_0x49e620;this['priority']=_0x4499cc,this[_0x2418fb(0x535)][_0x2418fb(0x49b)](_0x18b2ab=>_0x18b2ab['setPriority'](_0x4499cc));}['getShareableStream'](_0x11c34b,_0x10aded){const _0x39ef01=_0x49e620;if(!this['outgoingStreams'][_0x39ef01(0x29d)](_0x11c34b)){const _0x763942=new _0x4d2ac5(this[_0x39ef01(0x660)],this[_0x39ef01(0x73a)],this[_0x39ef01(0x909)],_0x11c34b,_0x10aded),_0x58fd06=_0x763942['onUnregisterPublisher'](()=>{const _0x3e6767=_0x39ef01;_0x58fd06(),this[_0x3e6767(0x535)][_0x3e6767(0x680)](_0x11c34b)?.[_0x3e6767(0x1d5)](),this[_0x3e6767(0x535)][_0x3e6767(0x55f)](_0x11c34b);});this[_0x39ef01(0x535)]['set'](_0x11c34b,_0x763942),_0x763942[_0x39ef01(0xb51)](this[_0x39ef01(0x321)]);}return this['outgoingStreams'][_0x39ef01(0x680)](_0x11c34b);}[_0x49e620(0x328)](){const _0x41fd52=_0x49e620;return this[_0x41fd52(0x909)]['id'];}['handleLocalTrackFailure'](_0xbbe8b6){const _0x256b80=_0x49e620;this[_0x256b80(0x321)][_0x256b80(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x256b80(0x303)],'content':{'type':_0xbc0bd6[_0x256b80(0xaf4)],'label':this['label'],'trackKinds':[_0xbbe8b6[_0x256b80(0xa7a)]]}});}[_0x49e620(0x584)](_0x28edd4){const _0x366c08=_0x49e620,_0x4362bb=()=>this[_0x366c08(0x9c2)](_0x28edd4);_0x28edd4['addEventListener'](_0x366c08(0x642),_0x4362bb),_0x28edd4[_0x366c08(0x531)](_0x366c08(0x971),_0x4362bb),this[_0x366c08(0x5fb)]['set'](_0x28edd4[_0x366c08(0xa7a)],()=>{const _0x5dad2b=_0x366c08;_0x28edd4['removeEventListener'](_0x5dad2b(0x642),_0x4362bb),_0x28edd4['removeEventListener'](_0x5dad2b(0x971),_0x4362bb),this[_0x5dad2b(0x5fb)][_0x5dad2b(0x55f)](_0x28edd4['kind']);});}}class _0x315e86 extends _0x537914{[_0x49e620(0x25c)];[_0x49e620(0x9ab)]=[];[_0x49e620(0x484)];[_0x49e620(0x40f)];[_0x49e620(0x3bf)];[_0x49e620(0x406)];[_0x49e620(0x495)];[_0x49e620(0x69c)];[_0x49e620(0x967)];constructor(_0x59dc73,_0xc64cb7,_0x3d6026,_0xf40c88,_0x5122be,_0x403984){const _0x1ae692=_0x49e620;if(super(_0x59dc73,_0xc64cb7,_0x3d6026,_0x403984),this[_0x1ae692(0x25c)]=_0x5122be,this[_0x1ae692(0x484)]=this[_0x1ae692(0x909)],this['sourceVideo']=document[_0x1ae692(0x8c3)](_0x1ae692(0xa0f)),this[_0x1ae692(0x406)][_0x1ae692(0x476)]=!0x0,this[_0x1ae692(0x406)][_0x1ae692(0x9a4)]=!0x0,this['sourceVideo'][_0x1ae692(0x4dc)]=this[_0x1ae692(0x484)],this[_0x1ae692(0x406)][_0x1ae692(0x781)](),this['sourceVideo'][_0x1ae692(0x730)]=()=>{const _0x4acc26=_0x1ae692;this[_0x4acc26(0x406)][_0x4acc26(0x70a)]();},this[_0x1ae692(0x495)]=document[_0x1ae692(0x8c3)](_0x1ae692(0x495)),this[_0x1ae692(0x69c)]=this[_0x1ae692(0x495)]['getContext']('2d'),this[_0x1ae692(0x909)]=this['canvas'][_0x1ae692(0x6b6)](_0xf40c88),this['audioDestination']=this[_0x1ae692(0x25c)][_0x1ae692(0x98a)](),this[_0x1ae692(0x484)][_0x1ae692(0x937)]()[_0x1ae692(0x8bc)]>0x0){const _0x59f9e5=this[_0x1ae692(0x484)]['getAudioTracks']()[0x0];this[_0x1ae692(0x40f)]=this['audioContext'][_0x1ae692(0x8df)](new MediaStream([_0x59f9e5])),this['audioSource'][_0x1ae692(0x39e)](this['audioDestination']);}const _0x4af036=this[_0x1ae692(0x3bf)][_0x1ae692(0x672)][_0x1ae692(0xb31)]()[0x0];this[_0x1ae692(0x909)][_0x1ae692(0x4f9)](_0x4af036),this['interval']=setInterval(()=>{const _0x23c8da=_0x1ae692;this[_0x23c8da(0x495)][_0x23c8da(0x7ba)]=this[_0x23c8da(0x406)]['videoWidth'],this[_0x23c8da(0x495)]['height']=this[_0x23c8da(0x406)][_0x23c8da(0x679)],this['sourceVideo'][_0x23c8da(0x72a)]?(0x0!==this[_0x23c8da(0x484)]['getVideoTracks']()[_0x23c8da(0x8bc)]&&this[_0x23c8da(0x484)][_0x23c8da(0x32e)]()[0x0]['enabled']?this[_0x23c8da(0x909)][_0x23c8da(0x32e)]()[0x0][_0x23c8da(0xaf5)]=!0x0:this['mediaStream'][_0x23c8da(0x32e)]()[0x0][_0x23c8da(0xaf5)]=!0x1,0x0!==this[_0x23c8da(0x484)]['getAudioTracks']()[_0x23c8da(0x8bc)]&&this['clientStream']['getAudioTracks']()[0x0][_0x23c8da(0xaf5)]?this['mediaStream'][_0x23c8da(0x937)]()[0x0]['enabled']=!0x0:this['mediaStream']['getAudioTracks']()[0x0][_0x23c8da(0xaf5)]=!0x1,this[_0x23c8da(0x69c)][_0x23c8da(0x9cd)](this[_0x23c8da(0x406)],0x0,0x0)):this[_0x23c8da(0x69c)][_0x23c8da(0x7df)](0x0,0x0,this[_0x23c8da(0x495)][_0x23c8da(0x7ba)],this['canvas'][_0x23c8da(0x982)]);},0x3e8/_0xf40c88);}[_0x49e620(0x1d5)](){const _0x25cf28=_0x49e620;clearInterval(this['interval']),this[_0x25cf28(0x406)][_0x25cf28(0xa1e)](),this['canvas'][_0x25cf28(0xa1e)](),this['audioSource']?.['disconnect'](),this['audioDestination']['disconnect'](),this[_0x25cf28(0x909)][_0x25cf28(0xb31)]()[_0x25cf28(0x49b)](_0x566e35=>{const _0x2ddff1=_0x25cf28;_0x566e35[_0x2ddff1(0x31e)](),this[_0x2ddff1(0x909)]['removeTrack'](_0x566e35);}),super[_0x25cf28(0x1d5)]();}[_0x49e620(0x4f9)](_0x2f2440){const _0x22deb6=_0x49e620,_0x5380e9=this['getTrack'](_0x2f2440[_0x22deb6(0xa7a)]);_0x5380e9&&this[_0x22deb6(0x79c)](_0x5380e9),_0x22deb6(0xa42)!==_0x2f2440[_0x22deb6(0xa7a)]?('video'===_0x2f2440[_0x22deb6(0xa7a)]&&this['addVideoTrack'](_0x2f2440),this[_0x22deb6(0x584)](_0x2f2440)):this[_0x22deb6(0x7d0)](_0x2f2440);}[_0x49e620(0x79c)](_0x1982dc){const _0xe367b7=_0x49e620,_0x3a4eee=this['getTrackFromParam'](_0x1982dc);return _0x3a4eee&&('audio'===_0x3a4eee['kind']&&(this[_0xe367b7(0x40f)]?.[_0xe367b7(0x94f)](),this[_0xe367b7(0x40f)]=void 0x0),this[_0xe367b7(0x5fb)][_0xe367b7(0x680)](_0x3a4eee['kind'])?.(),this['clientStream'][_0xe367b7(0x79c)](_0x3a4eee)),_0x3a4eee;}[_0x49e620(0x9f4)](_0x520fb0){const _0x3ef157=_0x49e620;this[_0x3ef157(0x79c)](_0x520fb0['kind']),this['addTrack'](_0x520fb0);}['setTransformations'](_0x716f46){const _0x594359=_0x49e620;this[_0x594359(0x9ab)]=_0x716f46;}[_0x49e620(0xa23)](_0x12ef26){const _0x413925=_0x49e620;return this[_0x413925(0x484)][_0x413925(0xb31)]()['find'](_0x1c8974=>_0x1c8974[_0x413925(0xa7a)]===_0x12ef26)||null;}[_0x49e620(0xb19)](_0x8e45f3){const _0x2150bd=_0x49e620;return _0x2150bd(0xaba)==typeof _0x8e45f3?this[_0x2150bd(0xa23)](_0x8e45f3):_0x8e45f3;}[_0x49e620(0x7d0)](_0x159b17){const _0x27cac3=_0x49e620;_0x27cac3(0x8b8)===this[_0x27cac3(0x25c)][_0x27cac3(0x2b0)]&&this[_0x27cac3(0x25c)][_0x27cac3(0x734)](),this['clientStream'][_0x27cac3(0x4f9)](_0x159b17),this[_0x27cac3(0x40f)]=this[_0x27cac3(0x25c)][_0x27cac3(0x8df)](this[_0x27cac3(0x484)]),this['audioSource'][_0x27cac3(0x39e)](this[_0x27cac3(0x3bf)]);}[_0x49e620(0x2f2)](_0x112855){const _0x2e6357=_0x49e620;this['clientStream'][_0x2e6357(0x4f9)](_0x112855),this[_0x2e6357(0x406)]['load']();}}class _0x3a3dad extends _0x537914{}class _0x13fe23 extends _0x2cad14{[_0x49e620(0xaa8)];[_0x49e620(0x4a0)];[_0x49e620(0x2e6)];[_0x49e620(0x925)];['waitForArrayBufferSize'];['options'];['unsubscribeHandler'];['lastTransactionId'];[_0x49e620(0x312)]=new Map();[_0x49e620(0x27f)]=new Map();[_0x49e620(0x5e5)]=new Map();['pendingFilesTransactions']=new Map();[_0x49e620(0x8d6)]=new Map();[_0x49e620(0x483)]=new Map();['objectStoreConnector'];[_0x49e620(0x34b)]=_0x544609();[_0x49e620(0x870)]=new Map();[_0x49e620(0x83f)];['writes']=0x0;[_0x49e620(0xad7)]=0x0;[_0x49e620(0x9f5)]=!0x0;[_0x49e620(0x633)]=!0x0;[_0x49e620(0x47f)]=0x0;['nodesConnected']=0x0;constructor(_0x14b845,_0x2b98a7,_0x238e5b,_0x59bd63,_0x1235ed,_0x40b9af,_0x3f6d74,_0x1b7931){const _0x1f34d3=_0x49e620;if('string'!=typeof _0x2b98a7)throw new _0x2c2152(_0x3608be[_0x1f34d3(0x5d5)],_0x1f34d3(0x306));super(_0x14b845,_0x2b98a7),this[_0x1f34d3(0xaa8)]=_0x14b845,this[_0x1f34d3(0x4a0)]=_0x238e5b,this[_0x1f34d3(0x2e6)]=_0x59bd63,this[_0x1f34d3(0x925)]=_0x1235ed,this[_0x1f34d3(0x50c)]=_0x3f6d74,this[_0x1f34d3(0x8d3)]=_0x1b7931;const _0x5a2df6='ccc'+this['vendorId']+'ccc'+this[_0x1f34d3(0x4a0)]+_0x1f34d3(0x2c3)+_0x2b98a7;this[_0x1f34d3(0xa7b)]=new _0x40b9af(_0x5a2df6),this[_0x1f34d3(0x9f5)]=this[_0x1f34d3(0x8d3)]?.['syncContent']??!0x0,this[_0x1f34d3(0x8d3)]?.[_0x1f34d3(0xa5d)]&&(this[_0x1f34d3(0x9f5)]=!0x1),this['sendStats']();}[_0x49e620(0x8a0)](){this['sendStats']();}['getContentType'](){return _0x596e17['ContentType']['ObjectStore'];}async[_0x49e620(0x7b3)](){const _0x32c696=_0x49e620;this[_0x32c696(0x633)]=!0x0;try{const _0x1666c8=await this[_0x32c696(0xa7b)][_0x32c696(0x680)](_0x747f64),_0x4b3f29=await _0x1666c8[_0x32c696(0x656)]();this['lastTransactionId']=_0x4b3f29;}catch(_0x584703){}this['unsubscribeHandler']=this[_0x32c696(0x1c5)](async(_0x70cdc3,_0x3e852b)=>{const _0x15a682=_0x32c696;if(!(_0x3e852b instanceof File))try{if(_0x3e852b['payloadType']===_0x5c8aa6['Request'])return void this['handleRequestPayload'](_0x3e852b);this[_0x15a682(0x8dc)](_0x3e852b);}catch(_0x43c6a9){if(_0x43c6a9 instanceof _0x44727e)throw _0x43c6a9;throw new _0x44727e(_0x44727e['codes'][_0x15a682(0xb2b)],{'payload':_0x3e852b});}}),await this[_0x32c696(0x99d)](),this[_0x32c696(0x9f5)]?await this[_0x32c696(0x473)]():this[_0x32c696(0x6cf)](),this[_0x32c696(0x61d)]();}[_0x49e620(0x1d5)](){const _0x3826ef=_0x49e620;this['unsubscribeHandler']?.(),this['listenerUnsubscribers'][_0x3826ef(0x49b)](_0x3e2054=>_0x3e2054()),this['listenerUnsubscribers']['clear'](),clearTimeout(this[_0x3826ef(0x83f)]),delete this[_0x3826ef(0x83f)],super[_0x3826ef(0x1d5)]();}['close'](){const _0x241cc9=_0x49e620;this['systemTopic']?.[_0x241cc9(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x241cc9(0x303)],'content':{'type':_0xbc0bd6[_0x241cc9(0x84f)],'label':this[_0x241cc9(0x73a)]}});}[_0x49e620(0xa34)](_0x14f77f,_0x452319){const _0x287720=_0x49e620;if(this[_0x287720(0x870)][_0x287720(0x29d)](_0x14f77f))throw new _0x2c2152(_0x3608be[_0x287720(0x78e)],_0x287720(0x373));this[_0x287720(0x870)][_0x287720(0x9fa)](_0x14f77f,this[_0x287720(0x34b)][_0x287720(0xa34)](_0x452319)),this[_0x287720(0x633)]||this['eventListener']['publish']({'event':_0x596e17[_0x287720(0x3d6)][_0x287720(0x389)],'payload':{'filesSynced':this['filesSynced']}});}[_0x49e620(0x2aa)](_0xf443b6){const _0x3a94fa=_0x49e620;this[_0x3a94fa(0x870)][_0x3a94fa(0x680)](_0xf443b6)?.(),this[_0x3a94fa(0x870)]['delete'](_0xf443b6);}['publish'](_0x2379de){const _0x25ad52=_0x49e620;switch(_0x2379de[_0x25ad52(0xaa7)]){case _0x596e17[_0x25ad52(0x37f)]['File']:return this[_0x25ad52(0x3e5)](_0x2379de[_0x25ad52(0x43e)],_0x2379de[_0x25ad52(0x1f0)],_0x2379de[_0x25ad52(0x8d3)]);case _0x596e17[_0x25ad52(0x37f)]['Folder']:return this[_0x25ad52(0x2f3)](_0x2379de['path']);case _0x596e17['PayloadAction']['Move']:return this[_0x25ad52(0x953)](_0x2379de[_0x25ad52(0x1f0)],_0x2379de['newPath']);default:throw new _0x2c2152(_0x3608be[_0x25ad52(0x8a3)],'Cannot\x20publish\x20payload:\x20'+_0x2379de);}}async[_0x49e620(0x8cf)](_0x388a1d){const _0x28aa9c=_0x49e620;try{const _0x397d75=(0x0,_0x3c37ba['v4'])(),_0x42acb6=this['lastTransactionId'],_0x1902ee={'payloadType':_0x5c8aa6[_0x28aa9c(0x3b1)],'action':_0x569d4f['Delete'],'id':_0x397d75,'parentId':_0x42acb6,'path':_0x388a1d};await this[_0x28aa9c(0x963)](_0x1902ee);const _0x3cb6ac=await this[_0x28aa9c(0x296)](_0x388a1d);!0x0!==this[_0x28aa9c(0x8d3)]?.[_0x28aa9c(0xa5d)]&&await this[_0x28aa9c(0x201)](_0x1902ee),_0xb8b103[_0x28aa9c(0x5d3)](_0x474c1d[_0x28aa9c(0x539)],{'type':_0x28aa9c(0x8cf),'label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode']['type'],'clusterId':this[_0x28aa9c(0x4a0)],'kind':_0x3cb6ac,'path':_0x388a1d}),this[_0x28aa9c(0x6ac)]+=0x1,this[_0x28aa9c(0x61d)]();}catch(_0x4c6c9e){if(_0x4c6c9e instanceof _0x44727e)throw new _0x2c2152(_0x3608be[_0x28aa9c(0xa41)],'Cannot\x20unpublish\x20object\x20at\x20'+_0x388a1d+_0x28aa9c(0x3b6));throw new _0x2c2152(_0x3608be[_0x28aa9c(0x7f0)],_0x28aa9c(0xa64)+_0x388a1d);}}async['get'](_0x379be0,_0x2d8bb1){const _0x5e4c58=_0x49e620;_0xb8b103[_0x5e4c58(0x5d3)](_0x474c1d[_0x5e4c58(0x539)],{'type':_0x5e4c58(0x680),'label':this[_0x5e4c58(0x73a)],'nodeId':this[_0x5e4c58(0xaa8)][_0x5e4c58(0x27e)](),'nodeType':this[_0x5e4c58(0xaa8)][_0x5e4c58(0x70f)],'clusterId':this['clusterId'],'path':_0x379be0}),this['reads']+=0x1,this[_0x5e4c58(0x61d)]();try{return await this[_0x5e4c58(0xa7b)][_0x5e4c58(0x680)](_0x379be0,_0x2d8bb1);}catch(_0x548caf){try{await this[_0x5e4c58(0xa7b)][_0x5e4c58(0x680)](_0x379be0+_0x5343e9);}catch(_0x381fee){throw new _0x2c2152(_0x3608be[_0x5e4c58(0x7f0)],_0x5e4c58(0x7cb)+_0x379be0);}throw new _0x2c2152(_0x3608be[_0x5e4c58(0xa41)],_0x5e4c58(0x4ef));}}async['list'](_0x100484,_0x377517){const _0xe3d0bf=_0x49e620,{recursive:_0x37eac7=!0x1,includeSyncingFiles:_0xd691cc=!0x1}=_0x377517??{};_0xb8b103['logServiceEvent'](_0x474c1d['ObjectStorage'],{'type':'list','label':this[_0xe3d0bf(0x73a)],'nodeId':this[_0xe3d0bf(0xaa8)][_0xe3d0bf(0x27e)](),'nodeType':this[_0xe3d0bf(0xaa8)][_0xe3d0bf(0x70f)],'clusterId':this[_0xe3d0bf(0x4a0)],'path':_0x100484}),this[_0xe3d0bf(0xad7)]+=0x1,this['sendStats']();try{const _0x25d5fa=await this[_0xe3d0bf(0xa7b)][_0xe3d0bf(0x463)](_0x100484,_0x37eac7);return this[_0xe3d0bf(0x59e)](_0x25d5fa,{'recursive':_0x37eac7,'includeSyncingFiles':_0xd691cc});}catch(_0x358770){throw new _0x2c2152(_0x3608be[_0xe3d0bf(0x7f0)],_0xe3d0bf(0x3a0)+_0x100484);}}[_0x49e620(0x58e)](_0x21bfbf){const _0x2759ba=_0x49e620;this[_0x2759ba(0xb41)]+=0x1;for(const _0x14113c of this['objectRequests'][_0x2759ba(0x66b)]())this[_0x2759ba(0x201)](_0x14113c,[_0x21bfbf]);}[_0x49e620(0x1fe)](_0x2c4812){const _0x2e32d9=_0x49e620;this[_0x2e32d9(0xb41)]-=0x1;const _0x2c4b58=this[_0x2e32d9(0x5e5)][_0x2e32d9(0x680)](_0x2c4812);if(_0x2c4b58){for(const [_0x4a3429,_0x3c0b5d]of _0x2c4b58['values']())this[_0x2e32d9(0x342)](_0x4a3429,_0x3c0b5d);this['pendingFilesSyncing']['delete'](_0x2c4812);}}async[_0x49e620(0x4b9)](_0x57291c='/'){const _0x155bd7=_0x49e620;try{return await this['objectStoreConnector']['calculateSize'](_0x57291c);}catch(_0xbb420b){if(_0xbb420b instanceof Error&&_0xbb420b[_0x155bd7(0x977)][_0x155bd7(0x2ef)]('ENOENT'))return 0x0;throw new _0x2c2152(_0x3608be[_0x155bd7(0x7f0)],_0x155bd7(0x44d)+_0x57291c);}}[_0x49e620(0x6cf)](){const _0x517e48=_0x49e620;this[_0x517e48(0x633)]&&(this[_0x517e48(0x633)]=!0x1,this[_0x517e48(0x34b)][_0x517e48(0x544)]({'event':_0x596e17['StorageEventType'][_0x517e48(0x389)],'payload':{'filesSynced':this[_0x517e48(0x47f)]}}));}async[_0x49e620(0x59e)](_0x56ad67,{includeSyncingFiles:_0x3eb0c3=!0x1}){const _0x12a267=_0x49e620,_0xf81eef=[];for(const _0x45e29c of _0x56ad67)if(_0x45e29c[_0x12a267(0xa7a)]!==_0x596e17[_0x12a267(0x289)]['Folder']){if(_0x45e29c[_0x12a267(0x9b3)]!==_0x747f64){if(_0x45e29c[_0x12a267(0x9b3)][_0x12a267(0x24a)](_0x5343e9)){if(!_0x3eb0c3)continue;const _0x5a2535=_0x45e29c;if(_0x5a2535[_0x12a267(0x9b3)]=_0x5a2535[_0x12a267(0x9b3)][_0x12a267(0x416)](_0x5343e9,''),_0x5a2535[_0x12a267(0x9e1)]=_0x5a2535[_0x12a267(0x9e1)][_0x12a267(0x416)](_0x5343e9,''),await this[_0x12a267(0x5ff)](_0x5a2535['pathName'])){_0x56ad67[_0x12a267(0x94a)](_0x2313ba=>_0x2313ba[_0x12a267(0x9e1)]===_0x5a2535[_0x12a267(0x9e1)])[_0x12a267(0xa3b)]=_0x596e17[_0x12a267(0x1d0)][_0x12a267(0x20a)];continue;}_0x5a2535['status']=_0x596e17[_0x12a267(0x1d0)][_0x12a267(0x8f6)];}_0xf81eef[_0x12a267(0x6b8)](_0x45e29c);}}else _0x45e29c[_0x12a267(0xa33)]=await this[_0x12a267(0x59e)](_0x45e29c['entries']??[],{'includeSyncingFiles':_0x3eb0c3}),_0xf81eef[_0x12a267(0x6b8)](_0x45e29c);return _0xf81eef;}async[_0x49e620(0x3e5)](_0x376f8f,_0x5ebd11,_0x3a712d){const _0x3a308c=_0x49e620;try{const _0x49e4ae=(0x0,_0x3c37ba['v4'])(),_0x541c29=await _0x1728fc(_0x376f8f),_0x3965a3=_0x295bf5(_0x5ebd11??'/',_0x376f8f[_0x3a308c(0x9b3)]);let _0xbb339d=!0x0;const _0x15a8d6={'payloadType':_0x5c8aa6[_0x3a308c(0x3b1)],'action':_0x569d4f['FileWrite'],'id':_0x49e4ae,'parentId':this[_0x3a308c(0x3b5)],'answererId':this[_0x3a308c(0xaa8)][_0x3a308c(0x27e)](),'name':_0x376f8f['name'],'type':_0x376f8f[_0x3a308c(0x70f)],'path':_0x5ebd11??'/','skipEncryption':_0x3a712d?.['skipEncryption']??!0x1,'checksum':_0x541c29};try{if(!_0x3a712d?.[_0x3a308c(0x3fa)])throw new Error(_0x3a308c(0x9f1));const _0xcf5597=_0x3965a3+_0x5343e9;await this[_0x3a308c(0xa7b)]['get'](_0xcf5597),_0xbb339d=!0x1,await this[_0x3a308c(0xa7b)][_0x3a308c(0x296)](_0xcf5597),this[_0x3a308c(0x27f)]['delete'](_0x3965a3);}catch(_0x11fd20){await this[_0x3a308c(0x963)](_0x15a8d6);}if(this[_0x3a308c(0x9f5)]||this['options']?.[_0x3a308c(0xa5d)]?await this[_0x3a308c(0x4c5)](_0x376f8f,_0x5ebd11,_0x3a712d):await this[_0x3a308c(0x4d4)](_0x376f8f[_0x3a308c(0x9b3)],_0x5ebd11??'/',{'checksum':_0x541c29,'skipEncryption':_0x3a712d?.[_0x3a308c(0x938)]??!0x1}),this[_0x3a308c(0x483)][_0x3a308c(0x29d)](_0x3965a3)){const [_0x57ae50,_0x163657]=this[_0x3a308c(0x483)]['get'](_0x3965a3);this[_0x3a308c(0x483)][_0x3a308c(0x9fa)](_0x3965a3,[!0x0,_0x163657]);try{await _0x163657;}catch(_0x59861e){}this['fileSendingMap'][_0x3a308c(0x55f)](_0x3965a3);}_0xbb339d&&this[_0x3a308c(0xb41)]>0x0&&!0x0!==this['options']?.[_0x3a308c(0xa5d)]&&await this[_0x3a308c(0x790)](_0x376f8f,_0x15a8d6),_0xb8b103['logServiceEvent'](_0x474c1d['ObjectStorage'],{'type':_0x3a308c(0x544),'label':this[_0x3a308c(0x73a)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x3a308c(0xaa8)][_0x3a308c(0x70f)],'clusterId':this[_0x3a308c(0x4a0)],'kind':_0x596e17[_0x3a308c(0x289)]['File'],'path':_0x5ebd11,'fileName':_0x376f8f[_0x3a308c(0x9b3)],'fileType':_0x376f8f[_0x3a308c(0x70f)],'size':_0x376f8f[_0x3a308c(0x65a)]}),this['writes']+=0x1,this[_0x3a308c(0x61d)]();}catch(_0x35b504){if(_0x35b504 instanceof _0x44727e)throw new _0x2c2152(_0x3608be['ObjectStoreNotInSync'],_0x3a308c(0x4ef));throw new _0x2c2152(_0x3608be[_0x3a308c(0x7f0)],_0x3a308c(0x3bc)+_0x5ebd11+(_0x5ebd11?.[_0x3a308c(0x24a)]('/')?'':'/')+_0x376f8f[_0x3a308c(0x9b3)]);}}async[_0x49e620(0x2f3)](_0x52ac96){const _0x3b5bc=_0x49e620;try{const _0x12bbe6=(0x0,_0x3c37ba['v4'])(),_0x5a8f02=this[_0x3b5bc(0x3b5)],_0x36ad5a={'payloadType':_0x5c8aa6[_0x3b5bc(0x3b1)],'action':_0x569d4f[_0x3b5bc(0xb21)],'id':_0x12bbe6,'parentId':_0x5a8f02,'path':_0x52ac96};await this[_0x3b5bc(0x963)](_0x36ad5a),await this['objectStoreConnector']['createFolder'](_0x52ac96),!0x0!==this[_0x3b5bc(0x8d3)]?.[_0x3b5bc(0xa5d)]&&await this[_0x3b5bc(0x201)](_0x36ad5a),_0xb8b103[_0x3b5bc(0x5d3)](_0x474c1d[_0x3b5bc(0x539)],{'type':'publish','label':this['label'],'nodeId':this[_0x3b5bc(0xaa8)][_0x3b5bc(0x27e)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x3b5bc(0x4a0)],'kind':_0x596e17[_0x3b5bc(0x289)][_0x3b5bc(0x2af)],'path':_0x52ac96}),this['writes']+=0x1,this[_0x3b5bc(0x61d)]();}catch(_0xf47aa7){if(_0xf47aa7 instanceof _0x44727e)throw new _0x2c2152(_0x3608be[_0x3b5bc(0xa41)],_0x3b5bc(0x4ef));throw new _0x2c2152(_0x3608be[_0x3b5bc(0x7f0)],_0x3b5bc(0x5dc)+_0x52ac96);}}async[_0x49e620(0x953)](_0x22c033,_0x104d77){const _0x38be2c=_0x49e620;try{const _0x3c1080=(0x0,_0x3c37ba['v4'])(),_0x4d4a92=this[_0x38be2c(0x3b5)],_0x532add={'payloadType':_0x5c8aa6[_0x38be2c(0x3b1)],'action':_0x569d4f[_0x38be2c(0x2cf)],'id':_0x3c1080,'parentId':_0x4d4a92,'path':_0x22c033,'newPath':_0x104d77};await this[_0x38be2c(0x963)](_0x532add);const _0x5655b6=await this[_0x38be2c(0x638)](_0x22c033,_0x104d77);!0x0!==this[_0x38be2c(0x8d3)]?.[_0x38be2c(0xa5d)]&&await this[_0x38be2c(0x201)](_0x532add),_0xb8b103[_0x38be2c(0x5d3)](_0x474c1d[_0x38be2c(0x539)],{'type':_0x38be2c(0x741),'label':this[_0x38be2c(0x73a)],'nodeId':this[_0x38be2c(0xaa8)][_0x38be2c(0x27e)](),'nodeType':this[_0x38be2c(0xaa8)]['type'],'clusterId':this[_0x38be2c(0x4a0)],'kind':_0x5655b6,'path':_0x22c033,'newPath':_0x104d77}),this['writes']+=0x1,this[_0x38be2c(0x61d)]();}catch(_0xb6936f){if(_0xb6936f instanceof _0x44727e)throw new _0x2c2152(_0x3608be[_0x38be2c(0xa41)],_0x38be2c(0x4ef));throw new _0x2c2152(_0x3608be['ObjectStoreInvalidPath'],_0x38be2c(0x40c)+_0x22c033);}}async[_0x49e620(0x8dc)](_0x21f0f6,_0x51cec6=!0x1){const _0x573aaa=_0x49e620;if(this[_0x573aaa(0x3b5)]&&_0x21f0f6[_0x573aaa(0x886)]!==this[_0x573aaa(0x3b5)]&&_0x21f0f6['id']!==this[_0x573aaa(0x3b5)]){if(!_0x21f0f6[_0x573aaa(0x886)])throw new _0x44727e(_0x44727e['codes'][_0x573aaa(0xb2b)]);this['pendingSyncTransactions'][_0x573aaa(0x9fa)](_0x21f0f6[_0x573aaa(0x886)],_0x21f0f6);}else{try{await this[_0x573aaa(0x23b)](_0x21f0f6,_0x51cec6);}catch(_0x2597f7){}await this[_0x573aaa(0x751)](_0x21f0f6['id']),await this['processPendingSyncTransactions'](_0x21f0f6['id'],_0x51cec6);}}async[_0x49e620(0x23b)](_0x3f1dba,_0x4d9413=!0x1){const _0x33c559=_0x49e620;switch(_0x3f1dba['action']){case _0x569d4f[_0x33c559(0x41a)]:await this[_0x33c559(0x20d)](_0x3f1dba);break;case _0x569d4f[_0x33c559(0xb21)]:await this[_0x33c559(0x68e)](_0x3f1dba);break;case _0x569d4f[_0x33c559(0x2cf)]:await this[_0x33c559(0x5ca)](_0x3f1dba,_0x4d9413);break;case _0x569d4f[_0x33c559(0x596)]:await this['handleObjectDelete'](_0x3f1dba,_0x4d9413);break;default:throw new _0x44727e(_0x44727e[_0x33c559(0x849)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x3f1dba});}}async[_0x49e620(0x293)](_0x1a6e55,_0x320d4f=!0x1){const _0x2f344f=_0x49e620;if(this[_0x2f344f(0x312)][_0x2f344f(0x29d)](_0x1a6e55)){const _0x388bd4=this[_0x2f344f(0x312)][_0x2f344f(0x680)](_0x1a6e55);this['pendingSyncTransactions'][_0x2f344f(0x55f)](_0x1a6e55),await this[_0x2f344f(0x8dc)](_0x388bd4,_0x320d4f);}}async[_0x49e620(0x714)](_0x3599e1){const _0x29d6a2=_0x49e620;switch(_0x3599e1['action']){case _0x569d4f[_0x29d6a2(0x8d8)]:return this['handleFileRequest'](_0x3599e1);case _0x569d4f[_0x29d6a2(0x69e)]:return this[_0x29d6a2(0x727)](_0x3599e1);case _0x569d4f['RequestFileSync']:return this[_0x29d6a2(0x498)](_0x3599e1);case _0x569d4f[_0x29d6a2(0x345)]:return this['handleFileWrite'](_0x3599e1);default:throw new _0x44727e(_0x44727e[_0x29d6a2(0x849)][_0x29d6a2(0xb2b)],{'payload':_0x3599e1});}}async[_0x49e620(0x20d)](_0x2bfd84,_0x22b5e3=0x0){const _0x4f4b3b=_0x49e620,_0x15ff00=_0x295bf5(_0x2bfd84[_0x4f4b3b(0x1f0)],_0x2bfd84[_0x4f4b3b(0x9b3)]);if(!_0x2bfd84[_0x4f4b3b(0x7b6)]||void 0x0===_0x2bfd84['index']||!_0x2bfd84[_0x4f4b3b(0x845)])return this['fileChunks'][_0x4f4b3b(0x55f)](_0x15ff00),void await this[_0x4f4b3b(0x4d4)](_0x2bfd84[_0x4f4b3b(0x9b3)],_0x2bfd84[_0x4f4b3b(0x1f0)],{'checksum':_0x2bfd84[_0x4f4b3b(0x4cf)],'skipEncryption':_0x2bfd84[_0x4f4b3b(0x938)]});if(this['fileChunks']['has'](_0x15ff00)){const _0x2475f1=this[_0x4f4b3b(0x918)][_0x4f4b3b(0x680)](_0x15ff00);_0x2475f1[_0x4f4b3b(0x4cf)]!==_0x2bfd84[_0x4f4b3b(0x4cf)]&&(_0x2475f1['stream']?.[_0x4f4b3b(0x5c2)](),this['fileChunks'][_0x4f4b3b(0x55f)](_0x15ff00));}if(!this['fileChunks'][_0x4f4b3b(0x29d)](_0x15ff00)){try{await this[_0x4f4b3b(0xa7b)][_0x4f4b3b(0x296)](_0x15ff00);}catch(_0x216581){}try{const _0x2bc3aa=this['syncContent']?await this[_0x4f4b3b(0xa7b)][_0x4f4b3b(0xaa0)](_0x15ff00,{'skipEncryption':_0x2bfd84[_0x4f4b3b(0x938)]}):void 0x0,_0x25246b={'chunksReceived':_0x2bfd84[_0x4f4b3b(0x957)]??0x0,'bytesReceived':0x0,'stream':_0x2bc3aa,'checksum':_0x2bfd84['checksum']};this[_0x4f4b3b(0x918)][_0x4f4b3b(0x9fa)](_0x15ff00,_0x25246b),await this[_0x4f4b3b(0x4d4)](_0x2bfd84[_0x4f4b3b(0x9b3)],_0x2bfd84[_0x4f4b3b(0x1f0)],{'checksum':_0x2bfd84[_0x4f4b3b(0x4cf)],'skipEncryption':_0x2bfd84['skipEncryption']});}catch(_0x5d46a7){}}const _0x356384=this['fileChunks'][_0x4f4b3b(0x680)](_0x15ff00);if(_0x2bfd84[_0x4f4b3b(0x4cf)]!==_0x356384['checksum'])return;if(this[_0x4f4b3b(0x657)](_0x2bfd84,_0x15ff00),this[_0x4f4b3b(0x9f5)]){if(!_0x356384[_0x4f4b3b(0x672)])throw new _0x44727e(_0x44727e[_0x4f4b3b(0x849)][_0x4f4b3b(0xb2b)],{'message':_0x4f4b3b(0x2ee)});let _0x51b130=_0x356384[_0x4f4b3b(0x497)];if(_0x2bfd84['index']!==_0x51b130){if(_0x51b130>_0x2bfd84[_0x4f4b3b(0x6d0)])return;const _0x3ea85d=0x1000;if(_0x2bfd84[_0x4f4b3b(0x6d0)]>_0x51b130+_0x3ea85d)return;if(_0x356384[_0x4f4b3b(0x204)]||(_0x356384[_0x4f4b3b(0x204)]=[]),_0x356384[_0x4f4b3b(0x204)]['length']>0x4000)throw this[_0x4f4b3b(0x918)][_0x4f4b3b(0x55f)](_0x15ff00),new _0x44727e(_0x44727e[_0x4f4b3b(0x849)][_0x4f4b3b(0xb2b)],{'message':'Buffered\x20chunks\x20are\x20too\x20large'});return void _0x356384[_0x4f4b3b(0x204)]['push'](_0x2bfd84);}try{_0x356384['chunksReceived']+=0x1,_0x356384[_0x4f4b3b(0x81f)]+=_0x2bfd84['data'][_0x4f4b3b(0x1df)],await _0x356384['stream'][_0x4f4b3b(0xa62)](_0x2bfd84[_0x4f4b3b(0x7b6)]);}catch(_0x329f1e){if(console['error'](_0x4f4b3b(0xaf0),_0x329f1e),_0x22b5e3>0x3)throw this[_0x4f4b3b(0x918)][_0x4f4b3b(0x55f)](_0x15ff00),console[_0x4f4b3b(0x528)](_0x4f4b3b(0xa72),_0x329f1e),new _0x44727e(_0x44727e[_0x4f4b3b(0x849)][_0x4f4b3b(0xb2b)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream'});return this['handleFileWrite'](_0x2bfd84,_0x22b5e3+0x1);}}try{await this[_0x4f4b3b(0x940)](_0x356384,_0x2bfd84[_0x4f4b3b(0x6d0)]+0x1);}catch(_0x4d558e){throw this[_0x4f4b3b(0x918)][_0x4f4b3b(0x55f)](_0x15ff00),_0x4d558e;}if(this[_0x4f4b3b(0x918)][_0x4f4b3b(0x9fa)](_0x15ff00,_0x356384),_0x356384[_0x4f4b3b(0x497)]<_0x2bfd84[_0x4f4b3b(0x845)])return;await this[_0x4f4b3b(0x88d)](_0x15ff00),this['syncContent']&&(await this[_0x4f4b3b(0xadd)](_0x2bfd84),_0xb8b103[_0x4f4b3b(0x5d3)](_0x474c1d[_0x4f4b3b(0x539)],{'type':_0x4f4b3b(0x7b3),'label':this[_0x4f4b3b(0x73a)],'nodeId':this['localNode'][_0x4f4b3b(0x27e)](),'nodeType':this['localNode'][_0x4f4b3b(0x70f)],'clusterId':this['clusterId'],'kind':_0x596e17[_0x4f4b3b(0x289)][_0x4f4b3b(0x9b7)],'path':_0x2bfd84['path'],'fileName':_0x2bfd84[_0x4f4b3b(0x9b3)],'fileType':_0x2bfd84[_0x4f4b3b(0x70f)],'size':_0x356384[_0x4f4b3b(0x81f)]}));const _0x5dba2a=this['pendingFilesTransactions'][_0x4f4b3b(0x680)](_0x2bfd84[_0x4f4b3b(0x1f0)])??[];for(const _0x141c0e of _0x5dba2a)await this['processTransactionPayload'](_0x141c0e);this[_0x4f4b3b(0x858)][_0x4f4b3b(0x55f)](_0x2bfd84[_0x4f4b3b(0x1f0)]),this['eventListener'][_0x4f4b3b(0x544)]({'event':_0x596e17[_0x4f4b3b(0x3d6)]['FileWrite'],'payload':{'file':{'kind':_0x596e17[_0x4f4b3b(0x289)][_0x4f4b3b(0x9b7)],'path':_0x2bfd84['path'],'type':_0x2bfd84[_0x4f4b3b(0x70f)],'size':_0x356384[_0x4f4b3b(0x81f)],'name':_0x2bfd84[_0x4f4b3b(0x9b3)],'pathName':_0x15ff00,'status':this[_0x4f4b3b(0x9f5)]?_0x596e17[_0x4f4b3b(0x1d0)][_0x4f4b3b(0xac9)]:_0x596e17[_0x4f4b3b(0x1d0)][_0x4f4b3b(0x8f6)]}}}),this['sendStats']();}async[_0x49e620(0x940)](_0x179c3e,_0xc6e4ff){const _0x21fbe2=_0x49e620,_0x16f6dc=_0x179c3e[_0x21fbe2(0x672)];let _0x27ca4f=0x0;for(;_0x179c3e[_0x21fbe2(0x204)]&&_0x179c3e[_0x21fbe2(0x204)][_0x21fbe2(0x8bc)]>0x0;){const _0x1f68c7=_0x179c3e[_0x21fbe2(0x204)][_0x21fbe2(0x94a)](_0x3cbdff=>_0x3cbdff[_0x21fbe2(0x6d0)]===_0xc6e4ff+0x1);if(!_0x1f68c7)break;_0x179c3e[_0x21fbe2(0x204)]=_0x179c3e[_0x21fbe2(0x204)][_0x21fbe2(0x9e5)](_0x1f7f35=>_0x1f7f35['index']!==_0xc6e4ff+0x1);try{await _0x16f6dc[_0x21fbe2(0xa62)](_0x1f68c7[_0x21fbe2(0x7b6)]),_0xc6e4ff++;}catch(_0xd07fcd){if(console['error'](_0x21fbe2(0x8b9),_0xd07fcd),_0x27ca4f>0x3)throw console[_0x21fbe2(0x528)]('Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream',_0xd07fcd),new _0x44727e(_0x44727e[_0x21fbe2(0x849)][_0x21fbe2(0xb2b)],{'message':_0x21fbe2(0x5ac)});_0x27ca4f++;continue;}_0x179c3e[_0x21fbe2(0x497)]+=0x1,_0x179c3e[_0x21fbe2(0x81f)]+=_0x1f68c7[_0x21fbe2(0x7b6)][_0x21fbe2(0x1df)];}}async[_0x49e620(0x68e)](_0x5525a8){const _0x3e5206=_0x49e620;await this[_0x3e5206(0xa7b)][_0x3e5206(0x739)](_0x5525a8['path']);const [_0x1c12c8,_0x1d8e23]=_0x2d2fae(_0x5525a8['path']);this[_0x3e5206(0x34b)][_0x3e5206(0x544)]({'event':_0x596e17['StorageEventType']['FolderCreate'],'payload':{'folder':{'kind':_0x596e17[_0x3e5206(0x289)][_0x3e5206(0x2af)],'name':_0x1d8e23,'path':_0x1c12c8,'pathName':_0x5525a8['path']}}});}async[_0x49e620(0x8b4)](_0x467c15,_0x53f10e=!0x1){const _0x5465c0=_0x49e620;if(!_0x53f10e&&!this[_0x5465c0(0x569)](_0x467c15))return;const _0x4cbc29=await this[_0x5465c0(0x296)](_0x467c15[_0x5465c0(0x1f0)]),[_0x219802,_0x4b30d3]=_0x2d2fae(_0x467c15[_0x5465c0(0x1f0)]);this[_0x5465c0(0x34b)][_0x5465c0(0x544)]({'event':_0x4cbc29===_0x596e17[_0x5465c0(0x289)][_0x5465c0(0x2af)]?_0x596e17[_0x5465c0(0x3d6)][_0x5465c0(0x782)]:_0x596e17['StorageEventType']['FileDelete'],'payload':{'name':_0x4b30d3,'path':_0x219802,'pathName':_0x467c15[_0x5465c0(0x1f0)]}}),this[_0x5465c0(0x61d)]();}async[_0x49e620(0x5ca)](_0x25031d,_0x2f7995=!0x1){const _0x480f7d=_0x49e620;if(!_0x2f7995&&!this['shouldProcessTransaction'](_0x25031d))return this[_0x480f7d(0x8d6)][_0x480f7d(0x9fa)](_0x25031d[_0x480f7d(0x270)],this['pendingFilesRename'][_0x480f7d(0x680)](_0x25031d[_0x480f7d(0x1f0)])??_0x25031d[_0x480f7d(0x1f0)]),void this[_0x480f7d(0x8d6)][_0x480f7d(0x55f)](_0x25031d[_0x480f7d(0x1f0)]);this[_0x480f7d(0x8d6)][_0x480f7d(0x55f)](_0x25031d['path']);const _0x5601aa=await this[_0x480f7d(0xa7b)][_0x480f7d(0x638)](_0x25031d['path'],_0x25031d[_0x480f7d(0x270)]),[_0x22410f,_0x548562]=_0x2d2fae(_0x25031d[_0x480f7d(0x1f0)]),[_0x4cc574,_0x12a0fa]=_0x2d2fae(_0x25031d['newPath']);this['eventListener'][_0x480f7d(0x544)]({'event':_0x5601aa===_0x596e17[_0x480f7d(0x289)][_0x480f7d(0x2af)]?_0x596e17[_0x480f7d(0x3d6)][_0x480f7d(0x962)]:_0x596e17[_0x480f7d(0x3d6)][_0x480f7d(0xb1b)],'payload':{'name':_0x12a0fa,'path':_0x4cc574,'pathName':_0x25031d[_0x480f7d(0x270)],'oldName':_0x548562,'oldPath':_0x22410f,'oldPathName':_0x25031d[_0x480f7d(0x1f0)]}}),this[_0x480f7d(0x61d)]();}['shouldProcessTransaction'](_0x33b5a2){const _0x4bf436=_0x49e620,_0x32c648=this[_0x4bf436(0x8d6)][_0x4bf436(0x680)](_0x33b5a2[_0x4bf436(0x1f0)])??_0x33b5a2[_0x4bf436(0x1f0)];let _0x3743c1=!0x1;for(const _0x5782de of this['fileChunks']['keys']())if(_0x5782de['startsWith'](_0x32c648)){const _0x1f4579=this[_0x4bf436(0x858)][_0x4bf436(0x680)](_0x5782de)??[];_0x1f4579[_0x4bf436(0x6b8)](_0x33b5a2),this[_0x4bf436(0x858)][_0x4bf436(0x9fa)](_0x5782de,_0x1f4579),_0x3743c1=!0x0;}return!_0x3743c1;}async[_0x49e620(0x963)](_0x22b581){const _0x377920=_0x49e620;if(!this[_0x377920(0x8d3)]?.[_0x377920(0xa5d)]){if(!_0x22b581['id'])throw new _0x44727e(_0x44727e[_0x377920(0x849)][_0x377920(0xb2b)],{'message':'Missing\x20transaction\x20id'});if(_0x22b581['parentId']!==this[_0x377920(0x3b5)])throw new _0x44727e(_0x44727e['codes'][_0x377920(0x5c6)]);await this[_0x377920(0x925)][_0x377920(0x64f)](_0x22b581,this[_0x377920(0x73a)]),await this[_0x377920(0x751)](_0x22b581['id']);}}async['updateLastTransactionId'](_0x3a70c6){const _0x41f94d=_0x49e620;this[_0x41f94d(0x3b5)]=_0x3a70c6;const _0x2c047f=new File([new Blob([this[_0x41f94d(0x3b5)]])],_0x747f64,{'type':_0x41f94d(0x461)});await this['writeFile'](_0x2c047f,'/');}async[_0x49e620(0x6b4)](_0x423e2d){const _0x2f7444=_0x49e620;try{const _0x25ce6a=await this['get'](_0x423e2d[_0x2f7444(0x1f0)]+'/'+_0x423e2d[_0x2f7444(0x9b3)],{'skipEncryption':_0x423e2d[_0x2f7444(0x938)]}),_0x467dfc=await _0x1728fc(_0x25ce6a);if(''!==_0x423e2d['checksum']&&_0x467dfc!==_0x423e2d[_0x2f7444(0x4cf)])return;_0x423e2d[_0x2f7444(0x983)]=this['localNode'][_0x2f7444(0x27e)](),_0x423e2d[_0x2f7444(0xaa7)]=_0x569d4f[_0x2f7444(0x69e)],await this[_0x2f7444(0x201)](_0x423e2d,[_0x423e2d[_0x2f7444(0x4b4)]]);}catch(_0x47c728){}}async['handleFileRequestAnswer'](_0x5b09bf){const _0x1db4dc=_0x49e620,_0xdbcce=_0x295bf5(_0x5b09bf['path'],_0x5b09bf[_0x1db4dc(0x9b3)]);if(!this[_0x1db4dc(0x27f)][_0x1db4dc(0x29d)](_0xdbcce))return;const _0x58875a=this[_0x1db4dc(0x27f)][_0x1db4dc(0x680)](_0xdbcce);_0x58875a[_0x1db4dc(0xaa7)]=_0x569d4f[_0x1db4dc(0x510)];const _0x5509a2=_0x5b09bf[_0x1db4dc(0x983)];if(!_0x5509a2)throw new _0x44727e(_0x44727e[_0x1db4dc(0x849)][_0x1db4dc(0xb2b)],{'message':_0x1db4dc(0xa3c)});if(this[_0x1db4dc(0x27f)][_0x1db4dc(0x55f)](_0xdbcce),this[_0x1db4dc(0x5e5)][_0x1db4dc(0x29d)](_0x5509a2)||this['pendingFilesSyncing'][_0x1db4dc(0x9fa)](_0x5509a2,new Map()),this[_0x1db4dc(0x5e5)][_0x1db4dc(0x680)](_0x5509a2)[_0x1db4dc(0x9fa)](_0xdbcce,[_0x58875a,this[_0x1db4dc(0x4d7)](_0x5509a2,_0xdbcce)]),_0x58875a[_0x1db4dc(0x983)]=_0x5509a2,_0x58875a['startIndex']=this[_0x1db4dc(0x918)]['get'](_0xdbcce)?.[_0x1db4dc(0x497)]??0x0,0x0===_0x58875a[_0x1db4dc(0x957)])try{const [_0x330e7c,_0x27b7d4]=await this[_0x1db4dc(0x32d)](_0x5b09bf[_0x1db4dc(0x9b3)],_0x5b09bf[_0x1db4dc(0x1f0)],_0x5b09bf[_0x1db4dc(0x4cf)]);_0x330e7c&&(_0x58875a[_0x1db4dc(0x957)]=_0x27b7d4);}catch(_0x512d90){}this[_0x1db4dc(0x201)](_0x58875a,[_0x5509a2]);}async[_0x49e620(0x498)](_0x424fc5){const _0x5d3dab=_0x49e620,_0x137f76=_0x295bf5(_0x424fc5[_0x5d3dab(0x1f0)],_0x424fc5[_0x5d3dab(0x9b3)]),_0x12bbe2=await this[_0x5d3dab(0x680)](_0x137f76,{'skipEncryption':_0x424fc5[_0x5d3dab(0x938)]}),_0x49138f={..._0x424fc5,'answererId':this[_0x5d3dab(0xaa8)][_0x5d3dab(0x27e)](),'action':_0x569d4f[_0x5d3dab(0x345)],'startIndex':_0x424fc5['startIndex']??0x0};await this[_0x5d3dab(0x790)](_0x12bbe2,_0x49138f,[_0x424fc5[_0x5d3dab(0x4b4)]]);}async['sendFile'](_0x24a29b,_0x217ca3,_0xeb350c){let _0x272ff1,_0x4dff6d;const _0x4cecf8=new Promise(async(_0x24288f,_0x1718d1)=>{_0x272ff1=_0x24288f,_0x4dff6d=_0x1718d1;});return((async()=>{const _0x2bffc6=a0_0x2367,_0x83416b=Math[_0x2bffc6(0xa58)](_0x24a29b[_0x2bffc6(0x65a)]/_0x1e684a);let _0x178450=_0x217ca3['startIndex']??0x0;const _0x3c6e86=_0x295bf5(_0x217ca3[_0x2bffc6(0x1f0)],_0x217ca3[_0x2bffc6(0x9b3)]);this[_0x2bffc6(0x483)][_0x2bffc6(0x9fa)](_0x3c6e86,[!0x1,_0x4cecf8]);for await(const _0x25ce4c of async function*(_0x31e548,_0x43f4b4=0x0,_0x18ed00){for await(const _0x38c520 of _0x57268a(_0x31e548,_0x43f4b4,_0x18ed00))yield _0x38c520;}(_0x24a29b,_0x178450,this[_0x2bffc6(0x50c)])){const [_0x2f06f0]=this[_0x2bffc6(0x483)][_0x2bffc6(0x680)](_0x3c6e86)??[];if(_0x2f06f0)return this[_0x2bffc6(0x483)][_0x2bffc6(0x55f)](_0x3c6e86),void _0x4dff6d(new Error(_0x2bffc6(0x46d)));if(this['pendingFilesTransactions'][_0x2bffc6(0x29d)](_0x3c6e86)){const _0x49ff12=this['pendingFilesTransactions'][_0x2bffc6(0x680)](_0x3c6e86);for(const _0x2586a3 of _0x49ff12)if(_0x2586a3['action']===_0x569d4f[_0x2bffc6(0x41a)]||_0x2586a3[_0x2bffc6(0xaa7)]===_0x569d4f[_0x2bffc6(0x596)])return;}const _0x5575fd={..._0x217ca3,'type':_0x24a29b[_0x2bffc6(0x70f)],'data':_0x25ce4c,'index':_0x178450,'total':_0x83416b};this[_0x2bffc6(0x201)](_0x5575fd,_0xeb350c),_0x178450++;}const _0x117b1d=setInterval(async()=>{const _0x31f28c=_0x2bffc6;await this[_0x31f28c(0x50c)]()>0x0||(clearInterval(_0x117b1d),_0x272ff1());});this[_0x2bffc6(0x483)][_0x2bffc6(0x55f)](_0x3c6e86);})()),_0x4cecf8;}async[_0x49e620(0xadd)](_0x16c709){const _0x158252=_0x49e620;try{const _0x5b8627=_0x295bf5(_0x16c709[_0x158252(0x1f0)],_0x16c709[_0x158252(0x9b3)]),_0xf6ea27=_0x5b8627+_0x5343e9;await this['deleteObject'](_0xf6ea27);const [,_0x1bf5fc]=this[_0x158252(0x5e5)][_0x158252(0x680)](_0x16c709[_0x158252(0x983)])?.[_0x158252(0x680)](_0x5b8627)??[];_0x1bf5fc&&(clearTimeout(_0x1bf5fc),this['pendingFilesSyncing'][_0x158252(0x680)](_0x16c709[_0x158252(0x983)])[_0x158252(0x55f)](_0x5b8627));}catch(_0x1040ea){}0x0===this[_0x158252(0x5e5)][_0x158252(0x680)](_0x16c709['answererId'])?.[_0x158252(0x65a)]&&this[_0x158252(0x5e5)][_0x158252(0x55f)](_0x16c709[_0x158252(0x983)]),0x0===this[_0x158252(0x5e5)][_0x158252(0x65a)]&&0x0===this[_0x158252(0x27f)][_0x158252(0x65a)]&&this[_0x158252(0x6cf)]();}async[_0x49e620(0x99d)](){const _0x1f2070=_0x49e620;try{const _0x382c9c=await this['transactionService'][_0x1f2070(0xb5b)](this[_0x1f2070(0x73a)],this[_0x1f2070(0x3b5)]);for(const _0x2ecbca of _0x382c9c)await this['handleTransactionPayload'](_0x2ecbca,!0x0);}catch(_0x13b689){if(_0x13b689 instanceof _0x44727e&&_0x13b689[_0x1f2070(0x283)]===_0x44727e[_0x1f2070(0x849)][_0x1f2070(0x487)]){await this[_0x1f2070(0xa7b)][_0x1f2070(0x296)](_0x747f64),delete this['lastTransactionId'];try{const _0xdb95d9=await this[_0x1f2070(0xa7b)]['list']('/',!0x1);for(const _0x36d7b3 of _0xdb95d9)await this[_0x1f2070(0xa7b)]['deleteObject'](_0x36d7b3[_0x1f2070(0x9e1)]);}catch(_0x1a184a){}return await this[_0x1f2070(0x99d)]();}throw _0x13b689;}}async['syncPendingFiles'](){const _0x5dad56=_0x49e620,_0x54eea3=await this[_0x5dad56(0x463)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x1ef67f=async _0x23dfa5=>{const _0x9c7cd4=_0x5dad56;for(const _0x124444 of _0x23dfa5){if(_0x124444[_0x9c7cd4(0xa7a)]===_0x596e17['ObjectKind'][_0x9c7cd4(0x2af)]){_0x124444[_0x9c7cd4(0xa33)]&&_0x124444[_0x9c7cd4(0xa33)][_0x9c7cd4(0x8bc)]>0x0&&await _0x1ef67f(_0x124444['entries']);continue;}if(_0x124444['status']!==_0x596e17[_0x9c7cd4(0x1d0)][_0x9c7cd4(0x8f6)])continue;const _0x49dc91=await this[_0x9c7cd4(0x680)](_0x124444['pathName']+_0x5343e9),_0x33ed83=JSON[_0x9c7cd4(0x7b5)](await _0x49dc91[_0x9c7cd4(0x656)]()),_0x5b8936=_0x124444[_0x9c7cd4(0x9b3)][_0x9c7cd4(0x416)](_0x5343e9,''),_0x3982c2={'payloadType':_0x5c8aa6[_0x9c7cd4(0xb1a)],'action':_0x569d4f['RequestFile'],'sourceId':this[_0x9c7cd4(0xaa8)]['getId'](),'type':'','path':_0x124444[_0x9c7cd4(0x1f0)],'name':_0x5b8936,'checksum':_0x33ed83[_0x9c7cd4(0x4cf)],'skipEncryption':_0x33ed83[_0x9c7cd4(0x938)]},_0x1512f9=_0x295bf5(_0x124444[_0x9c7cd4(0x1f0)],_0x5b8936);this[_0x9c7cd4(0x27f)][_0x9c7cd4(0x9fa)](_0x1512f9,_0x3982c2);}};await _0x1ef67f(_0x54eea3),0x0===this[_0x5dad56(0x27f)][_0x5dad56(0x65a)]&&0x0===this['pendingFilesSyncing'][_0x5dad56(0x65a)]&&this['completeSync']();}async['createPendingFileWrite'](_0x2e2263,_0x4764c8,_0x20e517){const _0xa81ed9=_0x49e620,_0x542ded=new File([new Blob([JSON['stringify'](_0x20e517)])],''+_0x2e2263+_0x5343e9,{'type':_0xa81ed9(0x461)});await this[_0xa81ed9(0x4c5)](_0x542ded,_0x4764c8);}async[_0x49e620(0x32d)](_0x2f0ddd,_0x3138b6,_0x113e28){const _0x5388a2=_0x49e620;try{const _0x2d78e0=_0x295bf5(_0x3138b6,_0x2f0ddd),_0x46f3a5=_0x2d78e0+_0x5343e9,_0x2e1c83=await this[_0x5388a2(0xa7b)][_0x5388a2(0x680)](_0x46f3a5),{checksum:_0x39d4ec,skipEncryption:_0x25c31d}=JSON['parse'](await _0x2e1c83[_0x5388a2(0x656)]()),_0x2c5e47=(await this[_0x5388a2(0xa7b)]['get'](_0x2d78e0,{'skipEncryption':_0x25c31d}))['size'];return _0x39d4ec===_0x113e28&&_0x2c5e47%_0x1e684a==0x0?[!0x0,Math['round'](_0x2c5e47/_0x1e684a)]:(await this[_0x5388a2(0xa7b)][_0x5388a2(0x296)](_0x2d78e0),[!0x1,0x0]);}catch(_0x24177f){return[!0x1,0x0];}}['getOrResetPendingFileTimeout'](_0x4e773f,_0x445afb){const _0x42b394=_0x49e620,[_0x53e32c,_0x5f2a7a]=this[_0x42b394(0x5e5)][_0x42b394(0x680)](_0x4e773f)?.[_0x42b394(0x680)](_0x445afb)??[];return _0x5f2a7a&&clearTimeout(_0x5f2a7a),setTimeout(()=>{const _0x37f15a=_0x42b394,[_0x29e0d6,_0xd435f1]=this[_0x37f15a(0x5e5)][_0x37f15a(0x680)](_0x4e773f)[_0x37f15a(0x680)](_0x445afb);this[_0x37f15a(0x342)](_0x29e0d6,_0xd435f1);},0x927c0);}async[_0x49e620(0x342)](_0x3b9306,_0x25fae5){const _0x49ed13=_0x49e620;clearTimeout(_0x25fae5),_0x3b9306[_0x49ed13(0xaa7)]=_0x569d4f[_0x49ed13(0x8d8)],this[_0x49ed13(0x27f)][_0x49ed13(0x9fa)](_0x295bf5(_0x3b9306[_0x49ed13(0x1f0)],_0x3b9306[_0x49ed13(0x9b3)]),_0x3b9306),this[_0x49ed13(0x201)](_0x3b9306);}[_0x49e620(0x657)](_0x548857,_0x21c1e1){const _0x2ca18c=_0x49e620;if(!this[_0x2ca18c(0x9f5)])return;this[_0x2ca18c(0x5e5)][_0x2ca18c(0x29d)](_0x548857[_0x2ca18c(0x983)])||this[_0x2ca18c(0x5e5)]['set'](_0x548857['answererId'],new Map());const [_0x3cfa22]=this[_0x2ca18c(0x5e5)][_0x2ca18c(0x680)](_0x548857[_0x2ca18c(0x983)])[_0x2ca18c(0x680)](_0x21c1e1)??[{'payloadType':_0x5c8aa6['Request'],'action':_0x569d4f[_0x2ca18c(0x8d8)],'sourceId':this['localNode'][_0x2ca18c(0x27e)](),'type':_0x548857[_0x2ca18c(0x70f)],'name':_0x548857[_0x2ca18c(0x9b3)],'path':_0x548857['path'],'skipEncryption':_0x548857['skipEncryption'],'checksum':_0x548857['checksum'],'answererId':_0x548857[_0x2ca18c(0x983)]}];this[_0x2ca18c(0x5e5)][_0x2ca18c(0x680)](_0x548857[_0x2ca18c(0x983)])['set'](_0x21c1e1,[_0x3cfa22,this[_0x2ca18c(0x4d7)](_0x548857[_0x2ca18c(0x983)],_0x21c1e1)]);}async[_0x49e620(0x4c5)](_0x2fe4af,_0x516b39,_0x8574a3){const _0x27e5a3=_0x49e620;this['isSyncing']&&(this['filesSynced']+=0x1),await this[_0x27e5a3(0xa7b)][_0x27e5a3(0x4c5)](_0x2fe4af,_0x516b39,_0x8574a3);}async[_0x49e620(0x296)](_0x21016b){const _0x38916d=_0x49e620;try{const _0x57b4b5=await this['objectStoreConnector'][_0x38916d(0x296)](_0x21016b);if(!_0x21016b['endsWith'](_0x5343e9))try{await this['objectStoreConnector']['deleteObject'](_0x21016b+_0x5343e9);}catch(_0x3b6c47){}return this['isSyncing']&&_0x57b4b5===_0x596e17['ObjectKind'][_0x38916d(0x9b7)]&&(this['filesSynced']+=0x1),_0x57b4b5;}catch(_0x9248a5){return await this[_0x38916d(0xa7b)]['deleteObject'](_0x21016b+_0x5343e9);}}async['moveObject'](_0x225263,_0x208e2f){const _0x22e467=_0x49e620;try{const _0x257cfd=await this['objectStoreConnector'][_0x22e467(0x638)](_0x225263,_0x208e2f);if(!_0x225263[_0x22e467(0x24a)](_0x5343e9))try{await this[_0x22e467(0xa7b)]['moveObject'](_0x225263+_0x5343e9,_0x208e2f+_0x5343e9);}catch(_0x4d1634){}return _0x257cfd;}catch(_0x398fd2){return await this[_0x22e467(0xa7b)][_0x22e467(0x638)](_0x225263+_0x5343e9,_0x208e2f+_0x5343e9);}}['sendStats'](){const _0x4a16c6=_0x49e620;this[_0x4a16c6(0x83f)]&&clearTimeout(this[_0x4a16c6(0x83f)]),this[_0x4a16c6(0x83f)]=setTimeout(async()=>{const _0x44de7b=_0x4a16c6;delete this['debounceStats'];const _0x3de757=await this[_0x44de7b(0xa7b)][_0x44de7b(0xae9)]('/');this[_0x44de7b(0x321)]?.[_0x44de7b(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665['Content'],'content':{'type':_0xbc0bd6[_0x44de7b(0x9a8)],'label':this[_0x44de7b(0x73a)],'stats':{'timestamp':Date[_0x44de7b(0x4e4)](),'storage':_0x3de757,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x44de7b(0x4f0)],'bytesSent':this[_0x44de7b(0x604)],'bytesReceived':this[_0x44de7b(0x81f)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0xb8b103[_0x44de7b(0x3a1)](_0x474c1d[_0x44de7b(0x539)],'ccc'+this['clusterId']+'ccc'+this[_0x44de7b(0x73a)],_0x3de757);},_0x4f3413);}async['syncedFileExists'](_0x57b920){const _0x19b6f9=_0x49e620;try{return await this[_0x19b6f9(0x680)](_0x57b920),!0x0;}catch(_0x1b3b58){return!0x1;}}async[_0x49e620(0x88d)](_0x582f4a){const _0x3ff675=_0x49e620;if(!this['fileChunks'][_0x3ff675(0x29d)](_0x582f4a))return;const _0x69bb38=this[_0x3ff675(0x918)][_0x3ff675(0x680)](_0x582f4a);if(_0x69bb38[_0x3ff675(0x672)])try{await _0x69bb38[_0x3ff675(0x672)]['close']();}catch(_0x3922ef){console['error'](_0x3ff675(0x598),_0x3922ef);}this[_0x3ff675(0x918)][_0x3ff675(0x55f)](_0x582f4a);}}class _0x446dcc extends _0x2cad14{[_0x49e620(0xaa8)];['clusterId'];['unsubscribeHandler']=new Map();[_0x49e620(0x83f)];constructor(_0x4bba7e,_0x42959b,_0x382576){const _0x1193e1=_0x49e620;if(_0x1193e1(0xaba)!=typeof _0x42959b)throw new _0x2c2152(_0x3608be['PubSubTopicNameNotString'],_0x1193e1(0xa29));super(_0x4bba7e,_0x42959b),this[_0x1193e1(0xaa8)]=_0x4bba7e,this[_0x1193e1(0x4a0)]=_0x382576,this[_0x1193e1(0x61d)]();}[_0x49e620(0x8a0)](){this['sendStats']();}[_0x49e620(0x9e2)](){const _0x309b43=_0x49e620;return _0x596e17[_0x309b43(0x7dd)]['PubSub'];}['publish'](_0x75093c,_0x3d81b9){const _0x4a20b8=_0x49e620;_0xb8b103[_0x4a20b8(0xad5)](_0xad09e4[_0x4a20b8(0x600)],_0x4a20b8(0x808),this[_0x4a20b8(0xaa8)][_0x4a20b8(0x27e)](),_0x75093c,_0x3d81b9),_0xb8b103[_0x4a20b8(0x5d3)](_0x474c1d[_0x4a20b8(0x600)],{'type':_0x4a20b8(0x544),'label':this[_0x4a20b8(0x73a)],'nodeId':this[_0x4a20b8(0xaa8)][_0x4a20b8(0x27e)](),'nodeType':this['localNode'][_0x4a20b8(0x70f)],'clusterId':this[_0x4a20b8(0x4a0)],'remoteIds':_0x3d81b9??[],'contentType':_0x75093c instanceof File?_0x596e17[_0x4a20b8(0x7dd)][_0x4a20b8(0x9b7)]:_0x596e17[_0x4a20b8(0x7dd)][_0x4a20b8(0x6cd)],'size':_0x75093c instanceof File?_0x75093c[_0x4a20b8(0x65a)]:JSON[_0x4a20b8(0x273)](_0x75093c)[_0x4a20b8(0x8bc)]}),this[_0x4a20b8(0x61d)](),this['send'](_0x75093c,_0x3d81b9);}[_0x49e620(0xa34)](_0x31439d,_0x148780){const _0x48a3ca=_0x49e620;if(this['unsubscribeHandler'][_0x48a3ca(0x29d)](_0x31439d))throw new _0x2c2152(_0x3608be[_0x48a3ca(0x2f0)],_0x48a3ca(0x4b2));this[_0x48a3ca(0xa1b)][_0x48a3ca(0x9fa)](_0x31439d,this['onMessage']((_0x133d4e,_0x2388ef)=>{const _0xc4aa05=_0x48a3ca;'data'===_0x31439d&&_0x2388ef instanceof File||!(_0xc4aa05(0x43e)!==_0x31439d||_0x2388ef instanceof File)||(_0xb8b103['log'](_0xad09e4[_0xc4aa05(0x600)],_0xc4aa05(0x943),this[_0xc4aa05(0xaa8)][_0xc4aa05(0x27e)](),_0x133d4e,_0x2388ef),_0xb8b103['logServiceEvent'](_0x474c1d[_0xc4aa05(0x600)],{'type':_0xc4aa05(0xa34),'label':this[_0xc4aa05(0x73a)],'nodeId':this[_0xc4aa05(0xaa8)][_0xc4aa05(0x27e)](),'nodeType':this['localNode']['type'],'clusterId':this[_0xc4aa05(0x4a0)],'remoteId':_0x133d4e,'contentType':_0x31439d,'size':_0x2388ef instanceof File?_0x2388ef['size']:JSON[_0xc4aa05(0x273)](_0x2388ef)[_0xc4aa05(0x8bc)]}),this[_0xc4aa05(0x61d)](),_0x148780(_0x133d4e,_0x2388ef));}));}['unsubscribe'](_0x4b83f2){const _0x2ca7eb=_0x49e620;this[_0x2ca7eb(0xa1b)]['get'](_0x4b83f2)?.(),this['unsubscribeHandler'][_0x2ca7eb(0x55f)](_0x4b83f2);}['destroy'](){const _0x59ef21=_0x49e620;this[_0x59ef21(0xa1b)]['forEach'](_0x326bbe=>_0x326bbe()),clearTimeout(this[_0x59ef21(0x83f)]),delete this[_0x59ef21(0x83f)],super['destroy']();}['close'](){const _0x1e1b04=_0x49e620;this[_0x1e1b04(0x321)]?.['publish']({'sourceId':_0x11f0c5,'messageType':_0x24f665['Content'],'content':{'type':_0xbc0bd6['ClosePubSubTopic'],'label':this[_0x1e1b04(0x73a)]}});}[_0x49e620(0x61d)](){const _0x4d7f0c=_0x49e620;this[_0x4d7f0c(0x83f)]&&clearTimeout(this['debounceStats']),this[_0x4d7f0c(0x83f)]=setTimeout(()=>{const _0x309b00=_0x4d7f0c;this[_0x309b00(0x321)]?.[_0x309b00(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665['Content'],'content':{'type':_0xbc0bd6[_0x309b00(0x56b)],'label':this['label'],'stats':{'timestamp':Date[_0x309b00(0x4e4)](),'storage':0x0,'messagesSent':this[_0x309b00(0x631)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x309b00(0x604)],'bytesReceived':this[_0x309b00(0x81f)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x4f3413);}}class _0x4e7625 extends _0x2f021f{[_0x49e620(0xaa8)];[_0x49e620(0x1c9)];['availableTrackKinds'];[_0x49e620(0x4a0)];[_0x49e620(0xa1b)];[_0x49e620(0x819)];['updateDebounce'];[_0x49e620(0x535)]=new Map();[_0x49e620(0x271)];[_0x49e620(0x8d7)]=new Set();[_0x49e620(0x7c4)];[_0x49e620(0x7bf)]=_0x544609();[_0x49e620(0x5fb)]=new Map();constructor(_0x49f3eb,_0x2c096b,_0x20e052,_0x321902,_0xc4f498,_0x28f85b){const _0x2b4d65=_0x49e620;super(_0x2c096b,_0x20e052,new MediaStream()),this[_0x2b4d65(0xaa8)]=_0x49f3eb,this[_0x2b4d65(0x1c9)]=_0x321902,this['availableTrackKinds']=_0xc4f498,this[_0x2b4d65(0x4a0)]=_0x28f85b,this[_0x2b4d65(0x909)]['getTracks']()['forEach'](_0x3e4826=>this['setupTrackEndedListeners'](_0x3e4826));}[_0x49e620(0x1d5)](){const _0x34a19c=_0x49e620;this['outgoingStreams'][_0x34a19c(0x65a)]>0x0&&(this['outgoingStreams'][_0x34a19c(0x49b)](_0xe6ec75=>{const _0x3b11d5=_0x34a19c;_0xe6ec75[_0x3b11d5(0xa6a)](),_0xe6ec75[_0x3b11d5(0x1d5)]();}),this[_0x34a19c(0x535)][_0x34a19c(0x9c6)]()),this['trackEndedListeners']['forEach'](_0x1e0a79=>_0x1e0a79()),this['mediaStream'][_0x34a19c(0xb31)]()[_0x34a19c(0x49b)](_0x520fa4=>this[_0x34a19c(0x909)][_0x34a19c(0x79c)](_0x520fa4)),this['updateDebounce']&&(clearTimeout(this[_0x34a19c(0x4bd)]),delete this[_0x34a19c(0x4bd)]),this['resizeHandler']?.(),super[_0x34a19c(0x1d5)]();}[_0x49e620(0x733)](_0x3a4d6d){const _0x2ff55c=_0x49e620;this[_0x2ff55c(0xa1b)]=_0x3a4d6d['subscribe'](({content:_0x3c14de})=>{const _0x3156c0=_0x2ff55c;switch(_0x3c14de[_0x3156c0(0xaa7)]){case _0x294eae[_0x3156c0(0xa1a)]:if(_0xb8b103['log'](_0xad09e4[_0x3156c0(0x3f1)],_0x3156c0(0x8e6),this[_0x3156c0(0xaa8)][_0x3156c0(0x27e)](),this[_0x3156c0(0x7c4)]),_0x3c14de['stream']['id']!==this['internalId']||_0x3c14de[_0x3156c0(0x7c4)]!==this[_0x3156c0(0x7c4)])return;this[_0x3156c0(0x79c)](_0x3c14de[_0x3156c0(0x939)][_0x3156c0(0xa7a)]),this[_0x3156c0(0x909)][_0x3156c0(0x4f9)](_0x3c14de['track']);for(const [_0x2311ee,_0x5f549c]of this[_0x3156c0(0x535)][_0x3156c0(0xa33)]())try{_0x5f549c[_0x3156c0(0x4f9)](_0x3c14de[_0x3156c0(0x939)]);}catch(_0x1d8fc3){_0x5f549c[_0x3156c0(0x1d5)](),this[_0x3156c0(0x535)][_0x3156c0(0x55f)](_0x2311ee);}this[_0x3156c0(0x584)](_0x3c14de[_0x3156c0(0x939)]),this[_0x3156c0(0x3e1)](),_0x3156c0(0xa0f)===_0x3c14de[_0x3156c0(0x939)][_0x3156c0(0xa7a)]&&this[_0x3156c0(0x271)]&&(this[_0x3156c0(0x909)][_0x3156c0(0x62c)]?setTimeout(()=>this['renderElement']?.['play'](),0x0):setTimeout(()=>this[_0x3156c0(0x271)]?.[_0x3156c0(0x781)](),0x0),this[_0x3156c0(0x9a6)]());break;case _0x294eae['RemoteRemove']:if(_0x3c14de['stream']['id']!==this[_0x3156c0(0x1c9)]||_0x3c14de[_0x3156c0(0x7c4)]!==this[_0x3156c0(0x7c4)])return;this[_0x3156c0(0x79c)](_0x3c14de[_0x3156c0(0x939)][_0x3156c0(0xa7a)]),this[_0x3156c0(0x271)]&&_0x3156c0(0xa0f)===_0x3c14de[_0x3156c0(0x939)]['kind']&&(this[_0x3156c0(0x819)]?.(),this['mediaStream'][_0x3156c0(0xb31)]()[_0x3156c0(0x8bc)]>0x0?this[_0x3156c0(0x271)][_0x3156c0(0x781)]():this['renderElement'][_0x3156c0(0x4dc)]=null);}});}[_0x49e620(0x22a)](){const _0x175088=_0x49e620;this[_0x175088(0xa1b)]?.(),this[_0x175088(0x5fb)][_0x175088(0x49b)](_0x5c2e17=>_0x5c2e17()),delete this[_0x175088(0xa1b)];}['getInternalStreamId'](){const _0x2906d9=_0x49e620;return this[_0x2906d9(0x1c9)];}[_0x49e620(0x698)](_0x2a65a7){const _0x2dc2fa=_0x49e620;this[_0x2dc2fa(0x1c9)]=_0x2a65a7;}[_0x49e620(0x217)](){const _0x5ab74a=_0x49e620;return this[_0x5ab74a(0x66e)];}[_0x49e620(0x5ef)](_0x424ddd){const _0x328378=_0x49e620;for(const _0x168dc8 of _0x424ddd||this[_0x328378(0x66e)])if(!this['mediaStream']['getTracks']()[_0x328378(0x94a)](_0x7e5fa4=>_0x7e5fa4[_0x328378(0xa7a)]===_0x168dc8))return!0x1;return!0x0;}[_0x49e620(0xb20)](){const _0x93a2e5=_0x49e620;let _0x16dbc2={'width':0x0,'height':0x0};const _0x10dc40=this[_0x93a2e5(0x909)]['getVideoTracks']();if(_0x10dc40[_0x93a2e5(0x8bc)]>0x0){const _0x5351d7=_0x10dc40[0x0]['getSettings']();_0x5351d7['width']&&_0x5351d7['height']&&(_0x16dbc2={'width':_0x5351d7['width'],'height':_0x5351d7['height']});}return _0x16dbc2;}[_0x49e620(0x2b8)](_0x180505){const _0x15f98a=_0x49e620;for(const _0x319838 of _0x180505)if(!this[_0x15f98a(0x8d7)][_0x15f98a(0x29d)](_0x319838))return!0x1;return!0x0;}[_0x49e620(0x56a)](_0x58bbed,_0x47c5dc){const _0x19cd9a=_0x49e620;if(!this[_0x19cd9a(0x535)][_0x19cd9a(0x29d)](_0x58bbed)){const _0x5b23db=new _0x4d2ac5(this[_0x19cd9a(0x660)],this[_0x19cd9a(0x73a)],this['mediaStream'],_0x58bbed,_0x47c5dc),_0x12c241=_0x5b23db[_0x19cd9a(0x388)](()=>{const _0x13cefe=_0x19cd9a;_0x12c241(),this['outgoingStreams'][_0x13cefe(0x680)](_0x58bbed)?.[_0x13cefe(0x1d5)](),this[_0x13cefe(0x535)][_0x13cefe(0x55f)](_0x58bbed);});this[_0x19cd9a(0x535)]['set'](_0x58bbed,_0x5b23db),_0x5b23db['registerSystemPublisher'](this[_0x19cd9a(0x321)]);}return this[_0x19cd9a(0x535)]['get'](_0x58bbed);}[_0x49e620(0x328)](){const _0x1f581e=_0x49e620;return this[_0x1f581e(0x909)]['id'];}[_0x49e620(0x77c)](){const _0x5bd658=_0x49e620;return _0x596e17[_0x5bd658(0x67a)][_0x5bd658(0x847)];}[_0x49e620(0x432)](){const _0x46956c=_0x49e620;return Array[_0x46956c(0x9cc)](this[_0x46956c(0x8d7)]);}[_0x49e620(0xa34)](_0x567530){const _0xce2296=_0x49e620;let _0x6264f=[];if(_0x567530){_0xce2296(0x30b)!=typeof _0x567530[_0xce2296(0xa0f)]||_0x567530[_0xce2296(0xa0f)]['renderElement']instanceof HTMLVideoElement||!this[_0xce2296(0x271)]||(_0x567530[_0xce2296(0xa0f)]={'renderElement':this['renderElement']});try{(0x0,_0x596e17[_0xce2296(0x6f2)])(_0x567530);}catch(_0x295be3){throw new _0x2c2152(_0x3608be[_0xce2296(0x1e1)],_0xce2296(0x9da));}_0x567530['video']&&(_0x6264f[_0xce2296(0x6b8)](_0xce2296(0xa0f)),_0xce2296(0x6ab)!=typeof _0x567530['video']&&_0x567530[_0xce2296(0xa0f)][_0xce2296(0x271)]&&(this['renderElement']=_0x567530[_0xce2296(0xa0f)][_0xce2296(0x271)],_0x567530[_0xce2296(0xa0f)][_0xce2296(0xaed)]||(_0x567530[_0xce2296(0xa0f)][_0xce2296(0xaed)]={'width':this[_0xce2296(0x271)][_0xce2296(0x7c1)],'height':this[_0xce2296(0x271)][_0xce2296(0x93c)]}),delete _0x567530[_0xce2296(0xa0f)][_0xce2296(0x271)])),_0x567530[_0xce2296(0xa42)]&&_0x6264f['push'](_0xce2296(0xa42));}else _0x6264f=this[_0xce2296(0x217)]();this[_0xce2296(0x2b8)](_0x6264f)||(_0x6264f[_0xce2296(0x49b)](_0x52cee3=>this[_0xce2296(0x8d7)][_0xce2296(0x554)](_0x52cee3)),this[_0xce2296(0x321)][_0xce2296(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0xce2296(0x303)],'content':{'type':_0xbc0bd6[_0xce2296(0x454)],'label':this[_0xce2296(0x73a)],'ownerId':this[_0xce2296(0x660)][_0xce2296(0x27e)](),'trackKinds':_0x6264f,'params':_0x567530}}),_0xb8b103[_0xce2296(0x5d3)](_0x474c1d[_0xce2296(0x387)],{'type':_0xce2296(0xa34),'label':this[_0xce2296(0x73a)],'nodeId':this[_0xce2296(0xaa8)][_0xce2296(0x27e)](),'nodeType':this[_0xce2296(0xaa8)]['type'],'clusterId':this[_0xce2296(0x4a0)],'sourceId':this[_0xce2296(0x660)][_0xce2296(0x27e)](),'streamId':this[_0xce2296(0x1c9)],'trackKinds':_0x6264f}));}[_0x49e620(0xad9)](_0x296be2){const _0x19f12b=_0x49e620;try{(0x0,_0x596e17[_0x19f12b(0x6f2)])(_0x296be2);}catch(_0x457cbf){throw new _0x2c2152(_0x3608be[_0x19f12b(0x1e1)],_0x19f12b(0x9da));}this[_0x19f12b(0x4bd)]&&clearTimeout(this[_0x19f12b(0x4bd)]),this['updateDebounce']=setTimeout(()=>{const _0x316f54=_0x19f12b;delete this[_0x316f54(0x4bd)],this['systemTopic'][_0x316f54(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x316f54(0x303)],'content':{'type':_0xbc0bd6[_0x316f54(0x3a6)],'label':this[_0x316f54(0x73a)],'ownerId':this['owner'][_0x316f54(0x27e)](),'params':_0x296be2}});},0x1f4);}[_0x49e620(0x2aa)](_0x45f011){const _0x49d2b9=_0x49e620;_0x45f011||(_0x45f011=this['getAvailableTrackKinds']()),(_0x45f011=Array[_0x49d2b9(0xa0d)](_0x45f011)?_0x45f011:[_0x45f011])[_0x49d2b9(0x49b)](_0x554cf4=>this[_0x49d2b9(0x8d7)][_0x49d2b9(0x55f)](_0x554cf4)),this[_0x49d2b9(0x321)][_0x49d2b9(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x49d2b9(0x303)],'content':{'type':_0xbc0bd6[_0x49d2b9(0x334)],'label':this[_0x49d2b9(0x73a)],'ownerId':this[_0x49d2b9(0x660)]['getId'](),'trackKinds':_0x45f011,'remainingTracks':this[_0x49d2b9(0x8d7)][_0x49d2b9(0x65a)]}});}[_0x49e620(0xad6)](_0x286e66){const _0x8d351f=_0x49e620;return this[_0x8d351f(0x7bf)]['subscribe'](_0x286e66);}['getProviderId'](){return this['providerId'];}[_0x49e620(0x5f0)](_0xba017e){const _0x108501=_0x49e620;this[_0x108501(0x7c4)]!==_0xba017e&&(this['providerId']=_0xba017e,this[_0x108501(0x7bf)][_0x108501(0x544)](_0xba017e));}['unsubscribeTrackEndedListener'](_0x2c095c){const _0x5c0c63=_0x49e620;this[_0x5c0c63(0x5fb)]['get'](_0x2c095c)?.(),this[_0x5c0c63(0x5fb)][_0x5c0c63(0x55f)](_0x2c095c);}[_0x49e620(0x79c)](_0x417190){const _0x5206c1=_0x49e620,_0x2cad20=this[_0x5206c1(0x909)][_0x5206c1(0xb31)]()[_0x5206c1(0x94a)](_0xe19497=>_0xe19497[_0x5206c1(0xa7a)]===_0x417190);_0x2cad20&&(this[_0x5206c1(0x909)][_0x5206c1(0x79c)](_0x2cad20),this[_0x5206c1(0x535)][_0x5206c1(0x49b)](_0x2ac174=>_0x2ac174[_0x5206c1(0x79c)](_0x417190)),this[_0x5206c1(0x5fb)]['get'](_0x417190)?.());}['setupRenderElement'](){const _0x5ed961=_0x49e620;this[_0x5ed961(0x271)]&&(this[_0x5ed961(0x271)][_0x5ed961(0x4dc)]&&this['renderElement'][_0x5ed961(0x4dc)]===this['mediaStream']||(this[_0x5ed961(0x271)]['srcObject']=this['mediaStream']));}[_0x49e620(0x9a6)](){const _0xae173d=_0x49e620;if(this[_0xae173d(0x271)]&&!this[_0xae173d(0x819)]&&_0xae173d(0x9bc)!=typeof ResizeObserver){let _0x59cfe0=this['renderElement'][_0xae173d(0x7c1)],_0x1b16d2=this[_0xae173d(0x271)]['clientHeight'];const _0x54dc22=new ResizeObserver(_0x419517=>{const _0x2847b8=_0xae173d,{width:_0x3d4fd6,height:_0x5df8f2}=_0x419517[0x0]['contentRect'];_0x59cfe0===_0x3d4fd6&&_0x1b16d2===_0x5df8f2||(_0x59cfe0=Math[_0x2847b8(0x8a1)](_0x3d4fd6),_0x1b16d2=Math[_0x2847b8(0x8a1)](_0x5df8f2),this[_0x2847b8(0xad9)]({'video':{'maxResolution':{'width':_0x3d4fd6,'height':_0x5df8f2}}}));});_0x54dc22[_0xae173d(0x9d9)](this['renderElement']),this[_0xae173d(0x819)]=()=>_0x54dc22[_0xae173d(0x94f)]();}}[_0x49e620(0xa93)](_0x209749){const _0x3c98bf=_0x49e620,_0x5c731f=[];for(const _0x481195 of this[_0x3c98bf(0x8d7)])this[_0x3c98bf(0x79c)](_0x481195),_0x5c731f[_0x3c98bf(0x6b8)](_0x481195);this[_0x3c98bf(0x7c4)]&&this['systemTopic'][_0x3c98bf(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x3c98bf(0x303)],'content':{'type':_0xbc0bd6[_0x3c98bf(0x7b9)],'label':this[_0x3c98bf(0x73a)],'streamId':this[_0x3c98bf(0x1c9)],'ownerId':this[_0x3c98bf(0x660)]['getId'](),'providerId':this[_0x3c98bf(0x7c4)],'trackKinds':_0x5c731f}});}[_0x49e620(0x584)](_0x331ac8){const _0x253b42=_0x49e620,_0x1ae02f=()=>this[_0x253b42(0xa93)](_0x331ac8);_0x331ac8[_0x253b42(0x531)]('ended',_0x1ae02f),_0x331ac8['addEventListener']('mute',_0x1ae02f),this[_0x253b42(0x5fb)][_0x253b42(0x9fa)](_0x331ac8[_0x253b42(0xa7a)],()=>{const _0x2ebe58=_0x253b42;_0x331ac8[_0x2ebe58(0x947)](_0x2ebe58(0x642),_0x1ae02f),_0x331ac8[_0x2ebe58(0x947)](_0x2ebe58(0x971),_0x1ae02f),this[_0x2ebe58(0x5fb)][_0x2ebe58(0x55f)](_0x331ac8['kind']);});}}class _0x33a169 extends _0x2cad14{[_0x49e620(0xaa8)];['clusterId'];['vendorId'];['db'];[_0x49e620(0x83f)];['writes']=0x0;[_0x49e620(0xad7)]=0x0;[_0x49e620(0x60f)]=!0x1;constructor(_0x20f361,_0x437374,_0x363a8f,_0x4967c7,_0x3d372f){const _0x350883=_0x49e620;if('string'!=typeof _0x437374)throw new _0x2c2152(_0x3608be[_0x350883(0x1e0)],_0x350883(0x327));super(_0x20f361,_0x437374),this[_0x350883(0xaa8)]=_0x20f361,this[_0x350883(0x4a0)]=_0x363a8f,this['vendorId']=_0x4967c7;const _0x55b15a=_0x350883(0x2c3)+this[_0x350883(0x2e6)]+_0x350883(0x2c3)+this['clusterId']+_0x350883(0x2c3)+this[_0x350883(0x73a)];this['db']=new _0x3d372f(_0x55b15a),this[_0x350883(0x61d)]();}[_0x49e620(0x479)](){return this['isLoaded'];}[_0x49e620(0x260)](_0x19e7d1){this['isLoaded']=_0x19e7d1;}[_0x49e620(0x1d5)](){const _0x71b8ca=_0x49e620;clearTimeout(this[_0x71b8ca(0x83f)]),delete this[_0x71b8ca(0x83f)],super[_0x71b8ca(0x1d5)]();}[_0x49e620(0x5c2)](){const _0x5655c1=_0x49e620;this['systemTopic'][_0x5655c1(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x5655c1(0x303)],'content':{'type':_0xbc0bd6[_0x5655c1(0x522)],'label':this[_0x5655c1(0x73a)]}});}[_0x49e620(0x8a0)](){const _0x58c174=_0x49e620;this[_0x58c174(0x61d)]();}[_0x49e620(0x9e2)](){const _0x17b331=_0x49e620;return _0x596e17['ContentType'][_0x17b331(0x773)];}[_0x49e620(0x6a3)](_0x20dbea,_0x48dfd3,_0x586c2c,_0x3b2f85,_0x1c718a){const _0x443d28=_0x49e620,_0x53ffea=this['db'][_0x443d28(0x6a3)](_0x20dbea,_0x48dfd3,_0x586c2c,_0x3b2f85,_0x1c718a);return this['reads']+=0x1,_0xb8b103[_0x443d28(0x5d3)](_0x474c1d[_0x443d28(0x773)],{'type':_0x443d28(0x6a3),'label':this[_0x443d28(0x73a)],'nodeId':this[_0x443d28(0xaa8)][_0x443d28(0x27e)](),'nodeType':this[_0x443d28(0xaa8)][_0x443d28(0x70f)],'clusterId':this[_0x443d28(0x4a0)],'size':0x0}),this[_0x443d28(0x61d)](),_0x53ffea;}['insert'](_0x54b5fa,_0x5c0d2d,_0x57c737,_0x32895f){const _0x170faf=_0x49e620;this['db'][_0x170faf(0x6a1)](_0x54b5fa,_0x5c0d2d,_0x57c737,_0x32895f),this[_0x170faf(0x6ac)]+=0x1,_0xb8b103[_0x170faf(0x5d3)](_0x474c1d['VectorDatabase'],{'type':_0x170faf(0x6a1),'label':this[_0x170faf(0x73a)],'nodeId':this[_0x170faf(0xaa8)][_0x170faf(0x27e)](),'nodeType':this[_0x170faf(0xaa8)]['type'],'clusterId':this[_0x170faf(0x4a0)],'size':_0x32895f['reduce']((_0x5b5766,_0x7f0163)=>_0x5b5766+_0x7f0163[_0x170faf(0x8bc)],0x0)}),this[_0x170faf(0x61d)]();}[_0x49e620(0xa1e)](_0xd164a4){const _0xc22926=_0x49e620;this['db'][_0xc22926(0xa1e)](_0xd164a4),this[_0xc22926(0x6ac)]+=0x1,_0xb8b103[_0xc22926(0x5d3)](_0x474c1d[_0xc22926(0x773)],{'type':_0xc22926(0xa1e),'label':this[_0xc22926(0x73a)],'nodeId':this[_0xc22926(0xaa8)]['getId'](),'nodeType':this[_0xc22926(0xaa8)][_0xc22926(0x70f)],'clusterId':this['clusterId'],'size':0x0}),this['sendStats']();}['saveToDisk'](_0x3aaff4){const _0x47368f=_0x49e620;this['db'][_0x47368f(0xa66)](_0x3aaff4);}[_0x49e620(0x1f5)](_0x2a1ece){this['db']['loadFromDisk'](_0x2a1ece);}[_0x49e620(0x61d)](){const _0xfbf41b=_0x49e620;this['debounceStats']&&clearTimeout(this[_0xfbf41b(0x83f)]),this['debounceStats']=setTimeout(async()=>{const _0x9a3510=_0xfbf41b;delete this[_0x9a3510(0x83f)];const _0x200fde=this['db'][_0x9a3510(0x4c7)]()['byteLength'];this[_0x9a3510(0x321)]['publish']({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x9a3510(0x303)],'content':{'type':_0xbc0bd6['VectorDatabaseStats'],'label':this['label'],'stats':{'timestamp':Date[_0x9a3510(0x4e4)](),'storage':_0x200fde,'messagesSent':this[_0x9a3510(0x631)],'messagesReceived':this[_0x9a3510(0x4f0)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x9a3510(0x81f)],'writes':this[_0x9a3510(0x6ac)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0xb8b103[_0x9a3510(0x3a1)](_0x474c1d['VectorDatabase'],_0x9a3510(0x2c3)+this[_0x9a3510(0x4a0)]+_0x9a3510(0x2c3)+this[_0x9a3510(0x73a)],_0x200fde);},_0x4f3413);}}class _0x2e5add{['id'];['remoteConnections'];[_0x49e620(0xac6)];constructor(_0x36d785,_0xe60380=new Set(),_0x18615f){const _0x229285=_0x49e620;this['id']=_0x36d785,this[_0x229285(0x9ef)]=_0xe60380,this[_0x229285(0xac6)]=_0x18615f;}[_0x49e620(0x5c2)](){const _0x3db2ea=_0x49e620;this[_0x3db2ea(0xac6)]=void 0x0,this[_0x3db2ea(0x9ef)][_0x3db2ea(0x9c6)]();}[_0x49e620(0x27e)](){return this['id'];}[_0x49e620(0x496)](){const _0x5d6bb9=_0x49e620;return this[_0x5d6bb9(0xac6)];}[_0x49e620(0x910)](){const _0x13dddf=_0x49e620;return this[_0x13dddf(0x9ef)];}}class _0x54ac13 extends _0x2e5add{['id'];[_0x49e620(0x9f7)];[_0x49e620(0x76d)];[_0x49e620(0x9ef)];[_0x49e620(0xac6)];[_0x49e620(0x70f)]=_0x596e17['NodeType'][_0x49e620(0x981)];constructor(_0x52e754,_0x5e6be2,_0x5e2951,_0x86ff09=new Set(),_0xb6a029){const _0x4fd2a8=_0x49e620;super(_0x52e754,_0x86ff09,_0xb6a029),this['id']=_0x52e754,this[_0x4fd2a8(0x9f7)]=_0x5e6be2,this[_0x4fd2a8(0x76d)]=_0x5e2951,this[_0x4fd2a8(0x9ef)]=_0x86ff09,this[_0x4fd2a8(0xac6)]=_0xb6a029;}[_0x49e620(0x3db)](){const _0x4069ba=_0x49e620;return this[_0x4069ba(0x9f7)];}['getEmail'](){const _0x2f9120=_0x49e620;return this[_0x2f9120(0x76d)];}}class _0x380663{[_0x49e620(0x2e6)];['clusterId'];[_0x49e620(0x80e)];constructor(_0x5794c6,_0x36cc20){const _0x239806=_0x49e620;this['vendorId']=_0x5794c6,this[_0x239806(0x4a0)]=_0x36cc20,this[_0x239806(0x80e)]='ccc'+this[_0x239806(0x2e6)]+'ccc'+this[_0x239806(0x4a0)];}async[_0x49e620(0x64f)](_0x39cb67,_0x1dd831){const _0x4c8d73=_0x49e620,_0x2413a8=(0x0,_0x29614c[_0x4c8d73(0x924)])(_0xfa2cd['getDatabase'](),_0x4c8d73(0x36a)+this[_0x4c8d73(0x80e)]+_0x4c8d73(0xa24)+_0x1dd831+'/transactions/'+_0x39cb67['id']),_0x914404=(0x0,_0x29614c[_0x4c8d73(0x7ec)])(_0x2413a8);_0x914404[_0x4c8d73(0xa1e)](),_0x39cb67['parentId']||delete _0x39cb67[_0x4c8d73(0x886)];try{await(0x0,_0x29614c[_0x4c8d73(0x9fa)])(_0x2413a8,_0x39cb67);}catch(_0x28f2a2){throw await _0x914404[_0x4c8d73(0xad4)](),new _0x44727e(_0x44727e['codes']['ObjectStoreCannotWriteTransaction']);}if(!0x1===(await(0x0,_0x29614c[_0x4c8d73(0x562)])((0x0,_0x29614c[_0x4c8d73(0x924)])(_0xfa2cd[_0x4c8d73(0x617)](),_0x4c8d73(0x36a)+this[_0x4c8d73(0x80e)]+_0x4c8d73(0xa24)+_0x1dd831+_0x4c8d73(0x896)),_0x265ad8=>_0x265ad8?_0x265ad8===_0x39cb67[_0x4c8d73(0x886)]?_0x39cb67['id']:void 0x0:_0x39cb67[_0x4c8d73(0x886)]?_0x39cb67[_0x4c8d73(0x886)]:_0x39cb67['id']))[_0x4c8d73(0x26e)])throw await(0x0,_0x29614c['remove'])(_0x2413a8),await _0x914404['cancel'](),new _0x44727e(_0x44727e['codes'][_0x4c8d73(0x5c6)]);await _0x914404[_0x4c8d73(0xad4)]();}async[_0x49e620(0xb5b)](_0x2e5685,_0x275bd7){const _0x4b7640=_0x49e620;let _0x5199c3=[];const _0x325939=(0x0,_0x29614c[_0x4b7640(0x924)])(_0xfa2cd[_0x4b7640(0x617)](),_0x4b7640(0x36a)+this[_0x4b7640(0x80e)]+'/objectstores/'+_0x2e5685+_0x4b7640(0x9c0));let _0x4e0aa5=await(0x0,_0x29614c[_0x4b7640(0x680)])((0x0,_0x29614c[_0x4b7640(0x8ae)])(_0x325939,(0x0,_0x29614c[_0x4b7640(0x3e7)])(0x65),(0x0,_0x29614c['orderByKey'])()));if(!_0x4e0aa5[_0x4b7640(0x9af)]()){if(void 0x0!==_0x275bd7)throw new _0x44727e(_0x44727e[_0x4b7640(0x849)]['ObjectStoreInvalidState']);return _0x5199c3;}const _0x4145ff=_0x4e0aa5['val']();for(;Object[_0x4b7640(0x818)](_0x4e0aa5[_0x4b7640(0x663)]())[_0x4b7640(0x8bc)]>0x64;){const _0x168e5e=Object[_0x4b7640(0x818)](_0x4e0aa5['val']()),_0x5d93f0=_0x168e5e[_0x168e5e[_0x4b7640(0x8bc)]-0x1];_0x4e0aa5=await(0x0,_0x29614c['get'])((0x0,_0x29614c[_0x4b7640(0x8ae)])(_0x325939,(0x0,_0x29614c['limitToFirst'])(0x65),(0x0,_0x29614c[_0x4b7640(0x38d)])(_0x5d93f0),(0x0,_0x29614c[_0x4b7640(0x358)])())),Object[_0x4b7640(0x254)](_0x4145ff,_0x4e0aa5[_0x4b7640(0x663)]());}if(_0x5199c3=Object[_0x4b7640(0x66b)](_0x4145ff)['filter'](_0x56ceda=>_0x4b7640(0xaba)!=typeof _0x56ceda),0x0===_0x5199c3[_0x4b7640(0x8bc)]&&void 0x0!==_0x275bd7)throw new _0x44727e(_0x44727e['codes'][_0x4b7640(0x487)]);if(_0x5199c3[_0x4b7640(0x8bc)]>0x0&&void 0x0!==_0x275bd7&&!_0x5199c3[_0x4b7640(0x94a)](_0x3b8233=>_0x3b8233['id']===_0x275bd7))throw new _0x44727e(_0x44727e[_0x4b7640(0x849)][_0x4b7640(0x487)]);const _0xbb978b=[];let _0x2d1111=_0x5199c3['find'](_0x49f3cb=>_0x49f3cb[_0x4b7640(0x886)]===_0x275bd7);for(;_0x2d1111;)_0xbb978b[_0x4b7640(0x6b8)](_0x2d1111),_0x2d1111=_0x5199c3[_0x4b7640(0x94a)](_0x41520a=>_0x41520a[_0x4b7640(0x886)]===_0x2d1111['id']);return _0xbb978b;}}class _0x36abd6{[_0x49e620(0x720)];['options'];[_0x49e620(0x2c9)]=new Map();[_0x49e620(0x3d1)]=new Map();['pubSubTopics']=new Map();[_0x49e620(0x90a)]=new Map();[_0x49e620(0x47a)]=new Map();[_0x49e620(0x5a3)]=new Map();[_0x49e620(0x797)]=new Map();[_0x49e620(0xb37)]=new Map();['jobDispatchers']=new Map();[_0x49e620(0x931)]=new Map();[_0x49e620(0x925)];constructor(_0x531814,_0xb3c030){const _0xfc49db=_0x49e620;this['configs']=_0x531814,this['options']=_0xb3c030,this[_0xfc49db(0x925)]=new _0x380663(this[_0xfc49db(0x720)][_0xfc49db(0x2e6)],this['configs'][_0xfc49db(0x4a0)]);}['close'](_0x455275=!0x1){const _0x108d1f=_0x49e620;this[_0x108d1f(0x3d1)][_0x108d1f(0x49b)]((_0x387c1c,_0xfaff30)=>{const _0x38d947=_0x108d1f;_0x387c1c[_0x38d947(0x49b)]((_0x22a406,_0x5edae4)=>{const _0x131e8c=_0x38d947;this[_0x131e8c(0x4f1)](_0xfaff30,_0x5edae4);});}),_0x455275||(_0x32b080[_0x108d1f(0x9c6)](),this[_0x108d1f(0x2c9)][_0x108d1f(0x49b)]((_0x160c5d,_0x335fa2)=>{const _0x3dde54=_0x108d1f;this[_0x3dde54(0x2cc)](_0x335fa2);}),this[_0x108d1f(0x5f4)]['forEach']((_0x39cd66,_0x2c187a)=>{const _0x1c1396=_0x108d1f;this[_0x1c1396(0x919)](_0x2c187a);}),this[_0x108d1f(0x90a)][_0x108d1f(0x49b)]((_0x33519d,_0x1af193)=>{this['removeObjectStore'](_0x1af193);}),this[_0x108d1f(0x47a)][_0x108d1f(0x49b)]((_0x247ad7,_0x4b1528)=>{const _0x2de2b7=_0x108d1f;this[_0x2de2b7(0x45c)](_0x4b1528);}),this['keyValueDatabases'][_0x108d1f(0x49b)]((_0x1e4cb9,_0x53abbd)=>{const _0x1c3a98=_0x108d1f;this[_0x1c3a98(0x311)](_0x53abbd);}),this[_0x108d1f(0x82a)][_0x108d1f(0x49b)]((_0x2ae57e,_0x44dc84)=>{this['removeJobDispatcher'](_0x44dc84);}),this[_0x108d1f(0x931)][_0x108d1f(0x49b)]((_0x92499e,_0x3365fb)=>{this['removeJobWorker'](_0x3365fb);}),this[_0x108d1f(0x797)][_0x108d1f(0x49b)]((_0x2e1771,_0x11015b)=>{const _0x595288=_0x108d1f;this[_0x595288(0xb76)](_0x11015b);}),this[_0x108d1f(0xb37)][_0x108d1f(0x49b)]((_0x462257,_0x464418)=>{const _0x55cc94=_0x108d1f;this[_0x55cc94(0x1c7)](_0x464418);}));}[_0x49e620(0x61b)](_0x2a231c,_0x4e9c97,_0x593ee9){const _0x177f30=_0x49e620;if(this[_0x177f30(0x90a)][_0x177f30(0x29d)](_0x2a231c))throw new _0x2c2152(_0x3608be[_0x177f30(0x990)],'Store\x20already\x20exists');const _0x683792=new _0x13fe23(this['configs'][_0x177f30(0xaa8)],_0x2a231c,this['configs']['clusterId'],this[_0x177f30(0x720)]['vendorId'],this[_0x177f30(0x925)],_0x4e9c97,()=>this[_0x177f30(0x720)]['mediator'][_0x177f30(0x50c)](),_0x593ee9);return this[_0x177f30(0x90a)][_0x177f30(0x9fa)](_0x2a231c,_0x683792),this['configs'][_0x177f30(0x63b)][_0x177f30(0x7c2)](_0x683792),_0x683792;}['createExternalStorageConnection'](_0x358d24,_0xd75ba0){const _0x257d1c=_0x49e620;if(this['objectStores'][_0x257d1c(0x29d)](_0x358d24))throw new _0x2c2152(_0x3608be['ExternalStorageConnectionAlreadyExists'],_0x257d1c(0xa06));const _0x4a3596=new _0x50c1d4(this[_0x257d1c(0x720)]['localNode'],_0x358d24,this[_0x257d1c(0x720)][_0x257d1c(0x4a0)],this['configs'][_0x257d1c(0x2e6)],_0xd75ba0);return this[_0x257d1c(0x47a)][_0x257d1c(0x9fa)](_0x358d24,_0x4a3596),this[_0x257d1c(0x720)][_0x257d1c(0x63b)][_0x257d1c(0x7c2)](_0x4a3596),_0x4a3596;}async[_0x49e620(0x3c6)](_0x5c30fa,_0x1b50bc,_0x26797d){const _0xc881b9=_0x49e620;if(this['keyValueDatabases'][_0xc881b9(0x29d)](_0x5c30fa))throw new _0x2c2152(_0x3608be['KeyValueDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x31dcc8=this['configs'][_0xc881b9(0x63b)][_0xc881b9(0x329)][_0xc881b9(0x6e2)](this['configs']['mediator']),_0x23e0bb=new _0x3a199c(this[_0xc881b9(0x720)][_0xc881b9(0xaa8)],_0x5c30fa,this[_0xc881b9(0x720)][_0xc881b9(0x4a0)],this[_0xc881b9(0x720)][_0xc881b9(0x2e6)],_0x1b50bc,_0x26797d,_0x31dcc8);return this[_0xc881b9(0x5a3)][_0xc881b9(0x9fa)](_0x5c30fa,_0x23e0bb),this['configs']['mediator'][_0xc881b9(0x7c2)](_0x23e0bb),_0x23e0bb;}catch(_0x4adbb6){if(_0x4adbb6 instanceof _0x2c2152)throw _0x4adbb6;throw new _0x44727e(_0x44727e[_0xc881b9(0x849)][_0xc881b9(0x98f)],{'label':_0x5c30fa,'clusterId':this['configs'][_0xc881b9(0x4a0)],'vendorId':this['configs'][_0xc881b9(0x2e6)]});}}async[_0x49e620(0x1ce)](_0x559db9,_0x1b3f66){const _0x5a9231=_0x49e620;if(this[_0x5a9231(0x82a)]['has'](_0x559db9))throw new _0x2c2152(_0x3608be[_0x5a9231(0x6a9)],_0x5a9231(0x375));try{const _0x330853=new _0x3c564f(this[_0x5a9231(0x720)]['localNode'],_0x559db9,_0x1b3f66);return this[_0x5a9231(0x82a)][_0x5a9231(0x9fa)](_0x559db9,_0x330853),this[_0x5a9231(0x720)][_0x5a9231(0x63b)][_0x5a9231(0x7c2)](_0x330853),_0x330853;}catch(_0x568167){if(_0x568167 instanceof _0x2c2152)throw _0x568167;throw new _0x44727e(_0x44727e[_0x5a9231(0x849)]['JobDispatcherCreationFailed'],{'label':_0x559db9,'clusterId':this['configs'][_0x5a9231(0x4a0)],'vendorId':this[_0x5a9231(0x720)][_0x5a9231(0x2e6)]});}}async['createGenerativeAIContext'](_0x6037ff,_0x508a36){const _0x283e8b=_0x49e620;if(this[_0x283e8b(0x82a)][_0x283e8b(0x29d)](_0x6037ff))throw new _0x2c2152(_0x3608be['GenerativeAIContextAlreadyExists'],_0x283e8b(0x817));if(this[_0x283e8b(0x931)][_0x283e8b(0x29d)](_0x6037ff))throw new _0x2c2152(_0x3608be[_0x283e8b(0x74c)],_0x283e8b(0xae0));try{const _0xb7a49f=new _0x2e29a9(this[_0x283e8b(0x720)][_0x283e8b(0xaa8)],_0x6037ff,this['configs']['vendorId'],_0x508a36);return this[_0x283e8b(0x82a)]['set'](_0x6037ff,_0xb7a49f),this[_0x283e8b(0x720)][_0x283e8b(0x63b)][_0x283e8b(0x7c2)](_0xb7a49f),_0xb7a49f;}catch(_0x24fa1a){if(_0x24fa1a instanceof _0x2c2152)throw _0x24fa1a;throw new _0x44727e(_0x44727e[_0x283e8b(0x849)]['GenerativeAIContextCreationFailed'],{'label':_0x6037ff,'clusterId':this[_0x283e8b(0x720)][_0x283e8b(0x4a0)],'vendorId':this['configs']['vendorId']});}}async[_0x49e620(0x921)](_0x1cfec0,_0x1c230b,_0x269318,_0x316bc2,_0xa7ceb7,_0x1ec7d7,_0x22d154,_0x1cf9af,_0x2c95b8,_0x3bc5ef,_0x121a52,_0x45f01c){const _0x3e528f=_0x49e620;if(this['jobWorkers'][_0x3e528f(0x29d)](_0x1cfec0))throw new _0x2c2152(_0x3608be[_0x3e528f(0x5f3)],_0x3e528f(0x4ae));if(this['jobDispatchers'][_0x3e528f(0x29d)](_0x1cfec0))throw new _0x2c2152(_0x3608be[_0x3e528f(0x74c)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x1767ae=new _0x33b36e(this[_0x3e528f(0x720)][_0x3e528f(0xaa8)],_0x1cfec0,_0x1c230b,this,_0x269318,_0x316bc2,_0xa7ceb7,_0x1ec7d7,_0x22d154,_0x1cf9af,_0x2c95b8,_0x3bc5ef,_0x121a52,_0x45f01c);return this[_0x3e528f(0x931)][_0x3e528f(0x9fa)](_0x1cfec0,_0x1767ae),this[_0x3e528f(0x720)][_0x3e528f(0x63b)][_0x3e528f(0x7c2)](_0x1767ae),_0x1767ae;}catch(_0x25de09){if(_0x25de09 instanceof _0x2c2152)throw _0x25de09;throw new _0x44727e(_0x44727e[_0x3e528f(0x849)][_0x3e528f(0x69d)],{'label':_0x1cfec0,'clusterId':this['configs'][_0x3e528f(0x4a0)],'vendorId':this[_0x3e528f(0x720)][_0x3e528f(0x2e6)]});}}[_0x49e620(0x5a0)](_0x3a6c51,_0x50d07f){const _0x5c9c5f=_0x49e620;if(this[_0x5c9c5f(0xb37)][_0x5c9c5f(0x29d)](_0x3a6c51))throw new _0x2c2152(_0x3608be[_0x5c9c5f(0xa07)],_0x5c9c5f(0xa5f));try{const _0x133df7=new _0x4bfd22(this[_0x5c9c5f(0x720)][_0x5c9c5f(0xaa8)],_0x3a6c51,this['configs'][_0x5c9c5f(0x4a0)],this[_0x5c9c5f(0x720)]['vendorId'],_0x50d07f);return this[_0x5c9c5f(0xb37)][_0x5c9c5f(0x9fa)](_0x3a6c51,_0x133df7),this['configs'][_0x5c9c5f(0x63b)][_0x5c9c5f(0x7c2)](_0x133df7),_0x133df7;}catch(_0x3e7745){if(_0x3e7745 instanceof _0x2c2152)throw _0x3e7745;throw new _0x44727e(_0x44727e['codes']['GraphDatabaseCreationFailed'],{'label':_0x3a6c51,'clusterId':this['configs'][_0x5c9c5f(0x4a0)],'vendorId':this[_0x5c9c5f(0x720)]['vendorId']});}}[_0x49e620(0x822)](_0x18abe8,_0x44b546){const _0x2e05d2=_0x49e620;if(this[_0x2e05d2(0x2c9)]['has'](_0x18abe8))throw new _0x2c2152(_0x3608be['LocalMediaStreamAlreadyExists'],_0x2e05d2(0x24b));if(!this[_0x2e05d2(0x8d3)][_0x2e05d2(0x25c)])throw new _0x2c2152(_0x3608be[_0x2e05d2(0x29c)],_0x2e05d2(0x80a));const _0x4b6daf=new _0x315e86(this[_0x2e05d2(0x720)]['localNode'],_0x18abe8,_0x44b546,this[_0x2e05d2(0x8d3)][_0x2e05d2(0xb56)],this['options'][_0x2e05d2(0x25c)],this[_0x2e05d2(0x720)][_0x2e05d2(0x4a0)]);return this[_0x2e05d2(0x2c9)][_0x2e05d2(0x9fa)](_0x18abe8,_0x4b6daf),this[_0x2e05d2(0x720)][_0x2e05d2(0x63b)][_0x2e05d2(0x7c2)](_0x4b6daf),_0x4b6daf['publish'](),_0x4b6daf;}['createLocalMediaStream'](_0x167905,_0x2c6674){const _0x4dd080=_0x49e620;if(this[_0x4dd080(0x2c9)][_0x4dd080(0x29d)](_0x167905))throw new _0x2c2152(_0x3608be[_0x4dd080(0x3d4)],_0x4dd080(0xadc));const _0x383ca4=new _0x3a3dad(this[_0x4dd080(0x720)]['localNode'],_0x167905,_0x2c6674,this[_0x4dd080(0x720)][_0x4dd080(0x4a0)]);return this['localMediaStreams'][_0x4dd080(0x9fa)](_0x167905,_0x383ca4),this[_0x4dd080(0x720)][_0x4dd080(0x63b)][_0x4dd080(0x7c2)](_0x383ca4),_0x383ca4[_0x4dd080(0x544)](),_0x383ca4;}['createPubSubTopic'](_0x3d8dea){const _0x46cd9f=_0x49e620;if(this[_0x46cd9f(0x5f4)][_0x46cd9f(0x29d)](_0x3d8dea))throw new _0x2c2152(_0x3608be[_0x46cd9f(0x972)],_0x46cd9f(0x5bf));const _0x1e4c34=new _0x446dcc(this[_0x46cd9f(0x720)][_0x46cd9f(0xaa8)],_0x3d8dea,this['configs']['clusterId']);return this[_0x46cd9f(0x5f4)]['set'](_0x3d8dea,_0x1e4c34),this[_0x46cd9f(0x720)][_0x46cd9f(0x63b)][_0x46cd9f(0x7c2)](_0x1e4c34),_0x1e4c34;}[_0x49e620(0x5d6)](_0x39510d,_0x36f724,_0x27aebf,_0x962b90){const _0x3d54df=_0x49e620;this[_0x3d54df(0x3d1)][_0x3d54df(0x29d)](_0x39510d)||this['remoteMediaStreams'][_0x3d54df(0x9fa)](_0x39510d,new Map());const _0x54e2e5=this[_0x3d54df(0x3d1)][_0x3d54df(0x680)](_0x39510d);if(_0x54e2e5['has'](_0x36f724))throw new _0x2c2152(_0x3608be[_0x3d54df(0x60d)],'Remote\x20MediaStream\x20already\x20exists');const _0x2e14f1=new _0x54ac13(_0x39510d,'',''),_0x576b87=new _0x4e7625(this[_0x3d54df(0x720)]['localNode'],_0x2e14f1,_0x36f724,_0x27aebf,_0x962b90,this[_0x3d54df(0x720)]['clusterId']);return _0x54e2e5['set'](_0x36f724,_0x576b87),this[_0x3d54df(0x720)][_0x3d54df(0x63b)][_0x3d54df(0x7c2)](_0x576b87),_0x576b87;}[_0x49e620(0x976)](_0x5ba647,_0x57865c){const _0x395b7=_0x49e620;if(this[_0x395b7(0x797)]['has'](_0x5ba647))throw new _0x2c2152(_0x3608be[_0x395b7(0xaf6)],_0x395b7(0xa5f));try{const _0x425c00=new _0x33a169(this[_0x395b7(0x720)][_0x395b7(0xaa8)],_0x5ba647,this[_0x395b7(0x720)][_0x395b7(0x4a0)],this[_0x395b7(0x720)][_0x395b7(0x2e6)],_0x57865c);return this[_0x395b7(0x797)][_0x395b7(0x9fa)](_0x5ba647,_0x425c00),this[_0x395b7(0x720)][_0x395b7(0x63b)][_0x395b7(0x7c2)](_0x425c00),_0x425c00;}catch(_0x105a79){if(_0x105a79 instanceof _0x2c2152)throw _0x105a79;throw new _0x44727e(_0x44727e['codes'][_0x395b7(0x209)],{'label':_0x5ba647,'clusterId':this[_0x395b7(0x720)][_0x395b7(0x4a0)],'vendorId':this[_0x395b7(0x720)]['vendorId']});}}[_0x49e620(0x3ae)](_0x297afb){const _0x15c659=_0x49e620,_0x41de8c=Array[_0x15c659(0x9cc)](this[_0x15c659(0x90a)][_0x15c659(0x66b)]());return _0x297afb?_0x41de8c[_0x15c659(0x9e5)](_0x297afb):_0x41de8c;}[_0x49e620(0xb34)](_0x181d12){const _0x3ebfb7=_0x49e620,_0x3158d1=Array[_0x3ebfb7(0x9cc)](this[_0x3ebfb7(0x47a)][_0x3ebfb7(0x66b)]());return _0x181d12?_0x3158d1[_0x3ebfb7(0x9e5)](_0x181d12):_0x3158d1;}['getKeyValueDatabases'](_0x144605){const _0x3cc244=_0x49e620,_0x4fb331=Array[_0x3cc244(0x9cc)](this['keyValueDatabases'][_0x3cc244(0x66b)]());return _0x144605?_0x4fb331[_0x3cc244(0x9e5)](_0x144605):_0x4fb331;}[_0x49e620(0x1e8)](_0x46069f){const _0x1db410=_0x49e620,_0xef37a7=Array['from'](this[_0x1db410(0x82a)][_0x1db410(0x66b)]());return _0x46069f?_0xef37a7[_0x1db410(0x9e5)](_0x46069f):_0xef37a7;}[_0x49e620(0x67f)](_0x4a12a1){const _0x330c48=_0x49e620,_0x1aef55=Array[_0x330c48(0x9cc)](this[_0x330c48(0x931)][_0x330c48(0x66b)]());return _0x4a12a1?_0x1aef55[_0x330c48(0x9e5)](_0x4a12a1):_0x1aef55;}['getGenerativeAIContexts'](_0x4116e7){const _0x29e1d8=_0x49e620,_0x29ee94=Array[_0x29e1d8(0x9cc)](this[_0x29e1d8(0x82a)]['values']())['filter'](_0x24ad58=>_0x24ad58 instanceof _0x2e29a9);return _0x4116e7?_0x29ee94[_0x29e1d8(0x9e5)](_0x4116e7):_0x29ee94;}[_0x49e620(0x359)](_0x127def){const _0x473fc8=_0x49e620,_0x2b21d0=Array[_0x473fc8(0x9cc)](this[_0x473fc8(0x931)][_0x473fc8(0x66b)]())[_0x473fc8(0x9e5)](_0x2f5c7c=>_0x2f5c7c instanceof _0x33b36e);return _0x127def?_0x2b21d0[_0x473fc8(0x9e5)](_0x127def):_0x2b21d0;}['getGraphDatabases'](_0x2375f2){const _0x37f400=_0x49e620,_0x272c2b=Array[_0x37f400(0x9cc)](this[_0x37f400(0xb37)]['values']());return _0x2375f2?_0x272c2b[_0x37f400(0x9e5)](_0x2375f2):_0x272c2b;}['getLocalMediaStreams'](_0xe4cca0){const _0x3c648b=_0x49e620,_0x319560=Array[_0x3c648b(0x9cc)](this['localMediaStreams'][_0x3c648b(0x66b)]());return _0xe4cca0?_0x319560['filter'](_0xe4cca0):_0x319560;}[_0x49e620(0x7a4)](_0x577667){const _0x2b26b5=_0x49e620,_0x20c439=Array['from'](this[_0x2b26b5(0x5f4)]['values']());return _0x577667?_0x20c439[_0x2b26b5(0x9e5)](_0x577667):_0x20c439;}[_0x49e620(0x965)](_0x28770b){const _0x3d415e=_0x49e620,_0x4c4e7f=Array[_0x3d415e(0x9cc)](this[_0x3d415e(0x3d1)][_0x3d415e(0x66b)]())['reduce']((_0x585bd9,_0x17f46f)=>[..._0x585bd9,...Array[_0x3d415e(0x9cc)](_0x17f46f[_0x3d415e(0x66b)]())],[]);return _0x28770b?_0x4c4e7f[_0x3d415e(0x9e5)](_0x28770b):_0x4c4e7f;}[_0x49e620(0x57b)](_0x13d736){const _0x24b944=_0x49e620,_0x4997ed=Array['from'](this[_0x24b944(0x797)]['values']());return _0x13d736?_0x4997ed[_0x24b944(0x9e5)](_0x13d736):_0x4997ed;}[_0x49e620(0x731)](_0x842758){const _0xc0c740=_0x49e620,_0x11d19a=this['objectStores'][_0xc0c740(0x680)](_0x842758);if(!_0x11d19a)throw new _0x2c2152(_0x3608be['ObjectStoreDoesNotExist'],_0xc0c740(0xabc));return _0x11d19a;}[_0x49e620(0x914)](_0x10cc9b){const _0x369af7=_0x49e620,_0x2c0788=_0x10cc9b['split']('-'),_0x343f92=this[_0x369af7(0x47a)]['get'](_0x2c0788[0x1]);if(!_0x343f92)throw new _0x2c2152(_0x3608be[_0x369af7(0x57f)],_0x369af7(0x74e));return _0x343f92;}[_0x49e620(0x5b7)](_0x1e8c5a){const _0x2ac051=_0x49e620,_0x5e4743=this['graphDatabases'][_0x2ac051(0x680)](_0x1e8c5a);if(!_0x5e4743)throw new _0x2c2152(_0x3608be[_0x2ac051(0x447)],_0x2ac051(0x764));return _0x5e4743;}['getKeyValueDatabase'](_0xb403a2){const _0x415597=_0x49e620,_0x2d42c2=this[_0x415597(0x5a3)][_0x415597(0x680)](_0xb403a2);if(!_0x2d42c2)throw new _0x2c2152(_0x3608be['KeyValueDatabaseDoesNotExist'],'KeyValueDatabase\x20not\x20found');return _0x2d42c2;}[_0x49e620(0x9d3)](_0x4ddeaf){const _0x173c53=_0x49e620,_0xab54e9=this['pubSubTopics'][_0x173c53(0x680)](_0x4ddeaf);if(!_0xab54e9)throw new _0x2c2152(_0x3608be[_0x173c53(0x8ca)],_0x173c53(0xb5c));return _0xab54e9;}['getVectorDatabase'](_0x54cbc2){const _0x430d04=_0x49e620,_0x53c059=this['vectorDatabases']['get'](_0x54cbc2);if(!_0x53c059)throw new _0x2c2152(_0x3608be['VectorDatabaseDoesNotExist'],_0x430d04(0x92c));return _0x53c059;}[_0x49e620(0x755)](_0x30942b){const _0x135fdb=_0x49e620;switch(_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x70f)]){case _0xbc0bd6[_0x135fdb(0xa09)]:this[_0x135fdb(0x8d0)](_0x30942b['content']);break;case _0xbc0bd6[_0x135fdb(0x856)]:this['handleUnpublishMediaStream'](_0x30942b[_0x135fdb(0x4fe)]);break;case _0xbc0bd6[_0x135fdb(0x2d7)]:this[_0x135fdb(0xabe)](_0x30942b[_0x135fdb(0x4fe)]['label']);break;case _0xbc0bd6[_0x135fdb(0x694)]:this['removeJobWorker'](_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x73a)]);break;case _0xbc0bd6[_0x135fdb(0xab9)]:this[_0x135fdb(0x2cc)](_0x30942b['content'][_0x135fdb(0x73a)]);break;case _0xbc0bd6['ClosePubSubTopic']:this[_0x135fdb(0x919)](_0x30942b[_0x135fdb(0x4fe)]['label']);break;case _0xbc0bd6['CloseObjectStoreBucket']:this[_0x135fdb(0x47e)](_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x73a)]);break;case _0xbc0bd6[_0x135fdb(0x9e0)]:this[_0x135fdb(0x45c)](_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x73a)]);break;case _0xbc0bd6['CloseKeyValueDatabase']:this[_0x135fdb(0x311)](_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x73a)]);break;case _0xbc0bd6[_0x135fdb(0x522)]:this[_0x135fdb(0xb76)](_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x73a)]);break;case _0xbc0bd6[_0x135fdb(0x891)]:this[_0x135fdb(0x1c7)](_0x30942b['content'][_0x135fdb(0x73a)]);break;case _0xbc0bd6[_0x135fdb(0x334)]:this[_0x135fdb(0x46a)](_0x30942b[_0x135fdb(0x4fe)]);break;case _0xbc0bd6[_0x135fdb(0x37c)]:this[_0x135fdb(0x5a3)]['get'](_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x73a)])?.[_0x135fdb(0x749)](_0x30942b['sourceId'],_0x30942b['content']['mmrRoot']);break;case _0xbc0bd6[_0x135fdb(0x538)]:this[_0x135fdb(0x5a3)][_0x135fdb(0x680)](_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x73a)])?.[_0x135fdb(0x1ee)](_0x30942b[_0x135fdb(0x4b4)],_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x84b)]);break;case _0xbc0bd6['KeyValueDatabaseContentAvailable']:this[_0x135fdb(0x5a3)][_0x135fdb(0x680)](_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x73a)])?.[_0x135fdb(0x557)](_0x30942b[_0x135fdb(0x4b4)],_0x30942b['content'][_0x135fdb(0xb64)]);break;case _0xbc0bd6[_0x135fdb(0xac3)]:this[_0x135fdb(0x5a3)]['get'](_0x30942b[_0x135fdb(0x4fe)]['label'])?.['sendPeakTransactions'](_0x30942b[_0x135fdb(0x4b4)],_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x95c)]);break;case _0xbc0bd6[_0x135fdb(0x21b)]:this[_0x135fdb(0x5a3)]['get'](_0x30942b[_0x135fdb(0x4fe)]['label'])?.[_0x135fdb(0xad1)](_0x30942b['sourceId'],_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x4a1)]);break;case _0xbc0bd6[_0x135fdb(0x79e)]:this[_0x135fdb(0x5a3)][_0x135fdb(0x680)](_0x30942b[_0x135fdb(0x4fe)]['label'])?.[_0x135fdb(0x46e)](_0x30942b['sourceId'],_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x9b1)]);break;case _0xbc0bd6['LocalMediaStreamTrackFail']:this[_0x135fdb(0x720)][_0x135fdb(0x63b)]['notifyCluster']('local-media-stream-track-fail',{'label':_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0x73a)],'trackKinds':_0x30942b[_0x135fdb(0x4fe)][_0x135fdb(0xad0)]});}}[_0x49e620(0x3d5)]({content:_0x2d7031}){const _0x1b18f6=_0x49e620;switch(_0x2d7031[_0x1b18f6(0x70f)]){case _0x33a688[_0x1b18f6(0x1ea)]:this[_0x1b18f6(0x83d)](_0x2d7031),this[_0x1b18f6(0x59f)](_0x2d7031);break;case _0x33a688[_0x1b18f6(0x6d9)]:this[_0x1b18f6(0x1fe)](_0x2d7031),this[_0x1b18f6(0xb2c)](_0x2d7031);}}[_0x49e620(0xa4c)](_0x27284e){const _0x49f27e=_0x49e620;switch(_0x27284e[_0x49f27e(0x4fe)][_0x49f27e(0x70f)]){case _0x5afa9d[_0x49f27e(0x454)]:this[_0x49f27e(0x31c)](_0x27284e[_0x49f27e(0x4b4)],_0x27284e['content']);break;case _0x5afa9d[_0x49f27e(0x3a6)]:this[_0x49f27e(0xb49)](_0x27284e[_0x49f27e(0x4b4)],_0x27284e['content']);break;case _0x5afa9d[_0x49f27e(0x334)]:this['handleUnsubscribeMediaStream'](_0x27284e['sourceId'],_0x27284e['content']);}}['handleContentUnsubscribeMediaStream'](_0x161322){const _0x465521=_0x49e620;if(0x0===_0x161322[_0x465521(0x39b)])this[_0x465521(0x3d1)][_0x465521(0x680)](_0x161322[_0x465521(0xa8c)])?.['get'](_0x161322[_0x465521(0x73a)])?.[_0x465521(0x1d5)]();else{const _0x208e4d=this[_0x465521(0x3d1)][_0x465521(0x680)](_0x161322['ownerId'])?.[_0x465521(0x680)](_0x161322['label']);if(!_0x208e4d)return;_0x161322[_0x465521(0xad0)][_0x465521(0x49b)](_0x2d497c=>_0x208e4d[_0x465521(0xadb)](_0x2d497c));}}[_0x49e620(0x8d0)](_0x4a916b){const _0x26a422=_0x49e620,{label:_0x41bc6d,ownerId:_0x38a1ed,stream:{streamId:_0x57246,availableTrackKinds:_0x15335a}}=_0x4a916b;if(this[_0x26a422(0x3d1)]['get'](_0x38a1ed)?.[_0x26a422(0x29d)](_0x41bc6d))return void _0xb8b103[_0x26a422(0xad5)](_0xad09e4[_0x26a422(0x303)],_0x26a422(0xadc),_0x57246);const _0x23808d=this[_0x26a422(0x5d6)](_0x38a1ed,_0x41bc6d,_0x57246,_0x15335a);this['configs']['mediator']['notifyCluster'](_0x26a422(0x7ad),{'ownerId':_0x38a1ed,'stream':_0x23808d});}[_0x49e620(0x8b3)]({ownerId:_0x2bef36,label:_0x29fa87}){const _0x20f89c=_0x49e620;this[_0x20f89c(0x4f1)](_0x2bef36,_0x29fa87),this[_0x20f89c(0x720)][_0x20f89c(0x63b)]['notifyCluster'](_0x20f89c(0x745),{'ownerId':_0x2bef36,'label':_0x29fa87});}['handleSubscribeMediaStream'](_0x15920b,_0x5ad4ce){const _0x76b2e3=_0x49e620,{ownerId:_0x4263b5,label:_0x3ec7df}=_0x5ad4ce;let _0x2c99ef;_0x2c99ef=_0x4263b5!==this['configs']['localNode'][_0x76b2e3(0x27e)]()?this['remoteMediaStreams'][_0x76b2e3(0x680)](_0x4263b5)['get'](_0x3ec7df):this[_0x76b2e3(0x2c9)][_0x76b2e3(0x680)](_0x3ec7df),_0x2c99ef['getShareableStream'](_0x15920b,_0x5ad4ce['params'])[_0x76b2e3(0xa34)](_0x5ad4ce,_0x2c99ef['getPriority']());}[_0x49e620(0xb49)](_0x3be7f3,_0x2770ee){const _0x5759ab=_0x49e620,{ownerId:_0xeea0ba,label:_0xdf2df4}=_0x2770ee;let _0x37134f;_0x37134f=_0xeea0ba!==this[_0x5759ab(0x720)]['localNode'][_0x5759ab(0x27e)]()?this['remoteMediaStreams']['get'](_0xeea0ba)['get'](_0xdf2df4):this[_0x5759ab(0x2c9)][_0x5759ab(0x680)](_0xdf2df4),_0x37134f[_0x5759ab(0x56a)](_0x3be7f3,_0x2770ee[_0x5759ab(0x67e)])[_0x5759ab(0xad9)](_0x2770ee);}[_0x49e620(0xa2d)](_0x175347,_0x269e24){const _0x4fad4c=_0x49e620,{ownerId:_0x1bb019,label:_0x2096ad}=_0x269e24;let _0x1c7471;_0x1c7471=_0x1bb019!==this[_0x4fad4c(0x720)]['localNode'][_0x4fad4c(0x27e)]()?this[_0x4fad4c(0x3d1)][_0x4fad4c(0x680)](_0x1bb019)[_0x4fad4c(0x680)](_0x2096ad):this['localMediaStreams'][_0x4fad4c(0x680)](_0x2096ad),_0x1c7471[_0x4fad4c(0x56a)](_0x175347)[_0x4fad4c(0x2aa)](_0x269e24);}['handleNodeJoinNeedPublishedStream']({id:_0x1c51db}){const _0x4b62ce=_0x49e620;this['getLocalMediaStreams']()[_0x4b62ce(0x49b)](_0xb9606f=>{const _0x9756a0=_0x4b62ce;_0xb9606f[_0x9756a0(0x544)](_0x1c51db);});}[_0x49e620(0x1fe)]({id:_0x8eef3e}){const _0x55be05=_0x49e620;this['getRemoteMediaStreams'](_0x15f517=>_0x15f517[_0x55be05(0x8fa)]()===_0x8eef3e)[_0x55be05(0x49b)](_0x4b2c2a=>{const _0x277ce3=_0x55be05;this[_0x277ce3(0x4f1)](_0x4b2c2a[_0x277ce3(0x8fa)](),_0x4b2c2a[_0x277ce3(0x227)]());});}['notifyObjectStoreOfNodeJoin']({id:_0x57a48c}){const _0x958ff5=_0x49e620;this[_0x958ff5(0x90a)][_0x958ff5(0x49b)](_0x2a2018=>_0x2a2018[_0x958ff5(0x58e)](_0x57a48c));}[_0x49e620(0xb2c)]({id:_0x35e321}){const _0x404df7=_0x49e620;this[_0x404df7(0x90a)]['forEach'](_0x573c55=>_0x573c55[_0x404df7(0x1fe)](_0x35e321));}[_0x49e620(0xabe)](_0x1e1595){const _0x3fce43=_0x49e620;if(!this[_0x3fce43(0x82a)][_0x3fce43(0x29d)](_0x1e1595))throw new _0x2c2152(_0x3608be[_0x3fce43(0x41c)],_0x3fce43(0x2e2));const _0x1c3d90=this['jobDispatchers'][_0x3fce43(0x680)](_0x1e1595);this['jobDispatchers']['delete'](_0x1e1595),_0x1c3d90[_0x3fce43(0x1d5)](),this[_0x3fce43(0x720)][_0x3fce43(0x63b)][_0x3fce43(0x3fd)](_0x1c3d90);}[_0x49e620(0x9a3)](_0x21e5af){const _0x11b2f0=_0x49e620;if(!this[_0x11b2f0(0x931)][_0x11b2f0(0x29d)](_0x21e5af))throw new _0x2c2152(_0x3608be[_0x11b2f0(0x9e9)],'Job\x20Worker\x20does\x20not\x20exist');const _0x43a0ab=this[_0x11b2f0(0x931)][_0x11b2f0(0x680)](_0x21e5af);this[_0x11b2f0(0x931)][_0x11b2f0(0x55f)](_0x21e5af),_0x43a0ab[_0x11b2f0(0x1d5)](),this[_0x11b2f0(0x720)][_0x11b2f0(0x63b)][_0x11b2f0(0x3fd)](_0x43a0ab);}['removeObjectStore'](_0x5284f3){const _0x2c7a3b=_0x49e620;if(!this[_0x2c7a3b(0x90a)][_0x2c7a3b(0x29d)](_0x5284f3))throw new _0x2c2152(_0x3608be[_0x2c7a3b(0x4df)],_0x2c7a3b(0x6d5));const _0x5c7282=this[_0x2c7a3b(0x90a)][_0x2c7a3b(0x680)](_0x5284f3);this['objectStores'][_0x2c7a3b(0x55f)](_0x5284f3),_0x5c7282[_0x2c7a3b(0x1d5)](),this[_0x2c7a3b(0x720)][_0x2c7a3b(0x63b)]['unregisterSystemSource'](_0x5c7282);}['removeExternalStorageConnection'](_0x29cf51){const _0x42ad64=_0x49e620;if(!this[_0x42ad64(0x47a)]['has'](_0x29cf51))throw new _0x2c2152(_0x3608be[_0x42ad64(0x57f)],_0x42ad64(0x2b6));const _0xd7645e=this[_0x42ad64(0x47a)][_0x42ad64(0x680)](_0x29cf51);this[_0x42ad64(0x47a)][_0x42ad64(0x55f)](_0x29cf51),_0xd7645e['destroy'](),this[_0x42ad64(0x720)]['mediator'][_0x42ad64(0x3fd)](_0xd7645e);}['removePubSubTopic'](_0x1d88ba){const _0x572798=_0x49e620;if(!this['pubSubTopics'][_0x572798(0x29d)](_0x1d88ba))throw new _0x2c2152(_0x3608be['PubSubTopicDoesNotExist'],_0x572798(0x6d5));const _0x3c3e17=this[_0x572798(0x5f4)]['get'](_0x1d88ba);this[_0x572798(0x5f4)][_0x572798(0x55f)](_0x1d88ba),_0x3c3e17[_0x572798(0x1d5)](),this['configs']['mediator']['unregisterSystemSource'](_0x3c3e17);}[_0x49e620(0x311)](_0x1b055a){const _0x36305d=_0x49e620;if(!this[_0x36305d(0x5a3)][_0x36305d(0x29d)](_0x1b055a))throw new _0x2c2152(_0x3608be[_0x36305d(0x78a)],_0x36305d(0xaf7));const _0x13ed25=this[_0x36305d(0x5a3)]['get'](_0x1b055a);this[_0x36305d(0x5a3)]['delete'](_0x1b055a),_0x13ed25[_0x36305d(0x1d5)](),this[_0x36305d(0x720)][_0x36305d(0x63b)]['unregisterSystemSource'](_0x13ed25);}['removeVectorDatabase'](_0x17a10c){const _0x183f0d=_0x49e620;if(!this[_0x183f0d(0x797)]['has'](_0x17a10c))throw new _0x2c2152(_0x3608be['VectorDatabaseDoesNotExist'],_0x183f0d(0xaf7));const _0x4ba0a6=this[_0x183f0d(0x797)][_0x183f0d(0x680)](_0x17a10c);this['vectorDatabases']['delete'](_0x17a10c),_0x4ba0a6[_0x183f0d(0x1d5)](),this[_0x183f0d(0x720)][_0x183f0d(0x63b)][_0x183f0d(0x3fd)](_0x4ba0a6);}[_0x49e620(0x1c7)](_0x3ebb3d){const _0x41638d=_0x49e620;if(!this['graphDatabases'][_0x41638d(0x29d)](_0x3ebb3d))throw new _0x2c2152(_0x3608be[_0x41638d(0x447)],_0x41638d(0xaf7));const _0x22f6b3=this[_0x41638d(0xb37)]['get'](_0x3ebb3d);this[_0x41638d(0xb37)][_0x41638d(0x55f)](_0x3ebb3d),_0x22f6b3[_0x41638d(0x1d5)](),this['configs'][_0x41638d(0x63b)]['unregisterSystemSource'](_0x22f6b3);}['removeLocalMediaStream'](_0x405526){const _0x2b1377=_0x49e620;if(!this[_0x2b1377(0x2c9)][_0x2b1377(0x29d)](_0x405526))throw new _0x44727e(_0x44727e['codes']['LocalMediaStreamDoesNotExist'],{'label':_0x405526,'localId':this[_0x2b1377(0x720)]['localNode']['getId']()});const _0x15efeb=this[_0x2b1377(0x2c9)]['get'](_0x405526);this[_0x2b1377(0x720)][_0x2b1377(0x63b)][_0x2b1377(0x3fd)](_0x15efeb),_0x15efeb[_0x2b1377(0x1d5)](),this[_0x2b1377(0x2c9)][_0x2b1377(0x55f)](_0x405526);}[_0x49e620(0x4f1)](_0x275d67,_0x5711c6){const _0x1aa815=_0x49e620;if(!this['remoteMediaStreams'][_0x1aa815(0x29d)](_0x275d67))throw new _0x44727e(_0x44727e[_0x1aa815(0x849)][_0x1aa815(0xa80)],{'nodeId':_0x275d67,'localId':this[_0x1aa815(0x720)]['localNode'][_0x1aa815(0x27e)]()});const _0x3680fa=this[_0x1aa815(0x3d1)][_0x1aa815(0x680)](_0x275d67);if(!_0x3680fa[_0x1aa815(0x29d)](_0x5711c6))throw new _0x44727e(_0x44727e[_0x1aa815(0x849)][_0x1aa815(0x434)],{'nodeId':_0x275d67,'label':_0x5711c6,'localId':this[_0x1aa815(0x720)][_0x1aa815(0xaa8)]['getId']()});const _0x3c80b9=_0x3680fa[_0x1aa815(0x680)](_0x5711c6);this[_0x1aa815(0x720)][_0x1aa815(0x63b)]['unregisterSystemSource'](_0x3c80b9),_0x3c80b9[_0x1aa815(0x1d5)](),_0x3680fa[_0x1aa815(0x55f)](_0x5711c6);}}var _0x237d6f,_0x5b7596,_0x37cdc7;!function(_0xf9ed20){const _0x4c4b56=_0x49e620;_0xf9ed20[_0x4c4b56(0x7ce)]=_0x4c4b56(0xb29),_0xf9ed20[_0x4c4b56(0x793)]=_0x4c4b56(0x968),_0xf9ed20[_0x4c4b56(0x82e)]=_0x4c4b56(0x4b1),_0xf9ed20['Bitrate']='bitrate',_0xf9ed20[_0x4c4b56(0x725)]='jitter',_0xf9ed20[_0x4c4b56(0x97a)]=_0x4c4b56(0x895),_0xf9ed20[_0x4c4b56(0x637)]=_0x4c4b56(0x3ee),_0xf9ed20[_0x4c4b56(0x6cb)]=_0x4c4b56(0xa6b);}(_0x237d6f||(_0x237d6f={})),function(_0x1ccbb3){const _0x3ce6c3=_0x49e620;_0x1ccbb3[_0x3ce6c3(0x88b)]=_0x3ce6c3(0x71d),_0x1ccbb3[_0x3ce6c3(0x82e)]=_0x3ce6c3(0x98d),_0x1ccbb3['AudioVideoDelay']=_0x3ce6c3(0xab2),_0x1ccbb3[_0x3ce6c3(0x97a)]=_0x3ce6c3(0x41d),_0x1ccbb3['Bitrate']=_0x3ce6c3(0x1c8),_0x1ccbb3[_0x3ce6c3(0x725)]=_0x3ce6c3(0xb1d),_0x1ccbb3['RoundTripTime']=_0x3ce6c3(0x2a4);}(_0x5b7596||(_0x5b7596={})),function(_0xb0778c){const _0x236ebc=_0x49e620;_0xb0778c[_0xb0778c[_0x236ebc(0x9ce)]=0x0]=_0x236ebc(0x9ce);}(_0x37cdc7||(_0x37cdc7={}));const _0x15a2a7=[{'type':_0x237d6f[_0x49e620(0x7ce)],'reportMetric':_0xc78a0f=>_0xc78a0f[_0x49e620(0x7ce)],'maxThreshold':2.5},{'type':_0x237d6f[_0x49e620(0x793)],'reportMetric':_0xb505de=>_0xb505de[_0x49e620(0x793)],'maxThreshold':0.5}],_0x4d45d0=[{'type':_0x237d6f[_0x49e620(0x82e)],'reportMetric':_0x45e12d=>{const _0x1e08f4=0x3e8/_0x45e12d['FPS'];return _0x45e12d['timePerFrame']/_0x1e08f4;},'maxThreshold':0.75},{'type':_0x237d6f[_0x49e620(0x9c4)],'reportMetric':_0x35d392=>{const _0x1234af=_0x49e620,_0x7e1afd=_0x35d392['FPS']*_0x35d392[_0x1234af(0xb4d)]*_0x35d392[_0x1234af(0x57e)]*0.12;return _0x35d392['bitrate']/_0x7e1afd;},'minThreshold':0.25},{'type':_0x237d6f['Jitter'],'reportMetric':_0x3185e8=>_0x3185e8[_0x49e620(0x258)],'maxThreshold':0.6},{'type':_0x237d6f[_0x49e620(0x97a)],'reportMetric':_0x1509d8=>_0x1509d8[_0x49e620(0xb78)],'minThreshold':0xa}],_0x385ce7=[{'type':_0x237d6f[_0x49e620(0x725)],'reportMetric':_0x1783f1=>_0x1783f1[_0x49e620(0x258)],'maxThreshold':0.6}],_0x25a853=[{'type':_0x237d6f[_0x49e620(0x637)],'reportMetric':_0x5c4564=>_0x5c4564[_0x49e620(0x437)],'maxThreshold':0x1/0x0}],_0x4b2b09=[{'type':_0x237d6f[_0x49e620(0x6cb)],'reportMetric':_0x3d960d=>_0x3d960d['AudioVideoDelay'],'maxThreshold':0x12c}],_0x5bc68d=[{'type':_0x5b7596[_0x49e620(0x88b)],'issues':[{'type':_0x237d6f['STVolatility'],'threshold':0x5},{'type':_0x237d6f['DTVolatility'],'threshold':0x5}]},{'type':_0x5b7596[_0x49e620(0x82e)],'issues':[{'type':_0x237d6f[_0x49e620(0x82e)],'threshold':0x3}]},{'type':_0x5b7596[_0x49e620(0x6cb)],'issues':[{'type':_0x237d6f[_0x49e620(0x6cb)],'threshold':0x2}]},{'type':_0x5b7596[_0x49e620(0x97a)],'issues':[{'type':_0x237d6f['FramePerSecond'],'threshold':0x3}]},{'type':_0x5b7596['Bitrate'],'issues':[{'type':_0x237d6f[_0x49e620(0x9c4)],'threshold':0x3}]},{'type':_0x5b7596[_0x49e620(0x725)],'issues':[{'type':_0x237d6f['Jitter'],'threshold':0x3}]},{'type':_0x5b7596[_0x49e620(0x637)],'issues':[{'type':_0x237d6f[_0x49e620(0x637)],'threshold':0x3}]}];var _0x1001b9,_0x37e16f;!function(_0x2e643a){const _0x5eb768=_0x49e620;_0x2e643a[_0x2e643a['StreamReport']=0x0]=_0x5eb768(0x791),_0x2e643a[_0x2e643a['LocalReport']=0x1]=_0x5eb768(0xa70);}(_0x1001b9||(_0x1001b9={}));class _0x33af22{[_0x49e620(0x720)];[_0x49e620(0x493)]=[];['systemTopic'];constructor(_0x194fa3){const _0x52a756=_0x49e620;this[_0x52a756(0x720)]=_0x194fa3,this[_0x52a756(0x720)][_0x52a756(0x63b)][_0x52a756(0x7c2)](this);}[_0x49e620(0xb51)](_0x2e28c3){const _0x19806b=_0x49e620;this[_0x19806b(0x321)]=_0x2e28c3;}[_0x49e620(0xa6a)](){const _0x3d5b3d=_0x49e620;this[_0x3d5b3d(0x321)]=void 0x0;}[_0x49e620(0x5c2)](){const _0x4db06c=_0x49e620;this[_0x4db06c(0x720)][_0x4db06c(0x63b)]['unregisterSystemSource'](this),this[_0x4db06c(0x493)]=[];}[_0x49e620(0xaf8)](_0x384fff){const _0x5b1ccb=_0x49e620;switch(_0x384fff[_0x5b1ccb(0x4fe)][_0x5b1ccb(0x70f)]){case _0x1001b9['LocalReport']:this['detectLocalIssues'](_0x384fff[_0x5b1ccb(0x4fe)][_0x5b1ccb(0x7b6)]);break;case _0x1001b9[_0x5b1ccb(0x791)]:this[_0x5b1ccb(0xa73)](_0x384fff[_0x5b1ccb(0x4fe)][_0x5b1ccb(0x7b6)]);}}['detectProblems'](_0x24d953,_0x2baf3b,_0x5f526d,_0x477d28){const _0x3eed99=_0x49e620,_0x47e629=_0x5bc68d[_0x3eed99(0x94a)](_0x5430c8=>_0x5430c8[_0x3eed99(0x493)][_0x3eed99(0x8b6)](_0x4d893e=>_0x4d893e[_0x3eed99(0x70f)]===_0x24d953));_0x477d28>=_0x47e629[_0x3eed99(0x493)][_0x3eed99(0x94a)](_0x519584=>_0x519584['type']===_0x24d953)['threshold']&&(this[_0x3eed99(0x6d3)](_0x47e629['type'],_0x2baf3b,_0x5f526d),this[_0x3eed99(0x493)]=this[_0x3eed99(0x493)][_0x3eed99(0x9e5)](_0x1fa9d8=>!(_0x1fa9d8['type']===_0x24d953&&_0x1fa9d8['nodeId']===_0x2baf3b&&_0x1fa9d8[_0x3eed99(0x8f1)]===_0x5f526d)));}[_0x49e620(0xa0e)](_0x4beae6){const _0x286cd2=_0x49e620;_0x15a2a7[_0x286cd2(0x49b)](_0x34ca89=>{const _0x25488f=_0x286cd2,_0xe2fc70=_0x34ca89['reportMetric'](_0x4beae6);_0x34ca89[_0x25488f(0x75e)]&&_0xe2fc70>_0x34ca89[_0x25488f(0x75e)]&&this[_0x25488f(0x6f1)](_0x34ca89['type'],this['configs'][_0x25488f(0xaa8)][_0x25488f(0x27e)](),_0xa5a731[_0x25488f(0x69f)],_0xe2fc70),_0x34ca89['minThreshold']&&_0xe2fc70<_0x34ca89[_0x25488f(0x7c6)]&&this[_0x25488f(0x6f1)](_0x34ca89['type'],this[_0x25488f(0x720)][_0x25488f(0xaa8)][_0x25488f(0x27e)](),_0xa5a731[_0x25488f(0x69f)],_0xe2fc70);});}[_0x49e620(0xa73)](_0x4d07a2){const _0x2d5d1c=_0x49e620;let _0x165c57=[];switch(_0x4d07a2[_0x2d5d1c(0x8f1)]){case _0xa5a731['Sender']:_0x165c57=_0x25a853;break;case _0xa5a731[_0x2d5d1c(0x572)]:_0x165c57=_0x4b2b09;}_0x4d07a2[_0x2d5d1c(0xa0f)]&&this['detectVideoIssues'](_0x4d07a2[_0x2d5d1c(0x7cd)],_0xa5a731[_0x2d5d1c(0x69f)],_0x4d07a2[_0x2d5d1c(0xa0f)]),_0x4d07a2[_0x2d5d1c(0xa42)]&&this[_0x2d5d1c(0x72e)](_0x4d07a2[_0x2d5d1c(0x7cd)],_0xa5a731[_0x2d5d1c(0x69f)],_0x4d07a2[_0x2d5d1c(0xa42)]),_0x165c57[_0x2d5d1c(0x49b)](_0x3a9619=>{const _0x578b70=_0x2d5d1c,_0x55eba4=_0x3a9619[_0x578b70(0x378)](_0x4d07a2);_0x3a9619[_0x578b70(0x75e)]&&_0x55eba4>_0x3a9619[_0x578b70(0x75e)]&&this[_0x578b70(0x6f1)](_0x3a9619['type'],_0x4d07a2['nodeId'],_0xa5a731[_0x578b70(0x69f)],_0x55eba4),_0x3a9619[_0x578b70(0x7c6)]&&_0x55eba4<_0x3a9619[_0x578b70(0x7c6)]&&this[_0x578b70(0x6f1)](_0x3a9619[_0x578b70(0x70f)],_0x4d07a2[_0x578b70(0x7cd)],_0xa5a731[_0x578b70(0x69f)],_0x55eba4);});}[_0x49e620(0x53e)](_0x316c4a,_0x554fc5,_0x5def07){const _0xe4cf28=_0x49e620;0x0!==_0x5def07[_0xe4cf28(0x2f6)]&&_0x4d45d0[_0xe4cf28(0x49b)](_0x3500b4=>{const _0x19c29f=_0xe4cf28,_0x3ff2c8=_0x3500b4[_0x19c29f(0x378)](_0x5def07);_0x3500b4['maxThreshold']&&_0x3ff2c8>_0x3500b4[_0x19c29f(0x75e)]&&this['addIssue'](_0x3500b4[_0x19c29f(0x70f)],_0x316c4a,_0x554fc5,_0x3ff2c8,_0x19c29f(0xa0f)),_0x3500b4[_0x19c29f(0x7c6)]&&_0x3ff2c8<_0x3500b4[_0x19c29f(0x7c6)]&&this[_0x19c29f(0x6f1)](_0x3500b4[_0x19c29f(0x70f)],_0x316c4a,_0x554fc5,_0x3ff2c8,_0x19c29f(0xa0f));});}[_0x49e620(0x72e)](_0x7f955,_0x32cf23,_0x4919bc){const _0x35da21=_0x49e620;0x0!==_0x4919bc['bitrate']&&_0x385ce7[_0x35da21(0x49b)](_0x35f92c=>{const _0x32f45b=_0x35da21,_0x285fd6=_0x35f92c[_0x32f45b(0x378)](_0x4919bc);_0x35f92c[_0x32f45b(0x75e)]&&_0x285fd6>_0x35f92c[_0x32f45b(0x75e)]&&this[_0x32f45b(0x6f1)](_0x35f92c[_0x32f45b(0x70f)],_0x7f955,_0x32cf23,_0x285fd6,'audio'),_0x35f92c[_0x32f45b(0x7c6)]&&_0x285fd6<_0x35f92c['minThreshold']&&this[_0x32f45b(0x6f1)](_0x35f92c['type'],_0x7f955,_0x32cf23,_0x285fd6,'audio');});}['addIssue'](_0x52219e,_0x1c657e,_0x36b4d0,_0x4633d7,_0x2dd6da){const _0x2356a5=_0x49e620;_0xb8b103[_0x2356a5(0xad5)](_0xad09e4[_0x2356a5(0x55a)],_0x2356a5(0x2f8)+_0x52219e,_0x52219e,_0x4633d7),_0xb8b103[_0x2356a5(0x68c)](_0x2356a5(0xa43),{'clusterId':this[_0x2356a5(0x720)]['clusterId'],'nodeId':this[_0x2356a5(0x720)][_0x2356a5(0xaa8)][_0x2356a5(0x27e)](),'nodeType':this[_0x2356a5(0x720)][_0x2356a5(0xaa8)]['type'],'remoteId':_0x1c657e,'data':{'type':_0x52219e,'value':_0x4633d7,'kind':_0x2dd6da}}),this[_0x2356a5(0x493)]=this[_0x2356a5(0x493)][_0x2356a5(0x9e5)](_0x3b22eb=>Date['now']()-_0x3b22eb[_0x2356a5(0x8ea)]<0x7530),this['issues'][_0x2356a5(0x6b8)]({'timestamp':Date[_0x2356a5(0x4e4)](),'type':_0x52219e,'nodeId':_0x1c657e,'origin':_0x36b4d0,'value':_0x4633d7,'kind':_0x2dd6da});const _0x5ce0f0=this[_0x2356a5(0x493)][_0x2356a5(0x9e5)](_0x348bc8=>_0x348bc8['type']===_0x52219e&&_0x348bc8['nodeId']===_0x1c657e&&_0x348bc8[_0x2356a5(0x8f1)]===_0x36b4d0)['length'];this['detectProblems'](_0x52219e,_0x1c657e,_0x36b4d0,_0x5ce0f0);}[_0x49e620(0x6d3)](_0x518ffd,_0x1f33bf,_0x57166c){const _0x243203=_0x49e620;_0xb8b103[_0x243203(0xad5)](_0xad09e4[_0x243203(0x55a)],_0x243203(0x857)+_0x518ffd),_0xb8b103[_0x243203(0x68c)](_0x243203(0xa40),{'clusterId':this[_0x243203(0x720)][_0x243203(0x4a0)],'nodeId':this['configs'][_0x243203(0xaa8)][_0x243203(0x27e)](),'nodeType':this[_0x243203(0x720)][_0x243203(0xaa8)][_0x243203(0x70f)],'remoteId':_0x1f33bf,'data':{'type':_0x518ffd}}),this['systemTopic']?.[_0x243203(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665['Detection'],'content':{'type':_0x37cdc7[_0x243203(0x9ce)],'data':{'timestamp':Date[_0x243203(0x4e4)](),'nodeId':_0x1f33bf,'origin':_0xa5a731['Sender'],'type':_0x518ffd}}});}}class _0x43c7da extends _0x2e5add{[_0x49e620(0x70f)]=_0x596e17[_0x49e620(0x83b)]['Agent'];}class _0x55e8f6 extends _0x43c7da{['systemTopic'];['currentVersion']=Date['now']();['updateDebounceTimeout'];[_0x49e620(0xa0b)];[_0x49e620(0x5c2)](){const _0x4c01e4=_0x49e620;this[_0x4c01e4(0xa02)]&&(clearTimeout(this[_0x4c01e4(0xa02)]),delete this['updateDebounceTimeout']),delete this['lastUpdated'],this[_0x4c01e4(0x703)]=Date[_0x4c01e4(0x4e4)](),super[_0x4c01e4(0x5c2)]();}[_0x49e620(0xb51)](_0x196a2a){this['systemTopic']=_0x196a2a;}[_0x49e620(0xa6a)](){const _0x2ed40d=_0x49e620;delete this[_0x2ed40d(0x321)];}[_0x49e620(0x812)](_0xcdf8c7){const _0x4c63be=_0x49e620;!this[_0x4c63be(0xa02)]&&this[_0x4c63be(0xac6)]&&this[_0x4c63be(0x321)][_0x4c63be(0x544)]({'sourceId':this['id'],'destinationIds':[_0xcdf8c7],'propagate':!0x0,'messageType':_0x24f665['Node'],'content':{'type':_0x33a688['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x4c63be(0x70f)]},'rank':this[_0x4c63be(0x496)](),'remoteConnections':Array[_0x4c63be(0x9cc)](this[_0x4c63be(0x9ef)]),'version':this[_0x4c63be(0x703)]}});}[_0x49e620(0xb47)](_0x1742f7){const _0x5e0257=_0x49e620;this['remoteConnections'][_0x5e0257(0x29d)](_0x1742f7)||(this[_0x5e0257(0x9ef)]['add'](_0x1742f7),this[_0x5e0257(0x94c)](),this[_0x5e0257(0x53a)](!0x0));}['removeRemoteConnection'](_0x44f6e7){const _0x5de96b=_0x49e620;this[_0x5de96b(0x9ef)][_0x5de96b(0x29d)](_0x44f6e7)&&(this[_0x5de96b(0x9ef)][_0x5de96b(0x55f)](_0x44f6e7),this[_0x5de96b(0x94c)](),this[_0x5de96b(0x53a)](!0x0));}[_0x49e620(0x304)](){const _0x2bb34e=_0x49e620;return this[_0x2bb34e(0x703)];}[_0x49e620(0x64c)](_0x137c36,_0x1cfedd=!0x0){const _0x16f693=_0x49e620;this[_0x16f693(0xac6)]!==_0x137c36&&(this[_0x16f693(0xac6)]=_0x137c36,_0x1cfedd&&(this['incrementVersion'](),this[_0x16f693(0x53a)]()));}['incrementVersion'](){const _0x3a7f74=_0x49e620;this[_0x3a7f74(0x703)]=Date[_0x3a7f74(0x4e4)]();}[_0x49e620(0x53a)](_0x48fde8=!0x1){const _0x4cc4ca=_0x49e620;if(this['rank']){if(this[_0x4cc4ca(0xa0b)]||(this[_0x4cc4ca(0xa0b)]=Date[_0x4cc4ca(0x4e4)]()),this[_0x4cc4ca(0xa02)]){if(Date[_0x4cc4ca(0x4e4)]()-this[_0x4cc4ca(0xa0b)]>0x2328)return;clearTimeout(this[_0x4cc4ca(0xa02)]);}this[_0x4cc4ca(0xa02)]=setTimeout(()=>{const _0x316caf=_0x4cc4ca;delete this[_0x316caf(0xa0b)],delete this[_0x316caf(0xa02)],this['systemTopic'][_0x316caf(0x544)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x24f665['Node'],'content':{'type':_0x48fde8?_0x33a688[_0x316caf(0x969)]:_0x33a688[_0x316caf(0x243)],'id':this['id'],'metaData':{'type':this[_0x316caf(0x70f)]},'rank':this[_0x316caf(0x496)](),'remoteConnections':Array['from'](this[_0x316caf(0x9ef)]),'version':this[_0x316caf(0x703)]}});},0x3e8);}}}class _0x328b9b extends _0x54ac13{['systemTopic'];[_0x49e620(0x703)]=Date[_0x49e620(0x4e4)]();[_0x49e620(0xa02)];['lastUpdated'];[_0x49e620(0x5c2)](){const _0x259239=_0x49e620;this[_0x259239(0xa02)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x259239(0xa02)]),delete this[_0x259239(0xa0b)],this[_0x259239(0x703)]=Date[_0x259239(0x4e4)](),super[_0x259239(0x5c2)]();}[_0x49e620(0xb51)](_0x56afd4){const _0x53f3e4=_0x49e620;this[_0x53f3e4(0x321)]=_0x56afd4;}[_0x49e620(0xa6a)](){delete this['systemTopic'];}[_0x49e620(0x812)](_0x2d22a9){const _0x22b803=_0x49e620;!this[_0x22b803(0xa02)]&&this['rank']&&this['systemTopic'][_0x22b803(0x544)]({'sourceId':this['id'],'destinationIds':[_0x2d22a9],'propagate':!0x0,'messageType':_0x24f665[_0x22b803(0x601)],'content':{'type':_0x33a688[_0x22b803(0x243)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x22b803(0x3db)](),'email':this[_0x22b803(0x94d)]()},'rank':this[_0x22b803(0x496)](),'remoteConnections':Array['from'](this[_0x22b803(0x9ef)]),'version':this['currentVersion']}});}['addRemoteConnection'](_0x436d10){const _0x171df2=_0x49e620;this['remoteConnections'][_0x171df2(0x29d)](_0x436d10)||(this['remoteConnections'][_0x171df2(0x554)](_0x436d10),this[_0x171df2(0x94c)](),this[_0x171df2(0x53a)](!0x0));}['removeRemoteConnection'](_0x1c9b0d){const _0x173a44=_0x49e620;this[_0x173a44(0x9ef)]['has'](_0x1c9b0d)&&(this[_0x173a44(0x9ef)]['delete'](_0x1c9b0d),this[_0x173a44(0x94c)](),this['publishUserUpdate'](!0x0));}[_0x49e620(0x304)](){const _0x42cb0c=_0x49e620;return this[_0x42cb0c(0x703)];}[_0x49e620(0x352)](_0x18e225){const _0x9a129e=_0x49e620;this[_0x9a129e(0x9f7)]!==_0x18e225&&(this[_0x9a129e(0x9f7)]=_0x18e225,this[_0x9a129e(0x94c)](),this['publishUserUpdate']());}[_0x49e620(0x3a7)](_0x22aa59){const _0x588e0f=_0x49e620;this[_0x588e0f(0x76d)]!==_0x22aa59&&(this[_0x588e0f(0x76d)]=_0x22aa59,this[_0x588e0f(0x94c)](),this[_0x588e0f(0x53a)]());}['setRank'](_0x1ba994,_0x1d0845=!0x0){const _0x1def96=_0x49e620;this[_0x1def96(0xac6)]!==_0x1ba994&&(this[_0x1def96(0xac6)]=_0x1ba994,_0x1d0845&&(this[_0x1def96(0x94c)](),this[_0x1def96(0x53a)]()));}[_0x49e620(0x94c)](){const _0x559d1a=_0x49e620;this[_0x559d1a(0x703)]=Date[_0x559d1a(0x4e4)]();}[_0x49e620(0x53a)](_0x2dccee=!0x1){const _0x5a4278=_0x49e620;if(this['rank']){if(this[_0x5a4278(0xa0b)]||(this[_0x5a4278(0xa0b)]=Date[_0x5a4278(0x4e4)]()),this[_0x5a4278(0xa02)]){if(Date[_0x5a4278(0x4e4)]()-this[_0x5a4278(0xa0b)]>0x2328)return;clearTimeout(this[_0x5a4278(0xa02)]);}this[_0x5a4278(0xa02)]=setTimeout(()=>{const _0x341f00=_0x5a4278;delete this[_0x341f00(0xa0b)],delete this[_0x341f00(0xa02)],this[_0x341f00(0x321)][_0x341f00(0x544)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x24f665[_0x341f00(0x601)],'content':{'type':_0x2dccee?_0x33a688[_0x341f00(0x969)]:_0x33a688['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x341f00(0x70f)],'displayName':this[_0x341f00(0x3db)](),'email':this['getEmail']()},'rank':this[_0x341f00(0x496)](),'remoteConnections':Array[_0x341f00(0x9cc)](this['remoteConnections']),'version':this[_0x341f00(0x703)]}});},0x3e8);}}}class _0x8e4fe0{['id'];['groupId'];['vendorId'];[_0x49e620(0x56f)];[_0x49e620(0x70f)]=_0x596e17[_0x49e620(0x83b)]['Agent'];[_0x49e620(0xb15)];constructor(_0x2ef10d,_0x462aab,_0x40d158,_0x3bea47){const _0x27d9e4=_0x49e620;this['id']=_0x2ef10d,this['groupId']=_0x462aab,this[_0x27d9e4(0x2e6)]=_0x40d158,this[_0x27d9e4(0x56f)]=_0x3bea47;}[_0x49e620(0x27e)](){return this['id'];}['onConfigurationChange'](_0x11c915){const _0x50af79=_0x49e620,_0xbf29b1=(0x0,_0x3e7f37[_0x50af79(0x5aa)])((0x0,_0x3e7f37[_0x50af79(0x98c)])(_0xfa2cd['getFirestore'](),_0x50af79(0x897)+this['vendorId']+_0x50af79(0x88c)+this[_0x50af79(0x747)]),_0x4312d9=>{const _0x18f239=_0x50af79;if(_0x4312d9[_0x18f239(0x9af)]()){const _0x341d9c=_0x4312d9[_0x18f239(0x7b6)]();if(this[_0x18f239(0x56f)][_0x18f239(0x8ea)]['isEqual'](_0x341d9c[_0x18f239(0x8ea)]))return;_0xb8b103[_0x18f239(0xad5)](_0xad09e4[_0x18f239(0x601)],_0x18f239(0x58f),{'agentId':this['id'],'groupId':this[_0x18f239(0x747)],'oldConfig':this[_0x18f239(0x56f)],'newConfig':_0x341d9c}),this[_0x18f239(0x56f)]=_0x341d9c,_0x11c915();}});return()=>_0xbf29b1();}[_0x49e620(0x8f2)](_0xe97d0e){const _0x273d1c=_0x49e620;return this[_0x273d1c(0x22b)](this[_0x273d1c(0x747)],_0xe97d0e),_0x285f59[_0x273d1c(0x863)](()=>this[_0x273d1c(0x22b)](this[_0x273d1c(0x747)],_0xe97d0e),0x7530);}[_0x49e620(0xb28)](){const _0x46ae80=_0x49e620;if(!this[_0x46ae80(0xb15)])throw new _0x44727e(_0x44727e[_0x46ae80(0x849)][_0x46ae80(0x7d4)]);return this['lastCapacityReport'];}async[_0x49e620(0x22b)](_0x2cf651,_0x4d8055){const _0x55c43a=_0x49e620,_0x49c1ac=await _0x4d8055();this[_0x55c43a(0xb15)]=_0x49c1ac,await(0x0,_0x3e7f37[_0x55c43a(0x7f6)])((0x0,_0x3e7f37[_0x55c43a(0x828)])(_0xfa2cd[_0x55c43a(0x5d4)](),_0x55c43a(0x897)+this[_0x55c43a(0x2e6)]+'/capacities'),{'agentId':this['id'],'groupId':_0x2cf651,'timestamp':(0x0,_0x3e7f37[_0x55c43a(0xaea)])(),'capacity':_0x49c1ac});}}!function(_0x29d5b5){const _0xf4ff07=_0x49e620;_0x29d5b5[_0x29d5b5[_0xf4ff07(0x60b)]=0x0]=_0xf4ff07(0x60b),_0x29d5b5[_0x29d5b5[_0xf4ff07(0x689)]=0x1]=_0xf4ff07(0x689);}(_0x37e16f||(_0x37e16f={}));class _0x16560e extends _0x43c7da{[_0x49e620(0x703)];[_0x49e620(0xa3b)]=_0x37e16f[_0x49e620(0x60b)];['lastUpdated']=Date[_0x49e620(0x4e4)]();constructor(_0x247e74,_0x652d90=new Set(),_0x1ff6fb,_0x38b371){const _0x470c0e=_0x49e620;super(_0x247e74,_0x652d90,_0x38b371),this[_0x470c0e(0x703)]=_0x1ff6fb;}[_0x49e620(0x304)](){const _0x284ca4=_0x49e620;return this[_0x284ca4(0x703)];}[_0x49e620(0x39c)](){return this['status'];}[_0x49e620(0x757)](){const _0x21f5f2=_0x49e620;return this[_0x21f5f2(0xa0b)];}[_0x49e620(0x64c)](_0xdde39e){this['rank']!==_0xdde39e&&(this['rank']=_0xdde39e,this['updateLastUpdated']());}[_0x49e620(0x3a2)](_0xeed8f8){const _0x35ba97=_0x49e620;let _0x214084=!0x1;for(const _0x9acc3c of this[_0x35ba97(0x9ef)])_0xeed8f8['includes'](_0x9acc3c)||(_0x214084=!0x0,this['remoteConnections'][_0x35ba97(0x55f)](_0x9acc3c));for(const _0x4688e4 of _0xeed8f8)this[_0x35ba97(0x9ef)][_0x35ba97(0x29d)](_0x4688e4)||(_0x214084=!0x0,this[_0x35ba97(0x9ef)]['add'](_0x4688e4));_0x214084&&this[_0x35ba97(0xa60)]();}[_0x49e620(0x58a)](_0x57ee0f){const _0x49eef3=_0x49e620;this[_0x49eef3(0x703)]!==_0x57ee0f&&(this['currentVersion']=_0x57ee0f,this[_0x49eef3(0xa60)]());}[_0x49e620(0x2e0)](_0x1560a0){const _0x51785f=_0x49e620;this[_0x51785f(0xa3b)]!==_0x1560a0&&(this[_0x51785f(0xa3b)]=_0x1560a0,this['updateLastUpdated'](),_0x1560a0===_0x37e16f[_0x51785f(0x689)]&&this[_0x51785f(0x5c2)]());}['updateLastUpdated'](){const _0x1a3da4=_0x49e620;this['lastUpdated']=Date[_0x1a3da4(0x4e4)]();}}class _0x3cfa68 extends _0x54ac13{[_0x49e620(0x703)];[_0x49e620(0xa3b)]=_0x37e16f[_0x49e620(0x60b)];[_0x49e620(0xa0b)]=Date[_0x49e620(0x4e4)]();constructor(_0xf8bad9,_0x4f4dc0,_0x1117dd,_0x50aee5=new Set(),_0xb8d152,_0xd1cc94){const _0x2abe9b=_0x49e620;super(_0xf8bad9,_0x4f4dc0,_0x1117dd,_0x50aee5,_0xd1cc94),this[_0x2abe9b(0x703)]=_0xb8d152;}[_0x49e620(0x304)](){return this['currentVersion'];}[_0x49e620(0x39c)](){const _0x57ea60=_0x49e620;return this[_0x57ea60(0xa3b)];}['getLastUpdated'](){return this['lastUpdated'];}[_0x49e620(0x352)](_0x24ad45){const _0x458a0a=_0x49e620;this[_0x458a0a(0x9f7)]!==_0x24ad45&&(this[_0x458a0a(0x9f7)]=_0x24ad45,this[_0x458a0a(0xa60)]());}['setEmail'](_0x1e2b10){const _0xf1fdc6=_0x49e620;this['email']!==_0x1e2b10&&(this['email']=_0x1e2b10,this[_0xf1fdc6(0xa60)]());}[_0x49e620(0x64c)](_0x48f88d){const _0x3142ea=_0x49e620;this[_0x3142ea(0xac6)]!==_0x48f88d&&(this[_0x3142ea(0xac6)]=_0x48f88d,this[_0x3142ea(0xa60)]());}['setRemoteConnections'](_0x43256c){const _0x448e38=_0x49e620;let _0x354c30=!0x1;for(const _0x30516c of this['remoteConnections'])_0x43256c['includes'](_0x30516c)||(_0x354c30=!0x0,this[_0x448e38(0x9ef)][_0x448e38(0x55f)](_0x30516c));for(const _0xae7e10 of _0x43256c)this[_0x448e38(0x9ef)]['has'](_0xae7e10)||(_0x354c30=!0x0,this[_0x448e38(0x9ef)][_0x448e38(0x554)](_0xae7e10));_0x354c30&&this[_0x448e38(0xa60)]();}[_0x49e620(0x58a)](_0xf47195){const _0x2931ea=_0x49e620;this['currentVersion']!==_0xf47195&&(this[_0x2931ea(0x703)]=_0xf47195,this[_0x2931ea(0xa60)]());}[_0x49e620(0x2e0)](_0x56a3a7){const _0x5e9ca5=_0x49e620;this[_0x5e9ca5(0xa3b)]!==_0x56a3a7&&(this[_0x5e9ca5(0xa3b)]=_0x56a3a7,this[_0x5e9ca5(0xa60)](),_0x56a3a7===_0x37e16f['Offline']&&this[_0x5e9ca5(0x5c2)]());}[_0x49e620(0xa60)](){const _0x2b7eb9=_0x49e620;this[_0x2b7eb9(0xa0b)]=Date['now']();}}class _0x460b28{[_0x49e620(0x2e6)];['clusterId'];['localNode'];[_0x49e620(0x1fa)];['disconnectCallback']=_0x580ced();[_0x49e620(0x915)];['childRemovedUnsubscriber'];[_0x49e620(0x31b)];['connected']=!0x1;[_0x49e620(0x80e)];[_0x49e620(0x860)];constructor(_0x162304,_0x14790f,_0x4e54e2,_0x15fd86){const _0x4bd544=_0x49e620;this[_0x4bd544(0x2e6)]=_0x162304,this[_0x4bd544(0x4a0)]=_0x14790f,this[_0x4bd544(0xaa8)]=_0x4e54e2,this[_0x4bd544(0x1fa)]=_0x15fd86,this[_0x4bd544(0x80e)]=_0x4bd544(0x2c3)+this[_0x4bd544(0x2e6)]+_0x4bd544(0x2c3)+this[_0x4bd544(0x4a0)],this[_0x4bd544(0x860)]=_0x4bd544(0x2c3)+this[_0x4bd544(0x2e6)]+_0x4bd544(0x2c3)+this['localNode'][_0x4bd544(0x27e)](),this['firebaseUnsubscriber']=(0x0,_0x29614c[_0x4bd544(0x381)])((0x0,_0x29614c['ref'])(_0xfa2cd['getDatabase'](),_0x4bd544(0x926)),_0x33cbfc=>{const _0x9d83b=_0x4bd544;!0x0!==_0x33cbfc[_0x9d83b(0x663)]()?this[_0x9d83b(0xa22)]&&_0xb8b103[_0x9d83b(0x528)]('firebase-disconnect',{'clusterId':this[_0x9d83b(0x4a0)],'nodeId':this['localNode'][_0x9d83b(0x27e)](),'nodeType':this[_0x9d83b(0xaa8)]['type']}):(this[_0x9d83b(0xa22)]=!0x0,this[_0x9d83b(0x5b0)](),_0xb8b103['warning'](_0x9d83b(0x9fc),{'clusterId':this[_0x9d83b(0x4a0)],'nodeId':this[_0x9d83b(0xaa8)]['getId'](),'nodeType':this['localNode'][_0x9d83b(0x70f)]}));});}async[_0x49e620(0xae2)](){const _0x91250a=_0x49e620;await this[_0x91250a(0x47b)]();const _0x49f67d=await this['getAncestors']();return this['childRemovedUnsubscriber']=(0x0,_0x29614c[_0x91250a(0x58b)])((0x0,_0x29614c[_0x91250a(0x924)])(_0xfa2cd[_0x91250a(0x617)](),_0x91250a(0x36a)+this['clusterKey']+_0x91250a(0x8fd)),_0x52f31a=>{const _0x288e58=_0x91250a,_0x20be02=_0x52f31a[_0x288e58(0x298)];if(!_0x20be02)return;const _0x3bda9c=_0x20be02[_0x288e58(0x416)]('ccc'+this[_0x288e58(0x2e6)]+_0x288e58(0x2c3),'');this['disconnectCallback'][_0x288e58(0x544)](_0x3bda9c);}),_0x49f67d;}async['close'](){const _0x59df79=_0x49e620;this[_0x59df79(0x4c8)]?.(),delete this[_0x59df79(0x4c8)],this['onDisconnectHandler']?.[_0x59df79(0xad4)](),delete this[_0x59df79(0x31b)],this[_0x59df79(0x915)]?.(),delete this[_0x59df79(0x915)],await(0x0,_0x29614c[_0x59df79(0xa1e)])((0x0,_0x29614c[_0x59df79(0x924)])(_0xfa2cd['getDatabase'](),'clusters/'+this[_0x59df79(0x80e)]+_0x59df79(0x6db)+this['nodeKey']));}[_0x49e620(0x3b9)](_0x55d6e6){const _0x60b3c9=_0x49e620;return this[_0x60b3c9(0x9ba)][_0x60b3c9(0xa34)](_0x55d6e6);}async[_0x49e620(0xa12)](){const _0x4057e5=_0x49e620,_0x371743=[],_0xc0d0ab=await(0x0,_0x29614c['get'])((0x0,_0x29614c[_0x4057e5(0x924)])(_0xfa2cd['getDatabase'](),'clusters/'+this[_0x4057e5(0x80e)]+_0x4057e5(0x8fd))),_0x5dd1e5=[];return _0xc0d0ab['forEach'](_0x104092=>{const _0x315ac3=_0x4057e5,_0x2fc99f=_0x104092[_0x315ac3(0x298)]?.['replace'](_0x315ac3(0x2c3)+this['vendorId']+_0x315ac3(0x2c3),'');_0x5dd1e5[_0x315ac3(0x6b8)]({'id':_0x2fc99f,'joinedAt':_0x104092[_0x315ac3(0x663)]()['joinedAt'],'priority':_0x104092[_0x315ac3(0x663)]()[_0x315ac3(0x7fa)]});}),_0x5dd1e5[_0x4057e5(0x8d9)]((_0x740846,_0x1f6daa)=>_0x740846[_0x4057e5(0x54f)]===_0x1f6daa[_0x4057e5(0x54f)]?_0x740846[_0x4057e5(0x7fa)]-_0x1f6daa[_0x4057e5(0x7fa)]:_0x740846[_0x4057e5(0x54f)]-_0x1f6daa[_0x4057e5(0x54f)])[_0x4057e5(0x960)](_0x5dd1e5[_0x4057e5(0x207)](_0x2a9fc5=>_0x2a9fc5['id']===this[_0x4057e5(0xaa8)][_0x4057e5(0x27e)]())),_0x5dd1e5['sort']((_0x38fdb0,_0x10e8e4)=>_0x10e8e4[_0x4057e5(0x54f)]===_0x38fdb0['joinedAt']?_0x10e8e4[_0x4057e5(0x7fa)]-_0x38fdb0[_0x4057e5(0x7fa)]:_0x10e8e4[_0x4057e5(0x54f)]-_0x38fdb0['joinedAt'])['forEach'](_0x157558=>{const _0x1a35cc=_0x4057e5;_0x371743[_0x1a35cc(0x8bc)]>=this[_0x1a35cc(0x1fa)]||_0x371743[_0x1a35cc(0x6b8)](_0x157558['id']);}),_0xb8b103[_0x4057e5(0x68c)](_0x4057e5(0x8ce),{'clusterId':this[_0x4057e5(0x4a0)],'nodeId':this[_0x4057e5(0xaa8)]['getId'](),'nodeType':this[_0x4057e5(0xaa8)][_0x4057e5(0x70f)],'data':{'ancestorIds':_0x371743,'allNodes':_0x5dd1e5}}),_0x371743;}async[_0x49e620(0x47b)](){const _0x575dcb=_0x49e620;await(0x0,_0x29614c[_0x575dcb(0x9fa)])((0x0,_0x29614c[_0x575dcb(0x924)])(_0xfa2cd[_0x575dcb(0x617)](),'clusters/'+this['clusterKey']+'/nodes/'+this['nodeKey']),{'joinedAt':(0x0,_0x29614c['serverTimestamp'])(),'priority':Math['random']()});}['setOnDisconnectHandler'](){const _0x663d5e=_0x49e620;this[_0x663d5e(0x31b)]&&this[_0x663d5e(0x31b)][_0x663d5e(0xad4)](),this['onDisconnectHandler']=(0x0,_0x29614c[_0x663d5e(0x7ec)])((0x0,_0x29614c[_0x663d5e(0x924)])(_0xfa2cd[_0x663d5e(0x617)](),_0x663d5e(0x36a)+this[_0x663d5e(0x80e)]+_0x663d5e(0x6db)+this[_0x663d5e(0x860)])),this[_0x663d5e(0x31b)][_0x663d5e(0xa1e)]();}}class _0x2a0940{[_0x49e620(0x720)];[_0x49e620(0x5c0)];[_0x49e620(0x34f)];[_0x49e620(0x959)];[_0x49e620(0xa4d)];[_0x49e620(0x1f7)]=[];['systemTopic'];[_0x49e620(0x7d8)]=new Map();[_0x49e620(0x846)];[_0x49e620(0x5c5)];[_0x49e620(0x72f)];[_0x49e620(0x1f4)];[_0x49e620(0xa9a)];['readyDebounce'];constructor(_0xea2d82,_0x2dd0ee){const _0x4e4c56=_0x49e620;this[_0x4e4c56(0x720)]=_0xea2d82,this[_0x4e4c56(0x5c0)]=_0x2dd0ee,this['_isReady']=new Promise((_0x19237f,_0x3150d0)=>{const _0x14bceb=_0x4e4c56;this[_0x14bceb(0x1f4)]=_0x19237f,this[_0x14bceb(0xa9a)]=_0x3150d0;}),this[_0x4e4c56(0x959)]=new _0x460b28(this['configs'][_0x4e4c56(0x2e6)],this[_0x4e4c56(0x720)][_0x4e4c56(0x4a0)],this['configs']['localNode'],this[_0x4e4c56(0x5c0)][_0x4e4c56(0x883)]()),this[_0x4e4c56(0xa4d)]=this[_0x4e4c56(0x959)][_0x4e4c56(0x3b9)](this[_0x4e4c56(0x265)][_0x4e4c56(0x6e2)](this)),this['configs'][_0x4e4c56(0x63b)][_0x4e4c56(0x7c2)](this[_0x4e4c56(0x720)][_0x4e4c56(0xaa8)]),this[_0x4e4c56(0x720)][_0x4e4c56(0x63b)][_0x4e4c56(0x7c2)](this),this[_0x4e4c56(0x34f)]=_0x285f59[_0x4e4c56(0x863)](()=>{const _0x5825bb=_0x4e4c56,_0x5da043=Date['now']();this[_0x5825bb(0x5c0)]['getRemoteNodes']()[_0x5825bb(0x49b)](_0x42f263=>{const _0xccfeb9=_0x5825bb;_0x42f263[_0xccfeb9(0x39c)]()===_0x37e16f[_0xccfeb9(0x689)]&&_0x42f263['getLastUpdated']()<_0x5da043-0x493e0&&this[_0xccfeb9(0x5c0)][_0xccfeb9(0x559)](_0x42f263[_0xccfeb9(0x27e)]());});},0xea60);}async[_0x49e620(0xb05)](){const _0x421171=_0x49e620;return this[_0x421171(0x72f)];}async[_0x49e620(0x329)](_0x3f357b){return new Promise((_0x19d749,_0x229d9a)=>{const _0x176466=a0_0x2367;let _0x37c4fe;const _0x384b45=setTimeout(()=>{const _0xbb22a7=a0_0x2367;_0x37c4fe?.(),_0x229d9a(new Error(_0xbb22a7(0xa3d)+_0x3f357b+'\x27\x20is\x20not\x20ready'));},0x2710);if(this[_0x176466(0x5c0)][_0x176466(0x445)](_0x3f357b))return clearTimeout(_0x384b45),void _0x19d749(!0x0);_0x37c4fe=this['graphService']['onNodeUpdate'](()=>{const _0x57329e=_0x176466;this[_0x57329e(0x5c0)]['hasRemoteNode'](_0x3f357b)&&(clearTimeout(_0x384b45),_0x19d749(!0x0),_0x37c4fe?.());});});}[_0x49e620(0xb51)](_0x15ca96){const _0x251330=_0x49e620;this[_0x251330(0x321)]=_0x15ca96;}[_0x49e620(0xa6a)](){const _0x2df547=_0x49e620;delete this[_0x2df547(0x321)];}[_0x49e620(0x5c2)](){const _0x2180a5=_0x49e620;this[_0x2180a5(0x846)]&&(clearTimeout(this[_0x2180a5(0x846)]),delete this[_0x2180a5(0x846)]),delete this[_0x2180a5(0x5c5)],this[_0x2180a5(0x720)][_0x2180a5(0xaa8)][_0x2180a5(0x5c2)](),this[_0x2180a5(0x34f)](),this[_0x2180a5(0xa4d)](),this[_0x2180a5(0x720)][_0x2180a5(0x63b)][_0x2180a5(0x3fd)](this['configs']['localNode']),this['configs']['mediator'][_0x2180a5(0x3fd)](this),this[_0x2180a5(0x959)][_0x2180a5(0x5c2)]();}['getAncestorIds'](){const _0x4baa6e=_0x49e620;return this[_0x4baa6e(0x1f7)];}[_0x49e620(0x634)](){const _0x33ba21=_0x49e620;return this[_0x33ba21(0x720)][_0x33ba21(0xaa8)][_0x33ba21(0x27e)]();}[_0x49e620(0x9d0)](){const _0x41cffe=_0x49e620;return this['configs'][_0x41cffe(0xaa8)];}[_0x49e620(0x95b)](_0xd2479c){const _0x212ea0=_0x49e620,_0x43c393=Array[_0x212ea0(0x9cc)](this[_0x212ea0(0x5c0)]['getRemoteNodes']()[_0x212ea0(0x66b)]())[_0x212ea0(0x9e5)](_0x4000dc=>_0x4000dc[_0x212ea0(0x39c)]()===_0x37e16f['Online']);return _0xd2479c?_0x43c393[_0x212ea0(0x9e5)](_0xd2479c):_0x43c393;}async[_0x49e620(0x8ce)](){const _0xb9c879=_0x49e620;return this[_0xb9c879(0x1f7)]=await this['discoveryService'][_0xb9c879(0xae2)](),this[_0xb9c879(0x1f7)][_0xb9c879(0x8bc)]<this[_0xb9c879(0x5c0)][_0xb9c879(0x883)]()&&(this[_0xb9c879(0x720)][_0xb9c879(0xaa8)][_0xb9c879(0x64c)](this[_0xb9c879(0x1f7)]['length']+0x1),this['processRank']()),this[_0xb9c879(0x1f7)];}['getDistance'](_0x558e03,_0x40283c){const _0x569ffc=_0x49e620,_0xdc857=this['configs'][_0x569ffc(0xaa8)]['getRemoteConnections'](),_0x1639c0=new Set(_0xdc857),_0x367709=Array[_0x569ffc(0x9cc)](_0xdc857)[_0x569ffc(0x9e5)](_0x3969ac=>_0x3969ac!==_0x558e03)[_0x569ffc(0x3bb)](_0x439439=>({'id':_0x439439,'distance':0x1}));for(;_0x367709['length']>0x0;){const _0x3812c8=_0x367709[_0x569ffc(0x89f)]();if(!_0x3812c8)continue;if(_0x3812c8['id']===_0x40283c)return _0x3812c8[_0x569ffc(0x48f)];const _0x221634=this[_0x569ffc(0x5c0)][_0x569ffc(0x40d)](_0x3812c8['id']);_0x221634&&_0x221634[_0x569ffc(0x39c)]()!==_0x37e16f[_0x569ffc(0x689)]&&_0x221634[_0x569ffc(0x910)]()[_0x569ffc(0x49b)](_0x1675bf=>{const _0x1c04f6=_0x569ffc;_0x1639c0[_0x1c04f6(0x29d)](_0x1675bf)||(_0x1639c0[_0x1c04f6(0x554)](_0x1675bf),_0x367709['push']({'id':_0x1675bf,'distance':_0x3812c8[_0x1c04f6(0x48f)]+0x1}));});}return-0x1;}[_0x49e620(0x3d5)](_0x54d9e3){const _0x2ba12b=_0x49e620;try{switch(_0x54d9e3[_0x2ba12b(0x4fe)]['type']){case _0x33a688[_0x2ba12b(0x243)]:case _0x33a688[_0x2ba12b(0x969)]:this['handleNodeUpdate'](_0x54d9e3[_0x2ba12b(0x4fe)]),_0xb8b103[_0x2ba12b(0xad5)](_0xad09e4[_0x2ba12b(0x601)],_0x2ba12b(0xb74),'\x27'+this['configs'][_0x2ba12b(0xaa8)]['getId']()+',\x20'+_0x54d9e3[_0x2ba12b(0x4b4)]+'\x27',_0x54d9e3,_0x54d9e3[_0x2ba12b(0x4fe)]);break;case _0x33a688[_0x2ba12b(0x6d9)]:this[_0x2ba12b(0x6f4)](_0x54d9e3[_0x2ba12b(0x4fe)]['id']),_0xb8b103[_0x2ba12b(0xad5)](_0xad09e4[_0x2ba12b(0x601)],_0x2ba12b(0x7a9),'\x27'+this['configs'][_0x2ba12b(0xaa8)][_0x2ba12b(0x27e)]()+',\x20'+_0x54d9e3[_0x2ba12b(0x4b4)]+'\x27',_0x54d9e3,_0x54d9e3[_0x2ba12b(0x4fe)]);}}catch(_0xbf9f69){if(_0xbf9f69 instanceof _0x1a0753)return void _0xb8b103['log'](_0xad09e4[_0x2ba12b(0x601)],_0xbf9f69[_0x2ba12b(0x977)]);throw _0xbf9f69;}}[_0x49e620(0x7f3)](_0x4e9078){const _0x2eb0d3=_0x49e620;switch(_0x4e9078[_0x2eb0d3(0x4fe)]['type']){case _0x364a36[_0x2eb0d3(0x70b)]:this[_0x2eb0d3(0x3b8)](_0x4e9078[_0x2eb0d3(0x4b4)]),_0xb8b103[_0x2eb0d3(0xad5)](_0xad09e4['Node'],_0x2eb0d3(0x371),'\x27'+this[_0x2eb0d3(0x720)]['localNode'][_0x2eb0d3(0x27e)]()+',\x20'+_0x4e9078[_0x2eb0d3(0x4b4)]+'\x27',_0x4e9078,_0x4e9078[_0x2eb0d3(0x4fe)]);break;case _0x364a36[_0x2eb0d3(0x735)]:this[_0x2eb0d3(0x48d)](_0x4e9078[_0x2eb0d3(0x4b4)]),_0xb8b103['log'](_0xad09e4[_0x2eb0d3(0x601)],_0x2eb0d3(0x5e0),this[_0x2eb0d3(0x720)][_0x2eb0d3(0xaa8)][_0x2eb0d3(0x27e)](),_0x4e9078,_0x4e9078[_0x2eb0d3(0x4fe)]);}}[_0x49e620(0x58e)](_0x1b8058){const _0x1cf19b=_0x49e620;this[_0x1cf19b(0x205)](_0x1b8058),this[_0x1cf19b(0x5cc)](_0x1b8058);}[_0x49e620(0x5cc)](_0x5846b2){const _0x30cba1=_0x49e620;this[_0x30cba1(0x720)][_0x30cba1(0xaa8)][_0x30cba1(0x812)](_0x5846b2['id']),this[_0x30cba1(0xade)](_0x5846b2['id']),this[_0x30cba1(0x650)](_0x5846b2);}[_0x49e620(0x77d)](_0x3fec4e){const _0x3beb29=_0x49e620,{id:_0x19395d,metaData:_0x36af1d,rank:_0x5d656e,remoteConnections:_0x18feed,version:_0x33cdf7}=_0x3fec4e,_0x3a6e46=this['graphService'][_0x3beb29(0x40d)](_0x19395d);if(_0x3a6e46){if(!(_0x33cdf7<=_0x3a6e46[_0x3beb29(0x304)]())){if(_0x3a6e46[_0x3beb29(0x3a2)](_0x18feed),_0x3a6e46[_0x3beb29(0x58a)](_0x33cdf7),_0x3a6e46[_0x3beb29(0x70f)]===_0x596e17[_0x3beb29(0x83b)][_0x3beb29(0x981)]&&_0x36af1d[_0x3beb29(0x70f)]===_0x596e17[_0x3beb29(0x83b)][_0x3beb29(0x981)]&&(_0x3a6e46[_0x3beb29(0x352)](_0x36af1d[_0x3beb29(0x9f7)]),_0x3a6e46['setEmail'](_0x36af1d[_0x3beb29(0x76d)])),_0x5d656e&&_0x3a6e46[_0x3beb29(0x64c)](_0x5d656e),this[_0x3beb29(0x844)](_0x19395d,_0x5d656e),_0x3a6e46[_0x3beb29(0x39c)]()===_0x37e16f[_0x3beb29(0x689)])return _0x3a6e46[_0x3beb29(0x2e0)](_0x37e16f[_0x3beb29(0x60b)]),this[_0x3beb29(0x63c)](),void this[_0x3beb29(0x5cc)](_0x3fec4e);this[_0x3beb29(0x63c)](),this[_0x3beb29(0x1d4)]({'id':_0x19395d,'metaData':_0x36af1d,'remoteConnections':_0x18feed,'version':_0x33cdf7});}}else this[_0x3beb29(0x58e)](_0x3fec4e);}[_0x49e620(0x844)](_0x458cc3,_0x448c86){const _0x352dbf=_0x49e620;_0x448c86&&this[_0x352dbf(0x1f7)]['includes'](_0x458cc3)&&this['configs'][_0x352dbf(0xaa8)][_0x352dbf(0x64c)](_0x448c86+this[_0x352dbf(0x1f7)][_0x352dbf(0x688)](_0x458cc3)+0x1);}[_0x49e620(0x3b8)](_0x5349dd){const _0x48597e=_0x49e620;this[_0x48597e(0x720)][_0x48597e(0xaa8)][_0x48597e(0xb47)](_0x5349dd);}[_0x49e620(0x205)]({id:_0x54e0be,metaData:_0x228b85,rank:_0xa41912,remoteConnections:_0x1a60dc,version:_0x5d9778}){const _0x6cd8d=_0x49e620;if(this[_0x6cd8d(0x5c0)]['hasRemoteNode'](_0x54e0be))throw new _0x1a0753('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x54e0be);switch(_0x228b85['type']){case _0x596e17[_0x6cd8d(0x83b)][_0x6cd8d(0x981)]:const {displayName:_0xed9a24,email:_0x101427}=_0x228b85;this['graphService'][_0x6cd8d(0xaec)](_0x54e0be,new _0x3cfa68(_0x54e0be,_0xed9a24,_0x101427,new Set(_0x1a60dc),_0x5d9778,_0xa41912));break;case _0x596e17[_0x6cd8d(0x83b)][_0x6cd8d(0x783)]:this[_0x6cd8d(0x5c0)][_0x6cd8d(0xaec)](_0x54e0be,new _0x16560e(_0x54e0be,new Set(_0x1a60dc),_0x5d9778,_0xa41912));}const _0x35da17=this[_0x6cd8d(0x95b)](),_0x3c6a78=new Set(this['ancestors']);_0x35da17[_0x6cd8d(0x49b)](_0x2acb97=>{const _0x22733e=_0x6cd8d;_0x3c6a78[_0x22733e(0x29d)](_0x2acb97[_0x22733e(0x27e)]())&&_0x3c6a78['delete'](_0x2acb97[_0x22733e(0x27e)]());}),0x0===_0x3c6a78[_0x6cd8d(0x65a)]&&this[_0x6cd8d(0x1f4)]&&(this[_0x6cd8d(0x59b)]&&clearTimeout(this['readyDebounce']),this['readyDebounce']=setTimeout(()=>{const _0x53dd20=_0x6cd8d;this[_0x53dd20(0x1f4)]?.(!0x0),delete this[_0x53dd20(0x1f4)],delete this[_0x53dd20(0xa9a)];},0x7d0)),this['setLocalRank'](_0x54e0be,_0xa41912),this[_0x6cd8d(0x63c)]();}[_0x49e620(0xade)](_0xaf326f){const _0x42e2af=_0x49e620;this['systemTopic']['publish']({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x42e2af(0x601)],'content':{'type':_0x33a688[_0x42e2af(0x1ea)],'id':_0xaf326f}});}[_0x49e620(0x48d)](_0x212413){const _0xee1188=_0x49e620;this[_0xee1188(0x321)]?.[_0xee1188(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665['Node'],'content':{'type':_0x33a688[_0xee1188(0x6d9)],'id':_0x212413}});}[_0x49e620(0x265)](_0x196dfe){const _0x33b065=_0x49e620;if(_0x196dfe===this['configs'][_0x33b065(0xaa8)][_0x33b065(0x27e)]())return this[_0x33b065(0x720)][_0x33b065(0x63b)][_0x33b065(0x36b)](_0x33b065(0xaad),{'id':_0x196dfe}),this[_0x33b065(0x720)]['mediator'][_0x33b065(0x5c2)]({'force':!0x0},!0x0),this[_0x33b065(0x720)]['mediator'][_0x33b065(0x73d)](),void this[_0x33b065(0x720)][_0x33b065(0x63b)][_0x33b065(0x8ee)]();this[_0x33b065(0x48d)](_0x196dfe);}[_0x49e620(0x6f4)](_0x4ff363){const _0xff10c7=_0x49e620;this[_0xff10c7(0x1f7)]['includes'](_0x4ff363)?this[_0xff10c7(0x7b2)](_0x4ff363):this[_0xff10c7(0x720)]['localNode'][_0xff10c7(0x910)]()['has'](_0x4ff363)&&this[_0xff10c7(0xab7)](_0x4ff363),this['configs']['localNode'][_0xff10c7(0x246)](_0x4ff363);const _0x291aab=Array[_0xff10c7(0x9cc)](this[_0xff10c7(0x7d8)][_0xff10c7(0xa33)]())[_0xff10c7(0x94a)](([,_0x235168])=>_0x235168==_0x235168);_0x291aab&&this[_0xff10c7(0x7d8)][_0xff10c7(0x55f)](_0x291aab[0x0]);const _0x256df6=this[_0xff10c7(0x5c0)][_0xff10c7(0x40d)](_0x4ff363);if(!_0x256df6)return;const _0x4e3c49=_0x256df6[_0xff10c7(0x496)](),_0x4f5c6a=this[_0xff10c7(0x720)][_0xff10c7(0xaa8)][_0xff10c7(0x496)]();_0x4f5c6a&&_0x4e3c49&&_0x4e3c49<_0x4f5c6a&&this[_0xff10c7(0x720)]['localNode']['setRank'](_0x4f5c6a-0x1,!0x1),Array['from'](this[_0xff10c7(0x5c0)]['getRemoteNodes']()[_0xff10c7(0x66b)]())[_0xff10c7(0x49b)](_0x291feb=>{const _0x4527c0=_0xff10c7,_0x13957b=_0x291feb[_0x4527c0(0x496)]();_0x13957b&&_0x4e3c49&&_0x4e3c49<_0x13957b&&_0x291feb[_0x4527c0(0x64c)](_0x13957b-0x1);}),_0x256df6[_0xff10c7(0x2e0)](_0x37e16f[_0xff10c7(0x689)]),this[_0xff10c7(0x720)][_0xff10c7(0x63b)]['notifyCluster'](_0x256df6['type']+_0xff10c7(0x8cc),{'id':_0x4ff363});}[_0x49e620(0x650)]({id:_0x185f86,metaData:_0x437ea2,remoteConnections:_0x2f3416}){const _0x408131=_0x49e620;switch(_0x437ea2['type']){case _0x596e17['NodeType']['User']:this['configs'][_0x408131(0x63b)][_0x408131(0x36b)](_0x408131(0x74b),{'id':_0x185f86,'metaData':_0x437ea2,'remoteConnections':_0x2f3416});break;case _0x596e17[_0x408131(0x83b)][_0x408131(0x783)]:this[_0x408131(0x720)][_0x408131(0x63b)][_0x408131(0x36b)]('agent-join',{'id':_0x185f86,'metaData':_0x437ea2,'remoteConnections':_0x2f3416});}}[_0x49e620(0x1d4)]({id:_0x413806,metaData:_0x48ae1e,remoteConnections:_0x43b3a7}){const _0x562acf=_0x49e620;switch(_0x48ae1e['type']){case _0x596e17[_0x562acf(0x83b)][_0x562acf(0x981)]:this['configs'][_0x562acf(0x63b)]['notifyCluster'](_0x562acf(0x593),{'id':_0x413806,'metaData':_0x48ae1e,'remoteConnections':_0x43b3a7});break;case _0x596e17[_0x562acf(0x83b)]['Agent']:this[_0x562acf(0x720)][_0x562acf(0x63b)][_0x562acf(0x36b)]('agent-update',{'id':_0x413806,'metaData':_0x48ae1e,'remoteConnections':_0x43b3a7});}}[_0x49e620(0x63c)](){const _0x484892=_0x49e620;if(this[_0x484892(0x5c5)]||(this['lastProcessRank']=Date['now']()),this['debounceProcessRank']){if(Date[_0x484892(0x4e4)]()-this[_0x484892(0x5c5)]>0x2328)return;clearTimeout(this[_0x484892(0x846)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x24aa1d=_0x484892;delete this[_0x24aa1d(0x5c5)],delete this[_0x24aa1d(0x846)];const _0x305f55=this[_0x24aa1d(0x720)][_0x24aa1d(0xaa8)]['getRank']();if(!_0x305f55)return;const _0x488d62=this[_0x24aa1d(0x5c0)][_0x24aa1d(0x1d1)](this[_0x24aa1d(0x5c0)][_0x24aa1d(0x95b)]()['size']);if(this[_0x24aa1d(0x7d8)]['size']>=_0x488d62)return;let _0x30b72f=0x1;for(;this[_0x24aa1d(0x720)][_0x24aa1d(0x63b)][_0x24aa1d(0xa03)]()[_0x24aa1d(0x8bc)]<this[_0x24aa1d(0x5c0)]['getMaxConnections']()&&_0x30b72f<=_0x488d62;){if(this['optimizationLayers'][_0x24aa1d(0x29d)](_0x30b72f)){_0x30b72f+=0x1;continue;}const _0x4a0bb3=this[_0x24aa1d(0x5c0)]['getNextTargetRank'](_0x305f55,_0x30b72f),_0x3c0962=Array[_0x24aa1d(0x9cc)](this['graphService'][_0x24aa1d(0x95b)]()[_0x24aa1d(0x66b)]())[_0x24aa1d(0x94a)](_0x5d7521=>_0x5d7521[_0x24aa1d(0x496)]()===_0x4a0bb3&&_0x5d7521['getStatus']()===_0x37e16f[_0x24aa1d(0x60b)]);if(_0x3c0962){try{await this[_0x24aa1d(0x720)][_0x24aa1d(0x63b)][_0x24aa1d(0x673)](_0x3c0962['getId'](),_0xcf68f1[_0x24aa1d(0x70c)]),this[_0x24aa1d(0x7d8)][_0x24aa1d(0x9fa)](_0x30b72f,_0x3c0962[_0x24aa1d(0x27e)]());}catch(_0x1c86af){if(!(_0x1c86af instanceof _0x44727e&&_0x1c86af[_0x24aa1d(0x283)]===_0x44727e[_0x24aa1d(0x849)][_0x24aa1d(0x6dc)]))throw _0x1c86af;_0xb8b103['log'](_0xad09e4[_0x24aa1d(0x601)],this[_0x24aa1d(0x720)][_0x24aa1d(0xaa8)][_0x24aa1d(0x27e)](),_0x3c0962[_0x24aa1d(0x27e)](),_0x1c86af['message']);}_0x30b72f+=0x1;}else _0x30b72f+=0x1;}},0x3e8);}async[_0x49e620(0x7b2)](_0xbccbf9){const _0x5c28da=_0x49e620;this['ancestors'][_0x5c28da(0x960)](this['ancestors'][_0x5c28da(0x688)](_0xbccbf9),0x1);const _0x27b5b1=await this[_0x5c28da(0x959)][_0x5c28da(0xa12)]();for(const _0x95aa56 of _0x27b5b1)if(!this[_0x5c28da(0x1f7)][_0x5c28da(0x2ef)](_0x95aa56)){const _0x5ac431=Array[_0x5c28da(0x9cc)](this['optimizationLayers']['entries']())['find'](([,_0x26541b])=>_0x26541b===_0x95aa56);_0x5ac431&&this[_0x5c28da(0x7d8)][_0x5c28da(0x55f)](_0x5ac431[0x0]),this['configs'][_0x5c28da(0x63b)][_0x5c28da(0x673)](_0x95aa56,_0xcf68f1[_0x5c28da(0x622)]);}0x0===_0x27b5b1['length']&&this['configs'][_0x5c28da(0xaa8)][_0x5c28da(0x64c)](0x1),this[_0x5c28da(0x1f7)]=_0x27b5b1;}async[_0x49e620(0xab7)](_0x1c0dcc){const _0x1c2606=_0x49e620,_0x482ac2=this['configs'][_0x1c2606(0xaa8)][_0x1c2606(0x496)]();if(!_0x482ac2)return;const _0x42b336=this['graphService'][_0x1c2606(0x40d)](_0x1c0dcc);if(!_0x42b336||_0x42b336[_0x1c2606(0x39c)]()===_0x37e16f[_0x1c2606(0x689)])return;const _0x49808=_0x42b336[_0x1c2606(0x496)]();if(!_0x49808||_0x49808<_0x482ac2)return;const _0x2a9f9b=this[_0x1c2606(0x287)](this[_0x1c2606(0x720)][_0x1c2606(0xaa8)][_0x1c2606(0x910)](),_0x482ac2),_0x4a823d=this[_0x1c2606(0x287)](_0x42b336[_0x1c2606(0x910)](),_0x49808)[_0x2a9f9b[_0x1c2606(0x207)](([_0x2c5372])=>_0x2c5372===_0x1c0dcc)];if(!_0x4a823d||this[_0x1c2606(0x720)][_0x1c2606(0xaa8)][_0x1c2606(0x910)]()[_0x1c2606(0x29d)](_0x4a823d[0x0]))return;const _0xb56c5d=this[_0x1c2606(0x5c0)][_0x1c2606(0x40d)](_0x4a823d[0x0]);if(_0xb56c5d&&_0xb56c5d['getStatus']()!==_0x37e16f['Offline'])try{await this['configs'][_0x1c2606(0x63b)]['createConnection'](_0x4a823d[0x0],_0xcf68f1['Optimization']);const _0x21c813=Array[_0x1c2606(0x9cc)](this['optimizationLayers'][_0x1c2606(0xa33)]())[_0x1c2606(0x94a)](([,_0x18ba34])=>_0x18ba34===_0x1c0dcc);_0x21c813&&this[_0x1c2606(0x7d8)][_0x1c2606(0x9fa)](_0x21c813[0x0],_0x4a823d[0x0]);}catch(_0x1907c0){if(!(_0x1907c0 instanceof _0x44727e&&_0x1907c0[_0x1c2606(0x283)]===_0x44727e['codes']['RemoteConnectionExists']))throw _0x1907c0;_0xb8b103[_0x1c2606(0xad5)](_0xad09e4[_0x1c2606(0x601)],this[_0x1c2606(0x720)][_0x1c2606(0xaa8)]['getId'](),_0x4a823d[0x0],_0x1907c0[_0x1c2606(0x977)]);}}['getOutgoingOptimizationConnections'](_0x213108,_0x347a1a){const _0x284582=_0x49e620;return Array['from'](_0x213108)['reduce']((_0x20232f,_0x18c50a)=>{const _0x333052=a0_0x2367,_0xe95d5=this[_0x333052(0x5c0)][_0x333052(0x40d)](_0x18c50a);if(!_0xe95d5||_0xe95d5[_0x333052(0x39c)]()===_0x37e16f[_0x333052(0x689)])return _0x20232f;const _0x16b732=_0xe95d5[_0x333052(0x496)]();if(!_0x16b732)return _0x20232f;const _0x2602b1=_0x16b732-_0x347a1a;return _0x2602b1<=this[_0x333052(0x5c0)][_0x333052(0x883)]()||_0x20232f[_0x333052(0x6b8)]([_0x18c50a,_0x2602b1]),_0x20232f;},[])[_0x284582(0x8d9)](([,_0x5e13d8],[,_0x922ba4])=>_0x5e13d8-_0x922ba4);}}const _0x6b354e=[{'problemType':_0x5b7596['CPUCycle'],'remediations':[{'type':_0x5f5d86[_0x49e620(0x34c)],'component':_0xd1e9ce[_0x49e620(0xb79)],'action':_0x18e796[_0x49e620(0x9b4)]},{'type':_0x5f5d86[_0x49e620(0x920)],'component':_0xd1e9ce[_0x49e620(0xb79)],'action':_0x18e796[_0x49e620(0x9b4)]}]},{'problemType':_0x5b7596[_0x49e620(0x82e)],'remediations':[{'type':_0x5f5d86[_0x49e620(0x34c)],'component':_0xd1e9ce[_0x49e620(0xb79)],'action':_0x18e796['Downgrade']}]},{'problemType':_0x5b7596[_0x49e620(0x6cb)],'remediations':[{'type':_0x5f5d86[_0x49e620(0x34c)],'component':_0xd1e9ce[_0x49e620(0xb79)],'action':_0x18e796['Downgrade']}]},{'problemType':_0x5b7596[_0x49e620(0x97a)],'remediations':[{'type':_0x5f5d86[_0x49e620(0x34c)],'component':_0xd1e9ce[_0x49e620(0xb79)],'action':_0x18e796[_0x49e620(0x9b4)]}]},{'problemType':_0x5b7596[_0x49e620(0x9c4)],'remediations':[{'type':_0x5f5d86[_0x49e620(0x34c)],'component':_0xd1e9ce['Bitrate'],'action':_0x18e796[_0x49e620(0x9b4)]}]},{'problemType':_0x5b7596[_0x49e620(0x725)],'remediations':[{'type':_0x5f5d86[_0x49e620(0x34c)],'component':_0xd1e9ce[_0x49e620(0x9c4)],'action':_0x18e796['Downgrade']}]},{'problemType':_0x5b7596[_0x49e620(0x637)],'remediations':[{'type':_0x5f5d86['Remediation'],'component':_0xd1e9ce[_0x49e620(0x9c4)],'action':_0x18e796[_0x49e620(0x9b4)]}]}];class _0x412e35{[_0x49e620(0x720)];[_0x49e620(0x321)];[_0x49e620(0x998)]=new Map();constructor(_0x2bf2a0){const _0x1d0f66=_0x49e620;this[_0x1d0f66(0x720)]=_0x2bf2a0,this[_0x1d0f66(0x720)][_0x1d0f66(0x63b)][_0x1d0f66(0x7c2)](this);}[_0x49e620(0x5c2)](){const _0x3a19fe=_0x49e620;this[_0x3a19fe(0x720)]['mediator'][_0x3a19fe(0x3fd)](this);}[_0x49e620(0xb51)](_0x45b7fb){const _0x59f4aa=_0x49e620;this[_0x59f4aa(0x321)]=_0x45b7fb;}[_0x49e620(0xa6a)](){delete this['systemTopic'];}['handleDetectionSystemEvents'](_0x4d6875){const _0x258d01=_0x49e620;_0x4d6875[_0x258d01(0x4fe)][_0x258d01(0x70f)]===_0x37cdc7['Problem']&&this['handleProblem'](_0x4d6875[_0x258d01(0x4fe)][_0x258d01(0x7b6)]);}[_0x49e620(0x3d0)](_0x1fe521){const _0x49a88c=_0x49e620;_0x1fe521[_0x49a88c(0x4fe)]['type']===_0x5f5d86[_0x49a88c(0x920)]&&this[_0x49a88c(0x52f)](_0x1fe521[_0x49a88c(0x4b4)],{'type':_0x5f5d86['Remediation'],'component':_0x1fe521[_0x49a88c(0x4fe)][_0x49a88c(0x7b6)]['component'],'action':_0x1fe521[_0x49a88c(0x4fe)][_0x49a88c(0x7b6)]['action']});}[_0x49e620(0x2ca)](_0x26671c){const _0x3e8d69=_0x49e620,_0x35d565=_0x6b354e['find'](_0x2fab06=>_0x2fab06[_0x3e8d69(0x876)]===_0x26671c['type']);_0x35d565[_0x3e8d69(0x49a)]?.[_0x3e8d69(0x49b)](_0x121b3b=>{const _0x2bf951=_0x3e8d69;this[_0x2bf951(0x52f)](_0x26671c['nodeId'],{'type':_0x26671c[_0x2bf951(0x8f1)]===_0xa5a731[_0x2bf951(0x69f)]?_0x5f5d86['Remediation']:_0x5f5d86[_0x2bf951(0x920)],'component':_0x121b3b[_0x2bf951(0x2ac)],'action':_0x121b3b[_0x2bf951(0xaa7)]});});}['applyRemediation'](_0x35cf63,_0x5b798c){const _0x342bd7=_0x49e620;if(_0x5b798c[_0x342bd7(0x70f)]===_0x5f5d86[_0x342bd7(0x34c)]){const _0x198bce=Date[_0x342bd7(0x4e4)](),_0x142f44=this[_0x342bd7(0x998)]['get'](_0x35cf63);if(_0x142f44&&_0x198bce-_0x142f44<0x1388)return;this[_0x342bd7(0x998)][_0x342bd7(0x9fa)](_0x35cf63,_0x198bce);}_0xb8b103[_0x342bd7(0xad5)](_0xad09e4[_0x342bd7(0x34c)],'Apply\x20remediation',_0x5b798c),_0xb8b103[_0x342bd7(0x68c)](_0x342bd7(0x5ea),{'clusterId':this[_0x342bd7(0x720)]['clusterId'],'nodeId':this[_0x342bd7(0x720)][_0x342bd7(0xaa8)][_0x342bd7(0x27e)](),'nodeType':this[_0x342bd7(0x720)]['localNode']['type'],'remoteId':_0x35cf63,'data':{'type':_0x5b798c[_0x342bd7(0x70f)],'component':_0x5b798c[_0x342bd7(0x2ac)],'action':_0x5b798c[_0x342bd7(0xaa7)]}});let _0x39a11b,_0x236746=_0x11f0c5;_0x5b798c[_0x342bd7(0x70f)]===_0x5f5d86['RemoteRemediation']&&(_0x236746=this[_0x342bd7(0x720)]['localNode'][_0x342bd7(0x27e)](),_0x39a11b=[_0x35cf63]),this['systemTopic'][_0x342bd7(0x544)]({'sourceId':_0x236746,'destinationIds':_0x39a11b,'messageType':_0x24f665[_0x342bd7(0x34c)],'content':{'type':_0x5b798c[_0x342bd7(0x70f)],'targetId':_0x35cf63,'data':_0x5b798c}});}}const _0x2b9ded=0x3e8,_0x4e749e=0x7530,_0x4332ff='outbound-rtp',_0x273294=_0x49e620(0x7ae),_0x301aa5='inbound-rtp',_0x10ff38=[_0x4332ff,_0x273294],_0xede561=[_0x301aa5];class _0x289cee{['roundTripTime']=0x0;[_0x49e620(0x369)]=0x0;[_0x49e620(0x258)]=0x0;[_0x49e620(0x669)]=0x0;['packets']=0x0;[_0x49e620(0x9c5)]=0x0;[_0x49e620(0x4f8)]=0x0;[_0x49e620(0x489)]=0x0;[_0x49e620(0x1f8)]=0x0;get[_0x49e620(0x2f6)](){const _0xd8dae2=_0x49e620;return this[_0xd8dae2(0x9c5)]>0x0&&this[_0xd8dae2(0x4f8)]>0x0&&Date['now']()-this[_0xd8dae2(0x9c5)]<_0x4e749e?(this['currentBytes']-this[_0xd8dae2(0x1f8)])/(this[_0xd8dae2(0x9c5)]-this[_0xd8dae2(0x4f8)])*0x8*0x3e8:0x0;}['processReport'](_0x33a4fd){const _0x4474ba=_0x49e620;switch(_0x33a4fd[_0x4474ba(0x70f)]){case _0x301aa5:this[_0x4474ba(0x347)](_0x33a4fd);break;case _0x4332ff:this[_0x4474ba(0x923)](_0x33a4fd);break;case _0x273294:this[_0x4474ba(0x988)](_0x33a4fd);}}[_0x49e620(0x9b9)](){const _0x5a77a2=_0x49e620;return{'bitrate':this[_0x5a77a2(0x2f6)],'packetsLostPerc':this['getPacketsLostPerc'](),'roundTripTime':this[_0x5a77a2(0x437)],'jitter':this['jitter']};}[_0x49e620(0x347)](_0x31b2ef){const _0x44a778=_0x49e620;this['setBytes'](_0x31b2ef['bytesReceived']),this[_0x44a778(0x25d)](_0x31b2ef[_0x44a778(0x8ea)]),this['packets']=_0x31b2ef['packetsReceived'],this[_0x44a778(0x669)]=_0x31b2ef[_0x44a778(0x669)],void 0x0!==_0x31b2ef[_0x44a778(0x258)]?this[_0x44a778(0x258)]=_0x31b2ef[_0x44a778(0x258)]:this['jitter']=0x0,void 0x0!==_0x31b2ef['estimatedPlayoutTimestamp']?this[_0x44a778(0x369)]=_0x31b2ef[_0x44a778(0x369)]:this[_0x44a778(0x369)]=0x0;}['processOutboundReport'](_0x4c3c8c){const _0xceae08=_0x49e620;this['setBytes'](_0x4c3c8c['bytesSent']),this[_0xceae08(0x25d)](_0x4c3c8c[_0xceae08(0x8ea)]),this[_0xceae08(0x9a7)]=_0x4c3c8c[_0xceae08(0xa37)];}[_0x49e620(0x988)](_0x4112bb){const _0x6cd88f=_0x49e620;this[_0x6cd88f(0x437)]=0x3e8*_0x4112bb[_0x6cd88f(0x437)],void 0x0!==_0x4112bb[_0x6cd88f(0x258)]?this['jitter']=_0x4112bb[_0x6cd88f(0x258)]:this[_0x6cd88f(0x258)]=0x0;}[_0x49e620(0x6d1)](){const _0x3fc396=_0x49e620;return this[_0x3fc396(0x9a7)]>0x0?this[_0x3fc396(0x669)]/this['packets']:0x0;}[_0x49e620(0x25d)](_0x57fa4c){const _0x5d87fe=_0x49e620;_0x57fa4c>this[_0x5d87fe(0x9c5)]&&(this['previousTimestamp']=this[_0x5d87fe(0x9c5)],this[_0x5d87fe(0x9c5)]=_0x57fa4c);}['setBytes'](_0x3da0c3){const _0x2d9016=_0x49e620;this['previousBytes']=this['currentBytes'],this[_0x2d9016(0x489)]=_0x3da0c3;}}class _0x2c05ab extends _0x289cee{}class _0x41a694 extends _0x289cee{[_0x49e620(0x586)]=0x0;[_0x49e620(0xb4d)]=0x0;['frameHeight']=0x0;[_0x49e620(0x1e5)]=0x0;[_0x49e620(0xb12)]=0x0;get['fps'](){const _0x5ca6ee=_0x49e620;return this[_0x5ca6ee(0x9c5)]>0x0&&this[_0x5ca6ee(0x4f8)]>0x0&&Date['now']()-this['currentTimestamp']<_0x4e749e?(this[_0x5ca6ee(0x1e5)]-this[_0x5ca6ee(0xb12)])/(this[_0x5ca6ee(0x9c5)]-this[_0x5ca6ee(0x4f8)])*0x3e8:0x0;}get[_0x49e620(0x86d)](){const _0x40f37c=_0x49e620;return this[_0x40f37c(0x586)]&&this[_0x40f37c(0x1e5)]&&this[_0x40f37c(0x1e5)]>0x0?this[_0x40f37c(0x586)]/this['currentFrames']:0x0;}set[_0x49e620(0x645)](_0x2b205f){const _0x2cdf18=_0x49e620;this[_0x2cdf18(0xb12)]=this[_0x2cdf18(0x1e5)],this[_0x2cdf18(0x1e5)]=_0x2b205f;}[_0x49e620(0x9b9)](){const _0x10b7bd=_0x49e620;return{...super[_0x10b7bd(0x9b9)](),'FPS':this[_0x10b7bd(0x895)],'timePerFrame':this[_0x10b7bd(0x86d)],'frameWidth':this['frameWidth'],'frameHeight':this[_0x10b7bd(0x57e)]};}['processInboundReport'](_0xd11424){const _0xb6ebff=_0x49e620;super['processInboundReport'](_0xd11424),this[_0xb6ebff(0x586)]=_0xd11424[_0xb6ebff(0x356)],this[_0xb6ebff(0x645)]=_0xd11424['framesDecoded'],this[_0xb6ebff(0xb4d)]=_0xd11424[_0xb6ebff(0xb4d)],this[_0xb6ebff(0x57e)]=_0xd11424[_0xb6ebff(0x57e)];}['processOutboundReport'](_0x2d8bb0){const _0x4c022e=_0x49e620;super['processOutboundReport'](_0x2d8bb0),this[_0x4c022e(0x586)]=_0x2d8bb0[_0x4c022e(0x729)],this['frames']=_0x2d8bb0[_0x4c022e(0x302)],this[_0x4c022e(0xb4d)]=_0x2d8bb0[_0x4c022e(0xb4d)],this[_0x4c022e(0x57e)]=_0x2d8bb0['frameHeight'];}}class _0x267432{[_0x49e620(0xa42)]=new _0x2c05ab();[_0x49e620(0xa0f)]=new _0x41a694();get['bitrate'](){const _0x56fb75=_0x49e620;return this[_0x56fb75(0xa42)][_0x56fb75(0x2f6)]+this[_0x56fb75(0xa0f)][_0x56fb75(0x2f6)];}[_0x49e620(0x488)](_0x57f7c8){const _0x47a5f8=_0x49e620;return _0x57f7c8[_0x47a5f8(0x49b)](_0x3faa6a=>{const _0x177da5=_0x47a5f8;switch(_0x3faa6a[_0x177da5(0xa7a)]){case _0x177da5(0xa42):this[_0x177da5(0xa42)]['processReport'](_0x3faa6a);break;case _0x177da5(0xa0f):this['video'][_0x177da5(0x29b)](_0x3faa6a);}}),this[_0x47a5f8(0x9b9)]();}['getReport'](){const _0x1d7ae8=_0x49e620;return{'audio':this[_0x1d7ae8(0xa42)][_0x1d7ae8(0x9b9)](),'video':this[_0x1d7ae8(0xa0f)][_0x1d7ae8(0x9b9)](),'roundTripTime':this[_0x1d7ae8(0x77a)](),'AudioVideoDelay':this[_0x1d7ae8(0x32b)](),'bitrate':this[_0x1d7ae8(0x2f6)]};}[_0x49e620(0x77a)](){const _0x491f74=_0x49e620;return Math[_0x491f74(0x8a1)]((this['audio']['roundTripTime']+this[_0x491f74(0xa0f)][_0x491f74(0x437)])/0x2);}[_0x49e620(0x32b)](){const _0x4d09fd=_0x49e620;return this['audio'][_0x4d09fd(0x369)]-this['video'][_0x4d09fd(0x369)];}}class _0x2126b7{[_0x49e620(0x4ce)]=0x0;[_0x49e620(0x322)]=0x0;[_0x49e620(0x344)]=0x0;[_0x49e620(0x6af)]=0x0;[_0x49e620(0x390)]=0x0;['senderPreviousBytes']=0x0;[_0x49e620(0x6fb)]=0x0;['receiverPreviousBytes']=0x0;['senderTotalMessages']=0x0;[_0x49e620(0x26f)]=0x0;[_0x49e620(0x87d)]=0x0;[_0x49e620(0x291)]=0x0;['roundTripTime']=0x0;get[_0x49e620(0x2f6)](){const _0x4f4131=_0x49e620;return this[_0x4f4131(0xae4)]+this[_0x4f4131(0x5b6)];}get[_0x49e620(0xae4)](){const _0x43470d=_0x49e620;return this['senderCurrentTimestamp']>0x0&&this[_0x43470d(0x322)]>0x0&&Date['now']()-this[_0x43470d(0x4ce)]<_0x4e749e?(this[_0x43470d(0x390)]-this[_0x43470d(0x5a9)])/(this[_0x43470d(0x4ce)]-this[_0x43470d(0x322)])*0x8*0x3e8:0x0;}get[_0x49e620(0x5b6)](){const _0x28f55f=_0x49e620;return this[_0x28f55f(0x344)]>0x0&&this[_0x28f55f(0x6af)]>0x0&&Date[_0x28f55f(0x4e4)]()-this[_0x28f55f(0x344)]<_0x4e749e?(this[_0x28f55f(0x6fb)]-this[_0x28f55f(0x25b)])/(this[_0x28f55f(0x344)]-this[_0x28f55f(0x6af)])*0x8*0x3e8:0x0;}[_0x49e620(0x29b)](_0x959d81){const _0x329e48=_0x49e620;switch(_0x959d81[_0x329e48(0x8f1)]){case _0xa5a731[_0x329e48(0x69f)]:this[_0x329e48(0x5fc)](_0x959d81);break;case _0xa5a731[_0x329e48(0x572)]:this[_0x329e48(0x77f)](_0x959d81);}}[_0x49e620(0x9b9)](){const _0x36f151=_0x49e620;return{'bitrate':this[_0x36f151(0x2f6)],'senderBitrate':this[_0x36f151(0xae4)],'receiverBitrate':this[_0x36f151(0x5b6)],'totalBytes':this[_0x36f151(0x7e6)](),'senderTotalBytes':this[_0x36f151(0xa82)](),'receiverTotalBytes':this[_0x36f151(0xa52)](),'totalMessages':this['senderTotalMessages']+this[_0x36f151(0x26f)],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this[_0x36f151(0x26f)],'timeProcessing':this[_0x36f151(0x87d)]+this[_0x36f151(0x291)],'senderTimeProcessing':this[_0x36f151(0x87d)],'receiverTimeProcessing':this[_0x36f151(0x291)],'roundTripTime':this[_0x36f151(0x437)]};}[_0x49e620(0x7e6)](){const _0x4ae092=_0x49e620;return this[_0x4ae092(0x390)]+this[_0x4ae092(0x6fb)];}[_0x49e620(0xa82)](){const _0x4c746e=_0x49e620;return this[_0x4c746e(0x390)];}[_0x49e620(0xa52)](){const _0x574037=_0x49e620;return this[_0x574037(0x6fb)];}['processSenderReport'](_0x3edf93){const _0x955cb0=_0x49e620;this[_0x955cb0(0x4aa)](_0x3edf93[_0x955cb0(0x8ea)]),this[_0x955cb0(0xab3)](_0x3edf93['bytesSent']),this[_0x955cb0(0x3be)]=_0x3edf93[_0x955cb0(0x631)],this['senderTimeProcessing']=_0x3edf93[_0x955cb0(0x9a0)],this[_0x955cb0(0x437)]=_0x3edf93['roundTripTime'];}[_0x49e620(0x77f)](_0x1347f9){const _0x211a31=_0x49e620;this[_0x211a31(0xae3)](_0x1347f9[_0x211a31(0x8ea)]),this['setReceiverBytes'](_0x1347f9[_0x211a31(0x81f)]),this['receiverTotalMessages']=_0x1347f9[_0x211a31(0x4f0)],this['receiverTimeProcessing']=_0x1347f9[_0x211a31(0xa68)];}[_0x49e620(0x4aa)](_0x175078){const _0x1a9af2=_0x49e620;_0x175078>this['senderCurrentTimestamp']&&(this[_0x1a9af2(0x322)]=this['senderCurrentTimestamp'],this[_0x1a9af2(0x4ce)]=_0x175078);}[_0x49e620(0xae3)](_0x2734bc){const _0x2a831b=_0x49e620;_0x2734bc>this[_0x2a831b(0x344)]&&(this[_0x2a831b(0x6af)]=this[_0x2a831b(0x344)],this[_0x2a831b(0x344)]=_0x2734bc);}[_0x49e620(0xab3)](_0x736e1e){const _0x275163=_0x49e620;this['senderPreviousBytes']=this[_0x275163(0x390)],this[_0x275163(0x390)]=_0x736e1e;}[_0x49e620(0x7da)](_0x5c073d){const _0x1cb7f8=_0x49e620;this[_0x1cb7f8(0x25b)]=this[_0x1cb7f8(0x6fb)],this[_0x1cb7f8(0x6fb)]=_0x5c073d;}}class _0x2d5cea{[_0x49e620(0x45e)]=new Map();[_0x49e620(0x4ab)]=new Map();[_0x49e620(0x9b2)]=new _0x2126b7();get[_0x49e620(0xae4)](){const _0x2e4bb7=_0x49e620;let _0x3cddff=0x0;return this[_0x2e4bb7(0x45e)][_0x2e4bb7(0x49b)](_0x535b44=>{const _0x16df07=_0x2e4bb7;_0x3cddff+=_0x535b44[_0x16df07(0x2f6)];}),_0x3cddff+=this[_0x2e4bb7(0x9b2)]['senderBitrate'],_0x3cddff;}get[_0x49e620(0x5b6)](){const _0xa33ad5=_0x49e620;let _0x11fb53=0x0;return this[_0xa33ad5(0x4ab)][_0xa33ad5(0x49b)](_0x41c594=>{const _0x1228ed=_0xa33ad5;_0x11fb53+=_0x41c594[_0x1228ed(0x2f6)];}),_0x11fb53+=this[_0xa33ad5(0x9b2)]['receiverBitrate'],_0x11fb53;}get[_0x49e620(0x2f6)](){const _0x27e1db=_0x49e620;return this[_0x27e1db(0xae4)]+this[_0x27e1db(0x5b6)];}[_0x49e620(0x488)](_0xd3576e,_0x323517){const _0x343bda=_0x49e620,_0x562cd2=[],_0x2fa539=[];return _0xd3576e instanceof Array?_0xd3576e[_0x343bda(0x49b)](_0x4c36de=>{const _0x43ec9d=_0x343bda;_0x4c36de[_0x43ec9d(0x49b)](_0x36eff0=>{const _0x5a6cf7=_0x43ec9d;_0xede561['includes'](_0x36eff0[_0x5a6cf7(0x70f)])&&_0x562cd2[_0x5a6cf7(0x6b8)](_0x36eff0),_0x10ff38['includes'](_0x36eff0[_0x5a6cf7(0x70f)])&&_0x2fa539[_0x5a6cf7(0x6b8)](_0x36eff0);});}):this[_0x343bda(0x9b2)][_0x343bda(0x29b)](_0xd3576e),_0x562cd2[_0x343bda(0x8bc)]>0x0&&_0x323517?{...this[_0x343bda(0xa7e)](_0x323517,_0x562cd2),'origin':_0xa5a731[_0x343bda(0x572)],'streamId':_0x323517}:_0x2fa539[_0x343bda(0x8bc)]>0x0&&_0x323517?{...this[_0x343bda(0x98e)](_0x323517,_0x2fa539),'origin':_0xa5a731[_0x343bda(0x69f)],'streamId':_0x323517}:void 0x0;}['getReport'](){const _0x7acbbb=_0x49e620,_0x48a2fa={};this[_0x7acbbb(0x45e)][_0x7acbbb(0x49b)]((_0x329bdd,_0x27cd20)=>{const _0x2b8d84=_0x7acbbb;_0x48a2fa[_0x27cd20]=_0x329bdd[_0x2b8d84(0x9b9)]();});const _0x582ce1={};return this[_0x7acbbb(0x4ab)][_0x7acbbb(0x49b)]((_0x421a1a,_0x9d135)=>{_0x582ce1[_0x9d135]=_0x421a1a['getReport']();}),{'bitrate':this[_0x7acbbb(0x2f6)],'senderBitrate':this[_0x7acbbb(0xae4)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x48a2fa,'receiverStreams':_0x582ce1,'dataChannel':this['dataChannel'][_0x7acbbb(0x9b9)]()};}['processInboundReports'](_0xe0a1f0,_0x20592b){const _0x3c15e6=_0x49e620;return this[_0x3c15e6(0x4ab)]['has'](_0xe0a1f0)||this[_0x3c15e6(0x4ab)][_0x3c15e6(0x9fa)](_0xe0a1f0,new _0x267432()),this[_0x3c15e6(0x4ab)][_0x3c15e6(0x680)](_0xe0a1f0)['processReports'](_0x20592b);}[_0x49e620(0x98e)](_0x5c5497,_0x1dfc3b){const _0x1406bb=_0x49e620;return this['senderStreams'][_0x1406bb(0x29d)](_0x5c5497)||this[_0x1406bb(0x45e)][_0x1406bb(0x9fa)](_0x5c5497,new _0x267432()),this[_0x1406bb(0x45e)]['get'](_0x5c5497)[_0x1406bb(0x488)](_0x1dfc3b);}}class _0x242efb{['nodes']=new Map();[_0x49e620(0x84e)]=0x0;[_0x49e620(0x423)]=0x0;['pubsubTopics']=new Map();['objectStores']=new Map();[_0x49e620(0x5a3)]=new Map();[_0x49e620(0x63d)]=new Map();[_0x49e620(0xa28)]=new Map();[_0x49e620(0x797)]=new Map();[_0x49e620(0xb37)]=new Map();[_0x49e620(0x8da)]=new Map();['senderTotalMessages']=new Map();[_0x49e620(0x26f)]=new Map();['senderTimeProcessing']=new Map();[_0x49e620(0x291)]=new Map();['systemMessages']=new Map();[_0x49e620(0x321)];['getReport'](){const _0x33a6a4=_0x49e620,_0xde6227={};this[_0x33a6a4(0x5f1)][_0x33a6a4(0x49b)]((_0x1825b3,_0xb3bed8)=>{const _0x22d2e2=_0x33a6a4;_0xde6227[_0xb3bed8]=_0x1825b3[_0x22d2e2(0x9b9)]();});let _0x30f594=0x0;this[_0x33a6a4(0x87d)][_0x33a6a4(0x49b)](_0x549395=>{_0x30f594+=_0x549395;});let _0x25b21a=0x0;this[_0x33a6a4(0x291)][_0x33a6a4(0x49b)](_0x70bbb0=>{_0x25b21a+=_0x70bbb0;});const _0x176f1b=_0x30f594+_0x25b21a;let _0x40275f={'messages':{'total':0x0}};this[_0x33a6a4(0x5bd)][_0x33a6a4(0x49b)](_0x8d4bc3=>{const _0x236d48=_0x33a6a4;Object[_0x236d48(0x818)](_0x8d4bc3)['forEach'](_0x7c95fa=>{const _0x1efe14=_0x236d48;_0x40275f[_0x7c95fa]||(_0x40275f[_0x7c95fa]={}),Object[_0x1efe14(0x818)](_0x8d4bc3[_0x7c95fa])['forEach'](_0x33e926=>{_0x40275f[_0x7c95fa][_0x33e926]||(_0x40275f[_0x7c95fa][_0x33e926]=0x0),_0x40275f[_0x7c95fa][_0x33e926]+=_0x8d4bc3[_0x7c95fa][_0x33e926];});});});let _0x5c7c46=0x0,_0x3f1da8=0x0,_0x76c5bd=0x0,_0x41c2ae=0x0,_0x3c2b04=0x0;return this[_0x33a6a4(0x503)][_0x33a6a4(0x49b)](_0x1e987d=>{const _0x1a641e=_0x33a6a4;_0x3f1da8+=_0x1e987d['messagesSent'],_0x76c5bd+=_0x1e987d[_0x1a641e(0x4f0)],_0x41c2ae+=_0x1e987d['bytesSent'],_0x3c2b04+=_0x1e987d['bytesReceived'];}),this['objectStores'][_0x33a6a4(0x49b)](_0x481107=>{const _0x540241=_0x33a6a4;_0x5c7c46+=_0x481107[_0x540241(0x8e9)],_0x3f1da8+=_0x481107[_0x540241(0x631)],_0x76c5bd+=_0x481107[_0x540241(0x4f0)],_0x41c2ae+=_0x481107['bytesSent'],_0x3c2b04+=_0x481107['bytesReceived'];}),this['keyValueDatabases']['forEach'](_0x2f320c=>{const _0x3ebdf4=_0x33a6a4;_0x5c7c46+=_0x2f320c[_0x3ebdf4(0x8e9)],_0x3f1da8+=_0x2f320c[_0x3ebdf4(0x631)],_0x76c5bd+=_0x2f320c[_0x3ebdf4(0x4f0)],_0x41c2ae+=_0x2f320c[_0x3ebdf4(0x604)],_0x3c2b04+=_0x2f320c[_0x3ebdf4(0x81f)];}),this[_0x33a6a4(0x63d)][_0x33a6a4(0x49b)](_0x243efe=>{const _0x2169be=_0x33a6a4;_0x5c7c46+=_0x243efe['storage'],_0x3f1da8+=_0x243efe[_0x2169be(0x631)],_0x76c5bd+=_0x243efe[_0x2169be(0x4f0)],_0x41c2ae+=_0x243efe[_0x2169be(0x604)],_0x3c2b04+=_0x243efe['bytesReceived'];}),this[_0x33a6a4(0xa28)][_0x33a6a4(0x49b)](_0x307ec0=>{const _0x3ed6b7=_0x33a6a4;_0x5c7c46+=_0x307ec0[_0x3ed6b7(0x8e9)],_0x3f1da8+=_0x307ec0[_0x3ed6b7(0x631)],_0x76c5bd+=_0x307ec0[_0x3ed6b7(0x4f0)],_0x41c2ae+=_0x307ec0[_0x3ed6b7(0x604)],_0x3c2b04+=_0x307ec0[_0x3ed6b7(0x81f)];}),this[_0x33a6a4(0x797)]['forEach'](_0x251526=>{const _0x514ba6=_0x33a6a4;_0x5c7c46+=_0x251526[_0x514ba6(0x8e9)],_0x3f1da8+=_0x251526[_0x514ba6(0x631)],_0x76c5bd+=_0x251526[_0x514ba6(0x4f0)],_0x41c2ae+=_0x251526[_0x514ba6(0x604)],_0x3c2b04+=_0x251526[_0x514ba6(0x81f)];}),this['graphDatabases'][_0x33a6a4(0x49b)](_0x43a71f=>{const _0x54195d=_0x33a6a4;_0x5c7c46+=_0x43a71f['storage'],_0x3f1da8+=_0x43a71f['messagesSent'],_0x76c5bd+=_0x43a71f['messagesReceived'],_0x41c2ae+=_0x43a71f[_0x54195d(0x604)],_0x3c2b04+=_0x43a71f['bytesReceived'];}),{'STVolatility':this[_0x33a6a4(0x235)](),'DTVolatility':this[_0x33a6a4(0x996)](),'bitrate':this[_0x33a6a4(0x404)](),'senderBitrate':this[_0x33a6a4(0x450)](),'receiverBitrate':this[_0x33a6a4(0x25f)](),'totalStorageSize':_0x5c7c46,'totalMessages':_0x3f1da8+_0x76c5bd,'totalMessagesSent':_0x3f1da8,'totalMessagesReceived':_0x76c5bd,'totalBytes':_0x41c2ae+_0x3c2b04,'totalBytesSent':_0x41c2ae,'totalBytesReceived':_0x3c2b04,'systemMessages':_0x40275f,'timeProcessing':_0x176f1b,'nodes':_0xde6227,'pubsubTopics':Object['fromEntries'](this[_0x33a6a4(0x503)]),'objectStores':Object['fromEntries'](this[_0x33a6a4(0x90a)]),'keyValueDatabases':Object['fromEntries'](this['keyValueDatabases']),'generativeAIContexts':Object[_0x33a6a4(0x2b9)](this[_0x33a6a4(0x63d)]),'generativeAIWorkers':Object[_0x33a6a4(0x2b9)](this[_0x33a6a4(0xa28)]),'vectorDatabases':Object[_0x33a6a4(0x2b9)](this[_0x33a6a4(0x797)]),'graphDatabases':Object[_0x33a6a4(0x2b9)](this[_0x33a6a4(0xb37)]),'externalStorages':Object[_0x33a6a4(0x2b9)](this[_0x33a6a4(0x8da)])};}['addRemoteNode'](_0x59204a){const _0xcdc1c9=_0x49e620;this[_0xcdc1c9(0x5f1)][_0xcdc1c9(0x9fa)](_0x59204a,new _0x2d5cea());}[_0x49e620(0x3c0)](_0x517923){const _0xc80c7d=_0x49e620;this[_0xc80c7d(0x5f1)][_0xc80c7d(0x55f)](_0x517923);}[_0x49e620(0x488)](_0x476480,_0x2eceda,_0x46efa8){const _0xf86d80=_0x49e620;_0x2eceda instanceof Array||this[_0xf86d80(0xaa2)](_0x476480,_0x2eceda);const _0x47cbe7=this['nodes'][_0xf86d80(0x680)](_0x476480)?.[_0xf86d80(0x488)](_0x2eceda,_0x46efa8);_0x47cbe7&&this[_0xf86d80(0x321)][_0xf86d80(0x544)]({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0xf86d80(0x1f9)],'content':{'type':_0x1001b9['StreamReport'],'data':{..._0x47cbe7,'nodeId':_0x476480}}});}['processLocalReport'](_0x48a7b8){const _0x2d416f=_0x49e620;this[_0x2d416f(0x24e)](_0x48a7b8[_0x2d416f(0x9f9)]),this[_0x2d416f(0x420)](_0x48a7b8[_0x2d416f(0x423)]),this['systemTopic']['publish']({'sourceId':_0x11f0c5,'messageType':_0x24f665[_0x2d416f(0x1f9)],'content':{'type':_0x1001b9['LocalReport'],'data':{'STVolatility':this[_0x2d416f(0x235)](),'DTVolatility':this[_0x2d416f(0x996)]()}}});}[_0x49e620(0x874)](_0x2c35b5,_0x6a5341,_0x365a3d){const _0x1ce75e=_0x49e620;switch(_0x6a5341){case _0xbc0bd6[_0x1ce75e(0x56b)]:this[_0x1ce75e(0x503)]['set'](_0x2c35b5,_0x365a3d);break;case _0xbc0bd6[_0x1ce75e(0x9a8)]:this[_0x1ce75e(0x90a)][_0x1ce75e(0x9fa)](_0x2c35b5,_0x365a3d);break;case _0xbc0bd6[_0x1ce75e(0x4b8)]:this['keyValueDatabases'][_0x1ce75e(0x9fa)](_0x2c35b5,_0x365a3d);break;case _0xbc0bd6[_0x1ce75e(0x9f2)]:this[_0x1ce75e(0x63d)]['set'](_0x2c35b5,_0x365a3d);break;case _0xbc0bd6['GenerativeAIWorkerStats']:this[_0x1ce75e(0xa28)][_0x1ce75e(0x9fa)](_0x2c35b5,_0x365a3d);break;case _0xbc0bd6[_0x1ce75e(0x4d5)]:this[_0x1ce75e(0x797)][_0x1ce75e(0x9fa)](_0x2c35b5,_0x365a3d);break;case _0xbc0bd6[_0x1ce75e(0x211)]:this['graphDatabases'][_0x1ce75e(0x9fa)](_0x2c35b5,_0x365a3d);break;case _0xbc0bd6[_0x1ce75e(0x3fb)]:this['externalStorages'][_0x1ce75e(0x9fa)](_0x2c35b5,_0x365a3d);}}[_0x49e620(0xb51)](_0x3ec3be){const _0xff66fc=_0x49e620;this[_0xff66fc(0x321)]=_0x3ec3be;}[_0x49e620(0xa6a)](){delete this['systemTopic'];}[_0x49e620(0x235)](){const _0x17834e=_0x49e620;return this[_0x17834e(0x84e)]>0x0&&this[_0x17834e(0x84e)]-_0x2b9ded>0x0?(this['scheduleTime']-_0x2b9ded)/_0x2b9ded:0x0;}[_0x49e620(0x996)](){const _0x16c907=_0x49e620;return this[_0x16c907(0x423)]>0x0&&this['durationTime']-0x64>0x0?(this[_0x16c907(0x423)]-0x64)/0x64:0x0;}[_0x49e620(0x450)](){const _0x70fac=_0x49e620;let _0x38626d=0x0;return this[_0x70fac(0x5f1)][_0x70fac(0x49b)](_0x5b0211=>{_0x38626d+=_0x5b0211['senderBitrate'];}),_0x38626d;}[_0x49e620(0x25f)](){const _0x4fa0d0=_0x49e620;let _0x3d0854=0x0;return this[_0x4fa0d0(0x5f1)][_0x4fa0d0(0x49b)](_0x3d9968=>{const _0x2b1030=_0x4fa0d0;_0x3d0854+=_0x3d9968[_0x2b1030(0x5b6)];}),_0x3d0854;}['getBitrate'](){const _0xb540cd=_0x49e620;let _0x5a59d6=0x0;return this['nodes'][_0xb540cd(0x49b)](_0x8a7641=>{const _0x2d46b9=_0xb540cd;_0x5a59d6+=_0x8a7641[_0x2d46b9(0x2f6)];}),_0x5a59d6;}[_0x49e620(0x24e)](_0x3e3f34){const _0x106c32=_0x49e620;this[_0x106c32(0x84e)]=_0x3e3f34;}['setDurationTime'](_0x53a66e){const _0x294bdf=_0x49e620;this[_0x294bdf(0x423)]=_0x53a66e;}[_0x49e620(0xaa2)](_0x1f05e5,_0x5381da){const _0x48faa2=_0x49e620;switch(_0x5381da['origin']){case _0xa5a731['Sender']:this[_0x48faa2(0x5fc)](_0x1f05e5,_0x5381da);break;case _0xa5a731[_0x48faa2(0x572)]:this['processReceiverReport'](_0x1f05e5,_0x5381da);}}['processSenderReport'](_0x5b6567,_0x2d7dc0){const _0x3615b7=_0x49e620;this[_0x3615b7(0x3be)][_0x3615b7(0x9fa)](_0x5b6567,_0x2d7dc0['messagesSent']),this['senderTimeProcessing'][_0x3615b7(0x9fa)](_0x5b6567,_0x2d7dc0[_0x3615b7(0x9a0)]);}[_0x49e620(0x77f)](_0x2dc240,_0x555089){const _0x4da2b7=_0x49e620;this['receiverTotalMessages'][_0x4da2b7(0x9fa)](_0x2dc240,_0x555089[_0x4da2b7(0x4f0)]),this[_0x4da2b7(0x291)][_0x4da2b7(0x9fa)](_0x2dc240,_0x555089[_0x4da2b7(0xa68)]),this['systemMessages'][_0x4da2b7(0x9fa)](_0x2dc240,_0x555089[_0x4da2b7(0x5bd)]);}}class _0x118492{[_0x49e620(0x720)];['remoteNodes']=new Set();[_0x49e620(0x675)];['statsCollection'];[_0x49e620(0x3f2)];['statsReport']=new _0x242efb();constructor(_0x51a89e){const _0x179936=_0x49e620;this['configs']=_0x51a89e,this[_0x179936(0x720)]['mediator'][_0x179936(0x7c2)](this[_0x179936(0xa17)]),this[_0x179936(0xa47)]=this[_0x179936(0x691)](),this[_0x179936(0x3f2)]=this[_0x179936(0x3f6)]();}['close'](){const _0x3b9c44=_0x49e620;this[_0x3b9c44(0x720)][_0x3b9c44(0x63b)][_0x3b9c44(0x3fd)](this['statsReport']),this[_0x3b9c44(0x3f2)](),this[_0x3b9c44(0xa47)]();}[_0x49e620(0x279)](_0x18af98){const _0x4072f4=_0x49e620;this[_0x4072f4(0x549)][_0x4072f4(0x554)](_0x18af98),this[_0x4072f4(0xa17)][_0x4072f4(0x279)](_0x18af98);}['removeRemoteNode'](_0xb5cb89){const _0x4ac8eb=_0x49e620;this[_0x4ac8eb(0x549)][_0x4ac8eb(0x55f)](_0xb5cb89),this[_0x4ac8eb(0xa17)][_0x4ac8eb(0x3c0)](_0xb5cb89);}[_0x49e620(0x7f3)](_0x25c481){const _0x219336=_0x49e620;if(_0x25c481[_0x219336(0x4fe)][_0x219336(0x70f)]===_0x364a36[_0x219336(0x1f9)]){const {nodeId:_0x30005f,streamId:_0x59dc48,stats:_0x43ad69}=_0x25c481[_0x219336(0x4fe)];this['statsReport']['processReports'](_0x30005f,_0x43ad69,_0x59dc48);}}[_0x49e620(0x755)](_0x30a76f){const _0x53bfcc=_0x49e620;switch(_0x30a76f['content'][_0x53bfcc(0x70f)]){case _0xbc0bd6[_0x53bfcc(0x9a8)]:case _0xbc0bd6['KeyValueDatabaseStats']:case _0xbc0bd6[_0x53bfcc(0x56b)]:case _0xbc0bd6[_0x53bfcc(0x9f2)]:case _0xbc0bd6[_0x53bfcc(0x74d)]:case _0xbc0bd6[_0x53bfcc(0x4d5)]:case _0xbc0bd6[_0x53bfcc(0x211)]:case _0xbc0bd6[_0x53bfcc(0x3fb)]:this[_0x53bfcc(0xa17)]['processServiceReport'](_0x30a76f[_0x53bfcc(0x4fe)]['label'],_0x30a76f['content'][_0x53bfcc(0x70f)],_0x30a76f['content'][_0x53bfcc(0x6c6)]);}}[_0x49e620(0x3f6)](){const _0x32c5a9=_0x49e620;return _0x285f59[_0x32c5a9(0x863)](()=>{const _0x15ca72=_0x32c5a9,_0x32e2a6=this[_0x15ca72(0xa17)][_0x15ca72(0x9b9)]();_0xb8b103['log'](_0xad09e4[_0x15ca72(0x1f9)],_0x15ca72(0x6f5),_0x32e2a6),(0x0,_0x3e7f37[_0x15ca72(0x7f6)])((0x0,_0x3e7f37[_0x15ca72(0x828)])(_0xfa2cd[_0x15ca72(0x5d4)](),_0x15ca72(0x897)+this['configs'][_0x15ca72(0x2e6)]+_0x15ca72(0x8e8)),{'clusterId':this[_0x15ca72(0x720)][_0x15ca72(0x4a0)],'nodeId':this[_0x15ca72(0x720)]['localNode'][_0x15ca72(0x27e)](),'nodeType':this[_0x15ca72(0x720)][_0x15ca72(0xaa8)][_0x15ca72(0x70f)],'timestamp':(0x0,_0x3e7f37[_0x15ca72(0xaea)])(),'report':_0x32e2a6}),_0xb8b103[_0x15ca72(0x68c)](_0x15ca72(0x6c6),{'clusterId':this[_0x15ca72(0x720)][_0x15ca72(0x4a0)],'nodeId':this[_0x15ca72(0x720)][_0x15ca72(0xaa8)][_0x15ca72(0x27e)](),'nodeType':this[_0x15ca72(0x720)][_0x15ca72(0xaa8)][_0x15ca72(0x70f)],'data':{'report':_0x32e2a6}});},_0x4e749e);}[_0x49e620(0x691)](){const _0x247caf=_0x49e620;let _0x4887f0=!0x1,_0x31b9c4=Date[_0x247caf(0x4e4)]();return _0x285f59[_0x247caf(0x863)](async()=>{const _0x144c27=_0x247caf;if(_0x4887f0)return;if(_0x4887f0=!0x0,0x0===this[_0x144c27(0x549)][_0x144c27(0x65a)])return delete this[_0x144c27(0x675)],void(_0x4887f0=!0x1);const _0x2aa0eb=Date[_0x144c27(0x4e4)]();this['findNextNodeId']();try{await this[_0x144c27(0x720)][_0x144c27(0x63b)][_0x144c27(0x570)](this[_0x144c27(0x675)]);}catch(_0x233721){}this[_0x144c27(0xa17)]['processLocalReport']({'secheduleTime':_0x2aa0eb-_0x31b9c4,'durationTime':Date[_0x144c27(0x4e4)]()-_0x2aa0eb}),_0x31b9c4=_0x2aa0eb,_0x4887f0=!0x1;},_0x2b9ded);}[_0x49e620(0x807)](){const _0x255e53=_0x49e620;let _0x4dc868,_0x4908cf=!0x1;this[_0x255e53(0x675)]&&(this[_0x255e53(0x549)]['has'](this[_0x255e53(0x675)])||delete this[_0x255e53(0x675)]);for(const _0x112e72 of this[_0x255e53(0x549)])if(_0x4dc868||(_0x4dc868=_0x112e72),this['nextNodeId']!==_0x112e72){if(_0x4908cf)return void(this['nextNodeId']=_0x112e72);}else _0x4908cf=!0x0,delete this[_0x255e53(0x675)];this['nextNodeId']||(this['nextNodeId']=_0x4dc868);}}class _0x379f16{[_0x49e620(0x502)];[_0x49e620(0x396)];[_0x49e620(0x321)];constructor(_0x5532af,_0x1b89a2){const _0xd888d4=_0x49e620;this[_0xd888d4(0x502)]=_0x5532af,this[_0xd888d4(0x396)]=_0x1b89a2;}[_0x49e620(0xb51)](_0x581741){const _0xd4c332=_0x49e620;this[_0xd4c332(0x321)]=_0x581741;}['unregisterSystemPublisher'](){const _0x1ebbb3=_0x49e620;delete this[_0x1ebbb3(0x321)];}}class _0x356018 extends _0x379f16{['source'];[_0x49e620(0x396)];[_0x49e620(0x67e)];constructor(_0x523ed4,_0x169286,_0x5c7333){const _0x379210=_0x49e620;super(_0x523ed4,_0x169286),this[_0x379210(0x502)]=_0x523ed4,this[_0x379210(0x396)]=_0x169286,this[_0x379210(0x67e)]=_0x5c7333;}[_0x49e620(0xa34)](_0x2976fc,_0x489441,_0xde0a7e){const _0x336c80=_0x49e620;if(this[_0x336c80(0x396)][_0x336c80(0x9e2)]()===_0x596e17[_0x336c80(0x7dd)][_0x336c80(0x451)]){const _0x317f94={'type':_0x5afa9d[_0x336c80(0x454)],'label':this[_0x336c80(0x396)][_0x336c80(0x227)](),'ownerId':_0x2976fc,'trackKinds':_0x489441??this[_0x336c80(0x396)][_0x336c80(0x217)](),'params':_0xde0a7e};this[_0x336c80(0x321)][_0x336c80(0x544)]({'sourceId':this[_0x336c80(0x502)][_0x336c80(0x634)](),'destinationIds':[this[_0x336c80(0x502)][_0x336c80(0x6c5)]()],'messageType':_0x24f665[_0x336c80(0x3f1)],'content':_0x317f94}),this[_0x336c80(0x67e)]=_0xde0a7e;}}[_0x49e620(0xad9)](_0x31a04d,_0x3c2f57){const _0x4c9d2c=_0x49e620;if(this[_0x4c9d2c(0x396)][_0x4c9d2c(0x9e2)]()===_0x596e17['ContentType'][_0x4c9d2c(0x451)]){const _0x1ed474={'type':_0x5afa9d['UpdateMediaStream'],'label':this[_0x4c9d2c(0x396)]['getLabel'](),'ownerId':_0x31a04d,'params':_0x3c2f57};this[_0x4c9d2c(0x321)][_0x4c9d2c(0x544)]({'sourceId':this['source'][_0x4c9d2c(0x634)](),'destinationIds':[this[_0x4c9d2c(0x502)]['getRemoteId']()],'messageType':_0x24f665['Subscription'],'content':_0x1ed474}),this[_0x4c9d2c(0x67e)]=_0x3c2f57;}}[_0x49e620(0x2aa)](_0x28d129,_0x3f49bb,_0x23ed0b){const _0x24b0f0=_0x49e620;if(this['destination'][_0x24b0f0(0x9e2)]()===_0x596e17[_0x24b0f0(0x7dd)]['Media']){const _0x51a5ee={'type':_0x5afa9d['UnsubscribeMediaStream'],'label':this[_0x24b0f0(0x396)]['getLabel'](),'ownerId':_0x28d129,'trackKinds':_0x23ed0b??this['destination'][_0x24b0f0(0x217)](),'remainingTracks':_0x3f49bb};this[_0x24b0f0(0x321)][_0x24b0f0(0x544)]({'sourceId':this[_0x24b0f0(0x502)][_0x24b0f0(0x634)](),'destinationIds':[this['source'][_0x24b0f0(0x6c5)]()],'messageType':_0x24f665['Subscription'],'content':_0x51a5ee});}}}class _0xf6bd4b{['currentDistance'];['maxDistance'];[_0x49e620(0x518)];[_0x49e620(0x321)];['answers']=new Set();[_0x49e620(0xb54)]=Date['now']();[_0x49e620(0x67e)];['retryCount']=0x0;constructor(_0x75c4fb,_0x4a02d1,_0x498ca0,_0x561e1c){const _0x387101=_0x49e620;this['currentDistance']=_0x4a02d1,this[_0x387101(0x7c3)]=_0x498ca0,this['tracks']=_0x561e1c,_0x75c4fb[_0x387101(0x49b)](_0x555bdd=>{const _0x2c2ffa=_0x387101;this[_0x2c2ffa(0x709)][_0x2c2ffa(0x554)]({'nodeId':_0x555bdd,'type':_0xff2f66[_0x2c2ffa(0xaa4)]});});}[_0x49e620(0xb31)](){const _0x2eca55=_0x49e620;return this[_0x2eca55(0x518)];}[_0x49e620(0xb51)](_0x123055){const _0x49ea22=_0x49e620;this[_0x49ea22(0x321)]=_0x123055;}['unregisterSystemPublisher'](){const _0x2f23d8=_0x49e620;delete this[_0x2f23d8(0x321)];}[_0x49e620(0x8a0)](_0x2e2188,_0x210f53){const _0x5db5d2=_0x49e620;this['startTime']=Date[_0x5db5d2(0x4e4)](),this['answers'][_0x5db5d2(0x9c6)](),_0x2e2188[_0x5db5d2(0x49b)](_0x56ccf6=>{const _0x39dd5d=_0x5db5d2;this[_0x39dd5d(0x709)][_0x39dd5d(0x554)]({'nodeId':_0x56ccf6,'type':_0xff2f66[_0x39dd5d(0xaa4)]});}),this[_0x5db5d2(0xb58)]+=0x1,this[_0x5db5d2(0x987)]=_0x210f53;}['sendRequest'](_0x531542,_0x272a8d,_0x181e08,_0x4ee7ec,_0x239617){const _0x184dfc=_0x49e620;if(this[_0x184dfc(0xb58)]>0xa)throw new _0x44727e(_0x44727e[_0x184dfc(0x849)][_0x184dfc(0x2a0)],{'answers':Array[_0x184dfc(0x9cc)](this[_0x184dfc(0x709)])[_0x184dfc(0x3bb)](_0x282381=>({'nodeId':_0x282381[_0x184dfc(0x7cd)],'type':_0x282381[_0x184dfc(0x70f)]}))});const _0xd8b322=Array[_0x184dfc(0x9cc)](this[_0x184dfc(0x709)])[_0x184dfc(0x3bb)](_0x2597e8=>_0x2597e8[_0x184dfc(0x7cd)]);this[_0x184dfc(0x67e)]=_0x239617,this[_0x184dfc(0x321)]['publish']({'sourceId':_0x531542,'destinationIds':_0xd8b322,'messageType':_0x24f665[_0x184dfc(0x3f1)],'content':{'type':_0x5afa9d[_0x184dfc(0x1e6)],'label':_0x181e08,'ownerId':_0x272a8d,'trackKinds':_0x4ee7ec,'params':_0x239617}}),_0xb8b103[_0x184dfc(0xad5)](_0xad09e4['Subscription'],_0x184dfc(0x573),_0x531542,_0xd8b322);}[_0x49e620(0xa4c)](_0x1df145,_0x388737){const _0xe15d8b=_0x49e620;switch(_0x388737[_0xe15d8b(0x70f)]){case _0x5afa9d[_0xe15d8b(0x43b)]:{const _0xa25e0=this[_0xe15d8b(0x987)]>=_0x388737[_0xe15d8b(0x48f)]&&_0x388737[_0xe15d8b(0x48f)]<=this[_0xe15d8b(0x7c3)],_0xc9c3c6=Array[_0xe15d8b(0x9cc)](this[_0xe15d8b(0x709)])[_0xe15d8b(0x94a)](_0x2d210f=>_0x2d210f[_0xe15d8b(0x7cd)]===_0x1df145);_0xc9c3c6['type']=_0xa25e0?_0xff2f66['Accepted']:_0xff2f66[_0xe15d8b(0xb46)],_0xc9c3c6[_0xe15d8b(0xb39)]=_0x388737[_0xe15d8b(0xb39)],_0xc9c3c6[_0xe15d8b(0x48f)]=_0x388737['distance'],_0xc9c3c6[_0xe15d8b(0x6ad)]=_0x388737[_0xe15d8b(0x6ad)],_0xc9c3c6['roundTripTime']=Date[_0xe15d8b(0x4e4)]()-this[_0xe15d8b(0xb54)],_0xc9c3c6['params']=this[_0xe15d8b(0x67e)],_0xc9c3c6[_0xe15d8b(0xa8c)]=_0x388737[_0xe15d8b(0xa8c)],_0xc9c3c6[_0xe15d8b(0xad0)]=_0x388737[_0xe15d8b(0xad0)],_0xc9c3c6[_0xe15d8b(0xb0c)]=_0x388737[_0xe15d8b(0x73a)],_0xb8b103['log'](_0xad09e4[_0xe15d8b(0x3f1)],(_0xa25e0?_0xe15d8b(0x984):_0xe15d8b(0xb46))+_0xe15d8b(0x54c),_0xc9c3c6);break;}case _0x5afa9d[_0xe15d8b(0x850)]:{const _0x3feb0e=Array['from'](this[_0xe15d8b(0x709)])[_0xe15d8b(0x94a)](_0x13cc50=>_0x13cc50[_0xe15d8b(0x7cd)]===_0x1df145);_0x3feb0e['type']=_0xff2f66[_0xe15d8b(0xb46)],_0xb8b103[_0xe15d8b(0xad5)](_0xad09e4['Subscription'],'Rejected\x20answer',_0x3feb0e);break;}}if(this[_0xe15d8b(0x524)]())return this[_0xe15d8b(0x43a)]();}[_0x49e620(0x43a)](){const _0x2a59fb=_0x49e620,_0x5aea81=Array[_0x2a59fb(0x9cc)](this[_0x2a59fb(0x709)])[_0x2a59fb(0x9e5)](_0x2c003c=>_0x2c003c[_0x2a59fb(0x70f)]===_0xff2f66[_0x2a59fb(0x984)])['sort']((_0x392cee,_0xe50863)=>_0x392cee[_0x2a59fb(0xb39)]===_0xe50863['cost']?_0x392cee[_0x2a59fb(0x437)]-_0xe50863[_0x2a59fb(0x437)]:_0x392cee['cost']-_0xe50863[_0x2a59fb(0xb39)]);if(0x0===_0x5aea81[_0x2a59fb(0x8bc)])throw new _0x44727e(_0x44727e['codes'][_0x2a59fb(0x2a0)],{'answers':Array['from'](this[_0x2a59fb(0x709)])[_0x2a59fb(0x3bb)](_0x209e46=>({'nodeId':_0x209e46[_0x2a59fb(0x7cd)],'type':_0x209e46[_0x2a59fb(0x70f)]}))});return _0xb8b103[_0x2a59fb(0xad5)](_0xad09e4[_0x2a59fb(0x3f1)],_0x2a59fb(0x50d),_0x5aea81[0x0],this[_0x2a59fb(0x709)]),_0x5aea81[0x0];}[_0x49e620(0x524)](){const _0xa47717=_0x49e620;for(const _0x585807 of this[_0xa47717(0x709)])if(_0x585807[_0xa47717(0x70f)]===_0xff2f66[_0xa47717(0xaa4)])return!0x1;return!0x0;}}class _0x54fb63{[_0x49e620(0x73a)];[_0x49e620(0x263)];[_0x49e620(0x1eb)]=_0x544609();constructor(_0x29b542,_0x22cbde){const _0x51d6d5=_0x49e620;this[_0x51d6d5(0x73a)]=_0x29b542,this[_0x51d6d5(0x263)]=_0x22cbde;}['getLabel'](){const _0xa3eb1b=_0x49e620;return this[_0xa3eb1b(0x73a)];}['getContentType'](){return this['contentType'];}[_0x49e620(0x1d2)](_0x59a2be){const _0x2137d1=_0x49e620;_0x59a2be[_0x2137d1(0x737)](this);}[_0x49e620(0x79f)](_0x35e4a4){const _0x14a297=_0x49e620;_0x35e4a4[_0x14a297(0x733)](this);}[_0x49e620(0x544)](_0x454b32){const _0x372965=_0x49e620;this['listener'][_0x372965(0x544)]({'topicLabel':this[_0x372965(0x73a)],'contentType':this[_0x372965(0x263)],'uuid':(0x0,_0x3c37ba['v4'])(),'recipients':[],..._0x454b32});}[_0x49e620(0xa34)](_0x13032d){const _0x60cca1=_0x49e620;return this[_0x60cca1(0x1eb)][_0x60cca1(0xa34)](_0x13032d);}['unregisterSource'](_0x4b3d8c){const _0x277b6d=_0x49e620;_0x4b3d8c[_0x277b6d(0x4b5)](this);}[_0x49e620(0x6df)](_0x37fe72){const _0x341509=_0x49e620;_0x37fe72[_0x341509(0x22a)](this);}}class _0xdc5c7e{[_0x49e620(0x6ef)]={'topics':new Map(),'subscriptions':new Map()};[_0x49e620(0xa45)];constructor(_0x355002){const _0xd50584=_0x49e620;this[_0xd50584(0xa45)]=_0x355002;}get['subscriptions'](){const _0x55b89e=_0x49e620;return this[_0x55b89e(0x6ef)][_0x55b89e(0x460)];}get['topics'](){const _0x4d70d9=_0x49e620;return this[_0x4d70d9(0x6ef)][_0x4d70d9(0x76f)];}[_0x49e620(0x28c)](_0x461ce0,_0x232b88){const _0x2aa176=_0x49e620,_0x3d4c07=this[_0x2aa176(0xa45)](_0x232b88),_0x15cb26=_0x231cec(_0x461ce0);if(!_0x3d4c07[_0x2aa176(0xb25)])throw new _0x44727e(_0x44727e[_0x2aa176(0x849)]['InvalidSubscription'],{'message':_0x15cb26+':\x20'+_0x3d4c07['remoteId']+_0x2aa176(0x49f)+_0x3d4c07[_0x2aa176(0x263)],'subscriptionType':_0x461ce0,'subscription':_0x232b88,'subscriptonParts':_0x3d4c07});const _0x157df9=_0x2990b6(_0x461ce0,_0x3d4c07);if(this[_0x2aa176(0x6ef)][_0x2aa176(0x460)][_0x2aa176(0x29d)](_0x157df9))throw new _0x44727e(_0x44727e['codes'][_0x2aa176(0x4cc)],{'message':_0x15cb26+':\x20'+_0x157df9+_0x2aa176(0x81b),'subscriptionType':_0x461ce0,'subscription':_0x232b88,'subscriptonParts':_0x3d4c07});this[_0x2aa176(0x6ef)][_0x2aa176(0x460)][_0x2aa176(0x9fa)](_0x157df9,_0x232b88),this[_0x2aa176(0xb63)](_0x3d4c07,_0x232b88);}[_0x49e620(0x3ea)](_0xe273ae,_0x545d8b){const _0x7e4d77=_0x49e620,_0x14e686=_0x2990b6(_0x545d8b,_0xe273ae),_0x2cd1bd=this[_0x7e4d77(0x6ef)][_0x7e4d77(0x460)][_0x7e4d77(0x680)](_0x14e686);if(!_0x2cd1bd)throw new _0x44727e(_0x44727e[_0x7e4d77(0x849)]['InvalidSubscription'],{'message':_0x231cec(_0x545d8b)+':\x20'+_0x14e686+'\x20does\x20not\x20exists','subscriptionType':_0x545d8b,'subscription':_0x2cd1bd,'subscriptonParts':_0xe273ae});this['closeSubscription'](_0x2cd1bd,_0x14e686,_0xe273ae);}[_0x49e620(0x866)](_0x241518,_0xa7c168,_0x2c59af){const _0x1a2b9b=_0x49e620;_0x2c59af=_0x2c59af||this[_0x1a2b9b(0xa45)](_0x241518),this[_0x1a2b9b(0x6ef)][_0x1a2b9b(0x460)]['delete'](_0xa7c168),this[_0x1a2b9b(0x5f8)](_0x2c59af,_0x241518);}[_0x49e620(0xb63)](_0x576278,{source:_0x26a216,destination:_0x2d5175}){const _0x531bab=_0x49e620,{contentType:_0x40568d,label:_0x395812,remoteId:_0x3b1db0}=_0x576278,_0x323202=_0x1fa60a(_0x40568d,_0x395812,_0x3b1db0),_0x3e78b6=new _0x54fb63(_0x323202,_0x40568d);_0x3e78b6[_0x531bab(0x1d2)](_0x26a216),_0x3e78b6[_0x531bab(0x79f)](_0x2d5175),this[_0x531bab(0x6ef)]['topics'][_0x531bab(0x9fa)](_0x3e78b6[_0x531bab(0x227)](),_0x3e78b6);}[_0x49e620(0x5f8)](_0x570aff,_0x5d605d){const _0x483e5b=_0x49e620,{contentType:_0x424e75,label:_0x40c071,remoteId:_0x4277aa}=_0x570aff,_0x3a4821=_0x1fa60a(_0x424e75,_0x40c071,_0x4277aa),_0x16d787=this['maps'][_0x483e5b(0x76f)][_0x483e5b(0x680)](_0x3a4821);_0x16d787&&(this[_0x483e5b(0x8ac)](_0x16d787,_0x5d605d),this[_0x483e5b(0x6ef)][_0x483e5b(0x76f)][_0x483e5b(0x55f)](_0x3a4821));}[_0x49e620(0x8ac)](_0x1d5e9a,{source:_0x465b22,destination:_0x3002df}){const _0x356c92=_0x49e620;_0x1d5e9a[_0x356c92(0x264)](_0x465b22),_0x1d5e9a['unregisterDestination'](_0x3002df);}['removeSubscriptionsForNode'](_0x2c4682){const _0x42ad1e=_0x49e620;this['maps'][_0x42ad1e(0x460)][_0x42ad1e(0x49b)]((_0x2978a9,_0x301676)=>{const _0x1543f7=_0x42ad1e;_0x301676[_0x1543f7(0x24a)](_0x2c4682)&&this[_0x1543f7(0x866)](_0x2978a9,_0x301676);});}}class _0x539739{[_0x49e620(0x720)];['maxDistance'];[_0x49e620(0x8ba)]=new Map();[_0x49e620(0x36f)]=_0x5c01e2(new _0x431ba9(this[_0x49e620(0xae6)][_0x49e620(0x6e2)](this),()=>_0x285f59[_0x49e620(0x7fd)](0x64)),!0x0);[_0x49e620(0x9cf)]=new Map();[_0x49e620(0x6ef)];[_0x49e620(0x5d2)]=new Map();constructor(_0x27e4d2,_0x31c522){const _0x36736b=_0x49e620;this[_0x36736b(0x720)]=_0x27e4d2,this[_0x36736b(0x7c3)]=_0x31c522,this[_0x36736b(0x6ef)]=new _0xdc5c7e(({source:_0x3c5cdb,destination:_0x100556})=>_0x580d2a(_0x100556,_0x3c5cdb));}[_0x49e620(0x28c)](_0x3c6451,_0x216b84){const _0x36156b=_0x49e620,_0x138b1a=this[_0x36156b(0x580)](_0x3c6451)&&this[_0x36156b(0xa01)](_0x216b84)?new _0x356018(_0x3c6451,_0x216b84):new _0x379f16(_0x3c6451,_0x216b84);this['maps'][_0x36156b(0x28c)](_0x572501['Incoming'],_0x138b1a),this[_0x36156b(0x720)][_0x36156b(0x63b)][_0x36156b(0x7c2)](_0x138b1a);}[_0x49e620(0x3ea)](_0x162d75,_0x292cfe,_0x467119=''){const _0x5d3eff=_0x49e620,_0x7e5f79={'contentType':_0x292cfe,'label':_0x162d75,'remoteId':_0x467119},_0x136542=_0x2990b6(_0x572501[_0x5d3eff(0xa7d)],_0x7e5f79),_0x41d509=this[_0x5d3eff(0x6ef)][_0x5d3eff(0x460)][_0x5d3eff(0x680)](_0x136542);_0x41d509&&this[_0x5d3eff(0x866)](_0x41d509,_0x136542);}[_0x49e620(0x7eb)](_0xe3995e){this['removeRemoteStreamSubscription'](_0xe3995e);}[_0x49e620(0x3ed)]({label:_0x3c88c1,ownerId:_0x291a12,trackKinds:_0x44c3fe,params:_0x42cfa7}){const _0x2b896b=_0x49e620;this[_0x2b896b(0x9ca)](_0x3c88c1,_0x291a12,_0x44c3fe,_0x42cfa7);}[_0x49e620(0xb10)]({ownerId:_0x564eb1,label:_0x1bd834,params:_0x564fda}){const _0xa3e571=_0x49e620,{subscriptionLabel:_0x4f6e1b}=this[_0xa3e571(0x8af)](_0x1bd834,_0x564eb1),_0x34a3f7=this[_0xa3e571(0x53f)](_0x4f6e1b);_0x34a3f7&&_0x34a3f7['update'](_0x564eb1,_0x564fda);}[_0x49e620(0x46a)]({ownerId:_0xc194ca,label:_0x54eee0,trackKinds:_0x3bd340,remainingTracks:_0x35bc52}){const _0x535a38=_0x49e620,_0x1ac188=_0x2990b6(_0x572501[_0x535a38(0xa7d)],{'contentType':_0x596e17['ContentType'][_0x535a38(0x451)],'label':_0x54eee0,'remoteId':_0xc194ca});this['clearSubscriptionRequestTimeout'](_0x1ac188);const _0x13efda=this[_0x535a38(0x8ba)][_0x535a38(0x680)](_0x1ac188);_0x13efda&&(this[_0x535a38(0x720)]['mediator'][_0x535a38(0x3fd)](_0x13efda),this[_0x535a38(0x8ba)][_0x535a38(0x55f)](_0x1ac188));const {parts:_0x2ce015,subscriptionLabel:_0x52438b}=this[_0x535a38(0x8af)](_0x54eee0,_0xc194ca),_0x544d00=this['getMediaSubscription'](_0x52438b);_0x544d00&&(_0x544d00[_0x535a38(0x2aa)](_0xc194ca,_0x35bc52,_0x3bd340),0x0===_0x35bc52&&this[_0x535a38(0x3ea)](_0x2ce015['label'],_0x2ce015[_0x535a38(0x263)],_0x2ce015[_0x535a38(0x620)]));}[_0x49e620(0x28e)](_0x39fe6a,{label:_0x23effe,ownerId:_0x2ecdad,trackKinds:_0x4608e4,streamId:_0x1dfdfa,params:_0x56eff2}){const _0x3e7b08=_0x49e620,_0x200cd5=_0x2990b6(_0x572501['Incoming'],{'contentType':_0x596e17[_0x3e7b08(0x7dd)][_0x3e7b08(0x451)],'label':_0x1dfdfa,'remoteId':_0x39fe6a}),_0x54b702=this[_0x3e7b08(0x6ef)]['subscriptions'][_0x3e7b08(0x680)](_0x200cd5);if(!(_0x54b702&&_0x54b702 instanceof _0x356018))throw new _0x44727e(_0x44727e[_0x3e7b08(0x849)][_0x3e7b08(0x1fc)],{'label':_0x200cd5,'ownerId':_0x2ecdad});this[_0x3e7b08(0x866)](_0x54b702,_0x200cd5),this[_0x3e7b08(0x9ca)](_0x23effe,_0x2ecdad,_0x4608e4,_0x56eff2);}[_0x49e620(0x6bb)](_0x2cb984,_0x2d1747){const _0x49124e=_0x49e620,{label:_0x44b63f,ownerId:_0x575162,trackKinds:_0x5c7d5d,params:_0x5d48d8}=_0x2d1747,_0x2bbebd=_0x2990b6(_0x572501[_0x49124e(0xa7d)],{'contentType':_0x596e17[_0x49124e(0x7dd)][_0x49124e(0x451)],'label':_0x44b63f,'remoteId':_0x575162});if(!this[_0x49124e(0x8ba)][_0x49124e(0x29d)](_0x2bbebd))throw new _0x44727e(_0x44727e[_0x49124e(0x849)]['SubscriptionRequestDoesNotExist'],{'label':_0x2bbebd,'ownerId':_0x575162,'streamId':_0x2d1747[_0x49124e(0x6ad)],'requests':this['subscriptionRequests']});const _0x285e75=this[_0x49124e(0x8ba)][_0x49124e(0x680)](_0x2bbebd);if(_0x5c7d5d['length']===_0x285e75[_0x49124e(0xb31)]()['length']&&_0x5c7d5d['every'](_0x3f6c23=>_0x285e75[_0x49124e(0xb31)]()[_0x49124e(0x2ef)](_0x3f6c23)))try{const _0x24c51f=_0x285e75[_0x49124e(0xa4c)](_0x2cb984,_0x2d1747);if(!_0x24c51f)return;this[_0x49124e(0xa34)](_0x24c51f,_0x575162,_0x44b63f,_0x2bbebd,_0x5c7d5d);}catch(_0x531462){return void this[_0x49124e(0x774)](_0x44b63f,_0x575162,_0x5c7d5d,_0x5d48d8);}}[_0x49e620(0xa4f)](_0xc8cc4a,{label:_0x158cd0,ownerId:_0x2d2443,trackKinds:_0x10eecc}){const _0x3a5c7a=_0x49e620,_0x29921a=this[_0x3a5c7a(0x720)][_0x3a5c7a(0x63b)][_0x3a5c7a(0x696)](_0x2d2443,_0x158cd0);if(!_0x29921a)return;const _0x3c23ad=_0x29921a['getInternalStreamId'](),_0xa5a5a6=_0x29921a['getSubscribedTracks']();_0xa5a5a6[_0x3a5c7a(0x8b6)](_0xb2125=>_0x10eecc[_0x3a5c7a(0x2ef)](_0xb2125))&&this[_0x3a5c7a(0x639)](_0xc8cc4a,_0x158cd0,_0x3c23ad,_0x2d2443,_0xa5a5a6);}[_0x49e620(0xac5)]({label:_0x261a7c,providerId:_0x7c4149,ownerId:_0x5540a8,streamId:_0x11265f,trackKinds:_0x186060}){const _0x5db917=_0x49e620;this[_0x5db917(0x639)](_0x7c4149,_0x261a7c,_0x11265f,_0x5540a8,_0x186060);}['handleOptimizationConnectionSuccess'](_0x20ee7f){const _0x91805b=_0x49e620;for(const _0x21ef78 of this[_0x91805b(0x5d2)][_0x91805b(0x66b)]()){const {streamLabel:_0x1147a0,ownerId:_0x147600,trackKinds:_0x27cb0a,params:_0x5779d0}=_0x21ef78;if(!_0x147600||!_0x27cb0a||!_0x1147a0)return;this[_0x91805b(0x36f)][_0x91805b(0x6b8)]({'label':_0x1147a0,'ownerId':_0x147600,'trackKinds':_0x27cb0a,'params':_0x5779d0,'remoteId':_0x20ee7f});}}[_0x49e620(0x453)](_0x2251a6){const _0x5dcfc5=_0x49e620;this['maps'][_0x5dcfc5(0x460)][_0x5dcfc5(0x49b)]((_0x3757b6,_0x476e2a)=>{const _0x20a301=_0x5dcfc5;if(_0x476e2a[_0x20a301(0x24a)](_0x2251a6)){if(_0x3757b6['destination'][_0x20a301(0x9e2)]()===_0x596e17['ContentType']['Media']){const _0x1f462c=_0x3757b6['destination'];if(_0x1f462c[_0x20a301(0x432)]()[_0x20a301(0x8bc)]>0x0){const _0x51b5cc={'type':_0x5afa9d[_0x20a301(0x1c6)],'label':_0x1f462c[_0x20a301(0x227)](),'ownerId':_0x1f462c[_0x20a301(0x8fa)](),'trackKinds':_0x1f462c[_0x20a301(0x432)]()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x2251a6,_0x51b5cc);}}this[_0x20a301(0x866)](_0x3757b6,_0x476e2a);}});}['close'](){const _0x4a4ce5=_0x49e620;this[_0x4a4ce5(0x6ef)][_0x4a4ce5(0x460)][_0x4a4ce5(0x49b)](this['closeSubscription'][_0x4a4ce5(0x6e2)](this));}[_0x49e620(0xa34)](_0x1e9e39,_0x225c4a,_0x639a8,_0x4d879f,_0x30c4ff){const _0x146a53=_0x49e620,_0x373014=this[_0x146a53(0x720)]['mediator'][_0x146a53(0xa7c)](_0x1e9e39['nodeId']),_0x3ece1e=this['configs'][_0x146a53(0x63b)][_0x146a53(0x696)](_0x225c4a,_0x639a8);this[_0x146a53(0x4ad)](_0x4d879f),this[_0x146a53(0x8ba)][_0x146a53(0x29d)](_0x4d879f)&&(this[_0x146a53(0x720)][_0x146a53(0x63b)][_0x146a53(0x3fd)](this['subscriptionRequests'][_0x146a53(0x680)](_0x4d879f)),this[_0x146a53(0x8ba)][_0x146a53(0x55f)](_0x4d879f)),this[_0x146a53(0x900)](_0x1e9e39,_0x225c4a,_0x639a8,_0x3ece1e),_0x3ece1e['setInternalId'](_0x1e9e39[_0x146a53(0x6ad)]),_0x3ece1e[_0x146a53(0x5f0)](_0x1e9e39[_0x146a53(0x7cd)]);const _0x132b16=_0x580d2a(_0x3ece1e,_0x373014),_0x34b711=_0x2990b6(_0x572501['Incoming'],_0x132b16);this[_0x146a53(0x6ef)][_0x146a53(0x460)]['has'](_0x34b711)||this[_0x146a53(0x28c)](_0x373014,_0x3ece1e);const _0x15287a=this['maps'][_0x146a53(0x460)][_0x146a53(0x680)](_0x34b711);if(!(_0x15287a&&_0x15287a instanceof _0x356018))throw new _0x44727e(_0x44727e['codes'][_0x146a53(0x1fc)],{'label':_0x4d879f,'ownerId':_0x225c4a});_0xb8b103['logEvent'](_0x146a53(0x8c7),{'clusterId':this[_0x146a53(0x720)][_0x146a53(0x4a0)],'nodeId':this['configs'][_0x146a53(0xaa8)][_0x146a53(0x27e)](),'nodeType':this[_0x146a53(0x720)][_0x146a53(0xaa8)][_0x146a53(0x70f)],'data':{'subscriptionLabel':_0x34b711,'chosenAnswer':_0x1e9e39}}),this[_0x146a53(0x5d2)][_0x146a53(0x9fa)](_0x34b711,_0x1e9e39),_0x15287a['subscribe'](_0x225c4a,_0x30c4ff,_0x1e9e39[_0x146a53(0x67e)]);}['removeRemoteStreamSubscription']({ownerId:_0x4767ba,label:_0x2efd90}){const _0xa811ff=_0x49e620,_0xdbbc5c=this[_0xa811ff(0x720)][_0xa811ff(0x63b)][_0xa811ff(0x696)](_0x4767ba,_0x2efd90),[_0x1f8a78,_0x1afe90]=Array[_0xa811ff(0x9cc)](this['maps']['subscriptions'][_0xa811ff(0xa33)]())[_0xa811ff(0x94a)](([_0x1c0f75,_0x3e47cb])=>-0x1!==_0x1c0f75[_0xa811ff(0x688)](_0xdbbc5c[_0xa811ff(0x3da)]()));return this[_0xa811ff(0x866)](_0x1afe90,_0x1f8a78);}['closeSubscription'](_0xbfd4ea,_0x38ff54){const _0x40990d=_0x49e620;this[_0x40990d(0x720)][_0x40990d(0x63b)][_0x40990d(0x3fd)](_0xbfd4ea),this[_0x40990d(0x6ef)][_0x40990d(0x866)](_0xbfd4ea,_0x38ff54);}[_0x49e620(0x580)](_0x2d8de3){const _0x327730=_0x49e620;return _0x2d8de3[_0x327730(0xa2e)]()[_0x327730(0x2ef)](_0x596e17['ContentType'][_0x327730(0x451)]);}['isMediaDestination'](_0x39053f){const _0x34e44f=_0x49e620;return _0x39053f[_0x34e44f(0x9e2)]()===_0x596e17[_0x34e44f(0x7dd)][_0x34e44f(0x451)];}async['handleNoAnswer'](_0x2aea9a,_0x3f74d5,_0x35fc4b,_0x1cc058){const _0x86a575=_0x49e620;await _0x285f59[_0x86a575(0x7fd)](0x3e8);const _0x293994=_0x2990b6(_0x572501[_0x86a575(0xa7d)],{'contentType':_0x596e17[_0x86a575(0x7dd)][_0x86a575(0x451)],'label':_0x2aea9a,'remoteId':_0x3f74d5});this[_0x86a575(0x4ad)](_0x293994);const _0x3f0aa0=this[_0x86a575(0x8ba)][_0x86a575(0x680)](_0x293994);if(!_0x3f0aa0)throw new _0x44727e(_0x44727e['codes'][_0x86a575(0x1fc)],{'label':_0x293994,'ownerId':_0x3f74d5});const _0xc6f58e=this['configs'][_0x86a575(0x63b)][_0x86a575(0xa03)](_0x59dffe=>_0x59dffe[_0x86a575(0xb44)]()),_0x104776=this['configs'][_0x86a575(0x63b)][_0x86a575(0x4f5)](this['configs'][_0x86a575(0xaa8)]['getId'](),_0x3f74d5);_0x3f0aa0[_0x86a575(0x8a0)](_0xc6f58e[_0x86a575(0x3bb)](_0x32e57f=>_0x32e57f['getRemoteId']()),_0x104776);try{_0x3f0aa0[_0x86a575(0x6ae)](this[_0x86a575(0x720)]['localNode'][_0x86a575(0x27e)](),_0x3f74d5,_0x2aea9a,_0x35fc4b,_0x1cc058),this[_0x86a575(0xac2)](_0x2aea9a,_0x3f74d5,_0x35fc4b,_0x1cc058,_0x293994,_0x3f0aa0);}catch(_0x18871f){this[_0x86a575(0x36f)]['push']({'label':_0x2aea9a,'ownerId':_0x3f74d5,'trackKinds':_0x35fc4b,'params':_0x1cc058});}}['requestSubscription'](_0x351022,_0x10bdfa,_0x3526a8,_0x4f9091){const _0x54546d=_0x49e620;this['subscriptionRequestsQueue'][_0x54546d(0x6b8)]({'label':_0x351022,'ownerId':_0x10bdfa,'trackKinds':_0x3526a8,'params':_0x4f9091});}[_0x49e620(0xae6)]({label:_0x55e4bb,ownerId:_0x15acc5,trackKinds:_0x5d9bc9,params:_0x8b7b8d,remoteId:_0x9347c0}){const _0xab5402=_0x49e620;if(!this['configs'][_0xab5402(0x63b)][_0xab5402(0x696)](_0x15acc5,_0x55e4bb))return;if(!this[_0xab5402(0x720)][_0xab5402(0x63b)]['getLocalNode']()[_0xab5402(0x496)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x9347c0){const _0x3696a2=this[_0xab5402(0x720)][_0xab5402(0x63b)][_0xab5402(0x95b)]()['find'](_0x53f414=>_0x53f414[_0xab5402(0x27e)]()===_0x9347c0),_0x101f5c=_0x3696a2?.[_0xab5402(0x496)]();if(!_0x3696a2||!_0x101f5c)throw new Error(_0xab5402(0x4b0));const _0x330a5a=this[_0xab5402(0x720)]['mediator'][_0xab5402(0x95b)]()[_0xab5402(0x94a)](_0x4870f4=>_0x4870f4['getId']()===_0x15acc5),_0x201b43=_0x330a5a?.['getRank']();if(!_0x330a5a||!_0x201b43)throw new Error(_0xab5402(0x4e1));const _0x7c6a02=this[_0xab5402(0x5d2)][_0xab5402(0x680)](_0x55e4bb);if(_0x7c6a02){const _0x3690e4=this[_0xab5402(0x720)]['mediator'][_0xab5402(0x95b)]()[_0xab5402(0x94a)](_0x5891e5=>_0x5891e5[_0xab5402(0x27e)]()===_0x7c6a02['nodeId']),_0x221925=_0x3690e4?.[_0xab5402(0x496)]();if(!_0x3690e4||!_0x221925)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math[_0xab5402(0x31d)](_0x221925-_0x201b43)<Math[_0xab5402(0x31d)](_0x101f5c-_0x201b43))return;}}const _0x4bdcaf=this[_0xab5402(0x720)][_0xab5402(0x63b)][_0xab5402(0xa03)](_0x5b915d=>_0x5b915d[_0xab5402(0xb44)]()&&(!_0x9347c0||_0x5b915d[_0xab5402(0x6c5)]()===_0x9347c0));if(!_0x4bdcaf[_0xab5402(0x8bc)]||0x0===_0x4bdcaf[_0xab5402(0x8bc)])throw new Error(_0xab5402(0x2dd));const _0x33bb57=this[_0xab5402(0x720)][_0xab5402(0x63b)][_0xab5402(0x4f5)](this[_0xab5402(0x720)][_0xab5402(0xaa8)]['getId'](),_0x15acc5),_0x20eb29=_0x2990b6(_0x572501[_0xab5402(0xa7d)],{'contentType':_0x596e17[_0xab5402(0x7dd)][_0xab5402(0x451)],'label':_0x55e4bb,'remoteId':_0x15acc5});if(this[_0xab5402(0x8ba)][_0xab5402(0x29d)](_0x20eb29)){if(_0x9347c0)throw new Error(_0xab5402(0x831));const _0x3a6680=this[_0xab5402(0x8ba)]['get'](_0x20eb29)['getTracks']();if(_0x3a6680[_0xab5402(0x8bc)]===_0x5d9bc9[_0xab5402(0x8bc)]&&_0x3a6680[_0xab5402(0xa8b)](_0x4fb1de=>_0x5d9bc9['includes'](_0x4fb1de)))return;this[_0xab5402(0x720)][_0xab5402(0x63b)]['unregisterSystemSource'](this[_0xab5402(0x8ba)][_0xab5402(0x680)](_0x20eb29)),this[_0xab5402(0x8ba)][_0xab5402(0x55f)](_0x20eb29),_0x5d9bc9=Array['from'](new Set(_0x5d9bc9['concat'](_0x3a6680))),this[_0xab5402(0x4ad)](_0x20eb29);}const _0x8630bb=new _0xf6bd4b(_0x4bdcaf[_0xab5402(0x3bb)](_0x219020=>_0x219020[_0xab5402(0x6c5)]()),_0x33bb57,this[_0xab5402(0x7c3)],_0x5d9bc9);this[_0xab5402(0x720)]['mediator'][_0xab5402(0x7c2)](_0x8630bb),this['subscriptionRequests']['set'](_0x20eb29,_0x8630bb),_0x8630bb[_0xab5402(0x6ae)](this[_0xab5402(0x720)]['localNode'][_0xab5402(0x27e)](),_0x15acc5,_0x55e4bb,_0x5d9bc9,_0x8b7b8d),this[_0xab5402(0xac2)](_0x55e4bb,_0x15acc5,_0x5d9bc9,_0x8b7b8d,_0x20eb29,_0x8630bb);}[_0x49e620(0x4ad)](_0x196e4e){const _0x1737e7=_0x49e620;this[_0x1737e7(0x9cf)]['has'](_0x196e4e)&&(clearTimeout(this[_0x1737e7(0x9cf)][_0x1737e7(0x680)](_0x196e4e)),this[_0x1737e7(0x9cf)][_0x1737e7(0x55f)](_0x196e4e));}[_0x49e620(0xac2)](_0x3ba84a,_0x15777a,_0x52c5a1,_0x5ca12f,_0x415c47,_0x6937e0){const _0x1cc9f0=_0x49e620;this[_0x1cc9f0(0x4ad)](_0x415c47),this['subscriptionRequestTimeouts'][_0x1cc9f0(0x9fa)](_0x415c47,setTimeout(()=>{const _0x43a131=_0x1cc9f0;this[_0x43a131(0x9cf)][_0x43a131(0x55f)](_0x415c47);try{const _0x3b6eb1=_0x6937e0[_0x43a131(0x43a)]();this['subscribe'](_0x3b6eb1,_0x15777a,_0x3ba84a,_0x415c47,_0x52c5a1);}catch(_0x4c1747){this['handleNoAnswer'](_0x3ba84a,_0x15777a,_0x52c5a1,_0x5ca12f);}},0x7d0));}[_0x49e620(0x639)](_0x2cc3cb,_0x59b818,_0xda417d,_0x157f6a,_0x403140){const _0x59b444=_0x49e620,{subscriptionLabel:_0xba3423}=this[_0x59b444(0x8af)](_0x59b818,_0x157f6a),_0x25b97f=this[_0x59b444(0x53f)](_0xba3423),_0x2dbfcc=_0x25b97f?.[_0x59b444(0x67e)];_0x25b97f&&(_0x25b97f[_0x59b444(0x2aa)](_0x157f6a,0x0),this['removeSubscription'](_0xda417d,_0x596e17['ContentType'][_0x59b444(0x451)],_0x2cc3cb)),this[_0x59b444(0x9ca)](_0x59b818,_0x157f6a,_0x403140,_0x2dbfcc);}[_0x49e620(0x53f)](_0x709f2d){const _0x268812=_0x49e620,_0x5afecd=this[_0x268812(0x6ef)][_0x268812(0x460)]['get'](_0x709f2d);if(_0x5afecd){if(!(_0x5afecd instanceof _0x356018))throw new _0x44727e(_0x44727e['codes']['InvalidSubscription'],{'label':_0x709f2d,'subscription':_0x5afecd});return _0x5afecd;}}[_0x49e620(0x8af)](_0x536a7e,_0xf81b05){const _0x4d239d=_0x49e620,_0x52e8=this[_0x4d239d(0x54d)](_0x536a7e,_0xf81b05);return{'parts':_0x52e8,'subscriptionLabel':_0x2990b6(_0x572501[_0x4d239d(0xa7d)],_0x52e8)};}[_0x49e620(0x54d)](_0x507c4d,_0x5bf9c6){const _0xff593=_0x49e620,_0x1f1a14=this['configs'][_0xff593(0x63b)][_0xff593(0x696)](_0x5bf9c6,_0x507c4d),_0x5523a5=_0x1f1a14['getProviderId']();if(!_0x5523a5)throw new _0x44727e(_0x44727e[_0xff593(0x849)][_0xff593(0x3ef)],{'label':_0x507c4d,'streamId':_0x1f1a14[_0xff593(0x3da)](),'ownerId':_0x5bf9c6,'localId':this['configs'][_0xff593(0xaa8)]['getId']()});return{'contentType':_0x596e17[_0xff593(0x7dd)][_0xff593(0x451)],'label':_0x1f1a14[_0xff593(0x3da)](),'remoteId':_0x5523a5};}['cleanOldSubscription'](_0x4fd46c,_0x4f73fe,_0x5f37eb,_0x444a00){const _0x347605=_0x49e620,_0x558b51=_0x444a00[_0x347605(0x653)]();if(_0x558b51&&_0x558b51!==_0x4fd46c[_0x347605(0x7cd)]){const {parts:_0x14fbfc,subscriptionLabel:_0x35416c}=this[_0x347605(0x8af)](_0x5f37eb,_0x4f73fe),_0x521f15=this[_0x347605(0x53f)](_0x35416c);_0x521f15&&(_0x521f15[_0x347605(0x2aa)](_0x4f73fe,0x0),this[_0x347605(0x3ea)](_0x14fbfc['label'],_0x14fbfc[_0x347605(0x263)],_0x14fbfc[_0x347605(0x620)]));}}}class _0x575959{[_0x49e620(0x720)];['maxOutgoingSubscriptions'];[_0x49e620(0x6ef)];constructor(_0x238b17,_0x1f894b){const _0x2bcdea=_0x49e620;this[_0x2bcdea(0x720)]=_0x238b17,this[_0x2bcdea(0x46f)]=_0x1f894b,this['maps']=new _0xdc5c7e(({source:_0x498ca5,destination:_0x213f8f})=>_0x580d2a(_0x498ca5,_0x213f8f));}[_0x49e620(0x28c)](_0x2812e8,_0x5447c5){const _0x522e39=_0x49e620,_0x23d092={'source':_0x2812e8,'destination':_0x5447c5};this['maps']['createSubscription'](_0x572501[_0x522e39(0x384)],_0x23d092);}[_0x49e620(0x3ea)](_0x1be688,_0x5d3c7b,_0x472652=''){const _0x5c15dd=_0x49e620,_0x3a0bf4={'contentType':_0x5d3c7b,'label':_0x1be688,'remoteId':_0x472652};this[_0x5c15dd(0x6ef)][_0x5c15dd(0x3ea)](_0x3a0bf4,_0x572501['Outgoing']);}['handleSubscriptionSubscribeMediaStream'](_0x336fc6,_0x7a183e){const _0x1de7cf=_0x49e620;let _0x35771b;_0x35771b=_0x7a183e['ownerId']!==this['configs'][_0x1de7cf(0xaa8)][_0x1de7cf(0x27e)]()?this['configs'][_0x1de7cf(0x63b)][_0x1de7cf(0x696)](_0x7a183e[_0x1de7cf(0xa8c)],_0x7a183e[_0x1de7cf(0x73a)]):this[_0x1de7cf(0x720)]['mediator']['getLocalMediaStream'](_0x7a183e[_0x1de7cf(0x73a)]);const _0xc9fd7a=_0x2990b6(_0x572501[_0x1de7cf(0x384)],{'contentType':_0x596e17[_0x1de7cf(0x7dd)][_0x1de7cf(0x451)],'label':_0x35771b[_0x1de7cf(0x328)](),'remoteId':_0x336fc6}),_0xad353=this[_0x1de7cf(0x4d0)]();if(!this[_0x1de7cf(0x6ef)]['subscriptions'][_0x1de7cf(0x29d)](_0xc9fd7a)&&_0xad353>=this[_0x1de7cf(0x46f)])return{'type':_0x5afa9d['RestartNeedMediaStream'],'ownerId':_0x7a183e[_0x1de7cf(0xa8c)],'label':_0x7a183e[_0x1de7cf(0x73a)],'streamId':_0x35771b[_0x1de7cf(0x328)](),'trackKinds':_0x7a183e[_0x1de7cf(0xad0)],'params':_0x7a183e['params']};_0x35771b instanceof _0x4e7625&&!_0x35771b[_0x1de7cf(0x2b8)](_0x7a183e[_0x1de7cf(0xad0)])&&_0x35771b['subscribe'](_0x7a183e['params']),this[_0x1de7cf(0x6ef)]['subscriptions']['has'](_0xc9fd7a)||this['createSubscription'](_0x35771b['getShareableStream'](_0x336fc6),this[_0x1de7cf(0x720)]['mediator'][_0x1de7cf(0xa7c)](_0x336fc6));}[_0x49e620(0x7d2)](_0x12de23,{label:_0x41885b,ownerId:_0x16931c,remainingTracks:_0x2b6228}){const _0x3fb9ec=_0x49e620;if(_0x2b6228>0x0)return;let _0x225104;_0x225104=_0x16931c!==this['configs'][_0x3fb9ec(0xaa8)][_0x3fb9ec(0x27e)]()?this[_0x3fb9ec(0x720)][_0x3fb9ec(0x63b)]['getRemoteMediaStream'](_0x16931c,_0x41885b):this[_0x3fb9ec(0x720)]['mediator'][_0x3fb9ec(0x1e4)](_0x41885b);const _0x4b921a=_0x225104[_0x3fb9ec(0x328)](),_0x5d4e43=_0x596e17[_0x3fb9ec(0x7dd)][_0x3fb9ec(0x451)];this['removeSubscription'](_0x4b921a,_0x5d4e43,_0x12de23);}[_0x49e620(0x46a)](_0x506938,{label:_0x47c30c,ownerId:_0x3eb214,trackKinds:_0x5287a3}){const _0x479446=_0x49e620;if(_0x506938!==_0x11f0c5)return[];let _0x1248a8=[];for(const _0x3e5114 of this['maps'][_0x479446(0x460)]){const {source:_0x1f8ca7,destination:_0x2df2ea}=_0x3e5114[0x1];_0x1f8ca7[_0x479446(0x227)]()===_0x47c30c&&_0x1f8ca7[_0x479446(0x8fa)]()===_0x3eb214&&_0x1248a8[_0x479446(0x6b8)]({'sourceId':this[_0x479446(0x720)]['localNode'][_0x479446(0x27e)](),'destinationIds':[_0x2df2ea[_0x479446(0x6c5)]()],'messageType':_0x24f665[_0x479446(0x3f1)],'content':{'type':_0x5afa9d[_0x479446(0x1c6)],'label':_0x47c30c,'ownerId':_0x3eb214,'trackKinds':_0x5287a3}});}return _0x1248a8;}[_0x49e620(0xad8)](_0x161ac1,_0x44e502){const _0x193169=_0x49e620,{label:_0x4a2c41,ownerId:_0x513bbf,trackKinds:_0x40e0e4,params:_0x5a7451}=_0x44e502,{hasTracks:_0x4c3873,streamId:_0x5b9309,hasResolution:_0x55e15a,distance:_0x15f574,subscriptionLabel:_0x792ca2}=this[_0x193169(0x51c)](_0x161ac1,_0x44e502);let _0x46c21d=this['getNumberOutgoingSubscriptions']()<this[_0x193169(0x46f)]&&(_0x4c3873||_0x15f574>-0x1)?_0x5afa9d[_0x193169(0x43b)]:_0x5afa9d[_0x193169(0x850)];const _0x27090a=_0x15f574<0x0?0xa:_0x15f574;let _0x255ca0=_0x4c3873?_0x55e15a?_0x27090a:_0x27090a+0x0:_0x27090a+0xa;return _0x792ca2&&this[_0x193169(0x6ef)][_0x193169(0x460)]['has'](_0x792ca2)&&(_0x4c3873&&(_0x255ca0=0x0),_0x46c21d=_0x5afa9d['CanProvideMediaStream']),{'type':_0x46c21d,'cost':_0x255ca0,'distance':_0x15f574,'label':_0x4a2c41,'ownerId':_0x513bbf,'streamId':_0x5b9309,'trackKinds':_0x40e0e4,'params':_0x5a7451};}[_0x49e620(0x7eb)](_0xb915d0){const _0x10306e=_0x49e620,{label:_0x367e75,ownerId:_0x5ed57b}=_0xb915d0,_0x359267=this['configs'][_0x10306e(0x63b)][_0x10306e(0x696)](_0x5ed57b,_0x367e75);this[_0x10306e(0x6ef)][_0x10306e(0x460)][_0x10306e(0x49b)](_0x383bbc=>{const _0xbc816e=_0x10306e;if(_0x383bbc[_0xbc816e(0x502)][_0xbc816e(0x3da)]()===_0x359267[_0xbc816e(0x328)]()){const _0x4c3ea8=_0x383bbc[_0xbc816e(0x396)];this['removeSubscription'](_0x359267['getShareableStreamId'](),_0x596e17[_0xbc816e(0x7dd)]['Media'],_0x4c3ea8['getRemoteId']());}});}['handleContentCloseMediaStream']({label:_0x1f0379}){const _0x5730a2=_0x49e620,_0x5d9ae2=this[_0x5730a2(0x720)][_0x5730a2(0x63b)][_0x5730a2(0x1e4)](_0x1f0379);this['maps']['subscriptions'][_0x5730a2(0x49b)](_0x1011dc=>{const _0x31caff=_0x5730a2;if(_0x1011dc[_0x31caff(0x502)][_0x31caff(0x3da)]()===_0x5d9ae2[_0x31caff(0x328)]()){const _0x555a72=_0x1011dc[_0x31caff(0x396)];this[_0x31caff(0x3ea)](_0x5d9ae2['getShareableStreamId'](),_0x596e17[_0x31caff(0x7dd)]['Media'],_0x555a72[_0x31caff(0x6c5)]());}});}[_0x49e620(0x453)](_0x4928fb){const _0x1c9af9=_0x49e620;this[_0x1c9af9(0x6ef)][_0x1c9af9(0x453)](_0x4928fb);}['close'](){const _0x265f62=_0x49e620;this[_0x265f62(0x6ef)][_0x265f62(0x460)][_0x265f62(0x49b)](this['closeSubscription'][_0x265f62(0x6e2)](this));}[_0x49e620(0x866)](_0x28cb87,_0x1cf7d7){const _0x1c6470=_0x49e620;this[_0x1c6470(0x6ef)]['closeSubscription'](_0x28cb87,_0x1cf7d7);}[_0x49e620(0x51c)](_0x3da7e6,{label:_0x50f848,ownerId:_0x296165,trackKinds:_0x187f78,params:_0x2c84f3}){const _0x50f182=_0x49e620;if(_0x296165!==this['configs']['localNode'][_0x50f182(0x27e)]()){const _0x593e0b=this['configs'][_0x50f182(0x63b)][_0x50f182(0x696)](_0x296165,_0x50f848);return _0x593e0b&&_0x593e0b[_0x50f182(0x653)]()!==_0x3da7e6?{'hasTracks':_0x593e0b[_0x50f182(0x5ef)](_0x187f78),'hasResolution':this[_0x50f182(0x295)](_0x593e0b[_0x50f182(0xb20)](),_0x2c84f3),'streamId':_0x593e0b[_0x50f182(0x328)](),'distance':this[_0x50f182(0x720)][_0x50f182(0x63b)]['getDistance'](_0x3da7e6,_0x296165),'subscriptionLabel':_0x2990b6(_0x572501['Outgoing'],{'contentType':_0x596e17[_0x50f182(0x7dd)]['Media'],'label':_0x593e0b[_0x50f182(0x328)](),'remoteId':_0x3da7e6})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x1385e6=this[_0x50f182(0x720)][_0x50f182(0x63b)][_0x50f182(0x1e4)](_0x50f848);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x1385e6[_0x50f182(0x328)](),'distance':0x0,'subscriptionLabel':_0x2990b6(_0x572501['Outgoing'],{'contentType':_0x596e17[_0x50f182(0x7dd)][_0x50f182(0x451)],'label':_0x1385e6[_0x50f182(0x328)](),'remoteId':_0x3da7e6})};}[_0x49e620(0x4d0)](){const _0x3d9d8b=_0x49e620;return Array[_0x3d9d8b(0x9cc)](this['maps'][_0x3d9d8b(0x460)][_0x3d9d8b(0xa33)]())[_0x3d9d8b(0x9e5)](([_0x1c7c2b,{source:_0x5ebc64}])=>_0x1c7c2b[_0x3d9d8b(0x288)](_0x572501[_0x3d9d8b(0x384)])&&_0x5ebc64['getContentType']()===_0x596e17[_0x3d9d8b(0x7dd)][_0x3d9d8b(0x451)])[_0x3d9d8b(0x8bc)];}[_0x49e620(0x295)](_0xccdf36,_0xd4cd06){const _0x5b0349=_0x49e620;if(!_0xd4cd06||!_0xd4cd06[_0x5b0349(0xa0f)]||'boolean'==typeof _0xd4cd06[_0x5b0349(0xa0f)]||!_0xd4cd06[_0x5b0349(0xa0f)][_0x5b0349(0xaed)])return!0x0;const {width:_0x154a42,height:_0x3d7f0f}=_0xd4cd06[_0x5b0349(0xa0f)]['maxResolution'];return _0xccdf36['width']>=_0x154a42&&_0xccdf36['height']>=_0x3d7f0f;}}class _0x5be727{[_0x49e620(0x720)];[_0x49e620(0x46f)];[_0x49e620(0x7c3)];[_0x49e620(0x321)];[_0x49e620(0xb09)];[_0x49e620(0x269)];constructor(_0x596dc5,_0x48432a,_0x5ad845){const _0x4fa92b=_0x49e620;this[_0x4fa92b(0x720)]=_0x596dc5,this[_0x4fa92b(0x46f)]=_0x48432a,this[_0x4fa92b(0x7c3)]=_0x5ad845,this[_0x4fa92b(0x720)]['mediator'][_0x4fa92b(0x7c2)](this),this[_0x4fa92b(0xb09)]=new _0x539739(this['configs'],this[_0x4fa92b(0x7c3)]),this[_0x4fa92b(0x269)]=new _0x575959(this[_0x4fa92b(0x720)],this[_0x4fa92b(0x46f)]);}[_0x49e620(0xb51)](_0xb3584f){this['systemTopic']=_0xb3584f;}[_0x49e620(0xa6a)](){const _0x48c9fd=_0x49e620;delete this[_0x48c9fd(0x321)];}['close'](){const _0x5f1325=_0x49e620;this[_0x5f1325(0xb09)][_0x5f1325(0x5c2)](),this[_0x5f1325(0x269)][_0x5f1325(0x5c2)](),this[_0x5f1325(0x720)]['mediator'][_0x5f1325(0x3fd)](this);}[_0x49e620(0x2e8)](_0x45eb8c,_0x31a73){const _0x27ced1=_0x49e620;this[_0x27ced1(0xb09)]['createSubscription'](_0x45eb8c,_0x31a73);}[_0x49e620(0x540)](_0x34799a,_0x3a3ead){const _0x1e646b=_0x49e620;this[_0x1e646b(0x269)][_0x1e646b(0x28c)](_0x34799a,_0x3a3ead);}[_0x49e620(0xb1c)](_0x32512a,_0x31684f,_0x2dea80=''){const _0x82598d=_0x49e620;this[_0x82598d(0xb09)][_0x82598d(0x3ea)](_0x32512a,_0x31684f,_0x2dea80);}['removeOutgoingSubscription'](_0x314e7a,_0x1cbedf,_0x1acdc9=''){const _0x2ad863=_0x49e620;try{this[_0x2ad863(0x269)][_0x2ad863(0x3ea)](_0x314e7a,_0x1cbedf,_0x1acdc9);}catch(_0xbecaf7){if(_0xbecaf7 instanceof _0x44727e&&_0xbecaf7['code']===_0x44727e[_0x2ad863(0x849)]['InvalidSubscription'])return;}}[_0x49e620(0xa4c)](_0x4bfc60){const _0x3ef32b=_0x49e620;switch(_0x4bfc60['content'][_0x3ef32b(0x70f)]){case _0x5afa9d['SubscribeMediaStream']:this[_0x3ef32b(0x4d3)](_0x4bfc60['sourceId'],_0x4bfc60[_0x3ef32b(0x4fe)]);break;case _0x5afa9d[_0x3ef32b(0x334)]:this[_0x3ef32b(0x269)][_0x3ef32b(0x7d2)](_0x4bfc60[_0x3ef32b(0x4b4)],_0x4bfc60[_0x3ef32b(0x4fe)]);break;case _0x5afa9d['NeedMediaStream']:this[_0x3ef32b(0xad8)](_0x4bfc60['sourceId'],_0x4bfc60[_0x3ef32b(0x4fe)]);break;case _0x5afa9d[_0x3ef32b(0x73e)]:this[_0x3ef32b(0xb09)][_0x3ef32b(0x28e)](_0x4bfc60[_0x3ef32b(0x4b4)],_0x4bfc60[_0x3ef32b(0x4fe)]);break;case _0x5afa9d['CanProvideMediaStream']:case _0x5afa9d[_0x3ef32b(0x850)]:this[_0x3ef32b(0xb09)][_0x3ef32b(0x6bb)](_0x4bfc60[_0x3ef32b(0x4b4)],_0x4bfc60[_0x3ef32b(0x4fe)]);break;case _0x5afa9d[_0x3ef32b(0x1c6)]:this[_0x3ef32b(0xb09)][_0x3ef32b(0xa4f)](_0x4bfc60[_0x3ef32b(0x4b4)],_0x4bfc60[_0x3ef32b(0x4fe)]);}}[_0x49e620(0x755)](_0x7d1421){const _0xc200f0=_0x49e620;switch(_0x7d1421[_0xc200f0(0x4fe)][_0xc200f0(0x70f)]){case _0xbc0bd6[_0xc200f0(0x856)]:this[_0xc200f0(0xb09)][_0xc200f0(0x7eb)](_0x7d1421[_0xc200f0(0x4fe)]),this[_0xc200f0(0x269)][_0xc200f0(0x7eb)](_0x7d1421['content']);break;case _0xbc0bd6[_0xc200f0(0x454)]:this[_0xc200f0(0xb09)][_0xc200f0(0x3ed)](_0x7d1421[_0xc200f0(0x4fe)]);break;case _0xbc0bd6[_0xc200f0(0x3a6)]:this['incomingManager'][_0xc200f0(0xb10)](_0x7d1421['content']);break;case _0xbc0bd6[_0xc200f0(0x334)]:this[_0xc200f0(0x46a)](_0x7d1421[_0xc200f0(0x4b4)],_0x7d1421['content']);break;case _0xbc0bd6[_0xc200f0(0xab9)]:this['outgoingManager'][_0xc200f0(0x1ef)](_0x7d1421[_0xc200f0(0x4fe)]);break;case _0xbc0bd6[_0xc200f0(0x6e1)]:this[_0xc200f0(0x1cc)](_0x7d1421[_0xc200f0(0x4fe)][_0xc200f0(0x73a)],_0x596e17[_0xc200f0(0x7dd)][_0xc200f0(0x600)]);break;case _0xbc0bd6[_0xc200f0(0x84f)]:this[_0xc200f0(0x1cc)](_0x7d1421['content'][_0xc200f0(0x73a)],_0x596e17[_0xc200f0(0x7dd)][_0xc200f0(0x7f2)]);break;case _0xbc0bd6[_0xc200f0(0x9e0)]:this[_0xc200f0(0x1cc)](_0x7d1421[_0xc200f0(0x4fe)][_0xc200f0(0x73a)],_0x596e17[_0xc200f0(0x7dd)][_0xc200f0(0x5ee)]);break;case _0xbc0bd6[_0xc200f0(0x47d)]:this['handleCloseContent'](_0x7d1421[_0xc200f0(0x4fe)]['label'],_0x596e17['ContentType']['KeyValueDatabase']);break;case _0xbc0bd6[_0xc200f0(0x522)]:this[_0xc200f0(0x1cc)](_0x7d1421[_0xc200f0(0x4fe)][_0xc200f0(0x73a)],_0x596e17[_0xc200f0(0x7dd)][_0xc200f0(0x773)]);break;case _0xbc0bd6[_0xc200f0(0x891)]:this[_0xc200f0(0x1cc)](_0x7d1421[_0xc200f0(0x4fe)]['label'],_0x596e17[_0xc200f0(0x7dd)][_0xc200f0(0x48b)]);break;case _0xbc0bd6['CloseJobDispatcher']:case _0xbc0bd6[_0xc200f0(0x694)]:this['handleCloseContent'](_0x7d1421['content'][_0xc200f0(0x73a)],_0x596e17['ContentType'][_0xc200f0(0x80c)]);break;case _0xbc0bd6[_0xc200f0(0x7b9)]:this[_0xc200f0(0xb09)]['handleContentRemoteMediaStreamTrackFail'](_0x7d1421[_0xc200f0(0x4fe)]);}}[_0x49e620(0x3d5)]({content:_0x29dc34}){const _0x51a4f5=_0x49e620;_0x29dc34['type']===_0x33a688[_0x51a4f5(0x6d9)]&&this[_0x51a4f5(0x453)](_0x29dc34);}[_0x49e620(0x7f3)](_0x340b64){const _0x2104de=_0x49e620;_0x340b64[_0x2104de(0x4fe)][_0x2104de(0x70f)]===_0x364a36['OptimizationConnectionSuccess']&&this[_0x2104de(0xb09)]['handleOptimizationConnectionSuccess'](_0x340b64[_0x2104de(0x4b4)]);}['handleContentUnsubscribeMediaStream'](_0xb4f829,_0x324845){const _0x23bc88=_0x49e620;this['incomingManager'][_0x23bc88(0x46a)](_0x324845),this['outgoingManager'][_0x23bc88(0x46a)](_0xb4f829,_0x324845)[_0x23bc88(0x49b)](_0x522720=>this[_0x23bc88(0x321)][_0x23bc88(0x544)](_0x522720));}[_0x49e620(0x4d3)](_0x1111ea,_0x4221b8){const _0x167ce4=_0x49e620,_0x4e78d7=this['outgoingManager'][_0x167ce4(0x4d3)](_0x1111ea,_0x4221b8);if(_0x4e78d7&&(this[_0x167ce4(0x321)][_0x167ce4(0x544)]({'sourceId':this[_0x167ce4(0x720)]['localNode'][_0x167ce4(0x27e)](),'destinationIds':[_0x1111ea],'messageType':_0x24f665[_0x167ce4(0x3f1)],'content':_0x4e78d7}),_0x4e78d7[_0x167ce4(0x70f)]===_0x5afa9d[_0x167ce4(0x73e)]))throw new _0x1a0753(_0x167ce4(0x579));}[_0x49e620(0xad8)](_0x27f4d9,_0x301f91){const _0x561ed0=_0x49e620,_0x4cea2d=this[_0x561ed0(0x269)][_0x561ed0(0xad8)](_0x27f4d9,_0x301f91);this[_0x561ed0(0x321)]['publish']({'sourceId':this[_0x561ed0(0x720)][_0x561ed0(0xaa8)]['getId'](),'destinationIds':[_0x27f4d9],'messageType':_0x24f665[_0x561ed0(0x3f1)],'content':_0x4cea2d});}[_0x49e620(0x1cc)](_0x41bd6c,_0x222dfc){const _0x1f50e5=_0x49e620;this[_0x1f50e5(0xb1c)](_0x41bd6c,_0x222dfc),this['removeOutgoingSubscription'](_0x41bd6c,_0x222dfc);}['removeSubscriptionsForNode']({id:_0x489964}){const _0x90984e=_0x49e620;this['incomingManager'][_0x90984e(0x453)](_0x489964),this[_0x90984e(0x269)][_0x90984e(0x453)](_0x489964);}}class _0x4351ef{[_0x49e620(0x73a)];['listener']=_0x544609();constructor(){this['label']=0x0;}['getLabel'](){const _0x58ca8d=_0x49e620;return this[_0x58ca8d(0x73a)];}[_0x49e620(0x9e2)](){const _0x45d1d7=_0x49e620;return _0x596e17[_0x45d1d7(0x7dd)][_0x45d1d7(0x6cd)];}[_0x49e620(0x1d2)](_0x59d306){_0x59d306['registerSystemPublisher'](this);}['unregisterSource'](_0x516c9a){const _0x12bc51=_0x49e620;_0x516c9a[_0x12bc51(0xa6a)]();}['publish'](_0x5bb10f){const _0x44ed40=_0x49e620;_0xb8b103[_0x44ed40(0xad5)](_0xad09e4[_0x44ed40(0xb27)],_0x44ed40(0x1d8),_0x5bb10f['sourceId'],_0x5bb10f),this['listener'][_0x44ed40(0x544)]({'topicLabel':this['label'],'contentType':_0x596e17[_0x44ed40(0x7dd)]['Data'],'uuid':_0x5bb10f[_0x44ed40(0xa9c)]??(0x0,_0x3c37ba['v4'])(),'recipients':_0x5bb10f[_0x44ed40(0x3aa)]??[],..._0x5bb10f});}[_0x49e620(0xa34)](_0x35bb3b){const _0x3b83c1=_0x49e620;return this[_0x3b83c1(0x1eb)]['subscribe'](_0x35bb3b);}}class _0x3bc37e{['options'];[_0x49e620(0x22d)]=[];['maxLayer'];[_0x49e620(0x549)]=new Map();[_0x49e620(0xaf2)]=_0x544609();constructor(_0x1e1888){const _0x1f680f=_0x49e620;this['options']=_0x1e1888,this[_0x1f680f(0x771)]=(this[_0x1f680f(0x8d3)]['maxConnections']-0x2*this['options']['minConnections'])/0x2,this[_0x1f680f(0x22d)][_0x1f680f(0x6b8)]({'start':0x1,'end':this[_0x1f680f(0x7a2)](0x1,0x1)-0x1});for(let _0x124a60=0x0;_0x124a60<this[_0x1f680f(0x771)];++_0x124a60)this[_0x1f680f(0x22d)]['push']({'start':this['getNextTargetRank'](0x1,_0x124a60+0x1),'end':this['getNextTargetRank'](0x1,_0x124a60+0x2)-0x1});}[_0x49e620(0x7a2)](_0x47e262,_0x47949e=0x1){const _0x1b0e16=_0x49e620;let _0x6664d0=this['options']['maxDistance']-this[_0x1b0e16(0x8d3)][_0x1b0e16(0x1fa)],_0x190273=0x1;for(let _0xd624b1=0x1;_0xd624b1<_0x47949e;++_0xd624b1)_0x6664d0*=this['options'][_0x1b0e16(0x7c3)]-this[_0x1b0e16(0x8d3)][_0x1b0e16(0x1fa)]-_0xd624b1,_0x190273*=this[_0x1b0e16(0x8d3)][_0x1b0e16(0x7c3)]-this[_0x1b0e16(0x8d3)][_0x1b0e16(0x1fa)]-_0xd624b1+0x1;return _0x6664d0*this['options'][_0x1b0e16(0x1fa)]+_0x47e262-_0x190273;}[_0x49e620(0x1d1)](_0x25df2a){const _0x4dca65=_0x49e620;let _0x4e5e80=0x0;for(;this[_0x4dca65(0x22d)][_0x4e5e80]['end']<_0x25df2a;)_0x4e5e80+=0x1;return _0x4e5e80;}[_0x49e620(0x883)](){return this['options']['minConnections'];}[_0x49e620(0x8d1)](){const _0xa9c744=_0x49e620;return this[_0xa9c744(0x8d3)][_0xa9c744(0xa92)];}[_0x49e620(0x513)](){return this['options']['maxDistance'];}[_0x49e620(0x95b)](){const _0x18a991=_0x49e620;return this[_0x18a991(0x549)];}[_0x49e620(0xaec)](_0x2521d6,_0x4c8f8d){const _0x5231b5=_0x49e620;this[_0x5231b5(0x549)][_0x5231b5(0x9fa)](_0x2521d6,_0x4c8f8d),this['nodeUpdate'][_0x5231b5(0x544)]();}[_0x49e620(0x559)](_0x3eb676){const _0x480f26=_0x49e620;this['remoteNodes'][_0x480f26(0x55f)](_0x3eb676),this[_0x480f26(0xaf2)]['publish']();}[_0x49e620(0x445)](_0x48af5b){const _0x229a62=_0x49e620;return this[_0x229a62(0x549)][_0x229a62(0x29d)](_0x48af5b);}[_0x49e620(0x40d)](_0x4887ea){const _0x2070b1=_0x49e620;return this['remoteNodes'][_0x2070b1(0x680)](_0x4887ea);}[_0x49e620(0x252)](_0x180734,_0x4fc79a){const _0x4f6f2d=_0x49e620,_0x517e4a=this[_0x4f6f2d(0x40d)](_0x4fc79a)?.[_0x4f6f2d(0x496)]()??0x0;return _0x180734[_0x4f6f2d(0x3bb)](_0xfb498b=>this[_0x4f6f2d(0x40d)](_0xfb498b))['filter'](_0x8a30=>void 0x0!==_0x8a30)[_0x4f6f2d(0x8d9)]((_0x1eae6f,_0x13dc47)=>Math['abs'](_0x517e4a-(_0x1eae6f&&_0x1eae6f[_0x4f6f2d(0x496)]()||0x1/0x0))-Math[_0x4f6f2d(0x31d)](_0x517e4a-(_0x13dc47&&_0x13dc47['getRank']()||0x1/0x0)))[_0x4f6f2d(0x3bb)](_0x1ba84f=>_0x1ba84f[_0x4f6f2d(0x27e)]());}['onNodeUpdate'](_0xc6e2de){const _0x143595=_0x49e620;return this[_0x143595(0xaf2)][_0x143595(0xa34)](_0xc6e2de);}}class _0x121c0d{[_0x49e620(0x2e6)];['clusterId'];[_0x49e620(0x3cb)];[_0x49e620(0x835)];['options'];['configs'];['clusterEventEmitter'];[_0x49e620(0x33d)];['connectionManager'];['subscriptionManager'];[_0x49e620(0xa7f)];[_0x49e620(0x6e0)];[_0x49e620(0x3c2)];[_0x49e620(0x290)];['graphService'];[_0x49e620(0x321)]=new _0x4351ef();[_0x49e620(0x704)];[_0x49e620(0xaa8)];constructor(_0x466b9e,_0x11a589,_0x3837f0,_0x682745,_0x383a35,_0xf7b9fd,_0x2fbb26){const _0x2ce2ad=_0x49e620;switch(this[_0x2ce2ad(0x2e6)]=_0x466b9e,this['clusterId']=_0x11a589,this[_0x2ce2ad(0x3cb)]=_0x3837f0,this['authService']=_0x682745,this['options']=_0x383a35,this[_0x2ce2ad(0x720)]=_0xf7b9fd,this[_0x2ce2ad(0x261)]=_0x2fbb26,_0x3837f0['type']){case _0x596e17[_0x2ce2ad(0x83b)][_0x2ce2ad(0x981)]:this[_0x2ce2ad(0xaa8)]=new _0x328b9b(_0x3837f0['getId'](),_0x3837f0[_0x2ce2ad(0x3db)](),_0x3837f0[_0x2ce2ad(0x94d)]());break;case _0x596e17[_0x2ce2ad(0x83b)][_0x2ce2ad(0x783)]:default:this[_0x2ce2ad(0xaa8)]=new _0x55e8f6(_0x3837f0[_0x2ce2ad(0x27e)]());}const _0x484854=this[_0x2ce2ad(0x73b)]();this[_0x2ce2ad(0x5c0)]=new _0x3bc37e(this[_0x2ce2ad(0x8d3)]),this[_0x2ce2ad(0x33d)]=new _0x36abd6(_0x484854,this['options']),this[_0x2ce2ad(0x792)]=new _0x3cadb4(_0x484854,this[_0x2ce2ad(0x835)],this[_0x2ce2ad(0x5c0)],this[_0x2ce2ad(0x720)][_0x2ce2ad(0xa94)],this[_0x2ce2ad(0x8d3)]),this[_0x2ce2ad(0x884)]=new _0x5be727(_0x484854,this['options'][_0x2ce2ad(0x46f)],this[_0x2ce2ad(0x5c0)][_0x2ce2ad(0x513)]()),this[_0x2ce2ad(0xa7f)]=new _0x118492(_0x484854),this['detectionManager']=new _0x33af22(_0x484854),this[_0x2ce2ad(0x3c2)]=new _0x412e35(_0x484854),this['nodeManager']=new _0x2a0940(_0x484854,this[_0x2ce2ad(0x5c0)]),this[_0x2ce2ad(0x704)]=this[_0x2ce2ad(0x6d4)]();}[_0x49e620(0x73d)](){const _0x185a4d=_0x49e620,_0x961d1e=this['getConfigs']();this[_0x185a4d(0x792)]=new _0x3cadb4(_0x961d1e,this[_0x185a4d(0x835)],this[_0x185a4d(0x5c0)],this['configs'][_0x185a4d(0xa94)],this[_0x185a4d(0x8d3)]),this[_0x185a4d(0x884)]=new _0x5be727(_0x961d1e,this[_0x185a4d(0x8d3)][_0x185a4d(0x46f)],this['graphService']['getMaxDistance']()),this[_0x185a4d(0xa7f)]=new _0x118492(_0x961d1e),this[_0x185a4d(0x6e0)]=new _0x33af22(_0x961d1e),this[_0x185a4d(0x3c2)]=new _0x412e35(_0x961d1e),this['nodeManager']=new _0x2a0940(_0x961d1e,this[_0x185a4d(0x5c0)]);const _0x2945b2=this[_0x185a4d(0x792)][_0x185a4d(0x661)]();this['contentManager'][_0x185a4d(0x7a4)]()[_0x185a4d(0x49b)](_0x23550e=>{const _0x30910c=_0x185a4d;this[_0x30910c(0x884)][_0x30910c(0x540)](_0x23550e,_0x2945b2),this[_0x30910c(0x884)]['createIncomingSubscription'](_0x2945b2,_0x23550e),_0x23550e[_0x30910c(0x8a0)]();}),this[_0x185a4d(0x33d)][_0x185a4d(0x3ae)]()[_0x185a4d(0x49b)](_0x216cbd=>{const _0x1c4698=_0x185a4d;this[_0x1c4698(0x884)][_0x1c4698(0x540)](_0x216cbd,_0x2945b2),this['subscriptionManager'][_0x1c4698(0x2e8)](_0x2945b2,_0x216cbd),_0x216cbd['reset'](),_0x216cbd[_0x1c4698(0x7b3)]();}),this[_0x185a4d(0x33d)][_0x185a4d(0x3d7)]()[_0x185a4d(0x49b)](_0x28f2d5=>{const _0x3076d8=_0x185a4d;this[_0x3076d8(0x884)]['createOutgoingSubscription'](_0x28f2d5,_0x2945b2),this[_0x3076d8(0x884)][_0x3076d8(0x2e8)](_0x2945b2,_0x28f2d5),_0x28f2d5[_0x3076d8(0x8a0)](),this[_0x3076d8(0x93f)](_0x28f2d5);}),this[_0x185a4d(0x33d)][_0x185a4d(0x1e8)]()[_0x185a4d(0x49b)](_0x312f5a=>{const _0x33d890=_0x185a4d;this[_0x33d890(0x884)]['createOutgoingSubscription'](_0x312f5a,_0x2945b2),this['subscriptionManager'][_0x33d890(0x2e8)](_0x2945b2,_0x312f5a),_0x312f5a[_0x33d890(0x8a0)]();}),this[_0x185a4d(0x33d)][_0x185a4d(0x67f)]()[_0x185a4d(0x49b)](_0x2a1a58=>{const _0x107557=_0x185a4d;this[_0x107557(0x884)][_0x107557(0x540)](_0x2a1a58,_0x2945b2),this[_0x107557(0x884)][_0x107557(0x2e8)](_0x2945b2,_0x2a1a58),_0x2a1a58[_0x107557(0x8a0)]();}),this['contentManager'][_0x185a4d(0x57b)]()[_0x185a4d(0x49b)](_0x239282=>{const _0x3866b1=_0x185a4d;this[_0x3866b1(0x884)]['createOutgoingSubscription'](_0x239282,_0x2945b2),this[_0x3866b1(0x884)]['createIncomingSubscription'](_0x2945b2,_0x239282),_0x239282['reset']();}),this[_0x185a4d(0x33d)][_0x185a4d(0x999)]()[_0x185a4d(0x49b)](_0x217356=>{const _0x5eb344=_0x185a4d;this[_0x5eb344(0x884)][_0x5eb344(0x540)](_0x217356,_0x2945b2),this['subscriptionManager'][_0x5eb344(0x2e8)](_0x2945b2,_0x217356),_0x217356[_0x5eb344(0x8a0)]();}),this['systemTopicUnsubscribe']=this[_0x185a4d(0x6d4)]();}[_0x49e620(0x7c2)](_0x3d142f){const _0x5cfc5f=_0x49e620;try{this[_0x5cfc5f(0x321)][_0x5cfc5f(0x1d2)](_0x3d142f);}catch(_0xa41ac7){this[_0x5cfc5f(0x6c3)](_0xa41ac7,{});}}[_0x49e620(0x3fd)](_0x2c0d6f){const _0x424272=_0x49e620;try{this[_0x424272(0x321)][_0x424272(0x264)](_0x2c0d6f);}catch(_0x564c2d){this[_0x424272(0x6c3)](_0x564c2d,{});}}[_0x49e620(0x673)](_0xa63294,_0x4e497a){const _0x58c9ab=_0x49e620;return this[_0x58c9ab(0x792)][_0x58c9ab(0x673)](_0xa63294,_0x4e497a);}['getConnection'](_0x25dbb3){const _0x3439f2=_0x49e620;try{return this[_0x3439f2(0x792)][_0x3439f2(0xa7c)](_0x25dbb3);}catch(_0x11190d){throw this[_0x3439f2(0x6c3)](_0x11190d,{});}}['getConnections'](_0x370ded){const _0x1c745b=_0x49e620;try{return this[_0x1c745b(0x792)]['getConnections'](_0x370ded);}catch(_0x550601){throw this[_0x1c745b(0x6c3)](_0x550601,{});}}[_0x49e620(0x696)](_0x3e9482,_0x3b7ad2){const _0x453d91=_0x49e620;try{return this['contentManager'][_0x453d91(0x965)](_0x4d889c=>_0x4d889c[_0x453d91(0x8fa)]()===_0x3e9482&&_0x4d889c['getLabel']()===_0x3b7ad2)[0x0];}catch(_0x4c6ab5){throw this[_0x453d91(0x6c3)](_0x4c6ab5,{});}}[_0x49e620(0x1e4)](_0x4c84e2){const _0x222470=_0x49e620;try{return this[_0x222470(0x33d)][_0x222470(0x42f)](_0x42265f=>_0x42265f[_0x222470(0x227)]()===_0x4c84e2)[0x0];}catch(_0x5bc7e0){throw this[_0x222470(0x6c3)](_0x5bc7e0,{});}}[_0x49e620(0x36b)]=(..._0x105da7)=>{const _0x3db071=_0x49e620;try{return this['clusterEventEmitter'][_0x3db071(0x8e2)](..._0x105da7);}catch(_0xbeaa7c){throw this[_0x3db071(0x6c3)](_0xbeaa7c,{});}};[_0x49e620(0x346)](_0x627898){const _0x9c1476=_0x49e620;try{this[_0x9c1476(0xa7f)][_0x9c1476(0x279)](_0x627898);}catch(_0x480d95){throw this[_0x9c1476(0x6c3)](_0x480d95,{});}}[_0x49e620(0x4d6)](_0x2db598){const _0x51a79a=_0x49e620;try{this['statsManager'][_0x51a79a(0x3c0)](_0x2db598);}catch(_0x5dc85b){throw this[_0x51a79a(0x6c3)](_0x5dc85b,{});}}[_0x49e620(0x570)](_0x44dcaf){const _0x3224ce=_0x49e620;return this['connectionManager'][_0x3224ce(0x570)](_0x44dcaf);}async[_0x49e620(0x8ee)](){const _0x46c092=_0x49e620;try{await this['connectionManager']['initialize']();const _0x8b682c=await this[_0x46c092(0x290)][_0x46c092(0x8ce)]();for(const _0x26e3c7 of _0x8b682c)this[_0x46c092(0x792)][_0x46c092(0x673)](_0x26e3c7);}catch(_0x472c6a){throw this[_0x46c092(0x6c3)](_0x472c6a,{});}}[_0x49e620(0x61c)](_0x513955){const _0x18b58e=_0x49e620;this[_0x18b58e(0xaa8)][_0x18b58e(0x70f)]===_0x596e17[_0x18b58e(0x83b)][_0x18b58e(0x981)]&&(this[_0x18b58e(0xaa8)][_0x18b58e(0x3a7)](_0x513955[_0x18b58e(0x94d)]()),this[_0x18b58e(0xaa8)]['setDisplayName'](_0x513955[_0x18b58e(0x3db)]()));}['close']({force:_0x4046cc=!0x1},_0x25c79f=!0x1){const _0x403961=_0x49e620;if(_0xb8b103[_0x403961(0x87a)](_0x403961(0x71e),{'clusterId':this[_0x403961(0x4a0)],'nodeId':this['localNode'][_0x403961(0x27e)](),'nodeType':this['localNode'][_0x403961(0x70f)]}),!_0x4046cc&&this[_0x403961(0x792)][_0x403961(0x427)]())throw new _0x2c2152(_0x3608be[_0x403961(0x728)],_0x403961(0x9be));_0xb8b103['processBatch'](),this[_0x403961(0x704)](),this[_0x403961(0x3c2)]['close'](),this[_0x403961(0x6e0)][_0x403961(0x5c2)](),this[_0x403961(0xa7f)]['close'](),this[_0x403961(0x884)][_0x403961(0x5c2)](),this[_0x403961(0x792)][_0x403961(0x5c2)](),this['contentManager'][_0x403961(0x5c2)](_0x25c79f),this['nodeManager']['close']();}[_0x49e620(0x76b)](_0xba288b){const _0x50c3e4=_0x49e620;try{const _0x2e5cb6=this[_0x50c3e4(0x33d)][_0x50c3e4(0x85f)](_0xba288b),_0x3804e6=this['connectionManager'][_0x50c3e4(0x661)]();return this[_0x50c3e4(0x884)]['createOutgoingSubscription'](_0x2e5cb6,_0x3804e6),this['subscriptionManager'][_0x50c3e4(0x2e8)](_0x3804e6,_0x2e5cb6),_0x2e5cb6;}catch(_0x13827e){throw this[_0x50c3e4(0x6c3)](_0x13827e,{});}}async[_0x49e620(0x6e4)](_0x5da214,_0x4e812b){const _0x2a39b4=_0x49e620;try{const _0x2290e3=this[_0x2a39b4(0x33d)][_0x2a39b4(0x61b)](_0x5da214,this[_0x2a39b4(0x8d3)][_0x2a39b4(0xa7b)],_0x4e812b),_0x3ad390=this[_0x2a39b4(0x792)][_0x2a39b4(0x661)]();return this[_0x2a39b4(0x884)]['createOutgoingSubscription'](_0x2290e3,_0x3ad390),this[_0x2a39b4(0x884)]['createIncomingSubscription'](_0x3ad390,_0x2290e3),await _0x2290e3[_0x2a39b4(0x7b3)](),_0x2290e3;}catch(_0x1db022){throw this[_0x2a39b4(0x6c3)](_0x1db022,{});}}async[_0x49e620(0x507)](_0x11c591,_0x176270){const _0x5965b2=_0x49e620;try{if(!this['options']['externalStorageConnectors'])throw new _0x2c2152(_0x3608be[_0x5965b2(0x297)],_0x5965b2(0x428));if(!(this['authNode']instanceof _0x8e4fe0))throw new _0x2c2152(_0x3608be['NodeInvalidType'],_0x5965b2(0x268));const _0x59e20a=this[_0x5965b2(0x8d3)]['externalStorageConnectors'][_0x5965b2(0x680)](_0x176270);if(!_0x59e20a)throw new _0x2c2152(_0x3608be[_0x5965b2(0x297)],'Missing\x20external\x20storage\x20connector');const _0x1c8cd7=this['contentManager'][_0x5965b2(0xae8)](_0x11c591,_0x59e20a),_0x50948e=this[_0x5965b2(0x792)][_0x5965b2(0x661)]();return this['subscriptionManager'][_0x5965b2(0x540)](_0x1c8cd7,_0x50948e),this[_0x5965b2(0x884)][_0x5965b2(0x2e8)](_0x50948e,_0x1c8cd7),await _0x1c8cd7[_0x5965b2(0x73d)](),_0x1c8cd7;}catch(_0x201a0f){throw this[_0x5965b2(0x6c3)](_0x201a0f,{});}}async[_0x49e620(0x6a2)](_0x30f634,_0x3bb0d2,_0x204f32){const _0x47310a=_0x49e620;try{_0x204f32=_0x204f32||this[_0x47310a(0x8d3)][_0x47310a(0x5de)];const _0x569a4e=await this[_0x47310a(0x33d)][_0x47310a(0x3c6)](_0x30f634,_0x3bb0d2,_0x204f32),_0x4c18a3=this[_0x47310a(0x792)][_0x47310a(0x661)]();return this[_0x47310a(0x884)][_0x47310a(0x540)](_0x569a4e,_0x4c18a3),this[_0x47310a(0x884)][_0x47310a(0x2e8)](_0x4c18a3,_0x569a4e),await _0x569a4e[_0x47310a(0x73d)](),this[_0x47310a(0x93f)](_0x569a4e),_0x569a4e;}catch(_0x364c51){throw this[_0x47310a(0x6c3)](_0x364c51,{});}}async[_0x49e620(0x6aa)](_0x4eb3ec){const _0x59aa78=_0x49e620;try{const _0x3f9461=await this[_0x59aa78(0x33d)][_0x59aa78(0x1ce)](_0x4eb3ec,this[_0x59aa78(0x5c0)]),_0x187ff2=this[_0x59aa78(0x792)][_0x59aa78(0x661)]();return this[_0x59aa78(0x884)][_0x59aa78(0x540)](_0x3f9461,_0x187ff2),this['subscriptionManager'][_0x59aa78(0x2e8)](_0x187ff2,_0x3f9461),_0x3f9461['open'](),_0x3f9461;}catch(_0x2b96cc){throw this[_0x59aa78(0x6c3)](_0x2b96cc,{});}}async[_0x49e620(0x5b3)](_0x36ea0b){throw new Error('Method\x20not\x20supported');}async['openGenerativeAIContext'](_0x3e7fec){const _0xa378af=_0x49e620;try{const _0x20ad7a=await this[_0xa378af(0x33d)]['createGenerativeAIContext'](_0x3e7fec,this['graphService']),_0x3bc950=this[_0xa378af(0x792)][_0xa378af(0x661)]();return this[_0xa378af(0x884)][_0xa378af(0x540)](_0x20ad7a,_0x3bc950),this[_0xa378af(0x884)][_0xa378af(0x2e8)](_0x3bc950,_0x20ad7a),_0x20ad7a[_0xa378af(0x73d)](),_0x20ad7a;}catch(_0x4cfc59){throw console['error'](_0x4cfc59),this['handleError'](_0x4cfc59,{});}}async[_0x49e620(0x31f)](_0x48392f){const _0x25220b=_0x49e620;try{if(!(this[_0x25220b(0x8d3)][_0x25220b(0x75d)]&&this[_0x25220b(0x8d3)][_0x25220b(0x80d)]&&this[_0x25220b(0x8d3)][_0x25220b(0xb53)]&&this[_0x25220b(0x8d3)][_0x25220b(0x4cd)]))throw new _0x2c2152(_0x3608be['GenerativeAIWorkerMissingConnector'],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x25220b(0x3cb)]instanceof _0x8e4fe0))throw new _0x2c2152(_0x3608be[_0x25220b(0x52c)],_0x25220b(0x268));if(!this[_0x25220b(0x720)]['openaiApiKey'])throw new _0x2c2152(_0x3608be[_0x25220b(0x79d)],'Missing\x20OpenAI\x20API\x20key');const _0x3ec77d=[];for(const [_0x4fd999,_0xbb4a3f]of this['options'][_0x25220b(0x75d)]){let _0xdadf17;_0x25220b(0x87f)===_0x4fd999&&(_0xdadf17=this[_0x25220b(0x720)][_0x25220b(0x93d)]),_0x3ec77d['push'](new _0xbb4a3f(_0xdadf17));}const _0x5a1d10=new this[(_0x25220b(0x8d3))][(_0x25220b(0xa7b))]('crewdle'),_0x4004ac=new this[(_0x25220b(0x8d3))][(_0x25220b(0x80d))](),_0x4283a8=new this['options'][(_0x25220b(0xb53))](this[_0x25220b(0x720)][_0x25220b(0x93d)]),_0x356b89=new this['options'][(_0x25220b(0x4cd))]();let _0x174bdc,_0x20116c,_0x20c0ad,_0x2452e0;if(this['options'][_0x25220b(0x256)]){if(!this[_0x25220b(0x720)]['searchApiKey'])throw new _0x2c2152(_0x3608be[_0x25220b(0x79d)],_0x25220b(0x629));_0x174bdc=new this[(_0x25220b(0x8d3))][(_0x25220b(0x256))](this[_0x25220b(0x720)][_0x25220b(0x6f6)]);}if(this['options'][_0x25220b(0x1d7)]){if(!this[_0x25220b(0x720)]['aiSearchApiKey'])throw new _0x2c2152(_0x3608be[_0x25220b(0x79d)],_0x25220b(0x2fb));_0x20116c=new this[(_0x25220b(0x8d3))][(_0x25220b(0x1d7))](this['configs']['aiSearchApiKey']);}if(this[_0x25220b(0x8d3)]['queryFileConnector']&&(_0x20c0ad=new this[(_0x25220b(0x8d3))][(_0x25220b(0x95d))]()),this[_0x25220b(0x8d3)]['ragConnectors']){if(!this[_0x25220b(0x720)][_0x25220b(0x7a1)])throw new _0x2c2152(_0x3608be[_0x25220b(0x79d)],_0x25220b(0x52d));_0x2452e0=new Map();for(const [_0x439dc6,_0x386b91]of this[_0x25220b(0x8d3)][_0x25220b(0x5f2)])_0x2452e0[_0x25220b(0x9fa)](_0x439dc6,new _0x386b91(this[_0x25220b(0x720)]['ragApiKey']));}const _0x1fec8e=await this[_0x25220b(0x33d)][_0x25220b(0x921)](_0x48392f,this[_0x25220b(0x3cb)],_0x3ec77d,_0x5a1d10,_0x4004ac,_0x4283a8,_0x356b89,_0x174bdc,_0x20116c,_0x20c0ad,_0x2452e0,this[_0x25220b(0x720)][_0x25220b(0x93d)]),_0x5d430f=this['connectionManager'][_0x25220b(0x661)]();this[_0x25220b(0x884)][_0x25220b(0x540)](_0x1fec8e,_0x5d430f),this['subscriptionManager'][_0x25220b(0x2e8)](_0x5d430f,_0x1fec8e);const _0x1abdc9=this[_0x25220b(0x290)][_0x25220b(0x606)]();return await _0x1fec8e[_0x25220b(0x73d)](0x0===_0x1abdc9['length']||void 0x0),_0x1fec8e;}catch(_0x32a0d9){throw this[_0x25220b(0x6c3)](_0x32a0d9,{});}}[_0x49e620(0x1fd)](_0x4cd6a7){const _0x101b10=_0x49e620;try{if(!this[_0x101b10(0x8d3)]['graphDatabaseConnector'])throw new _0x2c2152(_0x3608be[_0x101b10(0x802)],_0x101b10(0xb3f));if(!(this['authNode']instanceof _0x8e4fe0))throw new _0x2c2152(_0x3608be[_0x101b10(0x52c)],_0x101b10(0x268));const _0x17b1a3=this[_0x101b10(0x33d)][_0x101b10(0x5a0)](_0x4cd6a7,this[_0x101b10(0x8d3)][_0x101b10(0x779)]),_0x49cabd=this['connectionManager'][_0x101b10(0x661)]();return this[_0x101b10(0x884)][_0x101b10(0x540)](_0x17b1a3,_0x49cabd),this[_0x101b10(0x884)][_0x101b10(0x2e8)](_0x49cabd,_0x17b1a3),_0x17b1a3;}catch(_0x4ead50){throw this[_0x101b10(0x6c3)](_0x4ead50,{});}}['openVectorDatabase'](_0x388bcc){const _0x5dd207=_0x49e620;try{if(!this[_0x5dd207(0x8d3)][_0x5dd207(0x2df)])throw new _0x2c2152(_0x3608be[_0x5dd207(0x30e)],_0x5dd207(0xab5));if(!(this[_0x5dd207(0x3cb)]instanceof _0x8e4fe0))throw new _0x2c2152(_0x3608be[_0x5dd207(0x52c)],_0x5dd207(0x268));const _0x52f78c=this[_0x5dd207(0x33d)][_0x5dd207(0x976)](_0x388bcc,this[_0x5dd207(0x8d3)][_0x5dd207(0x2df)]),_0x57dfda=this['connectionManager']['getConnectionGroup']();return this[_0x5dd207(0x884)][_0x5dd207(0x540)](_0x52f78c,_0x57dfda),this[_0x5dd207(0x884)]['createIncomingSubscription'](_0x57dfda,_0x52f78c),_0x52f78c;}catch(_0x4f9892){throw this[_0x5dd207(0x6c3)](_0x4f9892,{});}}[_0x49e620(0x7a4)](_0x47c047){const _0x13193e=_0x49e620;try{return this['contentManager'][_0x13193e(0x7a4)](_0x47c047);}catch(_0x1393f4){throw this['handleError'](_0x1393f4,{});}}[_0x49e620(0x3ae)](_0xc2e628){const _0x103d8f=_0x49e620;try{return this[_0x103d8f(0x33d)][_0x103d8f(0x3ae)](_0xc2e628);}catch(_0x5baafc){throw this[_0x103d8f(0x6c3)](_0x5baafc,{});}}[_0x49e620(0xb34)](_0x3caf36){const _0x15d4a0=_0x49e620;try{return this[_0x15d4a0(0x33d)][_0x15d4a0(0xb34)](_0x3caf36);}catch(_0x5e3088){throw this[_0x15d4a0(0x6c3)](_0x5e3088,{});}}[_0x49e620(0x3d7)](_0x3ed1af){const _0x1cc80e=_0x49e620;try{return this[_0x1cc80e(0x33d)][_0x1cc80e(0x3d7)](_0x3ed1af);}catch(_0x5b0d4c){throw this['handleError'](_0x5b0d4c,{});}}[_0x49e620(0x545)](_0x3bbac7){const _0x4e985f=_0x49e620;try{return this[_0x4e985f(0x33d)][_0x4e985f(0x545)](_0x3bbac7);}catch(_0x655d38){throw this[_0x4e985f(0x6c3)](_0x655d38,{});}}[_0x49e620(0x359)](_0x2c4a17){const _0x4933fa=_0x49e620;try{return this[_0x4933fa(0x33d)]['getGenerativeAIWorkers'](_0x2c4a17);}catch(_0x519748){throw this['handleError'](_0x519748,{});}}['getGraphDatabases'](_0x942e6d){const _0x5f3d1f=_0x49e620;try{return this[_0x5f3d1f(0x33d)][_0x5f3d1f(0x999)](_0x942e6d);}catch(_0x2f010e){throw this[_0x5f3d1f(0x6c3)](_0x2f010e,{});}}[_0x49e620(0x89e)](_0x52b7f9,_0x41e0f6){const _0x2219f4=_0x49e620;if(!this[_0x2219f4(0x720)][_0x2219f4(0x836)][_0x2219f4(0x2ef)](_0xa35e93[_0x2219f4(0x387)]))throw new _0x2c2152(_0x3608be[_0x2219f4(0x9ff)],_0x2219f4(0x576));try{return this[_0x2219f4(0x33d)]['createLocalMediaStream'](_0x52b7f9,_0x41e0f6);}catch(_0x733e2d){throw this[_0x2219f4(0x6c3)](_0x733e2d,{});}}[_0x49e620(0x822)](_0x24c8ae,_0x28fcce){const _0x166d93=_0x49e620;if(!this[_0x166d93(0x720)][_0x166d93(0x836)][_0x166d93(0x2ef)](_0xa35e93['MediaStream']))throw new _0x2c2152(_0x3608be['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager']['createLocalDynamicMediaStream'](_0x24c8ae,_0x28fcce);}catch(_0x3b7034){throw this['handleError'](_0x3b7034,{});}}[_0x49e620(0x42f)](_0x57b50f){const _0x2694bb=_0x49e620;if(!this[_0x2694bb(0x720)][_0x2694bb(0x836)][_0x2694bb(0x2ef)](_0xa35e93[_0x2694bb(0x387)]))throw new _0x2c2152(_0x3608be[_0x2694bb(0x9ff)],_0x2694bb(0x576));try{return this[_0x2694bb(0x33d)][_0x2694bb(0x42f)](_0x57b50f);}catch(_0x43bae8){throw this[_0x2694bb(0x6c3)](_0x43bae8,{});}}[_0x49e620(0x965)](_0x51120a){const _0x2b422b=_0x49e620;if(!this[_0x2b422b(0x720)][_0x2b422b(0x836)][_0x2b422b(0x2ef)](_0xa35e93[_0x2b422b(0x387)]))throw new _0x2c2152(_0x3608be[_0x2b422b(0x9ff)],_0x2b422b(0x576));try{return this[_0x2b422b(0x33d)][_0x2b422b(0x965)](_0x51120a);}catch(_0x319520){throw this['handleError'](_0x319520,{});}}['getVectorDatabases'](_0x58863a){const _0x27a7b9=_0x49e620;try{return this['contentManager'][_0x27a7b9(0x57b)](_0x58863a);}catch(_0x552bdf){throw this['handleError'](_0x552bdf,{});}}[_0x49e620(0x4f5)](_0x51cd28,_0x35fdf9){const _0x10a0eb=_0x49e620;return this[_0x10a0eb(0x290)][_0x10a0eb(0x4f5)](_0x51cd28,_0x35fdf9);}[_0x49e620(0x9d0)](){const _0x1511ab=_0x49e620;return this[_0x1511ab(0x290)][_0x1511ab(0x9d0)]();}[_0x49e620(0x95b)](_0x49c809){const _0x27b11f=_0x49e620;try{return this[_0x27b11f(0x290)][_0x27b11f(0x95b)](_0x49c809);}catch(_0x488968){throw this[_0x27b11f(0x6c3)](_0x488968,{});}}[_0x49e620(0x50c)](){const _0x3419e0=_0x49e620;return this[_0x3419e0(0x792)][_0x3419e0(0x50c)]();}[_0x49e620(0x329)](_0x5ce40b){const _0x2df671=_0x49e620;return this['nodeManager'][_0x2df671(0x329)](_0x5ce40b);}async[_0x49e620(0x8c5)](_0x1cadad){const _0x3e4f61=_0x49e620;try{if(_0xb8b103[_0x3e4f61(0xad5)](_0xad09e4['Events'],_0x3e4f61(0x459),this['nodeManager'][_0x3e4f61(0x634)](),_0x1cadad),_0x1a4b8b(_0x1cadad,this[_0x3e4f61(0x290)][_0x3e4f61(0x634)]()))return void this[_0x3e4f61(0x792)][_0x3e4f61(0x5a5)](_0x1cadad);switch(_0x1cadad[_0x3e4f61(0x946)]){case _0x24f665[_0x3e4f61(0x303)]:this[_0x3e4f61(0xa7f)][_0x3e4f61(0x755)](_0x1cadad),this[_0x3e4f61(0x884)][_0x3e4f61(0x755)](_0x1cadad),this['contentManager'][_0x3e4f61(0x755)](_0x1cadad);break;case _0x24f665[_0x3e4f61(0x601)]:this[_0x3e4f61(0x884)][_0x3e4f61(0x3d5)](_0x1cadad),this[_0x3e4f61(0x792)][_0x3e4f61(0x3d5)](_0x1cadad),this[_0x3e4f61(0x33d)][_0x3e4f61(0x3d5)](_0x1cadad),this[_0x3e4f61(0x290)][_0x3e4f61(0x3d5)](_0x1cadad);break;case _0x24f665[_0x3e4f61(0x55a)]:this[_0x3e4f61(0x3c2)][_0x3e4f61(0x78f)](_0x1cadad);break;case _0x24f665['Remediation']:this[_0x3e4f61(0x3c2)]['handleRemediationSystemEvents'](_0x1cadad);break;case _0x24f665[_0x3e4f61(0x1f9)]:this[_0x3e4f61(0x6e0)]['handleStatsSystemEvents'](_0x1cadad);break;case _0x24f665['Subscription']:_0x1cadad['content'][_0x3e4f61(0x70f)]!==_0x5afa9d[_0x3e4f61(0x334)]?(this[_0x3e4f61(0x884)][_0x3e4f61(0xa4c)](_0x1cadad),this[_0x3e4f61(0x33d)][_0x3e4f61(0xa4c)](_0x1cadad)):(this[_0x3e4f61(0x33d)][_0x3e4f61(0xa4c)](_0x1cadad),this['subscriptionManager'][_0x3e4f61(0xa4c)](_0x1cadad));break;case _0x24f665[_0x3e4f61(0x7ea)]:await this[_0x3e4f61(0x792)][_0x3e4f61(0x7f3)](_0x1cadad),this[_0x3e4f61(0xa7f)][_0x3e4f61(0x7f3)](_0x1cadad),this[_0x3e4f61(0x290)][_0x3e4f61(0x7f3)](_0x1cadad),this[_0x3e4f61(0x884)][_0x3e4f61(0x7f3)](_0x1cadad);}}catch(_0x56baf7){throw _0xb8b103['debug']('handleSystemEvents',_0x56baf7),this[_0x3e4f61(0x6c3)](_0x56baf7,{});}}[_0x49e620(0x6c3)](_0x5b2650,_0x59d662){const _0x9b33cb=_0x49e620;if(!(_0x5b2650 instanceof _0x1a0753)){if(_0x5b2650 instanceof _0x2c2152)throw _0x5b2650;if(!(_0x5b2650 instanceof Error))throw new _0x2c2152(_0x3608be['InternalSDKError'],_0x9b33cb(0xb30)+_0x5b2650);if(!(_0x5b2650 instanceof _0x44727e))throw new _0x2c2152(_0x3608be[_0x9b33cb(0x8c2)],_0x9b33cb(0x978)+_0x5b2650[_0x9b33cb(0x977)]);switch(_0x5b2650[_0x9b33cb(0x283)]){case _0x44727e['codes'][_0x9b33cb(0x2e5)]:case _0x44727e[_0x9b33cb(0x849)][_0x9b33cb(0x5c4)]:case _0x44727e[_0x9b33cb(0x849)][_0x9b33cb(0x3de)]:case _0x44727e[_0x9b33cb(0x849)][_0x9b33cb(0x38c)]:case _0x44727e[_0x9b33cb(0x849)]['ConnectionNotConnected']:case _0x44727e['codes']['InvalidDataChannel']:case _0x44727e['codes'][_0x9b33cb(0x2f9)]:case _0x44727e['codes'][_0x9b33cb(0x715)]:case _0x44727e[_0x9b33cb(0x849)]['SubscriptionRequestDoesNotExist']:case _0x44727e['codes'][_0x9b33cb(0x225)]:case _0x44727e[_0x9b33cb(0x849)][_0x9b33cb(0x2a0)]:case _0x44727e[_0x9b33cb(0x849)][_0x9b33cb(0x4cc)]:}throw _0xb8b103['error']('sdk-internal-error:\x20'+_0x5b2650[_0x9b33cb(0x977)],{'clusterId':this[_0x9b33cb(0x4a0)],'nodeId':this[_0x9b33cb(0xaa8)][_0x9b33cb(0x27e)](),'nodeType':this['localNode'][_0x9b33cb(0x70f)]},_0x5b2650),new _0x2c2152(_0x3608be[_0x9b33cb(0x8c2)],_0x9b33cb(0xb0a)+_0x5b2650['message']);}}[_0x49e620(0x73b)](){const _0x32a56d=_0x49e620;return{'mediator':this,'vendorId':this[_0x32a56d(0x2e6)],'clusterId':this['clusterId'],'localNode':this[_0x32a56d(0xaa8)]};}[_0x49e620(0x6d4)](){const _0x42f55b=_0x49e620;return this[_0x42f55b(0x321)][_0x42f55b(0xa34)](_0x4302a8=>{const _0x43bc11=_0x42f55b,_0x3bde9e=_0x39d429(_0x4302a8,this[_0x43bc11(0xaa8)][_0x43bc11(0x27e)]()),_0x4bd4ce=_0x4302a8[_0x43bc11(0x946)]===_0x24f665['Stats']||_0x4302a8[_0x43bc11(0x946)]===_0x24f665[_0x43bc11(0x7ea)]&&_0x4302a8['content'][_0x43bc11(0x70f)]===_0x364a36[_0x43bc11(0x1f9)]?_0xad09e4['SystemStats']:_0xad09e4[_0x43bc11(0x55e)];_0xb8b103[_0x43bc11(0x4e0)](_0x4bd4ce,_0x4302a8[_0x43bc11(0xa9c)]+_0x43bc11(0x830)+_0x3bde9e,_0x4302a8),this[_0x43bc11(0x8c5)](_0x4302a8)[_0x43bc11(0x482)](_0x4bd407=>{const _0x59763f=_0x43bc11;console[_0x59763f(0x528)](_0x4bd407);});});}async[_0x49e620(0x93f)](_0x405377){const _0xc7182c=_0x49e620,{timingLogger:_0x34a8f6,logger:_0x3b8f3f,logBeforeSync:_0x432ef3,logAfterSync:_0x4b98f3}=function(_0x14af80,_0x5a5a01){const _0x58cf07=a0_0x2367;if(!_0xb8b103[_0x58cf07(0x2a8)](_0x5a5a01))return _0xb8b103[_0x58cf07(0x1ff)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x5a5a01),{..._0x3e7078(_0x14af80,_0x5a5a01),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x1b91d3,logger:_0x5a94cf}=_0x3e7078(_0x14af80,_0x5a5a01);let _0x550bc4=0x0;return _0x550bc4=Date[_0x58cf07(0x4e4)](),{'syncStartTime':_0x550bc4,'timingLogger':_0x1b91d3,'logger':_0x5a94cf,'logBeforeSync':()=>(_0x4fe1a5(_0x5a5a01,_0x58cf07(0x9db)),_0x1b91d3[_0x58cf07(0x4e4)]()),'logAfterSync':(_0x7447b4,_0x3bb6ff)=>{const _0x4d5bf6=_0x58cf07,_0x21a648=Date[_0x4d5bf6(0x4e4)]();_0x4fe1a5(_0x5a5a01,'After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20'+_0x3bb6ff);const _0x1c93a2=(_0x21a648-_0x550bc4)/0x3e8,_0x35471e=(_0x21a648-_0x7447b4)/0x3e8;_0xb8b103[_0x4d5bf6(0xad5)](_0x5a5a01,_0x4d5bf6(0x90f),_0x14af80,_0x4d5bf6(0xa91)+_0x1c93a2['toFixed'](0x2)+'\x20seconds',_0x4d5bf6(0x654)+_0x35471e[_0x4d5bf6(0x641)](0x3)+_0x4d5bf6(0xafa),'\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x21a648-_0x550bc4)/0x3e8-_0x35471e)[_0x4d5bf6(0x641)](0x2)+_0x4d5bf6(0xafa));}};}(_0x405377['getLabel'](),_0xad09e4[_0xc7182c(0x35a)]);_0x3b8f3f[_0xc7182c(0xad5)](_0xc7182c(0x986));const _0x163e13=this[_0xc7182c(0x290)][_0xc7182c(0x606)]()[_0xc7182c(0x8bc)]>0x0;if(_0x163e13){_0x3b8f3f['log'](_0xc7182c(0x869),()=>this[_0xc7182c(0x290)]['getAncestorIds']()),_0x34a8f6['start'](),await Promise[_0xc7182c(0x665)](this['nodeManager'][_0xc7182c(0x606)]()['map'](async _0x16113a=>await this[_0xc7182c(0x290)][_0xc7182c(0x329)](_0x16113a)))['catch'](_0x1661e3=>_0xb8b103[_0xc7182c(0x87a)](_0xc7182c(0xa2f),{'nodeId':this[_0xc7182c(0xaa8)]['getId'](),'nodeType':this['localNode'][_0xc7182c(0x70f)]}));const _0x5b3e71=_0x3b8f3f[_0xc7182c(0x267)](()=>this[_0xc7182c(0x290)][_0xc7182c(0x606)](),[]);_0x34a8f6[_0xc7182c(0xa0a)](_0xc7182c(0x39d)+_0x5b3e71+_0xc7182c(0xa51));}_0x4b98f3(_0x432ef3(),await _0x405377[_0xc7182c(0x7b3)](_0x163e13,async()=>{const _0x2ed33a=_0xc7182c;_0x34a8f6[_0x2ed33a(0x411)](),await this['nodeManager'][_0x2ed33a(0xb05)](),_0x34a8f6[_0x2ed33a(0xa0a)](_0x2ed33a(0x9fd)),_0x405377[_0x2ed33a(0x7b3)](!0x0,()=>{const _0x1ec1cd=_0x2ed33a;_0x3b8f3f[_0x1ec1cd(0xad5)](_0x1ec1cd(0x86a)),_0x405377[_0x1ec1cd(0x7b3)](!0x1);},!0x0);}));}}class _0xee849a{[_0x49e620(0x2e6)];[_0x49e620(0x4a0)];['authNode'];['eventEmitter'];[_0x49e620(0x2da)];constructor(_0x4c8a65,_0xf4af6a,_0x3815c9,_0x1e5316,_0x39e315,_0x196a2b,_0x2e9295=new _0x1fda56()){const _0x9b36bc=_0x49e620;this[_0x9b36bc(0x2e6)]=_0x4c8a65,this[_0x9b36bc(0x4a0)]=_0xf4af6a,this['authNode']=_0x3815c9,this[_0x9b36bc(0x61a)]=_0x2e9295,this[_0x9b36bc(0x2da)]=new _0x121c0d(this[_0x9b36bc(0x2e6)],this[_0x9b36bc(0x4a0)],_0x3815c9,_0x1e5316,_0x39e315,_0x196a2b,this);}async[_0x49e620(0xae2)](){const _0xf7199e=_0x49e620;await this['orchestrator'][_0xf7199e(0x8ee)](),this[_0xf7199e(0x3cb)][_0xf7199e(0x70f)]===_0x596e17[_0xf7199e(0x83b)]['User']&&this[_0xf7199e(0x3cb)][_0xf7199e(0xa96)](this[_0xf7199e(0x4a0)],_0x2385fa=>{const _0x3ebf99=_0xf7199e;this[_0x3ebf99(0x2da)]['updateUser'](_0x2385fa);});}[_0x49e620(0x55b)](_0x28d607={}){const _0x30e5c0=_0x49e620;this[_0x30e5c0(0x2da)][_0x30e5c0(0x5c2)](_0x28d607),this['authNode']['type']===_0x596e17[_0x30e5c0(0x83b)][_0x30e5c0(0x981)]&&this[_0x30e5c0(0x3cb)]['unregisterCluster'](this['clusterId']),this[_0x30e5c0(0x8e2)](_0x30e5c0(0x512),void 0x0);}[_0x49e620(0x76b)](_0x110ed9){const _0x1f776b=_0x49e620,_0x516322=this[_0x1f776b(0x2da)]['openPubSubTopic'](_0x110ed9);return{'getName':_0x516322[_0x1f776b(0xb24)][_0x1f776b(0x6e2)](_0x516322),'getOwnerId':_0x516322[_0x1f776b(0x8fa)][_0x1f776b(0x6e2)](_0x516322),'getContentType':_0x516322['getContentType'][_0x1f776b(0x6e2)](_0x516322),'publish':_0x516322[_0x1f776b(0x544)][_0x1f776b(0x6e2)](_0x516322),'subscribe':_0x516322['subscribe'][_0x1f776b(0x6e2)](_0x516322),'unsubscribe':_0x516322['unsubscribe']['bind'](_0x516322),'close':_0x516322[_0x1f776b(0x5c2)][_0x1f776b(0x6e2)](_0x516322)};}async['openObjectStoreBucket'](_0x5d81b6,_0x1330c9){const _0x164127=_0x49e620,_0x2e57a6=await this[_0x164127(0x2da)]['openObjectStoreBucket'](_0x5d81b6,_0x1330c9);return{'getName':_0x2e57a6['getName'][_0x164127(0x6e2)](_0x2e57a6),'getOwnerId':_0x2e57a6[_0x164127(0x8fa)][_0x164127(0x6e2)](_0x2e57a6),'getContentType':_0x2e57a6[_0x164127(0x9e2)][_0x164127(0x6e2)](_0x2e57a6),'publish':_0x2e57a6['publish'][_0x164127(0x6e2)](_0x2e57a6),'unpublish':_0x2e57a6[_0x164127(0x8cf)]['bind'](_0x2e57a6),'get':_0x2e57a6[_0x164127(0x680)]['bind'](_0x2e57a6),'list':_0x2e57a6[_0x164127(0x463)][_0x164127(0x6e2)](_0x2e57a6),'getSize':_0x2e57a6[_0x164127(0x4b9)][_0x164127(0x6e2)](_0x2e57a6),'subscribe':_0x2e57a6['subscribe'][_0x164127(0x6e2)](_0x2e57a6),'unsubscribe':_0x2e57a6[_0x164127(0x2aa)]['bind'](_0x2e57a6),'close':_0x2e57a6['close'][_0x164127(0x6e2)](_0x2e57a6)};}async[_0x49e620(0x507)](_0x495b21,_0x75f26f){const _0x201427=_0x49e620,_0x4ee6fe=await this['orchestrator'][_0x201427(0x507)](_0x495b21,_0x75f26f);return{'getName':_0x4ee6fe[_0x201427(0xb24)][_0x201427(0x6e2)](_0x4ee6fe),'getOwnerId':_0x4ee6fe[_0x201427(0x8fa)][_0x201427(0x6e2)](_0x4ee6fe),'getContentType':_0x4ee6fe[_0x201427(0x9e2)][_0x201427(0x6e2)](_0x4ee6fe),'close':_0x4ee6fe[_0x201427(0x5c2)][_0x201427(0x6e2)](_0x4ee6fe),'get':_0x4ee6fe[_0x201427(0x680)][_0x201427(0x6e2)](_0x4ee6fe),'list':_0x4ee6fe[_0x201427(0x463)][_0x201427(0x6e2)](_0x4ee6fe),'subscribe':_0x4ee6fe['subscribe']['bind'](_0x4ee6fe),'unsubscribe':_0x4ee6fe[_0x201427(0x2aa)][_0x201427(0x6e2)](_0x4ee6fe)};}async['openKeyValueDatabase'](_0x300c51,_0x4917ab,_0x1a5f62){const _0x28ec52=_0x49e620,_0x1ef9bd=await this['orchestrator'][_0x28ec52(0x6a2)](_0x300c51,_0x4917ab,_0x1a5f62);return{'getName':_0x1ef9bd['getName']['bind'](_0x1ef9bd),'getOwnerId':_0x1ef9bd[_0x28ec52(0x8fa)]['bind'](_0x1ef9bd),'getContentType':_0x1ef9bd[_0x28ec52(0x9e2)][_0x28ec52(0x6e2)](_0x1ef9bd),'getTable':_0x1ef9bd['getTable'][_0x28ec52(0x6e2)](_0x1ef9bd),'subscribe':_0x1ef9bd['subscribe']['bind'](_0x1ef9bd),'unsubscribe':_0x1ef9bd[_0x28ec52(0x2aa)]['bind'](_0x1ef9bd),'close':_0x1ef9bd[_0x28ec52(0x5c2)][_0x28ec52(0x6e2)](_0x1ef9bd)};}async[_0x49e620(0x6aa)](_0x2191bb){const _0x258eed=_0x49e620,_0x422791=await this[_0x258eed(0x2da)][_0x258eed(0x6aa)](_0x2191bb);return{'getName':_0x422791[_0x258eed(0xb24)]['bind'](_0x422791),'getOwnerId':_0x422791[_0x258eed(0x8fa)][_0x258eed(0x6e2)](_0x422791),'getContentType':_0x422791['getContentType'][_0x258eed(0x6e2)](_0x422791),'createJob':_0x422791[_0x258eed(0x894)][_0x258eed(0x6e2)](_0x422791),'getJob':_0x422791[_0x258eed(0x5ec)][_0x258eed(0x6e2)](_0x422791),'getJobs':_0x422791[_0x258eed(0x3a8)][_0x258eed(0x6e2)](_0x422791),'close':_0x422791[_0x258eed(0x5c2)][_0x258eed(0x6e2)](_0x422791)};}async[_0x49e620(0x5b3)](_0x14816a){const _0x4ca979=_0x49e620,_0x4d0a20=await this[_0x4ca979(0x2da)][_0x4ca979(0x5b3)](_0x14816a);return{'close':_0x4d0a20['close'][_0x4ca979(0x6e2)](_0x4d0a20)};}async[_0x49e620(0x71c)](_0x13d1cc){const _0x3c60e9=_0x49e620,_0x43f759=await this[_0x3c60e9(0x2da)][_0x3c60e9(0x71c)](_0x13d1cc);return{'createAIJob':_0x43f759[_0x3c60e9(0x8e7)][_0x3c60e9(0x6e2)](_0x43f759),'getDataBucketIds':_0x43f759[_0x3c60e9(0xb4e)]['bind'](_0x43f759),'close':_0x43f759[_0x3c60e9(0x5c2)][_0x3c60e9(0x6e2)](_0x43f759)};}async['openGenerativeAIWorker'](_0x3a0015){const _0x5eca47=_0x49e620,_0x27cce9=await this['orchestrator'][_0x5eca47(0x31f)](_0x3a0015);return{'close':_0x27cce9[_0x5eca47(0x5c2)][_0x5eca47(0x6e2)](_0x27cce9)};}[_0x49e620(0x1fd)](_0xd070fd){const _0x5cdf1a=_0x49e620,_0x1688cf=this['orchestrator'][_0x5cdf1a(0x1fd)](_0xd070fd);return{'getName':_0x1688cf[_0x5cdf1a(0xb24)][_0x5cdf1a(0x6e2)](_0x1688cf),'getOwnerId':_0x1688cf[_0x5cdf1a(0x8fa)][_0x5cdf1a(0x6e2)](_0x1688cf),'getContentType':_0x1688cf['getContentType']['bind'](_0x1688cf),'addNode':_0x1688cf[_0x5cdf1a(0x4af)][_0x5cdf1a(0x6e2)](_0x1688cf),'addEdge':_0x1688cf[_0x5cdf1a(0x9c3)]['bind'](_0x1688cf),'getContent':_0x1688cf[_0x5cdf1a(0x71f)]['bind'](_0x1688cf),'remove':_0x1688cf[_0x5cdf1a(0xa1e)][_0x5cdf1a(0x6e2)](_0x1688cf),'saveToDisk':_0x1688cf['saveToDisk'][_0x5cdf1a(0x6e2)](_0x1688cf),'loadFromDisk':_0x1688cf[_0x5cdf1a(0x1f5)][_0x5cdf1a(0x6e2)](_0x1688cf),'close':_0x1688cf['close'][_0x5cdf1a(0x6e2)](_0x1688cf)};}[_0x49e620(0x66d)](_0x5a213d){const _0x438d6c=_0x49e620,_0x3f87f6=this[_0x438d6c(0x2da)][_0x438d6c(0x66d)](_0x5a213d);return{'getName':_0x3f87f6[_0x438d6c(0xb24)]['bind'](_0x3f87f6),'getOwnerId':_0x3f87f6[_0x438d6c(0x8fa)][_0x438d6c(0x6e2)](_0x3f87f6),'getContentType':_0x3f87f6[_0x438d6c(0x9e2)]['bind'](_0x3f87f6),'search':_0x3f87f6[_0x438d6c(0x6a3)][_0x438d6c(0x6e2)](_0x3f87f6),'insert':_0x3f87f6[_0x438d6c(0x6a1)][_0x438d6c(0x6e2)](_0x3f87f6),'remove':_0x3f87f6['remove']['bind'](_0x3f87f6),'saveToDisk':_0x3f87f6[_0x438d6c(0xa66)][_0x438d6c(0x6e2)](_0x3f87f6),'loadFromDisk':_0x3f87f6[_0x438d6c(0x1f5)][_0x438d6c(0x6e2)](_0x3f87f6),'close':_0x3f87f6[_0x438d6c(0x5c2)][_0x438d6c(0x6e2)](_0x3f87f6)};}[_0x49e620(0x7a4)](_0x4fdaef){const _0x4fdf3c=_0x49e620;return this[_0x4fdf3c(0x2da)]['getPubSubTopics'](_0x4fdaef)[_0x4fdf3c(0x3bb)](_0x2f6d5d=>({'getName':_0x2f6d5d[_0x4fdf3c(0xb24)][_0x4fdf3c(0x6e2)](_0x2f6d5d),'getOwnerId':_0x2f6d5d[_0x4fdf3c(0x8fa)][_0x4fdf3c(0x6e2)](_0x2f6d5d),'getContentType':_0x2f6d5d[_0x4fdf3c(0x9e2)][_0x4fdf3c(0x6e2)](_0x2f6d5d),'publish':_0x2f6d5d[_0x4fdf3c(0x544)]['bind'](_0x2f6d5d),'subscribe':_0x2f6d5d['subscribe'][_0x4fdf3c(0x6e2)](_0x2f6d5d),'unsubscribe':_0x2f6d5d[_0x4fdf3c(0x2aa)][_0x4fdf3c(0x6e2)](_0x2f6d5d),'close':_0x2f6d5d[_0x4fdf3c(0x5c2)][_0x4fdf3c(0x6e2)](_0x2f6d5d)}));}[_0x49e620(0x3ae)](_0xf8cb55){const _0x33845e=_0x49e620;return this[_0x33845e(0x2da)]['getObjectStoreBuckets'](_0xf8cb55)[_0x33845e(0x3bb)](_0x24df13=>({'getName':_0x24df13[_0x33845e(0xb24)][_0x33845e(0x6e2)](_0x24df13),'getOwnerId':_0x24df13[_0x33845e(0x8fa)][_0x33845e(0x6e2)](_0x24df13),'getContentType':_0x24df13[_0x33845e(0x9e2)][_0x33845e(0x6e2)](_0x24df13),'publish':_0x24df13[_0x33845e(0x544)][_0x33845e(0x6e2)](_0x24df13),'unpublish':_0x24df13[_0x33845e(0x8cf)]['bind'](_0x24df13),'get':_0x24df13['get']['bind'](_0x24df13),'list':_0x24df13[_0x33845e(0x463)][_0x33845e(0x6e2)](_0x24df13),'getSize':_0x24df13[_0x33845e(0x4b9)][_0x33845e(0x6e2)](_0x24df13),'subscribe':_0x24df13['subscribe'][_0x33845e(0x6e2)](_0x24df13),'unsubscribe':_0x24df13[_0x33845e(0x2aa)]['bind'](_0x24df13),'close':_0x24df13[_0x33845e(0x5c2)]['bind'](_0x24df13)}));}[_0x49e620(0xb34)](_0x4cddde){const _0x4cbcf2=_0x49e620;return this['orchestrator']['getExternalStorageConnections'](_0x4cddde)['map'](_0x1bff50=>({'getName':_0x1bff50['getName'][_0x4cbcf2(0x6e2)](_0x1bff50),'getOwnerId':_0x1bff50[_0x4cbcf2(0x8fa)][_0x4cbcf2(0x6e2)](_0x1bff50),'getContentType':_0x1bff50[_0x4cbcf2(0x9e2)][_0x4cbcf2(0x6e2)](_0x1bff50),'close':_0x1bff50[_0x4cbcf2(0x5c2)][_0x4cbcf2(0x6e2)](_0x1bff50),'get':_0x1bff50[_0x4cbcf2(0x680)]['bind'](_0x1bff50),'list':_0x1bff50['list'][_0x4cbcf2(0x6e2)](_0x1bff50),'subscribe':_0x1bff50[_0x4cbcf2(0xa34)][_0x4cbcf2(0x6e2)](_0x1bff50),'unsubscribe':_0x1bff50['unsubscribe'][_0x4cbcf2(0x6e2)](_0x1bff50)}));}['getKeyValueDatabases'](_0x22c629){const _0xc2f24=_0x49e620;return this['orchestrator']['getKeyValueDatabases'](_0x22c629)[_0xc2f24(0x3bb)](_0x3bde09=>({'getName':_0x3bde09[_0xc2f24(0xb24)][_0xc2f24(0x6e2)](_0x3bde09),'getOwnerId':_0x3bde09[_0xc2f24(0x8fa)][_0xc2f24(0x6e2)](_0x3bde09),'getContentType':_0x3bde09['getContentType'][_0xc2f24(0x6e2)](_0x3bde09),'getTable':_0x3bde09['getTable'][_0xc2f24(0x6e2)](_0x3bde09),'subscribe':_0x3bde09['subscribe']['bind'](_0x3bde09),'unsubscribe':_0x3bde09[_0xc2f24(0x2aa)][_0xc2f24(0x6e2)](_0x3bde09),'close':_0x3bde09[_0xc2f24(0x5c2)]['bind'](_0x3bde09)}));}[_0x49e620(0x545)](_0x30b430){const _0xd0ba5a=_0x49e620;return this[_0xd0ba5a(0x2da)][_0xd0ba5a(0x545)](_0x30b430)[_0xd0ba5a(0x3bb)](_0x466e72=>({'createAIJob':_0x466e72[_0xd0ba5a(0x8e7)][_0xd0ba5a(0x6e2)](_0x466e72),'getDataBucketIds':_0x466e72[_0xd0ba5a(0xb4e)][_0xd0ba5a(0x6e2)](_0x466e72),'close':_0x466e72[_0xd0ba5a(0x5c2)]['bind'](_0x466e72)}));}[_0x49e620(0x359)](_0x2d2732){const _0x5b96a3=_0x49e620;return this['orchestrator'][_0x5b96a3(0x359)](_0x2d2732)[_0x5b96a3(0x3bb)](_0x49973c=>({'close':_0x49973c[_0x5b96a3(0x5c2)][_0x5b96a3(0x6e2)](_0x49973c)}));}['publishLocalMediaStream'](_0x3262cf,_0x565f4d){const _0x4226d=_0x49e620,_0x4ea998=this[_0x4226d(0x2da)][_0x4226d(0x89e)](_0x3262cf,_0x565f4d);return{'getLabel':_0x4ea998[_0x4226d(0x227)][_0x4226d(0x6e2)](_0x4ea998),'getOwnerId':_0x4ea998[_0x4226d(0x8fa)][_0x4226d(0x6e2)](_0x4ea998),'getContentType':_0x4ea998[_0x4226d(0x9e2)][_0x4226d(0x6e2)](_0x4ea998),'getMediaStream':_0x4ea998[_0x4226d(0x732)][_0x4226d(0x6e2)](_0x4ea998),'setPriority':_0x4ea998[_0x4226d(0x7ac)]['bind'](_0x4ea998),'unpublish':_0x4ea998[_0x4226d(0x8cf)][_0x4226d(0x6e2)](_0x4ea998)};}[_0x49e620(0x7f5)](_0x1739f6,_0x372f95){const _0x3f4d7f=_0x49e620,_0x55ca4b=this['orchestrator'][_0x3f4d7f(0x822)](_0x1739f6,_0x372f95);return{'getLabel':_0x55ca4b[_0x3f4d7f(0x227)]['bind'](_0x55ca4b),'getOwnerId':_0x55ca4b[_0x3f4d7f(0x8fa)]['bind'](_0x55ca4b),'getContentType':_0x55ca4b[_0x3f4d7f(0x9e2)][_0x3f4d7f(0x6e2)](_0x55ca4b),'setPriority':_0x55ca4b[_0x3f4d7f(0x7ac)]['bind'](_0x55ca4b),'unpublish':_0x55ca4b['unpublish'][_0x3f4d7f(0x6e2)](_0x55ca4b),'getMediaStream':_0x55ca4b[_0x3f4d7f(0x732)]['bind'](_0x55ca4b),'addTrack':_0x55ca4b[_0x3f4d7f(0x4f9)][_0x3f4d7f(0x6e2)](_0x55ca4b),'removeTrack':_0x55ca4b['removeTrack'][_0x3f4d7f(0x6e2)](_0x55ca4b),'replaceTrack':_0x55ca4b[_0x3f4d7f(0x9f4)][_0x3f4d7f(0x6e2)](_0x55ca4b),'setTransformations':_0x55ca4b[_0x3f4d7f(0xb23)]['bind'](_0x55ca4b)};}[_0x49e620(0x42f)](_0x51806a){const _0x5e1dd0=_0x49e620;return this[_0x5e1dd0(0x2da)][_0x5e1dd0(0x42f)](_0x51806a)[_0x5e1dd0(0x3bb)](_0x36a78e=>({'getLabel':_0x36a78e['getLabel']['bind'](_0x36a78e),'getOwnerId':_0x36a78e[_0x5e1dd0(0x8fa)][_0x5e1dd0(0x6e2)](_0x36a78e),'getContentType':_0x36a78e['getContentType'][_0x5e1dd0(0x6e2)](_0x36a78e),'getMediaStream':_0x36a78e['getMediaStream'][_0x5e1dd0(0x6e2)](_0x36a78e),'setPriority':_0x36a78e[_0x5e1dd0(0x7ac)][_0x5e1dd0(0x6e2)](_0x36a78e),'unpublish':_0x36a78e['unpublish'][_0x5e1dd0(0x6e2)](_0x36a78e)}));}[_0x49e620(0x965)](_0x37472e){const _0x3651da=_0x49e620;return this[_0x3651da(0x2da)]['getRemoteMediaStreams'](_0x37472e)[_0x3651da(0x3bb)](_0x47d8ab=>({'getLabel':_0x47d8ab[_0x3651da(0x227)][_0x3651da(0x6e2)](_0x47d8ab),'getOwnerId':_0x47d8ab[_0x3651da(0x8fa)][_0x3651da(0x6e2)](_0x47d8ab),'getContentType':_0x47d8ab[_0x3651da(0x9e2)]['bind'](_0x47d8ab),'getMediaStream':_0x47d8ab[_0x3651da(0x732)]['bind'](_0x47d8ab),'subscribe':_0x47d8ab['subscribe'][_0x3651da(0x6e2)](_0x47d8ab),'unsubscribe':_0x47d8ab[_0x3651da(0x2aa)]['bind'](_0x47d8ab),'getAvailableTrackKinds':_0x47d8ab[_0x3651da(0x217)][_0x3651da(0x6e2)](_0x47d8ab),'update':_0x47d8ab['update'][_0x3651da(0x6e2)](_0x47d8ab),'onProviderChange':_0x47d8ab[_0x3651da(0xad6)][_0x3651da(0x6e2)](_0x47d8ab)}));}[_0x49e620(0x999)](_0x566a9b){const _0x5cfca7=_0x49e620;return this[_0x5cfca7(0x2da)]['getGraphDatabases'](_0x566a9b)[_0x5cfca7(0x3bb)](_0x36440d=>({'getName':_0x36440d[_0x5cfca7(0xb24)]['bind'](_0x36440d),'getOwnerId':_0x36440d[_0x5cfca7(0x8fa)]['bind'](_0x36440d),'getContentType':_0x36440d['getContentType'][_0x5cfca7(0x6e2)](_0x36440d),'addNode':_0x36440d[_0x5cfca7(0x4af)]['bind'](_0x36440d),'addEdge':_0x36440d[_0x5cfca7(0x9c3)][_0x5cfca7(0x6e2)](_0x36440d),'getContent':_0x36440d[_0x5cfca7(0x71f)][_0x5cfca7(0x6e2)](_0x36440d),'remove':_0x36440d[_0x5cfca7(0xa1e)][_0x5cfca7(0x6e2)](_0x36440d),'saveToDisk':_0x36440d[_0x5cfca7(0xa66)][_0x5cfca7(0x6e2)](_0x36440d),'loadFromDisk':_0x36440d[_0x5cfca7(0x1f5)]['bind'](_0x36440d),'close':_0x36440d[_0x5cfca7(0x5c2)][_0x5cfca7(0x6e2)](_0x36440d)}));}[_0x49e620(0x57b)](_0xfef4ed){const _0x15a6f6=_0x49e620;return this[_0x15a6f6(0x2da)][_0x15a6f6(0x57b)](_0xfef4ed)[_0x15a6f6(0x3bb)](_0x1b28f7=>({'getName':_0x1b28f7[_0x15a6f6(0xb24)]['bind'](_0x1b28f7),'getOwnerId':_0x1b28f7[_0x15a6f6(0x8fa)][_0x15a6f6(0x6e2)](_0x1b28f7),'getContentType':_0x1b28f7[_0x15a6f6(0x9e2)][_0x15a6f6(0x6e2)](_0x1b28f7),'search':_0x1b28f7[_0x15a6f6(0x6a3)][_0x15a6f6(0x6e2)](_0x1b28f7),'insert':_0x1b28f7[_0x15a6f6(0x6a1)][_0x15a6f6(0x6e2)](_0x1b28f7),'remove':_0x1b28f7['remove']['bind'](_0x1b28f7),'saveToDisk':_0x1b28f7[_0x15a6f6(0xa66)][_0x15a6f6(0x6e2)](_0x1b28f7),'loadFromDisk':_0x1b28f7['loadFromDisk']['bind'](_0x1b28f7),'close':_0x1b28f7[_0x15a6f6(0x5c2)][_0x15a6f6(0x6e2)](_0x1b28f7)}));}[_0x49e620(0x9d0)](){const _0x475e3a=_0x49e620,_0xb87e9=this[_0x475e3a(0x2da)][_0x475e3a(0x9d0)]();switch(_0xb87e9[_0x475e3a(0x70f)]){case _0x596e17[_0x475e3a(0x83b)]['User']:return{'type':_0x596e17[_0x475e3a(0x83b)][_0x475e3a(0x981)],'getId':_0xb87e9[_0x475e3a(0x27e)][_0x475e3a(0x6e2)](_0xb87e9),'getDisplayName':_0xb87e9[_0x475e3a(0x3db)][_0x475e3a(0x6e2)](_0xb87e9),'getEmail':_0xb87e9[_0x475e3a(0x94d)][_0x475e3a(0x6e2)](_0xb87e9),'getRemoteConnections':_0xb87e9['getRemoteConnections']['bind'](_0xb87e9),'setDisplayName':_0xb87e9[_0x475e3a(0x352)][_0x475e3a(0x6e2)](_0xb87e9),'setEmail':_0xb87e9[_0x475e3a(0x3a7)]['bind'](_0xb87e9)};case _0x596e17[_0x475e3a(0x83b)][_0x475e3a(0x783)]:default:return{'type':_0x596e17['NodeType'][_0x475e3a(0x783)],'getId':_0xb87e9[_0x475e3a(0x27e)][_0x475e3a(0x6e2)](_0xb87e9),'getRemoteConnections':_0xb87e9[_0x475e3a(0x910)]['bind'](_0xb87e9)};}}[_0x49e620(0x95b)](_0x2a87ba){const _0x3d97c3=_0x49e620;return this[_0x3d97c3(0x2da)]['getRemoteNodes'](_0x2a87ba)[_0x3d97c3(0x3bb)](_0x5b16b6=>{const _0x3c3a7d=_0x3d97c3;switch(_0x5b16b6[_0x3c3a7d(0x70f)]){case _0x596e17[_0x3c3a7d(0x83b)][_0x3c3a7d(0x981)]:return{'type':_0x596e17[_0x3c3a7d(0x83b)][_0x3c3a7d(0x981)],'getId':_0x5b16b6['getId']['bind'](_0x5b16b6),'getDisplayName':_0x5b16b6[_0x3c3a7d(0x3db)][_0x3c3a7d(0x6e2)](_0x5b16b6),'getEmail':_0x5b16b6[_0x3c3a7d(0x94d)][_0x3c3a7d(0x6e2)](_0x5b16b6),'getRemoteConnections':_0x5b16b6['getRemoteConnections'][_0x3c3a7d(0x6e2)](_0x5b16b6)};case _0x596e17[_0x3c3a7d(0x83b)][_0x3c3a7d(0x783)]:return{'type':_0x596e17['NodeType'][_0x3c3a7d(0x783)],'getId':_0x5b16b6['getId']['bind'](_0x5b16b6),'getRemoteConnections':_0x5b16b6[_0x3c3a7d(0x910)][_0x3c3a7d(0x6e2)](_0x5b16b6)};default:throw new _0x2c2152(_0x3608be[_0x3c3a7d(0x52c)],_0x3c3a7d(0x9d7));}});}['on']=(..._0x22ae17)=>{this['eventEmitter']['on'](..._0x22ae17);};[_0x49e620(0x8e2)]=(..._0x12a1cf)=>this['eventEmitter'][_0x49e620(0x8e2)](..._0x12a1cf);['off'](..._0x29c0b9){const _0x274641=_0x49e620;this[_0x274641(0x61a)][_0x274641(0x27c)](..._0x29c0b9);}}class _0x2135b8{['id'];[_0x49e620(0x9f7)];['email'];[_0x49e620(0x70f)]=_0x596e17[_0x49e620(0x83b)][_0x49e620(0x981)];['joinedClusters']=new Map();[_0x49e620(0x7af)]=_0x544609();constructor(_0x4e57f3,_0x1060e9,_0x37fc1a){const _0x5403d5=_0x49e620;this['id']=_0x4e57f3,this[_0x5403d5(0x9f7)]=_0x1060e9,this[_0x5403d5(0x76d)]=_0x37fc1a;}[_0x49e620(0x27e)](){return this['id'];}[_0x49e620(0x3db)](){const _0x2b755d=_0x49e620;return this[_0x2b755d(0x9f7)];}[_0x49e620(0x94d)](){const _0x3fdfeb=_0x49e620;return this[_0x3fdfeb(0x76d)];}[_0x49e620(0x352)](_0x24c6d3){const _0xbd9ef8=_0x49e620;this[_0xbd9ef8(0x9f7)]!==_0x24c6d3&&(this[_0xbd9ef8(0x9f7)]=_0x24c6d3,this['observer']['publish'](this));}['setEmail'](_0x2cfc47){const _0xb3195f=_0x49e620;this[_0xb3195f(0x76d)]!==_0x2cfc47&&(this[_0xb3195f(0x76d)]=_0x2cfc47,this['observer'][_0xb3195f(0x544)](this));}['registerCluster'](_0x3cf0f0,_0x4a2c4b){const _0x5dc76f=_0x49e620;if(this[_0x5dc76f(0xaee)]['has'](_0x3cf0f0))return;const _0x5d58be=this['observer'][_0x5dc76f(0xa34)](_0x4a2c4b);this['joinedClusters'][_0x5dc76f(0x9fa)](_0x3cf0f0,_0x5d58be);}['unregisterCluster'](_0x290d1d){const _0x3a23ab=_0x49e620;if(!this[_0x3a23ab(0xaee)][_0x3a23ab(0x29d)](_0x290d1d))return;const _0x12d09b=this[_0x3a23ab(0xaee)][_0x3a23ab(0x680)](_0x290d1d);_0x12d09b&&_0x12d09b(),this[_0x3a23ab(0xaee)][_0x3a23ab(0x55f)](_0x290d1d);}}class _0x7364cb{[_0x49e620(0x2e6)];[_0x49e620(0x905)];constructor(_0x8d858f){const _0x310fdc=_0x49e620;this[_0x310fdc(0x2e6)]=_0x8d858f;}async['signInWithCredential'](_0x1d6e6d){const _0x455154=_0x49e620,_0x21b617=await(0x0,_0x3b27d3[_0x455154(0xa08)])(_0xfa2cd[_0x455154(0x699)](),'sdkCreateToken')({'uid':_0x455154(0x2c3)+this[_0x455154(0x2e6)]+'ccc'+_0x1d6e6d['id']}),_0x11be0c=await(0x0,_0x17bb03[_0x455154(0x5c9)])(_0xfa2cd[_0x455154(0x28f)](),_0x21b617[_0x455154(0x7b6)][_0x455154(0xa6e)]);this['user']=_0x11be0c[_0x455154(0x905)];}async[_0x49e620(0x90d)](){const _0x27fe10=_0x49e620;await(0x0,_0x17bb03[_0x27fe10(0x90d)])(_0xfa2cd['getAuth']());}[_0x49e620(0x2eb)](){const _0x1c6bd5=_0x49e620;return this[_0x1c6bd5(0x905)]?.['getIdToken']()??Promise['reject'](_0x1c6bd5(0xabb));}}class _0x314e96{static [_0x49e620(0xb66)];['featureSupport']=[];constructor(){}static['getInstance'](){const _0x3e32e6=_0x49e620;return _0x314e96['instance']||(_0x314e96[_0x3e32e6(0xb66)]=new _0x314e96()),_0x314e96[_0x3e32e6(0xb66)];}[_0x49e620(0x8ee)](){const _0x4f4b45=_0x49e620;this[_0x4f4b45(0x736)](),this[_0x4f4b45(0x40a)](),this['checkScreenSharing'](),this[_0x4f4b45(0x9b5)](),this[_0x4f4b45(0x935)](),this[_0x4f4b45(0x21f)](),this[_0x4f4b45(0x1cd)](),this[_0x4f4b45(0x430)](),this[_0x4f4b45(0x868)](),this[_0x4f4b45(0x1dd)](),_0xb8b103['log'](_0xad09e4[_0x4f4b45(0x3cd)],_0x4f4b45(0xa75),{'featureSupport':this[_0x4f4b45(0xa78)]});}['isFeatureSupported'](_0x4a843b){const _0x58dd58=_0x49e620,_0x5b57b0=this['featureSupport']['find'](_0x5370f6=>_0x5370f6['name']===_0x4a843b);return!!_0x5b57b0&&_0x5b57b0[_0x58dd58(0xa35)];}[_0x49e620(0x1cf)](_0x2feb24){const _0x17aa00=_0x49e620;_0xb8b103[_0x17aa00(0x68c)]('support',{'nodeId':_0x2feb24[_0x17aa00(0x27e)](),'nodeType':_0x2feb24['type'],'data':{'featureSupport':this[_0x17aa00(0xa78)]}});}[_0x49e620(0x736)](){const _0x249925=_0x49e620,_0x28c4fb=_0x3a8a1b[_0x249925(0x6a6)];let _0x49d888=!0x1;_0x249925(0x3ff)==typeof RTCPeerConnection&&_0x249925(0x3ff)==typeof RTCIceCandidate&&_0x249925(0x3ff)==typeof RTCSessionDescription?_0x49d888=!0x0:_0xb8b103['log'](_0xad09e4[_0x249925(0x3cd)],_0x249925(0x655)+_0x28c4fb+_0x249925(0x841)),this['featureSupport']['push']({'name':_0x28c4fb,'supported':_0x49d888});}[_0x49e620(0x40a)](){const _0x2077ea=_0x49e620,_0x22e833=_0x3a8a1b[_0x2077ea(0x387)];let _0x23dbf6=!0x1;_0x2077ea(0x3ff)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x2077ea(0x30b)==typeof navigator&&_0x2077ea(0x30b)==typeof navigator[_0x2077ea(0xa76)]&&_0x2077ea(0x3ff)==typeof navigator[_0x2077ea(0xa76)][_0x2077ea(0x315)]?_0x23dbf6=!0x0:_0xb8b103['log'](_0xad09e4[_0x2077ea(0x3cd)],'Support:\x20'+_0x22e833+_0x2077ea(0x841)),this[_0x2077ea(0xa78)]['push']({'name':_0x22e833,'supported':_0x23dbf6});}['checkScreenSharing'](){const _0x148b1e=_0x49e620,_0x472aec=_0x3a8a1b[_0x148b1e(0xaa1)];let _0x56438b=!0x1;'object'==typeof navigator&&_0x148b1e(0x30b)==typeof navigator['mediaDevices']&&_0x148b1e(0x3ff)==typeof navigator[_0x148b1e(0xa76)][_0x148b1e(0xb65)]?_0x56438b=!0x0:_0xb8b103[_0x148b1e(0xad5)](_0xad09e4[_0x148b1e(0x3cd)],_0x148b1e(0x655)+_0x472aec+_0x148b1e(0x841)),this[_0x148b1e(0xa78)][_0x148b1e(0x6b8)]({'name':_0x472aec,'supported':_0x56438b});}[_0x49e620(0x9b5)](){const _0x255ac9=_0x49e620,_0xb582b3=_0x3a8a1b[_0x255ac9(0xa79)];let _0x3be32b=!0x1;'function'!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||_0x255ac9(0x3ff)!=typeof MediaStreamAudioSourceNode?_0xb8b103[_0x255ac9(0xad5)](_0xad09e4[_0x255ac9(0x3cd)],_0x255ac9(0x655)+_0xb582b3+_0x255ac9(0x841)):_0x3be32b=!0x0,this[_0x255ac9(0xa78)][_0x255ac9(0x6b8)]({'name':_0xb582b3,'supported':_0x3be32b});}['checkDeviceConfig'](){const _0x11a7d5=_0x49e620,_0x1d670c=_0x3a8a1b[_0x11a7d5(0x859)];let _0x3852b7=!0x1;_0x11a7d5(0x30b)==typeof navigator&&_0x11a7d5(0x30b)==typeof navigator[_0x11a7d5(0xa76)]&&_0x11a7d5(0x3ff)==typeof navigator[_0x11a7d5(0xa76)][_0x11a7d5(0x5cd)]&&_0x11a7d5(0x3ff)==typeof MediaDeviceInfo?_0x3852b7=!0x0:_0xb8b103[_0x11a7d5(0xad5)](_0xad09e4[_0x11a7d5(0x3cd)],'Support:\x20'+_0x1d670c+'\x20not\x20supported'),this['featureSupport'][_0x11a7d5(0x6b8)]({'name':_0x1d670c,'supported':_0x3852b7});}[_0x49e620(0x21f)](){const _0x1c5f54=_0x49e620,_0x4da24c=_0x3a8a1b[_0x1c5f54(0x521)];let _0x409dcb=!0x1;_0x1c5f54(0x30b)==typeof document&&_0x1c5f54(0x3ff)==typeof document['createElement']('video')[_0x1c5f54(0x353)]?_0x409dcb=!0x0:_0xb8b103[_0x1c5f54(0xad5)](_0xad09e4[_0x1c5f54(0x3cd)],_0x1c5f54(0x655)+_0x4da24c+_0x1c5f54(0x841)),this[_0x1c5f54(0xa78)]['push']({'name':_0x4da24c,'supported':_0x409dcb});}async[_0x49e620(0x1cd)](){const _0x36cfa6=_0x49e620,_0x2583d5=_0x3a8a1b[_0x36cfa6(0x2e4)];let _0x4939be=!0x1;try{const _0x15b973=document[_0x36cfa6(0x8c3)](_0x36cfa6(0x495));if(MediaRecorder&&MediaSource&&_0x15b973['captureStream']){const _0x74c1eb=_0x15b973['captureStream'](),_0x20c226=new MediaRecorder(_0x74c1eb);_0x20c226[_0x36cfa6(0x411)](),await new Promise(_0x913268=>setTimeout(_0x913268,0x7d0)),_0x20c226[_0x36cfa6(0x31e)](),_0x4939be=_0x36cfa6(0x35e)===_0x20c226[_0x36cfa6(0x2b0)];}}catch(_0x10815b){_0xb8b103['log'](_0xad09e4[_0x36cfa6(0x3cd)],_0x36cfa6(0x655)+_0x2583d5+_0x36cfa6(0x519),_0x10815b);}this[_0x36cfa6(0xa78)][_0x36cfa6(0x6b8)]({'name':_0x2583d5,'supported':_0x4939be}),_0x4939be||_0xb8b103[_0x36cfa6(0xad5)](_0xad09e4[_0x36cfa6(0x3cd)],_0x36cfa6(0x655)+_0x2583d5+_0x36cfa6(0x841));}[_0x49e620(0x430)](){const _0x1cbae5=_0x49e620,_0x375c3a=_0x3a8a1b['Backgrounds'];let _0x12a5b1=!0x1;try{document[_0x1cbae5(0x8c3)](_0x1cbae5(0x495))[_0x1cbae5(0x6b6)]&&(_0x12a5b1=!0x0);}catch(_0x3072f9){_0xb8b103['log'](_0xad09e4['Support'],_0x1cbae5(0x655)+_0x375c3a+_0x1cbae5(0x519),_0x3072f9);}this[_0x1cbae5(0xa78)][_0x1cbae5(0x6b8)]({'name':_0x375c3a,'supported':_0x12a5b1}),_0x12a5b1||_0xb8b103[_0x1cbae5(0xad5)](_0xad09e4[_0x1cbae5(0x3cd)],_0x1cbae5(0x655)+_0x375c3a+_0x1cbae5(0x841));}['checkWebGL'](){const _0x379476=_0x49e620,_0x226a29=_0x3a8a1b[_0x379476(0x89c)];let _0x56f93c=!0x1;try{const _0x1af561=document[_0x379476(0x8c3)](_0x379476(0x495));WebGLRenderingContext&&_0x1af561[_0x379476(0x285)](_0x379476(0x7e7))&&(_0x56f93c=!0x0);}catch(_0xefeda2){_0xb8b103[_0x379476(0xad5)](_0xad09e4['Support'],_0x379476(0x655)+_0x226a29+'\x20check\x20failed',_0xefeda2);}this[_0x379476(0xa78)][_0x379476(0x6b8)]({'name':_0x226a29,'supported':_0x56f93c}),_0x56f93c||_0xb8b103[_0x379476(0xad5)](_0xad09e4[_0x379476(0x3cd)],_0x379476(0x655)+_0x226a29+_0x379476(0x841));}[_0x49e620(0x1dd)](){const _0x449109=_0x49e620,_0xf7c6f6=_0x3a8a1b['AudioContext'];let _0x48f27c=!0x1;_0x449109(0x3ff)==typeof AudioContext?_0x48f27c=!0x0:_0xb8b103[_0x449109(0xad5)](_0xad09e4['Support'],_0x449109(0x655)+_0xf7c6f6+_0x449109(0x841)),this[_0x449109(0xa78)]['push']({'name':_0xf7c6f6,'supported':_0x48f27c});}}const _0x511280=_0x314e96['getInstance']();class _0x418fe9{static ['instance'];static [_0x49e620(0x2aa)];static ['mode'];[_0x49e620(0x835)];[_0x49e620(0x2e6)];['options'];[_0x49e620(0x720)];['clusters']=new Map();[_0x49e620(0x837)];constructor(_0x55b43a,_0x3fa06f,_0xe34d19){const _0x2a3037=_0x49e620;this['vendorId']=_0x55b43a,this[_0x2a3037(0x720)]=_0x3fa06f,this[_0x2a3037(0x835)]=new _0x7364cb(this[_0x2a3037(0x2e6)]),_0x511280['initialize'](),this['options']={'audioContext':_0xe34d19?.[_0x2a3037(0x25c)]??(_0x511280[_0x2a3037(0xb02)](_0x3a8a1b[_0x2a3037(0x4ca)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0xe34d19?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0xe34d19?.[_0x2a3037(0x1fa)]??0x3,'maxConnections':_0xe34d19?.[_0x2a3037(0xa92)]??(_0xe34d19?.['minConnections']&&0x4*_0xe34d19[_0x2a3037(0x1fa)])??0xc,'maxDistance':_0xe34d19?.[_0x2a3037(0x7c3)]??0xa,'maxFps':_0xe34d19?.['maxFps']??0x18,'maxBpp':_0xe34d19?.[_0x2a3037(0x320)]??0.12,'objectStoreConnector':_0xe34d19?.['objectStoreConnector']??_0x12fb3d['OPFSObjectStoreConnector'],'externalStorageConnectors':_0xe34d19?.[_0x2a3037(0x529)],'keyValueDatabaseConnector':_0xe34d19?.['keyValueDatabaseConnector']??_0x230114[_0x2a3037(0xafc)],'peerConnectionConnector':_0xe34d19?.[_0x2a3037(0xaf9)]??_0x159d8e[_0x2a3037(0x4da)],'generativeAIWorkerConnectors':_0xe34d19?.[_0x2a3037(0x75d)],'vectorDatabaseConnector':_0xe34d19?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0xe34d19?.[_0x2a3037(0x779)],'documentParserConnector':_0xe34d19?.[_0x2a3037(0x80d)],'fileConnector':_0xe34d19?.[_0x2a3037(0xb53)],'nlpLibraryConnector':_0xe34d19?.[_0x2a3037(0x4cd)],'searchConnector':_0xe34d19?.[_0x2a3037(0x256)],'aiSearchConnector':_0xe34d19?.[_0x2a3037(0x1d7)],'queryFileConnector':_0xe34d19?.[_0x2a3037(0x95d)],'ragConnectors':_0xe34d19?.[_0x2a3037(0x5f2)]},_0xe34d19?.['disableIntervalHack']&&this[_0x2a3037(0x8d3)]['audioContext']&&_0x285f59[_0x2a3037(0x951)](this['options']['audioContext']),_0xb8b103[_0x2a3037(0x8b0)](this[_0x2a3037(0x2e6)]),_0xe34d19?.['loggingConnectors']&&_0xb8b103[_0x2a3037(0x718)](_0xe34d19[_0x2a3037(0x4eb)]);}static async[_0x49e620(0x777)](_0x4c27e8,_0xb731a4,_0x324764,_0x17d3d1,_0x3fc5e3){const _0x1190ff=_0x49e620;this['mode']=_0x324764;const _0x3bf8e5=await this[_0x1190ff(0xb6b)](_0x4c27e8,_0xb731a4,_0x3fc5e3);return _0x418fe9[_0x1190ff(0xb66)]||(_0x418fe9[_0x1190ff(0xb66)]=new _0x418fe9(_0x4c27e8,_0x3bf8e5,_0x17d3d1)),{'close':_0x418fe9[_0x1190ff(0xb66)][_0x1190ff(0x5c2)][_0x1190ff(0x6e2)](_0x418fe9[_0x1190ff(0xb66)]),'authenticateUser':_0x418fe9[_0x1190ff(0xb66)]['authenticateUser'][_0x1190ff(0x6e2)](_0x418fe9[_0x1190ff(0xb66)]),'authenticateAgent':_0x418fe9['instance']['authenticateAgent'][_0x1190ff(0x6e2)](_0x418fe9['instance']),'validateKey':_0x418fe9[_0x1190ff(0xb66)][_0x1190ff(0x317)][_0x1190ff(0x6e2)](_0x418fe9['instance']),'joinCluster':_0x418fe9[_0x1190ff(0xb66)][_0x1190ff(0x47b)][_0x1190ff(0x6e2)](_0x418fe9[_0x1190ff(0xb66)])};}static async['timestamp'](){const _0x4fd41f=_0x49e620;return _0xfa2cd[_0x4fd41f(0x6f8)]();}static[_0x49e620(0x941)](){const _0x155d5c=_0x49e620;return _0x42fdd0[_0x155d5c(0x941)];}async[_0x49e620(0x5c2)](_0x502cc4){const _0x377446=_0x49e620;this[_0x377446(0x686)][_0x377446(0x49b)](_0x349cfd=>{_0x349cfd['off'](),_0x349cfd['leave'](_0x502cc4);}),this[_0x377446(0x686)]['clear'](),this[_0x377446(0x8d3)]['audioContext']&&_0x285f59['stopNoThrottlingHack'](),_0x418fe9[_0x377446(0x2aa)]?.(),_0x418fe9[_0x377446(0x2aa)]=void 0x0,this['authContext']=void 0x0,await this['authService']['signOut'](),_0x418fe9[_0x377446(0xb66)]=void 0x0;}static async[_0x49e620(0xb6b)](_0x41e2b5,_0x2d92ba,_0x225111){const _0x338c2e=_0x49e620;if(!this[_0x338c2e(0xb45)])throw new _0x2c2152(_0x3608be[_0x338c2e(0x28d)],'Node\x20type\x20is\x20required');let _0x1806d9;try{_0x1806d9=await(0x0,_0x3b27d3['httpsCallable'])(_0xfa2cd[_0x338c2e(0x699)](),_0x338c2e(0x2fa))({'vendorId':_0x41e2b5,'accessToken':_0x2d92ba,'secretKey':_0x225111});}catch(_0x3a1c2c){throw new _0x2c2152(_0x3608be[_0x338c2e(0xb3d)],_0x338c2e(0x505));}if(!this['isInternalSDKConfigs'](_0x1806d9[_0x338c2e(0x7b6)]))throw new _0x2c2152(_0x3608be[_0x338c2e(0xb3d)],_0x338c2e(0x505));const _0x5c3c2e=_0x1806d9[_0x338c2e(0x7b6)];return _0x5c3c2e[_0x338c2e(0x836)]||(_0x5c3c2e[_0x338c2e(0x836)]=[]),this[_0x338c2e(0x2aa)]||(this[_0x338c2e(0x2aa)]=_0x285f59[_0x338c2e(0x863)](async()=>{const _0x17175f=_0x338c2e;try{const _0x150c33=await this[_0x17175f(0xb6b)](_0x41e2b5,_0x2d92ba,_0x225111);this[_0x17175f(0xb45)]===_0x596e17[_0x17175f(0x83b)][_0x17175f(0x783)]&&(_0x150c33[_0x17175f(0xa94)]=_0x150c33[_0x17175f(0xa94)][_0x17175f(0x9e5)](_0x5b10b9=>_0x5b10b9[_0x17175f(0xb6e)][_0x17175f(0x288)](_0x17175f(0x62b)))),_0x5c3c2e[_0x17175f(0xa94)]=_0x150c33[_0x17175f(0xa94)];}catch(_0x15aa26){}},0x1b7740)),_0x5c3c2e;}async[_0x49e620(0x5ae)](_0x136533){const _0x4eda2a=_0x49e620;if(_0x418fe9[_0x4eda2a(0xb45)]!==_0x596e17[_0x4eda2a(0x83b)][_0x4eda2a(0x981)])throw new _0x2c2152(_0x3608be[_0x4eda2a(0x52c)],'Node\x20type\x20is\x20invalid');await this[_0x4eda2a(0x835)][_0x4eda2a(0x220)](_0x136533);const _0x2ee23d=new _0x2135b8(_0x136533['id'],_0x136533['displayName'],_0x136533[_0x4eda2a(0x76d)]);return this['authContext']={'node':_0x2ee23d},_0x511280[_0x4eda2a(0x1cf)](_0x2ee23d),{'type':_0x596e17[_0x4eda2a(0x83b)][_0x4eda2a(0x981)],'getId':_0x2ee23d['getId'][_0x4eda2a(0x6e2)](_0x2ee23d),'getDisplayName':_0x2ee23d[_0x4eda2a(0x3db)][_0x4eda2a(0x6e2)](_0x2ee23d),'getEmail':_0x2ee23d[_0x4eda2a(0x94d)][_0x4eda2a(0x6e2)](_0x2ee23d),'setDisplayName':_0x2ee23d[_0x4eda2a(0x352)][_0x4eda2a(0x6e2)](_0x2ee23d),'setEmail':_0x2ee23d[_0x4eda2a(0x3a7)][_0x4eda2a(0x6e2)](_0x2ee23d)};}async[_0x49e620(0x78b)](_0x4e764b){const _0x396d2d=_0x49e620;if(_0x418fe9[_0x396d2d(0xb45)]!==_0x596e17[_0x396d2d(0x83b)]['Agent'])throw new _0x2c2152(_0x3608be[_0x396d2d(0x52c)],_0x396d2d(0x9f0));const {id:_0x142797,groupId:_0x3d7cd4}=_0x4e764b,_0xbdc8ae=await(0x0,_0x3e7f37[_0x396d2d(0xb5a)])((0x0,_0x3e7f37[_0x396d2d(0x98c)])(_0xfa2cd[_0x396d2d(0x5d4)](),_0x396d2d(0x897)+this['vendorId']+_0x396d2d(0x88c)+_0x3d7cd4));if(!_0xbdc8ae[_0x396d2d(0x9af)]())throw new _0x2c2152(_0x3608be[_0x396d2d(0x472)],_0x396d2d(0x9bf));const _0x25e7ca=_0xbdc8ae['data']();await this['authService'][_0x396d2d(0x220)]({'id':_0x142797});const _0x20bd28=new _0x8e4fe0(_0x142797,_0x3d7cd4,this[_0x396d2d(0x2e6)],_0x25e7ca);return this[_0x396d2d(0x837)]={'node':_0x20bd28},_0x511280[_0x396d2d(0x1cf)](_0x20bd28),this[_0x396d2d(0x7b1)](_0x20bd28),{'type':_0x596e17[_0x396d2d(0x83b)][_0x396d2d(0x783)],'getId':_0x20bd28['getId']['bind'](_0x20bd28),'onConfigurationChange':_0x20bd28['onConfigurationChange'][_0x396d2d(0x6e2)](_0x20bd28),'setReportCapacity':_0x20bd28[_0x396d2d(0x8f2)][_0x396d2d(0x6e2)](_0x20bd28)};}async[_0x49e620(0x317)](_0x24651){const _0x245017=_0x49e620,_0x3f1656=await(0x0,_0x3e7f37[_0x245017(0xb5a)])((0x0,_0x3e7f37[_0x245017(0x98c)])(_0xfa2cd[_0x245017(0x5d4)](),_0x245017(0x309)+_0x24651));if(!_0x3f1656[_0x245017(0x9af)]())throw new _0x2c2152(_0x3608be[_0x245017(0xb3d)],'Invalid\x20key');return _0x3f1656['data']()[_0x245017(0x2e6)];}async['joinCluster'](_0x4d31ef){const _0x4ce31c=_0x49e620;if(!this[_0x4ce31c(0x837)])throw new _0x2c2152(_0x3608be[_0x4ce31c(0x472)],'Node\x20not\x20authenticated');if(this[_0x4ce31c(0x837)][_0x4ce31c(0x5ad)][_0x4ce31c(0x70f)]!==_0x596e17['NodeType'][_0x4ce31c(0x981)])throw new _0x2c2152(_0x3608be[_0x4ce31c(0xa59)],_0x4ce31c(0x700));if(this['clusters'][_0x4ce31c(0x29d)](_0x4d31ef))throw new _0x2c2152(_0x3608be[_0x4ce31c(0x954)],_0x4ce31c(0xa3a));const _0x29b834=new _0xee849a(this[_0x4ce31c(0x2e6)],_0x4d31ef,this[_0x4ce31c(0x837)]['node'],this['authService'],this['options'],this[_0x4ce31c(0x720)]);return await _0x29b834[_0x4ce31c(0xae2)](),this[_0x4ce31c(0x525)](_0x4d31ef,_0x29b834),_0xb8b103[_0x4ce31c(0x68c)]('join-cluster',{'clusterId':_0x4d31ef,'nodeId':this[_0x4ce31c(0x837)]['node'][_0x4ce31c(0x27e)](),'nodeType':this[_0x4ce31c(0x837)][_0x4ce31c(0x5ad)][_0x4ce31c(0x70f)]}),{'leave':_0x29b834[_0x4ce31c(0x55b)]['bind'](_0x29b834),'getLocalNode':_0x29b834[_0x4ce31c(0x9d0)][_0x4ce31c(0x6e2)](_0x29b834),'openPubSubTopic':_0x29b834['openPubSubTopic'][_0x4ce31c(0x6e2)](_0x29b834),'openObjectStoreBucket':_0x29b834[_0x4ce31c(0x6e4)][_0x4ce31c(0x6e2)](_0x29b834),'openExternalStorageConnection':_0x29b834[_0x4ce31c(0x507)][_0x4ce31c(0x6e2)](_0x29b834),'openKeyValueDatabase':_0x29b834[_0x4ce31c(0x6a2)][_0x4ce31c(0x6e2)](_0x29b834),'openGenerativeAIContext':_0x29b834[_0x4ce31c(0x71c)][_0x4ce31c(0x6e2)](_0x29b834),'openGenerativeAIWorker':_0x29b834[_0x4ce31c(0x31f)][_0x4ce31c(0x6e2)](_0x29b834),'openGraphDatabase':_0x29b834['openGraphDatabase'][_0x4ce31c(0x6e2)](_0x29b834),'openVectorDatabase':_0x29b834[_0x4ce31c(0x66d)]['bind'](_0x29b834),'publishLocalMediaStream':_0x29b834['publishLocalMediaStream'][_0x4ce31c(0x6e2)](_0x29b834),'publishLocalDynamicMediaStream':_0x29b834[_0x4ce31c(0x7f5)][_0x4ce31c(0x6e2)](_0x29b834),'getPubSubTopics':_0x29b834[_0x4ce31c(0x7a4)][_0x4ce31c(0x6e2)](_0x29b834),'getObjectStoreBuckets':_0x29b834[_0x4ce31c(0x3ae)][_0x4ce31c(0x6e2)](_0x29b834),'getExternalStorageConnections':_0x29b834[_0x4ce31c(0xb34)][_0x4ce31c(0x6e2)](_0x29b834),'getKeyValueDatabases':_0x29b834[_0x4ce31c(0x3d7)][_0x4ce31c(0x6e2)](_0x29b834),'getGenerativeAIContexts':_0x29b834[_0x4ce31c(0x545)][_0x4ce31c(0x6e2)](_0x29b834),'getGenerativeAIWorkers':_0x29b834[_0x4ce31c(0x359)][_0x4ce31c(0x6e2)](_0x29b834),'getGraphDatabases':_0x29b834[_0x4ce31c(0x999)][_0x4ce31c(0x6e2)](_0x29b834),'getVectorDatabases':_0x29b834[_0x4ce31c(0x57b)]['bind'](_0x29b834),'getLocalMediaStreams':_0x29b834[_0x4ce31c(0x42f)][_0x4ce31c(0x6e2)](_0x29b834),'getRemoteMediaStreams':_0x29b834[_0x4ce31c(0x965)]['bind'](_0x29b834),'getRemoteNodes':_0x29b834[_0x4ce31c(0x95b)][_0x4ce31c(0x6e2)](_0x29b834),'on':_0x29b834['on'][_0x4ce31c(0x6e2)](_0x29b834),'off':_0x29b834['off'][_0x4ce31c(0x6e2)](_0x29b834)};}async[_0x49e620(0x7b1)](_0x668f2e){const _0x7a040b=_0x49e620,_0x57ca90=new _0xee849a(this['vendorId'],_0x7a040b(0x76e),_0x668f2e,this['authService'],this['options'],this[_0x7a040b(0x720)]);await _0x57ca90[_0x7a040b(0xae2)](),this[_0x7a040b(0x525)](_0x7a040b(0x76e),_0x57ca90),_0xb8b103[_0x7a040b(0xa55)](_0x7a040b(0x76a),_0x7a040b(0x76e)),await _0x57ca90[_0x7a040b(0x31f)](_0x7a040b(0x76e)),_0xb8b103[_0x7a040b(0xa55)](_0x7a040b(0xb6d),_0x7a040b(0x76e));}[_0x49e620(0x525)](_0x4b9b2f,_0x54770c){const _0x3d850a=_0x49e620;this[_0x3d850a(0x686)]['set'](_0x4b9b2f,_0x54770c),_0x54770c['on'](_0x3d850a(0x512),()=>{const _0x3c447d=_0x3d850a;_0x54770c[_0x3c447d(0x27c)](),this[_0x3c447d(0x686)][_0x3c447d(0x55f)](_0x4b9b2f);});}static['isInternalSDKConfigs'](_0x281060){return void 0x0!==_0x281060['iceServers'];}}return _0x254e17;})())));