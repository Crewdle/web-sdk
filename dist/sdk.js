function a0_0x41e8(){const _0x122fe0=['retryDelay','Debug','debounceReadyTimeout','UpdateMediaStream','accessToken','getDataCollections','openedTraces','runJobQueue','Invalid\x20version\x20\x27','includes','getTotalBytes','maxFps','removeRemoteNode','collectReceiversStats','vector-database','RemoteAdd','handlePublishMediaStream','Database\x20Opened','processOutboundReport','isJobAttribution','onRemoveTrack','getAudioTracks','push','consumeBufferedEvents','chunks','error','Upgrade','bytesReceived','Low','sendReject','detail','splice','listChanges','handleSubscriptionUnsubscribeMediaStream','trackCallback','OPFSObjectStoreConnector','errorDetails','Invalid\x20object\x20store\x20state.','jobType','\x20created\x20and\x20dispatched.','.php','searchApiKey','debounceStats','failed','graphService','performCalculation','setVendorId','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','Error\x20searching','VectorSearch','List','connectionPool','keyValueDatabases','ExternalStorageStats','\x20answer','subject','GraphDatabase\x20not\x20found','Problem','contentMediator','setRemoteConnections','handleContentUnpublishMediaStream','closeSubscription','\x20check\x20failed','Wait','processBatch','prototype','Local\x20stream\x20does\x20not\x20exist.','LoadKnowledgeFunction','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','Agent\x20output\x20is\x20not\x20a\x20string','externalStorageConnections','createReceiverConnection','GenerativeAIEngineType','ccc','messageUnsubscriber','AppSync\x20client\x20not\x20ready','graphql','getId','Warning','AudioVolume','retryLimit','Stats','client','timePerFrame','generative-ai-worker-creation-failed','LoggingService:\x20logging\x20enabled\x20for','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','cluster-disconnect','firebaseUnsubscriber','parse','crewdleSDKEnableLogging','bufferEvent','CloseObjectStoreBucket','externalStorageConnectionIds','outbound-rtp','match','removeKeyValueDatabase','missing-datachannel','subscription','\x20failed.\x20Retrying...','externalStorages','setSenderTimestamp','prompts','memoryUsage','unsubscribeTrackEndedListener','title','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','currentBatch','outgoing-stream-no-topic','httpsCallable','\x27\x20dabatase\x20id.','getGraphDatabases','getDataBucketIds','blocks','GenerativeAIWorkerAlreadyExists','Buffering\x20event','LocalMediaStreamTrackFail','signalingState','time','initializeSystemTopic','load','setRank','createRemoteNode','Stream\x20does\x20not\x20exist','timeoutValue','handleSuccess','page','Invalid\x20subscriber.','Error\x20fetching\x20context','clearUpgradeTimeout','InternalSDKError','Found\x20','senderCurrentBytes','Search','LocalMediaStreamAlreadyExists','writeTransaction\x20-\x20transaction\x20already\x20exists','agent-join','asObservable','setRemoteNode','workflow-does-not-exist','addBatchOperation','floor','object-store-invalid-state','previousBytes','setupStatsReporting','LocalMediaStreamDoesNotExist','ReceiverOnMessage','height','removeConnection','entries','.crewdle-pending','sendChunked','isAvailable','overlap','problem','engineType','statsManager','Search\x20in\x20data\x20collection\x20','vectorDatabases','sendBid','dataChannel','statsReporting','publishNodeJoin','NodeManager\x20-\x20NodeUpdate','suspended','Start\x20Ingestion','ConnectionNoRetryQueue','tableUnsubscriber','Data\x20collection\x20not\x20found','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','unregisterSystemSource','@context.','getTrack','ingestBlocks','\x20received\x20responses:','getFunctions','authenticateUser','canRestartHandshake','NodeNotAuthenticated','subscription-request-does-not-exist','MediaStreamUnavailable','Success','cpu.time_per_frame','searchOnGoogle','counter','maxBitrate','false','Reranker','then','handleObjectMove','links','commitBatch','getPriority','internal-sdk-error','getNumberOutgoingSubscriptions','syncTimeout','peer-connection','getGraphDatabase','>\x0a\x0a','AI\x20worker\x20creation\x20failed.','CrewdleConnection\x20handlePeerConnectionSystemEvents','ranges','KeyValueDatabasePeakNotFound','An\x20error\x20occurred','Events','nodeKey','agent','logInitialMMR','sort','bid','JobWorkerInvalidType',',\x20Transactions:\x20','crewdleSDKDisableLogging','text/','Synced','packetsSent','waitForArrayBufferSize','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','blockId','getSenderBitrate','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','PubSubTopicAlreadyExists','/objectstores/','addEdge','Error\x20opening\x20trace','track','Internal\x20error:\x20','logger','Invalid\x20table\x20name\x20\x27','autoplay','createBuffer','contextInputVariable','addEventListener','.sql','between','setConnectionType','durationTime','setupConnectionEvents','remove','subscription-request-in-progress','sendFile','getCapacityReport','user-update','receiverTimeProcessing','debounceLogTimeout','KeyValueDatabase\x20not\x20found','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','No\x20async\x20endpoint\x20URL','object-store-invalid-path','KeyValueDatabaseContentSynchronized','.ejs','head','IngestTrace','getPubSubTopics','nodeManager','drawImage','undefined','audioSource','database','GetContextResult','KeyValueDatabaseIndexNotFound','NodeUpdate','currentTimestamp','outputType','stop','getTransactions','origin','PubSub','abs','KeyValueDatabaseNotOpen','Joined\x20cluster','Connected','removeExternalStorageConnection','processContentAvailable','ChunkSplitter','candidate','isPromiseResolved','getIsLoaded','registerSystemSource','maxDepth','openPubSubTopic','take','logStorage','setupListeners','outgoingStreams','openObjectStoreBucket','cluster-already-joined','setItem','Node\x20\x27','receiver','.liquid','contextOutputVariable','Cannot\x20get\x20size\x20of\x20path:\x20','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','configs','list','Remote\x20stream\x20does\x20not\x20exist.','hash','Queued','webgl','_isReady','isFeatureSupported','mute','code','getModels','incomingManager','subscriptionRequests','isJobRequest','topic','Done','senderPreviousTimestamp','.tsx','loadFromDisk','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','.txt','commitTrace','sendPeakTransactions','answers','supportsContentType','owner','job-dispatcher-creation-failed','startLoggingCycle','subscribeToJobs','resolve','ENOENT','JobWorker:\x20Error\x20processing\x20job','getTransactionByHash','getQuery','stopConnection','\x20does\x20not\x20support\x20content\x20type\x20','generativeAIWorkers','graph-database-missing-connector','handleOnMessage','files','sender-send-message','Key-value\x20database\x20table\x20does\x20not\x20exist.','feedback','clusters/','Node\x20does\x20not\x20exist.','observe','api','answererId','receiver-on-message','subscription-request-no-answer','generative-ai','Vector','getResolutionScale','GenerativeAIWorker:\x20Opening','getCurrentMaxLayer','publishSyncCompletedAfterWrites','collectSendersStats','Online','getGrammars','muted','parameters','MediaStream','previous','.clj','clusterKey','endsWith','getVideoTracks','addRemoteConnection','createElement','reranker','resolution','.cpp','createBatchOperation','Receiver','/stats','getInternalStreamId','grammar','numeric','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','startNoThrottlingHack','defineProperty','results.csv','context','GenerativeAIWorkerModelSyncError','GraphSearch','jobId','PubSub\x20already\x20exists','getSenderTotalBytes','pipe','RetrieveTrace','deleteObject','batchTimeout','getWorkflowExternalStorageConnections','key-value-database-creation-failed','byteLength','setOnMessageHandler','\x20does\x20not\x20exists','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','unsubscribeListener','workflow-invalid-block-type','Local\x20MediaStream\x20already\x20exists','maxFramerate','addDoc','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','bufferedAmountLowThreshold','relations','createPendingFileWrite','joinedAt','rejectReady','replaceTrack','getAncestors','debounceProcessRank','Received\x20content\x20available\x20from\x20node','fetchContentFromUrl','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','router','\x20attempts:','NodeLeave','jobs','restartTimeout','resolveReady','crewdle-sdk-stg.appspot.com','maxConnections','handleUnpublishMediaStream','No\x20parameters\x20provided','CloseExternalStorageConnection','handleAnswer','getAvailableTrackKinds','STVolatility','ObjectStoreDoesNotExist','description','getGenerativeAIContexts','authNode','graphDatabaseConnector','lastRemediations','Early\x20return:\x20','connectionGroup','nodeUpdate','2yOUWnN','Model\x20not\x20found','connectionType','getVectorDatabases','maps','Invalid\x20value.\x20Must\x20be\x20an\x20object.','Syncing','displayName','internalSearch','external-storage-invalid-path','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','eventEmitter','registerPublisher','direction','getDisplayName','SubscriptionRequestFailed','manageBufferedChunks','processContentAvailable\x20-\x20Peak\x20comparison:','close','commitLevel','setLoggingConnectors','messageType','getAgents','Node\x20is\x20not\x20an\x20agent','getName','message','server','joinedClusters','northamerica-northeast1','isChannelEnabled','Disconnect','instantiateTransactionTable','onClose','Invalid\x20publisher.','handleRemoteTrackFailure','saveToDisk','.\x20Confirmation?\x20','\x20with\x20','connection','DatabaseEvent','openVectorDatabase','completeSync','remoteId','Support','.crewdle-last-transaction','asyncHeaders','logPropagateSystemEvent','Error\x20reading\x20file\x20chunk\x20after\x20','PubSubTopicAlreadySubscribed','Partial','2-digit','timeReceiving','Method\x20not\x20implemented.','long','removePubSubTopic','GenerativeAIContextCreationFailed','concat','childRemovedUnsubscriber','TimePerFrame','getEstimatedTimestamp','heartbeatUnsubscriber','Info','parseDataCollectionBlocks','captureStream','Answer','generative-ai-worker-already-exists','JobWorker:\x20Sending\x20job\x20partial\x20result','openTrace',',\x20Total\x20Nodes:','57494boTpUe','messagesReceived','handleChunkMessage','handleJobAttribution','/resources/generative-ai-workflow/items/','min','SubscriptionRequestNoAnswer','Offer','knowledgeCutoffDate','jobDispatchers','DTVolatility','unsubscribe','listen','KeyValueDatabaseSyncRequired','processTransactionPayload','ExternalStorageConnectionDoesNotExist','createExternalStorageConnection','receiverTotalMessages','No\x20files\x20found','processServiceReport','VectorDatabaseAlreadyExists','removeEventListener','logBatch','audioDestination','https://crewdle-sdk-default-rtdb.firebaseio.com','capacityReporter','getStatus','onNodeDisconnect','jobPhase','getMediaStream','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','Error\x20during\x20MMR\x20rebuild\x20logging:','listenUnsubscriber','objectRequests','Error\x20committing\x20batch:','lastUpdated','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','chunk-splitter','hasTable','CrewdleConnectionGroup','/resources/generative-ai-collection/items','findNextNodeId','contentRequestSent','handleError','getMaxConnections','doc','LoadSkillFunction','Default','\x20-\x20','parentId','VectorDatabaseMissingConnector','processInboundReport','Get','.cs','\x20with\x20response:','validateAccess','frames','pow','us-east-1','\x0a\x20===\x20Current\x20MMR\x20Root','handleOutgoingSystemEvents','rootComputationPromise','startAt','mergeParts','FinalOutput','stream','\x27\x20from\x20','setTransformations','ExecuteCode','Loaded\x20from\x20disk','ObjectStoreStats','getIdToken','connectionManager','peer-connection-invalid-destination','queryFileConnector','getLocalMediaStreams','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','off','noun','KeyValueDatabaseNameNotString','Logging\x20not\x20enabled\x20for\x20channel\x20','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','getTracks','retryCallback','queries','.swift','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','connectAgent','connectionStateListener','getEngineType','KeyValueDatabaseInvalidLayout','StreamReport','job-dispatcher-job-exists','Job','Additional\x20context:\x0a','component','\x0a\x0a`Searching\x20on\x20Perplexity\x20for\x20','WebGL','unshift','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','onDisconnect','Rejected','PubSubTopic\x20not\x20found','media-stream','write','removeLocalMediaStream','key','rtt','issues','ObjectStoreInvalidState','handleConnectionSuccess','boolean','addRemoteNode','appsync-no-destination','FileDelete','everyone','subscription-request-failed','cluster','onDisconnectHandler','warn','trace','detectAudioIssues','index','getTableConnector','setDurationTime','isWhereValues','ownerId','Invalid\x20credentials','Relation','discover','systemMessagesReceived','getDistance','\x27:\x20missing\x20or\x20invalid\x20keyPath','Handshake','Retrieve','processRank','PubSubTopic\x20publish','JobDispatcherDoesNotExist','appsync-close','.ppt','CloseMediaStream','previousFrames','GetContextQuery','senders','deleteRemoteNode','ConnectionGroup','asyncEndpointMethod','Opened\x20model\x20store\x20bucket','time_per_frame','getConnections','removeObjectStore','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','clearRect','getApp','queryOrPrompt','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','manageOptimization','DataChannel\x20buffer\x20is\x20full.','getPeaks','buffer','updateDebounce','ObjectStoreInvalidPath','ObjectStoreNotSynced','PubSubTopicStats','initialize','substring','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','getLabel','GenerativeAIWorker:\x20Opened','startBidResponseHandling','contentManager','QueryBuilderInvalidArgument','Error\x20writing\x20chunk\x20to\x20stream','accumulated','No\x20global\x20object\x20found','No\x20destinationIds\x20left','GenerativeAIWorkerStats','getOwnerId','onloadeddata','RemoteMediaStreamDoesNotExist','getBitrate','url','transactions','createAnswer','closeConnection','Invalid\x20params','maxResolution','.lua','processReceiverReport','object-store-not-synced','wait-true','publishSystemMessage','createConstantSource','/resources/agent/items/','DataChannel\x20is\x20not\x20open.','handleContentSubscribeMediaStream','generativeAIWorkerConnectors','request-file-write','generative-ai-context-job-already-consumed','writeTransaction','maxLayer','onHandshakeStateChange','logSupport','Sender\x20connection\x20is\x20not\x20initialized.','isInternalLoggingConnector','Knowledge\x20Cutoff\x20Date:\x20','detectVideoIssues','getGrammar','RequestFileSync','getJobs','messageBuffer','vector-database-already-exists','openExternalStorageConnection','hasOwnProperty','System','WebRTCBrowserPeerConnectionConnector','onConnectionStateChange','localNode','JobContext','setCurrentVersion','KeyValueDatabaseTableNotFound','job-dispatcher-job-not-found','waitAnswer','ref','timestamp','logEvent','removeRemoteMediaStream','subscribedTracks','createVectorDatabase','compileStats','handshakeDebounce','object-storage-upload','toFixed','DataCollection','Key-value\x20database\x20creation\x20failed.','missing-system-topic','Unknown\x20skill\x20type','object-store-name-not-string','oncloseTimeout','firebase-disconnect','connectionState','getRemoteId','GenerativeAIContext','debounceRebuildMMR','ObjectStorage','removeTopic','handleContentRemoteMediaStreamTrackFail','\x20must\x20be\x20a\x20valid\x20JSON\x20string','getSubscribedTracks','features','label','Invalid\x20peer\x20connection\x20event\x20destination.','ExecuteAgent','moveObject','.mustache','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','_ready','crewdleSDKLoggingChannels','NodeConnectionsUpdate','89740nnEEaV','JobWorker:\x20Tracing\x20not\x20implemented','downgrade','max','frameWidth','key-value-database-peak-not-found','openJobWorker','\x20must\x20be\x20a\x20string','handleNodeLeave','getRemoteMediaStream','IDBDatabaseConnector','Error\x20closing\x20trace','topics','handleContentSystemEvents','createNewBatch','appendTransactionAndUpdateHashMap','manageAncestor','vector','sourceVideo','reportMetric','sdkCreateToken','InitialPrompt','JobWorker:\x20Handling\x20job\x20attribution','handleContentUpdateMediaStream','All','gain','handleUnsubscribeMediaStream','where','writes','CloseVectorDatabase','Workflow','NodeTypeNotSupported','NeedRestart','\x20ms\x0a','ObjectStoreInvalidSyncMessage','bandwidth.jitter','listenerUnsubscribers','file','removeSubscriptionsForNode','PeerConnection','sendFileRequestPayload','onBufferedAmountLow','Job\x20service\x20creation\x20failed.','skipEncryption','publishFolder','.ps1','.docx','No\x20connector\x20found\x20for\x20model','NodeInvalidType','InvalidSubscription','Subscribing\x20to\x20an\x20event:\x20on','storageType','taskType','SyncComplete','Core','source','Could\x20not\x20open\x20trace','handleSubscriptionNeedMediaStream','chunksReceived','JobDispatcherCreationFailed','getShareableStreamId','supports','VectorDatabase\x20not\x20found','connected','toLowerCase','object-storage','getEnabledChannels','getWorkflow','uid','timesCalled','reset','reasoning','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','getConnection','GenerativeAIWorkerMissingConnector','isProduction','operator','getObjectStoreBuckets','traceLevel','system-stats','inputType','scheduleTime','getSubscriptionLabel','.crewdle-transactions','start','isValidMediaSubscriptionParams','getPubSubTopic','isWhereValue','handleIceCandidates','documentPath','IntermediateOutput','Cluster\x20already\x20joined','4239msefXs','hasMessage','.info/connected','nodes','receivers','KeyValueDatabaseTransactionValueNotSet','node-type-required','KeyValueDatabaseTableDoesNotExist','Processing','chosenAnswers','getReceiverTotalBytes','changesUnsubscriber','JobQueueService:\x20Error\x20running\x20job','versions','LocalMediaStreamNoAudioContext','maxBpp','getNextTargetRank','disconnectCallback','processContentQueue','systemTopic','startTracing','InvalidPublisher','.js','Early\x20return','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','.xml','outgoingTopic','SearchPerplexity','collection','resetConnection','processReport','debugEnabled','object-store-already-exists','incrementVersion','processRemoveContent','getLocalId','setDisplayName','FramePerSecond','size','calculateSize','484917zBmiMr','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','getConnectionDestinations','framesEncoded','pathName','key-value-database-invalid-layout','loggingDatabaseConnector','getInternalTrackParams','NodeManager\x20-\x20ConnectionSuccess','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','listenerUnsubscriber','sendWithRetry','<file:','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','Downgrade','registerDestination','registerRemoteNode','checkMediaStream','signInWithCustomToken','FileStatus','tableObserver','setTimestamp','reject','jobBids','Invalid\x20index\x20in\x20table\x20\x27','Key-Value\x20Database\x20-\x20Sync\x20Completed','I\x20am\x20done','Vector\x20database\x20creation\x20failed.','getOutgoingOptimizationConnections','Query\x20is\x20required','addTrack','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','callback','propagate','NodeManager\x20-\x20PublishNodeLeave','detectStreamIssues','evaluateBids','UnsubscribeMediaStreamdiaStream','handleMissingSenders','readyResolve','\x20not\x20found.','removeRemoteConnection','unregisterSystemPublisher','getBufferedAmount','pubsub','OutgoingMediaStreamNoTopic','Error\x20processing\x20content\x20queue','KeyValueDatabase','SystemStats','sdkValidateAccess','operations','remoteMediaStreams','reduce','options','JobStream','requestSubscriptionAction','AgentSkill','bandwidth.bitrate','subscribe','CloseJobWorker','Invalid\x20key\x20\x27','GenerativeAIModelInputType','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','removeSubscription','JobWorker:\x20Received\x20job\x20request','removeIncomingSubscription','totalNodes','CloseGraphDatabase','groupId','createRemoteMediaStream','isNeedRestart','checkMediaRecording','chunk','RequestFileWrite','signalingServer','AI\x20Worker\x20already\x20exists','getVectorDatabase','0\x20B','key-value-database-not-open','.ipynb','/resources/generative-ai-agent/items','createLocalDynamicMediaStream','Today\x20Date:\x20','Key-value\x20database\x20peak\x20not\x20found.','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','developers/','uuid','getBuffer','.jsx','ObjectStoreNameNotString','data-collection','getRemoteMediaStreams','registerCluster','ObjectStoreNotInSync','total','now','/resources/generative-ai-grammar/items','Unsupported\x20job\x20type','video','mediaTopics','audio','RemoteMediaStreamTrackFail','KeyValueDatabaseDoesNotExist','RemoteMediaStreamAlreadyExists','handleStatsSystemEvents','QueryFile','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','contentQueue','urls','publishSyncCompletedAfterWrites\x20-\x20','Missing\x20AI\x20worker\x20connector','return\x20this','find','6HMJach','getLayout','addProblem','setSubscriptionRequestTimeout','DEBUG\x20-\x20','framerate','{\x20\x22status\x22:\x20\x22success\x22\x20}','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','/developers/','confirmSynchronization','receiverBitrate','.info/serverTimeOffset','getPacketsLostPerc','senderPreviousBytes','srcObject','createSubscription','internalId','receiverCurrentBytes','createKeyValueDatabase','subscribeToLocalContent','/transactions/lastTransaction','JobType','feature-not-enabled','setIsLoaded','Cannot\x20write\x20transaction.','sourceId','agentId','openGenerativeAIWorker','update','startsWith','onremovetrack','Disconnected','timeoutCallback','\x0a\x20===\x20Total\x20Time:\x20','invalid-subscriber','/resources/generative-ai-skill/items','clearOncloseTimeout','processSenderReport','discoveryService','firebaseConfig','clientHeight','batchQueue','Folder','createOffer','\x20-\x20Sending\x20propagation\x20(','generative-ai-label-conflict','unregisterPublisherListener','remote-stream-missing-provider-id','-leave','Executing\x20custom\x20skill:\x20','Error\x20fetching\x20URL','Database\x20does\x20not\x20exist','openJobDispatcher','.awk','tableName','Audio','<uploaded-files>','resolutionScale','senderBitrate','receiverStreams','.md','RemoteMediaStreamInvalidSubscriptionParams','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','objectToArrayBuffer','processJob','handleNodeDisconnect','Connection\x20does\x20not\x20exist.','addPendingHandshakeCandidate','Attempt\x20','Error\x20fetching\x20file','SyncKeyValueDatabase\x20-\x20Ancestors\x20','hashTransaction','right','\x0a</','readyPromises','minThreshold','inputTokens','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','agentConfig','handleOptimizationConnectionSuccess','createBufferSource','queues','ObjectStorageBucket','limit','gpu','statsReport','senderStreams','Job\x20service\x20observer\x20not\x20found.','Invalid\x20node\x20type','generativeAIContexts','st_volatility','GenerativeAIContext\x20stream\x20error','rank','handleRemediationSystemEvents','getTotalNodes','Subscription','maxTokens','eventTarget','\x0a\x0a`Executing\x20custom\x20skill\x20','checkScreenSharing','.tcl','createObjectStoreBucket','RequestFile','KeyValueDatabaseSendTransactions','removeTrack','vectorDatabaseConnector','handleSubscribeMediaStream','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','Sender','Receiver\x20connection\x20is\x20not\x20initialized.','mode','WebRTC','Setting\x20context\x20for\x20agent\x20skill\x20block','1.0.24.0','storeId','remote-inbound-rtp','Remediation','isPartialResultResponse','senderTotalMessages','crewdle-sdk.appspot.com','bitrate','Error\x20initializing\x20logging\x20database\x20with\x20\x27','getModel','Restart\x20NeedMediaStream','graph-database-does-not-exist','relation-extractor','state','bandwidth.rtt','publishUserUpdate','modelsBucketId','createSenderConnection','270535wyzcFo','getPartsForSubscriptionLabel','Missing\x20answerer\x20id\x20on\x20request\x20answer','processPendingSyncTransactions','canvas','fetchUrl','sampleRate','ModelVector','createConnection','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','generative-ai-worker-model-sync-error','task','GraphDatabaseDoesNotExist','\x20already\x20exists','transactionsToSync','updated','estimatedPlayoutTimestamp','contentType','debounceAppendLog','connectionConstructor','KeyValueDatabaseCreationFailed','KeyValueDatabaseContentAvailable','ObjectStorageUpload','Connection\x20not\x20initialized.','Prompt','JobDispatcherJobExists','Setting\x20context\x20for\x20agent\x20block','statsCollection','remoteConnections','ScreenSharing','available','invalid-data-chanel','remote-media-stream-invalid-subscription-params','GenerativeAIContextStats','retryQueue','Data\x20cluster\x20is\x20not\x20open.','joinCluster','createLocalMediaStream','filteredDestinationIds','app','relation','createJobDispatcher','signOut','closeTrace','handleSubscriptionMediaStreamUnavailable','NodeJoin','ExternalStorage','CrewdleSenderConnection\x20createOffer','evaluateProccessedJob','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','isNodeReady','Remove','registerSystemPublisher','keys','SenderPeerConnection\x20send','Stream\x20already\x20exists','WaitTrue','Model\x20store\x20not\x20initialized','number','Number','next','subscriptions','\x0a\x0a`Executing\x20agent\x20','extendedRecipients','WebScraperRaw','setInternalId','content','connection-state','findIndex','\x20received\x20result:','timeSending','relevance','get','Missing\x20remote\x20node\x20or\x20rank','/resources/generative-ai-model/items','getContext','Reranker\x20block\x20is\x20missing\x20required\x20data','get-content','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','Request','val','Invalid\x20data\x20event.','publishLocalDynamicMediaStream','logMMRRebuild','updatePropagationProperties','SHA-256','SubscriptionRequestDoesNotExist','expectedTransactions','modelId','currentVersion','resizeHandler','JobQueueService:\x20Running\x20job','VectorDatabaseDoesNotExist','getCurrentVersion','isBidResponse','RemoteMediaStreamMissingProviderId','disconnected','featureSupport','ancestors','node-already-exist','receiverConnection','Detection','isMediaSource','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','sendRequest','jitter','Job\x20with\x20id\x20','connect','.vbs','.erl','RemoteConnectionExists','test-page','eventListener','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','ExternalStorageConnectionAlreadyExists','addBidResponse','handleFileSync','Incoming','objectStores','isReconnecting','end','trackListeners','getFirestore','AI\x20Service\x20already\x20exists','audioContext','functions','currentBytes','query','loggingConnectors','exists','result','addCandidate','rating','status','unregisterSource','data','ExternalStorageConnectorsMissing','\x0a</uploaded-files>','Media','pendingFilesSyncing','publishNodeLeave','getRoundTripTime','getHash','filesSynced','InvalidDataChannel','handleNoAnswer','system','trim','searchConnector','Rejected\x20answer','standalone','OutgoingSubscription','getCoresFromCapacityReport','LocalReport','KeyValueDatabaseRequestTransactionsValue','handleNodeSystemEvents','\x20already\x20exists.','getSentences','Delete','pub-sub-topic-does-not-exist','destination','issue','send\x20error\x20on\x20','logDataReceived','unregisterPublisher','logLevel','folder-create','toLocaleDateString','bind','clientStream','Node\x20type\x20is\x20invalid','google','Opened\x20generative\x20AI\x20worker','padStart','Opened\x20logging\x20database','AITrace','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','getRemoteNode','ObjectStoreAlreadySubscribed','getPeakNode','Ingest','setParams','objectStoreId','getShareableStream','subscriptionRequestsQueue','removeTrackListeners','getJobObservable','getMinConnections','OfficeParser','removeJobWorker','handleHandshake','removeVectorDatabase','VectorDatabaseNameNotString','CONNECTION_STATE_CHANGE','local-media-stream-already-exists','GenerativeAILabelConflict','debounceReady','ModelText','UnpublishMediaStream','Skill','No\x20connections\x20available\x20to\x20send\x20message','createJob','isMediaDestination','cachedRoot','SenderSendMessage','exports','shift','all','syncContent','Connection\x20does\x20not\x20exist','processContentSynchronized','.java','not-resolved','thread-','Cannot\x20list\x20directory:\x20','setTimeout','Llamacpp','globalObject','ExternalStorageNameNotString','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','threadId','.py','writeFile','cleanOldSubscription','getEntities','isSync','priority','getLocalMediaStream','Subject','Index','handleDisconnect','removeItem','removeListener','bytesSent','clearConnectionTimeout','handleSystemEvents','documentParserConnector','MediaStream\x20feature\x20not\x20enabled','propn','internalDownloadDocument','Invalid\x20value.\x20Property\x20\x27','RestartNeedMediaStream','problemType','FetchUrl','external-storage-connection-already-exists','Remote\x20MediaStream\x20already\x20exists','Cannot\x20find\x20External\x20Storage\x20connection:\x20','String','retrieveBlocks','appendTransaction','listener','User','Object\x20store\x20is\x20not\x20in\x20sync','loadLocalContent','Bid','ConnectionNotinitialized','unregisterCluster','Boolean','Setting\x20context\x20for\x20custom\x20skill\x20block','packetsReceived','headers','syncResolve','SentenceSplitter','\x27\x20to\x20','bufferedEvents','kind','JobWorkerCreationFailed','addMessage','initializeApp','dataStores','answerContentAvailable','getDTVolatility','request-file-sync','Backgrounds','incomingTopic','Missing\x20graph\x20database\x20connector','ratePrompt','ObjectStore','open','type','ObjectStoreAlreadyExists','indexes','\x20new\x20transactions','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','hasRemoteNode','forceLog','handleSubscriptionProvideMediaStream','addIssue','Database\x20not\x20open','tokens','Router','Optimization','/capacities','Opened\x20vector\x20database','/nodes/','Add','loadExternalContent','Jobs','string','dt_volatility','isReady','setProviderId','fps','waitAsync','SHA-1','Received\x20track','Job\x20','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','`\x0a\x0a','GenerativeAIWorkerCreationFailed','.cfg','GraphDatabaseMissingConnector','isConnected','newPath','GenerativeAIRatingStatus','AppSync\x20connection\x20not\x20ready','WorkflowDoesNotExist','getReport','externalStorageConnectors','updateJob','isIceCandidate','videoWidth','MistletCapacityReportNotSet','getGenerativeAIWorkers','420235181083','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','jobQueue','Count','transactionIds','JobWorker:\x20Sending\x20job\x20bid','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','limitToFirst','log','Consuming\x20buffered\x20event','maxDistance','interval','pub-sub-topic-already-exists','connection-not-connected','retryCount','supported','storage','NodeAlreadyExist','publishSyncCompleted','destroy','getSkills','Table\x20not\x20found','Invalid\x20data\x20channel.','parseWorkflowDocument','Execute\x20skill\x20','RequestAccepted','unsubscribeHandler','enabled','Key-value\x20database\x20transaction\x20value\x20not\x20set.','image','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','layout','skill','getSubscriptionInfo','object-store-stream-does-not-exist','.rs','.tpl','createDataChannel','checkAudioContext','Support:\x20current\x20config','lastProcessRank','model','PubSubTopicNameNotString','events','accumulateResult','answerJoin','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','syncKeyValueDatabase','workflow','__esModule','clearSyncTimeout','reads','local-media-stream-track-fail','forEach','success','map','action','generateClient','ended','InvalidAccess','waitSendBuffer','startIndex','temperature','getRank','targetId','Query\x20must\x20refer\x20to\x20the\x20file\x20table','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','Error\x20encountered\x20while\x20opening\x20database','emit','Workflow\x20does\x20not\x20exist.','RemoteRemove','Invalid\x20subscription.','isLoaded','split','agent-skill','AudioContext\x20is\x20not\x20available','application/octet-stream','setupResizeHandler','Support:\x20','observer','Waiting','key-value-database-table-name-reserved','bufferedChunks','Logging\x20trace','processOutboundReports','bufferedAmount','GenerativeAIModelOutputType','Move','shouldProcessTransaction','job-','endpointMethod','ClusterAlreadyJoined','results','active','Failed\x20to\x20send\x20job\x20','\x20attributed\x20to\x20','collectTransactionsFromNode','setOnTableWriteHandler','getContentType','Operations:','codes','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','2792yQRwZe','Missing\x20external\x20storage\x20connector','initializeLoggingDatabase','CloseKeyValueDatabase','EntityExtractor','GenerativeAIContextDoesNotExist','from','publishFile','applyRemediation','MissingRemoteConnection','JobDispatcherObserverNotFound','getKeyValueDatabase','text/plain','vendorId','createOutgoingSubscription','FeatureNotEnabled','ConnectionNotConnected','text','renderElement','custom-skill','messageListeners','notifyObjectStoreOfNodeLeave','dataBucketIds','providerId','stopNoThrottlingHack','peerConnectionConnector','nextNodeId','sentence-splitter','pubSubTopics','internalContext','registeredListeners','recomputeRoot','mmrRoot','firstValueFrom','content-publish-media','getConnectionType','PartialResult','Jitter','\x20to\x20generate\x20a\x20response.','openGraphDatabase','transactionQueue','remote-media-stream-already-exists','length','notifyCluster','createTopic','CustomSkill','handleContentUnsubscribeMediaStream','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','Search\x20connector\x20not\x20set','aws','hashPeakHashes','Error\x20loading\x20existing\x20content','remoteUnsubscriber','pubsubTopics','stats','getBid','Content','searchEngineId','updateDebounceTimeout','objectStoreConnector','statusText','fileChunks','warning','setReceiverBytes','searchInDataCollection','maxOutgoingSubscriptions','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','removeGraphDatabase','wait-false','Knowledge','/nodes','lastExecuted','bodyParameters','json','addContent','handleFileRequestAnswer','sync','vector-database-creation-failed','retry','createFolder','NodeDoesNotExist','getSTVolatility','authService','job-dispatcher-does-not-exist','processReceivedTransactions','orchestrator','updateUser','remote-stream-does-not-exist','handleTransactionPayload','GenerativeAIContextAlreadyExists','assign','loadEnabledChannels','.erb','externalStores','orderByKey','getAudioVideoDelay','getSimilarity','isComputingMMR','Received\x20event\x20on\x20cluster','retryQueues','onNodeUpdate','onCandidate','GraphDatabaseStats','URL\x20is\x20required','Invalid\x20job\x20worker\x20type.','createGraphDatabase','jobWorkers','value','combinePeaks','AudioVideoDelay','High','left','entity','notifyObjectStoreOfNodeJoin','crewdle-sdk','subscriptionManager','ObjectStore\x20not\x20found','setStatus','pop','Text','instance','receiverCurrentTimestamp','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','openGenerativeAIContext','values','handleObjectDelete','onMessage','token','receiverUnsubscribers','StorageEventType','setOnDisconnectHandler','KeyValueDatabaseInvalidQuery','getJobWorkers','sourceUrl','fileSendingMap','.doc','getOrResetPendingFileTimeout','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','aiSearchApiKey','nlpLibraryConnector','Emitting\x20event\x20on\x20local\x20cluster','getJob','Rating','TestPage','handleNeedRestart','Subscription\x20request\x20failed.','getConfigs','toStringTag','internalRatePrompt','OptimizationConnectionSuccess','remediations','checkWebRTC','\x0a\x0a`Writing\x20file`\x0a\x0a','checksum','Agent','external-storage-connection-does-not-exist','checkWebGL','vector-database-name-not-string','Mistlet\x20capacity\x20report\x20not\x20set.','SenderPeerConnection.send','enumerateDevices','isOffer','pendingSyncTransactions','runTransaction','getProviderId','getSettings','ceil','ReceiverPeerConnection.onMessage','JobWorkerDoesNotExist','keyValueDatabaseConnector','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','Offline','evaluateBidsAndAttributeJob','docs','notifyClusterNodeUpdate','canAddCandidates','element','createMediaStreamDestination','\x20received\x20partial\x20result:','nodeId','Object\x20store\x20not\x20synced.','instructions','\x0aAdditional\x20data:\x20','delete','cluster-leave','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','getClosestNodes','key-value-database-already-exists','getMediaSubscription','JobWorker:\x20Received\x20job','rate','isSubscribed','totalDecodeTime','\x20with\x20\x27','MediaStreamPriority','contentQueueRunning','getRemoteConnections','inactive','Database\x20already\x20exists','syncedFileExists','sendTransactionsValue','getLocalNode','once','currentDistance','Restart','asyncEndpointUrl','recipients','notifyJoin','mediaUnsubscribers','1.0.24','handshakeCandidates','replace','Data','.djt','receiverPreviousBytes','AppSync\x20subscribe','Internal\x20unknown\x20error:\x20','PubSubTopicDoesNotExist','minConnections','handleProblem','JobStatus','addAudioTrack','signInWithCredential','comparePeaks','addReservedTables','Opened\x20graph\x20database','KeyValueDatabase\x20-\x20Sync\x20completed','Write\x20text\x20data\x20to\x20a\x20file.','getContent','DeviceConfig','peakHeights','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','internalProcessJob','graph-database','has','clearRestartTimeout','createMediaStreamSource','handleNodeJoin','.pug','hashNodes','node','remediationManager','updateLastUpdated','serverTimestamp','setupStatsCollection','setInterval','clearWaitAnswer','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','params','detectionManager','offset','getDataLogged','set','VectorDatabase','RoundTripTime','outgoingManager','Cannot\x20publish\x20file:\x20','request-file','getTable','getPartsFromSubscription','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','Everyone\x20','generative-ai-context-already-exists','snippet','handshakeState','Missing\x20owner\x20node\x20or\x20rank','CanProvideMediaStream','firestore','handlePeerConnectionSystemEvents','.vue','modelStorageBuckets','Job\x20service\x20job\x20not\x20found.','Update','/transactions','DataStream','internalProcessJobStream','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','GraphDatabaseNameNotString','Processing\x20agent\x20block:\x20','Generative\x20AI\x20context\x20job\x20already\x20consumed.','generative-ai-context-does-not-exist','Agent\x20group\x20not\x20found','File','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','loggingCycle','sdk-internal-error:\x20','NodeTypeRequired','Entity','getTransactionFromTableWriteEvent','subscribeToExternalContent','createAIJob','clusters','JobWorker:\x20Received\x20job\x20attribution','Model','Generative\x20AI\x20context\x20job\x20failed.','lastClockUpdate','Job\x20Worker\x20does\x20not\x20exist','compareTransactions','registerSubscriber','Error\x20stringifying\x20object','isOpened','getInstance','createPubSubTopic','clusterId','cpu.fps','Error\x20executing\x20code','handleSubscriptionRestartNeedMediaStream','sender','clear','disconnect','unregisterDestination','notifyClusterNodeJoin','some','New\x20MMR\x20Root:\x20','getJobDispatchers','auth','sendTransactionsValue\x20-\x20value\x20not\x20found','publishMove','setPendingFileSyncingPayload','getWorkflowModels','startHeartbeat','node-invalid-type','en-US','play','handleRequestPayload','publish','getLastUpdated','@root','SubscribeMediaStream','rebuildMMR','logDataSent','Store\x20already\x20exists','Pending','NodeType','\x0a\x20===\x20Total\x20Nodes:','processTransactionsToComputeMMR','nodesConnected','waitSuccess','internal','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','systemMessages','logServiceEvent','isRunning','Invalid\x20where\x20clause','endpointUrl','pendingHandshakeCandidates','SearchGoogle','closeTopic','sendStats','PromptRating','getMaxDistance','.jl','CloseJobDispatcher','removeContent','roundTripTime','processPendingHandshakeCandidates','setReceiverTimestamp','output','checkSyncComplete','chooseAnswer','isFailedResponse','\x20for\x20','/logs','Pool','WorkflowTrace','lastCapacityReport','Issue\x20detected:\x20','\x20not\x20supported','FPS','isWhereBetween','invalid-subscription','addVideoTrack','onValue','email','modelName','JobDispatcherInvalidJobType','objectStorageBuckets','checkBackgrounds','CannotProvideMediaStream','Node','Invalid\x20query','Job\x20Dispatcher\x20already\x20exists','threshold','width','createGain','\x20must\x20be\x20a\x20number','sendAction','Medium','mediaStream','buildQuery','Completed','search','Bitrate','.go','history','.pptx','Agent\x20block\x20is\x20missing\x20required\x20data','ready','Workflow\x20not\x20initialized','root\x20::=\x20\x22true\x22\x20|\x20\x22false\x22','authContext','Channel\x20\x27','add','GenerativeAIContextJobTimeout','FileMove','providerListener','mediator','streams','key-value-database-does-not-exist','trackEndedListeners','setBytes','removeTrackCallback','setupTrackEndedListeners','Publish\x20the\x20transaction','executeQuery','getExternalStorageConnection','downloadDocument','mmr','join','hasTracks','availableTrackKinds','endpoint','jobObservers','addNode','tables','appsync-disconnect','getReceiverBitrate','destinationIds','closed','true','Node\x20already\x20exists.','packetsLost','prompt','Setting\x20context\x20for\x20answer\x20block','handleCloseContent','decodeJWT','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','JobDispatcherAlreadyExists','startTime','previousTimestamp','attributes','Invalid\x20object\x20store\x20sync\x20message.','Error\x20executing\x20agent','readyDebounce','collectionId','calculateArrayBufferSize','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','.xls','GenerativeAIContextJobFailed','move','GraphDatabase','computeHash','cpu.av_delay','Internal\x20SDK\x20error:\x20','Outgoing','unpublish','user','ConnectionBufferNotEmpty','removeRemoteStreamSubscription','getWorkflowObjectStorageBuckets','object','Cluster','stringify','\x27\x20reserved','\x20is\x20required','waitConnected','Resolution','if_else','graphDatabases','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','node-not-authenticated','encode','processJobStream','Signaling','AudioOutput','crewdle-sdk-logging-','handleNodeJoinNeedPublishedStream','every','functionsRegion','FolderCreate','syncFolder','getRoot','WaitFalse','handleContentCloseMediaStream','sendIceCandidates','batchSize','JobDispatcherJobNotFound','canProvideResolution','.html','1075823eLMSkk','detectProblems','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','stopTracing','mistlet-capacity-report-not-set','isInternalSDKConfigs','crewdle-sdk-stg.firebaseapp.com','publishTransaction','findNewMediaSubscription','connectorConstructor','crewdle-sdk-stg','onUnregisterPublisher','setEncodingParameters','ConnectionState','PeerConnectionInvalidDestination','buildInitialMMR','deployedVersion','indexOf','DataChannel\x20is\x20not\x20initialized.','ExternalStorageUpload','asc','Data\x20Sent','handleLocalTrackFailure','GraphDatabaseCreationFailed','addConnection','unregisterRemoteNode','WordSplitter','VectorDatabaseCreationFailed','File\x20sending\x20interrupted','.pdf','writeBatch','toString','.crewdle-layout','collectStats','appsync-statechange','generative-ai-context-invalid-partial-result','orderBy','PublishMediaStream','getTrackFromParam','tracks','setupRenderElement','topK','key-value-database-transaction-table-not-initialized','syncTransactionsWritten','connector','key-value-database-name-not-string','framesDecoded','clusterEventEmitter','external-storage-upload','models','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','Transaction','KeyValueDatabaseRequestPeakTransactions','validateQuery','batch','streamId','ExternalStorageConnectionAlreadySubscribed','getExternalStorageConnections','createIncomingSubscription','getAncestorIds','lastHeartbeat','transactionHashMap','word-splitter','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','registerSource','Failed','updateLastTransactionId','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','getRemoteNodes','vectors','Code','event','CPUCycle','checkExistingPendingFileContent','logWaitTime','clockSkew','executeAgent','ConnectionInvalidDataEvent','.yml','Error','function','Error\x20retrieving\x20context','validateValue','getEmail','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','Prompt\x20block\x20not\x20found','count','verb','getSize','Internal\x20SDK\x20Error:\x20','handleSubscriptionSystemEvents','Buffered\x20chunks\x20are\x20too\x20large','.ex','key-value-database-invalid-query','FROM\x20file','isArray','ner','default','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','RelationExtractor','processLocalReport','ExternalStorageInvalidPath','generative-ai-context-job-failed','minRelevance','addCluster','entities','syncTransactions','setScheduleTime','topicLabel','senderConnection','ContentType','dataUnsubscribers','getConnectionGroup','processDataChannelReport','.json','Missing\x20transaction\x20id','getAuth','Context','support','connectionTimeout','Parameter\x20','isSyncing','NodeManager\x20-\x20NodeLeave','frameTime','handleFolderCreate','MissingSystemTopic','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','Opened\x20external\x20storage\x20connection','onGatheringStateChange','setLocalRank','mediaDevices','contentSize','setDoc','JobWorker:\x20Sending\x20job\x20result','deletePendingFile','processAddContent','splitParts','.gguf','json_arr','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','logging-db-','loggingDb','FolderMove','subscriptionRequestTimeouts','optimizationLayers','answer','logs','job-worker-already-exists','Data\x20Received','PromptFunctionParamsType','slice','handleFileWrite','UnsubscribeMediaStream','Cannot\x20publish\x20folder:\x20','fromEntries','processReports','upgradeTimeout','digest','logSyncMetrics','lastTransactionId','pendingFilesTransactions','openKeyValueDatabase','clearHeartbeat','createGenerativeAIContext','subtle','version','sequence','data-stream','frameHeight','key-value-database','name','Cannot\x20unpublish\x20object:\x20','syncPendingFiles','VectorDatabaseStats','Cannot\x20unpublish\x20object\x20at\x20','dispatchEvent','oidc','onDataChannel','transformations','.hbs','videoHeight','KeyValueDatabaseTableNameReserved','JobDispatcherInvalidPayload','desc','disableIntervalHack','.kt','Missing\x20vector\x20database\x20connector','transactionsToAppend','handleUpdateMediaStream','Cannot\x20publish\x20payload:\x20','maxThreshold','stun:','processInboundReports','write-file','RemoteRemediation','logConnectionState','handleOffer','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','clearSubscriptionRequestTimeout','removeJobDispatcher','queueLength','\x0a\x20===\x20Total\x20Data\x20Received:\x20','call','requestSubscription','KeyValueDatabaseStats','checkAudioOutput','getResolution','cancel','receiverPreviousTimestamp','Error\x20loading\x20external\x20content','Model\x20not\x20found:\x20','KeyValueDatabaseInvalidValue','agent-update','reportCapacity','Accepted','setUpgradeTimeout','distance','\x20sending\x20attempt\x20','packets','remoteNodes','payload','Generative\x20AI\x20context\x20creation\x20failed.','GenerativeAIContextJobAlreadyConsumed','WebScraper','commitType','handleDetectionSystemEvents','complete','\x20seconds','createGenerativeAIWorker','getObjectStoreBucket','WorkflowInvalidBlockType','Attribution','inbound-rtp','arrayBufferToObject','not-in','firebase-connect','wait','transactionService','WriteFile','Error\x20processing\x20ingest','publishLocalMediaStream','file-upload','InvalidSubscriber','DataStream\x20onMessage','enabledChannels','KeyValueDatabaseTransactionTableNotInitialized','Send\x20request','job-worker-invalid-type','debug','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','invalid-access','getSupportedContentTypes','race','removeOutgoingSubscription','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','deleteFileChunks','currentFrames','cost','DocumentParser','cpu.cycle','graph-database-already-exists','minResolutionScale','send','AudioContext','setEmail','channel','trackKinds','dataTopics','aiSearchConnector','join-cluster','shouldContinuePropagation','GenerativeAIContextInvalidPartialResult','path','getDatabase','onTrack','pendingFilesRename','ClosePubSubTopic','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','catch','Execute\x20the\x20agent\x20','\x0a\x20===\x20Synchronization\x20Time:\x20','streamLabel','User\x20not\x20signed\x20in','messageCallback','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','\x0a\x0a</','getUserMedia','Text\x20is\x20required','iceServers','commit','transactionTable','ExecuteCustomSkill','messagesSent','job-dispatcher-observer-not-found','successNotified','processList','Recording','unregisterSubscriber','gatheringState','tableLayout','getKeyValueDatabases','Sending\x20\x27','leave','pool','FileWrite','connections','onConfigurationChange','ObjectKind','absolutePathName','getDocs','Remote\x20connection\x20already\x20exists.','localId','discoveryUnsubscriber','KeyValueDatabaseAlreadyExists','SystemTopic\x20publish','\x20completed.','external-storage-name-not-string','getDoc','senderTimeProcessing','clearWaitSuccess','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','job-dispatcher-already-exists','checkDeviceConfig','createWritableStream','NeedMediaStream','filter','responseTimeout','insert','JobWorker:\x20Sending\x20job\x20reject','systemTopicUnsubscribe','ObjectStoreCannotWriteTransaction','handleSubscriptionSubscribeMediaStream','setPriority','.exs','\x20were\x20ready\x20in','AiSearch','arrayBuffer','peaks','job-dispatcher-invalid-job-type','buildTableEvent','messages','Connection','Received\x20','Error\x20resolving\x20readyPromises:','localMediaStreams','dbKey','evaluatePartialJob','senderCurrentTimestamp','modelStore','Result','table','outputTokens','1759340blrQnV','logRaw'];a0_0x41e8=function(){return _0x122fe0;};return a0_0x41e8();}function a0_0x5279(_0x3642de,_0xadd66c){const _0x41e8a7=a0_0x41e8();return a0_0x5279=function(_0x527923,_0x54a2b1){_0x527923=_0x527923-0x181;let _0x5a3e7a=_0x41e8a7[_0x527923];return _0x5a3e7a;},a0_0x5279(_0x3642de,_0xadd66c);}(function(_0x798aec,_0x4bef33){const _0x22e373=a0_0x5279,_0x5d8126=_0x798aec();while(!![]){try{const _0x12734a=parseInt(_0x22e373(0x20e))/0x1+-parseInt(_0x22e373(0x1c8))/0x2*(-parseInt(_0x22e373(0x395))/0x3)+-parseInt(_0x22e373(0x311))/0x4+parseInt(_0x22e373(0x489))/0x5+parseInt(_0x22e373(0x406))/0x6*(-parseInt(_0x22e373(0x81c))/0x7)+parseInt(_0x22e373(0x633))/0x8*(-parseInt(_0x22e373(0x36d))/0x9)+parseInt(_0x22e373(0x97d))/0xa;if(_0x12734a===_0x4bef33)break;else _0x5d8126['push'](_0x5d8126['shift']());}catch(_0x3bfc3c){_0x5d8126['push'](_0x5d8126['shift']());}}}(a0_0x41e8,0x1a87f),!function(_0x2160cb,_0x4d1e3d){const _0x7b4b0c=a0_0x5279;if('object'==typeof exports&&_0x7b4b0c(0x7ff)==typeof module)module[_0x7b4b0c(0x556)]=_0x4d1e3d();else{if(_0x7b4b0c(0x86c)==typeof define&&define['amd'])define([],_0x4d1e3d);else{var _0x59a9f3=_0x4d1e3d();for(var _0x5d516e in _0x59a9f3)(_0x7b4b0c(0x7ff)==typeof exports?exports:_0x2160cb)[_0x5d516e]=_0x59a9f3[_0x5d516e];}}}(this,()=>((()=>{'use strict';const _0x332466=a0_0x5279;var _0x12fca3={0x14d:(_0x4e2b01,_0x10fbe1,_0x1ab688)=>{const _0x545dc4=a0_0x5279;_0x1ab688['d'](_0x10fbe1,{'O':()=>_0x2745f2});const _0x2745f2={'version':_0x545dc4(0x477),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x545dc4(0x564),'authDomain':_0x545dc4(0x822),'databaseURL':_0x545dc4(0x95d),'projectId':_0x545dc4(0x826),'storageBucket':_0x545dc4(0x1b7),'appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':_0x545dc4(0x1e5)},'google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':_0x545dc4(0x71a),'region':_0x545dc4(0x248)}};},0x33b:(_0x141fc1,_0x31513a,_0x2fbe84)=>{_0x2fbe84['d'](_0x31513a,{'O':()=>_0x2d5e61});const _0x2d5e61={};},0x3e6:(_0x2f5da4,_0x3f8f5e,_0x4e0e66)=>{const _0x5582c6=a0_0x5279;_0x4e0e66['d'](_0x3f8f5e,{'O':()=>_0x4f67cc});const _0x4f67cc={'version':_0x5582c6(0x704),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x5582c6(0x632),'authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':_0x5582c6(0x226),'projectId':_0x5582c6(0x6a5),'storageBucket':_0x5582c6(0x47d),'messagingSenderId':_0x5582c6(0x5cd),'appId':'1:420235181083:web:4eff6062bd845cb0748cbe','measurementId':'G-F7W8KXRKQB'},'aws':{'endpoint':_0x5582c6(0x89a),'region':_0x5582c6(0x248)}};},0x20:(_0x27c77e,_0x35f07a,_0x538f7d)=>{_0x538f7d['d'](_0x35f07a,{'O':()=>_0x1defcb});const _0x1defcb={};}},_0x377b26={};function _0x9e5805(_0x26aa21){const _0xbc1629=a0_0x5279;var _0x57d7b9=_0x377b26[_0x26aa21];if(void 0x0!==_0x57d7b9)return _0x57d7b9[_0xbc1629(0x556)];var _0x19ebf8=_0x377b26[_0x26aa21]={'exports':{}};return _0x12fca3[_0x26aa21](_0x19ebf8,_0x19ebf8['exports'],_0x9e5805),_0x19ebf8[_0xbc1629(0x556)];}_0x9e5805['d']=(_0xe782ea,_0x46da1f)=>{const _0x5d13cb=a0_0x5279;for(var _0x18a241 in _0x46da1f)_0x9e5805['o'](_0x46da1f,_0x18a241)&&!_0x9e5805['o'](_0xe782ea,_0x18a241)&&Object[_0x5d13cb(0x18e)](_0xe782ea,_0x18a241,{'enumerable':!0x0,'get':_0x46da1f[_0x18a241]});},_0x9e5805['g']=(function(){const _0x197e07=a0_0x5279;if(_0x197e07(0x7ff)==typeof globalThis)return globalThis;try{return this||new Function(_0x197e07(0x404))();}catch(_0x44ecc4){if(_0x197e07(0x7ff)==typeof window)return window;}}()),_0x9e5805['o']=(_0x2bd616,_0x32c254)=>Object[_0x332466(0x9c0)][_0x332466(0x2e3)][_0x332466(0x8e6)](_0x2bd616,_0x32c254),_0x9e5805['r']=_0x556fb7=>{const _0x11d60c=_0x332466;_0x11d60c(0xa7f)!=typeof Symbol&&Symbol[_0x11d60c(0x6c6)]&&Object[_0x11d60c(0x18e)](_0x556fb7,Symbol['toStringTag'],{'value':'Module'}),Object['defineProperty'](_0x556fb7,_0x11d60c(0x5fe),{'value':!0x0});};var _0x198729,_0x80219b,_0xebc42c,_0x2b9a50={};_0x9e5805['r'](_0x2b9a50),_0x9e5805['d'](_0x2b9a50,{'KeyValueDatabase':()=>_0x5ed1a3,'LayoutBuilder':()=>_0x318f60,'LoggingChannels':()=>_0xebc42c,'QueryBuilder':()=>_0x25b6c1,'SDK':()=>_0x42da0d,'SDKClientErrorCodes':()=>_0x198729,'TableBuilder':()=>_0x4c2f5c,'logger':()=>_0x833509}),function(_0x5444d3){const _0x439c6a=_0x332466;_0x5444d3[_0x439c6a(0x7fc)]='connection-buffer-not-empty',_0x5444d3[_0x439c6a(0x628)]=_0x439c6a(0xa9d),_0x5444d3[_0x439c6a(0x4fb)]=_0x439c6a(0x57d),_0x5444d3[_0x439c6a(0x854)]='external-storage-connection-already-subscribed',_0x5444d3[_0x439c6a(0x21d)]=_0x439c6a(0x6ce),_0x5444d3[_0x439c6a(0x511)]='external-storage-connectors-missing',_0x5444d3[_0x439c6a(0x881)]=_0x439c6a(0x1d1),_0x5444d3[_0x439c6a(0x563)]=_0x439c6a(0x958),_0x5444d3['FeatureNotEnabled']=_0x439c6a(0x41c),_0x5444d3[_0x439c6a(0x68c)]=_0x439c6a(0x739),_0x5444d3[_0x439c6a(0x638)]=_0x439c6a(0x74b),_0x5444d3['GenerativeAIContextJobMissingThreadId']='generative-ai-context-job-missing-thread-id',_0x5444d3[_0x439c6a(0x54c)]=_0x439c6a(0x433),_0x5444d3[_0x439c6a(0x9f1)]=_0x439c6a(0x20a),_0x5444d3[_0x439c6a(0x35b)]='generative-ai-worker-missing-connector',_0x5444d3[_0x439c6a(0x191)]=_0x439c6a(0x493),_0x5444d3['GraphDatabaseAlreadyExists']=_0x439c6a(0x920),_0x5444d3['GraphDatabaseDoesNotExist']=_0x439c6a(0x482),_0x5444d3['GraphDatabaseMissingConnector']=_0x439c6a(0xaca),_0x5444d3[_0x439c6a(0x748)]='graph-database-name-not-string',_0x5444d3[_0x439c6a(0x7e8)]=_0x439c6a(0x95e),_0x5444d3[_0x439c6a(0x297)]=_0x439c6a(0x686),_0x5444d3[_0x439c6a(0x4a2)]=_0x439c6a(0x26a),_0x5444d3['JobDispatcherJobNotFound']=_0x439c6a(0x2eb),_0x5444d3[_0x439c6a(0x7aa)]=_0x439c6a(0x96f),_0x5444d3['JobWorkerAlreadyExists']=_0x439c6a(0x8af),_0x5444d3['JobWorkerDoesNotExist']='job-worker-does-not-exist',_0x5444d3[_0x439c6a(0x5a1)]=_0x439c6a(0x38d),_0x5444d3['ObjectStoreAlreadySubscribed']='object-store-already-subscribed',_0x5444d3[_0x439c6a(0x1bf)]=_0x439c6a(0x5ef),_0x5444d3[_0x439c6a(0x3ee)]=_0x439c6a(0x2fb),_0x5444d3['ObjectStoreInvalidPayload']='object-store-invalid-payload',_0x5444d3[_0x439c6a(0x2af)]=_0x439c6a(0xa77),_0x5444d3['ObjectStoreNotInSync']='object-store-not-in-sync',_0x5444d3[_0x439c6a(0xa01)]=_0x439c6a(0xa40),_0x5444d3[_0x439c6a(0x608)]=_0x439c6a(0x916),_0x5444d3[_0x439c6a(0x955)]=_0x439c6a(0x6ee),_0x5444d3[_0x439c6a(0x3fb)]=_0x439c6a(0x7cb),_0x5444d3[_0x439c6a(0xa83)]='key-value-database-index-not-found',_0x5444d3[_0x439c6a(0x6b6)]=_0x439c6a(0x879),_0x5444d3[_0x439c6a(0x8ef)]='key-value-database-invalid-value',_0x5444d3[_0x439c6a(0x25d)]=_0x439c6a(0x849),_0x5444d3['KeyValueDatabaseNotOpen']=_0x439c6a(0x3e3),_0x5444d3['KeyValueDatabaseTableNameReserved']=_0x439c6a(0x61e),_0x5444d3['KeyValueDatabaseTableNotFound']='key-value-database-table-not-found',_0x5444d3[_0x439c6a(0x268)]=_0x439c6a(0x39a),_0x5444d3[_0x439c6a(0xa05)]=_0x439c6a(0x54b),_0x5444d3[_0x439c6a(0x37b)]='local-media-stream-no-audio-context',_0x5444d3[_0x439c6a(0xa5c)]=_0x439c6a(0x5d9),_0x5444d3[_0x439c6a(0x70c)]=_0x439c6a(0x528),_0x5444d3[_0x439c6a(0x5f7)]='pub-sub-topic-name-not-string',_0x5444d3['PubSubTopicAlreadySubscribed']='pub-sub-topic-already-subscribed',_0x5444d3[_0x439c6a(0x2b9)]='query-helper-invalid-argument',_0x5444d3[_0x439c6a(0x3fc)]=_0x439c6a(0x65c),_0x5444d3[_0x439c6a(0x443)]=_0x439c6a(0x4a9),_0x5444d3['SubscriptionRequestInProgress']=_0x439c6a(0xa6e),_0x5444d3['NodeNotAuthenticated']=_0x439c6a(0x809),_0x5444d3[_0x439c6a(0x341)]=_0x439c6a(0x774),_0x5444d3[_0x439c6a(0x330)]='node-type-not-supported',_0x5444d3[_0x439c6a(0x751)]=_0x439c6a(0x373),_0x5444d3[_0x439c6a(0x222)]=_0x439c6a(0x2e1),_0x5444d3[_0x439c6a(0x4e5)]='vector-database-does-not-exist',_0x5444d3[_0x439c6a(0x240)]='vector-database-missing-connector',_0x5444d3[_0x439c6a(0x549)]=_0x439c6a(0x6d0);}(_0x198729||(_0x198729={}));class _0x212143 extends Error{['code'];constructor(_0x8b5ab0,_0x2f8eae){const _0xa5f4fe=_0x332466;super(_0x2f8eae),this[_0xa5f4fe(0xaae)]=_0x8b5ab0;}}!function(_0x4468b1){const _0x39c544=_0x332466;_0x4468b1[_0x39c544(0xa8a)]=_0x39c544(0x3c1),_0x4468b1[_0x39c544(0x302)]=_0x39c544(0x352),_0x4468b1[_0x39c544(0x3c4)]=_0x39c544(0x8c5),_0x4468b1[_0x39c544(0x730)]=_0x39c544(0x98d),_0x4468b1[_0x39c544(0x7f5)]=_0x39c544(0x71c),_0x4468b1[_0x39c544(0x4b7)]='external-storage',_0x4468b1[_0x39c544(0xae2)]='media-stream',_0x4468b1[_0x39c544(0x300)]=_0x39c544(0xad7);}(_0x80219b||(_0x80219b={})),function(_0x1a4fba){const _0x50676a=_0x332466;_0x1a4fba[_0x50676a(0x329)]='all',_0x1a4fba[_0x50676a(0x23d)]=_0x50676a(0x87d),_0x1a4fba[_0x50676a(0x972)]=_0x50676a(0x1ef),_0x1a4fba['ConnectionState']=_0x50676a(0x4cc),_0x1a4fba[_0x50676a(0x800)]=_0x50676a(0x283),_0x1a4fba[_0x50676a(0x66b)]='content',_0x1a4fba[_0x50676a(0x745)]=_0x50676a(0x8c3),_0x1a4fba['Detection']='detection',_0x1a4fba[_0x50676a(0xa4b)]=_0x50676a(0x5f8),_0x1a4fba[_0x50676a(0x86b)]=_0x50676a(0x998),_0x1a4fba[_0x50676a(0x5b2)]='jobs',_0x1a4fba[_0x50676a(0x3c4)]=_0x50676a(0x8c5),_0x1a4fba[_0x50676a(0x7ae)]=_0x50676a(0x723),_0x1a4fba[_0x50676a(0x79e)]=_0x50676a(0x94b),_0x1a4fba['PubSub']='pubsub',_0x1a4fba[_0x50676a(0xa11)]=_0x50676a(0xad5),_0x1a4fba[_0x50676a(0x47a)]='remediation',_0x1a4fba[_0x50676a(0x555)]=_0x50676a(0xacd),_0x1a4fba[_0x50676a(0x80c)]='signaling',_0x1a4fba[_0x50676a(0x9d0)]=_0x50676a(0x669),_0x1a4fba['Subscription']=_0x50676a(0x9e1),_0x1a4fba[_0x50676a(0x1f4)]=_0x50676a(0x892),_0x1a4fba[_0x50676a(0x2e4)]=_0x50676a(0x51b),_0x1a4fba[_0x50676a(0x3c5)]=_0x50676a(0x360),_0x1a4fba[_0x50676a(0x6c2)]=_0x50676a(0x4f8),_0x1a4fba[_0x50676a(0x338)]=_0x50676a(0xa43);}(_0xebc42c||(_0xebc42c={}));const _0x57c18a=require('@crewdle/web-sdk-types');class _0x25b6c1{['query'];constructor(_0x53ab46){const _0x2108dd=_0x332466;this['query']={'orderBy':{'key':_0x53ab46,'direction':_0x2108dd(0x830)}};}static[_0x332466(0x288)](_0x41fc11){const _0x5e28c0=_0x332466;if(_0x5e28c0(0x5b3)!=typeof _0x41fc11||0x0===_0x41fc11['length'])throw new _0x212143(_0x198729[_0x5e28c0(0x2b9)],_0x5e28c0(0x60f));return new _0x25b6c1(_0x41fc11);}static[_0x332466(0x851)](_0x7dcaf9){try{return _0x25b6c1['buildQuery'](_0x7dcaf9),!0x0;}catch(_0x3b39ab){return!0x1;}}static['buildQuery'](_0x214ead){const _0x5dcd6f=_0x332466,_0x396fcb=_0x25b6c1[_0x5dcd6f(0x288)](_0x214ead[_0x5dcd6f(0x840)]?.['key']??_0x214ead['where']?.[_0x5dcd6f(0x278)]??'');if(_0x214ead[_0x5dcd6f(0x32c)]){const _0x32fca9=_0x214ead[_0x5dcd6f(0x32c)];if((_0x25b6c1[_0x5dcd6f(0x368)](_0x32fca9)||_0x25b6c1[_0x5dcd6f(0x28b)](_0x32fca9)||_0x25b6c1[_0x5dcd6f(0x7a4)](_0x32fca9))&&_0x396fcb[_0x5dcd6f(0x32c)](_0x32fca9[_0x5dcd6f(0x35d)],_0x32fca9[_0x5dcd6f(0x69e)]),_0x214ead[_0x5dcd6f(0x840)]?.[_0x5dcd6f(0x278)]&&_0x214ead['orderBy']?.['key']!==_0x214ead['where'][_0x5dcd6f(0x278)])throw new _0x212143(_0x198729[_0x5dcd6f(0x2b9)],_0x5dcd6f(0x2a9));}return _0x214ead[_0x5dcd6f(0x840)]&&_0x396fcb[_0x5dcd6f(0x840)](_0x214ead[_0x5dcd6f(0x840)][_0x5dcd6f(0x1d6)]),_0x214ead[_0x5dcd6f(0x459)]&&_0x396fcb['limit'](_0x214ead[_0x5dcd6f(0x459)]),_0x214ead['offset']&&_0x396fcb[_0x5dcd6f(0x72d)](_0x214ead['offset']),_0x396fcb;}[_0x332466(0xac6)](){return{...this['query']};}[_0x332466(0x32c)](_0x4c4065,_0x1db57a){const _0x34412b=_0x332466,_0x46150a={'key':this['query'][_0x34412b(0x840)][_0x34412b(0x278)],'operator':_0x4c4065,'value':_0x1db57a};if(!_0x25b6c1[_0x34412b(0x368)](_0x46150a)&&!_0x25b6c1[_0x34412b(0x28b)](_0x46150a)&&!_0x25b6c1[_0x34412b(0x7a4)](_0x46150a))throw new _0x212143(_0x198729[_0x34412b(0x2b9)],_0x34412b(0x78a));return this[_0x34412b(0x508)][_0x34412b(0x32c)]=_0x46150a,this;}[_0x332466(0x840)](_0x1c541a){const _0x528af5=_0x332466;if(_0x528af5(0x830)!==_0x1c541a&&_0x528af5(0x8d3)!==_0x1c541a)throw new _0x212143(_0x198729['QueryBuilderInvalidArgument'],_0x528af5(0x74e));return this[_0x528af5(0x508)]['orderBy'][_0x528af5(0x1d6)]=_0x1c541a,this;}[_0x332466(0x459)](_0x5dab0d){const _0x1fc95f=_0x332466;if(_0x1fc95f(0x4c3)!=typeof _0x5dab0d||_0x5dab0d<0x0)throw new _0x212143(_0x198729[_0x1fc95f(0x2b9)],_0x1fc95f(0x19f));return this[_0x1fc95f(0x508)]['limit']=_0x5dab0d,this;}[_0x332466(0x72d)](_0x4c6aaf){const _0x65dffb=_0x332466;if(_0x65dffb(0x4c3)!=typeof _0x4c6aaf||_0x4c6aaf<0x0)throw new _0x212143(_0x198729[_0x65dffb(0x2b9)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x65dffb(0x508)][_0x65dffb(0x72d)]=_0x4c6aaf,this;}static['isWhereValue'](_0x301057){const _0x1427ca=_0x332466;if(!(_0x301057&&_0x1427ca(0x7ff)==typeof _0x301057&&_0x1427ca(0x35d)in _0x301057&&'value'in _0x301057))return!0x1;const {operator:_0x227284,value:_0x3fa03f}=_0x301057;return!(!['==','!=','>','<','<=','>='][_0x1427ca(0x988)](_0x227284)||Array[_0x1427ca(0x87b)](_0x3fa03f));}static['isWhereValues'](_0x27f539){const _0x28e0cb=_0x332466;if(!(_0x27f539&&'object'==typeof _0x27f539&&_0x28e0cb(0x35d)in _0x27f539&&_0x28e0cb(0x69e)in _0x27f539))return!0x1;const {operator:_0x337388,value:_0xbf0476}=_0x27f539;return!(!['in',_0x28e0cb(0x906)][_0x28e0cb(0x988)](_0x337388)||!Array['isArray'](_0xbf0476));}static['isWhereBetween'](_0x3ef004){const _0x4e0ffe=_0x332466;if(!(_0x3ef004&&_0x4e0ffe(0x7ff)==typeof _0x3ef004&&_0x4e0ffe(0x35d)in _0x3ef004&&_0x4e0ffe(0x69e)in _0x3ef004))return!0x1;const {operator:_0x14b3b7,value:_0x2a86bf}=_0x3ef004;return!(_0x4e0ffe(0xa69)!==_0x14b3b7||!Array[_0x4e0ffe(0x87b)](_0x2a86bf)||0x2!==_0x2a86bf[_0x4e0ffe(0x65d)]);}}class _0x318f60{[_0x332466(0x5ec)];constructor(_0x57190c){const _0x4cf23f=_0x332466;this[_0x4cf23f(0x5ec)]={'tables':{},'version':_0x57190c};}static['validateLayout'](_0x14d078){const _0x35edc7=_0x332466;for(const _0x258e69 in _0x14d078){if(_0x35edc7(0x8c1)!==_0x258e69&&'tables'!==_0x258e69)return[!0x1,'Invalid\x20key\x20\x27'+_0x258e69+'\x27\x20in\x20layout'];if(_0x35edc7(0x7db)===_0x258e69)for(const _0x16e371 in _0x14d078[_0x35edc7(0x7db)]){if(_0x35edc7(0x5b3)!=typeof _0x16e371)return[!0x1,_0x35edc7(0xa63)+_0x16e371+'\x27'];for(const _0x58f634 in _0x14d078['tables'][_0x16e371]){if('indexes'!==_0x58f634)return[!0x1,_0x35edc7(0x3d1)+_0x58f634+'\x27\x20in\x20table\x20\x27'+_0x16e371+'\x27'];const _0x5b1163=_0x14d078[_0x35edc7(0x7db)][_0x16e371][_0x58f634]??[];for(const _0x133512 of _0x5b1163)if(void 0x0===_0x133512['keyPath']||_0x35edc7(0x5b3)!=typeof _0x133512['keyPath'])return[!0x1,_0x35edc7(0x3ad)+_0x16e371+_0x35edc7(0x292)];}}else{if(_0x35edc7(0x8c1)===_0x258e69&&_0x35edc7(0x4c3)!=typeof _0x14d078[_0x258e69])return[!0x1,_0x35edc7(0x987)+_0x14d078[_0x258e69]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,'Valid\x20layout'];}static[_0x332466(0x5ec)](_0x18d731){const _0x5c9b63=_0x332466,_0x510fb1=new _0x318f60(_0x18d731);return _0x510fb1['layout'][_0x5c9b63(0x8c1)]=_0x18d731,_0x510fb1;}[_0x332466(0x97b)](_0x36278a){const _0xffc7e1=_0x332466;return this['layout'][_0xffc7e1(0x7db)][_0x36278a]={},new _0x4c2f5c(this[_0xffc7e1(0x5ec)][_0xffc7e1(0x7db)][_0x36278a]);}[_0x332466(0x407)](){const _0xda3eed=_0x332466;return this[_0xda3eed(0x5ec)];}}class _0x4c2f5c{[_0x332466(0x947)];constructor(_0xb1f33){const _0x45b5bb=_0x332466;this[_0x45b5bb(0x947)]=_0xb1f33;}[_0x332466(0x288)](_0x3c6d87){const _0x3aedf7=_0x332466;return this[_0x3aedf7(0x947)][_0x3aedf7(0x5a2)]=this[_0x3aedf7(0x947)][_0x3aedf7(0x5a2)]??[],this['tableLayout']['indexes'][_0x3aedf7(0x995)]({'keyPath':_0x3c6d87}),this;}}const _0x1507bd=0x40000,_0x3f90c3=0x20000,_0x11318f=0x1388,_0x2bdfc3=_0x332466(0x1f5),_0xfe550e=_0x332466(0xa15),_0x2662bd=_0x332466(0x364),_0x594428=_0x332466(0x83c),_0x4d1cd7=0xdbba0,_0x3150d1=_0x332466(0x8a5),_0x41ab9b=0x61a8,_0x3595af=0x7530,_0x2fb5ff=_0x332466(0x785);var _0x4f1891;!function(_0x11af6f){const _0x6d77e=_0x332466;_0x11af6f['ConnectionNotinitialized']='connection-not-initialized',_0x11af6f[_0x6d77e(0x643)]=_0x6d77e(0x5da),_0x11af6f[_0x6d77e(0xa25)]='connection-no-retry-queue',_0x11af6f['ConnectionInvalidDataEvent']='connection-invalid-data-event',_0x11af6f[_0x6d77e(0x200)]='generative-ai-context-creation-failed',_0x11af6f['GenerativeAIContextInvalidPartialResult']=_0x6d77e(0x83f),_0x11af6f['GenerativeAIContextJobAlreadyConsumed']=_0x6d77e(0x2d4),_0x11af6f['GenerativeAIContextJobFailed']=_0x6d77e(0x882),_0x11af6f[_0x6d77e(0x7c6)]='generative-ai-context-job-timeout',_0x11af6f[_0x6d77e(0x5be)]=_0x6d77e(0x9d3),_0x11af6f[_0x6d77e(0x833)]='graph-database-creation-failed',_0x11af6f[_0x6d77e(0x519)]=_0x6d77e(0x4a8),_0x11af6f[_0x6d77e(0x382)]='invalid-publisher',_0x11af6f[_0x6d77e(0x90e)]=_0x6d77e(0x428),_0x11af6f[_0x6d77e(0x342)]=_0x6d77e(0x7a5),_0x11af6f['JobDispatcherCreationFailed']=_0x6d77e(0xabf),_0x11af6f[_0x6d77e(0x8d2)]='job-dispatcher-invalid-payload',_0x11af6f['JobDispatcherJobNotFound']=_0x6d77e(0x2eb),_0x11af6f[_0x6d77e(0x63d)]=_0x6d77e(0x941),_0x11af6f[_0x6d77e(0x593)]='job-worker-creation-failed',_0x11af6f[_0x6d77e(0xa51)]=_0x6d77e(0x913),_0x11af6f[_0x6d77e(0x49d)]=_0x6d77e(0x19b),_0x11af6f['KeyValueDatabasePeakNotFound']=_0x6d77e(0x316),_0x11af6f[_0x6d77e(0x374)]='key-value-database-table-does-not-exist',_0x11af6f[_0x6d77e(0x911)]=_0x6d77e(0x846),_0x11af6f[_0x6d77e(0x372)]='key-value-database-transaction-value-not-set',_0x11af6f['LocalMediaStreamDoesNotExist']='local-stream-does-not-exist',_0x11af6f[_0x6d77e(0x63c)]='missing-incoming-connection',_0x11af6f['MissingSystemTopic']=_0x6d77e(0x2f9),_0x11af6f[_0x6d77e(0x5cb)]=_0x6d77e(0x820),_0x11af6f[_0x6d77e(0x967)]='object-store-cannot-write-transaction',_0x11af6f[_0x6d77e(0x27b)]=_0x6d77e(0xa0d),_0x11af6f[_0x6d77e(0x333)]='object-store-invalid-sync-message',_0x11af6f[_0x6d77e(0x2b0)]=_0x6d77e(0x2cb),_0x11af6f[_0x6d77e(0x3c2)]=_0x6d77e(0x9eb),_0x11af6f[_0x6d77e(0x2c1)]=_0x6d77e(0x68a),_0x11af6f[_0x6d77e(0x4e8)]=_0x6d77e(0x435),_0x11af6f['RemoteConnectionExists']='remote-connection-exists',_0x11af6f[_0x6d77e(0x4df)]=_0x6d77e(0xa32),_0x11af6f[_0x6d77e(0x1d8)]=_0x6d77e(0x282),_0x11af6f['SubscriptionRequestNoAnswer']=_0x6d77e(0xad6),_0x11af6f[_0x6d77e(0x683)]='node-does-not-exist',_0x11af6f['NodeAlreadyExist']=_0x6d77e(0x4ec),_0x11af6f[_0x6d77e(0x82a)]=_0x6d77e(0x257),_0x11af6f['VectorDatabaseCreationFailed']=_0x6d77e(0x680),_0x11af6f[_0x6d77e(0x5c5)]=_0x6d77e(0xa0a),_0x11af6f[_0x6d77e(0x902)]=_0x6d77e(0x1a1);}(_0x4f1891||(_0x4f1891={}));const _0x3f2e9=new Map([[_0x4f1891['ConnectionNotinitialized'],_0x332466(0x4a0)],[_0x4f1891[_0x332466(0x643)],'Connection\x20not\x20connected.'],[_0x4f1891[_0x332466(0xa25)],_0x332466(0x1a5)],[_0x4f1891['ConnectionInvalidDataEvent'],_0x332466(0x4da)],[_0x4f1891[_0x332466(0x200)],_0x332466(0x8f9)],[_0x4f1891[_0x332466(0x92b)],_0x332466(0x87e)],[_0x4f1891[_0x332466(0x8fa)],_0x332466(0x74a)],[_0x4f1891['GenerativeAIContextJobFailed'],_0x332466(0x759)],[_0x4f1891[_0x332466(0x7c6)],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x4f1891['GenerativeAIWorkerCreationFailed'],_0x332466(0xa46)],[_0x4f1891['GraphDatabaseCreationFailed'],'Graph\x20database\x20creation\x20failed.'],[_0x4f1891['InvalidDataChannel'],_0x332466(0x5e3)],[_0x4f1891[_0x332466(0x382)],_0x332466(0x1ea)],[_0x4f1891[_0x332466(0x90e)],_0x332466(0x9fe)],[_0x4f1891['InvalidSubscription'],_0x332466(0x614)],[_0x4f1891[_0x332466(0x34c)],_0x332466(0x33b)],[_0x4f1891['JobDispatcherInvalidPayload'],'Invalid\x20job\x20service\x20payload.'],[_0x4f1891['JobDispatcherJobNotFound'],_0x332466(0x742)],[_0x4f1891[_0x332466(0x63d)],_0x332466(0x45d)],[_0x4f1891[_0x332466(0x593)],'Job\x20worker\x20creation\x20failed.'],[_0x4f1891[_0x332466(0xa51)],_0x332466(0x69b)],[_0x4f1891[_0x332466(0x49d)],_0x332466(0x2f8)],[_0x4f1891[_0x332466(0xa49)],_0x332466(0x3e8)],[_0x4f1891[_0x332466(0x374)],_0x332466(0xace)],[_0x4f1891['KeyValueDatabaseTransactionTableNotInitialized'],_0x332466(0x91a)],[_0x4f1891[_0x332466(0x372)],_0x332466(0x5e9)],[_0x4f1891['LocalMediaStreamDoesNotExist'],_0x332466(0x9c1)],[_0x4f1891[_0x332466(0x63c)],_0x332466(0x448)],[_0x4f1891['MissingSystemTopic'],_0x332466(0xab8)],[_0x4f1891[_0x332466(0x5cb)],_0x332466(0x6d1)],[_0x4f1891[_0x332466(0x967)],_0x332466(0x41e)],[_0x4f1891['ObjectStoreInvalidSyncMessage'],_0x332466(0x7ec)],[_0x4f1891['ObjectStoreInvalidState'],_0x332466(0x9a4)],[_0x4f1891['ObjectStoreNotSynced'],_0x332466(0x6e7)],[_0x4f1891[_0x332466(0x3c2)],_0x332466(0xa28)],[_0x4f1891[_0x332466(0x2c1)],_0x332466(0xaa7)],[_0x4f1891[_0x332466(0x4e8)],_0x332466(0x1d2)],[_0x4f1891[_0x332466(0x4f7)],_0x332466(0x952)],[_0x4f1891['SubscriptionRequestDoesNotExist'],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x4f1891['SubscriptionRequestFailed'],_0x332466(0x6c4)],[_0x4f1891['SubscriptionRequestNoAnswer'],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x4f1891[_0x332466(0x683)],_0x332466(0xad1)],[_0x4f1891[_0x332466(0x5de)],_0x332466(0x7e1)],[_0x4f1891[_0x332466(0x82a)],_0x332466(0x309)],[_0x4f1891['VectorDatabaseCreationFailed'],_0x332466(0x3b0)],[_0x4f1891[_0x332466(0x5c5)],_0x332466(0x612)],[_0x4f1891['WorkflowInvalidBlockType'],'Invalid\x20workflow\x20block\x20type.']]);class _0x1ba31e extends Error{[_0x332466(0xaae)];static [_0x332466(0x631)]=_0x4f1891;[_0x332466(0x510)];constructor(_0x649513,_0x94d7ca){const _0x51f040=_0x332466;super(_0x51f040(0x875)+_0x649513+':\x20'+_0x3f2e9[_0x51f040(0x4d1)](_0x649513)+_0x51f040(0x6e9)+JSON['stringify'](_0x94d7ca)),this[_0x51f040(0xaae)]=_0x649513,this[_0x51f040(0x510)]=_0x94d7ca||{};}}var _0x5d4388,_0x2425d2,_0x501a74,_0x200500,_0x552c68,_0x1d82fa,_0x2e0616;!function(_0x1441a9){const _0x56c2a8=_0x332466;_0x1441a9[_0x1441a9['CloseGraphDatabase']=0x0]=_0x56c2a8(0x3d8),_0x1441a9[_0x1441a9['CloseJobDispatcher']=0x1]=_0x56c2a8(0x793),_0x1441a9[_0x1441a9['CloseJobWorker']=0x2]=_0x56c2a8(0x3d0),_0x1441a9[_0x1441a9['CloseExternalStorageConnection']=0x3]='CloseExternalStorageConnection',_0x1441a9[_0x1441a9[_0x56c2a8(0x636)]=0x4]=_0x56c2a8(0x636),_0x1441a9[_0x1441a9[_0x56c2a8(0x29a)]=0x5]=_0x56c2a8(0x29a),_0x1441a9[_0x1441a9[_0x56c2a8(0x9db)]=0x6]='CloseObjectStoreBucket',_0x1441a9[_0x1441a9[_0x56c2a8(0x930)]=0x7]=_0x56c2a8(0x930),_0x1441a9[_0x1441a9['CloseVectorDatabase']=0x8]=_0x56c2a8(0x32e),_0x1441a9[_0x1441a9['ExternalStorageStats']=0x9]=_0x56c2a8(0x9b4),_0x1441a9[_0x1441a9[_0x56c2a8(0x4aa)]=0xa]='GenerativeAIContextStats',_0x1441a9[_0x1441a9[_0x56c2a8(0x2be)]=0xb]=_0x56c2a8(0x2be),_0x1441a9[_0x1441a9[_0x56c2a8(0x699)]=0xc]=_0x56c2a8(0x699),_0x1441a9[_0x1441a9['KeyValueDatabaseContentAvailable']=0xd]=_0x56c2a8(0x49e),_0x1441a9[_0x1441a9['KeyValueDatabaseContentSynchronized']=0xe]=_0x56c2a8(0xa78),_0x1441a9[_0x1441a9[_0x56c2a8(0x850)]=0xf]=_0x56c2a8(0x850),_0x1441a9[_0x1441a9['KeyValueDatabaseRequestTransactionsValue']=0x10]=_0x56c2a8(0x523),_0x1441a9[_0x1441a9[_0x56c2a8(0x46d)]=0x11]=_0x56c2a8(0x46d),_0x1441a9[_0x1441a9['KeyValueDatabaseStats']=0x12]=_0x56c2a8(0x8e8),_0x1441a9[_0x1441a9[_0x56c2a8(0x21b)]=0x13]='KeyValueDatabaseSyncRequired',_0x1441a9[_0x1441a9[_0x56c2a8(0x9f3)]=0x14]=_0x56c2a8(0x9f3),_0x1441a9[_0x1441a9[_0x56c2a8(0x254)]=0x15]=_0x56c2a8(0x254),_0x1441a9[_0x1441a9[_0x56c2a8(0x2b1)]=0x16]=_0x56c2a8(0x2b1),_0x1441a9[_0x1441a9[_0x56c2a8(0x841)]=0x17]=_0x56c2a8(0x841),_0x1441a9[_0x1441a9[_0x56c2a8(0x3fa)]=0x18]=_0x56c2a8(0x3fa),_0x1441a9[_0x1441a9[_0x56c2a8(0x77b)]=0x19]=_0x56c2a8(0x77b),_0x1441a9[_0x1441a9[_0x56c2a8(0x54f)]=0x1a]=_0x56c2a8(0x54f),_0x1441a9[_0x1441a9[_0x56c2a8(0x8b4)]=0x1b]=_0x56c2a8(0x8b4),_0x1441a9[_0x1441a9[_0x56c2a8(0x982)]=0x1c]=_0x56c2a8(0x982),_0x1441a9[_0x1441a9[_0x56c2a8(0x8c9)]=0x1d]=_0x56c2a8(0x8c9);}(_0x5d4388||(_0x5d4388={})),function(_0x15e5d4){const _0x314ffb=_0x332466;_0x15e5d4['FileWrite']='file-write',_0x15e5d4[_0x314ffb(0x812)]=_0x314ffb(0x52f),_0x15e5d4[_0x314ffb(0x527)]=_0x314ffb(0x6ea),_0x15e5d4[_0x314ffb(0x624)]='move',_0x15e5d4[_0x314ffb(0x46c)]=_0x314ffb(0x734),_0x15e5d4[_0x314ffb(0x5e6)]='request-accepted',_0x15e5d4[_0x314ffb(0x2de)]=_0x314ffb(0x599),_0x15e5d4['RequestFileWrite']=_0x314ffb(0x2d3);}(_0x2425d2||(_0x2425d2={})),function(_0x5992aa){const _0x35a046=_0x332466;_0x5992aa[_0x35a046(0x4d8)]='request',_0x5992aa[_0x35a046(0x84f)]='transaction';}(_0x501a74||(_0x501a74={})),function(_0x16280b){const _0x1ec027=_0x332466;_0x16280b['Add']=_0x1ec027(0x7c5),_0x16280b[_0x1ec027(0x743)]=_0x1ec027(0x422),_0x16280b['Delete']=_0x1ec027(0x6ea);}(_0x200500||(_0x200500={})),function(_0x525d86){const _0x33afd9=_0x332466;_0x525d86[_0x33afd9(0x242)]='get',_0x525d86[_0x33afd9(0x9b1)]=_0x33afd9(0xaa6),_0x525d86[_0x33afd9(0x5d0)]='count';}(_0x552c68||(_0x552c68={})),function(_0x15ab6c){const _0x4ca108=_0x332466;_0x15ab6c[_0x15ab6c[_0x4ca108(0x4d8)]=0x0]='Request',_0x15ab6c[_0x15ab6c['Bid']=0x1]=_0x4ca108(0x587),_0x15ab6c[_0x15ab6c[_0x4ca108(0x903)]=0x2]=_0x4ca108(0x903),_0x15ab6c[_0x15ab6c['PartialResult']=0x3]=_0x4ca108(0x657),_0x15ab6c[_0x15ab6c['Result']=0x4]=_0x4ca108(0x97a),_0x15ab6c[_0x15ab6c[_0x4ca108(0x85d)]=0x5]=_0x4ca108(0x85d);}(_0x1d82fa||(_0x1d82fa={})),function(_0x4bafae){const _0x5a20e4=_0x332466;_0x4bafae[_0x4bafae[_0x5a20e4(0x338)]=0x0]=_0x5a20e4(0x338),_0x4bafae[_0x4bafae[_0x5a20e4(0x7ae)]=0x1]=_0x5a20e4(0x7ae),_0x4bafae[_0x4bafae['Content']=0x2]=_0x5a20e4(0x66b),_0x4bafae[_0x4bafae['Subscription']=0x3]=_0x5a20e4(0x465),_0x4bafae[_0x4bafae[_0x5a20e4(0x9d0)]=0x4]=_0x5a20e4(0x9d0),_0x4bafae[_0x4bafae['Detection']=0x5]=_0x5a20e4(0x4ee),_0x4bafae[_0x4bafae[_0x5a20e4(0x47a)]=0x6]=_0x5a20e4(0x47a);}(_0x2e0616||(_0x2e0616={}));class _0x1c7830{[_0x332466(0xabe)];['label'];[_0x332466(0x380)];constructor(_0xa6e6e6,_0x3d0572){const _0x3cbeca=_0x332466;this[_0x3cbeca(0xabe)]=_0xa6e6e6,this[_0x3cbeca(0x308)]=_0x3d0572;}[_0x332466(0x2b5)](){const _0x1993f3=_0x332466;return this[_0x1993f3(0x308)];}[_0x332466(0x2bf)](){const _0x55c069=_0x332466;return this[_0x55c069(0xabe)]['getId']();}[_0x332466(0x5e0)](){}[_0x332466(0x4bd)](_0x4e82b8){const _0x17d5aa=_0x332466;this[_0x17d5aa(0x380)]=_0x4e82b8;}[_0x332466(0x3bf)](){const _0x5f213e=_0x332466;delete this[_0x5f213e(0x380)];}}const _0x53cc66=require('firebase/firestore');let _0x2b9766=_0x9e5805(0x14d)['O'];function _0x28ca39(_0x2c7679){const _0xcae870=_0x332466;return!(!_0x2c7679||_0xcae870(0x7ff)!=typeof _0x2c7679||Array['isArray'](_0x2c7679));}_0x2b9766=function _0x4f5cb7(_0x57cd74,..._0x2d40a5){const _0x8a46af=_0x332466;if(!Array[_0x8a46af(0x87b)](_0x2d40a5)||0x0===_0x2d40a5[_0x8a46af(0x65d)])return _0x57cd74;const _0x1a3224=_0x2d40a5['shift']();if(_0x28ca39(_0x57cd74)&&_0x28ca39(_0x1a3224)){for(const _0x3f839b in _0x1a3224)_0x28ca39(_0x1a3224[_0x3f839b])?(_0x57cd74[_0x3f839b]||Object[_0x8a46af(0x68d)](_0x57cd74,{[_0x3f839b]:{}}),_0x4f5cb7(_0x57cd74[_0x3f839b],_0x1a3224[_0x3f839b])):Object['assign'](_0x57cd74,{[_0x3f839b]:_0x1a3224[_0x3f839b]});}return _0x4f5cb7(_0x57cd74,..._0x2d40a5);}(_0x2b9766,_0x9e5805(0x3e6)['O']);const _0x2a816f=_0x2b9766,_0xffee9=require('firebase/app'),_0x4159aa=require('firebase/auth'),_0x47aff=require('firebase/database'),_0x3d342f=require('firebase/functions'),_0x74103e=require('uuid'),_0x3bb384='CREWDLE_WEB_SDK';class _0x5bd42a{static [_0x332466(0x6ab)];['app'];[_0x332466(0x76e)];['functions'];[_0x332466(0xa81)];['firestore'];[_0x332466(0x867)];[_0x332466(0x75a)];constructor(){this['getApp']();}static[_0x332466(0x760)](){const _0x4cf9b6=_0x332466;return _0x5bd42a[_0x4cf9b6(0x6ab)]||(_0x5bd42a['instance']=new _0x5bd42a()),_0x5bd42a[_0x4cf9b6(0x6ab)];}['getApp'](){const _0x562e62=_0x332466;if(!this[_0x562e62(0x4b0)]){let _0xc6b18f=_0x3bb384;_0x562e62(0xa7f)!=typeof window&&(_0xc6b18f=_0x3bb384+'-'+(0x0,_0x74103e['v4'])()),this[_0x562e62(0x4b0)]=(0x0,_0xffee9[_0x562e62(0x595)])(_0x2a816f[_0x562e62(0x42d)],''+_0xc6b18f);}return this[_0x562e62(0x4b0)];}[_0x332466(0x890)](){const _0x1a4f8f=_0x332466;return this[_0x1a4f8f(0x76e)]||(this['auth']=(0x0,_0x4159aa[_0x1a4f8f(0x890)])(this[_0x1a4f8f(0x2a7)]())),this[_0x1a4f8f(0x76e)];}[_0x332466(0xa2e)](){const _0x2a3c43=_0x332466;return this[_0x2a3c43(0x506)]||(this[_0x2a3c43(0x506)]=(0x0,_0x3d342f[_0x2a3c43(0xa2e)])(this[_0x2a3c43(0x2a7)](),_0x2a816f[_0x2a3c43(0x42d)][_0x2a3c43(0x811)])),this[_0x2a3c43(0x506)];}[_0x332466(0x92d)](){const _0x51c222=_0x332466;return this[_0x51c222(0xa81)]||(this[_0x51c222(0xa81)]=(0x0,_0x47aff[_0x51c222(0x92d)])(this[_0x51c222(0x2a7)]())),this[_0x51c222(0xa81)];}[_0x332466(0x503)](){const _0x385735=_0x332466;return this[_0x385735(0x73e)]||(this['firestore']=(0x0,_0x53cc66['getFirestore'])(this[_0x385735(0x2a7)]())),this[_0x385735(0x73e)];}async['getEstimatedTimestamp'](){const _0x4c15b0=_0x332466;if(this[_0x4c15b0(0x867)]&&this[_0x4c15b0(0x75a)]&&Date[_0x4c15b0(0x3f4)]()-this[_0x4c15b0(0x75a)]<0x493e0)return Date['now']()+this[_0x4c15b0(0x867)];const _0x1180c3=this['getDatabase'](),_0x232d89=(0x0,_0x47aff['ref'])(_0x1180c3,_0x4c15b0(0x411));return new Promise(_0x4a1439=>{const _0x3637b4=_0x4c15b0;(0x0,_0x47aff[_0x3637b4(0x7a7)])(_0x232d89,_0x4d2e3d=>{const _0x4ffc5c=_0x3637b4;(0x0,_0x47aff[_0x4ffc5c(0x25b)])(_0x232d89),this['clockSkew']=_0x4d2e3d[_0x4ffc5c(0x4d9)](),this['lastClockUpdate']=Date[_0x4ffc5c(0x3f4)](),_0x4a1439(Date['now']()+(this[_0x4ffc5c(0x867)]??0x0));});});}}const _0x5673af=_0x5bd42a[_0x332466(0x760)]();class _0x4bdc5c{static [_0x332466(0x6ab)];['enabledChannels']=[_0xebc42c[_0x332466(0x23d)]];['debugEnabled']=!0x1;[_0x332466(0x509)];[_0x332466(0x640)]='';['globalObject'];[_0x332466(0x42f)]=[];['currentBatch'];['batchTimeout'];[_0x332466(0x9cf)]=0xa;[_0x332466(0x97f)]=0x1f4;[_0x332466(0x818)]=0x1c2;[_0x332466(0x9fb)]=0x3e8;constructor(){const _0x56ea2d=_0x332466;if(_0x56ea2d(0xa7f)!=typeof window)this[_0x56ea2d(0x562)]=window;else{if(void 0x0===_0x9e5805['g'])throw new Error(_0x56ea2d(0x2bc));this[_0x56ea2d(0x562)]=_0x9e5805['g'];}this[_0x56ea2d(0x68e)](),this[_0x56ea2d(0x562)][_0x56ea2d(0x9d9)]=_0x12f9b4=>{const _0x516e59=_0x56ea2d;if(_0x12f9b4===_0xebc42c[_0x516e59(0x329)])return this[_0x516e59(0x910)]=Object[_0x516e59(0x4be)](_0xebc42c)['map'](_0x103d7c=>_0xebc42c[_0x103d7c]),void Object[_0x516e59(0x4be)](_0xebc42c)[_0x516e59(0x602)](_0x5cd763=>{const _0x377f82=_0x516e59,_0x13fec7=_0x5cd763;localStorage[_0x377f82(0xa9e)](_0x377f82(0x80e)+_0xebc42c[_0x13fec7],_0x377f82(0x7e0));});this[_0x516e59(0x910)]['includes'](_0x12f9b4)||(this[_0x516e59(0x910)][_0x516e59(0x995)](_0x12f9b4),localStorage[_0x516e59(0xa9e)](_0x516e59(0x80e)+_0x12f9b4,_0x516e59(0x7e0)));},this['globalObject'][_0x56ea2d(0xa53)]=_0x34c910=>{const _0x4e2741=_0x56ea2d;if(!_0x34c910||_0x34c910===_0xebc42c[_0x4e2741(0x329)])return this[_0x4e2741(0x910)]=[],void Object[_0x4e2741(0x4be)](_0xebc42c)['forEach'](_0x242b15=>{const _0x4e11e7=_0x4e2741,_0x4f7b89=_0x242b15;localStorage[_0x4e11e7(0x570)]('crewdle-sdk-logging-'+_0xebc42c[_0x4f7b89]);});this[_0x4e2741(0x910)]['includes'](_0x34c910)&&(this[_0x4e2741(0x910)]=this[_0x4e2741(0x910)][_0x4e2741(0x962)](_0x472d53=>_0x472d53!==_0x34c910),localStorage['removeItem'](_0x4e2741(0x80e)+_0x34c910));},this[_0x56ea2d(0x562)][_0x56ea2d(0x30f)]=_0xebc42c;}static['getInstance'](){const _0x5a8512=_0x332466;try{return _0x4bdc5c[_0x5a8512(0x6ab)]||(_0x4bdc5c[_0x5a8512(0x6ab)]=new _0x4bdc5c()),_0x4bdc5c[_0x5a8512(0x6ab)];}catch(_0xc14523){return console[_0x5a8512(0x998)]('Logger.getInstance',_0xc14523),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}['setVendorId'](_0x4cd5dd){const _0x237f96=_0x332466;this['vendorId']=_0x4cd5dd,this[_0x237f96(0x42f)]=[],this[_0x237f96(0x9ea)]=this[_0x237f96(0x31f)](),this[_0x237f96(0x199)]&&(clearTimeout(this[_0x237f96(0x199)]),this['batchTimeout']=void 0x0);}['setLoggingConnectors'](_0xaebf72){const _0x3ae896=_0x332466;this[_0x3ae896(0x509)]=_0xaebf72;}['debug'](_0x55e31e,..._0x571305){const _0x201233=_0x332466;this[_0x201233(0x38c)]&&this[_0x201233(0x5d5)](_0xebc42c[_0x201233(0x23d)],_0x201233(0x40a)+_0x55e31e,..._0x571305);}[_0x332466(0x5a6)](_0x3475a5,..._0x337372){const _0x3111ac=_0x332466;console[_0x3111ac(0x5d5)](_0x3475a5,..._0x337372),this[_0x3111ac(0x509)]&&this[_0x3111ac(0x509)][_0x3111ac(0x602)](_0x54ca11=>{const _0x10c229=_0x3111ac;_0x54ca11[_0x10c229(0x5d5)](_0x3475a5,{'vendorId':this[_0x10c229(0x640)],'nodeId':'','nodeType':'','data':{..._0x337372}});});}[_0x332466(0x5d5)](_0x1b98bd,_0x1847cf,..._0x2ecdec){const _0x221515=_0x332466;_0x2a816f[_0x221515(0x35c)]||(this[_0x221515(0x910)][_0x221515(0x988)](_0x1b98bd)&&console[_0x221515(0x5d5)](_0x221515(0x7c4)+_0x1b98bd+'\x27\x0a',new Date()+'\x0a',_0x1847cf,..._0x2ecdec),this['loggingConnectors']&&this['loggingConnectors'][_0x221515(0x602)](_0x353475=>{const _0x2c7dac=_0x221515;this['isInternalLoggingConnector'](_0x353475)&&_0x353475[_0x2c7dac(0x353)]()[_0x2c7dac(0x988)](_0x1b98bd)&&_0x353475[_0x2c7dac(0x5d5)](_0x1847cf,{'vendorId':this[_0x2c7dac(0x640)],'nodeId':'','nodeType':'','data':{'channel':_0x1b98bd,..._0x2ecdec}});}));}[_0x332466(0x97e)](_0x2ee205,_0x5d88e3,..._0x3c2712){const _0x4aac7a=_0x332466;_0x2a816f[_0x4aac7a(0x35c)]||(this[_0x4aac7a(0x910)][_0x4aac7a(0x988)](_0x2ee205)&&console[_0x4aac7a(0x5d5)](_0x5d88e3,..._0x3c2712),this[_0x4aac7a(0x509)]&&this['loggingConnectors'][_0x4aac7a(0x602)](_0x574bd9=>{const _0x288d97=_0x4aac7a;this[_0x288d97(0x2da)](_0x574bd9)&&_0x574bd9['getEnabledChannels']()[_0x288d97(0x988)](_0x2ee205)&&_0x574bd9[_0x288d97(0x5d5)](_0x5d88e3,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x2ee205,..._0x3c2712}});}));}['logEvent'](_0x2b4105,_0x18531c){const _0x5854cc=_0x332466;if(!this[_0x5854cc(0x509)])return;const _0x4b5d7e={'vendorId':this['vendorId'],..._0x18531c};this[_0x5854cc(0x509)]['forEach'](_0xd5315f=>{const _0x39a455=_0x5854cc;_0xd5315f[_0x39a455(0x5d5)](_0x2b4105,_0x4b5d7e);});}['logServiceEvent'](_0x27928c,_0x3205c8){const _0xc06641=_0x332466;this['createBatchOperation'](_0x27928c,_0x3205c8),this[_0xc06641(0x224)]();}[_0x332466(0xa99)](_0x5bc043,_0x5c2ff7,_0x39e191){const _0x4997a7=_0x332466;(0x0,_0x53cc66[_0x4997a7(0x8a0)])((0x0,_0x53cc66[_0x4997a7(0x23b)])(_0x5673af[_0x4997a7(0x503)](),_0x4997a7(0x3ea)+this[_0x4997a7(0x640)]+'/'+_0x5bc043+'/'+_0x5c2ff7),{'storage':_0x39e191,'timestamp':(0x0,_0x53cc66[_0x4997a7(0x726)])()});}['logBatch'](){const _0x38dd71=_0x332466;this[_0x38dd71(0x9ea)]&&(this[_0x38dd71(0x9ea)]['counter']+=0x1,this[_0x38dd71(0x9ea)][_0x38dd71(0xa37)]===this['batchSize']?this[_0x38dd71(0x9bf)]():this[_0x38dd71(0x199)]||(this['batchTimeout']=this[_0x38dd71(0x562)][_0x38dd71(0x560)](()=>this[_0x38dd71(0x9bf)](),this[_0x38dd71(0x9fb)])));}async['processBatch'](){const _0x987860=_0x332466;if(this[_0x987860(0x9ea)]){for(this['batchQueue'][_0x987860(0x995)](this[_0x987860(0x9ea)]),this['currentBatch']=this[_0x987860(0x31f)]();this[_0x987860(0x42f)][_0x987860(0x65d)]>0x0;){const _0x36a1de=this[_0x987860(0x42f)]['shift']();if(!await this['commitBatch'](_0x36a1de))break;}clearTimeout(this[_0x987860(0x199)]),this['batchTimeout']=void 0x0;}}[_0x332466(0x998)](_0x2378cc,_0x515dcb,..._0x116a9a){const _0x5a0b30=_0x332466;if(console[_0x5a0b30(0x998)](new Date(),_0x2378cc,_0x515dcb,..._0x116a9a),this['loggingConnectors']){const _0x16975a={'vendorId':this[_0x5a0b30(0x640)],..._0x515dcb};this['loggingConnectors'][_0x5a0b30(0x602)](_0x313f72=>{_0x313f72['error'](_0x2378cc,_0x16975a);});}}[_0x332466(0x671)](_0x56ca60,_0x4da6e5,..._0x1817ef){const _0x911383=_0x332466;if(console[_0x911383(0x285)](new Date(),_0x56ca60,_0x4da6e5,_0x1817ef),this[_0x911383(0x509)]){const _0x444566={'vendorId':this[_0x911383(0x640)],..._0x4da6e5};this[_0x911383(0x509)][_0x911383(0x602)](_0x37d00b=>{const _0x3fcb6f=_0x911383;_0x37d00b[_0x3fcb6f(0x285)](_0x56ca60,_0x444566);});}}[_0x332466(0x1e6)](_0x1cfbc6){const _0x40395c=_0x332466;return this[_0x40395c(0x910)][_0x40395c(0x988)](_0x1cfbc6);}async[_0x332466(0xa3e)](_0x29f618,_0x201ff5=0x0){const _0x5bdf5f=_0x332466;if(_0x29f618[_0x5bdf5f(0xa37)]>0x0)try{return await _0x29f618[_0x5bdf5f(0x852)][_0x5bdf5f(0x93d)](),!0x0;}catch(_0x7f4bc4){if(console['error'](_0x5bdf5f(0x230),_0x7f4bc4,_0x5bdf5f(0x630),_0x29f618[_0x5bdf5f(0x3c7)]),!(_0x201ff5<this[_0x5bdf5f(0x9cf)])){const {nodeId:_0x515496='',nodeType:_0x186914='',clusterId:_0x29fdfa=''}=_0x29f618['operations'][0x0][_0x5bdf5f(0x510)],_0x4c4c58={'nodeId':_0x515496,'nodeType':_0x186914,'clusterId':_0x29fdfa,'data':{'operations':_0x29f618[_0x5bdf5f(0x3c7)],'error':_0x7f4bc4}};return this[_0x5bdf5f(0x998)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0x4c4c58),!0x1;}{const _0x1fc510=this['createBatch'](_0x29f618[_0x5bdf5f(0x3c7)]);setTimeout(()=>this[_0x5bdf5f(0xa3e)](_0x1fc510,_0x201ff5+0x1),this[_0x5bdf5f(0x97f)]*Math[_0x5bdf5f(0x247)](0x2,_0x201ff5));}}}[_0x332466(0x68e)](){try{Object['keys'](_0xebc42c)['forEach'](_0x2bdd06=>{const _0x46911b=a0_0x5279,_0x285675=_0x2bdd06;localStorage['getItem'](_0x46911b(0x80e)+_0xebc42c[_0x285675])&&(console[_0x46911b(0x5d5)](_0x46911b(0x9d4),_0xebc42c[_0x285675]),this[_0x46911b(0x910)]['push'](_0xebc42c[_0x285675]));});}catch(_0x4c3036){}}[_0x332466(0x2da)](_0x9c9421){return void 0x0!==_0x9c9421['getEnabledChannels'];}['createNewBatch'](){const _0x1dfe64=_0x332466;return{'batch':(0x0,_0x53cc66[_0x1dfe64(0x83a)])(_0x5673af[_0x1dfe64(0x503)]()),'operations':[],'counter':0x0};}['createBatch'](_0x567420){const _0x2119ea=_0x332466,_0x3e6023=(0x0,_0x53cc66['writeBatch'])(_0x5673af[_0x2119ea(0x503)]());return _0x567420[_0x2119ea(0x602)](_0xf4e40c=>this['addBatchOperation'](_0x3e6023,_0xf4e40c)),{'batch':_0x3e6023,'operations':_0x567420,'counter':_0x567420['length']};}['addBatchOperation'](_0x2f37bf,_0x270c66){const _0xaefb73=_0x332466;switch(_0x270c66['type']){case _0xaefb73(0x72f):_0x2f37bf[_0xaefb73(0x72f)](_0x270c66[_0xaefb73(0x2ed)],_0x270c66[_0xaefb73(0x510)]);break;case _0xaefb73(0x422):_0x2f37bf[_0xaefb73(0x422)](_0x270c66['ref'],_0x270c66[_0xaefb73(0x510)]);break;case _0xaefb73(0x6ea):_0x2f37bf[_0xaefb73(0x6ea)](_0x270c66[_0xaefb73(0x2ed)]);}}[_0x332466(0x186)](_0x1013a7,_0x449184){const _0x2e07a7=_0x332466;this['currentBatch']||(this[_0x2e07a7(0x9ea)]=this[_0x2e07a7(0x31f)]());const _0x2f4b9d=(0x0,_0x53cc66[_0x2e07a7(0x23b)])((0x0,_0x53cc66[_0x2e07a7(0x389)])(_0x5673af[_0x2e07a7(0x503)](),_0x2e07a7(0x3ea)+this['vendorId']+_0x2e07a7(0x79d))),_0x40cc17={..._0x449184,'service':_0x1013a7,'timestamp':(0x0,_0x53cc66[_0x2e07a7(0x726)])()},_0x28d201={'type':_0x2e07a7(0x72f),'path':_0x2f4b9d[_0x2e07a7(0x92c)],'ref':_0x2f4b9d,'data':_0x40cc17};return this[_0x2e07a7(0x9ea)][_0x2e07a7(0x3c7)]['push'](_0x28d201),this[_0x2e07a7(0xa0b)](this[_0x2e07a7(0x9ea)]['batch'],_0x28d201),_0x2f4b9d;}}const _0x833509=_0x4bdc5c[_0x332466(0x760)]();function _0x2286c0(_0x346a0b,_0x3057a0){return'/'===_0x346a0b?_0x346a0b+_0x3057a0:_0x346a0b+'/'+_0x3057a0;}function _0x5f4620(_0x4907ab){const _0x42b0d6=_0x332466,_0x41cdae=function(_0x5aa722){const _0x59e9dc=a0_0x5279;return _0x5aa722[_0x59e9dc(0x616)]('/')['filter'](_0x23ff38=>_0x23ff38[_0x59e9dc(0x65d)]>0x0);}(_0x4907ab),_0x4d54fe=_0x41cdae[_0x42b0d6(0x6a9)]()||'',_0x18fecb=_0x41cdae[_0x42b0d6(0x7d5)]('/');return[0x0===_0x18fecb[_0x42b0d6(0x65d)]?'/':_0x18fecb,_0x4d54fe];}async function _0x3a9452(_0x463998){const _0x3058c8=_0x332466;let _0x49c96f;const _0x46fbae=_0x463998['size']/0x100000;_0x49c96f=_0x46fbae<=0xa?0x1:_0x46fbae<=0x64?0.5:_0x46fbae<=0x1f4?0.1:0.05;const _0x12ab72=Math[_0x3058c8(0x6d9)](_0x463998['size']/_0x1507bd),_0x22898c=Math[_0x3058c8(0x6d9)](_0x12ab72*_0x49c96f);let _0x323921=new Uint8Array();for(let _0x372e32=0x0;_0x372e32<_0x22898c;_0x372e32++){const _0x2f83fa=Math[_0x3058c8(0xa0c)](_0x372e32/_0x22898c*_0x463998[_0x3058c8(0x393)]);let _0x27e37f=_0x2f83fa+_0x1507bd;_0x27e37f>_0x463998[_0x3058c8(0x393)]&&(_0x27e37f=_0x463998['size']);const _0x58ef40=_0x463998['slice'](_0x2f83fa,_0x27e37f),_0x3aa12f=await _0x58ef40['arrayBuffer'](),_0x23b12f=new Uint8Array([..._0x323921,...new Uint8Array(_0x3aa12f)]);_0x323921=new Uint8Array(await crypto[_0x3058c8(0x8c0)]['digest'](_0x3058c8(0x4de),_0x23b12f));}return Array[_0x3058c8(0x639)](new Uint8Array(_0x323921))['map'](_0xa0d6d6=>_0xa0d6d6[_0x3058c8(0x83b)](0x10)[_0x3058c8(0x536)](0x2,'0'))[_0x3058c8(0x7d5)]('');}async function*_0xa7f69f(_0x52b87a,_0x36e7f9=0x0,_0x1b48ba){const _0x51029c=_0x332466;let _0x406181=_0x36e7f9*_0x3f90c3,_0x34b8b6=_0x52b87a;for(;_0x406181<_0x34b8b6[_0x51029c(0x393)];){let _0x3f15cd=_0x406181+_0x3f90c3;_0x3f15cd>_0x34b8b6[_0x51029c(0x393)]&&(_0x3f15cd=_0x34b8b6[_0x51029c(0x393)]);let _0x17a26f=0x0;for(;_0x17a26f<0x14;)try{await _0x1b48ba?.();const _0x3fc020=_0x34b8b6['slice'](_0x406181,_0x3f15cd,_0x51029c(0x619)),_0x588114=await _0x3fc020[_0x51029c(0x96d)]();yield _0x588114,_0x406181=_0x3f15cd,await new Promise(_0x1d3506=>setTimeout(_0x1d3506,0x0));break;}catch(_0x58380c){if(console[_0x51029c(0x998)](_0x51029c(0x1f8)+(_0x17a26f+0x1)+'\x20attempts:',_0x58380c),_0x17a26f++,_0x17a26f>0x14)throw _0x58380c;let _0x6d2bc9=0x3e8*Math['pow'](0x2,_0x17a26f);_0x6d2bc9>0x7530&&(_0x6d2bc9=0x7530),await new Promise(_0x45caed=>setTimeout(_0x45caed,_0x6d2bc9));}}}class _0x46faea extends _0x1c7830{[_0x332466(0x387)];[_0x332466(0x59b)];[_0x332466(0x670)]=new Map();[_0x332466(0x940)]=0x0;['messagesReceived']=0x0;[_0x332466(0x572)]=0x0;[_0x332466(0x99a)]=0x0;constructor(_0x4ebc8d,_0xe0a766){super(_0x4ebc8d,_0xe0a766);}[_0x332466(0x2b5)](){const _0x4ea859=_0x332466;return this[_0x4ea859(0x308)];}['getName'](){const _0x316291=_0x332466;return this[_0x316291(0x308)];}[_0x332466(0x62f)](){const _0x611ec6=_0x332466;return _0x57c18a[_0x611ec6(0x88a)][_0x611ec6(0x707)];}[_0x332466(0x189)](){const _0x1bfd9f=_0x332466;return this[_0x1bfd9f(0x308)];}[_0x332466(0x1d5)](_0x8e9d9e){const _0x416b56=_0x332466;if(this['outgoingTopic'])throw new _0x1ba31e(_0x1ba31e['codes'][_0x416b56(0x382)],{'message':_0x416b56(0x453)+this[_0x416b56(0xabe)]['getId']()+_0x416b56(0x23e)+this[_0x416b56(0x308)],'topic':this[_0x416b56(0x387)]});this[_0x416b56(0x387)]=_0x8e9d9e;}[_0x332466(0x75d)](_0x3bf2d4){const _0x41beb0=_0x332466;if(this['incomingTopic'])throw new _0x1ba31e(_0x1ba31e[_0x41beb0(0x631)][_0x41beb0(0x90e)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x41beb0(0xabe)][_0x41beb0(0x9cc)]()+_0x41beb0(0x23e)+this[_0x41beb0(0x308)],'topic':this['incomingTopic']});this['incomingTopic']=_0x3bf2d4;}[_0x332466(0x52d)](){const _0x5ead24=_0x332466;delete this[_0x5ead24(0x387)];}[_0x332466(0x945)](){const _0x538953=_0x332466;delete this[_0x538953(0x59b)];}async[_0x332466(0x922)](_0x3c578,_0x3622d7){const _0xcd6a92=_0x332466;if(_0x833509[_0xcd6a92(0x5d5)](_0xebc42c['DataStream'],'DataStream\x20send',this['owner']['getId'](),_0x3c578,_0x3622d7),this[_0xcd6a92(0x940)]+=0x1,_0x3c578 instanceof File){const _0x3e5c81=await async function(_0x405d7d){const _0x50fca8=_0xcd6a92,_0x9f4e25=[];for await(const _0x42dc4a of _0xa7f69f(_0x405d7d))_0x9f4e25[_0x50fca8(0x995)](_0x42dc4a);return _0x9f4e25;}(_0x3c578);return this[_0xcd6a92(0x572)]+=_0x3e5c81[_0xcd6a92(0x3c9)]((_0x28dda8,_0x281390)=>_0x28dda8+_0x281390['byteLength'],0x0),void _0x3e5c81[_0xcd6a92(0x602)]((_0x48166d,_0x1d73f1)=>{const _0x45b9e2=_0xcd6a92;this['outgoingTopic']['publish']({'sourceId':this[_0x45b9e2(0xabe)][_0x45b9e2(0x9cc)](),'destinationIds':_0x3622d7,'propagate':!0x0,'contentType':_0x57c18a['ContentType'][_0x45b9e2(0x74d)],'content':{'name':_0x3c578[_0x45b9e2(0x8c6)],'type':_0x3c578[_0x45b9e2(0x5a0)],'data':_0x48166d,'index':_0x1d73f1,'total':_0x3e5c81[_0x45b9e2(0x65d)]}});});}this[_0xcd6a92(0x572)]+=JSON[_0xcd6a92(0x801)](_0x3c578)['length'],this[_0xcd6a92(0x387)][_0xcd6a92(0x778)]({'sourceId':this['owner'][_0xcd6a92(0x9cc)](),'destinationIds':_0x3622d7,'propagate':!0x0,'contentType':_0x57c18a[_0xcd6a92(0x88a)]['Data'],'content':_0x3c578});}[_0x332466(0x6b1)](_0x80c747){const _0x232717=_0x332466;return this[_0x232717(0x59b)]['subscribe'](_0xe84d5a=>{const _0x48f76f=_0x232717;switch(_0x833509[_0x48f76f(0x5d5)](_0xebc42c[_0x48f76f(0x745)],_0x48f76f(0x90f),this[_0x48f76f(0xabe)]['getId'](),_0xe84d5a),_0xe84d5a[_0x48f76f(0x49a)]){case _0x57c18a[_0x48f76f(0x88a)][_0x48f76f(0x707)]:this[_0x48f76f(0x20f)]+=0x1,this['bytesReceived']+=JSON['stringify'](_0xe84d5a['content'])[_0x48f76f(0x65d)],_0x80c747(_0xe84d5a[_0x48f76f(0x41f)],_0xe84d5a[_0x48f76f(0x4cb)]);break;case _0x57c18a['ContentType'][_0x48f76f(0x74d)]:this[_0x48f76f(0x670)]['has'](_0xe84d5a[_0x48f76f(0x4cb)]['name'])||this[_0x48f76f(0x670)]['set'](_0xe84d5a[_0x48f76f(0x4cb)]['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x512f74=this[_0x48f76f(0x670)][_0x48f76f(0x4d1)](_0xe84d5a['content'][_0x48f76f(0x8c6)]);if(_0x512f74[_0x48f76f(0x34b)]+=0x1,_0x512f74[_0x48f76f(0x99a)]+=_0xe84d5a[_0x48f76f(0x4cb)][_0x48f76f(0x510)]['byteLength'],_0x512f74[_0x48f76f(0x4cb)]&&(_0x512f74[_0x48f76f(0x4cb)][_0xe84d5a[_0x48f76f(0x4cb)]['index']]=_0xe84d5a['content'][_0x48f76f(0x510)]),this[_0x48f76f(0x670)][_0x48f76f(0x72f)](_0xe84d5a[_0x48f76f(0x4cb)][_0x48f76f(0x8c6)],_0x512f74),_0x512f74[_0x48f76f(0x34b)]+0x1<_0xe84d5a[_0x48f76f(0x4cb)][_0x48f76f(0x3f3)])return;this[_0x48f76f(0x20f)]+=0x1,this[_0x48f76f(0x99a)]+=_0x512f74[_0x48f76f(0x99a)],_0x512f74[_0x48f76f(0x4cb)]&&_0x80c747(_0xe84d5a[_0x48f76f(0x41f)],(_0x458954=_0x512f74[_0x48f76f(0x4cb)],_0x457e0a=_0xe84d5a['content'][_0x48f76f(0x8c6)],_0x1841ae=_0xe84d5a[_0x48f76f(0x4cb)]['type'],new File(_0x458954,_0x457e0a,{'type':_0x1841ae}))),this[_0x48f76f(0x670)][_0x48f76f(0x6ea)](_0xe84d5a[_0x48f76f(0x4cb)][_0x48f76f(0x8c6)]);}var _0x458954,_0x457e0a,_0x1841ae;});}}function _0x5ad0e0(){const _0x5d07e7=_0x332466;let _0x2a3525=[];return{'subscribe':_0x9c6192=>(_0x2a3525[_0x5d07e7(0x995)](_0x9c6192),()=>{const _0x53c5ae=_0x5d07e7;_0x2a3525=_0x2a3525[_0x53c5ae(0x962)](_0x5eb8c4=>_0x5eb8c4!==_0x9c6192);}),'publish':_0x1e6de1=>{_0x2a3525['forEach'](_0x128b85=>_0x128b85(_0x1e6de1));}};}function _0x1876b7(){let _0xbc1ad9;return{'subscribe':_0x3d89ce=>(_0xbc1ad9=_0x3d89ce,()=>{_0xbc1ad9=void 0x0;}),'publish':_0x136926=>{_0xbc1ad9&&_0xbc1ad9(_0x136926);}};}class _0x12f736{['connector'];['tableName'];[_0x332466(0x3a9)];[_0x332466(0x4f9)]=_0x1876b7();[_0x332466(0x39f)];constructor(_0x5c2ffb,_0x22e4a8,_0x343fa8){const _0x2ce94a=_0x332466;this[_0x2ce94a(0x848)]=_0x5c2ffb,this[_0x2ce94a(0x43c)]=_0x22e4a8,this[_0x2ce94a(0x3a9)]=_0x343fa8;}['destroy'](){const _0x572862=_0x332466;this[_0x572862(0x39f)]?.();}async['get'](_0x13757c){const _0x2cbc5d=_0x332466,_0x31e6f0={'key':_0x13757c,'tableName':this[_0x2cbc5d(0x43c)],'action':_0x552c68[_0x2cbc5d(0x242)]};return this[_0x2cbc5d(0x3a9)][_0x2cbc5d(0x778)](_0x31e6f0),this[_0x2cbc5d(0x848)]['get'](_0x13757c);}async[_0x332466(0x72f)](_0x457605,_0x41810a,_0x1c39b1=!0x0){const _0x2ce9f2=_0x332466;this[_0x2ce9f2(0x86e)](_0x41810a);const _0x4618e1=await this[_0x2ce9f2(0x848)]['get'](_0x457605),_0x343259=await this['connector']['set'](_0x457605,_0x41810a),_0x45c110=_0x4618e1?_0x200500[_0x2ce9f2(0x743)]:_0x200500[_0x2ce9f2(0x5b0)];if(this['publish'](_0x45c110,_0x343259),!_0x1c39b1)return _0x343259;const _0x64f556={'key':_0x457605,'tableName':this['tableName'],'action':_0x45c110,'value':_0x343259};return this[_0x2ce9f2(0x3a9)]['publish'](_0x64f556),_0x343259;}async['add'](_0x21fb7a){const _0xc49092=_0x332466;this[_0xc49092(0x86e)](_0x21fb7a);const _0x7d98b7=await this[_0xc49092(0x848)][_0xc49092(0x7c5)](_0x21fb7a),_0x392a45={'key':_0x7d98b7['id'],'tableName':this[_0xc49092(0x43c)],'action':_0x200500[_0xc49092(0x5b0)],'value':_0x7d98b7};return this[_0xc49092(0x3a9)][_0xc49092(0x778)](_0x392a45),this[_0xc49092(0x778)](_0x392a45['action'],_0x7d98b7),_0x7d98b7;}async[_0x332466(0x6ea)](_0x5066e3,_0x17aa0b=!0x0){const _0x1f8a90=_0x332466,_0x1c63de=await this[_0x1f8a90(0x848)][_0x1f8a90(0x4d1)](_0x5066e3);if(!_0x1c63de)return;await this[_0x1f8a90(0x848)][_0x1f8a90(0x6ea)](_0x5066e3);const _0x183590=_0x200500[_0x1f8a90(0x527)];if(this[_0x1f8a90(0x778)](_0x183590,_0x1c63de),!_0x17aa0b)return;const _0x132fd8={'key':_0x5066e3,'tableName':this['tableName'],'action':_0x183590,'value':_0x1c63de};this[_0x1f8a90(0x3a9)][_0x1f8a90(0x778)](_0x132fd8);}async[_0x332466(0x767)](){const _0x25b109=_0x332466,_0x4ae985=await this[_0x25b109(0xaa6)]();for(const _0x47caac of _0x4ae985){const _0x42959a=_0x200500[_0x25b109(0x527)];this[_0x25b109(0x778)](_0x42959a,_0x47caac);const _0x5e96f6={'key':_0x47caac['id'],'tableName':this[_0x25b109(0x43c)],'action':_0x42959a,'value':_0x47caac};this['tableObserver']['publish'](_0x5e96f6);}return this[_0x25b109(0x848)][_0x25b109(0x767)]();}async['list'](_0x5d0998){const _0x3512b3=_0x332466,_0x2bb961={'key':'','tableName':this[_0x3512b3(0x43c)],'action':_0x552c68['List']};this['tableObserver'][_0x3512b3(0x778)](_0x2bb961);try{_0x5d0998&&(_0x5d0998=_0x5d0998 instanceof _0x25b6c1?_0x5d0998[_0x3512b3(0xac6)]():_0x25b6c1[_0x3512b3(0x7b8)](_0x5d0998)[_0x3512b3(0xac6)]());}catch(_0x412541){throw new _0x212143(_0x198729['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{return await this[_0x3512b3(0x848)]['list'](_0x5d0998);}catch(_0x5e36f1){let _0x4c6aba=_0x3512b3(0x7af);throw _0x5e36f1 instanceof Error&&(_0x4c6aba=_0x5e36f1['message']),new _0x212143(_0x198729[_0x3512b3(0x6b6)],_0x4c6aba);}}async[_0x332466(0x872)](_0x3e0b1f){const _0x43bbd6=_0x332466,_0x4b8218={'key':'','tableName':this['tableName'],'action':_0x552c68['Count']};this[_0x43bbd6(0x3a9)][_0x43bbd6(0x778)](_0x4b8218);try{_0x3e0b1f&&(_0x3e0b1f=_0x3e0b1f instanceof _0x25b6c1?_0x3e0b1f[_0x43bbd6(0xac6)]():_0x25b6c1[_0x43bbd6(0x7b8)](_0x3e0b1f)[_0x43bbd6(0xac6)]());}catch(_0x3c8f13){throw new _0x212143(_0x198729[_0x43bbd6(0x6b6)],_0x43bbd6(0x7af));}try{return await this[_0x43bbd6(0x848)][_0x43bbd6(0x872)](_0x3e0b1f);}catch(_0x196eda){let _0x1d1c79=_0x43bbd6(0x7af);throw _0x196eda instanceof Error&&(_0x1d1c79=_0x196eda['message']),new _0x212143(_0x198729[_0x43bbd6(0x6b6)],_0x1d1c79);}}[_0x332466(0x394)](){return this['connector']['calculateSize']();}[_0x332466(0x3cf)](_0x49ad19){const _0x20918e=_0x332466;this['listenerUnsubscriber']=this[_0x20918e(0x4f9)][_0x20918e(0x3cf)](_0x49ad19);}[_0x332466(0x219)](){const _0x44e658=_0x332466;this[_0x44e658(0x39f)]?.();}[_0x332466(0x778)](_0x439d3c,_0x42d1d0){const _0x6dce8c=_0x332466,_0x5f3ae=this[_0x6dce8c(0x970)](_0x439d3c,_0x42d1d0);this[_0x6dce8c(0x4f9)][_0x6dce8c(0x778)](_0x5f3ae);}[_0x332466(0x970)](_0x2c0eea,_0x7c21b8){const _0x25482e=_0x332466;let _0x1d310a;switch(_0x2c0eea){case _0x200500['Add']:_0x1d310a=_0x25482e(0x7c5);break;case _0x200500['Update']:_0x1d310a='update';break;case _0x200500[_0x25482e(0x527)]:_0x1d310a=_0x25482e(0x6ea);}return{'action':_0x1d310a,'value':_0x7c21b8};}[_0x332466(0x86e)](_0x5c57c8){const _0x53a250=_0x332466;if('object'!=typeof _0x5c57c8||null===_0x5c57c8)throw new _0x212143(_0x198729[_0x53a250(0x8ef)],_0x53a250(0x1cd));for(const _0x2c12c2 in _0x5c57c8){const _0x579946=_0x5c57c8[_0x2c12c2];if(_0x53a250(0x7ff)!=typeof _0x579946||_0x579946 instanceof Date){if(![_0x53a250(0x5b3),_0x53a250(0x4c3),_0x53a250(0x27d)]['includes'](typeof _0x579946))throw new _0x212143(_0x198729[_0x53a250(0x8ef)],_0x53a250(0x579)+_0x2c12c2+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x53a250(0x86e)](_0x579946);}}}class _0x122251{[_0x332466(0x96e)]=[];[_0x332466(0x3d7)]=0x0;[_0x332466(0x65b)]=[];[_0x332466(0x694)]=!0x1;['cachedRoot']=null;[_0x332466(0x24b)]=null;[_0x332466(0xa73)];[_0x332466(0x3bc)]=null;[_0x332466(0x450)]=[];[_0x332466(0x981)];['_ready']=Promise[_0x332466(0xac2)]();[_0x332466(0x4e0)]=0x0;constructor(){}get[_0x332466(0x7c0)](){const _0x2522e5=_0x332466;return this[_0x2522e5(0x30e)];}async[_0x332466(0x582)](_0x14145a,_0x511b47=0x0){const _0x5821d3=_0x332466;this[_0x5821d3(0x3bc)]||(this['_ready']=new Promise(_0x5865bb=>{const _0x5423e5=_0x5821d3;this[_0x5423e5(0x3bc)]=_0x5865bb;}),this[_0x5821d3(0x4e0)]=_0x511b47);const _0x2d1caa=Date[_0x5821d3(0x3f4)]();if(this[_0x5821d3(0x694)])return void this['transactionQueue']['push'](_0x14145a);this['isComputingMMR']=!0x0;let _0x178f99={'hash':await this[_0x5821d3(0x44d)](_0x14145a),'height':0x0};const _0x470917=this[_0x5821d3(0x69f)](_0x178f99);this['readyPromises'][_0x5821d3(0x995)](_0x470917),await _0x470917,this[_0x5821d3(0x3d7)]+=0x1;const _0x2996e2=this[_0x5821d3(0x65b)][_0x5821d3(0x65d)];for(;this[_0x5821d3(0x65b)]['length']>0x0;){const _0x458d0c=this[_0x5821d3(0x65b)][_0x5821d3(0x557)]();await this[_0x5821d3(0x582)](_0x458d0c);}this[_0x5821d3(0x54d)](),await this[_0x5821d3(0x7c0)],this[_0x5821d3(0x49b)](_0x2d1caa,_0x2996e2);}async[_0x332466(0x814)](){const _0x1245a6=_0x332466;return await this[_0x1245a6(0x30e)],this[_0x1245a6(0x694)]?(this[_0x1245a6(0x24b)]||(this['rootComputationPromise']=this[_0x1245a6(0x652)]()),await this['rootComputationPromise']):this[_0x1245a6(0x554)];}['getPeaks'](){const _0x5129e5=_0x332466;return this[_0x5129e5(0x96e)][_0x5129e5(0x604)](({hash:_0x385f1a,height:_0x151d12})=>({'hash':_0x385f1a,'height':_0x151d12}));}[_0x332466(0x464)](){const _0xf5cac9=_0x332466;return this[_0xf5cac9(0x3d7)];}[_0x332466(0x53c)](_0x10f747){const _0x358f25=_0x332466;return this['peaks'][_0x358f25(0x405)](_0x12555c=>_0x12555c['height']===_0x10f747);}async[_0x332466(0x722)](_0x464b2d,_0x56de34){const _0x2bcdfe=_0x332466;return await this[_0x2bcdfe(0x7f6)](_0x464b2d+_0x56de34);}async['hashTransaction'](_0x23f5fb){const _0x1dde7d=_0x332466;return await this[_0x1dde7d(0x7f6)](JSON[_0x1dde7d(0x801)](_0x23f5fb));}[_0x332466(0x712)](_0x2ec6fe){const _0x1d40ca=_0x332466,_0x39bc42=this[_0x1d40ca(0x2ac)](),_0x125636=[],_0x11d821=[],_0x121ad0=[];for(const _0x282094 of _0x39bc42){const _0x20e60c=_0x2ec6fe[_0x1d40ca(0x405)](_0xb1562d=>_0xb1562d[_0x1d40ca(0xa12)]===_0x282094[_0x1d40ca(0xa12)]);_0x20e60c?_0x282094[_0x1d40ca(0xaa8)]!==_0x20e60c['hash']&&_0x125636[_0x1d40ca(0x995)]({'height':_0x282094[_0x1d40ca(0xa12)],'localPeak':_0x282094,'remotePeak':_0x20e60c}):_0x11d821[_0x1d40ca(0x995)](_0x282094);}for(const _0x1d133a of _0x2ec6fe)_0x39bc42[_0x1d40ca(0x405)](_0x41fc52=>_0x41fc52[_0x1d40ca(0xa12)]===_0x1d133a['height'])||_0x121ad0[_0x1d40ca(0x995)](_0x1d133a);return{'differingPeaks':_0x125636,'peaksMissingInRemote':_0x11d821,'peaksMissingInLocal':_0x121ad0};}async['recomputeRoot'](){const _0x1b83e1=_0x332466;this[_0x1b83e1(0x694)]=!0x0;const _0xde7d6c=this[_0x1b83e1(0x96e)][_0x1b83e1(0x604)](_0x5dd857=>_0x5dd857['hash']);return this[_0x1b83e1(0x554)]=await this[_0x1b83e1(0x665)](_0xde7d6c),this['isComputingMMR']=!0x1,this['rootComputationPromise']=null,this[_0x1b83e1(0x54d)](),this[_0x1b83e1(0x554)];}async['computeHash'](_0x317199){const _0x52573b=_0x332466;try{const _0x19272e=new TextEncoder()[_0x52573b(0x80a)](_0x317199),_0x1b8596=await crypto[_0x52573b(0x8c0)][_0x52573b(0x8b9)](_0x52573b(0x4de),_0x19272e);return Array['from'](new Uint8Array(_0x1b8596))[_0x52573b(0x604)](_0x5daeda=>_0x5daeda[_0x52573b(0x83b)](0x10)[_0x52573b(0x536)](0x2,'0'))[_0x52573b(0x7d5)]('');}catch(_0x3f0cf0){return console['error']('Hash\x20computation\x20failed,\x20retrying...',_0x3f0cf0),this['computeHash'](_0x317199);}}async[_0x332466(0x665)](_0x3a07a0){const _0x2cfd1f=_0x332466;return await this[_0x2cfd1f(0x7f6)](_0x3a07a0[_0x2cfd1f(0x7d5)](''));}async['combinePeaks'](_0x527bbb){const _0x4d639e=_0x332466;for(;this['peaks'][_0x4d639e(0x65d)]>0x0&&this[_0x4d639e(0x96e)][this[_0x4d639e(0x96e)][_0x4d639e(0x65d)]-0x1][_0x4d639e(0xa12)]===_0x527bbb[_0x4d639e(0xa12)];){const _0x29b780=this['peaks'][_0x4d639e(0x6a9)]();_0x527bbb={'hash':await this[_0x4d639e(0x722)](_0x29b780['hash'],_0x527bbb[_0x4d639e(0xaa8)]),'left':_0x29b780,'right':_0x527bbb,'height':_0x527bbb[_0x4d639e(0xa12)]+0x1};}this[_0x4d639e(0x96e)]['push'](_0x527bbb),await this[_0x4d639e(0x652)]();}['debounceAppendLog'](_0x548553,_0x48669f){const _0x2318fe=_0x332466;if(!_0x833509[_0x2318fe(0x1e6)](_0xebc42c[_0x2318fe(0x3c4)]))return;this[_0x2318fe(0xa73)]&&clearTimeout(this[_0x2318fe(0xa73)]);const _0x5b43fe=Date[_0x2318fe(0x3f4)]();this[_0x2318fe(0xa73)]=setTimeout(()=>_0x833509[_0x2318fe(0x5d5)](_0xebc42c['KeyValueDatabase'],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this[_0x2318fe(0x554)],_0x2318fe(0x370),this['getTotalNodes'](),_0x2318fe(0x8e4),_0x48669f,_0x2318fe(0x9f5),_0x5b43fe-_0x548553),0x7d0);}[_0x332466(0x54d)](){const _0x5c5b4f=_0x332466;this[_0x5c5b4f(0x981)]&&clearTimeout(this[_0x5c5b4f(0x981)]),this[_0x5c5b4f(0x981)]=setTimeout(async()=>{const _0x5aba58=_0x5c5b4f;try{const _0x4757a2=this[_0x5aba58(0x450)];if(this[_0x5aba58(0x450)]=[],await Promise[_0x5aba58(0x558)](_0x4757a2),this[_0x5aba58(0x4e0)]-=_0x4757a2[_0x5aba58(0x65d)],this[_0x5aba58(0x450)]['length']>0x0||this[_0x5aba58(0x4e0)]>0x0)return this['debounceReady']();this[_0x5aba58(0x3bc)]&&(this[_0x5aba58(0x3bc)](),this[_0x5aba58(0x3bc)]=null),this[_0x5aba58(0x30e)]=Promise[_0x5aba58(0xac2)](),this[_0x5aba58(0x694)]=!0x1;}catch(_0x2ad9b0){console[_0x5aba58(0x998)](_0x5aba58(0x974),_0x2ad9b0);}},0xa);}}const _0x55a149=['PeerConnection',_0x332466(0x7ae),_0x332466(0x66b),_0x332466(0x465),_0x332466(0x9d0),_0x332466(0x4ee),_0x332466(0x47a)],_0x1cc46e=[[_0x332466(0x215),_0x332466(0x209),_0x332466(0x293),_0x332466(0xa34),_0x332466(0x331),_0x332466(0x6ff),_0x332466(0x1e7),_0x332466(0x9d0),_0x332466(0x6c8)],['NodeJoin','NodeUpdate','NodeConnectionsUpdate',_0x332466(0x1b3)],[_0x332466(0x3d8),_0x332466(0x793),_0x332466(0x3d0),_0x332466(0x1bb),_0x332466(0x636),_0x332466(0x29a),_0x332466(0x9db),_0x332466(0x930),_0x332466(0x32e),_0x332466(0x9b4),'GenerativeAIContextStats',_0x332466(0x2be),_0x332466(0x699),_0x332466(0x49e),_0x332466(0xa78),_0x332466(0x850),_0x332466(0x523),'KeyValueDatabaseSendTransactions',_0x332466(0x8e8),_0x332466(0x21b),'LocalMediaStreamTrackFail',_0x332466(0x254),_0x332466(0x2b1),_0x332466(0x841),_0x332466(0x3fa),_0x332466(0x77b),_0x332466(0x54f),_0x332466(0x8b4),_0x332466(0x982),_0x332466(0x8c9)],[_0x332466(0x77b),_0x332466(0x982),_0x332466(0x3ba),_0x332466(0x73d),'CannotProvideMediaStream','MediaStreamUnavailable'],[_0x332466(0x269),'LocalReport'],[_0x332466(0x9b8)],[_0x332466(0x47a),_0x332466(0x8de)]];function _0x2d58db(_0xbb0cb4){const _0x544e36=_0x332466;return{..._0xbb0cb4,'systemMessageType':_0x55a149[_0xbb0cb4[_0x544e36(0x1de)]],'systemContentMessageType':_0x1cc46e[_0xbb0cb4[_0x544e36(0x1de)]][_0xbb0cb4[_0x544e36(0x4cb)][_0x544e36(0x5a0)]]};}const _0xcb10d8={'hour':_0x332466(0x1fb),'minute':_0x332466(0x1fb),'second':_0x332466(0x1fb)};function _0x4ba98f(_0x28fc0b,_0x3c8700){const _0xed896=_0x332466,_0x1bda3e=(function(){const _0x1946b0=a0_0x5279,_0x125530=new Date(),_0x4f9d7f=_0x125530['getMilliseconds'](),_0x4e7c8c=_0x125530[_0x1946b0(0x530)](_0x1946b0(0x775),_0xcb10d8)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x4e7c8c+'.'+(_0x4f9d7f>0x64?''+_0x4f9d7f:_0x4f9d7f>0xa?'0'+_0x4f9d7f:'00'+_0x4f9d7f);}()),{sourceId:_0x526494,destinationIds:_0x489ebd,systemMessageType:_0x2de802,systemContentMessageType:_0xdbf099}=_0x2d58db(_0x28fc0b);return _0x1bda3e+'\x20-\x20'+_0x3c8700+_0xed896(0x23e)+(_0x526494===_0x3c8700?_0xed896(0x949)+_0x2de802+_0xed896(0x590)+(_0x489ebd?''+_0x489ebd:_0xed896(0x281)):_0x28fc0b[_0xed896(0x41f)]===_0x2fb5ff?'Internal\x20event\x20\x27'+_0x2de802+'\x27':(_0x489ebd?'':_0xed896(0x738))+'Receiving\x20\x27'+_0x2de802+_0xed896(0x250)+_0x526494)+_0xed896(0x6f4)+_0xdbf099+'\x27\x20payload:';}function _0x5a78e8(_0x2dbd09,_0x346ffe){const _0x97736=_0x332466;if(!_0x833509[_0x97736(0x1e6)](_0x2dbd09))return;if(_0x2a816f['isProduction'])return;if('undefined'==typeof process)return;const _0x2df6a1=process[_0x97736(0x9e6)]();console['log']('Memory\x20Usage\x20at\x20'+_0x346ffe+':');for(const _0x2b39c0 in _0x2df6a1)console[_0x97736(0x5d5)]('\x20\x20'+_0x2b39c0+':\x20'+(_0x2df6a1[_0x2b39c0]/0x400/0x400)[_0x97736(0x2f6)](0x2)+'\x20MB');}function _0x1c0391(_0x3cabce,_0x8f9f2d){const _0x4d8cb7=_0x332466;if(!_0x833509['isChannelEnabled'](_0x8f9f2d))return _0x833509['debug'](_0x4d8cb7(0x25e)+_0x8f9f2d),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0xede61a,_0x56a30c)=>_0x56a30c}};let _0x28794f=0x0;return{'timingLogger':((()=>{const _0x23cbc5=_0x4d8cb7;let _0xa76a99=Date['now']();return{'start':()=>{const _0x4b356c=a0_0x5279;_0xa76a99=Date[_0x4b356c(0x3f4)]();},'now':()=>Date[_0x23cbc5(0x3f4)](),'logWaitTime':_0xad7f49=>{const _0x5f2028=_0x23cbc5;_0x28794f+=Date['now']()-_0xa76a99,_0x833509[_0x5f2028(0x5d5)](_0x8f9f2d,_0xad7f49,_0x28794f+'ms',_0x3cabce);}};})()),'logger':{'log':(_0x4dc8a1,_0x543aa0=()=>{})=>{const _0x15f395=_0x4d8cb7,_0x4fdf7b=_0x543aa0();_0x4fdf7b?_0x833509[_0x15f395(0x5d5)](_0x8f9f2d,_0x4dc8a1,_0x4fdf7b,_0x3cabce):_0x833509[_0x15f395(0x5d5)](_0x8f9f2d,_0x4dc8a1,_0x3cabce);},'performCalculation':(_0x311169,_0x84f761)=>_0x311169()}};}function _0x192075(_0x24c43c){const _0x401412=_0x332466;return _0x401412(0xa7f)==typeof Buffer?0x0:Buffer[_0x401412(0x19c)](JSON[_0x401412(0x801)](_0x24c43c),'utf8');}function _0x27c650(_0x25dc96){const _0x3bc3b4=_0x332466;if(0x0===_0x25dc96)return _0x3bc3b4(0x3e2);const _0x1c6ba3=Math[_0x3bc3b4(0xa0c)](Math['log'](_0x25dc96)/Math[_0x3bc3b4(0x5d5)](0x400));return parseFloat((_0x25dc96/Math['pow'](0x400,_0x1c6ba3))[_0x3bc3b4(0x2f6)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x1c6ba3];}class _0x5ed1a3 extends _0x46faea{[_0x332466(0x2e7)];['clusterId'];[_0x332466(0x640)];[_0x332466(0x4bb)];['db'];['dbKey'];[_0x332466(0x7db)]=new Map();[_0x332466(0x3a9)];[_0x332466(0x93e)];[_0x332466(0xa26)];[_0x332466(0x56a)];[_0x332466(0x58e)];[_0x332466(0x497)]=[];[_0x332466(0x426)]=()=>{};[_0x332466(0xa42)];['eventListener']=_0x1876b7();[_0x332466(0x39f)];[_0x332466(0x847)]=[];[_0x332466(0x5ec)];[_0x332466(0x9a9)];[_0x332466(0x32d)]=0x0;[_0x332466(0x600)]=0x0;[_0x332466(0x238)]=!0x1;[_0x332466(0x7d4)]=new _0x122251();['transactionHashMap']=new Map();['transactions']=[];[_0x332466(0x301)];[_0x332466(0x8d7)]=[];['loggingCycle'];constructor(_0x83fa2c,_0x498369,_0x41c4f9,_0x33d3de,_0x19fd24,_0x45322f,_0x46d6bc){const _0x478357=_0x332466;if(_0x478357(0x5b3)!=typeof _0x498369)throw new _0x212143(_0x198729[_0x478357(0x25d)],_0x478357(0x72a));if(super(_0x83fa2c,_0x498369),this[_0x478357(0x2e7)]=_0x83fa2c,this[_0x478357(0x762)]=_0x41c4f9,this[_0x478357(0x640)]=_0x33d3de,this[_0x478357(0x4bb)]=_0x46d6bc,this[_0x478357(0x976)]=_0x478357(0x9c8)+this[_0x478357(0x640)]+_0x478357(0x9c8)+this['clusterId']+'ccc'+this[_0x478357(0x308)],this[_0x478357(0x3a9)]=_0x1876b7(),this['loggingCycle']=function(_0x51a133,_0x211dca){const _0x18a5f6=_0x478357;if(!_0x833509[_0x18a5f6(0x1e6)](_0x211dca))return _0x833509[_0x18a5f6(0x914)](_0x18a5f6(0x25e)+_0x211dca),{..._0x1c0391(_0x51a133,_0x211dca),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':_0x18a5f6(0x3e2)})};const {timingLogger:_0x3fc414,logger:_0x56957c}=_0x1c0391(_0x51a133,_0x211dca);let _0x523789=0x0,_0x162210=0x0;return{'timingLogger':_0x3fc414,'logger':_0x56957c,'logDataSent':(_0x22ac96,_0x31333a=!0x1)=>{const _0x1c0f45=_0x18a5f6,_0x2fdb96=_0x192075(_0x22ac96);return _0x31333a&&_0x833509[_0x1c0f45(0x5d5)](_0x211dca,_0x1c0f45(0x831),_0x51a133,_0x2fdb96),_0x523789+=_0x2fdb96,_0x2fdb96;},'logDataReceived':(_0x4f30f5,_0x428733=!0x1)=>{const _0x4cafe5=_0x18a5f6,_0x19f3af=_0x192075(_0x4f30f5);return _0x428733&&_0x833509[_0x4cafe5(0x5d5)](_0x211dca,_0x4cafe5(0x8b0),_0x51a133,_0x19f3af),_0x162210+=_0x19f3af,_0x19f3af;},'getDataLogged':()=>({'dataSent':_0x27c650(_0x523789),'dataReceived':_0x27c650(_0x162210)})};}(this['label'],_0xebc42c['KeyValueDatabase']),this[_0x478357(0x56a)]=new Promise(_0x2d5800=>{const _0x78ed4e=_0x478357;this[_0x78ed4e(0x58e)]=_0x2d5800;}),_0x19fd24 instanceof _0x318f60)this[_0x478357(0x5ec)]=_0x19fd24[_0x478357(0x407)]();else{const [_0x16848b,_0x3ec2e8]=_0x318f60['validateLayout'](_0x19fd24);if(!_0x16848b)throw new _0x212143(_0x198729['KeyValueDatabaseInvalidLayout'],'Invalid\x20layout:\x20'+_0x3ec2e8);this[_0x478357(0x5ec)]=structuredClone(_0x19fd24);}this['addReservedTables'](this[_0x478357(0x5ec)]),this['db']=new _0x45322f(this[_0x478357(0x976)],this['layout']),this[_0x478357(0x78f)]();}async[_0x332466(0x597)](_0x43f2c,_0x3f3d45){const _0x244fb1=_0x332466;if(_0x833509[_0x244fb1(0x5d5)](_0xebc42c['KeyValueDatabase'],_0x244fb1(0x675),this['label']),!this[_0x244fb1(0x93e)])throw new _0x1ba31e(_0x1ba31e[_0x244fb1(0x631)][_0x244fb1(0x911)]);if(await this[_0x244fb1(0x56a)],await this[_0x244fb1(0x4bb)](_0x43f2c),await this['mmr']['getRoot']()===_0x3f3d45){const _0x48d26f={'sourceId':this[_0x244fb1(0x2e7)]['getId'](),'destinationIds':[_0x43f2c],'propagate':!0x0,'messageType':_0x2e0616[_0x244fb1(0x66b)],'content':{'type':_0x5d4388[_0x244fb1(0xa78)],'label':this['label'],'mmrRoot':_0x3f3d45}};return this['loggingCycle']['logDataSent'](_0x48d26f),void this[_0x244fb1(0x380)]['publish'](_0x48d26f);}const _0x338759=this[_0x244fb1(0x7d4)][_0x244fb1(0x2ac)](),_0x1fbd03={'sourceId':this[_0x244fb1(0x2e7)][_0x244fb1(0x9cc)](),'destinationIds':[_0x43f2c],'propagate':!0x0,'messageType':_0x2e0616[_0x244fb1(0x66b)],'content':{'type':_0x5d4388[_0x244fb1(0x49e)],'label':this[_0x244fb1(0x308)],'peaks':_0x338759}};this[_0x244fb1(0x74f)][_0x244fb1(0x77d)](_0x1fbd03),this[_0x244fb1(0x380)]['publish'](_0x1fbd03);}async[_0x332466(0x55b)](_0x52a909,_0x464556){const _0x15e581=_0x332466,_0x2560ff=await this[_0x15e581(0x7d4)][_0x15e581(0x814)](),_0x337e4a=_0x2560ff===_0x464556;if(_0x833509[_0x15e581(0x5d5)](_0xebc42c[_0x15e581(0x3c4)],'Received\x20ContentSynchronized\x20from\x20'+_0x52a909+_0x15e581(0x1ed)+_0x337e4a,this[_0x15e581(0x308)]),_0x337e4a)return this['clearSyncTimeout'](),void this[_0x15e581(0x5df)]();_0x833509[_0x15e581(0x5d5)](_0xebc42c['KeyValueDatabase'],_0x15e581(0xa75),_0x2560ff,_0x464556),_0x833509[_0x15e581(0x671)]('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this[_0x15e581(0x2e7)][_0x15e581(0x9cc)](),'nodeType':this['localNode'][_0x15e581(0x5a0)],'remoteId':_0x52a909,'data':{'localMMRRoot':_0x2560ff,'remoteMMRRoot':_0x464556}});const _0x522278={'sourceId':this[_0x15e581(0x2e7)][_0x15e581(0x9cc)](),'messageType':_0x2e0616[_0x15e581(0x66b)],'propagate':!0x0,'content':{'type':_0x5d4388[_0x15e581(0x21b)],'label':this[_0x15e581(0x308)],'mmrRoot':_0x2560ff}};this[_0x15e581(0x380)][_0x15e581(0x778)](_0x522278);}async[_0x332466(0xa90)](_0x4e5e1c,_0x428e07){const _0x59bc76=_0x332466;if(_0x833509[_0x59bc76(0x5d5)](_0xebc42c[_0x59bc76(0x3c4)],_0x59bc76(0x1ae),_0x4e5e1c,_0x59bc76(0x308),this[_0x59bc76(0x308)],_0x59bc76(0x96e),_0x428e07),this[_0x59bc76(0x238)])return;this[_0x59bc76(0x238)]=!0x0,this[_0x59bc76(0x5ff)]();const {differingPeaks:_0x52f9b1,peaksMissingInLocal:_0x406d6d,peaksMissingInRemote:_0x4e14c9}=this[_0x59bc76(0x7d4)][_0x59bc76(0x712)](_0x428e07);_0x833509[_0x59bc76(0x5d5)](_0xebc42c[_0x59bc76(0x3c4)],_0x59bc76(0x1da),{'differingPeaks':_0x52f9b1,'peaksMissingInLocal':_0x406d6d,'peaksMissingInRemote':_0x4e14c9});const _0x149185={'sourceId':this['localNode'][_0x59bc76(0x9cc)](),'destinationIds':[_0x4e5e1c],'propagate':!0x0,'messageType':_0x2e0616[_0x59bc76(0x66b)],'content':{'type':_0x5d4388[_0x59bc76(0x850)],'label':this['label'],'peakHeights':_0x406d6d[_0x59bc76(0x604)](_0x163e34=>_0x163e34[_0x59bc76(0xa12)])['concat'](_0x52f9b1[_0x59bc76(0x604)](_0x3b19d3=>_0x3b19d3[_0x59bc76(0xa12)]))}};if(this[_0x59bc76(0x380)]['publish'](_0x149185),_0x52f9b1['length']>0x0||_0x4e14c9[_0x59bc76(0x65d)]>0x0){const _0x443f4c=_0x4e14c9[_0x59bc76(0x604)](_0x1f6127=>_0x1f6127['height'])['concat'](_0x52f9b1[_0x59bc76(0x604)](_0x1e62aa=>_0x1e62aa[_0x59bc76(0xa12)]));await this['sendPeakTransactions'](_0x4e5e1c,_0x443f4c,!0x0);}}async[_0x332466(0xabb)](_0x556bc9,_0x48e186,_0x10aa4a=!0x1){const _0x568007=_0x332466;_0x833509[_0x568007(0x5d5)](_0xebc42c['KeyValueDatabase'],_0x568007(0x5d3),this[_0x568007(0x308)]);const _0x26facb=_0x48e186[_0x568007(0x604)](_0x283389=>this[_0x568007(0x7d4)][_0x568007(0x53c)](_0x283389))[_0x568007(0x962)](Boolean);if(!_0x26facb['length']||_0x48e186[_0x568007(0x65d)]!==_0x26facb[_0x568007(0x65d)])throw new _0x1ba31e(_0x1ba31e[_0x568007(0x631)][_0x568007(0xa49)],{'message':_0x568007(0x4ba),'peakHeights':_0x48e186,'peaks':_0x26facb['map'](_0x2f9a9e=>_0x2f9a9e[_0x568007(0xa12)]),'nodeId':_0x556bc9});const _0x1216cb=[];for(const _0x56ea00 of _0x26facb)this['collectTransactionsFromNode'](_0x56ea00,_0x1216cb);const _0x569ca3=_0x10aa4a?void 0x0:[_0x556bc9],_0x409e9c={'sourceId':this[_0x568007(0x2e7)][_0x568007(0x9cc)](),'destinationIds':_0x569ca3,'messageType':_0x2e0616[_0x568007(0x66b)],'propagate':!0x0,'content':{'type':_0x5d4388['KeyValueDatabaseSendTransactions'],'label':this[_0x568007(0x308)],'transactions':_0x1216cb}};this[_0x568007(0x74f)][_0x568007(0x77d)](_0x409e9c),this[_0x568007(0x380)][_0x568007(0x778)](_0x409e9c);}async[_0x332466(0x687)](_0x1d4c02,_0x2913cc){const _0x5544b7=_0x332466;_0x833509[_0x5544b7(0x5d5)](_0xebc42c[_0x5544b7(0x3c4)],_0x5544b7(0x973)+_0x2913cc[_0x5544b7(0x65d)]+'\x20transactions\x20from\x20node\x20'+_0x1d4c02+_0x5544b7(0x23e)+this['label']);for(const _0x37bcb of _0x2913cc){const _0x4aefce=await this[_0x5544b7(0x93e)][_0x5544b7(0x4d1)](_0x37bcb['id']);if(!(_0x4aefce&&this[_0x5544b7(0x75c)](_0x4aefce,_0x37bcb)>=0x0)){if(_0x37bcb['action']===_0x200500[_0x5544b7(0x527)]){const [_0x2393d3,_0x2bf425]=_0x37bcb['id'][_0x5544b7(0x616)]('::'),_0x9dc467=this[_0x5544b7(0x735)](_0x2393d3);await _0x9dc467[_0x5544b7(0x6ea)](_0x2bf425);}else this['transactionsToSync'][_0x5544b7(0x995)](_0x37bcb['id']);}}if(_0x833509[_0x5544b7(0x5d5)](_0xebc42c[_0x5544b7(0x3c4)],_0x5544b7(0xa02)+this[_0x5544b7(0x497)]['length']+_0x5544b7(0x5a3),this[_0x5544b7(0x308)]),this[_0x5544b7(0x497)][_0x5544b7(0x65d)]>0x0){const _0x42f874={'sourceId':this[_0x5544b7(0x2e7)][_0x5544b7(0x9cc)](),'destinationIds':[_0x1d4c02],'messageType':_0x2e0616['Content'],'propagate':!0x0,'content':{'type':_0x5d4388[_0x5544b7(0x523)],'label':this['label'],'transactionIds':this[_0x5544b7(0x497)]}};this[_0x5544b7(0x74f)]['logDataSent'](_0x42f874),this[_0x5544b7(0x380)][_0x5544b7(0x778)](_0x42f874);}}[_0x332466(0x357)](){this['sendStats']();}[_0x332466(0x62f)](){const _0x15d574=_0x332466;return _0x57c18a[_0x15d574(0x88a)][_0x15d574(0x3c4)];}[_0x332466(0x5e0)](){const _0x296494=_0x332466;this['db']['close'](),this[_0x296494(0xa26)]?.(),clearTimeout(this[_0x296494(0x9a9)]),delete this['debounceStats'],super[_0x296494(0x5e0)]();}['close'](){const _0x51b048=_0x332466;this['clearSyncTimeout'](),this['systemTopic'][_0x51b048(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x51b048(0x66b)],'content':{'type':_0x5d4388[_0x51b048(0x636)],'label':this[_0x51b048(0x308)]}});}[_0x332466(0x735)](_0x3d1d09){const _0x1ac746=_0x332466,_0x396cc3=this['tables']['get'](_0x3d1d09);if(_0x396cc3)return _0x396cc3;try{if(!this['db'][_0x1ac746(0x234)](_0x3d1d09))throw new _0x212143(_0x198729[_0x1ac746(0x2ea)],_0x1ac746(0x5e2));const _0x5be6bc=new _0x12f736(this['db'][_0x1ac746(0x289)](_0x3d1d09),_0x3d1d09,this['tableObserver']);return this[_0x1ac746(0x7db)]['set'](_0x3d1d09,_0x5be6bc),{'get':_0x5be6bc['get'][_0x1ac746(0x531)](_0x5be6bc),'set':_0x5be6bc['set'][_0x1ac746(0x531)](_0x5be6bc),'add':_0x5be6bc['add'][_0x1ac746(0x531)](_0x5be6bc),'delete':_0x5be6bc[_0x1ac746(0x6ea)][_0x1ac746(0x531)](_0x5be6bc),'clear':_0x5be6bc[_0x1ac746(0x767)][_0x1ac746(0x531)](_0x5be6bc),'list':_0x5be6bc['list'][_0x1ac746(0x531)](_0x5be6bc),'count':_0x5be6bc[_0x1ac746(0x872)][_0x1ac746(0x531)](_0x5be6bc),'subscribe':_0x5be6bc[_0x1ac746(0x3cf)][_0x1ac746(0x531)](_0x5be6bc),'unsubscribe':_0x5be6bc[_0x1ac746(0x219)][_0x1ac746(0x531)](_0x5be6bc)};}catch(_0x1e8116){if(_0x1e8116 instanceof _0x212143)throw _0x1e8116;throw new _0x212143(_0x198729[_0x1ac746(0xa8c)],_0x1ac746(0x5a9));}}[_0x332466(0x3cf)](_0x2514d4){const _0x5c9a30=_0x332466;this[_0x5c9a30(0x39f)]=this[_0x5c9a30(0x4f9)][_0x5c9a30(0x3cf)](_0x2514d4),this['isPromiseResolved'](this['isSync'])[_0x5c9a30(0xa3b)](_0x128368=>{const _0x473c0a=_0x5c9a30;_0x128368&&this[_0x473c0a(0x4f9)][_0x473c0a(0x778)]({'event':_0x57c18a[_0x473c0a(0x1f0)]['SyncComplete']});});}[_0x332466(0x219)](){const _0x2aea6f=_0x332466;this[_0x2aea6f(0x39f)]?.(),this[_0x2aea6f(0x39f)]=void 0x0;}async['open'](){const _0x3790eb=_0x332466;_0x5a78e8(_0xebc42c['KeyValueDatabase'],_0x3790eb(0x990));const _0x5c7a36=[_0x2662bd,_0x594428],_0x64ec07=[];try{await this['db'][_0x3790eb(0x59f)]();const _0x4b66e4=this['db'][_0x3790eb(0x289)](_0x594428),_0x2d577c=await _0x4b66e4[_0x3790eb(0xaa6)](),{id:_0x56155b,layout:_0x2f8c67}=_0x2d577c[0x0]??{};if(_0x2f8c67){for(const _0x2163a0 in _0x2f8c67)_0x5c7a36['includes'](_0x2163a0)||this['db']['hasTable'](_0x2163a0)||_0x64ec07[_0x3790eb(0x995)](_0x2163a0);await _0x4b66e4[_0x3790eb(0x72f)](_0x56155b,{'layout':this[_0x3790eb(0x5ec)]});}else await _0x4b66e4['add']({'layout':this[_0x3790eb(0x5ec)]});}catch(_0x5e63f6){throw new _0x212143(_0x198729[_0x3790eb(0xa8c)],_0x5e63f6[_0x3790eb(0x1e2)]||_0x3790eb(0x610));}this['instantiateTransactionTable'](),await this[_0x3790eb(0x82b)](),this[_0x3790eb(0x19d)](),this[_0x3790eb(0x62e)](),_0x64ec07[_0x3790eb(0x602)](_0x34e93f=>this['deleteTransactionsForTable'](_0x34e93f));}async['sync'](_0x1a6c3d,_0xc28732=()=>{},_0x39fcac=!0x1){const _0x31dbc2=_0x332466;if(!_0x1a6c3d)return setTimeout(()=>{const _0x51e5a1=a0_0x5279;this[_0x51e5a1(0x5ff)](),this[_0x51e5a1(0x5df)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x31dbc2(0x426)]=_0xc28732,this[_0x31dbc2(0xa42)]=setTimeout(_0xc28732,0x7d0),!this[_0x31dbc2(0x380)])throw new _0x1ba31e(_0x1ba31e[_0x31dbc2(0x631)][_0x31dbc2(0x899)]);const _0x56ed7e=await this[_0x31dbc2(0x7d4)][_0x31dbc2(0x814)](),_0x5094be={'sourceId':this[_0x31dbc2(0x2e7)][_0x31dbc2(0x9cc)](),'messageType':_0x2e0616[_0x31dbc2(0x66b)],'propagate':_0x39fcac,'content':{'type':_0x5d4388[_0x31dbc2(0x21b)],'label':this[_0x31dbc2(0x308)],'mmrRoot':_0x56ed7e}};return this[_0x31dbc2(0x74f)][_0x31dbc2(0x77d)](_0x5094be),this[_0x31dbc2(0x380)][_0x31dbc2(0x778)](_0x5094be),this[_0x31dbc2(0x56a)];}async[_0x332466(0x6fb)](_0x4afca9,_0x2e8d81){const _0x4b2207=_0x332466;if(_0x833509[_0x4b2207(0x5d5)](_0xebc42c[_0x4b2207(0x3c4)],_0x4b2207(0x444)+_0x2e8d81[_0x4b2207(0x65d)],this[_0x4b2207(0x308)]),!this[_0x4b2207(0x93e)])throw new _0x1ba31e(_0x1ba31e[_0x4b2207(0x631)][_0x4b2207(0x911)]);for(const _0x597e70 of _0x2e8d81){const _0x58f68a=await this[_0x4b2207(0x93e)][_0x4b2207(0x4d1)](_0x597e70);if(!_0x58f68a)continue;const [_0x423907,_0x4e8a94]=_0x597e70[_0x4b2207(0x616)]('::'),_0x38cff0=this[_0x4b2207(0x735)](_0x423907),_0x545d5f=await _0x38cff0['get'](_0x4e8a94);_0x545d5f?(_0x58f68a[_0x4b2207(0x69e)]=_0x545d5f,this[_0x4b2207(0x922)](_0x58f68a,[_0x4afca9])):_0x833509[_0x4b2207(0x671)](_0x4b2207(0x76f),{'nodeId':this[_0x4b2207(0x2e7)][_0x4b2207(0x9cc)](),'nodeType':this['localNode'][_0x4b2207(0x5a0)],'remoteId':_0x4afca9,'data':{'tableKeys':Object[_0x4b2207(0x4be)](this[_0x4b2207(0x7db)]),'transactionId':_0x597e70,'transactions':this['transactionsToSync'],'tableName':_0x423907,'key':_0x4e8a94}});}}async[_0x332466(0x2d5)](_0x3bc353){const _0x521b1f=_0x332466;if(!this[_0x521b1f(0x93e)])throw new _0x1ba31e(_0x1ba31e[_0x521b1f(0x631)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x25d033=await this[_0x521b1f(0x7d4)][_0x521b1f(0x44d)](_0x3bc353),_0x329ae1=this[_0x521b1f(0x859)][_0x521b1f(0x4d1)](_0x25d033);if(_0x329ae1&&this[_0x521b1f(0x75c)](_0x3bc353,_0x329ae1)<=0x0)return void _0x833509['log'](_0xebc42c[_0x521b1f(0x3c4)],_0x521b1f(0xa06),_0x3bc353);const _0x28d0c8={..._0x3bc353};return delete _0x28d0c8[_0x521b1f(0x69e)],this['debounceRebuildMMRWithTransaction'](_0x28d0c8),await this[_0x521b1f(0x93e)][_0x521b1f(0x72f)](_0x3bc353['id'],_0x28d0c8),_0x3bc353;}[_0x332466(0x75c)](_0x432f6e,_0x3dd627){const _0xa5912=_0x332466;return _0x432f6e[_0xa5912(0x2ee)]!==_0x3dd627[_0xa5912(0x2ee)]?_0x432f6e['timestamp']-_0x3dd627['timestamp']:_0x432f6e[_0xa5912(0x56b)]-_0x3dd627['priority'];}async[_0x332466(0x753)](_0x3be9c7){const _0x48ce02=_0x332466;if(!this[_0x48ce02(0x93e)])throw new _0x1ba31e(_0x1ba31e[_0x48ce02(0x631)][_0x48ce02(0x911)]);const _0x12e2bd=_0x3be9c7[_0x48ce02(0x43c)]+'::'+_0x3be9c7[_0x48ce02(0x278)],_0x1d8936=await _0x5673af['getEstimatedTimestamp'](),_0x584a26={'id':_0x12e2bd,'priority':Math['random'](),'timestamp':_0x1d8936,'action':_0x3be9c7['action']};if(await this[_0x48ce02(0x2d5)](_0x584a26))return _0x584a26;}async['deleteTransactionsForTable'](_0x1cda10){const _0x41d3d8=_0x332466;if(!this['transactionTable'])throw new _0x1ba31e(_0x1ba31e[_0x41d3d8(0x631)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x554bd9=_0x25b6c1[_0x41d3d8(0x288)]('id')['where']('between',[_0x1cda10+'::',_0x1cda10+'::']),_0x366824=await this[_0x41d3d8(0x93e)][_0x41d3d8(0xaa6)](_0x554bd9[_0x41d3d8(0xac6)]());for(const _0x4519af of _0x366824)await this['transactionTable']['delete'](_0x4519af['id']);}[_0x332466(0x19d)](){this['onMessage'](async(_0x224abe,_0x5cc29b)=>{const _0x2f592b=a0_0x5279;if(_0x5cc29b instanceof File)return;if(this[_0x2f592b(0x74f)][_0x2f592b(0x52c)](_0x5cc29b),!await this[_0x2f592b(0x2d5)](_0x5cc29b))return void this[_0x2f592b(0x799)](_0x224abe,_0x5cc29b);if(!_0x5cc29b['value'])throw new _0x1ba31e(_0x1ba31e[_0x2f592b(0x631)][_0x2f592b(0x372)]);const [_0x509087,_0x5bef03]=_0x5cc29b['id']['split']('::'),_0x107a37=this[_0x2f592b(0x735)](_0x509087);if(!_0x107a37)throw new _0x1ba31e(_0x1ba31e['codes'][_0x2f592b(0x374)],{'table':_0x107a37});let _0x21b637=0x0;switch(_0x5cc29b['action']){case _0x200500[_0x2f592b(0x5b0)]:case _0x200500[_0x2f592b(0x743)]:{const _0x6263d2=_0x107a37[_0x2f592b(0x72f)](_0x5bef03,_0x5cc29b['value'],!0x1);_0x21b637=JSON['stringify'](_0x5cc29b[_0x2f592b(0x69e)])[_0x2f592b(0x65d)],this['transactionsToSync'][_0x2f592b(0x988)](_0x5cc29b['id'])&&this[_0x2f592b(0x847)][_0x2f592b(0x995)](_0x6263d2);break;}case _0x200500[_0x2f592b(0x527)]:{const _0x5b13c6=_0x107a37['delete'](_0x5bef03,!0x1);this[_0x2f592b(0x497)]['includes'](_0x5cc29b['id'])&&this[_0x2f592b(0x847)][_0x2f592b(0x995)](_0x5b13c6);break;}}_0x833509[_0x2f592b(0x788)](_0x80219b['KeyValueDatabase'],{'type':_0x2f592b(0x67f),'label':this[_0x2f592b(0x308)],'nodeId':this['localNode'][_0x2f592b(0x9cc)](),'nodeType':this['localNode'][_0x2f592b(0x5a0)],'clusterId':this['clusterId'],'tableName':_0x509087,'key':_0x5bef03,'size':_0x21b637}),this['checkSyncComplete'](_0x224abe,_0x5cc29b);});}['setOnTableWriteHandler'](){const _0xcabc3a=_0x332466;this['tableUnsubscriber']=this[_0xcabc3a(0x3a9)][_0xcabc3a(0x3cf)](async _0x3dc041=>{const _0x19e4fe=_0xcabc3a;let _0x25f98d=0x0;switch(_0x3dc041[_0x19e4fe(0x605)]){case _0x200500[_0x19e4fe(0x5b0)]:case _0x200500[_0x19e4fe(0x743)]:case _0x200500[_0x19e4fe(0x527)]:{const _0x9d264c=await this[_0x19e4fe(0x753)](_0x3dc041);if(!_0x9d264c)return;_0x9d264c[_0x19e4fe(0x69e)]=_0x3dc041[_0x19e4fe(0x69e)],this['send'](_0x9d264c),_0x25f98d=JSON['stringify'](_0x3dc041[_0x19e4fe(0x69e)])[_0x19e4fe(0x65d)],this[_0x19e4fe(0x32d)]+=0x1;break;}case _0x552c68['Get']:case _0x552c68[_0x19e4fe(0x9b1)]:case _0x552c68[_0x19e4fe(0x5d0)]:this[_0x19e4fe(0x600)]+=0x1;}_0x833509[_0x19e4fe(0x788)](_0x80219b[_0x19e4fe(0x3c4)],{'type':_0x3dc041['action'],'label':this['label'],'nodeId':this[_0x19e4fe(0x2e7)]['getId'](),'nodeType':this[_0x19e4fe(0x2e7)][_0x19e4fe(0x5a0)],'clusterId':this[_0x19e4fe(0x762)],'tableName':_0x3dc041[_0x19e4fe(0x43c)],'key':_0x3dc041['key'],'size':_0x25f98d}),this[_0x19e4fe(0x78f)]();});}[_0x332466(0x1e8)](){const _0x18e431=_0x332466;this['db']&&(this[_0x18e431(0x93e)]||(this['transactionTable']=this['db']['getTableConnector'](_0x2662bd)));}[_0x332466(0x5ff)](){const _0x34f706=_0x332466;this[_0x34f706(0xa42)]&&(clearTimeout(this[_0x34f706(0xa42)]),delete this['syncTimeout']);}async[_0x332466(0x5df)](){const _0x216de0=_0x332466;await this[_0x216de0(0x7d4)][_0x216de0(0x7c0)],this['logSyncMetrics'](),this[_0x216de0(0x4f9)][_0x216de0(0x778)]({'event':_0x57c18a[_0x216de0(0x1f0)]['SyncComplete']}),this['syncResolve']?.(!0x0),delete this[_0x216de0(0x58e)],this[_0x216de0(0x78f)](),_0x833509[_0x216de0(0x5d5)](_0xebc42c[_0x216de0(0x3c4)],'Sync\x20completed',this[_0x216de0(0x308)]);}async['publishSyncCompletedAfterWrites'](_0x506645){const _0x336014=_0x332466;await Promise[_0x336014(0x558)](this[_0x336014(0x847)]),_0x833509[_0x336014(0x5d5)](_0xebc42c[_0x336014(0x3c4)],_0x336014(0x402)+this[_0x336014(0x847)][_0x336014(0x65d)]+'\x20writes\x20from\x20'+_0x506645+_0x336014(0x957),this[_0x336014(0x308)]),await this[_0x336014(0x7d4)]['ready'],await this[_0x336014(0x40f)](_0x506645),await this[_0x336014(0x5df)]();}[_0x332466(0x799)](_0x2a6edc,_0x586e7a){const _0x35c1f9=_0x332466;this[_0x35c1f9(0x497)][_0x35c1f9(0x988)](_0x586e7a['id'])&&(this[_0x35c1f9(0x5ff)](),this[_0x35c1f9(0x497)]=this['transactionsToSync'][_0x35c1f9(0x962)](_0x2cc13e=>_0x2cc13e!==_0x586e7a['id']),0x0!==this[_0x35c1f9(0x497)][_0x35c1f9(0x65d)]?this['syncTimeout']=setTimeout(this[_0x35c1f9(0x426)],0x7d0):this[_0x35c1f9(0xadc)](_0x2a6edc));}['sendStats'](){const _0x14ea88=_0x332466;this['debounceStats']&&clearTimeout(this[_0x14ea88(0x9a9)]),this['debounceStats']=setTimeout(async()=>{const _0x406720=_0x14ea88;delete this[_0x406720(0x9a9)];let _0x21a3c6=0x0;for(const _0x17c418 of this[_0x406720(0x7db)]['values']())_0x21a3c6+=await _0x17c418['calculateSize']();this[_0x406720(0x380)][_0x406720(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x406720(0x66b)],'content':{'type':_0x5d4388[_0x406720(0x8e8)],'label':this[_0x406720(0x308)],'stats':{'timestamp':Date[_0x406720(0x3f4)](),'storage':_0x21a3c6,'messagesSent':this[_0x406720(0x940)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x406720(0x99a)],'writes':this[_0x406720(0x32d)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x833509['logStorage'](_0x80219b[_0x406720(0x3c4)],'ccc'+this[_0x406720(0x762)]+'ccc'+this[_0x406720(0x308)],_0x21a3c6);},_0x11318f);}[_0x332466(0x713)](_0x484b8d){const _0xa4fb83=_0x332466;if(_0x484b8d['tables'][_0x2662bd])throw new _0x212143(_0x198729[_0xa4fb83(0x8d1)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x2662bd+_0xa4fb83(0x802));if(_0x484b8d[_0xa4fb83(0x7db)][_0x594428])throw new _0x212143(_0x198729[_0xa4fb83(0x8d1)],_0xa4fb83(0x4f0)+_0x594428+_0xa4fb83(0x802));_0x484b8d[_0xa4fb83(0x7db)][_0x2662bd]={'indexes':[]},_0x484b8d[_0xa4fb83(0x7db)][_0x594428]={'indexes':[]};}async[_0x332466(0xa93)](_0x4c51f4){const _0x5b622c=_0x332466;return Promise[_0x5b622c(0x918)]([_0x4c51f4,Promise[_0x5b622c(0xac2)](_0x5b622c(0x55d))])[_0x5b622c(0xa3b)](_0x483eae=>_0x5b622c(0x55d)!==_0x483eae);}async[_0x332466(0x40f)](_0x1a858d){const _0x4c3f41=_0x332466;await this[_0x4c3f41(0x782)]();const _0x17e560=await this[_0x4c3f41(0x7d4)][_0x4c3f41(0x814)](),_0x136b79={'sourceId':this['localNode'][_0x4c3f41(0x9cc)](),'destinationIds':[_0x1a858d],'propagate':!0x0,'messageType':_0x2e0616[_0x4c3f41(0x66b)],'content':{'type':_0x5d4388[_0x4c3f41(0xa78)],'label':this[_0x4c3f41(0x308)],'mmrRoot':_0x17e560}};this[_0x4c3f41(0x380)][_0x4c3f41(0x778)](_0x136b79);}async[_0x332466(0x82b)](){const _0x45abd1=_0x332466;if(!this[_0x45abd1(0x93e)])throw new _0x1ba31e(_0x1ba31e['codes'][_0x45abd1(0x911)]);this[_0x45abd1(0x2c4)]=await this['transactionTable']['list'](),this['transactions'][_0x45abd1(0xa4f)](this[_0x45abd1(0x75c)]),this[_0x45abd1(0x7d4)]=new _0x122251(),this[_0x45abd1(0x859)]=new Map();for(const _0x4a4fc2 of this[_0x45abd1(0x2c4)])this['appendTransactionAndUpdateHashMap'](_0x4a4fc2,this[_0x45abd1(0x2c4)]['length']);this[_0x45abd1(0xa4e)]();}async[_0x332466(0x320)](_0x3410d2,_0x1e500f){const _0x3b0982=_0x332466,_0x1f1077={..._0x3410d2};delete _0x1f1077[_0x3b0982(0x69e)],await this['mmr'][_0x3b0982(0x582)](_0x1f1077,_0x1e500f);const _0x4a07a6=await this[_0x3b0982(0x7d4)][_0x3b0982(0x44d)](_0x1f1077);this[_0x3b0982(0x859)]['set'](_0x4a07a6,_0x3410d2);}[_0x332466(0xac5)](_0x2afcc2){const _0x51a990=_0x332466;return this[_0x51a990(0x859)][_0x51a990(0x4d1)](_0x2afcc2);}[_0x332466(0x62d)](_0x36c2a5,_0x42b8a7){const _0x4a7abe=_0x332466;if(0x0!==_0x36c2a5[_0x4a7abe(0xa12)])_0x36c2a5[_0x4a7abe(0x6a2)]&&this[_0x4a7abe(0x62d)](_0x36c2a5[_0x4a7abe(0x6a2)],_0x42b8a7),_0x36c2a5[_0x4a7abe(0x44e)]&&this['collectTransactionsFromNode'](_0x36c2a5[_0x4a7abe(0x44e)],_0x42b8a7);else{const _0x4a0d31=this[_0x4a7abe(0xac5)](_0x36c2a5[_0x4a7abe(0xaa8)]);_0x4a0d31&&_0x42b8a7[_0x4a7abe(0x995)](_0x4a0d31);}}async[_0x332466(0x77c)](){const _0x48004d=_0x332466;this['debounceRebuildMMR']&&(clearTimeout(this[_0x48004d(0x301)]),delete this[_0x48004d(0x301)],this['transactionsToAppend'][_0x48004d(0x65d)]>0x0&&(this['transactions'][_0x48004d(0x995)](...this[_0x48004d(0x8d7)][_0x48004d(0xa4f)](this[_0x48004d(0x75c)])),this['transactionsToAppend']=[]));const _0x141f5a=this[_0x48004d(0xac0)]();this[_0x48004d(0x7d4)]=new _0x122251(),this[_0x48004d(0x859)]['clear'](),this[_0x48004d(0x2c4)][_0x48004d(0xa4f)](this[_0x48004d(0x75c)]);for(const _0x606f08 of this['transactions'])this[_0x48004d(0x320)](_0x606f08,this[_0x48004d(0x2c4)][_0x48004d(0x65d)]);await this[_0x48004d(0x7d4)]['ready'],this['logMMRRebuild'](_0x141f5a);}['startLoggingCycle'](){const _0x276e98=_0x332466;return this[_0x276e98(0x74f)][_0x276e98(0xa62)][_0x276e98(0x9ac)](async()=>{const _0x95176d=_0x276e98,_0x924339=await this[_0x95176d(0x7d4)][_0x95176d(0x814)]();return{'startTime':Date['now'](),'initialRoot':_0x924339};},Promise[_0x276e98(0xac2)]({'startTime':0x0,'initialRoot':''}));}async[_0x332466(0x4dc)](_0x17e261){const _0x4fb600=_0x332466;try{const {startTime:_0x492f3b,initialRoot:_0x27e6ed}=await _0x17e261,_0x2a6484=await this[_0x4fb600(0x7d4)]['getRoot'](),_0x5c3123=[_0x4fb600(0x40d)+(_0x27e6ed!==_0x2a6484),_0x4fb600(0x6bc)+_0x27e6ed,'\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20'+_0x2a6484,'\x0a\x20\x20===\x20Total\x20Nodes:\x20'+this[_0x4fb600(0x7d4)][_0x4fb600(0x464)](),_0x4fb600(0x9c3)+(Date[_0x4fb600(0x3f4)]()-_0x492f3b)+_0x4fb600(0x332)][_0x4fb600(0x7d5)]('\x20');this['loggingCycle']['logger'][_0x4fb600(0x5d5)]('',()=>_0x5c3123);}catch(_0x5ceb41){console['error'](_0x4fb600(0x22d),_0x5ceb41);}}['debounceRebuildMMRWithTransaction'](_0x50d731){const _0x281ea0=_0x332466;this[_0x281ea0(0x8d7)][_0x281ea0(0x995)](_0x50d731),this['debounceRebuildMMR']&&(clearTimeout(this[_0x281ea0(0x301)]),delete this[_0x281ea0(0x301)]),this['debounceRebuildMMR']=setTimeout(()=>{const _0x50accb=_0x281ea0;this[_0x50accb(0x782)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x1db111=_0x332466;if(this['debounceRebuildMMR']&&(clearTimeout(this[_0x1db111(0x301)]),delete this['debounceRebuildMMR']),0x0!==this[_0x1db111(0x8d7)][_0x1db111(0x65d)]){if(0x0===this[_0x1db111(0x2c4)][_0x1db111(0x65d)])return this[_0x1db111(0x2c4)]=this[_0x1db111(0x8d7)],this[_0x1db111(0x8d7)]=[],await this[_0x1db111(0x77c)]();if(this['transactionsToAppend']['sort'](this[_0x1db111(0x75c)]),this[_0x1db111(0x75c)](this[_0x1db111(0x8d7)][0x0],this[_0x1db111(0x2c4)][this[_0x1db111(0x2c4)][_0x1db111(0x65d)]-0x1])>0x0){this[_0x1db111(0x74f)]['logger'][_0x1db111(0x5d5)](_0x1db111(0x5fb)+this[_0x1db111(0x8d7)]['length']+_0x1db111(0xa52)+this['transactions']['length']);for(const _0x5109f7 of this[_0x1db111(0x8d7)])this['transactions']['push'](_0x5109f7),this[_0x1db111(0x320)](_0x5109f7,this[_0x1db111(0x8d7)][_0x1db111(0x65d)]);return this[_0x1db111(0x8d7)]=[],void this[_0x1db111(0x74f)][_0x1db111(0xa62)][_0x1db111(0x5d5)](_0x1db111(0x3a2),async()=>_0x1db111(0x76c)+await this[_0x1db111(0x7d4)][_0x1db111(0x814)]()+_0x1db111(0x20d)+this[_0x1db111(0x7d4)]['getTotalNodes']());}this[_0x1db111(0x74f)]['logger'][_0x1db111(0x5d5)]('processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20'+this['transactionsToAppend'][_0x1db111(0x65d)]+_0x1db111(0xa52)+this[_0x1db111(0x2c4)][_0x1db111(0x65d)]),this[_0x1db111(0x2c4)]['push'](...this[_0x1db111(0x8d7)]),this[_0x1db111(0x8d7)]=[],this[_0x1db111(0x77c)]();}}async[_0x332466(0x8ba)](){const _0x27b20f=_0x332466;if(!_0x833509[_0x27b20f(0x1e6)](_0xebc42c[_0x27b20f(0x3c4)]))return;await this['mmr']['ready'];const {dataSent:_0x4cddaf,dataReceived:_0x66d84}=this[_0x27b20f(0x74f)][_0x27b20f(0x72e)]();_0x833509[_0x27b20f(0x5d5)](_0xebc42c[_0x27b20f(0x3c4)],_0x27b20f(0x3ae),this[_0x27b20f(0x308)],_0x27b20f(0x8a7)+_0x4cddaf,_0x27b20f(0x8e5)+_0x66d84,_0x27b20f(0x249),await this[_0x27b20f(0x7d4)][_0x27b20f(0x814)](),_0x27b20f(0x781),this[_0x27b20f(0x7d4)][_0x27b20f(0x464)]());}async[_0x332466(0xa4e)](){const _0x33d11d=_0x332466;if(!_0x833509[_0x33d11d(0x1e6)](_0xebc42c[_0x33d11d(0x3c4)]))return;const _0x228f02=this['mmr'][_0x33d11d(0x2ac)](),_0x50d60d=_0x228f02['map'](_0x4aec74=>_0x4aec74[_0x33d11d(0xa12)]),_0x5e09a9=await this[_0x33d11d(0x7d4)]['getRoot']();_0x833509[_0x33d11d(0x5d5)](_0xebc42c[_0x33d11d(0x3c4)],'Initial\x20MMR\x20built\x20with',this[_0x33d11d(0x2c4)][_0x33d11d(0x65d)],_0x33d11d(0x2c4),this['mmr'][_0x33d11d(0x464)](),_0x33d11d(0x3d7),_0x228f02[_0x33d11d(0x65d)],_0x33d11d(0x96e),_0x50d60d,'root\x20hash:\x20',_0x5e09a9);}}const _0x4b9379=require('@crewdle/mist-connector-opfs'),_0x4c6d09=require('@crewdle/mist-connector-indexed-db'),_0x15b6f6=require('@crewdle/mist-connector-webrtc-browser'),_0x21b92f=0x10000000;var _0x3cb7ea,_0x288dad,_0x435a1f,_0x1adf00,_0xc91d6f,_0x4aea6e,_0x46a94b,_0x25049e,_0x3f44fb;!function(_0x4fc9de){const _0x92165d=_0x332466;_0x4fc9de[_0x92165d(0x923)]=_0x92165d(0x923),_0x4fc9de['AudioOutput']='AudioOutput',_0x4fc9de['AudioVolume']=_0x92165d(0x9ce),_0x4fc9de[_0x92165d(0x59a)]=_0x92165d(0x59a),_0x4fc9de[_0x92165d(0x718)]='DeviceConfig',_0x4fc9de[_0x92165d(0xae2)]=_0x92165d(0xae2),_0x4fc9de['Recording']=_0x92165d(0x944),_0x4fc9de[_0x92165d(0x4a6)]='ScreenSharing',_0x4fc9de[_0x92165d(0x26f)]=_0x92165d(0x26f),_0x4fc9de[_0x92165d(0x475)]=_0x92165d(0x475);}(_0x3cb7ea||(_0x3cb7ea={}));class _0xf24467{[_0x332466(0x651)];[_0x332466(0x591)];[_0x332466(0x467)];constructor(_0x5d572f=new Map(),_0x527dcc=new Map(),_0x43e31f=new EventTarget()){const _0x4b4331=_0x332466;this[_0x4b4331(0x651)]=_0x5d572f,this[_0x4b4331(0x591)]=_0x527dcc,this[_0x4b4331(0x467)]=_0x43e31f;}['emit']=(_0x41ce71,_0x48de59)=>this[_0x332466(0x651)][_0x332466(0x71d)](_0x41ce71)?(_0x833509[_0x332466(0x5d5)](_0xebc42c[_0x332466(0xa4b)],_0x332466(0x6bf),{'event':_0x41ce71,'data':_0x48de59}),this[_0x332466(0x467)][_0x332466(0x8cb)](new CustomEvent(_0x41ce71,{'detail':_0x48de59})),!0x0):(this[_0x332466(0x9da)](_0x41ce71,_0x48de59),!0x1);['on']=(_0x2859d1,_0x5015ef)=>{const _0x525e9c=_0x332466,_0x22291d=_0x6d1e43=>{const _0x3c423c=a0_0x5279;_0x833509[_0x3c423c(0x5d5)](_0xebc42c[_0x3c423c(0xa4b)],_0x3c423c(0x695),_0x6d1e43[_0x3c423c(0x5a0)],_0x6d1e43[_0x3c423c(0x99d)]),_0x5015ef(_0x6d1e43[_0x3c423c(0x99d)]);};return this[_0x525e9c(0x651)][_0x525e9c(0x72f)](_0x2859d1,_0x22291d),this[_0x525e9c(0x467)]['addEventListener'](_0x2859d1,_0x22291d),_0x833509[_0x525e9c(0x5d5)](_0xebc42c[_0x525e9c(0x800)],_0x525e9c(0x343),_0x2859d1,_0x5015ef),this[_0x525e9c(0x996)](_0x2859d1),this;};['off'](_0x2cd8af){const _0x497ae8=_0x332466;if(!_0x2cd8af)return this[_0x497ae8(0x651)]['forEach']((_0x4b1536,_0x33dd40)=>{const _0x5d8f0b=_0x497ae8;this[_0x5d8f0b(0x467)][_0x5d8f0b(0x223)](_0x33dd40,_0x4b1536);}),void this[_0x497ae8(0x651)][_0x497ae8(0x767)]();_0x497ae8(0x5b3)==typeof _0x2cd8af&&this[_0x497ae8(0x571)](_0x2cd8af),Array['isArray'](_0x2cd8af)&&_0x2cd8af[_0x497ae8(0x602)](_0x1e024d=>{this['removeListener'](_0x1e024d);});}[_0x332466(0x571)](_0x2c5405){const _0x981c8f=_0x332466,_0x40806e=this[_0x981c8f(0x651)][_0x981c8f(0x4d1)](_0x2c5405);_0x40806e&&(this['eventTarget'][_0x981c8f(0x223)](_0x2c5405,_0x40806e),this['registeredListeners']['delete'](_0x2c5405));}['bufferEvent'](_0x49f898,_0x143eca){const _0x1ed39d=_0x332466;_0x833509[_0x1ed39d(0x5d5)](_0xebc42c[_0x1ed39d(0xa4b)],_0x1ed39d(0x9f2),{'event':_0x49f898,'data':_0x143eca});const _0x2f8948=this[_0x1ed39d(0x591)][_0x1ed39d(0x4d1)](_0x49f898)||[];this['bufferedEvents'][_0x1ed39d(0x72f)](_0x49f898,[..._0x2f8948,_0x143eca]);}[_0x332466(0x996)](_0xa35cc4){const _0xcfd248=_0x332466,_0x253320=this[_0xcfd248(0x591)][_0xcfd248(0x4d1)](_0xa35cc4);_0x253320&&(_0x253320[_0xcfd248(0x602)](_0x32e19b=>{const _0x5a32b2=_0xcfd248;_0x833509[_0x5a32b2(0x5d5)](_0xebc42c[_0x5a32b2(0xa4b)],_0x5a32b2(0x5d6),{'event':_0xa35cc4,'data':_0x32e19b}),this[_0x5a32b2(0x467)][_0x5a32b2(0x8cb)](new CustomEvent(_0xa35cc4,{'detail':_0x32e19b}));}),this['bufferedEvents']['delete'](_0xa35cc4));}}class _0x24755f extends Error{constructor(_0x5bd39a){const _0x3ef3fe=_0x332466;super(_0x3ef3fe(0x1c5)+_0x5bd39a);}}!function(_0x45f8c1){const _0x503761=_0x332466;_0x45f8c1[_0x45f8c1['Core']=0x0]=_0x503761(0x347),_0x45f8c1[_0x45f8c1[_0x503761(0x5ac)]=0x1]=_0x503761(0x5ac);}(_0x288dad||(_0x288dad={})),function(_0x176ad7){const _0x2ea64e=_0x332466;_0x176ad7[_0x176ad7[_0x2ea64e(0x215)]=0x0]='Offer',_0x176ad7[_0x176ad7['Answer']=0x1]='Answer',_0x176ad7[_0x176ad7[_0x2ea64e(0x293)]=0x2]=_0x2ea64e(0x293),_0x176ad7[_0x176ad7[_0x2ea64e(0xa34)]=0x3]=_0x2ea64e(0xa34),_0x176ad7[_0x176ad7[_0x2ea64e(0x331)]=0x4]=_0x2ea64e(0x331),_0x176ad7[_0x176ad7['Restart']=0x5]='Restart',_0x176ad7[_0x176ad7[_0x2ea64e(0x1e7)]=0x6]=_0x2ea64e(0x1e7),_0x176ad7[_0x176ad7[_0x2ea64e(0x9d0)]=0x7]=_0x2ea64e(0x9d0),_0x176ad7[_0x176ad7['OptimizationConnectionSuccess']=0x8]=_0x2ea64e(0x6c8);}(_0x435a1f||(_0x435a1f={})),function(_0x58d5e6){const _0x275e1c=_0x332466;_0x58d5e6[_0x58d5e6[_0x275e1c(0x472)]=0x0]=_0x275e1c(0x472),_0x58d5e6[_0x58d5e6['Receiver']=0x1]=_0x275e1c(0x187);}(_0x1adf00||(_0x1adf00={})),function(_0xbb46fb){const _0x2f66c2=_0x332466;_0xbb46fb[_0x2f66c2(0xae2)]=_0x2f66c2(0x275);}(_0xc91d6f||(_0xc91d6f={})),function(_0x2c37b6){const _0x1d4f2e=_0x332466;_0x2c37b6[_0x2c37b6['NodeJoin']=0x0]=_0x1d4f2e(0x4b6),_0x2c37b6[_0x2c37b6['NodeUpdate']=0x1]=_0x1d4f2e(0xa84),_0x2c37b6[_0x2c37b6[_0x1d4f2e(0x310)]=0x2]='NodeConnectionsUpdate',_0x2c37b6[_0x2c37b6[_0x1d4f2e(0x1b3)]=0x3]=_0x1d4f2e(0x1b3);}(_0x4aea6e||(_0x4aea6e={})),function(_0x45cdcb){const _0x3f801c=_0x332466;_0x45cdcb[_0x45cdcb[_0x3f801c(0x47a)]=0x0]=_0x3f801c(0x47a),_0x45cdcb[_0x45cdcb[_0x3f801c(0x8de)]=0x1]=_0x3f801c(0x8de);}(_0x46a94b||(_0x46a94b={})),function(_0x1c058b){const _0x1bf288=_0x332466;_0x1c058b['Upgrade']='upgrade',_0x1c058b[_0x1bf288(0x3a3)]=_0x1bf288(0x313);}(_0x25049e||(_0x25049e={})),function(_0x1d0359){const _0x376c16=_0x332466;_0x1d0359[_0x376c16(0x805)]=_0x376c16(0x184),_0x1d0359[_0x376c16(0x7bb)]='bitrate';}(_0x3f44fb||(_0x3f44fb={}));const _0x5a87f5=require('aws-amplify'),_0x4af628=require('aws-amplify/utils'),_0x2087fe=require('@aws-amplify/api'),_0x23d57a=require('@aws-amplify/core');class _0x904135{['clusterId'];[_0x332466(0x2e7)];[_0x332466(0x1f3)];constructor(_0x4f45f5,_0x690af0,_0x390295){const _0x41da52=_0x332466;this[_0x41da52(0x762)]=_0x4f45f5,this['localNode']=_0x690af0,this['remoteId']=_0x390295;}[_0x332466(0x390)](){const _0x4b95bc=_0x332466;return this[_0x4b95bc(0x2e7)][_0x4b95bc(0x9cc)]();}[_0x332466(0x2ff)](){const _0x158af1=_0x332466;return this[_0x158af1(0x1f3)];}}var _0x45d8dd,_0x2e3039,_0x30cc07;function _0x46532b(_0x2ce517,_0x33fcf5){const _0x2900cd=_0x332466;return _0x2ce517[_0x2900cd(0x41f)]===_0x33fcf5;}function _0x184c00(_0x2d463f,_0x2585da){const _0x361148=_0x332466;return _0x2d463f[_0x361148(0x7de)]?.[_0x361148(0x988)](_0x2585da)??function(_0x4be2a5){const _0x1e3c7a=_0x361148;return void 0x0===_0x4be2a5[_0x1e3c7a(0x7de)];}(_0x2d463f);}function _0x25a9b6(_0x555590,{contentType:_0x262ee2,label:_0x1db4cb,remoteId:_0x15fa97}){return _0x555590+'-'+_0x262ee2+'-'+_0x1db4cb+'-'+_0x15fa97;}function _0x2b6d4f(_0x2f4763,_0x100030,_0x19d287){return''+_0x2f4763+_0x100030+_0x19d287;}function _0x4cff02(_0x285b97){const _0x77f28a=_0x332466;return _0x285b97===_0x2e3039[_0x77f28a(0x4fe)]?'IncomingSubscription':_0x77f28a(0x520);}function _0x1e5381(_0x217b1a,_0x55dbc8){const _0xba9df5=_0x332466;return{'label':_0x217b1a[_0xba9df5(0x189)](),'contentType':_0x217b1a[_0xba9df5(0x62f)](),'remoteId':_0x55dbc8['getRemoteId'](),'supportsContentType':_0x55dbc8[_0xba9df5(0x917)]()[_0xba9df5(0x988)](_0x217b1a[_0xba9df5(0x62f)]())};}!function(_0x251237){const _0x10e420=_0x332466;_0x251237[_0x251237['Waiting']=0x0]=_0x10e420(0x61d),_0x251237[_0x251237[_0x10e420(0x8f2)]=0x1]='Accepted',_0x251237[_0x251237[_0x10e420(0x273)]=0x2]='Rejected';}(_0x45d8dd||(_0x45d8dd={})),function(_0x7af4b2){const _0x1b4b93=_0x332466;_0x7af4b2[_0x1b4b93(0x4fe)]='in',_0x7af4b2['Outgoing']='out';}(_0x2e3039||(_0x2e3039={}));class _0x3f321f{[_0x332466(0x3b5)];[_0x332466(0x261)];constructor(_0x319b01,_0x31c1ad){const _0x33fa7c=_0x332466;this[_0x33fa7c(0x3b5)]=_0x319b01,this['retryCallback']=_0x31c1ad;}[_0x332466(0x8e6)](_0xa0b5a3){this['callback'](_0xa0b5a3);}async[_0x332466(0x908)](){const _0x446976=_0x332466;await this[_0x446976(0x261)]();}}class _0x4b5904{[_0x332466(0x3b5)];[_0x332466(0x261)];constructor(_0x1530fd,_0x5b1249){const _0x4023ca=_0x332466;this[_0x4023ca(0x3b5)]=_0x1530fd,this[_0x4023ca(0x261)]=_0x5b1249;}async['call'](_0x388c30){const _0x3437c2=_0x332466;await this[_0x3437c2(0x3b5)](_0x388c30);}async['wait'](){const _0x9abcaf=_0x332466;await this[_0x9abcaf(0x261)]();}}function _0x581e7c(_0xd5edcb=()=>{},_0xc3438a=()=>!0x1,_0x5001a6=()=>{}){let _0xe68740,_0x1fb706,_0x4ac17d=0x0;return{get 'size'(){return _0x4ac17d;},get 'head'(){return _0xe68740;},get 'tail'(){return _0x1fb706;},set 'head'(_0x391162){_0xe68740=_0x391162;},set 'tail'(_0x154208){_0x1fb706=_0x154208;},'push'(_0x16536c,_0x18cce0=!0x0){const _0x129d8d=a0_0x5279,_0x7a6f4a={'value':_0x16536c};_0x18cce0&&_0xc3438a(_0x7a6f4a)?_0xd5edcb():(_0x1fb706&&(_0x7a6f4a[_0x129d8d(0xae3)]=_0x1fb706,_0x1fb706['next']=_0x7a6f4a),_0x1fb706=_0x7a6f4a,_0xe68740||(_0xe68740=_0x7a6f4a),_0x4ac17d+=0x1,_0x18cce0&&_0xd5edcb());},'pop'(){const _0xe2a80b=a0_0x5279;if(!_0x1fb706)return;const _0x1fb385=_0x1fb706[_0xe2a80b(0x69e)];return _0x1fb706=_0x1fb706[_0xe2a80b(0xae3)],_0x1fb706&&delete _0x1fb706[_0xe2a80b(0x4c5)],_0x1fb706||(_0xe68740=void 0x0),_0x4ac17d-=0x1,_0x1fb385;},'unshift'(_0x37445a,_0x44666c=!0x0){const _0x57d614=a0_0x5279,_0x3f54c1={'value':_0x37445a};_0x44666c&&_0xc3438a(_0x3f54c1)?_0xd5edcb():(_0xe68740&&(_0xe68740[_0x57d614(0xae3)]=_0x3f54c1,_0x3f54c1['next']=_0xe68740),_0xe68740=_0x3f54c1,_0x1fb706||(_0x1fb706=_0x3f54c1),_0x4ac17d+=0x1,_0x44666c&&_0xd5edcb());},'shift'(){const _0xd60b1=a0_0x5279;if(!_0xe68740)return;const _0x44e53c=_0xe68740[_0xd60b1(0x69e)];return _0xe68740=_0xe68740[_0xd60b1(0x4c5)],_0xe68740&&delete _0xe68740[_0xd60b1(0xae3)],_0xe68740||(_0x1fb706=void 0x0),_0x4ac17d-=0x1,_0x44e53c;},'clear'(){_0x5001a6(),_0xe68740=void 0x0,_0x1fb706=void 0x0,_0x4ac17d=0x0;}};}function _0x323896(_0x456779,_0x55fe83=!0x1,_0xdcb573=()=>{},_0x5ed84f=()=>!0x1,_0x3bf69c=()=>{}){let _0x2bab6e=!0x1;const _0x1a487f=_0x581e7c(async function(){const _0x27c050=a0_0x5279;if(!_0x2bab6e){for(_0x2bab6e=!0x0;_0x1a487f[_0x27c050(0xa7a)];){const _0x9e9263=_0x1a487f[_0x27c050(0x557)]();if(_0x9e9263)try{_0x456779 instanceof _0x3f321f&&_0x456779[_0x27c050(0x8e6)](_0x9e9263),_0x456779 instanceof _0x4b5904&&await _0x456779[_0x27c050(0x8e6)](_0x9e9263),_0xdcb573(_0x9e9263);}catch(_0x15615a){_0x55fe83?_0x1a487f[_0x27c050(0x995)](_0x9e9263,!0x1):_0x1a487f[_0x27c050(0x270)](_0x9e9263,!0x1),await _0x456779[_0x27c050(0x908)]();}}_0x2bab6e=!0x1;}},_0x5ed84f,_0x3bf69c);return _0x1a487f;}class _0x2c6799 extends _0x904135{[_0x332466(0x640)];['authService'];[_0x332466(0x2fe)]=_0x2087fe[_0x332466(0x829)]['Disconnected'];[_0x332466(0x266)]=_0x1876b7();['messageListeners']=_0x5ad0e0();[_0x332466(0x9e1)];[_0x332466(0x22e)];['retryQueue']=_0x323896(new _0x4b5904(this[_0x332466(0x7b5)]['bind'](this),this['waitConnected'][_0x332466(0x531)](this)));[_0x332466(0x9d1)];constructor(_0x34cff7,_0x75cde0,_0x176c00,_0x3505f1,_0x13d004){const _0x415989=_0x332466;super(_0x75cde0,_0x176c00,_0x3505f1),this[_0x415989(0x640)]=_0x34cff7,this[_0x415989(0x685)]=_0x13d004;}async[_0x332466(0x4f4)](){const _0x5aadcc=_0x332466;try{const _0x65532b={'getTokens':async()=>{const _0x346a42=a0_0x5279,_0x23030e=await this['authService'][_0x346a42(0x255)]();return{'accessToken':(0x0,_0x23d57a[_0x346a42(0x7e6)])(_0x23030e),'idToken':(0x0,_0x23d57a[_0x346a42(0x7e6)])(_0x23030e)};}};_0x5a87f5['Amplify']['configure']({'API':{'GraphQL':{'endpoint':_0x2a816f[_0x5aadcc(0x664)][_0x5aadcc(0x7d8)],'region':_0x2a816f[_0x5aadcc(0x664)]['region'],'defaultAuthMode':_0x5aadcc(0x8cc)}}},{'Auth':{'tokenProvider':_0x65532b}});const _0x5bad43=(0x0,_0x2087fe[_0x5aadcc(0x606)])();this[_0x5aadcc(0x9d1)]=_0x5bad43,await this[_0x5aadcc(0x3cf)](),this[_0x5aadcc(0x22e)]=_0x4af628['Hub'][_0x5aadcc(0x21a)](_0x5aadcc(0xad3),async({payload:_0x1c687c})=>{const _0x5bfab9=_0x5aadcc;if(_0x1c687c[_0x5bfab9(0x863)]===_0x2087fe[_0x5bfab9(0x54a)]){const _0x4aa170=_0x1c687c[_0x5bfab9(0x510)];this['connectionState']=_0x4aa170[_0x5bfab9(0x2fe)],this[_0x5bfab9(0x266)][_0x5bfab9(0x778)](_0x4aa170[_0x5bfab9(0x2fe)]),this[_0x5bfab9(0x2fe)]===_0x2087fe[_0x5bfab9(0x829)][_0x5bfab9(0x425)]?(_0x833509[_0x5bfab9(0x998)](_0x5bfab9(0x7dc),{'clusterId':this[_0x5bfab9(0x762)],'nodeId':this[_0x5bfab9(0x390)](),'nodeType':this[_0x5bfab9(0x2e7)][_0x5bfab9(0x5a0)]}),this[_0x5bfab9(0x1db)](),this[_0x5bfab9(0x4f4)]()):this['connectionState']===_0x2087fe[_0x5bfab9(0x829)][_0x5bfab9(0xa8e)]?_0x833509['warning']('appsync-connect',{'clusterId':this[_0x5bfab9(0x762)],'nodeId':this[_0x5bfab9(0x390)](),'nodeType':this['localNode'][_0x5bfab9(0x5a0)]}):_0x833509[_0x5bfab9(0x671)](_0x5bfab9(0x83e),{'clusterId':this[_0x5bfab9(0x762)],'nodeId':this[_0x5bfab9(0x390)](),'nodeType':this[_0x5bfab9(0x2e7)][_0x5bfab9(0x5a0)],'data':{'state':_0x4aa170['connectionState']}});}});}catch(_0x1954f){_0x833509[_0x5aadcc(0x998)]('appsync-connect-fail',{'clusterId':this[_0x5aadcc(0x762)],'nodeId':this[_0x5aadcc(0x390)](),'nodeType':this[_0x5aadcc(0x2e7)][_0x5aadcc(0x5a0)]});}}[_0x332466(0x1db)](){const _0x345d89=_0x332466;_0x833509['warning'](_0x345d89(0x298),{'clusterId':this[_0x345d89(0x762)],'nodeId':this[_0x345d89(0x390)](),'nodeType':this[_0x345d89(0x2e7)][_0x345d89(0x5a0)]}),this[_0x345d89(0x4ab)][_0x345d89(0x767)](),this[_0x345d89(0x22e)]?.(),this[_0x345d89(0x9e1)]?.[_0x345d89(0x219)](),delete this[_0x345d89(0x9e1)];}[_0x332466(0x5c1)](){const _0x55e94d=_0x332466;return this[_0x55e94d(0x2fe)]===_0x2087fe[_0x55e94d(0x829)]['Connected'];}[_0x332466(0x922)](_0x118b42){const _0x1acbbe=_0x332466;this['retryQueue'][_0x1acbbe(0x995)](_0x118b42);}[_0x332466(0x6b1)](_0x345dfb){return this['messageListeners']['subscribe'](_0x345dfb);}['getSupportedContentTypes'](){const _0x8a1626=_0x332466;return[_0x57c18a[_0x8a1626(0x88a)][_0x8a1626(0x707)]];}async[_0x332466(0x804)](){const _0x33ceac=_0x332466;if(!this[_0x33ceac(0x5c1)]())return new Promise(_0x1dee3f=>{const _0x45c3cf=_0x33ceac,_0x97434e=this['connectionStateListener'][_0x45c3cf(0x3cf)](_0x4bf2b8=>{const _0x2bb56f=_0x45c3cf;_0x4bf2b8===_0x2087fe[_0x2bb56f(0x829)][_0x2bb56f(0xa8e)]&&(_0x97434e(),_0x1dee3f());});});}async['sendAction'](_0x4c1ca9){const _0x726346=_0x332466;if(this['connectionState']!==_0x2087fe[_0x726346(0x829)][_0x726346(0xa8e)])throw new Error(_0x726346(0x5c4));_0x4c1ca9[_0x726346(0x7de)]&&0x1===_0x4c1ca9[_0x726346(0x7de)][_0x726346(0x65d)]?await this['publish'](_0x4c1ca9[_0x726346(0x7de)][0x0],JSON['stringify'](_0x4c1ca9)):_0x833509[_0x726346(0x998)](_0x726346(0x27f),{'clusterId':this[_0x726346(0x762)],'nodeId':this[_0x726346(0x390)](),'nodeType':this[_0x726346(0x2e7)][_0x726346(0x5a0)]});}async[_0x332466(0x778)](_0x4ffb97,_0x573c24){const _0x39b668=_0x332466;if(!this['client'])throw new Error(_0x39b668(0x9ca));_0x833509[_0x39b668(0x5d5)](_0xebc42c[_0x39b668(0x80c)],'AppSync\x20publish',this['getLocalId'](),_0x573c24),await this[_0x39b668(0x9d1)][_0x39b668(0x9cb)]({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x39b668(0x517)](_0x4ffb97),'data':_0x573c24}});}async[_0x332466(0x3cf)](){const _0x4873af=_0x332466;if(this[_0x4873af(0x9e1)])return;if(!this[_0x4873af(0x9d1)])throw new Error(_0x4873af(0x9ca));_0x833509[_0x4873af(0x5d5)](_0xebc42c['Signaling'],_0x4873af(0x70a),this[_0x4873af(0x390)]());const _0x47610d=await this[_0x4873af(0x9d1)][_0x4873af(0x9cb)]({'query':_0x4873af(0x808),'variables':{'name':await this['getHash']()},'authToken':await this[_0x4873af(0x685)][_0x4873af(0x255)]()},{'Authorization':await this[_0x4873af(0x685)][_0x4873af(0x255)]()});this['subscription']=_0x47610d['subscribe']({'next':({data:_0x501db3})=>{const _0x353f5a=_0x4873af,_0xfd9524=JSON[_0x353f5a(0x9d8)](_0x501db3[_0x353f5a(0x3cf)][_0x353f5a(0x510)]);!_0x46532b(_0xfd9524,this[_0x353f5a(0x390)]())&&_0x184c00(_0xfd9524,this[_0x353f5a(0x390)]())&&this['messageListeners'][_0x353f5a(0x778)](_0xfd9524);},'error':console[_0x4873af(0x5d5)]});}async[_0x332466(0x517)](_0xdb54f5){const _0x2ccad8=_0x332466,_0x3da384=await crypto[_0x2ccad8(0x8c0)][_0x2ccad8(0x8b9)](_0x2ccad8(0x5b9),new TextEncoder()[_0x2ccad8(0x80a)](this[_0x2ccad8(0x640)]+'-'+this[_0x2ccad8(0x762)]+'-'+(_0xdb54f5??this[_0x2ccad8(0x390)]())));return Array[_0x2ccad8(0x639)](new Uint8Array(_0x3da384))[_0x2ccad8(0x604)](_0x9a9fe2=>_0x9a9fe2['toString'](0x10)[_0x2ccad8(0x536)](0x2,'0'))[_0x2ccad8(0x7d5)]('');}}!function(_0x22a32d){const _0x3598b5=_0x332466;_0x22a32d[_0x22a32d[_0x3598b5(0x5b0)]=0x0]=_0x3598b5(0x5b0),_0x22a32d[_0x22a32d[_0x3598b5(0x4bc)]=0x1]=_0x3598b5(0x4bc),_0x22a32d[_0x22a32d['Update']=0x2]=_0x3598b5(0x743),_0x22a32d[_0x22a32d['RemoteAdd']=0x3]=_0x3598b5(0x98e),_0x22a32d[_0x22a32d[_0x3598b5(0x613)]=0x4]=_0x3598b5(0x613);}(_0x30cc07||(_0x30cc07={}));const _0x32f440='0',_0x52f8ce=_0x332466(0x3dd),_0x1c16b7=_0x3f90c3,_0x12721c=0x60000;class _0x2dff7e{[_0x332466(0x762)];[_0x332466(0x2e7)];[_0x332466(0x1f3)];['iceServers'];[_0x332466(0x1ca)];[_0x332466(0x49c)];[_0x332466(0x1ef)];[_0x332466(0xa1f)];[_0x332466(0x4e2)]=0x1;['systemTopic'];[_0x332466(0x705)]=[];[_0x332466(0x78c)]=[];['handshakeDebounce'];constructor(_0x1151af,_0x3b6e9e,_0x480725,_0x8bc9ca,_0x97260d,_0x4f4a67){const _0x4ad134=_0x332466;this['clusterId']=_0x1151af,this[_0x4ad134(0x2e7)]=_0x3b6e9e,this['remoteId']=_0x480725,this[_0x4ad134(0x93c)]=_0x8bc9ca,this[_0x4ad134(0x1ca)]=_0x97260d,this['connectionConstructor']=_0x4f4a67,this[_0x4ad134(0x1ef)]=new this[(_0x4ad134(0x49c))]({'handshakeServers':this['iceServers']}),this[_0x4ad134(0xa6c)]();}[_0x332466(0x1db)](){const _0x22ae9b=_0x332466;this[_0x22ae9b(0xac7)]();}[_0x332466(0xa6a)](_0x3c40ab){const _0x5cb67a=_0x332466;this[_0x5cb67a(0x1ca)]=_0x3c40ab;}async[_0x332466(0x547)](_0x584a95,_0x47dddd){const _0x6ebc07=_0x332466;if(_0x47dddd===this[_0x6ebc07(0x4e2)])for(const _0x7fdcea of _0x584a95){if(!this[_0x6ebc07(0x1ef)][_0x6ebc07(0x6e2)])return this[_0x6ebc07(0x449)](_0x7fdcea);try{await this[_0x6ebc07(0x1ef)][_0x6ebc07(0x50c)](_0x7fdcea);}catch(_0x2f91fe){this[_0x6ebc07(0x449)](_0x7fdcea);}}}['isConnected'](){const _0x4f57d3=_0x332466;return this[_0x4f57d3(0x8df)](),'connected'===this[_0x4f57d3(0x1ef)][_0x4f57d3(0x2fe)]&&[_0x4f57d3(0x350),'completed'][_0x4f57d3(0x988)](this[_0x4f57d3(0x1ef)][_0x4f57d3(0x73b)])&&_0x4f57d3(0x7df)!==this[_0x4f57d3(0x1ef)]['signalingState']&&'open'===this['dataChannel']?.['state'];}[_0x332466(0x4bd)](_0x4d45f3){const _0x1dcf02=_0x332466;this[_0x1dcf02(0x380)]=_0x4d45f3;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x332466(0x38a)](_0x5d93ab){const _0x12a4cd=_0x332466;this[_0x12a4cd(0xac7)](),this['connection']=new this[(_0x12a4cd(0x49c))]({'handshakeServers':this[_0x12a4cd(0x93c)]}),_0x5d93ab?this[_0x12a4cd(0x4e2)]=_0x5d93ab:this['currentVersion']+=0x1,this['setupConnectionEvents']();}[_0x332466(0x796)](){const _0x28c948=_0x332466;this[_0x28c948(0x78c)][_0x28c948(0x602)](_0x29c1e2=>{const _0x1e5b10=_0x28c948;try{this[_0x1e5b10(0x1ef)][_0x1e5b10(0x50c)](_0x29c1e2);}catch(_0x1155f5){}}),this['pendingHandshakeCandidates']=[];}[_0x332466(0x2cd)](_0x504464,_0x4e7d73){const _0x162fd9=_0x332466;if(!this[_0x162fd9(0x380)])throw new _0x1ba31e(_0x1ba31e['codes'][_0x162fd9(0x899)],{'content':_0x504464});const _0x3e7c61={'sourceId':this[_0x162fd9(0x2e7)]['getId'](),'destinationIds':[this['remoteId']],'propagate':this['connectionType']!==_0x288dad[_0x162fd9(0x347)],'retry':this[_0x162fd9(0x1ca)]!==_0x288dad[_0x162fd9(0x347)],'messageType':_0x2e0616[_0x162fd9(0x338)],'content':_0x504464};_0x4e7d73&&(_0x3e7c61[_0x162fd9(0x3eb)]=_0x4e7d73),this[_0x162fd9(0x380)][_0x162fd9(0x778)](_0x3e7c61);}[_0x332466(0xa6c)](){const _0x119175=_0x332466;this[_0x119175(0x1ef)][_0x119175(0x89c)]=()=>{const _0x5bbdb1=_0x119175;'complete'===this[_0x5bbdb1(0x1ef)][_0x5bbdb1(0x946)]&&this['handshakeCandidates'][_0x5bbdb1(0x65d)]>0x0&&(this[_0x5bbdb1(0x2f4)]&&clearTimeout(this[_0x5bbdb1(0x2f4)]),this[_0x5bbdb1(0x2f4)]=setTimeout(()=>{const _0x61d449=_0x5bbdb1;delete this[_0x61d449(0x2f4)],this[_0x61d449(0x817)](),this[_0x61d449(0x705)]=[];},0x1f4));},this[_0x119175(0x1ef)][_0x119175(0x698)]=_0x500f0c=>{const _0x40605c=_0x119175;_0x500f0c[_0x40605c(0xa92)]&&this['handshakeCandidates']['push'](_0x500f0c[_0x40605c(0xa92)]);};}[_0x332466(0xac7)](){const _0x5166ff=_0x332466;clearTimeout(this['handshakeDebounce']),delete this[_0x5166ff(0x2f4)],this['handshakeCandidates']=[],this[_0x5166ff(0x78c)]=[],this[_0x5166ff(0xa1f)]&&(this[_0x5166ff(0xa1f)][_0x5166ff(0x6b1)]=null,this[_0x5166ff(0xa1f)]['onClose']=null,this[_0x5166ff(0xa1f)][_0x5166ff(0x1db)](),delete this[_0x5166ff(0xa1f)]),this['connection'][_0x5166ff(0x89c)]=null,this[_0x5166ff(0x1ef)][_0x5166ff(0x698)]=null,this[_0x5166ff(0x1ef)]['onHandshakeStateChange']=null,this[_0x5166ff(0x1ef)][_0x5166ff(0x2e6)]=null,this['connection'][_0x5166ff(0x92e)]=null,this['connection'][_0x5166ff(0x8cd)]=null,this[_0x5166ff(0x1ef)][_0x5166ff(0x1db)]();}[_0x332466(0x449)](_0x1371d3){const _0x123a19=_0x332466;this[_0x123a19(0x78c)]['push'](_0x1371d3);}[_0x332466(0x8df)](){const _0x2ae027=_0x332466;_0x833509[_0x2ae027(0x5d5)](_0xebc42c['ConnectionState'],'Base\x20Peer\x20Connection',{'localId':this[_0x2ae027(0x2e7)]['getId'](),'remoteId':this[_0x2ae027(0x1f3)],'connectionState':this[_0x2ae027(0x1ef)][_0x2ae027(0x2fe)],'handshakeState':this['connection'][_0x2ae027(0x73b)],'signalingState':this['connection'][_0x2ae027(0x9f4)],'dataChannelState':this[_0x2ae027(0xa1f)]?.[_0x2ae027(0x484)]});}}function _0x52f75a(_0x50b7b2,_0x38ebf7){const _0x244ace=_0x332466;_0x38ebf7['publish']({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x244ace(0x338)],'content':_0x50b7b2});}class _0x1624ba{static ['instance'];['parameters']=[];[_0x332466(0x348)];constructor(){setInterval(()=>{const _0x560ac9=a0_0x5279;this[_0x560ac9(0xae1)][_0x560ac9(0x602)](_0x3fbb45=>{const _0x185b9a=_0x560ac9;if(Date[_0x185b9a(0x3f4)]()-_0x3fbb45[_0x185b9a(0x67a)]>_0x3fbb45['interval']){try{_0x3fbb45[_0x185b9a(0x3b5)]();}catch(_0xad78c9){}_0x3fbb45[_0x185b9a(0x67a)]=Date[_0x185b9a(0x3f4)]();}});},0x64);}static[_0x332466(0x760)](){const _0x43fbc5=_0x332466;return _0x1624ba[_0x43fbc5(0x6ab)]||(_0x1624ba[_0x43fbc5(0x6ab)]=new _0x1624ba()),_0x1624ba['instance'];}[_0x332466(0x18d)](_0x2e4a2c){const _0x2ffd11=_0x332466,_0x4de43b=this[_0x2ffd11(0x2ce)](_0x2e4a2c),_0x48e4b2=_0x2e4a2c[_0x2ffd11(0x7b3)]();_0x48e4b2&&_0x4de43b&&(_0x48e4b2[_0x2ffd11(0x32a)][_0x2ffd11(0x69e)]=0.001,_0x4de43b[_0x2ffd11(0x4f4)](_0x48e4b2),_0x48e4b2[_0x2ffd11(0x4f4)](_0x2e4a2c[_0x2ffd11(0x529)]),_0x4de43b[_0x2ffd11(0x365)]());}[_0x332466(0x64b)](){const _0x5280a4=_0x332466;this['source']&&(this[_0x5280a4(0x348)]['stop'](),this[_0x5280a4(0x348)]['disconnect'](),this['source']=void 0x0);}[_0x332466(0x908)](_0x52f74d){return new Promise(_0x5df03c=>{setTimeout(_0x5df03c,_0x52f74d);});}[_0x332466(0x728)](_0x22d013,_0x31b075){const _0x5dcc7f=_0x332466;return this[_0x5dcc7f(0xae1)][_0x5dcc7f(0x995)]({'callback':_0x22d013,'interval':_0x31b075,'lastExecuted':Date[_0x5dcc7f(0x3f4)]()}),()=>{const _0x15f26a=_0x5dcc7f;this[_0x15f26a(0xae1)]=this['parameters']['filter'](_0x4603e5=>_0x4603e5[_0x15f26a(0x3b5)]!==_0x22d013);};}[_0x332466(0x2ce)](_0x161ed3){const _0x365956=_0x332466;if(_0x161ed3[_0x365956(0x2ce)])return _0x161ed3[_0x365956(0x2ce)]();const _0xc16576=_0x161ed3[_0x365956(0x456)](),_0x5ebaaf=_0x161ed3[_0x365956(0xa65)](0x1,0x1,_0x161ed3[_0x365956(0x48f)]);return _0x5ebaaf['getChannelData'](0x0)[0x0]=0xa,_0xc16576[_0x365956(0x2ad)]=_0x5ebaaf,_0xc16576['loop']=!0x0,_0xc16576;}}const _0x1327a2=_0x1624ba[_0x332466(0x760)]();class _0x1d1154 extends _0x2dff7e{[_0x332466(0x937)]=_0x1876b7();[_0x332466(0x9a1)]=_0x1876b7();['removeTrackCallback']=_0x1876b7();[_0x332466(0x371)]=new Map();[_0x332466(0x997)]=new Map();[_0x332466(0x784)];[_0x332466(0x20f)]=0x0;[_0x332466(0x290)]={'messages':{'total':0x0}};[_0x332466(0x99a)]=0x0;['timeReceiving']=0x0;['loggingCycle']=_0x1c0391(_0x332466(0x6da),_0xebc42c[_0x332466(0xa11)]);[_0x332466(0x1db)](){const _0x2bde4a=_0x332466;this[_0x2bde4a(0x95b)](),this[_0x2bde4a(0x371)]['clear'](),super['close']();}async[_0x332466(0x8e0)](_0x4e0a80,_0x421089){const _0x242ab8=_0x332466;this[_0x242ab8(0x4e2)]=_0x421089,this[_0x242ab8(0x95b)]();const _0x5954e4=await this[_0x242ab8(0x1ef)][_0x242ab8(0x2c5)](_0x4e0a80);this[_0x242ab8(0x796)]();const _0xcf8f75=(0x0,_0x74103e['v4'])();this[_0x242ab8(0x2cd)]({'type':_0x435a1f[_0x242ab8(0x209)],'answer':_0x5954e4,'version':_0x421089,'connectionType':this[_0x242ab8(0x1ca)]},_0xcf8f75),this[_0x242ab8(0x1ca)]===_0x288dad['Core']&&(this[_0x242ab8(0x784)]=_0x1327a2[_0x242ab8(0x728)](()=>{const _0x20eb35=_0x242ab8;this[_0x20eb35(0x2cd)]({'type':_0x435a1f['Answer'],'answer':_0x5954e4,'version':_0x421089,'connectionType':this[_0x20eb35(0x1ca)]},_0xcf8f75);},0x1388));}[_0x332466(0x9fc)](){const _0x1b86d2=_0x332466;this[_0x1b86d2(0x95b)]();}[_0x332466(0x6c3)](_0xf11697){const _0xef918d=_0x332466;this['resetConnection'](_0xf11697),this[_0xef918d(0x2cd)]({'type':_0x435a1f['Restart']});}async[_0x332466(0x83d)](){const _0x5f0993=_0x332466;this[_0x5f0993(0x380)]&&(await this['connection'][_0x5f0993(0x98c)](this[_0x5f0993(0x371)],(_0x244611,_0x40d29a)=>{const _0x2e8b5c=_0x5f0993;_0x52f75a({'type':_0x435a1f['Stats'],'streamId':_0x40d29a,'nodeId':this[_0x2e8b5c(0x1f3)],'stats':_0x244611},this[_0x2e8b5c(0x380)]);}),this[_0x5f0993(0x380)][_0x5f0993(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616['PeerConnection'],'content':{'type':_0x435a1f[_0x5f0993(0x9d0)],'nodeId':this['remoteId'],'stats':{'origin':_0x1adf00[_0x5f0993(0x187)],'timestamp':Date[_0x5f0993(0x3f4)](),'messagesReceived':this[_0x5f0993(0x20f)],'bytesReceived':this[_0x5f0993(0x99a)],'timeReceiving':this[_0x5f0993(0x1fc)],'systemMessages':this['systemMessagesReceived']}}}));}['onMessage'](_0x5c7c64){const _0x2d1811=_0x332466;return _0x2a816f['isProduction']?this[_0x2d1811(0x937)][_0x2d1811(0x3cf)](_0x5c7c64):this['messageCallback'][_0x2d1811(0x3cf)](_0x35f172=>{const _0x25d5b1=_0x2d1811;0x0===_0x35f172[_0x25d5b1(0x888)]&&_0x35f172[_0x25d5b1(0x1de)]===_0x2e0616[_0x25d5b1(0x66b)]&&this['loggingCycle'][_0x25d5b1(0xa62)][_0x25d5b1(0x5d5)](_0x25d5b1(0xa5b)+this[_0x25d5b1(0x1f3)],()=>_0x2d58db(_0x35f172)),_0x5c7c64(_0x35f172);});}[_0x332466(0x92e)](_0x57bba6){return this['trackCallback']['subscribe'](({track:_0x5eabbf,stream:_0x4aef23})=>_0x57bba6(_0x5eabbf,_0x4aef23));}[_0x332466(0x993)](_0x215b9c){const _0x90b246=_0x332466;return this['removeTrackCallback'][_0x90b246(0x3cf)](({track:_0x4f5f14,stream:_0x35e9ad})=>_0x215b9c(_0x4f5f14,_0x35e9ad));}[_0x332466(0x38a)](_0x2eaa37){const _0x4e94a3=_0x332466;this[_0x4e94a3(0x95b)](),this[_0x4e94a3(0x371)][_0x4e94a3(0x602)](_0x5cf069=>{const _0x156124=_0x4e94a3;_0x5cf069[_0x156124(0x767)]();}),super[_0x4e94a3(0x38a)](_0x2eaa37);}[_0x332466(0x817)](){const _0x54daee=_0x332466;this['publishSystemMessage']({'type':_0x435a1f['Handshake'],'candidates':this[_0x54daee(0x705)],'origin':_0x1adf00['Receiver'],'version':this['currentVersion'],'connectionType':this[_0x54daee(0x1ca)]});}[_0x332466(0xa6c)](){const _0x3492b8=_0x332466;super['setupConnectionEvents'](),this[_0x3492b8(0x1ef)]['onTrack']=_0x4c1f52=>{const _0x459cf5=_0x3492b8;_0x833509[_0x459cf5(0x5d5)](_0xebc42c[_0x459cf5(0x972)],'CrewdleReceiverConnection\x20ontrack',this['localNode'][_0x459cf5(0x9cc)](),_0x4c1f52),_0x4c1f52[_0x459cf5(0x7ca)][0x0][_0x459cf5(0x424)]=_0x115975=>{const _0x2872c4=_0x459cf5;this[_0x2872c4(0x371)][_0x2872c4(0x4d1)](_0x4c1f52[_0x2872c4(0x7ca)][0x0]['id'])?.['delete'](_0x115975[_0x2872c4(0xa60)]),0x0===this[_0x2872c4(0x371)]['get'](_0x4c1f52[_0x2872c4(0x7ca)][0x0]['id'])?.['size']&&this[_0x2872c4(0x371)][_0x2872c4(0x6ea)](_0x4c1f52[_0x2872c4(0x7ca)][0x0]['id']),this[_0x2872c4(0x7ce)]['publish']({'track':_0x115975[_0x2872c4(0xa60)],'stream':_0x4c1f52[_0x2872c4(0x7ca)][0x0]});},this[_0x459cf5(0x371)][_0x459cf5(0x71d)](_0x4c1f52[_0x459cf5(0x7ca)][0x0]['id'])||this['receivers']['set'](_0x4c1f52[_0x459cf5(0x7ca)][0x0]['id'],new Set()),this['receivers'][_0x459cf5(0x4d1)](_0x4c1f52[_0x459cf5(0x7ca)][0x0]['id'])['add'](_0x4c1f52[_0x459cf5(0xa60)]),this[_0x459cf5(0x9a1)][_0x459cf5(0x778)]({'track':_0x4c1f52['track'],'stream':_0x4c1f52['streams'][0x0]});},this['connection'][_0x3492b8(0x8cd)]=_0x15e22b=>{const _0x463b16=_0x3492b8;this['dataChannel']=_0x15e22b[_0x463b16(0x925)],this[_0x463b16(0xa1f)][_0x463b16(0x6b1)]=_0x57c42c=>{const _0x54ad2b=_0x463b16;if(_0x57c42c['data']!==_0x32f440)this[_0x54ad2b(0xacb)](_0x57c42c[_0x54ad2b(0x510)]);else{if(!this[_0x54ad2b(0xa1f)])return void _0x833509['error'](_0x54ad2b(0x9e0),{'clusterId':this[_0x54ad2b(0x762)],'nodeId':this[_0x54ad2b(0x2e7)][_0x54ad2b(0x9cc)](),'nodeType':this['localNode']['type'],'remoteId':this[_0x54ad2b(0x1f3)],'data':{'connection':_0x54ad2b(0xaa0)}});if('open'!==this['dataChannel'][_0x54ad2b(0x484)])return;this[_0x54ad2b(0xa1f)][_0x54ad2b(0x922)]('1');}};};}[_0x332466(0xacb)](_0x135163){const _0x1d3acc=_0x332466;if(_0x1d3acc(0x5b3)==typeof _0x135163&&_0x135163[_0x1d3acc(0x423)](_0x52f8ce))return this[_0x1d3acc(0x20f)]+=0x1,this[_0x1d3acc(0x99a)]+=_0x135163[_0x1d3acc(0x65d)],this[_0x1d3acc(0x210)](_0x135163);setTimeout(()=>{const _0x46c08f=_0x1d3acc,_0x46c16d=Date['now']();let _0x4a06af;if((_0x135163 instanceof ArrayBuffer||_0x135163[_0x46c08f(0x65d)]<=_0x1c16b7)&&(this['messagesReceived']+=0x1,this['bytesReceived']+=_0x135163 instanceof ArrayBuffer?_0x135163[_0x46c08f(0x19c)]:_0x135163[_0x46c08f(0x65d)]),_0x135163 instanceof ArrayBuffer){const [_0x224d90,_0x37505e]=this[_0x46c08f(0x8a4)](_0x135163);_0x4a06af=_0x224d90,_0x4a06af[_0x46c08f(0x4cb)][_0x46c08f(0x510)]=_0x37505e;}else _0x4a06af=JSON[_0x46c08f(0x9d8)](_0x135163);if(0x0===_0x4a06af['topicLabel']){this[_0x46c08f(0x290)][_0x46c08f(0x971)]['total']+=0x1;const {systemMessageType:_0x3b786d,systemContentMessageType:_0x291552}=_0x2d58db(_0x4a06af);this['systemMessagesReceived'][_0x3b786d]||(this['systemMessagesReceived'][_0x3b786d]={[_0x291552]:0x0}),this[_0x46c08f(0x290)][_0x3b786d][_0x291552]||(this[_0x46c08f(0x290)][_0x3b786d][_0x291552]=0x0),this[_0x46c08f(0x290)][_0x3b786d][_0x46c08f(0x3f3)]||(this[_0x46c08f(0x290)][_0x3b786d][_0x46c08f(0x3f3)]=0x0),this['systemMessagesReceived'][_0x3b786d][_0x291552]+=0x1,this[_0x46c08f(0x290)][_0x3b786d][_0x46c08f(0x3f3)]+=0x1;}this[_0x46c08f(0x937)]['publish'](_0x4a06af),this[_0x46c08f(0x1fc)]+=Date[_0x46c08f(0x3f4)]()-_0x46c16d;},0x0);}[_0x332466(0x210)](_0x55f86b){const _0x23c4b1=_0x332466,_0x1010e1=_0x55f86b[_0x23c4b1(0x616)](';'),_0x36973a=_0x1010e1[0x1],_0x47cff6=parseInt(_0x1010e1[0x2],0xa),_0x38ef37=parseInt(_0x1010e1[0x3],0xa),_0x3561d1=_0x55f86b[_0x23c4b1(0x706)](_0x52f8ce+';'+_0x36973a+';'+_0x47cff6+';'+_0x38ef37+';','');this[_0x23c4b1(0x997)][_0x23c4b1(0x71d)](_0x36973a)||this[_0x23c4b1(0x997)][_0x23c4b1(0x72f)](_0x36973a,[]);const _0x435ac5=this['chunks']['get'](_0x36973a);_0x435ac5[_0x47cff6]=_0x3561d1,_0x435ac5[_0x23c4b1(0x65d)]===_0x38ef37&&(this['handleOnMessage'](_0x435ac5[_0x23c4b1(0x7d5)]('')),this['chunks'][_0x23c4b1(0x6ea)](_0x36973a));}['clearWaitSuccess'](){const _0x21aed8=_0x332466;this[_0x21aed8(0x784)]?.(),delete this[_0x21aed8(0x784)];}['arrayBufferToObject'](_0x158ce2){const _0x850f94=_0x332466,_0xd0baf6=new TextDecoder()['decode'](_0x158ce2);return JSON[_0x850f94(0x9d8)](_0xd0baf6);}['splitParts'](_0x52f6cd){const _0x21afb8=_0x332466,_0x58c61c=new Uint8Array(_0x52f6cd[_0x21afb8(0x8b2)](0x0,0x4)),_0x33f0ad=new Uint32Array(_0x58c61c['buffer'])[0x0],_0xad1b03=new Uint8Array(_0x52f6cd[_0x21afb8(0x8b2)](0x4,0x4+_0x33f0ad)),_0xa11ae5=new Uint8Array(_0x52f6cd[_0x21afb8(0x8b2)](0x4+_0x33f0ad));return[this[_0x21afb8(0x905)](_0xad1b03[_0x21afb8(0x2ad)]),_0xa11ae5[_0x21afb8(0x2ad)]];}}const _0x3b78f0=0xc350;var _0x5c6c6f,_0x7a6e1d;!function(_0x27b2cb){const _0x32beb8=_0x332466;_0x27b2cb[_0x27b2cb[_0x32beb8(0x6a1)]=0x0]=_0x32beb8(0x6a1),_0x27b2cb[_0x27b2cb[_0x32beb8(0x7b6)]=0x1]='Medium',_0x27b2cb[_0x27b2cb['Low']=0x2]=_0x32beb8(0x99b);}(_0x5c6c6f||(_0x5c6c6f={}));class _0x19b5e7 extends _0x2dff7e{[_0x332466(0x98a)];[_0x332466(0x37c)];[_0x332466(0x29d)]=new Map();[_0x332466(0x205)];['waitAnswer'];['lastHeartbeat'];[_0x332466(0x500)]=!0x1;[_0x332466(0x893)];[_0x332466(0x1b5)];[_0x332466(0x8b8)];[_0x332466(0x4ab)]=function(e,t=_0x5c6c6f,s=!0x1){const _0x47dd05=_0x332466;let n=!0x1;const i=[];async function o(){const _0x4b7b85=a0_0x5279;if(!n){for(n=!0x0;i[_0x4b7b85(0x76b)](e=>e['head']);){let t,n=0x0;for(const [e,s]of i[_0x4b7b85(0xa14)]())if(t=s[_0x4b7b85(0x557)](),n=e,t)break;if(t)try{if(e instanceof _0x3f321f&&e['call'](t),e instanceof _0x4b5904&&await e[_0x4b7b85(0x8e6)](t),i[_0x4b7b85(0x8b2)](-0x1)[_0x4b7b85(0x76b)](e=>e['head']))continue;const s=i[_0x4b7b85(0x65d)]-0x1;n===s&&i[s][_0x4b7b85(0xa7a)]&&await _0x1327a2['wait'](0x0);}catch(o){s?i[n][_0x4b7b85(0x995)](t,!0x1):i[n][_0x4b7b85(0x270)](t,!0x1),await e[_0x4b7b85(0x908)]();}}n=!0x1;}}return Object[_0x47dd05(0x6af)](t)['forEach'](e=>{const _0x571de9=_0x47dd05;_0x571de9(0x5b3)!=typeof e&&(i[e]=_0x581e7c(o));}),{'queues':i};}(new _0x3f321f(this[_0x332466(0x7b5)][_0x332466(0x531)](this),this[_0x332466(0x609)][_0x332466(0x531)](this)));[_0x332466(0x940)]=0x0;[_0x332466(0x572)]=0x0;['timeSending']=0x0;[_0x332466(0x795)]=0x0;[_0x332466(0x2fc)];[_0x332466(0x74f)]=_0x1c0391(_0x332466(0x6d2),_0xebc42c[_0x332466(0x555)]);constructor(_0x5a0e41,_0x19742d,_0x4399f7,_0x27c9c8,_0x30f31e,_0x121dd0,_0x5628b7,_0x1da9ec){const _0x2e0df4=_0x332466;super(_0x5a0e41,_0x19742d,_0x4399f7,_0x27c9c8,_0x30f31e,_0x1da9ec),this[_0x2e0df4(0x98a)]=_0x121dd0,this['maxBpp']=_0x5628b7;}[_0x332466(0x1db)](){const _0x5695ac=_0x332466;this[_0x5695ac(0xa00)](),this[_0x5695ac(0x8be)](),delete this[_0x5695ac(0x858)],this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this['senders'][_0x5695ac(0x767)](),this[_0x5695ac(0x500)]=!0x1,this['retryQueue'][_0x5695ac(0x457)][_0x5695ac(0x602)](_0x42d4e9=>_0x42d4e9[_0x5695ac(0x767)]()),this[_0x5695ac(0x42a)](),super[_0x5695ac(0x1db)]();}[_0x332466(0x5c1)](){const _0x237553=_0x332466;return!!this[_0x237553(0x858)]&&super[_0x237553(0x5c1)]()&&Date[_0x237553(0x3f4)]()-this[_0x237553(0x858)]<0x3a98;}async[_0x332466(0x83d)](){const _0x4dfb0e=_0x332466;this[_0x4dfb0e(0x380)]&&(await this[_0x4dfb0e(0x1ef)][_0x4dfb0e(0xadd)](this['senders'],(_0x3a7773,_0x42cbe4)=>{const _0x3e131c=_0x4dfb0e;_0x52f75a({'type':_0x435a1f[_0x3e131c(0x9d0)],'streamId':_0x42cbe4,'nodeId':this[_0x3e131c(0x1f3)],'stats':_0x3a7773},this[_0x3e131c(0x380)]);}),this[_0x4dfb0e(0x380)][_0x4dfb0e(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616['PeerConnection'],'content':{'type':_0x435a1f[_0x4dfb0e(0x9d0)],'nodeId':this['remoteId'],'stats':{'origin':_0x1adf00[_0x4dfb0e(0x472)],'timestamp':Date[_0x4dfb0e(0x3f4)](),'messagesSent':this[_0x4dfb0e(0x940)],'bytesSent':this[_0x4dfb0e(0x572)],'timeSending':this[_0x4dfb0e(0x4cf)],'roundTripTime':this[_0x4dfb0e(0x795)]}}}));}async[_0x332466(0x431)](_0x1d983f){const _0x50cfce=_0x332466;_0x833509['log'](_0xebc42c[_0x50cfce(0x972)],_0x50cfce(0x4b8),this[_0x50cfce(0x2e7)]['getId'](),this[_0x50cfce(0x1f3)]),this[_0x50cfce(0x71e)](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this[_0x50cfce(0x893)]=setTimeout(()=>{const _0x4ab170=_0x50cfce;this[_0x4ab170(0x56f)]();},0x7530),this[_0x50cfce(0xa1f)]||(this['dataChannel']=this[_0x50cfce(0x1ef)][_0x50cfce(0x5f2)](_0x50cfce(0x510)),this[_0x50cfce(0xa1f)][_0x50cfce(0x1a6)]=_0x12721c,this[_0x50cfce(0xa1f)][_0x50cfce(0x1e9)]=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x77138d=a0_0x5279;delete this[_0x77138d(0x2fc)],['connecting',_0x77138d(0x59f)]['includes'](this['dataChannel']?.[_0x77138d(0x484)]??'')||this['handleDisconnect']();},0xfa);});const _0x5740ab=await this[_0x50cfce(0x1ef)][_0x50cfce(0x431)](_0x1d983f);this[_0x50cfce(0x858)]||(this[_0x50cfce(0x858)]=Date[_0x50cfce(0x3f4)]());const _0x54747a=(0x0,_0x74103e['v4'])();this['publishSystemMessage']({'type':_0x435a1f['Offer'],'offer':_0x5740ab,'version':this[_0x50cfce(0x4e2)],'connectionType':this['connectionType']},_0x54747a),this['connectionType']===_0x288dad['Core']&&(this[_0x50cfce(0x2ec)]=_0x1327a2['setInterval'](()=>{const _0x47f128=_0x50cfce;this[_0x47f128(0x2cd)]({'type':_0x435a1f[_0x47f128(0x215)],'offer':_0x5740ab,'version':this['currentVersion'],'connectionType':this[_0x47f128(0x1ca)]},_0x54747a);},0x1388));}async[_0x332466(0x1bc)](_0x35ae30,_0x4e4531){const _0x411f07=_0x332466;if(_0x4e4531===this[_0x411f07(0x4e2)]){this[_0x411f07(0x729)]();try{await this['connection'][_0x411f07(0x1bc)](_0x35ae30,this[_0x411f07(0x431)][_0x411f07(0x531)](this)),this[_0x411f07(0x796)](),this['clearConnectionTimeout'](),this[_0x411f07(0x773)]();}catch(_0x50e96c){this[_0x411f07(0x56f)]();}}}[_0x332466(0x922)](_0xcf3a4c){const _0x216212=_0x332466;if(!this[_0x216212(0xa1f)])throw new _0x1ba31e(_0x1ba31e[_0x216212(0x631)][_0x216212(0x519)],{'message':_0x216212(0x82e),'localId':this['localNode']['getId'](),'remoteId':this[_0x216212(0x1f3)],'eventMessage':_0xcf3a4c});if(_0x216212(0x59f)!==this[_0x216212(0xa1f)][_0x216212(0x484)])throw new _0x1ba31e(_0x1ba31e[_0x216212(0x631)][_0x216212(0x519)],{'message':_0x216212(0x4ac),'localId':this[_0x216212(0x2e7)][_0x216212(0x9cc)](),'remoteId':this[_0x216212(0x1f3)],'eventMessage':_0xcf3a4c});let _0x253ecf;if(_0xcf3a4c[_0x216212(0x4cb)]['data']instanceof ArrayBuffer){const _0x3ce908=_0xcf3a4c[_0x216212(0x4cb)][_0x216212(0x510)];_0xcf3a4c={..._0xcf3a4c,'content':{..._0xcf3a4c[_0x216212(0x4cb)],'data':void 0x0}},_0x253ecf=this[_0x216212(0x24d)](_0xcf3a4c,_0x3ce908);}else _0x253ecf=JSON[_0x216212(0x801)](_0xcf3a4c);if(_0x216212(0x5b3)==typeof _0x253ecf&&_0x253ecf['length']>_0x1c16b7)return void this[_0x216212(0xa16)](_0xcf3a4c,_0x253ecf);0x0===_0xcf3a4c[_0x216212(0x888)]&&_0xcf3a4c[_0x216212(0x1de)]===_0x2e0616[_0x216212(0x66b)]&&this[_0x216212(0x74f)][_0x216212(0xa62)][_0x216212(0x9ac)](()=>_0x833509[_0x216212(0x5d5)](_0xebc42c['SenderSendMessage'],_0x216212(0x4bf),this[_0x216212(0x1f3)],_0x2d58db(_0xcf3a4c)),void 0x0);const _0x35ca91=0x0===_0xcf3a4c['topicLabel']&&[_0x2e0616[_0x216212(0x465)],_0x2e0616[_0x216212(0x338)]][_0x216212(0x988)](_0xcf3a4c[_0x216212(0x1de)])?_0x5c6c6f[_0x216212(0x6a1)]:_0xcf3a4c instanceof ArrayBuffer?_0x5c6c6f['Low']:_0x5c6c6f[_0x216212(0x7b6)];this[_0x216212(0x3a0)](_0x253ecf,_0x35ca91);}[_0x332466(0x3b3)](_0x5b8b00,_0x480a8c,_0x2a8350,_0x481ca0){const _0x55f3ca=_0x332466,_0x4aff54=(_0x29e000=this[_0x55f3ca(0x98a)],_0x2675c3=this[_0x55f3ca(0x37c)],Math['floor'](0xe1000*_0x29e000*_0x2675c3));var _0x29e000,_0x2675c3;const _0x2d84fc=this['senders'][_0x55f3ca(0x4d1)](_0x480a8c['id'])||{'stream':_0x480a8c,'priority':_0x2a8350,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x4aff54,'maxBitrate':_0x4aff54,'framerate':this[_0x55f3ca(0x98a)],'maxFramerate':this[_0x55f3ca(0x98a)],'tracks':{},'params':_0x481ca0},_0x2a76d8=_0x2d84fc[_0x55f3ca(0x843)][_0x5b8b00[_0x55f3ca(0x592)]]||{'track':_0x5b8b00};if(_0x2a76d8[_0x55f3ca(0x766)]?(_0x2a76d8[_0x55f3ca(0xa60)]=_0x5b8b00,this[_0x55f3ca(0x1ef)][_0x55f3ca(0x1ab)](_0x5b8b00,_0x2a76d8[_0x55f3ca(0x766)])):_0x2a76d8[_0x55f3ca(0x766)]=this[_0x55f3ca(0x1ef)][_0x55f3ca(0x3b3)](_0x5b8b00,_0x480a8c),_0x2d84fc['tracks'][_0x5b8b00[_0x55f3ca(0x592)]]=_0x2a76d8,_0x481ca0&&(_0x2d84fc[_0x55f3ca(0x72b)]=_0x481ca0),_0x481ca0&&_0x55f3ca(0x3f7)===_0x481ca0[_0x55f3ca(0x592)]&&_0x481ca0['resolution']&&_0x481ca0['maxResolution']&&(_0x2d84fc['resolutionScale']=this[_0x55f3ca(0xad9)](_0x481ca0[_0x55f3ca(0x184)],_0x481ca0['maxResolution']),_0x2d84fc[_0x55f3ca(0x921)]=_0x2d84fc[_0x55f3ca(0x43f)],_0x2d84fc[_0x55f3ca(0x843)][_0x55f3ca(0x3f7)]&&_0x2d84fc[_0x55f3ca(0x843)]['video'][_0x55f3ca(0x766)])){const _0x13a591=_0x2d84fc[_0x55f3ca(0x843)][_0x55f3ca(0x3f7)][_0x55f3ca(0x766)];this[_0x55f3ca(0x1ef)][_0x55f3ca(0x828)](_0x13a591,Math[_0x55f3ca(0xa0c)](0xa*_0x2d84fc[_0x55f3ca(0x43f)])/0xa,_0x2d84fc[_0x55f3ca(0x40b)],_0x2d84fc[_0x55f3ca(0x47e)],_0x2d84fc[_0x55f3ca(0x56b)]);}this['senders']['set'](_0x480a8c['id'],_0x2d84fc);}[_0x332466(0x969)](_0xf57e03,_0x218ef7){const _0x406cdb=_0x332466,_0x2bdb39=this[_0x406cdb(0x29d)][_0x406cdb(0x4d1)](_0xf57e03['id']);if(_0x2bdb39&&_0x2bdb39['priority']!==_0x218ef7&&(_0x2bdb39[_0x406cdb(0x56b)]=_0x218ef7,_0x2bdb39[_0x406cdb(0x843)]['video']&&_0x2bdb39[_0x406cdb(0x843)][_0x406cdb(0x3f7)][_0x406cdb(0x766)])){const _0x1cd415=_0x2bdb39[_0x406cdb(0x843)]['video']['sender'];this[_0x406cdb(0x1ef)][_0x406cdb(0x828)](_0x1cd415,Math['floor'](0xa*_0x2bdb39[_0x406cdb(0x43f)])/0xa,_0x2bdb39[_0x406cdb(0x40b)],_0x2bdb39[_0x406cdb(0x47e)],_0x2bdb39[_0x406cdb(0x56b)]);}}[_0x332466(0x53e)](_0x3c9bbd,_0x449fa8){const _0x12a954=_0x332466,_0x11a576=this[_0x12a954(0x29d)][_0x12a954(0x4d1)](_0x3c9bbd['id']);if(_0x11a576){if(_0x11a576[_0x12a954(0x72b)]=_0x449fa8,_0x449fa8&&'video'===_0x449fa8['kind']&&_0x449fa8['resolution']&&_0x449fa8['maxResolution']){if(_0x11a576[_0x12a954(0x921)]=this[_0x12a954(0xad9)](_0x449fa8['resolution'],_0x449fa8[_0x12a954(0x2c8)]),_0x11a576[_0x12a954(0x43f)]<_0x11a576['minResolutionScale']&&(_0x11a576['resolutionScale']=_0x11a576[_0x12a954(0x921)]),_0x11a576[_0x12a954(0x843)][_0x12a954(0x3f7)]&&_0x11a576['tracks'][_0x12a954(0x3f7)][_0x12a954(0x766)]){const _0x2e5968=_0x11a576[_0x12a954(0x843)][_0x12a954(0x3f7)][_0x12a954(0x766)];this[_0x12a954(0x1ef)][_0x12a954(0x828)](_0x2e5968,Math['floor'](0xa*_0x11a576[_0x12a954(0x43f)])/0xa,_0x11a576[_0x12a954(0x40b)],_0x11a576['bitrate'],_0x11a576['priority']);}this[_0x12a954(0xa00)](),this[_0x12a954(0x8f3)]();}this[_0x12a954(0x29d)]['set'](_0x3c9bbd['id'],_0x11a576);}}[_0x332466(0x46e)](_0x21d8ec,_0x597fdc){const _0x5554b4=_0x332466,_0x45b4bd=this[_0x5554b4(0x29d)]['get'](_0x597fdc['id']);if(_0x45b4bd){const _0x49fa2b=_0x45b4bd[_0x5554b4(0x843)][_0x21d8ec['kind']];_0x49fa2b&&(_0x49fa2b[_0x5554b4(0x766)]&&this[_0x5554b4(0x1ef)][_0x5554b4(0x46e)](_0x49fa2b[_0x5554b4(0x766)]),_0x49fa2b['track']=void 0x0);}}[_0x332466(0x63b)](_0x561288){const _0x15eb9a=_0x332466;this[_0x15eb9a(0xa00)]();const _0x550453=function(_0x19d073,_0x2b98bf){const _0x2ca61d=_0x15eb9a;return _0x19d073[_0x2ca61d(0xa4f)]((_0x2cc630,_0x25ca6a)=>_0x2b98bf[_0x2ca61d(0x605)]===_0x25049e[_0x2ca61d(0x3a3)]?_0x25ca6a[_0x2ca61d(0x56b)]-_0x2cc630[_0x2ca61d(0x56b)]:_0x2cc630[_0x2ca61d(0x56b)]-_0x25ca6a[_0x2ca61d(0x56b)])['find'](_0x173ee9=>function(_0x36801e,_0x1be2b4){const _0x5838b9=_0x2ca61d;if(_0x1be2b4[_0x5838b9(0x605)]===_0x25049e['Downgrade']){if(_0x1be2b4['component']===_0x3f44fb['Resolution'])return _0x36801e[_0x5838b9(0x43f)]<0x4||_0x36801e[_0x5838b9(0x1a3)]>0xf;if(_0x1be2b4['component']===_0x3f44fb[_0x5838b9(0x7bb)])return _0x36801e[_0x5838b9(0xa38)]>_0x3b78f0;}return _0x36801e['resolutionScale']>_0x36801e[_0x5838b9(0x921)]||_0x36801e['framerate']<_0x36801e['maxFramerate']||_0x36801e[_0x5838b9(0x47e)]<_0x36801e['maxBitrate'];}(_0x173ee9,_0x2b98bf));}(Array[_0x15eb9a(0x639)](this[_0x15eb9a(0x29d)][_0x15eb9a(0x6af)]()),_0x561288);if(_0x550453&&(function(_0x3ab27c,_0x5e80ce){const _0x153516=_0x15eb9a;_0x3ab27c['tracks']['video']&&_0x3ab27c['tracks']['video'][_0x153516(0x766)]&&(_0x3ab27c['resolutionScale']=function(_0x55bbff,_0x14b1e2,_0x430bfa){const _0x7f706c=_0x153516;switch(_0x430bfa['action']){case _0x25049e[_0x7f706c(0x3a3)]:_0x430bfa[_0x7f706c(0x26d)]===_0x3f44fb[_0x7f706c(0x805)]&&(_0x55bbff+=0.5)>0x4&&(_0x55bbff=0x4);break;case _0x25049e[_0x7f706c(0x999)]:(_0x55bbff-=0.5)<_0x14b1e2&&(_0x55bbff=_0x14b1e2);}return _0x55bbff;}(_0x3ab27c[_0x153516(0x43f)],_0x3ab27c[_0x153516(0x921)],_0x5e80ce),_0x3ab27c[_0x153516(0x40b)]=function(_0x400db5,_0x4fbd98,_0x4d23e7){const _0x296fa9=_0x153516;switch(_0x4d23e7[_0x296fa9(0x605)]){case _0x25049e[_0x296fa9(0x3a3)]:_0x4d23e7[_0x296fa9(0x26d)]===_0x3f44fb['Resolution']&&(_0x400db5-=0x3)<0xf&&(_0x400db5=0xf);break;case _0x25049e[_0x296fa9(0x999)]:(_0x400db5+=0x3)>_0x4fbd98&&(_0x400db5=_0x4fbd98);}return _0x400db5;}(_0x3ab27c['framerate'],_0x3ab27c['maxFramerate'],_0x5e80ce),_0x3ab27c[_0x153516(0x47e)]=function(_0x55060e,_0x1b91d3,_0x22e857){const _0x270b84=_0x153516;switch(_0x22e857[_0x270b84(0x605)]){case _0x25049e[_0x270b84(0x3a3)]:_0x22e857[_0x270b84(0x26d)]===_0x3f44fb[_0x270b84(0x7bb)]&&(_0x55060e*=0.75)<_0x3b78f0&&(_0x55060e=_0x3b78f0);break;case _0x25049e[_0x270b84(0x999)]:(_0x55060e*=1.25)>_0x1b91d3&&(_0x55060e=_0x1b91d3);}return _0x55060e;}(_0x3ab27c['bitrate'],_0x3ab27c[_0x153516(0xa38)],_0x5e80ce));}(_0x550453,_0x561288),_0x550453[_0x15eb9a(0x843)][_0x15eb9a(0x3f7)]&&_0x550453[_0x15eb9a(0x843)]['video'][_0x15eb9a(0x766)])){const _0x1545e6=_0x550453[_0x15eb9a(0x843)][_0x15eb9a(0x3f7)][_0x15eb9a(0x766)];this['connection'][_0x15eb9a(0x828)](_0x1545e6,Math['floor'](0xa*_0x550453[_0x15eb9a(0x43f)])/0xa,_0x550453[_0x15eb9a(0x40b)],_0x550453[_0x15eb9a(0x47e)],_0x550453[_0x15eb9a(0x56b)]);}(_0x550453||_0x561288['action']===_0x25049e[_0x15eb9a(0x3a3)])&&this[_0x15eb9a(0x8f3)]();}['calculateArrayBufferSize'](){const _0x7a261e=_0x332466;return this[_0x7a261e(0x4ab)][_0x7a261e(0x457)][_0x7a261e(0x3c9)]((_0x3b3616,_0x1b8391)=>_0x3b3616+_0x1b8391[_0x7a261e(0x393)],0x0)*_0x3f90c3;}[_0x332466(0x3c0)](){const _0x4a3180=_0x332466;return this[_0x4a3180(0xa1f)]?.[_0x4a3180(0x622)]??0x0;}['resetConnection'](){const _0x1d0793=_0x332466;super[_0x1d0793(0x38a)](),this[_0x1d0793(0x42a)](),this['clearWaitAnswer'](),this[_0x1d0793(0x29d)][_0x1d0793(0x602)](_0x3647cc=>{const _0x5290d7=_0x1d0793;_0x3647cc['tracks'][_0x5290d7(0x3f7)]&&(_0x3647cc[_0x5290d7(0x843)]['video'][_0x5290d7(0x766)]=void 0x0),_0x3647cc[_0x5290d7(0x843)][_0x5290d7(0x3f9)]&&(_0x3647cc[_0x5290d7(0x843)][_0x5290d7(0x3f9)][_0x5290d7(0x766)]=void 0x0);}),this[_0x1d0793(0x500)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x277f77=>{const _0x25e9b3=a0_0x5279;if(!this[_0x25e9b3(0xa1f)]||_0x25e9b3(0x59f)!==this[_0x25e9b3(0xa1f)][_0x25e9b3(0x484)])return await _0x1327a2[_0x25e9b3(0x908)](0x64),void _0x277f77();this[_0x25e9b3(0xa1f)]['bufferedAmount']<_0x12721c?_0x277f77():this[_0x25e9b3(0xa1f)][_0x25e9b3(0x33a)]=()=>{this['dataChannel']&&(this['dataChannel']['onBufferedAmountLow']=null),_0x277f77();};});}async['sendChunked'](_0x23f409,_0x1beecd){const _0x50439b=_0x332466,_0x9b02f5=[];for(let _0x252ea0=0x0;_0x252ea0<_0x1beecd[_0x50439b(0x65d)];_0x252ea0+=_0x1c16b7)_0x9b02f5[_0x50439b(0x995)](_0x1beecd[_0x50439b(0x8b2)](_0x252ea0,_0x252ea0+_0x1c16b7));for(const _0x3dc597 of _0x9b02f5){for(;this['retryQueue'][_0x50439b(0x457)][_0x5c6c6f[_0x50439b(0x99b)]][_0x50439b(0x393)]>0x1;)await _0x1327a2[_0x50439b(0x908)](0x64);this[_0x50439b(0x3a0)](_0x52f8ce+';'+_0x23f409['uuid']+';'+_0x9b02f5[_0x50439b(0x82d)](_0x3dc597)+';'+_0x9b02f5['length']+';'+_0x3dc597,_0x5c6c6f[_0x50439b(0x99b)]);}}async[_0x332466(0x3a0)](_0x489fb7,_0xe0df86){const _0x50f4f7=_0x332466;_0x489fb7===_0x32f440?this[_0x50f4f7(0x4ab)]['queues'][_0xe0df86]['head']?.[_0x50f4f7(0x69e)]!==_0x32f440&&this['retryQueue']['queues'][_0xe0df86]['unshift'](_0x489fb7):this['retryQueue'][_0x50f4f7(0x457)][_0xe0df86]['push'](_0x489fb7);}[_0x332466(0x7b5)](_0x26791c){const _0x3fdc21=_0x332466;if(!this[_0x3fdc21(0xa1f)]||_0x3fdc21(0x59f)!==this[_0x3fdc21(0xa1f)][_0x3fdc21(0x484)])throw new Error(_0x3fdc21(0x2d0));if(this['dataChannel'][_0x3fdc21(0x622)]>=0x600000)throw new Error(_0x3fdc21(0x2ab));const _0x472179=Date['now']();_0x26791c!==_0x32f440&&(this['messagesSent']+=0x1,this[_0x3fdc21(0x572)]+=_0x26791c instanceof ArrayBuffer?_0x26791c[_0x3fdc21(0x19c)]:_0x26791c['length']);try{ArrayBuffer,this[_0x3fdc21(0xa1f)]['send'](_0x26791c);}catch(_0x14f7c8){throw console['error']('DataChannel\x20send\x20error',_0x14f7c8),_0x14f7c8;}this['timeSending']+=Date[_0x3fdc21(0x3f4)]()-_0x472179;}[_0x332466(0x773)](){const _0x3885cf=_0x332466;this[_0x3885cf(0x205)]&&this[_0x3885cf(0x8be)]();let _0x1acb3b=!0x0,_0x434c98=Date[_0x3885cf(0x3f4)]();this['lastHeartbeat']=Date[_0x3885cf(0x3f4)](),this[_0x3885cf(0xa1f)][_0x3885cf(0x6b1)]=_0x5552b6=>{const _0xebeb21=_0x3885cf;'1'===_0x5552b6[_0xebeb21(0x510)]&&(this['roundTripTime']=Date[_0xebeb21(0x3f4)]()-_0x434c98,_0x1acb3b&&this['publishSystemMessage']({'type':_0x435a1f['Success']}),_0x1acb3b=!0x1,this[_0xebeb21(0x858)]=Date[_0xebeb21(0x3f4)](),this[_0xebeb21(0x500)]&&(this[_0xebeb21(0x500)]=!0x1,this[_0xebeb21(0x3bb)]()));},this[_0x3885cf(0x205)]=_0x1327a2[_0x3885cf(0x728)](()=>{const _0x164961=_0x3885cf;_0x434c98=Date[_0x164961(0x3f4)](),this[_0x164961(0x3a0)](_0x32f440,_0x5c6c6f['High']),Date[_0x164961(0x3f4)]()-this[_0x164961(0x858)]>(_0x1acb3b?0x15f90:0x3a98)&&this[_0x164961(0x56f)]();},0xbb8);}[_0x332466(0x3bb)](){const _0x109fa0=_0x332466;this['senders'][_0x109fa0(0x602)](_0x52b971=>{const _0x45d524=_0x109fa0;_0x52b971['tracks'][_0x45d524(0x3f7)]&&_0x52b971[_0x45d524(0x843)]['video'][_0x45d524(0xa60)]&&!_0x52b971[_0x45d524(0x843)][_0x45d524(0x3f7)][_0x45d524(0x766)]&&(_0x52b971[_0x45d524(0x843)][_0x45d524(0x3f7)]['sender']=this[_0x45d524(0x1ef)][_0x45d524(0x3b3)](_0x52b971[_0x45d524(0x843)][_0x45d524(0x3f7)][_0x45d524(0xa60)],_0x52b971[_0x45d524(0x24f)])),_0x52b971[_0x45d524(0x843)][_0x45d524(0x3f9)]&&_0x52b971[_0x45d524(0x843)][_0x45d524(0x3f9)][_0x45d524(0xa60)]&&!_0x52b971['tracks'][_0x45d524(0x3f9)][_0x45d524(0x766)]&&(_0x52b971[_0x45d524(0x843)][_0x45d524(0x3f9)][_0x45d524(0x766)]=this['connection'][_0x45d524(0x3b3)](_0x52b971['tracks'][_0x45d524(0x3f9)]['track'],_0x52b971[_0x45d524(0x24f)]));});}[_0x332466(0x817)](){const _0x556f9a=_0x332466;this[_0x556f9a(0x2cd)]({'type':_0x435a1f['Handshake'],'candidates':this[_0x556f9a(0x705)],'origin':_0x1adf00[_0x556f9a(0x472)],'version':this[_0x556f9a(0x4e2)],'connectionType':this[_0x556f9a(0x1ca)]});}[_0x332466(0xa6c)](){const _0x101c3c=_0x332466;super[_0x101c3c(0xa6c)](),this[_0x101c3c(0x1ef)][_0x101c3c(0x2d7)]=()=>{const _0x109007=_0x101c3c;if('failed'===this[_0x109007(0x1ef)][_0x109007(0x73b)]){_0x833509['log'](_0xebc42c[_0x109007(0x829)],'iceConnectionState\x20failed',this[_0x109007(0x2e7)][_0x109007(0x9cc)](),this[_0x109007(0x1f3)]);try{if(this[_0x109007(0x1ef)][_0x109007(0xa30)])return void this['connection']['restartHandshake']();}catch(_0x1552f7){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x101c3c(0x1ef)]['onConnectionStateChange']=()=>{const _0x6d77f2=_0x101c3c;_0x6d77f2(0x4e9)!==this[_0x6d77f2(0x1ef)]['connectionState']&&_0x6d77f2(0x9aa)!==this[_0x6d77f2(0x1ef)][_0x6d77f2(0x2fe)]||this[_0x6d77f2(0x56f)]();};}['handleDisconnect'](){const _0x24e155=_0x332466;this[_0x24e155(0x8be)](),this[_0x24e155(0x71e)](),this[_0x24e155(0x573)](),_0x833509['warning'](_0x24e155(0x768),{'clusterId':this['clusterId'],'nodeId':this[_0x24e155(0x2e7)]['getId'](),'nodeType':this[_0x24e155(0x2e7)][_0x24e155(0x5a0)],'remoteId':this[_0x24e155(0x1f3)],'data':{'connectionType':this[_0x24e155(0x1ca)],'connectionState':this[_0x24e155(0x1ef)][_0x24e155(0x2fe)],'iceConnectionState':this[_0x24e155(0x1ef)][_0x24e155(0x73b)],'signalingState':this[_0x24e155(0x1ef)][_0x24e155(0x9f4)],'readyState':this[_0x24e155(0xa1f)]?.[_0x24e155(0x484)]||'','lastHeartbeat':this[_0x24e155(0x858)]?Date['now']()-this[_0x24e155(0x858)]:'','retryQueue':this[_0x24e155(0x4ab)]}}),(this[_0x24e155(0x858)]&&Date[_0x24e155(0x3f4)]()-this['lastHeartbeat']>0xea60)??0x1?this[_0x24e155(0x380)][_0x24e155(0x778)]({'sourceId':this[_0x24e155(0x1f3)],'destinationIds':[this['localNode'][_0x24e155(0x9cc)]()],'messageType':_0x2e0616[_0x24e155(0x338)],'content':{'type':_0x435a1f[_0x24e155(0x1e7)]}}):(this['resetConnection'](),this[_0x24e155(0x2cd)]({'type':_0x435a1f[_0x24e155(0x331)],'version':this[_0x24e155(0x4e2)],'connectionType':this[_0x24e155(0x1ca)]}),this['restartTimeout']=setTimeout(()=>{const _0x245652=_0x24e155;this[_0x245652(0x56f)]();},0x7530));}[_0x332466(0x8be)](){const _0x363206=_0x332466;this[_0x363206(0x205)]?.(),delete this['heartbeatUnsubscriber'];}['clearConnectionTimeout'](){const _0x47c541=_0x332466;this[_0x47c541(0x893)]&&(clearTimeout(this[_0x47c541(0x893)]),delete this[_0x47c541(0x893)]);}[_0x332466(0x71e)](){const _0x35233f=_0x332466;this[_0x35233f(0x1b5)]&&(clearTimeout(this[_0x35233f(0x1b5)]),delete this[_0x35233f(0x1b5)]);}[_0x332466(0xa00)](){const _0x276112=_0x332466;this['upgradeTimeout']&&(clearTimeout(this[_0x276112(0x8b8)]),delete this[_0x276112(0x8b8)]);}[_0x332466(0x8f3)](){const _0x261d2b=_0x332466;this[_0x261d2b(0x8b8)]=setTimeout(()=>{const _0x333ff8=_0x261d2b;this['applyRemediation']({'type':_0x46a94b[_0x333ff8(0x47a)],'action':_0x25049e[_0x333ff8(0x999)]});},0x3a98);}['getResolutionScale'](_0x20cec7,_0x2fa1ca){const _0x39bad3=_0x332466,_0x5aa0f0=Math[_0x39bad3(0x314)](_0x20cec7['width']/_0x2fa1ca[_0x39bad3(0x7b2)],_0x20cec7[_0x39bad3(0xa12)]/_0x2fa1ca[_0x39bad3(0xa12)]);return Math[_0x39bad3(0x213)](Math['max'](_0x5aa0f0,0x1),0x4);}[_0x332466(0x729)](){const _0x32178e=_0x332466;this[_0x32178e(0x2ec)]?.(),delete this['waitAnswer'];}['clearOncloseTimeout'](){const _0x19b74c=_0x332466;this[_0x19b74c(0x2fc)]&&(clearTimeout(this['oncloseTimeout']),delete this[_0x19b74c(0x2fc)]);}[_0x332466(0x445)](_0x57e2d2){const _0x3176e9=_0x332466,_0x47dfdc=JSON[_0x3176e9(0x801)](_0x57e2d2);return new TextEncoder()[_0x3176e9(0x80a)](_0x47dfdc)[_0x3176e9(0x2ad)];}[_0x332466(0x24d)](_0x534df4,_0x5d288b){const _0x156ec2=_0x332466,_0x19e292=this[_0x156ec2(0x445)](_0x534df4),_0x470dfd=new Uint8Array(0x4),_0x3ab17a=new Uint8Array(_0x19e292),_0x58f99f=new Uint8Array(_0x5d288b);_0x470dfd[_0x156ec2(0x72f)](new Uint8Array(new Uint32Array([_0x3ab17a[_0x156ec2(0x65d)]])[_0x156ec2(0x2ad)]));const _0x11ea97=new Uint8Array(0x4+_0x3ab17a[_0x156ec2(0x65d)]+_0x58f99f[_0x156ec2(0x65d)]);return _0x11ea97[_0x156ec2(0x72f)](_0x470dfd),_0x11ea97[_0x156ec2(0x72f)](_0x3ab17a,0x4),_0x11ea97[_0x156ec2(0x72f)](_0x58f99f,0x4+_0x3ab17a['length']),_0x11ea97['buffer'];}}class _0x3b4ba2 extends _0x904135{[_0x332466(0x93c)];[_0x332466(0x1ca)];[_0x332466(0x98a)];['maxBpp'];[_0x332466(0x49c)];[_0x332466(0x889)];[_0x332466(0x4ed)];[_0x332466(0x6b3)]=[];[_0x332466(0x647)]=_0x5ad0e0();['trackListeners']=_0x5ad0e0();[_0x332466(0x542)]=_0x5ad0e0();[_0x332466(0x335)]=[];[_0x332466(0x380)];[_0x332466(0x927)]=new Map();['dataUnsubscribers']=new Map();[_0x332466(0x3f8)]=new Map();['mediaUnsubscribers']=new Map();[_0x332466(0x942)]=!0x1;constructor(_0x11fa94,_0x190507,_0x5a69dc,_0x4ed567,_0x2dcc87,_0x30259a,_0x29108d,_0x5e9ce0){const _0x470819=_0x332466;super(_0x11fa94,_0x190507,_0x5a69dc),this[_0x470819(0x93c)]=_0x4ed567,this[_0x470819(0x1ca)]=_0x2dcc87,this[_0x470819(0x98a)]=_0x30259a,this[_0x470819(0x37c)]=_0x29108d,this[_0x470819(0x49c)]=_0x5e9ce0;}['registerPublisher'](_0x42d427){const _0x2eeffe=_0x332466;switch(_0x42d427['getContentType']()){case _0x57c18a['ContentType'][_0x2eeffe(0x707)]:case _0x57c18a['ContentType'][_0x2eeffe(0xa8a)]:case _0x57c18a[_0x2eeffe(0x88a)][_0x2eeffe(0x59e)]:case _0x57c18a[_0x2eeffe(0x88a)]['KeyValueDatabase']:case _0x57c18a[_0x2eeffe(0x88a)][_0x2eeffe(0x26b)]:case _0x57c18a['ContentType'][_0x2eeffe(0x730)]:case _0x57c18a[_0x2eeffe(0x88a)][_0x2eeffe(0x7f5)]:case _0x57c18a[_0x2eeffe(0x88a)]['ExternalStorage']:this[_0x2eeffe(0x927)][_0x2eeffe(0x72f)](_0x42d427[_0x2eeffe(0x2b5)](),_0x42d427);break;case _0x57c18a['ContentType']['Media']:this[_0x2eeffe(0x3f8)]['set'](_0x42d427[_0x2eeffe(0x2b5)](),_0x42d427);}}[_0x332466(0x52d)](_0x4b2099){const _0xf39c4a=_0x332466;switch(_0x4b2099[_0xf39c4a(0x62f)]()){case _0x57c18a[_0xf39c4a(0x88a)]['Data']:case _0x57c18a[_0xf39c4a(0x88a)][_0xf39c4a(0xa8a)]:case _0x57c18a[_0xf39c4a(0x88a)][_0xf39c4a(0x59e)]:case _0x57c18a[_0xf39c4a(0x88a)]['KeyValueDatabase']:case _0x57c18a[_0xf39c4a(0x88a)][_0xf39c4a(0x26b)]:case _0x57c18a['ContentType']['VectorDatabase']:case _0x57c18a[_0xf39c4a(0x88a)][_0xf39c4a(0x7f5)]:case _0x57c18a[_0xf39c4a(0x88a)][_0xf39c4a(0x4b7)]:this[_0xf39c4a(0x927)][_0xf39c4a(0x6ea)](_0x4b2099[_0xf39c4a(0x2b5)]());break;case _0x57c18a['ContentType']['Media']:this[_0xf39c4a(0x3f8)][_0xf39c4a(0x6ea)](_0x4b2099[_0xf39c4a(0x2b5)]());}}[_0x332466(0x75d)](_0x4e7ded){const _0x4b47f=_0x332466;switch(_0x4e7ded[_0x4b47f(0x62f)]()){case _0x57c18a[_0x4b47f(0x88a)][_0x4b47f(0x707)]:case _0x57c18a[_0x4b47f(0x88a)][_0x4b47f(0xa8a)]:case _0x57c18a['ContentType'][_0x4b47f(0x59e)]:case _0x57c18a['ContentType'][_0x4b47f(0x3c4)]:case _0x57c18a[_0x4b47f(0x88a)][_0x4b47f(0x26b)]:case _0x57c18a[_0x4b47f(0x88a)][_0x4b47f(0x730)]:case _0x57c18a['ContentType']['GraphDatabase']:case _0x57c18a[_0x4b47f(0x88a)][_0x4b47f(0x4b7)]:{const _0x3a6b57=_0x4e7ded[_0x4b47f(0x3cf)](_0x5b36d7=>{const _0x550378=_0x4b47f;_0x46532b(_0x5b36d7,this[_0x550378(0x390)]())&&_0x184c00(_0x5b36d7,this[_0x550378(0x1f3)])&&this[_0x550378(0x922)](_0x5b36d7);});this['dataUnsubscribers']['set'](_0x4e7ded[_0x4b47f(0x2b5)](),_0x3a6b57);break;}case _0x57c18a['ContentType'][_0x4b47f(0x513)]:{const _0xe942e=_0x4e7ded[_0x4b47f(0x3cf)](({content:_0x37f753})=>{const _0x4d19f1=_0x4b47f;switch(_0x37f753['action']){case _0x30cc07['Add']:this[_0x4d19f1(0x3b3)](_0x37f753[_0x4d19f1(0xa60)],_0x37f753[_0x4d19f1(0x24f)],_0x37f753[_0x4d19f1(0x56b)],_0x37f753[_0x4d19f1(0x72b)]);break;case _0x30cc07['Remove']:this[_0x4d19f1(0x46e)](_0x37f753[_0x4d19f1(0xa60)],_0x37f753[_0x4d19f1(0x24f)]);break;case _0x30cc07[_0x4d19f1(0x743)]:_0x37f753[_0x4d19f1(0x56b)]&&this['setPriority'](_0x37f753['stream'],_0x37f753[_0x4d19f1(0x56b)]),_0x37f753[_0x4d19f1(0x72b)]&&this[_0x4d19f1(0x53e)](_0x37f753[_0x4d19f1(0x24f)],_0x37f753['params']);}});this[_0x4b47f(0x703)][_0x4b47f(0x72f)](_0x4e7ded[_0x4b47f(0x2b5)](),_0xe942e);break;}}}[_0x332466(0x945)](_0x508069){const _0x463ea0=_0x332466;switch(_0x508069['getContentType']()){case _0x57c18a[_0x463ea0(0x88a)][_0x463ea0(0x707)]:case _0x57c18a['ContentType'][_0x463ea0(0xa8a)]:case _0x57c18a[_0x463ea0(0x88a)][_0x463ea0(0x59e)]:case _0x57c18a[_0x463ea0(0x88a)][_0x463ea0(0x3c4)]:case _0x57c18a[_0x463ea0(0x88a)]['Job']:case _0x57c18a[_0x463ea0(0x88a)][_0x463ea0(0x730)]:case _0x57c18a[_0x463ea0(0x88a)][_0x463ea0(0x7f5)]:case _0x57c18a[_0x463ea0(0x88a)]['ExternalStorage']:this[_0x463ea0(0x88b)][_0x463ea0(0x4d1)](_0x508069['getLabel']())?.(),this[_0x463ea0(0x88b)][_0x463ea0(0x6ea)](_0x508069[_0x463ea0(0x2b5)]());break;case _0x57c18a[_0x463ea0(0x88a)][_0x463ea0(0x513)]:this['mediaUnsubscribers'][_0x463ea0(0x4d1)](_0x508069[_0x463ea0(0x2b5)]())?.(),this['mediaUnsubscribers'][_0x463ea0(0x6ea)](_0x508069[_0x463ea0(0x2b5)]());}}['getSupportedContentTypes'](){const _0x5d2885=_0x332466;return[_0x57c18a[_0x5d2885(0x88a)]['Data'],_0x57c18a['ContentType'][_0x5d2885(0x513)],_0x57c18a[_0x5d2885(0x88a)]['PubSub'],_0x57c18a[_0x5d2885(0x88a)][_0x5d2885(0x59e)],_0x57c18a[_0x5d2885(0x88a)][_0x5d2885(0x3c4)],_0x57c18a[_0x5d2885(0x88a)]['Job'],_0x57c18a[_0x5d2885(0x88a)][_0x5d2885(0x730)],_0x57c18a[_0x5d2885(0x88a)]['GraphDatabase'],_0x57c18a['ContentType'][_0x5d2885(0x4b7)]];}[_0x332466(0x4bd)](_0x23a1e7){const _0x520bb1=_0x332466;this[_0x520bb1(0x380)]=_0x23a1e7;}[_0x332466(0x3bf)](){const _0x5bc554=_0x332466;delete this[_0x5bc554(0x380)];}async[_0x332466(0x4f4)](){const _0x22311c=_0x332466;this[_0x22311c(0xa9a)](),await this[_0x22311c(0x431)]();}[_0x332466(0x1db)](){const _0x1b859d=_0x332466;this[_0x1b859d(0x335)][_0x1b859d(0x602)](_0x4df9eb=>_0x4df9eb()),this[_0x1b859d(0x335)]=[],this[_0x1b859d(0x889)]?.[_0x1b859d(0x3bf)](),this[_0x1b859d(0x889)]?.[_0x1b859d(0x1db)](),delete this[_0x1b859d(0x889)],this[_0x1b859d(0x6b3)][_0x1b859d(0x602)](_0x342b59=>_0x342b59()),this[_0x1b859d(0x6b3)]=[],this['receiverConnection']?.[_0x1b859d(0x3bf)](),this[_0x1b859d(0x4ed)]?.[_0x1b859d(0x1db)](),delete this[_0x1b859d(0x4ed)];}[_0x332466(0x5c1)](){const _0x4cb71c=_0x332466;return this[_0x4cb71c(0x889)]?.[_0x4cb71c(0x5c1)]()&&this[_0x4cb71c(0x4ed)]?.[_0x4cb71c(0x5c1)]()||!0x1;}[_0x332466(0x922)](_0x12f772){const _0x554c9b=_0x332466;if(!this[_0x554c9b(0x889)]||!this[_0x554c9b(0x5c1)]())throw new _0x1ba31e(_0x1ba31e[_0x554c9b(0x631)]['ConnectionNotinitialized'],{'message':_0x554c9b(0x6ec),'senderConnected':this[_0x554c9b(0x889)]?.[_0x554c9b(0x5c1)](),'receiverConnected':this[_0x554c9b(0x4ed)]?.[_0x554c9b(0x5c1)](),'localId':this[_0x554c9b(0x390)](),'remoteId':this['remoteId'],'data':_0x12f772});this[_0x554c9b(0x889)]['send'](_0x12f772);}[_0x332466(0x6b1)](_0x31e6bf){const _0x43743c=_0x332466;return this[_0x43743c(0x647)][_0x43743c(0x3cf)](_0x31e6bf);}[_0x332466(0x92e)](_0x14fb1c){const _0x340ff2=_0x332466;return this[_0x340ff2(0x502)]['subscribe'](({track:_0x56aa6a,stream:_0x19dcc7})=>_0x14fb1c(_0x56aa6a,_0x19dcc7));}[_0x332466(0x993)](_0xe0e41f){const _0x4f5697=_0x332466;return this[_0x4f5697(0x542)][_0x4f5697(0x3cf)](({track:_0xf55ed0,stream:_0x345f5a})=>_0xe0e41f(_0xf55ed0,_0x345f5a));}[_0x332466(0x3b3)](_0x16d777,_0x51db81,_0x2b2dc0,_0x207c98){const _0x7d0891=_0x332466;this[_0x7d0891(0x889)]?.[_0x7d0891(0x3b3)](_0x16d777,_0x51db81,_0x2b2dc0,_0x207c98);}[_0x332466(0x969)](_0x2a0926,_0x163ced){const _0x3434f1=_0x332466;this['senderConnection']?.[_0x3434f1(0x969)](_0x2a0926,_0x163ced);}[_0x332466(0x53e)](_0x32a178,_0x572b58){const _0xca2f28=_0x332466;this[_0xca2f28(0x889)]?.['setParams'](_0x32a178,_0x572b58);}['removeTrack'](_0x2d29c0,_0x4871d1){const _0x1ec417=_0x332466;this[_0x1ec417(0x889)]?.[_0x1ec417(0x46e)](_0x2d29c0,_0x4871d1);}async[_0x332466(0x73f)](_0x2bd944){const _0x4d4ad1=_0x332466;_0x833509[_0x4d4ad1(0x5d5)](_0xebc42c[_0x4d4ad1(0x972)],_0x4d4ad1(0xa47),this['getLocalId'](),_0x2bd944);const {content:_0x2ff705}=_0x2bd944;switch(_0x2ff705[_0x4d4ad1(0x5a0)]){case _0x435a1f[_0x4d4ad1(0x215)]:await this[_0x4d4ad1(0x8e0)](_0x2ff705);break;case _0x435a1f[_0x4d4ad1(0x209)]:await this[_0x4d4ad1(0x1bc)](_0x2ff705);break;case _0x435a1f['Success']:this[_0x4d4ad1(0x9fc)]();break;case _0x435a1f[_0x4d4ad1(0x293)]:await this[_0x4d4ad1(0x369)](_0x2ff705);break;case _0x435a1f[_0x4d4ad1(0x331)]:this[_0x4d4ad1(0x6c3)](_0x2ff705);break;case _0x435a1f[_0x4d4ad1(0x6ff)]:await this[_0x4d4ad1(0x431)]();}}[_0x332466(0x463)](_0x49bf09){const _0x5603f7=_0x332466;this[_0x5603f7(0x889)]?.[_0x5603f7(0x63b)](_0x49bf09[_0x5603f7(0x4cb)]['data']);}[_0x332466(0x656)](){return this['connectionType'];}[_0x332466(0xa6a)](_0x3816a9){const _0x144796=_0x332466;this[_0x144796(0x1ca)]=_0x3816a9,this['senderConnection']?.[_0x144796(0xa6a)](_0x3816a9),this[_0x144796(0x4ed)]?.[_0x144796(0xa6a)](_0x3816a9);}async[_0x332466(0x83d)](){const _0x2dc214=_0x332466;await this[_0x2dc214(0x889)]?.[_0x2dc214(0x83d)](),await this[_0x2dc214(0x4ed)]?.['collectStats']();}[_0x332466(0x7f0)](){const _0xbc027a=_0x332466;return this[_0xbc027a(0x889)]?.['calculateArrayBufferSize']()??0x0;}[_0x332466(0x3c0)](){const _0x411dba=_0x332466;return this['senderConnection']?.[_0x411dba(0x3c0)]()??0x0;}[_0x332466(0xa9a)](){const _0x12b08d=_0x332466;this[_0x12b08d(0x335)][_0x12b08d(0x995)](this['onMessage'](_0x4d73e2=>{const _0x3681a4=_0x12b08d;_0x184c00(_0x4d73e2,this[_0x3681a4(0x390)]())&&0x0!==_0x4d73e2[_0x3681a4(0x888)]&&this['dataTopics']['get'](_0x4d73e2[_0x3681a4(0x888)])?.[_0x3681a4(0x778)](_0x4d73e2);})),this[_0x12b08d(0x335)][_0x12b08d(0x995)](this[_0x12b08d(0x92e)]((_0x5ba87f,_0x274259)=>{const _0x2f2985=_0x12b08d,_0x17e28f=_0x2b6d4f(_0x57c18a[_0x2f2985(0x88a)][_0x2f2985(0x513)],_0x274259['id'],this['remoteId']);this[_0x2f2985(0x3f8)][_0x2f2985(0x4d1)](_0x17e28f)?.[_0x2f2985(0x778)]({'topicLabel':_0x17e28f,'sourceId':this[_0x2f2985(0x1f3)],'contentType':_0x57c18a[_0x2f2985(0x88a)][_0x2f2985(0x513)],'content':{'action':_0x30cc07[_0x2f2985(0x98e)],'track':_0x5ba87f,'stream':_0x274259,'providerId':this[_0x2f2985(0x1f3)]}});})),this[_0x12b08d(0x335)][_0x12b08d(0x995)](this['onRemoveTrack']((_0x1aaa6d,_0x312e33)=>{const _0x4eaafb=_0x12b08d,_0x47601c=_0x2b6d4f(_0x57c18a[_0x4eaafb(0x88a)]['Media'],_0x312e33['id'],this['remoteId']);this[_0x4eaafb(0x3f8)][_0x4eaafb(0x4d1)](_0x47601c)?.[_0x4eaafb(0x778)]({'topicLabel':_0x47601c,'sourceId':this[_0x4eaafb(0x1f3)],'contentType':_0x57c18a[_0x4eaafb(0x88a)][_0x4eaafb(0x513)],'content':{'action':_0x30cc07['RemoteRemove'],'track':_0x1aaa6d,'stream':_0x312e33,'providerId':this[_0x4eaafb(0x1f3)]}});}));}[_0x332466(0x369)]({candidates:_0x33e05b,origin:_0x15b20c,version:_0x1d13a3}){const _0x318809=_0x332466;return _0x15b20c===_0x1adf00[_0x318809(0x472)]?(this[_0x318809(0x4ed)]||this['createReceiverConnection'](),this[_0x318809(0x4ed)][_0x318809(0x547)](_0x33e05b,_0x1d13a3)):this[_0x318809(0x889)][_0x318809(0x547)](_0x33e05b,_0x1d13a3);}async['createOffer'](){const _0x15201d=_0x332466;this[_0x15201d(0x889)]||this[_0x15201d(0x488)](),await this[_0x15201d(0x889)][_0x15201d(0x431)]();}async[_0x332466(0x8e0)]({offer:_0x50ec07,version:_0xa1b5a6}){const _0x551f55=_0x332466;this[_0x551f55(0x4ed)]||this[_0x551f55(0x9c6)](),await this['receiverConnection']['handleOffer'](_0x50ec07,_0xa1b5a6);}async[_0x332466(0x1bc)]({answer:_0x6bac3c,version:_0x3e6e08}){const _0x12567f=_0x332466;if(!this[_0x12567f(0x889)])throw new _0x1ba31e(_0x1ba31e[_0x12567f(0x631)][_0x12567f(0x588)],{'message':_0x12567f(0x2d9),'localId':this[_0x12567f(0x390)](),'remoteId':this[_0x12567f(0x1f3)],'answer':_0x6bac3c});await this[_0x12567f(0x889)][_0x12567f(0x1bc)](_0x6bac3c,_0x3e6e08);}[_0x332466(0x9fc)](){const _0x46b3d4=_0x332466;if(!this['receiverConnection'])throw new _0x1ba31e(_0x1ba31e[_0x46b3d4(0x631)]['ConnectionNotinitialized'],{'message':_0x46b3d4(0x473),'localId':this[_0x46b3d4(0x390)](),'remoteId':this[_0x46b3d4(0x1f3)]});this[_0x46b3d4(0x4ed)]['handleSuccess'](),this['successNotified']||this[_0x46b3d4(0x1ca)]!==_0x288dad[_0x46b3d4(0x5ac)]||(this[_0x46b3d4(0x942)]=!0x0,this[_0x46b3d4(0x380)]?.[_0x46b3d4(0x778)]({'sourceId':this[_0x46b3d4(0x1f3)],'destinationIds':[this[_0x46b3d4(0x390)]()],'messageType':_0x2e0616[_0x46b3d4(0x338)],'content':{'type':_0x435a1f['OptimizationConnectionSuccess']}}));}[_0x332466(0x6c3)](_0x34ea2f){const _0x335f7d=_0x332466;this[_0x335f7d(0x4ed)]||this[_0x335f7d(0x9c6)](),this[_0x335f7d(0x4ed)][_0x335f7d(0x6c3)](_0x34ea2f['version']);}[_0x332466(0x488)](){const _0x4767d5=_0x332466;this[_0x4767d5(0x889)]=new _0x19b5e7(this['clusterId'],this[_0x4767d5(0x2e7)],this['remoteId'],this[_0x4767d5(0x93c)],this[_0x4767d5(0x1ca)],this[_0x4767d5(0x98a)],this[_0x4767d5(0x37c)],this[_0x4767d5(0x49c)]),this['senderConnection']['registerSystemPublisher'](this[_0x4767d5(0x380)]);}['createReceiverConnection'](){const _0xa6d30f=_0x332466;this[_0xa6d30f(0x4ed)]=new _0x1d1154(this[_0xa6d30f(0x762)],this[_0xa6d30f(0x2e7)],this[_0xa6d30f(0x1f3)],this[_0xa6d30f(0x93c)],this['connectionType'],this['connectionConstructor']),this[_0xa6d30f(0x4ed)][_0xa6d30f(0x4bd)](this[_0xa6d30f(0x380)]),this['receiverUnsubscribers'][_0xa6d30f(0x995)](this['receiverConnection'][_0xa6d30f(0x6b1)](_0x1cae77=>this[_0xa6d30f(0x647)][_0xa6d30f(0x778)](_0x1cae77))),this[_0xa6d30f(0x6b3)][_0xa6d30f(0x995)](this[_0xa6d30f(0x4ed)]['onTrack']((_0x4e0433,_0x227bbf)=>this[_0xa6d30f(0x502)][_0xa6d30f(0x778)]({'track':_0x4e0433,'stream':_0x227bbf}))),this['receiverUnsubscribers'][_0xa6d30f(0x995)](this[_0xa6d30f(0x4ed)][_0xa6d30f(0x993)]((_0x1e4824,_0x162cff)=>this[_0xa6d30f(0x542)][_0xa6d30f(0x778)]({'track':_0x1e4824,'stream':_0x162cff})));}}class _0x11bd03{[_0x332466(0x953)];[_0x332466(0x2e0)];[_0x332466(0x9ab)];['connections']=new Map();[_0x332466(0x647)]=_0x5ad0e0();['messageUnsubscriber'];['dataTopics']=new Map();['dataUnsubscribers']=new Map();[_0x332466(0x696)]=new Map();constructor(_0x1b8aae,_0x5adc40,_0x2b30e7){const _0x3d3472=_0x332466;this['localId']=_0x1b8aae,this['messageBuffer']=_0x5adc40,this[_0x3d3472(0x9ab)]=_0x2b30e7,this[_0x3d3472(0x9c9)]=this[_0x3d3472(0x6b1)](_0x43c998=>{const _0x5a1312=_0x3d3472;this['messageBuffer'][_0x5a1312(0x36e)](_0x43c998['uuid'])||(_0x184c00(_0x43c998,this[_0x5a1312(0x953)])&&0x0!==_0x43c998[_0x5a1312(0x888)]&&(this[_0x5a1312(0x2e0)][_0x5a1312(0x594)](_0x43c998[_0x5a1312(0x3eb)]),this[_0x5a1312(0x927)][_0x5a1312(0x4d1)](_0x43c998[_0x5a1312(0x888)])?.['publish'](_0x43c998)),_0x43c998[_0x5a1312(0x3b6)]&&this[_0x5a1312(0x922)](_0x43c998));});}[_0x332466(0x1db)](){this['messageUnsubscriber']?.();}[_0x332466(0x834)](_0x22bcbb){const _0x1437bd=_0x332466,_0x23b9c8=_0x22bcbb['onMessage'](_0x1ab815=>{const _0x2b07d9=a0_0x5279;this[_0x2b07d9(0x647)]['publish'](_0x1ab815);});this[_0x1437bd(0x94d)][_0x1437bd(0x72f)](_0x22bcbb,_0x23b9c8),this[_0x1437bd(0x696)][_0x1437bd(0x72f)](_0x22bcbb[_0x1437bd(0x2ff)](),function(_0x398ab4,_0x3e52f5=!0x1){let _0x39ab5f=new Map();const _0x5ac8a4=_0x323896(_0x398ab4,_0x3e52f5,function(_0x3f4d55){const _0x5de495=a0_0x5279;_0x2ca6db(_0x3f4d55)&&_0x39ab5f[_0x5de495(0x6ea)](_0x3f4d55[_0x5de495(0x41f)]+'-'+(_0x3f4d55[_0x5de495(0x7de)]??[])+'-'+_0x3f4d55[_0x5de495(0x1de)]+'-'+_0x3f4d55[_0x5de495(0x4cb)][_0x5de495(0x5a0)]);},function(_0x59cd74){return!!function(_0x323fc2){const _0x5494cd=a0_0x5279,_0x11672c=_0x323fc2[_0x5494cd(0x69e)];if(!_0x2ca6db(_0x11672c))return!0x1;const _0x1b1ac6=_0x11672c[_0x5494cd(0x41f)]+'-'+(_0x11672c[_0x5494cd(0x7de)]??[])+'-'+_0x11672c[_0x5494cd(0x1de)]+'-'+_0x11672c[_0x5494cd(0x4cb)][_0x5494cd(0x5a0)],_0x938fd0={'version':_0x11672c[_0x5494cd(0x4cb)][_0x5494cd(0x8c1)],'element':_0x323fc2},_0x53e78a=_0x39ab5f[_0x5494cd(0x4d1)](_0x1b1ac6);return _0x53e78a?(_0x53e78a['version']>=_0x11672c[_0x5494cd(0x4cb)]['version']||(_0x53e78a[_0x5494cd(0x6e3)][_0x5494cd(0xae3)]&&(_0x53e78a[_0x5494cd(0x6e3)][_0x5494cd(0xae3)]['next']=_0x323fc2,_0x323fc2['previous']=_0x53e78a[_0x5494cd(0x6e3)][_0x5494cd(0xae3)]),_0x53e78a[_0x5494cd(0x6e3)][_0x5494cd(0x4c5)]&&(_0x53e78a[_0x5494cd(0x6e3)][_0x5494cd(0x4c5)][_0x5494cd(0xae3)]=_0x323fc2,_0x323fc2[_0x5494cd(0x4c5)]=_0x53e78a[_0x5494cd(0x6e3)]['next']),_0x53e78a['element']===_0x5ac8a4['head']&&(_0x5ac8a4['head']=_0x323fc2),_0x53e78a[_0x5494cd(0x6e3)]===_0x5ac8a4['tail']&&(_0x5ac8a4['tail']=_0x323fc2),_0x39ab5f['set'](_0x1b1ac6,_0x938fd0)),!0x0):(_0x39ab5f['set'](_0x1b1ac6,_0x938fd0),!0x1);}(_0x59cd74);},function(){const _0x3083ba=a0_0x5279;_0x39ab5f[_0x3083ba(0x767)]();});function _0x2ca6db(_0x27e6bd){const _0x2b12e1=a0_0x5279;if(_0x27e6bd&&'object'==typeof _0x27e6bd&&_0x27e6bd[_0x2b12e1(0x2e3)]('content')&&_0x27e6bd[_0x2b12e1(0x2e3)](_0x2b12e1(0x1de))&&_0x27e6bd[_0x2b12e1(0x2e3)](_0x2b12e1(0x41f))){const _0x2ebe2e=_0x27e6bd;if(_0x2ebe2e[_0x2b12e1(0x4cb)]&&_0x2b12e1(0x7ff)==typeof _0x2ebe2e[_0x2b12e1(0x4cb)]&&_0x2ebe2e[_0x2b12e1(0x4cb)][_0x2b12e1(0x2e3)]('version')&&_0x2ebe2e[_0x2b12e1(0x4cb)][_0x2b12e1(0x2e3)]('type'))return!0x0;}return!0x1;}return _0x5ac8a4;}(new _0x3f321f(_0x59a6c0=>_0x22bcbb[_0x1437bd(0x922)](_0x59a6c0),()=>_0x1327a2[_0x1437bd(0x908)](0x64))));}['removeConnection'](_0x55fe97){const _0x2bad07=_0x332466;this['connections'][_0x2bad07(0x4d1)](_0x55fe97)?.(),this[_0x2bad07(0x94d)][_0x2bad07(0x6ea)](_0x55fe97),this[_0x2bad07(0x696)][_0x2bad07(0x4d1)](_0x55fe97[_0x2bad07(0x2ff)]())?.[_0x2bad07(0x767)](),this[_0x2bad07(0x696)][_0x2bad07(0x6ea)](_0x55fe97[_0x2bad07(0x2ff)]());}[_0x332466(0x5c1)](_0x3635b7){const _0x3f2b39=_0x332466;return _0x833509[_0x3f2b39(0x5d5)](_0xebc42c[_0x3f2b39(0x829)],_0x3f2b39(0x29f),this[_0x3f2b39(0x953)],this['connections']['keys']()),0x0!==this['connections'][_0x3f2b39(0x393)]&&(Array[_0x3f2b39(0x639)](this[_0x3f2b39(0x94d)][_0x3f2b39(0x4be)]())[_0x3f2b39(0x405)](_0x48391a=>_0x48391a[_0x3f2b39(0x2ff)]()===_0x3635b7)?.[_0x3f2b39(0x5c1)]()??!0x1);}['registerPublisher'](_0x531281){const _0x338982=_0x332466;this[_0x338982(0x927)][_0x338982(0x72f)](_0x531281['getLabel'](),_0x531281);}[_0x332466(0x52d)](_0x5d2ea1){this['dataTopics']['delete'](_0x5d2ea1['getLabel']());}['registerSubscriber'](_0x2449f7){const _0x429cc0=_0x332466,_0x478ac0=_0x2449f7[_0x429cc0(0x3cf)](this['send'][_0x429cc0(0x531)](this));this[_0x429cc0(0x88b)][_0x429cc0(0x72f)](_0x2449f7[_0x429cc0(0x2b5)](),_0x478ac0);}['unregisterSubscriber'](_0x39d5d6){const _0x15d992=_0x332466;this['dataUnsubscribers'][_0x15d992(0x4d1)](_0x39d5d6[_0x15d992(0x2b5)]())?.(),this['dataUnsubscribers'][_0x15d992(0x6ea)](_0x39d5d6[_0x15d992(0x2b5)]());}['getSupportedContentTypes'](){const _0x43b4c7=_0x332466;return[_0x57c18a[_0x43b4c7(0x88a)][_0x43b4c7(0x707)],_0x57c18a[_0x43b4c7(0x88a)][_0x43b4c7(0xa8a)],_0x57c18a[_0x43b4c7(0x88a)][_0x43b4c7(0x59e)],_0x57c18a[_0x43b4c7(0x88a)][_0x43b4c7(0x3c4)],_0x57c18a['ContentType'][_0x43b4c7(0x26b)],_0x57c18a['ContentType'][_0x43b4c7(0x730)],_0x57c18a['ContentType']['GraphDatabase'],_0x57c18a['ContentType'][_0x43b4c7(0x4b7)]];}['send'](_0x43753b){const _0x28a052=_0x332466;if(!0x1===_0x43753b[_0x28a052(0x681)]){if(_0x43753b[_0x28a052(0x3b6)]||!_0x43753b[_0x28a052(0x7de)]||0x1!==_0x43753b[_0x28a052(0x7de)][_0x28a052(0x65d)])throw new _0x1ba31e(_0x1ba31e['codes'][_0x28a052(0x869)],{'message':_0x28a052(0x4d7),'localId':this['localId']});if(!this[_0x28a052(0x5c1)](_0x43753b[_0x28a052(0x7de)][0x0]))throw new _0x24755f(_0x28a052(0x81e));}const _0xddd697=_0x43753b[_0x28a052(0x701)]??[];try{const {filteredDestinationIds:_0x4b569e,extendedRecipients:_0x51de3b}=this[_0x28a052(0x4dd)](_0x43753b,_0xddd697);_0x43753b['destinationIds']=_0x4b569e,_0x43753b[_0x28a052(0x701)]=_0x51de3b;}catch(_0x1e93b7){if(_0x1e93b7 instanceof _0x24755f)return void _0x833509['log'](_0xebc42c[_0x28a052(0x972)],_0x28a052(0x235),_0x28a052(0x384),_0x43753b,_0x1e93b7['message']);}const _0x4329c3=this['shouldContinuePropagation'](_0x43753b);this[_0x28a052(0x1f7)](_0x43753b,_0x4329c3),_0x43753b['propagate']=_0x4329c3;const _0x12958e=this[_0x28a052(0x397)](_0x43753b,_0xddd697);for(const _0x3b521c of _0x12958e){const _0x275965=this[_0x28a052(0x696)][_0x28a052(0x4d1)](_0x3b521c[_0x28a052(0x2ff)]());if(!_0x275965)throw new _0x1ba31e(_0x1ba31e[_0x28a052(0x631)][_0x28a052(0xa25)],{'message':_0x28a052(0x22c),'localId':this[_0x28a052(0x953)],'remoteId':_0x3b521c[_0x28a052(0x2ff)](),'data':_0x43753b});_0x275965[_0x28a052(0x995)](_0x43753b);}}['getRemoteId'](){return'';}[_0x332466(0x390)](){const _0x1eca55=_0x332466;return this[_0x1eca55(0x953)];}['onMessage'](_0x50320a){const _0xc4499c=_0x332466;return this[_0xc4499c(0x647)][_0xc4499c(0x3cf)](_0x50320a);}['updatePropagationProperties'](_0x52a42d,_0x1fe96d){const _0x442217=_0x332466,_0x1bd27b={'filteredDestinationIds':_0x52a42d[_0x442217(0x7de)],'extendedRecipients':_0x52a42d[_0x442217(0x701)]};if(!_0x52a42d['propagate'])return _0x1bd27b;const _0x3d3e72=Array[_0x442217(0x639)](this['connections'][_0x442217(0x4be)]())[_0x442217(0x962)](_0x45adc0=>_0x45adc0[_0x442217(0x656)]()===_0x288dad[_0x442217(0x347)]||_0x45adc0[_0x442217(0x5c1)]())[_0x442217(0x604)](_0x56274d=>_0x56274d['getRemoteId']());if(_0x3d3e72[_0x442217(0x3c9)]((_0x5c2513,_0x24e737)=>_0x5c2513&&_0x52a42d[_0x442217(0x701)][_0x442217(0x988)](_0x24e737),!0x0))throw new _0x24755f('All\x20recipients\x20already\x20received');if(_0x52a42d[_0x442217(0x7de)]){const _0x821770=_0x52a42d['destinationIds']['filter'](_0x5bbc26=>_0x5bbc26!==this[_0x442217(0x953)]&&!_0x52a42d[_0x442217(0x701)][_0x442217(0x988)](_0x5bbc26));if(0x0===_0x821770[_0x442217(0x65d)])throw new _0x24755f(_0x442217(0x2bd));_0x1bd27b[_0x442217(0x4af)]=_0x821770;}return _0x1bd27b[_0x442217(0x4c8)]=[...new Set([..._0x1fe96d,..._0x3d3e72,this['localId']])],_0x1bd27b;}[_0x332466(0x1f7)](_0x42fe12,_0x459299=!0x1){const _0x1fe7ad=_0x332466;if(0x0===_0x42fe12['topicLabel']&&!_0x46532b(_0x42fe12,this[_0x1fe7ad(0x953)])&&_0x42fe12[_0x1fe7ad(0x3b6)]){const _0x5a7e31=_0x4ba98f(_0x42fe12,this[_0x1fe7ad(0x953)]);_0x833509['logRaw'](_0xebc42c[_0x1fe7ad(0x2e4)],_0x42fe12[_0x1fe7ad(0x3eb)]+_0x1fe7ad(0x432)+_0x459299+')\x20'+_0x5a7e31,_0x42fe12,_0x459299);}}[_0x332466(0x92a)](_0xf3afb1){const _0x2c18d8=_0x332466;if(_0xf3afb1[_0x2c18d8(0x7de)]&&_0xf3afb1[_0x2c18d8(0x3b6)]){const _0x40d626=Array['from'](this[_0x2c18d8(0x94d)][_0x2c18d8(0x4be)]())[_0x2c18d8(0x962)](_0x3e74f9=>_0x3e74f9[_0x2c18d8(0x656)]()===_0x288dad['Core']||_0x3e74f9[_0x2c18d8(0x5c1)]())['map'](_0x283992=>_0x283992[_0x2c18d8(0x2ff)]());return!_0xf3afb1[_0x2c18d8(0x7de)][_0x2c18d8(0x3c9)]((_0x57f947,_0x35f026)=>_0x57f947&&_0x40d626[_0x2c18d8(0x988)](_0x35f026),!0x0);}return _0xf3afb1[_0x2c18d8(0x3b6)]??!0x1;}[_0x332466(0x397)](_0x50b07f,_0x51479d){const _0x16519d=_0x332466;if(_0x50b07f[_0x16519d(0x3b6)]&&_0x50b07f['destinationIds']){const _0xfd0d80=Array['from'](this['connections'][_0x16519d(0x4be)]())[_0x16519d(0x962)](_0x372848=>_0x372848[_0x16519d(0x656)]()===_0x288dad[_0x16519d(0x347)]||_0x372848[_0x16519d(0x5c1)]())[_0x16519d(0x604)](_0x5d2b8f=>_0x5d2b8f[_0x16519d(0x2ff)]()),_0x5be247=new Set(),_0x2313e9=_0x50b07f[_0x16519d(0x41f)]===this[_0x16519d(0x953)]?0x3:0x1;return _0x50b07f[_0x16519d(0x7de)][_0x16519d(0x602)](_0x3d90a0=>{const _0x647ba0=_0x16519d,_0x16e6b1=this[_0x647ba0(0x9ab)]['getClosestNodes'](_0xfd0d80,_0x3d90a0);let _0x319bc7=0x0,_0x110ba3=0x0;_0x16e6b1['forEach'](_0x1787cb=>{const _0xdae5f3=_0x647ba0;if(_0x319bc7>=_0x2313e9)return;const _0x4cadf0=Array[_0xdae5f3(0x639)](this[_0xdae5f3(0x94d)]['keys']())['find'](_0x496564=>_0x496564[_0xdae5f3(0x2ff)]()===_0x1787cb);if(_0x4cadf0){if(_0x4cadf0[_0xdae5f3(0x656)]()===_0x288dad['Core']&&_0x110ba3>0x0)return void(_0x110ba3-=0x1);_0x5be247[_0xdae5f3(0x7c5)](_0x4cadf0),_0x4cadf0[_0xdae5f3(0x656)]()===_0x288dad['Optimization']&&(_0x110ba3+=0x1),_0x319bc7+=0x1;}});}),Array['from'](_0x5be247);}return Array[_0x16519d(0x639)](this[_0x16519d(0x94d)][_0x16519d(0x4be)]())[_0x16519d(0x962)](_0x5bae98=>{const _0x458213=_0x16519d;return _0x31444f=_0x5bae98['getRemoteId'](),!_0x51479d[_0x458213(0x988)](_0x31444f)&&(_0x184c00(_0x50b07f,_0x31444f)||_0x50b07f[_0x458213(0x3b6)])&&(!_0x50b07f[_0x458213(0x3b6)]||_0x5bae98['isConnected']()||_0x5bae98[_0x458213(0x656)]()===_0x288dad[_0x458213(0x347)]);var _0x31444f;});}}class _0x50fbd5{['localId'];[_0x332466(0x2e0)];[_0x332466(0x94d)]=new Map();[_0x332466(0x380)];constructor(_0x42b970,_0x56c7f3){const _0x28e2fe=_0x332466;this[_0x28e2fe(0x953)]=_0x42b970,this[_0x28e2fe(0x2e0)]=_0x56c7f3;}[_0x332466(0x1db)](){}[_0x332466(0x922)](_0x138baf){const _0x2e9daf=_0x332466;for(const _0x3751ec of this[_0x2e9daf(0x94d)][_0x2e9daf(0x4be)]())try{return void _0x3751ec[_0x2e9daf(0x922)]({'retry':!0x1,..._0x138baf});}catch(_0xfa66dd){_0xfa66dd instanceof _0x24755f||_0x833509[_0x2e9daf(0x5d5)](_0xebc42c[_0x2e9daf(0x79e)],_0x2e9daf(0x52b)+_0x3751ec,_0xfa66dd,_0x138baf);}_0x833509[_0x2e9daf(0x5d5)](_0xebc42c[_0x2e9daf(0x79e)],_0x2e9daf(0x551));}[_0x332466(0x834)](_0x2ca9a3){const _0x2790d3=_0x332466,_0x465ea6=_0x2ca9a3['onMessage'](_0x56ff33=>{const _0x36ac8b=a0_0x5279;this[_0x36ac8b(0x2e0)][_0x36ac8b(0x36e)](_0x56ff33[_0x36ac8b(0x3eb)])||0x0===_0x56ff33[_0x36ac8b(0x888)]&&(this[_0x36ac8b(0x2e0)][_0x36ac8b(0x594)](_0x56ff33[_0x36ac8b(0x3eb)]),_0x184c00(_0x56ff33,this['localId'])&&this[_0x36ac8b(0x380)]?.[_0x36ac8b(0x778)](_0x56ff33));});this['connections'][_0x2790d3(0x72f)](_0x2ca9a3,_0x465ea6);}[_0x332466(0xa13)](_0x4bf99b){this['connections']['get'](_0x4bf99b)?.(),this['connections']['delete'](_0x4bf99b);}[_0x332466(0x390)](){const _0x2f4316=_0x332466;return this[_0x2f4316(0x953)];}[_0x332466(0x2ff)](){return'';}['getSupportedContentTypes'](){const _0x1f60b5=_0x332466;return[_0x57c18a[_0x1f60b5(0x88a)]['Data']];}[_0x332466(0x5c1)](){const _0x4b3f4a=_0x332466;throw new Error(_0x4b3f4a(0x1fd));}[_0x332466(0x4bd)](_0x41ddae){const _0x2086a6=_0x332466;this[_0x2086a6(0x380)]=_0x41ddae;}[_0x332466(0x3bf)](){const _0xcb45dd=_0x332466;delete this[_0xcb45dd(0x380)];}}class _0x12a4aa{[_0x332466(0x2ad)]=new Map();[_0x332466(0x5e7)];constructor(){const _0x244907=_0x332466;this[_0x244907(0x5e7)]=_0x1327a2[_0x244907(0x728)](()=>{const _0x22faca=_0x244907;for(const [_0x4e41c5,_0x1a6404]of this[_0x22faca(0x2ad)][_0x22faca(0xa14)]())Date['now']()-_0x1a6404>0x124f80&&this[_0x22faca(0x2ad)][_0x22faca(0x6ea)](_0x4e41c5);},0x1d4c0);}[_0x332466(0x1db)](){const _0x47f3ee=_0x332466;this[_0x47f3ee(0x5e7)]();}['addMessage'](_0xd068e0){const _0x37a991=_0x332466;this[_0x37a991(0x2ad)][_0x37a991(0x72f)](_0xd068e0,Date[_0x37a991(0x3f4)]());}[_0x332466(0x36e)](_0x33549b){const _0x33d1bb=_0x332466;return this[_0x33d1bb(0x2ad)][_0x33d1bb(0x71d)](_0x33549b);}}class _0x6eb377{[_0x332466(0xaa5)];[_0x332466(0x685)];[_0x332466(0x93c)];[_0x332466(0x3ca)];[_0x332466(0x94d)]=new Map();[_0x332466(0x9b2)];[_0x332466(0x1c6)];[_0x332466(0x3df)];[_0x332466(0x2e0)];constructor(_0x534704,_0x189c41,_0x20e5e1,_0x3efa80,_0x27601f){const _0x5ca7a8=_0x332466;this[_0x5ca7a8(0xaa5)]=_0x534704,this[_0x5ca7a8(0x685)]=_0x189c41,this['iceServers']=_0x3efa80,this[_0x5ca7a8(0x3ca)]=_0x27601f,this[_0x5ca7a8(0x2e0)]=new _0x12a4aa(),this['connectionGroup']=new _0x11bd03(this[_0x5ca7a8(0xaa5)][_0x5ca7a8(0x2e7)][_0x5ca7a8(0x9cc)](),this[_0x5ca7a8(0x2e0)],_0x20e5e1),this[_0x5ca7a8(0x3df)]=new _0x2c6799(this['configs'][_0x5ca7a8(0x640)],this[_0x5ca7a8(0xaa5)]['clusterId'],this['configs']['localNode'],_0x5ca7a8(0x1e3),this['authService']),this['connectionPool']=new _0x50fbd5(this[_0x5ca7a8(0xaa5)][_0x5ca7a8(0x2e7)][_0x5ca7a8(0x9cc)](),this[_0x5ca7a8(0x2e0)]),this[_0x5ca7a8(0x9b2)]['addConnection'](this[_0x5ca7a8(0x1c6)]),this['connectionPool'][_0x5ca7a8(0x834)](this[_0x5ca7a8(0x3df)]),this[_0x5ca7a8(0xaa5)]['mediator'][_0x5ca7a8(0xa95)](this[_0x5ca7a8(0x9b2)]);}['close'](){const _0x417a08=_0x332466;this['messageBuffer'][_0x417a08(0x1db)](),this[_0x417a08(0x94d)]['forEach']((_0x246ced,_0xfe3dd8)=>this[_0x417a08(0x2c6)](_0xfe3dd8)),this[_0x417a08(0xaa5)][_0x417a08(0x7c9)][_0x417a08(0xa29)](this[_0x417a08(0x9b2)]),this[_0x417a08(0x9b2)][_0x417a08(0xa13)](this[_0x417a08(0x3df)]),this[_0x417a08(0x9b2)][_0x417a08(0xa13)](this[_0x417a08(0x1c6)]),this['connectionPool']['close'](),this[_0x417a08(0x3df)][_0x417a08(0x1db)](),this['connectionGroup'][_0x417a08(0x1db)]();}async[_0x332466(0x2b2)](){await this['signalingServer']['connect']();}async[_0x332466(0x491)](_0x931713,_0x57ddaf=_0x288dad['Core']){const _0x12bf06=_0x332466;if(this['connections']['has'](_0x931713)){if(this['connections'][_0x12bf06(0x4d1)](_0x931713)?.[_0x12bf06(0x656)]()===_0x288dad[_0x12bf06(0x5ac)]&&_0x57ddaf===_0x288dad[_0x12bf06(0x347)])return void this['connections']['get'](_0x931713)?.[_0x12bf06(0xa6a)](_0x288dad[_0x12bf06(0x347)]);throw new _0x1ba31e(_0x1ba31e[_0x12bf06(0x631)]['RemoteConnectionExists'],{'localId':this[_0x12bf06(0xaa5)][_0x12bf06(0x2e7)][_0x12bf06(0x9cc)](),'remoteId':_0x931713});}const _0x5ecdf8=new _0x3b4ba2(this['configs'][_0x12bf06(0x762)],this[_0x12bf06(0xaa5)][_0x12bf06(0x2e7)],_0x931713,this[_0x12bf06(0x93c)],_0x57ddaf,this[_0x12bf06(0x3ca)][_0x12bf06(0x98a)],this['options'][_0x12bf06(0x37c)],this[_0x12bf06(0x3ca)][_0x12bf06(0x64c)]);this[_0x12bf06(0x94d)][_0x12bf06(0x72f)](_0x931713,_0x5ecdf8),this[_0x12bf06(0x1c6)][_0x12bf06(0x834)](_0x5ecdf8),this[_0x12bf06(0xaa5)][_0x12bf06(0x7c9)][_0x12bf06(0xa95)](_0x5ecdf8),this['configs'][_0x12bf06(0x7c9)][_0x12bf06(0x3a5)](_0x931713),await _0x5ecdf8[_0x12bf06(0x4f4)]();}[_0x332466(0x88c)](){return this['connectionGroup'];}[_0x332466(0x35a)](_0x2fa1bb){const _0x2e51a6=_0x332466;if(!this['connections'][_0x2e51a6(0x71d)](_0x2fa1bb))throw new _0x1ba31e(_0x1ba31e['codes'][_0x2e51a6(0x63c)],{'localId':this[_0x2e51a6(0xaa5)]['localNode']['getId'](),'remoteId':_0x2fa1bb});return this[_0x2e51a6(0x94d)][_0x2e51a6(0x4d1)](_0x2fa1bb);}['getConnections'](_0x3666b3){const _0x3a7707=_0x332466,_0xb79f88=Array[_0x3a7707(0x639)](this[_0x3a7707(0x94d)][_0x3a7707(0x6af)]());return _0x3666b3?_0xb79f88['filter'](_0x3666b3):_0xb79f88;}async[_0x332466(0x83d)](_0x1f09cc){const _0xc8f4ac=_0x332466,_0x373cc2=this[_0xc8f4ac(0x94d)][_0xc8f4ac(0x4d1)](_0x1f09cc);_0x373cc2&&_0x373cc2['isConnected']()&&await _0x373cc2[_0xc8f4ac(0x83d)]();}[_0x332466(0x24a)](_0x78079b){const _0x4e26d8=_0x332466;if(_0x78079b[_0x4e26d8(0x1de)]!==_0x2e0616[_0x4e26d8(0x338)]||_0x78079b[_0x4e26d8(0x3b6)])try{this['connectionGroup']['send'](_0x78079b);}catch(_0x192003){if(_0x192003 instanceof _0x24755f)return;throw _0x192003;}else this['connectionPool'][_0x4e26d8(0x922)](_0x78079b);}async[_0x332466(0x73f)](_0x4abe8a){const _0x4b8185=_0x332466;switch(_0x4abe8a[_0x4b8185(0x4cb)][_0x4b8185(0x5a0)]){case _0x435a1f[_0x4b8185(0x1e7)]:case _0x435a1f[_0x4b8185(0x9d0)]:case _0x435a1f[_0x4b8185(0x6c8)]:return;}if(!_0x4abe8a['destinationIds']||0x1!==_0x4abe8a['destinationIds'][_0x4b8185(0x65d)])throw new _0x1ba31e(_0x1ba31e[_0x4b8185(0x631)][_0x4b8185(0x82a)],{'message':_0x4b8185(0x85b),'event':_0x4abe8a});if(_0x4abe8a[_0x4b8185(0x7de)][0x0]!==this['configs'][_0x4b8185(0x2e7)]['getId']())throw new _0x1ba31e(_0x1ba31e['codes'][_0x4b8185(0x82a)],{'message':_0x4b8185(0x271),'event':_0x4abe8a});if(!this[_0x4b8185(0x94d)][_0x4b8185(0x71d)](_0x4abe8a[_0x4b8185(0x41f)])){let _0x4d33cc=_0x288dad['Core'];if(!(this[_0x4b8185(0x6d4)](_0x4abe8a[_0x4b8185(0x4cb)])||this[_0x4b8185(0x5c9)](_0x4abe8a['content'])||this[_0x4b8185(0x3db)](_0x4abe8a[_0x4b8185(0x4cb)])))return;_0x4d33cc=_0x4abe8a[_0x4b8185(0x4cb)][_0x4b8185(0x1ca)],await this[_0x4b8185(0x491)](_0x4abe8a[_0x4b8185(0x41f)],_0x4d33cc);}const _0x4bf560=this['connections']['get'](_0x4abe8a[_0x4b8185(0x41f)]);await _0x4bf560[_0x4b8185(0x73f)](_0x4abe8a);}['handleRemediationSystemEvents'](_0x9ecd22){const _0x524caf=_0x332466;if(_0x9ecd22['content'][_0x524caf(0x5a0)]===_0x46a94b[_0x524caf(0x47a)]){if(_0x9ecd22[_0x524caf(0x4cb)][_0x524caf(0x60d)]===this[_0x524caf(0xaa5)][_0x524caf(0x2e7)]['getId']())return void this[_0x524caf(0x94d)]['forEach'](_0x594611=>_0x594611['handleRemediationSystemEvents'](_0x9ecd22));this['connections'][_0x524caf(0x4d1)](_0x9ecd22[_0x524caf(0x4cb)]['targetId'])?.[_0x524caf(0x463)](_0x9ecd22);}}[_0x332466(0x524)]({content:_0x541f09}){const _0xf74e16=_0x332466;_0x541f09[_0xf74e16(0x5a0)]===_0x4aea6e['NodeLeave']&&this[_0xf74e16(0x2c6)](_0x541f09['id']);}[_0x332466(0xa57)](){const _0x29f7ed=_0x332466,_0x3b99fd=Array[_0x29f7ed(0x639)](this[_0x29f7ed(0x94d)][_0x29f7ed(0x6af)]())[_0x29f7ed(0x3c9)]((_0x8095a7,_0x5a7bee)=>_0x8095a7+_0x5a7bee[_0x29f7ed(0x7f0)](),0x0);return _0x3b99fd<_0x21b92f?Promise[_0x29f7ed(0xac2)](_0x3b99fd):new Promise(_0x24d63a=>{const _0x50aa8e=setInterval(()=>{const _0x2e605b=a0_0x5279,_0xc3fc12=Array['from'](this[_0x2e605b(0x94d)]['values']())[_0x2e605b(0x3c9)]((_0x3efa07,_0x52c310)=>_0x3efa07+_0x52c310[_0x2e605b(0x7f0)](),0x0);_0xc3fc12<_0x21b92f&&(clearInterval(_0x50aa8e),_0x24d63a(_0xc3fc12));},0x3e8);});}['hasBufferedData'](){const _0x2382b9=_0x332466;for(const _0x65f7dc of this[_0x2382b9(0x94d)][_0x2382b9(0x6af)]())if(_0x65f7dc[_0x2382b9(0x3c0)]()>0x0||_0x65f7dc['calculateArrayBufferSize']()>0x0)return!0x0;return!0x1;}[_0x332466(0x2c6)](_0x891fa7){const _0x3098bb=_0x332466,_0x1a5a1a=this[_0x3098bb(0x94d)][_0x3098bb(0x4d1)](_0x891fa7);_0x1a5a1a&&(this[_0x3098bb(0xaa5)][_0x3098bb(0x7c9)][_0x3098bb(0x835)](_0x891fa7),this[_0x3098bb(0xaa5)][_0x3098bb(0x7c9)]['unregisterSystemSource'](_0x1a5a1a),_0x1a5a1a instanceof _0x3b4ba2&&this[_0x3098bb(0x1c6)][_0x3098bb(0xa13)](_0x1a5a1a),_0x1a5a1a['close'](),this[_0x3098bb(0x94d)][_0x3098bb(0x6ea)](_0x891fa7));}[_0x332466(0x6d4)](_0x25ccec){const _0x955e97=_0x332466;return _0x25ccec[_0x955e97(0x5a0)]===_0x435a1f['Offer'];}[_0x332466(0x3db)](_0x320584){const _0x4aedff=_0x332466;return _0x320584[_0x4aedff(0x5a0)]===_0x435a1f[_0x4aedff(0x331)];}[_0x332466(0x5c9)](_0x18be50){const _0x51da5f=_0x332466;return _0x18be50['type']===_0x435a1f[_0x51da5f(0x293)];}}!function(_0x3f3062){const _0x301388=_0x332466;_0x3f3062[_0x3f3062[_0x301388(0x77b)]=0x0]=_0x301388(0x77b),_0x3f3062[_0x3f3062[_0x301388(0x982)]=0x1]=_0x301388(0x982),_0x3f3062[_0x3f3062[_0x301388(0x8b4)]=0x2]=_0x301388(0x8b4),_0x3f3062[_0x3f3062[_0x301388(0x961)]=0x3]=_0x301388(0x961),_0x3f3062[_0x3f3062['RestartNeedMediaStream']=0x4]=_0x301388(0x57a),_0x3f3062[_0x3f3062[_0x301388(0x73d)]=0x5]='CanProvideMediaStream',_0x3f3062[_0x3f3062[_0x301388(0x7ad)]=0x6]=_0x301388(0x7ad),_0x3f3062[_0x3f3062[_0x301388(0xa33)]=0x7]='MediaStreamUnavailable';}(_0x7a6e1d||(_0x7a6e1d={}));class _0x559cd6 extends _0x46faea{[_0x332466(0x2e7)];['clusterId'];[_0x332466(0x640)];[_0x332466(0x825)];[_0x332466(0x9a9)];[_0x332466(0x600)]=0x0;[_0x332466(0x848)];[_0x332466(0x4f9)]=_0x5ad0e0();[_0x332466(0x335)]=new Map();[_0x332466(0x378)];constructor(_0x1fa96e,_0x4f2429,_0x2e79c2,_0xe2df6c,_0x15a95b){const _0x5baa9a=_0x332466;if(_0x5baa9a(0x5b3)!=typeof _0x4f2429)throw new _0x212143(_0x198729[_0x5baa9a(0x563)],_0x5baa9a(0x5a4));super(_0x1fa96e,_0x4f2429),this[_0x5baa9a(0x2e7)]=_0x1fa96e,this[_0x5baa9a(0x762)]=_0x2e79c2,this[_0x5baa9a(0x640)]=_0xe2df6c,this[_0x5baa9a(0x825)]=_0x15a95b,this['sendStats']();}[_0x332466(0x5e0)](){const _0x379a72=_0x332466;this[_0x379a72(0x378)]?.(),this[_0x379a72(0x335)]['forEach'](_0x1b5069=>_0x1b5069()),clearTimeout(this[_0x379a72(0x9a9)]),delete this[_0x379a72(0x9a9)],super[_0x379a72(0x5e0)]();}['reset'](){const _0x839962=_0x332466;this[_0x839962(0x78f)]();}[_0x332466(0x1db)](){const _0x3b23fd=_0x332466;this[_0x3b23fd(0x380)]['publish']({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x3b23fd(0x66b)],'content':{'type':_0x5d4388[_0x3b23fd(0x1bb)],'label':this[_0x3b23fd(0x308)]}});}[_0x332466(0x62f)](){const _0x232549=_0x332466;return _0x57c18a['ContentType'][_0x232549(0x4b7)];}async[_0x332466(0x4d1)](_0x52822f){const _0x59b8a0=_0x332466;if(!this[_0x59b8a0(0x848)])throw new _0x212143(_0x198729[_0x59b8a0(0x511)],_0x59b8a0(0x3d3));_0x833509['logServiceEvent'](_0x80219b[_0x59b8a0(0x4b7)],{'type':'get','label':this['label'],'nodeId':this[_0x59b8a0(0x2e7)][_0x59b8a0(0x9cc)](),'nodeType':this[_0x59b8a0(0x2e7)][_0x59b8a0(0x5a0)],'clusterId':this[_0x59b8a0(0x762)],'path':_0x52822f}),this['reads']+=0x1,this[_0x59b8a0(0x78f)]();try{return await this[_0x59b8a0(0x848)][_0x59b8a0(0x4d1)](_0x52822f);}catch(_0x15779d){throw new _0x212143(_0x198729[_0x59b8a0(0x881)],'Cannot\x20get\x20file:\x20'+_0x52822f);}}async['list'](_0x44a3eb,_0x114197){const _0xd8bab5=_0x332466;if(!this[_0xd8bab5(0x848)])throw new _0x212143(_0x198729[_0xd8bab5(0x511)],_0xd8bab5(0x95c));const {recursive:_0x39fabf=!0x1}=_0x114197??{};_0x833509['logServiceEvent'](_0x80219b[_0xd8bab5(0x4b7)],{'type':'list','label':this[_0xd8bab5(0x308)],'nodeId':this[_0xd8bab5(0x2e7)][_0xd8bab5(0x9cc)](),'nodeType':this[_0xd8bab5(0x2e7)]['type'],'clusterId':this['clusterId'],'path':_0x44a3eb}),this[_0xd8bab5(0x600)]+=0x1,this[_0xd8bab5(0x78f)]();try{return await this[_0xd8bab5(0x848)][_0xd8bab5(0xaa6)](_0x44a3eb,_0x39fabf);}catch(_0x45b469){throw new _0x212143(_0x198729[_0xd8bab5(0x881)],'Cannot\x20list\x20directory:\x20'+_0x44a3eb);}}[_0x332466(0x3cf)](_0x4f6ac0,_0x545961){const _0xb6d30a=_0x332466;if(this[_0xb6d30a(0x335)]['has'](_0x4f6ac0))throw new _0x212143(_0x198729[_0xb6d30a(0x854)],_0xb6d30a(0x4fa));this[_0xb6d30a(0x335)][_0xb6d30a(0x72f)](_0x4f6ac0,this[_0xb6d30a(0x4f9)][_0xb6d30a(0x3cf)](_0x545961));}[_0x332466(0x219)](_0x2ce716){const _0x561ffb=_0x332466;this[_0x561ffb(0x335)][_0x561ffb(0x4d1)](_0x2ce716)?.(),this[_0x561ffb(0x335)]['delete'](_0x2ce716);}async[_0x332466(0x59f)](){const _0x1a3397=_0x332466,_0x57ac6f=(await(0x0,_0x53cc66[_0x1a3397(0x959)])((0x0,_0x53cc66[_0x1a3397(0x23b)])(_0x5673af['getFirestore'](),_0x1a3397(0x40e)+this[_0x1a3397(0x640)]+'/resources/external-storage/items/'+this[_0x1a3397(0x308)])))[_0x1a3397(0x510)]();if(!_0x57ac6f)throw new _0x212143(_0x198729[_0x1a3397(0x21d)],_0x1a3397(0x57f)+this[_0x1a3397(0x308)]);const {site:_0x3fecdc,drive:_0xddbca2}=_0x57ac6f,_0x27418f=(await(0x0,_0x3d342f[_0x1a3397(0x9ec)])(_0x5673af[_0x1a3397(0xa2e)](),'msalGetAccessToken')({'storageId':this[_0x1a3397(0x308)]}))[_0x1a3397(0x510)][_0x1a3397(0x983)];this['connector']=new this[(_0x1a3397(0x825))](_0x3fecdc['id'],_0xddbca2['id'],_0x27418f,async()=>(await(0x0,_0x3d342f[_0x1a3397(0x9ec)])(_0x5673af[_0x1a3397(0xa2e)](),'msalRefreshToken')({'storageId':this[_0x1a3397(0x308)]}))[_0x1a3397(0x510)]['accessToken']),this['trackChanges']();}[_0x332466(0x78f)](){const _0x8d9519=_0x332466;this[_0x8d9519(0x9a9)]&&clearTimeout(this[_0x8d9519(0x9a9)]),this[_0x8d9519(0x9a9)]=setTimeout(async()=>{const _0x1c0364=_0x8d9519;delete this[_0x1c0364(0x9a9)],this[_0x1c0364(0x380)][_0x1c0364(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x1c0364(0x66b)],'content':{'type':_0x5d4388[_0x1c0364(0x9b4)],'label':this['label'],'stats':{'timestamp':Date[_0x1c0364(0x3f4)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x1c0364(0x600)],'prompts':0x0,'tokens':0x0}}});},_0x11318f);}async['trackChanges'](){const _0x5d4fad=_0x332466;await this[_0x5d4fad(0x848)]?.[_0x5d4fad(0x99f)](),this[_0x5d4fad(0x378)]=_0x1327a2[_0x5d4fad(0x728)](async()=>{const _0x5bcc7e=_0x5d4fad;try{if(!this[_0x5bcc7e(0x848)])return;const _0x33ebb6=await this[_0x5bcc7e(0x848)][_0x5bcc7e(0x99f)]();for(const _0x9261e2 of _0x33ebb6)this[_0x5bcc7e(0x4f9)][_0x5bcc7e(0x778)](_0x9261e2);}catch(_0x30ee68){}},0x493e0);}}const _0x3ac8d4=require('rxjs');class _0x344f87 extends _0x46faea{[_0x332466(0x9ab)];[_0x332466(0x1b4)]=new Map();[_0x332466(0x7d9)]=new Map();[_0x332466(0x3ac)]=new Map();[_0x332466(0x5e7)];constructor(_0xe60db5,_0x2288cf,_0x1655f8){super(_0xe60db5,_0x2288cf),this['graphService']=_0x1655f8;}['getContentType'](){const _0x4e591a=_0x332466;return _0x57c18a[_0x4e591a(0x88a)][_0x4e591a(0x26b)];}[_0x332466(0x59f)](){const _0x13977c=_0x332466;this[_0x13977c(0x5e7)]=this[_0x13977c(0x6b1)]((_0x21f2d0,_0x3b9938)=>{const _0x156b16=_0x13977c;if(_0x833509['log'](_0xebc42c[_0x156b16(0x5b2)],'JobDispatcher:\x20Received\x20job',_0x21f2d0,_0x3b9938,this[_0x156b16(0x9ab)][_0x156b16(0x860)]()),!(_0x3b9938 instanceof File)){if(!_0x3b9938)throw new _0x1ba31e(_0x1ba31e[_0x156b16(0x631)][_0x156b16(0x8d2)]);return this[_0x156b16(0x4e7)](_0x3b9938)?this[_0x156b16(0x4fc)](_0x21f2d0,_0x3b9938['id'],_0x3b9938):this[_0x156b16(0x47b)](_0x3b9938)?(_0x833509[_0x156b16(0x5d5)](_0xebc42c['Jobs'],_0x156b16(0x5bb)+_0x3b9938['id']+_0x156b16(0x6e5),_0x3b9938['result']),void this[_0x156b16(0x977)](_0x3b9938['id'],_0x3b9938)):this['isResultResponse'](_0x3b9938)?(_0x833509[_0x156b16(0x5d5)](_0xebc42c[_0x156b16(0x5b2)],'Job\x20'+_0x3b9938['id']+_0x156b16(0x4ce),_0x3b9938[_0x156b16(0x50b)]),void this[_0x156b16(0x4b9)](_0x3b9938['id'],_0x3b9938)):void(this[_0x156b16(0x79b)](_0x3b9938)&&this['failJob'](_0x3b9938['id'],_0x3b9938['message']));}});}['reset'](){const _0x3c5579=_0x332466;this['clear'](),this[_0x3c5579(0x59f)]();}[_0x332466(0x5e0)](){const _0x1cd0c6=_0x332466;this[_0x1cd0c6(0x767)](),super[_0x1cd0c6(0x5e0)]();}[_0x332466(0x767)](){const _0x3aaba1=_0x332466;this[_0x3aaba1(0x1b4)][_0x3aaba1(0x767)](),this['unsubscribeHandler']&&this[_0x3aaba1(0x5e7)]();}[_0x332466(0x1db)](){const _0x15af44=_0x332466;this['systemTopic']?.[_0x15af44(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x15af44(0x66b)],'content':{'type':_0x5d4388[_0x15af44(0x793)],'label':this['label']}});}async[_0x332466(0x552)](_0x23a395){const _0x116ede=_0x332466,{id:_0x9f6fb5,parameters:_0x58b712,jobType:_0x26e9b5}=_0x23a395,_0x454e82={'id':_0x9f6fb5,'jobType':_0x26e9b5,'parameters':_0x58b712,'status':_0x57c18a['JobStatus'][_0x116ede(0x77f)],'created':new Date(),'updated':new Date()};if(this[_0x116ede(0x1b4)]['has'](_0x454e82['id']))throw new _0x212143(_0x198729[_0x116ede(0x4a2)],'Job\x20with\x20id\x20'+_0x454e82['id']+_0x116ede(0x525));_0x454e82['created']=new Date(),_0x454e82['updated']=new Date();const _0x3eca66=new _0x3ac8d4['Subject']();this[_0x116ede(0x1b4)][_0x116ede(0x72f)](_0x454e82['id'],_0x454e82),this[_0x116ede(0x7d9)][_0x116ede(0x72f)](_0x454e82['id'],_0x3eca66);try{const _0x16ad75={'id':_0x454e82['id'],'jobPhase':_0x1d82fa[_0x116ede(0x4d8)],'jobType':_0x454e82[_0x116ede(0x9a5)]},_0x220586=0x3;let _0x392088=0x0;const _0x3b65fc=async()=>{const _0x33d6fe=_0x116ede;_0x392088+=0x1;try{_0x833509[_0x33d6fe(0x5d5)](_0xebc42c['Jobs'],_0x33d6fe(0x5bb)+_0x454e82['id']+_0x33d6fe(0x8f5)+_0x392088+'.',this[_0x33d6fe(0x9ab)][_0x33d6fe(0x860)]()),await this[_0x33d6fe(0x922)](_0x16ad75),_0x454e82['updated']=new Date(),this['jobs'][_0x33d6fe(0x72f)](_0x454e82['id'],_0x454e82),this[_0x33d6fe(0x2b7)](_0x454e82['id']);}catch(_0x10661a){_0x392088<_0x220586?(_0x833509[_0x33d6fe(0x671)](_0x33d6fe(0x44a)+_0x392088+'\x20to\x20send\x20dispatcherJob\x20'+_0x454e82['id']+_0x33d6fe(0x9e2),{'nodeId':this[_0x33d6fe(0xabe)][_0x33d6fe(0x9cc)](),'nodeType':this[_0x33d6fe(0xabe)][_0x33d6fe(0x5a0)],'data':{'job':_0x454e82,'attempts':_0x392088,'maxRetries':_0x220586}}),setTimeout(_0x3b65fc,0x3e8)):(_0x454e82[_0x33d6fe(0x50e)]=_0x57c18a[_0x33d6fe(0x70f)]['Failed'],_0x454e82[_0x33d6fe(0x498)]=new Date(),this[_0x33d6fe(0x1b4)][_0x33d6fe(0x72f)](_0x454e82['id'],_0x454e82),_0x833509['error'](_0x33d6fe(0x62b)+_0x454e82['id']+'\x20after\x20'+_0x220586+_0x33d6fe(0x1b2),{'nodeId':this['owner'][_0x33d6fe(0x9cc)](),'nodeType':this[_0x33d6fe(0xabe)][_0x33d6fe(0x5a0)],'data':{'job':_0x454e82,'attempts':_0x392088,'maxRetries':_0x220586,'error':_0x10661a}}));}};_0x3b65fc();const {id:_0x91a89e}=_0x454e82;this[_0x116ede(0x2ef)](_0x116ede(0x5bb)+_0x454e82['id']+_0x116ede(0x9a6),{'jobId':_0x91a89e}),_0x454e82['updated']=new Date();}catch(_0x448422){_0x454e82['status']=_0x57c18a['JobStatus'][_0x116ede(0x85d)],_0x833509[_0x116ede(0x998)](_0x116ede(0x62b)+_0x454e82['id']+':',{'nodeId':this[_0x116ede(0xabe)][_0x116ede(0x9cc)](),'nodeType':this[_0x116ede(0xabe)][_0x116ede(0x5a0)],'data':{'job':_0x454e82,'error':_0x448422}});}return _0x3eca66[_0x116ede(0xa08)]();}[_0x332466(0x6c0)](_0x298925){const _0x1995ba=_0x332466,_0x21e51e=this[_0x1995ba(0x1b4)]['get'](_0x298925);if(!_0x21e51e)throw new _0x212143(_0x198729[_0x1995ba(0x819)],_0x1995ba(0x4f3)+_0x298925+_0x1995ba(0x3bd));return{'id':_0x21e51e['id'],'jobType':_0x21e51e['jobType'],'status':_0x21e51e['status'],'parameters':_0x21e51e[_0x1995ba(0xae1)]};}[_0x332466(0x2df)](){const _0x36ab0d=_0x332466;return Array['from'](this[_0x36ab0d(0x1b4)][_0x36ab0d(0x6af)]())[_0x36ab0d(0x604)](_0x4a72bd=>this['getJob'](_0x4a72bd['id']));}async[_0x332466(0x5c8)](_0x2d7690,_0x423d9d){const _0x5c1cbc=_0x332466,_0x2910c6=this[_0x5c1cbc(0x1b4)][_0x5c1cbc(0x4d1)](_0x2d7690);if(!_0x2910c6)throw new _0x212143(_0x198729[_0x5c1cbc(0x819)],_0x5c1cbc(0x4f3)+_0x2d7690+_0x5c1cbc(0x3bd));_0x2910c6['parameters']=_0x423d9d,_0x2910c6[_0x5c1cbc(0x498)]=new Date(),this[_0x5c1cbc(0x1b4)]['set'](_0x2d7690,_0x2910c6);}async['deleteJob'](_0x32666a){const _0x7d48a5=_0x332466;if(!this[_0x7d48a5(0x1b4)][_0x7d48a5(0x6ea)](_0x32666a))throw new _0x212143(_0x198729[_0x7d48a5(0x819)],_0x7d48a5(0x4f3)+_0x32666a+_0x7d48a5(0x3bd));const _0x152e9b=this['jobObservers']['get'](_0x32666a);if(!_0x152e9b)throw new _0x1ba31e(_0x1ba31e[_0x7d48a5(0x631)][_0x7d48a5(0x63d)]);_0x152e9b[_0x7d48a5(0x8fe)](),this['jobObservers']['delete'](_0x32666a),_0x833509['log'](_0xebc42c[_0x7d48a5(0x5b2)],_0x7d48a5(0x5bb)+_0x32666a+'\x20deleted.');}[_0x332466(0x4fc)](_0x1d0544,_0x30820b,_0x3cc946){const _0x116669=_0x332466,_0x297bd5=this[_0x116669(0x3ac)][_0x116669(0x4d1)](_0x30820b)??new Map();_0x297bd5['set'](_0x1d0544,[_0x3cc946,Date['now']()]),this[_0x116669(0x3ac)]['set'](_0x30820b,_0x297bd5),this[_0x116669(0x6df)](_0x30820b);}[_0x332466(0x2b7)](_0x2558d8){const _0x25b29f=_0x332466,_0x3174ff=this[_0x25b29f(0x1b4)][_0x25b29f(0x4d1)](_0x2558d8);if(!_0x3174ff)throw new _0x1ba31e(_0x1ba31e[_0x25b29f(0x631)][_0x25b29f(0x819)]);const _0x2a1dbb=setTimeout(()=>this[_0x25b29f(0x6df)](_0x2558d8,!0x0),0xbb8);_0x3174ff[_0x25b29f(0x963)]=_0x2a1dbb,this[_0x25b29f(0x1b4)]['set'](_0x3174ff['id'],_0x3174ff);}[_0x332466(0x6df)](_0x403e64,_0x559e0b=!0x1){const _0xe698e7=_0x332466,_0xf14a2=this[_0xe698e7(0x9ab)][_0xe698e7(0x860)](),_0x46da3e=Array['from'](_0xf14a2[_0xe698e7(0x6af)]())[_0xe698e7(0x962)](_0x512dd3=>_0x512dd3['type']===_0x57c18a['NodeType'][_0xe698e7(0x6cd)]),_0x2b70a6=this[_0xe698e7(0x3ac)]['get'](_0x403e64)??new Map();if(!_0x559e0b&&(!_0x2b70a6||_0x2b70a6['size']<_0x46da3e[_0xe698e7(0x65d)]))return;const _0x54dcaf=this[_0xe698e7(0x1b4)][_0xe698e7(0x4d1)](_0x403e64);if(!_0x54dcaf)throw new _0x1ba31e(_0x1ba31e[_0xe698e7(0x631)][_0xe698e7(0x819)]);if(clearTimeout(_0x54dcaf[_0xe698e7(0x963)]),_0x833509['log'](_0xebc42c['Jobs'],_0xe698e7(0x5bb)+_0x54dcaf['id']+_0xe698e7(0xa2d),_0x2b70a6,this[_0xe698e7(0x3ac)]),!_0x2b70a6||0x0===_0x2b70a6[_0xe698e7(0x393)]){_0x54dcaf[_0xe698e7(0x50e)]=_0x57c18a[_0xe698e7(0x70f)][_0xe698e7(0x85d)],_0x54dcaf[_0xe698e7(0x498)]=new Date(),_0x833509[_0xe698e7(0x998)](_0xe698e7(0x5bb)+_0x54dcaf['id']+_0xe698e7(0x662),{'nodeId':this['owner'][_0xe698e7(0x9cc)](),'nodeType':this['owner']['type'],'data':{'job':_0x54dcaf,'responses':_0x2b70a6}});const _0x2548af=this['jobObservers'][_0xe698e7(0x4d1)](_0x403e64);if(!_0x2548af)throw new _0x1ba31e(_0x1ba31e[_0xe698e7(0x631)][_0xe698e7(0x63d)]);const _0x3288fb=_0xe698e7(0x915),_0x361a2c={'id':_0x54dcaf['id'],'status':_0x54dcaf[_0xe698e7(0x50e)],'message':_0x3288fb};return _0x2548af['next'](_0x361a2c),_0x2548af['complete'](),this['jobs']['set'](_0x54dcaf['id'],_0x54dcaf),void this['jobBids']['delete'](_0x403e64);}const {nodeId:_0x249a83,response:_0x9f9f08}=this[_0xe698e7(0x3b9)](_0x54dcaf['id'],_0x2b70a6);_0x54dcaf[_0xe698e7(0x50e)]=_0x57c18a[_0xe698e7(0x70f)][_0xe698e7(0x375)],_0x54dcaf[_0xe698e7(0x498)]=new Date(),_0x833509['log'](_0xebc42c[_0xe698e7(0x5b2)],_0xe698e7(0x5bb)+_0x54dcaf['id']+_0xe698e7(0x62c)+_0x249a83+_0xe698e7(0x244),_0x9f9f08);const _0x462a41={'id':_0x54dcaf['id'],'jobType':_0x54dcaf['jobType'],'jobPhase':_0x1d82fa['Attribution'],'parameters':_0x54dcaf['parameters']};this['send'](_0x462a41,[_0x249a83]),this['jobs'][_0xe698e7(0x72f)](_0x54dcaf['id'],_0x54dcaf),this[_0xe698e7(0x3ac)][_0xe698e7(0x6ea)](_0x403e64);}[_0x332466(0x3b9)](_0x50ccc3,_0x32bc39){const _0xf6efa9=_0x332466;let _0x428fee;const _0x460842=Array[_0xf6efa9(0x639)](_0x32bc39['entries']())['filter'](([,[_0x521718]])=>_0x521718[_0xf6efa9(0x4a7)]);if(_0x428fee=_0x460842[_0xf6efa9(0x65d)]>0x0?Array[_0xf6efa9(0x639)](_0x32bc39['entries']())[_0xf6efa9(0xa4f)]((_0x1dc2e9,_0x146bb4)=>_0x146bb4[0x1][0x0][_0xf6efa9(0xa50)]-_0x1dc2e9[0x1][0x0]['bid']):Array['from'](_0x32bc39['entries']())[_0xf6efa9(0xa4f)]((_0x170378,_0x30f861)=>_0x170378[0x1][0x0]['queueLength']-_0x30f861[0x1][0x0][_0xf6efa9(0x8e4)]),0x1===_0x428fee[_0xf6efa9(0x65d)])return{'nodeId':_0x428fee[0x0][0x0],'response':_0x428fee[0x0][0x1][0x0]};let _0x5e3d25;if(_0x5e3d25=_0x460842[_0xf6efa9(0x65d)]>0x0?(_0x5183d8=>{const _0x266914=_0xf6efa9,_0x3ec53b=_0x5183d8[0x0][0x1][0x0][_0x266914(0xa50)];return _0x5183d8[_0x266914(0x962)](([,[_0x25718d]])=>_0x25718d[_0x266914(0xa50)]===_0x3ec53b);})(_0x428fee):(_0x4c800e=>{const _0x13987f=_0xf6efa9,_0x434611=_0x4c800e[0x0][0x1][0x0][_0x13987f(0x8e4)];return _0x4c800e[_0x13987f(0x962)](([,[_0x2ff2e8]])=>_0x2ff2e8['queueLength']===_0x434611);})(_0x428fee),0x1===_0x5e3d25[_0xf6efa9(0x65d)])return{'nodeId':_0x5e3d25[0x0][0x0],'response':_0x5e3d25[0x0][0x1][0x0]};const _0x534e2e=this[_0xf6efa9(0x1b4)][_0xf6efa9(0x4d1)](_0x50ccc3);if(!_0x534e2e)throw new _0x1ba31e(_0x1ba31e[_0xf6efa9(0x631)][_0xf6efa9(0x819)]);const _0x589a83=_0x534e2e['created']['getTime'](),_0x2e12af=_0x5e3d25[_0xf6efa9(0x604)](([_0x5ab067,[,_0x24c1a3]])=>({'nodeId':_0x5ab067,'rtt':_0x24c1a3-_0x589a83})),_0x5d9f34=Math[_0xf6efa9(0x213)](..._0x2e12af[_0xf6efa9(0x604)](({rtt:_0x30bf41})=>_0x30bf41)),_0x561d42=_0x2e12af[_0xf6efa9(0x405)](({rtt:_0x35105c})=>_0x35105c===_0x5d9f34),[,[_0x142c8f]]=_0x5e3d25[_0xf6efa9(0x405)](([_0x24ae83])=>_0x24ae83===_0x561d42[_0xf6efa9(0x6e6)]);return{'nodeId':_0x561d42[_0xf6efa9(0x6e6)],'response':_0x142c8f};}[_0x332466(0x977)](_0x509af3,_0x4e88d0){const _0x5aff66=_0x332466,_0x181f87=this[_0x5aff66(0x1b4)][_0x5aff66(0x4d1)](_0x509af3);if(!_0x181f87)throw new _0x1ba31e(_0x1ba31e[_0x5aff66(0x631)][_0x5aff66(0x819)]);const _0x6815af=this[_0x5aff66(0x7d9)][_0x5aff66(0x4d1)](_0x509af3);if(!_0x6815af)throw new _0x1ba31e(_0x1ba31e[_0x5aff66(0x631)]['JobDispatcherObserverNotFound']);const _0x2aaa5d={'id':_0x181f87['id'],'status':_0x57c18a[_0x5aff66(0x70f)]['Partial'],'result':_0x4e88d0[_0x5aff66(0x50b)]};_0x6815af[_0x5aff66(0x4c5)](_0x2aaa5d);}[_0x332466(0x4b9)](_0x274d9c,_0x325e4d){const _0x306a1a=_0x332466,_0x5a7656=this[_0x306a1a(0x1b4)]['get'](_0x274d9c);if(!_0x5a7656)throw new _0x1ba31e(_0x1ba31e[_0x306a1a(0x631)][_0x306a1a(0x819)]);const _0x47e452=this[_0x306a1a(0x7d9)]['get'](_0x274d9c);if(!_0x47e452)throw new _0x1ba31e(_0x1ba31e[_0x306a1a(0x631)][_0x306a1a(0x63d)]);_0x5a7656['status']=_0x57c18a['JobStatus'][_0x306a1a(0x7b9)];const _0x3fb6c7={'id':_0x5a7656['id'],'status':_0x5a7656[_0x306a1a(0x50e)],'result':_0x325e4d[_0x306a1a(0x50b)]};_0x47e452[_0x306a1a(0x4c5)](_0x3fb6c7),_0x47e452['complete'](),this[_0x306a1a(0x7d9)][_0x306a1a(0x6ea)](_0x274d9c),this[_0x306a1a(0x2ef)]('Job\x20'+_0x274d9c+'\x20finalized.',{'jobId':_0x274d9c});}['failJob'](_0x35c4f1,_0x2d021e){const _0x52b760=_0x332466,_0x1b4d10=this[_0x52b760(0x1b4)][_0x52b760(0x4d1)](_0x35c4f1);if(!_0x1b4d10)throw new _0x1ba31e(_0x1ba31e[_0x52b760(0x631)]['JobDispatcherJobNotFound']);const _0x4469d5=this['jobObservers'][_0x52b760(0x4d1)](_0x35c4f1);if(!_0x4469d5)throw new _0x1ba31e(_0x1ba31e[_0x52b760(0x631)][_0x52b760(0x63d)]);_0x1b4d10[_0x52b760(0x50e)]=_0x57c18a[_0x52b760(0x70f)][_0x52b760(0x85d)];const _0x141ded={'id':_0x1b4d10['id'],'status':_0x1b4d10['status'],'message':_0x2d021e};_0x4469d5['next'](_0x141ded),_0x4469d5[_0x52b760(0x8fe)](),this['jobObservers'][_0x52b760(0x6ea)](_0x35c4f1),this['logEvent'](_0x52b760(0x5bb)+_0x35c4f1+'\x20failed.',{'jobId':_0x35c4f1});}[_0x332466(0x2ef)](_0x5be55b,{jobId:_0x17f392}){const _0x2e2375=_0x332466,_0x31dd69={'jobId':_0x17f392,'mistletIds':Array[_0x2e2375(0x639)](this[_0x2e2375(0x9ab)][_0x2e2375(0x860)]()[_0x2e2375(0x6af)]())[_0x2e2375(0x962)](_0x56d7e0=>_0x56d7e0['type']===_0x57c18a['NodeType'][_0x2e2375(0x6cd)])[_0x2e2375(0x604)](_0x2923ff=>_0x2923ff[_0x2e2375(0x9cc)]())};_0x833509[_0x2e2375(0x2ef)](_0x5be55b,{'nodeId':this['getOwnerId'](),'nodeType':this[_0x2e2375(0xabe)][_0x2e2375(0x5a0)],'data':_0x31dd69}),_0x833509[_0x2e2375(0x5d5)](_0xebc42c['Jobs'],_0x5be55b,_0x31dd69);}[_0x332466(0x4e7)](_0x4cc0eb){const {jobPhase:_0xa7528d,available:_0x198805,bid:_0x52d7a4}=_0x4cc0eb;return _0xa7528d===_0x1d82fa['Bid']&&void 0x0!==_0x198805&&void 0x0!==_0x52d7a4;}[_0x332466(0x47b)](_0x3c97e5){const _0x4d65a1=_0x332466,{jobPhase:_0x139866,result:_0x1ffec0}=_0x3c97e5;return _0x139866===_0x1d82fa[_0x4d65a1(0x657)]&&void 0x0!==_0x1ffec0;}['isResultResponse'](_0x4b34ee){const _0x1f1ddc=_0x332466,{jobPhase:_0x3c8835,result:_0x81aff6}=_0x4b34ee;return _0x3c8835===_0x1d82fa[_0x1f1ddc(0x97a)]&&void 0x0!==_0x81aff6;}[_0x332466(0x79b)](_0x266a39){const _0x322ab1=_0x332466,{jobPhase:_0x2383a2,message:_0xff9976}=_0x266a39;return _0x2383a2===_0x1d82fa[_0x322ab1(0x85d)]&&void 0x0!==_0xff9976&&_0x322ab1(0x5b3)==typeof _0xff9976;}}var _0x37fc46,_0x5a247f,_0x1b697d,_0x820e81;!function(_0x18e19b){const _0x4da51d=_0x332466;_0x18e19b[_0x4da51d(0x302)]=_0x4da51d(0x352),_0x18e19b[_0x4da51d(0x4b7)]='external-storage';}(_0x37fc46||(_0x37fc46={})),function(_0x52dc89){const _0x3f5a77=_0x332466;_0x52dc89[_0x3f5a77(0x6cd)]='agent',_0x52dc89[_0x3f5a77(0x3cd)]=_0x3f5a77(0x617),_0x52dc89['Router']=_0x3f5a77(0x1b1),_0x52dc89[_0x3f5a77(0x660)]=_0x3f5a77(0x646),_0x52dc89[_0x3f5a77(0x2f7)]=_0x3f5a77(0x3ef),_0x52dc89[_0x3f5a77(0x678)]='knowledge',_0x52dc89[_0x3f5a77(0x4a1)]=_0x3f5a77(0x7e3),_0x52dc89['Answer']='answer',_0x52dc89[_0x3f5a77(0x862)]=_0x3f5a77(0xaae),_0x52dc89[_0x3f5a77(0xa04)]=_0x3f5a77(0x7ba),_0x52dc89['AiSearch']='ai-search',_0x52dc89[_0x3f5a77(0x8fb)]='web-scraper',_0x52dc89[_0x3f5a77(0x4c9)]='web-scraper-raw',_0x52dc89[_0x3f5a77(0x3fe)]='query-file',_0x52dc89[_0x3f5a77(0x90a)]=_0x3f5a77(0x8dd),_0x52dc89[_0x3f5a77(0xa91)]=_0x3f5a77(0x233),_0x52dc89[_0x3f5a77(0x58f)]='sentence-splitter',_0x52dc89[_0x3f5a77(0x836)]=_0x3f5a77(0x85a),_0x52dc89[_0x3f5a77(0x91e)]='document-parser';}(_0x5a247f||(_0x5a247f={})),function(_0x43563e){const _0x196e53=_0x332466;_0x43563e[_0x196e53(0x49f)]=_0x196e53(0x2f5),_0x43563e[_0x196e53(0x82f)]=_0x196e53(0x84c),_0x43563e[_0x196e53(0x91e)]='document-parser',_0x43563e[_0x196e53(0xa91)]=_0x196e53(0x233),_0x43563e['WordSplitter']=_0x196e53(0x85a),_0x43563e[_0x196e53(0x58f)]=_0x196e53(0x64e),_0x43563e[_0x196e53(0x87f)]=_0x196e53(0x483),_0x43563e[_0x196e53(0x637)]='entity-extractor',_0x43563e[_0x196e53(0xa3a)]=_0x196e53(0x183),_0x43563e[_0x196e53(0x758)]=_0x196e53(0x5f6),_0x43563e[_0x196e53(0x6cd)]=_0x196e53(0xa4d),_0x43563e[_0x196e53(0x458)]=_0x196e53(0x352),_0x43563e[_0x196e53(0x3c4)]='key-value-database',_0x43563e[_0x196e53(0x730)]=_0x196e53(0x98d),_0x43563e[_0x196e53(0x7f5)]=_0x196e53(0x71c),_0x43563e[_0x196e53(0x4a1)]=_0x196e53(0x7e3),_0x43563e[_0x196e53(0x891)]=_0x196e53(0x190);}(_0x1b697d||(_0x1b697d={})),function(_0x43d417){const _0x45f14f=_0x332466;_0x43d417[_0x45f14f(0x74d)]=_0x45f14f(0x336),_0x43d417[_0x45f14f(0x6aa)]=_0x45f14f(0x644),_0x43d417['Image']=_0x45f14f(0x5ea),_0x43d417[_0x45f14f(0x43d)]=_0x45f14f(0x3f9),_0x43d417[_0x45f14f(0x707)]=_0x45f14f(0x510),_0x43d417[_0x45f14f(0xad8)]=_0x45f14f(0x322),_0x43d417[_0x45f14f(0x752)]=_0x45f14f(0x6a3),_0x43d417[_0x45f14f(0x28e)]=_0x45f14f(0x4b1),_0x43d417[_0x45f14f(0xa04)]=_0x45f14f(0x7ba),_0x43d417['Index']=_0x45f14f(0x288),_0x43d417[_0x45f14f(0x678)]='knowledge',_0x43d417['Skill']=_0x45f14f(0x5ed),_0x43d417['Context']=_0x45f14f(0x190),_0x43d417['Wait']=_0x45f14f(0x908),_0x43d417[_0x45f14f(0x4c1)]=_0x45f14f(0x2cc),_0x43d417[_0x45f14f(0x815)]=_0x45f14f(0x677);}(_0x820e81||(_0x820e81={}));class _0x1d3359{static [_0x332466(0x6ab)];constructor(){}static[_0x332466(0x760)](){const _0xc005ad=_0x332466;return _0x1d3359[_0xc005ad(0x6ab)]||(_0x1d3359[_0xc005ad(0x6ab)]=new _0x1d3359()),_0x1d3359['instance'];}async[_0x332466(0x354)](_0x4fc19b,_0x5e2d53){const _0x534d2b=_0x332466,_0x3bc08e=await(0x0,_0x53cc66[_0x534d2b(0x959)])((0x0,_0x53cc66['doc'])(_0x5673af['getFirestore'](),_0x534d2b(0x40e)+_0x4fc19b+_0x534d2b(0x212)+_0x5e2d53)),_0x3e4331=await this['getAgents'](_0x4fc19b),_0x2d1333=await this['getDataCollections'](_0x4fc19b),_0x345ed3=await this[_0x534d2b(0x5e1)](_0x4fc19b),_0x1f926b=await this[_0x534d2b(0xaaf)](_0x4fc19b),_0x460e03=await this['getGrammars'](_0x4fc19b);if(!_0x3bc08e[_0x534d2b(0x50a)]())throw new _0x1ba31e(_0x1ba31e['codes']['WorkflowDoesNotExist']);return this[_0x534d2b(0x5e4)](_0x3bc08e,_0x3e4331,_0x2d1333,_0x345ed3,_0x1f926b,_0x460e03);}['parseWorkflowDocument'](_0x10d6da,_0x3179f2,_0x44e340,_0x370ea0,_0x36219e,_0x240f08){const _0x3aabcd=_0x332466,_0x572181=_0x10d6da[_0x3aabcd(0x510)]();if(!_0x572181)throw new _0x1ba31e(_0x1ba31e[_0x3aabcd(0x631)]['WorkflowDoesNotExist']);const _0x4c6779=_0x572181[_0x3aabcd(0x82c)]&&_0x572181[_0x3aabcd(0x37a)]?_0x572181['versions'][_0x572181[_0x3aabcd(0x82c)]-0x1]:_0x572181,_0x2287f6=this['parseWorkflowBlocks'](_0x4c6779[_0x3aabcd(0x9f0)],_0x3179f2,_0x44e340,_0x370ea0,_0x240f08);return{'id':_0x10d6da['id'],'modelsBucketId':_0x572181['bucketId'],'blocks':_0x2287f6,'models':this[_0x3aabcd(0x772)](_0x2287f6,_0x36219e),'dataBucketIds':this[_0x3aabcd(0x7fe)](_0x2287f6),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x2287f6)};}['getWorkflowModels'](_0x120aba,_0x5a238f){const _0x5c5014=_0x332466,_0x52ecef=new Set();for(const _0x37050b of _0x120aba)if(_0x37050b[_0x5c5014(0x5a0)]!==_0x5a247f['Agent']&&_0x37050b['type']!==_0x5a247f[_0x5c5014(0x3cd)]&&_0x37050b['type']!==_0x5a247f[_0x5c5014(0x5ab)]||_0x52ecef['add'](_0x37050b[_0x5c5014(0x4e1)]),_0x37050b[_0x5c5014(0x5a0)]===_0x5a247f[_0x5c5014(0x678)]||_0x37050b[_0x5c5014(0x5a0)]===_0x5a247f[_0x5c5014(0x2f7)]){for(const _0x1fc730 of[..._0x37050b[_0x5c5014(0xa2c)],..._0x37050b[_0x5c5014(0x581)]])_0x1fc730[_0x5c5014(0x5a0)]===_0x1b697d[_0x5c5014(0x758)]&&_0x52ecef[_0x5c5014(0x7c5)](_0x1fc730['id']),_0x1fc730[_0x5c5014(0x5a0)]===_0x1b697d['Agent']&&_0x52ecef[_0x5c5014(0x7c5)](_0x1fc730[_0x5c5014(0x4e1)]);}return Array['from'](_0x52ecef)[_0x5c5014(0x604)](_0x1670b0=>{const {id:_0x108460,engineType:_0x5d53b7,taskType:_0xbf1ef,knowledgeCutoffDate:_0x46e3d0,inputType:_0x195bd0,outputType:_0x395ad7,sourceUrl:_0xec9384}=_0x5a238f['find'](_0xa6ab75=>_0xa6ab75['id']===_0x1670b0);return{'id':_0x108460,'engineType':_0x5d53b7,'taskType':_0xbf1ef,'knowledgeCutoffDate':_0x46e3d0,'inputType':_0x195bd0,'outputType':_0x395ad7,'sourceUrl':_0xec9384};});}[_0x332466(0x7fe)](_0x21841b){const _0x39dc91=_0x332466,_0x269ae8=new Set();for(const _0x7427a of _0x21841b)switch(_0x7427a['type']){case _0x5a247f[_0x39dc91(0x678)]:case _0x5a247f['DataCollection']:for(const _0x1fb63a of[..._0x7427a[_0x39dc91(0xa2c)],..._0x7427a['retrieveBlocks']])_0x1fb63a['type']===_0x1b697d[_0x39dc91(0x49f)]&&_0x269ae8[_0x39dc91(0x7c5)](_0x1fb63a['id']);}return Array[_0x39dc91(0x639)](_0x269ae8);}[_0x332466(0x19a)](_0x46be3f){const _0x2dc680=_0x332466,_0x36af0e=new Set();for(const _0x197ce0 of _0x46be3f)switch(_0x197ce0[_0x2dc680(0x5a0)]){case _0x5a247f[_0x2dc680(0x678)]:case _0x5a247f[_0x2dc680(0x2f7)]:for(const _0x18a58b of[..._0x197ce0['ingestBlocks'],..._0x197ce0[_0x2dc680(0x581)]])_0x18a58b[_0x2dc680(0x5a0)]===_0x1b697d['ExternalStorageUpload']&&_0x36af0e[_0x2dc680(0x7c5)](_0x18a58b['id']);}return Array[_0x2dc680(0x639)](_0x36af0e);}['parseWorkflowBlocks'](_0x14960d,_0x1dc4e4,_0x352c71,_0x596b54,_0x28ca50){const _0x1e4cb9=_0x332466;return _0x14960d[_0x1e4cb9(0x604)](_0x359258=>{const _0x473d29=_0x1e4cb9;switch(_0x359258[_0x473d29(0x5a0)]){case _0x5a247f[_0x473d29(0x6cd)]:case _0x5a247f[_0x473d29(0x3cd)]:case _0x5a247f['Router']:const _0x916d38=_0x1dc4e4[_0x473d29(0x405)](_0xfb0129=>_0xfb0129['id']===_0x359258['id']);if(!_0x916d38)throw new _0x1ba31e(_0x1ba31e[_0x473d29(0x631)]['WorkflowInvalidBlockType'],{'block':_0x359258});const _0x34113e=_0x359258[_0x473d29(0x8c1)]&&_0x916d38[_0x473d29(0x37a)]?_0x916d38[_0x473d29(0x37a)][_0x359258[_0x473d29(0x8c1)]-0x1]:_0x916d38;return{'type':_0x916d38[_0x473d29(0x5a0)],'id':_0x916d38['id'],'uid':_0x359258[_0x473d29(0x355)],'name':_0x34113e[_0x473d29(0x8c6)],'description':_0x34113e[_0x473d29(0x1c0)],'instructions':_0x34113e[_0x473d29(0x6e8)],'contextOutputVariable':_0x34113e['contextOutputVariable'],'contextInputVariable':_0x34113e[_0x473d29(0xa66)],'reasoning':_0x34113e['reasoning']??!0x1,'grammar':this[_0x473d29(0x2dd)](_0x34113e[_0x473d29(0x18a)],_0x28ca50),'temperature':_0x34113e[_0x473d29(0x60b)],'maxTokens':_0x34113e[_0x473d29(0x466)],'modelId':_0x34113e[_0x473d29(0x4e1)],'links':_0x359258[_0x473d29(0xa3d)],'version':_0x359258['version']};case _0x5a247f['Knowledge']:case _0x5a247f['DataCollection']:const _0x1972e6=_0x352c71[_0x473d29(0x405)](_0x4dd0a1=>_0x4dd0a1['id']===_0x359258['id']);if(!_0x1972e6)throw new _0x1ba31e(_0x1ba31e[_0x473d29(0x631)][_0x473d29(0x902)],{'block':_0x359258});const _0x528cb6=_0x359258[_0x473d29(0x8c1)]&&_0x1972e6['versions']?_0x1972e6[_0x473d29(0x37a)][_0x359258[_0x473d29(0x8c1)]-0x1]:_0x1972e6;return{'type':_0x359258[_0x473d29(0x5a0)],'id':_0x1972e6['id'],'uid':_0x359258[_0x473d29(0x355)],'name':_0x528cb6[_0x473d29(0x8c6)],'description':_0x528cb6[_0x473d29(0x1c0)],'ingestBlocks':this['parseDataCollectionBlocks'](_0x528cb6['ingestBlocks'],_0x1dc4e4),'retrieveBlocks':this[_0x473d29(0x207)](_0x528cb6['retrieveBlocks'],_0x1dc4e4),'links':_0x359258[_0x473d29(0xa3d)],'version':_0x359258[_0x473d29(0x8c1)]};case _0x5a247f[_0x473d29(0x660)]:const _0x2b1399=_0x596b54['find'](_0x3b3981=>_0x3b3981['id']===_0x359258['id']);if(!_0x2b1399)throw new _0x1ba31e(_0x1ba31e[_0x473d29(0x631)][_0x473d29(0x902)],{'block':_0x359258});return{'type':_0x359258['type'],'id':_0x2b1399['id'],'uid':_0x359258[_0x473d29(0x355)],'name':_0x2b1399[_0x473d29(0x8c6)],'description':_0x2b1399['description'],'parameters':_0x2b1399[_0x473d29(0xae1)],'endpointUrl':_0x2b1399[_0x473d29(0x78b)],'endpointMethod':_0x2b1399[_0x473d29(0x627)],'headers':_0x2b1399[_0x473d29(0x58d)],'queryParameters':_0x2b1399['queryParameters'],'bodyParameters':_0x2b1399['bodyParameters'],'contextOutputVariable':_0x2b1399[_0x473d29(0xaa2)],'waitAsync':_0x2b1399[_0x473d29(0x5b8)],'asyncEndpointUrl':_0x2b1399['asyncEndpointUrl'],'asyncEndpointMethod':_0x2b1399[_0x473d29(0x2a0)],'asyncHeaders':_0x2b1399['asyncHeaders'],'links':_0x359258['links']};case _0x5a247f['Prompt']:case _0x5a247f[_0x473d29(0x209)]:case _0x5a247f[_0x473d29(0x862)]:case _0x5a247f['Search']:case _0x5a247f[_0x473d29(0x96c)]:case _0x5a247f[_0x473d29(0x8fb)]:case _0x5a247f['WebScraperRaw']:case _0x5a247f['QueryFile']:case _0x5a247f[_0x473d29(0x90a)]:case _0x5a247f['SentenceSplitter']:case _0x5a247f[_0x473d29(0x91e)]:return{'type':_0x359258[_0x473d29(0x5a0)],'id':_0x359258['id'],'uid':_0x359258['uid'],'links':_0x359258[_0x473d29(0xa3d)]};case _0x5a247f['ChunkSplitter']:case _0x5a247f['WordSplitter']:return{'type':_0x359258['type'],'id':_0x359258['id'],'uid':_0x359258[_0x473d29(0x355)],'links':_0x359258[_0x473d29(0xa3d)],'attributes':_0x359258[_0x473d29(0x7eb)]};default:throw new _0x1ba31e(_0x1ba31e[_0x473d29(0x631)]['WorkflowInvalidBlockType'],{'block':_0x359258});}});}['parseDataCollectionBlocks'](_0x275da2,_0x1ba495){return _0x275da2['map'](_0x1ce024=>{const _0x323f38=a0_0x5279;switch(_0x1ce024['type']){case _0x1b697d[_0x323f38(0x6cd)]:const _0x5e194d=_0x1ba495[_0x323f38(0x405)](_0x474c27=>_0x474c27['id']===_0x1ce024['id']);if(!_0x5e194d)throw new _0x1ba31e(_0x1ba31e[_0x323f38(0x631)]['WorkflowInvalidBlockType'],{'block':_0x1ce024});const _0x19af41=_0x1ce024[_0x323f38(0x8c1)]&&_0x5e194d['versions']?_0x5e194d[_0x323f38(0x37a)][_0x1ce024[_0x323f38(0x8c1)]-0x1]:_0x5e194d;return{'type':_0x1ce024[_0x323f38(0x5a0)],'id':_0x1ce024['id'],'uid':_0x1ce024['uid'],'description':_0x19af41[_0x323f38(0x1c0)],'instructions':_0x19af41['instructions'],'reasoning':_0x19af41['reasoning']??!0x1,'grammar':_0x19af41[_0x323f38(0x18a)],'temperature':_0x19af41[_0x323f38(0x60b)],'maxTokens':_0x19af41[_0x323f38(0x466)],'modelId':_0x19af41['modelId'],'links':_0x1ce024[_0x323f38(0xa3d)],'version':_0x1ce024['version']};case _0x1b697d[_0x323f38(0x7f5)]:case _0x1b697d[_0x323f38(0x730)]:case _0x1b697d[_0x323f38(0x836)]:case _0x1b697d['ChunkSplitter']:case _0x1b697d[_0x323f38(0x637)]:case _0x1b697d['Reranker']:return{'type':_0x1ce024[_0x323f38(0x5a0)],'id':_0x1ce024['id'],'uid':_0x1ce024['uid'],'links':_0x1ce024[_0x323f38(0xa3d)],'attributes':_0x1ce024[_0x323f38(0x7eb)]};case _0x1b697d[_0x323f38(0x758)]:case _0x1b697d[_0x323f38(0x458)]:case _0x1b697d[_0x323f38(0x3c4)]:case _0x1b697d[_0x323f38(0x87f)]:case _0x1b697d[_0x323f38(0x91e)]:case _0x1b697d[_0x323f38(0x58f)]:case _0x1b697d[_0x323f38(0x49f)]:case _0x1b697d['ExternalStorageUpload']:case _0x1b697d['Context']:case _0x1b697d[_0x323f38(0x4a1)]:return{'type':_0x1ce024[_0x323f38(0x5a0)],'id':_0x1ce024['id'],'uid':_0x1ce024[_0x323f38(0x355)],'links':_0x1ce024[_0x323f38(0xa3d)]};default:throw new _0x1ba31e(_0x1ba31e['codes'][_0x323f38(0x902)],{'block':_0x1ce024});}});}async[_0x332466(0x1df)](_0x107a40){const _0x513353=_0x332466;return(await(0x0,_0x53cc66[_0x513353(0x951)])((0x0,_0x53cc66['collection'])(_0x5673af[_0x513353(0x503)](),_0x513353(0x40e)+_0x107a40+_0x513353(0x3e5))))[_0x513353(0x6e0)]['map'](_0x301fb6=>{const _0xac6edc=_0x513353,_0x267c4e=_0x301fb6['data']();return{'type':_0x5a247f[_0xac6edc(0x6cd)],'id':_0x301fb6['id'],'name':_0x267c4e[_0xac6edc(0x8c6)],'description':_0x267c4e[_0xac6edc(0x1c0)],'instructions':_0x267c4e[_0xac6edc(0x6e8)],'contextOutputVariable':_0x267c4e[_0xac6edc(0xaa2)],'contextInputVariable':_0x267c4e['contextInputVariable'],'reasoning':_0x267c4e[_0xac6edc(0x358)]??!0x1,'grammar':_0x267c4e[_0xac6edc(0x18a)]??_0xac6edc(0x87d),'temperature':_0x267c4e[_0xac6edc(0x60b)],'maxTokens':_0x267c4e[_0xac6edc(0x466)],'modelId':_0x267c4e['modelId'],'versions':_0x267c4e[_0xac6edc(0x37a)]};});}async[_0x332466(0x984)](_0x50fa4b){const _0xa8299d=_0x332466;return(await(0x0,_0x53cc66[_0xa8299d(0x951)])((0x0,_0x53cc66[_0xa8299d(0x389)])(_0x5673af[_0xa8299d(0x503)](),_0xa8299d(0x40e)+_0x50fa4b+_0xa8299d(0x236))))[_0xa8299d(0x6e0)][_0xa8299d(0x604)](_0x15c1ff=>{const _0x4e9e93=_0xa8299d,_0x189e01=_0x15c1ff[_0x4e9e93(0x510)]();return{'type':_0x5a247f[_0x4e9e93(0x2f7)],'id':_0x15c1ff['id'],'name':_0x189e01[_0x4e9e93(0x8c6)],'description':_0x189e01[_0x4e9e93(0x1c0)],'ingestBlocks':_0x189e01['ingestBlocks'],'retrieveBlocks':_0x189e01[_0x4e9e93(0x581)],'versions':_0x189e01[_0x4e9e93(0x37a)]};});}async['getSkills'](_0x440067){const _0x21625f=_0x332466;return(await(0x0,_0x53cc66[_0x21625f(0x951)])((0x0,_0x53cc66[_0x21625f(0x389)])(_0x5673af[_0x21625f(0x503)](),_0x21625f(0x40e)+_0x440067+_0x21625f(0x429))))['docs'][_0x21625f(0x604)](_0x4aeb06=>{const _0x2540f5=_0x21625f,_0x442c79=_0x4aeb06['data']();return{'type':_0x5a247f['CustomSkill'],'id':_0x4aeb06['id'],'name':_0x442c79['name'],'description':_0x442c79[_0x2540f5(0x1c0)],'parameters':_0x442c79['parameters'],'endpointUrl':_0x442c79['endpointUrl'],'endpointMethod':_0x442c79[_0x2540f5(0x627)],'headers':_0x442c79[_0x2540f5(0x58d)],'queryParameters':_0x442c79['queryParameters'],'bodyParameters':_0x442c79[_0x2540f5(0x67b)],'contextOutputVariable':_0x442c79['contextOutputVariable'],'waitAsync':_0x442c79['waitAsync']??!0x1,'asyncEndpointUrl':_0x442c79['asyncEndpointUrl'],'asyncEndpointMethod':_0x442c79[_0x2540f5(0x2a0)],'asyncHeaders':_0x442c79[_0x2540f5(0x1f6)]};});}async[_0x332466(0xadf)](_0x55f0c7){const _0x54a4f1=_0x332466;return(await(0x0,_0x53cc66[_0x54a4f1(0x951)])((0x0,_0x53cc66[_0x54a4f1(0x389)])(_0x5673af['getFirestore'](),_0x54a4f1(0x40e)+_0x55f0c7+_0x54a4f1(0x3f5))))[_0x54a4f1(0x6e0)][_0x54a4f1(0x604)](_0x15df34=>{const _0x416e50=_0x54a4f1,_0x59d911=_0x15df34['data']();return{'id':_0x15df34['id'],'name':_0x59d911[_0x416e50(0x8c6)],'description':_0x59d911[_0x416e50(0x1c0)],'content':_0x59d911[_0x416e50(0x4cb)]};});}async[_0x332466(0xaaf)](_0x16e002){const _0x33fd37=_0x332466;return(await(0x0,_0x53cc66[_0x33fd37(0x951)])((0x0,_0x53cc66[_0x33fd37(0x389)])(_0x5673af[_0x33fd37(0x503)](),_0x33fd37(0x40e)+_0x16e002+_0x33fd37(0x4d3))))[_0x33fd37(0x6e0)]['map'](_0x5ec764=>{const _0x1b655a=_0x33fd37,_0xc26f24=_0x5ec764[_0x1b655a(0x510)]();return{'id':_0x5ec764['id'],'modelName':_0xc26f24[_0x1b655a(0x7a9)],'engineType':_0xc26f24['engine'],'taskType':_0xc26f24[_0x1b655a(0x494)],'knowledgeCutoffDate':_0xc26f24['knowledgeCutoffDate'],'inputType':_0xc26f24[_0x1b655a(0x361)]??_0x57c18a[_0x1b655a(0x3d2)][_0x1b655a(0x6aa)],'outputType':_0xc26f24[_0x1b655a(0xa86)]??_0x57c18a[_0x1b655a(0x623)]['Text'],'sourceUrl':_0xc26f24['url']};});}[_0x332466(0x2dd)](_0x1dc4d1,_0x545b88){const _0xa25751=_0x332466;return[_0xa25751(0x87d),'json',_0xa25751(0x8a6)][_0xa25751(0x988)](_0x1dc4d1)?_0x1dc4d1:_0xa25751(0x806)===_0x1dc4d1?'root\x20::=\x20\x22true\x22\x20|\x20\x22false\x22':_0x545b88[_0xa25751(0x405)](_0x31a694=>_0x31a694['id']===_0x1dc4d1)[_0xa25751(0x4cb)];}}const _0xb61473=_0x1d3359['getInstance']();class _0x457c3b extends _0x344f87{[_0x332466(0x2e7)];[_0x332466(0x640)];[_0x332466(0x9e5)]=0x0;['tokens']=0x0;[_0x332466(0x9a9)];constructor(_0x177c52,_0x59904c,_0x59c54a,_0x350907){const _0xf70735=_0x332466;super(_0x177c52,_0x59904c,_0x350907),this[_0xf70735(0x2e7)]=_0x177c52,this[_0xf70735(0x640)]=_0x59c54a,this['sendStats']();}[_0x332466(0x5e0)](){const _0x1878a9=_0x332466;this[_0x1878a9(0x9a9)]&&(clearTimeout(this[_0x1878a9(0x9a9)]),delete this[_0x1878a9(0x9a9)]),super[_0x1878a9(0x5e0)]();}[_0x332466(0x357)](){const _0x5224c9=_0x332466;this[_0x5224c9(0x9e5)]=0x0,this[_0x5224c9(0x5aa)]=0x0,this[_0x5224c9(0x78f)](),super[_0x5224c9(0x357)]();}[_0x332466(0x755)](_0xd1b9b0){const _0x28cd8e=_0x332466,_0x49001b=_0x28cd8e(0x626)+(0x0,_0x74103e['v4'])();switch(_0xd1b9b0[_0x28cd8e(0x5a0)]){case _0x28cd8e(0x7e3):let _0x28dd47=!0x1;const _0x4996cc=()=>{const _0x5549c4=_0x28cd8e;if(_0x28dd47)throw new _0x1ba31e(_0x1ba31e['codes'][_0x5549c4(0x8fa)]);_0x28dd47=!0x0;},_0x59513d=()=>(_0x4996cc(),this['prompt'](_0x49001b,_0xd1b9b0[_0x28cd8e(0x7e3)],_0xd1b9b0[_0x28cd8e(0x3ca)])),_0x28a009=()=>(_0x4996cc(),this[_0x28cd8e(0x24f)](_0x49001b,_0xd1b9b0[_0x28cd8e(0x7e3)],_0xd1b9b0[_0x28cd8e(0x3ca)]));return{'id':_0x49001b,'prompt':_0xd1b9b0[_0x28cd8e(0x7e3)],'options':_0xd1b9b0['options']??{'threadId':_0x28cd8e(0x55e)+(0x0,_0x74103e['v4'])()},'run':_0x59513d,'stream':_0x28a009};case _0x28cd8e(0x6f1):let _0x2726cc=!0x1;const _0x5bc2e2=()=>{const _0x5f108f=_0x28cd8e;if(_0x2726cc)throw new _0x1ba31e(_0x1ba31e[_0x5f108f(0x631)][_0x5f108f(0x8fa)]);_0x2726cc=!0x0;},_0x5103af=()=>(_0x5bc2e2(),this[_0x28cd8e(0x6c7)](_0x49001b,_0xd1b9b0['rating'],_0xd1b9b0['jobId'],_0xd1b9b0[_0x28cd8e(0x3ca)]));if(!_0xd1b9b0[_0x28cd8e(0x3ca)]?.[_0x28cd8e(0x565)])throw new _0x212143(_0x198729['GenerativeAIContextJobMissingThreadId'],'Please\x20provide\x20a\x20threadId\x20in\x20the\x20options');return{'id':_0x49001b,'rating':_0xd1b9b0[_0x28cd8e(0x50d)],'options':_0xd1b9b0[_0x28cd8e(0x3ca)]??{'threadId':_0x28cd8e(0x55e)+(0x0,_0x74103e['v4'])()},'rate':_0x5103af};case _0x28cd8e(0x7d3):let _0x3855a0=!0x1;const _0x4d7319=()=>{const _0x32df56=_0x28cd8e;if(_0x3855a0)throw new _0x1ba31e(_0x1ba31e[_0x32df56(0x631)][_0x32df56(0x8fa)]);_0x3855a0=!0x0;};return{'id':_0x49001b,'objectStoreId':'','documentPath':_0xd1b9b0['documentPath'],'download':()=>(_0x4d7319(),this[_0x28cd8e(0x578)](_0x49001b,_0xd1b9b0['objectStoreId'],_0xd1b9b0[_0x28cd8e(0x36a)]))};case _0x28cd8e(0x7ba):let _0x47cb13=!0x1;const _0x6b45f4=()=>{const _0x58ddd3=_0x28cd8e;if(_0x47cb13)throw new _0x1ba31e(_0x1ba31e[_0x58ddd3(0x631)][_0x58ddd3(0x8fa)]);_0x47cb13=!0x0;};return{'id':_0x49001b,'query':_0xd1b9b0['query'],'collectionId':_0xd1b9b0[_0x28cd8e(0x7ef)],'search':()=>(_0x6b45f4(),this[_0x28cd8e(0x1d0)](_0x49001b,_0xd1b9b0[_0x28cd8e(0x508)],_0xd1b9b0[_0x28cd8e(0x7ef)]))};}}async[_0x332466(0x59d)](_0x55c0d5){const _0x29648b=_0x332466;return this['createAIJob'](_0x55c0d5)[_0x29648b(0x6f1)]();}async['downloadDocument'](_0x3ae651){const _0x301478=_0x332466,_0x22b340={'type':_0x301478(0x7d3),'objectStoreId':'','documentPath':_0x3ae651};return this[_0x301478(0x755)](_0x22b340)['download']();}async[_0x332466(0x7ba)](_0x245298){const _0x221262=_0x332466;return this[_0x221262(0x755)](_0x245298)[_0x221262(0x7ba)]();}async['internalSearch'](_0x2fea88,_0x34b137,_0x57bfa5){const _0xa9ad3e=_0x332466,_0x1fc2da={'type':_0xa9ad3e(0x7ba),'threadId':'','query':_0x34b137,'collectionId':_0x57bfa5},_0x614b32=await this[_0xa9ad3e(0x543)](_0x2fea88,_0x57c18a['JobType'][_0xa9ad3e(0x26b)],_0x1fc2da);return new Promise((_0x504883,_0x15888c)=>{const _0x29f36c=_0xa9ad3e;let _0x53bb23;const _0x58aae8=_0x614b32[_0x29f36c(0x3cf)]({'next':_0x2c697b=>{const _0x1b5f77=_0x29f36c;switch(_0x2c697b[_0x1b5f77(0x50e)]){case _0x57c18a[_0x1b5f77(0x70f)][_0x1b5f77(0x7b9)]:clearTimeout(_0x53bb23),_0x504883(_0x2c697b[_0x1b5f77(0x50b)]['context']??[]),_0x58aae8[_0x1b5f77(0x219)]();break;case _0x57c18a['JobStatus'][_0x1b5f77(0x85d)]:clearTimeout(_0x53bb23),_0x15888c(new _0x1ba31e(_0x1ba31e[_0x1b5f77(0x631)][_0x1b5f77(0x7f3)],{'updatedJob':_0x2c697b})),_0x58aae8[_0x1b5f77(0x219)]();}},'error':_0x5a4653=>{const _0x18b151=_0x29f36c;clearTimeout(_0x53bb23),_0x15888c(new _0x1ba31e(_0x1ba31e[_0x18b151(0x631)]['GenerativeAIContextJobFailed'],{'err':_0x5a4653})),_0x58aae8[_0x18b151(0x219)]();}});_0x53bb23=setTimeout(()=>{const _0x58dc26=_0x29f36c;_0x15888c(new _0x1ba31e(_0x1ba31e['codes'][_0x58dc26(0x7c6)])),_0x58aae8[_0x58dc26(0x219)]();},_0x4d1cd7);});}async['internalRatePrompt'](_0x19160f,_0x4ff65d,_0x3254d8,{threadId:_0x359dbb,feedback:_0x42bf93=''}){const _0x576670=_0x332466,_0x10f383={'type':_0x576670(0x6f1),'jobId':_0x3254d8,'threadId':_0x359dbb,'rating':_0x4ff65d,'feedback':_0x42bf93},_0xf75cc2=await this[_0x576670(0x543)](_0x19160f,_0x57c18a[_0x576670(0x41b)]['Job'],_0x10f383,{'threadId':_0x359dbb,'feedback':_0x42bf93});return new Promise((_0x44560c,_0x53bc03)=>{let _0x2b95cf;const _0x162912=_0xf75cc2['subscribe']({'next':_0x30573c=>{const _0x41fce7=a0_0x5279;switch(_0x30573c[_0x41fce7(0x50e)]){case _0x57c18a[_0x41fce7(0x70f)][_0x41fce7(0x7b9)]:clearTimeout(_0x2b95cf),_0x44560c(_0x30573c[_0x41fce7(0x50b)]),_0x162912[_0x41fce7(0x219)]();break;case _0x57c18a[_0x41fce7(0x70f)][_0x41fce7(0x85d)]:clearTimeout(_0x2b95cf),_0x53bc03(new _0x1ba31e(_0x1ba31e[_0x41fce7(0x631)][_0x41fce7(0x7f3)],{'updatedJob':_0x30573c})),_0x162912[_0x41fce7(0x219)]();}},'error':_0x3f0536=>{const _0x383ac5=a0_0x5279;clearTimeout(_0x2b95cf),_0x53bc03(new _0x1ba31e(_0x1ba31e[_0x383ac5(0x631)][_0x383ac5(0x7f3)],{'err':_0x3f0536})),_0x162912[_0x383ac5(0x219)]();}});_0x2b95cf=setTimeout(()=>{const _0x18500e=a0_0x5279;_0x53bc03(new _0x1ba31e(_0x1ba31e[_0x18500e(0x631)][_0x18500e(0x7c6)])),_0x162912[_0x18500e(0x219)]();},_0x4d1cd7);});}async[_0x332466(0x578)](_0x5a6b3c,_0x5262b7,_0x441e54){const _0x2a4d4a=_0x332466,_0x5591e6={'type':_0x2a4d4a(0x7d3),'objectStoreId':_0x5262b7,'documentPath':_0x441e54,'threadId':'thread-'+(0x0,_0x74103e['v4'])()},_0x2bc614=await this[_0x2a4d4a(0x543)](_0x5a6b3c,_0x57c18a['JobType'][_0x2a4d4a(0x26b)],_0x5591e6);return new Promise((_0x119889,_0x17c628)=>{const _0x2584ea=_0x2a4d4a;let _0x1c2fc8;const _0x3e8cf4=_0x2bc614[_0x2584ea(0x3cf)]({'next':_0x2548e1=>{const _0x3d1003=_0x2584ea;switch(_0x2548e1[_0x3d1003(0x50e)]){case _0x57c18a[_0x3d1003(0x70f)][_0x3d1003(0x7b9)]:clearTimeout(_0x1c2fc8),_0x119889(_0x2548e1['result']),_0x3e8cf4[_0x3d1003(0x219)]();break;case _0x57c18a[_0x3d1003(0x70f)][_0x3d1003(0x85d)]:clearTimeout(_0x1c2fc8),_0x17c628(new _0x1ba31e(_0x1ba31e['codes'][_0x3d1003(0x7f3)],{'updatedJob':_0x2548e1})),_0x3e8cf4['unsubscribe']();}},'error':_0x1e30e4=>{const _0x3741d3=_0x2584ea;clearTimeout(_0x1c2fc8),_0x17c628(new _0x1ba31e(_0x1ba31e[_0x3741d3(0x631)][_0x3741d3(0x7f3)],{'err':_0x1e30e4})),_0x3e8cf4[_0x3741d3(0x219)]();}});_0x1c2fc8=setTimeout(()=>{const _0x47a866=_0x2584ea;_0x17c628(new _0x1ba31e(_0x1ba31e[_0x47a866(0x631)][_0x47a866(0x7c6)])),_0x3e8cf4[_0x47a866(0x219)]();},_0x4d1cd7);});}async['prompt'](_0x1e239c,_0x66828a,_0x25bcf1){const _0x33d095=_0x332466,_0x1bfcb6={'type':_0x33d095(0x7e3),'prompt':_0x66828a,'threadId':_0x25bcf1?.[_0x33d095(0x565)]??_0x33d095(0x55e)+(0x0,_0x74103e['v4'])()},_0x188237=await this[_0x33d095(0x543)](_0x1e239c,_0x57c18a['JobType']['Job'],_0x1bfcb6,_0x25bcf1);return new Promise((_0x27323f,_0x58ed26)=>{const _0x5087a1=_0x33d095;let _0x5eeb46;const _0xee9a46=_0x188237[_0x5087a1(0x3cf)]({'next':_0xce1ac0=>{const _0x29eee4=_0x5087a1;switch(_0xce1ac0[_0x29eee4(0x50e)]){case _0x57c18a[_0x29eee4(0x70f)][_0x29eee4(0x7b9)]:if(_0x29eee4(0x7e3)!==_0xce1ac0[_0x29eee4(0x50b)][_0x29eee4(0x5a0)])return;const _0x4512b2=_0xce1ac0[_0x29eee4(0x50b)][_0x29eee4(0x452)]??0x0;this['logServiceEvent'](_0x66828a,_0x4512b2),clearTimeout(_0x5eeb46),_0x27323f(_0xce1ac0[_0x29eee4(0x50b)]),_0xee9a46[_0x29eee4(0x219)](),this[_0x29eee4(0x9e5)]+=0x1,this[_0x29eee4(0x5aa)]+=_0x4512b2,this[_0x29eee4(0x78f)]();break;case _0x57c18a['JobStatus'][_0x29eee4(0x85d)]:clearTimeout(_0x5eeb46),_0x58ed26(new _0x1ba31e(_0x1ba31e[_0x29eee4(0x631)][_0x29eee4(0x7f3)],{'updatedJob':_0xce1ac0})),_0xee9a46['unsubscribe'](),this[_0x29eee4(0x78f)]();}},'error':_0x324b6b=>{const _0x16db35=_0x5087a1;clearTimeout(_0x5eeb46),_0x58ed26(new _0x1ba31e(_0x1ba31e[_0x16db35(0x631)][_0x16db35(0x7f3)],{'err':_0x324b6b})),_0xee9a46[_0x16db35(0x219)]();}});_0x5eeb46=setTimeout(()=>{const _0x3c18eb=_0x5087a1;_0x58ed26(new _0x1ba31e(_0x1ba31e[_0x3c18eb(0x631)][_0x3c18eb(0x7c6)])),_0xee9a46['unsubscribe']();},_0x4d1cd7);});}async*[_0x332466(0x24f)](_0x4a494a,_0x4630ae,_0x47a6aa){const _0x18bf4b=_0x332466,_0x1930bb={'type':_0x18bf4b(0x7e3),'prompt':_0x4630ae,'threadId':_0x47a6aa?.['threadId']??_0x18bf4b(0x55e)+(0x0,_0x74103e['v4'])()},_0x969513=await this[_0x18bf4b(0x543)](_0x4a494a,_0x57c18a['JobType']['JobStream'],_0x1930bb,_0x47a6aa);let _0x313ed2,_0x2a2a18,_0x2d2112=!0x1,_0xe875e8=0x0;const _0x22b028=[],_0x44b00a=new Map();let _0x12599d=null;const _0x979441=()=>{_0x12599d&&(_0x12599d(),_0x12599d=null);},_0x19ac74=_0x497b1d=>{const _0x3d5aaf=_0x18bf4b;_0x2d2112=!0x0,_0x979441(),_0x3fd917[_0x3d5aaf(0x219)](),_0x2a2a18=_0x497b1d;},_0x3fd917=_0x969513[_0x18bf4b(0x3cf)]({'next':async _0x3b2389=>{const _0x3299fe=_0x18bf4b;switch(_0x3b2389[_0x3299fe(0x50e)]){case _0x57c18a[_0x3299fe(0x70f)][_0x3299fe(0x1fa)]:if('prompt'!==_0x3b2389[_0x3299fe(0x50b)]['type'])return;if(_0x3b2389[_0x3299fe(0x50b)]&&void 0x0!==_0x3b2389['result'][_0x3299fe(0x798)]){if(void 0x0===_0x3b2389[_0x3299fe(0x50b)]['index'])return void _0x19ac74(_0x1ba31e['codes'][_0x3299fe(0x92b)]);_0xe875e8===_0x3b2389[_0x3299fe(0x50b)][_0x3299fe(0x288)]?(_0x22b028[_0x3299fe(0x995)](_0x3b2389[_0x3299fe(0x50b)]),_0xe875e8++,((()=>{const _0x294e6c=_0x3299fe;for(;_0x44b00a[_0x294e6c(0x71d)](_0xe875e8);)_0x22b028['push'](_0x44b00a[_0x294e6c(0x4d1)](_0x22b028['length'])),_0x44b00a[_0x294e6c(0x6ea)](_0x22b028['length']),_0xe875e8++;})()),_0x979441(),_0x85420f()):_0x44b00a[_0x3299fe(0x72f)](_0x3b2389[_0x3299fe(0x50b)][_0x3299fe(0x288)],_0x3b2389[_0x3299fe(0x50b)]);}break;case _0x57c18a[_0x3299fe(0x70f)][_0x3299fe(0x7b9)]:if(_0x3299fe(0x7e3)!==_0x3b2389[_0x3299fe(0x50b)][_0x3299fe(0x5a0)])return;for(;_0xe875e8!==_0x3b2389['result'][_0x3299fe(0x288)];)await _0x1327a2[_0x3299fe(0x908)](0x3e8);const _0x5e637b=_0x3b2389[_0x3299fe(0x50b)][_0x3299fe(0x452)]??0x0;this[_0x3299fe(0x788)](_0x4630ae,_0x5e637b),clearTimeout(_0x313ed2),_0x19ac74(),this['prompts']+=0x1,this[_0x3299fe(0x5aa)]+=_0x5e637b,this['sendStats']();break;case _0x57c18a[_0x3299fe(0x70f)]['Failed']:clearTimeout(_0x313ed2),_0x19ac74(_0x1ba31e[_0x3299fe(0x631)][_0x3299fe(0x7f3)]),this[_0x3299fe(0x78f)]();}},'error':_0xe8b686=>{const _0x42a7d4=_0x18bf4b;clearTimeout(_0x313ed2),_0x19ac74(_0x1ba31e[_0x42a7d4(0x631)][_0x42a7d4(0x7f3)]);}}),_0x29aeb5=()=>{const _0x3d92c4=_0x18bf4b;_0x19ac74(_0x1ba31e[_0x3d92c4(0x631)][_0x3d92c4(0x7c6)]);},_0x85420f=()=>{clearTimeout(_0x313ed2),_0x313ed2=setTimeout(_0x29aeb5,_0x4d1cd7);};for(_0x313ed2=setTimeout(_0x29aeb5,_0x4d1cd7);!_0x2d2112||_0x22b028[_0x18bf4b(0x65d)]>0x0;)_0x22b028['length']>0x0?yield _0x22b028['shift']():await new Promise(_0x2802cf=>_0x12599d=_0x2802cf);if(_0x2a2a18)throw _0x833509[_0x18bf4b(0x998)](_0x18bf4b(0x461),{'nodeId':this[_0x18bf4b(0x2e7)][_0x18bf4b(0x9cc)](),'nodeType':this[_0x18bf4b(0x2e7)]['type']}),new _0x1ba31e(_0x2a2a18);}async[_0x332466(0x9ef)](){const _0x28a95a=_0x332466;return(await _0xb61473[_0x28a95a(0x354)](this[_0x28a95a(0x640)],this[_0x28a95a(0x308)]))[_0x28a95a(0x649)];}[_0x332466(0x788)](_0x44da0d,_0x120449){const _0x4d683a=_0x332466,_0x1bab3a=this['label'],_0x3079c9=this[_0x4d683a(0x2bf)]();_0x833509['logServiceEvent'](_0x80219b[_0x4d683a(0x300)],{'topic':_0x1bab3a,'prompt':_0x44da0d,'type':_0x4d683a(0x7e3),'nodeId':_0x3079c9,'tokenCount':_0x120449});}async[_0x332466(0x543)](_0x474155,_0x5d0e38,_0x36edb2,_0x3de784={}){const _0x395821=_0x332466;let _0xa17793;switch(_0x36edb2[_0x395821(0x5a0)]){case _0x395821(0x7e3):{const {threadId:_0x549e60}=_0x3de784;_0xa17793={'id':_0x474155,'jobType':_0x5d0e38,'parameters':{..._0x3de784,'type':_0x395821(0x7e3),'prompt':_0x36edb2['prompt'],'threadId':_0x549e60},'status':_0x57c18a[_0x395821(0x70f)][_0x395821(0x77f)]};break;}case'rate':{const {threadId:_0x52e47c}=_0x3de784;_0xa17793={'id':_0x474155,'jobType':_0x5d0e38,'parameters':{..._0x3de784,'type':_0x395821(0x6f1),'jobId':_0x36edb2[_0x395821(0x193)],'rating':_0x36edb2[_0x395821(0x50d)],'feedback':_0x36edb2['feedback']??'','threadId':_0x52e47c},'status':_0x57c18a['JobStatus'][_0x395821(0x77f)]};break;}case'downloadDocument':_0xa17793={'id':_0x474155,'jobType':_0x5d0e38,'parameters':{..._0x3de784,'type':'downloadDocument','objectStoreId':_0x36edb2[_0x395821(0x53f)],'documentPath':_0x36edb2['documentPath']},'status':_0x57c18a['JobStatus']['Pending']};break;case'search':_0xa17793={'id':_0x474155,'jobType':_0x5d0e38,'parameters':{..._0x3de784,'type':_0x395821(0x7ba),'query':_0x36edb2[_0x395821(0x508)],'collectionId':_0x36edb2['collectionId']},'status':_0x57c18a[_0x395821(0x70f)][_0x395821(0x77f)]};}return await this[_0x395821(0x552)](_0xa17793);}[_0x332466(0x78f)](){const _0x4938af=_0x332466;this['debounceStats']&&clearTimeout(this[_0x4938af(0x9a9)]),this[_0x4938af(0x9a9)]=setTimeout(async()=>{const _0x3a4579=_0x4938af;delete this[_0x3a4579(0x9a9)],this['systemTopic'][_0x3a4579(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x3a4579(0x66b)],'content':{'type':_0x5d4388[_0x3a4579(0x4aa)],'label':this[_0x3a4579(0x308)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x3a4579(0x940)],'messagesReceived':this[_0x3a4579(0x20f)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x3a4579(0x99a)],'writes':0x0,'reads':0x0,'prompts':this[_0x3a4579(0x9e5)],'tokens':this[_0x3a4579(0x5aa)]}}});},_0x11318f);}}var _0x2c62b8,_0x580359,_0x28ead7,_0xb9f1cc,_0x29f287,_0x3de4db,_0x51ba13,_0x3f7174,_0x27f5cc,_0x12920e,_0x236aac;!function(_0x48399e){const _0x1c0ff2=_0x332466;_0x48399e[_0x1c0ff2(0x538)]=_0x1c0ff2(0x538),_0x48399e[_0x1c0ff2(0xa7b)]=_0x1c0ff2(0xa7b),_0x48399e[_0x1c0ff2(0x197)]='RetrieveTrace',_0x48399e[_0x1c0ff2(0x79f)]='WorkflowTrace';}(_0x2c62b8||(_0x2c62b8={})),function(_0x5c59ea){const _0x592303=_0x332466;_0x5c59ea['ModelText']='ModelText',_0x5c59ea[_0x592303(0x490)]=_0x592303(0x490),_0x5c59ea[_0x592303(0x9b0)]=_0x592303(0x9b0),_0x5c59ea[_0x592303(0x637)]=_0x592303(0x637),_0x5c59ea['GraphSearch']='GraphSearch',_0x5c59ea[_0x592303(0xa3a)]='Reranker';}(_0x580359||(_0x580359={})),function(_0x437935){const _0x174e2e=_0x332466;_0x437935[_0x437935['Debug']=0x0]='Debug',_0x437935[_0x437935[_0x174e2e(0x206)]=0x5]=_0x174e2e(0x206),_0x437935[_0x437935[_0x174e2e(0x9cd)]=0xa]=_0x174e2e(0x9cd),_0x437935[_0x437935['Error']=0xf]=_0x174e2e(0x86b);}(_0x28ead7||(_0x28ead7={})),function(_0x29af80){const _0x22e4e0=_0x332466;_0x29af80[_0x22e4e0(0x294)]=_0x22e4e0(0x294),_0x29af80[_0x22e4e0(0x53d)]=_0x22e4e0(0x53d),_0x29af80[_0x22e4e0(0x678)]=_0x22e4e0(0x678),_0x29af80['Skill']=_0x22e4e0(0x550),_0x29af80[_0x22e4e0(0x32f)]='Workflow',_0x29af80[_0x22e4e0(0x26b)]='Job',_0x29af80[_0x22e4e0(0x2e8)]=_0x22e4e0(0x2e8),_0x29af80[_0x22e4e0(0x6c1)]=_0x22e4e0(0x6c1);}(_0xb9f1cc||(_0xb9f1cc={})),function(_0xbfe4c0){const _0x5e090d=_0x332466;_0xbfe4c0['Queued']=_0x5e090d(0xaa9),_0xbfe4c0['Completed']='Completed';}(_0x29f287||(_0x29f287={})),function(_0x2e3579){const _0x381b47=_0x332466;_0x2e3579[_0x381b47(0x326)]=_0x381b47(0x326),_0x2e3579['IntermediateOutput']=_0x381b47(0x36b),_0x2e3579[_0x381b47(0x2f7)]=_0x381b47(0x2f7),_0x2e3579[_0x381b47(0x24e)]=_0x381b47(0x24e);}(_0x3de4db||(_0x3de4db={})),function(_0x163e31){const _0x5b839c=_0x332466;_0x163e31[_0x5b839c(0xa91)]='ChunkSplitter',_0x163e31[_0x5b839c(0x91e)]=_0x5b839c(0x91e),_0x163e31['EntityExtractor']=_0x5b839c(0x637),_0x163e31[_0x5b839c(0x7f5)]=_0x5b839c(0x7f5),_0x163e31['Agent']='Agent',_0x163e31[_0x5b839c(0x54e)]=_0x5b839c(0x54e),_0x163e31['ModelVector']=_0x5b839c(0x490),_0x163e31[_0x5b839c(0x87f)]=_0x5b839c(0x87f),_0x163e31[_0x5b839c(0x58f)]=_0x5b839c(0x58f),_0x163e31['VectorDatabase']=_0x5b839c(0x730),_0x163e31[_0x5b839c(0x836)]=_0x5b839c(0x836);}(_0x51ba13||(_0x51ba13={})),function(_0x2ba53a){const _0x1db26f=_0x332466;_0x2ba53a['GetContextQuery']='GetContextQuery',_0x2ba53a['GetContextResult']=_0x1db26f(0xa82);}(_0x3f7174||(_0x3f7174={})),function(_0x4f7143){const _0x3cc46c=_0x332466;_0x4f7143[_0x3cc46c(0x252)]=_0x3cc46c(0x252),_0x4f7143[_0x3cc46c(0x57c)]='FetchUrl',_0x4f7143[_0x3cc46c(0x78d)]='SearchGoogle',_0x4f7143['SearchPerplexity']=_0x3cc46c(0x388),_0x4f7143['ExecuteAgent']=_0x3cc46c(0x30a),_0x4f7143[_0x3cc46c(0x93f)]=_0x3cc46c(0x93f),_0x4f7143[_0x3cc46c(0x3fe)]=_0x3cc46c(0x3fe),_0x4f7143[_0x3cc46c(0x90a)]='WriteFile';}(_0x27f5cc||(_0x27f5cc={})),function(_0x1263fe){const _0x2e06f7=_0x332466;_0x1263fe['LoadKnowledgeFunction']=_0x2e06f7(0x9c2),_0x1263fe[_0x2e06f7(0x23c)]=_0x2e06f7(0x23c);}(_0x12920e||(_0x12920e={})),function(_0x1cd9b4){const _0x375067=_0x332466;_0x1cd9b4[_0x375067(0x790)]=_0x375067(0x790);}(_0x236aac||(_0x236aac={}));class _0x35ab80{static [_0x332466(0x6ab)]=new _0x35ab80();[_0x332466(0x5cf)]=[];['isRunning']=!0x1;constructor(){}static[_0x332466(0x760)](){return _0x35ab80['instance'];}get[_0x332466(0x65d)](){const _0x6d1a17=_0x332466;return this[_0x6d1a17(0x5cf)][_0x6d1a17(0x65d)];}[_0x332466(0xa17)](){return!this['isRunning'];}['clear'](_0x465c62){const _0x495632=_0x332466;_0x465c62?this[_0x495632(0x5cf)]=this[_0x495632(0x5cf)][_0x495632(0x962)](_0x1a6f0e=>_0x1a6f0e[_0x495632(0x28c)]!==_0x465c62):(this[_0x495632(0x5cf)]=[],this[_0x495632(0x789)]=!0x1);}[_0x332466(0x7c5)](_0x56eb35,_0x26e23f){const _0x438948=_0x332466;this[_0x438948(0x5cf)][_0x438948(0x995)]({'callback':_0x26e23f,'ownerId':_0x56eb35}),this[_0x438948(0x986)]();}async[_0x332466(0x986)](){const _0x22be0a=_0x332466;if(!this[_0x22be0a(0x789)]){for(this[_0x22be0a(0x789)]=!0x0;this[_0x22be0a(0x5cf)]['length']>0x0;){const _0x3ee360=this[_0x22be0a(0x5cf)][_0x22be0a(0x557)]();if(_0x3ee360)try{console[_0x22be0a(0x285)](_0x22be0a(0x4e4)),await _0x3ee360[_0x22be0a(0x3b5)](),console[_0x22be0a(0x285)]('JobQueueService:\x20Job\x20completed');}catch(_0x3c2530){console[_0x22be0a(0x998)](_0x22be0a(0x379),_0x3c2530);}}this[_0x22be0a(0x789)]=!0x1;}}}const _0x131ce2=_0x35ab80['getInstance']();class _0x232e3e extends _0x46faea{[_0x332466(0x227)];[_0x332466(0x1a0)];constructor(_0x3ad444,_0x167f9b,_0x483bd4){const _0x3fa03e=_0x332466;super(_0x3ad444,_0x167f9b),this[_0x3fa03e(0x227)]=_0x483bd4;}[_0x332466(0x62f)](){const _0x139736=_0x332466;return _0x57c18a[_0x139736(0x88a)][_0x139736(0x26b)];}['open'](){this['subscribeToJobs']();}[_0x332466(0x1db)](){const _0xebbd3=_0x332466;this[_0xebbd3(0x380)]?.[_0xebbd3(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0xebbd3(0x66b)],'content':{'type':_0x5d4388[_0xebbd3(0x3d0)],'label':this[_0xebbd3(0x308)]}});}[_0x332466(0x357)](){const _0x1bc641=_0x332466;this[_0x1bc641(0x1a0)]?.(),delete this['unsubscribeListener'],this[_0x1bc641(0x59f)]();}[_0x332466(0x5e0)](){const _0x588315=_0x332466;_0x131ce2['clear'](this[_0x588315(0x308)]),this[_0x588315(0x1a0)]?.(),delete this[_0x588315(0x1a0)],super[_0x588315(0x5e0)]();}['isAvailable'](){const _0x26d206=_0x332466;return _0x131ce2[_0x26d206(0xa17)]();}[_0x332466(0x66a)](){return 0x1;}[_0x332466(0x2f3)](_0x42b3fa,_0x3e7772,_0x59c715){}[_0x332466(0x5f9)](_0x24daa4,_0x56d3f8){return _0x24daa4;}['startTracing'](_0x33772a,_0x23fba5){const _0x143b79=_0x332466;console[_0x143b79(0x285)](_0x143b79(0x312));}[_0x332466(0x81f)](_0x283ec9,_0x383454){const _0x5720c5=_0x332466;console[_0x5720c5(0x285)](_0x5720c5(0x312));}[_0x332466(0xac1)](){const _0x4906f3=_0x332466;this[_0x4906f3(0x1a0)]||(this[_0x4906f3(0x1a0)]=this[_0x4906f3(0x6b1)]((_0x5a04ad,_0x3d00b4)=>{const _0x34d25d=_0x4906f3;if(_0x833509['log'](_0xebc42c[_0x34d25d(0x5b2)],_0x34d25d(0x6f0),_0x3d00b4),!(_0x3d00b4 instanceof File)){if(this['isJobRequest'](_0x3d00b4))_0x833509['log'](_0xebc42c[_0x34d25d(0x5b2)],_0x34d25d(0x3d5),_0x3d00b4),this['isAvailable']()?this[_0x34d25d(0xa1e)](_0x3d00b4['id'],_0x3d00b4[_0x34d25d(0x9a5)],_0x5a04ad):this[_0x34d25d(0x99c)](_0x3d00b4['id'],_0x3d00b4[_0x34d25d(0x9a5)],_0x5a04ad);else{if(this[_0x34d25d(0x992)](_0x3d00b4)){_0x833509['log'](_0xebc42c[_0x34d25d(0x5b2)],_0x34d25d(0x757),_0x3d00b4);const {id:_0x3630ec,parameters:_0xfd9ffc}=_0x3d00b4;this[_0x34d25d(0x381)](_0x3630ec,_0xfd9ffc),_0x131ce2['add'](this['label'],()=>this[_0x34d25d(0x211)](_0x3d00b4['id'],_0x3d00b4,_0x5a04ad));}}}}));}['sendBid'](_0x398906,_0x67ad3c,_0x5afc64){const _0x425dce=_0x332466,_0x5961e9={'id':_0x398906,'jobType':_0x67ad3c,'jobPhase':_0x1d82fa[_0x425dce(0x587)],'available':!0x0,'queueLength':_0x131ce2[_0x425dce(0x65d)],'bid':this[_0x425dce(0x66a)]()};_0x833509[_0x425dce(0x5d5)](_0xebc42c[_0x425dce(0x5b2)],_0x425dce(0x5d2),_0x5961e9),this[_0x425dce(0x922)](_0x5961e9,[_0x5afc64]);}[_0x332466(0x99c)](_0x4c0366,_0x1076e5,_0x1e9b7c){const _0x5b0489=_0x332466,_0x737172={'id':_0x4c0366,'jobType':_0x1076e5,'jobPhase':_0x1d82fa[_0x5b0489(0x587)],'available':!0x1,'queueLength':_0x131ce2[_0x5b0489(0x65d)],'bid':0x0};_0x833509[_0x5b0489(0x5d5)](_0xebc42c[_0x5b0489(0x5b2)],_0x5b0489(0x965),_0x737172),this[_0x5b0489(0x922)](_0x737172,[_0x1e9b7c]);}async['handleJobAttribution'](_0x17f553,_0x19bedd,_0x3375ee){const _0x388c89=_0x332466;_0x833509['log'](_0xebc42c[_0x388c89(0x5b2)],_0x388c89(0x327),_0x19bedd);const _0x3e30cf={'id':_0x17f553,'jobType':_0x19bedd[_0x388c89(0x9a5)],'parameters':_0x19bedd['parameters']};try{switch(_0x19bedd[_0x388c89(0x9a5)]){case _0x57c18a[_0x388c89(0x41b)]['Job']:await this['processJob'](_0x17f553,_0x19bedd,_0x3e30cf,_0x3375ee);break;case _0x57c18a[_0x388c89(0x41b)][_0x388c89(0x3cb)]:await this[_0x388c89(0x80b)](_0x17f553,_0x19bedd,_0x3e30cf,_0x3375ee);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0x508188){_0x833509[_0x388c89(0x998)](_0x388c89(0xac4),{'nodeId':this[_0x388c89(0xabe)][_0x388c89(0x9cc)](),'nodeType':this['owner'][_0x388c89(0x5a0)],'data':{'job':_0x3e30cf}},_0x508188);const _0x4e939b=_0x508188 instanceof Error?_0x508188['message']:_0x388c89(0xa4a),_0xabe58a={'id':_0x17f553,'jobType':_0x19bedd['jobType'],'jobPhase':_0x1d82fa[_0x388c89(0x85d)],'message':_0x4e939b};await this[_0x388c89(0x922)](_0xabe58a,[_0x3375ee]);}}async[_0x332466(0x446)](_0x38cd8e,_0x599826,_0x5bebe5,_0x16fc21){const _0x472fba=_0x332466,_0x28b30d=Date[_0x472fba(0x3f4)](),_0x53ff7e=await this[_0x472fba(0x71b)](_0x38cd8e,_0x5bebe5['parameters']);this['compileStats'](_0x53ff7e,_0x28b30d,Date['now']());const _0x20ceec={'id':_0x38cd8e,'jobType':_0x599826[_0x472fba(0x9a5)],'jobPhase':_0x1d82fa['Result'],'result':_0x53ff7e};_0x833509['log'](_0xebc42c[_0x472fba(0x5b2)],_0x472fba(0x8a1),_0x20ceec),await this['send'](_0x20ceec,[_0x16fc21]),this[_0x472fba(0x81f)](_0x38cd8e,_0x5bebe5[_0x472fba(0xae1)]);}async[_0x332466(0x80b)](_0x540e56,_0x2292f6,_0x45fd9a,_0x4c71b7){const _0x46f914=_0x332466,_0x3ffac3=Date[_0x46f914(0x3f4)]();let _0x1b1828=0x0,_0xbfb2ce={};for await(const _0x5af603 of this[_0x46f914(0x746)](_0x45fd9a['id'],_0x45fd9a['parameters'])){const _0x3152c6={'id':_0x540e56,'jobType':_0x2292f6[_0x46f914(0x9a5)],'jobPhase':_0x1d82fa[_0x46f914(0x657)],'result':{..._0x5af603,'index':_0x1b1828}};_0x833509[_0x46f914(0x5d5)](_0xebc42c[_0x46f914(0x5b2)],_0x46f914(0x20b),_0x3152c6),this[_0x46f914(0x922)](_0x3152c6,[_0x4c71b7]),_0xbfb2ce=this['accumulateResult'](_0xbfb2ce,_0x5af603),_0x1b1828++;}this[_0x46f914(0x2f3)](_0xbfb2ce,_0x3ffac3,Date['now']());const _0x33b9f3={'id':_0x540e56,'jobType':_0x2292f6[_0x46f914(0x9a5)],'jobPhase':_0x1d82fa[_0x46f914(0x97a)],'result':{..._0xbfb2ce,'index':_0x1b1828}};_0x833509[_0x46f914(0x5d5)](_0xebc42c['Jobs'],'JobWorker:\x20Sending\x20job\x20result',_0x33b9f3),await this[_0x46f914(0x922)](_0x33b9f3,[_0x4c71b7]),this['stopTracing'](_0x540e56,_0x45fd9a[_0x46f914(0xae1)]);}[_0x332466(0xab2)](_0x183d1c){const _0x453c29=_0x332466;return _0x183d1c[_0x453c29(0x22a)]===_0x1d82fa[_0x453c29(0x4d8)];}[_0x332466(0x992)](_0x3ddc23){const _0x5256eb=_0x332466;return _0x3ddc23[_0x5256eb(0x22a)]===_0x1d82fa[_0x5256eb(0x903)];}}function _0x81f719(_0x4b0d21,_0x10c7b7){const _0x290ecb=_0x332466;return _0x290ecb(0x8a8)+_0x4b0d21+'-'+_0x10c7b7;}function _0x4ef089(){const _0x5acb63=_0x332466,_0xef1009=_0x318f60[_0x5acb63(0x5ec)](0x1);return _0xef1009['table'](_0x5acb63(0x8ae))[_0x5acb63(0x288)]('id')[_0x5acb63(0x288)](_0x5acb63(0x193))['index'](_0x5acb63(0x420))[_0x5acb63(0x288)](_0x5acb63(0x565))[_0x5acb63(0x288)]('timestamp')['index'](_0x5acb63(0x8c2)),_0xef1009;}function _0x53f02a(_0x38c082){const _0x97c097=_0x332466;try{return JSON[_0x97c097(0x801)](_0x38c082);}catch(_0x3918e8){return _0x38c082 instanceof Error?_0x38c082['toString']():JSON[_0x97c097(0x801)](_0x97c097(0x75e));}}class _0x213bfb{static [_0x332466(0x6ab)];['logLevel']=_0x28ead7[_0x332466(0x86b)];[_0x332466(0x1dc)]=_0x28ead7[_0x332466(0x206)];[_0x332466(0x8fc)]=_0xb9f1cc['Retrieve'];[_0x332466(0x985)]={};static [_0x332466(0x760)]=()=>(_0x213bfb[_0x332466(0x6ab)]||(_0x213bfb[_0x332466(0x6ab)]=new _0x213bfb()),_0x213bfb['instance']);['openTrace'](_0x5f3b4a,_0x442760,_0x26708a=!0x0){const _0x1539b0=_0x332466;try{if(this[_0x1539b0(0x985)][_0x442760])throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set');const _0x505148={'sequence':0x0};if(this['openedTraces'][_0x442760]=_0x505148,!_0x5f3b4a)return!0x0;const _0x10b4ba=function(_0x3d3360){const _0x1f76b8=_0x1539b0;return _0x3d3360['getTable'](_0x1f76b8(0x8ae));}(_0x5f3b4a);return _0x505148[_0x1539b0(0xa81)]=_0x5f3b4a,_0x505148['table']=_0x10b4ba,!0x0;}catch(_0x4baf35){return console[_0x1539b0(0x998)](_0x1539b0(0x7e7)+_0x26708a,_0x4baf35),!!_0x26708a&&(this[_0x1539b0(0x4b4)](_0x442760),this[_0x1539b0(0x20c)](_0x5f3b4a,_0x442760,!0x1));}}[_0x332466(0x286)](_0x482163){const _0x1a9b66=_0x332466;try{const _0x49dce0=this[_0x1a9b66(0x985)][_0x482163[_0x1a9b66(0x193)]];if(!_0x49dce0)throw new Error(_0x1a9b66(0x39e));_0x482163['sequence']=_0x49dce0[_0x1a9b66(0x8c2)]++,_0x482163['traceLevel']>=this[_0x1a9b66(0x52e)]&&console[_0x1a9b66(0x5d5)](JSON[_0x1a9b66(0x801)](_0x482163,null,0x2)),this['commitTrace'](_0x482163);}catch(_0x5df58c){console[_0x1a9b66(0x998)](_0x1a9b66(0x737),_0x5df58c);}}['closeTrace'](_0x25f974){const _0x20d48f=_0x332466;if(!_0x213bfb[_0x20d48f(0x6ab)])throw new Error(_0x20d48f(0x7f1));if(!this['openedTraces'][_0x25f974])throw new Error(_0x20d48f(0x471));delete this[_0x20d48f(0x985)][_0x25f974];}[_0x332466(0xaba)](_0x187bc1){const _0x4be5a0=_0x332466;if(_0x187bc1['traceLevel']<this['commitLevel']&&_0x187bc1[_0x4be5a0(0x9a5)]!==this['commitType'])return;if(!this[_0x4be5a0(0x985)][_0x187bc1[_0x4be5a0(0x193)]])throw new Error(_0x4be5a0(0x938));const _0x31f467=this[_0x4be5a0(0x985)][_0x187bc1[_0x4be5a0(0x193)]];if(!_0x31f467['database'])throw new Error(_0x4be5a0(0x5bc));if(!_0x31f467[_0x4be5a0(0x97b)])throw new Error('GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set');try{const _0x38439d=function(_0xcc9f60){const _0xd0f1da=_0x4be5a0,_0x8a15b7=[_0xd0f1da(0x7e9),_0xd0f1da(0x2ee),'jobType','type',_0xd0f1da(0x193),_0xd0f1da(0x35f),_0xd0f1da(0xa59),_0xd0f1da(0x50e),_0xd0f1da(0x8c2),_0xd0f1da(0x9a3)],_0x5031d7={..._0xcc9f60};for(const _0x2ae60a of _0x8a15b7)delete _0x5031d7[_0x2ae60a];return{'timestamp':_0xcc9f60[_0xd0f1da(0x2ee)],'jobType':_0xcc9f60[_0xd0f1da(0x9a5)],'type':_0xcc9f60[_0xd0f1da(0x5a0)],'jobId':_0xcc9f60[_0xd0f1da(0x193)],'agentId':_0xcc9f60[_0xd0f1da(0x420)]??'','traceLevel':_0xcc9f60['traceLevel'],'blockId':_0xcc9f60[_0xd0f1da(0xa59)]??'','startTime':_0xcc9f60[_0xd0f1da(0x7e9)],'status':_0xcc9f60[_0xd0f1da(0x50e)],'sequence':_0xcc9f60[_0xd0f1da(0x8c2)]??0x0,'errorDetails':_0xcc9f60[_0xd0f1da(0x9a3)]??'','metadata':_0x53f02a(_0x5031d7)};}(_0x187bc1),_0xd841e2=(0x0,_0x74103e['v4'])();console[_0x4be5a0(0x5d5)](_0x4be5a0(0x620),_0x38439d[_0x4be5a0(0x5a0)]),_0x31f467['table'][_0x4be5a0(0x72f)](_0xd841e2,_0x38439d);}catch(_0x3134d7){console[_0x4be5a0(0x998)](_0x4be5a0(0x25f),_0x3134d7);}}}const _0x52ba77=_0x213bfb[_0x332466(0x760)]();async function _0x12697b(_0x18b1f6,_0x48662a,_0x31172f,_0x838006,_0x26bd43){const _0x11fb72=_0x332466,_0x20624c=Date[_0x11fb72(0x3f4)](),_0x2a4471=_0x26bd43[_0x11fb72(0x84d)][_0x11fb72(0x405)](_0xdd91fc=>_0xdd91fc['id']===_0x31172f[_0x11fb72(0x4e1)]);if(!_0x2a4471)throw new Error(_0x11fb72(0x1c9));const _0x16937f=_0x26bd43['generativeAIWorkerConnectors'][_0x11fb72(0x405)](_0x49a86a=>_0x49a86a[_0x11fb72(0x267)]()===_0x2a4471[_0x11fb72(0xa1a)]);if(!_0x16937f)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x5e5825=[],_0x45e760=(0x0,_0x74103e['v4'])(),_0x3d0299=await _0x16937f[_0x11fb72(0x446)]({'type':_0x11fb72(0x7e3),'prompt':_0x48662a,'instructions':_0x31172f[_0x11fb72(0x6e8)],'grammar':_0x31172f['grammar'],'temperature':_0x31172f['temperature'],'maxTokens':_0x31172f[_0x11fb72(0x466)],'threadId':_0x45e760},{'model':_0x2a4471});if('string'!=typeof _0x3d0299['output'])throw new Error(_0x11fb72(0x9c4));if(_0x52ba77['trace']({'jobType':_0xb9f1cc[_0x11fb72(0x53d)],'type':_0x51ba13[_0x11fb72(0x6cd)],'jobId':_0x18b1f6,'blockId':_0x31172f['id'],'traceLevel':_0x28ead7[_0x11fb72(0x980)],'timestamp':Date['now'](),'startTime':_0x20624c,'status':_0x11fb72(0x603),'agentId':_0x45e760,'content':_0x48662a,'instructions':_0x31172f[_0x11fb72(0x6e8)],'result':_0x3d0299['output']}),_0x31172f[_0x11fb72(0xa3d)]?.[_0x11fb72(0x76b)](_0x111d87=>_0x111d87[_0x11fb72(0x5a0)]===_0x820e81[_0x11fb72(0x6aa)]))return _0x5e5825[_0x11fb72(0x995)]({'content':_0x3d0299[_0x11fb72(0x798)],'start':0x0,'length':_0x3d0299[_0x11fb72(0x798)][_0x11fb72(0x65d)]}),await _0x2bc4f9(_0x18b1f6,_0x5e5825,_0x31172f,_0x838006,_0x26bd43),void await _0x2bc4f9(_0x18b1f6,_0x3d0299[_0x11fb72(0x798)],_0x31172f,_0x838006,_0x26bd43);_0x5e5825[_0x11fb72(0x995)]({'content':_0x3d0299[_0x11fb72(0x798)],'start':0x0,'length':_0x48662a[_0x11fb72(0x65d)]}),await _0x2bc4f9(_0x18b1f6,_0x5e5825,_0x31172f,_0x838006,_0x26bd43);}async function _0x45f8ba(_0x3dbfed,_0x2c3eb7,_0x3156b8,_0x3ec20a,_0x5d8698){const _0x43de91=_0x332466,_0xdb84b=Date[_0x43de91(0x3f4)]();let _0x114de8=[];if(_0x2c3eb7 instanceof Array){for(const _0x5d6c68 of _0x2c3eb7)_0x114de8=_0x114de8['concat'](_0x44a7f4(_0x5d6c68[_0x43de91(0x4cb)],_0x3156b8,_0x5d6c68[_0x43de91(0x365)],_0x5d6c68[_0x43de91(0x65d)]));}else _0x114de8=_0x44a7f4(_0x2c3eb7,_0x3156b8);_0x52ba77[_0x43de91(0x286)]({'jobType':_0xb9f1cc[_0x43de91(0x53d)],'type':_0x51ba13[_0x43de91(0xa91)],'traceLevel':_0x28ead7[_0x43de91(0x980)],'jobId':_0x3dbfed,'blockId':_0x3156b8['id'],'startTime':_0xdb84b,'timestamp':Date[_0x43de91(0x3f4)](),'status':_0x43de91(0x603),'totalChunks':_0x114de8[_0x43de91(0x65d)],'chunkSize':_0x3156b8[_0x43de91(0x7eb)]['size']}),await _0x2bc4f9(_0x3dbfed,_0x114de8,_0x3156b8,_0x3ec20a,_0x5d8698);}function _0x44a7f4(_0x48ffe9,_0x32d663,_0x4e783f,_0x143ff2){const _0x1ad93c=_0x332466,_0x1bdd3c=[];for(let _0x569854=0x0;_0x569854<_0x48ffe9[_0x1ad93c(0x65d)];_0x569854+=_0x32d663['attributes'][_0x1ad93c(0x393)]){let _0x10d581=_0x569854-_0x32d663[_0x1ad93c(0x7eb)][_0x1ad93c(0xa18)];_0x10d581<0x0&&(_0x10d581=0x0);let _0x1bdf82=_0x569854+_0x32d663[_0x1ad93c(0x7eb)][_0x1ad93c(0x393)]+_0x32d663[_0x1ad93c(0x7eb)]['overlap'];_0x1bdf82>_0x48ffe9['length']&&(_0x1bdf82=_0x48ffe9[_0x1ad93c(0x65d)]);const _0x3002e0=_0x48ffe9[_0x1ad93c(0x2b3)](_0x10d581,_0x1bdf82);_0x1bdd3c[_0x1ad93c(0x995)]({'content':_0x3002e0,'start':_0x4e783f??_0x569854,'length':_0x143ff2??(_0x569854+_0x32d663[_0x1ad93c(0x7eb)][_0x1ad93c(0x393)]>_0x48ffe9['length']?_0x48ffe9[_0x1ad93c(0x65d)]-_0x569854:_0x32d663['attributes'][_0x1ad93c(0x393)])});}return _0x1bdd3c;}async function _0x109153(_0x2fd30f,_0x2038bf,_0xbc24a9,_0x4742f5,_0x34712b){const _0x17bad6=_0x332466,_0x3bb784=Date['now']();let _0x4deeff;if(_0x2038bf[_0x17bad6(0x336)][_0x17bad6(0x5a0)][_0x17bad6(0x423)]('text/')||_0x276e7d(_0x2038bf[_0x17bad6(0x336)][_0x17bad6(0x8c6)],_0x28c6fc))_0x4deeff=await _0x2038bf[_0x17bad6(0x336)][_0x17bad6(0x644)]();else{if(!_0x34712b[_0x17bad6(0x575)]['supports'](_0x2038bf['file']))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x2038bf['file'][_0x17bad6(0x5a0)]+_0x17bad6(0x23e)+_0x2038bf[_0x17bad6(0x336)][_0x17bad6(0x8c6)]);_0x4deeff=await _0x34712b[_0x17bad6(0x575)][_0x17bad6(0x9d8)](_0x2038bf[_0x17bad6(0x336)]);}_0x52ba77[_0x17bad6(0x286)]({'jobType':_0xb9f1cc[_0x17bad6(0x53d)],'type':_0x51ba13[_0x17bad6(0x91e)],'traceLevel':_0x28ead7[_0x17bad6(0x980)],'blockId':_0xbc24a9['id'],'jobId':_0x2fd30f,'startTime':_0x3bb784,'timestamp':Date[_0x17bad6(0x3f4)](),'status':'success','documentType':_0x2038bf['file'][_0x17bad6(0x5a0)],'documentName':_0x2038bf[_0x17bad6(0x336)][_0x17bad6(0x8c6)],'extractionMethod':_0x17bad6(0x545)}),await _0x2bc4f9(_0x2fd30f,_0x4deeff,_0xbc24a9,_0x4742f5,_0x34712b);const _0x59e0cc=[{'content':_0x4deeff,'start':0x0,'length':_0x4deeff[_0x17bad6(0x65d)]}];await _0x2bc4f9(_0x2fd30f,_0x59e0cc,_0xbc24a9,_0x4742f5,_0x34712b);}const _0x28c6fc=[_0x332466(0x383),'.ts',_0x332466(0x566),_0x332466(0x88e),_0x332466(0xab9),_0x332466(0x81b),'.css',_0x332466(0x386),_0x332466(0x442),_0x332466(0x86a),'.yaml','.sh','.bat','.ini',_0x332466(0x5bf),'.conf',_0x332466(0xa68),'.rb',_0x332466(0x9a7),_0x332466(0x55c),'.c',_0x332466(0x185),_0x332466(0x243),'.r',_0x332466(0x7bc),_0x332466(0x263),'.scala',_0x332466(0x8d5),_0x332466(0x5f0),'.dart','.pl',_0x332466(0x2c9),'.hs',_0x332466(0xae4),'.groovy',_0x332466(0x4f6),_0x332466(0x878),_0x332466(0x96a),'.vb',_0x332466(0x33e),_0x332466(0x46a),'.m',_0x332466(0x4f5),_0x332466(0x43b),'.rkt',_0x332466(0x792),_0x332466(0x3e4),_0x332466(0x3ed),_0x332466(0xab6),_0x332466(0x740),_0x332466(0x68f),'.jinja','.jinja2',_0x332466(0x8cf),'.handlebars',_0x332466(0xa79),_0x332466(0x721),_0x332466(0xaa1),_0x332466(0x30c),_0x332466(0x5f1),'.twig','.j2',_0x332466(0x708)];function _0x276e7d(_0x39a10f,_0x34b2f9){const _0x2403a8=_0x332466;return _0x34b2f9[_0x2403a8(0x988)]('.'+(_0x39a10f[_0x2403a8(0x616)]('.')['pop']()?.[_0x2403a8(0x351)]()||''));}async function _0x3f401c(_0x18a8e7,_0xc9514a,_0x472224,_0x525003,_0x49501e){const _0x3a8e05=_0x332466,_0x761379=Date['now'](),_0x281da2=new Set();let _0x259f31=0x0;for(const _0x2ffbbc of _0xc9514a)_0x259f31+=_0x2ffbbc[_0x3a8e05(0x4cb)][_0x3a8e05(0x65d)],await _0x333095(_0x2ffbbc[_0x3a8e05(0x4cb)],_0x281da2,_0x472224,_0x49501e[_0x3a8e05(0x6be)]);_0x52ba77[_0x3a8e05(0x286)]({'jobType':_0xb9f1cc[_0x3a8e05(0x53d)],'type':_0x51ba13['EntityExtractor'],'jobId':_0x18a8e7,'blockId':_0x472224['id'],'traceLevel':_0x28ead7['Debug'],'startTime':_0x761379,'timestamp':Date[_0x3a8e05(0x3f4)](),'status':_0x3a8e05(0x603),'contentLength':_0x259f31,'totalChunks':_0xc9514a instanceof Array?_0xc9514a['length']:0x1,'entitiesExtracted':_0x281da2,'totalEntities':_0x281da2[_0x3a8e05(0x393)]}),await _0x2bc4f9(_0x18a8e7,_0x281da2,_0x472224,_0x525003,_0x49501e);}async function _0x333095(_0x5b1ea2,_0x464c7f,_0xefa1f6,_0x45b422){const _0xe9d59d=_0x332466,_0x47e39d=await _0x45b422[_0xe9d59d(0x569)](_0x5b1ea2,{'ner':_0xefa1f6[_0xe9d59d(0x7eb)]['ner'],'noun':_0xefa1f6['attributes'][_0xe9d59d(0x25c)],'propn':_0xefa1f6[_0xe9d59d(0x7eb)][_0xe9d59d(0x577)],'verb':_0xefa1f6[_0xe9d59d(0x7eb)][_0xe9d59d(0x873)]});for(const _0x1d09d3 of _0x47e39d)_0x464c7f['add'](_0x1d09d3);}function _0x4c38fe(_0x2f7b1b,_0xc4edc8,_0x31956f,_0x439663,_0x36145a){const _0x2f4717=_0x332466,_0x55d097=Date['now']();if(_0x31956f[_0x2f4717(0x2bb)]||(_0x31956f[_0x2f4717(0x2bb)]={}),_0x2f4717(0x5b3)==typeof _0xc4edc8?_0x31956f[_0x2f4717(0x2bb)][_0x2f4717(0x4cb)]=_0xc4edc8:_0xc4edc8 instanceof Set?_0x31956f[_0x2f4717(0x2bb)][_0x2f4717(0x885)]=_0xc4edc8:_0xc4edc8 instanceof Map?_0x31956f[_0x2f4717(0x2bb)][_0x2f4717(0x1a7)]=_0xc4edc8:_0xc4edc8 instanceof Array?_0x31956f[_0x2f4717(0x2bb)][_0x2f4717(0x288)]=_0xc4edc8:_0x31956f[_0x2f4717(0x2bb)]['file']=_0xc4edc8,_0x31956f[_0x2f4717(0x356)]=_0x31956f['timesCalled']?_0x31956f[_0x2f4717(0x356)]+0x1:0x1,_0x4ec7ca(_0x31956f,_0x439663)>_0x31956f[_0x2f4717(0x356)])return;if(!(_0x31956f[_0x2f4717(0x2bb)][_0x2f4717(0x885)]&&_0x31956f[_0x2f4717(0x2bb)]['file']&&_0x31956f[_0x2f4717(0x2bb)][_0x2f4717(0x4cb)]&&_0x31956f[_0x2f4717(0x2bb)]['index']))throw new Error(_0x2f4717(0x84e));let _0x540fdc=0x0;const _0x3245f1=_0x36145a[_0x2f4717(0x9b9)][_0x2f4717(0xa44)](_0x31956f['id']);for(const _0x244508 of _0x31956f[_0x2f4717(0x2bb)][_0x2f4717(0x885)]){let _0x1b8640=[];_0x1b8640=_0x31956f['accumulated'][_0x2f4717(0x288)]['filter'](_0x1c3313=>_0x1c3313[_0x2f4717(0x4cb)][_0x2f4717(0x988)](_0x244508));try{_0x3245f1[_0x2f4717(0x7da)](_0x31956f['accumulated'][_0x2f4717(0x336)][_0x2f4717(0x399)],_0x31956f[_0x2f4717(0x2bb)][_0x2f4717(0x4cb)],_0x1b8640,_0x244508),_0x540fdc+=0x1;}catch(_0x2afd40){}}if(_0x31956f[_0x2f4717(0x2bb)][_0x2f4717(0x1a7)]){for(const [_0x8e9632,_0x1fd592]of _0x31956f[_0x2f4717(0x2bb)][_0x2f4717(0x1a7)])for(const _0x589b27 of _0x1fd592)try{_0x3245f1[_0x2f4717(0xa5e)](_0x8e9632,_0x589b27);}catch(_0x21207b){}if(_0x3245f1[_0x2f4717(0xa94)]()){let _0x16b0b7=''+(_0x36145a[_0x2f4717(0x8c1)]??0x1);for(const _0x467efc of _0x439663)if(_0x467efc[_0x2f4717(0x5a0)]===_0x1b697d[_0x2f4717(0x6cd)]){_0x16b0b7=_0x16b0b7+'-'+(_0x467efc['version']??0x1);break;}_0x3245f1[_0x2f4717(0x1ec)](_0x16b0b7);}_0x52ba77[_0x2f4717(0x286)]({'jobType':_0xb9f1cc[_0x2f4717(0x53d)],'type':_0x51ba13[_0x2f4717(0x7f5)],'jobId':_0x2f7b1b,'blockId':_0x31956f['id'],'status':_0x2f4717(0x603),'startTime':_0x55d097,'timestamp':Date[_0x2f4717(0x3f4)](),'traceLevel':_0x28ead7[_0x2f4717(0x980)],'nodesAdded':_0x540fdc,'entities':_0x31956f['accumulated']['entities'],'relations':_0x31956f['accumulated'][_0x2f4717(0x1a7)]});}}async function _0x5adec3(_0x3d030e,_0x4cbe47,_0x24af48,_0x3351ca,_0x24b938){const _0x5ef2b0=_0x332466,_0x1d2cd9=_0x24b938[_0x5ef2b0(0x84d)][_0x5ef2b0(0x405)](_0x34d21e=>_0x34d21e['id']===_0x24af48['id']);if(!_0x1d2cd9)throw new Error('Model\x20not\x20found');switch(_0x1d2cd9[_0x5ef2b0(0xa86)]){case _0x57c18a[_0x5ef2b0(0x623)]['Text']:if(_0x5ef2b0(0x5b3)!=typeof _0x4cbe47)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0xbd7102,_0x4266a6,_0x433c94,_0x46989a,_0x16b602,_0x5629dd){const _0x33df68=_0x5ef2b0,_0x38b8c6=Date[_0x33df68(0x3f4)]();let _0x113c41;const _0x466300=_0x5629dd[_0x33df68(0x2d2)][_0x33df68(0x405)](_0x4df1b7=>_0x4df1b7[_0x33df68(0x267)]()===_0x433c94[_0x33df68(0xa1a)]);if(!_0x466300)throw new Error(_0x33df68(0x340));_0x113c41=await async function(_0x565fcb,_0x1feda2,_0x595afc){const _0x1ab5be=_0x33df68,_0x56d29b=await _0x1feda2[_0x1ab5be(0x446)]({'type':_0x1ab5be(0x7e3),'prompt':_0x565fcb,'threadId':''},{'model':_0x595afc});if(_0x56d29b[_0x1ab5be(0x798)]instanceof Array)throw new Error(_0x1ab5be(0x1d3));return _0x56d29b['output'];}(_0x4266a6,_0x466300,_0x433c94),_0x52ba77[_0x33df68(0x286)]({'jobType':_0xb9f1cc[_0x33df68(0x53d)],'type':_0x51ba13[_0x33df68(0x54e)],'jobId':_0xbd7102,'blockId':_0x46989a['id'],'traceLevel':_0x28ead7[_0x33df68(0x980)],'timestamp':Date['now'](),'startTime':_0x38b8c6,'status':'success','modelName':_0x433c94['id'],'inputType':_0x433c94[_0x33df68(0x361)],'outputType':_0x433c94[_0x33df68(0xa86)],'content':_0x4266a6,'results':_0x113c41}),await _0x2bc4f9(_0xbd7102,_0x113c41,_0x46989a,_0x16b602,_0x5629dd);}(_0x3d030e,_0x4cbe47,_0x1d2cd9,_0x24af48,_0x3351ca,_0x24b938);break;case _0x57c18a[_0x5ef2b0(0x623)][_0x5ef2b0(0xad8)]:if(!(_0x4cbe47 instanceof Array))throw new Error(_0x5ef2b0(0x539));await async function(_0x598733,_0x168462,_0x109ce0,_0x561864,_0x37ca6f,_0x17d9aa){const _0x196dcb=_0x5ef2b0,_0x43a9dd=Date['now'](),_0x12a2e9=[],_0x20d4ad=_0x17d9aa[_0x196dcb(0x2d2)][_0x196dcb(0x405)](_0x11da73=>_0x11da73[_0x196dcb(0x267)]()===_0x109ce0['engineType']);if(!_0x20d4ad)throw new Error('No\x20connector\x20found\x20for\x20model');for(const _0x159c85 of _0x168462)_0x12a2e9[_0x196dcb(0x995)](await _0x5746a2(_0x159c85,_0x20d4ad,_0x109ce0));_0x52ba77[_0x196dcb(0x286)]({'jobType':_0xb9f1cc[_0x196dcb(0x53d)],'type':_0x51ba13[_0x196dcb(0x490)],'jobId':_0x598733,'blockId':_0x561864['id'],'traceLevel':_0x28ead7[_0x196dcb(0x980)],'timestamp':Date[_0x196dcb(0x3f4)](),'startTime':_0x43a9dd,'status':_0x196dcb(0x603),'modelName':_0x109ce0['id'],'inputType':_0x109ce0[_0x196dcb(0x361)],'outputType':_0x109ce0[_0x196dcb(0xa86)],'totalVectors':_0x12a2e9[_0x196dcb(0x65d)]}),await _0x2bc4f9(_0x598733,_0x12a2e9,_0x561864,_0x37ca6f,_0x17d9aa);}(_0x3d030e,_0x4cbe47,_0x1d2cd9,_0x24af48,_0x3351ca,_0x24b938);}}async function _0x5746a2(_0x2cf0a3,_0x2ae196,_0x49ef20){const _0x404906=_0x332466;return(await _0x2ae196[_0x404906(0x446)]({'type':'prompt','prompt':_0x2cf0a3['content'],'threadId':''},{'model':_0x49ef20}))[_0x404906(0x798)];}async function _0x19294f(_0x15b11b,_0x4e1e37,_0xa39c92,_0xd35f76,_0xb9db20){const _0x5c16d0=_0x332466,_0x3a3da0=Date[_0x5c16d0(0x3f4)]();if(_0xa39c92[_0x5c16d0(0x2bb)]||(_0xa39c92[_0x5c16d0(0x2bb)]={}),_0x4e1e37 instanceof Array?_0xa39c92['accumulated'][_0x5c16d0(0x288)]=_0x4e1e37:_0xa39c92['accumulated'][_0x5c16d0(0x885)]=_0x4e1e37,_0xa39c92[_0x5c16d0(0x356)]=_0xa39c92[_0x5c16d0(0x356)]?_0xa39c92[_0x5c16d0(0x356)]+0x1:0x1,_0x4ec7ca(_0xa39c92,_0xd35f76)>_0xa39c92['timesCalled'])return;if(!_0xa39c92[_0x5c16d0(0x2bb)][_0x5c16d0(0x288)]||!_0xa39c92[_0x5c16d0(0x2bb)]['entities'])throw new Error(_0x5c16d0(0x786));const _0x4ac4fc=new Map();for(const _0x324a98 of _0xa39c92['accumulated'][_0x5c16d0(0x288)])_0x2e4896(_0x324a98['content'],_0xa39c92['accumulated'][_0x5c16d0(0x885)],_0x4ac4fc);_0x52ba77['trace']({'jobType':_0xb9f1cc[_0x5c16d0(0x53d)],'type':_0x51ba13[_0x5c16d0(0x87f)],'jobId':_0x15b11b,'blockId':_0xa39c92['id'],'traceLevel':_0x28ead7['Debug'],'timestamp':Date['now'](),'startTime':_0x3a3da0,'status':_0x5c16d0(0x603),'entities':_0xa39c92[_0x5c16d0(0x2bb)][_0x5c16d0(0x885)],'relations':_0x4ac4fc,'totalRelationsExtracted':_0x4ac4fc['size']}),await _0x2bc4f9(_0x15b11b,_0x4ac4fc,_0xa39c92,_0xd35f76,_0xb9db20);}function _0x2e4896(_0x212ffa,_0x11777d,_0x5ce1cb){const _0x18d1d6=_0x332466;for(const _0xcfedaf of _0x11777d)for(const _0x3561e3 of _0x11777d){if(_0xcfedaf===_0x3561e3)continue;const _0x2bd3c7=_0x212ffa[_0x18d1d6(0x82d)](_0xcfedaf),_0x31993a=_0x212ffa['indexOf'](_0x3561e3);-0x1!==_0x2bd3c7&&-0x1!==_0x31993a&&(_0x5ce1cb['has'](_0xcfedaf)||_0x5ce1cb[_0x18d1d6(0x72f)](_0xcfedaf,new Set()),_0x5ce1cb[_0x18d1d6(0x4d1)](_0xcfedaf)[_0x18d1d6(0x7c5)](_0x3561e3));}return _0x5ce1cb;}async function _0x5d9726(_0x4ae7fc,_0x523f16,_0x4a3256,_0x59706d,_0xf93f00){const _0x1809a7=_0x332466,_0x36058f=Date['now']();let _0x4df942=[];if(_0x523f16 instanceof Array)for(const _0x3c05e3 of _0x523f16){const _0x1504ca=await _0xf93f00[_0x1809a7(0x6be)][_0x1809a7(0x526)](_0x3c05e3['content']);_0x4df942=_0x4df942['concat'](_0x1504ca[_0x1809a7(0x604)](_0x19bcea=>({'content':_0x19bcea,'start':_0x3c05e3[_0x1809a7(0x365)],'length':_0x3c05e3[_0x1809a7(0x65d)]})));}else _0x4df942=(await _0xf93f00[_0x1809a7(0x6be)][_0x1809a7(0x526)](_0x523f16))[_0x1809a7(0x604)](_0x4b1729=>({'content':_0x4b1729,'start':_0x523f16['indexOf'](_0x4b1729),'length':_0x4b1729[_0x1809a7(0x65d)]}));_0x52ba77[_0x1809a7(0x286)]({'jobType':_0xb9f1cc[_0x1809a7(0x53d)],'type':_0x51ba13[_0x1809a7(0x58f)],'jobId':_0x4ae7fc,'blockId':_0x4a3256['id'],'traceLevel':_0x28ead7[_0x1809a7(0x980)],'startTime':_0x36058f,'timestamp':Date['now'](),'status':'success','totalSentences':_0x4df942['length'],'averageSentenceLength':_0x4df942[_0x1809a7(0x3c9)]((_0x25e6aa,_0x402826)=>_0x25e6aa+_0x402826[_0x1809a7(0x65d)],0x0)/_0x4df942[_0x1809a7(0x65d)]}),await _0x2bc4f9(_0x4ae7fc,_0x4df942,_0x4a3256,_0x59706d,_0xf93f00);}function _0x5a9c6d(_0x12d015,_0x4c304e,_0x97089c,_0x14e66c,_0x540ad1){const _0x5ced23=_0x332466,_0x2e9ea5=Date[_0x5ced23(0x3f4)]();var _0xdf0b61;if(_0x97089c[_0x5ced23(0x2bb)]||(_0x97089c[_0x5ced23(0x2bb)]={}),_0x4c304e instanceof Array?(_0xdf0b61=_0x4c304e)[0x0]instanceof Array&&_0x5ced23(0x4c3)==typeof _0xdf0b61[0x0]?.[0x0]?_0x97089c[_0x5ced23(0x2bb)][_0x5ced23(0x861)]=_0x4c304e:_0x97089c[_0x5ced23(0x2bb)][_0x5ced23(0x288)]=_0x4c304e:_0x5ced23(0x5b3)==typeof _0x4c304e?_0x97089c['accumulated'][_0x5ced23(0x4cb)]=_0x4c304e:_0x97089c['accumulated'][_0x5ced23(0x336)]=_0x4c304e,_0x97089c['timesCalled']=_0x97089c[_0x5ced23(0x356)]?_0x97089c[_0x5ced23(0x356)]+0x1:0x1,_0x4ec7ca(_0x97089c,_0x14e66c)>_0x97089c[_0x5ced23(0x356)])return;if(!(_0x97089c[_0x5ced23(0x2bb)][_0x5ced23(0x4cb)]&&_0x97089c[_0x5ced23(0x2bb)][_0x5ced23(0x288)]&&_0x97089c[_0x5ced23(0x2bb)][_0x5ced23(0x861)]&&_0x97089c[_0x5ced23(0x2bb)]['file']))throw new Error(_0x5ced23(0x5eb));const _0x16717a=_0x540ad1[_0x5ced23(0x9b9)]['getVectorDatabase'](_0x97089c['id']);if(_0x16717a[_0x5ced23(0x964)](_0x97089c[_0x5ced23(0x2bb)]['file'][_0x5ced23(0x399)],_0x97089c[_0x5ced23(0x2bb)][_0x5ced23(0x4cb)],_0x97089c[_0x5ced23(0x2bb)][_0x5ced23(0x288)],_0x97089c[_0x5ced23(0x2bb)][_0x5ced23(0x861)]),_0x16717a[_0x5ced23(0xa94)]()){let _0x2aac85=''+(_0x540ad1[_0x5ced23(0x8c1)]??0x1);for(const _0x310514 of _0x14e66c)_0x310514[_0x5ced23(0x5a0)]===_0x1b697d[_0x5ced23(0x6cd)]&&(_0x2aac85=_0x2aac85+'-'+(_0x310514['version']??0x1));_0x16717a[_0x5ced23(0x1ec)](_0x2aac85);}_0x52ba77[_0x5ced23(0x286)]({'jobType':_0xb9f1cc['Ingest'],'type':_0x51ba13[_0x5ced23(0x730)],'jobId':_0x12d015,'blockId':_0x97089c['id'],'traceLevel':_0x28ead7['Debug'],'startTime':_0x2e9ea5,'timestamp':Date[_0x5ced23(0x3f4)](),'status':'success','databaseName':_0x16717a['getName'](),'vectorsAdded':_0x97089c['accumulated'][_0x5ced23(0x861)]['length'],'filePathName':_0x97089c[_0x5ced23(0x2bb)]['file'][_0x5ced23(0x399)]});}async function _0x493716(_0x38c64b,_0x565382,_0x5ee360,_0x598605,_0x325740){const _0x159ae5=_0x332466,_0x2bd1c0=Date[_0x159ae5(0x3f4)]();let _0x57d656=[];if(_0x565382 instanceof Array){for(const _0x17b878 of _0x565382)_0x57d656=_0x57d656[_0x159ae5(0x201)](_0x2e7f76(_0x17b878['content'],_0x5ee360,_0x17b878[_0x159ae5(0x365)],_0x17b878[_0x159ae5(0x65d)]));}else _0x57d656=_0x2e7f76(_0x565382,_0x5ee360);_0x52ba77['trace']({'jobType':_0xb9f1cc[_0x159ae5(0x53d)],'type':_0x51ba13[_0x159ae5(0x836)],'jobId':_0x38c64b,'traceLevel':_0x28ead7[_0x159ae5(0x980)],'blockId':_0x5ee360['id'],'startTime':_0x2bd1c0,'timestamp':Date[_0x159ae5(0x3f4)](),'status':_0x159ae5(0x603),'totalChunks':_0x57d656[_0x159ae5(0x65d)],'averageChunkLength':_0x57d656[_0x159ae5(0x3c9)]((_0x2f590e,_0x27cda5)=>_0x2f590e+_0x27cda5[_0x159ae5(0x65d)],0x0)/_0x57d656['length']}),await _0x2bc4f9(_0x38c64b,_0x57d656,_0x5ee360,_0x598605,_0x325740);}function _0x2e7f76(_0x21ce42,_0x246408,_0x26aef2,_0x40e39e){const _0x2d0c62=_0x332466,_0xa802c2=[],_0x2327a0=_0x21ce42[_0x2d0c62(0x616)]('\x20');let _0x52dd1a='',_0x250be8=-0x1,_0x4e2c44=0x0,_0x485e5c=0x0;for(const _0x2f5873 of _0x2327a0){if(_0x52dd1a[_0x2d0c62(0x65d)]+_0x2f5873[_0x2d0c62(0x65d)]>_0x246408[_0x2d0c62(0x7eb)][_0x2d0c62(0x393)]){const _0x3d060e=_0x52dd1a[_0x2d0c62(0x65d)];let _0x5dde28=_0x250be8,_0x3c426a='';for(;_0x5dde28>=0x0&&_0x3c426a[_0x2d0c62(0x65d)]+_0x2327a0[_0x5dde28][_0x2d0c62(0x65d)]<_0x246408[_0x2d0c62(0x7eb)][_0x2d0c62(0xa18)];)_0x3c426a=_0x2327a0[_0x5dde28]+'\x20'+_0x3c426a,_0x5dde28--;let _0x9f2faf=_0x4e2c44,_0x5a36f6='';for(;_0x9f2faf<_0x2327a0[_0x2d0c62(0x65d)]&&_0x5a36f6[_0x2d0c62(0x65d)]+_0x2327a0[_0x9f2faf][_0x2d0c62(0x65d)]<_0x246408[_0x2d0c62(0x7eb)][_0x2d0c62(0xa18)];)_0x5a36f6+=_0x2327a0[_0x9f2faf]+'\x20',_0x9f2faf++;_0x52dd1a=_0x3c426a+_0x52dd1a+_0x5a36f6,_0xa802c2[_0x2d0c62(0x995)]({'content':_0x52dd1a['trim'](),'start':_0x26aef2??_0x485e5c,'length':_0x40e39e??_0x3d060e}),_0x52dd1a='',_0x250be8=_0x4e2c44-0x1,_0x485e5c+=_0x3d060e;}_0x52dd1a+=_0x2f5873+'\x20',_0x4e2c44++;}if(_0x52dd1a[_0x2d0c62(0x65d)]>0x0){const _0x2ef029=_0x52dd1a[_0x2d0c62(0x65d)];let _0x299065=_0x250be8,_0x4cab77='';for(;_0x299065>=0x0&&_0x4cab77['length']+_0x2327a0[_0x299065][_0x2d0c62(0x65d)]<_0x246408[_0x2d0c62(0x7eb)]['overlap'];)_0x4cab77=_0x2327a0[_0x299065]+'\x20'+_0x4cab77,_0x299065--;_0x52dd1a=_0x4cab77+_0x52dd1a,_0xa802c2[_0x2d0c62(0x995)]({'content':_0x52dd1a[_0x2d0c62(0x51c)](),'start':_0x26aef2??_0x485e5c,'length':_0x40e39e??_0x2ef029});}return _0xa802c2;}async function _0x2bc4f9(_0x4acbdf,_0x5f70df,_0xa22a53,_0x14006f,_0x2a2732){const _0x17bc34=_0x332466;for(const _0x22c395 of _0xa22a53[_0x17bc34(0xa3d)]||[]){const _0x407563=_0x14006f['find'](_0x249b78=>_0x249b78[_0x17bc34(0x355)]===_0x22c395[_0x17bc34(0x355)]);if(_0x407563)switch(_0x407563[_0x17bc34(0x5a0)]){case _0x1b697d['Agent']:_0x22c395['type']===_0x820e81[_0x17bc34(0x6aa)]&&'string'==typeof _0x5f70df&&await _0x12697b(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732);break;case _0x1b697d[_0x17bc34(0xa91)]:_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x6aa)]&&_0x17bc34(0x5b3)==typeof _0x5f70df&&await _0x45f8ba(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x56e)]&&_0x5f70df instanceof Array&&await _0x45f8ba(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732);break;case _0x1b697d[_0x17bc34(0x91e)]:_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x74d)]&&await _0x109153(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732);break;case _0x1b697d['EntityExtractor']:_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x56e)]&&_0x5f70df instanceof Array&&await _0x3f401c(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732);break;case _0x1b697d[_0x17bc34(0x7f5)]:_0x22c395['type']===_0x820e81[_0x17bc34(0x6aa)]&&_0x17bc34(0x5b3)==typeof _0x5f70df&&_0x4c38fe(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395['type']===_0x820e81[_0x17bc34(0x56e)]&&_0x5f70df instanceof Array&&_0x4c38fe(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x752)]&&_0x5f70df instanceof Set&&_0x4c38fe(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x28e)]&&_0x5f70df instanceof Map&&_0x4c38fe(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x74d)]&&_0x4c38fe(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732);break;case _0x1b697d[_0x17bc34(0x758)]:_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x6aa)]&&'string'==typeof _0x5f70df&&await _0x5adec3(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x56e)]&&_0x5f70df instanceof Array&&await _0x5adec3(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732);break;case _0x1b697d[_0x17bc34(0x87f)]:_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x56e)]&&_0x5f70df instanceof Array&&await _0x19294f(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395['type']===_0x820e81[_0x17bc34(0x752)]&&_0x5f70df instanceof Set&&await _0x19294f(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732);break;case _0x1b697d[_0x17bc34(0x58f)]:_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x6aa)]&&_0x17bc34(0x5b3)==typeof _0x5f70df&&await _0x5d9726(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x56e)]&&_0x5f70df instanceof Array&&await _0x5d9726(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732);break;case _0x1b697d['VectorDatabase']:_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x6aa)]&&_0x17bc34(0x5b3)==typeof _0x5f70df&&_0x5a9c6d(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x56e)]&&_0x5f70df instanceof Array&&_0x5a9c6d(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0xad8)]&&_0x5f70df instanceof Array&&_0x5a9c6d(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395[_0x17bc34(0x5a0)]===_0x820e81['File']&&_0x5a9c6d(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732);break;case _0x1b697d['WordSplitter']:_0x22c395[_0x17bc34(0x5a0)]===_0x820e81[_0x17bc34(0x6aa)]&&_0x17bc34(0x5b3)==typeof _0x5f70df&&await _0x493716(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732),_0x22c395['type']===_0x820e81[_0x17bc34(0x56e)]&&_0x5f70df instanceof Array&&await _0x493716(_0x4acbdf,_0x5f70df,_0x407563,_0x14006f,_0x2a2732);}}}function _0x4ec7ca(_0x161323,_0xf9d537){const _0x3d380f=_0x332466;return _0xf9d537[_0x3d380f(0x962)](_0x362ef1=>_0x362ef1[_0x3d380f(0xa3d)]?.[_0x3d380f(0x76b)](_0x2ebb07=>_0x2ebb07[_0x3d380f(0x355)]===_0x161323['uid']))[_0x3d380f(0x65d)];}async function _0x159a7f(_0x167348,_0x492d7e,_0x32ad95,_0xa697c6,_0x34b5dd){const _0x405983=_0x332466;try{let _0x2e19a8;switch(_0x32ad95[_0x405983(0x5a0)]){case _0x1b697d['ObjectStorageUpload']:const _0x5456b1=_0x34b5dd[_0x405983(0x9b9)][_0x405983(0x901)](_0x32ad95['id']);_0x2e19a8=await _0x5456b1[_0x405983(0x4d1)](_0x492d7e);break;case _0x1b697d['ExternalStorageUpload']:const _0x47eb6f=_0x34b5dd[_0x405983(0x9b9)][_0x405983(0x7d2)](_0x32ad95['id']);_0x2e19a8=await _0x47eb6f[_0x405983(0x4d1)](_0x492d7e);}if(!_0x2e19a8)throw new Error('Failed\x20to\x20get\x20file');await _0x2bc4f9(_0x167348,{'file':_0x2e19a8,'pathName':_0x492d7e},_0x32ad95,structuredClone(_0xa697c6),_0x34b5dd);}catch(_0x162acc){console[_0x405983(0x998)](_0x405983(0x90b),_0x162acc);}}async function _0x3eb92a(_0xada72d,_0x169163,_0x4caad0,_0x35749e,_0x1f0c32,_0x13fb04,_0x4ef27b){const _0x59f626=_0x332466,_0x681e47=Date[_0x59f626(0x3f4)](),_0x4f8ec2=new Set();if(_0x4caad0 instanceof Array){for(const _0x19526b of _0x4caad0)await _0x2b61ae(_0x19526b[_0x59f626(0x4cb)],_0x1f0c32,_0x4f8ec2,_0x4ef27b['nlpLibraryConnector']);}else await _0x2b61ae(_0x4caad0,_0x1f0c32,_0x4f8ec2,_0x4ef27b[_0x59f626(0x6be)]);_0x52ba77[_0x59f626(0x286)]({'jobType':_0xb9f1cc[_0x59f626(0x294)],'type':_0x580359[_0x59f626(0x637)],'jobId':_0xada72d,'threadId':_0x169163,'blockId':_0x1f0c32['id'],'traceLevel':_0x28ead7[_0x59f626(0x980)],'startTime':_0x681e47,'timestamp':Date[_0x59f626(0x3f4)](),'status':_0x59f626(0x603),'content':_0x4caad0,'entitiesExtracted':Array[_0x59f626(0x639)](_0x4f8ec2),'totalEntities':_0x4f8ec2[_0x59f626(0x393)]}),await _0x2827f6(_0xada72d,_0x169163,_0x4f8ec2,_0x35749e,_0x1f0c32,_0x13fb04,_0x4ef27b);}async function _0x2b61ae(_0xff50ed,_0x4eda75,_0x43cc5e,_0x1c9cc2){const _0x3ed948=_0x332466,_0x5d18d6=await _0x1c9cc2['getEntities'](_0xff50ed,{'ner':_0x4eda75[_0x3ed948(0x7eb)][_0x3ed948(0x87c)],'noun':_0x4eda75[_0x3ed948(0x7eb)]['noun'],'propn':_0x4eda75[_0x3ed948(0x7eb)][_0x3ed948(0x577)],'verb':_0x4eda75[_0x3ed948(0x7eb)][_0x3ed948(0x873)]});for(const _0xed99dd of _0x5d18d6)_0x43cc5e['add'](_0xed99dd);}async function _0x5c5ef1(_0x1ff3d5,_0x5a0605,_0x518875,_0x3cf9c2,_0x2e4e9c,_0x457b35,_0x1f84e4){const _0x20b1ad=_0x332466,_0x58144b=Date[_0x20b1ad(0x3f4)]();if(_0x2e4e9c[_0x20b1ad(0x2bb)]||(_0x2e4e9c[_0x20b1ad(0x2bb)]={}),_0x518875 instanceof Array?(_0x2e4e9c['accumulated']['results']||(_0x2e4e9c[_0x20b1ad(0x2bb)][_0x20b1ad(0x629)]=[]),_0x2e4e9c['accumulated'][_0x20b1ad(0x629)]['push'](..._0x518875)):_0x518875 instanceof Set?_0x2e4e9c[_0x20b1ad(0x2bb)]['entities']=_0x518875:_0x2e4e9c['accumulated'][_0x20b1ad(0x7e3)]=_0x518875,_0x2e4e9c[_0x20b1ad(0x356)]=_0x2e4e9c[_0x20b1ad(0x356)]?_0x2e4e9c[_0x20b1ad(0x356)]+0x1:0x1,_0x4ae9de(_0x2e4e9c,_0x457b35)>_0x2e4e9c[_0x20b1ad(0x356)])return;if(!_0x2e4e9c[_0x20b1ad(0x2bb)][_0x20b1ad(0x7e3)]&&!_0x2e4e9c[_0x20b1ad(0x2bb)][_0x20b1ad(0x629)]||!_0x2e4e9c['accumulated'][_0x20b1ad(0x885)])throw new Error(_0x20b1ad(0x84e));const _0x404da4=_0x1f84e4[_0x20b1ad(0x9b9)][_0x20b1ad(0xa44)](_0x2e4e9c['id'])[_0x20b1ad(0x717)](Array[_0x20b1ad(0x639)](_0x2e4e9c[_0x20b1ad(0x2bb)][_0x20b1ad(0x885)]),_0x2e4e9c[_0x20b1ad(0x7eb)][_0x20b1ad(0xa96)],_0x2e4e9c[_0x20b1ad(0x7eb)][_0x20b1ad(0x89f)]);let _0x1a5fba=[];for(const _0x148635 in _0x404da4){const _0x2aa3b2=_0x404da4[_0x148635];for(const _0x5e883c of _0x2aa3b2){let _0x1f790c=0x0;if(_0x2e4e9c[_0x20b1ad(0x2bb)][_0x20b1ad(0x7e3)]&&(_0x1f790c=await _0x1f84e4[_0x20b1ad(0x6be)][_0x20b1ad(0x693)](_0x2e4e9c['accumulated']['prompt'],_0x5e883c)),_0x2e4e9c[_0x20b1ad(0x2bb)][_0x20b1ad(0x629)]){for(const _0x3715e1 of _0x2e4e9c['accumulated'][_0x20b1ad(0x629)])_0x1f790c=Math[_0x20b1ad(0x314)](_0x1f790c,await _0x1f84e4[_0x20b1ad(0x6be)]['getSimilarity'](_0x3715e1[_0x20b1ad(0x4cb)],_0x5e883c));}_0x1f790c<_0x2e4e9c[_0x20b1ad(0x7eb)][_0x20b1ad(0x883)]||_0x1a5fba['push']({'content':_0x5e883c,'relevance':_0x1f790c,'pathName':_0x148635});}}_0x1a5fba=_0x1a5fba['sort']((_0x512f34,_0x326704)=>_0x326704[_0x20b1ad(0x4d0)]-_0x512f34[_0x20b1ad(0x4d0)])[_0x20b1ad(0x8b2)](0x0,_0x2e4e9c[_0x20b1ad(0x7eb)][_0x20b1ad(0x845)]),_0x52ba77[_0x20b1ad(0x286)]({'jobType':_0xb9f1cc[_0x20b1ad(0x294)],'type':_0x580359[_0x20b1ad(0x192)],'jobId':_0x1ff3d5,'threadId':_0x5a0605,'blockId':_0x2e4e9c['id'],'traceLevel':_0x28ead7[_0x20b1ad(0x980)],'timestamp':Date[_0x20b1ad(0x3f4)](),'startTime':_0x58144b,'status':_0x20b1ad(0x603),'content':_0x518875,'topResults':_0x1a5fba,'numResults':_0x1a5fba[_0x20b1ad(0x65d)]}),await _0x2827f6(_0x1ff3d5,_0x5a0605,_0x1a5fba,_0x3cf9c2,_0x2e4e9c,_0x457b35,_0x1f84e4);}async function _0x420585(_0x107e7b,_0x88ca7d,_0x43e356,_0xe9cf6,_0x3f811f,_0x378c98,_0x120a42){const _0x437776=_0x332466,_0xcfcde5=_0x120a42[_0x437776(0x84d)]['find'](_0x59bcec=>_0x59bcec['id']===_0x3f811f['id']);if(!_0xcfcde5)throw new Error(_0x437776(0x1c9));let _0x39158d='';switch(_0x39158d=_0x43e356 instanceof Array?_0x43e356[_0x437776(0x604)](_0x237466=>_0x237466[_0x437776(0x4cb)])['join'](',\x20'):_0x43e356,_0xcfcde5[_0x437776(0xa86)]){case _0x57c18a[_0x437776(0x623)][_0x437776(0x6aa)]:await async function(_0xa8582c,_0x4718ad,_0x2f8d8a,_0x49bebc,_0x48cc2b,_0x462475,_0x3885a0,_0x181538){const _0x8eb4fe=_0x437776,_0x3639be=Date['now'](),_0x2b683f=_0x181538[_0x8eb4fe(0x2d2)][_0x8eb4fe(0x405)](_0x26ee97=>_0x26ee97[_0x8eb4fe(0x267)]()===_0x48cc2b[_0x8eb4fe(0xa1a)]);if(!_0x2b683f)throw new Error(_0x8eb4fe(0x340));const _0xb1e67b=await async function(_0x5e4b0f,_0x2eefd8,_0x37ebeb,_0xbed245,_0x54a57d){const _0x2f32b7=_0x8eb4fe,_0x2244e8={'type':_0x2f32b7(0x7e3),'prompt':_0x2eefd8,'threadId':_0x5e4b0f};_0x37ebeb[_0x2f32b7(0x190)][_0x2f32b7(0x65d)]>0x0&&(_0x2244e8[_0x2f32b7(0x6e8)]=_0x2f32b7(0x26c)+_0x37ebeb[_0x2f32b7(0x190)][_0x2f32b7(0x604)](_0x2981fa=>'From\x20'+_0x2981fa[_0x2f32b7(0x399)]+':\x20'+_0x2981fa[_0x2f32b7(0x4cb)])[_0x2f32b7(0x7d5)]('\x0a'));const _0x54a86b=await _0xbed245[_0x2f32b7(0x446)](_0x2244e8,{'model':_0x54a57d});if(_0x54a86b['output']instanceof Array)throw new Error('Unexpected\x20output\x20type');return _0x37ebeb['inputTokens']+=_0x54a86b[_0x2f32b7(0x452)]??0x0,_0x37ebeb[_0x2f32b7(0x97c)]+=_0x54a86b[_0x2f32b7(0x97c)]??0x0,_0x54a86b[_0x2f32b7(0x798)];}(_0x4718ad,_0x2f8d8a,_0x49bebc,_0x2b683f,_0x48cc2b);_0x52ba77[_0x8eb4fe(0x286)]({'jobType':_0xb9f1cc[_0x8eb4fe(0x294)],'type':_0x580359[_0x8eb4fe(0x54e)],'jobId':_0xa8582c,'threadId':_0x4718ad,'blockId':_0x462475['id'],'traceLevel':_0x28ead7[_0x8eb4fe(0x980)],'startTime':_0x3639be,'timestamp':Date['now'](),'status':_0x8eb4fe(0x603),'modelName':_0x48cc2b['id'],'content':_0x2f8d8a,'newPrompt':_0xb1e67b,'inputType':_0x48cc2b[_0x8eb4fe(0x361)],'outputType':_0x48cc2b[_0x8eb4fe(0xa86)]}),await _0x2827f6(_0xa8582c,_0x4718ad,_0xb1e67b,_0x49bebc,_0x462475,_0x3885a0,_0x181538);}(_0x107e7b,_0x88ca7d,_0x39158d,_0xe9cf6,_0xcfcde5,_0x3f811f,_0x378c98,_0x120a42);break;case _0x57c18a[_0x437776(0x623)][_0x437776(0xad8)]:await async function(_0x8fdf02,_0x95c1f8,_0x3550fc,_0x2f5ca8,_0x579672,_0x199fa2,_0x168314,_0x2b3485){const _0x10656d=_0x437776,_0xb354cb=Date[_0x10656d(0x3f4)](),_0x479f03=_0x2b3485[_0x10656d(0x2d2)][_0x10656d(0x405)](_0x3d4cef=>_0x3d4cef[_0x10656d(0x267)]()===_0x579672['engineType']);if(!_0x479f03)throw new Error(_0x10656d(0x340));const _0x3b8419=await async function(_0x580714,_0x1fde78,_0x1dca71,_0x31ec2b){const _0x5ed7ba=_0x10656d;return(await _0x1dca71['processJob']({'type':_0x5ed7ba(0x7e3),'prompt':_0x1fde78,'threadId':_0x580714},{'model':_0x31ec2b}))[_0x5ed7ba(0x798)];}(_0x95c1f8,_0x3550fc,_0x479f03,_0x579672);_0x52ba77[_0x10656d(0x286)]({'jobType':_0xb9f1cc[_0x10656d(0x294)],'type':_0x580359[_0x10656d(0x490)],'jobId':_0x8fdf02,'threadId':_0x95c1f8,'blockId':_0x199fa2['id'],'traceLevel':_0x28ead7[_0x10656d(0x980)],'startTime':_0xb354cb,'timestamp':Date[_0x10656d(0x3f4)](),'status':_0x10656d(0x603),'modelName':_0x579672['id'],'content':_0x3550fc,'totalVectors':_0x3b8419[_0x10656d(0x65d)]}),await _0x2827f6(_0x8fdf02,_0x95c1f8,_0x3b8419,_0x2f5ca8,_0x199fa2,_0x168314,_0x2b3485);}(_0x107e7b,_0x88ca7d,_0x39158d,_0xe9cf6,_0xcfcde5,_0x3f811f,_0x378c98,_0x120a42);}}async function _0x2ca17b(_0x22428e,_0x6fdef5,_0x191d9b,_0x111b81,_0x2427f5,_0x3016df,_0x7851e2){const _0x49f937=_0x332466,_0x11ba43=Date[_0x49f937(0x3f4)]();if(_0x2427f5[_0x49f937(0x2bb)]||(_0x2427f5[_0x49f937(0x2bb)]={}),_0x191d9b instanceof Array?(_0x2427f5[_0x49f937(0x2bb)][_0x49f937(0x629)]||(_0x2427f5[_0x49f937(0x2bb)][_0x49f937(0x629)]=[]),_0x2427f5[_0x49f937(0x2bb)]['results'][_0x49f937(0x995)](..._0x191d9b)):_0x2427f5[_0x49f937(0x2bb)]['prompt']=_0x191d9b,_0x2427f5[_0x49f937(0x356)]=_0x2427f5[_0x49f937(0x356)]?_0x2427f5[_0x49f937(0x356)]+0x1:0x1,_0x4ae9de(_0x2427f5,_0x3016df)>_0x2427f5[_0x49f937(0x356)])return;if(!_0x2427f5['accumulated']['prompt']||!_0x2427f5['accumulated']['results'])throw new Error(_0x49f937(0x4d5));for(const _0x4c78a4 of _0x2427f5['accumulated']['results'])_0x4c78a4[_0x49f937(0x4d0)]=await _0x7851e2[_0x49f937(0x6be)][_0x49f937(0x693)](_0x2427f5['accumulated']['prompt'],_0x4c78a4[_0x49f937(0x4cb)]);const _0x524b71=_0x2427f5['accumulated'][_0x49f937(0x629)][_0x49f937(0x962)](_0x4761e8=>_0x4761e8[_0x49f937(0x4d0)]>_0x2427f5['attributes'][_0x49f937(0x883)])[_0x49f937(0xa4f)]((_0x58b302,_0x3d7ebc)=>_0x3d7ebc['relevance']-_0x58b302[_0x49f937(0x4d0)])[_0x49f937(0x8b2)](0x0,_0x2427f5[_0x49f937(0x7eb)][_0x49f937(0x845)]);_0x52ba77[_0x49f937(0x286)]({'jobType':_0xb9f1cc[_0x49f937(0x294)],'type':_0x580359[_0x49f937(0xa3a)],'jobId':_0x22428e,'threadId':_0x6fdef5,'blockId':_0x2427f5['id'],'traceLevel':_0x28ead7['Debug'],'startTime':_0x11ba43,'timestamp':Date[_0x49f937(0x3f4)](),'status':_0x49f937(0x603),'inputResults':_0x2427f5[_0x49f937(0x2bb)][_0x49f937(0x629)],'rerankedResults':_0x524b71}),await _0x2827f6(_0x22428e,_0x6fdef5,_0x524b71,_0x111b81,_0x2427f5,_0x3016df,_0x7851e2);}async function _0x20b6a9(_0x314823,_0x28ffb2,_0x53a0b1,_0x13d67c,_0x475b79,_0x21ce4e,_0x5c0a09){const _0x3b2162=_0x332466,_0x311434=Date[_0x3b2162(0x3f4)]();if(_0x475b79[_0x3b2162(0x2bb)]||(_0x475b79[_0x3b2162(0x2bb)]={}),_0x53a0b1 instanceof Array?_0x475b79['accumulated']['vector']=_0x53a0b1:_0x475b79[_0x3b2162(0x2bb)][_0x3b2162(0x4cb)]=_0x53a0b1,_0x475b79['timesCalled']=_0x475b79[_0x3b2162(0x356)]?_0x475b79['timesCalled']+0x1:0x1,_0x4ae9de(_0x475b79,_0x21ce4e)>_0x475b79[_0x3b2162(0x356)])return;if(!_0x475b79[_0x3b2162(0x2bb)]['vector']||!_0x475b79['accumulated'][_0x3b2162(0x4cb)])throw new Error(_0x3b2162(0x5eb));const _0x417490=await _0x5c0a09['nlpLibraryConnector'][_0x3b2162(0x569)](_0x475b79[_0x3b2162(0x2bb)]['content'],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x17f59a=_0x5c0a09[_0x3b2162(0x9b9)][_0x3b2162(0x3e1)](_0x475b79['id'])[_0x3b2162(0x7ba)](_0x417490,_0x475b79[_0x3b2162(0x2bb)][_0x3b2162(0x322)],_0x475b79[_0x3b2162(0x7eb)]['topK'],_0x475b79[_0x3b2162(0x7eb)]['minRelevance'],_0x475b79[_0x3b2162(0x7eb)]['contentSize']);_0x52ba77[_0x3b2162(0x286)]({'jobType':_0xb9f1cc[_0x3b2162(0x294)],'type':_0x580359['VectorSearch'],'jobId':_0x314823,'threadId':_0x28ffb2,'blockId':_0x475b79['id'],'traceLevel':_0x28ead7['Debug'],'startTime':_0x311434,'timestamp':Date['now'](),'status':_0x3b2162(0x603),'topResults':_0x17f59a,'numResults':_0x17f59a[_0x3b2162(0x65d)]}),await _0x2827f6(_0x314823,_0x28ffb2,_0x17f59a,_0x13d67c,_0x475b79,_0x21ce4e,_0x5c0a09);}async function _0x2827f6(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x2fe4f8,_0x45542c,_0x375571){const _0x399eaf=_0x332466;for(const _0x8d499a of _0x2fe4f8[_0x399eaf(0xa3d)]||[]){const _0x40ca6b=_0x45542c[_0x399eaf(0x405)](_0x4bc6dd=>_0x4bc6dd[_0x399eaf(0x355)]===_0x8d499a[_0x399eaf(0x355)]);if(_0x40ca6b)switch(_0x40ca6b['type']){case _0x1b697d[_0x399eaf(0x891)]:_0x8d499a[_0x399eaf(0x5a0)]===_0x820e81[_0x399eaf(0xa04)]&&_0x23df5b instanceof Array&&_0x815d50[_0x399eaf(0x190)][_0x399eaf(0x995)](..._0x23df5b);break;case _0x1b697d[_0x399eaf(0x637)]:_0x8d499a[_0x399eaf(0x5a0)]===_0x820e81[_0x399eaf(0x6aa)]&&'string'==typeof _0x23df5b&&await _0x3eb92a(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x40ca6b,_0x45542c,_0x375571),_0x8d499a['type']===_0x820e81['Search']&&_0x23df5b instanceof Array&&await _0x3eb92a(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x40ca6b,_0x45542c,_0x375571);break;case _0x1b697d[_0x399eaf(0x7f5)]:_0x8d499a['type']===_0x820e81[_0x399eaf(0x6aa)]&&_0x399eaf(0x5b3)==typeof _0x23df5b&&await _0x5c5ef1(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x40ca6b,_0x45542c,_0x375571),_0x8d499a['type']===_0x820e81[_0x399eaf(0xa04)]&&_0x23df5b instanceof Array&&await _0x5c5ef1(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x40ca6b,_0x45542c,_0x375571),_0x8d499a[_0x399eaf(0x5a0)]===_0x820e81[_0x399eaf(0x752)]&&_0x23df5b instanceof Set&&await _0x5c5ef1(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x40ca6b,_0x45542c,_0x375571);break;case _0x1b697d[_0x399eaf(0x758)]:_0x8d499a[_0x399eaf(0x5a0)]===_0x820e81[_0x399eaf(0x6aa)]&&_0x399eaf(0x5b3)==typeof _0x23df5b&&await _0x420585(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x40ca6b,_0x45542c,_0x375571),_0x8d499a[_0x399eaf(0x5a0)]===_0x820e81[_0x399eaf(0xa04)]&&_0x23df5b instanceof Array&&await _0x420585(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x40ca6b,_0x45542c,_0x375571);break;case _0x1b697d['Reranker']:_0x8d499a['type']===_0x820e81[_0x399eaf(0x6aa)]&&_0x399eaf(0x5b3)==typeof _0x23df5b&&await _0x2ca17b(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x40ca6b,_0x45542c,_0x375571),_0x8d499a[_0x399eaf(0x5a0)]===_0x820e81[_0x399eaf(0xa04)]&&_0x23df5b instanceof Array&&await _0x2ca17b(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x40ca6b,_0x45542c,_0x375571);break;case _0x1b697d['VectorDatabase']:_0x8d499a[_0x399eaf(0x5a0)]===_0x820e81[_0x399eaf(0x6aa)]&&'string'==typeof _0x23df5b&&await _0x20b6a9(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x40ca6b,_0x45542c,_0x375571),_0x8d499a[_0x399eaf(0x5a0)]===_0x820e81[_0x399eaf(0xad8)]&&_0x23df5b instanceof Array&&await _0x20b6a9(_0x30faa0,_0xf2bf58,_0x23df5b,_0x815d50,_0x40ca6b,_0x45542c,_0x375571);}}}function _0x4ae9de(_0x48741d,_0x3d8ee0){const _0x3a8ddb=_0x332466;return _0x3d8ee0[_0x3a8ddb(0x962)](_0x41477f=>_0x41477f[_0x3a8ddb(0xa3d)]?.[_0x3a8ddb(0x76b)](_0x316f34=>_0x316f34[_0x3a8ddb(0x355)]===_0x48741d[_0x3a8ddb(0x355)]))[_0x3a8ddb(0x65d)];}async function _0x2c7e65(_0x58743e,_0x53562b,_0x5ae453,_0x40b3d5,_0x2ddf98,_0x35e91c){const _0x29f5e0=_0x332466,_0x3a6469={'type':_0x29f5e0(0x7e3),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x435f0c;await _0x2827f6(_0x58743e,_0x53562b,_0x5ae453,_0x3a6469,_0x40b3d5,structuredClone(_0x2ddf98),_0x35e91c),_0x3a6469[_0x29f5e0(0x190)][_0x29f5e0(0x3c9)]((_0x597a1e,_0x56f363)=>_0x597a1e+_0x56f363[_0x29f5e0(0x4cb)][_0x29f5e0(0x65d)],0x0)>_0x41ab9b&&(_0x435f0c=Math['floor'](_0x41ab9b/_0x3a6469[_0x29f5e0(0x190)][_0x29f5e0(0x65d)])),_0x3a6469[_0x29f5e0(0x798)]='Additional\x20context:\x0a'+_0x3a6469[_0x29f5e0(0x190)][_0x29f5e0(0x604)](_0x4d1272=>'From\x20'+_0x4d1272[_0x29f5e0(0x399)]+':\x20'+_0x4d1272[_0x29f5e0(0x4cb)][_0x29f5e0(0x2b3)](0x0,_0x435f0c))[_0x29f5e0(0x7d5)]('\x0a');}catch(_0x52d785){console[_0x29f5e0(0x998)]('Error\x20processing\x20retrieve',_0x52d785);}return _0x3a6469;}const _0x20d52f=require('rxjs/operators');class _0x4e5371{[_0x332466(0x9b6)];constructor(){const _0x5d5c84=_0x332466;this[_0x5d5c84(0x9b6)]=new _0x3ac8d4[(_0x5d5c84(0x56d))]();}[_0x332466(0x611)](_0x10daf1){const _0x5562df=_0x332466;this[_0x5562df(0x9b6)][_0x5562df(0x4c5)](_0x10daf1);}async['once'](){const _0x40b4e2=_0x332466;return(0x0,_0x3ac8d4[_0x40b4e2(0x654)])(this[_0x40b4e2(0x9b6)][_0x40b4e2(0x196)]((0x0,_0x20d52f[_0x40b4e2(0xa98)])(0x1)));}}function _0x32ce6d(_0x3a1aa6,_0x2367b1,_0xb0f6ef,_0x44a389,_0x1377d3,_0x2ae210,_0x24a3b2,_0xd2b4c4){const _0x1db4af=_0x332466,_0x41b470=_0x1db4af(0x933)+_0x1377d3['description']+_0x1db4af(0x659),_0x210731={'prompt':{'type':_0x57c18a[_0x1db4af(0x8b1)]['String']}};return _0x52ba77['trace']({'jobType':_0xb9f1cc[_0x1db4af(0x2e8)],'type':_0x12920e['LoadSkillFunction'],'jobId':_0x3a1aa6,'agentId':_0x2367b1,'threadId':_0xb0f6ef[_0x1db4af(0x565)],'traceLevel':_0x28ead7['Info'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0x27f5cc[_0x1db4af(0x30a)],'params':_0x210731,'functionDescription':_0x41b470}),{'description':_0x41b470,'params':_0x210731,'callback':async _0x5e8c6c=>{const _0x491214=_0x1db4af,_0x463b2c=Date['now']();try{if(_0xd2b4c4&&(await _0x1327a2[_0x491214(0x908)](0x1),_0xd2b4c4[_0x491214(0x611)]({'output':_0x491214(0x4c7)+_0x1377d3[_0x491214(0x8c6)]+_0x491214(0x5bd),'type':_0x491214(0x7e3)})),_0x491214(0x5b3)!=typeof _0x5e8c6c?.[_0x491214(0x7e3)])throw new Error('Prompt\x20is\x20required');const _0x5eafbb=_0x24a3b2[_0x491214(0x84d)][_0x491214(0x405)](_0xd2ad7a=>_0xd2ad7a['id']===_0x1377d3[_0x491214(0x4e1)]);if(!_0x5eafbb)throw new Error(_0x491214(0x1c9));const _0x472ea3=_0x24a3b2[_0x491214(0x2d2)][_0x491214(0x405)](_0x10d5ac=>_0x10d5ac[_0x491214(0x267)]()===_0x5eafbb[_0x491214(0xa1a)]);if(!_0x472ea3)throw new Error(_0x491214(0x340));const _0x21a102=_0x1377d3[_0x491214(0xa3d)]?.['some'](_0x1401df=>{const _0x180325=_0x491214,_0xb6eec8=_0x2ae210[_0x180325(0x405)](_0x150ad5=>_0x150ad5['uid']===_0x1401df[_0x180325(0x355)]);return!!_0xb6eec8&&_0x1401df[_0x180325(0x5a0)]===_0x820e81[_0x180325(0x6aa)]&&_0xb6eec8[_0x180325(0x5a0)]===_0x5a247f['Answer'];})??!0x1;let _0xe29d57;if(_0xd2b4c4&&_0x21a102?(await _0x1327a2[_0x491214(0x908)](0x1),_0xd2b4c4[_0x491214(0x611)]({'output':'\x0a\x0a','type':'prompt'}),_0xe29d57=await async function(_0xed073f,_0x5ef121,_0x42b762,_0x109f45,_0x14db3d,_0x38d428,_0x35040b,_0xcfbc1d,_0x20124f){const _0x41ecc5=_0x491214;let _0x5da006='';const _0x2249d1=_0x20124f[_0x41ecc5(0x84d)][_0x41ecc5(0x405)](_0x18015b=>_0x18015b['id']===_0x38d428[_0x41ecc5(0x4e1)]);if(!_0x2249d1)throw new Error(_0x41ecc5(0x1c9));const _0x5595d6=_0x20124f[_0x41ecc5(0x2d2)][_0x41ecc5(0x405)](_0x2826c0=>_0x2826c0[_0x41ecc5(0x267)]()===_0x2249d1[_0x41ecc5(0xa1a)]);if(!_0x5595d6)throw new Error('No\x20connector\x20found\x20for\x20model');for await(const _0x28c71e of _0x5595d6[_0x41ecc5(0x80b)]({'type':'prompt','prompt':_0x335453(_0x42b762,_0x38d428),'instructions':_0xa721e1('',_0x38d428,_0x2249d1),'grammar':_0x38d428[_0x41ecc5(0x18a)],'temperature':_0x38d428['temperature'],'maxTokens':_0x38d428[_0x41ecc5(0x466)],'functions':await _0x45e808(_0xed073f,_0x5ef121,_0x109f45,_0x14db3d,_0x38d428,_0x35040b,_0x20124f,_0xcfbc1d),'threadId':_0x109f45[_0x41ecc5(0x565)]},{'model':_0x2249d1,'sequences':0x2}))_0xcfbc1d['emit'](_0x28c71e),_0x5da006+=_0x28c71e['output'];return{'type':_0x41ecc5(0x7e3),'output':_0x5da006};}(_0x3a1aa6,_0x2367b1,_0x5e8c6c[_0x491214(0x7e3)],_0xb0f6ef,_0x44a389,_0x1377d3,_0x2ae210,_0xd2b4c4,_0x24a3b2),await _0x1327a2[_0x491214(0x908)](0x1),_0xd2b4c4[_0x491214(0x611)]({'output':'\x0a\x0a','type':_0x491214(0x7e3)})):_0xe29d57=await _0x472ea3[_0x491214(0x446)]({'type':_0x491214(0x7e3),'prompt':_0x335453(_0x5e8c6c[_0x491214(0x7e3)],_0x1377d3),'instructions':_0xa721e1('',_0x1377d3,_0x5eafbb),'grammar':_0x1377d3[_0x491214(0x18a)],'temperature':_0x1377d3[_0x491214(0x60b)],'maxTokens':_0x1377d3[_0x491214(0x466)],'functions':await _0x45e808(_0x3a1aa6,_0x2367b1,_0xb0f6ef,_0x44a389,_0x1377d3,_0x2ae210,_0x24a3b2,_0xd2b4c4),'threadId':_0xb0f6ef['threadId']},{'model':_0x5eafbb,'sequences':0x2}),_0x491214(0x5b3)!=typeof _0xe29d57[_0x491214(0x798)])throw new Error(_0x491214(0x9c4));return _0x52ba77[_0x491214(0x286)]({'jobType':_0xb9f1cc['Skill'],'type':_0x27f5cc[_0x491214(0x30a)],'jobId':_0x3a1aa6,'blockId':_0x1377d3['id'],'agentId':_0x2367b1,'threadId':_0xb0f6ef[_0x491214(0x565)],'traceLevel':_0x28ead7[_0x491214(0x206)],'startTime':_0x463b2c,'timestamp':Date[_0x491214(0x3f4)](),'status':'success','agentName':_0x1377d3[_0x491214(0x8c6)],'prompt':_0x5e8c6c[_0x491214(0x7e3)],'instructions':_0x1377d3[_0x491214(0x6e8)],'result':_0xe29d57[_0x491214(0x798)],'inputTokens':0x0,'outputTokens':0x0}),_0x1377d3['links']?.['some'](_0x49f234=>_0x49f234[_0x491214(0x5a0)]===_0x820e81[_0x491214(0x891)])?(_0x2e1c47(_0xe29d57[_0x491214(0x798)],_0x1377d3,_0x2ae210),_0x491214(0x3af)):_0xe29d57['output'];}catch(_0x1c3598){return console[_0x491214(0x998)](_0x1c3598),_0x52ba77[_0x491214(0x286)]({'jobType':_0xb9f1cc[_0x491214(0x550)],'type':_0x27f5cc[_0x491214(0x30a)],'jobId':_0x3a1aa6,'blockId':_0x1377d3['id'],'agentId':_0x2367b1,'threadId':_0xb0f6ef[_0x491214(0x565)],'traceLevel':_0x28ead7[_0x491214(0x206)],'startTime':_0x463b2c,'timestamp':Date['now'](),'status':_0x491214(0x998),'errorDetails':_0x4564c8(_0x1c3598),'agentName':_0x1377d3['name'],'prompt':_0x5e8c6c?.['prompt']??'','instructions':_0x1377d3['instructions'],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x1c3598 instanceof Error?_0x1c3598['message']:_0x491214(0x7ed);}}};}function _0x1a1e2e(_0x524f45,_0x2b637a,_0x1ee92d,_0x423990,_0x2d7ec6,_0x48af61,_0x27f766){const _0x4d8d3c=_0x332466,_0x22f1a7=_0x4d8d3c(0xa1c)+_0x2d7ec6['description']+_0x4d8d3c(0x9e9),_0x2a6fad={'queryOrPrompt':{'type':_0x57c18a['PromptFunctionParamsType']['String']}};return _0x52ba77[_0x4d8d3c(0x286)]({'jobType':_0xb9f1cc[_0x4d8d3c(0x2e8)],'type':_0x12920e[_0x4d8d3c(0x9c2)],'jobId':_0x524f45,'agentId':_0x2b637a,'threadId':_0x1ee92d,'blockId':_0x2d7ec6['id'],'traceLevel':_0x28ead7[_0x4d8d3c(0x206)],'startTime':Date[_0x4d8d3c(0x3f4)](),'timestamp':Date[_0x4d8d3c(0x3f4)](),'status':_0x4d8d3c(0x603),'function':_0x3f7174[_0x4d8d3c(0x29c)],'params':_0x2a6fad,'functionDescription':_0x22f1a7}),{'description':_0x22f1a7,'params':_0x2a6fad,'callback':async _0x4dcb4a=>{const _0xd6e917=_0x4d8d3c,_0x553ad6=Date[_0xd6e917(0x3f4)]();try{if(_0x27f766&&(await _0x1327a2[_0xd6e917(0x908)](0x1),_0x27f766[_0xd6e917(0x611)]({'output':_0xd6e917(0x870)+_0x2d7ec6[_0xd6e917(0x8c6)]+_0xd6e917(0x79c)+_0x4dcb4a?.['queryOrPrompt']+_0xd6e917(0x5bd),'type':_0xd6e917(0x7e3)})),_0xd6e917(0x5b3)!=typeof _0x4dcb4a?.['queryOrPrompt'])throw new Error(_0xd6e917(0x3b2));const _0x42ba7c=_0x2d7ec6[_0xd6e917(0x581)]['find'](_0x42a77d=>_0x42a77d[_0xd6e917(0x5a0)]===_0x1b697d[_0xd6e917(0x4a1)]),_0x1806f0=await _0x2c7e65(_0x524f45,_0x1ee92d,_0x4dcb4a['queryOrPrompt'],_0x42ba7c,_0x2d7ec6[_0xd6e917(0x581)],_0x48af61);return _0x423990[_0xd6e917(0x190)]=Array['from'](new Set([..._0x423990[_0xd6e917(0x190)],..._0x1806f0['context']])),_0x52ba77[_0xd6e917(0x286)]({'jobType':_0xb9f1cc[_0xd6e917(0x678)],'type':_0x3f7174[_0xd6e917(0xa82)],'jobId':_0x524f45,'blockId':_0x2d7ec6['id'],'agentId':_0x2b637a,'threadId':_0x1ee92d,'traceLevel':_0x28ead7['Info'],'startTime':_0x553ad6,'timestamp':Date['now'](),'status':_0xd6e917(0x603),'query':_0x4dcb4a[_0xd6e917(0x2a8)],'context':_0x1806f0[_0xd6e917(0x190)]??[],'inputTokens':_0x1806f0['inputTokens']??0x0,'outputTokens':_0x1806f0[_0xd6e917(0x97c)]??0x0}),_0x1806f0[_0xd6e917(0x798)];}catch(_0x43461a){return console[_0xd6e917(0x998)](_0x43461a),_0x52ba77[_0xd6e917(0x286)]({'jobType':_0xb9f1cc[_0xd6e917(0x678)],'type':_0x3f7174[_0xd6e917(0xa82)],'jobId':_0x524f45,'blockId':_0x2d7ec6['id'],'agentId':_0x2b637a,'threadId':_0x1ee92d,'traceLevel':_0x28ead7['Info'],'startTime':_0x553ad6,'timestamp':Date[_0xd6e917(0x3f4)](),'status':'error','errorDetails':_0x4564c8(_0x43461a),'query':_0x4dcb4a?.[_0xd6e917(0x2a8)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x43461a instanceof Error?_0x43461a[_0xd6e917(0x1e2)]:_0xd6e917(0x86d);}}};}function _0x2e4593(_0x5759b8,_0x4946ff,_0x1b08ec,_0x16c5f0,_0xeee61,_0x52a9fc){const _0x15206c=_0x332466,_0x3a3d86={};for(const _0x2c3c73 of _0x16c5f0[_0x15206c(0xae1)])switch(_0x2c3c73[_0x15206c(0x5a0)]){case'string':case _0x15206c(0x67c):_0x3a3d86[_0x2c3c73[_0x15206c(0x8c6)]]={'type':_0x57c18a[_0x15206c(0x8b1)][_0x15206c(0x580)]};break;case _0x15206c(0x4c3):_0x3a3d86[_0x2c3c73[_0x15206c(0x8c6)]]={'type':_0x57c18a['PromptFunctionParamsType'][_0x15206c(0x4c4)]};break;case _0x15206c(0x27d):_0x3a3d86[_0x2c3c73[_0x15206c(0x8c6)]]={'type':_0x57c18a['PromptFunctionParamsType'][_0x15206c(0x58a)]};}return _0x52ba77[_0x15206c(0x286)]({'jobType':_0xb9f1cc[_0x15206c(0x2e8)],'type':_0x12920e['LoadSkillFunction'],'jobId':_0x5759b8,'agentId':_0x4946ff,'threadId':_0x1b08ec,'traceLevel':_0x28ead7[_0x15206c(0x206)],'startTime':Date[_0x15206c(0x3f4)](),'timestamp':Date[_0x15206c(0x3f4)](),'status':'success','function':_0x27f5cc[_0x15206c(0x93f)],'params':_0x3a3d86,'functionDescription':_0x16c5f0[_0x15206c(0x1c0)]}),{'description':_0x15206c(0x5e5)+_0x16c5f0[_0x15206c(0x1c0)],'params':_0x3a3d86,'callback':async _0x1a8a67=>{const _0x469449=_0x15206c,_0xe5b7c6=Date[_0x469449(0x3f4)]();try{if(_0x52a9fc&&(await _0x1327a2[_0x469449(0x908)](0x1),_0x52a9fc[_0x469449(0x611)]({'output':_0x469449(0x468)+_0x16c5f0[_0x469449(0x8c6)]+_0x469449(0x5bd),'type':_0x469449(0x7e3)})),!_0x1a8a67)throw new Error(_0x469449(0x1ba));for(const _0x3e74e2 of _0x16c5f0['parameters']){if(void 0x0===_0x1a8a67[_0x3e74e2[_0x469449(0x8c6)]])throw new Error(_0x469449(0x894)+_0x3e74e2[_0x469449(0x8c6)]+_0x469449(0x803));if(_0x469449(0x5b3)===_0x3e74e2[_0x469449(0x5a0)]&&_0x469449(0x5b3)!=typeof _0x1a8a67[_0x3e74e2[_0x469449(0x8c6)]])throw new Error(_0x469449(0x894)+_0x3e74e2[_0x469449(0x8c6)]+_0x469449(0x318));if(_0x469449(0x4c3)===_0x3e74e2[_0x469449(0x5a0)]&&'number'!=typeof _0x1a8a67[_0x3e74e2[_0x469449(0x8c6)]])throw new Error(_0x469449(0x894)+_0x3e74e2['name']+_0x469449(0x7b4));if('boolean'===_0x3e74e2[_0x469449(0x5a0)]&&_0x469449(0x27d)!=typeof _0x1a8a67[_0x3e74e2[_0x469449(0x8c6)]])throw new Error('Parameter\x20'+_0x3e74e2[_0x469449(0x8c6)]+'\x20must\x20be\x20a\x20boolean');if('json'===_0x3e74e2['type']&&'string'!=typeof _0x1a8a67[_0x3e74e2['name']])throw new Error(_0x469449(0x894)+_0x3e74e2['name']+_0x469449(0x318));if(_0x469449(0x67c)===_0x3e74e2[_0x469449(0x5a0)])try{_0x1a8a67[_0x3e74e2[_0x469449(0x8c6)]]=JSON['parse'](_0x1a8a67[_0x3e74e2[_0x469449(0x8c6)]]);}catch{throw new Error('Parameter\x20'+_0x3e74e2[_0x469449(0x8c6)]+_0x469449(0x305));}}const _0x1a76d8={};for(const _0x5263fa of _0x16c5f0['headers']){let _0x2c4d7e=_0x5263fa[_0x469449(0x69e)];_0x2c4d7e[_0x469449(0x9de)](/\$[a-zA-Z0-9]+/)&&(_0x2c4d7e=_0x2c4d7e['replace'](/\$[a-zA-Z0-9]+/g,_0x216c68=>{const _0x41c3a4=_0x469449,_0x49ded0=_0x216c68[_0x41c3a4(0x8b2)](0x1);return _0x1a8a67[_0x49ded0];})),_0x1a76d8[_0x5263fa[_0x469449(0x8c6)]]=_0x2c4d7e;}const _0x17d7c4=new URLSearchParams();for(const _0x3baa0d of _0x16c5f0['queryParameters']){let _0x5f1679=_0x3baa0d['value'];if('string'==typeof _0x5f1679&&_0x5f1679[_0x469449(0x423)]('$')){const _0x5aeb21=_0x5f1679[_0x469449(0x8b2)](0x1);_0x5f1679=_0x1a8a67[_0x5aeb21];}if('string'==typeof _0x5f1679&&_0x5f1679[_0x469449(0x423)](_0x469449(0xa2a))){const _0x190c3b=_0x5f1679[_0x469449(0x706)](_0x469449(0xa2a),'');if(_0x16c5f0['accumulated'],_0x5f1679=_0x16c5f0['accumulated']?.[_0x469449(0x190)]?.[_0x190c3b],_0x469449(0x5b3)==typeof _0x5f1679&&_0x5f1679[_0x469449(0x423)]('{')&&_0x5f1679[_0x469449(0xae6)]('}'))try{_0x5f1679=JSON[_0x469449(0x9d8)](_0x5f1679);}catch{}}_0x469449(0x5b3)==typeof _0x5f1679&&_0x5f1679[_0x469449(0x423)]('[')&&_0x5f1679[_0x469449(0xae6)](']')&&(_0x5f1679=JSON[_0x469449(0x9d8)](_0x5f1679)),_0x17d7c4['append'](_0x3baa0d[_0x469449(0x8c6)],_0x5f1679);}let _0x35facc=_0x16c5f0[_0x469449(0x78b)];_0x17d7c4[_0x469449(0x393)]>0x0&&(_0x35facc+='?'+_0x17d7c4['toString']());let _0x4150c0={};for(const _0x3ac597 of _0x16c5f0[_0x469449(0x67b)]){let _0x132238=_0x3ac597[_0x469449(0x69e)];if('string'==typeof _0x132238&&_0x132238['startsWith']('$')){const _0x1152fd=_0x132238[_0x469449(0x8b2)](0x1);_0x132238=_0x1a8a67[_0x1152fd];}if('string'==typeof _0x132238&&_0x132238[_0x469449(0x423)](_0x469449(0xa2a))){const _0x20942f=_0x132238[_0x469449(0x706)](_0x469449(0xa2a),'');if(_0x132238=_0x16c5f0[_0x469449(0x2bb)]?.[_0x469449(0x190)]?.[_0x20942f],_0x469449(0x5b3)==typeof _0x132238&&_0x132238[_0x469449(0x423)]('{')&&_0x132238[_0x469449(0xae6)]('}'))try{_0x132238=JSON[_0x469449(0x9d8)](_0x132238);}catch{}}if(_0x469449(0x5b3)==typeof _0x132238&&_0x132238[_0x469449(0x423)]('[')&&_0x132238[_0x469449(0xae6)](']')&&(_0x132238=JSON[_0x469449(0x9d8)](_0x132238)),_0x469449(0x77a)===_0x3ac597['name']){const _0x57ae38=_0x132238['match'](/```html(.*)```/s);_0x57ae38&&(_0x132238=_0x57ae38[0x1]),_0x132238=_0x132238[_0x469449(0x706)](/\n/g,''),_0x132238=_0x132238['replace'](/'/g,'\x22'),_0x4150c0=_0x132238;break;}if(-0x1===_0x3ac597['name'][_0x469449(0x82d)]('.'))_0x4150c0[_0x3ac597['name']]=_0x132238;else{const [_0x4471c0,_0x1cac41]=_0x3ac597[_0x469449(0x8c6)][_0x469449(0x616)]('.');_0x4150c0[_0x4471c0]||(_0x4150c0[_0x4471c0]={}),_0x4150c0[_0x4471c0][_0x1cac41]=_0x132238;}}console['log'](_0x469449(0x437)+_0x16c5f0[_0x469449(0x8c6)]+_0x469449(0x1ee)+JSON[_0x469449(0x801)](_0x4150c0));const _0x3245f0=await fetch(_0x35facc,{'method':_0x16c5f0[_0x469449(0x627)],'headers':_0x1a76d8,'body':_0x469449(0x5b3)==typeof _0x4150c0?_0x4150c0:JSON['stringify'](_0x4150c0)});if(_0x3245f0['ok']){let _0x3d45d4=await _0x3245f0[_0x469449(0x67c)]();return _0x16c5f0[_0x469449(0x5b8)]&&(_0x3d45d4=await function(_0x4ff873,_0x10bda4){return new Promise((_0x375267,_0x51f1ea)=>{const _0x58816f=a0_0x5279,_0x50177b=_0x1327a2[_0x58816f(0x728)](async()=>{const _0x214f67=_0x58816f;try{if(!_0x4ff873[_0x214f67(0x700)]||!_0x4ff873['asyncEndpointMethod'])throw new Error(_0x214f67(0xa76));const _0x37ec12={};if(_0x4ff873[_0x214f67(0x1f6)]){for(const _0x3f90bd of _0x4ff873[_0x214f67(0x1f6)])_0x37ec12[_0x3f90bd[_0x214f67(0x8c6)]]=_0x3f90bd[_0x214f67(0x69e)];}const _0x2023c8=_0x4ff873[_0x214f67(0x700)]['replace']('@id',_0x10bda4),_0x56e935=await fetch(_0x2023c8,{'method':_0x4ff873[_0x214f67(0x2a0)],'headers':_0x37ec12});if(0xc8===_0x56e935[_0x214f67(0x50e)]){const _0x2b0f61=await _0x56e935[_0x214f67(0x67c)]();_0x50177b(),_0x375267(_0x2b0f61);}_0x56e935[_0x214f67(0x50e)]>=0x190&&(console['error'](_0x56e935[_0x214f67(0x66f)]),_0x50177b(),_0x51f1ea(new Error(_0x56e935[_0x214f67(0x66f)])));}catch(_0x12fca1){console[_0x214f67(0x998)](_0x12fca1),_0x50177b(),_0x51f1ea(_0x12fca1);}},_0x3595af);});}(_0x16c5f0,_0x3d45d4['id'])),_0x469449(0x5b3)!=typeof _0x3d45d4&&(_0x3d45d4=JSON[_0x469449(0x801)](_0x3d45d4)),_0x52ba77['trace']({'jobType':_0xb9f1cc['Skill'],'type':_0x27f5cc['ExecuteCustomSkill'],'jobId':_0x5759b8,'agentId':_0x4946ff,'threadId':_0x1b08ec,'blockId':_0x16c5f0['id'],'traceLevel':_0x28ead7[_0x469449(0x206)],'startTime':_0xe5b7c6,'timestamp':Date[_0x469449(0x3f4)](),'status':_0x469449(0x603),'skillName':_0x16c5f0['name'],'params':_0x1a8a67,'result':_0x3d45d4}),_0x16c5f0[_0x469449(0xa3d)]?.[_0x469449(0x76b)](_0x4f0fba=>_0x4f0fba['type']===_0x820e81['Context'])?(_0x2e1c47(_0x3d45d4,_0x16c5f0,_0xeee61),_0x469449(0x40c)):_0x3d45d4;}throw new Error(_0x3245f0[_0x469449(0x66f)]);}catch(_0x1a2c37){console[_0x469449(0x998)](_0x1a2c37);const _0xf5d647=_0x1a2c37 instanceof Error?_0x1a2c37[_0x469449(0x1e2)]:'Error\x20fetching\x20URL';return _0x52ba77[_0x469449(0x286)]({'jobType':_0xb9f1cc[_0x469449(0x550)],'type':_0x27f5cc['ExecuteCustomSkill'],'jobId':_0x5759b8,'blockId':_0x16c5f0['id'],'threadId':_0x1b08ec,'traceLevel':_0x28ead7['Info'],'startTime':_0xe5b7c6,'timestamp':Date['now'](),'agentId':_0x4946ff,'status':_0x469449(0x998),'skillName':_0x16c5f0[_0x469449(0x8c6)],'params':_0x1a8a67??{},'result':_0xf5d647}),_0xf5d647;}}};}function _0x563ef7(_0x57466c,_0x255fe3,_0x5eb87a,_0x287dc2,_0x3a1669,_0x243289=!0x0){const _0x89a503=_0x332466,_0x4d070f='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x24c31e={'url':{'type':_0x57c18a[_0x89a503(0x8b1)][_0x89a503(0x580)]},'page':{'type':_0x57c18a[_0x89a503(0x8b1)][_0x89a503(0x4c4)]}};return _0x52ba77[_0x89a503(0x286)]({'jobType':_0xb9f1cc[_0x89a503(0x2e8)],'type':_0x12920e[_0x89a503(0x23c)],'jobId':_0x57466c,'agentId':_0x255fe3,'threadId':_0x5eb87a,'traceLevel':_0x28ead7[_0x89a503(0x206)],'startTime':Date[_0x89a503(0x3f4)](),'timestamp':Date[_0x89a503(0x3f4)](),'status':_0x89a503(0x603),'function':_0x27f5cc[_0x89a503(0x57c)],'params':_0x24c31e,'functionDescription':_0x4d070f}),{'description':_0x4d070f,'params':_0x24c31e,'callback':async _0x36266e=>{const _0x570b88=_0x89a503,_0x8b0d2f=Date['now']();try{if(_0x3a1669&&(await _0x1327a2[_0x570b88(0x908)](0x1),_0x3a1669[_0x570b88(0x611)]({'output':_0x570b88(0x30d)+_0x36266e?.[_0x570b88(0x2c3)]+'`\x0a\x0a','type':_0x570b88(0x7e3)})),_0x570b88(0x5b3)!=typeof _0x36266e?.['url'])throw new Error(_0x570b88(0x69a));const _0xb6b2c=_0x36266e[_0x570b88(0x2c3)];if([_0x570b88(0x839),_0x570b88(0x6ba),_0x570b88(0x33f),_0x570b88(0x299),_0x570b88(0x7be),_0x570b88(0x7f2),'.xlsx'][_0x570b88(0x76b)](_0x1a4d42=>_0xb6b2c['endsWith'](_0x1a4d42)))throw new Error(_0x570b88(0x492));const _0x1d4540=await fetch(_0xb6b2c),_0x659db3=await _0x1d4540[_0x570b88(0x644)]();let _0x3ff29d=_0x659db3;if(_0x243289){const _0x2d0337=_0x659db3['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x525fa4=_0x2d0337?_0x2d0337[0x1]:_0x659db3,_0x46eb39=_0x525fa4[_0x570b88(0x706)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')['replace'](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x570b88(0x706)](/<br\s*\/?>/gi,'\x20')[_0x570b88(0x706)](/&nbsp;/g,'\x20');_0x3ff29d=_0x46eb39[_0x570b88(0x706)](/<\/?[^>]+(>|$)/g,'')['replace'](/\s\s+/g,'\x20')[_0x570b88(0x51c)]();}const _0x326517=_0x570b88(0x4c3)==typeof _0x36266e[_0x570b88(0x9fd)]?_0x36266e[_0x570b88(0x9fd)]:0x1,_0x251b68=Math[_0x570b88(0x6d9)](_0x3ff29d[_0x570b88(0x65d)]/_0x41ab9b);return _0x3ff29d['length']>_0x41ab9b&&(_0x3ff29d=_0x3ff29d[_0x570b88(0x2b3)]((_0x326517-0x1)*_0x41ab9b,(_0x326517-0x1)*_0x41ab9b+_0x41ab9b)+'More\x20content\x20available\x20on\x20page\x20'+(_0x326517+0x1)+'.Total\x20pages\x20available:\x20'+_0x251b68+'.'),_0x52ba77['trace']({'jobType':_0xb9f1cc['Skill'],'type':_0x27f5cc['FetchUrl'],'jobId':_0x57466c,'agentId':_0x255fe3,'threadId':_0x5eb87a,'blockId':_0x287dc2,'traceLevel':_0x28ead7[_0x570b88(0x206)],'startTime':_0x8b0d2f,'timestamp':Date[_0x570b88(0x3f4)](),'status':_0x1d4540['ok']?'success':_0x570b88(0x998),'url':_0x36266e[_0x570b88(0x2c3)],'page':_0x326517,'totalPages':_0x251b68,'response':_0x3ff29d}),_0x3ff29d;}catch(_0x4e4d6e){console[_0x570b88(0x998)](_0x4e4d6e);const _0x2165fd=_0x4e4d6e instanceof Error?_0x4e4d6e['message']:_0x570b88(0x438);return _0x52ba77[_0x570b88(0x286)]({'jobType':_0xb9f1cc[_0x570b88(0x550)],'type':_0x27f5cc['FetchUrl'],'jobId':_0x57466c,'blockId':_0x287dc2,'threadId':_0x5eb87a,'traceLevel':_0x28ead7[_0x570b88(0x206)],'startTime':_0x8b0d2f,'timestamp':Date[_0x570b88(0x3f4)](),'agentId':_0x255fe3,'status':_0x570b88(0x998),'errorDetails':_0x4564c8(_0x4e4d6e),'url':_0x36266e?.[_0x570b88(0x2c3)]??'','page':0x0,'totalPages':0x0,'response':_0x2165fd}),_0x2165fd;}}};}async function _0x45e808(_0x30ed22,_0x721b44,_0x24a5a0,_0x40393a,_0x449966,_0x3fa688,_0x281744,_0x5b7aff){const _0x20fc5f=_0x332466,_0x16c08d=new Map(),_0x2efa78=_0x3fa688[_0x20fc5f(0x962)](_0x5f3094=>_0x5f3094[_0x20fc5f(0xa3d)]?.[_0x20fc5f(0x405)](_0xda188f=>_0xda188f['uid']===_0x449966['uid']&&(_0xda188f['type']===_0x820e81[_0x20fc5f(0x678)]||_0xda188f[_0x20fc5f(0x5a0)]===_0x820e81[_0x20fc5f(0x550)])));for(const _0x41074a of _0x2efa78)_0x41074a[_0x20fc5f(0x5a0)]===_0x5a247f[_0x20fc5f(0x678)]||_0x41074a[_0x20fc5f(0x5a0)]===_0x5a247f[_0x20fc5f(0x2f7)]?_0x16c08d[_0x20fc5f(0x72f)](_0x20fc5f(0x673)+_0x41074a[_0x20fc5f(0x8c6)][_0x20fc5f(0x706)](/[^a-zA-Z]/g,''),_0x1a1e2e(_0x30ed22,_0x721b44,_0x24a5a0[_0x20fc5f(0x565)],_0x40393a,_0x41074a,_0x281744,_0x5b7aff)):_0x41074a['type']===_0x5a247f[_0x20fc5f(0x3cd)]||_0x41074a[_0x20fc5f(0x5a0)]===_0x5a247f[_0x20fc5f(0x6cd)]?_0x16c08d[_0x20fc5f(0x72f)](_0x20fc5f(0x868)+_0x41074a[_0x20fc5f(0x8c6)][_0x20fc5f(0x706)](/[^a-zA-Z]/g,''),_0x32ce6d(_0x30ed22,_0x721b44,_0x24a5a0,_0x40393a,_0x41074a,_0x3fa688,_0x281744,_0x5b7aff)):_0x41074a[_0x20fc5f(0x5a0)]===_0x5a247f[_0x20fc5f(0x660)]?_0x16c08d[_0x20fc5f(0x72f)](_0x41074a['name'][_0x20fc5f(0x706)](/[^a-zA-Z]/g,''),_0x2e4593(_0x30ed22,_0x721b44,_0x24a5a0['threadId'],_0x41074a,_0x3fa688,_0x5b7aff)):_0x16c08d[_0x20fc5f(0x72f)](_0x16a157(_0x41074a),await _0x1554b4(_0x30ed22,_0x721b44,_0x24a5a0,_0x40393a,_0x41074a,_0x3fa688,_0x281744,_0x5b7aff));return _0x16c08d;}function _0x16a157(_0x11493c){const _0x3555b6=_0x332466;switch(_0x11493c[_0x3555b6(0x5a0)]){case _0x5a247f[_0x3555b6(0x96c)]:return'searchOnPerplexity';case _0x5a247f[_0x3555b6(0x862)]:return'executeJavascriptCodeSnippet';case _0x5a247f['QueryFile']:return'queryFile';case _0x5a247f[_0x3555b6(0xa04)]:return _0x3555b6(0xa36);case _0x5a247f[_0x3555b6(0x8fb)]:case _0x5a247f[_0x3555b6(0x4c9)]:return _0x3555b6(0x1af);case _0x5a247f[_0x3555b6(0x90a)]:return _0x3555b6(0x567);}throw new Error('Unknown\x20skill\x20type');}async function _0x1554b4(_0x207d3d,_0x104038,_0x2c4dca,_0x17daae,_0x46a858,_0x517a0e,_0x3c6047,_0x35c006){const _0x15a62d=_0x332466;switch(_0x46a858[_0x15a62d(0x5a0)]){case _0x5a247f[_0x15a62d(0x96c)]:return function(_0x28390c,_0x3eb94f,_0x14c4f8,_0x3b8000,_0x5950b7,_0x4e568c,_0x1688b4){const _0x44c902=_0x15a62d,_0x41f32c=_0x44c902(0x25a),_0x2d8301={'query':{'type':_0x57c18a[_0x44c902(0x8b1)][_0x44c902(0x580)]}};return _0x52ba77[_0x44c902(0x286)]({'jobType':_0xb9f1cc[_0x44c902(0x2e8)],'type':_0x12920e[_0x44c902(0x23c)],'jobId':_0x28390c,'agentId':_0x3eb94f,'threadId':_0x14c4f8,'traceLevel':_0x28ead7[_0x44c902(0x206)],'startTime':Date[_0x44c902(0x3f4)](),'timestamp':Date[_0x44c902(0x3f4)](),'status':_0x44c902(0x603),'function':_0x27f5cc[_0x44c902(0x388)],'params':_0x2d8301,'functionDescription':_0x41f32c}),{'description':_0x41f32c,'params':_0x2d8301,'callback':async _0x1bf18a=>{const _0x50f712=_0x44c902,_0x17740a=Date[_0x50f712(0x3f4)]();try{if(_0x1688b4&&(await _0x1327a2[_0x50f712(0x908)](0x1),_0x1688b4[_0x50f712(0x611)]({'output':_0x50f712(0x26e)+_0x1bf18a?.[_0x50f712(0x508)]+_0x50f712(0x5bd),'type':'prompt'})),!_0x4e568c[_0x50f712(0x928)])throw new Error('AI\x20Search\x20connector\x20not\x20set');if(_0x50f712(0x5b3)!=typeof _0x1bf18a?.[_0x50f712(0x508)])throw new Error(_0x50f712(0x3b2));const _0xb41240=await _0x4e568c[_0x50f712(0x928)][_0x50f712(0x7ba)](_0x1bf18a[_0x50f712(0x508)],_0x5950b7);return _0x52ba77['trace']({'jobType':_0xb9f1cc[_0x50f712(0x550)],'type':_0x27f5cc[_0x50f712(0x388)],'jobId':_0x28390c,'agentId':_0x3eb94f,'threadId':_0x14c4f8,'blockId':_0x3b8000,'traceLevel':_0x28ead7[_0x50f712(0x206)],'startTime':_0x17740a,'timestamp':Date[_0x50f712(0x3f4)](),'status':_0x50f712(0x603),'query':_0x1bf18a[_0x50f712(0x508)],'results':_0xb41240}),_0xb41240;}catch(_0x16f373){return console[_0x50f712(0x998)](_0x16f373),_0x52ba77['trace']({'jobType':_0xb9f1cc[_0x50f712(0x550)],'type':_0x27f5cc[_0x50f712(0x388)],'jobId':_0x28390c,'blockId':_0x3b8000,'traceLevel':_0x28ead7[_0x50f712(0x206)],'startTime':_0x17740a,'timestamp':Date['now'](),'status':_0x50f712(0x998),'errorDetails':_0x4564c8(_0x16f373),'agentId':_0x3eb94f,'threadId':_0x14c4f8,'query':_0x1bf18a?.[_0x50f712(0x508)]??'','results':_0x50f712(0x9af)}),_0x16f373 instanceof Error?_0x16f373[_0x50f712(0x1e2)]:_0x50f712(0x9af);}}};}(_0x207d3d,_0x104038,_0x2c4dca[_0x15a62d(0x565)],_0x46a858['id'],_0x3c6047['aiSearchApiKey'],_0x3c6047,_0x35c006);case _0x5a247f['Code']:return function(_0x2b60f6,_0x10688d,_0x56d124,_0x11d903,_0x2a9758){const _0x155234=_0x15a62d,_0x25dc75='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x4b0baf={'code':{'type':_0x57c18a[_0x155234(0x8b1)][_0x155234(0x580)]}};return _0x52ba77[_0x155234(0x286)]({'jobType':_0xb9f1cc['JobContext'],'type':_0x12920e[_0x155234(0x23c)],'jobId':_0x2b60f6,'agentId':_0x10688d,'threadId':_0x56d124,'traceLevel':_0x28ead7[_0x155234(0x206)],'startTime':Date[_0x155234(0x3f4)](),'timestamp':Date[_0x155234(0x3f4)](),'status':_0x155234(0x603),'function':_0x27f5cc[_0x155234(0x252)],'params':_0x4b0baf,'functionDescription':_0x25dc75}),{'description':_0x25dc75,'params':_0x4b0baf,'callback':async _0x2eb7c4=>{const _0xecdbf8=_0x155234,_0x11a8ca=Date[_0xecdbf8(0x3f4)]();try{if(_0x2a9758&&(await _0x1327a2[_0xecdbf8(0x908)](0x1),_0x2a9758['emit']({'output':_0xecdbf8(0x18c),'type':'prompt'})),_0xecdbf8(0x5b3)!=typeof _0x2eb7c4?.['code'])throw new Error('Code\x20is\x20required');const _0x59655d=Function(''+_0x2eb7c4?.[_0xecdbf8(0xaae)])();let _0x2f3722='';try{_0x2f3722=JSON[_0xecdbf8(0x801)](_0x59655d);}catch{_0x2f3722=_0x59655d[_0xecdbf8(0x83b)]();}return _0x52ba77[_0xecdbf8(0x286)]({'jobType':_0xb9f1cc[_0xecdbf8(0x550)],'type':_0x27f5cc['ExecuteCode'],'agentId':_0x10688d,'threadId':_0x56d124,'jobId':_0x2b60f6,'blockId':_0x11d903,'traceLevel':_0x28ead7['Info'],'startTime':_0x11a8ca,'timestamp':Date[_0xecdbf8(0x3f4)](),'status':_0xecdbf8(0x603),'code':_0x2eb7c4[_0xecdbf8(0xaae)],'result':_0x2f3722}),_0x59655d;}catch(_0x4421cd){return console[_0xecdbf8(0x998)](_0x4421cd),_0x52ba77[_0xecdbf8(0x286)]({'jobType':_0xb9f1cc[_0xecdbf8(0x550)],'type':_0x27f5cc[_0xecdbf8(0x252)],'jobId':_0x2b60f6,'blockId':_0x11d903,'traceLevel':_0x28ead7['Info'],'startTime':_0x11a8ca,'timestamp':Date[_0xecdbf8(0x3f4)](),'status':_0xecdbf8(0x998),'errorDetails':_0x4564c8(_0x4421cd),'agentId':_0x10688d,'threadId':_0x56d124,'code':_0x2eb7c4?.[_0xecdbf8(0xaae)]??'','result':'Error\x20executing\x20code'}),_0x4421cd instanceof Error?_0x4421cd[_0xecdbf8(0x1e2)]:_0xecdbf8(0x764);}}};}(_0x207d3d,_0x104038,_0x2c4dca['threadId'],_0x46a858['id'],_0x35c006);case _0x5a247f[_0x15a62d(0x3fe)]:return async function(_0x3d5f49,_0x48d227,_0x4184b1,_0x7b6dfb,_0x5ccb74,_0x562038,_0x163c24,_0x340f96){const _0x21193c=_0x15a62d;if(!_0x5ccb74[_0x21193c(0x2bb)]?.[_0x21193c(0xacc)]||0x0===_0x5ccb74[_0x21193c(0x2bb)][_0x21193c(0xacc)][_0x21193c(0x65d)])throw new Error(_0x21193c(0x220));if(_0x5ccb74[_0x21193c(0x2bb)][_0x21193c(0xacc)][_0x21193c(0x65d)]>0x1)throw new Error('Multiple\x20files\x20found');const _0x58e1f6=[',',';','\x09','|',':'],_0x47b331=['\x22','\x27'],_0x591b4a=await _0x5ccb74['accumulated'][_0x21193c(0xacc)][0x0]['text'](),_0x411418=_0x591b4a['split']('\x0a')[0x0];let _0x3d970b=null,_0x3e372f=null,_0x168188=0x0;for(const _0xe9dfa4 of _0x58e1f6){const _0x2a320f=(_0x411418[_0x21193c(0x9de)](new RegExp('\x5c'+_0xe9dfa4,'g'))||[])[_0x21193c(0x65d)];_0x2a320f>_0x168188&&(_0x168188=_0x2a320f,_0x3d970b=_0xe9dfa4);}_0x3d970b||(_0x3d970b=','),_0x168188=0x0;for(const _0x2dd79c of _0x47b331){const _0x38696b=(_0x411418[_0x21193c(0x9de)](new RegExp('\x5c'+_0x2dd79c,'g'))||[])[_0x21193c(0x65d)];_0x38696b>_0x168188&&(_0x168188=_0x38696b,_0x3e372f=_0x2dd79c);}_0x3e372f||(_0x3e372f='\x22');const _0x34681f=_0x21193c(0x6ad)+_0x411418['split'](_0x3d970b)[_0x21193c(0x7d5)](',\x20'),_0x25fb12={'query':{'type':_0x57c18a[_0x21193c(0x8b1)]['String']}};return _0x52ba77['trace']({'jobType':_0xb9f1cc[_0x21193c(0x2e8)],'type':_0x12920e['LoadSkillFunction'],'jobId':_0x3d5f49,'agentId':_0x48d227,'threadId':_0x4184b1['threadId'],'traceLevel':_0x28ead7[_0x21193c(0x206)],'startTime':Date[_0x21193c(0x3f4)](),'timestamp':Date[_0x21193c(0x3f4)](),'status':_0x21193c(0x603),'function':_0x27f5cc['QueryFile'],'params':_0x25fb12,'functionDescription':_0x34681f}),{'description':_0x34681f,'params':_0x25fb12,'callback':async _0x654cdc=>{const _0x507637=_0x21193c,_0x41d9c7=Date[_0x507637(0x3f4)]();try{if(_0x340f96&&(await _0x1327a2[_0x507637(0x908)](0x1),_0x340f96[_0x507637(0x611)]({'output':'\x0a\x0a`Executing\x20query`\x0a\x0a','type':_0x507637(0x7e3)})),!_0x163c24['queryFileConnector'])throw new Error('Query\x20file\x20connector\x20not\x20set');if(_0x507637(0x5b3)!=typeof _0x654cdc?.[_0x507637(0x508)])throw new Error('Query\x20is\x20required');if(!_0x654cdc[_0x507637(0x508)][_0x507637(0x988)](_0x507637(0x87a)))throw new Error(_0x507637(0x60e));const _0x591569=await _0x163c24[_0x507637(0x258)][_0x507637(0x7d1)](_0x591b4a,_0x654cdc[_0x507637(0x508)],{'headers':!0x0,'quote':_0x3e372f,'separator':_0x3d970b});if(_0x52ba77['trace']({'jobType':_0xb9f1cc[_0x507637(0x550)],'type':_0x27f5cc[_0x507637(0x3fe)],'jobId':_0x3d5f49,'agentId':_0x48d227,'threadId':_0x4184b1['threadId'],'blockId':_0x5ccb74['id'],'traceLevel':_0x28ead7[_0x507637(0x206)],'startTime':_0x41d9c7,'timestamp':Date['now'](),'status':_0x507637(0x603),'query':_0x654cdc[_0x507637(0x508)],'results':_0x591569[_0x507637(0x2b3)](0x0,0x3e8)}),_0x5ccb74[_0x507637(0xa3d)]?.['some'](_0x2d0e47=>_0x2d0e47[_0x507637(0x5a0)]===_0x820e81[_0x507637(0x74d)])){const _0x25ed07=JSON[_0x507637(0x9d8)](_0x591569);let _0x1ae0e9='';if(_0x25ed07[_0x507637(0x65d)]>0x0){const _0x4c2fe8=Object[_0x507637(0x4be)](_0x25ed07[0x0]);_0x1ae0e9=_0x4c2fe8['map'](_0xf1e1d5=>'\x22'+_0xf1e1d5+'\x22')['join'](',')+'\x0a';for(const _0x5ca9b2 of _0x25ed07)_0x1ae0e9+=_0x4c2fe8[_0x507637(0x604)](_0x3f7d0f=>'\x22'+_0x5ca9b2[_0x3f7d0f]+'\x22')['join'](',')+'\x0a';}const _0x30f970=new File([_0x1ae0e9],_0x507637(0x18f),{'type':'text/csv'});await _0x4c5734(_0x3d5f49,[_0x30f970],_0x4184b1,_0x7b6dfb,_0x5ccb74,_0x562038,_0x163c24,_0x340f96);}return _0x591569['substring'](0x0,0x3e8);}catch(_0x3fc098){return console[_0x507637(0x998)](_0x3fc098),_0x52ba77['trace']({'jobType':_0xb9f1cc[_0x507637(0x550)],'type':_0x27f5cc['QueryFile'],'jobId':_0x3d5f49,'blockId':_0x5ccb74['id'],'traceLevel':_0x28ead7[_0x507637(0x206)],'startTime':_0x41d9c7,'timestamp':Date[_0x507637(0x3f4)](),'status':_0x507637(0x998),'errorDetails':_0x4564c8(_0x3fc098),'agentId':_0x48d227,'threadId':_0x4184b1[_0x507637(0x565)],'query':_0x654cdc?.[_0x507637(0x508)]??'','results':_0x507637(0x9af)}),_0x3fc098 instanceof Error?_0x3fc098['message']:_0x507637(0x44b);}}};}(_0x207d3d,_0x104038,_0x2c4dca,_0x17daae,_0x46a858,_0x517a0e,_0x3c6047,_0x35c006);case _0x5a247f[_0x15a62d(0xa04)]:return function(_0x22c0fd,_0x2e1c69,_0xd95d0a,_0xe2d727,_0x3f9671,_0x35213e,_0x3c208e){const _0x1bec7e=_0x15a62d,_0xe3d7af='Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x18bc55={'query':{'type':_0x57c18a[_0x1bec7e(0x8b1)][_0x1bec7e(0x580)]}};return _0x52ba77[_0x1bec7e(0x286)]({'jobType':_0xb9f1cc['JobContext'],'type':_0x12920e[_0x1bec7e(0x23c)],'jobId':_0x22c0fd,'agentId':_0x2e1c69,'threadId':_0xd95d0a,'traceLevel':_0x28ead7[_0x1bec7e(0x206)],'startTime':Date[_0x1bec7e(0x3f4)](),'timestamp':Date[_0x1bec7e(0x3f4)](),'status':_0x1bec7e(0x603),'function':_0x27f5cc[_0x1bec7e(0x78d)],'params':_0x18bc55,'functionDescription':_0xe3d7af}),{'description':_0xe3d7af,'params':_0x18bc55,'callback':async _0x2d374e=>{const _0x3fe80e=_0x1bec7e,_0x59f4e4=Date['now']();try{if(_0x3c208e&&(await _0x1327a2[_0x3fe80e(0x908)](0x1),_0x3c208e[_0x3fe80e(0x611)]({'output':'\x0a\x0a`Searching\x20on\x20Google\x20for\x20'+_0x2d374e?.[_0x3fe80e(0x508)]+_0x3fe80e(0x5bd),'type':_0x3fe80e(0x7e3)})),!_0x35213e['searchConnector'])throw new Error(_0x3fe80e(0x663));if(_0x3fe80e(0x5b3)!=typeof _0x2d374e?.[_0x3fe80e(0x508)])throw new Error(_0x3fe80e(0x3b2));const _0x800ea4=await _0x35213e[_0x3fe80e(0x51d)][_0x3fe80e(0x7ba)](_0x2d374e['query'],_0x3f9671,_0x2a816f[_0x3fe80e(0x534)][_0x3fe80e(0x66c)]);let _0x1a01d0='';for(const _0x40a74a of _0x800ea4)_0x1a01d0+=_0x40a74a[_0x3fe80e(0x9e8)]+_0x3fe80e(0x23e)+_0x40a74a[_0x3fe80e(0x2c3)]+'\x0a'+_0x40a74a[_0x3fe80e(0x73a)]+'\x0a\x0a';return _0x52ba77[_0x3fe80e(0x286)]({'jobType':_0xb9f1cc[_0x3fe80e(0x550)],'type':_0x27f5cc['SearchGoogle'],'jobId':_0x22c0fd,'agentId':_0x2e1c69,'threadId':_0xd95d0a,'blockId':_0xe2d727,'traceLevel':_0x28ead7[_0x3fe80e(0x206)],'startTime':_0x59f4e4,'timestamp':Date['now'](),'status':_0x3fe80e(0x603),'query':_0x2d374e[_0x3fe80e(0x508)],'results':_0x1a01d0}),_0x1a01d0;}catch(_0x352158){return console['error'](_0x352158),_0x52ba77[_0x3fe80e(0x286)]({'jobType':_0xb9f1cc[_0x3fe80e(0x550)],'type':_0x27f5cc[_0x3fe80e(0x78d)],'jobId':_0x22c0fd,'blockId':_0xe2d727,'traceLevel':_0x28ead7[_0x3fe80e(0x206)],'startTime':_0x59f4e4,'timestamp':Date[_0x3fe80e(0x3f4)](),'status':_0x3fe80e(0x998),'errorDetails':_0x4564c8(_0x352158),'agentId':_0x2e1c69,'threadId':_0xd95d0a,'query':_0x2d374e?.[_0x3fe80e(0x508)]??'','results':_0x3fe80e(0x9af)}),_0x352158 instanceof Error?_0x352158[_0x3fe80e(0x1e2)]:'Error\x20searching';}}};}(_0x207d3d,_0x104038,_0x2c4dca['threadId'],_0x46a858['id'],_0x3c6047[_0x15a62d(0x9a8)],_0x3c6047,_0x35c006);case _0x5a247f[_0x15a62d(0x8fb)]:return _0x563ef7(_0x207d3d,_0x104038,_0x2c4dca['threadId'],_0x46a858['id'],_0x35c006);case _0x5a247f[_0x15a62d(0x4c9)]:return _0x563ef7(_0x207d3d,_0x104038,_0x2c4dca['threadId'],_0x46a858['id'],_0x35c006,!0x1);case _0x5a247f['WriteFile']:return async function(_0x38335e,_0x8b5204,_0x47d3a2,_0x46af09,_0xe62602,_0x29e500,_0x14cde3,_0x1c239a){const _0x1b316d=_0x15a62d,_0x41e9dd=_0x1b316d(0x716),_0x4e293d={'text':{'type':_0x57c18a[_0x1b316d(0x8b1)][_0x1b316d(0x580)]}};return _0x52ba77[_0x1b316d(0x286)]({'jobType':_0xb9f1cc['JobContext'],'type':_0x12920e['LoadSkillFunction'],'jobId':_0x38335e,'agentId':_0x8b5204,'threadId':_0x47d3a2[_0x1b316d(0x565)],'traceLevel':_0x28ead7[_0x1b316d(0x206)],'startTime':Date[_0x1b316d(0x3f4)](),'timestamp':Date[_0x1b316d(0x3f4)](),'status':_0x1b316d(0x603),'function':_0x27f5cc[_0x1b316d(0x90a)],'params':_0x4e293d,'functionDescription':_0x41e9dd}),{'description':_0x41e9dd,'params':_0x4e293d,'callback':async _0x4f498e=>{const _0x1e1c77=_0x1b316d,_0x3dcec1=Date[_0x1e1c77(0x3f4)]();try{if(_0x1c239a&&(await _0x1327a2['wait'](0x1),_0x1c239a[_0x1e1c77(0x611)]({'output':_0x1e1c77(0x6cb),'type':_0x1e1c77(0x7e3)})),_0x1e1c77(0x5b3)!=typeof _0x4f498e?.['text'])throw new Error(_0x1e1c77(0x93b));if(_0x52ba77['trace']({'jobType':_0xb9f1cc[_0x1e1c77(0x550)],'type':_0x27f5cc[_0x1e1c77(0x90a)],'jobId':_0x38335e,'agentId':_0x8b5204,'threadId':_0x47d3a2[_0x1e1c77(0x565)],'blockId':_0xe62602['id'],'traceLevel':_0x28ead7[_0x1e1c77(0x206)],'startTime':_0x3dcec1,'timestamp':Date['now'](),'status':'success','content':_0x4f498e[_0x1e1c77(0x644)]}),_0xe62602[_0x1e1c77(0xa3d)]?.[_0x1e1c77(0x76b)](_0x54e48a=>_0x54e48a[_0x1e1c77(0x5a0)]===_0x820e81['File'])){const _0x3c63e7=new File([_0x4f498e[_0x1e1c77(0x644)]],'results.txt',{'type':_0x1e1c77(0x63f)});await _0x4c5734(_0x38335e,[_0x3c63e7],_0x47d3a2,_0x46af09,_0xe62602,_0x29e500,_0x14cde3,_0x1c239a);}return _0x1e1c77(0xab4);}catch(_0x60d322){return console[_0x1e1c77(0x998)](_0x60d322),_0x52ba77[_0x1e1c77(0x286)]({'jobType':_0xb9f1cc[_0x1e1c77(0x550)],'type':_0x27f5cc[_0x1e1c77(0x90a)],'jobId':_0x38335e,'blockId':_0xe62602['id'],'traceLevel':_0x28ead7[_0x1e1c77(0x206)],'startTime':_0x3dcec1,'timestamp':Date['now'](),'status':_0x1e1c77(0x998),'errorDetails':_0x4564c8(_0x60d322),'agentId':_0x8b5204,'threadId':_0x47d3a2[_0x1e1c77(0x565)],'content':_0x1e1c77(0x5b3)==typeof _0x4f498e?.[_0x1e1c77(0x644)]?_0x4f498e[_0x1e1c77(0x644)]:''}),_0x60d322 instanceof Error?_0x60d322[_0x1e1c77(0x1e2)]:_0x1e1c77(0x44b);}}};}(_0x207d3d,_0x104038,_0x2c4dca,_0x17daae,_0x46a858,_0x517a0e,_0x3c6047,_0x35c006);}throw new Error(_0x15a62d(0x2fa));}function _0x4564c8(_0x3ba2c8){const _0x23d5df=_0x332466;try{return JSON[_0x23d5df(0x801)](_0x3ba2c8);}catch(_0x2162f0){return _0x3ba2c8 instanceof Error?_0x3ba2c8[_0x23d5df(0x83b)]():_0x23d5df(0x9ff);}}async function _0x2fa441(_0x1a5ada,_0x2854b0,_0x23aebf,_0x5cb665,_0x271a99,_0x51b7a1,_0x514d6d,_0x3edbcd,_0x16ff76){const _0x20df0f=_0x332466;if(_0x51b7a1['accumulated']||(_0x51b7a1['accumulated']={}),_0x2854b0===_0x820e81['Text']&&_0x20df0f(0x5b3)==typeof _0x23aebf&&(_0x51b7a1[_0x20df0f(0x2bb)][_0x20df0f(0x7e3)]=_0x23aebf),_0x51b7a1[_0x20df0f(0x356)]=_0x51b7a1['timesCalled']?_0x51b7a1['timesCalled']+0x1:0x1,_0x9eeba2(_0x51b7a1,_0x514d6d)>_0x51b7a1[_0x20df0f(0x356)])return;if(_0x833509[_0x20df0f(0x5a6)](_0x20df0f(0x749)+_0x51b7a1['name'],_0x51b7a1[_0x20df0f(0x356)]),!_0x51b7a1['accumulated']['prompt'])throw new Error(_0x20df0f(0x8e1)+_0x51b7a1['name']);const _0x9515e4=_0x3edbcd['models']['find'](_0x35a924=>_0x35a924['id']===_0x51b7a1[_0x20df0f(0x4e1)]);if(!_0x9515e4)throw new Error(_0x20df0f(0x1c9));if(!_0x3edbcd[_0x20df0f(0x2d2)][_0x20df0f(0x405)](_0x37d35e=>_0x37d35e[_0x20df0f(0x267)]()===_0x9515e4[_0x20df0f(0xa1a)]))throw new Error('No\x20connector\x20found\x20for\x20model');_0x16ff76&&_0x16ff76[_0x20df0f(0x611)]({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x51b7a1[_0x20df0f(0x8c6)]+_0x20df0f(0x5bd),'type':_0x20df0f(0x7e3)});const _0x681d60=Date[_0x20df0f(0x3f4)](),_0xd07462=(0x0,_0x74103e['v4'])(),_0x9b163e=_0x20df0f(0x7c2)===_0x51b7a1[_0x20df0f(0x18a)],_0x3e9b76=_0x16ff76&&!_0x9b163e?await async function(_0x4c7633,_0x2a4d40,_0x44ef61,_0x3719a9,_0x5809ef,_0x1dc2c0,_0x2e38df,_0x1149f8){const _0x3fdf6c=_0x20df0f,_0x3d21ab=_0x1149f8['models'][_0x3fdf6c(0x405)](_0x1c2037=>_0x1c2037['id']===_0x5809ef[_0x3fdf6c(0x4e1)]);if(!_0x3d21ab)throw new Error(_0x3fdf6c(0x1c9));const _0x86187c=_0x1149f8['generativeAIWorkerConnectors'][_0x3fdf6c(0x405)](_0x56e481=>_0x56e481[_0x3fdf6c(0x267)]()===_0x3d21ab[_0x3fdf6c(0xa1a)]);if(!_0x86187c)throw new Error(_0x3fdf6c(0x340));if(!_0x5809ef[_0x3fdf6c(0x2bb)]||!_0x5809ef[_0x3fdf6c(0x2bb)][_0x3fdf6c(0x7e3)])throw new Error(_0x3fdf6c(0x7bf));const _0x4ffc32={'type':_0x3fdf6c(0x7e3),'output':''},_0xfe6df6=await _0x45e808(_0x4c7633,_0x2a4d40,_0x44ef61,_0x3719a9,_0x5809ef,_0x1dc2c0,_0x1149f8,_0x2e38df);for await(const _0x46f9da of _0x86187c[_0x3fdf6c(0x80b)]({'type':_0x44ef61[_0x3fdf6c(0x5a0)],'prompt':_0x335453(_0x5809ef[_0x3fdf6c(0x2bb)][_0x3fdf6c(0x7e3)],_0x5809ef),'instructions':_0xa721e1(_0x44ef61[_0x3fdf6c(0x6e8)]??'',_0x5809ef,_0x3d21ab),'reasoning':_0x5809ef[_0x3fdf6c(0x358)],'grammar':_0x5809ef[_0x3fdf6c(0x18a)],'temperature':_0x5809ef[_0x3fdf6c(0x60b)],'maxTokens':_0x5809ef[_0x3fdf6c(0x466)],'history':_0x44ef61[_0x3fdf6c(0x7bd)],'functions':_0xfe6df6,'threadId':_0x44ef61[_0x3fdf6c(0x565)]},{'model':_0x3d21ab,'sequences':Array['from'](_0xfe6df6[_0x3fdf6c(0x4be)]())[_0x3fdf6c(0x76b)](_0x5262a3=>_0x5262a3[_0x3fdf6c(0x423)](_0x3fdf6c(0x868)))?0x2:0x1}))_0x5809ef[_0x3fdf6c(0xa3d)]&&_0x5809ef[_0x3fdf6c(0xa3d)][_0x3fdf6c(0x76b)](_0x45d678=>{const _0x237234=_0x3fdf6c,_0x595699=_0x1dc2c0[_0x237234(0x405)](_0x4afe0b=>_0x4afe0b[_0x237234(0x355)]===_0x45d678[_0x237234(0x355)]);return!!_0x595699&&_0x45d678[_0x237234(0x5a0)]===_0x820e81[_0x237234(0x6aa)]&&_0x595699['type']===_0x5a247f[_0x237234(0x209)];})&&_0x2e38df[_0x3fdf6c(0x611)](_0x46f9da),_0x3fdf6c(0x5b3)==typeof _0x4ffc32['output']&&'string'==typeof _0x46f9da['output']&&(_0x4ffc32['output']+=_0x46f9da[_0x3fdf6c(0x798)]),_0x4ffc32[_0x3fdf6c(0x452)]=_0x46f9da[_0x3fdf6c(0x452)],_0x4ffc32[_0x3fdf6c(0x97c)]=_0x46f9da[_0x3fdf6c(0x97c)];return _0x4ffc32;}(_0x1a5ada,_0xd07462,_0x5cb665,_0x271a99,_0x51b7a1,_0x514d6d,_0x16ff76,_0x3edbcd):await async function(_0x2407a6,_0x446df0,_0x1b686a,_0x317193,_0x57d3c4,_0x1d63f2,_0x32431f){const _0x343ed0=_0x20df0f,_0x521cb6=_0x32431f[_0x343ed0(0x84d)]['find'](_0x10952a=>_0x10952a['id']===_0x57d3c4['modelId']);if(!_0x521cb6)throw new Error(_0x343ed0(0x1c9));const _0x5ae4a2=_0x32431f[_0x343ed0(0x2d2)][_0x343ed0(0x405)](_0x30288d=>_0x30288d[_0x343ed0(0x267)]()===_0x521cb6[_0x343ed0(0xa1a)]);if(!_0x5ae4a2)throw new Error(_0x343ed0(0x340));if(!_0x57d3c4[_0x343ed0(0x2bb)]||!_0x57d3c4['accumulated']['prompt'])throw new Error(_0x343ed0(0x7bf));const _0xf49e10=await _0x45e808(_0x2407a6,_0x446df0,_0x1b686a,_0x317193,_0x57d3c4,_0x1d63f2,_0x32431f);return _0x5ae4a2[_0x343ed0(0x446)]({'type':_0x343ed0(0x7e3),'prompt':_0x335453(_0x57d3c4[_0x343ed0(0x2bb)][_0x343ed0(0x7e3)],_0x57d3c4),'instructions':_0xa721e1(_0x1b686a[_0x343ed0(0x6e8)]??'',_0x57d3c4,_0x521cb6),'reasoning':_0x57d3c4[_0x343ed0(0x358)],'grammar':_0x57d3c4[_0x343ed0(0x18a)],'temperature':_0x57d3c4[_0x343ed0(0x60b)],'maxTokens':_0x57d3c4[_0x343ed0(0x466)],'history':_0x1b686a[_0x343ed0(0x7bd)],'functions':_0xf49e10,'threadId':_0x1b686a[_0x343ed0(0x565)]},{'model':_0x521cb6,'sequences':Array[_0x343ed0(0x639)](_0xf49e10[_0x343ed0(0x4be)]())[_0x343ed0(0x76b)](_0x47c212=>_0x47c212[_0x343ed0(0x423)](_0x343ed0(0x868)))?0x2:0x1});}(_0x1a5ada,_0xd07462,_0x5cb665,_0x271a99,_0x51b7a1,_0x514d6d,_0x3edbcd);if(_0x20df0f(0x5b3)!=typeof _0x3e9b76[_0x20df0f(0x798)])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');_0x271a99['inputTokens']+=_0x3e9b76[_0x20df0f(0x452)]??0x0,_0x271a99[_0x20df0f(0x97c)]+=_0x3e9b76[_0x20df0f(0x97c)]??0x0,_0x16ff76||_0x9b163e||(_0x271a99[_0x20df0f(0x798)]=_0x3e9b76['output']),_0x52ba77[_0x20df0f(0x286)]({'jobType':_0xb9f1cc[_0x20df0f(0x32f)],'type':_0x3de4db['IntermediateOutput'],'jobId':_0x1a5ada,'agentId':_0xd07462,'threadId':_0x5cb665[_0x20df0f(0x565)],'traceLevel':_0x28ead7[_0x20df0f(0x206)],'startTime':_0x681d60,'timestamp':Date[_0x20df0f(0x3f4)](),'blockId':_0x51b7a1['id'],'status':'success','output':_0x3e9b76[_0x20df0f(0x798)],'prompt':_0x51b7a1[_0x20df0f(0x2bb)]['prompt'],'agentName':_0x51b7a1[_0x20df0f(0x8c6)],'history':[],'instructions':''+_0x51b7a1[_0x20df0f(0x6e8)]+(_0x5cb665[_0x20df0f(0x6e8)]??''),'ragContext':_0x3e9b76[_0x20df0f(0x190)]??[],'inputTokens':_0x3e9b76[_0x20df0f(0x452)]??0x0,'outputTokens':_0x3e9b76[_0x20df0f(0x97c)]??0x0}),_0x2e1c47(_0x3e9b76[_0x20df0f(0x798)],_0x51b7a1,_0x514d6d),await _0x4c5734(_0x1a5ada,_0x3e9b76['output'],_0x5cb665,_0x271a99,_0x51b7a1,_0x514d6d,_0x3edbcd,_0x16ff76);}function _0x335453(_0x48ee8a,_0xdde596){const _0x4ceb54=_0x332466;if(!_0xdde596[_0x4ceb54(0x2bb)]||!_0xdde596[_0x4ceb54(0x2bb)][_0x4ceb54(0x190)])return _0x48ee8a;if(_0xdde596[_0x4ceb54(0x2bb)][_0x4ceb54(0x190)])for(const _0x26e893 of Object[_0x4ceb54(0x4be)](_0xdde596[_0x4ceb54(0x2bb)]['context'])){const _0x176b8d=_0xdde596[_0x4ceb54(0x2bb)]['context'][_0x26e893];_0x48ee8a=_0x176b8d instanceof Array?'<'+_0x26e893+_0x4ceb54(0xa45)+_0x176b8d['map'](_0xe7e655=>_0x4ceb54(0x3a1)+_0xe7e655[_0x4ceb54(0x399)]+'>'+_0xe7e655[_0x4ceb54(0x4cb)]+'</file:'+_0xe7e655['pathName']+'>')[_0x4ceb54(0x7d5)]('\x0a\x0a')+_0x4ceb54(0x939)+_0x26e893+'>\x0a\x0a'+_0x48ee8a:'<'+_0x26e893+'>'+_0x176b8d+'</'+_0x26e893+_0x4ceb54(0xa45)+_0x48ee8a;}return _0x48ee8a;}function _0xa721e1(_0xecd697,_0x130dfe,_0x1c1387){const _0x426ee3=_0x332466;let _0x2499fb='';return _0x1c1387[_0x426ee3(0x216)]&&''!==_0x1c1387[_0x426ee3(0x216)]&&(_0x2499fb=_0x426ee3(0x2db)+_0x1c1387['knowledgeCutoffDate']+'\x0a\x0a'),_0x2499fb=_0x2499fb+_0x426ee3(0x3e7)+new Date()[_0x426ee3(0x530)](void 0x0,{'weekday':'long','year':_0x426ee3(0x18b),'month':_0x426ee3(0x1fe),'day':_0x426ee3(0x18b)})+'\x0a\x0a',''+_0x2499fb+_0x130dfe[_0x426ee3(0x6e8)]+_0xecd697;}function _0x1a65db(_0x1c6476,_0x3dd9e,_0x5d8237){const _0x433803=_0x332466;_0x5d8237[_0x433803(0x2bb)]||(_0x5d8237[_0x433803(0x2bb)]={}),_0x5d8237['accumulated']['context']||(_0x5d8237[_0x433803(0x2bb)][_0x433803(0x190)]={});const _0x27e4a7=_0x5d8237[_0x433803(0xa66)]?.[_0x433803(0x616)](',');_0x27e4a7&&_0x27e4a7[_0x433803(0x988)](_0x1c6476)&&(_0x5d8237[_0x433803(0x2bb)][_0x433803(0x190)][_0x1c6476]=_0x3dd9e);}function _0x1e9b6c(_0x300e06,_0x1ea7a3,_0x213356,_0x4b7716){const _0xe6bf67=_0x332466;_0x300e06!==_0x820e81[_0xe6bf67(0x891)]&&_0x300e06!==_0x820e81[_0xe6bf67(0x74d)]||(_0x4b7716[_0xe6bf67(0x2bb)]||(_0x4b7716[_0xe6bf67(0x2bb)]={}),_0xe6bf67(0x5b3)==typeof _0x213356?(_0x4b7716['accumulated']['context']||(_0x4b7716[_0xe6bf67(0x2bb)][_0xe6bf67(0x190)]={}),_0x4b7716['accumulated']['context'][_0x1ea7a3]=_0x213356):_0x4b7716[_0xe6bf67(0x2bb)][_0xe6bf67(0x336)]=_0x213356);}async function _0x4d5420(_0x19b1a5,_0x5789a1,_0x5111ea,_0x1877da,_0x430748,_0x5512bc,_0x4f2af0,_0x582c83){const _0x3108c7=function(_0x28cba2,_0x398c36){const _0x5ef447=a0_0x5279,_0x141686=[];for(let _0xe869cd=0x0;_0xe869cd<_0x28cba2[_0x5ef447(0x65d)];_0xe869cd+=_0x398c36[_0x5ef447(0x7eb)]['size']){let _0x55871c=_0xe869cd-_0x398c36[_0x5ef447(0x7eb)]['overlap'];_0x55871c<0x0&&(_0x55871c=0x0);let _0x5b1398=_0xe869cd+_0x398c36[_0x5ef447(0x7eb)][_0x5ef447(0x393)]+_0x398c36[_0x5ef447(0x7eb)][_0x5ef447(0xa18)];_0x5b1398>_0x28cba2[_0x5ef447(0x65d)]&&(_0x5b1398=_0x28cba2[_0x5ef447(0x65d)]),length||(length=_0xe869cd+_0x398c36[_0x5ef447(0x7eb)]['size'],length>_0x28cba2[_0x5ef447(0x65d)]&&(length=_0x28cba2[_0x5ef447(0x65d)])),_0x141686[_0x5ef447(0x995)](_0x28cba2['substring'](_0x55871c,_0x5b1398));}return _0x141686;}(_0x5789a1,_0x430748);await _0x4c5734(_0x19b1a5,_0x3108c7,_0x5111ea,_0x1877da,_0x430748,_0x5512bc,_0x4f2af0,_0x582c83);}function _0xed4219(_0x496b7f,_0x25e2f6,_0xeeeb95){const _0xa13e14=_0x332466;_0xeeeb95[_0xa13e14(0x2bb)]||(_0xeeeb95[_0xa13e14(0x2bb)]={}),_0xeeeb95[_0xa13e14(0x2bb)]['context']||(_0xeeeb95['accumulated'][_0xa13e14(0x190)]={}),_0xeeeb95['accumulated'][_0xa13e14(0x190)][_0x496b7f]=_0x25e2f6;}async function _0x1728bd(_0x2f32db,_0x81983a,_0x5f32c0,_0x2aa476,_0x4fa7a0,_0x1966f2,_0x2afc04,_0x1de397){const _0x2b8c81=_0x332466;if(_0x4fa7a0['accumulated']||(_0x4fa7a0[_0x2b8c81(0x2bb)]={}),_0x4fa7a0['accumulated'][_0x2b8c81(0x262)]||(_0x4fa7a0[_0x2b8c81(0x2bb)][_0x2b8c81(0x262)]=[]),_0x81983a instanceof Array?_0x4fa7a0['accumulated']['queries'][_0x2b8c81(0x995)](..._0x81983a):_0x4fa7a0[_0x2b8c81(0x2bb)][_0x2b8c81(0x262)][_0x2b8c81(0x995)](_0x81983a),_0x4fa7a0[_0x2b8c81(0x356)]=_0x4fa7a0['timesCalled']?_0x4fa7a0['timesCalled']+0x1:0x1,_0x9eeba2(_0x4fa7a0,_0x1966f2)>_0x4fa7a0[_0x2b8c81(0x356)])return;if(0x0===_0x4fa7a0[_0x2b8c81(0x2bb)][_0x2b8c81(0x262)][_0x2b8c81(0x65d)])throw new Error('Data\x20collection\x20block\x20is\x20missing\x20required\x20data');let _0x277b23=[];const _0x45e5a3=Date[_0x2b8c81(0x3f4)]();try{let _0x576b85=0x0,_0x39fd11=0x0;for(const _0x231519 of _0x4fa7a0[_0x2b8c81(0x2bb)][_0x2b8c81(0x262)]){const _0x110c4e=_0x4fa7a0[_0x2b8c81(0x581)][_0x2b8c81(0x405)](_0x443a75=>_0x443a75[_0x2b8c81(0x5a0)]===_0x1b697d['Prompt']),_0x23f803=await _0x2c7e65(_0x2f32db,_0x5f32c0[_0x2b8c81(0x565)],_0x231519,_0x110c4e,_0x4fa7a0['retrieveBlocks'],_0x2afc04);_0x277b23=Array[_0x2b8c81(0x639)](new Set([..._0x277b23,..._0x23f803[_0x2b8c81(0x190)]])),_0x576b85+=_0x23f803[_0x2b8c81(0x452)]??0x0,_0x39fd11+=_0x23f803[_0x2b8c81(0x97c)]??0x0;}_0x2aa476['inputTokens']+=_0x576b85,_0x2aa476[_0x2b8c81(0x97c)]+=_0x39fd11,_0x2aa476['context']=Array[_0x2b8c81(0x639)](new Set([..._0x2aa476[_0x2b8c81(0x190)],..._0x277b23])),_0x52ba77[_0x2b8c81(0x286)]({'jobType':_0xb9f1cc[_0x2b8c81(0x32f)],'type':_0x3de4db[_0x2b8c81(0x2f7)],'jobId':_0x2f32db,'threadId':_0x5f32c0['threadId'],'traceLevel':_0x28ead7[_0x2b8c81(0x206)],'startTime':_0x45e5a3,'timestamp':Date[_0x2b8c81(0x3f4)](),'blockId':_0x4fa7a0['id'],'status':_0x2b8c81(0x603),'queries':_0x4fa7a0['accumulated'][_0x2b8c81(0x262)],'context':_0x277b23,'inputTokens':_0x576b85,'outputTokens':_0x39fd11});}catch(_0x1c8c08){console[_0x2b8c81(0x998)](_0x1c8c08),_0x52ba77[_0x2b8c81(0x286)]({'jobType':_0xb9f1cc[_0x2b8c81(0x32f)],'type':_0x3de4db[_0x2b8c81(0x2f7)],'jobId':_0x2f32db,'threadId':_0x5f32c0[_0x2b8c81(0x565)],'traceLevel':_0x28ead7[_0x2b8c81(0x206)],'startTime':_0x45e5a3,'timestamp':Date[_0x2b8c81(0x3f4)](),'blockId':_0x4fa7a0['id'],'status':_0x2b8c81(0x998),'queries':_0x4fa7a0[_0x2b8c81(0x2bb)][_0x2b8c81(0x262)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x2e1c47(_0x277b23,_0x4fa7a0,_0x1966f2),await _0x4c5734(_0x2f32db,'',_0x5f32c0,_0x2aa476,_0x4fa7a0,_0x1966f2,_0x2afc04,_0x1de397);}async function _0x19fb81(_0x117772,_0x3d8848,_0x502aa9,_0x2629e9,_0x155c7a,_0x55fc5f,_0x2696b8,_0x309fa6){const _0x2b3721=_0x332466,_0x8bfd84=await _0x2696b8[_0x2b3721(0x6be)][_0x2b3721(0x526)](_0x3d8848);await _0x4c5734(_0x117772,_0x8bfd84,_0x502aa9,_0x2629e9,_0x155c7a,_0x55fc5f,_0x2696b8,_0x309fa6);}async function _0x38408b(_0xfd5769,_0x3c735e,_0x9a61ce,_0x8f5ed5,_0x45bec6,_0x751c2e,_0x31c1eb,_0x3a0ce0){const _0x25e176=function(_0x31bc99,_0x43747d){const _0x442d90=a0_0x5279,_0x53f20d=[],_0x221d0b=_0x31bc99[_0x442d90(0x616)]('\x20');let _0x1d9b92='',_0x332e8c=0x0,_0x4aef8f=0x0,_0x364cd1=0x0;for(const _0x40b413 of _0x221d0b){if(_0x1d9b92[_0x442d90(0x65d)]+_0x40b413[_0x442d90(0x65d)]>_0x43747d[_0x442d90(0x7eb)][_0x442d90(0x393)]){let _0xdec601=_0x332e8c,_0x322f96='';for(;_0xdec601>=0x0&&_0x322f96[_0x442d90(0x65d)]+_0x221d0b[_0xdec601][_0x442d90(0x65d)]<_0x43747d[_0x442d90(0x7eb)][_0x442d90(0xa18)];)_0x322f96=_0x221d0b[_0xdec601]+'\x20'+_0x322f96,_0xdec601--;let _0x2b2717=_0x4aef8f,_0x491775='';for(;_0x2b2717<_0x221d0b[_0x442d90(0x65d)]&&_0x491775[_0x442d90(0x65d)]+_0x221d0b[_0x2b2717][_0x442d90(0x65d)]<_0x43747d[_0x442d90(0x7eb)][_0x442d90(0xa18)];)_0x491775+=_0x221d0b[_0x2b2717]+'\x20',_0x2b2717++;_0x1d9b92=_0x322f96+_0x1d9b92+_0x491775,_0x53f20d[_0x442d90(0x995)](_0x1d9b92[_0x442d90(0x51c)]()),_0x1d9b92='',_0x332e8c=_0x4aef8f;}_0x1d9b92+=_0x40b413+'\x20',_0x4aef8f++,_0x364cd1+=_0x40b413[_0x442d90(0x65d)]+0x1;}if(_0x1d9b92[_0x442d90(0x65d)]>0x0){let _0x228da1=_0x332e8c,_0x2e62cd='';for(;_0x228da1>=0x0&&_0x2e62cd[_0x442d90(0x65d)]+_0x221d0b[_0x228da1][_0x442d90(0x65d)]<_0x43747d[_0x442d90(0x7eb)][_0x442d90(0xa18)];)_0x2e62cd=_0x221d0b[_0x228da1]+'\x20'+_0x2e62cd,_0x228da1--;_0x1d9b92=_0x2e62cd+_0x1d9b92,_0x53f20d['push'](_0x1d9b92[_0x442d90(0x51c)]());}return _0x53f20d;}(_0x3c735e,_0x45bec6);await _0x4c5734(_0xfd5769,_0x25e176,_0x9a61ce,_0x8f5ed5,_0x45bec6,_0x751c2e,_0x31c1eb,_0x3a0ce0);}function _0x2e1c47(_0x5a81c8,_0x5774e9,_0x14c075,_0x11d27f){const _0x6fc319=_0x332466;if(_0x5774e9[_0x6fc319(0xa3d)])for(const _0x4cf2e4 of _0x5774e9[_0x6fc319(0xa3d)]){if(_0x4cf2e4[_0x6fc319(0x5a0)]!==_0x820e81['Context'])continue;const _0x37a34c=_0x14c075[_0x6fc319(0x405)](_0x393192=>_0x393192[_0x6fc319(0x355)]===_0x4cf2e4['uid']);if(!_0x37a34c)continue;let _0x1b063c=!0x1,_0x43211a=_0x5774e9['id'];switch(_0x11d27f?_0x43211a=_0x11d27f:(_0x5774e9['type']===_0x5a247f[_0x6fc319(0x2f7)]&&(_0x43211a=_0x5774e9['name'],_0x1b063c=!0x0),_0x5774e9[_0x6fc319(0x5a0)]!==_0x5a247f[_0x6fc319(0x6cd)]&&_0x5774e9[_0x6fc319(0x5a0)]!==_0x5a247f['AgentSkill']&&_0x5774e9[_0x6fc319(0x5a0)]!==_0x5a247f[_0x6fc319(0x660)]||(_0x43211a=_0x5774e9[_0x6fc319(0xaa2)]??_0x5774e9[_0x6fc319(0x8c6)])),_0x6fc319(0x90d)===_0x43211a&&(_0x1b063c=!0x0),_0x37a34c[_0x6fc319(0x5a0)]){case _0x5a247f[_0x6fc319(0x6cd)]:_0x37a34c[_0x6fc319(0x2bb)]||(_0x37a34c['accumulated']={}),_0x37a34c[_0x6fc319(0x2bb)][_0x6fc319(0x190)]||(_0x37a34c['accumulated'][_0x6fc319(0x190)]={});const _0x1359f8=_0x37a34c[_0x6fc319(0xa66)]?.[_0x6fc319(0x616)](',');if(!(_0x1359f8&&_0x1359f8[_0x6fc319(0x988)](_0x43211a)||_0x1b063c))return;_0x833509['forceLog'](_0x6fc319(0x4a3),_0x37a34c[_0x6fc319(0x8c6)],_0x43211a),_0x37a34c[_0x6fc319(0x2bb)][_0x6fc319(0x190)][_0x43211a]=_0x5a81c8;break;case _0x5a247f['AgentSkill']:_0x833509['forceLog'](_0x6fc319(0x476),_0x37a34c[_0x6fc319(0x8c6)],_0x43211a),_0x1a65db(_0x43211a,_0x5a81c8,_0x37a34c);break;case _0x5a247f['Answer']:_0x833509[_0x6fc319(0x5a6)](_0x6fc319(0x7e4),_0x43211a),_0x6fc319(0x5b3)==typeof _0x5a81c8&&_0x1e9b6c(_0x4cf2e4['type'],_0x43211a,_0x5a81c8,_0x37a34c);break;case _0x5a247f[_0x6fc319(0x660)]:_0x833509[_0x6fc319(0x5a6)](_0x6fc319(0x58b),_0x37a34c[_0x6fc319(0x8c6)],_0x43211a),_0x6fc319(0x5b3)==typeof _0x5a81c8&&_0xed4219(_0x43211a,_0x5a81c8,_0x37a34c);}}}async function _0x4c5734(_0x35dc84,_0x2f7cec,_0x4d1700,_0x1ceb6b,_0x2048e8,_0x37c0c3,_0x62680b,_0x34bad9){const _0x59f08d=_0x332466;if(await _0x1327a2[_0x59f08d(0x908)](0x1),_0x2048e8[_0x59f08d(0xa3d)]){for(const _0x3b5903 of _0x2048e8['links']){if(_0x3b5903[_0x59f08d(0x5a0)]===_0x820e81[_0x59f08d(0x891)])continue;const _0x4951e3=_0x37c0c3[_0x59f08d(0x405)](_0x2022ce=>_0x2022ce['uid']===_0x3b5903[_0x59f08d(0x355)]);if(_0x4951e3)switch(_0x4951e3[_0x59f08d(0x5a0)]){case _0x5a247f['Agent']:_0x3b5903[_0x59f08d(0x5a0)]!==_0x820e81[_0x59f08d(0x6aa)]&&_0x3b5903['type']!==_0x820e81[_0x59f08d(0x9be)]||_0x59f08d(0x5b3)!=typeof _0x2f7cec||await _0x2fa441(_0x35dc84,_0x3b5903['type'],_0x2f7cec,_0x4d1700,_0x1ceb6b,_0x4951e3,_0x37c0c3,_0x62680b,_0x34bad9),_0x3b5903[_0x59f08d(0x5a0)]===_0x820e81['WaitTrue']&&'true'===_0x2f7cec&&await _0x2fa441(_0x35dc84,_0x3b5903[_0x59f08d(0x5a0)],_0x2f7cec,_0x4d1700,_0x1ceb6b,_0x4951e3,_0x37c0c3,_0x62680b,_0x34bad9),_0x3b5903[_0x59f08d(0x5a0)]===_0x820e81[_0x59f08d(0x815)]&&_0x59f08d(0xa39)===_0x2f7cec&&await _0x2fa441(_0x35dc84,_0x3b5903[_0x59f08d(0x5a0)],_0x2f7cec,_0x4d1700,_0x1ceb6b,_0x4951e3,_0x37c0c3,_0x62680b,_0x34bad9);break;case _0x5a247f[_0x59f08d(0x209)]:_0x3b5903[_0x59f08d(0x5a0)]===_0x820e81[_0x59f08d(0x74d)]&&_0x2f7cec instanceof Array&&_0x2f7cec[_0x59f08d(0x65d)]>0x0&&_0x1e9b6c(_0x3b5903[_0x59f08d(0x5a0)],_0x35dc84,_0x2f7cec[0x0],_0x4951e3);break;case _0x5a247f[_0x59f08d(0xa91)]:_0x3b5903[_0x59f08d(0x5a0)]===_0x820e81[_0x59f08d(0x6aa)]&&_0x59f08d(0x5b3)==typeof _0x2f7cec&&await _0x4d5420(_0x35dc84,_0x2f7cec,_0x4d1700,_0x1ceb6b,_0x4951e3,_0x37c0c3,_0x62680b,_0x34bad9);break;case _0x5a247f['DataCollection']:_0x3b5903['type']===_0x820e81[_0x59f08d(0x6aa)]&&'string'==typeof _0x2f7cec&&await _0x1728bd(_0x35dc84,_0x2f7cec,_0x4d1700,_0x1ceb6b,_0x4951e3,_0x37c0c3,_0x62680b,_0x34bad9),_0x3b5903[_0x59f08d(0x5a0)]===_0x820e81[_0x59f08d(0x6aa)]&&_0x2f7cec instanceof Array&&await _0x1728bd(_0x35dc84,_0x2f7cec,_0x4d1700,_0x1ceb6b,_0x4951e3,_0x37c0c3,_0x62680b,_0x34bad9);break;case _0x5a247f[_0x59f08d(0x58f)]:_0x3b5903['type']===_0x820e81[_0x59f08d(0x6aa)]&&_0x59f08d(0x5b3)==typeof _0x2f7cec&&await _0x19fb81(_0x35dc84,_0x2f7cec,_0x4d1700,_0x1ceb6b,_0x4951e3,_0x37c0c3,_0x62680b,_0x34bad9);break;case _0x5a247f[_0x59f08d(0x836)]:_0x3b5903['type']===_0x820e81[_0x59f08d(0x6aa)]&&'string'==typeof _0x2f7cec&&await _0x38408b(_0x35dc84,_0x2f7cec,_0x4d1700,_0x1ceb6b,_0x4951e3,_0x37c0c3,_0x62680b,_0x34bad9);}}_0x2048e8[_0x59f08d(0x5a0)]===_0x5a247f[_0x59f08d(0x4a1)]&&_0x34bad9&&_0x34bad9[_0x59f08d(0x611)](void 0x0);}else _0x2048e8[_0x59f08d(0x5a0)]===_0x5a247f[_0x59f08d(0x4a1)]&&_0x34bad9&&_0x34bad9[_0x59f08d(0x611)](void 0x0);}function _0x9eeba2(_0x581cb0,_0x4df67f){const _0x258ca0=_0x332466;let _0x14e1e4=0x0;for(const _0x1145d0 of _0x4df67f)for(const _0x33fba7 of _0x1145d0[_0x258ca0(0xa3d)]??[])_0x33fba7[_0x258ca0(0x5a0)]!==_0x820e81[_0x258ca0(0x891)]&&_0x33fba7['type']!==_0x820e81[_0x258ca0(0x678)]&&_0x33fba7[_0x258ca0(0x5a0)]!==_0x820e81['Skill']&&_0x33fba7[_0x258ca0(0x355)]===_0x581cb0[_0x258ca0(0x355)]&&_0x14e1e4++;return _0x14e1e4;}async function _0x9cb7a0(_0x1b1045,_0x4dfdba,_0x18c609,_0x5a016a){const _0x561d1e=_0x332466;if(0x0===_0x1b1045['length'])return;let _0x5cd7fe=_0x561d1e(0x43e);for(const _0x154834 of _0x1b1045)if(_0x154834[_0x561d1e(0x5a0)][_0x561d1e(0x423)](_0x561d1e(0xa54))||_0x276e7d(_0x154834['name'],_0x28c6fc))_0x5cd7fe+='\x0a<'+_0x154834['name']+'>\x0a'+await _0x154834[_0x561d1e(0x644)]()+_0x561d1e(0x44f)+_0x154834[_0x561d1e(0x8c6)]+'>';else{if(!_0x5a016a[_0x561d1e(0x575)][_0x561d1e(0x34e)](_0x154834))throw new Error(_0x561d1e(0x359)+_0x154834[_0x561d1e(0x5a0)]+_0x561d1e(0x23e)+_0x154834[_0x561d1e(0x8c6)]);_0x5cd7fe+='\x0a<'+_0x154834[_0x561d1e(0x8c6)]+'>\x0a'+await _0x5a016a[_0x561d1e(0x575)]['parse'](_0x154834)+'\x0a</'+_0x154834[_0x561d1e(0x8c6)]+'>';}_0x5cd7fe+=_0x561d1e(0x512),_0x2e1c47(_0x5cd7fe,_0x4dfdba,_0x18c609,_0x561d1e(0x90d));}function _0x1b3b25(_0x204ae8,_0x2fb0c6){const _0x55117a=_0x332466;_0x2fb0c6['accumulated']||(_0x2fb0c6[_0x55117a(0x2bb)]={}),_0x2fb0c6[_0x55117a(0x2bb)][_0x55117a(0xacc)]=_0x204ae8;}async function _0xe0b3c9(_0x1b22c3,_0x46d57d,_0x231393,_0x2b98d3){const _0x4d1f26=_0x332466;if(_0x1b22c3[_0x4d1f26(0xacc)]&&_0x46d57d[_0x4d1f26(0xa3d)]){const _0x3dbf2c=[];for(const _0x5d5d02 of _0x1b22c3[_0x4d1f26(0xacc)])_0x3dbf2c[_0x4d1f26(0x995)](_0x47bc83(_0x5d5d02));for(const _0x543f45 of _0x46d57d[_0x4d1f26(0xa3d)])if(_0x4d1f26(0x336)===_0x543f45[_0x4d1f26(0x5a0)]){const _0x1aa272=_0x231393[_0x4d1f26(0x405)](_0x692ded=>_0x692ded[_0x4d1f26(0x355)]===_0x543f45['uid']);if(!_0x1aa272)continue;_0x1aa272[_0x4d1f26(0x5a0)]===_0x5a247f[_0x4d1f26(0x91e)]&&await _0x9cb7a0(_0x3dbf2c,_0x1aa272,_0x231393,_0x2b98d3),_0x1aa272[_0x4d1f26(0x5a0)]===_0x5a247f['QueryFile']&&_0x1b3b25(_0x3dbf2c,_0x1aa272);}}}function _0x47bc83(_0x5af8d4){const _0x5f3ab9=_0x332466,_0x55636a=atob(_0x5af8d4[_0x5f3ab9(0x4cb)]),_0x2097c5=_0x55636a[_0x5f3ab9(0x65d)],_0x5ba7f1=new ArrayBuffer(_0x2097c5),_0x56692c=new Uint8Array(_0x5ba7f1);for(let _0x3d63c8=0x0;_0x3d63c8<_0x2097c5;_0x3d63c8++)_0x56692c[_0x3d63c8]=_0x55636a['charCodeAt'](_0x3d63c8);return new File([_0x56692c],_0x5af8d4[_0x5f3ab9(0x8c6)],{'type':_0x5af8d4[_0x5f3ab9(0x5a0)]});}class _0x4a0f95 extends _0x232e3e{['localNode'];[_0x332466(0x640)];['contentMediator'];['generativeAIWorkerConnectors'];[_0x332466(0x575)];[_0x332466(0x6be)];[_0x332466(0x9a8)];[_0x332466(0x6bd)];[_0x332466(0x51d)];[_0x332466(0x928)];['queryFileConnector'];[_0x332466(0x5fd)];['modelStore'];['dataStores']=new Map();[_0x332466(0x690)]=new Map();[_0x332466(0x8a9)];[_0x332466(0x84d)]=new Map();['debounceStats'];['prompts']=0x0;[_0x332466(0x5aa)]=0x0;['isOpened']=!0x1;['contentQueue']=[];['contentQueueRunning']=!0x1;constructor(_0x25e9a4,_0x3acf7e,_0x5a094e,_0x432d7a,_0x30fbf6,_0x4292b9,_0x608987,_0x518be5,_0x5b9abd,_0x5423e7,_0x2cfd7c,_0x31d521,_0x2b936f){const _0x4780b7=_0x332466;super(_0x25e9a4,_0x3acf7e,_0x432d7a),this[_0x4780b7(0x2e7)]=_0x25e9a4,this[_0x4780b7(0x640)]=_0x5a094e,this[_0x4780b7(0x9b9)]=_0x30fbf6,this[_0x4780b7(0x2d2)]=_0x4292b9,this['documentParserConnector']=_0x608987,this[_0x4780b7(0x6be)]=_0x518be5,this[_0x4780b7(0x9a8)]=_0x5b9abd,this[_0x4780b7(0x6bd)]=_0x5423e7,this[_0x4780b7(0x51d)]=_0x2cfd7c,this[_0x4780b7(0x928)]=_0x31d521,this[_0x4780b7(0x258)]=_0x2b936f;}async['destroy'](){const _0x57debb=_0x332466;for(const _0x454b71 of this['generativeAIWorkerConnectors'])await _0x454b71[_0x57debb(0x1db)]();this[_0x57debb(0x979)]?.[_0x57debb(0x219)](this['label']),this['dataStores'][_0x57debb(0x602)](_0x278914=>_0x278914['unsubscribe'](this[_0x57debb(0x308)])),this[_0x57debb(0x9a9)]&&(clearTimeout(this[_0x57debb(0x9a9)]),delete this[_0x57debb(0x9a9)]),super[_0x57debb(0x5e0)]();}async[_0x332466(0x59f)](_0x43e7a1=!0x1){const _0x57a86e=_0x332466;if(this[_0x57a86e(0x75f)])super[_0x57a86e(0x59f)]();else{if(_0x833509[_0x57a86e(0x5a6)](_0x57a86e(0xada),this[_0x57a86e(0x308)]),this[_0x57a86e(0x5fd)]=await _0xb61473['getWorkflow'](this['vendorId'],this[_0x57a86e(0x308)]),this[_0x57a86e(0x979)]=this[_0x57a86e(0x9b9)]['getObjectStoreBucket'](this[_0x57a86e(0x5fd)][_0x57a86e(0x487)]),!this[_0x57a86e(0x979)])throw new Error(_0x57a86e(0x4c2));this[_0x57a86e(0x635)](),_0x833509[_0x57a86e(0x5a6)]('GenerativeAIWorker:\x20Models',this[_0x57a86e(0x5fd)]['models']);for(const _0x4ad4e7 of this[_0x57a86e(0x5fd)][_0x57a86e(0x84d)])try{let _0x43b3f9;_0x4ad4e7[_0x57a86e(0xa1a)]===_0x57c18a[_0x57a86e(0x9c7)][_0x57a86e(0x561)]&&(_0x43b3f9=await this[_0x57a86e(0x480)]('/'+_0x4ad4e7['id']+_0x3150d1)),this[_0x57a86e(0x84d)]['set'](_0x4ad4e7['id'],{'id':_0x4ad4e7['id'],'engineType':_0x4ad4e7['engineType'],'taskType':_0x4ad4e7[_0x57a86e(0x345)],'inputType':_0x4ad4e7[_0x57a86e(0x361)],'outputType':_0x4ad4e7[_0x57a86e(0xa86)],'sourceUrl':_0x4ad4e7[_0x57a86e(0x6b8)],'pathName':_0x43b3f9});}catch(_0x378d50){await this['modelStore'][_0x57a86e(0x778)]({'action':_0x57c18a['PayloadAction'][_0x57a86e(0x74d)],'file':new File([''],''+_0x4ad4e7['id']+_0x3150d1),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x4ad4e7[_0x57a86e(0x6b8)]}}),this[_0x57a86e(0x84d)][_0x57a86e(0x72f)](_0x4ad4e7['id'],{'id':_0x4ad4e7['id'],'engineType':_0x4ad4e7[_0x57a86e(0xa1a)],'taskType':_0x4ad4e7[_0x57a86e(0x345)],'inputType':_0x4ad4e7[_0x57a86e(0x361)],'outputType':_0x4ad4e7[_0x57a86e(0xa86)],'sourceUrl':_0x4ad4e7[_0x57a86e(0x6b8)],'pathName':await this['getModel']('/'+_0x4ad4e7['id']+_0x3150d1)});}try{for(const _0x1adc38 of this[_0x57a86e(0x2d2)])await _0x1adc38['initialize'](this[_0x57a86e(0x308)],this[_0x57a86e(0x84d)]);}catch(_0x5f3773){return this[_0x57a86e(0x59f)](_0x43e7a1);}for(const _0x2bd82d of this[_0x57a86e(0x5fd)][_0x57a86e(0x649)])this[_0x57a86e(0x596)][_0x57a86e(0x72f)](_0x2bd82d,this['contentMediator'][_0x57a86e(0x901)](_0x2bd82d));await this['loadLocalContent'](),this[_0x57a86e(0x419)]();for(const _0xa24309 of this[_0x57a86e(0x5fd)][_0x57a86e(0x9dc)])this[_0x57a86e(0x690)][_0x57a86e(0x72f)](_0xa24309,this[_0x57a86e(0x9b9)][_0x57a86e(0x7d2)](_0xa24309));await this[_0x57a86e(0x5b1)](),this['subscribeToExternalContent'](),this['isOpened']=!0x0,this[_0x57a86e(0x78f)](),super[_0x57a86e(0x59f)](),_0x833509[_0x57a86e(0x5a6)](_0x57a86e(0x2b6),this[_0x57a86e(0x308)]);}}[_0x332466(0x357)](){const _0x28913d=_0x332466;this[_0x28913d(0x9e5)]=0x0,this[_0x28913d(0x5aa)]=0x0,this[_0x28913d(0x78f)](),super[_0x28913d(0x357)]();}[_0x332466(0x66a)](){const _0x13f05e=_0x332466;return this['sendStats'](),this[_0x13f05e(0x521)]();}['compileStats'](_0xd9ab54,_0x96fdc3,_0x29f071){const _0x3155a1=_0x332466,{outputTokens:_0x518cbe=0x0,output:_0x3ce535=''}=_0xd9ab54,_0x5659c1=_0x518cbe/((_0x29f071-_0x96fdc3)/0x3e8);this[_0x3155a1(0x9e5)]+=0x1,this['tokens']+=_0x518cbe,this[_0x3155a1(0x788)](_0x5659c1,_0x518cbe),this['sendStats']();}[_0x332466(0x5f9)](_0x219c8e,_0x508399){const _0x16ce50=_0x332466;return _0x219c8e['output']=_0x219c8e[_0x16ce50(0x798)]??'',{'type':_0x16ce50(0x7e3),'output':_0x16ce50(0x5b3)==typeof _0x219c8e['output']&&'string'==typeof _0x508399[_0x16ce50(0x798)]?_0x219c8e['output']+_0x508399[_0x16ce50(0x798)]:_0x508399[_0x16ce50(0x798)],'outputTokens':_0x508399['outputTokens']??_0x219c8e[_0x16ce50(0x97c)],'inputTokens':_0x508399[_0x16ce50(0x452)]??_0x219c8e[_0x16ce50(0x452)]};}async[_0x332466(0x71b)](_0xb46b84,_0x321b3c){const _0x366c8e=_0x332466;if(this[_0x366c8e(0x5fd)]=await _0xb61473[_0x366c8e(0x354)](this[_0x366c8e(0x640)],this[_0x366c8e(0x308)]),_0x366c8e(0x7e3)===_0x321b3c[_0x366c8e(0x5a0)]){const _0x745210=this[_0x366c8e(0x5fd)][_0x366c8e(0x9f0)][_0x366c8e(0x405)](_0x58f199=>_0x58f199[_0x366c8e(0x5a0)]===_0x5a247f[_0x366c8e(0x4a1)]),_0x5869ba=await async function(_0x1ae89a,_0x56f5e9,_0x7c91df,_0x556902,_0xd9c770){const _0x2a9289=_0x366c8e,_0x42f7e6=(0x0,_0x74103e['v4'])(),_0x660cec=Date['now']();if(_0x52ba77[_0x2a9289(0x286)]({'jobType':_0xb9f1cc[_0x2a9289(0x32f)],'type':_0x3de4db[_0x2a9289(0x326)],'jobId':_0x1ae89a,'blockId':_0x7c91df['id'],'agentId':_0x42f7e6,'threadId':_0x56f5e9[_0x2a9289(0x565)],'traceLevel':_0x28ead7['Info'],'startTime':Date[_0x2a9289(0x3f4)](),'timestamp':Date[_0x2a9289(0x3f4)](),'status':'success','initialPrompt':_0x56f5e9[_0x2a9289(0x7e3)]}),await _0xe0b3c9(_0x56f5e9,_0x7c91df,_0x556902,_0xd9c770),_0x56f5e9[_0x2a9289(0x650)]){for(const _0x1475b0 in _0x56f5e9[_0x2a9289(0x650)])_0x2e1c47(_0x56f5e9[_0x2a9289(0x650)][_0x1475b0],_0x7c91df,_0x556902,_0x1475b0);}const _0x55db0e={'type':_0x56f5e9[_0x2a9289(0x5a0)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x4c5734(_0x1ae89a,''+_0x56f5e9['prompt'],_0x56f5e9,_0x55db0e,_0x7c91df,_0x556902,_0xd9c770);const {inputTokens:_0x1567cc=0x0,outputTokens:_0x109443=0x0,context:_0x4948be=[]}=_0x55db0e;_0x52ba77[_0x2a9289(0x286)]({'jobType':_0xb9f1cc[_0x2a9289(0x32f)],'type':_0x3de4db[_0x2a9289(0x24e)],'jobId':_0x1ae89a,'agentId':_0x42f7e6,'threadId':_0x56f5e9[_0x2a9289(0x565)],'traceLevel':_0x28ead7[_0x2a9289(0x206)],'startTime':_0x660cec,'timestamp':Date[_0x2a9289(0x3f4)](),'blockId':_0x7c91df['id'],'status':'success','output':_0x55db0e[_0x2a9289(0x798)]?.[_0x2a9289(0x83b)]()??'','prompt':_0x56f5e9[_0x2a9289(0x7e3)],'agentName':'','history':_0x56f5e9[_0x2a9289(0x7bd)]??[],'instructions':''+(_0x56f5e9[_0x2a9289(0x6e8)]??''),'ragContext':_0x4948be,'inputTokens':_0x1567cc,'outputTokens':_0x109443});const _0x198e2a=_0x556902['find'](_0x417099=>_0x417099[_0x2a9289(0x5a0)]===_0x5a247f['Answer']);return{'type':_0x56f5e9[_0x2a9289(0x5a0)],'output':_0x55db0e[_0x2a9289(0x798)],'context':_0x55db0e[_0x2a9289(0x190)],'internalContext':_0x198e2a?.[_0x2a9289(0x2bb)]?.[_0x2a9289(0x190)]??{},'resultFile':await _0x198e2a?.['accumulated']?.[_0x2a9289(0x336)]?.['text']()??void 0x0,'inputTokens':_0x55db0e[_0x2a9289(0x452)]??0x0,'outputTokens':_0x55db0e[_0x2a9289(0x97c)]??0x0};}(_0xb46b84,_0x321b3c,_0x745210,this[_0x366c8e(0x5fd)]['blocks'],{'documentParserConnector':this[_0x366c8e(0x575)],'nlpLibraryConnector':this[_0x366c8e(0x6be)],'generativeAIWorkerConnectors':this[_0x366c8e(0x2d2)],'models':this[_0x366c8e(0x5fd)][_0x366c8e(0x84d)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x366c8e(0x9a8)],'aiSearchApiKey':this['aiSearchApiKey'],'searchConnector':this[_0x366c8e(0x51d)],'aiSearchConnector':this[_0x366c8e(0x928)],'queryFileConnector':this[_0x366c8e(0x258)]});return _0x5869ba;}if('rate'===_0x321b3c[_0x366c8e(0x5a0)])return _0x52ba77['trace']({'jobType':_0xb9f1cc[_0x366c8e(0x6c1)],'type':_0x236aac[_0x366c8e(0x790)],'jobId':_0x321b3c['jobId'],'threadId':_0x321b3c[_0x366c8e(0x565)],'traceLevel':_0x28ead7['Info'],'startTime':Date[_0x366c8e(0x3f4)](),'timestamp':Date[_0x366c8e(0x3f4)](),'status':_0x366c8e(0x603),'rating':_0x321b3c[_0x366c8e(0x50d)],'feedback':_0x321b3c[_0x366c8e(0xacf)]}),{'type':_0x366c8e(0x6f1),'status':_0x57c18a[_0x366c8e(0x5c3)][_0x366c8e(0xa34)]};if(_0x366c8e(0x7d3)===_0x321b3c[_0x366c8e(0x5a0)]){let _0x50bcf4;const _0xdc25c8=this[_0x366c8e(0x596)]['keys']();for(;!_0x50bcf4;){const _0x3f7ebe=_0xdc25c8[_0x366c8e(0x4c5)]()[_0x366c8e(0x69e)];if(!_0x3f7ebe)throw new Error(_0x366c8e(0x931));_0x50bcf4=this[_0x366c8e(0x596)][_0x366c8e(0x4d1)](_0x3f7ebe);try{const _0x18f280=await _0x50bcf4[_0x366c8e(0x4d1)](_0x321b3c['documentPath']);return{'type':_0x366c8e(0x7d3),'fileName':_0x18f280[_0x366c8e(0x8c6)],'mimeType':_0x18f280['type'],'document':await _0x18f280[_0x366c8e(0x96d)]()};}catch(_0x263ec5){continue;}}throw new Error(_0x366c8e(0x931));}if(_0x366c8e(0x7ba)===_0x321b3c[_0x366c8e(0x5a0)]){const {query:_0x2e7a25,collectionId:_0x37d7b4}=_0x321b3c,_0x1affee=this[_0x366c8e(0x5fd)][_0x366c8e(0x9f0)]['find'](_0x9abf64=>(_0x9abf64[_0x366c8e(0x5a0)]===_0x5a247f[_0x366c8e(0x2f7)]||_0x5a247f[_0x366c8e(0x678)])&&_0x9abf64['id']===_0x37d7b4);if(!_0x1affee)throw new Error(_0x366c8e(0xa27));const _0x94ae80=_0x1affee[_0x366c8e(0x581)]?.[_0x366c8e(0x405)](_0x2263c1=>_0x2263c1[_0x366c8e(0x5a0)]===_0x1b697d[_0x366c8e(0x4a1)]);if(!_0x94ae80)throw new Error(_0x366c8e(0x871));return await _0x2c7e65(_0xb46b84,'',_0x2e7a25,_0x94ae80,_0x1affee['retrieveBlocks'],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x366c8e(0x6be)],'generativeAIWorkerConnectors':this[_0x366c8e(0x2d2)],'models':this[_0x366c8e(0x5fd)][_0x366c8e(0x84d)],'contentMediator':this[_0x366c8e(0x9b9)],'searchApiKey':this[_0x366c8e(0x9a8)],'aiSearchApiKey':this[_0x366c8e(0x6bd)],'searchConnector':this[_0x366c8e(0x51d)],'aiSearchConnector':this[_0x366c8e(0x928)],'queryFileConnector':this[_0x366c8e(0x258)]});}throw new Error(_0x366c8e(0x3f6));}async*[_0x332466(0x746)](_0x200470,_0x4d3bda){const _0xdff245=_0x332466;this[_0xdff245(0x5fd)]=await _0xb61473[_0xdff245(0x354)](this['vendorId'],this[_0xdff245(0x308)]);const _0xb6562=this[_0xdff245(0x5fd)][_0xdff245(0x9f0)][_0xdff245(0x405)](_0x4de3b4=>_0x4de3b4['type']===_0x5a247f[_0xdff245(0x4a1)]);for await(const _0x58ddd0 of async function*(_0xec3a7a,_0x536419,_0x7dacc1,_0x8ac711,_0x2400cf){const _0x2d7b0a=_0xdff245,_0x5e99bd=(0x0,_0x74103e['v4'])(),_0x24e103=Date[_0x2d7b0a(0x3f4)]();if(_0x52ba77['trace']({'jobType':_0xb9f1cc[_0x2d7b0a(0x32f)],'type':_0x3de4db[_0x2d7b0a(0x326)],'jobId':_0xec3a7a,'agentId':_0x5e99bd,'threadId':_0x536419[_0x2d7b0a(0x565)],'traceLevel':_0x28ead7[_0x2d7b0a(0x206)],'startTime':Date[_0x2d7b0a(0x3f4)](),'timestamp':Date[_0x2d7b0a(0x3f4)](),'blockId':_0x7dacc1['id'],'status':'success','initialPrompt':_0x536419[_0x2d7b0a(0x7e3)]}),await _0xe0b3c9(_0x536419,_0x7dacc1,_0x8ac711,_0x2400cf),_0x536419[_0x2d7b0a(0x650)]){for(const _0x17d9fd in _0x536419[_0x2d7b0a(0x650)])_0x2e1c47(_0x536419[_0x2d7b0a(0x650)][_0x17d9fd],_0x7dacc1,_0x8ac711,_0x17d9fd);}const _0x1f71aa={'type':_0x536419['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x2d8324=new _0x4e5371();_0x4c5734(_0xec3a7a,''+_0x536419[_0x2d7b0a(0x7e3)],_0x536419,_0x1f71aa,_0x7dacc1,_0x8ac711,_0x2400cf,_0x2d8324);let _0x403196='',_0x44c5fd={'type':_0x536419['type']};for(;;){const _0x386bcb=await _0x2d8324[_0x2d7b0a(0x6fd)]();if(!_0x386bcb)break;_0x403196+=_0x386bcb[_0x2d7b0a(0x798)],_0x44c5fd={'type':_0x536419[_0x2d7b0a(0x5a0)],'output':_0x386bcb['output'],'context':_0x1f71aa[_0x2d7b0a(0x190)],'internalContext':{},'resultFile':void 0x0,'inputTokens':(_0x1f71aa[_0x2d7b0a(0x452)]??0x0)+(_0x386bcb[_0x2d7b0a(0x452)]??0x0),'outputTokens':(_0x1f71aa['outputTokens']??0x0)+(_0x386bcb['outputTokens']??0x0)},yield _0x44c5fd;}const _0x2a05e2=_0x8ac711[_0x2d7b0a(0x405)](_0x5ae15b=>_0x5ae15b['type']===_0x5a247f[_0x2d7b0a(0x209)]);yield{..._0x44c5fd,'output':'','internalContext':_0x2a05e2?.[_0x2d7b0a(0x2bb)]?.[_0x2d7b0a(0x190)]??{},'resultFile':await _0x2a05e2?.[_0x2d7b0a(0x2bb)]?.[_0x2d7b0a(0x336)]?.[_0x2d7b0a(0x644)]()??void 0x0};const {inputTokens:_0x476939=0x0,outputTokens:_0x34d339=0x0,context:_0x1b46b5=[]}=_0x44c5fd;_0x52ba77['trace']({'jobType':_0xb9f1cc['Workflow'],'type':_0x3de4db[_0x2d7b0a(0x24e)],'jobId':_0xec3a7a,'agentId':_0x5e99bd,'threadId':_0x536419['threadId'],'traceLevel':_0x28ead7['Info'],'startTime':_0x24e103,'timestamp':Date[_0x2d7b0a(0x3f4)](),'blockId':_0x7dacc1['id'],'status':_0x2d7b0a(0x603),'output':_0x403196,'prompt':_0x536419['prompt'],'agentName':'','history':_0x536419[_0x2d7b0a(0x7bd)]??[],'instructions':''+(_0x536419[_0x2d7b0a(0x6e8)]??''),'ragContext':_0x1b46b5,'inputTokens':_0x476939,'outputTokens':_0x34d339});}(_0x200470,_0x4d3bda,_0xb6562,this['workflow'][_0xdff245(0x9f0)],{'documentParserConnector':this[_0xdff245(0x575)],'nlpLibraryConnector':this[_0xdff245(0x6be)],'generativeAIWorkerConnectors':this[_0xdff245(0x2d2)],'models':this[_0xdff245(0x5fd)]['models'],'contentMediator':this[_0xdff245(0x9b9)],'searchApiKey':this[_0xdff245(0x9a8)],'aiSearchApiKey':this['aiSearchApiKey'],'searchConnector':this[_0xdff245(0x51d)],'aiSearchConnector':this[_0xdff245(0x928)],'queryFileConnector':this[_0xdff245(0x258)]}))yield _0x58ddd0;}['startTracing'](_0x4a000f,_0x1c36d9){const _0x52f3a9=_0x332466;if(_0x52f3a9(0x6f1)===_0x1c36d9['type'])return _0x4a000f=_0x1c36d9[_0x52f3a9(0x193)],void this[_0x52f3a9(0x20c)](_0x4a000f);this['openTrace'](_0x4a000f),_0x52ba77[_0x52f3a9(0x286)]({'jobType':_0xb9f1cc[_0x52f3a9(0x26b)],'type':_0x29f287['Queued'],'traceLevel':_0x28ead7['Info'],'jobId':_0x4a000f,'threadId':_0x1c36d9[_0x52f3a9(0x565)],'startTime':Date[_0x52f3a9(0x3f4)](),'timestamp':Date[_0x52f3a9(0x3f4)](),'status':'success'});}[_0x332466(0x81f)](_0x49af7f,_0x4ecede){const _0x2a53bc=_0x332466;if(_0x2a53bc(0x6f1)===_0x4ecede[_0x2a53bc(0x5a0)])return _0x49af7f=_0x4ecede[_0x2a53bc(0x193)],void this[_0x2a53bc(0x4b4)](_0x49af7f);_0x52ba77[_0x2a53bc(0x286)]({'jobType':_0xb9f1cc[_0x2a53bc(0x26b)],'type':_0x29f287['Completed'],'traceLevel':_0x28ead7[_0x2a53bc(0x206)],'jobId':_0x49af7f,'threadId':_0x4ecede[_0x2a53bc(0x565)],'startTime':Date[_0x2a53bc(0x3f4)](),'timestamp':Date['now'](),'status':_0x2a53bc(0x603)}),this['closeTrace'](_0x49af7f);}async['getModel'](_0x563917){const _0x42fe63=_0x332466;if(!this[_0x42fe63(0x979)])throw new Error(_0x42fe63(0x4c2));const _0x15e1da=await this[_0x42fe63(0x979)][_0x42fe63(0xaa6)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x40220d of _0x15e1da)if(_0x40220d['kind']===_0x57c18a[_0x42fe63(0x94f)][_0x42fe63(0x74d)]&&_0x40220d[_0x42fe63(0x399)]===_0x563917)return _0x40220d[_0x42fe63(0x950)]??_0x40220d[_0x42fe63(0x399)];throw new Error(_0x42fe63(0x8ee)+_0x563917);}async[_0x332466(0x586)](){const _0x581632=_0x332466;if(!this['workflow'])throw new Error('Workflow\x20not\x20initialized');for(const _0x16f7c2 of this[_0x581632(0x596)][_0x581632(0x6af)]())try{const _0x4ccd74=this[_0x581632(0x5fd)][_0x581632(0x9f0)][_0x581632(0x962)](_0x3fac9b=>(_0x3fac9b[_0x581632(0x5a0)]===_0x5a247f[_0x581632(0x2f7)]||_0x3fac9b[_0x581632(0x5a0)]===_0x5a247f[_0x581632(0x678)])&&_0x3fac9b[_0x581632(0xa2c)]?.['some'](_0x556572=>_0x556572['id']===_0x16f7c2['getLabel']()));for(let _0x3a1404=_0x4ccd74[_0x581632(0x65d)]-0x1;_0x3a1404>=0x0;_0x3a1404--)for(const _0x1743cf of _0x4ccd74[_0x3a1404][_0x581632(0xa2c)]??[])_0x1743cf['type']===_0x1b697d['VectorDatabase']&&this[_0x581632(0x9b9)]['getVectorDatabase'](_0x1743cf['id'])[_0x581632(0xa94)]()&&_0x4ccd74[_0x581632(0x99e)](_0x3a1404,0x1),_0x1743cf[_0x581632(0x5a0)]===_0x1b697d['GraphDatabase']&&this[_0x581632(0x9b9)][_0x581632(0xa44)](_0x1743cf['id'])[_0x581632(0xa94)]()&&_0x4ccd74[_0x581632(0x99e)](_0x3a1404,0x1);const _0x3c2ee0=new Map();let _0x4b97a9=!0x1;for(const _0xbc3aae of _0x4ccd74){let _0x1e4e38=''+(_0xbc3aae[_0x581632(0x8c1)]??0x1);for(const _0x1e4815 of _0xbc3aae[_0x581632(0xa2c)]??[])_0x1e4815[_0x581632(0x5a0)]===_0x1b697d['Agent']&&(_0x1e4e38=_0x1e4e38+'-'+(_0x1e4815['version']??0x1));for(const _0x49d50f of _0xbc3aae[_0x581632(0xa2c)]??[])_0x49d50f[_0x581632(0x5a0)]===_0x1b697d[_0x581632(0x730)]&&_0x3c2ee0[_0x581632(0x72f)](_0x49d50f['id'],{'version':_0x1e4e38,'getDatabase':this['contentMediator'][_0x581632(0x3e1)]['bind'](this['contentMediator']),'block':_0x49d50f}),_0x49d50f[_0x581632(0x5a0)]===_0x1b697d[_0x581632(0x7f5)]&&_0x3c2ee0[_0x581632(0x72f)](_0x49d50f['id'],{'version':_0x1e4e38,'getDatabase':this[_0x581632(0x9b9)][_0x581632(0xa44)][_0x581632(0x531)](this[_0x581632(0x9b9)]),'block':_0x49d50f});}for(const {getDatabase:_0x3d7e89,block:_0x284e3c,version:_0x502632}of _0x3c2ee0[_0x581632(0x6af)]())try{const _0x5b3cbf=_0x3d7e89(_0x284e3c['id']);if(_0x5b3cbf[_0x581632(0xa94)]())continue;_0x5b3cbf[_0x581632(0xab7)](_0x502632),_0x5b3cbf[_0x581632(0x41d)](!0x0),_0x4b97a9=!0x0;}catch(_0x3f1255){console[_0x581632(0x998)](_0x3f1255),_0x4b97a9=!0x1;break;}if(_0x833509[_0x581632(0x5a6)](_0x581632(0x253)),_0x4b97a9)continue;_0x833509[_0x581632(0x5a6)](_0x581632(0xa24));const _0x1ce937=await _0x16f7c2[_0x581632(0xaa6)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x581632(0x813)](_0x37fc46[_0x581632(0x302)],_0x16f7c2['getName'](),_0x1ce937);for(const {getDatabase:_0x19669d,block:_0x35ac0d,version:_0x5dfd3f}of _0x3c2ee0['values']()){const _0x1e7a86=_0x19669d(_0x35ac0d['id']);_0x1e7a86[_0x581632(0xa94)]()||(_0x1e7a86['saveToDisk'](_0x5dfd3f),_0x1e7a86[_0x581632(0x41d)](!0x0));}}catch(_0xfdb5f2){_0x833509['error'](_0x581632(0x666),{'nodeId':this[_0x581632(0x2e7)][_0x581632(0x9cc)](),'nodeType':this[_0x581632(0x2e7)][_0x581632(0x5a0)]});}}async['loadExternalContent'](){const _0x1d4c45=_0x332466;for(const _0x8d2c7f of this['externalStores'][_0x1d4c45(0x6af)]())try{const _0x19938c=await _0x8d2c7f[_0x1d4c45(0xaa6)]('/',{'recursive':!0x0});await this[_0x1d4c45(0x813)](_0x37fc46[_0x1d4c45(0x4b7)],_0x8d2c7f[_0x1d4c45(0x1e1)](),_0x19938c);}catch(_0x276f05){_0x833509[_0x1d4c45(0x998)](_0x1d4c45(0x8ed),{'nodeId':this['localNode'][_0x1d4c45(0x9cc)](),'nodeType':this[_0x1d4c45(0x2e7)]['type']});}}async['syncFolder'](_0x4769e3,_0x1e52bd,_0x5f5709){const _0x23e17b=_0x332466;for(const _0x534658 of _0x5f5709){if(_0x534658['kind']===_0x57c18a[_0x23e17b(0x94f)][_0x23e17b(0x430)]){if(!_0x534658[_0x23e17b(0xa14)]||0x0===_0x534658[_0x23e17b(0xa14)]['length'])continue;await this['syncFolder'](_0x4769e3,_0x1e52bd,_0x534658[_0x23e17b(0xa14)]);}_0x534658[_0x23e17b(0x592)]===_0x57c18a[_0x23e17b(0x94f)][_0x23e17b(0x74d)]&&this[_0x23e17b(0x67d)](_0x4769e3,_0x1e52bd,_0x534658['pathName']);}return new Promise(_0x2230e2=>{const _0x2c3765=_0x1327a2['setInterval'](()=>{const _0xf8698c=a0_0x5279;0x0!==this[_0xf8698c(0x400)][_0xf8698c(0x65d)]||this[_0xf8698c(0x6f6)]||(_0x2c3765(),_0x2230e2());},0x1388);});}[_0x332466(0x419)](){const _0x370131=_0x332466;for(const _0xae0ade of this[_0x370131(0x596)][_0x370131(0x6af)]())_0xae0ade['subscribe'](this[_0x370131(0x308)],async _0xe64c1f=>{const _0x30bb63=_0x370131;switch(_0xe64c1f['event']){case _0x57c18a[_0x30bb63(0x6b4)][_0x30bb63(0x94c)]:this[_0x30bb63(0x794)](_0x37fc46['ObjectStorage'],_0xae0ade[_0x30bb63(0x1e1)](),_0xe64c1f['payload'][_0x30bb63(0x336)]['pathName']),this[_0x30bb63(0x67d)](_0x37fc46[_0x30bb63(0x302)],_0xae0ade[_0x30bb63(0x1e1)](),_0xe64c1f[_0x30bb63(0x8f8)][_0x30bb63(0x336)][_0x30bb63(0x399)]);break;case _0x57c18a[_0x30bb63(0x6b4)][_0x30bb63(0x280)]:this[_0x30bb63(0x794)](_0x37fc46[_0x30bb63(0x302)],_0xae0ade['getName'](),_0xe64c1f[_0x30bb63(0x8f8)][_0x30bb63(0x399)]);}});}[_0x332466(0x754)](){const _0x33de16=_0x332466;for(const _0x3f7cf6 of this[_0x33de16(0x690)][_0x33de16(0x6af)]())_0x3f7cf6[_0x33de16(0x3cf)](this[_0x33de16(0x308)],async _0x5f12b9=>{const _0x446897=_0x33de16;switch(_0x5f12b9[_0x446897(0x863)]){case _0x57c18a['StorageEventType'][_0x446897(0x94c)]:this[_0x446897(0x794)](_0x37fc46[_0x446897(0x4b7)],_0x3f7cf6[_0x446897(0x1e1)](),_0x5f12b9[_0x446897(0x8f8)][_0x446897(0x336)][_0x446897(0x399)]),this[_0x446897(0x67d)](_0x37fc46[_0x446897(0x4b7)],_0x3f7cf6['getName'](),_0x5f12b9[_0x446897(0x8f8)][_0x446897(0x336)][_0x446897(0x399)]);break;case _0x57c18a[_0x446897(0x6b4)]['FileDelete']:this[_0x446897(0x794)](_0x37fc46['ExternalStorage'],_0x3f7cf6[_0x446897(0x1e1)](),_0x5f12b9[_0x446897(0x8f8)][_0x446897(0x399)]);}});}[_0x332466(0x67d)](_0xd87001,_0x4c33b2,_0x181d96){const _0x53d663=_0x332466;this[_0x53d663(0x400)][_0x53d663(0x995)]({'type':'add','storageType':_0xd87001,'storeId':_0x4c33b2,'pathName':_0x181d96}),this['processContentQueue']();}[_0x332466(0x794)](_0x28481f,_0x4e0c77,_0xf2a126){const _0x44dd9b=_0x332466;this['contentQueue'][_0x44dd9b(0x995)]({'type':_0x44dd9b(0xa6d),'storageType':_0x28481f,'storeId':_0x4e0c77,'pathName':_0xf2a126}),this[_0x44dd9b(0x37f)]();}async['processContentQueue'](){const _0x24376f=_0x332466;if(!this[_0x24376f(0x6f6)]){try{this[_0x24376f(0x6f6)]=!0x0;const _0x4b9ceb=this['contentQueue']['shift']();if(!_0x4b9ceb)return;'add'===_0x4b9ceb[_0x24376f(0x5a0)]?await this['processAddContent'](_0x4b9ceb[_0x24376f(0x344)],_0x4b9ceb[_0x24376f(0x478)],_0x4b9ceb['pathName']):this[_0x24376f(0x38f)](_0x4b9ceb[_0x24376f(0x344)],_0x4b9ceb[_0x24376f(0x478)],_0x4b9ceb[_0x24376f(0x399)]);}catch(_0x4ff3d6){_0x833509[_0x24376f(0x998)](_0x24376f(0x3c3),{'nodeId':this[_0x24376f(0x2e7)]['getId'](),'nodeType':this[_0x24376f(0x2e7)][_0x24376f(0x5a0)]});}this[_0x24376f(0x6f6)]=!0x1,this['contentQueue'][_0x24376f(0x65d)]>0x0&&this['processContentQueue']();}}async[_0x332466(0x8a3)](_0xfb2868,_0x3c1909,_0x230035){const _0x4a443b=_0x332466;if(_0x833509['forceLog'](_0x4a443b(0x67d),_0xfb2868,_0x3c1909,_0x230035),!this[_0x4a443b(0x5fd)])throw new Error(_0x4a443b(0x7c1));let _0x507bf0;switch(_0xfb2868){case _0x37fc46[_0x4a443b(0x302)]:_0x507bf0=_0x1b697d[_0x4a443b(0x49f)];break;case _0x37fc46[_0x4a443b(0x4b7)]:_0x507bf0=_0x1b697d[_0x4a443b(0x82f)];}if(!_0x507bf0)return;const _0x58a192=this[_0x4a443b(0x5fd)][_0x4a443b(0x9f0)][_0x4a443b(0x962)](_0x47c716=>_0x47c716[_0x4a443b(0x5a0)]===_0x5a247f['Knowledge']||_0x47c716[_0x4a443b(0x5a0)]===_0x5a247f[_0x4a443b(0x2f7)]),_0xbd3bd=new Set(_0x58a192[_0x4a443b(0x604)](_0x58953e=>_0x58953e['id'])),_0x114b0e=_0x58a192['filter'](_0x17133f=>_0x17133f[_0x4a443b(0xa2c)]?.[_0x4a443b(0x76b)](_0x443ab9=>_0x443ab9[_0x4a443b(0x5a0)]===_0x507bf0&&_0x443ab9['id']===_0x3c1909)),_0xdcc46=[];for(const _0x56c2c4 of _0x114b0e){if(!_0xbd3bd['has'](_0x56c2c4['id']))continue;_0xbd3bd[_0x4a443b(0x6ea)](_0x56c2c4['id']);const _0x10a9e7=_0x56c2c4[_0x4a443b(0xa2c)]?.[_0x4a443b(0x405)](_0x3cb3b9=>_0x3cb3b9[_0x4a443b(0x5a0)]===_0x507bf0&&_0x3cb3b9['id']===_0x3c1909);_0x10a9e7&&_0x131ce2[_0x4a443b(0x7c5)](this['label'],async()=>{const _0x50a514=new Promise(async _0x4f9d2d=>{const _0x254275=a0_0x5279,_0x377fef=(0x0,_0x74103e['v4'])();_0x52ba77[_0x254275(0x20c)](null,_0x377fef),await _0x159a7f(_0x377fef,_0x230035,_0x10a9e7,_0x56c2c4[_0x254275(0xa2c)],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x254275(0x6be)],'generativeAIWorkerConnectors':this[_0x254275(0x2d2)],'models':this[_0x254275(0x5fd)][_0x254275(0x84d)],'contentMediator':this[_0x254275(0x9b9)],'searchApiKey':this[_0x254275(0x9a8)],'aiSearchApiKey':this[_0x254275(0x6bd)],'version':_0x56c2c4[_0x254275(0x8c1)]??0x1}),_0x52ba77[_0x254275(0x4b4)](_0x377fef),_0x4f9d2d();});_0xdcc46['push'](_0x50a514);});}await Promise[_0x4a443b(0x558)](_0xdcc46),this[_0x4a443b(0x78f)]();}[_0x332466(0x38f)](_0x24c240,_0x369290,_0xedf0a9){const _0x1dbc26=_0x332466;if(_0x833509['forceLog']('removeContent',_0x24c240,_0x369290,_0xedf0a9),!this[_0x1dbc26(0x5fd)])throw new Error('Workflow\x20not\x20initialized');let _0x21d0b6;switch(_0x24c240){case _0x37fc46[_0x1dbc26(0x302)]:_0x21d0b6=_0x1b697d[_0x1dbc26(0x49f)];break;case _0x37fc46[_0x1dbc26(0x4b7)]:_0x21d0b6=_0x1b697d[_0x1dbc26(0x82f)];}if(!_0x21d0b6)return;const _0x4889f4=this[_0x1dbc26(0x5fd)]['blocks']['filter'](_0x6a4fc3=>_0x6a4fc3[_0x1dbc26(0x5a0)]===_0x5a247f[_0x1dbc26(0x678)]||_0x6a4fc3['type']===_0x5a247f['DataCollection']),_0x4d5cad=new Set(_0x4889f4['map'](_0x3f1aa8=>_0x3f1aa8['id'])),_0x24a3e1=_0x4889f4[_0x1dbc26(0x962)](_0x2ed3c1=>_0x2ed3c1['ingestBlocks']?.[_0x1dbc26(0x76b)](_0x16a234=>_0x16a234[_0x1dbc26(0x5a0)]===_0x21d0b6&&_0x16a234['id']===_0x369290));for(const _0x11de05 of _0x24a3e1){if(!_0x4d5cad[_0x1dbc26(0x71d)](_0x11de05['id']))continue;_0x4d5cad[_0x1dbc26(0x6ea)](_0x11de05['id']);let _0x38c6b4=''+(_0x11de05['version']??0x1);for(const _0x304af5 of _0x11de05['ingestBlocks']??[])_0x304af5[_0x1dbc26(0x5a0)]===_0x1b697d[_0x1dbc26(0x6cd)]&&(_0x38c6b4=_0x38c6b4+'-'+(_0x304af5[_0x1dbc26(0x8c1)]??0x1));for(const _0x561c78 of _0x11de05[_0x1dbc26(0xa2c)]??[]){if(_0x561c78[_0x1dbc26(0x5a0)]===_0x1b697d[_0x1dbc26(0x730)]){const _0x6781c3=this[_0x1dbc26(0x9b9)][_0x1dbc26(0x3e1)](_0x561c78['id']);_0x6781c3[_0x1dbc26(0xa6d)](_0xedf0a9),_0x6781c3[_0x1dbc26(0xa94)]()&&_0x6781c3[_0x1dbc26(0x1ec)](_0x38c6b4);}if(_0x561c78['type']===_0x1b697d['GraphDatabase']){const _0x52ca99=this['contentMediator'][_0x1dbc26(0xa44)](_0x561c78['id']);_0x52ca99[_0x1dbc26(0xa6d)](_0xedf0a9),_0x52ca99[_0x1dbc26(0xa94)]()&&_0x52ca99['saveToDisk'](_0x38c6b4);}}}this[_0x1dbc26(0x78f)]();}[_0x332466(0x521)](){const _0x285be9=_0x332466;try{return this[_0x285be9(0x227)][_0x285be9(0xa70)]()['gpu']['cores']*(0x1-this[_0x285be9(0x227)]['getCapacityReport']()[_0x285be9(0x45a)][_0x285be9(0x9f7)]);}catch(_0x1dd83b){return _0x833509[_0x285be9(0x5d5)](_0xebc42c['Jobs'],_0x285be9(0x5ce),_0x1dd83b),0x0;}}[_0x332466(0x78f)](){const _0x616d74=_0x332466;this['isOpened']&&(this[_0x616d74(0x9a9)]&&clearTimeout(this[_0x616d74(0x9a9)]),this['debounceStats']=setTimeout(async()=>{const _0xaace39=_0x616d74;if(delete this[_0xaace39(0x9a9)],!this['modelStore'])return;let _0x30998a=await this[_0xaace39(0x979)][_0xaace39(0x874)]();for(const _0x269536 of this[_0xaace39(0x596)][_0xaace39(0x6af)]())_0x30998a+=await _0x269536['getSize']();this[_0xaace39(0x380)]['publish']({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0xaace39(0x66b)],'content':{'type':_0x5d4388[_0xaace39(0x2be)],'label':this[_0xaace39(0x308)],'stats':{'timestamp':Date[_0xaace39(0x3f4)](),'storage':_0x30998a,'messagesSent':this[_0xaace39(0x940)],'messagesReceived':this[_0xaace39(0x20f)],'bytesSent':this[_0xaace39(0x572)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0xaace39(0x9e5)],'tokens':this[_0xaace39(0x5aa)]}}});},_0x11318f));}[_0x332466(0x788)](_0x279254,_0x35a93c){const _0x87b48=_0x332466,_0x16dbe7=this[_0x87b48(0x308)],_0x336c45=this[_0x87b48(0x2bf)]();_0x833509[_0x87b48(0x788)](_0x80219b['GenerativeAIContext'],{'topic':_0x16dbe7,'type':_0x87b48(0x8ad),'nodeId':_0x336c45,'tokenCount':_0x35a93c,'tokensPerSecond':_0x279254});}[_0x332466(0x20c)](_0x1f5673){const _0x25a34d=_0x332466;try{if(!this[_0x25a34d(0x5fd)])throw new Error(_0x25a34d(0x7c1));if(!this[_0x25a34d(0x8a9)])throw new Error('Logging\x20database\x20not\x20initialized');if(!_0x52ba77[_0x25a34d(0x20c)](this[_0x25a34d(0x8a9)],_0x1f5673))throw new Error(_0x25a34d(0xa5f));return _0x1f5673;}catch(_0x2d4167){return console[_0x25a34d(0x998)](_0x25a34d(0xa5f),_0x2d4167),_0x25a34d(0x349);}}[_0x332466(0x4b4)](_0x2c30c8){const _0x4c961d=_0x332466;try{_0x52ba77[_0x4c961d(0x4b4)](_0x2c30c8);}catch(_0x2aedc6){console['error'](_0x4c961d(0x31c),{'jobId':_0x2c30c8,'error':_0x2aedc6});}}async[_0x332466(0x635)](){return new Promise(_0x3f479a=>{const _0x2e1c83=a0_0x5279;try{const _0x384657=_0x81f719(this[_0x2e1c83(0x640)],this[_0x2e1c83(0x308)]);this[_0x2e1c83(0x8a9)]=this['contentMediator'][_0x2e1c83(0x63e)](_0x384657),this[_0x2e1c83(0x8a9)][_0x2e1c83(0x3cf)](({event:_0x42c549})=>{const _0x4c6e5b=_0x2e1c83;_0x42c549===_0x57c18a['DatabaseEvent'][_0x4c6e5b(0x346)]&&(this[_0x4c6e5b(0x8a9)][_0x4c6e5b(0x219)](),_0x3f479a());});}catch(_0x3d4996){console[_0x2e1c83(0x998)](_0x2e1c83(0x47f)+_0x81f719(this[_0x2e1c83(0x640)],this[_0x2e1c83(0x308)])+_0x2e1c83(0x9ed),_0x3d4996),_0x3f479a();}});}}class _0x28b308 extends _0x46faea{['localNode'];[_0x332466(0x762)];[_0x332466(0x640)];['db'];[_0x332466(0x9a9)];[_0x332466(0x32d)]=0x0;[_0x332466(0x600)]=0x0;[_0x332466(0x615)]=!0x1;constructor(_0x17195f,_0x5d4975,_0x63ba53,_0x337966,_0x999bcf){const _0x13edbf=_0x332466;if(_0x13edbf(0x5b3)!=typeof _0x5d4975)throw new _0x212143(_0x198729[_0x13edbf(0x748)],'Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x17195f,_0x5d4975),this[_0x13edbf(0x2e7)]=_0x17195f,this[_0x13edbf(0x762)]=_0x63ba53,this[_0x13edbf(0x640)]=_0x337966;const _0x41cfcf=_0x13edbf(0x9c8)+this[_0x13edbf(0x640)]+_0x13edbf(0x9c8)+this[_0x13edbf(0x762)]+'ccc'+this[_0x13edbf(0x308)];this['db']=new _0x999bcf(_0x41cfcf),this[_0x13edbf(0x78f)]();}['getIsLoaded'](){const _0x585f91=_0x332466;return this[_0x585f91(0x615)];}[_0x332466(0x41d)](_0xbea6ba){const _0x1b3fb8=_0x332466;this[_0x1b3fb8(0x615)]=_0xbea6ba;}['destroy'](){const _0x5afb08=_0x332466;clearTimeout(this['debounceStats']),delete this[_0x5afb08(0x9a9)],super[_0x5afb08(0x5e0)]();}[_0x332466(0x1db)](){const _0x106593=_0x332466;this[_0x106593(0x380)][_0x106593(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x106593(0x66b)],'content':{'type':_0x5d4388[_0x106593(0x3d8)],'label':this[_0x106593(0x308)]}});}[_0x332466(0x62f)](){const _0x56f84b=_0x332466;return _0x57c18a[_0x56f84b(0x88a)][_0x56f84b(0x7f5)];}[_0x332466(0x357)](){const _0x107675=_0x332466;this[_0x107675(0x78f)]();}[_0x332466(0x7da)](_0xa88911,_0x523d80,_0x575782,_0x21d81f){this['db']['addNode'](_0xa88911,_0x523d80,_0x575782,_0x21d81f),this['writes']+=0x1,this['sendStats']();}[_0x332466(0xa5e)](_0x144535,_0x328666){const _0x1157d3=_0x332466;this['db'][_0x1157d3(0xa5e)](_0x144535,_0x328666),this['writes']+=0x1,this['sendStats']();}[_0x332466(0x717)](_0x439cd7,_0x3ab0d3,_0x4acec0){const _0x469ecb=_0x332466,_0x23ca2d=this['db'][_0x469ecb(0x717)](_0x439cd7,_0x3ab0d3,_0x4acec0);return this[_0x469ecb(0x600)]+=0x1,_0x833509[_0x469ecb(0x788)](_0x80219b['GraphDatabase'],{'type':_0x469ecb(0x4d6),'label':this[_0x469ecb(0x308)],'nodeId':this[_0x469ecb(0x2e7)][_0x469ecb(0x9cc)](),'nodeType':this[_0x469ecb(0x2e7)][_0x469ecb(0x5a0)],'clusterId':this[_0x469ecb(0x762)],'size':0x0}),this[_0x469ecb(0x78f)](),_0x23ca2d;}['remove'](_0x35e229){const _0x30c266=_0x332466;this['db'][_0x30c266(0xa6d)](_0x35e229),this[_0x30c266(0x32d)]+=0x1,this[_0x30c266(0x78f)]();}['saveToDisk'](_0x447e8d){const _0xb3a084=_0x332466;this['db'][_0xb3a084(0x1ec)](_0x447e8d);}['loadFromDisk'](_0x8a6b3a){const _0x2e0578=_0x332466;this['db'][_0x2e0578(0xab7)](_0x8a6b3a);}['sendStats'](){const _0x3a72df=_0x332466;this[_0x3a72df(0x9a9)]&&clearTimeout(this[_0x3a72df(0x9a9)]),this['debounceStats']=setTimeout(async()=>{const _0x124c23=_0x3a72df;delete this[_0x124c23(0x9a9)];const _0x2455ff=this['db'][_0x124c23(0x874)]();this[_0x124c23(0x380)][_0x124c23(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x124c23(0x66b)],'content':{'type':_0x5d4388[_0x124c23(0x699)],'label':this[_0x124c23(0x308)],'stats':{'timestamp':Date['now'](),'storage':_0x2455ff,'messagesSent':this[_0x124c23(0x940)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x124c23(0x572)],'bytesReceived':this[_0x124c23(0x99a)],'writes':this[_0x124c23(0x32d)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x833509[_0x124c23(0xa99)](_0x80219b[_0x124c23(0x7f5)],'ccc'+this[_0x124c23(0x762)]+_0x124c23(0x9c8)+this['label'],_0x2455ff);},_0x11318f);}}class _0x25b00f extends _0x1c7830{['mediaStream'];constructor(_0xbceec4,_0x73686f,_0x4993c5){super(_0xbceec4,_0x73686f),this['mediaStream']=_0x4993c5;}[_0x332466(0x62f)](){const _0x2607ce=_0x332466;return _0x57c18a['ContentType'][_0x2607ce(0x513)];}[_0x332466(0x22b)](){const _0x4912b5=_0x332466;return this[_0x4912b5(0x7b7)];}[_0x332466(0x189)](){const _0x363812=_0x332466;return this[_0x363812(0x7b7)]['id'];}}class _0xf1935f extends _0x25b00f{['remoteId'];[_0x332466(0x72b)];[_0x332466(0xab3)];[_0x332466(0x434)]=_0x1876b7();constructor(_0x41973a,_0x472849,_0x1ed0f1,_0x51aafd,_0x2c1920){const _0x4ce24e=_0x332466;super(_0x41973a,_0x472849,_0x1ed0f1),this['remoteId']=_0x51aafd,this[_0x4ce24e(0x72b)]=_0x2c1920;}[_0x332466(0x5e0)](){const _0x5f07fd=_0x332466;this['removeTrack']('audio'),this[_0x5f07fd(0x46e)](_0x5f07fd(0x3f7)),super[_0x5f07fd(0x5e0)]();}['addTrack'](_0xfbecdd){const _0x3f4fd2=_0x332466;if(!this[_0x3f4fd2(0xab3)])throw new _0x1ba31e(_0x1ba31e[_0x3f4fd2(0x631)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x3f4fd2(0x308)],'ownerId':this[_0x3f4fd2(0xabe)]['getId'](),'remoteId':this['remoteId']});this[_0x3f4fd2(0xab3)][_0x3f4fd2(0x778)]({'sourceId':this[_0x3f4fd2(0xabe)]['getId'](),'content':{'action':_0x30cc07[_0x3f4fd2(0x5b0)],'track':_0xfbecdd,'stream':this[_0x3f4fd2(0x7b7)],'priority':_0x57c18a[_0x3f4fd2(0x6f5)][_0x3f4fd2(0x23d)],'params':this[_0x3f4fd2(0x39c)](_0xfbecdd['kind'],this[_0x3f4fd2(0x72b)])}});}[_0x332466(0x46e)](_0x4f1d4a){const _0x454059=_0x332466,_0x15bd4c=this[_0x454059(0xa2b)](_0x4f1d4a);if(_0x15bd4c){if(!this[_0x454059(0xab3)])return null;this['topic'][_0x454059(0x778)]({'sourceId':this[_0x454059(0xabe)][_0x454059(0x9cc)](),'content':{'action':_0x30cc07[_0x454059(0x4bc)],'track':_0x15bd4c,'stream':this['mediaStream']}});}return _0x15bd4c;}[_0x332466(0x969)](_0x11544e){const _0x51b3a4=_0x332466;if(!this[_0x51b3a4(0xab3)])throw new _0x1ba31e(_0x1ba31e[_0x51b3a4(0x631)]['OutgoingMediaStreamNoTopic'],{'label':this['label'],'ownerId':this[_0x51b3a4(0xabe)][_0x51b3a4(0x9cc)](),'remoteId':this[_0x51b3a4(0x1f3)]});this[_0x51b3a4(0xab3)][_0x51b3a4(0x778)]({'sourceId':this[_0x51b3a4(0xabe)][_0x51b3a4(0x9cc)](),'content':{'action':_0x30cc07[_0x51b3a4(0x743)],'priority':_0x11544e,'stream':this['mediaStream']}});}[_0x332466(0x3cf)]({trackKinds:_0x1ce2db,params:_0x31feac},_0x4d902f){const _0x1a8d81=_0x332466;if(!this[_0x1a8d81(0xab3)])throw new _0x1ba31e(_0x1ba31e['codes'][_0x1a8d81(0x3c2)],{'label':this[_0x1a8d81(0x308)],'ownerId':this['owner']['getId'](),'remoteId':this['remoteId']});for(const _0xcc6bdc of this[_0x1a8d81(0x7b7)][_0x1a8d81(0x260)]())_0x1ce2db[_0x1a8d81(0x988)](_0xcc6bdc['kind'])&&this['topic'][_0x1a8d81(0x778)]({'sourceId':this[_0x1a8d81(0xabe)][_0x1a8d81(0x9cc)](),'content':{'action':_0x30cc07['Add'],'track':_0xcc6bdc,'stream':this['mediaStream'],'priority':_0x4d902f,'params':this[_0x1a8d81(0x39c)](_0xcc6bdc[_0x1a8d81(0x592)],_0x31feac)}});}[_0x332466(0x422)]({params:_0x374068}){const _0x5b6bc2=_0x332466;if(!this['topic'])throw new _0x1ba31e(_0x1ba31e[_0x5b6bc2(0x631)][_0x5b6bc2(0x3c2)],{'label':this[_0x5b6bc2(0x308)],'ownerId':this[_0x5b6bc2(0xabe)]['getId'](),'remoteId':this[_0x5b6bc2(0x1f3)]});for(const _0x2b10e1 of this[_0x5b6bc2(0x7b7)][_0x5b6bc2(0x260)]())this[_0x5b6bc2(0xab3)][_0x5b6bc2(0x778)]({'sourceId':this[_0x5b6bc2(0xabe)][_0x5b6bc2(0x9cc)](),'content':{'action':_0x30cc07[_0x5b6bc2(0x743)],'stream':this[_0x5b6bc2(0x7b7)],'params':this[_0x5b6bc2(0x39c)](_0x2b10e1[_0x5b6bc2(0x592)],_0x374068)}});}[_0x332466(0x219)]({trackKinds:_0x205de1}){const _0x3e65f0=_0x332466;if(this[_0x3e65f0(0xab3)]){for(const _0x7a36a8 of this[_0x3e65f0(0x7b7)][_0x3e65f0(0x260)]())_0x205de1[_0x3e65f0(0x988)](_0x7a36a8[_0x3e65f0(0x592)])&&this['topic'][_0x3e65f0(0x778)]({'sourceId':this[_0x3e65f0(0xabe)][_0x3e65f0(0x9cc)](),'content':{'action':_0x30cc07[_0x3e65f0(0x4bc)],'stream':this['mediaStream'],'track':_0x7a36a8}});}}[_0x332466(0x1d5)](_0x510a0e){const _0x583ef7=_0x332466;this[_0x583ef7(0xab3)]=_0x510a0e;}[_0x332466(0x52d)](_0x20818b){const _0x45275d=_0x332466;_0x20818b===this[_0x45275d(0xab3)]&&(delete this[_0x45275d(0xab3)],this[_0x45275d(0x434)]['publish']());}[_0x332466(0x827)](_0x1ad0d8){return this['unregisterPublisherListener']['subscribe'](_0x1ad0d8);}[_0x332466(0xa2b)](_0x399126){const _0x1dc930=_0x332466;return this[_0x1dc930(0x7b7)][_0x1dc930(0x260)]()[_0x1dc930(0x405)](_0x3779a0=>_0x3779a0['kind']===_0x399126)||null;}['getInternalTrackParams'](_0x22a87a,_0x5ab0b1){const _0x3d1ff0=_0x332466;let _0x479f6a;return _0x3d1ff0(0x3f7)===_0x22a87a&&_0x5ab0b1?.['video']&&_0x3d1ff0(0x27d)!=typeof _0x5ab0b1[_0x3d1ff0(0x3f7)]&&(_0x479f6a={'kind':_0x3d1ff0(0x3f7),..._0x5ab0b1['video']},_0x479f6a[_0x3d1ff0(0x184)]=this[_0x3d1ff0(0x8ea)]()),'audio'===_0x22a87a&&_0x5ab0b1?.[_0x3d1ff0(0x3f9)]&&_0x3d1ff0(0x27d)!=typeof _0x5ab0b1[_0x3d1ff0(0x3f9)]&&(_0x479f6a={'kind':_0x3d1ff0(0x3f9),..._0x5ab0b1[_0x3d1ff0(0x3f9)]}),_0x479f6a;}['getResolution'](){const _0x289021=_0x332466;let _0x5a6bf4={'width':0x0,'height':0x0};const _0x3d1b58=this['mediaStream']['getVideoTracks']();if(_0x3d1b58[_0x289021(0x65d)]>0x0){const _0x1b819f=_0x3d1b58[0x0][_0x289021(0x6d8)]();_0x1b819f['width']&&_0x1b819f[_0x289021(0xa12)]&&(_0x5a6bf4={'width':_0x1b819f['width'],'height':_0x1b819f[_0x289021(0xa12)]});}return _0x5a6bf4;}}class _0x30c877 extends _0x25b00f{[_0x332466(0x762)];[_0x332466(0x56b)]=_0x57c18a[_0x332466(0x6f5)][_0x332466(0x23d)];[_0x332466(0x7cc)]=new Map();[_0x332466(0xa9b)]=new Map();constructor(_0x5595c0,_0xfd3f2e,_0x3805e2,_0x475d2b){const _0x1fe939=_0x332466;super(_0x5595c0,_0xfd3f2e,_0x3805e2 instanceof MediaStream?_0x3805e2:_0x3805e2[_0x1fe939(0x414)]?_0x3805e2[_0x1fe939(0x414)]:_0x3805e2[_0x1fe939(0x208)]()),this['clusterId']=_0x475d2b,this[_0x1fe939(0x7b7)]['getTracks']()['forEach'](_0x37f2df=>this[_0x1fe939(0x7cf)](_0x37f2df)),_0x833509[_0x1fe939(0x788)](_0x80219b['MediaStream'],{'type':_0x1fe939(0x778),'label':this[_0x1fe939(0x308)],'nodeId':this['owner'][_0x1fe939(0x9cc)](),'nodeType':this[_0x1fe939(0xabe)][_0x1fe939(0x5a0)],'clusterId':this[_0x1fe939(0x762)],'streamId':this[_0x1fe939(0x189)](),'trackKinds':this[_0x1fe939(0x7b7)]['getTracks']()['map'](_0x3c2cdf=>_0x3c2cdf[_0x1fe939(0x592)])});}[_0x332466(0x5e0)](){const _0x9b3028=_0x332466;this[_0x9b3028(0xa9b)]['size']>0x0&&(this[_0x9b3028(0xa9b)][_0x9b3028(0x602)](_0x5efe4e=>{const _0x9b1dd3=_0x9b3028;_0x5efe4e['unregisterSystemPublisher'](),_0x5efe4e[_0x9b1dd3(0x5e0)]();}),this[_0x9b3028(0xa9b)][_0x9b3028(0x767)]()),this[_0x9b3028(0x7cc)][_0x9b3028(0x602)](_0x536693=>_0x536693()),super['destroy']();}[_0x332466(0x778)](_0x3d2a2c){const _0x162b30=_0x332466;this[_0x162b30(0x380)][_0x162b30(0x778)]({'sourceId':this[_0x162b30(0xabe)]['getId'](),'destinationIds':_0x3d2a2c?[_0x3d2a2c]:void 0x0,'propagate':!0x0,'messageType':_0x2e0616[_0x162b30(0x66b)],'content':{'type':_0x5d4388[_0x162b30(0x841)],'ownerId':this[_0x162b30(0xabe)][_0x162b30(0x9cc)](),'label':this[_0x162b30(0x308)],'stream':{'streamId':this[_0x162b30(0x189)](),'availableTrackKinds':this[_0x162b30(0x7b7)]['getTracks']()[_0x162b30(0x604)](_0x27859e=>_0x27859e['kind'])}}});}[_0x332466(0x7fa)](){const _0x2819d3=_0x332466;this[_0x2819d3(0x380)][_0x2819d3(0x778)]({'sourceId':this['owner'][_0x2819d3(0x9cc)](),'propagate':!0x0,'messageType':_0x2e0616[_0x2819d3(0x66b)],'content':{'type':_0x5d4388[_0x2819d3(0x54f)],'ownerId':this[_0x2819d3(0xabe)]['getId'](),'label':this[_0x2819d3(0x308)]}}),this['systemTopic']['publish']({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x2819d3(0x66b)],'content':{'type':_0x5d4388[_0x2819d3(0x29a)],'label':this['label']}}),_0x833509['logServiceEvent'](_0x80219b['MediaStream'],{'type':'unpublish','label':this[_0x2819d3(0x308)],'nodeId':this[_0x2819d3(0xabe)][_0x2819d3(0x9cc)](),'nodeType':this['owner']['type'],'clusterId':this[_0x2819d3(0x762)],'streamId':this['getInternalStreamId']()});}[_0x332466(0xa3f)](){const _0x1d16a5=_0x332466;return this[_0x1d16a5(0x56b)];}[_0x332466(0x969)](_0x27325a){const _0x16ae8f=_0x332466;this[_0x16ae8f(0x56b)]=_0x27325a,this[_0x16ae8f(0xa9b)][_0x16ae8f(0x602)](_0x35ba26=>_0x35ba26[_0x16ae8f(0x969)](_0x27325a));}['getShareableStream'](_0x32065b,_0xfd8eb3){const _0x370bd4=_0x332466;if(!this[_0x370bd4(0xa9b)][_0x370bd4(0x71d)](_0x32065b)){const _0x525f43=new _0xf1935f(this['owner'],this[_0x370bd4(0x308)],this[_0x370bd4(0x7b7)],_0x32065b,_0xfd8eb3),_0xfbf880=_0x525f43['onUnregisterPublisher'](()=>{const _0x923e97=_0x370bd4;_0xfbf880(),this[_0x923e97(0xa9b)]['get'](_0x32065b)?.[_0x923e97(0x5e0)](),this[_0x923e97(0xa9b)][_0x923e97(0x6ea)](_0x32065b);});this[_0x370bd4(0xa9b)]['set'](_0x32065b,_0x525f43),_0x525f43[_0x370bd4(0x4bd)](this[_0x370bd4(0x380)]);}return this[_0x370bd4(0xa9b)][_0x370bd4(0x4d1)](_0x32065b);}[_0x332466(0x34d)](){const _0x256f38=_0x332466;return this[_0x256f38(0x7b7)]['id'];}['handleLocalTrackFailure'](_0x20a37a){const _0xc4f639=_0x332466;this[_0xc4f639(0x380)][_0xc4f639(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0xc4f639(0x66b)],'content':{'type':_0x5d4388[_0xc4f639(0x9f3)],'label':this[_0xc4f639(0x308)],'trackKinds':[_0x20a37a[_0xc4f639(0x592)]]}});}[_0x332466(0x7cf)](_0x5ba717){const _0x69244b=_0x332466,_0x499f5f=()=>this[_0x69244b(0x832)](_0x5ba717);_0x5ba717[_0x69244b(0xa67)]('ended',_0x499f5f),_0x5ba717['addEventListener']('mute',_0x499f5f),this[_0x69244b(0x7cc)][_0x69244b(0x72f)](_0x5ba717[_0x69244b(0x592)],()=>{const _0x1ebf4b=_0x69244b;_0x5ba717[_0x1ebf4b(0x223)](_0x1ebf4b(0x607),_0x499f5f),_0x5ba717[_0x1ebf4b(0x223)]('mute',_0x499f5f),this['trackEndedListeners'][_0x1ebf4b(0x6ea)](_0x5ba717['kind']);});}}class _0xd8123b extends _0x30c877{[_0x332466(0x505)];[_0x332466(0x8ce)]=[];[_0x332466(0x532)];[_0x332466(0xa80)];[_0x332466(0x225)];[_0x332466(0x323)];[_0x332466(0x48d)];['context'];[_0x332466(0x5d8)];constructor(_0x5d879c,_0x20b238,_0x46311b,_0x2dc061,_0x197302,_0x29e70d){const _0x4ae4cc=_0x332466;if(super(_0x5d879c,_0x20b238,_0x46311b,_0x29e70d),this[_0x4ae4cc(0x505)]=_0x197302,this['clientStream']=this[_0x4ae4cc(0x7b7)],this['sourceVideo']=document[_0x4ae4cc(0x182)](_0x4ae4cc(0x3f7)),this[_0x4ae4cc(0x323)][_0x4ae4cc(0xa64)]=!0x0,this[_0x4ae4cc(0x323)][_0x4ae4cc(0xae0)]=!0x0,this[_0x4ae4cc(0x323)][_0x4ae4cc(0x414)]=this[_0x4ae4cc(0x532)],this[_0x4ae4cc(0x323)][_0x4ae4cc(0x9f7)](),this['sourceVideo'][_0x4ae4cc(0x2c0)]=()=>{const _0x524961=_0x4ae4cc;this['sourceVideo'][_0x524961(0x776)]();},this[_0x4ae4cc(0x48d)]=document['createElement'](_0x4ae4cc(0x48d)),this[_0x4ae4cc(0x190)]=this[_0x4ae4cc(0x48d)]['getContext']('2d'),this[_0x4ae4cc(0x7b7)]=this[_0x4ae4cc(0x48d)]['captureStream'](_0x2dc061),this[_0x4ae4cc(0x225)]=this[_0x4ae4cc(0x505)][_0x4ae4cc(0x6e4)](),this[_0x4ae4cc(0x532)][_0x4ae4cc(0x994)]()['length']>0x0){const _0x2c2db6=this[_0x4ae4cc(0x532)][_0x4ae4cc(0x994)]()[0x0];this[_0x4ae4cc(0xa80)]=this['audioContext'][_0x4ae4cc(0x71f)](new MediaStream([_0x2c2db6])),this[_0x4ae4cc(0xa80)][_0x4ae4cc(0x4f4)](this[_0x4ae4cc(0x225)]);}const _0x2395f4=this[_0x4ae4cc(0x225)][_0x4ae4cc(0x24f)][_0x4ae4cc(0x260)]()[0x0];this[_0x4ae4cc(0x7b7)]['addTrack'](_0x2395f4),this[_0x4ae4cc(0x5d8)]=setInterval(()=>{const _0x22945f=_0x4ae4cc;this[_0x22945f(0x48d)]['width']=this['sourceVideo'][_0x22945f(0x5ca)],this['canvas'][_0x22945f(0xa12)]=this[_0x22945f(0x323)][_0x22945f(0x8d0)],this['sourceVideo'][_0x22945f(0x5ca)]?(0x0!==this[_0x22945f(0x532)][_0x22945f(0xae7)]()[_0x22945f(0x65d)]&&this['clientStream'][_0x22945f(0xae7)]()[0x0][_0x22945f(0x5e8)]?this[_0x22945f(0x7b7)][_0x22945f(0xae7)]()[0x0][_0x22945f(0x5e8)]=!0x0:this['mediaStream'][_0x22945f(0xae7)]()[0x0][_0x22945f(0x5e8)]=!0x1,0x0!==this['clientStream']['getAudioTracks']()[_0x22945f(0x65d)]&&this['clientStream']['getAudioTracks']()[0x0][_0x22945f(0x5e8)]?this['mediaStream'][_0x22945f(0x994)]()[0x0][_0x22945f(0x5e8)]=!0x0:this['mediaStream']['getAudioTracks']()[0x0][_0x22945f(0x5e8)]=!0x1,this[_0x22945f(0x190)][_0x22945f(0xa7e)](this[_0x22945f(0x323)],0x0,0x0)):this[_0x22945f(0x190)][_0x22945f(0x2a6)](0x0,0x0,this['canvas'][_0x22945f(0x7b2)],this[_0x22945f(0x48d)][_0x22945f(0xa12)]);},0x3e8/_0x2dc061);}['destroy'](){const _0x52be15=_0x332466;clearInterval(this[_0x52be15(0x5d8)]),this[_0x52be15(0x323)][_0x52be15(0xa6d)](),this['canvas'][_0x52be15(0xa6d)](),this[_0x52be15(0xa80)]?.[_0x52be15(0x768)](),this[_0x52be15(0x225)][_0x52be15(0x768)](),this['mediaStream'][_0x52be15(0x260)]()[_0x52be15(0x602)](_0x1552f3=>{const _0x479ed8=_0x52be15;_0x1552f3[_0x479ed8(0xa87)](),this[_0x479ed8(0x7b7)][_0x479ed8(0x46e)](_0x1552f3);}),super[_0x52be15(0x5e0)]();}[_0x332466(0x3b3)](_0x56aca6){const _0x1f2535=_0x332466,_0x3d5fec=this['getTrack'](_0x56aca6['kind']);_0x3d5fec&&this[_0x1f2535(0x46e)](_0x3d5fec),_0x1f2535(0x3f9)!==_0x56aca6[_0x1f2535(0x592)]?(_0x1f2535(0x3f7)===_0x56aca6[_0x1f2535(0x592)]&&this[_0x1f2535(0x7a6)](_0x56aca6),this['setupTrackEndedListeners'](_0x56aca6)):this[_0x1f2535(0x710)](_0x56aca6);}[_0x332466(0x46e)](_0x437c69){const _0x354f7f=_0x332466,_0x5aa948=this[_0x354f7f(0x842)](_0x437c69);return _0x5aa948&&(_0x354f7f(0x3f9)===_0x5aa948['kind']&&(this['audioSource']?.[_0x354f7f(0x768)](),this['audioSource']=void 0x0),this['trackEndedListeners'][_0x354f7f(0x4d1)](_0x5aa948[_0x354f7f(0x592)])?.(),this[_0x354f7f(0x532)][_0x354f7f(0x46e)](_0x5aa948)),_0x5aa948;}[_0x332466(0x1ab)](_0x123cb5){const _0x30ceaa=_0x332466;this[_0x30ceaa(0x46e)](_0x123cb5[_0x30ceaa(0x592)]),this[_0x30ceaa(0x3b3)](_0x123cb5);}['setTransformations'](_0xea0576){const _0x2463bd=_0x332466;this[_0x2463bd(0x8ce)]=_0xea0576;}[_0x332466(0xa2b)](_0x2f1cad){const _0x42f32a=_0x332466;return this['clientStream'][_0x42f32a(0x260)]()[_0x42f32a(0x405)](_0x5c56d4=>_0x5c56d4['kind']===_0x2f1cad)||null;}[_0x332466(0x842)](_0x349318){const _0x513eef=_0x332466;return _0x513eef(0x5b3)==typeof _0x349318?this[_0x513eef(0xa2b)](_0x349318):_0x349318;}[_0x332466(0x710)](_0x59870e){const _0x2f25c3=_0x332466;_0x2f25c3(0xa23)===this[_0x2f25c3(0x505)][_0x2f25c3(0x484)]&&this[_0x2f25c3(0x505)]['resume'](),this[_0x2f25c3(0x532)][_0x2f25c3(0x3b3)](_0x59870e),this['audioSource']=this[_0x2f25c3(0x505)]['createMediaStreamSource'](this[_0x2f25c3(0x532)]),this[_0x2f25c3(0xa80)]['connect'](this[_0x2f25c3(0x225)]);}[_0x332466(0x7a6)](_0x4695dc){const _0x3dca8b=_0x332466;this['clientStream']['addTrack'](_0x4695dc),this[_0x3dca8b(0x323)][_0x3dca8b(0x9f7)]();}}class _0x2870e2 extends _0x30c877{}class _0x387c3b extends _0x46faea{[_0x332466(0x2e7)];[_0x332466(0x762)];[_0x332466(0x640)];['transactionService'];['waitForArrayBufferSize'];[_0x332466(0x3ca)];[_0x332466(0x5e7)];[_0x332466(0x8bb)];['pendingSyncTransactions']=new Map();[_0x332466(0x22f)]=new Map();[_0x332466(0x514)]=new Map();['pendingFilesTransactions']=new Map();[_0x332466(0x92f)]=new Map();[_0x332466(0x6b9)]=new Map();[_0x332466(0x66e)];['eventListener']=_0x5ad0e0();['listenerUnsubscribers']=new Map();[_0x332466(0x9a9)];[_0x332466(0x32d)]=0x0;['reads']=0x0;['syncContent']=!0x0;[_0x332466(0x895)]=!0x0;[_0x332466(0x518)]=0x0;['nodesConnected']=0x0;constructor(_0x4c933f,_0x5f1e8b,_0x3334cf,_0x41b5c4,_0x2661a0,_0x263038,_0x32466c,_0x1912c6){const _0x5e1394=_0x332466;if(_0x5e1394(0x5b3)!=typeof _0x5f1e8b)throw new _0x212143(_0x198729[_0x5e1394(0x3ee)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x4c933f,_0x5f1e8b),this[_0x5e1394(0x2e7)]=_0x4c933f,this[_0x5e1394(0x762)]=_0x3334cf,this[_0x5e1394(0x640)]=_0x41b5c4,this[_0x5e1394(0x909)]=_0x2661a0,this[_0x5e1394(0xa57)]=_0x32466c,this[_0x5e1394(0x3ca)]=_0x1912c6;const _0xad1fb2='ccc'+this[_0x5e1394(0x640)]+_0x5e1394(0x9c8)+this['clusterId']+_0x5e1394(0x9c8)+_0x5f1e8b;this['objectStoreConnector']=new _0x263038(_0xad1fb2),this[_0x5e1394(0x559)]=this['options']?.[_0x5e1394(0x559)]??!0x0,this[_0x5e1394(0x3ca)]?.['standalone']&&(this[_0x5e1394(0x559)]=!0x1),this[_0x5e1394(0x78f)]();}[_0x332466(0x357)](){this['sendStats']();}[_0x332466(0x62f)](){const _0xfaeb09=_0x332466;return _0x57c18a[_0xfaeb09(0x88a)][_0xfaeb09(0x59e)];}async['sync'](){const _0x2aa06e=_0x332466;this[_0x2aa06e(0x895)]=!0x0;try{const _0x2c8d6e=await this[_0x2aa06e(0x66e)][_0x2aa06e(0x4d1)](_0x2bdfc3),_0x18c987=await _0x2c8d6e[_0x2aa06e(0x644)]();this['lastTransactionId']=_0x18c987;}catch(_0x4dace5){}this[_0x2aa06e(0x5e7)]=this[_0x2aa06e(0x6b1)](async(_0x37b3ac,_0x3ad038)=>{const _0x2210c7=_0x2aa06e;if(!(_0x3ad038 instanceof File))try{if(_0x3ad038['payloadType']===_0x501a74['Request'])return void this[_0x2210c7(0x777)](_0x3ad038);this[_0x2210c7(0x68b)](_0x3ad038);}catch(_0x226afe){if(_0x226afe instanceof _0x1ba31e)throw _0x226afe;throw new _0x1ba31e(_0x1ba31e['codes'][_0x2210c7(0x333)],{'payload':_0x3ad038});}}),await this[_0x2aa06e(0x886)](),this[_0x2aa06e(0x559)]?await this['syncPendingFiles']():this[_0x2aa06e(0x1f2)](),this[_0x2aa06e(0x78f)]();}['destroy'](){const _0x152d29=_0x332466;this[_0x152d29(0x5e7)]?.(),this[_0x152d29(0x335)][_0x152d29(0x602)](_0x17bd21=>_0x17bd21()),this[_0x152d29(0x335)][_0x152d29(0x767)](),clearTimeout(this[_0x152d29(0x9a9)]),delete this['debounceStats'],super[_0x152d29(0x5e0)]();}[_0x332466(0x1db)](){const _0x5ad738=_0x332466;this[_0x5ad738(0x380)]?.[_0x5ad738(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x5ad738(0x66b)],'content':{'type':_0x5d4388[_0x5ad738(0x9db)],'label':this[_0x5ad738(0x308)]}});}[_0x332466(0x3cf)](_0x8303dd,_0x2bb998){const _0x78d03c=_0x332466;if(this[_0x78d03c(0x335)]['has'](_0x8303dd))throw new _0x212143(_0x198729[_0x78d03c(0x53b)],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this[_0x78d03c(0x335)]['set'](_0x8303dd,this[_0x78d03c(0x4f9)][_0x78d03c(0x3cf)](_0x2bb998)),this[_0x78d03c(0x895)]||this[_0x78d03c(0x4f9)][_0x78d03c(0x778)]({'event':_0x57c18a[_0x78d03c(0x6b4)][_0x78d03c(0x346)],'payload':{'filesSynced':this[_0x78d03c(0x518)]}});}[_0x332466(0x219)](_0x3a5735){const _0x3d69e9=_0x332466;this[_0x3d69e9(0x335)][_0x3d69e9(0x4d1)](_0x3a5735)?.(),this[_0x3d69e9(0x335)][_0x3d69e9(0x6ea)](_0x3a5735);}['publish'](_0x4700f9){const _0x34b59c=_0x332466;switch(_0x4700f9['action']){case _0x57c18a['PayloadAction'][_0x34b59c(0x74d)]:return this[_0x34b59c(0x63a)](_0x4700f9['file'],_0x4700f9[_0x34b59c(0x92c)],_0x4700f9['options']);case _0x57c18a['PayloadAction']['Folder']:return this[_0x34b59c(0x33d)](_0x4700f9[_0x34b59c(0x92c)]);case _0x57c18a['PayloadAction'][_0x34b59c(0x624)]:return this[_0x34b59c(0x770)](_0x4700f9['path'],_0x4700f9['newPath']);default:throw new _0x212143(_0x198729['ObjectStoreInvalidPayload'],_0x34b59c(0x8d9)+_0x4700f9);}}async['unpublish'](_0x31c736){const _0x293ce9=_0x332466;try{const _0x39bca3=(0x0,_0x74103e['v4'])(),_0x3141c6=this[_0x293ce9(0x8bb)],_0x27e421={'payloadType':_0x501a74[_0x293ce9(0x84f)],'action':_0x2425d2[_0x293ce9(0x527)],'id':_0x39bca3,'parentId':_0x3141c6,'path':_0x31c736};await this[_0x293ce9(0x823)](_0x27e421);const _0x7b95f=await this[_0x293ce9(0x198)](_0x31c736);!0x0!==this['options']?.[_0x293ce9(0x51f)]&&await this[_0x293ce9(0x922)](_0x27e421),_0x833509[_0x293ce9(0x788)](_0x80219b[_0x293ce9(0x302)],{'type':_0x293ce9(0x7fa),'label':this[_0x293ce9(0x308)],'nodeId':this['localNode'][_0x293ce9(0x9cc)](),'nodeType':this[_0x293ce9(0x2e7)][_0x293ce9(0x5a0)],'clusterId':this[_0x293ce9(0x762)],'kind':_0x7b95f,'path':_0x31c736}),this[_0x293ce9(0x32d)]+=0x1,this[_0x293ce9(0x78f)]();}catch(_0x3357e8){if(_0x3357e8 instanceof _0x1ba31e)throw new _0x212143(_0x198729['ObjectStoreNotInSync'],_0x293ce9(0x8ca)+_0x31c736+':\x20Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x212143(_0x198729[_0x293ce9(0x2af)],_0x293ce9(0x8c7)+_0x31c736);}}async[_0x332466(0x4d1)](_0x44e863,_0x14d2ed){const _0x343544=_0x332466;_0x833509[_0x343544(0x788)](_0x80219b['ObjectStorage'],{'type':_0x343544(0x4d1),'label':this['label'],'nodeId':this[_0x343544(0x2e7)][_0x343544(0x9cc)](),'nodeType':this[_0x343544(0x2e7)]['type'],'clusterId':this[_0x343544(0x762)],'path':_0x44e863}),this[_0x343544(0x600)]+=0x1,this['sendStats']();try{return await this['objectStoreConnector'][_0x343544(0x4d1)](_0x44e863,_0x14d2ed);}catch(_0x3c2a06){try{await this[_0x343544(0x66e)][_0x343544(0x4d1)](_0x44e863+_0xfe550e);}catch(_0x597324){throw new _0x212143(_0x198729[_0x343544(0x2af)],'Cannot\x20get\x20file:\x20'+_0x44e863);}throw new _0x212143(_0x198729[_0x343544(0x3f2)],_0x343544(0x585));}}async[_0x332466(0xaa6)](_0x3477ee,_0x239b84){const _0x1a6eec=_0x332466,{recursive:_0x5275e1=!0x1,includeSyncingFiles:_0x87dc6b=!0x1}=_0x239b84??{};_0x833509[_0x1a6eec(0x788)](_0x80219b[_0x1a6eec(0x302)],{'type':_0x1a6eec(0xaa6),'label':this[_0x1a6eec(0x308)],'nodeId':this[_0x1a6eec(0x2e7)]['getId'](),'nodeType':this[_0x1a6eec(0x2e7)][_0x1a6eec(0x5a0)],'clusterId':this[_0x1a6eec(0x762)],'path':_0x3477ee}),this[_0x1a6eec(0x600)]+=0x1,this[_0x1a6eec(0x78f)]();try{const _0xa68ec8=await this['objectStoreConnector'][_0x1a6eec(0xaa6)](_0x3477ee,_0x5275e1);return this['processList'](_0xa68ec8,{'recursive':_0x5275e1,'includeSyncingFiles':_0x87dc6b});}catch(_0x230f80){throw new _0x212143(_0x198729[_0x1a6eec(0x2af)],_0x1a6eec(0x55f)+_0x3477ee);}}[_0x332466(0x720)](_0x3ddb84){const _0x432ea2=_0x332466;this[_0x432ea2(0x783)]+=0x1;for(const _0x4afcea of this[_0x432ea2(0x22f)][_0x432ea2(0x6af)]())this[_0x432ea2(0x922)](_0x4afcea,[_0x3ddb84]);}[_0x332466(0x319)](_0x19d8f5){const _0x40d5ff=_0x332466;this['nodesConnected']-=0x1;const _0x3674a4=this['pendingFilesSyncing']['get'](_0x19d8f5);if(_0x3674a4){for(const [_0x4963a8,_0x10ea97]of _0x3674a4[_0x40d5ff(0x6af)]())this[_0x40d5ff(0x339)](_0x4963a8,_0x10ea97);this[_0x40d5ff(0x514)][_0x40d5ff(0x6ea)](_0x19d8f5);}}async['getSize'](_0x33cc46='/'){const _0x43edc3=_0x332466;try{return await this[_0x43edc3(0x66e)][_0x43edc3(0x394)](_0x33cc46);}catch(_0x239bba){if(_0x239bba instanceof Error&&_0x239bba[_0x43edc3(0x1e2)]['includes'](_0x43edc3(0xac3)))return 0x0;throw new _0x212143(_0x198729['ObjectStoreInvalidPath'],_0x43edc3(0xaa3)+_0x33cc46);}}[_0x332466(0x1f2)](){const _0x20a7e2=_0x332466;this[_0x20a7e2(0x895)]&&(this[_0x20a7e2(0x895)]=!0x1,this[_0x20a7e2(0x4f9)]['publish']({'event':_0x57c18a[_0x20a7e2(0x6b4)]['SyncComplete'],'payload':{'filesSynced':this[_0x20a7e2(0x518)]}}));}async[_0x332466(0x943)](_0x5aa472,{includeSyncingFiles:_0x27b91e=!0x1}){const _0x36ce70=_0x332466,_0x40d0e3=[];for(const _0x3dc20a of _0x5aa472)if(_0x3dc20a[_0x36ce70(0x592)]!==_0x57c18a[_0x36ce70(0x94f)][_0x36ce70(0x430)]){if(_0x3dc20a[_0x36ce70(0x8c6)]!==_0x2bdfc3){if(_0x3dc20a[_0x36ce70(0x8c6)][_0x36ce70(0xae6)](_0xfe550e)){if(!_0x27b91e)continue;const _0x20905c=_0x3dc20a;if(_0x20905c[_0x36ce70(0x8c6)]=_0x20905c[_0x36ce70(0x8c6)]['replace'](_0xfe550e,''),_0x20905c[_0x36ce70(0x399)]=_0x20905c[_0x36ce70(0x399)][_0x36ce70(0x706)](_0xfe550e,''),await this[_0x36ce70(0x6fa)](_0x20905c[_0x36ce70(0x399)])){_0x5aa472[_0x36ce70(0x405)](_0x72c34e=>_0x72c34e[_0x36ce70(0x399)]===_0x20905c[_0x36ce70(0x399)])[_0x36ce70(0x50e)]=_0x57c18a[_0x36ce70(0x3a8)][_0x36ce70(0x1ce)];continue;}_0x20905c['status']=_0x57c18a['FileStatus'][_0x36ce70(0x77f)];}_0x40d0e3[_0x36ce70(0x995)](_0x3dc20a);}}else _0x3dc20a[_0x36ce70(0xa14)]=await this['processList'](_0x3dc20a[_0x36ce70(0xa14)]??[],{'includeSyncingFiles':_0x27b91e}),_0x40d0e3[_0x36ce70(0x995)](_0x3dc20a);return _0x40d0e3;}async['publishFile'](_0x45e3a1,_0x4cf885,_0x1bbcd2){const _0x309932=_0x332466;try{const _0x1cf64a=(0x0,_0x74103e['v4'])(),_0x18740e=await _0x3a9452(_0x45e3a1),_0x2e902c=_0x2286c0(_0x4cf885??'/',_0x45e3a1[_0x309932(0x8c6)]);let _0x485777=!0x0;const _0x3c9e2a={'payloadType':_0x501a74['Transaction'],'action':_0x2425d2['FileWrite'],'id':_0x1cf64a,'parentId':this[_0x309932(0x8bb)],'answererId':this[_0x309932(0x2e7)][_0x309932(0x9cc)](),'name':_0x45e3a1['name'],'type':_0x45e3a1[_0x309932(0x5a0)],'path':_0x4cf885??'/','skipEncryption':_0x1bbcd2?.[_0x309932(0x33c)]??!0x1,'checksum':_0x18740e};try{if(!_0x1bbcd2?.[_0x309932(0x48e)])throw new Error(_0x309932(0x7d0));const _0x5e3c8e=_0x2e902c+_0xfe550e;await this['objectStoreConnector']['get'](_0x5e3c8e),_0x485777=!0x1,await this[_0x309932(0x66e)]['deleteObject'](_0x5e3c8e),this[_0x309932(0x22f)][_0x309932(0x6ea)](_0x2e902c);}catch(_0x3bdc69){await this[_0x309932(0x823)](_0x3c9e2a);}if(this[_0x309932(0x559)]||this[_0x309932(0x3ca)]?.[_0x309932(0x51f)]?await this[_0x309932(0x567)](_0x45e3a1,_0x4cf885,_0x1bbcd2):await this[_0x309932(0x1a8)](_0x45e3a1['name'],_0x4cf885??'/',{'checksum':_0x18740e,'skipEncryption':_0x1bbcd2?.[_0x309932(0x33c)]??!0x1}),this['fileSendingMap']['has'](_0x2e902c)){const [_0x96691f,_0x624ad8]=this[_0x309932(0x6b9)][_0x309932(0x4d1)](_0x2e902c);this[_0x309932(0x6b9)][_0x309932(0x72f)](_0x2e902c,[!0x0,_0x624ad8]);try{await _0x624ad8;}catch(_0x2638f0){}this['fileSendingMap'][_0x309932(0x6ea)](_0x2e902c);}_0x485777&&this['nodesConnected']>0x0&&!0x0!==this[_0x309932(0x3ca)]?.[_0x309932(0x51f)]&&await this[_0x309932(0xa6f)](_0x45e3a1,_0x3c9e2a),_0x833509[_0x309932(0x788)](_0x80219b['ObjectStorage'],{'type':_0x309932(0x778),'label':this[_0x309932(0x308)],'nodeId':this[_0x309932(0x2e7)][_0x309932(0x9cc)](),'nodeType':this[_0x309932(0x2e7)][_0x309932(0x5a0)],'clusterId':this[_0x309932(0x762)],'kind':_0x57c18a[_0x309932(0x94f)]['File'],'path':_0x4cf885,'fileName':_0x45e3a1['name'],'fileType':_0x45e3a1[_0x309932(0x5a0)],'size':_0x45e3a1[_0x309932(0x393)]}),this[_0x309932(0x32d)]+=0x1,this[_0x309932(0x78f)]();}catch(_0x4bde09){if(_0x4bde09 instanceof _0x1ba31e)throw new _0x212143(_0x198729['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x212143(_0x198729['ObjectStoreInvalidPath'],_0x309932(0x733)+_0x4cf885+(_0x4cf885?.['endsWith']('/')?'':'/')+_0x45e3a1[_0x309932(0x8c6)]);}}async[_0x332466(0x33d)](_0x947e6a){const _0x58d017=_0x332466;try{const _0x2ff3a0=(0x0,_0x74103e['v4'])(),_0x48c085=this[_0x58d017(0x8bb)],_0x39be19={'payloadType':_0x501a74[_0x58d017(0x84f)],'action':_0x2425d2['FolderCreate'],'id':_0x2ff3a0,'parentId':_0x48c085,'path':_0x947e6a};await this[_0x58d017(0x823)](_0x39be19),await this[_0x58d017(0x66e)]['createFolder'](_0x947e6a),!0x0!==this['options']?.[_0x58d017(0x51f)]&&await this[_0x58d017(0x922)](_0x39be19),_0x833509[_0x58d017(0x788)](_0x80219b[_0x58d017(0x302)],{'type':_0x58d017(0x778),'label':this[_0x58d017(0x308)],'nodeId':this['localNode'][_0x58d017(0x9cc)](),'nodeType':this[_0x58d017(0x2e7)][_0x58d017(0x5a0)],'clusterId':this[_0x58d017(0x762)],'kind':_0x57c18a[_0x58d017(0x94f)][_0x58d017(0x430)],'path':_0x947e6a}),this[_0x58d017(0x32d)]+=0x1,this[_0x58d017(0x78f)]();}catch(_0x4a1a78){if(_0x4a1a78 instanceof _0x1ba31e)throw new _0x212143(_0x198729[_0x58d017(0x3f2)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x212143(_0x198729[_0x58d017(0x2af)],_0x58d017(0x8b5)+_0x947e6a);}}async[_0x332466(0x770)](_0x520e1d,_0x3de879){const _0x16d3ea=_0x332466;try{const _0x594f68=(0x0,_0x74103e['v4'])(),_0x2a9796=this['lastTransactionId'],_0x4dc988={'payloadType':_0x501a74[_0x16d3ea(0x84f)],'action':_0x2425d2[_0x16d3ea(0x624)],'id':_0x594f68,'parentId':_0x2a9796,'path':_0x520e1d,'newPath':_0x3de879};await this[_0x16d3ea(0x823)](_0x4dc988);const _0x1d878d=await this[_0x16d3ea(0x30b)](_0x520e1d,_0x3de879);!0x0!==this['options']?.[_0x16d3ea(0x51f)]&&await this[_0x16d3ea(0x922)](_0x4dc988),_0x833509[_0x16d3ea(0x788)](_0x80219b['ObjectStorage'],{'type':_0x16d3ea(0x7f4),'label':this['label'],'nodeId':this['localNode'][_0x16d3ea(0x9cc)](),'nodeType':this['localNode'][_0x16d3ea(0x5a0)],'clusterId':this[_0x16d3ea(0x762)],'kind':_0x1d878d,'path':_0x520e1d,'newPath':_0x3de879}),this[_0x16d3ea(0x32d)]+=0x1,this[_0x16d3ea(0x78f)]();}catch(_0x501ce5){if(_0x501ce5 instanceof _0x1ba31e)throw new _0x212143(_0x198729[_0x16d3ea(0x3f2)],_0x16d3ea(0x585));throw new _0x212143(_0x198729[_0x16d3ea(0x2af)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x520e1d);}}async[_0x332466(0x68b)](_0x52be21,_0x3619d5=!0x1){const _0x291a03=_0x332466;if(this[_0x291a03(0x8bb)]&&_0x52be21[_0x291a03(0x23f)]!==this[_0x291a03(0x8bb)]&&_0x52be21['id']!==this[_0x291a03(0x8bb)]){if(!_0x52be21[_0x291a03(0x23f)])throw new _0x1ba31e(_0x1ba31e[_0x291a03(0x631)][_0x291a03(0x333)]);this[_0x291a03(0x6d5)][_0x291a03(0x72f)](_0x52be21[_0x291a03(0x23f)],_0x52be21);}else{try{await this[_0x291a03(0x21c)](_0x52be21,_0x3619d5);}catch(_0x176b4c){}await this[_0x291a03(0x85e)](_0x52be21['id']),await this[_0x291a03(0x48c)](_0x52be21['id'],_0x3619d5);}}async[_0x332466(0x21c)](_0xe7f8d2,_0x5465a9=!0x1){const _0x5e0bbc=_0x332466;switch(_0xe7f8d2['action']){case _0x2425d2[_0x5e0bbc(0x94c)]:await this[_0x5e0bbc(0x8b3)](_0xe7f8d2);break;case _0x2425d2[_0x5e0bbc(0x812)]:await this[_0x5e0bbc(0x898)](_0xe7f8d2);break;case _0x2425d2[_0x5e0bbc(0x624)]:await this[_0x5e0bbc(0xa3c)](_0xe7f8d2,_0x5465a9);break;case _0x2425d2[_0x5e0bbc(0x527)]:await this['handleObjectDelete'](_0xe7f8d2,_0x5465a9);break;default:throw new _0x1ba31e(_0x1ba31e[_0x5e0bbc(0x631)][_0x5e0bbc(0x333)],{'payload':_0xe7f8d2});}}async[_0x332466(0x48c)](_0x2e1aa0,_0x4969d2=!0x1){const _0x376792=_0x332466;if(this[_0x376792(0x6d5)][_0x376792(0x71d)](_0x2e1aa0)){const _0x538102=this[_0x376792(0x6d5)][_0x376792(0x4d1)](_0x2e1aa0);this[_0x376792(0x6d5)]['delete'](_0x2e1aa0),await this[_0x376792(0x68b)](_0x538102,_0x4969d2);}}async[_0x332466(0x777)](_0x1a50ed){const _0x53f617=_0x332466;switch(_0x1a50ed[_0x53f617(0x605)]){case _0x2425d2[_0x53f617(0x46c)]:return this['handleFileRequest'](_0x1a50ed);case _0x2425d2[_0x53f617(0x5e6)]:return this[_0x53f617(0x67e)](_0x1a50ed);case _0x2425d2[_0x53f617(0x2de)]:return this[_0x53f617(0x4fd)](_0x1a50ed);case _0x2425d2[_0x53f617(0x3de)]:return this['handleFileWrite'](_0x1a50ed);default:throw new _0x1ba31e(_0x1ba31e[_0x53f617(0x631)][_0x53f617(0x333)],{'payload':_0x1a50ed});}}async[_0x332466(0x8b3)](_0x3295d9,_0x2f0931=0x0){const _0xd06591=_0x332466,_0x57417c=_0x2286c0(_0x3295d9['path'],_0x3295d9['name']);if(!_0x3295d9['data']||void 0x0===_0x3295d9[_0xd06591(0x288)]||!_0x3295d9['total'])return this['fileChunks']['delete'](_0x57417c),void await this[_0xd06591(0x1a8)](_0x3295d9[_0xd06591(0x8c6)],_0x3295d9['path'],{'checksum':_0x3295d9['checksum'],'skipEncryption':_0x3295d9['skipEncryption']});if(this[_0xd06591(0x670)]['has'](_0x57417c)){const _0x5bd217=this[_0xd06591(0x670)][_0xd06591(0x4d1)](_0x57417c);_0x5bd217[_0xd06591(0x6cc)]!==_0x3295d9[_0xd06591(0x6cc)]&&(_0x5bd217['stream']?.['close'](),this[_0xd06591(0x670)][_0xd06591(0x6ea)](_0x57417c));}if(!this[_0xd06591(0x670)]['has'](_0x57417c)){try{await this[_0xd06591(0x66e)][_0xd06591(0x198)](_0x57417c);}catch(_0x1cf274){}try{const _0x3452fb=this[_0xd06591(0x559)]?await this[_0xd06591(0x66e)][_0xd06591(0x960)](_0x57417c,{'skipEncryption':_0x3295d9[_0xd06591(0x33c)]}):void 0x0,_0x59bd16={'chunksReceived':_0x3295d9[_0xd06591(0x60a)]??0x0,'bytesReceived':0x0,'stream':_0x3452fb,'checksum':_0x3295d9[_0xd06591(0x6cc)]};this['fileChunks'][_0xd06591(0x72f)](_0x57417c,_0x59bd16),await this[_0xd06591(0x1a8)](_0x3295d9['name'],_0x3295d9[_0xd06591(0x92c)],{'checksum':_0x3295d9[_0xd06591(0x6cc)],'skipEncryption':_0x3295d9['skipEncryption']});}catch(_0x18d43b){}}const _0x460b9e=this[_0xd06591(0x670)]['get'](_0x57417c);if(_0x3295d9['checksum']!==_0x460b9e[_0xd06591(0x6cc)])return;if(this[_0xd06591(0x771)](_0x3295d9,_0x57417c),this[_0xd06591(0x559)]){if(!_0x460b9e[_0xd06591(0x24f)])throw new _0x1ba31e(_0x1ba31e[_0xd06591(0x631)][_0xd06591(0x333)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x57c603=_0x460b9e[_0xd06591(0x34b)];if(_0x3295d9['index']!==_0x57c603){if(_0x57c603>_0x3295d9[_0xd06591(0x288)])return;const _0x1ccceb=0x1000;if(_0x3295d9[_0xd06591(0x288)]>_0x57c603+_0x1ccceb)return;if(_0x460b9e[_0xd06591(0x61f)]||(_0x460b9e[_0xd06591(0x61f)]=[]),_0x460b9e[_0xd06591(0x61f)][_0xd06591(0x65d)]>0x4000)throw this[_0xd06591(0x670)]['delete'](_0x57417c),new _0x1ba31e(_0x1ba31e['codes'][_0xd06591(0x333)],{'message':_0xd06591(0x877)});return void _0x460b9e[_0xd06591(0x61f)][_0xd06591(0x995)](_0x3295d9);}try{_0x460b9e['chunksReceived']+=0x1,_0x460b9e[_0xd06591(0x99a)]+=_0x3295d9[_0xd06591(0x510)][_0xd06591(0x19c)],await _0x460b9e[_0xd06591(0x24f)][_0xd06591(0x276)](_0x3295d9['data']);}catch(_0x185839){if(console['error'](_0xd06591(0x2ba),_0x185839),_0x2f0931>0x3)throw this[_0xd06591(0x670)][_0xd06591(0x6ea)](_0x57417c),console[_0xd06591(0x998)](_0xd06591(0x232),_0x185839),new _0x1ba31e(_0x1ba31e[_0xd06591(0x631)][_0xd06591(0x333)],{'message':_0xd06591(0x232)});return this[_0xd06591(0x8b3)](_0x3295d9,_0x2f0931+0x1);}}try{await this[_0xd06591(0x1d9)](_0x460b9e,_0x3295d9[_0xd06591(0x288)]+0x1);}catch(_0x3e8e84){throw this[_0xd06591(0x670)][_0xd06591(0x6ea)](_0x57417c),_0x3e8e84;}if(this[_0xd06591(0x670)][_0xd06591(0x72f)](_0x57417c,_0x460b9e),_0x460b9e[_0xd06591(0x34b)]<_0x3295d9['total'])return;await this[_0xd06591(0x91b)](_0x57417c),this[_0xd06591(0x559)]&&(await this['deletePendingFile'](_0x3295d9),_0x833509['logServiceEvent'](_0x80219b[_0xd06591(0x302)],{'type':_0xd06591(0x67f),'label':this[_0xd06591(0x308)],'nodeId':this[_0xd06591(0x2e7)][_0xd06591(0x9cc)](),'nodeType':this['localNode'][_0xd06591(0x5a0)],'clusterId':this['clusterId'],'kind':_0x57c18a[_0xd06591(0x94f)][_0xd06591(0x74d)],'path':_0x3295d9[_0xd06591(0x92c)],'fileName':_0x3295d9[_0xd06591(0x8c6)],'fileType':_0x3295d9[_0xd06591(0x5a0)],'size':_0x460b9e[_0xd06591(0x99a)]}));const _0x1061be=this[_0xd06591(0x8bc)]['get'](_0x3295d9[_0xd06591(0x92c)])??[];for(const _0x42624f of _0x1061be)await this['processTransactionPayload'](_0x42624f);this['pendingFilesTransactions']['delete'](_0x3295d9['path']),this[_0xd06591(0x4f9)][_0xd06591(0x778)]({'event':_0x57c18a[_0xd06591(0x6b4)][_0xd06591(0x94c)],'payload':{'file':{'kind':_0x57c18a[_0xd06591(0x94f)][_0xd06591(0x74d)],'path':_0x3295d9[_0xd06591(0x92c)],'type':_0x3295d9[_0xd06591(0x5a0)],'size':_0x460b9e[_0xd06591(0x99a)],'name':_0x3295d9[_0xd06591(0x8c6)],'pathName':_0x57417c,'status':this['syncContent']?_0x57c18a[_0xd06591(0x3a8)][_0xd06591(0xa55)]:_0x57c18a[_0xd06591(0x3a8)][_0xd06591(0x77f)]}}}),this['sendStats']();}async[_0x332466(0x1d9)](_0x7a1583,_0x209d0e){const _0x44a1dc=_0x332466,_0x198309=_0x7a1583[_0x44a1dc(0x24f)];let _0x10713e=0x0;for(;_0x7a1583[_0x44a1dc(0x61f)]&&_0x7a1583[_0x44a1dc(0x61f)][_0x44a1dc(0x65d)]>0x0;){const _0x436711=_0x7a1583[_0x44a1dc(0x61f)][_0x44a1dc(0x405)](_0x49f5a9=>_0x49f5a9['index']===_0x209d0e+0x1);if(!_0x436711)break;_0x7a1583[_0x44a1dc(0x61f)]=_0x7a1583[_0x44a1dc(0x61f)][_0x44a1dc(0x962)](_0x47a098=>_0x47a098[_0x44a1dc(0x288)]!==_0x209d0e+0x1);try{await _0x198309[_0x44a1dc(0x276)](_0x436711['data']),_0x209d0e++;}catch(_0x126151){if(console[_0x44a1dc(0x998)](_0x44a1dc(0x385),_0x126151),_0x10713e>0x3)throw console['error'](_0x44a1dc(0x1b0),_0x126151),new _0x1ba31e(_0x1ba31e[_0x44a1dc(0x631)]['ObjectStoreInvalidSyncMessage'],{'message':_0x44a1dc(0x1b0)});_0x10713e++;continue;}_0x7a1583[_0x44a1dc(0x34b)]+=0x1,_0x7a1583[_0x44a1dc(0x99a)]+=_0x436711[_0x44a1dc(0x510)]['byteLength'];}}async[_0x332466(0x898)](_0x326048){const _0x430008=_0x332466;await this['objectStoreConnector'][_0x430008(0x682)](_0x326048[_0x430008(0x92c)]);const [_0x422de1,_0x2c0623]=_0x5f4620(_0x326048[_0x430008(0x92c)]);this[_0x430008(0x4f9)][_0x430008(0x778)]({'event':_0x57c18a[_0x430008(0x6b4)][_0x430008(0x812)],'payload':{'folder':{'kind':_0x57c18a['ObjectKind'][_0x430008(0x430)],'name':_0x2c0623,'path':_0x422de1,'pathName':_0x326048['path']}}});}async[_0x332466(0x6b0)](_0x33522e,_0x26c777=!0x1){const _0x2bb50a=_0x332466;if(!_0x26c777&&!this[_0x2bb50a(0x625)](_0x33522e))return;const _0x26b202=await this[_0x2bb50a(0x198)](_0x33522e[_0x2bb50a(0x92c)]),[_0xf40407,_0x381944]=_0x5f4620(_0x33522e[_0x2bb50a(0x92c)]);this['eventListener'][_0x2bb50a(0x778)]({'event':_0x26b202===_0x57c18a[_0x2bb50a(0x94f)][_0x2bb50a(0x430)]?_0x57c18a[_0x2bb50a(0x6b4)]['FolderDelete']:_0x57c18a[_0x2bb50a(0x6b4)][_0x2bb50a(0x280)],'payload':{'name':_0x381944,'path':_0xf40407,'pathName':_0x33522e[_0x2bb50a(0x92c)]}}),this[_0x2bb50a(0x78f)]();}async[_0x332466(0xa3c)](_0x4a9e20,_0x1ac0d1=!0x1){const _0x954a3e=_0x332466;if(!_0x1ac0d1&&!this[_0x954a3e(0x625)](_0x4a9e20))return this[_0x954a3e(0x92f)][_0x954a3e(0x72f)](_0x4a9e20[_0x954a3e(0x5c2)],this[_0x954a3e(0x92f)]['get'](_0x4a9e20[_0x954a3e(0x92c)])??_0x4a9e20[_0x954a3e(0x92c)]),void this['pendingFilesRename']['delete'](_0x4a9e20[_0x954a3e(0x92c)]);this['pendingFilesRename']['delete'](_0x4a9e20[_0x954a3e(0x92c)]);const _0x13e25f=await this['objectStoreConnector'][_0x954a3e(0x30b)](_0x4a9e20[_0x954a3e(0x92c)],_0x4a9e20[_0x954a3e(0x5c2)]),[_0x3b6fcb,_0x386bad]=_0x5f4620(_0x4a9e20['path']),[_0x1f2402,_0x32fba]=_0x5f4620(_0x4a9e20[_0x954a3e(0x5c2)]);this['eventListener'][_0x954a3e(0x778)]({'event':_0x13e25f===_0x57c18a[_0x954a3e(0x94f)][_0x954a3e(0x430)]?_0x57c18a[_0x954a3e(0x6b4)][_0x954a3e(0x8aa)]:_0x57c18a[_0x954a3e(0x6b4)][_0x954a3e(0x7c7)],'payload':{'name':_0x32fba,'path':_0x1f2402,'pathName':_0x4a9e20[_0x954a3e(0x5c2)],'oldName':_0x386bad,'oldPath':_0x3b6fcb,'oldPathName':_0x4a9e20['path']}}),this['sendStats']();}[_0x332466(0x625)](_0x5787f2){const _0x1a1ed0=_0x332466,_0x304d07=this[_0x1a1ed0(0x92f)][_0x1a1ed0(0x4d1)](_0x5787f2[_0x1a1ed0(0x92c)])??_0x5787f2[_0x1a1ed0(0x92c)];let _0x49aed1=!0x1;for(const _0x402b12 of this[_0x1a1ed0(0x670)][_0x1a1ed0(0x4be)]())if(_0x402b12['startsWith'](_0x304d07)){const _0x3e93d2=this['pendingFilesTransactions'][_0x1a1ed0(0x4d1)](_0x402b12)??[];_0x3e93d2[_0x1a1ed0(0x995)](_0x5787f2),this['pendingFilesTransactions']['set'](_0x402b12,_0x3e93d2),_0x49aed1=!0x0;}return!_0x49aed1;}async[_0x332466(0x823)](_0x81083a){const _0x3d0c4f=_0x332466;if(!this[_0x3d0c4f(0x3ca)]?.[_0x3d0c4f(0x51f)]){if(!_0x81083a['id'])throw new _0x1ba31e(_0x1ba31e['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x3d0c4f(0x88f)});if(_0x81083a['parentId']!==this[_0x3d0c4f(0x8bb)])throw new _0x1ba31e(_0x1ba31e[_0x3d0c4f(0x631)]['ObjectStoreNotSynced']);await this[_0x3d0c4f(0x909)][_0x3d0c4f(0x2d5)](_0x81083a,this['label']),await this[_0x3d0c4f(0x85e)](_0x81083a['id']);}}async['updateLastTransactionId'](_0x1adc9c){const _0x2d62ba=_0x332466;this['lastTransactionId']=_0x1adc9c;const _0x3516be=new File([new Blob([this[_0x2d62ba(0x8bb)]])],_0x2bdfc3,{'type':_0x2d62ba(0x63f)});await this['writeFile'](_0x3516be,'/');}async['handleFileRequest'](_0x4fbb42){const _0x153ae7=_0x332466;try{const _0x1a3f37=await this[_0x153ae7(0x4d1)](_0x4fbb42[_0x153ae7(0x92c)]+'/'+_0x4fbb42['name'],{'skipEncryption':_0x4fbb42[_0x153ae7(0x33c)]}),_0x88270d=await _0x3a9452(_0x1a3f37);if(''!==_0x4fbb42['checksum']&&_0x88270d!==_0x4fbb42[_0x153ae7(0x6cc)])return;_0x4fbb42['answererId']=this['localNode'][_0x153ae7(0x9cc)](),_0x4fbb42[_0x153ae7(0x605)]=_0x2425d2[_0x153ae7(0x5e6)],await this[_0x153ae7(0x922)](_0x4fbb42,[_0x4fbb42['sourceId']]);}catch(_0x5d153a){}}async[_0x332466(0x67e)](_0x63ca7b){const _0x48b2f5=_0x332466,_0x166992=_0x2286c0(_0x63ca7b[_0x48b2f5(0x92c)],_0x63ca7b[_0x48b2f5(0x8c6)]);if(!this[_0x48b2f5(0x22f)][_0x48b2f5(0x71d)](_0x166992))return;const _0x26b744=this['objectRequests'][_0x48b2f5(0x4d1)](_0x166992);_0x26b744[_0x48b2f5(0x605)]=_0x2425d2[_0x48b2f5(0x2de)];const _0xf983c3=_0x63ca7b[_0x48b2f5(0xad4)];if(!_0xf983c3)throw new _0x1ba31e(_0x1ba31e['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x48b2f5(0x48b)});if(this[_0x48b2f5(0x22f)][_0x48b2f5(0x6ea)](_0x166992),this[_0x48b2f5(0x514)]['has'](_0xf983c3)||this[_0x48b2f5(0x514)][_0x48b2f5(0x72f)](_0xf983c3,new Map()),this['pendingFilesSyncing']['get'](_0xf983c3)['set'](_0x166992,[_0x26b744,this[_0x48b2f5(0x6bb)](_0xf983c3,_0x166992)]),_0x26b744[_0x48b2f5(0xad4)]=_0xf983c3,_0x26b744[_0x48b2f5(0x60a)]=this[_0x48b2f5(0x670)][_0x48b2f5(0x4d1)](_0x166992)?.['chunksReceived']??0x0,0x0===_0x26b744['startIndex'])try{const [_0x307a37,_0x16c9f4]=await this[_0x48b2f5(0x865)](_0x63ca7b[_0x48b2f5(0x8c6)],_0x63ca7b[_0x48b2f5(0x92c)],_0x63ca7b[_0x48b2f5(0x6cc)]);_0x307a37&&(_0x26b744['startIndex']=_0x16c9f4);}catch(_0x8a0791){}this['send'](_0x26b744,[_0xf983c3]);}async['handleFileSync'](_0x450972){const _0x156a2d=_0x332466,_0x2939b0=_0x2286c0(_0x450972['path'],_0x450972['name']),_0xc39b5=await this[_0x156a2d(0x4d1)](_0x2939b0,{'skipEncryption':_0x450972['skipEncryption']}),_0x458fa3={..._0x450972,'answererId':this[_0x156a2d(0x2e7)][_0x156a2d(0x9cc)](),'action':_0x2425d2[_0x156a2d(0x3de)],'startIndex':_0x450972[_0x156a2d(0x60a)]??0x0};await this['sendFile'](_0xc39b5,_0x458fa3,[_0x450972[_0x156a2d(0x41f)]]);}async[_0x332466(0xa6f)](_0x5e733f,_0x426d20,_0x4b9ad3){let _0x3dc589,_0x4b8fee;const _0x295f31=new Promise(async(_0x9ecf6a,_0x38bf6a)=>{_0x3dc589=_0x9ecf6a,_0x4b8fee=_0x38bf6a;});return((async()=>{const _0xc77f67=a0_0x5279,_0x142c7b=Math[_0xc77f67(0x6d9)](_0x5e733f[_0xc77f67(0x393)]/_0x3f90c3);let _0x40828d=_0x426d20[_0xc77f67(0x60a)]??0x0;const _0x498fbd=_0x2286c0(_0x426d20[_0xc77f67(0x92c)],_0x426d20[_0xc77f67(0x8c6)]);this[_0xc77f67(0x6b9)][_0xc77f67(0x72f)](_0x498fbd,[!0x1,_0x295f31]);for await(const _0x9ff9d7 of async function*(_0x442c2c,_0x2cf4d8=0x0,_0x2b8ff9){for await(const _0x18401b of _0xa7f69f(_0x442c2c,_0x2cf4d8,_0x2b8ff9))yield _0x18401b;}(_0x5e733f,_0x40828d,this[_0xc77f67(0xa57)])){const [_0x1b2d5a]=this[_0xc77f67(0x6b9)][_0xc77f67(0x4d1)](_0x498fbd)??[];if(_0x1b2d5a)return this[_0xc77f67(0x6b9)][_0xc77f67(0x6ea)](_0x498fbd),void _0x4b8fee(new Error(_0xc77f67(0x838)));if(this[_0xc77f67(0x8bc)][_0xc77f67(0x71d)](_0x498fbd)){const _0x38672e=this[_0xc77f67(0x8bc)][_0xc77f67(0x4d1)](_0x498fbd);for(const _0x18ce46 of _0x38672e)if(_0x18ce46[_0xc77f67(0x605)]===_0x2425d2[_0xc77f67(0x94c)]||_0x18ce46['action']===_0x2425d2['Delete'])return;}const _0x350c91={..._0x426d20,'type':_0x5e733f['type'],'data':_0x9ff9d7,'index':_0x40828d,'total':_0x142c7b};this[_0xc77f67(0x922)](_0x350c91,_0x4b9ad3),_0x40828d++;}const _0x39aff1=setInterval(async()=>{const _0x2a0add=_0xc77f67;await this[_0x2a0add(0xa57)]()>0x0||(clearInterval(_0x39aff1),_0x3dc589());});this[_0xc77f67(0x6b9)][_0xc77f67(0x6ea)](_0x498fbd);})()),_0x295f31;}async[_0x332466(0x8a2)](_0x1be360){const _0x57f624=_0x332466;try{const _0x7a333c=_0x2286c0(_0x1be360['path'],_0x1be360[_0x57f624(0x8c6)]),_0x5e8f4e=_0x7a333c+_0xfe550e;await this['deleteObject'](_0x5e8f4e);const [,_0x45929e]=this['pendingFilesSyncing'][_0x57f624(0x4d1)](_0x1be360[_0x57f624(0xad4)])?.[_0x57f624(0x4d1)](_0x7a333c)??[];_0x45929e&&(clearTimeout(_0x45929e),this[_0x57f624(0x514)][_0x57f624(0x4d1)](_0x1be360['answererId'])[_0x57f624(0x6ea)](_0x7a333c));}catch(_0x83657b){}0x0===this[_0x57f624(0x514)][_0x57f624(0x4d1)](_0x1be360[_0x57f624(0xad4)])?.[_0x57f624(0x393)]&&this[_0x57f624(0x514)][_0x57f624(0x6ea)](_0x1be360[_0x57f624(0xad4)]),0x0===this['pendingFilesSyncing'][_0x57f624(0x393)]&&0x0===this[_0x57f624(0x22f)][_0x57f624(0x393)]&&this[_0x57f624(0x1f2)]();}async['syncTransactions'](){const _0x231a36=_0x332466;try{const _0x2b7894=await this[_0x231a36(0x909)][_0x231a36(0xa88)](this[_0x231a36(0x308)],this['lastTransactionId']);for(const _0x586227 of _0x2b7894)await this[_0x231a36(0x68b)](_0x586227,!0x0);}catch(_0x1fc497){if(_0x1fc497 instanceof _0x1ba31e&&_0x1fc497[_0x231a36(0xaae)]===_0x1ba31e['codes']['ObjectStoreInvalidState']){await this[_0x231a36(0x66e)][_0x231a36(0x198)](_0x2bdfc3),delete this[_0x231a36(0x8bb)];try{const _0x1c714f=await this[_0x231a36(0x66e)][_0x231a36(0xaa6)]('/',!0x1);for(const _0x5502d8 of _0x1c714f)await this[_0x231a36(0x66e)][_0x231a36(0x198)](_0x5502d8['pathName']);}catch(_0x28a65a){}return await this[_0x231a36(0x886)]();}throw _0x1fc497;}}async[_0x332466(0x8c8)](){const _0x566ed2=_0x332466,_0x37c133=await this[_0x566ed2(0xaa6)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x5e25c5=async _0xcee205=>{const _0x4d88fa=_0x566ed2;for(const _0x191738 of _0xcee205){if(_0x191738[_0x4d88fa(0x592)]===_0x57c18a['ObjectKind'][_0x4d88fa(0x430)]){_0x191738[_0x4d88fa(0xa14)]&&_0x191738[_0x4d88fa(0xa14)]['length']>0x0&&await _0x5e25c5(_0x191738['entries']);continue;}if(_0x191738[_0x4d88fa(0x50e)]!==_0x57c18a[_0x4d88fa(0x3a8)][_0x4d88fa(0x77f)])continue;const _0x395940=await this[_0x4d88fa(0x4d1)](_0x191738['pathName']+_0xfe550e),_0x28c5fc=JSON['parse'](await _0x395940[_0x4d88fa(0x644)]()),_0x45908f=_0x191738[_0x4d88fa(0x8c6)]['replace'](_0xfe550e,''),_0x50cb1c={'payloadType':_0x501a74[_0x4d88fa(0x4d8)],'action':_0x2425d2['RequestFile'],'sourceId':this[_0x4d88fa(0x2e7)][_0x4d88fa(0x9cc)](),'type':'','path':_0x191738[_0x4d88fa(0x92c)],'name':_0x45908f,'checksum':_0x28c5fc[_0x4d88fa(0x6cc)],'skipEncryption':_0x28c5fc['skipEncryption']},_0x20a160=_0x2286c0(_0x191738[_0x4d88fa(0x92c)],_0x45908f);this[_0x4d88fa(0x22f)][_0x4d88fa(0x72f)](_0x20a160,_0x50cb1c);}};await _0x5e25c5(_0x37c133),0x0===this[_0x566ed2(0x22f)]['size']&&0x0===this['pendingFilesSyncing']['size']&&this['completeSync']();}async[_0x332466(0x1a8)](_0x11f9ae,_0x223f7f,_0x35568f){const _0x9ff4f8=_0x332466,_0x46d70e=new File([new Blob([JSON[_0x9ff4f8(0x801)](_0x35568f)])],''+_0x11f9ae+_0xfe550e,{'type':_0x9ff4f8(0x63f)});await this[_0x9ff4f8(0x567)](_0x46d70e,_0x223f7f);}async[_0x332466(0x865)](_0x5ea888,_0x33c499,_0x18f1d6){const _0x23171d=_0x332466;try{const _0x1e2705=_0x2286c0(_0x33c499,_0x5ea888),_0x58c482=_0x1e2705+_0xfe550e,_0x53f237=await this[_0x23171d(0x66e)][_0x23171d(0x4d1)](_0x58c482),{checksum:_0x5ad78b,skipEncryption:_0x2488d1}=JSON[_0x23171d(0x9d8)](await _0x53f237[_0x23171d(0x644)]()),_0x1f4811=(await this[_0x23171d(0x66e)][_0x23171d(0x4d1)](_0x1e2705,{'skipEncryption':_0x2488d1}))[_0x23171d(0x393)];return _0x5ad78b===_0x18f1d6&&_0x1f4811%_0x3f90c3==0x0?[!0x0,Math['round'](_0x1f4811/_0x3f90c3)]:(await this[_0x23171d(0x66e)]['deleteObject'](_0x1e2705),[!0x1,0x0]);}catch(_0x296dad){return[!0x1,0x0];}}[_0x332466(0x6bb)](_0x2226cd,_0x85a441){const _0x17a3dd=_0x332466,[_0x1b2d90,_0x29af34]=this[_0x17a3dd(0x514)][_0x17a3dd(0x4d1)](_0x2226cd)?.[_0x17a3dd(0x4d1)](_0x85a441)??[];return _0x29af34&&clearTimeout(_0x29af34),setTimeout(()=>{const _0xd25d6d=_0x17a3dd,[_0xafed02,_0x365e4a]=this[_0xd25d6d(0x514)]['get'](_0x2226cd)[_0xd25d6d(0x4d1)](_0x85a441);this[_0xd25d6d(0x339)](_0xafed02,_0x365e4a);},0x927c0);}async[_0x332466(0x339)](_0x1145a4,_0x3ab15f){const _0x2b7f2d=_0x332466;clearTimeout(_0x3ab15f),_0x1145a4[_0x2b7f2d(0x605)]=_0x2425d2['RequestFile'],this['objectRequests'][_0x2b7f2d(0x72f)](_0x2286c0(_0x1145a4[_0x2b7f2d(0x92c)],_0x1145a4[_0x2b7f2d(0x8c6)]),_0x1145a4),this['send'](_0x1145a4);}[_0x332466(0x771)](_0x20ced8,_0x35be7d){const _0x4a6fde=_0x332466;if(!this[_0x4a6fde(0x559)])return;this[_0x4a6fde(0x514)]['has'](_0x20ced8[_0x4a6fde(0xad4)])||this['pendingFilesSyncing'][_0x4a6fde(0x72f)](_0x20ced8[_0x4a6fde(0xad4)],new Map());const [_0x2ae1ee]=this['pendingFilesSyncing']['get'](_0x20ced8[_0x4a6fde(0xad4)])['get'](_0x35be7d)??[{'payloadType':_0x501a74[_0x4a6fde(0x4d8)],'action':_0x2425d2[_0x4a6fde(0x46c)],'sourceId':this[_0x4a6fde(0x2e7)][_0x4a6fde(0x9cc)](),'type':_0x20ced8[_0x4a6fde(0x5a0)],'name':_0x20ced8[_0x4a6fde(0x8c6)],'path':_0x20ced8[_0x4a6fde(0x92c)],'skipEncryption':_0x20ced8[_0x4a6fde(0x33c)],'checksum':_0x20ced8[_0x4a6fde(0x6cc)],'answererId':_0x20ced8['answererId']}];this[_0x4a6fde(0x514)]['get'](_0x20ced8[_0x4a6fde(0xad4)])[_0x4a6fde(0x72f)](_0x35be7d,[_0x2ae1ee,this[_0x4a6fde(0x6bb)](_0x20ced8[_0x4a6fde(0xad4)],_0x35be7d)]);}async[_0x332466(0x567)](_0x4643f6,_0x3b3872,_0x4be291){const _0x157b5d=_0x332466;this[_0x157b5d(0x895)]&&(this[_0x157b5d(0x518)]+=0x1),await this[_0x157b5d(0x66e)][_0x157b5d(0x567)](_0x4643f6,_0x3b3872,_0x4be291);}async['deleteObject'](_0x8922d1){const _0x57e8bd=_0x332466;try{const _0xa54aa3=await this[_0x57e8bd(0x66e)][_0x57e8bd(0x198)](_0x8922d1);if(!_0x8922d1['endsWith'](_0xfe550e))try{await this[_0x57e8bd(0x66e)][_0x57e8bd(0x198)](_0x8922d1+_0xfe550e);}catch(_0x30a5a4){}return this[_0x57e8bd(0x895)]&&_0xa54aa3===_0x57c18a[_0x57e8bd(0x94f)][_0x57e8bd(0x74d)]&&(this['filesSynced']+=0x1),_0xa54aa3;}catch(_0x1b37b2){return await this[_0x57e8bd(0x66e)]['deleteObject'](_0x8922d1+_0xfe550e);}}async[_0x332466(0x30b)](_0x45b203,_0x9c20af){const _0x258e13=_0x332466;try{const _0x10f79e=await this[_0x258e13(0x66e)]['moveObject'](_0x45b203,_0x9c20af);if(!_0x45b203[_0x258e13(0xae6)](_0xfe550e))try{await this['objectStoreConnector'][_0x258e13(0x30b)](_0x45b203+_0xfe550e,_0x9c20af+_0xfe550e);}catch(_0x416f22){}return _0x10f79e;}catch(_0x1e1cbe){return await this[_0x258e13(0x66e)][_0x258e13(0x30b)](_0x45b203+_0xfe550e,_0x9c20af+_0xfe550e);}}[_0x332466(0x78f)](){const _0x3858d5=_0x332466;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x3858d5(0x9a9)]=setTimeout(async()=>{const _0x12a86d=_0x3858d5;delete this[_0x12a86d(0x9a9)];const _0x47ed40=await this[_0x12a86d(0x66e)][_0x12a86d(0x394)]('/');this['systemTopic']?.[_0x12a86d(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x12a86d(0x66b)],'content':{'type':_0x5d4388[_0x12a86d(0x254)],'label':this[_0x12a86d(0x308)],'stats':{'timestamp':Date[_0x12a86d(0x3f4)](),'storage':_0x47ed40,'messagesSent':this[_0x12a86d(0x940)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x12a86d(0x572)],'bytesReceived':this[_0x12a86d(0x99a)],'writes':this[_0x12a86d(0x32d)],'reads':this[_0x12a86d(0x600)],'prompts':0x0,'tokens':0x0}}}),this[_0x12a86d(0x559)]&&_0x833509[_0x12a86d(0xa99)](_0x80219b[_0x12a86d(0x302)],'ccc'+this['clusterId']+_0x12a86d(0x9c8)+this[_0x12a86d(0x308)],_0x47ed40);},_0x11318f);}async['syncedFileExists'](_0x33eed8){const _0x351287=_0x332466;try{return await this[_0x351287(0x4d1)](_0x33eed8),!0x0;}catch(_0x113e68){return!0x1;}}async[_0x332466(0x91b)](_0x411284){const _0x3e5a99=_0x332466;if(!this[_0x3e5a99(0x670)][_0x3e5a99(0x71d)](_0x411284))return;const _0x5bfc5e=this['fileChunks']['get'](_0x411284);if(_0x5bfc5e['stream'])try{await _0x5bfc5e[_0x3e5a99(0x24f)][_0x3e5a99(0x1db)]();}catch(_0x4aaf8e){console[_0x3e5a99(0x998)]('Error\x20closing\x20writable\x20stream',_0x4aaf8e);}this[_0x3e5a99(0x670)][_0x3e5a99(0x6ea)](_0x411284);}}class _0x40a1e7 extends _0x46faea{[_0x332466(0x2e7)];[_0x332466(0x762)];[_0x332466(0x5e7)]=new Map();[_0x332466(0x9a9)];constructor(_0x3ce657,_0x42638c,_0x1cabf4){const _0x3c1f97=_0x332466;if(_0x3c1f97(0x5b3)!=typeof _0x42638c)throw new _0x212143(_0x198729['PubSubTopicNameNotString'],_0x3c1f97(0x9d5));super(_0x3ce657,_0x42638c),this['localNode']=_0x3ce657,this['clusterId']=_0x1cabf4,this[_0x3c1f97(0x78f)]();}[_0x332466(0x357)](){const _0x60cbe4=_0x332466;this[_0x60cbe4(0x78f)]();}[_0x332466(0x62f)](){const _0xd1d2af=_0x332466;return _0x57c18a[_0xd1d2af(0x88a)][_0xd1d2af(0xa8a)];}['publish'](_0x1c3708,_0xe48ec4){const _0x210a3c=_0x332466;_0x833509[_0x210a3c(0x5d5)](_0xebc42c[_0x210a3c(0xa8a)],_0x210a3c(0x296),this[_0x210a3c(0x2e7)][_0x210a3c(0x9cc)](),_0x1c3708,_0xe48ec4),_0x833509[_0x210a3c(0x788)](_0x80219b[_0x210a3c(0xa8a)],{'type':_0x210a3c(0x778),'label':this[_0x210a3c(0x308)],'nodeId':this[_0x210a3c(0x2e7)][_0x210a3c(0x9cc)](),'nodeType':this[_0x210a3c(0x2e7)]['type'],'clusterId':this[_0x210a3c(0x762)],'remoteIds':_0xe48ec4??[],'contentType':_0x1c3708 instanceof File?_0x57c18a[_0x210a3c(0x88a)][_0x210a3c(0x74d)]:_0x57c18a[_0x210a3c(0x88a)][_0x210a3c(0x707)],'size':_0x1c3708 instanceof File?_0x1c3708['size']:JSON['stringify'](_0x1c3708)[_0x210a3c(0x65d)]}),this['sendStats'](),this[_0x210a3c(0x922)](_0x1c3708,_0xe48ec4);}[_0x332466(0x3cf)](_0x10e1f7,_0x31a8f8){const _0x3b96d7=_0x332466;if(this['unsubscribeHandler'][_0x3b96d7(0x71d)](_0x10e1f7))throw new _0x212143(_0x198729[_0x3b96d7(0x1f9)],_0x3b96d7(0x9ae));this[_0x3b96d7(0x5e7)]['set'](_0x10e1f7,this['onMessage']((_0x2cdac3,_0x3895b5)=>{const _0x18d67f=_0x3b96d7;_0x18d67f(0x510)===_0x10e1f7&&_0x3895b5 instanceof File||!(_0x18d67f(0x336)!==_0x10e1f7||_0x3895b5 instanceof File)||(_0x833509[_0x18d67f(0x5d5)](_0xebc42c[_0x18d67f(0xa8a)],'PubSubTopic\x20onMessage',this[_0x18d67f(0x2e7)]['getId'](),_0x2cdac3,_0x3895b5),_0x833509[_0x18d67f(0x788)](_0x80219b[_0x18d67f(0xa8a)],{'type':_0x18d67f(0x3cf),'label':this[_0x18d67f(0x308)],'nodeId':this[_0x18d67f(0x2e7)]['getId'](),'nodeType':this['localNode'][_0x18d67f(0x5a0)],'clusterId':this[_0x18d67f(0x762)],'remoteId':_0x2cdac3,'contentType':_0x10e1f7,'size':_0x3895b5 instanceof File?_0x3895b5['size']:JSON['stringify'](_0x3895b5)[_0x18d67f(0x65d)]}),this['sendStats'](),_0x31a8f8(_0x2cdac3,_0x3895b5));}));}['unsubscribe'](_0x40ee7e){const _0x5067a5=_0x332466;this[_0x5067a5(0x5e7)][_0x5067a5(0x4d1)](_0x40ee7e)?.(),this[_0x5067a5(0x5e7)]['delete'](_0x40ee7e);}[_0x332466(0x5e0)](){const _0x2441ec=_0x332466;this['unsubscribeHandler'][_0x2441ec(0x602)](_0x3e0c99=>_0x3e0c99()),clearTimeout(this[_0x2441ec(0x9a9)]),delete this[_0x2441ec(0x9a9)],super['destroy']();}['close'](){const _0x52d155=_0x332466;this['systemTopic']?.[_0x52d155(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616['Content'],'content':{'type':_0x5d4388[_0x52d155(0x930)],'label':this['label']}});}[_0x332466(0x78f)](){const _0xbe9daa=_0x332466;this[_0xbe9daa(0x9a9)]&&clearTimeout(this[_0xbe9daa(0x9a9)]),this[_0xbe9daa(0x9a9)]=setTimeout(()=>{const _0x7cc058=_0xbe9daa;this[_0x7cc058(0x380)]?.[_0x7cc058(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x7cc058(0x66b)],'content':{'type':_0x5d4388[_0x7cc058(0x2b1)],'label':this[_0x7cc058(0x308)],'stats':{'timestamp':Date[_0x7cc058(0x3f4)](),'storage':0x0,'messagesSent':this[_0x7cc058(0x940)],'messagesReceived':this[_0x7cc058(0x20f)],'bytesSent':this[_0x7cc058(0x572)],'bytesReceived':this[_0x7cc058(0x99a)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x11318f);}}class _0x2dc02d extends _0x25b00f{[_0x332466(0x2e7)];[_0x332466(0x416)];['availableTrackKinds'];[_0x332466(0x762)];[_0x332466(0x5e7)];[_0x332466(0x4e3)];['updateDebounce'];['outgoingStreams']=new Map();[_0x332466(0x645)];[_0x332466(0x2f1)]=new Set();[_0x332466(0x64a)];[_0x332466(0x7c8)]=_0x5ad0e0();[_0x332466(0x7cc)]=new Map();constructor(_0x58c72f,_0x37bfa7,_0x420000,_0x430da7,_0x917bfb,_0x54f825){const _0x16f89b=_0x332466;super(_0x37bfa7,_0x420000,new MediaStream()),this[_0x16f89b(0x2e7)]=_0x58c72f,this['internalId']=_0x430da7,this['availableTrackKinds']=_0x917bfb,this[_0x16f89b(0x762)]=_0x54f825,this[_0x16f89b(0x7b7)][_0x16f89b(0x260)]()['forEach'](_0x12b185=>this[_0x16f89b(0x7cf)](_0x12b185));}['destroy'](){const _0x2de4b9=_0x332466;this[_0x2de4b9(0xa9b)][_0x2de4b9(0x393)]>0x0&&(this[_0x2de4b9(0xa9b)][_0x2de4b9(0x602)](_0x43494e=>{const _0x386918=_0x2de4b9;_0x43494e[_0x386918(0x3bf)](),_0x43494e['destroy']();}),this['outgoingStreams']['clear']()),this[_0x2de4b9(0x7cc)][_0x2de4b9(0x602)](_0x14d214=>_0x14d214()),this[_0x2de4b9(0x7b7)][_0x2de4b9(0x260)]()['forEach'](_0x202ae8=>this[_0x2de4b9(0x7b7)]['removeTrack'](_0x202ae8)),this[_0x2de4b9(0x2ae)]&&(clearTimeout(this['updateDebounce']),delete this[_0x2de4b9(0x2ae)]),this[_0x2de4b9(0x4e3)]?.(),super[_0x2de4b9(0x5e0)]();}['registerSubscriber'](_0x1a3bfa){const _0x373e4a=_0x332466;this[_0x373e4a(0x5e7)]=_0x1a3bfa['subscribe'](({content:_0x50a09f})=>{const _0x29df0e=_0x373e4a;switch(_0x50a09f[_0x29df0e(0x605)]){case _0x30cc07[_0x29df0e(0x98e)]:if(_0x833509[_0x29df0e(0x5d5)](_0xebc42c[_0x29df0e(0x465)],_0x29df0e(0x5ba),this[_0x29df0e(0x2e7)]['getId'](),this[_0x29df0e(0x64a)]),_0x50a09f[_0x29df0e(0x24f)]['id']!==this[_0x29df0e(0x416)]||_0x50a09f[_0x29df0e(0x64a)]!==this[_0x29df0e(0x64a)])return;this[_0x29df0e(0x46e)](_0x50a09f[_0x29df0e(0xa60)]['kind']),this[_0x29df0e(0x7b7)][_0x29df0e(0x3b3)](_0x50a09f[_0x29df0e(0xa60)]);for(const [_0x204ae9,_0x3e3ca9]of this[_0x29df0e(0xa9b)]['entries']())try{_0x3e3ca9[_0x29df0e(0x3b3)](_0x50a09f['track']);}catch(_0x37a204){_0x3e3ca9[_0x29df0e(0x5e0)](),this[_0x29df0e(0xa9b)][_0x29df0e(0x6ea)](_0x204ae9);}this[_0x29df0e(0x7cf)](_0x50a09f[_0x29df0e(0xa60)]),this[_0x29df0e(0x844)](),_0x29df0e(0x3f7)===_0x50a09f[_0x29df0e(0xa60)][_0x29df0e(0x592)]&&this['renderElement']&&(this[_0x29df0e(0x7b7)][_0x29df0e(0x62a)]?setTimeout(()=>this['renderElement']?.[_0x29df0e(0x776)](),0x0):setTimeout(()=>this[_0x29df0e(0x645)]?.[_0x29df0e(0x9f7)](),0x0),this['setupResizeHandler']());break;case _0x30cc07[_0x29df0e(0x613)]:if(_0x50a09f[_0x29df0e(0x24f)]['id']!==this[_0x29df0e(0x416)]||_0x50a09f[_0x29df0e(0x64a)]!==this['providerId'])return;this['removeTrack'](_0x50a09f[_0x29df0e(0xa60)][_0x29df0e(0x592)]),this[_0x29df0e(0x645)]&&_0x29df0e(0x3f7)===_0x50a09f[_0x29df0e(0xa60)]['kind']&&(this['resizeHandler']?.(),this['mediaStream']['getTracks']()[_0x29df0e(0x65d)]>0x0?this[_0x29df0e(0x645)][_0x29df0e(0x9f7)]():this[_0x29df0e(0x645)][_0x29df0e(0x414)]=null);}});}['unregisterSubscriber'](){const _0x549a39=_0x332466;this['unsubscribeHandler']?.(),this['trackEndedListeners']['forEach'](_0x286255=>_0x286255()),delete this[_0x549a39(0x5e7)];}['getInternalStreamId'](){const _0x72cd60=_0x332466;return this[_0x72cd60(0x416)];}[_0x332466(0x4ca)](_0xe2709f){const _0x5e1efa=_0x332466;this[_0x5e1efa(0x416)]=_0xe2709f;}['getAvailableTrackKinds'](){const _0x333cb0=_0x332466;return this[_0x333cb0(0x7d7)];}['hasTracks'](_0x39d62e){const _0x804237=_0x332466;for(const _0x362077 of _0x39d62e||this['availableTrackKinds'])if(!this[_0x804237(0x7b7)]['getTracks']()['find'](_0x2cce96=>_0x2cce96[_0x804237(0x592)]===_0x362077))return!0x1;return!0x0;}[_0x332466(0x8ea)](){const _0x1a9a38=_0x332466;let _0x3e6d88={'width':0x0,'height':0x0};const _0x4e5583=this[_0x1a9a38(0x7b7)][_0x1a9a38(0xae7)]();if(_0x4e5583['length']>0x0){const _0x777855=_0x4e5583[0x0][_0x1a9a38(0x6d8)]();_0x777855[_0x1a9a38(0x7b2)]&&_0x777855[_0x1a9a38(0xa12)]&&(_0x3e6d88={'width':_0x777855[_0x1a9a38(0x7b2)],'height':_0x777855[_0x1a9a38(0xa12)]});}return _0x3e6d88;}[_0x332466(0x6f2)](_0x2058d6){const _0x329e4d=_0x332466;for(const _0xffca5 of _0x2058d6)if(!this[_0x329e4d(0x2f1)][_0x329e4d(0x71d)](_0xffca5))return!0x1;return!0x0;}['getShareableStream'](_0x407986,_0x5698e9){const _0x18b7ee=_0x332466;if(!this['outgoingStreams'][_0x18b7ee(0x71d)](_0x407986)){const _0x4da8b1=new _0xf1935f(this[_0x18b7ee(0xabe)],this[_0x18b7ee(0x308)],this[_0x18b7ee(0x7b7)],_0x407986,_0x5698e9),_0x310500=_0x4da8b1['onUnregisterPublisher'](()=>{const _0x5524a0=_0x18b7ee;_0x310500(),this[_0x5524a0(0xa9b)][_0x5524a0(0x4d1)](_0x407986)?.['destroy'](),this[_0x5524a0(0xa9b)][_0x5524a0(0x6ea)](_0x407986);});this[_0x18b7ee(0xa9b)][_0x18b7ee(0x72f)](_0x407986,_0x4da8b1),_0x4da8b1['registerSystemPublisher'](this[_0x18b7ee(0x380)]);}return this['outgoingStreams'][_0x18b7ee(0x4d1)](_0x407986);}[_0x332466(0x34d)](){return this['mediaStream']['id'];}[_0x332466(0xa3f)](){return _0x57c18a['MediaStreamPriority']['Default'];}[_0x332466(0x306)](){const _0x2f4d10=_0x332466;return Array[_0x2f4d10(0x639)](this[_0x2f4d10(0x2f1)]);}[_0x332466(0x3cf)](_0x45d65f){const _0x1f61c6=_0x332466;let _0x334622=[];if(_0x45d65f){'object'!=typeof _0x45d65f[_0x1f61c6(0x3f7)]||_0x45d65f[_0x1f61c6(0x3f7)][_0x1f61c6(0x645)]instanceof HTMLVideoElement||!this[_0x1f61c6(0x645)]||(_0x45d65f['video']={'renderElement':this[_0x1f61c6(0x645)]});try{(0x0,_0x57c18a[_0x1f61c6(0x366)])(_0x45d65f);}catch(_0x18e64b){throw new _0x212143(_0x198729[_0x1f61c6(0x443)],_0x1f61c6(0x2c7));}_0x45d65f[_0x1f61c6(0x3f7)]&&(_0x334622[_0x1f61c6(0x995)](_0x1f61c6(0x3f7)),'boolean'!=typeof _0x45d65f[_0x1f61c6(0x3f7)]&&_0x45d65f[_0x1f61c6(0x3f7)][_0x1f61c6(0x645)]&&(this[_0x1f61c6(0x645)]=_0x45d65f[_0x1f61c6(0x3f7)][_0x1f61c6(0x645)],_0x45d65f[_0x1f61c6(0x3f7)][_0x1f61c6(0x2c8)]||(_0x45d65f[_0x1f61c6(0x3f7)]['maxResolution']={'width':this['renderElement']['clientWidth'],'height':this[_0x1f61c6(0x645)][_0x1f61c6(0x42e)]}),delete _0x45d65f['video']['renderElement'])),_0x45d65f['audio']&&_0x334622['push']('audio');}else _0x334622=this['getAvailableTrackKinds']();this[_0x1f61c6(0x6f2)](_0x334622)||(_0x334622[_0x1f61c6(0x602)](_0x4546b1=>this[_0x1f61c6(0x2f1)][_0x1f61c6(0x7c5)](_0x4546b1)),this['systemTopic'][_0x1f61c6(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x1f61c6(0x66b)],'content':{'type':_0x5d4388[_0x1f61c6(0x77b)],'label':this[_0x1f61c6(0x308)],'ownerId':this[_0x1f61c6(0xabe)][_0x1f61c6(0x9cc)](),'trackKinds':_0x334622,'params':_0x45d65f}}),_0x833509['logServiceEvent'](_0x80219b[_0x1f61c6(0xae2)],{'type':_0x1f61c6(0x3cf),'label':this[_0x1f61c6(0x308)],'nodeId':this['localNode'][_0x1f61c6(0x9cc)](),'nodeType':this[_0x1f61c6(0x2e7)][_0x1f61c6(0x5a0)],'clusterId':this[_0x1f61c6(0x762)],'sourceId':this[_0x1f61c6(0xabe)][_0x1f61c6(0x9cc)](),'streamId':this[_0x1f61c6(0x416)],'trackKinds':_0x334622}));}[_0x332466(0x422)](_0x17acbe){const _0x2bca1e=_0x332466;try{(0x0,_0x57c18a[_0x2bca1e(0x366)])(_0x17acbe);}catch(_0x429b1e){throw new _0x212143(_0x198729[_0x2bca1e(0x443)],_0x2bca1e(0x2c7));}this[_0x2bca1e(0x2ae)]&&clearTimeout(this[_0x2bca1e(0x2ae)]),this[_0x2bca1e(0x2ae)]=setTimeout(()=>{const _0x419daa=_0x2bca1e;delete this['updateDebounce'],this[_0x419daa(0x380)][_0x419daa(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x419daa(0x66b)],'content':{'type':_0x5d4388[_0x419daa(0x982)],'label':this[_0x419daa(0x308)],'ownerId':this[_0x419daa(0xabe)][_0x419daa(0x9cc)](),'params':_0x17acbe}});},0x1f4);}['unsubscribe'](_0x315eae){const _0x524c9f=_0x332466;_0x315eae||(_0x315eae=this['getAvailableTrackKinds']()),(_0x315eae=Array[_0x524c9f(0x87b)](_0x315eae)?_0x315eae:[_0x315eae])[_0x524c9f(0x602)](_0x10ea32=>this[_0x524c9f(0x2f1)][_0x524c9f(0x6ea)](_0x10ea32)),this['systemTopic']['publish']({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x524c9f(0x66b)],'content':{'type':_0x5d4388[_0x524c9f(0x8b4)],'label':this[_0x524c9f(0x308)],'ownerId':this['owner'][_0x524c9f(0x9cc)](),'trackKinds':_0x315eae,'remainingTracks':this[_0x524c9f(0x2f1)][_0x524c9f(0x393)]}});}['onProviderChange'](_0x4c962f){const _0x162bbc=_0x332466;return this[_0x162bbc(0x7c8)][_0x162bbc(0x3cf)](_0x4c962f);}[_0x332466(0x6d7)](){const _0x12bfc5=_0x332466;return this[_0x12bfc5(0x64a)];}[_0x332466(0x5b6)](_0x340008){const _0x341a0c=_0x332466;this[_0x341a0c(0x64a)]!==_0x340008&&(this[_0x341a0c(0x64a)]=_0x340008,this[_0x341a0c(0x7c8)]['publish'](_0x340008));}[_0x332466(0x9e7)](_0x153e7a){const _0x183b76=_0x332466;this['trackEndedListeners'][_0x183b76(0x4d1)](_0x153e7a)?.(),this[_0x183b76(0x7cc)]['delete'](_0x153e7a);}[_0x332466(0x46e)](_0x458ac3){const _0x531b4a=_0x332466,_0x372a02=this['mediaStream'][_0x531b4a(0x260)]()['find'](_0x2cd306=>_0x2cd306[_0x531b4a(0x592)]===_0x458ac3);_0x372a02&&(this[_0x531b4a(0x7b7)][_0x531b4a(0x46e)](_0x372a02),this[_0x531b4a(0xa9b)][_0x531b4a(0x602)](_0x52ed06=>_0x52ed06[_0x531b4a(0x46e)](_0x458ac3)),this[_0x531b4a(0x7cc)][_0x531b4a(0x4d1)](_0x458ac3)?.());}[_0x332466(0x844)](){const _0x248e85=_0x332466;this[_0x248e85(0x645)]&&(this[_0x248e85(0x645)][_0x248e85(0x414)]&&this['renderElement'][_0x248e85(0x414)]===this['mediaStream']||(this[_0x248e85(0x645)][_0x248e85(0x414)]=this[_0x248e85(0x7b7)]));}[_0x332466(0x61a)](){const _0x366489=_0x332466;if(this[_0x366489(0x645)]&&!this[_0x366489(0x4e3)]&&_0x366489(0xa7f)!=typeof ResizeObserver){let _0x44f89b=this['renderElement']['clientWidth'],_0x2d53ff=this[_0x366489(0x645)]['clientHeight'];const _0xd48ac3=new ResizeObserver(_0x3c8531=>{const _0xcc7d7b=_0x366489,{width:_0x55e05f,height:_0x281e7d}=_0x3c8531[0x0]['contentRect'];_0x44f89b===_0x55e05f&&_0x2d53ff===_0x281e7d||(_0x44f89b=Math['floor'](_0x55e05f),_0x2d53ff=Math[_0xcc7d7b(0xa0c)](_0x281e7d),this['update']({'video':{'maxResolution':{'width':_0x55e05f,'height':_0x281e7d}}}));});_0xd48ac3[_0x366489(0xad2)](this[_0x366489(0x645)]),this[_0x366489(0x4e3)]=()=>_0xd48ac3[_0x366489(0x768)]();}}[_0x332466(0x1eb)](_0x35b9c7){const _0x421fda=_0x332466,_0x5289bb=[];for(const _0x44d0b1 of this[_0x421fda(0x2f1)])this[_0x421fda(0x46e)](_0x44d0b1),_0x5289bb['push'](_0x44d0b1);this[_0x421fda(0x64a)]&&this[_0x421fda(0x380)][_0x421fda(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616['Content'],'content':{'type':_0x5d4388[_0x421fda(0x3fa)],'label':this['label'],'streamId':this[_0x421fda(0x416)],'ownerId':this['owner'][_0x421fda(0x9cc)](),'providerId':this[_0x421fda(0x64a)],'trackKinds':_0x5289bb}});}[_0x332466(0x7cf)](_0x14d65d){const _0x23f131=_0x332466,_0x31e712=()=>this[_0x23f131(0x1eb)](_0x14d65d);_0x14d65d['addEventListener'](_0x23f131(0x607),_0x31e712),_0x14d65d[_0x23f131(0xa67)]('mute',_0x31e712),this[_0x23f131(0x7cc)][_0x23f131(0x72f)](_0x14d65d[_0x23f131(0x592)],()=>{const _0x441985=_0x23f131;_0x14d65d['removeEventListener'](_0x441985(0x607),_0x31e712),_0x14d65d[_0x441985(0x223)](_0x441985(0xaad),_0x31e712),this[_0x441985(0x7cc)][_0x441985(0x6ea)](_0x14d65d[_0x441985(0x592)]);});}}class _0x180721 extends _0x46faea{['localNode'];[_0x332466(0x762)];[_0x332466(0x640)];['db'];['debounceStats'];['writes']=0x0;[_0x332466(0x600)]=0x0;[_0x332466(0x615)]=!0x1;constructor(_0x418e1c,_0x5d0bf6,_0x371802,_0x29819a,_0x164147){const _0x1e273b=_0x332466;if(_0x1e273b(0x5b3)!=typeof _0x5d0bf6)throw new _0x212143(_0x198729[_0x1e273b(0x549)],_0x1e273b(0xa58));super(_0x418e1c,_0x5d0bf6),this[_0x1e273b(0x2e7)]=_0x418e1c,this['clusterId']=_0x371802,this['vendorId']=_0x29819a;const _0x7bec8b=_0x1e273b(0x9c8)+this['vendorId']+'ccc'+this[_0x1e273b(0x762)]+_0x1e273b(0x9c8)+this[_0x1e273b(0x308)];this['db']=new _0x164147(_0x7bec8b),this[_0x1e273b(0x78f)]();}[_0x332466(0xa94)](){const _0x3a1aed=_0x332466;return this[_0x3a1aed(0x615)];}['setIsLoaded'](_0x3509cc){const _0x38ef7c=_0x332466;this[_0x38ef7c(0x615)]=_0x3509cc;}[_0x332466(0x5e0)](){const _0xcab5fa=_0x332466;clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0xcab5fa(0x5e0)]();}[_0x332466(0x1db)](){const _0x2f9392=_0x332466;this[_0x2f9392(0x380)][_0x2f9392(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x2f9392(0x66b)],'content':{'type':_0x5d4388[_0x2f9392(0x32e)],'label':this[_0x2f9392(0x308)]}});}[_0x332466(0x357)](){const _0x2c37a9=_0x332466;this[_0x2c37a9(0x78f)]();}[_0x332466(0x62f)](){const _0x141f3e=_0x332466;return _0x57c18a['ContentType'][_0x141f3e(0x730)];}[_0x332466(0x7ba)](_0x3e91be,_0x13b42d,_0x3e6e49,_0x5cd63c,_0x63a14c){const _0x4fda7f=_0x332466,_0x4c8a93=this['db']['search'](_0x3e91be,_0x13b42d,_0x3e6e49,_0x5cd63c,_0x63a14c);return this[_0x4fda7f(0x600)]+=0x1,_0x833509[_0x4fda7f(0x788)](_0x80219b[_0x4fda7f(0x730)],{'type':'search','label':this[_0x4fda7f(0x308)],'nodeId':this[_0x4fda7f(0x2e7)][_0x4fda7f(0x9cc)](),'nodeType':this[_0x4fda7f(0x2e7)][_0x4fda7f(0x5a0)],'clusterId':this[_0x4fda7f(0x762)],'size':0x0}),this['sendStats'](),_0x4c8a93;}[_0x332466(0x964)](_0x1b0244,_0x50df91,_0x232b99,_0x2b0c6e){const _0x10caea=_0x332466;this['db'][_0x10caea(0x964)](_0x1b0244,_0x50df91,_0x232b99,_0x2b0c6e),this['writes']+=0x1,_0x833509[_0x10caea(0x788)](_0x80219b[_0x10caea(0x730)],{'type':'insert','label':this[_0x10caea(0x308)],'nodeId':this['localNode'][_0x10caea(0x9cc)](),'nodeType':this[_0x10caea(0x2e7)][_0x10caea(0x5a0)],'clusterId':this[_0x10caea(0x762)],'size':_0x2b0c6e['reduce']((_0xe521e7,_0x3bfc41)=>_0xe521e7+_0x3bfc41[_0x10caea(0x65d)],0x0)}),this[_0x10caea(0x78f)]();}[_0x332466(0xa6d)](_0x285f52){const _0x22ce10=_0x332466;this['db'][_0x22ce10(0xa6d)](_0x285f52),this[_0x22ce10(0x32d)]+=0x1,_0x833509['logServiceEvent'](_0x80219b[_0x22ce10(0x730)],{'type':_0x22ce10(0xa6d),'label':this['label'],'nodeId':this[_0x22ce10(0x2e7)]['getId'](),'nodeType':this[_0x22ce10(0x2e7)]['type'],'clusterId':this['clusterId'],'size':0x0}),this[_0x22ce10(0x78f)]();}[_0x332466(0x1ec)](_0x32c0c4){this['db']['saveToDisk'](_0x32c0c4);}[_0x332466(0xab7)](_0x351f82){this['db']['loadFromDisk'](_0x351f82);}['sendStats'](){const _0x366938=_0x332466;this[_0x366938(0x9a9)]&&clearTimeout(this['debounceStats']),this[_0x366938(0x9a9)]=setTimeout(async()=>{const _0x54fd2a=_0x366938;delete this[_0x54fd2a(0x9a9)];const _0x3549c4=this['db'][_0x54fd2a(0x3ec)]()[_0x54fd2a(0x19c)];this[_0x54fd2a(0x380)][_0x54fd2a(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x54fd2a(0x66b)],'content':{'type':_0x5d4388[_0x54fd2a(0x8c9)],'label':this[_0x54fd2a(0x308)],'stats':{'timestamp':Date[_0x54fd2a(0x3f4)](),'storage':_0x3549c4,'messagesSent':this[_0x54fd2a(0x940)],'messagesReceived':this[_0x54fd2a(0x20f)],'bytesSent':this[_0x54fd2a(0x572)],'bytesReceived':this[_0x54fd2a(0x99a)],'writes':this[_0x54fd2a(0x32d)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x833509['logStorage'](_0x80219b[_0x54fd2a(0x730)],_0x54fd2a(0x9c8)+this['clusterId']+_0x54fd2a(0x9c8)+this[_0x54fd2a(0x308)],_0x3549c4);},_0x11318f);}}class _0x1733c0{['id'];[_0x332466(0x4a5)];['rank'];constructor(_0x36e4a2,_0x2d29bf=new Set(),_0x4d9f6c){const _0x4b855b=_0x332466;this['id']=_0x36e4a2,this[_0x4b855b(0x4a5)]=_0x2d29bf,this[_0x4b855b(0x462)]=_0x4d9f6c;}[_0x332466(0x1db)](){const _0x1029e4=_0x332466;this[_0x1029e4(0x462)]=void 0x0,this[_0x1029e4(0x4a5)][_0x1029e4(0x767)]();}['getId'](){return this['id'];}[_0x332466(0x60c)](){return this['rank'];}['getRemoteConnections'](){const _0x4c5e6f=_0x332466;return this[_0x4c5e6f(0x4a5)];}}class _0x562ddb extends _0x1733c0{['id'];['displayName'];[_0x332466(0x7a8)];[_0x332466(0x4a5)];['rank'];[_0x332466(0x5a0)]=_0x57c18a[_0x332466(0x780)]['User'];constructor(_0x5704ae,_0x5be34d,_0x5b95da,_0x127f21=new Set(),_0x3133ed){const _0x363d5e=_0x332466;super(_0x5704ae,_0x127f21,_0x3133ed),this['id']=_0x5704ae,this[_0x363d5e(0x1cf)]=_0x5be34d,this[_0x363d5e(0x7a8)]=_0x5b95da,this['remoteConnections']=_0x127f21,this[_0x363d5e(0x462)]=_0x3133ed;}['getDisplayName'](){const _0x434cb4=_0x332466;return this[_0x434cb4(0x1cf)];}[_0x332466(0x86f)](){const _0x283d68=_0x332466;return this[_0x283d68(0x7a8)];}}class _0x3ffdab{['vendorId'];[_0x332466(0x762)];[_0x332466(0xae5)];constructor(_0x27b613,_0x34d894){const _0x20e8b4=_0x332466;this[_0x20e8b4(0x640)]=_0x27b613,this[_0x20e8b4(0x762)]=_0x34d894,this['clusterKey']=_0x20e8b4(0x9c8)+this[_0x20e8b4(0x640)]+_0x20e8b4(0x9c8)+this[_0x20e8b4(0x762)];}async[_0x332466(0x2d5)](_0x4f848d,_0x186cd5){const _0x35b9ea=_0x332466,_0x36e98e=(0x0,_0x47aff[_0x35b9ea(0x2ed)])(_0x5673af[_0x35b9ea(0x92d)](),_0x35b9ea(0xad0)+this[_0x35b9ea(0xae5)]+'/objectstores/'+_0x186cd5+'/transactions/'+_0x4f848d['id']),_0xdcb8a5=(0x0,_0x47aff['onDisconnect'])(_0x36e98e);_0xdcb8a5['remove'](),_0x4f848d['parentId']||delete _0x4f848d[_0x35b9ea(0x23f)];try{await(0x0,_0x47aff[_0x35b9ea(0x72f)])(_0x36e98e,_0x4f848d);}catch(_0x33822a){throw await _0xdcb8a5[_0x35b9ea(0x8eb)](),new _0x1ba31e(_0x1ba31e[_0x35b9ea(0x631)][_0x35b9ea(0x967)]);}if(!0x1===(await(0x0,_0x47aff[_0x35b9ea(0x6d6)])((0x0,_0x47aff[_0x35b9ea(0x2ed)])(_0x5673af[_0x35b9ea(0x92d)](),_0x35b9ea(0xad0)+this[_0x35b9ea(0xae5)]+_0x35b9ea(0xa5d)+_0x186cd5+_0x35b9ea(0x41a)),_0x23048c=>_0x23048c?_0x23048c===_0x4f848d[_0x35b9ea(0x23f)]?_0x4f848d['id']:void 0x0:_0x4f848d[_0x35b9ea(0x23f)]?_0x4f848d[_0x35b9ea(0x23f)]:_0x4f848d['id']))['committed'])throw await(0x0,_0x47aff[_0x35b9ea(0xa6d)])(_0x36e98e),await _0xdcb8a5[_0x35b9ea(0x8eb)](),new _0x1ba31e(_0x1ba31e[_0x35b9ea(0x631)][_0x35b9ea(0x2b0)]);await _0xdcb8a5[_0x35b9ea(0x8eb)]();}async[_0x332466(0xa88)](_0xf7f518,_0x24de55){const _0x49adbe=_0x332466;let _0x489585=[];const _0x22e9f5=(0x0,_0x47aff['ref'])(_0x5673af['getDatabase'](),_0x49adbe(0xad0)+this[_0x49adbe(0xae5)]+_0x49adbe(0xa5d)+_0xf7f518+_0x49adbe(0x744));let _0xc9a056=await(0x0,_0x47aff[_0x49adbe(0x4d1)])((0x0,_0x47aff['query'])(_0x22e9f5,(0x0,_0x47aff[_0x49adbe(0x5d4)])(0x65),(0x0,_0x47aff[_0x49adbe(0x691)])()));if(!_0xc9a056[_0x49adbe(0x50a)]()){if(void 0x0!==_0x24de55)throw new _0x1ba31e(_0x1ba31e[_0x49adbe(0x631)][_0x49adbe(0x27b)]);return _0x489585;}const _0x22ee83=_0xc9a056[_0x49adbe(0x4d9)]();for(;Object[_0x49adbe(0x4be)](_0xc9a056[_0x49adbe(0x4d9)]())[_0x49adbe(0x65d)]>0x64;){const _0x1e6865=Object[_0x49adbe(0x4be)](_0xc9a056[_0x49adbe(0x4d9)]()),_0x296f45=_0x1e6865[_0x1e6865[_0x49adbe(0x65d)]-0x1];_0xc9a056=await(0x0,_0x47aff[_0x49adbe(0x4d1)])((0x0,_0x47aff[_0x49adbe(0x508)])(_0x22e9f5,(0x0,_0x47aff['limitToFirst'])(0x65),(0x0,_0x47aff[_0x49adbe(0x24c)])(_0x296f45),(0x0,_0x47aff[_0x49adbe(0x691)])())),Object[_0x49adbe(0x68d)](_0x22ee83,_0xc9a056[_0x49adbe(0x4d9)]());}if(_0x489585=Object['values'](_0x22ee83)['filter'](_0xf43667=>'string'!=typeof _0xf43667),0x0===_0x489585[_0x49adbe(0x65d)]&&void 0x0!==_0x24de55)throw new _0x1ba31e(_0x1ba31e[_0x49adbe(0x631)][_0x49adbe(0x27b)]);if(_0x489585[_0x49adbe(0x65d)]>0x0&&void 0x0!==_0x24de55&&!_0x489585[_0x49adbe(0x405)](_0x45e208=>_0x45e208['id']===_0x24de55))throw new _0x1ba31e(_0x1ba31e[_0x49adbe(0x631)][_0x49adbe(0x27b)]);const _0x4ca58e=[];let _0x9bf9ad=_0x489585['find'](_0x2e4ad0=>_0x2e4ad0[_0x49adbe(0x23f)]===_0x24de55);for(;_0x9bf9ad;)_0x4ca58e[_0x49adbe(0x995)](_0x9bf9ad),_0x9bf9ad=_0x489585[_0x49adbe(0x405)](_0x5f288a=>_0x5f288a['parentId']===_0x9bf9ad['id']);return _0x4ca58e;}}class _0x4bb35b{[_0x332466(0xaa5)];[_0x332466(0x3ca)];[_0x332466(0x9a8)];[_0x332466(0x6bd)];[_0x332466(0x975)]=new Map();[_0x332466(0x3c8)]=new Map();[_0x332466(0x64f)]=new Map();[_0x332466(0x4ff)]=new Map();[_0x332466(0x9c5)]=new Map();[_0x332466(0x9b3)]=new Map();[_0x332466(0xa1d)]=new Map();['graphDatabases']=new Map();['jobDispatchers']=new Map();['jobWorkers']=new Map();[_0x332466(0x909)];constructor(_0x38a13e,_0x5be014,_0x547d9f,_0x291e84){const _0x305992=_0x332466;this[_0x305992(0xaa5)]=_0x38a13e,this[_0x305992(0x3ca)]=_0x5be014,this[_0x305992(0x9a8)]=_0x547d9f,this['aiSearchApiKey']=_0x291e84,this[_0x305992(0x909)]=new _0x3ffdab(this['configs'][_0x305992(0x640)],this[_0x305992(0xaa5)]['clusterId']);}['close'](_0x4be544=!0x1){const _0x1642d7=_0x332466;this[_0x1642d7(0x3c8)]['forEach']((_0x542f35,_0x2391e3)=>{const _0x4a942e=_0x1642d7;_0x542f35[_0x4a942e(0x602)]((_0x5dbdf2,_0x8c5759)=>{const _0x5228b0=_0x4a942e;this[_0x5228b0(0x2f0)](_0x2391e3,_0x8c5759);});}),_0x4be544||(_0x131ce2[_0x1642d7(0x767)](),this['localMediaStreams'][_0x1642d7(0x602)]((_0x34368f,_0x52a917)=>{const _0x2fe36c=_0x1642d7;this[_0x2fe36c(0x277)](_0x52a917);}),this[_0x1642d7(0x64f)]['forEach']((_0x23eff4,_0xe865dc)=>{const _0x4d53d3=_0x1642d7;this[_0x4d53d3(0x1ff)](_0xe865dc);}),this[_0x1642d7(0x4ff)][_0x1642d7(0x602)]((_0x5c3762,_0x8612de)=>{const _0x3d2eb6=_0x1642d7;this[_0x3d2eb6(0x2a4)](_0x8612de);}),this['externalStorageConnections'][_0x1642d7(0x602)]((_0x59f834,_0x57025e)=>{const _0x496c13=_0x1642d7;this[_0x496c13(0xa8f)](_0x57025e);}),this[_0x1642d7(0x9b3)]['forEach']((_0x1e8bfa,_0x42a576)=>{this['removeKeyValueDatabase'](_0x42a576);}),this[_0x1642d7(0x217)][_0x1642d7(0x602)]((_0x2ee7c5,_0x4bed1a)=>{const _0x5d4334=_0x1642d7;this[_0x5d4334(0x8e3)](_0x4bed1a);}),this[_0x1642d7(0x69d)][_0x1642d7(0x602)]((_0x169379,_0x3264c8)=>{const _0x3336e6=_0x1642d7;this[_0x3336e6(0x546)](_0x3264c8);}),this[_0x1642d7(0xa1d)]['forEach']((_0x5b2a5d,_0x16a3b4)=>{const _0x427c64=_0x1642d7;this[_0x427c64(0x548)](_0x16a3b4);}),this[_0x1642d7(0x807)][_0x1642d7(0x602)]((_0x388a16,_0x2cb3af)=>{const _0x5bb0b8=_0x1642d7;this[_0x5bb0b8(0x676)](_0x2cb3af);}));}[_0x332466(0x46b)](_0x267e51,_0x113f19,_0x1c80da){const _0x2f54fd=_0x332466;if(this[_0x2f54fd(0x4ff)]['has'](_0x267e51))throw new _0x212143(_0x198729[_0x2f54fd(0x5a1)],_0x2f54fd(0x77e));const _0x587e26=new _0x387c3b(this['configs']['localNode'],_0x267e51,this[_0x2f54fd(0xaa5)]['clusterId'],this['configs']['vendorId'],this[_0x2f54fd(0x909)],_0x113f19,()=>this['configs'][_0x2f54fd(0x7c9)][_0x2f54fd(0xa57)](),_0x1c80da);return this[_0x2f54fd(0x4ff)][_0x2f54fd(0x72f)](_0x267e51,_0x587e26),this[_0x2f54fd(0xaa5)][_0x2f54fd(0x7c9)][_0x2f54fd(0xa95)](_0x587e26),_0x587e26;}[_0x332466(0x21e)](_0x272311,_0x5d019a){const _0x3990c8=_0x332466;if(this[_0x3990c8(0x4ff)][_0x3990c8(0x71d)](_0x272311))throw new _0x212143(_0x198729['ExternalStorageConnectionAlreadyExists'],'Connection\x20already\x20exists');const _0x5b84a4=new _0x559cd6(this[_0x3990c8(0xaa5)][_0x3990c8(0x2e7)],_0x272311,this[_0x3990c8(0xaa5)][_0x3990c8(0x762)],this[_0x3990c8(0xaa5)][_0x3990c8(0x640)],_0x5d019a);return this[_0x3990c8(0x9c5)][_0x3990c8(0x72f)](_0x272311,_0x5b84a4),this[_0x3990c8(0xaa5)][_0x3990c8(0x7c9)]['registerSystemSource'](_0x5b84a4),_0x5b84a4;}async[_0x332466(0x418)](_0x3bae6d,_0x14b227,_0x48c408){const _0x2ebd79=_0x332466;if(this[_0x2ebd79(0x9b3)][_0x2ebd79(0x71d)](_0x3bae6d))throw new _0x212143(_0x198729[_0x2ebd79(0x955)],_0x2ebd79(0x6f9));try{const _0x9ef956=this[_0x2ebd79(0xaa5)][_0x2ebd79(0x7c9)]['isNodeReady'][_0x2ebd79(0x531)](this[_0x2ebd79(0xaa5)][_0x2ebd79(0x7c9)]),_0x54bbb9=new _0x5ed1a3(this[_0x2ebd79(0xaa5)][_0x2ebd79(0x2e7)],_0x3bae6d,this[_0x2ebd79(0xaa5)][_0x2ebd79(0x762)],this[_0x2ebd79(0xaa5)][_0x2ebd79(0x640)],_0x14b227,_0x48c408,_0x9ef956);return this['keyValueDatabases'][_0x2ebd79(0x72f)](_0x3bae6d,_0x54bbb9),this[_0x2ebd79(0xaa5)]['mediator'][_0x2ebd79(0xa95)](_0x54bbb9),_0x54bbb9;}catch(_0x25c96c){if(_0x25c96c instanceof _0x212143)throw _0x25c96c;throw new _0x1ba31e(_0x1ba31e[_0x2ebd79(0x631)][_0x2ebd79(0x49d)],{'label':_0x3bae6d,'clusterId':this[_0x2ebd79(0xaa5)][_0x2ebd79(0x762)],'vendorId':this[_0x2ebd79(0xaa5)][_0x2ebd79(0x640)]});}}async[_0x332466(0x4b2)](_0x5a6ace,_0x16ac3e){const _0x7c3a4=_0x332466;if(this[_0x7c3a4(0x217)][_0x7c3a4(0x71d)](_0x5a6ace))throw new _0x212143(_0x198729['JobDispatcherAlreadyExists'],_0x7c3a4(0x7b0));try{const _0x7c744b=new _0x344f87(this[_0x7c3a4(0xaa5)]['localNode'],_0x5a6ace,_0x16ac3e);return this[_0x7c3a4(0x217)][_0x7c3a4(0x72f)](_0x5a6ace,_0x7c744b),this[_0x7c3a4(0xaa5)][_0x7c3a4(0x7c9)][_0x7c3a4(0xa95)](_0x7c744b),_0x7c744b;}catch(_0x1a8862){if(_0x1a8862 instanceof _0x212143)throw _0x1a8862;throw new _0x1ba31e(_0x1ba31e[_0x7c3a4(0x631)]['JobDispatcherCreationFailed'],{'label':_0x5a6ace,'clusterId':this[_0x7c3a4(0xaa5)][_0x7c3a4(0x762)],'vendorId':this[_0x7c3a4(0xaa5)][_0x7c3a4(0x640)]});}}async[_0x332466(0x8bf)](_0x21d2dd,_0x338a02){const _0x31c2f1=_0x332466;if(this[_0x31c2f1(0x217)]['has'](_0x21d2dd))throw new _0x212143(_0x198729[_0x31c2f1(0x68c)],_0x31c2f1(0x504));if(this[_0x31c2f1(0x69d)]['has'](_0x21d2dd))throw new _0x212143(_0x198729[_0x31c2f1(0x54c)],_0x31c2f1(0x747));try{const _0xe1b463=new _0x457c3b(this[_0x31c2f1(0xaa5)][_0x31c2f1(0x2e7)],_0x21d2dd,this[_0x31c2f1(0xaa5)][_0x31c2f1(0x640)],_0x338a02);return this['jobDispatchers'][_0x31c2f1(0x72f)](_0x21d2dd,_0xe1b463),this[_0x31c2f1(0xaa5)]['mediator'][_0x31c2f1(0xa95)](_0xe1b463),_0xe1b463;}catch(_0x2e782e){if(_0x2e782e instanceof _0x212143)throw _0x2e782e;throw new _0x1ba31e(_0x1ba31e[_0x31c2f1(0x631)]['GenerativeAIContextCreationFailed'],{'label':_0x21d2dd,'clusterId':this[_0x31c2f1(0xaa5)]['clusterId'],'vendorId':this[_0x31c2f1(0xaa5)][_0x31c2f1(0x640)]});}}async['createGenerativeAIWorker'](_0x1bb265,_0x426859,_0x338896,_0x46c916,_0x2bbba3,_0x579de1,_0x48416a,_0x5b4d6c){const _0x39b447=_0x332466;if(this[_0x39b447(0x69d)]['has'](_0x1bb265))throw new _0x212143(_0x198729['GenerativeAIWorkerAlreadyExists'],_0x39b447(0x3e0));if(this[_0x39b447(0x217)][_0x39b447(0x71d)](_0x1bb265))throw new _0x212143(_0x198729[_0x39b447(0x54c)],_0x39b447(0x747));try{const _0x52fdef=new _0x4a0f95(this[_0x39b447(0xaa5)][_0x39b447(0x2e7)],_0x1bb265,this['configs'][_0x39b447(0x640)],_0x426859,this,_0x338896,_0x46c916,_0x2bbba3,this[_0x39b447(0x9a8)],this[_0x39b447(0x6bd)],_0x579de1,_0x48416a,_0x5b4d6c);return this[_0x39b447(0x69d)][_0x39b447(0x72f)](_0x1bb265,_0x52fdef),this['configs'][_0x39b447(0x7c9)][_0x39b447(0xa95)](_0x52fdef),_0x52fdef;}catch(_0x322521){if(_0x322521 instanceof _0x212143)throw _0x322521;throw new _0x1ba31e(_0x1ba31e[_0x39b447(0x631)]['GenerativeAIWorkerCreationFailed'],{'label':_0x1bb265,'clusterId':this[_0x39b447(0xaa5)][_0x39b447(0x762)],'vendorId':this[_0x39b447(0xaa5)]['vendorId']});}}[_0x332466(0x69c)](_0x297baa,_0x40c463){const _0x22bd92=_0x332466;if(this[_0x22bd92(0x807)][_0x22bd92(0x71d)](_0x297baa))throw new _0x212143(_0x198729['GraphDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x200b07=new _0x28b308(this[_0x22bd92(0xaa5)][_0x22bd92(0x2e7)],_0x297baa,this[_0x22bd92(0xaa5)][_0x22bd92(0x762)],this['configs'][_0x22bd92(0x640)],_0x40c463);return this[_0x22bd92(0x807)][_0x22bd92(0x72f)](_0x297baa,_0x200b07),this[_0x22bd92(0xaa5)][_0x22bd92(0x7c9)][_0x22bd92(0xa95)](_0x200b07),_0x200b07;}catch(_0x470a1e){if(_0x470a1e instanceof _0x212143)throw _0x470a1e;throw new _0x1ba31e(_0x1ba31e[_0x22bd92(0x631)][_0x22bd92(0x833)],{'label':_0x297baa,'clusterId':this['configs'][_0x22bd92(0x762)],'vendorId':this[_0x22bd92(0xaa5)][_0x22bd92(0x640)]});}}[_0x332466(0x3e6)](_0x293787,_0x16a24e){const _0x13185f=_0x332466;if(this[_0x13185f(0x975)][_0x13185f(0x71d)](_0x293787))throw new _0x212143(_0x198729[_0x13185f(0xa05)],_0x13185f(0x1a2));if(!this[_0x13185f(0x3ca)][_0x13185f(0x505)])throw new _0x212143(_0x198729[_0x13185f(0x37b)],_0x13185f(0x618));const _0x323e8e=new _0xd8123b(this[_0x13185f(0xaa5)][_0x13185f(0x2e7)],_0x293787,_0x16a24e,this[_0x13185f(0x3ca)]['maxFps'],this[_0x13185f(0x3ca)]['audioContext'],this[_0x13185f(0xaa5)][_0x13185f(0x762)]);return this[_0x13185f(0x975)][_0x13185f(0x72f)](_0x293787,_0x323e8e),this[_0x13185f(0xaa5)]['mediator'][_0x13185f(0xa95)](_0x323e8e),_0x323e8e[_0x13185f(0x778)](),_0x323e8e;}[_0x332466(0x4ae)](_0x412084,_0xd7cada){const _0x373beb=_0x332466;if(this[_0x373beb(0x975)][_0x373beb(0x71d)](_0x412084))throw new _0x212143(_0x198729[_0x373beb(0xa05)],_0x373beb(0x4c0));const _0x25c296=new _0x2870e2(this['configs'][_0x373beb(0x2e7)],_0x412084,_0xd7cada,this['configs'][_0x373beb(0x762)]);return this['localMediaStreams'][_0x373beb(0x72f)](_0x412084,_0x25c296),this[_0x373beb(0xaa5)]['mediator']['registerSystemSource'](_0x25c296),_0x25c296[_0x373beb(0x778)](),_0x25c296;}[_0x332466(0x761)](_0x36043b){const _0x2b8c8a=_0x332466;if(this['pubSubTopics'][_0x2b8c8a(0x71d)](_0x36043b))throw new _0x212143(_0x198729[_0x2b8c8a(0xa5c)],_0x2b8c8a(0x194));const _0x538668=new _0x40a1e7(this[_0x2b8c8a(0xaa5)][_0x2b8c8a(0x2e7)],_0x36043b,this[_0x2b8c8a(0xaa5)]['clusterId']);return this[_0x2b8c8a(0x64f)][_0x2b8c8a(0x72f)](_0x36043b,_0x538668),this['configs']['mediator'][_0x2b8c8a(0xa95)](_0x538668),_0x538668;}[_0x332466(0x3da)](_0x1f9873,_0x19da1a,_0x569240,_0x99205c){const _0x1bede6=_0x332466;this[_0x1bede6(0x3c8)]['has'](_0x1f9873)||this[_0x1bede6(0x3c8)][_0x1bede6(0x72f)](_0x1f9873,new Map());const _0x2d6471=this['remoteMediaStreams'][_0x1bede6(0x4d1)](_0x1f9873);if(_0x2d6471['has'](_0x19da1a))throw new _0x212143(_0x198729['RemoteMediaStreamAlreadyExists'],_0x1bede6(0x57e));const _0x27cad3=new _0x562ddb(_0x1f9873,'',''),_0x5a3470=new _0x2dc02d(this[_0x1bede6(0xaa5)][_0x1bede6(0x2e7)],_0x27cad3,_0x19da1a,_0x569240,_0x99205c,this[_0x1bede6(0xaa5)]['clusterId']);return _0x2d6471[_0x1bede6(0x72f)](_0x19da1a,_0x5a3470),this[_0x1bede6(0xaa5)]['mediator'][_0x1bede6(0xa95)](_0x5a3470),_0x5a3470;}['createVectorDatabase'](_0x5ac698,_0x52c63c){const _0xe8da39=_0x332466;if(this['vectorDatabases'][_0xe8da39(0x71d)](_0x5ac698))throw new _0x212143(_0x198729[_0xe8da39(0x222)],_0xe8da39(0x6f9));try{const _0x37b01c=new _0x180721(this['configs'][_0xe8da39(0x2e7)],_0x5ac698,this['configs'][_0xe8da39(0x762)],this[_0xe8da39(0xaa5)][_0xe8da39(0x640)],_0x52c63c);return this['vectorDatabases'][_0xe8da39(0x72f)](_0x5ac698,_0x37b01c),this[_0xe8da39(0xaa5)]['mediator']['registerSystemSource'](_0x37b01c),_0x37b01c;}catch(_0x2576ef){if(_0x2576ef instanceof _0x212143)throw _0x2576ef;throw new _0x1ba31e(_0x1ba31e[_0xe8da39(0x631)][_0xe8da39(0x837)],{'label':_0x5ac698,'clusterId':this[_0xe8da39(0xaa5)][_0xe8da39(0x762)],'vendorId':this['configs']['vendorId']});}}[_0x332466(0x35e)](_0x597912){const _0x387a6e=_0x332466,_0x5c19d2=Array['from'](this[_0x387a6e(0x4ff)][_0x387a6e(0x6af)]());return _0x597912?_0x5c19d2[_0x387a6e(0x962)](_0x597912):_0x5c19d2;}['getExternalStorageConnections'](_0x49e769){const _0x5980d4=_0x332466,_0x5f187f=Array[_0x5980d4(0x639)](this[_0x5980d4(0x9c5)][_0x5980d4(0x6af)]());return _0x49e769?_0x5f187f[_0x5980d4(0x962)](_0x49e769):_0x5f187f;}[_0x332466(0x948)](_0x237008){const _0x2e8fa4=_0x332466,_0x24090f=Array[_0x2e8fa4(0x639)](this[_0x2e8fa4(0x9b3)][_0x2e8fa4(0x6af)]());return _0x237008?_0x24090f[_0x2e8fa4(0x962)](_0x237008):_0x24090f;}['getJobDispatchers'](_0x33792a){const _0x4cffb7=_0x332466,_0x51a15f=Array[_0x4cffb7(0x639)](this['jobDispatchers'][_0x4cffb7(0x6af)]());return _0x33792a?_0x51a15f[_0x4cffb7(0x962)](_0x33792a):_0x51a15f;}[_0x332466(0x6b7)](_0x48f06c){const _0x5c30ea=_0x332466,_0x4388e1=Array[_0x5c30ea(0x639)](this[_0x5c30ea(0x69d)][_0x5c30ea(0x6af)]());return _0x48f06c?_0x4388e1['filter'](_0x48f06c):_0x4388e1;}[_0x332466(0x1c1)](_0x11c8f1){const _0x214779=_0x332466,_0x37e8e7=Array[_0x214779(0x639)](this[_0x214779(0x217)][_0x214779(0x6af)]())[_0x214779(0x962)](_0x14c214=>_0x14c214 instanceof _0x457c3b);return _0x11c8f1?_0x37e8e7['filter'](_0x11c8f1):_0x37e8e7;}['getGenerativeAIWorkers'](_0x5edb71){const _0x25f6b3=_0x332466,_0x4dea4a=Array[_0x25f6b3(0x639)](this[_0x25f6b3(0x69d)]['values']())[_0x25f6b3(0x962)](_0x4a67a9=>_0x4a67a9 instanceof _0x4a0f95);return _0x5edb71?_0x4dea4a[_0x25f6b3(0x962)](_0x5edb71):_0x4dea4a;}[_0x332466(0x9ee)](_0x567566){const _0xf0238d=_0x332466,_0x5a206a=Array['from'](this[_0xf0238d(0x807)]['values']());return _0x567566?_0x5a206a['filter'](_0x567566):_0x5a206a;}[_0x332466(0x259)](_0x3b5cc0){const _0x1015da=_0x332466,_0x38bdcf=Array['from'](this[_0x1015da(0x975)][_0x1015da(0x6af)]());return _0x3b5cc0?_0x38bdcf[_0x1015da(0x962)](_0x3b5cc0):_0x38bdcf;}['getPubSubTopics'](_0x5b1115){const _0x5073e9=_0x332466,_0xd0bbd5=Array[_0x5073e9(0x639)](this[_0x5073e9(0x64f)][_0x5073e9(0x6af)]());return _0x5b1115?_0xd0bbd5[_0x5073e9(0x962)](_0x5b1115):_0xd0bbd5;}[_0x332466(0x3f0)](_0x13dc96){const _0x31815a=_0x332466,_0x25dcaf=Array[_0x31815a(0x639)](this['remoteMediaStreams'][_0x31815a(0x6af)]())['reduce']((_0x4faa5a,_0x3ea093)=>[..._0x4faa5a,...Array[_0x31815a(0x639)](_0x3ea093[_0x31815a(0x6af)]())],[]);return _0x13dc96?_0x25dcaf[_0x31815a(0x962)](_0x13dc96):_0x25dcaf;}[_0x332466(0x1cb)](_0x429a1f){const _0x111444=_0x332466,_0x2d052f=Array[_0x111444(0x639)](this[_0x111444(0xa1d)]['values']());return _0x429a1f?_0x2d052f[_0x111444(0x962)](_0x429a1f):_0x2d052f;}[_0x332466(0x901)](_0x119215){const _0x1b8280=_0x332466,_0x425e75=this['objectStores']['get'](_0x119215);if(!_0x425e75)throw new _0x212143(_0x198729[_0x1b8280(0x1bf)],_0x1b8280(0x6a7));return _0x425e75;}['getExternalStorageConnection'](_0x52d755){const _0x488025=_0x332466,_0x12ed02=_0x52d755[_0x488025(0x616)]('-'),_0x5141c2=this[_0x488025(0x9c5)][_0x488025(0x4d1)](_0x12ed02[0x1]);if(!_0x5141c2)throw new _0x212143(_0x198729[_0x488025(0x21d)],'ExternalStorageConnection\x20not\x20found');return _0x5141c2;}[_0x332466(0xa44)](_0x3d48a9){const _0x14c6d8=_0x332466,_0x2e89f1=this[_0x14c6d8(0x807)][_0x14c6d8(0x4d1)](_0x3d48a9);if(!_0x2e89f1)throw new _0x212143(_0x198729[_0x14c6d8(0x495)],_0x14c6d8(0x9b7));return _0x2e89f1;}[_0x332466(0x63e)](_0x16d7cc){const _0x30e4cf=_0x332466,_0x1693f1=this['keyValueDatabases'][_0x30e4cf(0x4d1)](_0x16d7cc);if(!_0x1693f1)throw new _0x212143(_0x198729[_0x30e4cf(0x3fb)],_0x30e4cf(0xa74));return _0x1693f1;}[_0x332466(0x367)](_0x5a5213){const _0x55318e=_0x332466,_0x3f2bb2=this['pubSubTopics'][_0x55318e(0x4d1)](_0x5a5213);if(!_0x3f2bb2)throw new _0x212143(_0x198729[_0x55318e(0x70c)],_0x55318e(0x274));return _0x3f2bb2;}[_0x332466(0x3e1)](_0x5c8d4c){const _0x573337=_0x332466,_0x641eca=this[_0x573337(0xa1d)]['get'](_0x5c8d4c);if(!_0x641eca)throw new _0x212143(_0x198729['VectorDatabaseDoesNotExist'],_0x573337(0x34f));return _0x641eca;}[_0x332466(0x31e)](_0x37842b){const _0x3015dd=_0x332466;switch(_0x37842b[_0x3015dd(0x4cb)]['type']){case _0x5d4388[_0x3015dd(0x841)]:this[_0x3015dd(0x98f)](_0x37842b[_0x3015dd(0x4cb)]);break;case _0x5d4388[_0x3015dd(0x54f)]:this[_0x3015dd(0x1b9)](_0x37842b[_0x3015dd(0x4cb)]);break;case _0x5d4388['CloseJobDispatcher']:this[_0x3015dd(0x8e3)](_0x37842b[_0x3015dd(0x4cb)]['label']);break;case _0x5d4388[_0x3015dd(0x3d0)]:this['removeJobWorker'](_0x37842b[_0x3015dd(0x4cb)]['label']);break;case _0x5d4388[_0x3015dd(0x29a)]:this[_0x3015dd(0x277)](_0x37842b[_0x3015dd(0x4cb)][_0x3015dd(0x308)]);break;case _0x5d4388['ClosePubSubTopic']:this['removePubSubTopic'](_0x37842b[_0x3015dd(0x4cb)]['label']);break;case _0x5d4388[_0x3015dd(0x9db)]:this[_0x3015dd(0x2a4)](_0x37842b[_0x3015dd(0x4cb)]['label']);break;case _0x5d4388['CloseExternalStorageConnection']:this[_0x3015dd(0xa8f)](_0x37842b[_0x3015dd(0x4cb)][_0x3015dd(0x308)]);break;case _0x5d4388[_0x3015dd(0x636)]:this[_0x3015dd(0x9df)](_0x37842b[_0x3015dd(0x4cb)][_0x3015dd(0x308)]);break;case _0x5d4388[_0x3015dd(0x32e)]:this[_0x3015dd(0x548)](_0x37842b['content'][_0x3015dd(0x308)]);break;case _0x5d4388[_0x3015dd(0x3d8)]:this[_0x3015dd(0x676)](_0x37842b['content']['label']);break;case _0x5d4388[_0x3015dd(0x8b4)]:this[_0x3015dd(0x661)](_0x37842b[_0x3015dd(0x4cb)]);break;case _0x5d4388[_0x3015dd(0x21b)]:this[_0x3015dd(0x9b3)][_0x3015dd(0x4d1)](_0x37842b['content']['label'])?.[_0x3015dd(0x597)](_0x37842b['sourceId'],_0x37842b['content'][_0x3015dd(0x653)]);break;case _0x5d4388['KeyValueDatabaseContentSynchronized']:this[_0x3015dd(0x9b3)][_0x3015dd(0x4d1)](_0x37842b[_0x3015dd(0x4cb)][_0x3015dd(0x308)])?.['processContentSynchronized'](_0x37842b[_0x3015dd(0x41f)],_0x37842b[_0x3015dd(0x4cb)]['mmrRoot']);break;case _0x5d4388['KeyValueDatabaseContentAvailable']:this[_0x3015dd(0x9b3)][_0x3015dd(0x4d1)](_0x37842b[_0x3015dd(0x4cb)][_0x3015dd(0x308)])?.[_0x3015dd(0xa90)](_0x37842b['sourceId'],_0x37842b[_0x3015dd(0x4cb)]['peaks']);break;case _0x5d4388[_0x3015dd(0x850)]:this['keyValueDatabases'][_0x3015dd(0x4d1)](_0x37842b[_0x3015dd(0x4cb)][_0x3015dd(0x308)])?.[_0x3015dd(0xabb)](_0x37842b['sourceId'],_0x37842b['content'][_0x3015dd(0x719)]);break;case _0x5d4388[_0x3015dd(0x523)]:this[_0x3015dd(0x9b3)][_0x3015dd(0x4d1)](_0x37842b[_0x3015dd(0x4cb)][_0x3015dd(0x308)])?.[_0x3015dd(0x6fb)](_0x37842b[_0x3015dd(0x41f)],_0x37842b['content'][_0x3015dd(0x5d1)]);break;case _0x5d4388[_0x3015dd(0x46d)]:this[_0x3015dd(0x9b3)]['get'](_0x37842b[_0x3015dd(0x4cb)][_0x3015dd(0x308)])?.['processReceivedTransactions'](_0x37842b['sourceId'],_0x37842b[_0x3015dd(0x4cb)]['transactions']);break;case _0x5d4388[_0x3015dd(0x9f3)]:this[_0x3015dd(0xaa5)][_0x3015dd(0x7c9)][_0x3015dd(0x65e)](_0x3015dd(0x601),{'label':_0x37842b[_0x3015dd(0x4cb)]['label'],'trackKinds':_0x37842b[_0x3015dd(0x4cb)][_0x3015dd(0x926)]});}}['handleNodeSystemEvents']({content:_0x577d42}){const _0x18f268=_0x332466;switch(_0x577d42[_0x18f268(0x5a0)]){case _0x4aea6e['NodeJoin']:this[_0x18f268(0x80f)](_0x577d42),this[_0x18f268(0x6a4)](_0x577d42);break;case _0x4aea6e[_0x18f268(0x1b3)]:this[_0x18f268(0x319)](_0x577d42),this[_0x18f268(0x648)](_0x577d42);}}[_0x332466(0x876)](_0x3ce0dd){const _0x2a9942=_0x332466;switch(_0x3ce0dd['content'][_0x2a9942(0x5a0)]){case _0x7a6e1d['SubscribeMediaStream']:this[_0x2a9942(0x470)](_0x3ce0dd[_0x2a9942(0x41f)],_0x3ce0dd['content']);break;case _0x7a6e1d[_0x2a9942(0x982)]:this[_0x2a9942(0x8d8)](_0x3ce0dd['sourceId'],_0x3ce0dd[_0x2a9942(0x4cb)]);break;case _0x7a6e1d['UnsubscribeMediaStream']:this[_0x2a9942(0x32b)](_0x3ce0dd['sourceId'],_0x3ce0dd[_0x2a9942(0x4cb)]);}}[_0x332466(0x661)](_0x31fdeb){const _0x110d37=_0x332466;if(0x0===_0x31fdeb['remainingTracks'])this[_0x110d37(0x3c8)][_0x110d37(0x4d1)](_0x31fdeb[_0x110d37(0x28c)])?.['get'](_0x31fdeb[_0x110d37(0x308)])?.[_0x110d37(0x5e0)]();else{const _0x2cadd8=this[_0x110d37(0x3c8)][_0x110d37(0x4d1)](_0x31fdeb[_0x110d37(0x28c)])?.[_0x110d37(0x4d1)](_0x31fdeb['label']);if(!_0x2cadd8)return;_0x31fdeb[_0x110d37(0x926)][_0x110d37(0x602)](_0x1b5be0=>_0x2cadd8[_0x110d37(0x9e7)](_0x1b5be0));}}['handlePublishMediaStream'](_0xb95746){const _0x3c592d=_0x332466,{label:_0x56feba,ownerId:_0x2ec3ad,stream:{streamId:_0x3a74d0,availableTrackKinds:_0x20a615}}=_0xb95746;if(this[_0x3c592d(0x3c8)]['get'](_0x2ec3ad)?.[_0x3c592d(0x71d)](_0x56feba))return void _0x833509[_0x3c592d(0x5d5)](_0xebc42c[_0x3c592d(0x66b)],'Stream\x20already\x20exists',_0x3a74d0);const _0x9e493=this['createRemoteMediaStream'](_0x2ec3ad,_0x56feba,_0x3a74d0,_0x20a615);this[_0x3c592d(0xaa5)][_0x3c592d(0x7c9)][_0x3c592d(0x65e)](_0x3c592d(0x655),{'ownerId':_0x2ec3ad,'stream':_0x9e493});}[_0x332466(0x1b9)]({ownerId:_0x45f765,label:_0x135a5a}){const _0xc8dd9d=_0x332466;this[_0xc8dd9d(0x2f0)](_0x45f765,_0x135a5a),this[_0xc8dd9d(0xaa5)]['mediator']['notifyCluster']('content-unpublish-media',{'ownerId':_0x45f765,'label':_0x135a5a});}[_0x332466(0x470)](_0xa1d0bd,_0x594ec5){const _0x1a5b4a=_0x332466,{ownerId:_0x12025c,label:_0x41b918}=_0x594ec5;let _0x3027df;_0x3027df=_0x12025c!==this[_0x1a5b4a(0xaa5)][_0x1a5b4a(0x2e7)][_0x1a5b4a(0x9cc)]()?this['remoteMediaStreams'][_0x1a5b4a(0x4d1)](_0x12025c)[_0x1a5b4a(0x4d1)](_0x41b918):this['localMediaStreams'][_0x1a5b4a(0x4d1)](_0x41b918),_0x3027df[_0x1a5b4a(0x540)](_0xa1d0bd,_0x594ec5[_0x1a5b4a(0x72b)])[_0x1a5b4a(0x3cf)](_0x594ec5,_0x3027df[_0x1a5b4a(0xa3f)]());}[_0x332466(0x8d8)](_0x5e227c,_0x53c2d4){const _0x52939e=_0x332466,{ownerId:_0x1a906e,label:_0x60ff6a}=_0x53c2d4;let _0x2cc251;_0x2cc251=_0x1a906e!==this['configs'][_0x52939e(0x2e7)][_0x52939e(0x9cc)]()?this[_0x52939e(0x3c8)][_0x52939e(0x4d1)](_0x1a906e)[_0x52939e(0x4d1)](_0x60ff6a):this[_0x52939e(0x975)][_0x52939e(0x4d1)](_0x60ff6a),_0x2cc251[_0x52939e(0x540)](_0x5e227c,_0x53c2d4[_0x52939e(0x72b)])[_0x52939e(0x422)](_0x53c2d4);}[_0x332466(0x32b)](_0x4b3282,_0x58b433){const _0x30e818=_0x332466,{ownerId:_0x345650,label:_0x27b349}=_0x58b433;let _0xd64bc0;_0xd64bc0=_0x345650!==this[_0x30e818(0xaa5)][_0x30e818(0x2e7)]['getId']()?this['remoteMediaStreams'][_0x30e818(0x4d1)](_0x345650)[_0x30e818(0x4d1)](_0x27b349):this[_0x30e818(0x975)][_0x30e818(0x4d1)](_0x27b349),_0xd64bc0[_0x30e818(0x540)](_0x4b3282)['unsubscribe'](_0x58b433);}['handleNodeJoinNeedPublishedStream']({id:_0x553d86}){const _0x3801b5=_0x332466;this['getLocalMediaStreams']()[_0x3801b5(0x602)](_0x4b05b3=>{const _0x3f1497=_0x3801b5;_0x4b05b3[_0x3f1497(0x778)](_0x553d86);});}['handleNodeLeave']({id:_0x453c30}){const _0xf7b15=_0x332466;this[_0xf7b15(0x3f0)](_0x1ad95c=>_0x1ad95c[_0xf7b15(0x2bf)]()===_0x453c30)[_0xf7b15(0x602)](_0x2a49a7=>{const _0x2e4b3f=_0xf7b15;this[_0x2e4b3f(0x2f0)](_0x2a49a7['getOwnerId'](),_0x2a49a7[_0x2e4b3f(0x2b5)]());});}['notifyObjectStoreOfNodeJoin']({id:_0x4784e9}){const _0x47f979=_0x332466;this[_0x47f979(0x4ff)][_0x47f979(0x602)](_0x6964b9=>_0x6964b9[_0x47f979(0x720)](_0x4784e9));}[_0x332466(0x648)]({id:_0x4f7420}){const _0x272cff=_0x332466;this[_0x272cff(0x4ff)][_0x272cff(0x602)](_0xcd6ea=>_0xcd6ea[_0x272cff(0x319)](_0x4f7420));}[_0x332466(0x8e3)](_0x4d68be){const _0x197ba9=_0x332466;if(!this['jobDispatchers']['has'](_0x4d68be))throw new _0x212143(_0x198729[_0x197ba9(0x297)],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0x5058e3=this['jobDispatchers'][_0x197ba9(0x4d1)](_0x4d68be);this[_0x197ba9(0x217)]['delete'](_0x4d68be),_0x5058e3[_0x197ba9(0x5e0)](),this[_0x197ba9(0xaa5)]['mediator'][_0x197ba9(0xa29)](_0x5058e3);}['removeJobWorker'](_0x2c093e){const _0x3d6668=_0x332466;if(!this['jobWorkers']['has'](_0x2c093e))throw new _0x212143(_0x198729[_0x3d6668(0x6db)],_0x3d6668(0x75b));const _0x3e2050=this[_0x3d6668(0x69d)][_0x3d6668(0x4d1)](_0x2c093e);this[_0x3d6668(0x69d)][_0x3d6668(0x6ea)](_0x2c093e),_0x3e2050[_0x3d6668(0x5e0)](),this['configs']['mediator'][_0x3d6668(0xa29)](_0x3e2050);}[_0x332466(0x2a4)](_0x40f506){const _0x5c6c65=_0x332466;if(!this[_0x5c6c65(0x4ff)]['has'](_0x40f506))throw new _0x212143(_0x198729['ObjectStoreDoesNotExist'],_0x5c6c65(0x9fa));const _0x2f27e8=this[_0x5c6c65(0x4ff)][_0x5c6c65(0x4d1)](_0x40f506);this['objectStores'][_0x5c6c65(0x6ea)](_0x40f506),_0x2f27e8[_0x5c6c65(0x5e0)](),this[_0x5c6c65(0xaa5)][_0x5c6c65(0x7c9)][_0x5c6c65(0xa29)](_0x2f27e8);}[_0x332466(0xa8f)](_0x37cf55){const _0x4728e6=_0x332466;if(!this[_0x4728e6(0x9c5)][_0x4728e6(0x71d)](_0x37cf55))throw new _0x212143(_0x198729[_0x4728e6(0x21d)],_0x4728e6(0x55a));const _0x2b3cfd=this[_0x4728e6(0x9c5)][_0x4728e6(0x4d1)](_0x37cf55);this[_0x4728e6(0x9c5)][_0x4728e6(0x6ea)](_0x37cf55),_0x2b3cfd[_0x4728e6(0x5e0)](),this[_0x4728e6(0xaa5)][_0x4728e6(0x7c9)][_0x4728e6(0xa29)](_0x2b3cfd);}['removePubSubTopic'](_0x8129c7){const _0xc971b6=_0x332466;if(!this[_0xc971b6(0x64f)][_0xc971b6(0x71d)](_0x8129c7))throw new _0x212143(_0x198729[_0xc971b6(0x70c)],'Stream\x20does\x20not\x20exist');const _0x12b660=this['pubSubTopics'][_0xc971b6(0x4d1)](_0x8129c7);this[_0xc971b6(0x64f)]['delete'](_0x8129c7),_0x12b660[_0xc971b6(0x5e0)](),this[_0xc971b6(0xaa5)][_0xc971b6(0x7c9)][_0xc971b6(0xa29)](_0x12b660);}[_0x332466(0x9df)](_0x2a1ac0){const _0x5ac757=_0x332466;if(!this[_0x5ac757(0x9b3)]['has'](_0x2a1ac0))throw new _0x212143(_0x198729[_0x5ac757(0x3fb)],_0x5ac757(0x439));const _0xc00606=this['keyValueDatabases']['get'](_0x2a1ac0);this[_0x5ac757(0x9b3)]['delete'](_0x2a1ac0),_0xc00606[_0x5ac757(0x5e0)](),this[_0x5ac757(0xaa5)][_0x5ac757(0x7c9)]['unregisterSystemSource'](_0xc00606);}[_0x332466(0x548)](_0x3cd8fb){const _0x1f4c6c=_0x332466;if(!this[_0x1f4c6c(0xa1d)]['has'](_0x3cd8fb))throw new _0x212143(_0x198729[_0x1f4c6c(0x4e5)],_0x1f4c6c(0x439));const _0x451426=this[_0x1f4c6c(0xa1d)][_0x1f4c6c(0x4d1)](_0x3cd8fb);this[_0x1f4c6c(0xa1d)][_0x1f4c6c(0x6ea)](_0x3cd8fb),_0x451426[_0x1f4c6c(0x5e0)](),this[_0x1f4c6c(0xaa5)][_0x1f4c6c(0x7c9)][_0x1f4c6c(0xa29)](_0x451426);}['removeGraphDatabase'](_0x529f9b){const _0x259af0=_0x332466;if(!this[_0x259af0(0x807)][_0x259af0(0x71d)](_0x529f9b))throw new _0x212143(_0x198729[_0x259af0(0x495)],_0x259af0(0x439));const _0x238dd4=this[_0x259af0(0x807)]['get'](_0x529f9b);this[_0x259af0(0x807)][_0x259af0(0x6ea)](_0x529f9b),_0x238dd4[_0x259af0(0x5e0)](),this[_0x259af0(0xaa5)][_0x259af0(0x7c9)][_0x259af0(0xa29)](_0x238dd4);}[_0x332466(0x277)](_0x1e530b){const _0x49825d=_0x332466;if(!this['localMediaStreams'][_0x49825d(0x71d)](_0x1e530b))throw new _0x1ba31e(_0x1ba31e[_0x49825d(0x631)][_0x49825d(0xa10)],{'label':_0x1e530b,'localId':this[_0x49825d(0xaa5)][_0x49825d(0x2e7)][_0x49825d(0x9cc)]()});const _0xa49065=this[_0x49825d(0x975)][_0x49825d(0x4d1)](_0x1e530b);this[_0x49825d(0xaa5)][_0x49825d(0x7c9)][_0x49825d(0xa29)](_0xa49065),_0xa49065[_0x49825d(0x5e0)](),this[_0x49825d(0x975)]['delete'](_0x1e530b);}['removeRemoteMediaStream'](_0x284376,_0x1c3546){const _0x20d99c=_0x332466;if(!this[_0x20d99c(0x3c8)]['has'](_0x284376))throw new _0x1ba31e(_0x1ba31e[_0x20d99c(0x631)][_0x20d99c(0x683)],{'nodeId':_0x284376,'localId':this[_0x20d99c(0xaa5)][_0x20d99c(0x2e7)]['getId']()});const _0x51d2f1=this[_0x20d99c(0x3c8)][_0x20d99c(0x4d1)](_0x284376);if(!_0x51d2f1['has'](_0x1c3546))throw new _0x1ba31e(_0x1ba31e[_0x20d99c(0x631)][_0x20d99c(0x2c1)],{'nodeId':_0x284376,'label':_0x1c3546,'localId':this['configs'][_0x20d99c(0x2e7)][_0x20d99c(0x9cc)]()});const _0x3dd497=_0x51d2f1[_0x20d99c(0x4d1)](_0x1c3546);this['configs'][_0x20d99c(0x7c9)][_0x20d99c(0xa29)](_0x3dd497),_0x3dd497[_0x20d99c(0x5e0)](),_0x51d2f1['delete'](_0x1c3546);}}var _0x32f5db,_0x590c8d,_0xee3eaa;!function(_0x33be56){const _0x423bea=_0x332466;_0x33be56[_0x423bea(0x1be)]=_0x423bea(0x460),_0x33be56['DTVolatility']=_0x423bea(0x5b4),_0x33be56[_0x423bea(0x203)]=_0x423bea(0x2a2),_0x33be56[_0x423bea(0x7bb)]=_0x423bea(0x47e),_0x33be56['Jitter']=_0x423bea(0x4f2),_0x33be56[_0x423bea(0x392)]=_0x423bea(0x5b7),_0x33be56[_0x423bea(0x731)]=_0x423bea(0x279),_0x33be56[_0x423bea(0x6a0)]='av_delay';}(_0x32f5db||(_0x32f5db={})),function(_0xdc53b){const _0x2970a3=_0x332466;_0xdc53b[_0x2970a3(0x864)]=_0x2970a3(0x91f),_0xdc53b['TimePerFrame']=_0x2970a3(0xa35),_0xdc53b[_0x2970a3(0x6a0)]=_0x2970a3(0x7f7),_0xdc53b[_0x2970a3(0x392)]=_0x2970a3(0x763),_0xdc53b[_0x2970a3(0x7bb)]=_0x2970a3(0x3ce),_0xdc53b['Jitter']=_0x2970a3(0x334),_0xdc53b[_0x2970a3(0x731)]=_0x2970a3(0x485);}(_0x590c8d||(_0x590c8d={})),function(_0x2dc117){const _0x52b27c=_0x332466;_0x2dc117[_0x2dc117[_0x52b27c(0x9b8)]=0x0]=_0x52b27c(0x9b8);}(_0xee3eaa||(_0xee3eaa={}));const _0xb00192=[{'type':_0x32f5db['STVolatility'],'reportMetric':_0x2c6f97=>_0x2c6f97[_0x332466(0x1be)],'maxThreshold':2.5},{'type':_0x32f5db[_0x332466(0x218)],'reportMetric':_0x4e9f4f=>_0x4e9f4f[_0x332466(0x218)],'maxThreshold':0.5}],_0x1436fa=[{'type':_0x32f5db[_0x332466(0x203)],'reportMetric':_0x5a9df2=>{const _0x52fb90=_0x332466,_0x3e18d1=0x3e8/_0x5a9df2[_0x52fb90(0x7a3)];return _0x5a9df2[_0x52fb90(0x9d2)]/_0x3e18d1;},'maxThreshold':0.75},{'type':_0x32f5db[_0x332466(0x7bb)],'reportMetric':_0x20b1da=>{const _0x5d47fd=_0x332466,_0x47d9ee=_0x20b1da['FPS']*_0x20b1da[_0x5d47fd(0x315)]*_0x20b1da[_0x5d47fd(0x8c4)]*0.12;return _0x20b1da[_0x5d47fd(0x47e)]/_0x47d9ee;},'minThreshold':0.25},{'type':_0x32f5db['Jitter'],'reportMetric':_0x34a0e6=>_0x34a0e6[_0x332466(0x4f2)],'maxThreshold':0.6},{'type':_0x32f5db[_0x332466(0x392)],'reportMetric':_0x5c9d3f=>_0x5c9d3f['FPS'],'minThreshold':0xa}],_0x1891b3=[{'type':_0x32f5db[_0x332466(0x658)],'reportMetric':_0x49d01e=>_0x49d01e['jitter'],'maxThreshold':0.6}],_0x94c466=[{'type':_0x32f5db['RoundTripTime'],'reportMetric':_0x200c16=>_0x200c16['roundTripTime'],'maxThreshold':0x1/0x0}],_0x6ddd15=[{'type':_0x32f5db[_0x332466(0x6a0)],'reportMetric':_0x39a30c=>_0x39a30c[_0x332466(0x6a0)],'maxThreshold':0x12c}],_0x140754=[{'type':_0x590c8d[_0x332466(0x864)],'issues':[{'type':_0x32f5db[_0x332466(0x1be)],'threshold':0x5},{'type':_0x32f5db[_0x332466(0x218)],'threshold':0x5}]},{'type':_0x590c8d[_0x332466(0x203)],'issues':[{'type':_0x32f5db[_0x332466(0x203)],'threshold':0x3}]},{'type':_0x590c8d[_0x332466(0x6a0)],'issues':[{'type':_0x32f5db['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x590c8d[_0x332466(0x392)],'issues':[{'type':_0x32f5db[_0x332466(0x392)],'threshold':0x3}]},{'type':_0x590c8d[_0x332466(0x7bb)],'issues':[{'type':_0x32f5db[_0x332466(0x7bb)],'threshold':0x3}]},{'type':_0x590c8d['Jitter'],'issues':[{'type':_0x32f5db['Jitter'],'threshold':0x3}]},{'type':_0x590c8d[_0x332466(0x731)],'issues':[{'type':_0x32f5db['RoundTripTime'],'threshold':0x3}]}];var _0x54e2fd,_0x1b1690;!function(_0x4478c3){const _0x305c60=_0x332466;_0x4478c3[_0x4478c3[_0x305c60(0x269)]=0x0]='StreamReport',_0x4478c3[_0x4478c3[_0x305c60(0x522)]=0x1]='LocalReport';}(_0x54e2fd||(_0x54e2fd={}));class _0x248d83{[_0x332466(0xaa5)];[_0x332466(0x27a)]=[];[_0x332466(0x380)];constructor(_0x3c0f90){const _0x423e57=_0x332466;this[_0x423e57(0xaa5)]=_0x3c0f90,this[_0x423e57(0xaa5)][_0x423e57(0x7c9)][_0x423e57(0xa95)](this);}['registerSystemPublisher'](_0x1ebea8){const _0x55c3f4=_0x332466;this[_0x55c3f4(0x380)]=_0x1ebea8;}[_0x332466(0x3bf)](){this['systemTopic']=void 0x0;}[_0x332466(0x1db)](){const _0x33ef85=_0x332466;this[_0x33ef85(0xaa5)][_0x33ef85(0x7c9)][_0x33ef85(0xa29)](this),this[_0x33ef85(0x27a)]=[];}['handleStatsSystemEvents'](_0x2fd45b){const _0x454ac5=_0x332466;switch(_0x2fd45b['content'][_0x454ac5(0x5a0)]){case _0x54e2fd[_0x454ac5(0x522)]:this['detectLocalIssues'](_0x2fd45b[_0x454ac5(0x4cb)]['data']);break;case _0x54e2fd[_0x454ac5(0x269)]:this[_0x454ac5(0x3b8)](_0x2fd45b[_0x454ac5(0x4cb)][_0x454ac5(0x510)]);}}['detectProblems'](_0x4c530a,_0x5ceda1,_0x1231d2,_0xa344eb){const _0x5ccdb7=_0x332466,_0x4d439a=_0x140754[_0x5ccdb7(0x405)](_0x2fd0af=>_0x2fd0af[_0x5ccdb7(0x27a)][_0x5ccdb7(0x76b)](_0x436ff7=>_0x436ff7[_0x5ccdb7(0x5a0)]===_0x4c530a));_0xa344eb>=_0x4d439a[_0x5ccdb7(0x27a)][_0x5ccdb7(0x405)](_0x5c68da=>_0x5c68da[_0x5ccdb7(0x5a0)]===_0x4c530a)[_0x5ccdb7(0x7b1)]&&(this[_0x5ccdb7(0x408)](_0x4d439a['type'],_0x5ceda1,_0x1231d2),this['issues']=this['issues'][_0x5ccdb7(0x962)](_0x4b497c=>!(_0x4b497c[_0x5ccdb7(0x5a0)]===_0x4c530a&&_0x4b497c[_0x5ccdb7(0x6e6)]===_0x5ceda1&&_0x4b497c[_0x5ccdb7(0xa89)]===_0x1231d2)));}['detectLocalIssues'](_0x376a4d){const _0x6ca036=_0x332466;_0xb00192[_0x6ca036(0x602)](_0x337a76=>{const _0x2011f2=_0x6ca036,_0xf0653a=_0x337a76[_0x2011f2(0x324)](_0x376a4d);_0x337a76[_0x2011f2(0x8da)]&&_0xf0653a>_0x337a76[_0x2011f2(0x8da)]&&this[_0x2011f2(0x5a8)](_0x337a76[_0x2011f2(0x5a0)],this[_0x2011f2(0xaa5)][_0x2011f2(0x2e7)][_0x2011f2(0x9cc)](),_0x1adf00[_0x2011f2(0x472)],_0xf0653a),_0x337a76[_0x2011f2(0x451)]&&_0xf0653a<_0x337a76[_0x2011f2(0x451)]&&this['addIssue'](_0x337a76[_0x2011f2(0x5a0)],this['configs'][_0x2011f2(0x2e7)][_0x2011f2(0x9cc)](),_0x1adf00['Sender'],_0xf0653a);});}[_0x332466(0x3b8)](_0x5dd232){const _0x286d83=_0x332466;let _0xf83392=[];switch(_0x5dd232[_0x286d83(0xa89)]){case _0x1adf00[_0x286d83(0x472)]:_0xf83392=_0x94c466;break;case _0x1adf00['Receiver']:_0xf83392=_0x6ddd15;}_0x5dd232[_0x286d83(0x3f7)]&&this[_0x286d83(0x2dc)](_0x5dd232['nodeId'],_0x1adf00[_0x286d83(0x472)],_0x5dd232[_0x286d83(0x3f7)]),_0x5dd232[_0x286d83(0x3f9)]&&this[_0x286d83(0x287)](_0x5dd232['nodeId'],_0x1adf00['Sender'],_0x5dd232[_0x286d83(0x3f9)]),_0xf83392[_0x286d83(0x602)](_0x4c5891=>{const _0x56c028=_0x286d83,_0x3a482c=_0x4c5891['reportMetric'](_0x5dd232);_0x4c5891['maxThreshold']&&_0x3a482c>_0x4c5891[_0x56c028(0x8da)]&&this[_0x56c028(0x5a8)](_0x4c5891[_0x56c028(0x5a0)],_0x5dd232[_0x56c028(0x6e6)],_0x1adf00[_0x56c028(0x472)],_0x3a482c),_0x4c5891[_0x56c028(0x451)]&&_0x3a482c<_0x4c5891['minThreshold']&&this[_0x56c028(0x5a8)](_0x4c5891[_0x56c028(0x5a0)],_0x5dd232[_0x56c028(0x6e6)],_0x1adf00[_0x56c028(0x472)],_0x3a482c);});}[_0x332466(0x2dc)](_0x4ba9b6,_0x4156ff,_0x3e206a){const _0x598a51=_0x332466;0x0!==_0x3e206a[_0x598a51(0x47e)]&&_0x1436fa[_0x598a51(0x602)](_0x4adf9e=>{const _0x19ccab=_0x598a51,_0x434726=_0x4adf9e['reportMetric'](_0x3e206a);_0x4adf9e[_0x19ccab(0x8da)]&&_0x434726>_0x4adf9e[_0x19ccab(0x8da)]&&this[_0x19ccab(0x5a8)](_0x4adf9e['type'],_0x4ba9b6,_0x4156ff,_0x434726,'video'),_0x4adf9e['minThreshold']&&_0x434726<_0x4adf9e['minThreshold']&&this[_0x19ccab(0x5a8)](_0x4adf9e['type'],_0x4ba9b6,_0x4156ff,_0x434726,'video');});}[_0x332466(0x287)](_0x5f405a,_0x573845,_0x3981a8){const _0x3203e7=_0x332466;0x0!==_0x3981a8[_0x3203e7(0x47e)]&&_0x1891b3[_0x3203e7(0x602)](_0x186509=>{const _0x33cb08=_0x3203e7,_0x28ef42=_0x186509['reportMetric'](_0x3981a8);_0x186509[_0x33cb08(0x8da)]&&_0x28ef42>_0x186509[_0x33cb08(0x8da)]&&this[_0x33cb08(0x5a8)](_0x186509['type'],_0x5f405a,_0x573845,_0x28ef42,_0x33cb08(0x3f9)),_0x186509[_0x33cb08(0x451)]&&_0x28ef42<_0x186509[_0x33cb08(0x451)]&&this[_0x33cb08(0x5a8)](_0x186509[_0x33cb08(0x5a0)],_0x5f405a,_0x573845,_0x28ef42,'audio');});}[_0x332466(0x5a8)](_0x3e301b,_0x177c91,_0x138d49,_0x406081,_0x1ce227){const _0x132087=_0x332466;_0x833509[_0x132087(0x5d5)](_0xebc42c[_0x132087(0x4ee)],_0x132087(0x7a1)+_0x3e301b,_0x3e301b,_0x406081),_0x833509[_0x132087(0x2ef)](_0x132087(0x52a),{'clusterId':this['configs'][_0x132087(0x762)],'nodeId':this[_0x132087(0xaa5)]['localNode'][_0x132087(0x9cc)](),'nodeType':this[_0x132087(0xaa5)][_0x132087(0x2e7)]['type'],'remoteId':_0x177c91,'data':{'type':_0x3e301b,'value':_0x406081,'kind':_0x1ce227}}),this['issues']=this[_0x132087(0x27a)]['filter'](_0x4b78b1=>Date['now']()-_0x4b78b1[_0x132087(0x2ee)]<0x7530),this[_0x132087(0x27a)][_0x132087(0x995)]({'timestamp':Date['now'](),'type':_0x3e301b,'nodeId':_0x177c91,'origin':_0x138d49,'value':_0x406081,'kind':_0x1ce227});const _0x43436d=this['issues'][_0x132087(0x962)](_0x42a854=>_0x42a854['type']===_0x3e301b&&_0x42a854[_0x132087(0x6e6)]===_0x177c91&&_0x42a854[_0x132087(0xa89)]===_0x138d49)['length'];this[_0x132087(0x81d)](_0x3e301b,_0x177c91,_0x138d49,_0x43436d);}[_0x332466(0x408)](_0x224a5a,_0x53d7e8,_0x1022c0){const _0x21faba=_0x332466;_0x833509['log'](_0xebc42c[_0x21faba(0x4ee)],'Problem\x20detected:\x20'+_0x224a5a),_0x833509[_0x21faba(0x2ef)](_0x21faba(0xa19),{'clusterId':this['configs'][_0x21faba(0x762)],'nodeId':this[_0x21faba(0xaa5)][_0x21faba(0x2e7)][_0x21faba(0x9cc)](),'nodeType':this[_0x21faba(0xaa5)][_0x21faba(0x2e7)][_0x21faba(0x5a0)],'remoteId':_0x53d7e8,'data':{'type':_0x224a5a}}),this[_0x21faba(0x380)]?.[_0x21faba(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x21faba(0x4ee)],'content':{'type':_0xee3eaa[_0x21faba(0x9b8)],'data':{'timestamp':Date[_0x21faba(0x3f4)](),'nodeId':_0x53d7e8,'origin':_0x1adf00['Sender'],'type':_0x224a5a}}});}}class _0x305dfd extends _0x1733c0{['type']=_0x57c18a[_0x332466(0x780)][_0x332466(0x6cd)];}class _0x2e4074 extends _0x305dfd{[_0x332466(0x380)];['currentVersion']=Date[_0x332466(0x3f4)]();['updateDebounceTimeout'];[_0x332466(0x231)];[_0x332466(0x1db)](){const _0x9dc484=_0x332466;this[_0x9dc484(0x66d)]&&(clearTimeout(this[_0x9dc484(0x66d)]),delete this[_0x9dc484(0x66d)]),delete this['lastUpdated'],this[_0x9dc484(0x4e2)]=Date['now'](),super[_0x9dc484(0x1db)]();}[_0x332466(0x4bd)](_0x31eb07){const _0x1f87be=_0x332466;this[_0x1f87be(0x380)]=_0x31eb07;}[_0x332466(0x3bf)](){const _0x197316=_0x332466;delete this[_0x197316(0x380)];}['answerJoin'](_0x45a104){const _0x1678dc=_0x332466;!this['updateDebounceTimeout']&&this[_0x1678dc(0x462)]&&this[_0x1678dc(0x380)][_0x1678dc(0x778)]({'sourceId':this['id'],'destinationIds':[_0x45a104],'propagate':!0x0,'messageType':_0x2e0616['Node'],'content':{'type':_0x4aea6e[_0x1678dc(0xa84)],'id':this['id'],'metaData':{'type':this[_0x1678dc(0x5a0)]},'rank':this[_0x1678dc(0x60c)](),'remoteConnections':Array['from'](this[_0x1678dc(0x4a5)]),'version':this['currentVersion']}});}[_0x332466(0x181)](_0x150dfb){const _0x115827=_0x332466;this['remoteConnections'][_0x115827(0x71d)](_0x150dfb)||(this[_0x115827(0x4a5)]['add'](_0x150dfb),this[_0x115827(0x38e)](),this[_0x115827(0x486)](!0x0));}[_0x332466(0x3be)](_0x35fd4d){const _0x5431cf=_0x332466;this[_0x5431cf(0x4a5)][_0x5431cf(0x71d)](_0x35fd4d)&&(this[_0x5431cf(0x4a5)][_0x5431cf(0x6ea)](_0x35fd4d),this[_0x5431cf(0x38e)](),this['publishUserUpdate'](!0x0));}[_0x332466(0x4e6)](){return this['currentVersion'];}[_0x332466(0x9f8)](_0x37a9d6,_0x1cdd71=!0x0){const _0x4f18e4=_0x332466;this[_0x4f18e4(0x462)]!==_0x37a9d6&&(this['rank']=_0x37a9d6,_0x1cdd71&&(this['incrementVersion'](),this[_0x4f18e4(0x486)]()));}['incrementVersion'](){const _0x3e5c24=_0x332466;this['currentVersion']=Date[_0x3e5c24(0x3f4)]();}[_0x332466(0x486)](_0x3336a2=!0x1){const _0x697071=_0x332466;if(this[_0x697071(0x462)]){if(this['lastUpdated']||(this[_0x697071(0x231)]=Date['now']()),this[_0x697071(0x66d)]){if(Date[_0x697071(0x3f4)]()-this[_0x697071(0x231)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x697071(0x66d)]=setTimeout(()=>{const _0x3c723f=_0x697071;delete this[_0x3c723f(0x231)],delete this[_0x3c723f(0x66d)],this['systemTopic'][_0x3c723f(0x778)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x2e0616[_0x3c723f(0x7ae)],'content':{'type':_0x3336a2?_0x4aea6e[_0x3c723f(0x310)]:_0x4aea6e[_0x3c723f(0xa84)],'id':this['id'],'metaData':{'type':this[_0x3c723f(0x5a0)]},'rank':this[_0x3c723f(0x60c)](),'remoteConnections':Array[_0x3c723f(0x639)](this[_0x3c723f(0x4a5)]),'version':this['currentVersion']}});},0x3e8);}}}class _0x1063bc extends _0x562ddb{['systemTopic'];[_0x332466(0x4e2)]=Date['now']();[_0x332466(0x66d)];[_0x332466(0x231)];['close'](){const _0x2b672d=_0x332466;this[_0x2b672d(0x66d)]&&(clearTimeout(this[_0x2b672d(0x66d)]),delete this['updateDebounceTimeout']),delete this[_0x2b672d(0x231)],this[_0x2b672d(0x4e2)]=Date[_0x2b672d(0x3f4)](),super[_0x2b672d(0x1db)]();}[_0x332466(0x4bd)](_0x2fbb5e){const _0x945be6=_0x332466;this[_0x945be6(0x380)]=_0x2fbb5e;}[_0x332466(0x3bf)](){delete this['systemTopic'];}[_0x332466(0x5fa)](_0x49d827){const _0x42fcdd=_0x332466;!this[_0x42fcdd(0x66d)]&&this[_0x42fcdd(0x462)]&&this['systemTopic'][_0x42fcdd(0x778)]({'sourceId':this['id'],'destinationIds':[_0x49d827],'propagate':!0x0,'messageType':_0x2e0616[_0x42fcdd(0x7ae)],'content':{'type':_0x4aea6e[_0x42fcdd(0xa84)],'id':this['id'],'metaData':{'type':this[_0x42fcdd(0x5a0)],'displayName':this['getDisplayName'](),'email':this[_0x42fcdd(0x86f)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x42fcdd(0x639)](this[_0x42fcdd(0x4a5)]),'version':this[_0x42fcdd(0x4e2)]}});}[_0x332466(0x181)](_0x49a233){const _0x4a7d84=_0x332466;this[_0x4a7d84(0x4a5)][_0x4a7d84(0x71d)](_0x49a233)||(this['remoteConnections'][_0x4a7d84(0x7c5)](_0x49a233),this[_0x4a7d84(0x38e)](),this[_0x4a7d84(0x486)](!0x0));}[_0x332466(0x3be)](_0x1adb38){const _0x446e7a=_0x332466;this[_0x446e7a(0x4a5)][_0x446e7a(0x71d)](_0x1adb38)&&(this['remoteConnections'][_0x446e7a(0x6ea)](_0x1adb38),this[_0x446e7a(0x38e)](),this[_0x446e7a(0x486)](!0x0));}[_0x332466(0x4e6)](){return this['currentVersion'];}[_0x332466(0x391)](_0x2d6502){const _0x5558d5=_0x332466;this[_0x5558d5(0x1cf)]!==_0x2d6502&&(this[_0x5558d5(0x1cf)]=_0x2d6502,this[_0x5558d5(0x38e)](),this['publishUserUpdate']());}[_0x332466(0x924)](_0x31c261){const _0x4eb51e=_0x332466;this[_0x4eb51e(0x7a8)]!==_0x31c261&&(this[_0x4eb51e(0x7a8)]=_0x31c261,this[_0x4eb51e(0x38e)](),this[_0x4eb51e(0x486)]());}[_0x332466(0x9f8)](_0x4e5e12,_0x3827e7=!0x0){const _0xf562d8=_0x332466;this[_0xf562d8(0x462)]!==_0x4e5e12&&(this['rank']=_0x4e5e12,_0x3827e7&&(this[_0xf562d8(0x38e)](),this[_0xf562d8(0x486)]()));}[_0x332466(0x38e)](){const _0xea62db=_0x332466;this[_0xea62db(0x4e2)]=Date[_0xea62db(0x3f4)]();}[_0x332466(0x486)](_0x4032a4=!0x1){const _0x18e782=_0x332466;if(this['rank']){if(this[_0x18e782(0x231)]||(this['lastUpdated']=Date[_0x18e782(0x3f4)]()),this[_0x18e782(0x66d)]){if(Date[_0x18e782(0x3f4)]()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x18e782(0x66d)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x37d4af=_0x18e782;delete this[_0x37d4af(0x231)],delete this['updateDebounceTimeout'],this[_0x37d4af(0x380)][_0x37d4af(0x778)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x2e0616['Node'],'content':{'type':_0x4032a4?_0x4aea6e['NodeConnectionsUpdate']:_0x4aea6e[_0x37d4af(0xa84)],'id':this['id'],'metaData':{'type':this[_0x37d4af(0x5a0)],'displayName':this[_0x37d4af(0x1d7)](),'email':this[_0x37d4af(0x86f)]()},'rank':this[_0x37d4af(0x60c)](),'remoteConnections':Array[_0x37d4af(0x639)](this['remoteConnections']),'version':this[_0x37d4af(0x4e2)]}});},0x3e8);}}}class _0x4b681a{['id'];[_0x332466(0x3d9)];[_0x332466(0x640)];[_0x332466(0x454)];[_0x332466(0x5a0)]=_0x57c18a[_0x332466(0x780)][_0x332466(0x6cd)];[_0x332466(0x7a0)];constructor(_0x1a9196,_0x2e5746,_0x5d4642,_0x4433b4){const _0xbaea3e=_0x332466;this['id']=_0x1a9196,this[_0xbaea3e(0x3d9)]=_0x2e5746,this[_0xbaea3e(0x640)]=_0x5d4642,this[_0xbaea3e(0x454)]=_0x4433b4;}[_0x332466(0x9cc)](){return this['id'];}[_0x332466(0x94e)](_0x5571f4){const _0x54d672=_0x332466,_0x1a0821=(0x0,_0x53cc66['onSnapshot'])((0x0,_0x53cc66[_0x54d672(0x23b)])(_0x5673af['getFirestore'](),_0x54d672(0x3ea)+this[_0x54d672(0x640)]+'/resources/agent/items/'+this[_0x54d672(0x3d9)]),_0x4537c1=>{const _0xd45f6a=_0x54d672;if(_0x4537c1['exists']()){const _0xeb87eb=_0x4537c1[_0xd45f6a(0x510)]();if(this['agentConfig'][_0xd45f6a(0x2ee)]['isEqual'](_0xeb87eb[_0xd45f6a(0x2ee)]))return;_0x833509[_0xd45f6a(0x5d5)](_0xebc42c[_0xd45f6a(0x7ae)],'agent-config-changed',{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this[_0xd45f6a(0x454)],'newConfig':_0xeb87eb}),this[_0xd45f6a(0x454)]=_0xeb87eb,_0x5571f4();}});return()=>_0x1a0821();}['setReportCapacity'](_0x48bae6){const _0x336205=_0x332466;return this[_0x336205(0x8f1)](this[_0x336205(0x3d9)],_0x48bae6),_0x1327a2[_0x336205(0x728)](()=>this[_0x336205(0x8f1)](this[_0x336205(0x3d9)],_0x48bae6),0x7530);}[_0x332466(0xa70)](){const _0x390be4=_0x332466;if(!this['lastCapacityReport'])throw new _0x1ba31e(_0x1ba31e[_0x390be4(0x631)][_0x390be4(0x5cb)]);return this['lastCapacityReport'];}async[_0x332466(0x8f1)](_0x9ba69,_0xe087c4){const _0x1b746c=_0x332466,_0x42ba7a=await _0xe087c4();this[_0x1b746c(0x7a0)]=_0x42ba7a,await(0x0,_0x53cc66[_0x1b746c(0x1a4)])((0x0,_0x53cc66[_0x1b746c(0x389)])(_0x5673af[_0x1b746c(0x503)](),_0x1b746c(0x3ea)+this['vendorId']+_0x1b746c(0x5ad)),{'agentId':this['id'],'groupId':_0x9ba69,'timestamp':(0x0,_0x53cc66['serverTimestamp'])(),'capacity':_0x42ba7a});}}!function(_0x49647c){const _0x28e2a2=_0x332466;_0x49647c[_0x49647c[_0x28e2a2(0xade)]=0x0]=_0x28e2a2(0xade),_0x49647c[_0x49647c[_0x28e2a2(0x6de)]=0x1]=_0x28e2a2(0x6de);}(_0x1b1690||(_0x1b1690={}));class _0xca8a3c extends _0x305dfd{[_0x332466(0x4e2)];[_0x332466(0x50e)]=_0x1b1690[_0x332466(0xade)];[_0x332466(0x231)]=Date[_0x332466(0x3f4)]();constructor(_0x5b7c69,_0x141273=new Set(),_0x1b69da,_0x3069ee){super(_0x5b7c69,_0x141273,_0x3069ee),this['currentVersion']=_0x1b69da;}[_0x332466(0x4e6)](){const _0x2afc48=_0x332466;return this[_0x2afc48(0x4e2)];}[_0x332466(0x228)](){return this['status'];}[_0x332466(0x779)](){return this['lastUpdated'];}[_0x332466(0x9f8)](_0x4da958){const _0x4bca7a=_0x332466;this['rank']!==_0x4da958&&(this[_0x4bca7a(0x462)]=_0x4da958,this['updateLastUpdated']());}['setRemoteConnections'](_0x3c60b1){const _0x5a17eb=_0x332466;let _0x55c152=!0x1;for(const _0x4c6fcb of this['remoteConnections'])_0x3c60b1[_0x5a17eb(0x988)](_0x4c6fcb)||(_0x55c152=!0x0,this[_0x5a17eb(0x4a5)]['delete'](_0x4c6fcb));for(const _0x410ec8 of _0x3c60b1)this[_0x5a17eb(0x4a5)][_0x5a17eb(0x71d)](_0x410ec8)||(_0x55c152=!0x0,this[_0x5a17eb(0x4a5)][_0x5a17eb(0x7c5)](_0x410ec8));_0x55c152&&this[_0x5a17eb(0x725)]();}[_0x332466(0x2e9)](_0x47f8d6){const _0x876704=_0x332466;this[_0x876704(0x4e2)]!==_0x47f8d6&&(this[_0x876704(0x4e2)]=_0x47f8d6,this[_0x876704(0x725)]());}[_0x332466(0x6a8)](_0x1f5629){const _0x27df9f=_0x332466;this[_0x27df9f(0x50e)]!==_0x1f5629&&(this['status']=_0x1f5629,this[_0x27df9f(0x725)](),_0x1f5629===_0x1b1690[_0x27df9f(0x6de)]&&this[_0x27df9f(0x1db)]());}[_0x332466(0x725)](){const _0x71133=_0x332466;this[_0x71133(0x231)]=Date['now']();}}class _0x560ce7 extends _0x562ddb{[_0x332466(0x4e2)];[_0x332466(0x50e)]=_0x1b1690['Online'];[_0x332466(0x231)]=Date[_0x332466(0x3f4)]();constructor(_0x4d7a95,_0x2ed399,_0x4b94d0,_0x1cefa9=new Set(),_0x302a0a,_0x5361c5){const _0x433189=_0x332466;super(_0x4d7a95,_0x2ed399,_0x4b94d0,_0x1cefa9,_0x5361c5),this[_0x433189(0x4e2)]=_0x302a0a;}[_0x332466(0x4e6)](){const _0x474735=_0x332466;return this[_0x474735(0x4e2)];}[_0x332466(0x228)](){const _0x206104=_0x332466;return this[_0x206104(0x50e)];}[_0x332466(0x779)](){const _0x295d87=_0x332466;return this[_0x295d87(0x231)];}[_0x332466(0x391)](_0x7d6ce9){const _0x54d8cd=_0x332466;this[_0x54d8cd(0x1cf)]!==_0x7d6ce9&&(this['displayName']=_0x7d6ce9,this['updateLastUpdated']());}[_0x332466(0x924)](_0x541f7c){const _0xc00570=_0x332466;this['email']!==_0x541f7c&&(this[_0xc00570(0x7a8)]=_0x541f7c,this[_0xc00570(0x725)]());}[_0x332466(0x9f8)](_0x1b34c7){const _0x2f6890=_0x332466;this[_0x2f6890(0x462)]!==_0x1b34c7&&(this[_0x2f6890(0x462)]=_0x1b34c7,this['updateLastUpdated']());}['setRemoteConnections'](_0x4e7515){const _0x358e4e=_0x332466;let _0x4bb7c8=!0x1;for(const _0xcf6298 of this[_0x358e4e(0x4a5)])_0x4e7515[_0x358e4e(0x988)](_0xcf6298)||(_0x4bb7c8=!0x0,this[_0x358e4e(0x4a5)][_0x358e4e(0x6ea)](_0xcf6298));for(const _0x2251cd of _0x4e7515)this['remoteConnections']['has'](_0x2251cd)||(_0x4bb7c8=!0x0,this[_0x358e4e(0x4a5)][_0x358e4e(0x7c5)](_0x2251cd));_0x4bb7c8&&this[_0x358e4e(0x725)]();}['setCurrentVersion'](_0x1a8068){const _0x290aaa=_0x332466;this[_0x290aaa(0x4e2)]!==_0x1a8068&&(this[_0x290aaa(0x4e2)]=_0x1a8068,this['updateLastUpdated']());}[_0x332466(0x6a8)](_0x3cf1be){const _0x2b728a=_0x332466;this[_0x2b728a(0x50e)]!==_0x3cf1be&&(this['status']=_0x3cf1be,this[_0x2b728a(0x725)](),_0x3cf1be===_0x1b1690[_0x2b728a(0x6de)]&&this[_0x2b728a(0x1db)]());}[_0x332466(0x725)](){this['lastUpdated']=Date['now']();}}class _0x5008d7{[_0x332466(0x640)];[_0x332466(0x762)];[_0x332466(0x2e7)];['minConnections'];[_0x332466(0x37e)]=_0x1876b7();['firebaseUnsubscriber'];[_0x332466(0x202)];[_0x332466(0x284)];[_0x332466(0x350)]=!0x1;[_0x332466(0xae5)];[_0x332466(0xa4c)];constructor(_0x167b36,_0x3f2980,_0xff0c13,_0xb6b7df){const _0x103742=_0x332466;this['vendorId']=_0x167b36,this[_0x103742(0x762)]=_0x3f2980,this['localNode']=_0xff0c13,this[_0x103742(0x70d)]=_0xb6b7df,this[_0x103742(0xae5)]=_0x103742(0x9c8)+this['vendorId']+_0x103742(0x9c8)+this['clusterId'],this[_0x103742(0xa4c)]=_0x103742(0x9c8)+this['vendorId']+_0x103742(0x9c8)+this[_0x103742(0x2e7)]['getId'](),this[_0x103742(0x9d7)]=(0x0,_0x47aff['onValue'])((0x0,_0x47aff[_0x103742(0x2ed)])(_0x5673af[_0x103742(0x92d)](),_0x103742(0x36f)),_0x365e06=>{const _0x2465a0=_0x103742;!0x0!==_0x365e06[_0x2465a0(0x4d9)]()?this[_0x2465a0(0x350)]&&_0x833509[_0x2465a0(0x998)](_0x2465a0(0x2fd),{'clusterId':this[_0x2465a0(0x762)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x2465a0(0x2e7)][_0x2465a0(0x5a0)]}):(this['connected']=!0x0,this[_0x2465a0(0x6b5)](),_0x833509[_0x2465a0(0x671)](_0x2465a0(0x907),{'clusterId':this[_0x2465a0(0x762)],'nodeId':this[_0x2465a0(0x2e7)]['getId'](),'nodeType':this[_0x2465a0(0x2e7)][_0x2465a0(0x5a0)]}));});}async[_0x332466(0x7d5)](){const _0x3ae469=_0x332466;await this[_0x3ae469(0x4ad)]();const _0x5b6b98=await this['getAncestors']();return this[_0x3ae469(0x202)]=(0x0,_0x47aff['onChildRemoved'])((0x0,_0x47aff[_0x3ae469(0x2ed)])(_0x5673af[_0x3ae469(0x92d)](),'clusters/'+this[_0x3ae469(0xae5)]+_0x3ae469(0x679)),_0x3757ff=>{const _0x50b17d=_0x3ae469,_0x4ab2a8=_0x3757ff['key'];if(!_0x4ab2a8)return;const _0x382231=_0x4ab2a8['replace'](_0x50b17d(0x9c8)+this['vendorId']+_0x50b17d(0x9c8),'');this[_0x50b17d(0x37e)][_0x50b17d(0x778)](_0x382231);}),_0x5b6b98;}async['close'](){const _0x1ac3d7=_0x332466;this[_0x1ac3d7(0x202)]?.(),delete this['childRemovedUnsubscriber'],this[_0x1ac3d7(0x284)]?.[_0x1ac3d7(0x8eb)](),delete this[_0x1ac3d7(0x284)],this[_0x1ac3d7(0x9d7)]?.(),delete this[_0x1ac3d7(0x9d7)],await(0x0,_0x47aff[_0x1ac3d7(0xa6d)])((0x0,_0x47aff[_0x1ac3d7(0x2ed)])(_0x5673af['getDatabase'](),_0x1ac3d7(0xad0)+this[_0x1ac3d7(0xae5)]+_0x1ac3d7(0x5af)+this[_0x1ac3d7(0xa4c)]));}[_0x332466(0x229)](_0x1669f9){const _0x4ff206=_0x332466;return this[_0x4ff206(0x37e)][_0x4ff206(0x3cf)](_0x1669f9);}async[_0x332466(0x1ac)](){const _0x534cd6=_0x332466,_0x500b14=[],_0x52f8c4=await(0x0,_0x47aff[_0x534cd6(0x4d1)])((0x0,_0x47aff[_0x534cd6(0x2ed)])(_0x5673af['getDatabase'](),_0x534cd6(0xad0)+this[_0x534cd6(0xae5)]+_0x534cd6(0x679))),_0x361fd9=[];return _0x52f8c4['forEach'](_0xf7bc7f=>{const _0x4ef8d6=_0x534cd6,_0xe0b45d=_0xf7bc7f['key']?.[_0x4ef8d6(0x706)](_0x4ef8d6(0x9c8)+this['vendorId']+_0x4ef8d6(0x9c8),'');_0x361fd9['push']({'id':_0xe0b45d,'joinedAt':_0xf7bc7f['val']()[_0x4ef8d6(0x1a9)],'priority':_0xf7bc7f[_0x4ef8d6(0x4d9)]()[_0x4ef8d6(0x56b)]});}),_0x361fd9[_0x534cd6(0xa4f)]((_0x5dbaec,_0x2f6624)=>_0x5dbaec['joinedAt']===_0x2f6624[_0x534cd6(0x1a9)]?_0x5dbaec[_0x534cd6(0x56b)]-_0x2f6624[_0x534cd6(0x56b)]:_0x5dbaec[_0x534cd6(0x1a9)]-_0x2f6624['joinedAt'])['splice'](_0x361fd9[_0x534cd6(0x4cd)](_0x5039c0=>_0x5039c0['id']===this[_0x534cd6(0x2e7)]['getId']())),_0x361fd9[_0x534cd6(0xa4f)]((_0x1a11f6,_0x210406)=>_0x210406['joinedAt']===_0x1a11f6[_0x534cd6(0x1a9)]?_0x210406[_0x534cd6(0x56b)]-_0x1a11f6[_0x534cd6(0x56b)]:_0x210406['joinedAt']-_0x1a11f6['joinedAt'])[_0x534cd6(0x602)](_0x353209=>{const _0x4a0b62=_0x534cd6;_0x500b14[_0x4a0b62(0x65d)]>=this[_0x4a0b62(0x70d)]||_0x500b14['push'](_0x353209['id']);}),_0x833509['logEvent'](_0x534cd6(0x28f),{'clusterId':this[_0x534cd6(0x762)],'nodeId':this[_0x534cd6(0x2e7)][_0x534cd6(0x9cc)](),'nodeType':this['localNode'][_0x534cd6(0x5a0)],'data':{'ancestorIds':_0x500b14,'allNodes':_0x361fd9}}),_0x500b14;}async['joinCluster'](){const _0xa20d89=_0x332466;await(0x0,_0x47aff[_0xa20d89(0x72f)])((0x0,_0x47aff[_0xa20d89(0x2ed)])(_0x5673af['getDatabase'](),_0xa20d89(0xad0)+this[_0xa20d89(0xae5)]+'/nodes/'+this[_0xa20d89(0xa4c)]),{'joinedAt':(0x0,_0x47aff[_0xa20d89(0x726)])(),'priority':Math['random']()});}[_0x332466(0x6b5)](){const _0x1555a5=_0x332466;this[_0x1555a5(0x284)]&&this[_0x1555a5(0x284)][_0x1555a5(0x8eb)](),this['onDisconnectHandler']=(0x0,_0x47aff[_0x1555a5(0x272)])((0x0,_0x47aff[_0x1555a5(0x2ed)])(_0x5673af[_0x1555a5(0x92d)](),'clusters/'+this['clusterKey']+_0x1555a5(0x5af)+this[_0x1555a5(0xa4c)])),this[_0x1555a5(0x284)][_0x1555a5(0xa6d)]();}}class _0x11f7d5{['configs'];[_0x332466(0x9ab)];[_0x332466(0x667)];[_0x332466(0x42c)];[_0x332466(0x954)];[_0x332466(0x4eb)]=[];[_0x332466(0x380)];[_0x332466(0x8ac)]=new Map();[_0x332466(0x1ad)];[_0x332466(0x5f5)];[_0x332466(0xaab)];[_0x332466(0x1b6)];[_0x332466(0x1aa)];[_0x332466(0x7ee)];constructor(_0x55c464,_0x444172){const _0x33c5b6=_0x332466;this[_0x33c5b6(0xaa5)]=_0x55c464,this[_0x33c5b6(0x9ab)]=_0x444172,this[_0x33c5b6(0xaab)]=new Promise((_0x16c607,_0x5d0132)=>{const _0x21b186=_0x33c5b6;this[_0x21b186(0x1b6)]=_0x16c607,this[_0x21b186(0x1aa)]=_0x5d0132;}),this[_0x33c5b6(0x42c)]=new _0x5008d7(this['configs']['vendorId'],this[_0x33c5b6(0xaa5)][_0x33c5b6(0x762)],this[_0x33c5b6(0xaa5)]['localNode'],this[_0x33c5b6(0x9ab)]['getMinConnections']()),this[_0x33c5b6(0x954)]=this[_0x33c5b6(0x42c)]['onNodeDisconnect'](this[_0x33c5b6(0x447)][_0x33c5b6(0x531)](this)),this[_0x33c5b6(0xaa5)][_0x33c5b6(0x7c9)][_0x33c5b6(0xa95)](this[_0x33c5b6(0xaa5)][_0x33c5b6(0x2e7)]),this['configs'][_0x33c5b6(0x7c9)][_0x33c5b6(0xa95)](this),this[_0x33c5b6(0x667)]=_0x1327a2[_0x33c5b6(0x728)](()=>{const _0x309926=_0x33c5b6,_0x1487ef=Date[_0x309926(0x3f4)]();this[_0x309926(0x9ab)]['getRemoteNodes']()[_0x309926(0x602)](_0x35c668=>{const _0x3ffa90=_0x309926;_0x35c668[_0x3ffa90(0x228)]()===_0x1b1690[_0x3ffa90(0x6de)]&&_0x35c668[_0x3ffa90(0x779)]()<_0x1487ef-0x493e0&&this[_0x3ffa90(0x9ab)][_0x3ffa90(0x29e)](_0x35c668[_0x3ffa90(0x9cc)]());});},0xea60);}async[_0x332466(0x5b5)](){return this['_isReady'];}async[_0x332466(0x4bb)](_0xd569a0){return new Promise((_0x336641,_0x392365)=>{const _0x2a0fcd=a0_0x5279;let _0x335047;const _0x2a0ce4=setTimeout(()=>{const _0x2e08b1=a0_0x5279;_0x335047?.(),_0x392365(new Error(_0x2e08b1(0xa9f)+_0xd569a0+'\x27\x20is\x20not\x20ready'));},0x2710);if(this[_0x2a0fcd(0x9ab)]['hasRemoteNode'](_0xd569a0))return clearTimeout(_0x2a0ce4),void _0x336641(!0x0);_0x335047=this[_0x2a0fcd(0x9ab)][_0x2a0fcd(0x697)](()=>{const _0x4312aa=_0x2a0fcd;this[_0x4312aa(0x9ab)]['hasRemoteNode'](_0xd569a0)&&(clearTimeout(_0x2a0ce4),_0x336641(!0x0),_0x335047?.());});});}[_0x332466(0x4bd)](_0x651eef){this['systemTopic']=_0x651eef;}[_0x332466(0x3bf)](){const _0x1a1008=_0x332466;delete this[_0x1a1008(0x380)];}[_0x332466(0x1db)](){const _0x346d58=_0x332466;this['debounceProcessRank']&&(clearTimeout(this[_0x346d58(0x1ad)]),delete this['debounceProcessRank']),delete this[_0x346d58(0x5f5)],this[_0x346d58(0xaa5)]['localNode']['close'](),this[_0x346d58(0x667)](),this[_0x346d58(0x954)](),this['configs'][_0x346d58(0x7c9)][_0x346d58(0xa29)](this['configs'][_0x346d58(0x2e7)]),this[_0x346d58(0xaa5)]['mediator'][_0x346d58(0xa29)](this),this[_0x346d58(0x42c)][_0x346d58(0x1db)]();}[_0x332466(0x857)](){return this['ancestors'];}[_0x332466(0x390)](){const _0x362b4f=_0x332466;return this['configs'][_0x362b4f(0x2e7)][_0x362b4f(0x9cc)]();}[_0x332466(0x6fc)](){const _0xb7df72=_0x332466;return this[_0xb7df72(0xaa5)]['localNode'];}[_0x332466(0x860)](_0x39d37b){const _0x36bfb9=_0x332466,_0x2b6e76=Array[_0x36bfb9(0x639)](this['graphService']['getRemoteNodes']()[_0x36bfb9(0x6af)]())[_0x36bfb9(0x962)](_0x4a176b=>_0x4a176b[_0x36bfb9(0x228)]()===_0x1b1690[_0x36bfb9(0xade)]);return _0x39d37b?_0x2b6e76[_0x36bfb9(0x962)](_0x39d37b):_0x2b6e76;}async['discover'](){const _0x15ac39=_0x332466;return this[_0x15ac39(0x4eb)]=await this[_0x15ac39(0x42c)][_0x15ac39(0x7d5)](),this['ancestors'][_0x15ac39(0x65d)]<this[_0x15ac39(0x9ab)]['getMinConnections']()&&(this[_0x15ac39(0xaa5)][_0x15ac39(0x2e7)][_0x15ac39(0x9f8)](this['ancestors'][_0x15ac39(0x65d)]+0x1),this[_0x15ac39(0x295)]()),this[_0x15ac39(0x4eb)];}[_0x332466(0x291)](_0x1ce3d6,_0x46d3c4){const _0x170bbf=_0x332466,_0x3e192f=this[_0x170bbf(0xaa5)][_0x170bbf(0x2e7)]['getRemoteConnections'](),_0x3dacff=new Set(_0x3e192f),_0x3b52bd=Array[_0x170bbf(0x639)](_0x3e192f)[_0x170bbf(0x962)](_0x2c8085=>_0x2c8085!==_0x1ce3d6)['map'](_0x4733bf=>({'id':_0x4733bf,'distance':0x1}));for(;_0x3b52bd[_0x170bbf(0x65d)]>0x0;){const _0x2da1bf=_0x3b52bd[_0x170bbf(0x557)]();if(!_0x2da1bf)continue;if(_0x2da1bf['id']===_0x46d3c4)return _0x2da1bf[_0x170bbf(0x8f4)];const _0x3cf5e7=this[_0x170bbf(0x9ab)][_0x170bbf(0x53a)](_0x2da1bf['id']);_0x3cf5e7&&_0x3cf5e7[_0x170bbf(0x228)]()!==_0x1b1690[_0x170bbf(0x6de)]&&_0x3cf5e7[_0x170bbf(0x6f7)]()[_0x170bbf(0x602)](_0x2adf55=>{const _0x2c3b86=_0x170bbf;_0x3dacff[_0x2c3b86(0x71d)](_0x2adf55)||(_0x3dacff[_0x2c3b86(0x7c5)](_0x2adf55),_0x3b52bd[_0x2c3b86(0x995)]({'id':_0x2adf55,'distance':_0x2da1bf[_0x2c3b86(0x8f4)]+0x1}));});}return-0x1;}[_0x332466(0x524)](_0x375ada){const _0xae4ed9=_0x332466;try{switch(_0x375ada[_0xae4ed9(0x4cb)][_0xae4ed9(0x5a0)]){case _0x4aea6e[_0xae4ed9(0xa84)]:case _0x4aea6e['NodeConnectionsUpdate']:this['handleNodeUpdate'](_0x375ada['content']),_0x833509['log'](_0xebc42c[_0xae4ed9(0x7ae)],_0xae4ed9(0xa22),'\x27'+this[_0xae4ed9(0xaa5)]['localNode'][_0xae4ed9(0x9cc)]()+',\x20'+_0x375ada[_0xae4ed9(0x41f)]+'\x27',_0x375ada,_0x375ada['content']);break;case _0x4aea6e['NodeLeave']:this['removeNode'](_0x375ada['content']['id']),_0x833509['log'](_0xebc42c[_0xae4ed9(0x7ae)],_0xae4ed9(0x896),'\x27'+this['configs'][_0xae4ed9(0x2e7)][_0xae4ed9(0x9cc)]()+',\x20'+_0x375ada[_0xae4ed9(0x41f)]+'\x27',_0x375ada,_0x375ada[_0xae4ed9(0x4cb)]);}}catch(_0x30d080){if(_0x30d080 instanceof _0x24755f)return void _0x833509['log'](_0xebc42c[_0xae4ed9(0x7ae)],_0x30d080[_0xae4ed9(0x1e2)]);throw _0x30d080;}}['handlePeerConnectionSystemEvents'](_0x5cbf23){const _0x588d1a=_0x332466;switch(_0x5cbf23[_0x588d1a(0x4cb)][_0x588d1a(0x5a0)]){case _0x435a1f[_0x588d1a(0xa34)]:this[_0x588d1a(0x27c)](_0x5cbf23[_0x588d1a(0x41f)]),_0x833509['log'](_0xebc42c['Node'],_0x588d1a(0x39d),'\x27'+this[_0x588d1a(0xaa5)][_0x588d1a(0x2e7)][_0x588d1a(0x9cc)]()+',\x20'+_0x5cbf23[_0x588d1a(0x41f)]+'\x27',_0x5cbf23,_0x5cbf23[_0x588d1a(0x4cb)]);break;case _0x435a1f['Disconnect']:this[_0x588d1a(0x515)](_0x5cbf23[_0x588d1a(0x41f)]),_0x833509[_0x588d1a(0x5d5)](_0xebc42c[_0x588d1a(0x7ae)],_0x588d1a(0x3b7),this[_0x588d1a(0xaa5)]['localNode']['getId'](),_0x5cbf23,_0x5cbf23['content']);}}[_0x332466(0x720)](_0x3b0018){const _0x2c728c=_0x332466;this[_0x2c728c(0x9f9)](_0x3b0018),this[_0x2c728c(0x702)](_0x3b0018);}[_0x332466(0x702)](_0x12686a){const _0x5ab8cb=_0x332466;this['configs'][_0x5ab8cb(0x2e7)]['answerJoin'](_0x12686a['id']),this[_0x5ab8cb(0xa21)](_0x12686a['id']),this[_0x5ab8cb(0x76a)](_0x12686a);}['handleNodeUpdate'](_0x5f31a2){const _0x44b34a=_0x332466,{id:_0x204511,metaData:_0x2b0438,rank:_0x10d5fc,remoteConnections:_0x2a8d99,version:_0x112f84}=_0x5f31a2,_0xa3ddb8=this['graphService'][_0x44b34a(0x53a)](_0x204511);if(_0xa3ddb8){if(!(_0x112f84<=_0xa3ddb8[_0x44b34a(0x4e6)]())){if(_0xa3ddb8[_0x44b34a(0x9ba)](_0x2a8d99),_0xa3ddb8[_0x44b34a(0x2e9)](_0x112f84),_0xa3ddb8['type']===_0x57c18a[_0x44b34a(0x780)][_0x44b34a(0x584)]&&_0x2b0438['type']===_0x57c18a[_0x44b34a(0x780)][_0x44b34a(0x584)]&&(_0xa3ddb8[_0x44b34a(0x391)](_0x2b0438[_0x44b34a(0x1cf)]),_0xa3ddb8[_0x44b34a(0x924)](_0x2b0438['email'])),_0x10d5fc&&_0xa3ddb8['setRank'](_0x10d5fc),this[_0x44b34a(0x89d)](_0x204511,_0x10d5fc),_0xa3ddb8[_0x44b34a(0x228)]()===_0x1b1690['Offline'])return _0xa3ddb8[_0x44b34a(0x6a8)](_0x1b1690[_0x44b34a(0xade)]),this[_0x44b34a(0x295)](),void this[_0x44b34a(0x702)](_0x5f31a2);this[_0x44b34a(0x295)](),this[_0x44b34a(0x6e1)]({'id':_0x204511,'metaData':_0x2b0438,'remoteConnections':_0x2a8d99,'version':_0x112f84});}}else this[_0x44b34a(0x720)](_0x5f31a2);}[_0x332466(0x89d)](_0x28af33,_0x10941a){const _0x1db941=_0x332466;_0x10941a&&this[_0x1db941(0x4eb)][_0x1db941(0x988)](_0x28af33)&&this['configs'][_0x1db941(0x2e7)][_0x1db941(0x9f8)](_0x10941a+this[_0x1db941(0x4eb)][_0x1db941(0x82d)](_0x28af33)+0x1);}['handleConnectionSuccess'](_0xbe8a7b){const _0x49d525=_0x332466;this[_0x49d525(0xaa5)][_0x49d525(0x2e7)][_0x49d525(0x181)](_0xbe8a7b);}[_0x332466(0x9f9)]({id:_0x1f0fd0,metaData:_0x5a2329,rank:_0x1a30c7,remoteConnections:_0x2439ad,version:_0x4aae8e}){const _0x4ff56e=_0x332466;if(this[_0x4ff56e(0x9ab)][_0x4ff56e(0x5a5)](_0x1f0fd0))throw new _0x24755f('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x1f0fd0);switch(_0x5a2329['type']){case _0x57c18a['NodeType']['User']:const {displayName:_0x5eb894,email:_0x23856a}=_0x5a2329;this[_0x4ff56e(0x9ab)][_0x4ff56e(0xa09)](_0x1f0fd0,new _0x560ce7(_0x1f0fd0,_0x5eb894,_0x23856a,new Set(_0x2439ad),_0x4aae8e,_0x1a30c7));break;case _0x57c18a[_0x4ff56e(0x780)]['Agent']:this[_0x4ff56e(0x9ab)]['setRemoteNode'](_0x1f0fd0,new _0xca8a3c(_0x1f0fd0,new Set(_0x2439ad),_0x4aae8e,_0x1a30c7));}const _0x5698ef=this[_0x4ff56e(0x860)](),_0x1742f6=new Set(this[_0x4ff56e(0x4eb)]);_0x5698ef['forEach'](_0x411890=>{const _0x3c45e6=_0x4ff56e;_0x1742f6['has'](_0x411890[_0x3c45e6(0x9cc)]())&&_0x1742f6[_0x3c45e6(0x6ea)](_0x411890[_0x3c45e6(0x9cc)]());}),0x0===_0x1742f6[_0x4ff56e(0x393)]&&this[_0x4ff56e(0x1b6)]&&(this[_0x4ff56e(0x7ee)]&&clearTimeout(this[_0x4ff56e(0x7ee)]),this[_0x4ff56e(0x7ee)]=setTimeout(()=>{const _0x595d8d=_0x4ff56e;this[_0x595d8d(0x1b6)]?.(!0x0),delete this[_0x595d8d(0x1b6)],delete this[_0x595d8d(0x1aa)];},0x7d0)),this[_0x4ff56e(0x89d)](_0x1f0fd0,_0x1a30c7),this[_0x4ff56e(0x295)]();}['publishNodeJoin'](_0x447f11){const _0x33b65f=_0x332466;this['systemTopic'][_0x33b65f(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x33b65f(0x7ae)],'content':{'type':_0x4aea6e['NodeJoin'],'id':_0x447f11}});}[_0x332466(0x515)](_0x24a64){const _0x19c734=_0x332466;this[_0x19c734(0x380)]?.['publish']({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x19c734(0x7ae)],'content':{'type':_0x4aea6e[_0x19c734(0x1b3)],'id':_0x24a64}});}[_0x332466(0x447)](_0xbc47f3){const _0x46f85a=_0x332466;if(_0xbc47f3===this['configs']['localNode'][_0x46f85a(0x9cc)]())return this[_0x46f85a(0xaa5)][_0x46f85a(0x7c9)]['notifyCluster'](_0x46f85a(0x9d6),{'id':_0xbc47f3}),this['configs'][_0x46f85a(0x7c9)][_0x46f85a(0x1db)]({'force':!0x0},!0x0),this[_0x46f85a(0xaa5)]['mediator'][_0x46f85a(0x59f)](),void this['configs'][_0x46f85a(0x7c9)][_0x46f85a(0x2b2)]();this[_0x46f85a(0x515)](_0xbc47f3);}['removeNode'](_0x483cb5){const _0x9ccf99=_0x332466;this[_0x9ccf99(0x4eb)][_0x9ccf99(0x988)](_0x483cb5)?this[_0x9ccf99(0x321)](_0x483cb5):this[_0x9ccf99(0xaa5)][_0x9ccf99(0x2e7)][_0x9ccf99(0x6f7)]()[_0x9ccf99(0x71d)](_0x483cb5)&&this[_0x9ccf99(0x2aa)](_0x483cb5),this[_0x9ccf99(0xaa5)][_0x9ccf99(0x2e7)]['removeRemoteConnection'](_0x483cb5);const _0x198507=Array[_0x9ccf99(0x639)](this['optimizationLayers']['entries']())[_0x9ccf99(0x405)](([,_0x48e837])=>_0x48e837==_0x48e837);_0x198507&&this[_0x9ccf99(0x8ac)][_0x9ccf99(0x6ea)](_0x198507[0x0]);const _0x2e82a1=this[_0x9ccf99(0x9ab)]['getRemoteNode'](_0x483cb5);if(!_0x2e82a1)return;const _0x115106=_0x2e82a1[_0x9ccf99(0x60c)](),_0x15e9e4=this[_0x9ccf99(0xaa5)][_0x9ccf99(0x2e7)][_0x9ccf99(0x60c)]();_0x15e9e4&&_0x115106&&_0x115106<_0x15e9e4&&this['configs'][_0x9ccf99(0x2e7)][_0x9ccf99(0x9f8)](_0x15e9e4-0x1,!0x1),Array[_0x9ccf99(0x639)](this[_0x9ccf99(0x9ab)]['getRemoteNodes']()['values']())[_0x9ccf99(0x602)](_0x392629=>{const _0x4d2334=_0x9ccf99,_0x3695b5=_0x392629[_0x4d2334(0x60c)]();_0x3695b5&&_0x115106&&_0x115106<_0x3695b5&&_0x392629[_0x4d2334(0x9f8)](_0x3695b5-0x1);}),_0x2e82a1['setStatus'](_0x1b1690['Offline']),this[_0x9ccf99(0xaa5)][_0x9ccf99(0x7c9)][_0x9ccf99(0x65e)](_0x2e82a1[_0x9ccf99(0x5a0)]+_0x9ccf99(0x436),{'id':_0x483cb5});}[_0x332466(0x76a)]({id:_0x251729,metaData:_0x4ae776,remoteConnections:_0x1cf51f}){const _0x3bda89=_0x332466;switch(_0x4ae776[_0x3bda89(0x5a0)]){case _0x57c18a['NodeType'][_0x3bda89(0x584)]:this[_0x3bda89(0xaa5)][_0x3bda89(0x7c9)][_0x3bda89(0x65e)]('user-join',{'id':_0x251729,'metaData':_0x4ae776,'remoteConnections':_0x1cf51f});break;case _0x57c18a[_0x3bda89(0x780)][_0x3bda89(0x6cd)]:this[_0x3bda89(0xaa5)][_0x3bda89(0x7c9)][_0x3bda89(0x65e)](_0x3bda89(0xa07),{'id':_0x251729,'metaData':_0x4ae776,'remoteConnections':_0x1cf51f});}}['notifyClusterNodeUpdate']({id:_0x34099f,metaData:_0x10a2b5,remoteConnections:_0xb7fd8}){const _0x30592a=_0x332466;switch(_0x10a2b5['type']){case _0x57c18a[_0x30592a(0x780)][_0x30592a(0x584)]:this[_0x30592a(0xaa5)]['mediator'][_0x30592a(0x65e)](_0x30592a(0xa71),{'id':_0x34099f,'metaData':_0x10a2b5,'remoteConnections':_0xb7fd8});break;case _0x57c18a[_0x30592a(0x780)][_0x30592a(0x6cd)]:this[_0x30592a(0xaa5)][_0x30592a(0x7c9)][_0x30592a(0x65e)](_0x30592a(0x8f0),{'id':_0x34099f,'metaData':_0x10a2b5,'remoteConnections':_0xb7fd8});}}[_0x332466(0x295)](){const _0x28bb94=_0x332466;if(this[_0x28bb94(0x5f5)]||(this[_0x28bb94(0x5f5)]=Date[_0x28bb94(0x3f4)]()),this[_0x28bb94(0x1ad)]){if(Date[_0x28bb94(0x3f4)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this[_0x28bb94(0x1ad)]);}this[_0x28bb94(0x1ad)]=setTimeout(async()=>{const _0x55a767=_0x28bb94;delete this[_0x55a767(0x5f5)],delete this[_0x55a767(0x1ad)];const _0x50eff0=this[_0x55a767(0xaa5)][_0x55a767(0x2e7)][_0x55a767(0x60c)]();if(!_0x50eff0)return;const _0x2d331b=this[_0x55a767(0x9ab)]['getCurrentMaxLayer'](this[_0x55a767(0x9ab)][_0x55a767(0x860)]()[_0x55a767(0x393)]);if(this[_0x55a767(0x8ac)][_0x55a767(0x393)]>=_0x2d331b)return;let _0x599850=0x1;for(;this['configs'][_0x55a767(0x7c9)][_0x55a767(0x2a3)]()[_0x55a767(0x65d)]<this[_0x55a767(0x9ab)][_0x55a767(0x23a)]()&&_0x599850<=_0x2d331b;){if(this['optimizationLayers'][_0x55a767(0x71d)](_0x599850)){_0x599850+=0x1;continue;}const _0x58b085=this[_0x55a767(0x9ab)][_0x55a767(0x37d)](_0x50eff0,_0x599850),_0xb8f18e=Array['from'](this[_0x55a767(0x9ab)]['getRemoteNodes']()[_0x55a767(0x6af)]())['find'](_0x3fa56b=>_0x3fa56b[_0x55a767(0x60c)]()===_0x58b085&&_0x3fa56b[_0x55a767(0x228)]()===_0x1b1690[_0x55a767(0xade)]);if(_0xb8f18e){try{await this[_0x55a767(0xaa5)]['mediator'][_0x55a767(0x491)](_0xb8f18e[_0x55a767(0x9cc)](),_0x288dad[_0x55a767(0x5ac)]),this['optimizationLayers'][_0x55a767(0x72f)](_0x599850,_0xb8f18e[_0x55a767(0x9cc)]());}catch(_0x4dc6c8){if(!(_0x4dc6c8 instanceof _0x1ba31e&&_0x4dc6c8[_0x55a767(0xaae)]===_0x1ba31e[_0x55a767(0x631)][_0x55a767(0x4f7)]))throw _0x4dc6c8;_0x833509[_0x55a767(0x5d5)](_0xebc42c[_0x55a767(0x7ae)],this['configs']['localNode'][_0x55a767(0x9cc)](),_0xb8f18e[_0x55a767(0x9cc)](),_0x4dc6c8[_0x55a767(0x1e2)]);}_0x599850+=0x1;}else _0x599850+=0x1;}},0x3e8);}async[_0x332466(0x321)](_0x5b0028){const _0x2bf559=_0x332466;this[_0x2bf559(0x4eb)][_0x2bf559(0x99e)](this[_0x2bf559(0x4eb)][_0x2bf559(0x82d)](_0x5b0028),0x1);const _0x29d7a2=await this[_0x2bf559(0x42c)][_0x2bf559(0x1ac)]();for(const _0x722cf3 of _0x29d7a2)if(!this[_0x2bf559(0x4eb)]['includes'](_0x722cf3)){const _0x203cdc=Array[_0x2bf559(0x639)](this['optimizationLayers'][_0x2bf559(0xa14)]())[_0x2bf559(0x405)](([,_0x5e33c3])=>_0x5e33c3===_0x722cf3);_0x203cdc&&this[_0x2bf559(0x8ac)][_0x2bf559(0x6ea)](_0x203cdc[0x0]),this[_0x2bf559(0xaa5)]['mediator']['createConnection'](_0x722cf3,_0x288dad[_0x2bf559(0x347)]);}0x0===_0x29d7a2['length']&&this['configs']['localNode']['setRank'](0x1),this[_0x2bf559(0x4eb)]=_0x29d7a2;}async['manageOptimization'](_0x56c840){const _0x4b4da9=_0x332466,_0x463685=this[_0x4b4da9(0xaa5)][_0x4b4da9(0x2e7)][_0x4b4da9(0x60c)]();if(!_0x463685)return;const _0x99414f=this[_0x4b4da9(0x9ab)][_0x4b4da9(0x53a)](_0x56c840);if(!_0x99414f||_0x99414f[_0x4b4da9(0x228)]()===_0x1b1690[_0x4b4da9(0x6de)])return;const _0x58c32a=_0x99414f['getRank']();if(!_0x58c32a||_0x58c32a<_0x463685)return;const _0x17def8=this[_0x4b4da9(0x3b1)](this[_0x4b4da9(0xaa5)][_0x4b4da9(0x2e7)][_0x4b4da9(0x6f7)](),_0x463685),_0x642122=this[_0x4b4da9(0x3b1)](_0x99414f[_0x4b4da9(0x6f7)](),_0x58c32a)[_0x17def8[_0x4b4da9(0x4cd)](([_0x395963])=>_0x395963===_0x56c840)];if(!_0x642122||this[_0x4b4da9(0xaa5)][_0x4b4da9(0x2e7)][_0x4b4da9(0x6f7)]()[_0x4b4da9(0x71d)](_0x642122[0x0]))return;const _0x1e7d43=this['graphService'][_0x4b4da9(0x53a)](_0x642122[0x0]);if(_0x1e7d43&&_0x1e7d43[_0x4b4da9(0x228)]()!==_0x1b1690['Offline'])try{await this['configs'][_0x4b4da9(0x7c9)]['createConnection'](_0x642122[0x0],_0x288dad[_0x4b4da9(0x5ac)]);const _0x223c62=Array[_0x4b4da9(0x639)](this[_0x4b4da9(0x8ac)][_0x4b4da9(0xa14)]())[_0x4b4da9(0x405)](([,_0x226918])=>_0x226918===_0x56c840);_0x223c62&&this[_0x4b4da9(0x8ac)][_0x4b4da9(0x72f)](_0x223c62[0x0],_0x642122[0x0]);}catch(_0x2a500d){if(!(_0x2a500d instanceof _0x1ba31e&&_0x2a500d['code']===_0x1ba31e['codes'][_0x4b4da9(0x4f7)]))throw _0x2a500d;_0x833509[_0x4b4da9(0x5d5)](_0xebc42c['Node'],this[_0x4b4da9(0xaa5)][_0x4b4da9(0x2e7)]['getId'](),_0x642122[0x0],_0x2a500d['message']);}}[_0x332466(0x3b1)](_0x195ee2,_0x134a1b){const _0x1431c0=_0x332466;return Array[_0x1431c0(0x639)](_0x195ee2)[_0x1431c0(0x3c9)]((_0x59972c,_0x18f56c)=>{const _0x57ed37=_0x1431c0,_0xc2ef1a=this[_0x57ed37(0x9ab)]['getRemoteNode'](_0x18f56c);if(!_0xc2ef1a||_0xc2ef1a[_0x57ed37(0x228)]()===_0x1b1690['Offline'])return _0x59972c;const _0x375fc6=_0xc2ef1a[_0x57ed37(0x60c)]();if(!_0x375fc6)return _0x59972c;const _0x1c6933=_0x375fc6-_0x134a1b;return _0x1c6933<=this[_0x57ed37(0x9ab)][_0x57ed37(0x544)]()||_0x59972c[_0x57ed37(0x995)]([_0x18f56c,_0x1c6933]),_0x59972c;},[])[_0x1431c0(0xa4f)](([,_0x4e8c25],[,_0x2f0af8])=>_0x4e8c25-_0x2f0af8);}}const _0x39174e=[{'problemType':_0x590c8d['CPUCycle'],'remediations':[{'type':_0x46a94b['Remediation'],'component':_0x3f44fb[_0x332466(0x805)],'action':_0x25049e[_0x332466(0x3a3)]},{'type':_0x46a94b[_0x332466(0x8de)],'component':_0x3f44fb['Resolution'],'action':_0x25049e['Downgrade']}]},{'problemType':_0x590c8d[_0x332466(0x203)],'remediations':[{'type':_0x46a94b[_0x332466(0x47a)],'component':_0x3f44fb[_0x332466(0x805)],'action':_0x25049e['Downgrade']}]},{'problemType':_0x590c8d['AudioVideoDelay'],'remediations':[{'type':_0x46a94b['Remediation'],'component':_0x3f44fb[_0x332466(0x805)],'action':_0x25049e[_0x332466(0x3a3)]}]},{'problemType':_0x590c8d[_0x332466(0x392)],'remediations':[{'type':_0x46a94b[_0x332466(0x47a)],'component':_0x3f44fb['Resolution'],'action':_0x25049e['Downgrade']}]},{'problemType':_0x590c8d[_0x332466(0x7bb)],'remediations':[{'type':_0x46a94b[_0x332466(0x47a)],'component':_0x3f44fb[_0x332466(0x7bb)],'action':_0x25049e[_0x332466(0x3a3)]}]},{'problemType':_0x590c8d['Jitter'],'remediations':[{'type':_0x46a94b['Remediation'],'component':_0x3f44fb[_0x332466(0x7bb)],'action':_0x25049e[_0x332466(0x3a3)]}]},{'problemType':_0x590c8d['RoundTripTime'],'remediations':[{'type':_0x46a94b['Remediation'],'component':_0x3f44fb[_0x332466(0x7bb)],'action':_0x25049e[_0x332466(0x3a3)]}]}];class _0x3e92a5{[_0x332466(0xaa5)];[_0x332466(0x380)];[_0x332466(0x1c4)]=new Map();constructor(_0x4cbe52){const _0x13e7c0=_0x332466;this['configs']=_0x4cbe52,this['configs'][_0x13e7c0(0x7c9)][_0x13e7c0(0xa95)](this);}[_0x332466(0x1db)](){const _0x1343c2=_0x332466;this[_0x1343c2(0xaa5)][_0x1343c2(0x7c9)][_0x1343c2(0xa29)](this);}[_0x332466(0x4bd)](_0x46eeeb){const _0x191c08=_0x332466;this[_0x191c08(0x380)]=_0x46eeeb;}[_0x332466(0x3bf)](){const _0x433718=_0x332466;delete this[_0x433718(0x380)];}[_0x332466(0x8fd)](_0xd2d5f5){const _0x130a04=_0x332466;_0xd2d5f5[_0x130a04(0x4cb)][_0x130a04(0x5a0)]===_0xee3eaa[_0x130a04(0x9b8)]&&this[_0x130a04(0x70e)](_0xd2d5f5[_0x130a04(0x4cb)][_0x130a04(0x510)]);}[_0x332466(0x463)](_0x525083){const _0x4898a9=_0x332466;_0x525083[_0x4898a9(0x4cb)]['type']===_0x46a94b[_0x4898a9(0x8de)]&&this[_0x4898a9(0x63b)](_0x525083[_0x4898a9(0x41f)],{'type':_0x46a94b[_0x4898a9(0x47a)],'component':_0x525083[_0x4898a9(0x4cb)][_0x4898a9(0x510)][_0x4898a9(0x26d)],'action':_0x525083[_0x4898a9(0x4cb)]['data'][_0x4898a9(0x605)]});}[_0x332466(0x70e)](_0x3bb17a){const _0x74a435=_0x332466,_0x3b9254=_0x39174e[_0x74a435(0x405)](_0x35b475=>_0x35b475[_0x74a435(0x57b)]===_0x3bb17a[_0x74a435(0x5a0)]);_0x3b9254[_0x74a435(0x6c9)]?.[_0x74a435(0x602)](_0x539984=>{const _0x1b6e95=_0x74a435;this[_0x1b6e95(0x63b)](_0x3bb17a[_0x1b6e95(0x6e6)],{'type':_0x3bb17a[_0x1b6e95(0xa89)]===_0x1adf00[_0x1b6e95(0x472)]?_0x46a94b[_0x1b6e95(0x47a)]:_0x46a94b[_0x1b6e95(0x8de)],'component':_0x539984[_0x1b6e95(0x26d)],'action':_0x539984[_0x1b6e95(0x605)]});});}['applyRemediation'](_0x52626d,_0xe833da){const _0x40da30=_0x332466;if(_0xe833da[_0x40da30(0x5a0)]===_0x46a94b['Remediation']){const _0x26a391=Date[_0x40da30(0x3f4)](),_0x2637d3=this['lastRemediations'][_0x40da30(0x4d1)](_0x52626d);if(_0x2637d3&&_0x26a391-_0x2637d3<0x1388)return;this[_0x40da30(0x1c4)][_0x40da30(0x72f)](_0x52626d,_0x26a391);}_0x833509[_0x40da30(0x5d5)](_0xebc42c['Remediation'],'Apply\x20remediation',_0xe833da),_0x833509['logEvent']('remediation',{'clusterId':this[_0x40da30(0xaa5)][_0x40da30(0x762)],'nodeId':this[_0x40da30(0xaa5)][_0x40da30(0x2e7)]['getId'](),'nodeType':this[_0x40da30(0xaa5)][_0x40da30(0x2e7)][_0x40da30(0x5a0)],'remoteId':_0x52626d,'data':{'type':_0xe833da[_0x40da30(0x5a0)],'component':_0xe833da['component'],'action':_0xe833da[_0x40da30(0x605)]}});let _0xbd46f3,_0x54a2ad=_0x2fb5ff;_0xe833da[_0x40da30(0x5a0)]===_0x46a94b[_0x40da30(0x8de)]&&(_0x54a2ad=this[_0x40da30(0xaa5)][_0x40da30(0x2e7)][_0x40da30(0x9cc)](),_0xbd46f3=[_0x52626d]),this[_0x40da30(0x380)][_0x40da30(0x778)]({'sourceId':_0x54a2ad,'destinationIds':_0xbd46f3,'messageType':_0x2e0616[_0x40da30(0x47a)],'content':{'type':_0xe833da[_0x40da30(0x5a0)],'targetId':_0x52626d,'data':_0xe833da}});}}const _0x48f4fb=0x3e8,_0x2a87f8=0x7530,_0x358df2=_0x332466(0x9dd),_0x49cdc7=_0x332466(0x479),_0x2d1150=_0x332466(0x904),_0x5ed85a=[_0x358df2,_0x49cdc7],_0x35e307=[_0x2d1150];class _0x5b7672{[_0x332466(0x795)]=0x0;[_0x332466(0x499)]=0x0;[_0x332466(0x4f2)]=0x0;[_0x332466(0x7e2)]=0x0;[_0x332466(0x8f6)]=0x0;[_0x332466(0xa85)]=0x0;[_0x332466(0x7ea)]=0x0;[_0x332466(0x507)]=0x0;[_0x332466(0xa0e)]=0x0;get[_0x332466(0x47e)](){const _0x125d50=_0x332466;return this[_0x125d50(0xa85)]>0x0&&this[_0x125d50(0x7ea)]>0x0&&Date[_0x125d50(0x3f4)]()-this[_0x125d50(0xa85)]<_0x2a87f8?(this[_0x125d50(0x507)]-this[_0x125d50(0xa0e)])/(this[_0x125d50(0xa85)]-this[_0x125d50(0x7ea)])*0x8*0x3e8:0x0;}[_0x332466(0x38b)](_0x12ec07){const _0x10d84e=_0x332466;switch(_0x12ec07['type']){case _0x2d1150:this['processInboundReport'](_0x12ec07);break;case _0x358df2:this[_0x10d84e(0x991)](_0x12ec07);break;case _0x49cdc7:this['processRemoteInboundReport'](_0x12ec07);}}[_0x332466(0x5c6)](){const _0x12b120=_0x332466;return{'bitrate':this[_0x12b120(0x47e)],'packetsLostPerc':this[_0x12b120(0x412)](),'roundTripTime':this[_0x12b120(0x795)],'jitter':this[_0x12b120(0x4f2)]};}['processInboundReport'](_0x463073){const _0x2af75b=_0x332466;this[_0x2af75b(0x7cd)](_0x463073['bytesReceived']),this['setTimestamp'](_0x463073[_0x2af75b(0x2ee)]),this[_0x2af75b(0x8f6)]=_0x463073[_0x2af75b(0x58c)],this[_0x2af75b(0x7e2)]=_0x463073[_0x2af75b(0x7e2)],void 0x0!==_0x463073[_0x2af75b(0x4f2)]?this[_0x2af75b(0x4f2)]=_0x463073[_0x2af75b(0x4f2)]:this[_0x2af75b(0x4f2)]=0x0,void 0x0!==_0x463073[_0x2af75b(0x499)]?this[_0x2af75b(0x499)]=_0x463073[_0x2af75b(0x499)]:this[_0x2af75b(0x499)]=0x0;}[_0x332466(0x991)](_0x379a6a){const _0x1db94a=_0x332466;this[_0x1db94a(0x7cd)](_0x379a6a[_0x1db94a(0x572)]),this[_0x1db94a(0x3aa)](_0x379a6a[_0x1db94a(0x2ee)]),this['packets']=_0x379a6a[_0x1db94a(0xa56)];}['processRemoteInboundReport'](_0x926a0d){const _0x11a84a=_0x332466;this[_0x11a84a(0x795)]=0x3e8*_0x926a0d['roundTripTime'],void 0x0!==_0x926a0d[_0x11a84a(0x4f2)]?this[_0x11a84a(0x4f2)]=_0x926a0d[_0x11a84a(0x4f2)]:this['jitter']=0x0;}['getPacketsLostPerc'](){const _0x5bcd56=_0x332466;return this[_0x5bcd56(0x8f6)]>0x0?this[_0x5bcd56(0x7e2)]/this[_0x5bcd56(0x8f6)]:0x0;}[_0x332466(0x3aa)](_0x180f0c){const _0x226f02=_0x332466;_0x180f0c>this[_0x226f02(0xa85)]&&(this[_0x226f02(0x7ea)]=this[_0x226f02(0xa85)],this['currentTimestamp']=_0x180f0c);}['setBytes'](_0x3197fe){const _0x52f462=_0x332466;this[_0x52f462(0xa0e)]=this[_0x52f462(0x507)],this['currentBytes']=_0x3197fe;}}class _0x138414 extends _0x5b7672{}class _0x5eea1d extends _0x5b7672{[_0x332466(0x897)]=0x0;['frameWidth']=0x0;['frameHeight']=0x0;[_0x332466(0x91c)]=0x0;[_0x332466(0x29b)]=0x0;get[_0x332466(0x5b7)](){const _0x12394f=_0x332466;return this[_0x12394f(0xa85)]>0x0&&this[_0x12394f(0x7ea)]>0x0&&Date[_0x12394f(0x3f4)]()-this[_0x12394f(0xa85)]<_0x2a87f8?(this[_0x12394f(0x91c)]-this[_0x12394f(0x29b)])/(this[_0x12394f(0xa85)]-this[_0x12394f(0x7ea)])*0x3e8:0x0;}get['timePerFrame'](){const _0x2ce689=_0x332466;return this[_0x2ce689(0x897)]&&this[_0x2ce689(0x91c)]&&this[_0x2ce689(0x91c)]>0x0?this[_0x2ce689(0x897)]/this[_0x2ce689(0x91c)]:0x0;}set[_0x332466(0x246)](_0x4b5eba){const _0x1860ed=_0x332466;this[_0x1860ed(0x29b)]=this[_0x1860ed(0x91c)],this['currentFrames']=_0x4b5eba;}[_0x332466(0x5c6)](){const _0x3c8e74=_0x332466;return{...super['getReport'](),'FPS':this[_0x3c8e74(0x5b7)],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x3c8e74(0x315)],'frameHeight':this['frameHeight']};}['processInboundReport'](_0x1c49ac){const _0x3b9264=_0x332466;super[_0x3b9264(0x241)](_0x1c49ac),this[_0x3b9264(0x897)]=_0x1c49ac[_0x3b9264(0x6f3)],this[_0x3b9264(0x246)]=_0x1c49ac[_0x3b9264(0x84a)],this[_0x3b9264(0x315)]=_0x1c49ac[_0x3b9264(0x315)],this[_0x3b9264(0x8c4)]=_0x1c49ac[_0x3b9264(0x8c4)];}[_0x332466(0x991)](_0x2cddef){const _0x3e209a=_0x332466;super['processOutboundReport'](_0x2cddef),this[_0x3e209a(0x897)]=_0x2cddef['totalEncodeTime'],this['frames']=_0x2cddef[_0x3e209a(0x398)],this[_0x3e209a(0x315)]=_0x2cddef[_0x3e209a(0x315)],this[_0x3e209a(0x8c4)]=_0x2cddef[_0x3e209a(0x8c4)];}}class _0xd58604{[_0x332466(0x3f9)]=new _0x138414();[_0x332466(0x3f7)]=new _0x5eea1d();get[_0x332466(0x47e)](){const _0x29cab2=_0x332466;return this[_0x29cab2(0x3f9)][_0x29cab2(0x47e)]+this[_0x29cab2(0x3f7)][_0x29cab2(0x47e)];}['processReports'](_0x1d0a45){const _0x4f377a=_0x332466;return _0x1d0a45[_0x4f377a(0x602)](_0x4ecd4f=>{const _0x46c9af=_0x4f377a;switch(_0x4ecd4f[_0x46c9af(0x592)]){case _0x46c9af(0x3f9):this['audio'][_0x46c9af(0x38b)](_0x4ecd4f);break;case _0x46c9af(0x3f7):this['video'][_0x46c9af(0x38b)](_0x4ecd4f);}}),this['getReport']();}[_0x332466(0x5c6)](){const _0x4eac9c=_0x332466;return{'audio':this[_0x4eac9c(0x3f9)]['getReport'](),'video':this[_0x4eac9c(0x3f7)][_0x4eac9c(0x5c6)](),'roundTripTime':this[_0x4eac9c(0x516)](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this['bitrate']};}[_0x332466(0x516)](){const _0x1449ed=_0x332466;return Math[_0x1449ed(0xa0c)]((this['audio'][_0x1449ed(0x795)]+this[_0x1449ed(0x3f7)]['roundTripTime'])/0x2);}[_0x332466(0x692)](){const _0x56db05=_0x332466;return this[_0x56db05(0x3f9)][_0x56db05(0x499)]-this[_0x56db05(0x3f7)][_0x56db05(0x499)];}}class _0x59201f{[_0x332466(0x978)]=0x0;[_0x332466(0xab5)]=0x0;[_0x332466(0x6ac)]=0x0;[_0x332466(0x8ec)]=0x0;[_0x332466(0xa03)]=0x0;[_0x332466(0x413)]=0x0;[_0x332466(0x417)]=0x0;[_0x332466(0x709)]=0x0;['senderTotalMessages']=0x0;[_0x332466(0x21f)]=0x0;[_0x332466(0x95a)]=0x0;[_0x332466(0xa72)]=0x0;[_0x332466(0x795)]=0x0;get['bitrate'](){const _0x6f262=_0x332466;return this['senderBitrate']+this[_0x6f262(0x410)];}get['senderBitrate'](){const _0x34d424=_0x332466;return this[_0x34d424(0x978)]>0x0&&this[_0x34d424(0xab5)]>0x0&&Date[_0x34d424(0x3f4)]()-this[_0x34d424(0x978)]<_0x2a87f8?(this[_0x34d424(0xa03)]-this[_0x34d424(0x413)])/(this['senderCurrentTimestamp']-this[_0x34d424(0xab5)])*0x8*0x3e8:0x0;}get[_0x332466(0x410)](){const _0x2fdd28=_0x332466;return this[_0x2fdd28(0x6ac)]>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x2fdd28(0x3f4)]()-this[_0x2fdd28(0x6ac)]<_0x2a87f8?(this[_0x2fdd28(0x417)]-this[_0x2fdd28(0x709)])/(this[_0x2fdd28(0x6ac)]-this[_0x2fdd28(0x8ec)])*0x8*0x3e8:0x0;}[_0x332466(0x38b)](_0x4ddba7){const _0x14fddb=_0x332466;switch(_0x4ddba7[_0x14fddb(0xa89)]){case _0x1adf00[_0x14fddb(0x472)]:this[_0x14fddb(0x42b)](_0x4ddba7);break;case _0x1adf00['Receiver']:this[_0x14fddb(0x2ca)](_0x4ddba7);}}[_0x332466(0x5c6)](){const _0x4467cf=_0x332466;return{'bitrate':this[_0x4467cf(0x47e)],'senderBitrate':this[_0x4467cf(0x440)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x4467cf(0x989)](),'senderTotalBytes':this[_0x4467cf(0x195)](),'receiverTotalBytes':this[_0x4467cf(0x377)](),'totalMessages':this['senderTotalMessages']+this[_0x4467cf(0x21f)],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this[_0x4467cf(0x21f)],'timeProcessing':this[_0x4467cf(0x95a)]+this['receiverTimeProcessing'],'senderTimeProcessing':this[_0x4467cf(0x95a)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x4467cf(0x795)]};}[_0x332466(0x989)](){const _0x1f9681=_0x332466;return this[_0x1f9681(0xa03)]+this[_0x1f9681(0x417)];}[_0x332466(0x195)](){return this['senderCurrentBytes'];}[_0x332466(0x377)](){const _0x1413eb=_0x332466;return this[_0x1413eb(0x417)];}[_0x332466(0x42b)](_0xb9ad4a){const _0x5b15ff=_0x332466;this[_0x5b15ff(0x9e4)](_0xb9ad4a[_0x5b15ff(0x2ee)]),this[_0x5b15ff(0x7cd)](_0xb9ad4a[_0x5b15ff(0x572)]),this[_0x5b15ff(0x47c)]=_0xb9ad4a['messagesSent'],this[_0x5b15ff(0x95a)]=_0xb9ad4a[_0x5b15ff(0x4cf)],this['roundTripTime']=_0xb9ad4a['roundTripTime'];}[_0x332466(0x2ca)](_0x45112a){const _0x367132=_0x332466;this['setReceiverTimestamp'](_0x45112a[_0x367132(0x2ee)]),this[_0x367132(0x672)](_0x45112a[_0x367132(0x99a)]),this['receiverTotalMessages']=_0x45112a[_0x367132(0x20f)],this[_0x367132(0xa72)]=_0x45112a[_0x367132(0x1fc)];}['setSenderTimestamp'](_0x5bd438){const _0x37673a=_0x332466;_0x5bd438>this['senderCurrentTimestamp']&&(this[_0x37673a(0xab5)]=this['senderCurrentTimestamp'],this[_0x37673a(0x978)]=_0x5bd438);}[_0x332466(0x797)](_0x5a22ba){const _0x30e32f=_0x332466;_0x5a22ba>this[_0x30e32f(0x6ac)]&&(this[_0x30e32f(0x8ec)]=this[_0x30e32f(0x6ac)],this['receiverCurrentTimestamp']=_0x5a22ba);}[_0x332466(0x7cd)](_0x52eede){const _0x3bf1bc=_0x332466;this['senderPreviousBytes']=this['senderCurrentBytes'],this[_0x3bf1bc(0xa03)]=_0x52eede;}['setReceiverBytes'](_0x10215c){const _0x3ca00a=_0x332466;this[_0x3ca00a(0x709)]=this[_0x3ca00a(0x417)],this[_0x3ca00a(0x417)]=_0x10215c;}}class _0x26c20b{['senderStreams']=new Map();[_0x332466(0x441)]=new Map();[_0x332466(0xa1f)]=new _0x59201f();get[_0x332466(0x440)](){const _0x4c4c02=_0x332466;let _0x3aa9b6=0x0;return this[_0x4c4c02(0x45c)][_0x4c4c02(0x602)](_0x5ad408=>{const _0x38b1eb=_0x4c4c02;_0x3aa9b6+=_0x5ad408[_0x38b1eb(0x47e)];}),_0x3aa9b6+=this[_0x4c4c02(0xa1f)][_0x4c4c02(0x440)],_0x3aa9b6;}get[_0x332466(0x410)](){const _0x18b1a6=_0x332466;let _0x622b90=0x0;return this[_0x18b1a6(0x441)]['forEach'](_0x28439a=>{const _0xea3bf0=_0x18b1a6;_0x622b90+=_0x28439a[_0xea3bf0(0x47e)];}),_0x622b90+=this[_0x18b1a6(0xa1f)]['receiverBitrate'],_0x622b90;}get['bitrate'](){const _0x57b097=_0x332466;return this[_0x57b097(0x440)]+this[_0x57b097(0x410)];}[_0x332466(0x8b7)](_0xe24312,_0x282cb7){const _0x1b9c5d=_0x332466,_0x5bdff2=[],_0x4363ca=[];return _0xe24312 instanceof Array?_0xe24312[_0x1b9c5d(0x602)](_0x528306=>{_0x528306['forEach'](_0x296598=>{const _0x51d7cc=a0_0x5279;_0x35e307[_0x51d7cc(0x988)](_0x296598[_0x51d7cc(0x5a0)])&&_0x5bdff2[_0x51d7cc(0x995)](_0x296598),_0x5ed85a['includes'](_0x296598[_0x51d7cc(0x5a0)])&&_0x4363ca[_0x51d7cc(0x995)](_0x296598);});}):this[_0x1b9c5d(0xa1f)][_0x1b9c5d(0x38b)](_0xe24312),_0x5bdff2['length']>0x0&&_0x282cb7?{...this[_0x1b9c5d(0x8dc)](_0x282cb7,_0x5bdff2),'origin':_0x1adf00['Receiver'],'streamId':_0x282cb7}:_0x4363ca[_0x1b9c5d(0x65d)]>0x0&&_0x282cb7?{...this['processOutboundReports'](_0x282cb7,_0x4363ca),'origin':_0x1adf00['Sender'],'streamId':_0x282cb7}:void 0x0;}['getReport'](){const _0x551a6d=_0x332466,_0x323ac3={};this[_0x551a6d(0x45c)]['forEach']((_0x33f17e,_0x1990ac)=>{_0x323ac3[_0x1990ac]=_0x33f17e['getReport']();});const _0x5948af={};return this['receiverStreams'][_0x551a6d(0x602)]((_0x25d200,_0xdcf1db)=>{const _0x2b0603=_0x551a6d;_0x5948af[_0xdcf1db]=_0x25d200[_0x2b0603(0x5c6)]();}),{'bitrate':this[_0x551a6d(0x47e)],'senderBitrate':this[_0x551a6d(0x440)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x323ac3,'receiverStreams':_0x5948af,'dataChannel':this[_0x551a6d(0xa1f)][_0x551a6d(0x5c6)]()};}[_0x332466(0x8dc)](_0x26f8e6,_0x3b21c7){const _0x127993=_0x332466;return this[_0x127993(0x441)][_0x127993(0x71d)](_0x26f8e6)||this['receiverStreams'][_0x127993(0x72f)](_0x26f8e6,new _0xd58604()),this[_0x127993(0x441)]['get'](_0x26f8e6)[_0x127993(0x8b7)](_0x3b21c7);}[_0x332466(0x621)](_0x1ebf54,_0x2354c5){const _0x242e45=_0x332466;return this['senderStreams'][_0x242e45(0x71d)](_0x1ebf54)||this[_0x242e45(0x45c)][_0x242e45(0x72f)](_0x1ebf54,new _0xd58604()),this[_0x242e45(0x45c)][_0x242e45(0x4d1)](_0x1ebf54)[_0x242e45(0x8b7)](_0x2354c5);}}class _0x487167{[_0x332466(0x370)]=new Map();[_0x332466(0x362)]=0x0;[_0x332466(0xa6b)]=0x0;['pubsubTopics']=new Map();[_0x332466(0x4ff)]=new Map();[_0x332466(0x9b3)]=new Map();[_0x332466(0x45f)]=new Map();['generativeAIWorkers']=new Map();[_0x332466(0xa1d)]=new Map();[_0x332466(0x807)]=new Map();[_0x332466(0x9e3)]=new Map();[_0x332466(0x47c)]=new Map();['receiverTotalMessages']=new Map();['senderTimeProcessing']=new Map();[_0x332466(0xa72)]=new Map();['systemMessages']=new Map();['systemTopic'];['getReport'](){const _0x17cad9=_0x332466,_0x22cd70={};this[_0x17cad9(0x370)][_0x17cad9(0x602)]((_0x5dff6e,_0x17c34f)=>{_0x22cd70[_0x17c34f]=_0x5dff6e['getReport']();});let _0x2e72d0=0x0;this['senderTimeProcessing'][_0x17cad9(0x602)](_0x56419d=>{_0x2e72d0+=_0x56419d;});let _0x7a72d9=0x0;this[_0x17cad9(0xa72)][_0x17cad9(0x602)](_0x52dae6=>{_0x7a72d9+=_0x52dae6;});const _0x424721=_0x2e72d0+_0x7a72d9;let _0x4c66e7={'messages':{'total':0x0}};this['systemMessages'][_0x17cad9(0x602)](_0xf095c5=>{const _0x172c1d=_0x17cad9;Object[_0x172c1d(0x4be)](_0xf095c5)[_0x172c1d(0x602)](_0x546f28=>{const _0xab70d1=_0x172c1d;_0x4c66e7[_0x546f28]||(_0x4c66e7[_0x546f28]={}),Object[_0xab70d1(0x4be)](_0xf095c5[_0x546f28])[_0xab70d1(0x602)](_0x133786=>{_0x4c66e7[_0x546f28][_0x133786]||(_0x4c66e7[_0x546f28][_0x133786]=0x0),_0x4c66e7[_0x546f28][_0x133786]+=_0xf095c5[_0x546f28][_0x133786];});});});let _0x56e708=0x0,_0x35afdf=0x0,_0x5027fa=0x0,_0x43fa90=0x0,_0x224c5b=0x0;return this[_0x17cad9(0x668)][_0x17cad9(0x602)](_0x29e9aa=>{const _0x1497b4=_0x17cad9;_0x35afdf+=_0x29e9aa[_0x1497b4(0x940)],_0x5027fa+=_0x29e9aa[_0x1497b4(0x20f)],_0x43fa90+=_0x29e9aa[_0x1497b4(0x572)],_0x224c5b+=_0x29e9aa[_0x1497b4(0x99a)];}),this['objectStores']['forEach'](_0x121dfb=>{const _0x1cfb61=_0x17cad9;_0x56e708+=_0x121dfb['storage'],_0x35afdf+=_0x121dfb[_0x1cfb61(0x940)],_0x5027fa+=_0x121dfb[_0x1cfb61(0x20f)],_0x43fa90+=_0x121dfb[_0x1cfb61(0x572)],_0x224c5b+=_0x121dfb['bytesReceived'];}),this['keyValueDatabases']['forEach'](_0x56fcad=>{const _0x349582=_0x17cad9;_0x56e708+=_0x56fcad['storage'],_0x35afdf+=_0x56fcad[_0x349582(0x940)],_0x5027fa+=_0x56fcad['messagesReceived'],_0x43fa90+=_0x56fcad[_0x349582(0x572)],_0x224c5b+=_0x56fcad['bytesReceived'];}),this['generativeAIContexts'][_0x17cad9(0x602)](_0x3985b9=>{const _0x4999f1=_0x17cad9;_0x56e708+=_0x3985b9[_0x4999f1(0x5dd)],_0x35afdf+=_0x3985b9[_0x4999f1(0x940)],_0x5027fa+=_0x3985b9['messagesReceived'],_0x43fa90+=_0x3985b9['bytesSent'],_0x224c5b+=_0x3985b9[_0x4999f1(0x99a)];}),this[_0x17cad9(0xac9)][_0x17cad9(0x602)](_0x29fd3b=>{const _0x3c85fe=_0x17cad9;_0x56e708+=_0x29fd3b[_0x3c85fe(0x5dd)],_0x35afdf+=_0x29fd3b['messagesSent'],_0x5027fa+=_0x29fd3b[_0x3c85fe(0x20f)],_0x43fa90+=_0x29fd3b[_0x3c85fe(0x572)],_0x224c5b+=_0x29fd3b[_0x3c85fe(0x99a)];}),this[_0x17cad9(0xa1d)][_0x17cad9(0x602)](_0x89c0cf=>{const _0xbc40dc=_0x17cad9;_0x56e708+=_0x89c0cf[_0xbc40dc(0x5dd)],_0x35afdf+=_0x89c0cf[_0xbc40dc(0x940)],_0x5027fa+=_0x89c0cf[_0xbc40dc(0x20f)],_0x43fa90+=_0x89c0cf['bytesSent'],_0x224c5b+=_0x89c0cf[_0xbc40dc(0x99a)];}),this[_0x17cad9(0x807)][_0x17cad9(0x602)](_0x5eb5f4=>{const _0x5c8fd2=_0x17cad9;_0x56e708+=_0x5eb5f4[_0x5c8fd2(0x5dd)],_0x35afdf+=_0x5eb5f4[_0x5c8fd2(0x940)],_0x5027fa+=_0x5eb5f4[_0x5c8fd2(0x20f)],_0x43fa90+=_0x5eb5f4[_0x5c8fd2(0x572)],_0x224c5b+=_0x5eb5f4['bytesReceived'];}),{'STVolatility':this[_0x17cad9(0x684)](),'DTVolatility':this['getDTVolatility'](),'bitrate':this[_0x17cad9(0x2c2)](),'senderBitrate':this[_0x17cad9(0xa5a)](),'receiverBitrate':this[_0x17cad9(0x7dd)](),'totalStorageSize':_0x56e708,'totalMessages':_0x35afdf+_0x5027fa,'totalMessagesSent':_0x35afdf,'totalMessagesReceived':_0x5027fa,'totalBytes':_0x43fa90+_0x224c5b,'totalBytesSent':_0x43fa90,'totalBytesReceived':_0x224c5b,'systemMessages':_0x4c66e7,'timeProcessing':_0x424721,'nodes':_0x22cd70,'pubsubTopics':Object[_0x17cad9(0x8b6)](this[_0x17cad9(0x668)]),'objectStores':Object['fromEntries'](this[_0x17cad9(0x4ff)]),'keyValueDatabases':Object[_0x17cad9(0x8b6)](this[_0x17cad9(0x9b3)]),'generativeAIContexts':Object[_0x17cad9(0x8b6)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x17cad9(0x8b6)](this[_0x17cad9(0xac9)]),'vectorDatabases':Object['fromEntries'](this['vectorDatabases']),'graphDatabases':Object[_0x17cad9(0x8b6)](this[_0x17cad9(0x807)]),'externalStorages':Object['fromEntries'](this[_0x17cad9(0x9e3)])};}[_0x332466(0x27e)](_0x475f2d){const _0x199087=_0x332466;this[_0x199087(0x370)]['set'](_0x475f2d,new _0x26c20b());}[_0x332466(0x98b)](_0x3bfa7b){const _0x3016da=_0x332466;this[_0x3016da(0x370)][_0x3016da(0x6ea)](_0x3bfa7b);}[_0x332466(0x8b7)](_0x1183cd,_0x41180f,_0x31249b){const _0x343260=_0x332466;_0x41180f instanceof Array||this[_0x343260(0x88d)](_0x1183cd,_0x41180f);const _0x1ac30f=this['nodes'][_0x343260(0x4d1)](_0x1183cd)?.[_0x343260(0x8b7)](_0x41180f,_0x31249b);_0x1ac30f&&this['systemTopic'][_0x343260(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x343260(0x9d0)],'content':{'type':_0x54e2fd[_0x343260(0x269)],'data':{..._0x1ac30f,'nodeId':_0x1183cd}}});}[_0x332466(0x880)](_0x66f300){const _0x2eedcf=_0x332466;this[_0x2eedcf(0x887)](_0x66f300['secheduleTime']),this[_0x2eedcf(0x28a)](_0x66f300[_0x2eedcf(0xa6b)]),this[_0x2eedcf(0x380)][_0x2eedcf(0x778)]({'sourceId':_0x2fb5ff,'messageType':_0x2e0616[_0x2eedcf(0x9d0)],'content':{'type':_0x54e2fd[_0x2eedcf(0x522)],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x2eedcf(0x598)]()}}});}[_0x332466(0x221)](_0x3fc288,_0x14de79,_0x416251){const _0x382af4=_0x332466;switch(_0x14de79){case _0x5d4388[_0x382af4(0x2b1)]:this[_0x382af4(0x668)][_0x382af4(0x72f)](_0x3fc288,_0x416251);break;case _0x5d4388[_0x382af4(0x254)]:this[_0x382af4(0x4ff)][_0x382af4(0x72f)](_0x3fc288,_0x416251);break;case _0x5d4388[_0x382af4(0x8e8)]:this[_0x382af4(0x9b3)][_0x382af4(0x72f)](_0x3fc288,_0x416251);break;case _0x5d4388['GenerativeAIContextStats']:this[_0x382af4(0x45f)]['set'](_0x3fc288,_0x416251);break;case _0x5d4388['GenerativeAIWorkerStats']:this[_0x382af4(0xac9)][_0x382af4(0x72f)](_0x3fc288,_0x416251);break;case _0x5d4388[_0x382af4(0x8c9)]:this[_0x382af4(0xa1d)][_0x382af4(0x72f)](_0x3fc288,_0x416251);break;case _0x5d4388[_0x382af4(0x699)]:this[_0x382af4(0x807)][_0x382af4(0x72f)](_0x3fc288,_0x416251);break;case _0x5d4388['ExternalStorageStats']:this[_0x382af4(0x9e3)][_0x382af4(0x72f)](_0x3fc288,_0x416251);}}[_0x332466(0x4bd)](_0x110ada){const _0x253d04=_0x332466;this[_0x253d04(0x380)]=_0x110ada;}['unregisterSystemPublisher'](){const _0x2f89bc=_0x332466;delete this[_0x2f89bc(0x380)];}[_0x332466(0x684)](){const _0xd89728=_0x332466;return this[_0xd89728(0x362)]>0x0&&this[_0xd89728(0x362)]-_0x48f4fb>0x0?(this[_0xd89728(0x362)]-_0x48f4fb)/_0x48f4fb:0x0;}[_0x332466(0x598)](){const _0x481602=_0x332466;return this[_0x481602(0xa6b)]>0x0&&this[_0x481602(0xa6b)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x332466(0xa5a)](){let _0x250286=0x0;return this['nodes']['forEach'](_0x149dcf=>{_0x250286+=_0x149dcf['senderBitrate'];}),_0x250286;}[_0x332466(0x7dd)](){const _0x1c4c98=_0x332466;let _0x18820c=0x0;return this[_0x1c4c98(0x370)][_0x1c4c98(0x602)](_0x2791df=>{const _0x1e268a=_0x1c4c98;_0x18820c+=_0x2791df[_0x1e268a(0x410)];}),_0x18820c;}[_0x332466(0x2c2)](){const _0x43436e=_0x332466;let _0x53b419=0x0;return this[_0x43436e(0x370)][_0x43436e(0x602)](_0x433834=>{const _0x51166f=_0x43436e;_0x53b419+=_0x433834[_0x51166f(0x47e)];}),_0x53b419;}['setScheduleTime'](_0xe43749){const _0x452c5a=_0x332466;this[_0x452c5a(0x362)]=_0xe43749;}[_0x332466(0x28a)](_0x229921){const _0x2ba21e=_0x332466;this[_0x2ba21e(0xa6b)]=_0x229921;}[_0x332466(0x88d)](_0x428380,_0x11456a){const _0x323054=_0x332466;switch(_0x11456a[_0x323054(0xa89)]){case _0x1adf00[_0x323054(0x472)]:this[_0x323054(0x42b)](_0x428380,_0x11456a);break;case _0x1adf00[_0x323054(0x187)]:this[_0x323054(0x2ca)](_0x428380,_0x11456a);}}[_0x332466(0x42b)](_0x3570a5,_0x1a402a){const _0x2e3d0c=_0x332466;this['senderTotalMessages'][_0x2e3d0c(0x72f)](_0x3570a5,_0x1a402a['messagesSent']),this[_0x2e3d0c(0x95a)][_0x2e3d0c(0x72f)](_0x3570a5,_0x1a402a[_0x2e3d0c(0x4cf)]);}[_0x332466(0x2ca)](_0x56dfc6,_0x907ff7){const _0x38d6cf=_0x332466;this[_0x38d6cf(0x21f)][_0x38d6cf(0x72f)](_0x56dfc6,_0x907ff7[_0x38d6cf(0x20f)]),this[_0x38d6cf(0xa72)][_0x38d6cf(0x72f)](_0x56dfc6,_0x907ff7[_0x38d6cf(0x1fc)]),this[_0x38d6cf(0x787)][_0x38d6cf(0x72f)](_0x56dfc6,_0x907ff7[_0x38d6cf(0x787)]);}}class _0x231438{[_0x332466(0xaa5)];[_0x332466(0x8f7)]=new Set();[_0x332466(0x64d)];[_0x332466(0x4a4)];['statsReporting'];[_0x332466(0x45b)]=new _0x487167();constructor(_0x2535e2){const _0x4186ba=_0x332466;this[_0x4186ba(0xaa5)]=_0x2535e2,this[_0x4186ba(0xaa5)][_0x4186ba(0x7c9)][_0x4186ba(0xa95)](this[_0x4186ba(0x45b)]),this[_0x4186ba(0x4a4)]=this[_0x4186ba(0x727)](),this[_0x4186ba(0xa20)]=this[_0x4186ba(0xa0f)]();}[_0x332466(0x1db)](){const _0x3ea2b4=_0x332466;this[_0x3ea2b4(0xaa5)][_0x3ea2b4(0x7c9)]['unregisterSystemSource'](this['statsReport']),this[_0x3ea2b4(0xa20)](),this[_0x3ea2b4(0x4a4)]();}[_0x332466(0x27e)](_0x4efa45){const _0x160f23=_0x332466;this[_0x160f23(0x8f7)]['add'](_0x4efa45),this['statsReport']['addRemoteNode'](_0x4efa45);}[_0x332466(0x98b)](_0x10dec1){const _0x403fa8=_0x332466;this[_0x403fa8(0x8f7)][_0x403fa8(0x6ea)](_0x10dec1),this[_0x403fa8(0x45b)][_0x403fa8(0x98b)](_0x10dec1);}['handlePeerConnectionSystemEvents'](_0x3aac65){const _0x4404ac=_0x332466;if(_0x3aac65[_0x4404ac(0x4cb)][_0x4404ac(0x5a0)]===_0x435a1f[_0x4404ac(0x9d0)]){const {nodeId:_0x4325d3,streamId:_0x2d94aa,stats:_0x2f92f8}=_0x3aac65['content'];this[_0x4404ac(0x45b)][_0x4404ac(0x8b7)](_0x4325d3,_0x2f92f8,_0x2d94aa);}}[_0x332466(0x31e)](_0x4b5a13){const _0x62b9b8=_0x332466;switch(_0x4b5a13[_0x62b9b8(0x4cb)]['type']){case _0x5d4388[_0x62b9b8(0x254)]:case _0x5d4388[_0x62b9b8(0x8e8)]:case _0x5d4388['PubSubTopicStats']:case _0x5d4388['GenerativeAIContextStats']:case _0x5d4388[_0x62b9b8(0x2be)]:case _0x5d4388[_0x62b9b8(0x8c9)]:case _0x5d4388['GraphDatabaseStats']:case _0x5d4388['ExternalStorageStats']:this[_0x62b9b8(0x45b)][_0x62b9b8(0x221)](_0x4b5a13[_0x62b9b8(0x4cb)][_0x62b9b8(0x308)],_0x4b5a13[_0x62b9b8(0x4cb)][_0x62b9b8(0x5a0)],_0x4b5a13[_0x62b9b8(0x4cb)][_0x62b9b8(0x669)]);}}[_0x332466(0xa0f)](){const _0xb475ab=_0x332466;return _0x1327a2[_0xb475ab(0x728)](()=>{const _0x4038ab=_0xb475ab,_0x2f1d41=this['statsReport'][_0x4038ab(0x5c6)]();_0x833509[_0x4038ab(0x5d5)](_0xebc42c[_0x4038ab(0x9d0)],'Stats:\x20report',_0x2f1d41),(0x0,_0x53cc66[_0x4038ab(0x1a4)])((0x0,_0x53cc66[_0x4038ab(0x389)])(_0x5673af[_0x4038ab(0x503)](),_0x4038ab(0x3ea)+this[_0x4038ab(0xaa5)][_0x4038ab(0x640)]+_0x4038ab(0x188)),{'clusterId':this[_0x4038ab(0xaa5)][_0x4038ab(0x762)],'nodeId':this[_0x4038ab(0xaa5)][_0x4038ab(0x2e7)][_0x4038ab(0x9cc)](),'nodeType':this[_0x4038ab(0xaa5)]['localNode'][_0x4038ab(0x5a0)],'timestamp':(0x0,_0x53cc66[_0x4038ab(0x726)])(),'report':_0x2f1d41}),_0x833509[_0x4038ab(0x2ef)](_0x4038ab(0x669),{'clusterId':this[_0x4038ab(0xaa5)][_0x4038ab(0x762)],'nodeId':this[_0x4038ab(0xaa5)]['localNode'][_0x4038ab(0x9cc)](),'nodeType':this[_0x4038ab(0xaa5)][_0x4038ab(0x2e7)][_0x4038ab(0x5a0)],'data':{'report':_0x2f1d41}});},_0x2a87f8);}[_0x332466(0x727)](){const _0x207994=_0x332466;let _0xd4b43a=!0x1,_0x4b4d01=Date[_0x207994(0x3f4)]();return _0x1327a2[_0x207994(0x728)](async()=>{const _0x4354d1=_0x207994;if(_0xd4b43a)return;if(_0xd4b43a=!0x0,0x0===this['remoteNodes'][_0x4354d1(0x393)])return delete this[_0x4354d1(0x64d)],void(_0xd4b43a=!0x1);const _0x57f2f9=Date[_0x4354d1(0x3f4)]();this['findNextNodeId']();try{await this['configs']['mediator'][_0x4354d1(0x83d)](this['nextNodeId']);}catch(_0x54b27b){}this[_0x4354d1(0x45b)]['processLocalReport']({'secheduleTime':_0x57f2f9-_0x4b4d01,'durationTime':Date[_0x4354d1(0x3f4)]()-_0x57f2f9}),_0x4b4d01=_0x57f2f9,_0xd4b43a=!0x1;},_0x48f4fb);}[_0x332466(0x237)](){const _0xb70627=_0x332466;let _0x33b1dd,_0x2c7956=!0x1;this[_0xb70627(0x64d)]&&(this['remoteNodes'][_0xb70627(0x71d)](this[_0xb70627(0x64d)])||delete this[_0xb70627(0x64d)]);for(const _0x68df4c of this[_0xb70627(0x8f7)])if(_0x33b1dd||(_0x33b1dd=_0x68df4c),this[_0xb70627(0x64d)]!==_0x68df4c){if(_0x2c7956)return void(this[_0xb70627(0x64d)]=_0x68df4c);}else _0x2c7956=!0x0,delete this[_0xb70627(0x64d)];this['nextNodeId']||(this[_0xb70627(0x64d)]=_0x33b1dd);}}class _0x3978a9{['source'];['destination'];[_0x332466(0x380)];constructor(_0x53b8d3,_0x50ef18){const _0x5d9792=_0x332466;this[_0x5d9792(0x348)]=_0x53b8d3,this[_0x5d9792(0x529)]=_0x50ef18;}[_0x332466(0x4bd)](_0x4031a7){const _0x3f6da6=_0x332466;this[_0x3f6da6(0x380)]=_0x4031a7;}[_0x332466(0x3bf)](){const _0x72ec97=_0x332466;delete this[_0x72ec97(0x380)];}}class _0x2650d2 extends _0x3978a9{[_0x332466(0x348)];[_0x332466(0x529)];[_0x332466(0x72b)];constructor(_0x33035a,_0x532cb4,_0x2f7236){const _0x134368=_0x332466;super(_0x33035a,_0x532cb4),this[_0x134368(0x348)]=_0x33035a,this[_0x134368(0x529)]=_0x532cb4,this['params']=_0x2f7236;}[_0x332466(0x3cf)](_0x49e599,_0x1e5fd7,_0x4cc166){const _0x176bce=_0x332466;if(this[_0x176bce(0x529)][_0x176bce(0x62f)]()===_0x57c18a[_0x176bce(0x88a)]['Media']){const _0xad3a2d={'type':_0x7a6e1d[_0x176bce(0x77b)],'label':this[_0x176bce(0x529)][_0x176bce(0x2b5)](),'ownerId':_0x49e599,'trackKinds':_0x1e5fd7??this[_0x176bce(0x529)][_0x176bce(0x1bd)](),'params':_0x4cc166};this[_0x176bce(0x380)]['publish']({'sourceId':this[_0x176bce(0x348)]['getLocalId'](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x2e0616['Subscription'],'content':_0xad3a2d}),this[_0x176bce(0x72b)]=_0x4cc166;}}[_0x332466(0x422)](_0x24d32d,_0x4b60a7){const _0x12edfe=_0x332466;if(this['destination'][_0x12edfe(0x62f)]()===_0x57c18a[_0x12edfe(0x88a)][_0x12edfe(0x513)]){const _0x2a4660={'type':_0x7a6e1d[_0x12edfe(0x982)],'label':this[_0x12edfe(0x529)][_0x12edfe(0x2b5)](),'ownerId':_0x24d32d,'params':_0x4b60a7};this[_0x12edfe(0x380)]['publish']({'sourceId':this[_0x12edfe(0x348)][_0x12edfe(0x390)](),'destinationIds':[this[_0x12edfe(0x348)][_0x12edfe(0x2ff)]()],'messageType':_0x2e0616[_0x12edfe(0x465)],'content':_0x2a4660}),this[_0x12edfe(0x72b)]=_0x4b60a7;}}['unsubscribe'](_0x5ead4b,_0x2dd6c6,_0x5cd26c){const _0x4a3bad=_0x332466;if(this[_0x4a3bad(0x529)][_0x4a3bad(0x62f)]()===_0x57c18a[_0x4a3bad(0x88a)][_0x4a3bad(0x513)]){const _0x3df88f={'type':_0x7a6e1d[_0x4a3bad(0x8b4)],'label':this[_0x4a3bad(0x529)][_0x4a3bad(0x2b5)](),'ownerId':_0x5ead4b,'trackKinds':_0x5cd26c??this[_0x4a3bad(0x529)][_0x4a3bad(0x1bd)](),'remainingTracks':_0x2dd6c6};this[_0x4a3bad(0x380)][_0x4a3bad(0x778)]({'sourceId':this[_0x4a3bad(0x348)]['getLocalId'](),'destinationIds':[this[_0x4a3bad(0x348)][_0x4a3bad(0x2ff)]()],'messageType':_0x2e0616[_0x4a3bad(0x465)],'content':_0x3df88f});}}}class _0x205ef4{[_0x332466(0x6fe)];['maxDistance'];['tracks'];[_0x332466(0x380)];[_0x332466(0xabc)]=new Set();[_0x332466(0x7e9)]=Date[_0x332466(0x3f4)]();[_0x332466(0x72b)];[_0x332466(0x5db)]=0x0;constructor(_0x498536,_0x10d182,_0x407ebb,_0x168f37){const _0x24959f=_0x332466;this[_0x24959f(0x6fe)]=_0x10d182,this[_0x24959f(0x5d7)]=_0x407ebb,this[_0x24959f(0x843)]=_0x168f37,_0x498536['forEach'](_0x2f829b=>{const _0x4c876f=_0x24959f;this['answers'][_0x4c876f(0x7c5)]({'nodeId':_0x2f829b,'type':_0x45d8dd[_0x4c876f(0x61d)]});});}[_0x332466(0x260)](){const _0x543470=_0x332466;return this[_0x543470(0x843)];}[_0x332466(0x4bd)](_0x1776d7){const _0x4cd71d=_0x332466;this[_0x4cd71d(0x380)]=_0x1776d7;}[_0x332466(0x3bf)](){delete this['systemTopic'];}[_0x332466(0x357)](_0x346b33,_0x4e864e){const _0x394923=_0x332466;this[_0x394923(0x7e9)]=Date[_0x394923(0x3f4)](),this['answers'][_0x394923(0x767)](),_0x346b33[_0x394923(0x602)](_0x46b6b8=>{const _0xc03a1a=_0x394923;this['answers'][_0xc03a1a(0x7c5)]({'nodeId':_0x46b6b8,'type':_0x45d8dd[_0xc03a1a(0x61d)]});}),this[_0x394923(0x5db)]+=0x1,this[_0x394923(0x6fe)]=_0x4e864e;}[_0x332466(0x4f1)](_0x71c88f,_0x12cace,_0x11d411,_0xc74bf1,_0x2af317){const _0x3094d7=_0x332466;if(this[_0x3094d7(0x5db)]>0xa)throw new _0x1ba31e(_0x1ba31e['codes'][_0x3094d7(0x214)],{'answers':Array[_0x3094d7(0x639)](this[_0x3094d7(0xabc)])['map'](_0x23d54e=>({'nodeId':_0x23d54e[_0x3094d7(0x6e6)],'type':_0x23d54e['type']}))});const _0x2dc417=Array['from'](this[_0x3094d7(0xabc)])[_0x3094d7(0x604)](_0x5cf1a4=>_0x5cf1a4['nodeId']);this[_0x3094d7(0x72b)]=_0x2af317,this[_0x3094d7(0x380)][_0x3094d7(0x778)]({'sourceId':_0x71c88f,'destinationIds':_0x2dc417,'messageType':_0x2e0616['Subscription'],'content':{'type':_0x7a6e1d[_0x3094d7(0x961)],'label':_0x11d411,'ownerId':_0x12cace,'trackKinds':_0xc74bf1,'params':_0x2af317}}),_0x833509['log'](_0xebc42c['Subscription'],_0x3094d7(0x912),_0x71c88f,_0x2dc417);}[_0x332466(0x876)](_0x4ea1d6,_0x42b45c){const _0x179225=_0x332466;switch(_0x42b45c[_0x179225(0x5a0)]){case _0x7a6e1d[_0x179225(0x73d)]:{const _0xd14699=this[_0x179225(0x6fe)]>=_0x42b45c[_0x179225(0x8f4)]&&_0x42b45c[_0x179225(0x8f4)]<=this[_0x179225(0x5d7)],_0x278199=Array[_0x179225(0x639)](this[_0x179225(0xabc)])['find'](_0x15d49a=>_0x15d49a['nodeId']===_0x4ea1d6);_0x278199[_0x179225(0x5a0)]=_0xd14699?_0x45d8dd[_0x179225(0x8f2)]:_0x45d8dd['Rejected'],_0x278199[_0x179225(0x91d)]=_0x42b45c[_0x179225(0x91d)],_0x278199[_0x179225(0x8f4)]=_0x42b45c[_0x179225(0x8f4)],_0x278199[_0x179225(0x853)]=_0x42b45c[_0x179225(0x853)],_0x278199[_0x179225(0x795)]=Date[_0x179225(0x3f4)]()-this[_0x179225(0x7e9)],_0x278199[_0x179225(0x72b)]=this[_0x179225(0x72b)],_0x278199[_0x179225(0x28c)]=_0x42b45c[_0x179225(0x28c)],_0x278199[_0x179225(0x926)]=_0x42b45c[_0x179225(0x926)],_0x278199[_0x179225(0x935)]=_0x42b45c[_0x179225(0x308)],_0x833509[_0x179225(0x5d5)](_0xebc42c[_0x179225(0x465)],(_0xd14699?'Accepted':'Rejected')+_0x179225(0x9b5),_0x278199);break;}case _0x7a6e1d[_0x179225(0x7ad)]:{const _0x584263=Array[_0x179225(0x639)](this[_0x179225(0xabc)])['find'](_0x1b3600=>_0x1b3600[_0x179225(0x6e6)]===_0x4ea1d6);_0x584263['type']=_0x45d8dd['Rejected'],_0x833509['log'](_0xebc42c[_0x179225(0x465)],_0x179225(0x51e),_0x584263);break;}}if(this['canChooseAnswer']())return this[_0x179225(0x79a)]();}[_0x332466(0x79a)](){const _0x55f531=_0x332466,_0x1a2bcf=Array[_0x55f531(0x639)](this['answers'])[_0x55f531(0x962)](_0x2bfade=>_0x2bfade['type']===_0x45d8dd['Accepted'])[_0x55f531(0xa4f)]((_0x37a7c5,_0x58ea2d)=>_0x37a7c5[_0x55f531(0x91d)]===_0x58ea2d[_0x55f531(0x91d)]?_0x37a7c5[_0x55f531(0x795)]-_0x58ea2d[_0x55f531(0x795)]:_0x37a7c5['cost']-_0x58ea2d[_0x55f531(0x91d)]);if(0x0===_0x1a2bcf[_0x55f531(0x65d)])throw new _0x1ba31e(_0x1ba31e[_0x55f531(0x631)][_0x55f531(0x214)],{'answers':Array[_0x55f531(0x639)](this['answers'])[_0x55f531(0x604)](_0x4e4e81=>({'nodeId':_0x4e4e81[_0x55f531(0x6e6)],'type':_0x4e4e81[_0x55f531(0x5a0)]}))});return _0x833509[_0x55f531(0x5d5)](_0xebc42c[_0x55f531(0x465)],'Chosen\x20answer',_0x1a2bcf[0x0],this['answers']),_0x1a2bcf[0x0];}['canChooseAnswer'](){const _0x2c3d90=_0x332466;for(const _0x415776 of this[_0x2c3d90(0xabc)])if(_0x415776[_0x2c3d90(0x5a0)]===_0x45d8dd['Waiting'])return!0x1;return!0x0;}}class _0x27fe8e{['label'];[_0x332466(0x49a)];[_0x332466(0x583)]=_0x5ad0e0();constructor(_0xc5e69a,_0xbc72b0){const _0x18222f=_0x332466;this[_0x18222f(0x308)]=_0xc5e69a,this[_0x18222f(0x49a)]=_0xbc72b0;}[_0x332466(0x2b5)](){const _0x3ab62c=_0x332466;return this[_0x3ab62c(0x308)];}[_0x332466(0x62f)](){const _0x53f4d8=_0x332466;return this[_0x53f4d8(0x49a)];}[_0x332466(0x85c)](_0x730514){_0x730514['registerPublisher'](this);}[_0x332466(0x3a4)](_0x2d5c7d){const _0x1e9742=_0x332466;_0x2d5c7d[_0x1e9742(0x75d)](this);}[_0x332466(0x778)](_0x50f67c){const _0x5ce53a=_0x332466;this[_0x5ce53a(0x583)][_0x5ce53a(0x778)]({'topicLabel':this[_0x5ce53a(0x308)],'contentType':this['contentType'],'uuid':(0x0,_0x74103e['v4'])(),'recipients':[],..._0x50f67c});}[_0x332466(0x3cf)](_0xbd0ade){const _0x6339f7=_0x332466;return this[_0x6339f7(0x583)][_0x6339f7(0x3cf)](_0xbd0ade);}[_0x332466(0x50f)](_0x3cbf8b){const _0x5b9c50=_0x332466;_0x3cbf8b[_0x5b9c50(0x52d)](this);}['unregisterDestination'](_0x56fc81){const _0x52b774=_0x332466;_0x56fc81[_0x52b774(0x945)](this);}}class _0x20ae7e{[_0x332466(0x1cc)]={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x295f93){this['getPartsFromSubscription']=_0x295f93;}get[_0x332466(0x4c6)](){const _0xd01903=_0x332466;return this[_0xd01903(0x1cc)][_0xd01903(0x4c6)];}get[_0x332466(0x31d)](){const _0x2e3a07=_0x332466;return this[_0x2e3a07(0x1cc)][_0x2e3a07(0x31d)];}[_0x332466(0x415)](_0x30cd60,_0x1fcca0){const _0x1effa1=_0x332466,_0x4bc3b2=this[_0x1effa1(0x736)](_0x1fcca0),_0x58c23a=_0x4cff02(_0x30cd60);if(!_0x4bc3b2[_0x1effa1(0xabd)])throw new _0x1ba31e(_0x1ba31e[_0x1effa1(0x631)]['InvalidSubscription'],{'message':_0x58c23a+':\x20'+_0x4bc3b2['remoteId']+_0x1effa1(0xac8)+_0x4bc3b2[_0x1effa1(0x49a)],'subscriptionType':_0x30cd60,'subscription':_0x1fcca0,'subscriptonParts':_0x4bc3b2});const _0x1ec307=_0x25a9b6(_0x30cd60,_0x4bc3b2);if(this[_0x1effa1(0x1cc)][_0x1effa1(0x4c6)][_0x1effa1(0x71d)](_0x1ec307))throw new _0x1ba31e(_0x1ba31e[_0x1effa1(0x631)][_0x1effa1(0x342)],{'message':_0x58c23a+':\x20'+_0x1ec307+_0x1effa1(0x496),'subscriptionType':_0x30cd60,'subscription':_0x1fcca0,'subscriptonParts':_0x4bc3b2});this[_0x1effa1(0x1cc)][_0x1effa1(0x4c6)][_0x1effa1(0x72f)](_0x1ec307,_0x1fcca0),this[_0x1effa1(0x65f)](_0x4bc3b2,_0x1fcca0);}[_0x332466(0x3d4)](_0x585510,_0x1bcd2a){const _0x2e413e=_0x332466,_0x2f862b=_0x25a9b6(_0x1bcd2a,_0x585510),_0x9cddba=this[_0x2e413e(0x1cc)][_0x2e413e(0x4c6)]['get'](_0x2f862b);if(!_0x9cddba)throw new _0x1ba31e(_0x1ba31e['codes'][_0x2e413e(0x342)],{'message':_0x4cff02(_0x1bcd2a)+':\x20'+_0x2f862b+_0x2e413e(0x19e),'subscriptionType':_0x1bcd2a,'subscription':_0x9cddba,'subscriptonParts':_0x585510});this['closeSubscription'](_0x9cddba,_0x2f862b,_0x585510);}[_0x332466(0x9bc)](_0x1fd1ce,_0x374468,_0x28784b){const _0x485f69=_0x332466;_0x28784b=_0x28784b||this['getPartsFromSubscription'](_0x1fd1ce),this[_0x485f69(0x1cc)][_0x485f69(0x4c6)][_0x485f69(0x6ea)](_0x374468),this['removeTopic'](_0x28784b,_0x1fd1ce);}[_0x332466(0x65f)](_0x161850,{source:_0x16fa49,destination:_0x4ea0b0}){const _0x4c1709=_0x332466,{contentType:_0x52237f,label:_0x3da373,remoteId:_0x3eed80}=_0x161850,_0x4025ea=_0x2b6d4f(_0x52237f,_0x3da373,_0x3eed80),_0x459a01=new _0x27fe8e(_0x4025ea,_0x52237f);_0x459a01['registerSource'](_0x16fa49),_0x459a01['registerDestination'](_0x4ea0b0),this[_0x4c1709(0x1cc)][_0x4c1709(0x31d)][_0x4c1709(0x72f)](_0x459a01[_0x4c1709(0x2b5)](),_0x459a01);}[_0x332466(0x303)](_0x550e9b,_0x29f567){const _0x161ca2=_0x332466,{contentType:_0x46764a,label:_0x2d17c5,remoteId:_0x4791d5}=_0x550e9b,_0xa79a6c=_0x2b6d4f(_0x46764a,_0x2d17c5,_0x4791d5),_0x50eda9=this[_0x161ca2(0x1cc)][_0x161ca2(0x31d)][_0x161ca2(0x4d1)](_0xa79a6c);_0x50eda9&&(this['closeTopic'](_0x50eda9,_0x29f567),this[_0x161ca2(0x1cc)][_0x161ca2(0x31d)]['delete'](_0xa79a6c));}[_0x332466(0x78e)](_0x33b669,{source:_0x4b9151,destination:_0x4c25e7}){const _0x27b9f1=_0x332466;_0x33b669[_0x27b9f1(0x50f)](_0x4b9151),_0x33b669[_0x27b9f1(0x769)](_0x4c25e7);}[_0x332466(0x337)](_0x4a421b){const _0x4ea7df=_0x332466;this[_0x4ea7df(0x1cc)][_0x4ea7df(0x4c6)][_0x4ea7df(0x602)]((_0x12f493,_0x399650)=>{const _0x3ba41f=_0x4ea7df;_0x399650[_0x3ba41f(0xae6)](_0x4a421b)&&this['closeSubscription'](_0x12f493,_0x399650);});}}class _0xbe90ab{[_0x332466(0xaa5)];['maxDistance'];['subscriptionRequests']=new Map();[_0x332466(0x541)]=_0x323896(new _0x3f321f(this[_0x332466(0x3cc)]['bind'](this),()=>_0x1327a2['wait'](0x64)),!0x0);[_0x332466(0x8ab)]=new Map();['maps'];['chosenAnswers']=new Map();constructor(_0x2a473a,_0x3f0f2f){const _0xca693d=_0x332466;this[_0xca693d(0xaa5)]=_0x2a473a,this['maxDistance']=_0x3f0f2f,this[_0xca693d(0x1cc)]=new _0x20ae7e(({source:_0x3c94d1,destination:_0xc87daf})=>_0x1e5381(_0xc87daf,_0x3c94d1));}[_0x332466(0x415)](_0x4d5833,_0x2c0521){const _0x27dadf=_0x332466,_0xe49ef3=this[_0x27dadf(0x4ef)](_0x4d5833)&&this['isMediaDestination'](_0x2c0521)?new _0x2650d2(_0x4d5833,_0x2c0521):new _0x3978a9(_0x4d5833,_0x2c0521);this[_0x27dadf(0x1cc)][_0x27dadf(0x415)](_0x2e3039[_0x27dadf(0x4fe)],_0xe49ef3),this[_0x27dadf(0xaa5)][_0x27dadf(0x7c9)]['registerSystemSource'](_0xe49ef3);}['removeSubscription'](_0x3a96fb,_0x27a001,_0x1921ea=''){const _0x34c3dc=_0x332466,_0x59ce3f={'contentType':_0x27a001,'label':_0x3a96fb,'remoteId':_0x1921ea},_0x6b9f70=_0x25a9b6(_0x2e3039[_0x34c3dc(0x4fe)],_0x59ce3f),_0x2223c0=this['maps'][_0x34c3dc(0x4c6)][_0x34c3dc(0x4d1)](_0x6b9f70);_0x2223c0&&this[_0x34c3dc(0x9bc)](_0x2223c0,_0x6b9f70);}[_0x332466(0x9bb)](_0x2dc4a5){this['removeRemoteStreamSubscription'](_0x2dc4a5);}[_0x332466(0x2d1)]({label:_0x50f4e9,ownerId:_0x320bf9,trackKinds:_0x155387,params:_0x524783}){this['requestSubscription'](_0x50f4e9,_0x320bf9,_0x155387,_0x524783);}['handleContentUpdateMediaStream']({ownerId:_0x1a23c6,label:_0x4dd4d8,params:_0x232b78}){const _0x53b394=_0x332466,{subscriptionLabel:_0x662e9}=this['getSubscriptionLabel'](_0x4dd4d8,_0x1a23c6),_0x5bede6=this[_0x53b394(0x6ef)](_0x662e9);_0x5bede6&&_0x5bede6[_0x53b394(0x422)](_0x1a23c6,_0x232b78);}[_0x332466(0x661)]({ownerId:_0x11b097,label:_0x23683c,trackKinds:_0x1f33c1,remainingTracks:_0x5a3752}){const _0x3f9ccb=_0x332466,_0x359e1b=_0x25a9b6(_0x2e3039[_0x3f9ccb(0x4fe)],{'contentType':_0x57c18a[_0x3f9ccb(0x88a)][_0x3f9ccb(0x513)],'label':_0x23683c,'remoteId':_0x11b097});this[_0x3f9ccb(0x8e2)](_0x359e1b);const _0x2da8db=this[_0x3f9ccb(0xab1)][_0x3f9ccb(0x4d1)](_0x359e1b);_0x2da8db&&(this[_0x3f9ccb(0xaa5)][_0x3f9ccb(0x7c9)][_0x3f9ccb(0xa29)](_0x2da8db),this['subscriptionRequests']['delete'](_0x359e1b));const {parts:_0x153064,subscriptionLabel:_0x5b5974}=this[_0x3f9ccb(0x363)](_0x23683c,_0x11b097),_0x1af842=this[_0x3f9ccb(0x6ef)](_0x5b5974);_0x1af842&&(_0x1af842['unsubscribe'](_0x11b097,_0x5a3752,_0x1f33c1),0x0===_0x5a3752&&this[_0x3f9ccb(0x3d4)](_0x153064[_0x3f9ccb(0x308)],_0x153064[_0x3f9ccb(0x49a)],_0x153064['remoteId']));}[_0x332466(0x765)](_0x5cb308,{label:_0x28725d,ownerId:_0x31c1c1,trackKinds:_0x358848,streamId:_0x18a71,params:_0x4071df}){const _0x2acf70=_0x332466,_0x189db1=_0x25a9b6(_0x2e3039[_0x2acf70(0x4fe)],{'contentType':_0x57c18a[_0x2acf70(0x88a)][_0x2acf70(0x513)],'label':_0x18a71,'remoteId':_0x5cb308}),_0xcb0851=this[_0x2acf70(0x1cc)][_0x2acf70(0x4c6)]['get'](_0x189db1);if(!(_0xcb0851&&_0xcb0851 instanceof _0x2650d2))throw new _0x1ba31e(_0x1ba31e[_0x2acf70(0x631)][_0x2acf70(0x4df)],{'label':_0x189db1,'ownerId':_0x31c1c1});this[_0x2acf70(0x9bc)](_0xcb0851,_0x189db1),this[_0x2acf70(0x8e7)](_0x28725d,_0x31c1c1,_0x358848,_0x4071df);}[_0x332466(0x5a7)](_0x2bbc7c,_0xbcdf06){const _0x3a0d2b=_0x332466,{label:_0x3d52fc,ownerId:_0xea345a,trackKinds:_0x170f64,params:_0x34417e}=_0xbcdf06,_0x299ebd=_0x25a9b6(_0x2e3039[_0x3a0d2b(0x4fe)],{'contentType':_0x57c18a[_0x3a0d2b(0x88a)]['Media'],'label':_0x3d52fc,'remoteId':_0xea345a});if(!this[_0x3a0d2b(0xab1)]['has'](_0x299ebd))throw new _0x1ba31e(_0x1ba31e['codes'][_0x3a0d2b(0x4df)],{'label':_0x299ebd,'ownerId':_0xea345a,'streamId':_0xbcdf06[_0x3a0d2b(0x853)],'requests':this[_0x3a0d2b(0xab1)]});const _0x43b96f=this['subscriptionRequests'][_0x3a0d2b(0x4d1)](_0x299ebd);if(_0x170f64[_0x3a0d2b(0x65d)]===_0x43b96f[_0x3a0d2b(0x260)]()[_0x3a0d2b(0x65d)]&&_0x170f64[_0x3a0d2b(0x810)](_0xbcb2d4=>_0x43b96f[_0x3a0d2b(0x260)]()[_0x3a0d2b(0x988)](_0xbcb2d4)))try{const _0x501d80=_0x43b96f['handleSubscriptionSystemEvents'](_0x2bbc7c,_0xbcdf06);if(!_0x501d80)return;this['subscribe'](_0x501d80,_0xea345a,_0x3d52fc,_0x299ebd,_0x170f64);}catch(_0x20ac62){return void this[_0x3a0d2b(0x51a)](_0x3d52fc,_0xea345a,_0x170f64,_0x34417e);}}[_0x332466(0x4b5)](_0x481290,{label:_0x3a07fd,ownerId:_0x2d6d5d,trackKinds:_0x388332}){const _0x5d147d=_0x332466,_0x3aeab1=this[_0x5d147d(0xaa5)]['mediator'][_0x5d147d(0x31a)](_0x2d6d5d,_0x3a07fd);if(!_0x3aeab1)return;const _0x35f7b7=_0x3aeab1[_0x5d147d(0x189)](),_0x44dfd4=_0x3aeab1[_0x5d147d(0x306)]();_0x44dfd4[_0x5d147d(0x76b)](_0x222e0a=>_0x388332[_0x5d147d(0x988)](_0x222e0a))&&this[_0x5d147d(0x824)](_0x481290,_0x3a07fd,_0x35f7b7,_0x2d6d5d,_0x44dfd4);}[_0x332466(0x304)]({label:_0x5ea89c,providerId:_0x1808c7,ownerId:_0x4f6323,streamId:_0xa10bdd,trackKinds:_0xb9e9a6}){const _0x758cea=_0x332466;this[_0x758cea(0x824)](_0x1808c7,_0x5ea89c,_0xa10bdd,_0x4f6323,_0xb9e9a6);}[_0x332466(0x455)](_0x37077c){const _0x194b05=_0x332466;for(const _0xb05309 of this[_0x194b05(0x376)][_0x194b05(0x6af)]()){const {streamLabel:_0x3f63b7,ownerId:_0x16b6b5,trackKinds:_0x4aa97c,params:_0x4583f3}=_0xb05309;if(!_0x16b6b5||!_0x4aa97c||!_0x3f63b7)return;this[_0x194b05(0x541)][_0x194b05(0x995)]({'label':_0x3f63b7,'ownerId':_0x16b6b5,'trackKinds':_0x4aa97c,'params':_0x4583f3,'remoteId':_0x37077c});}}[_0x332466(0x337)](_0x2406ea){const _0x394516=_0x332466;this[_0x394516(0x1cc)][_0x394516(0x4c6)][_0x394516(0x602)]((_0x3e2331,_0x4ffd81)=>{const _0xaf20e3=_0x394516;if(_0x4ffd81[_0xaf20e3(0xae6)](_0x2406ea)){if(_0x3e2331['destination'][_0xaf20e3(0x62f)]()===_0x57c18a[_0xaf20e3(0x88a)][_0xaf20e3(0x513)]){const _0x46956a=_0x3e2331[_0xaf20e3(0x529)];if(_0x46956a[_0xaf20e3(0x306)]()['length']>0x0){const _0x3cb07a={'type':_0x7a6e1d[_0xaf20e3(0xa33)],'label':_0x46956a[_0xaf20e3(0x2b5)](),'ownerId':_0x46956a[_0xaf20e3(0x2bf)](),'trackKinds':_0x46956a[_0xaf20e3(0x306)]()};return void this[_0xaf20e3(0x4b5)](_0x2406ea,_0x3cb07a);}}this[_0xaf20e3(0x9bc)](_0x3e2331,_0x4ffd81);}});}[_0x332466(0x1db)](){const _0x2b97be=_0x332466;this[_0x2b97be(0x1cc)][_0x2b97be(0x4c6)][_0x2b97be(0x602)](this[_0x2b97be(0x9bc)][_0x2b97be(0x531)](this));}[_0x332466(0x3cf)](_0x532ead,_0x20a93f,_0x19e27b,_0x39e810,_0x581cf7){const _0x17fa24=_0x332466,_0x109f8a=this[_0x17fa24(0xaa5)][_0x17fa24(0x7c9)][_0x17fa24(0x35a)](_0x532ead[_0x17fa24(0x6e6)]),_0x2bfbe0=this[_0x17fa24(0xaa5)][_0x17fa24(0x7c9)][_0x17fa24(0x31a)](_0x20a93f,_0x19e27b);this[_0x17fa24(0x8e2)](_0x39e810),this[_0x17fa24(0xab1)]['has'](_0x39e810)&&(this[_0x17fa24(0xaa5)][_0x17fa24(0x7c9)][_0x17fa24(0xa29)](this[_0x17fa24(0xab1)]['get'](_0x39e810)),this[_0x17fa24(0xab1)][_0x17fa24(0x6ea)](_0x39e810)),this['cleanOldSubscription'](_0x532ead,_0x20a93f,_0x19e27b,_0x2bfbe0),_0x2bfbe0[_0x17fa24(0x4ca)](_0x532ead['streamId']),_0x2bfbe0[_0x17fa24(0x5b6)](_0x532ead[_0x17fa24(0x6e6)]);const _0x4517f3=_0x1e5381(_0x2bfbe0,_0x109f8a),_0x525468=_0x25a9b6(_0x2e3039[_0x17fa24(0x4fe)],_0x4517f3);this[_0x17fa24(0x1cc)][_0x17fa24(0x4c6)][_0x17fa24(0x71d)](_0x525468)||this[_0x17fa24(0x415)](_0x109f8a,_0x2bfbe0);const _0x27e656=this['maps']['subscriptions']['get'](_0x525468);if(!(_0x27e656&&_0x27e656 instanceof _0x2650d2))throw new _0x1ba31e(_0x1ba31e[_0x17fa24(0x631)][_0x17fa24(0x4df)],{'label':_0x39e810,'ownerId':_0x20a93f});_0x833509[_0x17fa24(0x2ef)](_0x17fa24(0x9e1),{'clusterId':this[_0x17fa24(0xaa5)][_0x17fa24(0x762)],'nodeId':this[_0x17fa24(0xaa5)][_0x17fa24(0x2e7)][_0x17fa24(0x9cc)](),'nodeType':this[_0x17fa24(0xaa5)][_0x17fa24(0x2e7)][_0x17fa24(0x5a0)],'data':{'subscriptionLabel':_0x525468,'chosenAnswer':_0x532ead}}),this['chosenAnswers']['set'](_0x525468,_0x532ead),_0x27e656[_0x17fa24(0x3cf)](_0x20a93f,_0x581cf7,_0x532ead['params']);}[_0x332466(0x7fd)]({ownerId:_0x130070,label:_0x321592}){const _0x18ac9f=_0x332466,_0x3d8a78=this[_0x18ac9f(0xaa5)][_0x18ac9f(0x7c9)][_0x18ac9f(0x31a)](_0x130070,_0x321592),[_0x145087,_0x5661e7]=Array[_0x18ac9f(0x639)](this[_0x18ac9f(0x1cc)][_0x18ac9f(0x4c6)][_0x18ac9f(0xa14)]())[_0x18ac9f(0x405)](([_0x3e94aa,_0x10b958])=>-0x1!==_0x3e94aa[_0x18ac9f(0x82d)](_0x3d8a78[_0x18ac9f(0x189)]()));return this[_0x18ac9f(0x9bc)](_0x5661e7,_0x145087);}[_0x332466(0x9bc)](_0x30ddad,_0x2c7a74){const _0x2b7502=_0x332466;this[_0x2b7502(0xaa5)][_0x2b7502(0x7c9)][_0x2b7502(0xa29)](_0x30ddad),this[_0x2b7502(0x1cc)][_0x2b7502(0x9bc)](_0x30ddad,_0x2c7a74);}['isMediaSource'](_0x2fb208){const _0x2b9267=_0x332466;return _0x2fb208[_0x2b9267(0x917)]()[_0x2b9267(0x988)](_0x57c18a[_0x2b9267(0x88a)][_0x2b9267(0x513)]);}[_0x332466(0x553)](_0x1aded2){const _0xc18d3=_0x332466;return _0x1aded2[_0xc18d3(0x62f)]()===_0x57c18a[_0xc18d3(0x88a)][_0xc18d3(0x513)];}async[_0x332466(0x51a)](_0x2a3343,_0x4257d6,_0x2cdab4,_0x1187d9){const _0x52b406=_0x332466;await _0x1327a2['wait'](0x3e8);const _0xd705f6=_0x25a9b6(_0x2e3039[_0x52b406(0x4fe)],{'contentType':_0x57c18a[_0x52b406(0x88a)]['Media'],'label':_0x2a3343,'remoteId':_0x4257d6});this['clearSubscriptionRequestTimeout'](_0xd705f6);const _0x3ea75e=this[_0x52b406(0xab1)]['get'](_0xd705f6);if(!_0x3ea75e)throw new _0x1ba31e(_0x1ba31e[_0x52b406(0x631)]['SubscriptionRequestDoesNotExist'],{'label':_0xd705f6,'ownerId':_0x4257d6});const _0x7332d5=this[_0x52b406(0xaa5)][_0x52b406(0x7c9)]['getConnections'](_0xa70742=>_0xa70742[_0x52b406(0x5c1)]()),_0x553fd2=this['configs']['mediator'][_0x52b406(0x291)](this['configs']['localNode'][_0x52b406(0x9cc)](),_0x4257d6);_0x3ea75e[_0x52b406(0x357)](_0x7332d5[_0x52b406(0x604)](_0x427b02=>_0x427b02[_0x52b406(0x2ff)]()),_0x553fd2);try{_0x3ea75e['sendRequest'](this[_0x52b406(0xaa5)][_0x52b406(0x2e7)]['getId'](),_0x4257d6,_0x2a3343,_0x2cdab4,_0x1187d9),this[_0x52b406(0x409)](_0x2a3343,_0x4257d6,_0x2cdab4,_0x1187d9,_0xd705f6,_0x3ea75e);}catch(_0x4dfd1b){this[_0x52b406(0x541)][_0x52b406(0x995)]({'label':_0x2a3343,'ownerId':_0x4257d6,'trackKinds':_0x2cdab4,'params':_0x1187d9});}}[_0x332466(0x8e7)](_0x34fa30,_0x39d4fd,_0x4b143e,_0x402982){const _0x18e7c0=_0x332466;this[_0x18e7c0(0x541)]['push']({'label':_0x34fa30,'ownerId':_0x39d4fd,'trackKinds':_0x4b143e,'params':_0x402982});}[_0x332466(0x3cc)]({label:_0xe38c75,ownerId:_0x1a8709,trackKinds:_0x5dab99,params:_0x57a96f,remoteId:_0x5fe3d0}){const _0x57607a=_0x332466;if(!this[_0x57607a(0xaa5)][_0x57607a(0x7c9)][_0x57607a(0x31a)](_0x1a8709,_0xe38c75))return;if(!this['configs'][_0x57607a(0x7c9)]['getLocalNode']()[_0x57607a(0x60c)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x5fe3d0){const _0x46bc78=this[_0x57607a(0xaa5)][_0x57607a(0x7c9)][_0x57607a(0x860)]()[_0x57607a(0x405)](_0x3a23ff=>_0x3a23ff['getId']()===_0x5fe3d0),_0x59c6c0=_0x46bc78?.[_0x57607a(0x60c)]();if(!_0x46bc78||!_0x59c6c0)throw new Error(_0x57607a(0x4d2));const _0x36e806=this[_0x57607a(0xaa5)][_0x57607a(0x7c9)][_0x57607a(0x860)]()[_0x57607a(0x405)](_0x3a393c=>_0x3a393c['getId']()===_0x1a8709),_0x5b320f=_0x36e806?.[_0x57607a(0x60c)]();if(!_0x36e806||!_0x5b320f)throw new Error(_0x57607a(0x73c));const _0x5d1e74=this[_0x57607a(0x376)]['get'](_0xe38c75);if(_0x5d1e74){const _0x12f63c=this[_0x57607a(0xaa5)][_0x57607a(0x7c9)][_0x57607a(0x860)]()['find'](_0x39f62a=>_0x39f62a[_0x57607a(0x9cc)]()===_0x5d1e74[_0x57607a(0x6e6)]),_0x14c3a3=_0x12f63c?.[_0x57607a(0x60c)]();if(!_0x12f63c||!_0x14c3a3)throw new Error(_0x57607a(0x3b4));if(Math[_0x57607a(0xa8b)](_0x14c3a3-_0x5b320f)<Math['abs'](_0x59c6c0-_0x5b320f))return;}}const _0x478464=this['configs']['mediator'][_0x57607a(0x2a3)](_0x2d59a3=>_0x2d59a3[_0x57607a(0x5c1)]()&&(!_0x5fe3d0||_0x2d59a3[_0x57607a(0x2ff)]()===_0x5fe3d0));if(!_0x478464[_0x57607a(0x65d)]||0x0===_0x478464[_0x57607a(0x65d)])throw new Error(_0x57607a(0x264));const _0x4d2745=this[_0x57607a(0xaa5)]['mediator'][_0x57607a(0x291)](this[_0x57607a(0xaa5)][_0x57607a(0x2e7)][_0x57607a(0x9cc)](),_0x1a8709),_0x432a2c=_0x25a9b6(_0x2e3039[_0x57607a(0x4fe)],{'contentType':_0x57c18a[_0x57607a(0x88a)]['Media'],'label':_0xe38c75,'remoteId':_0x1a8709});if(this['subscriptionRequests'][_0x57607a(0x71d)](_0x432a2c)){if(_0x5fe3d0)throw new Error(_0x57607a(0x396));const _0x5daaf0=this[_0x57607a(0xab1)]['get'](_0x432a2c)[_0x57607a(0x260)]();if(_0x5daaf0[_0x57607a(0x65d)]===_0x5dab99[_0x57607a(0x65d)]&&_0x5daaf0[_0x57607a(0x810)](_0x483cca=>_0x5dab99[_0x57607a(0x988)](_0x483cca)))return;this[_0x57607a(0xaa5)][_0x57607a(0x7c9)][_0x57607a(0xa29)](this[_0x57607a(0xab1)][_0x57607a(0x4d1)](_0x432a2c)),this[_0x57607a(0xab1)][_0x57607a(0x6ea)](_0x432a2c),_0x5dab99=Array[_0x57607a(0x639)](new Set(_0x5dab99['concat'](_0x5daaf0))),this[_0x57607a(0x8e2)](_0x432a2c);}const _0x20211d=new _0x205ef4(_0x478464[_0x57607a(0x604)](_0x193781=>_0x193781[_0x57607a(0x2ff)]()),_0x4d2745,this['maxDistance'],_0x5dab99);this[_0x57607a(0xaa5)][_0x57607a(0x7c9)][_0x57607a(0xa95)](_0x20211d),this[_0x57607a(0xab1)][_0x57607a(0x72f)](_0x432a2c,_0x20211d),_0x20211d[_0x57607a(0x4f1)](this[_0x57607a(0xaa5)][_0x57607a(0x2e7)][_0x57607a(0x9cc)](),_0x1a8709,_0xe38c75,_0x5dab99,_0x57a96f),this[_0x57607a(0x409)](_0xe38c75,_0x1a8709,_0x5dab99,_0x57a96f,_0x432a2c,_0x20211d);}['clearSubscriptionRequestTimeout'](_0x9445e8){const _0x28f615=_0x332466;this[_0x28f615(0x8ab)][_0x28f615(0x71d)](_0x9445e8)&&(clearTimeout(this[_0x28f615(0x8ab)][_0x28f615(0x4d1)](_0x9445e8)),this[_0x28f615(0x8ab)][_0x28f615(0x6ea)](_0x9445e8));}[_0x332466(0x409)](_0x2ab932,_0x48a999,_0x4ce5f9,_0x5ee2ac,_0x21365a,_0x412517){const _0x22bf25=_0x332466;this[_0x22bf25(0x8e2)](_0x21365a),this[_0x22bf25(0x8ab)][_0x22bf25(0x72f)](_0x21365a,setTimeout(()=>{const _0x4eb771=_0x22bf25;this[_0x4eb771(0x8ab)]['delete'](_0x21365a);try{const _0x5f0181=_0x412517['chooseAnswer']();this[_0x4eb771(0x3cf)](_0x5f0181,_0x48a999,_0x2ab932,_0x21365a,_0x4ce5f9);}catch(_0x87a44){this[_0x4eb771(0x51a)](_0x2ab932,_0x48a999,_0x4ce5f9,_0x5ee2ac);}},0x7d0));}[_0x332466(0x824)](_0x2164ac,_0x1f08eb,_0xd5c08d,_0x413ea9,_0x510be8){const _0xd1a026=_0x332466,{subscriptionLabel:_0x50bf39}=this['getSubscriptionLabel'](_0x1f08eb,_0x413ea9),_0x50ba2d=this[_0xd1a026(0x6ef)](_0x50bf39),_0x40e657=_0x50ba2d?.['params'];_0x50ba2d&&(_0x50ba2d[_0xd1a026(0x219)](_0x413ea9,0x0),this[_0xd1a026(0x3d4)](_0xd5c08d,_0x57c18a['ContentType'][_0xd1a026(0x513)],_0x2164ac)),this['requestSubscription'](_0x1f08eb,_0x413ea9,_0x510be8,_0x40e657);}[_0x332466(0x6ef)](_0x3daf2f){const _0x53a4ff=_0x332466,_0x34c221=this['maps'][_0x53a4ff(0x4c6)]['get'](_0x3daf2f);if(_0x34c221){if(!(_0x34c221 instanceof _0x2650d2))throw new _0x1ba31e(_0x1ba31e[_0x53a4ff(0x631)][_0x53a4ff(0x342)],{'label':_0x3daf2f,'subscription':_0x34c221});return _0x34c221;}}[_0x332466(0x363)](_0xa4fe34,_0x59a12d){const _0x52e651=_0x332466,_0x146a7e=this[_0x52e651(0x48a)](_0xa4fe34,_0x59a12d);return{'parts':_0x146a7e,'subscriptionLabel':_0x25a9b6(_0x2e3039[_0x52e651(0x4fe)],_0x146a7e)};}[_0x332466(0x48a)](_0x46923b,_0x44c2ba){const _0x6de09b=_0x332466,_0x520226=this[_0x6de09b(0xaa5)][_0x6de09b(0x7c9)][_0x6de09b(0x31a)](_0x44c2ba,_0x46923b),_0x4458a3=_0x520226[_0x6de09b(0x6d7)]();if(!_0x4458a3)throw new _0x1ba31e(_0x1ba31e[_0x6de09b(0x631)][_0x6de09b(0x4e8)],{'label':_0x46923b,'streamId':_0x520226[_0x6de09b(0x189)](),'ownerId':_0x44c2ba,'localId':this['configs']['localNode'][_0x6de09b(0x9cc)]()});return{'contentType':_0x57c18a['ContentType'][_0x6de09b(0x513)],'label':_0x520226[_0x6de09b(0x189)](),'remoteId':_0x4458a3};}[_0x332466(0x568)](_0x4e6770,_0x1d4c93,_0x2f1ffb,_0x34ea68){const _0x18f5e3=_0x332466,_0x54e264=_0x34ea68['getProviderId']();if(_0x54e264&&_0x54e264!==_0x4e6770[_0x18f5e3(0x6e6)]){const {parts:_0x4a75e5,subscriptionLabel:_0x1161b1}=this[_0x18f5e3(0x363)](_0x2f1ffb,_0x1d4c93),_0x38898c=this['getMediaSubscription'](_0x1161b1);_0x38898c&&(_0x38898c[_0x18f5e3(0x219)](_0x1d4c93,0x0),this[_0x18f5e3(0x3d4)](_0x4a75e5[_0x18f5e3(0x308)],_0x4a75e5[_0x18f5e3(0x49a)],_0x4a75e5['remoteId']));}}}class _0x2730de{[_0x332466(0xaa5)];[_0x332466(0x674)];[_0x332466(0x1cc)];constructor(_0x2ecbae,_0xa74573){const _0x2ff66b=_0x332466;this[_0x2ff66b(0xaa5)]=_0x2ecbae,this['maxOutgoingSubscriptions']=_0xa74573,this[_0x2ff66b(0x1cc)]=new _0x20ae7e(({source:_0x543563,destination:_0x29ba61})=>_0x1e5381(_0x543563,_0x29ba61));}['createSubscription'](_0x13c16a,_0x49febd){const _0x549fec=_0x332466,_0x36aa34={'source':_0x13c16a,'destination':_0x49febd};this[_0x549fec(0x1cc)]['createSubscription'](_0x2e3039['Outgoing'],_0x36aa34);}['removeSubscription'](_0x5ec903,_0x3aa265,_0xb976ef=''){const _0x14d36b=_0x332466,_0x5369f9={'contentType':_0x3aa265,'label':_0x5ec903,'remoteId':_0xb976ef};this[_0x14d36b(0x1cc)]['removeSubscription'](_0x5369f9,_0x2e3039['Outgoing']);}['handleSubscriptionSubscribeMediaStream'](_0x4e7da7,_0x1e1f7e){const _0xce482f=_0x332466;let _0x430874;_0x430874=_0x1e1f7e['ownerId']!==this[_0xce482f(0xaa5)]['localNode'][_0xce482f(0x9cc)]()?this[_0xce482f(0xaa5)][_0xce482f(0x7c9)][_0xce482f(0x31a)](_0x1e1f7e[_0xce482f(0x28c)],_0x1e1f7e[_0xce482f(0x308)]):this[_0xce482f(0xaa5)]['mediator'][_0xce482f(0x56c)](_0x1e1f7e[_0xce482f(0x308)]);const _0x1a5a6e=_0x25a9b6(_0x2e3039[_0xce482f(0x7f9)],{'contentType':_0x57c18a[_0xce482f(0x88a)][_0xce482f(0x513)],'label':_0x430874[_0xce482f(0x34d)](),'remoteId':_0x4e7da7}),_0x44e783=this[_0xce482f(0xa41)]();if(!this[_0xce482f(0x1cc)][_0xce482f(0x4c6)]['has'](_0x1a5a6e)&&_0x44e783>=this[_0xce482f(0x674)])return{'type':_0x7a6e1d[_0xce482f(0x57a)],'ownerId':_0x1e1f7e['ownerId'],'label':_0x1e1f7e[_0xce482f(0x308)],'streamId':_0x430874[_0xce482f(0x34d)](),'trackKinds':_0x1e1f7e[_0xce482f(0x926)],'params':_0x1e1f7e[_0xce482f(0x72b)]};_0x430874 instanceof _0x2dc02d&&!_0x430874['isSubscribed'](_0x1e1f7e[_0xce482f(0x926)])&&_0x430874[_0xce482f(0x3cf)](_0x1e1f7e[_0xce482f(0x72b)]),this[_0xce482f(0x1cc)]['subscriptions'][_0xce482f(0x71d)](_0x1a5a6e)||this[_0xce482f(0x415)](_0x430874[_0xce482f(0x540)](_0x4e7da7),this['configs']['mediator'][_0xce482f(0x35a)](_0x4e7da7));}[_0x332466(0x9a0)](_0xda41c6,{label:_0x749b68,ownerId:_0x251187,remainingTracks:_0x2cc6b7}){const _0x379210=_0x332466;if(_0x2cc6b7>0x0)return;let _0x2edbdd;_0x2edbdd=_0x251187!==this['configs'][_0x379210(0x2e7)][_0x379210(0x9cc)]()?this[_0x379210(0xaa5)][_0x379210(0x7c9)][_0x379210(0x31a)](_0x251187,_0x749b68):this[_0x379210(0xaa5)][_0x379210(0x7c9)][_0x379210(0x56c)](_0x749b68);const _0x92802d=_0x2edbdd[_0x379210(0x34d)](),_0x5749ee=_0x57c18a[_0x379210(0x88a)][_0x379210(0x513)];this[_0x379210(0x3d4)](_0x92802d,_0x5749ee,_0xda41c6);}[_0x332466(0x661)](_0x1bc03f,{label:_0x529d17,ownerId:_0x2887f1,trackKinds:_0x3622c4}){const _0xe4490d=_0x332466;if(_0x1bc03f!==_0x2fb5ff)return[];let _0x28fcb5=[];for(const _0x484148 of this[_0xe4490d(0x1cc)][_0xe4490d(0x4c6)]){const {source:_0x2d39a4,destination:_0xe7da62}=_0x484148[0x1];_0x2d39a4['getLabel']()===_0x529d17&&_0x2d39a4[_0xe4490d(0x2bf)]()===_0x2887f1&&_0x28fcb5[_0xe4490d(0x995)]({'sourceId':this[_0xe4490d(0xaa5)][_0xe4490d(0x2e7)]['getId'](),'destinationIds':[_0xe7da62['getRemoteId']()],'messageType':_0x2e0616[_0xe4490d(0x465)],'content':{'type':_0x7a6e1d[_0xe4490d(0xa33)],'label':_0x529d17,'ownerId':_0x2887f1,'trackKinds':_0x3622c4}});}return _0x28fcb5;}[_0x332466(0x34a)](_0x40a097,_0x4f042e){const _0x504874=_0x332466,{label:_0x221849,ownerId:_0x534b48,trackKinds:_0x16f759,params:_0x163e2a}=_0x4f042e,{hasTracks:_0x3012bb,streamId:_0x55b98e,hasResolution:_0x2fa47f,distance:_0x2da128,subscriptionLabel:_0xe2227e}=this[_0x504874(0x5ee)](_0x40a097,_0x4f042e);let _0x48fac9=this['getNumberOutgoingSubscriptions']()<this[_0x504874(0x674)]&&(_0x3012bb||_0x2da128>-0x1)?_0x7a6e1d[_0x504874(0x73d)]:_0x7a6e1d[_0x504874(0x7ad)];const _0x4ef38a=_0x2da128<0x0?0xa:_0x2da128;let _0xd1fd71=_0x3012bb?_0x2fa47f?_0x4ef38a:_0x4ef38a+0x0:_0x4ef38a+0xa;return _0xe2227e&&this['maps']['subscriptions'][_0x504874(0x71d)](_0xe2227e)&&(_0x3012bb&&(_0xd1fd71=0x0),_0x48fac9=_0x7a6e1d[_0x504874(0x73d)]),{'type':_0x48fac9,'cost':_0xd1fd71,'distance':_0x2da128,'label':_0x221849,'ownerId':_0x534b48,'streamId':_0x55b98e,'trackKinds':_0x16f759,'params':_0x163e2a};}[_0x332466(0x9bb)](_0x164b48){const _0x354ae2=_0x332466,{label:_0x1f627a,ownerId:_0x2bd30b}=_0x164b48,_0x20ec36=this[_0x354ae2(0xaa5)][_0x354ae2(0x7c9)][_0x354ae2(0x31a)](_0x2bd30b,_0x1f627a);this[_0x354ae2(0x1cc)][_0x354ae2(0x4c6)]['forEach'](_0x4963ce=>{const _0x3903ec=_0x354ae2;if(_0x4963ce[_0x3903ec(0x348)][_0x3903ec(0x189)]()===_0x20ec36[_0x3903ec(0x34d)]()){const _0x3c77b0=_0x4963ce['destination'];this[_0x3903ec(0x3d4)](_0x20ec36[_0x3903ec(0x34d)](),_0x57c18a[_0x3903ec(0x88a)][_0x3903ec(0x513)],_0x3c77b0[_0x3903ec(0x2ff)]());}});}['handleContentCloseMediaStream']({label:_0x5cea4f}){const _0x4a0f0a=_0x332466,_0x25971a=this[_0x4a0f0a(0xaa5)][_0x4a0f0a(0x7c9)][_0x4a0f0a(0x56c)](_0x5cea4f);this[_0x4a0f0a(0x1cc)][_0x4a0f0a(0x4c6)][_0x4a0f0a(0x602)](_0x271bff=>{const _0x169851=_0x4a0f0a;if(_0x271bff[_0x169851(0x348)][_0x169851(0x189)]()===_0x25971a[_0x169851(0x34d)]()){const _0x5977ad=_0x271bff[_0x169851(0x529)];this[_0x169851(0x3d4)](_0x25971a[_0x169851(0x34d)](),_0x57c18a[_0x169851(0x88a)][_0x169851(0x513)],_0x5977ad[_0x169851(0x2ff)]());}});}[_0x332466(0x337)](_0x4f5081){this['maps']['removeSubscriptionsForNode'](_0x4f5081);}['close'](){const _0xab2199=_0x332466;this['maps'][_0xab2199(0x4c6)][_0xab2199(0x602)](this[_0xab2199(0x9bc)][_0xab2199(0x531)](this));}[_0x332466(0x9bc)](_0x3f0efa,_0x4501c7){const _0x119ff6=_0x332466;this[_0x119ff6(0x1cc)]['closeSubscription'](_0x3f0efa,_0x4501c7);}[_0x332466(0x5ee)](_0x5ceb89,{label:_0x4b282a,ownerId:_0x4cbf43,trackKinds:_0x5d24b5,params:_0x34637e}){const _0x3404f3=_0x332466;if(_0x4cbf43!==this[_0x3404f3(0xaa5)]['localNode'][_0x3404f3(0x9cc)]()){const _0x3ad7f3=this[_0x3404f3(0xaa5)]['mediator']['getRemoteMediaStream'](_0x4cbf43,_0x4b282a);return _0x3ad7f3&&_0x3ad7f3[_0x3404f3(0x6d7)]()!==_0x5ceb89?{'hasTracks':_0x3ad7f3[_0x3404f3(0x7d6)](_0x5d24b5),'hasResolution':this['canProvideResolution'](_0x3ad7f3[_0x3404f3(0x8ea)](),_0x34637e),'streamId':_0x3ad7f3[_0x3404f3(0x34d)](),'distance':this[_0x3404f3(0xaa5)][_0x3404f3(0x7c9)][_0x3404f3(0x291)](_0x5ceb89,_0x4cbf43),'subscriptionLabel':_0x25a9b6(_0x2e3039[_0x3404f3(0x7f9)],{'contentType':_0x57c18a[_0x3404f3(0x88a)]['Media'],'label':_0x3ad7f3['getShareableStreamId'](),'remoteId':_0x5ceb89})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x112967=this[_0x3404f3(0xaa5)]['mediator'][_0x3404f3(0x56c)](_0x4b282a);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x112967[_0x3404f3(0x34d)](),'distance':0x0,'subscriptionLabel':_0x25a9b6(_0x2e3039[_0x3404f3(0x7f9)],{'contentType':_0x57c18a['ContentType']['Media'],'label':_0x112967[_0x3404f3(0x34d)](),'remoteId':_0x5ceb89})};}[_0x332466(0xa41)](){const _0x4bb9fd=_0x332466;return Array[_0x4bb9fd(0x639)](this[_0x4bb9fd(0x1cc)][_0x4bb9fd(0x4c6)][_0x4bb9fd(0xa14)]())['filter'](([_0x2235b9,{source:_0x551bf7}])=>_0x2235b9[_0x4bb9fd(0x423)](_0x2e3039[_0x4bb9fd(0x7f9)])&&_0x551bf7[_0x4bb9fd(0x62f)]()===_0x57c18a['ContentType'][_0x4bb9fd(0x513)])['length'];}[_0x332466(0x81a)](_0x2fb42f,_0x545155){const _0xe4a90b=_0x332466;if(!_0x545155||!_0x545155['video']||_0xe4a90b(0x27d)==typeof _0x545155[_0xe4a90b(0x3f7)]||!_0x545155['video'][_0xe4a90b(0x2c8)])return!0x0;const {width:_0xa956ba,height:_0x23bed6}=_0x545155['video'][_0xe4a90b(0x2c8)];return _0x2fb42f[_0xe4a90b(0x7b2)]>=_0xa956ba&&_0x2fb42f['height']>=_0x23bed6;}}class _0x1abc69{[_0x332466(0xaa5)];[_0x332466(0x674)];[_0x332466(0x5d7)];['systemTopic'];[_0x332466(0xab0)];[_0x332466(0x732)];constructor(_0x405749,_0x1f671a,_0x437af3){const _0x57e043=_0x332466;this['configs']=_0x405749,this[_0x57e043(0x674)]=_0x1f671a,this[_0x57e043(0x5d7)]=_0x437af3,this['configs'][_0x57e043(0x7c9)][_0x57e043(0xa95)](this),this[_0x57e043(0xab0)]=new _0xbe90ab(this[_0x57e043(0xaa5)],this[_0x57e043(0x5d7)]),this['outgoingManager']=new _0x2730de(this[_0x57e043(0xaa5)],this['maxOutgoingSubscriptions']);}[_0x332466(0x4bd)](_0x4ae18a){const _0x6c7b53=_0x332466;this[_0x6c7b53(0x380)]=_0x4ae18a;}[_0x332466(0x3bf)](){const _0x51be35=_0x332466;delete this[_0x51be35(0x380)];}[_0x332466(0x1db)](){const _0x5ee43a=_0x332466;this[_0x5ee43a(0xab0)]['close'](),this['outgoingManager'][_0x5ee43a(0x1db)](),this[_0x5ee43a(0xaa5)][_0x5ee43a(0x7c9)]['unregisterSystemSource'](this);}[_0x332466(0x856)](_0x1e426b,_0x1159d2){const _0x260923=_0x332466;this[_0x260923(0xab0)]['createSubscription'](_0x1e426b,_0x1159d2);}[_0x332466(0x641)](_0x15b8f7,_0x5246ab){const _0x362ae6=_0x332466;this[_0x362ae6(0x732)][_0x362ae6(0x415)](_0x15b8f7,_0x5246ab);}[_0x332466(0x3d6)](_0x306078,_0x10b3d8,_0xca57e5=''){const _0x31073b=_0x332466;this['incomingManager'][_0x31073b(0x3d4)](_0x306078,_0x10b3d8,_0xca57e5);}[_0x332466(0x919)](_0x246026,_0x46e7cd,_0x497bfe=''){const _0x5362a2=_0x332466;try{this['outgoingManager'][_0x5362a2(0x3d4)](_0x246026,_0x46e7cd,_0x497bfe);}catch(_0x13d377){if(_0x13d377 instanceof _0x1ba31e&&_0x13d377['code']===_0x1ba31e[_0x5362a2(0x631)]['InvalidSubscription'])return;}}['handleSubscriptionSystemEvents'](_0x20b423){const _0x173d04=_0x332466;switch(_0x20b423['content'][_0x173d04(0x5a0)]){case _0x7a6e1d['SubscribeMediaStream']:this['handleSubscriptionSubscribeMediaStream'](_0x20b423[_0x173d04(0x41f)],_0x20b423[_0x173d04(0x4cb)]);break;case _0x7a6e1d[_0x173d04(0x8b4)]:this[_0x173d04(0x732)][_0x173d04(0x9a0)](_0x20b423['sourceId'],_0x20b423[_0x173d04(0x4cb)]);break;case _0x7a6e1d[_0x173d04(0x961)]:this[_0x173d04(0x34a)](_0x20b423[_0x173d04(0x41f)],_0x20b423['content']);break;case _0x7a6e1d['RestartNeedMediaStream']:this[_0x173d04(0xab0)]['handleSubscriptionRestartNeedMediaStream'](_0x20b423[_0x173d04(0x41f)],_0x20b423[_0x173d04(0x4cb)]);break;case _0x7a6e1d[_0x173d04(0x73d)]:case _0x7a6e1d['CannotProvideMediaStream']:this[_0x173d04(0xab0)][_0x173d04(0x5a7)](_0x20b423['sourceId'],_0x20b423[_0x173d04(0x4cb)]);break;case _0x7a6e1d[_0x173d04(0xa33)]:this['incomingManager']['handleSubscriptionMediaStreamUnavailable'](_0x20b423[_0x173d04(0x41f)],_0x20b423[_0x173d04(0x4cb)]);}}[_0x332466(0x31e)](_0x2df096){const _0x213021=_0x332466;switch(_0x2df096[_0x213021(0x4cb)][_0x213021(0x5a0)]){case _0x5d4388[_0x213021(0x54f)]:this[_0x213021(0xab0)]['handleContentUnpublishMediaStream'](_0x2df096[_0x213021(0x4cb)]),this[_0x213021(0x732)][_0x213021(0x9bb)](_0x2df096['content']);break;case _0x5d4388[_0x213021(0x77b)]:this[_0x213021(0xab0)][_0x213021(0x2d1)](_0x2df096[_0x213021(0x4cb)]);break;case _0x5d4388[_0x213021(0x982)]:this[_0x213021(0xab0)][_0x213021(0x328)](_0x2df096[_0x213021(0x4cb)]);break;case _0x5d4388[_0x213021(0x8b4)]:this[_0x213021(0x661)](_0x2df096[_0x213021(0x41f)],_0x2df096[_0x213021(0x4cb)]);break;case _0x5d4388['CloseMediaStream']:this[_0x213021(0x732)][_0x213021(0x816)](_0x2df096[_0x213021(0x4cb)]);break;case _0x5d4388[_0x213021(0x930)]:this['handleCloseContent'](_0x2df096['content']['label'],_0x57c18a[_0x213021(0x88a)]['PubSub']);break;case _0x5d4388[_0x213021(0x9db)]:this[_0x213021(0x7e5)](_0x2df096[_0x213021(0x4cb)][_0x213021(0x308)],_0x57c18a[_0x213021(0x88a)][_0x213021(0x59e)]);break;case _0x5d4388[_0x213021(0x1bb)]:this[_0x213021(0x7e5)](_0x2df096[_0x213021(0x4cb)]['label'],_0x57c18a[_0x213021(0x88a)][_0x213021(0x4b7)]);break;case _0x5d4388[_0x213021(0x636)]:this[_0x213021(0x7e5)](_0x2df096[_0x213021(0x4cb)][_0x213021(0x308)],_0x57c18a[_0x213021(0x88a)][_0x213021(0x3c4)]);break;case _0x5d4388[_0x213021(0x32e)]:this[_0x213021(0x7e5)](_0x2df096['content']['label'],_0x57c18a[_0x213021(0x88a)][_0x213021(0x730)]);break;case _0x5d4388['CloseGraphDatabase']:this[_0x213021(0x7e5)](_0x2df096[_0x213021(0x4cb)][_0x213021(0x308)],_0x57c18a[_0x213021(0x88a)]['GraphDatabase']);break;case _0x5d4388['CloseJobDispatcher']:case _0x5d4388[_0x213021(0x3d0)]:this[_0x213021(0x7e5)](_0x2df096[_0x213021(0x4cb)][_0x213021(0x308)],_0x57c18a[_0x213021(0x88a)][_0x213021(0x26b)]);break;case _0x5d4388[_0x213021(0x3fa)]:this[_0x213021(0xab0)]['handleContentRemoteMediaStreamTrackFail'](_0x2df096['content']);}}[_0x332466(0x524)]({content:_0x6b7ee}){const _0x35e55c=_0x332466;_0x6b7ee['type']===_0x4aea6e[_0x35e55c(0x1b3)]&&this[_0x35e55c(0x337)](_0x6b7ee);}[_0x332466(0x73f)](_0x22011d){const _0x261711=_0x332466;_0x22011d[_0x261711(0x4cb)][_0x261711(0x5a0)]===_0x435a1f[_0x261711(0x6c8)]&&this['incomingManager'][_0x261711(0x455)](_0x22011d['sourceId']);}['handleContentUnsubscribeMediaStream'](_0x150cfd,_0x2c9618){const _0x4e7635=_0x332466;this[_0x4e7635(0xab0)][_0x4e7635(0x661)](_0x2c9618),this[_0x4e7635(0x732)][_0x4e7635(0x661)](_0x150cfd,_0x2c9618)['forEach'](_0x12881e=>this[_0x4e7635(0x380)][_0x4e7635(0x778)](_0x12881e));}[_0x332466(0x968)](_0x4ecb37,_0x9e281d){const _0x5f04f6=_0x332466,_0x414f27=this[_0x5f04f6(0x732)][_0x5f04f6(0x968)](_0x4ecb37,_0x9e281d);if(_0x414f27&&(this['systemTopic'][_0x5f04f6(0x778)]({'sourceId':this[_0x5f04f6(0xaa5)][_0x5f04f6(0x2e7)][_0x5f04f6(0x9cc)](),'destinationIds':[_0x4ecb37],'messageType':_0x2e0616['Subscription'],'content':_0x414f27}),_0x414f27['type']===_0x7a6e1d[_0x5f04f6(0x57a)]))throw new _0x24755f(_0x5f04f6(0x481));}['handleSubscriptionNeedMediaStream'](_0xdbf511,_0x209ff){const _0x749a16=_0x332466,_0x3cbd38=this['outgoingManager'][_0x749a16(0x34a)](_0xdbf511,_0x209ff);this[_0x749a16(0x380)][_0x749a16(0x778)]({'sourceId':this['configs']['localNode'][_0x749a16(0x9cc)](),'destinationIds':[_0xdbf511],'messageType':_0x2e0616['Subscription'],'content':_0x3cbd38});}[_0x332466(0x7e5)](_0x12234e,_0x171c58){const _0x11fd5b=_0x332466;this[_0x11fd5b(0x3d6)](_0x12234e,_0x171c58),this['removeOutgoingSubscription'](_0x12234e,_0x171c58);}['removeSubscriptionsForNode']({id:_0x276411}){const _0x163d2c=_0x332466;this[_0x163d2c(0xab0)][_0x163d2c(0x337)](_0x276411),this[_0x163d2c(0x732)][_0x163d2c(0x337)](_0x276411);}}class _0x7463e1{[_0x332466(0x308)];[_0x332466(0x583)]=_0x5ad0e0();constructor(){this['label']=0x0;}[_0x332466(0x2b5)](){const _0x32b779=_0x332466;return this[_0x32b779(0x308)];}[_0x332466(0x62f)](){const _0x32941c=_0x332466;return _0x57c18a['ContentType'][_0x32941c(0x707)];}[_0x332466(0x85c)](_0x445d6e){const _0x54d1cb=_0x332466;_0x445d6e[_0x54d1cb(0x4bd)](this);}[_0x332466(0x50f)](_0x3a1ad3){const _0x547686=_0x332466;_0x3a1ad3[_0x547686(0x3bf)]();}['publish'](_0x1c93ed){const _0x52cc3e=_0x332466;_0x833509[_0x52cc3e(0x5d5)](_0xebc42c[_0x52cc3e(0xa4b)],_0x52cc3e(0x956),_0x1c93ed[_0x52cc3e(0x41f)],_0x1c93ed),this[_0x52cc3e(0x583)]['publish']({'topicLabel':this[_0x52cc3e(0x308)],'contentType':_0x57c18a[_0x52cc3e(0x88a)][_0x52cc3e(0x707)],'uuid':_0x1c93ed[_0x52cc3e(0x3eb)]??(0x0,_0x74103e['v4'])(),'recipients':_0x1c93ed[_0x52cc3e(0x701)]??[],..._0x1c93ed});}[_0x332466(0x3cf)](_0x328ab7){const _0x3e8896=_0x332466;return this[_0x3e8896(0x583)]['subscribe'](_0x328ab7);}}class _0x2ac870{[_0x332466(0x3ca)];[_0x332466(0xa48)]=[];[_0x332466(0x2d6)];[_0x332466(0x8f7)]=new Map();[_0x332466(0x1c7)]=_0x5ad0e0();constructor(_0x147447){const _0xa4bfa8=_0x332466;this[_0xa4bfa8(0x3ca)]=_0x147447,this['maxLayer']=(this[_0xa4bfa8(0x3ca)][_0xa4bfa8(0x1b8)]-0x2*this[_0xa4bfa8(0x3ca)][_0xa4bfa8(0x70d)])/0x2,this[_0xa4bfa8(0xa48)][_0xa4bfa8(0x995)]({'start':0x1,'end':this[_0xa4bfa8(0x37d)](0x1,0x1)-0x1});for(let _0x10f9ff=0x0;_0x10f9ff<this[_0xa4bfa8(0x2d6)];++_0x10f9ff)this['ranges'][_0xa4bfa8(0x995)]({'start':this['getNextTargetRank'](0x1,_0x10f9ff+0x1),'end':this[_0xa4bfa8(0x37d)](0x1,_0x10f9ff+0x2)-0x1});}['getNextTargetRank'](_0x36d16b,_0x4e4b1d=0x1){const _0xded48e=_0x332466;let _0x4b3aa2=this['options']['maxDistance']-this[_0xded48e(0x3ca)][_0xded48e(0x70d)],_0x23bc5b=0x1;for(let _0x4ec944=0x1;_0x4ec944<_0x4e4b1d;++_0x4ec944)_0x4b3aa2*=this[_0xded48e(0x3ca)][_0xded48e(0x5d7)]-this['options'][_0xded48e(0x70d)]-_0x4ec944,_0x23bc5b*=this[_0xded48e(0x3ca)][_0xded48e(0x5d7)]-this['options']['minConnections']-_0x4ec944+0x1;return _0x4b3aa2*this[_0xded48e(0x3ca)][_0xded48e(0x70d)]+_0x36d16b-_0x23bc5b;}[_0x332466(0xadb)](_0x3624bf){const _0x12df40=_0x332466;let _0x16644d=0x0;for(;this[_0x12df40(0xa48)][_0x16644d][_0x12df40(0x501)]<_0x3624bf;)_0x16644d+=0x1;return _0x16644d;}[_0x332466(0x544)](){const _0x2a6a5c=_0x332466;return this[_0x2a6a5c(0x3ca)][_0x2a6a5c(0x70d)];}['getMaxConnections'](){const _0x1ac699=_0x332466;return this[_0x1ac699(0x3ca)][_0x1ac699(0x1b8)];}[_0x332466(0x791)](){const _0x43196d=_0x332466;return this[_0x43196d(0x3ca)][_0x43196d(0x5d7)];}[_0x332466(0x860)](){const _0x5271b4=_0x332466;return this[_0x5271b4(0x8f7)];}[_0x332466(0xa09)](_0x2fd2b4,_0x29a7f6){const _0x1093cb=_0x332466;this['remoteNodes'][_0x1093cb(0x72f)](_0x2fd2b4,_0x29a7f6),this[_0x1093cb(0x1c7)][_0x1093cb(0x778)]();}[_0x332466(0x29e)](_0x455f86){const _0x59246e=_0x332466;this['remoteNodes'][_0x59246e(0x6ea)](_0x455f86),this[_0x59246e(0x1c7)][_0x59246e(0x778)]();}['hasRemoteNode'](_0x483601){const _0x8caa09=_0x332466;return this['remoteNodes'][_0x8caa09(0x71d)](_0x483601);}[_0x332466(0x53a)](_0x54fbfb){const _0x3701f8=_0x332466;return this['remoteNodes'][_0x3701f8(0x4d1)](_0x54fbfb);}[_0x332466(0x6ed)](_0x2f0239,_0x20ab4e){const _0xf020f8=_0x332466,_0x19e145=this[_0xf020f8(0x53a)](_0x20ab4e)?.[_0xf020f8(0x60c)]()??0x0;return _0x2f0239['map'](_0x11588f=>this[_0xf020f8(0x53a)](_0x11588f))[_0xf020f8(0x962)](_0x51189a=>void 0x0!==_0x51189a)[_0xf020f8(0xa4f)]((_0x3dcaae,_0x22cfcd)=>Math[_0xf020f8(0xa8b)](_0x19e145-(_0x3dcaae&&_0x3dcaae['getRank']()||0x1/0x0))-Math[_0xf020f8(0xa8b)](_0x19e145-(_0x22cfcd&&_0x22cfcd[_0xf020f8(0x60c)]()||0x1/0x0)))['map'](_0x375f9a=>_0x375f9a['getId']());}[_0x332466(0x697)](_0x1a68d5){const _0x28dc10=_0x332466;return this['nodeUpdate'][_0x28dc10(0x3cf)](_0x1a68d5);}}class _0x45b745{[_0x332466(0x640)];[_0x332466(0x762)];[_0x332466(0x1c2)];[_0x332466(0x685)];[_0x332466(0x3ca)];[_0x332466(0xaa5)];[_0x332466(0x84b)];[_0x332466(0x2b8)];[_0x332466(0x256)];[_0x332466(0x6a6)];['statsManager'];['detectionManager'];['remediationManager'];[_0x332466(0xa7d)];[_0x332466(0x9ab)];[_0x332466(0x380)]=new _0x7463e1();[_0x332466(0x966)];[_0x332466(0x2e7)];constructor(_0x3a85f7,_0xb349c4,_0x133f74,_0x359fbc,_0x2d3b00,_0x165568,_0x2265ff){const _0xa018a9=_0x332466;switch(this['vendorId']=_0x3a85f7,this[_0xa018a9(0x762)]=_0xb349c4,this[_0xa018a9(0x1c2)]=_0x133f74,this['authService']=_0x359fbc,this[_0xa018a9(0x3ca)]=_0x2d3b00,this[_0xa018a9(0xaa5)]=_0x165568,this[_0xa018a9(0x84b)]=_0x2265ff,_0x133f74[_0xa018a9(0x5a0)]){case _0x57c18a[_0xa018a9(0x780)][_0xa018a9(0x584)]:this[_0xa018a9(0x2e7)]=new _0x1063bc(_0x133f74[_0xa018a9(0x9cc)](),_0x133f74[_0xa018a9(0x1d7)](),_0x133f74['getEmail']());break;case _0x57c18a['NodeType'][_0xa018a9(0x6cd)]:default:this['localNode']=new _0x2e4074(_0x133f74['getId']());}const _0x58d527=this['getConfigs']();this[_0xa018a9(0x9ab)]=new _0x2ac870(this[_0xa018a9(0x3ca)]),this[_0xa018a9(0x2b8)]=new _0x4bb35b(_0x58d527,this[_0xa018a9(0x3ca)],this[_0xa018a9(0xaa5)][_0xa018a9(0x9a8)],this[_0xa018a9(0xaa5)][_0xa018a9(0x6bd)]),this[_0xa018a9(0x256)]=new _0x6eb377(_0x58d527,this[_0xa018a9(0x685)],this[_0xa018a9(0x9ab)],this[_0xa018a9(0xaa5)][_0xa018a9(0x93c)],this[_0xa018a9(0x3ca)]),this[_0xa018a9(0x6a6)]=new _0x1abc69(_0x58d527,this[_0xa018a9(0x3ca)][_0xa018a9(0x674)],this[_0xa018a9(0x9ab)][_0xa018a9(0x791)]()),this[_0xa018a9(0xa1b)]=new _0x231438(_0x58d527),this[_0xa018a9(0x72c)]=new _0x248d83(_0x58d527),this[_0xa018a9(0x724)]=new _0x3e92a5(_0x58d527),this[_0xa018a9(0xa7d)]=new _0x11f7d5(_0x58d527,this[_0xa018a9(0x9ab)]),this[_0xa018a9(0x966)]=this[_0xa018a9(0x9f6)]();}[_0x332466(0x59f)](){const _0x1aa44e=_0x332466,_0x472efc=this[_0x1aa44e(0x6c5)]();this['connectionManager']=new _0x6eb377(_0x472efc,this[_0x1aa44e(0x685)],this[_0x1aa44e(0x9ab)],this[_0x1aa44e(0xaa5)]['iceServers'],this[_0x1aa44e(0x3ca)]),this[_0x1aa44e(0x6a6)]=new _0x1abc69(_0x472efc,this[_0x1aa44e(0x3ca)][_0x1aa44e(0x674)],this['graphService']['getMaxDistance']()),this['statsManager']=new _0x231438(_0x472efc),this['detectionManager']=new _0x248d83(_0x472efc),this[_0x1aa44e(0x724)]=new _0x3e92a5(_0x472efc),this[_0x1aa44e(0xa7d)]=new _0x11f7d5(_0x472efc,this['graphService']);const _0x52b148=this[_0x1aa44e(0x256)][_0x1aa44e(0x88c)]();this[_0x1aa44e(0x2b8)][_0x1aa44e(0xa7c)]()[_0x1aa44e(0x602)](_0x2041ef=>{const _0x40f1d8=_0x1aa44e;this['subscriptionManager'][_0x40f1d8(0x641)](_0x2041ef,_0x52b148),this['subscriptionManager'][_0x40f1d8(0x856)](_0x52b148,_0x2041ef),_0x2041ef['reset']();}),this[_0x1aa44e(0x2b8)]['getObjectStoreBuckets']()['forEach'](_0x2ecb4f=>{const _0x588ad6=_0x1aa44e;this[_0x588ad6(0x6a6)][_0x588ad6(0x641)](_0x2ecb4f,_0x52b148),this[_0x588ad6(0x6a6)][_0x588ad6(0x856)](_0x52b148,_0x2ecb4f),_0x2ecb4f['reset'](),_0x2ecb4f['sync']();}),this['contentManager'][_0x1aa44e(0x948)]()['forEach'](_0x49bf0e=>{const _0x46102e=_0x1aa44e;this['subscriptionManager'][_0x46102e(0x641)](_0x49bf0e,_0x52b148),this['subscriptionManager'][_0x46102e(0x856)](_0x52b148,_0x49bf0e),_0x49bf0e[_0x46102e(0x357)](),this[_0x46102e(0x5fc)](_0x49bf0e);}),this[_0x1aa44e(0x2b8)][_0x1aa44e(0x76d)]()[_0x1aa44e(0x602)](_0x59e358=>{const _0x45ade7=_0x1aa44e;this[_0x45ade7(0x6a6)]['createOutgoingSubscription'](_0x59e358,_0x52b148),this[_0x45ade7(0x6a6)]['createIncomingSubscription'](_0x52b148,_0x59e358),_0x59e358['reset']();}),this[_0x1aa44e(0x2b8)][_0x1aa44e(0x6b7)]()[_0x1aa44e(0x602)](_0x4a8fec=>{const _0x206062=_0x1aa44e;this[_0x206062(0x6a6)][_0x206062(0x641)](_0x4a8fec,_0x52b148),this[_0x206062(0x6a6)][_0x206062(0x856)](_0x52b148,_0x4a8fec),_0x4a8fec[_0x206062(0x357)]();}),this['contentManager'][_0x1aa44e(0x1cb)]()['forEach'](_0x243d13=>{const _0x3379a7=_0x1aa44e;this['subscriptionManager'][_0x3379a7(0x641)](_0x243d13,_0x52b148),this['subscriptionManager'][_0x3379a7(0x856)](_0x52b148,_0x243d13),_0x243d13[_0x3379a7(0x357)]();}),this[_0x1aa44e(0x2b8)][_0x1aa44e(0x9ee)]()['forEach'](_0x1fa9c6=>{const _0x40c09a=_0x1aa44e;this[_0x40c09a(0x6a6)][_0x40c09a(0x641)](_0x1fa9c6,_0x52b148),this[_0x40c09a(0x6a6)][_0x40c09a(0x856)](_0x52b148,_0x1fa9c6),_0x1fa9c6[_0x40c09a(0x357)]();}),this[_0x1aa44e(0x966)]=this[_0x1aa44e(0x9f6)]();}[_0x332466(0xa95)](_0x37789d){const _0x3d5162=_0x332466;try{this[_0x3d5162(0x380)]['registerSource'](_0x37789d);}catch(_0x95393d){this[_0x3d5162(0x239)](_0x95393d,{});}}[_0x332466(0xa29)](_0xd3a4e0){const _0x5bacb5=_0x332466;try{this[_0x5bacb5(0x380)]['unregisterSource'](_0xd3a4e0);}catch(_0x20b14d){this[_0x5bacb5(0x239)](_0x20b14d,{});}}['createConnection'](_0x2208cf,_0x2da91b){const _0x147dbc=_0x332466;return this[_0x147dbc(0x256)][_0x147dbc(0x491)](_0x2208cf,_0x2da91b);}[_0x332466(0x35a)](_0x239122){const _0x33dd99=_0x332466;try{return this[_0x33dd99(0x256)][_0x33dd99(0x35a)](_0x239122);}catch(_0x242af6){throw this[_0x33dd99(0x239)](_0x242af6,{});}}[_0x332466(0x2a3)](_0x27a760){const _0x139f34=_0x332466;try{return this[_0x139f34(0x256)][_0x139f34(0x2a3)](_0x27a760);}catch(_0x34057b){throw this['handleError'](_0x34057b,{});}}['getRemoteMediaStream'](_0x54f848,_0x5c1f1e){const _0x57653f=_0x332466;try{return this[_0x57653f(0x2b8)][_0x57653f(0x3f0)](_0xc1ca73=>_0xc1ca73[_0x57653f(0x2bf)]()===_0x54f848&&_0xc1ca73[_0x57653f(0x2b5)]()===_0x5c1f1e)[0x0];}catch(_0x2a0eec){throw this[_0x57653f(0x239)](_0x2a0eec,{});}}[_0x332466(0x56c)](_0x656de){const _0x16ba1c=_0x332466;try{return this[_0x16ba1c(0x2b8)]['getLocalMediaStreams'](_0x19dcca=>_0x19dcca[_0x16ba1c(0x2b5)]()===_0x656de)[0x0];}catch(_0x1b7fba){throw this[_0x16ba1c(0x239)](_0x1b7fba,{});}}['notifyCluster']=(..._0x1de48a)=>{const _0x250755=_0x332466;try{return this[_0x250755(0x84b)][_0x250755(0x611)](..._0x1de48a);}catch(_0xd38d85){throw this[_0x250755(0x239)](_0xd38d85,{});}};[_0x332466(0x3a5)](_0x438c97){const _0x26b41c=_0x332466;try{this[_0x26b41c(0xa1b)][_0x26b41c(0x27e)](_0x438c97);}catch(_0x221003){throw this[_0x26b41c(0x239)](_0x221003,{});}}['unregisterRemoteNode'](_0x282abd){const _0x3974a0=_0x332466;try{this[_0x3974a0(0xa1b)][_0x3974a0(0x98b)](_0x282abd);}catch(_0x41e847){throw this[_0x3974a0(0x239)](_0x41e847,{});}}['collectStats'](_0x1753de){const _0x4e7e0d=_0x332466;return this[_0x4e7e0d(0x256)][_0x4e7e0d(0x83d)](_0x1753de);}async[_0x332466(0x2b2)](){const _0x4a6fdb=_0x332466;try{await this['connectionManager']['initialize']();const _0x2528b1=await this['nodeManager'][_0x4a6fdb(0x28f)]();for(const _0x5d1d4b of _0x2528b1)this['connectionManager']['createConnection'](_0x5d1d4b);}catch(_0x2df5f2){throw this[_0x4a6fdb(0x239)](_0x2df5f2,{});}}[_0x332466(0x689)](_0x18e5e0){const _0x324247=_0x332466;this[_0x324247(0x2e7)][_0x324247(0x5a0)]===_0x57c18a['NodeType'][_0x324247(0x584)]&&(this['localNode'][_0x324247(0x924)](_0x18e5e0[_0x324247(0x86f)]()),this[_0x324247(0x2e7)]['setDisplayName'](_0x18e5e0[_0x324247(0x1d7)]()));}['close']({force:_0x18f897=!0x1},_0x5e0136=!0x1){const _0x522b27=_0x332466;if(_0x833509[_0x522b27(0x671)]('orchestrator-close',{'clusterId':this[_0x522b27(0x762)],'nodeId':this[_0x522b27(0x2e7)]['getId'](),'nodeType':this[_0x522b27(0x2e7)][_0x522b27(0x5a0)]}),!_0x18f897&&this[_0x522b27(0x256)]['hasBufferedData']())throw new _0x212143(_0x198729[_0x522b27(0x7fc)],_0x522b27(0x3e9));_0x833509[_0x522b27(0x9bf)](),this[_0x522b27(0x966)](),this[_0x522b27(0x724)][_0x522b27(0x1db)](),this[_0x522b27(0x72c)][_0x522b27(0x1db)](),this[_0x522b27(0xa1b)]['close'](),this[_0x522b27(0x6a6)][_0x522b27(0x1db)](),this[_0x522b27(0x256)][_0x522b27(0x1db)](),this[_0x522b27(0x2b8)][_0x522b27(0x1db)](_0x5e0136),this[_0x522b27(0xa7d)]['close']();}[_0x332466(0xa97)](_0x160591){const _0x1ca1f4=_0x332466;try{const _0x201114=this[_0x1ca1f4(0x2b8)]['createPubSubTopic'](_0x160591),_0x1489fd=this[_0x1ca1f4(0x256)][_0x1ca1f4(0x88c)]();return this[_0x1ca1f4(0x6a6)][_0x1ca1f4(0x641)](_0x201114,_0x1489fd),this[_0x1ca1f4(0x6a6)][_0x1ca1f4(0x856)](_0x1489fd,_0x201114),_0x201114;}catch(_0x18c1c1){throw this[_0x1ca1f4(0x239)](_0x18c1c1,{});}}async[_0x332466(0xa9c)](_0x3c98a4,_0xbef0cc){const _0x5a93fa=_0x332466;try{const _0x21aae5=this[_0x5a93fa(0x2b8)]['createObjectStoreBucket'](_0x3c98a4,this[_0x5a93fa(0x3ca)][_0x5a93fa(0x66e)],_0xbef0cc),_0x688722=this[_0x5a93fa(0x256)][_0x5a93fa(0x88c)]();return this['subscriptionManager'][_0x5a93fa(0x641)](_0x21aae5,_0x688722),this[_0x5a93fa(0x6a6)][_0x5a93fa(0x856)](_0x688722,_0x21aae5),await _0x21aae5[_0x5a93fa(0x67f)](),_0x21aae5;}catch(_0x5bc485){throw this['handleError'](_0x5bc485,{});}}async[_0x332466(0x2e2)](_0x560685,_0x5c5c55){const _0x4ef3b3=_0x332466;try{if(!this['options'][_0x4ef3b3(0x5c7)])throw new _0x212143(_0x198729[_0x4ef3b3(0x511)],'Missing\x20external\x20storage\x20connector');if(!(this[_0x4ef3b3(0x1c2)]instanceof _0x4b681a))throw new _0x212143(_0x198729[_0x4ef3b3(0x341)],_0x4ef3b3(0x1e0));const _0x206945=this[_0x4ef3b3(0x3ca)][_0x4ef3b3(0x5c7)][_0x4ef3b3(0x4d1)](_0x5c5c55);if(!_0x206945)throw new _0x212143(_0x198729['ExternalStorageConnectorsMissing'],_0x4ef3b3(0x634));const _0x824a2c=this['contentManager'][_0x4ef3b3(0x21e)](_0x560685,_0x206945),_0x390415=this['connectionManager'][_0x4ef3b3(0x88c)]();return this[_0x4ef3b3(0x6a6)]['createOutgoingSubscription'](_0x824a2c,_0x390415),this[_0x4ef3b3(0x6a6)]['createIncomingSubscription'](_0x390415,_0x824a2c),await _0x824a2c[_0x4ef3b3(0x59f)](),_0x824a2c;}catch(_0x2086e4){throw this[_0x4ef3b3(0x239)](_0x2086e4,{});}}async[_0x332466(0x8bd)](_0x2bab12,_0x44c13a,_0x5c6a4c){const _0x3679bd=_0x332466;try{_0x5c6a4c=_0x5c6a4c||this[_0x3679bd(0x3ca)][_0x3679bd(0x6dc)];const _0x1c6e94=await this['contentManager']['createKeyValueDatabase'](_0x2bab12,_0x44c13a,_0x5c6a4c),_0x34e816=this[_0x3679bd(0x256)]['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0x1c6e94,_0x34e816),this['subscriptionManager'][_0x3679bd(0x856)](_0x34e816,_0x1c6e94),await _0x1c6e94[_0x3679bd(0x59f)](),this[_0x3679bd(0x5fc)](_0x1c6e94),_0x1c6e94;}catch(_0x382f93){throw this[_0x3679bd(0x239)](_0x382f93,{});}}async[_0x332466(0x43a)](_0x12227b){const _0x4a9210=_0x332466;try{const _0x5209e3=await this[_0x4a9210(0x2b8)]['createJobDispatcher'](_0x12227b,this[_0x4a9210(0x9ab)]),_0x5026b0=this[_0x4a9210(0x256)][_0x4a9210(0x88c)]();return this[_0x4a9210(0x6a6)]['createOutgoingSubscription'](_0x5209e3,_0x5026b0),this['subscriptionManager']['createIncomingSubscription'](_0x5026b0,_0x5209e3),_0x5209e3['open'](),_0x5209e3;}catch(_0x2e6703){throw this['handleError'](_0x2e6703,{});}}async[_0x332466(0x317)](_0x11bc6a){throw new Error('Method\x20not\x20supported');}async[_0x332466(0x6ae)](_0x18acf3){const _0x4a3df3=_0x332466;try{const _0x1c7586=await this[_0x4a3df3(0x2b8)]['createGenerativeAIContext'](_0x18acf3,this['graphService']),_0x5b5c3e=this[_0x4a3df3(0x256)][_0x4a3df3(0x88c)]();return this[_0x4a3df3(0x6a6)][_0x4a3df3(0x641)](_0x1c7586,_0x5b5c3e),this[_0x4a3df3(0x6a6)][_0x4a3df3(0x856)](_0x5b5c3e,_0x1c7586),_0x1c7586[_0x4a3df3(0x59f)](),_0x1c7586;}catch(_0x2b3d04){throw console[_0x4a3df3(0x998)](_0x2b3d04),this[_0x4a3df3(0x239)](_0x2b3d04,{});}}async['openGenerativeAIWorker'](_0xb19ff9){const _0x1e35c8=_0x332466;try{if(!this['options'][_0x1e35c8(0x2d2)]||!this[_0x1e35c8(0x3ca)][_0x1e35c8(0x575)]||!this[_0x1e35c8(0x3ca)][_0x1e35c8(0x6be)])throw new _0x212143(_0x198729[_0x1e35c8(0x35b)],_0x1e35c8(0x403));if(!(this[_0x1e35c8(0x1c2)]instanceof _0x4b681a))throw new _0x212143(_0x198729['NodeInvalidType'],'Node\x20is\x20not\x20an\x20agent');const _0x1c092e=[];for(const _0x8f65e3 of this[_0x1e35c8(0x3ca)]['generativeAIWorkerConnectors'])_0x1c092e[_0x1e35c8(0x995)](new _0x8f65e3());const _0x58b40a=new this['options'][(_0x1e35c8(0x575))](),_0x580263=new this[(_0x1e35c8(0x3ca))][(_0x1e35c8(0x6be))]();let _0x37f5e3,_0x264f8b,_0x826d3c;this[_0x1e35c8(0x3ca)][_0x1e35c8(0x51d)]&&(_0x37f5e3=new this['options']['searchConnector']()),this[_0x1e35c8(0x3ca)]['aiSearchConnector']&&(_0x264f8b=new this[(_0x1e35c8(0x3ca))][(_0x1e35c8(0x928))]()),this[_0x1e35c8(0x3ca)][_0x1e35c8(0x258)]&&(_0x826d3c=new this[(_0x1e35c8(0x3ca))]['queryFileConnector']());const _0x5d9f71=await this[_0x1e35c8(0x2b8)][_0x1e35c8(0x900)](_0xb19ff9,this[_0x1e35c8(0x1c2)],_0x1c092e,_0x58b40a,_0x580263,_0x37f5e3,_0x264f8b,_0x826d3c),_0x3dad7d=this[_0x1e35c8(0x256)][_0x1e35c8(0x88c)]();this[_0x1e35c8(0x6a6)][_0x1e35c8(0x641)](_0x5d9f71,_0x3dad7d),this[_0x1e35c8(0x6a6)]['createIncomingSubscription'](_0x3dad7d,_0x5d9f71);const _0x190736=this[_0x1e35c8(0xa7d)][_0x1e35c8(0x857)]();return await _0x5d9f71[_0x1e35c8(0x59f)](0x0===_0x190736[_0x1e35c8(0x65d)]||void 0x0),_0x5d9f71;}catch(_0x4d110f){throw this['handleError'](_0x4d110f,{});}}[_0x332466(0x65a)](_0xd3c824){const _0x383c90=_0x332466;try{if(!this[_0x383c90(0x3ca)][_0x383c90(0x1c3)])throw new _0x212143(_0x198729[_0x383c90(0x5c0)],_0x383c90(0x59c));if(!(this[_0x383c90(0x1c2)]instanceof _0x4b681a))throw new _0x212143(_0x198729['NodeInvalidType'],_0x383c90(0x1e0));const _0x487485=this[_0x383c90(0x2b8)][_0x383c90(0x69c)](_0xd3c824,this[_0x383c90(0x3ca)][_0x383c90(0x1c3)]),_0x31397b=this[_0x383c90(0x256)]['getConnectionGroup']();return this['subscriptionManager'][_0x383c90(0x641)](_0x487485,_0x31397b),this[_0x383c90(0x6a6)][_0x383c90(0x856)](_0x31397b,_0x487485),_0x487485;}catch(_0x4a2862){throw this[_0x383c90(0x239)](_0x4a2862,{});}}['openVectorDatabase'](_0xb72250){const _0x28aea9=_0x332466;try{if(!this[_0x28aea9(0x3ca)]['vectorDatabaseConnector'])throw new _0x212143(_0x198729[_0x28aea9(0x240)],_0x28aea9(0x8d6));if(!(this['authNode']instanceof _0x4b681a))throw new _0x212143(_0x198729[_0x28aea9(0x341)],'Node\x20is\x20not\x20an\x20agent');const _0x4ef561=this['contentManager'][_0x28aea9(0x2f2)](_0xb72250,this[_0x28aea9(0x3ca)][_0x28aea9(0x46f)]),_0x4b4300=this[_0x28aea9(0x256)][_0x28aea9(0x88c)]();return this[_0x28aea9(0x6a6)][_0x28aea9(0x641)](_0x4ef561,_0x4b4300),this[_0x28aea9(0x6a6)][_0x28aea9(0x856)](_0x4b4300,_0x4ef561),_0x4ef561;}catch(_0x30c6ed){throw this[_0x28aea9(0x239)](_0x30c6ed,{});}}[_0x332466(0xa7c)](_0x85af58){const _0x11aebc=_0x332466;try{return this[_0x11aebc(0x2b8)][_0x11aebc(0xa7c)](_0x85af58);}catch(_0x5cbd50){throw this[_0x11aebc(0x239)](_0x5cbd50,{});}}['getObjectStoreBuckets'](_0x3b0309){const _0x368743=_0x332466;try{return this[_0x368743(0x2b8)]['getObjectStoreBuckets'](_0x3b0309);}catch(_0x227666){throw this[_0x368743(0x239)](_0x227666,{});}}[_0x332466(0x855)](_0x36cb47){const _0x1f16d=_0x332466;try{return this['contentManager'][_0x1f16d(0x855)](_0x36cb47);}catch(_0x1cec20){throw this[_0x1f16d(0x239)](_0x1cec20,{});}}[_0x332466(0x948)](_0x2f842e){const _0x272795=_0x332466;try{return this[_0x272795(0x2b8)][_0x272795(0x948)](_0x2f842e);}catch(_0xd4c61d){throw this[_0x272795(0x239)](_0xd4c61d,{});}}[_0x332466(0x1c1)](_0x3fa7f1){const _0x4b943f=_0x332466;try{return this[_0x4b943f(0x2b8)][_0x4b943f(0x1c1)](_0x3fa7f1);}catch(_0x3b4bbf){throw this[_0x4b943f(0x239)](_0x3b4bbf,{});}}[_0x332466(0x5cc)](_0x39cf0d){const _0x4a723e=_0x332466;try{return this['contentManager']['getGenerativeAIWorkers'](_0x39cf0d);}catch(_0x208c42){throw this[_0x4a723e(0x239)](_0x208c42,{});}}['getGraphDatabases'](_0x530906){try{return this['contentManager']['getGraphDatabases'](_0x530906);}catch(_0x293603){throw this['handleError'](_0x293603,{});}}[_0x332466(0x4ae)](_0x3408e4,_0xd8139){const _0x295784=_0x332466;if(!this[_0x295784(0xaa5)][_0x295784(0x307)][_0x295784(0x988)](_0xc91d6f[_0x295784(0xae2)]))throw new _0x212143(_0x198729[_0x295784(0x642)],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x295784(0x4ae)](_0x3408e4,_0xd8139);}catch(_0x6c1bad){throw this[_0x295784(0x239)](_0x6c1bad,{});}}[_0x332466(0x3e6)](_0x55234c,_0x22c308){const _0x3e76c0=_0x332466;if(!this['configs']['features'][_0x3e76c0(0x988)](_0xc91d6f[_0x3e76c0(0xae2)]))throw new _0x212143(_0x198729[_0x3e76c0(0x642)],_0x3e76c0(0x576));try{return this[_0x3e76c0(0x2b8)][_0x3e76c0(0x3e6)](_0x55234c,_0x22c308);}catch(_0xf4fc7){throw this[_0x3e76c0(0x239)](_0xf4fc7,{});}}['getLocalMediaStreams'](_0xd86348){const _0x251c41=_0x332466;if(!this[_0x251c41(0xaa5)][_0x251c41(0x307)]['includes'](_0xc91d6f[_0x251c41(0xae2)]))throw new _0x212143(_0x198729[_0x251c41(0x642)],_0x251c41(0x576));try{return this['contentManager'][_0x251c41(0x259)](_0xd86348);}catch(_0xc9173f){throw this[_0x251c41(0x239)](_0xc9173f,{});}}['getRemoteMediaStreams'](_0x1b1e75){const _0x21f8c6=_0x332466;if(!this[_0x21f8c6(0xaa5)][_0x21f8c6(0x307)][_0x21f8c6(0x988)](_0xc91d6f[_0x21f8c6(0xae2)]))throw new _0x212143(_0x198729[_0x21f8c6(0x642)],_0x21f8c6(0x576));try{return this['contentManager'][_0x21f8c6(0x3f0)](_0x1b1e75);}catch(_0x502967){throw this[_0x21f8c6(0x239)](_0x502967,{});}}[_0x332466(0x1cb)](_0x59d18c){const _0x410af6=_0x332466;try{return this['contentManager'][_0x410af6(0x1cb)](_0x59d18c);}catch(_0x399c15){throw this[_0x410af6(0x239)](_0x399c15,{});}}[_0x332466(0x291)](_0x4373d4,_0x3eb938){const _0x57b109=_0x332466;return this[_0x57b109(0xa7d)][_0x57b109(0x291)](_0x4373d4,_0x3eb938);}[_0x332466(0x6fc)](){const _0x1d928c=_0x332466;return this[_0x1d928c(0xa7d)][_0x1d928c(0x6fc)]();}['getRemoteNodes'](_0x58e18b){const _0x26bba7=_0x332466;try{return this[_0x26bba7(0xa7d)][_0x26bba7(0x860)](_0x58e18b);}catch(_0x3611a3){throw this[_0x26bba7(0x239)](_0x3611a3,{});}}[_0x332466(0xa57)](){const _0x418800=_0x332466;return this[_0x418800(0x256)]['waitForArrayBufferSize']();}[_0x332466(0x4bb)](_0x5591c6){const _0x9ffd64=_0x332466;return this[_0x9ffd64(0xa7d)][_0x9ffd64(0x4bb)](_0x5591c6);}async['handleSystemEvents'](_0x4c0740){const _0x3f3e69=_0x332466;try{if(_0x833509[_0x3f3e69(0x5d5)](_0xebc42c[_0x3f3e69(0xa4b)],'Orchestrator\x20handleSystemEvents',this[_0x3f3e69(0xa7d)][_0x3f3e69(0x390)](),_0x4c0740),_0x46532b(_0x4c0740,this[_0x3f3e69(0xa7d)][_0x3f3e69(0x390)]()))return void this[_0x3f3e69(0x256)]['handleOutgoingSystemEvents'](_0x4c0740);switch(_0x4c0740[_0x3f3e69(0x1de)]){case _0x2e0616[_0x3f3e69(0x66b)]:this['statsManager'][_0x3f3e69(0x31e)](_0x4c0740),this['subscriptionManager'][_0x3f3e69(0x31e)](_0x4c0740),this['contentManager'][_0x3f3e69(0x31e)](_0x4c0740);break;case _0x2e0616['Node']:this['subscriptionManager']['handleNodeSystemEvents'](_0x4c0740),this['connectionManager'][_0x3f3e69(0x524)](_0x4c0740),this[_0x3f3e69(0x2b8)][_0x3f3e69(0x524)](_0x4c0740),this['nodeManager'][_0x3f3e69(0x524)](_0x4c0740);break;case _0x2e0616[_0x3f3e69(0x4ee)]:this[_0x3f3e69(0x724)][_0x3f3e69(0x8fd)](_0x4c0740);break;case _0x2e0616[_0x3f3e69(0x47a)]:this[_0x3f3e69(0x724)][_0x3f3e69(0x463)](_0x4c0740);break;case _0x2e0616[_0x3f3e69(0x9d0)]:this['detectionManager'][_0x3f3e69(0x3fd)](_0x4c0740);break;case _0x2e0616[_0x3f3e69(0x465)]:_0x4c0740[_0x3f3e69(0x4cb)]['type']!==_0x7a6e1d['UnsubscribeMediaStream']?(this[_0x3f3e69(0x6a6)][_0x3f3e69(0x876)](_0x4c0740),this['contentManager']['handleSubscriptionSystemEvents'](_0x4c0740)):(this['contentManager'][_0x3f3e69(0x876)](_0x4c0740),this[_0x3f3e69(0x6a6)][_0x3f3e69(0x876)](_0x4c0740));break;case _0x2e0616[_0x3f3e69(0x338)]:await this['connectionManager']['handlePeerConnectionSystemEvents'](_0x4c0740),this['statsManager'][_0x3f3e69(0x73f)](_0x4c0740),this[_0x3f3e69(0xa7d)][_0x3f3e69(0x73f)](_0x4c0740),this[_0x3f3e69(0x6a6)]['handlePeerConnectionSystemEvents'](_0x4c0740);}}catch(_0x160a7c){throw _0x833509[_0x3f3e69(0x914)](_0x3f3e69(0x574),_0x160a7c),this['handleError'](_0x160a7c,{});}}[_0x332466(0x239)](_0x30dd8d,_0xce4507){const _0x4cd02b=_0x332466;if(!(_0x30dd8d instanceof _0x24755f)){if(_0x30dd8d instanceof _0x212143)throw _0x30dd8d;if(!(_0x30dd8d instanceof Error))throw new _0x212143(_0x198729['InternalSDKError'],_0x4cd02b(0x70b)+_0x30dd8d);if(!(_0x30dd8d instanceof _0x1ba31e))throw new _0x212143(_0x198729[_0x4cd02b(0xa01)],_0x4cd02b(0xa61)+_0x30dd8d[_0x4cd02b(0x1e2)]);switch(_0x30dd8d[_0x4cd02b(0xaae)]){case _0x1ba31e['codes'][_0x4cd02b(0x899)]:case _0x1ba31e[_0x4cd02b(0x631)][_0x4cd02b(0x63c)]:case _0x1ba31e[_0x4cd02b(0x631)]['PeerConnectionInvalidDestination']:case _0x1ba31e[_0x4cd02b(0x631)][_0x4cd02b(0x588)]:case _0x1ba31e['codes']['ConnectionNotConnected']:case _0x1ba31e[_0x4cd02b(0x631)]['InvalidDataChannel']:case _0x1ba31e[_0x4cd02b(0x631)][_0x4cd02b(0x382)]:case _0x1ba31e[_0x4cd02b(0x631)][_0x4cd02b(0x90e)]:case _0x1ba31e[_0x4cd02b(0x631)][_0x4cd02b(0x4df)]:case _0x1ba31e[_0x4cd02b(0x631)][_0x4cd02b(0x1d8)]:case _0x1ba31e[_0x4cd02b(0x631)][_0x4cd02b(0x214)]:case _0x1ba31e[_0x4cd02b(0x631)][_0x4cd02b(0x342)]:}throw _0x833509[_0x4cd02b(0x998)](_0x4cd02b(0x750)+_0x30dd8d[_0x4cd02b(0x1e2)],{'clusterId':this[_0x4cd02b(0x762)],'nodeId':this[_0x4cd02b(0x2e7)][_0x4cd02b(0x9cc)](),'nodeType':this[_0x4cd02b(0x2e7)][_0x4cd02b(0x5a0)]},_0x30dd8d),new _0x212143(_0x198729['InternalSDKError'],_0x4cd02b(0x7f8)+_0x30dd8d[_0x4cd02b(0x1e2)]);}}[_0x332466(0x6c5)](){const _0x3f1990=_0x332466;return{'mediator':this,'vendorId':this[_0x3f1990(0x640)],'clusterId':this[_0x3f1990(0x762)],'localNode':this[_0x3f1990(0x2e7)]};}['initializeSystemTopic'](){const _0x3350e0=_0x332466;return this[_0x3350e0(0x380)][_0x3350e0(0x3cf)](_0x58893d=>{const _0x2a6abc=_0x3350e0,_0x39927e=_0x4ba98f(_0x58893d,this[_0x2a6abc(0x2e7)]['getId']()),_0x11f249=_0x58893d[_0x2a6abc(0x1de)]===_0x2e0616['Stats']||_0x58893d[_0x2a6abc(0x1de)]===_0x2e0616['PeerConnection']&&_0x58893d[_0x2a6abc(0x4cb)][_0x2a6abc(0x5a0)]===_0x435a1f[_0x2a6abc(0x9d0)]?_0xebc42c[_0x2a6abc(0x3c5)]:_0xebc42c[_0x2a6abc(0x2e4)];_0x833509[_0x2a6abc(0x97e)](_0x11f249,_0x58893d['uuid']+_0x2a6abc(0x23e)+_0x39927e,_0x58893d),this[_0x2a6abc(0x574)](_0x58893d)[_0x2a6abc(0x932)](_0x298e1e=>{const _0x590439=_0x2a6abc;console[_0x590439(0x998)](_0x298e1e);});});}async[_0x332466(0x5fc)](_0x35ff58){const _0x3bc4ce=_0x332466,{timingLogger:_0x1d061c,logger:_0x405b1b,logBeforeSync:_0x37682e,logAfterSync:_0x2d6339}=function(_0x514fcc,_0x3fe81f){const _0x5f0327=a0_0x5279;if(!_0x833509['isChannelEnabled'](_0x3fe81f))return _0x833509[_0x5f0327(0x914)](_0x5f0327(0x25e)+_0x3fe81f),{..._0x1c0391(_0x514fcc,_0x3fe81f),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x5d0402,logger:_0x215dac}=_0x1c0391(_0x514fcc,_0x3fe81f);let _0x546780=0x0;return _0x546780=Date[_0x5f0327(0x3f4)](),{'syncStartTime':_0x546780,'timingLogger':_0x5d0402,'logger':_0x215dac,'logBeforeSync':()=>(_0x5a78e8(_0x3fe81f,'Before\x20Synchronization'),_0x5d0402[_0x5f0327(0x3f4)]()),'logAfterSync':(_0x5a09c0,_0x1debcb)=>{const _0x224e66=_0x5f0327,_0x18a334=Date[_0x224e66(0x3f4)]();_0x5a78e8(_0x3fe81f,'After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20'+_0x1debcb);const _0x59a8f2=(_0x18a334-_0x546780)/0x3e8,_0x3b3c77=(_0x18a334-_0x5a09c0)/0x3e8;_0x833509['log'](_0x3fe81f,_0x224e66(0x715),_0x514fcc,_0x224e66(0x427)+_0x59a8f2['toFixed'](0x2)+'\x20seconds','\x0a\x20===\x20Wait\x20Time:\x20'+_0x3b3c77[_0x224e66(0x2f6)](0x3)+_0x224e66(0x8ff),_0x224e66(0x934)+((_0x18a334-_0x546780)/0x3e8-_0x3b3c77)['toFixed'](0x2)+'\x20seconds');}};}(_0x35ff58['getLabel'](),_0xebc42c[_0x3bc4ce(0x3c4)]);_0x405b1b[_0x3bc4ce(0x5d5)](_0x3bc4ce(0x2a5));const _0x359aa7=this[_0x3bc4ce(0xa7d)]['getAncestorIds']()[_0x3bc4ce(0x65d)]>0x0;if(_0x359aa7){_0x405b1b[_0x3bc4ce(0x5d5)](_0x3bc4ce(0x3ff),()=>this[_0x3bc4ce(0xa7d)][_0x3bc4ce(0x857)]()),_0x1d061c[_0x3bc4ce(0x365)](),await Promise[_0x3bc4ce(0x558)](this[_0x3bc4ce(0xa7d)][_0x3bc4ce(0x857)]()[_0x3bc4ce(0x604)](async _0x355e5b=>await this['nodeManager'][_0x3bc4ce(0x4bb)](_0x355e5b)))['catch'](_0x30ac99=>_0x833509[_0x3bc4ce(0x671)](_0x3bc4ce(0x6dd),{'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x3bc4ce(0x5a0)]}));const _0x764a96=_0x405b1b[_0x3bc4ce(0x9ac)](()=>this[_0x3bc4ce(0xa7d)][_0x3bc4ce(0x857)](),[]);_0x1d061c[_0x3bc4ce(0x866)](_0x3bc4ce(0x44c)+_0x764a96+_0x3bc4ce(0x96b));}_0x2d6339(_0x37682e(),await _0x35ff58[_0x3bc4ce(0x67f)](_0x359aa7,async()=>{const _0x427915=_0x3bc4ce;_0x1d061c[_0x427915(0x365)](),await this[_0x427915(0xa7d)][_0x427915(0x5b5)](),_0x1d061c[_0x427915(0x866)](_0x427915(0xaa4)),_0x35ff58['sync'](!0x0,()=>{const _0x2af1c8=_0x427915;_0x405b1b[_0x2af1c8(0x5d5)](_0x2af1c8(0x85f)),_0x35ff58[_0x2af1c8(0x67f)](!0x1);},!0x0);}));}}class _0x3d19ae{[_0x332466(0x640)];[_0x332466(0x762)];[_0x332466(0x1c2)];[_0x332466(0x1d4)];[_0x332466(0x688)];constructor(_0x1658a3,_0x4b3ab2,_0x3f45ac,_0x733818,_0x7b06d9,_0x5a861f,_0x20cbf4=new _0xf24467()){const _0xec28e0=_0x332466;this[_0xec28e0(0x640)]=_0x1658a3,this[_0xec28e0(0x762)]=_0x4b3ab2,this[_0xec28e0(0x1c2)]=_0x3f45ac,this[_0xec28e0(0x1d4)]=_0x20cbf4,this[_0xec28e0(0x688)]=new _0x45b745(this[_0xec28e0(0x640)],this[_0xec28e0(0x762)],_0x3f45ac,_0x733818,_0x7b06d9,_0x5a861f,this);}async[_0x332466(0x7d5)](){const _0x2d1b47=_0x332466;await this[_0x2d1b47(0x688)][_0x2d1b47(0x2b2)](),this[_0x2d1b47(0x1c2)][_0x2d1b47(0x5a0)]===_0x57c18a[_0x2d1b47(0x780)][_0x2d1b47(0x584)]&&this[_0x2d1b47(0x1c2)][_0x2d1b47(0x3f1)](this['clusterId'],_0x49b2b7=>{const _0x47367f=_0x2d1b47;this[_0x47367f(0x688)][_0x47367f(0x689)](_0x49b2b7);});}[_0x332466(0x94a)](_0x4a221f={}){const _0x24fca1=_0x332466;this['orchestrator'][_0x24fca1(0x1db)](_0x4a221f),this[_0x24fca1(0x1c2)][_0x24fca1(0x5a0)]===_0x57c18a[_0x24fca1(0x780)][_0x24fca1(0x584)]&&this[_0x24fca1(0x1c2)][_0x24fca1(0x589)](this['clusterId']),this[_0x24fca1(0x611)](_0x24fca1(0x6eb),void 0x0);}['openPubSubTopic'](_0x3a52ef){const _0x502b6c=_0x332466,_0x3f16fe=this['orchestrator'][_0x502b6c(0xa97)](_0x3a52ef);return{'getName':_0x3f16fe['getName'][_0x502b6c(0x531)](_0x3f16fe),'getOwnerId':_0x3f16fe['getOwnerId'][_0x502b6c(0x531)](_0x3f16fe),'getContentType':_0x3f16fe['getContentType'][_0x502b6c(0x531)](_0x3f16fe),'publish':_0x3f16fe[_0x502b6c(0x778)][_0x502b6c(0x531)](_0x3f16fe),'subscribe':_0x3f16fe['subscribe'][_0x502b6c(0x531)](_0x3f16fe),'unsubscribe':_0x3f16fe['unsubscribe'][_0x502b6c(0x531)](_0x3f16fe),'close':_0x3f16fe[_0x502b6c(0x1db)][_0x502b6c(0x531)](_0x3f16fe)};}async[_0x332466(0xa9c)](_0x1cfc58,_0x588394){const _0x3990f5=_0x332466,_0x48480f=await this[_0x3990f5(0x688)][_0x3990f5(0xa9c)](_0x1cfc58,_0x588394);return{'getName':_0x48480f[_0x3990f5(0x1e1)][_0x3990f5(0x531)](_0x48480f),'getOwnerId':_0x48480f[_0x3990f5(0x2bf)][_0x3990f5(0x531)](_0x48480f),'getContentType':_0x48480f[_0x3990f5(0x62f)][_0x3990f5(0x531)](_0x48480f),'publish':_0x48480f[_0x3990f5(0x778)]['bind'](_0x48480f),'unpublish':_0x48480f[_0x3990f5(0x7fa)][_0x3990f5(0x531)](_0x48480f),'get':_0x48480f[_0x3990f5(0x4d1)][_0x3990f5(0x531)](_0x48480f),'list':_0x48480f[_0x3990f5(0xaa6)][_0x3990f5(0x531)](_0x48480f),'getSize':_0x48480f[_0x3990f5(0x874)][_0x3990f5(0x531)](_0x48480f),'subscribe':_0x48480f[_0x3990f5(0x3cf)][_0x3990f5(0x531)](_0x48480f),'unsubscribe':_0x48480f[_0x3990f5(0x219)]['bind'](_0x48480f),'close':_0x48480f[_0x3990f5(0x1db)]['bind'](_0x48480f)};}async['openExternalStorageConnection'](_0x5ebdf5,_0xee140c){const _0x3526a7=_0x332466,_0x4ea8a5=await this['orchestrator']['openExternalStorageConnection'](_0x5ebdf5,_0xee140c);return{'getName':_0x4ea8a5[_0x3526a7(0x1e1)][_0x3526a7(0x531)](_0x4ea8a5),'getOwnerId':_0x4ea8a5[_0x3526a7(0x2bf)][_0x3526a7(0x531)](_0x4ea8a5),'getContentType':_0x4ea8a5[_0x3526a7(0x62f)]['bind'](_0x4ea8a5),'close':_0x4ea8a5['close']['bind'](_0x4ea8a5),'get':_0x4ea8a5[_0x3526a7(0x4d1)][_0x3526a7(0x531)](_0x4ea8a5),'list':_0x4ea8a5[_0x3526a7(0xaa6)][_0x3526a7(0x531)](_0x4ea8a5),'subscribe':_0x4ea8a5['subscribe'][_0x3526a7(0x531)](_0x4ea8a5),'unsubscribe':_0x4ea8a5[_0x3526a7(0x219)][_0x3526a7(0x531)](_0x4ea8a5)};}async[_0x332466(0x8bd)](_0x42a0c2,_0x4c2954,_0x2e021f){const _0x1da286=_0x332466,_0x4e48cd=await this[_0x1da286(0x688)][_0x1da286(0x8bd)](_0x42a0c2,_0x4c2954,_0x2e021f);return{'getName':_0x4e48cd['getName'][_0x1da286(0x531)](_0x4e48cd),'getOwnerId':_0x4e48cd[_0x1da286(0x2bf)][_0x1da286(0x531)](_0x4e48cd),'getContentType':_0x4e48cd[_0x1da286(0x62f)]['bind'](_0x4e48cd),'getTable':_0x4e48cd['getTable'][_0x1da286(0x531)](_0x4e48cd),'subscribe':_0x4e48cd[_0x1da286(0x3cf)][_0x1da286(0x531)](_0x4e48cd),'unsubscribe':_0x4e48cd[_0x1da286(0x219)]['bind'](_0x4e48cd),'close':_0x4e48cd[_0x1da286(0x1db)][_0x1da286(0x531)](_0x4e48cd)};}async[_0x332466(0x43a)](_0x4e775b){const _0x3e9fe5=_0x332466,_0x23f368=await this['orchestrator']['openJobDispatcher'](_0x4e775b);return{'getName':_0x23f368[_0x3e9fe5(0x1e1)][_0x3e9fe5(0x531)](_0x23f368),'getOwnerId':_0x23f368[_0x3e9fe5(0x2bf)][_0x3e9fe5(0x531)](_0x23f368),'getContentType':_0x23f368['getContentType'][_0x3e9fe5(0x531)](_0x23f368),'createJob':_0x23f368[_0x3e9fe5(0x552)][_0x3e9fe5(0x531)](_0x23f368),'getJob':_0x23f368[_0x3e9fe5(0x6c0)][_0x3e9fe5(0x531)](_0x23f368),'getJobs':_0x23f368[_0x3e9fe5(0x2df)][_0x3e9fe5(0x531)](_0x23f368),'close':_0x23f368[_0x3e9fe5(0x1db)][_0x3e9fe5(0x531)](_0x23f368)};}async[_0x332466(0x317)](_0x36a6e4){const _0x107f34=_0x332466,_0x41432f=await this[_0x107f34(0x688)][_0x107f34(0x317)](_0x36a6e4);return{'close':_0x41432f[_0x107f34(0x1db)][_0x107f34(0x531)](_0x41432f)};}async[_0x332466(0x6ae)](_0x51dee8){const _0x1b47a3=_0x332466,_0x55f7b2=await this[_0x1b47a3(0x688)]['openGenerativeAIContext'](_0x51dee8);return{'createAIJob':_0x55f7b2['createAIJob'][_0x1b47a3(0x531)](_0x55f7b2),'ratePrompt':_0x55f7b2[_0x1b47a3(0x59d)]['bind'](_0x55f7b2),'downloadDocument':_0x55f7b2['downloadDocument'][_0x1b47a3(0x531)](_0x55f7b2),'search':_0x55f7b2['search'][_0x1b47a3(0x531)](_0x55f7b2),'getDataBucketIds':_0x55f7b2['getDataBucketIds'][_0x1b47a3(0x531)](_0x55f7b2),'close':_0x55f7b2[_0x1b47a3(0x1db)][_0x1b47a3(0x531)](_0x55f7b2)};}async[_0x332466(0x421)](_0x4b27e9){const _0xa449a5=_0x332466,_0x41f9d0=await this[_0xa449a5(0x688)][_0xa449a5(0x421)](_0x4b27e9);return{'close':_0x41f9d0[_0xa449a5(0x1db)]['bind'](_0x41f9d0)};}[_0x332466(0x65a)](_0x3ed6d8){const _0x52cac8=_0x332466,_0x55e861=this[_0x52cac8(0x688)][_0x52cac8(0x65a)](_0x3ed6d8);return{'getName':_0x55e861[_0x52cac8(0x1e1)][_0x52cac8(0x531)](_0x55e861),'getOwnerId':_0x55e861['getOwnerId'][_0x52cac8(0x531)](_0x55e861),'getContentType':_0x55e861[_0x52cac8(0x62f)][_0x52cac8(0x531)](_0x55e861),'addNode':_0x55e861['addNode'][_0x52cac8(0x531)](_0x55e861),'addEdge':_0x55e861[_0x52cac8(0xa5e)][_0x52cac8(0x531)](_0x55e861),'getContent':_0x55e861[_0x52cac8(0x717)][_0x52cac8(0x531)](_0x55e861),'remove':_0x55e861[_0x52cac8(0xa6d)][_0x52cac8(0x531)](_0x55e861),'saveToDisk':_0x55e861[_0x52cac8(0x1ec)][_0x52cac8(0x531)](_0x55e861),'loadFromDisk':_0x55e861[_0x52cac8(0xab7)][_0x52cac8(0x531)](_0x55e861),'close':_0x55e861['close'][_0x52cac8(0x531)](_0x55e861)};}[_0x332466(0x1f1)](_0x10a5f4){const _0x51d3dc=_0x332466,_0xa06423=this[_0x51d3dc(0x688)][_0x51d3dc(0x1f1)](_0x10a5f4);return{'getName':_0xa06423[_0x51d3dc(0x1e1)]['bind'](_0xa06423),'getOwnerId':_0xa06423[_0x51d3dc(0x2bf)][_0x51d3dc(0x531)](_0xa06423),'getContentType':_0xa06423['getContentType'][_0x51d3dc(0x531)](_0xa06423),'search':_0xa06423['search']['bind'](_0xa06423),'insert':_0xa06423['insert'][_0x51d3dc(0x531)](_0xa06423),'remove':_0xa06423['remove']['bind'](_0xa06423),'saveToDisk':_0xa06423['saveToDisk']['bind'](_0xa06423),'loadFromDisk':_0xa06423[_0x51d3dc(0xab7)]['bind'](_0xa06423),'close':_0xa06423[_0x51d3dc(0x1db)][_0x51d3dc(0x531)](_0xa06423)};}[_0x332466(0xa7c)](_0x5c7273){const _0x352c07=_0x332466;return this['orchestrator'][_0x352c07(0xa7c)](_0x5c7273)[_0x352c07(0x604)](_0x23e58a=>({'getName':_0x23e58a[_0x352c07(0x1e1)][_0x352c07(0x531)](_0x23e58a),'getOwnerId':_0x23e58a[_0x352c07(0x2bf)]['bind'](_0x23e58a),'getContentType':_0x23e58a[_0x352c07(0x62f)][_0x352c07(0x531)](_0x23e58a),'publish':_0x23e58a[_0x352c07(0x778)][_0x352c07(0x531)](_0x23e58a),'subscribe':_0x23e58a['subscribe'][_0x352c07(0x531)](_0x23e58a),'unsubscribe':_0x23e58a[_0x352c07(0x219)][_0x352c07(0x531)](_0x23e58a),'close':_0x23e58a['close'][_0x352c07(0x531)](_0x23e58a)}));}[_0x332466(0x35e)](_0x43d305){const _0x158760=_0x332466;return this['orchestrator'][_0x158760(0x35e)](_0x43d305)['map'](_0x282368=>({'getName':_0x282368[_0x158760(0x1e1)]['bind'](_0x282368),'getOwnerId':_0x282368[_0x158760(0x2bf)]['bind'](_0x282368),'getContentType':_0x282368[_0x158760(0x62f)]['bind'](_0x282368),'publish':_0x282368[_0x158760(0x778)][_0x158760(0x531)](_0x282368),'unpublish':_0x282368[_0x158760(0x7fa)][_0x158760(0x531)](_0x282368),'get':_0x282368[_0x158760(0x4d1)][_0x158760(0x531)](_0x282368),'list':_0x282368['list'][_0x158760(0x531)](_0x282368),'getSize':_0x282368['getSize'][_0x158760(0x531)](_0x282368),'subscribe':_0x282368['subscribe'][_0x158760(0x531)](_0x282368),'unsubscribe':_0x282368[_0x158760(0x219)][_0x158760(0x531)](_0x282368),'close':_0x282368[_0x158760(0x1db)]['bind'](_0x282368)}));}['getExternalStorageConnections'](_0x55b412){const _0x2a492e=_0x332466;return this[_0x2a492e(0x688)][_0x2a492e(0x855)](_0x55b412)[_0x2a492e(0x604)](_0x1757e2=>({'getName':_0x1757e2['getName'][_0x2a492e(0x531)](_0x1757e2),'getOwnerId':_0x1757e2[_0x2a492e(0x2bf)][_0x2a492e(0x531)](_0x1757e2),'getContentType':_0x1757e2[_0x2a492e(0x62f)][_0x2a492e(0x531)](_0x1757e2),'close':_0x1757e2[_0x2a492e(0x1db)][_0x2a492e(0x531)](_0x1757e2),'get':_0x1757e2[_0x2a492e(0x4d1)]['bind'](_0x1757e2),'list':_0x1757e2[_0x2a492e(0xaa6)][_0x2a492e(0x531)](_0x1757e2),'subscribe':_0x1757e2[_0x2a492e(0x3cf)]['bind'](_0x1757e2),'unsubscribe':_0x1757e2[_0x2a492e(0x219)][_0x2a492e(0x531)](_0x1757e2)}));}[_0x332466(0x948)](_0x118dbc){const _0x44cae7=_0x332466;return this[_0x44cae7(0x688)][_0x44cae7(0x948)](_0x118dbc)[_0x44cae7(0x604)](_0x25c78f=>({'getName':_0x25c78f[_0x44cae7(0x1e1)]['bind'](_0x25c78f),'getOwnerId':_0x25c78f['getOwnerId'][_0x44cae7(0x531)](_0x25c78f),'getContentType':_0x25c78f[_0x44cae7(0x62f)]['bind'](_0x25c78f),'getTable':_0x25c78f['getTable']['bind'](_0x25c78f),'subscribe':_0x25c78f['subscribe']['bind'](_0x25c78f),'unsubscribe':_0x25c78f[_0x44cae7(0x219)][_0x44cae7(0x531)](_0x25c78f),'close':_0x25c78f[_0x44cae7(0x1db)]['bind'](_0x25c78f)}));}[_0x332466(0x1c1)](_0x1ebf03){const _0x1022d8=_0x332466;return this['orchestrator']['getGenerativeAIContexts'](_0x1ebf03)[_0x1022d8(0x604)](_0x47688b=>({'createAIJob':_0x47688b['createAIJob'][_0x1022d8(0x531)](_0x47688b),'ratePrompt':_0x47688b[_0x1022d8(0x59d)][_0x1022d8(0x531)](_0x47688b),'downloadDocument':_0x47688b[_0x1022d8(0x7d3)][_0x1022d8(0x531)](_0x47688b),'search':_0x47688b[_0x1022d8(0x7ba)]['bind'](_0x47688b),'getDataBucketIds':_0x47688b[_0x1022d8(0x9ef)][_0x1022d8(0x531)](_0x47688b),'close':_0x47688b[_0x1022d8(0x1db)]['bind'](_0x47688b)}));}[_0x332466(0x5cc)](_0x214d19){const _0x3534c9=_0x332466;return this['orchestrator'][_0x3534c9(0x5cc)](_0x214d19)[_0x3534c9(0x604)](_0x251461=>({'close':_0x251461[_0x3534c9(0x1db)][_0x3534c9(0x531)](_0x251461)}));}[_0x332466(0x90c)](_0xf3a632,_0x44dbdd){const _0x38a7a5=_0x332466,_0x512a8e=this[_0x38a7a5(0x688)][_0x38a7a5(0x4ae)](_0xf3a632,_0x44dbdd);return{'getLabel':_0x512a8e['getLabel']['bind'](_0x512a8e),'getOwnerId':_0x512a8e[_0x38a7a5(0x2bf)][_0x38a7a5(0x531)](_0x512a8e),'getContentType':_0x512a8e[_0x38a7a5(0x62f)]['bind'](_0x512a8e),'getMediaStream':_0x512a8e['getMediaStream']['bind'](_0x512a8e),'setPriority':_0x512a8e[_0x38a7a5(0x969)][_0x38a7a5(0x531)](_0x512a8e),'unpublish':_0x512a8e[_0x38a7a5(0x7fa)][_0x38a7a5(0x531)](_0x512a8e)};}[_0x332466(0x4db)](_0xd686e8,_0x49ca7f){const _0x44f6bb=_0x332466,_0x506bed=this['orchestrator']['createLocalDynamicMediaStream'](_0xd686e8,_0x49ca7f);return{'getLabel':_0x506bed['getLabel'][_0x44f6bb(0x531)](_0x506bed),'getOwnerId':_0x506bed['getOwnerId'][_0x44f6bb(0x531)](_0x506bed),'getContentType':_0x506bed['getContentType']['bind'](_0x506bed),'setPriority':_0x506bed[_0x44f6bb(0x969)]['bind'](_0x506bed),'unpublish':_0x506bed[_0x44f6bb(0x7fa)][_0x44f6bb(0x531)](_0x506bed),'getMediaStream':_0x506bed[_0x44f6bb(0x22b)]['bind'](_0x506bed),'addTrack':_0x506bed[_0x44f6bb(0x3b3)][_0x44f6bb(0x531)](_0x506bed),'removeTrack':_0x506bed[_0x44f6bb(0x46e)][_0x44f6bb(0x531)](_0x506bed),'replaceTrack':_0x506bed[_0x44f6bb(0x1ab)][_0x44f6bb(0x531)](_0x506bed),'setTransformations':_0x506bed[_0x44f6bb(0x251)][_0x44f6bb(0x531)](_0x506bed)};}['getLocalMediaStreams'](_0x283da1){const _0x436d56=_0x332466;return this['orchestrator'][_0x436d56(0x259)](_0x283da1)[_0x436d56(0x604)](_0x33eb1e=>({'getLabel':_0x33eb1e[_0x436d56(0x2b5)][_0x436d56(0x531)](_0x33eb1e),'getOwnerId':_0x33eb1e[_0x436d56(0x2bf)][_0x436d56(0x531)](_0x33eb1e),'getContentType':_0x33eb1e[_0x436d56(0x62f)][_0x436d56(0x531)](_0x33eb1e),'getMediaStream':_0x33eb1e[_0x436d56(0x22b)]['bind'](_0x33eb1e),'setPriority':_0x33eb1e['setPriority']['bind'](_0x33eb1e),'unpublish':_0x33eb1e['unpublish'][_0x436d56(0x531)](_0x33eb1e)}));}[_0x332466(0x3f0)](_0x1a17d8){const _0x5307d4=_0x332466;return this[_0x5307d4(0x688)][_0x5307d4(0x3f0)](_0x1a17d8)[_0x5307d4(0x604)](_0x27ff8d=>({'getLabel':_0x27ff8d[_0x5307d4(0x2b5)][_0x5307d4(0x531)](_0x27ff8d),'getOwnerId':_0x27ff8d[_0x5307d4(0x2bf)][_0x5307d4(0x531)](_0x27ff8d),'getContentType':_0x27ff8d[_0x5307d4(0x62f)]['bind'](_0x27ff8d),'getMediaStream':_0x27ff8d[_0x5307d4(0x22b)][_0x5307d4(0x531)](_0x27ff8d),'subscribe':_0x27ff8d['subscribe'][_0x5307d4(0x531)](_0x27ff8d),'unsubscribe':_0x27ff8d['unsubscribe'][_0x5307d4(0x531)](_0x27ff8d),'getAvailableTrackKinds':_0x27ff8d[_0x5307d4(0x1bd)][_0x5307d4(0x531)](_0x27ff8d),'update':_0x27ff8d[_0x5307d4(0x422)]['bind'](_0x27ff8d),'onProviderChange':_0x27ff8d['onProviderChange'][_0x5307d4(0x531)](_0x27ff8d)}));}[_0x332466(0x9ee)](_0x37c5d0){const _0x5802d4=_0x332466;return this['orchestrator'][_0x5802d4(0x9ee)](_0x37c5d0)[_0x5802d4(0x604)](_0x134093=>({'getName':_0x134093[_0x5802d4(0x1e1)][_0x5802d4(0x531)](_0x134093),'getOwnerId':_0x134093[_0x5802d4(0x2bf)][_0x5802d4(0x531)](_0x134093),'getContentType':_0x134093['getContentType'][_0x5802d4(0x531)](_0x134093),'addNode':_0x134093[_0x5802d4(0x7da)][_0x5802d4(0x531)](_0x134093),'addEdge':_0x134093[_0x5802d4(0xa5e)]['bind'](_0x134093),'getContent':_0x134093[_0x5802d4(0x717)]['bind'](_0x134093),'remove':_0x134093[_0x5802d4(0xa6d)][_0x5802d4(0x531)](_0x134093),'saveToDisk':_0x134093[_0x5802d4(0x1ec)][_0x5802d4(0x531)](_0x134093),'loadFromDisk':_0x134093['loadFromDisk'][_0x5802d4(0x531)](_0x134093),'close':_0x134093[_0x5802d4(0x1db)]['bind'](_0x134093)}));}[_0x332466(0x1cb)](_0x2730f7){const _0x4680b7=_0x332466;return this[_0x4680b7(0x688)][_0x4680b7(0x1cb)](_0x2730f7)[_0x4680b7(0x604)](_0x5ed5b7=>({'getName':_0x5ed5b7[_0x4680b7(0x1e1)][_0x4680b7(0x531)](_0x5ed5b7),'getOwnerId':_0x5ed5b7['getOwnerId']['bind'](_0x5ed5b7),'getContentType':_0x5ed5b7['getContentType'][_0x4680b7(0x531)](_0x5ed5b7),'search':_0x5ed5b7['search'][_0x4680b7(0x531)](_0x5ed5b7),'insert':_0x5ed5b7[_0x4680b7(0x964)][_0x4680b7(0x531)](_0x5ed5b7),'remove':_0x5ed5b7[_0x4680b7(0xa6d)][_0x4680b7(0x531)](_0x5ed5b7),'saveToDisk':_0x5ed5b7['saveToDisk'][_0x4680b7(0x531)](_0x5ed5b7),'loadFromDisk':_0x5ed5b7[_0x4680b7(0xab7)]['bind'](_0x5ed5b7),'close':_0x5ed5b7[_0x4680b7(0x1db)][_0x4680b7(0x531)](_0x5ed5b7)}));}[_0x332466(0x6fc)](){const _0x39b0da=_0x332466,_0x3bce7c=this[_0x39b0da(0x688)]['getLocalNode']();switch(_0x3bce7c[_0x39b0da(0x5a0)]){case _0x57c18a['NodeType'][_0x39b0da(0x584)]:return{'type':_0x57c18a[_0x39b0da(0x780)]['User'],'getId':_0x3bce7c['getId'][_0x39b0da(0x531)](_0x3bce7c),'getDisplayName':_0x3bce7c[_0x39b0da(0x1d7)][_0x39b0da(0x531)](_0x3bce7c),'getEmail':_0x3bce7c[_0x39b0da(0x86f)][_0x39b0da(0x531)](_0x3bce7c),'getRemoteConnections':_0x3bce7c[_0x39b0da(0x6f7)]['bind'](_0x3bce7c),'setDisplayName':_0x3bce7c[_0x39b0da(0x391)]['bind'](_0x3bce7c),'setEmail':_0x3bce7c[_0x39b0da(0x924)]['bind'](_0x3bce7c)};case _0x57c18a[_0x39b0da(0x780)][_0x39b0da(0x6cd)]:default:return{'type':_0x57c18a[_0x39b0da(0x780)][_0x39b0da(0x6cd)],'getId':_0x3bce7c[_0x39b0da(0x9cc)][_0x39b0da(0x531)](_0x3bce7c),'getRemoteConnections':_0x3bce7c['getRemoteConnections']['bind'](_0x3bce7c)};}}['getRemoteNodes'](_0x42dbbb){const _0x47d8b6=_0x332466;return this['orchestrator'][_0x47d8b6(0x860)](_0x42dbbb)['map'](_0x20de44=>{const _0x15cf9a=_0x47d8b6;switch(_0x20de44[_0x15cf9a(0x5a0)]){case _0x57c18a['NodeType'][_0x15cf9a(0x584)]:return{'type':_0x57c18a[_0x15cf9a(0x780)][_0x15cf9a(0x584)],'getId':_0x20de44[_0x15cf9a(0x9cc)][_0x15cf9a(0x531)](_0x20de44),'getDisplayName':_0x20de44[_0x15cf9a(0x1d7)]['bind'](_0x20de44),'getEmail':_0x20de44['getEmail']['bind'](_0x20de44),'getRemoteConnections':_0x20de44[_0x15cf9a(0x6f7)][_0x15cf9a(0x531)](_0x20de44)};case _0x57c18a['NodeType'][_0x15cf9a(0x6cd)]:return{'type':_0x57c18a[_0x15cf9a(0x780)][_0x15cf9a(0x6cd)],'getId':_0x20de44[_0x15cf9a(0x9cc)][_0x15cf9a(0x531)](_0x20de44),'getRemoteConnections':_0x20de44[_0x15cf9a(0x6f7)][_0x15cf9a(0x531)](_0x20de44)};default:throw new _0x212143(_0x198729[_0x15cf9a(0x341)],_0x15cf9a(0x45e));}});}['on']=(..._0x25632c)=>{const _0x3c807=_0x332466;this[_0x3c807(0x1d4)]['on'](..._0x25632c);};[_0x332466(0x611)]=(..._0x494eb0)=>this[_0x332466(0x1d4)]['emit'](..._0x494eb0);[_0x332466(0x25b)](..._0x227aec){const _0x3cdbdb=_0x332466;this[_0x3cdbdb(0x1d4)][_0x3cdbdb(0x25b)](..._0x227aec);}}class _0x31467c{['id'];[_0x332466(0x1cf)];[_0x332466(0x7a8)];[_0x332466(0x5a0)]=_0x57c18a[_0x332466(0x780)][_0x332466(0x584)];['joinedClusters']=new Map();[_0x332466(0x61c)]=_0x5ad0e0();constructor(_0x3d19f4,_0x4c9669,_0x184893){const _0x142a9f=_0x332466;this['id']=_0x3d19f4,this[_0x142a9f(0x1cf)]=_0x4c9669,this['email']=_0x184893;}[_0x332466(0x9cc)](){return this['id'];}['getDisplayName'](){const _0x20b9ae=_0x332466;return this[_0x20b9ae(0x1cf)];}[_0x332466(0x86f)](){const _0x566f12=_0x332466;return this[_0x566f12(0x7a8)];}['setDisplayName'](_0x480d60){const _0x17dd0d=_0x332466;this[_0x17dd0d(0x1cf)]!==_0x480d60&&(this[_0x17dd0d(0x1cf)]=_0x480d60,this[_0x17dd0d(0x61c)][_0x17dd0d(0x778)](this));}[_0x332466(0x924)](_0x59c909){const _0x219004=_0x332466;this[_0x219004(0x7a8)]!==_0x59c909&&(this['email']=_0x59c909,this['observer']['publish'](this));}[_0x332466(0x3f1)](_0x193edd,_0x277629){const _0x529bc2=_0x332466;if(this[_0x529bc2(0x1e4)][_0x529bc2(0x71d)](_0x193edd))return;const _0x12423d=this[_0x529bc2(0x61c)]['subscribe'](_0x277629);this[_0x529bc2(0x1e4)][_0x529bc2(0x72f)](_0x193edd,_0x12423d);}[_0x332466(0x589)](_0x536f70){const _0x48be7b=_0x332466;if(!this['joinedClusters'][_0x48be7b(0x71d)](_0x536f70))return;const _0x1dc7bb=this[_0x48be7b(0x1e4)][_0x48be7b(0x4d1)](_0x536f70);_0x1dc7bb&&_0x1dc7bb(),this[_0x48be7b(0x1e4)][_0x48be7b(0x6ea)](_0x536f70);}}class _0xe95f63{[_0x332466(0x640)];[_0x332466(0x7fb)];constructor(_0x68e07d){const _0x337d9a=_0x332466;this[_0x337d9a(0x640)]=_0x68e07d;}async[_0x332466(0x711)](_0x1bda90){const _0xd7eb60=_0x332466,_0xed2c22=await(0x0,_0x3d342f[_0xd7eb60(0x9ec)])(_0x5673af[_0xd7eb60(0xa2e)](),_0xd7eb60(0x325))({'uid':_0xd7eb60(0x9c8)+this['vendorId']+_0xd7eb60(0x9c8)+_0x1bda90['id']}),_0x550fcd=await(0x0,_0x4159aa[_0xd7eb60(0x3a7)])(_0x5673af[_0xd7eb60(0x890)](),_0xed2c22[_0xd7eb60(0x510)][_0xd7eb60(0x6b2)]);this[_0xd7eb60(0x7fb)]=_0x550fcd[_0xd7eb60(0x7fb)];}async['signOut'](){const _0x19283b=_0x332466;await(0x0,_0x4159aa['signOut'])(_0x5673af[_0x19283b(0x890)]());}[_0x332466(0x255)](){const _0x406b42=_0x332466;return this['user']?.[_0x406b42(0x255)]()??Promise[_0x406b42(0x3ab)](_0x406b42(0x936));}}class _0x2db3c5{static ['instance'];[_0x332466(0x4ea)]=[];constructor(){}static[_0x332466(0x760)](){const _0x226201=_0x332466;return _0x2db3c5[_0x226201(0x6ab)]||(_0x2db3c5[_0x226201(0x6ab)]=new _0x2db3c5()),_0x2db3c5[_0x226201(0x6ab)];}['initialize'](){const _0x2d71d8=_0x332466;this[_0x2d71d8(0x6ca)](),this[_0x2d71d8(0x3a6)](),this[_0x2d71d8(0x469)](),this['checkAudioVolume'](),this[_0x2d71d8(0x95f)](),this[_0x2d71d8(0x8e9)](),this['checkMediaRecording'](),this[_0x2d71d8(0x7ac)](),this[_0x2d71d8(0x6cf)](),this[_0x2d71d8(0x5f3)](),_0x833509[_0x2d71d8(0x5d5)](_0xebc42c[_0x2d71d8(0x1f4)],_0x2d71d8(0x5f4),{'featureSupport':this[_0x2d71d8(0x4ea)]});}[_0x332466(0xaac)](_0x17c6b8){const _0x3a98be=_0x332466,_0x27f06b=this[_0x3a98be(0x4ea)][_0x3a98be(0x405)](_0x4f9866=>_0x4f9866[_0x3a98be(0x8c6)]===_0x17c6b8);return!!_0x27f06b&&_0x27f06b[_0x3a98be(0x5dc)];}[_0x332466(0x2d8)](_0x152ec6){const _0xa736e1=_0x332466;_0x833509['logEvent']('support',{'nodeId':_0x152ec6['getId'](),'nodeType':_0x152ec6[_0xa736e1(0x5a0)],'data':{'featureSupport':this[_0xa736e1(0x4ea)]}});}['checkWebRTC'](){const _0x58a37f=_0x332466,_0x351a9e=_0x3cb7ea[_0x58a37f(0x475)];let _0x1720b5=!0x1;_0x58a37f(0x86c)==typeof RTCPeerConnection&&_0x58a37f(0x86c)==typeof RTCIceCandidate&&_0x58a37f(0x86c)==typeof RTCSessionDescription?_0x1720b5=!0x0:_0x833509[_0x58a37f(0x5d5)](_0xebc42c[_0x58a37f(0x1f4)],_0x58a37f(0x61b)+_0x351a9e+_0x58a37f(0x7a2)),this[_0x58a37f(0x4ea)][_0x58a37f(0x995)]({'name':_0x351a9e,'supported':_0x1720b5});}[_0x332466(0x3a6)](){const _0x2d6e2e=_0x332466,_0x4f3830=_0x3cb7ea[_0x2d6e2e(0xae2)];let _0x4e3aaa=!0x1;_0x2d6e2e(0x86c)==typeof MediaStream&&_0x2d6e2e(0x86c)==typeof MediaStreamTrack&&_0x2d6e2e(0x7ff)==typeof navigator&&_0x2d6e2e(0x7ff)==typeof navigator['mediaDevices']&&'function'==typeof navigator['mediaDevices'][_0x2d6e2e(0x93a)]?_0x4e3aaa=!0x0:_0x833509[_0x2d6e2e(0x5d5)](_0xebc42c[_0x2d6e2e(0x1f4)],_0x2d6e2e(0x61b)+_0x4f3830+'\x20not\x20supported'),this[_0x2d6e2e(0x4ea)][_0x2d6e2e(0x995)]({'name':_0x4f3830,'supported':_0x4e3aaa});}['checkScreenSharing'](){const _0x5bee2a=_0x332466,_0x1b1f1f=_0x3cb7ea[_0x5bee2a(0x4a6)];let _0x32d45c=!0x1;_0x5bee2a(0x7ff)==typeof navigator&&'object'==typeof navigator[_0x5bee2a(0x89e)]&&_0x5bee2a(0x86c)==typeof navigator['mediaDevices']['getDisplayMedia']?_0x32d45c=!0x0:_0x833509[_0x5bee2a(0x5d5)](_0xebc42c[_0x5bee2a(0x1f4)],_0x5bee2a(0x61b)+_0x1b1f1f+_0x5bee2a(0x7a2)),this['featureSupport'][_0x5bee2a(0x995)]({'name':_0x1b1f1f,'supported':_0x32d45c});}['checkAudioVolume'](){const _0x22c864=_0x332466,_0x5771c6=_0x3cb7ea[_0x22c864(0x9ce)];let _0x491629=!0x1;_0x22c864(0x86c)!=typeof AudioContext||_0x22c864(0x86c)!=typeof ScriptProcessorNode&&_0x22c864(0x86c)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x833509[_0x22c864(0x5d5)](_0xebc42c[_0x22c864(0x1f4)],_0x22c864(0x61b)+_0x5771c6+_0x22c864(0x7a2)):_0x491629=!0x0,this['featureSupport']['push']({'name':_0x5771c6,'supported':_0x491629});}['checkDeviceConfig'](){const _0x1326b6=_0x332466,_0xecf12c=_0x3cb7ea[_0x1326b6(0x718)];let _0x1dfbfc=!0x1;'object'==typeof navigator&&'object'==typeof navigator[_0x1326b6(0x89e)]&&_0x1326b6(0x86c)==typeof navigator[_0x1326b6(0x89e)][_0x1326b6(0x6d3)]&&_0x1326b6(0x86c)==typeof MediaDeviceInfo?_0x1dfbfc=!0x0:_0x833509[_0x1326b6(0x5d5)](_0xebc42c[_0x1326b6(0x1f4)],_0x1326b6(0x61b)+_0xecf12c+_0x1326b6(0x7a2)),this[_0x1326b6(0x4ea)][_0x1326b6(0x995)]({'name':_0xecf12c,'supported':_0x1dfbfc});}[_0x332466(0x8e9)](){const _0x3fce2f=_0x332466,_0x373938=_0x3cb7ea[_0x3fce2f(0x80d)];let _0x3db7f2=!0x1;_0x3fce2f(0x7ff)==typeof document&&_0x3fce2f(0x86c)==typeof document[_0x3fce2f(0x182)](_0x3fce2f(0x3f7))['setSinkId']?_0x3db7f2=!0x0:_0x833509['log'](_0xebc42c['Support'],_0x3fce2f(0x61b)+_0x373938+_0x3fce2f(0x7a2)),this['featureSupport'][_0x3fce2f(0x995)]({'name':_0x373938,'supported':_0x3db7f2});}async[_0x332466(0x3dc)](){const _0x4fe5a7=_0x332466,_0x1b2f79=_0x3cb7ea[_0x4fe5a7(0x944)];let _0xdf2f97=!0x1;try{const _0x5494ea=document['createElement']('canvas');if(MediaRecorder&&MediaSource&&_0x5494ea[_0x4fe5a7(0x208)]){const _0x1be98b=_0x5494ea[_0x4fe5a7(0x208)](),_0x101e92=new MediaRecorder(_0x1be98b);_0x101e92[_0x4fe5a7(0x365)](),await new Promise(_0x59598c=>setTimeout(_0x59598c,0x7d0)),_0x101e92['stop'](),_0xdf2f97=_0x4fe5a7(0x6f8)===_0x101e92[_0x4fe5a7(0x484)];}}catch(_0x3b78c1){_0x833509[_0x4fe5a7(0x5d5)](_0xebc42c['Support'],_0x4fe5a7(0x61b)+_0x1b2f79+_0x4fe5a7(0x9bd),_0x3b78c1);}this[_0x4fe5a7(0x4ea)][_0x4fe5a7(0x995)]({'name':_0x1b2f79,'supported':_0xdf2f97}),_0xdf2f97||_0x833509[_0x4fe5a7(0x5d5)](_0xebc42c[_0x4fe5a7(0x1f4)],_0x4fe5a7(0x61b)+_0x1b2f79+_0x4fe5a7(0x7a2));}[_0x332466(0x7ac)](){const _0xffd8e2=_0x332466,_0x1c03b4=_0x3cb7ea['Backgrounds'];let _0x3f4cd8=!0x1;try{document[_0xffd8e2(0x182)](_0xffd8e2(0x48d))[_0xffd8e2(0x208)]&&(_0x3f4cd8=!0x0);}catch(_0x18b70c){_0x833509['log'](_0xebc42c[_0xffd8e2(0x1f4)],'Support:\x20'+_0x1c03b4+_0xffd8e2(0x9bd),_0x18b70c);}this[_0xffd8e2(0x4ea)][_0xffd8e2(0x995)]({'name':_0x1c03b4,'supported':_0x3f4cd8}),_0x3f4cd8||_0x833509[_0xffd8e2(0x5d5)](_0xebc42c['Support'],'Support:\x20'+_0x1c03b4+'\x20not\x20supported');}[_0x332466(0x6cf)](){const _0x3e8c8=_0x332466,_0x9427b=_0x3cb7ea[_0x3e8c8(0x26f)];let _0x2d3f82=!0x1;try{const _0x35ef43=document[_0x3e8c8(0x182)](_0x3e8c8(0x48d));WebGLRenderingContext&&_0x35ef43[_0x3e8c8(0x4d4)](_0x3e8c8(0xaaa))&&(_0x2d3f82=!0x0);}catch(_0x9883b3){_0x833509[_0x3e8c8(0x5d5)](_0xebc42c[_0x3e8c8(0x1f4)],_0x3e8c8(0x61b)+_0x9427b+'\x20check\x20failed',_0x9883b3);}this[_0x3e8c8(0x4ea)][_0x3e8c8(0x995)]({'name':_0x9427b,'supported':_0x2d3f82}),_0x2d3f82||_0x833509['log'](_0xebc42c[_0x3e8c8(0x1f4)],'Support:\x20'+_0x9427b+_0x3e8c8(0x7a2));}[_0x332466(0x5f3)](){const _0x207d98=_0x332466,_0x1faa4d=_0x3cb7ea[_0x207d98(0x923)];let _0x3c0135=!0x1;_0x207d98(0x86c)==typeof AudioContext?_0x3c0135=!0x0:_0x833509[_0x207d98(0x5d5)](_0xebc42c['Support'],_0x207d98(0x61b)+_0x1faa4d+_0x207d98(0x7a2)),this[_0x207d98(0x4ea)][_0x207d98(0x995)]({'name':_0x1faa4d,'supported':_0x3c0135});}}const _0x3126dd=_0x2db3c5[_0x332466(0x760)]();class _0x42da0d{static ['instance'];static [_0x332466(0x219)];static ['mode'];[_0x332466(0x685)];['vendorId'];['options'];['configs'];[_0x332466(0x756)]=new Map();['authContext'];constructor(_0x1a4d16,_0x32f80e,_0x18e38f){const _0x4ad613=_0x332466;this[_0x4ad613(0x640)]=_0x1a4d16,this[_0x4ad613(0xaa5)]=_0x32f80e,this['authService']=new _0xe95f63(this[_0x4ad613(0x640)]),_0x3126dd[_0x4ad613(0x2b2)](),this[_0x4ad613(0x3ca)]={'audioContext':_0x18e38f?.[_0x4ad613(0x505)]??(_0x3126dd[_0x4ad613(0xaac)](_0x3cb7ea['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x18e38f?.[_0x4ad613(0x674)]??0x1,'minConnections':_0x18e38f?.['minConnections']??0x3,'maxConnections':_0x18e38f?.[_0x4ad613(0x1b8)]??(_0x18e38f?.[_0x4ad613(0x70d)]&&0x4*_0x18e38f[_0x4ad613(0x70d)])??0xc,'maxDistance':_0x18e38f?.[_0x4ad613(0x5d7)]??0xa,'maxFps':_0x18e38f?.[_0x4ad613(0x98a)]??0x18,'maxBpp':_0x18e38f?.['maxBpp']??0.12,'objectStoreConnector':_0x18e38f?.[_0x4ad613(0x66e)]??_0x4b9379[_0x4ad613(0x9a2)],'externalStorageConnectors':_0x18e38f?.[_0x4ad613(0x5c7)],'keyValueDatabaseConnector':_0x18e38f?.['keyValueDatabaseConnector']??_0x4c6d09[_0x4ad613(0x31b)],'loggingDatabaseConnector':_0x18e38f?.['loggingDatabaseConnector']??_0x4c6d09[_0x4ad613(0x31b)],'peerConnectionConnector':_0x18e38f?.[_0x4ad613(0x64c)]??_0x15b6f6[_0x4ad613(0x2e5)],'generativeAIWorkerConnectors':_0x18e38f?.[_0x4ad613(0x2d2)],'vectorDatabaseConnector':_0x18e38f?.[_0x4ad613(0x46f)],'graphDatabaseConnector':_0x18e38f?.['graphDatabaseConnector'],'documentParserConnector':_0x18e38f?.[_0x4ad613(0x575)],'nlpLibraryConnector':_0x18e38f?.[_0x4ad613(0x6be)],'searchConnector':_0x18e38f?.[_0x4ad613(0x51d)],'aiSearchConnector':_0x18e38f?.['aiSearchConnector'],'queryFileConnector':_0x18e38f?.[_0x4ad613(0x258)]},_0x18e38f?.[_0x4ad613(0x8d4)]&&this[_0x4ad613(0x3ca)][_0x4ad613(0x505)]&&_0x1327a2[_0x4ad613(0x18d)](this[_0x4ad613(0x3ca)][_0x4ad613(0x505)]),_0x833509[_0x4ad613(0x9ad)](this[_0x4ad613(0x640)]),_0x18e38f?.[_0x4ad613(0x509)]&&_0x833509[_0x4ad613(0x1dd)](_0x18e38f['loggingConnectors']);}static async['getInstance'](_0x30f062,_0x3ba528,_0x322830,_0x5e9ed3,_0x59a488){const _0x2488dc=_0x332466;this['mode']=_0x322830;const _0x347288=await this[_0x2488dc(0x245)](_0x30f062,_0x3ba528,_0x59a488);return _0x42da0d[_0x2488dc(0x6ab)]||(_0x42da0d['instance']=new _0x42da0d(_0x30f062,_0x347288,_0x5e9ed3)),{'close':_0x42da0d[_0x2488dc(0x6ab)][_0x2488dc(0x1db)]['bind'](_0x42da0d['instance']),'authenticateUser':_0x42da0d[_0x2488dc(0x6ab)][_0x2488dc(0xa2f)][_0x2488dc(0x531)](_0x42da0d[_0x2488dc(0x6ab)]),'authenticateAgent':_0x42da0d['instance']['authenticateAgent'][_0x2488dc(0x531)](_0x42da0d[_0x2488dc(0x6ab)]),'joinCluster':_0x42da0d[_0x2488dc(0x6ab)][_0x2488dc(0x4ad)][_0x2488dc(0x531)](_0x42da0d[_0x2488dc(0x6ab)])};}static async[_0x332466(0x2ee)](){const _0x52ac01=_0x332466;return _0x5673af[_0x52ac01(0x204)]();}static[_0x332466(0x35c)](){const _0x3eeb57=_0x332466;return _0x2a816f[_0x3eeb57(0x35c)];}async[_0x332466(0x1db)](_0xd33a7e){const _0x3c5f1e=_0x332466;this[_0x3c5f1e(0x756)][_0x3c5f1e(0x602)](_0x3d58e7=>{const _0x4a4442=_0x3c5f1e;_0x3d58e7[_0x4a4442(0x25b)](),_0x3d58e7[_0x4a4442(0x94a)](_0xd33a7e);}),this[_0x3c5f1e(0x756)][_0x3c5f1e(0x767)](),this[_0x3c5f1e(0x3ca)][_0x3c5f1e(0x505)]&&_0x1327a2[_0x3c5f1e(0x64b)](),_0x42da0d[_0x3c5f1e(0x219)]?.(),_0x42da0d[_0x3c5f1e(0x219)]=void 0x0,this[_0x3c5f1e(0x7c3)]=void 0x0,await this[_0x3c5f1e(0x685)][_0x3c5f1e(0x4b3)](),_0x42da0d[_0x3c5f1e(0x6ab)]=void 0x0;}static async['validateAccess'](_0x483380,_0x40be59,_0xbd0a38){const _0x3aaf8d=_0x332466;if(!this[_0x3aaf8d(0x474)])throw new _0x212143(_0x198729[_0x3aaf8d(0x751)],'Node\x20type\x20is\x20required');let _0x16b121;try{_0x16b121=await(0x0,_0x3d342f[_0x3aaf8d(0x9ec)])(_0x5673af['getFunctions'](),_0x3aaf8d(0x3c6))({'vendorId':_0x483380,'accessToken':_0x40be59,'secretKey':_0xbd0a38});}catch(_0x4842ad){throw new _0x212143(_0x198729[_0x3aaf8d(0x608)],_0x3aaf8d(0x28d));}if(!this[_0x3aaf8d(0x821)](_0x16b121[_0x3aaf8d(0x510)]))throw new _0x212143(_0x198729[_0x3aaf8d(0x608)],'Invalid\x20credentials');const _0x298312=_0x16b121[_0x3aaf8d(0x510)];return _0x298312['features']||(_0x298312[_0x3aaf8d(0x307)]=[]),this[_0x3aaf8d(0x219)]||(this['unsubscribe']=_0x1327a2[_0x3aaf8d(0x728)](async()=>{const _0xdf87aa=_0x3aaf8d;try{const _0x49ae6c=await this[_0xdf87aa(0x245)](_0x483380,_0x40be59,_0xbd0a38);this[_0xdf87aa(0x474)]===_0x57c18a['NodeType'][_0xdf87aa(0x6cd)]&&(_0x49ae6c[_0xdf87aa(0x93c)]=_0x49ae6c[_0xdf87aa(0x93c)][_0xdf87aa(0x962)](_0x235832=>_0x235832[_0xdf87aa(0x401)][_0xdf87aa(0x423)](_0xdf87aa(0x8db)))),_0x298312['iceServers']=_0x49ae6c[_0xdf87aa(0x93c)];}catch(_0x4a34ab){}},0x1b7740)),_0x298312;}async[_0x332466(0xa2f)](_0x2bee8c){const _0x3571b3=_0x332466;if(_0x42da0d['mode']!==_0x57c18a[_0x3571b3(0x780)][_0x3571b3(0x584)])throw new _0x212143(_0x198729[_0x3571b3(0x341)],_0x3571b3(0x533));await this['authService'][_0x3571b3(0x711)](_0x2bee8c);const _0x5063b4=new _0x31467c(_0x2bee8c['id'],_0x2bee8c[_0x3571b3(0x1cf)],_0x2bee8c['email']);return this[_0x3571b3(0x7c3)]={'node':_0x5063b4},_0x3126dd[_0x3571b3(0x2d8)](_0x5063b4),{'type':_0x57c18a['NodeType'][_0x3571b3(0x584)],'getId':_0x5063b4[_0x3571b3(0x9cc)][_0x3571b3(0x531)](_0x5063b4),'getDisplayName':_0x5063b4[_0x3571b3(0x1d7)]['bind'](_0x5063b4),'getEmail':_0x5063b4[_0x3571b3(0x86f)][_0x3571b3(0x531)](_0x5063b4),'setDisplayName':_0x5063b4['setDisplayName'][_0x3571b3(0x531)](_0x5063b4),'setEmail':_0x5063b4[_0x3571b3(0x924)]['bind'](_0x5063b4)};}async['authenticateAgent'](_0x3b371e){const _0x3cb1af=_0x332466;if(_0x42da0d[_0x3cb1af(0x474)]!==_0x57c18a[_0x3cb1af(0x780)][_0x3cb1af(0x6cd)])throw new _0x212143(_0x198729[_0x3cb1af(0x341)],'Node\x20type\x20is\x20invalid');const {id:_0x51817f,groupId:_0x58bc38}=_0x3b371e,_0x58a4d3=await(0x0,_0x53cc66[_0x3cb1af(0x959)])((0x0,_0x53cc66['doc'])(_0x5673af[_0x3cb1af(0x503)](),_0x3cb1af(0x3ea)+this['vendorId']+_0x3cb1af(0x2cf)+_0x58bc38));if(!_0x58a4d3[_0x3cb1af(0x50a)]())throw new _0x212143(_0x198729[_0x3cb1af(0xa31)],_0x3cb1af(0x74c));const _0x913868=_0x58a4d3[_0x3cb1af(0x510)]();await this[_0x3cb1af(0x685)][_0x3cb1af(0x711)]({'id':_0x51817f});const _0x2c7d71=new _0x4b681a(_0x51817f,_0x58bc38,this[_0x3cb1af(0x640)],_0x913868);return this[_0x3cb1af(0x7c3)]={'node':_0x2c7d71},_0x3126dd[_0x3cb1af(0x2d8)](_0x2c7d71),this[_0x3cb1af(0x265)](_0x2c7d71),{'type':_0x57c18a[_0x3cb1af(0x780)]['Agent'],'getId':_0x2c7d71[_0x3cb1af(0x9cc)][_0x3cb1af(0x531)](_0x2c7d71),'onConfigurationChange':_0x2c7d71['onConfigurationChange'][_0x3cb1af(0x531)](_0x2c7d71),'setReportCapacity':_0x2c7d71['setReportCapacity'][_0x3cb1af(0x531)](_0x2c7d71)};}async[_0x332466(0x4ad)](_0x69c39c){const _0x1cce15=_0x332466;if(!this[_0x1cce15(0x7c3)])throw new _0x212143(_0x198729[_0x1cce15(0xa31)],'Node\x20not\x20authenticated');if(this[_0x1cce15(0x7c3)][_0x1cce15(0x723)][_0x1cce15(0x5a0)]!==_0x57c18a[_0x1cce15(0x780)]['User'])throw new _0x212143(_0x198729[_0x1cce15(0x330)],_0x1cce15(0x2b4));if(this[_0x1cce15(0x756)][_0x1cce15(0x71d)](_0x69c39c))throw new _0x212143(_0x198729[_0x1cce15(0x628)],_0x1cce15(0x36c));const _0x54fff5=new _0x3d19ae(this['vendorId'],_0x69c39c,this[_0x1cce15(0x7c3)][_0x1cce15(0x723)],this[_0x1cce15(0x685)],this['options'],this[_0x1cce15(0xaa5)]);return await _0x54fff5[_0x1cce15(0x7d5)](),this[_0x1cce15(0x884)](_0x69c39c,_0x54fff5),_0x833509[_0x1cce15(0x2ef)](_0x1cce15(0x929),{'clusterId':_0x69c39c,'nodeId':this[_0x1cce15(0x7c3)][_0x1cce15(0x723)][_0x1cce15(0x9cc)](),'nodeType':this[_0x1cce15(0x7c3)]['node'][_0x1cce15(0x5a0)]}),{'leave':_0x54fff5['leave'][_0x1cce15(0x531)](_0x54fff5),'getLocalNode':_0x54fff5[_0x1cce15(0x6fc)][_0x1cce15(0x531)](_0x54fff5),'openPubSubTopic':_0x54fff5[_0x1cce15(0xa97)][_0x1cce15(0x531)](_0x54fff5),'openObjectStoreBucket':_0x54fff5['openObjectStoreBucket'][_0x1cce15(0x531)](_0x54fff5),'openExternalStorageConnection':_0x54fff5[_0x1cce15(0x2e2)][_0x1cce15(0x531)](_0x54fff5),'openKeyValueDatabase':_0x54fff5[_0x1cce15(0x8bd)][_0x1cce15(0x531)](_0x54fff5),'openGenerativeAIContext':_0x54fff5[_0x1cce15(0x6ae)][_0x1cce15(0x531)](_0x54fff5),'openGenerativeAIWorker':_0x54fff5[_0x1cce15(0x421)][_0x1cce15(0x531)](_0x54fff5),'openGraphDatabase':_0x54fff5[_0x1cce15(0x65a)][_0x1cce15(0x531)](_0x54fff5),'openVectorDatabase':_0x54fff5[_0x1cce15(0x1f1)]['bind'](_0x54fff5),'publishLocalMediaStream':_0x54fff5[_0x1cce15(0x90c)]['bind'](_0x54fff5),'publishLocalDynamicMediaStream':_0x54fff5[_0x1cce15(0x4db)]['bind'](_0x54fff5),'getPubSubTopics':_0x54fff5[_0x1cce15(0xa7c)][_0x1cce15(0x531)](_0x54fff5),'getObjectStoreBuckets':_0x54fff5['getObjectStoreBuckets'][_0x1cce15(0x531)](_0x54fff5),'getExternalStorageConnections':_0x54fff5[_0x1cce15(0x855)][_0x1cce15(0x531)](_0x54fff5),'getKeyValueDatabases':_0x54fff5[_0x1cce15(0x948)][_0x1cce15(0x531)](_0x54fff5),'getGenerativeAIContexts':_0x54fff5[_0x1cce15(0x1c1)][_0x1cce15(0x531)](_0x54fff5),'getGenerativeAIWorkers':_0x54fff5[_0x1cce15(0x5cc)][_0x1cce15(0x531)](_0x54fff5),'getGraphDatabases':_0x54fff5[_0x1cce15(0x9ee)][_0x1cce15(0x531)](_0x54fff5),'getVectorDatabases':_0x54fff5[_0x1cce15(0x1cb)][_0x1cce15(0x531)](_0x54fff5),'getLocalMediaStreams':_0x54fff5[_0x1cce15(0x259)][_0x1cce15(0x531)](_0x54fff5),'getRemoteMediaStreams':_0x54fff5[_0x1cce15(0x3f0)][_0x1cce15(0x531)](_0x54fff5),'getRemoteNodes':_0x54fff5['getRemoteNodes']['bind'](_0x54fff5),'on':_0x54fff5['on'][_0x1cce15(0x531)](_0x54fff5),'off':_0x54fff5[_0x1cce15(0x25b)]['bind'](_0x54fff5)};}async[_0x332466(0x265)](_0x4ee078){const _0x16e7d2=_0x332466;for(const _0x51baba of _0x4ee078[_0x16e7d2(0x454)][_0x16e7d2(0x756)]){const _0x3643ff=new _0x3d19ae(this[_0x16e7d2(0x640)],_0x51baba['id'],_0x4ee078,this[_0x16e7d2(0x685)],this[_0x16e7d2(0x3ca)],this['configs']);await _0x3643ff[_0x16e7d2(0x7d5)](),this['addCluster'](_0x51baba['id'],_0x3643ff),_0x833509[_0x16e7d2(0x5a6)](_0x16e7d2(0xa8d),_0x51baba['id']);for(const _0x49440a of _0x51baba[_0x16e7d2(0x64f)]??[])_0x3643ff[_0x16e7d2(0xa97)](_0x49440a),_0x833509['forceLog']('Opened\x20pubsub\x20topic',_0x49440a);for(const _0x3ed8c6 of _0x51baba[_0x16e7d2(0x7ab)]??[])await _0x3643ff[_0x16e7d2(0xa9c)](_0x3ed8c6),_0x833509[_0x16e7d2(0x5a6)]('Opened\x20object\x20store\x20bucket',_0x3ed8c6);for(const _0x47db49 of _0x51baba[_0x16e7d2(0x741)]??[])await _0x3643ff[_0x16e7d2(0xa9c)](_0x47db49,{'standalone':!0x0}),_0x833509[_0x16e7d2(0x5a6)](_0x16e7d2(0x2a1),_0x47db49);for(const _0x10186f of _0x51baba['externalStorageConnections']??[]){const _0x280777=_0x10186f[_0x16e7d2(0x616)]('-');await _0x3643ff['openExternalStorageConnection'](_0x280777[0x1],_0x280777[0x0]),_0x833509[_0x16e7d2(0x5a6)](_0x16e7d2(0x89b),_0x10186f);}for(const _0x3d6883 of _0x51baba[_0x16e7d2(0x9b3)]??[])await _0x3643ff['openKeyValueDatabase'](_0x3d6883,{'version':0x1,'tables':{}}),_0x833509[_0x16e7d2(0x5a6)]('Opened\x20key\x20value\x20database',_0x3d6883);for(const _0x2320a0 of _0x51baba[_0x16e7d2(0x807)]??[])_0x3643ff['openGraphDatabase'](_0x2320a0),_0x833509[_0x16e7d2(0x5a6)](_0x16e7d2(0x714),_0x2320a0);for(const _0x311070 of _0x51baba['vectorDatabases']??[])_0x3643ff[_0x16e7d2(0x1f1)](_0x311070),_0x833509[_0x16e7d2(0x5a6)](_0x16e7d2(0x5ae),_0x311070);for(const _0xeab69a of _0x51baba['generativeAIContexts']??[]){const _0x62452f=_0x81f719(this[_0x16e7d2(0x640)],_0xeab69a),_0x4f9b84=_0x4ef089(),_0x3af96c=this[_0x16e7d2(0x3ca)][_0x16e7d2(0x39b)]??this[_0x16e7d2(0x3ca)]['keyValueDatabaseConnector'];await _0x3643ff['openKeyValueDatabase'](_0x62452f,_0x4f9b84,_0x3af96c),_0x833509[_0x16e7d2(0x5a6)](_0x16e7d2(0x537),_0x62452f),await _0x3643ff[_0x16e7d2(0x421)](_0xeab69a),_0x833509[_0x16e7d2(0x5a6)](_0x16e7d2(0x535),_0xeab69a);}}}['addCluster'](_0x528de9,_0x20ac7e){const _0xf2bf96=_0x332466;this['clusters'][_0xf2bf96(0x72f)](_0x528de9,_0x20ac7e),_0x20ac7e['on'](_0xf2bf96(0x6eb),()=>{const _0x365288=_0xf2bf96;_0x20ac7e[_0x365288(0x25b)](),this[_0x365288(0x756)][_0x365288(0x6ea)](_0x528de9);});}static[_0x332466(0x821)](_0x4470e0){const _0xf111a7=_0x332466;return void 0x0!==_0x4470e0[_0xf111a7(0x93c)];}}return _0x2b9a50;})())));