function a0_0x2612(){const _0x4bcbbe=['Remote\x20MediaStream\x20already\x20exists','clusters/','.py','errorDetails',',\x20Total\x20Nodes:','Blank\x20Agent','openExternalStorageConnection','initialize','processContentSynchronized','dbKey','path','GenerativeAIModelInputType','logLevel','\x20not\x20found.','vector-database-name-not-string','FileMove','TextToSpeech','Buffering\x20event','notifyObjectStoreOfNodeJoin','videoWidth','remote-inbound-rtp','o3-mini','checksum','transformations','gpt-4.1-mini','publish','external-storage-upload','receiverCurrentTimestamp','closeSubscription','job-dispatcher-invalid-job-type','retrieveBlocks','handleNoAnswer','Invalid\x20params','KeyValueDatabaseTransactionValueNotSet','issue','tail','google/gemini-2.0-flash-lite-001','createVectorDatabase','publishTransaction','VectorDatabase','/nodes/','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','senderCurrentBytes','estimatedPlayoutTimestamp','\x0aAdditional\x20data:\x20','Missing\x20vector\x20database\x20connector','prompts','isRunning','signaling','getLocalId','min','combinePeaks','NodeDoesNotExist','DeviceConfig','node-already-exist','DatabaseEvent','jobObservers','competitive-agent','logPropagateSystemEvent','/resources/external-storage/items/','getAncestors','.jsx','wait-false','rating','No\x20global\x20object\x20found','table','onProviderChange','notifyJoin','read','uuid','KeyValueDatabaseInvalidQuery','onGatheringStateChange','data-collection-does-not-exist','timeoutCallback','ingestFile','processPendingHandshakeCandidates','concat','AudioVolume','Code','setTransformations','key-value-database','getBitrate','bitrate','json','increment','Node\x20type\x20is\x20required','filename','checkMediaStream','.handlebars','updateUser','map','unregisterSystemSource','tracks','eventListener','phi-4-14b','supports','statsReport','.tsx','node','Generative\x20AI\x20context\x20job\x20timeout.','getWorkflowExternalStorageConnections','maxLayer','job-dispatcher-already-exists','initialPrompt','outgoingManager','handleSuccess','closeTopic','KeyValueDatabaseNotOpen','providerId','node-type-required','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','String','.ps1','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','VectorDatabaseDoesNotExist','writeFile','Cluster','.yaml','Error\x20stringifying\x20object','createGraphDatabase','committed','subscribedTracks','boolean','Cannot\x20get\x20size\x20of\x20path:\x20','destination','Send\x20request','getToolDescription','Remote\x20connection\x20already\x20exists.',',\x20Transactions:\x20','listenerUnsubscribers','createFolder','openedTraces','getSubscriptionInfo','sender-send-message','Search\x20in\x20data\x20collection\x20','No\x20connector\x20found\x20for\x20model','peerConnectionConnector','getResolution','updateDebounceTimeout','createReceiverConnection','GenerativeAIContextAlreadyExists','.djt','checkScreenSharing','text/event-stream','heartbeatUnsubscriber','Folder','onMessage','isPartialResultResponse','/objectstores/','WorkflowTrace','CustomSkill','getObjectStoreBuckets','Insufficient\x20credits','registerSubscriber','state','FormSubmitForm','OpenAI','Database\x20not\x20open','FROM\x20file','Attempt\x20','childRemovedUnsubscriber','ObjectStorageBucket','external-storage','once','digest','MediaStream\x20feature\x20not\x20enabled','GenerativeAIWorkerMissingConnector','getCapacityReport','firebaseConfig','startsWith','\x20finalized.','crewdle-sdk.appspot.com','canProvideResolution','forEach','handleSubscriptionNeedMediaStream','getId','1:519415702791:web:5dd39042f881cfde3251a2','has','maxDistance','setIsLoaded','Invalid\x20value.\x20Must\x20be\x20an\x20object.','Generative\x20AI\x20context\x20creation\x20failed.','removeGenerativeAIContext','parse','Relation','maxBitrate','auth','nodeUpdate','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','workflow-does-not-exist','chunk-splitter','.erb','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','resolve','createLocalMediaStream','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','clearSyncTimeout','\x27:\x20missing\x20or\x20invalid\x20keyPath','northamerica-northeast1','createConstantSource','handleConnectionSuccess','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','logRaw','isValidMediaSubscriptionParams','KeyValueDatabaseContentSynchronized','WorkflowDoesNotExist','Crewdle','FinalOutput','verb','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','getOutgoingOptimizationConnections','Model','external-storage-connection-does-not-exist','answerContentAvailable','commitLevel','image/','GraphDatabase','crewdleSDKLoggingChannels','openrouterApiKey','results','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','handshakeCandidates','WebScraper','Connected','isWhereBetween','NodeUpdate','topK','RequestAccepted','parameters','Early\x20return:\x20','frames','invalid-subscription','shift','Invalid\x20key:\x20','searchEngineId','processJobStream','handleDetectionSystemEvents','GenerativeAIContextJobAlreadyConsumed','ragApiKey','Search\x20Agent','.json','Ingest','cpu.fps','receiverPreviousBytes','retryLimit','handleOnMessage','serverTimestamp','getVectorDatabases','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','claude-3-5-sonnet-latest','writes','hashNodes','Incoming','RemoteMediaStreamTrackFail','\x0a\x20===\x20Total\x20Time:\x20','Failed\x20to\x20send\x20job\x20','speechAIWorkerConnectors','Error\x20closing\x20writable\x20stream','Query\x20file\x20connector\x20not\x20set','functions','Archival\x20Search\x20Agent','google/gemini-2.5-pro','canvas','unsubscribe','handleMissingSenders','Info','add','assign','createBuffer','WebRTCBrowserPeerConnectionConnector','generativeAIContexts','AiSearch','Failed\x20to\x20get\x20filename','retryCallback','Node\x20\x27','graphService','getRoundTripTime','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','subscription','object-store-name-not-string','removeItem','autoplay','Issue\x20detected:\x20','LocalMediaStreamTrackFail','sonar-deep-research','listenerUnsubscriber','createJob','packetsLost','ExternalStorageInvalidPath','applyRemediation','.mustache','support','capacityReporter','GetContextQuery','key','handleSubscriptionSubscribeMediaStream','getApp','arguments','Job\x20service\x20observer\x20not\x20found.','.js','Connection\x20not\x20connected.','bytesReceived','lastCapacityReport','connection-buffer-not-empty','Debug','1.0.50.0','lastHeartbeat','temperature','setOnDisconnectHandler','appsync-connect','reject','Node\x20does\x20not\x20exist.','additionnalInstructions','rootComputationPromise','gpt-4o','startIndex','notifyCluster','Object\x20store\x20not\x20synced.','Bid','\x20with\x20','code','removeExternalStorageConnection','syncTransactionsWritten','Invalid\x20query','Summary\x20Generator','crewdle-sdk-logging-','\x20-\x20','maxTokens','Error\x20retrieving\x20context','waitSendBuffer','graph-database','/jobs','Code\x20is\x20required','addBatchOperation','.jinja2','handleJobAttribution','KeyValueDatabaseTransactionTableNotInitialized','\x20to\x20generate\x20a\x20response.','Received\x20','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','setUpgradeTimeout','answer','.vb','Shared','features','publishMove','PeerConnectionInvalidDestination','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','toFixed','agent-join','\x0a\x20===\x20Total\x20Data\x20Received:\x20','crewdle','cluster','getLocalMediaStreams','gpt-4o-mini-realtime-preview','Problem','Data\x20cluster\x20is\x20not\x20open.','LoadSkillFunction','orchestrator-close','outputTokenPrice','2496484ousoAe','senders','GraphDatabaseDoesNotExist','SubscriptionRequestInProgress','Could\x20not\x20open\x20trace','KeyValueDatabaseTableNameReserved','audio','signInWithCredential','October\x202023','setSinkId','unregisterSystemPublisher','getShareableStream','getVideoTracks','checkAudioOutput','ObjectStoreNameNotString','Table\x20not\x20found','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','Agent','bufferedAmountLowThreshold','InvalidSubscription','publishFolder','flatMap','SHA-256','createMediaStreamDestination','GraphDatabaseNameNotString','image_url','close','searchOnPerplexity','getSTVolatility','Search','\x27\x20payload:','Error\x20processing\x20agent\x20block','senderConnection','Sending\x20\x27','logSyncMetrics','remoteUnsubscriber','st_volatility','21a9d78dee97f487b','sendTransactionsValue','every','sendRequest','Invalid\x20node\x20type','stopNoThrottlingHack','Restart\x20NeedMediaStream','Found\x20','filesSynced','checkAudioContext','removeOutgoingSubscription','requestSubscription','DataCollectionDoesNotExist','Error\x20executing\x20code','LocalReport','getDocs','external-storage-connection-already-subscribed','KeyValueDatabasePeakNotFound','traceLevel','value','prototype','email','Execute\x20the\x20agent\x20','remote-connection-exists','getDatabase','operator','isReady','isWhereValues','receiverCurrentBytes','JobDispatcherJobNotFound','internalProcessJobStream','incrementVersion','\x20Stream\x20final\x20response','width','Generative\x20AI\x20Context\x20does\x20not\x20exist','removeTrack','claude-sonnet-4-0','_ready','Key-value\x20database\x20table\x20does\x20not\x20exist.','findNextNodeId','Job\x20Dispatcher\x20does\x20not\x20exist','transactionTable','mediaDevices','splice','/transactions/lastTransaction','__esModule','isSyncing','all','bytesSent','external-storage-invalid-path','getOrResetPendingFileTimeout','setReportCapacity','transactionQueue','mediaStream','leave','Restart','Accepted','external-storage-connectors-missing','text-embedding-3-small','Database\x20does\x20not\x20exist','Disconnected','handleError','1806483aeNpHY','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','gpt-4o-transcribe','search-agent','setDoc','data:\x20','Text','Job\x20service\x20job\x20not\x20found.','\x20Stream\x20usage','splitParts','NodeLeave','Embed','Add','get','.kt','ExecuteCustomSkill','sonar','claude-3-5-haiku-latest','all-minilm-l12-v2','POST','content','Subscription','createConnection','removeGraphDatabase','unregisterPublisherListener','key-value-database-index-not-found','Transaction','NeedRestart','startHeartbeat','appsync-connect-fail','batchTimeout','compileStats','connecting','logBatch','getQuery','Logging\x20trace','output_tokens','workflowId','output','crewdle-sdk-stg.appspot.com','InvalidAccess','generative-ai-context-job-already-consumed','Account','KeyValueDatabase\x20-\x20Sync\x20completed','GenerativeAIContextJobFailed','body','Error\x20opening\x20trace','GraphSearch','removeRemoteMediaStream','pubsub','object-storage-upload','indexOf','deleteJob','sendFile','FormSetAnswer','RequestFile','1:420235181083:web:4eff6062bd845cb0748cbe','Execute\x20skill\x20','whisper-1','createElement','application/octet-stream','engineType','clearWaitAnswer','removeSubscriptionsForNode','\x20-\x20Sending\x20propagation\x20(','/search','createKeyValueDatabase','pub-sub-topic-does-not-exist','addIssue','unregisterSource','setSenderTimestamp','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','SenderSendMessage','inference','streamId','No\x20model\x20available','Prompt\x20is\x20required','sonar-reasoning','ContentType','clientStream','Unsupported\x20job\x20type','createOffer','buildTableEvent','UnsubscribeMediaStream','ModelVector','key-value-database-peak-not-found','Online','evaluateBids','setParams','\x20must\x20be\x20a\x20valid\x20JSON\x20string','handleNodeSystemEvents','Error\x20executing\x20workflow','\x20failed.\x20Retrying...','lastClockUpdate','externalStorages','processReports','Entity','getDistance','Embeddings','search','validateAccess','canChooseAnswer','Reranker\x20block\x20is\x20missing\x20required\x20data','jobs','not-resolved','file-download','GenerativeAIModelOutputType','text/csv','bufferedAmount','handleNeedRestart','featureSupport','NodeAlreadyExist','SpeechToText','targetId','trackChanges','maps','Internal\x20unknown\x20error:\x20','\x20received\x20result:','stopTracing','handleUnsubscribeMediaStream','connection-no-retry-queue','findIndex','urls','Generative\x20AI\x20context\x20job\x20already\x20consumed.','setOnMessageHandler','TimePerFrame','getCoresFromCapacityReport','/resources/generative-ai-workflow/items','manageAncestor','processInboundReport','number','Received\x20ContentSynchronized\x20from\x20','priority','right','isLoaded','aiSearchApiKey','\x20writes\x20from\x20','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','batch','take','ExternalStorageUpload','getReceiverTotalBytes','values','attributes','.txt','nodeKey','3XeKewc','workflow-tool','\x20received\x20responses:','Text\x20is\x20required','maxResolution','pendingFilesRename','PubSubTopic\x20onMessage','file.content','grammar','/resources/agent/items/','fileSendingMap','maxThreshold','remoteConnections','stats','logWaitTime','problemType','systemTopic','answererId','confirmSynchronization','history','handleObjectDelete','vendorId','775665HLacQv','condition_result','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','updateJob','Boolean','TextGeneration','NodeManager\x20-\x20PublishNodeLeave','answer-','Syncing','Invalid\x20key\x20\x27','trend-spotter','filteredDestinationIds','setAnswer','queryParameters','GenerativeAIContextStats','packetsSent','[DONE]','connectionConstructor','generic-agent','downgrade','statsCollection','timeSending','orderBy','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','DataChannel\x20is\x20not\x20initialized.','loadEnabledChannels','externalStorageConnectors','outgoing-stream-no-topic','connection-state','toLowerCase','.xls','clear','clientHeight','outbound-rtp','some','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','Synced','recipients','Invalid\x20subscriber.','GraphDatabaseCreationFailed','checkExistingPendingFileContent','onremovetrack','addRemoteConnection','registerSystemPublisher','Logger.getInstance','.doc','newPath','exists','Valid\x20layout','Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','outputType','getReader','Model\x20not\x20found\x20','Stats','InitialPrompt','JobWorker:\x20Tracing\x20not\x20implemented','jobDispatchers','SubscriptionRequestDoesNotExist','Learning\x20Agent','Context','.pptx','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','ImageParser','MediaStreamPriority','getLayout','lastProcessRank','createGenerativeAIContextStandalone','Events','timeoutValue','.php','Coordinator\x20Agent','graph-database-creation-failed','Index','getTracks','GraphDatabaseAlreadyExists','height','invalid-access','agent-update','searchOnGoogle','createMediaStreamSource','Retrieve','Unknown\x20error','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','crewdle-sdk-stg','iceServers','claude-3-haiku-20240307','problem','I\x20have\x20finished\x20executing\x20my\x20task.','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','updatePropagationProperties','expectedTransactions','feature-not-enabled','connectionType','tokens','JobWorker:\x20Received\x20job\x20attribution','Error','contextOutputVariable','fallbackModel','Invalid\x20peer\x20connection\x20event\x20destination.','RequestFileSync','handleProblem','getPubSubTopic','isSubscribed','onTrack','Rating','openTrace','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','crewdleSDKDisableLogging','slice','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','\x20must\x20be\x20a\x20number','bind','searchConnector','anthropicApiKey','List','\x0a\x20===\x20Current\x20MMR\x20Root','deleteFileChunks','ExecuteWorkflow','CloseExternalStorageConnection','custom-skill','getSupportedContentTypes','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','generative-ai-context-creation-failed','handleIceCandidates','currentBytes','addDoc','Job\x20with\x20id\x20','checkSyncComplete','notifyClusterNodeUpdate','VectorDatabaseMissingConnector','All\x20recipients\x20already\x20received','models','syncResolve','object-store-invalid-payload','openGenerativeAIWorker','file','origin','removeRemoteConnection','minConnections','Invalid\x20object\x20store\x20sync\x20message.','long','Node','setScheduleTime','oncloseTimeout','upload','getPriority','generative-ai-context-job-timeout','No\x20RAG\x20connector\x20available','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','gpt-4o-mini-tts','NodeManager\x20-\x20NodeLeave','MissingRemoteConnection','Completed','waitConnected','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','Cannot\x20find\x20External\x20Storage\x20connection:\x20','.twig','CloseJobDispatcher','isInternalLoggingConnector','wait','now','openAIKey','log','parseDataCollectionBlocks','token','clearSubscriptionRequestTimeout','Sender','sendChunked','getAncestorIds','vectors','0\x20B','handleFileRequestAnswer','GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found','accumulateResult','CloseMediaStream','jobWorkers','listener','Error\x20fetching\x20context','move','generativeAISpeechConnectors','vector-database-missing-connector','WordSplitter','ConnectionNotinitialized','gpu','Early\x20return','document-parser','title','NeedMediaStream','handleSubscriptionSystemEvents','writeBatch','detectStreamIssues','currentDistance','getLastUpdated','isNodeReady','Invalid\x20where\x20clause','Sender\x20connection\x20is\x20not\x20initialized.','User','Job\x20service\x20creation\x20failed.','Data\x20Sent','MissingSystemTopic','remote-stream-missing-provider-id','getGraphDatabase','getPacketsLostPerc','tableUnsubscriber','generative-ai-worker-missing-connector','waitSuccess','pow','createLocalDynamicMediaStream','node-invalid-type','hash','CONNECTION_STATE_CHANGE','Jobs','Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','getMediaStream','logMMRRebuild','getMaxDistance','reset','internal','getStatus','.erl','getTotalBytes','PartialResult','user-update','From\x20','Invalid\x20version\x20\x27','collectSendersStats','jobQueue','entity','file-write','\x20not\x20supported','getHash','getCurrentVersion','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','getEnabledChannels','\x20does\x20not\x20support\x20content\x20type\x20','messagesReceived','Vector','deleteRemoteNode','/logs','handleSubscribeMediaStream','fileChunks','SyncKeyValueDatabase\x20-\x20Ancestors\x20','status','buildQuery','getContent','onChildRemoved','Query\x20must\x20refer\x20to\x20the\x20file\x20table','eleven_turbo_v2_5','processSenderReport','retryCount','buildInitialMMR','generative-ai-context-job-missing-thread-id','Model\x20not\x20found','>\x0a\x0a','setupResizeHandler','Workflow\x20does\x20not\x20exist.','frameHeight','fromEntries','AudioContext','RemoteMediaStreamAlreadyExists','chooseAnswer','Module','readyPromises','ObjectStoreAlreadyExists','NodeNotAuthenticated','PubSubTopic\x20not\x20found','feedback-agent','Resolution','Anthropic','remote-media-stream-invalid-subscription-params','maxConnections','handleNodeUpdate','data-collection','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','AI\x20Worker\x20already\x20exists','Missing\x20external\x20storage\x20connector','generativeAIWorkerConnectors','SystemTopic\x20publish','Rejected\x20answer','getPeaks','disconnect','NodeInvalidType','Buffered\x20chunks\x20are\x20too\x20large','Sync\x20completed','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','nodesConnected','noun','/stats','getRemoteMediaStreams','getBuffer','isJobAttribution','web-scraper-raw','roundTripTime','maxFps','messageListeners','JobWorker:\x20Received\x20job','publishFile','description','JobDispatcher:\x20Received\x20job','DocumentParser','ceil','setDisplayName','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','Executing\x20custom\x20skill:\x20','request-accepted','disableIntervalHack','local-media-stream-already-exists','createRemoteMediaStream','realtime-session-create','getShareableStreamId','VectorDatabaseAlreadyExists','\x20deleted.','addTrack','commitType','toStringTag','sendFileRequestPayload','Subject','signOut','displayName','context','GenerativeAIWorker:\x20Opening','validateVendorCredits','startBidResponseHandling','Workflow','KeyValueDatabaseRequestTransactionsValue','removeKeyValueDatabase','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','if_else','agent','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','invalid-data-chanel','addCandidate','form-skill','optimizationLayers','msalRefreshToken','onBufferedAmountLow','PubSubTopicStats','manageBufferedChunks','google/gemini-2.0-flash-001','createOutgoingSubscription','commitTrace','receiverBitrate','failJob','393590tJPUkr','replaceTrack','scheduleTime','Internal\x20event\x20\x27','inputTokenPrice','ObjectStoreStats','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','claude-opus-4-0','FormSkillSubmitForm','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','internalId','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','addRemoteNode',':\x20Object\x20store\x20is\x20not\x20in\x20sync','getKeyValueDatabases','getDataCollections','Queued','prompt_tokens','handleContentCloseMediaStream','receivers','https://api.stg.crewdle.ai','SpeechToSpeech','No\x20speech\x20connector\x20available','objectRequests','loggingConnectors','Error\x20closing\x20trace','total','handleFileRequest','handleRequestPayload','modelId','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','subscriptionRequests','ObjectStoreInvalidPath','Method\x20not\x20supported','media-stream','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','createJobDispatcher','externalStorageConnections','mode','\x0a\x20===\x20Synchronization\x20Time:\x20','DataStream\x20send','ExternalStorageConnectionAlreadyExists','getExternalStorageConnection','open','docs','Local\x20node\x20rank\x20is\x20not\x20set','connectionState','byteLength','taskType','JobWorkerAlreadyExists','delta','/workflows/','ref','statsManager','groupId','limitToFirst','overlap','appsync-close','region','setupListeners','getToolName','/transactions/','getAgents','RelationExtractor','Invalid\x20object\x20store\x20state.','skipEncryption','GenerativeAIContext','observe','messageBuffer','layout','User\x20not\x20signed\x20in','handleNodeLeave','object','CloseKeyValueDatabase','GenerativeAIWorker:\x20FileDelete\x20failed','ready','ClosePubSubTopic','utf8','generative-ai','links','includes','GraphDatabaseStats','handlePublishMediaStream','floor','availableTrackKinds','questions','content-unpublish-media','configs','RequestFileWrite','blocks','getInternalStreamId','Number','PromptFunctionParamsType','apiUrl','Write\x20text\x20data\x20to\x20a\x20file.','CannotProvideMediaStream','next','CPUCycle','PromptRating','queryFileConnector','trackCallback','sync','contextInputVariable','getFirestore','knowledgeCutoffDate','KeyValueDatabaseInvalidValue','subscriptionRequestTimeouts','graphql','incomingManager','August\x202024','question-','executeJavascriptCodeSnippet','AudioContext\x20is\x20not\x20available','unsubscribeListener','inbound-rtp','lastRemediations','WaitFalse','replace',';base64,','indexes','startTime','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','connectorConstructor','developers','inputTokens','decode','joinCluster','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','getMediaSubscription','G-F7W8KXRKQB','ObjectStorage','isIceCandidate','discover','/traces','getSubscribedTracks','fps','Stream\x20already\x20exists','hasBufferedData','text','PubSubTopicNameNotString','totalDecodeTime','subject','instance','debounceReadyTimeout','AudioVideoDelay','Graph\x20database\x20creation\x20failed.','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Attribution','deletePendingFile','Reranker','logDataSent','topicLabel','speech-create','setRank','KeyValueDatabaseDoesNotExist','pop','elevenLabsApiKey','Copywriter\x20Agent','.clj','Router','.xml','sdkValidateAccess','sequence','key-value-database-not-open','vector-database-creation-failed','job-dispatcher-job-exists','writeTransaction','.cfg','listenUnsubscriber','Local\x20MediaStream\x20already\x20exists','oidc','EntityExtractor','getSize','KeyValueDatabaseCreationFailed','frameTime','registeredListeners','ReceiverPeerConnection.onMessage','en-US','tts-1','eventTarget','Upload','relations','subscription-request-failed','arrayBuffer','message','.Total\x20pages\x20available:\x20','exports','FramePerSecond','syncedFileExists','handleContentUpdateMediaStream','vectorDatabaseConnector','getSettings','authenticateUser','label','orchestrator','ended','gatheringState','Cannot\x20publish\x20file:\x20','System','<current-question>','setVendorId','processContentAvailable','outgoingStreams','contentMediator','successNotified','executeAgent','FormGetQuestion','startLoggingCycle','jobBids','handleObjectMove','GenerativeAIRatingStatus','processOutboundReports','\x20sending\x20attempt\x20','changesUnsubscriber','Invalid\x20subscription.','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','Node\x20already\x20exists.','performCalculation','ragConnectors','candidate','updateLastUpdated','Channel\x20\x27','\x27\x20in\x20layout','senderPreviousBytes','framesEncoded','receiverStreams','hasMessage','getFunctions','openJobWorker','subscriptions','processReceiverReport','processContentAvailable\x20-\x20Peak\x20comparison:','\x20does\x20not\x20exists','pub-sub-topic-name-not-string','JobDispatcherInvalidPayload','GenerativeAIInferenceToolType','getJobDispatchers','Internal\x20SDK\x20error:\x20','InvalidSubscriber','job-worker-does-not-exist','StorageEventType','transactionsToSync','getContentType','ReceiverOnMessage','Logging\x20not\x20enabled\x20for\x20channel\x20','Initial\x20MMR\x20built\x20with','gpt-4o-mini-transcribe','processRemoteInboundReport','SubscribeMediaStream','destroy','sonar-pro','Bitrate','.rb','previousFrames','gpt-4o-realtime-preview','collection','Connection\x20not\x20initialized.','PubSubTopicAlreadySubscribed','senderTotalMessages','\x20check\x20failed','KeyValueDatabaseTableDoesNotExist','ingestBlocks','getRoot','KeyValueDatabase\x20not\x20found','PubSubTopicDoesNotExist','string','collection-create','JobQueueService:\x20Error\x20running\x20job','Generic\x20AI\x20Agent','createDataChannel','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','IngestTrace','PublishMediaStream','_isReady','onNodeDisconnect','bid','registerPublisher','call','ConnectionState','runTransaction','rebuildMMR','stream','WorkflowInvalidBlockType','localMediaStreams','disconnectCallback','retryQueues','lastExecuted','clearHeartbeat','Job\x20worker\x20creation\x20failed.','setOnTableWriteHandler','filter','arrayBufferToObject','deleteObject','createSenderConnection','SyncComplete','setPendingFileSyncingPayload','undefined','cpu.cycle','Object\x20store\x20is\x20not\x20in\x20sync','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','logEvent','ConnectionGroup','onSnapshot','setupTrackEndedListeners','processServiceReport','DataStream\x20onMessage','connection-not-initialized','job-dispatcher-does-not-exist','cachedRoot','GenerativeAIContextCreationFailed','receiverTotalMessages','Knowledge','InvalidPublisher','\x20seconds','\x0a\x20\x20===\x20Total\x20Nodes:\x20','detectProblems','Cannot\x20list\x20directory:\x20','removeObjectStore','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','shouldProcessTransaction','failed','firestore','resetConnection','/vector_stores/','getVectorDatabase','entries','registerSystemSource','runJobQueue','getConnectionDestinations','openGraphDatabase','Invalid\x20workflow\x20block\x20type.','Cannot\x20unpublish\x20object:\x20','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','listFiles','\x20already\x20exists','syncTransactions','connectionStateListener','</current-question>\x0a\x0a','packets','handleRemediationSystemEvents','currentFrames','word-splitter','Partial','remoteId','onDisconnectHandler','setInternalId','RestartNeedMediaStream','desc','created','coordinator-agent','image','isEqual','November\x202024','totalNodes','responseTimeout','sentence-splitter','GenerativeAIContextJobTimeout','syncKeyValueDatabase','RAG\x20connector\x20is\x20not\x20available','Missing\x20remote\x20node\x20or\x20rank','handleOutgoingSystemEvents','summary-generator','ClusterAlreadyJoined','error','reportMetric','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','pendingHandshakeCandidates','interview-agent','getOwnerId','generative-ai-label-conflict','getObjectStoreBucket','detail','16ZoDOlX','onConfigurationChange','updateLastTransactionId','setSubscriptionRequestTimeout','getDataCollection','\x20to\x20send\x20dispatcherJob\x20','FormSkill','trackKinds','dataStores','createBatch','ConnectionNotConnected','getAudioVideoDelay','receiver-on-message','prompt','removeIncomingSubscription','Job\x20Worker\x20does\x20not\x20exist','Hash\x20computation\x20failed,\x20retrying...','handleUpdateMediaStream','getDoc','Received\x20content\x20available\x20from\x20node','NodeManager\x20-\x20NodeUpdate','reportCapacity','tool-call','evaluateBidsAndAttributeJob','handleSubscriptionProvideMediaStream','relation-extractor','readyResolve','agentConfig','SHA-1','logStorage','bandwidth.bitrate','addVideoTrack','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','remediation','resizeHandler','Missing\x20search\x20API\x20key','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','OutgoingMediaStreamNoTopic','collectionId','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','executeQuery','folder-create','NodeTypeRequired','.lua','Hub','JobStatus','unpublish','An\x20error\x20occurred','addReservedTables','GenerativeAIWorkerAlreadyExists','workflow','Job','ExternalStorageConnectionAlreadySubscribed','Skill','push','getSentences','Query\x20is\x20required','setBytes','addPendingHandshakeCandidate','startTracing','contentType','KeyValueDatabaseIndexNotFound','not-in','getConnections','statusText','logUsage','Search\x20connector\x20not\x20set','Invalid\x20data\x20event.','/transactions','clearConnectionTimeout','hasRemoteNode','enabledChannels','generative-ai-worker-already-exists','More\x20content\x20available\x20on\x20page\x20','inputType','api','Move','localNode','ccc','detectLocalIssues','request-file-sync','ExternalStorage','claude-3-opus-latest','getConnectionGroup','getSenderTotalBytes','addBidResponse','text/','March\x202025','relevance','mediaTopics','setupRenderElement','connection-not-connected','OPFSObjectStoreConnector','us-east-1','lastTransactionId','manageOptimization','clearOncloseTimeout','RoundTripTime','stop','dataTopics','GetContextResult','JobWorkerDoesNotExist','getEntities','model','usage','collection-delete','async','PeerConnection','debounceLogTimeout','Vector\x20database\x20creation\x20failed.','getConfigs','authenticateAgent','Invalid\x20credentials','dedicated','FileWrite','commitBatch','startNoThrottlingHack','\x20failed.','endpointMethod','ExternalStorageNameNotString','sendTransactionsValue\x20-\x20value\x20not\x20found','ENOENT','isSync','ModelText','getSenderBitrate','graphDatabases','Orchestrator\x20handleSystemEvents','logSupport','object-store-invalid-sync-message','getInstance','handleSubscriptionUnsubscribeMediaStream','createCollection','form-skill-submit-form','consumeBufferedEvents','ExternalStorageConnection\x20not\x20found','local-media-stream-track-fail','computeHash','Receiver\x20connection\x20is\x20not\x20initialized.','generateClient','debug','root\x20hash:\x20','Base\x20Peer\x20Connection','getTime','key-value-database-does-not-exist','Error\x20resolving\x20readyPromises:','agentId','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','previousBytes','o4-mini','commit','setReceiverTimestamp','discoveryUnsubscriber','ConnectionNoRetryQueue','ExternalStorageConnectorsMissing','from','closed','ancestors','Error\x20during\x20MMR\x20rebuild\x20logging:','question','debounceAppendLog','configure','clearRect','KeyValueDatabase','key-value-database-invalid-query','speech-to-speech','warning','validateValue','IDBDatabaseConnector','true','play','receiverPreviousTimestamp','setRemoteConnections','handleSubscriptionRestartNeedMediaStream','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','page','OpenRouter','addProblem','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','strategizing-agent','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','success','setProviderId','object-store-not-synced','isJobRequest','handleContentUnpublishMediaStream','.vue','batchSize','ConnectionBufferNotEmpty','distance','set','GenerativeAIWorkerCreationFailed','QueryBuilderInvalidArgument','LocalMediaStreamDoesNotExist','mute','\x20ms\x0a','publishNodeJoin','appendTransaction','previous','messagesSent','Connection\x20does\x20not\x20exist','handleDisconnect','GenerativeAIWorker:\x20CollectionDelete\x20failed','application/json','Invalid\x20layout:\x20','getWorkflowObjectStorageBuckets','agent-skill','\x20new\x20transactions','AITrace','startAt','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','globalObject','closeTrace','observer','createSubscription','discoveryService','Error\x20executing\x20agent','/resources/generative-ai-collection/items','addEdge','claude-3-7-sonnet-latest','signalingState','client','node-type-not-supported','ObjectStoreInvalidSyncMessage','setLocalRank','fetch-url','openGenerativeAIContext','JobWorkerInvalidType','Done','addNode','graph-database-does-not-exist','mmr','ApiKeyMissing','clearUpgradeTimeout','createGenerativeAIContext','type','Dedicated','checkWebRTC','getJobs','getBufferedAmount','clearWaitSuccess','setupConnectionEvents','June\x202024','request-file','authNode','processList','storage','compareTransactions','embedding','pathName','doc','Node\x20is\x20not\x20an\x20agent','base64','documentParserConnector','default','VectorDatabaseStats','Get','shared','keyValueDatabases','Apply\x20remediation','asc','job-dispatcher-observer-not-found','external-storage-name-not-string','handleContentRemoteMediaStreamTrackFail','nodes','url','threshold','\x27\x20to\x20','Wait','currentVersion','senderTimeProcessing','FPS','checkDeviceConfig','URL\x20is\x20required','receiverConnection','durationTime','Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','NodeType','validateKey','Answer','77kWOulg','signalingServer','httpsCallable','RemoteMediaStreamInvalidSubscriptionParams','messageType','assistant','pool','keys','openaiApiKey','All','sonar-reasoning-pro','cluster-already-joined','toLocaleDateString','JobWorkerCreationFailed','\x0a\x20===\x20Wait\x20Time:\x20','Submit\x20the\x20form.','storageType','limit','subscribe','processInboundReports','cluster-disconnect','offset','.exs','sourceId','GraphDatabaseMissingConnector','publishNodeLeave','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','text/plain','getInternalTrackParams','\x20completed.','sourceVideo','deleteFile','detection','.dart','searchInDataCollection','sendBid','Signaling','ObjectStoreInvalidState','getNumberOutgoingSubscriptions','addEventListener','match','agent-config-changed','KeyValueDatabaseSyncRequired','element','vector-database-does-not-exist','connections','jobType','Interviewer\x20Agent','KeyValueDatabaseStats','remoteMediaStreams','\x20attributed\x20to\x20','Missing\x20AI\x20search\x20API\x20key','tableLayout','CloseJobWorker','subscription-request-does-not-exist','relation','amd','subscriptionManager','input_tokens','submitForm','validateQuery','parseWorkflowDocument','write','RemoteMediaStreamMissingProviderId','updated','readyDebounce','GenerativeAIContextDoesNotExist','getAuth','job-dispatcher-creation-failed','apikeys/','document-agent','getIdToken','getRemoteConnections','Error\x20processing\x20workflow\x20block','transactionService','defineProperty','RemoteConnectionExists','transactions','debounceProcessRank','server','remoteNodes','AgentSkill','chosenAnswers','::￿','SearchPerplexity','\x20with\x20response:','Invalid\x20job\x20type','standalone','.pl','144nSZyQV','openVectorDatabase','\x0a\x0adata:\x20','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','emit','May\x202024','connection','VectorDatabase\x20not\x20found','videoHeight','connectionGroup','eleven_multilingual_v2','connectionTimeout','retryQueue','KeyValueDatabaseRequestPeakTransactions','Error\x20fetching\x20URL','moveObject','audioSource','Backgrounds','setEncodingParameters','x-ai/grok-3-mini-beta','previousTimestamp','ScreenSharing','upgradeTimeout','query','app','video','onDisconnect','isMediaSource','getTransactionByHash','getDataLogged','account','waitForArrayBufferSize','handleRemoteTrackFailure','ExecuteAgent','WaitTrue','getLocalMediaStream','warn','missing-datachannel','version','Audio','developers/','load','resolutionScale','appsync-disconnect','clockSkew','data:\x20[DONE]\x0a\x0a','@root','No\x20parameters\x20provided','pubsubTopics','fetchContentFromUrl','chained','Core','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','deleteCollection','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','receiverTimeProcessing','hasOwnProperty','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20—\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20—\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','invalid-publisher','Default','decodeJWT','Remove','August\x202023','find','chunksReceived','remote-media-stream-already-exists','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','Handshake','deleteTransactionsForTable','getToolParams','September\x202023','orderByKey','numeric','getDisplayMedia','generative-ai-worker-creation-failed','handleFileSync','setStatus','clusterId','ObjectStoreNotInSync','setTimestamp','catch','Error\x20processing\x20retrieve','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','Receiving\x20\x27','handleHandshake','setInterval','April\x202024','getReport','isFeatureSupported','RemoteRemove','onRemoveTrack','generative-ai-context-job-invalid-type','IncomingSubscription','query-generator','documentPath','Connection','PubSubTopicAlreadyExists','No\x20start\x20block\x20found','vectorDatabases','File','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','Stream\x20does\x20not\x20exist','JobStream','STVolatility','instantiateTransactionTable','getFullYear','Database\x20already\x20exists','handleFolderCreate','KeyValueDatabaseNameNotString','run','addConnection','Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','getSubscriptionLabel','isConnected','Subscription\x20request\x20does\x20not\x20exist.','PubSub','isProduction','setConnectionType','LoggingService:\x20logging\x20enabled\x20for','removeVectorDatabase','removeRemoteNode','JobWorker:\x20Received\x20job\x20request','createIncomingSubscription','/chat/completions','connectionManager','No\x20connections\x20available\x20to\x20send\x20message','GraphDatabase\x20not\x20found','DTVolatility','getRemoteId','cluster-leave','AISearch','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','authContext','CanProvideMediaStream','owner','supported','Internal\x20SDK\x20Error:\x20','Error\x20encountered\x20while\x20opening\x20database','ObjectStoreAlreadySubscribed','pendingFilesTransactions','file.type','mmrRoot','Unknown\x20skill\x20type','resume','setDurationTime','connected','answers','getProviderId','processRank','trackListeners','outputTokens','srcObject','Invalid\x20data\x20channel.','getJobObservable','handshakeDebounce','getConnectionType','GenerativeAIWorker:\x20Opened','senderPreviousTimestamp','operations','VectorDatabaseCreationFailed','google/gemini-2.5-flash','source','evaluatePartialJob','Error\x20searching','component','images','write-file','LocalMediaStreamNoAudioContext','abs','Publish\x20the\x20transaction','logServiceEvent','createGenerativeAIWorker','isOpened','LocalMediaStreamAlreadyExists','contentRect','Key-value\x20database\x20creation\x20failed.','clearRestartTimeout','propn','Cannot\x20get\x20file:\x20','/nodes','Unknown\x20error\x20occurred\x20while\x20executing\x20workflow','handleNodeDisconnect','send\x20error\x20on\x20','checkAudioVolume','WebGL','getMaxConnections','Medium','user','TestPage','351012FiCCsk','.pdf','remediationManager','local-media-stream-no-audio-context','debounceReady','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','complete','logger','Opened\x20generative\x20AI\x20worker','bufferedEvents','accessToken','race','createBatchOperation','findNewMediaSubscription','GenerativeAIContextJobInvalidType','Problem\x20detected:\x20','Strategizing\x20Agent','AI\x20Search\x20connector\x20not\x20set','processTransactionPayload','AudioOutput','initializeApp','getTableConnector','evaluateProccessedJob','CrewdleReceiverConnection\x20ontrack','contentSize','RetrieveTrace','x-ai/grok-3-beta','getNextTargetRank','query-file','handleUnpublishMediaStream','525514rfrRPs','router','KeyValueDatabaseContentAvailable','detectVideoIssues','onDataChannel','Competitive\x20Analysis\x20Agent','key-value-database-table-not-found','ownerId','unregisterPublisher','result','RemoteMediaStreamDoesNotExist','Detection','validateLayout','object-store-cannot-write-transaction','Content','WorkflowTool','Disconnect','av_delay','isOffer','headers','GenerativeAIEngineType','length','Feedback\x20Agent','getGraphDatabases','isArray','validation','handshakeState','batchQueue','knowledge','mergeParts','statsReporting','ObjectStoreDoesNotExist','getRemoteNode','getEstimatedTimestamp','getKeyValueDatabase','New\x20MMR\x20Root:\x20','notifyObjectStoreOfNodeLeave','processBatch','contentManager','KeyValueDatabaseSendTransactions','getRemoteMediaStream','sendStats','OfficeParser','Offer','Object\x20store\x20connector\x20is\x20not\x20available','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','enabled','tools','processJob','getDisplayName','Subscription\x20request\x20has\x20not\x20been\x20answered.','isMediaDestination','internal-sdk-error','missing-system-topic','getGenerativeAIContextsStandalone','remove','OutputStream','trim','CREWDLE_WEB_SDK','Received\x20event\x20on\x20cluster','GenerativeAIWorkerModelSyncError','requestSubscriptionAction','database','trace','openKeyValueDatabase','size','job-worker-invalid-type','where','isBidResponse','propagate','senderStreams','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','padStart','generativeAIWorkers','clusterEventEmitter','forceLog','FormSkillSetAnswer','timeReceiving','onHandshakeStateChange','sendIceCandidates','tableName','embed','nextNodeId','getGenerativeAIContexts','isComputingMMR','ObjectStore','closeConnection','isChannelEnabled','audioContext','No\x20destinationIds\x20left','instructions','Request','notifyClusterNodeJoin','senderBitrate','collectTransactionsFromNode','.ts','maxOutgoingSubscriptions','frameWidth','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','trackEndedListeners','removeTrackCallback','detectAudioIssues','minRelevance','asObservable','.cs','KeyValueDatabaseTableNotFound','InvalidDataChannel','\x20Ai\x20search\x20final\x20response','AppSync\x20subscribe','queueLength','\x20Processing\x20audio\x20block','High','Pool','Invalid\x20index\x20in\x20table\x20\x27','file-ingest','collectReceiversStats','getAvailableTrackKinds','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','InternalSDKError','connect','handleStatsSystemEvents','disconnected','remote-stream-does-not-exist','CloseVectorDatabase','iceConnectionState\x20failed','gain','getTrack','processTransactionsToComputeMMR','getWorkflows','unshift','\x20MB','.docx','collectStats','https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf','/resources/generative-ai-workflow/items/','SubscriptionRequestNoAnswer','text-embedding-3-large','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','pub-sub-topic-already-exists','handleContentSubscribeMediaStream','packetsReceived','gpt-4.1','JobDispatcherInvalidJobType','object-storage','captureStream','Cluster\x20already\x20joined','\x20must\x20be\x20a\x20string','jitter','currentTimestamp','loggingCycle','Mistlet\x20capacity\x20report\x20not\x20set.','1.0.50','framerate','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','maxFramerate','systemMessages','logConnectionState','clientWidth','handleContentSystemEvents','Upgrade','topic','minResolutionScale','ExternalStorageConnectionDoesNotExist','rank','Failed\x20to\x20get\x20file','Pending','ChunkSplitter','JobDispatcherDoesNotExist','Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string','checkMediaRecording','.go','January\x202025','endsWith','createAIJob','getAudioTracks','onClose','lastUpdated','localId','shouldEmit','content-publish-media','ExecuteCode','incomingTopic','removeNode','Failed','createPendingFileWrite','Key-value\x20database\x20transaction\x20value\x20not\x20set.','\x0a</','getDTVolatility','transactionHashMap','queryCollection','Model\x20ID\x20is\x20required','handleOptimizationConnectionSuccess','muted','registerCluster','eleven_flash_v2_5','initializeSystemTopic','getWorkflow','cpu.time_per_frame','FolderCreate','saveToDisk','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','unregisterCluster','searchApiKey','web-scraper','getName','AI\x20Service\x20already\x20exists','Llamacpp','JobWorker:\x20Handling\x20job\x20attribution','setupStatsCollection','keyValueDatabaseConnector','executeWorkflow','AppSync\x20publish','answerJoin','getJobWorkers','CloseGraphDatabase','getResolutionScale','Missing\x20AI\x20worker\x20connector','Remediation','VectorSearch','calculateSize','object-store-stream-does-not-exist','dataChannel','receiverUnsubscribers','getDataBucketIds','Tool','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','\x27\x20reserved','unsubscribeTrackEndedListener','stun:','\x20answer','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','off','key-value-database-already-exists','peaks','.awk','issues','parentId','NodeManager\x20-\x20ConnectionSuccess','choices','then','Success','key-value-database-transaction-value-not-set','Cannot\x20write\x20transaction.','checkWebGL','topics','sendAction','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','Invalid\x20JSON:','sendReject','NodeConnectionsUpdate','list','completeSync','sendWithRetry','meta-llama/llama-4-maverick','file-delete','MediaStream','OutgoingSubscription','ObjectStoreCannotWriteTransaction','Offline','Cannot\x20publish\x20move\x20operation:\x20','clusters','update','handleCloseContent','graphDatabaseConnector','options','createObjectStoreBucket','addCluster','mediator','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','queries','handlePeerConnectionSystemEvents','GenerativeAILabelConflict','joinedClusters','removeJobWorker','speak','GenerativeAITaskType','nlpLibraryConnector','output-stream','queues','aws','onNodeUpdate','publishSystemMessage','hosting','blockId','detectionManager','sort','getEmail','Workflow\x20output\x20is\x20not\x20a\x20string','JobWorker:\x20Error\x20processing\x20job','getQuestion','aiSearchConnector','cpu.av_delay','stopConnection','setEmail','getRemoteNodes','setupStatsReporting','publishLocalMediaStream','getTransactionFromTableWriteEvent','getEngineType','setPriority','voice','unregisterSubscriber','systemMessagesReceived','SenderPeerConnection.send','Optimization','removePubSubTopic','ranges','everyone','Node\x20type\x20is\x20invalid','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','loadFromDisk','bodyParameters','rejectReady','.crewdle-pending','setCurrentVersion','required','getMinConnections','Key-Value\x20Database\x20-\x20Sync\x20Completed','isAvailable','createPubSubTopic','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','time','objectStoreConnector','Missing\x20index','pendingFilesSyncing','return\x20this','createGain','resolveReady','rate','FileStatus','destinationIds','file-list','sdkCreateToken','publishSyncCompletedAfterWrites','JobType','JobContext','GenerativeAIRagType','30VKHTkG','setTimeout','Cannot\x20publish\x20payload:\x20','WriteFile','openPubSubTopic','syncPendingFiles','handleFileWrite','thread-','addAudioTrack','Invalid\x20table\x20name\x20\x27','.java','AppSync\x20client\x20not\x20ready','getCurrentMaxLayer','sender','receiver','setForDeletion','insert','reduce','KeyValueDatabaseInvalidLayout','getTotalNodes','job-dispatcher-job-not-found','minThreshold','entity-extractor','\x20created\x20and\x20dispatched.','archival-search','onConnectionStateChange','RemoteRemediation','val','processReport','channel','substring','local-stream-does-not-exist','processReceivedTransactions','join','ragConnector','endpointUrl','upgrade','GenerativeAIContextInvalidPartialResult','openJobDispatcher','sendPeakTransactions','peer-connection','listen','delete','handleChunkMessage','ObjectStorageUpload','.jinja','head','listChanges','debugEnabled','jobId','420235181083','score','Parameter\x20','debounceStats','authService','/developers/','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','firstValueFrom','getTable','subscriptionRequestsQueue','renderElement','hashPeakHashes','webgl','OptimizationConnectionSuccess','ExternalStorageStats','Media','createRemoteNode','dataUnsubscribers','Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','Database\x20Opened','count','CrewdleSenderConnection\x20createOffer','vector-database','data','generative-ai-context-already-exists','nodeManager','RemoteAdd','CloseGenerativeAIContext','Warning','image-parser','threadId','queryOrPrompt','system','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','isInternalSDKConfigs','Downgrade','syncTimeout','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','FeatureNotEnabled','pendingSyncTransactions','Recording','kind','JobWorker:\x20Sending\x20job\x20reject','registerDestination','createTopic','/resources/generative-ai-collection/items/','object-store-already-subscribed','\x20were\x20ready\x20in','tables','processLocalReport','retry','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','bufferedChunks','.swift','PayloadAction','ObjectStoreNotSynced','crewdleSDKEnableLogging','Prompt','objectStores','buffer','Received\x20track','logDataReceived','unsubscribeHandler','comparePeaks','VectorDatabaseNameNotString','entities','\x20transactions\x20from\x20node\x20','getSimilarity','Error\x20reading\x20file\x20chunk\x20after\x20','gpt-4.1-nano','audioDestination','llama-3.1-8b','workflow-invalid-block-type','subscribeToJobs','eventEmitter','Jitter','Delete','setItem','/capacities','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','systemTopicUnsubscribe','messageCallback','Amplify','debounceRebuildMMRWithTransaction','addMessage','564400fCDZiA','CloseObjectStoreBucket','handleAnswer','if-else-router','ai-search','clusterKey','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','hashTransaction','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','.liquid','syncContent','.info/serverTimeOffset','CrewdleConnectionGroup','events','ObjectStoreInvalidPayload','FS\x20connector\x20is\x20not\x20available','connector','WebRTC','Writable\x20stream\x20is\x20missing','Error\x20committing\x20batch:','openGenerativeAIContextStandalone','SearchGoogle','nodeId','input-stream','completed','Job\x20','removeConnection','unregisterRemoteNode','ElevenLabs','onUnregisterPublisher','Outgoing','getJob','getLocalNode','Store\x20already\x20exists','2-digit','dispatchEvent','Count','ConnectionInvalidDataEvent','gpt-4o-mini','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','crewdle-sdk','getClosestNodes','cancel','Error\x20parsing\x20JSON:','codes','getBid','cost','timesCalled','uid','encode','Execute\x20the\x20workflow\x20','Job\x20Dispatcher\x20already\x20exists','available','UpdateMediaStream','connectionPool','waitAnswer','endpoint','DataStream','meta-llama/llama-4-scout','.ex','max','/embeddings','transaction','Local\x20stream\x20does\x20not\x20exist.','JobWorker:\x20Sending\x20job\x20bid','createNewBatch','reads','tableObserver','Image','PromptSource','handleTransactionPayload','removeRemoteStreamSubscription','handleNodeJoinNeedPublishedStream','senderCurrentTimestamp','extendedRecipients','KeyValueDatabaseAlreadyExists','Support:\x20current\x20config','removeLocalMediaStream','onloadeddata','generative-ai-worker-model-sync-error','enumerateDevices','maxBpp','connection-invalid-data-event','joinedAt','files','Trend\x20Spotter','DataCollection','index','Missing\x20graph\x20database\x20connector','.vbs','vector','object-store-not-in-sync','https://api.crewdle.ai','collection-query','removeTrackListeners','getItem','streams','getTrackFromParam','No\x20more\x20questions,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','action','registerSource','processOutboundReport','firebaseUnsubscriber','isWhereValue','removeEventListener','Invalid\x20content\x20type','stringify','reasoning','IntermediateOutput','/jobs/','split','getGenerativeAIWorkers','SubscriptionRequestFailed','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','handleContentUnsubscribeMediaStream','Support:\x20','messages','WebScraperRaw','restartTimeout','Consuming\x20buffered\x20event','Update','MediaStreamUnavailable','Receiver','getContext','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','feedback','key-value-database-transaction-table-not-initialized','getLabel','fileConnector','Query\x20Generator','hasTable','bandwidth.rtt','Joined\x20cluster','getConnection','internalProcessJob','name','InputStream','toString','publishSyncCompleted','track','appendTransactionAndUpdateHashMap','handleOffer','random','openObjectStoreBucket','removeJobDispatcher','.j2','tool','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','bandwidth.jitter','Data','params','.css','removeSubscription','No\x20file\x20content\x20found','\x20already\x20exists.','start','Support','interval','Error\x20validating\x20vendor\x20credits','createExternalStorageConnection','UnpublishMediaStream','completion_tokens','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','transactionsToAppend','contentRequestSent','SentenceSplitter','snippet','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','getIsLoaded','function','getPartsForSubscriptionLabel','Conditional\x20Router','accumulated','mistlet-capacity-report-not-set','Error\x20writing\x20file','key-value-database-invalid-value','removeTopic','JobDispatcherObserverNotFound','.conf','retryDelay','Subscription\x20request\x20failed.','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','isReconnecting','Waiting','chunks','Failed\x20to\x20commit\x20batch\x20after\x20retries:','Subscribing\x20to\x20an\x20event:\x20on','FolderMove','JobDispatcherCreationFailed','recomputeRoot','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','Low','framesDecoded','request','Error\x20writing\x20chunk\x20to\x20stream','messageUnsubscriber','StreamReport','JobWorker:\x20Sending\x20job\x20result','Rejected','left','send','updateDebounce','GenerativeAIWorkerStats','LoadKnowledgeFunction','GenerativeAIContext\x20stream\x20error','QueryFile','callback','publishLocalDynamicMediaStream','getExternalStorageConnections','remainingTracks','handleNodeJoin','SystemStats','\x20Fallback\x20model','timePerFrame','ObjectKind','subtle','debounceRebuildMMR','publishUserUpdate','event','system-stats','NodeTypeNotSupported','outgoingTopic','/usages','Result','Pinecone','setLoggingConnectors','getUserMedia','FetchUrl','Human','getPubSubTopics','peakHeights','removeListener','unregisterDestination','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','internalContext','resolution','getRank','NodeJoin','timestamp','counter','mediaUnsubscribers','UnsubscribeMediaStreamdiaStream','pubSubTopics','currentBatch','organizationId','direction','FormSkillGetQuestion','calculateArrayBufferSize','key-value-database-table-name-reserved','createAnswer'];a0_0x2612=function(){return _0x4bcbbe;};return a0_0x2612();}function a0_0x35be(_0x3bba86,_0x3e24bc){const _0x261218=a0_0x2612();return a0_0x35be=function(_0x35be01,_0x4cbee6){_0x35be01=_0x35be01-0x1cd;let _0x50ef58=_0x261218[_0x35be01];return _0x50ef58;},a0_0x35be(_0x3bba86,_0x3e24bc);}(function(_0x45cc11,_0x175bdc){const _0x56db0c=a0_0x35be,_0x36b33f=_0x45cc11();while(!![]){try{const _0x959318=-parseInt(_0x56db0c(0x9f4))/0x1+parseInt(_0x56db0c(0x81b))/0x2*(-parseInt(_0x56db0c(0x2eb))/0x3)+parseInt(_0x56db0c(0x1f6))/0x4+parseInt(_0x56db0c(0x301))/0x5*(parseInt(_0x56db0c(0x96d))/0x6)+parseInt(_0x56db0c(0x259))/0x7*(-parseInt(_0x56db0c(0x5ce))/0x8)+-parseInt(_0x56db0c(0x73f))/0x9*(-parseInt(_0x56db0c(0x45a))/0xa)+parseInt(_0x56db0c(0x6e6))/0xb*(-parseInt(_0x56db0c(0x7fd))/0xc);if(_0x959318===_0x175bdc)break;else _0x36b33f['push'](_0x36b33f['shift']());}catch(_0xeae714){_0x36b33f['push'](_0x36b33f['shift']());}}}(a0_0x2612,0x758c6),!function(_0x5d808c,_0x4915aa){const _0x484b1e=a0_0x35be;if(_0x484b1e(0x4a2)==typeof exports&&_0x484b1e(0x4a2)==typeof module)module[_0x484b1e(0x514)]=_0x4915aa();else{if(_0x484b1e(0xa9d)==typeof define&&define[_0x484b1e(0x71e)])define([],_0x4915aa);else{var _0x4a1746=_0x4915aa();for(var _0x315214 in _0x4a1746)('object'==typeof exports?exports:_0x5d808c)[_0x315214]=_0x4a1746[_0x315214];}}}(this,()=>((()=>{'use strict';const _0x273dd2=a0_0x35be;var _0x24e6b7={0x14d:(_0x42e803,_0x26273e,_0x365f0f)=>{const _0x4ae195=a0_0x35be;_0x365f0f['d'](_0x26273e,{'O':()=>_0x3fa7bf});const _0x3fa7bf={'version':_0x4ae195(0xc1f),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x4ae195(0x742),'projectId':_0x4ae195(0x354),'storageBucket':_0x4ae195(0x280),'appId':_0x4ae195(0xb9e),'functionsRegion':_0x4ae195(0xbb4)},'apiUrl':_0x4ae195(0x46e),'google':{'searchEngineId':_0x4ae195(0x21b)},'aws':{'endpoint':_0x4ae195(0x353),'region':_0x4ae195(0x62b)}};},0x33b:(_0x28b716,_0x3e2e71,_0x3219c5)=>{_0x3219c5['d'](_0x3e2e71,{'O':()=>_0xf165b2});const _0xf165b2={};},0x3e6:(_0x289e91,_0x5bf3e9,_0x7c1782)=>{const _0x57ba1a=a0_0x35be;_0x7c1782['d'](_0x5bf3e9,{'O':()=>_0x136131});const _0x136131={'version':_0x57ba1a(0x8b2),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x57ba1a(0x8e4),'authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':_0x57ba1a(0xa1c),'storageBucket':_0x57ba1a(0xb99),'messagingSenderId':_0x57ba1a(0x99f),'appId':_0x57ba1a(0x291),'measurementId':_0x57ba1a(0x4db)},'apiUrl':_0x57ba1a(0xa50),'aws':{'endpoint':'https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x57ba1a(0x62b)}};},0x20:(_0x196e2c,_0x1e906d,_0x47a569)=>{_0x47a569['d'](_0x1e906d,{'O':()=>_0x551406});const _0x551406={};}},_0x4cf335={};function _0x465145(_0x348bd9){const _0x362e03=a0_0x35be;var _0x389d6f=_0x4cf335[_0x348bd9];if(void 0x0!==_0x389d6f)return _0x389d6f[_0x362e03(0x514)];var _0x323758=_0x4cf335[_0x348bd9]={'exports':{}};return _0x24e6b7[_0x348bd9](_0x323758,_0x323758[_0x362e03(0x514)],_0x465145),_0x323758['exports'];}_0x465145['d']=(_0x4518d4,_0x5466c6)=>{const _0x167052=a0_0x35be;for(var _0x194d87 in _0x5466c6)_0x465145['o'](_0x5466c6,_0x194d87)&&!_0x465145['o'](_0x4518d4,_0x194d87)&&Object[_0x167052(0x731)](_0x4518d4,_0x194d87,{'enumerable':!0x0,'get':_0x5466c6[_0x194d87]});},_0x465145['g']=(function(){const _0x54c477=a0_0x35be;if(_0x54c477(0x4a2)==typeof globalThis)return globalThis;try{return this||new Function(_0x54c477(0x961))();}catch(_0x106754){if(_0x54c477(0x4a2)==typeof window)return window;}}()),_0x465145['o']=(_0x4d66a6,_0x2739b2)=>Object[_0x273dd2(0x22f)][_0x273dd2(0x777)][_0x273dd2(0x56f)](_0x4d66a6,_0x2739b2),_0x465145['r']=_0x86fcd6=>{const _0x3d3045=_0x273dd2;_0x3d3045(0x582)!=typeof Symbol&&Symbol[_0x3d3045(0x43d)]&&Object[_0x3d3045(0x731)](_0x86fcd6,Symbol[_0x3d3045(0x43d)],{'value':_0x3d3045(0x407)}),Object[_0x3d3045(0x731)](_0x86fcd6,_0x3d3045(0x248),{'value':!0x0});};var _0x4c9695,_0x37519b,_0x57ac86,_0x33c193={};_0x465145['r'](_0x33c193),_0x465145['d'](_0x33c193,{'KeyValueDatabase':()=>_0x20dccc,'LayoutBuilder':()=>_0x52fc68,'LoggingChannels':()=>_0x57ac86,'QueryBuilder':()=>_0x29339a,'SDK':()=>_0x2d7c26,'SDKClientErrorCodes':()=>_0x4c9695,'TableBuilder':()=>_0xc10245,'logger':()=>_0x58cca5}),function(_0x4de664){const _0x4276b8=_0x273dd2;_0x4de664[_0x4276b8(0x6b6)]='api-key-missing',_0x4de664[_0x4276b8(0x68a)]=_0x4276b8(0xc1d),_0x4de664[_0x4276b8(0x5c4)]=_0x4276b8(0x6f1),_0x4de664[_0x4276b8(0x483)]='external-storage-connection-already-exists',_0x4de664[_0x4276b8(0x602)]=_0x4276b8(0x22b),_0x4de664[_0x4276b8(0x8be)]=_0x4276b8(0xbc2),_0x4de664[_0x4276b8(0x667)]=_0x4276b8(0x254),_0x4de664['ExternalStorageInvalidPath']=_0x4276b8(0x24c),_0x4de664[_0x4276b8(0x645)]=_0x4276b8(0x6d4),_0x4de664['FeatureNotEnabled']=_0x4276b8(0x35c),_0x4de664['GenerativeAIContextAlreadyExists']=_0x4276b8(0x9b7),_0x4de664['GenerativeAIContextDoesNotExist']='generative-ai-context-does-not-exist',_0x4de664['GenerativeAIContextJobMissingThreadId']=_0x4276b8(0x3fd),_0x4de664[_0x4276b8(0x80b)]=_0x4276b8(0x79a),_0x4de664['GenerativeAILabelConflict']=_0x4276b8(0x5cb),_0x4de664[_0x4276b8(0x5ff)]=_0x4276b8(0x616),_0x4de664[_0x4276b8(0xb94)]=_0x4276b8(0x3cd),_0x4de664[_0x4276b8(0x857)]=_0x4276b8(0xa43),_0x4de664[_0x4276b8(0x34b)]='graph-database-already-exists',_0x4de664[_0x4276b8(0x1f8)]=_0x4276b8(0x6b4),_0x4de664[_0x4276b8(0x6fe)]='graph-database-missing-connector',_0x4de664[_0x4276b8(0x20e)]='graph-database-name-not-string',_0x4de664['JobDispatcherAlreadyExists']=_0x4276b8(0xb54),_0x4de664[_0x4276b8(0x8c3)]=_0x4276b8(0x58d),_0x4de664['JobDispatcherJobExists']=_0x4276b8(0x4ff),_0x4de664[_0x4276b8(0x238)]='job-dispatcher-job-not-found',_0x4de664[_0x4276b8(0x8a9)]=_0x4276b8(0xb0b),_0x4de664[_0x4276b8(0x48b)]='job-worker-already-exists',_0x4de664[_0x4276b8(0x633)]=_0x4276b8(0x549),_0x4de664[_0x4276b8(0x409)]='object-store-already-exists',_0x4de664[_0x4276b8(0x7ca)]=_0x4276b8(0x9cd),_0x4de664[_0x4276b8(0x83a)]=_0x4276b8(0x8f8),_0x4de664[_0x4276b8(0x204)]=_0x4276b8(0xc05),_0x4de664[_0x4276b8(0xa02)]=_0x4276b8(0x386),_0x4de664[_0x4276b8(0x47a)]='object-store-invalid-path',_0x4de664['ObjectStoreNotInSync']=_0x4276b8(0xa4f),_0x4de664['InternalSDKError']=_0x4276b8(0x84f),_0x4de664[_0x4276b8(0x281)]=_0x4276b8(0x34d),_0x4de664[_0x4276b8(0xa3f)]=_0x4276b8(0x904),_0x4de664[_0x4276b8(0x4f4)]=_0x4276b8(0x65d),_0x4de664[_0x4276b8(0x60b)]=_0x4276b8(0x272),_0x4de664['KeyValueDatabaseInvalidQuery']=_0x4276b8(0x671),_0x4de664[_0x4276b8(0x4c3)]=_0x4276b8(0xaa3),_0x4de664[_0x4276b8(0x7ac)]='key-value-database-name-not-string',_0x4de664[_0x4276b8(0xb59)]=_0x4276b8(0x4fd),_0x4de664[_0x4276b8(0x1fb)]=_0x4276b8(0xaec),_0x4de664[_0x4276b8(0x884)]=_0x4276b8(0x821),_0x4de664[_0x4276b8(0x97f)]='key-value-database-invalid-layout',_0x4de664['LocalMediaStreamAlreadyExists']=_0x4276b8(0x435),_0x4de664['LocalMediaStreamNoAudioContext']=_0x4276b8(0x800),_0x4de664[_0x4276b8(0x79f)]=_0x4276b8(0x8a5),_0x4de664['PubSubTopicDoesNotExist']=_0x4276b8(0x29c),_0x4de664[_0x4276b8(0x4e5)]=_0x4276b8(0x543),_0x4de664[_0x4276b8(0x55b)]='pub-sub-topic-already-subscribed',_0x4de664[_0x4276b8(0x68e)]='query-helper-invalid-argument',_0x4de664[_0x4276b8(0x405)]=_0x4276b8(0x780),_0x4de664[_0x4276b8(0x6e9)]=_0x4276b8(0x40f),_0x4de664[_0x4276b8(0x1f9)]='subscription-request-in-progress',_0x4de664['NodeNotAuthenticated']='node-not-authenticated',_0x4de664['NodeInvalidType']=_0x4276b8(0x3d1),_0x4de664[_0x4276b8(0xad0)]=_0x4276b8(0x6ac),_0x4de664[_0x4276b8(0x5f8)]=_0x4276b8(0xb5b),_0x4de664[_0x4276b8(0x439)]='vector-database-already-exists',_0x4de664[_0x4276b8(0xb60)]=_0x4276b8(0x712),_0x4de664[_0x4276b8(0x382)]=_0x4276b8(0x3b5),_0x4de664['VectorDatabaseNameNotString']=_0x4276b8(0xafc);}(_0x4c9695||(_0x4c9695={}));class _0x3371e7 extends Error{[_0x273dd2(0x1ce)];constructor(_0x9b4677,_0xf10cf8){super(_0xf10cf8),this['code']=_0x9b4677;}}!function(_0x2dffcb){const _0x4a503c=_0x273dd2;_0x2dffcb[_0x4a503c(0x7b3)]=_0x4a503c(0x28a),_0x2dffcb[_0x4a503c(0x4dc)]=_0x4a503c(0x8aa),_0x2dffcb['KeyValueDatabase']=_0x4a503c(0xb3e),_0x2dffcb[_0x4a503c(0xb15)]=_0x4a503c(0x9b5),_0x2dffcb[_0x4a503c(0xbc6)]='graph-database',_0x2dffcb[_0x4a503c(0x61f)]=_0x4a503c(0xb90),_0x2dffcb['MediaStream']=_0x4a503c(0x47c),_0x2dffcb[_0x4a503c(0x49c)]=_0x4a503c(0x4a8);}(_0x37519b||(_0x37519b={})),function(_0x467dd4){const _0x47de0f=_0x273dd2;_0x467dd4[_0x47de0f(0x6ef)]=_0x47de0f(0x24a),_0x467dd4[_0x47de0f(0x77a)]=_0x47de0f(0x6cc),_0x467dd4[_0x47de0f(0x79e)]=_0x47de0f(0x745),_0x467dd4[_0x47de0f(0x570)]=_0x47de0f(0x31d),_0x467dd4[_0x47de0f(0xb62)]=_0x47de0f(0x1ee),_0x467dd4[_0x47de0f(0x829)]=_0x47de0f(0x26d),_0x467dd4[_0x47de0f(0xa2d)]='data-stream',_0x467dd4[_0x47de0f(0x826)]=_0x47de0f(0x706),_0x467dd4[_0x47de0f(0x344)]=_0x47de0f(0xa01),_0x467dd4['Error']='error',_0x467dd4[_0x47de0f(0x3d4)]=_0x47de0f(0x2c0),_0x467dd4[_0x47de0f(0x670)]=_0x47de0f(0xb3e),_0x467dd4[_0x47de0f(0x38e)]=_0x47de0f(0xb50),_0x467dd4[_0x47de0f(0x88b)]=_0x47de0f(0x6ec),_0x467dd4[_0x47de0f(0x7b3)]='pubsub',_0x467dd4[_0x47de0f(0x54d)]=_0x47de0f(0x5da),_0x467dd4[_0x47de0f(0x8f5)]=_0x47de0f(0x5ef),_0x467dd4['SenderSendMessage']=_0x47de0f(0xb73),_0x467dd4[_0x47de0f(0x70a)]=_0x47de0f(0xb1e),_0x467dd4[_0x47de0f(0x336)]=_0x47de0f(0x2f8),_0x467dd4[_0x47de0f(0x26e)]='subscription',_0x467dd4[_0x47de0f(0xa90)]=_0x47de0f(0xc11),_0x467dd4[_0x47de0f(0x520)]=_0x47de0f(0x9bf),_0x467dd4[_0x47de0f(0xac7)]=_0x47de0f(0xacf),_0x467dd4[_0x47de0f(0x7fc)]='test-page',_0x467dd4[_0x47de0f(0x639)]=_0x47de0f(0x995);}(_0x57ac86||(_0x57ac86={}));const _0x2a74a6=require('@crewdle/web-sdk-types');class _0x29339a{['query'];constructor(_0xb027ec){const _0x4ec2a5=_0x273dd2;this[_0x4ec2a5(0x756)]={'orderBy':{'key':_0xb027ec,'direction':_0x4ec2a5(0x6d2)}};}static[_0x273dd2(0xa4b)](_0x541459){const _0x5d2940=_0x273dd2;if(_0x5d2940(0x563)!=typeof _0x541459||0x0===_0x541459[_0x5d2940(0x830)])throw new _0x3371e7(_0x4c9695[_0x5d2940(0x68e)],_0x5d2940(0xc03));return new _0x29339a(_0x541459);}static[_0x273dd2(0x722)](_0x3d2cb7){try{return _0x29339a['buildQuery'](_0x3d2cb7),!0x0;}catch(_0x5e3229){return!0x1;}}static['buildQuery'](_0xb1d0d7){const _0x34538b=_0x273dd2,_0x59bde3=_0x29339a[_0x34538b(0xa4b)](_0xb1d0d7[_0x34538b(0x317)]?.['key']??_0xb1d0d7[_0x34538b(0x85e)]?.[_0x34538b(0xc14)]??'');if(_0xb1d0d7[_0x34538b(0x85e)]){const _0x446b4c=_0xb1d0d7[_0x34538b(0x85e)];if((_0x29339a[_0x34538b(0xa5b)](_0x446b4c)||_0x29339a[_0x34538b(0x236)](_0x446b4c)||_0x29339a[_0x34538b(0xbce)](_0x446b4c))&&_0x59bde3[_0x34538b(0x85e)](_0x446b4c[_0x34538b(0x234)],_0x446b4c[_0x34538b(0x22e)]),_0xb1d0d7[_0x34538b(0x317)]?.[_0x34538b(0xc14)]&&_0xb1d0d7['orderBy']?.[_0x34538b(0xc14)]!==_0xb1d0d7['where'][_0x34538b(0xc14)])throw new _0x3371e7(_0x4c9695[_0x34538b(0x68e)],_0x34538b(0x25a));}return _0xb1d0d7[_0x34538b(0x317)]&&_0x59bde3[_0x34538b(0x317)](_0xb1d0d7[_0x34538b(0x317)][_0x34538b(0xae9)]),_0xb1d0d7[_0x34538b(0x6f7)]&&_0x59bde3[_0x34538b(0x6f7)](_0xb1d0d7[_0x34538b(0x6f7)]),_0xb1d0d7['offset']&&_0x59bde3[_0x34538b(0x6fb)](_0xb1d0d7[_0x34538b(0x6fb)]),_0x59bde3;}[_0x273dd2(0x27b)](){const _0x2d4f2a=_0x273dd2;return{...this[_0x2d4f2a(0x756)]};}['where'](_0x1807fa,_0x51d91b){const _0x380df6=_0x273dd2,_0x437082={'key':this[_0x380df6(0x756)][_0x380df6(0x317)][_0x380df6(0xc14)],'operator':_0x1807fa,'value':_0x51d91b};if(!_0x29339a[_0x380df6(0xa5b)](_0x437082)&&!_0x29339a[_0x380df6(0x236)](_0x437082)&&!_0x29339a['isWhereBetween'](_0x437082))throw new _0x3371e7(_0x4c9695[_0x380df6(0x68e)],_0x380df6(0x3c3));return this[_0x380df6(0x756)][_0x380df6(0x85e)]=_0x437082,this;}[_0x273dd2(0x317)](_0x2cdbb4){const _0x4dac27=_0x273dd2;if('asc'!==_0x2cdbb4&&_0x4dac27(0x5b5)!==_0x2cdbb4)throw new _0x3371e7(_0x4c9695[_0x4dac27(0x68e)],_0x4dac27(0xa70));return this[_0x4dac27(0x756)][_0x4dac27(0x317)][_0x4dac27(0xae9)]=_0x2cdbb4,this;}['limit'](_0x3e5b09){const _0x44b52f=_0x273dd2;if(_0x44b52f(0x2db)!=typeof _0x3e5b09||_0x3e5b09<0x0)throw new _0x3371e7(_0x4c9695[_0x44b52f(0x68e)],_0x44b52f(0xbb7));return this[_0x44b52f(0x756)][_0x44b52f(0x6f7)]=_0x3e5b09,this;}[_0x273dd2(0x6fb)](_0x578a23){const _0xaaa125=_0x273dd2;if(_0xaaa125(0x2db)!=typeof _0x578a23||_0x578a23<0x0)throw new _0x3371e7(_0x4c9695['QueryBuilderInvalidArgument'],_0xaaa125(0x660));return this[_0xaaa125(0x756)][_0xaaa125(0x6fb)]=_0x578a23,this;}static[_0x273dd2(0xa5b)](_0x14014c){const _0x4df0cb=_0x273dd2;if(!(_0x14014c&&_0x4df0cb(0x4a2)==typeof _0x14014c&&'operator'in _0x14014c&&_0x4df0cb(0x22e)in _0x14014c))return!0x1;const {operator:_0xd9c401,value:_0x593d3b}=_0x14014c;return!(!['==','!=','>','<','<=','>=']['includes'](_0xd9c401)||Array[_0x4df0cb(0x833)](_0x593d3b));}static['isWhereValues'](_0x573e94){const _0x148bd3=_0x273dd2;if(!(_0x573e94&&_0x148bd3(0x4a2)==typeof _0x573e94&&_0x148bd3(0x234)in _0x573e94&&_0x148bd3(0x22e)in _0x573e94))return!0x1;const {operator:_0x4ed549,value:_0xc441e7}=_0x573e94;return!(!['in',_0x148bd3(0x60c)][_0x148bd3(0x4aa)](_0x4ed549)||!Array[_0x148bd3(0x833)](_0xc441e7));}static[_0x273dd2(0xbce)](_0x241c52){const _0x5835d5=_0x273dd2;if(!(_0x241c52&&'object'==typeof _0x241c52&&_0x5835d5(0x234)in _0x241c52&&'value'in _0x241c52))return!0x1;const {operator:_0x23ae59,value:_0x2d261}=_0x241c52;return!('between'!==_0x23ae59||!Array['isArray'](_0x2d261)||0x2!==_0x2d261[_0x5835d5(0x830)]);}}class _0x52fc68{[_0x273dd2(0x49f)];constructor(_0x20a802){this['layout']={'tables':{},'version':_0x20a802};}static[_0x273dd2(0x827)](_0x590b35){const _0x59bb51=_0x273dd2;for(const _0x1225b5 in _0x590b35){if(_0x59bb51(0x765)!==_0x1225b5&&_0x59bb51(0x9cf)!==_0x1225b5)return[!0x1,_0x59bb51(0x30a)+_0x1225b5+_0x59bb51(0x538)];if('tables'===_0x1225b5)for(const _0x416bfb in _0x590b35[_0x59bb51(0x9cf)]){if(_0x59bb51(0x563)!=typeof _0x416bfb)return[!0x1,_0x59bb51(0x976)+_0x416bfb+'\x27'];for(const _0x20bcf1 in _0x590b35['tables'][_0x416bfb]){if(_0x59bb51(0x4d1)!==_0x20bcf1)return[!0x1,_0x59bb51(0x30a)+_0x20bcf1+'\x27\x20in\x20table\x20\x27'+_0x416bfb+'\x27'];const _0x18bb3c=_0x590b35[_0x59bb51(0x9cf)][_0x416bfb][_0x20bcf1]??[];for(const _0x379508 of _0x18bb3c)if(void 0x0===_0x379508['keyPath']||_0x59bb51(0x563)!=typeof _0x379508['keyPath'])return[!0x1,_0x59bb51(0x88c)+_0x416bfb+_0x59bb51(0xbb3)];}}else{if(_0x59bb51(0x765)===_0x1225b5&&_0x59bb51(0x2db)!=typeof _0x590b35[_0x1225b5])return[!0x1,_0x59bb51(0x3e2)+_0x590b35[_0x1225b5]+_0x59bb51(0x775)];}}return[!0x0,_0x59bb51(0x331)];}static[_0x273dd2(0x49f)](_0x181bad){const _0x1912da=new _0x52fc68(_0x181bad);return _0x1912da['layout']['version']=_0x181bad,_0x1912da;}[_0x273dd2(0xb2f)](_0x1e0ab1){const _0x38bb5e=_0x273dd2;return this[_0x38bb5e(0x49f)][_0x38bb5e(0x9cf)][_0x1e0ab1]={},new _0xc10245(this[_0x38bb5e(0x49f)][_0x38bb5e(0x9cf)][_0x1e0ab1]);}[_0x273dd2(0x341)](){return this['layout'];}}class _0xc10245{[_0x273dd2(0x71a)];constructor(_0x1a1d69){this['tableLayout']=_0x1a1d69;}[_0x273dd2(0xa4b)](_0x17803b){const _0x10cfa9=_0x273dd2;return this[_0x10cfa9(0x71a)][_0x10cfa9(0x4d1)]=this[_0x10cfa9(0x71a)]['indexes']??[],this[_0x10cfa9(0x71a)]['indexes']['push']({'keyPath':_0x17803b}),this;}}const _0x19733a=0x40000,_0x4e18d4=0x20000,_0xcc772=0x1388,_0x594e98='.crewdle-last-transaction',_0x1d2bdc=_0x273dd2(0x955),_0x36a58f='.crewdle-transactions',_0x206c33='.crewdle-layout',_0xe7aec6=0xdbba0,_0x84b56f=0x61a8,_0x2fb653=_0x273dd2(0x3db);var _0x4f053f;!function(_0x55f659){const _0x4e843d=_0x273dd2;_0x55f659['ConnectionNotinitialized']=_0x4e843d(0x58c),_0x55f659[_0x4e843d(0x5d8)]=_0x4e843d(0x629),_0x55f659['ConnectionNoRetryQueue']=_0x4e843d(0x2d1),_0x55f659['ConnectionInvalidDataEvent']=_0x4e843d(0xa46),_0x55f659[_0x4e843d(0x227)]=_0x4e843d(0xb36),_0x55f659[_0x4e843d(0x58f)]=_0x4e843d(0x37b),_0x55f659[_0x4e843d(0x992)]='generative-ai-context-invalid-partial-result',_0x55f659[_0x4e843d(0xbdb)]=_0x4e843d(0x282),_0x55f659[_0x4e843d(0x285)]='generative-ai-context-job-failed',_0x55f659[_0x4e843d(0x5be)]=_0x4e843d(0x393),_0x55f659[_0x4e843d(0x68d)]=_0x4e843d(0x789),_0x55f659[_0x4e843d(0x328)]=_0x4e843d(0x348),_0x55f659[_0x4e843d(0x885)]=_0x4e843d(0x44d),_0x55f659['InvalidPublisher']=_0x4e843d(0x779),_0x55f659[_0x4e843d(0x548)]='invalid-subscriber',_0x55f659[_0x4e843d(0x209)]=_0x4e843d(0xbd5),_0x55f659['JobDispatcherCreationFailed']=_0x4e843d(0x72a),_0x55f659[_0x4e843d(0x544)]='job-dispatcher-invalid-payload',_0x55f659[_0x4e843d(0x238)]=_0x4e843d(0x981),_0x55f659[_0x4e843d(0xaa5)]=_0x4e843d(0x6d3),_0x55f659['JobWorkerCreationFailed']='job-worker-creation-failed',_0x55f659[_0x4e843d(0x6b1)]=_0x4e843d(0x85d),_0x55f659[_0x4e843d(0x507)]='key-value-database-creation-failed',_0x55f659[_0x4e843d(0x22c)]=_0x4e843d(0x2ae),_0x55f659[_0x4e843d(0x55e)]='key-value-database-table-does-not-exist',_0x55f659[_0x4e843d(0x1de)]=_0x4e843d(0xa72),_0x55f659['KeyValueDatabaseTransactionValueNotSet']=_0x4e843d(0x90d),_0x55f659[_0x4e843d(0x68f)]=_0x4e843d(0x98c),_0x55f659[_0x4e843d(0x398)]='missing-incoming-connection',_0x55f659[_0x4e843d(0x3c8)]=_0x4e843d(0x850),_0x55f659['MistletCapacityReportNotSet']=_0x4e843d(0xaa1),_0x55f659[_0x4e843d(0x91d)]=_0x4e843d(0x828),_0x55f659[_0x4e843d(0x70b)]='object-store-invalid-state',_0x55f659[_0x4e843d(0x6ad)]=_0x4e843d(0x64e),_0x55f659[_0x4e843d(0x9d6)]=_0x4e843d(0x685),_0x55f659[_0x4e843d(0x5f3)]=_0x4e843d(0x31c),_0x55f659[_0x4e843d(0x825)]=_0x4e843d(0x895),_0x55f659['RemoteMediaStreamMissingProviderId']=_0x4e843d(0x3c9),_0x55f659[_0x4e843d(0x732)]=_0x4e843d(0x232),_0x55f659[_0x4e843d(0x33a)]=_0x4e843d(0x71c),_0x55f659[_0x4e843d(0xa64)]=_0x4e843d(0x510),_0x55f659['SubscriptionRequestNoAnswer']='subscription-request-no-answer',_0x55f659[_0x4e843d(0xb22)]='node-does-not-exist',_0x55f659[_0x4e843d(0x2c8)]=_0x4e843d(0xb24),_0x55f659[_0x4e843d(0x1e8)]='peer-connection-invalid-destination',_0x55f659[_0x4e843d(0x7df)]=_0x4e843d(0x4fe),_0x55f659[_0x4e843d(0xbbb)]=_0x4e843d(0xbab),_0x55f659[_0x4e843d(0x574)]=_0x4e843d(0x9e7);}(_0x4f053f||(_0x4f053f={}));const _0x5f012a=new Map([[_0x4f053f[_0x273dd2(0x3b7)],_0x273dd2(0x55a)],[_0x4f053f[_0x273dd2(0x5d8)],_0x273dd2(0xc1a)],[_0x4f053f[_0x273dd2(0x666)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x4f053f[_0x273dd2(0xa19)],_0x273dd2(0x611)],[_0x4f053f[_0x273dd2(0x227)],'Data\x20collection\x20does\x20not\x20exist.'],[_0x4f053f[_0x273dd2(0x58f)],_0x273dd2(0xba3)],[_0x4f053f[_0x273dd2(0x992)],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x4f053f['GenerativeAIContextJobAlreadyConsumed'],_0x273dd2(0x2d4)],[_0x4f053f[_0x273dd2(0x285)],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x4f053f[_0x273dd2(0x5be)],_0x273dd2(0xb51)],[_0x4f053f[_0x273dd2(0x68d)],'AI\x20worker\x20creation\x20failed.'],[_0x4f053f[_0x273dd2(0x328)],_0x273dd2(0x4eb)],[_0x4f053f[_0x273dd2(0x885)],_0x273dd2(0x7d8)],[_0x4f053f[_0x273dd2(0x592)],'Invalid\x20publisher.'],[_0x4f053f[_0x273dd2(0x548)],_0x273dd2(0x327)],[_0x4f053f[_0x273dd2(0x209)],_0x273dd2(0x530)],[_0x4f053f[_0x273dd2(0xab0)],_0x273dd2(0x3c6)],[_0x4f053f[_0x273dd2(0x544)],'Invalid\x20job\x20service\x20payload.'],[_0x4f053f[_0x273dd2(0x238)],_0x273dd2(0x260)],[_0x4f053f['JobDispatcherObserverNotFound'],_0x273dd2(0xc18)],[_0x4f053f[_0x273dd2(0x6f3)],_0x273dd2(0x57a)],[_0x4f053f['JobWorkerInvalidType'],'Invalid\x20job\x20worker\x20type.'],[_0x4f053f['KeyValueDatabaseCreationFailed'],_0x273dd2(0x7ef)],[_0x4f053f[_0x273dd2(0x22c)],'Key-value\x20database\x20peak\x20not\x20found.'],[_0x4f053f[_0x273dd2(0x55e)],_0x273dd2(0x241)],[_0x4f053f[_0x273dd2(0x1de)],_0x273dd2(0x414)],[_0x4f053f['KeyValueDatabaseTransactionValueNotSet'],_0x273dd2(0x8d5)],[_0x4f053f[_0x273dd2(0x68f)],_0x273dd2(0xa33)],[_0x4f053f['MissingRemoteConnection'],'Connection\x20does\x20not\x20exist.'],[_0x4f053f['MissingSystemTopic'],_0x273dd2(0x33e)],[_0x4f053f['MistletCapacityReportNotSet'],_0x273dd2(0x8b1)],[_0x4f053f[_0x273dd2(0x91d)],_0x273dd2(0x90e)],[_0x4f053f[_0x273dd2(0x6ad)],_0x273dd2(0x38c)],[_0x4f053f['ObjectStoreInvalidState'],_0x273dd2(0x49a)],[_0x4f053f[_0x273dd2(0x9d6)],_0x273dd2(0xc2b)],[_0x4f053f['OutgoingMediaStreamNoTopic'],_0x273dd2(0x431)],[_0x4f053f[_0x273dd2(0x825)],'Remote\x20stream\x20does\x20not\x20exist.'],[_0x4f053f[_0x273dd2(0x725)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x4f053f[_0x273dd2(0x732)],_0x273dd2(0xb6d)],[_0x4f053f[_0x273dd2(0x33a)],_0x273dd2(0x7b2)],[_0x4f053f[_0x273dd2(0xa64)],_0x273dd2(0xaa8)],[_0x4f053f[_0x273dd2(0x8a2)],_0x273dd2(0x84d)],[_0x4f053f[_0x273dd2(0xb22)],_0x273dd2(0xc25)],[_0x4f053f[_0x273dd2(0x2c8)],_0x273dd2(0x532)],[_0x4f053f[_0x273dd2(0x1e8)],_0x273dd2(0x363)],[_0x4f053f[_0x273dd2(0x7df)],_0x273dd2(0x63b)],[_0x4f053f[_0x273dd2(0xbbb)],_0x273dd2(0x401)],[_0x4f053f[_0x273dd2(0x574)],_0x273dd2(0x5a4)]]);class _0x4b8523 extends Error{['code'];static ['codes']=_0x4f053f;['data'];constructor(_0x39462c,_0xd02947){const _0x4cd32f=_0x273dd2;super(_0x4cd32f(0x7c8)+_0x39462c+':\x20'+_0x5f012a['get'](_0x39462c)+_0x4cd32f(0xb1a)+JSON[_0x4cd32f(0xa5e)](_0xd02947)),this[_0x4cd32f(0x1ce)]=_0x39462c,this[_0x4cd32f(0x9b6)]=_0xd02947||{};}}var _0x310f3a,_0x35f8bc,_0x5c2585,_0x36cd1b,_0x54fea4,_0x2b0fe1,_0xe6fd3b;!function(_0x492eda){const _0xee8b62=_0x273dd2;_0x492eda[_0x492eda[_0xee8b62(0x8f2)]=0x0]='CloseGraphDatabase',_0x492eda[_0x492eda[_0xee8b62(0x39e)]=0x1]=_0xee8b62(0x39e),_0x492eda[_0x492eda[_0xee8b62(0x71b)]=0x2]=_0xee8b62(0x71b),_0x492eda[_0x492eda['CloseExternalStorageConnection']=0x3]=_0xee8b62(0x377),_0x492eda[_0x492eda[_0xee8b62(0x4a3)]=0x4]='CloseKeyValueDatabase',_0x492eda[_0x492eda[_0xee8b62(0x3af)]=0x5]=_0xee8b62(0x3af),_0x492eda[_0x492eda['CloseObjectStoreBucket']=0x6]=_0xee8b62(0x9f5),_0x492eda[_0x492eda[_0xee8b62(0x4a6)]=0x7]=_0xee8b62(0x4a6),_0x492eda[_0x492eda['CloseVectorDatabase']=0x8]=_0xee8b62(0x896),_0x492eda[_0x492eda[_0xee8b62(0x9ba)]=0x9]=_0xee8b62(0x9ba),_0x492eda[_0x492eda[_0xee8b62(0x9ad)]=0xa]=_0xee8b62(0x9ad),_0x492eda[_0x492eda[_0xee8b62(0x30f)]=0xb]='GenerativeAIContextStats',_0x492eda[_0x492eda[_0xee8b62(0xabe)]=0xc]='GenerativeAIWorkerStats',_0x492eda[_0x492eda[_0xee8b62(0x4ab)]=0xd]=_0xee8b62(0x4ab),_0x492eda[_0x492eda[_0xee8b62(0x81d)]=0xe]='KeyValueDatabaseContentAvailable',_0x492eda[_0x492eda[_0xee8b62(0xbba)]=0xf]=_0xee8b62(0xbba),_0x492eda[_0x492eda['KeyValueDatabaseRequestPeakTransactions']=0x10]=_0xee8b62(0x74c),_0x492eda[_0x492eda[_0xee8b62(0x447)]=0x11]='KeyValueDatabaseRequestTransactionsValue',_0x492eda[_0x492eda[_0xee8b62(0x842)]=0x12]='KeyValueDatabaseSendTransactions',_0x492eda[_0x492eda[_0xee8b62(0x716)]=0x13]=_0xee8b62(0x716),_0x492eda[_0x492eda[_0xee8b62(0x710)]=0x14]=_0xee8b62(0x710),_0x492eda[_0x492eda[_0xee8b62(0xc09)]=0x15]=_0xee8b62(0xc09),_0x492eda[_0x492eda[_0xee8b62(0x45f)]=0x16]='ObjectStoreStats',_0x492eda[_0x492eda[_0xee8b62(0x453)]=0x17]='PubSubTopicStats',_0x492eda[_0x492eda[_0xee8b62(0x56a)]=0x18]=_0xee8b62(0x56a),_0x492eda[_0x492eda[_0xee8b62(0xbeb)]=0x19]=_0xee8b62(0xbeb),_0x492eda[_0x492eda[_0xee8b62(0x552)]=0x1a]='SubscribeMediaStream',_0x492eda[_0x492eda['UnpublishMediaStream']=0x1b]=_0xee8b62(0xa94),_0x492eda[_0x492eda['UnsubscribeMediaStream']=0x1c]=_0xee8b62(0x2ac),_0x492eda[_0x492eda['UpdateMediaStream']=0x1d]=_0xee8b62(0xa29),_0x492eda[_0x492eda['VectorDatabaseStats']=0x1e]=_0xee8b62(0x6cd);}(_0x310f3a||(_0x310f3a={})),function(_0x517aa8){const _0xa8e3f6=_0x273dd2;_0x517aa8['FileWrite']=_0xa8e3f6(0x3e6),_0x517aa8[_0xa8e3f6(0x8e2)]=_0xa8e3f6(0x5f7),_0x517aa8[_0xa8e3f6(0x9eb)]=_0xa8e3f6(0x997),_0x517aa8[_0xa8e3f6(0x61a)]='move',_0x517aa8[_0xa8e3f6(0x290)]=_0xa8e3f6(0x6c1),_0x517aa8[_0xa8e3f6(0xbd1)]=_0xa8e3f6(0x433),_0x517aa8[_0xa8e3f6(0x364)]=_0xa8e3f6(0x61e),_0x517aa8[_0xa8e3f6(0x4b2)]='request-file-write';}(_0x35f8bc||(_0x35f8bc={})),function(_0x4c5853){const _0x21fff2=_0x273dd2;_0x4c5853[_0x21fff2(0x876)]=_0x21fff2(0xab5),_0x4c5853[_0x21fff2(0x273)]=_0x21fff2(0xa32);}(_0x5c2585||(_0x5c2585={})),function(_0x42bae0){const _0x882de0=_0x273dd2;_0x42bae0[_0x882de0(0x265)]=_0x882de0(0xbf8),_0x42bae0[_0x882de0(0xa6c)]=_0x882de0(0x921),_0x42bae0[_0x882de0(0x9eb)]=_0x882de0(0x997);}(_0x36cd1b||(_0x36cd1b={})),function(_0x4b3491){const _0x50a36e=_0x273dd2;_0x4b3491[_0x50a36e(0x6ce)]=_0x50a36e(0x266),_0x4b3491[_0x50a36e(0x373)]=_0x50a36e(0x916),_0x4b3491[_0x50a36e(0xa18)]=_0x50a36e(0x9b3);}(_0x54fea4||(_0x54fea4={})),function(_0x1cf005){const _0x32817f=_0x273dd2;_0x1cf005[_0x1cf005[_0x32817f(0x876)]=0x0]=_0x32817f(0x876),_0x1cf005[_0x1cf005[_0x32817f(0xc2c)]=0x1]=_0x32817f(0xc2c),_0x1cf005[_0x1cf005[_0x32817f(0x4ed)]=0x2]='Attribution',_0x1cf005[_0x1cf005['PartialResult']=0x3]=_0x32817f(0x3df),_0x1cf005[_0x1cf005['Result']=0x4]=_0x32817f(0xad3),_0x1cf005[_0x1cf005[_0x32817f(0x8d3)]=0x5]=_0x32817f(0x8d3);}(_0x2b0fe1||(_0x2b0fe1={})),function(_0x53ce90){const _0x1d7a7f=_0x273dd2;_0x53ce90[_0x53ce90[_0x1d7a7f(0x639)]=0x0]=_0x1d7a7f(0x639),_0x53ce90[_0x53ce90[_0x1d7a7f(0x38e)]=0x1]=_0x1d7a7f(0x38e),_0x53ce90[_0x53ce90['Content']=0x2]=_0x1d7a7f(0x829),_0x53ce90[_0x53ce90[_0x1d7a7f(0x26e)]=0x3]=_0x1d7a7f(0x26e),_0x53ce90[_0x53ce90[_0x1d7a7f(0x336)]=0x4]=_0x1d7a7f(0x336),_0x53ce90[_0x53ce90[_0x1d7a7f(0x826)]=0x5]=_0x1d7a7f(0x826),_0x53ce90[_0x53ce90[_0x1d7a7f(0x8f5)]=0x6]=_0x1d7a7f(0x8f5);}(_0xe6fd3b||(_0xe6fd3b={}));class _0x5c3d89{[_0x273dd2(0x7c6)];[_0x273dd2(0x51b)];[_0x273dd2(0x2fb)];constructor(_0x2df55c,_0xd6c839){const _0x3deabb=_0x273dd2;this[_0x3deabb(0x7c6)]=_0x2df55c,this[_0x3deabb(0x51b)]=_0xd6c839;}[_0x273dd2(0xa73)](){const _0x41f712=_0x273dd2;return this[_0x41f712(0x51b)];}[_0x273dd2(0x5ca)](){return this['owner']['getId']();}['destroy'](){}[_0x273dd2(0x32c)](_0x4b2946){const _0x4ab80f=_0x273dd2;this[_0x4ab80f(0x2fb)]=_0x4b2946;}[_0x273dd2(0x200)](){const _0x222050=_0x273dd2;delete this[_0x222050(0x2fb)];}}const _0x5dec29=require('firebase/firestore');let _0x2852bb=_0x465145(0x14d)['O'];function _0x57a93c(_0x2e4c57){const _0xb80078=_0x273dd2;return!(!_0x2e4c57||_0xb80078(0x4a2)!=typeof _0x2e4c57||Array['isArray'](_0x2e4c57));}_0x2852bb=function _0x478150(_0x400c9e,..._0x341e0b){const _0x53d372=_0x273dd2;if(!Array['isArray'](_0x341e0b)||0x0===_0x341e0b[_0x53d372(0x830)])return _0x400c9e;const _0x4369e8=_0x341e0b[_0x53d372(0xbd6)]();if(_0x57a93c(_0x400c9e)&&_0x57a93c(_0x4369e8)){for(const _0x169267 in _0x4369e8)_0x57a93c(_0x4369e8[_0x169267])?(_0x400c9e[_0x169267]||Object[_0x53d372(0xbf9)](_0x400c9e,{[_0x169267]:{}}),_0x478150(_0x400c9e[_0x169267],_0x4369e8[_0x169267])):Object['assign'](_0x400c9e,{[_0x169267]:_0x4369e8[_0x169267]});}return _0x478150(_0x400c9e,..._0x341e0b);}(_0x2852bb,_0x465145(0x3e6)['O']);const _0x495699=_0x2852bb,_0x12b9f3=require('firebase/app'),_0x447715=require('firebase/auth'),_0x271b56=require('firebase/database'),_0x11558b=require('firebase/functions'),_0x5d1d4c=require('uuid'),_0x3a7efe=_0x273dd2(0x855);class _0x18309d{static [_0x273dd2(0x4e8)];[_0x273dd2(0x757)];['auth'];[_0x273dd2(0xbf1)];[_0x273dd2(0x859)];['firestore'];['clockSkew'];['lastClockUpdate'];constructor(){this['getApp']();}static['getInstance'](){const _0x4cc6de=_0x273dd2;return _0x18309d[_0x4cc6de(0x4e8)]||(_0x18309d[_0x4cc6de(0x4e8)]=new _0x18309d()),_0x18309d['instance'];}['getApp'](){const _0x52b8b8=_0x273dd2;if(!this['app']){let _0x16bcf7=_0x3a7efe;_0x52b8b8(0x582)!=typeof window&&(_0x16bcf7=_0x3a7efe+'-'+(0x0,_0x5d1d4c['v4'])()),this[_0x52b8b8(0x757)]=(0x0,_0x12b9f3[_0x52b8b8(0x811)])(_0x495699[_0x52b8b8(0xb96)],''+_0x16bcf7);}return this[_0x52b8b8(0x757)];}['getAuth'](){const _0x19f5c4=_0x273dd2;return this[_0x19f5c4(0xba8)]||(this[_0x19f5c4(0xba8)]=(0x0,_0x447715[_0x19f5c4(0x729)])(this[_0x19f5c4(0xc16)]())),this[_0x19f5c4(0xba8)];}[_0x273dd2(0x53d)](){const _0x10bbd8=_0x273dd2;return this[_0x10bbd8(0xbf1)]||(this[_0x10bbd8(0xbf1)]=(0x0,_0x11558b['getFunctions'])(this['getApp'](),_0x495699[_0x10bbd8(0xb96)]['functionsRegion'])),this[_0x10bbd8(0xbf1)];}['getDatabase'](){const _0x54d18c=_0x273dd2;return this['database']||(this['database']=(0x0,_0x271b56[_0x54d18c(0x233)])(this[_0x54d18c(0xc16)]())),this[_0x54d18c(0x859)];}[_0x273dd2(0x4c1)](){const _0xf4f816=_0x273dd2;return this[_0xf4f816(0x59b)]||(this[_0xf4f816(0x59b)]=(0x0,_0x5dec29['getFirestore'])(this['getApp']())),this[_0xf4f816(0x59b)];}async[_0x273dd2(0x83c)](){const _0x207edd=_0x273dd2;if(this[_0x207edd(0x76b)]&&this[_0x207edd(0x2b6)]&&Date['now']()-this['lastClockUpdate']<0x493e0)return Date[_0x207edd(0x3a1)]()+this['clockSkew'];const _0x4c02a0=this[_0x207edd(0x233)](),_0x29e94c=(0x0,_0x271b56[_0x207edd(0x48e)])(_0x4c02a0,_0x207edd(0x9ff));return new Promise(_0xad9e9f=>{(0x0,_0x271b56['onValue'])(_0x29e94c,_0x4aad91=>{const _0x5a41ef=a0_0x35be;(0x0,_0x271b56[_0x5a41ef(0x903)])(_0x29e94c),this[_0x5a41ef(0x76b)]=_0x4aad91[_0x5a41ef(0x988)](),this[_0x5a41ef(0x2b6)]=Date[_0x5a41ef(0x3a1)](),_0xad9e9f(Date[_0x5a41ef(0x3a1)]()+(this[_0x5a41ef(0x76b)]??0x0));});});}}const _0x4d7ce4=_0x18309d[_0x273dd2(0x64f)]();class _0x16e26b{static ['instance'];['enabledChannels']=[_0x57ac86['Default']];[_0x273dd2(0x99d)]=!0x1;[_0x273dd2(0x472)];[_0x273dd2(0x300)]='';[_0x273dd2(0x6a1)];['batchQueue']=[];['currentBatch'];[_0x273dd2(0x277)];[_0x273dd2(0xbe2)]=0xa;[_0x273dd2(0xaa7)]=0x1f4;[_0x273dd2(0x689)]=0x1c2;[_0x273dd2(0x345)]=0x3e8;constructor(){const _0x5a37b9=_0x273dd2;if(_0x5a37b9(0x582)!=typeof window)this['globalObject']=window;else{if(void 0x0===_0x465145['g'])throw new Error(_0x5a37b9(0xb2e));this[_0x5a37b9(0x6a1)]=_0x465145['g'];}this[_0x5a37b9(0x31a)](),this[_0x5a37b9(0x6a1)][_0x5a37b9(0x9d7)]=_0x41a000=>{const _0x558e2b=_0x5a37b9;if(_0x41a000===_0x57ac86[_0x558e2b(0x6ef)])return this[_0x558e2b(0x615)]=Object[_0x558e2b(0x6ed)](_0x57ac86)[_0x558e2b(0xb48)](_0x25f1f6=>_0x57ac86[_0x25f1f6]),void Object[_0x558e2b(0x6ed)](_0x57ac86)[_0x558e2b(0xb9b)](_0x381b6c=>{const _0x4729cd=_0x558e2b,_0xedf495=_0x381b6c;localStorage['setItem'](_0x4729cd(0x1d3)+_0x57ac86[_0xedf495],'true');});this['enabledChannels'][_0x558e2b(0x4aa)](_0x41a000)||(this[_0x558e2b(0x615)][_0x558e2b(0x604)](_0x41a000),localStorage[_0x558e2b(0x9ec)]('crewdle-sdk-logging-'+_0x41a000,_0x558e2b(0x676)));},this[_0x5a37b9(0x6a1)][_0x5a37b9(0x36c)]=_0x2830df=>{const _0x2a3693=_0x5a37b9;if(!_0x2830df||_0x2830df===_0x57ac86['All'])return this[_0x2a3693(0x615)]=[],void Object[_0x2a3693(0x6ed)](_0x57ac86)[_0x2a3693(0xb9b)](_0x14b487=>{const _0x174803=_0x2a3693,_0xed39ac=_0x14b487;localStorage[_0x174803(0xc06)](_0x174803(0x1d3)+_0x57ac86[_0xed39ac]);});this[_0x2a3693(0x615)]['includes'](_0x2830df)&&(this['enabledChannels']=this[_0x2a3693(0x615)][_0x2a3693(0x57c)](_0x214256=>_0x214256!==_0x2830df),localStorage['removeItem']('crewdle-sdk-logging-'+_0x2830df));},this[_0x5a37b9(0x6a1)][_0x5a37b9(0xbc7)]=_0x57ac86;}static['getInstance'](){const _0x3fed02=_0x273dd2;try{return _0x16e26b[_0x3fed02(0x4e8)]||(_0x16e26b[_0x3fed02(0x4e8)]=new _0x16e26b()),_0x16e26b['instance'];}catch(_0x345d37){return console[_0x3fed02(0x5c5)](_0x3fed02(0x32d),_0x345d37),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}['setVendorId'](_0x2359ea){const _0x5e82ef=_0x273dd2;this['vendorId']=_0x2359ea,this[_0x5e82ef(0x836)]=[],this[_0x5e82ef(0xae7)]=this[_0x5e82ef(0xa35)](),this[_0x5e82ef(0x277)]&&(clearTimeout(this['batchTimeout']),this['batchTimeout']=void 0x0);}['setLoggingConnectors'](_0x4e03ef){this['loggingConnectors']=_0x4e03ef;}[_0x273dd2(0x659)](_0x57467a,..._0xd5eaf3){const _0x2ea2a2=_0x273dd2;this[_0x2ea2a2(0x99d)]&&this[_0x2ea2a2(0x3a3)](_0x57ac86[_0x2ea2a2(0x77a)],'DEBUG\x20-\x20'+_0x57467a,..._0xd5eaf3);}[_0x273dd2(0x866)](_0x5cf38f,..._0x570edd){const _0xb8f283=_0x273dd2;console['log'](_0x5cf38f,..._0x570edd),this[_0xb8f283(0x472)]&&this[_0xb8f283(0x472)][_0xb8f283(0xb9b)](_0x2d74b5=>{const _0x196c32=_0xb8f283;_0x2d74b5['log'](_0x5cf38f,{'vendorId':this[_0x196c32(0x300)],'nodeId':'','nodeType':'','data':{..._0x570edd}});});}[_0x273dd2(0x3a3)](_0x3b60bf,_0x307494,..._0x57cdf5){const _0x113b63=_0x273dd2;_0x495699['isProduction']||(this[_0x113b63(0x615)][_0x113b63(0x4aa)](_0x3b60bf)&&console['log'](_0x113b63(0x537)+_0x3b60bf+'\x27\x0a',new Date()+'\x0a',_0x307494,..._0x57cdf5),this[_0x113b63(0x472)]&&this[_0x113b63(0x472)][_0x113b63(0xb9b)](_0x129d44=>{const _0x2d3e26=_0x113b63;this[_0x2d3e26(0x39f)](_0x129d44)&&_0x129d44[_0x2d3e26(0x3eb)]()[_0x2d3e26(0x4aa)](_0x3b60bf)&&_0x129d44[_0x2d3e26(0x3a3)](_0x307494,{'vendorId':this[_0x2d3e26(0x300)],'nodeId':'','nodeType':'','data':{'channel':_0x3b60bf,..._0x57cdf5}});}));}[_0x273dd2(0xbb8)](_0x1a4807,_0x46b3fc,..._0x1107df){const _0x46f14a=_0x273dd2;_0x495699[_0x46f14a(0x7b4)]||(this[_0x46f14a(0x615)]['includes'](_0x1a4807)&&console[_0x46f14a(0x3a3)](_0x46b3fc,..._0x1107df),this[_0x46f14a(0x472)]&&this[_0x46f14a(0x472)][_0x46f14a(0xb9b)](_0x2fb861=>{const _0x9c4e56=_0x46f14a;this[_0x9c4e56(0x39f)](_0x2fb861)&&_0x2fb861[_0x9c4e56(0x3eb)]()[_0x9c4e56(0x4aa)](_0x1a4807)&&_0x2fb861[_0x9c4e56(0x3a3)](_0x46b3fc,{'vendorId':this[_0x9c4e56(0x300)],'nodeId':'','nodeType':'','data':{'channel':_0x1a4807,..._0x1107df}});}));}[_0x273dd2(0x586)](_0x3ba593,_0x5f1934){const _0x180c5b=_0x273dd2;if(!this['loggingConnectors'])return;const _0x266b5b={'vendorId':this[_0x180c5b(0x300)],..._0x5f1934};this[_0x180c5b(0x472)]['forEach'](_0x2657c9=>{const _0x39f3aa=_0x180c5b;_0x2657c9[_0x39f3aa(0x3a3)](_0x3ba593,_0x266b5b);});}[_0x273dd2(0x7ea)](_0x221f52,_0x233439){const _0x48f556=_0x273dd2;this['createBatchOperation'](_0x221f52,_0x233439),this[_0x48f556(0x27a)]();}[_0x273dd2(0x5eb)](_0x1d8e02,_0x326f78,_0x5fa55b){const _0x26b170=_0x273dd2;(0x0,_0x5dec29[_0x26b170(0x25d)])((0x0,_0x5dec29['doc'])(_0x4d7ce4[_0x26b170(0x4c1)](),_0x26b170(0x767)+this[_0x26b170(0x300)]+'/'+_0x1d8e02+'/'+_0x326f78),{'storage':_0x5fa55b,'timestamp':(0x0,_0x5dec29[_0x26b170(0xbe4)])()});}[_0x273dd2(0x27a)](){const _0x25259e=_0x273dd2;this['currentBatch']&&(this['currentBatch'][_0x25259e(0xae3)]+=0x1,this[_0x25259e(0xae7)]['counter']===this[_0x25259e(0x689)]?this[_0x25259e(0x840)]():this[_0x25259e(0x277)]||(this[_0x25259e(0x277)]=this['globalObject'][_0x25259e(0x96e)](()=>this[_0x25259e(0x840)](),this[_0x25259e(0x345)])));}async[_0x273dd2(0x840)](){const _0x5723c8=_0x273dd2;if(this['currentBatch']){for(this[_0x5723c8(0x836)][_0x5723c8(0x604)](this[_0x5723c8(0xae7)]),this[_0x5723c8(0xae7)]=this[_0x5723c8(0xa35)]();this['batchQueue'][_0x5723c8(0x830)]>0x0;){const _0x4d2b75=this[_0x5723c8(0x836)][_0x5723c8(0xbd6)]();if(!await this['commitBatch'](_0x4d2b75))break;}clearTimeout(this[_0x5723c8(0x277)]),this['batchTimeout']=void 0x0;}}[_0x273dd2(0x5c5)](_0x2ab7f2,_0xb7b8c1,..._0x288f37){const _0x498fa1=_0x273dd2;if(console[_0x498fa1(0x5c5)](new Date(),_0x2ab7f2,_0xb7b8c1,..._0x288f37),this[_0x498fa1(0x472)]){const _0x4988af={'vendorId':this[_0x498fa1(0x300)],..._0xb7b8c1};this[_0x498fa1(0x472)][_0x498fa1(0xb9b)](_0x200229=>{const _0xfe318=_0x498fa1;_0x200229[_0xfe318(0x5c5)](_0x2ab7f2,_0x4988af);});}}[_0x273dd2(0x673)](_0x15557a,_0x50de30,..._0x378252){const _0x167b38=_0x273dd2;if(console[_0x167b38(0x763)](new Date(),_0x15557a,_0x50de30,_0x378252),this['loggingConnectors']){const _0x97208e={'vendorId':this['vendorId'],..._0x50de30};this['loggingConnectors']['forEach'](_0x231490=>{const _0x3af65a=_0x167b38;_0x231490[_0x3af65a(0x763)](_0x15557a,_0x97208e);});}}[_0x273dd2(0x872)](_0xa8d820){const _0x2588fa=_0x273dd2;return this['enabledChannels'][_0x2588fa(0x4aa)](_0xa8d820);}async['commitBatch'](_0x1d819d,_0x3dec68=0x0){const _0x43010b=_0x273dd2;if(_0x1d819d[_0x43010b(0xae3)]>0x0)try{return await _0x1d819d['batch'][_0x43010b(0x663)](),!0x0;}catch(_0x856aee){if(console[_0x43010b(0x5c5)](_0x43010b(0xa07),_0x856aee,'Operations:',_0x1d819d['operations']),!(_0x3dec68<this[_0x43010b(0xbe2)])){const {nodeId:_0x539c64='',nodeType:_0x5d5190='',clusterId:_0x121ca2=''}=_0x1d819d[_0x43010b(0x7de)][0x0]['data'],_0x4a0cb0={'nodeId':_0x539c64,'nodeType':_0x5d5190,'clusterId':_0x121ca2,'data':{'operations':_0x1d819d[_0x43010b(0x7de)],'error':_0x856aee}};return this['error'](_0x43010b(0xaad),_0x4a0cb0),!0x1;}{const _0x39ec48=this[_0x43010b(0x5d7)](_0x1d819d[_0x43010b(0x7de)]);setTimeout(()=>this[_0x43010b(0x641)](_0x39ec48,_0x3dec68+0x1),this[_0x43010b(0xaa7)]*Math[_0x43010b(0x3cf)](0x2,_0x3dec68));}}}['loadEnabledChannels'](){const _0x4d076f=_0x273dd2;try{Object[_0x4d076f(0x6ed)](_0x57ac86)[_0x4d076f(0xb9b)](_0x293f1b=>{const _0x67a084=_0x4d076f,_0x1523aa=_0x293f1b;localStorage[_0x67a084(0xa53)](_0x67a084(0x1d3)+_0x57ac86[_0x1523aa])&&(console[_0x67a084(0x3a3)](_0x67a084(0x7b6),_0x57ac86[_0x1523aa]),this[_0x67a084(0x615)]['push'](_0x57ac86[_0x1523aa]));});}catch(_0x4c3e85){}}['isInternalLoggingConnector'](_0x20856f){const _0x3ad368=_0x273dd2;return void 0x0!==_0x20856f[_0x3ad368(0x3eb)];}[_0x273dd2(0xa35)](){const _0x1b8ed7=_0x273dd2;return{'batch':(0x0,_0x5dec29[_0x1b8ed7(0x3be)])(_0x4d7ce4[_0x1b8ed7(0x4c1)]()),'operations':[],'counter':0x0};}['createBatch'](_0x35b3c3){const _0x1a7695=_0x273dd2,_0x120630=(0x0,_0x5dec29[_0x1a7695(0x3be)])(_0x4d7ce4['getFirestore']());return _0x35b3c3[_0x1a7695(0xb9b)](_0x28a09a=>this[_0x1a7695(0x1db)](_0x120630,_0x28a09a)),{'batch':_0x120630,'operations':_0x35b3c3,'counter':_0x35b3c3[_0x1a7695(0x830)]};}[_0x273dd2(0x1db)](_0x224b0e,_0x17e7fb){const _0xff56de=_0x273dd2;switch(_0x17e7fb[_0xff56de(0x6b9)]){case'set':_0x224b0e[_0xff56de(0x68c)](_0x17e7fb[_0xff56de(0x48e)],_0x17e7fb[_0xff56de(0x9b6)]);break;case'update':_0x224b0e[_0xff56de(0x921)](_0x17e7fb[_0xff56de(0x48e)],_0x17e7fb[_0xff56de(0x9b6)]);break;case _0xff56de(0x997):_0x224b0e[_0xff56de(0x997)](_0x17e7fb[_0xff56de(0x48e)]);}}[_0x273dd2(0x809)](_0x483a05,_0xcf80c8){const _0x5420b1=_0x273dd2;this[_0x5420b1(0xae7)]||(this[_0x5420b1(0xae7)]=this[_0x5420b1(0xa35)]());const _0x80d3d4=(0x0,_0x5dec29[_0x5420b1(0x6c8)])((0x0,_0x5dec29[_0x5420b1(0x559)])(_0x4d7ce4[_0x5420b1(0x4c1)](),_0x5420b1(0x767)+this[_0x5420b1(0x300)]+_0x5420b1(0x3f0))),_0x4207d6={..._0xcf80c8,'service':_0x483a05,'timestamp':(0x0,_0x5dec29[_0x5420b1(0xbe4)])()},_0x33ffd2={'type':_0x5420b1(0x68c),'path':_0x80d3d4[_0x5420b1(0xaf8)],'ref':_0x80d3d4,'data':_0x4207d6};return this[_0x5420b1(0xae7)][_0x5420b1(0x7de)][_0x5420b1(0x604)](_0x33ffd2),this['addBatchOperation'](this[_0x5420b1(0xae7)][_0x5420b1(0x2e3)],_0x33ffd2),_0x80d3d4;}}const _0x58cca5=_0x16e26b[_0x273dd2(0x64f)]();function _0x1fd9df(_0x4640f2,_0x1e471e){return'/'===_0x4640f2?_0x4640f2+_0x1e471e:_0x4640f2+'/'+_0x1e471e;}function _0x24a565(_0x3041f9){const _0x1b15ca=_0x273dd2,_0x4f1930=function(_0x9e0c63){const _0x5eadc7=a0_0x35be;return _0x9e0c63[_0x5eadc7(0xa62)]('/')[_0x5eadc7(0x57c)](_0x164493=>_0x164493[_0x5eadc7(0x830)]>0x0);}(_0x3041f9),_0x424460=_0x4f1930[_0x1b15ca(0x4f5)]()||'',_0x3f4c82=_0x4f1930[_0x1b15ca(0x98e)]('/');return[0x0===_0x3f4c82[_0x1b15ca(0x830)]?'/':_0x3f4c82,_0x424460];}async function _0x3b18b3(_0x562eb3){const _0xdda9bd=_0x273dd2;let _0x4c518a;const _0x3f8f0d=_0x562eb3[_0xdda9bd(0x85c)]/0x100000;_0x4c518a=_0x3f8f0d<=0xa?0x1:_0x3f8f0d<=0x64?0.5:_0x3f8f0d<=0x1f4?0.1:0.05;const _0x4486b8=Math['ceil'](_0x562eb3[_0xdda9bd(0x85c)]/_0x19733a),_0x1a0f54=Math[_0xdda9bd(0x42f)](_0x4486b8*_0x4c518a);let _0xbb4709=new Uint8Array();for(let _0x4d7d2c=0x0;_0x4d7d2c<_0x1a0f54;_0x4d7d2c++){const _0x2e7ac7=Math[_0xdda9bd(0x4ad)](_0x4d7d2c/_0x1a0f54*_0x562eb3[_0xdda9bd(0x85c)]);let _0x514788=_0x2e7ac7+_0x19733a;_0x514788>_0x562eb3[_0xdda9bd(0x85c)]&&(_0x514788=_0x562eb3[_0xdda9bd(0x85c)]);const _0x1fd423=_0x562eb3[_0xdda9bd(0x36d)](_0x2e7ac7,_0x514788),_0x16597c=await _0x1fd423['arrayBuffer'](),_0x5e57c1=new Uint8Array([..._0xbb4709,...new Uint8Array(_0x16597c)]);_0xbb4709=new Uint8Array(await crypto['subtle'][_0xdda9bd(0xb92)](_0xdda9bd(0x20c),_0x5e57c1));}return Array[_0xdda9bd(0x668)](new Uint8Array(_0xbb4709))[_0xdda9bd(0xb48)](_0x43a201=>_0x43a201[_0xdda9bd(0xa7d)](0x10)['padStart'](0x2,'0'))[_0xdda9bd(0x98e)]('');}async function*_0x54deb4(_0x28dd53,_0x4ee8f2=0x0,_0x191f31){const _0x46878e=_0x273dd2;let _0x2b4073=_0x4ee8f2*_0x4e18d4,_0x1ef096=_0x28dd53;for(;_0x2b4073<_0x1ef096[_0x46878e(0x85c)];){let _0x205a7f=_0x2b4073+_0x4e18d4;_0x205a7f>_0x1ef096[_0x46878e(0x85c)]&&(_0x205a7f=_0x1ef096[_0x46878e(0x85c)]);let _0x577bf9=0x0;for(;_0x577bf9<0x14;)try{await _0x191f31?.();const _0xc87381=_0x1ef096[_0x46878e(0x36d)](_0x2b4073,_0x205a7f,_0x46878e(0x295)),_0x1f9f83=await _0xc87381[_0x46878e(0x511)]();yield _0x1f9f83,_0x2b4073=_0x205a7f,await new Promise(_0x1e10af=>setTimeout(_0x1e10af,0x0));break;}catch(_0x31aed6){if(console[_0x46878e(0x5c5)](_0x46878e(0x9e3)+(_0x577bf9+0x1)+'\x20attempts:',_0x31aed6),_0x577bf9++,_0x577bf9>0x14)throw _0x31aed6;let _0x1746d9=0x3e8*Math[_0x46878e(0x3cf)](0x2,_0x577bf9);_0x1746d9>0x7530&&(_0x1746d9=0x7530),await new Promise(_0x492796=>setTimeout(_0x492796,_0x1746d9));}}}class _0x37e41d extends _0x5c3d89{[_0x273dd2(0xad1)];[_0x273dd2(0x8d1)];[_0x273dd2(0x3f2)]=new Map();[_0x273dd2(0x695)]=0x0;[_0x273dd2(0x3ed)]=0x0;[_0x273dd2(0x24b)]=0x0;[_0x273dd2(0xc1b)]=0x0;constructor(_0x45cff7,_0xed350a){super(_0x45cff7,_0xed350a);}[_0x273dd2(0xa73)](){const _0x344744=_0x273dd2;return this[_0x344744(0x51b)];}[_0x273dd2(0x8e8)](){const _0x41f543=_0x273dd2;return this[_0x41f543(0x51b)];}[_0x273dd2(0x54c)](){const _0x5e4027=_0x273dd2;return _0x2a74a6[_0x5e4027(0x2a7)][_0x5e4027(0xa89)];}['getInternalStreamId'](){const _0x10b0a2=_0x273dd2;return this[_0x10b0a2(0x51b)];}['registerPublisher'](_0x45912e){const _0x5d2a82=_0x273dd2;if(this[_0x5d2a82(0xad1)])throw new _0x4b8523(_0x4b8523[_0x5d2a82(0xa20)][_0x5d2a82(0x592)],{'message':_0x5d2a82(0x303)+this[_0x5d2a82(0x7c6)][_0x5d2a82(0xb9d)]()+_0x5d2a82(0x1d4)+this['label'],'topic':this[_0x5d2a82(0xad1)]});this[_0x5d2a82(0xad1)]=_0x45912e;}[_0x273dd2(0xb87)](_0x268de1){const _0x17fcfe=_0x273dd2;if(this[_0x17fcfe(0x8d1)])throw new _0x4b8523(_0x4b8523[_0x17fcfe(0xa20)][_0x17fcfe(0x548)],{'message':_0x17fcfe(0x9fc)+this[_0x17fcfe(0x7c6)]['getId']()+_0x17fcfe(0x1d4)+this[_0x17fcfe(0x51b)],'topic':this[_0x17fcfe(0x8d1)]});this[_0x17fcfe(0x8d1)]=_0x268de1;}[_0x273dd2(0x823)](){delete this['outgoingTopic'];}[_0x273dd2(0x949)](){delete this['incomingTopic'];}async['send'](_0x3e1c2d,_0x2d6305){const _0xbe02fd=_0x273dd2;if(_0x58cca5[_0xbe02fd(0x3a3)](_0x57ac86[_0xbe02fd(0xa2d)],_0xbe02fd(0x482),this['owner'][_0xbe02fd(0xb9d)](),_0x3e1c2d,_0x2d6305),this['messagesSent']+=0x1,_0x3e1c2d instanceof File){const _0x60502f=await async function(_0x224c5b){const _0x407926=[];for await(const _0x83b56 of _0x54deb4(_0x224c5b))_0x407926['push'](_0x83b56);return _0x407926;}(_0x3e1c2d);return this[_0xbe02fd(0x24b)]+=_0x60502f[_0xbe02fd(0x97e)]((_0x52f7e3,_0x39aea0)=>_0x52f7e3+_0x39aea0[_0xbe02fd(0x489)],0x0),void _0x60502f[_0xbe02fd(0xb9b)]((_0x3db60a,_0x1491c1)=>{const _0x8b5a8c=_0xbe02fd;this[_0x8b5a8c(0xad1)][_0x8b5a8c(0xb07)]({'sourceId':this['owner'][_0x8b5a8c(0xb9d)](),'destinationIds':_0x2d6305,'propagate':!0x0,'contentType':_0x2a74a6['ContentType'][_0x8b5a8c(0x7a2)],'content':{'name':_0x3e1c2d[_0x8b5a8c(0xa7b)],'type':_0x3e1c2d[_0x8b5a8c(0x6b9)],'data':_0x3db60a,'index':_0x1491c1,'total':_0x60502f[_0x8b5a8c(0x830)]}});});}this[_0xbe02fd(0x24b)]+=JSON[_0xbe02fd(0xa5e)](_0x3e1c2d)[_0xbe02fd(0x830)],this['outgoingTopic'][_0xbe02fd(0xb07)]({'sourceId':this[_0xbe02fd(0x7c6)]['getId'](),'destinationIds':_0x2d6305,'propagate':!0x0,'contentType':_0x2a74a6[_0xbe02fd(0x2a7)][_0xbe02fd(0xa89)],'content':_0x3e1c2d});}[_0x273dd2(0xb80)](_0x2456f7){const _0x56c42c=_0x273dd2;return this['incomingTopic'][_0x56c42c(0x6f8)](_0x57e6e7=>{const _0xf1737=_0x56c42c;switch(_0x58cca5[_0xf1737(0x3a3)](_0x57ac86[_0xf1737(0xa2d)],_0xf1737(0x58b),this['owner'][_0xf1737(0xb9d)](),_0x57e6e7),_0x57e6e7['contentType']){case _0x2a74a6['ContentType']['Data']:this[_0xf1737(0x3ed)]+=0x1,this['bytesReceived']+=JSON[_0xf1737(0xa5e)](_0x57e6e7['content'])[_0xf1737(0x830)],_0x2456f7(_0x57e6e7[_0xf1737(0x6fd)],_0x57e6e7[_0xf1737(0x26d)]);break;case _0x2a74a6[_0xf1737(0x2a7)][_0xf1737(0x7a2)]:this['fileChunks'][_0xf1737(0xb9f)](_0x57e6e7[_0xf1737(0x26d)][_0xf1737(0xa7b)])||this[_0xf1737(0x3f2)]['set'](_0x57e6e7['content'][_0xf1737(0xa7b)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x4d3417=this['fileChunks']['get'](_0x57e6e7['content'][_0xf1737(0xa7b)]);if(_0x4d3417['chunksReceived']+=0x1,_0x4d3417[_0xf1737(0xc1b)]+=_0x57e6e7[_0xf1737(0x26d)][_0xf1737(0x9b6)]['byteLength'],_0x4d3417['content']&&(_0x4d3417[_0xf1737(0x26d)][_0x57e6e7['content'][_0xf1737(0xa4b)]]=_0x57e6e7[_0xf1737(0x26d)][_0xf1737(0x9b6)]),this[_0xf1737(0x3f2)][_0xf1737(0x68c)](_0x57e6e7[_0xf1737(0x26d)]['name'],_0x4d3417),_0x4d3417['chunksReceived']+0x1<_0x57e6e7[_0xf1737(0x26d)][_0xf1737(0x474)])return;this[_0xf1737(0x3ed)]+=0x1,this[_0xf1737(0xc1b)]+=_0x4d3417[_0xf1737(0xc1b)],_0x4d3417[_0xf1737(0x26d)]&&_0x2456f7(_0x57e6e7['sourceId'],(_0x48357b=_0x4d3417[_0xf1737(0x26d)],_0x460183=_0x57e6e7['content'][_0xf1737(0xa7b)],_0x30dc36=_0x57e6e7[_0xf1737(0x26d)][_0xf1737(0x6b9)],new File(_0x48357b,_0x460183,{'type':_0x30dc36}))),this['fileChunks'][_0xf1737(0x997)](_0x57e6e7[_0xf1737(0x26d)]['name']);}var _0x48357b,_0x460183,_0x30dc36;});}}function _0x2d1945(){let _0x591358=[];return{'subscribe':_0x5e59b4=>(_0x591358['push'](_0x5e59b4),()=>{const _0x34cd41=a0_0x35be;_0x591358=_0x591358[_0x34cd41(0x57c)](_0xbc5de5=>_0xbc5de5!==_0x5e59b4);}),'publish':_0x1baff6=>{const _0x2f1cb8=a0_0x35be;_0x591358[_0x2f1cb8(0xb9b)](_0x1d709b=>_0x1d709b(_0x1baff6));}};}function _0x4eac7b(){let _0x131bfe;return{'subscribe':_0x532e14=>(_0x131bfe=_0x532e14,()=>{_0x131bfe=void 0x0;}),'publish':_0x27815f=>{_0x131bfe&&_0x131bfe(_0x27815f);}};}class _0x45ff47{[_0x273dd2(0xa04)];[_0x273dd2(0x86b)];['tableObserver'];['eventListener']=_0x4eac7b();['listenerUnsubscriber'];constructor(_0x2c6f24,_0x581a12,_0x2bd53c){const _0x5cd042=_0x273dd2;this[_0x5cd042(0xa04)]=_0x2c6f24,this[_0x5cd042(0x86b)]=_0x581a12,this[_0x5cd042(0xa37)]=_0x2bd53c;}[_0x273dd2(0x553)](){const _0x15c398=_0x273dd2;this[_0x15c398(0xc0b)]?.();}async[_0x273dd2(0x266)](_0x8ec0d0){const _0x30d4ca=_0x273dd2,_0x1d7072={'key':_0x8ec0d0,'tableName':this[_0x30d4ca(0x86b)],'action':_0x54fea4['Get']};return this[_0x30d4ca(0xa37)][_0x30d4ca(0xb07)](_0x1d7072),this[_0x30d4ca(0xa04)]['get'](_0x8ec0d0);}async[_0x273dd2(0x68c)](_0x26dba0,_0x45eaab,_0x55d57c=!0x0){const _0x590e49=_0x273dd2;this[_0x590e49(0x674)](_0x45eaab);const _0x40e7ef=await this[_0x590e49(0xa04)][_0x590e49(0x266)](_0x26dba0),_0x73bd3c=await this[_0x590e49(0xa04)][_0x590e49(0x68c)](_0x26dba0,_0x45eaab),_0xff7c2f=_0x40e7ef?_0x36cd1b[_0x590e49(0xa6c)]:_0x36cd1b[_0x590e49(0x265)];if(this[_0x590e49(0xb07)](_0xff7c2f,_0x73bd3c),!_0x55d57c)return _0x73bd3c;const _0x2e0b3e={'key':_0x26dba0,'tableName':this[_0x590e49(0x86b)],'action':_0xff7c2f,'value':_0x73bd3c};return this[_0x590e49(0xa37)]['publish'](_0x2e0b3e),_0x73bd3c;}async[_0x273dd2(0xbf8)](_0x54c97b){const _0xe24c2=_0x273dd2;this[_0xe24c2(0x674)](_0x54c97b);const _0x405341=await this[_0xe24c2(0xa04)][_0xe24c2(0xbf8)](_0x54c97b),_0x55274e={'key':_0x405341['id'],'tableName':this['tableName'],'action':_0x36cd1b['Add'],'value':_0x405341};return this[_0xe24c2(0xa37)]['publish'](_0x55274e),this[_0xe24c2(0xb07)](_0x55274e[_0xe24c2(0xa57)],_0x405341),_0x405341;}async['delete'](_0x5275d2,_0x201c62=!0x0){const _0x262148=_0x273dd2,_0x2311e4=await this[_0x262148(0xa04)][_0x262148(0x266)](_0x5275d2);if(!_0x2311e4)return;await this['connector'][_0x262148(0x997)](_0x5275d2);const _0x298c4e=_0x36cd1b[_0x262148(0x9eb)];if(this['publish'](_0x298c4e,_0x2311e4),!_0x201c62)return;const _0x317100={'key':_0x5275d2,'tableName':this[_0x262148(0x86b)],'action':_0x298c4e,'value':_0x2311e4};this[_0x262148(0xa37)]['publish'](_0x317100);}async[_0x273dd2(0x320)](){const _0x39edd8=_0x273dd2,_0x4a5d49=await this[_0x39edd8(0x916)]();for(const _0x4667a2 of _0x4a5d49){const _0x4a0baf=_0x36cd1b[_0x39edd8(0x9eb)];this[_0x39edd8(0xb07)](_0x4a0baf,_0x4667a2);const _0x4936de={'key':_0x4667a2['id'],'tableName':this[_0x39edd8(0x86b)],'action':_0x4a0baf,'value':_0x4667a2};this[_0x39edd8(0xa37)]['publish'](_0x4936de);}return this['connector']['clear']();}async[_0x273dd2(0x916)](_0x1c1b94){const _0x7f7bf6=_0x273dd2,_0x5393f3={'key':'','tableName':this[_0x7f7bf6(0x86b)],'action':_0x54fea4['List']};this[_0x7f7bf6(0xa37)][_0x7f7bf6(0xb07)](_0x5393f3);try{_0x1c1b94&&(_0x1c1b94=_0x1c1b94 instanceof _0x29339a?_0x1c1b94['getQuery']():_0x29339a[_0x7f7bf6(0x3f5)](_0x1c1b94)['getQuery']());}catch(_0x5b3399){throw new _0x3371e7(_0x4c9695['KeyValueDatabaseInvalidQuery'],_0x7f7bf6(0x1d1));}try{return await this['connector']['list'](_0x1c1b94);}catch(_0x173740){let _0x3cb728=_0x7f7bf6(0x1d1);throw _0x173740 instanceof Error&&(_0x3cb728=_0x173740[_0x7f7bf6(0x512)]),new _0x3371e7(_0x4c9695[_0x7f7bf6(0xb34)],_0x3cb728);}}async[_0x273dd2(0x9b3)](_0x3f86c0){const _0x5e46a0=_0x273dd2,_0x10a7e9={'key':'','tableName':this[_0x5e46a0(0x86b)],'action':_0x54fea4[_0x5e46a0(0xa18)]};this[_0x5e46a0(0xa37)]['publish'](_0x10a7e9);try{_0x3f86c0&&(_0x3f86c0=_0x3f86c0 instanceof _0x29339a?_0x3f86c0[_0x5e46a0(0x27b)]():_0x29339a[_0x5e46a0(0x3f5)](_0x3f86c0)['getQuery']());}catch(_0x4ef377){throw new _0x3371e7(_0x4c9695[_0x5e46a0(0xb34)],'Invalid\x20query');}try{return await this[_0x5e46a0(0xa04)][_0x5e46a0(0x9b3)](_0x3f86c0);}catch(_0x41a65d){let _0x438e21=_0x5e46a0(0x1d1);throw _0x41a65d instanceof Error&&(_0x438e21=_0x41a65d['message']),new _0x3371e7(_0x4c9695[_0x5e46a0(0xb34)],_0x438e21);}}['calculateSize'](){return this['connector']['calculateSize']();}['subscribe'](_0x23fb16){const _0x2a003e=_0x273dd2;this[_0x2a003e(0xc0b)]=this[_0x2a003e(0xb4b)][_0x2a003e(0x6f8)](_0x23fb16);}[_0x273dd2(0xbf5)](){this['listenerUnsubscriber']?.();}[_0x273dd2(0xb07)](_0x4c95de,_0x43b166){const _0x3cced7=_0x273dd2,_0x2f29e9=this[_0x3cced7(0x2ab)](_0x4c95de,_0x43b166);this['eventListener'][_0x3cced7(0xb07)](_0x2f29e9);}['buildTableEvent'](_0x576bd1,_0x2c9234){const _0x410341=_0x273dd2;let _0x4b4b0f;switch(_0x576bd1){case _0x36cd1b[_0x410341(0x265)]:_0x4b4b0f=_0x410341(0xbf8);break;case _0x36cd1b['Update']:_0x4b4b0f=_0x410341(0x921);break;case _0x36cd1b[_0x410341(0x9eb)]:_0x4b4b0f='delete';}return{'action':_0x4b4b0f,'value':_0x2c9234};}[_0x273dd2(0x674)](_0x4f8457){const _0x5c3c44=_0x273dd2;if(_0x5c3c44(0x4a2)!=typeof _0x4f8457||null===_0x4f8457)throw new _0x3371e7(_0x4c9695[_0x5c3c44(0x4c3)],_0x5c3c44(0xba2));for(const _0x863e66 in _0x4f8457){const _0x1f6a49=_0x4f8457[_0x863e66];if('object'!=typeof _0x1f6a49||_0x1f6a49 instanceof Date){if(!['string',_0x5c3c44(0x2db),_0x5c3c44(0xb68)][_0x5c3c44(0x4aa)](typeof _0x1f6a49))throw new _0x3371e7(_0x4c9695['KeyValueDatabaseInvalidValue'],'Invalid\x20value.\x20Property\x20\x27'+_0x863e66+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x5c3c44(0x674)](_0x1f6a49);}}}class _0x3a67ba{['peaks']=[];[_0x273dd2(0x5bb)]=0x0;[_0x273dd2(0x24f)]=[];[_0x273dd2(0x86f)]=!0x1;[_0x273dd2(0x58e)]=null;['rootComputationPromise']=null;['debounceLogTimeout'];[_0x273dd2(0x5e8)]=null;[_0x273dd2(0x408)]=[];[_0x273dd2(0x4e9)];[_0x273dd2(0x240)]=Promise[_0x273dd2(0xbaf)]();[_0x273dd2(0x35b)]=0x0;constructor(){}get['ready'](){const _0x858989=_0x273dd2;return this[_0x858989(0x240)];}async[_0x273dd2(0x693)](_0x1250cd,_0x11e10e=0x0){const _0x2efca8=_0x273dd2;this['readyResolve']||(this[_0x2efca8(0x240)]=new Promise(_0x42e910=>{const _0x5140e4=_0x2efca8;this[_0x5140e4(0x5e8)]=_0x42e910;}),this[_0x2efca8(0x35b)]=_0x11e10e);const _0x8efbb6=Date['now']();if(this[_0x2efca8(0x86f)])return void this['transactionQueue']['push'](_0x1250cd);this[_0x2efca8(0x86f)]=!0x0;let _0x121e66={'hash':await this[_0x2efca8(0x9fb)](_0x1250cd),'height':0x0};const _0x13848f=this[_0x2efca8(0xb21)](_0x121e66);this[_0x2efca8(0x408)][_0x2efca8(0x604)](_0x13848f),await _0x13848f,this[_0x2efca8(0x5bb)]+=0x1;const _0x216be7=this[_0x2efca8(0x24f)][_0x2efca8(0x830)];for(;this[_0x2efca8(0x24f)]['length']>0x0;){const _0x4a11a6=this[_0x2efca8(0x24f)][_0x2efca8(0xbd6)]();await this[_0x2efca8(0x693)](_0x4a11a6);}this[_0x2efca8(0x801)](),await this['ready'],this[_0x2efca8(0x66d)](_0x8efbb6,_0x216be7);}async[_0x273dd2(0x560)](){const _0x493f58=_0x273dd2;return await this[_0x493f58(0x240)],this[_0x493f58(0x86f)]?(this[_0x493f58(0xc27)]||(this[_0x493f58(0xc27)]=this[_0x493f58(0xab1)]()),await this['rootComputationPromise']):this[_0x493f58(0x58e)];}[_0x273dd2(0x41a)](){const _0x3f8997=_0x273dd2;return this[_0x3f8997(0x905)][_0x3f8997(0xb48)](({hash:_0x5e6e8a,height:_0x409560})=>({'hash':_0x5e6e8a,'height':_0x409560}));}[_0x273dd2(0x980)](){const _0x3b0b5b=_0x273dd2;return this[_0x3b0b5b(0x5bb)];}['getPeakNode'](_0x280579){const _0x42201b=_0x273dd2;return this['peaks'][_0x42201b(0x77e)](_0x2eecce=>_0x2eecce[_0x42201b(0x34c)]===_0x280579);}async[_0x273dd2(0xbe9)](_0x51d59c,_0x2a0a1a){const _0x258224=_0x273dd2;return await this[_0x258224(0x656)](_0x51d59c+_0x2a0a1a);}async[_0x273dd2(0x9fb)](_0x5f0c1d){const _0x38c438=_0x273dd2;return await this[_0x38c438(0x656)](JSON['stringify'](_0x5f0c1d));}[_0x273dd2(0x9de)](_0x5aea7d){const _0x447e0c=_0x273dd2,_0x2093f8=this['getPeaks'](),_0x11789d=[],_0x22d743=[],_0x6bde8e=[];for(const _0x522162 of _0x2093f8){const _0x53797d=_0x5aea7d[_0x447e0c(0x77e)](_0x298aa8=>_0x298aa8[_0x447e0c(0x34c)]===_0x522162[_0x447e0c(0x34c)]);_0x53797d?_0x522162[_0x447e0c(0x3d2)]!==_0x53797d[_0x447e0c(0x3d2)]&&_0x11789d[_0x447e0c(0x604)]({'height':_0x522162[_0x447e0c(0x34c)],'localPeak':_0x522162,'remotePeak':_0x53797d}):_0x22d743[_0x447e0c(0x604)](_0x522162);}for(const _0x561e01 of _0x5aea7d)_0x2093f8[_0x447e0c(0x77e)](_0xcf10db=>_0xcf10db[_0x447e0c(0x34c)]===_0x561e01[_0x447e0c(0x34c)])||_0x6bde8e[_0x447e0c(0x604)](_0x561e01);return{'differingPeaks':_0x11789d,'peaksMissingInRemote':_0x22d743,'peaksMissingInLocal':_0x6bde8e};}async[_0x273dd2(0xab1)](){const _0x31ef17=_0x273dd2;this[_0x31ef17(0x86f)]=!0x0;const _0x860606=this['peaks']['map'](_0x1accd3=>_0x1accd3[_0x31ef17(0x3d2)]);return this['cachedRoot']=await this[_0x31ef17(0x9aa)](_0x860606),this['isComputingMMR']=!0x1,this[_0x31ef17(0xc27)]=null,this[_0x31ef17(0x801)](),this[_0x31ef17(0x58e)];}async[_0x273dd2(0x656)](_0x178a2e){const _0x33cb09=_0x273dd2;try{const _0x1c00d7=new TextEncoder()[_0x33cb09(0xa25)](_0x178a2e),_0x2d297a=await crypto['subtle'][_0x33cb09(0xb92)](_0x33cb09(0x20c),_0x1c00d7);return Array['from'](new Uint8Array(_0x2d297a))[_0x33cb09(0xb48)](_0x406589=>_0x406589[_0x33cb09(0xa7d)](0x10)['padStart'](0x2,'0'))['join']('');}catch(_0x11ab06){return console[_0x33cb09(0x5c5)](_0x33cb09(0x5de),_0x11ab06),this['computeHash'](_0x178a2e);}}async[_0x273dd2(0x9aa)](_0xbbf21b){const _0x13ce5d=_0x273dd2;return await this[_0x13ce5d(0x656)](_0xbbf21b[_0x13ce5d(0x98e)](''));}async[_0x273dd2(0xb21)](_0x3ea5b7){const _0x4c8553=_0x273dd2;for(;this['peaks'][_0x4c8553(0x830)]>0x0&&this[_0x4c8553(0x905)][this[_0x4c8553(0x905)]['length']-0x1]['height']===_0x3ea5b7[_0x4c8553(0x34c)];){const _0x45cc4e=this[_0x4c8553(0x905)][_0x4c8553(0x4f5)]();_0x3ea5b7={'hash':await this[_0x4c8553(0xbe9)](_0x45cc4e[_0x4c8553(0x3d2)],_0x3ea5b7[_0x4c8553(0x3d2)]),'left':_0x45cc4e,'right':_0x3ea5b7,'height':_0x3ea5b7['height']+0x1};}this[_0x4c8553(0x905)][_0x4c8553(0x604)](_0x3ea5b7),await this[_0x4c8553(0xab1)]();}[_0x273dd2(0x66d)](_0x34dcde,_0x3a961e){const _0x4c93bf=_0x273dd2;if(!_0x58cca5[_0x4c93bf(0x872)](_0x57ac86[_0x4c93bf(0x670)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x4c93bf(0x63a)]);const _0x58b2f8=Date['now']();this['debounceLogTimeout']=setTimeout(()=>_0x58cca5[_0x4c93bf(0x3a3)](_0x57ac86[_0x4c93bf(0x670)],_0x4c93bf(0xa87),this['cachedRoot'],_0x4c93bf(0x6d6),this[_0x4c93bf(0x980)](),'queueLength',_0x3a961e,_0x4c93bf(0x95d),_0x58b2f8-_0x34dcde),0x7d0);}['debounceReady'](){const _0x5b8496=_0x273dd2;this[_0x5b8496(0x4e9)]&&clearTimeout(this[_0x5b8496(0x4e9)]),this['debounceReadyTimeout']=setTimeout(async()=>{const _0x230bed=_0x5b8496;try{const _0x178759=this[_0x230bed(0x408)];if(this[_0x230bed(0x408)]=[],await Promise[_0x230bed(0x24a)](_0x178759),this[_0x230bed(0x35b)]-=_0x178759['length'],this[_0x230bed(0x408)]['length']>0x0||this[_0x230bed(0x35b)]>0x0)return this[_0x230bed(0x801)]();this[_0x230bed(0x5e8)]&&(this[_0x230bed(0x5e8)](),this[_0x230bed(0x5e8)]=null),this['_ready']=Promise[_0x230bed(0xbaf)](),this[_0x230bed(0x86f)]=!0x1;}catch(_0x1862e0){console[_0x230bed(0x5c5)](_0x230bed(0x65e),_0x1862e0);}},0xa);}}const _0x2cd265=[_0x273dd2(0x639),_0x273dd2(0x38e),_0x273dd2(0x829),_0x273dd2(0x26e),_0x273dd2(0x336),_0x273dd2(0x826),_0x273dd2(0x8f5)],_0x1be42b=[[_0x273dd2(0x846),_0x273dd2(0x6e5),_0x273dd2(0x782),'Success',_0x273dd2(0x274),_0x273dd2(0x252),_0x273dd2(0x82b),_0x273dd2(0x336),'OptimizationConnectionSuccess'],['NodeJoin',_0x273dd2(0xbcf),'NodeConnectionsUpdate',_0x273dd2(0x263)],[_0x273dd2(0x8f2),_0x273dd2(0x39e),_0x273dd2(0x71b),_0x273dd2(0x377),_0x273dd2(0x4a3),_0x273dd2(0x3af),'CloseObjectStoreBucket','ClosePubSubTopic',_0x273dd2(0x896),_0x273dd2(0x9ad),'GenerativeAIContextStats',_0x273dd2(0xabe),'GraphDatabaseStats',_0x273dd2(0x81d),'KeyValueDatabaseContentSynchronized',_0x273dd2(0x74c),_0x273dd2(0x447),'KeyValueDatabaseSendTransactions',_0x273dd2(0x716),_0x273dd2(0x710),'LocalMediaStreamTrackFail',_0x273dd2(0x45f),_0x273dd2(0x453),_0x273dd2(0x56a),_0x273dd2(0xbeb),'SubscribeMediaStream',_0x273dd2(0xa94),_0x273dd2(0x2ac),_0x273dd2(0xa29),_0x273dd2(0x6cd)],[_0x273dd2(0x552),_0x273dd2(0xa29),_0x273dd2(0xae5),_0x273dd2(0x7c5),'CannotProvideMediaStream',_0x273dd2(0xa6d)],[_0x273dd2(0xab8),_0x273dd2(0x229)],[_0x273dd2(0x1f1)],[_0x273dd2(0x8f5),_0x273dd2(0x987)]];function _0x2e7b71(_0x53d019){const _0x3a7a32=_0x273dd2;return{..._0x53d019,'systemMessageType':_0x2cd265[_0x53d019['messageType']],'systemContentMessageType':_0x1be42b[_0x53d019[_0x3a7a32(0x6ea)]][_0x53d019[_0x3a7a32(0x26d)][_0x3a7a32(0x6b9)]]};}const _0x79247f={'hour':_0x273dd2(0xa16),'minute':_0x273dd2(0xa16),'second':_0x273dd2(0xa16)};function _0x570a44(_0x1f7a73,_0x16910c){const _0xf16f9e=_0x273dd2,_0x14f515=(function(){const _0x2abff4=a0_0x35be,_0x3b0a8a=new Date(),_0x40bf87=_0x3b0a8a['getMilliseconds'](),_0x23a10f=_0x3b0a8a[_0x2abff4(0x6f2)](_0x2abff4(0x50b),_0x79247f)[_0x2abff4(0x70e)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x23a10f+'.'+(_0x40bf87>0x64?''+_0x40bf87:_0x40bf87>0xa?'0'+_0x40bf87:'00'+_0x40bf87);}()),{sourceId:_0x3a295f,destinationIds:_0x3a2594,systemMessageType:_0x143bee,systemContentMessageType:_0x21b2ce}=_0x2e7b71(_0x1f7a73);return _0x14f515+'\x20-\x20'+_0x16910c+'\x20-\x20'+(_0x3a295f===_0x16910c?_0xf16f9e(0x217)+_0x143bee+_0xf16f9e(0x6d9)+(_0x3a2594?''+_0x3a2594:_0xf16f9e(0x94f)):_0x1f7a73[_0xf16f9e(0x6fd)]===_0x2fb653?_0xf16f9e(0x45d)+_0x143bee+'\x27':(_0x3a2594?'':'Everyone\x20')+_0xf16f9e(0x792)+_0x143bee+'\x27\x20from\x20'+_0x3a295f)+'\x20with\x20\x27'+_0x21b2ce+_0xf16f9e(0x214);}function _0x9fc4ca(_0x46daab,_0x21f457){const _0x131ada=_0x273dd2;if(!_0x58cca5[_0x131ada(0x872)](_0x46daab))return;if(_0x495699[_0x131ada(0x7b4)])return;if(_0x131ada(0x582)==typeof process)return;const _0x363dd3=process['memoryUsage']();console[_0x131ada(0x3a3)]('Memory\x20Usage\x20at\x20'+_0x21f457+':');for(const _0x2311b4 in _0x363dd3)console[_0x131ada(0x3a3)]('\x20\x20'+_0x2311b4+':\x20'+(_0x363dd3[_0x2311b4]/0x400/0x400)['toFixed'](0x2)+_0x131ada(0x89d));}function _0x46e324(_0x2ae6ff,_0xdb3adc){const _0x5e4023=_0x273dd2;if(!_0x58cca5[_0x5e4023(0x872)](_0xdb3adc))return _0x58cca5[_0x5e4023(0x659)](_0x5e4023(0x54e)+_0xdb3adc),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x180e1c,_0x20df34)=>_0x20df34}};let _0x4459fe=0x0;return{'timingLogger':((()=>{const _0x5d811c=_0x5e4023;let _0x210418=Date['now']();return{'start':()=>{const _0x571332=a0_0x35be;_0x210418=Date[_0x571332(0x3a1)]();},'now':()=>Date[_0x5d811c(0x3a1)](),'logWaitTime':_0x286492=>{_0x4459fe+=Date['now']()-_0x210418,_0x58cca5['log'](_0xdb3adc,_0x286492,_0x4459fe+'ms',_0x2ae6ff);}};})()),'logger':{'log':(_0x48a76f,_0x32bf8f=()=>{})=>{const _0x56a8e4=_0x5e4023,_0x43a168=_0x32bf8f();_0x43a168?_0x58cca5['log'](_0xdb3adc,_0x48a76f,_0x43a168,_0x2ae6ff):_0x58cca5[_0x56a8e4(0x3a3)](_0xdb3adc,_0x48a76f,_0x2ae6ff);},'performCalculation':(_0x1a17d0,_0x328332)=>_0x1a17d0()}};}function _0x58ea6b(_0x1fd672){const _0x29843e=_0x273dd2;return _0x29843e(0x582)==typeof Buffer?0x0:Buffer[_0x29843e(0x489)](JSON[_0x29843e(0xa5e)](_0x1fd672),_0x29843e(0x4a7));}function _0x11a478(_0x5d1c33){const _0x46aed7=_0x273dd2;if(0x0===_0x5d1c33)return _0x46aed7(0x3ab);const _0x240c74=Math['floor'](Math[_0x46aed7(0x3a3)](_0x5d1c33)/Math[_0x46aed7(0x3a3)](0x400));return parseFloat((_0x5d1c33/Math[_0x46aed7(0x3cf)](0x400,_0x240c74))[_0x46aed7(0x1ea)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x240c74];}class _0x20dccc extends _0x37e41d{[_0x273dd2(0x61b)];[_0x273dd2(0x78c)];['vendorId'];['isNodeReady'];['db'];[_0x273dd2(0xaf7)];[_0x273dd2(0x9cf)]=new Map();[_0x273dd2(0xa37)];['transactionTable'];[_0x273dd2(0x3cc)];['isSync'];[_0x273dd2(0x385)];['transactionsToSync']=[];[_0x273dd2(0xb37)]=()=>{};['syncTimeout'];['eventListener']=_0x4eac7b();[_0x273dd2(0xc0b)];['syncTransactionsWritten']=[];[_0x273dd2(0x49f)];[_0x273dd2(0x9a2)];[_0x273dd2(0xbe8)]=0x0;[_0x273dd2(0xa36)]=0x0;[_0x273dd2(0xa98)]=!0x1;[_0x273dd2(0x6b5)]=new _0x3a67ba();['transactionHashMap']=new Map();[_0x273dd2(0x733)]=[];[_0x273dd2(0xacc)];['transactionsToAppend']=[];[_0x273dd2(0x8b0)];constructor(_0x1ffee7,_0x4621b0,_0x2cfeeb,_0x5766d9,_0x30560b,_0x73a900,_0x260d00){const _0x50bdf5=_0x273dd2;if(_0x50bdf5(0x563)!=typeof _0x4621b0)throw new _0x3371e7(_0x4c9695[_0x50bdf5(0x7ac)],_0x50bdf5(0x39b));if(super(_0x1ffee7,_0x4621b0),this[_0x50bdf5(0x61b)]=_0x1ffee7,this[_0x50bdf5(0x78c)]=_0x2cfeeb,this[_0x50bdf5(0x300)]=_0x5766d9,this[_0x50bdf5(0x3c2)]=_0x260d00,this[_0x50bdf5(0xaf7)]=_0x50bdf5(0x61c)+this[_0x50bdf5(0x300)]+_0x50bdf5(0x61c)+this['clusterId']+'ccc'+this[_0x50bdf5(0x51b)],this[_0x50bdf5(0xa37)]=_0x4eac7b(),this['loggingCycle']=function(_0x4fe2ea,_0x332331){const _0xefaa73=_0x50bdf5;if(!_0x58cca5['isChannelEnabled'](_0x332331))return _0x58cca5[_0xefaa73(0x659)](_0xefaa73(0x54e)+_0x332331),{..._0x46e324(_0x4fe2ea,_0x332331),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':'0\x20B'})};const {timingLogger:_0x567db6,logger:_0x584c0e}=_0x46e324(_0x4fe2ea,_0x332331);let _0x393c8f=0x0,_0x128729=0x0;return{'timingLogger':_0x567db6,'logger':_0x584c0e,'logDataSent':(_0x221363,_0x11e93b=!0x1)=>{const _0x5b4b10=_0xefaa73,_0x3c7ae2=_0x58ea6b(_0x221363);return _0x11e93b&&_0x58cca5[_0x5b4b10(0x3a3)](_0x332331,_0x5b4b10(0x3c7),_0x4fe2ea,_0x3c7ae2),_0x393c8f+=_0x3c7ae2,_0x3c7ae2;},'logDataReceived':(_0x2c0d19,_0x2b9cdb=!0x1)=>{const _0x4c8e0e=_0xefaa73,_0x3d7223=_0x58ea6b(_0x2c0d19);return _0x2b9cdb&&_0x58cca5[_0x4c8e0e(0x3a3)](_0x332331,'Data\x20Received',_0x4fe2ea,_0x3d7223),_0x128729+=_0x3d7223,_0x3d7223;},'getDataLogged':()=>({'dataSent':_0x11a478(_0x393c8f),'dataReceived':_0x11a478(_0x128729)})};}(this['label'],_0x57ac86['KeyValueDatabase']),this[_0x50bdf5(0x648)]=new Promise(_0x354b46=>{const _0x3e9c2d=_0x50bdf5;this[_0x3e9c2d(0x385)]=_0x354b46;}),_0x30560b instanceof _0x52fc68)this[_0x50bdf5(0x49f)]=_0x30560b[_0x50bdf5(0x341)]();else{const [_0x278683,_0x199735]=_0x52fc68[_0x50bdf5(0x827)](_0x30560b);if(!_0x278683)throw new _0x3371e7(_0x4c9695[_0x50bdf5(0x97f)],_0x50bdf5(0x69a)+_0x199735);this[_0x50bdf5(0x49f)]=structuredClone(_0x30560b);}this[_0x50bdf5(0x5fe)](this[_0x50bdf5(0x49f)]),this['db']=new _0x73a900(this[_0x50bdf5(0xaf7)],this[_0x50bdf5(0x49f)]),this['sendStats']();}async[_0x273dd2(0xbc3)](_0x532be2,_0x5096d3){const _0x1aca96=_0x273dd2;if(_0x58cca5[_0x1aca96(0x3a3)](_0x57ac86[_0x1aca96(0x670)],_0x1aca96(0x4d9),this[_0x1aca96(0x51b)]),!this[_0x1aca96(0x244)])throw new _0x4b8523(_0x4b8523['codes']['KeyValueDatabaseTransactionTableNotInitialized']);if(await this['isSync'],await this[_0x1aca96(0x3c2)](_0x532be2),await this[_0x1aca96(0x6b5)][_0x1aca96(0x560)]()===_0x5096d3){const _0x314320={'sourceId':this[_0x1aca96(0x61b)][_0x1aca96(0xb9d)](),'destinationIds':[_0x532be2],'propagate':!0x0,'messageType':_0xe6fd3b[_0x1aca96(0x829)],'content':{'type':_0x310f3a[_0x1aca96(0xbba)],'label':this['label'],'mmrRoot':_0x5096d3}};return this['loggingCycle'][_0x1aca96(0x4f0)](_0x314320),void this[_0x1aca96(0x2fb)][_0x1aca96(0xb07)](_0x314320);}const _0x12f4e8=this[_0x1aca96(0x6b5)][_0x1aca96(0x41a)](),_0x1a215e={'sourceId':this['localNode'][_0x1aca96(0xb9d)](),'destinationIds':[_0x532be2],'propagate':!0x0,'messageType':_0xe6fd3b[_0x1aca96(0x829)],'content':{'type':_0x310f3a['KeyValueDatabaseContentAvailable'],'label':this['label'],'peaks':_0x12f4e8}};this[_0x1aca96(0x8b0)][_0x1aca96(0x4f0)](_0x1a215e),this[_0x1aca96(0x2fb)]['publish'](_0x1a215e);}async[_0x273dd2(0xaf6)](_0x1f1d8b,_0x4ff3ed){const _0x3eac1a=_0x273dd2,_0x52d863=await this[_0x3eac1a(0x6b5)][_0x3eac1a(0x560)](),_0x42275d=_0x52d863===_0x4ff3ed;if(_0x58cca5['log'](_0x57ac86['KeyValueDatabase'],_0x3eac1a(0x2dc)+_0x1f1d8b+'.\x20Confirmation?\x20'+_0x42275d,this[_0x3eac1a(0x51b)]),_0x42275d)return this[_0x3eac1a(0xbb2)](),void this[_0x3eac1a(0xa7e)]();_0x58cca5[_0x3eac1a(0x3a3)](_0x57ac86[_0x3eac1a(0x670)],_0x3eac1a(0x8b4),_0x52d863,_0x4ff3ed),_0x58cca5[_0x3eac1a(0x673)](_0x3eac1a(0x8b4),{'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x3eac1a(0x6b9)],'remoteId':_0x1f1d8b,'data':{'localMMRRoot':_0x52d863,'remoteMMRRoot':_0x4ff3ed}});const _0x4e8c58={'sourceId':this['localNode']['getId'](),'messageType':_0xe6fd3b[_0x3eac1a(0x829)],'propagate':!0x0,'content':{'type':_0x310f3a[_0x3eac1a(0x710)],'label':this[_0x3eac1a(0x51b)],'mmrRoot':_0x52d863}};this[_0x3eac1a(0x2fb)][_0x3eac1a(0xb07)](_0x4e8c58);}async['processContentAvailable'](_0x1f0f67,_0x11dd21){const _0xe92fec=_0x273dd2;if(_0x58cca5[_0xe92fec(0x3a3)](_0x57ac86[_0xe92fec(0x670)],_0xe92fec(0x5e1),_0x1f0f67,_0xe92fec(0x51b),this['label'],'peaks',_0x11dd21),this[_0xe92fec(0xa98)])return;this[_0xe92fec(0xa98)]=!0x0,this[_0xe92fec(0xbb2)]();const {differingPeaks:_0x39edf6,peaksMissingInLocal:_0x10305e,peaksMissingInRemote:_0x12e331}=this['mmr'][_0xe92fec(0x9de)](_0x11dd21);_0x58cca5['log'](_0x57ac86[_0xe92fec(0x670)],_0xe92fec(0x541),{'differingPeaks':_0x39edf6,'peaksMissingInLocal':_0x10305e,'peaksMissingInRemote':_0x12e331});const _0xa14c96={'sourceId':this['localNode'][_0xe92fec(0xb9d)](),'destinationIds':[_0x1f0f67],'propagate':!0x0,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a[_0xe92fec(0x74c)],'label':this[_0xe92fec(0x51b)],'peakHeights':_0x10305e['map'](_0x3f2c12=>_0x3f2c12[_0xe92fec(0x34c)])[_0xe92fec(0xb3a)](_0x39edf6[_0xe92fec(0xb48)](_0x4e1e5f=>_0x4e1e5f[_0xe92fec(0x34c)]))}};if(this['systemTopic'][_0xe92fec(0xb07)](_0xa14c96),_0x39edf6['length']>0x0||_0x12e331['length']>0x0){const _0x26aa89=_0x12e331[_0xe92fec(0xb48)](_0x19edca=>_0x19edca['height'])[_0xe92fec(0xb3a)](_0x39edf6[_0xe92fec(0xb48)](_0x3a97d3=>_0x3a97d3[_0xe92fec(0x34c)]));await this[_0xe92fec(0x994)](_0x1f0f67,_0x26aa89,!0x0);}}async[_0x273dd2(0x994)](_0x164934,_0x3afb1f,_0x1a4fab=!0x1){const _0x15a968=_0x273dd2;_0x58cca5[_0x15a968(0x3a3)](_0x57ac86['KeyValueDatabase'],_0x15a968(0x531),this['label']);const _0x35ab41=_0x3afb1f[_0x15a968(0xb48)](_0xdd0325=>this[_0x15a968(0x6b5)]['getPeakNode'](_0xdd0325))['filter'](Boolean);if(!_0x35ab41['length']||_0x3afb1f['length']!==_0x35ab41[_0x15a968(0x830)])throw new _0x4b8523(_0x4b8523[_0x15a968(0xa20)]['KeyValueDatabasePeakNotFound'],{'message':_0x15a968(0xa9b),'peakHeights':_0x3afb1f,'peaks':_0x35ab41['map'](_0x354820=>_0x354820['height']),'nodeId':_0x164934});const _0x224f2a=[];for(const _0x185d7c of _0x35ab41)this['collectTransactionsFromNode'](_0x185d7c,_0x224f2a);const _0x57f9ba=_0x1a4fab?void 0x0:[_0x164934],_0x5b013a={'sourceId':this['localNode'][_0x15a968(0xb9d)](),'destinationIds':_0x57f9ba,'messageType':_0xe6fd3b[_0x15a968(0x829)],'propagate':!0x0,'content':{'type':_0x310f3a[_0x15a968(0x842)],'label':this[_0x15a968(0x51b)],'transactions':_0x224f2a}};this[_0x15a968(0x8b0)][_0x15a968(0x4f0)](_0x5b013a),this['systemTopic'][_0x15a968(0xb07)](_0x5b013a);}async['processReceivedTransactions'](_0x265680,_0x4b89b5){const _0x1673bc=_0x273dd2;_0x58cca5[_0x1673bc(0x3a3)](_0x57ac86[_0x1673bc(0x670)],_0x1673bc(0x1e0)+_0x4b89b5['length']+_0x1673bc(0x9e1)+_0x265680+_0x1673bc(0x1d4)+this[_0x1673bc(0x51b)]);for(const _0x1ed69d of _0x4b89b5){const _0xf6e85d=await this[_0x1673bc(0x244)][_0x1673bc(0x266)](_0x1ed69d['id']);if(!(_0xf6e85d&&this[_0x1673bc(0x6c5)](_0xf6e85d,_0x1ed69d)>=0x0)){if(_0x1ed69d[_0x1673bc(0xa57)]===_0x36cd1b[_0x1673bc(0x9eb)]){const [_0x4e60d4,_0xa5935a]=_0x1ed69d['id'][_0x1673bc(0xa62)]('::'),_0x5e5107=this['getTable'](_0x4e60d4);await _0x5e5107[_0x1673bc(0x997)](_0xa5935a);}else this[_0x1673bc(0x54b)]['push'](_0x1ed69d['id']);}}if(_0x58cca5['log'](_0x57ac86[_0x1673bc(0x670)],_0x1673bc(0x222)+this[_0x1673bc(0x54b)][_0x1673bc(0x830)]+_0x1673bc(0x69d),this['label']),this[_0x1673bc(0x54b)][_0x1673bc(0x830)]>0x0){const _0x21ee05={'sourceId':this[_0x1673bc(0x61b)]['getId'](),'destinationIds':[_0x265680],'messageType':_0xe6fd3b[_0x1673bc(0x829)],'propagate':!0x0,'content':{'type':_0x310f3a[_0x1673bc(0x447)],'label':this[_0x1673bc(0x51b)],'transactionIds':this['transactionsToSync']}};this[_0x1673bc(0x8b0)][_0x1673bc(0x4f0)](_0x21ee05),this[_0x1673bc(0x2fb)][_0x1673bc(0xb07)](_0x21ee05);}}[_0x273dd2(0x3da)](){this['sendStats']();}['getContentType'](){const _0x570072=_0x273dd2;return _0x2a74a6[_0x570072(0x2a7)]['KeyValueDatabase'];}['destroy'](){const _0x882e28=_0x273dd2;this['db']['close'](),this[_0x882e28(0x3cc)]?.(),clearTimeout(this[_0x882e28(0x9a2)]),delete this[_0x882e28(0x9a2)],super[_0x882e28(0x553)]();}[_0x273dd2(0x210)](){const _0x44909d=_0x273dd2;this['clearSyncTimeout'](),this['systemTopic'][_0x44909d(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a['CloseKeyValueDatabase'],'label':this[_0x44909d(0x51b)]}});}[_0x273dd2(0x9a7)](_0x1e02e8){const _0x176631=_0x273dd2,_0x521a32=this[_0x176631(0x9cf)][_0x176631(0x266)](_0x1e02e8);if(_0x521a32)return _0x521a32;try{if(!this['db'][_0x176631(0xa76)](_0x1e02e8))throw new _0x3371e7(_0x4c9695['KeyValueDatabaseTableNotFound'],_0x176631(0x205));const _0x15861b=new _0x45ff47(this['db'][_0x176631(0x812)](_0x1e02e8),_0x1e02e8,this[_0x176631(0xa37)]);return this[_0x176631(0x9cf)]['set'](_0x1e02e8,_0x15861b),{'get':_0x15861b[_0x176631(0x266)]['bind'](_0x15861b),'set':_0x15861b['set'][_0x176631(0x370)](_0x15861b),'add':_0x15861b[_0x176631(0xbf8)][_0x176631(0x370)](_0x15861b),'delete':_0x15861b[_0x176631(0x997)][_0x176631(0x370)](_0x15861b),'clear':_0x15861b[_0x176631(0x320)][_0x176631(0x370)](_0x15861b),'list':_0x15861b[_0x176631(0x916)][_0x176631(0x370)](_0x15861b),'count':_0x15861b[_0x176631(0x9b3)]['bind'](_0x15861b),'subscribe':_0x15861b['subscribe'][_0x176631(0x370)](_0x15861b),'unsubscribe':_0x15861b[_0x176631(0xbf5)][_0x176631(0x370)](_0x15861b)};}catch(_0x2f6393){if(_0x2f6393 instanceof _0x3371e7)throw _0x2f6393;throw new _0x3371e7(_0x4c9695[_0x176631(0xb59)],_0x176631(0xb8b));}}[_0x273dd2(0x6f8)](_0x38e710){const _0x51de92=_0x273dd2;this[_0x51de92(0xc0b)]=this[_0x51de92(0xb4b)][_0x51de92(0x6f8)](_0x38e710),this['isPromiseResolved'](this[_0x51de92(0x648)])[_0x51de92(0x90b)](_0x21349f=>{const _0x4f26dd=_0x51de92;_0x21349f&&this['eventListener']['publish']({'event':_0x2a74a6[_0x4f26dd(0xb25)][_0x4f26dd(0x580)]});});}['unsubscribe'](){const _0x4fa232=_0x273dd2;this[_0x4fa232(0xc0b)]?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x273dd2(0x485)](){const _0x15775a=_0x273dd2;_0x9fc4ca(_0x57ac86[_0x15775a(0x670)],_0x15775a(0x9b2));const _0x2349e2=[_0x36a58f,_0x206c33],_0x9549ef=[];try{await this['db'][_0x15775a(0x485)]();const _0x56178c=this['db'][_0x15775a(0x812)](_0x206c33),_0x5b352e=await _0x56178c[_0x15775a(0x916)](),{id:_0x58e524,layout:_0x5c3ca4}=_0x5b352e[0x0]??{};if(_0x5c3ca4){for(const _0x1365b7 in _0x5c3ca4)_0x2349e2[_0x15775a(0x4aa)](_0x1365b7)||this['db'][_0x15775a(0xa76)](_0x1365b7)||_0x9549ef['push'](_0x1365b7);await _0x56178c[_0x15775a(0x68c)](_0x58e524,{'layout':this[_0x15775a(0x49f)]});}else await _0x56178c[_0x15775a(0xbf8)]({'layout':this[_0x15775a(0x49f)]});}catch(_0x5c7712){throw new _0x3371e7(_0x4c9695[_0x15775a(0xb59)],_0x5c7712[_0x15775a(0x512)]||_0x15775a(0x7c9));}this[_0x15775a(0x7a8)](),await this[_0x15775a(0x3fc)](),this[_0x15775a(0x2d5)](),this[_0x15775a(0x57b)](),_0x9549ef['forEach'](_0x198781=>this[_0x15775a(0x783)](_0x198781));}async['sync'](_0xa43f4d,_0x3b8ba0=()=>{},_0x41e6b4=!0x1){const _0x5186ce=_0x273dd2;if(!_0xa43f4d)return setTimeout(()=>{const _0xdd54b5=a0_0x35be;this[_0xdd54b5(0xbb2)](),this[_0xdd54b5(0xa7e)]();},0x0),!0x0;if(this[_0x5186ce(0xa98)]=!0x1,this[_0x5186ce(0xb37)]=_0x3b8ba0,this[_0x5186ce(0x9c3)]=setTimeout(_0x3b8ba0,0x7d0),!this[_0x5186ce(0x2fb)])throw new _0x4b8523(_0x4b8523[_0x5186ce(0xa20)][_0x5186ce(0x3c8)]);const _0x489d4e=await this[_0x5186ce(0x6b5)][_0x5186ce(0x560)](),_0x3df0f8={'sourceId':this['localNode']['getId'](),'messageType':_0xe6fd3b['Content'],'propagate':_0x41e6b4,'content':{'type':_0x310f3a[_0x5186ce(0x710)],'label':this[_0x5186ce(0x51b)],'mmrRoot':_0x489d4e}};return this['loggingCycle']['logDataSent'](_0x3df0f8),this[_0x5186ce(0x2fb)][_0x5186ce(0xb07)](_0x3df0f8),this[_0x5186ce(0x648)];}async[_0x273dd2(0x21c)](_0x595ae8,_0x549fbf){const _0x86617=_0x273dd2;if(_0x58cca5[_0x86617(0x3a3)](_0x57ac86[_0x86617(0x670)],_0x86617(0x5c7)+_0x549fbf[_0x86617(0x830)],this[_0x86617(0x51b)]),!this[_0x86617(0x244)])throw new _0x4b8523(_0x4b8523[_0x86617(0xa20)][_0x86617(0x1de)]);for(const _0x54f8d4 of _0x549fbf){const _0x534ab4=await this[_0x86617(0x244)][_0x86617(0x266)](_0x54f8d4);if(!_0x534ab4)continue;const [_0x274c14,_0x501078]=_0x54f8d4['split']('::'),_0xcd9845=this[_0x86617(0x9a7)](_0x274c14),_0x1220ce=await _0xcd9845[_0x86617(0x266)](_0x501078);_0x1220ce?(_0x534ab4[_0x86617(0x22e)]=_0x1220ce,this[_0x86617(0xabc)](_0x534ab4,[_0x595ae8])):_0x58cca5[_0x86617(0x673)](_0x86617(0x646),{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x86617(0x61b)][_0x86617(0x6b9)],'remoteId':_0x595ae8,'data':{'tableKeys':Object['keys'](this['tables']),'transactionId':_0x54f8d4,'transactions':this[_0x86617(0x54b)],'tableName':_0x274c14,'key':_0x501078}});}}async[_0x273dd2(0x500)](_0x1e9c48){const _0x3643de=_0x273dd2;if(!this[_0x3643de(0x244)])throw new _0x4b8523(_0x4b8523[_0x3643de(0xa20)][_0x3643de(0x1de)]);const _0x1d7942=await this[_0x3643de(0x6b5)]['hashTransaction'](_0x1e9c48),_0x58ad00=this[_0x3643de(0x8d8)][_0x3643de(0x266)](_0x1d7942);if(_0x58ad00&&this[_0x3643de(0x6c5)](_0x1e9c48,_0x58ad00)<=0x0)return void _0x58cca5[_0x3643de(0x3a3)](_0x57ac86[_0x3643de(0x670)],'writeTransaction\x20-\x20transaction\x20already\x20exists',_0x1e9c48);const _0x17bf9e={..._0x1e9c48};return delete _0x17bf9e['value'],this[_0x3643de(0x9f2)](_0x17bf9e),await this['transactionTable']['set'](_0x1e9c48['id'],_0x17bf9e),_0x1e9c48;}[_0x273dd2(0x6c5)](_0xb1a50e,_0x48eb91){const _0x1c7f9f=_0x273dd2;return _0xb1a50e[_0x1c7f9f(0xae2)]!==_0x48eb91['timestamp']?_0xb1a50e[_0x1c7f9f(0xae2)]-_0x48eb91[_0x1c7f9f(0xae2)]:_0xb1a50e[_0x1c7f9f(0x2dd)]-_0x48eb91[_0x1c7f9f(0x2dd)];}async[_0x273dd2(0x945)](_0x1e31ac){const _0x1fee8b=_0x273dd2;if(!this[_0x1fee8b(0x244)])throw new _0x4b8523(_0x4b8523['codes'][_0x1fee8b(0x1de)]);const _0x14df17=_0x1e31ac['tableName']+'::'+_0x1e31ac[_0x1fee8b(0xc14)],_0x3b399d=await _0x4d7ce4[_0x1fee8b(0x83c)](),_0x2818a3={'id':_0x14df17,'priority':Math[_0x1fee8b(0xa82)](),'timestamp':_0x3b399d,'action':_0x1e31ac['action']};if(await this[_0x1fee8b(0x500)](_0x2818a3))return _0x2818a3;}async[_0x273dd2(0x783)](_0x35af7d){const _0x5c8e42=_0x273dd2;if(!this[_0x5c8e42(0x244)])throw new _0x4b8523(_0x4b8523[_0x5c8e42(0xa20)][_0x5c8e42(0x1de)]);const _0x187773=_0x29339a[_0x5c8e42(0xa4b)]('id')[_0x5c8e42(0x85e)]('between',[_0x35af7d+'::',_0x35af7d+_0x5c8e42(0x739)]),_0x5811a4=await this['transactionTable'][_0x5c8e42(0x916)](_0x187773[_0x5c8e42(0x27b)]());for(const _0x40d6bb of _0x5811a4)await this[_0x5c8e42(0x244)]['delete'](_0x40d6bb['id']);}['setOnMessageHandler'](){this['onMessage'](async(_0xf84875,_0x59dcb9)=>{const _0x332fe6=a0_0x35be;if(_0x59dcb9 instanceof File)return;if(this[_0x332fe6(0x8b0)][_0x332fe6(0x9dc)](_0x59dcb9),!await this['writeTransaction'](_0x59dcb9))return void this[_0x332fe6(0x380)](_0xf84875,_0x59dcb9);if(!_0x59dcb9['value'])throw new _0x4b8523(_0x4b8523[_0x332fe6(0xa20)][_0x332fe6(0xb0f)]);const [_0x66fc64,_0x28d6f1]=_0x59dcb9['id']['split']('::'),_0x4b54d4=this[_0x332fe6(0x9a7)](_0x66fc64);if(!_0x4b54d4)throw new _0x4b8523(_0x4b8523[_0x332fe6(0xa20)][_0x332fe6(0x55e)],{'table':_0x4b54d4});let _0x1930ef=0x0;switch(_0x59dcb9[_0x332fe6(0xa57)]){case _0x36cd1b['Add']:case _0x36cd1b['Update']:{const _0x4d8de3=_0x4b54d4[_0x332fe6(0x68c)](_0x28d6f1,_0x59dcb9[_0x332fe6(0x22e)],!0x1);_0x1930ef=JSON['stringify'](_0x59dcb9[_0x332fe6(0x22e)])['length'],this[_0x332fe6(0x54b)][_0x332fe6(0x4aa)](_0x59dcb9['id'])&&this[_0x332fe6(0x1d0)][_0x332fe6(0x604)](_0x4d8de3);break;}case _0x36cd1b['Delete']:{const _0x5ebb7b=_0x4b54d4[_0x332fe6(0x997)](_0x28d6f1,!0x1);this['transactionsToSync'][_0x332fe6(0x4aa)](_0x59dcb9['id'])&&this[_0x332fe6(0x1d0)][_0x332fe6(0x604)](_0x5ebb7b);break;}}_0x58cca5[_0x332fe6(0x7ea)](_0x37519b['KeyValueDatabase'],{'type':_0x332fe6(0x4bf),'label':this[_0x332fe6(0x51b)],'nodeId':this[_0x332fe6(0x61b)][_0x332fe6(0xb9d)](),'nodeType':this[_0x332fe6(0x61b)]['type'],'clusterId':this[_0x332fe6(0x78c)],'tableName':_0x66fc64,'key':_0x28d6f1,'size':_0x1930ef}),this[_0x332fe6(0x380)](_0xf84875,_0x59dcb9);});}['setOnTableWriteHandler'](){const _0x533775=_0x273dd2;this[_0x533775(0x3cc)]=this[_0x533775(0xa37)][_0x533775(0x6f8)](async _0x24e805=>{const _0x5d427e=_0x533775;let _0x1cd503=0x0;switch(_0x24e805[_0x5d427e(0xa57)]){case _0x36cd1b[_0x5d427e(0x265)]:case _0x36cd1b[_0x5d427e(0xa6c)]:case _0x36cd1b['Delete']:{const _0x569bdd=await this[_0x5d427e(0x945)](_0x24e805);if(!_0x569bdd)return;_0x569bdd[_0x5d427e(0x22e)]=_0x24e805['value'],this[_0x5d427e(0xabc)](_0x569bdd),_0x1cd503=JSON[_0x5d427e(0xa5e)](_0x24e805['value'])[_0x5d427e(0x830)],this[_0x5d427e(0xbe8)]+=0x1;break;}case _0x54fea4[_0x5d427e(0x6ce)]:case _0x54fea4[_0x5d427e(0x373)]:case _0x54fea4['Count']:this[_0x5d427e(0xa36)]+=0x1;}_0x58cca5[_0x5d427e(0x7ea)](_0x37519b[_0x5d427e(0x670)],{'type':_0x24e805['action'],'label':this[_0x5d427e(0x51b)],'nodeId':this[_0x5d427e(0x61b)][_0x5d427e(0xb9d)](),'nodeType':this[_0x5d427e(0x61b)]['type'],'clusterId':this[_0x5d427e(0x78c)],'tableName':_0x24e805[_0x5d427e(0x86b)],'key':_0x24e805['key'],'size':_0x1cd503}),this[_0x5d427e(0x844)]();});}[_0x273dd2(0x7a8)](){const _0x78d782=_0x273dd2;this['db']&&(this[_0x78d782(0x244)]||(this[_0x78d782(0x244)]=this['db']['getTableConnector'](_0x36a58f)));}[_0x273dd2(0xbb2)](){const _0x57f51d=_0x273dd2;this[_0x57f51d(0x9c3)]&&(clearTimeout(this['syncTimeout']),delete this['syncTimeout']);}async[_0x273dd2(0xa7e)](){const _0x195987=_0x273dd2;await this[_0x195987(0x6b5)][_0x195987(0x4a5)],this[_0x195987(0x218)](),this[_0x195987(0xb4b)]['publish']({'event':_0x2a74a6['DatabaseEvent'][_0x195987(0x580)]}),this[_0x195987(0x385)]?.(!0x0),delete this[_0x195987(0x385)],this[_0x195987(0x844)](),_0x58cca5['log'](_0x57ac86[_0x195987(0x670)],_0x195987(0x41e),this['label']);}async[_0x273dd2(0x969)](_0x15e090){const _0x1414d0=_0x273dd2;await Promise[_0x1414d0(0x24a)](this[_0x1414d0(0x1d0)]),_0x58cca5['log'](_0x57ac86[_0x1414d0(0x670)],'publishSyncCompletedAfterWrites\x20-\x20'+this['syncTransactionsWritten']['length']+_0x1414d0(0x2e1)+_0x15e090+_0x1414d0(0x703),this[_0x1414d0(0x51b)]),await this[_0x1414d0(0x6b5)][_0x1414d0(0x4a5)],await this[_0x1414d0(0x2fd)](_0x15e090),await this[_0x1414d0(0xa7e)]();}['checkSyncComplete'](_0x1b2e09,_0x274487){const _0x453646=_0x273dd2;this['transactionsToSync'][_0x453646(0x4aa)](_0x274487['id'])&&(this[_0x453646(0xbb2)](),this['transactionsToSync']=this[_0x453646(0x54b)][_0x453646(0x57c)](_0x43f3bd=>_0x43f3bd!==_0x274487['id']),0x0!==this[_0x453646(0x54b)][_0x453646(0x830)]?this['syncTimeout']=setTimeout(this['timeoutCallback'],0x7d0):this[_0x453646(0x969)](_0x1b2e09));}[_0x273dd2(0x844)](){const _0x439ad7=_0x273dd2;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x439ad7(0x9a2)]=setTimeout(async()=>{const _0x31013e=_0x439ad7;delete this[_0x31013e(0x9a2)];let _0x3b7b2f=0x0;for(const _0x7ee88a of this[_0x31013e(0x9cf)][_0x31013e(0x2e7)]())_0x3b7b2f+=await _0x7ee88a[_0x31013e(0x8f7)]();this[_0x31013e(0x2fb)][_0x31013e(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x31013e(0x829)],'content':{'type':_0x310f3a['KeyValueDatabaseStats'],'label':this[_0x31013e(0x51b)],'stats':{'timestamp':Date[_0x31013e(0x3a1)](),'storage':_0x3b7b2f,'messagesSent':this[_0x31013e(0x695)],'messagesReceived':this[_0x31013e(0x3ed)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x31013e(0xc1b)],'writes':this[_0x31013e(0xbe8)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x58cca5['logStorage'](_0x37519b[_0x31013e(0x670)],'ccc'+this['clusterId']+'ccc'+this[_0x31013e(0x51b)],_0x3b7b2f);},_0xcc772);}['addReservedTables'](_0x3ef2d6){const _0x563821=_0x273dd2;if(_0x3ef2d6['tables'][_0x36a58f])throw new _0x3371e7(_0x4c9695[_0x563821(0x1fb)],_0x563821(0xaa9)+_0x36a58f+_0x563821(0x8fe));if(_0x3ef2d6[_0x563821(0x9cf)][_0x206c33])throw new _0x3371e7(_0x4c9695[_0x563821(0x1fb)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x206c33+_0x563821(0x8fe));_0x3ef2d6[_0x563821(0x9cf)][_0x36a58f]={'indexes':[]},_0x3ef2d6['tables'][_0x206c33]={'indexes':[]};}async['isPromiseResolved'](_0x31ccb6){const _0x486f32=_0x273dd2;return Promise[_0x486f32(0x808)]([_0x31ccb6,Promise[_0x486f32(0xbaf)](_0x486f32(0x2c1))])[_0x486f32(0x90b)](_0x17d1cd=>_0x486f32(0x2c1)!==_0x17d1cd);}async['confirmSynchronization'](_0x434db7){const _0x302b72=_0x273dd2;await this[_0x302b72(0x89a)]();const _0xe24ab6=await this[_0x302b72(0x6b5)][_0x302b72(0x560)](),_0x3f33cd={'sourceId':this['localNode'][_0x302b72(0xb9d)](),'destinationIds':[_0x434db7],'propagate':!0x0,'messageType':_0xe6fd3b[_0x302b72(0x829)],'content':{'type':_0x310f3a[_0x302b72(0xbba)],'label':this[_0x302b72(0x51b)],'mmrRoot':_0xe24ab6}};this['systemTopic'][_0x302b72(0xb07)](_0x3f33cd);}async[_0x273dd2(0x3fc)](){const _0x410733=_0x273dd2;if(!this[_0x410733(0x244)])throw new _0x4b8523(_0x4b8523['codes'][_0x410733(0x1de)]);this[_0x410733(0x733)]=await this[_0x410733(0x244)]['list'](),this[_0x410733(0x733)]['sort'](this['compareTransactions']),this[_0x410733(0x6b5)]=new _0x3a67ba(),this[_0x410733(0x8d8)]=new Map();for(const _0x5cf8da of this['transactions'])this[_0x410733(0xa80)](_0x5cf8da,this[_0x410733(0x733)][_0x410733(0x830)]);this['logInitialMMR']();}async['appendTransactionAndUpdateHashMap'](_0x315399,_0x5f9a73){const _0x3c3332=_0x273dd2,_0x5378ea={..._0x315399};delete _0x5378ea[_0x3c3332(0x22e)],await this[_0x3c3332(0x6b5)]['appendTransaction'](_0x5378ea,_0x5f9a73);const _0x570a8b=await this[_0x3c3332(0x6b5)]['hashTransaction'](_0x5378ea);this[_0x3c3332(0x8d8)][_0x3c3332(0x68c)](_0x570a8b,_0x315399);}[_0x273dd2(0x75b)](_0xa99aa7){const _0x13e1f1=_0x273dd2;return this[_0x13e1f1(0x8d8)][_0x13e1f1(0x266)](_0xa99aa7);}[_0x273dd2(0x879)](_0x328076,_0x2ac8e3){const _0x49dd40=_0x273dd2;if(0x0!==_0x328076[_0x49dd40(0x34c)])_0x328076[_0x49dd40(0xabb)]&&this[_0x49dd40(0x879)](_0x328076[_0x49dd40(0xabb)],_0x2ac8e3),_0x328076[_0x49dd40(0x2de)]&&this[_0x49dd40(0x879)](_0x328076['right'],_0x2ac8e3);else{const _0x567f18=this[_0x49dd40(0x75b)](_0x328076[_0x49dd40(0x3d2)]);_0x567f18&&_0x2ac8e3['push'](_0x567f18);}}async[_0x273dd2(0x572)](){const _0x2a84c2=_0x273dd2;this['debounceRebuildMMR']&&(clearTimeout(this[_0x2a84c2(0xacc)]),delete this[_0x2a84c2(0xacc)],this['transactionsToAppend']['length']>0x0&&(this[_0x2a84c2(0x733)]['push'](...this[_0x2a84c2(0xa97)][_0x2a84c2(0x939)](this['compareTransactions'])),this[_0x2a84c2(0xa97)]=[]));const _0x37cd19=this['startLoggingCycle']();this[_0x2a84c2(0x6b5)]=new _0x3a67ba(),this[_0x2a84c2(0x8d8)]['clear'](),this[_0x2a84c2(0x733)][_0x2a84c2(0x939)](this[_0x2a84c2(0x6c5)]);for(const _0x3869b3 of this['transactions'])this[_0x2a84c2(0xa80)](_0x3869b3,this[_0x2a84c2(0x733)]['length']);await this['mmr'][_0x2a84c2(0x4a5)],this[_0x2a84c2(0x3d8)](_0x37cd19);}[_0x273dd2(0x529)](){const _0x214bdb=_0x273dd2;return this[_0x214bdb(0x8b0)]['logger']['performCalculation'](async()=>{const _0x595a01=_0x214bdb,_0x3f32e1=await this[_0x595a01(0x6b5)]['getRoot']();return{'startTime':Date[_0x595a01(0x3a1)](),'initialRoot':_0x3f32e1};},Promise[_0x214bdb(0xbaf)]({'startTime':0x0,'initialRoot':''}));}async[_0x273dd2(0x3d8)](_0x1e9838){const _0x1d555a=_0x273dd2;try{const {startTime:_0x135fbc,initialRoot:_0x5c39e0}=await _0x1e9838,_0x371206=await this['mmr'][_0x1d555a(0x560)](),_0x51ad8b=['RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20'+(_0x5c39e0!==_0x371206),_0x1d555a(0x36b)+_0x5c39e0,_0x1d555a(0x8b5)+_0x371206,_0x1d555a(0x594)+this[_0x1d555a(0x6b5)][_0x1d555a(0x980)](),_0x1d555a(0x47d)+(Date[_0x1d555a(0x3a1)]()-_0x135fbc)+_0x1d555a(0x691)][_0x1d555a(0x98e)]('\x20');this[_0x1d555a(0x8b0)]['logger']['log']('',()=>_0x51ad8b);}catch(_0x6e4030){console[_0x1d555a(0x5c5)](_0x1d555a(0x66b),_0x6e4030);}}['debounceRebuildMMRWithTransaction'](_0x100018){const _0x174262=_0x273dd2;this[_0x174262(0xa97)][_0x174262(0x604)](_0x100018),this[_0x174262(0xacc)]&&(clearTimeout(this[_0x174262(0xacc)]),delete this[_0x174262(0xacc)]),this[_0x174262(0xacc)]=setTimeout(()=>{const _0xf1222=_0x174262;this[_0xf1222(0x89a)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0xd6301d=_0x273dd2;if(this[_0xd6301d(0xacc)]&&(clearTimeout(this['debounceRebuildMMR']),delete this['debounceRebuildMMR']),0x0!==this[_0xd6301d(0xa97)]['length']){if(0x0===this[_0xd6301d(0x733)][_0xd6301d(0x830)])return this[_0xd6301d(0x733)]=this[_0xd6301d(0xa97)],this[_0xd6301d(0xa97)]=[],await this['rebuildMMR']();if(this['transactionsToAppend'][_0xd6301d(0x939)](this[_0xd6301d(0x6c5)]),this['compareTransactions'](this[_0xd6301d(0xa97)][0x0],this['transactions'][this[_0xd6301d(0x733)]['length']-0x1])>0x0){this[_0xd6301d(0x8b0)][_0xd6301d(0x804)][_0xd6301d(0x3a3)](_0xd6301d(0x463)+this[_0xd6301d(0xa97)][_0xd6301d(0x830)]+_0xd6301d(0xb6e)+this[_0xd6301d(0x733)][_0xd6301d(0x830)]);for(const _0x1b3c78 of this[_0xd6301d(0xa97)])this['transactions'][_0xd6301d(0x604)](_0x1b3c78),this[_0xd6301d(0xa80)](_0x1b3c78,this[_0xd6301d(0xa97)]['length']);return this[_0xd6301d(0xa97)]=[],void this['loggingCycle'][_0xd6301d(0x804)]['log']('processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-',async()=>_0xd6301d(0x83e)+await this['mmr'][_0xd6301d(0x560)]()+_0xd6301d(0xaf2)+this[_0xd6301d(0x6b5)][_0xd6301d(0x980)]());}this[_0xd6301d(0x8b0)][_0xd6301d(0x804)][_0xd6301d(0x3a3)](_0xd6301d(0x700)+this['transactionsToAppend'][_0xd6301d(0x830)]+_0xd6301d(0xb6e)+this[_0xd6301d(0x733)][_0xd6301d(0x830)]),this[_0xd6301d(0x733)]['push'](...this[_0xd6301d(0xa97)]),this[_0xd6301d(0xa97)]=[],this[_0xd6301d(0x572)]();}}async[_0x273dd2(0x218)](){const _0x11f253=_0x273dd2;if(!_0x58cca5[_0x11f253(0x872)](_0x57ac86[_0x11f253(0x670)]))return;await this[_0x11f253(0x6b5)][_0x11f253(0x4a5)];const {dataSent:_0x481a80,dataReceived:_0x7ff036}=this[_0x11f253(0x8b0)][_0x11f253(0x75c)]();_0x58cca5[_0x11f253(0x3a3)](_0x57ac86['KeyValueDatabase'],_0x11f253(0x959),this['label'],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x481a80,_0x11f253(0x1ec)+_0x7ff036,_0x11f253(0x374),await this['mmr'][_0x11f253(0x560)](),'\x0a\x20===\x20Total\x20Nodes:',this[_0x11f253(0x6b5)][_0x11f253(0x980)]());}async['logInitialMMR'](){const _0x1fb9dd=_0x273dd2;if(!_0x58cca5[_0x1fb9dd(0x872)](_0x57ac86['KeyValueDatabase']))return;const _0x1f229b=this[_0x1fb9dd(0x6b5)][_0x1fb9dd(0x41a)](),_0x3b9b3d=_0x1f229b[_0x1fb9dd(0xb48)](_0x36c751=>_0x36c751[_0x1fb9dd(0x34c)]),_0xacc792=await this[_0x1fb9dd(0x6b5)][_0x1fb9dd(0x560)]();_0x58cca5['log'](_0x57ac86[_0x1fb9dd(0x670)],_0x1fb9dd(0x54f),this[_0x1fb9dd(0x733)][_0x1fb9dd(0x830)],_0x1fb9dd(0x733),this[_0x1fb9dd(0x6b5)]['getTotalNodes'](),'totalNodes',_0x1f229b[_0x1fb9dd(0x830)],'peaks',_0x3b9b3d,_0x1fb9dd(0x65a),_0xacc792);}}const _0x2cb5cd=require('@crewdle/mist-connector-opfs'),_0x3ba684=require('@crewdle/mist-connector-indexed-db'),_0x626a1e=require('@crewdle/mist-connector-webrtc-browser'),_0x52f04e=0x10000000;var _0x490d1a,_0x31bbcb,_0x3da868,_0x31b797,_0xfed910,_0x18e010,_0x2ea71a,_0x467156,_0xf0e27d;!function(_0x4053a1){const _0x365c40=_0x273dd2;_0x4053a1[_0x365c40(0x404)]='AudioContext',_0x4053a1[_0x365c40(0x810)]='AudioOutput',_0x4053a1[_0x365c40(0xb3b)]=_0x365c40(0xb3b),_0x4053a1[_0x365c40(0x750)]='Backgrounds',_0x4053a1[_0x365c40(0xb23)]=_0x365c40(0xb23),_0x4053a1[_0x365c40(0x91b)]=_0x365c40(0x91b),_0x4053a1[_0x365c40(0x9c7)]=_0x365c40(0x9c7),_0x4053a1[_0x365c40(0x754)]=_0x365c40(0x754),_0x4053a1[_0x365c40(0x7f8)]='WebGL',_0x4053a1['WebRTC']=_0x365c40(0xa05);}(_0x490d1a||(_0x490d1a={}));class _0x2d2c9b{[_0x273dd2(0x509)];[_0x273dd2(0x806)];[_0x273dd2(0x50d)];constructor(_0xe6bdb6=new Map(),_0x35ded1=new Map(),_0x8ee701=new EventTarget()){const _0x5b07c2=_0x273dd2;this[_0x5b07c2(0x509)]=_0xe6bdb6,this[_0x5b07c2(0x806)]=_0x35ded1,this[_0x5b07c2(0x50d)]=_0x8ee701;}['emit']=(_0x4312c4,_0x26a80e)=>this[_0x273dd2(0x509)][_0x273dd2(0xb9f)](_0x4312c4)?(_0x58cca5[_0x273dd2(0x3a3)](_0x57ac86[_0x273dd2(0x344)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x4312c4,'data':_0x26a80e}),this[_0x273dd2(0x50d)][_0x273dd2(0xa17)](new CustomEvent(_0x4312c4,{'detail':_0x26a80e})),!0x0):(this['bufferEvent'](_0x4312c4,_0x26a80e),!0x1);['on']=(_0x50290f,_0x2ee892)=>{const _0x3c3943=_0x273dd2,_0x376987=_0x3dde80=>{const _0x151fb5=a0_0x35be;_0x58cca5[_0x151fb5(0x3a3)](_0x57ac86[_0x151fb5(0x344)],_0x151fb5(0x856),_0x3dde80[_0x151fb5(0x6b9)],_0x3dde80[_0x151fb5(0x5cd)]),_0x2ee892(_0x3dde80[_0x151fb5(0x5cd)]);};return this['registeredListeners'][_0x3c3943(0x68c)](_0x50290f,_0x376987),this[_0x3c3943(0x50d)][_0x3c3943(0x70d)](_0x50290f,_0x376987),_0x58cca5[_0x3c3943(0x3a3)](_0x57ac86[_0x3c3943(0xb62)],_0x3c3943(0xaae),_0x50290f,_0x2ee892),this[_0x3c3943(0x653)](_0x50290f),this;};['off'](_0x3a3107){const _0xdfbd46=_0x273dd2;if(!_0x3a3107)return this['registeredListeners']['forEach']((_0x17d129,_0x44350)=>{const _0x38d59a=a0_0x35be;this['eventTarget'][_0x38d59a(0xa5c)](_0x44350,_0x17d129);}),void this[_0xdfbd46(0x509)][_0xdfbd46(0x320)]();_0xdfbd46(0x563)==typeof _0x3a3107&&this[_0xdfbd46(0xadb)](_0x3a3107),Array[_0xdfbd46(0x833)](_0x3a3107)&&_0x3a3107[_0xdfbd46(0xb9b)](_0x5e1228=>{const _0x546497=_0xdfbd46;this[_0x546497(0xadb)](_0x5e1228);});}['removeListener'](_0x32e8e2){const _0x544f3d=_0x273dd2,_0x3492ff=this['registeredListeners'][_0x544f3d(0x266)](_0x32e8e2);_0x3492ff&&(this[_0x544f3d(0x50d)]['removeEventListener'](_0x32e8e2,_0x3492ff),this[_0x544f3d(0x509)][_0x544f3d(0x997)](_0x32e8e2));}['bufferEvent'](_0x1e7cd9,_0x4b48e7){const _0x5b14f6=_0x273dd2;_0x58cca5[_0x5b14f6(0x3a3)](_0x57ac86['Events'],_0x5b14f6(0xaff),{'event':_0x1e7cd9,'data':_0x4b48e7});const _0x278a25=this[_0x5b14f6(0x806)]['get'](_0x1e7cd9)||[];this[_0x5b14f6(0x806)][_0x5b14f6(0x68c)](_0x1e7cd9,[..._0x278a25,_0x4b48e7]);}[_0x273dd2(0x653)](_0x5ecf00){const _0x5ddf40=_0x273dd2,_0x1cbd8f=this[_0x5ddf40(0x806)][_0x5ddf40(0x266)](_0x5ecf00);_0x1cbd8f&&(_0x1cbd8f[_0x5ddf40(0xb9b)](_0x12b4ab=>{const _0xe56718=_0x5ddf40;_0x58cca5[_0xe56718(0x3a3)](_0x57ac86[_0xe56718(0x344)],_0xe56718(0xa6b),{'event':_0x5ecf00,'data':_0x12b4ab}),this[_0xe56718(0x50d)][_0xe56718(0xa17)](new CustomEvent(_0x5ecf00,{'detail':_0x12b4ab}));}),this[_0x5ddf40(0x806)][_0x5ddf40(0x997)](_0x5ecf00));}}class _0x17e91b extends Error{constructor(_0x2c5ed9){const _0x10b7ad=_0x273dd2;super(_0x10b7ad(0xbd3)+_0x2c5ed9);}}!function(_0x1349b3){_0x1349b3[_0x1349b3['Core']=0x0]='Core',_0x1349b3[_0x1349b3['Optimization']=0x1]='Optimization';}(_0x31bbcb||(_0x31bbcb={})),function(_0x48c46f){const _0x2fc40b=_0x273dd2;_0x48c46f[_0x48c46f[_0x2fc40b(0x846)]=0x0]=_0x2fc40b(0x846),_0x48c46f[_0x48c46f[_0x2fc40b(0x6e5)]=0x1]='Answer',_0x48c46f[_0x48c46f[_0x2fc40b(0x782)]=0x2]=_0x2fc40b(0x782),_0x48c46f[_0x48c46f[_0x2fc40b(0x90c)]=0x3]=_0x2fc40b(0x90c),_0x48c46f[_0x48c46f[_0x2fc40b(0x274)]=0x4]=_0x2fc40b(0x274),_0x48c46f[_0x48c46f[_0x2fc40b(0x252)]=0x5]=_0x2fc40b(0x252),_0x48c46f[_0x48c46f[_0x2fc40b(0x82b)]=0x6]=_0x2fc40b(0x82b),_0x48c46f[_0x48c46f[_0x2fc40b(0x336)]=0x7]='Stats',_0x48c46f[_0x48c46f[_0x2fc40b(0x9ac)]=0x8]=_0x2fc40b(0x9ac);}(_0x3da868||(_0x3da868={})),function(_0x106cd9){const _0x4b085e=_0x273dd2;_0x106cd9[_0x106cd9[_0x4b085e(0x3a7)]=0x0]=_0x4b085e(0x3a7),_0x106cd9[_0x106cd9[_0x4b085e(0xa6e)]=0x1]=_0x4b085e(0xa6e);}(_0x31b797||(_0x31b797={})),function(_0x487b70){const _0x592688=_0x273dd2;_0x487b70[_0x592688(0x91b)]='media-stream';}(_0xfed910||(_0xfed910={})),function(_0x1aee61){const _0x1a1a89=_0x273dd2;_0x1aee61[_0x1aee61[_0x1a1a89(0xae1)]=0x0]='NodeJoin',_0x1aee61[_0x1aee61['NodeUpdate']=0x1]=_0x1a1a89(0xbcf),_0x1aee61[_0x1aee61[_0x1a1a89(0x915)]=0x2]=_0x1a1a89(0x915),_0x1aee61[_0x1aee61[_0x1a1a89(0x263)]=0x3]=_0x1a1a89(0x263);}(_0x18e010||(_0x18e010={})),function(_0x59e397){const _0x20f4e3=_0x273dd2;_0x59e397[_0x59e397[_0x20f4e3(0x8f5)]=0x0]='Remediation',_0x59e397[_0x59e397['RemoteRemediation']=0x1]=_0x20f4e3(0x987);}(_0x2ea71a||(_0x2ea71a={})),function(_0x146704){const _0x2d54f2=_0x273dd2;_0x146704[_0x2d54f2(0x8bb)]=_0x2d54f2(0x991),_0x146704[_0x2d54f2(0x9c2)]=_0x2d54f2(0x314);}(_0x467156||(_0x467156={})),function(_0x99babf){const _0x5e4f59=_0x273dd2;_0x99babf[_0x5e4f59(0x40d)]='resolution',_0x99babf[_0x5e4f59(0x555)]=_0x5e4f59(0xb40);}(_0xf0e27d||(_0xf0e27d={}));const _0x59b301=require('aws-amplify'),_0x33a1d6=require('aws-amplify/utils'),_0xb777e7=require('@aws-amplify/api'),_0x3e52e9=require('@aws-amplify/core');class _0x2dbc37{['clusterId'];[_0x273dd2(0x61b)];['remoteId'];constructor(_0x17dced,_0x3d4218,_0x2d3584){const _0x41b811=_0x273dd2;this[_0x41b811(0x78c)]=_0x17dced,this[_0x41b811(0x61b)]=_0x3d4218,this['remoteId']=_0x2d3584;}[_0x273dd2(0xb1f)](){return this['localNode']['getId']();}[_0x273dd2(0x7c0)](){const _0x1bd772=_0x273dd2;return this[_0x1bd772(0x5b1)];}}var _0x215b6e,_0x3c832a,_0x45236f;function _0x32906e(_0xb8ffec,_0xcea6da){const _0x211b13=_0x273dd2;return _0xb8ffec[_0x211b13(0x6fd)]===_0xcea6da;}function _0x3cd66e(_0x53dda0,_0x49df4a){const _0x4f06fc=_0x273dd2;return _0x53dda0[_0x4f06fc(0x966)]?.['includes'](_0x49df4a)??function(_0x6e545d){const _0x44e3c4=_0x4f06fc;return void 0x0===_0x6e545d[_0x44e3c4(0x966)];}(_0x53dda0);}function _0x7f0d95(_0x52b836,{contentType:_0x382257,label:_0x549f80,remoteId:_0x2a5215}){return _0x52b836+'-'+_0x382257+'-'+_0x549f80+'-'+_0x2a5215;}function _0x325107(_0x5fc17,_0x313947,_0x40e6ae){return''+_0x5fc17+_0x313947+_0x40e6ae;}function _0x4e5c63(_0x35d460){const _0x2c3aab=_0x273dd2;return _0x35d460===_0x3c832a[_0x2c3aab(0xbea)]?_0x2c3aab(0x79b):_0x2c3aab(0x91c);}function _0x1f66d3(_0x1b83bb,_0x87f483){const _0x35d1ae=_0x273dd2;return{'label':_0x1b83bb[_0x35d1ae(0x4b4)](),'contentType':_0x1b83bb[_0x35d1ae(0x54c)](),'remoteId':_0x87f483[_0x35d1ae(0x7c0)](),'supportsContentType':_0x87f483[_0x35d1ae(0x379)]()[_0x35d1ae(0x4aa)](_0x1b83bb[_0x35d1ae(0x54c)]())};}!function(_0x48e043){const _0x3b23dd=_0x273dd2;_0x48e043[_0x48e043[_0x3b23dd(0xaab)]=0x0]=_0x3b23dd(0xaab),_0x48e043[_0x48e043['Accepted']=0x1]=_0x3b23dd(0x253),_0x48e043[_0x48e043['Rejected']=0x2]=_0x3b23dd(0xaba);}(_0x215b6e||(_0x215b6e={})),function(_0x120a60){const _0x5168e3=_0x273dd2;_0x120a60[_0x5168e3(0xbea)]='in',_0x120a60[_0x5168e3(0xa12)]='out';}(_0x3c832a||(_0x3c832a={}));class _0x115dcd{[_0x273dd2(0xac2)];[_0x273dd2(0xbff)];constructor(_0x4b4cf5,_0x2ad49a){const _0x34c6dd=_0x273dd2;this[_0x34c6dd(0xac2)]=_0x4b4cf5,this[_0x34c6dd(0xbff)]=_0x2ad49a;}['call'](_0x5867f8){const _0xc29547=_0x273dd2;this[_0xc29547(0xac2)](_0x5867f8);}async[_0x273dd2(0x3a0)](){const _0x20b49d=_0x273dd2;await this[_0x20b49d(0xbff)]();}}class _0x1d1eb9{[_0x273dd2(0xac2)];[_0x273dd2(0xbff)];constructor(_0x381b1a,_0x48cd90){const _0x5e698b=_0x273dd2;this['callback']=_0x381b1a,this[_0x5e698b(0xbff)]=_0x48cd90;}async[_0x273dd2(0x56f)](_0x10a703){await this['callback'](_0x10a703);}async[_0x273dd2(0x3a0)](){const _0x4c3ba1=_0x273dd2;await this[_0x4c3ba1(0xbff)]();}}function _0x4135e0(_0x20e3a8=()=>{},_0x525757=()=>!0x1,_0x3f81b1=()=>{}){let _0x1df04b,_0x51db0d,_0x4acc1c=0x0;return{get 'size'(){return _0x4acc1c;},get 'head'(){return _0x1df04b;},get 'tail'(){return _0x51db0d;},set 'head'(_0x50e778){_0x1df04b=_0x50e778;},set 'tail'(_0x5762e5){_0x51db0d=_0x5762e5;},'push'(_0x177526,_0x119507=!0x0){const _0x5344b3=a0_0x35be,_0x55265a={'value':_0x177526};_0x119507&&_0x525757(_0x55265a)?_0x20e3a8():(_0x51db0d&&(_0x55265a[_0x5344b3(0x694)]=_0x51db0d,_0x51db0d[_0x5344b3(0x4ba)]=_0x55265a),_0x51db0d=_0x55265a,_0x1df04b||(_0x1df04b=_0x55265a),_0x4acc1c+=0x1,_0x119507&&_0x20e3a8());},'pop'(){const _0x18f7af=a0_0x35be;if(!_0x51db0d)return;const _0x5098fa=_0x51db0d[_0x18f7af(0x22e)];return _0x51db0d=_0x51db0d['previous'],_0x51db0d&&delete _0x51db0d[_0x18f7af(0x4ba)],_0x51db0d||(_0x1df04b=void 0x0),_0x4acc1c-=0x1,_0x5098fa;},'unshift'(_0x15f9d4,_0x101228=!0x0){const _0x3632f0=a0_0x35be,_0x32a5b6={'value':_0x15f9d4};_0x101228&&_0x525757(_0x32a5b6)?_0x20e3a8():(_0x1df04b&&(_0x1df04b[_0x3632f0(0x694)]=_0x32a5b6,_0x32a5b6[_0x3632f0(0x4ba)]=_0x1df04b),_0x1df04b=_0x32a5b6,_0x51db0d||(_0x51db0d=_0x32a5b6),_0x4acc1c+=0x1,_0x101228&&_0x20e3a8());},'shift'(){const _0x26157e=a0_0x35be;if(!_0x1df04b)return;const _0x5150a5=_0x1df04b[_0x26157e(0x22e)];return _0x1df04b=_0x1df04b['next'],_0x1df04b&&delete _0x1df04b[_0x26157e(0x694)],_0x1df04b||(_0x51db0d=void 0x0),_0x4acc1c-=0x1,_0x5150a5;},'clear'(){_0x3f81b1(),_0x1df04b=void 0x0,_0x51db0d=void 0x0,_0x4acc1c=0x0;}};}function _0x1d630c(_0x4c2e19,_0x28b58d=!0x1,_0x34cb31=()=>{},_0x56745d=()=>!0x1,_0x2646d6=()=>{}){let _0x280de4=!0x1;const _0x2e0964=_0x4135e0(async function(){const _0x2ec3bf=a0_0x35be;if(!_0x280de4){for(_0x280de4=!0x0;_0x2e0964['head'];){const _0x420aef=_0x2e0964[_0x2ec3bf(0xbd6)]();if(_0x420aef)try{_0x4c2e19 instanceof _0x115dcd&&_0x4c2e19[_0x2ec3bf(0x56f)](_0x420aef),_0x4c2e19 instanceof _0x1d1eb9&&await _0x4c2e19[_0x2ec3bf(0x56f)](_0x420aef),_0x34cb31(_0x420aef);}catch(_0x3bb187){_0x28b58d?_0x2e0964[_0x2ec3bf(0x604)](_0x420aef,!0x1):_0x2e0964[_0x2ec3bf(0x89c)](_0x420aef,!0x1),await _0x4c2e19[_0x2ec3bf(0x3a0)]();}}_0x280de4=!0x1;}},_0x56745d,_0x2646d6);return _0x2e0964;}class _0x55fb77 extends _0x2dbc37{[_0x273dd2(0x300)];[_0x273dd2(0x9a3)];[_0x273dd2(0x488)]=_0xb777e7['ConnectionState'][_0x273dd2(0x257)];[_0x273dd2(0x5aa)]=_0x4eac7b();['messageListeners']=_0x2d1945();[_0x273dd2(0xc04)];[_0x273dd2(0x502)];[_0x273dd2(0x74b)]=_0x1d630c(new _0x1d1eb9(this[_0x273dd2(0x911)][_0x273dd2(0x370)](this),this[_0x273dd2(0x39a)]['bind'](this)));[_0x273dd2(0x6ab)];constructor(_0xdedabc,_0x49bd2c,_0x47c99d,_0x401dcf,_0x40b6f3){const _0x419004=_0x273dd2;super(_0x49bd2c,_0x47c99d,_0x401dcf),this[_0x419004(0x300)]=_0xdedabc,this[_0x419004(0x9a3)]=_0x40b6f3;}async['connect'](){const _0x463749=_0x273dd2;try{const _0x43d1f9={'getTokens':async()=>{const _0x52d6a5=a0_0x35be,_0x6bd5fd=await this['authService'][_0x52d6a5(0x72d)]();return{'accessToken':(0x0,_0x3e52e9[_0x52d6a5(0x77b)])(_0x6bd5fd),'idToken':(0x0,_0x3e52e9['decodeJWT'])(_0x6bd5fd)};}};_0x59b301[_0x463749(0x9f1)][_0x463749(0x66e)]({'API':{'GraphQL':{'endpoint':_0x495699[_0x463749(0x933)][_0x463749(0xa2c)],'region':_0x495699['aws'][_0x463749(0x494)],'defaultAuthMode':_0x463749(0x504)}}},{'Auth':{'tokenProvider':_0x43d1f9}});const _0x1c2970=(0x0,_0xb777e7[_0x463749(0x658)])();this[_0x463749(0x6ab)]=_0x1c2970,await this['subscribe'](),this[_0x463749(0x502)]=_0x33a1d6[_0x463749(0x5fa)][_0x463749(0x996)](_0x463749(0x619),async({payload:_0x1563bb})=>{const _0x1d673b=_0x463749;if(_0x1563bb[_0x1d673b(0xace)]===_0xb777e7[_0x1d673b(0x3d3)]){const _0x501d29=_0x1563bb[_0x1d673b(0x9b6)];this[_0x1d673b(0x488)]=_0x501d29[_0x1d673b(0x488)],this[_0x1d673b(0x5aa)][_0x1d673b(0xb07)](_0x501d29[_0x1d673b(0x488)]),this[_0x1d673b(0x488)]===_0xb777e7[_0x1d673b(0x570)][_0x1d673b(0x257)]?(_0x58cca5[_0x1d673b(0x5c5)](_0x1d673b(0x76a),{'clusterId':this[_0x1d673b(0x78c)],'nodeId':this[_0x1d673b(0xb1f)](),'nodeType':this[_0x1d673b(0x61b)][_0x1d673b(0x6b9)]}),this[_0x1d673b(0x210)](),this['connect']()):this[_0x1d673b(0x488)]===_0xb777e7[_0x1d673b(0x570)][_0x1d673b(0xbcd)]?_0x58cca5[_0x1d673b(0x673)](_0x1d673b(0xc23),{'clusterId':this[_0x1d673b(0x78c)],'nodeId':this[_0x1d673b(0xb1f)](),'nodeType':this['localNode'][_0x1d673b(0x6b9)]}):_0x58cca5[_0x1d673b(0x673)]('appsync-statechange',{'clusterId':this[_0x1d673b(0x78c)],'nodeId':this[_0x1d673b(0xb1f)](),'nodeType':this[_0x1d673b(0x61b)][_0x1d673b(0x6b9)],'data':{'state':_0x501d29[_0x1d673b(0x488)]}});}});}catch(_0x191383){_0x58cca5[_0x463749(0x5c5)](_0x463749(0x276),{'clusterId':this[_0x463749(0x78c)],'nodeId':this[_0x463749(0xb1f)](),'nodeType':this[_0x463749(0x61b)][_0x463749(0x6b9)]});}}[_0x273dd2(0x210)](){const _0x5ec20e=_0x273dd2;_0x58cca5[_0x5ec20e(0x673)](_0x5ec20e(0x493),{'clusterId':this[_0x5ec20e(0x78c)],'nodeId':this[_0x5ec20e(0xb1f)](),'nodeType':this[_0x5ec20e(0x61b)][_0x5ec20e(0x6b9)]}),this['retryQueue'][_0x5ec20e(0x320)](),this[_0x5ec20e(0x502)]?.(),this['subscription']?.[_0x5ec20e(0xbf5)](),delete this[_0x5ec20e(0xc04)];}[_0x273dd2(0x7b1)](){const _0xfe2176=_0x273dd2;return this[_0xfe2176(0x488)]===_0xb777e7[_0xfe2176(0x570)][_0xfe2176(0xbcd)];}[_0x273dd2(0xabc)](_0x377005){const _0x446186=_0x273dd2;this[_0x446186(0x74b)][_0x446186(0x604)](_0x377005);}['onMessage'](_0x80e894){const _0xeeb6e5=_0x273dd2;return this[_0xeeb6e5(0x429)][_0xeeb6e5(0x6f8)](_0x80e894);}[_0x273dd2(0x379)](){const _0x18fbce=_0x273dd2;return[_0x2a74a6['ContentType'][_0x18fbce(0xa89)]];}async[_0x273dd2(0x39a)](){const _0x199917=_0x273dd2;if(!this[_0x199917(0x7b1)]())return new Promise(_0xd070f1=>{const _0x484d5d=_0x199917,_0x5624e5=this['connectionStateListener'][_0x484d5d(0x6f8)](_0x26173e=>{const _0x1d777f=_0x484d5d;_0x26173e===_0xb777e7['ConnectionState'][_0x1d777f(0xbcd)]&&(_0x5624e5(),_0xd070f1());});});}async[_0x273dd2(0x911)](_0x1935dc){const _0x2e3c79=_0x273dd2;if(this[_0x2e3c79(0x488)]!==_0xb777e7['ConnectionState']['Connected'])throw new Error('AppSync\x20connection\x20not\x20ready');_0x1935dc['destinationIds']&&0x1===_0x1935dc[_0x2e3c79(0x966)][_0x2e3c79(0x830)]?await this[_0x2e3c79(0xb07)](_0x1935dc[_0x2e3c79(0x966)][0x0],JSON['stringify'](_0x1935dc)):_0x58cca5['error']('appsync-no-destination',{'clusterId':this[_0x2e3c79(0x78c)],'nodeId':this[_0x2e3c79(0xb1f)](),'nodeType':this[_0x2e3c79(0x61b)][_0x2e3c79(0x6b9)]});}async[_0x273dd2(0xb07)](_0xd3d553,_0x73c6f7){const _0x57f76b=_0x273dd2;if(!this[_0x57f76b(0x6ab)])throw new Error(_0x57f76b(0x978));_0x58cca5[_0x57f76b(0x3a3)](_0x57ac86[_0x57f76b(0x70a)],_0x57f76b(0x8ef),this[_0x57f76b(0xb1f)](),_0x73c6f7),await this[_0x57f76b(0x6ab)][_0x57f76b(0x4c5)]({'query':_0x57f76b(0x4ec),'variables':{'name':await this[_0x57f76b(0x3e8)](_0xd3d553),'data':_0x73c6f7}});}async['subscribe'](){const _0x1eef5f=_0x273dd2;if(this[_0x1eef5f(0xc04)])return;if(!this[_0x1eef5f(0x6ab)])throw new Error(_0x1eef5f(0x978));_0x58cca5[_0x1eef5f(0x3a3)](_0x57ac86[_0x1eef5f(0x70a)],_0x1eef5f(0x887),this['getLocalId']());const _0x1eb814=await this[_0x1eef5f(0x6ab)][_0x1eef5f(0x4c5)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this['getHash']()},'authToken':await this[_0x1eef5f(0x9a3)][_0x1eef5f(0x72d)]()},{'Authorization':await this[_0x1eef5f(0x9a3)]['getIdToken']()});this[_0x1eef5f(0xc04)]=_0x1eb814[_0x1eef5f(0x6f8)]({'next':({data:_0x1e9a1e})=>{const _0x6c820b=_0x1eef5f,_0x3331be=JSON[_0x6c820b(0xba5)](_0x1e9a1e[_0x6c820b(0x6f8)][_0x6c820b(0x9b6)]);!_0x32906e(_0x3331be,this[_0x6c820b(0xb1f)]())&&_0x3cd66e(_0x3331be,this['getLocalId']())&&this[_0x6c820b(0x429)][_0x6c820b(0xb07)](_0x3331be);},'error':console['log']});}async[_0x273dd2(0x3e8)](_0x4104ef){const _0x1926c1=_0x273dd2,_0xcfb17=await crypto[_0x1926c1(0xacb)][_0x1926c1(0xb92)](_0x1926c1(0x5ea),new TextEncoder()[_0x1926c1(0xa25)](this[_0x1926c1(0x300)]+'-'+this[_0x1926c1(0x78c)]+'-'+(_0x4104ef??this[_0x1926c1(0xb1f)]())));return Array['from'](new Uint8Array(_0xcfb17))[_0x1926c1(0xb48)](_0x3959c5=>_0x3959c5[_0x1926c1(0xa7d)](0x10)[_0x1926c1(0x863)](0x2,'0'))[_0x1926c1(0x98e)]('');}}!function(_0x2f3efb){const _0x531abe=_0x273dd2;_0x2f3efb[_0x2f3efb[_0x531abe(0x265)]=0x0]=_0x531abe(0x265),_0x2f3efb[_0x2f3efb['Remove']=0x1]=_0x531abe(0x77c),_0x2f3efb[_0x2f3efb[_0x531abe(0xa6c)]=0x2]=_0x531abe(0xa6c),_0x2f3efb[_0x2f3efb['RemoteAdd']=0x3]=_0x531abe(0x9b9),_0x2f3efb[_0x2f3efb[_0x531abe(0x798)]=0x4]=_0x531abe(0x798);}(_0x45236f||(_0x45236f={}));const _0x224c31='0',_0x4abd0d='chunk',_0x35eb75=_0x4e18d4,_0x1f5df2=0x60000;class _0x36dbed{[_0x273dd2(0x78c)];['localNode'];[_0x273dd2(0x5b1)];['iceServers'];[_0x273dd2(0x35d)];[_0x273dd2(0x312)];[_0x273dd2(0x745)];['dataChannel'];['currentVersion']=0x1;[_0x273dd2(0x2fb)];['handshakeCandidates']=[];[_0x273dd2(0x5c8)]=[];[_0x273dd2(0x7da)];constructor(_0x1f78f8,_0x13f107,_0x170de7,_0x57227c,_0x276f50,_0x1e3702){const _0x1e1258=_0x273dd2;this[_0x1e1258(0x78c)]=_0x1f78f8,this[_0x1e1258(0x61b)]=_0x13f107,this[_0x1e1258(0x5b1)]=_0x170de7,this[_0x1e1258(0x355)]=_0x57227c,this['connectionType']=_0x276f50,this[_0x1e1258(0x312)]=_0x1e3702,this[_0x1e1258(0x745)]=new this['connectionConstructor']({'handshakeServers':this['iceServers']}),this[_0x1e1258(0x6bf)]();}['close'](){this['stopConnection']();}[_0x273dd2(0x7b5)](_0x4e3cf0){const _0x2b7750=_0x273dd2;this[_0x2b7750(0x35d)]=_0x4e3cf0;}async[_0x273dd2(0x793)](_0x178776,_0x343928){const _0x1a30bc=_0x273dd2;if(_0x343928===this[_0x1a30bc(0x6db)])for(const _0x187873 of _0x178776){if(!this['connection']['canAddCandidates'])return this['addPendingHandshakeCandidate'](_0x187873);try{await this['connection'][_0x1a30bc(0x44e)](_0x187873);}catch(_0xf374da){this[_0x1a30bc(0x608)](_0x187873);}}}[_0x273dd2(0x7b1)](){const _0x556b84=_0x273dd2;return this[_0x556b84(0x8b8)](),'connected'===this[_0x556b84(0x745)][_0x556b84(0x488)]&&[_0x556b84(0x7d1),_0x556b84(0xa0c)][_0x556b84(0x4aa)](this[_0x556b84(0x745)][_0x556b84(0x835)])&&_0x556b84(0x669)!==this['connection'][_0x556b84(0x6aa)]&&_0x556b84(0x485)===this[_0x556b84(0x8f9)]?.[_0x556b84(0xb88)];}[_0x273dd2(0x32c)](_0x3884e9){const _0x48f8d0=_0x273dd2;this[_0x48f8d0(0x2fb)]=_0x3884e9;}['unregisterSystemPublisher'](){const _0x11547c=_0x273dd2;delete this[_0x11547c(0x2fb)];}[_0x273dd2(0x59c)](_0x4ccf6d){const _0x430012=_0x273dd2;this[_0x430012(0x940)](),this[_0x430012(0x745)]=new this['connectionConstructor']({'handshakeServers':this[_0x430012(0x355)]}),_0x4ccf6d?this[_0x430012(0x6db)]=_0x4ccf6d:this[_0x430012(0x6db)]+=0x1,this[_0x430012(0x6bf)]();}[_0x273dd2(0xb39)](){const _0x5ca195=_0x273dd2;this['pendingHandshakeCandidates'][_0x5ca195(0xb9b)](_0x25de22=>{const _0xbd2f6d=_0x5ca195;try{this[_0xbd2f6d(0x745)][_0xbd2f6d(0x44e)](_0x25de22);}catch(_0x5a9362){}}),this[_0x5ca195(0x5c8)]=[];}[_0x273dd2(0x935)](_0x4bf6c4,_0x102728){const _0x23a78d=_0x273dd2;if(!this[_0x23a78d(0x2fb)])throw new _0x4b8523(_0x4b8523[_0x23a78d(0xa20)]['MissingSystemTopic'],{'content':_0x4bf6c4});const _0x2f2eeb={'sourceId':this[_0x23a78d(0x61b)][_0x23a78d(0xb9d)](),'destinationIds':[this['remoteId']],'propagate':this[_0x23a78d(0x35d)]!==_0x31bbcb[_0x23a78d(0x772)],'retry':this[_0x23a78d(0x35d)]!==_0x31bbcb[_0x23a78d(0x772)],'messageType':_0xe6fd3b['PeerConnection'],'content':_0x4bf6c4};_0x102728&&(_0x2f2eeb[_0x23a78d(0xb33)]=_0x102728),this[_0x23a78d(0x2fb)][_0x23a78d(0xb07)](_0x2f2eeb);}[_0x273dd2(0x6bf)](){const _0x2d9b18=_0x273dd2;this['connection'][_0x2d9b18(0xb35)]=()=>{const _0x141675=_0x2d9b18;_0x141675(0x803)===this[_0x141675(0x745)][_0x141675(0x51e)]&&this[_0x141675(0xbcb)][_0x141675(0x830)]>0x0&&(this[_0x141675(0x7da)]&&clearTimeout(this[_0x141675(0x7da)]),this[_0x141675(0x7da)]=setTimeout(()=>{const _0x464758=_0x141675;delete this[_0x464758(0x7da)],this[_0x464758(0x86a)](),this['handshakeCandidates']=[];},0x1f4));},this['connection']['onCandidate']=_0xf2de6b=>{const _0x10cee7=_0x2d9b18;_0xf2de6b[_0x10cee7(0x535)]&&this['handshakeCandidates'][_0x10cee7(0x604)](_0xf2de6b['candidate']);};}[_0x273dd2(0x940)](){const _0x16ed4a=_0x273dd2;clearTimeout(this[_0x16ed4a(0x7da)]),delete this['handshakeDebounce'],this[_0x16ed4a(0xbcb)]=[],this['pendingHandshakeCandidates']=[],this[_0x16ed4a(0x8f9)]&&(this[_0x16ed4a(0x8f9)]['onMessage']=null,this['dataChannel'][_0x16ed4a(0x8cb)]=null,this[_0x16ed4a(0x8f9)][_0x16ed4a(0x210)](),delete this[_0x16ed4a(0x8f9)]),this[_0x16ed4a(0x745)][_0x16ed4a(0xb35)]=null,this['connection']['onCandidate']=null,this[_0x16ed4a(0x745)][_0x16ed4a(0x869)]=null,this[_0x16ed4a(0x745)]['onConnectionStateChange']=null,this['connection'][_0x16ed4a(0x368)]=null,this[_0x16ed4a(0x745)][_0x16ed4a(0x81f)]=null,this[_0x16ed4a(0x745)][_0x16ed4a(0x210)]();}[_0x273dd2(0x608)](_0x13be18){const _0x5c7033=_0x273dd2;this[_0x5c7033(0x5c8)][_0x5c7033(0x604)](_0x13be18);}['logConnectionState'](){const _0x161c70=_0x273dd2;_0x58cca5[_0x161c70(0x3a3)](_0x57ac86[_0x161c70(0x570)],_0x161c70(0x65b),{'localId':this[_0x161c70(0x61b)][_0x161c70(0xb9d)](),'remoteId':this[_0x161c70(0x5b1)],'connectionState':this[_0x161c70(0x745)][_0x161c70(0x488)],'handshakeState':this[_0x161c70(0x745)]['handshakeState'],'signalingState':this[_0x161c70(0x745)][_0x161c70(0x6aa)],'dataChannelState':this[_0x161c70(0x8f9)]?.[_0x161c70(0xb88)]});}}function _0x46b23a(_0x1d1eda,_0x5dca2b){const _0x400924=_0x273dd2;_0x5dca2b[_0x400924(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['PeerConnection'],'content':_0x1d1eda});}class _0x34dfdb{static [_0x273dd2(0x4e8)];[_0x273dd2(0xbd2)]=[];[_0x273dd2(0x7e1)];constructor(){setInterval(()=>{const _0x28d153=a0_0x35be;this[_0x28d153(0xbd2)][_0x28d153(0xb9b)](_0xcd9e93=>{const _0x2c1332=_0x28d153;if(Date['now']()-_0xcd9e93[_0x2c1332(0x578)]>_0xcd9e93[_0x2c1332(0xa91)]){try{_0xcd9e93[_0x2c1332(0xac2)]();}catch(_0x209b20){}_0xcd9e93[_0x2c1332(0x578)]=Date['now']();}});},0x64);}static[_0x273dd2(0x64f)](){const _0x3da5cc=_0x273dd2;return _0x34dfdb['instance']||(_0x34dfdb['instance']=new _0x34dfdb()),_0x34dfdb[_0x3da5cc(0x4e8)];}[_0x273dd2(0x642)](_0xfd0d1a){const _0x23ab6e=_0x273dd2,_0x59fad4=this['createConstantSource'](_0xfd0d1a),_0x472f60=_0xfd0d1a[_0x23ab6e(0x962)]();_0x472f60&&_0x59fad4&&(_0x472f60[_0x23ab6e(0x898)]['value']=0.001,_0x59fad4['connect'](_0x472f60),_0x472f60[_0x23ab6e(0x892)](_0xfd0d1a[_0x23ab6e(0xb6a)]),_0x59fad4[_0x23ab6e(0xa8f)]());}['stopNoThrottlingHack'](){const _0x490fd1=_0x273dd2;this[_0x490fd1(0x7e1)]&&(this['source'][_0x490fd1(0x630)](),this[_0x490fd1(0x7e1)][_0x490fd1(0x41b)](),this[_0x490fd1(0x7e1)]=void 0x0);}[_0x273dd2(0x3a0)](_0x3016ba){return new Promise(_0x5c0094=>{setTimeout(_0x5c0094,_0x3016ba);});}[_0x273dd2(0x794)](_0x1efc13,_0x1102db){const _0x2b7e9f=_0x273dd2;return this[_0x2b7e9f(0xbd2)][_0x2b7e9f(0x604)]({'callback':_0x1efc13,'interval':_0x1102db,'lastExecuted':Date['now']()}),()=>{const _0x534c47=_0x2b7e9f;this[_0x534c47(0xbd2)]=this[_0x534c47(0xbd2)][_0x534c47(0x57c)](_0x673d0=>_0x673d0[_0x534c47(0xac2)]!==_0x1efc13);};}[_0x273dd2(0xbb5)](_0x27b66e){const _0x3d001a=_0x273dd2;if(_0x27b66e[_0x3d001a(0xbb5)])return _0x27b66e[_0x3d001a(0xbb5)]();const _0x1fbb54=_0x27b66e['createBufferSource'](),_0xf1b648=_0x27b66e[_0x3d001a(0xbfa)](0x1,0x1,_0x27b66e['sampleRate']);return _0xf1b648['getChannelData'](0x0)[0x0]=0xa,_0x1fbb54[_0x3d001a(0x9da)]=_0xf1b648,_0x1fbb54['loop']=!0x0,_0x1fbb54;}}const _0x35fbea=_0x34dfdb[_0x273dd2(0x64f)]();class _0x49c9d7 extends _0x36dbed{[_0x273dd2(0x9f0)]=_0x4eac7b();[_0x273dd2(0x4be)]=_0x4eac7b();[_0x273dd2(0x87f)]=_0x4eac7b();[_0x273dd2(0x46d)]=new Map();[_0x273dd2(0xaac)]=new Map();['waitSuccess'];[_0x273dd2(0x3ed)]=0x0;[_0x273dd2(0x94a)]={'messages':{'total':0x0}};[_0x273dd2(0xc1b)]=0x0;['timeReceiving']=0x0;[_0x273dd2(0x8b0)]=_0x46e324(_0x273dd2(0x50a),_0x57ac86[_0x273dd2(0x54d)]);[_0x273dd2(0x210)](){const _0x237717=_0x273dd2;this[_0x237717(0x6be)](),this[_0x237717(0x46d)][_0x237717(0x320)](),super[_0x237717(0x210)]();}async[_0x273dd2(0xa81)](_0x275184,_0x11e721){const _0x573cf2=_0x273dd2;this[_0x573cf2(0x6db)]=_0x11e721,this[_0x573cf2(0x6be)]();const _0x52de09=await this[_0x573cf2(0x745)][_0x573cf2(0xaed)](_0x275184);this[_0x573cf2(0xb39)]();const _0x2d98f2=(0x0,_0x5d1d4c['v4'])();this['publishSystemMessage']({'type':_0x3da868[_0x573cf2(0x6e5)],'answer':_0x52de09,'version':_0x11e721,'connectionType':this['connectionType']},_0x2d98f2),this[_0x573cf2(0x35d)]===_0x31bbcb[_0x573cf2(0x772)]&&(this['waitSuccess']=_0x35fbea[_0x573cf2(0x794)](()=>{const _0x182266=_0x573cf2;this[_0x182266(0x935)]({'type':_0x3da868[_0x182266(0x6e5)],'answer':_0x52de09,'version':_0x11e721,'connectionType':this[_0x182266(0x35d)]},_0x2d98f2);},0x1388));}[_0x273dd2(0xb57)](){const _0x11af56=_0x273dd2;this[_0x11af56(0x6be)]();}[_0x273dd2(0x2c6)](_0x5622f8){const _0x36c815=_0x273dd2;this[_0x36c815(0x59c)](_0x5622f8),this['publishSystemMessage']({'type':_0x3da868[_0x36c815(0x252)]});}async[_0x273dd2(0x89f)](){const _0x43e793=_0x273dd2;this[_0x43e793(0x2fb)]&&(await this[_0x43e793(0x745)][_0x43e793(0x88e)](this[_0x43e793(0x46d)],(_0x2f2bf4,_0x278752)=>{const _0x5065fe=_0x43e793;_0x46b23a({'type':_0x3da868[_0x5065fe(0x336)],'streamId':_0x278752,'nodeId':this[_0x5065fe(0x5b1)],'stats':_0x2f2bf4},this[_0x5065fe(0x2fb)]);}),this[_0x43e793(0x2fb)][_0x43e793(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x43e793(0x639)],'content':{'type':_0x3da868[_0x43e793(0x336)],'nodeId':this[_0x43e793(0x5b1)],'stats':{'origin':_0x31b797[_0x43e793(0xa6e)],'timestamp':Date['now'](),'messagesReceived':this[_0x43e793(0x3ed)],'bytesReceived':this['bytesReceived'],'timeReceiving':this[_0x43e793(0x868)],'systemMessages':this[_0x43e793(0x94a)]}}}));}[_0x273dd2(0xb80)](_0xb8fcb6){const _0x27d81c=_0x273dd2;return _0x495699[_0x27d81c(0x7b4)]?this[_0x27d81c(0x9f0)][_0x27d81c(0x6f8)](_0xb8fcb6):this[_0x27d81c(0x9f0)]['subscribe'](_0x27ad43=>{const _0x531cce=_0x27d81c;0x0===_0x27ad43['topicLabel']&&_0x27ad43[_0x531cce(0x6ea)]===_0xe6fd3b[_0x531cce(0x829)]&&this[_0x531cce(0x8b0)][_0x531cce(0x804)]['log'](_0x531cce(0x890)+this[_0x531cce(0x5b1)],()=>_0x2e7b71(_0x27ad43)),_0xb8fcb6(_0x27ad43);});}['onTrack'](_0x46c0b1){const _0x18f854=_0x273dd2;return this[_0x18f854(0x4be)][_0x18f854(0x6f8)](({track:_0x298108,stream:_0x2fc139})=>_0x46c0b1(_0x298108,_0x2fc139));}['onRemoveTrack'](_0x12e30a){const _0x55952e=_0x273dd2;return this[_0x55952e(0x87f)][_0x55952e(0x6f8)](({track:_0x5e47df,stream:_0x236336})=>_0x12e30a(_0x5e47df,_0x236336));}['resetConnection'](_0x471f9b){const _0x1ec803=_0x273dd2;this['clearWaitSuccess'](),this[_0x1ec803(0x46d)][_0x1ec803(0xb9b)](_0x5cdccf=>{const _0x562321=_0x1ec803;_0x5cdccf[_0x562321(0x320)]();}),super[_0x1ec803(0x59c)](_0x471f9b);}[_0x273dd2(0x86a)](){const _0xb5a713=_0x273dd2;this[_0xb5a713(0x935)]({'type':_0x3da868['Handshake'],'candidates':this[_0xb5a713(0xbcb)],'origin':_0x31b797[_0xb5a713(0xa6e)],'version':this[_0xb5a713(0x6db)],'connectionType':this[_0xb5a713(0x35d)]});}[_0x273dd2(0x6bf)](){const _0x151ecf=_0x273dd2;super['setupConnectionEvents'](),this[_0x151ecf(0x745)]['onTrack']=_0x47ace1=>{const _0x54cfe7=_0x151ecf;_0x58cca5[_0x54cfe7(0x3a3)](_0x57ac86[_0x54cfe7(0x79e)],_0x54cfe7(0x814),this[_0x54cfe7(0x61b)][_0x54cfe7(0xb9d)](),_0x47ace1),_0x47ace1[_0x54cfe7(0xa54)][0x0][_0x54cfe7(0x32a)]=_0x3d04f1=>{const _0x503eb0=_0x54cfe7;this[_0x503eb0(0x46d)][_0x503eb0(0x266)](_0x47ace1[_0x503eb0(0xa54)][0x0]['id'])?.[_0x503eb0(0x997)](_0x3d04f1[_0x503eb0(0xa7f)]),0x0===this[_0x503eb0(0x46d)][_0x503eb0(0x266)](_0x47ace1[_0x503eb0(0xa54)][0x0]['id'])?.[_0x503eb0(0x85c)]&&this[_0x503eb0(0x46d)][_0x503eb0(0x997)](_0x47ace1[_0x503eb0(0xa54)][0x0]['id']),this['removeTrackCallback'][_0x503eb0(0xb07)]({'track':_0x3d04f1[_0x503eb0(0xa7f)],'stream':_0x47ace1['streams'][0x0]});},this[_0x54cfe7(0x46d)]['has'](_0x47ace1['streams'][0x0]['id'])||this[_0x54cfe7(0x46d)][_0x54cfe7(0x68c)](_0x47ace1[_0x54cfe7(0xa54)][0x0]['id'],new Set()),this[_0x54cfe7(0x46d)][_0x54cfe7(0x266)](_0x47ace1['streams'][0x0]['id'])[_0x54cfe7(0xbf8)](_0x47ace1[_0x54cfe7(0xa7f)]),this['trackCallback']['publish']({'track':_0x47ace1[_0x54cfe7(0xa7f)],'stream':_0x47ace1[_0x54cfe7(0xa54)][0x0]});},this[_0x151ecf(0x745)][_0x151ecf(0x81f)]=_0x1ecca4=>{const _0x396f41=_0x151ecf;this[_0x396f41(0x8f9)]=_0x1ecca4[_0x396f41(0x98a)],this[_0x396f41(0x8f9)][_0x396f41(0xb80)]=_0x5ba292=>{const _0x53de57=_0x396f41;if(_0x5ba292[_0x53de57(0x9b6)]!==_0x224c31)this[_0x53de57(0xbe3)](_0x5ba292[_0x53de57(0x9b6)]);else{if(!this[_0x53de57(0x8f9)])return void _0x58cca5['error'](_0x53de57(0x764),{'clusterId':this['clusterId'],'nodeId':this[_0x53de57(0x61b)][_0x53de57(0xb9d)](),'nodeType':this[_0x53de57(0x61b)][_0x53de57(0x6b9)],'remoteId':this[_0x53de57(0x5b1)],'data':{'connection':_0x53de57(0x97b)}});if(_0x53de57(0x485)!==this[_0x53de57(0x8f9)][_0x53de57(0xb88)])return;this[_0x53de57(0x8f9)][_0x53de57(0xabc)]('1');}};};}['handleOnMessage'](_0x550fd1){const _0x344330=_0x273dd2;if(_0x344330(0x563)==typeof _0x550fd1&&_0x550fd1[_0x344330(0xb97)](_0x4abd0d))return this[_0x344330(0x3ed)]+=0x1,this[_0x344330(0xc1b)]+=_0x550fd1['length'],this[_0x344330(0x998)](_0x550fd1);setTimeout(()=>{const _0x4fc4ee=_0x344330,_0x287db9=Date[_0x4fc4ee(0x3a1)]();let _0x55d577;if((_0x550fd1 instanceof ArrayBuffer||_0x550fd1['length']<=_0x35eb75)&&(this[_0x4fc4ee(0x3ed)]+=0x1,this[_0x4fc4ee(0xc1b)]+=_0x550fd1 instanceof ArrayBuffer?_0x550fd1[_0x4fc4ee(0x489)]:_0x550fd1['length']),_0x550fd1 instanceof ArrayBuffer){const [_0x8a0236,_0x49b22c]=this[_0x4fc4ee(0x262)](_0x550fd1);_0x55d577=_0x8a0236,_0x55d577[_0x4fc4ee(0x26d)][_0x4fc4ee(0x9b6)]=_0x49b22c;}else _0x55d577=JSON['parse'](_0x550fd1);if(0x0===_0x55d577[_0x4fc4ee(0x4f1)]){this[_0x4fc4ee(0x94a)][_0x4fc4ee(0xa68)][_0x4fc4ee(0x474)]+=0x1;const {systemMessageType:_0x5067ca,systemContentMessageType:_0x4f0db0}=_0x2e7b71(_0x55d577);this[_0x4fc4ee(0x94a)][_0x5067ca]||(this[_0x4fc4ee(0x94a)][_0x5067ca]={[_0x4f0db0]:0x0}),this[_0x4fc4ee(0x94a)][_0x5067ca][_0x4f0db0]||(this[_0x4fc4ee(0x94a)][_0x5067ca][_0x4f0db0]=0x0),this[_0x4fc4ee(0x94a)][_0x5067ca][_0x4fc4ee(0x474)]||(this[_0x4fc4ee(0x94a)][_0x5067ca]['total']=0x0),this[_0x4fc4ee(0x94a)][_0x5067ca][_0x4f0db0]+=0x1,this[_0x4fc4ee(0x94a)][_0x5067ca][_0x4fc4ee(0x474)]+=0x1;}this[_0x4fc4ee(0x9f0)][_0x4fc4ee(0xb07)](_0x55d577),this[_0x4fc4ee(0x868)]+=Date[_0x4fc4ee(0x3a1)]()-_0x287db9;},0x0);}[_0x273dd2(0x998)](_0x2832d6){const _0x2c1e19=_0x273dd2,_0x5eba79=_0x2832d6[_0x2c1e19(0xa62)](';'),_0x23a285=_0x5eba79[0x1],_0x1f8256=parseInt(_0x5eba79[0x2],0xa),_0x3cfd39=parseInt(_0x5eba79[0x3],0xa),_0x2fa55d=_0x2832d6[_0x2c1e19(0x4cf)](_0x4abd0d+';'+_0x23a285+';'+_0x1f8256+';'+_0x3cfd39+';','');this['chunks'][_0x2c1e19(0xb9f)](_0x23a285)||this[_0x2c1e19(0xaac)][_0x2c1e19(0x68c)](_0x23a285,[]);const _0x55cdaf=this[_0x2c1e19(0xaac)][_0x2c1e19(0x266)](_0x23a285);_0x55cdaf[_0x1f8256]=_0x2fa55d,_0x55cdaf[_0x2c1e19(0x830)]===_0x3cfd39&&(this['handleOnMessage'](_0x55cdaf[_0x2c1e19(0x98e)]('')),this[_0x2c1e19(0xaac)][_0x2c1e19(0x997)](_0x23a285));}['clearWaitSuccess'](){const _0x11f573=_0x273dd2;this[_0x11f573(0x3ce)]?.(),delete this[_0x11f573(0x3ce)];}[_0x273dd2(0x57d)](_0x13f9f9){const _0x47e8db=_0x273dd2,_0x4939bb=new TextDecoder()['decode'](_0x13f9f9);return JSON[_0x47e8db(0xba5)](_0x4939bb);}[_0x273dd2(0x262)](_0x167d6b){const _0x12e6d4=_0x273dd2,_0x5817a0=new Uint8Array(_0x167d6b['slice'](0x0,0x4)),_0x25abfc=new Uint32Array(_0x5817a0[_0x12e6d4(0x9da)])[0x0],_0x28e33f=new Uint8Array(_0x167d6b[_0x12e6d4(0x36d)](0x4,0x4+_0x25abfc)),_0x3158c9=new Uint8Array(_0x167d6b[_0x12e6d4(0x36d)](0x4+_0x25abfc));return[this[_0x12e6d4(0x57d)](_0x28e33f[_0x12e6d4(0x9da)]),_0x3158c9[_0x12e6d4(0x9da)]];}}const _0x33be72=0xc350;var _0x3b0772,_0x7c8d65;!function(_0x27dcea){const _0x544112=_0x273dd2;_0x27dcea[_0x27dcea[_0x544112(0x88a)]=0x0]=_0x544112(0x88a),_0x27dcea[_0x27dcea[_0x544112(0x7fa)]=0x1]=_0x544112(0x7fa),_0x27dcea[_0x27dcea[_0x544112(0xab3)]=0x2]=_0x544112(0xab3);}(_0x3b0772||(_0x3b0772={}));class _0x4c2002 extends _0x36dbed{[_0x273dd2(0x428)];[_0x273dd2(0xa45)];[_0x273dd2(0x1f7)]=new Map();[_0x273dd2(0xb7e)];[_0x273dd2(0xa2b)];['lastHeartbeat'];[_0x273dd2(0xaaa)]=!0x1;[_0x273dd2(0x74a)];[_0x273dd2(0xa6a)];[_0x273dd2(0x755)];[_0x273dd2(0x74b)]=function(e,t=_0x3b0772,n=!0x1){let s=!0x1;const i=[];async function o(){const _0xf6596e=a0_0x35be;if(!s){for(s=!0x0;i['some'](e=>e[_0xf6596e(0x99b)]);){let t,s=0x0;for(const [e,n]of i[_0xf6596e(0x59f)]())if(t=n[_0xf6596e(0xbd6)](),s=e,t)break;if(t)try{if(e instanceof _0x115dcd&&e[_0xf6596e(0x56f)](t),e instanceof _0x1d1eb9&&await e['call'](t),i['slice'](-0x1)[_0xf6596e(0x323)](e=>e[_0xf6596e(0x99b)]))continue;const n=i[_0xf6596e(0x830)]-0x1;s===n&&i[n][_0xf6596e(0x99b)]&&await _0x35fbea[_0xf6596e(0x3a0)](0x0);}catch(o){n?i[s][_0xf6596e(0x604)](t,!0x1):i[s][_0xf6596e(0x89c)](t,!0x1),await e[_0xf6596e(0x3a0)]();}}s=!0x1;}}return Object['values'](t)['forEach'](e=>{const _0x212957=a0_0x35be;_0x212957(0x563)!=typeof e&&(i[e]=_0x4135e0(o));}),{'queues':i};}(new _0x115dcd(this[_0x273dd2(0x911)]['bind'](this),this[_0x273dd2(0x1d7)][_0x273dd2(0x370)](this)));[_0x273dd2(0x695)]=0x0;[_0x273dd2(0x24b)]=0x0;['timeSending']=0x0;[_0x273dd2(0x427)]=0x0;['oncloseTimeout'];[_0x273dd2(0x8b0)]=_0x46e324(_0x273dd2(0x94b),_0x57ac86[_0x273dd2(0x2a1)]);constructor(_0x5c8b73,_0x55555c,_0x5005e5,_0x55a008,_0x134931,_0x3d2768,_0x5aa483,_0x5823dd){const _0x4af8b4=_0x273dd2;super(_0x5c8b73,_0x55555c,_0x5005e5,_0x55a008,_0x134931,_0x5823dd),this[_0x4af8b4(0x428)]=_0x3d2768,this[_0x4af8b4(0xa45)]=_0x5aa483;}[_0x273dd2(0x210)](){const _0x1ffced=_0x273dd2;this[_0x1ffced(0x6b7)](),this['clearHeartbeat'](),delete this[_0x1ffced(0xc20)],this[_0x1ffced(0x7f0)](),this[_0x1ffced(0x613)](),this[_0x1ffced(0x297)](),this[_0x1ffced(0x1f7)]['clear'](),this[_0x1ffced(0xaaa)]=!0x1,this['retryQueue']['queues']['forEach'](_0x13da3b=>_0x13da3b[_0x1ffced(0x320)]()),this[_0x1ffced(0x62e)](),super[_0x1ffced(0x210)]();}[_0x273dd2(0x7b1)](){const _0x39bc94=_0x273dd2;return!!this[_0x39bc94(0xc20)]&&super[_0x39bc94(0x7b1)]()&&Date[_0x39bc94(0x3a1)]()-this['lastHeartbeat']<0x3a98;}async[_0x273dd2(0x89f)](){const _0x3dcbe6=_0x273dd2;this[_0x3dcbe6(0x2fb)]&&(await this[_0x3dcbe6(0x745)][_0x3dcbe6(0x3e3)](this[_0x3dcbe6(0x1f7)],(_0x13f60f,_0x59e0d2)=>{const _0x2f9d6d=_0x3dcbe6;_0x46b23a({'type':_0x3da868[_0x2f9d6d(0x336)],'streamId':_0x59e0d2,'nodeId':this['remoteId'],'stats':_0x13f60f},this[_0x2f9d6d(0x2fb)]);}),this['systemTopic'][_0x3dcbe6(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x3dcbe6(0x639)],'content':{'type':_0x3da868[_0x3dcbe6(0x336)],'nodeId':this[_0x3dcbe6(0x5b1)],'stats':{'origin':_0x31b797[_0x3dcbe6(0x3a7)],'timestamp':Date[_0x3dcbe6(0x3a1)](),'messagesSent':this[_0x3dcbe6(0x695)],'bytesSent':this[_0x3dcbe6(0x24b)],'timeSending':this[_0x3dcbe6(0x316)],'roundTripTime':this[_0x3dcbe6(0x427)]}}}));}async[_0x273dd2(0x2aa)](_0x27568c){const _0x86fb5=_0x273dd2;_0x58cca5[_0x86fb5(0x3a3)](_0x57ac86[_0x86fb5(0x79e)],_0x86fb5(0x9b4),this[_0x86fb5(0x61b)][_0x86fb5(0xb9d)](),this[_0x86fb5(0x5b1)]),this[_0x86fb5(0x7f0)](),this[_0x86fb5(0x613)](),this['clearWaitAnswer'](),this['connectionTimeout']=setTimeout(()=>{const _0x88d4c6=_0x86fb5;this[_0x88d4c6(0x697)]();},0x7530),this[_0x86fb5(0x8f9)]||(this[_0x86fb5(0x8f9)]=this[_0x86fb5(0x745)][_0x86fb5(0x567)](_0x86fb5(0x9b6)),this[_0x86fb5(0x8f9)][_0x86fb5(0x208)]=_0x1f5df2,this[_0x86fb5(0x8f9)][_0x86fb5(0x8cb)]=()=>{const _0x1cc401=_0x86fb5;this[_0x1cc401(0x390)]=setTimeout(()=>{const _0xacaf0c=_0x1cc401;delete this[_0xacaf0c(0x390)],[_0xacaf0c(0x279),_0xacaf0c(0x485)][_0xacaf0c(0x4aa)](this[_0xacaf0c(0x8f9)]?.['state']??'')||this['handleDisconnect']();},0xfa);});const _0x467626=await this[_0x86fb5(0x745)][_0x86fb5(0x2aa)](_0x27568c);this[_0x86fb5(0xc20)]||(this['lastHeartbeat']=Date['now']());const _0x4295d0=(0x0,_0x5d1d4c['v4'])();this[_0x86fb5(0x935)]({'type':_0x3da868[_0x86fb5(0x846)],'offer':_0x467626,'version':this['currentVersion'],'connectionType':this[_0x86fb5(0x35d)]},_0x4295d0),this[_0x86fb5(0x35d)]===_0x31bbcb[_0x86fb5(0x772)]&&(this[_0x86fb5(0xa2b)]=_0x35fbea[_0x86fb5(0x794)](()=>{const _0x538b25=_0x86fb5;this[_0x538b25(0x935)]({'type':_0x3da868[_0x538b25(0x846)],'offer':_0x467626,'version':this[_0x538b25(0x6db)],'connectionType':this[_0x538b25(0x35d)]},_0x4295d0);},0x1388));}async[_0x273dd2(0x9f6)](_0x3eb6de,_0x2584b9){const _0x142098=_0x273dd2;if(_0x2584b9===this[_0x142098(0x6db)]){this['clearWaitAnswer']();try{await this['connection'][_0x142098(0x9f6)](_0x3eb6de,this['createOffer'][_0x142098(0x370)](this)),this['processPendingHandshakeCandidates'](),this[_0x142098(0x613)](),this[_0x142098(0x275)]();}catch(_0x4e52c8){this[_0x142098(0x697)]();}}}['send'](_0x262a6d){const _0x4d2c61=_0x273dd2;if(!this['dataChannel'])throw new _0x4b8523(_0x4b8523[_0x4d2c61(0xa20)][_0x4d2c61(0x885)],{'message':_0x4d2c61(0x319),'localId':this[_0x4d2c61(0x61b)][_0x4d2c61(0xb9d)](),'remoteId':this[_0x4d2c61(0x5b1)],'eventMessage':_0x262a6d});if(_0x4d2c61(0x485)!==this[_0x4d2c61(0x8f9)][_0x4d2c61(0xb88)])throw new _0x4b8523(_0x4b8523[_0x4d2c61(0xa20)][_0x4d2c61(0x885)],{'message':_0x4d2c61(0x1f2),'localId':this[_0x4d2c61(0x61b)][_0x4d2c61(0xb9d)](),'remoteId':this[_0x4d2c61(0x5b1)],'eventMessage':_0x262a6d});let _0x16b6dd;if(_0x262a6d['content'][_0x4d2c61(0x9b6)]instanceof ArrayBuffer){const _0x2235c8=_0x262a6d['content'][_0x4d2c61(0x9b6)];_0x262a6d={..._0x262a6d,'content':{..._0x262a6d[_0x4d2c61(0x26d)],'data':void 0x0}},_0x16b6dd=this[_0x4d2c61(0x838)](_0x262a6d,_0x2235c8);}else _0x16b6dd=JSON[_0x4d2c61(0xa5e)](_0x262a6d);if('string'==typeof _0x16b6dd&&_0x16b6dd[_0x4d2c61(0x830)]>_0x35eb75)return void this[_0x4d2c61(0x3a8)](_0x262a6d,_0x16b6dd);0x0===_0x262a6d[_0x4d2c61(0x4f1)]&&_0x262a6d[_0x4d2c61(0x6ea)]===_0xe6fd3b[_0x4d2c61(0x829)]&&this[_0x4d2c61(0x8b0)]['logger'][_0x4d2c61(0x533)](()=>_0x58cca5['log'](_0x57ac86[_0x4d2c61(0x2a1)],'SenderPeerConnection\x20send',this[_0x4d2c61(0x5b1)],_0x2e7b71(_0x262a6d)),void 0x0);const _0x34cebc=0x0===_0x262a6d[_0x4d2c61(0x4f1)]&&[_0xe6fd3b[_0x4d2c61(0x26e)],_0xe6fd3b['PeerConnection']][_0x4d2c61(0x4aa)](_0x262a6d[_0x4d2c61(0x6ea)])?_0x3b0772[_0x4d2c61(0x88a)]:_0x262a6d instanceof ArrayBuffer?_0x3b0772[_0x4d2c61(0xab3)]:_0x3b0772[_0x4d2c61(0x7fa)];this[_0x4d2c61(0x918)](_0x16b6dd,_0x34cebc);}['addTrack'](_0x445a81,_0xc7d300,_0x4d8376,_0x4134bf){const _0x2cc80f=_0x273dd2,_0x3e5b26=(_0xf95eee=this['maxFps'],_0x200bd8=this['maxBpp'],Math[_0x2cc80f(0x4ad)](0xe1000*_0xf95eee*_0x200bd8));var _0xf95eee,_0x200bd8;const _0x301914=this['senders'][_0x2cc80f(0x266)](_0xc7d300['id'])||{'stream':_0xc7d300,'priority':_0x4d8376,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x3e5b26,'maxBitrate':_0x3e5b26,'framerate':this['maxFps'],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x4134bf},_0x3bef84=_0x301914[_0x2cc80f(0xb4a)][_0x445a81[_0x2cc80f(0x9c8)]]||{'track':_0x445a81};if(_0x3bef84['sender']?(_0x3bef84['track']=_0x445a81,this[_0x2cc80f(0x745)][_0x2cc80f(0x45b)](_0x445a81,_0x3bef84[_0x2cc80f(0x97a)])):_0x3bef84[_0x2cc80f(0x97a)]=this[_0x2cc80f(0x745)][_0x2cc80f(0x43b)](_0x445a81,_0xc7d300),_0x301914[_0x2cc80f(0xb4a)][_0x445a81['kind']]=_0x3bef84,_0x4134bf&&(_0x301914[_0x2cc80f(0xa8a)]=_0x4134bf),_0x4134bf&&_0x2cc80f(0x758)===_0x4134bf[_0x2cc80f(0x9c8)]&&_0x4134bf[_0x2cc80f(0xadf)]&&_0x4134bf[_0x2cc80f(0x2ef)]&&(_0x301914['resolutionScale']=this[_0x2cc80f(0x8f3)](_0x4134bf[_0x2cc80f(0xadf)],_0x4134bf['maxResolution']),_0x301914['minResolutionScale']=_0x301914[_0x2cc80f(0x769)],_0x301914[_0x2cc80f(0xb4a)][_0x2cc80f(0x758)]&&_0x301914['tracks'][_0x2cc80f(0x758)][_0x2cc80f(0x97a)])){const _0x4fd17b=_0x301914['tracks'][_0x2cc80f(0x758)][_0x2cc80f(0x97a)];this[_0x2cc80f(0x745)]['setEncodingParameters'](_0x4fd17b,Math[_0x2cc80f(0x4ad)](0xa*_0x301914[_0x2cc80f(0x769)])/0xa,_0x301914[_0x2cc80f(0x8b3)],_0x301914[_0x2cc80f(0xb40)],_0x301914[_0x2cc80f(0x2dd)]);}this[_0x2cc80f(0x1f7)][_0x2cc80f(0x68c)](_0xc7d300['id'],_0x301914);}[_0x273dd2(0x947)](_0x4bf980,_0x441306){const _0x11aa95=_0x273dd2,_0x40dad5=this[_0x11aa95(0x1f7)]['get'](_0x4bf980['id']);if(_0x40dad5&&_0x40dad5[_0x11aa95(0x2dd)]!==_0x441306&&(_0x40dad5['priority']=_0x441306,_0x40dad5[_0x11aa95(0xb4a)]['video']&&_0x40dad5['tracks']['video'][_0x11aa95(0x97a)])){const _0x4d7477=_0x40dad5['tracks'][_0x11aa95(0x758)][_0x11aa95(0x97a)];this[_0x11aa95(0x745)]['setEncodingParameters'](_0x4d7477,Math['floor'](0xa*_0x40dad5[_0x11aa95(0x769)])/0xa,_0x40dad5['framerate'],_0x40dad5[_0x11aa95(0xb40)],_0x40dad5['priority']);}}['setParams'](_0x28c88b,_0x228b84){const _0x204833=_0x273dd2,_0x197f50=this[_0x204833(0x1f7)][_0x204833(0x266)](_0x28c88b['id']);if(_0x197f50){if(_0x197f50[_0x204833(0xa8a)]=_0x228b84,_0x228b84&&_0x204833(0x758)===_0x228b84[_0x204833(0x9c8)]&&_0x228b84[_0x204833(0xadf)]&&_0x228b84[_0x204833(0x2ef)]){if(_0x197f50[_0x204833(0x8bd)]=this[_0x204833(0x8f3)](_0x228b84[_0x204833(0xadf)],_0x228b84['maxResolution']),_0x197f50['resolutionScale']<_0x197f50[_0x204833(0x8bd)]&&(_0x197f50[_0x204833(0x769)]=_0x197f50[_0x204833(0x8bd)]),_0x197f50[_0x204833(0xb4a)]['video']&&_0x197f50[_0x204833(0xb4a)][_0x204833(0x758)][_0x204833(0x97a)]){const _0x447ff1=_0x197f50[_0x204833(0xb4a)][_0x204833(0x758)][_0x204833(0x97a)];this[_0x204833(0x745)]['setEncodingParameters'](_0x447ff1,Math[_0x204833(0x4ad)](0xa*_0x197f50[_0x204833(0x769)])/0xa,_0x197f50[_0x204833(0x8b3)],_0x197f50[_0x204833(0xb40)],_0x197f50[_0x204833(0x2dd)]);}this['clearUpgradeTimeout'](),this[_0x204833(0x1e2)]();}this[_0x204833(0x1f7)]['set'](_0x28c88b['id'],_0x197f50);}}[_0x273dd2(0x23e)](_0x168f87,_0x56808d){const _0x597508=_0x273dd2,_0x465258=this[_0x597508(0x1f7)][_0x597508(0x266)](_0x56808d['id']);if(_0x465258){const _0x1d8ceb=_0x465258['tracks'][_0x168f87[_0x597508(0x9c8)]];_0x1d8ceb&&(_0x1d8ceb['sender']&&this[_0x597508(0x745)][_0x597508(0x23e)](_0x1d8ceb[_0x597508(0x97a)]),_0x1d8ceb[_0x597508(0xa7f)]=void 0x0);}}[_0x273dd2(0xc0f)](_0x39dc87){const _0x1e0476=_0x273dd2;this[_0x1e0476(0x6b7)]();const _0x1b4334=function(_0x1e2a4a,_0x2a4d09){const _0x25024d=_0x1e0476;return _0x1e2a4a[_0x25024d(0x939)]((_0xa8632e,_0x23e1cb)=>_0x2a4d09['action']===_0x467156[_0x25024d(0x9c2)]?_0x23e1cb['priority']-_0xa8632e[_0x25024d(0x2dd)]:_0xa8632e[_0x25024d(0x2dd)]-_0x23e1cb[_0x25024d(0x2dd)])[_0x25024d(0x77e)](_0xee023=>function(_0x4accbc,_0x3f3c0d){const _0x3b177a=_0x25024d;if(_0x3f3c0d[_0x3b177a(0xa57)]===_0x467156[_0x3b177a(0x9c2)]){if(_0x3f3c0d[_0x3b177a(0x7e4)]===_0xf0e27d[_0x3b177a(0x40d)])return _0x4accbc[_0x3b177a(0x769)]<0x4||_0x4accbc[_0x3b177a(0x8b6)]>0xf;if(_0x3f3c0d[_0x3b177a(0x7e4)]===_0xf0e27d['Bitrate'])return _0x4accbc[_0x3b177a(0xba7)]>_0x33be72;}return _0x4accbc['resolutionScale']>_0x4accbc[_0x3b177a(0x8bd)]||_0x4accbc['framerate']<_0x4accbc[_0x3b177a(0x8b6)]||_0x4accbc['bitrate']<_0x4accbc[_0x3b177a(0xba7)];}(_0xee023,_0x2a4d09));}(Array[_0x1e0476(0x668)](this[_0x1e0476(0x1f7)][_0x1e0476(0x2e7)]()),_0x39dc87);if(_0x1b4334&&(function(_0x467545,_0x1583aa){const _0x1af420=_0x1e0476;_0x467545[_0x1af420(0xb4a)][_0x1af420(0x758)]&&_0x467545[_0x1af420(0xb4a)]['video']['sender']&&(_0x467545['resolutionScale']=function(_0x507bde,_0x4abf67,_0x108c1a){const _0x1956c5=_0x1af420;switch(_0x108c1a[_0x1956c5(0xa57)]){case _0x467156[_0x1956c5(0x9c2)]:_0x108c1a['component']===_0xf0e27d['Resolution']&&(_0x507bde+=0.5)>0x4&&(_0x507bde=0x4);break;case _0x467156[_0x1956c5(0x8bb)]:(_0x507bde-=0.5)<_0x4abf67&&(_0x507bde=_0x4abf67);}return _0x507bde;}(_0x467545[_0x1af420(0x769)],_0x467545[_0x1af420(0x8bd)],_0x1583aa),_0x467545['framerate']=function(_0x24bf49,_0x4712b9,_0x3d6710){const _0x54b729=_0x1af420;switch(_0x3d6710[_0x54b729(0xa57)]){case _0x467156[_0x54b729(0x9c2)]:_0x3d6710['component']===_0xf0e27d[_0x54b729(0x40d)]&&(_0x24bf49-=0x3)<0xf&&(_0x24bf49=0xf);break;case _0x467156[_0x54b729(0x8bb)]:(_0x24bf49+=0x3)>_0x4712b9&&(_0x24bf49=_0x4712b9);}return _0x24bf49;}(_0x467545['framerate'],_0x467545[_0x1af420(0x8b6)],_0x1583aa),_0x467545[_0x1af420(0xb40)]=function(_0x248dd2,_0xf902fa,_0xbb6297){const _0x5cf7ee=_0x1af420;switch(_0xbb6297['action']){case _0x467156[_0x5cf7ee(0x9c2)]:_0xbb6297[_0x5cf7ee(0x7e4)]===_0xf0e27d[_0x5cf7ee(0x555)]&&(_0x248dd2*=0.75)<_0x33be72&&(_0x248dd2=_0x33be72);break;case _0x467156[_0x5cf7ee(0x8bb)]:(_0x248dd2*=1.25)>_0xf902fa&&(_0x248dd2=_0xf902fa);}return _0x248dd2;}(_0x467545[_0x1af420(0xb40)],_0x467545[_0x1af420(0xba7)],_0x1583aa));}(_0x1b4334,_0x39dc87),_0x1b4334[_0x1e0476(0xb4a)][_0x1e0476(0x758)]&&_0x1b4334['tracks'][_0x1e0476(0x758)][_0x1e0476(0x97a)])){const _0x1eae83=_0x1b4334['tracks'][_0x1e0476(0x758)]['sender'];this[_0x1e0476(0x745)][_0x1e0476(0x751)](_0x1eae83,Math['floor'](0xa*_0x1b4334[_0x1e0476(0x769)])/0xa,_0x1b4334[_0x1e0476(0x8b3)],_0x1b4334['bitrate'],_0x1b4334[_0x1e0476(0x2dd)]);}(_0x1b4334||_0x39dc87[_0x1e0476(0xa57)]===_0x467156['Downgrade'])&&this[_0x1e0476(0x1e2)]();}[_0x273dd2(0xaeb)](){const _0x4bbf2e=_0x273dd2;return this[_0x4bbf2e(0x74b)][_0x4bbf2e(0x932)][_0x4bbf2e(0x97e)]((_0x454cdd,_0x2a3851)=>_0x454cdd+_0x2a3851['size'],0x0)*_0x4e18d4;}[_0x273dd2(0x6bd)](){const _0x310861=_0x273dd2;return this[_0x310861(0x8f9)]?.[_0x310861(0x2c5)]??0x0;}[_0x273dd2(0x59c)](){const _0x3a8a4d=_0x273dd2;super['resetConnection'](),this['clearOncloseTimeout'](),this[_0x3a8a4d(0x297)](),this[_0x3a8a4d(0x1f7)][_0x3a8a4d(0xb9b)](_0x1ece10=>{const _0x5df99b=_0x3a8a4d;_0x1ece10[_0x5df99b(0xb4a)][_0x5df99b(0x758)]&&(_0x1ece10[_0x5df99b(0xb4a)]['video'][_0x5df99b(0x97a)]=void 0x0),_0x1ece10['tracks'][_0x5df99b(0x1fc)]&&(_0x1ece10[_0x5df99b(0xb4a)][_0x5df99b(0x1fc)]['sender']=void 0x0);}),this[_0x3a8a4d(0xaaa)]=!0x0;}async[_0x273dd2(0x1d7)](){return new Promise(async _0x1a0c44=>{const _0x5e3e7e=a0_0x35be;if(!this[_0x5e3e7e(0x8f9)]||_0x5e3e7e(0x485)!==this[_0x5e3e7e(0x8f9)][_0x5e3e7e(0xb88)])return await _0x35fbea[_0x5e3e7e(0x3a0)](0x64),void _0x1a0c44();this[_0x5e3e7e(0x8f9)][_0x5e3e7e(0x2c5)]<_0x1f5df2?_0x1a0c44():this[_0x5e3e7e(0x8f9)][_0x5e3e7e(0x452)]=()=>{const _0x2e8a46=_0x5e3e7e;this[_0x2e8a46(0x8f9)]&&(this[_0x2e8a46(0x8f9)]['onBufferedAmountLow']=null),_0x1a0c44();};});}async['sendChunked'](_0x13fc96,_0x5a7a51){const _0x32a80a=_0x273dd2,_0x30a6cb=[];for(let _0xaacadf=0x0;_0xaacadf<_0x5a7a51[_0x32a80a(0x830)];_0xaacadf+=_0x35eb75)_0x30a6cb[_0x32a80a(0x604)](_0x5a7a51[_0x32a80a(0x36d)](_0xaacadf,_0xaacadf+_0x35eb75));for(const _0xa3a6fd of _0x30a6cb){for(;this['retryQueue'][_0x32a80a(0x932)][_0x3b0772['Low']]['size']>0x1;)await _0x35fbea['wait'](0x64);this['sendWithRetry'](_0x4abd0d+';'+_0x13fc96['uuid']+';'+_0x30a6cb[_0x32a80a(0x28c)](_0xa3a6fd)+';'+_0x30a6cb[_0x32a80a(0x830)]+';'+_0xa3a6fd,_0x3b0772[_0x32a80a(0xab3)]);}}async['sendWithRetry'](_0x4d7f44,_0x59be9b){const _0x3732c5=_0x273dd2;_0x4d7f44===_0x224c31?this[_0x3732c5(0x74b)][_0x3732c5(0x932)][_0x59be9b][_0x3732c5(0x99b)]?.[_0x3732c5(0x22e)]!==_0x224c31&&this[_0x3732c5(0x74b)][_0x3732c5(0x932)][_0x59be9b][_0x3732c5(0x89c)](_0x4d7f44):this[_0x3732c5(0x74b)][_0x3732c5(0x932)][_0x59be9b]['push'](_0x4d7f44);}['sendAction'](_0x3c1226){const _0x345858=_0x273dd2;if(!this[_0x345858(0x8f9)]||_0x345858(0x485)!==this[_0x345858(0x8f9)][_0x345858(0xb88)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this['dataChannel'][_0x345858(0x2c5)]>=0x600000)throw new Error('DataChannel\x20buffer\x20is\x20full.');const _0x2dc590=Date[_0x345858(0x3a1)]();_0x3c1226!==_0x224c31&&(this[_0x345858(0x695)]+=0x1,this[_0x345858(0x24b)]+=_0x3c1226 instanceof ArrayBuffer?_0x3c1226['byteLength']:_0x3c1226[_0x345858(0x830)]);try{ArrayBuffer,this['dataChannel'][_0x345858(0xabc)](_0x3c1226);}catch(_0x1623fa){throw console[_0x345858(0x5c5)]('DataChannel\x20send\x20error',_0x1623fa),_0x1623fa;}this[_0x345858(0x316)]+=Date[_0x345858(0x3a1)]()-_0x2dc590;}[_0x273dd2(0x275)](){const _0x4878d2=_0x273dd2;this[_0x4878d2(0xb7e)]&&this[_0x4878d2(0x579)]();let _0x58097c=!0x0,_0x546035=Date['now']();this[_0x4878d2(0xc20)]=Date['now'](),this[_0x4878d2(0x8f9)][_0x4878d2(0xb80)]=_0x369af3=>{const _0x2332bf=_0x4878d2;'1'===_0x369af3[_0x2332bf(0x9b6)]&&(this[_0x2332bf(0x427)]=Date[_0x2332bf(0x3a1)]()-_0x546035,_0x58097c&&this[_0x2332bf(0x935)]({'type':_0x3da868[_0x2332bf(0x90c)]}),_0x58097c=!0x1,this[_0x2332bf(0xc20)]=Date[_0x2332bf(0x3a1)](),this[_0x2332bf(0xaaa)]&&(this['isReconnecting']=!0x1,this[_0x2332bf(0xbf6)]()));},this['heartbeatUnsubscriber']=_0x35fbea[_0x4878d2(0x794)](()=>{const _0x4fea8a=_0x4878d2;_0x546035=Date[_0x4fea8a(0x3a1)](),this[_0x4fea8a(0x918)](_0x224c31,_0x3b0772[_0x4fea8a(0x88a)]),Date[_0x4fea8a(0x3a1)]()-this[_0x4fea8a(0xc20)]>(_0x58097c?0x15f90:0x3a98)&&this[_0x4fea8a(0x697)]();},0xbb8);}['handleMissingSenders'](){const _0x2f863c=_0x273dd2;this[_0x2f863c(0x1f7)][_0x2f863c(0xb9b)](_0x625da6=>{const _0x1b9622=_0x2f863c;_0x625da6[_0x1b9622(0xb4a)][_0x1b9622(0x758)]&&_0x625da6[_0x1b9622(0xb4a)]['video']['track']&&!_0x625da6[_0x1b9622(0xb4a)]['video'][_0x1b9622(0x97a)]&&(_0x625da6[_0x1b9622(0xb4a)][_0x1b9622(0x758)][_0x1b9622(0x97a)]=this[_0x1b9622(0x745)][_0x1b9622(0x43b)](_0x625da6[_0x1b9622(0xb4a)][_0x1b9622(0x758)][_0x1b9622(0xa7f)],_0x625da6[_0x1b9622(0x573)])),_0x625da6[_0x1b9622(0xb4a)]['audio']&&_0x625da6['tracks'][_0x1b9622(0x1fc)][_0x1b9622(0xa7f)]&&!_0x625da6['tracks'][_0x1b9622(0x1fc)][_0x1b9622(0x97a)]&&(_0x625da6[_0x1b9622(0xb4a)]['audio'][_0x1b9622(0x97a)]=this[_0x1b9622(0x745)][_0x1b9622(0x43b)](_0x625da6[_0x1b9622(0xb4a)][_0x1b9622(0x1fc)][_0x1b9622(0xa7f)],_0x625da6['stream']));});}[_0x273dd2(0x86a)](){const _0x83e6d=_0x273dd2;this[_0x83e6d(0x935)]({'type':_0x3da868[_0x83e6d(0x782)],'candidates':this[_0x83e6d(0xbcb)],'origin':_0x31b797[_0x83e6d(0x3a7)],'version':this[_0x83e6d(0x6db)],'connectionType':this['connectionType']});}[_0x273dd2(0x6bf)](){const _0xd96b87=_0x273dd2;super[_0xd96b87(0x6bf)](),this[_0xd96b87(0x745)]['onHandshakeStateChange']=()=>{const _0x19c16a=_0xd96b87;if('failed'===this[_0x19c16a(0x745)][_0x19c16a(0x835)]){_0x58cca5[_0x19c16a(0x3a3)](_0x57ac86['ConnectionState'],_0x19c16a(0x897),this[_0x19c16a(0x61b)][_0x19c16a(0xb9d)](),this['remoteId']);try{if(this[_0x19c16a(0x745)]['canRestartHandshake'])return void this[_0x19c16a(0x745)]['restartHandshake']();}catch(_0x561fa8){}this[_0x19c16a(0x2aa)]({'handshakeRestart':!0x0});}},this[_0xd96b87(0x745)][_0xd96b87(0x986)]=()=>{const _0x433d48=_0xd96b87;_0x433d48(0x894)!==this[_0x433d48(0x745)][_0x433d48(0x488)]&&_0x433d48(0x59a)!==this[_0x433d48(0x745)][_0x433d48(0x488)]||this[_0x433d48(0x697)]();};}[_0x273dd2(0x697)](){const _0x4f02ab=_0x273dd2;this[_0x4f02ab(0x579)](),this[_0x4f02ab(0x7f0)](),this[_0x4f02ab(0x613)](),_0x58cca5[_0x4f02ab(0x673)](_0x4f02ab(0x41b),{'clusterId':this[_0x4f02ab(0x78c)],'nodeId':this['localNode'][_0x4f02ab(0xb9d)](),'nodeType':this['localNode'][_0x4f02ab(0x6b9)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x4f02ab(0x35d)],'connectionState':this[_0x4f02ab(0x745)]['connectionState'],'iceConnectionState':this[_0x4f02ab(0x745)]['handshakeState'],'signalingState':this[_0x4f02ab(0x745)][_0x4f02ab(0x6aa)],'readyState':this[_0x4f02ab(0x8f9)]?.[_0x4f02ab(0xb88)]||'','lastHeartbeat':this[_0x4f02ab(0xc20)]?Date['now']()-this[_0x4f02ab(0xc20)]:'','retryQueue':this[_0x4f02ab(0x74b)]}}),(this[_0x4f02ab(0xc20)]&&Date[_0x4f02ab(0x3a1)]()-this[_0x4f02ab(0xc20)]>0xea60)??0x1?this[_0x4f02ab(0x2fb)][_0x4f02ab(0xb07)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x4f02ab(0x61b)][_0x4f02ab(0xb9d)]()],'messageType':_0xe6fd3b[_0x4f02ab(0x639)],'content':{'type':_0x3da868[_0x4f02ab(0x82b)]}}):(this[_0x4f02ab(0x59c)](),this[_0x4f02ab(0x935)]({'type':_0x3da868['NeedRestart'],'version':this[_0x4f02ab(0x6db)],'connectionType':this['connectionType']}),this[_0x4f02ab(0xa6a)]=setTimeout(()=>{const _0x5e8895=_0x4f02ab;this[_0x5e8895(0x697)]();},0x7530));}[_0x273dd2(0x579)](){this['heartbeatUnsubscriber']?.(),delete this['heartbeatUnsubscriber'];}[_0x273dd2(0x613)](){const _0x1aab7e=_0x273dd2;this[_0x1aab7e(0x74a)]&&(clearTimeout(this[_0x1aab7e(0x74a)]),delete this[_0x1aab7e(0x74a)]);}[_0x273dd2(0x7f0)](){const _0xeec44a=_0x273dd2;this[_0xeec44a(0xa6a)]&&(clearTimeout(this[_0xeec44a(0xa6a)]),delete this['restartTimeout']);}['clearUpgradeTimeout'](){const _0x1b1206=_0x273dd2;this[_0x1b1206(0x755)]&&(clearTimeout(this[_0x1b1206(0x755)]),delete this[_0x1b1206(0x755)]);}[_0x273dd2(0x1e2)](){const _0x5f3b63=_0x273dd2;this[_0x5f3b63(0x755)]=setTimeout(()=>{const _0x4f8fe7=_0x5f3b63;this['applyRemediation']({'type':_0x2ea71a[_0x4f8fe7(0x8f5)],'action':_0x467156[_0x4f8fe7(0x8bb)]});},0x3a98);}['getResolutionScale'](_0x49db0e,_0x56e255){const _0x553d66=_0x273dd2,_0xb95710=Math[_0x553d66(0xa30)](_0x49db0e[_0x553d66(0x23c)]/_0x56e255[_0x553d66(0x23c)],_0x49db0e[_0x553d66(0x34c)]/_0x56e255[_0x553d66(0x34c)]);return Math[_0x553d66(0xb20)](Math[_0x553d66(0xa30)](_0xb95710,0x1),0x4);}['clearWaitAnswer'](){const _0x1a3a84=_0x273dd2;this[_0x1a3a84(0xa2b)]?.(),delete this['waitAnswer'];}['clearOncloseTimeout'](){const _0xb43dae=_0x273dd2;this[_0xb43dae(0x390)]&&(clearTimeout(this[_0xb43dae(0x390)]),delete this[_0xb43dae(0x390)]);}['objectToArrayBuffer'](_0x438ab6){const _0x1acc54=_0x273dd2,_0x18743d=JSON[_0x1acc54(0xa5e)](_0x438ab6);return new TextEncoder()[_0x1acc54(0xa25)](_0x18743d)[_0x1acc54(0x9da)];}['mergeParts'](_0x23474b,_0x82e1d0){const _0x27038a=_0x273dd2,_0x943316=this['objectToArrayBuffer'](_0x23474b),_0x4fce5f=new Uint8Array(0x4),_0x19e85e=new Uint8Array(_0x943316),_0x530bbe=new Uint8Array(_0x82e1d0);_0x4fce5f['set'](new Uint8Array(new Uint32Array([_0x19e85e['length']])[_0x27038a(0x9da)]));const _0x1dc5c4=new Uint8Array(0x4+_0x19e85e[_0x27038a(0x830)]+_0x530bbe[_0x27038a(0x830)]);return _0x1dc5c4[_0x27038a(0x68c)](_0x4fce5f),_0x1dc5c4[_0x27038a(0x68c)](_0x19e85e,0x4),_0x1dc5c4[_0x27038a(0x68c)](_0x530bbe,0x4+_0x19e85e[_0x27038a(0x830)]),_0x1dc5c4['buffer'];}}class _0x463bde extends _0x2dbc37{['iceServers'];[_0x273dd2(0x35d)];[_0x273dd2(0x428)];['maxBpp'];[_0x273dd2(0x312)];[_0x273dd2(0x216)];['receiverConnection'];['receiverUnsubscribers']=[];[_0x273dd2(0x429)]=_0x2d1945();[_0x273dd2(0x7d5)]=_0x2d1945();['removeTrackListeners']=_0x2d1945();[_0x273dd2(0xb6f)]=[];[_0x273dd2(0x2fb)];[_0x273dd2(0x631)]=new Map();[_0x273dd2(0x9b0)]=new Map();[_0x273dd2(0x627)]=new Map();[_0x273dd2(0xae4)]=new Map();['successNotified']=!0x1;constructor(_0x4770ad,_0x377f7b,_0x4439f4,_0x5ce982,_0x570438,_0x229759,_0xb76dbf,_0xae8c46){const _0x23a652=_0x273dd2;super(_0x4770ad,_0x377f7b,_0x4439f4),this[_0x23a652(0x355)]=_0x5ce982,this['connectionType']=_0x570438,this['maxFps']=_0x229759,this[_0x23a652(0xa45)]=_0xb76dbf,this[_0x23a652(0x312)]=_0xae8c46;}[_0x273dd2(0x56e)](_0x456215){const _0x4a7f2b=_0x273dd2;switch(_0x456215[_0x4a7f2b(0x54c)]()){case _0x2a74a6[_0x4a7f2b(0x2a7)]['Data']:case _0x2a74a6[_0x4a7f2b(0x2a7)][_0x4a7f2b(0x7b3)]:case _0x2a74a6[_0x4a7f2b(0x2a7)][_0x4a7f2b(0x870)]:case _0x2a74a6[_0x4a7f2b(0x2a7)]['KeyValueDatabase']:case _0x2a74a6[_0x4a7f2b(0x2a7)][_0x4a7f2b(0x601)]:case _0x2a74a6[_0x4a7f2b(0x2a7)]['VectorDatabase']:case _0x2a74a6[_0x4a7f2b(0x2a7)][_0x4a7f2b(0xbc6)]:case _0x2a74a6[_0x4a7f2b(0x2a7)][_0x4a7f2b(0x61f)]:this[_0x4a7f2b(0x631)][_0x4a7f2b(0x68c)](_0x456215[_0x4a7f2b(0xa73)](),_0x456215);break;case _0x2a74a6[_0x4a7f2b(0x2a7)][_0x4a7f2b(0x9ae)]:this['mediaTopics'][_0x4a7f2b(0x68c)](_0x456215[_0x4a7f2b(0xa73)](),_0x456215);}}[_0x273dd2(0x823)](_0xfd6f17){const _0x5b54e4=_0x273dd2;switch(_0xfd6f17[_0x5b54e4(0x54c)]()){case _0x2a74a6[_0x5b54e4(0x2a7)][_0x5b54e4(0xa89)]:case _0x2a74a6[_0x5b54e4(0x2a7)]['PubSub']:case _0x2a74a6[_0x5b54e4(0x2a7)][_0x5b54e4(0x870)]:case _0x2a74a6[_0x5b54e4(0x2a7)][_0x5b54e4(0x670)]:case _0x2a74a6['ContentType'][_0x5b54e4(0x601)]:case _0x2a74a6['ContentType'][_0x5b54e4(0xb15)]:case _0x2a74a6[_0x5b54e4(0x2a7)][_0x5b54e4(0xbc6)]:case _0x2a74a6[_0x5b54e4(0x2a7)][_0x5b54e4(0x61f)]:this['dataTopics'][_0x5b54e4(0x997)](_0xfd6f17[_0x5b54e4(0xa73)]());break;case _0x2a74a6[_0x5b54e4(0x2a7)][_0x5b54e4(0x9ae)]:this[_0x5b54e4(0x627)]['delete'](_0xfd6f17['getLabel']());}}[_0x273dd2(0xb87)](_0x461229){const _0x541da6=_0x273dd2;switch(_0x461229[_0x541da6(0x54c)]()){case _0x2a74a6[_0x541da6(0x2a7)][_0x541da6(0xa89)]:case _0x2a74a6['ContentType'][_0x541da6(0x7b3)]:case _0x2a74a6[_0x541da6(0x2a7)][_0x541da6(0x870)]:case _0x2a74a6[_0x541da6(0x2a7)][_0x541da6(0x670)]:case _0x2a74a6['ContentType'][_0x541da6(0x601)]:case _0x2a74a6[_0x541da6(0x2a7)]['VectorDatabase']:case _0x2a74a6['ContentType']['GraphDatabase']:case _0x2a74a6[_0x541da6(0x2a7)][_0x541da6(0x61f)]:{const _0x32ddb6=_0x461229[_0x541da6(0x6f8)](_0x19603f=>{const _0x5df9ee=_0x541da6;_0x32906e(_0x19603f,this[_0x5df9ee(0xb1f)]())&&_0x3cd66e(_0x19603f,this[_0x5df9ee(0x5b1)])&&this[_0x5df9ee(0xabc)](_0x19603f);});this[_0x541da6(0x9b0)][_0x541da6(0x68c)](_0x461229[_0x541da6(0xa73)](),_0x32ddb6);break;}case _0x2a74a6[_0x541da6(0x2a7)]['Media']:{const _0x1af112=_0x461229[_0x541da6(0x6f8)](({content:_0x1db182})=>{const _0x4e5de7=_0x541da6;switch(_0x1db182[_0x4e5de7(0xa57)]){case _0x45236f[_0x4e5de7(0x265)]:this['addTrack'](_0x1db182[_0x4e5de7(0xa7f)],_0x1db182[_0x4e5de7(0x573)],_0x1db182[_0x4e5de7(0x2dd)],_0x1db182[_0x4e5de7(0xa8a)]);break;case _0x45236f['Remove']:this['removeTrack'](_0x1db182[_0x4e5de7(0xa7f)],_0x1db182['stream']);break;case _0x45236f[_0x4e5de7(0xa6c)]:_0x1db182[_0x4e5de7(0x2dd)]&&this[_0x4e5de7(0x947)](_0x1db182[_0x4e5de7(0x573)],_0x1db182[_0x4e5de7(0x2dd)]),_0x1db182[_0x4e5de7(0xa8a)]&&this[_0x4e5de7(0x2b1)](_0x1db182[_0x4e5de7(0x573)],_0x1db182[_0x4e5de7(0xa8a)]);}});this[_0x541da6(0xae4)][_0x541da6(0x68c)](_0x461229[_0x541da6(0xa73)](),_0x1af112);break;}}}[_0x273dd2(0x949)](_0x1430ae){const _0x23fd3d=_0x273dd2;switch(_0x1430ae['getContentType']()){case _0x2a74a6[_0x23fd3d(0x2a7)]['Data']:case _0x2a74a6[_0x23fd3d(0x2a7)][_0x23fd3d(0x7b3)]:case _0x2a74a6[_0x23fd3d(0x2a7)][_0x23fd3d(0x870)]:case _0x2a74a6[_0x23fd3d(0x2a7)]['KeyValueDatabase']:case _0x2a74a6['ContentType'][_0x23fd3d(0x601)]:case _0x2a74a6[_0x23fd3d(0x2a7)][_0x23fd3d(0xb15)]:case _0x2a74a6['ContentType'][_0x23fd3d(0xbc6)]:case _0x2a74a6[_0x23fd3d(0x2a7)]['ExternalStorage']:this['dataUnsubscribers'][_0x23fd3d(0x266)](_0x1430ae['getLabel']())?.(),this[_0x23fd3d(0x9b0)][_0x23fd3d(0x997)](_0x1430ae['getLabel']());break;case _0x2a74a6[_0x23fd3d(0x2a7)][_0x23fd3d(0x9ae)]:this[_0x23fd3d(0xae4)][_0x23fd3d(0x266)](_0x1430ae['getLabel']())?.(),this[_0x23fd3d(0xae4)][_0x23fd3d(0x997)](_0x1430ae[_0x23fd3d(0xa73)]());}}[_0x273dd2(0x379)](){const _0xe2dc7a=_0x273dd2;return[_0x2a74a6['ContentType'][_0xe2dc7a(0xa89)],_0x2a74a6[_0xe2dc7a(0x2a7)][_0xe2dc7a(0x9ae)],_0x2a74a6[_0xe2dc7a(0x2a7)][_0xe2dc7a(0x7b3)],_0x2a74a6[_0xe2dc7a(0x2a7)][_0xe2dc7a(0x870)],_0x2a74a6[_0xe2dc7a(0x2a7)][_0xe2dc7a(0x670)],_0x2a74a6['ContentType'][_0xe2dc7a(0x601)],_0x2a74a6[_0xe2dc7a(0x2a7)][_0xe2dc7a(0xb15)],_0x2a74a6[_0xe2dc7a(0x2a7)][_0xe2dc7a(0xbc6)],_0x2a74a6[_0xe2dc7a(0x2a7)][_0xe2dc7a(0x61f)]];}[_0x273dd2(0x32c)](_0x355141){this['systemTopic']=_0x355141;}['unregisterSystemPublisher'](){const _0xbfaff9=_0x273dd2;delete this[_0xbfaff9(0x2fb)];}async[_0x273dd2(0x892)](){const _0x473078=_0x273dd2;this[_0x473078(0x495)](),await this[_0x473078(0x2aa)]();}['close'](){const _0x2644c2=_0x273dd2;this['listenerUnsubscribers'][_0x2644c2(0xb9b)](_0x2dda27=>_0x2dda27()),this[_0x2644c2(0xb6f)]=[],this[_0x2644c2(0x216)]?.[_0x2644c2(0x200)](),this[_0x2644c2(0x216)]?.[_0x2644c2(0x210)](),delete this['senderConnection'],this[_0x2644c2(0x8fa)][_0x2644c2(0xb9b)](_0x18d5a1=>_0x18d5a1()),this[_0x2644c2(0x8fa)]=[],this[_0x2644c2(0x6e0)]?.[_0x2644c2(0x200)](),this[_0x2644c2(0x6e0)]?.[_0x2644c2(0x210)](),delete this[_0x2644c2(0x6e0)];}['isConnected'](){const _0x283399=_0x273dd2;return this[_0x283399(0x216)]?.['isConnected']()&&this[_0x283399(0x6e0)]?.[_0x283399(0x7b1)]()||!0x1;}[_0x273dd2(0xabc)](_0x1db03d){const _0x3c3ed3=_0x273dd2;if(!this[_0x3c3ed3(0x216)]||!this[_0x3c3ed3(0x7b1)]())throw new _0x4b8523(_0x4b8523['codes'][_0x3c3ed3(0x3b7)],{'message':_0x3c3ed3(0x478),'senderConnected':this[_0x3c3ed3(0x216)]?.[_0x3c3ed3(0x7b1)](),'receiverConnected':this[_0x3c3ed3(0x6e0)]?.[_0x3c3ed3(0x7b1)](),'localId':this[_0x3c3ed3(0xb1f)](),'remoteId':this[_0x3c3ed3(0x5b1)],'data':_0x1db03d});this[_0x3c3ed3(0x216)][_0x3c3ed3(0xabc)](_0x1db03d);}[_0x273dd2(0xb80)](_0x47f1ed){const _0xeadaaa=_0x273dd2;return this[_0xeadaaa(0x429)][_0xeadaaa(0x6f8)](_0x47f1ed);}[_0x273dd2(0x368)](_0x3920b3){const _0x40cc52=_0x273dd2;return this[_0x40cc52(0x7d5)][_0x40cc52(0x6f8)](({track:_0x4f0f94,stream:_0x24f9c9})=>_0x3920b3(_0x4f0f94,_0x24f9c9));}[_0x273dd2(0x799)](_0x4fd948){const _0x20039f=_0x273dd2;return this[_0x20039f(0xa52)][_0x20039f(0x6f8)](({track:_0x41e1df,stream:_0x4fd627})=>_0x4fd948(_0x41e1df,_0x4fd627));}[_0x273dd2(0x43b)](_0x1fd3f3,_0x22f23f,_0x2b7a4a,_0xa83384){const _0x526db2=_0x273dd2;this[_0x526db2(0x216)]?.[_0x526db2(0x43b)](_0x1fd3f3,_0x22f23f,_0x2b7a4a,_0xa83384);}[_0x273dd2(0x947)](_0xbeb07b,_0x518b0d){const _0x3023fd=_0x273dd2;this[_0x3023fd(0x216)]?.['setPriority'](_0xbeb07b,_0x518b0d);}[_0x273dd2(0x2b1)](_0xee8df6,_0x28fee7){const _0xc5f6ea=_0x273dd2;this[_0xc5f6ea(0x216)]?.[_0xc5f6ea(0x2b1)](_0xee8df6,_0x28fee7);}[_0x273dd2(0x23e)](_0x35cd79,_0x554ab5){const _0x14fc08=_0x273dd2;this[_0x14fc08(0x216)]?.[_0x14fc08(0x23e)](_0x35cd79,_0x554ab5);}async[_0x273dd2(0x92a)](_0x1bbd5c){const _0x45252c=_0x273dd2;_0x58cca5['log'](_0x57ac86[_0x45252c(0x79e)],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this['getLocalId'](),_0x1bbd5c);const {content:_0x4a8d7a}=_0x1bbd5c;switch(_0x4a8d7a[_0x45252c(0x6b9)]){case _0x3da868['Offer']:await this['handleOffer'](_0x4a8d7a);break;case _0x3da868[_0x45252c(0x6e5)]:await this['handleAnswer'](_0x4a8d7a);break;case _0x3da868[_0x45252c(0x90c)]:this['handleSuccess']();break;case _0x3da868[_0x45252c(0x782)]:await this['handleIceCandidates'](_0x4a8d7a);break;case _0x3da868[_0x45252c(0x274)]:this[_0x45252c(0x2c6)](_0x4a8d7a);break;case _0x3da868[_0x45252c(0x252)]:await this[_0x45252c(0x2aa)]();}}[_0x273dd2(0x5ad)](_0x1bbf6b){const _0x11cdc9=_0x273dd2;this[_0x11cdc9(0x216)]?.['applyRemediation'](_0x1bbf6b[_0x11cdc9(0x26d)]['data']);}['getConnectionType'](){const _0x47d5fa=_0x273dd2;return this[_0x47d5fa(0x35d)];}[_0x273dd2(0x7b5)](_0x526c03){const _0x1bb965=_0x273dd2;this[_0x1bb965(0x35d)]=_0x526c03,this['senderConnection']?.[_0x1bb965(0x7b5)](_0x526c03),this['receiverConnection']?.[_0x1bb965(0x7b5)](_0x526c03);}async[_0x273dd2(0x89f)](){const _0xabf7d8=_0x273dd2;await this[_0xabf7d8(0x216)]?.[_0xabf7d8(0x89f)](),await this['receiverConnection']?.[_0xabf7d8(0x89f)]();}[_0x273dd2(0xaeb)](){const _0x2d8d72=_0x273dd2;return this[_0x2d8d72(0x216)]?.['calculateArrayBufferSize']()??0x0;}['getBufferedAmount'](){const _0xf0a67a=_0x273dd2;return this[_0xf0a67a(0x216)]?.[_0xf0a67a(0x6bd)]()??0x0;}[_0x273dd2(0x495)](){const _0x4b258a=_0x273dd2;this[_0x4b258a(0xb6f)]['push'](this['onMessage'](_0x3540c5=>{const _0x5de1c6=_0x4b258a;_0x3cd66e(_0x3540c5,this['getLocalId']())&&0x0!==_0x3540c5[_0x5de1c6(0x4f1)]&&this[_0x5de1c6(0x631)][_0x5de1c6(0x266)](_0x3540c5[_0x5de1c6(0x4f1)])?.[_0x5de1c6(0xb07)](_0x3540c5);})),this['listenerUnsubscribers'][_0x4b258a(0x604)](this[_0x4b258a(0x368)]((_0x1ed088,_0x203edf)=>{const _0x480717=_0x4b258a,_0x4c67e6=_0x325107(_0x2a74a6['ContentType'][_0x480717(0x9ae)],_0x203edf['id'],this[_0x480717(0x5b1)]);this[_0x480717(0x627)][_0x480717(0x266)](_0x4c67e6)?.['publish']({'topicLabel':_0x4c67e6,'sourceId':this[_0x480717(0x5b1)],'contentType':_0x2a74a6['ContentType'][_0x480717(0x9ae)],'content':{'action':_0x45236f['RemoteAdd'],'track':_0x1ed088,'stream':_0x203edf,'providerId':this[_0x480717(0x5b1)]}});})),this[_0x4b258a(0xb6f)][_0x4b258a(0x604)](this[_0x4b258a(0x799)]((_0x451fcc,_0x4f1b30)=>{const _0x405427=_0x4b258a,_0x4df248=_0x325107(_0x2a74a6[_0x405427(0x2a7)][_0x405427(0x9ae)],_0x4f1b30['id'],this['remoteId']);this[_0x405427(0x627)][_0x405427(0x266)](_0x4df248)?.['publish']({'topicLabel':_0x4df248,'sourceId':this[_0x405427(0x5b1)],'contentType':_0x2a74a6[_0x405427(0x2a7)]['Media'],'content':{'action':_0x45236f[_0x405427(0x798)],'track':_0x451fcc,'stream':_0x4f1b30,'providerId':this['remoteId']}});}));}[_0x273dd2(0x37c)]({candidates:_0x291977,origin:_0x3a7ee3,version:_0x20e825}){const _0x548ebb=_0x273dd2;return _0x3a7ee3===_0x31b797[_0x548ebb(0x3a7)]?(this['receiverConnection']||this['createReceiverConnection'](),this[_0x548ebb(0x6e0)][_0x548ebb(0x793)](_0x291977,_0x20e825)):this[_0x548ebb(0x216)][_0x548ebb(0x793)](_0x291977,_0x20e825);}async[_0x273dd2(0x2aa)](){const _0x1e1d3f=_0x273dd2;this[_0x1e1d3f(0x216)]||this[_0x1e1d3f(0x57f)](),await this[_0x1e1d3f(0x216)]['createOffer']();}async['handleOffer']({offer:_0x4530c5,version:_0x19b524}){const _0x36ceee=_0x273dd2;this['receiverConnection']||this['createReceiverConnection'](),await this[_0x36ceee(0x6e0)][_0x36ceee(0xa81)](_0x4530c5,_0x19b524);}async[_0x273dd2(0x9f6)]({answer:_0xb0da07,version:_0x3a3022}){const _0x5510f6=_0x273dd2;if(!this[_0x5510f6(0x216)])throw new _0x4b8523(_0x4b8523[_0x5510f6(0xa20)][_0x5510f6(0x3b7)],{'message':_0x5510f6(0x3c4),'localId':this[_0x5510f6(0xb1f)](),'remoteId':this[_0x5510f6(0x5b1)],'answer':_0xb0da07});await this[_0x5510f6(0x216)][_0x5510f6(0x9f6)](_0xb0da07,_0x3a3022);}[_0x273dd2(0xb57)](){const _0x36d1c9=_0x273dd2;if(!this[_0x36d1c9(0x6e0)])throw new _0x4b8523(_0x4b8523[_0x36d1c9(0xa20)][_0x36d1c9(0x3b7)],{'message':_0x36d1c9(0x657),'localId':this[_0x36d1c9(0xb1f)](),'remoteId':this['remoteId']});this['receiverConnection'][_0x36d1c9(0xb57)](),this['successNotified']||this['connectionType']!==_0x31bbcb[_0x36d1c9(0x94c)]||(this[_0x36d1c9(0x526)]=!0x0,this[_0x36d1c9(0x2fb)]?.[_0x36d1c9(0xb07)]({'sourceId':this[_0x36d1c9(0x5b1)],'destinationIds':[this[_0x36d1c9(0xb1f)]()],'messageType':_0xe6fd3b[_0x36d1c9(0x639)],'content':{'type':_0x3da868[_0x36d1c9(0x9ac)]}}));}[_0x273dd2(0x2c6)](_0x26f6f4){const _0x39a667=_0x273dd2;this[_0x39a667(0x6e0)]||this[_0x39a667(0xb79)](),this[_0x39a667(0x6e0)]['handleNeedRestart'](_0x26f6f4[_0x39a667(0x765)]);}[_0x273dd2(0x57f)](){const _0x5cb859=_0x273dd2;this[_0x5cb859(0x216)]=new _0x4c2002(this[_0x5cb859(0x78c)],this[_0x5cb859(0x61b)],this[_0x5cb859(0x5b1)],this['iceServers'],this['connectionType'],this[_0x5cb859(0x428)],this['maxBpp'],this[_0x5cb859(0x312)]),this['senderConnection'][_0x5cb859(0x32c)](this[_0x5cb859(0x2fb)]);}[_0x273dd2(0xb79)](){const _0x2c7c8c=_0x273dd2;this[_0x2c7c8c(0x6e0)]=new _0x49c9d7(this[_0x2c7c8c(0x78c)],this[_0x2c7c8c(0x61b)],this[_0x2c7c8c(0x5b1)],this['iceServers'],this['connectionType'],this[_0x2c7c8c(0x312)]),this[_0x2c7c8c(0x6e0)][_0x2c7c8c(0x32c)](this['systemTopic']),this[_0x2c7c8c(0x8fa)]['push'](this[_0x2c7c8c(0x6e0)]['onMessage'](_0x45fc08=>this[_0x2c7c8c(0x429)][_0x2c7c8c(0xb07)](_0x45fc08))),this['receiverUnsubscribers']['push'](this['receiverConnection'][_0x2c7c8c(0x368)]((_0x213874,_0x3944e1)=>this[_0x2c7c8c(0x7d5)][_0x2c7c8c(0xb07)]({'track':_0x213874,'stream':_0x3944e1}))),this['receiverUnsubscribers'][_0x2c7c8c(0x604)](this[_0x2c7c8c(0x6e0)]['onRemoveTrack']((_0xafc8e6,_0x3f2d2e)=>this['removeTrackListeners'][_0x2c7c8c(0xb07)]({'track':_0xafc8e6,'stream':_0x3f2d2e})));}}class _0x4dc356{['localId'];[_0x273dd2(0x49e)];[_0x273dd2(0xc01)];[_0x273dd2(0x713)]=new Map();[_0x273dd2(0x429)]=_0x2d1945();[_0x273dd2(0xab7)];[_0x273dd2(0x631)]=new Map();[_0x273dd2(0x9b0)]=new Map();[_0x273dd2(0x577)]=new Map();constructor(_0x16c0e5,_0x3d17e6,_0x3fa029){const _0x23da19=_0x273dd2;this['localId']=_0x16c0e5,this[_0x23da19(0x49e)]=_0x3d17e6,this['graphService']=_0x3fa029,this['messageUnsubscriber']=this[_0x23da19(0xb80)](_0x76e91c=>{const _0x44c331=_0x23da19;this['messageBuffer']['hasMessage'](_0x76e91c[_0x44c331(0xb33)])||(_0x3cd66e(_0x76e91c,this[_0x44c331(0x8cd)])&&0x0!==_0x76e91c['topicLabel']&&(this[_0x44c331(0x49e)][_0x44c331(0x9f3)](_0x76e91c['uuid']),this[_0x44c331(0x631)][_0x44c331(0x266)](_0x76e91c[_0x44c331(0x4f1)])?.[_0x44c331(0xb07)](_0x76e91c)),_0x76e91c['propagate']&&this['send'](_0x76e91c));});}[_0x273dd2(0x210)](){const _0x4d2681=_0x273dd2;this[_0x4d2681(0xab7)]?.();}['addConnection'](_0x449519){const _0x2ad301=_0x273dd2,_0x1016e5=_0x449519[_0x2ad301(0xb80)](_0xb07d71=>{const _0x344fae=_0x2ad301;this[_0x344fae(0x429)]['publish'](_0xb07d71);});this[_0x2ad301(0x713)][_0x2ad301(0x68c)](_0x449519,_0x1016e5),this['retryQueues'][_0x2ad301(0x68c)](_0x449519[_0x2ad301(0x7c0)](),function(_0x38ebb7,_0x5477f6=!0x1){let _0x26408a=new Map();const _0x56a109=_0x1d630c(_0x38ebb7,_0x5477f6,function(_0x335484){const _0x3b9357=a0_0x35be;_0x2a70f8(_0x335484)&&_0x26408a[_0x3b9357(0x997)](_0x335484['sourceId']+'-'+(_0x335484['destinationIds']??[])+'-'+_0x335484[_0x3b9357(0x6ea)]+'-'+_0x335484[_0x3b9357(0x26d)]['type']);},function(_0x59b1bf){return!!function(_0x110e7a){const _0x19c419=a0_0x35be,_0x16d992=_0x110e7a[_0x19c419(0x22e)];if(!_0x2a70f8(_0x16d992))return!0x1;const _0x5132a8=_0x16d992[_0x19c419(0x6fd)]+'-'+(_0x16d992[_0x19c419(0x966)]??[])+'-'+_0x16d992[_0x19c419(0x6ea)]+'-'+_0x16d992[_0x19c419(0x26d)]['type'],_0x239bf3={'version':_0x16d992[_0x19c419(0x26d)]['version'],'element':_0x110e7a},_0xbbdbc6=_0x26408a[_0x19c419(0x266)](_0x5132a8);return _0xbbdbc6?(_0xbbdbc6[_0x19c419(0x765)]>=_0x16d992[_0x19c419(0x26d)][_0x19c419(0x765)]||(_0xbbdbc6['element'][_0x19c419(0x694)]&&(_0xbbdbc6[_0x19c419(0x711)]['previous'][_0x19c419(0x4ba)]=_0x110e7a,_0x110e7a[_0x19c419(0x694)]=_0xbbdbc6[_0x19c419(0x711)][_0x19c419(0x694)]),_0xbbdbc6[_0x19c419(0x711)]['next']&&(_0xbbdbc6[_0x19c419(0x711)][_0x19c419(0x4ba)][_0x19c419(0x694)]=_0x110e7a,_0x110e7a[_0x19c419(0x4ba)]=_0xbbdbc6[_0x19c419(0x711)][_0x19c419(0x4ba)]),_0xbbdbc6[_0x19c419(0x711)]===_0x56a109[_0x19c419(0x99b)]&&(_0x56a109[_0x19c419(0x99b)]=_0x110e7a),_0xbbdbc6['element']===_0x56a109['tail']&&(_0x56a109[_0x19c419(0xb11)]=_0x110e7a),_0x26408a['set'](_0x5132a8,_0x239bf3)),!0x0):(_0x26408a['set'](_0x5132a8,_0x239bf3),!0x1);}(_0x59b1bf);},function(){const _0x205d74=a0_0x35be;_0x26408a[_0x205d74(0x320)]();});function _0x2a70f8(_0x2da5f1){const _0x5cb94a=a0_0x35be;if(_0x2da5f1&&_0x5cb94a(0x4a2)==typeof _0x2da5f1&&_0x2da5f1[_0x5cb94a(0x777)](_0x5cb94a(0x26d))&&_0x2da5f1[_0x5cb94a(0x777)]('messageType')&&_0x2da5f1['hasOwnProperty']('sourceId')){const _0x1a1c4b=_0x2da5f1;if(_0x1a1c4b['content']&&_0x5cb94a(0x4a2)==typeof _0x1a1c4b[_0x5cb94a(0x26d)]&&_0x1a1c4b[_0x5cb94a(0x26d)][_0x5cb94a(0x777)](_0x5cb94a(0x765))&&_0x1a1c4b[_0x5cb94a(0x26d)][_0x5cb94a(0x777)](_0x5cb94a(0x6b9)))return!0x0;}return!0x1;}return _0x56a109;}(new _0x115dcd(_0x50519f=>_0x449519[_0x2ad301(0xabc)](_0x50519f),()=>_0x35fbea[_0x2ad301(0x3a0)](0x64))));}[_0x273dd2(0xa0e)](_0x422a7f){const _0x4dcd00=_0x273dd2;this[_0x4dcd00(0x713)]['get'](_0x422a7f)?.(),this[_0x4dcd00(0x713)]['delete'](_0x422a7f),this[_0x4dcd00(0x577)][_0x4dcd00(0x266)](_0x422a7f[_0x4dcd00(0x7c0)]())?.[_0x4dcd00(0x320)](),this[_0x4dcd00(0x577)][_0x4dcd00(0x997)](_0x422a7f[_0x4dcd00(0x7c0)]());}[_0x273dd2(0x7b1)](_0x4970af){const _0x360995=_0x273dd2;return _0x58cca5[_0x360995(0x3a3)](_0x57ac86[_0x360995(0x570)],_0x360995(0x587),this[_0x360995(0x8cd)],this[_0x360995(0x713)][_0x360995(0x6ed)]()),0x0!==this[_0x360995(0x713)][_0x360995(0x85c)]&&(Array[_0x360995(0x668)](this[_0x360995(0x713)]['keys']())[_0x360995(0x77e)](_0x4a8b91=>_0x4a8b91['getRemoteId']()===_0x4970af)?.[_0x360995(0x7b1)]()??!0x1);}[_0x273dd2(0x56e)](_0x362974){const _0x50cfb4=_0x273dd2;this['dataTopics']['set'](_0x362974[_0x50cfb4(0xa73)](),_0x362974);}['unregisterPublisher'](_0x4719f2){const _0x4c101d=_0x273dd2;this[_0x4c101d(0x631)][_0x4c101d(0x997)](_0x4719f2[_0x4c101d(0xa73)]());}[_0x273dd2(0xb87)](_0x1adb92){const _0x504162=_0x273dd2,_0x1f62be=_0x1adb92[_0x504162(0x6f8)](this[_0x504162(0xabc)]['bind'](this));this['dataUnsubscribers'][_0x504162(0x68c)](_0x1adb92[_0x504162(0xa73)](),_0x1f62be);}[_0x273dd2(0x949)](_0x33357e){const _0x5c723a=_0x273dd2;this[_0x5c723a(0x9b0)][_0x5c723a(0x266)](_0x33357e[_0x5c723a(0xa73)]())?.(),this[_0x5c723a(0x9b0)]['delete'](_0x33357e['getLabel']());}[_0x273dd2(0x379)](){const _0x4d236f=_0x273dd2;return[_0x2a74a6[_0x4d236f(0x2a7)][_0x4d236f(0xa89)],_0x2a74a6['ContentType'][_0x4d236f(0x7b3)],_0x2a74a6[_0x4d236f(0x2a7)][_0x4d236f(0x870)],_0x2a74a6[_0x4d236f(0x2a7)][_0x4d236f(0x670)],_0x2a74a6['ContentType'][_0x4d236f(0x601)],_0x2a74a6['ContentType'][_0x4d236f(0xb15)],_0x2a74a6[_0x4d236f(0x2a7)][_0x4d236f(0xbc6)],_0x2a74a6[_0x4d236f(0x2a7)]['ExternalStorage']];}[_0x273dd2(0xabc)](_0x2f3a70){const _0x4f9f28=_0x273dd2;if(!0x1===_0x2f3a70[_0x4f9f28(0x9d1)]){if(_0x2f3a70[_0x4f9f28(0x860)]||!_0x2f3a70[_0x4f9f28(0x966)]||0x1!==_0x2f3a70[_0x4f9f28(0x966)][_0x4f9f28(0x830)])throw new _0x4b8523(_0x4b8523[_0x4f9f28(0xa20)][_0x4f9f28(0xa19)],{'message':_0x4f9f28(0x5a6),'localId':this['localId']});if(!this[_0x4f9f28(0x7b1)](_0x2f3a70['destinationIds'][0x0]))throw new _0x17e91b(_0x4f9f28(0x9c4));}const _0x4de495=_0x2f3a70[_0x4f9f28(0x326)]??[];try{const {filteredDestinationIds:_0x9b7c7e,extendedRecipients:_0x27298a}=this['updatePropagationProperties'](_0x2f3a70,_0x4de495);_0x2f3a70[_0x4f9f28(0x966)]=_0x9b7c7e,_0x2f3a70[_0x4f9f28(0x326)]=_0x27298a;}catch(_0x2d8a0c){if(_0x2d8a0c instanceof _0x17e91b)return void _0x58cca5[_0x4f9f28(0x3a3)](_0x57ac86[_0x4f9f28(0x79e)],_0x4f9f28(0xa00),_0x4f9f28(0x3b9),_0x2f3a70,_0x2d8a0c[_0x4f9f28(0x512)]);}const _0x2067f9=this['shouldContinuePropagation'](_0x2f3a70);this['logPropagateSystemEvent'](_0x2f3a70,_0x2067f9),_0x2f3a70[_0x4f9f28(0x860)]=_0x2067f9;const _0x16b2db=this[_0x4f9f28(0x5a2)](_0x2f3a70,_0x4de495);for(const _0x42595b of _0x16b2db){const _0x51bf50=this[_0x4f9f28(0x577)][_0x4f9f28(0x266)](_0x42595b[_0x4f9f28(0x7c0)]());if(!_0x51bf50)throw new _0x4b8523(_0x4b8523['codes'][_0x4f9f28(0x666)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this['localId'],'remoteId':_0x42595b[_0x4f9f28(0x7c0)](),'data':_0x2f3a70});_0x51bf50[_0x4f9f28(0x604)](_0x2f3a70);}}[_0x273dd2(0x7c0)](){return'';}['getLocalId'](){return this['localId'];}[_0x273dd2(0xb80)](_0x4fb139){const _0x41772f=_0x273dd2;return this[_0x41772f(0x429)][_0x41772f(0x6f8)](_0x4fb139);}[_0x273dd2(0x35a)](_0x35c12a,_0x260638){const _0x4fad8d=_0x273dd2,_0x19969f={'filteredDestinationIds':_0x35c12a[_0x4fad8d(0x966)],'extendedRecipients':_0x35c12a[_0x4fad8d(0x326)]};if(!_0x35c12a['propagate'])return _0x19969f;const _0x574810=Array[_0x4fad8d(0x668)](this['connections'][_0x4fad8d(0x6ed)]())[_0x4fad8d(0x57c)](_0x5e9174=>_0x5e9174['getConnectionType']()===_0x31bbcb[_0x4fad8d(0x772)]||_0x5e9174[_0x4fad8d(0x7b1)]())['map'](_0x38a803=>_0x38a803[_0x4fad8d(0x7c0)]());if(_0x574810[_0x4fad8d(0x97e)]((_0x1dc302,_0x35499c)=>_0x1dc302&&_0x35c12a[_0x4fad8d(0x326)][_0x4fad8d(0x4aa)](_0x35499c),!0x0))throw new _0x17e91b(_0x4fad8d(0x383));if(_0x35c12a[_0x4fad8d(0x966)]){const _0x453776=_0x35c12a[_0x4fad8d(0x966)]['filter'](_0x38580d=>_0x38580d!==this[_0x4fad8d(0x8cd)]&&!_0x35c12a['recipients'][_0x4fad8d(0x4aa)](_0x38580d));if(0x0===_0x453776[_0x4fad8d(0x830)])throw new _0x17e91b(_0x4fad8d(0x874));_0x19969f[_0x4fad8d(0x30c)]=_0x453776;}return _0x19969f[_0x4fad8d(0xa3e)]=[...new Set([..._0x260638,..._0x574810,this[_0x4fad8d(0x8cd)]])],_0x19969f;}[_0x273dd2(0xb28)](_0x455787,_0x53d52e=!0x1){const _0x4b56bf=_0x273dd2;if(0x0===_0x455787['topicLabel']&&!_0x32906e(_0x455787,this[_0x4b56bf(0x8cd)])&&_0x455787[_0x4b56bf(0x860)]){const _0xa54035=_0x570a44(_0x455787,this[_0x4b56bf(0x8cd)]);_0x58cca5['logRaw'](_0x57ac86[_0x4b56bf(0x520)],_0x455787[_0x4b56bf(0xb33)]+_0x4b56bf(0x299)+_0x53d52e+')\x20'+_0xa54035,_0x455787,_0x53d52e);}}['shouldContinuePropagation'](_0x5bbfc7){const _0x560ee8=_0x273dd2;if(_0x5bbfc7[_0x560ee8(0x966)]&&_0x5bbfc7['propagate']){const _0x31b5e5=Array['from'](this[_0x560ee8(0x713)][_0x560ee8(0x6ed)]())[_0x560ee8(0x57c)](_0x6c9e7d=>_0x6c9e7d[_0x560ee8(0x7db)]()===_0x31bbcb['Core']||_0x6c9e7d[_0x560ee8(0x7b1)]())['map'](_0x46e819=>_0x46e819['getRemoteId']());return!_0x5bbfc7['destinationIds'][_0x560ee8(0x97e)]((_0x1bbf2d,_0x1df7d6)=>_0x1bbf2d&&_0x31b5e5[_0x560ee8(0x4aa)](_0x1df7d6),!0x0);}return _0x5bbfc7[_0x560ee8(0x860)]??!0x1;}[_0x273dd2(0x5a2)](_0x5b53d0,_0x13d3fd){const _0x4e754e=_0x273dd2;if(_0x5b53d0[_0x4e754e(0x860)]&&_0x5b53d0[_0x4e754e(0x966)]){const _0x50eabc=Array[_0x4e754e(0x668)](this[_0x4e754e(0x713)][_0x4e754e(0x6ed)]())['filter'](_0x2d6c40=>_0x2d6c40['getConnectionType']()===_0x31bbcb['Core']||_0x2d6c40['isConnected']())[_0x4e754e(0xb48)](_0x4c0fd6=>_0x4c0fd6[_0x4e754e(0x7c0)]()),_0x52b77c=new Set(),_0x33f2a4=_0x5b53d0[_0x4e754e(0x6fd)]===this[_0x4e754e(0x8cd)]?0x3:0x1;return _0x5b53d0[_0x4e754e(0x966)]['forEach'](_0x36c295=>{const _0x17ba53=_0x4e754e,_0x457b60=this['graphService'][_0x17ba53(0xa1d)](_0x50eabc,_0x36c295);let _0x47b99e=0x0,_0x442ec7=0x0;_0x457b60[_0x17ba53(0xb9b)](_0x38b241=>{const _0x4c8b6f=_0x17ba53;if(_0x47b99e>=_0x33f2a4)return;const _0x5e1e98=Array['from'](this[_0x4c8b6f(0x713)]['keys']())[_0x4c8b6f(0x77e)](_0x150875=>_0x150875['getRemoteId']()===_0x38b241);if(_0x5e1e98){if(_0x5e1e98['getConnectionType']()===_0x31bbcb[_0x4c8b6f(0x772)]&&_0x442ec7>0x0)return void(_0x442ec7-=0x1);_0x52b77c[_0x4c8b6f(0xbf8)](_0x5e1e98),_0x5e1e98[_0x4c8b6f(0x7db)]()===_0x31bbcb['Optimization']&&(_0x442ec7+=0x1),_0x47b99e+=0x1;}});}),Array[_0x4e754e(0x668)](_0x52b77c);}return Array['from'](this[_0x4e754e(0x713)][_0x4e754e(0x6ed)]())['filter'](_0x4bac83=>{const _0x51e664=_0x4e754e;return _0x4cd1c3=_0x4bac83[_0x51e664(0x7c0)](),!_0x13d3fd[_0x51e664(0x4aa)](_0x4cd1c3)&&(_0x3cd66e(_0x5b53d0,_0x4cd1c3)||_0x5b53d0[_0x51e664(0x860)])&&(!_0x5b53d0[_0x51e664(0x860)]||_0x4bac83['isConnected']()||_0x4bac83[_0x51e664(0x7db)]()===_0x31bbcb['Core']);var _0x4cd1c3;});}}class _0x19254f{[_0x273dd2(0x8cd)];[_0x273dd2(0x49e)];[_0x273dd2(0x713)]=new Map();[_0x273dd2(0x2fb)];constructor(_0x1e6f6c,_0x5d6293){const _0x47c890=_0x273dd2;this[_0x47c890(0x8cd)]=_0x1e6f6c,this['messageBuffer']=_0x5d6293;}['close'](){}[_0x273dd2(0xabc)](_0x1c1310){const _0x268e6f=_0x273dd2;for(const _0x2d8871 of this['connections'][_0x268e6f(0x6ed)]())try{return void _0x2d8871[_0x268e6f(0xabc)]({'retry':!0x1,..._0x1c1310});}catch(_0x42ab2f){_0x42ab2f instanceof _0x17e91b||_0x58cca5[_0x268e6f(0x3a3)](_0x57ac86[_0x268e6f(0x88b)],_0x268e6f(0x7f6)+_0x2d8871,_0x42ab2f,_0x1c1310);}_0x58cca5[_0x268e6f(0x3a3)](_0x57ac86['Pool'],_0x268e6f(0x7bd));}[_0x273dd2(0x7ae)](_0x23ed36){const _0x11639d=_0x273dd2,_0x26e996=_0x23ed36[_0x11639d(0xb80)](_0x3f89dc=>{const _0x5ec0b9=_0x11639d;this['messageBuffer'][_0x5ec0b9(0x53c)](_0x3f89dc[_0x5ec0b9(0xb33)])||0x0===_0x3f89dc[_0x5ec0b9(0x4f1)]&&(this['messageBuffer']['addMessage'](_0x3f89dc['uuid']),_0x3cd66e(_0x3f89dc,this['localId'])&&this[_0x5ec0b9(0x2fb)]?.[_0x5ec0b9(0xb07)](_0x3f89dc));});this[_0x11639d(0x713)][_0x11639d(0x68c)](_0x23ed36,_0x26e996);}[_0x273dd2(0xa0e)](_0x5763f8){const _0x5e02f3=_0x273dd2;this[_0x5e02f3(0x713)][_0x5e02f3(0x266)](_0x5763f8)?.(),this[_0x5e02f3(0x713)][_0x5e02f3(0x997)](_0x5763f8);}[_0x273dd2(0xb1f)](){const _0x2d9b2b=_0x273dd2;return this[_0x2d9b2b(0x8cd)];}[_0x273dd2(0x7c0)](){return'';}['getSupportedContentTypes'](){const _0x45203e=_0x273dd2;return[_0x2a74a6[_0x45203e(0x2a7)]['Data']];}[_0x273dd2(0x7b1)](){throw new Error('Method\x20not\x20implemented.');}[_0x273dd2(0x32c)](_0x5aa3a4){this['systemTopic']=_0x5aa3a4;}['unregisterSystemPublisher'](){const _0x2552d5=_0x273dd2;delete this[_0x2552d5(0x2fb)];}}class _0x2d4491{[_0x273dd2(0x9da)]=new Map();[_0x273dd2(0x9dd)];constructor(){const _0x371165=_0x273dd2;this[_0x371165(0x9dd)]=_0x35fbea[_0x371165(0x794)](()=>{const _0x312d7e=_0x371165;for(const [_0x2d16c2,_0x5c9b74]of this['buffer'][_0x312d7e(0x59f)]())Date['now']()-_0x5c9b74>0x124f80&&this[_0x312d7e(0x9da)]['delete'](_0x2d16c2);},0x1d4c0);}['close'](){const _0x1907de=_0x273dd2;this[_0x1907de(0x9dd)]();}[_0x273dd2(0x9f3)](_0x1ca65b){const _0x34ee39=_0x273dd2;this[_0x34ee39(0x9da)][_0x34ee39(0x68c)](_0x1ca65b,Date[_0x34ee39(0x3a1)]());}[_0x273dd2(0x53c)](_0x52bef6){const _0x5e605b=_0x273dd2;return this[_0x5e605b(0x9da)][_0x5e605b(0xb9f)](_0x52bef6);}}class _0x161054{[_0x273dd2(0x4b1)];['authService'];[_0x273dd2(0x355)];['options'];[_0x273dd2(0x713)]=new Map();['connectionPool'];[_0x273dd2(0x748)];['signalingServer'];[_0x273dd2(0x49e)];constructor(_0x1f69f2,_0x525313,_0x1b061a,_0x295c5d,_0x20bd08){const _0x2ca4a2=_0x273dd2;this[_0x2ca4a2(0x4b1)]=_0x1f69f2,this[_0x2ca4a2(0x9a3)]=_0x525313,this[_0x2ca4a2(0x355)]=_0x295c5d,this[_0x2ca4a2(0x924)]=_0x20bd08,this[_0x2ca4a2(0x49e)]=new _0x2d4491(),this[_0x2ca4a2(0x748)]=new _0x4dc356(this[_0x2ca4a2(0x4b1)]['localNode'][_0x2ca4a2(0xb9d)](),this[_0x2ca4a2(0x49e)],_0x1b061a),this['signalingServer']=new _0x55fb77(this['configs'][_0x2ca4a2(0x300)],this[_0x2ca4a2(0x4b1)]['clusterId'],this[_0x2ca4a2(0x4b1)]['localNode'],_0x2ca4a2(0x735),this[_0x2ca4a2(0x9a3)]),this[_0x2ca4a2(0xa2a)]=new _0x19254f(this[_0x2ca4a2(0x4b1)][_0x2ca4a2(0x61b)][_0x2ca4a2(0xb9d)](),this['messageBuffer']),this[_0x2ca4a2(0xa2a)][_0x2ca4a2(0x7ae)](this[_0x2ca4a2(0x748)]),this[_0x2ca4a2(0xa2a)]['addConnection'](this[_0x2ca4a2(0x6e7)]),this[_0x2ca4a2(0x4b1)]['mediator']['registerSystemSource'](this[_0x2ca4a2(0xa2a)]);}['close'](){const _0xc3c94f=_0x273dd2;this['messageBuffer'][_0xc3c94f(0x210)](),this[_0xc3c94f(0x713)][_0xc3c94f(0xb9b)]((_0x4f7e8f,_0x1890d3)=>this['closeConnection'](_0x1890d3)),this['configs'][_0xc3c94f(0x927)][_0xc3c94f(0xb49)](this[_0xc3c94f(0xa2a)]),this[_0xc3c94f(0xa2a)][_0xc3c94f(0xa0e)](this[_0xc3c94f(0x6e7)]),this[_0xc3c94f(0xa2a)][_0xc3c94f(0xa0e)](this['connectionGroup']),this[_0xc3c94f(0xa2a)][_0xc3c94f(0x210)](),this['signalingServer'][_0xc3c94f(0x210)](),this[_0xc3c94f(0x748)]['close']();}async['initialize'](){const _0x58a753=_0x273dd2;await this['signalingServer'][_0x58a753(0x892)]();}async['createConnection'](_0x379265,_0x4502f7=_0x31bbcb[_0x273dd2(0x772)]){const _0x28ded4=_0x273dd2;if(this[_0x28ded4(0x713)][_0x28ded4(0xb9f)](_0x379265)){if(this[_0x28ded4(0x713)][_0x28ded4(0x266)](_0x379265)?.[_0x28ded4(0x7db)]()===_0x31bbcb[_0x28ded4(0x94c)]&&_0x4502f7===_0x31bbcb[_0x28ded4(0x772)])return void this[_0x28ded4(0x713)][_0x28ded4(0x266)](_0x379265)?.[_0x28ded4(0x7b5)](_0x31bbcb[_0x28ded4(0x772)]);throw new _0x4b8523(_0x4b8523[_0x28ded4(0xa20)]['RemoteConnectionExists'],{'localId':this[_0x28ded4(0x4b1)][_0x28ded4(0x61b)][_0x28ded4(0xb9d)](),'remoteId':_0x379265});}const _0x1f1feb=new _0x463bde(this[_0x28ded4(0x4b1)][_0x28ded4(0x78c)],this[_0x28ded4(0x4b1)][_0x28ded4(0x61b)],_0x379265,this[_0x28ded4(0x355)],_0x4502f7,this['options'][_0x28ded4(0x428)],this[_0x28ded4(0x924)][_0x28ded4(0xa45)],this[_0x28ded4(0x924)]['peerConnectionConnector']);this['connections'][_0x28ded4(0x68c)](_0x379265,_0x1f1feb),this[_0x28ded4(0x748)][_0x28ded4(0x7ae)](_0x1f1feb),this['configs'][_0x28ded4(0x927)]['registerSystemSource'](_0x1f1feb),this[_0x28ded4(0x4b1)]['mediator']['registerRemoteNode'](_0x379265),await _0x1f1feb['connect']();}['getConnectionGroup'](){const _0x3e4b78=_0x273dd2;return this[_0x3e4b78(0x748)];}[_0x273dd2(0xa79)](_0x1d6656){const _0x3c6d96=_0x273dd2;if(!this['connections']['has'](_0x1d6656))throw new _0x4b8523(_0x4b8523['codes'][_0x3c6d96(0x398)],{'localId':this[_0x3c6d96(0x4b1)][_0x3c6d96(0x61b)][_0x3c6d96(0xb9d)](),'remoteId':_0x1d6656});return this[_0x3c6d96(0x713)]['get'](_0x1d6656);}['getConnections'](_0x289114){const _0x54e1db=_0x273dd2,_0x291fca=Array[_0x54e1db(0x668)](this[_0x54e1db(0x713)][_0x54e1db(0x2e7)]());return _0x289114?_0x291fca[_0x54e1db(0x57c)](_0x289114):_0x291fca;}async[_0x273dd2(0x89f)](_0x5f4b77){const _0x335745=_0x273dd2,_0x41d752=this[_0x335745(0x713)]['get'](_0x5f4b77);_0x41d752&&_0x41d752[_0x335745(0x7b1)]()&&await _0x41d752[_0x335745(0x89f)]();}[_0x273dd2(0x5c2)](_0x37cd09){const _0x3acf09=_0x273dd2;if(_0x37cd09['messageType']!==_0xe6fd3b[_0x3acf09(0x639)]||_0x37cd09[_0x3acf09(0x860)])try{this['connectionGroup']['send'](_0x37cd09);}catch(_0x21f2b2){if(_0x21f2b2 instanceof _0x17e91b)return;throw _0x21f2b2;}else this['connectionPool']['send'](_0x37cd09);}async[_0x273dd2(0x92a)](_0x4f5d63){const _0x34f7f0=_0x273dd2;switch(_0x4f5d63[_0x34f7f0(0x26d)][_0x34f7f0(0x6b9)]){case _0x3da868[_0x34f7f0(0x82b)]:case _0x3da868[_0x34f7f0(0x336)]:case _0x3da868[_0x34f7f0(0x9ac)]:return;}if(!_0x4f5d63[_0x34f7f0(0x966)]||0x1!==_0x4f5d63[_0x34f7f0(0x966)][_0x34f7f0(0x830)])throw new _0x4b8523(_0x4b8523[_0x34f7f0(0xa20)][_0x34f7f0(0x1e8)],{'message':_0x34f7f0(0x206),'event':_0x4f5d63});if(_0x4f5d63[_0x34f7f0(0x966)][0x0]!==this[_0x34f7f0(0x4b1)][_0x34f7f0(0x61b)][_0x34f7f0(0xb9d)]())throw new _0x4b8523(_0x4b8523[_0x34f7f0(0xa20)][_0x34f7f0(0x1e8)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x4f5d63});if(!this['connections']['has'](_0x4f5d63[_0x34f7f0(0x6fd)])){let _0x3f0f4a=_0x31bbcb[_0x34f7f0(0x772)];if(!(this[_0x34f7f0(0x82d)](_0x4f5d63['content'])||this[_0x34f7f0(0x4dd)](_0x4f5d63[_0x34f7f0(0x26d)])||this['isNeedRestart'](_0x4f5d63['content'])))return;_0x3f0f4a=_0x4f5d63[_0x34f7f0(0x26d)][_0x34f7f0(0x35d)],await this['createConnection'](_0x4f5d63[_0x34f7f0(0x6fd)],_0x3f0f4a);}const _0x579f89=this[_0x34f7f0(0x713)][_0x34f7f0(0x266)](_0x4f5d63[_0x34f7f0(0x6fd)]);await _0x579f89[_0x34f7f0(0x92a)](_0x4f5d63);}[_0x273dd2(0x5ad)](_0x3dfb66){const _0x54af21=_0x273dd2;if(_0x3dfb66['content'][_0x54af21(0x6b9)]===_0x2ea71a[_0x54af21(0x8f5)]){if(_0x3dfb66[_0x54af21(0x26d)][_0x54af21(0x2ca)]===this['configs'][_0x54af21(0x61b)][_0x54af21(0xb9d)]())return void this['connections'][_0x54af21(0xb9b)](_0x400a85=>_0x400a85['handleRemediationSystemEvents'](_0x3dfb66));this[_0x54af21(0x713)][_0x54af21(0x266)](_0x3dfb66[_0x54af21(0x26d)]['targetId'])?.['handleRemediationSystemEvents'](_0x3dfb66);}}[_0x273dd2(0x2b3)]({content:_0x66ea39}){const _0x32ac1d=_0x273dd2;_0x66ea39['type']===_0x18e010['NodeLeave']&&this[_0x32ac1d(0x871)](_0x66ea39['id']);}['waitForArrayBufferSize'](){const _0x4a3ddd=_0x273dd2,_0x55e2f6=Array['from'](this[_0x4a3ddd(0x713)]['values']())[_0x4a3ddd(0x97e)]((_0x399eb1,_0x27cfae)=>_0x399eb1+_0x27cfae['calculateArrayBufferSize'](),0x0);return _0x55e2f6<_0x52f04e?Promise[_0x4a3ddd(0xbaf)](_0x55e2f6):new Promise(_0x591d81=>{const _0x326318=setInterval(()=>{const _0x3654ff=a0_0x35be,_0x1a6ab9=Array['from'](this[_0x3654ff(0x713)][_0x3654ff(0x2e7)]())['reduce']((_0x39f9d5,_0x5dcdad)=>_0x39f9d5+_0x5dcdad['calculateArrayBufferSize'](),0x0);_0x1a6ab9<_0x52f04e&&(clearInterval(_0x326318),_0x591d81(_0x1a6ab9));},0x3e8);});}[_0x273dd2(0x4e3)](){const _0x1b1d6f=_0x273dd2;for(const _0x594563 of this[_0x1b1d6f(0x713)][_0x1b1d6f(0x2e7)]())if(_0x594563['getBufferedAmount']()>0x0||_0x594563['calculateArrayBufferSize']()>0x0)return!0x0;return!0x1;}[_0x273dd2(0x871)](_0x3c52f5){const _0x42b78a=_0x273dd2,_0x334361=this[_0x42b78a(0x713)]['get'](_0x3c52f5);_0x334361&&(this[_0x42b78a(0x4b1)][_0x42b78a(0x927)][_0x42b78a(0xa0f)](_0x3c52f5),this[_0x42b78a(0x4b1)]['mediator'][_0x42b78a(0xb49)](_0x334361),_0x334361 instanceof _0x463bde&&this[_0x42b78a(0x748)][_0x42b78a(0xa0e)](_0x334361),_0x334361[_0x42b78a(0x210)](),this[_0x42b78a(0x713)][_0x42b78a(0x997)](_0x3c52f5));}[_0x273dd2(0x82d)](_0x1035f5){const _0x3fa80e=_0x273dd2;return _0x1035f5[_0x3fa80e(0x6b9)]===_0x3da868['Offer'];}['isNeedRestart'](_0x26646e){const _0x427899=_0x273dd2;return _0x26646e[_0x427899(0x6b9)]===_0x3da868[_0x427899(0x274)];}['isIceCandidate'](_0x78a123){const _0x31d03d=_0x273dd2;return _0x78a123[_0x31d03d(0x6b9)]===_0x3da868['Handshake'];}}!function(_0x3c345d){const _0x4c3ebc=_0x273dd2;_0x3c345d[_0x3c345d[_0x4c3ebc(0x552)]=0x0]=_0x4c3ebc(0x552),_0x3c345d[_0x3c345d[_0x4c3ebc(0xa29)]=0x1]=_0x4c3ebc(0xa29),_0x3c345d[_0x3c345d[_0x4c3ebc(0x2ac)]=0x2]=_0x4c3ebc(0x2ac),_0x3c345d[_0x3c345d[_0x4c3ebc(0x3bc)]=0x3]=_0x4c3ebc(0x3bc),_0x3c345d[_0x3c345d[_0x4c3ebc(0x5b4)]=0x4]=_0x4c3ebc(0x5b4),_0x3c345d[_0x3c345d[_0x4c3ebc(0x7c5)]=0x5]=_0x4c3ebc(0x7c5),_0x3c345d[_0x3c345d[_0x4c3ebc(0x4b9)]=0x6]=_0x4c3ebc(0x4b9),_0x3c345d[_0x3c345d[_0x4c3ebc(0xa6d)]=0x7]='MediaStreamUnavailable';}(_0x7c8d65||(_0x7c8d65={}));class _0x3c5cfd extends _0x37e41d{[_0x273dd2(0x61b)];[_0x273dd2(0x78c)];[_0x273dd2(0x300)];[_0x273dd2(0x4d4)];[_0x273dd2(0x9a2)];[_0x273dd2(0xa36)]=0x0;[_0x273dd2(0xa04)];[_0x273dd2(0xb4b)]=_0x2d1945();['listenerUnsubscribers']=new Map();[_0x273dd2(0x52f)];constructor(_0x41baef,_0x2c1bc2,_0x5b8fcb,_0x2f0e0c,_0x59b4a6){const _0x28d365=_0x273dd2;if(_0x28d365(0x563)!=typeof _0x2c1bc2)throw new _0x3371e7(_0x4c9695[_0x28d365(0x645)],_0x28d365(0x9a5));super(_0x41baef,_0x2c1bc2),this[_0x28d365(0x61b)]=_0x41baef,this[_0x28d365(0x78c)]=_0x5b8fcb,this['vendorId']=_0x2f0e0c,this[_0x28d365(0x4d4)]=_0x59b4a6,this[_0x28d365(0x844)]();}[_0x273dd2(0x553)](){const _0x2df4ce=_0x273dd2;this[_0x2df4ce(0x52f)]?.(),this['listenerUnsubscribers'][_0x2df4ce(0xb9b)](_0x18c1f6=>_0x18c1f6()),clearTimeout(this[_0x2df4ce(0x9a2)]),delete this[_0x2df4ce(0x9a2)],super['destroy']();}[_0x273dd2(0x3da)](){const _0x1d071d=_0x273dd2;this[_0x1d071d(0x844)]();}[_0x273dd2(0x210)](){const _0x4ceefe=_0x273dd2;this[_0x4ceefe(0x2fb)][_0x4ceefe(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a[_0x4ceefe(0x377)],'label':this[_0x4ceefe(0x51b)]}});}[_0x273dd2(0x54c)](){const _0xaf54ae=_0x273dd2;return _0x2a74a6[_0xaf54ae(0x2a7)][_0xaf54ae(0x61f)];}async[_0x273dd2(0x266)](_0x3b5c89){const _0x10b8aa=_0x273dd2;if(!this[_0x10b8aa(0xa04)])throw new _0x3371e7(_0x4c9695['ExternalStorageConnectorsMissing'],_0x10b8aa(0x5ee));_0x58cca5[_0x10b8aa(0x7ea)](_0x37519b['ExternalStorage'],{'type':_0x10b8aa(0x266),'label':this['label'],'nodeId':this[_0x10b8aa(0x61b)][_0x10b8aa(0xb9d)](),'nodeType':this[_0x10b8aa(0x61b)][_0x10b8aa(0x6b9)],'clusterId':this[_0x10b8aa(0x78c)],'path':_0x3b5c89}),this[_0x10b8aa(0xa36)]+=0x1,this[_0x10b8aa(0x844)]();try{return await this[_0x10b8aa(0xa04)][_0x10b8aa(0x266)](_0x3b5c89);}catch(_0x3d2b5d){throw new _0x3371e7(_0x4c9695['ExternalStorageInvalidPath'],_0x10b8aa(0x7f2)+_0x3b5c89);}}async[_0x273dd2(0x916)](_0x19daa2,_0x12423e){const _0x36762c=_0x273dd2;if(!this[_0x36762c(0xa04)])throw new _0x3371e7(_0x4c9695['ExternalStorageConnectorsMissing'],_0x36762c(0x1e1));const {recursive:_0x342b65=!0x1}=_0x12423e??{};_0x58cca5['logServiceEvent'](_0x37519b[_0x36762c(0x61f)],{'type':_0x36762c(0x916),'label':this[_0x36762c(0x51b)],'nodeId':this[_0x36762c(0x61b)][_0x36762c(0xb9d)](),'nodeType':this[_0x36762c(0x61b)][_0x36762c(0x6b9)],'clusterId':this[_0x36762c(0x78c)],'path':_0x19daa2}),this['reads']+=0x1,this[_0x36762c(0x844)]();try{return await this['connector'][_0x36762c(0x916)](_0x19daa2,_0x342b65);}catch(_0x1d47dd){throw new _0x3371e7(_0x4c9695[_0x36762c(0xc0e)],'Cannot\x20list\x20directory:\x20'+_0x19daa2);}}['subscribe'](_0x43af0d,_0x3b73d4){const _0x1c66e0=_0x273dd2;if(this[_0x1c66e0(0xb6f)]['has'](_0x43af0d))throw new _0x3371e7(_0x4c9695[_0x1c66e0(0x602)],_0x1c66e0(0xbca));this[_0x1c66e0(0xb6f)]['set'](_0x43af0d,this[_0x1c66e0(0xb4b)][_0x1c66e0(0x6f8)](_0x3b73d4));}[_0x273dd2(0xbf5)](_0x463a2f){const _0x3284d6=_0x273dd2;this[_0x3284d6(0xb6f)][_0x3284d6(0x266)](_0x463a2f)?.(),this['listenerUnsubscribers'][_0x3284d6(0x997)](_0x463a2f);}async[_0x273dd2(0x485)](){const _0x2f7c18=_0x273dd2,_0x378b3f=(await(0x0,_0x5dec29[_0x2f7c18(0x5e0)])((0x0,_0x5dec29[_0x2f7c18(0x6c8)])(_0x4d7ce4[_0x2f7c18(0x4c1)](),_0x2f7c18(0x9a4)+this['vendorId']+_0x2f7c18(0xb29)+this[_0x2f7c18(0x51b)])))[_0x2f7c18(0x9b6)]();if(!_0x378b3f)throw new _0x3371e7(_0x4c9695[_0x2f7c18(0x8be)],_0x2f7c18(0x39c)+this[_0x2f7c18(0x51b)]);const {site:_0x13ef3c,drive:_0x598329}=_0x378b3f,_0x184cef=(await(0x0,_0x11558b[_0x2f7c18(0x6e8)])(_0x4d7ce4['getFunctions'](),'msalGetAccessToken')({'storageId':this[_0x2f7c18(0x51b)]}))[_0x2f7c18(0x9b6)][_0x2f7c18(0x807)];this['connector']=new this['connectorConstructor'](_0x13ef3c['id'],_0x598329['id'],_0x184cef,async()=>(await(0x0,_0x11558b[_0x2f7c18(0x6e8)])(_0x4d7ce4[_0x2f7c18(0x53d)](),_0x2f7c18(0x451))({'storageId':this['label']}))[_0x2f7c18(0x9b6)]['accessToken']),this[_0x2f7c18(0x2cb)]();}[_0x273dd2(0x844)](){const _0x4388d5=_0x273dd2;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x4388d5(0x9a2)]=setTimeout(async()=>{const _0x2f9170=_0x4388d5;delete this['debounceStats'],this[_0x2f9170(0x2fb)][_0x2f9170(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a['ExternalStorageStats'],'label':this[_0x2f9170(0x51b)],'stats':{'timestamp':Date[_0x2f9170(0x3a1)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0xcc772);}async[_0x273dd2(0x2cb)](){const _0x12f5ee=_0x273dd2;await this[_0x12f5ee(0xa04)]?.['listChanges'](),this[_0x12f5ee(0x52f)]=_0x35fbea[_0x12f5ee(0x794)](async()=>{const _0x3eab4f=_0x12f5ee;try{if(!this[_0x3eab4f(0xa04)])return;const _0x86f977=await this['connector'][_0x3eab4f(0x99c)]();for(const _0x5cd1c0 of _0x86f977)this[_0x3eab4f(0xb4b)][_0x3eab4f(0xb07)](_0x5cd1c0);}catch(_0x359bd3){}},0x493e0);}}const _0x5cea22=require('rxjs');class _0x22b2be extends _0x37e41d{['graphService'];['jobs']=new Map();[_0x273dd2(0xb26)]=new Map();[_0x273dd2(0x52a)]=new Map();[_0x273dd2(0x9dd)];constructor(_0x1f4ccb,_0x498eb0,_0x4d8b90){const _0x5d49e0=_0x273dd2;super(_0x1f4ccb,_0x498eb0),this[_0x5d49e0(0xc01)]=_0x4d8b90;}[_0x273dd2(0x54c)](){const _0x236fc4=_0x273dd2;return _0x2a74a6[_0x236fc4(0x2a7)][_0x236fc4(0x601)];}[_0x273dd2(0x485)](){const _0x1ffa5f=_0x273dd2;this[_0x1ffa5f(0x9dd)]=this['onMessage']((_0x51d0ca,_0x23111d)=>{const _0x1a96bd=_0x1ffa5f;if(_0x58cca5[_0x1a96bd(0x3a3)](_0x57ac86[_0x1a96bd(0x3d4)],_0x1a96bd(0x42d),_0x51d0ca,_0x23111d,this[_0x1a96bd(0xc01)][_0x1a96bd(0x942)]()),!(_0x23111d instanceof File)){if(!_0x23111d)throw new _0x4b8523(_0x4b8523[_0x1a96bd(0xa20)][_0x1a96bd(0x544)]);return this['isBidResponse'](_0x23111d)?this['addBidResponse'](_0x51d0ca,_0x23111d['id'],_0x23111d):this[_0x1a96bd(0xb81)](_0x23111d)?(_0x58cca5['log'](_0x57ac86[_0x1a96bd(0x3d4)],_0x1a96bd(0xa0d)+_0x23111d['id']+'\x20received\x20partial\x20result:',_0x23111d[_0x1a96bd(0x824)]),void this[_0x1a96bd(0x7e2)](_0x23111d['id'],_0x23111d)):this['isResultResponse'](_0x23111d)?(_0x58cca5[_0x1a96bd(0x3a3)](_0x57ac86['Jobs'],_0x1a96bd(0xa0d)+_0x23111d['id']+_0x1a96bd(0x2ce),_0x23111d[_0x1a96bd(0x824)]),void this[_0x1a96bd(0x813)](_0x23111d['id'],_0x23111d)):void(this['isFailedResponse'](_0x23111d)&&this[_0x1a96bd(0x459)](_0x23111d['id'],_0x23111d[_0x1a96bd(0x512)]));}});}[_0x273dd2(0x3da)](){this['clear'](),this['open']();}[_0x273dd2(0x553)](){const _0x363495=_0x273dd2;this[_0x363495(0x320)](),super[_0x363495(0x553)]();}[_0x273dd2(0x320)](){const _0x32665f=_0x273dd2;this[_0x32665f(0x2c0)][_0x32665f(0x320)](),this[_0x32665f(0x9dd)]&&this[_0x32665f(0x9dd)]();}[_0x273dd2(0x210)](){const _0x53521b=_0x273dd2;this[_0x53521b(0x2fb)]?.['publish']({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a[_0x53521b(0x39e)],'label':this[_0x53521b(0x51b)]}});}async[_0x273dd2(0xc0c)](_0x4b9751){const _0x4911bf=_0x273dd2,{id:_0x267b3d,parameters:_0x41cbaf,jobType:_0x240ae2}=_0x4b9751,_0x177473={'id':_0x267b3d,'jobType':_0x240ae2,'parameters':_0x41cbaf,'status':_0x2a74a6[_0x4911bf(0x5fb)][_0x4911bf(0x8c1)],'created':new Date(),'updated':new Date()};if(this[_0x4911bf(0x2c0)]['has'](_0x177473['id']))throw new _0x3371e7(_0x4c9695['JobDispatcherJobExists'],_0x4911bf(0x37f)+_0x177473['id']+_0x4911bf(0xa8e));_0x177473[_0x4911bf(0x5b6)]=new Date(),_0x177473['updated']=new Date();const _0xc2398d=new _0x5cea22['Subject']();this['jobs'][_0x4911bf(0x68c)](_0x177473['id'],_0x177473),this[_0x4911bf(0xb26)][_0x4911bf(0x68c)](_0x177473['id'],_0xc2398d);try{const _0x2f541c={'id':_0x177473['id'],'jobPhase':_0x2b0fe1[_0x4911bf(0x876)],'jobType':_0x177473[_0x4911bf(0x714)]},_0x22367f=0x3;let _0x16917a=0x0;const _0x4cf5aa=async()=>{const _0x19e111=_0x4911bf;_0x16917a+=0x1;try{_0x58cca5[_0x19e111(0x3a3)](_0x57ac86[_0x19e111(0x3d4)],_0x19e111(0xa0d)+_0x177473['id']+_0x19e111(0x52e)+_0x16917a+'.',this['graphService'][_0x19e111(0x942)]()),await this[_0x19e111(0xabc)](_0x2f541c),_0x177473[_0x19e111(0x726)]=new Date(),this['jobs']['set'](_0x177473['id'],_0x177473),this[_0x19e111(0x445)](_0x177473['id']);}catch(_0x3ab90f){_0x16917a<_0x22367f?(_0x58cca5[_0x19e111(0x673)](_0x19e111(0xb8d)+_0x16917a+_0x19e111(0x5d3)+_0x177473['id']+_0x19e111(0x2b5),{'nodeId':this[_0x19e111(0x7c6)][_0x19e111(0xb9d)](),'nodeType':this['owner']['type'],'data':{'job':_0x177473,'attempts':_0x16917a,'maxRetries':_0x22367f}}),setTimeout(_0x4cf5aa,0x3e8)):(_0x177473[_0x19e111(0x3f4)]=_0x2a74a6[_0x19e111(0x5fb)][_0x19e111(0x8d3)],_0x177473[_0x19e111(0x726)]=new Date(),this[_0x19e111(0x2c0)][_0x19e111(0x68c)](_0x177473['id'],_0x177473),_0x58cca5[_0x19e111(0x5c5)](_0x19e111(0xbed)+_0x177473['id']+'\x20after\x20'+_0x22367f+'\x20attempts:',{'nodeId':this[_0x19e111(0x7c6)]['getId'](),'nodeType':this[_0x19e111(0x7c6)][_0x19e111(0x6b9)],'data':{'job':_0x177473,'attempts':_0x16917a,'maxRetries':_0x22367f,'error':_0x3ab90f}}));}};_0x4cf5aa();const {id:_0x5a49ab}=_0x177473;this['logEvent'](_0x4911bf(0xa0d)+_0x177473['id']+_0x4911bf(0x984),{'jobId':_0x5a49ab}),_0x177473[_0x4911bf(0x726)]=new Date();}catch(_0x22891d){_0x177473['status']=_0x2a74a6['JobStatus'][_0x4911bf(0x8d3)],_0x58cca5[_0x4911bf(0x5c5)](_0x4911bf(0xbed)+_0x177473['id']+':',{'nodeId':this[_0x4911bf(0x7c6)]['getId'](),'nodeType':this[_0x4911bf(0x7c6)][_0x4911bf(0x6b9)],'data':{'job':_0x177473,'error':_0x22891d}});}return _0xc2398d[_0x4911bf(0x882)]();}['getJob'](_0x2152e4){const _0xc4fc5c=_0x273dd2,_0x31bf26=this['jobs'][_0xc4fc5c(0x266)](_0x2152e4);if(!_0x31bf26)throw new _0x3371e7(_0x4c9695[_0xc4fc5c(0x238)],_0xc4fc5c(0x37f)+_0x2152e4+_0xc4fc5c(0xafb));return{'id':_0x31bf26['id'],'jobType':_0x31bf26[_0xc4fc5c(0x714)],'status':_0x31bf26['status'],'parameters':_0x31bf26['parameters']};}['getJobs'](){const _0x4a2c91=_0x273dd2;return Array['from'](this[_0x4a2c91(0x2c0)][_0x4a2c91(0x2e7)]())[_0x4a2c91(0xb48)](_0x3cd2dc=>this[_0x4a2c91(0xa13)](_0x3cd2dc['id']));}async[_0x273dd2(0x304)](_0x63b1d8,_0x2f7165){const _0x43cf40=_0x273dd2,_0x31e8b1=this[_0x43cf40(0x2c0)][_0x43cf40(0x266)](_0x63b1d8);if(!_0x31e8b1)throw new _0x3371e7(_0x4c9695['JobDispatcherJobNotFound'],_0x43cf40(0x37f)+_0x63b1d8+'\x20not\x20found.');_0x31e8b1[_0x43cf40(0xbd2)]=_0x2f7165,_0x31e8b1[_0x43cf40(0x726)]=new Date(),this[_0x43cf40(0x2c0)][_0x43cf40(0x68c)](_0x63b1d8,_0x31e8b1);}async[_0x273dd2(0x28d)](_0x177feb){const _0x338498=_0x273dd2;if(!this[_0x338498(0x2c0)][_0x338498(0x997)](_0x177feb))throw new _0x3371e7(_0x4c9695[_0x338498(0x238)],_0x338498(0x37f)+_0x177feb+_0x338498(0xafb));const _0x38210b=this[_0x338498(0xb26)][_0x338498(0x266)](_0x177feb);if(!_0x38210b)throw new _0x4b8523(_0x4b8523['codes'][_0x338498(0xaa5)]);_0x38210b[_0x338498(0x803)](),this[_0x338498(0xb26)][_0x338498(0x997)](_0x177feb),_0x58cca5['log'](_0x57ac86[_0x338498(0x3d4)],_0x338498(0xa0d)+_0x177feb+_0x338498(0x43a));}[_0x273dd2(0x623)](_0x52d83d,_0x4ff294,_0xdf2ec1){const _0xbc7cfb=_0x273dd2,_0xa432ec=this[_0xbc7cfb(0x52a)][_0xbc7cfb(0x266)](_0x4ff294)??new Map();_0xa432ec[_0xbc7cfb(0x68c)](_0x52d83d,[_0xdf2ec1,Date[_0xbc7cfb(0x3a1)]()]),this[_0xbc7cfb(0x52a)]['set'](_0x4ff294,_0xa432ec),this['evaluateBidsAndAttributeJob'](_0x4ff294);}[_0x273dd2(0x445)](_0x2feaf1){const _0x2fcbaf=_0x273dd2,_0x2d16e5=this[_0x2fcbaf(0x2c0)][_0x2fcbaf(0x266)](_0x2feaf1);if(!_0x2d16e5)throw new _0x4b8523(_0x4b8523[_0x2fcbaf(0xa20)][_0x2fcbaf(0x238)]);const _0x1cc3af=setTimeout(()=>this[_0x2fcbaf(0x5e5)](_0x2feaf1,!0x0),0xbb8);_0x2d16e5[_0x2fcbaf(0x5bc)]=_0x1cc3af,this[_0x2fcbaf(0x2c0)][_0x2fcbaf(0x68c)](_0x2d16e5['id'],_0x2d16e5);}[_0x273dd2(0x5e5)](_0x57e075,_0x53b5c2=!0x1){const _0x37af0a=_0x273dd2,_0x4178eb=this['graphService']['getRemoteNodes'](),_0x2e32fc=Array[_0x37af0a(0x668)](_0x4178eb[_0x37af0a(0x2e7)]())['filter'](_0xb003bf=>_0xb003bf[_0x37af0a(0x6b9)]===_0x2a74a6[_0x37af0a(0x6e3)]['Agent']),_0x245514=this[_0x37af0a(0x52a)][_0x37af0a(0x266)](_0x57e075)??new Map();if(!_0x53b5c2&&(!_0x245514||_0x245514['size']<_0x2e32fc[_0x37af0a(0x830)]))return;const _0x31fd2e=this[_0x37af0a(0x2c0)][_0x37af0a(0x266)](_0x57e075);if(!_0x31fd2e)throw new _0x4b8523(_0x4b8523['codes']['JobDispatcherJobNotFound']);if(clearTimeout(_0x31fd2e[_0x37af0a(0x5bc)]),_0x58cca5[_0x37af0a(0x3a3)](_0x57ac86['Jobs'],'Job\x20'+_0x31fd2e['id']+_0x37af0a(0x2ed),_0x245514,this[_0x37af0a(0x52a)]),!_0x245514||0x0===_0x245514[_0x37af0a(0x85c)]){_0x31fd2e['status']=_0x2a74a6['JobStatus'][_0x37af0a(0x8d3)],_0x31fd2e['updated']=new Date(),_0x58cca5['error']('Job\x20'+_0x31fd2e['id']+_0x37af0a(0x6a0),{'nodeId':this['owner'][_0x37af0a(0xb9d)](),'nodeType':this[_0x37af0a(0x7c6)][_0x37af0a(0x6b9)],'data':{'job':_0x31fd2e,'responses':_0x245514}});const _0x508716=this['jobObservers'][_0x37af0a(0x266)](_0x57e075);if(!_0x508716)throw new _0x4b8523(_0x4b8523[_0x37af0a(0xa20)][_0x37af0a(0xaa5)]);const _0x3ad54e=_0x37af0a(0x67c),_0x2a1734={'id':_0x31fd2e['id'],'status':_0x31fd2e[_0x37af0a(0x3f4)],'message':_0x3ad54e};return _0x508716['next'](_0x2a1734),_0x508716['complete'](),this[_0x37af0a(0x2c0)][_0x37af0a(0x68c)](_0x31fd2e['id'],_0x31fd2e),void this[_0x37af0a(0x52a)][_0x37af0a(0x997)](_0x57e075);}const {nodeId:_0x403137,response:_0x52ed20}=this[_0x37af0a(0x2b0)](_0x31fd2e['id'],_0x245514);_0x31fd2e['status']=_0x2a74a6[_0x37af0a(0x5fb)]['Processing'],_0x31fd2e[_0x37af0a(0x726)]=new Date(),_0x58cca5['log'](_0x57ac86[_0x37af0a(0x3d4)],_0x37af0a(0xa0d)+_0x31fd2e['id']+_0x37af0a(0x718)+_0x403137+_0x37af0a(0x73b),_0x52ed20);const _0x1a1b09={'id':_0x31fd2e['id'],'jobType':_0x31fd2e[_0x37af0a(0x714)],'jobPhase':_0x2b0fe1['Attribution'],'parameters':_0x31fd2e[_0x37af0a(0xbd2)]};this[_0x37af0a(0xabc)](_0x1a1b09,[_0x403137]),this[_0x37af0a(0x2c0)][_0x37af0a(0x68c)](_0x31fd2e['id'],_0x31fd2e),this['jobBids'][_0x37af0a(0x997)](_0x57e075);}['evaluateBids'](_0x4202f9,_0x298067){const _0x4c9260=_0x273dd2;let _0x5d143e;const _0x2fb507=Array[_0x4c9260(0x668)](_0x298067[_0x4c9260(0x59f)]())[_0x4c9260(0x57c)](([,[_0x2f5b2a]])=>_0x2f5b2a[_0x4c9260(0xa28)]);if(_0x5d143e=_0x2fb507[_0x4c9260(0x830)]>0x0?Array[_0x4c9260(0x668)](_0x298067['entries']())['sort']((_0x77629a,_0x21afb3)=>_0x21afb3[0x1][0x0][_0x4c9260(0x56d)]-_0x77629a[0x1][0x0][_0x4c9260(0x56d)]):Array[_0x4c9260(0x668)](_0x298067[_0x4c9260(0x59f)]())[_0x4c9260(0x939)]((_0x456d6b,_0x208e85)=>_0x456d6b[0x1][0x0][_0x4c9260(0x888)]-_0x208e85[0x1][0x0][_0x4c9260(0x888)]),0x1===_0x5d143e[_0x4c9260(0x830)])return{'nodeId':_0x5d143e[0x0][0x0],'response':_0x5d143e[0x0][0x1][0x0]};let _0x2fd45a;if(_0x2fd45a=_0x2fb507[_0x4c9260(0x830)]>0x0?(_0x5deb4b=>{const _0xafafbd=_0x4c9260,_0x28f496=_0x5deb4b[0x0][0x1][0x0][_0xafafbd(0x56d)];return _0x5deb4b[_0xafafbd(0x57c)](([,[_0x2190b7]])=>_0x2190b7[_0xafafbd(0x56d)]===_0x28f496);})(_0x5d143e):(_0x1acb9b=>{const _0x4b0aa2=_0x4c9260,_0x9ac499=_0x1acb9b[0x0][0x1][0x0]['queueLength'];return _0x1acb9b[_0x4b0aa2(0x57c)](([,[_0x41808b]])=>_0x41808b[_0x4b0aa2(0x888)]===_0x9ac499);})(_0x5d143e),0x1===_0x2fd45a[_0x4c9260(0x830)])return{'nodeId':_0x2fd45a[0x0][0x0],'response':_0x2fd45a[0x0][0x1][0x0]};const _0xe2705b=this['jobs']['get'](_0x4202f9);if(!_0xe2705b)throw new _0x4b8523(_0x4b8523['codes']['JobDispatcherJobNotFound']);const _0x48e09a=_0xe2705b[_0x4c9260(0x5b6)][_0x4c9260(0x65c)](),_0x19f5a1=_0x2fd45a[_0x4c9260(0xb48)](([_0x13dc60,[,_0x59b6ca]])=>({'nodeId':_0x13dc60,'rtt':_0x59b6ca-_0x48e09a})),_0x347698=Math[_0x4c9260(0xb20)](..._0x19f5a1[_0x4c9260(0xb48)](({rtt:_0x3e0562})=>_0x3e0562)),_0x2d7609=_0x19f5a1[_0x4c9260(0x77e)](({rtt:_0x144292})=>_0x144292===_0x347698),[,[_0x444fea]]=_0x2fd45a[_0x4c9260(0x77e)](([_0x23b4e3])=>_0x23b4e3===_0x2d7609[_0x4c9260(0xa0a)]);return{'nodeId':_0x2d7609[_0x4c9260(0xa0a)],'response':_0x444fea};}[_0x273dd2(0x7e2)](_0x4dc5b5,_0x136313){const _0x1dbb92=_0x273dd2,_0x17d643=this[_0x1dbb92(0x2c0)][_0x1dbb92(0x266)](_0x4dc5b5);if(!_0x17d643)throw new _0x4b8523(_0x4b8523[_0x1dbb92(0xa20)][_0x1dbb92(0x238)]);const _0x494056=this[_0x1dbb92(0xb26)]['get'](_0x4dc5b5);if(!_0x494056)throw new _0x4b8523(_0x4b8523[_0x1dbb92(0xa20)][_0x1dbb92(0xaa5)]);const _0x5666c8={'id':_0x17d643['id'],'status':_0x2a74a6['JobStatus'][_0x1dbb92(0x5b0)],'result':_0x136313[_0x1dbb92(0x824)]};_0x494056[_0x1dbb92(0x4ba)](_0x5666c8);}[_0x273dd2(0x813)](_0x3a5789,_0x4c255a){const _0x73c27a=_0x273dd2,_0x285ca7=this['jobs'][_0x73c27a(0x266)](_0x3a5789);if(!_0x285ca7)throw new _0x4b8523(_0x4b8523['codes'][_0x73c27a(0x238)]);const _0x456eb3=this[_0x73c27a(0xb26)][_0x73c27a(0x266)](_0x3a5789);if(!_0x456eb3)throw new _0x4b8523(_0x4b8523[_0x73c27a(0xa20)][_0x73c27a(0xaa5)]);_0x285ca7[_0x73c27a(0x3f4)]=_0x2a74a6[_0x73c27a(0x5fb)][_0x73c27a(0x399)];const _0xaec814={'id':_0x285ca7['id'],'status':_0x285ca7['status'],'result':_0x4c255a[_0x73c27a(0x824)]};_0x456eb3['next'](_0xaec814),_0x456eb3[_0x73c27a(0x803)](),this[_0x73c27a(0xb26)][_0x73c27a(0x997)](_0x3a5789),this[_0x73c27a(0x586)](_0x73c27a(0xa0d)+_0x3a5789+_0x73c27a(0xb98),{'jobId':_0x3a5789});}[_0x273dd2(0x459)](_0x18440a,_0x53680a){const _0x15346c=_0x273dd2,_0x22ff05=this[_0x15346c(0x2c0)][_0x15346c(0x266)](_0x18440a);if(!_0x22ff05)throw new _0x4b8523(_0x4b8523[_0x15346c(0xa20)]['JobDispatcherJobNotFound']);const _0x5a3a32=this[_0x15346c(0xb26)][_0x15346c(0x266)](_0x18440a);if(!_0x5a3a32)throw new _0x4b8523(_0x4b8523[_0x15346c(0xa20)][_0x15346c(0xaa5)]);_0x22ff05['status']=_0x2a74a6['JobStatus'][_0x15346c(0x8d3)];const _0x3bfbfe={'id':_0x22ff05['id'],'status':_0x22ff05[_0x15346c(0x3f4)],'message':_0x53680a};_0x5a3a32['next'](_0x3bfbfe),_0x5a3a32[_0x15346c(0x803)](),this['jobObservers'][_0x15346c(0x997)](_0x18440a),this[_0x15346c(0x586)](_0x15346c(0xa0d)+_0x18440a+_0x15346c(0x643),{'jobId':_0x18440a});}[_0x273dd2(0x586)](_0x111c02,{jobId:_0xcc57aa}){const _0x29b9ec=_0x273dd2,_0x2c6c0c={'jobId':_0xcc57aa,'mistletIds':Array['from'](this[_0x29b9ec(0xc01)]['getRemoteNodes']()[_0x29b9ec(0x2e7)]())[_0x29b9ec(0x57c)](_0x4f7243=>_0x4f7243[_0x29b9ec(0x6b9)]===_0x2a74a6['NodeType'][_0x29b9ec(0x207)])['map'](_0x29d3d1=>_0x29d3d1[_0x29b9ec(0xb9d)]())};_0x58cca5[_0x29b9ec(0x586)](_0x111c02,{'nodeId':this[_0x29b9ec(0x5ca)](),'nodeType':this[_0x29b9ec(0x7c6)]['type'],'data':_0x2c6c0c}),_0x58cca5[_0x29b9ec(0x3a3)](_0x57ac86[_0x29b9ec(0x3d4)],_0x111c02,_0x2c6c0c);}[_0x273dd2(0x85f)](_0x55e99b){const _0x57256b=_0x273dd2,{jobPhase:_0x3b304a,available:_0x22235,bid:_0x1b68b7}=_0x55e99b;return _0x3b304a===_0x2b0fe1[_0x57256b(0xc2c)]&&void 0x0!==_0x22235&&void 0x0!==_0x1b68b7;}[_0x273dd2(0xb81)](_0x38f690){const _0x37a8c4=_0x273dd2,{jobPhase:_0x3c5c93,result:_0x4ead31}=_0x38f690;return _0x3c5c93===_0x2b0fe1[_0x37a8c4(0x3df)]&&void 0x0!==_0x4ead31;}['isResultResponse'](_0x2a7b85){const _0x1eb58c=_0x273dd2,{jobPhase:_0x5df937,result:_0x6f2327}=_0x2a7b85;return _0x5df937===_0x2b0fe1[_0x1eb58c(0xad3)]&&void 0x0!==_0x6f2327;}['isFailedResponse'](_0x4399c7){const _0x29e2cc=_0x273dd2,{jobPhase:_0x41053f,message:_0x4856fe}=_0x4399c7;return _0x41053f===_0x2b0fe1[_0x29e2cc(0x8d3)]&&void 0x0!==_0x4856fe&&_0x29e2cc(0x563)==typeof _0x4856fe;}}var _0x4a97b2,_0x3b8538,_0x430aa5,_0x24d3ee,_0x24d649;!function(_0x534156){const _0x123023=_0x273dd2;_0x534156[_0x123023(0x4dc)]='object-storage',_0x534156['ExternalStorage']='external-storage';}(_0x4a97b2||(_0x4a97b2={})),function(_0x5aeea3){const _0x1d96bc=_0x273dd2;_0x5aeea3['Agent']=_0x1d96bc(0x44b),_0x5aeea3[_0x1d96bc(0x737)]=_0x1d96bc(0x69c),_0x5aeea3[_0x1d96bc(0x4f9)]=_0x1d96bc(0x81c),_0x5aeea3['CustomSkill']='custom-skill',_0x5aeea3[_0x1d96bc(0xa4a)]=_0x1d96bc(0x412),_0x5aeea3[_0x1d96bc(0x591)]=_0x1d96bc(0x837),_0x5aeea3['Prompt']='prompt',_0x5aeea3['Answer']=_0x1d96bc(0x1e3),_0x5aeea3[_0x1d96bc(0xb3c)]=_0x1d96bc(0x1ce),_0x5aeea3['FormSkill']=_0x1d96bc(0x44f),_0x5aeea3[_0x1d96bc(0x213)]=_0x1d96bc(0x2bc),_0x5aeea3['AiSearch']=_0x1d96bc(0x9f8),_0x5aeea3['WebScraper']=_0x1d96bc(0x8e7),_0x5aeea3[_0x1d96bc(0xa69)]=_0x1d96bc(0x426),_0x5aeea3[_0x1d96bc(0xac1)]=_0x1d96bc(0x819),_0x5aeea3['WriteFile']=_0x1d96bc(0x7e6),_0x5aeea3['ChunkSplitter']=_0x1d96bc(0xbac),_0x5aeea3[_0x1d96bc(0xa99)]=_0x1d96bc(0x5bd),_0x5aeea3[_0x1d96bc(0x3b6)]=_0x1d96bc(0x5af),_0x5aeea3['DocumentParser']='document-parser',_0x5aeea3[_0x1d96bc(0x33f)]=_0x1d96bc(0x9bc),_0x5aeea3[_0x1d96bc(0xa7c)]=_0x1d96bc(0xa0b),_0x5aeea3['OutputStream']=_0x1d96bc(0x931),_0x5aeea3[_0x1d96bc(0x82a)]=_0x1d96bc(0x2ec);}(_0x3b8538||(_0x3b8538={})),function(_0x44c679){const _0x4ba528=_0x273dd2;_0x44c679[_0x4ba528(0x999)]=_0x4ba528(0x28b),_0x44c679[_0x4ba528(0x2e5)]=_0x4ba528(0xb08),_0x44c679[_0x4ba528(0x42e)]=_0x4ba528(0x3ba),_0x44c679[_0x4ba528(0x8c2)]='chunk-splitter',_0x44c679[_0x4ba528(0x3b6)]=_0x4ba528(0x5af),_0x44c679['SentenceSplitter']='sentence-splitter',_0x44c679['RelationExtractor']=_0x4ba528(0x5e7),_0x44c679['EntityExtractor']=_0x4ba528(0x983),_0x44c679[_0x4ba528(0x4ef)]='reranker',_0x44c679[_0x4ba528(0xbc1)]='model',_0x44c679[_0x4ba528(0x207)]=_0x4ba528(0x44b),_0x44c679[_0x4ba528(0xb8f)]=_0x4ba528(0x8aa),_0x44c679['KeyValueDatabase']=_0x4ba528(0xb3e),_0x44c679[_0x4ba528(0xb15)]='vector-database',_0x44c679['GraphDatabase']=_0x4ba528(0x1d8),_0x44c679[_0x4ba528(0x9d8)]=_0x4ba528(0x5db),_0x44c679['Context']='context',_0x44c679['Upload']=_0x4ba528(0x391),_0x44c679[_0x4ba528(0x264)]='embed';}(_0x430aa5||(_0x430aa5={})),function(_0x289d46){const _0x3f6b2a=_0x273dd2;_0x289d46[_0x3f6b2a(0x7a2)]=_0x3f6b2a(0x388),_0x289d46[_0x3f6b2a(0x25f)]=_0x3f6b2a(0x4e4),_0x289d46['Image']=_0x3f6b2a(0x5b8),_0x289d46['Audio']=_0x3f6b2a(0x1fc),_0x289d46[_0x3f6b2a(0xa89)]=_0x3f6b2a(0x9b6),_0x289d46[_0x3f6b2a(0x3ee)]='vector',_0x289d46[_0x3f6b2a(0x2b9)]=_0x3f6b2a(0x3e5),_0x289d46[_0x3f6b2a(0xba6)]=_0x3f6b2a(0x71d),_0x289d46[_0x3f6b2a(0x213)]='search',_0x289d46[_0x3f6b2a(0x349)]=_0x3f6b2a(0xa4b),_0x289d46[_0x3f6b2a(0x8fc)]='tool',_0x289d46[_0x3f6b2a(0x33c)]=_0x3f6b2a(0x442),_0x289d46[_0x3f6b2a(0x6da)]=_0x3f6b2a(0x3a0),_0x289d46[_0x3f6b2a(0x761)]='wait-true',_0x289d46['WaitFalse']=_0x3f6b2a(0xb2c);}(_0x24d3ee||(_0x24d3ee={})),function(_0x3f9459){const _0x6ebccd=_0x273dd2;_0x3f9459[_0x6ebccd(0x1e5)]=_0x6ebccd(0x6cf),_0x3f9459[_0x6ebccd(0x283)]=_0x6ebccd(0x75d),_0x3f9459[_0x6ebccd(0x6ba)]=_0x6ebccd(0x63f);}(_0x24d649||(_0x24d649={}));const _0x3ecb08=[{'type':_0x3b8538[_0x273dd2(0x4f9)],'id':_0x273dd2(0x9f7),'name':_0x273dd2(0xa9f),'description':_0x273dd2(0x3d6),'modelId':_0x273dd2(0x9e4),'instructions':_0x273dd2(0x9b1),'grammar':_0x273dd2(0x44a),'temperature':0x0,'maxTokens':0x64}],_0xd4fe8e=[{'type':_0x3b8538[_0x273dd2(0x207)],'id':'blank-agent','name':_0x273dd2(0xaf3),'description':'','modelId':_0x273dd2(0x9e4),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3b8538['Agent'],'id':_0x273dd2(0x313),'name':_0x273dd2(0x566),'description':_0x273dd2(0x682),'modelId':'gpt-4.1-nano','instructions':'Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3b8538[_0x273dd2(0x207)],'id':_0x273dd2(0x25c),'name':_0x273dd2(0xbdd),'description':_0x273dd2(0x862),'modelId':'gpt-4.1-nano','instructions':_0x273dd2(0xa1b),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3b8538[_0x273dd2(0x207)],'id':_0x273dd2(0x40c),'name':_0x273dd2(0x831),'description':'Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','modelId':'gpt-4.1-nano','instructions':_0x273dd2(0x5f5),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3b8538[_0x273dd2(0x207)],'id':'learn-agent','name':_0x273dd2(0x33b),'description':_0x273dd2(0x67b),'modelId':'gpt-4.1-nano','instructions':_0x273dd2(0xb17),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3b8538[_0x273dd2(0x207)],'id':_0x273dd2(0x79c),'name':_0x273dd2(0xa75),'description':'Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','modelId':'gpt-4.1-nano','instructions':_0x273dd2(0xa65),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3b8538[_0x273dd2(0x207)],'id':_0x273dd2(0xb27),'name':_0x273dd2(0x820),'description':_0x273dd2(0x87d),'modelId':_0x273dd2(0x9e4),'instructions':_0x273dd2(0x773),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3b8538[_0x273dd2(0x207)],'id':_0x273dd2(0x681),'name':_0x273dd2(0x80d),'description':_0x273dd2(0x928),'modelId':_0x273dd2(0x9e4),'instructions':_0x273dd2(0x7af),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3b8538[_0x273dd2(0x207)],'id':_0x273dd2(0x5c3),'name':_0x273dd2(0x1d2),'description':_0x273dd2(0x413),'modelId':_0x273dd2(0x9e4),'instructions':_0x273dd2(0x5f2),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3b8538[_0x273dd2(0x207)],'id':_0x273dd2(0x985),'name':_0x273dd2(0xbf2),'description':_0x273dd2(0x460),'modelId':_0x273dd2(0x9e4),'instructions':_0x273dd2(0x568),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3b8538['Agent'],'id':_0x273dd2(0x30b),'name':_0x273dd2(0xa49),'description':'Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','modelId':_0x273dd2(0x9e4),'instructions':_0x273dd2(0x324),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3b8538['Agent'],'id':'copywriter-agent','name':_0x273dd2(0x4f7),'description':_0x273dd2(0x36e),'modelId':_0x273dd2(0x9e4),'instructions':'Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x273dd2(0x5b7),'name':_0x273dd2(0x347),'description':_0x273dd2(0x6e2),'modelId':_0x273dd2(0x9e4),'instructions':'Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20user’s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20—\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x273dd2(0x5c9),'name':_0x273dd2(0x715),'description':_0x273dd2(0x332),'modelId':_0x273dd2(0x9e4),'instructions':_0x273dd2(0x778),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x273dd2(0x72c),'name':'Document\x20Agent','description':'Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','modelId':_0x273dd2(0x9e4),'instructions':_0x273dd2(0x3d5),'grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x588f38{static [_0x273dd2(0x4e8)];constructor(){}static[_0x273dd2(0x64f)](){const _0x2b2130=_0x273dd2;return _0x588f38[_0x2b2130(0x4e8)]||(_0x588f38[_0x2b2130(0x4e8)]=new _0x588f38()),_0x588f38[_0x2b2130(0x4e8)];}async[_0x273dd2(0x8e0)](_0x5babf7,_0xc7c486){const _0x3cd673=_0x273dd2,_0x3b17df=await(0x0,_0x5dec29[_0x3cd673(0x5e0)])((0x0,_0x5dec29[_0x3cd673(0x6c8)])(_0x4d7ce4[_0x3cd673(0x4c1)](),_0x3cd673(0x9a4)+_0x5babf7+_0x3cd673(0x8a1)+_0xc7c486)),_0x8d4a61=await this['getAgents'](_0x5babf7),_0x32699e=await this[_0x3cd673(0x89b)](_0x5babf7),_0x51ad2f=await this[_0x3cd673(0x469)](_0x5babf7);if(!_0x3b17df[_0x3cd673(0x330)]())throw new _0x4b8523(_0x4b8523['codes'][_0x3cd673(0xbbb)]);return this['parseWorkflowDocument'](_0x3b17df,_0x8d4a61,_0x32699e,_0x51ad2f);}async[_0x273dd2(0x469)](_0xe92d5){const _0x33d45a=_0x273dd2;return(await(0x0,_0x5dec29[_0x33d45a(0x22a)])((0x0,_0x5dec29['collection'])(_0x4d7ce4[_0x33d45a(0x4c1)](),_0x33d45a(0x9a4)+_0xe92d5+_0x33d45a(0x6a7))))['docs'][_0x33d45a(0xb48)](_0x5d86d1=>{const _0x5220c6=_0x33d45a,_0x4c93db=_0x5d86d1['data']();return{'type':_0x3b8538['DataCollection'],'id':_0x5d86d1['id'],'name':_0x4c93db['name'],'description':_0x4c93db[_0x5220c6(0x42c)],'storageType':_0x4c93db[_0x5220c6(0x6f6)]??_0x2a74a6['GenerativeAIRagType'][_0x5220c6(0xad4)],'hosting':_0x4c93db['hosting']??_0x24d649[_0x5220c6(0x6ba)],'modelId':_0x4c93db[_0x5220c6(0x477)]??_0x5220c6(0x255),'ingestBlocks':_0x4c93db[_0x5220c6(0x55f)],'retrieveBlocks':_0x4c93db[_0x5220c6(0xb0c)]};});}async[_0x273dd2(0x5d2)](_0x5846a5,_0x3c1813){const _0x286213=_0x273dd2,_0x2a0e5c=await(0x0,_0x5dec29['getDoc'])((0x0,_0x5dec29['doc'])(_0x4d7ce4[_0x286213(0x4c1)](),_0x286213(0x9a4)+_0x5846a5+_0x286213(0x9cc)+_0x3c1813)),_0x455379=await this[_0x286213(0x498)](_0x5846a5),_0x57c915=_0x2a0e5c[_0x286213(0x9b6)]();if(!_0x57c915)throw new _0x4b8523(_0x4b8523[_0x286213(0xa20)][_0x286213(0x227)]);return{'type':_0x3b8538[_0x286213(0xa4a)],'id':_0x3c1813,'uid':_0x3c1813,'name':_0x57c915[_0x286213(0xa7b)],'description':_0x57c915['description'],'storageType':_0x57c915[_0x286213(0x6f6)]??_0x2a74a6[_0x286213(0x96c)]['Pinecone'],'hosting':_0x57c915[_0x286213(0x936)]??_0x24d649[_0x286213(0x6ba)],'modelId':_0x57c915[_0x286213(0x477)]??_0x286213(0x255),'ingestBlocks':this[_0x286213(0x3a4)](_0x57c915['ingestBlocks'],_0x455379),'retrieveBlocks':this[_0x286213(0x3a4)](_0x57c915[_0x286213(0xb0c)],_0x455379),'links':[]};}[_0x273dd2(0x723)](_0x57d094,_0x1d35ec,_0x4be7e8,_0x1a3a85){const _0x9bc9bb=_0x273dd2,_0x2deb3a=_0x57d094[_0x9bc9bb(0x9b6)]();if(!_0x2deb3a)throw new _0x4b8523(_0x4b8523[_0x9bc9bb(0xa20)][_0x9bc9bb(0xbbb)]);const _0x4dee83=this['parseWorkflowBlocks'](_0x2deb3a['blocks'],_0x1d35ec,_0x4be7e8,_0x1a3a85);return{'id':_0x57d094['id'],'name':_0x2deb3a[_0x9bc9bb(0xa7b)],'description':_0x2deb3a[_0x9bc9bb(0x42c)],'blocks':_0x4dee83,'dataBucketIds':this[_0x9bc9bb(0x69b)](_0x4dee83),'externalStorageConnectionIds':this[_0x9bc9bb(0xb52)](_0x4dee83),'initialPrompt':_0x2deb3a[_0x9bc9bb(0xb55)]};}[_0x273dd2(0x69b)](_0x1add1d){const _0xe5050b=_0x273dd2,_0x3a86b5=new Set();for(const _0x4dd049 of _0x1add1d)switch(_0x4dd049[_0xe5050b(0x6b9)]){case _0x3b8538[_0xe5050b(0x591)]:case _0x3b8538[_0xe5050b(0xa4a)]:for(const _0x56d2a2 of[..._0x4dd049[_0xe5050b(0x55f)],..._0x4dd049[_0xe5050b(0xb0c)]])_0x56d2a2[_0xe5050b(0x6b9)]===_0x430aa5['ObjectStorageUpload']&&_0x3a86b5[_0xe5050b(0xbf8)](_0x56d2a2['id']);}return Array['from'](_0x3a86b5);}[_0x273dd2(0xb52)](_0x2be166){const _0x1af47f=_0x273dd2,_0x25d8b8=new Set();for(const _0x26d64f of _0x2be166)switch(_0x26d64f['type']){case _0x3b8538[_0x1af47f(0x591)]:case _0x3b8538['DataCollection']:for(const _0x5f2166 of[..._0x26d64f[_0x1af47f(0x55f)],..._0x26d64f[_0x1af47f(0xb0c)]])_0x5f2166[_0x1af47f(0x6b9)]===_0x430aa5[_0x1af47f(0x2e5)]&&_0x25d8b8[_0x1af47f(0xbf8)](_0x5f2166['id']);}return Array[_0x1af47f(0x668)](_0x25d8b8);}['parseWorkflowBlocks'](_0x7a2adb,_0xd79163,_0x1bee41,_0x55648b){const _0x183b2f=_0x273dd2;return _0x7a2adb[_0x183b2f(0xb48)](_0x1eb9ae=>{const _0x21ad8d=_0x183b2f;switch(_0x1eb9ae['type']){case _0x3b8538['Agent']:case _0x3b8538[_0x21ad8d(0x737)]:case _0x3b8538[_0x21ad8d(0x4f9)]:const _0x235468=_0xd79163[_0x21ad8d(0x77e)](_0x7e8a6d=>_0x7e8a6d['id']===_0x1eb9ae['id']);if(!_0x235468)throw new _0x4b8523(_0x4b8523[_0x21ad8d(0xa20)][_0x21ad8d(0x574)],{'block':_0x1eb9ae});return{'type':_0x3b8538[_0x21ad8d(0x207)],'id':_0x235468['id'],'uid':_0x1eb9ae[_0x21ad8d(0xa24)],'name':_0x235468[_0x21ad8d(0xa7b)],'description':_0x235468['description'],'instructions':(_0x235468[_0x21ad8d(0x875)]+'\x0a\x0a'+(_0x1eb9ae[_0x21ad8d(0x44b)]?.[_0x21ad8d(0xc26)]??''))['trim'](),'contextOutputVariable':_0x1eb9ae[_0x21ad8d(0x44b)]?.['contextOutputVariable'],'contextInputVariable':_0x1eb9ae['agent']?.[_0x21ad8d(0x4c0)],'reasoning':_0x1eb9ae['agent']?.[_0x21ad8d(0xa5f)]??!0x1,'grammar':_0x1eb9ae[_0x21ad8d(0x44b)]?.[_0x21ad8d(0x2f3)]??_0x21ad8d(0x6cc),'temperature':_0x1eb9ae[_0x21ad8d(0x44b)]?.[_0x21ad8d(0xc21)]??0.5,'maxTokens':_0x1eb9ae['agent']?.[_0x21ad8d(0x1d5)]??0x1f4,'modelId':_0x1eb9ae['agent']?.['modelId']??_0x21ad8d(0xa1a),'links':_0x1eb9ae['links']};case _0x3b8538[_0x21ad8d(0x591)]:case _0x3b8538[_0x21ad8d(0xa4a)]:const _0x1c3a12=_0x55648b['find'](_0x5ac803=>_0x5ac803['id']===_0x1eb9ae['id']);if(!_0x1c3a12)throw new _0x4b8523(_0x4b8523[_0x21ad8d(0xa20)][_0x21ad8d(0x574)],{'block':_0x1eb9ae});return{'type':_0x1eb9ae[_0x21ad8d(0x6b9)],'id':_0x1c3a12['id'],'uid':_0x1eb9ae[_0x21ad8d(0xa24)],'name':_0x1c3a12[_0x21ad8d(0xa7b)],'description':_0x1c3a12['description'],'ingestBlocks':this['parseDataCollectionBlocks'](_0x1c3a12[_0x21ad8d(0x55f)],_0xd79163),'retrieveBlocks':this['parseDataCollectionBlocks'](_0x1c3a12[_0x21ad8d(0xb0c)],_0xd79163),'links':_0x1eb9ae[_0x21ad8d(0x4a9)]};case _0x3b8538[_0x21ad8d(0xb84)]:return{'type':_0x1eb9ae[_0x21ad8d(0x6b9)],'id':_0x1eb9ae['id'],'uid':_0x1eb9ae['uid'],'name':_0x1eb9ae[_0x21ad8d(0xa86)]['name'],'description':_0x1eb9ae[_0x21ad8d(0xa86)][_0x21ad8d(0x42c)],'parameters':_0x1eb9ae[_0x21ad8d(0xa86)][_0x21ad8d(0xbd2)],'endpointUrl':_0x1eb9ae['tool'][_0x21ad8d(0x990)],'endpointMethod':_0x1eb9ae['tool']['endpointMethod'],'headers':_0x1eb9ae[_0x21ad8d(0xa86)]['headers'],'queryParameters':_0x1eb9ae[_0x21ad8d(0xa86)][_0x21ad8d(0x30e)],'bodyParameters':_0x1eb9ae[_0x21ad8d(0xa86)][_0x21ad8d(0x953)],'contextOutputVariable':_0x1eb9ae[_0x21ad8d(0xa86)]['contextOutputVariable'],'links':_0x1eb9ae['links']};case _0x3b8538[_0x21ad8d(0x5d4)]:return{'type':_0x1eb9ae[_0x21ad8d(0x6b9)],'id':_0x1eb9ae['id'],'uid':_0x1eb9ae[_0x21ad8d(0xa24)],'name':_0x1eb9ae[_0x21ad8d(0xa86)][_0x21ad8d(0xa7b)],'description':_0x1eb9ae['tool'][_0x21ad8d(0x42c)],'questions':_0x1eb9ae['tool']['questions'][_0x21ad8d(0xb48)](_0x327f60=>({'id':_0x327f60['id'],'question':_0x327f60[_0x21ad8d(0xa7b)],'validation':_0x327f60[_0x21ad8d(0x22e)],'required':_0x21ad8d(0x676)===_0x327f60['required'],'format':_0x327f60['format']})),'contextOutputVariable':_0x1eb9ae[_0x21ad8d(0xa86)][_0x21ad8d(0x361)],'links':_0x1eb9ae[_0x21ad8d(0x4a9)]};case _0x3b8538[_0x21ad8d(0xbfd)]:return{'type':_0x1eb9ae[_0x21ad8d(0x6b9)],'id':_0x1eb9ae['id'],'uid':_0x1eb9ae[_0x21ad8d(0xa24)],'modelId':_0x1eb9ae[_0x21ad8d(0xa86)][_0x21ad8d(0x477)]??_0x21ad8d(0x269),'links':_0x1eb9ae['links']};case _0x3b8538[_0x21ad8d(0x82a)]:const _0x517f2a=_0x1bee41[_0x21ad8d(0x77e)](_0x49f800=>_0x49f800['id']===_0x1eb9ae['id']);if(!_0x517f2a)throw new _0x4b8523(_0x4b8523['codes']['WorkflowInvalidBlockType'],{'block':_0x1eb9ae});return{'type':_0x1eb9ae[_0x21ad8d(0x6b9)],'id':_0x1eb9ae['id'],'uid':_0x1eb9ae[_0x21ad8d(0xa24)],'name':_0x517f2a[_0x21ad8d(0xa7b)],'description':_0x517f2a[_0x21ad8d(0x42c)],'workflowId':_0x517f2a['id'],'async':_0x1eb9ae[_0x21ad8d(0xa86)][_0x21ad8d(0x638)],'contextOutputVariable':_0x1eb9ae[_0x21ad8d(0xa86)][_0x21ad8d(0x361)],'contextInputVariable':_0x1eb9ae['tool'][_0x21ad8d(0x4c0)],'links':_0x1eb9ae['links']};case _0x3b8538[_0x21ad8d(0x9d8)]:case _0x3b8538[_0x21ad8d(0xa7c)]:case _0x3b8538[_0x21ad8d(0x6e5)]:case _0x3b8538[_0x21ad8d(0x853)]:case _0x3b8538[_0x21ad8d(0xb3c)]:case _0x3b8538[_0x21ad8d(0x213)]:case _0x3b8538[_0x21ad8d(0xbcc)]:case _0x3b8538[_0x21ad8d(0xa69)]:case _0x3b8538['QueryFile']:case _0x3b8538[_0x21ad8d(0x970)]:case _0x3b8538[_0x21ad8d(0xa99)]:case _0x3b8538['DocumentParser']:case _0x3b8538['ImageParser']:return{'type':_0x1eb9ae[_0x21ad8d(0x6b9)],'id':_0x1eb9ae['id'],'uid':_0x1eb9ae['uid'],'links':_0x1eb9ae[_0x21ad8d(0x4a9)]};case _0x3b8538[_0x21ad8d(0x8c2)]:case _0x3b8538[_0x21ad8d(0x3b6)]:return{'type':_0x1eb9ae['type'],'id':_0x1eb9ae['id'],'uid':_0x1eb9ae['uid'],'links':_0x1eb9ae[_0x21ad8d(0x4a9)],'attributes':_0x1eb9ae[_0x21ad8d(0x2e8)]};default:throw new _0x4b8523(_0x4b8523[_0x21ad8d(0xa20)]['WorkflowInvalidBlockType'],{'block':_0x1eb9ae});}});}[_0x273dd2(0x3a4)](_0x10befc,_0x1bff2d){const _0x5ec51a=_0x273dd2;return _0x10befc?_0x10befc[_0x5ec51a(0xb48)](_0x8a0e3e=>{const _0x107258=_0x5ec51a;switch(_0x8a0e3e[_0x107258(0x6b9)]){case _0x430aa5[_0x107258(0x207)]:const _0x5b6097=_0x1bff2d[_0x107258(0x77e)](_0x1c801e=>_0x1c801e['id']===_0x8a0e3e['id']);if(!_0x5b6097)throw new _0x4b8523(_0x4b8523[_0x107258(0xa20)][_0x107258(0x574)],{'block':_0x8a0e3e});return{'type':_0x8a0e3e[_0x107258(0x6b9)],'id':_0x8a0e3e['id'],'uid':_0x8a0e3e[_0x107258(0xa24)],'description':_0x5b6097[_0x107258(0x42c)],'instructions':(_0x5b6097[_0x107258(0x875)]+'\x0a\x0a'+(_0x8a0e3e[_0x107258(0x44b)]?.[_0x107258(0xc26)]??''))[_0x107258(0x854)](),'contextOutputVariable':_0x8a0e3e[_0x107258(0x44b)]?.[_0x107258(0x361)],'contextInputVariable':_0x8a0e3e[_0x107258(0x44b)]?.[_0x107258(0x4c0)],'reasoning':_0x8a0e3e[_0x107258(0x44b)]?.['reasoning']??!0x1,'grammar':_0x8a0e3e['agent']?.[_0x107258(0x2f3)]??_0x107258(0x6cc),'temperature':_0x8a0e3e[_0x107258(0x44b)]?.['temperature']??0.5,'maxTokens':_0x8a0e3e['agent']?.[_0x107258(0x1d5)]??0x1f4,'modelId':_0x8a0e3e[_0x107258(0x44b)]?.[_0x107258(0x477)]??_0x107258(0xa1a),'links':_0x8a0e3e[_0x107258(0x4a9)]};case _0x430aa5[_0x107258(0xbc6)]:case _0x430aa5[_0x107258(0xb15)]:case _0x430aa5[_0x107258(0x3b6)]:case _0x430aa5[_0x107258(0x8c2)]:case _0x430aa5[_0x107258(0x505)]:case _0x430aa5['Reranker']:return{'type':_0x8a0e3e['type'],'id':_0x8a0e3e['id'],'uid':_0x8a0e3e['uid'],'links':_0x8a0e3e['links'],'attributes':_0x8a0e3e[_0x107258(0x2e8)]};case _0x430aa5[_0x107258(0xbc1)]:case _0x430aa5[_0x107258(0xb8f)]:case _0x430aa5[_0x107258(0x670)]:case _0x430aa5[_0x107258(0x499)]:case _0x430aa5[_0x107258(0x42e)]:case _0x430aa5[_0x107258(0xa99)]:case _0x430aa5[_0x107258(0x999)]:case _0x430aa5['ExternalStorageUpload']:case _0x430aa5[_0x107258(0x33c)]:case _0x430aa5[_0x107258(0x9d8)]:case _0x430aa5[_0x107258(0x50e)]:case _0x430aa5[_0x107258(0x264)]:return{'type':_0x8a0e3e[_0x107258(0x6b9)],'id':_0x8a0e3e['id'],'uid':_0x8a0e3e[_0x107258(0xa24)],'links':_0x8a0e3e[_0x107258(0x4a9)]};default:throw new _0x4b8523(_0x4b8523[_0x107258(0xa20)]['WorkflowInvalidBlockType'],{'block':_0x8a0e3e});}}):[];}async[_0x273dd2(0x498)](_0x381e2e){const _0x268272=_0x273dd2,_0x3c59ea=(await(0x0,_0x5dec29[_0x268272(0x22a)])((0x0,_0x5dec29[_0x268272(0x559)])(_0x4d7ce4[_0x268272(0x4c1)](),_0x268272(0x9a4)+_0x381e2e+'/resources/generative-ai-agent/items')))[_0x268272(0x486)]['map'](_0x36f5ca=>{const _0xe8053b=_0x268272,_0x5ee259=_0x36f5ca[_0xe8053b(0x9b6)]();return{'type':_0x3b8538[_0xe8053b(0x207)],'id':_0x36f5ca['id'],'name':_0x5ee259['name'],'description':_0x5ee259['description'],'instructions':_0x5ee259[_0xe8053b(0x875)]};});return _0x3c59ea['push'](..._0x3ecb08),_0x3c59ea['push'](..._0xd4fe8e),_0x3c59ea;}async[_0x273dd2(0x89b)](_0x38354c){const _0x89ac9c=_0x273dd2;return(await(0x0,_0x5dec29[_0x89ac9c(0x22a)])((0x0,_0x5dec29[_0x89ac9c(0x559)])(_0x4d7ce4['getFirestore'](),_0x89ac9c(0x9a4)+_0x38354c+_0x89ac9c(0x2d8))))['docs'][_0x89ac9c(0xb48)](_0x384d71=>{const _0x5c55c7=_0x89ac9c,_0x434e45=_0x384d71[_0x5c55c7(0x9b6)]();return{'id':_0x384d71['id'],'name':_0x434e45[_0x5c55c7(0xa7b)],'description':_0x434e45[_0x5c55c7(0x42c)]};});}}const _0x3fff33=_0x588f38[_0x273dd2(0x64f)]();class _0x754748 extends _0x22b2be{[_0x273dd2(0x61b)];[_0x273dd2(0x300)];['prompts']=0x0;['tokens']=0x0;[_0x273dd2(0x9a2)];constructor(_0x48e8ae,_0x2d330f,_0x4763f8,_0x4e80d3){const _0x170b01=_0x273dd2;super(_0x48e8ae,_0x2d330f,_0x4e80d3),this[_0x170b01(0x61b)]=_0x48e8ae,this['vendorId']=_0x4763f8,this[_0x170b01(0x844)]();}[_0x273dd2(0x553)](){const _0x866101=_0x273dd2;this[_0x866101(0x9a2)]&&(clearTimeout(this[_0x866101(0x9a2)]),delete this[_0x866101(0x9a2)]),super[_0x866101(0x553)]();}[_0x273dd2(0x3da)](){const _0xee4189=_0x273dd2;this['prompts']=0x0,this[_0xee4189(0x35e)]=0x0,this[_0xee4189(0x844)](),super[_0xee4189(0x3da)]();}[_0x273dd2(0x8c9)](_0x3009c5){const _0x5e8d18=_0x273dd2,_0x15fcfe='job-'+(0x0,_0x5d1d4c['v4'])();let _0x161303=!0x1;const _0x56a374=()=>{const _0xb71c32=a0_0x35be;if(_0x161303)throw new _0x4b8523(_0x4b8523[_0xb71c32(0xa20)][_0xb71c32(0xbdb)]);_0x161303=!0x0;};switch(_0x3009c5['type']){case _0x5e8d18(0x564):case'collection-delete':case'collection-query':case'file-delete':case'file-download':case _0x5e8d18(0x88d):case _0x5e8d18(0x88d):case'file-list':case _0x5e8d18(0x964):case'realtime-session-create':case _0x5e8d18(0x4f2):case _0x5e8d18(0x5e4):case _0x5e8d18(0x86c):return{'id':_0x15fcfe,..._0x3009c5,'run':()=>(_0x56a374(),this['internalJob'](_0x15fcfe,_0x3009c5))};case'inference':case _0x5e8d18(0x5db):const _0x20b293=()=>(_0x56a374(),this[_0x5e8d18(0x7ad)](_0x15fcfe,_0x3009c5)),_0x20874e=()=>(_0x56a374(),this['stream'](_0x15fcfe,_0x3009c5));return{'id':_0x15fcfe,'options':{'threadId':_0x5e8d18(0x974)+(0x0,_0x5d1d4c['v4'])()},..._0x3009c5,'run':_0x20b293,'stream':_0x20874e};default:throw new Error(_0x5e8d18(0x73c));}}async['internalJob'](_0x5899c3,_0x15f99c){const _0x1a1fae=_0x273dd2;if(_0x1a1fae(0x2a2)===_0x15f99c['type']||_0x1a1fae(0x5db)===_0x15f99c[_0x1a1fae(0x6b9)])throw new _0x3371e7(_0x4c9695[_0x1a1fae(0x80b)],_0x1a1fae(0x73c));const _0x539088={'threadId':_0x1a1fae(0x974)+(0x0,_0x5d1d4c['v4'])(),..._0x15f99c},_0x1243ef=await this['getJobObservable'](_0x5899c3,_0x2a74a6[_0x1a1fae(0x96a)][_0x1a1fae(0x601)],_0x539088);return new Promise((_0x2a526e,_0x519fd9)=>{const _0x5d3516=_0x1a1fae;let _0x45c906;const _0x271346=_0x1243ef[_0x5d3516(0x6f8)]({'next':_0x199b28=>{const _0x5b695e=_0x5d3516;switch(_0x199b28[_0x5b695e(0x3f4)]){case _0x2a74a6[_0x5b695e(0x5fb)]['Completed']:clearTimeout(_0x45c906),_0x2a526e(_0x199b28[_0x5b695e(0x824)]),_0x271346[_0x5b695e(0xbf5)]();break;case _0x2a74a6['JobStatus'][_0x5b695e(0x8d3)]:clearTimeout(_0x45c906),_0x519fd9(new _0x4b8523(_0x4b8523['codes'][_0x5b695e(0x285)],{'updatedJob':_0x199b28})),_0x271346['unsubscribe']();}},'error':_0x90e840=>{const _0x5d3b31=_0x5d3516;clearTimeout(_0x45c906),_0x519fd9(new _0x4b8523(_0x4b8523[_0x5d3b31(0xa20)]['GenerativeAIContextJobFailed'],{'err':_0x90e840})),_0x271346[_0x5d3b31(0xbf5)]();}});_0x45c906=setTimeout(()=>{const _0x5dedf1=_0x5d3516;_0x519fd9(new _0x4b8523(_0x4b8523[_0x5dedf1(0xa20)][_0x5dedf1(0x5be)])),_0x271346[_0x5dedf1(0xbf5)]();},_0xe7aec6);});}async[_0x273dd2(0x7ad)](_0x51b3e5,_0x15b70a){const _0x2f812d=_0x273dd2,_0x7e283a=await this[_0x2f812d(0x7d9)](_0x51b3e5,_0x2a74a6[_0x2f812d(0x96a)][_0x2f812d(0x601)],_0x15b70a);return new Promise((_0x3e7bad,_0x42e295)=>{let _0x2c07fe;const _0x4d9036=_0x7e283a['subscribe']({'next':_0x1913b4=>{const _0x29c1e7=a0_0x35be;switch(_0x1913b4['status']){case _0x2a74a6[_0x29c1e7(0x5fb)][_0x29c1e7(0x399)]:if('prompt'!==_0x1913b4[_0x29c1e7(0x824)][_0x29c1e7(0x6b9)])return;const _0x3e4709=_0x1913b4[_0x29c1e7(0x824)]['inputTokens']??0x0;this[_0x29c1e7(0x7ea)](_0x15b70a[_0x29c1e7(0x5db)],_0x3e4709),clearTimeout(_0x2c07fe),_0x3e7bad(_0x1913b4[_0x29c1e7(0x824)]),_0x4d9036['unsubscribe'](),this[_0x29c1e7(0xb1c)]+=0x1,this[_0x29c1e7(0x35e)]+=_0x3e4709,this[_0x29c1e7(0x844)]();break;case _0x2a74a6[_0x29c1e7(0x5fb)]['Failed']:clearTimeout(_0x2c07fe),_0x42e295(new _0x4b8523(_0x4b8523[_0x29c1e7(0xa20)][_0x29c1e7(0x285)],{'updatedJob':_0x1913b4})),_0x4d9036[_0x29c1e7(0xbf5)](),this[_0x29c1e7(0x844)]();}},'error':_0x4a99a0=>{const _0x1f81aa=a0_0x35be;clearTimeout(_0x2c07fe),_0x42e295(new _0x4b8523(_0x4b8523[_0x1f81aa(0xa20)][_0x1f81aa(0x285)],{'err':_0x4a99a0})),_0x4d9036[_0x1f81aa(0xbf5)]();}});_0x2c07fe=setTimeout(()=>{const _0x35260a=a0_0x35be;_0x42e295(new _0x4b8523(_0x4b8523[_0x35260a(0xa20)][_0x35260a(0x5be)])),_0x4d9036[_0x35260a(0xbf5)]();},_0xe7aec6);});}async*[_0x273dd2(0x573)](_0x52c230,_0x104667){const _0x4e6c4d=_0x273dd2,_0x32d627=await this[_0x4e6c4d(0x7d9)](_0x52c230,_0x2a74a6[_0x4e6c4d(0x96a)][_0x4e6c4d(0x7a6)],_0x104667);let _0x1d050a,_0x5391bd,_0x2cbbac=!0x1,_0x31a0ad=0x0;const _0x2323bf=[],_0x2126b3=new Map();let _0x12eef3=null;const _0x5c552f=()=>{_0x12eef3&&(_0x12eef3(),_0x12eef3=null);},_0xb0c598=_0x30f11b=>{const _0x2121fb=_0x4e6c4d;_0x2cbbac=!0x0,_0x5c552f(),_0x390389[_0x2121fb(0xbf5)](),_0x5391bd=_0x30f11b;},_0x390389=_0x32d627[_0x4e6c4d(0x6f8)]({'next':async _0x4bb0c4=>{const _0x2236ff=_0x4e6c4d;switch(_0x4bb0c4[_0x2236ff(0x3f4)]){case _0x2a74a6[_0x2236ff(0x5fb)][_0x2236ff(0x5b0)]:if(_0x2236ff(0x5db)!==_0x4bb0c4[_0x2236ff(0x824)]['type'])return;if(void 0x0!==_0x4bb0c4[_0x2236ff(0x824)][_0x2236ff(0x27f)]){if(void 0x0===_0x4bb0c4[_0x2236ff(0x824)][_0x2236ff(0xa4b)])return void _0xb0c598(_0x4b8523[_0x2236ff(0xa20)][_0x2236ff(0x992)]);_0x31a0ad===_0x4bb0c4[_0x2236ff(0x824)][_0x2236ff(0xa4b)]?(_0x2323bf[_0x2236ff(0x604)](_0x4bb0c4['result']),_0x31a0ad++,((()=>{const _0x544a=_0x2236ff;for(;_0x2126b3[_0x544a(0xb9f)](_0x31a0ad);)_0x2323bf[_0x544a(0x604)](_0x2126b3[_0x544a(0x266)](_0x2323bf[_0x544a(0x830)])),_0x2126b3[_0x544a(0x997)](_0x2323bf[_0x544a(0x830)]),_0x31a0ad++;})()),_0x5c552f(),_0x54306d()):_0x2126b3[_0x2236ff(0x68c)](_0x4bb0c4[_0x2236ff(0x824)]['index'],_0x4bb0c4[_0x2236ff(0x824)]);}break;case _0x2a74a6[_0x2236ff(0x5fb)]['Completed']:if(_0x2236ff(0x5db)!==_0x4bb0c4[_0x2236ff(0x824)]['type'])return;for(;_0x31a0ad!==_0x4bb0c4['result'][_0x2236ff(0xa4b)];)await _0x35fbea[_0x2236ff(0x3a0)](0x3e8);const _0x34108d=_0x4bb0c4[_0x2236ff(0x824)][_0x2236ff(0x4d6)]??0x0;this[_0x2236ff(0x7ea)](_0x104667['prompt'],_0x34108d),clearTimeout(_0x1d050a),_0xb0c598(),this[_0x2236ff(0xb1c)]+=0x1,this[_0x2236ff(0x35e)]+=_0x34108d,this[_0x2236ff(0x844)]();break;case _0x2a74a6[_0x2236ff(0x5fb)][_0x2236ff(0x8d3)]:clearTimeout(_0x1d050a),_0xb0c598(_0x4b8523['codes'][_0x2236ff(0x285)]),this[_0x2236ff(0x844)]();}},'error':_0x137975=>{const _0x5c897e=_0x4e6c4d;clearTimeout(_0x1d050a),_0xb0c598(_0x4b8523[_0x5c897e(0xa20)][_0x5c897e(0x285)]);}}),_0x1f241e=()=>{const _0x893cd4=_0x4e6c4d;_0xb0c598(_0x4b8523[_0x893cd4(0xa20)][_0x893cd4(0x5be)]);},_0x54306d=()=>{clearTimeout(_0x1d050a),_0x1d050a=setTimeout(_0x1f241e,_0xe7aec6);};for(_0x1d050a=setTimeout(_0x1f241e,_0xe7aec6);!_0x2cbbac||_0x2323bf[_0x4e6c4d(0x830)]>0x0;)_0x2323bf[_0x4e6c4d(0x830)]>0x0?yield _0x2323bf['shift']():await new Promise(_0x4e1604=>_0x12eef3=_0x4e1604);if(_0x5391bd)throw _0x58cca5[_0x4e6c4d(0x5c5)](_0x4e6c4d(0xac0),{'nodeId':this[_0x4e6c4d(0x61b)]['getId'](),'nodeType':this[_0x4e6c4d(0x61b)]['type']}),new _0x4b8523(_0x5391bd);}async[_0x273dd2(0x8fb)](){const _0x1386cc=_0x273dd2;return(await _0x3fff33[_0x1386cc(0x8e0)](this['vendorId'],this[_0x1386cc(0x51b)]))['dataBucketIds'];}[_0x273dd2(0x7ea)](_0x555644,_0x1c0da2){const _0x295927=_0x273dd2,_0x2064de=this[_0x295927(0x51b)],_0x507b9d=this[_0x295927(0x5ca)]();_0x58cca5['logServiceEvent'](_0x37519b['GenerativeAIContext'],{'topic':_0x2064de,'prompt':_0x555644,'type':'prompt','nodeId':_0x507b9d,'tokenCount':_0x1c0da2});}async['getJobObservable'](_0x4015e3,_0x35bfd1,_0x151447,_0x112d38={}){const _0x2ba700=_0x273dd2;let _0x3768a7;switch(_0x151447['type']){case'collection-create':case _0x2ba700(0x637):case _0x2ba700(0xa51):case _0x2ba700(0x86c):case'file-delete':case _0x2ba700(0x2c2):case'file-ingest':case'file-list':case _0x2ba700(0x2a2):case _0x2ba700(0x5db):case'rate':case'realtime-session-create':case _0x2ba700(0x4f2):case _0x2ba700(0x5e4):_0x3768a7={'id':_0x4015e3,'jobType':_0x35bfd1,'parameters':{..._0x112d38,..._0x151447},'status':_0x2a74a6[_0x2ba700(0x5fb)][_0x2ba700(0x8c1)]};break;default:throw new Error(_0x2ba700(0x73c));}return await this[_0x2ba700(0xc0c)](_0x3768a7);}[_0x273dd2(0x844)](){const _0x5f0752=_0x273dd2;this[_0x5f0752(0x9a2)]&&clearTimeout(this[_0x5f0752(0x9a2)]),this[_0x5f0752(0x9a2)]=setTimeout(async()=>{const _0x5d6db0=_0x5f0752;delete this['debounceStats'],this[_0x5d6db0(0x2fb)][_0x5d6db0(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x5d6db0(0x829)],'content':{'type':_0x310f3a[_0x5d6db0(0x30f)],'label':this[_0x5d6db0(0x51b)],'stats':{'timestamp':Date[_0x5d6db0(0x3a1)](),'storage':0x0,'messagesSent':this[_0x5d6db0(0x695)],'messagesReceived':this[_0x5d6db0(0x3ed)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x5d6db0(0xc1b)],'writes':0x0,'reads':0x0,'prompts':this[_0x5d6db0(0xb1c)],'tokens':this[_0x5d6db0(0x35e)]}}});},_0xcc772);}}var _0x8602cd,_0x25d2be,_0x584638,_0x3e2f29,_0xac01e2,_0x59296e,_0x2e40f1,_0x3ccee8,_0xe29f3a,_0x41e841,_0x355af3;!function(_0xb03741){const _0x26f558=_0x273dd2;_0xb03741[_0x26f558(0x69e)]=_0x26f558(0x69e),_0xb03741[_0x26f558(0x569)]=_0x26f558(0x569),_0xb03741[_0x26f558(0x816)]=_0x26f558(0x816),_0xb03741[_0x26f558(0xb83)]=_0x26f558(0xb83);}(_0x8602cd||(_0x8602cd={})),function(_0x4f548a){const _0x1ab37b=_0x273dd2;_0x4f548a[_0x1ab37b(0x649)]='ModelText',_0x4f548a[_0x1ab37b(0x2ad)]=_0x1ab37b(0x2ad),_0x4f548a[_0x1ab37b(0x8f6)]='VectorSearch',_0x4f548a[_0x1ab37b(0x505)]=_0x1ab37b(0x505),_0x4f548a[_0x1ab37b(0x288)]=_0x1ab37b(0x288),_0x4f548a[_0x1ab37b(0x4ef)]=_0x1ab37b(0x4ef);}(_0x25d2be||(_0x25d2be={})),function(_0x2248a2){const _0x1b3740=_0x273dd2;_0x2248a2[_0x2248a2[_0x1b3740(0xc1e)]=0x0]=_0x1b3740(0xc1e),_0x2248a2[_0x2248a2[_0x1b3740(0xbf7)]=0x5]=_0x1b3740(0xbf7),_0x2248a2[_0x2248a2[_0x1b3740(0x9bb)]=0xa]='Warning',_0x2248a2[_0x2248a2[_0x1b3740(0x360)]=0xf]=_0x1b3740(0x360);}(_0x584638||(_0x584638={})),function(_0x4929ef){const _0x3ba920=_0x273dd2;_0x4929ef[_0x3ba920(0x351)]=_0x3ba920(0x351),_0x4929ef[_0x3ba920(0xbdf)]='Ingest',_0x4929ef['Knowledge']=_0x3ba920(0x591),_0x4929ef[_0x3ba920(0x603)]='Skill',_0x4929ef[_0x3ba920(0x446)]=_0x3ba920(0x446),_0x4929ef['Job']=_0x3ba920(0x601),_0x4929ef[_0x3ba920(0x96b)]=_0x3ba920(0x96b),_0x4929ef[_0x3ba920(0x369)]='Rating';}(_0x3e2f29||(_0x3e2f29={})),function(_0x35fa24){const _0x4b71e2=_0x273dd2;_0x35fa24[_0x4b71e2(0x46a)]=_0x4b71e2(0x46a),_0x35fa24[_0x4b71e2(0x399)]='Completed';}(_0xac01e2||(_0xac01e2={})),function(_0x3b7bde){const _0x385a42=_0x273dd2;_0x3b7bde[_0x385a42(0x337)]=_0x385a42(0x337),_0x3b7bde['IntermediateOutput']=_0x385a42(0xa60),_0x3b7bde[_0x385a42(0xa4a)]=_0x385a42(0xa4a),_0x3b7bde[_0x385a42(0xbbd)]=_0x385a42(0xbbd);}(_0x59296e||(_0x59296e={})),function(_0x5775a2){const _0x491bcc=_0x273dd2;_0x5775a2['ChunkSplitter']=_0x491bcc(0x8c2),_0x5775a2[_0x491bcc(0x42e)]=_0x491bcc(0x42e),_0x5775a2[_0x491bcc(0x505)]=_0x491bcc(0x505),_0x5775a2[_0x491bcc(0xbc6)]=_0x491bcc(0xbc6),_0x5775a2[_0x491bcc(0x207)]=_0x491bcc(0x207),_0x5775a2[_0x491bcc(0x649)]=_0x491bcc(0x649),_0x5775a2['ModelVector']=_0x491bcc(0x2ad),_0x5775a2['RelationExtractor']=_0x491bcc(0x499),_0x5775a2[_0x491bcc(0xa99)]='SentenceSplitter',_0x5775a2['VectorDatabase']=_0x491bcc(0xb15),_0x5775a2['WordSplitter']='WordSplitter';}(_0x2e40f1||(_0x2e40f1={})),function(_0x55b3a6){const _0x66f157=_0x273dd2;_0x55b3a6[_0x66f157(0xc13)]=_0x66f157(0xc13),_0x55b3a6[_0x66f157(0x632)]='GetContextResult';}(_0x3ccee8||(_0x3ccee8={})),function(_0x1508ee){const _0x23e64e=_0x273dd2;_0x1508ee[_0x23e64e(0x8d0)]=_0x23e64e(0x8d0),_0x1508ee[_0x23e64e(0xad7)]='FetchUrl',_0x1508ee['SearchGoogle']=_0x23e64e(0xa09),_0x1508ee[_0x23e64e(0x73a)]='SearchPerplexity',_0x1508ee['ExecuteAgent']=_0x23e64e(0x760),_0x1508ee['ExecuteCustomSkill']=_0x23e64e(0x268),_0x1508ee['QueryFile']=_0x23e64e(0xac1),_0x1508ee[_0x23e64e(0x970)]='WriteFile',_0x1508ee[_0x23e64e(0x376)]=_0x23e64e(0x376),_0x1508ee['FormGetQuestion']='FormGetQuestion',_0x1508ee['FormSetAnswer']=_0x23e64e(0x28f),_0x1508ee[_0x23e64e(0xb89)]=_0x23e64e(0xb89);}(_0xe29f3a||(_0xe29f3a={})),function(_0x4d11e9){const _0x55d32f=_0x273dd2;_0x4d11e9[_0x55d32f(0xabf)]=_0x55d32f(0xabf),_0x4d11e9[_0x55d32f(0x1f3)]=_0x55d32f(0x1f3);}(_0x41e841||(_0x41e841={})),function(_0x3c3552){const _0x1967d2=_0x273dd2;_0x3c3552[_0x1967d2(0x4bc)]=_0x1967d2(0x4bc);}(_0x355af3||(_0x355af3={}));class _0xe0f10c{static [_0x273dd2(0x4e8)]=new _0xe0f10c();[_0x273dd2(0x3e4)]=[];[_0x273dd2(0xb1d)]=!0x1;constructor(){}static[_0x273dd2(0x64f)](){return _0xe0f10c['instance'];}get['length'](){const _0x3e6af6=_0x273dd2;return this['jobQueue'][_0x3e6af6(0x830)];}[_0x273dd2(0x95a)](){const _0x346e1a=_0x273dd2;return!this[_0x346e1a(0xb1d)];}['clear'](_0x15f841){const _0x502f09=_0x273dd2;_0x15f841?this[_0x502f09(0x3e4)]=this[_0x502f09(0x3e4)][_0x502f09(0x57c)](_0x13998f=>_0x13998f['ownerId']!==_0x15f841):(this[_0x502f09(0x3e4)]=[],this[_0x502f09(0xb1d)]=!0x1);}[_0x273dd2(0xbf8)](_0x4c441b,_0x50bdad){const _0x19fc97=_0x273dd2;this[_0x19fc97(0x3e4)]['push']({'callback':_0x50bdad,'ownerId':_0x4c441b}),this[_0x19fc97(0x5a1)]();}async[_0x273dd2(0x5a1)](){const _0x1c9b24=_0x273dd2;if(!this[_0x1c9b24(0xb1d)]){for(this['isRunning']=!0x0;this[_0x1c9b24(0x3e4)][_0x1c9b24(0x830)]>0x0;){const _0x473674=this[_0x1c9b24(0x3e4)][_0x1c9b24(0xbd6)]();if(_0x473674)try{console[_0x1c9b24(0x763)]('JobQueueService:\x20Running\x20job'),await _0x473674[_0x1c9b24(0xac2)](),console[_0x1c9b24(0x763)]('JobQueueService:\x20Job\x20completed');}catch(_0x42aba3){console['error'](_0x1c9b24(0x565),_0x42aba3);}}this[_0x1c9b24(0xb1d)]=!0x1;}}}const _0x3cdaad=_0xe0f10c[_0x273dd2(0x64f)]();class _0x4b716a extends _0x37e41d{[_0x273dd2(0xc12)];[_0x273dd2(0x4cb)];constructor(_0x297a9c,_0x53d9de,_0xf31c36){const _0x365b4c=_0x273dd2;super(_0x297a9c,_0x53d9de),this[_0x365b4c(0xc12)]=_0xf31c36;}[_0x273dd2(0x54c)](){const _0x208719=_0x273dd2;return _0x2a74a6['ContentType'][_0x208719(0x601)];}[_0x273dd2(0x485)](){const _0x19b902=_0x273dd2;this[_0x19b902(0x9e8)]();}[_0x273dd2(0x210)](){const _0x11e089=_0x273dd2;this[_0x11e089(0x2fb)]?.['publish']({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a['CloseJobWorker'],'label':this[_0x11e089(0x51b)]}});}[_0x273dd2(0x3da)](){const _0x3835b1=_0x273dd2;this[_0x3835b1(0x4cb)]?.(),delete this[_0x3835b1(0x4cb)],this[_0x3835b1(0x485)]();}[_0x273dd2(0x553)](){const _0x13780a=_0x273dd2;_0x3cdaad[_0x13780a(0x320)](this[_0x13780a(0x51b)]),this[_0x13780a(0x4cb)]?.(),delete this['unsubscribeListener'],super[_0x13780a(0x553)]();}[_0x273dd2(0x95a)](){const _0xc06912=_0x273dd2;return _0x3cdaad[_0xc06912(0x95a)]();}['getBid'](){return 0x1;}[_0x273dd2(0x278)](_0x56b67e,_0x846f9f,_0x28c555){}[_0x273dd2(0x3ae)](_0x3ae904,_0x1525fa){return _0x3ae904;}async[_0x273dd2(0x609)](_0x5a5657,_0x4f10c7){const _0x16a856=_0x273dd2;console[_0x16a856(0x763)](_0x16a856(0x338));}async['stopTracing'](_0x53076e,_0x56ed3e){const _0xc5f3e7=_0x273dd2;console[_0xc5f3e7(0x763)](_0xc5f3e7(0x338));}[_0x273dd2(0x9e8)](){const _0x1aeb7e=_0x273dd2;this[_0x1aeb7e(0x4cb)]||(this[_0x1aeb7e(0x4cb)]=this[_0x1aeb7e(0xb80)](async(_0x2fbc09,_0x155ba2)=>{const _0x1dc42e=_0x1aeb7e;if(_0x58cca5['log'](_0x57ac86[_0x1dc42e(0x3d4)],_0x1dc42e(0x42a),_0x155ba2),!(_0x155ba2 instanceof File)){if(this[_0x1dc42e(0x686)](_0x155ba2))_0x58cca5[_0x1dc42e(0x3a3)](_0x57ac86[_0x1dc42e(0x3d4)],_0x1dc42e(0x7b9),_0x155ba2),this['isAvailable']()?this[_0x1dc42e(0x709)](_0x155ba2['id'],_0x155ba2['jobType'],_0x2fbc09):this[_0x1dc42e(0x914)](_0x155ba2['id'],_0x155ba2[_0x1dc42e(0x714)],_0x2fbc09);else{if(this[_0x1dc42e(0x425)](_0x155ba2)){_0x58cca5[_0x1dc42e(0x3a3)](_0x57ac86[_0x1dc42e(0x3d4)],_0x1dc42e(0x35f),_0x155ba2);const {id:_0x1ad07c,parameters:_0x4f9d72}=_0x155ba2;await this['startTracing'](_0x1ad07c,_0x4f9d72),this[_0x1dc42e(0x1dd)](_0x155ba2['id'],_0x155ba2,_0x2fbc09);}}}}));}['sendBid'](_0x3adfc8,_0x549db3,_0x59edbf){const _0x1540f=_0x273dd2,_0x23a4b0={'id':_0x3adfc8,'jobType':_0x549db3,'jobPhase':_0x2b0fe1['Bid'],'available':!0x0,'queueLength':_0x3cdaad['length'],'bid':this[_0x1540f(0xa21)]()};_0x58cca5[_0x1540f(0x3a3)](_0x57ac86['Jobs'],_0x1540f(0xa34),_0x23a4b0),this['send'](_0x23a4b0,[_0x59edbf]);}['sendReject'](_0x749678,_0x1be3d3,_0x2ab355){const _0x14e9a7=_0x273dd2,_0x155333={'id':_0x749678,'jobType':_0x1be3d3,'jobPhase':_0x2b0fe1[_0x14e9a7(0xc2c)],'available':!0x1,'queueLength':_0x3cdaad['length'],'bid':0x0};_0x58cca5[_0x14e9a7(0x3a3)](_0x57ac86[_0x14e9a7(0x3d4)],_0x14e9a7(0x9c9),_0x155333),this['send'](_0x155333,[_0x2ab355]);}async[_0x273dd2(0x1dd)](_0x91d3db,_0x54696b,_0x3fd160){const _0x125b73=_0x273dd2;_0x58cca5[_0x125b73(0x3a3)](_0x57ac86['Jobs'],_0x125b73(0x8eb),_0x54696b);const _0x4b7494={'id':_0x91d3db,'jobType':_0x54696b[_0x125b73(0x714)],'parameters':_0x54696b[_0x125b73(0xbd2)]};try{switch(_0x54696b[_0x125b73(0x714)]){case _0x2a74a6[_0x125b73(0x96a)]['Job']:await this['processJob'](_0x91d3db,_0x54696b,_0x4b7494,_0x3fd160);break;case _0x2a74a6['JobType'][_0x125b73(0x7a6)]:await this[_0x125b73(0xbd9)](_0x91d3db,_0x54696b,_0x4b7494,_0x3fd160);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0x3b4be1){_0x58cca5[_0x125b73(0x5c5)](_0x125b73(0x93c),{'nodeId':this[_0x125b73(0x7c6)][_0x125b73(0xb9d)](),'nodeType':this[_0x125b73(0x7c6)][_0x125b73(0x6b9)],'data':{'job':_0x4b7494}},_0x3b4be1);const _0x31aa48=_0x3b4be1 instanceof Error?_0x3b4be1[_0x125b73(0x512)]:_0x125b73(0x5fd),_0x5ee234={'id':_0x91d3db,'jobType':_0x54696b[_0x125b73(0x714)],'jobPhase':_0x2b0fe1[_0x125b73(0x8d3)],'message':_0x31aa48};await this[_0x125b73(0xabc)](_0x5ee234,[_0x3fd160]);}}async['processJob'](_0x7f7907,_0x375eae,_0x197132,_0x451b77){const _0x379d5d=_0x273dd2,_0x96f5dc=Date[_0x379d5d(0x3a1)](),_0x5a617c=await this['internalProcessJob'](_0x7f7907,_0x197132[_0x379d5d(0xbd2)]);this[_0x379d5d(0x278)](_0x5a617c,_0x96f5dc,Date[_0x379d5d(0x3a1)]());const _0x1acf58={'id':_0x7f7907,'jobType':_0x375eae[_0x379d5d(0x714)],'jobPhase':_0x2b0fe1['Result'],'result':_0x5a617c};_0x58cca5[_0x379d5d(0x3a3)](_0x57ac86[_0x379d5d(0x3d4)],_0x379d5d(0xab9),_0x1acf58),await this[_0x379d5d(0xabc)](_0x1acf58,[_0x451b77]),await this[_0x379d5d(0x2cf)](_0x7f7907,_0x197132[_0x379d5d(0xbd2)]);}async[_0x273dd2(0xbd9)](_0xb930e2,_0x291ce7,_0x35d574,_0x379c74){const _0x45f82b=_0x273dd2,_0xa34cd=Date[_0x45f82b(0x3a1)]();let _0x5b94db=0x0,_0x42be31={};for await(const _0x38b826 of this['internalProcessJobStream'](_0x35d574['id'],_0x35d574[_0x45f82b(0xbd2)])){const _0x167c0e={'id':_0xb930e2,'jobType':_0x291ce7[_0x45f82b(0x714)],'jobPhase':_0x2b0fe1[_0x45f82b(0x3df)],'result':{..._0x38b826,'index':_0x5b94db}};_0x58cca5[_0x45f82b(0x3a3)](_0x57ac86['Jobs'],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x167c0e),this['send'](_0x167c0e,[_0x379c74]),_0x42be31=this[_0x45f82b(0x3ae)](_0x42be31,_0x38b826),_0x5b94db++;}this['compileStats'](_0x42be31,_0xa34cd,Date[_0x45f82b(0x3a1)]());const _0x1aebc2={'id':_0xb930e2,'jobType':_0x291ce7['jobType'],'jobPhase':_0x2b0fe1['Result'],'result':{..._0x42be31,'index':_0x5b94db}};_0x58cca5[_0x45f82b(0x3a3)](_0x57ac86[_0x45f82b(0x3d4)],_0x45f82b(0xab9),_0x1aebc2),await this[_0x45f82b(0xabc)](_0x1aebc2,[_0x379c74]),await this['stopTracing'](_0xb930e2,_0x35d574['parameters']);}[_0x273dd2(0x686)](_0x5eba35){const _0x305cb8=_0x273dd2;return _0x5eba35['jobPhase']===_0x2b0fe1[_0x305cb8(0x876)];}[_0x273dd2(0x425)](_0x76e39f){const _0x53c59d=_0x273dd2;return _0x76e39f['jobPhase']===_0x2b0fe1[_0x53c59d(0x4ed)];}}const _0x5c194f=new Map([[_0x273dd2(0xc28),{'id':_0x273dd2(0xc28),'inputTokenPrice':3.06,'outputTokenPrice':12.25,'fallbackModel':_0x273dd2(0xa1a)}],[_0x273dd2(0xa1a),{'id':_0x273dd2(0xa1a),'inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':_0x273dd2(0xa1a)}],[_0x273dd2(0x8a8),{'id':_0x273dd2(0x8a8),'inputTokenPrice':2.45,'outputTokenPrice':9.8,'fallbackModel':'gpt-4.1-nano'}],[_0x273dd2(0xb06),{'id':_0x273dd2(0xb06),'inputTokenPrice':0.49,'outputTokenPrice':1.96,'fallbackModel':_0x273dd2(0xb06)}],[_0x273dd2(0x9e4),{'id':_0x273dd2(0x9e4),'inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':_0x273dd2(0x9e4)}],['o1',{'id':'o1','inputTokenPrice':18.38,'outputTokenPrice':73.5,'fallbackModel':'gpt-4.1-nano'}],['o3',{'id':'o3','inputTokenPrice':12.25,'outputTokenPrice':0x31,'fallbackModel':_0x273dd2(0x9e4)}],[_0x273dd2(0xb03),{'id':_0x273dd2(0xb03),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x273dd2(0x9e4)}],[_0x273dd2(0x662),{'id':'o4-mini','inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x273dd2(0x9e4)}],[_0x273dd2(0x461),{'id':_0x273dd2(0x461),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x273dd2(0x356)}],[_0x273dd2(0x23f),{'id':_0x273dd2(0x23f),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x273dd2(0x356)}],[_0x273dd2(0x6a9),{'id':_0x273dd2(0x6a9),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x273dd2(0x356)}],['claude-3-5-haiku-latest',{'id':_0x273dd2(0x26a),'inputTokenPrice':0.98,'outputTokenPrice':4.9,'fallbackModel':'claude-3-5-haiku-latest'}],[_0x273dd2(0xbe7),{'id':'claude-3-5-sonnet-latest','inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':'claude-3-haiku-20240307'}],[_0x273dd2(0x356),{'id':'claude-3-haiku-20240307','inputTokenPrice':0.31,'outputTokenPrice':1.53,'fallbackModel':'claude-3-haiku-20240307'}],[_0x273dd2(0x620),{'id':_0x273dd2(0x620),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x273dd2(0x356)}],['google/gemini-2.5-pro',{'id':_0x273dd2(0xbf3),'inputTokenPrice':1.53,'outputTokenPrice':12.25,'fallbackModel':_0x273dd2(0x7e0)}],['google/gemini-2.5-flash',{'id':_0x273dd2(0x7e0),'inputTokenPrice':0.37,'outputTokenPrice':3.06,'fallbackModel':_0x273dd2(0x7e0)}],[_0x273dd2(0x455),{'id':_0x273dd2(0x455),'inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':_0x273dd2(0x455)}],[_0x273dd2(0xb12),{'id':_0x273dd2(0xb12),'inputTokenPrice':0.09,'outputTokenPrice':0.37,'fallbackModel':_0x273dd2(0xb12)}],[_0x273dd2(0x919),{'id':_0x273dd2(0x919),'inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':_0x273dd2(0x919)}],[_0x273dd2(0xa2e),{'id':_0x273dd2(0xa2e),'inputTokenPrice':0.1,'outputTokenPrice':0.37,'fallbackModel':_0x273dd2(0xa2e)}],[_0x273dd2(0x817),{'id':_0x273dd2(0x817),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':'x-ai/grok-3-mini-beta'}],['x-ai/grok-3-mini-beta',{'id':'x-ai/grok-3-mini-beta','inputTokenPrice':0.37,'outputTokenPrice':0.61,'fallbackModel':_0x273dd2(0x752)}],['sonar',{'id':_0x273dd2(0x269),'inputTokenPrice':1.3,'outputTokenPrice':1.3,'fallbackModel':'sonar'}],[_0x273dd2(0x554),{'id':_0x273dd2(0x554),'inputTokenPrice':3.9,'outputTokenPrice':19.5,'fallbackModel':_0x273dd2(0x269)}],[_0x273dd2(0x2a6),{'id':_0x273dd2(0x2a6),'inputTokenPrice':1.3,'outputTokenPrice':6.5,'fallbackModel':_0x273dd2(0x269)}],['sonar-reasoning-pro',{'id':_0x273dd2(0x6f0),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x273dd2(0x269)}],['sonar-deep-research',{'id':_0x273dd2(0xc0a),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':'sonar'}]]),_0x664954=new Map([[_0x273dd2(0x26b),{'id':_0x273dd2(0x26b),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x8ea)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x2bb)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)]['Vector'],'sourceUrl':_0x273dd2(0x902)}],[_0x273dd2(0x255),{'id':_0x273dd2(0x255),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0xb8a)],'taskType':_0x2a74a6[_0x273dd2(0x92f)]['Embeddings'],'inputType':_0x2a74a6['GenerativeAIModelInputType'][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x3ee)],'sourceUrl':''}],[_0x273dd2(0x8a3),{'id':'text-embedding-3-large','engineType':_0x2a74a6['GenerativeAIEngineType'][_0x273dd2(0xb8a)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x2bb)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)]['Text'],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x3ee)],'sourceUrl':''}],['llama-3.1-8b',{'id':_0x273dd2(0x9e6),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x8ea)],'taskType':_0x2a74a6['GenerativeAITaskType'][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)]['Text'],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'sourceUrl':'https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf'}],['llama-3.2-3b',{'id':'llama-3.2-3b','engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x8ea)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'sourceUrl':_0x273dd2(0x8a0)}],[_0x273dd2(0xb4c),{'id':_0x273dd2(0xb4c),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x8ea)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'sourceUrl':'https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf'}],[_0x273dd2(0xc28),{'id':_0x273dd2(0xc28),'engineType':_0x2a74a6['GenerativeAIEngineType'][_0x273dd2(0xb8a)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6['GenerativeAIModelOutputType'][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x1fe),'sourceUrl':''}],[_0x273dd2(0xa1a),{'id':_0x273dd2(0xa1a),'engineType':_0x2a74a6['GenerativeAIEngineType']['OpenAI'],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6['GenerativeAIModelOutputType'][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x1fe),'sourceUrl':''}],[_0x273dd2(0x8a8),{'id':_0x273dd2(0x8a8),'engineType':_0x2a74a6['GenerativeAIEngineType']['OpenAI'],'taskType':_0x2a74a6['GenerativeAITaskType'][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x744),'sourceUrl':''}],[_0x273dd2(0xb06),{'id':_0x273dd2(0xb06),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0xb8a)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':'May\x202024','sourceUrl':''}],[_0x273dd2(0x9e4),{'id':_0x273dd2(0x9e4),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0xb8a)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6['GenerativeAIModelInputType'][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x744),'sourceUrl':''}],['o1',{'id':'o1','engineType':_0x2a74a6[_0x273dd2(0x82f)]['OpenAI'],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)]['Text'],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x1fe),'sourceUrl':''}],['o3',{'id':'o3','engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0xb8a)],'taskType':_0x2a74a6[_0x273dd2(0x92f)]['TextGeneration'],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x744),'sourceUrl':''}],[_0x273dd2(0xb03),{'id':_0x273dd2(0xb03),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0xb8a)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x1fe),'sourceUrl':''}],[_0x273dd2(0x662),{'id':'o4-mini','engineType':_0x2a74a6[_0x273dd2(0x82f)]['OpenAI'],'taskType':_0x2a74a6['GenerativeAITaskType'][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6['GenerativeAIModelOutputType'][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x744),'sourceUrl':''}],['gpt-4o-realtime-preview',{'id':_0x273dd2(0x558),'engineType':_0x2a74a6[_0x273dd2(0x82f)]['OpenAI'],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x46f)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x766)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)]['Audio'],'knowledgeCutoffDate':'September\x202023','sourceUrl':''}],['gpt-4o-mini-realtime-preview',{'id':_0x273dd2(0x1f0),'engineType':_0x2a74a6['GenerativeAIEngineType'][_0x273dd2(0xb8a)],'taskType':_0x2a74a6['GenerativeAITaskType'][_0x273dd2(0x46f)],'inputType':_0x2a74a6['GenerativeAIModelInputType'][_0x273dd2(0x766)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x766)],'knowledgeCutoffDate':_0x273dd2(0x785),'sourceUrl':''}],[_0x273dd2(0x25b),{'id':_0x273dd2(0x25b),'engineType':_0x2a74a6[_0x273dd2(0x82f)]['OpenAI'],'taskType':_0x2a74a6['GenerativeAITaskType'][_0x273dd2(0x2c9)],'inputType':_0x2a74a6['GenerativeAIModelInputType'][_0x273dd2(0x766)],'outputType':_0x2a74a6['GenerativeAIModelOutputType'][_0x273dd2(0x25f)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x273dd2(0x550),{'id':_0x273dd2(0x550),'engineType':_0x2a74a6[_0x273dd2(0x82f)]['OpenAI'],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x2c9)],'inputType':_0x2a74a6['GenerativeAIModelInputType'][_0x273dd2(0x766)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x273dd2(0x293),{'id':'whisper-1','engineType':_0x2a74a6[_0x273dd2(0x82f)]['OpenAI'],'taskType':_0x2a74a6['GenerativeAITaskType'][_0x273dd2(0x2c9)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x766)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)]['Text'],'knowledgeCutoffDate':'','sourceUrl':''}],['gpt-4o-mini-tts',{'id':_0x273dd2(0x396),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0xb8a)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0xafe)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x766)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x273dd2(0x50c),{'id':_0x273dd2(0x50c),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0xb8a)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0xafe)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x766)],'knowledgeCutoffDate':'','sourceUrl':''}],['tts-1-hd',{'id':'tts-1-hd','engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0xb8a)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0xafe)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x766)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x273dd2(0x749),{'id':_0x273dd2(0x749),'engineType':_0x2a74a6['GenerativeAIEngineType'][_0x273dd2(0xa10)],'taskType':_0x2a74a6['GenerativeAITaskType'][_0x273dd2(0xafe)],'inputType':_0x2a74a6['GenerativeAIModelInputType'][_0x273dd2(0x25f)],'outputType':_0x2a74a6['GenerativeAIModelOutputType']['Audio'],'knowledgeCutoffDate':'','sourceUrl':''}],['eleven_turbo_v2_5',{'id':_0x273dd2(0x3f9),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0xa10)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0xafe)],'inputType':_0x2a74a6['GenerativeAIModelInputType'][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x766)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x273dd2(0x8de),{'id':_0x273dd2(0x8de),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0xa10)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0xafe)],'inputType':_0x2a74a6['GenerativeAIModelInputType'][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x766)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x273dd2(0x461),{'id':_0x273dd2(0x461),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x40e)],'taskType':_0x2a74a6[_0x273dd2(0x92f)]['TextGeneration'],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':'March\x202025','sourceUrl':''}],[_0x273dd2(0x23f),{'id':_0x273dd2(0x23f),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x40e)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)]['Text'],'knowledgeCutoffDate':_0x273dd2(0x625),'sourceUrl':''}],['claude-3-7-sonnet-latest',{'id':_0x273dd2(0x6a9),'engineType':_0x2a74a6['GenerativeAIEngineType'][_0x273dd2(0x40e)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6['GenerativeAIModelInputType'][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x5ba),'sourceUrl':''}],[_0x273dd2(0x26a),{'id':_0x273dd2(0x26a),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x40e)],'taskType':_0x2a74a6['GenerativeAITaskType'][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x795),'sourceUrl':''}],['claude-3-5-sonnet-latest',{'id':_0x273dd2(0xbe7),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x40e)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)]['Text'],'knowledgeCutoffDate':'July\x202024','sourceUrl':''}],['claude-3-haiku-20240307',{'id':_0x273dd2(0x356),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x40e)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6['GenerativeAIModelInputType'][_0x273dd2(0x25f)],'outputType':_0x2a74a6['GenerativeAIModelOutputType'][_0x273dd2(0x25f)],'knowledgeCutoffDate':'August\x202023','sourceUrl':''}],[_0x273dd2(0x620),{'id':'claude-3-opus-latest','engineType':_0x2a74a6[_0x273dd2(0x82f)]['Anthropic'],'taskType':_0x2a74a6[_0x273dd2(0x92f)]['TextGeneration'],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)]['Text'],'knowledgeCutoffDate':_0x273dd2(0x77d),'sourceUrl':''}],[_0x273dd2(0xbf3),{'id':_0x273dd2(0xbf3),'engineType':_0x2a74a6['GenerativeAIEngineType'][_0x273dd2(0x67e)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6['GenerativeAIModelInputType']['Text'],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x8c7),'sourceUrl':''}],[_0x273dd2(0x7e0),{'id':_0x273dd2(0x7e0),'engineType':_0x2a74a6['GenerativeAIEngineType']['OpenRouter'],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)]['Text'],'knowledgeCutoffDate':_0x273dd2(0x8c7),'sourceUrl':''}],['google/gemini-2.0-flash-001',{'id':'google/gemini-2.0-flash-001','engineType':_0x2a74a6[_0x273dd2(0x82f)]['OpenRouter'],'taskType':_0x2a74a6['GenerativeAITaskType'][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)]['Text'],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x6c0),'sourceUrl':''}],[_0x273dd2(0xb12),{'id':'google/gemini-2.0-flash-lite-001','engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x67e)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)]['Text'],'outputType':_0x2a74a6[_0x273dd2(0x2c3)]['Text'],'knowledgeCutoffDate':_0x273dd2(0x6c0),'sourceUrl':''}],['meta-llama/llama-4-maverick',{'id':_0x273dd2(0x919),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x67e)],'taskType':_0x2a74a6[_0x273dd2(0x92f)]['TextGeneration'],'inputType':_0x2a74a6[_0x273dd2(0xaf9)][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x4c7),'sourceUrl':''}],['meta-llama/llama-4-scout',{'id':_0x273dd2(0xa2e),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x67e)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6['GenerativeAIModelInputType'][_0x273dd2(0x25f)],'outputType':_0x2a74a6[_0x273dd2(0x2c3)]['Text'],'knowledgeCutoffDate':_0x273dd2(0x4c7),'sourceUrl':''}],[_0x273dd2(0x817),{'id':_0x273dd2(0x817),'engineType':_0x2a74a6[_0x273dd2(0x82f)][_0x273dd2(0x67e)],'taskType':_0x2a74a6['GenerativeAITaskType'][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)]['Text'],'outputType':_0x2a74a6[_0x273dd2(0x2c3)][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x5ba),'sourceUrl':''}],[_0x273dd2(0x752),{'id':_0x273dd2(0x752),'engineType':_0x2a74a6['GenerativeAIEngineType'][_0x273dd2(0x67e)],'taskType':_0x2a74a6[_0x273dd2(0x92f)][_0x273dd2(0x306)],'inputType':_0x2a74a6[_0x273dd2(0xaf9)]['Text'],'outputType':_0x2a74a6['GenerativeAIModelOutputType'][_0x273dd2(0x25f)],'knowledgeCutoffDate':_0x273dd2(0x5ba),'sourceUrl':''}]]),_0x320377=require('rxjs/operators');class _0x138194{['subject'];constructor(){const _0x3fb566=_0x273dd2;this['subject']=new _0x5cea22[(_0x3fb566(0x43f))]();}[_0x273dd2(0x743)](_0x13164e){const _0x5c34b3=_0x273dd2;this[_0x5c34b3(0x4e7)][_0x5c34b3(0x4ba)](_0x13164e);}async[_0x273dd2(0xb91)](){const _0x109033=_0x273dd2;return(0x0,_0x5cea22[_0x109033(0x9a6)])(this[_0x109033(0x4e7)]['pipe']((0x0,_0x320377[_0x109033(0x2e4)])(0x1)));}}function _0x472ecd(_0x354425){const _0x2a6d47=_0x273dd2;try{return JSON[_0x2a6d47(0xa5e)](_0x354425);}catch(_0x211019){return _0x354425 instanceof Error?_0x354425['toString']():JSON['stringify'](_0x2a6d47(0xb64));}}class _0x5637e6{static [_0x273dd2(0x4e8)];[_0x273dd2(0xafa)]=_0x584638['Error'];[_0x273dd2(0xbc4)]=_0x584638[_0x273dd2(0xbf7)];[_0x273dd2(0x43c)]=_0x3e2f29[_0x273dd2(0x351)];[_0x273dd2(0xb71)]={};static [_0x273dd2(0x64f)]=()=>(_0x5637e6['instance']||(_0x5637e6[_0x273dd2(0x4e8)]=new _0x5637e6()),_0x5637e6[_0x273dd2(0x4e8)]);async[_0x273dd2(0x36a)](_0x4f7936,_0x5ebf56,_0x161234,_0x2b674b){const _0xa1d115=_0x273dd2;try{if(this[_0xa1d115(0xb71)][_0x5ebf56])return!0x0;const _0x59a2f2={'vendorId':_0x4f7936,'workflowId':_0x161234,'sequence':0x0};if(this[_0xa1d115(0xb71)][_0x5ebf56]=_0x59a2f2,!_0x2b674b||!_0x161234)return!0x0;const _0x208e4c=(0x0,_0x5dec29['doc'])(_0x4d7ce4['getFirestore'](),_0xa1d115(0x767)+_0x4f7936+_0xa1d115(0x48d)+_0x161234+_0xa1d115(0x1d9),_0x5ebf56);return(await(0x0,_0x5dec29[_0xa1d115(0x5e0)])(_0x208e4c))[_0xa1d115(0x330)]()||await(0x0,_0x5dec29[_0xa1d115(0x25d)])(_0x208e4c,{'threadId':_0x2b674b,'startTime':(0x0,_0x5dec29[_0xa1d115(0xbe4)])()}),!0x0;}catch(_0x427b25){return console['error']('GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.',_0x427b25),!0x1;}}async[_0x273dd2(0x60f)](_0x365599,_0x2059b9,_0x3d1b6f,_0x851681){const _0x1cfb94=_0x273dd2;try{if(!this[_0x1cfb94(0xb71)][_0x365599])throw new Error(_0x1cfb94(0x680));const _0x39b6f4=new Date(),_0x3ae45f=_0x39b6f4[_0x1cfb94(0x7a9)]()+'-'+_0x39b6f4['getMonth']()+'-'+_0x39b6f4['getDate'](),_0x1386a8=new Date(_0x39b6f4[_0x1cfb94(0x7a9)](),_0x39b6f4['getMonth'](),_0x39b6f4['getDate']()),_0x2f766d=this[_0x1cfb94(0xb71)][_0x365599][_0x1cfb94(0x300)],_0x5e1ad2=_0x2059b9+'-'+_0x3ae45f,_0x1a152e=_0x5c194f[_0x1cfb94(0x266)](_0x2059b9);if(!_0x1a152e)return void console[_0x1cfb94(0x5c5)](_0x1cfb94(0x3ad),_0x2059b9);const _0x39df76=_0x1a152e[_0x1cfb94(0x45e)]*_0x3d1b6f/0xf4240*0x64,_0x4841a8=_0x1a152e[_0x1cfb94(0x1f5)]*_0x851681/0xf4240*0x64,_0x30fc59=(0x0,_0x5dec29[_0x1cfb94(0x6c8)])(_0x4d7ce4[_0x1cfb94(0x4c1)](),_0x1cfb94(0x767)+_0x2f766d+_0x1cfb94(0xad2),_0x5e1ad2);await(0x0,_0x5dec29[_0x1cfb94(0x25d)])(_0x30fc59,{'modelId':_0x2059b9,'date':_0x1386a8,'inputTokens':(0x0,_0x5dec29[_0x1cfb94(0xb42)])(_0x3d1b6f),'outputTokens':(0x0,_0x5dec29[_0x1cfb94(0xb42)])(_0x851681),'inputCredits':(0x0,_0x5dec29[_0x1cfb94(0xb42)])(_0x39df76),'outputCredits':(0x0,_0x5dec29[_0x1cfb94(0xb42)])(_0x4841a8),'totalCredits':(0x0,_0x5dec29[_0x1cfb94(0xb42)])(_0x39df76+_0x4841a8)},{'merge':!0x0});}catch(_0x4b638f){console[_0x1cfb94(0x5c5)]('GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage',_0x4b638f);}}async[_0x273dd2(0x85a)](_0x38e5b8){const _0x5ac7c7=_0x273dd2;try{const _0x49fabc=this[_0x5ac7c7(0xb71)][_0x38e5b8['jobId']];if(!_0x49fabc)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0x38e5b8[_0x5ac7c7(0x4fc)]=_0x49fabc['sequence']++,_0x38e5b8[_0x5ac7c7(0x22d)]>=this[_0x5ac7c7(0xafa)]&&console[_0x5ac7c7(0x3a3)](JSON[_0x5ac7c7(0xa5e)](_0x38e5b8,null,0x2)),await this[_0x5ac7c7(0x457)](_0x38e5b8);}catch(_0x4b2fa8){console[_0x5ac7c7(0x5c5)](_0x5ac7c7(0x7c3),_0x4b2fa8);}}async[_0x273dd2(0x6a2)](_0x32aa26,_0x3162ac){const _0x2aa7e5=_0x273dd2;if(!_0x5637e6[_0x2aa7e5(0x4e8)])throw new Error(_0x2aa7e5(0x37a));if(!this[_0x2aa7e5(0xb71)][_0x32aa26])throw new Error(_0x2aa7e5(0x680));if(_0x3162ac&&this[_0x2aa7e5(0xb71)][_0x32aa26][_0x2aa7e5(0x27e)])try{await(0x0,_0x5dec29['setDoc'])((0x0,_0x5dec29['doc'])(_0x4d7ce4[_0x2aa7e5(0x4c1)](),'developers/'+this['openedTraces'][_0x32aa26][_0x2aa7e5(0x300)]+_0x2aa7e5(0x48d)+this[_0x2aa7e5(0xb71)][_0x32aa26][_0x2aa7e5(0x27e)]+_0x2aa7e5(0x1d9),_0x32aa26),{'endTime':(0x0,_0x5dec29[_0x2aa7e5(0xbe4)])()},{'merge':!0x0}),this[_0x2aa7e5(0x97c)](_0x32aa26);}catch(_0x57607a){console[_0x2aa7e5(0x5c5)]('GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace',_0x57607a);}else this[_0x2aa7e5(0x97c)](_0x32aa26);}['setForDeletion'](_0x4fc2d2){setTimeout(()=>{const _0xceed55=a0_0x35be;delete this[_0xceed55(0xb71)][_0x4fc2d2];},0x1b7740);}async['commitTrace'](_0x45433d){const _0x25645b=_0x273dd2;if(_0x45433d[_0x25645b(0x22d)]<this[_0x25645b(0xbc4)]&&_0x45433d[_0x25645b(0x714)]!==this[_0x25645b(0x43c)])return;if(!this['openedTraces'][_0x45433d['jobId']])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0x557d74=this['openedTraces'][_0x45433d[_0x25645b(0x99e)]];try{const _0x305af5=function(_0x1deed0){const _0x404b9f=_0x25645b,_0x9aff96=[_0x404b9f(0x4d2),_0x404b9f(0xae2),'jobType',_0x404b9f(0x6b9),_0x404b9f(0x99e),_0x404b9f(0x22d),_0x404b9f(0x937),_0x404b9f(0x3f4),_0x404b9f(0x4fc),_0x404b9f(0xaf1)],_0xeb2986={..._0x1deed0};for(const _0x3ae760 of _0x9aff96)delete _0xeb2986[_0x3ae760];return{'timestamp':_0x1deed0[_0x404b9f(0xae2)],'jobType':_0x1deed0[_0x404b9f(0x714)],'type':_0x1deed0['type'],'jobId':_0x1deed0['jobId'],'agentId':_0x1deed0[_0x404b9f(0x65f)]??'','traceLevel':_0x1deed0[_0x404b9f(0x22d)],'blockId':_0x1deed0[_0x404b9f(0x937)]??'','startTime':_0x1deed0[_0x404b9f(0x4d2)],'status':_0x1deed0[_0x404b9f(0x3f4)],'sequence':_0x1deed0[_0x404b9f(0x4fc)]??0x0,'errorDetails':_0x1deed0[_0x404b9f(0xaf1)]??'','metadata':_0x472ecd(_0xeb2986)};}(_0x45433d),_0x4d775a=(0x0,_0x5d1d4c['v4'])();console[_0x25645b(0x3a3)](_0x25645b(0x27c),_0x305af5[_0x25645b(0x6b9)]),await(0x0,_0x5dec29['setDoc'])((0x0,_0x5dec29[_0x25645b(0x6c8)])(_0x4d7ce4[_0x25645b(0x4c1)](),_0x25645b(0x767)+_0x557d74[_0x25645b(0x300)]+_0x25645b(0x48d)+_0x557d74['workflowId']+_0x25645b(0xa61)+_0x45433d['jobId']+_0x25645b(0x4df),_0x4d775a),_0x305af5),_0x45433d[_0x25645b(0x6b9)]===_0x355af3[_0x25645b(0x4bc)]&&await(0x0,_0x5dec29[_0x25645b(0x25d)])((0x0,_0x5dec29[_0x25645b(0x6c8)])(_0x4d7ce4[_0x25645b(0x4c1)](),'developers/'+_0x557d74[_0x25645b(0x300)]+_0x25645b(0x48d)+_0x557d74[_0x25645b(0x27e)]+_0x25645b(0x1d9),_0x45433d[_0x25645b(0x99e)]),{'rating':_0x45433d['rating']},{'merge':!0x0});}catch(_0x101960){console[_0x25645b(0x5c5)](_0x25645b(0x41f),_0x101960);}}}const _0x40fab9=_0x5637e6[_0x273dd2(0x64f)]();async function _0x5e949b(_0x701ec7,_0x1b2368,_0x191dd8,_0x52a4d2,_0x5bfe8d,_0x4b8367,_0x166f52,_0x4372be){const _0x43c107=function(_0x140a92,_0x4100ff){const _0x161446=a0_0x35be,_0x30f539=[];for(let _0x157886=0x0;_0x157886<_0x140a92[_0x161446(0x830)];_0x157886+=_0x4100ff[_0x161446(0x2e8)][_0x161446(0x85c)]){let _0x165682=_0x157886-_0x4100ff[_0x161446(0x2e8)]['overlap'];_0x165682<0x0&&(_0x165682=0x0);let _0x21dd70=_0x157886+_0x4100ff['attributes']['size']+_0x4100ff['attributes']['overlap'];_0x21dd70>_0x140a92[_0x161446(0x830)]&&(_0x21dd70=_0x140a92[_0x161446(0x830)]),length||(length=_0x157886+_0x4100ff['attributes'][_0x161446(0x85c)],length>_0x140a92[_0x161446(0x830)]&&(length=_0x140a92[_0x161446(0x830)])),_0x30f539['push'](_0x140a92[_0x161446(0x98b)](_0x165682,_0x21dd70));}return _0x30f539;}(_0x1b2368,_0x5bfe8d);await _0x169aec(_0x701ec7,_0x43c107,_0x191dd8,_0x52a4d2,_0x5bfe8d,_0x4b8367,_0x166f52,_0x4372be);}async function _0x1214ab(_0x25ea5d,_0x3cc336,_0x44ca87,_0x57bb86,_0x55c0c0,_0xa20725,_0x27e06c,_0xd373d){const _0x7447d7=_0x273dd2;if(_0x55c0c0[_0x7447d7(0xaa0)]||(_0x55c0c0[_0x7447d7(0xaa0)]={}),_0x55c0c0[_0x7447d7(0xaa0)][_0x7447d7(0x929)]||(_0x55c0c0[_0x7447d7(0xaa0)][_0x7447d7(0x929)]=[]),_0x3cc336 instanceof Array?_0x55c0c0[_0x7447d7(0xaa0)][_0x7447d7(0x929)][_0x7447d7(0x604)](..._0x3cc336):_0x55c0c0[_0x7447d7(0xaa0)][_0x7447d7(0x929)][_0x7447d7(0x604)](_0x3cc336),_0x55c0c0[_0x7447d7(0xa23)]=_0x55c0c0[_0x7447d7(0xa23)]?_0x55c0c0[_0x7447d7(0xa23)]+0x1:0x1,_0x3b796a(_0x55c0c0,_0xa20725)>_0x55c0c0[_0x7447d7(0xa23)])return;if(0x0===_0x55c0c0['accumulated']['queries']['length'])throw new Error('Data\x20collection\x20block\x20is\x20missing\x20required\x20data');let _0x2d226e=[];const _0x34034c=Date[_0x7447d7(0x3a1)]();try{let _0x42207f=0x0,_0x1640ec=0x0;for(const _0x4bfbb0 of _0x55c0c0[_0x7447d7(0xaa0)][_0x7447d7(0x929)]){const _0xa6a780=await fetch(_0x495699['apiUrl']+'/vector_stores/'+_0x55c0c0['id']+_0x7447d7(0x29a),{'method':'POST','headers':{'Content-Type':_0x7447d7(0x699),'x-vendor-id':_0x44ca87[_0x7447d7(0x300)]},'body':JSON[_0x7447d7(0xa5e)]({'query':_0x4bfbb0})}),_0x1f99b3=((await _0xa6a780[_0x7447d7(0xb41)]())[_0x7447d7(0x9b6)]??[])[_0x7447d7(0xb48)](_0x13da77=>({'pathName':_0x13da77[_0x7447d7(0xb44)],'relevance':_0x13da77[_0x7447d7(0x9a0)],'content':_0x13da77[_0x7447d7(0x26d)][_0x7447d7(0x4e4)]}));_0x2d226e=Array[_0x7447d7(0x668)](new Set([..._0x2d226e,..._0x1f99b3])),_0x42207f+=_0x1f99b3[_0x7447d7(0x4d6)]??0x0,_0x1640ec+=_0x1f99b3[_0x7447d7(0x7d6)]??0x0;}_0x57bb86[_0x7447d7(0x4d6)]+=_0x42207f,_0x57bb86[_0x7447d7(0x7d6)]+=_0x1640ec,_0x57bb86[_0x7447d7(0x442)]=Array[_0x7447d7(0x668)](new Set([..._0x57bb86['context'],..._0x2d226e])),await _0x40fab9['trace']({'jobType':_0x3e2f29[_0x7447d7(0x446)],'type':_0x59296e[_0x7447d7(0xa4a)],'jobId':_0x25ea5d,'threadId':_0x44ca87['threadId'],'traceLevel':_0x584638[_0x7447d7(0xbf7)],'startTime':_0x34034c,'timestamp':Date[_0x7447d7(0x3a1)](),'blockId':_0x55c0c0['id'],'status':_0x7447d7(0x683),'queries':_0x55c0c0[_0x7447d7(0xaa0)][_0x7447d7(0x929)],'context':_0x2d226e,'inputTokens':_0x42207f,'outputTokens':_0x1640ec});}catch(_0x5e8540){console[_0x7447d7(0x5c5)](_0x5e8540),await _0x40fab9[_0x7447d7(0x85a)]({'jobType':_0x3e2f29[_0x7447d7(0x446)],'type':_0x59296e[_0x7447d7(0xa4a)],'jobId':_0x25ea5d,'threadId':_0x44ca87[_0x7447d7(0x9bd)],'traceLevel':_0x584638[_0x7447d7(0xbf7)],'startTime':_0x34034c,'timestamp':Date[_0x7447d7(0x3a1)](),'blockId':_0x55c0c0['id'],'status':_0x7447d7(0x5c5),'queries':_0x55c0c0[_0x7447d7(0xaa0)][_0x7447d7(0x929)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x169aec(_0x25ea5d,'',_0x44ca87,_0x57bb86,_0x55c0c0,_0xa20725,_0x27e06c,_0xd373d);}async function _0x4cbd9f(_0x42aaf3,_0x575962,_0x169d22,_0x12dc1d,_0x205fe1,_0x5bc17b,_0x3f0edb,_0xad0cec){const _0x1aaddb=_0x273dd2,_0x473e92=await _0x3f0edb[_0x1aaddb(0x930)]['getSentences'](_0x575962);await _0x169aec(_0x42aaf3,_0x473e92,_0x169d22,_0x12dc1d,_0x205fe1,_0x5bc17b,_0x3f0edb,_0xad0cec);}async function _0x31177b(_0x5330b8,_0x2fec95,_0xd70371,_0x1abba6,_0x5e5c17,_0x5ba654,_0x5317a1,_0x485f54){const _0x5bcb3=function(_0x521e01,_0x2d0f5b){const _0x406658=a0_0x35be,_0x2dc1a9=[],_0x392662=_0x521e01[_0x406658(0xa62)]('\x20');let _0x4a62dd='',_0x3ae37a=0x0,_0x26a66a=0x0,_0x5d0aa8=0x0;for(const _0x1a9a65 of _0x392662){if(_0x4a62dd[_0x406658(0x830)]+_0x1a9a65['length']>_0x2d0f5b[_0x406658(0x2e8)][_0x406658(0x85c)]){let _0x144724=_0x3ae37a,_0x5a5be0='';for(;_0x144724>=0x0&&_0x5a5be0[_0x406658(0x830)]+_0x392662[_0x144724]['length']<_0x2d0f5b[_0x406658(0x2e8)][_0x406658(0x492)];)_0x5a5be0=_0x392662[_0x144724]+'\x20'+_0x5a5be0,_0x144724--;let _0xa4682e=_0x26a66a,_0xc21b36='';for(;_0xa4682e<_0x392662['length']&&_0xc21b36[_0x406658(0x830)]+_0x392662[_0xa4682e][_0x406658(0x830)]<_0x2d0f5b[_0x406658(0x2e8)][_0x406658(0x492)];)_0xc21b36+=_0x392662[_0xa4682e]+'\x20',_0xa4682e++;_0x4a62dd=_0x5a5be0+_0x4a62dd+_0xc21b36,_0x2dc1a9['push'](_0x4a62dd[_0x406658(0x854)]()),_0x4a62dd='',_0x3ae37a=_0x26a66a;}_0x4a62dd+=_0x1a9a65+'\x20',_0x26a66a++,_0x5d0aa8+=_0x1a9a65[_0x406658(0x830)]+0x1;}if(_0x4a62dd[_0x406658(0x830)]>0x0){let _0x1aeec0=_0x3ae37a,_0x4ced2a='';for(;_0x1aeec0>=0x0&&_0x4ced2a[_0x406658(0x830)]+_0x392662[_0x1aeec0][_0x406658(0x830)]<_0x2d0f5b[_0x406658(0x2e8)][_0x406658(0x492)];)_0x4ced2a=_0x392662[_0x1aeec0]+'\x20'+_0x4ced2a,_0x1aeec0--;_0x4a62dd=_0x4ced2a+_0x4a62dd,_0x2dc1a9[_0x406658(0x604)](_0x4a62dd[_0x406658(0x854)]());}return _0x2dc1a9;}(_0x2fec95,_0x5e5c17);await _0x169aec(_0x5330b8,_0x5bcb3,_0xd70371,_0x1abba6,_0x5e5c17,_0x5ba654,_0x5317a1,_0x485f54);}async function _0x169aec(_0x396318,_0x48cc5e,_0x3d6cf8,_0x5c983c,_0x1d1d16,_0x1a8527,_0x473dda,_0x97d971){const _0x1a68a0=_0x273dd2;if(await _0x35fbea[_0x1a68a0(0x3a0)](0x1),_0x1d1d16[_0x1a68a0(0x4a9)]){for(const _0x1e3292 of _0x1d1d16[_0x1a68a0(0x4a9)]){if(_0x1e3292[_0x1a68a0(0x6b9)]===_0x24d3ee[_0x1a68a0(0x33c)])continue;const _0x451789=_0x1a8527[_0x1a68a0(0x77e)](_0x5822e9=>_0x5822e9['uid']===_0x1e3292[_0x1a68a0(0xa24)]);if(_0x451789)switch(_0x451789[_0x1a68a0(0x6b9)]){case _0x3b8538['Agent']:_0x1e3292[_0x1a68a0(0x6b9)]!==_0x24d3ee['Text']&&_0x1e3292[_0x1a68a0(0x6b9)]!==_0x24d3ee['Wait']||_0x1a68a0(0x563)!=typeof _0x48cc5e||await _0x2f0c44(_0x396318,_0x1e3292[_0x1a68a0(0x6b9)],_0x48cc5e,_0x3d6cf8,_0x5c983c,_0x451789,_0x1a8527,_0x473dda,_0x97d971),_0x1e3292[_0x1a68a0(0x6b9)]===_0x24d3ee[_0x1a68a0(0x761)]&&'true'===_0x48cc5e&&await _0x2f0c44(_0x396318,_0x1e3292[_0x1a68a0(0x6b9)],_0x48cc5e,_0x3d6cf8,_0x5c983c,_0x451789,_0x1a8527,_0x473dda,_0x97d971),_0x1e3292[_0x1a68a0(0x6b9)]===_0x24d3ee[_0x1a68a0(0x4ce)]&&'false'===_0x48cc5e&&await _0x2f0c44(_0x396318,_0x1e3292[_0x1a68a0(0x6b9)],_0x48cc5e,_0x3d6cf8,_0x5c983c,_0x451789,_0x1a8527,_0x473dda,_0x97d971),_0x1e3292[_0x1a68a0(0x6b9)]===_0x24d3ee[_0x1a68a0(0x766)]&&_0x1a68a0(0x563)==typeof _0x48cc5e&&await _0x2f0c44(_0x396318,_0x1e3292['type'],_0x48cc5e,_0x3d6cf8,_0x5c983c,_0x451789,_0x1a8527,_0x473dda,_0x97d971);break;case _0x3b8538[_0x1a68a0(0x8c2)]:_0x1e3292[_0x1a68a0(0x6b9)]===_0x24d3ee[_0x1a68a0(0x25f)]&&_0x1a68a0(0x563)==typeof _0x48cc5e&&await _0x5e949b(_0x396318,_0x48cc5e,_0x3d6cf8,_0x5c983c,_0x451789,_0x1a8527,_0x473dda,_0x97d971);break;case _0x3b8538[_0x1a68a0(0xa4a)]:_0x1e3292['type']===_0x24d3ee[_0x1a68a0(0x25f)]&&_0x1a68a0(0x563)==typeof _0x48cc5e&&await _0x1214ab(_0x396318,_0x48cc5e,_0x3d6cf8,_0x5c983c,_0x451789,_0x1a8527,_0x473dda,_0x97d971),_0x1e3292['type']===_0x24d3ee[_0x1a68a0(0x25f)]&&_0x48cc5e instanceof Array&&await _0x1214ab(_0x396318,_0x48cc5e,_0x3d6cf8,_0x5c983c,_0x451789,_0x1a8527,_0x473dda,_0x97d971);break;case _0x3b8538[_0x1a68a0(0xa99)]:_0x1e3292[_0x1a68a0(0x6b9)]===_0x24d3ee[_0x1a68a0(0x25f)]&&_0x1a68a0(0x563)==typeof _0x48cc5e&&await _0x4cbd9f(_0x396318,_0x48cc5e,_0x3d6cf8,_0x5c983c,_0x451789,_0x1a8527,_0x473dda,_0x97d971);break;case _0x3b8538[_0x1a68a0(0x3b6)]:_0x1e3292[_0x1a68a0(0x6b9)]===_0x24d3ee[_0x1a68a0(0x25f)]&&_0x1a68a0(0x563)==typeof _0x48cc5e&&await _0x31177b(_0x396318,_0x48cc5e,_0x3d6cf8,_0x5c983c,_0x451789,_0x1a8527,_0x473dda,_0x97d971);}}_0x1d1d16['type']!==_0x3b8538[_0x1a68a0(0x9d8)]&&_0x1d1d16[_0x1a68a0(0x6b9)]!==_0x3b8538[_0x1a68a0(0xa7c)]||!_0x97d971||_0x97d971['emit'](void 0x0);}else _0x1d1d16[_0x1a68a0(0x6b9)]!==_0x3b8538[_0x1a68a0(0x9d8)]&&_0x1d1d16[_0x1a68a0(0x6b9)]!==_0x3b8538[_0x1a68a0(0xa7c)]||!_0x97d971||_0x97d971[_0x1a68a0(0x743)](void 0x0);}function _0x3b796a(_0x220477,_0x30ea0c){const _0x426b24=_0x273dd2;let _0x57461a=0x0;for(const _0xdb4468 of _0x30ea0c)for(const _0x53b951 of _0xdb4468[_0x426b24(0x4a9)]??[])_0x53b951[_0x426b24(0x6b9)]!==_0x24d3ee[_0x426b24(0x33c)]&&_0x53b951[_0x426b24(0x6b9)]!==_0x24d3ee[_0x426b24(0x8fc)]&&_0x53b951[_0x426b24(0x6b9)]!==_0x24d3ee['File']&&_0x53b951[_0x426b24(0x6b9)]!==_0x24d3ee['Image']&&_0x53b951['uid']===_0x220477[_0x426b24(0xa24)]&&_0x57461a++;return _0x57461a;}function _0x128850(_0x3ec8c5,_0x59fb77){const _0x56234b=_0x273dd2,_0x267c8d={'type':_0x3ec8c5[_0x56234b(0x6b9)],'name':_0x3ec8c5[_0x56234b(0xa7b)]??'','description':_0x3ec8c5[_0x56234b(0x42c)]??'','parameters':_0x3ec8c5[_0x56234b(0xbd2)]??[],'headers':_0x3ec8c5[_0x56234b(0x82e)]??[],'queryParameters':_0x3ec8c5[_0x56234b(0x30e)]??[],'bodyParameters':_0x3ec8c5[_0x56234b(0x953)]??[],'endpointUrl':_0x3ec8c5[_0x56234b(0x990)]??'','endpointMethod':_0x3ec8c5[_0x56234b(0x644)]??'','contextInputVariable':_0x3ec8c5[_0x56234b(0x4c0)]??'','contextOutputVariable':_0x3ec8c5[_0x56234b(0x361)]??'','modelId':_0x3ec8c5[_0x56234b(0x477)]??'','workflowId':_0x3ec8c5[_0x56234b(0x27e)]??'','async':_0x3ec8c5[_0x56234b(0x638)]??!0x1,'instructions':_0x3ec8c5[_0x56234b(0x875)]??'','maxTokens':_0x3ec8c5[_0x56234b(0x1d5)]??0x0,'temperature':_0x3ec8c5[_0x56234b(0xc21)]??0x0,'grammar':_0x3ec8c5[_0x56234b(0x2f3)]??'default','collectionId':_0x3ec8c5['type']===_0x3b8538[_0x56234b(0xa4a)]||_0x3ec8c5['type']===_0x3b8538[_0x56234b(0x591)]?_0x3ec8c5['id']:'','shouldEmit':_0x3ec8c5[_0x56234b(0x4a9)]?.['some'](_0x520b1e=>_0x520b1e[_0x56234b(0x6b9)]===_0x24d3ee[_0x56234b(0x25f)]&&_0x59fb77['find'](_0xf800ea=>_0xf800ea[_0x56234b(0xa24)]===_0x520b1e[_0x56234b(0xa24)])?.[_0x56234b(0x6b9)]===_0x3b8538['Answer'])??!0x1};if(_0x3ec8c5['type']===_0x3b8538['FormSkill'])return[{..._0x267c8d,'type':_0x2a74a6[_0x56234b(0x545)][_0x56234b(0xaea)],'questions':_0x3ec8c5[_0x56234b(0x4af)]??[]},{..._0x267c8d,'type':_0x2a74a6[_0x56234b(0x545)][_0x56234b(0x867)],'questions':_0x3ec8c5[_0x56234b(0x4af)]??[]},{..._0x267c8d,'type':_0x2a74a6[_0x56234b(0x545)][_0x56234b(0x462)],'questions':_0x3ec8c5[_0x56234b(0x4af)]??[]}];if(_0x3ec8c5[_0x56234b(0x6b9)]===_0x3b8538[_0x56234b(0x207)]||_0x3ec8c5['type']===_0x3b8538[_0x56234b(0x737)]||_0x3ec8c5[_0x56234b(0x6b9)]===_0x3b8538[_0x56234b(0x4f9)]){const _0x2c833b=_0x59fb77[_0x56234b(0x57c)](_0x92f4fb=>_0x92f4fb[_0x56234b(0x4a9)]?.['some'](_0x588444=>_0x588444['uid']===_0x3ec8c5[_0x56234b(0xa24)]&&_0x588444['type']===_0x24d3ee[_0x56234b(0x8fc)]));if(_0x2c833b[_0x56234b(0x830)]>0x0)return{..._0x267c8d,'tools':_0x2c833b['flatMap'](_0x25ee71=>_0x128850(_0x25ee71,_0x59fb77))};}return _0x267c8d;}async function _0x2f0c44(_0x3500c5,_0x277df3,_0x28f5ac,_0x118dea,_0x56b69e,_0x5915f0,_0x2966c6,_0x2c071c,_0x501542){const _0x456bb4=_0x273dd2,_0x199e7d=_0x2c071c[_0x456bb4(0x384)][_0x456bb4(0x77e)](_0x1fcdf6=>_0x1fcdf6['id']===_0x5915f0['modelId']);if(!_0x199e7d)throw new Error(_0x456bb4(0x335)+_0x5915f0[_0x456bb4(0x477)]);if(_0x199e7d[_0x456bb4(0x48a)]!==_0x2a74a6['GenerativeAITaskType'][_0x456bb4(0x306)])return console[_0x456bb4(0x3a3)](new Date()+_0x456bb4(0x889)),void await _0x169aec(_0x3500c5,_0x28f5ac,_0x118dea,_0x56b69e,_0x5915f0,_0x2966c6,_0x2c071c,_0x501542);if(_0x5915f0[_0x456bb4(0xaa0)]||(_0x5915f0[_0x456bb4(0xaa0)]={}),_0x277df3===_0x24d3ee[_0x456bb4(0x25f)]&&_0x456bb4(0x563)==typeof _0x28f5ac&&(_0x5915f0[_0x456bb4(0xaa0)][_0x456bb4(0x5db)]||(_0x5915f0[_0x456bb4(0xaa0)][_0x456bb4(0x5db)]=[]),_0x5915f0[_0x456bb4(0xaa0)][_0x456bb4(0x5db)][_0x456bb4(0x604)](_0x28f5ac)),_0x277df3===_0x24d3ee[_0x456bb4(0x7a2)])return _0x5915f0[_0x456bb4(0xaa0)][_0x456bb4(0xa48)]||(_0x5915f0['accumulated']['files']=[]),void _0x5915f0[_0x456bb4(0xaa0)][_0x456bb4(0xa48)][_0x456bb4(0x604)](_0x28f5ac);if(_0x277df3===_0x24d3ee[_0x456bb4(0xa38)])return _0x5915f0[_0x456bb4(0xaa0)][_0x456bb4(0x7e5)]||(_0x5915f0[_0x456bb4(0xaa0)][_0x456bb4(0x7e5)]=[]),void _0x5915f0[_0x456bb4(0xaa0)][_0x456bb4(0x7e5)]['push'](_0x28f5ac);if(_0x5915f0[_0x456bb4(0xa23)]=_0x5915f0[_0x456bb4(0xa23)]?_0x5915f0[_0x456bb4(0xa23)]+0x1:0x1,_0x3b796a(_0x5915f0,_0x2966c6)>_0x5915f0['timesCalled'])return;if(_0x58cca5[_0x456bb4(0x866)]('Processing\x20agent\x20block:\x20'+_0x5915f0[_0x456bb4(0xa7b)],_0x5915f0[_0x456bb4(0xa23)]),!_0x5915f0['accumulated'][_0x456bb4(0x5db)])throw new Error(_0x456bb4(0x802)+_0x5915f0[_0x456bb4(0xa7b)]);const _0x5e6a09=Date[_0x456bb4(0x3a1)](),_0x13155b=(0x0,_0x5d1d4c['v4'])();let _0x340d35='',_0x283e1f=0x0,_0x3ece0f=0x0;const _0x3f4724=[],_0x2affa2=function(_0x372eb8,_0x197e14,_0x2b60c5,_0x2e54e7){const _0xae35a3=_0x456bb4;if(_0x2b60c5[_0xae35a3(0x4c0)]){const _0x386a08=_0x2b60c5[_0xae35a3(0x4c0)]['split'](',');for(const _0x3e9513 of _0x386a08)_0xae35a3(0xa48)!==_0x3e9513&&_0xae35a3(0x7e5)!==_0x3e9513&&_0x197e14['internalContext']?.[_0x3e9513]&&(_0x372eb8='<'+_0x3e9513+'>'+_0x197e14[_0xae35a3(0xade)][_0x3e9513]+'</'+_0x3e9513+'>\x0a\x0a'+_0x372eb8);}const _0x16067e=_0x2e54e7[_0xae35a3(0x57c)](_0x203cc5=>_0x203cc5[_0xae35a3(0x4a9)]?.[_0xae35a3(0x323)](_0x4e6216=>_0x4e6216[_0xae35a3(0xa24)]===_0x2b60c5['uid']&&_0x4e6216[_0xae35a3(0x6b9)]===_0x24d3ee[_0xae35a3(0x8fc)]));for(const _0xee1c4d of _0x16067e)if(_0xee1c4d[_0xae35a3(0x6b9)]===_0x3b8538['FormSkill']){const _0x54a11b=_0xee1c4d[_0xae35a3(0xa7b)]['replace'](/[^a-zA-Z]/g,''),_0x337e08=_0x197e14[_0xae35a3(0xade)]?.[_0xae35a3(0x4c8)+_0x54a11b];if(_0x337e08){const _0x412f2c=_0xee1c4d[_0xae35a3(0x4af)][_0x337e08];_0x412f2c&&(_0x372eb8=_0xae35a3(0x521)+JSON[_0xae35a3(0xa5e)](_0x412f2c)+_0xae35a3(0x5ab)+_0x372eb8);}}return _0x372eb8;}(_0x5915f0['accumulated'][_0x456bb4(0x5db)][_0x456bb4(0x98e)]('\x0a\x0a'),_0x56b69e,_0x5915f0,_0x2966c6);let _0xca4103=_0x2affa2;if(_0x5915f0[_0x456bb4(0xaa0)][_0x456bb4(0xa48)]){_0x456bb4(0x563)==typeof _0xca4103&&(_0xca4103=[],_0xca4103['push']({'type':_0x456bb4(0x4e4),'text':_0x2affa2}));for(const _0x377e26 of _0x5915f0[_0x456bb4(0xaa0)][_0x456bb4(0xa48)])_0xca4103[_0x456bb4(0x604)]({'type':_0x456bb4(0x388),'file':{'filename':(0x0,_0x5d1d4c['v4'])()+_0x456bb4(0x7fe),'file_data':'data:'+_0x377e26}});}if(_0x5915f0[_0x456bb4(0xaa0)]['images']){_0x456bb4(0x563)==typeof _0xca4103&&(_0xca4103=[],_0xca4103[_0x456bb4(0x604)]({'type':_0x456bb4(0x4e4),'text':_0x2affa2}));for(const _0x325e33 of _0x5915f0[_0x456bb4(0xaa0)]['images'])_0xca4103[_0x456bb4(0x604)]({'type':_0x456bb4(0x20f),'image_url':{'url':'data:'+_0x325e33}});}_0x3f4724[_0x456bb4(0x604)]({'role':_0x456bb4(0x9bf),'content':_0x313a00(_0x118dea[_0x456bb4(0x875)]??'',_0x5915f0,_0x199e7d)}),_0x3f4724[_0x456bb4(0x604)](..._0x118dea[_0x456bb4(0x2fe)]?.[_0x456bb4(0xb48)](_0x3ed57a=>({'role':_0x3ed57a[_0x456bb4(0x7e1)]===_0x2a74a6[_0x456bb4(0xa39)][_0x456bb4(0xad8)]?_0x456bb4(0x7fb):_0x456bb4(0x6eb),'content':_0x3ed57a[_0x456bb4(0x512)]}))??[]),_0x3f4724['push']({'role':'user','content':_0xca4103});const _0x13967f=_0x2966c6[_0x456bb4(0x57c)](_0x30d3c1=>_0x30d3c1['links']?.['some'](_0x16aeb0=>_0x16aeb0[_0x456bb4(0xa24)]===_0x5915f0[_0x456bb4(0xa24)]&&_0x16aeb0[_0x456bb4(0x6b9)]===_0x24d3ee['Tool']))['flatMap'](_0x4d0c6c=>_0x128850(_0x4d0c6c,_0x2966c6));if(_0x501542){const _0x3b44c6=_0x5915f0[_0x456bb4(0x4a9)]?.[_0x456bb4(0x323)](_0x420b3f=>_0x420b3f[_0x456bb4(0x6b9)]===_0x24d3ee[_0x456bb4(0x25f)]&&(_0x2966c6[_0x456bb4(0x77e)](_0x2499c4=>_0x2499c4['uid']===_0x420b3f[_0x456bb4(0xa24)])?.[_0x456bb4(0x6b9)]===_0x3b8538[_0x456bb4(0x6e5)]||_0x2966c6[_0x456bb4(0x77e)](_0x361fa3=>_0x361fa3[_0x456bb4(0xa24)]===_0x420b3f[_0x456bb4(0xa24)])?.[_0x456bb4(0x4a9)]?.[_0x456bb4(0x323)](_0x2a6724=>_0x2a6724[_0x456bb4(0x6b9)]===_0x24d3ee[_0x456bb4(0x766)]&&_0x2966c6['find'](_0x47686e=>_0x47686e[_0x456bb4(0xa24)]===_0x2a6724[_0x456bb4(0xa24)])?.[_0x456bb4(0x6b9)]===_0x3b8538[_0x456bb4(0x853)])))??!0x1,_0x1686a1=await fetch(_0x495699[_0x456bb4(0x4b7)]+_0x456bb4(0x7bb),{'method':_0x456bb4(0x26c),'headers':{'Accept':'text/event-stream','Content-Type':_0x456bb4(0x699),'x-vendor-id':_0x118dea[_0x456bb4(0x300)]},'body':JSON[_0x456bb4(0xa5e)]({'model':_0x5915f0[_0x456bb4(0x477)],'messages':_0x3f4724,'max_completion_tokens':_0x5915f0[_0x456bb4(0x1d5)],'temperature':_0x5915f0['temperature'],'metadata':{'threadId':_0x118dea['threadId'],'agentId':_0x13155b,'jobId':_0x3500c5,'workflowId':_0x118dea[_0x456bb4(0x27e)],'context':_0x56b69e[_0x456bb4(0xade)]??{}},'structured_output':_0x5915f0['grammar'],'tools':_0x13967f,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x1686a1['ok']||!_0x1686a1[_0x456bb4(0x286)])return console[_0x456bb4(0x5c5)](_0x456bb4(0x215)),void _0x501542[_0x456bb4(0x743)](void 0x0);const _0x391ff5=_0x1686a1[_0x456bb4(0x286)]['getReader'](),_0x2a702d=new TextDecoder();for(;;){const {value:_0x5a2d8a,done:_0x501d06}=await _0x391ff5['read']();if(_0x501d06)break;const _0x39d67c=_0x2a702d[_0x456bb4(0x4d7)](_0x5a2d8a,{'stream':!0x0});if(_0x456bb4(0x76c)===_0x39d67c)break;const _0xc50f25=_0x147223(_0x39d67c);for(const _0x3235ff of _0xc50f25)_0x3235ff[_0x456bb4(0x90a)]&&_0x3235ff['choices'][0x0]&&(_0x3b44c6&&(_0x501542['emit']({'output':_0x3235ff[_0x456bb4(0x90a)][0x0][_0x456bb4(0x48c)][_0x456bb4(0x26d)],'type':'prompt'}),await _0x35fbea['wait'](0x1)),_0x340d35+=_0x3235ff['choices'][0x0][_0x456bb4(0x48c)][_0x456bb4(0x26d)]??'',_0x283e1f=_0x3235ff[_0x456bb4(0x636)]?.['prompt_tokens']??0x0,_0x3ece0f=_0x3235ff[_0x456bb4(0x636)]?.[_0x456bb4(0xa95)]??0x0,_0x56b69e[_0x456bb4(0xade)]={..._0x56b69e[_0x456bb4(0xade)],..._0x3235ff['context']});}_0x56b69e[_0x456bb4(0x7d6)]=(_0x56b69e[_0x456bb4(0x7d6)]??0x0)+_0x3ece0f,_0x56b69e[_0x456bb4(0x4d6)]=(_0x56b69e[_0x456bb4(0x4d6)]??0x0)+_0x283e1f,_0x501542['emit']({'output':_0x3b44c6?'\x0a\x0a':'','type':_0x456bb4(0x5db)}),await _0x35fbea[_0x456bb4(0x3a0)](0x1);}else{const _0x198ed0=await fetch(_0x495699['apiUrl']+_0x456bb4(0x7bb),{'method':'POST','headers':{'Content-Type':_0x456bb4(0x699),'x-vendor-id':_0x118dea[_0x456bb4(0x300)]},'body':JSON[_0x456bb4(0xa5e)]({'model':_0x5915f0[_0x456bb4(0x477)],'messages':_0x3f4724,'max_completion_tokens':_0x5915f0[_0x456bb4(0x1d5)],'temperature':_0x5915f0['temperature'],'metadata':{'threadId':_0x118dea[_0x456bb4(0x9bd)],'agentId':_0x13155b,'jobId':_0x3500c5,'workflowId':_0x118dea[_0x456bb4(0x27e)],'context':_0x56b69e[_0x456bb4(0xade)]??{}},'structured_output':_0x5915f0['grammar'],'tools':_0x13967f})}),_0x1cf242=await _0x198ed0[_0x456bb4(0xb41)]();_0x340d35=_0x1cf242['choices'][0x0][_0x456bb4(0x512)][_0x456bb4(0x26d)],_0x283e1f=_0x1cf242[_0x456bb4(0x636)][_0x456bb4(0x46b)],_0x3ece0f=_0x1cf242[_0x456bb4(0x636)][_0x456bb4(0xa95)],_0x56b69e[_0x456bb4(0x27f)]=_0x340d35,_0x56b69e[_0x456bb4(0xade)]={..._0x56b69e[_0x456bb4(0xade)],..._0x1cf242[_0x456bb4(0x442)]},_0x56b69e['outputTokens']=(_0x56b69e[_0x456bb4(0x7d6)]??0x0)+_0x3ece0f,_0x56b69e[_0x456bb4(0x4d6)]=(_0x56b69e[_0x456bb4(0x4d6)]??0x0)+_0x283e1f;}if(_0x5915f0[_0x456bb4(0x361)]&&(_0x56b69e[_0x456bb4(0xade)]||(_0x56b69e[_0x456bb4(0xade)]={}),_0x56b69e[_0x456bb4(0xade)][_0x5915f0[_0x456bb4(0x361)]]=_0x340d35),await _0x40fab9[_0x456bb4(0x85a)]({'jobType':_0x3e2f29[_0x456bb4(0x446)],'type':_0x59296e['IntermediateOutput'],'jobId':_0x3500c5,'agentId':_0x13155b,'threadId':_0x118dea[_0x456bb4(0x9bd)],'traceLevel':_0x584638['Info'],'startTime':_0x5e6a09,'timestamp':Date['now'](),'blockId':_0x5915f0['id'],'status':_0x456bb4(0x683),'output':_0x340d35,'prompt':_0x2affa2,'agentName':_0x5915f0[_0x456bb4(0xa7b)],'history':[],'instructions':''+_0x5915f0[_0x456bb4(0x875)]+(_0x118dea[_0x456bb4(0x875)]??''),'ragContext':[],'inputTokens':_0x283e1f??0x0,'outputTokens':_0x3ece0f??0x0}),_0x456bb4(0x44a)===_0x5915f0[_0x456bb4(0x2f3)])try{_0x340d35=JSON['parse'](_0x340d35)[_0x456bb4(0x302)]?_0x456bb4(0x676):'false';}catch(_0x259542){console[_0x456bb4(0x5c5)](_0x456bb4(0xa1f),_0x340d35),_0x340d35='false';}await _0x169aec(_0x3500c5,_0x340d35,_0x118dea,_0x56b69e,_0x5915f0,_0x2966c6,_0x2c071c,_0x501542);}function _0x313a00(_0x3a9ba0,_0x579010,_0x42ad27){const _0x51db6c=_0x273dd2;let _0x3bc19a='';return _0x42ad27[_0x51db6c(0x4c2)]&&''!==_0x42ad27[_0x51db6c(0x4c2)]&&(_0x3bc19a='Knowledge\x20Cutoff\x20Date:\x20'+_0x42ad27[_0x51db6c(0x4c2)]+'\x0a\x0a'),_0x3bc19a=_0x3bc19a+'Today\x20Date:\x20'+new Date()[_0x51db6c(0x6f2)](void 0x0,{'weekday':_0x51db6c(0x38d),'year':_0x51db6c(0x787),'month':_0x51db6c(0x38d),'day':'numeric'})+'\x0a\x0a',''+_0x3bc19a+_0x579010[_0x51db6c(0x875)]+_0x3a9ba0;}function _0x147223(_0x5a945a){const _0x4ff11d=_0x273dd2;return _0x5a945a[_0x4ff11d(0xa62)](_0x4ff11d(0x741))['map'](_0x3553ec=>_0x3553ec['replace'](_0x4ff11d(0x25e),'')['trim']())[_0x4ff11d(0x57c)](_0x303f6c=>''!==_0x303f6c)['map'](_0x2bb700=>{const _0x5a2975=_0x4ff11d;if(_0x5a2975(0x311)===_0x2bb700)return null;try{return JSON['parse'](_0x2bb700);}catch(_0x31ec43){return console[_0x5a2975(0x5c5)](_0x5a2975(0x913),_0x2bb700),null;}})[_0x4ff11d(0x57c)](_0x26f431=>null!==_0x26f431);}async function _0x5590f4(_0x3bc581,_0x3ba442,_0x421fca,_0x11bf8f,_0x4dd9e0,_0x280cb7,_0x1c46b0){const _0x4c0d34=_0x273dd2,_0x1e341b=_0x4c0d34(0x231)+_0x4dd9e0[_0x4c0d34(0x42c)]+_0x4c0d34(0x1df),_0x5ad726={'prompt':{'type':_0x2a74a6[_0x4c0d34(0x4b6)]['String']}};return await _0x40fab9[_0x4c0d34(0x85a)]({'jobType':_0x3e2f29[_0x4c0d34(0x96b)],'type':_0x41e841[_0x4c0d34(0x1f3)],'jobId':_0x3bc581,'agentId':_0x3ba442,'threadId':_0x421fca[_0x4c0d34(0x9bd)],'traceLevel':_0x584638[_0x4c0d34(0xbf7)],'startTime':Date[_0x4c0d34(0x3a1)](),'timestamp':Date['now'](),'status':_0x4c0d34(0x683),'function':_0xe29f3a['ExecuteAgent'],'params':_0x5ad726,'functionDescription':_0x1e341b}),{'description':_0x1e341b,'params':_0x5ad726,'callback':async _0xdee121=>_0x2b51a6(_0x421fca[_0x4c0d34(0x300)],_0x4dd9e0,_0x280cb7,_0xdee121,_0x11bf8f,_0x3bc581,_0x3ba442,_0x421fca[_0x4c0d34(0x27e)],_0x421fca[_0x4c0d34(0x9bd)],_0x1c46b0)};}async function _0x2b51a6(_0x4e8c1e,_0x1ddb4f,_0x147f78,_0x38ca01,_0x111422,_0x58ae7d,_0x2f89f7,_0x3eec95,_0x190c45,_0x260175){const _0x2cbb6a=_0x273dd2,_0x325263=Date[_0x2cbb6a(0x3a1)]();try{if(_0x2cbb6a(0x563)!=typeof _0x38ca01?.['prompt'])throw new Error(_0x2cbb6a(0x2a5));if(!_0x147f78['models'][_0x2cbb6a(0x77e)](_0x14cc70=>_0x14cc70['id']===_0x1ddb4f[_0x2cbb6a(0x477)]))throw new Error('Model\x20not\x20found');let _0x29ceff='',_0x1fb66b=[];if(_0x1ddb4f[_0x2cbb6a(0x875)]&&_0x1fb66b[_0x2cbb6a(0x604)]({'role':_0x2cbb6a(0x9bf),'content':_0x1ddb4f[_0x2cbb6a(0x875)]}),_0x1fb66b[_0x2cbb6a(0x604)]({'role':_0x2cbb6a(0x7fb),'content':_0x38ca01['prompt']}),_0x260175&&_0x1ddb4f[_0x2cbb6a(0x8ce)]){const _0x9635bd=await fetch(_0x495699[_0x2cbb6a(0x4b7)]+_0x2cbb6a(0x7bb),{'method':_0x2cbb6a(0x26c),'headers':{'Accept':'text/event-stream','Content-Type':_0x2cbb6a(0x699),'x-vendor-id':_0x4e8c1e},'body':JSON[_0x2cbb6a(0xa5e)]({'model':_0x1ddb4f['modelId'],'messages':_0x1fb66b,'max_completion_tokens':_0x1ddb4f[_0x2cbb6a(0x1d5)],'temperature':_0x1ddb4f[_0x2cbb6a(0xc21)],'tools':_0x1ddb4f[_0x2cbb6a(0x84a)],'structured_output':_0x1ddb4f[_0x2cbb6a(0x2f3)],'metadata':{'threadId':_0x190c45,'jobId':_0x58ae7d,'agentId':_0x2f89f7,'workflowId':_0x3eec95,'context':_0x111422?.[_0x2cbb6a(0xade)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x9635bd['ok']||!_0x9635bd[_0x2cbb6a(0x286)])return console['error'](_0x2cbb6a(0x215)),_0x260175[_0x2cbb6a(0x743)](void 0x0),_0x2cbb6a(0x6a6);const _0x11f155=_0x9635bd[_0x2cbb6a(0x286)][_0x2cbb6a(0x334)](),_0x21cf55=new TextDecoder();let _0x48b31e=0x0,_0x575f98=0x0,_0x5edc8e='';for(;;){const {value:_0x2107b4,done:_0x1f9f8a}=await _0x11f155['read']();if(_0x1f9f8a)break;const _0x2c3e75=_0x21cf55['decode'](_0x2107b4,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x2c3e75)break;const _0x20affb=_0x147223(_0x2c3e75);for(const _0x5717cf of _0x20affb)_0x5717cf[_0x2cbb6a(0x90a)]&&_0x5717cf[_0x2cbb6a(0x90a)][0x0]&&(_0x5edc8e+=_0x5717cf[_0x2cbb6a(0x90a)][0x0][_0x2cbb6a(0x48c)][_0x2cbb6a(0x26d)],_0x48b31e+=_0x5717cf[_0x2cbb6a(0x636)]?.[_0x2cbb6a(0x720)]??0x0,_0x575f98+=_0x5717cf['usage']?.[_0x2cbb6a(0x27d)]??0x0,_0x111422&&(_0x111422[_0x2cbb6a(0xade)]={..._0x111422[_0x2cbb6a(0xade)],..._0x5717cf['context']}),_0x260175[_0x2cbb6a(0x743)]({'output':_0x5717cf[_0x2cbb6a(0x90a)][0x0][_0x2cbb6a(0x48c)][_0x2cbb6a(0x26d)],'type':_0x2cbb6a(0x5db)}),await _0x35fbea[_0x2cbb6a(0x3a0)](0x1));}_0x111422&&(_0x111422['outputTokens']=(_0x111422[_0x2cbb6a(0x7d6)]??0x0)+_0x575f98,_0x111422['inputTokens']=(_0x111422[_0x2cbb6a(0x4d6)]??0x0)+_0x48b31e,_0x1ddb4f[_0x2cbb6a(0x361)]&&(_0x111422[_0x2cbb6a(0xade)]||(_0x111422[_0x2cbb6a(0xade)]={}),_0x111422['internalContext'][_0x1ddb4f[_0x2cbb6a(0x361)]]=_0x5edc8e)),_0x260175['emit']({'output':'\x0a\x0a','type':_0x2cbb6a(0x5db)}),await _0x35fbea['wait'](0x1),_0x29ceff=_0x2cbb6a(0x358);}else{const _0x1db53f=await fetch(_0x495699['apiUrl']+_0x2cbb6a(0x7bb),{'method':'POST','headers':{'Content-Type':_0x2cbb6a(0x699),'x-vendor-id':_0x4e8c1e},'body':JSON[_0x2cbb6a(0xa5e)]({'model':_0x1ddb4f[_0x2cbb6a(0x477)],'messages':_0x1fb66b,'max_completion_tokens':_0x1ddb4f[_0x2cbb6a(0x1d5)],'temperature':_0x1ddb4f['temperature'],'tools':_0x1ddb4f['tools'],'structured_output':_0x1ddb4f[_0x2cbb6a(0x2f3)],'metadata':{'threadId':_0x190c45,'jobId':_0x58ae7d,'agentId':_0x2f89f7,'workflowId':_0x3eec95,'context':_0x111422?.['internalContext']??{}}})}),_0x5dfaf1=await _0x1db53f[_0x2cbb6a(0xb41)]();_0x29ceff=_0x5dfaf1[_0x2cbb6a(0x90a)][0x0][_0x2cbb6a(0x512)][_0x2cbb6a(0x26d)],_0x111422&&(_0x111422[_0x2cbb6a(0xade)]={..._0x111422[_0x2cbb6a(0xade)],..._0x5dfaf1['context']},_0x111422[_0x2cbb6a(0x7d6)]=(_0x111422['outputTokens']??0x0)+_0x5dfaf1[_0x2cbb6a(0x636)][_0x2cbb6a(0xa95)],_0x111422['inputTokens']=(_0x111422[_0x2cbb6a(0x4d6)]??0x0)+_0x5dfaf1[_0x2cbb6a(0x636)][_0x2cbb6a(0x46b)],_0x1ddb4f[_0x2cbb6a(0x361)]&&(_0x111422[_0x2cbb6a(0xade)]||(_0x111422['internalContext']={}),_0x111422[_0x2cbb6a(0xade)][_0x1ddb4f['contextOutputVariable']]=_0x29ceff));}if(_0x2cbb6a(0x563)!=typeof _0x29ceff)throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x58ae7d&&_0x2f89f7&&_0x190c45&&await _0x40fab9[_0x2cbb6a(0x85a)]({'jobType':_0x3e2f29[_0x2cbb6a(0x603)],'type':_0xe29f3a['ExecuteAgent'],'jobId':_0x58ae7d,'blockId':_0x2cbb6a(0x44b),'agentId':_0x2f89f7,'threadId':_0x190c45,'traceLevel':_0x584638[_0x2cbb6a(0xbf7)],'startTime':_0x325263,'timestamp':Date[_0x2cbb6a(0x3a1)](),'status':_0x2cbb6a(0x683),'agentName':_0x1ddb4f[_0x2cbb6a(0xa7b)],'prompt':_0x38ca01[_0x2cbb6a(0x5db)],'instructions':_0x1ddb4f[_0x2cbb6a(0x875)]??'','result':_0x29ceff,'inputTokens':0x0,'outputTokens':0x0}),_0x29ceff;}catch(_0x241f79){return console[_0x2cbb6a(0x5c5)](_0x241f79),_0x58ae7d&&_0x2f89f7&&_0x190c45&&await _0x40fab9[_0x2cbb6a(0x85a)]({'jobType':_0x3e2f29[_0x2cbb6a(0x603)],'type':_0xe29f3a[_0x2cbb6a(0x760)],'jobId':_0x58ae7d,'blockId':'agent','agentId':_0x2f89f7,'threadId':_0x190c45,'traceLevel':_0x584638[_0x2cbb6a(0xbf7)],'startTime':_0x325263,'timestamp':Date[_0x2cbb6a(0x3a1)](),'status':_0x2cbb6a(0x5c5),'errorDetails':_0x5a4511(_0x241f79),'agentName':_0x1ddb4f[_0x2cbb6a(0xa7b)],'prompt':_0x38ca01?.['prompt']??'','instructions':_0x1ddb4f[_0x2cbb6a(0x875)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x241f79 instanceof Error?_0x241f79['message']:_0x2cbb6a(0x6a6);}}async function _0x2ce5c7(_0x4b4a39,_0x4550bc,_0x481b11,_0x3219e9,_0x5cd407,_0x4a806e){const _0x2aff59=_0x273dd2,_0xf8ab92=Date[_0x2aff59(0x3a1)]();try{if(!_0x4550bc[_0x2aff59(0x93e)])throw new Error(_0x2aff59(0x80e));if(!_0x4b4a39[_0x2aff59(0x477)])throw new Error(_0x2aff59(0x8da));if(_0x2aff59(0x563)!=typeof _0x481b11?.[_0x2aff59(0x756)])throw new Error(_0x2aff59(0x606));const _0xd249bc=await _0x4550bc[_0x2aff59(0x93e)]['search'](_0x481b11[_0x2aff59(0x756)],_0x4b4a39[_0x2aff59(0x477)]);return _0x3219e9&&_0x5cd407&&_0x4a806e&&(await _0x40fab9['logUsage'](_0x3219e9,_0x4b4a39[_0x2aff59(0x477)],_0xd249bc['inputTokens'],_0xd249bc[_0x2aff59(0x7d6)]),console[_0x2aff59(0x3a3)](new Date()+_0x2aff59(0x886),_0x4b4a39[_0x2aff59(0x477)],_0xd249bc['inputTokens'],_0xd249bc[_0x2aff59(0x7d6)]),await _0x40fab9[_0x2aff59(0x85a)]({'jobType':_0x3e2f29[_0x2aff59(0x603)],'type':_0xe29f3a['SearchPerplexity'],'jobId':_0x3219e9,'agentId':_0x5cd407,'threadId':_0x4a806e,'blockId':_0x2aff59(0x9f8),'traceLevel':_0x584638[_0x2aff59(0xbf7)],'startTime':_0xf8ab92,'timestamp':Date[_0x2aff59(0x3a1)](),'status':_0x2aff59(0x683),'query':_0x481b11[_0x2aff59(0x756)],'results':_0xd249bc['output']})),_0xd249bc['output'];}catch(_0x4d1bfd){return console[_0x2aff59(0x5c5)](_0x4d1bfd),_0x3219e9&&_0x5cd407&&_0x4a806e&&await _0x40fab9[_0x2aff59(0x85a)]({'jobType':_0x3e2f29['Skill'],'type':_0xe29f3a[_0x2aff59(0x73a)],'jobId':_0x3219e9,'blockId':'ai-search','traceLevel':_0x584638[_0x2aff59(0xbf7)],'startTime':_0xf8ab92,'timestamp':Date['now'](),'status':_0x2aff59(0x5c5),'errorDetails':_0x5a4511(_0x4d1bfd),'agentId':_0x5cd407,'threadId':_0x4a806e,'query':_0x481b11?.[_0x2aff59(0x756)]??'','results':'Error\x20searching'}),_0x4d1bfd instanceof Error?_0x4d1bfd[_0x2aff59(0x512)]:_0x2aff59(0x7e3);}}async function _0x32d100(_0xb97449,_0x4519e5,_0x43301e,_0x40fd19){const _0x2b46ba=_0x273dd2,_0x33c6b5=Date[_0x2b46ba(0x3a1)]();try{if(_0x2b46ba(0x563)!=typeof _0xb97449?.[_0x2b46ba(0x1ce)])throw new Error(_0x2b46ba(0x1da));const _0x56be68=Function(''+_0xb97449?.[_0x2b46ba(0x1ce)])();let _0x5731ba='';try{_0x5731ba=JSON[_0x2b46ba(0xa5e)](_0x56be68);}catch{_0x5731ba=_0x56be68[_0x2b46ba(0xa7d)]();}return _0x4519e5&&_0x43301e&&_0x40fd19&&await _0x40fab9['trace']({'jobType':_0x3e2f29['Skill'],'type':_0xe29f3a[_0x2b46ba(0x8d0)],'agentId':_0x43301e,'threadId':_0x40fd19,'jobId':_0x4519e5,'blockId':'code','traceLevel':_0x584638[_0x2b46ba(0xbf7)],'startTime':_0x33c6b5,'timestamp':Date['now'](),'status':_0x2b46ba(0x683),'code':_0xb97449['code'],'result':_0x5731ba}),_0x56be68;}catch(_0x55bf2b){return console[_0x2b46ba(0x5c5)](_0x55bf2b),_0x4519e5&&_0x43301e&&_0x40fd19&&await _0x40fab9[_0x2b46ba(0x85a)]({'jobType':_0x3e2f29['Skill'],'type':_0xe29f3a[_0x2b46ba(0x8d0)],'jobId':_0x4519e5,'blockId':_0x2b46ba(0x1ce),'traceLevel':_0x584638[_0x2b46ba(0xbf7)],'startTime':_0x33c6b5,'timestamp':Date[_0x2b46ba(0x3a1)](),'status':_0x2b46ba(0x5c5),'errorDetails':_0x5a4511(_0x55bf2b),'agentId':_0x43301e,'threadId':_0x40fd19,'code':_0xb97449?.[_0x2b46ba(0x1ce)]??'','result':_0x2b46ba(0x228)}),_0x55bf2b instanceof Error?_0x55bf2b[_0x2b46ba(0x512)]:_0x2b46ba(0x228);}}async function _0x31b9d6(_0x339a3d,_0x4bf699,_0x204be0,_0x5bf4dc,_0x5af234){const _0x30b0b9=_0x273dd2,_0x576cd2=_0x30b0b9(0xb74)+_0x5af234[_0x30b0b9(0x42c)]+_0x30b0b9(0xa96),_0x177399={'queryOrPrompt':{'type':_0x2a74a6[_0x30b0b9(0x4b6)][_0x30b0b9(0xb5d)]}};return await _0x40fab9[_0x30b0b9(0x85a)]({'jobType':_0x3e2f29[_0x30b0b9(0x96b)],'type':_0x41e841[_0x30b0b9(0xabf)],'jobId':_0x339a3d,'agentId':_0x4bf699,'threadId':_0x204be0[_0x30b0b9(0x9bd)],'blockId':_0x30b0b9(0x412),'traceLevel':_0x584638[_0x30b0b9(0xbf7)],'startTime':Date[_0x30b0b9(0x3a1)](),'timestamp':Date[_0x30b0b9(0x3a1)](),'status':_0x30b0b9(0x683),'function':_0x3ccee8[_0x30b0b9(0xc13)],'params':_0x177399,'functionDescription':_0x576cd2}),{'description':_0x576cd2,'params':_0x177399,'callback':async _0x3ecd0d=>_0x274332(_0x204be0[_0x30b0b9(0x300)],_0x5af234,_0x3ecd0d,_0x5bf4dc,_0x339a3d,_0x4bf699,_0x204be0['threadId'])};}async function _0x274332(_0x1a941b,_0x62396f,_0x3b0902,_0x397aa4,_0x37b4f0,_0x509399,_0x3552c8){const _0x1fa279=_0x273dd2,_0x150118=Date[_0x1fa279(0x3a1)]();try{if(_0x1fa279(0x563)!=typeof _0x3b0902?.[_0x1fa279(0x9be)])throw new Error(_0x1fa279(0x606));const _0x5e3a4a=await fetch(_0x495699[_0x1fa279(0x4b7)]+_0x1fa279(0x59d)+_0x62396f[_0x1fa279(0x5f4)]+_0x1fa279(0x29a),{'method':'POST','headers':{'Content-Type':_0x1fa279(0x699),'x-vendor-id':_0x1a941b},'body':JSON[_0x1fa279(0xa5e)]({'query':_0x3b0902['queryOrPrompt']})}),_0x398d33=((await _0x5e3a4a['json']())['data']??[])[_0x1fa279(0xb48)](_0x477f39=>({'pathName':_0x477f39[_0x1fa279(0xb44)],'relevance':_0x477f39[_0x1fa279(0x9a0)],'content':_0x477f39[_0x1fa279(0x26d)][_0x1fa279(0x4e4)]}));return _0x397aa4&&(_0x397aa4[_0x1fa279(0x442)]=Array['from'](new Set([..._0x397aa4['context']??[],..._0x398d33]))),_0x37b4f0&&_0x509399&&_0x3552c8&&await _0x40fab9[_0x1fa279(0x85a)]({'jobType':_0x3e2f29[_0x1fa279(0x591)],'type':_0x3ccee8[_0x1fa279(0x632)],'jobId':_0x37b4f0,'blockId':_0x1fa279(0x412),'agentId':_0x509399,'threadId':_0x3552c8,'traceLevel':_0x584638[_0x1fa279(0xbf7)],'startTime':_0x150118,'timestamp':Date[_0x1fa279(0x3a1)](),'status':_0x1fa279(0x683),'query':_0x3b0902[_0x1fa279(0x9be)],'context':_0x398d33??[],'inputTokens':0x0,'outputTokens':0x0}),_0x398d33['reduce']((_0x464ee1,_0x2cd1b7)=>_0x464ee1+'\x0a'+_0x2cd1b7[_0x1fa279(0x26d)],'');}catch(_0x32551a){return console[_0x1fa279(0x5c5)](_0x32551a),_0x37b4f0&&_0x509399&&_0x3552c8&&await _0x40fab9[_0x1fa279(0x85a)]({'jobType':_0x3e2f29[_0x1fa279(0x591)],'type':_0x3ccee8[_0x1fa279(0x632)],'jobId':_0x37b4f0,'blockId':_0x1fa279(0x412),'agentId':_0x509399,'threadId':_0x3552c8,'traceLevel':_0x584638[_0x1fa279(0xbf7)],'startTime':_0x150118,'timestamp':Date['now'](),'status':_0x1fa279(0x5c5),'errorDetails':_0x5a4511(_0x32551a),'query':_0x3b0902?.[_0x1fa279(0x9be)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x32551a instanceof Error?_0x32551a[_0x1fa279(0x512)]:_0x1fa279(0x1d6);}}async function _0x24a399(_0x454511,_0x14083c,_0x55b5b0,_0x31710a,_0x1bd840){const _0x2e689f=_0x273dd2,_0x49fdfb={};for(const _0x44db62 of _0x1bd840[_0x2e689f(0xbd2)]??[])switch(_0x44db62[_0x2e689f(0x6b9)]){case _0x2e689f(0x563):case _0x2e689f(0xb41):_0x49fdfb[_0x44db62[_0x2e689f(0xa7b)]]={'type':_0x2a74a6[_0x2e689f(0x4b6)][_0x2e689f(0xb5d)]};break;case _0x2e689f(0x2db):_0x49fdfb[_0x44db62[_0x2e689f(0xa7b)]]={'type':_0x2a74a6[_0x2e689f(0x4b6)][_0x2e689f(0x4b5)]};break;case _0x2e689f(0xb68):_0x49fdfb[_0x44db62[_0x2e689f(0xa7b)]]={'type':_0x2a74a6[_0x2e689f(0x4b6)][_0x2e689f(0x305)]};}return await _0x40fab9[_0x2e689f(0x85a)]({'jobType':_0x3e2f29[_0x2e689f(0x96b)],'type':_0x41e841[_0x2e689f(0x1f3)],'jobId':_0x454511,'agentId':_0x14083c,'threadId':_0x55b5b0,'traceLevel':_0x584638[_0x2e689f(0xbf7)],'startTime':Date[_0x2e689f(0x3a1)](),'timestamp':Date['now'](),'status':_0x2e689f(0x683),'function':_0xe29f3a[_0x2e689f(0x268)],'params':_0x49fdfb,'functionDescription':_0x1bd840[_0x2e689f(0x42c)]??''}),{'description':'Execute\x20skill\x20'+_0x1bd840[_0x2e689f(0x42c)],'params':_0x49fdfb,'callback':async _0x3d69e2=>_0x2aae0d(_0x1bd840,_0x3d69e2,_0x31710a,_0x454511,_0x14083c,_0x55b5b0)};}async function _0x2aae0d(_0x5d0ecc,_0x1e964e,_0x325683,_0x3df27d,_0x2dd0e7,_0x4beeeb){const _0x5242aa=_0x273dd2,_0x20e54b=Date[_0x5242aa(0x3a1)]();try{if(!_0x1e964e)throw new Error(_0x5242aa(0x76e));for(const _0x5b2931 of _0x5d0ecc['parameters']??[]){if(void 0x0===_0x1e964e[_0x5b2931[_0x5242aa(0xa7b)]])throw new Error(_0x5242aa(0x9a1)+_0x5b2931[_0x5242aa(0xa7b)]+'\x20is\x20required');if(_0x5242aa(0x563)===_0x5b2931['type']&&_0x5242aa(0x563)!=typeof _0x1e964e[_0x5b2931[_0x5242aa(0xa7b)]])throw new Error(_0x5242aa(0x9a1)+_0x5b2931['name']+_0x5242aa(0x8ad));if('number'===_0x5b2931[_0x5242aa(0x6b9)]&&_0x5242aa(0x2db)!=typeof _0x1e964e[_0x5b2931[_0x5242aa(0xa7b)]])throw new Error(_0x5242aa(0x9a1)+_0x5b2931[_0x5242aa(0xa7b)]+_0x5242aa(0x36f));if('boolean'===_0x5b2931[_0x5242aa(0x6b9)]&&_0x5242aa(0xb68)!=typeof _0x1e964e[_0x5b2931[_0x5242aa(0xa7b)]])throw new Error(_0x5242aa(0x9a1)+_0x5b2931['name']+'\x20must\x20be\x20a\x20boolean');if(_0x5242aa(0xb41)===_0x5b2931[_0x5242aa(0x6b9)]&&_0x5242aa(0x563)!=typeof _0x1e964e[_0x5b2931[_0x5242aa(0xa7b)]])throw new Error(_0x5242aa(0x9a1)+_0x5b2931[_0x5242aa(0xa7b)]+_0x5242aa(0x8ad));if('json'===_0x5b2931['type'])try{_0x1e964e[_0x5b2931[_0x5242aa(0xa7b)]]=JSON[_0x5242aa(0xba5)](_0x1e964e[_0x5b2931[_0x5242aa(0xa7b)]]);}catch{throw new Error(_0x5242aa(0x9a1)+_0x5b2931[_0x5242aa(0xa7b)]+_0x5242aa(0x2b2));}}const _0x18be25={};for(const _0x52d771 of _0x5d0ecc[_0x5242aa(0x82e)]??[]){let _0x269221=_0x52d771[_0x5242aa(0x22e)];_0x269221[_0x5242aa(0x70e)](/\$[a-zA-Z0-9]+/)&&(_0x269221=_0x269221[_0x5242aa(0x4cf)](/\$[a-zA-Z0-9]+/g,_0x2a297f=>{const _0x31bc62=_0x2a297f['slice'](0x1);return _0x1e964e[_0x31bc62];})),_0x18be25[_0x52d771[_0x5242aa(0xa7b)]]=_0x269221;}const _0x24c542=new URLSearchParams();for(const _0x452042 of _0x5d0ecc[_0x5242aa(0x30e)]??[]){let _0x260188=_0x452042[_0x5242aa(0x22e)];if(_0x5242aa(0x563)==typeof _0x260188&&_0x260188['startsWith']('$')){const _0x34a424=_0x260188[_0x5242aa(0x36d)](0x1);_0x260188=_0x1e964e[_0x34a424];}if(_0x5242aa(0x563)==typeof _0x260188&&_0x260188['startsWith']('@context.')){const _0x1b52bb=_0x260188[_0x5242aa(0x4cf)]('@context.','');_0x260188=_0x325683?.[_0x5242aa(0xade)]?.[_0x1b52bb];}if(_0x5242aa(0x563)==typeof _0x260188&&(_0x260188[_0x5242aa(0xb97)]('[')&&_0x260188['endsWith'](']')||_0x260188[_0x5242aa(0xb97)]('{')&&_0x260188['endsWith']('}')))try{_0x260188=JSON[_0x5242aa(0xba5)](_0x260188);}catch(_0x2b0231){console[_0x5242aa(0x5c5)](_0x2b0231);}_0x24c542['append'](_0x452042[_0x5242aa(0xa7b)],_0x260188);}let _0x5688b7,_0x446614=_0x5d0ecc['endpointUrl']??'';_0x24c542['size']>0x0&&(_0x446614+='?'+_0x24c542['toString']());for(const _0x2d35ba of _0x5d0ecc[_0x5242aa(0x953)]??[]){void 0x0===_0x5688b7&&(_0x5688b7={});let _0x1e890b=_0x2d35ba[_0x5242aa(0x22e)];if(_0x5242aa(0x563)==typeof _0x1e890b&&_0x1e890b[_0x5242aa(0xb97)]('$')){const _0x5bacec=_0x1e890b[_0x5242aa(0x36d)](0x1);_0x1e890b=_0x1e964e[_0x5bacec];}if(_0x5242aa(0x563)==typeof _0x1e890b&&_0x1e890b[_0x5242aa(0xb97)]('@context.')){const _0x2356dc=_0x1e890b[_0x5242aa(0x4cf)]('@context.','');_0x1e890b=_0x325683?.[_0x5242aa(0xade)]?.[_0x2356dc];}if(_0x5242aa(0x563)==typeof _0x1e890b&&(_0x1e890b['startsWith']('[')&&_0x1e890b[_0x5242aa(0x8c8)](']')||_0x1e890b[_0x5242aa(0xb97)]('{')&&_0x1e890b[_0x5242aa(0x8c8)]('}')))try{_0x1e890b=JSON['parse'](_0x1e890b);}catch(_0x35b123){console[_0x5242aa(0x5c5)](_0x35b123);}if(_0x5242aa(0x76d)===_0x2d35ba[_0x5242aa(0xa7b)]){if('string'==typeof _0x1e890b){const _0x1642c8=_0x1e890b[_0x5242aa(0x70e)](/```html(.*)```/s);_0x1642c8&&(_0x1e890b=_0x1642c8[0x1]),_0x1e890b=_0x1e890b[_0x5242aa(0x4cf)](/\n/g,''),_0x1e890b=_0x1e890b[_0x5242aa(0x4cf)](/'/g,'\x22');}_0x5688b7=_0x1e890b;break;}if(-0x1===_0x2d35ba[_0x5242aa(0xa7b)][_0x5242aa(0x28c)]('.'))_0x5688b7[_0x2d35ba[_0x5242aa(0xa7b)]]=_0x1e890b;else{const [_0x274d84,_0x46bd68]=_0x2d35ba[_0x5242aa(0xa7b)][_0x5242aa(0xa62)]('.');_0x5688b7[_0x274d84]||(_0x5688b7[_0x274d84]={}),_0x5688b7[_0x274d84][_0x46bd68]=_0x1e890b;}}console[_0x5242aa(0x3a3)](_0x5242aa(0x432)+_0x5d0ecc['name']+_0x5242aa(0x1cd)+JSON[_0x5242aa(0xa5e)](_0x5688b7));const _0x556712=await fetch(_0x446614,{'method':_0x5d0ecc[_0x5242aa(0x644)],'headers':_0x18be25,'body':void 0x0===_0x5688b7?void 0x0:_0x5242aa(0x563)==typeof _0x5688b7?_0x5688b7:JSON[_0x5242aa(0xa5e)](_0x5688b7)});if(_0x556712['ok']){let _0x47a6cf=await _0x556712[_0x5242aa(0xb41)]();return _0x5242aa(0x563)!=typeof _0x47a6cf&&(_0x47a6cf=JSON[_0x5242aa(0xa5e)](_0x47a6cf)),_0x3df27d&&_0x2dd0e7&&_0x4beeeb&&await _0x40fab9[_0x5242aa(0x85a)]({'jobType':_0x3e2f29[_0x5242aa(0x603)],'type':_0xe29f3a[_0x5242aa(0x268)],'jobId':_0x3df27d,'agentId':_0x2dd0e7,'threadId':_0x4beeeb,'blockId':_0x5242aa(0x378),'traceLevel':_0x584638[_0x5242aa(0xbf7)],'startTime':_0x20e54b,'timestamp':Date[_0x5242aa(0x3a1)](),'status':_0x5242aa(0x683),'skillName':_0x5d0ecc['name'],'params':_0x1e964e,'result':_0x47a6cf}),_0x325683&&_0x5d0ecc[_0x5242aa(0x361)]&&''!==_0x5d0ecc[_0x5242aa(0x361)]&&(_0x325683[_0x5242aa(0xade)]||(_0x325683['internalContext']={}),_0x325683[_0x5242aa(0xade)][_0x5d0ecc['contextOutputVariable']]=_0x47a6cf),_0x47a6cf;}throw new Error(_0x556712[_0x5242aa(0x60e)]);}catch(_0x2f7e7f){console['error'](_0x2f7e7f);const _0x2f7e52=_0x2f7e7f instanceof Error?_0x2f7e7f[_0x5242aa(0x512)]:'Error\x20fetching\x20URL';return _0x3df27d&&_0x2dd0e7&&_0x4beeeb&&await _0x40fab9[_0x5242aa(0x85a)]({'jobType':_0x3e2f29[_0x5242aa(0x603)],'type':_0xe29f3a[_0x5242aa(0x268)],'jobId':_0x3df27d,'blockId':_0x5242aa(0x378),'threadId':_0x4beeeb,'traceLevel':_0x584638[_0x5242aa(0xbf7)],'startTime':_0x20e54b,'timestamp':Date['now'](),'agentId':_0x2dd0e7,'status':_0x5242aa(0x5c5),'skillName':_0x5d0ecc[_0x5242aa(0xa7b)],'params':_0x1e964e??{},'result':_0x2f7e52}),_0x2f7e52;}}async function _0xc658eb(_0x3ecd61,_0x18bb8e,_0x10d418,_0xc1599a=!0x0){const _0xd5d339=_0x273dd2,_0x174b2a=_0xd5d339(0x395),_0x495039={'url':{'type':_0x2a74a6['PromptFunctionParamsType']['String']},'page':{'type':_0x2a74a6[_0xd5d339(0x4b6)][_0xd5d339(0x4b5)]}};return await _0x40fab9[_0xd5d339(0x85a)]({'jobType':_0x3e2f29[_0xd5d339(0x96b)],'type':_0x41e841[_0xd5d339(0x1f3)],'jobId':_0x3ecd61,'agentId':_0x18bb8e,'threadId':_0x10d418,'traceLevel':_0x584638[_0xd5d339(0xbf7)],'startTime':Date[_0xd5d339(0x3a1)](),'timestamp':Date[_0xd5d339(0x3a1)](),'status':_0xd5d339(0x683),'function':_0xe29f3a[_0xd5d339(0xad7)],'params':_0x495039,'functionDescription':_0x174b2a}),{'description':_0x174b2a,'params':_0x495039,'callback':async _0x210889=>_0x26450f(_0x210889,_0xc1599a,_0x3ecd61,_0x18bb8e,_0x10d418)};}async function _0x26450f(_0x47e3f1,_0x1b9d52=!0x0,_0x18a287,_0x30a8ff,_0x41e2ee){const _0x4579cf=_0x273dd2,_0x2498b5=Date['now']();try{if('string'!=typeof _0x47e3f1?.[_0x4579cf(0x6d7)])throw new Error(_0x4579cf(0x6df));const _0x22deeb=_0x47e3f1[_0x4579cf(0x6d7)];if([_0x4579cf(0x7fe),_0x4579cf(0x32e),_0x4579cf(0x89e),'.ppt',_0x4579cf(0x33d),_0x4579cf(0x31f),'.xlsx']['some'](_0x441104=>_0x22deeb[_0x4579cf(0x8c8)](_0x441104)))throw new Error('Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file');const _0x40fefb=await fetch(_0x22deeb),_0x4a9f44=await _0x40fefb['text']();let _0x50ea61=_0x4a9f44;if(_0x1b9d52){const _0x25ab8a=_0x4a9f44[_0x4579cf(0x70e)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x1c2176=_0x25ab8a?_0x25ab8a[0x1]:_0x4a9f44,_0x27314f=_0x1c2176['replace'](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x4579cf(0x4cf)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x4579cf(0x4cf)](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0x50ea61=_0x27314f['replace'](/<\/?[^>]+(>|$)/g,'')[_0x4579cf(0x4cf)](/\s\s+/g,'\x20')[_0x4579cf(0x854)]();}const _0x118076='number'==typeof _0x47e3f1[_0x4579cf(0x67d)]?_0x47e3f1[_0x4579cf(0x67d)]:0x1,_0x426a7f=Math[_0x4579cf(0x42f)](_0x50ea61[_0x4579cf(0x830)]/_0x84b56f);return _0x50ea61[_0x4579cf(0x830)]>_0x84b56f&&(_0x50ea61=_0x50ea61[_0x4579cf(0x98b)]((_0x118076-0x1)*_0x84b56f,(_0x118076-0x1)*_0x84b56f+_0x84b56f)+_0x4579cf(0x617)+(_0x118076+0x1)+_0x4579cf(0x513)+_0x426a7f+'.'),_0x18a287&&_0x30a8ff&&_0x41e2ee&&await _0x40fab9[_0x4579cf(0x85a)]({'jobType':_0x3e2f29[_0x4579cf(0x603)],'type':_0xe29f3a[_0x4579cf(0xad7)],'jobId':_0x18a287,'agentId':_0x30a8ff,'threadId':_0x41e2ee,'blockId':_0x4579cf(0x6af),'traceLevel':_0x584638['Info'],'startTime':_0x2498b5,'timestamp':Date[_0x4579cf(0x3a1)](),'status':_0x40fefb['ok']?'success':_0x4579cf(0x5c5),'url':_0x47e3f1['url'],'page':_0x118076,'totalPages':_0x426a7f,'response':_0x50ea61}),_0x50ea61;}catch(_0x471853){console[_0x4579cf(0x5c5)](_0x471853);const _0x32cfe9=_0x471853 instanceof Error?_0x471853['message']:_0x4579cf(0x74d);return _0x18a287&&_0x30a8ff&&_0x41e2ee&&await _0x40fab9[_0x4579cf(0x85a)]({'jobType':_0x3e2f29[_0x4579cf(0x603)],'type':_0xe29f3a[_0x4579cf(0xad7)],'jobId':_0x18a287,'blockId':_0x4579cf(0x6af),'threadId':_0x41e2ee,'traceLevel':_0x584638['Info'],'startTime':_0x2498b5,'timestamp':Date[_0x4579cf(0x3a1)](),'agentId':_0x30a8ff,'status':_0x4579cf(0x5c5),'errorDetails':_0x5a4511(_0x471853),'url':_0x47e3f1?.[_0x4579cf(0x6d7)]??'','page':0x0,'totalPages':0x0,'response':_0x32cfe9}),_0x32cfe9;}}async function _0x18a258(_0x4975ab,_0x26ff61,_0x32c91a,_0x4fe7e4,_0x968569){const _0x135732=_0x273dd2,_0x3af61f=Date[_0x135732(0x3a1)]();try{if(!_0x4975ab[_0x135732(0x371)])throw new Error(_0x135732(0x610));if('string'!=typeof _0x26ff61?.['query'])throw new Error(_0x135732(0x606));const _0xa0db08=await _0x4975ab[_0x135732(0x371)]['search'](_0x26ff61[_0x135732(0x756)],_0x495699['google'][_0x135732(0xbd8)]);let _0xdb0f1a='';for(const _0x746a60 of _0xa0db08)_0xdb0f1a+=_0x746a60[_0x135732(0x3bb)]+_0x135732(0x1d4)+_0x746a60[_0x135732(0x6d7)]+'\x0a'+_0x746a60[_0x135732(0xa9a)]+'\x0a\x0a';return _0x32c91a&&_0x4fe7e4&&_0x968569&&await _0x40fab9[_0x135732(0x85a)]({'jobType':_0x3e2f29[_0x135732(0x603)],'type':_0xe29f3a['SearchGoogle'],'jobId':_0x32c91a,'agentId':_0x4fe7e4,'threadId':_0x968569,'blockId':_0x135732(0x2bc),'traceLevel':_0x584638[_0x135732(0xbf7)],'startTime':_0x3af61f,'timestamp':Date[_0x135732(0x3a1)](),'status':_0x135732(0x683),'query':_0x26ff61[_0x135732(0x756)],'results':_0xdb0f1a}),_0xdb0f1a;}catch(_0x1e304e){return console[_0x135732(0x5c5)](_0x1e304e),_0x32c91a&&_0x4fe7e4&&_0x968569&&await _0x40fab9[_0x135732(0x85a)]({'jobType':_0x3e2f29[_0x135732(0x603)],'type':_0xe29f3a[_0x135732(0xa09)],'jobId':_0x32c91a,'blockId':'search','traceLevel':_0x584638[_0x135732(0xbf7)],'startTime':_0x3af61f,'timestamp':Date[_0x135732(0x3a1)](),'status':'error','errorDetails':_0x5a4511(_0x1e304e),'agentId':_0x4fe7e4,'threadId':_0x968569,'query':_0x26ff61?.[_0x135732(0x756)]??'','results':_0x135732(0x7e3)}),_0x1e304e instanceof Error?_0x1e304e[_0x135732(0x512)]:'Error\x20searching';}}async function _0x4c1a09(_0x3d6164,_0x1f535d,_0x4cd00a,_0x1c0a38,_0x3f75cd,_0x236d8d){const _0xb0b09e=_0x273dd2,_0x16de15='Execute\x20the\x20workflow\x20'+_0x3f75cd[_0xb0b09e(0x42c)]+_0xb0b09e(0x1df),_0x52ba64={'prompt':{'type':_0x2a74a6[_0xb0b09e(0x4b6)][_0xb0b09e(0xb5d)]}};return await _0x40fab9[_0xb0b09e(0x85a)]({'jobType':_0x3e2f29[_0xb0b09e(0x96b)],'type':_0x41e841[_0xb0b09e(0x1f3)],'jobId':_0x3d6164,'agentId':_0x1f535d,'threadId':_0x4cd00a[_0xb0b09e(0x9bd)],'traceLevel':_0x584638[_0xb0b09e(0xbf7)],'startTime':Date[_0xb0b09e(0x3a1)](),'timestamp':Date[_0xb0b09e(0x3a1)](),'status':'success','function':_0xe29f3a[_0xb0b09e(0x376)],'params':_0x52ba64,'functionDescription':_0x16de15}),{'description':_0x16de15,'params':_0x52ba64,'callback':async _0x12cd8f=>_0x2b55dc(_0x4cd00a['vendorId'],_0x3f75cd,_0x12cd8f,_0x1c0a38,_0x3d6164,_0x1f535d,_0x4cd00a[_0xb0b09e(0x9bd)],_0x236d8d)};}async function _0x2b55dc(_0x32f5bb,_0xd678aa,_0x40628a,_0x20cdcf,_0x119abf,_0x4680fb,_0x480e93,_0x256cd7){const _0x2e754f=_0x273dd2,_0x82afb6=Date[_0x2e754f(0x3a1)]();try{if('string'!=typeof _0x40628a?.['prompt'])throw new Error(_0x2e754f(0x2a5));let _0x2fe79f='';const _0x57659a=_0xd678aa['contextInputVariable']?.[_0x2e754f(0xa62)](',')??[];let _0x4e3703=_0x40628a[_0x2e754f(0x5db)];for(const _0x31598e of _0x57659a){const _0x5c4960=_0x20cdcf?.[_0x2e754f(0xade)]?.[_0x31598e];_0x5c4960&&(_0x4e3703='<'+_0x31598e+'>\x0a'+_0x5c4960+_0x2e754f(0x8d6)+_0x31598e+_0x2e754f(0x3ff)+_0x4e3703);}let _0x17de7b=[{'role':'user','content':_0x4e3703}];if(_0x256cd7&&_0xd678aa['shouldEmit']){const _0x18c0b6=await fetch(_0x495699[_0x2e754f(0x4b7)]+'/workflows/'+_0xd678aa[_0x2e754f(0x27e)]+'/chat/completions',{'method':_0x2e754f(0x26c),'headers':{'Accept':_0x2e754f(0xb7d),'Content-Type':'application/json','x-vendor-id':_0x32f5bb},'body':JSON[_0x2e754f(0xa5e)]({'model':_0xd678aa['modelId'],'messages':_0x17de7b,'max_completion_tokens':_0xd678aa['maxTokens'],'temperature':_0xd678aa['temperature'],'tools':_0xd678aa[_0x2e754f(0x84a)],'structured_output':_0xd678aa['grammar'],'metadata':{'threadId':_0x480e93,'jobId':_0x119abf,'agentId':_0x4680fb,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x18c0b6['ok']||!_0x18c0b6[_0x2e754f(0x286)])return console[_0x2e754f(0x5c5)](_0x2e754f(0x72f)),_0x256cd7[_0x2e754f(0x743)](void 0x0),_0x2e754f(0x2b4);const _0x4aa706=_0x18c0b6['body'][_0x2e754f(0x334)](),_0xfe2aa6=new TextDecoder();let _0x356d2c=0x0,_0x464da4=0x0,_0x2e5f9c='';for(;;){const {value:_0x355bd2,done:_0x44ecdf}=await _0x4aa706[_0x2e754f(0xb32)]();if(_0x44ecdf)break;const _0x14abd9=_0xfe2aa6['decode'](_0x355bd2,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x14abd9)break;const _0x15d265=_0x147223(_0x14abd9);for(const _0x4c7aec of _0x15d265)_0x4c7aec[_0x2e754f(0x90a)]&&_0x4c7aec['choices'][0x0]&&(_0x2e5f9c+=_0x4c7aec[_0x2e754f(0x90a)][0x0]['delta'][_0x2e754f(0x26d)],_0x356d2c+=_0x4c7aec['usage']?.[_0x2e754f(0x720)]??0x0,_0x464da4+=_0x4c7aec[_0x2e754f(0x636)]?.[_0x2e754f(0x27d)]??0x0,_0x20cdcf&&(_0x20cdcf[_0x2e754f(0xade)]={..._0x20cdcf[_0x2e754f(0xade)],..._0x4c7aec[_0x2e754f(0x442)]}),_0x256cd7[_0x2e754f(0x743)]({'output':_0x4c7aec['choices'][0x0][_0x2e754f(0x48c)][_0x2e754f(0x26d)],'type':_0x2e754f(0x5db)}),await _0x35fbea[_0x2e754f(0x3a0)](0x1));}_0x20cdcf&&(_0x20cdcf['outputTokens']=(_0x20cdcf[_0x2e754f(0x7d6)]??0x0)+_0x464da4,_0x20cdcf[_0x2e754f(0x4d6)]=(_0x20cdcf[_0x2e754f(0x4d6)]??0x0)+_0x356d2c,_0xd678aa['contextOutputVariable']&&(_0x20cdcf[_0x2e754f(0xade)]||(_0x20cdcf[_0x2e754f(0xade)]={}),_0x20cdcf['internalContext'][_0xd678aa[_0x2e754f(0x361)]]=_0x2e5f9c)),_0x256cd7[_0x2e754f(0x743)]({'output':'\x0a\x0a','type':_0x2e754f(0x5db)}),await _0x35fbea['wait'](0x1),_0x2fe79f=_0x2e754f(0x358);}else{const _0x4759ba=fetch(_0x495699[_0x2e754f(0x4b7)]+'/workflows/'+_0xd678aa[_0x2e754f(0x27e)]+'/chat/completions',{'method':_0x2e754f(0x26c),'headers':{'Content-Type':_0x2e754f(0x699),'x-vendor-id':_0x32f5bb},'body':JSON[_0x2e754f(0xa5e)]({'model':_0xd678aa[_0x2e754f(0x477)],'messages':_0x17de7b,'max_completion_tokens':_0xd678aa[_0x2e754f(0x1d5)],'temperature':_0xd678aa[_0x2e754f(0xc21)],'tools':_0xd678aa[_0x2e754f(0x84a)],'structured_output':_0xd678aa[_0x2e754f(0x2f3)],'metadata':{'threadId':_0x480e93,'jobId':_0x119abf,'agentId':_0x4680fb,'context':{}}})});if(_0xd678aa[_0x2e754f(0x638)])return'I\x20have\x20finished\x20executing\x20my\x20task.';const _0x1710c2=await _0x4759ba,_0x3ac326=await _0x1710c2[_0x2e754f(0xb41)]();_0x2fe79f=_0x3ac326['choices'][0x0][_0x2e754f(0x512)][_0x2e754f(0x26d)],_0x20cdcf&&(_0x20cdcf['internalContext']={..._0x20cdcf[_0x2e754f(0xade)],..._0x3ac326[_0x2e754f(0x442)]},_0x20cdcf[_0x2e754f(0x7d6)]=(_0x20cdcf[_0x2e754f(0x7d6)]??0x0)+_0x3ac326['usage']['completion_tokens'],_0x20cdcf[_0x2e754f(0x4d6)]=(_0x20cdcf[_0x2e754f(0x4d6)]??0x0)+_0x3ac326[_0x2e754f(0x636)][_0x2e754f(0x46b)],_0xd678aa[_0x2e754f(0x361)]&&(_0x20cdcf[_0x2e754f(0xade)]||(_0x20cdcf[_0x2e754f(0xade)]={}),_0x20cdcf['internalContext'][_0xd678aa[_0x2e754f(0x361)]]=_0x2fe79f));}if(_0x2e754f(0x563)!=typeof _0x2fe79f)throw new Error(_0x2e754f(0x93b));return _0x119abf&&_0x4680fb&&_0x480e93&&await _0x40fab9[_0x2e754f(0x85a)]({'jobType':_0x3e2f29[_0x2e754f(0x603)],'type':_0xe29f3a[_0x2e754f(0x376)],'jobId':_0x119abf,'blockId':_0x2e754f(0x600),'agentId':_0x4680fb,'threadId':_0x480e93,'traceLevel':_0x584638[_0x2e754f(0xbf7)],'startTime':_0x82afb6,'timestamp':Date['now'](),'status':'success','workflowName':_0xd678aa[_0x2e754f(0xa7b)],'prompt':_0x40628a[_0x2e754f(0x5db)],'result':_0x2fe79f,'inputTokens':0x0,'outputTokens':0x0}),_0x2fe79f;}catch(_0x2f6dac){if(console['error'](_0x2f6dac),_0x119abf&&_0x4680fb&&_0x480e93&&await _0x40fab9['trace']({'jobType':_0x3e2f29[_0x2e754f(0x603)],'type':_0xe29f3a[_0x2e754f(0x376)],'jobId':_0x119abf,'blockId':'workflow','agentId':_0x4680fb,'threadId':_0x480e93,'traceLevel':_0x584638['Info'],'startTime':_0x82afb6,'timestamp':Date[_0x2e754f(0x3a1)](),'status':_0x2e754f(0x5c5),'errorDetails':_0x5a4511(_0x2f6dac),'workflowName':_0xd678aa[_0x2e754f(0xa7b)],'prompt':_0x40628a?.[_0x2e754f(0x5db)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x2f6dac instanceof Error)throw _0x2f6dac;throw new Error(_0x2e754f(0x7f4));}}async function _0x520b13(_0x554865,_0x1e8d3f,_0x2d5bb5,_0x4f3975,_0x3e83a3){const _0x5bfdc4=_0x273dd2;return await _0x40fab9[_0x5bfdc4(0x85a)]({'jobType':_0x3e2f29[_0x5bfdc4(0x96b)],'type':_0x41e841[_0x5bfdc4(0x1f3)],'jobId':_0x554865,'agentId':_0x1e8d3f,'threadId':_0x2d5bb5,'traceLevel':_0x584638['Info'],'startTime':Date[_0x5bfdc4(0x3a1)](),'timestamp':Date['now'](),'status':_0x5bfdc4(0x683),'function':_0xe29f3a[_0x5bfdc4(0x528)],'params':{},'functionDescription':'Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.'}),{'description':_0x5bfdc4(0xadd),'params':{},'callback':async()=>_0x3c53b2(_0x3e83a3,_0x4f3975,_0x554865,_0x1e8d3f,_0x2d5bb5)};}async function _0x3c53b2(_0x490d02,_0x15cd9f,_0x1ba018,_0x28aa67,_0x119bc7){const _0x36caf5=_0x273dd2,_0x3ff94a=Date[_0x36caf5(0x3a1)]();let _0x543371=_0x490d02[_0x36caf5(0xa7b)]['replace'](/[^a-zA-Z]/g,'');_0x543371[_0x36caf5(0xb97)]('getQuestion')&&(_0x543371=_0x543371['replace'](_0x36caf5(0x93d),''));const _0x440973='question-'+_0x543371;let _0x105004=0x0;if(_0x15cd9f){const _0x18c093=_0x15cd9f[_0x36caf5(0xade)]?.[_0x440973];_0x18c093?_0x105004=parseInt(_0x18c093):(_0x105004=0x0,_0x15cd9f[_0x36caf5(0xade)]||(_0x15cd9f[_0x36caf5(0xade)]={}),_0x15cd9f[_0x36caf5(0xade)][_0x440973]='0');}const _0x43b9ca=_0x490d02['questions']||[];if(_0x105004>=_0x43b9ca[_0x36caf5(0x830)])return JSON[_0x36caf5(0xa5e)]({'error':_0x36caf5(0x9c0)});const _0x25358d=_0x43b9ca[_0x105004];return _0x1ba018&&_0x28aa67&&_0x119bc7&&await _0x40fab9[_0x36caf5(0x85a)]({'jobType':_0x3e2f29[_0x36caf5(0x603)],'type':_0xe29f3a[_0x36caf5(0x528)],'jobId':_0x1ba018,'agentId':_0x28aa67,'threadId':_0x119bc7,'blockId':'form-skill-get-question','traceLevel':_0x584638[_0x36caf5(0xbf7)],'startTime':_0x3ff94a,'timestamp':Date[_0x36caf5(0x3a1)](),'status':'success','question':_0x25358d[_0x36caf5(0x66c)],'currentQuestionIndex':_0x105004,'questions':_0x43b9ca[_0x36caf5(0xb48)](_0x36fded=>_0x36fded[_0x36caf5(0x66c)])}),JSON[_0x36caf5(0xa5e)]({'id':_0x25358d['id'],'question':_0x25358d[_0x36caf5(0x66c)],'validation':_0x25358d[_0x36caf5(0x834)],'required':_0x25358d['required'],'format':_0x25358d['format'],'action':_0x36caf5(0xbe6)});}async function _0x441f23(_0x2cd766,_0x34c49d,_0x53dfc2,_0x4157e9,_0x3ddc47){const _0x4995ae=_0x273dd2;return await _0x40fab9[_0x4995ae(0x85a)]({'jobType':_0x3e2f29['JobContext'],'type':_0x41e841[_0x4995ae(0x1f3)],'jobId':_0x2cd766,'agentId':_0x34c49d,'threadId':_0x53dfc2,'traceLevel':_0x584638['Info'],'startTime':Date['now'](),'timestamp':Date[_0x4995ae(0x3a1)](),'status':_0x4995ae(0x683),'function':_0xe29f3a[_0x4995ae(0x28f)],'params':{},'functionDescription':'Set\x20the\x20answer\x20to\x20the\x20current\x20question.'}),{'description':'Set\x20the\x20answer\x20to\x20the\x20current\x20question.','params':{'id':{'type':_0x2a74a6[_0x4995ae(0x4b6)]['String']},'answer':{'type':_0x2a74a6[_0x4995ae(0x4b6)][_0x4995ae(0xb5d)]}},'callback':async _0x3e0c76=>_0x46b86f(_0x3ddc47,_0x3e0c76,_0x4157e9,_0x2cd766,_0x34c49d,_0x53dfc2)};}async function _0x46b86f(_0x62af0f,_0x1c482e,_0x367be3,_0x50ce0b,_0x270562,_0x553b7f){const _0xf60d64=_0x273dd2,_0x423d82=Date[_0xf60d64(0x3a1)]();let _0x1edf07=_0x62af0f[_0xf60d64(0xa7b)]['replace'](/[^a-zA-Z]/g,'');_0x1edf07['startsWith']('setAnswer')&&(_0x1edf07=_0x1edf07[_0xf60d64(0x4cf)]('setAnswer',''));const _0x33a846=_0xf60d64(0x4c8)+_0x1edf07,_0x48e47d=_0x62af0f[_0xf60d64(0x4af)]||[];let _0x1f68fc=0x0;if(_0x367be3&&(_0x1f68fc=parseInt(_0x367be3[_0xf60d64(0xade)]?.[_0x33a846]??'0')),!_0x1c482e?.['id']||'string'!=typeof _0x1c482e['id'])return JSON[_0xf60d64(0xa5e)]({'error':'Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id'});const _0x39b59d=_0x48e47d['find'](_0x1c030b=>_0x1c030b['id']===_0x1c482e['id']);if(!_0x39b59d)return JSON[_0xf60d64(0xa5e)]({'error':_0xf60d64(0x585)});if(!_0x1c482e?.[_0xf60d64(0x1e3)]||_0xf60d64(0x563)!=typeof _0x1c482e[_0xf60d64(0x1e3)])return JSON[_0xf60d64(0xa5e)]({'error':_0xf60d64(0x8c4)});if(_0x367be3){_0x367be3[_0xf60d64(0xade)]||(_0x367be3[_0xf60d64(0xade)]={});const _0x586fc9=_0xf60d64(0x308)+_0x1edf07,_0x4699fa=_0x586fc9+'-'+_0x1c482e['id'];_0x367be3[_0xf60d64(0xade)][_0x4699fa]=_0x1c482e[_0xf60d64(0x1e3)];let _0x116cca=!0x1;for(let _0x3e93b4=0x0;_0x3e93b4<_0x48e47d[_0xf60d64(0x830)];_0x3e93b4++){const _0x5df195=_0x367be3[_0xf60d64(0xade)]?.[_0x586fc9+'-'+_0x48e47d[_0x3e93b4]['id']];if(_0x3e93b4!==_0x1f68fc&&!_0x5df195){_0x1f68fc=_0x3e93b4,_0x116cca=!0x0;break;}}_0x116cca||_0x1f68fc++,_0x367be3[_0xf60d64(0xade)][_0x33a846]=_0x1f68fc[_0xf60d64(0xa7d)]();}_0x50ce0b&&_0x270562&&_0x553b7f&&await _0x40fab9[_0xf60d64(0x85a)]({'jobType':_0x3e2f29[_0xf60d64(0x603)],'type':_0xe29f3a[_0xf60d64(0x28f)],'jobId':_0x50ce0b,'agentId':_0x270562,'threadId':_0x553b7f,'blockId':'form-skill-set-answer','traceLevel':_0x584638[_0xf60d64(0xbf7)],'startTime':_0x423d82,'timestamp':Date[_0xf60d64(0x3a1)](),'status':_0xf60d64(0x683),'question':_0x39b59d[_0xf60d64(0x66c)],'answer':_0x1c482e['answer'],'currentQuestionIndex':_0x1f68fc,'questions':_0x48e47d['map'](_0x357333=>_0x357333[_0xf60d64(0x66c)])});const _0xac5bf4=_0x48e47d[_0x1f68fc];return _0xac5bf4?JSON[_0xf60d64(0xa5e)]({'id':_0xac5bf4['id'],'question':_0xac5bf4[_0xf60d64(0x66c)],'validation':_0xac5bf4[_0xf60d64(0x834)],'required':_0xac5bf4[_0xf60d64(0x957)],'format':_0xac5bf4['format'],'action':_0xf60d64(0xbe6)}):JSON[_0xf60d64(0xa5e)]({'action':_0xf60d64(0xa56)});}async function _0x141c68(_0x278d9c,_0x4d0d04,_0x5f0dbb,_0x5195ff,_0x3417db){const _0x111dff=_0x273dd2,_0x4bea67=_0x111dff(0x6f5);return await _0x40fab9[_0x111dff(0x85a)]({'jobType':_0x3e2f29[_0x111dff(0x96b)],'type':_0x41e841[_0x111dff(0x1f3)],'jobId':_0x278d9c,'agentId':_0x4d0d04,'threadId':_0x5f0dbb,'traceLevel':_0x584638[_0x111dff(0xbf7)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0xe29f3a['FormSubmitForm'],'params':{},'functionDescription':_0x4bea67}),{'description':_0x4bea67,'params':{},'callback':async()=>_0x521a11(_0x3417db,_0x5195ff,_0x278d9c,_0x4d0d04,_0x5f0dbb)};}async function _0x521a11(_0x4372dc,_0x27c5bf,_0xacd3eb,_0x327636,_0x328484){const _0xadfdd=_0x273dd2;let _0x20bac0=_0x4372dc[_0xadfdd(0xa7b)][_0xadfdd(0x4cf)](/[^a-zA-Z]/g,'');_0x20bac0[_0xadfdd(0xb97)](_0xadfdd(0x721))&&(_0x20bac0=_0x20bac0[_0xadfdd(0x4cf)](_0xadfdd(0x721),''));const _0x582e9c=_0x4372dc[_0xadfdd(0x4af)]||[],_0x31ec6e={};if(!_0x27c5bf)return JSON[_0xadfdd(0xa5e)]({'error':'Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first'});for(let _0x1a324c=0x0;_0x1a324c<_0x582e9c[_0xadfdd(0x830)];_0x1a324c++){const _0x204b22=_0x27c5bf[_0xadfdd(0xade)]?.['answer-'+_0x20bac0+'-'+_0x582e9c[_0x1a324c]['id']];if(_0x582e9c[_0x1a324c][_0xadfdd(0x957)]&&!_0x204b22)return JSON[_0xadfdd(0xa5e)]({'error':_0xadfdd(0xbbf)});_0x31ec6e[_0x582e9c[_0x1a324c]['id']]=_0x204b22;}return _0x27c5bf&&_0x4372dc['contextOutputVariable']&&(_0x27c5bf[_0xadfdd(0xade)]||(_0x27c5bf[_0xadfdd(0xade)]={}),_0x27c5bf[_0xadfdd(0xade)][_0x4372dc[_0xadfdd(0x361)]]=JSON[_0xadfdd(0xa5e)](_0x31ec6e)),_0xacd3eb&&_0x327636&&_0x328484&&await _0x40fab9['trace']({'jobType':_0x3e2f29[_0xadfdd(0x603)],'type':_0xe29f3a['FormSubmitForm'],'jobId':_0xacd3eb,'agentId':_0x327636,'threadId':_0x328484,'blockId':_0xadfdd(0x652),'traceLevel':_0x584638[_0xadfdd(0xbf7)],'startTime':Date[_0xadfdd(0x3a1)](),'timestamp':Date['now'](),'status':_0xadfdd(0x683),'answers':_0x31ec6e}),JSON[_0xadfdd(0xa5e)]({'success':!0x0});}async function _0xc707a0(_0x2ae3b4,_0x3568e0,_0x54f1fd,_0x59741a,_0x13b2b6,_0x449a8b,_0x446aef){const _0x14b53f=_0x273dd2,_0x3b891b=new Map();for(const _0x8a5431 of _0x13b2b6)_0x8a5431[_0x14b53f(0x6b9)]===_0x2a74a6['GenerativeAIInferenceToolType'][_0x14b53f(0x591)]||_0x8a5431[_0x14b53f(0x6b9)]===_0x2a74a6[_0x14b53f(0x545)]['DataCollection']?_0x3b891b[_0x14b53f(0x68c)](_0x14b53f(0x708)+_0x8a5431['name'][_0x14b53f(0x4cf)](/[^a-zA-Z]/g,''),await _0x31b9d6(_0x2ae3b4,_0x3568e0,_0x54f1fd,_0x59741a,_0x8a5431)):_0x8a5431[_0x14b53f(0x6b9)]===_0x2a74a6[_0x14b53f(0x545)][_0x14b53f(0x737)]||_0x8a5431['type']===_0x2a74a6[_0x14b53f(0x545)][_0x14b53f(0x207)]?_0x3b891b[_0x14b53f(0x68c)](_0x14b53f(0x527)+_0x8a5431[_0x14b53f(0xa7b)][_0x14b53f(0x4cf)](/[^a-zA-Z]/g,''),await _0x5590f4(_0x2ae3b4,_0x3568e0,_0x54f1fd,_0x59741a,_0x8a5431,_0x449a8b,_0x446aef)):_0x8a5431[_0x14b53f(0x6b9)]===_0x2a74a6['GenerativeAIInferenceToolType'][_0x14b53f(0x82a)]?_0x3b891b[_0x14b53f(0x68c)]('executeWorkflow'+_0x8a5431[_0x14b53f(0xa7b)]['replace'](/[^a-zA-Z]/g,''),await _0x4c1a09(_0x2ae3b4,_0x3568e0,_0x54f1fd,_0x59741a,_0x8a5431,_0x446aef)):_0x8a5431[_0x14b53f(0x6b9)]===_0x2a74a6[_0x14b53f(0x545)][_0x14b53f(0xb84)]?_0x3b891b[_0x14b53f(0x68c)](_0x8a5431['name']['replace'](/[^a-zA-Z]/g,''),await _0x24a399(_0x2ae3b4,_0x3568e0,_0x54f1fd[_0x14b53f(0x9bd)],_0x59741a,_0x8a5431)):_0x8a5431['type']===_0x2a74a6[_0x14b53f(0x545)][_0x14b53f(0xaea)]?_0x3b891b[_0x14b53f(0x68c)](_0x14b53f(0x93d)+_0x8a5431[_0x14b53f(0xa7b)][_0x14b53f(0x4cf)](/[^a-zA-Z]/g,''),await _0x520b13(_0x2ae3b4,_0x3568e0,_0x54f1fd[_0x14b53f(0x9bd)],_0x59741a,_0x8a5431)):_0x8a5431[_0x14b53f(0x6b9)]===_0x2a74a6[_0x14b53f(0x545)][_0x14b53f(0x867)]?_0x3b891b[_0x14b53f(0x68c)](_0x14b53f(0x30d)+_0x8a5431['name'][_0x14b53f(0x4cf)](/[^a-zA-Z]/g,''),await _0x441f23(_0x2ae3b4,_0x3568e0,_0x54f1fd[_0x14b53f(0x9bd)],_0x59741a,_0x8a5431)):_0x8a5431['type']===_0x2a74a6[_0x14b53f(0x545)][_0x14b53f(0x462)]?_0x3b891b[_0x14b53f(0x68c)](_0x14b53f(0x721)+_0x8a5431['name'][_0x14b53f(0x4cf)](/[^a-zA-Z]/g,''),await _0x141c68(_0x2ae3b4,_0x3568e0,_0x54f1fd[_0x14b53f(0x9bd)],_0x59741a,_0x8a5431)):_0x3b891b[_0x14b53f(0x68c)](_0x2e7fbd(_0x8a5431),await _0x58b0ba(_0x2ae3b4,_0x3568e0,_0x54f1fd,_0x59741a,_0x8a5431,_0x449a8b));return _0x3b891b;}function _0x2e7fbd(_0x2d47a2){const _0x2a3e45=_0x273dd2;switch(_0x2d47a2[_0x2a3e45(0x6b9)]){case _0x2a74a6[_0x2a3e45(0x545)]['AISearch']:return'searchOnPerplexity';case _0x2a74a6['GenerativeAIInferenceToolType'][_0x2a3e45(0xb3c)]:return'executeJavascriptCodeSnippet';case _0x2a74a6['GenerativeAIInferenceToolType'][_0x2a3e45(0xac1)]:return'queryFile';case _0x2a74a6[_0x2a3e45(0x545)][_0x2a3e45(0x213)]:return _0x2a3e45(0x34f);case _0x2a74a6['GenerativeAIInferenceToolType'][_0x2a3e45(0xbcc)]:case _0x2a74a6[_0x2a3e45(0x545)]['WebScraperRaw']:return _0x2a3e45(0x770);case _0x2a74a6['GenerativeAIInferenceToolType']['WriteFile']:return _0x2a3e45(0xb61);}throw new Error(_0x2a3e45(0x7ce));}async function _0x58b0ba(_0x542e92,_0x5914d3,_0x4f249c,_0x50946c,_0x4319bb,_0x10e0e3){const _0x5c8a0b=_0x273dd2;switch(_0x4319bb[_0x5c8a0b(0x6b9)]){case _0x2a74a6['GenerativeAIInferenceToolType'][_0x5c8a0b(0x7c2)]:return async function(_0x1a3660,_0x4ccbc5,_0x247ff1,_0x581282,_0x37ba62){const _0x53e49a=_0x5c8a0b,_0x54b959=_0x53e49a(0xbaa),_0x5d26ab={'query':{'type':_0x2a74a6[_0x53e49a(0x4b6)][_0x53e49a(0xb5d)]}};await _0x40fab9[_0x53e49a(0x85a)]({'jobType':_0x3e2f29[_0x53e49a(0x96b)],'type':_0x41e841[_0x53e49a(0x1f3)],'jobId':_0x1a3660,'agentId':_0x4ccbc5,'threadId':_0x247ff1[_0x53e49a(0x9bd)],'traceLevel':_0x584638[_0x53e49a(0xbf7)],'startTime':Date[_0x53e49a(0x3a1)](),'timestamp':Date['now'](),'status':_0x53e49a(0x683),'function':_0xe29f3a[_0x53e49a(0x73a)],'params':_0x5d26ab,'functionDescription':_0x54b959});const _0x40ff10=_0x247ff1[_0x53e49a(0x300)];try{await(0x0,_0x11558b['httpsCallable'])(_0x4d7ce4[_0x53e49a(0x53d)](),_0x53e49a(0x444))({'vendorId':_0x40ff10});}catch(_0x45b3d8){throw console[_0x53e49a(0x5c5)](_0x45b3d8),new Error(_0x53e49a(0xb86));}const _0x5ca975=(await(0x0,_0x5dec29[_0x53e49a(0x5e0)])((0x0,_0x5dec29[_0x53e49a(0x6c8)])(_0x4d7ce4[_0x53e49a(0x4c1)](),_0x53e49a(0x4d5),_0x40ff10)))['data']();return _0x5ca975&&_0x5ca975[_0x53e49a(0xae8)]||(console[_0x53e49a(0x3a3)](new Date()+_0x53e49a(0xac8),_0x581282[_0x53e49a(0x477)],_0x5c194f['get'](_0x581282[_0x53e49a(0x477)])[_0x53e49a(0x362)]),_0x581282[_0x53e49a(0x477)]=_0x5c194f[_0x53e49a(0x266)](_0x581282[_0x53e49a(0x477)])['fallbackModel']),{'description':_0x54b959,'params':_0x5d26ab,'callback':async _0x4192e4=>_0x2ce5c7(_0x581282,_0x37ba62,_0x4192e4,_0x1a3660,_0x4ccbc5,_0x247ff1[_0x53e49a(0x9bd)])};}(_0x542e92,_0x5914d3,_0x4f249c,_0x4319bb,_0x10e0e3);case _0x2a74a6[_0x5c8a0b(0x545)][_0x5c8a0b(0xb3c)]:return async function(_0x44aba1,_0x1a727a,_0x2bda64){const _0xca0a84=_0x5c8a0b,_0x25d404=_0xca0a84(0xbb1),_0x4215d9={'code':{'type':_0x2a74a6[_0xca0a84(0x4b6)][_0xca0a84(0xb5d)]}};return await _0x40fab9['trace']({'jobType':_0x3e2f29[_0xca0a84(0x96b)],'type':_0x41e841[_0xca0a84(0x1f3)],'jobId':_0x44aba1,'agentId':_0x1a727a,'threadId':_0x2bda64,'traceLevel':_0x584638['Info'],'startTime':Date[_0xca0a84(0x3a1)](),'timestamp':Date['now'](),'status':_0xca0a84(0x683),'function':_0xe29f3a[_0xca0a84(0x8d0)],'params':_0x4215d9,'functionDescription':_0x25d404}),{'description':_0x25d404,'params':_0x4215d9,'callback':async _0x3874d5=>_0x32d100(_0x3874d5,_0x44aba1,_0x1a727a,_0x2bda64)};}(_0x542e92,_0x5914d3,_0x4f249c['threadId']);case _0x2a74a6[_0x5c8a0b(0x545)]['QueryFile']:return async function(_0x3f032e,_0x4d7893,_0x5a6fe5,_0x47de80,_0xa550ca){const _0x5435c3=_0x5c8a0b,_0x37c6b3=[',',';','\x09','|',':'],_0x175990=['\x22','\x27'];let _0x5f402e='';if(_0x5435c3(0x2c4)===_0x47de80['internalContext']?.[_0x5435c3(0x7cc)]&&_0x47de80[_0x5435c3(0xade)]?.[_0x5435c3(0x2f2)]&&(_0x5f402e=_0x47de80['internalContext'][_0x5435c3(0x2f2)]),''===_0x5f402e)throw new Error(_0x5435c3(0xa8d));const _0x4123ab=_0x5f402e['split']('\x0a')[0x0];let _0x18198f=null,_0x4fd82d=null,_0x1c44c3=0x0;for(const _0x2a5f1b of _0x37c6b3){const _0x46d13e=(_0x4123ab['match'](new RegExp('\x5c'+_0x2a5f1b,'g'))||[])[_0x5435c3(0x830)];_0x46d13e>_0x1c44c3&&(_0x1c44c3=_0x46d13e,_0x18198f=_0x2a5f1b);}_0x18198f||(_0x18198f=','),_0x1c44c3=0x0;for(const _0x12c8d7 of _0x175990){const _0x58683a=(_0x4123ab[_0x5435c3(0x70e)](new RegExp('\x5c'+_0x12c8d7,'g'))||[])[_0x5435c3(0x830)];_0x58683a>_0x1c44c3&&(_0x1c44c3=_0x58683a,_0x4fd82d=_0x12c8d7);}_0x4fd82d||(_0x4fd82d='\x22');const _0x1498c1=_0x5435c3(0x95c)+_0x4123ab['split'](_0x18198f)[_0x5435c3(0x98e)](',\x20'),_0x4b151c={'query':{'type':_0x2a74a6['PromptFunctionParamsType']['String']}};return await _0x40fab9[_0x5435c3(0x85a)]({'jobType':_0x3e2f29[_0x5435c3(0x96b)],'type':_0x41e841[_0x5435c3(0x1f3)],'jobId':_0x3f032e,'agentId':_0x4d7893,'threadId':_0x5a6fe5,'traceLevel':_0x584638[_0x5435c3(0xbf7)],'startTime':Date['now'](),'timestamp':Date[_0x5435c3(0x3a1)](),'status':_0x5435c3(0x683),'function':_0xe29f3a[_0x5435c3(0xac1)],'params':_0x4b151c,'functionDescription':_0x1498c1}),{'description':_0x1498c1,'params':_0x4b151c,'callback':async _0x3533ee=>{const _0x50e2d0=_0x5435c3,_0xb4f617=Date['now']();try{if(!_0xa550ca[_0x50e2d0(0x4bd)])throw new Error(_0x50e2d0(0xbf0));if('string'!=typeof _0x3533ee?.['query'])throw new Error(_0x50e2d0(0x606));if(!_0x3533ee['query'][_0x50e2d0(0x4aa)](_0x50e2d0(0xb8c)))throw new Error(_0x50e2d0(0x3f8));const _0x1eb13d=await _0xa550ca['queryFileConnector'][_0x50e2d0(0x5f6)](_0x5f402e,_0x3533ee['query'],{'headers':!0x0,'quote':_0x4fd82d,'separator':_0x18198f});await _0x40fab9[_0x50e2d0(0x85a)]({'jobType':_0x3e2f29[_0x50e2d0(0x603)],'type':_0xe29f3a[_0x50e2d0(0xac1)],'jobId':_0x3f032e,'agentId':_0x4d7893,'threadId':_0x5a6fe5,'blockId':_0x50e2d0(0x819),'traceLevel':_0x584638[_0x50e2d0(0xbf7)],'startTime':_0xb4f617,'timestamp':Date[_0x50e2d0(0x3a1)](),'status':_0x50e2d0(0x683),'query':_0x3533ee[_0x50e2d0(0x756)],'results':_0x1eb13d[_0x50e2d0(0x98b)](0x0,0x3e8)});const _0x4b3c07=JSON[_0x50e2d0(0xba5)](_0x1eb13d);let _0x3746ef='';if(_0x4b3c07[_0x50e2d0(0x830)]>0x0){const _0x17bd0c=Object[_0x50e2d0(0x6ed)](_0x4b3c07[0x0]);_0x3746ef=_0x17bd0c[_0x50e2d0(0xb48)](_0x42a427=>'\x22'+_0x42a427+'\x22')[_0x50e2d0(0x98e)](',')+'\x0a';for(const _0x3b22cb of _0x4b3c07)_0x3746ef+=_0x17bd0c[_0x50e2d0(0xb48)](_0x20bb59=>'\x22'+_0x3b22cb[_0x20bb59]+'\x22')['join'](',')+'\x0a';}return _0x47de80['internalContext']||(_0x47de80[_0x50e2d0(0xade)]={}),_0x47de80[_0x50e2d0(0xade)][_0x50e2d0(0x2f2)]=_0x3746ef,_0x47de80[_0x50e2d0(0xade)][_0x50e2d0(0x7cc)]=_0x50e2d0(0x2c4),_0x1eb13d[_0x50e2d0(0x98b)](0x0,0x3e8);}catch(_0x462968){return console[_0x50e2d0(0x5c5)](_0x462968),await _0x40fab9[_0x50e2d0(0x85a)]({'jobType':_0x3e2f29[_0x50e2d0(0x603)],'type':_0xe29f3a[_0x50e2d0(0xac1)],'jobId':_0x3f032e,'blockId':_0x50e2d0(0x819),'traceLevel':_0x584638[_0x50e2d0(0xbf7)],'startTime':_0xb4f617,'timestamp':Date[_0x50e2d0(0x3a1)](),'status':'error','errorDetails':_0x5a4511(_0x462968),'agentId':_0x4d7893,'threadId':_0x5a6fe5,'query':_0x3533ee?.[_0x50e2d0(0x756)]??'','results':_0x50e2d0(0x7e3)}),_0x462968 instanceof Error?_0x462968[_0x50e2d0(0x512)]:'Error\x20querying\x20file';}}};}(_0x542e92,_0x5914d3,_0x4f249c[_0x5c8a0b(0x9bd)],_0x50946c,_0x10e0e3);case _0x2a74a6[_0x5c8a0b(0x545)][_0x5c8a0b(0x213)]:return async function(_0x76acd8,_0x41c5e9,_0x2b906f,_0x49f232){const _0x2addb3=_0x5c8a0b,_0x47da13=_0x2addb3(0x44c),_0x84237={'query':{'type':_0x2a74a6[_0x2addb3(0x4b6)][_0x2addb3(0xb5d)]}};return await _0x40fab9[_0x2addb3(0x85a)]({'jobType':_0x3e2f29['JobContext'],'type':_0x41e841['LoadSkillFunction'],'jobId':_0x76acd8,'agentId':_0x41c5e9,'threadId':_0x2b906f,'traceLevel':_0x584638['Info'],'startTime':Date[_0x2addb3(0x3a1)](),'timestamp':Date[_0x2addb3(0x3a1)](),'status':_0x2addb3(0x683),'function':_0xe29f3a[_0x2addb3(0xa09)],'params':_0x84237,'functionDescription':_0x47da13}),{'description':_0x47da13,'params':_0x84237,'callback':async _0x4486ff=>_0x18a258(_0x49f232,_0x4486ff,_0x76acd8,_0x41c5e9,_0x2b906f)};}(_0x542e92,_0x5914d3,_0x4f249c[_0x5c8a0b(0x9bd)],_0x10e0e3);case _0x2a74a6[_0x5c8a0b(0x545)]['WebScraper']:return _0xc658eb(_0x542e92,_0x5914d3,_0x4f249c[_0x5c8a0b(0x9bd)]);case _0x2a74a6['GenerativeAIInferenceToolType'][_0x5c8a0b(0xa69)]:return _0xc658eb(_0x542e92,_0x5914d3,_0x4f249c[_0x5c8a0b(0x9bd)],!0x1);case _0x2a74a6[_0x5c8a0b(0x545)][_0x5c8a0b(0x970)]:return async function(_0x47c84c,_0x5e1120,_0x5d524a,_0x2c994d){const _0x2e6f4b=_0x5c8a0b,_0x370d48=_0x2e6f4b(0x4b8),_0x1facb7={'text':{'type':_0x2a74a6[_0x2e6f4b(0x4b6)]['String']}};return await _0x40fab9['trace']({'jobType':_0x3e2f29['JobContext'],'type':_0x41e841[_0x2e6f4b(0x1f3)],'jobId':_0x47c84c,'agentId':_0x5e1120,'threadId':_0x5d524a,'traceLevel':_0x584638[_0x2e6f4b(0xbf7)],'startTime':Date[_0x2e6f4b(0x3a1)](),'timestamp':Date[_0x2e6f4b(0x3a1)](),'status':'success','function':_0xe29f3a[_0x2e6f4b(0x970)],'params':_0x1facb7,'functionDescription':_0x370d48}),{'description':_0x370d48,'params':_0x1facb7,'callback':async _0x302925=>{const _0x4a1186=_0x2e6f4b,_0x42b383=Date[_0x4a1186(0x3a1)]();try{if(_0x4a1186(0x563)!=typeof _0x302925?.[_0x4a1186(0x4e4)])throw new Error(_0x4a1186(0x2ee));return await _0x40fab9[_0x4a1186(0x85a)]({'jobType':_0x3e2f29[_0x4a1186(0x603)],'type':_0xe29f3a[_0x4a1186(0x970)],'jobId':_0x47c84c,'agentId':_0x5e1120,'threadId':_0x5d524a,'blockId':'write-file','traceLevel':_0x584638[_0x4a1186(0xbf7)],'startTime':_0x42b383,'timestamp':Date['now'](),'status':_0x4a1186(0x683),'content':_0x302925[_0x4a1186(0x4e4)]}),_0x2c994d[_0x4a1186(0xade)]||(_0x2c994d['internalContext']={}),_0x2c994d[_0x4a1186(0xade)][_0x4a1186(0x2f2)]=_0x302925['text'],_0x2c994d[_0x4a1186(0xade)][_0x4a1186(0x7cc)]='text/plain',_0x4a1186(0x6b2);}catch(_0x2619f8){return console[_0x4a1186(0x5c5)](_0x2619f8),await _0x40fab9[_0x4a1186(0x85a)]({'jobType':_0x3e2f29[_0x4a1186(0x603)],'type':_0xe29f3a[_0x4a1186(0x970)],'jobId':_0x47c84c,'blockId':_0x4a1186(0x7e6),'traceLevel':_0x584638[_0x4a1186(0xbf7)],'startTime':_0x42b383,'timestamp':Date['now'](),'status':_0x4a1186(0x5c5),'errorDetails':_0x5a4511(_0x2619f8),'agentId':_0x5e1120,'threadId':_0x5d524a,'content':_0x4a1186(0x563)==typeof _0x302925?.[_0x4a1186(0x4e4)]?_0x302925[_0x4a1186(0x4e4)]:''}),_0x2619f8 instanceof Error?_0x2619f8['message']:_0x4a1186(0xaa2);}}};}(_0x542e92,_0x5914d3,_0x4f249c['threadId'],_0x50946c);}throw new Error('Unknown\x20skill\x20type');}function _0x5a4511(_0x17a1af){const _0xa8dda8=_0x273dd2;try{return JSON[_0xa8dda8(0xa5e)](_0x17a1af);}catch(_0x31f3ac){return _0x17a1af instanceof Error?_0x17a1af[_0xa8dda8(0xa7d)]():_0xa8dda8(0x3b2);}}async function _0x5f4042(_0x26b708,_0x1072bd,_0x36fb36){const _0x403eca=_0x273dd2,_0x1014e0=_0x1072bd[_0x403eca(0x65f)]??(0x0,_0x5d1d4c['v4'])(),_0x59b98f={'type':_0x403eca(0x5db),'context':[],'internalContext':_0x1072bd[_0x403eca(0xade)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x24e0b8=_0x1072bd['vendorId'];try{await(0x0,_0x11558b[_0x403eca(0x6e8)])(_0x4d7ce4[_0x403eca(0x53d)](),'validateVendorCredits')({'vendorId':_0x24e0b8});}catch(_0xdfe904){throw console['error'](_0xdfe904),new Error(_0x403eca(0xb86));}const _0x53ef5d=(await(0x0,_0x5dec29[_0x403eca(0x5e0)])((0x0,_0x5dec29[_0x403eca(0x6c8)])(_0x4d7ce4['getFirestore'](),_0x403eca(0x4d5),_0x24e0b8)))[_0x403eca(0x9b6)]();_0x53ef5d&&_0x53ef5d['organizationId']||(console[_0x403eca(0x3a3)](new Date()+_0x403eca(0xac8),_0x1072bd[_0x403eca(0x635)],_0x5c194f['get'](_0x1072bd[_0x403eca(0x635)])['fallbackModel']),_0x1072bd[_0x403eca(0x635)]=_0x5c194f['get'](_0x1072bd[_0x403eca(0x635)])['fallbackModel']);const _0x39fd3d=await async function(_0x50cfff,_0x3ec449,_0x34b135,_0x1d7bfd,_0x1e8a4a){const _0x59f03b=_0x403eca,_0x1588c2=_0x1e8a4a[_0x59f03b(0x384)][_0x59f03b(0x77e)](_0x170b52=>_0x170b52['id']===_0x34b135[_0x59f03b(0x635)]);if(!_0x1588c2)throw new Error(_0x59f03b(0x3fe));const _0x1ec6b1=_0x1e8a4a[_0x59f03b(0x417)][_0x59f03b(0x77e)](_0x46b2f7=>_0x46b2f7['getEngineType']()===_0x1588c2[_0x59f03b(0x296)]);if(!_0x1ec6b1)throw new Error(_0x59f03b(0xb75));const _0x1fd3a3=await _0xc707a0(_0x50cfff,_0x3ec449,_0x34b135,_0x1d7bfd,_0x34b135[_0x59f03b(0x84a)]??[],_0x1e8a4a);return _0x1ec6b1[_0x59f03b(0x84b)]({'type':_0x59f03b(0x5db),'prompt':_0x34b135[_0x59f03b(0x5db)],'instructions':_0x34b135[_0x59f03b(0x875)],'reasoning':_0x34b135['reasoning'],'grammar':_0x34b135[_0x59f03b(0x2f3)],'temperature':_0x34b135[_0x59f03b(0xc21)],'maxTokens':_0x34b135['maxTokens'],'history':_0x34b135['history'],'functions':_0x1fd3a3,'threadId':_0x34b135[_0x59f03b(0x9bd)]},{'model':_0x1588c2,'sequences':Array['from'](_0x1fd3a3[_0x59f03b(0x6ed)]())[_0x59f03b(0x323)](_0x1af532=>_0x1af532[_0x59f03b(0xb97)](_0x59f03b(0x527)))?0x2:0x1});}(_0x26b708,_0x1014e0,_0x1072bd,_0x59b98f,_0x36fb36);return _0x40fab9[_0x403eca(0x60f)](_0x26b708,_0x1072bd[_0x403eca(0x635)],_0x39fd3d['inputTokens']??0x0,_0x39fd3d[_0x403eca(0x7d6)]??0x0),console[_0x403eca(0x3a3)](new Date()+'\x20Process\x20inference\x20final\x20response',_0x1072bd[_0x403eca(0x635)],_0x39fd3d[_0x403eca(0x4d6)]??0x0,_0x39fd3d[_0x403eca(0x7d6)]??0x0),{'type':_0x403eca(0x5db),'output':_0x39fd3d[_0x403eca(0x27f)],'context':_0x59b98f['context'],'internalContext':_0x59b98f[_0x403eca(0xade)]??{},'inputTokens':_0x39fd3d[_0x403eca(0x4d6)]??0x0,'outputTokens':_0x39fd3d['outputTokens']??0x0};}async function _0x4ccc95(_0x309fee,_0xc95a8){const _0x4a01d2=_0x273dd2,_0x437fd4=await async function(_0x590629,_0x549149){const _0x1375a5=a0_0x35be,_0x18087a=_0x549149[_0x1375a5(0x384)][_0x1375a5(0x77e)](_0x21255e=>_0x21255e['id']===_0x590629[_0x1375a5(0x635)]);if(!_0x18087a)throw new Error(_0x1375a5(0x3fe));const _0x26da83=_0x549149[_0x1375a5(0x417)][_0x1375a5(0x77e)](_0xce461e=>_0xce461e[_0x1375a5(0x946)]()===_0x18087a[_0x1375a5(0x296)]);if(!_0x26da83)throw new Error(_0x1375a5(0xb75));return _0x26da83[_0x1375a5(0x84b)]({'type':_0x1375a5(0x5db),'prompt':_0x590629[_0x1375a5(0x4e4)],'threadId':_0x590629[_0x1375a5(0x9bd)]},{'model':_0x18087a,'sequences':0x1});}(_0x309fee,_0xc95a8);return{'type':_0x4a01d2(0x5db),'output':_0x437fd4[_0x4a01d2(0x27f)],'inputTokens':_0x437fd4[_0x4a01d2(0x4d6)]??0x0,'outputTokens':_0x437fd4['outputTokens']??0x0};}async function _0x5c1848(_0x560176,_0x3953d8){const _0x53f3d4=_0x273dd2;let _0xdab367='',_0x48e90a={'type':_0x53f3d4(0x5db),'internalContext':_0x560176['internalContext']??{}};switch(_0x560176[_0x53f3d4(0xa86)][_0x53f3d4(0x6b9)]){case _0x2a74a6[_0x53f3d4(0x545)][_0x53f3d4(0x207)]:case _0x2a74a6['GenerativeAIInferenceToolType'][_0x53f3d4(0x737)]:_0xdab367=await _0x2b51a6(_0x560176[_0x53f3d4(0x300)],_0x560176[_0x53f3d4(0xa86)],_0x3953d8,_0x560176['arguments'],_0x48e90a);break;case _0x2a74a6['GenerativeAIInferenceToolType'][_0x53f3d4(0x7c2)]:_0xdab367=await _0x2ce5c7(_0x560176[_0x53f3d4(0xa86)],_0x3953d8,_0x560176['arguments']);break;case _0x2a74a6[_0x53f3d4(0x545)][_0x53f3d4(0xb3c)]:_0xdab367=await _0x32d100(_0x560176[_0x53f3d4(0xc17)]);break;case _0x2a74a6[_0x53f3d4(0x545)]['DataCollection']:case _0x2a74a6[_0x53f3d4(0x545)][_0x53f3d4(0x591)]:_0xdab367=await _0x274332(_0x560176[_0x53f3d4(0x300)],_0x560176[_0x53f3d4(0xa86)],_0x560176[_0x53f3d4(0xc17)],_0x48e90a);break;case _0x2a74a6[_0x53f3d4(0x545)][_0x53f3d4(0xb84)]:_0xdab367=await _0x2aae0d(_0x560176[_0x53f3d4(0xa86)],_0x560176['arguments'],_0x48e90a);break;case _0x2a74a6[_0x53f3d4(0x545)]['WebScraper']:_0xdab367=await _0x26450f(_0x560176[_0x53f3d4(0xc17)]);break;case _0x2a74a6[_0x53f3d4(0x545)][_0x53f3d4(0xa69)]:_0xdab367=await _0x26450f(_0x560176[_0x53f3d4(0xc17)],!0x1);break;case _0x2a74a6[_0x53f3d4(0x545)]['Search']:_0xdab367=await _0x18a258(_0x3953d8,_0x560176[_0x53f3d4(0xc17)]);break;case _0x2a74a6[_0x53f3d4(0x545)]['FormSkillGetQuestion']:_0xdab367=await _0x3c53b2(_0x560176[_0x53f3d4(0xa86)],_0x48e90a);break;case _0x2a74a6[_0x53f3d4(0x545)][_0x53f3d4(0x867)]:_0xdab367=await _0x46b86f(_0x560176[_0x53f3d4(0xa86)],_0x560176[_0x53f3d4(0xc17)],_0x48e90a);break;case _0x2a74a6[_0x53f3d4(0x545)][_0x53f3d4(0x462)]:_0xdab367=await _0x521a11(_0x560176['tool'],_0x48e90a);break;case _0x2a74a6[_0x53f3d4(0x545)][_0x53f3d4(0x82a)]:_0x560176[_0x53f3d4(0xa86)]['async']?_0xdab367=await _0x2b55dc(_0x560176[_0x53f3d4(0x300)],_0x560176[_0x53f3d4(0xa86)],_0x560176[_0x53f3d4(0xc17)],_0x48e90a):(_0x2b55dc(_0x560176['vendorId'],_0x560176['tool'],_0x560176['arguments'],_0x48e90a),_0xdab367=_0x53f3d4(0x358));}return{'type':'tool-call','output':_0xdab367,'internalContext':_0x48e90a['internalContext']??{}};}async function*_0x3fd1c9(_0x1eab39,_0x29db98,_0x5b517d){const _0x3dd5d7=_0x273dd2,_0x2b6cf4=_0x29db98[_0x3dd5d7(0x65f)]??(0x0,_0x5d1d4c['v4'])(),_0x58c846={'type':_0x3dd5d7(0x5db),'context':[],'internalContext':_0x29db98['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0x2c0099=new _0x138194(),_0x4feb0b=_0x29db98[_0x3dd5d7(0x300)];try{await(0x0,_0x11558b[_0x3dd5d7(0x6e8)])(_0x4d7ce4[_0x3dd5d7(0x53d)](),_0x3dd5d7(0x444))({'vendorId':_0x4feb0b});}catch(_0x444c6e){throw console[_0x3dd5d7(0x5c5)](_0x3dd5d7(0xa92),_0x444c6e),new Error('Insufficient\x20credits');}const _0x266f16=(await(0x0,_0x5dec29[_0x3dd5d7(0x5e0)])((0x0,_0x5dec29[_0x3dd5d7(0x6c8)])(_0x4d7ce4[_0x3dd5d7(0x4c1)](),'developers',_0x4feb0b)))['data']();_0x266f16&&_0x266f16[_0x3dd5d7(0xae8)]||(console[_0x3dd5d7(0x3a3)](new Date()+_0x3dd5d7(0xac8),_0x29db98['model'],_0x5c194f['get'](_0x29db98[_0x3dd5d7(0x635)])['fallbackModel']),_0x29db98[_0x3dd5d7(0x635)]=_0x5c194f[_0x3dd5d7(0x266)](_0x29db98[_0x3dd5d7(0x635)])[_0x3dd5d7(0x362)]),async function(_0x252586,_0x30a0de,_0x1ffd64,_0x5a521a,_0xb10c90,_0x3f8ff6){const _0x3163ec=_0x3dd5d7,_0x20a204=_0x3f8ff6[_0x3163ec(0x384)][_0x3163ec(0x77e)](_0x287877=>_0x287877['id']===_0x1ffd64[_0x3163ec(0x635)]);if(!_0x20a204)throw new Error(_0x3163ec(0x3fe));const _0x113908=_0x3f8ff6[_0x3163ec(0x417)][_0x3163ec(0x77e)](_0x315d6a=>_0x315d6a['getEngineType']()===_0x20a204[_0x3163ec(0x296)]);if(!_0x113908)throw new Error(_0x3163ec(0xb75));const _0x49de3a={'type':_0x3163ec(0x5db),'output':''},_0x3cd51e=await _0xc707a0(_0x252586,_0x30a0de,_0x1ffd64,_0x5a521a,_0x1ffd64[_0x3163ec(0x84a)]??[],_0x3f8ff6,_0xb10c90);for await(const _0x4ffeda of _0x113908[_0x3163ec(0xbd9)]({'type':_0x3163ec(0x5db),'prompt':_0x1ffd64[_0x3163ec(0x5db)],'instructions':_0x1ffd64[_0x3163ec(0x875)],'reasoning':_0x1ffd64[_0x3163ec(0xa5f)],'grammar':_0x1ffd64[_0x3163ec(0x2f3)],'temperature':_0x1ffd64[_0x3163ec(0xc21)],'maxTokens':_0x1ffd64[_0x3163ec(0x1d5)],'history':_0x1ffd64['history'],'functions':_0x3cd51e,'threadId':_0x1ffd64[_0x3163ec(0x9bd)]},{'model':_0x20a204,'sequences':Array[_0x3163ec(0x668)](_0x3cd51e[_0x3163ec(0x6ed)]())[_0x3163ec(0x323)](_0x97bc0=>_0x97bc0[_0x3163ec(0xb97)]('executeAgent'))?0x2:0x1}))_0xb10c90['emit'](_0x4ffeda),'string'==typeof _0x49de3a[_0x3163ec(0x27f)]&&_0x3163ec(0x563)==typeof _0x4ffeda[_0x3163ec(0x27f)]&&(_0x49de3a[_0x3163ec(0x27f)]+=_0x4ffeda[_0x3163ec(0x27f)]),_0x49de3a[_0x3163ec(0x4d6)]=_0x4ffeda['inputTokens'],_0x49de3a[_0x3163ec(0x7d6)]=_0x4ffeda[_0x3163ec(0x7d6)];await _0x35fbea[_0x3163ec(0x3a0)](0x1),_0xb10c90[_0x3163ec(0x743)](void 0x0);}(_0x1eab39,_0x2b6cf4,_0x29db98,_0x58c846,_0x2c0099,_0x5b517d);let _0x58fb50='',_0x9421e2=0x0,_0x1d62c8=0x0,_0x5adfe7={'type':_0x3dd5d7(0x5db)};for(;;){const _0x33232a=await _0x2c0099[_0x3dd5d7(0xb91)]();if(!_0x33232a)break;_0x58fb50+=_0x33232a['output'],_0x5adfe7={'type':_0x3dd5d7(0x5db),'output':_0x33232a[_0x3dd5d7(0x27f)],'context':_0x58c846['context'],'internalContext':{},'inputTokens':_0x33232a[_0x3dd5d7(0x4d6)]??0x0,'outputTokens':_0x33232a[_0x3dd5d7(0x7d6)]??0x0},_0x9421e2+=_0x33232a[_0x3dd5d7(0x4d6)]??0x0,_0x1d62c8+=_0x33232a[_0x3dd5d7(0x7d6)]??0x0,((_0x33232a[_0x3dd5d7(0x4d6)]??0x0)>0x0||(_0x33232a[_0x3dd5d7(0x7d6)]??0x0)>0x0)&&console[_0x3dd5d7(0x3a3)](new Date()+_0x3dd5d7(0x261),_0x29db98[_0x3dd5d7(0x635)],_0x33232a[_0x3dd5d7(0x4d6)]??0x0,_0x33232a[_0x3dd5d7(0x7d6)]??0x0),yield _0x5adfe7;}_0x40fab9[_0x3dd5d7(0x60f)](_0x1eab39,_0x29db98['model'],_0x9421e2,_0x1d62c8),console[_0x3dd5d7(0x3a3)](new Date()+_0x3dd5d7(0x23b),_0x29db98[_0x3dd5d7(0x635)],_0x9421e2,_0x1d62c8),yield{..._0x5adfe7,'output':'','internalContext':_0x58c846[_0x3dd5d7(0xade)]??{}};}async function _0x4145ca(_0x1a942b,_0x4fe702,_0x496193,_0x47a1b0,_0x52b5dd,_0x2a0e0a){const _0x3ff3b6=_0x273dd2,_0x49c80d=Date[_0x3ff3b6(0x3a1)]();if(!_0x2a0e0a[_0x3ff3b6(0x384)][_0x3ff3b6(0x77e)](_0x3b473a=>_0x3b473a['id']===_0x47a1b0[_0x3ff3b6(0x477)]))throw new Error(_0x3ff3b6(0x3fe));const _0x2739fa=(0x0,_0x5d1d4c['v4'])(),_0x556631=[];_0x556631[_0x3ff3b6(0x604)]({'role':_0x3ff3b6(0x9bf),'content':_0x47a1b0[_0x3ff3b6(0x875)]}),_0x556631['push']({'role':_0x3ff3b6(0x7fb),'content':_0x496193});const _0x58c594=await fetch(_0x495699[_0x3ff3b6(0x4b7)]+_0x3ff3b6(0x7bb),{'method':_0x3ff3b6(0x26c),'headers':{'Content-Type':_0x3ff3b6(0x699),'x-vendor-id':_0x1a942b},'body':JSON[_0x3ff3b6(0xa5e)]({'model':_0x47a1b0[_0x3ff3b6(0x477)],'messages':_0x556631,'max_completion_tokens':_0x47a1b0['maxTokens'],'temperature':_0x47a1b0[_0x3ff3b6(0xc21)],'threadId':_0x2739fa})}),_0xce2e42=(await _0x58c594[_0x3ff3b6(0xb41)]())[_0x3ff3b6(0x90a)][0x0]['message'][_0x3ff3b6(0x26d)];await _0x40fab9['trace']({'jobType':_0x3e2f29[_0x3ff3b6(0xbdf)],'type':_0x2e40f1[_0x3ff3b6(0x207)],'jobId':_0x4fe702,'blockId':_0x47a1b0['id'],'traceLevel':_0x584638[_0x3ff3b6(0xc1e)],'timestamp':Date['now'](),'startTime':_0x49c80d,'status':_0x3ff3b6(0x683),'agentId':_0x2739fa,'content':_0x496193,'instructions':_0x47a1b0[_0x3ff3b6(0x875)],'result':_0xce2e42});const _0x36556a=[];if(_0x47a1b0[_0x3ff3b6(0x4a9)]?.['some'](_0x2376c0=>_0x2376c0[_0x3ff3b6(0x6b9)]===_0x24d3ee['Text']))return _0x36556a['push']({'content':_0xce2e42,'start':0x0,'length':_0xce2e42['length']}),await _0x15f4e6(_0x1a942b,_0x4fe702,_0x36556a,_0x47a1b0,_0x52b5dd,_0x2a0e0a),void await _0x15f4e6(_0x1a942b,_0x4fe702,_0xce2e42,_0x47a1b0,_0x52b5dd,_0x2a0e0a);_0x36556a['push']({'content':_0xce2e42,'start':0x0,'length':_0x496193[_0x3ff3b6(0x830)]}),await _0x15f4e6(_0x1a942b,_0x4fe702,_0x36556a,_0x47a1b0,_0x52b5dd,_0x2a0e0a);}async function _0x514935(_0x18d1cc,_0x4f0bf8,_0x634073,_0x3562b3,_0x4a888e,_0x573d7a){const _0x28633a=_0x273dd2,_0x6171f8=Date['now']();let _0x4b0311=[];if(_0x634073 instanceof Array)for(const _0x47b96c of _0x634073){if(_0x28633a(0x563)!=typeof _0x47b96c['content'])throw new Error(_0x28633a(0xa5d));_0x4b0311=_0x4b0311[_0x28633a(0xb3a)](_0x473f2e(_0x47b96c[_0x28633a(0x26d)],_0x3562b3,_0x47b96c[_0x28633a(0xa8f)],_0x47b96c[_0x28633a(0x830)]));}else _0x4b0311=_0x473f2e(_0x634073,_0x3562b3);await _0x40fab9['trace']({'jobType':_0x3e2f29[_0x28633a(0xbdf)],'type':_0x2e40f1['ChunkSplitter'],'traceLevel':_0x584638[_0x28633a(0xc1e)],'jobId':_0x4f0bf8,'blockId':_0x3562b3['id'],'startTime':_0x6171f8,'timestamp':Date['now'](),'status':_0x28633a(0x683),'totalChunks':_0x4b0311['length'],'chunkSize':_0x3562b3[_0x28633a(0x2e8)][_0x28633a(0x85c)]}),await _0x15f4e6(_0x18d1cc,_0x4f0bf8,_0x4b0311,_0x3562b3,_0x4a888e,_0x573d7a);}function _0x473f2e(_0x5051d6,_0x1073b9,_0x15d98d,_0x41cc3d){const _0x5e9b1e=_0x273dd2,_0xd2905b=[];for(let _0x4b0db3=0x0;_0x4b0db3<_0x5051d6[_0x5e9b1e(0x830)];_0x4b0db3+=_0x1073b9[_0x5e9b1e(0x2e8)]['size']){let _0x5ce840=_0x4b0db3-_0x1073b9['attributes'][_0x5e9b1e(0x492)];_0x5ce840<0x0&&(_0x5ce840=0x0);let _0x2e7994=_0x4b0db3+_0x1073b9[_0x5e9b1e(0x2e8)][_0x5e9b1e(0x85c)]+_0x1073b9[_0x5e9b1e(0x2e8)][_0x5e9b1e(0x492)];_0x2e7994>_0x5051d6[_0x5e9b1e(0x830)]&&(_0x2e7994=_0x5051d6['length']);const _0x3a87c0=_0x5051d6[_0x5e9b1e(0x98b)](_0x5ce840,_0x2e7994);_0xd2905b[_0x5e9b1e(0x604)]({'content':_0x3a87c0,'start':_0x15d98d??_0x4b0db3,'length':_0x41cc3d??(_0x4b0db3+_0x1073b9[_0x5e9b1e(0x2e8)][_0x5e9b1e(0x85c)]>_0x5051d6[_0x5e9b1e(0x830)]?_0x5051d6[_0x5e9b1e(0x830)]-_0x4b0db3:_0x1073b9[_0x5e9b1e(0x2e8)][_0x5e9b1e(0x85c)])});}return _0xd2905b;}async function _0x3acfc5(_0x250e44,_0x394b31,_0x34d893,_0x31129b,_0x33f25f,_0x2c1ba1){const _0x200082=_0x273dd2,_0x4442c7=Date[_0x200082(0x3a1)]();let _0x2aed60;if(_0x34d893[_0x200082(0x388)][_0x200082(0x6b9)][_0x200082(0xb97)]('text/')||_0x15951b(_0x34d893[_0x200082(0x388)][_0x200082(0xa7b)],_0x5794fb))_0x2aed60=await _0x34d893[_0x200082(0x388)][_0x200082(0x4e4)]();else{if(!_0x2c1ba1[_0x200082(0x6cb)][_0x200082(0xb4d)](_0x34d893[_0x200082(0x388)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x34d893[_0x200082(0x388)][_0x200082(0x6b9)]+_0x200082(0x1d4)+_0x34d893[_0x200082(0x388)][_0x200082(0xa7b)]);_0x2aed60=await _0x2c1ba1[_0x200082(0x6cb)][_0x200082(0xba5)](_0x34d893[_0x200082(0x388)]);}await _0x40fab9[_0x200082(0x85a)]({'jobType':_0x3e2f29[_0x200082(0xbdf)],'type':_0x2e40f1[_0x200082(0x42e)],'traceLevel':_0x584638['Debug'],'blockId':_0x31129b['id'],'jobId':_0x394b31,'startTime':_0x4442c7,'timestamp':Date['now'](),'status':'success','documentType':_0x34d893[_0x200082(0x388)]['type'],'documentName':_0x34d893[_0x200082(0x388)]['name'],'extractionMethod':_0x200082(0x845)}),await _0x15f4e6(_0x250e44,_0x394b31,_0x2aed60,_0x31129b,_0x33f25f,_0x2c1ba1);const _0x2fb720=[{'content':_0x2aed60,'start':0x0,'length':_0x2aed60[_0x200082(0x830)]}];await _0x15f4e6(_0x250e44,_0x394b31,_0x2fb720,_0x31129b,_0x33f25f,_0x2c1ba1);}const _0x5794fb=[_0x273dd2(0xc19),_0x273dd2(0x87a),_0x273dd2(0xaf0),_0x273dd2(0xbde),_0x273dd2(0x2e9),'.html',_0x273dd2(0xa8b),_0x273dd2(0x4fa),'.md','.yml',_0x273dd2(0xb63),'.sh','.bat','.ini',_0x273dd2(0x501),_0x273dd2(0xaa6),'.sql',_0x273dd2(0x556),_0x273dd2(0x346),_0x273dd2(0x977),'.c','.cpp',_0x273dd2(0x883),'.r',_0x273dd2(0x8c6),_0x273dd2(0x9d4),'.scala',_0x273dd2(0x267),'.rs',_0x273dd2(0x707),_0x273dd2(0x73e),_0x273dd2(0x5f9),'.hs',_0x273dd2(0x4f8),'.groovy',_0x273dd2(0x3dd),_0x273dd2(0xa2f),_0x273dd2(0x6fc),_0x273dd2(0x1e4),_0x273dd2(0xb5e),'.tcl','.m',_0x273dd2(0xa4d),_0x273dd2(0x906),'.rkt','.jl','.ipynb',_0x273dd2(0xb2b),_0x273dd2(0xb4f),_0x273dd2(0x688),_0x273dd2(0xbad),_0x273dd2(0x99a),_0x273dd2(0x1dc),'.hbs',_0x273dd2(0xb46),'.ejs','.pug',_0x273dd2(0x9fd),_0x273dd2(0xc10),'.tpl',_0x273dd2(0x39d),_0x273dd2(0xa85),_0x273dd2(0xb7b)];function _0x15951b(_0x472cd6,_0x55149e){const _0x365b07=_0x273dd2;return _0x55149e[_0x365b07(0x4aa)]('.'+(_0x472cd6['split']('.')[_0x365b07(0x4f5)]()?.[_0x365b07(0x31e)]()||''));}async function _0x4e0678(_0x20fd5f,_0x1a68f4,_0x4ff637,_0x4a0304,_0x2c8772,_0x4dc5cd){const _0x5319b3=_0x273dd2,_0x3484a1=Date['now'](),_0x3a3bf3=new Set();let _0x3e1873=0x0;for(const _0x105559 of _0x4ff637){if(_0x5319b3(0x563)!=typeof _0x105559[_0x5319b3(0x26d)])throw new Error(_0x5319b3(0xa5d));_0x3e1873+=_0x105559[_0x5319b3(0x26d)][_0x5319b3(0x830)],await _0x3d7b48(_0x105559[_0x5319b3(0x26d)],_0x3a3bf3,_0x4a0304,_0x4dc5cd[_0x5319b3(0x930)]);}await _0x40fab9[_0x5319b3(0x85a)]({'jobType':_0x3e2f29['Ingest'],'type':_0x2e40f1['EntityExtractor'],'jobId':_0x1a68f4,'blockId':_0x4a0304['id'],'traceLevel':_0x584638['Debug'],'startTime':_0x3484a1,'timestamp':Date[_0x5319b3(0x3a1)](),'status':_0x5319b3(0x683),'contentLength':_0x3e1873,'totalChunks':_0x4ff637 instanceof Array?_0x4ff637['length']:0x1,'entitiesExtracted':_0x3a3bf3,'totalEntities':_0x3a3bf3['size']}),await _0x15f4e6(_0x20fd5f,_0x1a68f4,_0x3a3bf3,_0x4a0304,_0x2c8772,_0x4dc5cd);}async function _0x3d7b48(_0x16c2ff,_0x3da607,_0x3f42b3,_0x54a79b){const _0x509734=_0x273dd2,_0x36a344=await _0x54a79b[_0x509734(0x634)](_0x16c2ff,{'ner':_0x3f42b3['attributes']['ner'],'noun':_0x3f42b3[_0x509734(0x2e8)][_0x509734(0x421)],'propn':_0x3f42b3[_0x509734(0x2e8)][_0x509734(0x7f1)],'verb':_0x3f42b3[_0x509734(0x2e8)][_0x509734(0xbbe)]});for(const _0x5e775b of _0x36a344)_0x3da607[_0x509734(0xbf8)](_0x5e775b);}async function _0x494960(_0x3e9c90,_0x1ee5ec,_0x3a5e59,_0x4ad2f2,_0x470ebd){const _0x45312b=_0x273dd2,_0x2d74a0=Date[_0x45312b(0x3a1)]();if(_0x3a5e59['accumulated']||(_0x3a5e59[_0x45312b(0xaa0)]={}),'string'==typeof _0x1ee5ec?_0x3a5e59['accumulated']['content']=_0x1ee5ec:_0x1ee5ec instanceof Set?_0x3a5e59[_0x45312b(0xaa0)][_0x45312b(0x9e0)]=_0x1ee5ec:_0x1ee5ec instanceof Map?_0x3a5e59['accumulated'][_0x45312b(0x50f)]=_0x1ee5ec:_0x1ee5ec instanceof Array?_0x3a5e59[_0x45312b(0xaa0)][_0x45312b(0xa4b)]=_0x1ee5ec:_0x3a5e59[_0x45312b(0xaa0)][_0x45312b(0x388)]=_0x1ee5ec,_0x3a5e59[_0x45312b(0xa23)]=_0x3a5e59[_0x45312b(0xa23)]?_0x3a5e59['timesCalled']+0x1:0x1,_0x3e53ba(_0x3a5e59,_0x4ad2f2[_0x45312b(0x55f)])>_0x3a5e59[_0x45312b(0xa23)])return;if(!(_0x3a5e59['accumulated'][_0x45312b(0x9e0)]&&_0x3a5e59[_0x45312b(0xaa0)][_0x45312b(0x388)]&&_0x3a5e59['accumulated']['content']&&_0x3a5e59[_0x45312b(0xaa0)][_0x45312b(0xa4b)]))throw new Error(_0x45312b(0x359));let _0x48d024=0x0;const _0x5a2ede=_0x470ebd[_0x45312b(0x525)][_0x45312b(0x3ca)](_0x3a5e59['id']);for(const _0x4a499a of _0x3a5e59[_0x45312b(0xaa0)][_0x45312b(0x9e0)]){let _0x188a47=[];_0x188a47=_0x3a5e59[_0x45312b(0xaa0)]['index'][_0x45312b(0x57c)](_0x76c3a5=>_0x45312b(0x563)==typeof _0x76c3a5[_0x45312b(0x26d)]&&_0x76c3a5['content'][_0x45312b(0x4aa)](_0x4a499a));try{_0x5a2ede['addNode'](_0x3a5e59['accumulated']['file'][_0x45312b(0x6c7)],_0x3a5e59[_0x45312b(0xaa0)]['content'],_0x188a47,_0x4a499a),_0x48d024+=0x1;}catch(_0x34565f){}}if(_0x3a5e59[_0x45312b(0xaa0)]['relations']){for(const [_0x9b8f2a,_0x7ba6d9]of _0x3a5e59[_0x45312b(0xaa0)][_0x45312b(0x50f)])for(const _0x27520b of _0x7ba6d9)try{_0x5a2ede[_0x45312b(0x6a8)](_0x9b8f2a,_0x27520b);}catch(_0x591387){}await _0x40fab9[_0x45312b(0x85a)]({'jobType':_0x3e2f29[_0x45312b(0xbdf)],'type':_0x2e40f1[_0x45312b(0xbc6)],'jobId':_0x3e9c90,'blockId':_0x3a5e59['id'],'status':_0x45312b(0x683),'startTime':_0x2d74a0,'timestamp':Date[_0x45312b(0x3a1)](),'traceLevel':_0x584638['Debug'],'nodesAdded':_0x48d024,'entities':_0x3a5e59[_0x45312b(0xaa0)][_0x45312b(0x9e0)],'relations':_0x3a5e59[_0x45312b(0xaa0)][_0x45312b(0x50f)]});}}async function _0x483e81(_0x572c6a,_0x349c58,_0x269b30,_0x25becc,_0x469152,_0x277638){const _0x2460a9=_0x273dd2,_0x41dabf=_0x277638[_0x2460a9(0x384)][_0x2460a9(0x77e)](_0xf4c5ba=>_0xf4c5ba['id']===_0x25becc['id']);if(!_0x41dabf)throw new Error(_0x2460a9(0x3fe));switch(_0x41dabf[_0x2460a9(0x333)]){case _0x2a74a6[_0x2460a9(0x2c3)]['Text']:if(_0x2460a9(0x563)!=typeof _0x269b30)throw new Error(_0x2460a9(0x791));await async function(_0x56473b,_0x3aaec9,_0x373fe8,_0x32c995,_0x157d8a,_0x36175a,_0x5bbfdc){const _0x3885fb=_0x2460a9,_0x5cb848=Date[_0x3885fb(0x3a1)]();let _0x58886d;const _0x5da2ee=await fetch(_0x495699['apiUrl']+'/chat/completions',{'method':_0x3885fb(0x26c),'headers':{'Content-Type':_0x3885fb(0x699),'x-vendor-id':_0x56473b},'body':JSON[_0x3885fb(0xa5e)]({'messages':[{'role':_0x3885fb(0x7fb),'content':_0x373fe8}],'model':_0x32c995['id']})});_0x58886d=(await _0x5da2ee['json']())[_0x3885fb(0x90a)][0x0]['message']['content'],await _0x40fab9[_0x3885fb(0x85a)]({'jobType':_0x3e2f29[_0x3885fb(0xbdf)],'type':_0x2e40f1[_0x3885fb(0x649)],'jobId':_0x3aaec9,'blockId':_0x157d8a['id'],'traceLevel':_0x584638[_0x3885fb(0xc1e)],'timestamp':Date[_0x3885fb(0x3a1)](),'startTime':_0x5cb848,'status':_0x3885fb(0x683),'modelName':_0x32c995['id'],'inputType':_0x32c995[_0x3885fb(0x618)],'outputType':_0x32c995[_0x3885fb(0x333)],'content':_0x373fe8,'results':_0x58886d}),await _0x15f4e6(_0x56473b,_0x3aaec9,_0x58886d,_0x157d8a,_0x36175a,_0x5bbfdc);}(_0x572c6a,_0x349c58,_0x269b30,_0x41dabf,_0x25becc,_0x469152,_0x277638);break;case _0x2a74a6[_0x2460a9(0x2c3)][_0x2460a9(0x3ee)]:if(!(_0x269b30 instanceof Array))throw new Error(_0x2460a9(0x9fa));await async function(_0x522c48,_0x5aa5df,_0x5d061a,_0x482a7e,_0x4bc50e,_0x3581ac,_0x2170c7){const _0xce42a5=_0x2460a9,_0x956508=Date[_0xce42a5(0x3a1)](),_0xaf0fcc=await fetch(_0x495699['apiUrl']+_0xce42a5(0xa31),{'method':_0xce42a5(0x26c),'headers':{'Content-Type':_0xce42a5(0x699),'x-vendor-id':_0x522c48},'body':JSON[_0xce42a5(0xa5e)]({'input':_0x5d061a[_0xce42a5(0xb48)](_0x437e20=>_0x437e20['content']),'model':_0x482a7e['id']})}),_0x1e68ae=(await _0xaf0fcc[_0xce42a5(0xb41)]())[_0xce42a5(0x9b6)][_0xce42a5(0xb48)](_0xc8be44=>_0xc8be44[_0xce42a5(0x6c6)]);await _0x40fab9['trace']({'jobType':_0x3e2f29['Ingest'],'type':_0x2e40f1[_0xce42a5(0x2ad)],'jobId':_0x5aa5df,'blockId':_0x4bc50e['id'],'traceLevel':_0x584638[_0xce42a5(0xc1e)],'timestamp':Date['now'](),'startTime':_0x956508,'status':_0xce42a5(0x683),'modelName':_0x482a7e['id'],'inputType':_0x482a7e['inputType'],'outputType':_0x482a7e['outputType'],'totalVectors':_0x1e68ae[_0xce42a5(0x830)]}),await _0x15f4e6(_0x522c48,_0x5aa5df,_0x1e68ae,_0x4bc50e,_0x3581ac,_0x2170c7);}(_0x572c6a,_0x349c58,_0x269b30,_0x41dabf,_0x25becc,_0x469152,_0x277638);}}async function _0x350eb8(_0x4041fe,_0x5f11af,_0x30970d,_0x16b6e3,_0x1322d9,_0x2cb1a8){const _0x3c33f9=_0x273dd2,_0x3df722=Date[_0x3c33f9(0x3a1)]();if(_0x16b6e3[_0x3c33f9(0xaa0)]||(_0x16b6e3[_0x3c33f9(0xaa0)]={}),_0x30970d instanceof Array?_0x16b6e3['accumulated']['index']=_0x30970d:_0x16b6e3['accumulated'][_0x3c33f9(0x9e0)]=_0x30970d,_0x16b6e3[_0x3c33f9(0xa23)]=_0x16b6e3['timesCalled']?_0x16b6e3[_0x3c33f9(0xa23)]+0x1:0x1,_0x3e53ba(_0x16b6e3,_0x1322d9[_0x3c33f9(0x55f)])>_0x16b6e3[_0x3c33f9(0xa23)])return;if(!_0x16b6e3['accumulated'][_0x3c33f9(0xa4b)]||!_0x16b6e3['accumulated'][_0x3c33f9(0x9e0)])throw new Error(_0x3c33f9(0xab2));const _0x1d5562=new Map();for(const _0x1754a6 of _0x16b6e3[_0x3c33f9(0xaa0)][_0x3c33f9(0xa4b)]){if('string'!=typeof _0x1754a6[_0x3c33f9(0x26d)])throw new Error(_0x3c33f9(0xa5d));_0xa617dc(_0x1754a6['content'],_0x16b6e3[_0x3c33f9(0xaa0)][_0x3c33f9(0x9e0)],_0x1d5562);}await _0x40fab9[_0x3c33f9(0x85a)]({'jobType':_0x3e2f29['Ingest'],'type':_0x2e40f1['RelationExtractor'],'jobId':_0x5f11af,'blockId':_0x16b6e3['id'],'traceLevel':_0x584638[_0x3c33f9(0xc1e)],'timestamp':Date[_0x3c33f9(0x3a1)](),'startTime':_0x3df722,'status':_0x3c33f9(0x683),'entities':_0x16b6e3[_0x3c33f9(0xaa0)]['entities'],'relations':_0x1d5562,'totalRelationsExtracted':_0x1d5562[_0x3c33f9(0x85c)]}),await _0x15f4e6(_0x4041fe,_0x5f11af,_0x1d5562,_0x16b6e3,_0x1322d9,_0x2cb1a8);}function _0xa617dc(_0x5435ce,_0x14dab1,_0xb95bab){const _0x539930=_0x273dd2;for(const _0x269908 of _0x14dab1)for(const _0x1dcbff of _0x14dab1){if(_0x269908===_0x1dcbff)continue;const _0xa79c6e=_0x5435ce['indexOf'](_0x269908),_0x1e7491=_0x5435ce[_0x539930(0x28c)](_0x1dcbff);-0x1!==_0xa79c6e&&-0x1!==_0x1e7491&&(_0xb95bab[_0x539930(0xb9f)](_0x269908)||_0xb95bab[_0x539930(0x68c)](_0x269908,new Set()),_0xb95bab[_0x539930(0x266)](_0x269908)[_0x539930(0xbf8)](_0x1dcbff));}return _0xb95bab;}async function _0x9e8a13(_0x50252d,_0x693844,_0x5e2c69,_0x36b1ba,_0x5baca4,_0x3d596b){const _0x43e1a1=_0x273dd2,_0x34499d=Date['now']();let _0x1a1b84=[];if(_0x5e2c69 instanceof Array)for(const _0x4889ea of _0x5e2c69){if(_0x43e1a1(0x563)!=typeof _0x4889ea[_0x43e1a1(0x26d)])throw new Error('Invalid\x20content\x20type');const _0x5ca0fe=await _0x3d596b[_0x43e1a1(0x930)][_0x43e1a1(0x605)](_0x4889ea[_0x43e1a1(0x26d)]);_0x1a1b84=_0x1a1b84['concat'](_0x5ca0fe[_0x43e1a1(0xb48)](_0x2e0462=>({'content':_0x2e0462,'start':_0x4889ea['start'],'length':_0x4889ea['length']})));}else _0x1a1b84=(await _0x3d596b[_0x43e1a1(0x930)][_0x43e1a1(0x605)](_0x5e2c69))[_0x43e1a1(0xb48)](_0x40792b=>({'content':_0x40792b,'start':_0x5e2c69['indexOf'](_0x40792b),'length':_0x40792b[_0x43e1a1(0x830)]}));await _0x40fab9[_0x43e1a1(0x85a)]({'jobType':_0x3e2f29[_0x43e1a1(0xbdf)],'type':_0x2e40f1[_0x43e1a1(0xa99)],'jobId':_0x693844,'blockId':_0x36b1ba['id'],'traceLevel':_0x584638[_0x43e1a1(0xc1e)],'startTime':_0x34499d,'timestamp':Date['now'](),'status':_0x43e1a1(0x683),'totalSentences':_0x1a1b84['length'],'averageSentenceLength':_0x1a1b84[_0x43e1a1(0x97e)]((_0x198a47,_0x3cfbe8)=>_0x198a47+_0x3cfbe8['length'],0x0)/_0x1a1b84[_0x43e1a1(0x830)]}),await _0x15f4e6(_0x50252d,_0x693844,_0x1a1b84,_0x36b1ba,_0x5baca4,_0x3d596b);}async function _0x3abe30(_0x415c19,_0x521dd9,_0x47b8f7,_0x4bbb26,_0xc75b3){const _0x45f273=_0x273dd2,_0x5ce470=_0x521dd9[_0x45f273(0x65f)]??(0x0,_0x5d1d4c['v4'])(),_0x4e872b=Date[_0x45f273(0x3a1)]();await _0x40fab9[_0x45f273(0x85a)]({'jobType':_0x3e2f29[_0x45f273(0x446)],'type':_0x59296e[_0x45f273(0x337)],'jobId':_0x415c19,'blockId':_0x47b8f7['id'],'agentId':_0x5ce470,'threadId':_0x521dd9[_0x45f273(0x9bd)],'traceLevel':_0x584638[_0x45f273(0xbf7)],'startTime':Date[_0x45f273(0x3a1)](),'timestamp':Date[_0x45f273(0x3a1)](),'status':'success','initialPrompt':_0x521dd9[_0x45f273(0x5db)]});const _0x367b17={'type':_0x45f273(0x5db),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x521dd9[_0x45f273(0xade)]&&(_0x367b17[_0x45f273(0xade)]=_0x521dd9[_0x45f273(0xade)]),await _0xc96a80(_0x415c19,_0x521dd9,_0x367b17,_0x47b8f7,_0x4bbb26,_0xc75b3),await _0x169aec(_0x415c19,''+_0x521dd9[_0x45f273(0x5db)],_0x521dd9,_0x367b17,_0x47b8f7,_0x4bbb26,_0xc75b3);const {inputTokens:_0x58c5e7=0x0,outputTokens:_0x232463=0x0,context:_0x10421b=[]}=_0x367b17;await _0x40fab9[_0x45f273(0x85a)]({'jobType':_0x3e2f29[_0x45f273(0x446)],'type':_0x59296e[_0x45f273(0xbbd)],'jobId':_0x415c19,'agentId':_0x5ce470,'threadId':_0x521dd9[_0x45f273(0x9bd)],'traceLevel':_0x584638['Info'],'startTime':_0x4e872b,'timestamp':Date['now'](),'blockId':_0x47b8f7['id'],'status':'success','output':_0x367b17[_0x45f273(0x27f)]?.[_0x45f273(0xa7d)]()??'','prompt':_0x521dd9[_0x45f273(0x5db)],'agentName':'','history':_0x521dd9[_0x45f273(0x2fe)]??[],'instructions':''+(_0x521dd9[_0x45f273(0x875)]??''),'ragContext':_0x10421b,'inputTokens':_0x58c5e7,'outputTokens':_0x232463});const _0x4ee106=_0x4bbb26['find'](_0x2ed8da=>_0x2ed8da[_0x45f273(0x6b9)]===_0x3b8538['Answer']);return{'type':_0x45f273(0x5db),'output':_0x367b17[_0x45f273(0x27f)],'context':_0x367b17['context'],'internalContext':_0x367b17['internalContext'],'resultFile':await _0x4ee106?.[_0x45f273(0xaa0)]?.[_0x45f273(0x388)]?.[_0x45f273(0x4e4)]()??void 0x0,'inputTokens':_0x367b17[_0x45f273(0x4d6)]??0x0,'outputTokens':_0x367b17['outputTokens']??0x0};}async function*_0x405988(_0x4ae1aa,_0x314c70,_0x5762e6,_0x3cd6f0,_0x2c0db8){const _0x408feb=_0x273dd2,_0x483155=_0x314c70['agentId']??(0x0,_0x5d1d4c['v4'])(),_0x2adf2d=Date[_0x408feb(0x3a1)]();await _0x40fab9['trace']({'jobType':_0x3e2f29[_0x408feb(0x446)],'type':_0x59296e[_0x408feb(0x337)],'jobId':_0x4ae1aa,'agentId':_0x483155,'threadId':_0x314c70['threadId'],'traceLevel':_0x584638[_0x408feb(0xbf7)],'startTime':Date[_0x408feb(0x3a1)](),'timestamp':Date[_0x408feb(0x3a1)](),'blockId':_0x5762e6['id'],'status':_0x408feb(0x683),'initialPrompt':_0x314c70[_0x408feb(0x5db)]});const _0x183411={'type':_0x408feb(0x5db),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x314c70[_0x408feb(0xade)]&&(_0x183411[_0x408feb(0xade)]=_0x314c70[_0x408feb(0xade)]);const _0xed2ca=new _0x138194();await _0xc96a80(_0x4ae1aa,_0x314c70,_0x183411,_0x5762e6,_0x3cd6f0,_0x2c0db8),_0x169aec(_0x4ae1aa,''+_0x314c70[_0x408feb(0x5db)],_0x314c70,_0x183411,_0x5762e6,_0x3cd6f0,_0x2c0db8,_0xed2ca);let _0x5d5515='',_0x4251fb={'type':_0x408feb(0x5db)};for(;;){const _0x561997=await _0xed2ca[_0x408feb(0xb91)]();if(!_0x561997)break;_0x5d5515+=_0x561997['output'],_0x4251fb={'type':_0x408feb(0x5db),'output':_0x561997[_0x408feb(0x27f)],'context':_0x183411[_0x408feb(0x442)],'resultFile':void 0x0,'inputTokens':(_0x183411[_0x408feb(0x4d6)]??0x0)+(_0x561997[_0x408feb(0x4d6)]??0x0),'outputTokens':(_0x183411[_0x408feb(0x7d6)]??0x0)+(_0x561997[_0x408feb(0x7d6)]??0x0)},yield _0x4251fb;}const _0xcb000f=_0x3cd6f0[_0x408feb(0x77e)](_0x191c83=>_0x191c83[_0x408feb(0x6b9)]===_0x3b8538['Answer']);yield{..._0x4251fb,'output':'','internalContext':_0x183411[_0x408feb(0xade)],'resultFile':await _0xcb000f?.[_0x408feb(0xaa0)]?.[_0x408feb(0x388)]?.['text']()??void 0x0};const {inputTokens:_0x3b4f9b=0x0,outputTokens:_0x5c8054=0x0,context:_0x14ed3f=[]}=_0x4251fb;await _0x40fab9[_0x408feb(0x85a)]({'jobType':_0x3e2f29[_0x408feb(0x446)],'type':_0x59296e[_0x408feb(0xbbd)],'jobId':_0x4ae1aa,'agentId':_0x483155,'threadId':_0x314c70['threadId'],'traceLevel':_0x584638['Info'],'startTime':_0x2adf2d,'timestamp':Date[_0x408feb(0x3a1)](),'blockId':_0x5762e6['id'],'status':'success','output':_0x5d5515,'prompt':_0x314c70[_0x408feb(0x5db)],'agentName':'','history':_0x314c70[_0x408feb(0x2fe)]??[],'instructions':''+(_0x314c70['instructions']??''),'ragContext':_0x14ed3f,'inputTokens':_0x3b4f9b,'outputTokens':_0x5c8054});}async function _0xc96a80(_0x382808,_0x472633,_0x4c589a,_0x2003cb,_0x3e49b0,_0x1fcdc8){const _0xcc451a=_0x273dd2;if(_0x472633[_0xcc451a(0xa48)]&&_0x2003cb[_0xcc451a(0x4a9)]){const _0x4484e8=[];for(const _0x7f3dd7 of _0x472633[_0xcc451a(0xa48)])_0x4484e8[_0xcc451a(0x604)](_0x5beb78(_0x7f3dd7));_0x2003cb[_0xcc451a(0x4a9)]['some'](_0x1fd392=>_0x1fd392['type']===_0x24d3ee[_0xcc451a(0x7a2)])&&await async function(_0x545961,_0x5179ba,_0x11dc44,_0x14bd3b,_0x2a3fe8,_0x47696c,_0x154bda){const _0x4db309=_0xcc451a;if(0x0===_0x5179ba[_0x4db309(0x830)])return;const _0x68cf55=[];for(const _0x135993 of _0x5179ba){const _0x179726=_0x135993[_0x4db309(0x6b9)];if(!_0x179726['startsWith']('application/pdf'))continue;const _0x45ecac=await _0x135993[_0x4db309(0x511)](),_0x463ab9=Buffer[_0x4db309(0x668)](_0x45ecac)[_0x4db309(0xa7d)](_0x4db309(0x6ca));_0x68cf55[_0x4db309(0x604)](_0x179726+_0x4db309(0x4d0)+_0x463ab9);}if(_0x2a3fe8['links'])for(const _0x350311 of _0x2a3fe8[_0x4db309(0x4a9)]){if(_0x350311[_0x4db309(0x6b9)]!==_0x24d3ee['File'])continue;const _0xeb2de2=_0x47696c[_0x4db309(0x77e)](_0x44fa8c=>_0x44fa8c[_0x4db309(0xa24)]===_0x350311[_0x4db309(0xa24)]);if(_0xeb2de2){for(const _0x455056 of _0x68cf55)_0xeb2de2[_0x4db309(0x6b9)]===_0x3b8538[_0x4db309(0x207)]&&await _0x2f0c44(_0x545961,_0x350311[_0x4db309(0x6b9)],_0x455056,_0x11dc44,_0x14bd3b,_0xeb2de2,_0x47696c,_0x154bda);}}}(_0x382808,_0x4484e8,_0x472633,_0x4c589a,_0x2003cb,_0x3e49b0,_0x1fcdc8),_0x2003cb[_0xcc451a(0x4a9)][_0xcc451a(0x323)](_0x2f9d23=>_0x2f9d23[_0xcc451a(0x6b9)]===_0x24d3ee[_0xcc451a(0xa38)])&&await async function(_0x3d104c,_0x5e23a4,_0x353982,_0x4d9814,_0x1f5d76,_0x5aef75,_0x504c59){const _0x1c5496=_0xcc451a;if(0x0===_0x5e23a4['length'])return;const _0x321999=[];for(const _0x5d5676 of _0x5e23a4){const _0x2c925e=_0x5d5676['type'];if(!_0x2c925e['startsWith'](_0x1c5496(0xbc5)))continue;const _0xca2834=await _0x5d5676[_0x1c5496(0x511)](),_0x5975be=Buffer[_0x1c5496(0x668)](_0xca2834)[_0x1c5496(0xa7d)]('base64');_0x321999[_0x1c5496(0x604)](_0x2c925e+_0x1c5496(0x4d0)+_0x5975be);}if(_0x1f5d76[_0x1c5496(0x4a9)])for(const _0x5a370f of _0x1f5d76[_0x1c5496(0x4a9)]){if(_0x5a370f[_0x1c5496(0x6b9)]!==_0x24d3ee[_0x1c5496(0xa38)])continue;const _0x3967ab=_0x5aef75[_0x1c5496(0x77e)](_0xb04d91=>_0xb04d91[_0x1c5496(0xa24)]===_0x5a370f['uid']);if(_0x3967ab){for(const _0x90df48 of _0x321999)_0x3967ab[_0x1c5496(0x6b9)]===_0x3b8538[_0x1c5496(0x207)]&&await _0x2f0c44(_0x3d104c,_0x5a370f['type'],_0x90df48,_0x353982,_0x4d9814,_0x3967ab,_0x5aef75,_0x504c59);}}}(_0x382808,_0x4484e8,_0x472633,_0x4c589a,_0x2003cb,_0x3e49b0,_0x1fcdc8);}}function _0x5beb78(_0x226c4c){const _0x1d713d=_0x273dd2,_0x2ce84d=Uint8Array['from'](Buffer[_0x1d713d(0x668)](_0x226c4c['content'],_0x1d713d(0x6ca))),_0x348ece=new Blob([_0x2ce84d],{'type':_0x226c4c['type']});return new File([_0x348ece],_0x226c4c[_0x1d713d(0xa7b)],{'type':_0x226c4c[_0x1d713d(0x6b9)]});}function _0x1e3016(_0x2f13d2,_0x4a6446){const _0x5a74b3=_0x273dd2;switch(_0x4a6446['hosting']){case _0x24d649[_0x5a74b3(0x1e5)]:return'crewdle';case _0x24d649[_0x5a74b3(0x283)]:return _0x2f13d2;case _0x24d649['Dedicated']:default:return _0x4a6446['id'];}}async function _0x42feb8(_0x24c45a,_0x892339,_0x57b2e5,_0x3ab002,_0x2fc0ae,_0x449239){const _0x34ad74=_0x273dd2,_0x1ad5f0=Date[_0x34ad74(0x3a1)]();var _0x34aefc;if(_0x3ab002[_0x34ad74(0xaa0)]||(_0x3ab002[_0x34ad74(0xaa0)]={}),_0x57b2e5 instanceof Array?(_0x34aefc=_0x57b2e5)[0x0]instanceof Array&&_0x34ad74(0x2db)==typeof _0x34aefc[0x0]?.[0x0]?_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0x3aa)]=_0x57b2e5:_0x3ab002['accumulated'][_0x34ad74(0xa4b)]=_0x57b2e5:_0x34ad74(0x563)==typeof _0x57b2e5?_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0x26d)]=_0x57b2e5:_0x3ab002['accumulated'][_0x34ad74(0x388)]=_0x57b2e5,_0x3ab002['timesCalled']=_0x3ab002[_0x34ad74(0xa23)]?_0x3ab002[_0x34ad74(0xa23)]+0x1:0x1,!(_0x3e53ba(_0x3ab002,_0x2fc0ae[_0x34ad74(0x55f)])>_0x3ab002[_0x34ad74(0xa23)])){if(_0x34ad74(0x9b5)===_0x3ab002['id']){if(!_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0xa4b)]||!_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0x3aa)]||!_0x3ab002['accumulated'][_0x34ad74(0x388)])throw new Error(_0x34ad74(0x598));if(!_0x449239[_0x34ad74(0x98f)])throw new Error(_0x34ad74(0x5c0));const _0x54d6e4=[];for(let _0x4ccb03=0x0;_0x4ccb03<_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0xa4b)]['length'];_0x4ccb03++){const _0x374041=_0x3ab002['accumulated'][_0x34ad74(0x3aa)][_0x4ccb03],_0x23c756=_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0xa4b)][_0x4ccb03];_0x54d6e4[_0x34ad74(0x604)]({'content':_0x374041,'start':_0x23c756[_0x34ad74(0xa8f)],'length':_0x23c756[_0x34ad74(0x830)]});}const _0x1ea590=_0x1e3016(_0x24c45a,_0x2fc0ae);await _0x449239[_0x34ad74(0x98f)][_0x34ad74(0xb38)](_0x1ea590,_0x2fc0ae['id'],_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0x388)][_0x34ad74(0x6c7)],_0x54d6e4);}else{if(!(_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0x26d)]&&_0x3ab002['accumulated'][_0x34ad74(0xa4b)]&&_0x3ab002['accumulated'][_0x34ad74(0x3aa)]&&_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0x388)]))throw new Error(_0x34ad74(0x598));const _0x6dd1c7=_0x449239[_0x34ad74(0x525)][_0x34ad74(0x59e)](_0x3ab002['id']);_0x6dd1c7[_0x34ad74(0x97d)](_0x3ab002[_0x34ad74(0xaa0)]['file'][_0x34ad74(0x6c7)],_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0x26d)],_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0xa4b)],_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0x3aa)]),await _0x40fab9[_0x34ad74(0x85a)]({'jobType':_0x3e2f29['Ingest'],'type':_0x2e40f1[_0x34ad74(0xb15)],'jobId':_0x892339,'blockId':_0x3ab002['id'],'traceLevel':_0x584638[_0x34ad74(0xc1e)],'startTime':_0x1ad5f0,'timestamp':Date['now'](),'status':_0x34ad74(0x683),'databaseName':_0x6dd1c7[_0x34ad74(0x8e8)](),'vectorsAdded':_0x3ab002[_0x34ad74(0xaa0)][_0x34ad74(0x3aa)][_0x34ad74(0x830)],'filePathName':_0x3ab002[_0x34ad74(0xaa0)]['file']['pathName']});}}}async function _0x4e2ddb(_0x44d430,_0x132e17,_0x343b00,_0x3fe74e,_0x424968,_0x1a66da){const _0x18177b=_0x273dd2,_0x821cf7=Date['now']();let _0x1b010c=[];if(_0x343b00 instanceof Array)for(const _0x428e81 of _0x343b00){if(_0x18177b(0x563)!=typeof _0x428e81[_0x18177b(0x26d)])throw new Error('Invalid\x20content\x20type');_0x1b010c=_0x1b010c[_0x18177b(0xb3a)](_0x1a7a14(_0x428e81[_0x18177b(0x26d)],_0x3fe74e,_0x428e81[_0x18177b(0xa8f)],_0x428e81[_0x18177b(0x830)]));}else _0x1b010c=_0x1a7a14(_0x343b00,_0x3fe74e);await _0x40fab9[_0x18177b(0x85a)]({'jobType':_0x3e2f29[_0x18177b(0xbdf)],'type':_0x2e40f1[_0x18177b(0x3b6)],'jobId':_0x132e17,'traceLevel':_0x584638['Debug'],'blockId':_0x3fe74e['id'],'startTime':_0x821cf7,'timestamp':Date[_0x18177b(0x3a1)](),'status':_0x18177b(0x683),'totalChunks':_0x1b010c[_0x18177b(0x830)],'averageChunkLength':_0x1b010c[_0x18177b(0x97e)]((_0x3efe9e,_0x366dbc)=>_0x3efe9e+_0x366dbc['length'],0x0)/_0x1b010c['length']}),await _0x15f4e6(_0x44d430,_0x132e17,_0x1b010c,_0x3fe74e,_0x424968,_0x1a66da);}function _0x1a7a14(_0x2f6bab,_0x576d0f,_0x48a06b,_0x188e98){const _0x7f8134=_0x273dd2,_0x4d4417=[],_0x56c934=_0x2f6bab[_0x7f8134(0xa62)]('\x20');let _0x35a70e='',_0x30b714=-0x1,_0x3dfd2a=0x0,_0x47d849=0x0;for(const _0x448d99 of _0x56c934){if(_0x35a70e[_0x7f8134(0x830)]+_0x448d99['length']>_0x576d0f['attributes'][_0x7f8134(0x85c)]){const _0x20f1b9=_0x35a70e[_0x7f8134(0x830)];let _0x973c09=_0x30b714,_0x991540='';for(;_0x973c09>=0x0&&_0x991540['length']+_0x56c934[_0x973c09]['length']<_0x576d0f['attributes'][_0x7f8134(0x492)];)_0x991540=_0x56c934[_0x973c09]+'\x20'+_0x991540,_0x973c09--;let _0x51f128=_0x3dfd2a,_0x3ad2c5='';for(;_0x51f128<_0x56c934[_0x7f8134(0x830)]&&_0x3ad2c5[_0x7f8134(0x830)]+_0x56c934[_0x51f128][_0x7f8134(0x830)]<_0x576d0f[_0x7f8134(0x2e8)]['overlap'];)_0x3ad2c5+=_0x56c934[_0x51f128]+'\x20',_0x51f128++;_0x35a70e=_0x991540+_0x35a70e+_0x3ad2c5,_0x4d4417['push']({'content':_0x35a70e[_0x7f8134(0x854)](),'start':_0x48a06b??_0x47d849,'length':_0x188e98??_0x20f1b9}),_0x35a70e='',_0x30b714=_0x3dfd2a-0x1,_0x47d849+=_0x20f1b9;}_0x35a70e+=_0x448d99+'\x20',_0x3dfd2a++;}if(_0x35a70e[_0x7f8134(0x830)]>0x0){const _0xdca89=_0x35a70e[_0x7f8134(0x830)];let _0x2f8626=_0x30b714,_0x38ea43='';for(;_0x2f8626>=0x0&&_0x38ea43[_0x7f8134(0x830)]+_0x56c934[_0x2f8626][_0x7f8134(0x830)]<_0x576d0f[_0x7f8134(0x2e8)][_0x7f8134(0x492)];)_0x38ea43=_0x56c934[_0x2f8626]+'\x20'+_0x38ea43,_0x2f8626--;_0x35a70e=_0x38ea43+_0x35a70e,_0x4d4417['push']({'content':_0x35a70e[_0x7f8134(0x854)](),'start':_0x48a06b??_0x47d849,'length':_0x188e98??_0xdca89});}return _0x4d4417;}async function _0x15f4e6(_0x275c1c,_0x3d6505,_0x3a16ed,_0x5dc112,_0x44161a,_0x1e028a){const _0x2d4332=_0x273dd2;for(const _0x29e88f of _0x5dc112[_0x2d4332(0x4a9)]||[]){const _0x4bf69f=_0x44161a[_0x2d4332(0x55f)][_0x2d4332(0x77e)](_0x72ff4f=>_0x72ff4f[_0x2d4332(0xa24)]===_0x29e88f['uid']);if(_0x4bf69f)switch(_0x4bf69f[_0x2d4332(0x6b9)]){case _0x430aa5[_0x2d4332(0x207)]:_0x29e88f['type']===_0x24d3ee[_0x2d4332(0x25f)]&&_0x2d4332(0x563)==typeof _0x3a16ed&&await _0x4145ca(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a);break;case _0x430aa5[_0x2d4332(0x8c2)]:_0x29e88f['type']===_0x24d3ee[_0x2d4332(0x25f)]&&_0x2d4332(0x563)==typeof _0x3a16ed&&await _0x514935(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f['type']===_0x24d3ee[_0x2d4332(0x349)]&&_0x3a16ed instanceof Array&&await _0x514935(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a);break;case _0x430aa5[_0x2d4332(0x42e)]:_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x7a2)]&&await _0x3acfc5(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a);break;case _0x430aa5[_0x2d4332(0x264)]:if(_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee['Index']&&_0x3a16ed instanceof Array){if(!_0x44161a['modelId'])throw new Error(_0x2d4332(0x7a4));const _0x36ee83={'type':_0x430aa5[_0x2d4332(0xbc1)],'id':_0x44161a[_0x2d4332(0x477)],'uid':(0x0,_0x5d1d4c['v4'])(),'links':_0x4bf69f[_0x2d4332(0x4a9)]};await _0x483e81(_0x275c1c,_0x3d6505,_0x3a16ed,_0x36ee83,_0x44161a,_0x1e028a);}break;case _0x430aa5[_0x2d4332(0x505)]:_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee['Index']&&_0x3a16ed instanceof Array&&await _0x4e0678(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a);break;case _0x430aa5['GraphDatabase']:_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x25f)]&&_0x2d4332(0x563)==typeof _0x3a16ed&&await _0x494960(_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x349)]&&_0x3a16ed instanceof Array&&await _0x494960(_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x2b9)]&&_0x3a16ed instanceof Set&&await _0x494960(_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0xba6)]&&_0x3a16ed instanceof Map&&await _0x494960(_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f['type']===_0x24d3ee['File']&&await _0x494960(_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a);break;case _0x430aa5['Model']:_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee['Text']&&'string'==typeof _0x3a16ed&&await _0x483e81(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x349)]&&_0x3a16ed instanceof Array&&await _0x483e81(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a);break;case _0x430aa5[_0x2d4332(0x499)]:_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee['Index']&&_0x3a16ed instanceof Array&&await _0x350eb8(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x2b9)]&&_0x3a16ed instanceof Set&&await _0x350eb8(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a);break;case _0x430aa5['SentenceSplitter']:_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x25f)]&&'string'==typeof _0x3a16ed&&await _0x9e8a13(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x349)]&&_0x3a16ed instanceof Array&&await _0x9e8a13(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a);break;case _0x430aa5['VectorDatabase']:_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x25f)]&&_0x2d4332(0x563)==typeof _0x3a16ed&&await _0x42feb8(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f['type']===_0x24d3ee[_0x2d4332(0x349)]&&_0x3a16ed instanceof Array&&await _0x42feb8(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x3ee)]&&_0x3a16ed instanceof Array&&await _0x42feb8(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x7a2)]&&await _0x42feb8(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a);break;case _0x430aa5[_0x2d4332(0x3b6)]:_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x25f)]&&_0x2d4332(0x563)==typeof _0x3a16ed&&await _0x4e2ddb(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a),_0x29e88f[_0x2d4332(0x6b9)]===_0x24d3ee[_0x2d4332(0x349)]&&_0x3a16ed instanceof Array&&await _0x4e2ddb(_0x275c1c,_0x3d6505,_0x3a16ed,_0x4bf69f,_0x44161a,_0x1e028a);}}}function _0x3e53ba(_0x597346,_0x16bce9){const _0x935aaf=_0x273dd2;return _0x16bce9[_0x935aaf(0x57c)](_0x405469=>_0x405469['links']?.[_0x935aaf(0x323)](_0x183317=>_0x183317['uid']===_0x597346[_0x935aaf(0xa24)]))[_0x935aaf(0x830)];}async function _0x450000(_0x23bba8,_0x111363,_0x26cb67,_0x1fb58f,_0x360531,_0xa51812,_0x4e7bb3){const _0x5c96ac=_0x273dd2;try{let _0x57292d;switch(_0x360531[_0x5c96ac(0x6b9)]){case _0x430aa5[_0x5c96ac(0x999)]:const _0x44a329=_0x4e7bb3['contentMediator'][_0x5c96ac(0x5cc)](_0x360531['id']);_0x57292d=await _0x44a329[_0x5c96ac(0x266)](_0x26cb67);break;case _0x430aa5[_0x5c96ac(0x2e5)]:const _0x15e17f=_0x4e7bb3[_0x5c96ac(0x525)]['getExternalStorageConnection'](_0x360531['id']);_0x57292d=await _0x15e17f[_0x5c96ac(0x266)](_0x26cb67);case _0x430aa5[_0x5c96ac(0x50e)]:const _0x5f30f6=_0x26cb67['split']('/')[_0x5c96ac(0x4f5)]();if(!_0x5f30f6)throw new Error(_0x5c96ac(0xbfe));const _0x66958e=_0x26cb67[_0x5c96ac(0x4cf)](_0x5f30f6,''),_0x2327a9=Buffer[_0x5c96ac(0x668)](_0x1fb58f,_0x5c96ac(0x6ca));if(_0x57292d=new File([_0x2327a9],_0x5f30f6),!_0x4e7bb3[_0x5c96ac(0x95e)])throw new Error(_0x5c96ac(0xa03));await _0x4e7bb3['objectStoreConnector']['writeFile'](_0x57292d,_0x66958e);}if(!_0x57292d)throw new Error(_0x5c96ac(0x8c0));await _0x15f4e6(_0x23bba8,_0x111363,{'file':_0x57292d,'pathName':_0x26cb67},_0x360531,structuredClone(_0xa51812),_0x4e7bb3);}catch(_0x1c17b4){console[_0x5c96ac(0x5c5)]('Error\x20processing\x20ingest',_0x1c17b4);}}async function _0x2889f3(_0x2ff3de,_0x27f6fb,_0x26d0b6,_0x542a58,_0x54c383,_0x9b3413,_0x3ec14c,_0x4d0c83){const _0xf1865b=_0x273dd2,_0x3e3fb1=Date[_0xf1865b(0x3a1)](),_0x5952b1=new Set();if(_0x542a58 instanceof Array){for(const _0x11bfee of _0x542a58)await _0x1c0d4c(_0x11bfee['content'],_0x9b3413,_0x5952b1,_0x4d0c83[_0xf1865b(0x930)]);}else await _0x1c0d4c(_0x542a58,_0x9b3413,_0x5952b1,_0x4d0c83[_0xf1865b(0x930)]);await _0x40fab9[_0xf1865b(0x85a)]({'jobType':_0x3e2f29['Retrieve'],'type':_0x25d2be['EntityExtractor'],'jobId':_0x27f6fb,'threadId':_0x26d0b6,'blockId':_0x9b3413['id'],'traceLevel':_0x584638[_0xf1865b(0xc1e)],'startTime':_0x3e3fb1,'timestamp':Date[_0xf1865b(0x3a1)](),'status':_0xf1865b(0x683),'content':_0x542a58,'entitiesExtracted':Array[_0xf1865b(0x668)](_0x5952b1),'totalEntities':_0x5952b1[_0xf1865b(0x85c)]}),await _0x177005(_0x2ff3de,_0x27f6fb,_0x26d0b6,_0x5952b1,_0x54c383,_0x9b3413,_0x3ec14c,_0x4d0c83);}async function _0x1c0d4c(_0x99d5be,_0x1b3372,_0x2d6509,_0x5ad62e){const _0x697ba8=_0x273dd2,_0x199f20=await _0x5ad62e[_0x697ba8(0x634)](_0x99d5be,{'ner':_0x1b3372['attributes']['ner'],'noun':_0x1b3372[_0x697ba8(0x2e8)]['noun'],'propn':_0x1b3372[_0x697ba8(0x2e8)][_0x697ba8(0x7f1)],'verb':_0x1b3372['attributes'][_0x697ba8(0xbbe)]});for(const _0x119083 of _0x199f20)_0x2d6509[_0x697ba8(0xbf8)](_0x119083);}async function _0xbe3be7(_0x4abdda,_0x3ef106,_0x192e35,_0x522eca,_0x207229,_0x5c687f,_0x3c04c3,_0x38348e){const _0x3234a4=_0x273dd2,_0x37036b=Date[_0x3234a4(0x3a1)]();if(_0x5c687f[_0x3234a4(0xaa0)]||(_0x5c687f[_0x3234a4(0xaa0)]={}),_0x522eca instanceof Array?(_0x5c687f[_0x3234a4(0xaa0)][_0x3234a4(0xbc9)]||(_0x5c687f[_0x3234a4(0xaa0)][_0x3234a4(0xbc9)]=[]),_0x5c687f[_0x3234a4(0xaa0)]['results']['push'](..._0x522eca)):_0x522eca instanceof Set?_0x5c687f[_0x3234a4(0xaa0)]['entities']=_0x522eca:_0x5c687f[_0x3234a4(0xaa0)][_0x3234a4(0x5db)]=_0x522eca,_0x5c687f[_0x3234a4(0xa23)]=_0x5c687f[_0x3234a4(0xa23)]?_0x5c687f['timesCalled']+0x1:0x1,_0x326869(_0x5c687f,_0x3c04c3[_0x3234a4(0xb0c)])>_0x5c687f[_0x3234a4(0xa23)])return;if(!_0x5c687f[_0x3234a4(0xaa0)][_0x3234a4(0x5db)]&&!_0x5c687f[_0x3234a4(0xaa0)][_0x3234a4(0xbc9)]||!_0x5c687f[_0x3234a4(0xaa0)][_0x3234a4(0x9e0)])throw new Error(_0x3234a4(0x359));const _0x4b9395=_0x38348e[_0x3234a4(0x525)][_0x3234a4(0x3ca)](_0x5c687f['id'])[_0x3234a4(0x3f6)](Array['from'](_0x5c687f[_0x3234a4(0xaa0)][_0x3234a4(0x9e0)]),_0x5c687f[_0x3234a4(0x2e8)]['maxDepth'],_0x5c687f[_0x3234a4(0x2e8)]['contentSize']);let _0x5c6289=[];for(const _0x4c6531 in _0x4b9395){const _0x283f2a=_0x4b9395[_0x4c6531];for(const _0x5301c8 of _0x283f2a){let _0x1fac99=0x0;if(_0x5c687f[_0x3234a4(0xaa0)][_0x3234a4(0x5db)]&&(_0x1fac99=await _0x38348e[_0x3234a4(0x930)][_0x3234a4(0x9e2)](_0x5c687f['accumulated'][_0x3234a4(0x5db)],_0x5301c8)),_0x5c687f[_0x3234a4(0xaa0)][_0x3234a4(0xbc9)]){for(const _0x1995c0 of _0x5c687f[_0x3234a4(0xaa0)][_0x3234a4(0xbc9)])_0x1fac99=Math[_0x3234a4(0xa30)](_0x1fac99,await _0x38348e[_0x3234a4(0x930)][_0x3234a4(0x9e2)](_0x1995c0[_0x3234a4(0x26d)],_0x5301c8));}_0x1fac99<_0x5c687f[_0x3234a4(0x2e8)]['minRelevance']||_0x5c6289[_0x3234a4(0x604)]({'content':_0x5301c8,'relevance':_0x1fac99,'pathName':_0x4c6531});}}_0x5c6289=_0x5c6289[_0x3234a4(0x939)]((_0x1d0daa,_0x3ec0d6)=>_0x3ec0d6[_0x3234a4(0x626)]-_0x1d0daa[_0x3234a4(0x626)])['slice'](0x0,_0x5c687f[_0x3234a4(0x2e8)]['topK']),await _0x40fab9[_0x3234a4(0x85a)]({'jobType':_0x3e2f29['Retrieve'],'type':_0x25d2be[_0x3234a4(0x288)],'jobId':_0x3ef106,'threadId':_0x192e35,'blockId':_0x5c687f['id'],'traceLevel':_0x584638['Debug'],'timestamp':Date[_0x3234a4(0x3a1)](),'startTime':_0x37036b,'status':_0x3234a4(0x683),'content':_0x522eca,'topResults':_0x5c6289,'numResults':_0x5c6289[_0x3234a4(0x830)]}),await _0x177005(_0x4abdda,_0x3ef106,_0x192e35,_0x5c6289,_0x207229,_0x5c687f,_0x3c04c3,_0x38348e);}async function _0x69adaa(_0x517ee0,_0x4e80ad,_0x48429e,_0x858424,_0x1e1f3d,_0x378f6a,_0x4c7a6b,_0x49aef3){const _0x10187e=_0x273dd2,_0x2b82af=_0x49aef3[_0x10187e(0x384)]['find'](_0x458185=>_0x458185['id']===_0x378f6a['id']);if(!_0x2b82af)throw new Error('Model\x20not\x20found');let _0x82a3a9='';switch(_0x82a3a9=_0x858424 instanceof Array?_0x858424[_0x10187e(0xb48)](_0x3b2a3a=>_0x3b2a3a[_0x10187e(0x26d)])[_0x10187e(0x98e)](',\x20'):_0x858424,_0x2b82af[_0x10187e(0x333)]){case _0x2a74a6[_0x10187e(0x2c3)][_0x10187e(0x25f)]:await async function(_0x34495b,_0x35ffa2,_0x17ff6f,_0x201328,_0x1b8855,_0x3f2097,_0x4824bb,_0x2eaca4,_0x2b5a3f){const _0x1f3cca=_0x10187e,_0x3ef9d1=Date[_0x1f3cca(0x3a1)](),_0x325433=await fetch(_0x495699[_0x1f3cca(0x4b7)]+_0x1f3cca(0x7bb),{'method':_0x1f3cca(0x26c),'headers':{'Content-Type':_0x1f3cca(0x699),'x-vendor-id':_0x34495b},'body':JSON['stringify']({'messages':[{'role':_0x1f3cca(0x7fb),'content':_0x201328}],'model':_0x3f2097['id']})}),_0x485860=(await _0x325433[_0x1f3cca(0xb41)]())[_0x1f3cca(0x90a)][0x0]['message'][_0x1f3cca(0x26d)];await _0x40fab9[_0x1f3cca(0x85a)]({'jobType':_0x3e2f29[_0x1f3cca(0x351)],'type':_0x25d2be[_0x1f3cca(0x649)],'jobId':_0x35ffa2,'threadId':_0x17ff6f,'blockId':_0x4824bb['id'],'traceLevel':_0x584638[_0x1f3cca(0xc1e)],'startTime':_0x3ef9d1,'timestamp':Date[_0x1f3cca(0x3a1)](),'status':_0x1f3cca(0x683),'modelName':_0x3f2097['id'],'content':_0x201328,'newPrompt':_0x485860,'inputType':_0x3f2097['inputType'],'outputType':_0x3f2097[_0x1f3cca(0x333)]}),await _0x177005(_0x34495b,_0x35ffa2,_0x17ff6f,_0x485860,_0x1b8855,_0x4824bb,_0x2eaca4,_0x2b5a3f);}(_0x517ee0,_0x4e80ad,_0x48429e,_0x82a3a9,_0x1e1f3d,_0x2b82af,_0x378f6a,_0x4c7a6b,_0x49aef3);break;case _0x2a74a6['GenerativeAIModelOutputType'][_0x10187e(0x3ee)]:await async function(_0x4414c3,_0x216d87,_0x44d95f,_0x30badd,_0x1a8834,_0x17b451,_0x5a2f15,_0x198e7a,_0x5cb83c){const _0x5223bd=_0x10187e,_0x4facda=Date[_0x5223bd(0x3a1)](),_0x24cb55=await fetch(_0x495699['apiUrl']+_0x5223bd(0xa31),{'method':'POST','headers':{'Content-Type':_0x5223bd(0x699),'x-vendor-id':_0x4414c3},'body':JSON[_0x5223bd(0xa5e)]({'input':_0x30badd,'model':_0x17b451['id']})}),_0x6e8cce=(await _0x24cb55[_0x5223bd(0xb41)]())[_0x5223bd(0x9b6)][0x0]['embedding'];await _0x40fab9[_0x5223bd(0x85a)]({'jobType':_0x3e2f29[_0x5223bd(0x351)],'type':_0x25d2be['ModelVector'],'jobId':_0x216d87,'threadId':_0x44d95f,'blockId':_0x5a2f15['id'],'traceLevel':_0x584638[_0x5223bd(0xc1e)],'startTime':_0x4facda,'timestamp':Date[_0x5223bd(0x3a1)](),'status':_0x5223bd(0x683),'modelName':_0x17b451['id'],'content':_0x30badd,'totalVectors':_0x6e8cce[_0x5223bd(0x830)]}),await _0x177005(_0x4414c3,_0x216d87,_0x44d95f,_0x6e8cce,_0x1a8834,_0x5a2f15,_0x198e7a,_0x5cb83c);}(_0x517ee0,_0x4e80ad,_0x48429e,_0x82a3a9,_0x1e1f3d,_0x2b82af,_0x378f6a,_0x4c7a6b,_0x49aef3);}}async function _0x3f8340(_0x2aad69,_0xfa1544,_0x4cbec1,_0x519690,_0x52a17a,_0x48e664,_0x1db677,_0x26e0d1){const _0x50ac81=_0x273dd2,_0x3d7f2f=Date[_0x50ac81(0x3a1)]();if(_0x48e664[_0x50ac81(0xaa0)]||(_0x48e664[_0x50ac81(0xaa0)]={}),_0x519690 instanceof Array?(_0x48e664[_0x50ac81(0xaa0)]['results']||(_0x48e664[_0x50ac81(0xaa0)][_0x50ac81(0xbc9)]=[]),_0x48e664[_0x50ac81(0xaa0)][_0x50ac81(0xbc9)][_0x50ac81(0x604)](..._0x519690)):_0x48e664[_0x50ac81(0xaa0)][_0x50ac81(0x5db)]=_0x519690,_0x48e664['timesCalled']=_0x48e664[_0x50ac81(0xa23)]?_0x48e664[_0x50ac81(0xa23)]+0x1:0x1,_0x326869(_0x48e664,_0x1db677[_0x50ac81(0xb0c)])>_0x48e664[_0x50ac81(0xa23)])return;if(!_0x48e664[_0x50ac81(0xaa0)][_0x50ac81(0x5db)]||!_0x48e664[_0x50ac81(0xaa0)][_0x50ac81(0xbc9)])throw new Error(_0x50ac81(0x2bf));for(const _0x228b20 of _0x48e664[_0x50ac81(0xaa0)][_0x50ac81(0xbc9)])_0x228b20['relevance']=await _0x26e0d1['nlpLibraryConnector'][_0x50ac81(0x9e2)](_0x48e664['accumulated']['prompt'],_0x228b20[_0x50ac81(0x26d)]);const _0x9a7c14=_0x48e664[_0x50ac81(0xaa0)][_0x50ac81(0xbc9)][_0x50ac81(0x57c)](_0x2ff8e2=>_0x2ff8e2[_0x50ac81(0x626)]>_0x48e664['attributes'][_0x50ac81(0x881)])[_0x50ac81(0x939)]((_0x44395f,_0x3836e2)=>_0x3836e2[_0x50ac81(0x626)]-_0x44395f['relevance'])['slice'](0x0,_0x48e664[_0x50ac81(0x2e8)][_0x50ac81(0xbd0)]);await _0x40fab9['trace']({'jobType':_0x3e2f29['Retrieve'],'type':_0x25d2be['Reranker'],'jobId':_0xfa1544,'threadId':_0x4cbec1,'blockId':_0x48e664['id'],'traceLevel':_0x584638[_0x50ac81(0xc1e)],'startTime':_0x3d7f2f,'timestamp':Date[_0x50ac81(0x3a1)](),'status':_0x50ac81(0x683),'inputResults':_0x48e664[_0x50ac81(0xaa0)]['results'],'rerankedResults':_0x9a7c14}),await _0x177005(_0x2aad69,_0xfa1544,_0x4cbec1,_0x9a7c14,_0x52a17a,_0x48e664,_0x1db677,_0x26e0d1);}async function _0x448769(_0x1c596b,_0xc22ed,_0xc90470,_0x4dc8b5,_0x22e4c6,_0x1d0125,_0x127384,_0x36bb7b){const _0xb97898=_0x273dd2,_0x1730c3=Date[_0xb97898(0x3a1)]();if(_0x1d0125[_0xb97898(0xaa0)]||(_0x1d0125[_0xb97898(0xaa0)]={}),_0x4dc8b5 instanceof Array?_0x1d0125[_0xb97898(0xaa0)][_0xb97898(0xa4e)]=_0x4dc8b5:_0x1d0125['accumulated'][_0xb97898(0x26d)]=_0x4dc8b5,_0x1d0125[_0xb97898(0xa23)]=_0x1d0125[_0xb97898(0xa23)]?_0x1d0125['timesCalled']+0x1:0x1,!(_0x326869(_0x1d0125,_0x127384[_0xb97898(0xb0c)])>_0x1d0125['timesCalled'])){if(_0xb97898(0x9b5)===_0x1d0125['id']){if(!_0x1d0125[_0xb97898(0xaa0)][_0xb97898(0xa4e)])throw new Error(_0xb97898(0x598));if(!_0x36bb7b[_0xb97898(0x98f)])throw new Error(_0xb97898(0x5c0));const _0x13db3c=_0x1e3016(_0x1c596b,_0x127384);let _0x20c57f=await _0x36bb7b[_0xb97898(0x98f)]?.[_0xb97898(0x8d9)](_0x13db3c,_0x127384['id'],_0x1d0125[_0xb97898(0xaa0)][_0xb97898(0xa4e)],_0x1d0125['attributes'][_0xb97898(0xbd0)]);_0x20c57f=_0x20c57f['filter'](_0x5c0754=>_0x5c0754[_0xb97898(0x626)]>_0x1d0125['attributes'][_0xb97898(0x881)])||[];const _0x1d752d=[];for(const _0x1b906b of _0x20c57f){if(!_0x36bb7b[_0xb97898(0x95e)])throw new Error(_0xb97898(0x847));if(void 0x0===_0x1b906b[_0xb97898(0xa8f)]||void 0x0===_0x1b906b[_0xb97898(0x830)])throw new Error(_0xb97898(0x95f));const _0x1184c9=await _0x36bb7b[_0xb97898(0x95e)][_0xb97898(0x266)](_0x1b906b['pathName']);let _0x5f38f5='';if(_0x1184c9['type'][_0xb97898(0xb97)](_0xb97898(0x624))||_0x15951b(_0x1184c9[_0xb97898(0xa7b)],_0x5794fb))_0x5f38f5=await _0x1184c9[_0xb97898(0x4e4)]();else{if(!_0x36bb7b[_0xb97898(0x6cb)][_0xb97898(0xb4d)](_0x1184c9))throw new Error(_0xb97898(0x912)+_0x1184c9[_0xb97898(0x6b9)]+'\x20-\x20'+_0x1184c9[_0xb97898(0xa7b)]);_0x5f38f5=await _0x36bb7b['documentParserConnector'][_0xb97898(0xba5)](_0x1184c9);}_0x1d752d['push']({'pathName':_0x1b906b[_0xb97898(0x6c7)],'content':_0x5f38f5[_0xb97898(0x98b)](_0x1b906b[_0xb97898(0xa8f)],_0x1b906b['start']+_0x1b906b[_0xb97898(0x830)]),'relevance':_0x1b906b['relevance']});}await _0x177005(_0x1c596b,_0xc22ed,_0xc90470,_0x1d752d,_0x22e4c6,_0x1d0125,_0x127384,_0x36bb7b);}else{if(!_0x1d0125[_0xb97898(0xaa0)]['vector']||!_0x1d0125[_0xb97898(0xaa0)][_0xb97898(0x26d)])throw new Error(_0xb97898(0x598));const _0x67f47b=await _0x36bb7b[_0xb97898(0x930)][_0xb97898(0x634)](_0x1d0125[_0xb97898(0xaa0)]['content'],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x11bd03=_0x36bb7b[_0xb97898(0x525)]['getVectorDatabase'](_0x1d0125['id'])[_0xb97898(0x2bc)](_0x67f47b,_0x1d0125[_0xb97898(0xaa0)]['vector'],_0x1d0125[_0xb97898(0x2e8)][_0xb97898(0xbd0)],_0x1d0125[_0xb97898(0x2e8)][_0xb97898(0x881)],_0x1d0125[_0xb97898(0x2e8)][_0xb97898(0x815)]);await _0x40fab9[_0xb97898(0x85a)]({'jobType':_0x3e2f29[_0xb97898(0x351)],'type':_0x25d2be[_0xb97898(0x8f6)],'jobId':_0xc22ed,'threadId':_0xc90470,'blockId':_0x1d0125['id'],'traceLevel':_0x584638['Debug'],'startTime':_0x1730c3,'timestamp':Date[_0xb97898(0x3a1)](),'status':'success','topResults':_0x11bd03,'numResults':_0x11bd03[_0xb97898(0x830)]}),await _0x177005(_0x1c596b,_0xc22ed,_0xc90470,_0x11bd03,_0x22e4c6,_0x1d0125,_0x127384,_0x36bb7b);}}}async function _0x177005(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0xc28486,_0x5cae70,_0x37ed0f){const _0x3d23f1=_0x273dd2;for(const _0x56d4ae of _0xc28486[_0x3d23f1(0x4a9)]||[]){const _0x465312=_0x5cae70[_0x3d23f1(0xb0c)][_0x3d23f1(0x77e)](_0x3b51b5=>_0x3b51b5[_0x3d23f1(0xa24)]===_0x56d4ae['uid']);if(_0x465312)switch(_0x465312[_0x3d23f1(0x6b9)]){case _0x430aa5[_0x3d23f1(0x33c)]:_0x56d4ae[_0x3d23f1(0x6b9)]===_0x24d3ee[_0x3d23f1(0x213)]&&_0x28b684 instanceof Array&&_0x4266fb[_0x3d23f1(0x442)][_0x3d23f1(0x604)](..._0x28b684);break;case _0x430aa5['Embed']:if(_0x56d4ae[_0x3d23f1(0x6b9)]===_0x24d3ee[_0x3d23f1(0x25f)]&&_0x3d23f1(0x563)==typeof _0x28b684){if(!_0x5cae70[_0x3d23f1(0x477)])throw new Error(_0x3d23f1(0x7a4));const _0x2e6927={'type':_0x430aa5[_0x3d23f1(0xbc1)],'id':_0x5cae70[_0x3d23f1(0x477)],'uid':(0x0,_0x5d1d4c['v4'])(),'links':_0x465312[_0x3d23f1(0x4a9)]};await _0x69adaa(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x2e6927,_0x5cae70,_0x37ed0f);}break;case _0x430aa5[_0x3d23f1(0x505)]:_0x56d4ae[_0x3d23f1(0x6b9)]===_0x24d3ee[_0x3d23f1(0x25f)]&&_0x3d23f1(0x563)==typeof _0x28b684&&await _0x2889f3(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x465312,_0x5cae70,_0x37ed0f),_0x56d4ae[_0x3d23f1(0x6b9)]===_0x24d3ee['Search']&&_0x28b684 instanceof Array&&await _0x2889f3(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x465312,_0x5cae70,_0x37ed0f);break;case _0x430aa5['GraphDatabase']:_0x56d4ae[_0x3d23f1(0x6b9)]===_0x24d3ee[_0x3d23f1(0x25f)]&&_0x3d23f1(0x563)==typeof _0x28b684&&await _0xbe3be7(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x465312,_0x5cae70,_0x37ed0f),_0x56d4ae[_0x3d23f1(0x6b9)]===_0x24d3ee[_0x3d23f1(0x213)]&&_0x28b684 instanceof Array&&await _0xbe3be7(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x465312,_0x5cae70,_0x37ed0f),_0x56d4ae['type']===_0x24d3ee[_0x3d23f1(0x2b9)]&&_0x28b684 instanceof Set&&await _0xbe3be7(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x465312,_0x5cae70,_0x37ed0f);break;case _0x430aa5['Model']:_0x56d4ae[_0x3d23f1(0x6b9)]===_0x24d3ee[_0x3d23f1(0x25f)]&&_0x3d23f1(0x563)==typeof _0x28b684&&await _0x69adaa(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x465312,_0x5cae70,_0x37ed0f),_0x56d4ae[_0x3d23f1(0x6b9)]===_0x24d3ee[_0x3d23f1(0x213)]&&_0x28b684 instanceof Array&&await _0x69adaa(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x465312,_0x5cae70,_0x37ed0f);break;case _0x430aa5[_0x3d23f1(0x4ef)]:_0x56d4ae[_0x3d23f1(0x6b9)]===_0x24d3ee[_0x3d23f1(0x25f)]&&_0x3d23f1(0x563)==typeof _0x28b684&&await _0x3f8340(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x465312,_0x5cae70,_0x37ed0f),_0x56d4ae['type']===_0x24d3ee['Search']&&_0x28b684 instanceof Array&&await _0x3f8340(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x465312,_0x5cae70,_0x37ed0f);break;case _0x430aa5[_0x3d23f1(0xb15)]:_0x56d4ae[_0x3d23f1(0x6b9)]===_0x24d3ee[_0x3d23f1(0x25f)]&&_0x3d23f1(0x563)==typeof _0x28b684&&await _0x448769(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x465312,_0x5cae70,_0x37ed0f),_0x56d4ae['type']===_0x24d3ee[_0x3d23f1(0x3ee)]&&_0x28b684 instanceof Array&&await _0x448769(_0x3e3648,_0x3ab63b,_0x2af60c,_0x28b684,_0x4266fb,_0x465312,_0x5cae70,_0x37ed0f);}}}function _0x326869(_0x208fbd,_0x2ae53d){const _0x32a76d=_0x273dd2;return _0x2ae53d['filter'](_0x28d14b=>_0x28d14b['links']?.['some'](_0x6159a0=>_0x6159a0['uid']===_0x208fbd[_0x32a76d(0xa24)]))[_0x32a76d(0x830)];}async function _0x26536c(_0x82acf2,_0x5f28c5,_0x357045,_0x5666c0,_0x48f96c,_0x4bb728,_0x256558){const _0x49a75b=_0x273dd2,_0x33e366={'type':_0x49a75b(0x5db),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0xc2ba5f;await _0x177005(_0x82acf2,_0x5f28c5,_0x357045,_0x5666c0,_0x33e366,_0x48f96c,structuredClone(_0x4bb728),_0x256558),_0x33e366[_0x49a75b(0x442)][_0x49a75b(0x97e)]((_0x3398dd,_0x56f0ea)=>_0x3398dd+_0x56f0ea[_0x49a75b(0x26d)]['length'],0x0)>_0x84b56f&&(_0xc2ba5f=Math[_0x49a75b(0x4ad)](_0x84b56f/_0x33e366[_0x49a75b(0x442)][_0x49a75b(0x830)])),_0x33e366['output']='Additional\x20context:\x0a'+_0x33e366['context']['map'](_0x340e5a=>_0x49a75b(0x3e1)+_0x340e5a['pathName']+':\x20'+_0x340e5a[_0x49a75b(0x26d)][_0x49a75b(0x98b)](0x0,_0xc2ba5f))[_0x49a75b(0x98e)]('\x0a');}catch(_0x405c4e){console[_0x49a75b(0x5c5)](_0x49a75b(0x790),_0x405c4e);}return _0x33e366;}class _0x2c3323 extends _0x4b716a{[_0x273dd2(0x525)];[_0x273dd2(0x417)];[_0x273dd2(0xbee)];[_0x273dd2(0x95e)];[_0x273dd2(0x6cb)];['fileConnector'];['nlpLibraryConnector'];['searchConnector'];[_0x273dd2(0x93e)];[_0x273dd2(0x4bd)];['ragConnectors'];[_0x273dd2(0x3a2)];[_0x273dd2(0x5d6)]=new Map();[_0x273dd2(0x384)]=_0x664954;['debounceStats'];[_0x273dd2(0xb1c)]=0x0;['tokens']=0x0;[_0x273dd2(0x7ec)]=!0x1;constructor(_0x362538,_0x458bed,_0x3c051e,_0x516b2d,_0x4e4df4,_0x35b0f6,_0x2219db,_0x782345,_0x57ecf5,_0x53b608,_0x4b7a7e,_0xe35890,_0x27d828,_0x56b04d,_0x5b802f){const _0x1db541=_0x273dd2;super(_0x362538,_0x458bed,_0x3c051e),this[_0x1db541(0x525)]=_0x516b2d,this[_0x1db541(0x417)]=_0x4e4df4,this[_0x1db541(0xbee)]=_0x35b0f6,this['objectStoreConnector']=_0x2219db,this[_0x1db541(0x6cb)]=_0x782345,this[_0x1db541(0xa74)]=_0x57ecf5,this['nlpLibraryConnector']=_0x53b608,this[_0x1db541(0x371)]=_0x4b7a7e,this[_0x1db541(0x93e)]=_0xe35890,this[_0x1db541(0x4bd)]=_0x27d828,this[_0x1db541(0x534)]=_0x56b04d,this[_0x1db541(0x3a2)]=_0x5b802f;}async[_0x273dd2(0x553)](){const _0x33a41f=_0x273dd2;for(const _0x2876aa of this['generativeAIWorkerConnectors'])await _0x2876aa[_0x33a41f(0x210)]();this['dataStores'][_0x33a41f(0xb9b)](_0x3e5c5c=>_0x3e5c5c[_0x33a41f(0xbf5)](this['label'])),this[_0x33a41f(0x9a2)]&&(clearTimeout(this[_0x33a41f(0x9a2)]),delete this['debounceStats']),super['destroy']();}async['open'](_0x1cd017=!0x1){const _0x2d857d=_0x273dd2;if(this[_0x2d857d(0x7ec)])super['open']();else{_0x58cca5['forceLog']('GenerativeAIWorker:\x20Opening',this[_0x2d857d(0x51b)]);try{for(const _0x3b0260 of this[_0x2d857d(0x417)])await _0x3b0260[_0x2d857d(0xaf5)](this[_0x2d857d(0x51b)],this[_0x2d857d(0x384)]);}catch(_0x50d7d0){return this[_0x2d857d(0x485)](_0x1cd017);}this[_0x2d857d(0x7ec)]=!0x0,this[_0x2d857d(0x844)](),super[_0x2d857d(0x485)](),_0x58cca5[_0x2d857d(0x866)]('GenerativeAIWorker:\x20Opened',this['label']);}}['reset'](){const _0x52b7ea=_0x273dd2;this['prompts']=0x0,this[_0x52b7ea(0x35e)]=0x0,this[_0x52b7ea(0x844)](),super[_0x52b7ea(0x3da)]();}[_0x273dd2(0xa21)](){const _0x2d9150=_0x273dd2;return this[_0x2d9150(0x844)](),this[_0x2d9150(0x2d7)]();}[_0x273dd2(0x278)](_0x3da1e5,_0x5c106e,_0x355a66){const _0x46ccb1=_0x273dd2,{outputTokens:_0x4fea5c=0x0,output:_0x3decac=''}=_0x3da1e5,_0x33ac2a=_0x4fea5c/((_0x355a66-_0x5c106e)/0x3e8);this[_0x46ccb1(0xb1c)]+=0x1,this['tokens']+=_0x4fea5c,this[_0x46ccb1(0x7ea)](_0x33ac2a,_0x4fea5c),this['sendStats']();}[_0x273dd2(0x3ae)](_0x373d4b,_0x180309){const _0x204924=_0x273dd2;return _0x373d4b[_0x204924(0x27f)]=_0x373d4b[_0x204924(0x27f)]??'',{'type':'prompt','output':'string'==typeof _0x373d4b[_0x204924(0x27f)]&&_0x204924(0x563)==typeof _0x180309['output']?_0x373d4b[_0x204924(0x27f)]+_0x180309[_0x204924(0x27f)]:_0x180309['output'],'outputTokens':_0x180309['outputTokens']??_0x373d4b[_0x204924(0x7d6)],'inputTokens':_0x180309['inputTokens']??_0x373d4b['inputTokens']};}async['internalProcessJob'](_0x8e74f9,_0x42df32){const _0x5aa0d7=_0x273dd2;if('prompt'===_0x42df32[_0x5aa0d7(0x6b9)]){const _0x553998=await _0x3fff33['getWorkflow'](_0x42df32[_0x5aa0d7(0x300)],_0x42df32[_0x5aa0d7(0x27e)]),_0x377192=_0x553998[_0x5aa0d7(0x4b3)][_0x5aa0d7(0x77e)](_0x3c9405=>_0x3c9405[_0x5aa0d7(0x6b9)]===_0x3b8538[_0x5aa0d7(0x9d8)]||_0x3c9405[_0x5aa0d7(0x6b9)]===_0x3b8538['InputStream']);return await _0x3abe30(_0x42df32[_0x5aa0d7(0x99e)]??_0x8e74f9,_0x42df32,_0x377192,_0x553998[_0x5aa0d7(0x4b3)],{'documentParserConnector':this[_0x5aa0d7(0x6cb)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x5aa0d7(0x930)],'generativeAIWorkerConnectors':this[_0x5aa0d7(0x417)],'models':Array[_0x5aa0d7(0x668)](this[_0x5aa0d7(0x384)][_0x5aa0d7(0x2e7)]()),'contentMediator':this[_0x5aa0d7(0x525)],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x5aa0d7(0x4bd)]});}if('embed'===_0x42df32[_0x5aa0d7(0x6b9)])return await _0x4ccc95(_0x42df32,{'documentParserConnector':this[_0x5aa0d7(0x6cb)],'fileConnector':this[_0x5aa0d7(0xa74)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x5aa0d7(0x417)],'models':Array[_0x5aa0d7(0x668)](this['models'][_0x5aa0d7(0x2e7)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x5aa0d7(0x371)],'aiSearchConnector':this[_0x5aa0d7(0x93e)],'queryFileConnector':this[_0x5aa0d7(0x4bd)]});if(_0x5aa0d7(0x2a2)===_0x42df32[_0x5aa0d7(0x6b9)])return await _0x5f4042(_0x42df32['jobId']??_0x8e74f9,_0x42df32,{'documentParserConnector':this[_0x5aa0d7(0x6cb)],'fileConnector':this[_0x5aa0d7(0xa74)],'nlpLibraryConnector':this[_0x5aa0d7(0x930)],'generativeAIWorkerConnectors':this[_0x5aa0d7(0x417)],'models':Array['from'](this[_0x5aa0d7(0x384)][_0x5aa0d7(0x2e7)]()),'contentMediator':this[_0x5aa0d7(0x525)],'searchConnector':this[_0x5aa0d7(0x371)],'aiSearchConnector':this[_0x5aa0d7(0x93e)],'queryFileConnector':this[_0x5aa0d7(0x4bd)]});if(_0x5aa0d7(0x964)===_0x42df32[_0x5aa0d7(0x6b9)])return await _0x40fab9[_0x5aa0d7(0x85a)]({'jobType':_0x3e2f29[_0x5aa0d7(0x369)],'type':_0x355af3['PromptRating'],'jobId':_0x42df32[_0x5aa0d7(0x99e)],'threadId':_0x42df32[_0x5aa0d7(0x9bd)],'traceLevel':_0x584638[_0x5aa0d7(0xbf7)],'startTime':Date[_0x5aa0d7(0x3a1)](),'timestamp':Date[_0x5aa0d7(0x3a1)](),'status':'success','rating':_0x42df32[_0x5aa0d7(0xb2d)],'feedback':_0x42df32['feedback']}),{'type':_0x5aa0d7(0x964),'status':_0x2a74a6[_0x5aa0d7(0x52c)][_0x5aa0d7(0x90c)]};if(_0x5aa0d7(0x5e4)===_0x42df32[_0x5aa0d7(0x6b9)])return await _0x5c1848(_0x42df32,{'documentParserConnector':this[_0x5aa0d7(0x6cb)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x5aa0d7(0x930)],'generativeAIWorkerConnectors':this[_0x5aa0d7(0x417)],'models':Array['from'](this[_0x5aa0d7(0x384)][_0x5aa0d7(0x2e7)]()),'contentMediator':this[_0x5aa0d7(0x525)],'searchConnector':this[_0x5aa0d7(0x371)],'aiSearchConnector':this[_0x5aa0d7(0x93e)],'queryFileConnector':this[_0x5aa0d7(0x4bd)]});if(_0x5aa0d7(0x4f2)===_0x42df32[_0x5aa0d7(0x6b9)]){const _0x159aea=_0x664954['get'](_0x42df32[_0x5aa0d7(0x635)]);if(!_0x159aea)throw new Error(_0x5aa0d7(0x2a4));const _0x3ec9f0=this[_0x5aa0d7(0xbee)][_0x5aa0d7(0x77e)](_0x19170b=>_0x19170b['getEngineType']()===_0x159aea[_0x5aa0d7(0x296)]);if(!_0x3ec9f0)throw new Error('No\x20speech\x20connector\x20available');return{'type':_0x5aa0d7(0x4f2),'audio':await _0x3ec9f0['speak'](_0x42df32['model'],_0x42df32[_0x5aa0d7(0x4e4)],_0x42df32['voice'],_0x42df32['instructions'])};}if(_0x5aa0d7(0x437)===_0x42df32[_0x5aa0d7(0x6b9)]){const _0x1bff00=await _0x3fff33['getWorkflow'](_0x42df32['vendorId'],_0x42df32['workflowId']),_0x13e688=_0x1bff00[_0x5aa0d7(0x4b3)][_0x5aa0d7(0x77e)](_0xe3c2a=>_0xe3c2a[_0x5aa0d7(0x6b9)]===_0x3b8538['InputStream']),_0x468078=_0x13e688[_0x5aa0d7(0x4a9)]?.[_0x5aa0d7(0x77e)](_0x1fb2af=>_0x1fb2af[_0x5aa0d7(0x6b9)]===_0x24d3ee['Audio']),_0x4da265=_0x1bff00[_0x5aa0d7(0x4b3)][_0x5aa0d7(0x77e)](_0x159f8e=>_0x159f8e[_0x5aa0d7(0x6b9)]===_0x3b8538[_0x5aa0d7(0x207)]&&_0x159f8e['uid']===_0x468078[_0x5aa0d7(0xa24)]),_0x23728f=_0x664954['get'](_0x4da265[_0x5aa0d7(0x477)]),_0x2d12f8=_0x1bff00[_0x5aa0d7(0x4b3)][_0x5aa0d7(0x57c)](_0x16b27f=>_0x16b27f[_0x5aa0d7(0x4a9)]?.[_0x5aa0d7(0x323)](_0x590afe=>_0x590afe[_0x5aa0d7(0x6b9)]===_0x24d3ee[_0x5aa0d7(0x8fc)]&&_0x590afe[_0x5aa0d7(0xa24)]===_0x4da265[_0x5aa0d7(0xa24)]))[_0x5aa0d7(0x20b)](_0x5b1849=>_0x128850(_0x5b1849,_0x1bff00[_0x5aa0d7(0x4b3)])),_0x27ad3e=_0x1bff00['blocks'][_0x5aa0d7(0x77e)](_0x19f918=>_0x19f918[_0x5aa0d7(0x6b9)]===_0x3b8538['OutputStream']),_0x19fda6=_0x1bff00[_0x5aa0d7(0x4b3)][_0x5aa0d7(0x77e)](_0x56712f=>_0x56712f['type']===_0x3b8538[_0x5aa0d7(0x207)]&&_0x56712f[_0x5aa0d7(0x4a9)]?.[_0x5aa0d7(0x323)](_0x2d40f6=>_0x2d40f6[_0x5aa0d7(0x6b9)]===_0x24d3ee[_0x5aa0d7(0x766)]&&_0x2d40f6[_0x5aa0d7(0xa24)]===_0x27ad3e['uid'])),_0x4eb686=_0x1bff00[_0x5aa0d7(0x4b3)]['find'](_0x535dec=>_0x535dec[_0x5aa0d7(0x6b9)]===_0x3b8538[_0x5aa0d7(0x207)]&&_0x535dec[_0x5aa0d7(0xa24)]===_0x19fda6[_0x5aa0d7(0xa24)]),_0x53889d=_0x664954[_0x5aa0d7(0x266)](_0x4eb686[_0x5aa0d7(0x477)]);return{'type':_0x5aa0d7(0x437),'apiKey':this[_0x5aa0d7(0x3a2)],'sessionType':_0x23728f[_0x5aa0d7(0x48a)]===_0x2a74a6[_0x5aa0d7(0x92f)][_0x5aa0d7(0x46f)]?_0x5aa0d7(0x672):_0x5aa0d7(0x771),'firstAgent':{'modelId':_0x4da265[_0x5aa0d7(0x477)],'taskType':_0x23728f[_0x5aa0d7(0x48a)],'instructions':_0x4da265[_0x5aa0d7(0x875)],'temperature':_0x4da265[_0x5aa0d7(0xc21)],'maxTokens':_0x4da265['maxTokens'],'initialPrompt':_0x1bff00[_0x5aa0d7(0xb55)],'tools':_0x2d12f8[_0x5aa0d7(0xb48)](_0x3aecbc=>({..._0x3aecbc,'name':this['getToolName'](_0x3aecbc),'description':this['getToolDescription'](_0x3aecbc),'parameters':this[_0x5aa0d7(0x784)](_0x3aecbc)}))},'lastAgent':{'modelId':_0x4eb686[_0x5aa0d7(0x477)],'taskType':_0x53889d[_0x5aa0d7(0x48a)],'instructions':_0x4eb686[_0x5aa0d7(0x875)],'initialPrompt':_0x1bff00['initialPrompt']}};}if(_0x5aa0d7(0x91a)===_0x42df32[_0x5aa0d7(0x6b9)]){const {vendorId:_0x2eea52,collectionId:_0x1c3d39,fileId:_0x637002}=_0x42df32,_0x19c302=await _0x3fff33[_0x5aa0d7(0x5d2)](_0x2eea52,_0x1c3d39),_0x3e8c7f=this[_0x5aa0d7(0x534)]?.[_0x5aa0d7(0x266)](_0x19c302['storageType']);if(!_0x3e8c7f)throw new Error(_0x5aa0d7(0x394));const _0x5ae9ad=_0x1e3016(_0x2eea52,_0x19c302);if(_0x19c302[_0x5aa0d7(0x6f6)]===_0x2a74a6[_0x5aa0d7(0x96c)][_0x5aa0d7(0xbbc)])try{await _0x3e8c7f[_0x5aa0d7(0x705)](_0x5ae9ad,_0x1c3d39,'/'+_0x2eea52+'/'+_0x1c3d39+'/'+_0x637002),await this[_0x5aa0d7(0x95e)][_0x5aa0d7(0x57e)]('/'+_0x2eea52+'/'+_0x1c3d39+'/'+_0x637002);}catch(_0x25c633){_0x58cca5[_0x5aa0d7(0x5c5)](_0x5aa0d7(0x4a4),_0x25c633);}else try{await _0x3e8c7f['deleteFile'](_0x5ae9ad,_0x1c3d39,_0x637002);}catch(_0x3574a2){_0x58cca5[_0x5aa0d7(0x5c5)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x3574a2);}return{'type':'file-delete'};}if(_0x5aa0d7(0x2c2)===_0x42df32[_0x5aa0d7(0x6b9)]){let _0x6a2caf;const _0x110174=this[_0x5aa0d7(0x5d6)]['keys']();for(;!_0x6a2caf;){const _0x2f2eac=_0x110174[_0x5aa0d7(0x4ba)]()[_0x5aa0d7(0x22e)];if(!_0x2f2eac)throw new Error(_0x5aa0d7(0x2a0));_0x6a2caf=this[_0x5aa0d7(0x5d6)]['get'](_0x2f2eac);try{const _0x5102a4=await _0x6a2caf[_0x5aa0d7(0x266)](_0x42df32[_0x5aa0d7(0x79d)]);return{'type':_0x5aa0d7(0x2c2),'fileName':_0x5102a4[_0x5aa0d7(0xa7b)],'mimeType':_0x5102a4[_0x5aa0d7(0x6b9)],'document':await _0x5102a4[_0x5aa0d7(0x511)]()};}catch(_0x24d974){continue;}}throw new Error(_0x5aa0d7(0x2a0));}if(_0x5aa0d7(0x88d)===_0x42df32[_0x5aa0d7(0x6b9)]){const {vendorId:_0x4e37a1,collectionId:_0x30cdf4,fileName:_0xc75067,content:_0xc56cc}=_0x42df32,_0x3ed54c=await _0x3fff33[_0x5aa0d7(0x5d2)](_0x4e37a1,_0x30cdf4);if(_0x3ed54c[_0x5aa0d7(0x6f6)]!==_0x2a74a6['GenerativeAIRagType'][_0x5aa0d7(0xbbc)]){const _0x3c026c=this[_0x5aa0d7(0x534)]?.[_0x5aa0d7(0x266)](_0x3ed54c[_0x5aa0d7(0x6f6)]);if(!_0x3c026c)throw new Error(_0x5aa0d7(0x394));const _0x186f82=_0x1e3016(_0x4e37a1,_0x3ed54c);return await _0x3c026c[_0x5aa0d7(0xb38)](_0x186f82,_0x30cdf4,_0xc75067,_0xc56cc),{'type':_0x5aa0d7(0x88d)};}const _0x572af1=_0x3ed54c[_0x5aa0d7(0x55f)]?.['find'](_0x4bca86=>_0x4bca86[_0x5aa0d7(0x6b9)]===_0x430aa5[_0x5aa0d7(0x50e)]);if(!_0x572af1)throw new Error(_0x5aa0d7(0x7a0));const _0x3d1a97=(0x0,_0x5d1d4c['v4'])();return _0x40fab9[_0x5aa0d7(0x36a)](_0x4e37a1,_0x3d1a97),await _0x450000(_0x42df32[_0x5aa0d7(0x300)],_0x3d1a97,'/'+_0x4e37a1+'/'+_0x30cdf4+'/'+_0xc75067,_0xc56cc,_0x572af1,_0x3ed54c,{'objectStoreConnector':this[_0x5aa0d7(0x95e)],'ragConnector':this[_0x5aa0d7(0x534)]?.[_0x5aa0d7(0x266)](_0x2a74a6[_0x5aa0d7(0x96c)][_0x5aa0d7(0xbbc)]),'documentParserConnector':this[_0x5aa0d7(0x6cb)],'fileConnector':this[_0x5aa0d7(0xa74)],'nlpLibraryConnector':this[_0x5aa0d7(0x930)],'generativeAIWorkerConnectors':this[_0x5aa0d7(0x417)],'models':Array[_0x5aa0d7(0x668)](this[_0x5aa0d7(0x384)]['values']()),'contentMediator':this[_0x5aa0d7(0x525)]}),_0x40fab9[_0x5aa0d7(0x6a2)](_0x3d1a97),{'type':_0x5aa0d7(0x88d)};}if(_0x5aa0d7(0x967)===_0x42df32['type']){const {vendorId:_0xf45ef7,collectionId:_0x3e5b1e}=_0x42df32,_0x29bf97=await _0x3fff33[_0x5aa0d7(0x5d2)](_0xf45ef7,_0x3e5b1e);if(_0x29bf97[_0x5aa0d7(0x6f6)]!==_0x2a74a6['GenerativeAIRagType']['Crewdle']){const _0x251506=this[_0x5aa0d7(0x534)]?.[_0x5aa0d7(0x266)](_0x29bf97[_0x5aa0d7(0x6f6)]);if(!_0x251506)throw new Error('No\x20RAG\x20connector\x20available');const _0x4620b3=_0x1e3016(_0xf45ef7,_0x29bf97);return{'type':_0x5aa0d7(0x967),'files':await _0x251506['listFiles'](_0x4620b3,_0x3e5b1e)};}try{return{'type':_0x5aa0d7(0x967),'files':(await this[_0x5aa0d7(0x95e)][_0x5aa0d7(0x916)]('/'+_0xf45ef7+'/'+_0x3e5b1e,!0x1))[_0x5aa0d7(0xb48)](_0x5cb97f=>({'name':_0x5cb97f['name'],'id':_0x5cb97f[_0x5aa0d7(0xa7b)],'status':_0x5aa0d7(0x4a5)}))};}catch(_0x56a084){return{'type':_0x5aa0d7(0x967),'files':[]};}}if(_0x5aa0d7(0x564)===_0x42df32['type']){const {vendorId:_0x52b06f,collectionId:_0x135344}=_0x42df32,_0x1d59c4=await _0x3fff33['getDataCollection'](_0x52b06f,_0x135344),_0x13433f=this[_0x5aa0d7(0x534)]?.['get'](_0x1d59c4[_0x5aa0d7(0x6f6)]);if(!_0x13433f)return{'type':'collection-create'};const _0x152d43=_0x1e3016(_0x52b06f,_0x1d59c4);return await _0x13433f[_0x5aa0d7(0x651)](_0x152d43,_0x135344),{'type':_0x5aa0d7(0x564)};}if(_0x5aa0d7(0x637)===_0x42df32[_0x5aa0d7(0x6b9)]){const {vendorId:_0x33e5ca,collectionId:_0x37f2e2}=_0x42df32,_0x2e541c=await _0x3fff33['getDataCollection'](_0x33e5ca,_0x37f2e2),_0x4eaac5=this[_0x5aa0d7(0x534)]?.[_0x5aa0d7(0x266)](_0x2e541c[_0x5aa0d7(0x6f6)]);if(!_0x4eaac5)return{'type':_0x5aa0d7(0x637)};const _0x58016d=_0x1e3016(_0x33e5ca,_0x2e541c);let _0x527782=!0x1;if(_0x2e541c[_0x5aa0d7(0x936)]===_0x24d649[_0x5aa0d7(0x6ba)]&&(_0x527782=!0x0),_0x2e541c['hosting']===_0x24d649[_0x5aa0d7(0x283)]){_0x527782=!0x0;const _0x4ce6eb=await _0x3fff33[_0x5aa0d7(0x469)](_0x33e5ca);for(const _0x2ee72e of _0x4ce6eb)if(_0x2ee72e[_0x5aa0d7(0x6f6)]===_0x2e541c[_0x5aa0d7(0x6f6)]&&_0x2ee72e['hosting']===_0x24d649[_0x5aa0d7(0x283)]&&_0x2ee72e['id']!==_0x2e541c['id']){_0x527782=!0x1;break;}}try{await _0x4eaac5[_0x5aa0d7(0x774)](_0x58016d,_0x37f2e2,_0x527782);}catch(_0x4e7b6b){_0x58cca5['error'](_0x5aa0d7(0x698),_0x4e7b6b);}return{'type':'collection-delete'};}if('collection-query'===_0x42df32[_0x5aa0d7(0x6b9)]){const {query:_0x245e3a,vendorId:_0x4099a5,collectionId:_0x125a3d}=_0x42df32,_0x5e85c5=await _0x3fff33[_0x5aa0d7(0x5d2)](_0x4099a5,_0x125a3d);if(_0x5e85c5['storageType']!==_0x2a74a6[_0x5aa0d7(0x96c)][_0x5aa0d7(0xbbc)]){const _0x37929e=this[_0x5aa0d7(0x534)]?.[_0x5aa0d7(0x266)](_0x5e85c5[_0x5aa0d7(0x6f6)]);if(!_0x37929e)throw new Error(_0x5aa0d7(0x394));const _0x52bf21=_0x1e3016(_0x4099a5,_0x5e85c5);return{'type':_0x5aa0d7(0xa51),'results':await _0x37929e[_0x5aa0d7(0x8d9)](_0x52bf21,_0x125a3d,_0x245e3a,0x1)};}const _0x244851=_0x5e85c5[_0x5aa0d7(0xb0c)]?.[_0x5aa0d7(0x77e)](_0x2e4de9=>_0x2e4de9[_0x5aa0d7(0x6b9)]===_0x430aa5[_0x5aa0d7(0x9d8)]);return{'type':_0x5aa0d7(0xa51),'results':(await _0x26536c(_0x42df32[_0x5aa0d7(0x300)],_0x8e74f9,'',_0x245e3a,_0x244851,_0x5e85c5,{'objectStoreConnector':this[_0x5aa0d7(0x95e)],'ragConnector':this[_0x5aa0d7(0x534)]?.[_0x5aa0d7(0x266)](_0x2a74a6['GenerativeAIRagType'][_0x5aa0d7(0xbbc)]),'documentParserConnector':this[_0x5aa0d7(0x6cb)],'fileConnector':this[_0x5aa0d7(0xa74)],'nlpLibraryConnector':this[_0x5aa0d7(0x930)],'generativeAIWorkerConnectors':this[_0x5aa0d7(0x417)],'models':Array[_0x5aa0d7(0x668)](this[_0x5aa0d7(0x384)][_0x5aa0d7(0x2e7)]()),'contentMediator':this[_0x5aa0d7(0x525)],'searchConnector':this[_0x5aa0d7(0x371)],'aiSearchConnector':this[_0x5aa0d7(0x93e)],'queryFileConnector':this[_0x5aa0d7(0x4bd)]}))['context']??[]};}throw new Error(_0x5aa0d7(0x2a9));}async*['internalProcessJobStream'](_0x4f9eb8,_0xff089){const _0x128b4e=_0x273dd2;if(_0x128b4e(0x5db)===_0xff089[_0x128b4e(0x6b9)]){const _0x594ad3=await _0x3fff33[_0x128b4e(0x8e0)](_0xff089[_0x128b4e(0x300)],_0xff089[_0x128b4e(0x27e)]),_0x5320b5=_0x594ad3[_0x128b4e(0x4b3)][_0x128b4e(0x77e)](_0x15c9eb=>_0x15c9eb[_0x128b4e(0x6b9)]===_0x3b8538[_0x128b4e(0x9d8)]||_0x15c9eb[_0x128b4e(0x6b9)]===_0x3b8538['InputStream']);for await(const _0x4da70c of _0x405988(_0xff089[_0x128b4e(0x99e)]??_0x4f9eb8,_0xff089,_0x5320b5,_0x594ad3['blocks'],{'documentParserConnector':this[_0x128b4e(0x6cb)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x128b4e(0x930)],'generativeAIWorkerConnectors':this[_0x128b4e(0x417)],'models':Array[_0x128b4e(0x668)](this[_0x128b4e(0x384)][_0x128b4e(0x2e7)]()),'contentMediator':this[_0x128b4e(0x525)],'searchConnector':this[_0x128b4e(0x371)],'aiSearchConnector':this[_0x128b4e(0x93e)],'queryFileConnector':this['queryFileConnector']}))yield _0x4da70c;}if(_0x128b4e(0x2a2)===_0xff089['type']){for await(const _0x2e6662 of _0x3fd1c9(_0xff089[_0x128b4e(0x99e)]??_0x4f9eb8,_0xff089,{'documentParserConnector':this[_0x128b4e(0x6cb)],'fileConnector':this[_0x128b4e(0xa74)],'nlpLibraryConnector':this[_0x128b4e(0x930)],'generativeAIWorkerConnectors':this[_0x128b4e(0x417)],'models':Array['from'](this['models']['values']()),'contentMediator':this[_0x128b4e(0x525)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x128b4e(0x93e)],'queryFileConnector':this['queryFileConnector']}))yield _0x2e6662;}}async[_0x273dd2(0x609)](_0x3d8823,_0x1c4641){const _0x200ab6=_0x273dd2;if(_0x200ab6(0x964)===_0x1c4641[_0x200ab6(0x6b9)])return _0x3d8823=_0x1c4641[_0x200ab6(0x99e)],void await this[_0x200ab6(0x36a)](_0x3d8823,_0x1c4641[_0x200ab6(0x300)],_0x1c4641[_0x200ab6(0x27e)]);_0x200ab6(0x5db)!==_0x1c4641[_0x200ab6(0x6b9)]&&_0x200ab6(0x2a2)!==_0x1c4641[_0x200ab6(0x6b9)]||!_0x1c4641[_0x200ab6(0x99e)]||(_0x3d8823=_0x1c4641[_0x200ab6(0x99e)]),await this['openTrace'](_0x3d8823,_0x1c4641[_0x200ab6(0x300)],_0x1c4641['workflowId'],_0x1c4641[_0x200ab6(0x9bd)]),await _0x40fab9[_0x200ab6(0x85a)]({'jobType':_0x3e2f29['Job'],'type':_0xac01e2[_0x200ab6(0x46a)],'traceLevel':_0x584638['Info'],'jobId':_0x3d8823,'threadId':_0x1c4641[_0x200ab6(0x9bd)],'startTime':Date[_0x200ab6(0x3a1)](),'timestamp':Date[_0x200ab6(0x3a1)](),'status':_0x200ab6(0x683)});}async[_0x273dd2(0x2cf)](_0x22ad54,_0x183998){const _0x3d1bd8=_0x273dd2;if(_0x3d1bd8(0x964)===_0x183998[_0x3d1bd8(0x6b9)])return _0x22ad54=_0x183998[_0x3d1bd8(0x99e)],void await this[_0x3d1bd8(0x6a2)](_0x22ad54);'prompt'!==_0x183998[_0x3d1bd8(0x6b9)]&&'inference'!==_0x183998[_0x3d1bd8(0x6b9)]||!_0x183998[_0x3d1bd8(0x99e)]||(_0x22ad54=_0x183998[_0x3d1bd8(0x99e)]),await _0x40fab9[_0x3d1bd8(0x85a)]({'jobType':_0x3e2f29['Job'],'type':_0xac01e2['Completed'],'traceLevel':_0x584638[_0x3d1bd8(0xbf7)],'jobId':_0x22ad54,'threadId':_0x183998['threadId'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success'}),await this[_0x3d1bd8(0x6a2)](_0x22ad54,_0x183998[_0x3d1bd8(0x9bd)]);}[_0x273dd2(0x496)](_0x3f3cc8){const _0x457555=_0x273dd2;switch(_0x3f3cc8[_0x457555(0x6b9)]){case _0x3b8538[_0x457555(0x207)]:case _0x3b8538['AgentSkill']:return _0x457555(0x527)+_0x3f3cc8[_0x457555(0xa7b)]['replace'](/[^a-zA-Z]/g,'');case _0x3b8538[_0x457555(0x82a)]:return _0x457555(0x8ee)+_0x3f3cc8[_0x457555(0xa7b)][_0x457555(0x4cf)](/[^a-zA-Z]/g,'');case _0x3b8538[_0x457555(0xa4a)]:case _0x3b8538[_0x457555(0x591)]:return _0x457555(0x708)+_0x3f3cc8['name'][_0x457555(0x4cf)](/[^a-zA-Z]/g,'');case _0x3b8538['CustomSkill']:return _0x3f3cc8[_0x457555(0xa7b)][_0x457555(0x4cf)](/[^a-zA-Z]/g,'');case _0x3b8538[_0x457555(0xbfd)]:return _0x457555(0x211);case _0x3b8538[_0x457555(0xb3c)]:return _0x457555(0x4c9);case _0x3b8538[_0x457555(0x213)]:return _0x457555(0x34f);case _0x3b8538[_0x457555(0xbcc)]:case _0x3b8538[_0x457555(0xa69)]:return'fetchContentFromUrl';case _0x2a74a6['GenerativeAIInferenceToolType'][_0x457555(0xaea)]:return _0x457555(0x93d)+_0x3f3cc8[_0x457555(0xa7b)][_0x457555(0x4cf)](/[^a-zA-Z]/g,'');case _0x2a74a6[_0x457555(0x545)][_0x457555(0x867)]:return _0x457555(0x30d)+_0x3f3cc8[_0x457555(0xa7b)][_0x457555(0x4cf)](/[^a-zA-Z]/g,'');case _0x2a74a6[_0x457555(0x545)][_0x457555(0x462)]:return _0x457555(0x721)+_0x3f3cc8['name']['replace'](/[^a-zA-Z]/g,'');default:return'';}}['getToolDescription'](_0x1357ff){const _0x1fe8d8=_0x273dd2;switch(_0x1357ff[_0x1fe8d8(0x6b9)]){case _0x3b8538[_0x1fe8d8(0x207)]:case _0x3b8538['AgentSkill']:return _0x1fe8d8(0x231)+_0x1357ff[_0x1fe8d8(0x42c)]+_0x1fe8d8(0x1df);case _0x3b8538[_0x1fe8d8(0x82a)]:return _0x1fe8d8(0xa26)+_0x1357ff[_0x1fe8d8(0x42c)]+_0x1fe8d8(0x1df);case _0x3b8538[_0x1fe8d8(0xa4a)]:case _0x3b8538[_0x1fe8d8(0x591)]:return _0x1fe8d8(0xb74)+_0x1357ff['description']+_0x1fe8d8(0xa96);case _0x3b8538[_0x1fe8d8(0xb84)]:return _0x1fe8d8(0x292)+_0x1357ff['description'];case _0x3b8538[_0x1fe8d8(0xbfd)]:return _0x1fe8d8(0xbaa);case _0x3b8538['Code']:return _0x1fe8d8(0xbb1);case _0x3b8538['Search']:return'Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.';case _0x3b8538[_0x1fe8d8(0xbcc)]:case _0x3b8538[_0x1fe8d8(0xa69)]:return _0x1fe8d8(0x395);case _0x2a74a6['GenerativeAIInferenceToolType']['FormSkillGetQuestion']:return _0x1fe8d8(0xadd);case _0x2a74a6[_0x1fe8d8(0x545)][_0x1fe8d8(0x867)]:return'Set\x20the\x20answer\x20to\x20the\x20current\x20question.';case _0x2a74a6[_0x1fe8d8(0x545)]['FormSkillSubmitForm']:return _0x1fe8d8(0x6f5);default:return'';}}[_0x273dd2(0x784)](_0x2c29c0){const _0x4a573b=_0x273dd2;switch(_0x2c29c0[_0x4a573b(0x6b9)]){case _0x3b8538[_0x4a573b(0x207)]:case _0x3b8538[_0x4a573b(0x737)]:case _0x3b8538['WorkflowTool']:return[{'name':_0x4a573b(0x5db),'type':_0x4a573b(0x563)}];case _0x3b8538['DataCollection']:case _0x3b8538[_0x4a573b(0x591)]:return[{'name':_0x4a573b(0x9be),'type':_0x4a573b(0x563)}];case _0x3b8538[_0x4a573b(0xb84)]:return _0x2c29c0[_0x4a573b(0xbd2)][_0x4a573b(0xb48)](_0x306686=>({'name':_0x306686[_0x4a573b(0xa7b)],'type':_0x306686[_0x4a573b(0x6b9)]??'string'}))??[];case _0x3b8538[_0x4a573b(0xbfd)]:return[{'name':_0x4a573b(0x756),'type':'string'}];case _0x3b8538[_0x4a573b(0xb3c)]:return[{'name':_0x4a573b(0x1ce),'type':_0x4a573b(0x563)}];case _0x3b8538[_0x4a573b(0x213)]:return[{'name':'query','type':_0x4a573b(0x563)}];case _0x3b8538[_0x4a573b(0xbcc)]:case _0x3b8538[_0x4a573b(0xa69)]:return[{'name':_0x4a573b(0x6d7),'type':_0x4a573b(0x563)},{'name':_0x4a573b(0x67d),'type':_0x4a573b(0x2db)}];case _0x2a74a6[_0x4a573b(0x545)][_0x4a573b(0xaea)]:return[];case _0x2a74a6['GenerativeAIInferenceToolType'][_0x4a573b(0x867)]:return[{'name':'id','type':_0x4a573b(0x563)},{'name':_0x4a573b(0x1e3),'type':_0x4a573b(0x563)}];case _0x2a74a6['GenerativeAIInferenceToolType'][_0x4a573b(0x462)]:default:return[];}}[_0x273dd2(0x2d7)](){const _0x374543=_0x273dd2;try{return this[_0x374543(0xc12)]['getCapacityReport']()[_0x374543(0x3b8)]['cores']*(0x1-this['capacityReporter'][_0x374543(0xb95)]()[_0x374543(0x3b8)]['load']);}catch(_0x492b06){return _0x58cca5[_0x374543(0x3a3)](_0x57ac86[_0x374543(0x3d4)],_0x374543(0xb5c),_0x492b06),0x0;}}['sendStats'](){const _0x2fae54=_0x273dd2;this['isOpened']&&(this['debounceStats']&&clearTimeout(this[_0x2fae54(0x9a2)]),this[_0x2fae54(0x9a2)]=setTimeout(async()=>{const _0x3c4965=_0x2fae54;delete this[_0x3c4965(0x9a2)];let _0x941358=0x0;for(const _0x160959 of this[_0x3c4965(0x5d6)][_0x3c4965(0x2e7)]())_0x941358+=await _0x160959[_0x3c4965(0x506)]();this[_0x3c4965(0x2fb)][_0x3c4965(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x3c4965(0x829)],'content':{'type':_0x310f3a[_0x3c4965(0xabe)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x941358,'messagesSent':this[_0x3c4965(0x695)],'messagesReceived':this[_0x3c4965(0x3ed)],'bytesSent':this[_0x3c4965(0x24b)],'bytesReceived':this[_0x3c4965(0xc1b)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x3c4965(0x35e)]}}});},_0xcc772));}[_0x273dd2(0x7ea)](_0x2c9794,_0x2af28e){const _0x36ec87=_0x273dd2,_0x528c62=this[_0x36ec87(0x51b)],_0x4de737=this[_0x36ec87(0x5ca)]();_0x58cca5['logServiceEvent'](_0x37519b['GenerativeAIContext'],{'topic':_0x528c62,'type':_0x36ec87(0x1e3),'nodeId':_0x4de737,'tokenCount':_0x2af28e,'tokensPerSecond':_0x2c9794});}async['openTrace'](_0x41648d,_0x566424,_0x69bf1d,_0x389168){const _0x3bfd4d=_0x273dd2;try{if(!await _0x40fab9[_0x3bfd4d(0x36a)](_0x566424,_0x41648d,_0x69bf1d,_0x389168))throw new Error(_0x3bfd4d(0x287));return _0x41648d;}catch(_0x1f518c){return console[_0x3bfd4d(0x5c5)](_0x3bfd4d(0x287),_0x1f518c),_0x3bfd4d(0x1fa);}}async['closeTrace'](_0x449f4e,_0x263eef){const _0x4bb3ca=_0x273dd2;try{await _0x40fab9[_0x4bb3ca(0x6a2)](_0x449f4e,_0x263eef);}catch(_0x5b4012){console['error'](_0x4bb3ca(0x473),{'jobId':_0x449f4e,'error':_0x5b4012});}}}class _0x981699 extends _0x37e41d{['localNode'];[_0x273dd2(0x78c)];['vendorId'];['db'];[_0x273dd2(0x9a2)];[_0x273dd2(0xbe8)]=0x0;[_0x273dd2(0xa36)]=0x0;[_0x273dd2(0x2df)]=!0x1;constructor(_0x51e402,_0x4eeec5,_0x4416d3,_0x22fb92,_0x175194){const _0x471905=_0x273dd2;if(_0x471905(0x563)!=typeof _0x4eeec5)throw new _0x3371e7(_0x4c9695[_0x471905(0x20e)],_0x471905(0xbae));super(_0x51e402,_0x4eeec5),this[_0x471905(0x61b)]=_0x51e402,this['clusterId']=_0x4416d3,this[_0x471905(0x300)]=_0x22fb92;const _0x394716='ccc'+this[_0x471905(0x300)]+_0x471905(0x61c)+this[_0x471905(0x78c)]+'ccc'+this['label'];this['db']=new _0x175194(_0x394716),this['sendStats']();}[_0x273dd2(0xa9c)](){const _0x3ba084=_0x273dd2;return this[_0x3ba084(0x2df)];}[_0x273dd2(0xba1)](_0x128af1){const _0x153549=_0x273dd2;this[_0x153549(0x2df)]=_0x128af1;}['destroy'](){const _0x3386a1=_0x273dd2;clearTimeout(this[_0x3386a1(0x9a2)]),delete this[_0x3386a1(0x9a2)],super['destroy']();}[_0x273dd2(0x210)](){const _0x4e812e=_0x273dd2;this[_0x4e812e(0x2fb)]['publish']({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a['CloseGraphDatabase'],'label':this[_0x4e812e(0x51b)]}});}['getContentType'](){const _0x39bdaa=_0x273dd2;return _0x2a74a6[_0x39bdaa(0x2a7)][_0x39bdaa(0xbc6)];}[_0x273dd2(0x3da)](){const _0xabf535=_0x273dd2;this[_0xabf535(0x844)]();}[_0x273dd2(0x6b3)](_0x505032,_0x51b220,_0xab7aa8,_0x8b748b){const _0x17369f=_0x273dd2;this['db'][_0x17369f(0x6b3)](_0x505032,_0x51b220,_0xab7aa8,_0x8b748b),this['writes']+=0x1,this['sendStats']();}[_0x273dd2(0x6a8)](_0x4dd447,_0x115ef1){const _0x441bb8=_0x273dd2;this['db'][_0x441bb8(0x6a8)](_0x4dd447,_0x115ef1),this[_0x441bb8(0xbe8)]+=0x1,this[_0x441bb8(0x844)]();}[_0x273dd2(0x3f6)](_0x43a890,_0x479b39,_0x34a87d){const _0x37a61d=_0x273dd2,_0x58b23b=this['db'][_0x37a61d(0x3f6)](_0x43a890,_0x479b39,_0x34a87d);return this[_0x37a61d(0xa36)]+=0x1,_0x58cca5[_0x37a61d(0x7ea)](_0x37519b[_0x37a61d(0xbc6)],{'type':'get-content','label':this['label'],'nodeId':this[_0x37a61d(0x61b)][_0x37a61d(0xb9d)](),'nodeType':this[_0x37a61d(0x61b)][_0x37a61d(0x6b9)],'clusterId':this[_0x37a61d(0x78c)],'size':0x0}),this[_0x37a61d(0x844)](),_0x58b23b;}[_0x273dd2(0x852)](_0xd626ef){const _0x523035=_0x273dd2;this['db'][_0x523035(0x852)](_0xd626ef),this['writes']+=0x1,this['sendStats']();}[_0x273dd2(0x8e3)](_0x2195ac){const _0x5c869e=_0x273dd2;this['db'][_0x5c869e(0x8e3)](_0x2195ac);}[_0x273dd2(0x952)](_0x3d3941){const _0x8f1c8=_0x273dd2;this['db'][_0x8f1c8(0x952)](_0x3d3941);}[_0x273dd2(0x844)](){const _0x1dd106=_0x273dd2;this['debounceStats']&&clearTimeout(this[_0x1dd106(0x9a2)]),this['debounceStats']=setTimeout(async()=>{const _0x2267f8=_0x1dd106;delete this[_0x2267f8(0x9a2)];const _0x4431ab=this['db']['getSize']();this[_0x2267f8(0x2fb)][_0x2267f8(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x2267f8(0x829)],'content':{'type':_0x310f3a[_0x2267f8(0x4ab)],'label':this[_0x2267f8(0x51b)],'stats':{'timestamp':Date['now'](),'storage':_0x4431ab,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x2267f8(0x3ed)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x2267f8(0xc1b)],'writes':this[_0x2267f8(0xbe8)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x58cca5['logStorage'](_0x37519b[_0x2267f8(0xbc6)],'ccc'+this['clusterId']+'ccc'+this[_0x2267f8(0x51b)],_0x4431ab);},_0xcc772);}}class _0xa93007 extends _0x5c3d89{[_0x273dd2(0x250)];constructor(_0x3caaca,_0x4643e3,_0x2f426e){const _0x33fd29=_0x273dd2;super(_0x3caaca,_0x4643e3),this[_0x33fd29(0x250)]=_0x2f426e;}[_0x273dd2(0x54c)](){const _0x16c7f6=_0x273dd2;return _0x2a74a6[_0x16c7f6(0x2a7)][_0x16c7f6(0x9ae)];}[_0x273dd2(0x3d7)](){const _0x170ccf=_0x273dd2;return this[_0x170ccf(0x250)];}[_0x273dd2(0x4b4)](){return this['mediaStream']['id'];}}class _0x188f0c extends _0xa93007{[_0x273dd2(0x5b1)];[_0x273dd2(0xa8a)];['topic'];[_0x273dd2(0x271)]=_0x4eac7b();constructor(_0x35384b,_0x1fd6f7,_0x46027b,_0x17e307,_0x4969dd){const _0x35d837=_0x273dd2;super(_0x35384b,_0x1fd6f7,_0x46027b),this[_0x35d837(0x5b1)]=_0x17e307,this[_0x35d837(0xa8a)]=_0x4969dd;}['destroy'](){const _0x25fae1=_0x273dd2;this['removeTrack'](_0x25fae1(0x1fc)),this['removeTrack'](_0x25fae1(0x758)),super['destroy']();}[_0x273dd2(0x43b)](_0x4f2c03){const _0x284ba2=_0x273dd2;if(!this['topic'])throw new _0x4b8523(_0x4b8523[_0x284ba2(0xa20)][_0x284ba2(0x5f3)],{'label':this[_0x284ba2(0x51b)],'ownerId':this[_0x284ba2(0x7c6)][_0x284ba2(0xb9d)](),'remoteId':this['remoteId']});this[_0x284ba2(0x8bc)]['publish']({'sourceId':this[_0x284ba2(0x7c6)][_0x284ba2(0xb9d)](),'content':{'action':_0x45236f[_0x284ba2(0x265)],'track':_0x4f2c03,'stream':this[_0x284ba2(0x250)],'priority':_0x2a74a6['MediaStreamPriority'][_0x284ba2(0x77a)],'params':this[_0x284ba2(0x702)](_0x4f2c03[_0x284ba2(0x9c8)],this[_0x284ba2(0xa8a)])}});}['removeTrack'](_0x490b7f){const _0x2e079e=_0x273dd2,_0x1b7b4f=this['getTrack'](_0x490b7f);if(_0x1b7b4f){if(!this[_0x2e079e(0x8bc)])return null;this[_0x2e079e(0x8bc)][_0x2e079e(0xb07)]({'sourceId':this[_0x2e079e(0x7c6)][_0x2e079e(0xb9d)](),'content':{'action':_0x45236f[_0x2e079e(0x77c)],'track':_0x1b7b4f,'stream':this['mediaStream']}});}return _0x1b7b4f;}[_0x273dd2(0x947)](_0x5a7b5b){const _0x16c433=_0x273dd2;if(!this[_0x16c433(0x8bc)])throw new _0x4b8523(_0x4b8523[_0x16c433(0xa20)][_0x16c433(0x5f3)],{'label':this[_0x16c433(0x51b)],'ownerId':this[_0x16c433(0x7c6)]['getId'](),'remoteId':this[_0x16c433(0x5b1)]});this[_0x16c433(0x8bc)][_0x16c433(0xb07)]({'sourceId':this['owner'][_0x16c433(0xb9d)](),'content':{'action':_0x45236f[_0x16c433(0xa6c)],'priority':_0x5a7b5b,'stream':this[_0x16c433(0x250)]}});}[_0x273dd2(0x6f8)]({trackKinds:_0x46ad6e,params:_0x26fe21},_0x34d73d){const _0x585c9f=_0x273dd2;if(!this[_0x585c9f(0x8bc)])throw new _0x4b8523(_0x4b8523[_0x585c9f(0xa20)]['OutgoingMediaStreamNoTopic'],{'label':this['label'],'ownerId':this[_0x585c9f(0x7c6)][_0x585c9f(0xb9d)](),'remoteId':this['remoteId']});for(const _0x326d55 of this['mediaStream'][_0x585c9f(0x34a)]())_0x46ad6e['includes'](_0x326d55[_0x585c9f(0x9c8)])&&this[_0x585c9f(0x8bc)][_0x585c9f(0xb07)]({'sourceId':this[_0x585c9f(0x7c6)][_0x585c9f(0xb9d)](),'content':{'action':_0x45236f['Add'],'track':_0x326d55,'stream':this['mediaStream'],'priority':_0x34d73d,'params':this[_0x585c9f(0x702)](_0x326d55[_0x585c9f(0x9c8)],_0x26fe21)}});}['update']({params:_0x1c22f7}){const _0xe62cbc=_0x273dd2;if(!this['topic'])throw new _0x4b8523(_0x4b8523[_0xe62cbc(0xa20)]['OutgoingMediaStreamNoTopic'],{'label':this[_0xe62cbc(0x51b)],'ownerId':this[_0xe62cbc(0x7c6)][_0xe62cbc(0xb9d)](),'remoteId':this[_0xe62cbc(0x5b1)]});for(const _0x159b96 of this[_0xe62cbc(0x250)]['getTracks']())this[_0xe62cbc(0x8bc)][_0xe62cbc(0xb07)]({'sourceId':this['owner'][_0xe62cbc(0xb9d)](),'content':{'action':_0x45236f[_0xe62cbc(0xa6c)],'stream':this['mediaStream'],'params':this[_0xe62cbc(0x702)](_0x159b96[_0xe62cbc(0x9c8)],_0x1c22f7)}});}[_0x273dd2(0xbf5)]({trackKinds:_0x3a64a2}){const _0x2eb06f=_0x273dd2;if(this[_0x2eb06f(0x8bc)]){for(const _0x3e5e0a of this[_0x2eb06f(0x250)][_0x2eb06f(0x34a)]())_0x3a64a2['includes'](_0x3e5e0a[_0x2eb06f(0x9c8)])&&this[_0x2eb06f(0x8bc)][_0x2eb06f(0xb07)]({'sourceId':this[_0x2eb06f(0x7c6)]['getId'](),'content':{'action':_0x45236f['Remove'],'stream':this[_0x2eb06f(0x250)],'track':_0x3e5e0a}});}}[_0x273dd2(0x56e)](_0x186e2e){const _0xfef7f2=_0x273dd2;this[_0xfef7f2(0x8bc)]=_0x186e2e;}[_0x273dd2(0x823)](_0x1b0f50){const _0x5bb892=_0x273dd2;_0x1b0f50===this[_0x5bb892(0x8bc)]&&(delete this['topic'],this[_0x5bb892(0x271)][_0x5bb892(0xb07)]());}[_0x273dd2(0xa11)](_0x3de8f5){const _0x441b5c=_0x273dd2;return this[_0x441b5c(0x271)]['subscribe'](_0x3de8f5);}[_0x273dd2(0x899)](_0x3b5fa9){const _0x3658da=_0x273dd2;return this[_0x3658da(0x250)][_0x3658da(0x34a)]()['find'](_0x545ba2=>_0x545ba2[_0x3658da(0x9c8)]===_0x3b5fa9)||null;}[_0x273dd2(0x702)](_0x52b0c7,_0x2ee63e){const _0x487c67=_0x273dd2;let _0x1f5a16;return'video'===_0x52b0c7&&_0x2ee63e?.['video']&&_0x487c67(0xb68)!=typeof _0x2ee63e[_0x487c67(0x758)]&&(_0x1f5a16={'kind':'video',..._0x2ee63e['video']},_0x1f5a16[_0x487c67(0xadf)]=this[_0x487c67(0xb77)]()),_0x487c67(0x1fc)===_0x52b0c7&&_0x2ee63e?.[_0x487c67(0x1fc)]&&'boolean'!=typeof _0x2ee63e['audio']&&(_0x1f5a16={'kind':_0x487c67(0x1fc),..._0x2ee63e[_0x487c67(0x1fc)]}),_0x1f5a16;}[_0x273dd2(0xb77)](){const _0x6bd463=_0x273dd2;let _0x4d3134={'width':0x0,'height':0x0};const _0x49660c=this[_0x6bd463(0x250)]['getVideoTracks']();if(_0x49660c['length']>0x0){const _0x160ca2=_0x49660c[0x0][_0x6bd463(0x519)]();_0x160ca2[_0x6bd463(0x23c)]&&_0x160ca2[_0x6bd463(0x34c)]&&(_0x4d3134={'width':_0x160ca2[_0x6bd463(0x23c)],'height':_0x160ca2['height']});}return _0x4d3134;}}class _0x226de1 extends _0xa93007{[_0x273dd2(0x78c)];[_0x273dd2(0x2dd)]=_0x2a74a6['MediaStreamPriority'][_0x273dd2(0x77a)];[_0x273dd2(0x87e)]=new Map();['outgoingStreams']=new Map();constructor(_0x693300,_0x5e3fb9,_0x57f3b3,_0x182c50){const _0xd1b9a1=_0x273dd2;super(_0x693300,_0x5e3fb9,_0x57f3b3 instanceof MediaStream?_0x57f3b3:_0x57f3b3[_0xd1b9a1(0x7d7)]?_0x57f3b3[_0xd1b9a1(0x7d7)]:_0x57f3b3['captureStream']()),this[_0xd1b9a1(0x78c)]=_0x182c50,this[_0xd1b9a1(0x250)][_0xd1b9a1(0x34a)]()['forEach'](_0x2d76b5=>this[_0xd1b9a1(0x589)](_0x2d76b5)),_0x58cca5['logServiceEvent'](_0x37519b[_0xd1b9a1(0x91b)],{'type':_0xd1b9a1(0xb07),'label':this[_0xd1b9a1(0x51b)],'nodeId':this[_0xd1b9a1(0x7c6)][_0xd1b9a1(0xb9d)](),'nodeType':this[_0xd1b9a1(0x7c6)][_0xd1b9a1(0x6b9)],'clusterId':this[_0xd1b9a1(0x78c)],'streamId':this[_0xd1b9a1(0x4b4)](),'trackKinds':this[_0xd1b9a1(0x250)][_0xd1b9a1(0x34a)]()[_0xd1b9a1(0xb48)](_0x47dd29=>_0x47dd29[_0xd1b9a1(0x9c8)])});}[_0x273dd2(0x553)](){const _0x4f999c=_0x273dd2;this[_0x4f999c(0x524)][_0x4f999c(0x85c)]>0x0&&(this['outgoingStreams'][_0x4f999c(0xb9b)](_0x3f6df7=>{const _0x307b9c=_0x4f999c;_0x3f6df7['unregisterSystemPublisher'](),_0x3f6df7[_0x307b9c(0x553)]();}),this['outgoingStreams'][_0x4f999c(0x320)]()),this[_0x4f999c(0x87e)][_0x4f999c(0xb9b)](_0x2a0e21=>_0x2a0e21()),super['destroy']();}['publish'](_0x2a4457){const _0x574d9b=_0x273dd2;this[_0x574d9b(0x2fb)]['publish']({'sourceId':this[_0x574d9b(0x7c6)]['getId'](),'destinationIds':_0x2a4457?[_0x2a4457]:void 0x0,'propagate':!0x0,'messageType':_0xe6fd3b[_0x574d9b(0x829)],'content':{'type':_0x310f3a[_0x574d9b(0x56a)],'ownerId':this['owner'][_0x574d9b(0xb9d)](),'label':this[_0x574d9b(0x51b)],'stream':{'streamId':this[_0x574d9b(0x4b4)](),'availableTrackKinds':this[_0x574d9b(0x250)][_0x574d9b(0x34a)]()[_0x574d9b(0xb48)](_0x49466f=>_0x49466f['kind'])}}});}['unpublish'](){const _0x2639dc=_0x273dd2;this[_0x2639dc(0x2fb)][_0x2639dc(0xb07)]({'sourceId':this[_0x2639dc(0x7c6)][_0x2639dc(0xb9d)](),'propagate':!0x0,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a[_0x2639dc(0xa94)],'ownerId':this[_0x2639dc(0x7c6)][_0x2639dc(0xb9d)](),'label':this[_0x2639dc(0x51b)]}}),this[_0x2639dc(0x2fb)][_0x2639dc(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a[_0x2639dc(0x3af)],'label':this[_0x2639dc(0x51b)]}}),_0x58cca5[_0x2639dc(0x7ea)](_0x37519b[_0x2639dc(0x91b)],{'type':_0x2639dc(0x5fc),'label':this[_0x2639dc(0x51b)],'nodeId':this[_0x2639dc(0x7c6)][_0x2639dc(0xb9d)](),'nodeType':this[_0x2639dc(0x7c6)][_0x2639dc(0x6b9)],'clusterId':this[_0x2639dc(0x78c)],'streamId':this[_0x2639dc(0x4b4)]()});}[_0x273dd2(0x392)](){return this['priority'];}[_0x273dd2(0x947)](_0x274420){const _0x4c00da=_0x273dd2;this[_0x4c00da(0x2dd)]=_0x274420,this[_0x4c00da(0x524)]['forEach'](_0xe8fe45=>_0xe8fe45[_0x4c00da(0x947)](_0x274420));}[_0x273dd2(0x201)](_0x31fec5,_0x593a8e){const _0x4ad769=_0x273dd2;if(!this[_0x4ad769(0x524)][_0x4ad769(0xb9f)](_0x31fec5)){const _0x433f21=new _0x188f0c(this[_0x4ad769(0x7c6)],this[_0x4ad769(0x51b)],this[_0x4ad769(0x250)],_0x31fec5,_0x593a8e),_0x27a5dc=_0x433f21['onUnregisterPublisher'](()=>{const _0x1bc152=_0x4ad769;_0x27a5dc(),this['outgoingStreams']['get'](_0x31fec5)?.[_0x1bc152(0x553)](),this[_0x1bc152(0x524)][_0x1bc152(0x997)](_0x31fec5);});this[_0x4ad769(0x524)][_0x4ad769(0x68c)](_0x31fec5,_0x433f21),_0x433f21[_0x4ad769(0x32c)](this['systemTopic']);}return this['outgoingStreams']['get'](_0x31fec5);}[_0x273dd2(0x438)](){const _0x2efeba=_0x273dd2;return this[_0x2efeba(0x250)]['id'];}['handleLocalTrackFailure'](_0x54da79){const _0x15e7b3=_0x273dd2;this[_0x15e7b3(0x2fb)][_0x15e7b3(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x15e7b3(0x829)],'content':{'type':_0x310f3a[_0x15e7b3(0xc09)],'label':this['label'],'trackKinds':[_0x54da79[_0x15e7b3(0x9c8)]]}});}[_0x273dd2(0x589)](_0x58005f){const _0x95731f=_0x273dd2,_0x5a4963=()=>this['handleLocalTrackFailure'](_0x58005f);_0x58005f['addEventListener'](_0x95731f(0x51d),_0x5a4963),_0x58005f[_0x95731f(0x70d)](_0x95731f(0x690),_0x5a4963),this[_0x95731f(0x87e)][_0x95731f(0x68c)](_0x58005f['kind'],()=>{const _0x4ee571=_0x95731f;_0x58005f[_0x4ee571(0xa5c)]('ended',_0x5a4963),_0x58005f[_0x4ee571(0xa5c)](_0x4ee571(0x690),_0x5a4963),this[_0x4ee571(0x87e)]['delete'](_0x58005f[_0x4ee571(0x9c8)]);});}}class _0x555b83 extends _0x226de1{[_0x273dd2(0x873)];[_0x273dd2(0xb05)]=[];[_0x273dd2(0x2a8)];['audioSource'];[_0x273dd2(0x9e5)];['sourceVideo'];[_0x273dd2(0xbf4)];[_0x273dd2(0x442)];[_0x273dd2(0xa91)];constructor(_0x462579,_0x292afa,_0x35c5bb,_0x3d6dbe,_0x2bd78a,_0x52fb84){const _0x5a766e=_0x273dd2;if(super(_0x462579,_0x292afa,_0x35c5bb,_0x52fb84),this['audioContext']=_0x2bd78a,this['clientStream']=this['mediaStream'],this[_0x5a766e(0x704)]=document['createElement'](_0x5a766e(0x758)),this[_0x5a766e(0x704)][_0x5a766e(0xc07)]=!0x0,this[_0x5a766e(0x704)][_0x5a766e(0x8dc)]=!0x0,this[_0x5a766e(0x704)]['srcObject']=this[_0x5a766e(0x2a8)],this[_0x5a766e(0x704)][_0x5a766e(0x768)](),this['sourceVideo'][_0x5a766e(0xa42)]=()=>{const _0x42bd28=_0x5a766e;this[_0x42bd28(0x704)][_0x42bd28(0x677)]();},this[_0x5a766e(0xbf4)]=document[_0x5a766e(0x294)]('canvas'),this[_0x5a766e(0x442)]=this['canvas'][_0x5a766e(0xa6f)]('2d'),this[_0x5a766e(0x250)]=this['canvas']['captureStream'](_0x3d6dbe),this['audioDestination']=this[_0x5a766e(0x873)][_0x5a766e(0x20d)](),this[_0x5a766e(0x2a8)][_0x5a766e(0x8ca)]()[_0x5a766e(0x830)]>0x0){const _0x320e77=this['clientStream'][_0x5a766e(0x8ca)]()[0x0];this[_0x5a766e(0x74f)]=this['audioContext'][_0x5a766e(0x350)](new MediaStream([_0x320e77])),this['audioSource'][_0x5a766e(0x892)](this['audioDestination']);}const _0x3320cb=this['audioDestination'][_0x5a766e(0x573)][_0x5a766e(0x34a)]()[0x0];this['mediaStream']['addTrack'](_0x3320cb),this[_0x5a766e(0xa91)]=setInterval(()=>{const _0x2610a8=_0x5a766e;this['canvas'][_0x2610a8(0x23c)]=this[_0x2610a8(0x704)][_0x2610a8(0xb01)],this[_0x2610a8(0xbf4)][_0x2610a8(0x34c)]=this['sourceVideo'][_0x2610a8(0x747)],this[_0x2610a8(0x704)][_0x2610a8(0xb01)]?(0x0!==this[_0x2610a8(0x2a8)][_0x2610a8(0x202)]()['length']&&this[_0x2610a8(0x2a8)][_0x2610a8(0x202)]()[0x0]['enabled']?this[_0x2610a8(0x250)]['getVideoTracks']()[0x0][_0x2610a8(0x849)]=!0x0:this[_0x2610a8(0x250)][_0x2610a8(0x202)]()[0x0]['enabled']=!0x1,0x0!==this[_0x2610a8(0x2a8)]['getAudioTracks']()[_0x2610a8(0x830)]&&this[_0x2610a8(0x2a8)][_0x2610a8(0x8ca)]()[0x0][_0x2610a8(0x849)]?this[_0x2610a8(0x250)][_0x2610a8(0x8ca)]()[0x0]['enabled']=!0x0:this['mediaStream'][_0x2610a8(0x8ca)]()[0x0]['enabled']=!0x1,this['context']['drawImage'](this['sourceVideo'],0x0,0x0)):this['context'][_0x2610a8(0x66f)](0x0,0x0,this[_0x2610a8(0xbf4)][_0x2610a8(0x23c)],this[_0x2610a8(0xbf4)][_0x2610a8(0x34c)]);},0x3e8/_0x3d6dbe);}['destroy'](){const _0x38a0b7=_0x273dd2;clearInterval(this[_0x38a0b7(0xa91)]),this[_0x38a0b7(0x704)][_0x38a0b7(0x852)](),this[_0x38a0b7(0xbf4)]['remove'](),this[_0x38a0b7(0x74f)]?.[_0x38a0b7(0x41b)](),this[_0x38a0b7(0x9e5)][_0x38a0b7(0x41b)](),this[_0x38a0b7(0x250)][_0x38a0b7(0x34a)]()[_0x38a0b7(0xb9b)](_0x14740d=>{const _0x32d240=_0x38a0b7;_0x14740d[_0x32d240(0x630)](),this[_0x32d240(0x250)]['removeTrack'](_0x14740d);}),super[_0x38a0b7(0x553)]();}[_0x273dd2(0x43b)](_0x5492e3){const _0xfa104d=_0x273dd2,_0x470df6=this[_0xfa104d(0x899)](_0x5492e3[_0xfa104d(0x9c8)]);_0x470df6&&this['removeTrack'](_0x470df6),_0xfa104d(0x1fc)!==_0x5492e3[_0xfa104d(0x9c8)]?('video'===_0x5492e3[_0xfa104d(0x9c8)]&&this[_0xfa104d(0x5ed)](_0x5492e3),this[_0xfa104d(0x589)](_0x5492e3)):this[_0xfa104d(0x975)](_0x5492e3);}[_0x273dd2(0x23e)](_0x43a13e){const _0x13e148=_0x273dd2,_0x23d77b=this[_0x13e148(0xa55)](_0x43a13e);return _0x23d77b&&('audio'===_0x23d77b[_0x13e148(0x9c8)]&&(this[_0x13e148(0x74f)]?.[_0x13e148(0x41b)](),this['audioSource']=void 0x0),this[_0x13e148(0x87e)][_0x13e148(0x266)](_0x23d77b[_0x13e148(0x9c8)])?.(),this[_0x13e148(0x2a8)][_0x13e148(0x23e)](_0x23d77b)),_0x23d77b;}[_0x273dd2(0x45b)](_0x13d7c6){const _0x150329=_0x273dd2;this[_0x150329(0x23e)](_0x13d7c6['kind']),this[_0x150329(0x43b)](_0x13d7c6);}[_0x273dd2(0xb3d)](_0x3e7a96){const _0xdd952b=_0x273dd2;this[_0xdd952b(0xb05)]=_0x3e7a96;}[_0x273dd2(0x899)](_0x1f0f63){const _0x3259ed=_0x273dd2;return this[_0x3259ed(0x2a8)][_0x3259ed(0x34a)]()[_0x3259ed(0x77e)](_0x489c11=>_0x489c11[_0x3259ed(0x9c8)]===_0x1f0f63)||null;}[_0x273dd2(0xa55)](_0x5b3768){const _0x5e2b56=_0x273dd2;return'string'==typeof _0x5b3768?this[_0x5e2b56(0x899)](_0x5b3768):_0x5b3768;}['addAudioTrack'](_0x534e55){const _0x3e6516=_0x273dd2;'suspended'===this[_0x3e6516(0x873)]['state']&&this['audioContext'][_0x3e6516(0x7cf)](),this[_0x3e6516(0x2a8)][_0x3e6516(0x43b)](_0x534e55),this[_0x3e6516(0x74f)]=this['audioContext'][_0x3e6516(0x350)](this['clientStream']),this[_0x3e6516(0x74f)][_0x3e6516(0x892)](this[_0x3e6516(0x9e5)]);}['addVideoTrack'](_0x3073ba){const _0x2ac811=_0x273dd2;this[_0x2ac811(0x2a8)][_0x2ac811(0x43b)](_0x3073ba),this[_0x2ac811(0x704)][_0x2ac811(0x768)]();}}class _0xa0e78b extends _0x226de1{}class _0x479c7f extends _0x37e41d{[_0x273dd2(0x61b)];[_0x273dd2(0x78c)];[_0x273dd2(0x300)];['transactionService'];[_0x273dd2(0x75e)];[_0x273dd2(0x924)];[_0x273dd2(0x9dd)];['lastTransactionId'];[_0x273dd2(0x9c6)]=new Map();[_0x273dd2(0x471)]=new Map();['pendingFilesSyncing']=new Map();[_0x273dd2(0x7cb)]=new Map();[_0x273dd2(0x2f0)]=new Map();[_0x273dd2(0x2f5)]=new Map();[_0x273dd2(0x95e)];[_0x273dd2(0xb4b)]=_0x2d1945();['listenerUnsubscribers']=new Map();[_0x273dd2(0x9a2)];['writes']=0x0;[_0x273dd2(0xa36)]=0x0;['syncContent']=!0x0;[_0x273dd2(0x249)]=!0x0;[_0x273dd2(0x223)]=0x0;[_0x273dd2(0x420)]=0x0;constructor(_0x94128a,_0x2882c2,_0x5967b2,_0x167905,_0x3b899a,_0x500980,_0x5d83ef,_0x4d46e8){const _0x5164d4=_0x273dd2;if('string'!=typeof _0x2882c2)throw new _0x3371e7(_0x4c9695[_0x5164d4(0x204)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x94128a,_0x2882c2),this[_0x5164d4(0x61b)]=_0x94128a,this[_0x5164d4(0x78c)]=_0x5967b2,this[_0x5164d4(0x300)]=_0x167905,this[_0x5164d4(0x730)]=_0x3b899a,this[_0x5164d4(0x75e)]=_0x5d83ef,this[_0x5164d4(0x924)]=_0x4d46e8;const _0x4254bf='ccc'+this[_0x5164d4(0x300)]+_0x5164d4(0x61c)+this[_0x5164d4(0x78c)]+_0x5164d4(0x61c)+_0x2882c2;this[_0x5164d4(0x95e)]=new _0x500980(_0x4254bf),this[_0x5164d4(0x9fe)]=this[_0x5164d4(0x924)]?.['syncContent']??!0x0,this[_0x5164d4(0x924)]?.[_0x5164d4(0x73d)]&&(this[_0x5164d4(0x9fe)]=!0x1),this[_0x5164d4(0x844)]();}[_0x273dd2(0x3da)](){const _0x43ce4d=_0x273dd2;this[_0x43ce4d(0x844)]();}[_0x273dd2(0x54c)](){return _0x2a74a6['ContentType']['ObjectStore'];}async[_0x273dd2(0x4bf)](){const _0x42be23=_0x273dd2;this['isSyncing']=!0x0;try{const _0x34a7e9=await this[_0x42be23(0x95e)][_0x42be23(0x266)](_0x594e98),_0x22f005=await _0x34a7e9[_0x42be23(0x4e4)]();this[_0x42be23(0x62c)]=_0x22f005;}catch(_0x34fd87){}this['unsubscribeHandler']=this['onMessage'](async(_0xabbeb6,_0x5d603c)=>{const _0xe8bb11=_0x42be23;if(!(_0x5d603c instanceof File))try{if(_0x5d603c['payloadType']===_0x5c2585['Request'])return void this[_0xe8bb11(0x476)](_0x5d603c);this[_0xe8bb11(0xa3a)](_0x5d603c);}catch(_0x16e994){if(_0x16e994 instanceof _0x4b8523)throw _0x16e994;throw new _0x4b8523(_0x4b8523[_0xe8bb11(0xa20)][_0xe8bb11(0x6ad)],{'payload':_0x5d603c});}}),await this[_0x42be23(0x5a9)](),this['syncContent']?await this[_0x42be23(0x972)]():this['completeSync'](),this[_0x42be23(0x844)]();}[_0x273dd2(0x553)](){const _0x482fef=_0x273dd2;this['unsubscribeHandler']?.(),this[_0x482fef(0xb6f)][_0x482fef(0xb9b)](_0x1b0471=>_0x1b0471()),this[_0x482fef(0xb6f)]['clear'](),clearTimeout(this['debounceStats']),delete this[_0x482fef(0x9a2)],super['destroy']();}['close'](){const _0x5a72f2=_0x273dd2;this[_0x5a72f2(0x2fb)]?.['publish']({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x5a72f2(0x829)],'content':{'type':_0x310f3a[_0x5a72f2(0x9f5)],'label':this[_0x5a72f2(0x51b)]}});}[_0x273dd2(0x6f8)](_0x2c983a,_0x1fda6d){const _0x1b54bf=_0x273dd2;if(this['listenerUnsubscribers']['has'](_0x2c983a))throw new _0x3371e7(_0x4c9695[_0x1b54bf(0x7ca)],_0x1b54bf(0x781));this[_0x1b54bf(0xb6f)]['set'](_0x2c983a,this[_0x1b54bf(0xb4b)][_0x1b54bf(0x6f8)](_0x1fda6d)),this['isSyncing']||this[_0x1b54bf(0xb4b)]['publish']({'event':_0x2a74a6[_0x1b54bf(0x54a)]['SyncComplete'],'payload':{'filesSynced':this[_0x1b54bf(0x223)]}});}['unsubscribe'](_0x205cc3){const _0x114d1b=_0x273dd2;this[_0x114d1b(0xb6f)][_0x114d1b(0x266)](_0x205cc3)?.(),this['listenerUnsubscribers'][_0x114d1b(0x997)](_0x205cc3);}['publish'](_0xd8a147){const _0x383e95=_0x273dd2;switch(_0xd8a147[_0x383e95(0xa57)]){case _0x2a74a6[_0x383e95(0x9d5)][_0x383e95(0x7a2)]:return this[_0x383e95(0x42b)](_0xd8a147[_0x383e95(0x388)],_0xd8a147['path'],_0xd8a147[_0x383e95(0x924)]);case _0x2a74a6['PayloadAction']['Folder']:return this[_0x383e95(0x20a)](_0xd8a147[_0x383e95(0xaf8)]);case _0x2a74a6[_0x383e95(0x9d5)][_0x383e95(0x61a)]:return this[_0x383e95(0x1e7)](_0xd8a147[_0x383e95(0xaf8)],_0xd8a147[_0x383e95(0x32f)]);default:throw new _0x3371e7(_0x4c9695[_0x383e95(0xa02)],_0x383e95(0x96f)+_0xd8a147);}}async[_0x273dd2(0x5fc)](_0x5689c6){const _0x1ac33a=_0x273dd2;try{const _0x126cf8=(0x0,_0x5d1d4c['v4'])(),_0x97559f=this[_0x1ac33a(0x62c)],_0x57ccc8={'payloadType':_0x5c2585['Transaction'],'action':_0x35f8bc[_0x1ac33a(0x9eb)],'id':_0x126cf8,'parentId':_0x97559f,'path':_0x5689c6};await this[_0x1ac33a(0xb14)](_0x57ccc8);const _0x5cf35e=await this[_0x1ac33a(0x57e)](_0x5689c6);!0x0!==this[_0x1ac33a(0x924)]?.[_0x1ac33a(0x73d)]&&await this[_0x1ac33a(0xabc)](_0x57ccc8),_0x58cca5['logServiceEvent'](_0x37519b[_0x1ac33a(0x4dc)],{'type':_0x1ac33a(0x5fc),'label':this[_0x1ac33a(0x51b)],'nodeId':this[_0x1ac33a(0x61b)][_0x1ac33a(0xb9d)](),'nodeType':this[_0x1ac33a(0x61b)][_0x1ac33a(0x6b9)],'clusterId':this[_0x1ac33a(0x78c)],'kind':_0x5cf35e,'path':_0x5689c6}),this[_0x1ac33a(0xbe8)]+=0x1,this[_0x1ac33a(0x844)]();}catch(_0x5cf412){if(_0x5cf412 instanceof _0x4b8523)throw new _0x3371e7(_0x4c9695[_0x1ac33a(0x78d)],'Cannot\x20unpublish\x20object\x20at\x20'+_0x5689c6+_0x1ac33a(0x467));throw new _0x3371e7(_0x4c9695[_0x1ac33a(0x47a)],_0x1ac33a(0x5a5)+_0x5689c6);}}async[_0x273dd2(0x266)](_0x50277d,_0x59a856){const _0x4f95c5=_0x273dd2;_0x58cca5[_0x4f95c5(0x7ea)](_0x37519b['ObjectStorage'],{'type':_0x4f95c5(0x266),'label':this[_0x4f95c5(0x51b)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x4f95c5(0x61b)][_0x4f95c5(0x6b9)],'clusterId':this['clusterId'],'path':_0x50277d}),this[_0x4f95c5(0xa36)]+=0x1,this[_0x4f95c5(0x844)]();try{return await this[_0x4f95c5(0x95e)][_0x4f95c5(0x266)](_0x50277d,_0x59a856);}catch(_0x525cd1){try{await this[_0x4f95c5(0x95e)][_0x4f95c5(0x266)](_0x50277d+_0x1d2bdc);}catch(_0x4f0c73){throw new _0x3371e7(_0x4c9695[_0x4f95c5(0x47a)],_0x4f95c5(0x7f2)+_0x50277d);}throw new _0x3371e7(_0x4c9695[_0x4f95c5(0x78d)],_0x4f95c5(0x584));}}async[_0x273dd2(0x916)](_0x5d4ce7,_0x3b8ac5){const _0x19ee21=_0x273dd2,{recursive:_0x59c7f0=!0x1,includeSyncingFiles:_0x19a98c=!0x1}=_0x3b8ac5??{};_0x58cca5[_0x19ee21(0x7ea)](_0x37519b[_0x19ee21(0x4dc)],{'type':_0x19ee21(0x916),'label':this[_0x19ee21(0x51b)],'nodeId':this[_0x19ee21(0x61b)][_0x19ee21(0xb9d)](),'nodeType':this[_0x19ee21(0x61b)][_0x19ee21(0x6b9)],'clusterId':this[_0x19ee21(0x78c)],'path':_0x5d4ce7}),this['reads']+=0x1,this[_0x19ee21(0x844)]();try{const _0xcbec65=await this[_0x19ee21(0x95e)][_0x19ee21(0x916)](_0x5d4ce7,_0x59c7f0);return this['processList'](_0xcbec65,{'recursive':_0x59c7f0,'includeSyncingFiles':_0x19a98c});}catch(_0x4bef26){throw new _0x3371e7(_0x4c9695[_0x19ee21(0x47a)],_0x19ee21(0x596)+_0x5d4ce7);}}[_0x273dd2(0xac6)](_0x26af10){const _0x17529a=_0x273dd2;this[_0x17529a(0x420)]+=0x1;for(const _0x4b403b of this[_0x17529a(0x471)][_0x17529a(0x2e7)]())this[_0x17529a(0xabc)](_0x4b403b,[_0x26af10]);}[_0x273dd2(0x4a1)](_0x3490e5){const _0x55df37=_0x273dd2;this[_0x55df37(0x420)]-=0x1;const _0x5484a6=this[_0x55df37(0x960)][_0x55df37(0x266)](_0x3490e5);if(_0x5484a6){for(const [_0xf506ec,_0x1794a2]of _0x5484a6[_0x55df37(0x2e7)]())this[_0x55df37(0x43e)](_0xf506ec,_0x1794a2);this[_0x55df37(0x960)][_0x55df37(0x997)](_0x3490e5);}}async['getSize'](_0x58c18b='/'){const _0x2a4741=_0x273dd2;try{return await this['objectStoreConnector'][_0x2a4741(0x8f7)](_0x58c18b);}catch(_0x46b30f){if(_0x46b30f instanceof Error&&_0x46b30f[_0x2a4741(0x512)]['includes'](_0x2a4741(0x647)))return 0x0;throw new _0x3371e7(_0x4c9695[_0x2a4741(0x47a)],_0x2a4741(0xb69)+_0x58c18b);}}[_0x273dd2(0x917)](){const _0x300ccb=_0x273dd2;this[_0x300ccb(0x249)]&&(this[_0x300ccb(0x249)]=!0x1,this[_0x300ccb(0xb4b)][_0x300ccb(0xb07)]({'event':_0x2a74a6[_0x300ccb(0x54a)]['SyncComplete'],'payload':{'filesSynced':this[_0x300ccb(0x223)]}}));}async[_0x273dd2(0x6c3)](_0x585633,{includeSyncingFiles:_0x3098dc=!0x1}){const _0x395d27=_0x273dd2,_0x453587=[];for(const _0x482cbe of _0x585633)if(_0x482cbe[_0x395d27(0x9c8)]!==_0x2a74a6[_0x395d27(0xaca)][_0x395d27(0xb7f)]){if(_0x482cbe['name']!==_0x594e98){if(_0x482cbe['name'][_0x395d27(0x8c8)](_0x1d2bdc)){if(!_0x3098dc)continue;const _0x21500c=_0x482cbe;if(_0x21500c[_0x395d27(0xa7b)]=_0x21500c[_0x395d27(0xa7b)][_0x395d27(0x4cf)](_0x1d2bdc,''),_0x21500c[_0x395d27(0x6c7)]=_0x21500c[_0x395d27(0x6c7)][_0x395d27(0x4cf)](_0x1d2bdc,''),await this[_0x395d27(0x516)](_0x21500c['pathName'])){_0x585633[_0x395d27(0x77e)](_0x4ac2a3=>_0x4ac2a3['pathName']===_0x21500c[_0x395d27(0x6c7)])['status']=_0x2a74a6[_0x395d27(0x965)][_0x395d27(0x309)];continue;}_0x21500c[_0x395d27(0x3f4)]=_0x2a74a6[_0x395d27(0x965)]['Pending'];}_0x453587[_0x395d27(0x604)](_0x482cbe);}}else _0x482cbe[_0x395d27(0x59f)]=await this['processList'](_0x482cbe[_0x395d27(0x59f)]??[],{'includeSyncingFiles':_0x3098dc}),_0x453587[_0x395d27(0x604)](_0x482cbe);return _0x453587;}async['publishFile'](_0x17450c,_0x417889,_0x5c8351){const _0x3fbb2b=_0x273dd2;try{const _0x557a04=(0x0,_0x5d1d4c['v4'])(),_0x4e57ff=await _0x3b18b3(_0x17450c),_0x4f6424=_0x1fd9df(_0x417889??'/',_0x17450c['name']);let _0x56c600=!0x0;const _0x1012a5={'payloadType':_0x5c2585[_0x3fbb2b(0x273)],'action':_0x35f8bc[_0x3fbb2b(0x640)],'id':_0x557a04,'parentId':this['lastTransactionId'],'answererId':this[_0x3fbb2b(0x61b)][_0x3fbb2b(0xb9d)](),'name':_0x17450c[_0x3fbb2b(0xa7b)],'type':_0x17450c[_0x3fbb2b(0x6b9)],'path':_0x417889??'/','skipEncryption':_0x5c8351?.['skipEncryption']??!0x1,'checksum':_0x4e57ff};try{if(!_0x5c8351?.['fetchUrl'])throw new Error(_0x3fbb2b(0x7e9));const _0xaa5bb2=_0x4f6424+_0x1d2bdc;await this['objectStoreConnector'][_0x3fbb2b(0x266)](_0xaa5bb2),_0x56c600=!0x1,await this[_0x3fbb2b(0x95e)][_0x3fbb2b(0x57e)](_0xaa5bb2),this[_0x3fbb2b(0x471)][_0x3fbb2b(0x997)](_0x4f6424);}catch(_0x3d34b3){await this[_0x3fbb2b(0xb14)](_0x1012a5);}if(this[_0x3fbb2b(0x9fe)]||this[_0x3fbb2b(0x924)]?.[_0x3fbb2b(0x73d)]?await this[_0x3fbb2b(0xb61)](_0x17450c,_0x417889,_0x5c8351):await this[_0x3fbb2b(0x8d4)](_0x17450c['name'],_0x417889??'/',{'checksum':_0x4e57ff,'skipEncryption':_0x5c8351?.[_0x3fbb2b(0x49b)]??!0x1}),this[_0x3fbb2b(0x2f5)][_0x3fbb2b(0xb9f)](_0x4f6424)){const [_0x51b0f7,_0x50dd7c]=this[_0x3fbb2b(0x2f5)][_0x3fbb2b(0x266)](_0x4f6424);this['fileSendingMap'][_0x3fbb2b(0x68c)](_0x4f6424,[!0x0,_0x50dd7c]);try{await _0x50dd7c;}catch(_0x166eee){}this[_0x3fbb2b(0x2f5)][_0x3fbb2b(0x997)](_0x4f6424);}_0x56c600&&this[_0x3fbb2b(0x420)]>0x0&&!0x0!==this['options']?.[_0x3fbb2b(0x73d)]&&await this[_0x3fbb2b(0x28e)](_0x17450c,_0x1012a5),_0x58cca5[_0x3fbb2b(0x7ea)](_0x37519b['ObjectStorage'],{'type':_0x3fbb2b(0xb07),'label':this[_0x3fbb2b(0x51b)],'nodeId':this[_0x3fbb2b(0x61b)][_0x3fbb2b(0xb9d)](),'nodeType':this[_0x3fbb2b(0x61b)][_0x3fbb2b(0x6b9)],'clusterId':this[_0x3fbb2b(0x78c)],'kind':_0x2a74a6[_0x3fbb2b(0xaca)][_0x3fbb2b(0x7a2)],'path':_0x417889,'fileName':_0x17450c[_0x3fbb2b(0xa7b)],'fileType':_0x17450c['type'],'size':_0x17450c['size']}),this['writes']+=0x1,this[_0x3fbb2b(0x844)]();}catch(_0x5a9e99){if(_0x5a9e99 instanceof _0x4b8523)throw new _0x3371e7(_0x4c9695[_0x3fbb2b(0x78d)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x3371e7(_0x4c9695['ObjectStoreInvalidPath'],_0x3fbb2b(0x51f)+_0x417889+(_0x417889?.['endsWith']('/')?'':'/')+_0x17450c['name']);}}async['publishFolder'](_0x469f66){const _0x37120e=_0x273dd2;try{const _0x3ab493=(0x0,_0x5d1d4c['v4'])(),_0x10ab71=this[_0x37120e(0x62c)],_0x344653={'payloadType':_0x5c2585[_0x37120e(0x273)],'action':_0x35f8bc[_0x37120e(0x8e2)],'id':_0x3ab493,'parentId':_0x10ab71,'path':_0x469f66};await this['publishTransaction'](_0x344653),await this['objectStoreConnector'][_0x37120e(0xb70)](_0x469f66),!0x0!==this[_0x37120e(0x924)]?.[_0x37120e(0x73d)]&&await this[_0x37120e(0xabc)](_0x344653),_0x58cca5[_0x37120e(0x7ea)](_0x37519b[_0x37120e(0x4dc)],{'type':_0x37120e(0xb07),'label':this[_0x37120e(0x51b)],'nodeId':this['localNode'][_0x37120e(0xb9d)](),'nodeType':this[_0x37120e(0x61b)][_0x37120e(0x6b9)],'clusterId':this[_0x37120e(0x78c)],'kind':_0x2a74a6[_0x37120e(0xaca)][_0x37120e(0xb7f)],'path':_0x469f66}),this[_0x37120e(0xbe8)]+=0x1,this[_0x37120e(0x844)]();}catch(_0x3c1c1d){if(_0x3c1c1d instanceof _0x4b8523)throw new _0x3371e7(_0x4c9695[_0x37120e(0x78d)],_0x37120e(0x584));throw new _0x3371e7(_0x4c9695[_0x37120e(0x47a)],'Cannot\x20publish\x20folder:\x20'+_0x469f66);}}async['publishMove'](_0x3813bd,_0xc17f0f){const _0x46fd69=_0x273dd2;try{const _0x35c893=(0x0,_0x5d1d4c['v4'])(),_0x25520a=this['lastTransactionId'],_0x4bbf87={'payloadType':_0x5c2585[_0x46fd69(0x273)],'action':_0x35f8bc[_0x46fd69(0x61a)],'id':_0x35c893,'parentId':_0x25520a,'path':_0x3813bd,'newPath':_0xc17f0f};await this[_0x46fd69(0xb14)](_0x4bbf87);const _0x2e13f6=await this['moveObject'](_0x3813bd,_0xc17f0f);!0x0!==this[_0x46fd69(0x924)]?.[_0x46fd69(0x73d)]&&await this[_0x46fd69(0xabc)](_0x4bbf87),_0x58cca5[_0x46fd69(0x7ea)](_0x37519b[_0x46fd69(0x4dc)],{'type':_0x46fd69(0x3b3),'label':this[_0x46fd69(0x51b)],'nodeId':this['localNode'][_0x46fd69(0xb9d)](),'nodeType':this[_0x46fd69(0x61b)][_0x46fd69(0x6b9)],'clusterId':this[_0x46fd69(0x78c)],'kind':_0x2e13f6,'path':_0x3813bd,'newPath':_0xc17f0f}),this[_0x46fd69(0xbe8)]+=0x1,this['sendStats']();}catch(_0xcb221e){if(_0xcb221e instanceof _0x4b8523)throw new _0x3371e7(_0x4c9695['ObjectStoreNotInSync'],_0x46fd69(0x584));throw new _0x3371e7(_0x4c9695[_0x46fd69(0x47a)],_0x46fd69(0x91f)+_0x3813bd);}}async['handleTransactionPayload'](_0x43ba5f,_0x2c9bb6=!0x1){const _0x3a47f3=_0x273dd2;if(this[_0x3a47f3(0x62c)]&&_0x43ba5f[_0x3a47f3(0x908)]!==this[_0x3a47f3(0x62c)]&&_0x43ba5f['id']!==this[_0x3a47f3(0x62c)]){if(!_0x43ba5f[_0x3a47f3(0x908)])throw new _0x4b8523(_0x4b8523[_0x3a47f3(0xa20)][_0x3a47f3(0x6ad)]);this[_0x3a47f3(0x9c6)][_0x3a47f3(0x68c)](_0x43ba5f['parentId'],_0x43ba5f);}else{try{await this[_0x3a47f3(0x80f)](_0x43ba5f,_0x2c9bb6);}catch(_0x5490f0){}await this[_0x3a47f3(0x5d0)](_0x43ba5f['id']),await this['processPendingSyncTransactions'](_0x43ba5f['id'],_0x2c9bb6);}}async[_0x273dd2(0x80f)](_0x3e6a08,_0x1d9c09=!0x1){const _0x42d71c=_0x273dd2;switch(_0x3e6a08[_0x42d71c(0xa57)]){case _0x35f8bc[_0x42d71c(0x640)]:await this[_0x42d71c(0x973)](_0x3e6a08);break;case _0x35f8bc[_0x42d71c(0x8e2)]:await this[_0x42d71c(0x7ab)](_0x3e6a08);break;case _0x35f8bc[_0x42d71c(0x61a)]:await this['handleObjectMove'](_0x3e6a08,_0x1d9c09);break;case _0x35f8bc[_0x42d71c(0x9eb)]:await this[_0x42d71c(0x2ff)](_0x3e6a08,_0x1d9c09);break;default:throw new _0x4b8523(_0x4b8523['codes'][_0x42d71c(0x6ad)],{'payload':_0x3e6a08});}}async['processPendingSyncTransactions'](_0xc386e1,_0x5d72a3=!0x1){const _0x41ee00=_0x273dd2;if(this[_0x41ee00(0x9c6)][_0x41ee00(0xb9f)](_0xc386e1)){const _0x35aebe=this[_0x41ee00(0x9c6)][_0x41ee00(0x266)](_0xc386e1);this[_0x41ee00(0x9c6)][_0x41ee00(0x997)](_0xc386e1),await this[_0x41ee00(0xa3a)](_0x35aebe,_0x5d72a3);}}async[_0x273dd2(0x476)](_0x31f56b){const _0x592b20=_0x273dd2;switch(_0x31f56b[_0x592b20(0xa57)]){case _0x35f8bc[_0x592b20(0x290)]:return this[_0x592b20(0x475)](_0x31f56b);case _0x35f8bc[_0x592b20(0xbd1)]:return this[_0x592b20(0x3ac)](_0x31f56b);case _0x35f8bc[_0x592b20(0x364)]:return this[_0x592b20(0x78a)](_0x31f56b);case _0x35f8bc[_0x592b20(0x4b2)]:return this[_0x592b20(0x973)](_0x31f56b);default:throw new _0x4b8523(_0x4b8523[_0x592b20(0xa20)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x31f56b});}}async[_0x273dd2(0x973)](_0x53ba1f,_0x45cac1=0x0){const _0x4914ee=_0x273dd2,_0x5b4939=_0x1fd9df(_0x53ba1f[_0x4914ee(0xaf8)],_0x53ba1f[_0x4914ee(0xa7b)]);if(!_0x53ba1f[_0x4914ee(0x9b6)]||void 0x0===_0x53ba1f['index']||!_0x53ba1f[_0x4914ee(0x474)])return this[_0x4914ee(0x3f2)][_0x4914ee(0x997)](_0x5b4939),void await this[_0x4914ee(0x8d4)](_0x53ba1f[_0x4914ee(0xa7b)],_0x53ba1f[_0x4914ee(0xaf8)],{'checksum':_0x53ba1f[_0x4914ee(0xb04)],'skipEncryption':_0x53ba1f[_0x4914ee(0x49b)]});if(this[_0x4914ee(0x3f2)][_0x4914ee(0xb9f)](_0x5b4939)){const _0x3e8716=this[_0x4914ee(0x3f2)][_0x4914ee(0x266)](_0x5b4939);_0x3e8716['checksum']!==_0x53ba1f['checksum']&&(_0x3e8716['stream']?.[_0x4914ee(0x210)](),this['fileChunks'][_0x4914ee(0x997)](_0x5b4939));}if(!this[_0x4914ee(0x3f2)][_0x4914ee(0xb9f)](_0x5b4939)){try{await this[_0x4914ee(0x95e)][_0x4914ee(0x57e)](_0x5b4939);}catch(_0x4888f7){}try{const _0x466146=this[_0x4914ee(0x9fe)]?await this[_0x4914ee(0x95e)]['createWritableStream'](_0x5b4939,{'skipEncryption':_0x53ba1f[_0x4914ee(0x49b)]}):void 0x0,_0x320735={'chunksReceived':_0x53ba1f['startIndex']??0x0,'bytesReceived':0x0,'stream':_0x466146,'checksum':_0x53ba1f[_0x4914ee(0xb04)]};this[_0x4914ee(0x3f2)][_0x4914ee(0x68c)](_0x5b4939,_0x320735),await this['createPendingFileWrite'](_0x53ba1f['name'],_0x53ba1f[_0x4914ee(0xaf8)],{'checksum':_0x53ba1f['checksum'],'skipEncryption':_0x53ba1f[_0x4914ee(0x49b)]});}catch(_0x4e29a9){}}const _0x4f1cfd=this[_0x4914ee(0x3f2)][_0x4914ee(0x266)](_0x5b4939);if(_0x53ba1f['checksum']!==_0x4f1cfd[_0x4914ee(0xb04)])return;if(this[_0x4914ee(0x581)](_0x53ba1f,_0x5b4939),this[_0x4914ee(0x9fe)]){if(!_0x4f1cfd[_0x4914ee(0x573)])throw new _0x4b8523(_0x4b8523[_0x4914ee(0xa20)][_0x4914ee(0x6ad)],{'message':_0x4914ee(0xa06)});let _0x33f1c1=_0x4f1cfd[_0x4914ee(0x77f)];if(_0x53ba1f[_0x4914ee(0xa4b)]!==_0x33f1c1){if(_0x33f1c1>_0x53ba1f[_0x4914ee(0xa4b)])return;const _0x3558e9=0x1000;if(_0x53ba1f[_0x4914ee(0xa4b)]>_0x33f1c1+_0x3558e9)return;if(_0x4f1cfd[_0x4914ee(0x9d3)]||(_0x4f1cfd['bufferedChunks']=[]),_0x4f1cfd[_0x4914ee(0x9d3)]['length']>0x4000)throw this[_0x4914ee(0x3f2)]['delete'](_0x5b4939),new _0x4b8523(_0x4b8523['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x4914ee(0x41d)});return void _0x4f1cfd['bufferedChunks'][_0x4914ee(0x604)](_0x53ba1f);}try{_0x4f1cfd[_0x4914ee(0x77f)]+=0x1,_0x4f1cfd[_0x4914ee(0xc1b)]+=_0x53ba1f[_0x4914ee(0x9b6)][_0x4914ee(0x489)],await _0x4f1cfd[_0x4914ee(0x573)][_0x4914ee(0x724)](_0x53ba1f[_0x4914ee(0x9b6)]);}catch(_0x3cbe92){if(console[_0x4914ee(0x5c5)](_0x4914ee(0xab6),_0x3cbe92),_0x45cac1>0x3)throw this[_0x4914ee(0x3f2)]['delete'](_0x5b4939),console[_0x4914ee(0x5c5)]('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x3cbe92),new _0x4b8523(_0x4b8523[_0x4914ee(0xa20)][_0x4914ee(0x6ad)],{'message':_0x4914ee(0x449)});return this[_0x4914ee(0x973)](_0x53ba1f,_0x45cac1+0x1);}}try{await this['manageBufferedChunks'](_0x4f1cfd,_0x53ba1f[_0x4914ee(0xa4b)]+0x1);}catch(_0x3f9963){throw this[_0x4914ee(0x3f2)]['delete'](_0x5b4939),_0x3f9963;}if(this[_0x4914ee(0x3f2)][_0x4914ee(0x68c)](_0x5b4939,_0x4f1cfd),_0x4f1cfd['chunksReceived']<_0x53ba1f[_0x4914ee(0x474)])return;await this[_0x4914ee(0x375)](_0x5b4939),this[_0x4914ee(0x9fe)]&&(await this[_0x4914ee(0x4ee)](_0x53ba1f),_0x58cca5['logServiceEvent'](_0x37519b['ObjectStorage'],{'type':'sync','label':this['label'],'nodeId':this[_0x4914ee(0x61b)][_0x4914ee(0xb9d)](),'nodeType':this['localNode'][_0x4914ee(0x6b9)],'clusterId':this[_0x4914ee(0x78c)],'kind':_0x2a74a6[_0x4914ee(0xaca)][_0x4914ee(0x7a2)],'path':_0x53ba1f[_0x4914ee(0xaf8)],'fileName':_0x53ba1f['name'],'fileType':_0x53ba1f[_0x4914ee(0x6b9)],'size':_0x4f1cfd[_0x4914ee(0xc1b)]}));const _0x4dc5e1=this['pendingFilesTransactions'][_0x4914ee(0x266)](_0x53ba1f[_0x4914ee(0xaf8)])??[];for(const _0x1953f0 of _0x4dc5e1)await this[_0x4914ee(0x80f)](_0x1953f0);this[_0x4914ee(0x7cb)]['delete'](_0x53ba1f[_0x4914ee(0xaf8)]),this['eventListener']['publish']({'event':_0x2a74a6[_0x4914ee(0x54a)][_0x4914ee(0x640)],'payload':{'file':{'kind':_0x2a74a6[_0x4914ee(0xaca)][_0x4914ee(0x7a2)],'path':_0x53ba1f[_0x4914ee(0xaf8)],'type':_0x53ba1f[_0x4914ee(0x6b9)],'size':_0x4f1cfd[_0x4914ee(0xc1b)],'name':_0x53ba1f['name'],'pathName':_0x5b4939,'status':this[_0x4914ee(0x9fe)]?_0x2a74a6[_0x4914ee(0x965)][_0x4914ee(0x325)]:_0x2a74a6[_0x4914ee(0x965)][_0x4914ee(0x8c1)]}}}),this['sendStats']();}async[_0x273dd2(0x454)](_0x391858,_0x5a73c7){const _0x49320f=_0x273dd2,_0x211b71=_0x391858[_0x49320f(0x573)];let _0x6fe82a=0x0;for(;_0x391858[_0x49320f(0x9d3)]&&_0x391858[_0x49320f(0x9d3)][_0x49320f(0x830)]>0x0;){const _0x3bcdda=_0x391858[_0x49320f(0x9d3)][_0x49320f(0x77e)](_0x1e418c=>_0x1e418c[_0x49320f(0xa4b)]===_0x5a73c7+0x1);if(!_0x3bcdda)break;_0x391858[_0x49320f(0x9d3)]=_0x391858[_0x49320f(0x9d3)][_0x49320f(0x57c)](_0x26fb86=>_0x26fb86[_0x49320f(0xa4b)]!==_0x5a73c7+0x1);try{await _0x211b71[_0x49320f(0x724)](_0x3bcdda[_0x49320f(0x9b6)]),_0x5a73c7++;}catch(_0x51ddab){if(console[_0x49320f(0x5c5)](_0x49320f(0x9d2),_0x51ddab),_0x6fe82a>0x3)throw console[_0x49320f(0x5c5)](_0x49320f(0xb5f),_0x51ddab),new _0x4b8523(_0x4b8523['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x49320f(0xb5f)});_0x6fe82a++;continue;}_0x391858[_0x49320f(0x77f)]+=0x1,_0x391858['bytesReceived']+=_0x3bcdda[_0x49320f(0x9b6)][_0x49320f(0x489)];}}async['handleFolderCreate'](_0xc351b3){const _0x160025=_0x273dd2;await this[_0x160025(0x95e)][_0x160025(0xb70)](_0xc351b3[_0x160025(0xaf8)]);const [_0x47cbd5,_0x222bdf]=_0x24a565(_0xc351b3[_0x160025(0xaf8)]);this[_0x160025(0xb4b)][_0x160025(0xb07)]({'event':_0x2a74a6[_0x160025(0x54a)][_0x160025(0x8e2)],'payload':{'folder':{'kind':_0x2a74a6['ObjectKind'][_0x160025(0xb7f)],'name':_0x222bdf,'path':_0x47cbd5,'pathName':_0xc351b3[_0x160025(0xaf8)]}}});}async[_0x273dd2(0x2ff)](_0x498517,_0x329f8d=!0x1){const _0x5b8cc7=_0x273dd2;if(!_0x329f8d&&!this[_0x5b8cc7(0x599)](_0x498517))return;const _0x1e0726=await this[_0x5b8cc7(0x57e)](_0x498517[_0x5b8cc7(0xaf8)]),[_0x3c426f,_0x37359b]=_0x24a565(_0x498517[_0x5b8cc7(0xaf8)]);this[_0x5b8cc7(0xb4b)][_0x5b8cc7(0xb07)]({'event':_0x1e0726===_0x2a74a6[_0x5b8cc7(0xaca)][_0x5b8cc7(0xb7f)]?_0x2a74a6[_0x5b8cc7(0x54a)]['FolderDelete']:_0x2a74a6['StorageEventType']['FileDelete'],'payload':{'name':_0x37359b,'path':_0x3c426f,'pathName':_0x498517[_0x5b8cc7(0xaf8)]}}),this[_0x5b8cc7(0x844)]();}async[_0x273dd2(0x52b)](_0x4cf6b2,_0x53be4f=!0x1){const _0x1f1ad3=_0x273dd2;if(!_0x53be4f&&!this[_0x1f1ad3(0x599)](_0x4cf6b2))return this[_0x1f1ad3(0x2f0)][_0x1f1ad3(0x68c)](_0x4cf6b2['newPath'],this[_0x1f1ad3(0x2f0)][_0x1f1ad3(0x266)](_0x4cf6b2[_0x1f1ad3(0xaf8)])??_0x4cf6b2[_0x1f1ad3(0xaf8)]),void this[_0x1f1ad3(0x2f0)]['delete'](_0x4cf6b2['path']);this[_0x1f1ad3(0x2f0)][_0x1f1ad3(0x997)](_0x4cf6b2[_0x1f1ad3(0xaf8)]);const _0xa90ff4=await this['objectStoreConnector'][_0x1f1ad3(0x74e)](_0x4cf6b2['path'],_0x4cf6b2[_0x1f1ad3(0x32f)]),[_0x547231,_0x12c4bf]=_0x24a565(_0x4cf6b2[_0x1f1ad3(0xaf8)]),[_0x4a42eb,_0x519f02]=_0x24a565(_0x4cf6b2[_0x1f1ad3(0x32f)]);this[_0x1f1ad3(0xb4b)][_0x1f1ad3(0xb07)]({'event':_0xa90ff4===_0x2a74a6[_0x1f1ad3(0xaca)]['Folder']?_0x2a74a6[_0x1f1ad3(0x54a)][_0x1f1ad3(0xaaf)]:_0x2a74a6[_0x1f1ad3(0x54a)][_0x1f1ad3(0xafd)],'payload':{'name':_0x519f02,'path':_0x4a42eb,'pathName':_0x4cf6b2[_0x1f1ad3(0x32f)],'oldName':_0x12c4bf,'oldPath':_0x547231,'oldPathName':_0x4cf6b2[_0x1f1ad3(0xaf8)]}}),this['sendStats']();}[_0x273dd2(0x599)](_0x4b8e7c){const _0x47cede=_0x273dd2,_0x1338fa=this['pendingFilesRename'][_0x47cede(0x266)](_0x4b8e7c[_0x47cede(0xaf8)])??_0x4b8e7c[_0x47cede(0xaf8)];let _0x3f8450=!0x1;for(const _0xc0e7e4 of this[_0x47cede(0x3f2)][_0x47cede(0x6ed)]())if(_0xc0e7e4[_0x47cede(0xb97)](_0x1338fa)){const _0x5aa97f=this[_0x47cede(0x7cb)]['get'](_0xc0e7e4)??[];_0x5aa97f[_0x47cede(0x604)](_0x4b8e7c),this[_0x47cede(0x7cb)][_0x47cede(0x68c)](_0xc0e7e4,_0x5aa97f),_0x3f8450=!0x0;}return!_0x3f8450;}async[_0x273dd2(0xb14)](_0x4ba9bf){const _0x4ea476=_0x273dd2;if(!this[_0x4ea476(0x924)]?.[_0x4ea476(0x73d)]){if(!_0x4ba9bf['id'])throw new _0x4b8523(_0x4b8523[_0x4ea476(0xa20)][_0x4ea476(0x6ad)],{'message':'Missing\x20transaction\x20id'});if(_0x4ba9bf[_0x4ea476(0x908)]!==this[_0x4ea476(0x62c)])throw new _0x4b8523(_0x4b8523[_0x4ea476(0xa20)][_0x4ea476(0x9d6)]);await this['transactionService'][_0x4ea476(0x500)](_0x4ba9bf,this[_0x4ea476(0x51b)]),await this['updateLastTransactionId'](_0x4ba9bf['id']);}}async[_0x273dd2(0x5d0)](_0xc853b0){const _0x1dfd80=_0x273dd2;this[_0x1dfd80(0x62c)]=_0xc853b0;const _0x21bee2=new File([new Blob([this[_0x1dfd80(0x62c)]])],_0x594e98,{'type':_0x1dfd80(0x701)});await this[_0x1dfd80(0xb61)](_0x21bee2,'/');}async[_0x273dd2(0x475)](_0x17a0e9){const _0x5ca28a=_0x273dd2;try{const _0x25f7f6=await this[_0x5ca28a(0x266)](_0x17a0e9[_0x5ca28a(0xaf8)]+'/'+_0x17a0e9[_0x5ca28a(0xa7b)],{'skipEncryption':_0x17a0e9[_0x5ca28a(0x49b)]}),_0x2fc30f=await _0x3b18b3(_0x25f7f6);if(''!==_0x17a0e9[_0x5ca28a(0xb04)]&&_0x2fc30f!==_0x17a0e9[_0x5ca28a(0xb04)])return;_0x17a0e9[_0x5ca28a(0x2fc)]=this[_0x5ca28a(0x61b)][_0x5ca28a(0xb9d)](),_0x17a0e9[_0x5ca28a(0xa57)]=_0x35f8bc['RequestAccepted'],await this[_0x5ca28a(0xabc)](_0x17a0e9,[_0x17a0e9['sourceId']]);}catch(_0x20e92e){}}async[_0x273dd2(0x3ac)](_0x2d6af9){const _0x3bb46c=_0x273dd2,_0x49146b=_0x1fd9df(_0x2d6af9[_0x3bb46c(0xaf8)],_0x2d6af9[_0x3bb46c(0xa7b)]);if(!this[_0x3bb46c(0x471)][_0x3bb46c(0xb9f)](_0x49146b))return;const _0x400201=this[_0x3bb46c(0x471)][_0x3bb46c(0x266)](_0x49146b);_0x400201[_0x3bb46c(0xa57)]=_0x35f8bc[_0x3bb46c(0x364)];const _0x5dc156=_0x2d6af9[_0x3bb46c(0x2fc)];if(!_0x5dc156)throw new _0x4b8523(_0x4b8523['codes']['ObjectStoreInvalidSyncMessage'],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this[_0x3bb46c(0x471)]['delete'](_0x49146b),this[_0x3bb46c(0x960)][_0x3bb46c(0xb9f)](_0x5dc156)||this[_0x3bb46c(0x960)]['set'](_0x5dc156,new Map()),this[_0x3bb46c(0x960)][_0x3bb46c(0x266)](_0x5dc156)['set'](_0x49146b,[_0x400201,this[_0x3bb46c(0x24d)](_0x5dc156,_0x49146b)]),_0x400201['answererId']=_0x5dc156,_0x400201[_0x3bb46c(0xc29)]=this[_0x3bb46c(0x3f2)][_0x3bb46c(0x266)](_0x49146b)?.['chunksReceived']??0x0,0x0===_0x400201[_0x3bb46c(0xc29)])try{const [_0x9e6e7,_0x416876]=await this[_0x3bb46c(0x329)](_0x2d6af9[_0x3bb46c(0xa7b)],_0x2d6af9['path'],_0x2d6af9[_0x3bb46c(0xb04)]);_0x9e6e7&&(_0x400201[_0x3bb46c(0xc29)]=_0x416876);}catch(_0x511cc6){}this['send'](_0x400201,[_0x5dc156]);}async[_0x273dd2(0x78a)](_0x2ddd79){const _0x29a5b5=_0x273dd2,_0x535dfd=_0x1fd9df(_0x2ddd79[_0x29a5b5(0xaf8)],_0x2ddd79[_0x29a5b5(0xa7b)]),_0x5dcd8c=await this[_0x29a5b5(0x266)](_0x535dfd,{'skipEncryption':_0x2ddd79['skipEncryption']}),_0x20318c={..._0x2ddd79,'answererId':this['localNode'][_0x29a5b5(0xb9d)](),'action':_0x35f8bc[_0x29a5b5(0x4b2)],'startIndex':_0x2ddd79[_0x29a5b5(0xc29)]??0x0};await this['sendFile'](_0x5dcd8c,_0x20318c,[_0x2ddd79['sourceId']]);}async['sendFile'](_0x5b39d9,_0x3cc969,_0x2fa611){let _0x55a719,_0x56b213;const _0x5eba3e=new Promise(async(_0x372b29,_0x55100c)=>{_0x55a719=_0x372b29,_0x56b213=_0x55100c;});return((async()=>{const _0xf9c858=a0_0x35be,_0x157fe4=Math[_0xf9c858(0x42f)](_0x5b39d9['size']/_0x4e18d4);let _0x1162c6=_0x3cc969[_0xf9c858(0xc29)]??0x0;const _0x1755fb=_0x1fd9df(_0x3cc969[_0xf9c858(0xaf8)],_0x3cc969[_0xf9c858(0xa7b)]);this[_0xf9c858(0x2f5)]['set'](_0x1755fb,[!0x1,_0x5eba3e]);for await(const _0x266ea5 of async function*(_0x242ab1,_0x104c6c=0x0,_0x9f72dc){for await(const _0x4a590d of _0x54deb4(_0x242ab1,_0x104c6c,_0x9f72dc))yield _0x4a590d;}(_0x5b39d9,_0x1162c6,this[_0xf9c858(0x75e)])){const [_0x1122f1]=this[_0xf9c858(0x2f5)][_0xf9c858(0x266)](_0x1755fb)??[];if(_0x1122f1)return this[_0xf9c858(0x2f5)][_0xf9c858(0x997)](_0x1755fb),void _0x56b213(new Error('File\x20sending\x20interrupted'));if(this[_0xf9c858(0x7cb)][_0xf9c858(0xb9f)](_0x1755fb)){const _0x4fbfde=this[_0xf9c858(0x7cb)][_0xf9c858(0x266)](_0x1755fb);for(const _0x5860c2 of _0x4fbfde)if(_0x5860c2['action']===_0x35f8bc[_0xf9c858(0x640)]||_0x5860c2[_0xf9c858(0xa57)]===_0x35f8bc[_0xf9c858(0x9eb)])return;}const _0x2cf389={..._0x3cc969,'type':_0x5b39d9[_0xf9c858(0x6b9)],'data':_0x266ea5,'index':_0x1162c6,'total':_0x157fe4};this['send'](_0x2cf389,_0x2fa611),_0x1162c6++;}const _0x139435=setInterval(async()=>{const _0x28c621=_0xf9c858;await this[_0x28c621(0x75e)]()>0x0||(clearInterval(_0x139435),_0x55a719());});this[_0xf9c858(0x2f5)][_0xf9c858(0x997)](_0x1755fb);})()),_0x5eba3e;}async['deletePendingFile'](_0x2b693b){const _0x4c9670=_0x273dd2;try{const _0x1311af=_0x1fd9df(_0x2b693b['path'],_0x2b693b[_0x4c9670(0xa7b)]),_0x182641=_0x1311af+_0x1d2bdc;await this['deleteObject'](_0x182641);const [,_0x3ab415]=this[_0x4c9670(0x960)][_0x4c9670(0x266)](_0x2b693b['answererId'])?.[_0x4c9670(0x266)](_0x1311af)??[];_0x3ab415&&(clearTimeout(_0x3ab415),this[_0x4c9670(0x960)][_0x4c9670(0x266)](_0x2b693b[_0x4c9670(0x2fc)])[_0x4c9670(0x997)](_0x1311af));}catch(_0x20d992){}0x0===this[_0x4c9670(0x960)]['get'](_0x2b693b['answererId'])?.['size']&&this[_0x4c9670(0x960)]['delete'](_0x2b693b['answererId']),0x0===this[_0x4c9670(0x960)][_0x4c9670(0x85c)]&&0x0===this['objectRequests'][_0x4c9670(0x85c)]&&this[_0x4c9670(0x917)]();}async[_0x273dd2(0x5a9)](){const _0x2077ae=_0x273dd2;try{const _0x458c53=await this['transactionService']['getTransactions'](this[_0x2077ae(0x51b)],this['lastTransactionId']);for(const _0x144fdf of _0x458c53)await this[_0x2077ae(0xa3a)](_0x144fdf,!0x0);}catch(_0x2be001){if(_0x2be001 instanceof _0x4b8523&&_0x2be001['code']===_0x4b8523[_0x2077ae(0xa20)][_0x2077ae(0x70b)]){await this[_0x2077ae(0x95e)][_0x2077ae(0x57e)](_0x594e98),delete this[_0x2077ae(0x62c)];try{const _0x514658=await this['objectStoreConnector']['list']('/',!0x1);for(const _0xc5e63d of _0x514658)await this[_0x2077ae(0x95e)]['deleteObject'](_0xc5e63d[_0x2077ae(0x6c7)]);}catch(_0x30d48c){}return await this[_0x2077ae(0x5a9)]();}throw _0x2be001;}}async[_0x273dd2(0x972)](){const _0xafa808=_0x273dd2,_0x3f833d=await this[_0xafa808(0x916)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x58d02a=async _0x173415=>{const _0x1be202=_0xafa808;for(const _0x764f4e of _0x173415){if(_0x764f4e[_0x1be202(0x9c8)]===_0x2a74a6[_0x1be202(0xaca)][_0x1be202(0xb7f)]){_0x764f4e['entries']&&_0x764f4e[_0x1be202(0x59f)]['length']>0x0&&await _0x58d02a(_0x764f4e[_0x1be202(0x59f)]);continue;}if(_0x764f4e['status']!==_0x2a74a6[_0x1be202(0x965)][_0x1be202(0x8c1)])continue;const _0x113df7=await this['get'](_0x764f4e[_0x1be202(0x6c7)]+_0x1d2bdc),_0xd244f2=JSON[_0x1be202(0xba5)](await _0x113df7[_0x1be202(0x4e4)]()),_0x59c60d=_0x764f4e['name'][_0x1be202(0x4cf)](_0x1d2bdc,''),_0x28e05f={'payloadType':_0x5c2585[_0x1be202(0x876)],'action':_0x35f8bc['RequestFile'],'sourceId':this[_0x1be202(0x61b)]['getId'](),'type':'','path':_0x764f4e[_0x1be202(0xaf8)],'name':_0x59c60d,'checksum':_0xd244f2[_0x1be202(0xb04)],'skipEncryption':_0xd244f2['skipEncryption']},_0x2a5cf5=_0x1fd9df(_0x764f4e[_0x1be202(0xaf8)],_0x59c60d);this[_0x1be202(0x471)]['set'](_0x2a5cf5,_0x28e05f);}};await _0x58d02a(_0x3f833d),0x0===this['objectRequests'][_0xafa808(0x85c)]&&0x0===this[_0xafa808(0x960)][_0xafa808(0x85c)]&&this['completeSync']();}async[_0x273dd2(0x8d4)](_0xf2125a,_0x53a63b,_0x52744a){const _0xcc143b=_0x273dd2,_0x5519a4=new File([new Blob([JSON[_0xcc143b(0xa5e)](_0x52744a)])],''+_0xf2125a+_0x1d2bdc,{'type':'text/plain'});await this[_0xcc143b(0xb61)](_0x5519a4,_0x53a63b);}async[_0x273dd2(0x329)](_0x26aba8,_0x4b5eb2,_0x20f88e){const _0x4f2bc1=_0x273dd2;try{const _0x5c5a3a=_0x1fd9df(_0x4b5eb2,_0x26aba8),_0x5597a5=_0x5c5a3a+_0x1d2bdc,_0x1cc5ff=await this[_0x4f2bc1(0x95e)][_0x4f2bc1(0x266)](_0x5597a5),{checksum:_0x2a2515,skipEncryption:_0x452d8b}=JSON[_0x4f2bc1(0xba5)](await _0x1cc5ff[_0x4f2bc1(0x4e4)]()),_0x44481b=(await this[_0x4f2bc1(0x95e)][_0x4f2bc1(0x266)](_0x5c5a3a,{'skipEncryption':_0x452d8b}))[_0x4f2bc1(0x85c)];return _0x2a2515===_0x20f88e&&_0x44481b%_0x4e18d4==0x0?[!0x0,Math['round'](_0x44481b/_0x4e18d4)]:(await this[_0x4f2bc1(0x95e)]['deleteObject'](_0x5c5a3a),[!0x1,0x0]);}catch(_0x6975b6){return[!0x1,0x0];}}['getOrResetPendingFileTimeout'](_0x21c47f,_0x1b06a3){const _0x5e49a6=_0x273dd2,[_0x1de2e3,_0x39f0ba]=this[_0x5e49a6(0x960)][_0x5e49a6(0x266)](_0x21c47f)?.[_0x5e49a6(0x266)](_0x1b06a3)??[];return _0x39f0ba&&clearTimeout(_0x39f0ba),setTimeout(()=>{const _0x59103a=_0x5e49a6,[_0x524ca3,_0x3bb2f1]=this[_0x59103a(0x960)][_0x59103a(0x266)](_0x21c47f)['get'](_0x1b06a3);this[_0x59103a(0x43e)](_0x524ca3,_0x3bb2f1);},0x927c0);}async['sendFileRequestPayload'](_0x454249,_0x302db7){const _0x28558d=_0x273dd2;clearTimeout(_0x302db7),_0x454249[_0x28558d(0xa57)]=_0x35f8bc[_0x28558d(0x290)],this[_0x28558d(0x471)][_0x28558d(0x68c)](_0x1fd9df(_0x454249[_0x28558d(0xaf8)],_0x454249[_0x28558d(0xa7b)]),_0x454249),this[_0x28558d(0xabc)](_0x454249);}['setPendingFileSyncingPayload'](_0x5cb569,_0x55bcbb){const _0x11a4ed=_0x273dd2;if(!this[_0x11a4ed(0x9fe)])return;this[_0x11a4ed(0x960)][_0x11a4ed(0xb9f)](_0x5cb569[_0x11a4ed(0x2fc)])||this['pendingFilesSyncing'][_0x11a4ed(0x68c)](_0x5cb569[_0x11a4ed(0x2fc)],new Map());const [_0x41042a]=this[_0x11a4ed(0x960)]['get'](_0x5cb569[_0x11a4ed(0x2fc)])['get'](_0x55bcbb)??[{'payloadType':_0x5c2585[_0x11a4ed(0x876)],'action':_0x35f8bc[_0x11a4ed(0x290)],'sourceId':this[_0x11a4ed(0x61b)][_0x11a4ed(0xb9d)](),'type':_0x5cb569[_0x11a4ed(0x6b9)],'name':_0x5cb569[_0x11a4ed(0xa7b)],'path':_0x5cb569['path'],'skipEncryption':_0x5cb569['skipEncryption'],'checksum':_0x5cb569[_0x11a4ed(0xb04)],'answererId':_0x5cb569[_0x11a4ed(0x2fc)]}];this[_0x11a4ed(0x960)][_0x11a4ed(0x266)](_0x5cb569[_0x11a4ed(0x2fc)])[_0x11a4ed(0x68c)](_0x55bcbb,[_0x41042a,this[_0x11a4ed(0x24d)](_0x5cb569[_0x11a4ed(0x2fc)],_0x55bcbb)]);}async['writeFile'](_0x220b60,_0x482c8d,_0x32ac10){const _0x96d691=_0x273dd2;this[_0x96d691(0x249)]&&(this[_0x96d691(0x223)]+=0x1),await this['objectStoreConnector']['writeFile'](_0x220b60,_0x482c8d,_0x32ac10);}async['deleteObject'](_0x57307a){const _0x131665=_0x273dd2;try{const _0x4ff62c=await this[_0x131665(0x95e)][_0x131665(0x57e)](_0x57307a);if(!_0x57307a[_0x131665(0x8c8)](_0x1d2bdc))try{await this[_0x131665(0x95e)]['deleteObject'](_0x57307a+_0x1d2bdc);}catch(_0x5da89d){}return this['isSyncing']&&_0x4ff62c===_0x2a74a6['ObjectKind'][_0x131665(0x7a2)]&&(this[_0x131665(0x223)]+=0x1),_0x4ff62c;}catch(_0x4dd432){return await this['objectStoreConnector'][_0x131665(0x57e)](_0x57307a+_0x1d2bdc);}}async[_0x273dd2(0x74e)](_0x36d505,_0x18741e){const _0x2fa9b3=_0x273dd2;try{const _0x2d7f05=await this['objectStoreConnector'][_0x2fa9b3(0x74e)](_0x36d505,_0x18741e);if(!_0x36d505['endsWith'](_0x1d2bdc))try{await this[_0x2fa9b3(0x95e)][_0x2fa9b3(0x74e)](_0x36d505+_0x1d2bdc,_0x18741e+_0x1d2bdc);}catch(_0x278ed0){}return _0x2d7f05;}catch(_0x11769b){return await this['objectStoreConnector'][_0x2fa9b3(0x74e)](_0x36d505+_0x1d2bdc,_0x18741e+_0x1d2bdc);}}[_0x273dd2(0x844)](){const _0x596ff1=_0x273dd2;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x596ff1(0x9a2)]=setTimeout(async()=>{const _0x3b1e6e=_0x596ff1;delete this['debounceStats'];const _0x4669eb=await this['objectStoreConnector'][_0x3b1e6e(0x8f7)]('/');this[_0x3b1e6e(0x2fb)]?.[_0x3b1e6e(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x3b1e6e(0x829)],'content':{'type':_0x310f3a[_0x3b1e6e(0x45f)],'label':this[_0x3b1e6e(0x51b)],'stats':{'timestamp':Date[_0x3b1e6e(0x3a1)](),'storage':_0x4669eb,'messagesSent':this[_0x3b1e6e(0x695)],'messagesReceived':this[_0x3b1e6e(0x3ed)],'bytesSent':this[_0x3b1e6e(0x24b)],'bytesReceived':this['bytesReceived'],'writes':this[_0x3b1e6e(0xbe8)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x3b1e6e(0x9fe)]&&_0x58cca5[_0x3b1e6e(0x5eb)](_0x37519b[_0x3b1e6e(0x4dc)],_0x3b1e6e(0x61c)+this[_0x3b1e6e(0x78c)]+_0x3b1e6e(0x61c)+this[_0x3b1e6e(0x51b)],_0x4669eb);},_0xcc772);}async[_0x273dd2(0x516)](_0x489cf8){const _0x5c0ac0=_0x273dd2;try{return await this[_0x5c0ac0(0x266)](_0x489cf8),!0x0;}catch(_0x3a237d){return!0x1;}}async[_0x273dd2(0x375)](_0x2e5460){const _0x3f5f13=_0x273dd2;if(!this[_0x3f5f13(0x3f2)][_0x3f5f13(0xb9f)](_0x2e5460))return;const _0x4f8546=this['fileChunks'][_0x3f5f13(0x266)](_0x2e5460);if(_0x4f8546[_0x3f5f13(0x573)])try{await _0x4f8546[_0x3f5f13(0x573)]['close']();}catch(_0x418def){console[_0x3f5f13(0x5c5)](_0x3f5f13(0xbef),_0x418def);}this[_0x3f5f13(0x3f2)][_0x3f5f13(0x997)](_0x2e5460);}}class _0x38c336 extends _0x37e41d{[_0x273dd2(0x61b)];[_0x273dd2(0x78c)];['unsubscribeHandler']=new Map();[_0x273dd2(0x9a2)];constructor(_0x52d880,_0x50a075,_0x1fd60d){const _0x37ea06=_0x273dd2;if('string'!=typeof _0x50a075)throw new _0x3371e7(_0x4c9695[_0x37ea06(0x4e5)],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x52d880,_0x50a075),this[_0x37ea06(0x61b)]=_0x52d880,this[_0x37ea06(0x78c)]=_0x1fd60d,this[_0x37ea06(0x844)]();}['reset'](){const _0x3cb697=_0x273dd2;this[_0x3cb697(0x844)]();}[_0x273dd2(0x54c)](){const _0x337b21=_0x273dd2;return _0x2a74a6[_0x337b21(0x2a7)][_0x337b21(0x7b3)];}[_0x273dd2(0xb07)](_0x26bacc,_0x2ccf11){const _0xa33fc1=_0x273dd2;_0x58cca5[_0xa33fc1(0x3a3)](_0x57ac86[_0xa33fc1(0x7b3)],'PubSubTopic\x20publish',this[_0xa33fc1(0x61b)][_0xa33fc1(0xb9d)](),_0x26bacc,_0x2ccf11),_0x58cca5['logServiceEvent'](_0x37519b[_0xa33fc1(0x7b3)],{'type':_0xa33fc1(0xb07),'label':this[_0xa33fc1(0x51b)],'nodeId':this[_0xa33fc1(0x61b)][_0xa33fc1(0xb9d)](),'nodeType':this[_0xa33fc1(0x61b)][_0xa33fc1(0x6b9)],'clusterId':this[_0xa33fc1(0x78c)],'remoteIds':_0x2ccf11??[],'contentType':_0x26bacc instanceof File?_0x2a74a6['ContentType'][_0xa33fc1(0x7a2)]:_0x2a74a6['ContentType'][_0xa33fc1(0xa89)],'size':_0x26bacc instanceof File?_0x26bacc[_0xa33fc1(0x85c)]:JSON[_0xa33fc1(0xa5e)](_0x26bacc)[_0xa33fc1(0x830)]}),this[_0xa33fc1(0x844)](),this[_0xa33fc1(0xabc)](_0x26bacc,_0x2ccf11);}[_0x273dd2(0x6f8)](_0x1c9f36,_0x40e693){const _0x3622f0=_0x273dd2;if(this[_0x3622f0(0x9dd)][_0x3622f0(0xb9f)](_0x1c9f36))throw new _0x3371e7(_0x4c9695[_0x3622f0(0x55b)],_0x3622f0(0x848));this[_0x3622f0(0x9dd)]['set'](_0x1c9f36,this[_0x3622f0(0xb80)]((_0x107aa4,_0x41ff91)=>{const _0xac7c55=_0x3622f0;_0xac7c55(0x9b6)===_0x1c9f36&&_0x41ff91 instanceof File||!('file'!==_0x1c9f36||_0x41ff91 instanceof File)||(_0x58cca5['log'](_0x57ac86[_0xac7c55(0x7b3)],_0xac7c55(0x2f1),this[_0xac7c55(0x61b)][_0xac7c55(0xb9d)](),_0x107aa4,_0x41ff91),_0x58cca5[_0xac7c55(0x7ea)](_0x37519b[_0xac7c55(0x7b3)],{'type':'subscribe','label':this[_0xac7c55(0x51b)],'nodeId':this[_0xac7c55(0x61b)][_0xac7c55(0xb9d)](),'nodeType':this[_0xac7c55(0x61b)][_0xac7c55(0x6b9)],'clusterId':this[_0xac7c55(0x78c)],'remoteId':_0x107aa4,'contentType':_0x1c9f36,'size':_0x41ff91 instanceof File?_0x41ff91[_0xac7c55(0x85c)]:JSON[_0xac7c55(0xa5e)](_0x41ff91)['length']}),this[_0xac7c55(0x844)](),_0x40e693(_0x107aa4,_0x41ff91));}));}[_0x273dd2(0xbf5)](_0x5a14e1){const _0x3a4448=_0x273dd2;this[_0x3a4448(0x9dd)][_0x3a4448(0x266)](_0x5a14e1)?.(),this[_0x3a4448(0x9dd)][_0x3a4448(0x997)](_0x5a14e1);}[_0x273dd2(0x553)](){const _0x673e88=_0x273dd2;this[_0x673e88(0x9dd)][_0x673e88(0xb9b)](_0x104703=>_0x104703()),clearTimeout(this[_0x673e88(0x9a2)]),delete this[_0x673e88(0x9a2)],super[_0x673e88(0x553)]();}[_0x273dd2(0x210)](){const _0x240501=_0x273dd2;this['systemTopic']?.[_0x240501(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x240501(0x829)],'content':{'type':_0x310f3a[_0x240501(0x4a6)],'label':this['label']}});}[_0x273dd2(0x844)](){const _0x3f19da=_0x273dd2;this[_0x3f19da(0x9a2)]&&clearTimeout(this[_0x3f19da(0x9a2)]),this['debounceStats']=setTimeout(()=>{const _0x1371c5=_0x3f19da;this['systemTopic']?.[_0x1371c5(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a['PubSubTopicStats'],'label':this[_0x1371c5(0x51b)],'stats':{'timestamp':Date[_0x1371c5(0x3a1)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x1371c5(0x3ed)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x1371c5(0xc1b)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0xcc772);}}class _0x42b2dd extends _0xa93007{[_0x273dd2(0x61b)];['internalId'];[_0x273dd2(0x4ae)];[_0x273dd2(0x78c)];['unsubscribeHandler'];[_0x273dd2(0x5f0)];[_0x273dd2(0xabd)];[_0x273dd2(0x524)]=new Map();['renderElement'];[_0x273dd2(0xb67)]=new Set();[_0x273dd2(0xb5a)];['providerListener']=_0x2d1945();[_0x273dd2(0x87e)]=new Map();constructor(_0x13fcc5,_0x1dbe7f,_0x522d3b,_0x44ce19,_0x2c0cb5,_0x19287c){const _0x15d88a=_0x273dd2;super(_0x1dbe7f,_0x522d3b,new MediaStream()),this[_0x15d88a(0x61b)]=_0x13fcc5,this['internalId']=_0x44ce19,this[_0x15d88a(0x4ae)]=_0x2c0cb5,this[_0x15d88a(0x78c)]=_0x19287c,this[_0x15d88a(0x250)][_0x15d88a(0x34a)]()['forEach'](_0x1a5220=>this['setupTrackEndedListeners'](_0x1a5220));}['destroy'](){const _0x518daa=_0x273dd2;this[_0x518daa(0x524)]['size']>0x0&&(this[_0x518daa(0x524)]['forEach'](_0x190648=>{const _0xc17004=_0x518daa;_0x190648[_0xc17004(0x200)](),_0x190648['destroy']();}),this['outgoingStreams'][_0x518daa(0x320)]()),this[_0x518daa(0x87e)][_0x518daa(0xb9b)](_0x24b4c7=>_0x24b4c7()),this[_0x518daa(0x250)][_0x518daa(0x34a)]()[_0x518daa(0xb9b)](_0x5bf3ec=>this['mediaStream'][_0x518daa(0x23e)](_0x5bf3ec)),this[_0x518daa(0xabd)]&&(clearTimeout(this[_0x518daa(0xabd)]),delete this[_0x518daa(0xabd)]),this[_0x518daa(0x5f0)]?.(),super['destroy']();}[_0x273dd2(0xb87)](_0x2e2c7a){const _0x485e71=_0x273dd2;this['unsubscribeHandler']=_0x2e2c7a[_0x485e71(0x6f8)](({content:_0x1d78d1})=>{const _0x405a4d=_0x485e71;switch(_0x1d78d1[_0x405a4d(0xa57)]){case _0x45236f['RemoteAdd']:if(_0x58cca5[_0x405a4d(0x3a3)](_0x57ac86[_0x405a4d(0x26e)],_0x405a4d(0x9db),this[_0x405a4d(0x61b)][_0x405a4d(0xb9d)](),this[_0x405a4d(0xb5a)]),_0x1d78d1[_0x405a4d(0x573)]['id']!==this[_0x405a4d(0x464)]||_0x1d78d1['providerId']!==this['providerId'])return;this['removeTrack'](_0x1d78d1[_0x405a4d(0xa7f)][_0x405a4d(0x9c8)]),this[_0x405a4d(0x250)]['addTrack'](_0x1d78d1[_0x405a4d(0xa7f)]);for(const [_0x23298c,_0x5a8e32]of this[_0x405a4d(0x524)][_0x405a4d(0x59f)]())try{_0x5a8e32[_0x405a4d(0x43b)](_0x1d78d1[_0x405a4d(0xa7f)]);}catch(_0x334e20){_0x5a8e32[_0x405a4d(0x553)](),this[_0x405a4d(0x524)][_0x405a4d(0x997)](_0x23298c);}this['setupTrackEndedListeners'](_0x1d78d1[_0x405a4d(0xa7f)]),this[_0x405a4d(0x628)](),_0x405a4d(0x758)===_0x1d78d1[_0x405a4d(0xa7f)][_0x405a4d(0x9c8)]&&this[_0x405a4d(0x9a9)]&&(this[_0x405a4d(0x250)]['active']?setTimeout(()=>this['renderElement']?.['play'](),0x0):setTimeout(()=>this[_0x405a4d(0x9a9)]?.['load'](),0x0),this[_0x405a4d(0x400)]());break;case _0x45236f[_0x405a4d(0x798)]:if(_0x1d78d1['stream']['id']!==this[_0x405a4d(0x464)]||_0x1d78d1[_0x405a4d(0xb5a)]!==this[_0x405a4d(0xb5a)])return;this[_0x405a4d(0x23e)](_0x1d78d1[_0x405a4d(0xa7f)]['kind']),this[_0x405a4d(0x9a9)]&&_0x405a4d(0x758)===_0x1d78d1[_0x405a4d(0xa7f)]['kind']&&(this[_0x405a4d(0x5f0)]?.(),this[_0x405a4d(0x250)][_0x405a4d(0x34a)]()[_0x405a4d(0x830)]>0x0?this[_0x405a4d(0x9a9)]['load']():this[_0x405a4d(0x9a9)][_0x405a4d(0x7d7)]=null);}});}[_0x273dd2(0x949)](){const _0x3179f0=_0x273dd2;this[_0x3179f0(0x9dd)]?.(),this['trackEndedListeners'][_0x3179f0(0xb9b)](_0x2aadc8=>_0x2aadc8()),delete this[_0x3179f0(0x9dd)];}['getInternalStreamId'](){const _0x3ae75e=_0x273dd2;return this[_0x3ae75e(0x464)];}[_0x273dd2(0x5b3)](_0x266614){this['internalId']=_0x266614;}[_0x273dd2(0x88f)](){const _0x8a3cca=_0x273dd2;return this[_0x8a3cca(0x4ae)];}['hasTracks'](_0x372952){const _0x39ce34=_0x273dd2;for(const _0x11606c of _0x372952||this[_0x39ce34(0x4ae)])if(!this[_0x39ce34(0x250)][_0x39ce34(0x34a)]()['find'](_0x1f3565=>_0x1f3565[_0x39ce34(0x9c8)]===_0x11606c))return!0x1;return!0x0;}[_0x273dd2(0xb77)](){const _0x15f9a6=_0x273dd2;let _0x5af765={'width':0x0,'height':0x0};const _0x727753=this[_0x15f9a6(0x250)]['getVideoTracks']();if(_0x727753['length']>0x0){const _0x302a00=_0x727753[0x0][_0x15f9a6(0x519)]();_0x302a00['width']&&_0x302a00[_0x15f9a6(0x34c)]&&(_0x5af765={'width':_0x302a00[_0x15f9a6(0x23c)],'height':_0x302a00[_0x15f9a6(0x34c)]});}return _0x5af765;}[_0x273dd2(0x367)](_0x297215){const _0x3afce4=_0x273dd2;for(const _0x3aec4c of _0x297215)if(!this[_0x3afce4(0xb67)]['has'](_0x3aec4c))return!0x1;return!0x0;}[_0x273dd2(0x201)](_0x94068c,_0x4a88a6){const _0x11aded=_0x273dd2;if(!this[_0x11aded(0x524)][_0x11aded(0xb9f)](_0x94068c)){const _0x5c95fe=new _0x188f0c(this['owner'],this['label'],this['mediaStream'],_0x94068c,_0x4a88a6),_0x7e9942=_0x5c95fe['onUnregisterPublisher'](()=>{const _0x1f6954=_0x11aded;_0x7e9942(),this['outgoingStreams'][_0x1f6954(0x266)](_0x94068c)?.[_0x1f6954(0x553)](),this[_0x1f6954(0x524)][_0x1f6954(0x997)](_0x94068c);});this['outgoingStreams'][_0x11aded(0x68c)](_0x94068c,_0x5c95fe),_0x5c95fe[_0x11aded(0x32c)](this['systemTopic']);}return this['outgoingStreams'][_0x11aded(0x266)](_0x94068c);}['getShareableStreamId'](){const _0x584cc0=_0x273dd2;return this[_0x584cc0(0x250)]['id'];}['getPriority'](){const _0xc428c7=_0x273dd2;return _0x2a74a6[_0xc428c7(0x340)][_0xc428c7(0x77a)];}[_0x273dd2(0x4e0)](){const _0x5324f8=_0x273dd2;return Array['from'](this[_0x5324f8(0xb67)]);}['subscribe'](_0x50a0b2){const _0xd6ff82=_0x273dd2;let _0x9cad0a=[];if(_0x50a0b2){_0xd6ff82(0x4a2)!=typeof _0x50a0b2['video']||_0x50a0b2['video'][_0xd6ff82(0x9a9)]instanceof HTMLVideoElement||!this[_0xd6ff82(0x9a9)]||(_0x50a0b2['video']={'renderElement':this[_0xd6ff82(0x9a9)]});try{(0x0,_0x2a74a6[_0xd6ff82(0xbb9)])(_0x50a0b2);}catch(_0x5330d0){throw new _0x3371e7(_0x4c9695[_0xd6ff82(0x6e9)],_0xd6ff82(0xb0e));}_0x50a0b2[_0xd6ff82(0x758)]&&(_0x9cad0a[_0xd6ff82(0x604)](_0xd6ff82(0x758)),_0xd6ff82(0xb68)!=typeof _0x50a0b2[_0xd6ff82(0x758)]&&_0x50a0b2['video'][_0xd6ff82(0x9a9)]&&(this['renderElement']=_0x50a0b2[_0xd6ff82(0x758)][_0xd6ff82(0x9a9)],_0x50a0b2[_0xd6ff82(0x758)][_0xd6ff82(0x2ef)]||(_0x50a0b2[_0xd6ff82(0x758)]['maxResolution']={'width':this[_0xd6ff82(0x9a9)][_0xd6ff82(0x8b9)],'height':this[_0xd6ff82(0x9a9)]['clientHeight']}),delete _0x50a0b2[_0xd6ff82(0x758)][_0xd6ff82(0x9a9)])),_0x50a0b2[_0xd6ff82(0x1fc)]&&_0x9cad0a[_0xd6ff82(0x604)](_0xd6ff82(0x1fc));}else _0x9cad0a=this[_0xd6ff82(0x88f)]();this[_0xd6ff82(0x367)](_0x9cad0a)||(_0x9cad0a[_0xd6ff82(0xb9b)](_0x1a5c16=>this[_0xd6ff82(0xb67)][_0xd6ff82(0xbf8)](_0x1a5c16)),this[_0xd6ff82(0x2fb)]['publish']({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0xd6ff82(0x829)],'content':{'type':_0x310f3a[_0xd6ff82(0x552)],'label':this['label'],'ownerId':this['owner'][_0xd6ff82(0xb9d)](),'trackKinds':_0x9cad0a,'params':_0x50a0b2}}),_0x58cca5[_0xd6ff82(0x7ea)](_0x37519b['MediaStream'],{'type':_0xd6ff82(0x6f8),'label':this['label'],'nodeId':this[_0xd6ff82(0x61b)][_0xd6ff82(0xb9d)](),'nodeType':this[_0xd6ff82(0x61b)][_0xd6ff82(0x6b9)],'clusterId':this[_0xd6ff82(0x78c)],'sourceId':this[_0xd6ff82(0x7c6)][_0xd6ff82(0xb9d)](),'streamId':this['internalId'],'trackKinds':_0x9cad0a}));}[_0x273dd2(0x921)](_0x188b06){const _0x2adde9=_0x273dd2;try{(0x0,_0x2a74a6[_0x2adde9(0xbb9)])(_0x188b06);}catch(_0x50355f){throw new _0x3371e7(_0x4c9695[_0x2adde9(0x6e9)],'Invalid\x20params');}this[_0x2adde9(0xabd)]&&clearTimeout(this[_0x2adde9(0xabd)]),this[_0x2adde9(0xabd)]=setTimeout(()=>{const _0x21cd9d=_0x2adde9;delete this[_0x21cd9d(0xabd)],this[_0x21cd9d(0x2fb)][_0x21cd9d(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x21cd9d(0x829)],'content':{'type':_0x310f3a['UpdateMediaStream'],'label':this['label'],'ownerId':this['owner']['getId'](),'params':_0x188b06}});},0x1f4);}[_0x273dd2(0xbf5)](_0x143c0e){const _0x114afc=_0x273dd2;_0x143c0e||(_0x143c0e=this[_0x114afc(0x88f)]()),(_0x143c0e=Array[_0x114afc(0x833)](_0x143c0e)?_0x143c0e:[_0x143c0e])[_0x114afc(0xb9b)](_0x226142=>this[_0x114afc(0xb67)]['delete'](_0x226142)),this['systemTopic'][_0x114afc(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x114afc(0x829)],'content':{'type':_0x310f3a[_0x114afc(0x2ac)],'label':this['label'],'ownerId':this[_0x114afc(0x7c6)]['getId'](),'trackKinds':_0x143c0e,'remainingTracks':this[_0x114afc(0xb67)][_0x114afc(0x85c)]}});}[_0x273dd2(0xb30)](_0x10c040){const _0x54ae29=_0x273dd2;return this['providerListener'][_0x54ae29(0x6f8)](_0x10c040);}[_0x273dd2(0x7d3)](){const _0x1662e0=_0x273dd2;return this[_0x1662e0(0xb5a)];}[_0x273dd2(0x684)](_0x50bad2){const _0x4dbc02=_0x273dd2;this[_0x4dbc02(0xb5a)]!==_0x50bad2&&(this[_0x4dbc02(0xb5a)]=_0x50bad2,this['providerListener'][_0x4dbc02(0xb07)](_0x50bad2));}[_0x273dd2(0x8ff)](_0x37cc50){const _0x375778=_0x273dd2;this[_0x375778(0x87e)][_0x375778(0x266)](_0x37cc50)?.(),this[_0x375778(0x87e)][_0x375778(0x997)](_0x37cc50);}[_0x273dd2(0x23e)](_0x18bfe3){const _0x3acc47=_0x273dd2,_0x1ff149=this[_0x3acc47(0x250)][_0x3acc47(0x34a)]()[_0x3acc47(0x77e)](_0x576af9=>_0x576af9[_0x3acc47(0x9c8)]===_0x18bfe3);_0x1ff149&&(this['mediaStream'][_0x3acc47(0x23e)](_0x1ff149),this['outgoingStreams'][_0x3acc47(0xb9b)](_0x2f2ee5=>_0x2f2ee5[_0x3acc47(0x23e)](_0x18bfe3)),this['trackEndedListeners'][_0x3acc47(0x266)](_0x18bfe3)?.());}['setupRenderElement'](){const _0x4faf3b=_0x273dd2;this[_0x4faf3b(0x9a9)]&&(this[_0x4faf3b(0x9a9)][_0x4faf3b(0x7d7)]&&this['renderElement'][_0x4faf3b(0x7d7)]===this[_0x4faf3b(0x250)]||(this[_0x4faf3b(0x9a9)]['srcObject']=this[_0x4faf3b(0x250)]));}[_0x273dd2(0x400)](){const _0x449be4=_0x273dd2;if(this[_0x449be4(0x9a9)]&&!this[_0x449be4(0x5f0)]&&_0x449be4(0x582)!=typeof ResizeObserver){let _0x405493=this['renderElement'][_0x449be4(0x8b9)],_0x3389b9=this[_0x449be4(0x9a9)][_0x449be4(0x321)];const _0x209da1=new ResizeObserver(_0x4a23cc=>{const _0x731abe=_0x449be4,{width:_0x49e64a,height:_0x133f68}=_0x4a23cc[0x0][_0x731abe(0x7ee)];_0x405493===_0x49e64a&&_0x3389b9===_0x133f68||(_0x405493=Math[_0x731abe(0x4ad)](_0x49e64a),_0x3389b9=Math[_0x731abe(0x4ad)](_0x133f68),this[_0x731abe(0x921)]({'video':{'maxResolution':{'width':_0x49e64a,'height':_0x133f68}}}));});_0x209da1[_0x449be4(0x49d)](this[_0x449be4(0x9a9)]),this['resizeHandler']=()=>_0x209da1[_0x449be4(0x41b)]();}}[_0x273dd2(0x75f)](_0x3e03f1){const _0x50b75c=_0x273dd2,_0xa3f40a=[];for(const _0x2cfe77 of this[_0x50b75c(0xb67)])this['removeTrack'](_0x2cfe77),_0xa3f40a[_0x50b75c(0x604)](_0x2cfe77);this['providerId']&&this[_0x50b75c(0x2fb)][_0x50b75c(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x50b75c(0x829)],'content':{'type':_0x310f3a[_0x50b75c(0xbeb)],'label':this[_0x50b75c(0x51b)],'streamId':this[_0x50b75c(0x464)],'ownerId':this[_0x50b75c(0x7c6)]['getId'](),'providerId':this[_0x50b75c(0xb5a)],'trackKinds':_0xa3f40a}});}[_0x273dd2(0x589)](_0x3f527a){const _0x4e52af=_0x273dd2,_0x2f7ffb=()=>this[_0x4e52af(0x75f)](_0x3f527a);_0x3f527a[_0x4e52af(0x70d)]('ended',_0x2f7ffb),_0x3f527a[_0x4e52af(0x70d)](_0x4e52af(0x690),_0x2f7ffb),this['trackEndedListeners'][_0x4e52af(0x68c)](_0x3f527a['kind'],()=>{const _0x1de84b=_0x4e52af;_0x3f527a['removeEventListener'](_0x1de84b(0x51d),_0x2f7ffb),_0x3f527a[_0x1de84b(0xa5c)]('mute',_0x2f7ffb),this['trackEndedListeners'][_0x1de84b(0x997)](_0x3f527a[_0x1de84b(0x9c8)]);});}}class _0x5cf291 extends _0x37e41d{['localNode'];[_0x273dd2(0x78c)];[_0x273dd2(0x300)];['db'];['debounceStats'];[_0x273dd2(0xbe8)]=0x0;[_0x273dd2(0xa36)]=0x0;[_0x273dd2(0x2df)]=!0x1;constructor(_0x54023f,_0x8bbadd,_0x4a810b,_0x473543,_0x59d00c){const _0x18836a=_0x273dd2;if(_0x18836a(0x563)!=typeof _0x8bbadd)throw new _0x3371e7(_0x4c9695[_0x18836a(0x9df)],_0x18836a(0x318));super(_0x54023f,_0x8bbadd),this[_0x18836a(0x61b)]=_0x54023f,this[_0x18836a(0x78c)]=_0x4a810b,this[_0x18836a(0x300)]=_0x473543;const _0x3afd40=_0x18836a(0x61c)+this[_0x18836a(0x300)]+_0x18836a(0x61c)+this[_0x18836a(0x78c)]+_0x18836a(0x61c)+this[_0x18836a(0x51b)];this['db']=new _0x59d00c(_0x3afd40),this[_0x18836a(0x844)]();}['getIsLoaded'](){const _0x239766=_0x273dd2;return this[_0x239766(0x2df)];}[_0x273dd2(0xba1)](_0x164ef2){const _0x3e7c8a=_0x273dd2;this[_0x3e7c8a(0x2df)]=_0x164ef2;}[_0x273dd2(0x553)](){const _0x15d081=_0x273dd2;clearTimeout(this[_0x15d081(0x9a2)]),delete this[_0x15d081(0x9a2)],super['destroy']();}[_0x273dd2(0x210)](){const _0x3cfe74=_0x273dd2;this[_0x3cfe74(0x2fb)][_0x3cfe74(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a[_0x3cfe74(0x896)],'label':this[_0x3cfe74(0x51b)]}});}[_0x273dd2(0x3da)](){const _0x4e83a7=_0x273dd2;this[_0x4e83a7(0x844)]();}['getContentType'](){const _0x1a7b23=_0x273dd2;return _0x2a74a6[_0x1a7b23(0x2a7)][_0x1a7b23(0xb15)];}[_0x273dd2(0x2bc)](_0x29e8a5,_0x532767,_0x501433,_0x49d746,_0x4e9d86){const _0x29937a=_0x273dd2,_0x56cdea=this['db']['search'](_0x29e8a5,_0x532767,_0x501433,_0x49d746,_0x4e9d86);return this[_0x29937a(0xa36)]+=0x1,_0x58cca5[_0x29937a(0x7ea)](_0x37519b['VectorDatabase'],{'type':_0x29937a(0x2bc),'label':this[_0x29937a(0x51b)],'nodeId':this[_0x29937a(0x61b)][_0x29937a(0xb9d)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'size':0x0}),this[_0x29937a(0x844)](),_0x56cdea;}[_0x273dd2(0x97d)](_0x5a1207,_0x3c57b3,_0x56df04,_0x574be8){const _0x357757=_0x273dd2;this['db']['insert'](_0x5a1207,_0x3c57b3,_0x56df04,_0x574be8),this['writes']+=0x1,_0x58cca5[_0x357757(0x7ea)](_0x37519b[_0x357757(0xb15)],{'type':'insert','label':this[_0x357757(0x51b)],'nodeId':this[_0x357757(0x61b)]['getId'](),'nodeType':this['localNode']['type'],'clusterId':this[_0x357757(0x78c)],'size':_0x574be8[_0x357757(0x97e)]((_0x519e21,_0x176de0)=>_0x519e21+_0x176de0['length'],0x0)}),this['sendStats']();}[_0x273dd2(0x852)](_0x330bbb){const _0x31d8ef=_0x273dd2;this['db'][_0x31d8ef(0x852)](_0x330bbb),this[_0x31d8ef(0xbe8)]+=0x1,_0x58cca5['logServiceEvent'](_0x37519b[_0x31d8ef(0xb15)],{'type':'remove','label':this[_0x31d8ef(0x51b)],'nodeId':this['localNode'][_0x31d8ef(0xb9d)](),'nodeType':this[_0x31d8ef(0x61b)][_0x31d8ef(0x6b9)],'clusterId':this[_0x31d8ef(0x78c)],'size':0x0}),this[_0x31d8ef(0x844)]();}['saveToDisk'](_0x33c09d){this['db']['saveToDisk'](_0x33c09d);}[_0x273dd2(0x952)](_0x15d08c){this['db']['loadFromDisk'](_0x15d08c);}[_0x273dd2(0x844)](){const _0x4b8138=_0x273dd2;this[_0x4b8138(0x9a2)]&&clearTimeout(this[_0x4b8138(0x9a2)]),this['debounceStats']=setTimeout(async()=>{const _0x5032c9=_0x4b8138;delete this['debounceStats'];const _0x1bc513=this['db'][_0x5032c9(0x424)]()['byteLength'];this[_0x5032c9(0x2fb)]['publish']({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Content'],'content':{'type':_0x310f3a[_0x5032c9(0x6cd)],'label':this[_0x5032c9(0x51b)],'stats':{'timestamp':Date['now'](),'storage':_0x1bc513,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x5032c9(0x3ed)],'bytesSent':this[_0x5032c9(0x24b)],'bytesReceived':this[_0x5032c9(0xc1b)],'writes':this[_0x5032c9(0xbe8)],'reads':this[_0x5032c9(0xa36)],'prompts':0x0,'tokens':0x0}}}),_0x58cca5['logStorage'](_0x37519b[_0x5032c9(0xb15)],_0x5032c9(0x61c)+this['clusterId']+_0x5032c9(0x61c)+this[_0x5032c9(0x51b)],_0x1bc513);},_0xcc772);}}class _0x372e74{['id'];[_0x273dd2(0x2f7)];['rank'];constructor(_0x20ac70,_0xfe4e01=new Set(),_0x47ea0f){const _0x56b6d9=_0x273dd2;this['id']=_0x20ac70,this[_0x56b6d9(0x2f7)]=_0xfe4e01,this[_0x56b6d9(0x8bf)]=_0x47ea0f;}[_0x273dd2(0x210)](){const _0x22d3bc=_0x273dd2;this[_0x22d3bc(0x8bf)]=void 0x0,this[_0x22d3bc(0x2f7)][_0x22d3bc(0x320)]();}['getId'](){return this['id'];}[_0x273dd2(0xae0)](){const _0x506bba=_0x273dd2;return this[_0x506bba(0x8bf)];}[_0x273dd2(0x72e)](){const _0x42eed2=_0x273dd2;return this[_0x42eed2(0x2f7)];}}class _0x4fb96b extends _0x372e74{['id'];[_0x273dd2(0x441)];[_0x273dd2(0x230)];[_0x273dd2(0x2f7)];[_0x273dd2(0x8bf)];[_0x273dd2(0x6b9)]=_0x2a74a6[_0x273dd2(0x6e3)][_0x273dd2(0x3c5)];constructor(_0x4fe923,_0x569965,_0x4ea523,_0x2de495=new Set(),_0x8d2963){const _0x461f1f=_0x273dd2;super(_0x4fe923,_0x2de495,_0x8d2963),this['id']=_0x4fe923,this[_0x461f1f(0x441)]=_0x569965,this[_0x461f1f(0x230)]=_0x4ea523,this[_0x461f1f(0x2f7)]=_0x2de495,this[_0x461f1f(0x8bf)]=_0x8d2963;}[_0x273dd2(0x84c)](){const _0x301943=_0x273dd2;return this[_0x301943(0x441)];}[_0x273dd2(0x93a)](){const _0x5783ee=_0x273dd2;return this[_0x5783ee(0x230)];}}class _0x539859{[_0x273dd2(0x300)];[_0x273dd2(0x78c)];['clusterKey'];constructor(_0x3eccbc,_0x2df537){const _0x104a68=_0x273dd2;this['vendorId']=_0x3eccbc,this[_0x104a68(0x78c)]=_0x2df537,this[_0x104a68(0x9f9)]=_0x104a68(0x61c)+this[_0x104a68(0x300)]+_0x104a68(0x61c)+this[_0x104a68(0x78c)];}async['writeTransaction'](_0x6ffb8c,_0x5c447c){const _0x3a8f4a=_0x273dd2,_0x2aac2f=(0x0,_0x271b56[_0x3a8f4a(0x48e)])(_0x4d7ce4[_0x3a8f4a(0x233)](),_0x3a8f4a(0xaef)+this['clusterKey']+'/objectstores/'+_0x5c447c+_0x3a8f4a(0x497)+_0x6ffb8c['id']),_0x3f105a=(0x0,_0x271b56['onDisconnect'])(_0x2aac2f);_0x3f105a[_0x3a8f4a(0x852)](),_0x6ffb8c[_0x3a8f4a(0x908)]||delete _0x6ffb8c['parentId'];try{await(0x0,_0x271b56[_0x3a8f4a(0x68c)])(_0x2aac2f,_0x6ffb8c);}catch(_0x3404cd){throw await _0x3f105a[_0x3a8f4a(0xa1e)](),new _0x4b8523(_0x4b8523[_0x3a8f4a(0xa20)]['ObjectStoreCannotWriteTransaction']);}if(!0x1===(await(0x0,_0x271b56[_0x3a8f4a(0x571)])((0x0,_0x271b56[_0x3a8f4a(0x48e)])(_0x4d7ce4[_0x3a8f4a(0x233)](),_0x3a8f4a(0xaef)+this[_0x3a8f4a(0x9f9)]+'/objectstores/'+_0x5c447c+_0x3a8f4a(0x247)),_0x2512cc=>_0x2512cc?_0x2512cc===_0x6ffb8c[_0x3a8f4a(0x908)]?_0x6ffb8c['id']:void 0x0:_0x6ffb8c['parentId']?_0x6ffb8c[_0x3a8f4a(0x908)]:_0x6ffb8c['id']))[_0x3a8f4a(0xb66)])throw await(0x0,_0x271b56['remove'])(_0x2aac2f),await _0x3f105a[_0x3a8f4a(0xa1e)](),new _0x4b8523(_0x4b8523[_0x3a8f4a(0xa20)]['ObjectStoreNotSynced']);await _0x3f105a[_0x3a8f4a(0xa1e)]();}async['getTransactions'](_0x16af5d,_0x1127c3){const _0xb75d15=_0x273dd2;let _0xbdeb04=[];const _0x517109=(0x0,_0x271b56['ref'])(_0x4d7ce4[_0xb75d15(0x233)](),_0xb75d15(0xaef)+this['clusterKey']+_0xb75d15(0xb82)+_0x16af5d+_0xb75d15(0x612));let _0x112741=await(0x0,_0x271b56[_0xb75d15(0x266)])((0x0,_0x271b56[_0xb75d15(0x756)])(_0x517109,(0x0,_0x271b56[_0xb75d15(0x491)])(0x65),(0x0,_0x271b56[_0xb75d15(0x786)])()));if(!_0x112741[_0xb75d15(0x330)]()){if(void 0x0!==_0x1127c3)throw new _0x4b8523(_0x4b8523[_0xb75d15(0xa20)][_0xb75d15(0x70b)]);return _0xbdeb04;}const _0x1e869d=_0x112741[_0xb75d15(0x988)]();for(;Object[_0xb75d15(0x6ed)](_0x112741['val']())['length']>0x64;){const _0x5805c0=Object['keys'](_0x112741[_0xb75d15(0x988)]()),_0x54ba7c=_0x5805c0[_0x5805c0[_0xb75d15(0x830)]-0x1];_0x112741=await(0x0,_0x271b56[_0xb75d15(0x266)])((0x0,_0x271b56[_0xb75d15(0x756)])(_0x517109,(0x0,_0x271b56[_0xb75d15(0x491)])(0x65),(0x0,_0x271b56[_0xb75d15(0x69f)])(_0x54ba7c),(0x0,_0x271b56['orderByKey'])())),Object['assign'](_0x1e869d,_0x112741[_0xb75d15(0x988)]());}if(_0xbdeb04=Object[_0xb75d15(0x2e7)](_0x1e869d)['filter'](_0xc998ca=>_0xb75d15(0x563)!=typeof _0xc998ca),0x0===_0xbdeb04[_0xb75d15(0x830)]&&void 0x0!==_0x1127c3)throw new _0x4b8523(_0x4b8523['codes'][_0xb75d15(0x70b)]);if(_0xbdeb04[_0xb75d15(0x830)]>0x0&&void 0x0!==_0x1127c3&&!_0xbdeb04[_0xb75d15(0x77e)](_0xe0fade=>_0xe0fade['id']===_0x1127c3))throw new _0x4b8523(_0x4b8523[_0xb75d15(0xa20)][_0xb75d15(0x70b)]);const _0x36d34b=[];let _0x50db36=_0xbdeb04[_0xb75d15(0x77e)](_0xeea219=>_0xeea219[_0xb75d15(0x908)]===_0x1127c3);for(;_0x50db36;)_0x36d34b[_0xb75d15(0x604)](_0x50db36),_0x50db36=_0xbdeb04['find'](_0x326f9c=>_0x326f9c[_0xb75d15(0x908)]===_0x50db36['id']);return _0x36d34b;}}class _0x257113 extends _0x5c3d89{[_0x273dd2(0x525)];[_0x273dd2(0x417)];[_0x273dd2(0xbee)];[_0x273dd2(0x95e)];[_0x273dd2(0x6cb)];[_0x273dd2(0xa74)];['nlpLibraryConnector'];[_0x273dd2(0x371)];[_0x273dd2(0x93e)];['queryFileConnector'];['ragConnectors'];['openAIKey'];[_0x273dd2(0x384)]=_0x664954;[_0x273dd2(0x5d6)]=new Map();[_0x273dd2(0x7ec)]=!0x1;constructor(_0x5c1d22,_0x241ca3,_0x2330a4,_0x34d601,_0x5e0e06,_0x59f650,_0x47e37e,_0x4863c8,_0x460df7,_0x8b4e2b,_0x4011a1,_0x5cf184,_0x225dbf,_0x25c355){const _0x38624d=_0x273dd2;super(_0x5c1d22,_0x241ca3),this[_0x38624d(0x525)]=_0x2330a4,this[_0x38624d(0x417)]=_0x34d601,this[_0x38624d(0xbee)]=_0x5e0e06,this[_0x38624d(0x95e)]=_0x59f650,this[_0x38624d(0x6cb)]=_0x47e37e,this['fileConnector']=_0x4863c8,this['nlpLibraryConnector']=_0x460df7,this[_0x38624d(0x371)]=_0x8b4e2b,this[_0x38624d(0x93e)]=_0x4011a1,this[_0x38624d(0x4bd)]=_0x5cf184,this[_0x38624d(0x534)]=_0x225dbf,this[_0x38624d(0x3a2)]=_0x25c355,this[_0x38624d(0x485)]();}async[_0x273dd2(0x8fb)](){return[];}async['open'](_0x37bcc5=!0x1){const _0x232449=_0x273dd2;if(!this[_0x232449(0x7ec)]){_0x58cca5[_0x232449(0x866)](_0x232449(0x443),this['label']);try{for(const _0x2d1003 of this[_0x232449(0x417)])await _0x2d1003['initialize'](this['label'],this[_0x232449(0x384)]);}catch(_0x325319){return this[_0x232449(0x485)](_0x37bcc5);}this[_0x232449(0x7ec)]=!0x0,_0x58cca5[_0x232449(0x866)](_0x232449(0x7dc),this[_0x232449(0x51b)]);}}[_0x273dd2(0x210)](){const _0x2cc510=_0x273dd2;this[_0x2cc510(0x2fb)]?.[_0x2cc510(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x2cc510(0x829)],'content':{'type':_0x310f3a[_0x2cc510(0x9ba)],'label':this['label']}});}[_0x273dd2(0x4b4)](){const _0x38e352=_0x273dd2;return this[_0x38e352(0x51b)];}[_0x273dd2(0x54c)](){const _0x108b26=_0x273dd2;return _0x2a74a6['ContentType'][_0x108b26(0xa89)];}['createAIJob'](_0x26143a){const _0x28f8ee=_0x273dd2,_0x2c9d2d='job-'+(0x0,_0x5d1d4c['v4'])();let _0x5b0589=!0x1;const _0x1e1cac=()=>{const _0x4df426=a0_0x35be;if(_0x5b0589)throw new _0x4b8523(_0x4b8523[_0x4df426(0xa20)][_0x4df426(0xbdb)]);_0x5b0589=!0x0;},_0x2458ca={'threadId':_0x28f8ee(0x974)+(0x0,_0x5d1d4c['v4'])(),..._0x26143a};switch(_0x26143a[_0x28f8ee(0x6b9)]){case'collection-create':case _0x28f8ee(0x637):case'collection-query':case _0x28f8ee(0x91a):case _0x28f8ee(0x2c2):case'file-ingest':case _0x28f8ee(0x88d):case'file-list':case _0x28f8ee(0x964):case _0x28f8ee(0x437):case _0x28f8ee(0x4f2):case _0x28f8ee(0x5e4):case _0x28f8ee(0x86c):return{'id':_0x2c9d2d,..._0x26143a,'run':()=>(_0x1e1cac(),this[_0x28f8ee(0xa7a)](_0x2c9d2d,_0x2458ca))};case _0x28f8ee(0x2a2):case _0x28f8ee(0x5db):return{'id':_0x2c9d2d,'options':{'threadId':'thread-'+(0x0,_0x5d1d4c['v4'])()},..._0x26143a,'run':()=>(_0x1e1cac(),this[_0x28f8ee(0xa7a)](_0x2c9d2d,_0x2458ca)),'stream':()=>(_0x1e1cac(),this[_0x28f8ee(0x239)](_0x2c9d2d,_0x2458ca))};default:throw new Error(_0x28f8ee(0x73c));}}async[_0x273dd2(0xa7a)](_0x3f6427,_0x2b02a6){const _0x420a72=_0x273dd2;if('prompt'===_0x2b02a6[_0x420a72(0x6b9)]){await this[_0x420a72(0x609)](_0x3f6427,_0x2b02a6);const _0x48ed1c=await _0x3fff33[_0x420a72(0x8e0)](_0x2b02a6[_0x420a72(0x300)],_0x2b02a6['workflowId']),_0x34773b=_0x48ed1c[_0x420a72(0x4b3)]['find'](_0x1f5e70=>_0x1f5e70[_0x420a72(0x6b9)]===_0x3b8538[_0x420a72(0x9d8)]||_0x1f5e70['type']===_0x3b8538[_0x420a72(0xa7c)]),_0x8258db=await _0x3abe30(_0x2b02a6[_0x420a72(0x99e)]??_0x3f6427,_0x2b02a6,_0x34773b,_0x48ed1c[_0x420a72(0x4b3)],{'documentParserConnector':this[_0x420a72(0x6cb)],'fileConnector':this[_0x420a72(0xa74)],'nlpLibraryConnector':this[_0x420a72(0x930)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x420a72(0x668)](this[_0x420a72(0x384)][_0x420a72(0x2e7)]()),'contentMediator':this[_0x420a72(0x525)],'searchConnector':this[_0x420a72(0x371)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x420a72(0x4bd)]});return await this['stopTracing'](_0x3f6427,_0x2b02a6),_0x8258db;}if(_0x420a72(0x86c)===_0x2b02a6[_0x420a72(0x6b9)])return await _0x4ccc95(_0x2b02a6,{'documentParserConnector':this[_0x420a72(0x6cb)],'fileConnector':this[_0x420a72(0xa74)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x420a72(0x417)],'models':Array[_0x420a72(0x668)](this[_0x420a72(0x384)][_0x420a72(0x2e7)]()),'contentMediator':this[_0x420a72(0x525)],'searchConnector':this[_0x420a72(0x371)],'aiSearchConnector':this[_0x420a72(0x93e)],'queryFileConnector':this[_0x420a72(0x4bd)]});if('inference'===_0x2b02a6[_0x420a72(0x6b9)]){await this[_0x420a72(0x609)](_0x3f6427,_0x2b02a6);const _0x375bd7=await _0x5f4042(_0x2b02a6[_0x420a72(0x99e)]??_0x3f6427,_0x2b02a6,{'documentParserConnector':this[_0x420a72(0x6cb)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x420a72(0x930)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x420a72(0x668)](this[_0x420a72(0x384)]['values']()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x420a72(0x371)],'aiSearchConnector':this[_0x420a72(0x93e)],'queryFileConnector':this[_0x420a72(0x4bd)]});return await this[_0x420a72(0x2cf)](_0x3f6427,_0x2b02a6),_0x375bd7;}if(_0x420a72(0x964)===_0x2b02a6[_0x420a72(0x6b9)])return await _0x40fab9[_0x420a72(0x85a)]({'jobType':_0x3e2f29[_0x420a72(0x369)],'type':_0x355af3[_0x420a72(0x4bc)],'jobId':_0x2b02a6['jobId'],'threadId':_0x2b02a6[_0x420a72(0x9bd)],'traceLevel':_0x584638[_0x420a72(0xbf7)],'startTime':Date[_0x420a72(0x3a1)](),'timestamp':Date[_0x420a72(0x3a1)](),'status':_0x420a72(0x683),'rating':_0x2b02a6[_0x420a72(0xb2d)],'feedback':_0x2b02a6[_0x420a72(0xa71)]}),{'type':_0x420a72(0x964),'status':_0x2a74a6[_0x420a72(0x52c)][_0x420a72(0x90c)]};if(_0x420a72(0x5e4)===_0x2b02a6[_0x420a72(0x6b9)])return await _0x5c1848(_0x2b02a6,{'documentParserConnector':this[_0x420a72(0x6cb)],'fileConnector':this[_0x420a72(0xa74)],'nlpLibraryConnector':this[_0x420a72(0x930)],'generativeAIWorkerConnectors':this[_0x420a72(0x417)],'models':Array[_0x420a72(0x668)](this[_0x420a72(0x384)][_0x420a72(0x2e7)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x420a72(0x371)],'aiSearchConnector':this[_0x420a72(0x93e)],'queryFileConnector':this[_0x420a72(0x4bd)]});if('speech-create'===_0x2b02a6['type']){const _0x343df0=_0x664954[_0x420a72(0x266)](_0x2b02a6[_0x420a72(0x635)]);if(!_0x343df0)throw new Error(_0x420a72(0x2a4));const _0x3696c3=this['speechAIWorkerConnectors'][_0x420a72(0x77e)](_0x58f7fe=>_0x58f7fe[_0x420a72(0x946)]()===_0x343df0[_0x420a72(0x296)]);if(!_0x3696c3)throw new Error(_0x420a72(0x470));return{'type':_0x420a72(0x4f2),'audio':await _0x3696c3[_0x420a72(0x92e)](_0x2b02a6[_0x420a72(0x635)],_0x2b02a6[_0x420a72(0x4e4)],_0x2b02a6[_0x420a72(0x948)],_0x2b02a6[_0x420a72(0x875)])};}if('realtime-session-create'===_0x2b02a6[_0x420a72(0x6b9)]){const _0x3962f8=await _0x3fff33[_0x420a72(0x8e0)](_0x2b02a6[_0x420a72(0x300)],_0x2b02a6[_0x420a72(0x27e)]),_0x16e942=_0x3962f8[_0x420a72(0x4b3)][_0x420a72(0x77e)](_0x42edf7=>_0x42edf7['type']===_0x3b8538[_0x420a72(0xa7c)]),_0x92d8de=_0x16e942[_0x420a72(0x4a9)]?.[_0x420a72(0x77e)](_0x402082=>_0x402082[_0x420a72(0x6b9)]===_0x24d3ee['Audio']),_0x451b56=_0x3962f8[_0x420a72(0x4b3)][_0x420a72(0x77e)](_0x320101=>_0x320101[_0x420a72(0x6b9)]===_0x3b8538[_0x420a72(0x207)]&&_0x320101[_0x420a72(0xa24)]===_0x92d8de['uid']),_0x428850=_0x664954[_0x420a72(0x266)](_0x451b56[_0x420a72(0x477)]),_0x41e70b=_0x3962f8[_0x420a72(0x4b3)]['filter'](_0x2735da=>_0x2735da['links']?.[_0x420a72(0x323)](_0x2651dd=>_0x2651dd[_0x420a72(0x6b9)]===_0x24d3ee[_0x420a72(0x8fc)]&&_0x2651dd[_0x420a72(0xa24)]===_0x451b56[_0x420a72(0xa24)]))['flatMap'](_0x2a4d2a=>_0x128850(_0x2a4d2a,_0x3962f8['blocks'])),_0x35319b=_0x3962f8['blocks'][_0x420a72(0x77e)](_0x368782=>_0x368782[_0x420a72(0x6b9)]===_0x3b8538[_0x420a72(0x853)]),_0x55b072=_0x3962f8['blocks'][_0x420a72(0x77e)](_0x46c080=>_0x46c080[_0x420a72(0x6b9)]===_0x3b8538[_0x420a72(0x207)]&&_0x46c080[_0x420a72(0x4a9)]?.['some'](_0x363d9e=>_0x363d9e['type']===_0x24d3ee[_0x420a72(0x766)]&&_0x363d9e['uid']===_0x35319b[_0x420a72(0xa24)])),_0x9efc97=_0x3962f8['blocks']['find'](_0x36adf8=>_0x36adf8[_0x420a72(0x6b9)]===_0x3b8538[_0x420a72(0x207)]&&_0x36adf8[_0x420a72(0xa24)]===_0x55b072[_0x420a72(0xa24)]),_0x594d29=_0x664954[_0x420a72(0x266)](_0x9efc97[_0x420a72(0x477)]);return{'type':'realtime-session-create','apiKey':this[_0x420a72(0x3a2)],'sessionType':_0x428850[_0x420a72(0x48a)]===_0x2a74a6[_0x420a72(0x92f)][_0x420a72(0x46f)]?_0x420a72(0x672):_0x420a72(0x771),'firstAgent':{'modelId':_0x451b56[_0x420a72(0x477)],'taskType':_0x428850[_0x420a72(0x48a)],'instructions':_0x451b56[_0x420a72(0x875)],'temperature':_0x451b56[_0x420a72(0xc21)],'maxTokens':_0x451b56[_0x420a72(0x1d5)],'initialPrompt':_0x3962f8['initialPrompt'],'tools':_0x41e70b['map'](_0x4c5ecd=>({..._0x4c5ecd,'name':this['getToolName'](_0x4c5ecd),'description':this[_0x420a72(0xb6c)](_0x4c5ecd),'parameters':this[_0x420a72(0x784)](_0x4c5ecd)}))},'lastAgent':{'modelId':_0x9efc97['modelId'],'taskType':_0x594d29[_0x420a72(0x48a)],'instructions':_0x9efc97[_0x420a72(0x875)],'initialPrompt':_0x3962f8[_0x420a72(0xb55)]}};}if('file-delete'===_0x2b02a6['type']){const {vendorId:_0x466069,collectionId:_0x3fb0dc,fileId:_0x759e2c}=_0x2b02a6,_0x7a7b19=await _0x3fff33['getDataCollection'](_0x466069,_0x3fb0dc),_0x544e11=this[_0x420a72(0x534)]?.[_0x420a72(0x266)](_0x7a7b19[_0x420a72(0x6f6)]);if(!_0x544e11)throw new Error(_0x420a72(0x394));const _0x1b7fd5=_0x1e3016(_0x466069,_0x7a7b19);if(_0x7a7b19[_0x420a72(0x6f6)]===_0x2a74a6['GenerativeAIRagType'][_0x420a72(0xbbc)])try{await _0x544e11[_0x420a72(0x705)](_0x1b7fd5,_0x3fb0dc,'/'+_0x466069+'/'+_0x3fb0dc+'/'+_0x759e2c),await this[_0x420a72(0x95e)][_0x420a72(0x57e)]('/'+_0x466069+'/'+_0x3fb0dc+'/'+_0x759e2c);}catch(_0x3299ec){_0x58cca5[_0x420a72(0x5c5)](_0x420a72(0x4a4),_0x3299ec);}else try{await _0x544e11[_0x420a72(0x705)](_0x1b7fd5,_0x3fb0dc,_0x759e2c);}catch(_0x578e03){_0x58cca5[_0x420a72(0x5c5)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x578e03);}return{'type':_0x420a72(0x91a)};}if(_0x420a72(0x2c2)===_0x2b02a6[_0x420a72(0x6b9)]){let _0x4124b9;const _0x48c49e=this['dataStores'][_0x420a72(0x6ed)]();for(;!_0x4124b9;){const _0x1fb3e4=_0x48c49e['next']()[_0x420a72(0x22e)];if(!_0x1fb3e4)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x4124b9=this[_0x420a72(0x5d6)]['get'](_0x1fb3e4);try{const _0x4557b7=await _0x4124b9[_0x420a72(0x266)](_0x2b02a6[_0x420a72(0x79d)]);return{'type':_0x420a72(0x2c2),'fileName':_0x4557b7['name'],'mimeType':_0x4557b7[_0x420a72(0x6b9)],'document':await _0x4557b7[_0x420a72(0x511)]()};}catch(_0x3e077c){continue;}}throw new Error(_0x420a72(0x2a0));}if(_0x420a72(0x88d)===_0x2b02a6[_0x420a72(0x6b9)]){const {vendorId:_0x5a9506,collectionId:_0x52e761,fileName:_0x524fc3,content:_0x4e16eb}=_0x2b02a6,_0xe0b819=await _0x3fff33[_0x420a72(0x5d2)](_0x5a9506,_0x52e761);if(_0xe0b819[_0x420a72(0x6f6)]!==_0x2a74a6['GenerativeAIRagType'][_0x420a72(0xbbc)]){const _0x4d6f34=this['ragConnectors']?.[_0x420a72(0x266)](_0xe0b819['storageType']);if(!_0x4d6f34)throw new Error(_0x420a72(0x394));const _0x2fe413=_0x1e3016(_0x5a9506,_0xe0b819);return await _0x4d6f34[_0x420a72(0xb38)](_0x2fe413,_0x52e761,_0x524fc3,_0x4e16eb),{'type':_0x420a72(0x88d)};}const _0xe56823=_0xe0b819['ingestBlocks']?.[_0x420a72(0x77e)](_0x3f1b89=>_0x3f1b89[_0x420a72(0x6b9)]===_0x430aa5[_0x420a72(0x50e)]);if(!_0xe56823)throw new Error(_0x420a72(0x7a0));return await _0x450000(_0x2b02a6[_0x420a72(0x300)],_0x3f6427,'/'+_0x5a9506+'/'+_0x52e761+'/'+_0x524fc3,_0x4e16eb,_0xe56823,_0xe0b819,{'objectStoreConnector':this[_0x420a72(0x95e)],'ragConnector':this[_0x420a72(0x534)]?.[_0x420a72(0x266)](_0x2a74a6[_0x420a72(0x96c)][_0x420a72(0xbbc)]),'documentParserConnector':this[_0x420a72(0x6cb)],'fileConnector':this[_0x420a72(0xa74)],'nlpLibraryConnector':this[_0x420a72(0x930)],'generativeAIWorkerConnectors':this[_0x420a72(0x417)],'models':Array[_0x420a72(0x668)](this[_0x420a72(0x384)]['values']()),'contentMediator':this[_0x420a72(0x525)]}),{'type':_0x420a72(0x88d)};}if(_0x420a72(0x967)===_0x2b02a6[_0x420a72(0x6b9)]){const {vendorId:_0x63ccba,collectionId:_0x533b6b}=_0x2b02a6,_0x2e9df6=await _0x3fff33[_0x420a72(0x5d2)](_0x63ccba,_0x533b6b);if(_0x2e9df6[_0x420a72(0x6f6)]!==_0x2a74a6['GenerativeAIRagType'][_0x420a72(0xbbc)]){const _0x4692f2=this[_0x420a72(0x534)]?.[_0x420a72(0x266)](_0x2e9df6['storageType']);if(!_0x4692f2)throw new Error('No\x20RAG\x20connector\x20available');const _0x5a6f1b=_0x1e3016(_0x63ccba,_0x2e9df6);return{'type':_0x420a72(0x967),'files':await _0x4692f2[_0x420a72(0x5a7)](_0x5a6f1b,_0x533b6b)};}try{return{'type':_0x420a72(0x967),'files':(await this['objectStoreConnector'][_0x420a72(0x916)]('/'+_0x63ccba+'/'+_0x533b6b,!0x1))['map'](_0x17d925=>({'name':_0x17d925[_0x420a72(0xa7b)],'id':_0x17d925[_0x420a72(0xa7b)],'status':_0x420a72(0x4a5)}))};}catch(_0x1d4c2e){return{'type':_0x420a72(0x967),'files':[]};}}if('collection-create'===_0x2b02a6[_0x420a72(0x6b9)]){const {vendorId:_0x379ac6,collectionId:_0xc896fa}=_0x2b02a6,_0x141def=await _0x3fff33[_0x420a72(0x5d2)](_0x379ac6,_0xc896fa),_0x1b1e38=this[_0x420a72(0x534)]?.[_0x420a72(0x266)](_0x141def['storageType']);if(!_0x1b1e38)return{'type':_0x420a72(0x564)};const _0x4183d5=_0x1e3016(_0x379ac6,_0x141def);return await _0x1b1e38[_0x420a72(0x651)](_0x4183d5,_0xc896fa),{'type':'collection-create'};}if(_0x420a72(0x637)===_0x2b02a6[_0x420a72(0x6b9)]){const {vendorId:_0x1d83b3,collectionId:_0x368797}=_0x2b02a6,_0x472a17=await _0x3fff33[_0x420a72(0x5d2)](_0x1d83b3,_0x368797),_0x414798=this[_0x420a72(0x534)]?.[_0x420a72(0x266)](_0x472a17[_0x420a72(0x6f6)]);if(!_0x414798)return{'type':'collection-delete'};const _0x236983=_0x1e3016(_0x1d83b3,_0x472a17);let _0xb0f6a7=!0x1;if(_0x472a17[_0x420a72(0x936)]===_0x24d649[_0x420a72(0x6ba)]&&(_0xb0f6a7=!0x0),_0x472a17[_0x420a72(0x936)]===_0x24d649[_0x420a72(0x283)]){_0xb0f6a7=!0x0;const _0x4bdc8e=await _0x3fff33[_0x420a72(0x469)](_0x1d83b3);for(const _0x580b89 of _0x4bdc8e)if(_0x580b89[_0x420a72(0x6f6)]===_0x472a17['storageType']&&_0x580b89['hosting']===_0x24d649[_0x420a72(0x283)]&&_0x580b89['id']!==_0x472a17['id']){_0xb0f6a7=!0x1;break;}}try{await _0x414798[_0x420a72(0x774)](_0x236983,_0x368797,_0xb0f6a7);}catch(_0x2ad48c){_0x58cca5['error']('GenerativeAIWorker:\x20CollectionDelete\x20failed',_0x2ad48c);}return{'type':_0x420a72(0x637)};}if(_0x420a72(0xa51)===_0x2b02a6[_0x420a72(0x6b9)]){const {query:_0x2a7e16,vendorId:_0xa99274,collectionId:_0x1d212f}=_0x2b02a6,_0xf39381=await _0x3fff33['getDataCollection'](_0xa99274,_0x1d212f);if(_0xf39381[_0x420a72(0x6f6)]!==_0x2a74a6[_0x420a72(0x96c)][_0x420a72(0xbbc)]){const _0x2a29a0=this['ragConnectors']?.[_0x420a72(0x266)](_0xf39381['storageType']);if(!_0x2a29a0)throw new Error(_0x420a72(0x394));const _0x49046d=_0x1e3016(_0xa99274,_0xf39381);return{'type':_0x420a72(0xa51),'results':await _0x2a29a0['queryCollection'](_0x49046d,_0x1d212f,_0x2a7e16,0x1)};}const _0x254f7b=_0xf39381['retrieveBlocks']?.['find'](_0xdd9c00=>_0xdd9c00[_0x420a72(0x6b9)]===_0x430aa5[_0x420a72(0x9d8)]);return{'type':_0x420a72(0xa51),'results':(await _0x26536c(_0x2b02a6[_0x420a72(0x300)],_0x3f6427,'',_0x2a7e16,_0x254f7b,_0xf39381,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this[_0x420a72(0x534)]?.['get'](_0x2a74a6[_0x420a72(0x96c)]['Crewdle']),'documentParserConnector':this[_0x420a72(0x6cb)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x420a72(0x930)],'generativeAIWorkerConnectors':this[_0x420a72(0x417)],'models':Array['from'](this['models'][_0x420a72(0x2e7)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x420a72(0x371)],'aiSearchConnector':this[_0x420a72(0x93e)],'queryFileConnector':this[_0x420a72(0x4bd)]}))[_0x420a72(0x442)]??[]};}throw new Error(_0x420a72(0x2a9));}async*[_0x273dd2(0x239)](_0xca6426,_0x207239){const _0x250cbc=_0x273dd2;if(_0x250cbc(0x5db)===_0x207239[_0x250cbc(0x6b9)]){await this['startTracing'](_0xca6426,_0x207239);const _0x180c22=await _0x3fff33[_0x250cbc(0x8e0)](_0x207239[_0x250cbc(0x300)],_0x207239['workflowId']),_0x4ecb98=_0x180c22[_0x250cbc(0x4b3)][_0x250cbc(0x77e)](_0x2d17a6=>_0x2d17a6[_0x250cbc(0x6b9)]===_0x3b8538[_0x250cbc(0x9d8)]||_0x2d17a6['type']===_0x3b8538[_0x250cbc(0xa7c)]);for await(const _0x46b8fd of _0x405988(_0x207239[_0x250cbc(0x99e)]??_0xca6426,_0x207239,_0x4ecb98,_0x180c22[_0x250cbc(0x4b3)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x250cbc(0xa74)],'nlpLibraryConnector':this[_0x250cbc(0x930)],'generativeAIWorkerConnectors':this[_0x250cbc(0x417)],'models':Array[_0x250cbc(0x668)](this['models'][_0x250cbc(0x2e7)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x250cbc(0x93e)],'queryFileConnector':this[_0x250cbc(0x4bd)]}))yield _0x46b8fd;await this[_0x250cbc(0x2cf)](_0xca6426,_0x207239);}if(_0x250cbc(0x2a2)===_0x207239[_0x250cbc(0x6b9)]){await this['startTracing'](_0xca6426,_0x207239);for await(const _0x45999d of _0x3fd1c9(_0x207239['jobId']??_0xca6426,_0x207239,{'documentParserConnector':this[_0x250cbc(0x6cb)],'fileConnector':this[_0x250cbc(0xa74)],'nlpLibraryConnector':this[_0x250cbc(0x930)],'generativeAIWorkerConnectors':this[_0x250cbc(0x417)],'models':Array['from'](this[_0x250cbc(0x384)][_0x250cbc(0x2e7)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x250cbc(0x93e)],'queryFileConnector':this[_0x250cbc(0x4bd)]}))yield _0x45999d;await this[_0x250cbc(0x2cf)](_0xca6426,_0x207239);}}async[_0x273dd2(0x609)](_0x4fad91,_0x2e6184){const _0x3b8e9d=_0x273dd2;if(_0x3b8e9d(0x964)===_0x2e6184['type'])return _0x4fad91=_0x2e6184['jobId'],void await this['openTrace'](_0x4fad91,_0x2e6184['vendorId'],_0x2e6184[_0x3b8e9d(0x27e)]);'prompt'!==_0x2e6184[_0x3b8e9d(0x6b9)]&&_0x3b8e9d(0x2a2)!==_0x2e6184['type']||!_0x2e6184[_0x3b8e9d(0x99e)]||(_0x4fad91=_0x2e6184[_0x3b8e9d(0x99e)]),await this[_0x3b8e9d(0x36a)](_0x4fad91,_0x2e6184[_0x3b8e9d(0x300)],_0x2e6184[_0x3b8e9d(0x27e)],_0x2e6184['threadId']),await _0x40fab9[_0x3b8e9d(0x85a)]({'jobType':_0x3e2f29['Job'],'type':_0xac01e2[_0x3b8e9d(0x46a)],'traceLevel':_0x584638[_0x3b8e9d(0xbf7)],'jobId':_0x4fad91,'threadId':_0x2e6184[_0x3b8e9d(0x9bd)],'startTime':Date[_0x3b8e9d(0x3a1)](),'timestamp':Date[_0x3b8e9d(0x3a1)](),'status':_0x3b8e9d(0x683)});}async['stopTracing'](_0x4be674,_0x35eae2){const _0x59074f=_0x273dd2;if('rate'===_0x35eae2[_0x59074f(0x6b9)])return _0x4be674=_0x35eae2[_0x59074f(0x99e)],void await this[_0x59074f(0x6a2)](_0x4be674);_0x59074f(0x5db)!==_0x35eae2[_0x59074f(0x6b9)]&&_0x59074f(0x2a2)!==_0x35eae2['type']||!_0x35eae2['jobId']||(_0x4be674=_0x35eae2[_0x59074f(0x99e)]),await _0x40fab9[_0x59074f(0x85a)]({'jobType':_0x3e2f29[_0x59074f(0x601)],'type':_0xac01e2[_0x59074f(0x399)],'traceLevel':_0x584638['Info'],'jobId':_0x4be674,'threadId':_0x35eae2['threadId'],'startTime':Date[_0x59074f(0x3a1)](),'timestamp':Date[_0x59074f(0x3a1)](),'status':_0x59074f(0x683)}),await this[_0x59074f(0x6a2)](_0x4be674,_0x35eae2[_0x59074f(0x9bd)]);}async[_0x273dd2(0x36a)](_0x28f7d9,_0x4877df,_0x5549e5,_0xb6a679){const _0x20a41b=_0x273dd2;try{if(!await _0x40fab9[_0x20a41b(0x36a)](_0x4877df,_0x28f7d9,_0x5549e5,_0xb6a679))throw new Error(_0x20a41b(0x287));return _0x28f7d9;}catch(_0x41d0a2){return console[_0x20a41b(0x5c5)](_0x20a41b(0x287),_0x41d0a2),_0x20a41b(0x1fa);}}async[_0x273dd2(0x6a2)](_0xd558e3,_0x5ae31d){const _0x64eb93=_0x273dd2;try{await _0x40fab9[_0x64eb93(0x6a2)](_0xd558e3,_0x5ae31d);}catch(_0x5e500a){console[_0x64eb93(0x5c5)](_0x64eb93(0x473),{'jobId':_0xd558e3,'error':_0x5e500a});}}[_0x273dd2(0x496)](_0x1c6470){const _0x5ad6ca=_0x273dd2;switch(_0x1c6470[_0x5ad6ca(0x6b9)]){case _0x3b8538[_0x5ad6ca(0x207)]:case _0x3b8538['AgentSkill']:return _0x5ad6ca(0x527)+_0x1c6470[_0x5ad6ca(0xa7b)][_0x5ad6ca(0x4cf)](/[^a-zA-Z]/g,'');case _0x3b8538[_0x5ad6ca(0x82a)]:return _0x5ad6ca(0x8ee)+_0x1c6470['name'][_0x5ad6ca(0x4cf)](/[^a-zA-Z]/g,'');case _0x3b8538[_0x5ad6ca(0xa4a)]:case _0x3b8538[_0x5ad6ca(0x591)]:return _0x5ad6ca(0x708)+_0x1c6470[_0x5ad6ca(0xa7b)]['replace'](/[^a-zA-Z]/g,'');case _0x3b8538[_0x5ad6ca(0xb84)]:return _0x1c6470[_0x5ad6ca(0xa7b)][_0x5ad6ca(0x4cf)](/[^a-zA-Z]/g,'');case _0x3b8538[_0x5ad6ca(0xbfd)]:return _0x5ad6ca(0x211);case _0x3b8538['Code']:return _0x5ad6ca(0x4c9);case _0x3b8538[_0x5ad6ca(0x213)]:return _0x5ad6ca(0x34f);case _0x3b8538[_0x5ad6ca(0xbcc)]:case _0x3b8538[_0x5ad6ca(0xa69)]:return'fetchContentFromUrl';case _0x2a74a6[_0x5ad6ca(0x545)][_0x5ad6ca(0xaea)]:return'getQuestion'+_0x1c6470[_0x5ad6ca(0xa7b)]['replace'](/[^a-zA-Z]/g,'');case _0x2a74a6[_0x5ad6ca(0x545)][_0x5ad6ca(0x867)]:return _0x5ad6ca(0x30d)+_0x1c6470[_0x5ad6ca(0xa7b)][_0x5ad6ca(0x4cf)](/[^a-zA-Z]/g,'');case _0x2a74a6[_0x5ad6ca(0x545)]['FormSkillSubmitForm']:return _0x5ad6ca(0x721)+_0x1c6470[_0x5ad6ca(0xa7b)]['replace'](/[^a-zA-Z]/g,'');default:return'';}}[_0x273dd2(0xb6c)](_0x5ea0cf){const _0x244939=_0x273dd2;switch(_0x5ea0cf[_0x244939(0x6b9)]){case _0x3b8538[_0x244939(0x207)]:case _0x3b8538[_0x244939(0x737)]:return _0x244939(0x231)+_0x5ea0cf[_0x244939(0x42c)]+'\x20to\x20generate\x20a\x20response.';case _0x3b8538['WorkflowTool']:return _0x244939(0xa26)+_0x5ea0cf[_0x244939(0x42c)]+'\x20to\x20generate\x20a\x20response.';case _0x3b8538['DataCollection']:case _0x3b8538['Knowledge']:return _0x244939(0xb74)+_0x5ea0cf[_0x244939(0x42c)]+_0x244939(0xa96);case _0x3b8538[_0x244939(0xb84)]:return _0x244939(0x292)+_0x5ea0cf[_0x244939(0x42c)];case _0x3b8538[_0x244939(0xbfd)]:return _0x244939(0xbaa);case _0x3b8538[_0x244939(0xb3c)]:return'Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.';case _0x3b8538[_0x244939(0x213)]:return _0x244939(0x44c);case _0x3b8538[_0x244939(0xbcc)]:case _0x3b8538[_0x244939(0xa69)]:return'Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.';case _0x2a74a6['GenerativeAIInferenceToolType'][_0x244939(0xaea)]:return _0x244939(0xadd);case _0x2a74a6[_0x244939(0x545)][_0x244939(0x867)]:return _0x244939(0x1e9);case _0x2a74a6[_0x244939(0x545)][_0x244939(0x462)]:return _0x244939(0x6f5);default:return'';}}['getToolParams'](_0xe56979){const _0x24b7d6=_0x273dd2;switch(_0xe56979[_0x24b7d6(0x6b9)]){case _0x3b8538[_0x24b7d6(0x207)]:case _0x3b8538[_0x24b7d6(0x737)]:case _0x3b8538[_0x24b7d6(0x82a)]:return[{'name':'prompt','type':'string'}];case _0x3b8538['DataCollection']:case _0x3b8538['Knowledge']:return[{'name':_0x24b7d6(0x9be),'type':_0x24b7d6(0x563)}];case _0x3b8538[_0x24b7d6(0xb84)]:return _0xe56979[_0x24b7d6(0xbd2)][_0x24b7d6(0xb48)](_0x411e99=>({'name':_0x411e99[_0x24b7d6(0xa7b)],'type':_0x411e99[_0x24b7d6(0x6b9)]??_0x24b7d6(0x563)}))??[];case _0x3b8538[_0x24b7d6(0xbfd)]:return[{'name':_0x24b7d6(0x756),'type':_0x24b7d6(0x563)}];case _0x3b8538['Code']:return[{'name':_0x24b7d6(0x1ce),'type':_0x24b7d6(0x563)}];case _0x3b8538[_0x24b7d6(0x213)]:return[{'name':_0x24b7d6(0x756),'type':_0x24b7d6(0x563)}];case _0x3b8538['WebScraper']:case _0x3b8538['WebScraperRaw']:return[{'name':_0x24b7d6(0x6d7),'type':_0x24b7d6(0x563)},{'name':_0x24b7d6(0x67d),'type':_0x24b7d6(0x2db)}];case _0x2a74a6['GenerativeAIInferenceToolType']['FormSkillGetQuestion']:return[];case _0x2a74a6[_0x24b7d6(0x545)][_0x24b7d6(0x867)]:return[{'name':'id','type':'string'},{'name':_0x24b7d6(0x1e3),'type':_0x24b7d6(0x563)}];case _0x2a74a6[_0x24b7d6(0x545)]['FormSkillSubmitForm']:default:return[];}}}class _0x29510e{[_0x273dd2(0x4b1)];[_0x273dd2(0x924)];[_0x273dd2(0x575)]=new Map();['remoteMediaStreams']=new Map();['pubSubTopics']=new Map();['objectStores']=new Map();[_0x273dd2(0x47f)]=new Map();['keyValueDatabases']=new Map();[_0x273dd2(0x7a1)]=new Map();['graphDatabases']=new Map();[_0x273dd2(0x339)]=new Map();[_0x273dd2(0x3b0)]=new Map();[_0x273dd2(0xbfc)]=new Map();[_0x273dd2(0x730)];constructor(_0x3dec52,_0x3614c1){const _0x294673=_0x273dd2;this[_0x294673(0x4b1)]=_0x3dec52,this[_0x294673(0x924)]=_0x3614c1,this[_0x294673(0x730)]=new _0x539859(this[_0x294673(0x4b1)][_0x294673(0x300)],this[_0x294673(0x4b1)]['clusterId']);}[_0x273dd2(0x210)](_0x33a840=!0x1){const _0x1649e4=_0x273dd2;this[_0x1649e4(0x717)][_0x1649e4(0xb9b)]((_0x2ed499,_0x1dfab0)=>{const _0x17a434=_0x1649e4;_0x2ed499[_0x17a434(0xb9b)]((_0x435ef7,_0x396f23)=>{this['removeRemoteMediaStream'](_0x1dfab0,_0x396f23);});}),_0x33a840||(_0x3cdaad[_0x1649e4(0x320)](),this[_0x1649e4(0x575)][_0x1649e4(0xb9b)]((_0x300fc8,_0x28c54d)=>{const _0x35fc20=_0x1649e4;this[_0x35fc20(0xa41)](_0x28c54d);}),this[_0x1649e4(0xae6)]['forEach']((_0x4d9b77,_0x555bb9)=>{const _0x15c1cf=_0x1649e4;this[_0x15c1cf(0x94d)](_0x555bb9);}),this[_0x1649e4(0x9d9)]['forEach']((_0x3784ee,_0x3ccaff)=>{const _0x43ae17=_0x1649e4;this[_0x43ae17(0x597)](_0x3ccaff);}),this[_0x1649e4(0x47f)]['forEach']((_0x3e93d9,_0x3af5ee)=>{const _0x2e627d=_0x1649e4;this[_0x2e627d(0x1cf)](_0x3af5ee);}),this[_0x1649e4(0x6d0)][_0x1649e4(0xb9b)]((_0x10bd58,_0xb5d47d)=>{const _0x35b6d9=_0x1649e4;this[_0x35b6d9(0x448)](_0xb5d47d);}),this['jobDispatchers'][_0x1649e4(0xb9b)]((_0x584fec,_0x3a7982)=>{const _0x28db17=_0x1649e4;this[_0x28db17(0xa84)](_0x3a7982);}),this['jobWorkers'][_0x1649e4(0xb9b)]((_0x54a2cf,_0x51bef2)=>{const _0x49cc4b=_0x1649e4;this[_0x49cc4b(0x92d)](_0x51bef2);}),this['generativeAIContexts']['forEach']((_0x45bf00,_0x4548be)=>{const _0x4aa5f4=_0x1649e4;this[_0x4aa5f4(0xba4)](_0x4548be);}),this[_0x1649e4(0x7a1)][_0x1649e4(0xb9b)]((_0x1fbac9,_0x3ea2b3)=>{const _0x2ca9db=_0x1649e4;this[_0x2ca9db(0x7b7)](_0x3ea2b3);}),this['graphDatabases'][_0x1649e4(0xb9b)]((_0x1457d5,_0x4d9b4e)=>{this['removeGraphDatabase'](_0x4d9b4e);}));}['createObjectStoreBucket'](_0x43db1e,_0x1784f9,_0x4a4d10){const _0x50d879=_0x273dd2;if(this[_0x50d879(0x9d9)][_0x50d879(0xb9f)](_0x43db1e))throw new _0x3371e7(_0x4c9695[_0x50d879(0x409)],_0x50d879(0xa15));const _0x3fdb4a=new _0x479c7f(this[_0x50d879(0x4b1)][_0x50d879(0x61b)],_0x43db1e,this[_0x50d879(0x4b1)][_0x50d879(0x78c)],this['configs'][_0x50d879(0x300)],this['transactionService'],_0x1784f9,()=>this['configs']['mediator'][_0x50d879(0x75e)](),_0x4a4d10);return this[_0x50d879(0x9d9)][_0x50d879(0x68c)](_0x43db1e,_0x3fdb4a),this[_0x50d879(0x4b1)][_0x50d879(0x927)]['registerSystemSource'](_0x3fdb4a),_0x3fdb4a;}[_0x273dd2(0xa93)](_0x31a72c,_0x139ab2){const _0x1e3623=_0x273dd2;if(this['objectStores'][_0x1e3623(0xb9f)](_0x31a72c))throw new _0x3371e7(_0x4c9695['ExternalStorageConnectionAlreadyExists'],'Connection\x20already\x20exists');const _0x36867b=new _0x3c5cfd(this[_0x1e3623(0x4b1)][_0x1e3623(0x61b)],_0x31a72c,this[_0x1e3623(0x4b1)][_0x1e3623(0x78c)],this[_0x1e3623(0x4b1)][_0x1e3623(0x300)],_0x139ab2);return this[_0x1e3623(0x47f)][_0x1e3623(0x68c)](_0x31a72c,_0x36867b),this[_0x1e3623(0x4b1)][_0x1e3623(0x927)][_0x1e3623(0x5a0)](_0x36867b),_0x36867b;}async[_0x273dd2(0x29b)](_0x542fd2,_0xf82dd9,_0x360101){const _0x22b152=_0x273dd2;if(this[_0x22b152(0x6d0)][_0x22b152(0xb9f)](_0x542fd2))throw new _0x3371e7(_0x4c9695[_0x22b152(0xa3f)],_0x22b152(0x7aa));try{const _0x4a4b71=this[_0x22b152(0x4b1)][_0x22b152(0x927)][_0x22b152(0x3c2)]['bind'](this[_0x22b152(0x4b1)][_0x22b152(0x927)]),_0x1b2fc3=new _0x20dccc(this[_0x22b152(0x4b1)][_0x22b152(0x61b)],_0x542fd2,this[_0x22b152(0x4b1)][_0x22b152(0x78c)],this['configs'][_0x22b152(0x300)],_0xf82dd9,_0x360101,_0x4a4b71);return this[_0x22b152(0x6d0)][_0x22b152(0x68c)](_0x542fd2,_0x1b2fc3),this[_0x22b152(0x4b1)]['mediator'][_0x22b152(0x5a0)](_0x1b2fc3),_0x1b2fc3;}catch(_0x56e24e){if(_0x56e24e instanceof _0x3371e7)throw _0x56e24e;throw new _0x4b8523(_0x4b8523[_0x22b152(0xa20)]['KeyValueDatabaseCreationFailed'],{'label':_0x542fd2,'clusterId':this[_0x22b152(0x4b1)][_0x22b152(0x78c)],'vendorId':this[_0x22b152(0x4b1)]['vendorId']});}}async[_0x273dd2(0x47e)](_0x2bc8e1,_0x2b69dd){const _0x4bc534=_0x273dd2;if(this['jobDispatchers'][_0x4bc534(0xb9f)](_0x2bc8e1))throw new _0x3371e7(_0x4c9695['JobDispatcherAlreadyExists'],_0x4bc534(0xa27));try{const _0x314278=new _0x22b2be(this[_0x4bc534(0x4b1)]['localNode'],_0x2bc8e1,_0x2b69dd);return this[_0x4bc534(0x339)]['set'](_0x2bc8e1,_0x314278),this['configs'][_0x4bc534(0x927)][_0x4bc534(0x5a0)](_0x314278),_0x314278;}catch(_0x40b4f2){if(_0x40b4f2 instanceof _0x3371e7)throw _0x40b4f2;throw new _0x4b8523(_0x4b8523[_0x4bc534(0xa20)]['JobDispatcherCreationFailed'],{'label':_0x2bc8e1,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x4bc534(0x4b1)][_0x4bc534(0x300)]});}}async[_0x273dd2(0x6b8)](_0x29eb67,_0x1481b7){const _0x117db2=_0x273dd2;if(this['jobDispatchers'][_0x117db2(0xb9f)](_0x29eb67))throw new _0x3371e7(_0x4c9695[_0x117db2(0xb7a)],'AI\x20Service\x20already\x20exists');if(this[_0x117db2(0x3b0)]['has'](_0x29eb67))throw new _0x3371e7(_0x4c9695[_0x117db2(0x92b)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x47c293=new _0x754748(this['configs']['localNode'],_0x29eb67,this[_0x117db2(0x4b1)]['vendorId'],_0x1481b7);return this[_0x117db2(0x339)][_0x117db2(0x68c)](_0x29eb67,_0x47c293),this['configs'][_0x117db2(0x927)][_0x117db2(0x5a0)](_0x47c293),_0x47c293;}catch(_0x58dff0){if(_0x58dff0 instanceof _0x3371e7)throw _0x58dff0;throw new _0x4b8523(_0x4b8523['codes'][_0x117db2(0x58f)],{'label':_0x29eb67,'clusterId':this[_0x117db2(0x4b1)][_0x117db2(0x78c)],'vendorId':this[_0x117db2(0x4b1)][_0x117db2(0x300)]});}}async[_0x273dd2(0x343)](_0x2a512f,_0x152373,_0x5b8323,_0x3e42d2,_0x59fbeb,_0xaf56fe,_0x517baa,_0x1da1d7,_0x21fd07,_0x3d9921,_0x5232e9,_0x32c4d1){const _0x322f61=_0x273dd2;if(this[_0x322f61(0xbfc)][_0x322f61(0xb9f)](_0x2a512f))throw new _0x3371e7(_0x4c9695[_0x322f61(0xb7a)],_0x322f61(0x8e9));if(this['jobWorkers'][_0x322f61(0xb9f)](_0x2a512f))throw new _0x3371e7(_0x4c9695[_0x322f61(0x92b)],_0x322f61(0x8a4));try{const _0x4bdb24=new _0x257113(this['configs'][_0x322f61(0x61b)],_0x2a512f,this,_0x152373,_0x5b8323,_0x3e42d2,_0x59fbeb,_0xaf56fe,_0x517baa,_0x1da1d7,_0x21fd07,_0x3d9921,_0x5232e9,_0x32c4d1);return this['generativeAIContexts'][_0x322f61(0x68c)](_0x2a512f,_0x4bdb24),this[_0x322f61(0x4b1)][_0x322f61(0x927)][_0x322f61(0x5a0)](_0x4bdb24),_0x4bdb24;}catch(_0x3e0c3c){if(_0x3e0c3c instanceof _0x3371e7)throw _0x3e0c3c;throw new _0x4b8523(_0x4b8523[_0x322f61(0xa20)][_0x322f61(0x58f)],{'label':_0x2a512f,'clusterId':this[_0x322f61(0x4b1)][_0x322f61(0x78c)],'vendorId':this['configs'][_0x322f61(0x300)]});}}async['createGenerativeAIWorker'](_0xf7eaad,_0x1015bb,_0x2db383,_0xef9dd1,_0x4f9728,_0x4ed3b0,_0x35d116,_0x3afe84,_0x3a89a2,_0x31dc06,_0x556959,_0x560cea,_0x21fc88){const _0x58148a=_0x273dd2;if(this[_0x58148a(0x3b0)][_0x58148a(0xb9f)](_0xf7eaad))throw new _0x3371e7(_0x4c9695['GenerativeAIWorkerAlreadyExists'],_0x58148a(0x415));if(this[_0x58148a(0x339)]['has'](_0xf7eaad))throw new _0x3371e7(_0x4c9695[_0x58148a(0x92b)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x38be95=new _0x2c3323(this[_0x58148a(0x4b1)][_0x58148a(0x61b)],_0xf7eaad,_0x1015bb,this,_0x2db383,_0xef9dd1,_0x4f9728,_0x4ed3b0,_0x35d116,_0x3afe84,_0x3a89a2,_0x31dc06,_0x556959,_0x560cea,_0x21fc88);return this[_0x58148a(0x3b0)][_0x58148a(0x68c)](_0xf7eaad,_0x38be95),this['configs'][_0x58148a(0x927)]['registerSystemSource'](_0x38be95),_0x38be95;}catch(_0x3a190c){if(_0x3a190c instanceof _0x3371e7)throw _0x3a190c;throw new _0x4b8523(_0x4b8523[_0x58148a(0xa20)][_0x58148a(0x68d)],{'label':_0xf7eaad,'clusterId':this[_0x58148a(0x4b1)]['clusterId'],'vendorId':this[_0x58148a(0x4b1)][_0x58148a(0x300)]});}}[_0x273dd2(0xb65)](_0x1285fb,_0x11f091){const _0x83d9bd=_0x273dd2;if(this['graphDatabases'][_0x83d9bd(0xb9f)](_0x1285fb))throw new _0x3371e7(_0x4c9695[_0x83d9bd(0x34b)],_0x83d9bd(0x7aa));try{const _0x2ce9d4=new _0x981699(this[_0x83d9bd(0x4b1)]['localNode'],_0x1285fb,this[_0x83d9bd(0x4b1)][_0x83d9bd(0x78c)],this[_0x83d9bd(0x4b1)][_0x83d9bd(0x300)],_0x11f091);return this['graphDatabases']['set'](_0x1285fb,_0x2ce9d4),this[_0x83d9bd(0x4b1)][_0x83d9bd(0x927)][_0x83d9bd(0x5a0)](_0x2ce9d4),_0x2ce9d4;}catch(_0x19438a){if(_0x19438a instanceof _0x3371e7)throw _0x19438a;throw new _0x4b8523(_0x4b8523['codes'][_0x83d9bd(0x328)],{'label':_0x1285fb,'clusterId':this[_0x83d9bd(0x4b1)][_0x83d9bd(0x78c)],'vendorId':this['configs']['vendorId']});}}[_0x273dd2(0x3d0)](_0x59facc,_0x493470){const _0x4f382b=_0x273dd2;if(this[_0x4f382b(0x575)][_0x4f382b(0xb9f)](_0x59facc))throw new _0x3371e7(_0x4c9695[_0x4f382b(0x7ed)],_0x4f382b(0x503));if(!this[_0x4f382b(0x924)][_0x4f382b(0x873)])throw new _0x3371e7(_0x4c9695[_0x4f382b(0x7e7)],_0x4f382b(0x4ca));const _0x374796=new _0x555b83(this['configs'][_0x4f382b(0x61b)],_0x59facc,_0x493470,this[_0x4f382b(0x924)][_0x4f382b(0x428)],this['options'][_0x4f382b(0x873)],this[_0x4f382b(0x4b1)][_0x4f382b(0x78c)]);return this[_0x4f382b(0x575)][_0x4f382b(0x68c)](_0x59facc,_0x374796),this[_0x4f382b(0x4b1)]['mediator'][_0x4f382b(0x5a0)](_0x374796),_0x374796[_0x4f382b(0xb07)](),_0x374796;}[_0x273dd2(0xbb0)](_0x13bb16,_0x1f811e){const _0x9aa0e3=_0x273dd2;if(this[_0x9aa0e3(0x575)][_0x9aa0e3(0xb9f)](_0x13bb16))throw new _0x3371e7(_0x4c9695[_0x9aa0e3(0x7ed)],_0x9aa0e3(0x4e2));const _0x5527cb=new _0xa0e78b(this['configs']['localNode'],_0x13bb16,_0x1f811e,this['configs'][_0x9aa0e3(0x78c)]);return this[_0x9aa0e3(0x575)][_0x9aa0e3(0x68c)](_0x13bb16,_0x5527cb),this[_0x9aa0e3(0x4b1)]['mediator'][_0x9aa0e3(0x5a0)](_0x5527cb),_0x5527cb[_0x9aa0e3(0xb07)](),_0x5527cb;}[_0x273dd2(0x95b)](_0x54369a){const _0xa68936=_0x273dd2;if(this[_0xa68936(0xae6)][_0xa68936(0xb9f)](_0x54369a))throw new _0x3371e7(_0x4c9695[_0xa68936(0x79f)],'PubSub\x20already\x20exists');const _0x15fc71=new _0x38c336(this[_0xa68936(0x4b1)][_0xa68936(0x61b)],_0x54369a,this[_0xa68936(0x4b1)][_0xa68936(0x78c)]);return this[_0xa68936(0xae6)][_0xa68936(0x68c)](_0x54369a,_0x15fc71),this['configs'][_0xa68936(0x927)][_0xa68936(0x5a0)](_0x15fc71),_0x15fc71;}['createRemoteMediaStream'](_0xafcad4,_0xfceafa,_0xcf3cf1,_0x10c4d7){const _0x5b0ca2=_0x273dd2;this[_0x5b0ca2(0x717)][_0x5b0ca2(0xb9f)](_0xafcad4)||this[_0x5b0ca2(0x717)]['set'](_0xafcad4,new Map());const _0x22700b=this['remoteMediaStreams'][_0x5b0ca2(0x266)](_0xafcad4);if(_0x22700b[_0x5b0ca2(0xb9f)](_0xfceafa))throw new _0x3371e7(_0x4c9695[_0x5b0ca2(0x405)],_0x5b0ca2(0xaee));const _0x43a09f=new _0x4fb96b(_0xafcad4,'',''),_0x1d82cd=new _0x42b2dd(this[_0x5b0ca2(0x4b1)][_0x5b0ca2(0x61b)],_0x43a09f,_0xfceafa,_0xcf3cf1,_0x10c4d7,this[_0x5b0ca2(0x4b1)][_0x5b0ca2(0x78c)]);return _0x22700b[_0x5b0ca2(0x68c)](_0xfceafa,_0x1d82cd),this['configs'][_0x5b0ca2(0x927)][_0x5b0ca2(0x5a0)](_0x1d82cd),_0x1d82cd;}[_0x273dd2(0xb13)](_0x3b93ee,_0x471f79){const _0x554a30=_0x273dd2;if(this[_0x554a30(0x7a1)][_0x554a30(0xb9f)](_0x3b93ee))throw new _0x3371e7(_0x4c9695[_0x554a30(0x439)],_0x554a30(0x7aa));try{const _0x1897a0=new _0x5cf291(this[_0x554a30(0x4b1)][_0x554a30(0x61b)],_0x3b93ee,this['configs']['clusterId'],this['configs'][_0x554a30(0x300)],_0x471f79);return this[_0x554a30(0x7a1)][_0x554a30(0x68c)](_0x3b93ee,_0x1897a0),this[_0x554a30(0x4b1)][_0x554a30(0x927)]['registerSystemSource'](_0x1897a0),_0x1897a0;}catch(_0x4f1f14){if(_0x4f1f14 instanceof _0x3371e7)throw _0x4f1f14;throw new _0x4b8523(_0x4b8523[_0x554a30(0xa20)][_0x554a30(0x7df)],{'label':_0x3b93ee,'clusterId':this[_0x554a30(0x4b1)][_0x554a30(0x78c)],'vendorId':this[_0x554a30(0x4b1)][_0x554a30(0x300)]});}}[_0x273dd2(0xb85)](_0x2cd905){const _0x3965e9=_0x273dd2,_0x58ee51=Array[_0x3965e9(0x668)](this['objectStores']['values']());return _0x2cd905?_0x58ee51[_0x3965e9(0x57c)](_0x2cd905):_0x58ee51;}[_0x273dd2(0xac4)](_0x58b248){const _0x24e3cf=_0x273dd2,_0x60d13f=Array[_0x24e3cf(0x668)](this['externalStorageConnections'][_0x24e3cf(0x2e7)]());return _0x58b248?_0x60d13f[_0x24e3cf(0x57c)](_0x58b248):_0x60d13f;}['getKeyValueDatabases'](_0x223ca9){const _0x25ecbd=_0x273dd2,_0x5bac2d=Array[_0x25ecbd(0x668)](this[_0x25ecbd(0x6d0)][_0x25ecbd(0x2e7)]());return _0x223ca9?_0x5bac2d[_0x25ecbd(0x57c)](_0x223ca9):_0x5bac2d;}['getJobDispatchers'](_0x41a541){const _0x5c4d76=_0x273dd2,_0x2ad8fa=Array[_0x5c4d76(0x668)](this[_0x5c4d76(0x339)]['values']());return _0x41a541?_0x2ad8fa[_0x5c4d76(0x57c)](_0x41a541):_0x2ad8fa;}['getJobWorkers'](_0x3a0af1){const _0x4f9541=_0x273dd2,_0x283d1e=Array[_0x4f9541(0x668)](this[_0x4f9541(0x3b0)][_0x4f9541(0x2e7)]());return _0x3a0af1?_0x283d1e['filter'](_0x3a0af1):_0x283d1e;}[_0x273dd2(0x86e)](_0x5dea64){const _0x3e5388=_0x273dd2,_0x5125d2=Array['from'](this[_0x3e5388(0x339)][_0x3e5388(0x2e7)]())[_0x3e5388(0x57c)](_0x3d5a0f=>_0x3d5a0f instanceof _0x754748);return _0x5dea64?_0x5125d2[_0x3e5388(0x57c)](_0x5dea64):_0x5125d2;}['getGenerativeAIContextsStandalone'](_0x20c1ac){const _0x3419cf=_0x273dd2,_0x1e847a=Array[_0x3419cf(0x668)](this[_0x3419cf(0xbfc)]['values']());return _0x20c1ac?_0x1e847a[_0x3419cf(0x57c)](_0x20c1ac):_0x1e847a;}['getGenerativeAIWorkers'](_0x2566c4){const _0xec9033=_0x273dd2,_0x334b5c=Array[_0xec9033(0x668)](this[_0xec9033(0x3b0)]['values']())[_0xec9033(0x57c)](_0x140691=>_0x140691 instanceof _0x2c3323);return _0x2566c4?_0x334b5c[_0xec9033(0x57c)](_0x2566c4):_0x334b5c;}[_0x273dd2(0x832)](_0x2b7a80){const _0x5876a0=_0x273dd2,_0x318e93=Array['from'](this[_0x5876a0(0x64b)]['values']());return _0x2b7a80?_0x318e93[_0x5876a0(0x57c)](_0x2b7a80):_0x318e93;}[_0x273dd2(0x1ef)](_0x4b8fff){const _0x1fc39f=_0x273dd2,_0x399e9f=Array[_0x1fc39f(0x668)](this['localMediaStreams'][_0x1fc39f(0x2e7)]());return _0x4b8fff?_0x399e9f[_0x1fc39f(0x57c)](_0x4b8fff):_0x399e9f;}[_0x273dd2(0xad9)](_0x261464){const _0x11111c=_0x273dd2,_0x200e43=Array[_0x11111c(0x668)](this['pubSubTopics']['values']());return _0x261464?_0x200e43[_0x11111c(0x57c)](_0x261464):_0x200e43;}[_0x273dd2(0x423)](_0x26df0e){const _0x3fa4b6=_0x273dd2,_0x2ed88b=Array[_0x3fa4b6(0x668)](this['remoteMediaStreams'][_0x3fa4b6(0x2e7)]())[_0x3fa4b6(0x97e)]((_0x3b195b,_0x3ae74e)=>[..._0x3b195b,...Array[_0x3fa4b6(0x668)](_0x3ae74e[_0x3fa4b6(0x2e7)]())],[]);return _0x26df0e?_0x2ed88b['filter'](_0x26df0e):_0x2ed88b;}[_0x273dd2(0xbe5)](_0x4d43b2){const _0x27f2cb=_0x273dd2,_0x489913=Array['from'](this['vectorDatabases'][_0x27f2cb(0x2e7)]());return _0x4d43b2?_0x489913['filter'](_0x4d43b2):_0x489913;}[_0x273dd2(0x5cc)](_0x16ad95){const _0x53bd1f=_0x273dd2,_0x2942cc=this['objectStores']['get'](_0x16ad95);if(!_0x2942cc)throw new _0x3371e7(_0x4c9695[_0x53bd1f(0x83a)],'ObjectStore\x20not\x20found');return _0x2942cc;}[_0x273dd2(0x484)](_0x13fab8){const _0x59ad62=_0x273dd2,_0x122124=_0x13fab8[_0x59ad62(0xa62)]('-'),_0x2ee26b=this[_0x59ad62(0x47f)][_0x59ad62(0x266)](_0x122124[0x1]);if(!_0x2ee26b)throw new _0x3371e7(_0x4c9695[_0x59ad62(0x8be)],_0x59ad62(0x654));return _0x2ee26b;}['getGraphDatabase'](_0x1f6535){const _0x1ff8da=_0x273dd2,_0x1ac94e=this[_0x1ff8da(0x64b)][_0x1ff8da(0x266)](_0x1f6535);if(!_0x1ac94e)throw new _0x3371e7(_0x4c9695[_0x1ff8da(0x1f8)],_0x1ff8da(0x7be));return _0x1ac94e;}[_0x273dd2(0x83d)](_0x2de1d0){const _0x580512=_0x273dd2,_0x3ae587=this[_0x580512(0x6d0)]['get'](_0x2de1d0);if(!_0x3ae587)throw new _0x3371e7(_0x4c9695[_0x580512(0x4f4)],_0x580512(0x561));return _0x3ae587;}[_0x273dd2(0x366)](_0x3accbf){const _0x3ad155=_0x273dd2,_0x421254=this[_0x3ad155(0xae6)][_0x3ad155(0x266)](_0x3accbf);if(!_0x421254)throw new _0x3371e7(_0x4c9695[_0x3ad155(0x562)],_0x3ad155(0x40b));return _0x421254;}['getVectorDatabase'](_0x5ae96){const _0x10185d=_0x273dd2,_0x17814b=this[_0x10185d(0x7a1)][_0x10185d(0x266)](_0x5ae96);if(!_0x17814b)throw new _0x3371e7(_0x4c9695[_0x10185d(0xb60)],_0x10185d(0x746));return _0x17814b;}['handleContentSystemEvents'](_0x26aeb6){const _0x1e6dbf=_0x273dd2;switch(_0x26aeb6['content'][_0x1e6dbf(0x6b9)]){case _0x310f3a[_0x1e6dbf(0x56a)]:this[_0x1e6dbf(0x4ac)](_0x26aeb6[_0x1e6dbf(0x26d)]);break;case _0x310f3a[_0x1e6dbf(0xa94)]:this[_0x1e6dbf(0x81a)](_0x26aeb6[_0x1e6dbf(0x26d)]);break;case _0x310f3a['CloseJobDispatcher']:this['removeJobDispatcher'](_0x26aeb6['content']['label']);break;case _0x310f3a[_0x1e6dbf(0x71b)]:this[_0x1e6dbf(0x92d)](_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x51b)]);break;case _0x310f3a[_0x1e6dbf(0x9ba)]:this[_0x1e6dbf(0xba4)](_0x26aeb6['content'][_0x1e6dbf(0x51b)]);break;case _0x310f3a['CloseMediaStream']:this[_0x1e6dbf(0xa41)](_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x51b)]);break;case _0x310f3a[_0x1e6dbf(0x4a6)]:this[_0x1e6dbf(0x94d)](_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x51b)]);break;case _0x310f3a[_0x1e6dbf(0x9f5)]:this[_0x1e6dbf(0x597)](_0x26aeb6[_0x1e6dbf(0x26d)]['label']);break;case _0x310f3a[_0x1e6dbf(0x377)]:this[_0x1e6dbf(0x1cf)](_0x26aeb6[_0x1e6dbf(0x26d)]['label']);break;case _0x310f3a[_0x1e6dbf(0x4a3)]:this['removeKeyValueDatabase'](_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x51b)]);break;case _0x310f3a[_0x1e6dbf(0x896)]:this['removeVectorDatabase'](_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x51b)]);break;case _0x310f3a[_0x1e6dbf(0x8f2)]:this[_0x1e6dbf(0x270)](_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x51b)]);break;case _0x310f3a[_0x1e6dbf(0x2ac)]:this[_0x1e6dbf(0xa66)](_0x26aeb6[_0x1e6dbf(0x26d)]);break;case _0x310f3a[_0x1e6dbf(0x710)]:this[_0x1e6dbf(0x6d0)][_0x1e6dbf(0x266)](_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x51b)])?.['answerContentAvailable'](_0x26aeb6[_0x1e6dbf(0x6fd)],_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x7cd)]);break;case _0x310f3a['KeyValueDatabaseContentSynchronized']:this[_0x1e6dbf(0x6d0)][_0x1e6dbf(0x266)](_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x51b)])?.[_0x1e6dbf(0xaf6)](_0x26aeb6[_0x1e6dbf(0x6fd)],_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x7cd)]);break;case _0x310f3a['KeyValueDatabaseContentAvailable']:this[_0x1e6dbf(0x6d0)]['get'](_0x26aeb6[_0x1e6dbf(0x26d)]['label'])?.[_0x1e6dbf(0x523)](_0x26aeb6[_0x1e6dbf(0x6fd)],_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x905)]);break;case _0x310f3a[_0x1e6dbf(0x74c)]:this[_0x1e6dbf(0x6d0)][_0x1e6dbf(0x266)](_0x26aeb6[_0x1e6dbf(0x26d)]['label'])?.[_0x1e6dbf(0x994)](_0x26aeb6['sourceId'],_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0xada)]);break;case _0x310f3a[_0x1e6dbf(0x447)]:this[_0x1e6dbf(0x6d0)][_0x1e6dbf(0x266)](_0x26aeb6['content']['label'])?.[_0x1e6dbf(0x21c)](_0x26aeb6[_0x1e6dbf(0x6fd)],_0x26aeb6[_0x1e6dbf(0x26d)]['transactionIds']);break;case _0x310f3a['KeyValueDatabaseSendTransactions']:this['keyValueDatabases'][_0x1e6dbf(0x266)](_0x26aeb6['content']['label'])?.[_0x1e6dbf(0x98d)](_0x26aeb6['sourceId'],_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x733)]);break;case _0x310f3a['LocalMediaStreamTrackFail']:this[_0x1e6dbf(0x4b1)]['mediator'][_0x1e6dbf(0xc2a)](_0x1e6dbf(0x655),{'label':_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x51b)],'trackKinds':_0x26aeb6[_0x1e6dbf(0x26d)][_0x1e6dbf(0x5d5)]});}}[_0x273dd2(0x2b3)]({content:_0x2caae8}){const _0x1ee6c2=_0x273dd2;switch(_0x2caae8['type']){case _0x18e010['NodeJoin']:this[_0x1ee6c2(0xa3c)](_0x2caae8),this[_0x1ee6c2(0xb00)](_0x2caae8);break;case _0x18e010[_0x1ee6c2(0x263)]:this['handleNodeLeave'](_0x2caae8),this[_0x1ee6c2(0x83f)](_0x2caae8);}}[_0x273dd2(0x3bd)](_0x11f42d){const _0x3e6248=_0x273dd2;switch(_0x11f42d[_0x3e6248(0x26d)][_0x3e6248(0x6b9)]){case _0x7c8d65[_0x3e6248(0x552)]:this[_0x3e6248(0x3f1)](_0x11f42d[_0x3e6248(0x6fd)],_0x11f42d[_0x3e6248(0x26d)]);break;case _0x7c8d65[_0x3e6248(0xa29)]:this[_0x3e6248(0x5df)](_0x11f42d[_0x3e6248(0x6fd)],_0x11f42d['content']);break;case _0x7c8d65[_0x3e6248(0x2ac)]:this[_0x3e6248(0x2d0)](_0x11f42d[_0x3e6248(0x6fd)],_0x11f42d[_0x3e6248(0x26d)]);}}[_0x273dd2(0xa66)](_0x353525){const _0x7b9828=_0x273dd2;if(0x0===_0x353525[_0x7b9828(0xac5)])this[_0x7b9828(0x717)][_0x7b9828(0x266)](_0x353525[_0x7b9828(0x822)])?.[_0x7b9828(0x266)](_0x353525[_0x7b9828(0x51b)])?.[_0x7b9828(0x553)]();else{const _0x57748e=this['remoteMediaStreams']['get'](_0x353525['ownerId'])?.[_0x7b9828(0x266)](_0x353525['label']);if(!_0x57748e)return;_0x353525[_0x7b9828(0x5d5)][_0x7b9828(0xb9b)](_0x71f943=>_0x57748e[_0x7b9828(0x8ff)](_0x71f943));}}[_0x273dd2(0x4ac)](_0x276fc5){const _0x4ceefd=_0x273dd2,{label:_0x27263d,ownerId:_0x4ef114,stream:{streamId:_0x120e3a,availableTrackKinds:_0x464157}}=_0x276fc5;if(this[_0x4ceefd(0x717)][_0x4ceefd(0x266)](_0x4ef114)?.[_0x4ceefd(0xb9f)](_0x27263d))return void _0x58cca5['log'](_0x57ac86[_0x4ceefd(0x829)],'Stream\x20already\x20exists',_0x120e3a);const _0x257d50=this[_0x4ceefd(0x436)](_0x4ef114,_0x27263d,_0x120e3a,_0x464157);this[_0x4ceefd(0x4b1)]['mediator']['notifyCluster'](_0x4ceefd(0x8cf),{'ownerId':_0x4ef114,'stream':_0x257d50});}[_0x273dd2(0x81a)]({ownerId:_0x11fee8,label:_0x15a492}){const _0x1c55ba=_0x273dd2;this[_0x1c55ba(0x289)](_0x11fee8,_0x15a492),this[_0x1c55ba(0x4b1)][_0x1c55ba(0x927)]['notifyCluster'](_0x1c55ba(0x4b0),{'ownerId':_0x11fee8,'label':_0x15a492});}['handleSubscribeMediaStream'](_0x3fd900,_0x2df8be){const _0x3eb52f=_0x273dd2,{ownerId:_0x50b41a,label:_0x3e22dd}=_0x2df8be;let _0x427d3c;_0x427d3c=_0x50b41a!==this[_0x3eb52f(0x4b1)][_0x3eb52f(0x61b)][_0x3eb52f(0xb9d)]()?this[_0x3eb52f(0x717)][_0x3eb52f(0x266)](_0x50b41a)['get'](_0x3e22dd):this[_0x3eb52f(0x575)]['get'](_0x3e22dd),_0x427d3c[_0x3eb52f(0x201)](_0x3fd900,_0x2df8be[_0x3eb52f(0xa8a)])[_0x3eb52f(0x6f8)](_0x2df8be,_0x427d3c[_0x3eb52f(0x392)]());}[_0x273dd2(0x5df)](_0x3b97a8,_0x36f846){const _0x4773bd=_0x273dd2,{ownerId:_0x191bfd,label:_0xb1914b}=_0x36f846;let _0x539c46;_0x539c46=_0x191bfd!==this['configs'][_0x4773bd(0x61b)]['getId']()?this[_0x4773bd(0x717)]['get'](_0x191bfd)[_0x4773bd(0x266)](_0xb1914b):this['localMediaStreams'][_0x4773bd(0x266)](_0xb1914b),_0x539c46['getShareableStream'](_0x3b97a8,_0x36f846[_0x4773bd(0xa8a)])[_0x4773bd(0x921)](_0x36f846);}['handleUnsubscribeMediaStream'](_0x154f9d,_0x57e4fd){const _0x364044=_0x273dd2,{ownerId:_0x491111,label:_0x1c1968}=_0x57e4fd;let _0x1b9014;_0x1b9014=_0x491111!==this[_0x364044(0x4b1)][_0x364044(0x61b)][_0x364044(0xb9d)]()?this[_0x364044(0x717)][_0x364044(0x266)](_0x491111)[_0x364044(0x266)](_0x1c1968):this['localMediaStreams'][_0x364044(0x266)](_0x1c1968),_0x1b9014[_0x364044(0x201)](_0x154f9d)['unsubscribe'](_0x57e4fd);}['handleNodeJoinNeedPublishedStream']({id:_0x420c0d}){const _0x486e4c=_0x273dd2;this['getLocalMediaStreams']()[_0x486e4c(0xb9b)](_0x329794=>{const _0x1ec410=_0x486e4c;_0x329794[_0x1ec410(0xb07)](_0x420c0d);});}[_0x273dd2(0x4a1)]({id:_0xcbedc8}){const _0x48d8d4=_0x273dd2;this['getRemoteMediaStreams'](_0x12cb7=>_0x12cb7[_0x48d8d4(0x5ca)]()===_0xcbedc8)[_0x48d8d4(0xb9b)](_0x33b70e=>{const _0x185d92=_0x48d8d4;this[_0x185d92(0x289)](_0x33b70e[_0x185d92(0x5ca)](),_0x33b70e[_0x185d92(0xa73)]());});}[_0x273dd2(0xb00)]({id:_0x348823}){const _0x2cc740=_0x273dd2;this['objectStores'][_0x2cc740(0xb9b)](_0x1969e5=>_0x1969e5[_0x2cc740(0xac6)](_0x348823));}[_0x273dd2(0x83f)]({id:_0x12bda6}){const _0xd80b0e=_0x273dd2;this[_0xd80b0e(0x9d9)]['forEach'](_0x5d0b66=>_0x5d0b66[_0xd80b0e(0x4a1)](_0x12bda6));}[_0x273dd2(0xa84)](_0xa0c2ed){const _0x4d2351=_0x273dd2;if(!this[_0x4d2351(0x339)][_0x4d2351(0xb9f)](_0xa0c2ed))throw new _0x3371e7(_0x4c9695[_0x4d2351(0x8c3)],_0x4d2351(0x243));const _0xe0b3fe=this[_0x4d2351(0x339)][_0x4d2351(0x266)](_0xa0c2ed);this[_0x4d2351(0x339)]['delete'](_0xa0c2ed),_0xe0b3fe[_0x4d2351(0x553)](),this[_0x4d2351(0x4b1)][_0x4d2351(0x927)]['unregisterSystemSource'](_0xe0b3fe);}[_0x273dd2(0x92d)](_0x227a6f){const _0x4165fa=_0x273dd2;if(!this[_0x4165fa(0x3b0)][_0x4165fa(0xb9f)](_0x227a6f))throw new _0x3371e7(_0x4c9695[_0x4165fa(0x633)],_0x4165fa(0x5dd));const _0x326f82=this[_0x4165fa(0x3b0)][_0x4165fa(0x266)](_0x227a6f);this[_0x4165fa(0x3b0)][_0x4165fa(0x997)](_0x227a6f),_0x326f82['destroy'](),this[_0x4165fa(0x4b1)]['mediator'][_0x4165fa(0xb49)](_0x326f82);}[_0x273dd2(0xba4)](_0x5eacb1){const _0x1af24a=_0x273dd2;if(!this['generativeAIContexts'][_0x1af24a(0xb9f)](_0x5eacb1))throw new _0x3371e7(_0x4c9695[_0x1af24a(0x728)],_0x1af24a(0x23d));const _0x5b69cc=this[_0x1af24a(0xbfc)][_0x1af24a(0x266)](_0x5eacb1);this[_0x1af24a(0xbfc)][_0x1af24a(0x997)](_0x5eacb1),this['configs'][_0x1af24a(0x927)][_0x1af24a(0xb49)](_0x5b69cc);}['removeObjectStore'](_0x5df281){const _0x20baa5=_0x273dd2;if(!this['objectStores'][_0x20baa5(0xb9f)](_0x5df281))throw new _0x3371e7(_0x4c9695[_0x20baa5(0x83a)],'Stream\x20does\x20not\x20exist');const _0x2817ba=this[_0x20baa5(0x9d9)][_0x20baa5(0x266)](_0x5df281);this[_0x20baa5(0x9d9)][_0x20baa5(0x997)](_0x5df281),_0x2817ba[_0x20baa5(0x553)](),this[_0x20baa5(0x4b1)][_0x20baa5(0x927)][_0x20baa5(0xb49)](_0x2817ba);}[_0x273dd2(0x1cf)](_0x117e97){const _0x4b5926=_0x273dd2;if(!this['externalStorageConnections'][_0x4b5926(0xb9f)](_0x117e97))throw new _0x3371e7(_0x4c9695[_0x4b5926(0x8be)],_0x4b5926(0x696));const _0x501aff=this[_0x4b5926(0x47f)][_0x4b5926(0x266)](_0x117e97);this[_0x4b5926(0x47f)][_0x4b5926(0x997)](_0x117e97),_0x501aff['destroy'](),this[_0x4b5926(0x4b1)][_0x4b5926(0x927)]['unregisterSystemSource'](_0x501aff);}[_0x273dd2(0x94d)](_0x4fdb61){const _0x4751f9=_0x273dd2;if(!this[_0x4751f9(0xae6)][_0x4751f9(0xb9f)](_0x4fdb61))throw new _0x3371e7(_0x4c9695['PubSubTopicDoesNotExist'],_0x4751f9(0x7a5));const _0x250543=this[_0x4751f9(0xae6)][_0x4751f9(0x266)](_0x4fdb61);this['pubSubTopics'][_0x4751f9(0x997)](_0x4fdb61),_0x250543[_0x4751f9(0x553)](),this[_0x4751f9(0x4b1)][_0x4751f9(0x927)]['unregisterSystemSource'](_0x250543);}[_0x273dd2(0x448)](_0x502c73){const _0x57cb4a=_0x273dd2;if(!this['keyValueDatabases']['has'](_0x502c73))throw new _0x3371e7(_0x4c9695[_0x57cb4a(0x4f4)],_0x57cb4a(0x256));const _0x590764=this[_0x57cb4a(0x6d0)]['get'](_0x502c73);this[_0x57cb4a(0x6d0)]['delete'](_0x502c73),_0x590764['destroy'](),this[_0x57cb4a(0x4b1)][_0x57cb4a(0x927)][_0x57cb4a(0xb49)](_0x590764);}[_0x273dd2(0x7b7)](_0x461867){const _0xa14ba6=_0x273dd2;if(!this[_0xa14ba6(0x7a1)][_0xa14ba6(0xb9f)](_0x461867))throw new _0x3371e7(_0x4c9695[_0xa14ba6(0xb60)],_0xa14ba6(0x256));const _0x3c9cdb=this[_0xa14ba6(0x7a1)][_0xa14ba6(0x266)](_0x461867);this['vectorDatabases'][_0xa14ba6(0x997)](_0x461867),_0x3c9cdb[_0xa14ba6(0x553)](),this[_0xa14ba6(0x4b1)][_0xa14ba6(0x927)][_0xa14ba6(0xb49)](_0x3c9cdb);}[_0x273dd2(0x270)](_0x19c85c){const _0x534b18=_0x273dd2;if(!this['graphDatabases'][_0x534b18(0xb9f)](_0x19c85c))throw new _0x3371e7(_0x4c9695[_0x534b18(0x1f8)],_0x534b18(0x256));const _0xb2a39a=this[_0x534b18(0x64b)][_0x534b18(0x266)](_0x19c85c);this[_0x534b18(0x64b)][_0x534b18(0x997)](_0x19c85c),_0xb2a39a['destroy'](),this[_0x534b18(0x4b1)]['mediator'][_0x534b18(0xb49)](_0xb2a39a);}[_0x273dd2(0xa41)](_0x5a647e){const _0xa14455=_0x273dd2;if(!this[_0xa14455(0x575)]['has'](_0x5a647e))throw new _0x4b8523(_0x4b8523[_0xa14455(0xa20)][_0xa14455(0x68f)],{'label':_0x5a647e,'localId':this[_0xa14455(0x4b1)][_0xa14455(0x61b)]['getId']()});const _0x21a941=this[_0xa14455(0x575)]['get'](_0x5a647e);this[_0xa14455(0x4b1)]['mediator'][_0xa14455(0xb49)](_0x21a941),_0x21a941['destroy'](),this[_0xa14455(0x575)][_0xa14455(0x997)](_0x5a647e);}[_0x273dd2(0x289)](_0x3c1bcc,_0x36674c){const _0x4eff7d=_0x273dd2;if(!this[_0x4eff7d(0x717)][_0x4eff7d(0xb9f)](_0x3c1bcc))throw new _0x4b8523(_0x4b8523[_0x4eff7d(0xa20)][_0x4eff7d(0xb22)],{'nodeId':_0x3c1bcc,'localId':this[_0x4eff7d(0x4b1)][_0x4eff7d(0x61b)][_0x4eff7d(0xb9d)]()});const _0x32f47f=this[_0x4eff7d(0x717)]['get'](_0x3c1bcc);if(!_0x32f47f[_0x4eff7d(0xb9f)](_0x36674c))throw new _0x4b8523(_0x4b8523[_0x4eff7d(0xa20)]['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x3c1bcc,'label':_0x36674c,'localId':this[_0x4eff7d(0x4b1)][_0x4eff7d(0x61b)][_0x4eff7d(0xb9d)]()});const _0x3a10a5=_0x32f47f['get'](_0x36674c);this[_0x4eff7d(0x4b1)][_0x4eff7d(0x927)]['unregisterSystemSource'](_0x3a10a5),_0x3a10a5[_0x4eff7d(0x553)](),_0x32f47f['delete'](_0x36674c);}}var _0x5e379d,_0x5f5439,_0x53b155;!function(_0x4fac70){const _0x40f5db=_0x273dd2;_0x4fac70[_0x40f5db(0x7a7)]=_0x40f5db(0x21a),_0x4fac70[_0x40f5db(0x7bf)]='dt_volatility',_0x4fac70[_0x40f5db(0x2d6)]='time_per_frame',_0x4fac70['Bitrate']=_0x40f5db(0xb40),_0x4fac70[_0x40f5db(0x9ea)]=_0x40f5db(0x8ae),_0x4fac70['FramePerSecond']=_0x40f5db(0x4e1),_0x4fac70[_0x40f5db(0x62f)]='rtt',_0x4fac70[_0x40f5db(0x4ea)]=_0x40f5db(0x82c);}(_0x5e379d||(_0x5e379d={})),function(_0xdfc17f){const _0x2feda9=_0x273dd2;_0xdfc17f[_0x2feda9(0x4bb)]=_0x2feda9(0x583),_0xdfc17f[_0x2feda9(0x2d6)]=_0x2feda9(0x8e1),_0xdfc17f[_0x2feda9(0x4ea)]=_0x2feda9(0x93f),_0xdfc17f[_0x2feda9(0x515)]=_0x2feda9(0xbe0),_0xdfc17f['Bitrate']=_0x2feda9(0x5ec),_0xdfc17f[_0x2feda9(0x9ea)]=_0x2feda9(0xa88),_0xdfc17f[_0x2feda9(0x62f)]=_0x2feda9(0xa77);}(_0x5f5439||(_0x5f5439={})),function(_0xf4387){const _0xd3373a=_0x273dd2;_0xf4387[_0xf4387['Problem']=0x0]=_0xd3373a(0x1f1);}(_0x53b155||(_0x53b155={}));const _0x3bd9c6=[{'type':_0x5e379d[_0x273dd2(0x7a7)],'reportMetric':_0x40df43=>_0x40df43[_0x273dd2(0x7a7)],'maxThreshold':2.5},{'type':_0x5e379d[_0x273dd2(0x7bf)],'reportMetric':_0x4ba025=>_0x4ba025[_0x273dd2(0x7bf)],'maxThreshold':0.5}],_0x519867=[{'type':_0x5e379d[_0x273dd2(0x2d6)],'reportMetric':_0x8427d0=>{const _0x27091f=0x3e8/_0x8427d0['FPS'];return _0x8427d0['timePerFrame']/_0x27091f;},'maxThreshold':0.75},{'type':_0x5e379d['Bitrate'],'reportMetric':_0x1b6e93=>{const _0x5463d5=_0x273dd2,_0x20717e=_0x1b6e93[_0x5463d5(0x6dd)]*_0x1b6e93[_0x5463d5(0x87c)]*_0x1b6e93[_0x5463d5(0x402)]*0.12;return _0x1b6e93[_0x5463d5(0xb40)]/_0x20717e;},'minThreshold':0.25},{'type':_0x5e379d[_0x273dd2(0x9ea)],'reportMetric':_0x13ee5b=>_0x13ee5b[_0x273dd2(0x8ae)],'maxThreshold':0.6},{'type':_0x5e379d['FramePerSecond'],'reportMetric':_0x30e356=>_0x30e356[_0x273dd2(0x6dd)],'minThreshold':0xa}],_0xfd079c=[{'type':_0x5e379d[_0x273dd2(0x9ea)],'reportMetric':_0x3c22ae=>_0x3c22ae[_0x273dd2(0x8ae)],'maxThreshold':0.6}],_0x265e09=[{'type':_0x5e379d[_0x273dd2(0x62f)],'reportMetric':_0x444fec=>_0x444fec[_0x273dd2(0x427)],'maxThreshold':0x1/0x0}],_0x30f266=[{'type':_0x5e379d[_0x273dd2(0x4ea)],'reportMetric':_0x295832=>_0x295832[_0x273dd2(0x4ea)],'maxThreshold':0x12c}],_0x1ea6a7=[{'type':_0x5f5439[_0x273dd2(0x4bb)],'issues':[{'type':_0x5e379d[_0x273dd2(0x7a7)],'threshold':0x5},{'type':_0x5e379d[_0x273dd2(0x7bf)],'threshold':0x5}]},{'type':_0x5f5439['TimePerFrame'],'issues':[{'type':_0x5e379d[_0x273dd2(0x2d6)],'threshold':0x3}]},{'type':_0x5f5439[_0x273dd2(0x4ea)],'issues':[{'type':_0x5e379d['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x5f5439[_0x273dd2(0x515)],'issues':[{'type':_0x5e379d['FramePerSecond'],'threshold':0x3}]},{'type':_0x5f5439[_0x273dd2(0x555)],'issues':[{'type':_0x5e379d[_0x273dd2(0x555)],'threshold':0x3}]},{'type':_0x5f5439[_0x273dd2(0x9ea)],'issues':[{'type':_0x5e379d[_0x273dd2(0x9ea)],'threshold':0x3}]},{'type':_0x5f5439[_0x273dd2(0x62f)],'issues':[{'type':_0x5e379d[_0x273dd2(0x62f)],'threshold':0x3}]}];var _0x2b4f7b,_0x3f7b12;!function(_0x4aaf56){const _0x4ff322=_0x273dd2;_0x4aaf56[_0x4aaf56[_0x4ff322(0xab8)]=0x0]=_0x4ff322(0xab8),_0x4aaf56[_0x4aaf56[_0x4ff322(0x229)]=0x1]=_0x4ff322(0x229);}(_0x2b4f7b||(_0x2b4f7b={}));class _0x501c18{[_0x273dd2(0x4b1)];[_0x273dd2(0x907)]=[];[_0x273dd2(0x2fb)];constructor(_0x264c72){const _0x1faab7=_0x273dd2;this[_0x1faab7(0x4b1)]=_0x264c72,this[_0x1faab7(0x4b1)]['mediator'][_0x1faab7(0x5a0)](this);}[_0x273dd2(0x32c)](_0x14d32d){this['systemTopic']=_0x14d32d;}[_0x273dd2(0x200)](){const _0x3aaaeb=_0x273dd2;this[_0x3aaaeb(0x2fb)]=void 0x0;}[_0x273dd2(0x210)](){const _0x19673d=_0x273dd2;this[_0x19673d(0x4b1)][_0x19673d(0x927)]['unregisterSystemSource'](this),this['issues']=[];}['handleStatsSystemEvents'](_0x316a10){const _0x5228f2=_0x273dd2;switch(_0x316a10['content'][_0x5228f2(0x6b9)]){case _0x2b4f7b[_0x5228f2(0x229)]:this[_0x5228f2(0x61d)](_0x316a10[_0x5228f2(0x26d)][_0x5228f2(0x9b6)]);break;case _0x2b4f7b[_0x5228f2(0xab8)]:this['detectStreamIssues'](_0x316a10[_0x5228f2(0x26d)]['data']);}}['detectProblems'](_0x2f2553,_0x110bd4,_0x8214fc,_0x5086fd){const _0xaac6b2=_0x273dd2,_0x3d08ec=_0x1ea6a7[_0xaac6b2(0x77e)](_0x27356b=>_0x27356b[_0xaac6b2(0x907)][_0xaac6b2(0x323)](_0x2b86d9=>_0x2b86d9[_0xaac6b2(0x6b9)]===_0x2f2553));_0x5086fd>=_0x3d08ec[_0xaac6b2(0x907)]['find'](_0x192918=>_0x192918['type']===_0x2f2553)[_0xaac6b2(0x6d8)]&&(this[_0xaac6b2(0x67f)](_0x3d08ec[_0xaac6b2(0x6b9)],_0x110bd4,_0x8214fc),this[_0xaac6b2(0x907)]=this[_0xaac6b2(0x907)][_0xaac6b2(0x57c)](_0x44c5fb=>!(_0x44c5fb[_0xaac6b2(0x6b9)]===_0x2f2553&&_0x44c5fb[_0xaac6b2(0xa0a)]===_0x110bd4&&_0x44c5fb[_0xaac6b2(0x389)]===_0x8214fc)));}[_0x273dd2(0x61d)](_0x51a807){_0x3bd9c6['forEach'](_0x17ece7=>{const _0x151c1=a0_0x35be,_0x192e95=_0x17ece7['reportMetric'](_0x51a807);_0x17ece7[_0x151c1(0x2f6)]&&_0x192e95>_0x17ece7[_0x151c1(0x2f6)]&&this['addIssue'](_0x17ece7[_0x151c1(0x6b9)],this['configs'][_0x151c1(0x61b)][_0x151c1(0xb9d)](),_0x31b797[_0x151c1(0x3a7)],_0x192e95),_0x17ece7[_0x151c1(0x982)]&&_0x192e95<_0x17ece7[_0x151c1(0x982)]&&this[_0x151c1(0x29d)](_0x17ece7[_0x151c1(0x6b9)],this[_0x151c1(0x4b1)]['localNode']['getId'](),_0x31b797['Sender'],_0x192e95);});}[_0x273dd2(0x3bf)](_0x4ee9a6){const _0x51b5df=_0x273dd2;let _0x4eeae0=[];switch(_0x4ee9a6['origin']){case _0x31b797['Sender']:_0x4eeae0=_0x265e09;break;case _0x31b797[_0x51b5df(0xa6e)]:_0x4eeae0=_0x30f266;}_0x4ee9a6[_0x51b5df(0x758)]&&this[_0x51b5df(0x81e)](_0x4ee9a6['nodeId'],_0x31b797['Sender'],_0x4ee9a6[_0x51b5df(0x758)]),_0x4ee9a6[_0x51b5df(0x1fc)]&&this['detectAudioIssues'](_0x4ee9a6[_0x51b5df(0xa0a)],_0x31b797[_0x51b5df(0x3a7)],_0x4ee9a6[_0x51b5df(0x1fc)]),_0x4eeae0['forEach'](_0x124955=>{const _0xe56a6a=_0x51b5df,_0x3af57a=_0x124955['reportMetric'](_0x4ee9a6);_0x124955[_0xe56a6a(0x2f6)]&&_0x3af57a>_0x124955[_0xe56a6a(0x2f6)]&&this[_0xe56a6a(0x29d)](_0x124955[_0xe56a6a(0x6b9)],_0x4ee9a6[_0xe56a6a(0xa0a)],_0x31b797[_0xe56a6a(0x3a7)],_0x3af57a),_0x124955['minThreshold']&&_0x3af57a<_0x124955[_0xe56a6a(0x982)]&&this[_0xe56a6a(0x29d)](_0x124955[_0xe56a6a(0x6b9)],_0x4ee9a6[_0xe56a6a(0xa0a)],_0x31b797[_0xe56a6a(0x3a7)],_0x3af57a);});}[_0x273dd2(0x81e)](_0x1fea0b,_0x519637,_0x210bd1){const _0x19f113=_0x273dd2;0x0!==_0x210bd1[_0x19f113(0xb40)]&&_0x519867[_0x19f113(0xb9b)](_0x420abb=>{const _0x576d4a=_0x19f113,_0xe5fc2a=_0x420abb[_0x576d4a(0x5c6)](_0x210bd1);_0x420abb[_0x576d4a(0x2f6)]&&_0xe5fc2a>_0x420abb[_0x576d4a(0x2f6)]&&this[_0x576d4a(0x29d)](_0x420abb[_0x576d4a(0x6b9)],_0x1fea0b,_0x519637,_0xe5fc2a,_0x576d4a(0x758)),_0x420abb[_0x576d4a(0x982)]&&_0xe5fc2a<_0x420abb['minThreshold']&&this[_0x576d4a(0x29d)](_0x420abb[_0x576d4a(0x6b9)],_0x1fea0b,_0x519637,_0xe5fc2a,_0x576d4a(0x758));});}[_0x273dd2(0x880)](_0x1e1e1a,_0x186b10,_0x28d512){const _0x5157bf=_0x273dd2;0x0!==_0x28d512['bitrate']&&_0xfd079c[_0x5157bf(0xb9b)](_0x27ea03=>{const _0x53546e=_0x5157bf,_0x2e8d1c=_0x27ea03[_0x53546e(0x5c6)](_0x28d512);_0x27ea03[_0x53546e(0x2f6)]&&_0x2e8d1c>_0x27ea03[_0x53546e(0x2f6)]&&this[_0x53546e(0x29d)](_0x27ea03[_0x53546e(0x6b9)],_0x1e1e1a,_0x186b10,_0x2e8d1c,'audio'),_0x27ea03[_0x53546e(0x982)]&&_0x2e8d1c<_0x27ea03[_0x53546e(0x982)]&&this['addIssue'](_0x27ea03[_0x53546e(0x6b9)],_0x1e1e1a,_0x186b10,_0x2e8d1c,_0x53546e(0x1fc));});}[_0x273dd2(0x29d)](_0x8dfd69,_0x247369,_0xe0e660,_0x419ab9,_0x3046d0){const _0x54cc9c=_0x273dd2;_0x58cca5[_0x54cc9c(0x3a3)](_0x57ac86[_0x54cc9c(0x826)],_0x54cc9c(0xc08)+_0x8dfd69,_0x8dfd69,_0x419ab9),_0x58cca5[_0x54cc9c(0x586)](_0x54cc9c(0xb10),{'clusterId':this[_0x54cc9c(0x4b1)]['clusterId'],'nodeId':this[_0x54cc9c(0x4b1)][_0x54cc9c(0x61b)][_0x54cc9c(0xb9d)](),'nodeType':this[_0x54cc9c(0x4b1)]['localNode']['type'],'remoteId':_0x247369,'data':{'type':_0x8dfd69,'value':_0x419ab9,'kind':_0x3046d0}}),this[_0x54cc9c(0x907)]=this[_0x54cc9c(0x907)][_0x54cc9c(0x57c)](_0x4faff0=>Date[_0x54cc9c(0x3a1)]()-_0x4faff0['timestamp']<0x7530),this['issues']['push']({'timestamp':Date[_0x54cc9c(0x3a1)](),'type':_0x8dfd69,'nodeId':_0x247369,'origin':_0xe0e660,'value':_0x419ab9,'kind':_0x3046d0});const _0x5351da=this[_0x54cc9c(0x907)][_0x54cc9c(0x57c)](_0x16e6cc=>_0x16e6cc[_0x54cc9c(0x6b9)]===_0x8dfd69&&_0x16e6cc[_0x54cc9c(0xa0a)]===_0x247369&&_0x16e6cc[_0x54cc9c(0x389)]===_0xe0e660)[_0x54cc9c(0x830)];this[_0x54cc9c(0x595)](_0x8dfd69,_0x247369,_0xe0e660,_0x5351da);}[_0x273dd2(0x67f)](_0x5a0eed,_0x18e77b,_0x264b85){const _0x2f8c1f=_0x273dd2;_0x58cca5['log'](_0x57ac86[_0x2f8c1f(0x826)],_0x2f8c1f(0x80c)+_0x5a0eed),_0x58cca5[_0x2f8c1f(0x586)](_0x2f8c1f(0x357),{'clusterId':this[_0x2f8c1f(0x4b1)][_0x2f8c1f(0x78c)],'nodeId':this[_0x2f8c1f(0x4b1)]['localNode'][_0x2f8c1f(0xb9d)](),'nodeType':this['configs'][_0x2f8c1f(0x61b)][_0x2f8c1f(0x6b9)],'remoteId':_0x18e77b,'data':{'type':_0x5a0eed}}),this[_0x2f8c1f(0x2fb)]?.[_0x2f8c1f(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x2f8c1f(0x826)],'content':{'type':_0x53b155['Problem'],'data':{'timestamp':Date[_0x2f8c1f(0x3a1)](),'nodeId':_0x18e77b,'origin':_0x31b797[_0x2f8c1f(0x3a7)],'type':_0x5a0eed}}});}}class _0x3cdec5 extends _0x372e74{[_0x273dd2(0x6b9)]=_0x2a74a6[_0x273dd2(0x6e3)][_0x273dd2(0x207)];}class _0x53e62c extends _0x3cdec5{[_0x273dd2(0x2fb)];[_0x273dd2(0x6db)]=Date[_0x273dd2(0x3a1)]();[_0x273dd2(0xb78)];[_0x273dd2(0x8cc)];['close'](){const _0x4591eb=_0x273dd2;this[_0x4591eb(0xb78)]&&(clearTimeout(this[_0x4591eb(0xb78)]),delete this[_0x4591eb(0xb78)]),delete this[_0x4591eb(0x8cc)],this[_0x4591eb(0x6db)]=Date['now'](),super[_0x4591eb(0x210)]();}[_0x273dd2(0x32c)](_0x5754ef){const _0x363ada=_0x273dd2;this[_0x363ada(0x2fb)]=_0x5754ef;}['unregisterSystemPublisher'](){const _0x3c111c=_0x273dd2;delete this[_0x3c111c(0x2fb)];}[_0x273dd2(0x8f0)](_0x57818b){const _0x32aa77=_0x273dd2;!this[_0x32aa77(0xb78)]&&this[_0x32aa77(0x8bf)]&&this[_0x32aa77(0x2fb)]['publish']({'sourceId':this['id'],'destinationIds':[_0x57818b],'propagate':!0x0,'messageType':_0xe6fd3b['Node'],'content':{'type':_0x18e010['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x32aa77(0x6b9)]},'rank':this['getRank'](),'remoteConnections':Array[_0x32aa77(0x668)](this[_0x32aa77(0x2f7)]),'version':this[_0x32aa77(0x6db)]}});}[_0x273dd2(0x32b)](_0x286572){const _0x4c3f59=_0x273dd2;this['remoteConnections'][_0x4c3f59(0xb9f)](_0x286572)||(this[_0x4c3f59(0x2f7)][_0x4c3f59(0xbf8)](_0x286572),this[_0x4c3f59(0x23a)](),this[_0x4c3f59(0xacd)](!0x0));}[_0x273dd2(0x38a)](_0x86715b){const _0x1fed5c=_0x273dd2;this[_0x1fed5c(0x2f7)][_0x1fed5c(0xb9f)](_0x86715b)&&(this['remoteConnections'][_0x1fed5c(0x997)](_0x86715b),this[_0x1fed5c(0x23a)](),this['publishUserUpdate'](!0x0));}[_0x273dd2(0x3e9)](){return this['currentVersion'];}[_0x273dd2(0x4f3)](_0x50e167,_0x508c07=!0x0){const _0x26976c=_0x273dd2;this[_0x26976c(0x8bf)]!==_0x50e167&&(this['rank']=_0x50e167,_0x508c07&&(this[_0x26976c(0x23a)](),this[_0x26976c(0xacd)]()));}[_0x273dd2(0x23a)](){const _0xf0b5d3=_0x273dd2;this[_0xf0b5d3(0x6db)]=Date[_0xf0b5d3(0x3a1)]();}[_0x273dd2(0xacd)](_0x144167=!0x1){const _0x33d617=_0x273dd2;if(this[_0x33d617(0x8bf)]){if(this[_0x33d617(0x8cc)]||(this[_0x33d617(0x8cc)]=Date[_0x33d617(0x3a1)]()),this[_0x33d617(0xb78)]){if(Date[_0x33d617(0x3a1)]()-this[_0x33d617(0x8cc)]>0x2328)return;clearTimeout(this[_0x33d617(0xb78)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0xc66cba=_0x33d617;delete this[_0xc66cba(0x8cc)],delete this[_0xc66cba(0xb78)],this[_0xc66cba(0x2fb)][_0xc66cba(0xb07)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0xe6fd3b[_0xc66cba(0x38e)],'content':{'type':_0x144167?_0x18e010[_0xc66cba(0x915)]:_0x18e010['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0xc66cba(0x6b9)]},'rank':this['getRank'](),'remoteConnections':Array[_0xc66cba(0x668)](this['remoteConnections']),'version':this['currentVersion']}});},0x3e8);}}}class _0x106db8 extends _0x4fb96b{[_0x273dd2(0x2fb)];[_0x273dd2(0x6db)]=Date[_0x273dd2(0x3a1)]();[_0x273dd2(0xb78)];[_0x273dd2(0x8cc)];[_0x273dd2(0x210)](){const _0x242ff1=_0x273dd2;this[_0x242ff1(0xb78)]&&(clearTimeout(this[_0x242ff1(0xb78)]),delete this[_0x242ff1(0xb78)]),delete this[_0x242ff1(0x8cc)],this[_0x242ff1(0x6db)]=Date['now'](),super[_0x242ff1(0x210)]();}[_0x273dd2(0x32c)](_0x60cf15){const _0x5e3e00=_0x273dd2;this[_0x5e3e00(0x2fb)]=_0x60cf15;}[_0x273dd2(0x200)](){const _0x561f90=_0x273dd2;delete this[_0x561f90(0x2fb)];}[_0x273dd2(0x8f0)](_0x2287af){const _0x40ea82=_0x273dd2;!this[_0x40ea82(0xb78)]&&this[_0x40ea82(0x8bf)]&&this[_0x40ea82(0x2fb)]['publish']({'sourceId':this['id'],'destinationIds':[_0x2287af],'propagate':!0x0,'messageType':_0xe6fd3b[_0x40ea82(0x38e)],'content':{'type':_0x18e010[_0x40ea82(0xbcf)],'id':this['id'],'metaData':{'type':this[_0x40ea82(0x6b9)],'displayName':this[_0x40ea82(0x84c)](),'email':this['getEmail']()},'rank':this[_0x40ea82(0xae0)](),'remoteConnections':Array[_0x40ea82(0x668)](this[_0x40ea82(0x2f7)]),'version':this['currentVersion']}});}[_0x273dd2(0x32b)](_0x3fdc7f){const _0x52e68a=_0x273dd2;this['remoteConnections'][_0x52e68a(0xb9f)](_0x3fdc7f)||(this['remoteConnections'][_0x52e68a(0xbf8)](_0x3fdc7f),this[_0x52e68a(0x23a)](),this['publishUserUpdate'](!0x0));}[_0x273dd2(0x38a)](_0xd1f888){const _0x5e8c34=_0x273dd2;this[_0x5e8c34(0x2f7)][_0x5e8c34(0xb9f)](_0xd1f888)&&(this['remoteConnections'][_0x5e8c34(0x997)](_0xd1f888),this[_0x5e8c34(0x23a)](),this['publishUserUpdate'](!0x0));}[_0x273dd2(0x3e9)](){return this['currentVersion'];}[_0x273dd2(0x430)](_0x17bbb1){const _0x1e1055=_0x273dd2;this[_0x1e1055(0x441)]!==_0x17bbb1&&(this[_0x1e1055(0x441)]=_0x17bbb1,this['incrementVersion'](),this[_0x1e1055(0xacd)]());}[_0x273dd2(0x941)](_0x2b4464){const _0x39c400=_0x273dd2;this[_0x39c400(0x230)]!==_0x2b4464&&(this[_0x39c400(0x230)]=_0x2b4464,this[_0x39c400(0x23a)](),this[_0x39c400(0xacd)]());}[_0x273dd2(0x4f3)](_0x2be6db,_0x48881f=!0x0){const _0x3b2d2f=_0x273dd2;this['rank']!==_0x2be6db&&(this[_0x3b2d2f(0x8bf)]=_0x2be6db,_0x48881f&&(this[_0x3b2d2f(0x23a)](),this['publishUserUpdate']()));}['incrementVersion'](){const _0x302794=_0x273dd2;this['currentVersion']=Date[_0x302794(0x3a1)]();}['publishUserUpdate'](_0x3d6725=!0x1){const _0x494b8e=_0x273dd2;if(this[_0x494b8e(0x8bf)]){if(this[_0x494b8e(0x8cc)]||(this[_0x494b8e(0x8cc)]=Date['now']()),this[_0x494b8e(0xb78)]){if(Date[_0x494b8e(0x3a1)]()-this[_0x494b8e(0x8cc)]>0x2328)return;clearTimeout(this[_0x494b8e(0xb78)]);}this[_0x494b8e(0xb78)]=setTimeout(()=>{const _0x4e2609=_0x494b8e;delete this[_0x4e2609(0x8cc)],delete this[_0x4e2609(0xb78)],this[_0x4e2609(0x2fb)][_0x4e2609(0xb07)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0xe6fd3b[_0x4e2609(0x38e)],'content':{'type':_0x3d6725?_0x18e010[_0x4e2609(0x915)]:_0x18e010[_0x4e2609(0xbcf)],'id':this['id'],'metaData':{'type':this[_0x4e2609(0x6b9)],'displayName':this['getDisplayName'](),'email':this['getEmail']()},'rank':this['getRank'](),'remoteConnections':Array[_0x4e2609(0x668)](this[_0x4e2609(0x2f7)]),'version':this[_0x4e2609(0x6db)]}});},0x3e8);}}}class _0x37d2d2{['id'];[_0x273dd2(0x490)];['vendorId'];[_0x273dd2(0x5e9)];[_0x273dd2(0x6b9)]=_0x2a74a6['NodeType'][_0x273dd2(0x207)];[_0x273dd2(0xc1c)];constructor(_0x1ae259,_0x4130dd,_0x2cb787,_0x446bb7){const _0x2c264a=_0x273dd2;this['id']=_0x1ae259,this[_0x2c264a(0x490)]=_0x4130dd,this[_0x2c264a(0x300)]=_0x2cb787,this[_0x2c264a(0x5e9)]=_0x446bb7;}['getId'](){return this['id'];}[_0x273dd2(0x5cf)](_0x52452f){const _0x1555ca=_0x273dd2,_0x4e38db=(0x0,_0x5dec29[_0x1555ca(0x588)])((0x0,_0x5dec29[_0x1555ca(0x6c8)])(_0x4d7ce4[_0x1555ca(0x4c1)](),'developers/'+this['vendorId']+_0x1555ca(0x2f4)+this[_0x1555ca(0x490)]),_0x497a3b=>{const _0x25eac1=_0x1555ca;if(_0x497a3b['exists']()){const _0x37591c=_0x497a3b['data']();if(this[_0x25eac1(0x5e9)]['timestamp'][_0x25eac1(0x5b9)](_0x37591c[_0x25eac1(0xae2)]))return;_0x58cca5[_0x25eac1(0x3a3)](_0x57ac86[_0x25eac1(0x38e)],_0x25eac1(0x70f),{'agentId':this['id'],'groupId':this[_0x25eac1(0x490)],'oldConfig':this[_0x25eac1(0x5e9)],'newConfig':_0x37591c}),this[_0x25eac1(0x5e9)]=_0x37591c,_0x52452f();}});return()=>_0x4e38db();}[_0x273dd2(0x24e)](_0x219eb4){const _0x54bbc8=_0x273dd2;return this[_0x54bbc8(0x5e3)](this['groupId'],_0x219eb4),_0x35fbea[_0x54bbc8(0x794)](()=>this[_0x54bbc8(0x5e3)](this[_0x54bbc8(0x490)],_0x219eb4),0x7530);}[_0x273dd2(0xb95)](){const _0x481e22=_0x273dd2;if(!this['lastCapacityReport'])throw new _0x4b8523(_0x4b8523['codes']['MistletCapacityReportNotSet']);return this[_0x481e22(0xc1c)];}async['reportCapacity'](_0x5e06c3,_0x3db809){const _0x47d075=_0x273dd2,_0x20b54a=await _0x3db809();this[_0x47d075(0xc1c)]=_0x20b54a,await(0x0,_0x5dec29[_0x47d075(0x37e)])((0x0,_0x5dec29[_0x47d075(0x559)])(_0x4d7ce4[_0x47d075(0x4c1)](),'developers/'+this['vendorId']+_0x47d075(0x9ed)),{'agentId':this['id'],'groupId':_0x5e06c3,'timestamp':(0x0,_0x5dec29['serverTimestamp'])(),'capacity':_0x20b54a});}}!function(_0x23427f){const _0x6cff59=_0x273dd2;_0x23427f[_0x23427f['Online']=0x0]=_0x6cff59(0x2af),_0x23427f[_0x23427f[_0x6cff59(0x91e)]=0x1]=_0x6cff59(0x91e);}(_0x3f7b12||(_0x3f7b12={}));class _0x483de5 extends _0x3cdec5{[_0x273dd2(0x6db)];[_0x273dd2(0x3f4)]=_0x3f7b12[_0x273dd2(0x2af)];[_0x273dd2(0x8cc)]=Date[_0x273dd2(0x3a1)]();constructor(_0x8bfda0,_0x10db5f=new Set(),_0x5d6529,_0x44572d){const _0x356447=_0x273dd2;super(_0x8bfda0,_0x10db5f,_0x44572d),this[_0x356447(0x6db)]=_0x5d6529;}[_0x273dd2(0x3e9)](){return this['currentVersion'];}[_0x273dd2(0x3dc)](){const _0x58045d=_0x273dd2;return this[_0x58045d(0x3f4)];}[_0x273dd2(0x3c1)](){const _0x3eef36=_0x273dd2;return this[_0x3eef36(0x8cc)];}[_0x273dd2(0x4f3)](_0x5cb87a){const _0xe51560=_0x273dd2;this[_0xe51560(0x8bf)]!==_0x5cb87a&&(this['rank']=_0x5cb87a,this[_0xe51560(0x536)]());}['setRemoteConnections'](_0x30c579){const _0x523c8a=_0x273dd2;let _0x5acf40=!0x1;for(const _0x44d018 of this[_0x523c8a(0x2f7)])_0x30c579[_0x523c8a(0x4aa)](_0x44d018)||(_0x5acf40=!0x0,this[_0x523c8a(0x2f7)]['delete'](_0x44d018));for(const _0x2e0b9d of _0x30c579)this['remoteConnections']['has'](_0x2e0b9d)||(_0x5acf40=!0x0,this[_0x523c8a(0x2f7)]['add'](_0x2e0b9d));_0x5acf40&&this[_0x523c8a(0x536)]();}['setCurrentVersion'](_0x2b29dd){const _0x14d657=_0x273dd2;this['currentVersion']!==_0x2b29dd&&(this['currentVersion']=_0x2b29dd,this[_0x14d657(0x536)]());}[_0x273dd2(0x78b)](_0x496c5d){const _0xdc177=_0x273dd2;this[_0xdc177(0x3f4)]!==_0x496c5d&&(this[_0xdc177(0x3f4)]=_0x496c5d,this[_0xdc177(0x536)](),_0x496c5d===_0x3f7b12[_0xdc177(0x91e)]&&this[_0xdc177(0x210)]());}[_0x273dd2(0x536)](){const _0x33f1d8=_0x273dd2;this[_0x33f1d8(0x8cc)]=Date[_0x33f1d8(0x3a1)]();}}class _0x425acd extends _0x4fb96b{[_0x273dd2(0x6db)];[_0x273dd2(0x3f4)]=_0x3f7b12[_0x273dd2(0x2af)];[_0x273dd2(0x8cc)]=Date[_0x273dd2(0x3a1)]();constructor(_0x4351ac,_0xb84565,_0x22a5ef,_0x348e06=new Set(),_0x2d7327,_0x4d3a7d){const _0x23e732=_0x273dd2;super(_0x4351ac,_0xb84565,_0x22a5ef,_0x348e06,_0x4d3a7d),this[_0x23e732(0x6db)]=_0x2d7327;}[_0x273dd2(0x3e9)](){const _0x25c003=_0x273dd2;return this[_0x25c003(0x6db)];}[_0x273dd2(0x3dc)](){const _0x3ff211=_0x273dd2;return this[_0x3ff211(0x3f4)];}[_0x273dd2(0x3c1)](){return this['lastUpdated'];}[_0x273dd2(0x430)](_0x2f50fe){const _0x4c9223=_0x273dd2;this[_0x4c9223(0x441)]!==_0x2f50fe&&(this[_0x4c9223(0x441)]=_0x2f50fe,this[_0x4c9223(0x536)]());}[_0x273dd2(0x941)](_0x441c53){const _0x45dd05=_0x273dd2;this[_0x45dd05(0x230)]!==_0x441c53&&(this[_0x45dd05(0x230)]=_0x441c53,this[_0x45dd05(0x536)]());}[_0x273dd2(0x4f3)](_0x1bec46){const _0x2b255e=_0x273dd2;this[_0x2b255e(0x8bf)]!==_0x1bec46&&(this['rank']=_0x1bec46,this[_0x2b255e(0x536)]());}[_0x273dd2(0x679)](_0x184a18){const _0x3471ee=_0x273dd2;let _0x4ee394=!0x1;for(const _0x114f97 of this['remoteConnections'])_0x184a18[_0x3471ee(0x4aa)](_0x114f97)||(_0x4ee394=!0x0,this[_0x3471ee(0x2f7)][_0x3471ee(0x997)](_0x114f97));for(const _0x1ccd1d of _0x184a18)this[_0x3471ee(0x2f7)]['has'](_0x1ccd1d)||(_0x4ee394=!0x0,this['remoteConnections'][_0x3471ee(0xbf8)](_0x1ccd1d));_0x4ee394&&this[_0x3471ee(0x536)]();}[_0x273dd2(0x956)](_0x8c607b){const _0x3b6548=_0x273dd2;this[_0x3b6548(0x6db)]!==_0x8c607b&&(this[_0x3b6548(0x6db)]=_0x8c607b,this[_0x3b6548(0x536)]());}[_0x273dd2(0x78b)](_0x3eb65c){const _0x5a2247=_0x273dd2;this[_0x5a2247(0x3f4)]!==_0x3eb65c&&(this[_0x5a2247(0x3f4)]=_0x3eb65c,this[_0x5a2247(0x536)](),_0x3eb65c===_0x3f7b12[_0x5a2247(0x91e)]&&this[_0x5a2247(0x210)]());}[_0x273dd2(0x536)](){const _0x21db0f=_0x273dd2;this[_0x21db0f(0x8cc)]=Date[_0x21db0f(0x3a1)]();}}class _0x392e5b{['vendorId'];[_0x273dd2(0x78c)];[_0x273dd2(0x61b)];[_0x273dd2(0x38b)];['disconnectCallback']=_0x4eac7b();[_0x273dd2(0xa5a)];[_0x273dd2(0xb8e)];[_0x273dd2(0x5b2)];['connected']=!0x1;[_0x273dd2(0x9f9)];[_0x273dd2(0x2ea)];constructor(_0x4a8b60,_0x2a0520,_0x3211ba,_0x136f3f){const _0x1c6346=_0x273dd2;this[_0x1c6346(0x300)]=_0x4a8b60,this[_0x1c6346(0x78c)]=_0x2a0520,this[_0x1c6346(0x61b)]=_0x3211ba,this['minConnections']=_0x136f3f,this['clusterKey']=_0x1c6346(0x61c)+this[_0x1c6346(0x300)]+_0x1c6346(0x61c)+this['clusterId'],this['nodeKey']=_0x1c6346(0x61c)+this[_0x1c6346(0x300)]+_0x1c6346(0x61c)+this[_0x1c6346(0x61b)][_0x1c6346(0xb9d)](),this[_0x1c6346(0xa5a)]=(0x0,_0x271b56['onValue'])((0x0,_0x271b56['ref'])(_0x4d7ce4[_0x1c6346(0x233)](),'.info/connected'),_0x39a6db=>{const _0x1246f0=_0x1c6346;!0x0!==_0x39a6db['val']()?this[_0x1246f0(0x7d1)]&&_0x58cca5[_0x1246f0(0x5c5)]('firebase-disconnect',{'clusterId':this[_0x1246f0(0x78c)],'nodeId':this[_0x1246f0(0x61b)][_0x1246f0(0xb9d)](),'nodeType':this['localNode']['type']}):(this[_0x1246f0(0x7d1)]=!0x0,this[_0x1246f0(0xc22)](),_0x58cca5[_0x1246f0(0x673)]('firebase-connect',{'clusterId':this[_0x1246f0(0x78c)],'nodeId':this['localNode'][_0x1246f0(0xb9d)](),'nodeType':this[_0x1246f0(0x61b)][_0x1246f0(0x6b9)]}));});}async[_0x273dd2(0x98e)](){const _0x3ba954=_0x273dd2;await this[_0x3ba954(0x4d8)]();const _0x4ea24d=await this[_0x3ba954(0xb2a)]();return this[_0x3ba954(0xb8e)]=(0x0,_0x271b56[_0x3ba954(0x3f7)])((0x0,_0x271b56[_0x3ba954(0x48e)])(_0x4d7ce4[_0x3ba954(0x233)](),_0x3ba954(0xaef)+this[_0x3ba954(0x9f9)]+'/nodes'),_0xac43c1=>{const _0x57f44f=_0x3ba954,_0x8ad911=_0xac43c1[_0x57f44f(0xc14)];if(!_0x8ad911)return;const _0x340a63=_0x8ad911[_0x57f44f(0x4cf)]('ccc'+this[_0x57f44f(0x300)]+_0x57f44f(0x61c),'');this[_0x57f44f(0x576)][_0x57f44f(0xb07)](_0x340a63);}),_0x4ea24d;}async[_0x273dd2(0x210)](){const _0x527d68=_0x273dd2;this[_0x527d68(0xb8e)]?.(),delete this[_0x527d68(0xb8e)],this[_0x527d68(0x5b2)]?.[_0x527d68(0xa1e)](),delete this[_0x527d68(0x5b2)],this[_0x527d68(0xa5a)]?.(),delete this['firebaseUnsubscriber'],await(0x0,_0x271b56[_0x527d68(0x852)])((0x0,_0x271b56[_0x527d68(0x48e)])(_0x4d7ce4['getDatabase'](),'clusters/'+this['clusterKey']+'/nodes/'+this[_0x527d68(0x2ea)]));}[_0x273dd2(0x56c)](_0x1ec194){const _0x1f8240=_0x273dd2;return this['disconnectCallback'][_0x1f8240(0x6f8)](_0x1ec194);}async[_0x273dd2(0xb2a)](){const _0xc33a04=_0x273dd2,_0x3a1de4=[],_0xcfe903=await(0x0,_0x271b56[_0xc33a04(0x266)])((0x0,_0x271b56[_0xc33a04(0x48e)])(_0x4d7ce4[_0xc33a04(0x233)](),_0xc33a04(0xaef)+this[_0xc33a04(0x9f9)]+_0xc33a04(0x7f3))),_0x1a00c8=[];return _0xcfe903['forEach'](_0x2f36c3=>{const _0x6f07bb=_0xc33a04,_0x574fd5=_0x2f36c3['key']?.[_0x6f07bb(0x4cf)](_0x6f07bb(0x61c)+this['vendorId']+_0x6f07bb(0x61c),'');_0x1a00c8[_0x6f07bb(0x604)]({'id':_0x574fd5,'joinedAt':_0x2f36c3[_0x6f07bb(0x988)]()['joinedAt'],'priority':_0x2f36c3[_0x6f07bb(0x988)]()[_0x6f07bb(0x2dd)]});}),_0x1a00c8['sort']((_0x462872,_0xf47cd6)=>_0x462872[_0xc33a04(0xa47)]===_0xf47cd6[_0xc33a04(0xa47)]?_0x462872[_0xc33a04(0x2dd)]-_0xf47cd6[_0xc33a04(0x2dd)]:_0x462872[_0xc33a04(0xa47)]-_0xf47cd6['joinedAt'])[_0xc33a04(0x246)](_0x1a00c8[_0xc33a04(0x2d2)](_0x2bfe14=>_0x2bfe14['id']===this[_0xc33a04(0x61b)][_0xc33a04(0xb9d)]())),_0x1a00c8['sort']((_0x3af2df,_0x3a4f93)=>_0x3a4f93['joinedAt']===_0x3af2df[_0xc33a04(0xa47)]?_0x3a4f93[_0xc33a04(0x2dd)]-_0x3af2df[_0xc33a04(0x2dd)]:_0x3a4f93['joinedAt']-_0x3af2df[_0xc33a04(0xa47)])[_0xc33a04(0xb9b)](_0x10d9cc=>{const _0x3ea1e8=_0xc33a04;_0x3a1de4[_0x3ea1e8(0x830)]>=this['minConnections']||_0x3a1de4[_0x3ea1e8(0x604)](_0x10d9cc['id']);}),_0x58cca5[_0xc33a04(0x586)]('discover',{'clusterId':this[_0xc33a04(0x78c)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode']['type'],'data':{'ancestorIds':_0x3a1de4,'allNodes':_0x1a00c8}}),_0x3a1de4;}async['joinCluster'](){const _0x28a512=_0x273dd2;await(0x0,_0x271b56[_0x28a512(0x68c)])((0x0,_0x271b56[_0x28a512(0x48e)])(_0x4d7ce4[_0x28a512(0x233)](),_0x28a512(0xaef)+this[_0x28a512(0x9f9)]+_0x28a512(0xb16)+this[_0x28a512(0x2ea)]),{'joinedAt':(0x0,_0x271b56['serverTimestamp'])(),'priority':Math[_0x28a512(0xa82)]()});}[_0x273dd2(0xc22)](){const _0x37f424=_0x273dd2;this[_0x37f424(0x5b2)]&&this[_0x37f424(0x5b2)][_0x37f424(0xa1e)](),this[_0x37f424(0x5b2)]=(0x0,_0x271b56[_0x37f424(0x759)])((0x0,_0x271b56[_0x37f424(0x48e)])(_0x4d7ce4['getDatabase'](),_0x37f424(0xaef)+this['clusterKey']+_0x37f424(0xb16)+this['nodeKey'])),this[_0x37f424(0x5b2)][_0x37f424(0x852)]();}}class _0x5e5d7d{['configs'];[_0x273dd2(0xc01)];[_0x273dd2(0x219)];[_0x273dd2(0x6a5)];[_0x273dd2(0x665)];[_0x273dd2(0x66a)]=[];[_0x273dd2(0x2fb)];[_0x273dd2(0x450)]=new Map();['debounceProcessRank'];[_0x273dd2(0x342)];[_0x273dd2(0x56b)];[_0x273dd2(0x963)];[_0x273dd2(0x954)];[_0x273dd2(0x727)];constructor(_0x2edf5b,_0x2ff27d){const _0x2a78fd=_0x273dd2;this[_0x2a78fd(0x4b1)]=_0x2edf5b,this['graphService']=_0x2ff27d,this[_0x2a78fd(0x56b)]=new Promise((_0x39f72f,_0x38fb4b)=>{const _0x2c2f92=_0x2a78fd;this[_0x2c2f92(0x963)]=_0x39f72f,this[_0x2c2f92(0x954)]=_0x38fb4b;}),this[_0x2a78fd(0x6a5)]=new _0x392e5b(this[_0x2a78fd(0x4b1)][_0x2a78fd(0x300)],this[_0x2a78fd(0x4b1)][_0x2a78fd(0x78c)],this[_0x2a78fd(0x4b1)][_0x2a78fd(0x61b)],this[_0x2a78fd(0xc01)][_0x2a78fd(0x958)]()),this['discoveryUnsubscriber']=this[_0x2a78fd(0x6a5)][_0x2a78fd(0x56c)](this[_0x2a78fd(0x7f5)]['bind'](this)),this[_0x2a78fd(0x4b1)][_0x2a78fd(0x927)]['registerSystemSource'](this['configs'][_0x2a78fd(0x61b)]),this[_0x2a78fd(0x4b1)]['mediator'][_0x2a78fd(0x5a0)](this),this['remoteUnsubscriber']=_0x35fbea[_0x2a78fd(0x794)](()=>{const _0x1ec5dc=_0x2a78fd,_0x36a58b=Date[_0x1ec5dc(0x3a1)]();this['graphService'][_0x1ec5dc(0x942)]()[_0x1ec5dc(0xb9b)](_0x2aa73a=>{const _0x1381bf=_0x1ec5dc;_0x2aa73a[_0x1381bf(0x3dc)]()===_0x3f7b12[_0x1381bf(0x91e)]&&_0x2aa73a[_0x1381bf(0x3c1)]()<_0x36a58b-0x493e0&&this['graphService'][_0x1381bf(0x3ef)](_0x2aa73a[_0x1381bf(0xb9d)]());});},0xea60);}async[_0x273dd2(0x235)](){const _0x15e568=_0x273dd2;return this[_0x15e568(0x56b)];}async[_0x273dd2(0x3c2)](_0x4b174c){return new Promise((_0x3c993b,_0x5d5315)=>{const _0x277d24=a0_0x35be;let _0x4b8aeb;const _0x1c1545=setTimeout(()=>{const _0x33217a=a0_0x35be;_0x4b8aeb?.(),_0x5d5315(new Error(_0x33217a(0xc00)+_0x4b174c+'\x27\x20is\x20not\x20ready'));},0x2710);if(this[_0x277d24(0xc01)][_0x277d24(0x614)](_0x4b174c))return clearTimeout(_0x1c1545),void _0x3c993b(!0x0);_0x4b8aeb=this[_0x277d24(0xc01)]['onNodeUpdate'](()=>{const _0x107bde=_0x277d24;this[_0x107bde(0xc01)][_0x107bde(0x614)](_0x4b174c)&&(clearTimeout(_0x1c1545),_0x3c993b(!0x0),_0x4b8aeb?.());});});}[_0x273dd2(0x32c)](_0x182f89){const _0x190240=_0x273dd2;this[_0x190240(0x2fb)]=_0x182f89;}[_0x273dd2(0x200)](){const _0x508a36=_0x273dd2;delete this[_0x508a36(0x2fb)];}[_0x273dd2(0x210)](){const _0x2fcb42=_0x273dd2;this[_0x2fcb42(0x734)]&&(clearTimeout(this['debounceProcessRank']),delete this[_0x2fcb42(0x734)]),delete this[_0x2fcb42(0x342)],this[_0x2fcb42(0x4b1)][_0x2fcb42(0x61b)]['close'](),this[_0x2fcb42(0x219)](),this[_0x2fcb42(0x665)](),this[_0x2fcb42(0x4b1)][_0x2fcb42(0x927)][_0x2fcb42(0xb49)](this[_0x2fcb42(0x4b1)][_0x2fcb42(0x61b)]),this[_0x2fcb42(0x4b1)]['mediator']['unregisterSystemSource'](this),this[_0x2fcb42(0x6a5)]['close']();}['getAncestorIds'](){const _0x38efde=_0x273dd2;return this[_0x38efde(0x66a)];}[_0x273dd2(0xb1f)](){const _0x495d1f=_0x273dd2;return this[_0x495d1f(0x4b1)][_0x495d1f(0x61b)][_0x495d1f(0xb9d)]();}[_0x273dd2(0xa14)](){const _0x5e0a81=_0x273dd2;return this['configs'][_0x5e0a81(0x61b)];}['getRemoteNodes'](_0x1207a1){const _0x5ec357=_0x273dd2,_0x558386=Array['from'](this['graphService'][_0x5ec357(0x942)]()[_0x5ec357(0x2e7)]())[_0x5ec357(0x57c)](_0x1aea85=>_0x1aea85[_0x5ec357(0x3dc)]()===_0x3f7b12[_0x5ec357(0x2af)]);return _0x1207a1?_0x558386['filter'](_0x1207a1):_0x558386;}async[_0x273dd2(0x4de)](){const _0x3b661c=_0x273dd2;return this[_0x3b661c(0x66a)]=await this[_0x3b661c(0x6a5)][_0x3b661c(0x98e)](),this[_0x3b661c(0x66a)][_0x3b661c(0x830)]<this['graphService']['getMinConnections']()&&(this['configs'][_0x3b661c(0x61b)]['setRank'](this[_0x3b661c(0x66a)][_0x3b661c(0x830)]+0x1),this[_0x3b661c(0x7d4)]()),this[_0x3b661c(0x66a)];}[_0x273dd2(0x2ba)](_0x4db032,_0x2501b7){const _0x5ec6ec=_0x273dd2,_0x305f1a=this[_0x5ec6ec(0x4b1)][_0x5ec6ec(0x61b)][_0x5ec6ec(0x72e)](),_0x23956d=new Set(_0x305f1a),_0x45340e=Array[_0x5ec6ec(0x668)](_0x305f1a)[_0x5ec6ec(0x57c)](_0x1cdc85=>_0x1cdc85!==_0x4db032)[_0x5ec6ec(0xb48)](_0x43a4d7=>({'id':_0x43a4d7,'distance':0x1}));for(;_0x45340e[_0x5ec6ec(0x830)]>0x0;){const _0x3765f9=_0x45340e['shift']();if(!_0x3765f9)continue;if(_0x3765f9['id']===_0x2501b7)return _0x3765f9[_0x5ec6ec(0x68b)];const _0x5bdff2=this[_0x5ec6ec(0xc01)]['getRemoteNode'](_0x3765f9['id']);_0x5bdff2&&_0x5bdff2[_0x5ec6ec(0x3dc)]()!==_0x3f7b12[_0x5ec6ec(0x91e)]&&_0x5bdff2['getRemoteConnections']()['forEach'](_0x30c8fa=>{const _0x2329c9=_0x5ec6ec;_0x23956d[_0x2329c9(0xb9f)](_0x30c8fa)||(_0x23956d[_0x2329c9(0xbf8)](_0x30c8fa),_0x45340e[_0x2329c9(0x604)]({'id':_0x30c8fa,'distance':_0x3765f9[_0x2329c9(0x68b)]+0x1}));});}return-0x1;}[_0x273dd2(0x2b3)](_0x34a166){const _0x26453d=_0x273dd2;try{switch(_0x34a166[_0x26453d(0x26d)][_0x26453d(0x6b9)]){case _0x18e010[_0x26453d(0xbcf)]:case _0x18e010['NodeConnectionsUpdate']:this[_0x26453d(0x411)](_0x34a166[_0x26453d(0x26d)]),_0x58cca5['log'](_0x57ac86['Node'],_0x26453d(0x5e2),'\x27'+this[_0x26453d(0x4b1)][_0x26453d(0x61b)]['getId']()+',\x20'+_0x34a166['sourceId']+'\x27',_0x34a166,_0x34a166[_0x26453d(0x26d)]);break;case _0x18e010[_0x26453d(0x263)]:this[_0x26453d(0x8d2)](_0x34a166[_0x26453d(0x26d)]['id']),_0x58cca5['log'](_0x57ac86[_0x26453d(0x38e)],_0x26453d(0x397),'\x27'+this[_0x26453d(0x4b1)][_0x26453d(0x61b)]['getId']()+',\x20'+_0x34a166['sourceId']+'\x27',_0x34a166,_0x34a166[_0x26453d(0x26d)]);}}catch(_0x17c1b7){if(_0x17c1b7 instanceof _0x17e91b)return void _0x58cca5[_0x26453d(0x3a3)](_0x57ac86[_0x26453d(0x38e)],_0x17c1b7[_0x26453d(0x512)]);throw _0x17c1b7;}}['handlePeerConnectionSystemEvents'](_0x5a3e32){const _0x15cc9b=_0x273dd2;switch(_0x5a3e32['content'][_0x15cc9b(0x6b9)]){case _0x3da868[_0x15cc9b(0x90c)]:this[_0x15cc9b(0xbb6)](_0x5a3e32[_0x15cc9b(0x6fd)]),_0x58cca5[_0x15cc9b(0x3a3)](_0x57ac86['Node'],_0x15cc9b(0x909),'\x27'+this[_0x15cc9b(0x4b1)][_0x15cc9b(0x61b)][_0x15cc9b(0xb9d)]()+',\x20'+_0x5a3e32[_0x15cc9b(0x6fd)]+'\x27',_0x5a3e32,_0x5a3e32[_0x15cc9b(0x26d)]);break;case _0x3da868['Disconnect']:this[_0x15cc9b(0x6ff)](_0x5a3e32[_0x15cc9b(0x6fd)]),_0x58cca5[_0x15cc9b(0x3a3)](_0x57ac86[_0x15cc9b(0x38e)],_0x15cc9b(0x307),this[_0x15cc9b(0x4b1)][_0x15cc9b(0x61b)][_0x15cc9b(0xb9d)](),_0x5a3e32,_0x5a3e32[_0x15cc9b(0x26d)]);}}[_0x273dd2(0xac6)](_0x19da8e){const _0x562372=_0x273dd2;this[_0x562372(0x9af)](_0x19da8e),this[_0x562372(0xb31)](_0x19da8e);}[_0x273dd2(0xb31)](_0x3bc111){const _0x3f20f5=_0x273dd2;this[_0x3f20f5(0x4b1)]['localNode'][_0x3f20f5(0x8f0)](_0x3bc111['id']),this[_0x3f20f5(0x692)](_0x3bc111['id']),this[_0x3f20f5(0x877)](_0x3bc111);}['handleNodeUpdate'](_0x4b241e){const _0x515505=_0x273dd2,{id:_0x256521,metaData:_0x318855,rank:_0x306844,remoteConnections:_0x148b53,version:_0x3ac623}=_0x4b241e,_0x10d0ad=this[_0x515505(0xc01)][_0x515505(0x83b)](_0x256521);if(_0x10d0ad){if(!(_0x3ac623<=_0x10d0ad[_0x515505(0x3e9)]())){if(_0x10d0ad[_0x515505(0x679)](_0x148b53),_0x10d0ad[_0x515505(0x956)](_0x3ac623),_0x10d0ad['type']===_0x2a74a6[_0x515505(0x6e3)][_0x515505(0x3c5)]&&_0x318855[_0x515505(0x6b9)]===_0x2a74a6[_0x515505(0x6e3)]['User']&&(_0x10d0ad[_0x515505(0x430)](_0x318855[_0x515505(0x441)]),_0x10d0ad[_0x515505(0x941)](_0x318855[_0x515505(0x230)])),_0x306844&&_0x10d0ad[_0x515505(0x4f3)](_0x306844),this['setLocalRank'](_0x256521,_0x306844),_0x10d0ad['getStatus']()===_0x3f7b12[_0x515505(0x91e)])return _0x10d0ad[_0x515505(0x78b)](_0x3f7b12['Online']),this[_0x515505(0x7d4)](),void this[_0x515505(0xb31)](_0x4b241e);this[_0x515505(0x7d4)](),this[_0x515505(0x381)]({'id':_0x256521,'metaData':_0x318855,'remoteConnections':_0x148b53,'version':_0x3ac623});}}else this['handleNodeJoin'](_0x4b241e);}[_0x273dd2(0x6ae)](_0x1abb73,_0x59cc2e){const _0x154d61=_0x273dd2;_0x59cc2e&&this['ancestors'][_0x154d61(0x4aa)](_0x1abb73)&&this[_0x154d61(0x4b1)][_0x154d61(0x61b)][_0x154d61(0x4f3)](_0x59cc2e+this[_0x154d61(0x66a)][_0x154d61(0x28c)](_0x1abb73)+0x1);}[_0x273dd2(0xbb6)](_0x32ad7c){const _0x5c8335=_0x273dd2;this[_0x5c8335(0x4b1)][_0x5c8335(0x61b)]['addRemoteConnection'](_0x32ad7c);}[_0x273dd2(0x9af)]({id:_0x317f8c,metaData:_0x5b0a27,rank:_0x26192b,remoteConnections:_0x21af85,version:_0x430dbf}){const _0x1be9f3=_0x273dd2;if(this[_0x1be9f3(0xc01)][_0x1be9f3(0x614)](_0x317f8c))throw new _0x17e91b('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x317f8c);switch(_0x5b0a27[_0x1be9f3(0x6b9)]){case _0x2a74a6['NodeType']['User']:const {displayName:_0x5258b4,email:_0x4e3290}=_0x5b0a27;this[_0x1be9f3(0xc01)]['setRemoteNode'](_0x317f8c,new _0x425acd(_0x317f8c,_0x5258b4,_0x4e3290,new Set(_0x21af85),_0x430dbf,_0x26192b));break;case _0x2a74a6['NodeType'][_0x1be9f3(0x207)]:this['graphService']['setRemoteNode'](_0x317f8c,new _0x483de5(_0x317f8c,new Set(_0x21af85),_0x430dbf,_0x26192b));}const _0x5a205d=this[_0x1be9f3(0x942)](),_0x36e7f7=new Set(this['ancestors']);_0x5a205d['forEach'](_0x2f7ba7=>{const _0x3c3e42=_0x1be9f3;_0x36e7f7[_0x3c3e42(0xb9f)](_0x2f7ba7[_0x3c3e42(0xb9d)]())&&_0x36e7f7[_0x3c3e42(0x997)](_0x2f7ba7[_0x3c3e42(0xb9d)]());}),0x0===_0x36e7f7['size']&&this['resolveReady']&&(this['readyDebounce']&&clearTimeout(this[_0x1be9f3(0x727)]),this[_0x1be9f3(0x727)]=setTimeout(()=>{const _0x434d69=_0x1be9f3;this[_0x434d69(0x963)]?.(!0x0),delete this[_0x434d69(0x963)],delete this[_0x434d69(0x954)];},0x7d0)),this[_0x1be9f3(0x6ae)](_0x317f8c,_0x26192b),this['processRank']();}['publishNodeJoin'](_0x1c48b1){const _0x36a898=_0x273dd2;this[_0x36a898(0x2fb)]['publish']({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Node'],'content':{'type':_0x18e010['NodeJoin'],'id':_0x1c48b1}});}[_0x273dd2(0x6ff)](_0x5d9162){const _0x3afba7=_0x273dd2;this[_0x3afba7(0x2fb)]?.[_0x3afba7(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b['Node'],'content':{'type':_0x18e010[_0x3afba7(0x263)],'id':_0x5d9162}});}['handleNodeDisconnect'](_0x5c06d2){const _0x1a06ec=_0x273dd2;if(_0x5c06d2===this[_0x1a06ec(0x4b1)][_0x1a06ec(0x61b)][_0x1a06ec(0xb9d)]())return this['configs']['mediator']['notifyCluster'](_0x1a06ec(0x6fa),{'id':_0x5c06d2}),this[_0x1a06ec(0x4b1)][_0x1a06ec(0x927)][_0x1a06ec(0x210)]({'force':!0x0},!0x0),this['configs']['mediator']['open'](),void this[_0x1a06ec(0x4b1)]['mediator'][_0x1a06ec(0xaf5)]();this[_0x1a06ec(0x6ff)](_0x5c06d2);}[_0x273dd2(0x8d2)](_0x382b5b){const _0x408820=_0x273dd2;this[_0x408820(0x66a)]['includes'](_0x382b5b)?this[_0x408820(0x2d9)](_0x382b5b):this[_0x408820(0x4b1)][_0x408820(0x61b)]['getRemoteConnections']()[_0x408820(0xb9f)](_0x382b5b)&&this[_0x408820(0x62d)](_0x382b5b),this['configs'][_0x408820(0x61b)][_0x408820(0x38a)](_0x382b5b);const _0x384deb=Array[_0x408820(0x668)](this[_0x408820(0x450)]['entries']())[_0x408820(0x77e)](([,_0x377ae7])=>_0x377ae7==_0x377ae7);_0x384deb&&this[_0x408820(0x450)][_0x408820(0x997)](_0x384deb[0x0]);const _0x46c43b=this[_0x408820(0xc01)][_0x408820(0x83b)](_0x382b5b);if(!_0x46c43b)return;const _0x21bd84=_0x46c43b[_0x408820(0xae0)](),_0x15af96=this[_0x408820(0x4b1)][_0x408820(0x61b)][_0x408820(0xae0)]();_0x15af96&&_0x21bd84&&_0x21bd84<_0x15af96&&this[_0x408820(0x4b1)]['localNode'][_0x408820(0x4f3)](_0x15af96-0x1,!0x1),Array[_0x408820(0x668)](this[_0x408820(0xc01)][_0x408820(0x942)]()['values']())['forEach'](_0x5a5dd5=>{const _0x24434a=_0x408820,_0x40a415=_0x5a5dd5[_0x24434a(0xae0)]();_0x40a415&&_0x21bd84&&_0x21bd84<_0x40a415&&_0x5a5dd5[_0x24434a(0x4f3)](_0x40a415-0x1);}),_0x46c43b['setStatus'](_0x3f7b12['Offline']),this['configs']['mediator']['notifyCluster'](_0x46c43b[_0x408820(0x6b9)]+'-leave',{'id':_0x382b5b});}['notifyClusterNodeJoin']({id:_0x40296c,metaData:_0x294592,remoteConnections:_0x165af4}){const _0x5e62c7=_0x273dd2;switch(_0x294592['type']){case _0x2a74a6[_0x5e62c7(0x6e3)][_0x5e62c7(0x3c5)]:this[_0x5e62c7(0x4b1)][_0x5e62c7(0x927)][_0x5e62c7(0xc2a)]('user-join',{'id':_0x40296c,'metaData':_0x294592,'remoteConnections':_0x165af4});break;case _0x2a74a6[_0x5e62c7(0x6e3)]['Agent']:this[_0x5e62c7(0x4b1)][_0x5e62c7(0x927)][_0x5e62c7(0xc2a)](_0x5e62c7(0x1eb),{'id':_0x40296c,'metaData':_0x294592,'remoteConnections':_0x165af4});}}[_0x273dd2(0x381)]({id:_0x2aef52,metaData:_0x525e49,remoteConnections:_0x2fd90f}){const _0x48eff5=_0x273dd2;switch(_0x525e49[_0x48eff5(0x6b9)]){case _0x2a74a6[_0x48eff5(0x6e3)][_0x48eff5(0x3c5)]:this[_0x48eff5(0x4b1)][_0x48eff5(0x927)][_0x48eff5(0xc2a)](_0x48eff5(0x3e0),{'id':_0x2aef52,'metaData':_0x525e49,'remoteConnections':_0x2fd90f});break;case _0x2a74a6[_0x48eff5(0x6e3)][_0x48eff5(0x207)]:this[_0x48eff5(0x4b1)][_0x48eff5(0x927)][_0x48eff5(0xc2a)](_0x48eff5(0x34e),{'id':_0x2aef52,'metaData':_0x525e49,'remoteConnections':_0x2fd90f});}}['processRank'](){const _0x241f5b=_0x273dd2;if(this[_0x241f5b(0x342)]||(this['lastProcessRank']=Date[_0x241f5b(0x3a1)]()),this[_0x241f5b(0x734)]){if(Date[_0x241f5b(0x3a1)]()-this[_0x241f5b(0x342)]>0x2328)return;clearTimeout(this[_0x241f5b(0x734)]);}this[_0x241f5b(0x734)]=setTimeout(async()=>{const _0x5187fc=_0x241f5b;delete this[_0x5187fc(0x342)],delete this[_0x5187fc(0x734)];const _0x322b06=this[_0x5187fc(0x4b1)][_0x5187fc(0x61b)][_0x5187fc(0xae0)]();if(!_0x322b06)return;const _0x1b8def=this[_0x5187fc(0xc01)]['getCurrentMaxLayer'](this['graphService'][_0x5187fc(0x942)]()[_0x5187fc(0x85c)]);if(this['optimizationLayers']['size']>=_0x1b8def)return;let _0x307029=0x1;for(;this['configs']['mediator'][_0x5187fc(0x60d)]()[_0x5187fc(0x830)]<this[_0x5187fc(0xc01)][_0x5187fc(0x7f9)]()&&_0x307029<=_0x1b8def;){if(this[_0x5187fc(0x450)][_0x5187fc(0xb9f)](_0x307029)){_0x307029+=0x1;continue;}const _0x280a78=this[_0x5187fc(0xc01)][_0x5187fc(0x818)](_0x322b06,_0x307029),_0x59a430=Array['from'](this[_0x5187fc(0xc01)][_0x5187fc(0x942)]()['values']())[_0x5187fc(0x77e)](_0x48e28b=>_0x48e28b[_0x5187fc(0xae0)]()===_0x280a78&&_0x48e28b[_0x5187fc(0x3dc)]()===_0x3f7b12[_0x5187fc(0x2af)]);if(_0x59a430){try{await this[_0x5187fc(0x4b1)][_0x5187fc(0x927)][_0x5187fc(0x26f)](_0x59a430['getId'](),_0x31bbcb[_0x5187fc(0x94c)]),this['optimizationLayers'][_0x5187fc(0x68c)](_0x307029,_0x59a430[_0x5187fc(0xb9d)]());}catch(_0x1765ab){if(!(_0x1765ab instanceof _0x4b8523&&_0x1765ab[_0x5187fc(0x1ce)]===_0x4b8523[_0x5187fc(0xa20)][_0x5187fc(0x732)]))throw _0x1765ab;_0x58cca5[_0x5187fc(0x3a3)](_0x57ac86[_0x5187fc(0x38e)],this[_0x5187fc(0x4b1)][_0x5187fc(0x61b)][_0x5187fc(0xb9d)](),_0x59a430[_0x5187fc(0xb9d)](),_0x1765ab[_0x5187fc(0x512)]);}_0x307029+=0x1;}else _0x307029+=0x1;}},0x3e8);}async[_0x273dd2(0x2d9)](_0x1530dc){const _0x38a369=_0x273dd2;this[_0x38a369(0x66a)]['splice'](this[_0x38a369(0x66a)][_0x38a369(0x28c)](_0x1530dc),0x1);const _0x14fdf8=await this[_0x38a369(0x6a5)][_0x38a369(0xb2a)]();for(const _0x5c95c7 of _0x14fdf8)if(!this['ancestors'][_0x38a369(0x4aa)](_0x5c95c7)){const _0x14cea7=Array['from'](this['optimizationLayers'][_0x38a369(0x59f)]())[_0x38a369(0x77e)](([,_0x1e0434])=>_0x1e0434===_0x5c95c7);_0x14cea7&&this[_0x38a369(0x450)]['delete'](_0x14cea7[0x0]),this[_0x38a369(0x4b1)][_0x38a369(0x927)][_0x38a369(0x26f)](_0x5c95c7,_0x31bbcb[_0x38a369(0x772)]);}0x0===_0x14fdf8[_0x38a369(0x830)]&&this[_0x38a369(0x4b1)][_0x38a369(0x61b)]['setRank'](0x1),this['ancestors']=_0x14fdf8;}async[_0x273dd2(0x62d)](_0x35bf54){const _0x188e08=_0x273dd2,_0x41f6ab=this[_0x188e08(0x4b1)][_0x188e08(0x61b)]['getRank']();if(!_0x41f6ab)return;const _0x48c624=this[_0x188e08(0xc01)][_0x188e08(0x83b)](_0x35bf54);if(!_0x48c624||_0x48c624[_0x188e08(0x3dc)]()===_0x3f7b12[_0x188e08(0x91e)])return;const _0x52f3ce=_0x48c624[_0x188e08(0xae0)]();if(!_0x52f3ce||_0x52f3ce<_0x41f6ab)return;const _0x34d4ca=this[_0x188e08(0xbc0)](this[_0x188e08(0x4b1)]['localNode'][_0x188e08(0x72e)](),_0x41f6ab),_0x4edbc0=this[_0x188e08(0xbc0)](_0x48c624[_0x188e08(0x72e)](),_0x52f3ce)[_0x34d4ca[_0x188e08(0x2d2)](([_0x17568c])=>_0x17568c===_0x35bf54)];if(!_0x4edbc0||this['configs'][_0x188e08(0x61b)]['getRemoteConnections']()[_0x188e08(0xb9f)](_0x4edbc0[0x0]))return;const _0x5d22e1=this[_0x188e08(0xc01)][_0x188e08(0x83b)](_0x4edbc0[0x0]);if(_0x5d22e1&&_0x5d22e1['getStatus']()!==_0x3f7b12['Offline'])try{await this[_0x188e08(0x4b1)][_0x188e08(0x927)]['createConnection'](_0x4edbc0[0x0],_0x31bbcb['Optimization']);const _0x3c9b40=Array[_0x188e08(0x668)](this[_0x188e08(0x450)][_0x188e08(0x59f)]())[_0x188e08(0x77e)](([,_0x119d40])=>_0x119d40===_0x35bf54);_0x3c9b40&&this[_0x188e08(0x450)]['set'](_0x3c9b40[0x0],_0x4edbc0[0x0]);}catch(_0x1df871){if(!(_0x1df871 instanceof _0x4b8523&&_0x1df871[_0x188e08(0x1ce)]===_0x4b8523['codes']['RemoteConnectionExists']))throw _0x1df871;_0x58cca5[_0x188e08(0x3a3)](_0x57ac86[_0x188e08(0x38e)],this[_0x188e08(0x4b1)][_0x188e08(0x61b)][_0x188e08(0xb9d)](),_0x4edbc0[0x0],_0x1df871[_0x188e08(0x512)]);}}[_0x273dd2(0xbc0)](_0x3ecf11,_0x3a2a03){const _0x335875=_0x273dd2;return Array['from'](_0x3ecf11)[_0x335875(0x97e)]((_0x4f747a,_0x3028c1)=>{const _0x4454af=_0x335875,_0x34d8c0=this['graphService'][_0x4454af(0x83b)](_0x3028c1);if(!_0x34d8c0||_0x34d8c0['getStatus']()===_0x3f7b12[_0x4454af(0x91e)])return _0x4f747a;const _0x1e3b75=_0x34d8c0['getRank']();if(!_0x1e3b75)return _0x4f747a;const _0x256262=_0x1e3b75-_0x3a2a03;return _0x256262<=this['graphService']['getMinConnections']()||_0x4f747a[_0x4454af(0x604)]([_0x3028c1,_0x256262]),_0x4f747a;},[])['sort'](([,_0x61fd76],[,_0x3e3e7b])=>_0x61fd76-_0x3e3e7b);}}const _0x1c7a09=[{'problemType':_0x5f5439[_0x273dd2(0x4bb)],'remediations':[{'type':_0x2ea71a['Remediation'],'component':_0xf0e27d[_0x273dd2(0x40d)],'action':_0x467156[_0x273dd2(0x9c2)]},{'type':_0x2ea71a[_0x273dd2(0x987)],'component':_0xf0e27d[_0x273dd2(0x40d)],'action':_0x467156[_0x273dd2(0x9c2)]}]},{'problemType':_0x5f5439[_0x273dd2(0x2d6)],'remediations':[{'type':_0x2ea71a[_0x273dd2(0x8f5)],'component':_0xf0e27d[_0x273dd2(0x40d)],'action':_0x467156[_0x273dd2(0x9c2)]}]},{'problemType':_0x5f5439[_0x273dd2(0x4ea)],'remediations':[{'type':_0x2ea71a[_0x273dd2(0x8f5)],'component':_0xf0e27d[_0x273dd2(0x40d)],'action':_0x467156[_0x273dd2(0x9c2)]}]},{'problemType':_0x5f5439[_0x273dd2(0x515)],'remediations':[{'type':_0x2ea71a[_0x273dd2(0x8f5)],'component':_0xf0e27d['Resolution'],'action':_0x467156[_0x273dd2(0x9c2)]}]},{'problemType':_0x5f5439[_0x273dd2(0x555)],'remediations':[{'type':_0x2ea71a[_0x273dd2(0x8f5)],'component':_0xf0e27d[_0x273dd2(0x555)],'action':_0x467156[_0x273dd2(0x9c2)]}]},{'problemType':_0x5f5439[_0x273dd2(0x9ea)],'remediations':[{'type':_0x2ea71a['Remediation'],'component':_0xf0e27d[_0x273dd2(0x555)],'action':_0x467156[_0x273dd2(0x9c2)]}]},{'problemType':_0x5f5439[_0x273dd2(0x62f)],'remediations':[{'type':_0x2ea71a['Remediation'],'component':_0xf0e27d[_0x273dd2(0x555)],'action':_0x467156[_0x273dd2(0x9c2)]}]}];class _0x5ed77e{['configs'];[_0x273dd2(0x2fb)];[_0x273dd2(0x4cd)]=new Map();constructor(_0xf9f7f){const _0x4c4045=_0x273dd2;this[_0x4c4045(0x4b1)]=_0xf9f7f,this['configs']['mediator'][_0x4c4045(0x5a0)](this);}['close'](){const _0x32ec7a=_0x273dd2;this[_0x32ec7a(0x4b1)]['mediator']['unregisterSystemSource'](this);}[_0x273dd2(0x32c)](_0x386c49){const _0x484272=_0x273dd2;this[_0x484272(0x2fb)]=_0x386c49;}[_0x273dd2(0x200)](){const _0x11f1e2=_0x273dd2;delete this[_0x11f1e2(0x2fb)];}[_0x273dd2(0xbda)](_0x253266){const _0x5a570d=_0x273dd2;_0x253266[_0x5a570d(0x26d)]['type']===_0x53b155[_0x5a570d(0x1f1)]&&this['handleProblem'](_0x253266['content'][_0x5a570d(0x9b6)]);}[_0x273dd2(0x5ad)](_0x17a7df){const _0x52be44=_0x273dd2;_0x17a7df[_0x52be44(0x26d)][_0x52be44(0x6b9)]===_0x2ea71a['RemoteRemediation']&&this[_0x52be44(0xc0f)](_0x17a7df[_0x52be44(0x6fd)],{'type':_0x2ea71a[_0x52be44(0x8f5)],'component':_0x17a7df['content'][_0x52be44(0x9b6)][_0x52be44(0x7e4)],'action':_0x17a7df[_0x52be44(0x26d)]['data']['action']});}[_0x273dd2(0x365)](_0x1f65d9){const _0x4324f0=_0x273dd2,_0x35abc4=_0x1c7a09[_0x4324f0(0x77e)](_0x430965=>_0x430965[_0x4324f0(0x2fa)]===_0x1f65d9[_0x4324f0(0x6b9)]);_0x35abc4['remediations']?.['forEach'](_0x50d5dc=>{const _0x2a33d3=_0x4324f0;this[_0x2a33d3(0xc0f)](_0x1f65d9[_0x2a33d3(0xa0a)],{'type':_0x1f65d9['origin']===_0x31b797[_0x2a33d3(0x3a7)]?_0x2ea71a[_0x2a33d3(0x8f5)]:_0x2ea71a[_0x2a33d3(0x987)],'component':_0x50d5dc[_0x2a33d3(0x7e4)],'action':_0x50d5dc[_0x2a33d3(0xa57)]});});}[_0x273dd2(0xc0f)](_0x3f83,_0x226e86){const _0x46f596=_0x273dd2;if(_0x226e86[_0x46f596(0x6b9)]===_0x2ea71a['Remediation']){const _0x2d7a53=Date[_0x46f596(0x3a1)](),_0x2ee7fc=this[_0x46f596(0x4cd)][_0x46f596(0x266)](_0x3f83);if(_0x2ee7fc&&_0x2d7a53-_0x2ee7fc<0x1388)return;this[_0x46f596(0x4cd)][_0x46f596(0x68c)](_0x3f83,_0x2d7a53);}_0x58cca5[_0x46f596(0x3a3)](_0x57ac86['Remediation'],_0x46f596(0x6d1),_0x226e86),_0x58cca5[_0x46f596(0x586)](_0x46f596(0x5ef),{'clusterId':this[_0x46f596(0x4b1)][_0x46f596(0x78c)],'nodeId':this[_0x46f596(0x4b1)][_0x46f596(0x61b)][_0x46f596(0xb9d)](),'nodeType':this['configs']['localNode']['type'],'remoteId':_0x3f83,'data':{'type':_0x226e86[_0x46f596(0x6b9)],'component':_0x226e86[_0x46f596(0x7e4)],'action':_0x226e86[_0x46f596(0xa57)]}});let _0x56270f,_0x12e91b=_0x2fb653;_0x226e86[_0x46f596(0x6b9)]===_0x2ea71a[_0x46f596(0x987)]&&(_0x12e91b=this[_0x46f596(0x4b1)][_0x46f596(0x61b)][_0x46f596(0xb9d)](),_0x56270f=[_0x3f83]),this['systemTopic']['publish']({'sourceId':_0x12e91b,'destinationIds':_0x56270f,'messageType':_0xe6fd3b['Remediation'],'content':{'type':_0x226e86[_0x46f596(0x6b9)],'targetId':_0x3f83,'data':_0x226e86}});}}const _0x1c7aa7=0x3e8,_0x51f4be=0x7530,_0x515f0d=_0x273dd2(0x322),_0x2057b6=_0x273dd2(0xb02),_0x4ac2eb=_0x273dd2(0x4cc),_0x35b14c=[_0x515f0d,_0x2057b6],_0x529d74=[_0x4ac2eb];class _0x2cab4c{[_0x273dd2(0x427)]=0x0;[_0x273dd2(0xb19)]=0x0;[_0x273dd2(0x8ae)]=0x0;['packetsLost']=0x0;[_0x273dd2(0x5ac)]=0x0;[_0x273dd2(0x8af)]=0x0;['previousTimestamp']=0x0;['currentBytes']=0x0;[_0x273dd2(0x661)]=0x0;get[_0x273dd2(0xb40)](){const _0x4a2034=_0x273dd2;return this[_0x4a2034(0x8af)]>0x0&&this[_0x4a2034(0x753)]>0x0&&Date[_0x4a2034(0x3a1)]()-this[_0x4a2034(0x8af)]<_0x51f4be?(this[_0x4a2034(0x37d)]-this['previousBytes'])/(this[_0x4a2034(0x8af)]-this[_0x4a2034(0x753)])*0x8*0x3e8:0x0;}[_0x273dd2(0x989)](_0x42e65d){const _0x449b6e=_0x273dd2;switch(_0x42e65d[_0x449b6e(0x6b9)]){case _0x4ac2eb:this[_0x449b6e(0x2da)](_0x42e65d);break;case _0x515f0d:this['processOutboundReport'](_0x42e65d);break;case _0x2057b6:this['processRemoteInboundReport'](_0x42e65d);}}['getReport'](){const _0x2dc4e2=_0x273dd2;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0x2dc4e2(0x3cb)](),'roundTripTime':this[_0x2dc4e2(0x427)],'jitter':this[_0x2dc4e2(0x8ae)]};}['processInboundReport'](_0x595f18){const _0x365c20=_0x273dd2;this[_0x365c20(0x607)](_0x595f18[_0x365c20(0xc1b)]),this[_0x365c20(0x78e)](_0x595f18['timestamp']),this['packets']=_0x595f18[_0x365c20(0x8a7)],this['packetsLost']=_0x595f18[_0x365c20(0xc0d)],void 0x0!==_0x595f18[_0x365c20(0x8ae)]?this[_0x365c20(0x8ae)]=_0x595f18[_0x365c20(0x8ae)]:this['jitter']=0x0,void 0x0!==_0x595f18['estimatedPlayoutTimestamp']?this[_0x365c20(0xb19)]=_0x595f18[_0x365c20(0xb19)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x273dd2(0xa59)](_0x4c80b6){const _0x40d4e1=_0x273dd2;this[_0x40d4e1(0x607)](_0x4c80b6['bytesSent']),this[_0x40d4e1(0x78e)](_0x4c80b6[_0x40d4e1(0xae2)]),this[_0x40d4e1(0x5ac)]=_0x4c80b6[_0x40d4e1(0x310)];}[_0x273dd2(0x551)](_0x215320){const _0x2c3711=_0x273dd2;this['roundTripTime']=0x3e8*_0x215320[_0x2c3711(0x427)],void 0x0!==_0x215320[_0x2c3711(0x8ae)]?this[_0x2c3711(0x8ae)]=_0x215320[_0x2c3711(0x8ae)]:this[_0x2c3711(0x8ae)]=0x0;}[_0x273dd2(0x3cb)](){const _0x13ae0e=_0x273dd2;return this[_0x13ae0e(0x5ac)]>0x0?this[_0x13ae0e(0xc0d)]/this[_0x13ae0e(0x5ac)]:0x0;}[_0x273dd2(0x78e)](_0x3a0014){const _0x513afe=_0x273dd2;_0x3a0014>this[_0x513afe(0x8af)]&&(this[_0x513afe(0x753)]=this[_0x513afe(0x8af)],this['currentTimestamp']=_0x3a0014);}[_0x273dd2(0x607)](_0x3c9a3d){const _0x4cd7c9=_0x273dd2;this[_0x4cd7c9(0x661)]=this['currentBytes'],this[_0x4cd7c9(0x37d)]=_0x3c9a3d;}}class _0xaf286 extends _0x2cab4c{}class _0x157778 extends _0x2cab4c{['frameTime']=0x0;[_0x273dd2(0x87c)]=0x0;[_0x273dd2(0x402)]=0x0;[_0x273dd2(0x5ae)]=0x0;[_0x273dd2(0x557)]=0x0;get[_0x273dd2(0x4e1)](){const _0x327c91=_0x273dd2;return this[_0x327c91(0x8af)]>0x0&&this[_0x327c91(0x753)]>0x0&&Date[_0x327c91(0x3a1)]()-this['currentTimestamp']<_0x51f4be?(this[_0x327c91(0x5ae)]-this[_0x327c91(0x557)])/(this[_0x327c91(0x8af)]-this[_0x327c91(0x753)])*0x3e8:0x0;}get[_0x273dd2(0xac9)](){const _0x56a2a8=_0x273dd2;return this['frameTime']&&this[_0x56a2a8(0x5ae)]&&this[_0x56a2a8(0x5ae)]>0x0?this[_0x56a2a8(0x508)]/this[_0x56a2a8(0x5ae)]:0x0;}set[_0x273dd2(0xbd4)](_0x1e60b6){const _0x2fc35b=_0x273dd2;this[_0x2fc35b(0x557)]=this[_0x2fc35b(0x5ae)],this[_0x2fc35b(0x5ae)]=_0x1e60b6;}[_0x273dd2(0x796)](){const _0xdb5c2c=_0x273dd2;return{...super['getReport'](),'FPS':this['fps'],'timePerFrame':this['timePerFrame'],'frameWidth':this['frameWidth'],'frameHeight':this[_0xdb5c2c(0x402)]};}[_0x273dd2(0x2da)](_0x2b66df){const _0x5d2666=_0x273dd2;super[_0x5d2666(0x2da)](_0x2b66df),this[_0x5d2666(0x508)]=_0x2b66df[_0x5d2666(0x4e6)],this[_0x5d2666(0xbd4)]=_0x2b66df[_0x5d2666(0xab4)],this[_0x5d2666(0x87c)]=_0x2b66df['frameWidth'],this[_0x5d2666(0x402)]=_0x2b66df['frameHeight'];}[_0x273dd2(0xa59)](_0x1cd10a){const _0x4d73d3=_0x273dd2;super['processOutboundReport'](_0x1cd10a),this[_0x4d73d3(0x508)]=_0x1cd10a['totalEncodeTime'],this[_0x4d73d3(0xbd4)]=_0x1cd10a[_0x4d73d3(0x53a)],this[_0x4d73d3(0x87c)]=_0x1cd10a[_0x4d73d3(0x87c)],this[_0x4d73d3(0x402)]=_0x1cd10a[_0x4d73d3(0x402)];}}class _0x5f54d5{['audio']=new _0xaf286();[_0x273dd2(0x758)]=new _0x157778();get['bitrate'](){const _0x260367=_0x273dd2;return this[_0x260367(0x1fc)][_0x260367(0xb40)]+this['video'][_0x260367(0xb40)];}[_0x273dd2(0x2b8)](_0x50843a){const _0x23eb24=_0x273dd2;return _0x50843a[_0x23eb24(0xb9b)](_0x4496e6=>{const _0x3f552d=_0x23eb24;switch(_0x4496e6['kind']){case _0x3f552d(0x1fc):this[_0x3f552d(0x1fc)][_0x3f552d(0x989)](_0x4496e6);break;case _0x3f552d(0x758):this[_0x3f552d(0x758)][_0x3f552d(0x989)](_0x4496e6);}}),this[_0x23eb24(0x796)]();}[_0x273dd2(0x796)](){const _0x586c59=_0x273dd2;return{'audio':this['audio'][_0x586c59(0x796)](),'video':this['video']['getReport'](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x586c59(0x5d9)](),'bitrate':this[_0x586c59(0xb40)]};}[_0x273dd2(0xc02)](){const _0x1bff4e=_0x273dd2;return Math['floor']((this['audio'][_0x1bff4e(0x427)]+this[_0x1bff4e(0x758)]['roundTripTime'])/0x2);}['getAudioVideoDelay'](){const _0x3aaff8=_0x273dd2;return this[_0x3aaff8(0x1fc)][_0x3aaff8(0xb19)]-this[_0x3aaff8(0x758)][_0x3aaff8(0xb19)];}}class _0x445479{[_0x273dd2(0xa3d)]=0x0;[_0x273dd2(0x7dd)]=0x0;[_0x273dd2(0xb09)]=0x0;[_0x273dd2(0x678)]=0x0;['senderCurrentBytes']=0x0;[_0x273dd2(0x539)]=0x0;[_0x273dd2(0x237)]=0x0;[_0x273dd2(0xbe1)]=0x0;[_0x273dd2(0x55c)]=0x0;[_0x273dd2(0x590)]=0x0;[_0x273dd2(0x6dc)]=0x0;[_0x273dd2(0x776)]=0x0;[_0x273dd2(0x427)]=0x0;get[_0x273dd2(0xb40)](){const _0x27241c=_0x273dd2;return this[_0x27241c(0x878)]+this['receiverBitrate'];}get['senderBitrate'](){const _0x451a2a=_0x273dd2;return this['senderCurrentTimestamp']>0x0&&this[_0x451a2a(0x7dd)]>0x0&&Date[_0x451a2a(0x3a1)]()-this[_0x451a2a(0xa3d)]<_0x51f4be?(this[_0x451a2a(0xb18)]-this[_0x451a2a(0x539)])/(this[_0x451a2a(0xa3d)]-this[_0x451a2a(0x7dd)])*0x8*0x3e8:0x0;}get[_0x273dd2(0x458)](){const _0x19c60e=_0x273dd2;return this['receiverCurrentTimestamp']>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x19c60e(0x3a1)]()-this[_0x19c60e(0xb09)]<_0x51f4be?(this['receiverCurrentBytes']-this[_0x19c60e(0xbe1)])/(this[_0x19c60e(0xb09)]-this[_0x19c60e(0x678)])*0x8*0x3e8:0x0;}[_0x273dd2(0x989)](_0x3d7642){const _0xdf2860=_0x273dd2;switch(_0x3d7642[_0xdf2860(0x389)]){case _0x31b797[_0xdf2860(0x3a7)]:this['processSenderReport'](_0x3d7642);break;case _0x31b797[_0xdf2860(0xa6e)]:this[_0xdf2860(0x540)](_0x3d7642);}}[_0x273dd2(0x796)](){const _0x13edd7=_0x273dd2;return{'bitrate':this[_0x13edd7(0xb40)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x13edd7(0x458)],'totalBytes':this[_0x13edd7(0x3de)](),'senderTotalBytes':this[_0x13edd7(0x622)](),'receiverTotalBytes':this[_0x13edd7(0x2e6)](),'totalMessages':this[_0x13edd7(0x55c)]+this[_0x13edd7(0x590)],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this[_0x13edd7(0x590)],'timeProcessing':this['senderTimeProcessing']+this[_0x13edd7(0x776)],'senderTimeProcessing':this[_0x13edd7(0x6dc)],'receiverTimeProcessing':this[_0x13edd7(0x776)],'roundTripTime':this[_0x13edd7(0x427)]};}['getTotalBytes'](){return this['senderCurrentBytes']+this['receiverCurrentBytes'];}[_0x273dd2(0x622)](){const _0x2fd293=_0x273dd2;return this[_0x2fd293(0xb18)];}[_0x273dd2(0x2e6)](){return this['receiverCurrentBytes'];}['processSenderReport'](_0x2444d9){const _0x2ddd3e=_0x273dd2;this[_0x2ddd3e(0x29f)](_0x2444d9[_0x2ddd3e(0xae2)]),this[_0x2ddd3e(0x607)](_0x2444d9[_0x2ddd3e(0x24b)]),this[_0x2ddd3e(0x55c)]=_0x2444d9[_0x2ddd3e(0x695)],this[_0x2ddd3e(0x6dc)]=_0x2444d9[_0x2ddd3e(0x316)],this['roundTripTime']=_0x2444d9['roundTripTime'];}['processReceiverReport'](_0x3df23f){const _0x246059=_0x273dd2;this[_0x246059(0x664)](_0x3df23f['timestamp']),this['setReceiverBytes'](_0x3df23f[_0x246059(0xc1b)]),this[_0x246059(0x590)]=_0x3df23f[_0x246059(0x3ed)],this[_0x246059(0x776)]=_0x3df23f[_0x246059(0x868)];}[_0x273dd2(0x29f)](_0x586935){const _0x2b6452=_0x273dd2;_0x586935>this[_0x2b6452(0xa3d)]&&(this[_0x2b6452(0x7dd)]=this['senderCurrentTimestamp'],this[_0x2b6452(0xa3d)]=_0x586935);}['setReceiverTimestamp'](_0x2678ec){const _0x2a47f3=_0x273dd2;_0x2678ec>this['receiverCurrentTimestamp']&&(this['receiverPreviousTimestamp']=this[_0x2a47f3(0xb09)],this[_0x2a47f3(0xb09)]=_0x2678ec);}[_0x273dd2(0x607)](_0x5ba569){const _0x5d3e2e=_0x273dd2;this[_0x5d3e2e(0x539)]=this[_0x5d3e2e(0xb18)],this[_0x5d3e2e(0xb18)]=_0x5ba569;}['setReceiverBytes'](_0x146e77){const _0x57eac7=_0x273dd2;this[_0x57eac7(0xbe1)]=this[_0x57eac7(0x237)],this[_0x57eac7(0x237)]=_0x146e77;}}class _0x3b34b7{[_0x273dd2(0x861)]=new Map();[_0x273dd2(0x53b)]=new Map();[_0x273dd2(0x8f9)]=new _0x445479();get[_0x273dd2(0x878)](){const _0x4804ce=_0x273dd2;let _0xbc421=0x0;return this[_0x4804ce(0x861)][_0x4804ce(0xb9b)](_0x52541a=>{const _0x3936e4=_0x4804ce;_0xbc421+=_0x52541a[_0x3936e4(0xb40)];}),_0xbc421+=this[_0x4804ce(0x8f9)][_0x4804ce(0x878)],_0xbc421;}get[_0x273dd2(0x458)](){const _0x1c3d4b=_0x273dd2;let _0x26cf0f=0x0;return this[_0x1c3d4b(0x53b)][_0x1c3d4b(0xb9b)](_0x62ad27=>{const _0x193879=_0x1c3d4b;_0x26cf0f+=_0x62ad27[_0x193879(0xb40)];}),_0x26cf0f+=this[_0x1c3d4b(0x8f9)][_0x1c3d4b(0x458)],_0x26cf0f;}get[_0x273dd2(0xb40)](){const _0x5c1e34=_0x273dd2;return this[_0x5c1e34(0x878)]+this[_0x5c1e34(0x458)];}[_0x273dd2(0x2b8)](_0x4fbe5f,_0x2559aa){const _0x5a10de=_0x273dd2,_0x5a6193=[],_0x2f58da=[];return _0x4fbe5f instanceof Array?_0x4fbe5f[_0x5a10de(0xb9b)](_0x54665c=>{const _0x4e87ec=_0x5a10de;_0x54665c[_0x4e87ec(0xb9b)](_0x5e074b=>{const _0x3a0a22=_0x4e87ec;_0x529d74[_0x3a0a22(0x4aa)](_0x5e074b[_0x3a0a22(0x6b9)])&&_0x5a6193[_0x3a0a22(0x604)](_0x5e074b),_0x35b14c[_0x3a0a22(0x4aa)](_0x5e074b[_0x3a0a22(0x6b9)])&&_0x2f58da[_0x3a0a22(0x604)](_0x5e074b);});}):this[_0x5a10de(0x8f9)][_0x5a10de(0x989)](_0x4fbe5f),_0x5a6193[_0x5a10de(0x830)]>0x0&&_0x2559aa?{...this[_0x5a10de(0x6f9)](_0x2559aa,_0x5a6193),'origin':_0x31b797[_0x5a10de(0xa6e)],'streamId':_0x2559aa}:_0x2f58da[_0x5a10de(0x830)]>0x0&&_0x2559aa?{...this['processOutboundReports'](_0x2559aa,_0x2f58da),'origin':_0x31b797['Sender'],'streamId':_0x2559aa}:void 0x0;}[_0x273dd2(0x796)](){const _0x5e404f=_0x273dd2,_0x5bcda1={};this['senderStreams'][_0x5e404f(0xb9b)]((_0x6c8028,_0x427b1f)=>{const _0x461bbc=_0x5e404f;_0x5bcda1[_0x427b1f]=_0x6c8028[_0x461bbc(0x796)]();});const _0x113b65={};return this[_0x5e404f(0x53b)][_0x5e404f(0xb9b)]((_0x5001f1,_0x62931e)=>{_0x113b65[_0x62931e]=_0x5001f1['getReport']();}),{'bitrate':this['bitrate'],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x5e404f(0x458)],'senderStreams':_0x5bcda1,'receiverStreams':_0x113b65,'dataChannel':this[_0x5e404f(0x8f9)][_0x5e404f(0x796)]()};}[_0x273dd2(0x6f9)](_0x329d7b,_0x559f5a){const _0x211c7b=_0x273dd2;return this[_0x211c7b(0x53b)]['has'](_0x329d7b)||this['receiverStreams'][_0x211c7b(0x68c)](_0x329d7b,new _0x5f54d5()),this[_0x211c7b(0x53b)][_0x211c7b(0x266)](_0x329d7b)[_0x211c7b(0x2b8)](_0x559f5a);}[_0x273dd2(0x52d)](_0x3e1475,_0x3b2fa1){const _0x11ef2f=_0x273dd2;return this[_0x11ef2f(0x861)]['has'](_0x3e1475)||this[_0x11ef2f(0x861)][_0x11ef2f(0x68c)](_0x3e1475,new _0x5f54d5()),this[_0x11ef2f(0x861)][_0x11ef2f(0x266)](_0x3e1475)[_0x11ef2f(0x2b8)](_0x3b2fa1);}}class _0x59268c{[_0x273dd2(0x6d6)]=new Map();[_0x273dd2(0x45c)]=0x0;[_0x273dd2(0x6e1)]=0x0;[_0x273dd2(0x76f)]=new Map();[_0x273dd2(0x9d9)]=new Map();[_0x273dd2(0x6d0)]=new Map();[_0x273dd2(0xbfc)]=new Map();[_0x273dd2(0x864)]=new Map();[_0x273dd2(0x7a1)]=new Map();[_0x273dd2(0x64b)]=new Map();['externalStorages']=new Map();[_0x273dd2(0x55c)]=new Map();[_0x273dd2(0x590)]=new Map();[_0x273dd2(0x6dc)]=new Map();[_0x273dd2(0x776)]=new Map();['systemMessages']=new Map();['systemTopic'];['getReport'](){const _0xebb401=_0x273dd2,_0x49f95e={};this[_0xebb401(0x6d6)][_0xebb401(0xb9b)]((_0xb36f17,_0x55984c)=>{const _0x229c7d=_0xebb401;_0x49f95e[_0x55984c]=_0xb36f17[_0x229c7d(0x796)]();});let _0x75cea2=0x0;this[_0xebb401(0x6dc)]['forEach'](_0x1a56a5=>{_0x75cea2+=_0x1a56a5;});let _0x1cf45c=0x0;this['receiverTimeProcessing'][_0xebb401(0xb9b)](_0x2f3200=>{_0x1cf45c+=_0x2f3200;});const _0x70e0dd=_0x75cea2+_0x1cf45c;let _0x9b1bd5={'messages':{'total':0x0}};this[_0xebb401(0x8b7)][_0xebb401(0xb9b)](_0x3b041e=>{const _0x1b9c56=_0xebb401;Object['keys'](_0x3b041e)[_0x1b9c56(0xb9b)](_0x41dde4=>{const _0x4955ea=_0x1b9c56;_0x9b1bd5[_0x41dde4]||(_0x9b1bd5[_0x41dde4]={}),Object['keys'](_0x3b041e[_0x41dde4])[_0x4955ea(0xb9b)](_0x176a1e=>{_0x9b1bd5[_0x41dde4][_0x176a1e]||(_0x9b1bd5[_0x41dde4][_0x176a1e]=0x0),_0x9b1bd5[_0x41dde4][_0x176a1e]+=_0x3b041e[_0x41dde4][_0x176a1e];});});});let _0x4f8bf7=0x0,_0x13db63=0x0,_0x488eec=0x0,_0x4834d2=0x0,_0x132d78=0x0;return this[_0xebb401(0x76f)][_0xebb401(0xb9b)](_0x2809d7=>{const _0x546d00=_0xebb401;_0x13db63+=_0x2809d7[_0x546d00(0x695)],_0x488eec+=_0x2809d7[_0x546d00(0x3ed)],_0x4834d2+=_0x2809d7[_0x546d00(0x24b)],_0x132d78+=_0x2809d7[_0x546d00(0xc1b)];}),this['objectStores'][_0xebb401(0xb9b)](_0x3a8e63=>{const _0x391ef3=_0xebb401;_0x4f8bf7+=_0x3a8e63[_0x391ef3(0x6c4)],_0x13db63+=_0x3a8e63[_0x391ef3(0x695)],_0x488eec+=_0x3a8e63[_0x391ef3(0x3ed)],_0x4834d2+=_0x3a8e63[_0x391ef3(0x24b)],_0x132d78+=_0x3a8e63['bytesReceived'];}),this[_0xebb401(0x6d0)]['forEach'](_0x11ddfb=>{const _0x4f31e7=_0xebb401;_0x4f8bf7+=_0x11ddfb['storage'],_0x13db63+=_0x11ddfb[_0x4f31e7(0x695)],_0x488eec+=_0x11ddfb[_0x4f31e7(0x3ed)],_0x4834d2+=_0x11ddfb['bytesSent'],_0x132d78+=_0x11ddfb[_0x4f31e7(0xc1b)];}),this['generativeAIContexts'][_0xebb401(0xb9b)](_0x5c43d3=>{const _0x2f399e=_0xebb401;_0x4f8bf7+=_0x5c43d3['storage'],_0x13db63+=_0x5c43d3[_0x2f399e(0x695)],_0x488eec+=_0x5c43d3['messagesReceived'],_0x4834d2+=_0x5c43d3[_0x2f399e(0x24b)],_0x132d78+=_0x5c43d3['bytesReceived'];}),this['generativeAIWorkers'][_0xebb401(0xb9b)](_0x21f519=>{const _0x4ab357=_0xebb401;_0x4f8bf7+=_0x21f519[_0x4ab357(0x6c4)],_0x13db63+=_0x21f519['messagesSent'],_0x488eec+=_0x21f519[_0x4ab357(0x3ed)],_0x4834d2+=_0x21f519[_0x4ab357(0x24b)],_0x132d78+=_0x21f519[_0x4ab357(0xc1b)];}),this[_0xebb401(0x7a1)]['forEach'](_0x4375e0=>{const _0x573535=_0xebb401;_0x4f8bf7+=_0x4375e0[_0x573535(0x6c4)],_0x13db63+=_0x4375e0[_0x573535(0x695)],_0x488eec+=_0x4375e0[_0x573535(0x3ed)],_0x4834d2+=_0x4375e0[_0x573535(0x24b)],_0x132d78+=_0x4375e0[_0x573535(0xc1b)];}),this[_0xebb401(0x64b)][_0xebb401(0xb9b)](_0x124af8=>{const _0x30736c=_0xebb401;_0x4f8bf7+=_0x124af8['storage'],_0x13db63+=_0x124af8[_0x30736c(0x695)],_0x488eec+=_0x124af8[_0x30736c(0x3ed)],_0x4834d2+=_0x124af8[_0x30736c(0x24b)],_0x132d78+=_0x124af8['bytesReceived'];}),{'STVolatility':this[_0xebb401(0x212)](),'DTVolatility':this[_0xebb401(0x8d7)](),'bitrate':this[_0xebb401(0xb3f)](),'senderBitrate':this[_0xebb401(0x64a)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x4f8bf7,'totalMessages':_0x13db63+_0x488eec,'totalMessagesSent':_0x13db63,'totalMessagesReceived':_0x488eec,'totalBytes':_0x4834d2+_0x132d78,'totalBytesSent':_0x4834d2,'totalBytesReceived':_0x132d78,'systemMessages':_0x9b1bd5,'timeProcessing':_0x70e0dd,'nodes':_0x49f95e,'pubsubTopics':Object[_0xebb401(0x403)](this[_0xebb401(0x76f)]),'objectStores':Object[_0xebb401(0x403)](this[_0xebb401(0x9d9)]),'keyValueDatabases':Object['fromEntries'](this[_0xebb401(0x6d0)]),'generativeAIContexts':Object[_0xebb401(0x403)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0xebb401(0x403)](this[_0xebb401(0x864)]),'vectorDatabases':Object['fromEntries'](this[_0xebb401(0x7a1)]),'graphDatabases':Object[_0xebb401(0x403)](this[_0xebb401(0x64b)]),'externalStorages':Object['fromEntries'](this[_0xebb401(0x2b7)])};}['addRemoteNode'](_0x1f6775){const _0x32769c=_0x273dd2;this[_0x32769c(0x6d6)][_0x32769c(0x68c)](_0x1f6775,new _0x3b34b7());}['removeRemoteNode'](_0x57986d){const _0x5ac9fb=_0x273dd2;this[_0x5ac9fb(0x6d6)][_0x5ac9fb(0x997)](_0x57986d);}[_0x273dd2(0x2b8)](_0x5f2bce,_0xb910f3,_0x210afb){const _0xae4aac=_0x273dd2;_0xb910f3 instanceof Array||this['processDataChannelReport'](_0x5f2bce,_0xb910f3);const _0x603ff1=this[_0xae4aac(0x6d6)]['get'](_0x5f2bce)?.[_0xae4aac(0x2b8)](_0xb910f3,_0x210afb);_0x603ff1&&this['systemTopic'][_0xae4aac(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0xae4aac(0x336)],'content':{'type':_0x2b4f7b[_0xae4aac(0xab8)],'data':{..._0x603ff1,'nodeId':_0x5f2bce}}});}[_0x273dd2(0x9d0)](_0x26b5c7){const _0x4ad751=_0x273dd2;this[_0x4ad751(0x38f)](_0x26b5c7['secheduleTime']),this['setDurationTime'](_0x26b5c7[_0x4ad751(0x6e1)]),this[_0x4ad751(0x2fb)][_0x4ad751(0xb07)]({'sourceId':_0x2fb653,'messageType':_0xe6fd3b[_0x4ad751(0x336)],'content':{'type':_0x2b4f7b['LocalReport'],'data':{'STVolatility':this[_0x4ad751(0x212)](),'DTVolatility':this[_0x4ad751(0x8d7)]()}}});}['processServiceReport'](_0x3bee51,_0x3b8c11,_0x5f14fc){const _0x48eeb6=_0x273dd2;switch(_0x3b8c11){case _0x310f3a[_0x48eeb6(0x453)]:this[_0x48eeb6(0x76f)][_0x48eeb6(0x68c)](_0x3bee51,_0x5f14fc);break;case _0x310f3a[_0x48eeb6(0x45f)]:this['objectStores'][_0x48eeb6(0x68c)](_0x3bee51,_0x5f14fc);break;case _0x310f3a['KeyValueDatabaseStats']:this['keyValueDatabases'][_0x48eeb6(0x68c)](_0x3bee51,_0x5f14fc);break;case _0x310f3a[_0x48eeb6(0x30f)]:this[_0x48eeb6(0xbfc)][_0x48eeb6(0x68c)](_0x3bee51,_0x5f14fc);break;case _0x310f3a[_0x48eeb6(0xabe)]:this[_0x48eeb6(0x864)][_0x48eeb6(0x68c)](_0x3bee51,_0x5f14fc);break;case _0x310f3a[_0x48eeb6(0x6cd)]:this[_0x48eeb6(0x7a1)][_0x48eeb6(0x68c)](_0x3bee51,_0x5f14fc);break;case _0x310f3a[_0x48eeb6(0x4ab)]:this[_0x48eeb6(0x64b)][_0x48eeb6(0x68c)](_0x3bee51,_0x5f14fc);break;case _0x310f3a['ExternalStorageStats']:this[_0x48eeb6(0x2b7)][_0x48eeb6(0x68c)](_0x3bee51,_0x5f14fc);}}['registerSystemPublisher'](_0x282570){const _0x105b5c=_0x273dd2;this[_0x105b5c(0x2fb)]=_0x282570;}[_0x273dd2(0x200)](){delete this['systemTopic'];}['getSTVolatility'](){const _0x2393f3=_0x273dd2;return this[_0x2393f3(0x45c)]>0x0&&this['scheduleTime']-_0x1c7aa7>0x0?(this[_0x2393f3(0x45c)]-_0x1c7aa7)/_0x1c7aa7:0x0;}[_0x273dd2(0x8d7)](){const _0x172d59=_0x273dd2;return this[_0x172d59(0x6e1)]>0x0&&this[_0x172d59(0x6e1)]-0x64>0x0?(this[_0x172d59(0x6e1)]-0x64)/0x64:0x0;}[_0x273dd2(0x64a)](){const _0x5d3f8d=_0x273dd2;let _0x2ace51=0x0;return this['nodes'][_0x5d3f8d(0xb9b)](_0x2508cd=>{const _0x4c2422=_0x5d3f8d;_0x2ace51+=_0x2508cd[_0x4c2422(0x878)];}),_0x2ace51;}['getReceiverBitrate'](){const _0x34aa5b=_0x273dd2;let _0x1bef93=0x0;return this[_0x34aa5b(0x6d6)][_0x34aa5b(0xb9b)](_0x4f7560=>{const _0xeb3af6=_0x34aa5b;_0x1bef93+=_0x4f7560[_0xeb3af6(0x458)];}),_0x1bef93;}[_0x273dd2(0xb3f)](){const _0x990900=_0x273dd2;let _0x2da26d=0x0;return this[_0x990900(0x6d6)][_0x990900(0xb9b)](_0x2cfde8=>{const _0x123b1b=_0x990900;_0x2da26d+=_0x2cfde8[_0x123b1b(0xb40)];}),_0x2da26d;}[_0x273dd2(0x38f)](_0x36c0be){const _0x20b327=_0x273dd2;this[_0x20b327(0x45c)]=_0x36c0be;}[_0x273dd2(0x7d0)](_0x5c5e0a){const _0x2d0a3f=_0x273dd2;this[_0x2d0a3f(0x6e1)]=_0x5c5e0a;}['processDataChannelReport'](_0x237210,_0x5f3c16){const _0x4941d0=_0x273dd2;switch(_0x5f3c16['origin']){case _0x31b797[_0x4941d0(0x3a7)]:this[_0x4941d0(0x3fa)](_0x237210,_0x5f3c16);break;case _0x31b797['Receiver']:this[_0x4941d0(0x540)](_0x237210,_0x5f3c16);}}[_0x273dd2(0x3fa)](_0x5f2be4,_0x2de9a6){const _0x35b757=_0x273dd2;this[_0x35b757(0x55c)][_0x35b757(0x68c)](_0x5f2be4,_0x2de9a6[_0x35b757(0x695)]),this[_0x35b757(0x6dc)][_0x35b757(0x68c)](_0x5f2be4,_0x2de9a6[_0x35b757(0x316)]);}[_0x273dd2(0x540)](_0x489f10,_0x384a5c){const _0x451f98=_0x273dd2;this['receiverTotalMessages'][_0x451f98(0x68c)](_0x489f10,_0x384a5c['messagesReceived']),this[_0x451f98(0x776)]['set'](_0x489f10,_0x384a5c[_0x451f98(0x868)]),this['systemMessages'][_0x451f98(0x68c)](_0x489f10,_0x384a5c[_0x451f98(0x8b7)]);}}class _0x11e4fc{[_0x273dd2(0x4b1)];[_0x273dd2(0x736)]=new Set();['nextNodeId'];[_0x273dd2(0x315)];['statsReporting'];[_0x273dd2(0xb4e)]=new _0x59268c();constructor(_0x5461fe){const _0x58538e=_0x273dd2;this['configs']=_0x5461fe,this[_0x58538e(0x4b1)][_0x58538e(0x927)][_0x58538e(0x5a0)](this['statsReport']),this[_0x58538e(0x315)]=this[_0x58538e(0x8ec)](),this[_0x58538e(0x839)]=this[_0x58538e(0x943)]();}[_0x273dd2(0x210)](){const _0x504c8=_0x273dd2;this['configs'][_0x504c8(0x927)]['unregisterSystemSource'](this[_0x504c8(0xb4e)]),this[_0x504c8(0x839)](),this[_0x504c8(0x315)]();}[_0x273dd2(0x466)](_0x42ce55){const _0x4b788a=_0x273dd2;this[_0x4b788a(0x736)][_0x4b788a(0xbf8)](_0x42ce55),this[_0x4b788a(0xb4e)][_0x4b788a(0x466)](_0x42ce55);}['removeRemoteNode'](_0x5c5df3){const _0x477dd7=_0x273dd2;this[_0x477dd7(0x736)][_0x477dd7(0x997)](_0x5c5df3),this[_0x477dd7(0xb4e)][_0x477dd7(0x7b8)](_0x5c5df3);}['handlePeerConnectionSystemEvents'](_0x394a57){const _0x810401=_0x273dd2;if(_0x394a57['content'][_0x810401(0x6b9)]===_0x3da868[_0x810401(0x336)]){const {nodeId:_0x516a45,streamId:_0x5ba284,stats:_0x5c1532}=_0x394a57[_0x810401(0x26d)];this[_0x810401(0xb4e)][_0x810401(0x2b8)](_0x516a45,_0x5c1532,_0x5ba284);}}[_0x273dd2(0x8ba)](_0x12ca15){const _0x1f78e3=_0x273dd2;switch(_0x12ca15['content'][_0x1f78e3(0x6b9)]){case _0x310f3a['ObjectStoreStats']:case _0x310f3a[_0x1f78e3(0x716)]:case _0x310f3a[_0x1f78e3(0x453)]:case _0x310f3a[_0x1f78e3(0x30f)]:case _0x310f3a[_0x1f78e3(0xabe)]:case _0x310f3a[_0x1f78e3(0x6cd)]:case _0x310f3a['GraphDatabaseStats']:case _0x310f3a[_0x1f78e3(0x9ad)]:this['statsReport'][_0x1f78e3(0x58a)](_0x12ca15[_0x1f78e3(0x26d)][_0x1f78e3(0x51b)],_0x12ca15['content'][_0x1f78e3(0x6b9)],_0x12ca15['content'][_0x1f78e3(0x2f8)]);}}[_0x273dd2(0x943)](){const _0x1c9f3f=_0x273dd2;return _0x35fbea[_0x1c9f3f(0x794)](()=>{const _0x3d91ec=_0x1c9f3f,_0x5ccf94=this[_0x3d91ec(0xb4e)]['getReport']();_0x58cca5[_0x3d91ec(0x3a3)](_0x57ac86[_0x3d91ec(0x336)],'Stats:\x20report',_0x5ccf94),(0x0,_0x5dec29['addDoc'])((0x0,_0x5dec29[_0x3d91ec(0x559)])(_0x4d7ce4[_0x3d91ec(0x4c1)](),_0x3d91ec(0x767)+this[_0x3d91ec(0x4b1)]['vendorId']+_0x3d91ec(0x422)),{'clusterId':this['configs'][_0x3d91ec(0x78c)],'nodeId':this[_0x3d91ec(0x4b1)][_0x3d91ec(0x61b)][_0x3d91ec(0xb9d)](),'nodeType':this[_0x3d91ec(0x4b1)]['localNode'][_0x3d91ec(0x6b9)],'timestamp':(0x0,_0x5dec29[_0x3d91ec(0xbe4)])(),'report':_0x5ccf94}),_0x58cca5[_0x3d91ec(0x586)](_0x3d91ec(0x2f8),{'clusterId':this[_0x3d91ec(0x4b1)][_0x3d91ec(0x78c)],'nodeId':this[_0x3d91ec(0x4b1)][_0x3d91ec(0x61b)][_0x3d91ec(0xb9d)](),'nodeType':this[_0x3d91ec(0x4b1)][_0x3d91ec(0x61b)]['type'],'data':{'report':_0x5ccf94}});},_0x51f4be);}[_0x273dd2(0x8ec)](){const _0x1d741d=_0x273dd2;let _0xca81b5=!0x1,_0x35e29d=Date[_0x1d741d(0x3a1)]();return _0x35fbea[_0x1d741d(0x794)](async()=>{const _0x2bb0d2=_0x1d741d;if(_0xca81b5)return;if(_0xca81b5=!0x0,0x0===this[_0x2bb0d2(0x736)][_0x2bb0d2(0x85c)])return delete this['nextNodeId'],void(_0xca81b5=!0x1);const _0x4f10a0=Date[_0x2bb0d2(0x3a1)]();this[_0x2bb0d2(0x242)]();try{await this['configs'][_0x2bb0d2(0x927)][_0x2bb0d2(0x89f)](this[_0x2bb0d2(0x86d)]);}catch(_0xa1e9f2){}this[_0x2bb0d2(0xb4e)][_0x2bb0d2(0x9d0)]({'secheduleTime':_0x4f10a0-_0x35e29d,'durationTime':Date['now']()-_0x4f10a0}),_0x35e29d=_0x4f10a0,_0xca81b5=!0x1;},_0x1c7aa7);}[_0x273dd2(0x242)](){const _0x55de55=_0x273dd2;let _0x5a0c3e,_0x4d83be=!0x1;this[_0x55de55(0x86d)]&&(this['remoteNodes'][_0x55de55(0xb9f)](this[_0x55de55(0x86d)])||delete this[_0x55de55(0x86d)]);for(const _0x42bf58 of this[_0x55de55(0x736)])if(_0x5a0c3e||(_0x5a0c3e=_0x42bf58),this['nextNodeId']!==_0x42bf58){if(_0x4d83be)return void(this['nextNodeId']=_0x42bf58);}else _0x4d83be=!0x0,delete this[_0x55de55(0x86d)];this['nextNodeId']||(this[_0x55de55(0x86d)]=_0x5a0c3e);}}class _0x2c4de3{[_0x273dd2(0x7e1)];[_0x273dd2(0xb6a)];[_0x273dd2(0x2fb)];constructor(_0x290f06,_0x58c319){const _0xa845c5=_0x273dd2;this[_0xa845c5(0x7e1)]=_0x290f06,this[_0xa845c5(0xb6a)]=_0x58c319;}[_0x273dd2(0x32c)](_0x17590b){const _0x238bd7=_0x273dd2;this[_0x238bd7(0x2fb)]=_0x17590b;}['unregisterSystemPublisher'](){delete this['systemTopic'];}}class _0x58e461 extends _0x2c4de3{[_0x273dd2(0x7e1)];[_0x273dd2(0xb6a)];[_0x273dd2(0xa8a)];constructor(_0x45580e,_0x19b410,_0x396edc){const _0x29073b=_0x273dd2;super(_0x45580e,_0x19b410),this[_0x29073b(0x7e1)]=_0x45580e,this[_0x29073b(0xb6a)]=_0x19b410,this[_0x29073b(0xa8a)]=_0x396edc;}[_0x273dd2(0x6f8)](_0x2bcf7d,_0x2b7ca9,_0x2ca30e){const _0x3b5727=_0x273dd2;if(this[_0x3b5727(0xb6a)][_0x3b5727(0x54c)]()===_0x2a74a6[_0x3b5727(0x2a7)]['Media']){const _0x21af94={'type':_0x7c8d65[_0x3b5727(0x552)],'label':this[_0x3b5727(0xb6a)]['getLabel'](),'ownerId':_0x2bcf7d,'trackKinds':_0x2b7ca9??this['destination'][_0x3b5727(0x88f)](),'params':_0x2ca30e};this[_0x3b5727(0x2fb)][_0x3b5727(0xb07)]({'sourceId':this['source'][_0x3b5727(0xb1f)](),'destinationIds':[this[_0x3b5727(0x7e1)][_0x3b5727(0x7c0)]()],'messageType':_0xe6fd3b[_0x3b5727(0x26e)],'content':_0x21af94}),this[_0x3b5727(0xa8a)]=_0x2ca30e;}}[_0x273dd2(0x921)](_0x33609f,_0x1d597f){const _0x32d1cb=_0x273dd2;if(this[_0x32d1cb(0xb6a)][_0x32d1cb(0x54c)]()===_0x2a74a6['ContentType'][_0x32d1cb(0x9ae)]){const _0x2fe6d8={'type':_0x7c8d65['UpdateMediaStream'],'label':this[_0x32d1cb(0xb6a)][_0x32d1cb(0xa73)](),'ownerId':_0x33609f,'params':_0x1d597f};this[_0x32d1cb(0x2fb)][_0x32d1cb(0xb07)]({'sourceId':this[_0x32d1cb(0x7e1)][_0x32d1cb(0xb1f)](),'destinationIds':[this['source'][_0x32d1cb(0x7c0)]()],'messageType':_0xe6fd3b['Subscription'],'content':_0x2fe6d8}),this['params']=_0x1d597f;}}[_0x273dd2(0xbf5)](_0x343391,_0x52685f,_0x376b53){const _0x16ce24=_0x273dd2;if(this['destination'][_0x16ce24(0x54c)]()===_0x2a74a6[_0x16ce24(0x2a7)][_0x16ce24(0x9ae)]){const _0x591d48={'type':_0x7c8d65[_0x16ce24(0x2ac)],'label':this[_0x16ce24(0xb6a)][_0x16ce24(0xa73)](),'ownerId':_0x343391,'trackKinds':_0x376b53??this['destination']['getAvailableTrackKinds'](),'remainingTracks':_0x52685f};this['systemTopic'][_0x16ce24(0xb07)]({'sourceId':this[_0x16ce24(0x7e1)][_0x16ce24(0xb1f)](),'destinationIds':[this[_0x16ce24(0x7e1)][_0x16ce24(0x7c0)]()],'messageType':_0xe6fd3b[_0x16ce24(0x26e)],'content':_0x591d48});}}}class _0x16150a{[_0x273dd2(0x3c0)];[_0x273dd2(0xba0)];[_0x273dd2(0xb4a)];[_0x273dd2(0x2fb)];['answers']=new Set();[_0x273dd2(0x4d2)]=Date['now']();[_0x273dd2(0xa8a)];[_0x273dd2(0x3fb)]=0x0;constructor(_0x449de0,_0x16115c,_0x272423,_0x3adc7d){const _0x2c9d2f=_0x273dd2;this[_0x2c9d2f(0x3c0)]=_0x16115c,this['maxDistance']=_0x272423,this[_0x2c9d2f(0xb4a)]=_0x3adc7d,_0x449de0[_0x2c9d2f(0xb9b)](_0x1188c0=>{const _0xdb1fcf=_0x2c9d2f;this[_0xdb1fcf(0x7d2)]['add']({'nodeId':_0x1188c0,'type':_0x215b6e[_0xdb1fcf(0xaab)]});});}[_0x273dd2(0x34a)](){const _0x7e3add=_0x273dd2;return this[_0x7e3add(0xb4a)];}[_0x273dd2(0x32c)](_0x4c6e3a){const _0x2223c0=_0x273dd2;this[_0x2223c0(0x2fb)]=_0x4c6e3a;}[_0x273dd2(0x200)](){const _0x42ef5c=_0x273dd2;delete this[_0x42ef5c(0x2fb)];}[_0x273dd2(0x3da)](_0x201ddc,_0x465e06){const _0x206847=_0x273dd2;this[_0x206847(0x4d2)]=Date[_0x206847(0x3a1)](),this['answers']['clear'](),_0x201ddc[_0x206847(0xb9b)](_0x2b6fe9=>{const _0x507cf1=_0x206847;this[_0x507cf1(0x7d2)][_0x507cf1(0xbf8)]({'nodeId':_0x2b6fe9,'type':_0x215b6e['Waiting']});}),this[_0x206847(0x3fb)]+=0x1,this[_0x206847(0x3c0)]=_0x465e06;}['sendRequest'](_0x1cc98e,_0x44a9d3,_0x284cbc,_0x139b33,_0x3d1a4c){const _0x460e63=_0x273dd2;if(this['retryCount']>0xa)throw new _0x4b8523(_0x4b8523[_0x460e63(0xa20)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x460e63(0x668)](this[_0x460e63(0x7d2)])[_0x460e63(0xb48)](_0x5d8c62=>({'nodeId':_0x5d8c62[_0x460e63(0xa0a)],'type':_0x5d8c62[_0x460e63(0x6b9)]}))});const _0x25d947=Array[_0x460e63(0x668)](this[_0x460e63(0x7d2)])[_0x460e63(0xb48)](_0xb9a7ca=>_0xb9a7ca[_0x460e63(0xa0a)]);this[_0x460e63(0xa8a)]=_0x3d1a4c,this['systemTopic']['publish']({'sourceId':_0x1cc98e,'destinationIds':_0x25d947,'messageType':_0xe6fd3b[_0x460e63(0x26e)],'content':{'type':_0x7c8d65[_0x460e63(0x3bc)],'label':_0x284cbc,'ownerId':_0x44a9d3,'trackKinds':_0x139b33,'params':_0x3d1a4c}}),_0x58cca5['log'](_0x57ac86[_0x460e63(0x26e)],_0x460e63(0xb6b),_0x1cc98e,_0x25d947);}['handleSubscriptionSystemEvents'](_0x532fe5,_0x350515){const _0x29e431=_0x273dd2;switch(_0x350515['type']){case _0x7c8d65[_0x29e431(0x7c5)]:{const _0x474556=this[_0x29e431(0x3c0)]>=_0x350515[_0x29e431(0x68b)]&&_0x350515['distance']<=this[_0x29e431(0xba0)],_0x278e36=Array['from'](this[_0x29e431(0x7d2)])[_0x29e431(0x77e)](_0x411d66=>_0x411d66[_0x29e431(0xa0a)]===_0x532fe5);_0x278e36[_0x29e431(0x6b9)]=_0x474556?_0x215b6e[_0x29e431(0x253)]:_0x215b6e[_0x29e431(0xaba)],_0x278e36[_0x29e431(0xa22)]=_0x350515[_0x29e431(0xa22)],_0x278e36[_0x29e431(0x68b)]=_0x350515['distance'],_0x278e36[_0x29e431(0x2a3)]=_0x350515[_0x29e431(0x2a3)],_0x278e36[_0x29e431(0x427)]=Date[_0x29e431(0x3a1)]()-this['startTime'],_0x278e36['params']=this['params'],_0x278e36[_0x29e431(0x822)]=_0x350515[_0x29e431(0x822)],_0x278e36[_0x29e431(0x5d5)]=_0x350515['trackKinds'],_0x278e36['streamLabel']=_0x350515[_0x29e431(0x51b)],_0x58cca5[_0x29e431(0x3a3)](_0x57ac86[_0x29e431(0x26e)],(_0x474556?'Accepted':_0x29e431(0xaba))+_0x29e431(0x901),_0x278e36);break;}case _0x7c8d65[_0x29e431(0x4b9)]:{const _0xc4e28c=Array[_0x29e431(0x668)](this['answers'])[_0x29e431(0x77e)](_0x2e6e22=>_0x2e6e22['nodeId']===_0x532fe5);_0xc4e28c[_0x29e431(0x6b9)]=_0x215b6e[_0x29e431(0xaba)],_0x58cca5[_0x29e431(0x3a3)](_0x57ac86[_0x29e431(0x26e)],_0x29e431(0x419),_0xc4e28c);break;}}if(this[_0x29e431(0x2be)]())return this['chooseAnswer']();}[_0x273dd2(0x406)](){const _0x26a24c=_0x273dd2,_0x76036e=Array[_0x26a24c(0x668)](this['answers'])[_0x26a24c(0x57c)](_0x5e567f=>_0x5e567f['type']===_0x215b6e[_0x26a24c(0x253)])[_0x26a24c(0x939)]((_0x5876dd,_0x6d361a)=>_0x5876dd['cost']===_0x6d361a[_0x26a24c(0xa22)]?_0x5876dd[_0x26a24c(0x427)]-_0x6d361a[_0x26a24c(0x427)]:_0x5876dd[_0x26a24c(0xa22)]-_0x6d361a[_0x26a24c(0xa22)]);if(0x0===_0x76036e[_0x26a24c(0x830)])throw new _0x4b8523(_0x4b8523[_0x26a24c(0xa20)][_0x26a24c(0x8a2)],{'answers':Array[_0x26a24c(0x668)](this[_0x26a24c(0x7d2)])[_0x26a24c(0xb48)](_0x273fa3=>({'nodeId':_0x273fa3[_0x26a24c(0xa0a)],'type':_0x273fa3[_0x26a24c(0x6b9)]}))});return _0x58cca5[_0x26a24c(0x3a3)](_0x57ac86[_0x26a24c(0x26e)],'Chosen\x20answer',_0x76036e[0x0],this['answers']),_0x76036e[0x0];}[_0x273dd2(0x2be)](){const _0x22a34e=_0x273dd2;for(const _0x563352 of this['answers'])if(_0x563352[_0x22a34e(0x6b9)]===_0x215b6e[_0x22a34e(0xaab)])return!0x1;return!0x0;}}class _0x3d97f0{[_0x273dd2(0x51b)];[_0x273dd2(0x60a)];[_0x273dd2(0x3b1)]=_0x2d1945();constructor(_0xeaf246,_0x21ef38){const _0x5337f1=_0x273dd2;this['label']=_0xeaf246,this[_0x5337f1(0x60a)]=_0x21ef38;}[_0x273dd2(0xa73)](){const _0x52c660=_0x273dd2;return this[_0x52c660(0x51b)];}[_0x273dd2(0x54c)](){return this['contentType'];}[_0x273dd2(0xa58)](_0x29babf){const _0x2792b5=_0x273dd2;_0x29babf[_0x2792b5(0x56e)](this);}['registerDestination'](_0x42a628){_0x42a628['registerSubscriber'](this);}[_0x273dd2(0xb07)](_0x2a465f){const _0x521ba4=_0x273dd2;this['listener'][_0x521ba4(0xb07)]({'topicLabel':this[_0x521ba4(0x51b)],'contentType':this[_0x521ba4(0x60a)],'uuid':(0x0,_0x5d1d4c['v4'])(),'recipients':[],..._0x2a465f});}[_0x273dd2(0x6f8)](_0x38ff12){const _0x54cfce=_0x273dd2;return this[_0x54cfce(0x3b1)]['subscribe'](_0x38ff12);}[_0x273dd2(0x29e)](_0x4da0bc){const _0x579dd1=_0x273dd2;_0x4da0bc[_0x579dd1(0x823)](this);}['unregisterDestination'](_0x4fe99d){const _0x5bc24a=_0x273dd2;_0x4fe99d[_0x5bc24a(0x949)](this);}}class _0x102e4a{[_0x273dd2(0x2cc)]={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x1336a5){this['getPartsFromSubscription']=_0x1336a5;}get['subscriptions'](){const _0x3b0314=_0x273dd2;return this[_0x3b0314(0x2cc)]['subscriptions'];}get['topics'](){const _0xaa69cd=_0x273dd2;return this[_0xaa69cd(0x2cc)][_0xaa69cd(0x910)];}['createSubscription'](_0x2d10fa,_0x4b2e3a){const _0x1d8f1b=_0x273dd2,_0x3a85a2=this['getPartsFromSubscription'](_0x4b2e3a),_0x30b608=_0x4e5c63(_0x2d10fa);if(!_0x3a85a2['supportsContentType'])throw new _0x4b8523(_0x4b8523['codes'][_0x1d8f1b(0x209)],{'message':_0x30b608+':\x20'+_0x3a85a2[_0x1d8f1b(0x5b1)]+_0x1d8f1b(0x3ec)+_0x3a85a2[_0x1d8f1b(0x60a)],'subscriptionType':_0x2d10fa,'subscription':_0x4b2e3a,'subscriptonParts':_0x3a85a2});const _0x3ca5dd=_0x7f0d95(_0x2d10fa,_0x3a85a2);if(this[_0x1d8f1b(0x2cc)]['subscriptions'][_0x1d8f1b(0xb9f)](_0x3ca5dd))throw new _0x4b8523(_0x4b8523[_0x1d8f1b(0xa20)]['InvalidSubscription'],{'message':_0x30b608+':\x20'+_0x3ca5dd+_0x1d8f1b(0x5a8),'subscriptionType':_0x2d10fa,'subscription':_0x4b2e3a,'subscriptonParts':_0x3a85a2});this[_0x1d8f1b(0x2cc)][_0x1d8f1b(0x53f)][_0x1d8f1b(0x68c)](_0x3ca5dd,_0x4b2e3a),this[_0x1d8f1b(0x9cb)](_0x3a85a2,_0x4b2e3a);}['removeSubscription'](_0x52b719,_0x5f0475){const _0x2b09a8=_0x273dd2,_0x3f45c2=_0x7f0d95(_0x5f0475,_0x52b719),_0x2a73e5=this['maps'][_0x2b09a8(0x53f)][_0x2b09a8(0x266)](_0x3f45c2);if(!_0x2a73e5)throw new _0x4b8523(_0x4b8523[_0x2b09a8(0xa20)][_0x2b09a8(0x209)],{'message':_0x4e5c63(_0x5f0475)+':\x20'+_0x3f45c2+_0x2b09a8(0x542),'subscriptionType':_0x5f0475,'subscription':_0x2a73e5,'subscriptonParts':_0x52b719});this[_0x2b09a8(0xb0a)](_0x2a73e5,_0x3f45c2,_0x52b719);}[_0x273dd2(0xb0a)](_0x50c082,_0x52ebcf,_0x45d357){const _0x3fecbb=_0x273dd2;_0x45d357=_0x45d357||this['getPartsFromSubscription'](_0x50c082),this[_0x3fecbb(0x2cc)][_0x3fecbb(0x53f)][_0x3fecbb(0x997)](_0x52ebcf),this['removeTopic'](_0x45d357,_0x50c082);}[_0x273dd2(0x9cb)](_0x387c27,{source:_0xdcf4f8,destination:_0x12ab9d}){const _0x2ec516=_0x273dd2,{contentType:_0x4873a3,label:_0x1c80e8,remoteId:_0x37c9eb}=_0x387c27,_0x462231=_0x325107(_0x4873a3,_0x1c80e8,_0x37c9eb),_0x38d98c=new _0x3d97f0(_0x462231,_0x4873a3);_0x38d98c[_0x2ec516(0xa58)](_0xdcf4f8),_0x38d98c[_0x2ec516(0x9ca)](_0x12ab9d),this['maps'][_0x2ec516(0x910)]['set'](_0x38d98c[_0x2ec516(0xa73)](),_0x38d98c);}[_0x273dd2(0xaa4)](_0x59c8f8,_0x55df5f){const _0x360f8c=_0x273dd2,{contentType:_0x393a36,label:_0x40aa75,remoteId:_0x5eb822}=_0x59c8f8,_0x52be96=_0x325107(_0x393a36,_0x40aa75,_0x5eb822),_0x15ce5b=this['maps'][_0x360f8c(0x910)][_0x360f8c(0x266)](_0x52be96);_0x15ce5b&&(this[_0x360f8c(0xb58)](_0x15ce5b,_0x55df5f),this['maps'][_0x360f8c(0x910)]['delete'](_0x52be96));}[_0x273dd2(0xb58)](_0x161bf7,{source:_0x4e7de3,destination:_0x438c7c}){const _0x2c5163=_0x273dd2;_0x161bf7[_0x2c5163(0x29e)](_0x4e7de3),_0x161bf7[_0x2c5163(0xadc)](_0x438c7c);}['removeSubscriptionsForNode'](_0x554a54){const _0x459cde=_0x273dd2;this[_0x459cde(0x2cc)][_0x459cde(0x53f)][_0x459cde(0xb9b)]((_0x1d9abc,_0x7903fa)=>{const _0x2401dd=_0x459cde;_0x7903fa[_0x2401dd(0x8c8)](_0x554a54)&&this['closeSubscription'](_0x1d9abc,_0x7903fa);});}}class _0x1cfa3a{[_0x273dd2(0x4b1)];[_0x273dd2(0xba0)];[_0x273dd2(0x479)]=new Map();[_0x273dd2(0x9a8)]=_0x1d630c(new _0x115dcd(this[_0x273dd2(0x858)][_0x273dd2(0x370)](this),()=>_0x35fbea['wait'](0x64)),!0x0);[_0x273dd2(0x4c4)]=new Map();[_0x273dd2(0x2cc)];[_0x273dd2(0x738)]=new Map();constructor(_0x2280b1,_0x2fd3e2){const _0x11364b=_0x273dd2;this['configs']=_0x2280b1,this[_0x11364b(0xba0)]=_0x2fd3e2,this[_0x11364b(0x2cc)]=new _0x102e4a(({source:_0x306b68,destination:_0xc9f38e})=>_0x1f66d3(_0xc9f38e,_0x306b68));}['createSubscription'](_0x44ce1e,_0x12f029){const _0x1ef58c=_0x273dd2,_0x5e36f6=this[_0x1ef58c(0x75a)](_0x44ce1e)&&this[_0x1ef58c(0x84e)](_0x12f029)?new _0x58e461(_0x44ce1e,_0x12f029):new _0x2c4de3(_0x44ce1e,_0x12f029);this['maps'][_0x1ef58c(0x6a4)](_0x3c832a[_0x1ef58c(0xbea)],_0x5e36f6),this[_0x1ef58c(0x4b1)][_0x1ef58c(0x927)][_0x1ef58c(0x5a0)](_0x5e36f6);}['removeSubscription'](_0x4ac66f,_0x3b8984,_0x414c57=''){const _0x387a93=_0x273dd2,_0x21a8d1={'contentType':_0x3b8984,'label':_0x4ac66f,'remoteId':_0x414c57},_0x27913d=_0x7f0d95(_0x3c832a[_0x387a93(0xbea)],_0x21a8d1),_0x2846b8=this['maps'][_0x387a93(0x53f)][_0x387a93(0x266)](_0x27913d);_0x2846b8&&this[_0x387a93(0xb0a)](_0x2846b8,_0x27913d);}[_0x273dd2(0x687)](_0x2a7ce0){this['removeRemoteStreamSubscription'](_0x2a7ce0);}[_0x273dd2(0x8a6)]({label:_0x428d9a,ownerId:_0x5b13f6,trackKinds:_0x12125b,params:_0x240c7c}){const _0x418ccf=_0x273dd2;this[_0x418ccf(0x226)](_0x428d9a,_0x5b13f6,_0x12125b,_0x240c7c);}[_0x273dd2(0x517)]({ownerId:_0x1614dd,label:_0x30116e,params:_0x2be68b}){const _0x3cb1de=_0x273dd2,{subscriptionLabel:_0x4114a4}=this[_0x3cb1de(0x7b0)](_0x30116e,_0x1614dd),_0x2ca3fc=this[_0x3cb1de(0x4da)](_0x4114a4);_0x2ca3fc&&_0x2ca3fc[_0x3cb1de(0x921)](_0x1614dd,_0x2be68b);}[_0x273dd2(0xa66)]({ownerId:_0x2a2960,label:_0x3cc6a0,trackKinds:_0x216794,remainingTracks:_0x525131}){const _0x5aa121=_0x273dd2,_0x4ac3af=_0x7f0d95(_0x3c832a['Incoming'],{'contentType':_0x2a74a6[_0x5aa121(0x2a7)][_0x5aa121(0x9ae)],'label':_0x3cc6a0,'remoteId':_0x2a2960});this[_0x5aa121(0x3a6)](_0x4ac3af);const _0x137fbd=this[_0x5aa121(0x479)]['get'](_0x4ac3af);_0x137fbd&&(this[_0x5aa121(0x4b1)]['mediator'][_0x5aa121(0xb49)](_0x137fbd),this[_0x5aa121(0x479)][_0x5aa121(0x997)](_0x4ac3af));const {parts:_0x38223b,subscriptionLabel:_0x54b56a}=this[_0x5aa121(0x7b0)](_0x3cc6a0,_0x2a2960),_0x39640b=this[_0x5aa121(0x4da)](_0x54b56a);_0x39640b&&(_0x39640b[_0x5aa121(0xbf5)](_0x2a2960,_0x525131,_0x216794),0x0===_0x525131&&this[_0x5aa121(0xa8c)](_0x38223b[_0x5aa121(0x51b)],_0x38223b[_0x5aa121(0x60a)],_0x38223b[_0x5aa121(0x5b1)]));}[_0x273dd2(0x67a)](_0x402648,{label:_0x332c7b,ownerId:_0x395fa1,trackKinds:_0x123d4a,streamId:_0x34ca35,params:_0x5ce4f0}){const _0x14ac6f=_0x273dd2,_0x26423b=_0x7f0d95(_0x3c832a[_0x14ac6f(0xbea)],{'contentType':_0x2a74a6[_0x14ac6f(0x2a7)]['Media'],'label':_0x34ca35,'remoteId':_0x402648}),_0x539dcb=this[_0x14ac6f(0x2cc)][_0x14ac6f(0x53f)]['get'](_0x26423b);if(!(_0x539dcb&&_0x539dcb instanceof _0x58e461))throw new _0x4b8523(_0x4b8523['codes'][_0x14ac6f(0x33a)],{'label':_0x26423b,'ownerId':_0x395fa1});this[_0x14ac6f(0xb0a)](_0x539dcb,_0x26423b),this[_0x14ac6f(0x226)](_0x332c7b,_0x395fa1,_0x123d4a,_0x5ce4f0);}[_0x273dd2(0x5e6)](_0x10c40a,_0x520413){const _0x516170=_0x273dd2,{label:_0x2496de,ownerId:_0x188cd2,trackKinds:_0xf062b2,params:_0x3f2e4e}=_0x520413,_0x580697=_0x7f0d95(_0x3c832a['Incoming'],{'contentType':_0x2a74a6['ContentType'][_0x516170(0x9ae)],'label':_0x2496de,'remoteId':_0x188cd2});if(!this[_0x516170(0x479)][_0x516170(0xb9f)](_0x580697))throw new _0x4b8523(_0x4b8523[_0x516170(0xa20)][_0x516170(0x33a)],{'label':_0x580697,'ownerId':_0x188cd2,'streamId':_0x520413[_0x516170(0x2a3)],'requests':this[_0x516170(0x479)]});const _0x481d9b=this['subscriptionRequests'][_0x516170(0x266)](_0x580697);if(_0xf062b2[_0x516170(0x830)]===_0x481d9b[_0x516170(0x34a)]()[_0x516170(0x830)]&&_0xf062b2[_0x516170(0x21d)](_0x3fa32b=>_0x481d9b[_0x516170(0x34a)]()[_0x516170(0x4aa)](_0x3fa32b)))try{const _0x3df837=_0x481d9b['handleSubscriptionSystemEvents'](_0x10c40a,_0x520413);if(!_0x3df837)return;this[_0x516170(0x6f8)](_0x3df837,_0x188cd2,_0x2496de,_0x580697,_0xf062b2);}catch(_0x4bc324){return void this[_0x516170(0xb0d)](_0x2496de,_0x188cd2,_0xf062b2,_0x3f2e4e);}}['handleSubscriptionMediaStreamUnavailable'](_0x58ec0c,{label:_0x368e2e,ownerId:_0x290b3d,trackKinds:_0x3bc821}){const _0x4987a5=_0x273dd2,_0x5f4751=this[_0x4987a5(0x4b1)]['mediator'][_0x4987a5(0x843)](_0x290b3d,_0x368e2e);if(!_0x5f4751)return;const _0x2ce7c4=_0x5f4751[_0x4987a5(0x4b4)](),_0x114754=_0x5f4751[_0x4987a5(0x4e0)]();_0x114754['some'](_0xc4bc87=>_0x3bc821[_0x4987a5(0x4aa)](_0xc4bc87))&&this[_0x4987a5(0x80a)](_0x58ec0c,_0x368e2e,_0x2ce7c4,_0x290b3d,_0x114754);}[_0x273dd2(0x6d5)]({label:_0x44101f,providerId:_0x7f01d3,ownerId:_0x4d3a09,streamId:_0x3b13b9,trackKinds:_0x2b1176}){const _0x24c3d6=_0x273dd2;this[_0x24c3d6(0x80a)](_0x7f01d3,_0x44101f,_0x3b13b9,_0x4d3a09,_0x2b1176);}[_0x273dd2(0x8db)](_0xe8355c){const _0x16b691=_0x273dd2;for(const _0x1ca627 of this['chosenAnswers'][_0x16b691(0x2e7)]()){const {streamLabel:_0x2df774,ownerId:_0xca7774,trackKinds:_0x745f63,params:_0x52b35b}=_0x1ca627;if(!_0xca7774||!_0x745f63||!_0x2df774)return;this[_0x16b691(0x9a8)][_0x16b691(0x604)]({'label':_0x2df774,'ownerId':_0xca7774,'trackKinds':_0x745f63,'params':_0x52b35b,'remoteId':_0xe8355c});}}[_0x273dd2(0x298)](_0x3d7c5f){const _0x5e54c4=_0x273dd2;this[_0x5e54c4(0x2cc)][_0x5e54c4(0x53f)]['forEach']((_0x18b220,_0xd52bde)=>{const _0x16dece=_0x5e54c4;if(_0xd52bde['endsWith'](_0x3d7c5f)){if(_0x18b220['destination'][_0x16dece(0x54c)]()===_0x2a74a6[_0x16dece(0x2a7)][_0x16dece(0x9ae)]){const _0x4a4cf3=_0x18b220[_0x16dece(0xb6a)];if(_0x4a4cf3[_0x16dece(0x4e0)]()[_0x16dece(0x830)]>0x0){const _0x1ef8e3={'type':_0x7c8d65[_0x16dece(0xa6d)],'label':_0x4a4cf3['getLabel'](),'ownerId':_0x4a4cf3[_0x16dece(0x5ca)](),'trackKinds':_0x4a4cf3['getSubscribedTracks']()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x3d7c5f,_0x1ef8e3);}}this[_0x16dece(0xb0a)](_0x18b220,_0xd52bde);}});}[_0x273dd2(0x210)](){const _0x56defb=_0x273dd2;this[_0x56defb(0x2cc)][_0x56defb(0x53f)][_0x56defb(0xb9b)](this[_0x56defb(0xb0a)][_0x56defb(0x370)](this));}[_0x273dd2(0x6f8)](_0x3c56ca,_0xce5948,_0x4749a3,_0x987812,_0x31a177){const _0x559cb2=_0x273dd2,_0x19a517=this[_0x559cb2(0x4b1)][_0x559cb2(0x927)][_0x559cb2(0xa79)](_0x3c56ca[_0x559cb2(0xa0a)]),_0x287488=this[_0x559cb2(0x4b1)][_0x559cb2(0x927)]['getRemoteMediaStream'](_0xce5948,_0x4749a3);this['clearSubscriptionRequestTimeout'](_0x987812),this[_0x559cb2(0x479)]['has'](_0x987812)&&(this['configs'][_0x559cb2(0x927)][_0x559cb2(0xb49)](this['subscriptionRequests'][_0x559cb2(0x266)](_0x987812)),this[_0x559cb2(0x479)]['delete'](_0x987812)),this['cleanOldSubscription'](_0x3c56ca,_0xce5948,_0x4749a3,_0x287488),_0x287488[_0x559cb2(0x5b3)](_0x3c56ca['streamId']),_0x287488[_0x559cb2(0x684)](_0x3c56ca[_0x559cb2(0xa0a)]);const _0x1c6257=_0x1f66d3(_0x287488,_0x19a517),_0x103562=_0x7f0d95(_0x3c832a[_0x559cb2(0xbea)],_0x1c6257);this[_0x559cb2(0x2cc)]['subscriptions'][_0x559cb2(0xb9f)](_0x103562)||this['createSubscription'](_0x19a517,_0x287488);const _0x4b7c4a=this[_0x559cb2(0x2cc)]['subscriptions'][_0x559cb2(0x266)](_0x103562);if(!(_0x4b7c4a&&_0x4b7c4a instanceof _0x58e461))throw new _0x4b8523(_0x4b8523[_0x559cb2(0xa20)][_0x559cb2(0x33a)],{'label':_0x987812,'ownerId':_0xce5948});_0x58cca5['logEvent'](_0x559cb2(0xc04),{'clusterId':this['configs'][_0x559cb2(0x78c)],'nodeId':this[_0x559cb2(0x4b1)][_0x559cb2(0x61b)][_0x559cb2(0xb9d)](),'nodeType':this[_0x559cb2(0x4b1)][_0x559cb2(0x61b)][_0x559cb2(0x6b9)],'data':{'subscriptionLabel':_0x103562,'chosenAnswer':_0x3c56ca}}),this[_0x559cb2(0x738)]['set'](_0x103562,_0x3c56ca),_0x4b7c4a['subscribe'](_0xce5948,_0x31a177,_0x3c56ca[_0x559cb2(0xa8a)]);}[_0x273dd2(0xa3b)]({ownerId:_0xdd108f,label:_0x2b8915}){const _0x452eed=_0x273dd2,_0x54984d=this[_0x452eed(0x4b1)][_0x452eed(0x927)]['getRemoteMediaStream'](_0xdd108f,_0x2b8915),[_0x56dcfa,_0x2b9cc6]=Array[_0x452eed(0x668)](this[_0x452eed(0x2cc)][_0x452eed(0x53f)][_0x452eed(0x59f)]())[_0x452eed(0x77e)](([_0x59651d,_0x5ec12b])=>-0x1!==_0x59651d[_0x452eed(0x28c)](_0x54984d[_0x452eed(0x4b4)]()));return this[_0x452eed(0xb0a)](_0x2b9cc6,_0x56dcfa);}[_0x273dd2(0xb0a)](_0x412694,_0x5af256){const _0x28cd08=_0x273dd2;this[_0x28cd08(0x4b1)][_0x28cd08(0x927)][_0x28cd08(0xb49)](_0x412694),this[_0x28cd08(0x2cc)][_0x28cd08(0xb0a)](_0x412694,_0x5af256);}[_0x273dd2(0x75a)](_0x35795e){const _0x59860e=_0x273dd2;return _0x35795e['getSupportedContentTypes']()[_0x59860e(0x4aa)](_0x2a74a6[_0x59860e(0x2a7)][_0x59860e(0x9ae)]);}[_0x273dd2(0x84e)](_0x57a5e6){const _0x45e515=_0x273dd2;return _0x57a5e6[_0x45e515(0x54c)]()===_0x2a74a6[_0x45e515(0x2a7)][_0x45e515(0x9ae)];}async[_0x273dd2(0xb0d)](_0xb4e09c,_0x34be5d,_0xb2bee4,_0x5ddcf6){const _0x266353=_0x273dd2;await _0x35fbea['wait'](0x3e8);const _0xb7a091=_0x7f0d95(_0x3c832a['Incoming'],{'contentType':_0x2a74a6[_0x266353(0x2a7)][_0x266353(0x9ae)],'label':_0xb4e09c,'remoteId':_0x34be5d});this['clearSubscriptionRequestTimeout'](_0xb7a091);const _0x3312dc=this[_0x266353(0x479)][_0x266353(0x266)](_0xb7a091);if(!_0x3312dc)throw new _0x4b8523(_0x4b8523[_0x266353(0xa20)]['SubscriptionRequestDoesNotExist'],{'label':_0xb7a091,'ownerId':_0x34be5d});const _0x463063=this[_0x266353(0x4b1)][_0x266353(0x927)]['getConnections'](_0x306cb0=>_0x306cb0[_0x266353(0x7b1)]()),_0x25ce62=this[_0x266353(0x4b1)]['mediator']['getDistance'](this['configs'][_0x266353(0x61b)][_0x266353(0xb9d)](),_0x34be5d);_0x3312dc[_0x266353(0x3da)](_0x463063[_0x266353(0xb48)](_0x49df2d=>_0x49df2d[_0x266353(0x7c0)]()),_0x25ce62);try{_0x3312dc[_0x266353(0x21e)](this[_0x266353(0x4b1)]['localNode'][_0x266353(0xb9d)](),_0x34be5d,_0xb4e09c,_0xb2bee4,_0x5ddcf6),this[_0x266353(0x5d1)](_0xb4e09c,_0x34be5d,_0xb2bee4,_0x5ddcf6,_0xb7a091,_0x3312dc);}catch(_0x25a463){this[_0x266353(0x9a8)][_0x266353(0x604)]({'label':_0xb4e09c,'ownerId':_0x34be5d,'trackKinds':_0xb2bee4,'params':_0x5ddcf6});}}[_0x273dd2(0x226)](_0x1e38f3,_0x4ff18b,_0x1d3715,_0x48cfca){const _0x5435e2=_0x273dd2;this[_0x5435e2(0x9a8)]['push']({'label':_0x1e38f3,'ownerId':_0x4ff18b,'trackKinds':_0x1d3715,'params':_0x48cfca});}['requestSubscriptionAction']({label:_0x36c20b,ownerId:_0x2f1a02,trackKinds:_0x1e8202,params:_0x5bde1c,remoteId:_0x3cae77}){const _0x4f0522=_0x273dd2;if(!this['configs']['mediator'][_0x4f0522(0x843)](_0x2f1a02,_0x36c20b))return;if(!this[_0x4f0522(0x4b1)]['mediator'][_0x4f0522(0xa14)]()[_0x4f0522(0xae0)]())throw new Error(_0x4f0522(0x487));if(_0x3cae77){const _0x2acd66=this[_0x4f0522(0x4b1)][_0x4f0522(0x927)][_0x4f0522(0x942)]()[_0x4f0522(0x77e)](_0x11c520=>_0x11c520[_0x4f0522(0xb9d)]()===_0x3cae77),_0x45c95e=_0x2acd66?.['getRank']();if(!_0x2acd66||!_0x45c95e)throw new Error(_0x4f0522(0x5c1));const _0x19fa13=this['configs']['mediator'][_0x4f0522(0x942)]()[_0x4f0522(0x77e)](_0x1a4e00=>_0x1a4e00[_0x4f0522(0xb9d)]()===_0x2f1a02),_0x7ae311=_0x19fa13?.['getRank']();if(!_0x19fa13||!_0x7ae311)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x568349=this['chosenAnswers'][_0x4f0522(0x266)](_0x36c20b);if(_0x568349){const _0x47d021=this[_0x4f0522(0x4b1)]['mediator']['getRemoteNodes']()['find'](_0x38dc5f=>_0x38dc5f[_0x4f0522(0xb9d)]()===_0x568349[_0x4f0522(0xa0a)]),_0x3a04e8=_0x47d021?.['getRank']();if(!_0x47d021||!_0x3a04e8)throw new Error(_0x4f0522(0x465));if(Math[_0x4f0522(0x7e8)](_0x3a04e8-_0x7ae311)<Math[_0x4f0522(0x7e8)](_0x45c95e-_0x7ae311))return;}}const _0x13f363=this[_0x4f0522(0x4b1)][_0x4f0522(0x927)][_0x4f0522(0x60d)](_0x305c65=>_0x305c65['isConnected']()&&(!_0x3cae77||_0x305c65[_0x4f0522(0x7c0)]()===_0x3cae77));if(!_0x13f363[_0x4f0522(0x830)]||0x0===_0x13f363['length'])throw new Error(_0x4f0522(0x9ee));const _0x29244e=this[_0x4f0522(0x4b1)]['mediator'][_0x4f0522(0x2ba)](this[_0x4f0522(0x4b1)][_0x4f0522(0x61b)][_0x4f0522(0xb9d)](),_0x2f1a02),_0x4ff959=_0x7f0d95(_0x3c832a['Incoming'],{'contentType':_0x2a74a6[_0x4f0522(0x2a7)][_0x4f0522(0x9ae)],'label':_0x36c20b,'remoteId':_0x2f1a02});if(this[_0x4f0522(0x479)][_0x4f0522(0xb9f)](_0x4ff959)){if(_0x3cae77)throw new Error(_0x4f0522(0x4d3));const _0x19b213=this[_0x4f0522(0x479)]['get'](_0x4ff959)[_0x4f0522(0x34a)]();if(_0x19b213[_0x4f0522(0x830)]===_0x1e8202['length']&&_0x19b213['every'](_0x5f02c6=>_0x1e8202[_0x4f0522(0x4aa)](_0x5f02c6)))return;this['configs'][_0x4f0522(0x927)][_0x4f0522(0xb49)](this[_0x4f0522(0x479)][_0x4f0522(0x266)](_0x4ff959)),this[_0x4f0522(0x479)][_0x4f0522(0x997)](_0x4ff959),_0x1e8202=Array[_0x4f0522(0x668)](new Set(_0x1e8202['concat'](_0x19b213))),this['clearSubscriptionRequestTimeout'](_0x4ff959);}const _0xca3589=new _0x16150a(_0x13f363[_0x4f0522(0xb48)](_0x4ed19e=>_0x4ed19e['getRemoteId']()),_0x29244e,this[_0x4f0522(0xba0)],_0x1e8202);this[_0x4f0522(0x4b1)][_0x4f0522(0x927)][_0x4f0522(0x5a0)](_0xca3589),this[_0x4f0522(0x479)][_0x4f0522(0x68c)](_0x4ff959,_0xca3589),_0xca3589[_0x4f0522(0x21e)](this['configs']['localNode'][_0x4f0522(0xb9d)](),_0x2f1a02,_0x36c20b,_0x1e8202,_0x5bde1c),this[_0x4f0522(0x5d1)](_0x36c20b,_0x2f1a02,_0x1e8202,_0x5bde1c,_0x4ff959,_0xca3589);}[_0x273dd2(0x3a6)](_0x4d4e0d){const _0x47bc0c=_0x273dd2;this[_0x47bc0c(0x4c4)]['has'](_0x4d4e0d)&&(clearTimeout(this[_0x47bc0c(0x4c4)][_0x47bc0c(0x266)](_0x4d4e0d)),this['subscriptionRequestTimeouts'][_0x47bc0c(0x997)](_0x4d4e0d));}[_0x273dd2(0x5d1)](_0x27cbb0,_0x19f9de,_0x1431ae,_0x14d373,_0x1bc649,_0x2209bd){const _0x1c04b2=_0x273dd2;this[_0x1c04b2(0x3a6)](_0x1bc649),this[_0x1c04b2(0x4c4)][_0x1c04b2(0x68c)](_0x1bc649,setTimeout(()=>{const _0x3f0fdb=_0x1c04b2;this['subscriptionRequestTimeouts'][_0x3f0fdb(0x997)](_0x1bc649);try{const _0x5bc05a=_0x2209bd[_0x3f0fdb(0x406)]();this[_0x3f0fdb(0x6f8)](_0x5bc05a,_0x19f9de,_0x27cbb0,_0x1bc649,_0x1431ae);}catch(_0x340995){this[_0x3f0fdb(0xb0d)](_0x27cbb0,_0x19f9de,_0x1431ae,_0x14d373);}},0x7d0));}[_0x273dd2(0x80a)](_0x2d3161,_0x4495bc,_0x3588c9,_0x940ca7,_0x414370){const _0xcb9f9e=_0x273dd2,{subscriptionLabel:_0x597ac6}=this[_0xcb9f9e(0x7b0)](_0x4495bc,_0x940ca7),_0x222c60=this[_0xcb9f9e(0x4da)](_0x597ac6),_0x48572b=_0x222c60?.[_0xcb9f9e(0xa8a)];_0x222c60&&(_0x222c60[_0xcb9f9e(0xbf5)](_0x940ca7,0x0),this[_0xcb9f9e(0xa8c)](_0x3588c9,_0x2a74a6[_0xcb9f9e(0x2a7)][_0xcb9f9e(0x9ae)],_0x2d3161)),this[_0xcb9f9e(0x226)](_0x4495bc,_0x940ca7,_0x414370,_0x48572b);}[_0x273dd2(0x4da)](_0x82d89d){const _0x5b0bc1=_0x273dd2,_0xac846a=this['maps']['subscriptions'][_0x5b0bc1(0x266)](_0x82d89d);if(_0xac846a){if(!(_0xac846a instanceof _0x58e461))throw new _0x4b8523(_0x4b8523[_0x5b0bc1(0xa20)][_0x5b0bc1(0x209)],{'label':_0x82d89d,'subscription':_0xac846a});return _0xac846a;}}['getSubscriptionLabel'](_0x40b0a2,_0x230e99){const _0x1d0201=_0x273dd2,_0x53faf1=this[_0x1d0201(0xa9e)](_0x40b0a2,_0x230e99);return{'parts':_0x53faf1,'subscriptionLabel':_0x7f0d95(_0x3c832a[_0x1d0201(0xbea)],_0x53faf1)};}['getPartsForSubscriptionLabel'](_0x4fc30a,_0x579be3){const _0x517b92=_0x273dd2,_0x2c52a7=this[_0x517b92(0x4b1)]['mediator'][_0x517b92(0x843)](_0x579be3,_0x4fc30a),_0x166d63=_0x2c52a7[_0x517b92(0x7d3)]();if(!_0x166d63)throw new _0x4b8523(_0x4b8523[_0x517b92(0xa20)]['RemoteMediaStreamMissingProviderId'],{'label':_0x4fc30a,'streamId':_0x2c52a7[_0x517b92(0x4b4)](),'ownerId':_0x579be3,'localId':this[_0x517b92(0x4b1)][_0x517b92(0x61b)][_0x517b92(0xb9d)]()});return{'contentType':_0x2a74a6[_0x517b92(0x2a7)][_0x517b92(0x9ae)],'label':_0x2c52a7[_0x517b92(0x4b4)](),'remoteId':_0x166d63};}['cleanOldSubscription'](_0x149823,_0x5d545a,_0x5765e2,_0x479dee){const _0x3be71a=_0x273dd2,_0x997173=_0x479dee[_0x3be71a(0x7d3)]();if(_0x997173&&_0x997173!==_0x149823[_0x3be71a(0xa0a)]){const {parts:_0x455240,subscriptionLabel:_0x32a1dd}=this[_0x3be71a(0x7b0)](_0x5765e2,_0x5d545a),_0xa80caf=this[_0x3be71a(0x4da)](_0x32a1dd);_0xa80caf&&(_0xa80caf['unsubscribe'](_0x5d545a,0x0),this[_0x3be71a(0xa8c)](_0x455240['label'],_0x455240[_0x3be71a(0x60a)],_0x455240['remoteId']));}}}class _0x33bb12{[_0x273dd2(0x4b1)];[_0x273dd2(0x87b)];['maps'];constructor(_0x2a8449,_0x25d7d0){const _0x34c921=_0x273dd2;this[_0x34c921(0x4b1)]=_0x2a8449,this[_0x34c921(0x87b)]=_0x25d7d0,this['maps']=new _0x102e4a(({source:_0x26ab86,destination:_0x54649f})=>_0x1f66d3(_0x26ab86,_0x54649f));}[_0x273dd2(0x6a4)](_0x43fe4d,_0x16975e){const _0x4a8bf4=_0x273dd2,_0x48a02d={'source':_0x43fe4d,'destination':_0x16975e};this[_0x4a8bf4(0x2cc)][_0x4a8bf4(0x6a4)](_0x3c832a[_0x4a8bf4(0xa12)],_0x48a02d);}[_0x273dd2(0xa8c)](_0x2ac534,_0x29539f,_0xa7ae50=''){const _0x2ee1ab=_0x273dd2,_0x5766e3={'contentType':_0x29539f,'label':_0x2ac534,'remoteId':_0xa7ae50};this[_0x2ee1ab(0x2cc)][_0x2ee1ab(0xa8c)](_0x5766e3,_0x3c832a[_0x2ee1ab(0xa12)]);}[_0x273dd2(0xc15)](_0x3e870b,_0x4688c1){const _0x44ffca=_0x273dd2;let _0x6a0ae2;_0x6a0ae2=_0x4688c1[_0x44ffca(0x822)]!==this['configs']['localNode'][_0x44ffca(0xb9d)]()?this[_0x44ffca(0x4b1)]['mediator'][_0x44ffca(0x843)](_0x4688c1[_0x44ffca(0x822)],_0x4688c1[_0x44ffca(0x51b)]):this['configs'][_0x44ffca(0x927)][_0x44ffca(0x762)](_0x4688c1[_0x44ffca(0x51b)]);const _0x505f2a=_0x7f0d95(_0x3c832a[_0x44ffca(0xa12)],{'contentType':_0x2a74a6[_0x44ffca(0x2a7)][_0x44ffca(0x9ae)],'label':_0x6a0ae2['getShareableStreamId'](),'remoteId':_0x3e870b}),_0x1c4c8f=this[_0x44ffca(0x70c)]();if(!this[_0x44ffca(0x2cc)][_0x44ffca(0x53f)][_0x44ffca(0xb9f)](_0x505f2a)&&_0x1c4c8f>=this[_0x44ffca(0x87b)])return{'type':_0x7c8d65[_0x44ffca(0x5b4)],'ownerId':_0x4688c1[_0x44ffca(0x822)],'label':_0x4688c1[_0x44ffca(0x51b)],'streamId':_0x6a0ae2[_0x44ffca(0x438)](),'trackKinds':_0x4688c1[_0x44ffca(0x5d5)],'params':_0x4688c1['params']};_0x6a0ae2 instanceof _0x42b2dd&&!_0x6a0ae2[_0x44ffca(0x367)](_0x4688c1['trackKinds'])&&_0x6a0ae2[_0x44ffca(0x6f8)](_0x4688c1[_0x44ffca(0xa8a)]),this[_0x44ffca(0x2cc)][_0x44ffca(0x53f)]['has'](_0x505f2a)||this[_0x44ffca(0x6a4)](_0x6a0ae2[_0x44ffca(0x201)](_0x3e870b),this[_0x44ffca(0x4b1)]['mediator'][_0x44ffca(0xa79)](_0x3e870b));}[_0x273dd2(0x650)](_0x336084,{label:_0x26ae44,ownerId:_0x1250fe,remainingTracks:_0x95e2bd}){const _0x8384a2=_0x273dd2;if(_0x95e2bd>0x0)return;let _0x5d95f4;_0x5d95f4=_0x1250fe!==this[_0x8384a2(0x4b1)][_0x8384a2(0x61b)]['getId']()?this['configs']['mediator']['getRemoteMediaStream'](_0x1250fe,_0x26ae44):this[_0x8384a2(0x4b1)][_0x8384a2(0x927)]['getLocalMediaStream'](_0x26ae44);const _0x1e5a4d=_0x5d95f4['getShareableStreamId'](),_0x5706ab=_0x2a74a6[_0x8384a2(0x2a7)][_0x8384a2(0x9ae)];this['removeSubscription'](_0x1e5a4d,_0x5706ab,_0x336084);}['handleContentUnsubscribeMediaStream'](_0x307ad9,{label:_0x4327d2,ownerId:_0x5e5af4,trackKinds:_0xfc7ecd}){const _0x284c0c=_0x273dd2;if(_0x307ad9!==_0x2fb653)return[];let _0x27d480=[];for(const _0x110fbd of this['maps'][_0x284c0c(0x53f)]){const {source:_0x4e441c,destination:_0xaedbfd}=_0x110fbd[0x1];_0x4e441c[_0x284c0c(0xa73)]()===_0x4327d2&&_0x4e441c['getOwnerId']()===_0x5e5af4&&_0x27d480['push']({'sourceId':this[_0x284c0c(0x4b1)][_0x284c0c(0x61b)]['getId'](),'destinationIds':[_0xaedbfd['getRemoteId']()],'messageType':_0xe6fd3b['Subscription'],'content':{'type':_0x7c8d65[_0x284c0c(0xa6d)],'label':_0x4327d2,'ownerId':_0x5e5af4,'trackKinds':_0xfc7ecd}});}return _0x27d480;}[_0x273dd2(0xb9c)](_0x3bc012,_0x2bbe08){const _0x3c87e2=_0x273dd2,{label:_0x2e5943,ownerId:_0x3fa5d6,trackKinds:_0x30a9e0,params:_0x1a4f7a}=_0x2bbe08,{hasTracks:_0x17dd6a,streamId:_0x3ad5b6,hasResolution:_0xf0d30,distance:_0x4252b0,subscriptionLabel:_0x2038cb}=this[_0x3c87e2(0xb72)](_0x3bc012,_0x2bbe08);let _0x3bc5e5=this[_0x3c87e2(0x70c)]()<this[_0x3c87e2(0x87b)]&&(_0x17dd6a||_0x4252b0>-0x1)?_0x7c8d65[_0x3c87e2(0x7c5)]:_0x7c8d65[_0x3c87e2(0x4b9)];const _0x5aa0fc=_0x4252b0<0x0?0xa:_0x4252b0;let _0x4e77a6=_0x17dd6a?_0xf0d30?_0x5aa0fc:_0x5aa0fc+0x0:_0x5aa0fc+0xa;return _0x2038cb&&this['maps']['subscriptions'][_0x3c87e2(0xb9f)](_0x2038cb)&&(_0x17dd6a&&(_0x4e77a6=0x0),_0x3bc5e5=_0x7c8d65[_0x3c87e2(0x7c5)]),{'type':_0x3bc5e5,'cost':_0x4e77a6,'distance':_0x4252b0,'label':_0x2e5943,'ownerId':_0x3fa5d6,'streamId':_0x3ad5b6,'trackKinds':_0x30a9e0,'params':_0x1a4f7a};}[_0x273dd2(0x687)](_0x2291ce){const _0x438903=_0x273dd2,{label:_0xb1ca34,ownerId:_0x5b741c}=_0x2291ce,_0xbe5717=this['configs']['mediator']['getRemoteMediaStream'](_0x5b741c,_0xb1ca34);this[_0x438903(0x2cc)][_0x438903(0x53f)][_0x438903(0xb9b)](_0x3b5d5d=>{const _0x259cf8=_0x438903;if(_0x3b5d5d[_0x259cf8(0x7e1)][_0x259cf8(0x4b4)]()===_0xbe5717[_0x259cf8(0x438)]()){const _0x59d66e=_0x3b5d5d[_0x259cf8(0xb6a)];this[_0x259cf8(0xa8c)](_0xbe5717[_0x259cf8(0x438)](),_0x2a74a6['ContentType'][_0x259cf8(0x9ae)],_0x59d66e[_0x259cf8(0x7c0)]());}});}[_0x273dd2(0x46c)]({label:_0x3226bd}){const _0x14a552=_0x273dd2,_0x1a84cb=this[_0x14a552(0x4b1)]['mediator']['getLocalMediaStream'](_0x3226bd);this['maps'][_0x14a552(0x53f)][_0x14a552(0xb9b)](_0x148ada=>{const _0x4bb838=_0x14a552;if(_0x148ada['source']['getInternalStreamId']()===_0x1a84cb[_0x4bb838(0x438)]()){const _0x3c048a=_0x148ada[_0x4bb838(0xb6a)];this['removeSubscription'](_0x1a84cb[_0x4bb838(0x438)](),_0x2a74a6[_0x4bb838(0x2a7)][_0x4bb838(0x9ae)],_0x3c048a['getRemoteId']());}});}[_0x273dd2(0x298)](_0x505913){this['maps']['removeSubscriptionsForNode'](_0x505913);}['close'](){const _0x2352da=_0x273dd2;this[_0x2352da(0x2cc)][_0x2352da(0x53f)]['forEach'](this[_0x2352da(0xb0a)]['bind'](this));}[_0x273dd2(0xb0a)](_0x11e4c9,_0x2e08fc){const _0x277ce3=_0x273dd2;this[_0x277ce3(0x2cc)][_0x277ce3(0xb0a)](_0x11e4c9,_0x2e08fc);}['getSubscriptionInfo'](_0x5a7c5f,{label:_0x5a529f,ownerId:_0x59804b,trackKinds:_0x1f7534,params:_0x16ab2b}){const _0x2c3ae4=_0x273dd2;if(_0x59804b!==this[_0x2c3ae4(0x4b1)][_0x2c3ae4(0x61b)][_0x2c3ae4(0xb9d)]()){const _0x1d2bbd=this[_0x2c3ae4(0x4b1)][_0x2c3ae4(0x927)][_0x2c3ae4(0x843)](_0x59804b,_0x5a529f);return _0x1d2bbd&&_0x1d2bbd[_0x2c3ae4(0x7d3)]()!==_0x5a7c5f?{'hasTracks':_0x1d2bbd['hasTracks'](_0x1f7534),'hasResolution':this['canProvideResolution'](_0x1d2bbd['getResolution'](),_0x16ab2b),'streamId':_0x1d2bbd[_0x2c3ae4(0x438)](),'distance':this[_0x2c3ae4(0x4b1)][_0x2c3ae4(0x927)][_0x2c3ae4(0x2ba)](_0x5a7c5f,_0x59804b),'subscriptionLabel':_0x7f0d95(_0x3c832a['Outgoing'],{'contentType':_0x2a74a6[_0x2c3ae4(0x2a7)]['Media'],'label':_0x1d2bbd[_0x2c3ae4(0x438)](),'remoteId':_0x5a7c5f})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x1bc556=this['configs'][_0x2c3ae4(0x927)][_0x2c3ae4(0x762)](_0x5a529f);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x1bc556[_0x2c3ae4(0x438)](),'distance':0x0,'subscriptionLabel':_0x7f0d95(_0x3c832a['Outgoing'],{'contentType':_0x2a74a6['ContentType']['Media'],'label':_0x1bc556[_0x2c3ae4(0x438)](),'remoteId':_0x5a7c5f})};}[_0x273dd2(0x70c)](){const _0x5c9bb2=_0x273dd2;return Array[_0x5c9bb2(0x668)](this[_0x5c9bb2(0x2cc)][_0x5c9bb2(0x53f)]['entries']())[_0x5c9bb2(0x57c)](([_0x3ee0ea,{source:_0x36e5b6}])=>_0x3ee0ea[_0x5c9bb2(0xb97)](_0x3c832a['Outgoing'])&&_0x36e5b6[_0x5c9bb2(0x54c)]()===_0x2a74a6[_0x5c9bb2(0x2a7)][_0x5c9bb2(0x9ae)])[_0x5c9bb2(0x830)];}[_0x273dd2(0xb9a)](_0x5adb42,_0x3e80f0){const _0x3ede86=_0x273dd2;if(!_0x3e80f0||!_0x3e80f0[_0x3ede86(0x758)]||_0x3ede86(0xb68)==typeof _0x3e80f0['video']||!_0x3e80f0[_0x3ede86(0x758)][_0x3ede86(0x2ef)])return!0x0;const {width:_0x4fe25d,height:_0x4a4bb2}=_0x3e80f0[_0x3ede86(0x758)][_0x3ede86(0x2ef)];return _0x5adb42['width']>=_0x4fe25d&&_0x5adb42['height']>=_0x4a4bb2;}}class _0x136fc3{[_0x273dd2(0x4b1)];[_0x273dd2(0x87b)];['maxDistance'];['systemTopic'];['incomingManager'];[_0x273dd2(0xb56)];constructor(_0x5bc022,_0x22899a,_0x426091){const _0x46a447=_0x273dd2;this['configs']=_0x5bc022,this[_0x46a447(0x87b)]=_0x22899a,this[_0x46a447(0xba0)]=_0x426091,this[_0x46a447(0x4b1)]['mediator']['registerSystemSource'](this),this[_0x46a447(0x4c6)]=new _0x1cfa3a(this[_0x46a447(0x4b1)],this['maxDistance']),this['outgoingManager']=new _0x33bb12(this[_0x46a447(0x4b1)],this[_0x46a447(0x87b)]);}[_0x273dd2(0x32c)](_0x5df7b6){const _0x30365c=_0x273dd2;this[_0x30365c(0x2fb)]=_0x5df7b6;}['unregisterSystemPublisher'](){const _0xf3c477=_0x273dd2;delete this[_0xf3c477(0x2fb)];}[_0x273dd2(0x210)](){const _0x27316f=_0x273dd2;this[_0x27316f(0x4c6)]['close'](),this[_0x27316f(0xb56)][_0x27316f(0x210)](),this[_0x27316f(0x4b1)][_0x27316f(0x927)]['unregisterSystemSource'](this);}[_0x273dd2(0x7ba)](_0x4d511a,_0x42a69e){const _0x3e037a=_0x273dd2;this[_0x3e037a(0x4c6)]['createSubscription'](_0x4d511a,_0x42a69e);}[_0x273dd2(0x456)](_0x5784c0,_0x5bfa58){const _0x5a55f3=_0x273dd2;this[_0x5a55f3(0xb56)][_0x5a55f3(0x6a4)](_0x5784c0,_0x5bfa58);}['removeIncomingSubscription'](_0x3e34b9,_0x4688b4,_0x4124bc=''){const _0x47bd93=_0x273dd2;this['incomingManager'][_0x47bd93(0xa8c)](_0x3e34b9,_0x4688b4,_0x4124bc);}[_0x273dd2(0x225)](_0x3af876,_0x22be6c,_0x2ca128=''){const _0x4c6475=_0x273dd2;try{this['outgoingManager'][_0x4c6475(0xa8c)](_0x3af876,_0x22be6c,_0x2ca128);}catch(_0x32c353){if(_0x32c353 instanceof _0x4b8523&&_0x32c353['code']===_0x4b8523[_0x4c6475(0xa20)][_0x4c6475(0x209)])return;}}['handleSubscriptionSystemEvents'](_0x269ff6){const _0x4986df=_0x273dd2;switch(_0x269ff6['content']['type']){case _0x7c8d65[_0x4986df(0x552)]:this[_0x4986df(0xc15)](_0x269ff6[_0x4986df(0x6fd)],_0x269ff6[_0x4986df(0x26d)]);break;case _0x7c8d65[_0x4986df(0x2ac)]:this[_0x4986df(0xb56)]['handleSubscriptionUnsubscribeMediaStream'](_0x269ff6[_0x4986df(0x6fd)],_0x269ff6['content']);break;case _0x7c8d65[_0x4986df(0x3bc)]:this['handleSubscriptionNeedMediaStream'](_0x269ff6[_0x4986df(0x6fd)],_0x269ff6[_0x4986df(0x26d)]);break;case _0x7c8d65[_0x4986df(0x5b4)]:this[_0x4986df(0x4c6)][_0x4986df(0x67a)](_0x269ff6['sourceId'],_0x269ff6[_0x4986df(0x26d)]);break;case _0x7c8d65[_0x4986df(0x7c5)]:case _0x7c8d65[_0x4986df(0x4b9)]:this[_0x4986df(0x4c6)][_0x4986df(0x5e6)](_0x269ff6[_0x4986df(0x6fd)],_0x269ff6[_0x4986df(0x26d)]);break;case _0x7c8d65[_0x4986df(0xa6d)]:this[_0x4986df(0x4c6)]['handleSubscriptionMediaStreamUnavailable'](_0x269ff6[_0x4986df(0x6fd)],_0x269ff6['content']);}}[_0x273dd2(0x8ba)](_0x1178b0){const _0x520d17=_0x273dd2;switch(_0x1178b0[_0x520d17(0x26d)]['type']){case _0x310f3a[_0x520d17(0xa94)]:this[_0x520d17(0x4c6)][_0x520d17(0x687)](_0x1178b0[_0x520d17(0x26d)]),this[_0x520d17(0xb56)]['handleContentUnpublishMediaStream'](_0x1178b0[_0x520d17(0x26d)]);break;case _0x310f3a[_0x520d17(0x552)]:this['incomingManager']['handleContentSubscribeMediaStream'](_0x1178b0[_0x520d17(0x26d)]);break;case _0x310f3a['UpdateMediaStream']:this[_0x520d17(0x4c6)][_0x520d17(0x517)](_0x1178b0[_0x520d17(0x26d)]);break;case _0x310f3a[_0x520d17(0x2ac)]:this['handleContentUnsubscribeMediaStream'](_0x1178b0['sourceId'],_0x1178b0['content']);break;case _0x310f3a['CloseMediaStream']:this[_0x520d17(0xb56)][_0x520d17(0x46c)](_0x1178b0[_0x520d17(0x26d)]);break;case _0x310f3a['ClosePubSubTopic']:this[_0x520d17(0x922)](_0x1178b0['content'][_0x520d17(0x51b)],_0x2a74a6[_0x520d17(0x2a7)][_0x520d17(0x7b3)]);break;case _0x310f3a[_0x520d17(0x9f5)]:this[_0x520d17(0x922)](_0x1178b0['content'][_0x520d17(0x51b)],_0x2a74a6[_0x520d17(0x2a7)][_0x520d17(0x870)]);break;case _0x310f3a[_0x520d17(0x377)]:this[_0x520d17(0x922)](_0x1178b0[_0x520d17(0x26d)]['label'],_0x2a74a6[_0x520d17(0x2a7)][_0x520d17(0x61f)]);break;case _0x310f3a['CloseKeyValueDatabase']:this[_0x520d17(0x922)](_0x1178b0[_0x520d17(0x26d)]['label'],_0x2a74a6[_0x520d17(0x2a7)]['KeyValueDatabase']);break;case _0x310f3a[_0x520d17(0x896)]:this['handleCloseContent'](_0x1178b0['content'][_0x520d17(0x51b)],_0x2a74a6[_0x520d17(0x2a7)][_0x520d17(0xb15)]);break;case _0x310f3a[_0x520d17(0x8f2)]:this[_0x520d17(0x922)](_0x1178b0[_0x520d17(0x26d)][_0x520d17(0x51b)],_0x2a74a6['ContentType']['GraphDatabase']);break;case _0x310f3a[_0x520d17(0x39e)]:case _0x310f3a[_0x520d17(0x71b)]:this['handleCloseContent'](_0x1178b0[_0x520d17(0x26d)]['label'],_0x2a74a6['ContentType']['Job']);break;case _0x310f3a[_0x520d17(0xbeb)]:this[_0x520d17(0x4c6)][_0x520d17(0x6d5)](_0x1178b0[_0x520d17(0x26d)]);}}[_0x273dd2(0x2b3)]({content:_0x4ebdaa}){const _0x33b9ef=_0x273dd2;_0x4ebdaa['type']===_0x18e010[_0x33b9ef(0x263)]&&this[_0x33b9ef(0x298)](_0x4ebdaa);}[_0x273dd2(0x92a)](_0x4b6a2d){const _0x222f7f=_0x273dd2;_0x4b6a2d[_0x222f7f(0x26d)][_0x222f7f(0x6b9)]===_0x3da868[_0x222f7f(0x9ac)]&&this[_0x222f7f(0x4c6)][_0x222f7f(0x8db)](_0x4b6a2d['sourceId']);}[_0x273dd2(0xa66)](_0x4490b9,_0x3133b2){const _0x113a1f=_0x273dd2;this[_0x113a1f(0x4c6)][_0x113a1f(0xa66)](_0x3133b2),this['outgoingManager'][_0x113a1f(0xa66)](_0x4490b9,_0x3133b2)[_0x113a1f(0xb9b)](_0x47a8a1=>this[_0x113a1f(0x2fb)][_0x113a1f(0xb07)](_0x47a8a1));}[_0x273dd2(0xc15)](_0x37b4b8,_0x393537){const _0x2e3c50=_0x273dd2,_0x533898=this[_0x2e3c50(0xb56)]['handleSubscriptionSubscribeMediaStream'](_0x37b4b8,_0x393537);if(_0x533898&&(this['systemTopic'][_0x2e3c50(0xb07)]({'sourceId':this['configs'][_0x2e3c50(0x61b)][_0x2e3c50(0xb9d)](),'destinationIds':[_0x37b4b8],'messageType':_0xe6fd3b[_0x2e3c50(0x26e)],'content':_0x533898}),_0x533898['type']===_0x7c8d65[_0x2e3c50(0x5b4)]))throw new _0x17e91b(_0x2e3c50(0x221));}[_0x273dd2(0xb9c)](_0x59c2fc,_0x394e28){const _0x1ff5e1=_0x273dd2,_0x497d8e=this[_0x1ff5e1(0xb56)][_0x1ff5e1(0xb9c)](_0x59c2fc,_0x394e28);this['systemTopic'][_0x1ff5e1(0xb07)]({'sourceId':this[_0x1ff5e1(0x4b1)]['localNode'][_0x1ff5e1(0xb9d)](),'destinationIds':[_0x59c2fc],'messageType':_0xe6fd3b[_0x1ff5e1(0x26e)],'content':_0x497d8e});}[_0x273dd2(0x922)](_0xdf38b2,_0x3c2918){const _0x350b03=_0x273dd2;this[_0x350b03(0x5dc)](_0xdf38b2,_0x3c2918),this['removeOutgoingSubscription'](_0xdf38b2,_0x3c2918);}['removeSubscriptionsForNode']({id:_0x2a79c6}){const _0x2df277=_0x273dd2;this[_0x2df277(0x4c6)][_0x2df277(0x298)](_0x2a79c6),this[_0x2df277(0xb56)][_0x2df277(0x298)](_0x2a79c6);}}class _0x4b8d3c{[_0x273dd2(0x51b)];['listener']=_0x2d1945();constructor(){const _0xc67d03=_0x273dd2;this[_0xc67d03(0x51b)]=0x0;}[_0x273dd2(0xa73)](){return this['label'];}[_0x273dd2(0x54c)](){const _0x46000f=_0x273dd2;return _0x2a74a6[_0x46000f(0x2a7)][_0x46000f(0xa89)];}[_0x273dd2(0xa58)](_0x1607a4){const _0x530204=_0x273dd2;_0x1607a4[_0x530204(0x32c)](this);}[_0x273dd2(0x29e)](_0x17740b){const _0x5eae5a=_0x273dd2;_0x17740b[_0x5eae5a(0x200)]();}[_0x273dd2(0xb07)](_0xa913bb){const _0x47326d=_0x273dd2;_0x58cca5[_0x47326d(0x3a3)](_0x57ac86[_0x47326d(0x344)],_0x47326d(0x418),_0xa913bb[_0x47326d(0x6fd)],_0xa913bb),this[_0x47326d(0x3b1)][_0x47326d(0xb07)]({'topicLabel':this[_0x47326d(0x51b)],'contentType':_0x2a74a6[_0x47326d(0x2a7)]['Data'],'uuid':_0xa913bb[_0x47326d(0xb33)]??(0x0,_0x5d1d4c['v4'])(),'recipients':_0xa913bb[_0x47326d(0x326)]??[],..._0xa913bb});}['subscribe'](_0x2a8784){const _0x2427d2=_0x273dd2;return this['listener'][_0x2427d2(0x6f8)](_0x2a8784);}}class _0x27855a{['options'];[_0x273dd2(0x94e)]=[];[_0x273dd2(0xb53)];['remoteNodes']=new Map();['nodeUpdate']=_0x2d1945();constructor(_0x2b0441){const _0x4d766d=_0x273dd2;this[_0x4d766d(0x924)]=_0x2b0441,this[_0x4d766d(0xb53)]=(this[_0x4d766d(0x924)][_0x4d766d(0x410)]-0x2*this['options']['minConnections'])/0x2,this[_0x4d766d(0x94e)][_0x4d766d(0x604)]({'start':0x1,'end':this[_0x4d766d(0x818)](0x1,0x1)-0x1});for(let _0x8c9cd3=0x0;_0x8c9cd3<this[_0x4d766d(0xb53)];++_0x8c9cd3)this[_0x4d766d(0x94e)][_0x4d766d(0x604)]({'start':this[_0x4d766d(0x818)](0x1,_0x8c9cd3+0x1),'end':this[_0x4d766d(0x818)](0x1,_0x8c9cd3+0x2)-0x1});}[_0x273dd2(0x818)](_0x396f16,_0x5b2357=0x1){const _0x95d895=_0x273dd2;let _0xd2afaa=this[_0x95d895(0x924)][_0x95d895(0xba0)]-this['options']['minConnections'],_0x255063=0x1;for(let _0x2419da=0x1;_0x2419da<_0x5b2357;++_0x2419da)_0xd2afaa*=this[_0x95d895(0x924)][_0x95d895(0xba0)]-this[_0x95d895(0x924)][_0x95d895(0x38b)]-_0x2419da,_0x255063*=this[_0x95d895(0x924)][_0x95d895(0xba0)]-this[_0x95d895(0x924)]['minConnections']-_0x2419da+0x1;return _0xd2afaa*this[_0x95d895(0x924)]['minConnections']+_0x396f16-_0x255063;}[_0x273dd2(0x979)](_0x1b6d9f){const _0x59c758=_0x273dd2;let _0x5517a6=0x0;for(;this[_0x59c758(0x94e)][_0x5517a6]['end']<_0x1b6d9f;)_0x5517a6+=0x1;return _0x5517a6;}['getMinConnections'](){const _0x3868a6=_0x273dd2;return this[_0x3868a6(0x924)][_0x3868a6(0x38b)];}[_0x273dd2(0x7f9)](){const _0x558e85=_0x273dd2;return this[_0x558e85(0x924)][_0x558e85(0x410)];}[_0x273dd2(0x3d9)](){const _0xa921e8=_0x273dd2;return this[_0xa921e8(0x924)][_0xa921e8(0xba0)];}[_0x273dd2(0x942)](){const _0x448bf4=_0x273dd2;return this[_0x448bf4(0x736)];}['setRemoteNode'](_0x425b2a,_0x39cbcb){const _0x5c2e46=_0x273dd2;this[_0x5c2e46(0x736)][_0x5c2e46(0x68c)](_0x425b2a,_0x39cbcb),this[_0x5c2e46(0xba9)]['publish']();}[_0x273dd2(0x3ef)](_0x4d1c51){const _0x3b9bb0=_0x273dd2;this['remoteNodes'][_0x3b9bb0(0x997)](_0x4d1c51),this[_0x3b9bb0(0xba9)][_0x3b9bb0(0xb07)]();}[_0x273dd2(0x614)](_0x4223a8){const _0x5c00ef=_0x273dd2;return this[_0x5c00ef(0x736)][_0x5c00ef(0xb9f)](_0x4223a8);}[_0x273dd2(0x83b)](_0x100be2){const _0x3166f8=_0x273dd2;return this['remoteNodes'][_0x3166f8(0x266)](_0x100be2);}[_0x273dd2(0xa1d)](_0x417d82,_0x109406){const _0x2eb730=_0x273dd2,_0x4ce9ec=this[_0x2eb730(0x83b)](_0x109406)?.[_0x2eb730(0xae0)]()??0x0;return _0x417d82[_0x2eb730(0xb48)](_0x39b941=>this[_0x2eb730(0x83b)](_0x39b941))['filter'](_0x3bf7b1=>void 0x0!==_0x3bf7b1)[_0x2eb730(0x939)]((_0x635d37,_0x4f4e5d)=>Math['abs'](_0x4ce9ec-(_0x635d37&&_0x635d37[_0x2eb730(0xae0)]()||0x1/0x0))-Math[_0x2eb730(0x7e8)](_0x4ce9ec-(_0x4f4e5d&&_0x4f4e5d[_0x2eb730(0xae0)]()||0x1/0x0)))['map'](_0x44d9c2=>_0x44d9c2[_0x2eb730(0xb9d)]());}[_0x273dd2(0x934)](_0x172203){const _0x50ddb9=_0x273dd2;return this[_0x50ddb9(0xba9)][_0x50ddb9(0x6f8)](_0x172203);}}class _0x35a3ef{['vendorId'];['clusterId'];['authNode'];[_0x273dd2(0x9a3)];[_0x273dd2(0x924)];[_0x273dd2(0x4b1)];['clusterEventEmitter'];[_0x273dd2(0x841)];[_0x273dd2(0x7bc)];[_0x273dd2(0x71f)];[_0x273dd2(0x48f)];['detectionManager'];[_0x273dd2(0x7ff)];[_0x273dd2(0x9b8)];['graphService'];[_0x273dd2(0x2fb)]=new _0x4b8d3c();[_0x273dd2(0x9ef)];[_0x273dd2(0x61b)];constructor(_0x22bd6a,_0x29658c,_0x31a8e6,_0x34d35e,_0x4e56a4,_0x394084,_0x4a25a7){const _0x1567f7=_0x273dd2;switch(this['vendorId']=_0x22bd6a,this[_0x1567f7(0x78c)]=_0x29658c,this[_0x1567f7(0x6c2)]=_0x31a8e6,this[_0x1567f7(0x9a3)]=_0x34d35e,this['options']=_0x4e56a4,this['configs']=_0x394084,this[_0x1567f7(0x865)]=_0x4a25a7,_0x31a8e6[_0x1567f7(0x6b9)]){case _0x2a74a6['NodeType'][_0x1567f7(0x3c5)]:this[_0x1567f7(0x61b)]=new _0x106db8(_0x31a8e6[_0x1567f7(0xb9d)](),_0x31a8e6[_0x1567f7(0x84c)](),_0x31a8e6[_0x1567f7(0x93a)]());break;case _0x2a74a6[_0x1567f7(0x6e3)][_0x1567f7(0x207)]:default:this[_0x1567f7(0x61b)]=new _0x53e62c(_0x31a8e6[_0x1567f7(0xb9d)]());}const _0x54198d=this[_0x1567f7(0x63c)]();this[_0x1567f7(0xc01)]=new _0x27855a(this['options']),this['contentManager']=new _0x29510e(_0x54198d,this[_0x1567f7(0x924)]),this[_0x1567f7(0x7bc)]=new _0x161054(_0x54198d,this[_0x1567f7(0x9a3)],this[_0x1567f7(0xc01)],this[_0x1567f7(0x4b1)]['iceServers'],this[_0x1567f7(0x924)]),this['subscriptionManager']=new _0x136fc3(_0x54198d,this[_0x1567f7(0x924)][_0x1567f7(0x87b)],this[_0x1567f7(0xc01)][_0x1567f7(0x3d9)]()),this[_0x1567f7(0x48f)]=new _0x11e4fc(_0x54198d),this[_0x1567f7(0x938)]=new _0x501c18(_0x54198d),this[_0x1567f7(0x7ff)]=new _0x5ed77e(_0x54198d),this['nodeManager']=new _0x5e5d7d(_0x54198d,this[_0x1567f7(0xc01)]),this[_0x1567f7(0x9ef)]=this['initializeSystemTopic']();}['open'](){const _0x3aae3b=_0x273dd2,_0x99b1a6=this['getConfigs']();this[_0x3aae3b(0x7bc)]=new _0x161054(_0x99b1a6,this['authService'],this[_0x3aae3b(0xc01)],this[_0x3aae3b(0x4b1)][_0x3aae3b(0x355)],this[_0x3aae3b(0x924)]),this[_0x3aae3b(0x71f)]=new _0x136fc3(_0x99b1a6,this[_0x3aae3b(0x924)]['maxOutgoingSubscriptions'],this['graphService'][_0x3aae3b(0x3d9)]()),this[_0x3aae3b(0x48f)]=new _0x11e4fc(_0x99b1a6),this['detectionManager']=new _0x501c18(_0x99b1a6),this[_0x3aae3b(0x7ff)]=new _0x5ed77e(_0x99b1a6),this['nodeManager']=new _0x5e5d7d(_0x99b1a6,this['graphService']);const _0xd00867=this[_0x3aae3b(0x7bc)]['getConnectionGroup']();this[_0x3aae3b(0x841)][_0x3aae3b(0xad9)]()[_0x3aae3b(0xb9b)](_0x481260=>{const _0x282b1e=_0x3aae3b;this[_0x282b1e(0x71f)][_0x282b1e(0x456)](_0x481260,_0xd00867),this[_0x282b1e(0x71f)][_0x282b1e(0x7ba)](_0xd00867,_0x481260),_0x481260[_0x282b1e(0x3da)]();}),this['contentManager'][_0x3aae3b(0xb85)]()[_0x3aae3b(0xb9b)](_0x4b3c8a=>{const _0x194ab1=_0x3aae3b;this[_0x194ab1(0x71f)][_0x194ab1(0x456)](_0x4b3c8a,_0xd00867),this[_0x194ab1(0x71f)][_0x194ab1(0x7ba)](_0xd00867,_0x4b3c8a),_0x4b3c8a[_0x194ab1(0x3da)](),_0x4b3c8a[_0x194ab1(0x4bf)]();}),this['contentManager']['getKeyValueDatabases']()['forEach'](_0x152457=>{const _0x5ee9d4=_0x3aae3b;this['subscriptionManager'][_0x5ee9d4(0x456)](_0x152457,_0xd00867),this['subscriptionManager'][_0x5ee9d4(0x7ba)](_0xd00867,_0x152457),_0x152457[_0x5ee9d4(0x3da)](),this[_0x5ee9d4(0x5bf)](_0x152457);}),this[_0x3aae3b(0x841)][_0x3aae3b(0x546)]()[_0x3aae3b(0xb9b)](_0x401d73=>{const _0x515cf0=_0x3aae3b;this['subscriptionManager'][_0x515cf0(0x456)](_0x401d73,_0xd00867),this[_0x515cf0(0x71f)][_0x515cf0(0x7ba)](_0xd00867,_0x401d73),_0x401d73[_0x515cf0(0x3da)]();}),this[_0x3aae3b(0x841)][_0x3aae3b(0x8f1)]()[_0x3aae3b(0xb9b)](_0xc6da93=>{const _0x744ae0=_0x3aae3b;this[_0x744ae0(0x71f)][_0x744ae0(0x456)](_0xc6da93,_0xd00867),this[_0x744ae0(0x71f)][_0x744ae0(0x7ba)](_0xd00867,_0xc6da93),_0xc6da93[_0x744ae0(0x3da)]();}),this[_0x3aae3b(0x841)][_0x3aae3b(0xbe5)]()[_0x3aae3b(0xb9b)](_0x1a44c4=>{const _0x5daf30=_0x3aae3b;this[_0x5daf30(0x71f)][_0x5daf30(0x456)](_0x1a44c4,_0xd00867),this[_0x5daf30(0x71f)]['createIncomingSubscription'](_0xd00867,_0x1a44c4),_0x1a44c4['reset']();}),this['contentManager'][_0x3aae3b(0x832)]()['forEach'](_0x9090f8=>{const _0x236437=_0x3aae3b;this['subscriptionManager'][_0x236437(0x456)](_0x9090f8,_0xd00867),this['subscriptionManager'][_0x236437(0x7ba)](_0xd00867,_0x9090f8),_0x9090f8[_0x236437(0x3da)]();}),this[_0x3aae3b(0x9ef)]=this['initializeSystemTopic']();}['registerSystemSource'](_0x522367){const _0x44accf=_0x273dd2;try{this[_0x44accf(0x2fb)][_0x44accf(0xa58)](_0x522367);}catch(_0x4d4250){this[_0x44accf(0x258)](_0x4d4250,{});}}[_0x273dd2(0xb49)](_0x118841){const _0x40d1ed=_0x273dd2;try{this[_0x40d1ed(0x2fb)][_0x40d1ed(0x29e)](_0x118841);}catch(_0x5bf399){this[_0x40d1ed(0x258)](_0x5bf399,{});}}[_0x273dd2(0x26f)](_0x3d5fcc,_0x2ec298){const _0x239a08=_0x273dd2;return this[_0x239a08(0x7bc)][_0x239a08(0x26f)](_0x3d5fcc,_0x2ec298);}[_0x273dd2(0xa79)](_0x626e9b){const _0x4ee583=_0x273dd2;try{return this[_0x4ee583(0x7bc)][_0x4ee583(0xa79)](_0x626e9b);}catch(_0x4fcc8c){throw this[_0x4ee583(0x258)](_0x4fcc8c,{});}}['getConnections'](_0x4d6615){const _0x1224f7=_0x273dd2;try{return this[_0x1224f7(0x7bc)][_0x1224f7(0x60d)](_0x4d6615);}catch(_0x1c15e1){throw this[_0x1224f7(0x258)](_0x1c15e1,{});}}[_0x273dd2(0x843)](_0x35f5a4,_0x41efca){const _0xc6d39=_0x273dd2;try{return this[_0xc6d39(0x841)][_0xc6d39(0x423)](_0x463a40=>_0x463a40[_0xc6d39(0x5ca)]()===_0x35f5a4&&_0x463a40[_0xc6d39(0xa73)]()===_0x41efca)[0x0];}catch(_0x2a7e40){throw this[_0xc6d39(0x258)](_0x2a7e40,{});}}[_0x273dd2(0x762)](_0x24b233){const _0x4378cd=_0x273dd2;try{return this['contentManager'][_0x4378cd(0x1ef)](_0x2c6007=>_0x2c6007['getLabel']()===_0x24b233)[0x0];}catch(_0x10ff7f){throw this['handleError'](_0x10ff7f,{});}}['notifyCluster']=(..._0x5561dd)=>{const _0x45cb72=_0x273dd2;try{return this[_0x45cb72(0x865)][_0x45cb72(0x743)](..._0x5561dd);}catch(_0x1faf36){throw this[_0x45cb72(0x258)](_0x1faf36,{});}};['registerRemoteNode'](_0x5ed892){const _0x105232=_0x273dd2;try{this[_0x105232(0x48f)][_0x105232(0x466)](_0x5ed892);}catch(_0x3833f3){throw this[_0x105232(0x258)](_0x3833f3,{});}}[_0x273dd2(0xa0f)](_0x63f322){const _0x240e4d=_0x273dd2;try{this[_0x240e4d(0x48f)][_0x240e4d(0x7b8)](_0x63f322);}catch(_0x3bbdfe){throw this[_0x240e4d(0x258)](_0x3bbdfe,{});}}[_0x273dd2(0x89f)](_0x42b2ea){const _0x49dfaf=_0x273dd2;return this['connectionManager'][_0x49dfaf(0x89f)](_0x42b2ea);}async[_0x273dd2(0xaf5)](){const _0x3b588d=_0x273dd2;try{await this[_0x3b588d(0x7bc)][_0x3b588d(0xaf5)]();const _0xeec130=await this[_0x3b588d(0x9b8)][_0x3b588d(0x4de)]();for(const _0x13d734 of _0xeec130)this[_0x3b588d(0x7bc)][_0x3b588d(0x26f)](_0x13d734);}catch(_0x1d5f25){throw this[_0x3b588d(0x258)](_0x1d5f25,{});}}[_0x273dd2(0xb47)](_0x4be856){const _0x44ecb3=_0x273dd2;this['localNode'][_0x44ecb3(0x6b9)]===_0x2a74a6['NodeType']['User']&&(this['localNode'][_0x44ecb3(0x941)](_0x4be856[_0x44ecb3(0x93a)]()),this[_0x44ecb3(0x61b)][_0x44ecb3(0x430)](_0x4be856[_0x44ecb3(0x84c)]()));}[_0x273dd2(0x210)]({force:_0xb927d5=!0x1},_0x438a17=!0x1){const _0x406569=_0x273dd2;if(_0x58cca5[_0x406569(0x673)](_0x406569(0x1f4),{'clusterId':this[_0x406569(0x78c)],'nodeId':this[_0x406569(0x61b)][_0x406569(0xb9d)](),'nodeType':this[_0x406569(0x61b)][_0x406569(0x6b9)]}),!_0xb927d5&&this['connectionManager'][_0x406569(0x4e3)]())throw new _0x3371e7(_0x4c9695[_0x406569(0x68a)],'Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection');_0x58cca5['processBatch'](),this[_0x406569(0x9ef)](),this['remediationManager']['close'](),this[_0x406569(0x938)]['close'](),this[_0x406569(0x48f)][_0x406569(0x210)](),this[_0x406569(0x71f)][_0x406569(0x210)](),this[_0x406569(0x7bc)][_0x406569(0x210)](),this['contentManager'][_0x406569(0x210)](_0x438a17),this[_0x406569(0x9b8)]['close']();}[_0x273dd2(0x971)](_0x2f7cc8){const _0x36f68e=_0x273dd2;try{const _0x7eefc5=this['contentManager'][_0x36f68e(0x95b)](_0x2f7cc8),_0x130d1c=this[_0x36f68e(0x7bc)][_0x36f68e(0x621)]();return this['subscriptionManager'][_0x36f68e(0x456)](_0x7eefc5,_0x130d1c),this[_0x36f68e(0x71f)][_0x36f68e(0x7ba)](_0x130d1c,_0x7eefc5),_0x7eefc5;}catch(_0xa33639){throw this[_0x36f68e(0x258)](_0xa33639,{});}}async[_0x273dd2(0xa83)](_0x13447c,_0x1c9772){const _0x3fd427=_0x273dd2;try{const _0x17ca55=this[_0x3fd427(0x841)][_0x3fd427(0x925)](_0x13447c,this[_0x3fd427(0x924)]['objectStoreConnector'],_0x1c9772),_0x57a0a4=this['connectionManager'][_0x3fd427(0x621)]();return this[_0x3fd427(0x71f)]['createOutgoingSubscription'](_0x17ca55,_0x57a0a4),this[_0x3fd427(0x71f)][_0x3fd427(0x7ba)](_0x57a0a4,_0x17ca55),await _0x17ca55[_0x3fd427(0x4bf)](),_0x17ca55;}catch(_0x1cd355){throw this[_0x3fd427(0x258)](_0x1cd355,{});}}async[_0x273dd2(0xaf4)](_0x4ea9f4,_0x4cefed){const _0x5b08e7=_0x273dd2;try{if(!this['options'][_0x5b08e7(0x31b)])throw new _0x3371e7(_0x4c9695['ExternalStorageConnectorsMissing'],_0x5b08e7(0x416));if(!(this['authNode']instanceof _0x37d2d2))throw new _0x3371e7(_0x4c9695[_0x5b08e7(0x41c)],_0x5b08e7(0x6c9));const _0x5754df=this['options'][_0x5b08e7(0x31b)]['get'](_0x4cefed);if(!_0x5754df)throw new _0x3371e7(_0x4c9695['ExternalStorageConnectorsMissing'],_0x5b08e7(0x416));const _0x7b07ba=this[_0x5b08e7(0x841)][_0x5b08e7(0xa93)](_0x4ea9f4,_0x5754df),_0x42c8e8=this[_0x5b08e7(0x7bc)][_0x5b08e7(0x621)]();return this['subscriptionManager'][_0x5b08e7(0x456)](_0x7b07ba,_0x42c8e8),this[_0x5b08e7(0x71f)][_0x5b08e7(0x7ba)](_0x42c8e8,_0x7b07ba),await _0x7b07ba[_0x5b08e7(0x485)](),_0x7b07ba;}catch(_0x64c15c){throw this[_0x5b08e7(0x258)](_0x64c15c,{});}}async[_0x273dd2(0x85b)](_0x4f5ee6,_0x552a3b,_0x2cfee7){const _0x238b4d=_0x273dd2;try{_0x2cfee7=_0x2cfee7||this[_0x238b4d(0x924)][_0x238b4d(0x8ed)];const _0x25eea2=await this[_0x238b4d(0x841)][_0x238b4d(0x29b)](_0x4f5ee6,_0x552a3b,_0x2cfee7),_0x4d6e47=this[_0x238b4d(0x7bc)][_0x238b4d(0x621)]();return this[_0x238b4d(0x71f)][_0x238b4d(0x456)](_0x25eea2,_0x4d6e47),this[_0x238b4d(0x71f)][_0x238b4d(0x7ba)](_0x4d6e47,_0x25eea2),await _0x25eea2[_0x238b4d(0x485)](),this['syncKeyValueDatabase'](_0x25eea2),_0x25eea2;}catch(_0x471710){throw this['handleError'](_0x471710,{});}}async[_0x273dd2(0x993)](_0x349871){const _0x1ff4fe=_0x273dd2;try{const _0x4b9d3d=await this[_0x1ff4fe(0x841)][_0x1ff4fe(0x47e)](_0x349871,this[_0x1ff4fe(0xc01)]),_0x2be375=this[_0x1ff4fe(0x7bc)][_0x1ff4fe(0x621)]();return this[_0x1ff4fe(0x71f)][_0x1ff4fe(0x456)](_0x4b9d3d,_0x2be375),this[_0x1ff4fe(0x71f)]['createIncomingSubscription'](_0x2be375,_0x4b9d3d),_0x4b9d3d[_0x1ff4fe(0x485)](),_0x4b9d3d;}catch(_0x1a4572){throw this['handleError'](_0x1a4572,{});}}async['openJobWorker'](_0x364c20){const _0x3417c4=_0x273dd2;throw new Error(_0x3417c4(0x47b));}async[_0x273dd2(0x6b0)](_0x1da7ea){const _0x1e07a9=_0x273dd2;try{const _0x789228=await this[_0x1e07a9(0x841)]['createGenerativeAIContext'](_0x1da7ea,this[_0x1e07a9(0xc01)]),_0x4fe625=this['connectionManager'][_0x1e07a9(0x621)]();return this[_0x1e07a9(0x71f)][_0x1e07a9(0x456)](_0x789228,_0x4fe625),this['subscriptionManager']['createIncomingSubscription'](_0x4fe625,_0x789228),_0x789228[_0x1e07a9(0x485)](),_0x789228;}catch(_0x4c3155){throw console[_0x1e07a9(0x5c5)](_0x4c3155),this['handleError'](_0x4c3155,{});}}async[_0x273dd2(0xa08)](_0x1995d9){const _0x379758=_0x273dd2;try{if(!(this[_0x379758(0x924)][_0x379758(0x417)]&&this['options'][_0x379758(0x3b4)]&&this[_0x379758(0x924)][_0x379758(0x6cb)]&&this[_0x379758(0x924)][_0x379758(0xa74)]&&this['options'][_0x379758(0x930)]))throw new _0x3371e7(_0x4c9695[_0x379758(0xb94)],_0x379758(0x8f4));if(!this[_0x379758(0x4b1)][_0x379758(0x6ee)])throw new _0x3371e7(_0x4c9695['ApiKeyMissing'],'Missing\x20OpenAI\x20API\x20key');const _0x479047=[];for(const [_0x4ef251,_0x50f87a]of this['options'][_0x379758(0x417)]){let _0x4da2da;_0x4ef251===_0x2a74a6[_0x379758(0x82f)][_0x379758(0xb8a)]&&(_0x4da2da=this[_0x379758(0x4b1)]['openaiApiKey']),_0x4ef251===_0x2a74a6[_0x379758(0x82f)][_0x379758(0x40e)]&&(_0x4da2da=this[_0x379758(0x4b1)][_0x379758(0x372)]),_0x4ef251===_0x2a74a6[_0x379758(0x82f)][_0x379758(0x67e)]&&(_0x4da2da=this['configs'][_0x379758(0xbc8)]),_0x479047[_0x379758(0x604)](new _0x50f87a(_0x4da2da));}const _0x1b14d4=[];for(const [_0x43365c,_0xf34ab5]of this[_0x379758(0x924)][_0x379758(0x3b4)]){let _0x33419c;_0x43365c===_0x2a74a6[_0x379758(0x82f)][_0x379758(0xb8a)]&&(_0x33419c=this[_0x379758(0x4b1)]['openaiApiKey']),_0x43365c===_0x2a74a6['GenerativeAIEngineType']['ElevenLabs']&&(_0x33419c=this[_0x379758(0x4b1)]['elevenLabsApiKey']),_0x1b14d4[_0x379758(0x604)](new _0xf34ab5(_0x33419c));}const _0x196cc2=new this['options']['objectStoreConnector'](_0x379758(0x1ed)),_0x521bef=new this[(_0x379758(0x924))][(_0x379758(0x6cb))](),_0x1c631f=new this['options'][(_0x379758(0xa74))](this[_0x379758(0x4b1)][_0x379758(0x6ee)]),_0x57aa89=new this[(_0x379758(0x924))][(_0x379758(0x930))]();let _0x485f22,_0x5f0314,_0x223e23,_0x41e3a8;if(this[_0x379758(0x924)][_0x379758(0x371)]){if(!this[_0x379758(0x4b1)][_0x379758(0x8e6)])throw new _0x3371e7(_0x4c9695['ApiKeyMissing'],_0x379758(0x5f1));_0x485f22=new this[(_0x379758(0x924))][(_0x379758(0x371))](this[_0x379758(0x4b1)][_0x379758(0x8e6)]);}if(this[_0x379758(0x924)][_0x379758(0x93e)]){if(!this[_0x379758(0x4b1)]['aiSearchApiKey'])throw new _0x3371e7(_0x4c9695['ApiKeyMissing'],_0x379758(0x719));_0x5f0314=new this[(_0x379758(0x924))][(_0x379758(0x93e))](this[_0x379758(0x4b1)][_0x379758(0x2e0)]);}if(this[_0x379758(0x924)][_0x379758(0x4bd)]&&(_0x223e23=new this[(_0x379758(0x924))][(_0x379758(0x4bd))]()),this[_0x379758(0x924)][_0x379758(0x534)]){if(!this[_0x379758(0x4b1)][_0x379758(0xbdc)])throw new _0x3371e7(_0x4c9695[_0x379758(0x6b6)],'Missing\x20RAG\x20API\x20key');_0x41e3a8=new Map();for(const [_0x53135e,_0x5c9c52]of this['options'][_0x379758(0x534)])_0x41e3a8[_0x379758(0x68c)](_0x53135e,new _0x5c9c52(this[_0x379758(0x4b1)][_0x379758(0xbdc)]));}return await this[_0x379758(0x841)][_0x379758(0x343)](_0x1995d9,_0x479047,_0x1b14d4,_0x196cc2,_0x521bef,_0x1c631f,_0x57aa89,_0x485f22,_0x5f0314,_0x223e23,_0x41e3a8,this[_0x379758(0x4b1)]['openaiApiKey']);}catch(_0xa76768){throw this[_0x379758(0x258)](_0xa76768,{});}}async[_0x273dd2(0x387)](_0x37991a){const _0x5bcff7=_0x273dd2;try{if(!(this[_0x5bcff7(0x924)][_0x5bcff7(0x417)]&&this[_0x5bcff7(0x924)][_0x5bcff7(0x3b4)]&&this[_0x5bcff7(0x924)][_0x5bcff7(0x6cb)]&&this[_0x5bcff7(0x924)][_0x5bcff7(0xa74)]&&this['options']['nlpLibraryConnector']))throw new _0x3371e7(_0x4c9695[_0x5bcff7(0xb94)],_0x5bcff7(0x8f4));if(!(this[_0x5bcff7(0x6c2)]instanceof _0x37d2d2))throw new _0x3371e7(_0x4c9695['NodeInvalidType'],_0x5bcff7(0x6c9));if(!this[_0x5bcff7(0x4b1)]['openaiApiKey'])throw new _0x3371e7(_0x4c9695[_0x5bcff7(0x6b6)],'Missing\x20OpenAI\x20API\x20key');const _0x15cb54=[];for(const [_0x1e6a70,_0x4b1ae7]of this[_0x5bcff7(0x924)][_0x5bcff7(0x417)]){let _0x5ecbae;_0x1e6a70===_0x2a74a6[_0x5bcff7(0x82f)][_0x5bcff7(0xb8a)]&&(_0x5ecbae=this['configs'][_0x5bcff7(0x6ee)]),_0x1e6a70===_0x2a74a6[_0x5bcff7(0x82f)][_0x5bcff7(0x40e)]&&(_0x5ecbae=this['configs'][_0x5bcff7(0x372)]),_0x1e6a70===_0x2a74a6[_0x5bcff7(0x82f)][_0x5bcff7(0x67e)]&&(_0x5ecbae=this[_0x5bcff7(0x4b1)][_0x5bcff7(0xbc8)]),_0x15cb54['push'](new _0x4b1ae7(_0x5ecbae));}const _0x6b1194=[];for(const [_0x56540f,_0xbea14]of this[_0x5bcff7(0x924)]['generativeAISpeechConnectors']){let _0x2fd3f5;_0x56540f===_0x2a74a6[_0x5bcff7(0x82f)][_0x5bcff7(0xb8a)]&&(_0x2fd3f5=this[_0x5bcff7(0x4b1)][_0x5bcff7(0x6ee)]),_0x56540f===_0x2a74a6[_0x5bcff7(0x82f)]['ElevenLabs']&&(_0x2fd3f5=this[_0x5bcff7(0x4b1)][_0x5bcff7(0x4f6)]),_0x6b1194['push'](new _0xbea14(_0x2fd3f5));}const _0x45ff99=new this[(_0x5bcff7(0x924))][(_0x5bcff7(0x95e))](_0x5bcff7(0x1ed)),_0x3194c4=new this[(_0x5bcff7(0x924))][(_0x5bcff7(0x6cb))](),_0xb3e7c9=new this[(_0x5bcff7(0x924))][(_0x5bcff7(0xa74))](this[_0x5bcff7(0x4b1)][_0x5bcff7(0x6ee)]),_0x2461db=new this['options'][(_0x5bcff7(0x930))]();let _0x16fc86,_0x50b745,_0x40bc72,_0x210279;if(this[_0x5bcff7(0x924)][_0x5bcff7(0x371)]){if(!this[_0x5bcff7(0x4b1)][_0x5bcff7(0x8e6)])throw new _0x3371e7(_0x4c9695[_0x5bcff7(0x6b6)],_0x5bcff7(0x5f1));_0x16fc86=new this[(_0x5bcff7(0x924))][(_0x5bcff7(0x371))](this[_0x5bcff7(0x4b1)][_0x5bcff7(0x8e6)]);}if(this[_0x5bcff7(0x924)]['aiSearchConnector']){if(!this['configs'][_0x5bcff7(0x2e0)])throw new _0x3371e7(_0x4c9695[_0x5bcff7(0x6b6)],'Missing\x20AI\x20search\x20API\x20key');_0x50b745=new this[(_0x5bcff7(0x924))]['aiSearchConnector'](this['configs'][_0x5bcff7(0x2e0)]);}if(this[_0x5bcff7(0x924)][_0x5bcff7(0x4bd)]&&(_0x40bc72=new this[(_0x5bcff7(0x924))]['queryFileConnector']()),this[_0x5bcff7(0x924)][_0x5bcff7(0x534)]){if(!this[_0x5bcff7(0x4b1)][_0x5bcff7(0xbdc)])throw new _0x3371e7(_0x4c9695['ApiKeyMissing'],'Missing\x20RAG\x20API\x20key');_0x210279=new Map();for(const [_0x33a7fd,_0x3aabd3]of this[_0x5bcff7(0x924)][_0x5bcff7(0x534)])_0x210279[_0x5bcff7(0x68c)](_0x33a7fd,new _0x3aabd3(this[_0x5bcff7(0x4b1)]['ragApiKey']));}const _0x529525=await this['contentManager'][_0x5bcff7(0x7eb)](_0x37991a,this[_0x5bcff7(0x6c2)],_0x15cb54,_0x6b1194,_0x45ff99,_0x3194c4,_0xb3e7c9,_0x2461db,_0x16fc86,_0x50b745,_0x40bc72,_0x210279,this['configs'][_0x5bcff7(0x6ee)]),_0x294292=this[_0x5bcff7(0x7bc)][_0x5bcff7(0x621)]();this[_0x5bcff7(0x71f)][_0x5bcff7(0x456)](_0x529525,_0x294292),this[_0x5bcff7(0x71f)]['createIncomingSubscription'](_0x294292,_0x529525);const _0x199984=this[_0x5bcff7(0x9b8)][_0x5bcff7(0x3a9)]();return await _0x529525['open'](0x0===_0x199984[_0x5bcff7(0x830)]||void 0x0),_0x529525;}catch(_0x45367f){throw this['handleError'](_0x45367f,{});}}['openGraphDatabase'](_0x33ec32){const _0x52b812=_0x273dd2;try{if(!this[_0x52b812(0x924)][_0x52b812(0x923)])throw new _0x3371e7(_0x4c9695[_0x52b812(0x6fe)],_0x52b812(0xa4c));if(!(this[_0x52b812(0x6c2)]instanceof _0x37d2d2))throw new _0x3371e7(_0x4c9695[_0x52b812(0x41c)],_0x52b812(0x6c9));const _0x5eb4e5=this[_0x52b812(0x841)][_0x52b812(0xb65)](_0x33ec32,this[_0x52b812(0x924)]['graphDatabaseConnector']),_0x4b7d5c=this['connectionManager'][_0x52b812(0x621)]();return this['subscriptionManager'][_0x52b812(0x456)](_0x5eb4e5,_0x4b7d5c),this[_0x52b812(0x71f)]['createIncomingSubscription'](_0x4b7d5c,_0x5eb4e5),_0x5eb4e5;}catch(_0x578dba){throw this[_0x52b812(0x258)](_0x578dba,{});}}[_0x273dd2(0x740)](_0x413dc3){const _0x379d8b=_0x273dd2;try{if(!this[_0x379d8b(0x924)][_0x379d8b(0x518)])throw new _0x3371e7(_0x4c9695[_0x379d8b(0x382)],_0x379d8b(0xb1b));if(!(this[_0x379d8b(0x6c2)]instanceof _0x37d2d2))throw new _0x3371e7(_0x4c9695[_0x379d8b(0x41c)],'Node\x20is\x20not\x20an\x20agent');const _0x31299b=this[_0x379d8b(0x841)][_0x379d8b(0xb13)](_0x413dc3,this[_0x379d8b(0x924)]['vectorDatabaseConnector']),_0x5d4a62=this['connectionManager'][_0x379d8b(0x621)]();return this[_0x379d8b(0x71f)][_0x379d8b(0x456)](_0x31299b,_0x5d4a62),this[_0x379d8b(0x71f)][_0x379d8b(0x7ba)](_0x5d4a62,_0x31299b),_0x31299b;}catch(_0x3d1a77){throw this[_0x379d8b(0x258)](_0x3d1a77,{});}}[_0x273dd2(0xad9)](_0x280e5c){const _0x4087a5=_0x273dd2;try{return this[_0x4087a5(0x841)]['getPubSubTopics'](_0x280e5c);}catch(_0xd5e494){throw this[_0x4087a5(0x258)](_0xd5e494,{});}}[_0x273dd2(0xb85)](_0x25cbaf){const _0x153dd0=_0x273dd2;try{return this[_0x153dd0(0x841)][_0x153dd0(0xb85)](_0x25cbaf);}catch(_0x575522){throw this[_0x153dd0(0x258)](_0x575522,{});}}[_0x273dd2(0xac4)](_0x55bb5c){const _0x193fe6=_0x273dd2;try{return this['contentManager'][_0x193fe6(0xac4)](_0x55bb5c);}catch(_0x58dadd){throw this[_0x193fe6(0x258)](_0x58dadd,{});}}[_0x273dd2(0x468)](_0x27ed57){const _0x59b8d3=_0x273dd2;try{return this[_0x59b8d3(0x841)][_0x59b8d3(0x468)](_0x27ed57);}catch(_0x415f9d){throw this[_0x59b8d3(0x258)](_0x415f9d,{});}}[_0x273dd2(0x86e)](_0x19ef04){const _0x5089af=_0x273dd2;try{return this[_0x5089af(0x841)][_0x5089af(0x86e)](_0x19ef04);}catch(_0x5134cf){throw this[_0x5089af(0x258)](_0x5134cf,{});}}[_0x273dd2(0x851)](_0x20cf0f){const _0x1b0378=_0x273dd2;try{return this[_0x1b0378(0x841)][_0x1b0378(0x851)](_0x20cf0f);}catch(_0x4c0b6d){throw this[_0x1b0378(0x258)](_0x4c0b6d,{});}}['getGenerativeAIWorkers'](_0x36a923){const _0x5d3f12=_0x273dd2;try{return this[_0x5d3f12(0x841)][_0x5d3f12(0xa63)](_0x36a923);}catch(_0x8ba43d){throw this[_0x5d3f12(0x258)](_0x8ba43d,{});}}['getGraphDatabases'](_0x23c318){const _0x790794=_0x273dd2;try{return this[_0x790794(0x841)]['getGraphDatabases'](_0x23c318);}catch(_0x2b3faf){throw this['handleError'](_0x2b3faf,{});}}[_0x273dd2(0xbb0)](_0x181b48,_0x562860){const _0x453fb4=_0x273dd2;if(!this[_0x453fb4(0x4b1)][_0x453fb4(0x1e6)][_0x453fb4(0x4aa)](_0xfed910[_0x453fb4(0x91b)]))throw new _0x3371e7(_0x4c9695['FeatureNotEnabled'],_0x453fb4(0xb93));try{return this['contentManager'][_0x453fb4(0xbb0)](_0x181b48,_0x562860);}catch(_0x13ec60){throw this[_0x453fb4(0x258)](_0x13ec60,{});}}[_0x273dd2(0x3d0)](_0xf7f12d,_0x27b276){const _0x250e9e=_0x273dd2;if(!this[_0x250e9e(0x4b1)][_0x250e9e(0x1e6)][_0x250e9e(0x4aa)](_0xfed910[_0x250e9e(0x91b)]))throw new _0x3371e7(_0x4c9695['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x250e9e(0x3d0)](_0xf7f12d,_0x27b276);}catch(_0x4695cf){throw this['handleError'](_0x4695cf,{});}}['getLocalMediaStreams'](_0x141252){const _0x510b58=_0x273dd2;if(!this[_0x510b58(0x4b1)][_0x510b58(0x1e6)][_0x510b58(0x4aa)](_0xfed910[_0x510b58(0x91b)]))throw new _0x3371e7(_0x4c9695[_0x510b58(0x9c5)],_0x510b58(0xb93));try{return this[_0x510b58(0x841)]['getLocalMediaStreams'](_0x141252);}catch(_0x5c2a55){throw this[_0x510b58(0x258)](_0x5c2a55,{});}}[_0x273dd2(0x423)](_0x4c1e82){const _0x4529ac=_0x273dd2;if(!this[_0x4529ac(0x4b1)]['features'][_0x4529ac(0x4aa)](_0xfed910['MediaStream']))throw new _0x3371e7(_0x4c9695[_0x4529ac(0x9c5)],_0x4529ac(0xb93));try{return this[_0x4529ac(0x841)][_0x4529ac(0x423)](_0x4c1e82);}catch(_0x30d8a2){throw this[_0x4529ac(0x258)](_0x30d8a2,{});}}[_0x273dd2(0xbe5)](_0x50139e){const _0x5b9713=_0x273dd2;try{return this[_0x5b9713(0x841)][_0x5b9713(0xbe5)](_0x50139e);}catch(_0x56e327){throw this[_0x5b9713(0x258)](_0x56e327,{});}}[_0x273dd2(0x2ba)](_0x5cc969,_0x2aef72){const _0x4eec1c=_0x273dd2;return this[_0x4eec1c(0x9b8)]['getDistance'](_0x5cc969,_0x2aef72);}['getLocalNode'](){const _0x7eb89=_0x273dd2;return this[_0x7eb89(0x9b8)][_0x7eb89(0xa14)]();}[_0x273dd2(0x942)](_0x14eb63){const _0x589174=_0x273dd2;try{return this[_0x589174(0x9b8)]['getRemoteNodes'](_0x14eb63);}catch(_0x574311){throw this[_0x589174(0x258)](_0x574311,{});}}[_0x273dd2(0x75e)](){const _0x33d2ed=_0x273dd2;return this[_0x33d2ed(0x7bc)][_0x33d2ed(0x75e)]();}[_0x273dd2(0x3c2)](_0x1700fd){const _0x117cbf=_0x273dd2;return this[_0x117cbf(0x9b8)][_0x117cbf(0x3c2)](_0x1700fd);}async['handleSystemEvents'](_0x583921){const _0xfc2e88=_0x273dd2;try{if(_0x58cca5[_0xfc2e88(0x3a3)](_0x57ac86[_0xfc2e88(0x344)],_0xfc2e88(0x64c),this['nodeManager']['getLocalId'](),_0x583921),_0x32906e(_0x583921,this[_0xfc2e88(0x9b8)][_0xfc2e88(0xb1f)]()))return void this['connectionManager'][_0xfc2e88(0x5c2)](_0x583921);switch(_0x583921['messageType']){case _0xe6fd3b[_0xfc2e88(0x829)]:this[_0xfc2e88(0x48f)][_0xfc2e88(0x8ba)](_0x583921),this[_0xfc2e88(0x71f)][_0xfc2e88(0x8ba)](_0x583921),this[_0xfc2e88(0x841)][_0xfc2e88(0x8ba)](_0x583921);break;case _0xe6fd3b[_0xfc2e88(0x38e)]:this[_0xfc2e88(0x71f)][_0xfc2e88(0x2b3)](_0x583921),this['connectionManager'][_0xfc2e88(0x2b3)](_0x583921),this[_0xfc2e88(0x841)][_0xfc2e88(0x2b3)](_0x583921),this[_0xfc2e88(0x9b8)][_0xfc2e88(0x2b3)](_0x583921);break;case _0xe6fd3b[_0xfc2e88(0x826)]:this[_0xfc2e88(0x7ff)][_0xfc2e88(0xbda)](_0x583921);break;case _0xe6fd3b[_0xfc2e88(0x8f5)]:this[_0xfc2e88(0x7ff)][_0xfc2e88(0x5ad)](_0x583921);break;case _0xe6fd3b[_0xfc2e88(0x336)]:this['detectionManager'][_0xfc2e88(0x893)](_0x583921);break;case _0xe6fd3b['Subscription']:_0x583921[_0xfc2e88(0x26d)][_0xfc2e88(0x6b9)]!==_0x7c8d65[_0xfc2e88(0x2ac)]?(this['subscriptionManager']['handleSubscriptionSystemEvents'](_0x583921),this[_0xfc2e88(0x841)][_0xfc2e88(0x3bd)](_0x583921)):(this[_0xfc2e88(0x841)][_0xfc2e88(0x3bd)](_0x583921),this[_0xfc2e88(0x71f)]['handleSubscriptionSystemEvents'](_0x583921));break;case _0xe6fd3b[_0xfc2e88(0x639)]:await this[_0xfc2e88(0x7bc)]['handlePeerConnectionSystemEvents'](_0x583921),this['statsManager'][_0xfc2e88(0x92a)](_0x583921),this[_0xfc2e88(0x9b8)]['handlePeerConnectionSystemEvents'](_0x583921),this['subscriptionManager']['handlePeerConnectionSystemEvents'](_0x583921);}}catch(_0x491640){throw _0x58cca5[_0xfc2e88(0x659)]('handleSystemEvents',_0x491640),this[_0xfc2e88(0x258)](_0x491640,{});}}[_0x273dd2(0x258)](_0x331c86,_0x3905a3){const _0x53ac37=_0x273dd2;if(!(_0x331c86 instanceof _0x17e91b)){if(_0x331c86 instanceof _0x3371e7)throw _0x331c86;if(!(_0x331c86 instanceof Error))throw new _0x3371e7(_0x4c9695['InternalSDKError'],_0x53ac37(0x2cd)+_0x331c86);if(!(_0x331c86 instanceof _0x4b8523))throw new _0x3371e7(_0x4c9695['InternalSDKError'],'Internal\x20error:\x20'+_0x331c86[_0x53ac37(0x512)]);switch(_0x331c86[_0x53ac37(0x1ce)]){case _0x4b8523[_0x53ac37(0xa20)]['MissingSystemTopic']:case _0x4b8523[_0x53ac37(0xa20)][_0x53ac37(0x398)]:case _0x4b8523['codes']['PeerConnectionInvalidDestination']:case _0x4b8523[_0x53ac37(0xa20)][_0x53ac37(0x3b7)]:case _0x4b8523['codes'][_0x53ac37(0x5d8)]:case _0x4b8523[_0x53ac37(0xa20)][_0x53ac37(0x885)]:case _0x4b8523[_0x53ac37(0xa20)][_0x53ac37(0x592)]:case _0x4b8523[_0x53ac37(0xa20)]['InvalidSubscriber']:case _0x4b8523[_0x53ac37(0xa20)]['SubscriptionRequestDoesNotExist']:case _0x4b8523[_0x53ac37(0xa20)][_0x53ac37(0xa64)]:case _0x4b8523[_0x53ac37(0xa20)]['SubscriptionRequestNoAnswer']:case _0x4b8523['codes'][_0x53ac37(0x209)]:}throw _0x58cca5[_0x53ac37(0x5c5)]('sdk-internal-error:\x20'+_0x331c86[_0x53ac37(0x512)],{'clusterId':this[_0x53ac37(0x78c)],'nodeId':this[_0x53ac37(0x61b)][_0x53ac37(0xb9d)](),'nodeType':this[_0x53ac37(0x61b)][_0x53ac37(0x6b9)]},_0x331c86),new _0x3371e7(_0x4c9695[_0x53ac37(0x891)],_0x53ac37(0x547)+_0x331c86['message']);}}['getConfigs'](){const _0x3c6af7=_0x273dd2;return{'mediator':this,'vendorId':this[_0x3c6af7(0x300)],'clusterId':this['clusterId'],'localNode':this['localNode']};}[_0x273dd2(0x8df)](){const _0x2fddf0=_0x273dd2;return this[_0x2fddf0(0x2fb)]['subscribe'](_0x2a0a31=>{const _0x3dd885=_0x2fddf0,_0x1f079d=_0x570a44(_0x2a0a31,this['localNode'][_0x3dd885(0xb9d)]()),_0x5bcf48=_0x2a0a31[_0x3dd885(0x6ea)]===_0xe6fd3b[_0x3dd885(0x336)]||_0x2a0a31['messageType']===_0xe6fd3b['PeerConnection']&&_0x2a0a31[_0x3dd885(0x26d)]['type']===_0x3da868[_0x3dd885(0x336)]?_0x57ac86[_0x3dd885(0xac7)]:_0x57ac86['System'];_0x58cca5[_0x3dd885(0xbb8)](_0x5bcf48,_0x2a0a31[_0x3dd885(0xb33)]+_0x3dd885(0x1d4)+_0x1f079d,_0x2a0a31),this['handleSystemEvents'](_0x2a0a31)['catch'](_0x318846=>{const _0x1013dc=_0x3dd885;console[_0x1013dc(0x5c5)](_0x318846);});});}async[_0x273dd2(0x5bf)](_0x7d8c7a){const _0x50da86=_0x273dd2,{timingLogger:_0x39b012,logger:_0x3df65c,logBeforeSync:_0xcfde,logAfterSync:_0x34b7ab}=function(_0x3272c1,_0x22a006){const _0x9ec197=a0_0x35be;if(!_0x58cca5[_0x9ec197(0x872)](_0x22a006))return _0x58cca5['debug'](_0x9ec197(0x54e)+_0x22a006),{..._0x46e324(_0x3272c1,_0x22a006),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x3a488c,logger:_0x300e5a}=_0x46e324(_0x3272c1,_0x22a006);let _0x28b2c1=0x0;return _0x28b2c1=Date['now'](),{'syncStartTime':_0x28b2c1,'timingLogger':_0x3a488c,'logger':_0x300e5a,'logBeforeSync':()=>(_0x9fc4ca(_0x22a006,'Before\x20Synchronization'),_0x3a488c[_0x9ec197(0x3a1)]()),'logAfterSync':(_0x3717f1,_0xd8f54a)=>{const _0x9f96df=_0x9ec197,_0x29cc28=Date[_0x9f96df(0x3a1)]();_0x9fc4ca(_0x22a006,'After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20'+_0xd8f54a);const _0x19b781=(_0x29cc28-_0x28b2c1)/0x3e8,_0x1f4fb1=(_0x29cc28-_0x3717f1)/0x3e8;_0x58cca5[_0x9f96df(0x3a3)](_0x22a006,_0x9f96df(0x284),_0x3272c1,_0x9f96df(0xbec)+_0x19b781[_0x9f96df(0x1ea)](0x2)+_0x9f96df(0x593),_0x9f96df(0x6f4)+_0x1f4fb1[_0x9f96df(0x1ea)](0x3)+_0x9f96df(0x593),_0x9f96df(0x481)+((_0x29cc28-_0x28b2c1)/0x3e8-_0x1f4fb1)['toFixed'](0x2)+'\x20seconds');}};}(_0x7d8c7a[_0x50da86(0xa73)](),_0x57ac86[_0x50da86(0x670)]);_0x3df65c[_0x50da86(0x3a3)]('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process');const _0x599d20=this[_0x50da86(0x9b8)]['getAncestorIds']()[_0x50da86(0x830)]>0x0;if(_0x599d20){_0x3df65c['log'](_0x50da86(0x3ea),()=>this[_0x50da86(0x9b8)][_0x50da86(0x3a9)]()),_0x39b012[_0x50da86(0xa8f)](),await Promise['all'](this[_0x50da86(0x9b8)][_0x50da86(0x3a9)]()[_0x50da86(0xb48)](async _0x39552b=>await this[_0x50da86(0x9b8)][_0x50da86(0x3c2)](_0x39552b)))[_0x50da86(0x78f)](_0x5c86d9=>_0x58cca5['warning'](_0x50da86(0x7a3),{'nodeId':this['localNode'][_0x50da86(0xb9d)](),'nodeType':this[_0x50da86(0x61b)]['type']}));const _0x3a015a=_0x3df65c[_0x50da86(0x533)](()=>this['nodeManager'][_0x50da86(0x3a9)](),[]);_0x39b012[_0x50da86(0x2f9)](_0x50da86(0x3f3)+_0x3a015a+_0x50da86(0x9ce));}_0x34b7ab(_0xcfde(),await _0x7d8c7a[_0x50da86(0x4bf)](_0x599d20,async()=>{const _0x1f434a=_0x50da86;_0x39b012['start'](),await this[_0x1f434a(0x9b8)]['isReady'](),_0x39b012[_0x1f434a(0x2f9)](_0x1f434a(0x2e2)),_0x7d8c7a[_0x1f434a(0x4bf)](!0x0,()=>{const _0x3d0750=_0x1f434a;_0x3df65c[_0x3d0750(0x3a3)]('KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.'),_0x7d8c7a['sync'](!0x1);},!0x0);}));}}class _0x5ca0df{['vendorId'];[_0x273dd2(0x78c)];[_0x273dd2(0x6c2)];[_0x273dd2(0x9e9)];['orchestrator'];constructor(_0x5970a8,_0x44c108,_0x19422b,_0x3c7bfb,_0x21e269,_0x2f8a61,_0x12f3c4=new _0x2d2c9b()){const _0x51614b=_0x273dd2;this[_0x51614b(0x300)]=_0x5970a8,this['clusterId']=_0x44c108,this[_0x51614b(0x6c2)]=_0x19422b,this[_0x51614b(0x9e9)]=_0x12f3c4,this[_0x51614b(0x51c)]=new _0x35a3ef(this[_0x51614b(0x300)],this[_0x51614b(0x78c)],_0x19422b,_0x3c7bfb,_0x21e269,_0x2f8a61,this);}async['join'](){const _0x398817=_0x273dd2;await this[_0x398817(0x51c)]['initialize'](),this[_0x398817(0x6c2)]['type']===_0x2a74a6[_0x398817(0x6e3)][_0x398817(0x3c5)]&&this[_0x398817(0x6c2)][_0x398817(0x8dd)](this[_0x398817(0x78c)],_0x44f52e=>{const _0x38efc2=_0x398817;this[_0x38efc2(0x51c)][_0x38efc2(0xb47)](_0x44f52e);});}[_0x273dd2(0x251)](_0x219465={}){const _0x450589=_0x273dd2;this[_0x450589(0x51c)]['close'](_0x219465),this[_0x450589(0x6c2)][_0x450589(0x6b9)]===_0x2a74a6[_0x450589(0x6e3)][_0x450589(0x3c5)]&&this[_0x450589(0x6c2)]['unregisterCluster'](this[_0x450589(0x78c)]),this['emit']('cluster-leave',void 0x0);}['openPubSubTopic'](_0x2a7a8d){const _0x1659d0=_0x273dd2,_0x52d857=this['orchestrator'][_0x1659d0(0x971)](_0x2a7a8d);return{'getName':_0x52d857[_0x1659d0(0x8e8)]['bind'](_0x52d857),'getOwnerId':_0x52d857[_0x1659d0(0x5ca)]['bind'](_0x52d857),'getContentType':_0x52d857['getContentType'][_0x1659d0(0x370)](_0x52d857),'publish':_0x52d857['publish'][_0x1659d0(0x370)](_0x52d857),'subscribe':_0x52d857[_0x1659d0(0x6f8)][_0x1659d0(0x370)](_0x52d857),'unsubscribe':_0x52d857[_0x1659d0(0xbf5)]['bind'](_0x52d857),'close':_0x52d857[_0x1659d0(0x210)]['bind'](_0x52d857)};}async[_0x273dd2(0xa83)](_0x589b4b,_0x230eaa){const _0xf1e585=_0x273dd2,_0x32af10=await this['orchestrator'][_0xf1e585(0xa83)](_0x589b4b,_0x230eaa);return{'getName':_0x32af10[_0xf1e585(0x8e8)][_0xf1e585(0x370)](_0x32af10),'getOwnerId':_0x32af10['getOwnerId'][_0xf1e585(0x370)](_0x32af10),'getContentType':_0x32af10['getContentType'][_0xf1e585(0x370)](_0x32af10),'publish':_0x32af10[_0xf1e585(0xb07)]['bind'](_0x32af10),'unpublish':_0x32af10[_0xf1e585(0x5fc)][_0xf1e585(0x370)](_0x32af10),'get':_0x32af10[_0xf1e585(0x266)][_0xf1e585(0x370)](_0x32af10),'list':_0x32af10[_0xf1e585(0x916)]['bind'](_0x32af10),'getSize':_0x32af10[_0xf1e585(0x506)][_0xf1e585(0x370)](_0x32af10),'subscribe':_0x32af10['subscribe'][_0xf1e585(0x370)](_0x32af10),'unsubscribe':_0x32af10[_0xf1e585(0xbf5)]['bind'](_0x32af10),'close':_0x32af10[_0xf1e585(0x210)]['bind'](_0x32af10)};}async['openExternalStorageConnection'](_0x2a2dff,_0x24acc5){const _0x58c378=_0x273dd2,_0x35d7d6=await this[_0x58c378(0x51c)][_0x58c378(0xaf4)](_0x2a2dff,_0x24acc5);return{'getName':_0x35d7d6[_0x58c378(0x8e8)][_0x58c378(0x370)](_0x35d7d6),'getOwnerId':_0x35d7d6[_0x58c378(0x5ca)][_0x58c378(0x370)](_0x35d7d6),'getContentType':_0x35d7d6['getContentType'][_0x58c378(0x370)](_0x35d7d6),'close':_0x35d7d6[_0x58c378(0x210)][_0x58c378(0x370)](_0x35d7d6),'get':_0x35d7d6[_0x58c378(0x266)][_0x58c378(0x370)](_0x35d7d6),'list':_0x35d7d6[_0x58c378(0x916)][_0x58c378(0x370)](_0x35d7d6),'subscribe':_0x35d7d6[_0x58c378(0x6f8)][_0x58c378(0x370)](_0x35d7d6),'unsubscribe':_0x35d7d6[_0x58c378(0xbf5)][_0x58c378(0x370)](_0x35d7d6)};}async[_0x273dd2(0x85b)](_0x1941da,_0x17cda7,_0x5c347d){const _0x2e5bb0=_0x273dd2,_0x170e52=await this[_0x2e5bb0(0x51c)][_0x2e5bb0(0x85b)](_0x1941da,_0x17cda7,_0x5c347d);return{'getName':_0x170e52['getName']['bind'](_0x170e52),'getOwnerId':_0x170e52[_0x2e5bb0(0x5ca)][_0x2e5bb0(0x370)](_0x170e52),'getContentType':_0x170e52[_0x2e5bb0(0x54c)][_0x2e5bb0(0x370)](_0x170e52),'getTable':_0x170e52[_0x2e5bb0(0x9a7)][_0x2e5bb0(0x370)](_0x170e52),'subscribe':_0x170e52[_0x2e5bb0(0x6f8)][_0x2e5bb0(0x370)](_0x170e52),'unsubscribe':_0x170e52[_0x2e5bb0(0xbf5)]['bind'](_0x170e52),'close':_0x170e52[_0x2e5bb0(0x210)][_0x2e5bb0(0x370)](_0x170e52)};}async[_0x273dd2(0x993)](_0x4aa1dc){const _0x1619fb=_0x273dd2,_0x46257a=await this[_0x1619fb(0x51c)][_0x1619fb(0x993)](_0x4aa1dc);return{'getName':_0x46257a[_0x1619fb(0x8e8)][_0x1619fb(0x370)](_0x46257a),'getOwnerId':_0x46257a[_0x1619fb(0x5ca)]['bind'](_0x46257a),'getContentType':_0x46257a[_0x1619fb(0x54c)][_0x1619fb(0x370)](_0x46257a),'createJob':_0x46257a['createJob'][_0x1619fb(0x370)](_0x46257a),'getJob':_0x46257a[_0x1619fb(0xa13)][_0x1619fb(0x370)](_0x46257a),'getJobs':_0x46257a[_0x1619fb(0x6bc)][_0x1619fb(0x370)](_0x46257a),'close':_0x46257a[_0x1619fb(0x210)][_0x1619fb(0x370)](_0x46257a)};}async[_0x273dd2(0x53e)](_0x4af780){const _0x38d3ca=_0x273dd2,_0x3d1f18=await this[_0x38d3ca(0x51c)][_0x38d3ca(0x53e)](_0x4af780);return{'close':_0x3d1f18[_0x38d3ca(0x210)]['bind'](_0x3d1f18)};}async['openGenerativeAIContext'](_0x51bf22){const _0x1d81e7=_0x273dd2,_0x5036da=await this[_0x1d81e7(0x51c)][_0x1d81e7(0x6b0)](_0x51bf22);return{'createAIJob':_0x5036da[_0x1d81e7(0x8c9)][_0x1d81e7(0x370)](_0x5036da),'getDataBucketIds':_0x5036da[_0x1d81e7(0x8fb)]['bind'](_0x5036da),'close':_0x5036da[_0x1d81e7(0x210)]['bind'](_0x5036da)};}async[_0x273dd2(0xa08)](_0xd213ee){const _0x46a208=_0x273dd2,_0x4800ec=await this['orchestrator'][_0x46a208(0xa08)](_0xd213ee);return{'createAIJob':_0x4800ec[_0x46a208(0x8c9)][_0x46a208(0x370)](_0x4800ec),'getDataBucketIds':_0x4800ec[_0x46a208(0x8fb)][_0x46a208(0x370)](_0x4800ec),'close':_0x4800ec[_0x46a208(0x210)][_0x46a208(0x370)](_0x4800ec)};}async[_0x273dd2(0x387)](_0x51500f){const _0x512e59=_0x273dd2,_0x54c4ec=await this['orchestrator'][_0x512e59(0x387)](_0x51500f);return{'close':_0x54c4ec['close'][_0x512e59(0x370)](_0x54c4ec)};}[_0x273dd2(0x5a3)](_0x55bd65){const _0x35dd94=_0x273dd2,_0x45ab6a=this[_0x35dd94(0x51c)]['openGraphDatabase'](_0x55bd65);return{'getName':_0x45ab6a['getName'][_0x35dd94(0x370)](_0x45ab6a),'getOwnerId':_0x45ab6a['getOwnerId']['bind'](_0x45ab6a),'getContentType':_0x45ab6a[_0x35dd94(0x54c)]['bind'](_0x45ab6a),'addNode':_0x45ab6a['addNode']['bind'](_0x45ab6a),'addEdge':_0x45ab6a['addEdge'][_0x35dd94(0x370)](_0x45ab6a),'getContent':_0x45ab6a[_0x35dd94(0x3f6)][_0x35dd94(0x370)](_0x45ab6a),'remove':_0x45ab6a['remove']['bind'](_0x45ab6a),'saveToDisk':_0x45ab6a['saveToDisk'][_0x35dd94(0x370)](_0x45ab6a),'loadFromDisk':_0x45ab6a[_0x35dd94(0x952)][_0x35dd94(0x370)](_0x45ab6a),'close':_0x45ab6a[_0x35dd94(0x210)][_0x35dd94(0x370)](_0x45ab6a)};}[_0x273dd2(0x740)](_0x1dcb79){const _0x5f34f1=_0x273dd2,_0x355e1d=this[_0x5f34f1(0x51c)][_0x5f34f1(0x740)](_0x1dcb79);return{'getName':_0x355e1d[_0x5f34f1(0x8e8)][_0x5f34f1(0x370)](_0x355e1d),'getOwnerId':_0x355e1d['getOwnerId'][_0x5f34f1(0x370)](_0x355e1d),'getContentType':_0x355e1d[_0x5f34f1(0x54c)][_0x5f34f1(0x370)](_0x355e1d),'search':_0x355e1d['search'][_0x5f34f1(0x370)](_0x355e1d),'insert':_0x355e1d[_0x5f34f1(0x97d)][_0x5f34f1(0x370)](_0x355e1d),'remove':_0x355e1d[_0x5f34f1(0x852)][_0x5f34f1(0x370)](_0x355e1d),'saveToDisk':_0x355e1d[_0x5f34f1(0x8e3)]['bind'](_0x355e1d),'loadFromDisk':_0x355e1d['loadFromDisk']['bind'](_0x355e1d),'close':_0x355e1d['close'][_0x5f34f1(0x370)](_0x355e1d)};}['getPubSubTopics'](_0x1c1de4){const _0x407043=_0x273dd2;return this[_0x407043(0x51c)][_0x407043(0xad9)](_0x1c1de4)[_0x407043(0xb48)](_0x48ed35=>({'getName':_0x48ed35['getName'][_0x407043(0x370)](_0x48ed35),'getOwnerId':_0x48ed35['getOwnerId'][_0x407043(0x370)](_0x48ed35),'getContentType':_0x48ed35[_0x407043(0x54c)][_0x407043(0x370)](_0x48ed35),'publish':_0x48ed35[_0x407043(0xb07)][_0x407043(0x370)](_0x48ed35),'subscribe':_0x48ed35[_0x407043(0x6f8)][_0x407043(0x370)](_0x48ed35),'unsubscribe':_0x48ed35[_0x407043(0xbf5)][_0x407043(0x370)](_0x48ed35),'close':_0x48ed35[_0x407043(0x210)][_0x407043(0x370)](_0x48ed35)}));}['getObjectStoreBuckets'](_0x243134){const _0x7bc1bf=_0x273dd2;return this[_0x7bc1bf(0x51c)][_0x7bc1bf(0xb85)](_0x243134)['map'](_0x2d6c73=>({'getName':_0x2d6c73[_0x7bc1bf(0x8e8)]['bind'](_0x2d6c73),'getOwnerId':_0x2d6c73['getOwnerId'][_0x7bc1bf(0x370)](_0x2d6c73),'getContentType':_0x2d6c73[_0x7bc1bf(0x54c)][_0x7bc1bf(0x370)](_0x2d6c73),'publish':_0x2d6c73['publish'][_0x7bc1bf(0x370)](_0x2d6c73),'unpublish':_0x2d6c73[_0x7bc1bf(0x5fc)][_0x7bc1bf(0x370)](_0x2d6c73),'get':_0x2d6c73[_0x7bc1bf(0x266)]['bind'](_0x2d6c73),'list':_0x2d6c73[_0x7bc1bf(0x916)][_0x7bc1bf(0x370)](_0x2d6c73),'getSize':_0x2d6c73['getSize']['bind'](_0x2d6c73),'subscribe':_0x2d6c73[_0x7bc1bf(0x6f8)]['bind'](_0x2d6c73),'unsubscribe':_0x2d6c73['unsubscribe'][_0x7bc1bf(0x370)](_0x2d6c73),'close':_0x2d6c73[_0x7bc1bf(0x210)][_0x7bc1bf(0x370)](_0x2d6c73)}));}[_0x273dd2(0xac4)](_0x344fbe){const _0x779a44=_0x273dd2;return this[_0x779a44(0x51c)][_0x779a44(0xac4)](_0x344fbe)[_0x779a44(0xb48)](_0x5db1f7=>({'getName':_0x5db1f7[_0x779a44(0x8e8)][_0x779a44(0x370)](_0x5db1f7),'getOwnerId':_0x5db1f7['getOwnerId'][_0x779a44(0x370)](_0x5db1f7),'getContentType':_0x5db1f7[_0x779a44(0x54c)][_0x779a44(0x370)](_0x5db1f7),'close':_0x5db1f7[_0x779a44(0x210)][_0x779a44(0x370)](_0x5db1f7),'get':_0x5db1f7['get'][_0x779a44(0x370)](_0x5db1f7),'list':_0x5db1f7[_0x779a44(0x916)][_0x779a44(0x370)](_0x5db1f7),'subscribe':_0x5db1f7['subscribe'][_0x779a44(0x370)](_0x5db1f7),'unsubscribe':_0x5db1f7[_0x779a44(0xbf5)][_0x779a44(0x370)](_0x5db1f7)}));}[_0x273dd2(0x468)](_0x435438){const _0x41ba72=_0x273dd2;return this[_0x41ba72(0x51c)][_0x41ba72(0x468)](_0x435438)[_0x41ba72(0xb48)](_0x4cdf4b=>({'getName':_0x4cdf4b[_0x41ba72(0x8e8)][_0x41ba72(0x370)](_0x4cdf4b),'getOwnerId':_0x4cdf4b[_0x41ba72(0x5ca)][_0x41ba72(0x370)](_0x4cdf4b),'getContentType':_0x4cdf4b[_0x41ba72(0x54c)][_0x41ba72(0x370)](_0x4cdf4b),'getTable':_0x4cdf4b['getTable'][_0x41ba72(0x370)](_0x4cdf4b),'subscribe':_0x4cdf4b['subscribe'][_0x41ba72(0x370)](_0x4cdf4b),'unsubscribe':_0x4cdf4b['unsubscribe'][_0x41ba72(0x370)](_0x4cdf4b),'close':_0x4cdf4b[_0x41ba72(0x210)]['bind'](_0x4cdf4b)}));}[_0x273dd2(0x86e)](_0x490c92){const _0x28bb7d=_0x273dd2;return this[_0x28bb7d(0x51c)][_0x28bb7d(0x86e)](_0x490c92)[_0x28bb7d(0xb48)](_0x223257=>({'createAIJob':_0x223257[_0x28bb7d(0x8c9)][_0x28bb7d(0x370)](_0x223257),'getDataBucketIds':_0x223257[_0x28bb7d(0x8fb)][_0x28bb7d(0x370)](_0x223257),'close':_0x223257[_0x28bb7d(0x210)]['bind'](_0x223257)}));}[_0x273dd2(0x851)](_0x2bd99f){const _0xcded07=_0x273dd2;return this[_0xcded07(0x51c)][_0xcded07(0x851)](_0x2bd99f)[_0xcded07(0xb48)](_0x351738=>({'createAIJob':_0x351738[_0xcded07(0x8c9)]['bind'](_0x351738),'getDataBucketIds':_0x351738['getDataBucketIds'][_0xcded07(0x370)](_0x351738),'close':_0x351738[_0xcded07(0x210)][_0xcded07(0x370)](_0x351738)}));}[_0x273dd2(0xa63)](_0x2fcd10){const _0x5ba95c=_0x273dd2;return this[_0x5ba95c(0x51c)][_0x5ba95c(0xa63)](_0x2fcd10)[_0x5ba95c(0xb48)](_0x56cef8=>({'close':_0x56cef8[_0x5ba95c(0x210)][_0x5ba95c(0x370)](_0x56cef8)}));}[_0x273dd2(0x944)](_0x3d1fb1,_0x41c999){const _0x40aa19=_0x273dd2,_0x35ddc4=this['orchestrator'][_0x40aa19(0xbb0)](_0x3d1fb1,_0x41c999);return{'getLabel':_0x35ddc4['getLabel'][_0x40aa19(0x370)](_0x35ddc4),'getOwnerId':_0x35ddc4[_0x40aa19(0x5ca)]['bind'](_0x35ddc4),'getContentType':_0x35ddc4[_0x40aa19(0x54c)][_0x40aa19(0x370)](_0x35ddc4),'getMediaStream':_0x35ddc4[_0x40aa19(0x3d7)]['bind'](_0x35ddc4),'setPriority':_0x35ddc4['setPriority'][_0x40aa19(0x370)](_0x35ddc4),'unpublish':_0x35ddc4[_0x40aa19(0x5fc)]['bind'](_0x35ddc4)};}[_0x273dd2(0xac3)](_0x46dbfb,_0x37bd42){const _0x1f6231=_0x273dd2,_0x305bee=this[_0x1f6231(0x51c)]['createLocalDynamicMediaStream'](_0x46dbfb,_0x37bd42);return{'getLabel':_0x305bee[_0x1f6231(0xa73)]['bind'](_0x305bee),'getOwnerId':_0x305bee['getOwnerId'][_0x1f6231(0x370)](_0x305bee),'getContentType':_0x305bee[_0x1f6231(0x54c)]['bind'](_0x305bee),'setPriority':_0x305bee[_0x1f6231(0x947)][_0x1f6231(0x370)](_0x305bee),'unpublish':_0x305bee[_0x1f6231(0x5fc)]['bind'](_0x305bee),'getMediaStream':_0x305bee['getMediaStream'][_0x1f6231(0x370)](_0x305bee),'addTrack':_0x305bee[_0x1f6231(0x43b)][_0x1f6231(0x370)](_0x305bee),'removeTrack':_0x305bee[_0x1f6231(0x23e)][_0x1f6231(0x370)](_0x305bee),'replaceTrack':_0x305bee[_0x1f6231(0x45b)][_0x1f6231(0x370)](_0x305bee),'setTransformations':_0x305bee['setTransformations']['bind'](_0x305bee)};}[_0x273dd2(0x1ef)](_0x3390a4){const _0x1d7750=_0x273dd2;return this[_0x1d7750(0x51c)][_0x1d7750(0x1ef)](_0x3390a4)[_0x1d7750(0xb48)](_0x40d855=>({'getLabel':_0x40d855['getLabel'][_0x1d7750(0x370)](_0x40d855),'getOwnerId':_0x40d855[_0x1d7750(0x5ca)][_0x1d7750(0x370)](_0x40d855),'getContentType':_0x40d855[_0x1d7750(0x54c)][_0x1d7750(0x370)](_0x40d855),'getMediaStream':_0x40d855[_0x1d7750(0x3d7)][_0x1d7750(0x370)](_0x40d855),'setPriority':_0x40d855['setPriority'][_0x1d7750(0x370)](_0x40d855),'unpublish':_0x40d855[_0x1d7750(0x5fc)][_0x1d7750(0x370)](_0x40d855)}));}[_0x273dd2(0x423)](_0x3d1ad6){const _0x152340=_0x273dd2;return this[_0x152340(0x51c)]['getRemoteMediaStreams'](_0x3d1ad6)['map'](_0x58b868=>({'getLabel':_0x58b868[_0x152340(0xa73)][_0x152340(0x370)](_0x58b868),'getOwnerId':_0x58b868[_0x152340(0x5ca)][_0x152340(0x370)](_0x58b868),'getContentType':_0x58b868[_0x152340(0x54c)]['bind'](_0x58b868),'getMediaStream':_0x58b868[_0x152340(0x3d7)]['bind'](_0x58b868),'subscribe':_0x58b868[_0x152340(0x6f8)][_0x152340(0x370)](_0x58b868),'unsubscribe':_0x58b868[_0x152340(0xbf5)][_0x152340(0x370)](_0x58b868),'getAvailableTrackKinds':_0x58b868['getAvailableTrackKinds'][_0x152340(0x370)](_0x58b868),'update':_0x58b868['update'][_0x152340(0x370)](_0x58b868),'onProviderChange':_0x58b868['onProviderChange'][_0x152340(0x370)](_0x58b868)}));}[_0x273dd2(0x832)](_0x2ead2a){const _0x484229=_0x273dd2;return this[_0x484229(0x51c)][_0x484229(0x832)](_0x2ead2a)['map'](_0x311a89=>({'getName':_0x311a89[_0x484229(0x8e8)]['bind'](_0x311a89),'getOwnerId':_0x311a89['getOwnerId'][_0x484229(0x370)](_0x311a89),'getContentType':_0x311a89[_0x484229(0x54c)][_0x484229(0x370)](_0x311a89),'addNode':_0x311a89['addNode']['bind'](_0x311a89),'addEdge':_0x311a89['addEdge']['bind'](_0x311a89),'getContent':_0x311a89[_0x484229(0x3f6)][_0x484229(0x370)](_0x311a89),'remove':_0x311a89['remove'][_0x484229(0x370)](_0x311a89),'saveToDisk':_0x311a89[_0x484229(0x8e3)][_0x484229(0x370)](_0x311a89),'loadFromDisk':_0x311a89[_0x484229(0x952)][_0x484229(0x370)](_0x311a89),'close':_0x311a89[_0x484229(0x210)][_0x484229(0x370)](_0x311a89)}));}[_0x273dd2(0xbe5)](_0x1902e2){const _0x5a36f6=_0x273dd2;return this[_0x5a36f6(0x51c)][_0x5a36f6(0xbe5)](_0x1902e2)['map'](_0xa345e7=>({'getName':_0xa345e7[_0x5a36f6(0x8e8)][_0x5a36f6(0x370)](_0xa345e7),'getOwnerId':_0xa345e7[_0x5a36f6(0x5ca)][_0x5a36f6(0x370)](_0xa345e7),'getContentType':_0xa345e7[_0x5a36f6(0x54c)][_0x5a36f6(0x370)](_0xa345e7),'search':_0xa345e7[_0x5a36f6(0x2bc)][_0x5a36f6(0x370)](_0xa345e7),'insert':_0xa345e7[_0x5a36f6(0x97d)][_0x5a36f6(0x370)](_0xa345e7),'remove':_0xa345e7[_0x5a36f6(0x852)][_0x5a36f6(0x370)](_0xa345e7),'saveToDisk':_0xa345e7[_0x5a36f6(0x8e3)][_0x5a36f6(0x370)](_0xa345e7),'loadFromDisk':_0xa345e7[_0x5a36f6(0x952)][_0x5a36f6(0x370)](_0xa345e7),'close':_0xa345e7[_0x5a36f6(0x210)][_0x5a36f6(0x370)](_0xa345e7)}));}[_0x273dd2(0xa14)](){const _0x3a3c29=_0x273dd2,_0x44a038=this[_0x3a3c29(0x51c)]['getLocalNode']();switch(_0x44a038['type']){case _0x2a74a6[_0x3a3c29(0x6e3)][_0x3a3c29(0x3c5)]:return{'type':_0x2a74a6['NodeType']['User'],'getId':_0x44a038[_0x3a3c29(0xb9d)][_0x3a3c29(0x370)](_0x44a038),'getDisplayName':_0x44a038['getDisplayName'][_0x3a3c29(0x370)](_0x44a038),'getEmail':_0x44a038[_0x3a3c29(0x93a)]['bind'](_0x44a038),'getRemoteConnections':_0x44a038[_0x3a3c29(0x72e)][_0x3a3c29(0x370)](_0x44a038),'setDisplayName':_0x44a038[_0x3a3c29(0x430)]['bind'](_0x44a038),'setEmail':_0x44a038[_0x3a3c29(0x941)][_0x3a3c29(0x370)](_0x44a038)};case _0x2a74a6[_0x3a3c29(0x6e3)][_0x3a3c29(0x207)]:default:return{'type':_0x2a74a6[_0x3a3c29(0x6e3)][_0x3a3c29(0x207)],'getId':_0x44a038[_0x3a3c29(0xb9d)]['bind'](_0x44a038),'getRemoteConnections':_0x44a038[_0x3a3c29(0x72e)][_0x3a3c29(0x370)](_0x44a038)};}}[_0x273dd2(0x942)](_0x2d5894){const _0x4bdec7=_0x273dd2;return this['orchestrator'][_0x4bdec7(0x942)](_0x2d5894)[_0x4bdec7(0xb48)](_0x5f530c=>{const _0x5671b8=_0x4bdec7;switch(_0x5f530c[_0x5671b8(0x6b9)]){case _0x2a74a6[_0x5671b8(0x6e3)]['User']:return{'type':_0x2a74a6[_0x5671b8(0x6e3)]['User'],'getId':_0x5f530c['getId'][_0x5671b8(0x370)](_0x5f530c),'getDisplayName':_0x5f530c[_0x5671b8(0x84c)]['bind'](_0x5f530c),'getEmail':_0x5f530c['getEmail']['bind'](_0x5f530c),'getRemoteConnections':_0x5f530c['getRemoteConnections'][_0x5671b8(0x370)](_0x5f530c)};case _0x2a74a6[_0x5671b8(0x6e3)][_0x5671b8(0x207)]:return{'type':_0x2a74a6[_0x5671b8(0x6e3)][_0x5671b8(0x207)],'getId':_0x5f530c[_0x5671b8(0xb9d)]['bind'](_0x5f530c),'getRemoteConnections':_0x5f530c[_0x5671b8(0x72e)]['bind'](_0x5f530c)};default:throw new _0x3371e7(_0x4c9695[_0x5671b8(0x41c)],_0x5671b8(0x21f));}});}['on']=(..._0x483cce)=>{const _0x5c9a49=_0x273dd2;this[_0x5c9a49(0x9e9)]['on'](..._0x483cce);};[_0x273dd2(0x743)]=(..._0x35d4a5)=>this[_0x273dd2(0x9e9)]['emit'](..._0x35d4a5);[_0x273dd2(0x903)](..._0x55e42a){this['eventEmitter']['off'](..._0x55e42a);}}class _0x4968c6{['id'];[_0x273dd2(0x441)];[_0x273dd2(0x230)];[_0x273dd2(0x6b9)]=_0x2a74a6['NodeType'][_0x273dd2(0x3c5)];[_0x273dd2(0x92c)]=new Map();[_0x273dd2(0x6a3)]=_0x2d1945();constructor(_0x500af3,_0x4aeede,_0x2d1de5){const _0x890f14=_0x273dd2;this['id']=_0x500af3,this['displayName']=_0x4aeede,this[_0x890f14(0x230)]=_0x2d1de5;}['getId'](){return this['id'];}['getDisplayName'](){return this['displayName'];}['getEmail'](){const _0x49a9e0=_0x273dd2;return this[_0x49a9e0(0x230)];}['setDisplayName'](_0x4b4073){const _0x30340b=_0x273dd2;this[_0x30340b(0x441)]!==_0x4b4073&&(this['displayName']=_0x4b4073,this['observer'][_0x30340b(0xb07)](this));}[_0x273dd2(0x941)](_0x59ee1c){const _0x327d33=_0x273dd2;this[_0x327d33(0x230)]!==_0x59ee1c&&(this['email']=_0x59ee1c,this[_0x327d33(0x6a3)][_0x327d33(0xb07)](this));}[_0x273dd2(0x8dd)](_0x3d26b7,_0x317885){const _0xc13259=_0x273dd2;if(this[_0xc13259(0x92c)]['has'](_0x3d26b7))return;const _0x50a1fb=this['observer'][_0xc13259(0x6f8)](_0x317885);this[_0xc13259(0x92c)][_0xc13259(0x68c)](_0x3d26b7,_0x50a1fb);}[_0x273dd2(0x8e5)](_0x57e5d8){const _0x10d09c=_0x273dd2;if(!this[_0x10d09c(0x92c)][_0x10d09c(0xb9f)](_0x57e5d8))return;const _0x247237=this[_0x10d09c(0x92c)][_0x10d09c(0x266)](_0x57e5d8);_0x247237&&_0x247237(),this[_0x10d09c(0x92c)][_0x10d09c(0x997)](_0x57e5d8);}}class _0x6b153e{[_0x273dd2(0x300)];[_0x273dd2(0x7fb)];constructor(_0x2b311c){const _0x5e4858=_0x273dd2;this[_0x5e4858(0x300)]=_0x2b311c;}async[_0x273dd2(0x1fd)](_0x1f57ed){const _0x3f5260=_0x273dd2,_0x10d0c0=await(0x0,_0x11558b[_0x3f5260(0x6e8)])(_0x4d7ce4[_0x3f5260(0x53d)](),_0x3f5260(0x968))({'uid':_0x3f5260(0x61c)+this[_0x3f5260(0x300)]+_0x3f5260(0x61c)+_0x1f57ed['id']}),_0x3f9455=await(0x0,_0x447715['signInWithCustomToken'])(_0x4d7ce4[_0x3f5260(0x729)](),_0x10d0c0[_0x3f5260(0x9b6)][_0x3f5260(0x3a5)]);this[_0x3f5260(0x7fb)]=_0x3f9455[_0x3f5260(0x7fb)];}async[_0x273dd2(0x440)](){const _0xc86e1c=_0x273dd2;await(0x0,_0x447715[_0xc86e1c(0x440)])(_0x4d7ce4[_0xc86e1c(0x729)]());}[_0x273dd2(0x72d)](){const _0x1e9c5e=_0x273dd2;return this['user']?.[_0x1e9c5e(0x72d)]()??Promise[_0x1e9c5e(0xc24)](_0x1e9c5e(0x4a0));}}class _0x2b4269{static [_0x273dd2(0x4e8)];['featureSupport']=[];constructor(){}static[_0x273dd2(0x64f)](){const _0x26093c=_0x273dd2;return _0x2b4269[_0x26093c(0x4e8)]||(_0x2b4269['instance']=new _0x2b4269()),_0x2b4269[_0x26093c(0x4e8)];}['initialize'](){const _0x3d42cc=_0x273dd2;this['checkWebRTC'](),this[_0x3d42cc(0xb45)](),this[_0x3d42cc(0xb7c)](),this['checkAudioVolume'](),this[_0x3d42cc(0x6de)](),this[_0x3d42cc(0x203)](),this[_0x3d42cc(0x8c5)](),this['checkBackgrounds'](),this[_0x3d42cc(0x90f)](),this['checkAudioContext'](),_0x58cca5['log'](_0x57ac86[_0x3d42cc(0xa90)],_0x3d42cc(0xa40),{'featureSupport':this[_0x3d42cc(0x2c7)]});}[_0x273dd2(0x797)](_0x58b3cc){const _0x218299=_0x273dd2,_0x317951=this[_0x218299(0x2c7)][_0x218299(0x77e)](_0x1fe166=>_0x1fe166[_0x218299(0xa7b)]===_0x58b3cc);return!!_0x317951&&_0x317951[_0x218299(0x7c7)];}[_0x273dd2(0x64d)](_0x651ba9){const _0x5b8b5b=_0x273dd2;_0x58cca5[_0x5b8b5b(0x586)]('support',{'nodeId':_0x651ba9[_0x5b8b5b(0xb9d)](),'nodeType':_0x651ba9['type'],'data':{'featureSupport':this[_0x5b8b5b(0x2c7)]}});}[_0x273dd2(0x6bb)](){const _0x29f674=_0x273dd2,_0x1ba44d=_0x490d1a[_0x29f674(0xa05)];let _0x157cdd=!0x1;_0x29f674(0xa9d)==typeof RTCPeerConnection&&_0x29f674(0xa9d)==typeof RTCIceCandidate&&_0x29f674(0xa9d)==typeof RTCSessionDescription?_0x157cdd=!0x0:_0x58cca5[_0x29f674(0x3a3)](_0x57ac86[_0x29f674(0xa90)],_0x29f674(0xa67)+_0x1ba44d+_0x29f674(0x3e7)),this['featureSupport']['push']({'name':_0x1ba44d,'supported':_0x157cdd});}['checkMediaStream'](){const _0xf66240=_0x273dd2,_0x2b05c6=_0x490d1a[_0xf66240(0x91b)];let _0x3730d1=!0x1;_0xf66240(0xa9d)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&'object'==typeof navigator&&_0xf66240(0x4a2)==typeof navigator[_0xf66240(0x245)]&&_0xf66240(0xa9d)==typeof navigator[_0xf66240(0x245)][_0xf66240(0xad6)]?_0x3730d1=!0x0:_0x58cca5[_0xf66240(0x3a3)](_0x57ac86[_0xf66240(0xa90)],'Support:\x20'+_0x2b05c6+_0xf66240(0x3e7)),this[_0xf66240(0x2c7)]['push']({'name':_0x2b05c6,'supported':_0x3730d1});}[_0x273dd2(0xb7c)](){const _0x34109a=_0x273dd2,_0x372c70=_0x490d1a[_0x34109a(0x754)];let _0x401b4c=!0x1;_0x34109a(0x4a2)==typeof navigator&&_0x34109a(0x4a2)==typeof navigator['mediaDevices']&&_0x34109a(0xa9d)==typeof navigator[_0x34109a(0x245)][_0x34109a(0x788)]?_0x401b4c=!0x0:_0x58cca5[_0x34109a(0x3a3)](_0x57ac86[_0x34109a(0xa90)],_0x34109a(0xa67)+_0x372c70+_0x34109a(0x3e7)),this['featureSupport'][_0x34109a(0x604)]({'name':_0x372c70,'supported':_0x401b4c});}[_0x273dd2(0x7f7)](){const _0x29e161=_0x273dd2,_0x57cbca=_0x490d1a[_0x29e161(0xb3b)];let _0x27e407=!0x1;_0x29e161(0xa9d)!=typeof AudioContext||_0x29e161(0xa9d)!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||_0x29e161(0xa9d)!=typeof MediaStreamAudioSourceNode?_0x58cca5[_0x29e161(0x3a3)](_0x57ac86[_0x29e161(0xa90)],_0x29e161(0xa67)+_0x57cbca+_0x29e161(0x3e7)):_0x27e407=!0x0,this[_0x29e161(0x2c7)][_0x29e161(0x604)]({'name':_0x57cbca,'supported':_0x27e407});}[_0x273dd2(0x6de)](){const _0x5d25a0=_0x273dd2,_0x5318d2=_0x490d1a[_0x5d25a0(0xb23)];let _0x1d1242=!0x1;_0x5d25a0(0x4a2)==typeof navigator&&_0x5d25a0(0x4a2)==typeof navigator[_0x5d25a0(0x245)]&&'function'==typeof navigator[_0x5d25a0(0x245)][_0x5d25a0(0xa44)]&&_0x5d25a0(0xa9d)==typeof MediaDeviceInfo?_0x1d1242=!0x0:_0x58cca5[_0x5d25a0(0x3a3)](_0x57ac86[_0x5d25a0(0xa90)],_0x5d25a0(0xa67)+_0x5318d2+_0x5d25a0(0x3e7)),this['featureSupport'][_0x5d25a0(0x604)]({'name':_0x5318d2,'supported':_0x1d1242});}['checkAudioOutput'](){const _0x238421=_0x273dd2,_0x170653=_0x490d1a[_0x238421(0x810)];let _0x4d54b7=!0x1;'object'==typeof document&&_0x238421(0xa9d)==typeof document['createElement'](_0x238421(0x758))[_0x238421(0x1ff)]?_0x4d54b7=!0x0:_0x58cca5[_0x238421(0x3a3)](_0x57ac86[_0x238421(0xa90)],_0x238421(0xa67)+_0x170653+'\x20not\x20supported'),this[_0x238421(0x2c7)][_0x238421(0x604)]({'name':_0x170653,'supported':_0x4d54b7});}async[_0x273dd2(0x8c5)](){const _0x564177=_0x273dd2,_0x524f21=_0x490d1a[_0x564177(0x9c7)];let _0x49d8db=!0x1;try{const _0x12de2d=document[_0x564177(0x294)](_0x564177(0xbf4));if(MediaRecorder&&MediaSource&&_0x12de2d[_0x564177(0x8ab)]){const _0x5fd44b=_0x12de2d[_0x564177(0x8ab)](),_0x3a0a1b=new MediaRecorder(_0x5fd44b);_0x3a0a1b['start'](),await new Promise(_0x24a645=>setTimeout(_0x24a645,0x7d0)),_0x3a0a1b[_0x564177(0x630)](),_0x49d8db='inactive'===_0x3a0a1b['state'];}}catch(_0x1adfbf){_0x58cca5[_0x564177(0x3a3)](_0x57ac86[_0x564177(0xa90)],_0x564177(0xa67)+_0x524f21+_0x564177(0x55d),_0x1adfbf);}this['featureSupport'][_0x564177(0x604)]({'name':_0x524f21,'supported':_0x49d8db}),_0x49d8db||_0x58cca5[_0x564177(0x3a3)](_0x57ac86[_0x564177(0xa90)],'Support:\x20'+_0x524f21+'\x20not\x20supported');}['checkBackgrounds'](){const _0x1621e7=_0x273dd2,_0x4aaa72=_0x490d1a[_0x1621e7(0x750)];let _0x26ab65=!0x1;try{document['createElement'](_0x1621e7(0xbf4))[_0x1621e7(0x8ab)]&&(_0x26ab65=!0x0);}catch(_0x3cc7ad){_0x58cca5[_0x1621e7(0x3a3)](_0x57ac86[_0x1621e7(0xa90)],_0x1621e7(0xa67)+_0x4aaa72+'\x20check\x20failed',_0x3cc7ad);}this[_0x1621e7(0x2c7)][_0x1621e7(0x604)]({'name':_0x4aaa72,'supported':_0x26ab65}),_0x26ab65||_0x58cca5[_0x1621e7(0x3a3)](_0x57ac86[_0x1621e7(0xa90)],_0x1621e7(0xa67)+_0x4aaa72+_0x1621e7(0x3e7));}[_0x273dd2(0x90f)](){const _0x1938e3=_0x273dd2,_0x214798=_0x490d1a[_0x1938e3(0x7f8)];let _0x7890a1=!0x1;try{const _0x488a02=document['createElement'](_0x1938e3(0xbf4));WebGLRenderingContext&&_0x488a02[_0x1938e3(0xa6f)](_0x1938e3(0x9ab))&&(_0x7890a1=!0x0);}catch(_0x4b64a7){_0x58cca5['log'](_0x57ac86[_0x1938e3(0xa90)],_0x1938e3(0xa67)+_0x214798+_0x1938e3(0x55d),_0x4b64a7);}this[_0x1938e3(0x2c7)][_0x1938e3(0x604)]({'name':_0x214798,'supported':_0x7890a1}),_0x7890a1||_0x58cca5[_0x1938e3(0x3a3)](_0x57ac86[_0x1938e3(0xa90)],_0x1938e3(0xa67)+_0x214798+_0x1938e3(0x3e7));}[_0x273dd2(0x224)](){const _0x3ea2e5=_0x273dd2,_0x4142e7=_0x490d1a[_0x3ea2e5(0x404)];let _0x3984e8=!0x1;_0x3ea2e5(0xa9d)==typeof AudioContext?_0x3984e8=!0x0:_0x58cca5[_0x3ea2e5(0x3a3)](_0x57ac86[_0x3ea2e5(0xa90)],_0x3ea2e5(0xa67)+_0x4142e7+_0x3ea2e5(0x3e7)),this['featureSupport'][_0x3ea2e5(0x604)]({'name':_0x4142e7,'supported':_0x3984e8});}}const _0x55d129=_0x2b4269[_0x273dd2(0x64f)]();class _0x2d7c26{static ['instance'];static [_0x273dd2(0xbf5)];static ['mode'];[_0x273dd2(0x9a3)];['vendorId'];['options'];[_0x273dd2(0x4b1)];[_0x273dd2(0x920)]=new Map();[_0x273dd2(0x7c4)];constructor(_0x5afceb,_0x445820,_0x8bf541){const _0x3768a9=_0x273dd2;this[_0x3768a9(0x300)]=_0x5afceb,this[_0x3768a9(0x4b1)]=_0x445820,this['authService']=new _0x6b153e(this['vendorId']),_0x55d129[_0x3768a9(0xaf5)](),this[_0x3768a9(0x924)]={'audioContext':_0x8bf541?.[_0x3768a9(0x873)]??(_0x55d129[_0x3768a9(0x797)](_0x490d1a[_0x3768a9(0x404)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x8bf541?.[_0x3768a9(0x87b)]??0x1,'minConnections':_0x8bf541?.['minConnections']??0x3,'maxConnections':_0x8bf541?.['maxConnections']??(_0x8bf541?.[_0x3768a9(0x38b)]&&0x4*_0x8bf541['minConnections'])??0xc,'maxDistance':_0x8bf541?.[_0x3768a9(0xba0)]??0xa,'maxFps':_0x8bf541?.['maxFps']??0x18,'maxBpp':_0x8bf541?.[_0x3768a9(0xa45)]??0.12,'objectStoreConnector':_0x8bf541?.[_0x3768a9(0x95e)]??_0x2cb5cd[_0x3768a9(0x62a)],'externalStorageConnectors':_0x8bf541?.[_0x3768a9(0x31b)],'keyValueDatabaseConnector':_0x8bf541?.[_0x3768a9(0x8ed)]??_0x3ba684[_0x3768a9(0x675)],'peerConnectionConnector':_0x8bf541?.[_0x3768a9(0xb76)]??_0x626a1e[_0x3768a9(0xbfb)],'generativeAIWorkerConnectors':_0x8bf541?.[_0x3768a9(0x417)],'generativeAISpeechConnectors':_0x8bf541?.[_0x3768a9(0x3b4)],'vectorDatabaseConnector':_0x8bf541?.[_0x3768a9(0x518)],'graphDatabaseConnector':_0x8bf541?.[_0x3768a9(0x923)],'documentParserConnector':_0x8bf541?.[_0x3768a9(0x6cb)],'fileConnector':_0x8bf541?.[_0x3768a9(0xa74)],'nlpLibraryConnector':_0x8bf541?.[_0x3768a9(0x930)],'searchConnector':_0x8bf541?.[_0x3768a9(0x371)],'aiSearchConnector':_0x8bf541?.[_0x3768a9(0x93e)],'queryFileConnector':_0x8bf541?.[_0x3768a9(0x4bd)],'ragConnectors':_0x8bf541?.[_0x3768a9(0x534)]},_0x8bf541?.[_0x3768a9(0x434)]&&this['options'][_0x3768a9(0x873)]&&_0x35fbea[_0x3768a9(0x642)](this['options']['audioContext']),_0x58cca5[_0x3768a9(0x522)](this[_0x3768a9(0x300)]),_0x8bf541?.[_0x3768a9(0x472)]&&_0x58cca5[_0x3768a9(0xad5)](_0x8bf541['loggingConnectors']);}static async['getInstance'](_0x37c505,_0x52dcf8,_0xb49270,_0xe840fe,_0x1e7da1){const _0x54764b=_0x273dd2;this[_0x54764b(0x480)]=_0xb49270;const _0x3b26fb=await this[_0x54764b(0x2bd)](_0x37c505,_0x52dcf8,_0x1e7da1);return _0x2d7c26[_0x54764b(0x4e8)]||(_0x2d7c26[_0x54764b(0x4e8)]=new _0x2d7c26(_0x37c505,_0x3b26fb,_0xe840fe)),{'close':_0x2d7c26[_0x54764b(0x4e8)][_0x54764b(0x210)][_0x54764b(0x370)](_0x2d7c26['instance']),'authenticateUser':_0x2d7c26[_0x54764b(0x4e8)][_0x54764b(0x51a)]['bind'](_0x2d7c26['instance']),'authenticateAgent':_0x2d7c26[_0x54764b(0x4e8)][_0x54764b(0x63d)][_0x54764b(0x370)](_0x2d7c26[_0x54764b(0x4e8)]),'validateKey':_0x2d7c26[_0x54764b(0x4e8)][_0x54764b(0x6e4)][_0x54764b(0x370)](_0x2d7c26[_0x54764b(0x4e8)]),'joinCluster':_0x2d7c26[_0x54764b(0x4e8)][_0x54764b(0x4d8)][_0x54764b(0x370)](_0x2d7c26[_0x54764b(0x4e8)])};}static async[_0x273dd2(0xae2)](){const _0x36d290=_0x273dd2;return _0x4d7ce4[_0x36d290(0x83c)]();}static[_0x273dd2(0x7b4)](){return _0x495699['isProduction'];}async['close'](_0x4b7c1f){const _0x2f2e51=_0x273dd2;this['clusters'][_0x2f2e51(0xb9b)](_0x274928=>{const _0x4c81d1=_0x2f2e51;_0x274928[_0x4c81d1(0x903)](),_0x274928[_0x4c81d1(0x251)](_0x4b7c1f);}),this[_0x2f2e51(0x920)][_0x2f2e51(0x320)](),this[_0x2f2e51(0x924)][_0x2f2e51(0x873)]&&_0x35fbea[_0x2f2e51(0x220)](),_0x2d7c26[_0x2f2e51(0xbf5)]?.(),_0x2d7c26[_0x2f2e51(0xbf5)]=void 0x0,this['authContext']=void 0x0,await this['authService'][_0x2f2e51(0x440)](),_0x2d7c26[_0x2f2e51(0x4e8)]=void 0x0;}static async[_0x273dd2(0x2bd)](_0x22fda4,_0x7a3c3b,_0xe2eebd){const _0x594160=_0x273dd2;if(!this[_0x594160(0x480)])throw new _0x3371e7(_0x4c9695[_0x594160(0x5f8)],_0x594160(0xb43));let _0x5dc300;try{_0x5dc300=await(0x0,_0x11558b[_0x594160(0x6e8)])(_0x4d7ce4[_0x594160(0x53d)](),_0x594160(0x4fb))({'vendorId':_0x22fda4,'accessToken':_0x7a3c3b,'secretKey':_0xe2eebd});}catch(_0x431885){throw new _0x3371e7(_0x4c9695[_0x594160(0x281)],_0x594160(0x63e));}if(!this[_0x594160(0x9c1)](_0x5dc300[_0x594160(0x9b6)]))throw new _0x3371e7(_0x4c9695[_0x594160(0x281)],_0x594160(0x63e));const _0x4bb4d6=_0x5dc300[_0x594160(0x9b6)];return _0x4bb4d6[_0x594160(0x1e6)]||(_0x4bb4d6[_0x594160(0x1e6)]=[]),this['unsubscribe']||(this['unsubscribe']=_0x35fbea['setInterval'](async()=>{const _0x314c72=_0x594160;try{const _0xde5fa2=await this[_0x314c72(0x2bd)](_0x22fda4,_0x7a3c3b,_0xe2eebd);this[_0x314c72(0x480)]===_0x2a74a6[_0x314c72(0x6e3)]['Agent']&&(_0xde5fa2[_0x314c72(0x355)]=_0xde5fa2[_0x314c72(0x355)][_0x314c72(0x57c)](_0x3f1d4d=>_0x3f1d4d[_0x314c72(0x2d3)][_0x314c72(0xb97)](_0x314c72(0x900)))),_0x4bb4d6[_0x314c72(0x355)]=_0xde5fa2[_0x314c72(0x355)];}catch(_0x180c76){}},0x1b7740)),_0x4bb4d6;}async['authenticateUser'](_0x5314ef){const _0xbe5b8=_0x273dd2;if(_0x2d7c26[_0xbe5b8(0x480)]!==_0x2a74a6[_0xbe5b8(0x6e3)][_0xbe5b8(0x3c5)])throw new _0x3371e7(_0x4c9695[_0xbe5b8(0x41c)],_0xbe5b8(0x950));await this['authService'][_0xbe5b8(0x1fd)](_0x5314ef);const _0x267257=new _0x4968c6(_0x5314ef['id'],_0x5314ef['displayName'],_0x5314ef[_0xbe5b8(0x230)]);return this[_0xbe5b8(0x7c4)]={'node':_0x267257},_0x55d129[_0xbe5b8(0x64d)](_0x267257),{'type':_0x2a74a6[_0xbe5b8(0x6e3)]['User'],'getId':_0x267257['getId'][_0xbe5b8(0x370)](_0x267257),'getDisplayName':_0x267257[_0xbe5b8(0x84c)][_0xbe5b8(0x370)](_0x267257),'getEmail':_0x267257[_0xbe5b8(0x93a)]['bind'](_0x267257),'setDisplayName':_0x267257['setDisplayName'][_0xbe5b8(0x370)](_0x267257),'setEmail':_0x267257['setEmail'][_0xbe5b8(0x370)](_0x267257)};}async[_0x273dd2(0x63d)](_0x50a69e){const _0x28b2c7=_0x273dd2;if(_0x2d7c26[_0x28b2c7(0x480)]!==_0x2a74a6['NodeType'][_0x28b2c7(0x207)])throw new _0x3371e7(_0x4c9695[_0x28b2c7(0x41c)],_0x28b2c7(0x950));const {id:_0x5870a3,groupId:_0x51ebd4}=_0x50a69e,_0x3846f5=await(0x0,_0x5dec29['getDoc'])((0x0,_0x5dec29[_0x28b2c7(0x6c8)])(_0x4d7ce4['getFirestore'](),_0x28b2c7(0x767)+this['vendorId']+_0x28b2c7(0x2f4)+_0x51ebd4));if(!_0x3846f5[_0x28b2c7(0x330)]())throw new _0x3371e7(_0x4c9695[_0x28b2c7(0x40a)],'Agent\x20group\x20not\x20found');const _0x44046f=_0x3846f5[_0x28b2c7(0x9b6)]();await this[_0x28b2c7(0x9a3)][_0x28b2c7(0x1fd)]({'id':_0x5870a3});const _0x467999=new _0x37d2d2(_0x5870a3,_0x51ebd4,this[_0x28b2c7(0x300)],_0x44046f);return this['authContext']={'node':_0x467999},_0x55d129[_0x28b2c7(0x64d)](_0x467999),this['connectAgent'](_0x467999),{'type':_0x2a74a6[_0x28b2c7(0x6e3)][_0x28b2c7(0x207)],'getId':_0x467999[_0x28b2c7(0xb9d)][_0x28b2c7(0x370)](_0x467999),'onConfigurationChange':_0x467999[_0x28b2c7(0x5cf)][_0x28b2c7(0x370)](_0x467999),'setReportCapacity':_0x467999[_0x28b2c7(0x24e)]['bind'](_0x467999)};}async[_0x273dd2(0x6e4)](_0x5e4e1d,_0x2923c9){const _0x1ec2cd=_0x273dd2,_0x122472=await(0x0,_0x5dec29['getDoc'])((0x0,_0x5dec29[_0x1ec2cd(0x6c8)])(_0x4d7ce4[_0x1ec2cd(0x4c1)](),_0x1ec2cd(0x72b)+_0x5e4e1d));if(!_0x122472[_0x1ec2cd(0x330)]()){const _0x5dae92=atob(_0x5e4e1d)[_0x1ec2cd(0xa62)](':'),_0x21e908=_0x5dae92[_0x1ec2cd(0xbd6)](),_0x5b3286=_0x5dae92[_0x1ec2cd(0x98e)](':');if(!_0x21e908||!_0x5b3286)throw new _0x3371e7(_0x4c9695[_0x1ec2cd(0x281)],_0x1ec2cd(0x8fd));try{return await(0x0,_0x11558b[_0x1ec2cd(0x6e8)])(_0x4d7ce4[_0x1ec2cd(0x53d)](),_0x1ec2cd(0x4fb))({'vendorId':_0x21e908,'accessToken':_0x5b3286,'origin':_0x2923c9}),_0x21e908;}catch(_0x58bd28){throw new _0x3371e7(_0x4c9695['InvalidAccess'],_0x1ec2cd(0xbd7)+(_0x58bd28 instanceof Error?_0x58bd28[_0x1ec2cd(0x512)]:_0x1ec2cd(0x352)));}}return _0x122472[_0x1ec2cd(0x9b6)]()[_0x1ec2cd(0x300)];}async[_0x273dd2(0x4d8)](_0x346587,_0x3cd85d){const _0x1c667e=_0x273dd2;if(!this[_0x1c667e(0x7c4)])throw new _0x3371e7(_0x4c9695['NodeNotAuthenticated'],'Node\x20not\x20authenticated');if(this[_0x1c667e(0x7c4)]['node'][_0x1c667e(0x6b9)]!==_0x2a74a6[_0x1c667e(0x6e3)][_0x1c667e(0x3c5)])throw new _0x3371e7(_0x4c9695[_0x1c667e(0xad0)],_0x1c667e(0x951));if(this[_0x1c667e(0x920)][_0x1c667e(0xb9f)](_0x346587))throw new _0x3371e7(_0x4c9695[_0x1c667e(0x5c4)],_0x1c667e(0x8ac));const _0x817e7e=new _0x5ca0df(this[_0x1c667e(0x300)],_0x346587,this[_0x1c667e(0x7c4)][_0x1c667e(0xb50)],this[_0x1c667e(0x9a3)],this[_0x1c667e(0x924)],this['configs']);return!0x0!==_0x3cd85d&&await _0x817e7e[_0x1c667e(0x98e)](),this[_0x1c667e(0x926)](_0x346587,_0x817e7e),_0x58cca5[_0x1c667e(0x586)]('join-cluster',{'clusterId':_0x346587,'nodeId':this[_0x1c667e(0x7c4)][_0x1c667e(0xb50)]['getId'](),'nodeType':this[_0x1c667e(0x7c4)][_0x1c667e(0xb50)][_0x1c667e(0x6b9)]}),{'leave':_0x817e7e[_0x1c667e(0x251)]['bind'](_0x817e7e),'getLocalNode':_0x817e7e['getLocalNode'][_0x1c667e(0x370)](_0x817e7e),'openPubSubTopic':_0x817e7e['openPubSubTopic']['bind'](_0x817e7e),'openObjectStoreBucket':_0x817e7e[_0x1c667e(0xa83)][_0x1c667e(0x370)](_0x817e7e),'openExternalStorageConnection':_0x817e7e[_0x1c667e(0xaf4)][_0x1c667e(0x370)](_0x817e7e),'openKeyValueDatabase':_0x817e7e[_0x1c667e(0x85b)][_0x1c667e(0x370)](_0x817e7e),'openGenerativeAIContext':_0x817e7e[_0x1c667e(0x6b0)][_0x1c667e(0x370)](_0x817e7e),'openGenerativeAIContextStandalone':_0x817e7e['openGenerativeAIContextStandalone'][_0x1c667e(0x370)](_0x817e7e),'openGenerativeAIWorker':_0x817e7e[_0x1c667e(0x387)][_0x1c667e(0x370)](_0x817e7e),'openGraphDatabase':_0x817e7e[_0x1c667e(0x5a3)][_0x1c667e(0x370)](_0x817e7e),'openVectorDatabase':_0x817e7e['openVectorDatabase'][_0x1c667e(0x370)](_0x817e7e),'publishLocalMediaStream':_0x817e7e[_0x1c667e(0x944)][_0x1c667e(0x370)](_0x817e7e),'publishLocalDynamicMediaStream':_0x817e7e[_0x1c667e(0xac3)][_0x1c667e(0x370)](_0x817e7e),'getPubSubTopics':_0x817e7e['getPubSubTopics'][_0x1c667e(0x370)](_0x817e7e),'getObjectStoreBuckets':_0x817e7e[_0x1c667e(0xb85)][_0x1c667e(0x370)](_0x817e7e),'getExternalStorageConnections':_0x817e7e[_0x1c667e(0xac4)][_0x1c667e(0x370)](_0x817e7e),'getKeyValueDatabases':_0x817e7e[_0x1c667e(0x468)][_0x1c667e(0x370)](_0x817e7e),'getGenerativeAIContexts':_0x817e7e[_0x1c667e(0x86e)]['bind'](_0x817e7e),'getGenerativeAIContextsStandalone':_0x817e7e['getGenerativeAIContextsStandalone']['bind'](_0x817e7e),'getGenerativeAIWorkers':_0x817e7e[_0x1c667e(0xa63)][_0x1c667e(0x370)](_0x817e7e),'getGraphDatabases':_0x817e7e['getGraphDatabases']['bind'](_0x817e7e),'getVectorDatabases':_0x817e7e[_0x1c667e(0xbe5)][_0x1c667e(0x370)](_0x817e7e),'getLocalMediaStreams':_0x817e7e[_0x1c667e(0x1ef)][_0x1c667e(0x370)](_0x817e7e),'getRemoteMediaStreams':_0x817e7e[_0x1c667e(0x423)][_0x1c667e(0x370)](_0x817e7e),'getRemoteNodes':_0x817e7e[_0x1c667e(0x942)][_0x1c667e(0x370)](_0x817e7e),'on':_0x817e7e['on'][_0x1c667e(0x370)](_0x817e7e),'off':_0x817e7e[_0x1c667e(0x903)][_0x1c667e(0x370)](_0x817e7e)};}async['connectAgent'](_0x239669){const _0x575dcb=_0x273dd2,_0x209b46=new _0x5ca0df(this['vendorId'],_0x575dcb(0x1ed),_0x239669,this[_0x575dcb(0x9a3)],this[_0x575dcb(0x924)],this[_0x575dcb(0x4b1)]);await _0x209b46[_0x575dcb(0x98e)](),this['addCluster'](_0x575dcb(0x1ed),_0x209b46),_0x58cca5[_0x575dcb(0x866)](_0x575dcb(0xa78),_0x575dcb(0x1ed)),await _0x209b46[_0x575dcb(0x387)](_0x575dcb(0x1ed)),_0x58cca5[_0x575dcb(0x866)](_0x575dcb(0x805),'crewdle');}['addCluster'](_0x1aef3d,_0x4ce97b){const _0x45e194=_0x273dd2;this['clusters'][_0x45e194(0x68c)](_0x1aef3d,_0x4ce97b),_0x4ce97b['on'](_0x45e194(0x7c1),()=>{const _0x20f95e=_0x45e194;_0x4ce97b[_0x20f95e(0x903)](),this[_0x20f95e(0x920)][_0x20f95e(0x997)](_0x1aef3d);});}static['isInternalSDKConfigs'](_0x486ce4){const _0x184746=_0x273dd2;return void 0x0!==_0x486ce4[_0x184746(0x355)];}}return _0x33c193;})())));